const a0_0x22fdc2=a0_0x113b;(function(_0x3ddc40,_0x3305c8){const _0x3496ca=a0_0x113b,_0x59dbae=_0x3ddc40();while(!![]){try{const _0x24eeb5=parseInt(_0x3496ca(0x395))/0x1*(parseInt(_0x3496ca(0x657))/0x2)+-parseInt(_0x3496ca(0x371))/0x3*(-parseInt(_0x3496ca(0x309))/0x4)+parseInt(_0x3496ca(0x48d))/0x5+parseInt(_0x3496ca(0x6c1))/0x6+-parseInt(_0x3496ca(0x5bf))/0x7+-parseInt(_0x3496ca(0x585))/0x8+-parseInt(_0x3496ca(0x23a))/0x9*(parseInt(_0x3496ca(0x459))/0xa);if(_0x24eeb5===_0x3305c8)break;else _0x59dbae['push'](_0x59dbae['shift']());}catch(_0x52b77a){_0x59dbae['push'](_0x59dbae['shift']());}}}(a0_0x2087,0xbb7ce));var yi=Object['create'],Ms=Object['defineProperty'],bi=Object[a0_0x22fdc2(0x3ef)],Si=Object[a0_0x22fdc2(0x468)],Ei=Object[a0_0x22fdc2(0x6dc)],vi=Object[a0_0x22fdc2(0x330)][a0_0x22fdc2(0x244)],Ni=(_0x57f8d0,_0x4994e6,_0x47bc42,_0xe7621b)=>{const _0x77b8ea=a0_0x22fdc2;if(_0x4994e6&&typeof _0x4994e6==_0x77b8ea(0x1c0)||typeof _0x4994e6=='function'){for(let _0x31db30 of Si(_0x4994e6))!vi[_0x77b8ea(0x61f)](_0x57f8d0,_0x31db30)&&_0x31db30!==_0x47bc42&&Ms(_0x57f8d0,_0x31db30,{'get':()=>_0x4994e6[_0x31db30],'enumerable':!(_0xe7621b=bi(_0x4994e6,_0x31db30))||_0xe7621b[_0x77b8ea(0x526)]});}return _0x57f8d0;},M=(_0x1b01f5,_0x13fcbb,_0x28be8b)=>(_0x28be8b=_0x1b01f5!=null?yi(Ei(_0x1b01f5)):{},Ni(_0x13fcbb||!_0x1b01f5||!_0x1b01f5[a0_0x22fdc2(0x442)]?Ms(_0x28be8b,a0_0x22fdc2(0x421),{'value':_0x1b01f5,'enumerable':!0x0}):_0x28be8b,_0x1b01f5)),pi=M(require(a0_0x22fdc2(0x28d))),Rs=require('fs'),As=require(a0_0x22fdc2(0x728)),Is=require(a0_0x22fdc2(0x553)),De=require('path'),Y=process[a0_0x22fdc2(0x5a7)](),j=(0x0,De[a0_0x22fdc2(0x69d)])(Y,a0_0x22fdc2(0x2c8)),Ts=(0x0,De[a0_0x22fdc2(0x69d)])(Y,a0_0x22fdc2(0x5b5)),Ht=(0x0,De[a0_0x22fdc2(0x69d)])(Y,'store','auth'),Os=require('class-validator'),zt=class{constructor(){const _0x2c3716=a0_0x22fdc2;this[_0x2c3716(0x5ac)]();}[a0_0x22fdc2(0x71b)](_0x464e80){const _0x5e86f0=a0_0x22fdc2;return this[_0x5e86f0(0x457)][_0x464e80];}['loadEnv'](){const _0x2e42f2=a0_0x22fdc2;this['env']=process['env']?.[_0x2e42f2(0x630)]!=='true'?this['envYaml']():this[_0x2e42f2(0x2bb)](),this['env'][_0x2e42f2(0x58c)]=process['env']?.[_0x2e42f2(0x484)]==='PROD',process['env']?.[_0x2e42f2(0x630)]===_0x2e42f2(0x48a)&&(this['env']['SERVER'][_0x2e42f2(0x3ff)]=_0x2e42f2(0x374),this[_0x2e42f2(0x457)][_0x2e42f2(0x51f)][_0x2e42f2(0x24d)]=Number[_0x2e42f2(0x5c7)](process['env']?.[_0x2e42f2(0x279)]??_0x2e42f2(0x6f4)));}['envYaml'](){const _0x1df70c=a0_0x22fdc2;return(0x0,As[_0x1df70c(0x3cb)])((0x0,Rs[_0x1df70c(0x736)])((0x0,Is[_0x1df70c(0x69d)])(Ts,_0x1df70c(0x724)),{'encoding':_0x1df70c(0x49d)}));}['envProcess'](){const _0x3240d0=a0_0x22fdc2;return{'SERVER':{'TYPE':process[_0x3240d0(0x457)][_0x3240d0(0x628)],'PORT':Number[_0x3240d0(0x5c7)](process['env'][_0x3240d0(0x279)])},'CORS':{'ORIGIN':process[_0x3240d0(0x457)]['CORS_ORIGIN'][_0x3240d0(0x289)](','),'METHODS':process[_0x3240d0(0x457)][_0x3240d0(0x1fe)][_0x3240d0(0x289)](','),'CREDENTIALS':process[_0x3240d0(0x457)]?.[_0x3240d0(0x22f)]===_0x3240d0(0x48a)},'SSL_CONF':{'PRIVKEY':process[_0x3240d0(0x457)]?.[_0x3240d0(0x248)],'FULLCHAIN':process[_0x3240d0(0x457)]?.[_0x3240d0(0x22a)]},'STORE':{'CLEANING_INTERVAL':Number[_0x3240d0(0x40c)](process['env']?.[_0x3240d0(0x5ef)])?Number[_0x3240d0(0x5c7)](process[_0x3240d0(0x457)][_0x3240d0(0x5ef)]):void 0x0,'MESSAGES':process[_0x3240d0(0x457)]?.['STORE_MESSAGE']===_0x3240d0(0x48a),'CONTACTS':process['env']?.[_0x3240d0(0x28e)]===_0x3240d0(0x48a),'CHATS':process[_0x3240d0(0x457)]?.['STORE_CHATS']===_0x3240d0(0x48a)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x3240d0(0x3d0)],'PORT':Number[_0x3240d0(0x5c7)](process[_0x3240d0(0x457)]?.[_0x3240d0(0x3d0)]),'USER':process['env'][_0x3240d0(0x653)],'PASSWORD':process[_0x3240d0(0x457)][_0x3240d0(0x600)],'URI':process[_0x3240d0(0x457)][_0x3240d0(0x3f0)],'DB_PREFIX_NAME':process[_0x3240d0(0x457)][_0x3240d0(0x6d9)]},'ENABLED':process[_0x3240d0(0x457)]?.[_0x3240d0(0x66d)]==='true'},'REDIS':{'ENABLED':process['env']?.['REDIS_ENABLED']===_0x3240d0(0x48a),'URI':process[_0x3240d0(0x457)][_0x3240d0(0x6a4)],'PREFIX_KEY':process[_0x3240d0(0x457)][_0x3240d0(0x65c)]},'LOG':{'LEVEL':process[_0x3240d0(0x457)]?.[_0x3240d0(0x334)][_0x3240d0(0x289)](','),'COLOR':process[_0x3240d0(0x457)]?.['LOG_COLOR']===_0x3240d0(0x48a)},'DEL_INSTANCE':(0x0,Os[_0x3240d0(0x5f4)])(process[_0x3240d0(0x457)]?.['DEL_INSTANCE'])?process['env']['DEL_INSTANCE']==='true':Number['parseInt'](process['env'][_0x3240d0(0x388)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x3240d0(0x457)][_0x3240d0(0x39e)]?process[_0x3240d0(0x457)]['WEBHOOK_MAP']===_0x3240d0(0x48a):!0x1,'GLOBAL':{'URL':process[_0x3240d0(0x457)]?.['WEBHOOK_GLOBAL_URL'],'ENABLED':process[_0x3240d0(0x457)]?.[_0x3240d0(0x1fd)]===_0x3240d0(0x48a)},'EVENTS':{'STATUS_INSTANCE':process[_0x3240d0(0x457)]?.[_0x3240d0(0x6d6)]===_0x3240d0(0x48a),'QRCODE_UPDATED':process[_0x3240d0(0x457)]?.[_0x3240d0(0x2e3)]==='true','MESSAGES_SET':process['env']?.[_0x3240d0(0x580)]==='true','MESSAGES_UPSERT':process[_0x3240d0(0x457)]?.[_0x3240d0(0x6fe)]==='true','MESSAGES_UPDATE':process[_0x3240d0(0x457)]?.[_0x3240d0(0x5ca)]==='true','SEND_MESSAGE':process[_0x3240d0(0x457)]?.[_0x3240d0(0x678)]==='true','CONTACTS_SET':process[_0x3240d0(0x457)]?.[_0x3240d0(0x61a)]===_0x3240d0(0x48a),'CONTACTS_UPDATE':process[_0x3240d0(0x457)]?.[_0x3240d0(0x799)]==='true','CONTACTS_UPSERT':process[_0x3240d0(0x457)]?.['WEBHOOK_EVENTS_CONTACTS_UPSERT']==='true','PRESENCE_UPDATE':process[_0x3240d0(0x457)]?.[_0x3240d0(0x417)]===_0x3240d0(0x48a),'CHATS_SET':process[_0x3240d0(0x457)]?.[_0x3240d0(0x1f2)]==='true','CHATS_UPDATE':process[_0x3240d0(0x457)]?.[_0x3240d0(0x3fb)]===_0x3240d0(0x48a),'CHATS_UPSERT':process[_0x3240d0(0x457)]?.['WEBHOOK_EVENTS_CHATS_UPSERT']===_0x3240d0(0x48a),'CHATS_DELETE':process[_0x3240d0(0x457)]?.[_0x3240d0(0x5dd)]===_0x3240d0(0x48a),'CONNECTION_UPDATE':process[_0x3240d0(0x457)]?.[_0x3240d0(0x683)]==='true','GROUPS_UPSERT':process[_0x3240d0(0x457)]?.[_0x3240d0(0x404)]==='true','GROUP_UPDATE':process[_0x3240d0(0x457)]?.[_0x3240d0(0x569)]===_0x3240d0(0x48a),'GROUP_PARTICIPANTS_UPDATE':process[_0x3240d0(0x457)]?.[_0x3240d0(0x35e)]==='true','NEW_JWT_TOKEN':process[_0x3240d0(0x457)]?.[_0x3240d0(0x383)]===_0x3240d0(0x48a)}},'CONFIG_SESSION_PHONE':{'CLIENT':process['env']?.[_0x3240d0(0x671)]||_0x3240d0(0x467),'NAME':process['env']?.['CONFIG_SESSION_PHONE_NAME']||_0x3240d0(0x2da)},'QRCODE':{'LIMIT':Number['parseInt'](process[_0x3240d0(0x457)][_0x3240d0(0x547)])||0x5},'TRIAL_AD':process[_0x3240d0(0x457)]?.[_0x3240d0(0x212)],'TRIAL_INSTANCE_NAME':process['env']?.[_0x3240d0(0x3c9)],'AUTHENTICATION':{'TYPE':process[_0x3240d0(0x457)][_0x3240d0(0x769)],'API_KEY':{'KEY':process[_0x3240d0(0x457)][_0x3240d0(0x1cc)]},'JWT':{'EXPIRIN_IN':Number[_0x3240d0(0x40c)](process[_0x3240d0(0x457)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x3240d0(0x5c7)](process[_0x3240d0(0x457)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x3240d0(0x457)][_0x3240d0(0x464)]}}};}},E=new zt(),gi=M(require('cors')),me=M(require(a0_0x22fdc2(0x446))),vs=require('path'),Kt=M(require('dayjs')),Qt=(_0x37dd51=>(_0x37dd51['LOG']='\x1b[32m',_0x37dd51[a0_0x22fdc2(0x59e)]=a0_0x22fdc2(0x30c),_0x37dd51[a0_0x22fdc2(0x31f)]=a0_0x22fdc2(0x4c0),_0x37dd51[a0_0x22fdc2(0x1e0)]=a0_0x22fdc2(0x2ee),_0x37dd51[a0_0x22fdc2(0x4d4)]='\x1b[36m',_0x37dd51['VERBOSE']='\x1b[37m',_0x37dd51['DARK']='\x1b[30m',_0x37dd51))(Qt||{}),Ds=(_0x2aa274=>(_0x2aa274[a0_0x22fdc2(0x1ec)]=a0_0x22fdc2(0x203),_0x2aa274['DARK']=a0_0x22fdc2(0x573),_0x2aa274['INFO']=a0_0x22fdc2(0x6d2),_0x2aa274[a0_0x22fdc2(0x31f)]=a0_0x22fdc2(0x68f),_0x2aa274[a0_0x22fdc2(0x1e0)]='\x1b[31m%s\x1b[0m',_0x2aa274[a0_0x22fdc2(0x4d4)]='\x1b[36m%s\x1b[0m',_0x2aa274['VERBOSE']=a0_0x22fdc2(0x471),_0x2aa274))(Ds||{}),_s=(_0x3d2b0e=>(_0x3d2b0e[a0_0x22fdc2(0x1ec)]=a0_0x22fdc2(0x1ec),_0x3d2b0e['WARN']=a0_0x22fdc2(0x31f),_0x3d2b0e[a0_0x22fdc2(0x59e)]='INFO',_0x3d2b0e[a0_0x22fdc2(0x54a)]=a0_0x22fdc2(0x54a),_0x3d2b0e[a0_0x22fdc2(0x1e0)]=a0_0x22fdc2(0x1e0),_0x3d2b0e[a0_0x22fdc2(0x4d4)]=a0_0x22fdc2(0x4d4),_0x3d2b0e[a0_0x22fdc2(0x26c)]='VERBOSE',_0x3d2b0e))(_s||{}),Ps=(_0x2244e9=>(_0x2244e9[a0_0x22fdc2(0x1ec)]=a0_0x22fdc2(0x48b),_0x2244e9[a0_0x22fdc2(0x59e)]=a0_0x22fdc2(0x6b6),_0x2244e9[a0_0x22fdc2(0x31f)]='\x1b[43m',_0x2244e9[a0_0x22fdc2(0x54a)]='\x1b[40m',_0x2244e9[a0_0x22fdc2(0x1e0)]=a0_0x22fdc2(0x3b7),_0x2244e9['DEBUG']=a0_0x22fdc2(0x20f),_0x2244e9['VERBOSE']='\x1b[47m',_0x2244e9))(Ps||{}),C=class{constructor(_0x47f82a=a0_0x22fdc2(0x69f)){const _0x15509f=a0_0x22fdc2;this[_0x15509f(0x426)]=_0x47f82a,this[_0x15509f(0x6fa)]=E;}[a0_0x22fdc2(0x529)](_0xc6af2d){const _0x44d12e=a0_0x22fdc2;this[_0x44d12e(0x426)]=_0xc6af2d;}['console'](_0x2cf5de,_0x38e026){const _0x2a64c6=a0_0x22fdc2;let _0x369b76=[];this[_0x2a64c6(0x6fa)][_0x2a64c6(0x71b)](_0x2a64c6(0x1ec))[_0x2a64c6(0x56b)][_0x2a64c6(0x3a1)](_0x4ac37c=>_0x369b76['push'](_s[_0x4ac37c]));let _0x9b5dbe=typeof _0x2cf5de;_0x369b76[_0x2a64c6(0x353)](_0x38e026)&&(E['get']('LOG')[_0x2a64c6(0x324)]?(console[_0x2a64c6(0x2d0)](_0x2a64c6(0x532)+Ds[_0x38e026],_0x2a64c6(0x535),(0x0,Kt[_0x2a64c6(0x421)])()[_0x2a64c6(0x2e7)](_0x2a64c6(0x679)),_0x2a64c6(0x272),Qt[_0x38e026]+Ps[_0x38e026]+'\x1b[1m',_0x38e026+'\x20\x1b[0m',_0x2a64c6(0x738),this['context']+_0x2a64c6(0x272),Qt[_0x38e026],_0x9b5dbe!==_0x2a64c6(0x1c0)?_0x2cf5de:'','\x1b[0m'),_0x9b5dbe==='object'&&console['log'](_0x2cf5de,'\x0a')):console['log']((0x0,Kt[_0x2a64c6(0x421)])()[_0x2a64c6(0x2e7)](_0x2a64c6(0x629)),_0x38e026+'\x20',''+this[_0x2a64c6(0x426)],_0x2cf5de));}[a0_0x22fdc2(0x2d0)](_0x145ba6){const _0x3fef63=a0_0x22fdc2;this[_0x3fef63(0x1d1)](_0x145ba6,_0x3fef63(0x1ec));}['info'](_0x11e0be){const _0x13484e=a0_0x22fdc2;this[_0x13484e(0x1d1)](_0x11e0be,_0x13484e(0x59e));}[a0_0x22fdc2(0x57a)](_0x299595){const _0x5078b5=a0_0x22fdc2;this['console'](_0x299595,_0x5078b5(0x31f));}[a0_0x22fdc2(0x367)](_0x19324c){const _0x1ac42e=a0_0x22fdc2;this[_0x1ac42e(0x1d1)](_0x19324c,_0x1ac42e(0x1e0));}[a0_0x22fdc2(0x31e)](_0x121484){const _0x49f647=a0_0x22fdc2;this[_0x49f647(0x1d1)](_0x121484,'VERBOSE');}['debug'](_0x4d969e){const _0x2fb12e=a0_0x22fdc2;this[_0x2fb12e(0x1d1)](_0x4d969e,_0x2fb12e(0x4d4));}[a0_0x22fdc2(0x1e4)](_0x295694){const _0x15d3d8=a0_0x22fdc2;this[_0x15d3d8(0x1d1)](_0x295694,_0x15d3d8(0x54a));}};function xs(){const _0x33ccc4=a0_0x22fdc2;process['on']('uncaughtException',(_0x10ada6,_0x33cf0d)=>{const _0x2433ad=a0_0x113b;new C(_0x2433ad(0x7ad))[_0x2433ad(0x367)]({'origin':_0x33cf0d,'stderr':process[_0x2433ad(0x273)]['fd'],'error':_0x10ada6});}),process['on'](_0x33ccc4(0x636),(_0x1d348e,_0x5b2efa)=>{const _0x29c676=_0x33ccc4;new C(_0x29c676(0x636))['error']({'origin':_0x5b2efa,'stderr':process[_0x29c676(0x273)]['fd'],'error':_0x1d348e});});}var $s=M(require(a0_0x22fdc2(0x61e))),Yt=new $s['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),_e=require(a0_0x22fdc2(0x725)),Xt=M(require(a0_0x22fdc2(0x725))),Ci=new C('Db\x20Connection'),B=E[a0_0x22fdc2(0x71b)](a0_0x22fdc2(0x2ae)),R=B['ENABLED']?B[a0_0x22fdc2(0x267)]['URI']?Xt[a0_0x22fdc2(0x421)][a0_0x22fdc2(0x4ba)](B[a0_0x22fdc2(0x267)][a0_0x22fdc2(0x320)],{'dbName':B[a0_0x22fdc2(0x267)][a0_0x22fdc2(0x1e2)]+a0_0x22fdc2(0x6b5)}):Xt[a0_0x22fdc2(0x421)]['createConnection'](a0_0x22fdc2(0x29e)+B['CONNECTION']['HOST']+':'+B[a0_0x22fdc2(0x267)][a0_0x22fdc2(0x24d)]+a0_0x22fdc2(0x596),{'user':B[a0_0x22fdc2(0x267)]['USER'],'pass':B[a0_0x22fdc2(0x267)][a0_0x22fdc2(0x448)],'dbName':B[a0_0x22fdc2(0x267)]['DB_PREFIX_NAME']+a0_0x22fdc2(0x6b5)}):null;B[a0_0x22fdc2(0x3e8)]&&Ci['info'](a0_0x22fdc2(0x391)+R[a0_0x22fdc2(0x41a)]);var Mi=new _e[(a0_0x22fdc2(0x3d4))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Ti=new _e[(a0_0x22fdc2(0x3d4))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Mi],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Ri=new _e[(a0_0x22fdc2(0x3d4))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ti,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean}}),ks=_0x1629ed=>{const _0x324882=a0_0x22fdc2;let _0x14dfe3='z_'+_0x1629ed+_0x324882(0x40b);return R?.[_0x324882(0x6de)]('ChatModel',Ri,_0x14dfe3);},Ls=require(a0_0x22fdc2(0x725)),Ai=new Ls[(a0_0x22fdc2(0x3d4))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Us=_0x726ed1=>{const _0xdf20b4=a0_0x22fdc2;let _0x1d4052='z_'+_0x726ed1+_0xdf20b4(0x5c2);return R?.[_0xdf20b4(0x6de)](_0xdf20b4(0x4d0),Ai,_0x1d4052);},Js=require(a0_0x22fdc2(0x725)),Ii=new Js[(a0_0x22fdc2(0x3d4))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x22fdc2(0x236),a0_0x22fdc2(0x392),a0_0x22fdc2(0x49f)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Vs=_0xdd756c=>{const _0x26921c=a0_0x22fdc2;let _0xbf263a='z_'+_0xdd756c+_0x26921c(0x75e);return R?.[_0x26921c(0x6de)](_0x26921c(0x24a),Ii,_0xbf263a);},js=require(a0_0x22fdc2(0x725)),Zt=class{},Oi=new js[(a0_0x22fdc2(0x3d4))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),Fs=R?.[a0_0x22fdc2(0x6de)](Zt[a0_0x22fdc2(0x5a6)],Oi,'authentication'),qs=require(a0_0x22fdc2(0x725)),es=class{},Gs=new qs[(a0_0x22fdc2(0x3d4))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Gs[a0_0x22fdc2(0x43c)](a0_0x22fdc2(0x5ab),function(_0x47010f){const _0x452b1a=a0_0x22fdc2;delete this[_0x452b1a(0x440)],delete this['flowIgnoreGroups'],delete this[_0x452b1a(0x2ab)],delete this[_0x452b1a(0x5f2)],delete this[_0x452b1a(0x1c7)],_0x47010f();});var Bs=R?.['model'](es[a0_0x22fdc2(0x5a6)],Gs,a0_0x22fdc2(0x3ea)),O=require(a0_0x22fdc2(0x725)),Pe=class{},Ws=new O[(a0_0x22fdc2(0x3d4))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ts=new O['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Di=new O[(a0_0x22fdc2(0x3d4))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x22fdc2(0x590)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x22fdc2(0x53b)},'pollErrorMessage':{'type':String,'default':a0_0x22fdc2(0x555)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Hs=new O['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),_i=new O[(a0_0x22fdc2(0x3d4))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),Pi=new O['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),zs=new O[(a0_0x22fdc2(0x3d4))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Di},'apirequest':_i,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),rs=new O['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Ks=new O[(a0_0x22fdc2(0x3d4))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ss=class{},Qs=new O[(a0_0x22fdc2(0x3d4))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x264cdf=a0_0x22fdc2;return'!cmd_'+Math[_0x264cdf(0x321)]()[_0x264cdf(0x78b)](0x24)[_0x264cdf(0x60d)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[rs],'variablesNotFound':{'type':[String]},'blocks':[zs],'groups':[Ws],'conditions':[Hs],'varedits':[Ks],'replyOptions':{'type':[ts],'default':[]}});Qs[a0_0x22fdc2(0x43c)](a0_0x22fdc2(0x5ab),function(_0x14d912){const _0x2bd66d=a0_0x22fdc2;let _0x28538b=new Set(),_0x10a219=new Set(this[_0x2bd66d(0x5bb)]?.[_0x2bd66d(0x2d7)](_0x44226e=>_0x44226e['name'])),_0x543ea1=JSON[_0x2bd66d(0x2c1)](this),_0x511dee=/{{(?!_)([^}]*)}}/g,_0x5cec03;for(;(_0x5cec03=_0x511dee[_0x2bd66d(0x288)](_0x543ea1))!==null;)_0x10a219[_0x2bd66d(0x659)](_0x5cec03[0x1])||_0x28538b[_0x2bd66d(0x41c)](_0x5cec03[0x1]);_0x28538b[_0x2bd66d(0x615)]>0x0?(console[_0x2bd66d(0x57a)](_0x2bd66d(0x381),Array['from'](_0x28538b)),this['variablesNotFound']=Array[_0x2bd66d(0x410)](_0x28538b)):this[_0x2bd66d(0x41b)]=[],_0x14d912();});var I=R?.[a0_0x22fdc2(0x6de)](ss[a0_0x22fdc2(0x5a6)],Qs,'flow'),xi=new O['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[rs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Pi]},{'_id':!0x1}),as=class{},$i=new O[(a0_0x22fdc2(0x3d4))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[rs],'blocks':[zs],'groups':[Ws],'conditions':[Hs],'varedits':[Ks],'replyOptions':{'type':[ts],'default':[]},'chatLog':xi,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x22fdc2(0x53b)},'waitingMenu_replyOptions':{'type':[ts],'default':[]}}),U=R?.['model'](as[a0_0x22fdc2(0x5a6)],$i,a0_0x22fdc2(0x784)),is=class{},ki=new O[(a0_0x22fdc2(0x3d4))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Li=new O[(a0_0x22fdc2(0x3d4))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),Ui=new O[(a0_0x22fdc2(0x3d4))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x22fdc2(0x775)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Li,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ki],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),J=R?.[a0_0x22fdc2(0x6de)](is[a0_0x22fdc2(0x5a6)],Ui,a0_0x22fdc2(0x715)),os=class{},Ji=new O[(a0_0x22fdc2(0x3d4))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Vi=new O[(a0_0x22fdc2(0x3d4))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x22fdc2(0x5b1)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),ji=new O[(a0_0x22fdc2(0x3d4))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Fi=new O[(a0_0x22fdc2(0x3d4))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ji]},'customFields':{'type':[Ji]},'flowConfig':{'type':Vi,'default':{}}}),ae=R?.['model'](os[a0_0x22fdc2(0x5a6)],Fi,a0_0x22fdc2(0x6a3)),he=require('fs'),ns=require(a0_0x22fdc2(0x553)),H=class{constructor(_0x52325b){const _0x454a8a=a0_0x22fdc2;this[_0x454a8a(0x4fc)]=(0x0,ns['join'])(Y,_0x454a8a(0x3ab)),this[_0x454a8a(0x341)]=_0x49063a=>{const _0x2922f3=_0x454a8a;(0x0,he['existsSync'])(_0x49063a['path'])||(0x0,he[_0x2922f3(0x419)])(_0x49063a['path'],{'recursive':!0x0});try{return(0x0,he['writeFileSync'])((0x0,ns['join'])(_0x49063a[_0x2922f3(0x553)],_0x49063a[_0x2922f3(0x543)]+_0x2922f3(0x3c6)),JSON[_0x2922f3(0x2c1)]({..._0x49063a[_0x2922f3(0x3f4)]}),{'encoding':'utf-8'}),{'message':'create\x20-\x20success'};}finally{_0x49063a[_0x2922f3(0x3f4)]=void 0x0;}},this[_0x454a8a(0x2c2)]=_0x52325b[_0x454a8a(0x71b)](_0x454a8a(0x2ae));}[a0_0x22fdc2(0x6cf)](_0x1e2029,_0x73bb5c=!0x1){const _0x533837=a0_0x22fdc2;throw new Error(_0x533837(0x6aa));}[a0_0x22fdc2(0x631)](_0x182f32){const _0x42c7af=a0_0x22fdc2;throw new Error(_0x42c7af(0x6aa));}[a0_0x22fdc2(0x6ad)](_0x327b0e,_0x36b787){const _0x693f15=a0_0x22fdc2;throw new Error(_0x693f15(0x6aa));}},xe=class{},$e=class extends H{constructor(_0x2b3070){const _0x5d9e7f=a0_0x22fdc2;super(_0x2b3070),this[_0x5d9e7f(0x6fa)]=_0x2b3070;}[a0_0x22fdc2(0x340)](_0x381e2e){return Vs(_0x381e2e);}async['insert'](_0x2db87c){const _0x34d7aa=a0_0x22fdc2;if(_0x2db87c[_0x34d7aa(0x44c)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x34d7aa(0x340)](_0x2db87c[0x0][_0x34d7aa(0x662)])[_0x34d7aa(0x4ac)]([..._0x2db87c]))[_0x34d7aa(0x44c)]};}catch(_0x39bada){return console[_0x34d7aa(0x2d0)](_0x34d7aa(0x242),_0x39bada),_0x39bada;}}async[a0_0x22fdc2(0x631)](_0x28f544){const _0x4afbb2=a0_0x22fdc2;try{let _0x40402d=this[_0x4afbb2(0x340)](_0x28f544[_0x4afbb2(0x3bf)][_0x4afbb2(0x662)]);if(_0x28f544?.['where']?.[_0x4afbb2(0x4a1)]){for(let [_0x25071a,_0x2d2e7a]of Object[_0x4afbb2(0x519)](_0x28f544[_0x4afbb2(0x3bf)][_0x4afbb2(0x4a1)]))_0x28f544[_0x4afbb2(0x3bf)]['key.'+_0x25071a]=_0x2d2e7a;delete _0x28f544?.[_0x4afbb2(0x3bf)]?.[_0x4afbb2(0x4a1)];}return await _0x40402d[_0x4afbb2(0x631)]({..._0x28f544[_0x4afbb2(0x3bf)]})[_0x4afbb2(0x698)]({'messageTimestamp':-0x1})[_0x4afbb2(0x243)](_0x28f544?.['limit']??0x0)[_0x4afbb2(0x6d7)]();}catch{return[];}}async[a0_0x22fdc2(0x6ad)](_0x3cebd3){const _0x1f2763=a0_0x22fdc2;try{await this['getMessageModelForOwner'](_0x3cebd3['where']['owner'])[_0x1f2763(0x229)]({..._0x3cebd3[_0x1f2763(0x3bf)]});}catch(_0x198183){console['error'](_0x198183);}}async['update'](_0x3e1cc6,_0x2aaf66){const _0x4d27e4=a0_0x22fdc2;try{return await this[_0x4d27e4(0x340)](_0x3e1cc6['where'][_0x4d27e4(0x662)])['findOneAndUpdate']({..._0x3e1cc6[_0x4d27e4(0x3bf)]},{'$set':_0x2aaf66},{'new':!0x0});}catch(_0xc0fdda){throw console[_0x4d27e4(0x367)](_0xc0fdda),_0xc0fdda;}}async['insertMany'](_0x271ddc){const _0x44b4c6=a0_0x22fdc2;if(_0x271ddc[_0x44b4c6(0x44c)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x44b4c6(0x340)](_0x271ddc[0x0][_0x44b4c6(0x662)])[_0x44b4c6(0x4ac)]([..._0x271ddc]))['length']};}catch(_0x3584bb){return console[_0x44b4c6(0x2d0)](_0x44b4c6(0x242),_0x3584bb),_0x3584bb;}}async[a0_0x22fdc2(0x58a)](_0x245e5e){const _0x592625=a0_0x22fdc2;try{return await this['getMessageModelForOwner'](_0x245e5e)[_0x592625(0x741)][_0x592625(0x7aa)](),{'success':!0x0};}catch(_0x18a4b9){return console[_0x592625(0x367)](_0x18a4b9),{'success':!0x1,'error':_0x18a4b9};}}},te=require('fs'),ti=M(require('@ffmpeg-installer/ffmpeg')),w=M(require(a0_0x22fdc2(0x2cc))),Me=require('fs'),k=M(require(a0_0x22fdc2(0x553))),ce=M(require(a0_0x22fdc2(0x475))),si=require(a0_0x22fdc2(0x28f)),ai=M(require(a0_0x22fdc2(0x21a))),ii=M(require(a0_0x22fdc2(0x3fa))),Ys=[a0_0x22fdc2(0x210),a0_0x22fdc2(0x74c),a0_0x22fdc2(0x71f),a0_0x22fdc2(0x62f),a0_0x22fdc2(0x45a)],Xs=[a0_0x22fdc2(0x439),a0_0x22fdc2(0x620),'viewOnceMessage',a0_0x22fdc2(0x62c)],oi=require('os'),At=M(require('pino')),_t=require('child_process'),It=require(a0_0x22fdc2(0x348)),pe=M(require('mongoose')),P=require(a0_0x22fdc2(0x380)),fe=class{constructor(_0x334311,_0x347dc7,_0x336eea){const _0x40ba55=a0_0x22fdc2;this[_0x40ba55(0x1e9)]=_0x334311,this['exists']=_0x347dc7,this[_0x40ba55(0x5a6)]=_0x336eea;}},ke=class{},Le=class{},Se=class{},Ue=class{},Je=class{},we=class{},Ve=class{},je=class{},Fe=class{},qe=class{},Nt=M(require(a0_0x22fdc2(0x446))),Zs=require('fs'),ea=require(a0_0x22fdc2(0x553));async function Ge(_0xf02989){const _0x3f24ec=a0_0x22fdc2;let _0x9b7ceb=F[_0x3f24ec(0x64d)][_0xf02989];if(B[_0x3f24ec(0x3e8)]){let _0x420820=R[_0x3f24ec(0x4f7)]()['db'](B[_0x3f24ec(0x267)]['DB_PREFIX_NAME']+'-instances')[_0x3f24ec(0x741)](_0xf02989);return _0x9b7ceb||(await _0x420820[_0x3f24ec(0x631)]({})[_0x3f24ec(0x2f1)]())['length']>0x0;}return _0x9b7ceb||(0x0,Zs['existsSync'])((0x0,ea[_0x3f24ec(0x69d)])(j,_0xf02989));}async function cs(_0xfcec32,_0x4136cb,_0x85779b){const _0x5e0a2c=a0_0x22fdc2;if(_0xfcec32['originalUrl'][_0x5e0a2c(0x353)](_0x5e0a2c(0x345))||_0xfcec32[_0x5e0a2c(0x217)]['includes'](_0x5e0a2c(0x46f))||_0xfcec32['originalUrl'][_0x5e0a2c(0x353)]('/exit'))return _0x85779b();let _0x3ba58f=_0xfcec32['params'];if(!_0x3ba58f?.[_0x5e0a2c(0x5d2)])throw new g(_0x5e0a2c(0x249));if(!await Ge(_0x3ba58f['instanceName']))throw new $(_0x5e0a2c(0x46a)+_0x3ba58f['instanceName']+_0x5e0a2c(0x354));_0x85779b();}async function ta(_0x4621cd,_0x1e3b2d,_0x9e6c28){const _0x4c23d9=a0_0x22fdc2;if(_0x4621cd[_0x4c23d9(0x217)][_0x4c23d9(0x353)](_0x4c23d9(0x345))){let _0xf63767=_0x4621cd[_0x4c23d9(0x672)];if(await Ge(_0xf63767[_0x4c23d9(0x5d2)]))throw new ie('This\x20name\x20'+_0xf63767[_0x4c23d9(0x5d2)]+'\x20is\x20already\x20in\x20use.');F[_0x4c23d9(0x64d)][_0xf63767[_0x4c23d9(0x5d2)]]&&delete F[_0x4c23d9(0x64d)][_0xf63767[_0x4c23d9(0x5d2)]];}_0x9e6c28();}var sa=require(a0_0x22fdc2(0x380)),aa=M(require('jsonwebtoken')),Be=a0_0x22fdc2(0x467),Gi=new C(a0_0x22fdc2(0x606));async function Bi(_0x88d9cb,_0x298166,_0x14659f){const _0x4f5373=a0_0x22fdc2;let _0x21095e=_0x88d9cb[_0x4f5373(0x71b)](_0x4f5373(0x3b1));if(_0x21095e&&E[_0x4f5373(0x71b)](_0x4f5373(0x313))[_0x4f5373(0x4f9)][_0x4f5373(0x327)]!==_0x21095e)throw new oe();if(E[_0x4f5373(0x71b)]('AUTHENTICATION')['API_KEY']['KEY']===_0x21095e)return _0x14659f();if((_0x88d9cb[_0x4f5373(0x217)][_0x4f5373(0x353)](_0x4f5373(0x345))||_0x88d9cb['originalUrl'][_0x4f5373(0x353)](_0x4f5373(0x46f)))&&!_0x21095e)throw new ie(_0x4f5373(0x3dc),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x463414=E[_0x4f5373(0x71b)](_0x4f5373(0x313))[_0x4f5373(0x4f3)];try{let [_0x2ab148,_0x247a53]=_0x88d9cb['get'](_0x4f5373(0x310))['split']('\x20');if(_0x2ab148[_0x4f5373(0x38f)]()!==_0x4f5373(0x755))throw new oe();if(!(0x0,sa[_0x4f5373(0x73c)])(_0x247a53))throw new oe();let _0x4c00ad=_0x88d9cb[_0x4f5373(0x3cf)],_0x2161ce=aa[_0x4f5373(0x421)][_0x4f5373(0x794)](_0x247a53,_0x463414[_0x4f5373(0x473)],{'ignoreExpiration':_0x463414[_0x4f5373(0x200)]===0x0});if(_0x4c00ad[_0x4f5373(0x5d2)]!==_0x2161ce['instanceName']||Be!==_0x2161ce[_0x4f5373(0x3aa)])throw new oe();return _0x14659f();}catch(_0x38ef21){throw Gi['error'](_0x38ef21),new oe();}}async function Wi(_0x2f9894,_0x80d860,_0x4c69bc){const _0x4d1693=a0_0x22fdc2;let _0x2eed05=E['get'](_0x4d1693(0x313))[_0x4d1693(0x4f9)],_0x2497da=_0x2f9894[_0x4d1693(0x71b)](_0x4d1693(0x3b1));if(_0x2eed05[_0x4d1693(0x327)]===_0x2497da)return _0x4c69bc();if(_0x2f9894[_0x4d1693(0x217)][_0x4d1693(0x353)](_0x4d1693(0x345))){let _0x1b743b=E['get'](_0x4d1693(0x3c9)),_0x56771d=_0x2f9894['body']['instanceName'];if(_0x1b743b&&_0x56771d['toLowerCase']()[_0x4d1693(0x486)](_0x1b743b['toLowerCase']()))return _0x4c69bc();if(!_0x2497da)throw new ie(_0x4d1693(0x3dc),_0x4d1693(0x5c6));}if(_0x2f9894[_0x4d1693(0x217)][_0x4d1693(0x353)](_0x4d1693(0x46f))&&!_0x2497da)throw new ie(_0x4d1693(0x3dc),_0x4d1693(0x5c6));if(_0x2f9894['originalUrl']['includes'](_0x4d1693(0x35d))&&!_0x2497da)throw new ie(_0x4d1693(0x3dc),_0x4d1693(0x5c6));try{let _0x2577e0=_0x2f9894['params'];if((await le[_0x4d1693(0x665)][_0x4d1693(0x631)](_0x2577e0[_0x4d1693(0x5d2)]))[_0x4d1693(0x3b1)]===_0x2497da)return _0x4c69bc();}catch{}throw new oe();}var ia={'jwt':Bi,'apikey':Wi},Ja=require(a0_0x22fdc2(0x446)),v=require(a0_0x22fdc2(0x28f)),b=(..._0x384017)=>{const _0x311085=a0_0x22fdc2;let _0x4d43c0={};return _0x384017[_0x311085(0x3a1)](_0x16ebdb=>_0x4d43c0[_0x16ebdb]={'minLength':0x1,'description':_0x311085(0x218)+_0x16ebdb+_0x311085(0x325)}),{'if':{'propertyNames':{'enum':[..._0x384017]}},'then':{'properties':_0x4d43c0}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'instanceName':{'type':a0_0x22fdc2(0x5a4)}},...b(a0_0x22fdc2(0x5d2))},oa={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'oldToken':{'type':a0_0x22fdc2(0x5a4)}},'required':['oldToken'],...b(a0_0x22fdc2(0x76a))},wn={'properties':{'key':{'type':a0_0x22fdc2(0x1c0),'properties':{'id':{'type':a0_0x22fdc2(0x5a4)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]}},'required':['id',a0_0x22fdc2(0x1db),a0_0x22fdc2(0x3d1)],...b('id',a0_0x22fdc2(0x1db))},'message':{'type':a0_0x22fdc2(0x1c0)}}},X={'properties':{'delay':{'type':'integer','description':a0_0x22fdc2(0x5e7)},'presence':{'type':a0_0x22fdc2(0x5a4),'enum':['unavailable',a0_0x22fdc2(0x4b8),'composing',a0_0x22fdc2(0x50e),a0_0x22fdc2(0x595)]}}},Q={'type':a0_0x22fdc2(0x5a4),'pattern':a0_0x22fdc2(0x566),'description':a0_0x22fdc2(0x485)},ra={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'number':{...Q},'options':{...X},'textMessage':{'type':a0_0x22fdc2(0x1c0),'properties':{'text':{'type':a0_0x22fdc2(0x5a4)}},'required':[a0_0x22fdc2(0x70b)],...b(a0_0x22fdc2(0x70b))}},'required':['textMessage',a0_0x22fdc2(0x216)]},na={'type':'string','pattern':a0_0x22fdc2(0x238),'description':a0_0x22fdc2(0x485)},yn={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...na},'options':{...X},'textMessage':{'type':a0_0x22fdc2(0x1c0),'properties':{'text':{'type':a0_0x22fdc2(0x5a4)}},'required':[a0_0x22fdc2(0x70b)],...b(a0_0x22fdc2(0x70b))}},'required':[a0_0x22fdc2(0x695),a0_0x22fdc2(0x216)]},bn={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...na},'options':{...X},'mediaMessage':{'type':a0_0x22fdc2(0x1c0),'properties':{'mediatype':{'type':a0_0x22fdc2(0x5a4),'enum':[a0_0x22fdc2(0x753),a0_0x22fdc2(0x6f6),a0_0x22fdc2(0x1df),a0_0x22fdc2(0x280)]},'media':{'type':a0_0x22fdc2(0x5a4)},'fileName':{'type':a0_0x22fdc2(0x5a4)},'caption':{'type':a0_0x22fdc2(0x5a4)}},'required':['mediatype',a0_0x22fdc2(0x4b9)],...b(a0_0x22fdc2(0x543),a0_0x22fdc2(0x31d),'media')}},'required':[a0_0x22fdc2(0x790),'number']},ca={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'number':{...Q},'options':{...X},'stickerMessage':{'type':a0_0x22fdc2(0x1c0),'properties':{'image':{'type':a0_0x22fdc2(0x5a4)}},'required':[a0_0x22fdc2(0x753)],...b(a0_0x22fdc2(0x753))}},'required':[a0_0x22fdc2(0x45a),a0_0x22fdc2(0x216)]},la={'$id':(0x0,v['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x22fdc2(0x1c0),'properties':{'type':{'type':a0_0x22fdc2(0x5a4),'enum':[a0_0x22fdc2(0x70b),a0_0x22fdc2(0x753),a0_0x22fdc2(0x280),a0_0x22fdc2(0x1df)]},'content':{'type':a0_0x22fdc2(0x5a4)},'caption':{'type':a0_0x22fdc2(0x5a4)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x22fdc2(0x393),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x22fdc2(0x1eb),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22fdc2(0x5a4),'pattern':a0_0x22fdc2(0x521),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['type',a0_0x22fdc2(0x35a)],...b(a0_0x22fdc2(0x73e),a0_0x22fdc2(0x35a))}},'required':[a0_0x22fdc2(0x3c8)]},ua={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Q},'options':{...X},'mediaMessage':{'type':a0_0x22fdc2(0x1c0),'properties':{'mediatype':{'type':a0_0x22fdc2(0x5a4),'enum':[a0_0x22fdc2(0x753),a0_0x22fdc2(0x6f6),a0_0x22fdc2(0x1df),a0_0x22fdc2(0x280)]},'media':{'type':a0_0x22fdc2(0x5a4)},'fileName':{'type':'string'},'caption':{'type':a0_0x22fdc2(0x5a4)}},'required':[a0_0x22fdc2(0x4a3),a0_0x22fdc2(0x4b9)],...b('fileName',a0_0x22fdc2(0x31d),a0_0x22fdc2(0x4b9))}},'required':['mediaMessage',a0_0x22fdc2(0x216)]},da={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'number':{...Q},'options':{...X},'audioMessage':{'type':a0_0x22fdc2(0x1c0),'properties':{'audio':{'type':a0_0x22fdc2(0x5a4)}},'required':[a0_0x22fdc2(0x280)],...b('audio')}},'required':['audioMessage',a0_0x22fdc2(0x216)]},pa={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'number':{...Q},'pollMessage':{'type':a0_0x22fdc2(0x1c0),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x22fdc2(0x216)},'values':{'type':a0_0x22fdc2(0x1eb),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x22fdc2(0x5a6),a0_0x22fdc2(0x77a),a0_0x22fdc2(0x30a)],...b(a0_0x22fdc2(0x5a6),a0_0x22fdc2(0x77a),a0_0x22fdc2(0x30a))}},'required':[a0_0x22fdc2(0x216),a0_0x22fdc2(0x4c6)]},ga={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'number':{...Q},'menuMessage':{'type':a0_0x22fdc2(0x1c0),'properties':{'text':{'type':a0_0x22fdc2(0x5a4)},'choices':{'type':a0_0x22fdc2(0x1eb),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x22fdc2(0x70b),a0_0x22fdc2(0x2ba)],...b('text',a0_0x22fdc2(0x2ba))}},'required':[a0_0x22fdc2(0x216),a0_0x22fdc2(0x3c1)]},ma={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'number':{...Q},'options':{...X},'buttonMessage':{'type':a0_0x22fdc2(0x1c0),'properties':{'title':{'type':a0_0x22fdc2(0x5a4)},'description':{'type':a0_0x22fdc2(0x5a4)},'footerText':{'type':a0_0x22fdc2(0x5a4)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22fdc2(0x1c0),'properties':{'buttonText':{'type':a0_0x22fdc2(0x5a4)},'buttonId':{'type':a0_0x22fdc2(0x5a4)}},'required':[a0_0x22fdc2(0x6a7),'buttonId'],...b('buttonText','buttonId')}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x22fdc2(0x5a4)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x22fdc2(0x5a4),'enum':['image',a0_0x22fdc2(0x6f6),a0_0x22fdc2(0x1df)]}},'required':[a0_0x22fdc2(0x4b9),a0_0x22fdc2(0x4a3)],...b(a0_0x22fdc2(0x4b9),'fileName')}},'required':[a0_0x22fdc2(0x6fc),'buttons'],...b(a0_0x22fdc2(0x6fc),a0_0x22fdc2(0x4cd))}},'required':['number','buttonMessage']},ha={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'number':{...Q},'options':{...X},'locationMessage':{'type':a0_0x22fdc2(0x1c0),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x22fdc2(0x216)},'name':{'type':a0_0x22fdc2(0x5a4)},'address':{'type':a0_0x22fdc2(0x5a4)}},'required':[a0_0x22fdc2(0x5e4),a0_0x22fdc2(0x64e)],...b(a0_0x22fdc2(0x5a6),a0_0x22fdc2(0x32d))}},'required':[a0_0x22fdc2(0x216),a0_0x22fdc2(0x578)]},fa={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'number':{...Q},'options':{...X},'listMessage':{'type':a0_0x22fdc2(0x1c0),'properties':{'title':{'type':'string'},'description':{'type':a0_0x22fdc2(0x5a4)},'footerText':{'type':a0_0x22fdc2(0x5a4)},'buttonText':{'type':a0_0x22fdc2(0x5a4)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22fdc2(0x1c0),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x22fdc2(0x1eb),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x22fdc2(0x5a4)},'description':{'type':'string'},'rowId':{'type':a0_0x22fdc2(0x5a4)}},'required':[a0_0x22fdc2(0x6fc),a0_0x22fdc2(0x6a6)],...b('title','rowId')}}},'required':[a0_0x22fdc2(0x6fc),a0_0x22fdc2(0x4e8)],...b(a0_0x22fdc2(0x6fc))}}},'required':['title',a0_0x22fdc2(0x4cd),a0_0x22fdc2(0x6a7),'sections'],...b(a0_0x22fdc2(0x6fc),a0_0x22fdc2(0x4cd),a0_0x22fdc2(0x6a7),a0_0x22fdc2(0x511))}},'required':[a0_0x22fdc2(0x216),'listMessage']},wa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Q},'options':{...X},'contactMessage':{'type':a0_0x22fdc2(0x1eb),'items':{'type':'object','properties':{'fullName':{'type':a0_0x22fdc2(0x5a4)},'phoneNumber':{'type':a0_0x22fdc2(0x5a4),'minLength':0xa}},'required':[a0_0x22fdc2(0x247),'phoneNumber'],...b(a0_0x22fdc2(0x247))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x22fdc2(0x216),a0_0x22fdc2(0x577)]},ya={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'reactionMessage':{'type':a0_0x22fdc2(0x1c0),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x22fdc2(0x5a4)},'remoteJid':{'type':a0_0x22fdc2(0x5a4)},'fromMe':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]}},'required':['id',a0_0x22fdc2(0x1db),a0_0x22fdc2(0x3d1)],...b('id',a0_0x22fdc2(0x1db))},'reaction':{'type':a0_0x22fdc2(0x5a4)}},'required':[a0_0x22fdc2(0x4a1),a0_0x22fdc2(0x375)],...b('reaction')}},'required':['reactionMessage']},ba={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'numbers':{'type':a0_0x22fdc2(0x1eb),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22fdc2(0x5a4),'pattern':a0_0x22fdc2(0x521),'description':a0_0x22fdc2(0x37b)}}}},Sa={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'readMessages':{'type':a0_0x22fdc2(0x1eb),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x22fdc2(0x5a4)}},'required':['id',a0_0x22fdc2(0x3d1),a0_0x22fdc2(0x1db)],...b('id',a0_0x22fdc2(0x1db))}}},'required':[a0_0x22fdc2(0x36b)]},Ea={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'privacySettings':{'type':a0_0x22fdc2(0x1c0),'properties':{'readreceipts':{'type':a0_0x22fdc2(0x5a4),'enum':[a0_0x22fdc2(0x474),'none']},'profile':{'type':a0_0x22fdc2(0x5a4),'enum':[a0_0x22fdc2(0x474),a0_0x22fdc2(0x3ae),'contact_blacklist','none']},'status':{'type':'string','enum':[a0_0x22fdc2(0x474),'contacts',a0_0x22fdc2(0x22b),a0_0x22fdc2(0x6fd)]},'online':{'type':a0_0x22fdc2(0x5a4),'enum':['all','match_last_seen']},'last':{'type':'string','enum':[a0_0x22fdc2(0x474),a0_0x22fdc2(0x3ae),a0_0x22fdc2(0x22b),'none']},'groupadd':{'type':'string','enum':[a0_0x22fdc2(0x474),'contacts',a0_0x22fdc2(0x22b),a0_0x22fdc2(0x6fd)]}},'required':[a0_0x22fdc2(0x27f),a0_0x22fdc2(0x76e),'status','online',a0_0x22fdc2(0x783),a0_0x22fdc2(0x469)],...b(a0_0x22fdc2(0x27f),a0_0x22fdc2(0x76e),'status',a0_0x22fdc2(0x2fe),a0_0x22fdc2(0x783),a0_0x22fdc2(0x469))}},'required':['privacySettings']},va={'$id':(0x0,v['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x22fdc2(0x1c0),'properties':{'key':{'type':a0_0x22fdc2(0x1c0),'properties':{'id':{'type':a0_0x22fdc2(0x5a4)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]}},'required':['id',a0_0x22fdc2(0x3d1),a0_0x22fdc2(0x1db)],...b('id',a0_0x22fdc2(0x1db))},'messageTimestamp':{'type':a0_0x22fdc2(0x393),'minLength':0x1}},'required':[a0_0x22fdc2(0x4a1)],...b(a0_0x22fdc2(0x576))},'archive':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]}},'required':[a0_0x22fdc2(0x60e),'archive']},Na={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'id':{'type':a0_0x22fdc2(0x5a4)},'fromMe':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':'string'}},'required':['id',a0_0x22fdc2(0x3d1),'remoteJid'],...b('id',a0_0x22fdc2(0x1db),a0_0x22fdc2(0x5a2))},Ca={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'where':{'type':a0_0x22fdc2(0x1c0),'properties':{'_id':{'type':a0_0x22fdc2(0x5a4),'minLength':0x1},'pushName':{'type':a0_0x22fdc2(0x5a4),'minLength':0x1},'id':{'type':a0_0x22fdc2(0x5a4),'minLength':0x1}},...b(a0_0x22fdc2(0x762),'id',a0_0x22fdc2(0x1c8))}}},Ma={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'name':{'type':a0_0x22fdc2(0x5a4)}},...b(a0_0x22fdc2(0x5a6))},Ta={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'status':{'type':'string'}},...b(a0_0x22fdc2(0x592))},Ee={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{'type':a0_0x22fdc2(0x5a4)},'picture':{'type':a0_0x22fdc2(0x5a4)}}},Ra={'type':a0_0x22fdc2(0x1c0),'properties':{'wuid':{'type':a0_0x22fdc2(0x5a4)},'name':{'type':a0_0x22fdc2(0x5a4)},'picture':{'type':a0_0x22fdc2(0x5a4)},'status':{'type':a0_0x22fdc2(0x5a4)},'isBusiness':{'type':'boolean'}}},Aa={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x22fdc2(0x5a4),'minLength':0x1},'key':{'type':a0_0x22fdc2(0x1c0),'if':{'propertyNames':{'enum':[a0_0x22fdc2(0x3d1),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x22fdc2(0x2aa)},'id':{'type':'string','minLength':0x1,'description':a0_0x22fdc2(0x2aa)},'fromMe':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x22fdc2(0x1c0)}},...b(a0_0x22fdc2(0x762))},'limit':{'type':a0_0x22fdc2(0x393)}}},Sn={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':a0_0x22fdc2(0x1c0),'properties':{'_id':{'type':a0_0x22fdc2(0x5a4)},'remoteJid':{'type':'string'},'id':{'type':a0_0x22fdc2(0x5a4)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x22fdc2(0x5a4)},'status':{'type':a0_0x22fdc2(0x5a4),'enum':[a0_0x22fdc2(0x1e0),a0_0x22fdc2(0x344),a0_0x22fdc2(0x796),a0_0x22fdc2(0x2ec),a0_0x22fdc2(0x720),a0_0x22fdc2(0x76c)]}},...b(a0_0x22fdc2(0x762),a0_0x22fdc2(0x1db),'id','status')},'limit':{'type':a0_0x22fdc2(0x393)}}},Ia={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...Q},'presence':{'type':a0_0x22fdc2(0x5a4),'enum':[a0_0x22fdc2(0x6e9),a0_0x22fdc2(0x4b8),a0_0x22fdc2(0x7a0),'recording','paused']}},'required':[a0_0x22fdc2(0x594),a0_0x22fdc2(0x216)]},Oa={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x22fdc2(0x5a4)},'profilePicture':{'type':'string'},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22fdc2(0x5a4),'minLength':0xa,'pattern':a0_0x22fdc2(0x33f),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['subject',a0_0x22fdc2(0x30f)],...b(a0_0x22fdc2(0x5e0),a0_0x22fdc2(0x4cd),a0_0x22fdc2(0x6be))},ve={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x22fdc2(0x5a4),'pattern':a0_0x22fdc2(0x4fd)}},'required':[a0_0x22fdc2(0x59b)],...b(a0_0x22fdc2(0x59b))},Da={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'groupJid':{'type':'string'},'action':{'type':'string','enum':[a0_0x22fdc2(0x41c),a0_0x22fdc2(0x79c),a0_0x22fdc2(0x663),a0_0x22fdc2(0x3be)]},'participants':{'type':a0_0x22fdc2(0x1eb),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x22fdc2(0x5a4),'minLength':0xa,'pattern':a0_0x22fdc2(0x33f),'description':a0_0x22fdc2(0x6f3)}}},'required':['groupJid',a0_0x22fdc2(0x57b),a0_0x22fdc2(0x30f)],...b('groupJid',a0_0x22fdc2(0x57b))},_a={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x22fdc2(0x216),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid','expiration'],...b('groupJid',a0_0x22fdc2(0x220))},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'groupJid':{'type':a0_0x22fdc2(0x5a4)},'image':{'type':a0_0x22fdc2(0x5a4)}},'required':[a0_0x22fdc2(0x59b),'image'],...b('groupJid',a0_0x22fdc2(0x753))},xa={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'groupJid':{'type':a0_0x22fdc2(0x5a4)},'description':{'type':a0_0x22fdc2(0x5a4)}},'required':[a0_0x22fdc2(0x59b),a0_0x22fdc2(0x4cd)],...b(a0_0x22fdc2(0x59b),a0_0x22fdc2(0x4cd))},$a={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'groupJid':{'type':a0_0x22fdc2(0x5a4)},'name':{'type':a0_0x22fdc2(0x5a4)}},'required':[a0_0x22fdc2(0x59b),a0_0x22fdc2(0x5a6)],...b(a0_0x22fdc2(0x59b),a0_0x22fdc2(0x5a6))},ka={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'groupJid':{'type':a0_0x22fdc2(0x5a4)},'setting':{'type':a0_0x22fdc2(0x5a4),'enum':['announcement',a0_0x22fdc2(0x25f),'unlocked',a0_0x22fdc2(0x648)]}},'required':['groupJid',a0_0x22fdc2(0x37c)],...b(a0_0x22fdc2(0x59b),'setting')},La={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x22fdc2(0x58f)],...b(a0_0x22fdc2(0x58f))},Ua={'$id':(0x0,v['v4'])(),'type':a0_0x22fdc2(0x1c0),'properties':{'url':{'type':'string'},'enabled':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]}},'required':[a0_0x22fdc2(0x53c),a0_0x22fdc2(0x423)]},En={'$id':(0x0,v['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x22fdc2(0x744),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x22fdc2(0x3ad),a0_0x22fdc2(0x551),'QRCODE_UPDATED','MESSAGES_SET',a0_0x22fdc2(0x5b7),'MESSAGES_UPSERT',a0_0x22fdc2(0x557),a0_0x22fdc2(0x1be),a0_0x22fdc2(0x4e0),a0_0x22fdc2(0x2f9),a0_0x22fdc2(0x693),a0_0x22fdc2(0x337),a0_0x22fdc2(0x3f1),'CHATS_UPDATE',a0_0x22fdc2(0x32e),a0_0x22fdc2(0x3c7),a0_0x22fdc2(0x5dc),a0_0x22fdc2(0x789),'GROUP_PARTICIPANTS_UPDATE'],...b(a0_0x22fdc2(0x3ad),a0_0x22fdc2(0x551),'QRCODE_UPDATED',a0_0x22fdc2(0x3a9),'MESSAGES_UPDATE',a0_0x22fdc2(0x71a),a0_0x22fdc2(0x557),a0_0x22fdc2(0x1be),a0_0x22fdc2(0x4e0),'CONTACTS_UPDATE',a0_0x22fdc2(0x693),a0_0x22fdc2(0x337),'CHATS_UPSERT',a0_0x22fdc2(0x4e2),a0_0x22fdc2(0x32e),a0_0x22fdc2(0x3c7),a0_0x22fdc2(0x5dc),a0_0x22fdc2(0x789),'GROUP_PARTICIPANTS_UPDATE')},We=class{},He=class extends H{constructor(_0x105cfa){const _0x1b0291=a0_0x22fdc2;super(_0x105cfa),this[_0x1b0291(0x6fa)]=_0x105cfa;}[a0_0x22fdc2(0x1e7)](_0xf677a9){return Us(_0xf677a9);}async[a0_0x22fdc2(0x6cf)](_0x5ba1db){const _0x1265cb=a0_0x22fdc2;if(_0x5ba1db[_0x1265cb(0x44c)]!==0x0)try{return{'insertCount':(await this[_0x1265cb(0x1e7)](_0x5ba1db[0x0]['owner'])[_0x1265cb(0x4ac)]([..._0x5ba1db]))[_0x1265cb(0x44c)]};}catch(_0x4f3b41){return _0x4f3b41;}}async[a0_0x22fdc2(0x6ad)](_0x50a9df){const _0x27ee31=a0_0x22fdc2;try{return{'deletedCount':(await this[_0x27ee31(0x1e7)](_0x50a9df[_0x27ee31(0x3bf)][_0x27ee31(0x662)])[_0x27ee31(0x229)]({..._0x50a9df[_0x27ee31(0x3bf)]}))['deletedCount']};}catch(_0x4cf88f){return{'error':_0x4cf88f?.[_0x27ee31(0x78b)]()};}}async[a0_0x22fdc2(0x635)](_0x2269cd,_0x2695e6){const _0x4da5b3=a0_0x22fdc2;try{if(_0x2269cd[_0x4da5b3(0x44c)]===0x0)return;let _0x410f77=this['getContactModelForOwner'](_0x2695e6),_0xe62bef=_0x2269cd[_0x4da5b3(0x2d7)](_0x7195fc=>({'updateOne':{'filter':{'_id':_0x7195fc['_id'],'owner':_0x2695e6},'update':{..._0x7195fc}}})),{modifiedCount:_0x27e6cb}=await _0x410f77['bulkWrite'](_0xe62bef);return{'insertCount':_0x27e6cb};}catch{return;}}async[a0_0x22fdc2(0x631)](_0x388424){const _0x445cbf=a0_0x22fdc2;try{return await this[_0x445cbf(0x1e7)](_0x388424['where'][_0x445cbf(0x662)])[_0x445cbf(0x631)]({..._0x388424['where']})['limit'](_0x388424?.[_0x445cbf(0x243)]??0x0)[_0x445cbf(0x6d7)]();}catch{return[];}}async['findOne'](_0xf3c7b9){const _0x145610=a0_0x22fdc2;try{return await this[_0x145610(0x1e7)](_0xf3c7b9['where'][_0x145610(0x662)])[_0x145610(0x2ce)]({..._0xf3c7b9['where']})[_0x145610(0x6d7)]();}catch{return null;}}async['deleteAll'](_0x3b1933){const _0x49e564=a0_0x22fdc2;try{return await this[_0x49e564(0x1e7)](_0x3b1933)['collection'][_0x49e564(0x7aa)](),{'success':!0x0};}catch(_0x348fc1){return console[_0x49e564(0x367)](_0x348fc1),{'success':!0x1,'error':_0x348fc1};}}},ze=require('jsonschema'),In=require(a0_0x22fdc2(0x5d7)),ls=new C(a0_0x22fdc2(0x21b)),L=class{constructor(){}[a0_0x22fdc2(0x54b)](_0x3776d4,_0x53d625=!0x0){let _0x168e5a='/'+_0x3776d4;return _0x53d625&&(_0x168e5a+='/:instanceName'),_0x168e5a;}async[a0_0x22fdc2(0x6ee)](_0xe5d99f){const _0x327f9c=a0_0x22fdc2;let {request:_0x1723c4,schema:_0x42ab55,ClassRef:_0x59e942,execute:_0x3ff9e9}=_0xe5d99f,_0x4a90a2=new _0x59e942(),_0x48a00a=_0x1723c4[_0x327f9c(0x672)],_0x420fe6=_0x1723c4[_0x327f9c(0x3cf)];_0x1723c4?.[_0x327f9c(0x23f)]&&Object['keys'](_0x1723c4[_0x327f9c(0x23f)])[_0x327f9c(0x44c)]>0x0&&Object[_0x327f9c(0x42b)](_0x420fe6,_0x1723c4[_0x327f9c(0x23f)]),_0x1723c4[_0x327f9c(0x217)][_0x327f9c(0x353)](_0x327f9c(0x345))&&Object[_0x327f9c(0x42b)](_0x420fe6,_0x48a00a),Object[_0x327f9c(0x42b)](_0x4a90a2,_0x48a00a);let _0x45d2d9=_0x42ab55?(0x0,ze[_0x327f9c(0x480)])(_0x4a90a2,_0x42ab55):{'valid':!0x0,'errors':[]};if(!_0x45d2d9[_0x327f9c(0x387)]){let _0x3730f2=_0x45d2d9['errors'][_0x327f9c(0x2d7)](({property:_0x317133,stack:_0x4347b3,schema:_0x2a8c94})=>{const _0x5cea08=_0x327f9c;let _0x59446e;return _0x2a8c94['description']?_0x59446e=_0x2a8c94[_0x5cea08(0x4cd)]:_0x59446e=_0x4347b3[_0x5cea08(0x274)](_0x5cea08(0x225),''),{'property':_0x317133[_0x5cea08(0x274)]('instance.',''),'message':_0x59446e};});throw ls[_0x327f9c(0x367)]([..._0x3730f2]),new g(..._0x3730f2);}return await _0x3ff9e9(_0x420fe6,_0x4a90a2);}async[a0_0x22fdc2(0x6cd)](_0x5b369f){const _0x2c5657=a0_0x22fdc2;let {request:_0x49354e,ClassRef:_0x258733,schema:_0x2b53d8,execute:_0x4264ff}=_0x5b369f,_0x575e00=_0x49354e['query'];if(!_0x575e00?.['groupJid'])throw new g(_0x2c5657(0x433),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x2a2b0c=_0x49354e['params'],_0x534c99=_0x49354e[_0x2c5657(0x672)],_0x45bdef=new _0x258733();Object[_0x2c5657(0x42b)](_0x534c99,_0x575e00),Object[_0x2c5657(0x42b)](_0x45bdef,_0x534c99);let _0x2e259a=(0x0,ze[_0x2c5657(0x480)])(_0x45bdef,_0x2b53d8);if(!_0x2e259a['valid']){let _0x151330=_0x2e259a[_0x2c5657(0x470)][_0x2c5657(0x2d7)](({property:_0x52d21c,stack:_0x5f4249,schema:_0x4bd079})=>{const _0x18cd8c=_0x2c5657;let _0x1a06e5;return _0x4bd079[_0x18cd8c(0x4cd)]?_0x1a06e5=_0x4bd079['description']:_0x1a06e5=_0x5f4249[_0x18cd8c(0x274)](_0x18cd8c(0x225),''),{'property':_0x52d21c['replace'](_0x18cd8c(0x225),''),'message':_0x1a06e5};});throw ls[_0x2c5657(0x367)]([..._0x151330]),new g(..._0x151330);}return await _0x4264ff(_0x2a2b0c,_0x45bdef);}async[a0_0x22fdc2(0x74b)](_0x2f4978){const _0xc531f8=a0_0x22fdc2;let {request:_0x21b527,ClassRef:_0x89d7db,schema:_0xf290ee,execute:_0x41d522}=_0x2f4978,_0x375678=_0x21b527[_0xc531f8(0x672)];if(!_0x375678?.['inviteCode'])throw new g(_0xc531f8(0x49a),_0xc531f8(0x245));let _0x432d63=_0x21b527[_0xc531f8(0x3cf)],_0x295700=_0x21b527['body'],_0x211cb6=new _0x89d7db();Object[_0xc531f8(0x42b)](_0x295700,_0x375678),Object['assign'](_0x211cb6,_0x295700);let _0x26454a=(0x0,ze['validate'])(_0x211cb6,_0xf290ee);if(!_0x26454a[_0xc531f8(0x387)]){let _0x2ef981=_0x26454a[_0xc531f8(0x470)]['map'](({property:_0x38c9fb,stack:_0x34bb76,schema:_0x4812a1})=>{const _0x5a3ec7=_0xc531f8;let _0x15a1d2;return _0x4812a1['description']?_0x15a1d2=_0x4812a1[_0x5a3ec7(0x4cd)]:_0x15a1d2=_0x34bb76[_0x5a3ec7(0x274)](_0x5a3ec7(0x225),''),{'property':_0x38c9fb['replace']('instance.',''),'message':_0x15a1d2};});throw ls[_0xc531f8(0x367)]([..._0x2ef981]),new g(..._0x2ef981);}return await _0x41d522(_0x432d63,_0x211cb6);}},S=class{},Ke=class extends L{constructor(..._0x1da9ad){const _0x1adbe6=a0_0x22fdc2;super(),this[_0x1adbe6(0x282)]=(0x0,Ja[_0x1adbe6(0x522)])(),this['router'][_0x1adbe6(0x5db)](this[_0x1adbe6(0x54b)](_0x1adbe6(0x38b)),..._0x1da9ad,async(_0x2dbbf3,_0x22e174)=>{const _0x46edce=_0x1adbe6;let _0xf0328a=await this[_0x46edce(0x6ee)]({'request':_0x2dbbf3,'schema':Ia,'ClassRef':ke,'execute':(_0x31c7ec,_0x2f7285)=>D['updatePresence'](_0x31c7ec,_0x2f7285)});return _0x22e174['status'](0xc9)[_0x46edce(0x731)](_0xf0328a);})[_0x1adbe6(0x5db)](this[_0x1adbe6(0x54b)]('whatsappNumbers'),..._0x1da9ad,async(_0xd5df54,_0x83fcac)=>{const _0x28a636=_0x1adbe6;let _0x2d32bb=await this[_0x28a636(0x6ee)]({'request':_0xd5df54,'schema':ba,'ClassRef':Le,'execute':(_0x3b104e,_0x19a912)=>D[_0x28a636(0x766)](_0x3b104e,_0x19a912)});return _0x83fcac[_0x28a636(0x592)](0xc9)[_0x28a636(0x731)](_0x2d32bb);})[_0x1adbe6(0x5db)](this[_0x1adbe6(0x54b)]('editChat'),..._0x1da9ad,async(_0x2314dd,_0x18fb0e)=>{const _0x29710b=_0x1adbe6;let _0x1b0411=await this['dataValidate']({'request':_0x2314dd,'schema':N,'ClassRef':S,'execute':(_0x13a07b,_0x40bc46)=>D[_0x29710b(0x681)](_0x13a07b,_0x40bc46)});return _0x18fb0e[_0x29710b(0x592)](0xc9)[_0x29710b(0x731)](_0x1b0411);})[_0x1adbe6(0x6a0)](this[_0x1adbe6(0x54b)](_0x1adbe6(0x69b)),..._0x1da9ad,async(_0x3c6850,_0x2e4ac3)=>{const _0x1cedf3=_0x1adbe6;let _0x504db4=await this[_0x1cedf3(0x6ee)]({'request':_0x3c6850,'schema':Sa,'ClassRef':Ve,'execute':(_0x1f519f,_0x1f93ff)=>D[_0x1cedf3(0x5c3)](_0x1f519f,_0x1f93ff)});return _0x2e4ac3[_0x1cedf3(0x592)](0xc9)['json'](_0x504db4);})[_0x1adbe6(0x6a0)](this[_0x1adbe6(0x54b)](_0x1adbe6(0x545)),..._0x1da9ad,async(_0x639026,_0x34411e)=>{const _0x334e98=_0x1adbe6;let _0x4a9c2f=await this[_0x334e98(0x6ee)]({'request':_0x639026,'schema':va,'ClassRef':je,'execute':(_0x2ecf89,_0x5c3245)=>D[_0x334e98(0x545)](_0x2ecf89,_0x5c3245)});return _0x34411e[_0x334e98(0x592)](0xc9)[_0x334e98(0x731)](_0x4a9c2f);})['delete'](this[_0x1adbe6(0x54b)]('deleteMessageForEveryone'),..._0x1da9ad,async(_0x366b27,_0x489f5c)=>{const _0x13dba5=_0x1adbe6;let _0x552ee0=await this['dataValidate']({'request':_0x366b27,'schema':Na,'ClassRef':qe,'execute':(_0x5ab021,_0x5c2f82)=>D[_0x13dba5(0x407)](_0x5ab021,_0x5c2f82)});return _0x489f5c[_0x13dba5(0x592)](0xc9)['json'](_0x552ee0);})[_0x1adbe6(0x5db)](this[_0x1adbe6(0x54b)](_0x1adbe6(0x428)),..._0x1da9ad,async(_0x1487f5,_0x5b4d79)=>{const _0x48ba06=_0x1adbe6;let _0x186f81=await this['dataValidate']({'request':_0x1487f5,'schema':Ee,'ClassRef':Se,'execute':(_0x40d22d,_0x28c2b3)=>D[_0x48ba06(0x1f1)](_0x40d22d,_0x28c2b3)});return _0x5b4d79['status'](0xc8)[_0x48ba06(0x731)](_0x186f81);})['post'](this['routerPath']('fetchProfile'),..._0x1da9ad,async(_0x14c601,_0xc533df)=>{const _0x20e758=_0x1adbe6;let _0x23f15f=await this['dataValidate']({'request':_0x14c601,'schema':Ra,'ClassRef':Se,'execute':(_0x48975a,_0x4fb9d7)=>D[_0x20e758(0x3da)](_0x48975a,_0x4fb9d7)});return _0xc533df[_0x20e758(0x592)](0xc8)[_0x20e758(0x731)](_0x23f15f);})[_0x1adbe6(0x5db)](this['routerPath'](_0x1adbe6(0x74f)),..._0x1da9ad,async(_0x43f4a0,_0x570f9d)=>{const _0x43229b=_0x1adbe6;let _0x341e78=await this['dataValidate']({'request':_0x43f4a0,'schema':Ca,'ClassRef':We,'execute':(_0x4b7ed9,_0x2da8c2)=>D['fetchContacts'](_0x4b7ed9,_0x2da8c2)});return _0x570f9d[_0x43229b(0x592)](0xc8)[_0x43229b(0x731)](_0x341e78);})[_0x1adbe6(0x5db)](this[_0x1adbe6(0x54b)](_0x1adbe6(0x3e7)),..._0x1da9ad,async(_0x56d0d5,_0x2bb904)=>{const _0x5be97d=_0x1adbe6;let _0x4bcbb7=await this['dataValidate']({'request':_0x56d0d5,'schema':null,'ClassRef':Object,'execute':(_0x419dd5,_0x3c9aa7)=>D[_0x5be97d(0x3e7)](_0x419dd5,_0x3c9aa7)});return _0x2bb904[_0x5be97d(0x592)](0xc9)[_0x5be97d(0x731)](_0x4bcbb7);})[_0x1adbe6(0x5db)](this['routerPath']('findMessages'),..._0x1da9ad,async(_0x46ba41,_0x359ec5)=>{const _0x2dafb6=_0x1adbe6;let _0x5e18f7=await this['dataValidate']({'request':_0x46ba41,'schema':Aa,'ClassRef':xe,'execute':(_0x1c1c1a,_0x293b4c)=>D['fetchMessages'](_0x1c1c1a,_0x293b4c)});return _0x359ec5[_0x2dafb6(0x592)](0xc8)[_0x2dafb6(0x731)](_0x5e18f7);})[_0x1adbe6(0x71b)](this[_0x1adbe6(0x54b)](_0x1adbe6(0x593)),..._0x1da9ad,async(_0x17ffae,_0x3b0ed1)=>{const _0x581d55=_0x1adbe6;let _0x5f3e53=await this[_0x581d55(0x6ee)]({'request':_0x17ffae,'schema':null,'ClassRef':S,'execute':_0x2b7797=>D['fetchChats'](_0x2b7797)});return _0x3b0ed1[_0x581d55(0x592)](0xc8)['json'](_0x5f3e53);})[_0x1adbe6(0x71b)](this[_0x1adbe6(0x54b)](_0x1adbe6(0x306)),..._0x1da9ad,async(_0x2731bb,_0x50cae1)=>{const _0x390a0d=_0x1adbe6;let _0x42cfb5=await this[_0x390a0d(0x6ee)]({'request':_0x2731bb,'schema':null,'ClassRef':S,'execute':_0x36ab4b=>D[_0x390a0d(0x306)](_0x36ab4b)});return _0x50cae1['status'](0xc8)[_0x390a0d(0x731)](_0x42cfb5);})[_0x1adbe6(0x6a0)](this['routerPath'](_0x1adbe6(0x3dd)),..._0x1da9ad,async(_0x1ffceb,_0x2693db)=>{const _0x35de47=_0x1adbe6;let _0x12a431=await this['dataValidate']({'request':_0x1ffceb,'schema':Ea,'ClassRef':Fe,'execute':(_0x416bea,_0x3d0df)=>D[_0x35de47(0x3dd)](_0x416bea,_0x3d0df)});return _0x2693db[_0x35de47(0x592)](0xc9)[_0x35de47(0x731)](_0x12a431);})['post'](this[_0x1adbe6(0x54b)](_0x1adbe6(0x721)),..._0x1da9ad,async(_0x2cc12a,_0x6cdaa3)=>{const _0xaeb74a=_0x1adbe6;let _0x748d4=await this[_0xaeb74a(0x6ee)]({'request':_0x2cc12a,'schema':Ee,'ClassRef':we,'execute':(_0x2abaa1,_0x3f03ac)=>D[_0xaeb74a(0x721)](_0x2abaa1,_0x3f03ac)});return _0x6cdaa3[_0xaeb74a(0x592)](0xc8)[_0xaeb74a(0x731)](_0x748d4);})[_0x1adbe6(0x5db)](this[_0x1adbe6(0x54b)]('updateProfileName'),..._0x1da9ad,async(_0x43b11b,_0x35f8b6)=>{const _0x17a41b=_0x1adbe6;let _0x335895=await this['dataValidate']({'request':_0x43b11b,'schema':Ma,'ClassRef':Ue,'execute':(_0x5b5c2f,_0x9439c5)=>D[_0x17a41b(0x6f1)](_0x5b5c2f,_0x9439c5)});return _0x35f8b6[_0x17a41b(0x592)](0xc8)[_0x17a41b(0x731)](_0x335895);})[_0x1adbe6(0x5db)](this[_0x1adbe6(0x54b)](_0x1adbe6(0x5fc)),..._0x1da9ad,async(_0x576b2a,_0x221857)=>{const _0x1e7333=_0x1adbe6;let _0x597a63=await this[_0x1e7333(0x6ee)]({'request':_0x576b2a,'schema':Ta,'ClassRef':Je,'execute':(_0x1508aa,_0x7ba144)=>D[_0x1e7333(0x5fc)](_0x1508aa,_0x7ba144)});return _0x221857[_0x1e7333(0x592)](0xc8)['json'](_0x597a63);})[_0x1adbe6(0x6a0)](this[_0x1adbe6(0x54b)](_0x1adbe6(0x5ea)),..._0x1da9ad,async(_0x34b47c,_0x9c2ceb)=>{const _0x4425e4=_0x1adbe6;let _0xc998e7=await this[_0x4425e4(0x6ee)]({'request':_0x34b47c,'schema':Ee,'ClassRef':we,'execute':(_0x4e12a4,_0x53e57b)=>D[_0x4425e4(0x5ea)](_0x4e12a4,_0x53e57b)});return _0x9c2ceb[_0x4425e4(0x592)](0xc8)[_0x4425e4(0x731)](_0xc998e7);})[_0x1adbe6(0x6ad)](this[_0x1adbe6(0x54b)](_0x1adbe6(0x561)),..._0x1da9ad,async(_0x3e728d,_0x2fc2c9)=>{const _0x36e4b1=_0x1adbe6;let _0x38a7d5=await this[_0x36e4b1(0x6ee)]({'request':_0x3e728d,'schema':Ee,'ClassRef':we,'execute':(_0xe73a35,_0x37d7a2)=>D['removeProfilePicture'](_0xe73a35,_0x37d7a2)});return _0x2fc2c9[_0x36e4b1(0x592)](0xc8)[_0x36e4b1(0x731)](_0x38a7d5);});}},Va=require('express'),Qe=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},Z=class{},tt=class{},st=class extends Z{},at=class extends Z{},it=class extends L{constructor(..._0x6f9a3c){const _0x35f302=a0_0x22fdc2;super(),this[_0x35f302(0x282)]=(0x0,Va[_0x35f302(0x522)])(),this['router'][_0x35f302(0x5db)](this['routerPath'](_0x35f302(0x3c0)),..._0x6f9a3c,async(_0x17631f,_0x239663)=>{const _0x896dde=_0x35f302;let _0x11574b=await this[_0x896dde(0x6ee)]({'request':_0x17631f,'schema':Oa,'ClassRef':Qe,'execute':(_0x72c5a,_0x4875c1)=>V[_0x896dde(0x1c2)](_0x72c5a,_0x4875c1)});_0x239663[_0x896dde(0x592)](0xc9)[_0x896dde(0x731)](_0x11574b);})[_0x35f302(0x6a0)](this[_0x35f302(0x54b)](_0x35f302(0x70d)),..._0x6f9a3c,async(_0x280bd1,_0x4ecec4)=>{const _0x5552af=_0x35f302;let _0xc83a=await this[_0x5552af(0x6cd)]({'request':_0x280bd1,'schema':Pa,'ClassRef':Ye,'execute':(_0x331383,_0x417b29)=>V[_0x5552af(0x70d)](_0x331383,_0x417b29)});_0x4ecec4[_0x5552af(0x592)](0xc9)[_0x5552af(0x731)](_0xc83a);})[_0x35f302(0x6a0)](this['routerPath'](_0x35f302(0x6e6)),..._0x6f9a3c,async(_0x52ad1c,_0x342dac)=>{const _0x503d01=_0x35f302;let _0x533295=await this['groupValidate']({'request':_0x52ad1c,'schema':xa,'ClassRef':Xe,'execute':(_0x44203c,_0x3dcb5f)=>V[_0x503d01(0x6e6)](_0x44203c,_0x3dcb5f)});_0x342dac[_0x503d01(0x592)](0xc9)[_0x503d01(0x731)](_0x533295);})[_0x35f302(0x6a0)](this[_0x35f302(0x54b)](_0x35f302(0x4b7)),..._0x6f9a3c,async(_0x501b9a,_0xcf76dd)=>{const _0xc03b76=_0x35f302;let _0x24bb03=await this['groupValidate']({'request':_0x501b9a,'schema':$a,'ClassRef':Ze,'execute':(_0x1d7e55,_0x2d3463)=>V[_0xc03b76(0x4b7)](_0x1d7e55,_0x2d3463)});_0xcf76dd[_0xc03b76(0x592)](0xc9)[_0xc03b76(0x731)](_0x24bb03);})['put'](this[_0x35f302(0x54b)](_0x35f302(0x588)),..._0x6f9a3c,async(_0x1a02bf,_0x39a093)=>{const _0x8b681d=_0x35f302;let _0x3dfc68=await this[_0x8b681d(0x6cd)]({'request':_0x1a02bf,'schema':ka,'ClassRef':et,'execute':(_0x221170,_0x1bceda)=>V[_0x8b681d(0x588)](_0x221170,_0x1bceda)});_0x39a093[_0x8b681d(0x592)](0xc9)['json'](_0x3dfc68);})[_0x35f302(0x6a0)](this['routerPath'](_0x35f302(0x4cf)),..._0x6f9a3c,async(_0x55976d,_0x11c0b1)=>{const _0x17298c=_0x35f302;let _0x18c210=await this[_0x17298c(0x6cd)]({'request':_0x55976d,'schema':_a,'ClassRef':at,'execute':(_0x40a6c4,_0x828d89)=>V[_0x17298c(0x4cf)](_0x40a6c4,_0x828d89)});_0x11c0b1[_0x17298c(0x592)](0xc9)['json'](_0x18c210);})[_0x35f302(0x71b)](this[_0x35f302(0x54b)]('findGroupInfos'),..._0x6f9a3c,async(_0x499ed8,_0x5a291c)=>{const _0x413dd0=_0x35f302;let _0x1cb6ce=await this[_0x413dd0(0x6cd)]({'request':_0x499ed8,'schema':ve,'ClassRef':Z,'execute':(_0x142d01,_0x10b37e)=>V['findGroupInfo'](_0x142d01,_0x10b37e)});_0x5a291c[_0x413dd0(0x592)](0xc8)[_0x413dd0(0x731)](_0x1cb6ce);})[_0x35f302(0x71b)](this['routerPath'](_0x35f302(0x3a5)),..._0x6f9a3c,async(_0x443584,_0x244610)=>{const _0x30b9ed=_0x35f302;let _0x189655=await this[_0x30b9ed(0x6ee)]({'request':_0x443584,'schema':N,'ClassRef':S,'execute':_0x16072d=>V[_0x30b9ed(0x3a5)](_0x16072d)});_0x244610['status'](0xc8)[_0x30b9ed(0x731)](_0x189655);})[_0x35f302(0x71b)](this['routerPath'](_0x35f302(0x30f)),..._0x6f9a3c,async(_0x73f40d,_0x16d65d)=>{const _0x3beceb=_0x35f302;let _0x370eb4=await this[_0x3beceb(0x6cd)]({'request':_0x73f40d,'schema':ve,'ClassRef':Z,'execute':(_0x3d8776,_0x5387a3)=>V['findParticipants'](_0x3d8776,_0x5387a3)});_0x16d65d[_0x3beceb(0x592)](0xc8)['json'](_0x370eb4);})[_0x35f302(0x71b)](this[_0x35f302(0x54b)](_0x35f302(0x58f)),..._0x6f9a3c,async(_0x62df2c,_0x399476)=>{const _0x464f4d=_0x35f302;let _0xaf5afd=await this[_0x464f4d(0x6cd)]({'request':_0x62df2c,'schema':ve,'ClassRef':Z,'execute':(_0x56e41,_0x1a3b55)=>V[_0x464f4d(0x58f)](_0x56e41,_0x1a3b55)});_0x399476[_0x464f4d(0x592)](0xc8)[_0x464f4d(0x731)](_0xaf5afd);})[_0x35f302(0x6a0)](this[_0x35f302(0x54b)](_0x35f302(0x201)),..._0x6f9a3c,async(_0x1d3a92,_0x3ebbaa)=>{const _0x170f3f=_0x35f302;let _0xaf002d=await this[_0x170f3f(0x74b)]({'request':_0x1d3a92,'schema':La,'ClassRef':tt,'execute':(_0x5aaee8,_0x19d32e)=>V[_0x170f3f(0x201)](_0x5aaee8,_0x19d32e)});_0x3ebbaa[_0x170f3f(0x592)](0xc9)[_0x170f3f(0x731)](_0xaf002d);})[_0x35f302(0x6a0)](this[_0x35f302(0x54b)](_0x35f302(0x508)),..._0x6f9a3c,async(_0x3bdb7a,_0x132937)=>{const _0x53e971=_0x35f302;let _0x1cb96c=await this[_0x53e971(0x6cd)]({'request':_0x3bdb7a,'schema':ve,'ClassRef':Z,'execute':(_0x3291b9,_0x2c0b19)=>V[_0x53e971(0x508)](_0x3291b9,_0x2c0b19)});_0x132937[_0x53e971(0x592)](0xc9)['json'](_0x1cb96c);})['put'](this[_0x35f302(0x54b)]('updateParticipant'),..._0x6f9a3c,async(_0x865b20,_0x2a39ad)=>{const _0x38b361=_0x35f302;let _0x3286a9=await this['groupValidate']({'request':_0x865b20,'schema':Da,'ClassRef':st,'execute':(_0x1499cd,_0x49d7ed)=>V[_0x38b361(0x40f)](_0x1499cd,_0x49d7ed)});_0x2a39ad[_0x38b361(0x592)](0xc9)[_0x38b361(0x731)](_0x3286a9);})[_0x35f302(0x6ad)](this['routerPath'](_0x35f302(0x47a)),..._0x6f9a3c,async(_0x31248f,_0x5bdab1)=>{const _0x4046b7=_0x35f302;let _0x3706d2=await this[_0x4046b7(0x6cd)]({'request':_0x31248f,'schema':{},'ClassRef':Z,'execute':(_0x49e33d,_0x3c2519)=>V[_0x4046b7(0x47a)](_0x49e33d,_0x3c2519)});_0x5bdab1[_0x4046b7(0x592)](0xc8)[_0x4046b7(0x731)](_0x3706d2);});}},qa=require(a0_0x22fdc2(0x446)),Ne=require(a0_0x22fdc2(0x3f5)),us=require(a0_0x22fdc2(0x28f)),ja=require('class-validator'),Fa=M(require(a0_0x22fdc2(0x475))),ot=class{},rt=class c{constructor(_0x2dcd1e,_0x4c41bf,_0x51d1b9){const _0x28dafd=a0_0x22fdc2;this[_0x28dafd(0x6fa)]=_0x2dcd1e,this['waMonitor']=_0x4c41bf,this[_0x28dafd(0x7ac)]=_0x51d1b9,this['logger']=new C(c[_0x28dafd(0x5a6)]);}async[a0_0x22fdc2(0x638)](_0x3bcfef){const _0x13ff77=a0_0x22fdc2;let _0xd20583=this['configService'][_0x13ff77(0x71b)](_0x13ff77(0x313))[_0x13ff77(0x4f3)],_0x2839ba=(0x0,Ne[_0x13ff77(0x65a)])({'instanceName':_0x3bcfef[_0x13ff77(0x5d2)],'apiName':Be,'tokenId':(0x0,us['v4'])()},_0xd20583['SECRET'],{'expiresIn':_0xd20583[_0x13ff77(0x200)],'encoding':_0x13ff77(0x652),'subject':_0x13ff77(0x74d)}),_0x5a1b00=await this[_0x13ff77(0x7ac)][_0x13ff77(0x665)][_0x13ff77(0x3c0)]({'jwt':_0x2839ba},_0x3bcfef[_0x13ff77(0x5d2)]);if(_0x5a1b00[_0x13ff77(0x367)])throw this['logger'][_0x13ff77(0x367)]({'localError':c[_0x13ff77(0x5a6)]+'.jwt','error':_0x5a1b00[_0x13ff77(0x367)]}),new g(_0x13ff77(0x399),_0x5a1b00['error']?.[_0x13ff77(0x78b)]());return{'jwt':_0x2839ba};}async['apikey'](_0x1af923){const _0x24e656=a0_0x22fdc2;let _0x375250=(0x0,us['v4'])()[_0x24e656(0x78c)](),_0x537fad=await this[_0x24e656(0x7ac)][_0x24e656(0x665)][_0x24e656(0x3c0)]({'apikey':_0x375250},_0x1af923[_0x24e656(0x5d2)]);if(_0x537fad['error'])throw this[_0x24e656(0x3e1)][_0x24e656(0x367)]({'localError':c[_0x24e656(0x5a6)]+_0x24e656(0x7a4),'error':_0x537fad[_0x24e656(0x367)]}),new g(_0x24e656(0x399),_0x537fad['error']?.[_0x24e656(0x78b)]());return{'apikey':_0x375250};}async[a0_0x22fdc2(0x502)](_0x24d0d3){const _0x35e887=a0_0x22fdc2;let _0x555073=this[_0x35e887(0x6fa)]['get']('AUTHENTICATION');return await this[_0x555073['TYPE']](_0x24d0d3);}async[a0_0x22fdc2(0x4ee)]({oldToken:_0x3fc2de}){const _0x27a257=a0_0x22fdc2;if(!(0x0,ja[_0x27a257(0x73c)])(_0x3fc2de))throw new g(_0x27a257(0x211));try{let _0x70cb60=this[_0x27a257(0x6fa)]['get'](_0x27a257(0x313))['JWT'],_0x105327=(0x0,Ne[_0x27a257(0x794)])(_0x3fc2de,_0x70cb60[_0x27a257(0x473)],{'ignoreExpiration':!0x0}),_0x9dd660=await this[_0x27a257(0x7ac)][_0x27a257(0x665)][_0x27a257(0x631)](_0x105327[_0x27a257(0x5d2)]),_0x4fe308=(0x0,Ne[_0x27a257(0x794)])(_0x9dd660[_0x27a257(0x638)],_0x70cb60[_0x27a257(0x473)],{'ignoreExpiration':!0x0});if(_0x105327[_0x27a257(0x262)]!==_0x4fe308['tokenId'])throw new g(_0x27a257(0x211));let _0x8c501f={'jwt':(await this[_0x27a257(0x638)]({'instanceName':_0x105327[_0x27a257(0x5d2)]}))['jwt'],'instanceName':_0x105327[_0x27a257(0x5d2)]};try{let _0x2e0751=await this[_0x27a257(0x7ac)][_0x27a257(0x3ea)][_0x27a257(0x631)](_0x105327['instanceName']);_0x2e0751?.[_0x27a257(0x423)]&&this[_0x27a257(0x6fa)][_0x27a257(0x71b)](_0x27a257(0x57c))[_0x27a257(0x349)][_0x27a257(0x67f)]&&await Fa[_0x27a257(0x421)]['create']({'baseURL':_0x2e0751[_0x27a257(0x53c)]})['post']('',{'event':_0x27a257(0x5d4),'instance':_0x105327[_0x27a257(0x5d2)],'data':_0x8c501f},{'params':{'owner':this[_0x27a257(0x5e2)][_0x27a257(0x64d)][_0x105327[_0x27a257(0x5d2)]][_0x27a257(0x537)]}});}catch(_0x50dba6){this['logger'][_0x27a257(0x367)](_0x50dba6);}return _0x8c501f;}catch(_0xf7237e){throw this[_0x27a257(0x3e1)][_0x27a257(0x367)]({'localError':c[_0x27a257(0x5a6)]+_0x27a257(0x6e7),'error':_0xf7237e}),new g(_0x27a257(0x211));}}},nt=class extends L{constructor(_0x1e4a20,..._0xdc798e){const _0x54d2b1=a0_0x22fdc2;super(),this[_0x54d2b1(0x6fa)]=_0x1e4a20,this[_0x54d2b1(0x282)]=(0x0,qa['Router'])();let _0x54b73c=_0x1e4a20[_0x54d2b1(0x71b)](_0x54d2b1(0x313));this[_0x54d2b1(0x282)][_0x54d2b1(0x5db)]('/create',..._0xdc798e,async(_0x33d19c,_0xe659aa)=>{const _0x22e893=_0x54d2b1;let {instanceName:_0x237736,apikey:_0x22fe5c}=_0x33d19c[_0x22e893(0x672)],_0x3a9c27=await re['createInstance']({'instanceName':_0x237736,'apikey':_0x22fe5c});return _0xe659aa[_0x22e893(0x592)](0xc9)[_0x22e893(0x731)](_0x3a9c27);})[_0x54d2b1(0x6a0)](this[_0x54d2b1(0x54b)](_0x54d2b1(0x228)),..._0xdc798e,async(_0x4711e7,_0x256fbd)=>{const _0x2e4f10=_0x54d2b1;let _0x5e3bbd=await this['dataValidate']({'request':_0x4711e7,'schema':N,'ClassRef':S,'execute':_0x3cb4d9=>re[_0x2e4f10(0x23e)](_0x3cb4d9)});return _0x256fbd['status'](0xc8)[_0x2e4f10(0x731)](_0x5e3bbd);})[_0x54d2b1(0x71b)](this[_0x54d2b1(0x54b)](_0x54d2b1(0x4e9)),..._0xdc798e,async(_0x3956da,_0x1a1590)=>{const _0x525047=_0x54d2b1;let _0x32e27c=await this[_0x525047(0x6ee)]({'request':_0x3956da,'schema':N,'ClassRef':S,'execute':_0x1a6467=>re[_0x525047(0x2f7)](_0x1a6467)});return _0x1a1590[_0x525047(0x592)](0xc8)[_0x525047(0x731)](_0x32e27c);})[_0x54d2b1(0x71b)](this[_0x54d2b1(0x54b)](_0x54d2b1(0x4a6)),..._0xdc798e,async(_0x47b237,_0x5ba49d)=>{const _0x510c89=_0x54d2b1;let _0x37dcce=await this['dataValidate']({'request':_0x47b237,'schema':N,'ClassRef':S,'execute':_0x3023ce=>re[_0x510c89(0x4a6)](_0x3023ce)});return _0x5ba49d[_0x510c89(0x592)](0xc8)[_0x510c89(0x731)](_0x37dcce);})[_0x54d2b1(0x71b)](this[_0x54d2b1(0x54b)]('fetchInstances',!0x1),..._0xdc798e,async(_0xd70111,_0x4f10bc)=>{const _0x5b8ef0=_0x54d2b1;let _0x4af5ac=await this[_0x5b8ef0(0x6ee)]({'request':_0xd70111,'schema':null,'ClassRef':S,'execute':_0x2c2a9e=>re[_0x5b8ef0(0x26a)](_0x2c2a9e)});return _0x4f10bc[_0x5b8ef0(0x592)](0xc8)[_0x5b8ef0(0x731)](_0x4af5ac);})['delete'](this[_0x54d2b1(0x54b)](_0x54d2b1(0x42e)),..._0xdc798e,async(_0x1a315c,_0x58a83e)=>{const _0x5160ed=_0x54d2b1;let _0x8d1306=await this[_0x5160ed(0x6ee)]({'request':_0x1a315c,'schema':N,'ClassRef':S,'execute':_0xaafde1=>re[_0x5160ed(0x42e)](_0xaafde1)});return _0x58a83e[_0x5160ed(0x592)](0xc8)[_0x5160ed(0x731)](_0x8d1306);})[_0x54d2b1(0x6ad)](this[_0x54d2b1(0x54b)](_0x54d2b1(0x6ad)),..._0xdc798e,async(_0x79a010,_0x1827a6)=>{const _0x1c6abb=_0x54d2b1;let _0x36925b=await this['dataValidate']({'request':_0x79a010,'schema':N,'ClassRef':S,'execute':_0x41625a=>re['deleteInstance'](_0x41625a)});return _0x1827a6['status'](0xc8)[_0x1c6abb(0x731)](_0x36925b);}),_0x54b73c[_0x54d2b1(0x3ff)]==='jwt'&&this[_0x54d2b1(0x282)]['put']('/refreshToken',async(_0x4ea0e4,_0x589f29)=>{const _0x41ef3d=_0x54d2b1;let _0x38c4de=await this[_0x41ef3d(0x6ee)]({'request':_0x4ea0e4,'schema':oa,'ClassRef':ot,'execute':(_0x2b8360,_0x1dc838)=>re['refreshToken'](_0x2b8360,_0x1dc838)});return _0x589f29[_0x41ef3d(0x592)](0xc9)['json'](_0x38c4de);});}},Ga=require(a0_0x22fdc2(0x446)),ds=class{},K=class extends ds{},ct=class extends K{},lt=class extends K{},ut=class extends K{},dt=class extends K{},Ce=class extends K{},pt=class extends K{},gt=class extends K{},mt=class extends K{},ht=class extends K{},ft=class extends K{},wt=class{},yt=class extends L{constructor(..._0x2283aa){const _0x4d4bc0=a0_0x22fdc2;super(),this[_0x4d4bc0(0x282)]=(0x0,Ga['Router'])(),this[_0x4d4bc0(0x282)][_0x4d4bc0(0x5db)](this[_0x4d4bc0(0x54b)](_0x4d4bc0(0x254)),..._0x2283aa,async(_0x25ed41,_0x5eaf19)=>{const _0x30fe98=_0x4d4bc0;let _0x2579c4=await this[_0x30fe98(0x6ee)]({'request':_0x25ed41,'schema':ra,'ClassRef':ct,'execute':(_0x4638ea,_0x253dab)=>W[_0x30fe98(0x254)](_0x4638ea,_0x253dab)});return _0x5eaf19[_0x30fe98(0x592)](0xc9)[_0x30fe98(0x731)](_0x2579c4);})[_0x4d4bc0(0x5db)](this['routerPath'](_0x4d4bc0(0x6b4)),..._0x2283aa,async(_0x1d2341,_0x70d9ee)=>{const _0x4c3c80=_0x4d4bc0;let _0x28dab7=await this[_0x4c3c80(0x6ee)]({'request':_0x1d2341,'schema':ua,'ClassRef':Ce,'execute':(_0x56bdcc,_0x3efe44)=>W[_0x4c3c80(0x6b4)](_0x56bdcc,_0x3efe44)});return _0x70d9ee[_0x4c3c80(0x592)](0xc9)[_0x4c3c80(0x731)](_0x28dab7);})[_0x4d4bc0(0x5db)](this[_0x4d4bc0(0x54b)]('sendMenu'),..._0x2283aa,async(_0x596b07,_0x2dcfcb)=>{const _0x266855=_0x4d4bc0;let _0x31df04=await this[_0x266855(0x6ee)]({'request':_0x596b07,'schema':ga,'ClassRef':dt,'execute':(_0x5752a3,_0x5c1b99)=>W[_0x266855(0x2c4)](_0x5752a3,_0x5c1b99)});return _0x2dcfcb[_0x266855(0x592)](0xc9)[_0x266855(0x731)](_0x31df04);})[_0x4d4bc0(0x5db)](this[_0x4d4bc0(0x54b)](_0x4d4bc0(0x40a)),..._0x2283aa,async(_0x5d066c,_0x2a8202)=>{const _0x23e13b=_0x4d4bc0;let _0x1da2cd=await this[_0x23e13b(0x6ee)]({'request':_0x5d066c,'schema':da,'ClassRef':Ce,'execute':(_0xe95bd7,_0x6127a9)=>W[_0x23e13b(0x40a)](_0xe95bd7,_0x6127a9)});return _0x2a8202[_0x23e13b(0x592)](0xc9)['json'](_0x1da2cd);})[_0x4d4bc0(0x5db)](this[_0x4d4bc0(0x54b)]('sendButtons'),..._0x2283aa,async(_0x43a448,_0x4e8d7d)=>{const _0x3d0cec=_0x4d4bc0;let _0x285f69=await this['dataValidate']({'request':_0x43a448,'schema':ma,'ClassRef':gt,'execute':(_0x4f43d4,_0x16b64c)=>W[_0x3d0cec(0x359)](_0x4f43d4,_0x16b64c)});return _0x4e8d7d[_0x3d0cec(0x592)](0xc9)[_0x3d0cec(0x731)](_0x285f69);})['post'](this[_0x4d4bc0(0x54b)](_0x4d4bc0(0x352)),..._0x2283aa,async(_0x26f734,_0x242f4a)=>{const _0x81506c=_0x4d4bc0;let _0x37fe2a=await this['dataValidate']({'request':_0x26f734,'schema':ha,'ClassRef':mt,'execute':(_0x2708a6,_0x44ba5a)=>W['sendLocation'](_0x2708a6,_0x44ba5a)});return _0x242f4a[_0x81506c(0x592)](0xc9)['json'](_0x37fe2a);})['post'](this[_0x4d4bc0(0x54b)]('sendList'),..._0x2283aa,async(_0x3317c0,_0x201c09)=>{const _0x116a4c=_0x4d4bc0;let _0x288ff8=await this[_0x116a4c(0x6ee)]({'request':_0x3317c0,'schema':fa,'ClassRef':ht,'execute':(_0x55bed7,_0x518cad)=>W[_0x116a4c(0x696)](_0x55bed7,_0x518cad)});return _0x201c09[_0x116a4c(0x592)](0xc9)[_0x116a4c(0x731)](_0x288ff8);})[_0x4d4bc0(0x5db)](this[_0x4d4bc0(0x54b)](_0x4d4bc0(0x714)),..._0x2283aa,async(_0x1bb926,_0x27de4c)=>{const _0x836ca2=_0x4d4bc0;let _0xb4d377=await this['dataValidate']({'request':_0x1bb926,'schema':wa,'ClassRef':ft,'execute':(_0xb8513d,_0x5ac967)=>W[_0x836ca2(0x714)](_0xb8513d,_0x5ac967)});return _0x27de4c[_0x836ca2(0x592)](0xc9)[_0x836ca2(0x731)](_0xb4d377);})[_0x4d4bc0(0x5db)](this[_0x4d4bc0(0x54b)](_0x4d4bc0(0x4a4)),..._0x2283aa,async(_0x110056,_0x355cf1)=>{const _0x231ca2=_0x4d4bc0;let _0x958b44=await this[_0x231ca2(0x6ee)]({'request':_0x110056,'schema':ya,'ClassRef':wt,'execute':(_0x617455,_0x48fb94)=>W[_0x231ca2(0x4a4)](_0x617455,_0x48fb94)});return _0x355cf1[_0x231ca2(0x592)](0xc9)[_0x231ca2(0x731)](_0x958b44);})[_0x4d4bc0(0x5db)](this[_0x4d4bc0(0x54b)](_0x4d4bc0(0x20e)),..._0x2283aa,async(_0x5035de,_0xbb10ff)=>{const _0x357ce7=_0x4d4bc0;let _0xaec528=await this[_0x357ce7(0x6ee)]({'request':_0x5035de,'schema':pa,'ClassRef':ut,'execute':(_0x3a05db,_0x1d05d1)=>W[_0x357ce7(0x20e)](_0x3a05db,_0x1d05d1)});return _0xbb10ff[_0x357ce7(0x592)](0xc9)[_0x357ce7(0x731)](_0xaec528);})[_0x4d4bc0(0x5db)](this[_0x4d4bc0(0x54b)](_0x4d4bc0(0x624)),..._0x2283aa,async(_0x49745a,_0x546641)=>{const _0x5a9dd0=_0x4d4bc0;let _0x18cfa4=await this['dataValidate']({'request':_0x49745a,'schema':la,'ClassRef':lt,'execute':(_0x238f8f,_0xcc01cc)=>W['sendStatus'](_0x238f8f,_0xcc01cc)});return _0x546641[_0x5a9dd0(0x592)](0xc9)['json'](_0x18cfa4);})[_0x4d4bc0(0x5db)](this[_0x4d4bc0(0x54b)](_0x4d4bc0(0x2db)),..._0x2283aa,async(_0x4e376c,_0x514fe4)=>{const _0x5ab4d4=_0x4d4bc0;let _0x327396=await this[_0x5ab4d4(0x6ee)]({'request':_0x4e376c,'schema':ca,'ClassRef':pt,'execute':(_0x254d44,_0x3f0bf6)=>W[_0x5ab4d4(0x2db)](_0x254d44,_0x3f0bf6)});return _0x514fe4['status'](0xc9)[_0x5ab4d4(0x731)](_0x327396);});}},Ba=require('express'),bt=class extends L{constructor(..._0x39767b){const _0x1b8d7e=a0_0x22fdc2;super(),this[_0x1b8d7e(0x282)]=(0x0,Ba[_0x1b8d7e(0x522)])(),this[_0x1b8d7e(0x282)][_0x1b8d7e(0x71b)](this['routerPath'](_0x1b8d7e(0x21a)),..._0x39767b,(_0x1797d2,_0x4fbffa)=>Wa[_0x1b8d7e(0x21a)](_0x1797d2,_0x4fbffa));}},Ha=require(a0_0x22fdc2(0x446)),St=class{},Et=class extends L{constructor(..._0x329824){const _0x3d6ce8=a0_0x22fdc2;super(),this[_0x3d6ce8(0x282)]=(0x0,Ha[_0x3d6ce8(0x522)])(),this['router']['post'](this['routerPath'](_0x3d6ce8(0x39c)),..._0x329824,async(_0x40b3a5,_0x77118a)=>{const _0x3396d5=_0x3d6ce8;let _0x407162=await this[_0x3396d5(0x6ee)]({'request':_0x40b3a5,'schema':Ua,'ClassRef':St,'execute':(_0x852b61,_0x45488d)=>ps[_0x3396d5(0x213)](_0x852b61,_0x45488d)});_0x77118a[_0x3396d5(0x592)](0xc9)[_0x3396d5(0x731)](_0x407162);})[_0x3d6ce8(0x71b)](this[_0x3d6ce8(0x54b)](_0x3d6ce8(0x631)),..._0x329824,async(_0x53ea1d,_0x11710c)=>{const _0x35a583=_0x3d6ce8;let _0x1a58bb=await this[_0x35a583(0x6ee)]({'request':_0x53ea1d,'schema':N,'ClassRef':S,'execute':_0x3dfcef=>ps[_0x35a583(0x2dd)](_0x3dfcef)});_0x11710c[_0x35a583(0x592)](0xc8)[_0x35a583(0x731)](_0x1a58bb);});}},za=require('express'),h=new C(a0_0x22fdc2(0x65e)),vt=class extends L{constructor(..._0x4e4a8a){const _0x4f8ac0=a0_0x22fdc2;super(),this[_0x4f8ac0(0x282)]=(0x0,za[_0x4f8ac0(0x522)])(),this[_0x4f8ac0(0x282)][_0x4f8ac0(0x5db)](this[_0x4f8ac0(0x54b)](_0x4f8ac0(0x215)),..._0x4e4a8a,async(_0x543711,_0x4dd649)=>{const _0x883e47=_0x4f8ac0;let _0x2d9993=_0x543711[_0x883e47(0x672)];h[_0x883e47(0x31e)](_0x883e47(0x1cf)),h[_0x883e47(0x31e)](_0x883e47(0x20c)),h['verbose'](_0x543711[_0x883e47(0x672)]);let _0x43b9a6=await this[_0x883e47(0x6ee)]({'request':_0x543711,'schema':N,'ClassRef':S,'execute':_0xf8bed2=>T['editScheduleMessage'](_0xf8bed2,_0x2d9993)});_0x4dd649[_0x883e47(0x592)](0xc8)['json'](_0x43b9a6);})['get'](this[_0x4f8ac0(0x54b)](_0x4f8ac0(0x215)),..._0x4e4a8a,async(_0x3152d8,_0x57f159)=>{const _0x24c8ff=_0x4f8ac0;let _0x5c89e4=await this['dataValidate']({'request':_0x3152d8,'schema':N,'ClassRef':S,'execute':_0x234592=>T[_0x24c8ff(0x754)](_0x234592)});_0x57f159[_0x24c8ff(0x592)](0xc8)['json'](_0x5c89e4);})['delete'](this['routerPath'](_0x4f8ac0(0x479)),..._0x4e4a8a,async(_0x536dfd,_0x3a6f8e)=>{const _0x5eb331=_0x4f8ac0;h['verbose'](_0x5eb331(0x658));let _0x4647b7=await this['dataValidate']({'request':_0x536dfd,'schema':N,'ClassRef':S,'execute':_0x49f5af=>T[_0x5eb331(0x479)](_0x49f5af)});_0x3a6f8e[_0x5eb331(0x592)](0xc8)[_0x5eb331(0x731)](_0x4647b7);})[_0x4f8ac0(0x5db)](this[_0x4f8ac0(0x54b)](_0x4f8ac0(0x677)),..._0x4e4a8a,async(_0x730710,_0x9aa200)=>{const _0x16ed44=_0x4f8ac0;let _0x4144f2=_0x730710[_0x16ed44(0x672)];h[_0x16ed44(0x31e)]('request\x20received\x20in\x20starFlow'),h['verbose']('request\x20body:\x20'),h['verbose'](_0x730710[_0x16ed44(0x672)]);let _0xd73aad=await this[_0x16ed44(0x6ee)]({'request':_0x730710,'schema':N,'ClassRef':S,'execute':_0x46805a=>T[_0x16ed44(0x677)](_0x46805a,_0x4144f2)});_0x9aa200[_0x16ed44(0x592)](0xc8)['json'](_0xd73aad);})[_0x4f8ac0(0x71b)](this['routerPath']('getAutomateSystem'),..._0x4e4a8a,async(_0x14fb80,_0x10f9ea)=>{const _0x3f4f5d=_0x4f8ac0;h[_0x3f4f5d(0x31e)](_0x3f4f5d(0x5fd));let _0x4c207c=await this[_0x3f4f5d(0x6ee)]({'request':_0x14fb80,'schema':N,'ClassRef':S,'execute':_0x457211=>T[_0x3f4f5d(0x261)](_0x457211)});_0x10f9ea['status'](0xc8)['json'](_0x4c207c);})['get'](this[_0x4f8ac0(0x54b)](_0x4f8ac0(0x63b)),..._0x4e4a8a,async(_0x14e7c8,_0x2055bb)=>{const _0x185d46=_0x4f8ac0;h[_0x185d46(0x31e)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x3cd961=await this[_0x185d46(0x6ee)]({'request':_0x14e7c8,'schema':N,'ClassRef':S,'execute':_0x49133b=>T[_0x185d46(0x261)](_0x49133b)});_0x2055bb[_0x185d46(0x592)](0xc8)[_0x185d46(0x731)](_0x3cd961);})['post'](this[_0x4f8ac0(0x54b)](_0x4f8ac0(0x250)),..._0x4e4a8a,async(_0x39086d,_0x531a42)=>{const _0x34b5ed=_0x4f8ac0;let _0x508f81=_0x39086d[_0x34b5ed(0x672)];h[_0x34b5ed(0x31e)](_0x34b5ed(0x3ce)),h['verbose'](_0x34b5ed(0x20c)),h[_0x34b5ed(0x31e)](_0x39086d[_0x34b5ed(0x672)]);let _0x5ec5a8=await this[_0x34b5ed(0x6ee)]({'request':_0x39086d,'schema':N,'ClassRef':S,'execute':_0x4a24db=>T[_0x34b5ed(0x250)](_0x4a24db,_0x508f81)});_0x531a42[_0x34b5ed(0x592)](0xc8)[_0x34b5ed(0x731)](_0x5ec5a8);})['post'](this[_0x4f8ac0(0x54b)]('updateCustomFields'),..._0x4e4a8a,async(_0x442785,_0x3ddb37)=>{const _0x1792e4=_0x4f8ac0;let _0x355e26=_0x442785[_0x1792e4(0x672)];h[_0x1792e4(0x31e)](_0x1792e4(0x782)),h['verbose'](_0x1792e4(0x20c)),h[_0x1792e4(0x31e)](_0x442785[_0x1792e4(0x672)]);let _0x571581=await this[_0x1792e4(0x6ee)]({'request':_0x442785,'schema':N,'ClassRef':S,'execute':_0x2afa73=>T[_0x1792e4(0x6c9)](_0x2afa73,_0x355e26)});_0x3ddb37[_0x1792e4(0x592)](0xc8)[_0x1792e4(0x731)](_0x571581);})[_0x4f8ac0(0x5db)](this[_0x4f8ac0(0x54b)](_0x4f8ac0(0x29b)),..._0x4e4a8a,async(_0x353c8e,_0x5abd97)=>{const _0x5617c1=_0x4f8ac0;let _0x5ab231=_0x353c8e[_0x5617c1(0x672)];h[_0x5617c1(0x31e)](_0x5617c1(0x625)),h[_0x5617c1(0x31e)](_0x5617c1(0x20c)),h[_0x5617c1(0x31e)](_0x353c8e[_0x5617c1(0x672)]);let _0x2c6d56=await this[_0x5617c1(0x6ee)]({'request':_0x353c8e,'schema':N,'ClassRef':S,'execute':_0x4a7395=>T[_0x5617c1(0x29b)](_0x4a7395,_0x5ab231)});_0x5abd97['status'](0xc8)[_0x5617c1(0x731)](_0x2c6d56);})['post'](this[_0x4f8ac0(0x54b)](_0x4f8ac0(0x62a)),..._0x4e4a8a,async(_0xa5ce38,_0xd7fd78)=>{const _0x44b6a9=_0x4f8ac0;let _0x3b3da3=_0xa5ce38['body'];h[_0x44b6a9(0x31e)](_0x44b6a9(0x366)),h[_0x44b6a9(0x31e)]('request\x20body:\x20'),h[_0x44b6a9(0x31e)](_0xa5ce38['body']);let _0x3b395e=await this[_0x44b6a9(0x6ee)]({'request':_0xa5ce38,'schema':N,'ClassRef':S,'execute':_0x57ed82=>T['getConversation'](_0x57ed82,_0x3b3da3)});_0xd7fd78[_0x44b6a9(0x592)](0xc8)[_0x44b6a9(0x731)](_0x3b395e);})[_0x4f8ac0(0x5db)](this['routerPath'](_0x4f8ac0(0x778)),..._0x4e4a8a,async(_0x8a32a5,_0x5b43b2)=>{const _0x5d3254=_0x4f8ac0;let _0x1ab603=_0x8a32a5[_0x5d3254(0x672)];h[_0x5d3254(0x31e)](_0x5d3254(0x40e)),h[_0x5d3254(0x31e)](_0x5d3254(0x20c)),h[_0x5d3254(0x31e)](_0x8a32a5[_0x5d3254(0x672)]);let _0x3fb9d9=await this['dataValidate']({'request':_0x8a32a5,'schema':N,'ClassRef':S,'execute':_0x3e9e83=>T[_0x5d3254(0x778)](_0x3e9e83,_0x1ab603)});_0x5b43b2[_0x5d3254(0x592)](0xc8)[_0x5d3254(0x731)](_0x3fb9d9);})[_0x4f8ac0(0x5db)](this[_0x4f8ac0(0x54b)]('editConversation'),..._0x4e4a8a,async(_0x4b4662,_0x329373)=>{const _0x448cd3=_0x4f8ac0;let _0x50443d=_0x4b4662[_0x448cd3(0x672)];h[_0x448cd3(0x31e)](_0x448cd3(0x568)),h[_0x448cd3(0x31e)](_0x448cd3(0x20c)),h['verbose'](_0x4b4662[_0x448cd3(0x672)]);let _0x3bce5f=await this[_0x448cd3(0x6ee)]({'request':_0x4b4662,'schema':N,'ClassRef':S,'execute':_0x3799e2=>T['editConversation'](_0x3799e2,_0x50443d)});_0x329373[_0x448cd3(0x592)](0xc8)[_0x448cd3(0x731)](_0x3bce5f);})['delete'](this['routerPath']('deleteConversation'),..._0x4e4a8a,async(_0x3906c3,_0x1dd617)=>{const _0x22437d=_0x4f8ac0;let _0x349c1b=_0x3906c3['body'];h[_0x22437d(0x31e)]('request\x20received\x20in\x20deleteConversation'),h['verbose'](_0x22437d(0x20c)),h[_0x22437d(0x31e)](_0x3906c3[_0x22437d(0x672)]);let _0x19d3fa=await this[_0x22437d(0x6ee)]({'request':_0x3906c3,'schema':N,'ClassRef':S,'execute':_0xa83529=>T[_0x22437d(0x33b)](_0xa83529,_0x349c1b)});_0x1dd617[_0x22437d(0x592)](0xc8)[_0x22437d(0x731)](_0x19d3fa);})[_0x4f8ac0(0x5db)](this['routerPath']('createflow'),..._0x4e4a8a,async(_0xd99b46,_0xab1405)=>{const _0x463c6f=_0x4f8ac0;let _0x5a8bab=_0xd99b46[_0x463c6f(0x672)];h['verbose'](_0x463c6f(0x33a)),h[_0x463c6f(0x31e)](_0x463c6f(0x20c)),h[_0x463c6f(0x31e)](_0xd99b46[_0x463c6f(0x672)]);let _0x5b7b7b=await this['dataValidate']({'request':_0xd99b46,'schema':N,'ClassRef':S,'execute':_0x365e2a=>T[_0x463c6f(0x314)](_0x365e2a,_0x5a8bab)});_0xab1405[_0x463c6f(0x592)](0xc8)[_0x463c6f(0x731)](_0x5b7b7b);})[_0x4f8ac0(0x5db)](this[_0x4f8ac0(0x54b)](_0x4f8ac0(0x253)),..._0x4e4a8a,async(_0x3b1045,_0x3e63ba)=>{const _0x4a5342=_0x4f8ac0;let _0x456599=_0x3b1045[_0x4a5342(0x672)];h['verbose'](_0x4a5342(0x1ed)),h[_0x4a5342(0x31e)](_0x4a5342(0x20c)),h[_0x4a5342(0x31e)](_0x3b1045[_0x4a5342(0x672)]),delete _0x456599[_0x4a5342(0x773)],delete _0x456599[_0x4a5342(0x5bb)],delete _0x456599[_0x4a5342(0x765)],delete _0x456599['conditions'];let _0x168d4c=await this[_0x4a5342(0x6ee)]({'request':_0x3b1045,'schema':N,'ClassRef':S,'execute':_0x44cacb=>T[_0x4a5342(0x52a)](_0x44cacb,_0x456599)});_0x3e63ba[_0x4a5342(0x592)](0xc8)[_0x4a5342(0x731)](_0x168d4c);})[_0x4f8ac0(0x5db)](this['routerPath']('editflowblock'),..._0x4e4a8a,async(_0x2f6235,_0x39d967)=>{const _0x3d6ff9=_0x4f8ac0;let _0x12a70b=_0x2f6235[_0x3d6ff9(0x672)];h[_0x3d6ff9(0x31e)]('request\x20received\x20in\x20editFlow'),h['verbose'](_0x3d6ff9(0x20c)),h[_0x3d6ff9(0x31e)](_0x2f6235[_0x3d6ff9(0x672)]);let _0x26b431=await this['dataValidate']({'request':_0x2f6235,'schema':N,'ClassRef':S,'execute':_0x1d2c85=>T['editFlowBlock'](_0x1d2c85,_0x12a70b)});_0x39d967['status'](0xc8)['json'](_0x26b431);})[_0x4f8ac0(0x5db)](this[_0x4f8ac0(0x54b)](_0x4f8ac0(0x415)),..._0x4e4a8a,async(_0x1854d7,_0x210d00)=>{const _0x676c7=_0x4f8ac0;let _0x32f8a2=_0x1854d7[_0x676c7(0x672)];h[_0x676c7(0x31e)](_0x676c7(0x1ed)),h['verbose'](_0x676c7(0x20c)),h[_0x676c7(0x31e)](_0x1854d7[_0x676c7(0x672)]);let _0x1888b6=await this['dataValidate']({'request':_0x1854d7,'schema':N,'ClassRef':S,'execute':_0x127f72=>T[_0x676c7(0x729)](_0x127f72,_0x32f8a2)});_0x210d00[_0x676c7(0x592)](0xc8)[_0x676c7(0x731)](_0x1888b6);})[_0x4f8ac0(0x5db)](this['routerPath']('editflowvaredit'),..._0x4e4a8a,async(_0x5a3708,_0xf943e0)=>{const _0x541ce1=_0x4f8ac0;let _0x15be66=_0x5a3708['body'];h[_0x541ce1(0x31e)](_0x541ce1(0x1ed)),h['verbose'](_0x541ce1(0x20c)),h['verbose'](_0x5a3708[_0x541ce1(0x672)]);let _0x3292b1=await this[_0x541ce1(0x6ee)]({'request':_0x5a3708,'schema':N,'ClassRef':S,'execute':_0xb89f3f=>T['editFlowVaredit'](_0xb89f3f,_0x15be66)});_0xf943e0['status'](0xc8)[_0x541ce1(0x731)](_0x3292b1);})[_0x4f8ac0(0x5db)](this[_0x4f8ac0(0x54b)]('editflowgroup'),..._0x4e4a8a,async(_0x4910fe,_0x56655a)=>{const _0x434581=_0x4f8ac0;let _0x46b408=_0x4910fe[_0x434581(0x672)];h[_0x434581(0x31e)](_0x434581(0x4a9)),h[_0x434581(0x31e)](_0x434581(0x20c)),h[_0x434581(0x31e)](_0x4910fe['body']);let _0x51a568=await this['dataValidate']({'request':_0x4910fe,'schema':N,'ClassRef':S,'execute':_0x503a18=>T[_0x434581(0x25e)](_0x503a18,_0x46b408)});_0x56655a[_0x434581(0x592)](0xc8)['json'](_0x51a568);})[_0x4f8ac0(0x5db)](this[_0x4f8ac0(0x54b)](_0x4f8ac0(0x767)),..._0x4e4a8a,async(_0x35ab87,_0x50f105)=>{const _0xa5aa70=_0x4f8ac0;let _0x6a7601=_0x35ab87[_0xa5aa70(0x672)];h[_0xa5aa70(0x31e)](_0xa5aa70(0x46c)),h['verbose']('request\x20body:\x20'),h[_0xa5aa70(0x31e)](_0x35ab87[_0xa5aa70(0x672)]);let _0x9008ec=await this[_0xa5aa70(0x6ee)]({'request':_0x35ab87,'schema':N,'ClassRef':S,'execute':_0x1a48c6=>T['editFlowCondition'](_0x1a48c6,_0x6a7601)});_0x50f105[_0xa5aa70(0x592)](0xc8)[_0xa5aa70(0x731)](_0x9008ec);})['post'](this[_0x4f8ac0(0x54b)]('editflowvariable'),..._0x4e4a8a,async(_0x46f8b0,_0x510be2)=>{const _0x58ea4b=_0x4f8ac0;let _0x3566a2=_0x46f8b0[_0x58ea4b(0x672)];h[_0x58ea4b(0x31e)]('request\x20received\x20in\x20editFlowvariable'),h[_0x58ea4b(0x31e)](_0x58ea4b(0x20c)),h[_0x58ea4b(0x31e)](_0x46f8b0[_0x58ea4b(0x672)]);let _0x6b5879=await this[_0x58ea4b(0x6ee)]({'request':_0x46f8b0,'schema':N,'ClassRef':S,'execute':_0x412bcf=>T[_0x58ea4b(0x668)](_0x412bcf,_0x3566a2)});_0x510be2[_0x58ea4b(0x592)](0xc8)['json'](_0x6b5879);})[_0x4f8ac0(0x5db)](this[_0x4f8ac0(0x54b)](_0x4f8ac0(0x445)),..._0x4e4a8a,async(_0x395d8b,_0x31baf8)=>{const _0x54ce14=_0x4f8ac0;let _0x592eff=_0x395d8b[_0x54ce14(0x672)];h[_0x54ce14(0x31e)](_0x54ce14(0x3b6)),h['verbose']('request\x20body:\x20'),h[_0x54ce14(0x31e)](_0x395d8b[_0x54ce14(0x672)]);let _0x13b18e=await this[_0x54ce14(0x6ee)]({'request':_0x395d8b,'schema':N,'ClassRef':S,'execute':_0x295f5b=>T[_0x54ce14(0x3ee)](_0x295f5b,_0x592eff)});_0x31baf8['status'](0xc8)[_0x54ce14(0x731)](_0x13b18e);})[_0x4f8ac0(0x6ad)](this[_0x4f8ac0(0x54b)](_0x4f8ac0(0x512)),..._0x4e4a8a,async(_0x51529a,_0x4fc8a8)=>{const _0x4c908a=_0x4f8ac0;let _0x11d673=_0x51529a[_0x4c908a(0x672)];h['verbose'](_0x4c908a(0x33a)),h['verbose'](_0x4c908a(0x20c)),h[_0x4c908a(0x31e)](_0x51529a[_0x4c908a(0x672)]);let _0x64c1e5=await this['dataValidate']({'request':_0x51529a,'schema':N,'ClassRef':S,'execute':_0x339db7=>T['deleteFlow'](_0x339db7,_0x11d673)});_0x4fc8a8[_0x4c908a(0x592)](0xc8)[_0x4c908a(0x731)](_0x64c1e5);})[_0x4f8ac0(0x71b)](this['routerPath']('allflows'),..._0x4e4a8a,async(_0x30d9f0,_0x14638d)=>{const _0x4df290=_0x4f8ac0;h[_0x4df290(0x31e)](_0x4df290(0x323));let _0x55e64f=await this[_0x4df290(0x6ee)]({'request':_0x30d9f0,'schema':N,'ClassRef':S,'execute':_0x43733f=>T[_0x4df290(0x6ae)](_0x43733f)});_0x14638d['status'](0xc8)[_0x4df290(0x731)](_0x55e64f);});}},Xa=M(require(a0_0x22fdc2(0x553))),ee={};function Ka(_0x2623aa,_0x1887e8,_0x3ce4d8,_0x4c5d15){ee[_0x2623aa]||(ee[_0x2623aa]={}),ee[_0x2623aa][_0x1887e8]={'id':_0x1887e8,'response':_0x3ce4d8,'events':_0x4c5d15};}function Qa(_0xcf325f,_0x5e3c6d){!ee[_0xcf325f]||!ee[_0xcf325f][_0x5e3c6d]||delete ee[_0xcf325f][_0x5e3c6d];}function q(_0x1acbf3,_0x39d1b0,_0x540d1f){const _0x1176a3=a0_0x22fdc2;if(!ee[_0x1acbf3])return;let _0x5ce5dc=_0x1176a3(0x6bd)+JSON[_0x1176a3(0x2c1)](_0x540d1f)+'\x0a\x0a';Object['values'](ee[_0x1acbf3])['forEach'](_0x4adf0e=>{const _0x5214df=_0x1176a3;_0x4adf0e['events'][_0x5214df(0x353)](_0x39d1b0)&&_0x4adf0e[_0x5214df(0x792)][_0x5214df(0x1e6)](_0x5ce5dc);});}function Ya(){const _0x132b5a=a0_0x22fdc2;let _0x12fa50={};for(let _0x2ed357 in ee)_0x12fa50[_0x2ed357]=Object[_0x132b5a(0x30a)](ee[_0x2ed357])[_0x132b5a(0x2d7)](_0x5f11fd=>({'id':_0x5f11fd['id'],'events':_0x5f11fd[_0x132b5a(0x69a)]}));return _0x12fa50;}var Za=require('uuid'),Hi=Xa['default'][a0_0x22fdc2(0x69d)](__dirname,a0_0x22fdc2(0x570)),Ct=(0x0,Nt[a0_0x22fdc2(0x522)])(),zi=E[a0_0x22fdc2(0x71b)]('AUTHENTICATION')['TYPE'],ue=[cs,ta,ia[zi]];Ct['use'](a0_0x22fdc2(0x251),Nt[a0_0x22fdc2(0x421)][a0_0x22fdc2(0x730)](Hi))[a0_0x22fdc2(0x71b)](a0_0x22fdc2(0x456),async(_0x562aba,_0xfcfdcd)=>{const _0x5897d1=a0_0x22fdc2;console[_0x5897d1(0x2d0)](_0x5897d1(0x1dc));let _0x10a0c8=_0x562aba[_0x5897d1(0x3cf)][_0x5897d1(0x655)],_0x1fe9f8=(_0x562aba[_0x5897d1(0x23f)][_0x5897d1(0x69a)]||'')[_0x5897d1(0x289)](','),_0x149131=(0x0,Za['v4'])();console[_0x5897d1(0x2d0)]('Instance\x20ID:',_0x10a0c8),console['log'](_0x5897d1(0x76d),_0x1fe9f8);let _0x5eea31=E[_0x5897d1(0x71b)](_0x5897d1(0x313))[_0x5897d1(0x4f9)],_0x2dfc21=_0x562aba[_0x5897d1(0x23f)]['apikey'];if(console[_0x5897d1(0x2d0)](_0x5897d1(0x4ca),_0x2dfc21),_0x5eea31[_0x5897d1(0x327)]!==_0x2dfc21){console['log'](_0x5897d1(0x60b));try{let _0x27612c=await le[_0x5897d1(0x665)][_0x5897d1(0x631)](_0x10a0c8);if(console[_0x5897d1(0x2d0)](_0x5897d1(0x378),_0x27612c),!_0x27612c||_0x27612c['apikey']!==_0x2dfc21)return console[_0x5897d1(0x2d0)](_0x5897d1(0x55b)),_0xfcfdcd[_0x5897d1(0x592)](0x191)['send'](_0x5897d1(0x2f5));}catch(_0x251cd6){return console[_0x5897d1(0x367)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x251cd6),_0xfcfdcd[_0x5897d1(0x592)](0x191)[_0x5897d1(0x6b0)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Ge(_0x10a0c8))return _0xfcfdcd[_0x5897d1(0x592)](0x194)[_0x5897d1(0x6b0)](_0x5897d1(0x3e9));_0xfcfdcd['setHeader'](_0x5897d1(0x64f),_0x5897d1(0x618)),_0xfcfdcd['setHeader'](_0x5897d1(0x400),_0x5897d1(0x31b)),_0xfcfdcd[_0x5897d1(0x3af)](_0x5897d1(0x36d),_0x5897d1(0x4de)),_0xfcfdcd['flushHeaders']();let _0x4d12b8='data:\x20'+JSON[_0x5897d1(0x2c1)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0xfcfdcd['write'](_0x4d12b8),Ka(_0x10a0c8,_0x149131,_0xfcfdcd,_0x1fe9f8),_0x562aba['on'](_0x5897d1(0x538),()=>{console['log']('Connection\x20closed\x20for\x20instance:\x20'+_0x10a0c8),Qa(_0x10a0c8,_0x149131);});}),Ct[a0_0x22fdc2(0x71b)](a0_0x22fdc2(0x4d3),(_0x1a645a,_0x47c861)=>{const _0x3da216=a0_0x22fdc2;let _0x495877=Ya();_0x47c861[_0x3da216(0x731)](_0x495877);})[a0_0x22fdc2(0x71b)]('/',(_0x391800,_0xbdac41)=>{const _0x4903e0=a0_0x22fdc2;let _0x59763c=E[_0x4903e0(0x71b)](_0x4903e0(0x462)),_0x2858ff=_0x59763c&&_0x59763c[_0x4903e0(0x1e1)][_0x4903e0(0x289)]('/')[0x4];if(_0x2858ff){let _0x2cbefe=encodeURIComponent(_0x4903e0(0x33e)+_0x2858ff);_0xbdac41[_0x4903e0(0x1bd)](_0x4903e0(0x78d)+_0x2cbefe);}else _0xbdac41[_0x4903e0(0x1bd)](_0x4903e0(0x5a9));})[a0_0x22fdc2(0x6a0)](a0_0x22fdc2(0x35d),...ue,async(_0x58001e,_0x28b3b2)=>{const _0x55c9f5=a0_0x22fdc2;try{console['log'](_0x55c9f5(0x5d9)),_0x28b3b2['status'](0xc8)[_0x55c9f5(0x731)]({'message':_0x55c9f5(0x369)}),_0x28b3b2['on'](_0x55c9f5(0x777),()=>process['exit'](0x0));}catch(_0x4e5198){console[_0x55c9f5(0x367)](_0x55c9f5(0x45e),_0x4e5198),_0x28b3b2[_0x55c9f5(0x592)](0x1f4)['json']({'message':_0x55c9f5(0x308)});}})[a0_0x22fdc2(0x234)](a0_0x22fdc2(0x295),new nt(E,...ue)[a0_0x22fdc2(0x282)],new bt(cs)['router'])[a0_0x22fdc2(0x234)](a0_0x22fdc2(0x44b),new yt(...ue)[a0_0x22fdc2(0x282)])[a0_0x22fdc2(0x234)](a0_0x22fdc2(0x737),new Ke(...ue)[a0_0x22fdc2(0x282)])['use'](a0_0x22fdc2(0x394),new it(...ue)[a0_0x22fdc2(0x282)])[a0_0x22fdc2(0x234)]('/webhook',new Et(...ue)[a0_0x22fdc2(0x282)])[a0_0x22fdc2(0x234)](a0_0x22fdc2(0x64a),new vt(...ue)[a0_0x22fdc2(0x282)]);var g=class{constructor(..._0x56da80){const _0x1fc352=a0_0x22fdc2;throw{'status':0x190,'error':_0x1fc352(0x66c),'message':_0x56da80[_0x1fc352(0x44c)]>0x0?_0x56da80:void 0x0};}},oe=class{constructor(..._0x14efe){const _0x3cf1a5=a0_0x22fdc2;throw{'status':0x191,'error':_0x3cf1a5(0x1c4),'message':_0x14efe['length']>0x0?_0x14efe:void 0x0};}},ie=class{constructor(..._0x249522){const _0x5da56e=a0_0x22fdc2;throw{'status':0x193,'error':_0x5da56e(0x22c),'message':_0x249522['length']>0x0?_0x249522:void 0x0};}},$=class{constructor(..._0xe9777){const _0x437dfe=a0_0x22fdc2;throw{'status':0x194,'error':_0x437dfe(0x490),'message':_0xe9777[_0x437dfe(0x44c)]>0x0?_0xe9777:void 0x0};}},A=class{constructor(..._0x189f61){const _0x3e0b0b=a0_0x22fdc2;throw{'status':0x1f4,'error':_0x3e0b0b(0x21e),'message':_0x189f61['length']>0x0?_0x189f61:void 0x0};}},de=require(a0_0x22fdc2(0x2cc));async function gs(_0x4b2f8f){const _0x47333a=a0_0x22fdc2;let _0xeb1d57=new C(gs['name']),_0x2b0e3f=R['getClient'](),_0x2a5e15=_0x2b0e3f['db'](E[_0x47333a(0x71b)](_0x47333a(0x2ae))[_0x47333a(0x267)][_0x47333a(0x1e2)]+'-instances')['collection'](_0x4b2f8f),_0x5e4880=async(_0x139a62,_0x5241de)=>{const _0x36262a=_0x47333a;try{return await _0x2b0e3f[_0x36262a(0x4e9)](),await _0x2a5e15[_0x36262a(0x5c8)]({'_id':_0x5241de},JSON['parse'](JSON['stringify'](_0x139a62,de['BufferJSON'][_0x36262a(0x4b2)])),{'upsert':!0x0});}catch{}},_0x42ccb6=async _0x4a0cda=>{const _0x4ec174=_0x47333a;try{await _0x2b0e3f[_0x4ec174(0x4e9)]();let _0x50d778=await _0x2a5e15[_0x4ec174(0x2ce)]({'_id':_0x4a0cda}),_0x3232d5=JSON[_0x4ec174(0x2c1)](_0x50d778);return JSON[_0x4ec174(0x5c0)](_0x3232d5,de[_0x4ec174(0x3e2)][_0x4ec174(0x3ec)]);}catch{}},_0x123772=async _0x3a25e3=>{const _0x4c1357=_0x47333a;try{return await _0x2b0e3f['connect'](),await _0x2a5e15[_0x4c1357(0x51d)]({'_id':_0x3a25e3});}catch{}},_0x1d1609=await _0x42ccb6(_0x47333a(0x23c))||(0x0,de[_0x47333a(0x61b)])();return{'state':{'creds':_0x1d1609,'keys':{'get':async(_0x196ec8,_0x24215c)=>{const _0x54ef85=_0x47333a;let _0x2b94ac={};return await Promise[_0x54ef85(0x474)](_0x24215c[_0x54ef85(0x2d7)](async _0x5960b7=>{const _0x15b717=_0x54ef85;let _0x3c5c6c=await _0x42ccb6(_0x196ec8+'-'+_0x5960b7);_0x196ec8===_0x15b717(0x305)&&_0x3c5c6c&&(_0x3c5c6c=de[_0x15b717(0x5b6)][_0x15b717(0x575)][_0x15b717(0x1ef)][_0x15b717(0x1bf)](_0x3c5c6c)),_0x2b94ac[_0x5960b7]=_0x3c5c6c;})),_0x2b94ac;},'set':async _0x5478f1=>{const _0x49894c=_0x47333a;let _0x10d043=[];for(let _0x2b320e in _0x5478f1)for(let _0x291820 in _0x5478f1[_0x2b320e]){let _0x3b9881=_0x5478f1[_0x2b320e][_0x291820],_0x21de0f=_0x2b320e+'-'+_0x291820;_0x10d043[_0x49894c(0x23d)](_0x3b9881?_0x5e4880(_0x3b9881,_0x21de0f):_0x123772(_0x21de0f));}await Promise['all'](_0x10d043);}}},'saveCreds':async()=>_0x5e4880(_0x1d1609,_0x47333a(0x23c))};}var hs=M(require(a0_0x22fdc2(0x1f9))),fs=M(require(a0_0x22fdc2(0x5c5))),Rt=require('@whiskeysockets/baileys'),ei=require('@redis/client'),Tt=require(a0_0x22fdc2(0x2cc)),Mt;function a0_0x113b(_0x3affa4,_0x422bfe){const _0x20873f=a0_0x2087();return a0_0x113b=function(_0x113b73,_0x55b3f5){_0x113b73=_0x113b73-0x1bd;let _0x44eea9=_0x20873f[_0x113b73];return _0x44eea9;},a0_0x113b(_0x3affa4,_0x422bfe);}function Ki(_0x4706ed){const _0x34b7f0=a0_0x22fdc2;return Mt||(Mt=(0x0,ei[_0x34b7f0(0x756)])({'url':_0x4706ed[_0x34b7f0(0x320)]}),Mt[_0x34b7f0(0x4e9)]()),Mt;}var ne=class c{constructor(_0x8cf517,_0x2a8d47){const _0x415608=a0_0x22fdc2;this[_0x415608(0x21d)]=_0x8cf517,this['instanceName']=_0x2a8d47,this['logger']=new C(c[_0x415608(0x5a6)]),this[_0x415608(0x684)]=Ki(_0x8cf517);}set[a0_0x22fdc2(0x6a8)](_0x585023){const _0xa704d3=a0_0x22fdc2;this[_0xa704d3(0x5d2)]=_0x585023;}async['instanceKeys'](){const _0x231ed2=a0_0x22fdc2;try{return await this[_0x231ed2(0x684)][_0x231ed2(0x376)]([_0x231ed2(0x79e),this[_0x231ed2(0x21d)][_0x231ed2(0x644)]+':*']);}catch(_0x22f63a){this['logger'][_0x231ed2(0x367)](_0x22f63a);}}async['writeData'](_0x1b2d45,_0x26e44b){const _0x18eae9=a0_0x22fdc2;try{let _0x5c2f94=JSON[_0x18eae9(0x2c1)](_0x26e44b,Tt[_0x18eae9(0x3e2)][_0x18eae9(0x4b2)]);return await this[_0x18eae9(0x684)][_0x18eae9(0x79d)](this[_0x18eae9(0x21d)][_0x18eae9(0x644)]+':'+this['instanceName'],_0x1b2d45,_0x5c2f94);}catch(_0x531035){this[_0x18eae9(0x3e1)][_0x18eae9(0x367)](_0x531035);}}async['getAllData'](){const _0x13c4b9=a0_0x22fdc2;try{let _0x5ac0f1=await this[_0x13c4b9(0x684)][_0x13c4b9(0x379)](this[_0x13c4b9(0x21d)][_0x13c4b9(0x644)]+':'+this[_0x13c4b9(0x5d2)]);if(_0x5ac0f1){for(let _0xac76e1 in _0x5ac0f1)Object[_0x13c4b9(0x330)][_0x13c4b9(0x244)]['call'](_0x5ac0f1,_0xac76e1)&&(_0x5ac0f1[_0xac76e1]=JSON['parse'](_0x5ac0f1[_0xac76e1],Tt[_0x13c4b9(0x3e2)][_0x13c4b9(0x3ec)]));return _0x5ac0f1;}}catch(_0xd92186){this[_0x13c4b9(0x3e1)][_0x13c4b9(0x367)](_0xd92186);}}async[a0_0x22fdc2(0x219)](_0x806407){const _0x1286a7=a0_0x22fdc2;try{let _0x2ade4d=await this[_0x1286a7(0x684)][_0x1286a7(0x482)](this[_0x1286a7(0x21d)]['PREFIX_KEY']+':'+this[_0x1286a7(0x5d2)],_0x806407);if(_0x2ade4d)return JSON[_0x1286a7(0x5c0)](_0x2ade4d,Tt[_0x1286a7(0x3e2)][_0x1286a7(0x3ec)]);}catch(_0x3cd0da){this[_0x1286a7(0x3e1)]['error'](_0x3cd0da);}}async['removeData'](_0x93b76b){const _0xbbc9e9=a0_0x22fdc2;try{return await this[_0xbbc9e9(0x684)][_0xbbc9e9(0x34d)](this[_0xbbc9e9(0x21d)]['PREFIX_KEY']+':'+this[_0xbbc9e9(0x5d2)],_0x93b76b);}catch(_0x3412d5){this['logger'][_0xbbc9e9(0x367)](_0x3412d5);}}async[a0_0x22fdc2(0x3fe)](_0x35bdff){const _0x31ffc6=a0_0x22fdc2;try{return await this[_0x31ffc6(0x684)]['del'](_0x35bdff||this[_0x31ffc6(0x21d)][_0x31ffc6(0x644)]+':'+this[_0x31ffc6(0x5d2)]);}catch(_0x2134f6){this[_0x31ffc6(0x3e1)][_0x31ffc6(0x367)](_0x2134f6);}}};async function ms(_0x5333fa,_0x4f93d6){const _0x11ed6a=a0_0x22fdc2;let _0x2d30ac=new C(ms[_0x11ed6a(0x5a6)]),_0x332ae0=new ne(_0x5333fa,_0x4f93d6),_0x3403fc=async(_0xd6b0d,_0x2617f6)=>{const _0x5302f6=_0x11ed6a;try{return await _0x332ae0['writeData'](_0x2617f6,_0xd6b0d);}catch(_0x305873){return _0x2d30ac[_0x5302f6(0x367)]({'localError':_0x5302f6(0x56c),'error':_0x305873});}},_0x3fa22a=async _0x3cc678=>{const _0x2e3bb4=_0x11ed6a;try{return await _0x332ae0['readData'](_0x3cc678);}catch(_0xee209c){_0x2d30ac[_0x2e3bb4(0x367)]({'readData':'writeData','error':_0xee209c});return;}},_0x87cae1=async _0x377f90=>{const _0x525cf8=_0x11ed6a;try{return await _0x332ae0[_0x525cf8(0x1ea)](_0x377f90);}catch(_0x9f7d11){_0x2d30ac[_0x525cf8(0x367)]({'readData':'removeData','error':_0x9f7d11});}},_0x2ef1e0=await _0x3fa22a(_0x11ed6a(0x23c))||(0x0,Rt[_0x11ed6a(0x61b)])();return{'state':{'creds':_0x2ef1e0,'keys':{'get':async(_0x5c1c4a,_0x570ea7)=>{const _0x25773b=_0x11ed6a;let _0x19ac08={};return await Promise[_0x25773b(0x474)](_0x570ea7[_0x25773b(0x2d7)](async _0x2cabb3=>{const _0x428b9a=_0x25773b;let _0x2b5a03=await _0x3fa22a(_0x5c1c4a+'-'+_0x2cabb3);_0x5c1c4a===_0x428b9a(0x305)&&_0x2b5a03&&(_0x2b5a03=Rt[_0x428b9a(0x5b6)][_0x428b9a(0x575)][_0x428b9a(0x1ef)][_0x428b9a(0x1bf)](_0x2b5a03)),_0x19ac08[_0x2cabb3]=_0x2b5a03;})),_0x19ac08;},'set':async _0xb3ef08=>{const _0x245b89=_0x11ed6a;let _0x3da945=[];for(let _0x239a2e in _0xb3ef08)for(let _0x786e60 in _0xb3ef08[_0x239a2e]){let _0x385da4=_0xb3ef08[_0x239a2e][_0x786e60],_0x52bf85=_0x239a2e+'-'+_0x786e60;_0x3da945[_0x245b89(0x23d)](_0x385da4?await _0x3403fc(_0x385da4,_0x52bf85):await _0x87cae1(_0x52bf85));}await Promise[_0x245b89(0x474)](_0x3da945);}}},'saveCreds':async()=>await _0x3403fc(_0x2ef1e0,_0x11ed6a(0x23c))};}var x=M(require('fs')),Ot=require(a0_0x22fdc2(0x28f)),Dt=M(require('sharp'));function _(_0x148f0e){const _0xc0c580=a0_0x22fdc2;if(_0x148f0e[_0xc0c580(0x5b8)]||_0x148f0e[_0xc0c580(0x62c)]){let _0x5c06b9=_0x148f0e[_0xc0c580(0x5b8)]?_0x148f0e[_0xc0c580(0x5b8)][_0xc0c580(0x649)]:_0x148f0e[_0xc0c580(0x62c)][_0xc0c580(0x649)];return(0x0,w['getContentType'])(_0x5c06b9);}return _0x148f0e[_0xc0c580(0x293)]?'pollCreationMessageV3':_0x148f0e['pollCreationMessageV2']?_0xc0c580(0x5e9):_0x148f0e[_0xc0c580(0x4ef)]?'viewOnceMessageV2Extension':(0x0,w[_0xc0c580(0x285)])(_0x148f0e);}var ye=class c{constructor(_0x709a6e,_0x59256d,_0x25e34a){const _0x8d5813=a0_0x22fdc2;this[_0x8d5813(0x6fa)]=_0x709a6e,this[_0x8d5813(0x74a)]=_0x59256d,this[_0x8d5813(0x7ac)]=_0x25e34a,this[_0x8d5813(0x6a3)]=null,this[_0x8d5813(0x3e1)]=new C(c[_0x8d5813(0x5a6)]),this[_0x8d5813(0x655)]={},this[_0x8d5813(0x55d)]={},this[_0x8d5813(0x49b)]={'state':_0x8d5813(0x538)},this[_0x8d5813(0x4fc)]=(0x0,k[_0x8d5813(0x69d)])(Y,_0x8d5813(0x570)),this['msgRetryCounterCache']=new fs[(_0x8d5813(0x421))](),this['userDevicesCache']=new fs[(_0x8d5813(0x421))](),this[_0x8d5813(0x4b5)]=!0x1,this[_0x8d5813(0x2ed)]={'status.instance':_0x8d5813(0x676),'qrcode.updated':_0x8d5813(0x4d7),'messages.upsert':_0x8d5813(0x317),'messages.update':'/wa-message-update','send.message':_0x8d5813(0x317),'group.upsert':_0x8d5813(0x617),'group.update':_0x8d5813(0x617),'group-participants.update':_0x8d5813(0x617),'connection.update':_0x8d5813(0x676),'messages.set':_0x8d5813(0x317),'contacts.set':_0x8d5813(0x208),'contacts.upsert':_0x8d5813(0x208),'contacts.update':_0x8d5813(0x208),'presence.update':_0x8d5813(0x223),'chats.set':'/wa-chats','chats.update':_0x8d5813(0x232),'chats.upsert':_0x8d5813(0x232),'chats.delete':'/wa-chats'},this[_0x8d5813(0x3df)]=0x0,this['reconnectTimestamps']=[],this[_0x8d5813(0x76f)]=0xf,this[_0x8d5813(0x760)]=0x7530,this[_0x8d5813(0x3a8)]=!0x1,this[_0x8d5813(0x356)]={'chats.upsert':async(_0x3725e2,_0x19bed9)=>{const _0x3e1673=_0x8d5813;let _0x55b732=[];for await(let _0x5f4c54 of _0x3725e2)_0x55b732[_0x3e1673(0x23d)]({'_id':_0x5f4c54['id'],'owner':this[_0x3e1673(0x655)][_0x3e1673(0x537)],'group':_0x5f4c54['id'][_0x3e1673(0x515)](_0x3e1673(0x385)),'name':_0x5f4c54['name']||_0x5f4c54[_0x3e1673(0x2fb)]||null,'contactname':null,'lastmsg':_0x5f4c54[_0x3e1673(0x418)]&&_0x5f4c54['conversationTimestamp'][_0x3e1673(0x78b)]()[_0x3e1673(0x44c)]<0xd?_0x5f4c54['conversationTimestamp']*0x3e8:_0x5f4c54[_0x3e1673(0x418)]||null,'archived':_0x5f4c54[_0x3e1673(0x711)]||!0x1,'unreadcount':_0x5f4c54[_0x3e1673(0x275)]||0x0});this[_0x3e1673(0x54c)](_0x3e1673(0x447),_0x55b732);},'chats.update':async(_0x35a339,_0x15633c)=>{const _0x307e64=_0x8d5813;for(let _0x1cf5ce of _0x35a339){let _0x42ba00={'_id':_0x1cf5ce['id'],'owner':this[_0x307e64(0x655)][_0x307e64(0x537)],'group':_0x1cf5ce['id'][_0x307e64(0x515)](_0x307e64(0x385)),'name':_0x1cf5ce['name']||_0x1cf5ce[_0x307e64(0x2fb)],'archived':_0x1cf5ce[_0x307e64(0x711)]},_0x269d08=!0x1,_0x5259f3={};_0x42ba00['archived']!=null&&(this[_0x307e64(0x3e1)][_0x307e64(0x31e)](this[_0x307e64(0x5d2)]+'\x20('+this[_0x307e64(0x655)]['wuid']+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x1cf5ce[_0x307e64(0x711)]),_0x269d08=!0x0,_0x5259f3['archived']=_0x1cf5ce[_0x307e64(0x711)]),_0x1cf5ce['name']!=null&&(this[_0x307e64(0x3e1)][_0x307e64(0x31e)](this[_0x307e64(0x5d2)]+'\x20('+this[_0x307e64(0x655)][_0x307e64(0x537)]+_0x307e64(0x46d)+_0x1cf5ce['name']),_0x269d08=!0x0,_0x5259f3['name']=_0x1cf5ce[_0x307e64(0x5a6)]),_0x1cf5ce[_0x307e64(0x2fb)]!=null&&(this[_0x307e64(0x3e1)][_0x307e64(0x31e)](this['instanceName']+'\x20('+this[_0x307e64(0x655)]['wuid']+_0x307e64(0x710)+_0x1cf5ce[_0x307e64(0x2fb)]),_0x269d08=!0x0,_0x5259f3[_0x307e64(0x5a6)]=_0x1cf5ce[_0x307e64(0x2fb)]);let _0xddd81e;_0x269d08&&(_0xddd81e=await this['repository']['chat'][_0x307e64(0x2b6)]({'where':{'_id':_0x1cf5ce['id'],'owner':this['instance']['wuid']}},_0x5259f3)),_0xddd81e&&q(this[_0x307e64(0x5d2)],_0x307e64(0x776),{'chat':_0xddd81e});}},'chats.delete':async _0x11a04f=>{const _0x513e7f=_0x8d5813;this[_0x513e7f(0x54c)](_0x513e7f(0x276),[..._0x11a04f]);}},this[_0x8d5813(0x1cb)]={'contacts.upsert':async(_0xe3b26a,_0x2396d0)=>{const _0x2937e8=_0x8d5813;let _0x5631e1=await this[_0x2937e8(0x7ac)][_0x2937e8(0x281)][_0x2937e8(0x631)]({'where':{'owner':this[_0x2937e8(0x655)]['wuid']}}),_0xdf110d=[];for await(let _0x4dd367 of _0xe3b26a)_0x5631e1[_0x2937e8(0x631)](_0xfb9866=>_0xfb9866[_0x2937e8(0x762)]===_0x4dd367['id'])||_0xdf110d['push']({'_id':_0x4dd367['id'],'pushName':_0x4dd367?.[_0x2937e8(0x5a6)]||_0x4dd367?.[_0x2937e8(0x2c6)],'owner':this[_0x2937e8(0x655)]['wuid']});this[_0x2937e8(0x54c)](_0x2937e8(0x33d),_0xdf110d),await this[_0x2937e8(0x7ac)][_0x2937e8(0x281)][_0x2937e8(0x6cf)](_0xdf110d);},'contacts.update':async(_0x15c584,_0x6f956a)=>{const _0x5ca405=_0x8d5813;let _0x54dca8=[];for await(let _0x263813 of _0x15c584)_0x54dca8['push']({'_id':_0x263813['id'],'pushName':_0x263813?.['name']??_0x263813?.['verifiedName'],'owner':this[_0x5ca405(0x655)][_0x5ca405(0x537)]});this[_0x5ca405(0x54c)](_0x5ca405(0x256),_0x54dca8);}},this[_0x8d5813(0x472)]={'messaging-history.set':async({messages:_0x2823dc,chats:_0x4e5dcb,isLatest:_0x4fbbd3},_0x5a8460)=>{const _0x39fc18=_0x8d5813;if(_0x4fbbd3){let _0x4bc148=await Promise['all'](_0x4e5dcb['map'](async _0x5b9f70=>({'_id':_0x5b9f70['id'],'owner':this[_0x39fc18(0x655)][_0x39fc18(0x537)],'group':_0x5b9f70['id']['endsWith'](_0x39fc18(0x385)),'name':_0x5b9f70['name']||_0x5b9f70[_0x39fc18(0x2fb)]||null,'contactname':null,'lastmsg':_0x5b9f70[_0x39fc18(0x418)]&&_0x5b9f70[_0x39fc18(0x418)][_0x39fc18(0x78b)]()[_0x39fc18(0x44c)]<0xd?_0x5b9f70['conversationTimestamp']*0x3e8:_0x5b9f70['conversationTimestamp']||null,'archived':_0x5b9f70[_0x39fc18(0x711)]||!0x1,'unreadcount':_0x5b9f70['unreadCount']||0x0})));this[_0x39fc18(0x54c)](_0x39fc18(0x2b9),_0x4bc148),await this[_0x39fc18(0x3b5)](_0x4bc148,_0x5a8460);}let _0xad6883=[],_0x36d175=Date[_0x39fc18(0x5b2)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x26a17d]of Object[_0x39fc18(0x519)](_0x2823dc)){if(_0x26a17d['message']?.[_0x39fc18(0x642)]||_0x26a17d[_0x39fc18(0x649)]?.['senderKeyDistributionMessage']||!_0x26a17d[_0x39fc18(0x649)]||_0x26a17d[_0x39fc18(0x4a1)]['remoteJid']===_0x39fc18(0x3b3)||(hs['default'][_0x39fc18(0x420)](_0x26a17d?.[_0x39fc18(0x576)])&&(_0x26a17d[_0x39fc18(0x576)]=_0x26a17d[_0x39fc18(0x576)]?.[_0x39fc18(0x55a)]()),_0x26a17d[_0x39fc18(0x576)]&&_0x26a17d[_0x39fc18(0x576)]['toString']()['length']<0xd&&(_0x26a17d[_0x39fc18(0x576)]=_0x26a17d[_0x39fc18(0x576)]*0x3e8),_0x26a17d[_0x39fc18(0x576)]<_0x36d175))continue;let {message_normalized:_0x44fe23}=this[_0x39fc18(0x661)](_0x26a17d[_0x39fc18(0x649)],_(_0x26a17d[_0x39fc18(0x649)]),null);Object[_0x39fc18(0x79e)](_0x44fe23)[_0x39fc18(0x44c)]>0x0&&_0xad6883[_0x39fc18(0x23d)]({'_id':_0x26a17d[_0x39fc18(0x4a1)]['id'],'key':_0x26a17d[_0x39fc18(0x4a1)],'pushName':_0x26a17d[_0x39fc18(0x1c8)],'participant':_0x26a17d[_0x39fc18(0x5a2)],'message':{..._0x26a17d[_0x39fc18(0x649)]},'messageType':_(_0x26a17d[_0x39fc18(0x649)]),'message_normalized':{'key':_0x26a17d[_0x39fc18(0x4a1)],'pushName':_0x26a17d[_0x39fc18(0x1c8)],'messageTimestamp':_0x26a17d[_0x39fc18(0x576)],..._0x44fe23},'messageTimestamp':_0x26a17d['messageTimestamp'],'owner':this[_0x39fc18(0x655)][_0x39fc18(0x537)]});}_0x5a8460[_0x39fc18(0x3e8)]&&_0xad6883['length']>0x0&&(this[_0x39fc18(0x3e1)][_0x39fc18(0x31e)](this[_0x39fc18(0x5d2)]+'\x20('+this[_0x39fc18(0x655)][_0x39fc18(0x537)]+_0x39fc18(0x6f5)+_0xad6883['length']+_0x39fc18(0x528)+this[_0x39fc18(0x655)][_0x39fc18(0x537)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x39fc18(0x7ac)][_0x39fc18(0x649)][_0x39fc18(0x6cf)]([..._0xad6883])),this[_0x39fc18(0x54c)](_0x39fc18(0x362),[..._0xad6883]),_0x2823dc=void 0x0;},'messages.upsert':async({messages:_0x1dbbc4,type:_0x26b434},_0x4f0f55)=>{const _0x12904f=_0x8d5813;let _0x7681a8=_0x1dbbc4[0x0];if(_0x26b434!==_0x12904f(0x685)||!_0x7681a8?.['message']||_0x7681a8['message']?.[_0x12904f(0x642)]||_0x7681a8[_0x12904f(0x649)]['senderKeyDistributionMessage']||_0x7681a8[_0x12904f(0x4a1)][_0x12904f(0x1db)]===_0x12904f(0x3b3))return;let _0x4da3a1=null,_0x4ebe06=null;try{_0x4da3a1=await this[_0x12904f(0x2df)](_0x7681a8),_0x4ebe06=_0x4da3a1?_0x4da3a1[_0x12904f(0x69d)](','):null;}catch(_0x20cf61){this[_0x12904f(0x3e1)][_0x12904f(0x31e)](this[_0x12904f(0x5d2)]+'\x20('+this[_0x12904f(0x655)][_0x12904f(0x537)]+_0x12904f(0x6f5)+JSON[_0x12904f(0x2c1)](_0x20cf61,null,0x2)),_0x4ebe06=_0x12904f(0x300);}if(this[_0x12904f(0x684)][_0x12904f(0x6f9)]('unavailable'),hs['default']['isLong'](_0x7681a8[_0x12904f(0x576)])&&(_0x7681a8[_0x12904f(0x576)]=_0x7681a8['messageTimestamp']?.['toNumber']()),this['localWebhook']?.['groups_ignore']&&_0x7681a8[_0x12904f(0x4a1)][_0x12904f(0x1db)]['includes']('@g.us')){this[_0x12904f(0x3e1)][_0x12904f(0x31e)](_0x12904f(0x290));return;}_0x7681a8[_0x12904f(0x576)]&&_0x7681a8['messageTimestamp'][_0x12904f(0x78b)]()[_0x12904f(0x44c)]<0xd&&(_0x7681a8[_0x12904f(0x576)]=_0x7681a8[_0x12904f(0x576)]*0x3e8);let _0x2f9fe1=_0x7681a8['message'],{messageContent:_0x5d5d6d,message_normalized:_0x4200af}=this['normalizeMessage'](_0x2f9fe1,_(_0x7681a8[_0x12904f(0x649)]),_0x4ebe06);_0x5d5d6d||console['error'](_0x12904f(0x3e0));let _0x3dff46={'_id':_0x7681a8[_0x12904f(0x4a1)]['id'],'key':_0x7681a8[_0x12904f(0x4a1)],'pushName':_0x7681a8[_0x12904f(0x1c8)],'message':{..._0x7681a8['message']},'messageType':_(_0x7681a8['message']),'message_normalized':{'key':_0x7681a8[_0x12904f(0x4a1)],'pushName':_0x7681a8['pushName'],'messageTimestamp':_0x7681a8[_0x12904f(0x576)],'source':(0x0,w['getDevice'])(_0x7681a8[_0x12904f(0x4a1)]['id']),..._0x4200af},'messageTimestamp':_0x7681a8[_0x12904f(0x576)],'owner':this[_0x12904f(0x655)][_0x12904f(0x537)]};this[_0x12904f(0x3e1)]['log'](_0x3dff46),await this[_0x12904f(0x7ac)][_0x12904f(0x649)]['insert']([_0x3dff46]),this[_0x12904f(0x54c)](_0x12904f(0x38c),_0x3dff46),q(this[_0x12904f(0x5d2)],'messages',{'message':_0x3dff46}),_0x7681a8[_0x12904f(0x4a1)]['remoteJid']!=='status@broadcast'&&await this[_0x12904f(0x558)](_0x4f0f55,_0x3dff46,_0x12904f(0x71a));},'messages.update':async(_0x2572d8,_0x2289a5)=>{const _0x32d0d4=_0x8d5813;let _0x5af34c={0x0:_0x32d0d4(0x1e0),0x1:'PENDING',0x2:'SERVER_ACK',0x3:_0x32d0d4(0x2ec),0x4:_0x32d0d4(0x720),0x5:_0x32d0d4(0x76c)};for await(let {key:_0x135583,update:_0x26e707}of _0x2572d8){if(this[_0x32d0d4(0x55d)]?.[_0x32d0d4(0x463)]&&_0x135583[_0x32d0d4(0x1db)][_0x32d0d4(0x353)](_0x32d0d4(0x385))){this[_0x32d0d4(0x3e1)][_0x32d0d4(0x31e)]('group\x20ignored');return;}if(_0x135583[_0x32d0d4(0x1db)]!==_0x32d0d4(0x3b3)){let _0x1940a3=Date['now'](),_0x32e6c2;_0x26e707['message']===null&&_0x26e707['status']===void 0x0?_0x32e6c2=_0x32d0d4(0x2ff):_0x32e6c2=_0x5af34c[_0x26e707[_0x32d0d4(0x592)]];let _0x430d33=_0x135583[_0x32d0d4(0x1db)]['replace'](/:\d{1,2}@/g,'@'),_0x3b44ac={..._0x135583,'remoteJid':_0x430d33,'status':_0x32e6c2,'datetime':_0x1940a3,'owner':this[_0x32d0d4(0x655)][_0x32d0d4(0x537)]};this[_0x32d0d4(0x54c)](_0x32d0d4(0x67a),_0x3b44ac),await this[_0x32d0d4(0x58b)](_0x135583,_0x430d33,_0x3b44ac);}}}},this['groupHandler']={'groups.upsert':_0x193fb6=>{const _0x1d9245=_0x8d5813;this[_0x1d9245(0x54c)](_0x1d9245(0x563),_0x193fb6);},'groups.update':_0x123bf9=>{const _0x344d39=_0x8d5813;this[_0x344d39(0x54c)](_0x344d39(0x688),_0x123bf9);},'group-participants.update':_0x2ac206=>{const _0x3a039a=_0x8d5813;this[_0x3a039a(0x54c)](_0x3a039a(0x71c),_0x2ac206);}},this[_0x8d5813(0x2df)]=async _0x24fd62=>{const _0x2990e6=_0x8d5813;if(_0x24fd62[_0x2990e6(0x649)]?.[_0x2990e6(0x692)]){let _0x287c9d=await this[_0x2990e6(0x5b9)](_0x24fd62[_0x2990e6(0x649)][_0x2990e6(0x692)][_0x2990e6(0x60c)],!0x0);if(_0x287c9d){let _0x56984b=_0x287c9d['key'][_0x2990e6(0x3d1)]?this[_0x2990e6(0x655)][_0x2990e6(0x537)]+_0x2990e6(0x75c):_0x287c9d[_0x2990e6(0x4a1)]['participant']||_0x287c9d[_0x2990e6(0x4a1)][_0x2990e6(0x1db)],_0x1f6109=_0x287c9d[_0x2990e6(0x4a1)]['id'],_0x405ca6=_0x287c9d[_0x2990e6(0x649)],_0x11a027=Buffer[_0x2990e6(0x410)](_0x405ca6['messageContextInfo'][_0x2990e6(0x4b0)]['toString'](_0x2990e6(0x66f)),_0x2990e6(0x66f)),_0xefdbcb=(0x0,w['decryptPollVote'])(_0x24fd62[_0x2990e6(0x649)][_0x2990e6(0x692)]['vote'],{'pollCreatorJid':_0x56984b,'pollMsgId':_0x1f6109,'pollEncKey':_0x11a027,'voterJid':_0x24fd62[_0x2990e6(0x4a1)][_0x2990e6(0x3d1)]?this[_0x2990e6(0x655)][_0x2990e6(0x537)]+_0x2990e6(0x75c):_0x24fd62[_0x2990e6(0x4a1)][_0x2990e6(0x1db)][_0x2990e6(0x515)]('g.us')?_0x24fd62['key'][_0x2990e6(0x5a2)]:_0x24fd62['key'][_0x2990e6(0x1db)]}),_0x542719=[],_0x42c4ce=_0xefdbcb['selectedOptions'][_0x2990e6(0x2d7)](_0x274bfc=>Buffer[_0x2990e6(0x410)](_0x274bfc)[_0x2990e6(0x78b)](_0x2990e6(0x66f)));for(let {optionName:_0x3be774}of _0x405ca6[_0x2990e6(0x2a7)]?.[_0x2990e6(0x6e3)]||_0x405ca6[_0x2990e6(0x293)]?.[_0x2990e6(0x6e3)]||_0x405ca6[_0x2990e6(0x5e9)]?.[_0x2990e6(0x6e3)])_0x42c4ce[_0x2990e6(0x727)]((0x0,w[_0x2990e6(0x63a)])(Buffer[_0x2990e6(0x410)](_0x3be774))[_0x2990e6(0x78b)](_0x2990e6(0x66f)))>-0x1&&_0x542719[_0x2990e6(0x23d)](_0x3be774);return _0x542719;}}return null;},this['normalizeMessage']=(_0x1ba274,_0x2bdfaf,_0x3cebc9)=>{const _0x240833=_0x8d5813;try{let _0x3ca7aa=_0x2bdfaf?_0x1ba274[_0x2bdfaf]:void 0x0,_0x32f380={},_0x620820=null,_0x307992=null,_0x3d8b17=null;if(_0x1ba274[_0x240833(0x62c)]?(_0x2bdfaf=_(_0x1ba274[_0x240833(0x62c)][_0x240833(0x649)]),_0x3ca7aa=_0x1ba274[_0x240833(0x62c)]['message'][_0x2bdfaf]):_0x1ba274[_0x240833(0x4ef)]?(_0x2bdfaf=_(_0x1ba274[_0x240833(0x4ef)]['message']),_0x3ca7aa=_0x1ba274[_0x240833(0x4ef)][_0x240833(0x649)][_0x2bdfaf]):_0x1ba274[_0x240833(0x5b8)]?(_0x2bdfaf=_(_0x1ba274[_0x240833(0x5b8)]['message']),_0x3ca7aa=_0x1ba274[_0x240833(0x5b8)]['message'][_0x2bdfaf]):_0x1ba274['ephemeralMessage']?(_0x2bdfaf=_(_0x1ba274['message'][_0x240833(0x439)][_0x240833(0x649)]),_0x3ca7aa=_0x1ba274[_0x240833(0x649)][_0x240833(0x439)][_0x240833(0x649)][_0x2bdfaf]):_0x1ba274[_0x240833(0x645)]?.[_0x240833(0x649)]?.[_0x240833(0x642)]?.[_0x240833(0x645)]?(_0x2bdfaf=_(_0x1ba274['editedMessage'][_0x240833(0x649)][_0x240833(0x642)][_0x240833(0x645)]),_0x620820=_0x1ba274['editedMessage'][_0x240833(0x649)][_0x240833(0x642)][_0x240833(0x4a1)]['id'],_0x3ca7aa=_0x1ba274[_0x240833(0x645)][_0x240833(0x649)]['protocolMessage']['editedMessage'][_0x2bdfaf]):_0x3ca7aa=_0x1ba274[_0x2bdfaf],!_0x2bdfaf||!_0x3ca7aa)return console[_0x240833(0x367)](_0x240833(0x3fd),_0x1ba274),{'messageType':_0x2bdfaf,'messageContent':_0x3ca7aa,'message_normalized':{}};_0x1ba274[_0x2bdfaf]?.[_0x240833(0x413)]?.[_0x240833(0x6a9)]&&_0x1ba274[_0x2bdfaf]?.['contextInfo']?.['quotedMessage']&&(_0x307992=_0x1ba274[_0x2bdfaf][_0x240833(0x413)][_0x240833(0x6a9)]),_0x1ba274[_0x240833(0x6da)]&&(_0x3d8b17=_0x1ba274[_0x240833(0x6da)]['key']['id']);let _0x15c8d7;if(_0x3ca7aa&&typeof _0x3ca7aa==_0x240833(0x1c0)&&_0x240833(0x60c)in _0x3ca7aa&&({pollCreationMessageKey:_0x15c8d7}=_0x3ca7aa),_0x2bdfaf===_0x240833(0x620)){let _0x3f4250=_0x3ca7aa?.[_0x240833(0x649)]?.[_0x240833(0x74c)];_0x3f4250&&(_0x3ca7aa=_0x3f4250);}if(_0x2bdfaf==='pollCreationMessage'||_0x2bdfaf===_0x240833(0x5e9)||_0x2bdfaf===_0x240833(0x293)){let _0x5af06e=_0x3ca7aa[_0x240833(0x6e3)][_0x240833(0x2d7)](_0x547c3c=>_0x547c3c[_0x240833(0x2b2)])[_0x240833(0x69d)]('|');_0x32f380[_0x240833(0x5a5)]=_0x5af06e;}let _0x5aaca7=_0x3ca7aa[_0x240833(0x5a6)]||_0x3ca7aa['caption']||_0x3ca7aa[_0x240833(0x231)]||_0x3ca7aa[_0x240833(0x2fb)];if(_0x2bdfaf===_0x240833(0x478)){_0x5aaca7=(_0x3ca7aa['title']||'')+'\x0a'+(_0x3ca7aa[_0x240833(0x4cd)]||'')+'\x0a'+(_0x3ca7aa[_0x240833(0x511)]||'');let _0x41e2c8=this['sectionsToString'](_0x3ca7aa[_0x240833(0x611)]);_0x32f380[_0x240833(0x5a5)]=_0x41e2c8;}if(_0x2bdfaf===_0x240833(0x322)&&(_0x3cebc9=_0x3ca7aa['title']),_0x3ca7aa['vcard']){let _0x32a1fa=this[_0x240833(0x6fb)](JSON[_0x240833(0x2c1)](_0x3ca7aa[_0x240833(0x562)],null,0x2));_0x5aaca7=_0x5aaca7+'\x0a'+_0x32a1fa;}if(_0x3ca7aa){let {sections:_0x4306d6,listType:_0x35ffb3,displayName:_0x1fd209,vcard:_0x2aee8d,contactVcard:_0x5579f7,name:_0x3145a1,caption:_0x4ee821,conversation:_0x5917c0,pollCreationMessageKey:_0x426155,footerText:_0x4a726f,contentText:_0x29ee74,pageCount:_0x262ebf,headerType:_0x176f11,isAvatar:_0x29fb38,isAnimated:_0x11dc31,fallbackLc:_0x460ff7,fallbackLg:_0x57623d,namespace:_0x21dc5c,elementName:_0x1b1cb1,localizableParams:_0x58d0c2,viewOnce:_0x132aa9,height:_0x66ae4d,width:_0x1cf10e,key:_0x14e6f7,firstScanLength:_0x443243,firstScanSidecar:_0x397ec6,gifPlayback:_0x3d40dc,gifAttribution:_0x240dca,midQualityFileSha256:_0x66e622,scansSidecar:_0x2ed03d,streamingSidecar:_0x39f9a0,thumbnailHeight:_0x170ab2,thumbnailWidth:_0x28b9cb,thumbnailEncSha256:_0x3e8621,thumbnailDirectPath:_0xf1dddb,canonicalUrl:_0x390374,matchedText:_0x3a46ec,previewType:_0x447fbe,thumbnailSha256:_0x19deb6,deviceListMetadataVersion:_0x4d5ecb,inviteLinkGroupTypeV2:_0x3027e8,interactiveAnnotations:_0xa0725d,scanLengths:_0x4d1145,jpegThumbnail:_0x131ee8,url:_0x53c819,mediaKeyTimestamp:_0x1eb1e4,waveform:_0x2ecb03,stickerSentTs:_0x11fd23,firstFrameLength:_0x119c00,fileEncSha256:_0x291f87,contextInfo:_0xc2aee,firstFrameSidecar:_0x139459,directPath:_0x3371f0,fileSha256:_0x37ea70,mediaKey:_0x1d01a6,senderTimestampMs:_0x3aec70,..._0x4aae5f}=_0x3ca7aa;(_0x2bdfaf===_0x240833(0x478)||_0x2bdfaf===_0x240833(0x322))&&(delete _0x4aae5f[_0x240833(0x6fc)],delete _0x4aae5f['description']),typeof _0x3ca7aa==_0x240833(0x5a4)?_0x32f380={'text':_0x3ca7aa,'type':_0x2bdfaf||_0x240833(0x231),..._0x620820&&{'edited':_0x620820},..._0x307992&&{'quoted':_0x307992},..._0x3d8b17&&{'reaction':_0x3d8b17}}:_0x32f380={'text':_0x5aaca7,..._0x4aae5f,..._0x2bdfaf===_0x240833(0x692)?{'poll_id':_0x3ca7aa[_0x240833(0x60c)]['id'],'quoted':_0x3ca7aa['pollCreationMessageKey']['id'],'vote':_0x3cebc9}:{},..._0x2bdfaf===_0x240833(0x322)?{'vote':_0x3cebc9}:{},'type':_0x2bdfaf,..._0x620820&&{'edited':_0x620820},..._0x307992&&{'quoted':_0x307992},..._0x3d8b17&&{'reaction':_0x3d8b17},...(_0x2bdfaf==='pollCreationMessage'||_0x2bdfaf===_0x240833(0x5e9)||_0x2bdfaf===_0x240833(0x293)||_0x2bdfaf===_0x240833(0x478))&&{'convertedOptions':_0x32f380[_0x240833(0x5a5)]}};}return{'messageType':_0x2bdfaf,'messageContent':_0x3ca7aa,'message_normalized':_0x32f380};}catch(_0x467926){console[_0x240833(0x367)](_0x240833(0x3d2),_0x467926);}},this[_0x8d5813(0x292)]=null,this['lastSend']=0x0,this['timerId']=null,(this[_0x8d5813(0x43d)](),this[_0x8d5813(0x655)][_0x8d5813(0x21a)]={'count':0x0});}set['instanceName'](_0x36cd9){const _0x5c0691=a0_0x22fdc2;if(!_0x36cd9){this['instance'][_0x5c0691(0x5a6)]=(0x0,si['v4'])();return;}this[_0x5c0691(0x655)]['name']=_0x36cd9,this[_0x5c0691(0x54c)](_0x5c0691(0x72f),{'instance':this['instance'][_0x5c0691(0x5a6)],'status':_0x5c0691(0x4eb)});}get[a0_0x22fdc2(0x5d2)](){const _0x41d6e1=a0_0x22fdc2;return this[_0x41d6e1(0x655)][_0x41d6e1(0x5a6)];}get['wuid'](){const _0x2d209e=a0_0x22fdc2;return this[_0x2d209e(0x655)][_0x2d209e(0x537)];}async[a0_0x22fdc2(0x3ed)](){const _0x4b4be4=a0_0x22fdc2;let _0x234223=this[_0x4b4be4(0x684)]['user']?.[_0x4b4be4(0x5a6)]??this['client'][_0x4b4be4(0x626)]?.[_0x4b4be4(0x2c6)];if(!_0x234223){if(this[_0x4b4be4(0x6fa)][_0x4b4be4(0x71b)](_0x4b4be4(0x2ae))['ENABLED']){let _0x16e773=await R['getClient']()['db'](this['configService'][_0x4b4be4(0x71b)](_0x4b4be4(0x2ae))[_0x4b4be4(0x267)][_0x4b4be4(0x1e2)]+_0x4b4be4(0x664))['collection'](this[_0x4b4be4(0x5d2)])[_0x4b4be4(0x2ce)]({'_id':_0x4b4be4(0x23c)});if(_0x16e773){let _0x15e831=JSON[_0x4b4be4(0x5c0)](JSON['stringify'](_0x16e773),w[_0x4b4be4(0x3e2)][_0x4b4be4(0x3ec)]);_0x234223=_0x15e831['me']?.['name']||_0x15e831['me']?.['verifiedName'];}}else{if((0x0,Me[_0x4b4be4(0x5bd)])((0x0,k[_0x4b4be4(0x69d)])(j,this[_0x4b4be4(0x5d2)],_0x4b4be4(0x579)))){let _0x3cf509=JSON['parse']((0x0,Me['readFileSync'])((0x0,k['join'])(j,this[_0x4b4be4(0x5d2)],_0x4b4be4(0x579)),{'encoding':_0x4b4be4(0x49d)}));_0x234223=_0x3cf509['me']?.[_0x4b4be4(0x5a6)]||_0x3cf509['me']?.[_0x4b4be4(0x2c6)];}}}return _0x234223;}get[a0_0x22fdc2(0x1f0)](){const _0x239dd9=a0_0x22fdc2;return this[_0x239dd9(0x655)][_0x239dd9(0x1f0)];}get['qrCode'](){const _0x6163ec=a0_0x22fdc2;return{'code':this['instance']['qrcode']?.['code'],'base64':this['instance']['qrcode']?.[_0x6163ec(0x64b)]};}async[a0_0x22fdc2(0x3a2)](){const _0x3598bf=a0_0x22fdc2;let _0x32e9da=await this[_0x3598bf(0x7ac)][_0x3598bf(0x3ea)][_0x3598bf(0x631)](this[_0x3598bf(0x5d2)]);this['localWebhook'][_0x3598bf(0x53c)]=_0x32e9da?.['url'],this['localWebhook'][_0x3598bf(0x423)]=_0x32e9da?.[_0x3598bf(0x423)],this['localWebhook'][_0x3598bf(0x3ad)]=_0x32e9da?.[_0x3598bf(0x3ad)],this[_0x3598bf(0x55d)][_0x3598bf(0x551)]=_0x32e9da?.['STATUS_INSTANCE'],this[_0x3598bf(0x55d)][_0x3598bf(0x4fe)]=_0x32e9da?.['QRCODE_UPDATED'],this[_0x3598bf(0x55d)][_0x3598bf(0x557)]=_0x32e9da?.[_0x3598bf(0x557)],this[_0x3598bf(0x55d)][_0x3598bf(0x71a)]=_0x32e9da?.[_0x3598bf(0x71a)],this['localWebhook'][_0x3598bf(0x5b7)]=_0x32e9da?.[_0x3598bf(0x5b7)],this[_0x3598bf(0x55d)][_0x3598bf(0x5dc)]=_0x32e9da?.['GROUPS_UPSERT'],this[_0x3598bf(0x55d)][_0x3598bf(0x789)]=_0x32e9da?.[_0x3598bf(0x789)],this[_0x3598bf(0x55d)][_0x3598bf(0x406)]=_0x32e9da?.['GROUP_PARTICIPANTS_UPDATE'],this['localWebhook'][_0x3598bf(0x337)]=_0x32e9da?.[_0x3598bf(0x337)],this['localWebhook'][_0x3598bf(0x3f1)]=_0x32e9da?.[_0x3598bf(0x3f1)],this[_0x3598bf(0x55d)][_0x3598bf(0x4e2)]=_0x32e9da?.[_0x3598bf(0x4e2)],this[_0x3598bf(0x55d)][_0x3598bf(0x32e)]=_0x32e9da?.[_0x3598bf(0x32e)],this[_0x3598bf(0x55d)][_0x3598bf(0x1be)]=_0x32e9da?.['CONTACTS_SET'],this[_0x3598bf(0x55d)][_0x3598bf(0x4e0)]=_0x32e9da?.[_0x3598bf(0x4e0)],this[_0x3598bf(0x55d)][_0x3598bf(0x2f9)]=_0x32e9da?.['CONTACTS_UPDATE'],this['localWebhook']['PRESENCE_UPDATE']=_0x32e9da?.[_0x3598bf(0x693)],this[_0x3598bf(0x55d)][_0x3598bf(0x3a9)]=_0x32e9da?.[_0x3598bf(0x3a9)],this[_0x3598bf(0x55d)][_0x3598bf(0x3c7)]=_0x32e9da?.['CONNECTION_UPDATE'],this[_0x3598bf(0x55d)][_0x3598bf(0x463)]=_0x32e9da?.['groups_ignore'];}async[a0_0x22fdc2(0x2e0)](_0x5e22ae){const _0x133a01=a0_0x22fdc2;let _0x3287a0=[_0x133a01(0x762),'url',_0x133a01(0x423),_0x133a01(0x3ad),_0x133a01(0x551),'QRCODE_UPDATED',_0x133a01(0x5b7),_0x133a01(0x71a),'SEND_MESSAGE',_0x133a01(0x5dc),_0x133a01(0x789),_0x133a01(0x406),_0x133a01(0x337),'CHATS_UPSERT',_0x133a01(0x4e2),_0x133a01(0x32e),_0x133a01(0x1be),_0x133a01(0x4e0),_0x133a01(0x2f9),_0x133a01(0x693),_0x133a01(0x3a9),'CONNECTION_UPDATE',_0x133a01(0x463)],_0x258b60={};return _0x3287a0[_0x133a01(0x3a1)](_0xf308a5=>{_0x5e22ae[_0xf308a5]!==void 0x0&&(_0x258b60[_0xf308a5]=_0x5e22ae[_0xf308a5]);}),await this[_0x133a01(0x7ac)]['webhook'][_0x133a01(0x3c0)](_0x258b60,this['instanceName']),Object[_0x133a01(0x42b)](this[_0x133a01(0x55d)],_0x258b60),await this[_0x133a01(0x7ac)][_0x133a01(0x3ea)][_0x133a01(0x631)](this['instanceName']);}async[a0_0x22fdc2(0x2dd)](){const _0x381cde=a0_0x22fdc2;return await this[_0x381cde(0x7ac)]['webhook'][_0x381cde(0x631)](this[_0x381cde(0x5d2)]);}async[a0_0x22fdc2(0x54c)](_0x2507d5,_0x1ae8a6){const _0x1cae53=a0_0x22fdc2;let _0x20aafa=this['configService'][_0x1cae53(0x71b)](_0x1cae53(0x57c)),_0x3544ef=_0x2507d5['replace'](/[\.-]/gm,'_')[_0x1cae53(0x78c)](),_0x1e9965=this[_0x1cae53(0x55d)]['enabled']&&(0x0,P[_0x1cae53(0x723)])(this[_0x1cae53(0x55d)][_0x1cae53(0x53c)])?this[_0x1cae53(0x55d)][_0x1cae53(0x53c)]+(this[_0x1cae53(0x55d)][_0x1cae53(0x3ad)]?this[_0x1cae53(0x2ed)][_0x2507d5]:''):null,_0x1d281e=_0x20aafa?.[_0x1cae53(0x7a2)],_0x56b8ee=_0x1d281e&&_0x1d281e?.[_0x1cae53(0x3e8)]&&(0x0,P[_0x1cae53(0x723)])(_0x1d281e['URL'])?_0x1d281e['URL']+(_0x20aafa[_0x1cae53(0x39e)]?this[_0x1cae53(0x2ed)][_0x2507d5]:''):null,_0xb7ba59=this[_0x1cae53(0x55d)][_0x3544ef],_0x348009=_0x20aafa?.['EVENTS']?.[_0x3544ef];if(_0xb7ba59&&_0x1e9965)try{await ce[_0x1cae53(0x421)][_0x1cae53(0x3c0)]({'baseURL':_0x1e9965})['post']('',{'event':_0x2507d5,'instance':this['instance'][_0x1cae53(0x5a6)],'data':_0x1ae8a6}),this[_0x1cae53(0x3e1)][_0x1cae53(0x2d0)](_0x1cae53(0x3e6)+_0x2507d5+':\x20'+_0x1e9965);}catch(_0x410d36){this[_0x1cae53(0x3e1)][_0x1cae53(0x367)](this[_0x1cae53(0x5d2)]+'\x20('+this[_0x1cae53(0x655)][_0x1cae53(0x537)]+_0x1cae53(0x6f5)+{'local':c[_0x1cae53(0x5a6)]+_0x1cae53(0x4b6),'message':_0x410d36?.[_0x1cae53(0x649)],'hostName':_0x410d36?.['hostname'],'syscall':_0x410d36?.[_0x1cae53(0x50d)],'code':_0x410d36?.[_0x1cae53(0x1ff)],'error':_0x410d36?.['errno'],'stack':_0x410d36?.[_0x1cae53(0x2cf)],'name':_0x410d36?.[_0x1cae53(0x5a6)]});}if(_0x348009&&_0x56b8ee)try{await ce[_0x1cae53(0x421)][_0x1cae53(0x3c0)]({'baseURL':_0x56b8ee})['post']('',{'event':_0x2507d5,'instance':this[_0x1cae53(0x655)][_0x1cae53(0x5a6)],'data':_0x1ae8a6}),this['logger'][_0x1cae53(0x2d0)](_0x1cae53(0x42a)+_0x2507d5+':\x20'+_0x56b8ee);}catch(_0x505718){this[_0x1cae53(0x3e1)][_0x1cae53(0x367)](this[_0x1cae53(0x5d2)]+'\x20('+this[_0x1cae53(0x655)][_0x1cae53(0x537)]+_0x1cae53(0x6f5)+{'local':c[_0x1cae53(0x5a6)]+'.sendDataWebhook-global','message':_0x505718?.[_0x1cae53(0x649)],'hostName':_0x505718?.['hostname'],'syscall':_0x505718?.[_0x1cae53(0x50d)],'code':_0x505718?.[_0x1cae53(0x1ff)],'error':_0x505718?.[_0x1cae53(0x771)],'stack':_0x505718?.[_0x1cae53(0x2cf)],'name':_0x505718?.['name']});}}async[a0_0x22fdc2(0x301)]({qr:_0x5a549a,connection:_0x1d7142,lastDisconnect:_0x4c078b}){const _0x110a69=a0_0x22fdc2;if(_0x5a549a){if(this['instance'][_0x110a69(0x21a)][_0x110a69(0x329)]===this[_0x110a69(0x6fa)][_0x110a69(0x71b)](_0x110a69(0x62b))['LIMIT'])return this['sendDataWebhook']('qrcode.updated',{'message':_0x110a69(0x2ea),'statusCode':w['DisconnectReason'][_0x110a69(0x656)]}),this[_0x110a69(0x54c)](_0x110a69(0x601),{'instance':this[_0x110a69(0x655)][_0x110a69(0x5a6)],'state':'refused','statusReason':w[_0x110a69(0x60a)][_0x110a69(0x505)]}),this[_0x110a69(0x54c)]('status.instance',{'instance':this[_0x110a69(0x655)][_0x110a69(0x5a6)],'status':'removed'}),this[_0x110a69(0x4b5)]=!0x0,this[_0x110a69(0x74a)][_0x110a69(0x556)](_0x110a69(0x1e8),this[_0x110a69(0x655)]['name']);this[_0x110a69(0x655)][_0x110a69(0x21a)][_0x110a69(0x329)]++;let _0x5ac953={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x110a69(0x651),'dark':'#000000'}};ai[_0x110a69(0x421)][_0x110a69(0x4b3)](_0x5a549a,_0x5ac953,(_0x493c4b,_0x3eb5df)=>{const _0x14982c=_0x110a69;if(_0x493c4b){this[_0x14982c(0x3e1)][_0x14982c(0x367)](this[_0x14982c(0x5d2)]+'\x20('+this['instance']['wuid']+_0x14982c(0x42d)+JSON['stringify'](_0x493c4b,null,0x2));return;}this[_0x14982c(0x655)][_0x14982c(0x21a)][_0x14982c(0x64b)]=_0x3eb5df,this[_0x14982c(0x655)]['qrcode'][_0x14982c(0x1ff)]=_0x5a549a,this['sendDataWebhook'](_0x14982c(0x5b4),{'qrcode':{'instance':this[_0x14982c(0x655)][_0x14982c(0x5a6)],'code':_0x5a549a,'base64':_0x3eb5df}});}),ii[_0x110a69(0x421)][_0x110a69(0x1fb)](_0x5a549a,{'small':!0x0},_0x44163e=>this[_0x110a69(0x3e1)][_0x110a69(0x2d0)](_0x110a69(0x78e)+this['instance'][_0x110a69(0x5a6)]+_0x110a69(0x719)+this[_0x110a69(0x655)][_0x110a69(0x21a)][_0x110a69(0x329)]+_0x110a69(0x1f7)+_0x44163e));}if(_0x1d7142&&(this[_0x110a69(0x49b)]={'state':_0x1d7142,'statusReason':_0x4c078b?.[_0x110a69(0x367)]?.[_0x110a69(0x1ce)]?.[_0x110a69(0x47c)]??0xc8},this[_0x110a69(0x54c)](_0x110a69(0x601),{'instance':this[_0x110a69(0x655)]['name'],...this[_0x110a69(0x49b)]})),_0x1d7142===_0x110a69(0x538)){if(this[_0x110a69(0x3df)]++,this[_0x110a69(0x25d)][_0x110a69(0x23d)](Date[_0x110a69(0x5b2)]()),this[_0x110a69(0x25d)]=this[_0x110a69(0x25d)][_0x110a69(0x4e1)](_0x497201=>Date[_0x110a69(0x5b2)]()-_0x497201<this[_0x110a69(0x760)]),_0x4c078b['error']?.[_0x110a69(0x1ce)]?.[_0x110a69(0x47c)]!==w['DisconnectReason'][_0x110a69(0x3f7)]&&this[_0x110a69(0x25d)][_0x110a69(0x44c)]<=this[_0x110a69(0x76f)])await this[_0x110a69(0x2f7)]();else{this[_0x110a69(0x54c)](_0x110a69(0x72f),{'instance':this[_0x110a69(0x655)][_0x110a69(0x5a6)],'status':'removed'}),this[_0x110a69(0x2b3)]=!0x1;try{this[_0x110a69(0x3e1)][_0x110a69(0x31e)](this[_0x110a69(0x5d2)]+'\x20('+this[_0x110a69(0x655)]['wuid']+_0x110a69(0x28b));let _0x2b5ca5=await this['repository'][_0x110a69(0x649)][_0x110a69(0x58a)](this[_0x110a69(0x655)]['wuid']);_0x2b5ca5[_0x110a69(0x1ee)]?this[_0x110a69(0x3e1)][_0x110a69(0x31e)](this[_0x110a69(0x5d2)]+'\x20('+this['instance'][_0x110a69(0x537)]+_0x110a69(0x5b0)):console[_0x110a69(0x367)](_0x110a69(0x2bd),_0x2b5ca5[_0x110a69(0x367)]);}catch(_0x3ab2ed){console['error'](_0x110a69(0x34c),_0x3ab2ed);}this[_0x110a69(0x2d2)]!==null&&(this[_0x110a69(0x3e1)][_0x110a69(0x31e)](this[_0x110a69(0x5d2)]+'\x20('+this[_0x110a69(0x655)][_0x110a69(0x537)]+_0x110a69(0x24c)),clearInterval(this[_0x110a69(0x2d2)]),this[_0x110a69(0x2d2)]=null),this[_0x110a69(0x3e1)][_0x110a69(0x31e)](this[_0x110a69(0x5d2)]+'\x20('+this[_0x110a69(0x655)][_0x110a69(0x537)]+_0x110a69(0x2c7)),this['AutomateSystem']=null,this[_0x110a69(0x74a)]['emit'](_0x110a69(0x750),this[_0x110a69(0x655)][_0x110a69(0x5a6)],_0x110a69(0x605)),this[_0x110a69(0x684)]?.['ws']?.[_0x110a69(0x538)](),this[_0x110a69(0x684)][_0x110a69(0x363)](new Error(_0x110a69(0x2c3)));}}if(_0x1d7142===_0x110a69(0x70a)){this[_0x110a69(0x2e6)],this[_0x110a69(0x655)][_0x110a69(0x537)]=this[_0x110a69(0x684)]['user']['id'][_0x110a69(0x274)](/:\d+/,'')[_0x110a69(0x274)](_0x110a69(0x75c),''),this[_0x110a69(0x655)][_0x110a69(0x1f0)]=(await this[_0x110a69(0x6be)](this['instance'][_0x110a69(0x537)]+_0x110a69(0x75c)))[_0x110a69(0x1f0)];let _0x7466eb=_0x110a69(0x560)+this['instance'][_0x110a69(0x537)],_0x1c6b09=0x28,_0x308cc0=Math[_0x110a69(0x674)]((_0x1c6b09-_0x7466eb[_0x110a69(0x44c)])/0x2),_0x5e61bf='\x20'[_0x110a69(0x6e0)](_0x308cc0),_0x36c8b4=_0x110a69(0x311),_0x74416a=_0x110a69(0x700)+this[_0x110a69(0x655)][_0x110a69(0x5a6)],_0x22dd9d=(''+_0x5e61bf+_0x7466eb+_0x5e61bf)[_0x110a69(0x4a8)](_0x1c6b09,'\x20'),_0x38f277=(''+_0x5e61bf+_0x36c8b4+_0x5e61bf)[_0x110a69(0x4a8)](_0x1c6b09,'\x20'),_0x23b1aa=(''+_0x5e61bf+_0x74416a+_0x5e61bf)[_0x110a69(0x4a8)](_0x1c6b09,'\x20'),_0x448c12=Math['max'](_0x22dd9d[_0x110a69(0x44c)],_0x38f277['length'],_0x23b1aa[_0x110a69(0x44c)]),_0x28c8d6=_0x22dd9d[_0x110a69(0x4a8)](_0x448c12,'\x20'),_0x5a5bdf=_0x38f277[_0x110a69(0x4a8)](_0x448c12,'\x20'),_0x304c42=_0x23b1aa[_0x110a69(0x4a8)](_0x448c12,'\x20');this[_0x110a69(0x3e1)]['info'](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x110a69(0x6e0)](_0x448c12)+_0x110a69(0x435)+_0x5a5bdf+_0x110a69(0x44e)+_0x304c42+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x28c8d6+_0x110a69(0x36f)+'─'[_0x110a69(0x6e0)](_0x448c12)+'┘')[_0x110a69(0x274)](/^ +/gm,'\x20\x20')),this[_0x110a69(0x602)](),this[_0x110a69(0x2b3)]=!0x0;}}['resetReconnectionVariables'](){const _0x2117bc=a0_0x22fdc2;this[_0x2117bc(0x3df)]=0x0,this[_0x2117bc(0x25d)]=[];}async[a0_0x22fdc2(0x5b9)](_0x408548,_0x3e8226=!0x1){const _0x5bfd79=a0_0x22fdc2;try{let _0x419442=await this[_0x5bfd79(0x7ac)][_0x5bfd79(0x649)][_0x5bfd79(0x631)]({'where':{'owner':this[_0x5bfd79(0x655)]['wuid'],'_id':_0x408548['id']}});return _0x3e8226?_0x419442[0x0]:_0x419442[0x0][_0x5bfd79(0x649)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x46ae6d=a0_0x22fdc2;let _0x14ae2d=this[_0x46ae6d(0x6fa)]['get'](_0x46ae6d(0x66a)),_0x2aeaf5=this[_0x46ae6d(0x6fa)][_0x46ae6d(0x71b)]('DATABASE');_0x14ae2d?.[_0x46ae6d(0x6c2)]&&!_0x2aeaf5[_0x46ae6d(0x3e8)]&&setInterval(()=>{const _0xb7dabb=_0x46ae6d;try{for(let [_0xff45d4,_0x33eb20]of Object[_0xb7dabb(0x519)](_0x14ae2d))_0x33eb20===!0x0&&(0x0,_t[_0xb7dabb(0x2e9)])(_0xb7dabb(0x785)+(0x0,k[_0xb7dabb(0x69d)])(this[_0xb7dabb(0x4fc)],_0xff45d4[_0xb7dabb(0x38f)](),this[_0xb7dabb(0x655)][_0xb7dabb(0x537)])+_0xb7dabb(0x42c));}catch{}},(_0x14ae2d?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x22fdc2(0x1f8)](){const _0x442977=a0_0x22fdc2;let _0x300f80=this[_0x442977(0x6fa)][_0x442977(0x71b)](_0x442977(0x2ae)),_0x1213eb=this['configService'][_0x442977(0x71b)](_0x442977(0x6d1));return _0x1213eb?.[_0x442977(0x3e8)]?await ms(_0x1213eb,this['instance'][_0x442977(0x5a6)]):_0x300f80[_0x442977(0x3e8)]?await gs(this[_0x442977(0x655)][_0x442977(0x5a6)]):await(0x0,w[_0x442977(0x287)])((0x0,k[_0x442977(0x69d)])(j,this['instance'][_0x442977(0x5a6)]));}async['AutomateFunctions'](){const _0x12aa82=a0_0x22fdc2;let _0x387daa=()=>Math[_0x12aa82(0x674)](Math[_0x12aa82(0x321)]()*0x2711)+0x7d0,_0x1c0ba0=async()=>{const _0x269b07=_0x12aa82;if(!this[_0x269b07(0x2b3)]){this[_0x269b07(0x3e1)]['verbose'](_0x269b07(0x452)),this[_0x269b07(0x3a8)]=!0x1;return;}if(this['instance'][_0x269b07(0x537)]&&this[_0x269b07(0x6a3)]&&this['delayMessage']!==null&&this[_0x269b07(0x2d2)]!==void 0x0){let _0x10ba91=Math[_0x269b07(0x706)](this[_0x269b07(0x2d2)]/0xea60);this[_0x269b07(0x3e1)][_0x269b07(0x31e)](this['instanceName']+'\x20('+this[_0x269b07(0x655)][_0x269b07(0x537)]+_0x269b07(0x64c)+_0x10ba91+_0x269b07(0x5cd)),this[_0x269b07(0x3a8)]=!0x1;return;}else this[_0x269b07(0x655)][_0x269b07(0x537)]&&(this[_0x269b07(0x3e1)][_0x269b07(0x31e)](this[_0x269b07(0x5d2)]+'\x20('+this[_0x269b07(0x655)]['wuid']+_0x269b07(0x71e)),this[_0x269b07(0x6a3)]||await this[_0x269b07(0x261)](),(this[_0x269b07(0x2d2)]===null||this[_0x269b07(0x2d2)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x269b07(0x3a8)]){let _0x594ac7=_0x387daa();this[_0x269b07(0x3e1)]['verbose'](this['instanceName']+_0x269b07(0x1da)+_0x594ac7/0x3e8+'\x20segundos'),setTimeout(_0x1c0ba0,_0x594ac7);}};if(this[_0x12aa82(0x3a8)])return;this[_0x12aa82(0x3a8)]=!0x0;let _0x4c9579=_0x387daa();setTimeout(_0x1c0ba0,_0x4c9579);}async[a0_0x22fdc2(0x2f7)](){const _0x550c31=a0_0x22fdc2;try{this['loadWebhook'](),this[_0x550c31(0x655)][_0x550c31(0x5be)]=await this[_0x550c31(0x1f8)]();let {version:_0x31324b}=await(0x0,w[_0x550c31(0x5ff)])(),_0x4eae28=this['configService'][_0x550c31(0x71b)](_0x550c31(0x50c)),_0x1a8e4c=[_0x4eae28[_0x550c31(0x5f3)],_0x4eae28[_0x550c31(0x286)],(0x0,oi[_0x550c31(0x2e4)])()],_0x3a9f18={'auth':{'creds':this[_0x550c31(0x655)][_0x550c31(0x5be)][_0x550c31(0x4f2)]['creds'],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this['instance'][_0x550c31(0x5be)][_0x550c31(0x4f2)][_0x550c31(0x79e)],(0x0,At[_0x550c31(0x421)])({'level':'error'}))},'logger':(0x0,At[_0x550c31(0x421)])({'level':_0x550c31(0x367)}),'printQRInTerminal':!0x1,'browser':_0x1a8e4c,'version':_0x31324b,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x550c31(0x2e5)],'getMessage':async _0x3dcdf1=>await this['getMessage'](_0x3dcdf1),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x550c31(0x33c)],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x4d7a18=>(_0x4d7a18[_0x550c31(0x478)]?.[_0x550c31(0x205)]==w['proto'][_0x550c31(0x575)][_0x550c31(0x616)][_0x550c31(0x3d9)][_0x550c31(0x4c3)]&&(_0x4d7a18=JSON['parse'](JSON[_0x550c31(0x2c1)](_0x4d7a18)),_0x4d7a18[_0x550c31(0x478)]['listType']=w[_0x550c31(0x5b6)][_0x550c31(0x575)][_0x550c31(0x616)][_0x550c31(0x3d9)][_0x550c31(0x506)]),_0x4d7a18)};return this[_0x550c31(0x4b5)]=!0x1,this[_0x550c31(0x684)]=(0x0,w['default'])(_0x3a9f18),this[_0x550c31(0x4ff)](),this[_0x550c31(0x684)];}catch(_0xc2a221){throw this[_0x550c31(0x3e1)][_0x550c31(0x367)](this[_0x550c31(0x5d2)]+'\x20('+this['instance'][_0x550c31(0x537)]+'):\x20'+JSON[_0x550c31(0x2c1)](_0xc2a221,null,0x2)),new A(_0xc2a221?.[_0x550c31(0x78b)]());}}['eventHandler'](){const _0x5aafce=a0_0x22fdc2;this[_0x5aafce(0x684)]['ev'][_0x5aafce(0x6dd)](_0x4a1fdf=>{const _0x290db8=_0x5aafce;if(!this[_0x290db8(0x4b5)]){let _0x5388ea=this[_0x290db8(0x6fa)][_0x290db8(0x71b)]('DATABASE');if(_0x4a1fdf[_0x290db8(0x601)]&&this['connectionUpdate'](_0x4a1fdf[_0x290db8(0x601)]),_0x4a1fdf[_0x290db8(0x52e)]&&this[_0x290db8(0x655)][_0x290db8(0x5be)][_0x290db8(0x46b)](),_0x4a1fdf[_0x290db8(0x797)]){let _0x51b07b=_0x4a1fdf[_0x290db8(0x797)];this[_0x290db8(0x472)][_0x290db8(0x797)](_0x51b07b,_0x5388ea);}if(_0x4a1fdf['messages.upsert']){let _0x33bd85=_0x4a1fdf['messages.upsert'];this[_0x290db8(0x472)]['messages.upsert'](_0x33bd85,_0x5388ea);}if(_0x4a1fdf['messages.update']){let _0x49b565=_0x4a1fdf[_0x290db8(0x67a)];this[_0x290db8(0x472)][_0x290db8(0x67a)](_0x49b565,_0x5388ea);}if(_0x4a1fdf[_0x290db8(0x51a)]){let _0x57315f=_0x4a1fdf[_0x290db8(0x51a)];if(this[_0x290db8(0x55d)]?.['groups_ignore']&&_0x57315f['id']['includes'](_0x290db8(0x385)))return;this['sendDataWebhook']('presence.update',_0x57315f);}if(!this['localWebhook']?.['groups_ignore']){if(_0x4a1fdf[_0x290db8(0x563)]){let _0x2af271=_0x4a1fdf['groups.upsert'];this[_0x290db8(0x30d)]['groups.upsert'](_0x2af271);}if(_0x4a1fdf[_0x290db8(0x688)]){let _0x6f7760=_0x4a1fdf['groups.update'];this['groupHandler'][_0x290db8(0x688)](_0x6f7760);}if(_0x4a1fdf[_0x290db8(0x71c)]){let _0x3544d5=_0x4a1fdf[_0x290db8(0x71c)];this[_0x290db8(0x30d)]['group-participants.update'](_0x3544d5);}}if(_0x4a1fdf[_0x290db8(0x447)]){let _0x130945=_0x4a1fdf['chats.upsert'];this[_0x290db8(0x356)]['chats.upsert'](_0x130945,_0x5388ea);}if(_0x4a1fdf[_0x290db8(0x319)]){let _0x5cc988=_0x4a1fdf['chats.update'];this['chatHandle'][_0x290db8(0x319)](_0x5cc988,_0x5388ea);}if(_0x4a1fdf[_0x290db8(0x276)]){let _0x3c0fb8=_0x4a1fdf['chats.delete'];this[_0x290db8(0x356)][_0x290db8(0x276)](_0x3c0fb8);}if(_0x4a1fdf[_0x290db8(0x33d)]){let _0x105441=_0x4a1fdf[_0x290db8(0x33d)];this[_0x290db8(0x1cb)][_0x290db8(0x33d)](_0x105441,_0x5388ea);}if(_0x4a1fdf[_0x290db8(0x256)]){let _0xdc5c95=_0x4a1fdf[_0x290db8(0x256)];this[_0x290db8(0x1cb)][_0x290db8(0x256)](_0xdc5c95,_0x5388ea);}}});}[a0_0x22fdc2(0x263)](_0xfec4ce){const _0x611e5c=a0_0x22fdc2;let _0x5ac947=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x611e5c(0x288)](_0xfec4ce);if(_0x5ac947&&_0x5ac947[0x1]==='55'){let _0x221b6a=_0x5ac947[0x2],_0x280f7d=_0x5ac947[0x3],_0x5c90c6=_0x5ac947[0x4];if(_0x221b6a>='31'&&_0x280f7d==='9')return _0x5ac947[0x1]+_0x221b6a+_0x5c90c6;}return _0xfec4ce;}[a0_0x22fdc2(0x4e6)](_0x5bd0d7){const _0x3f110e=a0_0x22fdc2;return _0x5bd0d7[_0x3f110e(0x353)](_0x3f110e(0x385))||_0x5bd0d7[_0x3f110e(0x353)](_0x3f110e(0x75c))||_0x5bd0d7['includes'](_0x3f110e(0x751))?_0x5bd0d7:(_0x5bd0d7=_0x5bd0d7?.[_0x3f110e(0x274)](/\s/g,'')['replace'](/\+/g,'')[_0x3f110e(0x274)](/\(/g,'')['replace'](/\)/g,'')[_0x3f110e(0x289)](/\:/)[0x0][_0x3f110e(0x289)]('@')[0x0],_0x5bd0d7['length']>=0x12?(_0x5bd0d7=_0x5bd0d7[_0x3f110e(0x274)](/[^\d-]/g,''),_0x5bd0d7+_0x3f110e(0x385)):(_0x5bd0d7=_0x5bd0d7[_0x3f110e(0x274)](/\D/g,''),this[_0x3f110e(0x263)](_0x5bd0d7)+_0x3f110e(0x75c)));}async[a0_0x22fdc2(0x38b)](_0x22fa47){const _0x4fe6c6=a0_0x22fdc2;let _0x27acf5=this['createJid'](_0x22fa47[_0x4fe6c6(0x216)]),_0x39000d=(await this['whatsappNumber']({'numbers':[_0x27acf5]}))[0x0];if(!_0x39000d[_0x4fe6c6(0x6d5)]&&!(0x0,w[_0x4fe6c6(0x398)])(_0x39000d['jid']))throw new g(_0x39000d);let _0x553174=(0x0,w[_0x4fe6c6(0x398)])(_0x27acf5)?_0x27acf5:_0x39000d['jid'];if((0x0,w[_0x4fe6c6(0x398)])(_0x553174))try{await this[_0x4fe6c6(0x684)][_0x4fe6c6(0x2d4)](_0x553174);}catch{throw new $(_0x4fe6c6(0x69e));}try{return await this[_0x4fe6c6(0x684)][_0x4fe6c6(0x3f3)](_0x553174),await this[_0x4fe6c6(0x684)][_0x4fe6c6(0x6f9)](_0x22fa47['presence'],_0x27acf5),{'status':0xc8,'presence':_0x22fa47[_0x4fe6c6(0x594)]};}catch(_0x115bd0){throw new g(_0x115bd0[_0x4fe6c6(0x78b)]());}}async[a0_0x22fdc2(0x6be)](_0x4e7e9e){const _0x49c707=a0_0x22fdc2;let _0x5bd9fa=this[_0x49c707(0x4e6)](_0x4e7e9e);try{return{'wuid':_0x5bd9fa,'profilePictureUrl':await this[_0x49c707(0x684)][_0x49c707(0x1f0)](_0x5bd9fa,_0x49c707(0x753))};}catch{return{'wuid':_0x5bd9fa,'profilePictureUrl':null};}}async[a0_0x22fdc2(0x689)](_0x45059a,_0x552062,_0x7010a8){const _0x41f673=a0_0x22fdc2;let _0x5c68ee=(await this['whatsappNumber']({'numbers':[_0x45059a]}))[0x0];if(!_0x5c68ee['exists']&&!(0x0,w['isJidGroup'])(_0x5c68ee['jid'])&&!_0x5c68ee['jid']['includes'](_0x41f673(0x751)))throw new g(_0x5c68ee);let _0x21880c=_0x5c68ee[_0x41f673(0x1e9)];try{_0x7010a8?.[_0x41f673(0x2ac)]&&(await this[_0x41f673(0x684)]['presenceSubscribe'](_0x21880c),await this['client']['sendPresenceUpdate'](_0x7010a8?.[_0x41f673(0x594)]??_0x41f673(0x7a0),_0x21880c),await(0x0,w[_0x41f673(0x2ac)])(_0x7010a8[_0x41f673(0x2ac)]),await this[_0x41f673(0x684)][_0x41f673(0x6f9)](_0x41f673(0x595),_0x21880c));let _0x5bb676=_0x7010a8?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x56da8e;if(_0x7010a8?.[_0x41f673(0x6cc)]){let _0x2f7fe9=_0x7010a8?.[_0x41f673(0x6cc)],_0x23c76e=_0x2f7fe9?.[_0x41f673(0x649)]?_0x2f7fe9:await this['getMessage'](_0x2f7fe9[_0x41f673(0x4a1)],!0x0);if(!_0x23c76e)throw _0x41f673(0x3c4);_0x56da8e=_0x23c76e;}let _0x592175;if((0x0,w[_0x41f673(0x398)])(_0x21880c))try{let _0x411088=await this[_0x41f673(0x684)][_0x41f673(0x2d4)](_0x21880c);if(!_0x411088)throw new $(_0x41f673(0x69e));_0x7010a8?.['mentions']&&(_0x7010a8[_0x41f673(0x35b)]?.[_0x41f673(0x759)]?_0x592175=_0x411088[_0x41f673(0x30f)][_0x41f673(0x2d7)](_0x43a2b9=>_0x43a2b9['id']):_0x7010a8[_0x41f673(0x35b)]?.['mentioned']?.[_0x41f673(0x44c)]&&(_0x592175=_0x7010a8[_0x41f673(0x35b)][_0x41f673(0x368)]['map'](_0x56b4b1=>{const _0x49e302=_0x41f673;let _0x3136ae=this['createJid'](_0x56b4b1);return(0x0,w[_0x49e302(0x398)])(_0x3136ae)?null:_0x3136ae;})));}catch{throw new $(_0x41f673(0x69e));}let _0x8c3f70=await((async()=>{const _0x43514a=_0x41f673;let _0x5c032e={'quoted':_0x56da8e};if(!_0x552062[_0x43514a(0x280)]&&!_0x552062[_0x43514a(0x298)]&&!_0x552062[_0x43514a(0x55f)]&&!_0x552062[_0x43514a(0x231)]&&_0x21880c!==_0x43514a(0x3b3)&&!_0x552062['audio'])return await this[_0x43514a(0x684)][_0x43514a(0x5f9)](_0x21880c,{'forward':{'key':{'remoteJid':this[_0x43514a(0x655)][_0x43514a(0x537)],'fromMe':!0x0},'message':_0x552062},'mentions':_0x592175},_0x5c032e);if(_0x552062[_0x43514a(0x231)]){let _0x266247=_0x552062[_0x43514a(0x231)];return _0x7010a8?.['changeVariables']&&(_0x266247=await this[_0x43514a(0x6b7)](_0x266247,_0x21880c)),await this[_0x43514a(0x684)][_0x43514a(0x5f9)](_0x21880c,{'text':_0x266247,'mentions':_0x592175,'linkPreview':_0x5bb676},_0x5c032e);}return _0x21880c===_0x43514a(0x3b3)?await this[_0x43514a(0x684)]['sendMessage'](_0x21880c,_0x552062[_0x43514a(0x592)]['content'],{'backgroundColor':_0x552062[_0x43514a(0x592)][_0x43514a(0x26b)][_0x43514a(0x222)],'font':_0x552062[_0x43514a(0x592)][_0x43514a(0x26b)][_0x43514a(0x69c)],'statusJidList':_0x552062[_0x43514a(0x592)][_0x43514a(0x26b)]['statusJidList']}):await this[_0x43514a(0x684)][_0x43514a(0x5f9)](_0x21880c,_0x552062,_0x5c032e);})()),{message_normalized:_0x2f4af0}=this['normalizeMessage'](_0x8c3f70[_0x41f673(0x649)],_(_0x8c3f70[_0x41f673(0x649)]),null),_0x4592db={'_id':_0x8c3f70[_0x41f673(0x4a1)]['id'],'key':_0x8c3f70[_0x41f673(0x4a1)],'pushName':_0x8c3f70[_0x41f673(0x1c8)],'message':{..._0x8c3f70[_0x41f673(0x649)]},'messageType':_(_0x8c3f70[_0x41f673(0x649)]),'message_normalized':{'key':_0x8c3f70[_0x41f673(0x4a1)],'pushName':_0x8c3f70[_0x41f673(0x1c8)],'messageTimestamp':_0x8c3f70[_0x41f673(0x576)]&&_0x8c3f70[_0x41f673(0x576)][_0x41f673(0x78b)]()[_0x41f673(0x44c)]<0xd?_0x8c3f70[_0x41f673(0x576)]*0x3e8:_0x8c3f70['messageTimestamp']||null,'source':(0x0,w['getDevice'])(_0x8c3f70[_0x41f673(0x4a1)]['id']),..._0x2f4af0},'messageTimestamp':_0x8c3f70[_0x41f673(0x576)]&&_0x8c3f70[_0x41f673(0x576)]['toString']()['length']<0xd?_0x8c3f70[_0x41f673(0x576)]*0x3e8:_0x8c3f70[_0x41f673(0x576)]||null,'owner':this[_0x41f673(0x655)][_0x41f673(0x537)],'source':(0x0,w[_0x41f673(0x32c)])(_0x8c3f70[_0x41f673(0x4a1)]['id'])};return this[_0x41f673(0x3e1)][_0x41f673(0x2d0)](_0x4592db),this[_0x41f673(0x54c)](_0x41f673(0x7a5),_0x4592db),q(this[_0x41f673(0x5d2)],_0x41f673(0x5fb),{'message':_0x4592db}),this['updateChatWithMessage'](this[_0x41f673(0x6fa)]['get'](_0x41f673(0x2ae)),_0x4592db,'SEND_MESSAGE'),await this['repository']['message']['insert']([_0x4592db]),_0x8c3f70;}catch(_0x15d82c){throw this[_0x41f673(0x3e1)][_0x41f673(0x367)](this[_0x41f673(0x5d2)]+'\x20('+this[_0x41f673(0x655)][_0x41f673(0x537)]+_0x41f673(0x6f5)+_0x15d82c['toString']()),new g(_0x15d82c[_0x41f673(0x78b)]());}}get[a0_0x22fdc2(0x5d0)](){const _0x113b5d=a0_0x22fdc2;return this[_0x113b5d(0x49b)];}async[a0_0x22fdc2(0x695)](_0x347f15){const _0x4a955f=a0_0x22fdc2;let _0x344e2d=this[_0x4a955f(0x6fa)][_0x4a955f(0x71b)]('TRIAL_AD'),_0x5e365d=this[_0x4a955f(0x6fa)]['get']('TRIAL_INSTANCE_NAME');return _0x5e365d&&this[_0x4a955f(0x5d2)]['toLowerCase']()[_0x4a955f(0x353)](_0x5e365d['toLowerCase']())&&(_0x347f15[_0x4a955f(0x695)][_0x4a955f(0x70b)]+='\x0a\x0a'+_0x344e2d),await this['sendMessageWithTyping'](_0x347f15[_0x4a955f(0x216)],{'conversation':_0x347f15[_0x4a955f(0x695)]['text']},_0x347f15?.[_0x4a955f(0x6e3)]);}async[a0_0x22fdc2(0x73d)](_0x5148ec){const _0x354537=a0_0x22fdc2;if(!_0x5148ec['type'])throw new g('Type\x20is\x20required');if(!_0x5148ec[_0x354537(0x35a)])throw new g(_0x354537(0x268));if(_0x5148ec[_0x354537(0x422)]){let _0x2a985a=await this['repository'][_0x354537(0x281)]['find']({'where':{'owner':this[_0x354537(0x655)][_0x354537(0x537)]}});if(!_0x2a985a[_0x354537(0x44c)])throw new g(_0x354537(0x73a));_0x5148ec[_0x354537(0x3d5)]=_0x2a985a[_0x354537(0x4e1)](_0x51dcda=>_0x51dcda['pushName'])[_0x354537(0x2d7)](_0x15f82d=>_0x15f82d['_id']);}if(!_0x5148ec[_0x354537(0x3d5)]?.[_0x354537(0x44c)]&&!_0x5148ec['allContacts'])throw new g(_0x354537(0x68c));if(_0x5148ec[_0x354537(0x73e)]===_0x354537(0x70b)){if(!_0x5148ec[_0x354537(0x222)])throw new g(_0x354537(0x6e2));if(!_0x5148ec[_0x354537(0x69c)])throw new g(_0x354537(0x259));return{'content':{'text':_0x5148ec[_0x354537(0x35a)]},'option':{'backgroundColor':_0x5148ec[_0x354537(0x222)],'font':_0x5148ec['font'],'statusJidList':_0x5148ec[_0x354537(0x3d5)]}};}if(_0x5148ec[_0x354537(0x73e)]===_0x354537(0x753))return{'content':{'image':{'url':_0x5148ec['content']},'caption':_0x5148ec[_0x354537(0x31d)]},'option':{'statusJidList':_0x5148ec[_0x354537(0x3d5)]}};if(_0x5148ec[_0x354537(0x73e)]===_0x354537(0x1df))return{'content':{'video':{'url':_0x5148ec[_0x354537(0x35a)]},'caption':_0x5148ec[_0x354537(0x31d)]},'option':{'statusJidList':_0x5148ec[_0x354537(0x3d5)]}};if(_0x5148ec[_0x354537(0x73e)]===_0x354537(0x280)){this[_0x354537(0x3e1)]['verbose'](_0x354537(0x481)),this[_0x354537(0x3e1)][_0x354537(0x31e)]('Processing\x20audio');let _0x97522f=await this['convertaudio'](_0x5148ec['content']);if(typeof _0x97522f==_0x354537(0x5a4)){this['logger'][_0x354537(0x31e)](_0x354537(0x47b));let _0x56c0c9=x[_0x354537(0x736)](_0x97522f)['toString'](_0x354537(0x64b)),_0xae5f4f={'content':{'audio':Buffer[_0x354537(0x410)](_0x56c0c9,_0x354537(0x64b)),'ptt':!0x0,'mimetype':_0x354537(0x544)},'option':{'statusJidList':_0x5148ec['statusJidList']}};return x[_0x354537(0x6f8)](_0x97522f),_0xae5f4f;}else throw new A(_0x97522f);}throw new g(_0x354537(0x5da));}async[a0_0x22fdc2(0x3c8)](_0x1c0b90){const _0x263d49=a0_0x22fdc2;return await this[_0x263d49(0x689)](_0x263d49(0x3b3),{'status':await this[_0x263d49(0x73d)](_0x1c0b90[_0x263d49(0x3c8)])});}async['prepareMediaMessage'](_0x40022d){const _0x27ba74=a0_0x22fdc2;try{let _0x493b89=await(0x0,w[_0x27ba74(0x25a)])({[_0x40022d['mediatype']]:(0x0,P[_0x27ba74(0x723)])(_0x40022d['media'])?{'url':_0x40022d[_0x27ba74(0x4b9)]}:Buffer[_0x27ba74(0x410)](_0x40022d[_0x27ba74(0x4b9)],'base64')},{'upload':this['client'][_0x27ba74(0x79a)]}),_0xc84f92=_0x40022d[_0x27ba74(0x4a3)]+_0x27ba74(0x575);if(_0x40022d[_0x27ba74(0x4a3)]===_0x27ba74(0x6f6)&&!_0x40022d[_0x27ba74(0x543)]){let _0x45e5f9=new RegExp(/.*\/(.+?)\./)[_0x27ba74(0x288)](_0x40022d[_0x27ba74(0x4b9)]);_0x40022d[_0x27ba74(0x543)]=_0x45e5f9?_0x45e5f9[0x1]:null;}let _0xd44a4a=(0x0,P[_0x27ba74(0x723)])(_0x40022d[_0x27ba74(0x4b9)])?_0x40022d[_0x27ba74(0x4b9)][_0x27ba74(0x289)]('?')[0x0]:_0x40022d['media'];this[_0x27ba74(0x3e1)]['verbose'](_0x27ba74(0x34a)+_0xd44a4a);let _0x31e799;_0x40022d[_0x27ba74(0x543)]?_0x31e799=(0x0,It[_0x27ba74(0x62e)])(_0x40022d[_0x27ba74(0x543)]):(0x0,P[_0x27ba74(0x723)])(_0x40022d['media'])?_0x31e799=(0x0,It[_0x27ba74(0x62e)])(_0xd44a4a):_0x31e799=(0x0,It[_0x27ba74(0x62e)])(_0x40022d['media']);let _0x102f61=this[_0x27ba74(0x6fa)]['get'](_0x27ba74(0x212)),_0x3b3f7e=this[_0x27ba74(0x6fa)][_0x27ba74(0x71b)](_0x27ba74(0x3c9));return _0x3b3f7e&&this[_0x27ba74(0x5d2)][_0x27ba74(0x38f)]()[_0x27ba74(0x353)](_0x3b3f7e[_0x27ba74(0x38f)]())&&(_0x40022d[_0x27ba74(0x31d)]+='\x0a\x0a'+_0x102f61),_0x493b89[_0xc84f92][_0x27ba74(0x31d)]=_0x40022d?.[_0x27ba74(0x31d)],_0x493b89[_0xc84f92]['mimetype']=_0x31e799,_0x493b89[_0xc84f92][_0x27ba74(0x543)]=_0x40022d[_0x27ba74(0x543)],_0x40022d[_0x27ba74(0x4a3)]===_0x27ba74(0x1df)&&(_0x493b89[_0xc84f92][_0x27ba74(0x6bc)]=Uint8Array[_0x27ba74(0x410)]((0x0,Me[_0x27ba74(0x736)])((0x0,k['join'])(process[_0x27ba74(0x5a7)](),'video-cover.png'))),_0x493b89[_0xc84f92][_0x27ba74(0x270)]=!0x1),(0x0,w[_0x27ba74(0x57d)])('',{[_0xc84f92]:{..._0x493b89[_0xc84f92]}},{'userJid':this[_0x27ba74(0x655)][_0x27ba74(0x537)]});}catch(_0x427bc2){throw this['logger'][_0x27ba74(0x367)](this[_0x27ba74(0x5d2)]+'\x20('+this['instance']['wuid']+_0x27ba74(0x6f5)+JSON[_0x27ba74(0x2c1)](_0x427bc2,null,0x2)),new A(_0x427bc2?.[_0x27ba74(0x78b)]()||_0x427bc2);}}async['mediaMessage'](_0x4ac798){const _0x196c0f=a0_0x22fdc2;let _0x28b4c5=await this['prepareMediaMessage'](_0x4ac798[_0x196c0f(0x790)]);return await this[_0x196c0f(0x689)](_0x4ac798['number'],{..._0x28b4c5[_0x196c0f(0x649)]},_0x4ac798?.[_0x196c0f(0x6e3)]);}async[a0_0x22fdc2(0x294)](_0x555ccf,_0x1369cb){const _0x146fec=a0_0x22fdc2;try{this[_0x146fec(0x3e1)][_0x146fec(0x31e)]('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x3a4fac,_0x3c4136=_0x1369cb+'-'+new Date()[_0x146fec(0x443)]();this[_0x146fec(0x3e1)]['verbose'](_0x146fec(0x2b4)+_0x3c4136);let _0x539878=''+(0x0,k[_0x146fec(0x69d)])(this['storePath'],_0x3c4136+_0x146fec(0x42f));if(this[_0x146fec(0x3e1)]['verbose'](_0x146fec(0x2eb)+_0x539878),(0x0,P[_0x146fec(0x550)])(_0x555ccf)){this[_0x146fec(0x3e1)][_0x146fec(0x31e)](_0x146fec(0x612));let _0x40c5fc=_0x555ccf[_0x146fec(0x274)](/^data:image\/(jpeg|png|gif);base64,/,''),_0xb61703=Buffer[_0x146fec(0x410)](_0x40c5fc,_0x146fec(0x64b));_0x3a4fac=''+(0x0,k['join'])(this[_0x146fec(0x4fc)],_0x146fec(0x5ce)+_0x3c4136+'.png'),this[_0x146fec(0x3e1)][_0x146fec(0x31e)](_0x146fec(0x3eb)+_0x3a4fac),await(0x0,Dt['default'])(_0xb61703)['toFile'](_0x3a4fac),this[_0x146fec(0x3e1)][_0x146fec(0x31e)]('Image\x20created');}else{this[_0x146fec(0x3e1)][_0x146fec(0x31e)](_0x146fec(0x315));let _0x1517ca=new Date()['getTime'](),_0x8fe91f=_0x555ccf+_0x146fec(0x599)+_0x1517ca;this[_0x146fec(0x3e1)][_0x146fec(0x31e)](_0x146fec(0x266)+_0x8fe91f);let _0x4f402d=await ce[_0x146fec(0x421)]['get'](_0x8fe91f,{'responseType':_0x146fec(0x634)});this['logger'][_0x146fec(0x31e)](_0x146fec(0x4b1));let _0x2379ce=Buffer[_0x146fec(0x410)](_0x4f402d[_0x146fec(0x3f4)],_0x146fec(0x333));_0x3a4fac=''+(0x0,k[_0x146fec(0x69d)])(this[_0x146fec(0x4fc)],'temp-'+_0x3c4136+_0x146fec(0x7ab)),this['logger'][_0x146fec(0x31e)]('Image\x20path:\x20'+_0x3a4fac),await(0x0,Dt[_0x146fec(0x421)])(_0x2379ce)[_0x146fec(0x382)](_0x3a4fac),this[_0x146fec(0x3e1)][_0x146fec(0x31e)]('Image\x20created');}return await(0x0,Dt[_0x146fec(0x421)])(_0x3a4fac)[_0x146fec(0x27c)]()[_0x146fec(0x382)](_0x539878),this[_0x146fec(0x3e1)][_0x146fec(0x31e)](_0x146fec(0x408)),x['unlinkSync'](_0x3a4fac),this[_0x146fec(0x3e1)]['verbose'](_0x146fec(0x477)),_0x539878;}catch(_0xe47bbc){console['error'](_0x146fec(0x3d7),JSON[_0x146fec(0x2c1)](_0xe47bbc,null,0x2));}}async['mediaSticker'](_0x3249db){const _0x4a188c=a0_0x22fdc2;let _0x3bf54b=await this[_0x4a188c(0x294)](_0x3249db[_0x4a188c(0x45a)]['image'],_0x3249db[_0x4a188c(0x216)]),_0x447099=await this['sendMessageWithTyping'](_0x3249db[_0x4a188c(0x216)],{'sticker':{'url':_0x3bf54b}},_0x3249db?.[_0x4a188c(0x6e3)]);return x['unlinkSync'](_0x3bf54b),this[_0x4a188c(0x3e1)][_0x4a188c(0x31e)]('Converted\x20image\x20deleted'),_0x447099;}async[a0_0x22fdc2(0x2f6)](_0x15162b){const _0x2dd7d2=a0_0x22fdc2;if(this[_0x2dd7d2(0x3e1)]['verbose'](_0x2dd7d2(0x32f)),!_0x15162b[_0x2dd7d2(0x6e3)]?.[_0x2dd7d2(0x221)]&&_0x15162b['options']?.[_0x2dd7d2(0x221)]!==!0x1&&(_0x15162b[_0x2dd7d2(0x6e3)]['encoding']=!0x0),_0x15162b[_0x2dd7d2(0x6e3)]?.[_0x2dd7d2(0x221)]){let _0xe5f56=await this['convertaudio'](_0x15162b[_0x2dd7d2(0x71f)][_0x2dd7d2(0x280)]);if(typeof _0xe5f56==_0x2dd7d2(0x5a4)){let _0x11f9e3=x['readFileSync'](_0xe5f56)[_0x2dd7d2(0x78b)](_0x2dd7d2(0x64b)),_0x595627=this[_0x2dd7d2(0x689)](_0x15162b[_0x2dd7d2(0x216)],{'audio':Buffer[_0x2dd7d2(0x410)](_0x11f9e3,'base64'),'ptt':!0x0,'mimetype':_0x2dd7d2(0x544)},{'presence':_0x2dd7d2(0x50e),'delay':_0x15162b?.[_0x2dd7d2(0x6e3)]?.[_0x2dd7d2(0x2ac)]});return x[_0x2dd7d2(0x6f8)](_0xe5f56),this[_0x2dd7d2(0x3e1)]['verbose']('Converted\x20audio\x20deleted'),_0x595627;}else throw new A(_0xe5f56);}return await this[_0x2dd7d2(0x689)](_0x15162b[_0x2dd7d2(0x216)],{'audio':(0x0,P['isURL'])(_0x15162b[_0x2dd7d2(0x71f)][_0x2dd7d2(0x280)])?{'url':_0x15162b[_0x2dd7d2(0x71f)]['audio']}:Buffer[_0x2dd7d2(0x410)](_0x15162b['audioMessage'][_0x2dd7d2(0x280)],'base64'),'ptt':!0x0,'mimetype':_0x2dd7d2(0x1d4)},{'presence':'recording','delay':_0x15162b?.[_0x2dd7d2(0x6e3)]?.[_0x2dd7d2(0x2ac)]});}async[a0_0x22fdc2(0x2f8)](_0x103a78){const _0x551f6e=a0_0x22fdc2;this['logger']['verbose'](_0x551f6e(0x43f));let _0xe1264f,_0x1613d7,_0x5cd156=(0x0,Ot['v4'])();if(this[_0x551f6e(0x3e1)][_0x551f6e(0x31e)](_0x551f6e(0x2a8)+_0x5cd156),(0x0,P[_0x551f6e(0x723)])(_0x103a78)){this[_0x551f6e(0x3e1)][_0x551f6e(0x31e)](_0x551f6e(0x5f7)),_0x1613d7=''+(0x0,k[_0x551f6e(0x69d)])(this[_0x551f6e(0x4fc)],_0x5cd156+'.mp4'),_0xe1264f=''+(0x0,k['join'])(this[_0x551f6e(0x4fc)],_0x551f6e(0x5ce)+_0x5cd156+_0x551f6e(0x4e3)),this['logger']['verbose'](_0x551f6e(0x437)+_0x1613d7),this['logger'][_0x551f6e(0x31e)](_0x551f6e(0x643)+_0xe1264f);let _0x106cce=new Date()[_0x551f6e(0x443)](),_0x31b767=_0x103a78+'?timestamp='+_0x106cce;this[_0x551f6e(0x3e1)][_0x551f6e(0x31e)](_0x551f6e(0x44f)+_0x31b767);let _0x6a8f3f=await ce[_0x551f6e(0x421)][_0x551f6e(0x71b)](_0x31b767,{'responseType':'arraybuffer'});this[_0x551f6e(0x3e1)][_0x551f6e(0x31e)](_0x551f6e(0x68b)),x[_0x551f6e(0x4ab)](_0xe1264f,_0x6a8f3f[_0x551f6e(0x3f4)]);}else{this[_0x551f6e(0x3e1)][_0x551f6e(0x31e)](_0x551f6e(0x372)),_0x1613d7=''+(0x0,k['join'])(this['storePath'],_0x5cd156+'.mp4'),_0xe1264f=''+(0x0,k['join'])(this['storePath'],'temp-'+_0x5cd156+_0x551f6e(0x4e3)),this['logger'][_0x551f6e(0x31e)](_0x551f6e(0x437)+_0x1613d7),this[_0x551f6e(0x3e1)][_0x551f6e(0x31e)](_0x551f6e(0x643)+_0xe1264f);let _0x42de98=Buffer[_0x551f6e(0x410)](_0x103a78,_0x551f6e(0x64b));x[_0x551f6e(0x4ab)](_0xe1264f,_0x42de98),this[_0x551f6e(0x3e1)][_0x551f6e(0x31e)](_0x551f6e(0x1d7));}return this[_0x551f6e(0x3e1)][_0x551f6e(0x31e)](_0x551f6e(0x4e4)),new Promise((_0x202762,_0x4d3d98)=>{const _0x23a714=_0x551f6e;(0x0,_t['exec'])(ti['default'][_0x23a714(0x553)]+_0x23a714(0x48e)+_0xe1264f+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20'+_0x1613d7+'\x20-y',_0x3fafef=>{const _0x5cca80=_0x23a714;x[_0x5cca80(0x6f8)](_0xe1264f),this[_0x5cca80(0x3e1)]['verbose'](_0x5cca80(0x77d)),_0x3fafef&&_0x4d3d98(_0x3fafef),this['logger']['verbose'](_0x5cca80(0x76b)),_0x202762(_0x1613d7);});});}async[a0_0x22fdc2(0x2fa)](_0x3efe79){const _0x3ad202=a0_0x22fdc2;let _0x3f1466={},_0x5c3b90=_0x3ad202(0x666);if(_0x3efe79[_0x3ad202(0x2fa)]?.[_0x3ad202(0x790)]){_0x5c3b90=_0x3efe79['buttonMessage'][_0x3ad202(0x790)]?.[_0x3ad202(0x4a3)][_0x3ad202(0x78c)]()??_0x3ad202(0x666),_0x3f1466[_0x3ad202(0x427)]=_0x5c3b90['toLowerCase']()+_0x3ad202(0x575);let _0x3573b0=await this[_0x3ad202(0x548)](_0x3efe79[_0x3ad202(0x2fa)]['mediaMessage']);_0x3f1466[_0x3ad202(0x649)]=_0x3573b0[_0x3ad202(0x649)][_0x3f1466['mediaKey']],_0x3f1466[_0x3ad202(0x2b5)]='*'+_0x3efe79['buttonMessage'][_0x3ad202(0x6fc)]+'*\x0a\x0a'+_0x3efe79[_0x3ad202(0x2fa)][_0x3ad202(0x4cd)];}let _0x1e8479={'text':_0x3efe79[_0x3ad202(0x2fa)][_0x3ad202(0x401)][_0x3ad202(0x2d7)](_0x4068e7=>_0x4068e7[_0x3ad202(0x6a7)]),'ids':_0x3efe79[_0x3ad202(0x2fa)][_0x3ad202(0x401)][_0x3ad202(0x2d7)](_0x58644b=>_0x58644b[_0x3ad202(0x62d)])};if(!(0x0,P[_0x3ad202(0x5d6)])(_0x1e8479['text'])||!(0x0,P['arrayUnique'])(_0x1e8479['ids']))throw new g(_0x3ad202(0x1d0),_0x3ad202(0x6d4));return await this[_0x3ad202(0x689)](_0x3efe79['number'],{'buttonsMessage':{'text':_0x3f1466?.[_0x3ad202(0x427)]?void 0x0:_0x3efe79['buttonMessage'][_0x3ad202(0x6fc)],'contentText':_0x3f1466?.[_0x3ad202(0x2b5)]??_0x3efe79['buttonMessage'][_0x3ad202(0x4cd)],'footerText':_0x3efe79[_0x3ad202(0x2fa)]?.[_0x3ad202(0x511)],'buttons':_0x3efe79[_0x3ad202(0x2fa)]['buttons'][_0x3ad202(0x2d7)](_0x1a6422=>({'buttonText':{'displayText':_0x1a6422[_0x3ad202(0x6a7)]},'buttonId':_0x1a6422[_0x3ad202(0x62d)],'type':0x1})),'headerType':w['proto']['Message']['ButtonsMessage'][_0x3ad202(0x49c)][_0x5c3b90],[_0x3f1466?.[_0x3ad202(0x427)]]:_0x3f1466?.[_0x3ad202(0x649)]}},_0x3efe79?.[_0x3ad202(0x6e3)]);}async[a0_0x22fdc2(0x578)](_0x4ed623){const _0x5941af=a0_0x22fdc2;return await this[_0x5941af(0x689)](_0x4ed623['number'],{'locationMessage':{'degreesLatitude':_0x4ed623['locationMessage'][_0x5941af(0x5e4)],'degreesLongitude':_0x4ed623['locationMessage'][_0x5941af(0x64e)],'name':_0x4ed623[_0x5941af(0x578)]?.['name'],'address':_0x4ed623[_0x5941af(0x578)]?.[_0x5941af(0x297)]}},_0x4ed623?.[_0x5941af(0x6e3)]);}async[a0_0x22fdc2(0x577)](_0x300c33){const _0x1c8e6b=a0_0x22fdc2;let _0x1089c6={},_0x17798a=_0x497604=>{const _0x359510=a0_0x113b;let _0x24b409=_0x359510(0x4ec)+_0x497604[_0x359510(0x247)]+_0x359510(0x431)+_0x497604[_0x359510(0x247)]+'\x0a';_0x497604[_0x359510(0x2fd)]&&(_0x24b409+='ORG:'+_0x497604[_0x359510(0x2fd)]+';\x0a'),_0x497604[_0x359510(0x65d)]&&(_0x24b409+='EMAIL:'+_0x497604[_0x359510(0x65d)]+'\x0a'),_0x497604['url']&&(_0x24b409+='URL:'+_0x497604['url']+'\x0a');let _0xd9ca88='';return _0x497604['phoneNumber']&&_0x497604['phoneNumber'][_0x359510(0x289)]('|')[_0x359510(0x3a1)]((_0x516c4b,_0x239d9d)=>{const _0xcdb807=_0x359510;let _0xb9b6c7=this[_0xcdb807(0x4e6)](_0x516c4b)[_0xcdb807(0x274)](_0xcdb807(0x75c),'');_0xd9ca88+=_0xcdb807(0x4f0)+(_0x239d9d+0x1)+'.TEL;waid='+_0xb9b6c7+':'+_0x516c4b+'\x0aitem'+(_0x239d9d+0x1)+_0xcdb807(0x66e);}),_0x24b409+=_0xd9ca88+_0x359510(0x539),_0x24b409;};return _0x300c33[_0x1c8e6b(0x577)][_0x1c8e6b(0x44c)]===0x1?_0x1089c6[_0x1c8e6b(0x577)]={'displayName':_0x300c33[_0x1c8e6b(0x577)][0x0][_0x1c8e6b(0x247)],'vcard':_0x17798a(_0x300c33[_0x1c8e6b(0x577)][0x0])}:_0x1089c6['contactsArrayMessage']={'displayName':_0x300c33[_0x1c8e6b(0x577)]['length']+_0x1c8e6b(0x6a5),'contacts':_0x300c33[_0x1c8e6b(0x577)]['map'](_0x48fc69=>({'displayName':_0x48fc69[_0x1c8e6b(0x247)],'vcard':_0x17798a(_0x48fc69)}))},await this[_0x1c8e6b(0x689)](_0x300c33[_0x1c8e6b(0x216)],{..._0x1089c6},_0x300c33?.[_0x1c8e6b(0x6e3)]);}async[a0_0x22fdc2(0x6da)](_0x228a4b){const _0x27e5ee=a0_0x22fdc2;return await this[_0x27e5ee(0x689)](_0x228a4b['reactionMessage'][_0x27e5ee(0x4a1)][_0x27e5ee(0x1db)],{'reactionMessage':{'key':_0x228a4b['reactionMessage']['key'],'text':_0x228a4b['reactionMessage'][_0x27e5ee(0x375)]}});}async[a0_0x22fdc2(0x766)](_0x8743d9){const _0x2c2314=a0_0x22fdc2;let _0x16b8ea=[];for await(let _0x1fb084 of _0x8743d9['numbers']){let _0x4961b0=this[_0x2c2314(0x4e6)](_0x1fb084);if((0x0,w[_0x2c2314(0x398)])(_0x4961b0)){let _0x3b8428=await this['findGroup']({'groupJid':_0x4961b0},_0x2c2314(0x605));_0x16b8ea[_0x2c2314(0x23d)](new fe(_0x3b8428['metadata']['id'],!!_0x3b8428?.[_0x2c2314(0x350)]['id'],_0x3b8428?.['metadata'][_0x2c2314(0x5e0)]));}else try{let _0x2bcad5=(await this['client'][_0x2c2314(0x2f4)](_0x4961b0))[0x0];_0x16b8ea['push'](new fe(_0x2bcad5[_0x2c2314(0x1e9)],_0x2bcad5[_0x2c2314(0x6d5)]));}catch{_0x16b8ea[_0x2c2314(0x23d)](new fe(_0x1fb084,!0x1));}}return _0x16b8ea;}async[a0_0x22fdc2(0x69b)](_0x256590){const _0x369bdd=a0_0x22fdc2;try{let _0xdc94db=_0x256590[_0x369bdd(0x36b)][_0x369bdd(0x4e1)](_0xde60cb=>(0x0,w[_0x369bdd(0x398)])(_0xde60cb[_0x369bdd(0x1db)])||(0x0,w['isJidUser'])(_0xde60cb[_0x369bdd(0x1db)]))[_0x369bdd(0x2d7)](_0x4315b1=>({'remoteJid':_0x4315b1[_0x369bdd(0x1db)],'fromMe':_0x4315b1[_0x369bdd(0x3d1)],'id':_0x4315b1['id']}));await this[_0x369bdd(0x684)][_0x369bdd(0x36b)](_0xdc94db);let _0x353c65=_0xdc94db['map'](_0x4be8b8=>this[_0x369bdd(0x58b)](_0x4be8b8,_0x4be8b8['remoteJid'],{'status':_0x369bdd(0x720),'owner':this['instance'][_0x369bdd(0x537)]})),_0xc72613=_0xdc94db[_0x369bdd(0x2d7)](_0xe69156=>this[_0x369bdd(0x7ac)]['chat'][_0x369bdd(0x2b6)]({'where':{'_id':_0xe69156[_0x369bdd(0x1db)],'owner':this[_0x369bdd(0x655)][_0x369bdd(0x537)]}},{'unreadcount':0x0})),[_0x2b87e7,_0x2f0305]=await Promise[_0x369bdd(0x474)]([Promise[_0x369bdd(0x474)](_0x353c65),Promise[_0x369bdd(0x474)](_0xc72613)]);return _0x2f0305['filter'](_0x16907d=>_0x16907d!==null)[_0x369bdd(0x3a1)](_0x3487e1=>{const _0x5acb1d=_0x369bdd;q(this[_0x5acb1d(0x5d2)],_0x5acb1d(0x776),{'chat':_0x3487e1});}),{'message':'Read\x20messages','read':_0x369bdd(0x1ee)};}catch(_0x4466ec){throw console[_0x369bdd(0x367)](_0x369bdd(0x4f4),_0x4466ec),new A(_0x369bdd(0x2bc),_0x4466ec['toString']());}}async['getLastMessage'](_0x43be6f){const _0x5f3cd7=a0_0x22fdc2;let _0x289c4a=await this[_0x5f3cd7(0x619)]({'where':{'key':{'remoteJid':_0x43be6f},'owner':this[_0x5f3cd7(0x655)]['name']}}),_0x4f50d8=_0x289c4a[_0x5f3cd7(0x2b7)]();for(let _0x5eb3c2 of _0x289c4a)_0x5eb3c2[_0x5f3cd7(0x576)]>=_0x4f50d8['messageTimestamp']&&(_0x4f50d8=_0x5eb3c2);return _0x4f50d8;}async['archiveChat'](_0x4d0748){const _0x3d6fd3=a0_0x22fdc2;this[_0x3d6fd3(0x3e1)][_0x3d6fd3(0x31e)](_0x3d6fd3(0x4cc));try{let _0x4c802f=_0x4d0748[_0x3d6fd3(0x60e)],_0x1423e3=_0x4d0748[_0x3d6fd3(0x565)];if(!_0x4c802f&&_0x1423e3?_0x4c802f=await this[_0x3d6fd3(0x377)](_0x1423e3):(_0x4c802f=_0x4d0748[_0x3d6fd3(0x60e)],_0x4c802f[_0x3d6fd3(0x576)]=_0x4c802f?.['messageTimestamp']??Date[_0x3d6fd3(0x5b2)](),_0x1423e3=_0x4c802f?.[_0x3d6fd3(0x4a1)]?.['remoteJid']),!_0x4c802f||Object['keys'](_0x4c802f)['length']===0x0)throw new $(_0x3d6fd3(0x5de));await this[_0x3d6fd3(0x684)][_0x3d6fd3(0x37e)]({'archive':_0x4d0748[_0x3d6fd3(0x430)],'lastMessages':[_0x4c802f]},this['createJid'](_0x1423e3));let _0x1409ed=await this[_0x3d6fd3(0x7ac)][_0x3d6fd3(0x565)][_0x3d6fd3(0x2b6)]({'where':{'_id':_0x4c802f?.['key']?.[_0x3d6fd3(0x1db)],'owner':this['instance'][_0x3d6fd3(0x537)]}},{'archived':_0x4d0748[_0x3d6fd3(0x430)]});return _0x1409ed&&q(this[_0x3d6fd3(0x5d2)],_0x3d6fd3(0x776),{'chat':_0x1409ed}),{'chatId':_0x1423e3,'archived':_0x4d0748[_0x3d6fd3(0x430)]};}catch(_0x1bb964){throw new A({'archived':!0x1,'message':[_0x3d6fd3(0x25b),_0x1bb964[_0x3d6fd3(0x78b)]()]});}}async[a0_0x22fdc2(0x407)](_0x3eed02){const _0x550ff0=a0_0x22fdc2;try{let _0x3d3be9=await this[_0x550ff0(0x684)]['sendMessage'](_0x3eed02[_0x550ff0(0x1db)],{'delete':_0x3eed02});try{let _0x5a5f10=await this[_0x550ff0(0x58b)](_0x3eed02,_0x3eed02['remoteJid'],{'status':_0x550ff0(0x2ff),'owner':this[_0x550ff0(0x655)][_0x550ff0(0x537)]});this[_0x550ff0(0x3e1)][_0x550ff0(0x31e)](this['instanceName']+'\x20('+this[_0x550ff0(0x655)][_0x550ff0(0x537)]+_0x550ff0(0x397)+_0x5a5f10);}catch(_0x3160ae){console[_0x550ff0(0x367)](_0x550ff0(0x283),_0x3160ae);}return _0x3d3be9;}catch(_0x4636b1){throw new A(_0x550ff0(0x226),_0x4636b1?.['toString']());}}async[a0_0x22fdc2(0x3e7)](_0x484a35){const _0x4d82b5=a0_0x22fdc2;try{let _0x4e4927=_0x484a35?.[_0x4d82b5(0x649)]?_0x484a35:await this[_0x4d82b5(0x5b9)](_0x484a35['key'],!0x0);for(let _0x523c37 of Xs)_0x4e4927[_0x4d82b5(0x649)][_0x523c37]&&(_0x4e4927[_0x4d82b5(0x649)]=_0x4e4927[_0x4d82b5(0x649)][_0x523c37]['message']);let _0x42f0d7,_0x312f96;for(let _0x11dc19 of Ys)if(_0x42f0d7=_0x4e4927[_0x4d82b5(0x649)][_0x11dc19],_0x42f0d7){_0x312f96=_0x11dc19;break;}if(!_0x42f0d7)throw _0x4d82b5(0x582);typeof _0x42f0d7['mediaKey']==_0x4d82b5(0x1c0)&&(_0x4e4927[_0x4d82b5(0x649)]=JSON[_0x4d82b5(0x5c0)](JSON[_0x4d82b5(0x2c1)](_0x4e4927['message'])));let _0x168091=await(0x0,w[_0x4d82b5(0x403)])({'key':_0x4e4927?.[_0x4d82b5(0x4a1)],'message':_0x4e4927?.[_0x4d82b5(0x649)]},_0x4d82b5(0x21f),{},{'logger':(0x0,At['default'])({'level':_0x4d82b5(0x367)}),'reuploadRequest':this[_0x4d82b5(0x684)][_0x4d82b5(0x257)]});if(!(_0x168091 instanceof Buffer))throw new Error(_0x4d82b5(0x703));let _0x42246=this[_0x4d82b5(0x6fa)][_0x4d82b5(0x71b)]('DATABASE'),_0x44a5de,_0x51cb91;if(_0x42f0d7['fileName'])_0x44a5de=_0x42f0d7[_0x4d82b5(0x543)];else{let _0x5d3589=_0x42f0d7[_0x4d82b5(0x1de)]?.[_0x4d82b5(0x77c)](/\/(\w+)/),_0x48464f=_0x5d3589?_0x5d3589[0x1]:null;if(!_0x48464f)throw new Error(_0x4d82b5(0x584));_0x44a5de=(0x0,Ot['v4'])()+'.'+_0x48464f;}_0x312f96===_0x4d82b5(0x71f)&&_0x42f0d7['mimetype']==='audio/ogg'?(_0x44a5de=(0x0,Ot['v4'])()+'.ogg',_0x51cb91=_0x4d82b5(0x608)+await this[_0x4d82b5(0x2f8)](_0x168091[_0x4d82b5(0x78b)](_0x4d82b5(0x64b)))):(await this[_0x4d82b5(0x36c)](_0x168091,_0x44a5de),_0x51cb91='/media/'+_0x44a5de);let _0x190b31=this[_0x4d82b5(0x6fa)][_0x4d82b5(0x71b)](_0x4d82b5(0x462)),_0x450378=this[_0x4d82b5(0x6fa)]['get']('SERVER')[_0x4d82b5(0x24d)],_0x5e6217=_0x190b31&&_0x190b31[_0x4d82b5(0x1e1)][_0x4d82b5(0x289)]('/')[0x4];_0x450378===0x1bb&&(_0x51cb91=''+('https://'+_0x5e6217)+_0x51cb91);let _0x44607c=0xc*0x3c*0x3c*0x3e8,_0x3398e3={'where':{'_id':_0x4e4927[_0x4d82b5(0x4a1)]['id'],'owner':this[_0x4d82b5(0x655)]['wuid']}};_0x4e4927['key'][_0x4d82b5(0x1db)][_0x4d82b5(0x515)]('@g.us')&&(_0x3398e3['where'][_0x4d82b5(0x4a1)]['participant']=_0x4e4927[_0x4d82b5(0x4a1)][_0x4d82b5(0x5a2)]);let _0xd3ff2d={'message_normalized.fileUrl':_0x51cb91,'message_normalized.expires_fileUrl':Date['now']()+_0x44607c};try{let _0x3a8991=await this[_0x4d82b5(0x7ac)][_0x4d82b5(0x649)]['update'](_0x3398e3,_0xd3ff2d);_0x3a8991&&q(this[_0x4d82b5(0x5d2)],_0x4d82b5(0x5fb),{'message':_0x3a8991});}catch{}return{'mediaType':_0x312f96,'fileName':_0x42f0d7[_0x4d82b5(0x543)],'caption':_0x42f0d7[_0x4d82b5(0x31d)],'size':{'fileLength':_0x42f0d7['fileLength'],'height':_0x42f0d7[_0x4d82b5(0x4a7)],'width':_0x42f0d7[_0x4d82b5(0x4be)]},'mimetype':_0x42f0d7[_0x4d82b5(0x1de)],'base64':_0x168091['toString'](_0x4d82b5(0x64b)),'fileUrl':_0x51cb91,'expires_fileUrl':Date['now']()+_0x44607c};}catch(_0x55ecdf){throw this['logger'][_0x4d82b5(0x367)](this[_0x4d82b5(0x5d2)]+'\x20('+this[_0x4d82b5(0x655)]['wuid']+_0x4d82b5(0x6f5)+JSON[_0x4d82b5(0x2c1)](_0x55ecdf,null,0x2)),new g(_0x55ecdf[_0x4d82b5(0x78b)]());}}async[a0_0x22fdc2(0x36c)](_0x5984cf,_0x598447){const _0x33a96e=a0_0x22fdc2;console[_0x33a96e(0x2d0)]('Initial\x20__dirname:',__dirname),console[_0x33a96e(0x2d0)](_0x33a96e(0x45d),_0x598447);let _0x22275d=k[_0x33a96e(0x421)]['join'](__dirname,_0x33a96e(0x570));console[_0x33a96e(0x2d0)](_0x33a96e(0x2a4),_0x22275d),x['existsSync'](_0x22275d)||(this['logger'][_0x33a96e(0x2d0)](_0x33a96e(0x34f)),x['mkdirSync'](_0x22275d,{'recursive':!0x0}));let _0x4a1690=k[_0x33a96e(0x421)][_0x33a96e(0x69d)](_0x22275d,_0x598447);return console[_0x33a96e(0x2d0)](_0x33a96e(0x28a),_0x4a1690),new Promise((_0x3a3ef4,_0x3ae138)=>{const _0x50e41e=_0x33a96e;x[_0x50e41e(0x768)](_0x4a1690,_0x5984cf,_0x183ec2=>{const _0x3e2ad0=_0x50e41e;_0x183ec2?(this[_0x3e2ad0(0x3e1)]['error'](_0x3e2ad0(0x2bf)+JSON[_0x3e2ad0(0x2c1)](_0x183ec2,null,0x2)),_0x3ae138(_0x183ec2)):(this[_0x3e2ad0(0x3e1)][_0x3e2ad0(0x2d0)](_0x3e2ad0(0x499)+_0x4a1690),_0x3a3ef4(_0x4a1690));});});}async[a0_0x22fdc2(0x5e1)](_0xbce10d){const _0x4c46b6=a0_0x22fdc2;return _0xbce10d?.[_0x4c46b6(0x3bf)]?_0xbce10d['where'][_0x4c46b6(0x662)]=this['instance'][_0x4c46b6(0x537)]:_0xbce10d={'where':{'owner':this[_0x4c46b6(0x655)][_0x4c46b6(0x537)]}},await this[_0x4c46b6(0x7ac)][_0x4c46b6(0x281)][_0x4c46b6(0x631)](_0xbce10d);}async[a0_0x22fdc2(0x619)](_0x5d0ea5){const _0x495cad=a0_0x22fdc2;return _0x5d0ea5?.[_0x495cad(0x3bf)]?_0x5d0ea5[_0x495cad(0x3bf)]['owner']=this['instance'][_0x495cad(0x537)]:_0x5d0ea5={'where':{'owner':this[_0x495cad(0x655)][_0x495cad(0x537)]},'limit':_0x5d0ea5?.[_0x495cad(0x243)]},await this[_0x495cad(0x7ac)][_0x495cad(0x649)][_0x495cad(0x631)](_0x5d0ea5);}async[a0_0x22fdc2(0x791)](){const _0x55ac94=a0_0x22fdc2;let _0x39ce8f=[{'query':{'where':{'owner':this[_0x55ac94(0x655)][_0x55ac94(0x537)],'leadInfo.tags':{'$exists':!0x1}}},'update':{'leadInfo':{'tags':[]}}},{'query':{'where':{'owner':this[_0x55ac94(0x655)][_0x55ac94(0x537)],'leadInfo.customFields':{'$exists':!0x1}}},'update':{'leadInfo':{'customFields':[]}}}];return await this[_0x55ac94(0x7ac)][_0x55ac94(0x565)][_0x55ac94(0x2f0)](_0x39ce8f),await this[_0x55ac94(0x7ac)][_0x55ac94(0x565)]['find']({'where':{'owner':this['instance'][_0x55ac94(0x537)]}});}async[a0_0x22fdc2(0x306)](){const _0x3760d6=a0_0x22fdc2;return await this[_0x3760d6(0x684)]['fetchPrivacySettings']();}async[a0_0x22fdc2(0x3dd)](_0x2bc9ef){const _0x223efa=a0_0x22fdc2;try{return await this[_0x223efa(0x684)][_0x223efa(0x6c5)](_0x2bc9ef[_0x223efa(0x466)][_0x223efa(0x27f)]),await this['client'][_0x223efa(0x3bc)](_0x2bc9ef[_0x223efa(0x466)][_0x223efa(0x76e)]),await this[_0x223efa(0x684)][_0x223efa(0x549)](_0x2bc9ef[_0x223efa(0x466)]['status']),await this[_0x223efa(0x684)][_0x223efa(0x3cd)](_0x2bc9ef[_0x223efa(0x466)][_0x223efa(0x2fe)]),await this[_0x223efa(0x684)]['updateLastSeenPrivacy'](_0x2bc9ef[_0x223efa(0x466)][_0x223efa(0x783)]),await this['client'][_0x223efa(0x441)](_0x2bc9ef[_0x223efa(0x466)][_0x223efa(0x469)]),this[_0x223efa(0x684)]?.['ws']?.['close'](),{'update':_0x223efa(0x1ee),'data':{'readreceipts':_0x2bc9ef[_0x223efa(0x466)]['readreceipts'],'profile':_0x2bc9ef['privacySettings'][_0x223efa(0x76e)],'status':_0x2bc9ef[_0x223efa(0x466)]['status'],'online':_0x2bc9ef[_0x223efa(0x466)][_0x223efa(0x2fe)],'last':_0x2bc9ef[_0x223efa(0x466)][_0x223efa(0x783)],'groupadd':_0x2bc9ef[_0x223efa(0x466)]['groupadd']}};}catch(_0x3514bc){throw new A(_0x223efa(0x48f),_0x3514bc['toString']());}}async[a0_0x22fdc2(0x5d1)](_0x2bf596){const _0x54066a=a0_0x22fdc2;let _0x237ba3=_0x2bf596?this['createJid'](_0x2bf596):this['client']?.[_0x54066a(0x626)]?.['id'];this[_0x54066a(0x3e1)]['verbose'](_0x54066a(0x52b)+_0x237ba3);try{if(this[_0x54066a(0x3e1)]['verbose'](_0x54066a(0x587)),_0x2bf596){let _0x85c57c=(await this[_0x54066a(0x766)]({'numbers':[_0x237ba3]}))?.[_0x54066a(0x269)](),_0x19996c=await this[_0x54066a(0x6be)](_0x85c57c?.['jid']),_0x389222=await this[_0x54066a(0x3a3)](_0x85c57c?.[_0x54066a(0x1e9)]),_0x4b7a24=await this[_0x54066a(0x721)](_0x85c57c?.['jid']);return{'wuid':_0x85c57c?.[_0x54066a(0x1e9)]||_0x237ba3,'name':_0x85c57c?.[_0x54066a(0x5a6)],'numberExists':_0x85c57c?.['exists'],'picture':_0x19996c?.[_0x54066a(0x1f0)],'status':_0x389222?.[_0x54066a(0x592)],'isBusiness':_0x4b7a24['isBusiness'],'email':_0x4b7a24?.['email'],'description':_0x4b7a24?.['description'],'website':_0x4b7a24?.[_0x54066a(0x36a)]?.[_0x54066a(0x269)]()};}}catch{return this['logger'][_0x54066a(0x31e)](_0x54066a(0x396)),{'wuid':_0x237ba3,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x22fdc2(0x3da)](_0xdcdb6a){const _0x17ce8a=a0_0x22fdc2;let _0x500357=(_0xdcdb6a?this[_0x17ce8a(0x4e6)](_0xdcdb6a):this[_0x17ce8a(0x684)]?.['user']?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x17ce8a(0x3e1)][_0x17ce8a(0x31e)](_0x17ce8a(0x534)+_0x500357);let _0x4f41ed=await this[_0x17ce8a(0x7ac)]['contact'][_0x17ce8a(0x2ce)]({'where':{'_id':_0x500357,'owner':this[_0x17ce8a(0x655)][_0x17ce8a(0x537)]}}),_0x148559=_0x4f41ed?_0x4f41ed[_0x17ce8a(0x1c8)]:null;try{let _0x140414=(await this['whatsappNumber']({'numbers':[_0x500357]}))?.[_0x17ce8a(0x269)](),_0x32527c=await this[_0x17ce8a(0x6be)](_0x140414?.[_0x17ce8a(0x1e9)]),_0x453696=await this[_0x17ce8a(0x3a3)](_0x140414?.[_0x17ce8a(0x1e9)]),_0x1499dd=await this[_0x17ce8a(0x721)](_0x140414?.[_0x17ce8a(0x1e9)]),_0x3dc8e2={'imagechat':_0x32527c?.[_0x17ce8a(0x1f0)],'contactname':_0x148559||null,'status':_0x453696?.[_0x17ce8a(0x592)],'isBusiness':_0x1499dd[_0x17ce8a(0x453)],'email':_0x1499dd?.['email'],'description':_0x1499dd?.[_0x17ce8a(0x4cd)],'website':_0x1499dd?.[_0x17ce8a(0x36a)]?.[_0x17ce8a(0x269)](),'lastcache':Date[_0x17ce8a(0x5b2)]()},_0xb92cf7=await this[_0x17ce8a(0x7ac)][_0x17ce8a(0x565)]['updateOne']({'where':{'_id':_0x500357,'owner':this[_0x17ce8a(0x655)]['wuid']}},_0x3dc8e2),_0x3907f={'owner':this[_0x17ce8a(0x655)][_0x17ce8a(0x537)],'_id':_0x500357,'profilePictureUrl':_0x32527c?.[_0x17ce8a(0x1f0)],'status':_0x453696?.[_0x17ce8a(0x592)]};return this[_0x17ce8a(0x7ac)][_0x17ce8a(0x281)][_0x17ce8a(0x635)]([_0x3907f],this[_0x17ce8a(0x655)][_0x17ce8a(0x537)]),_0xb92cf7&&q(this['instanceName'],'chats',{'chat':_0xb92cf7}),{'wuid':_0x140414?.[_0x17ce8a(0x1e9)]||_0x500357,'name':_0x140414?.[_0x17ce8a(0x5a6)],'numberExists':_0x140414?.[_0x17ce8a(0x6d5)],'picture':_0x32527c?.[_0x17ce8a(0x1f0)],'status':_0x453696?.[_0x17ce8a(0x592)],'isBusiness':_0x1499dd[_0x17ce8a(0x453)],'email':_0x1499dd?.['email'],'description':_0x1499dd?.[_0x17ce8a(0x4cd)],'website':_0x1499dd?.['website']?.[_0x17ce8a(0x269)]()};}catch(_0x54d572){return this[_0x17ce8a(0x3e1)][_0x17ce8a(0x367)]('Error\x20fetching\x20and\x20updating\x20profile:\x20'+JSON['stringify'](_0x54d572,null,0x2)),{};}}async[a0_0x22fdc2(0x721)](_0x208079){const _0x20f20a=a0_0x22fdc2;this[_0x20f20a(0x3e1)][_0x20f20a(0x31e)](_0x20f20a(0x586));try{let _0x2f767f=_0x208079?this['createJid'](_0x208079):this[_0x20f20a(0x655)][_0x20f20a(0x537)],_0x4173d7=await this[_0x20f20a(0x684)]['getBusinessProfile'](_0x2f767f);return this[_0x20f20a(0x3e1)][_0x20f20a(0x31e)](_0x20f20a(0x733)),_0x4173d7?(this[_0x20f20a(0x3e1)][_0x20f20a(0x31e)]('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x4173d7}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x20f20a(0x766)]({'numbers':[_0x2f767f]}))?.[_0x20f20a(0x269)]()};}catch(_0x1d7fb7){throw new A(_0x20f20a(0x6f0),_0x1d7fb7[_0x20f20a(0x78b)]());}}async[a0_0x22fdc2(0x3a3)](_0x51d98e){const _0x3d804f=a0_0x22fdc2;let _0x4442d9=this[_0x3d804f(0x4e6)](_0x51d98e);try{return{'wuid':_0x4442d9,'status':(await this['client'][_0x3d804f(0x72a)](_0x4442d9))?.[_0x3d804f(0x592)]};}catch{return{'wuid':_0x4442d9,'status':null};}}async[a0_0x22fdc2(0x6f1)](_0x2b1b34){const _0x303f96=a0_0x22fdc2;try{return await this['client'][_0x303f96(0x6f1)](_0x2b1b34),{'update':_0x303f96(0x1ee)};}catch(_0x20d4c6){throw new A(_0x303f96(0x6f0),_0x20d4c6[_0x303f96(0x78b)]());}}async['updateProfileStatus'](_0x56ad55){const _0x15dc97=a0_0x22fdc2;try{return await this[_0x15dc97(0x684)][_0x15dc97(0x5fc)](_0x56ad55),{'update':'success'};}catch(_0x1b3497){throw new A(_0x15dc97(0x224),_0x1b3497['toString']());}}async[a0_0x22fdc2(0x5ea)](_0x484f49){const _0x5e2601=a0_0x22fdc2;try{let _0x196fb6;if((0x0,P[_0x5e2601(0x723)])(_0x484f49)){let _0x1ea439=new Date()[_0x5e2601(0x443)](),_0x40a5f6=_0x484f49+_0x5e2601(0x599)+_0x1ea439;_0x196fb6=(await ce['default']['get'](_0x40a5f6,{'responseType':_0x5e2601(0x634)}))[_0x5e2601(0x3f4)];}else{if((0x0,P['isBase64'])(_0x484f49))_0x196fb6=Buffer['from'](_0x484f49,_0x5e2601(0x64b));else throw new g(_0x5e2601(0x4f6));}return await this[_0x5e2601(0x684)][_0x5e2601(0x5ea)](this[_0x5e2601(0x655)][_0x5e2601(0x537)],_0x196fb6),{'update':_0x5e2601(0x1ee)};}catch(_0x12f0dd){throw new A(_0x5e2601(0x59c),_0x12f0dd[_0x5e2601(0x78b)]());}}async[a0_0x22fdc2(0x561)](){const _0x23447d=a0_0x22fdc2;try{return await this['client'][_0x23447d(0x561)](this['instance']['wuid']),{'update':_0x23447d(0x1ee)};}catch(_0x59fc8a){throw new A(_0x23447d(0x589),_0x59fc8a[_0x23447d(0x78b)]());}}async['createGroup'](_0x4c20f0){const _0x4be80e=a0_0x22fdc2;try{let _0x811398=_0x4c20f0['participants'][_0x4be80e(0x2d7)](_0x3f87da=>this['createJid'](_0x3f87da)),{id:_0x49b7e5}=await this[_0x4be80e(0x684)][_0x4be80e(0x516)](_0x4c20f0[_0x4be80e(0x5e0)],_0x811398);return _0x4c20f0?.[_0x4be80e(0x4cd)]&&await this['client'][_0x4be80e(0x239)](_0x49b7e5,_0x4c20f0[_0x4be80e(0x4cd)]),{'metadata':await this[_0x4be80e(0x684)]['groupMetadata'](_0x49b7e5)};}catch(_0x13290d){throw this[_0x4be80e(0x3e1)][_0x4be80e(0x367)](this['instanceName']+'\x20('+this[_0x4be80e(0x655)][_0x4be80e(0x537)]+_0x4be80e(0x6f5)+JSON[_0x4be80e(0x2c1)](_0x13290d,null,0x2)),new A(_0x4be80e(0x2f3),_0x13290d[_0x4be80e(0x78b)]());}}async[a0_0x22fdc2(0x70d)](_0xb1cd36){const _0x39b364=a0_0x22fdc2;try{let _0x5f4300;if((0x0,P['isURL'])(_0xb1cd36[_0x39b364(0x753)])){let _0x176d2d=new Date()[_0x39b364(0x443)](),_0x1cba22=_0xb1cd36[_0x39b364(0x753)]+_0x39b364(0x599)+_0x176d2d;_0x5f4300=(await ce[_0x39b364(0x421)][_0x39b364(0x71b)](_0x1cba22,{'responseType':'arraybuffer'}))[_0x39b364(0x3f4)];}else{if((0x0,P[_0x39b364(0x550)])(_0xb1cd36[_0x39b364(0x753)]))_0x5f4300=Buffer[_0x39b364(0x410)](_0xb1cd36[_0x39b364(0x753)],_0x39b364(0x64b));else throw new g(_0x39b364(0x4f6));}return await this[_0x39b364(0x684)][_0x39b364(0x5ea)](_0xb1cd36[_0x39b364(0x59b)],_0x5f4300),{'update':_0x39b364(0x1ee)};}catch(_0x1e3a01){throw new A(_0x39b364(0x1d6),_0x1e3a01['toString']());}}async['findGroup'](_0x1f217c,_0x5ee747=a0_0x22fdc2(0x518)){const _0x153588=a0_0x22fdc2;try{let _0x7dacb2=await this['client'][_0x153588(0x2d4)](_0x1f217c['groupJid']),_0x4b33f7=null;try{_0x4b33f7=(await this['profilePicture'](_0x1f217c[_0x153588(0x59b)]))['profilePictureUrl'];}catch(_0x5e5af5){this[_0x153588(0x3e1)][_0x153588(0x31e)](this[_0x153588(0x5d2)]+'\x20('+this[_0x153588(0x655)][_0x153588(0x537)]+_0x153588(0x54f)+_0x1f217c[_0x153588(0x59b)]+':\x20'+JSON[_0x153588(0x2c1)](_0x5e5af5,null,0x2));}let _0x57eb35=await this[_0x153588(0x7ac)][_0x153588(0x565)][_0x153588(0x2b6)]({'where':{'_id':_0x1f217c[_0x153588(0x59b)],'owner':this[_0x153588(0x655)][_0x153588(0x537)]}},{'imagechat':_0x4b33f7,'name':_0x7dacb2[_0x153588(0x5e0)],'group_size':_0x7dacb2['size'],'group_announce':_0x7dacb2[_0x153588(0x6c0)],'lastcache':Date[_0x153588(0x5b2)]()});return _0x57eb35&&q(this[_0x153588(0x5d2)],_0x153588(0x776),{'chat':_0x57eb35}),{'metadata':_0x7dacb2,'image':_0x4b33f7};}catch(_0x25d093){if(_0x5ee747==='inner')return;throw new $(_0x153588(0x745),_0x25d093[_0x153588(0x78b)]());}}async[a0_0x22fdc2(0x6e6)](_0x85c7ed){const _0x4aa0df=a0_0x22fdc2;try{return await this['client'][_0x4aa0df(0x239)](_0x85c7ed[_0x4aa0df(0x59b)],_0x85c7ed['description']),{'update':_0x4aa0df(0x1ee)};}catch(_0x363fc8){throw new A('Error\x20change\x20group\x20description',_0x363fc8['toString']());}}async[a0_0x22fdc2(0x4b7)](_0xd94e62){const _0x468885=a0_0x22fdc2;try{return await this[_0x468885(0x684)][_0x468885(0x56f)](_0xd94e62[_0x468885(0x59b)],_0xd94e62['name']),{'update':_0x468885(0x1ee)};}catch(_0x4efcb5){throw new A(_0x468885(0x51e),_0x4efcb5[_0x468885(0x78b)]());}}async[a0_0x22fdc2(0x588)](_0x2a368b){const _0x37eebb=a0_0x22fdc2;try{return await this[_0x37eebb(0x684)][_0x37eebb(0x3b2)](_0x2a368b[_0x37eebb(0x59b)],_0x2a368b[_0x37eebb(0x37c)]),{'update':_0x37eebb(0x1ee)};}catch(_0x55ff71){throw new A('Error\x20change\x20group\x20setting',_0x55ff71[_0x37eebb(0x78b)]());}}async['findGroups'](){const _0x4b0d85=a0_0x22fdc2;try{let _0x457f4d=[],_0x12e11e=await this[_0x4b0d85(0x684)][_0x4b0d85(0x2e8)](),_0x69b008=Object['values'](_0x12e11e),_0x64dcff=_0x69b008['filter'](_0x2caeb0=>(0x0,w[_0x4b0d85(0x398)])(_0x2caeb0?.['id']))[_0x4b0d85(0x2d7)](async _0x384708=>{const _0xd1e0eb=_0x4b0d85;try{return await this[_0xd1e0eb(0x684)][_0xd1e0eb(0x1f0)](_0x384708['id'],'preview');}catch(_0x2bd24e){return this[_0xd1e0eb(0x3e1)][_0xd1e0eb(0x31e)](this[_0xd1e0eb(0x5d2)]+'\x20('+this[_0xd1e0eb(0x655)][_0xd1e0eb(0x537)]+_0xd1e0eb(0x54f)+_0x384708['id']+':\x20'+JSON[_0xd1e0eb(0x2c1)](_0x2bd24e,null,0x2)),null;}}),_0x3eaf30=await Promise['all'](_0x64dcff);for(let _0x498a3a=0x0;_0x498a3a<_0x69b008[_0x4b0d85(0x44c)];_0x498a3a++){let _0x409331=_0x69b008[_0x498a3a];(0x0,w[_0x4b0d85(0x398)])(_0x409331?.['id'])&&_0x457f4d['push']({'groupJid':_0x409331?.['id'],'subject':_0x409331?.[_0x4b0d85(0x5e0)],'subjectOwner':_0x409331?.[_0x4b0d85(0x2a6)]?.[_0x4b0d85(0x289)]('@')[0x0],'subjectTime':_0x409331?.['subjectTime'],'size':_0x409331?.[_0x4b0d85(0x30f)]?.[_0x4b0d85(0x44c)],'owner':_0x409331?.['owner']?.[_0x4b0d85(0x289)]('@')[0x0],'creation':_0x409331?.[_0x4b0d85(0x697)],'desc':_0x409331?.[_0x4b0d85(0x39a)],'restrict':_0x409331?.[_0x4b0d85(0x39b)],'announce':_0x409331?.[_0x4b0d85(0x6c0)],'image':_0x3eaf30[_0x498a3a]});}return _0x457f4d;}catch(_0x2db110){throw new $(_0x4b0d85(0x745),_0x2db110[_0x4b0d85(0x78b)]());}}async[a0_0x22fdc2(0x58f)](_0x18f846){const _0x13d397=a0_0x22fdc2;try{let _0x7ff8ce=await this[_0x13d397(0x684)][_0x13d397(0x5aa)](_0x18f846[_0x13d397(0x59b)]);return{'inviteUrl':_0x13d397(0x75a)+_0x7ff8ce,'inviteCode':_0x7ff8ce};}catch(_0x386a02){throw new $(_0x13d397(0x1c6),_0x386a02[_0x13d397(0x78b)]());}}async[a0_0x22fdc2(0x508)](_0x863370){const _0x165605=a0_0x22fdc2;try{let _0x5363b3=await this[_0x165605(0x684)][_0x165605(0x4ad)](_0x863370['groupJid']);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x5363b3,'inviteCode':_0x5363b3};}catch(_0x3a6d10){throw new $(_0x165605(0x7a1),_0x3a6d10['toString']());}}async[a0_0x22fdc2(0x201)](_0x76f4c7){const _0x5ceb6a=a0_0x22fdc2;try{if((0x0,P[_0x5ceb6a(0x723)])(_0x76f4c7['inviteCode']))var _0x276185=_0x76f4c7['inviteCode'][_0x5ceb6a(0x289)]('/')[0x3];else var _0x276185=_0x76f4c7[_0x5ceb6a(0x58f)];let _0x427a51=await this[_0x5ceb6a(0x684)]['groupAcceptInvite'](_0x276185);return this['logger'][_0x5ceb6a(0x31e)](this['instanceName']+'\x20('+this[_0x5ceb6a(0x655)][_0x5ceb6a(0x537)]+'):\x20'+_0x427a51),{'join':!0x0,'inviteCode':_0x276185,'groupJid':_0x427a51};}catch(_0x5b78be){throw new $(_0x5ceb6a(0x5cc),_0x5b78be[_0x5ceb6a(0x78b)]());}}async[a0_0x22fdc2(0x5f6)](_0xb1d993){const _0x2c552c=a0_0x22fdc2;try{return{'participants':(await this[_0x2c552c(0x684)][_0x2c552c(0x2d4)](_0xb1d993['groupJid']))[_0x2c552c(0x30f)]};}catch(_0x315dc0){throw new $(_0x2c552c(0x788),_0x315dc0['toString']());}}async[a0_0x22fdc2(0x72d)](_0x2a41d6){const _0x3b9281=a0_0x22fdc2;try{let _0x562388=_0x2a41d6[_0x3b9281(0x30f)][_0x3b9281(0x2d7)](_0x2a4bb4=>this[_0x3b9281(0x4e6)](_0x2a4bb4));return{'updateParticipants':await this[_0x3b9281(0x684)]['groupParticipantsUpdate'](_0x2a41d6['groupJid'],_0x562388,_0x2a41d6['action'])};}catch(_0x4dbdd1){throw new g('Error\x20updating\x20participants',_0x4dbdd1[_0x3b9281(0x78b)]());}}async[a0_0x22fdc2(0x4cf)](_0x38011e){const _0x10a089=a0_0x22fdc2;try{let _0x154ac6=await this['client'][_0x10a089(0x27a)](_0x38011e[_0x10a089(0x59b)],_0x38011e[_0x10a089(0x220)]);return{'success':!0x0};}catch(_0x582c46){throw new g(_0x10a089(0x4a0),_0x582c46[_0x10a089(0x78b)]());}}async[a0_0x22fdc2(0x47a)](_0x5ed945){const _0x73164f=a0_0x22fdc2;try{return await this[_0x73164f(0x684)]['groupLeave'](_0x5ed945[_0x73164f(0x59b)]),{'groupJid':_0x5ed945[_0x73164f(0x59b)],'leave':!0x0};}catch(_0x1decb9){throw new g(_0x73164f(0x343),_0x1decb9[_0x73164f(0x78b)]());}}async[a0_0x22fdc2(0x4c6)](_0x2ffa71){const _0x47cd4a=a0_0x22fdc2;return await this[_0x47cd4a(0x689)](_0x2ffa71[_0x47cd4a(0x216)],{'poll':{'name':_0x2ffa71[_0x47cd4a(0x4c6)]?.[_0x47cd4a(0x5a6)],'selectableCount':_0x2ffa71[_0x47cd4a(0x4c6)][_0x47cd4a(0x77a)],'values':_0x2ffa71['pollMessage'][_0x47cd4a(0x30a)]}},_0x2ffa71?.[_0x47cd4a(0x6e3)]);}async[a0_0x22fdc2(0x478)](_0x584a9d){const _0x3bd2ab=a0_0x22fdc2;return await this[_0x3bd2ab(0x689)](_0x584a9d[_0x3bd2ab(0x216)],{'listMessage':{'title':_0x584a9d[_0x3bd2ab(0x478)][_0x3bd2ab(0x6fc)],'description':_0x584a9d[_0x3bd2ab(0x478)][_0x3bd2ab(0x4cd)],'buttonText':_0x584a9d[_0x3bd2ab(0x478)]?.[_0x3bd2ab(0x6a7)],'footerText':_0x584a9d['listMessage']?.[_0x3bd2ab(0x511)],'sections':_0x584a9d['listMessage'][_0x3bd2ab(0x611)],'listType':0x2}},_0x584a9d?.['options']);}async[a0_0x22fdc2(0x3c1)](_0x2a67bf){const _0x3b7c78=a0_0x22fdc2;let _0x3f01c8;if(_0x2a67bf['menuMessage']['type']==='list'){let _0x5411cb=_0x2a67bf[_0x3b7c78(0x3c1)][_0x3b7c78(0x70b)][_0x3b7c78(0x727)]('\x0a'),_0x3d3367='',_0x38ae10='';_0x5411cb!==-0x1?(_0x3d3367=_0x2a67bf['menuMessage'][_0x3b7c78(0x70b)][_0x3b7c78(0x4a2)](0x0,_0x5411cb)[_0x3b7c78(0x6f7)](),_0x38ae10=_0x2a67bf[_0x3b7c78(0x3c1)][_0x3b7c78(0x70b)][_0x3b7c78(0x4a2)](_0x5411cb+0x1)):_0x38ae10=_0x2a67bf['menuMessage'][_0x3b7c78(0x70b)];let _0x48982e=this['createSectionsFromValues'](_0x2a67bf[_0x3b7c78(0x3c1)][_0x3b7c78(0x2ba)]);_0x3f01c8={'listMessage':{'title':_0x3d3367,'description':_0x38ae10,'buttonText':_0x2a67bf[_0x3b7c78(0x3c1)][_0x3b7c78(0x6a7)]||_0x3b7c78(0x296),'footerText':_0x2a67bf[_0x3b7c78(0x3c1)][_0x3b7c78(0x511)],'sections':_0x48982e,'listType':0x2}};}else{if(_0x2a67bf['menuMessage'][_0x3b7c78(0x73e)]==='poll'){let _0x1a46a7=_0x2a67bf[_0x3b7c78(0x3c1)][_0x3b7c78(0x2ba)][_0x3b7c78(0x4e1)](_0x40d4a2=>!(_0x40d4a2[_0x3b7c78(0x486)]('[')&&_0x40d4a2[_0x3b7c78(0x515)](']')))['map'](_0x33dd1d=>_0x33dd1d['split']('\x0a')[0x0]);_0x3f01c8={'poll':{'name':_0x2a67bf[_0x3b7c78(0x3c1)][_0x3b7c78(0x70b)],'selectableCount':_0x2a67bf[_0x3b7c78(0x3c1)][_0x3b7c78(0x77a)]||0x1,'values':_0x1a46a7}};}}return await this[_0x3b7c78(0x689)](_0x2a67bf[_0x3b7c78(0x216)],_0x3f01c8,_0x2a67bf?.['options']);}[a0_0x22fdc2(0x483)](_0x498f9f){const _0x482b94=a0_0x22fdc2;let _0x30979e=[],_0x3b5ea6={'rows':[]};return _0x498f9f[_0x482b94(0x3a1)](_0x3c03d0=>{const _0x4c35ba=_0x482b94;if(_0x3c03d0[_0x4c35ba(0x486)]('[')&&_0x3c03d0['endsWith'](']'))_0x3b5ea6[_0x4c35ba(0x4e8)][_0x4c35ba(0x44c)]>0x0&&_0x30979e['push'](_0x3b5ea6),_0x3b5ea6={'title':_0x3c03d0['slice'](0x1,-0x1),'rows':[]};else{let _0x37a29d=_0x3c03d0[_0x4c35ba(0x289)]('\x0a')[_0x4c35ba(0x2d7)](_0x542bd6=>_0x542bd6[_0x4c35ba(0x6f7)]()),_0x50fbd1=_0x37a29d[0x0],_0x1b2e26=_0x37a29d[0x1]||null,_0x5c36f2=_0x37a29d[0x2]||_0x50fbd1;_0x3b5ea6[_0x4c35ba(0x4e8)][_0x4c35ba(0x23d)]({'title':_0x50fbd1,'description':_0x1b2e26,'rowId':_0x5c36f2});}}),_0x3b5ea6[_0x482b94(0x4e8)][_0x482b94(0x44c)]>0x0&&_0x30979e[_0x482b94(0x23d)](_0x3b5ea6),_0x30979e;}async[a0_0x22fdc2(0x58b)](_0x5ca501,_0x172247,_0x19f42c){const _0x4046e4=a0_0x22fdc2;if(await this['getMessage'](_0x5ca501,!0x0)){let _0x1a64f0={'where':{'_id':_0x5ca501['id'],'owner':this['instance'][_0x4046e4(0x537)]}},_0x3309d6={'status':[_0x19f42c[_0x4046e4(0x592)]][0x0]};try{let _0x2d896f=await this[_0x4046e4(0x7ac)]['message'][_0x4046e4(0x635)](_0x1a64f0,_0x3309d6);_0x2d896f&&q(this[_0x4046e4(0x5d2)],_0x4046e4(0x5fb),{'message':_0x2d896f});}catch{}}}['sectionsToString'](_0x78b76b){const _0x306c87=a0_0x22fdc2;let _0x856c0e=[];return _0x78b76b['forEach'](_0x1a14d9=>{const _0x16cb0f=a0_0x113b;_0x1a14d9['title']&&_0x856c0e['push']('['+_0x1a14d9[_0x16cb0f(0x6fc)]+']'),_0x1a14d9['rows']['forEach'](_0x42d276=>{const _0x4b8828=_0x16cb0f;let _0x2789d6=_0x42d276[_0x4b8828(0x6fc)];_0x42d276[_0x4b8828(0x4cd)]&&(_0x2789d6+='\x0a'+_0x42d276[_0x4b8828(0x4cd)]),_0x2789d6+='\x0a'+_0x42d276['rowId'],_0x856c0e[_0x4b8828(0x23d)](_0x2789d6);});}),_0x856c0e[_0x306c87(0x69d)]('|');}[a0_0x22fdc2(0x6fb)](_0x5978c9){const _0x4a739d=a0_0x22fdc2;let _0x399dc7=_0x5978c9[_0x4a739d(0x274)](/\\n/g,'\x0a')[_0x4a739d(0x289)]('\x0a')[_0x4a739d(0x4e1)](_0x257f6b=>_0x257f6b[_0x4a739d(0x353)](_0x4a739d(0x5ed))||_0x257f6b[_0x4a739d(0x353)](_0x4a739d(0x438))),_0x22158d='';return _0x399dc7[_0x4a739d(0x3a1)](_0x329064=>{const _0x4a5c4f=_0x4a739d;let _0x4437d2=/TEL(?:.*):(.+)/,_0x1b505c=/EMAIL(?:.*):(.+)/,_0x2639d3=_0x329064['match'](_0x4437d2),_0x26c398=_0x329064[_0x4a5c4f(0x77c)](_0x1b505c);if(_0x2639d3){let _0x44a6a8=_0x2639d3[0x1][_0x4a5c4f(0x274)](/-| |\+|\(|\)/g,'')[_0x4a5c4f(0x6f7)]();_0x22158d+=_0x4a5c4f(0x206)+_0x44a6a8+'\x0a';}else{if(_0x26c398){let _0x4089bb=_0x26c398[0x1]['trim']();_0x22158d+=_0x4a5c4f(0x4e5)+_0x4089bb+'\x0a';}}}),_0x22158d[_0x4a739d(0x6f7)]();}async[a0_0x22fdc2(0x558)](_0xdd0a7f,_0x43f643,_0x180d7b){const _0x37104b=a0_0x22fdc2;let _0x459971=_0x43f643[_0x37104b(0x4a1)][_0x37104b(0x1db)][_0x37104b(0x274)](/:\d{1,2}@/g,'@'),_0x4dc8df=_0x43f643[_0x37104b(0x4a1)]['fromMe'],_0x950c0=_0x459971[_0x37104b(0x515)](_0x37104b(0x385));if(!_0xdd0a7f[_0x37104b(0x3e8)])return;let _0xc27f83={'lastmsg':_0x43f643[_0x37104b(0x576)]||Date[_0x37104b(0x5b2)](),'unreadcount':_0x4dc8df?0x0:0x1,..._0x4dc8df||_0x950c0?{}:{'name':_0x43f643[_0x37104b(0x1c8)]},..._0x950c0?{'group':_0x950c0}:{}},_0x11af4c=await this[_0x37104b(0x7ac)][_0x37104b(0x565)][_0x37104b(0x2b6)]({'where':{'_id':_0x459971,'owner':this[_0x37104b(0x655)][_0x37104b(0x537)]}},_0xc27f83,{'new':!0x0,'upsert':!0x0});if(!_0x950c0&&(!_0x11af4c?.[_0x37104b(0x4d5)]||!_0x11af4c[_0x37104b(0x4d5)][_0x37104b(0x29c)])&&_0x43f643[_0x37104b(0x1c8)]&&!_0x4dc8df&&await this['repository'][_0x37104b(0x565)][_0x37104b(0x2b6)]({'where':{'_id':_0x459971,'owner':this[_0x37104b(0x655)][_0x37104b(0x537)]}},{'leadInfo.nome':_0x43f643[_0x37104b(0x1c8)]},{'new':!0x0,'upsert':!0x1}),_0x11af4c)q(this['instanceName'],'chats',{'chat':_0x11af4c});else{this['logger'][_0x37104b(0x367)](this[_0x37104b(0x5d2)]+'\x20('+this[_0x37104b(0x655)][_0x37104b(0x537)]+_0x37104b(0x680));return;}if(!this[_0x37104b(0x6a3)]?.[_0x37104b(0x304)][_0x37104b(0x423)])return this[_0x37104b(0x3e1)][_0x37104b(0x31e)](this[_0x37104b(0x5d2)]+'\x20('+this[_0x37104b(0x655)][_0x37104b(0x537)]+_0x37104b(0x5ec)),null;if(_0x11af4c[_0x37104b(0x762)]['includes']('@g.us')&&this['AutomateSystem']?.['flowConfig'][_0x37104b(0x35f)]===!0x0)return this[_0x37104b(0x3e1)][_0x37104b(0x31e)](this['instanceName']+'\x20('+this[_0x37104b(0x655)]['wuid']+_0x37104b(0x50a)),null;if(_0x11af4c['leadInfo']){if(_0x11af4c[_0x37104b(0x4d5)]['desativadoFluxoAte']===0x0||_0x11af4c[_0x37104b(0x4d5)][_0x37104b(0x355)])return this['logger'][_0x37104b(0x31e)](this[_0x37104b(0x5d2)]+'\x20('+this[_0x37104b(0x655)][_0x37104b(0x537)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x459971+_0x37104b(0x694)),null;if(_0x11af4c[_0x37104b(0x4d5)][_0x37104b(0x434)]>Date[_0x37104b(0x5b2)]())return this[_0x37104b(0x3e1)][_0x37104b(0x31e)](this[_0x37104b(0x5d2)]+'\x20('+this[_0x37104b(0x655)]['wuid']+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x11af4c[_0x37104b(0x4d5)][_0x37104b(0x434)])['toLocaleString']()+_0x37104b(0x694)),null;}this[_0x37104b(0x3e1)][_0x37104b(0x31e)](this[_0x37104b(0x5d2)]+'\x20('+this['instance'][_0x37104b(0x537)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x37104b(0x4e7)](_0x180d7b,_0x43f643,this[_0x37104b(0x655)]['wuid']);}async[a0_0x22fdc2(0x3b5)](_0x5b94ff,_0x42ff14){const _0x944da8=a0_0x22fdc2;if(_0x42ff14[_0x944da8(0x3e8)]){let _0x550278=_0x5b94ff[_0x944da8(0x2d7)](async _0x399814=>{const _0x52d22b=_0x944da8;try{let _0x5deff4={'_id':_0x399814[_0x52d22b(0x762)],'owner':_0x399814[_0x52d22b(0x662)],'lastcache':0x0};if(_0x399814[_0x52d22b(0x6b1)]!==null&&(_0x5deff4['group']=_0x399814[_0x52d22b(0x6b1)]),_0x399814[_0x52d22b(0x5a6)]!==null&&(_0x5deff4[_0x52d22b(0x5a6)]=_0x399814['name']),_0x399814[_0x52d22b(0x2cb)]!==null&&(_0x5deff4[_0x52d22b(0x2cb)]=_0x399814[_0x52d22b(0x2cb)]),_0x399814[_0x52d22b(0x3ca)]!==null&&(_0x5deff4[_0x52d22b(0x3ca)]=_0x399814[_0x52d22b(0x3ca)]),_0x399814[_0x52d22b(0x3ca)]===null&&(_0x5deff4[_0x52d22b(0x3ca)]='Imagem\x20não\x20encontrada'),_0x399814[_0x52d22b(0x4da)]!==null&&(_0x5deff4[_0x52d22b(0x4da)]=_0x399814[_0x52d22b(0x4da)]),_0x399814['archived']!==null&&(_0x5deff4['archived']=_0x399814[_0x52d22b(0x711)]),_0x399814[_0x52d22b(0x5fe)]!==null&&(_0x5deff4[_0x52d22b(0x5fe)]=_0x399814[_0x52d22b(0x5fe)]),Object[_0x52d22b(0x79e)](_0x5deff4)[_0x52d22b(0x44c)]>0x0)return await this[_0x52d22b(0x7ac)][_0x52d22b(0x565)][_0x52d22b(0x2b6)]({'where':{'_id':_0x399814[_0x52d22b(0x762)],'owner':_0x399814[_0x52d22b(0x662)]}},_0x5deff4);}catch(_0x3b65c5){return console[_0x52d22b(0x367)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x399814[_0x52d22b(0x762)]+':',_0x3b65c5),null;}}),_0x47f2a6=(await Promise[_0x944da8(0x474)](_0x550278))[_0x944da8(0x4e1)](_0x2af5c6=>_0x2af5c6!==null)['length'];this[_0x944da8(0x3e1)]['verbose'](this[_0x944da8(0x5d2)]+'\x20('+this['instance'][_0x944da8(0x537)]+'):\x20'+_0x47f2a6+_0x944da8(0x57f)+this['instance'][_0x944da8(0x537)]+_0x944da8(0x3e5));}}async['readMessageBot'](_0x3b6609){const _0x1d47e3=a0_0x22fdc2;this[_0x1d47e3(0x3e1)][_0x1d47e3(0x31e)](this['instanceName']+'\x20('+this[_0x1d47e3(0x655)][_0x1d47e3(0x537)]+_0x1d47e3(0x6d3));let _0x2d6696={'readMessages':[{'remoteJid':_0x3b6609[_0x1d47e3(0x1d9)]['lastReceivedMessage'][_0x1d47e3(0x4a1)]['remoteJid'],'fromMe':_0x3b6609[_0x1d47e3(0x1d9)][_0x1d47e3(0x6ed)][_0x1d47e3(0x4a1)][_0x1d47e3(0x3d1)],'id':_0x3b6609[_0x1d47e3(0x1d9)]['lastReceivedMessage'][_0x1d47e3(0x4a1)]['id']}]};await this['markMessageAsRead'](_0x2d6696);}async[a0_0x22fdc2(0x4e7)](_0x544402,_0x2dabaf,_0x21ecce){const _0x42fb86=a0_0x22fdc2;try{let {key:_0x468a00,message_normalized:_0x3e6eed}=_0x2dabaf,_0x2b6fdc=_0x3e6eed,_0x4965ae=_0x3e6eed[_0x42fb86(0x70b)]||_0x3e6eed[_0x42fb86(0x31d)]||_0x3e6eed['vote']||_0x3e6eed[_0x42fb86(0x5a6)],_0x199c06=_0x468a00['remoteJid'],_0x24372e;if(_0x2b6fdc[_0x42fb86(0x4a1)][_0x42fb86(0x3d1)]&&_0x4965ae['trim']()!==this[_0x42fb86(0x6a3)]?.[_0x42fb86(0x304)][_0x42fb86(0x38d)][_0x42fb86(0x6f7)]())return this['logger']['verbose'](this[_0x42fb86(0x5d2)]+'\x20('+this[_0x42fb86(0x655)][_0x42fb86(0x537)]+_0x42fb86(0x67e)),null;if(_0x2b6fdc[_0x42fb86(0x4a1)][_0x42fb86(0x3d1)]&&_0x4965ae['trim']()===this[_0x42fb86(0x6a3)]?.[_0x42fb86(0x304)][_0x42fb86(0x38d)]['trim']()){this[_0x42fb86(0x3e1)][_0x42fb86(0x31e)](this[_0x42fb86(0x5d2)]+'\x20('+this[_0x42fb86(0x655)]['wuid']+_0x42fb86(0x7ae));let _0x1a7bad=await U[_0x42fb86(0x631)]({'owner':_0x21ecce,'remoteJid':_0x199c06,'status':_0x42fb86(0x70a)});this[_0x42fb86(0x3e1)][_0x42fb86(0x31e)](this[_0x42fb86(0x5d2)]+'\x20('+this[_0x42fb86(0x655)]['wuid']+_0x42fb86(0x45b)+_0x1a7bad);let _0x13a146=Date[_0x42fb86(0x5b2)](),_0x1f8b16;return this[_0x42fb86(0x6a3)]?.[_0x42fb86(0x304)][_0x42fb86(0x53d)]===0x0?_0x1f8b16={'stoppedUntil':_0x13a146+0x7591f6200}:_0x1f8b16={'stoppedUntil':_0x13a146+this['AutomateSystem']?.[_0x42fb86(0x304)][_0x42fb86(0x53d)]*0x3c*0x3e8},this[_0x42fb86(0x3e1)]['verbose'](this[_0x42fb86(0x5d2)]+'\x20('+this[_0x42fb86(0x655)]['wuid']+_0x42fb86(0x6ce)+_0x1f8b16),this[_0x42fb86(0x4fb)](_0x24372e,_0x1f8b16[_0x42fb86(0x4c8)]),null;}if(_0x4965ae&&_0x4965ae['startsWith'](this[_0x42fb86(0x6a3)]?.[_0x42fb86(0x304)][_0x42fb86(0x390)])&&_0x4965ae[_0x42fb86(0x44c)]>0x4){let _0x2fd2db=await I[_0x42fb86(0x2ce)]({'owner':_0x21ecce,'startCommandWord':_0x4965ae});if(this['logger']['verbose'](this[_0x42fb86(0x5d2)]+'\x20('+this[_0x42fb86(0x655)]['wuid']+_0x42fb86(0x3e4)),_0x2fd2db)_0x24372e=await this[_0x42fb86(0x533)](_0x2fd2db,_0x2b6fdc[_0x42fb86(0x4a1)],_0x2b6fdc);else return this[_0x42fb86(0x3e1)][_0x42fb86(0x31e)](this[_0x42fb86(0x5d2)]+'\x20('+this[_0x42fb86(0x655)][_0x42fb86(0x537)]+_0x42fb86(0x209)),null;}else _0x24372e=await this[_0x42fb86(0x564)](_0x21ecce,_0x199c06,_0x2b6fdc);if(_0x24372e){this['logger'][_0x42fb86(0x31e)](this[_0x42fb86(0x5d2)]+'\x20('+this[_0x42fb86(0x655)][_0x42fb86(0x537)]+_0x42fb86(0x690)),!_0x468a00['fromMe']&&_0x24372e[_0x42fb86(0x36b)]&&this['readMessageBot'](_0x24372e);let _0x2b7d46=await this['NextBlock'](_0x24372e);_0x2b7d46&&await this[_0x42fb86(0x4fa)](_0x24372e,_0x2b7d46);}}catch(_0x586a95){this[_0x42fb86(0x3e1)][_0x42fb86(0x367)](this[_0x42fb86(0x5d2)]+'\x20('+this[_0x42fb86(0x655)]['wuid']+_0x42fb86(0x207)+JSON[_0x42fb86(0x2c1)](_0x586a95,null,0x2));}}[a0_0x22fdc2(0x2b8)](_0x5e314d,_0x3351f4='',_0x3b309a={},_0x243885=!0x0){const _0x40d82b=a0_0x22fdc2;for(let _0x17cf7e in _0x5e314d){let _0x18f443=_0x243885?'_'+_0x17cf7e:''+_0x3351f4+_0x17cf7e;typeof _0x5e314d[_0x17cf7e]==_0x40d82b(0x1c0)&&_0x5e314d[_0x17cf7e]!==null?this[_0x40d82b(0x2b8)](_0x5e314d[_0x17cf7e],_0x18f443+'.',_0x3b309a,!0x1):_0x3b309a[_0x18f443]=String(_0x5e314d[_0x17cf7e]);}return _0x3b309a;}['variablesToObject'](_0x50c2ab){const _0x467208=a0_0x22fdc2;let _0x3df0e2={};for(let _0x24c0a7 of _0x50c2ab)typeof _0x24c0a7[_0x467208(0x5a6)]==_0x467208(0x5a4)&&typeof _0x24c0a7[_0x467208(0x436)]==_0x467208(0x5a4)&&(_0x3df0e2[_0x24c0a7['name']]=_0x24c0a7['value']);return _0x3df0e2;}async[a0_0x22fdc2(0x3ba)](_0x3b4295){const _0x36fb10=a0_0x22fdc2;if(!this[_0x36fb10(0x6a3)]?.[_0x36fb10(0x304)][_0x36fb10(0x423)]||_0x3b4295[_0x36fb10(0x592)]!==_0x36fb10(0x70a)&&_0x3b4295[_0x36fb10(0x3a7)]==='')return null;let _0x339a99=_0x3b4295['chatLog'][_0x36fb10(0x73b)]||_0x36fb10(0x65b);typeof _0x3b4295['chatLog']['lastCondition']>'u'&&(_0x3b4295[_0x36fb10(0x1d9)][_0x36fb10(0x542)]=!0x0);let _0xcf7568=_0x3b4295['chatLog'][_0x36fb10(0x542)];this[_0x36fb10(0x3e1)][_0x36fb10(0x31e)](this['instanceName']+'\x20('+this[_0x36fb10(0x655)]['wuid']+_0x36fb10(0x424)+_0x339a99+_0x36fb10(0x5e5)+_0xcf7568);let _0x4e7731=_0x339a99===_0x36fb10(0x65b)?_0x3b4295[_0x36fb10(0x773)][_0x36fb10(0x631)](_0x2c47ac=>_0x2c47ac[_0x36fb10(0x73e)]===_0x36fb10(0x65b)):_0x3b4295[_0x36fb10(0x773)][_0x36fb10(0x631)](_0x34df70=>_0x34df70[_0x36fb10(0x762)][_0x36fb10(0x78b)]()===_0x339a99[_0x36fb10(0x78b)]());if(!_0x4e7731)return this[_0x36fb10(0x3e1)]['error'](this[_0x36fb10(0x5d2)]+'\x20('+this['instance'][_0x36fb10(0x537)]+_0x36fb10(0x609)+_0x339a99),null;let _0x1efbd0={'_pushName':_0x3b4295[_0x36fb10(0x1d9)]['lastReceivedMessage'][_0x36fb10(0x1c8)],..._0x3b4295[_0x36fb10(0x1d9)][_0x36fb10(0x552)]},_0x5264b9=null;if(_0x3b4295['waitingMenu_id']){let _0x1f3184=_0x3b4295[_0x36fb10(0x1d9)]['lastReceivedMessage'][_0x36fb10(0x52f)],_0xbb396b=_0x3b4295[_0x36fb10(0x53e)]['find'](_0x23281e=>_0x23281e[_0x36fb10(0x26b)]===_0x1f3184);if(_0xbb396b){let _0x5989e2=_0xbb396b[_0x36fb10(0x5cb)];if(_0x5264b9=_0x3b4295[_0x36fb10(0x773)][_0x36fb10(0x631)](_0x2d1e36=>_0x2d1e36[_0x36fb10(0x28c)]===_0x5989e2&&_0x2d1e36[_0x36fb10(0x764)]===0x1),_0x4e7731['uazapi'][_0x36fb10(0x6c4)]){let _0x504d6f={'id':_0x3b4295['waitingMenu_id'],'remoteJid':_0x3b4295[_0x36fb10(0x1db)],'fromMe':!0x0};await this[_0x36fb10(0x407)](_0x504d6f);}if(_0x4e7731[_0x36fb10(0x467)][_0x36fb10(0x6c4)]&&_0x4e7731[_0x36fb10(0x467)][_0x36fb10(0x70f)]&&_0x4e7731[_0x36fb10(0x467)][_0x36fb10(0x734)]===_0x36fb10(0x298)){let _0x3595a6={'number':_0x3b4295[_0x36fb10(0x1db)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x3b4295[_0x36fb10(0x752)]+_0x36fb10(0x68a)+_0x1f3184}};await this[_0x36fb10(0x695)](_0x3595a6);}_0x3b4295[_0x36fb10(0x592)]=_0x36fb10(0x70a),_0x3b4295[_0x36fb10(0x3a7)]='',_0x3b4295[_0x36fb10(0x752)]='',_0x3b4295[_0x36fb10(0x53e)]=[];}else{this[_0x36fb10(0x3e1)]['verbose'](this[_0x36fb10(0x5d2)]+'\x20('+this['instance'][_0x36fb10(0x537)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x4c4de7={'activatedCount':_0x3b4295[_0x36fb10(0x1d9)][_0x36fb10(0x4c7)]['filter'](_0x257d98=>String(_0x257d98[_0x36fb10(0x2ef)])===String(_0x339a99))[_0x36fb10(0x44c)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x4e7731[_0x36fb10(0x467)][_0x36fb10(0x6af)]){let _0x3f6292={'number':_0x3b4295['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x4e7731[_0x36fb10(0x467)]['pollErrorMessage']}};await this['textMessage'](_0x3f6292);}if(_0x4e7731[_0x36fb10(0x37d)]!==void 0x0&&_0x4c4de7['activatedCount']>=_0x4e7731['maxActives']){let _0x1f2c91=Date[_0x36fb10(0x5b2)](),_0x43451b=_0x4e7731['stopMinutesMaxActives']??0xa;isNaN(_0x43451b)&&(_0x43451b=0xa);let _0x45959b=_0x1f2c91+_0x43451b*0x3c*0x3e8;_0x4c4de7[_0x36fb10(0x458)]=_0x45959b,_0x4c4de7['moreLogs'][_0x36fb10(0x23d)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x36fb10(0x4fb)](_0x3b4295,_0x45959b),_0x3b4295[_0x36fb10(0x3a7)]='',_0x3b4295[_0x36fb10(0x752)]='',_0x3b4295[_0x36fb10(0x53e)]=[];}return this['updateConversation'](_0x3b4295,_0x4e7731,_0x4c4de7,!0x0),null;}}if(_0xcf7568&&_0x4e7731['next_groupId']&&!_0x3b4295['waitingMenu_id']){let _0x26f3bc=_0x3b4295['blocks'][_0x36fb10(0x4e1)](_0x8b6d3a=>_0x8b6d3a['groupId'][_0x36fb10(0x78b)]()===_0x4e7731[_0x36fb10(0x5cb)]['toString']())[_0x36fb10(0x698)]((_0x32c05a,_0x8057bb)=>_0x32c05a['order']-_0x8057bb[_0x36fb10(0x764)]);_0x26f3bc['length']>0x0&&(_0x5264b9=_0x26f3bc[0x0]);}if(!_0x5264b9){let _0xd8b073=_0x4e7731[_0x36fb10(0x28c)],_0x13f548=_0x3b4295['blocks'][_0x36fb10(0x4e1)](_0x398094=>_0x398094['groupId']===_0xd8b073&&_0x398094[_0x36fb10(0x764)]>_0x4e7731[_0x36fb10(0x764)])[_0x36fb10(0x698)]((_0x36a2b0,_0x3d59a7)=>_0x36a2b0['order']-_0x3d59a7[_0x36fb10(0x764)]);_0x13f548[_0x36fb10(0x44c)]>0x0&&(_0x5264b9=_0x13f548[0x0]);}if(!_0x5264b9)return _0x3b4295[_0x36fb10(0x592)]='closed',null;_0x3b4295[_0x36fb10(0x1d9)][_0x36fb10(0x552)]=_0x1efbd0;let _0x40773e=JSON['parse'](JSON[_0x36fb10(0x2c1)](_0x5264b9));return this[_0x36fb10(0x4df)](_0x40773e,_0x3b4295[_0x36fb10(0x1d9)]['realVariables']),_0x3b4295['chatLog']['lastBlockId']=_0x40773e['_id'],_0x3b4295[_0x36fb10(0x1d9)][_0x36fb10(0x542)]=!0x0,_0x40773e;}['replaceVariables'](_0x327994,_0x35ddb3){const _0x3d6440=a0_0x22fdc2;return _0x327994[_0x3d6440(0x274)](/\{\{([^}]+)\}\}/g,(_0x462536,_0x3fdb30)=>_0x35ddb3[_0x3fdb30]||'');}[a0_0x22fdc2(0x4df)](_0x8c6912,_0x572eba){const _0x3ffed1=a0_0x22fdc2;for(let _0x26dcff in _0x8c6912)typeof _0x8c6912[_0x26dcff]==_0x3ffed1(0x5a4)?_0x8c6912[_0x26dcff]=this[_0x3ffed1(0x2b1)](_0x8c6912[_0x26dcff],_0x572eba):typeof _0x8c6912[_0x26dcff]==_0x3ffed1(0x1c0)&&this['replaceVariablesInObject'](_0x8c6912[_0x26dcff],_0x572eba);}async[a0_0x22fdc2(0x402)](_0x1e8493,_0x21c2ed){const _0x330675=a0_0x22fdc2;let _0x49135e=_0x21c2ed[_0x330675(0x762)];if(_0x1e8493['chatLog']&&_0x1e8493[_0x330675(0x1d9)][_0x330675(0x4c7)]){let _0x41bae0=_0x1e8493[_0x330675(0x1d9)][_0x330675(0x4c7)][_0x330675(0x4e1)](_0x539856=>String(_0x539856[_0x330675(0x2ef)])===String(_0x49135e))['pop']();if(_0x41bae0&&_0x41bae0[_0x330675(0x367)]&&_0x21c2ed['stopIfLastReturnedError'])return _0x1e8493[_0x330675(0x592)]=_0x330675(0x6ec),await this[_0x330675(0x40d)](_0x1e8493),null;}if(_0x21c2ed[_0x330675(0x73e)]==='uazapi'&&_0x21c2ed['uazapi'][_0x330675(0x34e)]==='sendPoll'&&_0x1e8493[_0x330675(0x3a7)])return _0x1e8493[_0x330675(0x1d9)]['lastBlockId']=_0x49135e,await this[_0x330675(0x40d)](_0x1e8493),null;let _0xaed28d=await this[_0x330675(0x3ba)](_0x1e8493);if(_0x1e8493[_0x330675(0x1d9)]&&_0x1e8493[_0x330675(0x1d9)][_0x330675(0x4c7)]){let _0x48a828=_0x1e8493['chatLog'][_0x330675(0x4c7)][_0x330675(0x4e1)](_0x29c57e=>String(_0x29c57e['blockId'])===String(_0x49135e))[_0x330675(0x44c)];if(_0x21c2ed[_0x330675(0x37d)]!==void 0x0&&_0x48a828>=_0x21c2ed[_0x330675(0x37d)]){let _0xccb851=Date[_0x330675(0x5b2)](),_0x38d231=_0x21c2ed[_0x330675(0x699)]??0xa;isNaN(_0x38d231)&&(_0x38d231=0xa);let _0x183c89=_0xccb851+_0x38d231*0x3c*0x3e8,_0x5e030d={'newStoppedUntil':_0x183c89};return this[_0x330675(0x4fb)](_0x1e8493,_0x183c89),this[_0x330675(0x26d)](_0x1e8493,_0x21c2ed,_0x5e030d,!0x0),null;}}_0xaed28d&&_0xaed28d[_0x330675(0x73e)]!==_0x330675(0x5ab)&&await this[_0x330675(0x4fa)](_0x1e8493,_0xaed28d),_0xaed28d||await this[_0x330675(0x40d)](_0x1e8493),_0xaed28d&&_0xaed28d[_0x330675(0x73e)]==='save'&&(_0x1e8493['chatLog']['lastBlockId']=_0x49135e,await this[_0x330675(0x40d)](_0x1e8493));}async[a0_0x22fdc2(0x4fa)](_0x3bcdb5,_0x4c1a76){const _0x396622=a0_0x22fdc2;try{let _0x30981f=_0x4c1a76[_0x396622(0x73e)];this[_0x396622(0x3e1)][_0x396622(0x31e)](this[_0x396622(0x5d2)]+'\x20('+this[_0x396622(0x655)]['wuid']+_0x396622(0x237)+_0x30981f);let _0x1054a2={'uazapi':()=>this[_0x396622(0x712)](_0x3bcdb5,_0x4c1a76),'save':()=>this[_0x396622(0x51c)](_0x3bcdb5,_0x4c1a76),'stop':()=>this[_0x396622(0x38d)](_0x3bcdb5,_0x4c1a76),'condition':()=>this[_0x396622(0x3c5)](_0x3bcdb5,_0x4c1a76),'varedit':()=>this['processvaredits'](_0x3bcdb5,_0x4c1a76),'apirequest':()=>this[_0x396622(0x48c)](_0x3bcdb5,_0x4c1a76),'goToFlow':()=>this['processgoToFlow'](_0x3bcdb5,_0x4c1a76)}[_0x30981f];_0x1054a2&&await _0x1054a2();}catch(_0x284337){this[_0x396622(0x3e1)][_0x396622(0x367)](this['instanceName']+'\x20('+this[_0x396622(0x655)][_0x396622(0x537)]+'):\x20Error\x20processing\x20the\x20block:\x20'+JSON[_0x396622(0x2c1)](_0x284337,null,0x2));}}async[a0_0x22fdc2(0x5f0)](_0x426f7f,_0x59c0ec){const _0x557345=a0_0x22fdc2;if(this['logger'][_0x557345(0x31e)](this[_0x557345(0x5d2)]+'\x20('+this['instance'][_0x557345(0x537)]+_0x557345(0x74e)),!_0x426f7f||!_0x59c0ec)return this['logger'][_0x557345(0x367)](this['instanceName']+'\x20('+this[_0x557345(0x655)][_0x557345(0x537)]+_0x557345(0x55e)),null;await this['updateConversation'](_0x426f7f,_0x59c0ec,{},!0x0,!0x0),console[_0x557345(0x2d0)](_0x557345(0x5a0)),console['log'](_0x59c0ec);let _0x1bff56=_0x59c0ec['goToFlow'];console[_0x557345(0x2d0)](_0x557345(0x4a5),_0x1bff56),_0x426f7f=await this[_0x557345(0x3a4)](_0x1bff56,_0x426f7f[_0x557345(0x1db)],_0x426f7f[_0x557345(0x1d9)][_0x557345(0x552)]),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x557345(0x655)]['wuid']+_0x557345(0x667));let _0x3d7543=await this[_0x557345(0x3ba)](_0x426f7f);_0x3d7543&&await this[_0x557345(0x4fa)](_0x426f7f,_0x3d7543);}async[a0_0x22fdc2(0x3a4)](_0x5975e9,_0x916afe,_0x27cfa0){const _0x11d2c7=a0_0x22fdc2;this[_0x11d2c7(0x3e1)][_0x11d2c7(0x31e)](this[_0x11d2c7(0x5d2)]+'\x20('+this['instance']['wuid']+_0x11d2c7(0x621));try{if(_0x5975e9=await I[_0x11d2c7(0x2ce)]({'owner':this['instance'][_0x11d2c7(0x537)],'name':_0x5975e9}),!_0x5975e9)return this[_0x11d2c7(0x3e1)][_0x11d2c7(0x367)](this[_0x11d2c7(0x5d2)]+'\x20('+this[_0x11d2c7(0x655)][_0x11d2c7(0x537)]+_0x11d2c7(0x488)),null;let _0x46997c=require(_0x11d2c7(0x583))[_0x11d2c7(0x2a3)],_0x27f9cd=Date[_0x11d2c7(0x5b2)](),_0x5b5cce=_0x11d2c7(0x65b),_0x521aee={},_0x391c37={},_0x33be98={..._0x5975e9['_doc'],'chatLog':null},_0x53e908={'lastReceivedMessage':_0x521aee,'lastSendMessage':_0x391c37,'lastBlockId':_0x5b5cce,'lastCondition':!0x0,'realVariables':_0x27cfa0};_0x33be98[_0x11d2c7(0x1d9)]=_0x53e908,_0x33be98[_0x11d2c7(0x1d9)][_0x11d2c7(0x552)]={..._0x27cfa0},delete _0x33be98['_id'],_0x33be98[_0x11d2c7(0x762)]=new _0x46997c(),_0x33be98[_0x11d2c7(0x613)]=_0x27f9cd,_0x33be98[_0x11d2c7(0x592)]='open',_0x33be98[_0x11d2c7(0x1db)]=_0x916afe;let _0x4244a4=await U[_0x11d2c7(0x3c0)](_0x33be98);return this[_0x11d2c7(0x3e1)][_0x11d2c7(0x31e)](this[_0x11d2c7(0x5d2)]+'\x20('+this[_0x11d2c7(0x655)][_0x11d2c7(0x537)]+_0x11d2c7(0x77b)),_0x4244a4?_0x33be98:null;}catch(_0x3bb6ba){throw this[_0x11d2c7(0x3e1)][_0x11d2c7(0x367)](this['instanceName']+'\x20('+this[_0x11d2c7(0x655)][_0x11d2c7(0x537)]+_0x11d2c7(0x1e5)+JSON[_0x11d2c7(0x2c1)](_0x3bb6ba,null,0x2)),new g(_0x3bb6ba[_0x11d2c7(0x649)]);}}async['processApiRequest'](_0x1c1b6e,_0x59ee63){const _0x5784d0=a0_0x22fdc2;let _0x172a0c,_0x3418f4;try{let _0x2ad578=_0x59ee63[_0x5784d0(0x5e3)];if(!_0x2ad578||!_0x2ad578[_0x5784d0(0x53c)]||!_0x2ad578[_0x5784d0(0x591)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x2341b8={'method':_0x2ad578[_0x5784d0(0x591)],'url':_0x2ad578[_0x5784d0(0x53c)],'headers':_0x2ad578[_0x5784d0(0x6d8)]||{},'data':_0x2ad578[_0x5784d0(0x672)]||{}};_0x172a0c=(await(0x0,ce[_0x5784d0(0x421)])(_0x2341b8))[_0x5784d0(0x3f4)];let _0x1ba82f=_0x1c1b6e[_0x5784d0(0x1d9)][_0x5784d0(0x552)],_0x4b1fe9=this[_0x5784d0(0x2b8)](_0x172a0c);return Object[_0x5784d0(0x42b)](_0x1ba82f,_0x4b1fe9),_0x1c1b6e['chatLog']['realVariables']=_0x1ba82f,_0x3418f4={'error':!0x1,'apiResponse':_0x172a0c},this['updateConversation'](_0x1c1b6e,_0x59ee63,_0x3418f4),_0x172a0c;}catch(_0x546824){console[_0x5784d0(0x367)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x546824),_0x546824[_0x5784d0(0x792)]&&(_0x172a0c=_0x546824[_0x5784d0(0x792)][_0x5784d0(0x3f4)]);let _0x821ffe=_0x1c1b6e[_0x5784d0(0x1d9)][_0x5784d0(0x552)],_0x13ef6b=this[_0x5784d0(0x2b8)](_0x172a0c);return Object[_0x5784d0(0x42b)](_0x821ffe,_0x13ef6b),_0x1c1b6e['chatLog'][_0x5784d0(0x552)]=_0x821ffe,_0x3418f4={'error':!0x0,'errorLog':_0x546824[_0x5784d0(0x78b)](),'apiResponse':_0x172a0c},this[_0x5784d0(0x26d)](_0x1c1b6e,_0x59ee63,_0x3418f4),{'success':!0x1};}}[a0_0x22fdc2(0x1c5)](_0x1f08fe,_0x2bd0b1){const _0x33cada=a0_0x22fdc2;let _0x22259f=_0x535ddf=>{const _0x4b80d4=a0_0x113b;let _0x39200c=_0x535ddf[_0x4b80d4(0x274)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x5cffc4=parseFloat(_0x39200c);return isNaN(_0x5cffc4)?null:_0x5cffc4;},_0x50ea8d=_0x2bd0b1[_0x33cada(0x255)],_0x5390f3=_0x2bd0b1[_0x33cada(0x4f5)];typeof _0x50ea8d==_0x33cada(0x5a4)&&(_0x50ea8d=this['replaceVariables'](_0x50ea8d,_0x1f08fe[_0x33cada(0x1d9)]['realVariables'])??''),typeof _0x5390f3=='string'&&(_0x5390f3=this[_0x33cada(0x2b1)](_0x5390f3,_0x1f08fe[_0x33cada(0x1d9)][_0x33cada(0x552)])??'');let _0x4b1236=null;if(!_0x2bd0b1['editOperator'])return null;switch(this[_0x33cada(0x3e1)][_0x33cada(0x31e)](this['instanceName']+'\x20('+this['instance'][_0x33cada(0x537)]+_0x33cada(0x1f3)+_0x50ea8d),this['logger'][_0x33cada(0x31e)](this[_0x33cada(0x5d2)]+'\x20('+this[_0x33cada(0x655)][_0x33cada(0x537)]+_0x33cada(0x494)+_0x5390f3),_0x2bd0b1['editOperator']){case'+':case'-':case'*':case'/':let _0x15369b=_0x22259f(_0x50ea8d||'0'),_0x437233=_0x22259f(_0x5390f3||'0');if(_0x15369b===null)return null;switch(_0x2bd0b1[_0x33cada(0x4d1)]){case'+':_0x4b1236=_0x15369b+(_0x437233??0x0);break;case'-':_0x4b1236=_0x15369b-(_0x437233??0x0);break;case'*':_0x4b1236=_0x15369b*(_0x437233??0x1);break;case'/':_0x437233!==0x0&&(_0x4b1236=_0x15369b/(_0x437233??0x1));break;}break;case _0x33cada(0x25c):case'findAndReplaceRegex':let _0x3baab2=_0x5390f3,_0xe0fce4=_0x2bd0b1[_0x33cada(0x5af)];if(typeof _0xe0fce4=='string'&&(_0xe0fce4=this[_0x33cada(0x2b1)](_0xe0fce4,_0x1f08fe[_0x33cada(0x1d9)][_0x33cada(0x552)])??''),_0x3baab2&&_0xe0fce4!==void 0x0){let _0x2071cd=_0x2bd0b1[_0x33cada(0x4d1)]===_0x33cada(0x25c)?new RegExp(_0x3baab2[_0x33cada(0x274)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x3baab2,'g');_0x4b1236=_0x50ea8d[_0x33cada(0x274)](_0x2071cd,_0xe0fce4);}else console[_0x33cada(0x57a)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x33cada(0x6df):_0x4b1236=_0x5390f3;break;case _0x33cada(0x702):let _0x47a975=_0x50ea8d[_0x33cada(0x77c)](new RegExp(_0x5390f3||''));_0x4b1236=_0x47a975?_0x47a975[0x0]:'';break;case _0x33cada(0x59d):_0x4b1236=_0x50ea8d[_0x33cada(0x60d)](0x0,parseInt(_0x5390f3||'0'));break;case _0x33cada(0x32a):let _0x4be99b=parseInt(_0x5390f3||'0');_0x4b1236=_0x50ea8d['slice'](_0x50ea8d[_0x33cada(0x44c)]-_0x4be99b);break;case _0x33cada(0x72b):let _0x2131cc=_0x22259f(_0x50ea8d),_0x4de528=parseInt(_0x5390f3||'0');_0x4de528=Math[_0x33cada(0x204)](_0x4de528),_0x2131cc!==null?_0x4b1236=_0x2131cc[_0x33cada(0x6b3)](_0x33cada(0x63e),{'minimumFractionDigits':_0x4de528,'maximumFractionDigits':_0x4de528}):(console[_0x33cada(0x57a)](_0x33cada(0x559)+_0x50ea8d),_0x4b1236=null);break;case _0x33cada(0x6e4):let _0x2b71d0=_0x22259f(_0x50ea8d);_0x2b71d0!==null?_0x4b1236=_0x2b71d0[_0x33cada(0x6b3)](_0x33cada(0x63e),{'style':_0x33cada(0x32b),'currency':'BRL'}):(console['warn'](_0x33cada(0x574)+_0x50ea8d),_0x4b1236=null);break;case _0x33cada(0x726):_0x4b1236=_0x50ea8d[_0x33cada(0x78c)]();break;case'lowerCase':_0x4b1236=_0x50ea8d[_0x33cada(0x38f)]();break;case _0x33cada(0x1d8):_0x4b1236=_0x50ea8d[_0x33cada(0x289)]('\x20')[_0x33cada(0x2d7)](_0x30fb17=>_0x30fb17[_0x33cada(0x30e)](0x0)[_0x33cada(0x78c)]()+_0x30fb17[_0x33cada(0x60d)](0x1)['toLowerCase']())[_0x33cada(0x69d)]('\x20');break;case _0x33cada(0x2a0):_0x4b1236=_0x50ea8d['trim']();break;default:_0x4b1236=_0x50ea8d;}return _0x4b1236!==null?_0x4b1236[_0x33cada(0x78b)]():null;}async[a0_0x22fdc2(0x41d)](_0x86b2b1,_0x3a2fb8){const _0xa112c0=a0_0x22fdc2;try{let _0x169b46=_0x86b2b1[_0xa112c0(0x554)]?.[_0xa112c0(0x4e1)](_0x3864e0=>_0x3864e0[_0xa112c0(0x2ef)]===_0x3a2fb8[_0xa112c0(0x762)]?.['toString']())||[],_0x303eb5=_0x3a2fb8[_0xa112c0(0x6e8)],_0x110245=null,_0x288c36=[],_0x230e6c=_0x86b2b1['chatLog']['realVariables'][_0x303eb5];_0x288c36[_0xa112c0(0x23d)](_0xa112c0(0x370)+_0x230e6c+'\x22');for(let _0x483604 of _0x169b46){_0x483604[_0xa112c0(0x255)]=_0x230e6c,_0x110245=_0x483604['firstValue'];let _0x547123;try{_0x547123=this[_0xa112c0(0x1c5)](_0x86b2b1,_0x483604);}catch(_0x4832e2){console[_0xa112c0(0x367)](_0xa112c0(0x37f)+_0x4832e2['message']);continue;}if(_0x547123!==null){let _0x12c753=_0xa112c0(0x6ba)+_0x483604[_0xa112c0(0x4d1)]+'\x22',_0x9f7feb=[_0xa112c0(0x6e4),_0xa112c0(0x726),_0xa112c0(0x540),_0xa112c0(0x1d8),'trimmed'];_0x483604[_0xa112c0(0x4d1)]==='findAndReplace'||_0x483604[_0xa112c0(0x4d1)]===_0xa112c0(0x4bf)?_0x12c753+=_0xa112c0(0x24f)+_0x483604[_0xa112c0(0x4f5)]+_0xa112c0(0x79f)+_0x483604[_0xa112c0(0x5af)]+'\x22':!_0x9f7feb[_0xa112c0(0x353)](_0x483604[_0xa112c0(0x4d1)])&&_0x483604[_0xa112c0(0x4f5)]!==null&&_0x483604[_0xa112c0(0x4f5)]!==void 0x0&&(_0x12c753+=_0xa112c0(0x271)+_0x483604['secondValue']+'\x22'),_0x12c753+=',\x20resultado:\x20'+_0x547123+'.',_0x288c36[_0xa112c0(0x23d)](_0x12c753);}_0x547123!==null&&(_0x230e6c=_0x547123);}if(_0x86b2b1['chatLog'][_0xa112c0(0x552)]&&_0x3a2fb8[_0xa112c0(0x6e8)]){_0x86b2b1['chatLog'][_0xa112c0(0x552)][_0x3a2fb8[_0xa112c0(0x6e8)]]=_0x230e6c;let _0x55a1c6={'variable':_0x3a2fb8[_0xa112c0(0x6e8)],'oldValue':_0x110245,'newValue':_0x230e6c,'moreLogs':_0x288c36};try{this['updateConversation'](_0x86b2b1,_0x3a2fb8,_0x55a1c6);}catch(_0x4116ae){console[_0xa112c0(0x367)](_0xa112c0(0x429)+_0x4116ae[_0xa112c0(0x649)]);}}return _0x303eb5;}catch(_0x27dd48){return console['error'](_0xa112c0(0x517)+_0x27dd48[_0xa112c0(0x649)]),null;}}async['processConditions'](_0x2ae09b,_0x202574){const _0x60254a=a0_0x22fdc2;try{let _0x288c55=[],_0x117602=_0x2ae09b['conditions'][_0x60254a(0x4e1)](_0x4cbfa5=>_0x4cbfa5[_0x60254a(0x2ef)]===_0x202574[_0x60254a(0x762)][_0x60254a(0x78b)]()),_0x4487f1=null,_0x140d6a=!0x1;for(let _0x57bc01 of _0x117602){let _0xf74954=this[_0x60254a(0x63c)](_0x2ae09b,_0x57bc01);_0x288c55[_0x60254a(0x23d)]('Primeiro\x20Valor:\x20'+_0x57bc01[_0x60254a(0x255)]+',\x20Comparador:\x20'+_0x57bc01['expression']+_0x60254a(0x4c1)+_0x57bc01[_0x60254a(0x4f5)]+_0x60254a(0x43a)+_0xf74954),_0x4487f1===null?_0x4487f1=_0xf74954:_0x57bc01['OrAnd']===_0x60254a(0x386)?(_0x4487f1=_0x4487f1&&_0xf74954,_0xf74954||(_0x140d6a=!0x0)):_0x57bc01['OrAnd']==='or'&&(_0x140d6a||(_0x4487f1=_0x4487f1||_0xf74954));}_0x4487f1===null&&(_0x4487f1=!0x0);let _0x5d7832={'moreLogs':_0x288c55};_0x2ae09b[_0x60254a(0x1d9)][_0x60254a(0x542)]=_0x4487f1,await this['updateConversation'](_0x2ae09b,_0x202574,_0x5d7832);}catch(_0x11f5ae){this[_0x60254a(0x3e1)][_0x60254a(0x367)](this[_0x60254a(0x5d2)]+'\x20('+this[_0x60254a(0x655)][_0x60254a(0x537)]+_0x60254a(0x6c3)+JSON['stringify'](_0x11f5ae,null,0x2));}}['evaluateCondition'](_0x4a222b,_0x340bca){const _0x6224ef=a0_0x22fdc2;let _0x7eecd0=_0x340bca[_0x6224ef(0x255)],_0x663013=_0x340bca[_0x6224ef(0x4f5)];typeof _0x7eecd0==_0x6224ef(0x5a4)&&(_0x7eecd0=this[_0x6224ef(0x2b1)](_0x7eecd0,_0x4a222b[_0x6224ef(0x1d9)][_0x6224ef(0x552)])??''),typeof _0x663013=='string'&&(_0x663013=this[_0x6224ef(0x2b1)](_0x663013,_0x4a222b[_0x6224ef(0x1d9)][_0x6224ef(0x552)])??'');try{switch(_0x340bca[_0x6224ef(0x361)]){case _0x6224ef(0x44a):return _0x7eecd0===_0x663013;case _0x6224ef(0x56d):return _0x7eecd0!==_0x663013;case _0x6224ef(0x1fc):return _0x7eecd0[_0x6224ef(0x353)](_0x663013);case _0x6224ef(0x675):return!_0x7eecd0[_0x6224ef(0x353)](_0x663013);case'greater':return parseFloat(_0x7eecd0)>parseFloat(_0x663013);case'less':return parseFloat(_0x7eecd0)<parseFloat(_0x663013);case'notEmpty':return _0x7eecd0!=='';case'empty':return _0x7eecd0==='';case'matchRegex':return new RegExp(_0x663013)[_0x6224ef(0x277)](_0x7eecd0);case _0x6224ef(0x705):return!new RegExp(_0x663013)[_0x6224ef(0x277)](_0x7eecd0);default:return!0x1;}}catch(_0x4677e7){return console[_0x6224ef(0x367)](_0x6224ef(0x646)+_0x4677e7),!0x1;}}['processConditionsTest'](_0x4ca9e8){const _0x334ee5=a0_0x22fdc2;let _0x476afd=!0x0,_0x9f0066=null;for(let _0x131c65 of _0x4ca9e8){let _0x300e02=this[_0x334ee5(0x67b)](_0x131c65);if(_0x9f0066==='or'&&_0x300e02){_0x476afd=!0x0;break;}if(_0x9f0066===_0x334ee5(0x386)&&!_0x300e02){_0x476afd=!0x1;break;}_0x9f0066=_0x131c65[_0x334ee5(0x507)];}return _0x476afd;}[a0_0x22fdc2(0x67b)](_0x22f7bc){const _0x5d418a=a0_0x22fdc2;let _0x4bb69f=_0x22f7bc[_0x5d418a(0x255)],_0x587f8d=_0x22f7bc[_0x5d418a(0x4f5)];try{switch(_0x22f7bc[_0x5d418a(0x361)]){case _0x5d418a(0x44a):return String(_0x4bb69f)===String(_0x587f8d);case _0x5d418a(0x56d):return String(_0x4bb69f)!==String(_0x587f8d);case _0x5d418a(0x1fc):return String(_0x4bb69f)[_0x5d418a(0x353)](String(_0x587f8d));case _0x5d418a(0x675):return!String(_0x4bb69f)[_0x5d418a(0x353)](String(_0x587f8d));case _0x5d418a(0x5fa):return parseFloat(String(_0x4bb69f))>parseFloat(String(_0x587f8d));case _0x5d418a(0x4b4):return parseFloat(String(_0x4bb69f))<parseFloat(String(_0x587f8d));case _0x5d418a(0x732):return String(_0x4bb69f)!=='';case'empty':return String(_0x4bb69f)==='';case _0x5d418a(0x1f6):return new RegExp(String(_0x587f8d))[_0x5d418a(0x277)](String(_0x4bb69f));case _0x5d418a(0x705):return!new RegExp(String(_0x587f8d))[_0x5d418a(0x277)](String(_0x4bb69f));default:return!0x1;}}catch(_0x62132e){return console[_0x5d418a(0x367)](_0x5d418a(0x646)+_0x62132e),!0x1;}}async[a0_0x22fdc2(0x51c)](_0x4bad06,_0x5deefe){const _0x271085=a0_0x22fdc2;if(this[_0x271085(0x3e1)][_0x271085(0x31e)](this[_0x271085(0x5d2)]+'\x20('+this[_0x271085(0x655)][_0x271085(0x537)]+_0x271085(0x493)),!_0x4bad06||!_0x5deefe)return this[_0x271085(0x3e1)][_0x271085(0x367)](this['instanceName']+'\x20('+this[_0x271085(0x655)][_0x271085(0x537)]+_0x271085(0x55e)),null;let _0x4e3a22=_0x5deefe[_0x271085(0x6e8)],_0x6741af=_0x4bad06[_0x271085(0x1d9)]['lastReceivedMessage'][_0x271085(0x70b)]||_0x4bad06[_0x271085(0x1d9)]['lastReceivedMessage'][_0x271085(0x31d)]||_0x4bad06[_0x271085(0x1d9)][_0x271085(0x6ed)][_0x271085(0x52f)];try{_0x4bad06[_0x271085(0x1d9)][_0x271085(0x552)]||(_0x4bad06['chatLog'][_0x271085(0x552)]={});let _0x495fa5=_0x4bad06[_0x271085(0x1d9)]['realVariables'][_0x4e3a22];_0x4bad06[_0x271085(0x1d9)][_0x271085(0x552)][_0x4e3a22]=_0x6741af;let _0x11eea0={'variable':_0x4e3a22,'oldValue':_0x495fa5,'newValue':_0x6741af};this[_0x271085(0x26d)](_0x4bad06,_0x5deefe,_0x11eea0),this['logger'][_0x271085(0x31e)](this[_0x271085(0x5d2)]+'\x20('+this['instance']['wuid']+_0x271085(0x3a0));}catch(_0xb1ac21){let _0x2f00de={'error':!0x0,'errorLog':_0xb1ac21['toString']()};return this[_0x271085(0x26d)](_0x4bad06,_0x5deefe,_0x2f00de),this[_0x271085(0x3e1)][_0x271085(0x367)](this['instanceName']+'\x20('+this['instance'][_0x271085(0x537)]+_0x271085(0x4d8)+JSON[_0x271085(0x2c1)](_0xb1ac21,null,0x2)),null;}}async['stopConversation'](_0x313c95,_0x5e66e8){const _0x3a66c1=a0_0x22fdc2;if(this[_0x3a66c1(0x3e1)][_0x3a66c1(0x31e)](this[_0x3a66c1(0x5d2)]+'\x20('+this[_0x3a66c1(0x655)][_0x3a66c1(0x537)]+_0x3a66c1(0x68e)),!_0x313c95||!_0x5e66e8)return this[_0x3a66c1(0x3e1)][_0x3a66c1(0x367)](this[_0x3a66c1(0x5d2)]+'\x20('+this['instance']['wuid']+_0x3a66c1(0x55e)),null;let _0x15860f=Date[_0x3a66c1(0x5b2)](),_0x4dc136=parseInt(_0x5e66e8[_0x3a66c1(0x53d)],0xa);if(isNaN(_0x4dc136))return this[_0x3a66c1(0x3e1)][_0x3a66c1(0x367)](this['instanceName']+'\x20('+this[_0x3a66c1(0x655)][_0x3a66c1(0x537)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x4e0292={'newStoppedUntil':_0x15860f+_0x4dc136*0x3c*0x3e8};return await this[_0x3a66c1(0x26d)](_0x313c95,_0x5e66e8,_0x4e0292,!0x0),null;}async['processUazapi'](_0x52d129,_0xa9c9fa){const _0x5d0183=a0_0x22fdc2;try{switch(_0xa9c9fa[_0x5d0183(0x467)][_0x5d0183(0x34e)]){case _0x5d0183(0x254):await this[_0x5d0183(0x6eb)](_0x52d129,_0xa9c9fa);break;case'sendMedia':await this['uazapiSendMedia'](_0x52d129,_0xa9c9fa);break;case _0x5d0183(0x352):await this[_0x5d0183(0x3b0)](_0x52d129,_0xa9c9fa);break;case _0x5d0183(0x2a5):await this[_0x5d0183(0x2a1)](_0x52d129,_0xa9c9fa);break;case _0x5d0183(0x714):await this[_0x5d0183(0x258)](_0x52d129,_0xa9c9fa);break;case _0x5d0183(0x20e):await this[_0x5d0183(0x4d6)](_0x52d129,_0xa9c9fa);break;case _0x5d0183(0x2c4):await this[_0x5d0183(0x4d6)](_0x52d129,_0xa9c9fa);break;case _0x5d0183(0x407):await this['uazapiDeleteMessage'](_0x52d129,_0xa9c9fa);break;default:this['logger'][_0x5d0183(0x367)](this['instanceName']+'\x20('+this[_0x5d0183(0x655)][_0x5d0183(0x537)]+'):\x20Comando\x20desconhecido:\x20'+_0xa9c9fa['uazapi'][_0x5d0183(0x34e)]);}}catch(_0x1fc1e1){this[_0x5d0183(0x3e1)][_0x5d0183(0x367)](this[_0x5d0183(0x5d2)]+'\x20('+this[_0x5d0183(0x655)]['wuid']+_0x5d0183(0x722)+JSON[_0x5d0183(0x2c1)](_0x1fc1e1,null,0x2));}}async['updateConversation'](_0x59bc65,_0x1ce4eb,_0xdb3750,_0x286e2b=!0x1,_0x1abe1a=!0x1){const _0x5bb0d3=a0_0x22fdc2;_0x59bc65['chatLog']['blockLogs']||(_0x59bc65[_0x5bb0d3(0x1d9)]['blockLogs']=[]);let _0x477ceb=(_0x59bc65[_0x5bb0d3(0x1d9)][_0x5bb0d3(0x4c7)]?.[_0x5bb0d3(0x44c)]??0x0)+0x1,_0x185bf5=_0x59bc65[_0x5bb0d3(0x1d9)][_0x5bb0d3(0x4c7)][_0x5bb0d3(0x4e1)](_0x5094f9=>String(_0x5094f9[_0x5bb0d3(0x2ef)])===String(_0x1ce4eb['_id']))[_0x5bb0d3(0x44c)]+0x1,_0x7727e2=_0xdb3750?.[_0x5bb0d3(0x798)]??Date[_0x5bb0d3(0x5b2)](),_0x3497c8=_0xdb3750?.[_0x5bb0d3(0x367)]?_0xdb3750[_0x5bb0d3(0x779)]??_0xdb3750[_0x5bb0d3(0x367)][_0x5bb0d3(0x78b)]():void 0x0,_0x3dc93b={'onTime':_0x7727e2,'blockId':_0x1ce4eb[_0x5bb0d3(0x762)],'order':_0x477ceb,'activatedCount':_0x185bf5,'error':_0xdb3750?.['error']??!0x1,'messageId':_0xdb3750?.[_0x5bb0d3(0x30b)],'apiResponse':_0xdb3750?.['apiResponse'],'apiResponseString':_0xdb3750?.[_0x5bb0d3(0x650)]?JSON[_0x5bb0d3(0x2c1)](_0xdb3750?.[_0x5bb0d3(0x650)]):void 0x0,'variable':_0xdb3750?.['variable'],'oldValue':_0xdb3750?.[_0x5bb0d3(0x43b)],'newValue':_0xdb3750?.[_0x5bb0d3(0x2a2)],'newStoppedUntil':_0xdb3750?.[_0x5bb0d3(0x458)],'moreLogs':_0xdb3750?.[_0x5bb0d3(0x2a9)],'errorLog':_0x3497c8};if(_0xdb3750['moreLogs']&&_0xdb3750[_0x5bb0d3(0x2a9)]['length']>0x0){let _0x37e243=_0xdb3750[_0x5bb0d3(0x2a9)]['map'](_0x1a0cbb=>this['replaceVariablesLogs'](_0x1a0cbb,_0x59bc65['chatLog'][_0x5bb0d3(0x552)]));_0x3dc93b[_0x5bb0d3(0x2a9)]=_0x37e243;}_0x59bc65[_0x5bb0d3(0x1d9)]['realVariables']||(_0x59bc65[_0x5bb0d3(0x1d9)]['realVariables']={}),_0x59bc65['chatLog']['realVariables'][_0x5bb0d3(0x3c3)]=String(_0x185bf5),_0x59bc65[_0x5bb0d3(0x1d9)][_0x5bb0d3(0x552)][_0x5bb0d3(0x38e)]=String(_0xdb3750[_0x5bb0d3(0x367)]??!0x1),_0x59bc65[_0x5bb0d3(0x1d9)]['blockLogs'][_0x5bb0d3(0x23d)](_0x3dc93b),_0x59bc65[_0x5bb0d3(0x1d9)][_0x5bb0d3(0x73b)]=_0x1ce4eb[_0x5bb0d3(0x762)][_0x5bb0d3(0x78b)](),_0x59bc65[_0x5bb0d3(0x1d9)][_0x5bb0d3(0x5eb)]&&(_0x59bc65[_0x5bb0d3(0x1d9)][_0x5bb0d3(0x5eb)]=_0x59bc65['chatLog'][_0x5bb0d3(0x5eb)]),_0x59bc65[_0x5bb0d3(0x1d9)][_0x5bb0d3(0x6ed)]&&(_0x59bc65[_0x5bb0d3(0x1d9)][_0x5bb0d3(0x6ed)]=_0x59bc65[_0x5bb0d3(0x1d9)][_0x5bb0d3(0x6ed)]),_0x59bc65['chatLog'][_0x5bb0d3(0x542)]&&(_0x59bc65[_0x5bb0d3(0x1d9)][_0x5bb0d3(0x542)]=_0x59bc65[_0x5bb0d3(0x1d9)]['lastCondition']),_0x1abe1a&&(_0x59bc65[_0x5bb0d3(0x592)]=_0x5bb0d3(0x6ec)),_0x286e2b?this[_0x5bb0d3(0x40d)](_0x59bc65):this[_0x5bb0d3(0x402)](_0x59bc65,_0x1ce4eb);}[a0_0x22fdc2(0x597)](_0x2cb972,_0x17436b){const _0x2c8fba=a0_0x22fdc2;return _0x2cb972['replace'](/\{\{([^}]+)\}\}/g,(_0x3aeca7,_0x47e87c)=>_0x17436b[_0x47e87c]?'{{'+_0x47e87c+_0x2c8fba(0x77f)+_0x17436b[_0x47e87c]+'\x22':'{{'+_0x47e87c+_0x2c8fba(0x52d));}async['saveConversationToDatabase'](_0x5aa00d){const _0x4214f0=a0_0x22fdc2;try{let _0x2ed4b6=Object[_0x4214f0(0x519)](_0x5aa00d[_0x4214f0(0x1d9)][_0x4214f0(0x552)])['map'](([_0x3a0053,_0x105bfe])=>({'name':_0x3a0053,'value':_0x105bfe})),_0x34067b=await U['findOneAndUpdate']({'_id':_0x5aa00d['_id']},{'$set':{'chatLog.lastBlockId':_0x5aa00d[_0x4214f0(0x1d9)][_0x4214f0(0x73b)],'blocks':_0x5aa00d[_0x4214f0(0x773)],'chatLog.lastSendMessage':_0x5aa00d[_0x4214f0(0x1d9)][_0x4214f0(0x5eb)],'chatLog.lastReceivedMessage':_0x5aa00d[_0x4214f0(0x1d9)][_0x4214f0(0x6ed)],'chatLog.lastCondition':_0x5aa00d[_0x4214f0(0x1d9)][_0x4214f0(0x542)],'chatLog.chatVariables':_0x2ed4b6,'chatLog.realVariables':_0x5aa00d[_0x4214f0(0x1d9)][_0x4214f0(0x552)],'status':_0x5aa00d[_0x4214f0(0x592)],'chatLog.blockLogs':_0x5aa00d[_0x4214f0(0x1d9)]['blockLogs'],'waitingMenu_id':_0x5aa00d[_0x4214f0(0x3a7)],'waitingMenu_text':_0x5aa00d[_0x4214f0(0x752)],'waitingMenu_replyOptions':_0x5aa00d[_0x4214f0(0x53e)]}},{'new':!0x0});if(_0x34067b){this[_0x4214f0(0x3e1)][_0x4214f0(0x31e)](this['instanceName']+'\x20('+this[_0x4214f0(0x655)]['wuid']+_0x4214f0(0x581)+_0x34067b[_0x4214f0(0x762)]);try{let _0x407c8e=[_0x4214f0(0x29c),_0x4214f0(0x5df),'email',_0x4214f0(0x527),'status',_0x4214f0(0x5c1),_0x4214f0(0x45c),_0x4214f0(0x787)];if(!this[_0x4214f0(0x6a3)]&&(await this[_0x4214f0(0x261)](),!this[_0x4214f0(0x6a3)]))throw new Error(_0x4214f0(0x2f2));let _0x4f324e=this[_0x4214f0(0x6a3)]?.['customFields']['map'](_0x5b06d2=>_0x5b06d2[_0x4214f0(0x5a6)]),_0x3cf8d9={};Object[_0x4214f0(0x519)](_0x5aa00d[_0x4214f0(0x1d9)][_0x4214f0(0x552)])['forEach'](([_0x5f4f6d,_0x2871f8])=>{const _0x571a2d=_0x4214f0;_0x407c8e[_0x571a2d(0x353)](_0x5f4f6d)&&(_0x5f4f6d==='tags'&&typeof _0x2871f8==_0x571a2d(0x5a4)?_0x3cf8d9[_0x5f4f6d]=_0x2871f8[_0x571a2d(0x289)](',')[_0x571a2d(0x2d7)](_0x47d261=>_0x47d261[_0x571a2d(0x6f7)]())[_0x571a2d(0x4e1)](_0x2d2f07=>_0x2d2f07!==''):_0x3cf8d9[_0x5f4f6d]=_0x2871f8);});let _0xf3dafe=_0x5aa00d[_0x4214f0(0x1d9)][_0x4214f0(0x4c7)][_0x5aa00d[_0x4214f0(0x1d9)][_0x4214f0(0x4c7)][_0x4214f0(0x44c)]-0x1];if(_0xf3dafe){let _0x49516e=_0xf3dafe['newStoppedUntil'];_0x49516e!==void 0x0&&(_0x3cf8d9[_0x4214f0(0x434)]=_0x49516e[_0x4214f0(0x78b)]());}let _0x244f28=_0x2ed4b6[_0x4214f0(0x4e1)](_0x46fad3=>_0x4f324e[_0x4214f0(0x353)](_0x46fad3['name']));this[_0x4214f0(0x3e1)][_0x4214f0(0x31e)](this[_0x4214f0(0x5d2)]+'\x20('+this[_0x4214f0(0x655)][_0x4214f0(0x537)]+_0x4214f0(0x641)),this['logger'][_0x4214f0(0x31e)](_0x3cf8d9),this['logger'][_0x4214f0(0x31e)](this[_0x4214f0(0x5d2)]+'\x20('+this[_0x4214f0(0x655)][_0x4214f0(0x537)]+_0x4214f0(0x717)),this[_0x4214f0(0x3e1)]['verbose'](_0x244f28);let _0xb1b0bc=_0x244f28[_0x4214f0(0x2d7)](_0x4050d2=>{const _0x4c9b97=_0x4214f0;let _0x409b70=this[_0x4c9b97(0x6a3)]?.[_0x4c9b97(0x489)][_0x4c9b97(0x631)](_0x1a429f=>_0x1a429f[_0x4c9b97(0x5a6)]===_0x4050d2['name']);if(!_0x409b70)throw new Error(_0x4c9b97(0x21c)+_0x4050d2[_0x4c9b97(0x5a6)]);return{'_id':_0x409b70['_id'],'value':_0x4050d2['value']};});this[_0x4214f0(0x3e1)][_0x4214f0(0x31e)](this[_0x4214f0(0x5d2)]+'\x20('+this[_0x4214f0(0x655)][_0x4214f0(0x537)]+'):\x20transformedCustomFieldVariables'),this[_0x4214f0(0x3e1)][_0x4214f0(0x31e)](_0xb1b0bc),await this[_0x4214f0(0x22e)](_0x5aa00d[_0x4214f0(0x1db)],_0x3cf8d9,_0xb1b0bc);}catch(_0x527eae){this['logger'][_0x4214f0(0x367)](this[_0x4214f0(0x5d2)]+'\x20('+this[_0x4214f0(0x655)][_0x4214f0(0x537)]+_0x4214f0(0x3d8)+JSON[_0x4214f0(0x2c1)](_0x527eae));}}else this['logger']['error'](this[_0x4214f0(0x5d2)]+'\x20('+this[_0x4214f0(0x655)][_0x4214f0(0x537)]+_0x4214f0(0x26e));}catch(_0x3e6548){this[_0x4214f0(0x3e1)][_0x4214f0(0x367)](this[_0x4214f0(0x5d2)]+'\x20('+this[_0x4214f0(0x655)][_0x4214f0(0x537)]+_0x4214f0(0x4ea)+JSON[_0x4214f0(0x2c1)](_0x3e6548));}}async[a0_0x22fdc2(0x22e)](_0x26e890,_0x28dac8,_0x3f9f82){const _0x68845c=a0_0x22fdc2;try{let _0x196299={'leadInfo.leadnome':_0x28dac8[_0x68845c(0x29c)],'leadInfo.nomecompleto':_0x28dac8[_0x68845c(0x5df)],'leadInfo.email':_0x28dac8[_0x68845c(0x65d)],'leadInfo.cpf':_0x28dac8[_0x68845c(0x527)],'leadInfo.status':_0x28dac8[_0x68845c(0x592)],'leadInfo.notas':_0x28dac8[_0x68845c(0x5c1)],'leadInfo.responsavelid':_0x28dac8['responsavelid'],'leadInfo.tags':_0x28dac8['tags'],'leadInfo.customFields':_0x3f9f82};if('desativadoFluxoAte'in _0x28dac8){let _0x11f2f1=_0x28dac8[_0x68845c(0x434)];_0x196299[_0x68845c(0x6ab)]=_0x11f2f1?Number(_0x11f2f1):null;}let _0x529a70=await this[_0x68845c(0x7ac)][_0x68845c(0x565)][_0x68845c(0x2b6)]({'where':{'_id':_0x26e890,'owner':this[_0x68845c(0x655)][_0x68845c(0x537)]}},_0x196299);_0x529a70?(this['logger']['verbose'](this[_0x68845c(0x5d2)]+'\x20('+this[_0x68845c(0x655)][_0x68845c(0x537)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x529a70[_0x68845c(0x762)]),q(this[_0x68845c(0x5d2)],_0x68845c(0x776),{'chat':_0x529a70})):this[_0x68845c(0x3e1)][_0x68845c(0x367)](this[_0x68845c(0x5d2)]+'\x20('+this[_0x68845c(0x655)][_0x68845c(0x537)]+_0x68845c(0x20a));}catch(_0x239f27){this[_0x68845c(0x3e1)][_0x68845c(0x367)](this['instanceName']+'\x20('+this[_0x68845c(0x655)]['wuid']+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+JSON[_0x68845c(0x2c1)](_0x239f27,null,0x2));}}async['updateStopChat'](_0x2e4a22,_0x153e88){const _0x1d6ad5=a0_0x22fdc2;this[_0x1d6ad5(0x3e1)]['verbose'](this[_0x1d6ad5(0x5d2)]+'\x20('+this[_0x1d6ad5(0x655)][_0x1d6ad5(0x537)]+_0x1d6ad5(0x6c8)+_0x153e88);try{let _0x1af271=await this[_0x1d6ad5(0x7ac)][_0x1d6ad5(0x565)][_0x1d6ad5(0x2b6)]({'where':{'_id':_0x2e4a22[_0x1d6ad5(0x1db)],'owner':_0x2e4a22[_0x1d6ad5(0x662)]}},{'leadInfo.desativadoFluxoAte':_0x153e88});this[_0x1d6ad5(0x3e1)][_0x1d6ad5(0x31e)](this[_0x1d6ad5(0x5d2)]+'\x20('+this['instance']['wuid']+_0x1d6ad5(0x673)+_0x2e4a22[_0x1d6ad5(0x762)]),this[_0x1d6ad5(0x3e1)]['verbose'](this['instanceName']+'\x20('+this[_0x1d6ad5(0x655)][_0x1d6ad5(0x537)]+_0x1d6ad5(0x6c8)+JSON[_0x1d6ad5(0x2c1)](_0x1af271,null,0x2)),_0x1af271&&q(this['instanceName'],'chats',{'chat':_0x1af271});}catch(_0x3d8db8){this[_0x1d6ad5(0x3e1)][_0x1d6ad5(0x367)](this[_0x1d6ad5(0x5d2)]+'\x20('+this[_0x1d6ad5(0x655)]['wuid']+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+JSON[_0x1d6ad5(0x2c1)](_0x3d8db8));}}async[a0_0x22fdc2(0x492)](_0x307c1a,_0x201f9c){const _0x26540a=a0_0x22fdc2;try{this[_0x26540a(0x3e1)][_0x26540a(0x31e)](this[_0x26540a(0x5d2)]+'\x20('+this[_0x26540a(0x655)][_0x26540a(0x537)]+_0x26540a(0x525));let _0x200208=_0x201f9c[_0x26540a(0x274)](/\D/g,''),_0x1ee289=await I[_0x26540a(0x2ce)]({'owner':_0x307c1a,'testingWith':_0x200208});return _0x1ee289||(this[_0x26540a(0x3e1)][_0x26540a(0x31e)](this[_0x26540a(0x5d2)]+'\x20('+this[_0x26540a(0x655)][_0x26540a(0x537)]+_0x26540a(0x716)),_0x1ee289=await I['findOne']({'owner':_0x307c1a,'default':!0x0})),_0x1ee289||(this['logger'][_0x26540a(0x31e)](this[_0x26540a(0x5d2)]+'\x20('+this['instance']['wuid']+_0x26540a(0x66b)),null);}catch(_0x565744){return this[_0x26540a(0x3e1)][_0x26540a(0x367)](this['instanceName']+'\x20('+this[_0x26540a(0x655)]['wuid']+_0x26540a(0x2d6)+JSON['stringify'](_0x565744,null,0x2)),null;}}async['findConversation'](_0x438a26,_0x5e6fac,_0x3d901c){const _0x2995fc=a0_0x22fdc2;try{let _0x5e4565=!!_0x3d901c[_0x2995fc(0x52f)],_0x108c7b=_0x3d901c['quoted'],_0x1a172b=null;if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2995fc(0x655)]['wuid']+_0x2995fc(0x77e)+_0x5e4565+'\x20quoted:\x20'+_0x108c7b),_0x5e4565){if(this[_0x2995fc(0x3e1)]['verbose'](this[_0x2995fc(0x5d2)]+'\x20('+this[_0x2995fc(0x655)][_0x2995fc(0x537)]+_0x2995fc(0x793)),_0x1a172b=await U['findOne']({'owner':_0x438a26,'remoteJid':_0x5e6fac,'waitingMenu_id':_0x108c7b}),!_0x1a172b)return this[_0x2995fc(0x3e1)][_0x2995fc(0x31e)](this[_0x2995fc(0x5d2)]+'\x20('+this[_0x2995fc(0x655)][_0x2995fc(0x537)]+_0x2995fc(0x622)),null;let _0x5ce077=Date['now'](),_0x560a86=_0x1a172b?.[_0x2995fc(0x461)]||0x0,_0x26ee73=_0x5ce077-_0x560a86*0x3c*0x3e8;if(_0x1a172b[_0x2995fc(0x613)]<_0x26ee73){this['logger'][_0x2995fc(0x31e)](this[_0x2995fc(0x5d2)]+'\x20('+this[_0x2995fc(0x655)][_0x2995fc(0x537)]+_0x2995fc(0x2c5));let _0x27dd33={'number':_0x1a172b[_0x2995fc(0x1db)],'options':{'delay':0x0},'textMessage':{'text':_0x1a172b[_0x2995fc(0x604)]}};return await this[_0x2995fc(0x695)](_0x27dd33),await U[_0x2995fc(0x2b6)]({'_id':_0x1a172b[_0x2995fc(0x762)]},{'status':_0x2995fc(0x6ec),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]}),null;}return _0x1a172b[_0x2995fc(0x613)]=Date[_0x2995fc(0x5b2)](),_0x1a172b[_0x2995fc(0x1d9)][_0x2995fc(0x6ed)]=_0x3d901c,_0x1a172b;}else{if(this['logger'][_0x2995fc(0x31e)](this[_0x2995fc(0x5d2)]+'\x20('+this[_0x2995fc(0x655)][_0x2995fc(0x537)]+_0x2995fc(0x6f5)+this[_0x2995fc(0x655)]['wuid']+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x2995fc(0x3e1)][_0x2995fc(0x31e)](this['instanceName']+'\x20('+this[_0x2995fc(0x655)][_0x2995fc(0x537)]+_0x2995fc(0x2dc)),_0x1a172b=await U[_0x2995fc(0x2ce)]({'owner':_0x438a26,'remoteJid':_0x5e6fac,'status':'open'}),!_0x1a172b){let _0x3c8fe1=await this['findFlow'](_0x438a26,_0x5e6fac);if(_0x3c8fe1&&(_0x1a172b=await this[_0x2995fc(0x533)](_0x3c8fe1,_0x3d901c[_0x2995fc(0x4a1)],_0x3d901c)),!_0x1a172b)return null;}let _0x59257c=Date[_0x2995fc(0x5b2)](),_0x1fcf66=_0x1a172b?.['minutesToClose']||0x0,_0x37b57b=_0x59257c-_0x1fcf66*0x3c*0x3e8;if(this[_0x2995fc(0x3e1)]['verbose'](this[_0x2995fc(0x5d2)]+'\x20('+this[_0x2995fc(0x655)]['wuid']+_0x2995fc(0x2ad)+_0x59257c+',\x20Minutes\x20to\x20Close:\x20'+_0x1fcf66+_0x2995fc(0x227)+_0x37b57b),this[_0x2995fc(0x3e1)]['verbose'](this[_0x2995fc(0x5d2)]+'\x20('+this['instance'][_0x2995fc(0x537)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this['logger'][_0x2995fc(0x31e)](this[_0x2995fc(0x5d2)]+'\x20('+this[_0x2995fc(0x655)]['wuid']+_0x2995fc(0x57e)+_0x1a172b['lastInteraction']),this[_0x2995fc(0x3e1)][_0x2995fc(0x31e)](this[_0x2995fc(0x5d2)]+'\x20('+this[_0x2995fc(0x655)][_0x2995fc(0x537)]+_0x2995fc(0x774)+_0x37b57b),_0x1a172b[_0x2995fc(0x613)]<_0x37b57b){this['logger'][_0x2995fc(0x31e)](this[_0x2995fc(0x5d2)]+'\x20('+this[_0x2995fc(0x655)]['wuid']+_0x2995fc(0x425));let _0x1cbd74=await this[_0x2995fc(0x492)](_0x438a26,_0x5e6fac);if(_0x1cbd74===null)return null;_0x1a172b&&await U[_0x2995fc(0x2b6)]({'_id':_0x1a172b[_0x2995fc(0x762)]},{'status':_0x2995fc(0x6ec)}),_0x1a172b=await this[_0x2995fc(0x533)](_0x1cbd74,_0x3d901c[_0x2995fc(0x4a1)],_0x3d901c);}return _0x1a172b[_0x2995fc(0x613)]=_0x59257c,_0x1a172b[_0x2995fc(0x1d9)]['lastReceivedMessage']=_0x3d901c,_0x1a172b;}}catch(_0x2b8d08){return this[_0x2995fc(0x3e1)][_0x2995fc(0x367)](this[_0x2995fc(0x5d2)]+'\x20('+this[_0x2995fc(0x655)][_0x2995fc(0x537)]+_0x2995fc(0x44d)+JSON[_0x2995fc(0x2c1)](_0x2b8d08,null,0x2)),null;}}async[a0_0x22fdc2(0x533)](_0x46b16b,_0x3d7148,_0x138716){const _0x3940f6=a0_0x22fdc2;this[_0x3940f6(0x3e1)][_0x3940f6(0x31e)](this[_0x3940f6(0x5d2)]+'\x20('+this[_0x3940f6(0x655)][_0x3940f6(0x537)]+_0x3940f6(0x621));try{let _0x3c1257=require(_0x3940f6(0x583))[_0x3940f6(0x2a3)],_0x687831=Date[_0x3940f6(0x5b2)](),_0x1b6138='start',_0x2dbbb3=_0x3d7148[_0x3940f6(0x3d1)]?null:_0x138716,_0x4fb7a2=_0x3d7148[_0x3940f6(0x3d1)]?_0x138716:null,_0x723d45=_0x3d7148[_0x3940f6(0x1db)];await this[_0x3940f6(0x43e)](_0x723d45);let _0x286316={..._0x46b16b['_doc'],'chatLog':null},_0x38e2c9=await this['variablesToObject'](_0x286316['variables']),_0x5bb7eb=await this[_0x3940f6(0x780)](_0x723d45),_0xa38da4={..._0x38e2c9,..._0x5bb7eb,'_remoteJid':_0x723d45},_0x5c85b7={'lastReceivedMessage':_0x2dbbb3,'lastSendMessage':_0x4fb7a2,'lastBlockId':_0x1b6138,'lastCondition':!0x0,'realVariables':_0xa38da4};_0x286316[_0x3940f6(0x1d9)]=_0x5c85b7,delete _0x286316[_0x3940f6(0x762)],_0x286316[_0x3940f6(0x762)]=new _0x3c1257(),_0x286316['lastInteraction']=_0x687831,_0x286316['status']=_0x3940f6(0x70a),_0x286316[_0x3940f6(0x1db)]=_0x723d45;let _0x4e41ac=await U[_0x3940f6(0x3c0)](_0x286316);return this[_0x3940f6(0x3e1)]['verbose'](this['instanceName']+'\x20('+this[_0x3940f6(0x655)][_0x3940f6(0x537)]+_0x3940f6(0x77b)),_0x4e41ac?_0x286316:null;}catch(_0x5a1edf){return this['logger']['error'](this[_0x3940f6(0x5d2)]+'\x20('+this['instance'][_0x3940f6(0x537)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+JSON[_0x3940f6(0x2c1)](_0x5a1edf,null,0x2)),_0x5a1edf;}}async[a0_0x22fdc2(0x6eb)](_0x42acdb,_0x537824){const _0x8e76db=a0_0x22fdc2;let _0x1dddc2=_0x42acdb[_0x8e76db(0x1db)];_0x537824[_0x8e76db(0x467)][_0x8e76db(0x1db)]&&_0x537824[_0x8e76db(0x467)]['remoteJid'][_0x8e76db(0x6f7)]()!==''&&(_0x1dddc2=_0x537824['uazapi'][_0x8e76db(0x1db)][_0x8e76db(0x6f7)]()),this[_0x8e76db(0x3e1)][_0x8e76db(0x31e)](this[_0x8e76db(0x5d2)]+'\x20('+this[_0x8e76db(0x655)]['wuid']+_0x8e76db(0x2fc));let _0x432213={'number':_0x1dddc2,'options':{'delay':_0x537824[_0x8e76db(0x467)][_0x8e76db(0x2ac)]},'textMessage':{'text':_0x537824['uazapi'][_0x8e76db(0x70b)]}};try{let _0x5aeab7=await this[_0x8e76db(0x695)](_0x432213);if(_0x5aeab7){let _0x372f84={'_id':_0x5aeab7['key']['id'],'_fromMe':_0x5aeab7[_0x8e76db(0x4a1)][_0x8e76db(0x3d1)],'_remoteJid':_0x5aeab7['key'][_0x8e76db(0x1db)]};_0x42acdb[_0x8e76db(0x1d9)][_0x8e76db(0x73b)]=_0x537824[_0x8e76db(0x762)][_0x8e76db(0x78b)]();let {message_normalized:_0x4c1dde}=this[_0x8e76db(0x661)](_0x5aeab7[_0x8e76db(0x649)],_(_0x5aeab7[_0x8e76db(0x649)]),null);_0x42acdb[_0x8e76db(0x1d9)][_0x8e76db(0x5eb)]=await _0x4c1dde;let _0x2e0ee1={'messageId':_0x5aeab7[_0x8e76db(0x4a1)]['id']},_0x16f29c=_0x42acdb[_0x8e76db(0x1d9)]['realVariables'];Object[_0x8e76db(0x42b)](_0x16f29c,_0x372f84),_0x42acdb[_0x8e76db(0x1d9)]['realVariables']=_0x16f29c,this[_0x8e76db(0x26d)](_0x42acdb,_0x537824,_0x2e0ee1);}else{let _0xa9e32d={'error':!0x0};this[_0x8e76db(0x26d)](_0x42acdb,_0x537824,_0xa9e32d),this[_0x8e76db(0x3e1)][_0x8e76db(0x367)](this[_0x8e76db(0x5d2)]+'\x20('+this[_0x8e76db(0x655)][_0x8e76db(0x537)]+_0x8e76db(0x264));}}catch(_0x3e25a5){let _0x5619fa={'error':!0x0,'errorLog':_0x3e25a5[_0x8e76db(0x78b)]()};this[_0x8e76db(0x26d)](_0x42acdb,_0x537824,_0x5619fa),this[_0x8e76db(0x3e1)]['error'](this[_0x8e76db(0x5d2)]+'\x20('+this['instance'][_0x8e76db(0x537)]+_0x8e76db(0x60f)+JSON['stringify'](_0x3e25a5,null,0x2));}}async[a0_0x22fdc2(0x614)](_0x307fc3,_0x261b27){const _0x13f653=a0_0x22fdc2;let _0x3d86d9=_0x307fc3[_0x13f653(0x1db)];_0x261b27[_0x13f653(0x467)][_0x13f653(0x1db)]&&_0x261b27[_0x13f653(0x467)][_0x13f653(0x1db)][_0x13f653(0x6f7)]()!==''&&(_0x3d86d9=_0x261b27['uazapi'][_0x13f653(0x1db)][_0x13f653(0x6f7)]()),this['logger'][_0x13f653(0x31e)](this[_0x13f653(0x5d2)]+'\x20('+this[_0x13f653(0x655)]['wuid']+'):\x20Enviando\x20mídia');let _0x2ee698={'number':_0x3d86d9,'options':{'delay':_0x261b27[_0x13f653(0x467)]['delay']},'mediaMessage':{'mediatype':_0x261b27[_0x13f653(0x467)][_0x13f653(0x4a3)],'caption':_0x261b27[_0x13f653(0x467)]['caption'],'media':_0x261b27[_0x13f653(0x467)][_0x13f653(0x4b9)],'fileName':_0x261b27[_0x13f653(0x467)][_0x13f653(0x543)]}};try{let _0x596901=await this[_0x13f653(0x790)](_0x2ee698);if(_0x596901){let _0x5eeb43={'_id':_0x596901['key']['id'],'_fromMe':_0x596901[_0x13f653(0x4a1)][_0x13f653(0x3d1)],'_remoteJid':_0x596901[_0x13f653(0x4a1)]['remoteJid']};_0x307fc3[_0x13f653(0x1d9)][_0x13f653(0x73b)]=_0x261b27['_id'][_0x13f653(0x78b)]();let {message_normalized:_0x334417}=this[_0x13f653(0x661)](_0x596901[_0x13f653(0x649)],_(_0x596901[_0x13f653(0x649)]),null);_0x307fc3[_0x13f653(0x1d9)][_0x13f653(0x5eb)]=await _0x334417;let _0x7965d2={'messageId':_0x596901['key']['id']},_0x462d65=_0x307fc3[_0x13f653(0x1d9)]['realVariables'];Object[_0x13f653(0x42b)](_0x462d65,_0x5eeb43),_0x307fc3[_0x13f653(0x1d9)][_0x13f653(0x552)]=_0x462d65,this['updateConversation'](_0x307fc3,_0x261b27,_0x7965d2);}else{let _0x5dd197={'error':!0x0};this[_0x13f653(0x26d)](_0x307fc3,_0x261b27,_0x5dd197),this[_0x13f653(0x3e1)][_0x13f653(0x367)](this[_0x13f653(0x5d2)]+'\x20('+this['instance'][_0x13f653(0x537)]+_0x13f653(0x29f));}}catch(_0x59e8e4){let _0x2819a6={'error':!0x0,'errorLog':_0x59e8e4[_0x13f653(0x78b)]()};this[_0x13f653(0x26d)](_0x307fc3,_0x261b27,_0x2819a6),this[_0x13f653(0x3e1)]['error'](this[_0x13f653(0x5d2)]+'\x20('+this[_0x13f653(0x655)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+JSON['stringify'](_0x59e8e4,null,0x2));}}async[a0_0x22fdc2(0x3b0)](_0x4383ef,_0x2a0715){const _0x4157bb=a0_0x22fdc2;let _0x206bc6=_0x4383ef['remoteJid'];_0x2a0715['uazapi'][_0x4157bb(0x1db)]&&_0x2a0715[_0x4157bb(0x467)][_0x4157bb(0x1db)]['trim']()!==''&&(_0x206bc6=_0x2a0715[_0x4157bb(0x467)][_0x4157bb(0x1db)][_0x4157bb(0x6f7)]()),this[_0x4157bb(0x3e1)][_0x4157bb(0x31e)](this['instanceName']+'\x20('+this['instance'][_0x4157bb(0x537)]+_0x4157bb(0x4af));let _0x1050fc={'number':_0x206bc6,'options':{'delay':_0x2a0715[_0x4157bb(0x467)]['delay']},'locationMessage':{'name':_0x2a0715[_0x4157bb(0x467)][_0x4157bb(0x5a6)],'address':_0x2a0715[_0x4157bb(0x467)][_0x4157bb(0x297)],'latitude':_0x2a0715[_0x4157bb(0x467)][_0x4157bb(0x5e4)],'longitude':_0x2a0715[_0x4157bb(0x467)][_0x4157bb(0x64e)]}};try{let _0x230b45=await this[_0x4157bb(0x578)](_0x1050fc);if(_0x230b45){let _0x25b390={'_id':_0x230b45['key']['id'],'_fromMe':_0x230b45[_0x4157bb(0x4a1)][_0x4157bb(0x3d1)],'_remoteJid':_0x230b45['key']['remoteJid']};_0x4383ef[_0x4157bb(0x1d9)][_0x4157bb(0x73b)]=_0x2a0715[_0x4157bb(0x762)][_0x4157bb(0x78b)]();let {message_normalized:_0x4957fb}=this[_0x4157bb(0x661)](_0x230b45['message'],_(_0x230b45[_0x4157bb(0x649)]),null);_0x4383ef[_0x4157bb(0x1d9)]['lastSendMessage']=await _0x4957fb;let _0x73168={'messageId':_0x230b45['key']['id']},_0x18c6dd=_0x4383ef[_0x4157bb(0x1d9)]['realVariables'];Object['assign'](_0x18c6dd,_0x25b390),_0x4383ef['chatLog']['realVariables']=_0x18c6dd,this[_0x4157bb(0x26d)](_0x4383ef,_0x2a0715,_0x73168);}else{let _0x36d1ff={'error':!0x0};this[_0x4157bb(0x26d)](_0x4383ef,_0x2a0715,_0x36d1ff),this[_0x4157bb(0x3e1)][_0x4157bb(0x367)](this[_0x4157bb(0x5d2)]+'\x20('+this['instance'][_0x4157bb(0x537)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x2d065c){let _0x1ba833={'error':!0x0,'errorLog':_0x2d065c[_0x4157bb(0x78b)]()};this[_0x4157bb(0x26d)](_0x4383ef,_0x2a0715,_0x1ba833),this[_0x4157bb(0x3e1)]['error'](this[_0x4157bb(0x5d2)]+'\x20('+this[_0x4157bb(0x655)][_0x4157bb(0x537)]+_0x4157bb(0x3bd)+JSON['stringify'](_0x2d065c,null,0x2));}}async[a0_0x22fdc2(0x2a1)](_0x5eda7e,_0x58f0d9){const _0x5d24d2=a0_0x22fdc2;let _0x5db3ff=_0x5eda7e['remoteJid'];_0x58f0d9[_0x5d24d2(0x467)][_0x5d24d2(0x1db)]&&_0x58f0d9[_0x5d24d2(0x467)][_0x5d24d2(0x1db)][_0x5d24d2(0x6f7)]()!==''&&(_0x5db3ff=_0x58f0d9[_0x5d24d2(0x467)][_0x5d24d2(0x1db)][_0x5d24d2(0x6f7)]()),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5d24d2(0x655)]['wuid']+_0x5d24d2(0x3b9));let _0x4499f4={'number':_0x5db3ff,'options':{'delay':_0x58f0d9[_0x5d24d2(0x467)][_0x5d24d2(0x2ac)]},'audioMessage':{'audio':_0x58f0d9[_0x5d24d2(0x467)][_0x5d24d2(0x280)]}};try{let _0x25bfcd=await this[_0x5d24d2(0x2f6)](_0x4499f4);if(_0x25bfcd){let _0x1b1f25={'_id':_0x25bfcd['key']['id'],'_fromMe':_0x25bfcd[_0x5d24d2(0x4a1)][_0x5d24d2(0x3d1)],'_remoteJid':_0x25bfcd[_0x5d24d2(0x4a1)][_0x5d24d2(0x1db)]};_0x5eda7e[_0x5d24d2(0x1d9)][_0x5d24d2(0x73b)]=_0x58f0d9[_0x5d24d2(0x762)][_0x5d24d2(0x78b)]();let {message_normalized:_0x8edb21}=this[_0x5d24d2(0x661)](_0x25bfcd[_0x5d24d2(0x649)],_(_0x25bfcd['message']),null);_0x5eda7e['chatLog'][_0x5d24d2(0x5eb)]=await _0x8edb21;let _0x18872a={'messageId':_0x25bfcd[_0x5d24d2(0x4a1)]['id']},_0x109f95=_0x5eda7e[_0x5d24d2(0x1d9)][_0x5d24d2(0x552)];Object[_0x5d24d2(0x42b)](_0x109f95,_0x1b1f25),_0x5eda7e['chatLog']['realVariables']=_0x109f95,this[_0x5d24d2(0x26d)](_0x5eda7e,_0x58f0d9,_0x18872a);}else{let _0x470502={'error':!0x0};this['updateConversation'](_0x5eda7e,_0x58f0d9,_0x470502),this[_0x5d24d2(0x3e1)][_0x5d24d2(0x367)](this[_0x5d24d2(0x5d2)]+'\x20('+this[_0x5d24d2(0x655)]['wuid']+_0x5d24d2(0x2e1));}}catch(_0x53b52f){let _0x577df3={'error':!0x0,'errorLog':_0x53b52f[_0x5d24d2(0x78b)]()};this[_0x5d24d2(0x26d)](_0x5eda7e,_0x58f0d9,_0x577df3),this[_0x5d24d2(0x3e1)][_0x5d24d2(0x367)](this[_0x5d24d2(0x5d2)]+'\x20('+this[_0x5d24d2(0x655)][_0x5d24d2(0x537)]+_0x5d24d2(0x498)+JSON[_0x5d24d2(0x2c1)](_0x53b52f,null,0x2));}}async['uazapiSendContact'](_0x64259d,_0x620a59){const _0x3d53e8=a0_0x22fdc2;let _0x2531f4=_0x64259d[_0x3d53e8(0x1db)];_0x620a59[_0x3d53e8(0x467)]['remoteJid']&&_0x620a59[_0x3d53e8(0x467)][_0x3d53e8(0x1db)]['trim']()!==''&&(_0x2531f4=_0x620a59[_0x3d53e8(0x467)][_0x3d53e8(0x1db)]['trim']()),this[_0x3d53e8(0x3e1)][_0x3d53e8(0x31e)](this[_0x3d53e8(0x5d2)]+'\x20('+this[_0x3d53e8(0x655)][_0x3d53e8(0x537)]+_0x3d53e8(0x214));let _0x32609f={'number':_0x2531f4,'options':{'delay':_0x620a59[_0x3d53e8(0x467)][_0x3d53e8(0x2ac)]},'contactMessage':[{'fullName':_0x620a59[_0x3d53e8(0x467)][_0x3d53e8(0x247)],'phoneNumber':_0x620a59['uazapi'][_0x3d53e8(0x1cd)]}]};try{let _0x394b43=await this['contactMessage'](_0x32609f);if(_0x394b43){let _0x329b60={'_id':_0x394b43[_0x3d53e8(0x4a1)]['id'],'_fromMe':_0x394b43[_0x3d53e8(0x4a1)][_0x3d53e8(0x3d1)],'_remoteJid':_0x394b43['key'][_0x3d53e8(0x1db)]};_0x64259d[_0x3d53e8(0x1d9)][_0x3d53e8(0x73b)]=_0x620a59['_id'][_0x3d53e8(0x78b)]();let {message_normalized:_0x519eb9}=this[_0x3d53e8(0x661)](_0x394b43['message'],_(_0x394b43[_0x3d53e8(0x649)]),null);_0x64259d['chatLog']['lastSendMessage']=await _0x519eb9;let _0x1cb6a9={'messageId':_0x394b43[_0x3d53e8(0x4a1)]['id']},_0x25aac1=_0x64259d['chatLog'][_0x3d53e8(0x552)];Object[_0x3d53e8(0x42b)](_0x25aac1,_0x329b60),_0x64259d[_0x3d53e8(0x1d9)][_0x3d53e8(0x552)]=_0x25aac1,this[_0x3d53e8(0x26d)](_0x64259d,_0x620a59,_0x1cb6a9);}else{let _0x4fd040={'error':!0x0};this[_0x3d53e8(0x26d)](_0x64259d,_0x620a59,_0x4fd040),this[_0x3d53e8(0x3e1)][_0x3d53e8(0x367)](this[_0x3d53e8(0x5d2)]+'\x20('+this['instance'][_0x3d53e8(0x537)]+_0x3d53e8(0x61d));}}catch(_0x3b525a){let _0x2e0c2b={'error':!0x0,'errorLog':_0x3b525a[_0x3d53e8(0x78b)]()};this[_0x3d53e8(0x26d)](_0x64259d,_0x620a59,_0x2e0c2b),this['logger'][_0x3d53e8(0x367)](this['instanceName']+'\x20('+this[_0x3d53e8(0x655)][_0x3d53e8(0x537)]+_0x3d53e8(0x47e)+JSON[_0x3d53e8(0x2c1)](_0x3b525a,null,0x2));}}[a0_0x22fdc2(0x510)](_0x3ddacc,_0x358aa5){const _0x404f8f=a0_0x22fdc2;for(let _0x19f119 of _0x3ddacc)_0x19f119[_0x404f8f(0x26b)]&&(_0x19f119[_0x404f8f(0x26b)]=this[_0x404f8f(0x2b1)](_0x19f119[_0x404f8f(0x26b)],_0x358aa5)),_0x19f119[_0x404f8f(0x2be)]&&(_0x19f119[_0x404f8f(0x2be)]=this['replaceVariables'](_0x19f119[_0x404f8f(0x2be)],_0x358aa5));}async[a0_0x22fdc2(0x4d6)](_0x158ddf,_0x10e643){const _0x507313=a0_0x22fdc2;let _0x247222=_0x158ddf['remoteJid'];_0x10e643[_0x507313(0x467)][_0x507313(0x1db)]&&_0x10e643[_0x507313(0x467)][_0x507313(0x1db)][_0x507313(0x6f7)]()!==''&&(_0x247222=_0x10e643[_0x507313(0x467)][_0x507313(0x1db)][_0x507313(0x6f7)]()),this['logger'][_0x507313(0x31e)](this[_0x507313(0x5d2)]+'\x20('+this[_0x507313(0x655)]['wuid']+'):\x20Enviando\x20enquete');let _0x673d8f=_0x158ddf[_0x507313(0x4dc)][_0x507313(0x4e1)](_0x1a538e=>_0x1a538e[_0x507313(0x2ef)]===_0x10e643[_0x507313(0x762)])[_0x507313(0x698)]((_0x18f871,_0x151510)=>_0x18f871[_0x507313(0x764)]-_0x151510[_0x507313(0x764)]);this[_0x507313(0x510)](_0x673d8f,_0x158ddf[_0x507313(0x1d9)][_0x507313(0x552)]);let _0x488da3=_0x673d8f[_0x507313(0x2d7)](_0x5b2d54=>_0x5b2d54[_0x507313(0x26b)]),_0x4db7f7={'number':_0x247222,'menuMessage':{'type':_0x10e643[_0x507313(0x467)][_0x507313(0x734)]||_0x507313(0x298),'text':_0x10e643['uazapi'][_0x507313(0x70b)]||_0x10e643[_0x507313(0x467)][_0x507313(0x5a6)],'footerText':_0x10e643['uazapi']['footerText'],'buttonText':_0x10e643[_0x507313(0x467)][_0x507313(0x6a7)],'selectableCount':0x1,'choices':_0x488da3},'options':{'delay':_0x10e643[_0x507313(0x467)][_0x507313(0x2ac)]}};try{let _0x1867c4=await this['menuMessage'](_0x4db7f7);if(_0x1867c4){let _0xf7cd6e={'_id':_0x1867c4[_0x507313(0x4a1)]['id'],'_fromMe':_0x1867c4['key'][_0x507313(0x3d1)],'_remoteJid':_0x1867c4[_0x507313(0x4a1)][_0x507313(0x1db)]};_0x10e643['uazapi'][_0x507313(0x5f1)]===!0x0&&(_0x158ddf[_0x507313(0x592)]=_0x507313(0x50f),this['logger'][_0x507313(0x31e)](this[_0x507313(0x5d2)]+'\x20('+this[_0x507313(0x655)][_0x507313(0x537)]+'):\x20conversation.status:\x20'+_0x158ddf['status'])),this['logger'][_0x507313(0x31e)](this[_0x507313(0x5d2)]+'\x20('+this[_0x507313(0x655)]['wuid']+_0x507313(0x2d9)+(_0x10e643[_0x507313(0x467)][_0x507313(0x5a6)]||_0x10e643['uazapi']['text'])),_0x158ddf[_0x507313(0x3a7)]=_0x1867c4['key']['id'],_0x158ddf['waitingMenu_text']=_0x10e643[_0x507313(0x467)][_0x507313(0x5a6)]||_0x10e643['uazapi']['text'],_0x158ddf[_0x507313(0x53e)]=_0x673d8f,_0x10e643['uazapi'][_0x507313(0x5c9)]&&(_0x158ddf[_0x507313(0x604)]=_0x10e643[_0x507313(0x467)]['menuExpiredMessage']),this[_0x507313(0x3e1)][_0x507313(0x31e)](this[_0x507313(0x5d2)]+'\x20('+this[_0x507313(0x655)][_0x507313(0x537)]+_0x507313(0x6db)+_0x158ddf[_0x507313(0x752)]),_0x158ddf[_0x507313(0x1d9)][_0x507313(0x73b)]=_0x10e643[_0x507313(0x762)]['toString']();let {message_normalized:_0x4b0a94}=this[_0x507313(0x661)](_0x1867c4[_0x507313(0x649)],_(_0x1867c4[_0x507313(0x649)]),null);_0x158ddf[_0x507313(0x1d9)]['lastSendMessage']=await _0x4b0a94;let _0x403f99={'messageId':_0x1867c4[_0x507313(0x4a1)]['id']},_0xa4e25d=_0x158ddf[_0x507313(0x1d9)]['realVariables'];Object[_0x507313(0x42b)](_0xa4e25d,_0xf7cd6e),_0x158ddf[_0x507313(0x1d9)]['realVariables']=_0xa4e25d,this[_0x507313(0x26d)](_0x158ddf,_0x10e643,_0x403f99);}else{let _0x2f1411={'error':!0x0};this[_0x507313(0x26d)](_0x158ddf,_0x10e643,_0x2f1411),this['logger']['error'](this['instanceName']+'\x20('+this[_0x507313(0x655)]['wuid']+_0x507313(0x1fa));}}catch(_0x12f5cb){let _0x406fc7={'error':!0x0,'errorLog':JSON[_0x507313(0x2c1)](_0x12f5cb,null,0x2)};this['updateConversation'](_0x158ddf,_0x10e643,_0x406fc7),this[_0x507313(0x3e1)]['error'](this[_0x507313(0x5d2)]+'\x20('+this['instance'][_0x507313(0x537)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+JSON['stringify'](_0x12f5cb,null,0x2));}}async[a0_0x22fdc2(0x364)](_0x333d8a,_0x2e090e){const _0x193eff=a0_0x22fdc2;this[_0x193eff(0x3e1)][_0x193eff(0x31e)](this[_0x193eff(0x5d2)]+'\x20('+this[_0x193eff(0x655)]['wuid']+_0x193eff(0x5bc));let _0x3018ab=_0x333d8a[_0x193eff(0x1d9)][_0x193eff(0x4c7)][_0x193eff(0x631)](_0x2f25bb=>_0x2f25bb['blockId'][_0x193eff(0x78b)]()===_0x2e090e[_0x193eff(0x467)]['blockId']['toString']()),_0x29d2ce={'id':_0x3018ab['messageId'],'remoteJid':_0x3018ab[_0x193eff(0x1db)],'fromMe':_0x3018ab[_0x193eff(0x3d1)]};try{let _0x25536f=await this[_0x193eff(0x407)](_0x29d2ce);if(_0x25536f){_0x333d8a['chatLog'][_0x193eff(0x73b)]=_0x2e090e[_0x193eff(0x762)][_0x193eff(0x78b)]();let {message_normalized:_0x516edd}=this[_0x193eff(0x661)](_0x25536f[_0x193eff(0x649)],_(_0x25536f[_0x193eff(0x649)]),null);_0x333d8a[_0x193eff(0x1d9)][_0x193eff(0x5eb)]=await _0x516edd;let _0x2e30b1={};this[_0x193eff(0x26d)](_0x333d8a,_0x2e090e,_0x2e30b1);}else{let _0x4d5ddf={'error':!0x0};this['updateConversation'](_0x333d8a,_0x2e090e,_0x4d5ddf),this[_0x193eff(0x3e1)][_0x193eff(0x367)](this[_0x193eff(0x5d2)]+'\x20('+this[_0x193eff(0x655)][_0x193eff(0x537)]+_0x193eff(0x5f8));}}catch(_0x4be7be){let _0x11ec00={'error':!0x0,'errorLog':JSON['stringify'](_0x4be7be,null,0x2)};this['updateConversation'](_0x333d8a,_0x2e090e,_0x11ec00),this['logger']['error'](this['instanceName']+'\x20('+this[_0x193eff(0x655)][_0x193eff(0x537)]+_0x193eff(0x637)+JSON[_0x193eff(0x2c1)](_0x4be7be,null,0x2));}}async[a0_0x22fdc2(0x314)](_0x5e02b2){const _0x339b95=a0_0x22fdc2;try{if(this[_0x339b95(0x3e1)][_0x339b95(0x31e)](this['instanceName']+'\x20('+this['instance'][_0x339b95(0x537)]+_0x339b95(0x749)),await I[_0x339b95(0x2ce)]({'owner':this[_0x339b95(0x655)][_0x339b95(0x537)],'name':_0x5e02b2[_0x339b95(0x5a6)]}))return{'message':_0x339b95(0x476)};_0x5e02b2['default']===!0x0&&await I[_0x339b95(0x2f0)]({'owner':this[_0x339b95(0x655)]['wuid']},{'default':!0x1});let _0x4cbb1d=new pe[(_0x339b95(0x78f))][(_0x339b95(0x2a3))](),_0x5c9b1c={'_id':_0x4cbb1d,'default':!0x0,'title':'Início','x':0x0,'y':0x0},_0x4c6663={'_id':new pe['Types'][(_0x339b95(0x2a3))](),'order':0x1,'groupId':_0x4cbb1d[_0x339b95(0x78b)](),'type':_0x339b95(0x65b)};return await I[_0x339b95(0x3c0)]({'owner':this[_0x339b95(0x655)][_0x339b95(0x537)],'name':_0x5e02b2[_0x339b95(0x5a6)],'groups':[_0x5c9b1c],'blocks':[_0x4c6663],..._0x5e02b2});}catch(_0xf74162){throw this[_0x339b95(0x3e1)]['error'](this['instanceName']+'\x20('+this[_0x339b95(0x655)][_0x339b95(0x537)]+_0x339b95(0x339)+JSON[_0x339b95(0x2c1)](_0xf74162,null,0x2)),new g(_0x339b95(0x4dd)+_0xf74162);}}async[a0_0x22fdc2(0x312)](_0x131837){const _0x34ddac=a0_0x22fdc2;try{return this[_0x34ddac(0x3e1)][_0x34ddac(0x31e)](this[_0x34ddac(0x5d2)]+'\x20('+this[_0x34ddac(0x655)][_0x34ddac(0x537)]+'):\x20Deletando\x20fluxo...'),await I[_0x34ddac(0x51d)]({'owner':this[_0x34ddac(0x655)][_0x34ddac(0x537)],'name':_0x131837});}catch(_0x5e0ae4){return this['logger'][_0x34ddac(0x367)](this[_0x34ddac(0x5d2)]+'\x20('+this[_0x34ddac(0x655)][_0x34ddac(0x537)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+JSON[_0x34ddac(0x2c1)](_0x5e0ae4,null,0x2)),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+_0x5e0ae4};}}async[a0_0x22fdc2(0x3ee)](_0x4f22fc){const _0x484546=a0_0x22fdc2;try{this['logger'][_0x484546(0x31e)](this[_0x484546(0x5d2)]+'\x20('+this[_0x484546(0x655)]['wuid']+_0x484546(0x525));let _0x27803c=await I[_0x484546(0x2ce)]({'owner':this[_0x484546(0x655)]['wuid'],'name':_0x4f22fc});if(!_0x27803c)throw new Error(_0x484546(0x6ca));if(!this['AutomateSystem']&&(await this[_0x484546(0x261)](),!this['AutomateSystem']))return null;let _0x30db80=this[_0x484546(0x6a3)]?.[_0x484546(0x489)][_0x484546(0x2d7)](_0x31ae06=>_0x31ae06[_0x484546(0x5a6)]),_0x40592f=[_0x484546(0x29c),_0x484546(0x5df),_0x484546(0x65d),_0x484546(0x527),_0x484546(0x592),_0x484546(0x5c1),_0x484546(0x45c),_0x484546(0x787)];return _0x27803c['variables']=_0x27803c[_0x484546(0x5bb)][_0x484546(0x4e1)](_0x3f12ec=>!(_0x3f12ec[_0x484546(0x3db)]===_0x484546(0x4d5)||_0x3f12ec[_0x484546(0x4d5)])),_0x40592f[_0x484546(0x3a1)](_0x36b171=>{const _0x153a57=_0x484546;_0x27803c[_0x153a57(0x5bb)][_0x153a57(0x23d)]({'folder':_0x153a57(0x4d5),'name':_0x36b171,'value':'','doc':'','leadInfo':!0x0});}),_0x30db80['forEach'](_0x54977d=>{const _0x595659=_0x484546;let _0x546f4e=_0x27803c['variables'][_0x595659(0x786)](_0x2363be=>_0x2363be['name']===_0x54977d);_0x546f4e===-0x1?_0x27803c[_0x595659(0x5bb)][_0x595659(0x23d)]({'folder':'leadInfo','name':_0x54977d,'value':'','doc':'','leadInfo':!0x0}):(_0x27803c[_0x595659(0x5bb)][_0x546f4e][_0x595659(0x3db)]='leadInfo',_0x27803c[_0x595659(0x5bb)][_0x546f4e][_0x595659(0x4d5)]=!0x0);}),_0x27803c[_0x484546(0x773)]&&_0x27803c[_0x484546(0x773)]['length']>0x0&&_0x27803c['blocks'][_0x484546(0x3a1)](_0x421d3c=>{const _0x4f405d=_0x484546;_0x421d3c['groupId']&&_0x421d3c[_0x4f405d(0x5cb)]&&_0x421d3c[_0x4f405d(0x28c)]===_0x421d3c['next_groupId']&&(_0x421d3c[_0x4f405d(0x5cb)]=null);}),await _0x27803c[_0x484546(0x5ab)](),_0x27803c;}catch(_0x20fd1b){throw this[_0x484546(0x3e1)][_0x484546(0x367)](this[_0x484546(0x5d2)]+'\x20('+this['instance'][_0x484546(0x537)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+JSON[_0x484546(0x2c1)](_0x20fd1b,null,0x2)),new g('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x20fd1b);}}async[a0_0x22fdc2(0x6ae)](){const _0x26bda7=a0_0x22fdc2;try{return this[_0x26bda7(0x3e1)][_0x26bda7(0x31e)](this['instanceName']+'\x20('+this[_0x26bda7(0x655)]['wuid']+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await I['find']({'owner':this[_0x26bda7(0x655)]['wuid']});}catch(_0x25decc){return this[_0x26bda7(0x3e1)][_0x26bda7(0x367)](this['instanceName']+'\x20('+this[_0x26bda7(0x655)][_0x26bda7(0x537)]+_0x26bda7(0x1d2)+JSON[_0x26bda7(0x2c1)](_0x25decc,null,0x2)),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x25decc};}}async['editFlow'](_0x136523){const _0x58da96=a0_0x22fdc2;try{this[_0x58da96(0x3e1)][_0x58da96(0x31e)](this[_0x58da96(0x5d2)]+'\x20('+this[_0x58da96(0x655)][_0x58da96(0x537)]+_0x58da96(0x34b));let _0x278c67=await I[_0x58da96(0x2ce)]({'owner':this['instance'][_0x58da96(0x537)],'name':_0x136523['name']});if(!_0x278c67)return{'message':_0x58da96(0x1d3)};if(_0x136523[_0x58da96(0x421)]===!0x0&&await I['updateMany']({'owner':this[_0x58da96(0x655)][_0x58da96(0x537)]},{'default':!0x1}),_0x136523[_0x58da96(0x669)]){if(await I[_0x58da96(0x2ce)]({'owner':this[_0x58da96(0x655)][_0x58da96(0x537)],'name':_0x136523['newName']}))return{'message':_0x58da96(0x240)};_0x136523['name']=_0x136523[_0x58da96(0x669)],delete _0x136523[_0x58da96(0x669)];}return await I[_0x58da96(0x24b)](_0x278c67[_0x58da96(0x762)],{'$set':_0x136523},{'new':!0x0});}catch(_0x58260e){throw this[_0x58da96(0x3e1)][_0x58da96(0x367)](this['instanceName']+'\x20('+this[_0x58da96(0x655)][_0x58da96(0x537)]+_0x58da96(0x491)+JSON[_0x58da96(0x2c1)](_0x58260e,null,0x2)),new g('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+JSON['stringify'](_0x58260e,null,0x2));}}async['editFlowBlock'](_0x26b14c){const _0x1bbb64=a0_0x22fdc2;try{this[_0x1bbb64(0x3e1)][_0x1bbb64(0x31e)](this[_0x1bbb64(0x5d2)]+'\x20('+this[_0x1bbb64(0x655)][_0x1bbb64(0x537)]+'):\x20Editando\x20bloco...');let _0xb25aa1={'owner':this[_0x1bbb64(0x655)][_0x1bbb64(0x537)],'name':_0x26b14c['name']},_0x2d636b=await I[_0x1bbb64(0x2ce)](_0xb25aa1);_0x2d636b||this['throwAndLogError'](_0x1bbb64(0x6ca));let {block:_0x171898}=_0x26b14c;return _0x171898?.[_0x1bbb64(0x284)]?this[_0x1bbb64(0x3f6)](_0x2d636b,_0x26b14c):_0x171898?.[_0x1bbb64(0x6ad)]?this[_0x1bbb64(0x41f)](_0x2d636b,_0x26b14c):_0x171898[_0x1bbb64(0x762)]?await this['updateBlock'](_0x2d636b,_0x26b14c):this[_0x1bbb64(0x1f4)](_0x2d636b,_0x26b14c),await _0x2d636b[_0x1bbb64(0x5ab)](),_0x2d636b;}catch(_0x7c2080){this[_0x1bbb64(0x747)](_0x1bbb64(0x27e)+_0x7c2080);}}async['copyBlock'](_0x3c0283,_0x356e0c){const _0x4fa045=a0_0x22fdc2;let _0x258cc5=_0x356e0c['block'][_0x4fa045(0x762)],_0x249536=_0x3c0283['blocks']['find'](_0x139b8b=>_0x139b8b[_0x4fa045(0x762)][_0x4fa045(0x78b)]()===_0x258cc5);if(!_0x249536){this[_0x4fa045(0x3e1)][_0x4fa045(0x367)](this[_0x4fa045(0x5d2)]+'\x20('+this[_0x4fa045(0x655)]['wuid']+_0x4fa045(0x4ae)+_0x258cc5+_0x4fa045(0x6c6));return;}this['logger']['verbose'](this[_0x4fa045(0x5d2)]+'\x20('+this[_0x4fa045(0x655)][_0x4fa045(0x537)]+_0x4fa045(0x795)+JSON[_0x4fa045(0x2c1)](_0x249536));let _0xea7ce8=JSON['parse'](JSON[_0x4fa045(0x2c1)](_0x249536));_0xea7ce8[_0x4fa045(0x762)]=new pe[(_0x4fa045(0x421))][(_0x4fa045(0x78f))][(_0x4fa045(0x2a3))](),this[_0x4fa045(0x3e1)]['verbose'](this[_0x4fa045(0x5d2)]+'\x20('+this[_0x4fa045(0x655)]['wuid']+_0x4fa045(0x632)+JSON[_0x4fa045(0x2c1)](_0xea7ce8)),_0x3c0283[_0x4fa045(0x773)][_0x4fa045(0x23d)](_0xea7ce8),this[_0x4fa045(0x45f)](_0x3c0283[_0x4fa045(0x773)],_0xea7ce8['groupId']);}['throwAndLogError'](_0x101b42){const _0x2ad1d4=a0_0x22fdc2;throw this['logger']['error'](this[_0x2ad1d4(0x5d2)]+'\x20('+this[_0x2ad1d4(0x655)][_0x2ad1d4(0x537)]+_0x2ad1d4(0x6f5)+_0x101b42),new g(_0x101b42);}[a0_0x22fdc2(0x41f)](_0x1a4128,_0x380622){const _0x5e043e=a0_0x22fdc2;let {block:_0x3a953c}=_0x380622;if(_0x3a953c['type']===_0x5e043e(0x65b)){this[_0x5e043e(0x747)](_0x5e043e(0x761));return;}if(!_0x3a953c['_id']){this['throwAndLogError'](_0x5e043e(0x3c2));return;}let _0x42fd5c=_0x1a4128[_0x5e043e(0x773)][_0x5e043e(0x631)](_0x4c6290=>_0x4c6290['_id']['toString']()===_0x380622[_0x5e043e(0x503)][_0x5e043e(0x762)]['toString']());if(!_0x42fd5c){this[_0x5e043e(0x747)]('Bloco\x20com\x20ID\x20'+_0x3a953c[_0x5e043e(0x762)]+_0x5e043e(0x4aa));return;}_0x1a4128[_0x5e043e(0x773)]=_0x1a4128['blocks'][_0x5e043e(0x4e1)](_0x2dc017=>_0x2dc017[_0x5e043e(0x762)][_0x5e043e(0x78b)]()!==_0x380622[_0x5e043e(0x503)][_0x5e043e(0x762)]['toString']()),_0x1a4128[_0x5e043e(0x6bb)]=_0x1a4128['conditions'][_0x5e043e(0x4e1)](_0x41e586=>_0x41e586[_0x5e043e(0x2ef)]!==_0x3a953c[_0x5e043e(0x762)][_0x5e043e(0x78b)]()),_0x1a4128['varedits']=_0x1a4128[_0x5e043e(0x554)][_0x5e043e(0x4e1)](_0x40e4d1=>_0x40e4d1['blockId']!==_0x3a953c[_0x5e043e(0x762)][_0x5e043e(0x78b)]()),_0x1a4128[_0x5e043e(0x4dc)]=_0x1a4128[_0x5e043e(0x4dc)][_0x5e043e(0x4e1)](_0x2e8bf1=>_0x2e8bf1[_0x5e043e(0x2ef)]!==_0x3a953c[_0x5e043e(0x762)][_0x5e043e(0x78b)]()),this[_0x5e043e(0x45f)](_0x1a4128[_0x5e043e(0x773)],_0x42fd5c[_0x5e043e(0x28c)]);}async['updateBlock'](_0x2ba0e1,_0x419fb1){const _0x12c85e=a0_0x22fdc2;let _0x25a84e=_0x2ba0e1[_0x12c85e(0x773)][_0x12c85e(0x786)](_0x25b7c9=>_0x25b7c9[_0x12c85e(0x762)][_0x12c85e(0x78b)]()===_0x419fb1[_0x12c85e(0x503)][_0x12c85e(0x762)]['toString']());if(this[_0x12c85e(0x3e1)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x25a84e),_0x25a84e===-0x1){this['logger'][_0x12c85e(0x31e)]('Bloco\x20com\x20ID\x20'+_0x419fb1[_0x12c85e(0x503)][_0x12c85e(0x762)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x2ba0e1[_0x12c85e(0x773)][_0x25a84e][_0x12c85e(0x73e)]==='start'){let _0x44fde3=Object['keys'](_0x419fb1[_0x12c85e(0x503)]);if(_0x44fde3[_0x12c85e(0x44c)]>0x2||_0x44fde3[_0x12c85e(0x44c)]===0x2&&!_0x44fde3['includes']('next_groupId')){this[_0x12c85e(0x747)](_0x12c85e(0x278));return;}}let _0x38bb2c=_0x2ba0e1[_0x12c85e(0x773)][_0x25a84e][_0x12c85e(0x28c)];for(let _0x20adf3 in _0x419fb1[_0x12c85e(0x503)])_0x419fb1[_0x12c85e(0x503)][_0x12c85e(0x244)](_0x20adf3)&&(_0x2ba0e1[_0x12c85e(0x773)][_0x25a84e][_0x20adf3]=_0x419fb1[_0x12c85e(0x503)][_0x20adf3]);if(this[_0x12c85e(0x3e1)][_0x12c85e(0x31e)](this[_0x12c85e(0x5d2)]+'\x20('+this[_0x12c85e(0x655)]['wuid']+_0x12c85e(0x5a3)+JSON[_0x12c85e(0x2c1)](_0x2ba0e1[_0x12c85e(0x773)][_0x25a84e])),_0x2ba0e1[_0x12c85e(0x773)][_0x25a84e][_0x12c85e(0x5e3)]&&_0x12c85e(0x6d8)in _0x2ba0e1[_0x12c85e(0x773)][_0x25a84e][_0x12c85e(0x5e3)]){this[_0x12c85e(0x3e1)][_0x12c85e(0x31e)](this[_0x12c85e(0x5d2)]+'\x20('+this[_0x12c85e(0x655)][_0x12c85e(0x537)]+_0x12c85e(0x686));let _0x3c67aa=JSON[_0x12c85e(0x2c1)](_0x2ba0e1[_0x12c85e(0x773)][_0x25a84e][_0x12c85e(0x5e3)][_0x12c85e(0x6d8)],null,0x1);_0x3c67aa['length']>0x2&&(_0x3c67aa=_0x3c67aa['substring'](0x1,_0x3c67aa['length']-0x1)[_0x12c85e(0x6f7)]()),_0x2ba0e1[_0x12c85e(0x773)][_0x25a84e][_0x12c85e(0x5e3)]['headerString']=_0x3c67aa;}if(_0x2ba0e1['blocks'][_0x25a84e][_0x12c85e(0x5e3)]&&'body'in _0x2ba0e1['blocks'][_0x25a84e][_0x12c85e(0x5e3)]){this[_0x12c85e(0x3e1)]['verbose'](this[_0x12c85e(0x5d2)]+'\x20('+this['instance'][_0x12c85e(0x537)]+_0x12c85e(0x73f));let _0x5cad7f=JSON[_0x12c85e(0x2c1)](_0x2ba0e1[_0x12c85e(0x773)][_0x25a84e][_0x12c85e(0x5e3)][_0x12c85e(0x672)],null,0x1);_0x5cad7f[_0x12c85e(0x44c)]>0x2&&(_0x5cad7f=_0x5cad7f[_0x12c85e(0x4a2)](0x1,_0x5cad7f[_0x12c85e(0x44c)]-0x1)[_0x12c85e(0x6f7)]()),_0x2ba0e1['blocks'][_0x25a84e]['apirequest'][_0x12c85e(0x746)]=_0x5cad7f;}let _0x1a5f13=_0x2ba0e1[_0x12c85e(0x773)][_0x25a84e][_0x12c85e(0x28c)];_0x38bb2c!==_0x1a5f13?(this[_0x12c85e(0x45f)](_0x2ba0e1[_0x12c85e(0x773)],_0x38bb2c),this[_0x12c85e(0x45f)](_0x2ba0e1['blocks'],_0x1a5f13)):this[_0x12c85e(0x45f)](_0x2ba0e1[_0x12c85e(0x773)],_0x38bb2c);}['addBlock'](_0x47e363,_0x3a1f7d){const _0x36c87a=a0_0x22fdc2;if(_0x3a1f7d[_0x36c87a(0x503)][_0x36c87a(0x73e)]===_0x36c87a(0x65b)){this[_0x36c87a(0x747)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x3a1f7d['block'][_0x36c87a(0x5e3)]&&_0x36c87a(0x6d8)in _0x3a1f7d[_0x36c87a(0x503)][_0x36c87a(0x5e3)]){this[_0x36c87a(0x3e1)]['verbose'](this[_0x36c87a(0x5d2)]+'\x20('+this['instance']['wuid']+_0x36c87a(0x686));let _0x133c98=JSON[_0x36c87a(0x2c1)](_0x3a1f7d[_0x36c87a(0x503)]['apirequest'][_0x36c87a(0x6d8)],null,0x1);_0x133c98[_0x36c87a(0x44c)]>0x2&&(_0x133c98=_0x133c98[_0x36c87a(0x4a2)](0x1,_0x133c98['length']-0x1)['trim']()),_0x3a1f7d[_0x36c87a(0x503)][_0x36c87a(0x5e3)][_0x36c87a(0x56e)]=_0x133c98;}_0x3a1f7d['block']['apirequest']&&_0x36c87a(0x672)in _0x3a1f7d[_0x36c87a(0x503)][_0x36c87a(0x5e3)]&&(this['logger'][_0x36c87a(0x31e)](this[_0x36c87a(0x5d2)]+'\x20('+this['instance'][_0x36c87a(0x537)]+_0x36c87a(0x73f)),_0x3a1f7d[_0x36c87a(0x503)][_0x36c87a(0x5e3)][_0x36c87a(0x746)]=JSON[_0x36c87a(0x2c1)](_0x3a1f7d['block']['apirequest'][_0x36c87a(0x672)],null,0x1)[_0x36c87a(0x6f7)]()),_0x47e363['blocks'][_0x36c87a(0x23d)](_0x3a1f7d[_0x36c87a(0x503)]),this[_0x36c87a(0x45f)](_0x47e363[_0x36c87a(0x773)],_0x3a1f7d[_0x36c87a(0x503)][_0x36c87a(0x28c)]);}[a0_0x22fdc2(0x45f)](_0x4c8bcb,_0x5305d4){const _0x1bfe21=a0_0x22fdc2;let _0x45a38b=_0x4c8bcb[_0x1bfe21(0x4e1)](_0x34c2c9=>_0x34c2c9[_0x1bfe21(0x28c)]===_0x5305d4);_0x45a38b['sort']((_0x476a4b,_0x497853)=>_0x476a4b[_0x1bfe21(0x764)]-_0x497853['order']),_0x45a38b[_0x1bfe21(0x3a1)]((_0x5252c1,_0x4ca7d1)=>_0x5252c1['order']=_0x4ca7d1+0x1);}async[a0_0x22fdc2(0x729)](_0x57d916){const _0x286c71=a0_0x22fdc2;try{if(this[_0x286c71(0x3e1)][_0x286c71(0x31e)](this[_0x286c71(0x5d2)]+'\x20('+this[_0x286c71(0x655)][_0x286c71(0x537)]+_0x286c71(0x27b)),!_0x57d916||!_0x57d916[_0x286c71(0x3d3)]){this[_0x286c71(0x747)]('Data\x20inválida\x20fornecida');return;}let _0x2fabb8={'owner':this['instance'][_0x286c71(0x537)],'name':_0x57d916[_0x286c71(0x5a6)]},_0x2488cc=await I[_0x286c71(0x2ce)](_0x2fabb8);_0x2488cc||this[_0x286c71(0x747)](_0x286c71(0x6ca));let {replyOption:_0x3695f7}=_0x57d916;return _0x3695f7?.['delete']?(this['deleteReplyOption'](_0x2488cc,_0x57d916),this[_0x286c71(0x5d3)](_0x2488cc[_0x286c71(0x4dc)],_0x57d916[_0x286c71(0x3d3)][_0x286c71(0x2ef)])):_0x3695f7[_0x286c71(0x762)]?(await this[_0x286c71(0x572)](_0x2488cc,_0x57d916),this['reorderReplyOptions'](_0x2488cc[_0x286c71(0x4dc)],_0x57d916[_0x286c71(0x3d3)][_0x286c71(0x2ef)])):(this['addReplyOption'](_0x2488cc,_0x57d916),this[_0x286c71(0x5d3)](_0x2488cc['replyOptions'],_0x57d916[_0x286c71(0x3d3)][_0x286c71(0x2ef)])),await _0x2488cc['save'](),_0x2488cc;}catch(_0x290c8a){this['throwAndLogError'](_0x286c71(0x416)+_0x290c8a);}}[a0_0x22fdc2(0x5d3)](_0x564d01,_0x1f38ca){const _0x6c422e=a0_0x22fdc2;console[_0x6c422e(0x2d0)](_0x6c422e(0x75d),_0x1f38ca),_0x564d01[_0x6c422e(0x3a1)](_0x5cc4da=>{const _0x36565f=_0x6c422e;_0x5cc4da['blockId']===_0x1f38ca&&_0x5cc4da['order']===void 0x0&&(_0x5cc4da[_0x36565f(0x764)]=0x270f);});let _0x33d3f1=_0x564d01['filter'](_0x4a4c90=>_0x4a4c90[_0x6c422e(0x2ef)]===_0x1f38ca);_0x33d3f1[_0x6c422e(0x698)]((_0x23fc32,_0x438bed)=>_0x23fc32[_0x6c422e(0x764)]-_0x438bed[_0x6c422e(0x764)]),_0x33d3f1['forEach']((_0x54fc02,_0x1d5a02)=>{const _0x3404ad=_0x6c422e;_0x54fc02[_0x3404ad(0x764)]=_0x1d5a02+0x1;}),_0x564d01[_0x6c422e(0x3a1)](_0x9efb55=>{const _0x341cb6=_0x6c422e;if(_0x9efb55['blockId']===_0x1f38ca){let _0x84435c=_0x33d3f1['find'](_0x2e2268=>_0x2e2268[_0x341cb6(0x762)][_0x341cb6(0x78b)]()===_0x9efb55[_0x341cb6(0x762)][_0x341cb6(0x78b)]());_0x84435c&&(_0x9efb55['order']=_0x84435c['order']);}}),console['log'](_0x6c422e(0x546),_0x564d01);}[a0_0x22fdc2(0x332)](_0x44a13f,_0x51a5f5){const _0x15c77e=a0_0x22fdc2;let {replyOption:_0x35b2bb}=_0x51a5f5;if(!_0x35b2bb['_id']){this['throwAndLogError'](_0x15c77e(0x49e));return;}if(!_0x44a13f[_0x15c77e(0x4dc)]['find'](_0x382b7e=>_0x382b7e[_0x15c77e(0x762)][_0x15c77e(0x78b)]()===_0x51a5f5['replyOption'][_0x15c77e(0x762)][_0x15c77e(0x78b)]())){this[_0x15c77e(0x747)]('ReplyOption\x20com\x20ID\x20'+_0x35b2bb[_0x15c77e(0x762)]+_0x15c77e(0x4aa));return;}_0x44a13f[_0x15c77e(0x4dc)]=_0x44a13f['replyOptions'][_0x15c77e(0x4e1)](_0x5babae=>_0x5babae[_0x15c77e(0x762)][_0x15c77e(0x78b)]()!==_0x51a5f5[_0x15c77e(0x3d3)][_0x15c77e(0x762)][_0x15c77e(0x78b)]());}async[a0_0x22fdc2(0x572)](_0x55f2a1,_0xb35522){const _0x45a1fa=a0_0x22fdc2;let _0x13807d=_0x55f2a1['replyOptions'][_0x45a1fa(0x786)](_0x279e04=>_0x279e04[_0x45a1fa(0x762)]['toString']()===_0xb35522[_0x45a1fa(0x3d3)][_0x45a1fa(0x762)][_0x45a1fa(0x78b)]());if(_0x13807d===-0x1){this[_0x45a1fa(0x747)]('ReplyOption\x20com\x20ID\x20'+_0xb35522[_0x45a1fa(0x3d3)]['_id']+_0x45a1fa(0x500));return;}for(let _0x5e991e in _0xb35522['replyOption'])_0xb35522[_0x45a1fa(0x3d3)][_0x45a1fa(0x244)](_0x5e991e)&&(_0x55f2a1[_0x45a1fa(0x4dc)][_0x13807d][_0x5e991e]=_0xb35522['replyOption'][_0x5e991e]);}[a0_0x22fdc2(0x78a)](_0x41b875,_0x79b342){const _0x224d8a=a0_0x22fdc2;_0x41b875['replyOptions'][_0x224d8a(0x23d)](_0x79b342[_0x224d8a(0x3d3)]);}async['editFlowGroup'](_0x333ab9){const _0x5f2205=a0_0x22fdc2;this[_0x5f2205(0x3e1)][_0x5f2205(0x31e)](this[_0x5f2205(0x5d2)]+'\x20('+this['instance'][_0x5f2205(0x537)]+_0x5f2205(0x3f8)+_0x333ab9);try{this[_0x5f2205(0x3e1)][_0x5f2205(0x31e)](this[_0x5f2205(0x5d2)]+'\x20('+this[_0x5f2205(0x655)]['wuid']+_0x5f2205(0x72c));let _0x251ba3={'owner':this[_0x5f2205(0x655)][_0x5f2205(0x537)],'name':_0x333ab9[_0x5f2205(0x5a6)]},_0x3208ab=await I[_0x5f2205(0x2ce)](_0x251ba3);if(!_0x3208ab)throw new Error('Flow\x20não\x20encontrado');if(_0x333ab9['group']&&_0x333ab9[_0x5f2205(0x6b1)]?.['delete']===!0x0){if(this[_0x5f2205(0x3e1)]['verbose'](this[_0x5f2205(0x5d2)]+'\x20('+this[_0x5f2205(0x655)][_0x5f2205(0x537)]+_0x5f2205(0x75f)),_0x333ab9['group'][_0x5f2205(0x421)]===!0x0)return{'message':_0x5f2205(0x633)};if(_0x3208ab[_0x5f2205(0x773)]['some'](_0x51d5ac=>_0x51d5ac[_0x5f2205(0x28c)]['toString']()===_0x333ab9[_0x5f2205(0x6b1)][_0x5f2205(0x762)]))return this[_0x5f2205(0x3e1)][_0x5f2205(0x31e)](this[_0x5f2205(0x5d2)]+'\x20('+this[_0x5f2205(0x655)][_0x5f2205(0x537)]+_0x5f2205(0x55c)),{'message':_0x5f2205(0x670)};_0x3208ab[_0x5f2205(0x765)]=_0x3208ab['groups']['filter'](_0x4d22f7=>_0x4d22f7['_id']['toString']()!==_0x333ab9[_0x5f2205(0x6b1)][_0x5f2205(0x762)]);}else{if(_0x333ab9[_0x5f2205(0x6b1)]){if(_0x333ab9[_0x5f2205(0x6b1)][_0x5f2205(0x421)]===!0x0)return{'message':_0x5f2205(0x68d)};if(_0x333ab9[_0x5f2205(0x6b1)][_0x5f2205(0x762)]){let _0x4cfe5d=_0x3208ab[_0x5f2205(0x765)][_0x5f2205(0x631)](_0x206154=>_0x206154['_id']['toString']()===_0x333ab9['group'][_0x5f2205(0x762)]);_0x4cfe5d&&(_0x333ab9[_0x5f2205(0x6b1)]['x']<0x0&&(_0x333ab9[_0x5f2205(0x6b1)]['x']=0x0),_0x333ab9[_0x5f2205(0x6b1)]['y']<0x0&&(_0x333ab9[_0x5f2205(0x6b1)]['y']=0x0),Object['assign'](_0x4cfe5d,_0x333ab9[_0x5f2205(0x6b1)]));}else _0x3208ab[_0x5f2205(0x765)][_0x5f2205(0x23d)](_0x333ab9[_0x5f2205(0x6b1)]);}}return await _0x3208ab[_0x5f2205(0x5ab)](),_0x3208ab;}catch(_0x4f3f3b){throw this[_0x5f2205(0x3e1)][_0x5f2205(0x367)](this[_0x5f2205(0x5d2)]+'\x20('+this['instance'][_0x5f2205(0x537)]+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+JSON[_0x5f2205(0x2c1)](_0x4f3f3b,null,0x2)),new g('Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+JSON[_0x5f2205(0x2c1)](_0x4f3f3b,null,0x2));}}async[a0_0x22fdc2(0x598)](_0x396678){const _0x5b2eb1=a0_0x22fdc2;try{this[_0x5b2eb1(0x3e1)]['verbose'](this[_0x5b2eb1(0x5d2)]+'\x20('+this[_0x5b2eb1(0x655)][_0x5b2eb1(0x537)]+_0x5b2eb1(0x1ca));let _0x192b51={'owner':this[_0x5b2eb1(0x655)][_0x5b2eb1(0x537)],'name':_0x396678[_0x5b2eb1(0x5a6)]},_0x99a010=await I[_0x5b2eb1(0x2ce)](_0x192b51);if(!_0x99a010)throw new Error(_0x5b2eb1(0x6ca));let _0x387fc9=!0x1;if(_0x396678[_0x5b2eb1(0x47d)]?.[_0x5b2eb1(0x6ad)]===!0x0)_0x99a010[_0x5b2eb1(0x6bb)]=_0x99a010['conditions'][_0x5b2eb1(0x4e1)](_0x5e6478=>_0x5e6478&&_0x396678[_0x5b2eb1(0x47d)]&&_0x5e6478['_id']&&_0x396678[_0x5b2eb1(0x47d)]['_id']&&_0x5e6478['_id']['toString']()!==_0x396678[_0x5b2eb1(0x47d)]['_id'][_0x5b2eb1(0x78b)]()),_0x387fc9=!0x0;else{let _0x5305c1=_0x99a010['conditions'][_0x5b2eb1(0x631)](_0x967673=>_0x967673&&_0x396678[_0x5b2eb1(0x47d)]&&_0x967673[_0x5b2eb1(0x762)]&&_0x396678[_0x5b2eb1(0x47d)][_0x5b2eb1(0x762)]&&_0x967673['_id'][_0x5b2eb1(0x78b)]()===_0x396678[_0x5b2eb1(0x47d)]['_id'][_0x5b2eb1(0x78b)]());_0x5305c1?(_0x387fc9=_0x5305c1['order']!==_0x396678[_0x5b2eb1(0x47d)][_0x5b2eb1(0x764)],Object[_0x5b2eb1(0x42b)](_0x5305c1,_0x396678[_0x5b2eb1(0x47d)])):(_0x99a010[_0x5b2eb1(0x6bb)][_0x5b2eb1(0x23d)](_0x396678[_0x5b2eb1(0x47d)]),_0x387fc9=!0x0);}if(_0x387fc9){_0x99a010[_0x5b2eb1(0x6bb)]['sort']((_0xee40b0,_0x2e3cf8)=>_0xee40b0[_0x5b2eb1(0x764)]>_0x2e3cf8[_0x5b2eb1(0x764)]?0x1:_0x2e3cf8[_0x5b2eb1(0x764)]>_0xee40b0[_0x5b2eb1(0x764)]?-0x1:0x0);for(let _0x16dcc5=0x0;_0x16dcc5<_0x99a010['conditions'][_0x5b2eb1(0x44c)];_0x16dcc5++)_0x99a010['conditions'][_0x16dcc5][_0x5b2eb1(0x764)]=_0x16dcc5+0x1;_0x99a010[_0x5b2eb1(0x6bb)]['length']>0x0&&(_0x99a010['conditions'][0x0]['OrAnd']=_0x5b2eb1(0x386));}return await _0x99a010[_0x5b2eb1(0x5ab)](),_0x99a010;}catch(_0xbfd6a0){throw this[_0x5b2eb1(0x3e1)][_0x5b2eb1(0x367)](this[_0x5b2eb1(0x5d2)]+'\x20('+this['instance']['wuid']+_0x5b2eb1(0x757)+JSON[_0x5b2eb1(0x2c1)](_0xbfd6a0,null,0x2)),new Error(_0x5b2eb1(0x405)+_0xbfd6a0);}}async[a0_0x22fdc2(0x20d)](_0x11237a){const _0x54983a=a0_0x22fdc2;try{this['logger'][_0x54983a(0x31e)](this[_0x54983a(0x5d2)]+'\x20('+this[_0x54983a(0x655)][_0x54983a(0x537)]+_0x54983a(0x2af));let _0x4b5b2d={'owner':this[_0x54983a(0x655)]['wuid'],'name':_0x11237a['name']},_0x2e0bec=await I[_0x54983a(0x2ce)](_0x4b5b2d);if(!_0x2e0bec)throw new Error(_0x54983a(0x6ca));let _0x5105e7=!0x1;if(_0x11237a['varedit']?.[_0x54983a(0x6ad)]===!0x0)_0x2e0bec[_0x54983a(0x554)]=_0x2e0bec['varedits']['filter'](_0x4bcb9f=>_0x4bcb9f&&_0x11237a[_0x54983a(0x5e8)]&&_0x4bcb9f[_0x54983a(0x762)]&&_0x11237a['varedit']['_id']&&_0x4bcb9f[_0x54983a(0x762)]['toString']()!==_0x11237a[_0x54983a(0x5e8)][_0x54983a(0x762)][_0x54983a(0x78b)]()),_0x5105e7=!0x0;else{let _0x4b33b3=_0x2e0bec[_0x54983a(0x554)][_0x54983a(0x631)](_0x32e070=>_0x32e070&&_0x11237a[_0x54983a(0x5e8)]&&_0x32e070[_0x54983a(0x762)]&&_0x11237a[_0x54983a(0x5e8)][_0x54983a(0x762)]&&_0x32e070[_0x54983a(0x762)][_0x54983a(0x78b)]()===_0x11237a['varedit'][_0x54983a(0x762)][_0x54983a(0x78b)]());_0x4b33b3?(_0x5105e7=_0x4b33b3['order']!==_0x11237a[_0x54983a(0x5e8)][_0x54983a(0x764)],Object[_0x54983a(0x42b)](_0x4b33b3,_0x11237a[_0x54983a(0x5e8)])):(_0x2e0bec[_0x54983a(0x554)]['push'](_0x11237a[_0x54983a(0x5e8)]),_0x5105e7=!0x0);}if(_0x5105e7){_0x2e0bec[_0x54983a(0x554)][_0x54983a(0x698)]((_0x51d953,_0x5a48b3)=>_0x51d953[_0x54983a(0x764)]>_0x5a48b3[_0x54983a(0x764)]?0x1:_0x5a48b3[_0x54983a(0x764)]>_0x51d953['order']?-0x1:0x0);for(let _0x15a728=0x0;_0x15a728<_0x2e0bec[_0x54983a(0x554)][_0x54983a(0x44c)];_0x15a728++)_0x2e0bec[_0x54983a(0x554)][_0x15a728]['order']=_0x15a728+0x1;}return await _0x2e0bec['save'](),_0x2e0bec;}catch(_0x4f14de){throw this[_0x54983a(0x3e1)][_0x54983a(0x367)](this[_0x54983a(0x5d2)]+'\x20('+this[_0x54983a(0x655)][_0x54983a(0x537)]+_0x54983a(0x757)+JSON[_0x54983a(0x2c1)](_0x4f14de,null,0x2)),new g('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x4f14de);}}async['editFlowVariable'](_0x3c1dc7){const _0x436547=a0_0x22fdc2;try{this['logger'][_0x436547(0x31e)](this[_0x436547(0x5d2)]+'\x20('+this[_0x436547(0x655)][_0x436547(0x537)]+_0x436547(0x4bc));let _0x5a2fb8={'owner':this[_0x436547(0x655)][_0x436547(0x537)],'name':_0x3c1dc7[_0x436547(0x5a6)]},_0x1bc0c8=await I[_0x436547(0x2ce)](_0x5a2fb8);if(!_0x1bc0c8)throw new Error('Flow\x20não\x20encontrado');_0x3c1dc7[_0x436547(0x23b)][_0x436547(0x5a6)]=_0x3c1dc7[_0x436547(0x23b)][_0x436547(0x5a6)]['trim'](),_0x3c1dc7[_0x436547(0x23b)]['name'][_0x436547(0x486)]('_')&&(_0x3c1dc7[_0x436547(0x23b)]['name']=_0x3c1dc7[_0x436547(0x23b)]['name'][_0x436547(0x4a2)](0x1)),_0x3c1dc7[_0x436547(0x23b)]['name']=_0x3c1dc7[_0x436547(0x23b)][_0x436547(0x5a6)]['trim']();let _0xba106d=_0x1bc0c8[_0x436547(0x5bb)][_0x436547(0x631)](_0x2f86e6=>_0x2f86e6[_0x436547(0x5a6)]===_0x3c1dc7[_0x436547(0x23b)]['name']);if(_0xba106d?.[_0x436547(0x4d5)]===!0x0)throw new Error(_0x436547(0x331));if(_0x3c1dc7['variable']?.['delete']===!0x0){if(!_0xba106d)return{'message':_0x436547(0x53f)};_0x1bc0c8[_0x436547(0x5bb)]=_0x1bc0c8[_0x436547(0x5bb)][_0x436547(0x4e1)](_0x3f2d3a=>_0x3f2d3a[_0x436547(0x5a6)]!==_0x3c1dc7[_0x436547(0x23b)][_0x436547(0x5a6)]);}else _0xba106d?Object['assign'](_0xba106d,_0x3c1dc7[_0x436547(0x23b)]):_0x1bc0c8[_0x436547(0x5bb)][_0x436547(0x23d)](_0x3c1dc7[_0x436547(0x23b)]);return await _0x1bc0c8[_0x436547(0x5ab)](),_0x1bc0c8;}catch(_0x471ac9){throw this[_0x436547(0x3e1)][_0x436547(0x367)](this[_0x436547(0x5d2)]+'\x20('+this['instance'][_0x436547(0x537)]+_0x436547(0x29a)+JSON[_0x436547(0x2c1)](_0x471ac9,null,0x2)),new g(_0x436547(0x409)+JSON[_0x436547(0x2c1)](_0x471ac9,null,0x2));}}async[a0_0x22fdc2(0x677)](_0x138352){const _0x10e902=a0_0x22fdc2;let _0x28177b=null;try{if(!this[_0x10e902(0x6a3)]?.[_0x10e902(0x304)][_0x10e902(0x423)])throw new g(_0x10e902(0x5a8));this[_0x10e902(0x3e1)][_0x10e902(0x31e)](this[_0x10e902(0x5d2)]+'\x20('+this[_0x10e902(0x655)][_0x10e902(0x537)]+_0x10e902(0x4bb));let _0x5611ea=(await this[_0x10e902(0x766)]({'numbers':[_0x138352[_0x10e902(0x1db)]]}))[0x0];if(!_0x5611ea[_0x10e902(0x6d5)]&&!(0x0,w[_0x10e902(0x398)])(_0x5611ea['jid'])&&!_0x5611ea['jid'][_0x10e902(0x353)](_0x10e902(0x751)))throw _0x28177b=JSON[_0x10e902(0x2c1)](_0x5611ea,null,0x2),new g(_0x5611ea);let _0x4117c2=await I['findOne']({'owner':this[_0x10e902(0x655)][_0x10e902(0x537)],'name':_0x138352[_0x10e902(0x5a6)]});if(!_0x4117c2)return this[_0x10e902(0x3e1)][_0x10e902(0x367)](this[_0x10e902(0x5d2)]+'\x20('+this[_0x10e902(0x655)][_0x10e902(0x537)]+_0x10e902(0x488)),{'message':_0x10e902(0x6ca)};let _0x386f63=await this[_0x10e902(0x6ff)](_0x4117c2,_0x5611ea[_0x10e902(0x1e9)],_0x138352[_0x10e902(0x5f5)]);if(_0x386f63){this[_0x10e902(0x3e1)][_0x10e902(0x31e)](this[_0x10e902(0x5d2)]+'\x20('+this['instance'][_0x10e902(0x537)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x189b12=await this[_0x10e902(0x3ba)](_0x386f63);return _0x189b12&&await this[_0x10e902(0x4fa)](_0x386f63,_0x189b12),{'message':_0x10e902(0x6a2)+_0x138352['remoteJid']};}}catch(_0x3bc7d2){if(this['logger'][_0x10e902(0x367)](this[_0x10e902(0x5d2)]+'\x20('+this[_0x10e902(0x655)][_0x10e902(0x537)]+_0x10e902(0x3a6)+JSON['stringify'](_0x3bc7d2,null,0x2)),_0x28177b=JSON[_0x10e902(0x2c1)](_0x3bc7d2,null,0x2),_0x28177b)throw new g(_0x10e902(0x691)+_0x28177b);}}async[a0_0x22fdc2(0x43e)](_0xee1627){const _0x63116a=a0_0x22fdc2;let _0xe67688=await U[_0x63116a(0x2f0)]({'owner':this['instance'][_0x63116a(0x537)],'remoteJid':_0xee1627,'status':_0x63116a(0x70a)},{'$set':{'status':_0x63116a(0x6ec)}});return this['logger'][_0x63116a(0x31e)](this['instanceName']+'\x20('+this['instance'][_0x63116a(0x537)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0xe67688;}async[a0_0x22fdc2(0x6ff)](_0x77ba0e,_0x2857f1,_0x5a7f16){const _0x511388=a0_0x22fdc2;this[_0x511388(0x3e1)]['verbose'](this['instanceName']+'\x20('+this[_0x511388(0x655)][_0x511388(0x537)]+_0x511388(0x621)),await this[_0x511388(0x43e)](_0x2857f1);try{let _0x3c5ed0=require(_0x511388(0x583))[_0x511388(0x2a3)],_0x1e183f=Date['now'](),_0x4fb66d=_0x511388(0x65b),_0x2323d3={},_0x4c4d9e={},_0x13a5bb={..._0x77ba0e['_doc'],'chatLog':null},_0x2715d7=await this[_0x511388(0x4d2)](_0x13a5bb['variables']),_0x20dabe=await this[_0x511388(0x780)](_0x2857f1),_0x191f06={..._0x2715d7,..._0x20dabe,'_remoteJid':_0x2857f1},_0x54f8cc={'lastReceivedMessage':_0x2323d3,'lastSendMessage':_0x4c4d9e,'lastBlockId':_0x4fb66d,'lastCondition':!0x0,'realVariables':_0x191f06};_0x13a5bb['chatLog']=_0x54f8cc,_0x13a5bb['chatLog'][_0x511388(0x552)]={..._0x191f06,..._0x5a7f16},delete _0x13a5bb[_0x511388(0x762)],_0x13a5bb['_id']=new _0x3c5ed0(),_0x13a5bb[_0x511388(0x613)]=_0x1e183f,_0x13a5bb[_0x511388(0x592)]=_0x511388(0x70a),_0x13a5bb[_0x511388(0x1db)]=_0x2857f1;let _0x386226=await U[_0x511388(0x3c0)](_0x13a5bb);return this[_0x511388(0x3e1)][_0x511388(0x31e)](this['instanceName']+'\x20('+this[_0x511388(0x655)][_0x511388(0x537)]+_0x511388(0x77b)),_0x386226?_0x13a5bb:null;}catch(_0x9862b){throw this[_0x511388(0x3e1)][_0x511388(0x367)](this['instanceName']+'\x20('+this[_0x511388(0x655)][_0x511388(0x537)]+_0x511388(0x1e5)+JSON[_0x511388(0x2c1)](_0x9862b,null,0x2)),new g(_0x9862b['message']);}}async[a0_0x22fdc2(0x62a)](_0x2e42bb){const _0x31b1b1=a0_0x22fdc2;try{return this[_0x31b1b1(0x3e1)]['verbose'](this['instanceName']+'\x20('+this[_0x31b1b1(0x655)][_0x31b1b1(0x537)]+_0x31b1b1(0x1c9)),this[_0x31b1b1(0x3e1)]['verbose'](this[_0x31b1b1(0x5d2)]+'\x20('+this[_0x31b1b1(0x655)][_0x31b1b1(0x537)]+_0x31b1b1(0x4bd)+{'owner':this[_0x31b1b1(0x655)]['wuid'],'_id':_0x2e42bb}),await U['findOne']({'owner':this['instance']['wuid'],'_id':_0x2e42bb});}catch(_0x46cd40){throw this[_0x31b1b1(0x3e1)][_0x31b1b1(0x367)](this[_0x31b1b1(0x5d2)]+'\x20('+this[_0x31b1b1(0x655)][_0x31b1b1(0x537)]+'):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20'+JSON[_0x31b1b1(0x2c1)](_0x46cd40,null,0x2)),new g(_0x31b1b1(0x61c)+_0x46cd40[_0x31b1b1(0x649)]);}}async[a0_0x22fdc2(0x778)](_0x1d77d9,_0x2f2254=0x64){const _0x4a7e77=a0_0x22fdc2;try{this[_0x4a7e77(0x3e1)][_0x4a7e77(0x31e)](this[_0x4a7e77(0x5d2)]+'\x20('+this[_0x4a7e77(0x655)][_0x4a7e77(0x537)]+_0x4a7e77(0x610));let _0x5ec03c={..._0x1d77d9,'owner':this[_0x4a7e77(0x655)]['wuid']};return this[_0x4a7e77(0x3e1)][_0x4a7e77(0x31e)](_0x5ec03c),await U[_0x4a7e77(0x631)](_0x5ec03c)['limit'](_0x2f2254)['sort']({'lastInteraction':-0x1});}catch(_0x3a167b){throw this[_0x4a7e77(0x3e1)][_0x4a7e77(0x367)](this['instanceName']+'\x20('+this[_0x4a7e77(0x655)][_0x4a7e77(0x537)]+_0x4a7e77(0x63f)+JSON[_0x4a7e77(0x2c1)](_0x3a167b,null,0x2)),new g(_0x4a7e77(0x758)+_0x3a167b[_0x4a7e77(0x649)]);}}async[a0_0x22fdc2(0x33b)](_0x3b73d3){const _0x509f5c=a0_0x22fdc2;try{return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x509f5c(0x655)][_0x509f5c(0x537)]+_0x509f5c(0x260)),this[_0x509f5c(0x3e1)][_0x509f5c(0x31e)](this[_0x509f5c(0x5d2)]+'\x20('+this[_0x509f5c(0x655)][_0x509f5c(0x537)]+_0x509f5c(0x4bd)+{'owner':this[_0x509f5c(0x655)][_0x509f5c(0x537)],'_id':_0x3b73d3}),(await U['deleteOne']({'owner':this[_0x509f5c(0x655)]['wuid'],'_id':_0x3b73d3}))['deletedCount']===0x0?{'message':_0x509f5c(0x450)}:{'message':_0x509f5c(0x739)};}catch(_0x21afaa){throw this[_0x509f5c(0x3e1)][_0x509f5c(0x367)](this[_0x509f5c(0x5d2)]+'\x20('+this[_0x509f5c(0x655)][_0x509f5c(0x537)]+_0x509f5c(0x4ed)+JSON[_0x509f5c(0x2c1)](_0x21afaa,null,0x2)),new g(_0x509f5c(0x6b8)+_0x21afaa[_0x509f5c(0x649)]);}}async[a0_0x22fdc2(0x265)](_0x5f0beb){const _0x3637ad=a0_0x22fdc2;try{let {_id:_0x2ee523,chatLog:_0x2166d3,status:_0x337d7a}=_0x5f0beb;if(!_0x2ee523)return{'message':_0x3637ad(0x20b)};let _0x776343={};if(_0x337d7a!==void 0x0&&(_0x776343[_0x3637ad(0x592)]=_0x337d7a),Object[_0x3637ad(0x79e)](_0x776343)['length']===0x0)return{'message':_0x3637ad(0x6c7)};let _0xd4a0e3=this['instance'][_0x3637ad(0x537)],_0x26619f=await U['findOneAndUpdate']({'_id':_0x2ee523,'owner':_0xd4a0e3},{'$set':_0x776343},{'new':!0x0});return _0x26619f||{'message':_0x3637ad(0x5e6)};}catch(_0x30ae8a){throw this[_0x3637ad(0x3e1)]['error'](this[_0x3637ad(0x5d2)]+'\x20('+this['instance'][_0x3637ad(0x537)]+_0x3637ad(0x449)+JSON[_0x3637ad(0x2c1)](_0x30ae8a,null,0x2)),new g('Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x30ae8a[_0x3637ad(0x649)]);}}async[a0_0x22fdc2(0x681)](_0x4b487e){const _0x2ae03b=a0_0x22fdc2;try{_0x4b487e[_0x2ae03b(0x762)]=this['createJid'](_0x4b487e[_0x2ae03b(0x762)]);let {_id:_0x27f665,leadInfo:_0x53ad3d}=_0x4b487e;if(!_0x27f665)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');let _0x4aded1=(_0x5ad7eb,_0x1bfc93,_0x114e9c)=>{const _0x1911aa=_0x2ae03b;_0x114e9c[_0x1911aa(0x3a1)](_0x493a49=>{_0x5ad7eb[_0x493a49]!==void 0x0&&(_0x1bfc93['leadInfo.'+_0x493a49]=_0x5ad7eb[_0x493a49]);});},_0x386783={};if(_0x4aded1(_0x53ad3d,_0x386783,[_0x2ae03b(0x29c),_0x2ae03b(0x5df),'email',_0x2ae03b(0x527),_0x2ae03b(0x592),_0x2ae03b(0x5c1),_0x2ae03b(0x787),_0x2ae03b(0x355),'responsavelid']),Array[_0x2ae03b(0x523)](_0x53ad3d['customFields'])&&(_0x386783[_0x2ae03b(0x2d5)]=_0x53ad3d[_0x2ae03b(0x489)][_0x2ae03b(0x2d7)](_0x2af7ee=>({'_id':_0x2af7ee[_0x2ae03b(0x762)],'value':_0x2af7ee[_0x2ae03b(0x436)]}))),_0x4b487e[_0x2ae03b(0x4d5)][_0x2ae03b(0x434)]!==void 0x0&&(_0x386783[_0x2ae03b(0x6ab)]=Number(_0x4b487e['leadInfo'][_0x2ae03b(0x434)])),_0x4b487e[_0x2ae03b(0x5fe)]!==void 0x0&&(_0x386783['unreadcount']=Number(_0x4b487e[_0x2ae03b(0x5fe)])),Object[_0x2ae03b(0x79e)](_0x386783)[_0x2ae03b(0x44c)]===0x0)throw new Error(_0x2ae03b(0x6c7));let _0x1ce8ef=this[_0x2ae03b(0x655)][_0x2ae03b(0x537)];if(!_0x1ce8ef)throw new Error('Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.');if(!await this['repository'][_0x2ae03b(0x565)][_0x2ae03b(0x2ce)]({'where':{'_id':_0x4b487e[_0x2ae03b(0x762)],'owner':_0x1ce8ef}})){let _0x580d4c=(await this['whatsappNumber']({'numbers':[_0x4b487e['_id']]}))[0x0];if(!_0x580d4c[_0x2ae03b(0x6d5)]&&!(0x0,w[_0x2ae03b(0x398)])(_0x580d4c[_0x2ae03b(0x1e9)])&&!_0x580d4c[_0x2ae03b(0x1e9)][_0x2ae03b(0x353)](_0x2ae03b(0x751)))throw new g(_0x580d4c);_0x4b487e[_0x2ae03b(0x762)]=_0x580d4c[_0x2ae03b(0x1e9)];}let _0x446102=await this['repository']['chat'][_0x2ae03b(0x2b6)]({'where':{'_id':_0x4b487e['_id'],'owner':_0x1ce8ef}},_0x386783);return _0x446102&&q(this[_0x2ae03b(0x5d2)],'chats',{'chat':_0x446102}),_0x446102?(this[_0x2ae03b(0x3e1)]['verbose'](this[_0x2ae03b(0x5d2)]+'\x20('+this[_0x2ae03b(0x655)][_0x2ae03b(0x537)]+_0x2ae03b(0x6f5)+_0x446102),_0x446102):{'message':_0x2ae03b(0x6b9)};}catch(_0x5994dd){throw this['logger'][_0x2ae03b(0x367)](this[_0x2ae03b(0x5d2)]+'\x20('+this['instance']['wuid']+_0x2ae03b(0x389)+JSON[_0x2ae03b(0x2c1)](_0x5994dd,null,0x2)),new g(_0x2ae03b(0x54e)+_0x5994dd[_0x2ae03b(0x649)]);}}async[a0_0x22fdc2(0x250)](_0x5624a4){const _0x649516=a0_0x22fdc2;let _0x389768=this['instance'][_0x649516(0x537)];try{let _0x32fc59=await ae['findById'](_0x389768);_0x32fc59||(_0x32fc59=new ae({'_id':_0x389768}),await _0x32fc59['save']());let _0x32fde1=_0x5624a4[_0x649516(0x762)]?_0x32fc59[_0x649516(0x53a)][_0x649516(0x786)](_0x510411=>_0x510411[_0x649516(0x762)]===_0x5624a4[_0x649516(0x762)]):-0x1;if(_0x5624a4['delete']&&_0x32fde1>-0x1)_0x32fc59[_0x649516(0x53a)][_0x649516(0x772)](_0x32fde1,0x1);else{if(_0x32fde1>-0x1){let _0x144dc1=_0x32fc59[_0x649516(0x53a)][_0x32fde1];_0x5624a4['fone']&&(_0x144dc1[_0x649516(0x4c2)]=_0x5624a4[_0x649516(0x4c2)]),_0x5624a4[_0x649516(0x5a6)]&&(_0x144dc1['name']=_0x5624a4[_0x649516(0x5a6)]),_0x5624a4[_0x649516(0x65d)]&&(_0x144dc1[_0x649516(0x65d)]=_0x5624a4[_0x649516(0x65d)]),_0x5624a4[_0x649516(0x6ac)]&&(_0x144dc1[_0x649516(0x6ac)]=_0x5624a4[_0x649516(0x6ac)]);}else _0x32fc59[_0x649516(0x53a)]['push']({'_id':_0x5624a4['_id']||new pe['default'][(_0x649516(0x78f))][(_0x649516(0x2a3))]()['toString'](),'fone':_0x5624a4[_0x649516(0x4c2)],'name':_0x5624a4['name'],'email':_0x5624a4[_0x649516(0x65d)],'role':_0x5624a4[_0x649516(0x6ac)]});}let _0x46fbc1=await _0x32fc59[_0x649516(0x5ab)]();return this[_0x649516(0x6a3)]=_0x46fbc1,this[_0x649516(0x3e1)]['verbose'](this[_0x649516(0x5d2)]+'\x20('+this[_0x649516(0x655)]['wuid']+'):\x20alterando\x20this.AutomateSystem'),this[_0x649516(0x3e1)]['verbose'](this[_0x649516(0x5d2)]+'\x20('+this[_0x649516(0x655)][_0x649516(0x537)]+'):\x20'+this[_0x649516(0x6a3)]),_0x46fbc1;}catch(_0x28543f){throw this[_0x649516(0x3e1)][_0x649516(0x367)](this[_0x649516(0x5d2)]+'\x20('+this[_0x649516(0x655)][_0x649516(0x537)]+_0x649516(0x514)+JSON[_0x649516(0x2c1)](_0x28543f,null,0x2)),new g('Erro\x20ao\x20editar\x20agentes:\x20'+_0x28543f[_0x649516(0x649)]);}}async[a0_0x22fdc2(0x6c9)](_0x36da7d){const _0x4c6a4e=a0_0x22fdc2;let _0x300e4e=this[_0x4c6a4e(0x655)][_0x4c6a4e(0x537)];try{let _0x49b919=await ae[_0x4c6a4e(0x7a9)](_0x300e4e);_0x49b919||(_0x49b919=new ae({'_id':_0x300e4e}),await _0x49b919['save']());let _0x544e0b=_0x36da7d[_0x4c6a4e(0x762)]?_0x49b919[_0x4c6a4e(0x489)][_0x4c6a4e(0x786)](_0x45bff8=>_0x45bff8[_0x4c6a4e(0x762)]===_0x36da7d[_0x4c6a4e(0x762)]):-0x1,_0x3d833e=!0x1,_0x388174=_0x49b919[_0x4c6a4e(0x489)][_0x4c6a4e(0x571)](_0x5bfd0d=>_0x5bfd0d[_0x4c6a4e(0x764)]===_0x36da7d['order']);if(_0x36da7d[_0x4c6a4e(0x6ad)]&&_0x544e0b>-0x1)_0x49b919[_0x4c6a4e(0x489)][_0x4c6a4e(0x772)](_0x544e0b,0x1),_0x3d833e=!0x0;else{if(_0x544e0b>-0x1){if(_0x49b919['customFields'][_0x4c6a4e(0x571)](_0x2cb03f=>_0x2cb03f['name']===_0x36da7d[_0x4c6a4e(0x5a6)]&&_0x2cb03f[_0x4c6a4e(0x762)]!==_0x36da7d['_id']))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x497acd=_0x49b919[_0x4c6a4e(0x489)][_0x544e0b];_0x36da7d[_0x4c6a4e(0x764)]&&(_0x388174||!Number['isInteger'](_0x36da7d[_0x4c6a4e(0x764)]))&&(_0x497acd['order']=_0x36da7d['order'],_0x3d833e=!0x0),_0x36da7d[_0x4c6a4e(0x5a6)]&&(_0x497acd[_0x4c6a4e(0x5a6)]=_0x36da7d['name']);}else{if(_0x49b919[_0x4c6a4e(0x489)][_0x4c6a4e(0x571)](_0x397b42=>_0x397b42[_0x4c6a4e(0x5a6)]===_0x36da7d['name']&&_0x397b42['_id']!==_0x36da7d[_0x4c6a4e(0x762)]))throw new Error(_0x4c6a4e(0x51b));_0x49b919[_0x4c6a4e(0x489)][_0x4c6a4e(0x23d)]({'_id':_0x36da7d[_0x4c6a4e(0x762)]||new pe['default'][(_0x4c6a4e(0x78f))][(_0x4c6a4e(0x2a3))]()['toString'](),'order':_0x36da7d[_0x4c6a4e(0x764)],'name':_0x36da7d[_0x4c6a4e(0x5a6)]}),_0x3d833e=!0x0;}}if(_0x3d833e){_0x49b919['customFields'][_0x4c6a4e(0x698)]((_0xf546ea,_0x33e30f)=>_0xf546ea['order']>_0x33e30f[_0x4c6a4e(0x764)]?0x1:_0x33e30f['order']>_0xf546ea[_0x4c6a4e(0x764)]?-0x1:0x0);for(let _0x43b7fb=0x0;_0x43b7fb<_0x49b919[_0x4c6a4e(0x489)][_0x4c6a4e(0x44c)];_0x43b7fb++)_0x49b919[_0x4c6a4e(0x489)][_0x43b7fb][_0x4c6a4e(0x764)]=_0x43b7fb+0x1;}let _0x20df0e=await _0x49b919[_0x4c6a4e(0x5ab)]();return this[_0x4c6a4e(0x6a3)]=_0x20df0e,this['logger']['verbose'](this[_0x4c6a4e(0x5d2)]+'\x20('+this['instance'][_0x4c6a4e(0x537)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x4c6a4e(0x3e1)][_0x4c6a4e(0x31e)](this['instanceName']+'\x20('+this[_0x4c6a4e(0x655)][_0x4c6a4e(0x537)]+'):\x20'+this[_0x4c6a4e(0x6a3)]),_0x20df0e;}catch(_0x2f7d45){throw this[_0x4c6a4e(0x3e1)][_0x4c6a4e(0x367)](this[_0x4c6a4e(0x5d2)]+'\x20('+this[_0x4c6a4e(0x655)][_0x4c6a4e(0x537)]+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+JSON[_0x4c6a4e(0x2c1)](_0x2f7d45,null,0x2)),new g('Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x2f7d45['message']);}}async['updateFlowConfig'](_0x3cdd11){const _0x4b1a89=a0_0x22fdc2;let _0x3d0c99=this[_0x4b1a89(0x655)][_0x4b1a89(0x537)];try{let _0x292131=await ae[_0x4b1a89(0x7a9)](_0x3d0c99);_0x292131||(_0x292131=new ae({'_id':_0x3d0c99}),await _0x292131[_0x4b1a89(0x5ab)]()),_0x292131[_0x4b1a89(0x304)][_0x4b1a89(0x423)]=_0x3cdd11?.[_0x4b1a89(0x423)]!==void 0x0?_0x3cdd11?.[_0x4b1a89(0x423)]:_0x292131[_0x4b1a89(0x304)]['enabled'],_0x292131[_0x4b1a89(0x304)][_0x4b1a89(0x35f)]=_0x3cdd11?.[_0x4b1a89(0x35f)]!==void 0x0?_0x3cdd11?.['ignoreGroups']:_0x292131['flowConfig'][_0x4b1a89(0x35f)],_0x292131['flowConfig'][_0x4b1a89(0x390)]=_0x3cdd11?.[_0x4b1a89(0x390)]??_0x292131[_0x4b1a89(0x304)]['prefixCommand'],_0x292131[_0x4b1a89(0x304)][_0x4b1a89(0x38d)]=_0x3cdd11?.[_0x4b1a89(0x38d)]??_0x292131['flowConfig']['stopConversation'],_0x292131[_0x4b1a89(0x304)]['stopMinutes']=_0x3cdd11?.[_0x4b1a89(0x53d)]??_0x292131[_0x4b1a89(0x304)]['stopMinutes'];let _0x1cd759=await _0x292131[_0x4b1a89(0x5ab)]();return this['AutomateSystem']=_0x1cd759,this[_0x4b1a89(0x3e1)][_0x4b1a89(0x31e)](this[_0x4b1a89(0x5d2)]+'\x20('+this[_0x4b1a89(0x655)][_0x4b1a89(0x537)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x4b1a89(0x3e1)][_0x4b1a89(0x31e)](this[_0x4b1a89(0x5d2)]+'\x20('+this['instance'][_0x4b1a89(0x537)]+_0x4b1a89(0x6f5)+this['AutomateSystem']),setTimeout(()=>this[_0x4b1a89(0x682)](),0x7d0),_0x1cd759;}catch(_0x5d902d){throw this[_0x4b1a89(0x3e1)][_0x4b1a89(0x367)](this[_0x4b1a89(0x5d2)]+'\x20('+this[_0x4b1a89(0x655)][_0x4b1a89(0x537)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+JSON['stringify'](_0x5d902d,null,0x2)),new g('Erro\x20ao\x20editar\x20agentes:\x20'+_0x5d902d[_0x4b1a89(0x649)]);}}async[a0_0x22fdc2(0x261)](){const _0x3c6c97=a0_0x22fdc2;let _0x1360ea=this[_0x3c6c97(0x655)][_0x3c6c97(0x537)];try{let _0x124c89=await ae[_0x3c6c97(0x7a9)](_0x1360ea);return _0x124c89||(_0x124c89=new ae({'_id':_0x1360ea})),_0x124c89['flowConfig']=_0x124c89[_0x3c6c97(0x304)]||{},_0x124c89['flowConfig'][_0x3c6c97(0x423)]===void 0x0&&(_0x124c89[_0x3c6c97(0x304)][_0x3c6c97(0x423)]=!0x1),_0x124c89[_0x3c6c97(0x304)]['ignoreGroups']===void 0x0&&(_0x124c89[_0x3c6c97(0x304)][_0x3c6c97(0x35f)]=!0x0),_0x124c89['flowConfig'][_0x3c6c97(0x390)]===void 0x0&&(_0x124c89['flowConfig']['prefixCommand']='!'),_0x124c89[_0x3c6c97(0x304)][_0x3c6c97(0x38d)]===void 0x0&&(_0x124c89[_0x3c6c97(0x304)][_0x3c6c97(0x38d)]=_0x3c6c97(0x5b1)),_0x124c89[_0x3c6c97(0x304)][_0x3c6c97(0x53d)]===void 0x0&&(_0x124c89[_0x3c6c97(0x304)][_0x3c6c97(0x53d)]=0x14),await _0x124c89[_0x3c6c97(0x5ab)](),this[_0x3c6c97(0x6a3)]=_0x124c89,this['logger']['verbose'](this[_0x3c6c97(0x5d2)]+'\x20('+this[_0x3c6c97(0x655)][_0x3c6c97(0x537)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x3c6c97(0x3e1)][_0x3c6c97(0x31e)](this[_0x3c6c97(0x6a3)]),_0x124c89;}catch(_0x3e7478){throw this[_0x3c6c97(0x3e1)][_0x3c6c97(0x367)](this[_0x3c6c97(0x5d2)]+'\x20('+this[_0x3c6c97(0x655)][_0x3c6c97(0x537)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+JSON[_0x3c6c97(0x2c1)](_0x3e7478,null,0x2)),new g(_0x3c6c97(0x451)+_0x3e7478['message']);}}async[a0_0x22fdc2(0x2d3)](){const _0x4644b1=a0_0x22fdc2;this[_0x4644b1(0x7a6)]&&clearTimeout(this[_0x4644b1(0x7a6)]),this[_0x4644b1(0x7a6)]=setTimeout(()=>{const _0x137703=_0x4644b1;this[_0x137703(0x7a7)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x22fdc2(0x7a7)](){const _0x5e9208=a0_0x22fdc2;Date['now']()-this[_0x5e9208(0x5ae)]>=0x1d4c0&&(this['logger'][_0x5e9208(0x31e)](this[_0x5e9208(0x5d2)]+'\x20('+this[_0x5e9208(0x655)]['wuid']+_0x5e9208(0x455)),this[_0x5e9208(0x292)]=null,this[_0x5e9208(0x5ae)]=0x0,this[_0x5e9208(0x2d2)]=0x0,await this[_0x5e9208(0x682)]());}async['scheduleNextCheck'](){const _0x42ec93=a0_0x22fdc2;let _0x3bd693=()=>{const _0x152f70=a0_0x113b;this['logger'][_0x152f70(0x31e)](this[_0x152f70(0x5d2)]+'\x20('+this[_0x152f70(0x655)][_0x152f70(0x537)]+_0x152f70(0x781)+this[_0x152f70(0x292)]+_0x152f70(0x1dd));},_0x172a16=async()=>{const _0x57ed9e=a0_0x113b;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x57ed9e(0x655)][_0x57ed9e(0x537)]+_0x57ed9e(0x59a));let _0x5af12e=Date[_0x57ed9e(0x5b2)]()-0xc*0x3c*0x3c*0x3e8;return await J['find']({'owner':this[_0x57ed9e(0x655)][_0x57ed9e(0x537)],'status':{'$in':[_0x57ed9e(0x775),_0x57ed9e(0x536)]},'$or':[{'when':{'$lte':Date[_0x57ed9e(0x5b2)](),'$gte':_0x5af12e}},{'when':0x0}]});},_0x44610f=async _0x54d7fc=>{const _0x3f620=a0_0x113b;for(let _0xce98f5 of _0x54d7fc){if(!await J[_0x3f620(0x432)]({'_id':_0xce98f5[_0x3f620(0x762)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x3f620(0x5b2)]()-0x1770}}]},{'$set':{'startSend':Date['now']()}}))return;if(!this[_0x3f620(0x2b3)]){this['logger'][_0x3f620(0x31e)](this[_0x3f620(0x5d2)]+'\x20('+this[_0x3f620(0x655)][_0x3f620(0x537)]+_0x3f620(0x1c1));break;}if(_0xce98f5[_0x3f620(0x73e)]===_0x3f620(0x357)&&!this[_0x3f620(0x6a3)]?.['flowConfig'][_0x3f620(0x423)]){this[_0x3f620(0x3e1)][_0x3f620(0x367)](this[_0x3f620(0x5d2)]+'\x20('+this[_0x3f620(0x655)][_0x3f620(0x537)]+_0x3f620(0x360));continue;}(!_0xce98f5[_0x3f620(0x6b2)]||_0xce98f5['remoteJidsRemaining'][_0x3f620(0x44c)]===0x0)&&(_0xce98f5=await J['findByIdAndUpdate'](_0xce98f5[_0x3f620(0x762)],{'$set':{'status':_0x3f620(0x536),'remoteJidsRemaining':[..._0xce98f5[_0x3f620(0x5c4)]]}},{'new':!0x0}));for(let _0x562324 of _0xce98f5[_0x3f620(0x6b2)]){if(await this[_0x3f620(0x2d3)](),this[_0x3f620(0x5ae)]=Date['now'](),_0xce98f5[_0x3f620(0x1c3)][_0x3f620(0x571)](_0x34e2c=>_0x34e2c[_0x3f620(0x1db)]===_0x562324)){this[_0x3f620(0x3e1)]['verbose'](this[_0x3f620(0x5d2)]+'\x20('+this[_0x3f620(0x655)]['wuid']+_0x3f620(0x718)+_0x562324+'.\x20Pulando.');continue;}if(!this[_0x3f620(0x2b3)]){this[_0x3f620(0x3e1)][_0x3f620(0x31e)](this[_0x3f620(0x5d2)]+'\x20('+this[_0x3f620(0x655)][_0x3f620(0x537)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x3f620(0x292)]){this[_0x3f620(0x3e1)][_0x3f620(0x31e)](this[_0x3f620(0x5d2)]+'\x20('+this[_0x3f620(0x655)][_0x3f620(0x537)]+_0x3f620(0x365)+_0xce98f5[_0x3f620(0x762)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0xce98f5['type']===_0x3f620(0x357)&&!this['AutomateSystem']?.[_0x3f620(0x304)][_0x3f620(0x423)]){this['logger']['error'](this[_0x3f620(0x5d2)]+'\x20('+this[_0x3f620(0x655)][_0x3f620(0x537)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}try{let _0x459e05=await this[_0x3f620(0x67c)](_0x562324,_0xce98f5),_0x56ffc6=_0x459e05['error']===!0x0,_0x2481c7={'remoteJid':_0x562324,'error':_0x56ffc6,'id':_0x56ffc6?null:_0x459e05['id'],'error_log':_0x56ffc6?_0x459e05[_0x3f620(0x4c5)]?_0x459e05[_0x3f620(0x4c5)][_0x3f620(0x78b)]():'':null,'log_timestamp':Date[_0x3f620(0x5b2)]()};if((await J[_0x3f620(0x24b)](_0xce98f5['_id'],{'$push':{'messagesSend':_0x2481c7},'$pull':{'remoteJidsRemaining':_0x562324}},{'new':!0x0}))[_0x3f620(0x592)]===_0x3f620(0x524)){this[_0x3f620(0x3e1)][_0x3f620(0x31e)](this[_0x3f620(0x5d2)]+'\x20('+this['instance']['wuid']+_0x3f620(0x365)+_0xce98f5[_0x3f620(0x762)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}if(_0x56ffc6)continue;let _0xb7eab8=this['getDelay'](_0xce98f5[_0x3f620(0x56a)],_0xce98f5[_0x3f620(0x6d0)]);await this[_0x3f620(0x71d)](_0xb7eab8);}catch(_0x14ecbc){this[_0x3f620(0x3e1)]['error'](this[_0x3f620(0x5d2)]+'\x20('+this[_0x3f620(0x655)][_0x3f620(0x537)]+_0x3f620(0x3cc)+_0x562324+':\x20'+JSON['stringify'](_0x14ecbc,null,0x2));let _0x1d8264={'remoteJid':_0x562324,'error':!0x0,'id':null,'error_log':_0x14ecbc['message'],'log_timestamp':Date[_0x3f620(0x5b2)]()};await J[_0x3f620(0x24b)](_0xce98f5['_id'],{'$push':{'messagesSend':_0x1d8264},'$pull':{'remoteJidsRemaining':_0x562324}},{'new':!0x0});}}let _0x43ba02=await J[_0x3f620(0x7a9)](_0xce98f5[_0x3f620(0x762)]);_0x43ba02[_0x3f620(0x6b2)]['length']===0x0&&_0x43ba02[_0x3f620(0x592)]!==_0x3f620(0x524)&&await J[_0x3f620(0x24b)](_0xce98f5[_0x3f620(0x762)],{'$set':{'status':_0x3f620(0x509)}},{'new':!0x0}),await new Promise(_0xc11a8c=>setTimeout(_0xc11a8c,0x1388));}},_0x1b9d49=async()=>{const _0xb341ee=a0_0x113b;let _0x3f9ac4=await J[_0xb341ee(0x2ce)]({'owner':this[_0xb341ee(0x655)]['wuid'],'status':_0xb341ee(0x775),'when':{'$gt':Date[_0xb341ee(0x5b2)]()}})['sort']({'when':0x1});_0x3f9ac4&&_0x3f9ac4['when']-Date[_0xb341ee(0x5b2)]()<=0x5265c00?this[_0xb341ee(0x2d2)]=_0x3f9ac4['when']-Date[_0xb341ee(0x5b2)]():this[_0xb341ee(0x2d2)]=(0x3c+Math[_0xb341ee(0x674)](Math[_0xb341ee(0x321)]()*0x3c))*0x3c*0x3e8,this[_0xb341ee(0x2d2)]=Math['max'](this['delayMessage'],0x7d0);let _0xf65b18=Math['round'](this[_0xb341ee(0x2d2)]/0xea60);if(_0x3f9ac4){let _0x252485=new Date(_0x3f9ac4[_0xb341ee(0x513)])[_0xb341ee(0x6b3)]();this[_0xb341ee(0x3e1)][_0xb341ee(0x31e)](this[_0xb341ee(0x5d2)]+'\x20('+this[_0xb341ee(0x655)][_0xb341ee(0x537)]+_0xb341ee(0x58d)+_0x252485+',\x20fará\x20nova\x20verificação\x20em\x20'+_0xf65b18+'\x20minutos');}else this[_0xb341ee(0x3e1)]['verbose'](this[_0xb341ee(0x5d2)]+'\x20('+this[_0xb341ee(0x655)]['wuid']+_0xb341ee(0x5ad)+_0xf65b18+'\x20minutos');setTimeout(()=>this[_0xb341ee(0x682)](),this['delayMessage']);};if(this[_0x42ec93(0x292)]){await this['setRestartTimer'](),_0x3bd693();return;}if(!this['isConnected']){this[_0x42ec93(0x3e1)][_0x42ec93(0x31e)](this[_0x42ec93(0x5d2)]+'\x20('+this[_0x42ec93(0x655)][_0x42ec93(0x537)]+_0x42ec93(0x411)),this[_0x42ec93(0x292)]=null,this[_0x42ec93(0x5ae)]=0x0,this[_0x42ec93(0x2d2)]=0x0;return;}try{let _0x25dea0=await _0x172a16();_0x25dea0[_0x42ec93(0x44c)]===0x0?this['logger'][_0x42ec93(0x31e)](this[_0x42ec93(0x5d2)]+'\x20('+this[_0x42ec93(0x655)]['wuid']+_0x42ec93(0x47f)):(this[_0x42ec93(0x292)]=_0x25dea0[0x0]['_id'],await _0x44610f(_0x25dea0)),await _0x1b9d49(),this[_0x42ec93(0x292)]=null;}catch(_0x4dc4ce){this[_0x42ec93(0x3e1)][_0x42ec93(0x367)](_0x42ec93(0x5d8)+JSON[_0x42ec93(0x2c1)](_0x4dc4ce,null,0x2));}}['getDelay'](_0x25d37f,_0x56af3f){const _0x200177=a0_0x22fdc2;return _0x25d37f=Math['max'](0.5,_0x25d37f),_0x56af3f=Math[_0x200177(0x384)](0x3,_0x56af3f),Math['floor'](Math['random']()*(_0x56af3f-_0x25d37f+0x1)+_0x25d37f)*0x3e8;}[a0_0x22fdc2(0x71d)](_0x53d15f){return new Promise(_0x9cc2a3=>setTimeout(_0x9cc2a3,_0x53d15f));}async['getVariablesChat'](_0x417565){const _0x1eb676=a0_0x22fdc2;if(!this[_0x1eb676(0x6a3)]&&(await this[_0x1eb676(0x261)](),!this[_0x1eb676(0x6a3)]))return null;_0x417565=this[_0x1eb676(0x4e6)](_0x417565);let _0x1cab71=await this[_0x1eb676(0x7ac)][_0x1eb676(0x565)][_0x1eb676(0x2ce)]({'where':{'_id':_0x417565,'owner':this['instance'][_0x1eb676(0x537)]}}),_0x1c84e2={};if(_0x1cab71&&_0x1cab71['leadInfo']){let _0x3dbdd0=_0x1cab71[_0x1eb676(0x4d5)];typeof _0x3dbdd0[_0x1eb676(0x29c)]=='string'&&(_0x1c84e2[_0x1eb676(0x29c)]=_0x3dbdd0[_0x1eb676(0x29c)]),typeof _0x3dbdd0[_0x1eb676(0x5df)]==_0x1eb676(0x5a4)&&(_0x1c84e2['nomecompleto']=_0x3dbdd0['nomecompleto']),typeof _0x3dbdd0[_0x1eb676(0x65d)]==_0x1eb676(0x5a4)&&(_0x1c84e2[_0x1eb676(0x65d)]=_0x3dbdd0[_0x1eb676(0x65d)]),typeof _0x3dbdd0[_0x1eb676(0x527)]==_0x1eb676(0x5a4)&&(_0x1c84e2[_0x1eb676(0x527)]=_0x3dbdd0['cpf']),typeof _0x3dbdd0[_0x1eb676(0x592)]==_0x1eb676(0x5a4)&&(_0x1c84e2[_0x1eb676(0x592)]=_0x3dbdd0[_0x1eb676(0x592)]),typeof _0x3dbdd0['notas']==_0x1eb676(0x5a4)&&(_0x1c84e2[_0x1eb676(0x5c1)]=_0x3dbdd0['notas']),typeof _0x3dbdd0[_0x1eb676(0x45c)]==_0x1eb676(0x5a4)&&(_0x1c84e2['responsavelid']=_0x3dbdd0[_0x1eb676(0x45c)]),Array[_0x1eb676(0x523)](_0x3dbdd0[_0x1eb676(0x787)])&&(_0x1c84e2[_0x1eb676(0x787)]=_0x3dbdd0[_0x1eb676(0x787)][_0x1eb676(0x69d)](',\x20'));}return _0x1cab71&&_0x1cab71[_0x1eb676(0x4d5)]&&_0x1cab71[_0x1eb676(0x4d5)][_0x1eb676(0x489)]&&_0x1cab71[_0x1eb676(0x4d5)][_0x1eb676(0x489)][_0x1eb676(0x3a1)](_0x1fae05=>{const _0x24f394=_0x1eb676;let _0x2fe5f4=this[_0x24f394(0x6a3)]?.['customFields'][_0x24f394(0x631)](_0x4004d0=>_0x4004d0[_0x24f394(0x762)]===_0x1fae05[_0x24f394(0x762)]);_0x2fe5f4&&(_0x1c84e2[_0x2fe5f4[_0x24f394(0x5a6)]]=_0x1fae05[_0x24f394(0x436)]);}),_0x1c84e2;}async[a0_0x22fdc2(0x6b7)](_0x48972b,_0x1e03e7){const _0x4a1ecf=a0_0x22fdc2;let _0x44df50=await this[_0x4a1ecf(0x780)](_0x1e03e7);return this[_0x4a1ecf(0x2b1)](_0x48972b,_0x44df50);}async[a0_0x22fdc2(0x3b8)](_0x2c920c){const _0x4a87f1=a0_0x22fdc2;try{if(this[_0x4a87f1(0x3e1)][_0x4a87f1(0x31e)](this['instanceName']+'\x20('+this[_0x4a87f1(0x655)][_0x4a87f1(0x537)]+_0x4a87f1(0x763)),_0x2c920c[_0x4a87f1(0x6ad)]&&_0x2c920c['_id']){if(this['processingScheduleMessageId']===_0x2c920c['_id'][_0x4a87f1(0x78b)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x33419a=await J[_0x4a87f1(0x35c)](_0x2c920c['_id']);return setTimeout(()=>this[_0x4a87f1(0x682)](),0x7d0),_0x33419a;}let _0x496c1e;if(_0x2c920c[_0x4a87f1(0x762)]&&(_0x496c1e=await J[_0x4a87f1(0x2ce)]({'owner':this[_0x4a87f1(0x655)]['wuid'],'_id':_0x2c920c[_0x4a87f1(0x762)]})),_0x496c1e){let _0x153409=_0x2c920c;this[_0x4a87f1(0x292)]===_0x496c1e[_0x4a87f1(0x762)]['toString']()&&(_0x153409={'status':_0x2c920c['status'],'_id':_0x2c920c[_0x4a87f1(0x762)]});let _0x153808=await J[_0x4a87f1(0x24b)](_0x496c1e[_0x4a87f1(0x762)],{'$set':_0x153409},{'new':!0x0});return setTimeout(()=>this[_0x4a87f1(0x682)](),0x7d0),_0x153808;}else{_0x2c920c[_0x4a87f1(0x662)]=this[_0x4a87f1(0x655)][_0x4a87f1(0x537)];let _0x33325c=await new J(_0x2c920c)[_0x4a87f1(0x5ab)]();return setTimeout(()=>this[_0x4a87f1(0x682)](),0x7d0),_0x33325c;}}catch(_0x767652){throw this[_0x4a87f1(0x3e1)][_0x4a87f1(0x367)](this[_0x4a87f1(0x5d2)]+'\x20('+this[_0x4a87f1(0x655)][_0x4a87f1(0x537)]+_0x4a87f1(0x6e1)+JSON['stringify'](_0x767652,null,0x2)),new g(_0x4a87f1(0x501)+_0x767652[_0x4a87f1(0x649)]);}}async[a0_0x22fdc2(0x754)](){const _0x44e67f=a0_0x22fdc2;try{return await J['find']({'owner':this[_0x44e67f(0x655)][_0x44e67f(0x537)]})['sort']({'when':0x1});}catch(_0x591149){throw this[_0x44e67f(0x3e1)][_0x44e67f(0x367)](this[_0x44e67f(0x5d2)]+'\x20('+this[_0x44e67f(0x655)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:'+JSON[_0x44e67f(0x2c1)](_0x591149,null,0x2)),new g(_0x44e67f(0x501)+_0x591149[_0x44e67f(0x649)]);}}async[a0_0x22fdc2(0x479)](){const _0x59794b=a0_0x22fdc2;try{return await J['deleteMany']({'owner':this[_0x59794b(0x655)][_0x59794b(0x537)],'status':_0x59794b(0x509)}),this['logger']['verbose'](this[_0x59794b(0x5d2)]+'\x20('+this[_0x59794b(0x655)][_0x59794b(0x537)]+_0x59794b(0x465)),this['getScheduleMessage']();}catch(_0x22d895){throw this['logger'][_0x59794b(0x367)](this[_0x59794b(0x5d2)]+'\x20('+this[_0x59794b(0x655)][_0x59794b(0x537)]+_0x59794b(0x24e)+JSON['stringify'](_0x22d895,null,0x2)),new g(_0x59794b(0x501)+_0x22d895[_0x59794b(0x649)]);}}async['SendScheduleMessage'](_0x2b0187,_0x5524dd){const _0x286d33=a0_0x22fdc2;try{if(_0x5524dd[_0x286d33(0x73e)]===_0x286d33(0x357)&&!this[_0x286d33(0x6a3)]?.['flowConfig']['enabled'])return this[_0x286d33(0x3e1)][_0x286d33(0x367)](this['instanceName']+'\x20('+this[_0x286d33(0x655)][_0x286d33(0x537)]+_0x286d33(0x3b4)),{'error':!0x0,'detail':_0x286d33(0x5a8)};switch(_0x5524dd[_0x286d33(0x73e)]){case _0x286d33(0x70b):return await this[_0x286d33(0x346)](_0x5524dd,_0x2b0187);case _0x286d33(0x4b9):return await this['scheduleSendMedia'](_0x5524dd,_0x2b0187);case _0x286d33(0x280):return await this['scheduleSendAudio'](_0x5524dd,_0x2b0187);case _0x286d33(0x357):let _0x48cc5e=new Pe();return _0x48cc5e[_0x286d33(0x5a6)]=_0x5524dd[_0x286d33(0x603)],_0x48cc5e[_0x286d33(0x1db)]=_0x2b0187,await this[_0x286d33(0x677)](_0x48cc5e);break;default:return this[_0x286d33(0x3e1)][_0x286d33(0x367)](this[_0x286d33(0x5d2)]+'\x20('+this[_0x286d33(0x655)]['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x5524dd[_0x286d33(0x73e)]),{'error':!0x0,'detail':_0x286d33(0x65f)};}}catch(_0x9e3e82){return this['logger'][_0x286d33(0x367)](this[_0x286d33(0x5d2)]+'\x20('+this[_0x286d33(0x655)][_0x286d33(0x537)]+_0x286d33(0x342)+JSON[_0x286d33(0x2c1)](_0x9e3e82,null,0x2)),{'error':!0x0,'detail':_0x9e3e82[_0x286d33(0x649)]};}}[a0_0x22fdc2(0x6ea)](_0x3e06b9){const _0x2f8bb0=a0_0x22fdc2;let _0x9bde97=_0x3e06b9[_0x2f8bb0(0x289)]('|'),_0x43de28=Math[_0x2f8bb0(0x674)](Math['random']()*_0x9bde97[_0x2f8bb0(0x44c)]);return _0x9bde97[_0x43de28]['trim']();}async['scheduleSendText'](_0x9c0e01,_0x4c2c9f){const _0x55530f=a0_0x22fdc2;if(this[_0x55530f(0x3e1)][_0x55530f(0x31e)](this[_0x55530f(0x5d2)]+'\x20('+this['instance'][_0x55530f(0x537)]+_0x55530f(0x2fc)),!_0x9c0e01['message']['text']||_0x9c0e01['message']['text'][_0x55530f(0x44c)]===0x0)return{'error':!0x0,'detail':_0x55530f(0x252)};let _0x5231f5=this[_0x55530f(0x6ea)](_0x9c0e01[_0x55530f(0x649)][_0x55530f(0x70b)]),_0x2f7720=await this['replaceVariablesChat'](_0x5231f5,_0x4c2c9f),_0x5b7a34={'number':_0x4c2c9f,'options':{'delay':_0x9c0e01['message'][_0x55530f(0x2ac)]},'textMessage':{'text':_0x2f7720}},_0x5ad46d=null;try{let _0x1abed0=await this['textMessage'](_0x5b7a34);if(_0x1abed0&&_0x1abed0[_0x55530f(0x592)])return{'error':!0x1,'id':_0x1abed0['key']['id']};_0x5ad46d=JSON[_0x55530f(0x2c1)](_0x1abed0),this['logger'][_0x55530f(0x31e)](this['instanceName']+'\x20('+this[_0x55530f(0x655)][_0x55530f(0x537)]+'):\x20'+_0x5ad46d);}catch(_0x1c866b){this[_0x55530f(0x3e1)]['error'](this['instanceName']+'\x20('+this[_0x55530f(0x655)][_0x55530f(0x537)]+_0x55530f(0x79b)+JSON[_0x55530f(0x2c1)](_0x1c866b,null,0x2)),_0x5ad46d=_0x1c866b[_0x55530f(0x649)];}if(_0x5ad46d)return{'error':!0x0,'detail':(typeof _0x5ad46d==_0x55530f(0x1c0)?JSON[_0x55530f(0x2c1)](_0x5ad46d,null,0x2):_0x5ad46d)[_0x55530f(0x274)](/[\[\]{}\n]/g,'\x20')[_0x55530f(0x274)](/  +/g,'\x20')};}async[a0_0x22fdc2(0x299)](_0x5c6d33,_0x37fb91){const _0x2d192c=a0_0x22fdc2;this[_0x2d192c(0x3e1)]['verbose'](this[_0x2d192c(0x5d2)]+'\x20('+this[_0x2d192c(0x655)]['wuid']+_0x2d192c(0x307));let _0x499fa0;if(_0x5c6d33['message']['text']&&_0x5c6d33[_0x2d192c(0x649)][_0x2d192c(0x70b)][_0x2d192c(0x44c)]>0x0){let _0x341577=this[_0x2d192c(0x6ea)](_0x5c6d33[_0x2d192c(0x649)]['text']);_0x499fa0=await this[_0x2d192c(0x6b7)](_0x341577,_0x37fb91);}let _0x2219f4={'number':_0x37fb91,'options':{'delay':_0x5c6d33[_0x2d192c(0x649)][_0x2d192c(0x2ac)]},'mediaMessage':{'mediatype':_0x5c6d33['message']['mediatype'],'caption':_0x499fa0,'media':_0x5c6d33[_0x2d192c(0x649)]['urlOrBase64']}},_0x3f9fa1=null;try{let _0x3c4c69=await this['mediaMessage'](_0x2219f4);if(_0x3c4c69&&_0x3c4c69['status'])return{'error':!0x1,'id':_0x3c4c69[_0x2d192c(0x4a1)]['id']};_0x3f9fa1=JSON['stringify'](_0x3c4c69),this[_0x2d192c(0x3e1)][_0x2d192c(0x31e)](this['instanceName']+'\x20('+this[_0x2d192c(0x655)]['wuid']+_0x2d192c(0x6f5)+_0x3f9fa1);}catch(_0xa091a2){this[_0x2d192c(0x3e1)]['error'](this[_0x2d192c(0x5d2)]+'\x20('+this[_0x2d192c(0x655)][_0x2d192c(0x537)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+JSON['stringify'](_0xa091a2,null,0x2)),_0x3f9fa1=_0xa091a2['message'];}if(_0x3f9fa1)return{'error':!0x0,'detail':(typeof _0x3f9fa1=='object'?JSON[_0x2d192c(0x2c1)](_0x3f9fa1,null,0x2):_0x3f9fa1)[_0x2d192c(0x274)](/[\[\]{}\n]/g,'\x20')[_0x2d192c(0x274)](/  +/g,'\x20')};}async[a0_0x22fdc2(0x7a3)](_0x40c20d,_0x1e2d30){const _0x39bc05=a0_0x22fdc2;this[_0x39bc05(0x3e1)][_0x39bc05(0x31e)](this['instanceName']+'\x20('+this[_0x39bc05(0x655)][_0x39bc05(0x537)]+_0x39bc05(0x3b9));let _0x536428={'number':_0x1e2d30,'options':{'delay':_0x40c20d[_0x39bc05(0x649)][_0x39bc05(0x2ac)]},'audioMessage':{'audio':_0x40c20d[_0x39bc05(0x649)][_0x39bc05(0x347)]}},_0x39148a=null;try{let _0x2de80a=await this['audioWhatsapp'](_0x536428);if(_0x2de80a&&_0x2de80a[_0x39bc05(0x592)])return{'error':!0x1,'id':_0x2de80a[_0x39bc05(0x4a1)]['id']};_0x39148a=JSON[_0x39bc05(0x2c1)](_0x2de80a),this[_0x39bc05(0x3e1)]['verbose'](this[_0x39bc05(0x5d2)]+'\x20('+this[_0x39bc05(0x655)][_0x39bc05(0x537)]+_0x39bc05(0x6f5)+_0x39148a);}catch(_0x4436f2){this['logger'][_0x39bc05(0x367)](this[_0x39bc05(0x5d2)]+'\x20('+this[_0x39bc05(0x655)][_0x39bc05(0x537)]+_0x39bc05(0x2d8)+JSON[_0x39bc05(0x2c1)](_0x4436f2,null,0x2)),_0x39148a=_0x4436f2[_0x39bc05(0x649)];}if(_0x39148a)return{'error':!0x0,'detail':(typeof _0x39148a==_0x39bc05(0x1c0)?JSON[_0x39bc05(0x2c1)](_0x39148a,null,0x2):_0x39148a)['replace'](/[\[\]{}\n]/g,'\x20')[_0x39bc05(0x274)](/  +/g,'\x20')};}},be=require(a0_0x22fdc2(0x553)),Pt=class c{constructor(_0x3729fb,_0x340ee3,_0x2f2df1){const _0x1dee6c=a0_0x22fdc2;this[_0x1dee6c(0x74a)]=_0x3729fb,this[_0x1dee6c(0x6fa)]=_0x340ee3,this['repository']=_0x2f2df1,this['db']={},this[_0x1dee6c(0x541)]={},this[_0x1dee6c(0x3e1)]=new C(c[_0x1dee6c(0x5a6)]),this[_0x1dee6c(0x64d)]={},(this[_0x1dee6c(0x454)](),this[_0x1dee6c(0x58e)](),this[_0x1dee6c(0x4cb)](),Object['assign'](this['db'],_0x340ee3['get'](_0x1dee6c(0x2ae))),Object[_0x1dee6c(0x42b)](this['redis'],_0x340ee3[_0x1dee6c(0x71b)](_0x1dee6c(0x6d1))),this[_0x1dee6c(0x3e3)]=this['db']['ENABLED']?this[_0x1dee6c(0x7ac)][_0x1dee6c(0x63d)]?.['db'](this['db'][_0x1dee6c(0x267)]['DB_PREFIX_NAME']+_0x1dee6c(0x664)):void 0x0,this[_0x1dee6c(0x4c9)]=this[_0x1dee6c(0x541)]['ENABLED']?new ne(this[_0x1dee6c(0x541)]):void 0x0);}[a0_0x22fdc2(0x495)](_0x2ff23a){const _0x4e478e=a0_0x22fdc2;let _0x4d965f=this[_0x4e478e(0x6fa)][_0x4e478e(0x71b)]('DEL_INSTANCE');typeof _0x4d965f==_0x4e478e(0x216)&&_0x4d965f>0x0&&setTimeout(()=>{const _0xababc7=_0x4e478e;this[_0xababc7(0x64d)][_0x2ff23a]?.[_0xababc7(0x5d0)]?.[_0xababc7(0x4f2)]!==_0xababc7(0x70a)&&delete this[_0xababc7(0x64d)][_0x2ff23a];},0x3e8*0x3c*_0x4d965f);}async[a0_0x22fdc2(0x2de)](_0x1a50ae){const _0x13c590=a0_0x22fdc2;if(_0x1a50ae&&!this[_0x13c590(0x64d)][_0x1a50ae])throw new $(_0x13c590(0x707)+_0x1a50ae+_0x13c590(0x687));let _0x2948f4=[];for await(let [_0x5743af,_0x5270c2]of Object[_0x13c590(0x519)](this[_0x13c590(0x64d)]))if(_0x5270c2&&_0x5270c2[_0x13c590(0x5d0)][_0x13c590(0x4f2)]===_0x13c590(0x70a)){let _0x334769=await this[_0x13c590(0x7ac)][_0x13c590(0x665)][_0x13c590(0x631)](_0x5743af);_0x2948f4[_0x13c590(0x23d)]({'instance':{'instanceName':_0x5743af,'apikey':_0x334769[_0x13c590(0x3b1)],'owner':_0x5270c2[_0x13c590(0x537)],'profileName':await _0x5270c2[_0x13c590(0x3ed)]()||'not\x20loaded','profilePictureUrl':_0x5270c2[_0x13c590(0x1f0)]}});}return _0x2948f4[_0x13c590(0x631)](_0xd65466=>_0xd65466['instance']['instanceName']===_0x1a50ae)??_0x2948f4;}[a0_0x22fdc2(0x4cb)](){setInterval(async()=>{const _0x3e3352=a0_0x113b;if(this['db'][_0x3e3352(0x3e8)])(await this[_0x3e3352(0x3e3)][_0x3e3352(0x328)]())['forEach'](async _0x467958=>{const _0x3c39e9=_0x3e3352;let _0x4742fa=_0x467958[_0x3c39e9(0x2e2)][_0x3c39e9(0x274)](/^[\w-]+./,'');await this[_0x3c39e9(0x3e3)][_0x3c39e9(0x741)](_0x4742fa)[_0x3c39e9(0x229)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x42f226=(0x0,te[_0x3e3352(0x3f2)])(j,{'encoding':'utf-8'});for await(let _0x43cc27 of _0x42f226)_0x43cc27[_0x3e3352(0x640)]()&&(0x0,te[_0x3e3352(0x336)])((0x0,be[_0x3e3352(0x69d)])(j,_0x43cc27[_0x3e3352(0x5a6)]),{'encoding':_0x3e3352(0x49d)})[_0x3e3352(0x3a1)](async _0xc3ee35=>{const _0x2a4107=_0x3e3352;(_0xc3ee35[_0x2a4107(0x77c)](/^app.state.*/)||_0xc3ee35[_0x2a4107(0x77c)](/^session-.*/))&&(0x0,te[_0x2a4107(0x567)])((0x0,be[_0x2a4107(0x69d)])(j,_0x43cc27[_0x2a4107(0x5a6)],_0xc3ee35),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async['cleaningUp'](_0x9fb96d){const _0x57abfa=a0_0x22fdc2;this['db']['ENABLED']&&(await this[_0x57abfa(0x7ac)][_0x57abfa(0x63d)][_0x57abfa(0x4e9)](),(await this['dbInstance'][_0x57abfa(0x328)]())[_0x57abfa(0x44c)]>0x0&&await this[_0x57abfa(0x3e3)][_0x57abfa(0x373)](_0x9fb96d)),this[_0x57abfa(0x541)][_0x57abfa(0x3e8)]&&(this[_0x57abfa(0x4c9)][_0x57abfa(0x6a8)]=_0x9fb96d,await this['redisCache'][_0x57abfa(0x3fe)]()),!this['db'][_0x57abfa(0x3e8)]&&!this[_0x57abfa(0x541)][_0x57abfa(0x3e8)]&&(0x0,te[_0x57abfa(0x567)])((0x0,be[_0x57abfa(0x69d)])(j,_0x9fb96d),{'recursive':!0x0,'force':!0x0});}async[a0_0x22fdc2(0x504)](){const _0x16336d=a0_0x22fdc2;let _0x59a67a=async _0x5e6285=>{const _0x2671c2=a0_0x113b;let _0x392475=new ye(this[_0x2671c2(0x6fa)],this[_0x2671c2(0x74a)],this['repository']);_0x392475[_0x2671c2(0x5d2)]=_0x5e6285,await _0x392475['connectToWhatsapp'](),this[_0x2671c2(0x64d)][_0x5e6285]=_0x392475;};try{if(this[_0x16336d(0x541)][_0x16336d(0x3e8)]){let _0x41ecdc=await this[_0x16336d(0x4c9)]['instanceKeys']();_0x41ecdc?.[_0x16336d(0x44c)]>0x0&&_0x41ecdc[_0x16336d(0x3a1)](async _0x36cd27=>await _0x59a67a(_0x36cd27[_0x16336d(0x289)](':')[0x1]));}if(this['db'][_0x16336d(0x3e8)]){await this[_0x16336d(0x7ac)][_0x16336d(0x63d)]['connect']();let _0x4f187b=await this[_0x16336d(0x3e3)][_0x16336d(0x328)]();_0x4f187b['length']>0x0&&_0x4f187b[_0x16336d(0x3a1)](async _0x4eae40=>await _0x59a67a(_0x4eae40[_0x16336d(0x2e2)][_0x16336d(0x274)](/^[\w-]+\./,'')));return;}let _0x1c8c00=(0x0,te[_0x16336d(0x3f2)])(j,{'encoding':'utf-8'});for await(let _0x511e38 of _0x1c8c00)if(_0x511e38[_0x16336d(0x640)]()){if((0x0,te[_0x16336d(0x336)])((0x0,be['join'])(j,_0x511e38[_0x16336d(0x5a6)]),{'encoding':_0x16336d(0x49d)})[_0x16336d(0x44c)]===0x0){(0x0,te['rmSync'])((0x0,be[_0x16336d(0x69d)])(j,_0x511e38[_0x16336d(0x5a6)]),{'recursive':!0x0,'force':!0x0});break;}await _0x59a67a(_0x511e38[_0x16336d(0x5a6)]);}}catch(_0x5d0962){this['logger'][_0x16336d(0x367)](_0x5d0962);}}[a0_0x22fdc2(0x454)](){const _0x5eac5e=a0_0x22fdc2;this[_0x5eac5e(0x74a)]['on'](_0x5eac5e(0x750),async _0x30d23c=>{const _0x12c357=_0x5eac5e;try{this['waInstances'][_0x30d23c]=void 0x0;}catch{}try{this[_0x12c357(0x230)](_0x30d23c);}finally{this[_0x12c357(0x3e1)][_0x12c357(0x57a)]('Instance\x20\x22'+_0x30d23c+_0x12c357(0x31a));}});}['noConnection'](){const _0x41d44f=a0_0x22fdc2;this[_0x41d44f(0x74a)]['on']('no.connection',async _0x150ec7=>{const _0x54b340=_0x41d44f;try{this[_0x54b340(0x64d)][_0x150ec7]=void 0x0,this[_0x54b340(0x230)](_0x150ec7);}catch(_0x5ec256){this[_0x54b340(0x3e1)][_0x54b340(0x367)]({'localError':_0x54b340(0x58e),'warn':'Error\x20deleting\x20instance\x20from\x20memory.','error':_0x5ec256});}finally{this[_0x54b340(0x3e1)][_0x54b340(0x57a)](_0x54b340(0x707)+_0x150ec7+_0x54b340(0x41e));}});}},xt=class extends H{constructor(_0x4357b2){super(_0x4357b2),this['configService']=_0x4357b2;}[a0_0x22fdc2(0x607)](_0x152262){return ks(_0x152262);}async[a0_0x22fdc2(0x6cf)](_0x48d98e){const _0xa61853=a0_0x22fdc2;if(_0x48d98e[_0xa61853(0x44c)]!==0x0)try{return{'insertCount':(await this[_0xa61853(0x607)](_0x48d98e[0x0][_0xa61853(0x662)])[_0xa61853(0x4ac)]([..._0x48d98e]))['length']};}catch(_0x4e6309){return _0x4e6309;}}async['find'](_0x20481a){const _0x564bf7=a0_0x22fdc2;try{return await this[_0x564bf7(0x607)](_0x20481a[_0x564bf7(0x3bf)][_0x564bf7(0x662)])[_0x564bf7(0x631)]({..._0x20481a[_0x564bf7(0x3bf)]})[_0x564bf7(0x698)]({'lastmsg':-0x1})[_0x564bf7(0x243)](_0x20481a?.['limit']??0x0)[_0x564bf7(0x6d7)]();}catch{return[];}}async[a0_0x22fdc2(0x6ad)](_0x567e46){const _0xdbc587=a0_0x22fdc2;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x567e46['where']['owner'])['deleteMany']({..._0x567e46[_0xdbc587(0x3bf)]}))[_0xdbc587(0x2cd)]};}catch(_0x56e001){return{'error':_0x56e001?.[_0xdbc587(0x78b)]()};}}async[a0_0x22fdc2(0x58a)](_0x406519){const _0x546486=a0_0x22fdc2;try{return await this[_0x546486(0x607)](_0x406519[_0x546486(0x3bf)]['owner'])[_0x546486(0x229)]({..._0x406519[_0x546486(0x3bf)]}),[];}catch(_0x51eb52){return{'error':_0x51eb52?.[_0x546486(0x78b)]()};}}async[a0_0x22fdc2(0x2ce)](_0x321c9a){const _0x3254af=a0_0x22fdc2;try{return await this[_0x3254af(0x607)](_0x321c9a['where'][_0x3254af(0x662)])[_0x3254af(0x2ce)]({..._0x321c9a['where']})[_0x3254af(0x6d7)]();}catch{return null;}}async['updateOne'](_0x3ed2ab,_0x556840,_0x1b3051){const _0x4ae05b=a0_0x22fdc2;try{let _0x18ca4e={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x1b3051};return await this[_0x4ae05b(0x607)](_0x3ed2ab[_0x4ae05b(0x3bf)]['owner'])[_0x4ae05b(0x432)]({..._0x3ed2ab[_0x4ae05b(0x3bf)]},{'$set':_0x556840},_0x18ca4e);}catch(_0x5b368f){return console['error'](_0x5b368f),null;}}async[a0_0x22fdc2(0x2f0)](_0x4b5114){const _0xcd7628=a0_0x22fdc2;try{let _0x334e77=this[_0xcd7628(0x607)](_0x4b5114[0x0][_0xcd7628(0x23f)][_0xcd7628(0x3bf)]['owner']),_0x4d788a=_0x4b5114[_0xcd7628(0x2d7)](_0xd9a53a=>({'updateOne':{'filter':{..._0xd9a53a['query'][_0xcd7628(0x3bf)]},'update':{'$set':_0xd9a53a[_0xcd7628(0x635)]}}}));return(await _0x334e77[_0xcd7628(0x4f8)](_0x4d788a))[_0xcd7628(0x444)];}catch(_0x6a17d3){return console[_0xcd7628(0x367)](_0x6a17d3),0x0;}}},$t=class{constructor(_0x24f76d){this['waMonitor']=_0x24f76d;}async['editChat']({instanceName:_0x203f24},_0x5ca53b){const _0x30bc53=a0_0x22fdc2;return await this[_0x30bc53(0x5e2)][_0x30bc53(0x64d)][_0x203f24][_0x30bc53(0x681)](_0x5ca53b);}async[a0_0x22fdc2(0x766)]({instanceName:_0x58f3f1},_0x21c87f){const _0x1a2839=a0_0x22fdc2;return await this[_0x1a2839(0x5e2)][_0x1a2839(0x64d)][_0x58f3f1][_0x1a2839(0x766)](_0x21c87f);}async[a0_0x22fdc2(0x5c3)]({instanceName:_0x2d703c},_0x3e8531){const _0x52b933=a0_0x22fdc2;return await this[_0x52b933(0x5e2)]['waInstances'][_0x2d703c][_0x52b933(0x69b)](_0x3e8531);}async[a0_0x22fdc2(0x545)]({instanceName:_0x555642},_0x40d007){const _0xa6d57c=a0_0x22fdc2;return await this[_0xa6d57c(0x5e2)]['waInstances'][_0x555642][_0xa6d57c(0x545)](_0x40d007);}async[a0_0x22fdc2(0x407)]({instanceName:_0x3b127d},_0x2feb00){const _0x23b243=a0_0x22fdc2;return await this[_0x23b243(0x5e2)][_0x23b243(0x64d)][_0x3b127d]['deleteMessage'](_0x2feb00);}async[a0_0x22fdc2(0x1f1)]({instanceName:_0x255912},_0xffeb23){const _0xc6fd86=a0_0x22fdc2;return await this['waMonitor'][_0xc6fd86(0x64d)][_0x255912]['profilePicture'](_0xffeb23[_0xc6fd86(0x216)]);}async[a0_0x22fdc2(0x3da)]({instanceName:_0x4c6fbe},_0x23cd17){const _0x4a84ce=a0_0x22fdc2;return await this[_0x4a84ce(0x5e2)]['waInstances'][_0x4c6fbe]['fetchProfile'](_0x23cd17[_0x4a84ce(0x216)]);}async['updatePresence']({instanceName:_0x24e4c1},_0x4421a2){const _0x52592d=a0_0x22fdc2;return await this[_0x52592d(0x5e2)][_0x52592d(0x64d)][_0x24e4c1]['updatePresence'](_0x4421a2);}async[a0_0x22fdc2(0x5e1)]({instanceName:_0x20f75b},_0x4d8bce){const _0x48fcf6=a0_0x22fdc2;return await this[_0x48fcf6(0x5e2)]['waInstances'][_0x20f75b]['fetchContacts'](_0x4d8bce);}async[a0_0x22fdc2(0x3e7)]({instanceName:_0x2895a0},_0x2ab138){const _0x441c42=a0_0x22fdc2;return await this[_0x441c42(0x5e2)][_0x441c42(0x64d)][_0x2895a0][_0x441c42(0x3e7)](_0x2ab138);}async[a0_0x22fdc2(0x619)]({instanceName:_0x499bbf},_0x1d850b){const _0x17cdc6=a0_0x22fdc2;return await this[_0x17cdc6(0x5e2)][_0x17cdc6(0x64d)][_0x499bbf]['fetchMessages'](_0x1d850b);}async[a0_0x22fdc2(0x791)]({instanceName:_0x818286}){const _0x2e6cf6=a0_0x22fdc2;return await this[_0x2e6cf6(0x5e2)][_0x2e6cf6(0x64d)][_0x818286][_0x2e6cf6(0x791)]();}async[a0_0x22fdc2(0x306)]({instanceName:_0xfa8400}){const _0x295589=a0_0x22fdc2;return await this[_0x295589(0x5e2)][_0x295589(0x64d)][_0xfa8400][_0x295589(0x306)]();}async[a0_0x22fdc2(0x3dd)]({instanceName:_0x3110ff},_0x1c0f89){const _0x4b9d0b=a0_0x22fdc2;return await this[_0x4b9d0b(0x5e2)][_0x4b9d0b(0x64d)][_0x3110ff][_0x4b9d0b(0x3dd)](_0x1c0f89);}async[a0_0x22fdc2(0x721)]({instanceName:_0x44b9c2},_0x459af1){const _0x2ffa03=a0_0x22fdc2;return await this[_0x2ffa03(0x5e2)]['waInstances'][_0x44b9c2]['fetchBusinessProfile'](_0x459af1[_0x2ffa03(0x216)]);}async['updateProfileName']({instanceName:_0x47a55f},_0x176782){const _0x22c83d=a0_0x22fdc2;return await this[_0x22c83d(0x5e2)][_0x22c83d(0x64d)][_0x47a55f][_0x22c83d(0x6f1)](_0x176782[_0x22c83d(0x5a6)]);}async[a0_0x22fdc2(0x5fc)]({instanceName:_0x321bf5},_0xc1c51){const _0x10f803=a0_0x22fdc2;return await this['waMonitor'][_0x10f803(0x64d)][_0x321bf5][_0x10f803(0x5fc)](_0xc1c51[_0x10f803(0x592)]);}async[a0_0x22fdc2(0x5ea)]({instanceName:_0x1ffa46},_0x1b74dc){const _0x4d6748=a0_0x22fdc2;return await this['waMonitor'][_0x4d6748(0x64d)][_0x1ffa46][_0x4d6748(0x5ea)](_0x1b74dc[_0x4d6748(0x3d6)]);}async[a0_0x22fdc2(0x561)]({instanceName:_0x1139f3},_0x5061fb){const _0x31c403=a0_0x22fdc2;return await this[_0x31c403(0x5e2)]['waInstances'][_0x1139f3][_0x31c403(0x561)]();}},ws=require('@whiskeysockets/baileys'),kt=class c{constructor(_0x5c4f30,_0x2fd45e,_0xbaa1b4,_0x5af455,_0x3c98ae){const _0x19f718=a0_0x22fdc2;this[_0x19f718(0x5e2)]=_0x5c4f30,this[_0x19f718(0x6fa)]=_0x2fd45e,this['repository']=_0xbaa1b4,this[_0x19f718(0x74a)]=_0x5af455,this[_0x19f718(0x520)]=_0x3c98ae,this[_0x19f718(0x3e1)]=new C(c['name']);}async[a0_0x22fdc2(0x742)]({instanceName:_0x525f72,apikey:_0x9736c4}){const _0x30e3d1=a0_0x22fdc2;let _0x180b17=new ye(this[_0x30e3d1(0x6fa)],this[_0x30e3d1(0x74a)],this[_0x30e3d1(0x7ac)]);_0x180b17['instanceName']=_0x525f72,this[_0x30e3d1(0x5e2)][_0x30e3d1(0x64d)][_0x180b17[_0x30e3d1(0x5d2)]]=_0x180b17,this[_0x30e3d1(0x5e2)][_0x30e3d1(0x495)](_0x180b17[_0x30e3d1(0x5d2)]);let _0x453778={};_0x9736c4?(await this[_0x30e3d1(0x7ac)]['auth'][_0x30e3d1(0x3c0)]({'apikey':_0x9736c4},_0x525f72),_0x453778['apikey']=_0x9736c4):_0x453778=await this[_0x30e3d1(0x520)][_0x30e3d1(0x502)]({'instanceName':_0x180b17[_0x30e3d1(0x5d2)]});let _0x384e20;return await _0x180b17['connectToWhatsapp'](),await(0x0,ws[_0x30e3d1(0x2ac)])(0x7d0),_0x384e20=_0x180b17[_0x30e3d1(0x460)],{'instance':{'instanceName':_0x180b17[_0x30e3d1(0x5d2)],'status':_0x30e3d1(0x4eb)},'hash':_0x453778,'qrcode':_0x384e20};}async[a0_0x22fdc2(0x2f7)]({instanceName:_0x519e9b}){const _0x198a51=a0_0x22fdc2;try{let _0x27cb9e=this[_0x198a51(0x5e2)][_0x198a51(0x64d)][_0x519e9b];switch(_0x27cb9e[_0x198a51(0x5d0)]?.[_0x198a51(0x4f2)]){case _0x198a51(0x538):return await _0x27cb9e[_0x198a51(0x2f7)](),await(0x0,ws['delay'])(0x7d0),_0x27cb9e[_0x198a51(0x460)];case _0x198a51(0x3de):return _0x27cb9e[_0x198a51(0x460)];default:return await this[_0x198a51(0x4a6)]({'instanceName':_0x519e9b});}}catch(_0x7c1720){this[_0x198a51(0x3e1)][_0x198a51(0x2d0)](_0x7c1720);}}async[a0_0x22fdc2(0x4a6)]({instanceName:_0x1e931b}){const _0x386d82=a0_0x22fdc2;let _0x2264e4=this[_0x386d82(0x5e2)][_0x386d82(0x64d)][_0x1e931b]['connectionStatus'],_0x54478e=null;_0x2264e4[_0x386d82(0x4f2)]===_0x386d82(0x70a)&&_0x1e931b&&(_0x54478e=await this[_0x386d82(0x5e2)][_0x386d82(0x2de)](_0x1e931b));let _0x12bdfe=null;return _0x2264e4[_0x386d82(0x4f2)]===_0x386d82(0x3de)&&_0x1e931b&&(_0x12bdfe=this[_0x386d82(0x5e2)][_0x386d82(0x64d)][_0x1e931b]['qrCode']),{'instance':_0x1e931b,'connectionStatus':_0x2264e4,'instanceInfo':_0x54478e,'qrcode':_0x12bdfe};}async[a0_0x22fdc2(0x23e)]({instanceName:_0x309a11}){const _0xf8d88c=a0_0x22fdc2;try{return this[_0xf8d88c(0x5e2)]['waInstances'][_0x309a11]?.[_0xf8d88c(0x684)]?.['ws']?.[_0xf8d88c(0x538)](),{'status':_0xf8d88c(0x6e5),'error':!0x1,'response':{'message':_0xf8d88c(0x335)}};}catch(_0x5096bd){this['logger']['error'](_0x5096bd);}}async[a0_0x22fdc2(0x26a)]({instanceName:_0x136224}){const _0x358bcc=a0_0x22fdc2;return _0x136224?this[_0x358bcc(0x5e2)][_0x358bcc(0x2de)](_0x136224):this[_0x358bcc(0x5e2)][_0x358bcc(0x2de)]();}async[a0_0x22fdc2(0x42e)]({instanceName:_0x509d13}){const _0x46db39=a0_0x22fdc2;try{return await this['waMonitor'][_0x46db39(0x64d)][_0x509d13]?.[_0x46db39(0x684)]?.[_0x46db39(0x42e)](_0x46db39(0x3bb)+_0x509d13),{'error':!0x1,'message':_0x46db39(0x487)};}catch(_0x384dd8){throw new A(_0x384dd8['toString']());}}async['deleteInstance']({instanceName:_0x3df510}){const _0x44c776=a0_0x22fdc2;if((await this[_0x44c776(0x4a6)]({'instanceName':_0x3df510}))['connectionStatus'][_0x44c776(0x4f2)]===_0x44c776(0x70a))throw new g([_0x44c776(0x3fc),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this['waMonitor'][_0x44c776(0x64d)][_0x3df510],{'error':!0x1,'message':_0x44c776(0x748)};}catch(_0xad82e6){throw new g(_0xad82e6[_0x44c776(0x78b)]());}}async[a0_0x22fdc2(0x4ee)](_0x23eb2f,_0x789c80){const _0x5f4bb6=a0_0x22fdc2;return await this[_0x5f4bb6(0x520)]['refreshToken'](_0x789c80);}},se=require('class-validator'),Lt=class{constructor(_0x49dbd3){const _0x180b1c=a0_0x22fdc2;this[_0x180b1c(0x5e2)]=_0x49dbd3;}async[a0_0x22fdc2(0x254)]({instanceName:_0x43d434},_0x4703fa){const _0x3abd8e=a0_0x22fdc2;return await this['waMonitor']['waInstances'][_0x43d434][_0x3abd8e(0x695)](_0x4703fa);}async[a0_0x22fdc2(0x2c4)]({instanceName:_0x29eb7d},_0x5dedb8){const _0x48218e=a0_0x22fdc2;return await this['waMonitor']['waInstances'][_0x29eb7d][_0x48218e(0x3c1)](_0x5dedb8);}async['sendMedia']({instanceName:_0xc3c575},_0x59b7e2){const _0x522cf4=a0_0x22fdc2;if((0x0,se['isBase64'])(_0x59b7e2?.[_0x522cf4(0x790)]?.[_0x522cf4(0x4b9)])&&!_0x59b7e2?.[_0x522cf4(0x790)]?.[_0x522cf4(0x543)])throw new g(_0x522cf4(0x708));if((0x0,se[_0x522cf4(0x723)])(_0x59b7e2?.['mediaMessage']?.[_0x522cf4(0x4b9)])||(0x0,se[_0x522cf4(0x550)])(_0x59b7e2?.[_0x522cf4(0x790)]?.[_0x522cf4(0x4b9)]))return await this[_0x522cf4(0x5e2)][_0x522cf4(0x64d)][_0xc3c575][_0x522cf4(0x790)](_0x59b7e2);throw new g('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendSticker']({instanceName:_0x48bb95},_0x29aaa9){const _0x11f240=a0_0x22fdc2;if((0x0,se[_0x11f240(0x723)])(_0x29aaa9[_0x11f240(0x45a)][_0x11f240(0x753)])||(0x0,se['isBase64'])(_0x29aaa9['stickerMessage']['image']))return await this[_0x11f240(0x5e2)][_0x11f240(0x64d)][_0x48bb95][_0x11f240(0x5ba)](_0x29aaa9);throw new g(_0x11f240(0x70e));}async['sendWhatsAppAudio']({instanceName:_0x49ae90},_0x5a0938){const _0x345d63=a0_0x22fdc2;if((0x0,se['isURL'])(_0x5a0938[_0x345d63(0x71f)]['audio'])||(0x0,se[_0x345d63(0x550)])(_0x5a0938[_0x345d63(0x71f)]['audio']))return await this[_0x345d63(0x5e2)]['waInstances'][_0x49ae90][_0x345d63(0x2f6)](_0x5a0938);throw new g(_0x345d63(0x70e));}async[a0_0x22fdc2(0x359)]({instanceName:_0x1b18ad},_0x47f9a5){const _0x375fab=a0_0x22fdc2;if((0x0,se[_0x375fab(0x550)])(_0x47f9a5['buttonMessage']['mediaMessage']?.[_0x375fab(0x4b9)])&&!_0x47f9a5[_0x375fab(0x2fa)][_0x375fab(0x790)]?.[_0x375fab(0x543)])throw new g(_0x375fab(0x708));return await this[_0x375fab(0x5e2)][_0x375fab(0x64d)][_0x1b18ad]['buttonMessage'](_0x47f9a5);}async['sendLocation']({instanceName:_0x4f0d61},_0x17dc9b){const _0x33b9c=a0_0x22fdc2;return await this[_0x33b9c(0x5e2)][_0x33b9c(0x64d)][_0x4f0d61][_0x33b9c(0x578)](_0x17dc9b);}async[a0_0x22fdc2(0x20e)]({instanceName:_0x5a6ad1},_0xe922f5){const _0x59a98a=a0_0x22fdc2;return await this['waMonitor'][_0x59a98a(0x64d)][_0x5a6ad1][_0x59a98a(0x4c6)](_0xe922f5);}async['sendList']({instanceName:_0xfc2b0c},_0x2a441e){const _0x5a2698=a0_0x22fdc2;return await this[_0x5a2698(0x5e2)][_0x5a2698(0x64d)][_0xfc2b0c][_0x5a2698(0x478)](_0x2a441e);}async[a0_0x22fdc2(0x714)]({instanceName:_0xcc6b71},_0x1f1ba1){const _0x225789=a0_0x22fdc2;return await this[_0x225789(0x5e2)][_0x225789(0x64d)][_0xcc6b71][_0x225789(0x577)](_0x1f1ba1);}async[a0_0x22fdc2(0x4a4)]({instanceName:_0x58f88c},_0x2e3052){const _0x3dce6d=a0_0x22fdc2;if(!_0x2e3052[_0x3dce6d(0x6da)][_0x3dce6d(0x375)][_0x3dce6d(0x77c)](/[^\(\)\w\sà-ú"-\+]+/))throw new g(_0x3dce6d(0x46e));return await this[_0x3dce6d(0x5e2)][_0x3dce6d(0x64d)][_0x58f88c][_0x3dce6d(0x6da)](_0x2e3052);}async['sendStatus']({instanceName:_0x35aabb},_0x39b24d){const _0x1a28b9=a0_0x22fdc2;return await this[_0x1a28b9(0x5e2)][_0x1a28b9(0x64d)][_0x35aabb]['statusMessage'](_0x39b24d);}},Ut=class{constructor(_0x588045){const _0x3e582f=a0_0x22fdc2;this[_0x3e582f(0x5e2)]=_0x588045;}async[a0_0x22fdc2(0x1c2)](_0x5a19a1,_0x547bf0){const _0x42d5cc=a0_0x22fdc2;return await this[_0x42d5cc(0x5e2)][_0x42d5cc(0x64d)][_0x5a19a1['instanceName']]['createGroup'](_0x547bf0);}async[a0_0x22fdc2(0x70d)](_0x43c30b,_0x57c3bb){const _0x1ae998=a0_0x22fdc2;return await this[_0x1ae998(0x5e2)][_0x1ae998(0x64d)][_0x43c30b['instanceName']]['updateGroupPicture'](_0x57c3bb);}async[a0_0x22fdc2(0x6e6)](_0x303846,_0x10fac2){const _0x246e66=a0_0x22fdc2;return await this['waMonitor'][_0x246e66(0x64d)][_0x303846[_0x246e66(0x5d2)]][_0x246e66(0x6e6)](_0x10fac2);}async[a0_0x22fdc2(0x4b7)](_0x4485fa,_0x259464){const _0x2ecc05=a0_0x22fdc2;return await this['waMonitor']['waInstances'][_0x4485fa['instanceName']][_0x2ecc05(0x4b7)](_0x259464);}async['groupSetting'](_0x27125f,_0x55ae12){const _0x2448e9=a0_0x22fdc2;return await this[_0x2448e9(0x5e2)]['waInstances'][_0x27125f['instanceName']][_0x2448e9(0x588)](_0x55ae12);}async[a0_0x22fdc2(0x202)](_0x471f00,_0x3ee454){const _0x10d7db=a0_0x22fdc2;return await this[_0x10d7db(0x5e2)]['waInstances'][_0x471f00[_0x10d7db(0x5d2)]][_0x10d7db(0x67d)](_0x3ee454);}async[a0_0x22fdc2(0x3a5)](_0x2be22b){const _0x285910=a0_0x22fdc2;return await this[_0x285910(0x5e2)]['waInstances'][_0x2be22b[_0x285910(0x5d2)]][_0x285910(0x3a5)]();}async[a0_0x22fdc2(0x58f)](_0x469d39,_0x5eaf8d){const _0x3ad78b=a0_0x22fdc2;return await this[_0x3ad78b(0x5e2)][_0x3ad78b(0x64d)][_0x469d39['instanceName']][_0x3ad78b(0x58f)](_0x5eaf8d);}async[a0_0x22fdc2(0x201)](_0x4c4732,_0x2619e8){const _0x1fa078=a0_0x22fdc2;return await this['waMonitor'][_0x1fa078(0x64d)][_0x4c4732['instanceName']][_0x1fa078(0x201)](_0x2619e8);}async[a0_0x22fdc2(0x508)](_0x1936f8,_0x427832){const _0x1e0541=a0_0x22fdc2;return await this[_0x1e0541(0x5e2)][_0x1e0541(0x64d)][_0x1936f8[_0x1e0541(0x5d2)]][_0x1e0541(0x508)](_0x427832);}async[a0_0x22fdc2(0x5f6)](_0x4309c4,_0x3da745){const _0x395c0a=a0_0x22fdc2;return await this[_0x395c0a(0x5e2)][_0x395c0a(0x64d)][_0x4309c4[_0x395c0a(0x5d2)]]['findParticipants'](_0x3da745);}async[a0_0x22fdc2(0x40f)](_0x23755e,_0x4a5651){const _0x1040f0=a0_0x22fdc2;return await this[_0x1040f0(0x5e2)][_0x1040f0(0x64d)][_0x23755e[_0x1040f0(0x5d2)]]['updateGParticipant'](_0x4a5651);}async[a0_0x22fdc2(0x4cf)](_0x5ae1f5,_0x24544c){const _0x2f616b=a0_0x22fdc2;return await this[_0x2f616b(0x5e2)][_0x2f616b(0x64d)][_0x5ae1f5['instanceName']][_0x2f616b(0x4cf)](_0x24544c);}async['leaveGroup'](_0x313535,_0x24863e){const _0x122b3f=a0_0x22fdc2;return await this[_0x122b3f(0x5e2)]['waInstances'][_0x313535[_0x122b3f(0x5d2)]][_0x122b3f(0x47a)](_0x24863e);}},Jt=class{constructor(_0x1018a6,_0x720c8a){const _0x444538=a0_0x22fdc2;this['waMonit']=_0x1018a6,this[_0x444538(0x6fa)]=_0x720c8a;}async[a0_0x22fdc2(0x21a)](_0x448cda,_0x38ec65){const _0x567b3b=a0_0x22fdc2;try{let _0x5eec27=_0x448cda[_0x567b3b(0x3cf)];if(this['waMonit'][_0x567b3b(0x64d)][_0x5eec27[_0x567b3b(0x5d2)]][_0x567b3b(0x5d0)][_0x567b3b(0x4f2)]===_0x567b3b(0x70a))throw new g(_0x567b3b(0x647));let _0x21814b=this[_0x567b3b(0x6fa)][_0x567b3b(0x71b)]('AUTHENTICATION')[_0x567b3b(0x3ff)];return _0x38ec65[_0x567b3b(0x592)](0xc8)[_0x567b3b(0x3ac)](_0x567b3b(0x21a),{'type':_0x21814b,..._0x5eec27});}catch(_0x1969b5){console[_0x567b3b(0x2d0)](_0x567b3b(0x242),_0x1969b5);}}},Vt=class{constructor(_0xd2196c){const _0x2001dd=a0_0x22fdc2;this[_0x2001dd(0x5e2)]=_0xd2196c;}['create'](_0x57d5c7,_0x206e69){const _0xe8a122=a0_0x22fdc2;return this[_0xe8a122(0x5e2)]['waInstances'][_0x57d5c7[_0xe8a122(0x5d2)]]['setWebhook'](_0x206e69);}async[a0_0x22fdc2(0x631)](_0x45ada6){const _0x2b6c14=a0_0x22fdc2;try{return await this['waMonitor']['waInstances'][_0x45ada6[_0x2b6c14(0x5d2)]][_0x2b6c14(0x2dd)]();}catch{return{'enabled':null,'url':''};}}},ld=new C(a0_0x22fdc2(0x75b)),jt=class{constructor(_0x5c800e){const _0x456833=a0_0x22fdc2;this[_0x456833(0x5e2)]=_0x5c800e;}async[a0_0x22fdc2(0x3b8)](_0x493d06,_0x5b640f){const _0x1cc4bb=a0_0x22fdc2;return await this[_0x1cc4bb(0x5e2)][_0x1cc4bb(0x64d)][_0x493d06['instanceName']][_0x1cc4bb(0x3b8)](_0x5b640f);}async[a0_0x22fdc2(0x754)](_0x2d8585){const _0x2e5459=a0_0x22fdc2;return await this[_0x2e5459(0x5e2)][_0x2e5459(0x64d)][_0x2d8585[_0x2e5459(0x5d2)]][_0x2e5459(0x754)]();}async[a0_0x22fdc2(0x479)](_0x224eef){const _0x453128=a0_0x22fdc2;return await this[_0x453128(0x5e2)][_0x453128(0x64d)][_0x224eef[_0x453128(0x5d2)]]['deleteDoneMessages']();}async[a0_0x22fdc2(0x261)](_0x52b888){const _0x506db8=a0_0x22fdc2;return await this[_0x506db8(0x5e2)][_0x506db8(0x64d)][_0x52b888[_0x506db8(0x5d2)]][_0x506db8(0x261)]();}async[a0_0x22fdc2(0x250)](_0x2a1d84,_0xa66a19){const _0x821581=a0_0x22fdc2;return await this['waMonitor'][_0x821581(0x64d)][_0x2a1d84[_0x821581(0x5d2)]][_0x821581(0x250)](_0xa66a19);}async[a0_0x22fdc2(0x6c9)](_0xe93b2f,_0x436512){const _0x2524d8=a0_0x22fdc2;return await this[_0x2524d8(0x5e2)][_0x2524d8(0x64d)][_0xe93b2f[_0x2524d8(0x5d2)]]['updateCustomFields'](_0x436512);}async[a0_0x22fdc2(0x29b)](_0x39e8f5,_0x41d1dd){const _0xb1a439=a0_0x22fdc2;return await this[_0xb1a439(0x5e2)][_0xb1a439(0x64d)][_0x39e8f5[_0xb1a439(0x5d2)]]['updateFlowConfig'](_0x41d1dd);}async[a0_0x22fdc2(0x677)](_0x58f738,_0x5d03f5){const _0x7307e8=a0_0x22fdc2;return await this[_0x7307e8(0x5e2)][_0x7307e8(0x64d)][_0x58f738['instanceName']]['startFlow'](_0x5d03f5);}async['getConversation'](_0x5a7a1e,_0x4c2422){const _0x3e30fc=a0_0x22fdc2;return await this[_0x3e30fc(0x5e2)]['waInstances'][_0x5a7a1e[_0x3e30fc(0x5d2)]][_0x3e30fc(0x62a)](_0x4c2422);}async[a0_0x22fdc2(0x778)](_0x2d26c9,_0x119e05){const _0x2d4788=a0_0x22fdc2;return await this[_0x2d4788(0x5e2)]['waInstances'][_0x2d26c9[_0x2d4788(0x5d2)]][_0x2d4788(0x778)](_0x119e05);}async[a0_0x22fdc2(0x265)](_0x222d5e,_0x1b4442){const _0x26575d=a0_0x22fdc2;return await this[_0x26575d(0x5e2)][_0x26575d(0x64d)][_0x222d5e[_0x26575d(0x5d2)]][_0x26575d(0x265)](_0x1b4442);}async[a0_0x22fdc2(0x33b)](_0x1e9db5,_0x5024ea){const _0x189115=a0_0x22fdc2;return await this[_0x189115(0x5e2)]['waInstances'][_0x1e9db5[_0x189115(0x5d2)]][_0x189115(0x33b)](_0x5024ea);}async[a0_0x22fdc2(0x3ee)](_0x59d162,_0x119e86){const _0x497a18=a0_0x22fdc2;return await this[_0x497a18(0x5e2)][_0x497a18(0x64d)][_0x59d162[_0x497a18(0x5d2)]][_0x497a18(0x3ee)](_0x119e86[_0x497a18(0x5a6)]);}async[a0_0x22fdc2(0x314)](_0x37cfb6,_0x2dea82){const _0x487e9a=a0_0x22fdc2;return await this[_0x487e9a(0x5e2)]['waInstances'][_0x37cfb6[_0x487e9a(0x5d2)]]['createFlow'](_0x2dea82);}async[a0_0x22fdc2(0x52a)](_0x332388,_0x2f7276){const _0x5a043d=a0_0x22fdc2;return await this[_0x5a043d(0x5e2)][_0x5a043d(0x64d)][_0x332388['instanceName']][_0x5a043d(0x52a)](_0x2f7276);}async[a0_0x22fdc2(0x37a)](_0x48d148,_0x6ca0a5){const _0x3b3a9e=a0_0x22fdc2;return await this['waMonitor']['waInstances'][_0x48d148[_0x3b3a9e(0x5d2)]][_0x3b3a9e(0x37a)](_0x6ca0a5);}async['editFlowReply'](_0x367d81,_0x301790){const _0x4770f2=a0_0x22fdc2;return await this[_0x4770f2(0x5e2)][_0x4770f2(0x64d)][_0x367d81[_0x4770f2(0x5d2)]][_0x4770f2(0x729)](_0x301790);}async[a0_0x22fdc2(0x25e)](_0x124aa7,_0x5da29a){const _0xc915fb=a0_0x22fdc2;return await this[_0xc915fb(0x5e2)]['waInstances'][_0x124aa7[_0xc915fb(0x5d2)]]['editFlowGroup'](_0x5da29a);}async[a0_0x22fdc2(0x598)](_0x3da802,_0x24c6f1){const _0x458738=a0_0x22fdc2;return await this['waMonitor'][_0x458738(0x64d)][_0x3da802[_0x458738(0x5d2)]]['editFlowCondition'](_0x24c6f1);}async[a0_0x22fdc2(0x20d)](_0x15c37a,_0x1945a2){const _0x3aac8e=a0_0x22fdc2;return await this[_0x3aac8e(0x5e2)][_0x3aac8e(0x64d)][_0x15c37a[_0x3aac8e(0x5d2)]]['editFlowVaredit'](_0x1945a2);}async[a0_0x22fdc2(0x668)](_0x33ce76,_0x1f037a){const _0x2c8a09=a0_0x22fdc2;return await this[_0x2c8a09(0x5e2)]['waInstances'][_0x33ce76[_0x2c8a09(0x5d2)]][_0x2c8a09(0x668)](_0x1f037a);}async['deleteFlow'](_0x5d9902,_0x33852e){const _0x15f3e2=a0_0x22fdc2;return await this[_0x15f3e2(0x5e2)][_0x15f3e2(0x64d)][_0x5d9902[_0x15f3e2(0x5d2)]][_0x15f3e2(0x312)](_0x33852e[_0x15f3e2(0x5a6)]);}async['allFlows'](_0x2832d1){const _0x5cc654=a0_0x22fdc2;return await this[_0x5cc654(0x5e2)][_0x5cc654(0x64d)][_0x2832d1[_0x5cc654(0x5d2)]][_0x5cc654(0x6ae)]();}},Ft=class{constructor(_0x166a47){const _0x5db0be=a0_0x22fdc2;this[_0x5db0be(0x318)]=_0x166a47;}async['createWebhook'](_0x54253d,_0x705fe8){const _0x1c8eff=a0_0x22fdc2;return this[_0x1c8eff(0x318)][_0x1c8eff(0x3c0)](_0x54253d,_0x705fe8);}async[a0_0x22fdc2(0x2dd)](_0x2310c9){const _0x3a60f9=a0_0x22fdc2;return this[_0x3a60f9(0x318)][_0x3a60f9(0x631)](_0x2310c9);}},qt=class{constructor(_0x9e4f7d,_0x30fc01,_0x54a386,_0xf8454d,_0x25c842,_0x5ab7ac){const _0x5f1d20=a0_0x22fdc2;this[_0x5f1d20(0x649)]=_0x9e4f7d,this[_0x5f1d20(0x565)]=_0x30fc01,this['contact']=_0x54a386,this[_0x5f1d20(0x3ea)]=_0xf8454d,this[_0x5f1d20(0x665)]=_0x25c842,this['dbClient']=_0x5ab7ac;}get[a0_0x22fdc2(0x63d)](){return this['dbClient'];}},ys=require(a0_0x22fdc2(0x553)),ri=require('fs'),Gt=class extends H{constructor(_0x3aab5c,_0x5a30f3){const _0x320f84=a0_0x22fdc2;super(_0x5a30f3),this[_0x320f84(0x29d)]=_0x3aab5c,this[_0x320f84(0x6fa)]=_0x5a30f3;}async[a0_0x22fdc2(0x3c0)](_0x61d5d6,_0x2cacb6){const _0x176540=a0_0x22fdc2;try{return this[_0x176540(0x2c2)][_0x176540(0x3e8)]?{'insertCount':(await this[_0x176540(0x29d)][_0x176540(0x5c8)]({'_id':_0x2cacb6},{..._0x61d5d6},{'upsert':!0x0}))[_0x176540(0x444)]}:(this[_0x176540(0x341)]({'path':(0x0,ys[_0x176540(0x69d)])(this[_0x176540(0x4fc)],_0x176540(0x3ea)),'fileName':_0x2cacb6,'data':_0x61d5d6}),{'insertCount':0x1});}catch(_0x4b99a1){return _0x4b99a1;}}async[a0_0x22fdc2(0x631)](_0x1bee58){const _0x290e68=a0_0x22fdc2;try{return this[_0x290e68(0x2c2)][_0x290e68(0x3e8)]?await this['webhookModel'][_0x290e68(0x2ce)]({'_id':_0x1bee58}):JSON[_0x290e68(0x5c0)]((0x0,ri[_0x290e68(0x736)])((0x0,ys[_0x290e68(0x69d)])(this[_0x290e68(0x4fc)],'webhook',_0x1bee58+_0x290e68(0x3c6)),{'encoding':_0x290e68(0x49d)}));}catch{return{};}}},bs=require(a0_0x22fdc2(0x553)),ni=require('fs'),Bt=class extends H{constructor(_0x3c19bb,_0x53e083){const _0x51d4c2=a0_0x22fdc2;super(_0x53e083),this[_0x51d4c2(0x530)]=_0x3c19bb,this[_0x51d4c2(0x6fa)]=_0x53e083,this[_0x51d4c2(0x665)]=_0x53e083[_0x51d4c2(0x71b)](_0x51d4c2(0x313));}async[a0_0x22fdc2(0x3c0)](_0x272c66,_0x568b1e){const _0x3f4e98=a0_0x22fdc2;try{return this[_0x3f4e98(0x2c2)][_0x3f4e98(0x3e8)]?{'insertCount':(await this[_0x3f4e98(0x530)][_0x3f4e98(0x5c8)]({'_id':_0x568b1e},{..._0x272c66},{'upsert':!0x0}))[_0x3f4e98(0x444)]}:(this['writeStore']({'path':(0x0,bs[_0x3f4e98(0x69d)])(Ht,this[_0x3f4e98(0x665)]['TYPE']),'fileName':_0x568b1e,'data':_0x272c66}),{'insertCount':0x1});}catch(_0x13c29d){return{'error':_0x13c29d};}}async['find'](_0x385b14){const _0x1eb30f=a0_0x22fdc2;try{return this[_0x1eb30f(0x2c2)][_0x1eb30f(0x3e8)]?await this[_0x1eb30f(0x530)][_0x1eb30f(0x2ce)]({'_id':_0x385b14}):JSON[_0x1eb30f(0x5c0)]((0x0,ni[_0x1eb30f(0x736)])((0x0,bs['join'])(Ht,this[_0x1eb30f(0x665)][_0x1eb30f(0x3ff)],_0x385b14+_0x1eb30f(0x3c6)),{'encoding':'utf-8'}));}catch{return{};}}},Qi=new C('WA\x20MODULE'),Yi=new $e(E),Xi=new xt(E),Zi=new He(E),eo=new Gt(Bs,E),to=new Bt(Fs,E),le=new qt(Yi,Xi,Zi,eo,to,R?.[a0_0x22fdc2(0x4f7)]()),F=new Pt(Yt,E,le),so=new rt(E,F,le),ao=new Vt(F),ps=new Ft(ao),T=new jt(F),re=new kt(F,E,le,Yt,so),Wa=new Jt(F,E),W=new Lt(F),D=new $t(F),V=new Ut(F);Qi['info'](a0_0x22fdc2(0x654));var ip=require(a0_0x22fdc2(0x5d7)),Ss=require('fs'),ci=M(require(a0_0x22fdc2(0x6a1))),li=M(require(a0_0x22fdc2(0x374))),Te=class c{static #e;static set['app'](_0x24231c){this.#e=_0x24231c;}static get['https'](){const _0x3355eb=a0_0x22fdc2;let {FULLCHAIN:_0xd9488e,PRIVKEY:_0x39d2d1}=E[_0x3355eb(0x71b)](_0x3355eb(0x462));return ci[_0x3355eb(0x497)]({'cert':(0x0,Ss[_0x3355eb(0x736)])(_0xd9488e),'key':(0x0,Ss['readFileSync'])(_0x39d2d1)},c.#e);}static get[a0_0x22fdc2(0x374)](){const _0x408b17=a0_0x22fdc2;return li[_0x408b17(0x497)](c.#e);}},ge=M(require('fs')),hi=M(require(a0_0x22fdc2(0x22d))),Re=M(require(a0_0x22fdc2(0x475))),Ie=M(require(a0_0x22fdc2(0x553))),Oe=require(a0_0x22fdc2(0x303));function io(){const _0x1ca417=a0_0x22fdc2;F[_0x1ca417(0x504)]();let _0x2789f4=Ie['default']['join'](__dirname,_0x1ca417(0x570));mi(_0x2789f4);}var mi=_0xfa6c7f=>{const _0x58930c=a0_0x22fdc2;let _0x4760db=ge[_0x58930c(0x421)]['readdirSync'](_0xfa6c7f),_0x12332b=0xc*0x3c*0x3c*0x3e8,_0x5cb393=0x2*0x3c*0x3c*0x3e8,_0x347cb5=new Date()['getTime']();_0x4760db[_0x58930c(0x3a1)](_0x5688b4=>{const _0x25818b=_0x58930c;let _0x33e73e=Ie[_0x25818b(0x421)][_0x25818b(0x69d)](_0xfa6c7f,_0x5688b4),_0x4c8357=ge[_0x25818b(0x421)][_0x25818b(0x2c0)](_0x33e73e)['birthtime']['getTime']();_0x347cb5-_0x4c8357>_0x12332b&&(ge[_0x25818b(0x421)][_0x25818b(0x6f8)](_0x33e73e),console[_0x25818b(0x2d0)]('Deleted\x20'+_0x5688b4));}),setTimeout(()=>mi(_0xfa6c7f),_0x5cb393);};function oo(){const _0x1cc92d=a0_0x22fdc2;let _0x199312=new C('SERVER'),_0x55daed=(0x0,me[_0x1cc92d(0x421)])();_0x55daed[_0x1cc92d(0x234)]((0x0,gi[_0x1cc92d(0x421)])({'origin'(_0x3583af,_0x207654){const _0x16d833=_0x1cc92d;let {ORIGIN:_0x5ad9ea}=E[_0x16d833(0x71b)](_0x16d833(0x54d));return _0x3583af||(_0x3583af='*'),_0x5ad9ea[_0x16d833(0x727)]('*')!==-0x1||_0x5ad9ea[_0x16d833(0x727)](_0x3583af)!==-0x1?_0x207654(null,!0x0):_0x207654(new Error(_0x16d833(0x351)));},'methods':[...E[_0x1cc92d(0x71b)](_0x1cc92d(0x54d))[_0x1cc92d(0x770)]],'credentials':E[_0x1cc92d(0x71b)]('CORS')[_0x1cc92d(0x39f)]}),(0x0,me['urlencoded'])({'extended':!0x0,'limit':_0x1cc92d(0x7a8)}),(0x0,me[_0x1cc92d(0x731)])({'limit':_0x1cc92d(0x7a8)})),_0x55daed[_0x1cc92d(0x234)]((_0x4fb532,_0x4fdcb3,_0x265447)=>{const _0x314e54=_0x1cc92d;_0x4fb532[_0x314e54(0x553)][_0x314e54(0x486)](_0x314e54(0x6f2))?_0x265447():(0x0,pi[_0x314e54(0x421)])()(_0x4fb532,_0x4fdcb3,_0x265447);}),_0x55daed[_0x1cc92d(0x39c)]('view\x20engine',_0x1cc92d(0x701)),_0x55daed['set']('views',(0x0,vs[_0x1cc92d(0x69d)])(Y,_0x1cc92d(0x660))),_0x55daed[_0x1cc92d(0x234)](me['default'][_0x1cc92d(0x730)]((0x0,vs[_0x1cc92d(0x69d)])(Y,_0x1cc92d(0x36e)))),_0x55daed[_0x1cc92d(0x234)]((_0x570d81,_0x346752,_0x2d7fcd)=>{const _0x5c779a=_0x1cc92d;let _0xdb9fc5=_0x346752[_0x5c779a(0x6b0)];_0x346752[_0x5c779a(0x6b0)]=function(_0x743137){const _0x5a05b4=_0x5c779a;if(_0x570d81['query'][_0x5a05b4(0x3f9)]==='true'||_0x570d81[_0x5a05b4(0x72e)][_0x5a05b4(0x467)]===_0x5a05b4(0x48a)){let _0x3f74ed=JSON[_0x5a05b4(0x5c0)](_0x743137);_0x743137=JSON[_0x5a05b4(0x2c1)](_0x2fe5f2(_0x3f74ed));}return _0xdb9fc5[_0x5a05b4(0x4db)](_0x346752,[_0x743137]);},_0x2d7fcd();}),_0x55daed['use']('/',Ct),_0x55daed['use']((_0x116f77,_0x3fdbef,_0x337149,_0x3f4256)=>{const _0x2ab916=_0x1cc92d;if(_0x116f77)return _0x337149['status'](_0x116f77['status']||0x1f4)[_0x2ab916(0x731)](_0x116f77);},(_0x4a9ffd,_0x5c2558,_0x456275)=>{const _0x487d9f=_0x1cc92d;let {method:_0x276932,url:_0x2fbea6}=_0x4a9ffd;_0x5c2558[_0x487d9f(0x592)](0x194)['json']({'status':0x194,'message':_0x487d9f(0x1e3)+_0x276932[_0x487d9f(0x78c)]()+'\x20'+_0x2fbea6,'error':_0x487d9f(0x490)}),_0x456275();});let _0x2fe5f2=(_0x3ae680,_0x1083a0=_0x1cc92d(0x302))=>{const _0x56c44c=_0x1cc92d;let _0x948945=(_0x1c3f81,_0x281028=null,_0xe73521=!0x1)=>{const _0x25e314=a0_0x113b;let _0x5eadf7={};return Object[_0x25e314(0x79e)](_0x1c3f81)[_0x25e314(0x3a1)](_0x4b4445=>{const _0x280578=_0x25e314;let _0x1860fc=_0x1c3f81[_0x4b4445],_0x361a24=''+_0x1083a0+_0x4b4445;_0x281028&&!_0xe73521&&(_0x361a24=_0x281028+'.'+_0x4b4445),!_0x1860fc&&_0x1860fc!==0x0&&_0x1860fc!==!0x1||typeof _0x1860fc>'u'?_0x5eadf7[_0x361a24]=null:typeof _0x1860fc!='object'&&!Array[_0x280578(0x523)](_0x1860fc)?_0x5eadf7[_0x361a24]=_0x1860fc:typeof _0x1860fc==_0x280578(0x1c0)&&!Array[_0x280578(0x523)](_0x1860fc)?_0x5eadf7=Object[_0x280578(0x42b)](_0x5eadf7,_0x948945(_0x1860fc,_0x361a24)):Array['isArray'](_0x1860fc)&&(typeof _0x1860fc[0x0]==_0x280578(0x1c0)?(_0x5eadf7[_0x361a24]=[],_0x1860fc[_0x280578(0x3a1)](_0x50c3a6=>{const _0x50e6f4=_0x280578;_0x5eadf7[_0x361a24][_0x50e6f4(0x23d)](_0x948945(_0x50c3a6,_0x361a24,!0x0));})):_0x5eadf7[_0x361a24]=_0x1860fc);}),_0x5eadf7;};return Array['isArray'](_0x3ae680)?_0x3ae680[_0x56c44c(0x2d7)](_0x576c9c=>_0x948945(_0x576c9c)):typeof _0x3ae680=='object'&&_0x3ae680!==null?_0x948945(_0x3ae680):{};},_0x41220b=E[_0x1cc92d(0x71b)](_0x1cc92d(0x51f));Te['app']=_0x55daed;let _0x50ae9a=Te[_0x41220b[_0x1cc92d(0x3ff)]],_0x5d2d09='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x50ae9a['listen'](_0x41220b['PORT'],()=>{const _0x3a591f=_0x1cc92d;_0x199312[_0x3a591f(0x2d0)](_0x5d2d09),_0x199312[_0x3a591f(0x2d0)](_0x41220b[_0x3a591f(0x3ff)][_0x3a591f(0x78c)]()+_0x3a591f(0x743)+_0x41220b[_0x3a591f(0x24d)]);}),io(),xs();}var ro='https://github.com/uazapi/uazapi.git',no=Ie['default'][a0_0x22fdc2(0x69d)](__dirname,a0_0x22fdc2(0x627)),Ae=null;function co(){return new Promise((_0x5e5c26,_0x46153)=>{const _0x56c907=a0_0x113b;ge['default']['readFile'](no,_0x56c907(0x49d),(_0x10f5c1,_0x528919)=>{const _0x44f7e3=_0x56c907;if(_0x10f5c1){Ae=_0x10f5c1,_0x5e5c26();return;}hi['default'][_0x44f7e3(0x5c0)](_0x528919)[_0x44f7e3(0x6ef)][_0x44f7e3(0x53c)]===ro?(Ae=null,_0x5e5c26()):(Ae=new Error(_0x44f7e3(0x241)),_0x5e5c26());});});}async function lo(){const _0x3c621c=a0_0x22fdc2;try{await co(),await Ns();}catch(_0x53ca20){console['error'](_0x3c621c(0x2b0)+_0x53ca20),process[_0x3c621c(0x59f)](0x1);}}lo();async function fi(){const _0x48df9f=a0_0x22fdc2;let _0x1d9b87;try{_0x1d9b87=(await Re['default'][_0x48df9f(0x71b)]('https://jsonip.com'))[_0x48df9f(0x3f4)]['ip'];}catch(_0x35ff33){console[_0x48df9f(0x367)](_0x35ff33);try{_0x1d9b87=(await Re[_0x48df9f(0x421)][_0x48df9f(0x71b)]('https://api.ipify.org?format=json'))['data']['ip'];}catch(_0x412883){console[_0x48df9f(0x367)](_0x412883);try{_0x1d9b87=(await Re[_0x48df9f(0x421)]['get'](_0x48df9f(0x26f)))[_0x48df9f(0x3f4)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x43aa78){return console['error'](_0x43aa78),!0x1;}}}return _0x1d9b87;}var ui=0x0;function a0_0x2087(){const _0xaa6148=['MESSAGES_UPSERT','get','group-participants.update','sleep','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','audioMessage','READ','fetchBusinessProfile','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','isURL','../env.yml','mongoose','upperCase','indexOf','js-yaml','editFlowReply','fetchStatus','toBrazilianNumberFormat','):\x20Editando\x20grupo\x20do\x20fluxo...','updateGParticipant','headers','status.instance','static','json','notEmpty','Trying\x20to\x20get\x20business\x20profile','menuType','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','readFileSync','/chat','\x1b[33m\x1b[1m','Conversa\x20deletada\x20com\x20sucesso.','Contacts\x20not\x20found','lastBlockId','isJWT','formatStatusMessage','type','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','SERVER_OFFLINE','collection','createInstance','\x20-\x20ON:\x20','boolean','Error\x20fetching\x20group','bodyString','throwAndLogError','Instance\x20deleted','):\x20Criando\x20fluxo...','eventEmitter','joinGroupValidate','documentMessage','g-t','):\x20Entrou\x20na\x20função\x20goToFlow','findContacts','remove.instance','@broadcast','waitingMenu_text','image','getScheduleMessage','bearer','createClient','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Erro\x20ao\x20buscar\x20conversas:\x20','everyOne','https://chat.whatsapp.com/','FlowController','@s.whatsapp.net','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','_Messages','):\x20delete\x20=\x20true','RECONNECT_TIME_FRAME','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','_id','):\x20Edit\x20schedule\x20message...','order','groups','whatsappNumber','editflowcondition','writeFile','AUTHENTICATION_TYPE','oldToken','Audio\x20converted\x20to\x20mp4','PLAYED','Subscribed\x20Events:','profile','MAX_RECONNECT_ATTEMPTS','METHODS','errno','splice','blocks','):\x20expirationTime:\x20','scheduled','chats','finish','fetchConversation','errorLog','selectableCount','):\x20Conversa\x20inserida\x20com\x20sucesso.','match','Temp\x20audio\x20deleted','):\x20\x20isVote:\x20','}}\x20->\x20\x22','getVariablesChat','):\x20this.processingScheduleMessageId:\x20','request\x20received\x20in\x20updateCustomFields','last','flowConversation','rm\x20-rf\x20','findIndex','tags','No\x20participants','GROUPS_UPDATE','addReplyOption','toString','toUpperCase','https://uazapi-plugin.bubbleapps.io/?url=','\x0a{\x20instance:\x20','Types','mediaMessage','fetchChats','response','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','verify','):\x20Bloco\x20original\x20para\x20cópia:\x20','SERVER_ACK','messaging-history.set','onTime','WEBHOOK_EVENTS_CONTACTS_UPDATE','waUploadToServer','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','remove','hSet','keys','\x22,\x20valor\x20a\x20substituir:\x20\x22','composing','Revoke\x20error','GLOBAL','scheduleSendAudio','.jwt','send.message','timerId','checkAndRestartProcess','50mb','findById','drop','.png','repository','uncaughtException','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','redirect','CONTACTS_SET','fromObject','object','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','createGroup','messagesSend','Unauthorized','applyvaredit','No\x20invite\x20code','flowStopMinutes','pushName','):\x20Buscando\x20conversa...','):\x20Editando\x20condição\x20do\x20fluxo...','contactHandle','AUTHENTICATION_API_KEY','phoneNumber','output','request\x20received\x20in\x20scheduleMessage','Button\x20texts\x20cannot\x20be\x20repeated','console','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Fluxo\x20não\x20encontrado','audio/ogg;\x20codecs=opus','spawn','Error\x20update\x20group\x20picture','Temp\x20audio\x20created','capitalizedWords','chatLog',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','remoteJid','bateu\x20events','\x20saindo\x20da\x20função','mimetype','video','ERROR','FULLCHAIN','DB_PREFIX_NAME','Cannot\x20','dark','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','write','getContactModelForOwner','no.connection','jid','removeData','array','LOG','request\x20received\x20in\x20editFlow','success','AppStateSyncKeyData','profilePictureUrl','fetchProfilePicture','WEBHOOK_EVENTS_CHATS_SET','):\x20newFirstValue\x20após\x20replaceVariables:','addBlock','\x20minutos...','matchRegex','\x20}\x0a','defineAuthState','long','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','generate','contains','WEBHOOK_GLOBAL_ENABLED','CORS_METHODS','code','EXPIRIN_IN','joinGroup','findGroupInfo','\x1b[32m%s\x1b[0m','abs','listType','Telefone:\x20','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','/wa-contacts','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','request\x20body:\x20','editFlowVaredit','sendPoll','\x1b[46m','imageMessage','Invalid\x20\x22oldToken\x22','TRIAL_AD','createWebhook','):\x20Enviando\x20contato','scheduleMessage','number','originalUrl','The\x20\x22','readData','qrcode','Validate','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','redisEnv','Internal\x20Server\x20Error','buffer','expiration','encoding','backgroundColor','/wa-presence','Error\x20updating\x20profile\x20status','instance.','Error\x20while\x20deleting\x20message\x20for\x20everyone',',\x20Expiration\x20Time:\x20','restart','deleteMany','SSL_CONF_FULLCHAIN','contact_blacklist','Forbidden','ini','saveChatVariables','CORS_CREDENTIALS','cleaningUp','conversation','/wa-chats','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','use','Erro\x20de\x20reinicialização:\x20','android','):\x20Going\x20to\x20','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','groupUpdateDescription','1260ElCyXW','variable','creds','push','restartInstance','query','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','ERROR:\x20','limit','hasOwnProperty','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','subdomain','fullName','SSL_CONF_PRIVKEY','instanceName\x20not\x20provided.','MessageModel','findByIdAndUpdate','):\x20Limpando\x20delayMessage','PORT','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:',',\x20valor\x20a\x20encontrar:\x20\x22','updateAgent','/media','sem\x20texto\x20na\x20mensagem','editflow','sendText','firstValue','contacts.update','updateMediaMessage','uazapiSendContact','Font\x20is\x20required','prepareWAMessageMedia','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','findAndReplace','reconnectTimestamps','editFlowGroup','not_announcement','):\x20Deletando\x20conversa...','getAutomateSystem','tokenId','formatBRNumber','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','editConversation','including\x20timestamp\x20in\x20url:\x20','CONNECTION','Content\x20is\x20required','shift','fetchInstances','option','VERBOSE','updateConversation','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','http://checkip.dyndns.org','gifPlayback',',\x20valor\x20passado:\x20\x22','\x1b[0m','stderr','replace','unreadCount','chats.delete','test','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','SERVER_PORT','groupToggleEphemeral','):\x20Editando\x20replyOption...','webp','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','Erro\x20ao\x20editar\x20o\x20bloco:\x20','readreceipts','audio','contact','router','Error\x20updating\x20message\x20status:','copy','getContentType','NAME','useMultiFileAuthState','exec','split','Full\x20file\x20path:','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','groupId','compression','STORE_CONTACTS','uuid','group\x20ignored','--standalone','processingScheduleMessageId','pollCreationMessageV3','convertToWebP','/instance','Selecione','address','poll','scheduleSendMedia','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','updateFlowConfig','nome','webhookModel','mongodb://','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','trimmed','uazapiSendAudio','newValue','ObjectId','Media\x20folder\x20path:','sendAudio','subjectOwner','pollCreationMessage','Hash\x20to\x20audio\x20name:\x20','moreLogs','The\x20property\x20cannot\x20be\x20empty','flowPrefixCommand','delay','):\x20Current\x20Time:\x20','DATABASE','):\x20Editando\x20edição\x20do\x20fluxo...','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','replaceVariables','optionName','isConnected','Hash\x20to\x20image\x20name:\x20','contentText','updateOne','pop','flattenObject','chats.set','choices','envProcess','Read\x20messages\x20fail','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','optionDescription','Error\x20writing\x20file:\x20','statSync','stringify','dbSettings','Close\x20connection','sendMenu','):\x20Conversa\x20está\x20expirada\x20-\x20voto','verifiedName','):\x20Limpando\x20AutomateSystem','instances','.uazapi.dev','licenca','contactname','@whiskeysockets/baileys','deletedCount','findOne','stack','log','Reinicialização\x20iniciada:\x20','delayMessage','setRestartTimer','groupMetadata','leadInfo.customFields','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','map','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','):\x20nextBlock.uazapi.name','chrome','sendSticker','):\x20Procurando\x20conversa','findWebhook','instanceInfo','processPollUpdateMessage','setWebhook','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','namespace','WEBHOOK_EVENTS_QRCODE_UPDATED','release','msgRetryCounterCache','resetReconnectionVariables','format','groupFetchAllParticipating','execSync','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','Output\x20path:\x20','DELIVERY_ACK','webhookMap','\x1b[31m','blockId','updateMany','toArray','AutomateSystem\x20não\x20foi\x20inicializado','Error\x20creating\x20group','onWhatsApp','API\x20Key\x20inválida.','audioWhatsapp','connectToWhatsapp','convertaudio','CONTACTS_UPDATE','buttonMessage','displayName','):\x20Enviando\x20texto','organization','online','DELETED','error\x20get\x20vote','connectionUpdate','_p_','child_process','flowConfig','app-state-sync-key','fetchPrivacySettings','):\x20Enviando\x20mídia','Erro\x20ao\x20encerrar\x20a\x20API','8WgSRqj','values','messageId','\x1b[34m','groupHandler','charAt','participants','authorization','CONECTADO\x20À\x20UAZAPI','deleteFlow','AUTHENTICATION','createFlow','Image\x20is\x20url','Parando\x20aplicação,\x20atualização\x20recebida','/wa-message','webhookService','chats.update','\x22\x20-\x20REMOVED','no-cache','instanceKeys','caption','verbose','WARN','URI','random','listResponseMessage','request\x20received\x20in\x20allFlows','COLOR','\x22\x20cannot\x20be\x20empty','Sistema\x20atualizado\x20com\x20sucesso!','KEY','collections','count','truncatedtoEnd','currency','getDevice','addresss','CHATS_DELETE','Sending\x20audio\x20whatsapp','prototype','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','deleteReplyOption','binary','LOG_LEVEL','Instance\x20restarted','readdirSync','CHATS_SET','LICENSE_INVALID','):\x20Erro\x20ao\x20criar\x20fluxo\x20','request\x20received\x20in\x20createFlow','deleteConversation','userDevicesCache','contacts.upsert','https://','\x5cd+','getMessageModelForOwner','writeStore','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','Unable\x20to\x20leave\x20the\x20group','PENDING','/instance/create','scheduleSendText','urlOrBase64','node-mime-types','EVENTS','URL\x20limpa:\x20','):\x20Alterando\x20fluxo...','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','hDel','command','Media\x20folder\x20does\x20not\x20exist,\x20creating\x20folder...','metadata','Not\x20allowed\x20by\x20CORS','sendLocation','includes','\x20instance\x20does\x20not\x20exist','atendimentoAberto','chatHandle','flow','NO_IP','sendButtons','content','mentions','findByIdAndDelete','/exit','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','ignoreGroups','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','expression','messages.set','end','uazapiDeleteMessage','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','request\x20received\x20in\x20getConversation','error','mentioned','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','website','readMessages','saveMediaToFile','Connection','public','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','Valor\x20inicial:\x20\x22','1654698bNxRil','Audio\x20is\x20base64','dropCollection','http','reaction','sendCommand','getLastMessage','Instance\x20Key\x20from\x20DB:','hGetAll','editFlowBlock','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','setting','maxActives','chatModify','Erro\x20ao\x20aplicar\x20varedit:\x20','class-validator','Variáveis\x20não\x20encontradas:','toFile','WEBHOOK_EVENTS_NEW_JWT_TOKEN','max','@g.us','and','valid','DEL_INSTANCE','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','Erro\x20de\x20atualização:\x20','updatePresence','messages.upsert','stopConversation','_error','toLowerCase','prefixCommand','ON\x20-\x20dbName:\x20','web','integer','/group','158zSAiJM','Profile\x20not\x20found','):\x20updateResult:','isJidGroup','Authentication\x20error','desc','restrict','set','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','WEBHOOK_MAP','CREDENTIALS','):\x20Conversa\x20atualizada\x20em\x20memória','forEach','loadWebhook','getStatus','createConversationforgoToFlow','findGroups','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','waitingMenu_id','isRunning','MESSAGES_SET','apiName','store','render','local_map','contacts','setHeader','uazapiSendLocation','apikey','groupSettingUpdate','status@broadcast','):\x20Fluxos\x20não\x20estão\x20ativados','upsertChats','request\x20received\x20in\x20getFlow','\x1b[41m','editScheduleMessage','):\x20Enviando\x20áudio','NextBlock','Log\x20out\x20instance:\x20','updateProfilePicturePrivacy','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','demote','where','create','menuMessage','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','_activatedCount','Message\x20not\x20found','processConditions','.json','CONNECTION_UPDATE','statusMessage','TRIAL_INSTANCE_NAME','imagechat','load','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','updateOnlinePrivacy','request\x20received\x20in\x20updateAgent','params','DATABASE_CONNECTION_HOST','fromMe','Erro\x20ao\x20normalizar\x20a\x20mensagem:','replyOption','Schema','statusJidList','picture','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','ListType','fetchProfile','folder','Missing\x20global\x20api\x20key','updatePrivacySettings','connecting','reconnectAttempts','Mensagem\x20não\x20suportada','logger','BufferJSON','dbInstance','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','\x20inseridos\x20no\x20banco\x20de\x20dados...','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','getBase64FromMediaMessage','ENABLED','Instância\x20não\x20encontrada.','webhook','Image\x20path:\x20','reviver','getProfileName','getFlow','getOwnPropertyDescriptor','DATABASE_CONNECTION_URI','CHATS_UPSERT','opendirSync','presenceSubscribe','data','jsonwebtoken','copyBlock','loggedOut','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','convert','qrcode-terminal','WEBHOOK_EVENTS_CHATS_UPDATE','Deletion\x20failed','Unknown\x20message\x20type\x20or\x20empty\x20message','delAll','TYPE','Cache-Control','buttons','goNextblock','downloadMediaMessage','WEBHOOK_EVENTS_GROUPS_UPSERT','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','GROUP_PARTICIPANTS_UPDATE','deleteMessage','Image\x20converted\x20to\x20WebP','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','sendWhatsAppAudio','_Chats','isInteger','saveConversationToDatabase','request\x20received\x20in\x20fetchConversation','updateGParticipate','from','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','last_update','contextInfo','<subdomain>','editflowreply','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','WEBHOOK_EVENTS_PRESENCE_UPDATE','conversationTimestamp','mkdirSync','$dbName','variablesNotFound','add','processvaredits','\x22\x20-\x20NOT\x20CONNECTION','deleteBlock','isLong','default','allContacts','enabled','):\x20lastBlockId:\x20','):\x20Conversa\x20está\x20expirada','context','mediaKey','fetchProfilePictureUrl','Erro\x20ao\x20atualizar\x20conversa:\x20','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','assign','/*.json','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','logout','.webp','archive','\x0aFN:','findOneAndUpdate','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','desativadoFluxoAte','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','value','Output\x20audio\x20path:\x20','EMAIL','ephemeralMessage',',\x20Resultado:\x20','oldValue','pre','cleanStore','closeExistingConversations','Processing\x20audio','flowActive','updateGroupsAddPrivacy','__esModule','getTime','modifiedCount','getflow','express','chats.upsert','PASSWORD','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','equal','/message','length','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Including\x20timestamp\x20in\x20url:\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','Desconectado,\x20parando\x20execução.','isBusiness','removeInstance','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','/events/:instance','env','newStoppedUntil','140UTFQfe','stickerMessage','):\x20Conversas\x20encontradas:','responsavelid','Original\x20filename:','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','reorderBlocks','qrCode','minutesToClose','SSL_CONF','groups_ignore','AUTHENTICATION_JWT_SECRET','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','privacySettings','uazapi','getOwnPropertyNames','groupadd','The\x20','saveCreds','request\x20received\x20in\x20editFlowcondition','):\x20teve\x20mudanças\x20chat.name:\x20','\x22reaction\x22\x20must\x20be\x20an\x20emoji','/instance/fetchInstances','errors','\x1b[37m%s\x1b[0m','messageHandle','SECRET','all','axios','Flow\x20already\x20exists','Temp\x20image\x20deleted','listMessage','deleteDoneMessages','leaveGroup','Audio\x20processed','statusCode','condition','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','validate','Type\x20defined\x20as\x20audio','hGet','createSectionsFromValues','NODE_ENV','Invalid\x20format','startsWith','Instance\x20logged\x20out','):\x20Flow\x20não\x20encontrado','customFields','true','\x1b[42m','processApiRequest','1131890iJDhwv','\x20-i\x20','Error\x20updating\x20privacy\x20settings','Not\x20Found','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','findFlow','):\x20Entrou\x20na\x20função\x20saveReply','):\x20newSecondValue\x20após\x20replaceVariables:','delInstanceTime','interval\x20não\x20é\x20um\x20número','createServer','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','File\x20written\x20to\x20path:\x20','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','stateConnection','HeaderType','utf-8','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','ios','Error\x20updating\x20setting','key','substring','mediatype','sendReaction','flowname:\x20','connectionState','height','padEnd','request\x20received\x20in\x20editFlowgroup','\x20não\x20encontrado','writeFileSync','insertMany','groupRevokeInvite','):\x20Bloco\x20com\x20ID\x20','):\x20Enviando\x20localização','messageSecret','Getting\x20image\x20from\x20url','replacer','toDataURL','less','endSession','.sendDataWebhook-local','groupName','available','media','createConnection','):\x20Iniciando\x20bot...','):\x20Editando\x20variável\x20do\x20fluxo...','):\x20Query\x20params:','width','findAndReplaceRegex','\x1b[33m',',\x20Segundo\x20Valor:\x20','fone','PRODUCT_LIST','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','detail','pollMessage','blockLogs','stoppedUntil','redisCache','API\x20Key\x20from\x20Request:','delInstanceFiles','Archiving\x20chat','description','stdout','toggleEphemeral','ContactModel','editOperator','variablesToObject','/clients-info','DEBUG','leadInfo','uazapiSendMenu','/wa-qrcode','):\x20Erro\x20durante\x20a\x20atualização:\x20','env.yml','lastmsg','apply','replyOptions','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','keep-alive','replaceVariablesInObject','CONTACTS_UPSERT','filter','CHATS_UPDATE','.mp3','Converting\x20audio\x20to\x20mp4','E-mail:\x20','createJid','StartBot','rows','connect','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','created','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','refreshToken','viewOnceMessageV2Extension','item','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','state','JWT','Error\x20in\x20markMessageAsRead:','secondValue','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','getClient','bulkWrite','API_KEY','processblock','updateStopChat','storePath','^\x5cd+([-]\x5cd+)*@g.us$','QRCODE_UPDATED','eventHandler','\x20não\x20encontrado\x20para\x20atualização.','Erro:','generateHash','block','loadInstance','connectionClosed','SINGLE_SELECT','OrAnd','revokeInviteCode','done','):\x20Ignoring\x20group\x20messages.','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','CONFIG_SESSION_PHONE','syscall','recording','waitingForReplyMenu','replaceVariablesInReplyOptions','footerText','deleteflow','when','):\x20Erro\x20ao\x20editar\x20agentes:\x20','endsWith','groupCreate','Erro\x20inesperado\x20em\x20processvaredits:\x20','out','entries','presence.update','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','saveTextReply','deleteOne','Error\x20change\x20group\x20name','SERVER','authService','^\x5cd+','Router','isArray','stopped','):\x20Buscando\x20flow...','enumerable','cpf','\x20mensagens\x20de\x20','setContext','editFlow','Getting\x20profile\x20with\x20jid:\x20','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','}}\x20->\x20valor\x20não\x20encontrado','creds.update','vote','authModel','augusto.fcs@gmail.com','\x1b[1m','createNewConversation','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','\x1b[1m\x1b[37m','sending','wuid','close','END:VCARD','agents','Esse\x20fluxo\x20expirou','url','stopMinutes','waitingMenu_replyOptions','Variável\x20não\x20encontrada!','lowerCase','redis','lastCondition','fileName','audio/mp4','archiveChat','ReplyOptions\x20finais\x20após\x20reordenação:','QRCODE_LIMIT','prepareMediaMessage','updateStatusPrivacy','DARK','routerPath','sendDataWebhook','CORS','Erro\x20ao\x20editar\x20o\x20chat:\x20','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','isBase64','STATUS_INSTANCE','realVariables','path','varedits','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','emit','SEND_MESSAGE','updateChatWithMessage','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','toNumber','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','):\x20tem\x20blocks','localWebhook','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','sticker','Número:\x20','removeProfilePicture','vcard','groups.upsert','findConversation','chat','^\x5cd+[\x5c.@\x5cw-]+','rmSync','request\x20received\x20in\x20editConversation','WEBHOOK_EVENTS_GROUPS_UPDATE','delaySecMin','LEVEL','writeData','notEqual','headerString','groupUpdateSubject','downloads','some','updateReplyOption','\x1b[30m%s\x1b[0m','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','Message','messageTimestamp','contactMessage','locationMessage','creds.json','warn','action','WEBHOOK','generateWAMessageFromContent','):\x20conversation.lastInteraction:\x20','\x20chats\x20de\x20','WEBHOOK_EVENTS_MESSAGES_SET','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','mongodb','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','4936032xgjXsA','Fetching\x20business\x20profile','Getting\x20profile\x20info','groupSetting','Error\x20removing\x20profile\x20picture','deleteAll','updateMessage','PRODUCTION','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','noConnection','inviteCode','list','method','status','findChats','presence','paused','?authSource=admin&readPreference=primary&directConnection=true','replaceVariablesLogs','editFlowCondition','?timestamp=','):\x20Procurando\x20mensagens\x20para\x20envio','groupJid','Error\x20updating\x20profile\x20picture','truncatedto','INFO','exit','nextBlock:','shutdown\x20-r\x20now','participant','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','string','convertedOptions','name','cwd','Fluxos\x20não\x20estão\x20ativados','https://uazapi-plugin.bubbleapps.io/','groupInviteCode','save','loadEnv','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','lastSend','replaceValue','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','!stop','now','Atualização:\x20','qrcode.updated','src','proto','MESSAGES_UPDATE','viewOnceMessage','getMessage','mediaSticker','variables','):\x20Deletando\x20mensagem','existsSync','authState','5477927LczKxs','parse','notas','_Contacts','readMessage','remoteJids','node-cache','The\x20global\x20api\x20key\x20must\x20be\x20set','parseInt','replaceOne','menuExpiredMessage','WEBHOOK_EVENTS_MESSAGES_UPDATE','next_groupId','No\x20join\x20group\x20invite\x20code\x20or\x20url','\x20minutos\x20verificará\x20novas\x20mensagens','temp-','getMinutes','connectionStatus','fetchProfile2','instanceName','reorderReplyOptions','new.jwt','PRIVKEY','arrayUnique','express-async-errors','Error\x20in\x20scheduleNextCheck:\x20','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','Type\x20not\x20found','post','GROUPS_UPSERT','WEBHOOK_EVENTS_CHATS_DELETE','Last\x20message\x20not\x20found','nomecompleto','subject','fetchContacts','waMonitor','apirequest','latitude',',\x20lastCondition:\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','Enter\x20a\x20value\x20in\x20milliseconds','varedit','pollCreationMessageV2','updateProfilePicture','lastSendMessage','):\x20Flow\x20desativado','TEL','certbot','STORE_CLEANING_TERMINAL','processgoToFlow','menuIgnoreNonVotes','flowStopConversation','CLIENT','isBooleanString','changeVariables','findParticipants','Audio\x20is\x20url','):\x20Falha\x20ao\x20deletar\x20mensagem.','sendMessage','greater','messages','updateProfileStatus','request\x20received\x20in\x20getAutomateSystem','unreadcount','fetchLatestBaileysVersion','DATABASE_CONNECTION_PASSWORD','connection.update','AutomateFunctions','flowName','waitingMenu_ExpiredMessage','inner','GUARD','getChatModelForOwner','/media/','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','DisconnectReason','env.KEY\x20!==\x20key','pollCreationMessageKey','slice','lastMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20Buscando\x20conversas...','sections','Image\x20is\x20base64','lastInteraction','uazapiSendMedia','size','ListMessage','/wa-groups','text/event-stream','fetchMessages','WEBHOOK_EVENTS_CONTACTS_SET','initAuthCreds','Erro\x20ao\x20buscar\x20conversa:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','eventemitter2','call','documentWithCaptionMessage','):\x20Criando\x20nova\x20conversa','):\x20não\x20encontrou','--agree-tos','sendStatus','request\x20received\x20in\x20updateFlowConfig','user','./.git/config','SERVER_TYPE','HH:mm:ss','getConversation','QRCODE','viewOnceMessageV2','buttonId','getMIMEType','videoMessage','DOCKER_ENV','find','):\x20Bloco\x20copiado:\x20','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','arraybuffer','update','unhandledRejection','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','jwt','certonly','sha256','getTicketSystem','evaluateCondition','dbServer','pt-BR','):\x20Erro\x20ao\x20buscar\x20conversas\x20','isDirectory','):\x20leadInfoVariables','protocolMessage','Temp\x20audio\x20path:\x20','PREFIX_KEY','editedMessage','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','The\x20instance\x20is\x20already\x20connected','locked','message','/automate','base64','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','waInstances','longitude','Content-Type','apiResponse','#ffffff','utf8','DATABASE_CONNECTION_USER','Module\x20-\x20ON','instance','badSession','8302ZMAlzy','request\x20received\x20in\x20deleteDoneMessages','has','sign','start','REDIS_PREFIX_KEY','email','FlowRouter','Comando\x20desconhecido','views','normalizeMessage','owner','promote','-instances','auth','TEXT','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','editFlowVariable','newName','STORE','):\x20Não\x20achou\x20nenhum\x20flow','Bad\x20Request','DATABASE_ENABLED','.X-ABLabel:Celular\x0a','hex','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','CONFIG_SESSION_PHONE_CLIENT','body','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','floor','notContains','/wa-connection-update','startFlow','WEBHOOK_EVENTS_SEND_MESSAGE','DD/MM\x20HH:mm:ss','messages.update','evaluateConditionTest','SendScheduleMessage','findGroup','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','NEW_JWT_TOKEN','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','editChat','scheduleNextCheck','WEBHOOK_EVENTS_CONNECTION_UPDATE','client','notify','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','\x22\x20not\x20found','groups.update','sendMessageWithTyping','\x0a*Você\x20respondeu*:\x0a','Getting\x20audio\x20from\x20url','StatusJidList\x20is\x20required','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','):\x20Entrou\x20na\x20função\x20stop','\x1b[33m%s\x1b[0m','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','Erro\x20ao\x20iniciar\x20fluxo:\x20','pollUpdateMessage','PRESENCE_UPDATE',',\x20saindo.','textMessage','sendList','creation','sort','stopMinutesMaxActives','events','markMessageAsRead','font','join','Group\x20not\x20found','Logger','put','https','Flow\x20iniciado\x20com\x20','AutomateSystem','REDIS_URI','\x20contacts','rowId','buttonText','reference','stanzaId','Method\x20not\x20implemented.','leadInfo.desativadoFluxoAte','role','delete','allFlows','pollErrorMessage','send','group','remoteJidsRemaining','toLocaleString','sendMedia','-whatsapp-api','\x1b[44m','replaceVariablesChat','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','Nenhum\x20chat\x20encontrado\x20para\x20editar.','Operador:\x20\x22','conditions','jpegThumbnail','data:\x20','profilePicture','padStart','announce','1104642flVHEA','CLEANING_INTERVAL','):\x20Error\x20processing\x20conditions:\x20','pollOnReplyDelete','updateReadReceiptsPrivacy','\x20não\x20encontrado\x20para\x20cópia','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','):\x20atualização\x20chat:\x20','updateCustomFields','Flow\x20não\x20encontrado','instanceCount','quoted','groupValidate','):\x20Campos\x20a\x20serem\x20atualizados:','insert','delaySecMax','REDIS','\x1b[34m%s\x1b[0m','):\x20Ler\x20mensagem','Button\x20IDs\x20cannot\x20be\x20repeated.','exists','WEBHOOK_EVENTS_STATUS_INSTANCE','lean','header','DATABASE_CONNECTION_DB_PREFIX_NAME','reactionMessage','):\x20conversation.waitingMenu_name','getPrototypeOf','process','model','setNewValue','repeat','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','Background\x20color\x20is\x20required','options','toBRL','SUCCESS','groupDesc','.refreshToken','saveVariable','unavailable','getRandomText','uazapiSendText','closed','lastReceivedMessage','dataValidate','remote\x20\x22origin\x22','Error\x20updating\x20profile\x20name','updateProfileName','/events','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','8080','):\x20','document','trim','unlinkSync','sendPresenceUpdate','configService','formatVCard','title','none','WEBHOOK_EVENTS_MESSAGES_UPSERT','createConversationforStartFlow','Instância:\x20','hbs','extractRegex','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','notMatchRegex','round','Instance\x20\x22','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Erro\x20do\x20Certbot:\x20','open','text','segundos','updateGroupPicture','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','pollMessageOnDelete','):\x20teve\x20mudanças\x20chat.displayName:\x20','archived','processUazapi','Parando\x20aplicação...','sendContact','scheduleMessages','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','):\x20customFieldVariables','):\x20Mensagem\x20já\x20enviada\x20para\x20',',\x20qrcodeCount:\x20'];a0_0x2087=function(){return _0xaa6148;};return a0_0x2087();}async function uo(){const _0x9b45cc=a0_0x22fdc2;let _0x236db0=await new ne(E[_0x9b45cc(0x71b)](_0x9b45cc(0x6d1)))[_0x9b45cc(0x31c)]();return console[_0x9b45cc(0x2d0)]('instancias:\x20',_0x236db0['length']),_0x236db0[_0x9b45cc(0x44c)];}async function po(){const _0x223a3a=a0_0x22fdc2;let _0x34d73e=E[_0x223a3a(0x71b)]('REDIS'),_0x1ae3ee=E[_0x223a3a(0x71b)](_0x223a3a(0x313))[_0x223a3a(0x4f9)]['KEY'],_0x45caf7=E[_0x223a3a(0x71b)](_0x223a3a(0x462)),_0x56e287=await fi(),_0x4d468c=E['get'](_0x223a3a(0x51f))[_0x223a3a(0x24d)];try{let _0x31691c={'ip':_0x56e287||null,'redis_enable':_0x34d73e?.[_0x223a3a(0x3e8)]||null,'apikey':_0x1ae3ee||null,'ssl':_0x45caf7?.[_0x223a3a(0x5d5)]||null,'lastupdate':wi||null,'port':_0x4d468c||null,'gitInstallError':Ae?.[_0x223a3a(0x649)]||null};if(console[_0x223a3a(0x2d0)]('ip:\x20',_0x31691c['ip']),_0x34d73e&&_0x34d73e[_0x223a3a(0x3e8)]){let _0x327af1=await uo();_0x31691c[_0x223a3a(0x6cb)]=_0x327af1||null;}for(let _0x2133a2 in _0x31691c)_0x31691c['hasOwnProperty'](_0x2133a2)&&_0x2133a2!=='ip'&&(_0x31691c[_0x2133a2]=JSON[_0x223a3a(0x2c1)](_0x31691c[_0x2133a2]));return(await Re['default'][_0x223a3a(0x5db)](_0x223a3a(0x39d),_0x31691c))['data'];}catch(_0x3260e2){return console[_0x223a3a(0x367)](_0x3260e2),!0x1;}}var Es=!0x1,wi=0x216,go=0x3,di=0x1b7740;async function Ns(){const _0x10405b=a0_0x22fdc2;if(!await fi())return console[_0x10405b(0x367)](_0x10405b(0x27d)),_0x10405b(0x358);let _0xd0b750=await po();if(_0xd0b750){if(_0xd0b750[_0x10405b(0x792)][_0x10405b(0x2ca)]===!0x0){E[_0x10405b(0x71b)](_0x10405b(0x462))[_0x10405b(0x5d5)][_0x10405b(0x353)](_0x10405b(0x414))&&_0xd0b750['response'][_0x10405b(0x246)]&&(await fo(_0xd0b750[_0x10405b(0x792)][_0x10405b(0x246)],ho),await wo(_0x10405b(0x531),_0xd0b750['response'][_0x10405b(0x246)]),console[_0x10405b(0x2d0)]('Reiniciando\x20sistema\x20após\x20instalado\x20certificado...'),setTimeout(()=>bo(),0x2710)),Ae===null&&_0xd0b750[_0x10405b(0x792)][_0x10405b(0x412)]-wi>0x0&&await mo(),Es||(Es=!0x0,oo());let _0x4740c7=0x24*0x3c*0x3c,_0x501509=_0xd0b750[_0x10405b(0x792)][_0x10405b(0x70c)]>_0x4740c7?_0x4740c7:_0xd0b750[_0x10405b(0x792)][_0x10405b(0x70c)],_0x5d8fd5=Number(_0x501509);if(isNaN(_0x5d8fd5)){console['error'](_0x10405b(0x496));return;}let _0x434dde=Math[_0x10405b(0x674)](_0x5d8fd5/0xe10),_0x28f4f2=Math['floor'](_0x5d8fd5%0xe10/0x3c),_0x3369f=new Date(Date[_0x10405b(0x5b2)]()+_0x5d8fd5*0x3e8);setTimeout(Ns,_0x5d8fd5*0x3e8);let _0x3c013a=_0xf2951b=>_0xf2951b[_0x10405b(0x78b)]()[_0x10405b(0x6bf)](0x2,'0'),_0x295e83='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x3c013a(_0x434dde)+'\x20horas\x20e\x20'+_0x3c013a(_0x28f4f2)+'\x20minutos.\x20Será\x20às\x20'+_0x3c013a(_0x3369f['getHours']())+':'+_0x3c013a(_0x3369f[_0x10405b(0x5cf)]())+'.';console['log'](_0x295e83);}else return console['log'](_0x10405b(0x52c)),Es&&(console[_0x10405b(0x2d0)](_0x10405b(0x4f1)),process[_0x10405b(0x59f)]()),_0x10405b(0x338);}else{if(ui++,ui<go)console[_0x10405b(0x2d0)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+di/0xea60+_0x10405b(0x1f5)),setTimeout(Ns,di);else return console[_0x10405b(0x367)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x10405b(0x740);}}async function mo(){const _0x8ce2fa=a0_0x22fdc2;console[_0x8ce2fa(0x2d0)](_0x8ce2fa(0x316));let _0x181c8d=(0x0,Oe[_0x8ce2fa(0x1d5)])(_0x8ce2fa(0x704),{'shell':!0x0});_0x181c8d[_0x8ce2fa(0x4ce)]['on'](_0x8ce2fa(0x3f4),_0x2c9a22=>{const _0x433d2b=_0x8ce2fa;console[_0x433d2b(0x2d0)](_0x433d2b(0x5b3)+_0x2c9a22);}),_0x181c8d[_0x8ce2fa(0x273)]['on'](_0x8ce2fa(0x3f4),_0x293ab6=>{const _0x10f7f1=_0x8ce2fa;console[_0x10f7f1(0x367)](_0x10f7f1(0x38a)+_0x293ab6);}),_0x181c8d['on']('exit',_0x20c68e=>{const _0x10382b=_0x8ce2fa;_0x20c68e!==0x0?console[_0x10382b(0x367)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x20c68e):console[_0x10382b(0x2d0)](_0x10382b(0x326)),console[_0x10382b(0x2d0)](_0x10382b(0x713)),setTimeout(()=>process[_0x10382b(0x59f)](),0x2710);});}var ho=Ie[a0_0x22fdc2(0x421)][a0_0x22fdc2(0x69d)](__dirname,a0_0x22fdc2(0x4d9));async function fo(_0x56c595,_0x1054ad){const _0x904f93=a0_0x22fdc2;let _0x571697=yo();_0x56c595=_0x56c595['replace'](_0x904f93(0x2c9),'');try{let _0x24f004=ge[_0x904f93(0x421)][_0x904f93(0x736)](_0x1054ad,_0x904f93(0x652));_0x24f004=_0x24f004[_0x904f93(0x274)](/<apikey>/,_0x571697),_0x24f004=_0x24f004['replace'](/<subdomain>/g,_0x56c595),ge[_0x904f93(0x421)][_0x904f93(0x4ab)](_0x1054ad,_0x24f004,_0x904f93(0x652)),console[_0x904f93(0x2d0)](_0x904f93(0x50b));}catch(_0x1fe609){console[_0x904f93(0x367)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x1fe609);}}function wo(_0x3ed6a9,_0x1f0c4e){return new Promise((_0x896665,_0x5da8fa)=>{const _0x5f4427=a0_0x113b;let _0x3a7fdf=(0x0,Oe[_0x5f4427(0x1d5)])(_0x5f4427(0x5ee),[_0x5f4427(0x639),_0x5f4427(0x291),'-m',_0x3ed6a9,_0x5f4427(0x623),'-d',_0x1f0c4e]);_0x3a7fdf['stdout']['on'](_0x5f4427(0x3f4),_0x4629ac=>{const _0x289e33=_0x5f4427;console[_0x289e33(0x2d0)]('Certbot:\x20'+_0x4629ac[_0x289e33(0x78b)]());}),_0x3a7fdf[_0x5f4427(0x273)]['on'](_0x5f4427(0x3f4),_0x5ccc3c=>{const _0x5f1785=_0x5f4427;console[_0x5f1785(0x367)](_0x5f1785(0x709)+_0x5ccc3c['toString']());}),_0x3a7fdf['on'](_0x5f4427(0x538),_0x3c2759=>{const _0x3d24f5=_0x5f4427;_0x3c2759!==0x0?(console['error'](_0x3d24f5(0x4c4)+_0x3c2759),_0x5da8fa(_0x3d24f5(0x4c4)+_0x3c2759)):(console[_0x3d24f5(0x2d0)]('Certbot\x20executado\x20com\x20sucesso.'),_0x896665());});});}function yo(_0x3e481f=0x32){const _0x56851d=a0_0x22fdc2;let _0x3a5475=_0x56851d(0x233),_0x153640='';for(let _0x3e5712=0x0;_0x3e5712<_0x3e481f;_0x3e5712++)_0x153640+=_0x3a5475[_0x56851d(0x30e)](Math[_0x56851d(0x674)](Math[_0x56851d(0x321)]()*_0x3a5475['length']));return _0x153640;}function bo(){const _0xef5796=a0_0x22fdc2;(0x0,Oe[_0xef5796(0x288)])(_0xef5796(0x5a1),(_0x28fde9,_0x1eff91,_0x1a2ca3)=>{const _0x2fd464=_0xef5796;if(_0x28fde9){console[_0x2fd464(0x367)](_0x2fd464(0x735)+_0x28fde9);return;}if(_0x1a2ca3){console[_0x2fd464(0x367)](_0x2fd464(0x235)+_0x1a2ca3);return;}console[_0x2fd464(0x2d0)](_0x2fd464(0x2d1)+_0x1eff91);});}