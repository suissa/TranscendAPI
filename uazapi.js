const a0_0x1955e1=a0_0x2868;(function(_0x10b1da,_0x4bf9cc){const _0x5324c2=a0_0x2868,_0x3c01f9=_0x10b1da();while(!![]){try{const _0x4f7485=parseInt(_0x5324c2(0x810))/0x1*(-parseInt(_0x5324c2(0x401))/0x2)+parseInt(_0x5324c2(0x7d1))/0x3*(parseInt(_0x5324c2(0x7c7))/0x4)+-parseInt(_0x5324c2(0x614))/0x5+-parseInt(_0x5324c2(0x3c2))/0x6+parseInt(_0x5324c2(0x237))/0x7+parseInt(_0x5324c2(0x4e4))/0x8*(parseInt(_0x5324c2(0x767))/0x9)+parseInt(_0x5324c2(0x373))/0xa;if(_0x4f7485===_0x4bf9cc)break;else _0x3c01f9['push'](_0x3c01f9['shift']());}catch(_0x90fda5){_0x3c01f9['push'](_0x3c01f9['shift']());}}}(a0_0x1595,0x23ebe));var Ki=Object[a0_0x1955e1(0x4ed)],Ge=Object[a0_0x1955e1(0x44b)],Qi=Object['getOwnPropertyDescriptor'],Yi=Object[a0_0x1955e1(0x2cc)],Xi=Object[a0_0x1955e1(0x6cc)],Zi=Object[a0_0x1955e1(0x203)][a0_0x1955e1(0x2f9)],eo=(_0x1fea90,_0x448d07)=>{for(var _0x5b7549 in _0x448d07)Ge(_0x1fea90,_0x5b7549,{'get':_0x448d07[_0x5b7549],'enumerable':!0x0});},Hs=(_0x10cb25,_0x10e560,_0x2728ad,_0x191ffe)=>{const _0x2493bb=a0_0x1955e1;if(_0x10e560&&typeof _0x10e560=='object'||typeof _0x10e560==_0x2493bb(0x5e6)){for(let _0x133509 of Yi(_0x10e560))!Zi['call'](_0x10cb25,_0x133509)&&_0x133509!==_0x2728ad&&Ge(_0x10cb25,_0x133509,{'get':()=>_0x10e560[_0x133509],'enumerable':!(_0x191ffe=Qi(_0x10e560,_0x133509))||_0x191ffe['enumerable']});}return _0x10cb25;},A=(_0x4baa90,_0x35e80c,_0x47b1d9)=>(_0x47b1d9=_0x4baa90!=null?Ki(Xi(_0x4baa90)):{},Hs(_0x35e80c||!_0x4baa90||!_0x4baa90[a0_0x1955e1(0x546)]?Ge(_0x47b1d9,a0_0x1955e1(0x36d),{'value':_0x4baa90,'enumerable':!0x0}):_0x47b1d9,_0x4baa90)),to=_0x226cf3=>Hs(Ge({},a0_0x1955e1(0x546),{'value':!0x0}),_0x226cf3),mr={};eo(mr,{'fullURL':()=>Ws,'subdomain':()=>X}),module[a0_0x1955e1(0x189)]=to(mr);var Vi=A(require('compression')),Qs=require('fs'),Ys=require(a0_0x1955e1(0x456)),Xs=require(a0_0x1955e1(0x65e)),Be=require(a0_0x1955e1(0x65e)),ce=process[a0_0x1955e1(0x469)](),Se=(0x0,Be[a0_0x1955e1(0x279)])(ce,a0_0x1955e1(0x3d0)),Ks=(0x0,Be[a0_0x1955e1(0x279)])(ce,a0_0x1955e1(0x2d1)),on=(0x0,Be[a0_0x1955e1(0x279)])(ce,'store','auth'),ps=class{constructor(){const _0x2372a6=a0_0x1955e1;this[_0x2372a6(0x1e6)]();}[a0_0x1955e1(0x7be)](_0x32e73b){const _0x180061=a0_0x1955e1;return this[_0x180061(0x33d)][_0x32e73b];}['loadEnv'](){const _0x268f10=a0_0x1955e1;this['env']=process['env']?.['DOCKER_ENV']!==_0x268f10(0x877)?this[_0x268f10(0x85f)]():this[_0x268f10(0x3ad)](),process[_0x268f10(0x33d)]?.['DOCKER_ENV']===_0x268f10(0x877)&&(this['env']['SERVER'][_0x268f10(0x51d)]=_0x268f10(0x7b5),this[_0x268f10(0x33d)]['SERVER'][_0x268f10(0x2cb)]=Number[_0x268f10(0x1e4)](process[_0x268f10(0x33d)]?.[_0x268f10(0x609)]??'8080'));}[a0_0x1955e1(0x85f)](){const _0xc3cd3e=a0_0x1955e1;return(0x0,Ys[_0xc3cd3e(0x75b)])((0x0,Qs['readFileSync'])((0x0,Xs[_0xc3cd3e(0x279)])(Ks,_0xc3cd3e(0x392)),{'encoding':_0xc3cd3e(0x336)}));}[a0_0x1955e1(0x3ad)](){const _0x7f8dff=a0_0x1955e1;return{'SERVER':{'TYPE':process['env'][_0x7f8dff(0x39f)],'PORT':Number[_0x7f8dff(0x1e4)](process[_0x7f8dff(0x33d)]['SERVER_PORT']),'URL':process['env'][_0x7f8dff(0x428)]},'CORS':{'ORIGIN':process['env'][_0x7f8dff(0x2cf)]['split'](','),'METHODS':process[_0x7f8dff(0x33d)][_0x7f8dff(0x63b)]['split'](','),'CREDENTIALS':process['env']?.[_0x7f8dff(0x3df)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x7f8dff(0x33d)]?.[_0x7f8dff(0x85a)],'FULLCHAIN':process[_0x7f8dff(0x33d)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x7f8dff(0x22e)](process['env']?.[_0x7f8dff(0x6b9)])?Number[_0x7f8dff(0x1e4)](process[_0x7f8dff(0x33d)][_0x7f8dff(0x6b9)]):void 0x0,'MESSAGES':process[_0x7f8dff(0x33d)]?.['STORE_MESSAGE']==='true','CONTACTS':process[_0x7f8dff(0x33d)]?.[_0x7f8dff(0x2f0)]===_0x7f8dff(0x877),'CHATS':process[_0x7f8dff(0x33d)]?.[_0x7f8dff(0x88a)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process['env']?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x7f8dff(0x1e4)](process[_0x7f8dff(0x33d)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x7f8dff(0x33d)][_0x7f8dff(0x2e8)],'PASSWORD':process['env']['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x7f8dff(0x33d)][_0x7f8dff(0x1f9)],'DB_PREFIX_NAME':process[_0x7f8dff(0x33d)][_0x7f8dff(0x1cd)]},'ENABLED':process[_0x7f8dff(0x33d)]?.[_0x7f8dff(0x7b0)]===_0x7f8dff(0x877)},'REDIS':{'ENABLED':process[_0x7f8dff(0x33d)]?.['REDIS_ENABLED']==='true','URI':process['env'][_0x7f8dff(0x370)]||_0x7f8dff(0x3a9),'PREFIX_KEY':process[_0x7f8dff(0x33d)][_0x7f8dff(0x80b)]||_0x7f8dff(0x2f5)},'LOG':{'LEVEL':process[_0x7f8dff(0x33d)]?.['LOG_LEVEL'][_0x7f8dff(0x3ff)](','),'COLOR':process[_0x7f8dff(0x33d)]?.[_0x7f8dff(0x4df)]===_0x7f8dff(0x877)},'PROXY':process[_0x7f8dff(0x33d)]?.[_0x7f8dff(0x631)]==='true','AUTHENTICATION':{'TYPE':process[_0x7f8dff(0x33d)][_0x7f8dff(0x76e)],'API_KEY':{'KEY':process[_0x7f8dff(0x33d)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x7f8dff(0x22e)](process[_0x7f8dff(0x33d)]?.[_0x7f8dff(0x700)])?Number[_0x7f8dff(0x1e4)](process[_0x7f8dff(0x33d)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process['env'][_0x7f8dff(0x4ee)]}}};}},b=new ps(),Gi=A(require(a0_0x1955e1(0x364))),be=A(require('express')),Gs=require(a0_0x1955e1(0x65e)),hs=A(require('dayjs')),gs=(_0x4e55bd=>(_0x4e55bd[a0_0x1955e1(0x426)]=a0_0x1955e1(0x81f),_0x4e55bd['INFO']=a0_0x1955e1(0x66f),_0x4e55bd[a0_0x1955e1(0x7b3)]=a0_0x1955e1(0x873),_0x4e55bd[a0_0x1955e1(0x404)]=a0_0x1955e1(0x44c),_0x4e55bd[a0_0x1955e1(0x2f7)]=a0_0x1955e1(0x21f),_0x4e55bd[a0_0x1955e1(0x305)]=a0_0x1955e1(0x7dd),_0x4e55bd[a0_0x1955e1(0x471)]=a0_0x1955e1(0x2b5),_0x4e55bd))(gs||{}),Zs=(_0x2552af=>(_0x2552af[a0_0x1955e1(0x426)]=a0_0x1955e1(0x782),_0x2552af[a0_0x1955e1(0x471)]='\x1b[30m%s\x1b[0m',_0x2552af[a0_0x1955e1(0x1d9)]='\x1b[34m%s\x1b[0m',_0x2552af[a0_0x1955e1(0x7b3)]=a0_0x1955e1(0x505),_0x2552af[a0_0x1955e1(0x404)]=a0_0x1955e1(0x20a),_0x2552af[a0_0x1955e1(0x2f7)]=a0_0x1955e1(0x4da),_0x2552af[a0_0x1955e1(0x305)]=a0_0x1955e1(0x363),_0x2552af))(Zs||{}),ea=(_0x298d63=>(_0x298d63[a0_0x1955e1(0x426)]=a0_0x1955e1(0x426),_0x298d63[a0_0x1955e1(0x7b3)]=a0_0x1955e1(0x7b3),_0x298d63['INFO']=a0_0x1955e1(0x1d9),_0x298d63[a0_0x1955e1(0x471)]=a0_0x1955e1(0x471),_0x298d63[a0_0x1955e1(0x404)]=a0_0x1955e1(0x404),_0x298d63['DEBUG']=a0_0x1955e1(0x2f7),_0x298d63[a0_0x1955e1(0x305)]=a0_0x1955e1(0x305),_0x298d63))(ea||{}),ta=(_0x2ff02a=>(_0x2ff02a['LOG']=a0_0x1955e1(0x87b),_0x2ff02a[a0_0x1955e1(0x1d9)]='\x1b[44m',_0x2ff02a[a0_0x1955e1(0x7b3)]=a0_0x1955e1(0x7e8),_0x2ff02a[a0_0x1955e1(0x471)]=a0_0x1955e1(0x43a),_0x2ff02a[a0_0x1955e1(0x404)]=a0_0x1955e1(0x57b),_0x2ff02a[a0_0x1955e1(0x2f7)]=a0_0x1955e1(0x86f),_0x2ff02a['VERBOSE']=a0_0x1955e1(0x54a),_0x2ff02a))(ta||{}),$=class{constructor(_0x3e0a82=a0_0x1955e1(0x840)){this['context']=_0x3e0a82,this['configService']=b;}[a0_0x1955e1(0x20b)](_0x5ab40a){this['context']=_0x5ab40a;}[a0_0x1955e1(0x1d1)](_0x4518e3,_0x1ebb55){const _0x181331=a0_0x1955e1;let _0x4c2053=[];this[_0x181331(0x567)][_0x181331(0x7be)](_0x181331(0x426))['LEVEL'][_0x181331(0x408)](_0x422299=>_0x4c2053[_0x181331(0x6c9)](ea[_0x422299]));let _0x4153e6=typeof _0x4518e3;_0x4c2053[_0x181331(0x718)](_0x1ebb55)&&(b[_0x181331(0x7be)](_0x181331(0x426))[_0x181331(0x661)]?(console[_0x181331(0x538)](_0x181331(0x555)+Zs[_0x1ebb55],_0x181331(0x63c),(0x0,hs[_0x181331(0x36d)])()[_0x181331(0x850)](_0x181331(0x403)),'\x1b[0m',gs[_0x1ebb55]+ta[_0x1ebb55]+_0x181331(0x555),_0x1ebb55+_0x181331(0x376),_0x181331(0x488),this['context']+_0x181331(0x34e),gs[_0x1ebb55],_0x4153e6!==_0x181331(0x64b)?_0x4518e3:'',_0x181331(0x34e)),_0x4153e6==='object'&&console[_0x181331(0x538)](_0x4518e3,'\x0a')):console[_0x181331(0x538)]((0x0,hs[_0x181331(0x36d)])()[_0x181331(0x850)](_0x181331(0x638)),_0x1ebb55+'\x20',''+this[_0x181331(0x493)],_0x4518e3));}[a0_0x1955e1(0x538)](_0x3fdcb7){const _0x13f005=a0_0x1955e1;this['console'](_0x3fdcb7,_0x13f005(0x426));}[a0_0x1955e1(0x6e0)](_0x3ef5c4){const _0x323c01=a0_0x1955e1;this[_0x323c01(0x1d1)](_0x3ef5c4,'INFO');}[a0_0x1955e1(0x4cb)](_0x25a822){const _0x3b928f=a0_0x1955e1;this['console'](_0x25a822,_0x3b928f(0x7b3));}[a0_0x1955e1(0x2e7)](_0xd3fcf0){const _0x150e89=a0_0x1955e1;this[_0x150e89(0x1d1)](_0xd3fcf0,_0x150e89(0x404));}['verbose'](_0x3218c8){const _0x38bc53=a0_0x1955e1;this[_0x38bc53(0x1d1)](_0x3218c8,_0x38bc53(0x305));}[a0_0x1955e1(0x8af)](_0x4f8e64){const _0xda96b2=a0_0x1955e1;this[_0xda96b2(0x1d1)](_0x4f8e64,_0xda96b2(0x2f7));}['dark'](_0xab4354){const _0x2617b5=a0_0x1955e1;this[_0x2617b5(0x1d1)](_0xab4354,_0x2617b5(0x471));}};function sa(){const _0xb11bcd=a0_0x1955e1;process['on'](_0xb11bcd(0x74e),(_0x7c4a3e,_0x1c5119)=>{const _0x135750=_0xb11bcd;new $(_0x135750(0x74e))[_0x135750(0x2e7)]({'origin':_0x1c5119,'stderr':process[_0x135750(0x75f)]['fd'],'error':_0x7c4a3e});}),process['on']('unhandledRejection',(_0x47bbac,_0x5a4f5b)=>{const _0x3b80b9=_0xb11bcd;new $(_0x3b80b9(0x34d))[_0x3b80b9(0x2e7)]({'origin':_0x5a4f5b,'stderr':process[_0x3b80b9(0x75f)]['fd'],'error':_0x47bbac});});}var aa=A(require('eventemitter2')),ms=new aa[(a0_0x1955e1(0x36d))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require(a0_0x1955e1(0x21b)),Ae=A(require(a0_0x1955e1(0x21b))),We=new $(a0_0x1955e1(0x755)),F=b['get'](a0_0x1955e1(0x51f)),R=F[a0_0x1955e1(0x343)]?F[a0_0x1955e1(0x84e)][a0_0x1955e1(0x3d4)]?Ae[a0_0x1955e1(0x36d)]['createConnection'](F[a0_0x1955e1(0x84e)][a0_0x1955e1(0x3d4)],{'dbName':F[a0_0x1955e1(0x84e)][a0_0x1955e1(0x82d)]+'-whatsapp-api'}):Ae[a0_0x1955e1(0x36d)][a0_0x1955e1(0x6be)]('mongodb://'+F[a0_0x1955e1(0x84e)]['HOST']+':'+F[a0_0x1955e1(0x84e)][a0_0x1955e1(0x2cb)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':F['CONNECTION'][a0_0x1955e1(0x6ed)],'pass':F[a0_0x1955e1(0x84e)]['PASSWORD'],'dbName':F[a0_0x1955e1(0x84e)][a0_0x1955e1(0x82d)]+a0_0x1955e1(0x680)}):null;F[a0_0x1955e1(0x343)]&&We['info'](a0_0x1955e1(0x45f)+R[a0_0x1955e1(0x3f8)]);var le=F['ENABLED']?F[a0_0x1955e1(0x84e)][a0_0x1955e1(0x3d4)]?Ae[a0_0x1955e1(0x36d)][a0_0x1955e1(0x6be)](F[a0_0x1955e1(0x84e)]['URI'],{'dbName':a0_0x1955e1(0x790)}):Ae[a0_0x1955e1(0x36d)][a0_0x1955e1(0x6be)]('mongodb://'+F[a0_0x1955e1(0x84e)]['HOST']+':'+F[a0_0x1955e1(0x84e)][a0_0x1955e1(0x2cb)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':F[a0_0x1955e1(0x84e)][a0_0x1955e1(0x6ed)],'pass':F[a0_0x1955e1(0x84e)][a0_0x1955e1(0x2f6)],'dbName':a0_0x1955e1(0x513)}):null;le&&We[a0_0x1955e1(0x6e0)](a0_0x1955e1(0x45f)+le[a0_0x1955e1(0x3f8)]),process['on']('beforeExit',()=>{const _0x379f95=a0_0x1955e1;R&&R['close'](()=>{const _0x535820=a0_0x2868;We['info'](_0x535820(0x491));}),le&&le[_0x379f95(0x4ce)](()=>{const _0x4f9f3e=_0x379f95;We[_0x4f9f3e(0x6e0)]('CacheContacts\x20database\x20connection\x20closed.');});});var so=new Me[(a0_0x1955e1(0x253))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),ao=new Me[(a0_0x1955e1(0x253))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),io=new Me['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),oo=new Me['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[so],'default':[]}},{'_id':!0x1}),ro=new Me['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':oo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':ao},'groupdata':{'type':io,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ia=_0x5e26c0=>{const _0x3801cc=a0_0x1955e1;let _0x6c5344='z_'+_0x5e26c0+_0x3801cc(0x7e7);return R?.[_0x3801cc(0x799)]('ChatModel',ro,_0x6c5344);},oa=require('mongoose'),no=new oa['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ra=_0x5893e3=>{const _0x4dff8c=a0_0x1955e1;let _0x34712d='z_'+_0x5893e3+'_Contacts';return R?.['model'](_0x4dff8c(0x67a),no,_0x34712d);},na=require(a0_0x1955e1(0x21b)),fs=class{},co=new na[(a0_0x1955e1(0x253))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ca=le?.[a0_0x1955e1(0x799)](fs[a0_0x1955e1(0x543)],co,a0_0x1955e1(0x4dc)),la=require(a0_0x1955e1(0x21b)),ws=class{},lo=new la[(a0_0x1955e1(0x253))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),ze=le?.['model'](ws['name'],lo,a0_0x1955e1(0x3d0)),ua=require('mongoose'),uo=new ua[(a0_0x1955e1(0x253))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),da=_0x44cd91=>{const _0x3beccd=a0_0x1955e1;let _0x2f8a0e='z_'+_0x44cd91+_0x3beccd(0x4bd);return R?.[_0x3beccd(0x799)](_0x3beccd(0x375),uo,_0x2f8a0e);},pa=require(a0_0x1955e1(0x21b)),ys=class{},po=new pa[(a0_0x1955e1(0x253))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ha=R?.[a0_0x1955e1(0x799)](ys[a0_0x1955e1(0x543)],po,'authentication'),ga=require(a0_0x1955e1(0x21b)),bs=class{},ma=new ga[(a0_0x1955e1(0x253))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ma[a0_0x1955e1(0x432)](a0_0x1955e1(0x548),function(_0x5f1364){const _0x1d8f7e=a0_0x1955e1;delete this['flowActive'],delete this[_0x1d8f7e(0x750)],delete this['flowPrefixCommand'],delete this[_0x1d8f7e(0x345)],delete this[_0x1d8f7e(0x19c)],_0x5f1364();});var fa=R?.[a0_0x1955e1(0x799)](bs[a0_0x1955e1(0x543)],ma,a0_0x1955e1(0x75a)),D=require(a0_0x1955e1(0x21b)),Ss=require(a0_0x1955e1(0x8b9)),He=class{},ya=new D[(a0_0x1955e1(0x253))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Ms=new D['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ho=new D[(a0_0x1955e1(0x253))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x1955e1(0x5d9)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x1955e1(0x78a)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x1955e1(0x40e)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ba=new D[(a0_0x1955e1(0x253))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),go=new D[(a0_0x1955e1(0x253))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),mo=new D[(a0_0x1955e1(0x253))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new D[(a0_0x1955e1(0x253))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),fo=new D[(a0_0x1955e1(0x253))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),Sa=new D[(a0_0x1955e1(0x253))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ho},'apirequest':go,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':fo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),Ma=new D[(a0_0x1955e1(0x253))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Cs=class{},Ns=new D['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[Sa],'groups':[ya],'conditions':[ba],'varedits':[Ma],'replyOptions':{'type':[Ms],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x2dc933=a0_0x1955e1;return _0x2dc933(0x7e3)+Math[_0x2dc933(0x5ad)]()['toString'](0x24)[_0x2dc933(0x35c)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x1955e1(0x6b7)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});function a0_0x1595(){const _0x40b7ed=['\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','optionDescription','DATABASE_ENABLED','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','getDelay','WARN','/wa-connection-update','http','getProfileName','buttonText','stopped','addChatLabel','Erro\x20ao\x20buscar\x20Schedule\x20Messages','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','truncatedtoEnd','sections','get','call','chats.set','#00a1f2','getConversation','numbers','\x20inseridos\x20no\x20banco\x20de\x20dados...','):\x20Iniciando\x20bot...','toNumber','2168MeULKd','delayChatLabel','editflowvaredit','fetchLatestBaileysVersion','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','formatBRNumber','findOrCreate','):\x20enviado\x20para\x20[','release','email','435ADAIVF','code','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','flowConfig','remove.instance','HeaderType','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','.extension','getBase64FromMediaMessage','Contacts\x20not\x20found','getMessage','length','\x1b[37m','set','lowerCase','response','leadInfo.etiquetas','Instance\x20Name:','!cmd_','autoCompleteMessages.command_1','hDel','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','_Chats','\x1b[43m','connectionState','app','StartID:','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','logout','contactHandle','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','Request\x20Body:','useMultiFileAuthState','.ppt','composing','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','#92ceac','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','CORS','processPollUpdateMessage','deleted','):\x20não\x20encontrou','Erro\x20ao\x20buscar\x20conversas','collections','/create','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','indexOf','$set','endSession','Type\x20not\x20found','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','request\x20received\x20in\x20deleteFlow','\x0a*Você\x20respondeu*:\x0a','.ogg','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','REDIS_PREFIX_KEY','waitingMenu_text','\x22\x20cannot\x20be\x20empty','groupId','):\x20leadInfoVariables','1pZrhJs','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','Erro\x20ao\x20deletar\x20a\x20conversa','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','text','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','request\x20received\x20in\x20editFlow','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.',',\x20Minutes\x20to\x20Close:\x20','addresss','ListMessage','Valor\x20de\x20find\x20ou\x20replace\x20ausente','):\x20expirationTime:\x20','Limpando\x20logs\x20do\x20PM2...','formatStatusMessage','\x1b[32m','sendButtons','.mp3','arraybuffer','):\x20Procurando\x20mensagens\x20para\x20envio','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','mentioned','Rótulo\x20inválido\x20ou\x20sem\x20ID.','expiration','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','createOrUpdate','creds','):\x20whoCanUse\x20after\x20validation:\x20','updateLastSeenPrivacy','DB_PREFIX_NAME','instanceName\x20not\x20provided.','Error\x20in\x20chatModify\x20for\x20number\x20','http://checkip.dyndns.org','groupdata','):\x20Editando\x20mensagens\x20no\x20grupo...','stanzaId','WA\x20MODULE','now','/automate','request\x20received\x20in\x20getFlow','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','class-validator','participant','atendimentoAberto','scheduleMessage','leaveGroup','Instância:\x20','updateGParticipate','Logger','sendPresenceUpdate','groupSetting','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','presence.update','):\x20Entrou\x20na\x20função\x20clearVariables','splice','getStatus','authorization','sleep','readMessageBot','unknown\x20operation\x20type\x20[','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','CONNECTION','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','format','updateProfileName','/wa-all-message','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','URL','moreLogs','isCommunityAnnounce','flowName','delay','File\x20written\x20to\x20path:\x20','SSL_CONF_PRIVKEY','footerText','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','):\x20Label\x20','matchRegex','envYaml','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','video','extractRegex','base64','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','\x20foi\x20interrompido\x20pelo\x20usuário.','setting','startFlowWebhook','initAuthCreds','recording','SECRET','\x20com\x20sucesso.','localWebhook','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','XX:XX:XX:XX:XX:XX','\x1b[46m','allFlows','axios','):\x20[messages.upsert]\x20group\x20ignored','\x1b[33m','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','Instâncias\x20removidas:\x20','exit','true','fetchPrivacySettings','createServer','mimetype','\x1b[42m','updateParticipant','):Audio\x20converted\x20and\x20stored\x20in\x20cache','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','editScheduleMessage2','detail','leadInfo.','SendScheduleMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','):\x20Enviando\x20contato','paused','):\x20alterando\x20this.AutomateSystem','chatLog','The\x20','Telefone:\x20','STORE_CHATS','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','color','client','):\x20Going\x20to\x20','#fe9dfe','\x20-y','ephemeralDuration','):\x20debug\x20alterando\x20this.AutomateSystem','Nenhum\x20participante\x20válido\x20encontrado.','GROUPS_UPDATE','updateOneById','fullName','statusCode','):\x20Conversa\x20está\x20expirada','max','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','qrcode-terminal',']\x20(','goNextblock','throwAndLogError','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','remoteJid','sendDataWebhook','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','drop','CONNECTION_UPDATE','cachedContact','):Delete\x20chat','profilePicture','/instance/delete','generateWAMessageFromContent','Erro\x20ao\x20executar\x20bulkWrite:','Message\x20absent\x20from\x20node','array','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','documentWithCaptionMessage','debug','KEY','cacheInstanceRepository','/wa-qrcode',',\x20global:\x20','E-mail:\x20','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','delaySecMax','isRunning','displayName','uuid','\x20mensagens\x20de\x20','has',',\x20pairCode:\x20','):\x20Adicionando\x20\x27','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','chats','https://','groups.update','fetchInstances','closeExistingConversations','connectedClient','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','Erro\x20ao\x20encerrar\x20a\x20API','stdout','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','hbs','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','profileName','Configuração\x20SSL\x20recuperada:','senderKeyDistributionMessage','Primeiro\x20Valor:\x20','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','updateAutoCompleteMessages','):\x20updateResult:','exports','updateChatGroupData','leadInfo.atendimentoAberto','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','archiveChat','all_member_add','deletedCount','getClient','instanceName','toBRL','empty','sectionsToString','hSet','Início','):\x20Bloco\x20com\x20ID\x20','EMAIL','editOperator','quoted','flowStopMinutes','):Image\x20path:\x20','send','encoding','number','findById','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','string','https://github.com/uazapi/uazapi.git','deleteChat','remove','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','setRestartTimeout','@s.whatsapp.net','views','getAllData','sendContact','PRODUCT_LIST','reorderReplyOptions','onTime','Instance\x20\x22','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','markMessageAsRead','updateMany','no.connection','createConversationforgoToFlow','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Error\x20adding\x20IPv6\x20address:\x20','label_jid','):\x20Editando\x20edição\x20do\x20fluxo...','retrySendMessage','lastMessage_id','CHATS_UPSERT','ip\x20-6\x20addr\x20add\x20','reconnectTimestamps','.wav','fileLength','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','Last\x20message\x20not\x20found','ip\x20-6\x20addr\x20show\x20dev\x20','groupGetInviteInfo','blockLogs','editFlowCondition','readData','oldToken','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','\x20tentativas.','connectionUpdate','DATABASE_CONNECTION_DB_PREFIX_NAME','GROUP_PARTICIPANTS_UPDATE','deleteReplyOption','waitingMenu_replyOptions','console','lastMessage','):Audio\x20processed','findWebhook','Nenhum\x20fluxo\x20encontrado\x20para:\x20','convertaudio','removeUnusedChatFields','nome','INFO','when','view\x20engine',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','router','child_process','awaitingApproval','extractPhoneNumber','processblock','awaitSeconds','/wa-contacts','parseInt','):\x20conversation.waitingMenu_name','loadEnv','fetchContacts','ScheduleMessage','createFlow','joinGroup','fetchBusinessProfile','):\x20Visualizando\x20AutomateSystem','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','ERROR:\x20','findAll','boolean','scheduleNextCheck','inviteCode','remote\x20\x22origin\x22','config','):\x20Procurando\x20conversa','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','Partes\x20do\x20caminho\x20FULLCHAIN:','updateConversation','DATABASE_CONNECTION_URI','createHash','createIPv6','_pushName','The\x20instance\x20needs\x20to\x20be\x20disconnected','flows','mediaKey','ConversationModel','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','prototype','deleteflow','):\x20\x27Enviando\x20audio\x20para\x20\x27','_fromMe','sendSticker','urlOrBase64','URL\x20completa:','\x1b[31m%s\x1b[0m','setContext','):Image\x20is\x20url','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','CHATS_DELETE','shift','Erro\x20de\x20atualização:\x20','participants','updateProfileStatus','userDevicesCache','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','):\x20Query\x20params:','latitude','contentText','checkAndRestartProcess','arrayUnique','mongoose','sendWhatsAppAudio','#000000','pollMessage','\x1b[36m','readdirSync','desc','reconnectAttempts','oldValue','Generated\x20IPv6:\x20','getHours','parse','getFlow','gifPlayback','sendMenu','findAndReplaceRegex','https://chat.whatsapp.com/','groupBetterSetting','pollErrorMessage','isInteger','pollCreationMessageV3','URL:','fetchMessages','/wa-message','removeProfilePicture','validate','unlinkSync','):\x20Query\x20params:\x20','224994RAZKSj','width','Data\x20inválida\x20fornecida','editMessagesInGroup','.mp4','emit','):Image\x20created','):\x20Entrou\x20na\x20função\x20processawaitSeconds','Erro\x20ao\x20arquivar\x20chat','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','/message','.png','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','All_Instances_Config','ip:\x20','/config','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','flattenObject','API\x20Key\x20from\x20Request:','rowId','):\x20\x27Enviando\x20texto\x20para\x20\x27','integer','GROUPS_UPSERT','variables','vir','truncatedto','reorderMessages','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','Schema','Instância\x20não\x20encontrada.','.pptx','Safari','contextInfo','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','OrAnd','storePath','saveMediaToFile','LabelModel','#ff9484','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','startCommand','):\x20conversation.lastInteraction:\x20','):\x20Comando\x20desconhecido:\x20','url','\x20is\x20already\x20in\x20use.','timeout','choices','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','contacts.update','Total\x20de\x20fluxos\x20transferidos\x20para\x20a\x20coleção\x20centralizada:\x20','remoteJids','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','Error\x20testing\x20IP\x20with\x20','getMessageModelForOwner','connectToWhatsapp','messageType','getflow','updateBlock','requestFile','restrict','labels.association','deleteConversation','archived',',\x20saindo.','lastInteraction','join','Network\x20interfaces\x20detected:\x20','sendMedia','updateMessage','importChats','.error','sharp','https://api.openai.com/v1/images/generations','keys','.ogv','addReplyOption','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','isCommunity','scheduleFlow','\x20-\x20ON:\x20','importChatsAntigo','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','match_last_seen','limit','request\x20received\x20in\x20editFlowcondition','shareOwners','groups_ignore','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','loggedOut','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','):\x20Editando\x20variável\x20do\x20fluxo...','?timestamp=','sendLocation','put','):\x20Ignoring\x20group\x20messages.','eventEmitter','/media','fetchProfilePicture','ReplyOption\x20com\x20ID\x20','):\x20Editando\x20grupo\x20do\x20fluxo...','Falha\x20ao\x20criar\x20IPv6.','this.reconnectAttempts:\x20','cacheContactModel','ChatRouter','):\x20tem\x20blocks','updateReplyOption','webp','ids','waitingMenu_id','processawaitSeconds','connecting','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','key','memberAddMode','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','lastReceivedMessage','open','):\x20sender\x20=\x20number:\x20','deleteDoneMessages2','\x22,\x20valor\x20a\x20substituir:\x20\x22','temp-','verbose','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','documentMessage','sendList','\x1b[30m','app-state-sync-key','AutomateFunctions','imageMessage','profile','DELIVERY_ACK','updateFlowConfig','.xls','instance.','pollCreationMessageV2','contacts','group-participants.update','):\x20Flow\x20\x27','isBase64','removeInstance','filter','realVariables','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','createAndSave','application/json','#9ba6ff','creation','PORT','getOwnPropertyNames','block','organization','CORS_ORIGIN','messages.update','src','END:VCARD','cache','):\x20Erro\x20durante\x20a\x20atualização:\x20','removeIPv6ById','\x27\x20do\x20banco\x20de\x20dados...','):\x20Deletando\x20mensagem','findGroup','processclearVariables','request\x20received\x20in\x20editConversation','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','flowConversation','deleteInstance','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','Mensagens\x20deletadas\x20com\x20sucesso.','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','namespace','chats.delete','fetchStatus','auth','\x0aFN:','Erro\x20inesperado\x20em\x20processvaredits:\x20','error','DATABASE_CONNECTION_USER','\x27\x20removido\x20do\x20AutomateSystem.','originalUrl','fileUrl','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','textMessage','node-cache','maxActives','STORE_CONTACTS','):\x20Current\x20Time:\x20','/wa-presence','verify','\x20Tentativa\x20de\x20reconexão\x20','uazapi','PASSWORD','DEBUG','AddChatLabel','hasOwnProperty','ephemeralExpiration','Button\x20texts\x20cannot\x20be\x20repeated','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','findParticipants','website','):\x20Bloco\x20original\x20para\x20cópia:\x20','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','groupCreate','https://api.openai.com/v1/audio/speech','labels.edit','VERBOSE','deleteMessage','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','pino','findOne','connectionStatus','some','\x20segundos','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','pollUpdateMessage','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','findChats','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','):\x20Entrou\x20na\x20função\x20saveReply','iniciando\x20fluxo\x20router','all','role','waUploadToServer','Erro\x20ao\x20migrar\x20fluxos\x20do\x20proprietário\x20\x27','redisEnv','imagechat','Erro\x20ao\x20editar\x20a\x20conversa','\x27\x20não\x20encontrado\x20na\x20memória','):\x20newFirstValue\x20após\x20replaceVariables:','Erro\x20ao\x20atualizar\x20o\x20flow.','insertMany','https','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','request\x20received\x20in\x20deleteDoneMessages','findConversation','):\x20Fluxos\x20não\x20estão\x20ativados','height','chat','presenceSubscribe','valid','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','getUniqueFlowName','creds.update','stopMinutesMaxActives','not_announcement','available','Error\x20writing\x20file:\x20','contactMessage','):\x20Grupo\x20','qrCode','\x20não\x20encontrado\x20para\x20atualização.','IP\x20confirmed:\x20','mediaMessage','utf-8','generateHash','request\x20received\x20in\x20scheduleMessage','endsWith','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','wuid','/instance/create','env','ephemeralMessage','buttonMessage','folder','changeVariables','write','ENABLED','MESSAGES_UPSERT','flowStopConversation','editflowblock','):\x20whoCanUse\x20before\x20validation:\x20','replacer','redirect','Authentication\x20error','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','presence','unhandledRejection','\x1b[0m','updateGroupsAddPrivacy','readMessage','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','Operador:\x20\x22','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','!stop','FULLCHAIN','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','Mac\x20OS','groupInviteCode','lastSend','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20',',\x20Novo\x20tamanho:\x20','slice','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','isJidGroup','/startFlow/:instance/:startID','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','contact_blacklist','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','\x1b[37m%s\x1b[0m','cors','qrcode','pollCreationMessageKey','announce','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','inet6','then','blocks','createConversationforStartFlow','default','reorderBlocks','stringify','REDIS_URI','.\x20Pulando.','.txt','4043470sZKIrG','mkdirSync','MessageModel','\x20\x1b[0m','mediaSticker','resetReconnectionVariables','order','CONTACTS_UPDATE','groupParticipantsUpdate','mediatype','request\x20received\x20in\x20fetchConversation','messageHandle','--------------------------------------','):\x20isVote:\x20','SERVER','):\x20Buscando\x20flow...','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','Sistema\x20atualizado\x20com\x20sucesso!','saveConversationToDatabase','everyOne','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','stopMinutes','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','Esse\x20fluxo\x20não\x20permite\x20importação.','verifiedName','menuExpiredMessage',',\x20Expiration\x20Time:\x20','replaceVariablesChat','test','RemoveChatLabel','../env.yml','FlowRouter','Número\x20não\x20possui\x20WhatsApp.','migrateFlowsToCentralizedCollection','toBrazilianNumberFormat','request\x20received\x20in\x20updateAgent','Erro\x20ao\x20deletar\x20chat:','processvaredits','lastFetchAwaitingApproval','/instance/connectionState','PRESENCE_UPDATE','toLowerCase','removeChatLabel','SERVER_TYPE','findMany','Flow\x20\x27','editFlowVariable','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','expression','Background\x20color\x20is\x20required','goToFlow','isJWT','static','redis://127.0.0.1:6379','webhookService','basename','longitude','envProcess','_FlowHistorico','reject','chatId','pushName','restartInstance','CONTACTS_UPSERT','Group\x20not\x20found','sendMessageWithTyping','firstValue','groupLeave','joinGroupValidate','request\x20received\x20in\x20updateFlowConfig','Rótulo\x20deletado:\x27,\x20','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','params','insertCount','):\x20nextBlock.uazapi.name','):\x20Falha\x20ao\x20deletar\x20mensagem.','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','pollOnReplyDelete','402432FkZfBy','cleanStore','SINGLE_SELECT','@g.us','\x20instance\x20does\x20not\x20exist','repository','whoCanEdit','audioWhatsapp','text/event-stream','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','execSync','isURL','getLastMessage','online','instances','deleteDoneMessages','Bloco\x20com\x20ID\x20','updateAll','URI','createSectionsFromValues','):\x20Edit\x20schedule\x20message...','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','Erro\x20ao\x20tentar\x20updateCustomFields','status','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','webhookMap','getScheduleMessageModelForOwner','}}\x20->\x20\x22','CORS_CREDENTIALS','Error\x20fetching\x20and\x20updating\x20profile:\x20','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','map','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','TEL','etiquetas','processingGroup_id','Erro\x20ao\x20atualizar\x20agendamento\x20','AUTHENTICATION','charAt','networkInterface','):\x20\x27Enviando\x20mídia\x20para\x20\x27','Network\x20Interface\x20detected:\x20','/instance/fetchInstances','content-type','method','responsavelid','font','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','content','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','findOneAndUpdate','jpegThumbnail','.gif','$dbName','Modelo\x20de\x20proprietário\x20não\x20pôde\x20ser\x20criado\x20para:\x20','allflows','):Temp\x20image\x20deleted','The\x20property\x20cannot\x20be\x20empty','https://uazapi-plugin.bubbleapps.io/','updateChatWithMessage','split','updateOne','342142fAsIDA','toggleEphemeral','DD/MM\x20HH:mm:ss','ERROR','use','announcement','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','forEach','Not\x20Found','Subdomínio\x20extraído\x20da\x20URL:','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','value','off','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','\x27\x20transferidos\x20para\x20a\x20coleção\x20centralizada.','SEND_MESSAGE','Subscribed\x20Events:','image','cleaningUp','unreadcount','Subdomínio\x20final:','local_map','getContentType','Filtered\x20network\x20interfaces:\x20','formatVCard','\x20não\x20encontrado','No\x20suitable\x20network\x20interface\x20found','notEqual','getVariablesChat','/wa-groups','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','.jpg','\x20adicionado\x20ao\x20chat\x20','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','randomMac','groupJid','LOG','findAndReplace','SERVER_URL','leadInfo.desativadoFluxoAte','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Esse\x20fluxo\x20expirou','):Converted\x20image\x20deleted','):\x20transformedCustomFieldVariables','chatHandle','creds.json','sendPoll','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','pre','):\x20Error\x20processing\x20the\x20block:\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','sendMessageAck','autoCompleteMessages','findFlow','groupName','apiResponse','\x1b[40m','DELETED','sending','updateCustomFields','0123456789ABCDEF','createInstance','findLabels','user','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','done','leadInfo.customFields','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','50mb','editFlowBlock','\x20and\x20data:','addMessagesToGroup','defineProperty','\x1b[31m','newValue','findGroupInfos','audioMessage','blockId','message','greater','waitingForReplyMenu','pollCreationMessage','editedMessage','js-yaml','_error','.xlsx','request\x20received\x20in\x20editFlowgroup','_id','normalizeMessageContent','address','PRIVKEY','promote','ON\x20-\x20dbName:\x20','instanceCount','The\x20\x22','copy','saveVariable','headerString','notas','beautifyWithPlaceholders','Erro\x20ao\x20normalizar\x20a\x20mensagem:','Fluxos\x20não\x20estão\x20ativados','cwd','#fed428','ButtonsMessage','Erro\x20ao\x20importar\x20chats','listMessage','optionName','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','BufferJSON','DARK','cpf','noConnection','*Pergunta*:\x20\x0a','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','editflowreply','deleteAll','dbInstance','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','refused','error\x20get\x20vote','groupDesc','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','configureIPv6','readMessages','delayChatLabel_MAX_RETRIES','Log\x20out\x20instance:\x20','where','):Getting\x20image\x20from\x20url','owner','vcard','equal','header','\x1b[33m\x1b[1m','copyBlock','messageTimestamp','evaluateConditionTest','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','trimmed','routerPath','webhookModel','uazapiDeleteMessage','Database\x20connection\x20closed.','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','context','qrcode.updated','-instances','groupMetadata','createflow','Erro\x20ao\x20aplicar\x20varedit:\x20','^\x5cd+([-]\x5cd+)*@g.us$','listen','editConversation','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','Forbidden','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','Invalid\x20format','notEmpty','leadInfo','getValidWhatsAppNumbers','AutomateSystem','IP\x20mismatch:\x20configured\x20','REDIS','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','msgRetryCounterCache','ListType','AutomateSystem\x20não\x20foi\x20inicializado','label','):\x20Usando\x20extensão\x20padrão:\x20','delayMessage','_activedCount','request\x20body:\x20','conditions','isArray','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','contains','isLong','desativadoFluxoAte',',\x20Segundo\x20Valor:\x20','fileName','editFlowVaredit','agents','flow','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','findIndex','onWhatsApp','_Messages','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','protocolMessage','status.instance','.pdf','ex:\x20\x22groupJid=120362@g.us\x22','sha256','stopIfLastReturnedError','status@broadcast','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','stopWhenYouSendMsg','messages.upsert','):\x20Entrou\x20na\x20função\x20scheduleFlow','warn','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','replyOptions','close','newStoppedUntil','SERVER_ACK','Resultado\x20da\x20correspondência\x20de\x20URL:','^\x5cd+','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','mentions','updateMissingEtiquetas','):Error\x20in\x20converting\x20audio','removeData','query','\x20minutos','\x1b[36m%s\x1b[0m','FlowModel','ContactsAndGroups','yes','caption','LOG_COLOR','getAutomateSystem','toArray','saveChatVariables','Conversa\x20deletada\x20com\x20sucesso.','8qJuVFf','triedToSend','editFlowReply','audio/ogg;\x20codecs=opus','EXPIRIN_IN','Instance\x20logged\x20out','groupadd','cacheInstanceModel','abs','create','AUTHENTICATION_JWT_SECRET','):\x20newSecondValue\x20após\x20replaceVariables:','#b4ebff','trim','groupToggleEphemeral','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','\x27...','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','replaceVariablesInReplyOptions','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','Conexão\x20estabelecida','\x27\x20não\x20encontrado','transformScheduledMessagesByType','*\x0a\x0a','joinApprovalMode','):\x20[messages.update]\x20group\x20ignored','whoCanUse','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','messaging-history.set','):\x20Buscando\x20conversa...','Chat\x20com\x20ID\x20','):\x20Editando\x20replyOption...','deleteMany','\x1b[33m%s\x1b[0m','$addToSet','pairingCode','fetchProfilePictureUrl','_activatedCount',',\x20canSendMessage:\x20','editflowcondition','bodyString','ip\x20-6\x20addr\x20del\x20','imgUrl','picture','#6f7bcf','\x20removido\x20do\x20chat\x20','getDevice','cachedContacts-whatsapp','Error\x20removing\x20IPv6\x20address:\x20','Error\x20fetching\x20group','variablesToObject','):\x20atualização\x20chat:\x20','[all]','chats.update','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','#9568cf','TYPE','dbConnection','DATABASE','varedit','lastBlockId','Erro\x20ao\x20alterar\x20fluxo','buttons','evaluateCondition','headers','writeFile','RemoteJid:','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','DaysToDelete','replaceVariablesInObject','):\x20Entrou\x20na\x20função\x20goToFlow','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','getConversationModelForOwner','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','fetchLabels','convertToWebP','):\x20Enviando\x20texto','Erro\x20ao\x20alterar\x20privacidade','replace','tags','SERVER_OFFLINE','sem\x20texto\x20na\x20mensagem','log','getLabelModelForOwner','CREDENTIALS','readreceipts','demote','not\x20loaded','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','document','writeFileSync','insert','.docx','name','delete','unavailable','__esModule','@broadcast','save','connectToWhatsappController','\x1b[47m','ip\x20-br\x20link\x20show','apirequest','instanceInfo','.svg','buffer','Erro\x20na\x20função\x20updateChatWithMessage:\x20','SUCCESS','notify','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','public','\x1b[1m','silent','processgoToFlow','testIPv6','updateGroupParticipantsWebhook','menuType','):Processing\x20audio','dbServer','chat\x20não\x20encontrado','.TEL;waid=','body','crypto','removed','defineAuthState','update','exec','Module\x20-\x20ON','privacySettings','configService','Erro\x20ao\x20iniciar\x20fluxo:\x20','deleteFlow','delayChatLabel_RETRY_DELAY_MS','post','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','connection.update','Deletion\x20failed','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','pt-BR','#d8e651','verifyWhatsAppNumber','\x20do\x20chat\x20','subject','createWebhook','processConditionsTest','replyOption','https://uazapi-plugin.bubbleapps.io/?url=','createNewConversation','connectedName','\x1b[41m','replaceOne','Flow\x20iniciado','_Labels','apiName','floor','synchronizeAndMapFlows','updateGParticipant','proto','loadInstance','pm2\x20flush','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','):\x20Buscando\x20conversas...','createGroup','ff:fe','eventHandler','groupMemberAddMode','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','):\x20delete\x20=\x20true','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','findManyByIds','MESSAGES_SET','Instance\x20ID:','reviver','makeCacheableSignalKeyStore','STORE','rm\x20-rf\x20','):\x20Conversa\x20atualizada\x20em\x20memória','last','Erro\x20ao\x20atualizar\x20conversa:\x20',',\x20received\x20','command','READ','Erro\x20ao\x20iniciar\x20o\x20fluxo.','\x0a{\x20instance:\x20','Not\x20allowed\x20by\x20CORS','updateGroupPicture','QRCODE_UPDATED','updatePrivacySettings','profilePictureUrl','docker','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','Partes\x20do\x20domínio:','min','updateProfilePicture','RECONNECT_TIME_FRAME','whatsappNumbers','editScheduleMessage','action','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','random','and','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','\x27\x20->\x20','redis','):\x20Flow\x20desativado','listType','):Notifying\x20clients\x20for\x20chat:\x20','del','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','notMatchRegex','binary','jsonwebtoken','result','applyvaredit','isConnected','badSession','segundos','):Trying\x20to\x20get\x20business\x20profile','stopConversation','uazapiSendAudio','keep-alive','groupSettingUpdate','Read\x20messages','Mensagem\x20não\x20suportada','getMIMEType','add','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','collection','success','author','closed','group','PENDING','description','ORG:','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','muteEndTime','events','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','Error\x20finding\x20many\x20contacts:','padStart','listResponseMessage','MESSAGES_UPDATE','list','\x27\x20já\x20existem\x20na\x20coleção\x20centralizada.','fetchProfile','updateMissingCustomFields','groupValidate','minutesToClose','Last\x20message\x20not\x20found\x20for\x20number:\x20','Nenhum\x20chat\x20encontrado\x20para\x20editar.','Types','uazapiSendMedia','isAdmin','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','function','data:\x20','findMessages','utf8',',\x20Resultado:\x20','#56ccb4','conversation','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','enviado\x20para','options','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','/media/','condition','processUazapi',',\x20isAdmin:\x20','readFile','):Fetching\x20business\x20profile','updateMissingTags','messageId','extractMessageContent','):\x20Fluxos\x20do\x20proprietário\x20\x27global\x27\x20transferidos\x20para\x20a\x20coleção\x20centralizada.','decryptPollVote','editflowgroup','messages.set','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','instancias:\x20','removeIPv6','reference','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','global','next_groupId','Parando\x20aplicação,\x20atualização\x20recebida','groups.upsert','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','mongodb','SERVER_PORT','instance','Content-Type','nomecompleto','ignoreGroups','Database\x20is\x20not\x20enabled','.jwt','apikey','keyPattern','lastSendMessage','findGroups','968575mmHEnp','.doc','contacts.upsert','instanceKeys','https://api.ipify.org?format=json','saveCreds','getChatModelForOwner','.mimetype','replaceValue','canSendMessage','cacheContact','editChat','secondValue','sticker','startsWith','/group','):\x20Editando\x20condição\x20do\x20fluxo...','Error\x20parsing\x20JSON:','unreadCount','downloads','JWT','.url','superadmin','count','username','uazapiSendLocation','prepareMediaMessage','Falha\x20ao\x20processar\x20a\x20solicitação','flush','PROXY','groupRequestParticipantsUpdate','.fileUrl','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','hex','apply','statSync','HH:mm:ss','express-async-errors','rows','CORS_METHODS','\x1b[1m\x1b[37m','\x5cd+','updateGroupWebhook','scheduleSendText',',\x20lastCondition:\x20','):\x20Fluxos\x20do\x20proprietário\x20\x27','updatePresence','processScheduleFlow','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','fora\x20do\x20git','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','pop','https://ipv6.jsonip.com','none','object','descOwner','$pull','connect','):\x20Criou\x20conversa\x20no\x20startFlow','\x27\x20para\x20a\x20coleção\x20centralizada.','title','delaySecMin','selectableCount','dbSettings','errorLog','):\x20Fluxo\x20\x27','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','/wa-message-update','variablesNotFound','Pausado\x20por\x20','dataValidate','fetchChats','globalShow','path','Type\x20is\x20required','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','COLOR','output','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','backgroundColor','migrateAllOwnersFlowsToCentralizedCollection','chatModify','setHeader','authService','AddUserFlow','birthtime','):\x20Entrou\x20na\x20função\x20stop','contactsArrayMessage','revokeInviteCode','deleteOne','\x1b[34m','Bad\x20Request','SSL_CONF','sendText','Error\x20while\x20deleting\x20message\x20for\x20everyone','sendStatus','isBusiness','match','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','error_log','toUpperCase','ContactModel','Erro\x20ao\x20tentar\x20autoCompleteMessages','selectedOptions','convertaudioMP3','fetchConversation','updateAgent','-whatsapp-api','https://jsonip.com','poll','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20',',\x20valor\x20passado:\x20\x22','Parando\x20aplicação...','digest','messages','imported','startID','):\x20Enviando\x20mídia','message_normalized','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','groupHandler','CONECTADO\x20À\x20UAZAPI','Connection','):Sending\x20audio\x20whatsapp','setNewValue','ObjectId','processConditions','dbClient','\x5c$&','request\x20received\x20in\x20getAutomateSystem','toLocaleString','):\x20Enviando\x20áudio','editflow','reactionMessage','messageContextInfo','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','modifiedCount','g.us','STATUS_INSTANCE','reaction','menuMessage','jsonschema','setWebhook','updateStatusPrivacy','saveTextReply','jwt','audio','isJidBroadcast','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','findGroupInfo','API_KEY','addBlock','\x20:\x20','Error\x20updating\x20cache\x20contact:','assign','waMonitor','#ffffff','jid','):\x20Fluxos\x20do\x20proprietário\x20\x27global\x27\x20já\x20existem\x20na\x20coleção\x20centralizada.','[AUTH]\x20Database\x20is\x20not\x20enabled','groupRevokeInvite','Variável\x20não\x20encontrada!','false','timeInMinutes','STORE_CLEANING_TERMINAL','):\x20Enviando\x20mensagem\x20para\x20','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','writeData','createConnection','Error\x20in\x20scheduleNextCheck:\x20','bodyStringErrorParse','phoneNumber','AppStateSyncKeyData','toString','unlocked','uazapiSendContact','request_time','option','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','push','Erro\x20ao\x20copiar\x20o\x20documento','):\x20Conversa\x20inserida\x20com\x20sucesso.','getPrototypeOf','):\x20','Erro\x20ao\x20atualizar\x20o\x20fluxo:','sort','express','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','CHATS_SET','find','conversationTimestamp','Fluxo\x20não\x20encontrado\x20na\x20memória.','customFields','waInstances','from','util','getScheduleMessage','getContactModelForOwner','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','repeat','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','importChatsBatch','info','locked','spawn','lean','generateRandomIPv6','Router','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','):\x20Enviando\x20localização','Novo\x20IP\x20criado:\x20','messageStubParameters','):Image\x20is\x20base64','loadWebhook','\x20-i\x20','USER','substring','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','/wa-chats','TEXT','):\x20Alterando\x20fluxo...','request\x20received\x20in\x20createFlow','out','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','editFlowGroup','CONTACTS_SET','Imagem\x20não\x20encontrada','.webm','state','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','upperCase','groupUpdateSubject','editFlow','pictureUrl','AUTHENTICATION_JWT_EXPIRIN_IN','entries','updateStopChat','contact','media','every','/64\x20dev\x20','admin','type','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','automateSystem',',\x20fará\x20nova\x20verificação\x20em\x20','last_update','Database\x20update\x20result:','detectIPv6PrefixAndInterface','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','groupFetchAllParticipating','sendReaction','sendMessage','isListOfNumbers','):\x20Ler\x20mensagem','testingWith','ipv6Prefix','includes','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','waitingMenu_ExpiredMessage','json','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','The\x20global\x20api\x20key\x20must\x20be\x20set','./.git/config','telefone','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','Fluxo\x20\x27','isValidAndUniqueIPv6','statusJidList','_remoteJid','Flow\x20iniciado\x20com\x20','\x20segundos\x20antes\x20de\x20reconectar...','normalizeMessage','StatusJidList\x20is\x20required','downloadMediaMessage','Message','activatedCount','Erro\x20ao\x20deletar\x20mensagens:','recebido\x20de','exists','request_method','labelId','):\x20Limpando\x20AutomateSystem','created','):\x20Criando\x20nova\x20conversa[createNewConversation]','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','\x20chats\x20de\x20','replaceVariablesLogs','preview','varedits','request\x20received\x20in\x20editFlowvariable','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done','Erro\x20ao\x20editar\x20o\x20bloco:\x20','groupJoinApprovalMode','whatsappNumber','existsSync','authModel','scheduleSendMedia','notContains','IPv6\x20address\x20configured:\x20','sign','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','NextBlock','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','startFlow','bearer','findAndUpdateCacheContact','cleanDisconnectedInstances','proxy:\x20','):\x20Editando\x20bloco...','\x20depois\x20','uncaughtException','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','flowIgnoreGroups','):\x20Buscando\x20flow,\x20id:\x20','InstancesAlterarTodas','#ffc5c7','findContacts','Db\x20Connection','):\x20Mensagem\x20já\x20enviada\x20para\x20','admin_add','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','convertedOptions','webhook','load','@whiskeysockets/baileys','start','uazapiSendMenu','stderr','):\x20whoCanEdit\x20before\x20validation:\x20','CHATS_UPDATE',',\x20qrcodeCount:\x20','getTime','inner','statusMessage',',\x20Comparador:\x20','575217ElXhCF','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','startCommandWord','capitalizedWords','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','ip6eui','):\x20teve\x20mudanças\x20chat.archived:\x20','AUTHENTICATION_TYPE','/*.json','pow','CLEANING_INTERVAL','Missing\x20global\x20api\x20key','logger','request\x20received\x20in\x20starFlow','lastUpdate','lastCondition','bulkWrite','authState','API\x20Key\x20inválida.','linkPreview','):\x20Bloco\x20copiado:\x20','buttonId','_sender','PREFIX_KEY','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','variable','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','\x1b[32m%s\x1b[0m','Transformação\x20concluída!','\x22\x20-\x20NOT\x20CONNECTION','fromMe','data',',\x20resultado:\x20','/:instanceName','vote','Selecione','padEnd','Falta\x20informação\x20para\x20a\x20chamada\x20API','values','scheduled','long','cachedData-whatsapp','upsertChats','createJid','stateConnection','readFileSync','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','subjectTime','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','model','enabled','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','):\x20conversation.status:\x20','locationMessage','messageSecret','stickerMessage','Validate','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','Enter\x20a\x20value\x20in\x20milliseconds','scheduleSendAudio','chats.upsert','archive','/exit','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','groups','replaceVariables','):\x20Criando\x20fluxo...','Erro\x20ao\x20buscar\x20o\x20fluxo','round','toFile'];a0_0x1595=function(){return _0x40b7ed;};return a0_0x1595();}Ns[a0_0x1955e1(0x432)](a0_0x1955e1(0x3f5),function(_0x594855){const _0x21b632=a0_0x1955e1;let _0x2978ff=this['getUpdate']();if(_0x2978ff&&typeof _0x2978ff==_0x21b632(0x64b)&&_0x21b632(0x802)in _0x2978ff){let _0x44bb81=_0x2978ff[_0x21b632(0x802)];if(_0x44bb81){let _0x467d8c=new Set(),_0x1a690e=new Set(_0x44bb81[_0x21b632(0x24e)]?.['map'](_0x4c55d2=>_0x4c55d2[_0x21b632(0x543)])),_0x31275a=JSON[_0x21b632(0x36f)](_0x44bb81),_0x39d5ba=/{{(?!_)([^}]*)}}/g,_0xd4f9a3;for(;(_0xd4f9a3=_0x39d5ba['exec'](_0x31275a))!==null;)_0x1a690e['has'](_0xd4f9a3[0x1])||_0x467d8c[_0x21b632(0x5c7)](_0xd4f9a3[0x1]);_0x467d8c['size']>0x0?(console['warn']('Variáveis\x20não\x20encontradas:',Array[_0x21b632(0x6d8)](_0x467d8c)),_0x44bb81[_0x21b632(0x659)]=Array[_0x21b632(0x6d8)](_0x467d8c)):_0x44bb81[_0x21b632(0x659)]=[],this['setUpdate']({'$set':_0x44bb81});}}_0x594855();});var $s=_0x145ec4=>{const _0x597d88=a0_0x1955e1;let _0x29595e='z_'+_0x145ec4+'_Flows';return R?.[_0x597d88(0x799)](_0x597d88(0x4db),Ns,_0x29595e);},fe=R?.[a0_0x1955e1(0x799)](Cs[a0_0x1955e1(0x543)],Ns,a0_0x1955e1(0x870)),wo=new D[(a0_0x1955e1(0x253))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[mo]},{'_id':!0x1}),yo=new D[(a0_0x1955e1(0x253))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[Sa],'groups':[ya],'conditions':[ba],'varedits':[Ma],'replyOptions':{'type':[Ms],'default':[]},'chatLog':wo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x1955e1(0x2ac)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x1955e1(0x42b)},'waitingMenu_replyOptions':{'type':[Ms],'default':[]}}),Ca=_0x3ecf01=>{const _0x15981e=a0_0x1955e1;let _0x4de477='z_'+_0x3ecf01+_0x15981e(0x3ae);return R?.[_0x15981e(0x799)](_0x15981e(0x200),yo,_0x4de477);},bo=new D[(a0_0x1955e1(0x253))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),wa=new D['Schema']({'_id':{'type':String,'id':!0x0},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),So=new D[(a0_0x1955e1(0x253))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[wa],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x1955e1(0x78e)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[bo],'default':[]},'startSend':{'type':Number},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':wa,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ea=_0x4e2a13=>{const _0x2eb94b=a0_0x1955e1;let _0x3ced63='z_'+_0x4e2a13+'_ScheduleMessages';return R?.[_0x2eb94b(0x799)]('ScheduleMessageModel',So,_0x3ced63);},Es=class{},Mo=new D[(a0_0x1955e1(0x253))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),Co=new D[(a0_0x1955e1(0x253))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Eo=new D[(a0_0x1955e1(0x253))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),vo=new D[(a0_0x1955e1(0x253))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x1955e1(0x354)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),No=new D['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),$o=new D[(a0_0x1955e1(0x253))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[No]},'customFields':{'type':[Eo]},'flowConfig':{'type':vo,'default':{}},'flows':{'type':[Co],'default':[]},'autoCompleteMessages':{'type':[Mo],'default':[]}}),Ie=R?.['model'](Es[a0_0x1955e1(0x543)],$o,a0_0x1955e1(0x4a3)),va=require(a0_0x1955e1(0x21b)),Ro=new va[(a0_0x1955e1(0x253))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Na=_0x2b62f3=>{const _0x2b9615=a0_0x1955e1;let _0x18773b='z_'+_0x2b62f3+_0x2b9615(0x57e);return R?.['model'](_0x2b9615(0x25d),Ro,_0x18773b);},_=class{constructor(_0x48c8d4){const _0x464924=a0_0x1955e1;this[_0x464924(0x654)]=_0x48c8d4[_0x464924(0x7be)]('DATABASE');}};function I(_0x9fe46c){const _0x4bdb17=a0_0x1955e1;let _0x56225c={};for(let [_0x1e87ad,_0x420eba]of Object['entries'](_0x9fe46c))if(typeof _0x420eba==_0x4bdb17(0x64b)&&!Array[_0x4bdb17(0x4b0)](_0x420eba)){for(let [_0x5c31d2,_0xe29a9d]of Object['entries'](_0x420eba))_0x56225c[_0x1e87ad+'.'+_0x5c31d2]=_0xe29a9d;}else _0x56225c[_0x1e87ad]=_0x420eba;return _0x56225c;}var Ke=class{constructor(_0x3c0157,_0x119b62,_0x1ec936,_0x12c046,_0x5866f5,_0x5f2279,_0x3d3f96,_0x3333cb,_0x3c5f65,_0x239658,_0x5cccf4,_0x4bddd1,_0x5656ad){const _0x2301b2=a0_0x1955e1;this[_0x2301b2(0x451)]=_0x3c0157,this[_0x2301b2(0x326)]=_0x119b62,this[_0x2301b2(0x703)]=_0x1ec936,this['cacheContact']=_0x12c046,this['webhook']=_0x5866f5,this[_0x2301b2(0x2e4)]=_0x5f2279,this[_0x2301b2(0x60a)]=_0x3d3f96,this['flow']=_0x3333cb,this[_0x2301b2(0x2dc)]=_0x3c5f65,this['label']=_0x239658,this[_0x2301b2(0x83c)]=_0x5cccf4,this[_0x2301b2(0x70a)]=_0x4bddd1,this[_0x2301b2(0x694)]=_0x5656ad;}get[a0_0x1955e1(0x55c)](){const _0x2c3e5b=a0_0x1955e1;return this[_0x2c3e5b(0x694)];}},Qe=class{},Ye=class extends _{[a0_0x1955e1(0x26d)](_0x5db684){return da(_0x5db684);}async['insert'](_0x5460e8,_0x25e1d1){const _0x2abef8=a0_0x1955e1;if(_0x5460e8[_0x2abef8(0x7dc)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2abef8(0x26d)](_0x25e1d1)['insertMany']([..._0x5460e8]))[_0x2abef8(0x7dc)]};}catch(_0x4e5ca8){return _0x4e5ca8;}}async[a0_0x1955e1(0x6d3)](_0xd17cf8,_0x23d0bf){const _0x19fe2a=a0_0x1955e1;try{let _0x45d1df=this[_0x19fe2a(0x26d)](_0x23d0bf),_0x2159b9=I(_0xd17cf8[_0x19fe2a(0x482)]);return await _0x45d1df[_0x19fe2a(0x6d3)](_0x2159b9)[_0x19fe2a(0x6cf)]({'messageTimestamp':-0x1})[_0x19fe2a(0x28b)](_0xd17cf8?.[_0x19fe2a(0x28b)]??0x0)[_0x19fe2a(0x6e3)]();}catch{return[];}}async[a0_0x1955e1(0x544)](_0x2edb5d,_0x40f8e8){const _0x4addba=a0_0x1955e1;try{let _0x822102=this[_0x4addba(0x26d)](_0x40f8e8),_0x5d4e6d=I(_0x2edb5d[_0x4addba(0x482)]);await _0x822102[_0x4addba(0x504)](_0x5d4e6d);}catch(_0x155934){console[_0x4addba(0x2e7)](_0x155934);}}async[a0_0x1955e1(0x563)](_0x14e46e,_0x524f47,_0x264672){const _0x504bdc=a0_0x1955e1;try{let _0x28a4cc=this[_0x504bdc(0x26d)](_0x264672),_0x272689=I(_0x14e46e[_0x504bdc(0x482)]);return await _0x28a4cc[_0x504bdc(0x3f5)](_0x272689,{'$set':_0x524f47},{'new':!0x0});}catch(_0xc27cdc){throw console['error'](_0xc27cdc),_0xc27cdc;}}async[a0_0x1955e1(0x31e)](_0x226c61,_0x188218){const _0x348ab6=a0_0x1955e1;if(_0x226c61[_0x348ab6(0x7dc)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x188218)[_0x348ab6(0x31e)]([..._0x226c61]))['length']};}catch(_0x5410d3){return console[_0x348ab6(0x538)](_0x348ab6(0x1ee),_0x5410d3),_0x5410d3;}}async['deleteAll'](_0x4afcbf){const _0x392901=a0_0x1955e1;try{return await this[_0x392901(0x26d)](_0x4afcbf)[_0x392901(0x5c9)][_0x392901(0x8a3)](),{'success':!0x0};}catch(_0x3c4efe){return console[_0x392901(0x2e7)](_0x3c4efe),{'success':!0x1,'error':_0x3c4efe};}}},ks=A(require('@ffmpeg-installer/ffmpeg')),w=A(require('@whiskeysockets/baileys')),Le=require('fs'),U=A(require(a0_0x1955e1(0x65e))),Q=A(require(a0_0x1955e1(0x871))),_i=require(a0_0x1955e1(0x8b9)),xi=A(require(a0_0x1955e1(0x365))),Di=A(require(a0_0x1955e1(0x89b))),$a=[a0_0x1955e1(0x2b8),a0_0x1955e1(0x2b3),'audioMessage','videoMessage',a0_0x1955e1(0x79f)],Ra=[a0_0x1955e1(0x33e),a0_0x1955e1(0x8ae),'viewOnceMessage','viewOnceMessageV2'],Ls=require('os'),Jt=A(require(a0_0x1955e1(0x308))),Fe=require(a0_0x1955e1(0x1de)),Pi=require('node-mime-types'),me=A(require('mongoose')),k=require(a0_0x1955e1(0x839)),ue=class{constructor(_0x371171,_0x53c877,_0x37b16d){const _0xe8e6a6=a0_0x1955e1;this[_0xe8e6a6(0x6b2)]=_0x371171,this[_0xe8e6a6(0x72e)]=_0x53c877,this[_0xe8e6a6(0x543)]=_0x37b16d;}},Xe=class{},Ze=class{},Te=class{},et=class{},tt=class{},Ce=class{},st=class{},at=class{},it=class{},ot=class{},Pt=A(require(a0_0x1955e1(0x6d0))),Aa=require('fs'),Ia=require(a0_0x1955e1(0x65e));async function Oe(_0x2be443){const _0x1b554d=a0_0x1955e1;let _0x28b01c=B[_0x1b554d(0x6d7)][_0x2be443];if(F[_0x1b554d(0x343)]){let _0x3384cb=R[_0x1b554d(0x191)]()['db'](F[_0x1b554d(0x84e)][_0x1b554d(0x82d)]+_0x1b554d(0x495))[_0x1b554d(0x5c9)](_0x2be443);return _0x28b01c||(await _0x3384cb[_0x1b554d(0x6d3)]({})[_0x1b554d(0x4e1)]())[_0x1b554d(0x7dc)]>0x0;}return _0x28b01c||(0x0,Aa['existsSync'])((0x0,Ia['join'])(Se,_0x2be443));}async function Ta(_0x55b887,_0x6c8295,_0x2ea0ef){const _0x5c56b9=a0_0x1955e1;if(_0x55b887[_0x5c56b9(0x2ea)][_0x5c56b9(0x718)](_0x5c56b9(0x33c))||_0x55b887[_0x5c56b9(0x2ea)]['includes']('/instance/fetchInstances')||_0x55b887[_0x5c56b9(0x2ea)]['includes']('/exit')||_0x55b887[_0x5c56b9(0x2ea)]['includes'](_0x5c56b9(0x246))||_0x55b887[_0x5c56b9(0x2ea)]['includes']('/instance/connect')||_0x55b887[_0x5c56b9(0x2ea)]['includes'](_0x5c56b9(0x39b))||_0x55b887[_0x5c56b9(0x2ea)]['includes'](_0x5c56b9(0x8a8)))return _0x2ea0ef();let _0x484b86=_0x55b887[_0x5c56b9(0x3bc)];if(!_0x484b86?.[_0x5c56b9(0x192)])throw new m(_0x5c56b9(0x82e));if(!await Oe(_0x484b86[_0x5c56b9(0x192)]))throw new J(_0x5c56b9(0x888)+_0x484b86[_0x5c56b9(0x192)]+_0x5c56b9(0x3c6));_0x2ea0ef();}async function Oa(_0x2a6ca4,_0x1f08b1,_0x381f5f){const _0x257652=a0_0x1955e1;if(_0x2a6ca4[_0x257652(0x2ea)][_0x257652(0x718)]('/instance/create')){let _0x2938e6=_0x2a6ca4[_0x257652(0x55f)];if(await Oe(_0x2938e6[_0x257652(0x192)]))throw new ee('This\x20name\x20'+_0x2938e6[_0x257652(0x192)]+_0x257652(0x264));B[_0x257652(0x6d7)][_0x2938e6[_0x257652(0x192)]]&&delete B[_0x257652(0x6d7)][_0x2938e6[_0x257652(0x192)]];}_0x381f5f();}var _a=require(a0_0x1955e1(0x839)),xa=A(require(a0_0x1955e1(0x5b9))),rt=a0_0x1955e1(0x2f5),Io=new $('GUARD');async function To(_0x5cce5c,_0x2031f3,_0x3894be){const _0x5771d9=a0_0x1955e1;let _0x44376e=_0x5cce5c['get']('apikey');if(_0x44376e&&b[_0x5771d9(0x7be)](_0x5771d9(0x3e8))[_0x5771d9(0x6ab)]['KEY']!==_0x44376e)throw new re();if(b['get'](_0x5771d9(0x3e8))['API_KEY'][_0x5771d9(0x8b0)]===_0x44376e)return _0x3894be();if((_0x5cce5c['originalUrl'][_0x5771d9(0x718)]('/instance/create')||_0x5cce5c[_0x5771d9(0x2ea)][_0x5771d9(0x718)](_0x5771d9(0x3ed)))&&!_0x44376e)throw new ee(_0x5771d9(0x772),_0x5771d9(0x71d));let _0x53b916=b[_0x5771d9(0x7be)]('AUTHENTICATION')['JWT'];try{let [_0x43fc09,_0x31ceba]=_0x5cce5c[_0x5771d9(0x7be)](_0x5771d9(0x848))[_0x5771d9(0x3ff)]('\x20');if(_0x43fc09['toLowerCase']()!==_0x5771d9(0x748))throw new re();if(!(0x0,_a[_0x5771d9(0x3a7)])(_0x31ceba))throw new re();let _0x667977=_0x5cce5c[_0x5771d9(0x3bc)],_0x2ef685=xa[_0x5771d9(0x36d)][_0x5771d9(0x2f3)](_0x31ceba,_0x53b916[_0x5771d9(0x86a)],{'ignoreExpiration':_0x53b916[_0x5771d9(0x4e8)]===0x0});if(_0x667977[_0x5771d9(0x192)]!==_0x2ef685[_0x5771d9(0x192)]||rt!==_0x2ef685[_0x5771d9(0x57f)])throw new re();return _0x3894be();}catch(_0x2b21ca){throw Io['error'](_0x2b21ca),new re();}}async function Oo(_0x39d225,_0x56eebc,_0x597e32){const _0x5d3010=a0_0x1955e1;let _0x3c5321=b['get'](_0x5d3010(0x3e8))[_0x5d3010(0x6ab)],_0x256122=_0x39d225[_0x5d3010(0x7be)]('apikey');if(_0x3c5321['KEY']===_0x256122)return _0x597e32();if(_0x39d225[_0x5d3010(0x2ea)][_0x5d3010(0x718)](_0x5d3010(0x33c))){let _0x5c341c=Pa,_0xd082e0=_0x39d225['body'][_0x5d3010(0x192)];if(_0x5c341c&&_0xd082e0[_0x5d3010(0x39d)]()['startsWith'](_0x5c341c['toLowerCase']()))return _0x597e32();if(!_0x256122)throw new ee('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x39d225[_0x5d3010(0x2ea)][_0x5d3010(0x718)](_0x5d3010(0x3ed))&&!_0x256122)throw new ee(_0x5d3010(0x772),_0x5d3010(0x71d));if(_0x39d225[_0x5d3010(0x2ea)][_0x5d3010(0x718)](_0x5d3010(0x7a6))&&!_0x256122)throw new ee('Missing\x20global\x20api\x20key',_0x5d3010(0x71d));if(_0x39d225[_0x5d3010(0x2ea)][_0x5d3010(0x718)](_0x5d3010(0x246))&&!_0x256122)throw new ee(_0x5d3010(0x772),_0x5d3010(0x71d));try{let _0xd7e213=_0x39d225[_0x5d3010(0x3bc)],_0x5bd49b=await we[_0x5d3010(0x2e4)][_0x5d3010(0x6d3)](_0xd7e213[_0x5d3010(0x192)]);if(_0x5bd49b&&_0x5bd49b[_0x5d3010(0x610)]===_0x256122)return _0x597e32();}catch{}throw new re();}var Da={'jwt':To,'apikey':Oo},mi=require('express'),E=require(a0_0x1955e1(0x8b9)),C=(..._0x305452)=>{const _0x5ae54c=a0_0x1955e1;let _0x329088={};return _0x305452['forEach'](_0x3ddeb2=>_0x329088[_0x3ddeb2]={'minLength':0x1,'description':_0x5ae54c(0x461)+_0x3ddeb2+_0x5ae54c(0x80d)}),{'if':{'propertyNames':{'enum':[..._0x305452]}},'then':{'properties':_0x329088}};},N={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'instanceName':{'type':a0_0x1955e1(0x1a3)}},...C(a0_0x1955e1(0x192))},wc={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'oldToken':{'type':a0_0x1955e1(0x1a3)}},'required':[a0_0x1955e1(0x1c9)],...C(a0_0x1955e1(0x1c9))},yc={'properties':{'key':{'type':a0_0x1955e1(0x64b),'properties':{'id':{'type':a0_0x1955e1(0x1a3)},'remoteJid':{'type':a0_0x1955e1(0x1a3)},'fromMe':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1955e1(0x8a0),a0_0x1955e1(0x785)],...C('id',a0_0x1955e1(0x8a0))},'message':{'type':'object'}}},te={'properties':{'delay':{'type':'integer','description':a0_0x1955e1(0x7a2)},'presence':{'type':a0_0x1955e1(0x1a3),'enum':[a0_0x1955e1(0x545),a0_0x1955e1(0x32e),a0_0x1955e1(0x7f3),'recording','paused']}}},H={'type':'string','description':a0_0x1955e1(0x49f)},ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'options':{...te},'textMessage':{'type':a0_0x1955e1(0x64b),'properties':{'text':{'type':a0_0x1955e1(0x1a3)}},'required':[a0_0x1955e1(0x814)],...C(a0_0x1955e1(0x814))}},'required':[a0_0x1955e1(0x2ed),'number']},La={'type':'string','pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x1955e1(0x49f)},bc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...La},'options':{...te},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x1955e1(0x1a3)}},'required':[a0_0x1955e1(0x814)],...C(a0_0x1955e1(0x814))}},'required':['textMessage','number']},Sc={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'number':{...La},'options':{...te},'mediaMessage':{'type':a0_0x1955e1(0x64b),'properties':{'mediatype':{'type':a0_0x1955e1(0x1a3),'enum':[a0_0x1955e1(0x412),a0_0x1955e1(0x53f),a0_0x1955e1(0x861),a0_0x1955e1(0x6a7)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x1955e1(0x1a3)}},'required':[a0_0x1955e1(0x37c),a0_0x1955e1(0x704)],...C(a0_0x1955e1(0x4b6),'caption',a0_0x1955e1(0x704))}},'required':[a0_0x1955e1(0x335),'number']},Fa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'options':{...te},'stickerMessage':{'type':a0_0x1955e1(0x64b),'properties':{'image':{'type':a0_0x1955e1(0x1a3)}},'required':[a0_0x1955e1(0x412)],...C(a0_0x1955e1(0x412))}},'required':[a0_0x1955e1(0x79f),'number']},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'statusMessage':{'type':a0_0x1955e1(0x64b),'properties':{'type':{'type':a0_0x1955e1(0x1a3),'enum':['text','image','audio',a0_0x1955e1(0x861)]},'content':{'type':a0_0x1955e1(0x1a3)},'caption':{'type':a0_0x1955e1(0x1a3)},'backgroundColor':{'type':a0_0x1955e1(0x1a3)},'font':{'type':a0_0x1955e1(0x24c),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x1955e1(0x8ac),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1955e1(0x1a3),'pattern':a0_0x1955e1(0x4d2),'description':a0_0x1955e1(0x7ae)}},'allContacts':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]}},'required':[a0_0x1955e1(0x708),a0_0x1955e1(0x3f3)],...C(a0_0x1955e1(0x708),a0_0x1955e1(0x3f3))}},'required':[a0_0x1955e1(0x765)]},ja={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'number':{...H},'options':{...te},'mediaMessage':{'type':a0_0x1955e1(0x64b),'properties':{'mediatype':{'type':'string','enum':[a0_0x1955e1(0x412),a0_0x1955e1(0x53f),'video',a0_0x1955e1(0x6a7)]},'media':{'type':a0_0x1955e1(0x1a3)},'fileName':{'type':a0_0x1955e1(0x1a3)},'caption':{'type':'string'}},'required':['mediatype','media'],...C(a0_0x1955e1(0x4b6),a0_0x1955e1(0x4de),a0_0x1955e1(0x704))}},'required':['mediaMessage',a0_0x1955e1(0x1a0)]},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'number':{...H},'options':{...te},'audioMessage':{'type':a0_0x1955e1(0x64b),'properties':{'audio':{'type':a0_0x1955e1(0x1a3)}},'required':[a0_0x1955e1(0x6a7)],...C('audio')}},'required':[a0_0x1955e1(0x44f),a0_0x1955e1(0x1a0)]},qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'pollMessage':{'type':a0_0x1955e1(0x64b),'properties':{'name':{'type':a0_0x1955e1(0x1a3)},'selectableCount':{'type':'number'},'values':{'type':a0_0x1955e1(0x8ac),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1955e1(0x543),a0_0x1955e1(0x653),a0_0x1955e1(0x78d)],...C(a0_0x1955e1(0x543),a0_0x1955e1(0x653),a0_0x1955e1(0x78d))}},'required':[a0_0x1955e1(0x1a0),a0_0x1955e1(0x21e)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'number':{...H},'menuMessage':{'type':a0_0x1955e1(0x64b),'properties':{'text':{'type':a0_0x1955e1(0x1a3)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1955e1(0x814),a0_0x1955e1(0x266)],...C('text',a0_0x1955e1(0x266))}},'required':['number',a0_0x1955e1(0x6a1)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'number':{...H},'options':{...te},'buttonMessage':{'type':a0_0x1955e1(0x64b),'properties':{'title':{'type':a0_0x1955e1(0x1a3)},'description':{'type':a0_0x1955e1(0x1a3)},'footerText':{'type':a0_0x1955e1(0x1a3)},'buttons':{'type':a0_0x1955e1(0x8ac),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1955e1(0x64b),'properties':{'buttonText':{'type':a0_0x1955e1(0x1a3)},'buttonId':{'type':a0_0x1955e1(0x1a3)}},'required':['buttonText',a0_0x1955e1(0x77c)],...C(a0_0x1955e1(0x7b7),a0_0x1955e1(0x77c))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x1955e1(0x1a3)},'fileName':{'type':a0_0x1955e1(0x1a3)},'mediatype':{'type':a0_0x1955e1(0x1a3),'enum':[a0_0x1955e1(0x412),a0_0x1955e1(0x53f),a0_0x1955e1(0x861)]}},'required':['media',a0_0x1955e1(0x37c)],...C(a0_0x1955e1(0x704),a0_0x1955e1(0x4b6))}},'required':[a0_0x1955e1(0x651),a0_0x1955e1(0x523)],...C('title',a0_0x1955e1(0x5cf))}},'required':[a0_0x1955e1(0x1a0),'buttonMessage']},Ba={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'options':{...te},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x1955e1(0x1a0)},'longitude':{'type':a0_0x1955e1(0x1a0)},'name':{'type':a0_0x1955e1(0x1a3)},'address':{'type':a0_0x1955e1(0x1a3)}},'required':[a0_0x1955e1(0x217),'longitude'],...C(a0_0x1955e1(0x543),a0_0x1955e1(0x819))}},'required':[a0_0x1955e1(0x1a0),a0_0x1955e1(0x79d)]},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'number':{...H},'options':{...te},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x1955e1(0x1a3)},'description':{'type':a0_0x1955e1(0x1a3)},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':a0_0x1955e1(0x8ac),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1955e1(0x64b),'properties':{'title':{'type':a0_0x1955e1(0x1a3)},'rows':{'type':a0_0x1955e1(0x8ac),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1955e1(0x64b),'properties':{'title':{'type':a0_0x1955e1(0x1a3)},'description':{'type':a0_0x1955e1(0x1a3)},'rowId':{'type':a0_0x1955e1(0x1a3)}},'required':[a0_0x1955e1(0x651),a0_0x1955e1(0x24a)],...C('title',a0_0x1955e1(0x24a))}}},'required':[a0_0x1955e1(0x651),a0_0x1955e1(0x63a)],...C(a0_0x1955e1(0x651))}}},'required':['title',a0_0x1955e1(0x5cf),a0_0x1955e1(0x7b7),a0_0x1955e1(0x7bd)],...C(a0_0x1955e1(0x651),a0_0x1955e1(0x5cf),'buttonText',a0_0x1955e1(0x85b))}},'required':[a0_0x1955e1(0x1a0),a0_0x1955e1(0x46d)]},za={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'number':{...H},'options':{...te},'contactMessage':{'type':'array','items':{'type':a0_0x1955e1(0x64b),'properties':{'fullName':{'type':a0_0x1955e1(0x1a3)},'phoneNumber':{'type':a0_0x1955e1(0x1a3),'minLength':0xa}},'required':['fullName',a0_0x1955e1(0x6c1)],...C(a0_0x1955e1(0x896))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x1955e1(0x1a0),a0_0x1955e1(0x330)]},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x1955e1(0x1a3)},'remoteJid':{'type':a0_0x1955e1(0x1a3)},'fromMe':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x1955e1(0x785)],...C('id',a0_0x1955e1(0x8a0))},'reaction':{'type':'string'}},'required':['key',a0_0x1955e1(0x6a0)],...C(a0_0x1955e1(0x6a0))}},'required':[a0_0x1955e1(0x69a)]},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1955e1(0x1a3),'pattern':a0_0x1955e1(0x4d2),'description':a0_0x1955e1(0x6bb)}}}},Qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1955e1(0x1a3)}},'required':['id','fromMe',a0_0x1955e1(0x8a0)],...C('id',a0_0x1955e1(0x8a0))}}},'required':[a0_0x1955e1(0x47f)]},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'privacySettings':{'type':a0_0x1955e1(0x64b),'properties':{'readreceipts':{'type':a0_0x1955e1(0x1a3),'enum':['all','none']},'profile':{'type':'string','enum':['all',a0_0x1955e1(0x2bf),a0_0x1955e1(0x361),a0_0x1955e1(0x64a)]},'status':{'type':a0_0x1955e1(0x1a3),'enum':['all',a0_0x1955e1(0x2bf),a0_0x1955e1(0x361),a0_0x1955e1(0x64a)]},'online':{'type':a0_0x1955e1(0x1a3),'enum':['all',a0_0x1955e1(0x28a)]},'last':{'type':a0_0x1955e1(0x1a3),'enum':[a0_0x1955e1(0x314),a0_0x1955e1(0x2bf),'contact_blacklist',a0_0x1955e1(0x64a)]},'groupadd':{'type':a0_0x1955e1(0x1a3),'enum':[a0_0x1955e1(0x314),a0_0x1955e1(0x2bf),a0_0x1955e1(0x361),a0_0x1955e1(0x64a)]}},'required':[a0_0x1955e1(0x53b),a0_0x1955e1(0x2b9),a0_0x1955e1(0x3d9),a0_0x1955e1(0x3cf),a0_0x1955e1(0x597),'groupadd'],...C(a0_0x1955e1(0x53b),a0_0x1955e1(0x2b9),a0_0x1955e1(0x3d9),a0_0x1955e1(0x3cf),'last',a0_0x1955e1(0x4ea))}},'required':['privacySettings']},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'lastMessage':{'type':a0_0x1955e1(0x64b),'properties':{'key':{'type':a0_0x1955e1(0x64b),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x1955e1(0x1a3)},'fromMe':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x1955e1(0x8a0)],...C('id','remoteJid')},'messageTimestamp':{'type':a0_0x1955e1(0x24c),'minLength':0x1}},'required':[a0_0x1955e1(0x2a8)],...C(a0_0x1955e1(0x48a))},'archive':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]}},'required':[a0_0x1955e1(0x1d2),a0_0x1955e1(0x7a5)]},Za={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'id':{'type':a0_0x1955e1(0x1a3)},'fromMe':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1955e1(0x1a3)},'participant':{'type':a0_0x1955e1(0x1a3)}},'required':['id',a0_0x1955e1(0x785),'remoteJid'],...C('id',a0_0x1955e1(0x8a0),'participant')},ei={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'where':{'type':a0_0x1955e1(0x64b),'properties':{'_id':{'type':a0_0x1955e1(0x1a3),'minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x1955e1(0x1a3),'minLength':0x1}},...C(a0_0x1955e1(0x45a),'id',a0_0x1955e1(0x3b1))}}},ti={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'name':{'type':'string'}},...C(a0_0x1955e1(0x543))},si={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'status':{'type':a0_0x1955e1(0x1a3)}},...C(a0_0x1955e1(0x3d9))},_e={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{'type':a0_0x1955e1(0x1a3)},'picture':{'type':a0_0x1955e1(0x1a3)}}},ai={'type':a0_0x1955e1(0x64b),'properties':{'wuid':{'type':a0_0x1955e1(0x1a3)},'name':{'type':a0_0x1955e1(0x1a3)},'picture':{'type':a0_0x1955e1(0x1a3)},'status':{'type':a0_0x1955e1(0x1a3)},'isBusiness':{'type':'boolean'}}},ii={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'where':{'type':a0_0x1955e1(0x64b),'properties':{'_id':{'type':a0_0x1955e1(0x1a3),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x1955e1(0x785),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x1955e1(0x1a3),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':'string','minLength':0x1,'description':a0_0x1955e1(0x3fc)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...C(a0_0x1955e1(0x45a))},'limit':{'type':a0_0x1955e1(0x24c)}}},Mc={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'where':{'type':a0_0x1955e1(0x64b),'properties':{'_id':{'type':a0_0x1955e1(0x1a3)},'remoteJid':{'type':a0_0x1955e1(0x1a3)},'id':{'type':a0_0x1955e1(0x1a3)},'fromMe':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x1955e1(0x1a3),'enum':[a0_0x1955e1(0x404),a0_0x1955e1(0x5ce),a0_0x1955e1(0x4d0),'DELIVERY_ACK',a0_0x1955e1(0x59b),'PLAYED']}},...C(a0_0x1955e1(0x45a),a0_0x1955e1(0x8a0),'id',a0_0x1955e1(0x3d9))},'limit':{'type':'integer'}}},oi={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'presence':{'type':a0_0x1955e1(0x1a3),'enum':[a0_0x1955e1(0x545),'available','composing',a0_0x1955e1(0x869),a0_0x1955e1(0x885)]}},'required':[a0_0x1955e1(0x34c),'number']},ri={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'subject':{'type':a0_0x1955e1(0x1a3)},'description':{'type':'string'},'profilePicture':{'type':a0_0x1955e1(0x1a3)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1955e1(0x1a3),'minLength':0xa,'pattern':a0_0x1955e1(0x63d),'description':a0_0x1955e1(0x423)}}},'required':[a0_0x1955e1(0x574),'participants'],...C(a0_0x1955e1(0x574),a0_0x1955e1(0x5cf),a0_0x1955e1(0x8a7))},xe={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'groupJid':{'type':a0_0x1955e1(0x1a3),'pattern':a0_0x1955e1(0x499)}},'required':[a0_0x1955e1(0x425)],...C(a0_0x1955e1(0x425))},ni={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'groupJid':{'type':a0_0x1955e1(0x1a3)},'action':{'type':'string','enum':[a0_0x1955e1(0x5c7),'remove',a0_0x1955e1(0x45e),a0_0x1955e1(0x53c),a0_0x1955e1(0x3af),'approve']},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1955e1(0x1a3),'minLength':0xa,'pattern':a0_0x1955e1(0x63d),'description':a0_0x1955e1(0x423)}}},'required':[a0_0x1955e1(0x425),a0_0x1955e1(0x5ab),a0_0x1955e1(0x212)],...C(a0_0x1955e1(0x425),a0_0x1955e1(0x5ab))},ci={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'groupJid':{'type':a0_0x1955e1(0x1a3)},'expiration':{'type':a0_0x1955e1(0x1a0),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x1955e1(0x425),a0_0x1955e1(0x827)],...C(a0_0x1955e1(0x425),'expiration')},li={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'groupJid':{'type':a0_0x1955e1(0x1a3)},'image':{'type':a0_0x1955e1(0x1a3)}},'required':[a0_0x1955e1(0x425),'image'],...C(a0_0x1955e1(0x425),'image')},ui={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'groupJid':{'type':a0_0x1955e1(0x1a3)},'description':{'type':a0_0x1955e1(0x1a3)}},'required':[a0_0x1955e1(0x425),'description'],...C(a0_0x1955e1(0x425),'description')},di={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x1955e1(0x1a3)}},'required':[a0_0x1955e1(0x425),a0_0x1955e1(0x543)],...C(a0_0x1955e1(0x425),a0_0x1955e1(0x543))},pi={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'setting':{'type':a0_0x1955e1(0x1a3),'enum':[a0_0x1955e1(0x406),a0_0x1955e1(0x32d),'unlocked',a0_0x1955e1(0x6e1)]}},'required':[a0_0x1955e1(0x425),a0_0x1955e1(0x866)],...C(a0_0x1955e1(0x425),a0_0x1955e1(0x866))},hi={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1955e1(0x1a3)},'restrict':{'type':a0_0x1955e1(0x1f0)},'announce':{'type':a0_0x1955e1(0x1f0)},'memberAddMode':{'type':a0_0x1955e1(0x1f0)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0x1955e1(0x24c),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x1955e1(0x1a3)},'description':{'type':a0_0x1955e1(0x1a3)},'image':{'type':'string'}}},Rs={'$id':(0x0,E['v4'])(),'type':a0_0x1955e1(0x64b),'properties':{'inviteCode':{'type':a0_0x1955e1(0x1a3)}},'required':['inviteCode'],...C(a0_0x1955e1(0x1f2))},gi={'$id':(0x0,E['v4'])(),'type':'object','properties':{'url':{'type':a0_0x1955e1(0x1a3)},'enabled':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]}},'required':[a0_0x1955e1(0x263),a0_0x1955e1(0x79a)]},Cc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x1955e1(0x1f0),'enum':[!0x0,!0x1]}},'required':[a0_0x1955e1(0x416),'STATUS_INSTANCE',a0_0x1955e1(0x5a0),a0_0x1955e1(0x590),a0_0x1955e1(0x5d8),a0_0x1955e1(0x344),a0_0x1955e1(0x410),a0_0x1955e1(0x6f7),'CONTACTS_UPSERT',a0_0x1955e1(0x37a),a0_0x1955e1(0x39c),a0_0x1955e1(0x6d2),a0_0x1955e1(0x1bd),a0_0x1955e1(0x761),'CHATS_DELETE',a0_0x1955e1(0x8a4),a0_0x1955e1(0x24d),'GROUPS_UPDATE',a0_0x1955e1(0x1ce)],...C(a0_0x1955e1(0x416),'STATUS_INSTANCE',a0_0x1955e1(0x5a0),a0_0x1955e1(0x590),a0_0x1955e1(0x5d8),a0_0x1955e1(0x344),a0_0x1955e1(0x410),a0_0x1955e1(0x6f7),a0_0x1955e1(0x3b3),'CONTACTS_UPDATE',a0_0x1955e1(0x39c),'CHATS_SET','CHATS_UPSERT',a0_0x1955e1(0x761),a0_0x1955e1(0x20f),a0_0x1955e1(0x8a4),a0_0x1955e1(0x24d),a0_0x1955e1(0x894),a0_0x1955e1(0x1ce))},nt=class{},ct=class extends _{['getContactModelForOwner'](_0x47ff9f){return ra(_0x47ff9f);}async[a0_0x1955e1(0x541)](_0x113844){const _0x332b57=a0_0x1955e1;if(_0x113844['length']!==0x0)try{return{'insertCount':(await this[_0x332b57(0x6db)](_0x113844[0x0]['owner'])[_0x332b57(0x31e)]([..._0x113844]))[_0x332b57(0x7dc)]};}catch(_0x26adbb){return _0x26adbb;}}async[a0_0x1955e1(0x544)](_0x2a8686,_0x1b3b08){const _0x21b0e1=a0_0x1955e1;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x1b3b08)[_0x21b0e1(0x504)]({..._0x2a8686[_0x21b0e1(0x482)]}))[_0x21b0e1(0x190)]};}catch(_0x46e672){return{'error':_0x46e672?.[_0x21b0e1(0x6c3)]()};}}async[a0_0x1955e1(0x563)](_0x462e6c,_0x58a3fd){const _0x2b22f3=a0_0x1955e1;try{if(_0x462e6c[_0x2b22f3(0x7dc)]===0x0)return;let _0x3fc6e6=this[_0x2b22f3(0x6db)](_0x58a3fd),_0x46428a=_0x462e6c['map'](_0x1649d7=>({'updateOne':{'filter':{'_id':_0x1649d7[_0x2b22f3(0x45a)],'owner':_0x58a3fd},'update':{..._0x1649d7}}})),{modifiedCount:_0x41e8c9}=await _0x3fc6e6['bulkWrite'](_0x46428a);return{'insertCount':_0x41e8c9};}catch{return;}}async[a0_0x1955e1(0x6d3)](_0x40551c,_0xe79aba){const _0x292d73=a0_0x1955e1;try{let _0x11b5bb=this['getContactModelForOwner'](_0xe79aba),_0x1c9a5a=I(_0x40551c[_0x292d73(0x482)]);return await _0x11b5bb[_0x292d73(0x6d3)](_0x1c9a5a)['limit'](_0x40551c?.[_0x292d73(0x28b)]??0x0)[_0x292d73(0x6e3)]();}catch{return[];}}async[a0_0x1955e1(0x309)](_0x2b7b31,_0x52b785){const _0x77b21f=a0_0x1955e1;try{let _0x38ac0c=this[_0x77b21f(0x6db)](_0x52b785),_0x152652=I(_0x2b7b31[_0x77b21f(0x482)]);return await _0x38ac0c['findOne'](_0x152652)[_0x77b21f(0x6e3)]();}catch{return null;}}async['deleteAll'](_0x4663fd){const _0x5b33e0=a0_0x1955e1;try{return await this[_0x5b33e0(0x6db)](_0x4663fd)['collection'][_0x5b33e0(0x8a3)](),{'success':!0x0};}catch(_0x2e3be9){return console[_0x5b33e0(0x2e7)](_0x2e3be9),{'success':!0x1,'error':_0x2e3be9};}}},lt=require(a0_0x1955e1(0x6a2)),Oc=require(a0_0x1955e1(0x639)),As=new $(a0_0x1955e1(0x7a0)),G=class{[a0_0x1955e1(0x48e)](_0x2a8336,_0x431a2a=!0x0){const _0x2556e5=a0_0x1955e1;let _0x111c23='/'+_0x2a8336;return _0x431a2a&&(_0x111c23+=_0x2556e5(0x788)),_0x111c23;}async['dataValidate'](_0x574f8d){const _0x3bde9a=a0_0x1955e1;let {request:_0x50f07a,schema:_0x3959a2,ClassRef:_0x1355a9,execute:_0xc5a383}=_0x574f8d,_0x5ac863=new _0x1355a9(),_0x2b6e93=_0x50f07a['body'],_0xe497f1=_0x50f07a[_0x3bde9a(0x3bc)];_0x50f07a?.[_0x3bde9a(0x4d8)]&&Object[_0x3bde9a(0x281)](_0x50f07a[_0x3bde9a(0x4d8)])['length']>0x0&&Object[_0x3bde9a(0x6af)](_0xe497f1,_0x50f07a['query']),_0x50f07a[_0x3bde9a(0x2ea)][_0x3bde9a(0x718)](_0x3bde9a(0x33c))&&Object[_0x3bde9a(0x6af)](_0xe497f1,_0x2b6e93),Object[_0x3bde9a(0x6af)](_0x5ac863,_0x2b6e93);let _0x425cb4=_0x3959a2?(0x0,lt['validate'])(_0x5ac863,_0x3959a2):{'valid':!0x0,'errors':[]};if(!_0x425cb4[_0x3bde9a(0x328)]){let _0x2d8370=_0x425cb4['errors'][_0x3bde9a(0x3e2)](({property:_0x4ee8c4,stack:_0x4d14dc,schema:_0x58f54a})=>{const _0x2ca490=_0x3bde9a;let _0x22d9c5;return _0x58f54a[_0x2ca490(0x5cf)]?_0x22d9c5=_0x58f54a[_0x2ca490(0x5cf)]:_0x22d9c5=_0x4d14dc[_0x2ca490(0x534)]('instance.',''),{'property':_0x4ee8c4[_0x2ca490(0x534)](_0x2ca490(0x2bd),''),'message':_0x22d9c5};});throw As['error']([..._0x2d8370]),new m(..._0x2d8370);}return await _0xc5a383(_0xe497f1,_0x5ac863);}async['groupValidate'](_0x353fd9){const _0x454fb0=a0_0x1955e1;let {request:_0x1c5947,ClassRef:_0x4f28e5,schema:_0x26b20a,execute:_0x20c8f7}=_0x353fd9,_0x5b3e92=_0x1c5947['query'];if(!_0x5b3e92?.[_0x454fb0(0x425)])throw new m(_0x454fb0(0x2c6),_0x454fb0(0x4c3));let _0x5d64f5=_0x1c5947[_0x454fb0(0x3bc)],_0x34bfa5=_0x1c5947[_0x454fb0(0x55f)],_0x54e7ba=new _0x4f28e5();Object[_0x454fb0(0x6af)](_0x34bfa5,_0x5b3e92),Object['assign'](_0x54e7ba,_0x34bfa5);let _0x4b93c5=(0x0,lt[_0x454fb0(0x234)])(_0x54e7ba,_0x26b20a);if(!_0x4b93c5[_0x454fb0(0x328)]){let _0xcd26c=_0x4b93c5['errors'][_0x454fb0(0x3e2)](({property:_0x52dbcd,stack:_0x332574,schema:_0x3523d3})=>{const _0x1c37b3=_0x454fb0;let _0x560c10;return _0x3523d3['description']?_0x560c10=_0x3523d3[_0x1c37b3(0x5cf)]:_0x560c10=_0x332574[_0x1c37b3(0x534)]('instance.',''),{'property':_0x52dbcd['replace'](_0x1c37b3(0x2bd),''),'message':_0x560c10};});throw As[_0x454fb0(0x2e7)]([..._0xcd26c]),new m(..._0xcd26c);}return await _0x20c8f7(_0x5d64f5,_0x54e7ba);}async['joinGroupValidate'](_0x2ec5c2){const _0x15bc8e=a0_0x1955e1;let {request:_0x5c9437,ClassRef:_0x3fa1db,schema:_0x3d3e09,execute:_0x64a988}=_0x2ec5c2,_0x2c306e=_0x5c9437[_0x15bc8e(0x55f)];if(!_0x2c306e?.[_0x15bc8e(0x1f2)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x15bc8e(0x5b6));let _0x24c669=_0x5c9437['params'],_0x39095a=_0x5c9437[_0x15bc8e(0x55f)],_0x328737=new _0x3fa1db();Object[_0x15bc8e(0x6af)](_0x39095a,_0x2c306e),Object['assign'](_0x328737,_0x39095a);let _0x3f370a=(0x0,lt[_0x15bc8e(0x234)])(_0x328737,_0x3d3e09);if(!_0x3f370a[_0x15bc8e(0x328)]){let _0x5afc62=_0x3f370a['errors'][_0x15bc8e(0x3e2)](({property:_0x535c42,stack:_0x135ded,schema:_0x3e5317})=>{const _0xc12c88=_0x15bc8e;let _0x4ed7b3;return _0x3e5317[_0xc12c88(0x5cf)]?_0x4ed7b3=_0x3e5317['description']:_0x4ed7b3=_0x135ded[_0xc12c88(0x534)]('instance.',''),{'property':_0x535c42[_0xc12c88(0x534)](_0xc12c88(0x2bd),''),'message':_0x4ed7b3};});throw As['error']([..._0x5afc62]),new m(..._0x5afc62);}return await _0x64a988(_0x24c669,_0x328737);}},M=class{},Wc=new $(a0_0x1955e1(0x29f)),ut=class extends G{constructor(..._0x519386){const _0x42250a=a0_0x1955e1;super(),this[_0x42250a(0x1dd)]=(0x0,mi['Router'])(),this[_0x42250a(0x1dd)][_0x42250a(0x56b)](this['routerPath'](_0x42250a(0x642)),..._0x519386,async(_0x575021,_0x328d2b)=>{const _0x496e95=_0x42250a;let _0x2c69fb=await this[_0x496e95(0x65b)]({'request':_0x575021,'schema':oi,'ClassRef':Xe,'execute':(_0x4a2b86,_0x534dd4)=>P['updatePresence'](_0x4a2b86,_0x534dd4)});return _0x328d2b[_0x496e95(0x3d9)](0xc9)[_0x496e95(0x71b)](_0x2c69fb);})['post'](this[_0x42250a(0x48e)](_0x42250a(0x5a9)),..._0x519386,async(_0x320544,_0x4293e5)=>{const _0x20ea70=_0x42250a;let _0x2ba1e4=await this['dataValidate']({'request':_0x320544,'schema':Ka,'ClassRef':Ze,'execute':(_0x37aeff,_0x1904ce)=>P['whatsappNumber'](_0x37aeff,_0x1904ce)});return _0x4293e5['status'](0xc9)[_0x20ea70(0x71b)](_0x2ba1e4);})[_0x42250a(0x56b)](this[_0x42250a(0x48e)](_0x42250a(0x61f)),..._0x519386,async(_0xe7e3be,_0x2a1fc3)=>{const _0x11c63a=_0x42250a;let _0x284e7f=await this[_0x11c63a(0x65b)]({'request':_0xe7e3be,'schema':N,'ClassRef':M,'execute':(_0x44535a,_0x227f82)=>P[_0x11c63a(0x61f)](_0x44535a,_0x227f82)});return _0x2a1fc3[_0x11c63a(0x3d9)](0xc9)[_0x11c63a(0x71b)](_0x284e7f);})[_0x42250a(0x295)](this[_0x42250a(0x48e)](_0x42250a(0x1b3)),..._0x519386,async(_0xcf6c91,_0x9341de)=>{const _0x3fafad=_0x42250a;let _0x1aaa42=await this[_0x3fafad(0x65b)]({'request':_0xcf6c91,'schema':Qa,'ClassRef':st,'execute':(_0x1ca08b,_0x1000a7)=>P['readMessage'](_0x1ca08b,_0x1000a7)});return _0x9341de[_0x3fafad(0x3d9)](0xc9)[_0x3fafad(0x71b)](_0x1aaa42);})['put'](this['routerPath'](_0x42250a(0x18e)),..._0x519386,async(_0x2614ff,_0x1ff300)=>{const _0x269e27=_0x42250a;let _0x1e886b=await this['dataValidate']({'request':_0x2614ff,'schema':Xa,'ClassRef':at,'execute':(_0x562e5f,_0x3d2e0c)=>P[_0x269e27(0x18e)](_0x562e5f,_0x3d2e0c)});return _0x1ff300['status'](0xc9)[_0x269e27(0x71b)](_0x1e886b);})[_0x42250a(0x544)](this['routerPath']('deleteMessageForEveryone'),..._0x519386,async(_0x42d8bc,_0x15f1a7)=>{let _0x40c5d6=await this['dataValidate']({'request':_0x42d8bc,'schema':Za,'ClassRef':ot,'execute':(_0x228f92,_0x32c384)=>P['deleteMessage'](_0x228f92,_0x32c384)});return _0x15f1a7['status'](0xc9)['json'](_0x40c5d6);})[_0x42250a(0x56b)](this[_0x42250a(0x48e)](_0x42250a(0x508)),..._0x519386,async(_0x35d16e,_0x59c018)=>{const _0x277c27=_0x42250a;let _0x1959d8=await this[_0x277c27(0x65b)]({'request':_0x35d16e,'schema':_e,'ClassRef':Te,'execute':(_0x242992,_0x252fff)=>P[_0x277c27(0x299)](_0x242992,_0x252fff)});return _0x59c018['status'](0xc8)[_0x277c27(0x71b)](_0x1959d8);})[_0x42250a(0x56b)](this[_0x42250a(0x48e)](_0x42250a(0x5db)),..._0x519386,async(_0x46e81c,_0x35a7e0)=>{const _0x2a7c46=_0x42250a;let _0x3211b7=await this[_0x2a7c46(0x65b)]({'request':_0x46e81c,'schema':ai,'ClassRef':Te,'execute':(_0x209d04,_0x29338f)=>P['fetchProfile'](_0x209d04,_0x29338f)});return _0x35a7e0['status'](0xc8)['json'](_0x3211b7);})[_0x42250a(0x56b)](this[_0x42250a(0x48e)](_0x42250a(0x754)),..._0x519386,async(_0x4fa710,_0x25030e)=>{const _0x209f16=_0x42250a;let _0x2bb53b=await this[_0x209f16(0x65b)]({'request':_0x4fa710,'schema':ei,'ClassRef':nt,'execute':(_0x148cbf,_0x38a1c0)=>P['fetchContacts'](_0x148cbf,_0x38a1c0)});return _0x25030e[_0x209f16(0x3d9)](0xc8)[_0x209f16(0x71b)](_0x2bb53b);})[_0x42250a(0x56b)](this[_0x42250a(0x48e)](_0x42250a(0x7d9)),..._0x519386,async(_0x29f476,_0x40b689)=>{const _0x53f83e=_0x42250a;let _0x2f7390=await this[_0x53f83e(0x65b)]({'request':_0x29f476,'schema':null,'ClassRef':Object,'execute':(_0x41efc7,_0x1e1a0a)=>P[_0x53f83e(0x7d9)](_0x41efc7,_0x1e1a0a)});return _0x40b689[_0x53f83e(0x3d9)](0xc9)[_0x53f83e(0x71b)](_0x2f7390);})[_0x42250a(0x56b)](this[_0x42250a(0x48e)](_0x42250a(0x5e8)),..._0x519386,async(_0x5b535f,_0x3c5a03)=>{const _0x52ba36=_0x42250a;let _0x2d06e4=await this[_0x52ba36(0x65b)]({'request':_0x5b535f,'schema':ii,'ClassRef':Qe,'execute':(_0x14b5dd,_0x2ae4f1)=>P[_0x52ba36(0x231)](_0x14b5dd,_0x2ae4f1)});return _0x3c5a03[_0x52ba36(0x3d9)](0xc8)[_0x52ba36(0x71b)](_0x2d06e4);})[_0x42250a(0x7be)](this[_0x42250a(0x48e)](_0x42250a(0x310)),..._0x519386,async(_0x459673,_0x3d8313)=>{const _0x2a2a55=_0x42250a;let _0x1abbae=await this[_0x2a2a55(0x65b)]({'request':_0x459673,'schema':null,'ClassRef':M,'execute':_0x5d28b2=>P[_0x2a2a55(0x65c)](_0x5d28b2)});return _0x3d8313['status'](0xc8)[_0x2a2a55(0x71b)](_0x1abbae);})[_0x42250a(0x7be)](this[_0x42250a(0x48e)](_0x42250a(0x440)),..._0x519386,async(_0x633dd8,_0x30f976)=>{const _0x546b25=_0x42250a;let _0x333337=await this[_0x546b25(0x65b)]({'request':_0x633dd8,'schema':null,'ClassRef':M,'execute':_0x3f276a=>P[_0x546b25(0x530)](_0x3f276a)});return _0x30f976['status'](0xc8)[_0x546b25(0x71b)](_0x333337);})['put'](this[_0x42250a(0x48e)](_0x42250a(0x27d)),..._0x519386,async(_0x2a810e,_0x5873c0)=>{const _0x3e8325=_0x42250a;let _0x560791=await this[_0x3e8325(0x65b)]({'request':_0x2a810e,'schema':null,'ClassRef':Array,'execute':(_0x2444d1,_0x3bbc15)=>P[_0x3e8325(0x27d)](_0x2444d1,_0x3bbc15)});return _0x5873c0[_0x3e8325(0x3d9)](0xc8)[_0x3e8325(0x71b)](_0x560791);})[_0x42250a(0x7be)](this[_0x42250a(0x48e)](_0x42250a(0x878)),..._0x519386,async(_0xaec6e8,_0x20ae15)=>{const _0x16346f=_0x42250a;let _0x5de5c9=await this[_0x16346f(0x65b)]({'request':_0xaec6e8,'schema':null,'ClassRef':M,'execute':_0x493145=>P['fetchPrivacySettings'](_0x493145)});return _0x20ae15[_0x16346f(0x3d9)](0xc8)[_0x16346f(0x71b)](_0x5de5c9);})[_0x42250a(0x295)](this[_0x42250a(0x48e)](_0x42250a(0x5a1)),..._0x519386,async(_0x1a779f,_0x4f0f18)=>{const _0x4d369=_0x42250a;let _0x2a0a40=await this[_0x4d369(0x65b)]({'request':_0x1a779f,'schema':Ya,'ClassRef':it,'execute':(_0x559fe0,_0x443db9)=>P[_0x4d369(0x5a1)](_0x559fe0,_0x443db9)});return _0x4f0f18[_0x4d369(0x3d9)](0xc9)[_0x4d369(0x71b)](_0x2a0a40);})[_0x42250a(0x56b)](this[_0x42250a(0x48e)]('fetchBusinessProfile'),..._0x519386,async(_0x4ff315,_0xc8c6c3)=>{const _0x436040=_0x42250a;let _0x125a37=await this[_0x436040(0x65b)]({'request':_0x4ff315,'schema':_e,'ClassRef':Ce,'execute':(_0x1b6ddf,_0xcf84da)=>P[_0x436040(0x1eb)](_0x1b6ddf,_0xcf84da)});return _0xc8c6c3[_0x436040(0x3d9)](0xc8)[_0x436040(0x71b)](_0x125a37);})[_0x42250a(0x56b)](this[_0x42250a(0x48e)]('updateProfileName'),..._0x519386,async(_0x4fd9e2,_0x4af4c1)=>{const _0x4f5620=_0x42250a;let _0x56e817=await this[_0x4f5620(0x65b)]({'request':_0x4fd9e2,'schema':ti,'ClassRef':et,'execute':(_0x5e5718,_0x1c78f)=>P[_0x4f5620(0x851)](_0x5e5718,_0x1c78f)});return _0x4af4c1[_0x4f5620(0x3d9)](0xc8)[_0x4f5620(0x71b)](_0x56e817);})['post'](this[_0x42250a(0x48e)](_0x42250a(0x213)),..._0x519386,async(_0x456993,_0xa987cd)=>{const _0x499b03=_0x42250a;let _0xd0171a=await this[_0x499b03(0x65b)]({'request':_0x456993,'schema':si,'ClassRef':tt,'execute':(_0x24ab3a,_0x30d3a3)=>P[_0x499b03(0x213)](_0x24ab3a,_0x30d3a3)});return _0xa987cd[_0x499b03(0x3d9)](0xc8)[_0x499b03(0x71b)](_0xd0171a);})[_0x42250a(0x295)](this[_0x42250a(0x48e)](_0x42250a(0x5a7)),..._0x519386,async(_0x50cecb,_0x273f0e)=>{const _0x4c0b11=_0x42250a;let _0x356b8a=await this['dataValidate']({'request':_0x50cecb,'schema':_e,'ClassRef':Ce,'execute':(_0x4f2bd4,_0x1c5cfc)=>P[_0x4c0b11(0x5a7)](_0x4f2bd4,_0x1c5cfc)});return _0x273f0e[_0x4c0b11(0x3d9)](0xc8)[_0x4c0b11(0x71b)](_0x356b8a);})[_0x42250a(0x544)](this[_0x42250a(0x48e)](_0x42250a(0x233)),..._0x519386,async(_0x1f00de,_0x514f07)=>{const _0x151df3=_0x42250a;let _0x1ebe7d=await this['dataValidate']({'request':_0x1f00de,'schema':_e,'ClassRef':Ce,'execute':(_0x41616b,_0x556c1b)=>P[_0x151df3(0x233)](_0x41616b,_0x556c1b)});return _0x514f07[_0x151df3(0x3d9)](0xc8)[_0x151df3(0x71b)](_0x1ebe7d);});}},fi=require(a0_0x1955e1(0x6d0)),dt=class{},pt=class{},ht=class{},gt=class{},mt=class{},ft=class{},se=class{},De=class{},wt=class extends se{},yt=class extends se{},bt=class extends G{constructor(..._0x10505e){const _0x36121b=a0_0x1955e1;super(),this[_0x36121b(0x1dd)]=(0x0,fi[_0x36121b(0x6e5)])(),this[_0x36121b(0x1dd)][_0x36121b(0x56b)](this[_0x36121b(0x48e)](_0x36121b(0x4ed)),..._0x10505e,async(_0x2e9d59,_0x328ec2)=>{const _0x349551=_0x36121b;let _0x4a6cf3=await this[_0x349551(0x65b)]({'request':_0x2e9d59,'schema':ri,'ClassRef':dt,'execute':(_0x370aaf,_0x27f69d)=>q[_0x349551(0x588)](_0x370aaf,_0x27f69d)});_0x328ec2[_0x349551(0x3d9)](0xc9)[_0x349551(0x71b)](_0x4a6cf3);})[_0x36121b(0x295)](this[_0x36121b(0x48e)](_0x36121b(0x59f)),..._0x10505e,async(_0x406d42,_0x3bb6bc)=>{const _0x18a084=_0x36121b;let _0x43c262=await this[_0x18a084(0x5dd)]({'request':_0x406d42,'schema':li,'ClassRef':pt,'execute':(_0x448932,_0x3a661c)=>q['updateGroupPicture'](_0x448932,_0x3a661c)});_0x3bb6bc[_0x18a084(0x3d9)](0xc9)[_0x18a084(0x71b)](_0x43c262);})['put'](this[_0x36121b(0x48e)](_0x36121b(0x47c)),..._0x10505e,async(_0xc6f38e,_0x38f4bd)=>{const _0x1e5bd2=_0x36121b;let _0x400f34=await this['groupValidate']({'request':_0xc6f38e,'schema':ui,'ClassRef':ht,'execute':(_0x146039,_0xc854da)=>q[_0x1e5bd2(0x47c)](_0x146039,_0xc854da)});_0x38f4bd['status'](0xc9)[_0x1e5bd2(0x71b)](_0x400f34);})[_0x36121b(0x295)](this[_0x36121b(0x48e)]('groupName'),..._0x10505e,async(_0x2d0751,_0x26be65)=>{const _0x4f5d8f=_0x36121b;let _0x3e2cac=await this[_0x4f5d8f(0x5dd)]({'request':_0x2d0751,'schema':di,'ClassRef':gt,'execute':(_0x5400b3,_0x527a82)=>q[_0x4f5d8f(0x438)](_0x5400b3,_0x527a82)});_0x26be65[_0x4f5d8f(0x3d9)](0xc9)[_0x4f5d8f(0x71b)](_0x3e2cac);})['put'](this[_0x36121b(0x48e)](_0x36121b(0x22c)),..._0x10505e,async(_0xeaee7b,_0x2ac0ea)=>{const _0x4c6fb6=_0x36121b;let _0x4cc4c6=await this[_0x4c6fb6(0x5dd)]({'request':_0xeaee7b,'schema':hi,'ClassRef':ft,'execute':(_0x225c0a,_0x110a76)=>q[_0x4c6fb6(0x22c)](_0x225c0a,_0x110a76)});_0x2ac0ea[_0x4c6fb6(0x3d9)](0xc9)[_0x4c6fb6(0x71b)](_0x4cc4c6);})[_0x36121b(0x295)](this[_0x36121b(0x48e)](_0x36121b(0x842)),..._0x10505e,async(_0x4c1525,_0x39e46c)=>{const _0x7e92a1=_0x36121b;let _0x20b8b9=await this['groupValidate']({'request':_0x4c1525,'schema':pi,'ClassRef':mt,'execute':(_0x65ec2e,_0x2d67a6)=>q[_0x7e92a1(0x842)](_0x65ec2e,_0x2d67a6)});_0x39e46c[_0x7e92a1(0x3d9)](0xc9)[_0x7e92a1(0x71b)](_0x20b8b9);})[_0x36121b(0x295)](this[_0x36121b(0x48e)]('toggleEphemeral'),..._0x10505e,async(_0x98bb18,_0x43d2b1)=>{const _0x1d369c=_0x36121b;let _0x12e7b8=await this['groupValidate']({'request':_0x98bb18,'schema':ci,'ClassRef':yt,'execute':(_0x40525d,_0x579d8f)=>q[_0x1d369c(0x402)](_0x40525d,_0x579d8f)});_0x43d2b1['status'](0xc9)['json'](_0x12e7b8);})['get'](this[_0x36121b(0x48e)](_0x36121b(0x44e)),..._0x10505e,async(_0x39faf8,_0x2ab11e)=>{const _0x44e385=_0x36121b;let _0x2b63c7=await this[_0x44e385(0x5dd)]({'request':_0x39faf8,'schema':xe,'ClassRef':se,'execute':(_0x2626be,_0x29ecb6)=>q[_0x44e385(0x6aa)](_0x2626be,_0x29ecb6)});_0x2ab11e[_0x44e385(0x3d9)](0xc8)[_0x44e385(0x71b)](_0x2b63c7);})[_0x36121b(0x7be)](this[_0x36121b(0x48e)](_0x36121b(0x613)),..._0x10505e,async(_0xe8f033,_0x3f217c)=>{const _0x9db44e=_0x36121b;let _0x426c48=await this[_0x9db44e(0x65b)]({'request':_0xe8f033,'schema':N,'ClassRef':M,'execute':_0x3a5bb0=>q[_0x9db44e(0x613)](_0x3a5bb0)});_0x3f217c[_0x9db44e(0x3d9)](0xc8)[_0x9db44e(0x71b)](_0x426c48);})['get'](this[_0x36121b(0x48e)]('participants'),..._0x10505e,async(_0x5bbb21,_0xecd619)=>{const _0x44f137=_0x36121b;let _0x4eac50=await this[_0x44f137(0x5dd)]({'request':_0x5bbb21,'schema':xe,'ClassRef':se,'execute':(_0x26a36b,_0x5cb627)=>q[_0x44f137(0x2fe)](_0x26a36b,_0x5cb627)});_0xecd619['status'](0xc8)[_0x44f137(0x71b)](_0x4eac50);})[_0x36121b(0x7be)](this[_0x36121b(0x48e)](_0x36121b(0x1f2)),..._0x10505e,async(_0x13b62c,_0x50274c)=>{const _0xaf9a91=_0x36121b;let _0x122c48=await this[_0xaf9a91(0x5dd)]({'request':_0x13b62c,'schema':xe,'ClassRef':se,'execute':(_0x486a23,_0x1a5e21)=>q[_0xaf9a91(0x1f2)](_0x486a23,_0x1a5e21)});_0x50274c[_0xaf9a91(0x3d9)](0xc8)[_0xaf9a91(0x71b)](_0x122c48);})[_0x36121b(0x56b)](this[_0x36121b(0x48e)]('inviteCodeDetails'),..._0x10505e,async(_0x3eff0c,_0x4b2c39)=>{const _0x4821b3=_0x36121b;let _0x39db43=await this[_0x4821b3(0x3b8)]({'request':_0x3eff0c,'schema':Rs,'ClassRef':De,'execute':(_0x2e4362,_0x4a8493)=>q['groupGetInviteInfo'](_0x2e4362,_0x4a8493)});_0x4b2c39[_0x4821b3(0x3d9)](0xc9)[_0x4821b3(0x71b)](_0x39db43);})[_0x36121b(0x295)](this['routerPath'](_0x36121b(0x1ea)),..._0x10505e,async(_0x50047c,_0x5a233a)=>{const _0x763d69=_0x36121b;let _0x2241f7=await this['joinGroupValidate']({'request':_0x50047c,'schema':Rs,'ClassRef':De,'execute':(_0x43e6b2,_0x54a0da)=>q[_0x763d69(0x1ea)](_0x43e6b2,_0x54a0da)});_0x5a233a[_0x763d69(0x3d9)](0xc9)['json'](_0x2241f7);})[_0x36121b(0x295)](this[_0x36121b(0x48e)](_0x36121b(0x66d)),..._0x10505e,async(_0x5ac76a,_0x1cad99)=>{const _0x4a918c=_0x36121b;let _0x142114=await this['groupValidate']({'request':_0x5ac76a,'schema':xe,'ClassRef':se,'execute':(_0x225681,_0x488ab4)=>q[_0x4a918c(0x66d)](_0x225681,_0x488ab4)});_0x1cad99['status'](0xc9)[_0x4a918c(0x71b)](_0x142114);})[_0x36121b(0x295)](this['routerPath'](_0x36121b(0x87c)),..._0x10505e,async(_0xe0fa6b,_0x162a21)=>{const _0x5a056e=_0x36121b;let _0x166ebd=await this[_0x5a056e(0x5dd)]({'request':_0xe0fa6b,'schema':ni,'ClassRef':wt,'execute':(_0x1f996a,_0x5f1835)=>q[_0x5a056e(0x83f)](_0x1f996a,_0x5f1835)});_0x162a21[_0x5a056e(0x3d9)](0xc9)['json'](_0x166ebd);})[_0x36121b(0x544)](this['routerPath'](_0x36121b(0x83d)),..._0x10505e,async(_0x3c09b2,_0x3d4fc7)=>{const _0x3b9338=_0x36121b;let _0x5a7fbb=await this[_0x3b9338(0x5dd)]({'request':_0x3c09b2,'schema':{},'ClassRef':se,'execute':(_0xfe1dce,_0x29f01e)=>q[_0x3b9338(0x83d)](_0xfe1dce,_0x29f01e)});_0x3d4fc7[_0x3b9338(0x3d9)](0xc8)[_0x3b9338(0x71b)](_0x5a7fbb);});}},wi=require(a0_0x1955e1(0x6d0)),St=class extends G{constructor(_0x3afefa,..._0x5054f6){const _0x2b25b6=a0_0x1955e1;super(),this[_0x2b25b6(0x567)]=_0x3afefa,this[_0x2b25b6(0x1dd)]=(0x0,wi[_0x2b25b6(0x6e5)])();let _0x1edb0a=_0x3afefa[_0x2b25b6(0x7be)]('AUTHENTICATION');this[_0x2b25b6(0x1dd)][_0x2b25b6(0x56b)](_0x2b25b6(0x7fd),..._0x5054f6,async(_0x35f448,_0x12bb1c)=>{const _0x563fb0=_0x2b25b6;let {instanceName:_0x516033,apikey:_0x2e2afd,number:_0x3628b3}=_0x35f448[_0x563fb0(0x55f)],_0x5bff9e=await de[_0x563fb0(0x43f)]({'instanceName':_0x516033,'apikey':_0x2e2afd,'number':_0x3628b3});return _0x12bb1c[_0x563fb0(0x3d9)](0xc9)['json'](_0x5bff9e);})['put'](this[_0x2b25b6(0x48e)]('restart'),..._0x5054f6,async(_0x3ec78f,_0x22fa1f)=>{const _0x28e16d=_0x2b25b6;let _0x108745=await this[_0x28e16d(0x65b)]({'request':_0x3ec78f,'schema':N,'ClassRef':M,'execute':_0x38408f=>de[_0x28e16d(0x3b2)](_0x38408f)});return _0x22fa1f[_0x28e16d(0x3d9)](0xc8)['json'](_0x108745);})[_0x2b25b6(0x7be)](this[_0x2b25b6(0x48e)](_0x2b25b6(0x64e)),..._0x5054f6,async(_0x4b4c2a,_0x1b50b2)=>{const _0x120766=_0x2b25b6;let _0x250198=await this[_0x120766(0x65b)]({'request':_0x4b4c2a,'schema':N,'ClassRef':M,'execute':_0x1e43ce=>de[_0x120766(0x549)](_0x1e43ce)});return _0x1b50b2[_0x120766(0x3d9)](0xc8)[_0x120766(0x71b)](_0x250198);})['get'](this['routerPath'](_0x2b25b6(0x7e9)),..._0x5054f6,async(_0x553f73,_0x17ad2d)=>{const _0x36e3b6=_0x2b25b6;let _0x38e7af=await this['dataValidate']({'request':_0x553f73,'schema':N,'ClassRef':M,'execute':_0x251500=>de[_0x36e3b6(0x7e9)](_0x251500)});return _0x17ad2d['status'](0xc8)[_0x36e3b6(0x71b)](_0x38e7af);})['get'](this['routerPath']('fetchInstances',!0x1),..._0x5054f6,async(_0x4f5363,_0xbb5945)=>{const _0x286a4a=_0x2b25b6;let _0x5696da=await this[_0x286a4a(0x65b)]({'request':_0x4f5363,'schema':null,'ClassRef':M,'execute':_0x350fb9=>de[_0x286a4a(0x8c2)](_0x350fb9)});return _0xbb5945['status'](0xc8)[_0x286a4a(0x71b)](_0x5696da);})[_0x2b25b6(0x544)](this['routerPath'](_0x2b25b6(0x7ed)),..._0x5054f6,async(_0x1395b9,_0x104eed)=>{const _0x35950e=_0x2b25b6;let _0xee3075=await this['dataValidate']({'request':_0x1395b9,'schema':N,'ClassRef':M,'execute':_0x5a6312=>de[_0x35950e(0x7ed)](_0x5a6312)});return _0x104eed[_0x35950e(0x3d9)](0xc8)[_0x35950e(0x71b)](_0xee3075);})['delete'](this[_0x2b25b6(0x48e)]('delete'),..._0x5054f6,async(_0xd7f998,_0x2e7fd0)=>{const _0x4d1719=_0x2b25b6;let _0x23c328=await this['dataValidate']({'request':_0xd7f998,'schema':N,'ClassRef':M,'execute':_0x371be7=>de[_0x4d1719(0x2dd)](_0x371be7)});return _0x2e7fd0[_0x4d1719(0x3d9)](0xc8)[_0x4d1719(0x71b)](_0x23c328);});}},yi=require('express'),Is=class{},z=class extends Is{},Mt=class extends z{},Ct=class extends z{},Et=class extends z{},vt=class extends z{},Pe=class extends z{},Nt=class extends z{},$t=class extends z{},Rt=class extends z{},At=class extends z{},It=class extends z{},Tt=class{},Ot=class extends G{constructor(..._0xedc906){const _0x4b8678=a0_0x1955e1;super(),this[_0x4b8678(0x1dd)]=(0x0,yi['Router'])(),this['router'][_0x4b8678(0x56b)](this['routerPath'](_0x4b8678(0x672)),..._0xedc906,async(_0x51bf3e,_0x358f0c)=>{const _0xc47f72=_0x4b8678;let _0x2f6702=await this[_0xc47f72(0x65b)]({'request':_0x51bf3e,'schema':ka,'ClassRef':Mt,'execute':(_0x51606d,_0x21e45b)=>W['sendText'](_0x51606d,_0x21e45b)});return _0x358f0c[_0xc47f72(0x3d9)](0xc9)[_0xc47f72(0x71b)](_0x2f6702);})[_0x4b8678(0x56b)](this['routerPath'](_0x4b8678(0x27b)),..._0xedc906,async(_0x2bf515,_0xa23e57)=>{const _0x3e3edf=_0x4b8678;let _0x3470d9=await this[_0x3e3edf(0x65b)]({'request':_0x2bf515,'schema':ja,'ClassRef':Pe,'execute':(_0x50ae9a,_0x30e903)=>W['sendMedia'](_0x50ae9a,_0x30e903)});return _0xa23e57[_0x3e3edf(0x3d9)](0xc9)[_0x3e3edf(0x71b)](_0x3470d9);})[_0x4b8678(0x56b)](this[_0x4b8678(0x48e)]('sendMenu'),..._0xedc906,async(_0x346260,_0x1a6e8a)=>{const _0x4f1ded=_0x4b8678;let _0x3661e0=await this[_0x4f1ded(0x65b)]({'request':_0x346260,'schema':Va,'ClassRef':vt,'execute':(_0x4b1b09,_0x5bb14e)=>W[_0x4f1ded(0x229)](_0x4b1b09,_0x5bb14e)});return _0x1a6e8a[_0x4f1ded(0x3d9)](0xc9)[_0x4f1ded(0x71b)](_0x3661e0);})[_0x4b8678(0x56b)](this[_0x4b8678(0x48e)](_0x4b8678(0x21c)),..._0xedc906,async(_0x2dbdb8,_0x47a78)=>{const _0x319de2=_0x4b8678;let _0x4d49e4=await this['dataValidate']({'request':_0x2dbdb8,'schema':Ja,'ClassRef':Pe,'execute':(_0x213c78,_0x2e2501)=>W[_0x319de2(0x21c)](_0x213c78,_0x2e2501)});return _0x47a78['status'](0xc9)[_0x319de2(0x71b)](_0x4d49e4);})[_0x4b8678(0x56b)](this['routerPath']('sendButtons'),..._0xedc906,async(_0x61eff3,_0x662fac)=>{const _0x2c9281=_0x4b8678;let _0x58eef8=await this['dataValidate']({'request':_0x61eff3,'schema':Ga,'ClassRef':$t,'execute':(_0x84c2c8,_0x4b84e2)=>W[_0x2c9281(0x820)](_0x84c2c8,_0x4b84e2)});return _0x662fac[_0x2c9281(0x3d9)](0xc9)[_0x2c9281(0x71b)](_0x58eef8);})[_0x4b8678(0x56b)](this['routerPath'](_0x4b8678(0x294)),..._0xedc906,async(_0x39bdb1,_0x14855e)=>{const _0x11108b=_0x4b8678;let _0x205f82=await this[_0x11108b(0x65b)]({'request':_0x39bdb1,'schema':Ba,'ClassRef':Rt,'execute':(_0x59674a,_0xf52611)=>W['sendLocation'](_0x59674a,_0xf52611)});return _0x14855e[_0x11108b(0x3d9)](0xc9)[_0x11108b(0x71b)](_0x205f82);})['post'](this[_0x4b8678(0x48e)](_0x4b8678(0x2b4)),..._0xedc906,async(_0x12a30f,_0x4ba474)=>{const _0x1b2b5d=_0x4b8678;let _0x5381fc=await this['dataValidate']({'request':_0x12a30f,'schema':Wa,'ClassRef':At,'execute':(_0x4a7d54,_0x21958f)=>W['sendList'](_0x4a7d54,_0x21958f)});return _0x4ba474[_0x1b2b5d(0x3d9)](0xc9)[_0x1b2b5d(0x71b)](_0x5381fc);})['post'](this['routerPath'](_0x4b8678(0x1ac)),..._0xedc906,async(_0x4d3e6d,_0x45cb5f)=>{const _0x57fa66=_0x4b8678;let _0x55d3fb=await this[_0x57fa66(0x65b)]({'request':_0x4d3e6d,'schema':za,'ClassRef':It,'execute':(_0xb0303,_0x56e3b2)=>W[_0x57fa66(0x1ac)](_0xb0303,_0x56e3b2)});return _0x45cb5f[_0x57fa66(0x3d9)](0xc9)[_0x57fa66(0x71b)](_0x55d3fb);})[_0x4b8678(0x56b)](this[_0x4b8678(0x48e)]('sendReaction'),..._0xedc906,async(_0x3a2cda,_0x37ceb3)=>{const _0x190948=_0x4b8678;let _0x2bbafc=await this[_0x190948(0x65b)]({'request':_0x3a2cda,'schema':Ha,'ClassRef':Tt,'execute':(_0x4d09b3,_0xa06343)=>W[_0x190948(0x712)](_0x4d09b3,_0xa06343)});return _0x37ceb3[_0x190948(0x3d9)](0xc9)[_0x190948(0x71b)](_0x2bbafc);})['post'](this[_0x4b8678(0x48e)]('sendPoll'),..._0xedc906,async(_0x411d7e,_0x54be54)=>{const _0x3f3800=_0x4b8678;let _0x108807=await this['dataValidate']({'request':_0x411d7e,'schema':qa,'ClassRef':Et,'execute':(_0x342436,_0x4ce1a6)=>W[_0x3f3800(0x430)](_0x342436,_0x4ce1a6)});return _0x54be54[_0x3f3800(0x3d9)](0xc9)[_0x3f3800(0x71b)](_0x108807);})[_0x4b8678(0x56b)](this[_0x4b8678(0x48e)](_0x4b8678(0x674)),..._0xedc906,async(_0x527137,_0x6368f8)=>{const _0x512856=_0x4b8678;let _0x2f87be=await this['dataValidate']({'request':_0x527137,'schema':Ua,'ClassRef':Ct,'execute':(_0x3609f9,_0x259e14)=>W['sendStatus'](_0x3609f9,_0x259e14)});return _0x6368f8[_0x512856(0x3d9)](0xc9)[_0x512856(0x71b)](_0x2f87be);})['post'](this[_0x4b8678(0x48e)](_0x4b8678(0x207)),..._0xedc906,async(_0x587efb,_0x51096e)=>{const _0x288193=_0x4b8678;let _0x25fee5=await this['dataValidate']({'request':_0x587efb,'schema':Fa,'ClassRef':Nt,'execute':(_0x267400,_0x5e8815)=>W[_0x288193(0x207)](_0x267400,_0x5e8815)});return _0x51096e['status'](0xc9)[_0x288193(0x71b)](_0x25fee5);});}},bi=require(a0_0x1955e1(0x6d0)),_t=class{},xt=class extends G{constructor(..._0x455f75){const _0x51e669=a0_0x1955e1;super(),this['router']=(0x0,bi[_0x51e669(0x6e5)])(),this[_0x51e669(0x1dd)][_0x51e669(0x56b)](this[_0x51e669(0x48e)](_0x51e669(0x7de)),..._0x455f75,async(_0x508e86,_0xcff722)=>{const _0x2c6c33=_0x51e669;let _0xc99f37=await this[_0x2c6c33(0x65b)]({'request':_0x508e86,'schema':gi,'ClassRef':_t,'execute':(_0xccab9f,_0x3ecb66)=>Ts['createWebhook'](_0xccab9f,_0x3ecb66)});_0xcff722[_0x2c6c33(0x3d9)](0xc9)[_0x2c6c33(0x71b)](_0xc99f37);})[_0x51e669(0x7be)](this[_0x51e669(0x48e)](_0x51e669(0x6d3)),..._0x455f75,async(_0x4f18be,_0x1f3454)=>{const _0x3488b5=_0x51e669;let _0xf920fb=await this['dataValidate']({'request':_0x4f18be,'schema':N,'ClassRef':M,'execute':_0x559c10=>Ts[_0x3488b5(0x1d4)](_0x559c10)});_0x1f3454['status'](0xc8)[_0x3488b5(0x71b)](_0xf920fb);});}},Si=require(a0_0x1955e1(0x6d0)),y=new $(a0_0x1955e1(0x393)),Dt=class extends G{constructor(..._0x3451d4){const _0x33456d=a0_0x1955e1;super(),this[_0x33456d(0x1dd)]=(0x0,Si['Router'])(),this[_0x33456d(0x1dd)][_0x33456d(0x56b)](this[_0x33456d(0x48e)]('scheduleMessage'),..._0x3451d4,async(_0x3e01e9,_0x7132a2)=>{const _0x1c0b75=_0x33456d;let _0x2b20e2=_0x3e01e9[_0x1c0b75(0x55f)];y[_0x1c0b75(0x2b1)](_0x1c0b75(0x338)),y[_0x1c0b75(0x2b1)]('request\x20body:\x20'),y[_0x1c0b75(0x2b1)](_0x3e01e9[_0x1c0b75(0x55f)]);let _0x473a87=await this[_0x1c0b75(0x65b)]({'request':_0x3e01e9,'schema':N,'ClassRef':M,'execute':_0x29c67a=>T[_0x1c0b75(0x5aa)](_0x29c67a,_0x2b20e2)});_0x7132a2[_0x1c0b75(0x3d9)](0xc8)['json'](_0x473a87);})[_0x33456d(0x7be)](this[_0x33456d(0x48e)]('scheduleMessage'),..._0x3451d4,async(_0x5aa42b,_0x1c13d4)=>{const _0x1ebb7d=_0x33456d;let _0x3499ad=await this['dataValidate']({'request':_0x5aa42b,'schema':N,'ClassRef':M,'execute':_0x3ce495=>T[_0x1ebb7d(0x6da)](_0x3ce495)});_0x1c13d4[_0x1ebb7d(0x3d9)](0xc8)[_0x1ebb7d(0x71b)](_0x3499ad);})['delete'](this[_0x33456d(0x48e)]('deleteDoneMessages'),..._0x3451d4,async(_0x5399bf,_0x4fd350)=>{const _0xd2cb24=_0x33456d;y[_0xd2cb24(0x2b1)](_0xd2cb24(0x322));let _0x40043c=await this['dataValidate']({'request':_0x5399bf,'schema':N,'ClassRef':M,'execute':_0xe86906=>T[_0xd2cb24(0x3d1)](_0xe86906)});_0x4fd350[_0xd2cb24(0x3d9)](0xc8)['json'](_0x40043c);})[_0x33456d(0x56b)](this['routerPath'](_0x33456d(0x747)),..._0x3451d4,async(_0xc0564a,_0x4c53c3)=>{const _0x23be3a=_0x33456d;let _0x5e5930=_0xc0564a['body'];y['verbose'](_0x23be3a(0x774)),y[_0x23be3a(0x2b1)](_0x23be3a(0x4ae)),y['verbose'](_0xc0564a['body']);let _0x282ad3=await this[_0x23be3a(0x65b)]({'request':_0xc0564a,'schema':N,'ClassRef':M,'execute':_0x3e7ee3=>T[_0x23be3a(0x747)](_0x3e7ee3,_0x5e5930)});_0x4c53c3[_0x23be3a(0x3d9)](0xc8)[_0x23be3a(0x71b)](_0x282ad3);})[_0x33456d(0x7be)](this[_0x33456d(0x48e)]('getAutomateSystem'),..._0x3451d4,async(_0x5eedd2,_0x4319d5)=>{const _0xc97dd8=_0x33456d;y[_0xc97dd8(0x2b1)](_0xc97dd8(0x696));let _0x4bea5b=await this['dataValidate']({'request':_0x5eedd2,'schema':N,'ClassRef':M,'execute':_0x424e6f=>T[_0xc97dd8(0x4e0)](_0x424e6f)});_0x4319d5['status'](0xc8)['json'](_0x4bea5b);})[_0x33456d(0x7be)](this['routerPath']('getTicketSystem'),..._0x3451d4,async(_0x161bcd,_0x298c2a)=>{const _0x61f707=_0x33456d;y[_0x61f707(0x2b1)](_0x61f707(0x20d));let _0x2ac31a=await this['dataValidate']({'request':_0x161bcd,'schema':N,'ClassRef':M,'execute':_0x4a3b17=>T[_0x61f707(0x4e0)](_0x4a3b17)});_0x298c2a[_0x61f707(0x3d9)](0xc8)[_0x61f707(0x71b)](_0x2ac31a);})[_0x33456d(0x56b)](this[_0x33456d(0x48e)](_0x33456d(0x67f)),..._0x3451d4,async(_0x2fe258,_0x4b12d6)=>{const _0x3f55b8=_0x33456d;let _0x1f7db2=_0x2fe258[_0x3f55b8(0x55f)];y['verbose'](_0x3f55b8(0x397)),y[_0x3f55b8(0x2b1)](_0x3f55b8(0x4ae)),y['verbose'](_0x2fe258['body']);let _0x36f96d=await this[_0x3f55b8(0x65b)]({'request':_0x2fe258,'schema':N,'ClassRef':M,'execute':_0x131e78=>T[_0x3f55b8(0x67f)](_0x131e78,_0x1f7db2)});_0x4b12d6[_0x3f55b8(0x3d9)](0xc8)[_0x3f55b8(0x71b)](_0x36f96d);})[_0x33456d(0x56b)](this[_0x33456d(0x48e)](_0x33456d(0x43d)),..._0x3451d4,async(_0x679f01,_0x2e167a)=>{const _0x34864d=_0x33456d;let _0x162023=_0x679f01[_0x34864d(0x55f)];y[_0x34864d(0x2b1)]('request\x20received\x20in\x20updateCustomFields'),y['verbose'](_0x34864d(0x4ae)),y['verbose'](_0x679f01[_0x34864d(0x55f)]);let _0x3ec935=await this[_0x34864d(0x65b)]({'request':_0x679f01,'schema':N,'ClassRef':M,'execute':_0x4e571a=>T['updateCustomFields'](_0x4e571a,_0x162023)});_0x2e167a['status'](0xc8)['json'](_0x3ec935);})[_0x33456d(0x56b)](this[_0x33456d(0x48e)](_0x33456d(0x187)),..._0x3451d4,async(_0x2946c2,_0xed201)=>{const _0x140eed=_0x33456d;let _0x45eaba=_0x2946c2['body'];y[_0x140eed(0x2b1)]('request\x20received\x20in\x20updateAutoCompleteMessages'),y[_0x140eed(0x2b1)](_0x140eed(0x4ae)),y[_0x140eed(0x2b1)](_0x2946c2[_0x140eed(0x55f)]);let _0x4793d0=await this['dataValidate']({'request':_0x2946c2,'schema':N,'ClassRef':M,'execute':_0x43ba0a=>T[_0x140eed(0x187)](_0x43ba0a,_0x45eaba)});_0xed201[_0x140eed(0x3d9)](0xc8)[_0x140eed(0x71b)](_0x4793d0);})['post'](this[_0x33456d(0x48e)](_0x33456d(0x2bb)),..._0x3451d4,async(_0x4dacdc,_0x18464e)=>{const _0x30a3dc=_0x33456d;let _0x3ba661=_0x4dacdc[_0x30a3dc(0x55f)];y[_0x30a3dc(0x2b1)](_0x30a3dc(0x3b9)),y['verbose'](_0x30a3dc(0x4ae)),y[_0x30a3dc(0x2b1)](_0x4dacdc[_0x30a3dc(0x55f)]);let _0x5429f8=await this[_0x30a3dc(0x65b)]({'request':_0x4dacdc,'schema':N,'ClassRef':M,'execute':_0x333b06=>T[_0x30a3dc(0x2bb)](_0x333b06,_0x3ba661)});_0x18464e[_0x30a3dc(0x3d9)](0xc8)[_0x30a3dc(0x71b)](_0x5429f8);})[_0x33456d(0x56b)](this['routerPath']('getConversation'),..._0x3451d4,async(_0x1c6dc6,_0x5bcc5a)=>{const _0x5afe2c=_0x33456d;let _0x1f6dee=_0x1c6dc6[_0x5afe2c(0x55f)];y[_0x5afe2c(0x2b1)]('request\x20received\x20in\x20getConversation'),y[_0x5afe2c(0x2b1)]('request\x20body:\x20'),y[_0x5afe2c(0x2b1)](_0x1c6dc6[_0x5afe2c(0x55f)]);let _0x414192=await this[_0x5afe2c(0x65b)]({'request':_0x1c6dc6,'schema':N,'ClassRef':M,'execute':_0x310e70=>T[_0x5afe2c(0x7c2)](_0x310e70,_0x1f6dee)});_0x5bcc5a[_0x5afe2c(0x3d9)](0xc8)[_0x5afe2c(0x71b)](_0x414192);})[_0x33456d(0x56b)](this[_0x33456d(0x48e)](_0x33456d(0x67e)),..._0x3451d4,async(_0x1fb567,_0x758477)=>{const _0x41be82=_0x33456d;let _0x56003a=_0x1fb567[_0x41be82(0x55f)];y['verbose'](_0x41be82(0x37d)),y['verbose'](_0x41be82(0x4ae)),y[_0x41be82(0x2b1)](_0x1fb567['body']);let _0x3a7e0b=await this['dataValidate']({'request':_0x1fb567,'schema':N,'ClassRef':M,'execute':_0x91c5eb=>T['fetchConversation'](_0x91c5eb,_0x56003a)});_0x758477['status'](0xc8)['json'](_0x3a7e0b);})[_0x33456d(0x56b)](this[_0x33456d(0x48e)](_0x33456d(0x49b)),..._0x3451d4,async(_0x2130f3,_0x45a288)=>{const _0x1ad735=_0x33456d;let _0x2857e1=_0x2130f3[_0x1ad735(0x55f)];y['verbose'](_0x1ad735(0x2da)),y['verbose']('request\x20body:\x20'),y[_0x1ad735(0x2b1)](_0x2130f3['body']);let _0x57ea8c=await this[_0x1ad735(0x65b)]({'request':_0x2130f3,'schema':N,'ClassRef':M,'execute':_0x5312e1=>T[_0x1ad735(0x49b)](_0x5312e1,_0x2857e1)});_0x45a288[_0x1ad735(0x3d9)](0xc8)[_0x1ad735(0x71b)](_0x57ea8c);})['delete'](this['routerPath']('deleteConversation'),..._0x3451d4,async(_0x4d6106,_0x29755f)=>{const _0x2c277a=_0x33456d;let _0x20e889=_0x4d6106[_0x2c277a(0x55f)];y[_0x2c277a(0x2b1)]('request\x20received\x20in\x20deleteConversation'),y['verbose'](_0x2c277a(0x4ae)),y[_0x2c277a(0x2b1)](_0x4d6106['body']);let _0x421e08=await this[_0x2c277a(0x65b)]({'request':_0x4d6106,'schema':N,'ClassRef':M,'execute':_0x42e240=>T[_0x2c277a(0x275)](_0x42e240,_0x20e889)});_0x29755f[_0x2c277a(0x3d9)](0xc8)['json'](_0x421e08);})['post'](this[_0x33456d(0x48e)](_0x33456d(0x497)),..._0x3451d4,async(_0x1cece5,_0x693c11)=>{const _0x26db7f=_0x33456d;let _0x137c4a=_0x1cece5[_0x26db7f(0x55f)],_0xbd3921=_0x1cece5[_0x26db7f(0x525)]['apikey'];y[_0x26db7f(0x2b1)](_0x26db7f(0x6f3)),y[_0x26db7f(0x2b1)](_0x26db7f(0x4ae)),y[_0x26db7f(0x2b1)](_0x1cece5[_0x26db7f(0x55f)]);let _0xf95398=await this['dataValidate']({'request':_0x1cece5,'schema':N,'ClassRef':M,'execute':_0x2653bb=>T[_0x26db7f(0x1e9)](_0x2653bb,_0x137c4a,_0xbd3921)});_0x693c11['status'](0xc8)[_0x26db7f(0x71b)](_0xf95398);})[_0x33456d(0x56b)](this[_0x33456d(0x48e)](_0x33456d(0x699)),..._0x3451d4,async(_0x325e72,_0x49e476)=>{const _0x2603a7=_0x33456d;let _0x2cb12a=_0x325e72['body'],_0x3ce968=_0x325e72['headers']['apikey'];y[_0x2603a7(0x2b1)]('request\x20received\x20in\x20editFlow'),y[_0x2603a7(0x2b1)](_0x2603a7(0x4ae)),y['verbose'](_0x325e72[_0x2603a7(0x55f)]),delete _0x2cb12a[_0x2603a7(0x36b)],delete _0x2cb12a[_0x2603a7(0x24e)],delete _0x2cb12a['groups'],delete _0x2cb12a[_0x2603a7(0x4af)];let _0x391f76=await this[_0x2603a7(0x65b)]({'request':_0x325e72,'schema':N,'ClassRef':M,'execute':_0x3b36b4=>T[_0x2603a7(0x6fe)](_0x3b36b4,_0x2cb12a,_0x3ce968)});_0x49e476[_0x2603a7(0x3d9)](0xc8)[_0x2603a7(0x71b)](_0x391f76);})[_0x33456d(0x56b)](this[_0x33456d(0x48e)](_0x33456d(0x346)),..._0x3451d4,async(_0x3e6001,_0x3d4313)=>{const _0x33e58b=_0x33456d;let _0x21ac42=_0x3e6001[_0x33e58b(0x55f)];y[_0x33e58b(0x2b1)](_0x33e58b(0x816)),y[_0x33e58b(0x2b1)](_0x33e58b(0x4ae)),y[_0x33e58b(0x2b1)](_0x3e6001['body']);let _0x5dc564=await this[_0x33e58b(0x65b)]({'request':_0x3e6001,'schema':N,'ClassRef':M,'execute':_0x147439=>T[_0x33e58b(0x448)](_0x147439,_0x21ac42)});_0x3d4313['status'](0xc8)['json'](_0x5dc564);})['post'](this[_0x33456d(0x48e)](_0x33456d(0x476)),..._0x3451d4,async(_0x54abbd,_0x8b9d2f)=>{const _0x27939a=_0x33456d;let _0x5971fe=_0x54abbd[_0x27939a(0x55f)];y[_0x27939a(0x2b1)]('request\x20received\x20in\x20editFlow'),y['verbose']('request\x20body:\x20'),y[_0x27939a(0x2b1)](_0x54abbd['body']);let _0x18572d=await this[_0x27939a(0x65b)]({'request':_0x54abbd,'schema':N,'ClassRef':M,'execute':_0x23a540=>T[_0x27939a(0x4e6)](_0x23a540,_0x5971fe)});_0x8b9d2f[_0x27939a(0x3d9)](0xc8)['json'](_0x18572d);})[_0x33456d(0x56b)](this[_0x33456d(0x48e)](_0x33456d(0x7c9)),..._0x3451d4,async(_0x1e8bd8,_0xab679b)=>{const _0x10cd09=_0x33456d;let _0xb25937=_0x1e8bd8[_0x10cd09(0x55f)];y[_0x10cd09(0x2b1)](_0x10cd09(0x816)),y[_0x10cd09(0x2b1)](_0x10cd09(0x4ae)),y[_0x10cd09(0x2b1)](_0x1e8bd8[_0x10cd09(0x55f)]);let _0xa50496=await this[_0x10cd09(0x65b)]({'request':_0x1e8bd8,'schema':N,'ClassRef':M,'execute':_0x1ae4c3=>T['editFlowVaredit'](_0x1ae4c3,_0xb25937)});_0xab679b[_0x10cd09(0x3d9)](0xc8)['json'](_0xa50496);})[_0x33456d(0x56b)](this['routerPath'](_0x33456d(0x5fc)),..._0x3451d4,async(_0x427acb,_0x5d9c75)=>{const _0x145d24=_0x33456d;let _0x707c25=_0x427acb[_0x145d24(0x55f)];y['verbose'](_0x145d24(0x459)),y[_0x145d24(0x2b1)](_0x145d24(0x4ae)),y[_0x145d24(0x2b1)](_0x427acb[_0x145d24(0x55f)]);let _0x5885e2=await this[_0x145d24(0x65b)]({'request':_0x427acb,'schema':N,'ClassRef':M,'execute':_0x38e475=>T[_0x145d24(0x6f6)](_0x38e475,_0x707c25)});_0x5d9c75[_0x145d24(0x3d9)](0xc8)[_0x145d24(0x71b)](_0x5885e2);})[_0x33456d(0x56b)](this[_0x33456d(0x48e)](_0x33456d(0x50b)),..._0x3451d4,async(_0x4183d5,_0x3eed4e)=>{const _0x292ad9=_0x33456d;let _0x1d0aa0=_0x4183d5[_0x292ad9(0x55f)];y[_0x292ad9(0x2b1)](_0x292ad9(0x28c)),y[_0x292ad9(0x2b1)](_0x292ad9(0x4ae)),y['verbose'](_0x4183d5[_0x292ad9(0x55f)]);let _0x1a53d3=await this[_0x292ad9(0x65b)]({'request':_0x4183d5,'schema':N,'ClassRef':M,'execute':_0x184bbe=>T[_0x292ad9(0x1c7)](_0x184bbe,_0x1d0aa0)});_0x3eed4e['status'](0xc8)['json'](_0x1a53d3);})[_0x33456d(0x56b)](this[_0x33456d(0x48e)]('editflowvariable'),..._0x3451d4,async(_0x282305,_0xa162f4)=>{const _0x3ff184=_0x33456d;let _0x1a1b05=_0x282305[_0x3ff184(0x55f)];y[_0x3ff184(0x2b1)](_0x3ff184(0x739)),y[_0x3ff184(0x2b1)](_0x3ff184(0x4ae)),y['verbose'](_0x282305['body']);let _0x10cde9=await this[_0x3ff184(0x65b)]({'request':_0x282305,'schema':N,'ClassRef':M,'execute':_0x5c8e4c=>T[_0x3ff184(0x3a2)](_0x5c8e4c,_0x1a1b05)});_0xa162f4['status'](0xc8)['json'](_0x10cde9);})['post'](this[_0x33456d(0x48e)](_0x33456d(0x270)),..._0x3451d4,async(_0x2c75ab,_0x2232ae)=>{const _0x2f9d3b=_0x33456d;let _0x290455=_0x2c75ab[_0x2f9d3b(0x55f)];y['verbose'](_0x2f9d3b(0x837)),y['verbose'](_0x2f9d3b(0x4ae)),y['verbose'](_0x2c75ab[_0x2f9d3b(0x55f)]);let _0x5ead97=await this['dataValidate']({'request':_0x2c75ab,'schema':N,'ClassRef':M,'execute':_0x476d90=>T[_0x2f9d3b(0x227)](_0x476d90,_0x290455)});_0x2232ae[_0x2f9d3b(0x3d9)](0xc8)[_0x2f9d3b(0x71b)](_0x5ead97);})[_0x33456d(0x544)](this['routerPath'](_0x33456d(0x204)),..._0x3451d4,async(_0x4550e0,_0x1e7ff1)=>{const _0x228cf7=_0x33456d;let _0x30a5db=_0x4550e0[_0x228cf7(0x55f)];y[_0x228cf7(0x2b1)](_0x228cf7(0x807)),y[_0x228cf7(0x2b1)](_0x228cf7(0x4ae)),y[_0x228cf7(0x2b1)](_0x4550e0[_0x228cf7(0x55f)]);let _0x37825c=await this[_0x228cf7(0x65b)]({'request':_0x4550e0,'schema':N,'ClassRef':M,'execute':_0x227ef3=>T[_0x228cf7(0x569)](_0x227ef3,_0x30a5db)});_0x1e7ff1['status'](0xc8)[_0x228cf7(0x71b)](_0x37825c);})[_0x33456d(0x7be)](this[_0x33456d(0x48e)](_0x33456d(0x3fa)),..._0x3451d4,async(_0x98e8de,_0x5178e1)=>{const _0x16c59c=_0x33456d;y[_0x16c59c(0x2b1)]('request\x20received\x20in\x20allFlows');let _0x2505aa=await this[_0x16c59c(0x65b)]({'request':_0x98e8de,'schema':N,'ClassRef':M,'execute':_0x5a5846=>T[_0x16c59c(0x870)](_0x5a5846)});_0x5178e1[_0x16c59c(0x3d9)](0xc8)['json'](_0x2505aa);});}},vi=A(require(a0_0x1955e1(0x65e))),ae={};function Mi(_0x1a2732,_0x120ad6,_0x1370d9,_0x1f0c1d){ae[_0x1a2732]||(ae[_0x1a2732]={}),ae[_0x1a2732][_0x120ad6]={'id':_0x120ad6,'response':_0x1370d9,'events':_0x1f0c1d};}function Ci(_0x2bc280,_0x26b615){!ae[_0x2bc280]||!ae[_0x2bc280][_0x26b615]||delete ae[_0x2bc280][_0x26b615];}function j(_0x2e454e,_0x532cc9,_0xd66866){const _0x1c2b4e=a0_0x1955e1;if(!ae[_0x2e454e])return;let _0x1c15cb=_0x1c2b4e(0x5e7)+JSON[_0x1c2b4e(0x36f)](_0xd66866)+'\x0a\x0a';Object['values'](ae[_0x2e454e])['forEach'](_0x2effb2=>{const _0xd8cd79=_0x1c2b4e;_0x2effb2[_0xd8cd79(0x5d3)][_0xd8cd79(0x718)](_0x532cc9)&&_0x2effb2[_0xd8cd79(0x7e0)][_0xd8cd79(0x342)](_0x1c15cb);});}function Ei(){const _0x1686ac=a0_0x1955e1;let _0x444d8c={};for(let _0x2b7b92 in ae)_0x444d8c[_0x2b7b92]=Object['values'](ae[_0x2b7b92])['map'](_0x26ad4c=>({'id':_0x26ad4c['id'],'events':_0x26ad4c[_0x1686ac(0x5d3)]}));return _0x444d8c;}var Ni=require('uuid'),_s=require(a0_0x1955e1(0x21b)),Os=class{},_o=new _s[(a0_0x1955e1(0x253))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),xo=new _s['Schema']({'_id':{'type':String,'default':a0_0x1955e1(0x1f4)},'WebhookGlobal':{'type':_o},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ee=R?.['model'](Os[a0_0x1955e1(0x543)],xo,a0_0x1955e1(0x244)),Do=vi[a0_0x1955e1(0x36d)]['join'](__dirname,a0_0x1955e1(0x627)),ke=(0x0,Pt['Router'])(),Po=b[a0_0x1955e1(0x7be)]('AUTHENTICATION')[a0_0x1955e1(0x51d)],ne=[Ta,Oa,Da[Po]];ke[a0_0x1955e1(0x405)](a0_0x1955e1(0x298),Pt['default'][a0_0x1955e1(0x3a8)](Do))[a0_0x1955e1(0x7be)]('/events/:instance',async(_0x14e9e7,_0x416f48)=>{const _0x4493ca=a0_0x1955e1;console[_0x4493ca(0x538)]('bateu\x20events');let _0x241d4e=_0x14e9e7[_0x4493ca(0x3bc)]['instance'],_0xbdf5c5=(_0x14e9e7['query'][_0x4493ca(0x5d3)]||'')[_0x4493ca(0x3ff)](','),_0x1a98c8=(0x0,Ni['v4'])();console[_0x4493ca(0x538)](_0x4493ca(0x591),_0x241d4e),console[_0x4493ca(0x538)](_0x4493ca(0x411),_0xbdf5c5);let _0x47ffc4=b[_0x4493ca(0x7be)]('AUTHENTICATION')[_0x4493ca(0x6ab)],_0x5b9104=_0x14e9e7['query']['apikey'];if(console[_0x4493ca(0x538)](_0x4493ca(0x249),_0x5b9104),_0x47ffc4[_0x4493ca(0x8b0)]!==_0x5b9104){console[_0x4493ca(0x538)]('env.KEY\x20!==\x20key');try{let _0x3bdff7=await we[_0x4493ca(0x2e4)][_0x4493ca(0x6d3)](_0x241d4e);if(console[_0x4493ca(0x538)]('Instance\x20Key\x20from\x20DB:',_0x3bdff7),!_0x3bdff7||_0x3bdff7[_0x4493ca(0x610)]!==_0x5b9104)return console[_0x4493ca(0x538)](_0x4493ca(0x58e)),_0x416f48[_0x4493ca(0x3d9)](0x191)[_0x4493ca(0x19e)](_0x4493ca(0x779));}catch(_0x2cbf9a){return console[_0x4493ca(0x2e7)](_0x4493ca(0x8be),_0x2cbf9a),_0x416f48[_0x4493ca(0x3d9)](0x191)[_0x4493ca(0x19e)](_0x4493ca(0x307));}}if(!await Oe(_0x241d4e))return _0x416f48[_0x4493ca(0x3d9)](0x194)[_0x4493ca(0x19e)](_0x4493ca(0x254));_0x416f48[_0x4493ca(0x667)](_0x4493ca(0x60b),_0x4493ca(0x3ca)),_0x416f48['setHeader']('Cache-Control','no-cache'),_0x416f48['setHeader'](_0x4493ca(0x68f),_0x4493ca(0x5c2)),_0x416f48['flushHeaders']();let _0x152076=_0x4493ca(0x5e7)+JSON[_0x4493ca(0x36f)]({'info':_0x4493ca(0x4f8)})+'\x0a\x0a';_0x416f48[_0x4493ca(0x342)](_0x152076),Mi(_0x241d4e,_0x1a98c8,_0x416f48,_0xbdf5c5),_0x14e9e7['on'](_0x4493ca(0x4ce),()=>{const _0x527d9f=_0x4493ca;console[_0x527d9f(0x538)]('Connection\x20closed\x20for\x20instance:\x20'+_0x241d4e),Ci(_0x241d4e,_0x1a98c8);});}),ke['post'](a0_0x1955e1(0x35f),async(_0x1ddb3f,_0x2b61be)=>{const _0x4d4ca7=a0_0x1955e1;console[_0x4d4ca7(0x538)](_0x4d4ca7(0x313));let _0x1504fd=_0x1ddb3f[_0x4d4ca7(0x3bc)][_0x4d4ca7(0x60a)],_0x2b94a2=_0x1ddb3f[_0x4d4ca7(0x3bc)][_0x4d4ca7(0x689)],_0x59a759=_0x1ddb3f[_0x4d4ca7(0x4d8)][_0x4d4ca7(0x8a0)]||'',_0x38bad8=_0x1ddb3f[_0x4d4ca7(0x55f)];console[_0x4d4ca7(0x538)](_0x4d4ca7(0x7e2),_0x1504fd),console[_0x4d4ca7(0x538)](_0x4d4ca7(0x7eb),_0x2b94a2),console['log'](_0x4d4ca7(0x527),_0x59a759),console[_0x4d4ca7(0x538)](_0x4d4ca7(0x7f0),_0x38bad8);try{if(!await Oe(_0x1504fd))return _0x2b61be[_0x4d4ca7(0x3d9)](0x194)[_0x4d4ca7(0x19e)](_0x4d4ca7(0x254));let _0x124d38=await T[_0x4d4ca7(0x867)](_0x1504fd,_0x2b94a2,_0x59a759,_0x38bad8);_0x2b61be['send'](_0x124d38);}catch(_0x536041){console[_0x4d4ca7(0x2e7)](_0x536041),_0x2b61be[_0x4d4ca7(0x3d9)](0x1f4)[_0x4d4ca7(0x19e)](_0x4d4ca7(0x59c));}}),ke[a0_0x1955e1(0x7be)]('/clients-info',(_0x2664fb,_0x4477e7)=>{const _0x19505d=a0_0x1955e1;let _0x3cd7bc=Ei();_0x4477e7[_0x19505d(0x71b)](_0x3cd7bc);})[a0_0x1955e1(0x7be)]('/',(_0x5814c2,_0x435ad3)=>{const _0x53e07e=a0_0x1955e1;let _0x459faf=b['get']('SERVER')[_0x53e07e(0x854)];if(_0x459faf){let _0x4d3a9a=encodeURIComponent(''+_0x459faf);_0x435ad3['redirect'](_0x53e07e(0x578)+_0x4d3a9a);return;}let _0x28c6db=b[_0x53e07e(0x7be)](_0x53e07e(0x671)),_0x2dfbd3=_0x28c6db&&_0x28c6db['FULLCHAIN'][_0x53e07e(0x3ff)]('/')[0x4];if(_0x2dfbd3){let _0x2b2ef9=encodeURIComponent('https://'+_0x2dfbd3);_0x435ad3[_0x53e07e(0x349)](_0x53e07e(0x578)+_0x2b2ef9);}else _0x435ad3[_0x53e07e(0x349)](_0x53e07e(0x3fd));})[a0_0x1955e1(0x295)]('/exit',...ne,async(_0x311d73,_0xa90fe4)=>{const _0x269eab=a0_0x1955e1;try{console[_0x269eab(0x538)](_0x269eab(0x8a2)),_0xa90fe4[_0x269eab(0x3d9)](0xc8)[_0x269eab(0x71b)]({'message':_0x269eab(0x644)}),_0xa90fe4['on']('finish',()=>process['exit'](0x0));}catch(_0x1b07b6){console[_0x269eab(0x2e7)](_0x269eab(0x74f),_0x1b07b6),_0xa90fe4[_0x269eab(0x3d9)](0x1f4)[_0x269eab(0x71b)]({'message':_0x269eab(0x8c6)});}})[a0_0x1955e1(0x295)](a0_0x1955e1(0x246),...ne,async(_0x8d3280,_0x1d1e4a)=>{const _0x1e0fc6=a0_0x1955e1;try{let _0x51e505=_0x8d3280[_0x1e0fc6(0x55f)];await Ee[_0x1e0fc6(0x400)]({},{'$set':_0x51e505},{'upsert':!0x0});let _0x28f04e=await Ee[_0x1e0fc6(0x309)]();_0x1d1e4a['json'](_0x28f04e);}catch(_0xcd6434){_0x1d1e4a[_0x1e0fc6(0x3d9)](0x190)[_0x1e0fc6(0x19e)](_0xcd6434['message']);}})['get'](a0_0x1955e1(0x246),...ne,async(_0x2344e4,_0x4fe27a)=>{const _0x42dda0=a0_0x1955e1;try{let _0x45e420=await Ee[_0x42dda0(0x309)]();if(!_0x45e420)return _0x4fe27a[_0x42dda0(0x71b)]({});_0x4fe27a[_0x42dda0(0x71b)](_0x45e420);}catch(_0x323e92){_0x4fe27a['status'](0x1f4)[_0x42dda0(0x19e)](_0x323e92[_0x42dda0(0x451)]);}})['use']('/instance',new St(b,...ne)['router'])[a0_0x1955e1(0x405)](a0_0x1955e1(0x241),new Ot(...ne)[a0_0x1955e1(0x1dd)])[a0_0x1955e1(0x405)]('/chat',new ut(...ne)[a0_0x1955e1(0x1dd)])[a0_0x1955e1(0x405)](a0_0x1955e1(0x623),new bt(...ne)['router'])['use']('/webhook',new xt(...ne)['router'])[a0_0x1955e1(0x405)](a0_0x1955e1(0x836),new Dt(...ne)[a0_0x1955e1(0x1dd)]);var m=class{constructor(..._0x155b56){const _0x3cc5b1=a0_0x1955e1;throw{'status':0x190,'error':_0x3cc5b1(0x670),'message':_0x155b56[_0x3cc5b1(0x7dc)]>0x0?_0x155b56:void 0x0};}},re=class{constructor(..._0x3e1d4f){throw{'status':0x191,'error':'Unauthorized','message':_0x3e1d4f['length']>0x0?_0x3e1d4f:void 0x0};}},ee=class{constructor(..._0x1f6e7e){const _0x180988=a0_0x1955e1;throw{'status':0x193,'error':_0x180988(0x49d),'message':_0x1f6e7e[_0x180988(0x7dc)]>0x0?_0x1f6e7e:void 0x0};}},J=class{constructor(..._0x23d17e){const _0x3b2583=a0_0x1955e1;throw{'status':0x194,'error':_0x3b2583(0x409),'message':_0x23d17e['length']>0x0?_0x23d17e:void 0x0};}},x=class{constructor(..._0x46a681){const _0x4b966a=a0_0x1955e1;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x46a681[_0x4b966a(0x7dc)]>0x0?_0x46a681:void 0x0};}},ye=require('@whiskeysockets/baileys');async function xs(_0x5c5fb6){const _0x5397f6=a0_0x1955e1;let _0x57ac15=new $(xs[_0x5397f6(0x543)]),_0x47467d=R[_0x5397f6(0x191)](),_0x4e7cd1=_0x47467d['db'](b[_0x5397f6(0x7be)](_0x5397f6(0x51f))[_0x5397f6(0x84e)]['DB_PREFIX_NAME']+_0x5397f6(0x495))[_0x5397f6(0x5c9)](_0x5c5fb6),_0x17ae62=async(_0x1b4300,_0x656a19)=>{const _0x53a4c5=_0x5397f6;try{return await _0x47467d['connect'](),await _0x4e7cd1[_0x53a4c5(0x57c)]({'_id':_0x656a19},JSON[_0x53a4c5(0x226)](JSON['stringify'](_0x1b4300,ye['BufferJSON'][_0x53a4c5(0x348)])),{'upsert':!0x0});}catch{}},_0x44dee5=async _0xb1f40f=>{const _0x2edbad=_0x5397f6;try{await _0x47467d[_0x2edbad(0x64e)]();let _0x47e7d9=await _0x4e7cd1[_0x2edbad(0x309)]({'_id':_0xb1f40f}),_0x5a6e04=JSON[_0x2edbad(0x36f)](_0x47e7d9);return JSON[_0x2edbad(0x226)](_0x5a6e04,ye[_0x2edbad(0x470)]['reviver']);}catch{}},_0x20cd4e=async _0x4b862f=>{const _0xd3726c=_0x5397f6;try{return await _0x47467d[_0xd3726c(0x64e)](),await _0x4e7cd1['deleteOne']({'_id':_0x4b862f});}catch{}},_0xf1c0aa=await _0x44dee5(_0x5397f6(0x82a))||(0x0,ye[_0x5397f6(0x868)])();return{'state':{'creds':_0xf1c0aa,'keys':{'get':async(_0x3b781b,_0x1ff87c)=>{const _0x2a245b=_0x5397f6;let _0x262354={};return await Promise[_0x2a245b(0x314)](_0x1ff87c['map'](async _0x45eb12=>{const _0x167f4c=_0x2a245b;let _0x41a58d=await _0x44dee5(_0x3b781b+'-'+_0x45eb12);_0x3b781b===_0x167f4c(0x2b6)&&_0x41a58d&&(_0x41a58d=ye[_0x167f4c(0x583)]['Message'][_0x167f4c(0x6c2)]['fromObject'](_0x41a58d)),_0x262354[_0x45eb12]=_0x41a58d;})),_0x262354;},'set':async _0x2f2e73=>{const _0x4ed4cb=_0x5397f6;let _0x3d5427=[];for(let _0xd12725 in _0x2f2e73)for(let _0x2b75b4 in _0x2f2e73[_0xd12725]){let _0x34a544=_0x2f2e73[_0xd12725][_0x2b75b4],_0xc3b91c=_0xd12725+'-'+_0x2b75b4;_0x3d5427[_0x4ed4cb(0x6c9)](_0x34a544?_0x17ae62(_0x34a544,_0xc3b91c):_0x20cd4e(_0xc3b91c));}await Promise[_0x4ed4cb(0x314)](_0x3d5427);}}},'saveCreds':async()=>_0x17ae62(_0xf1c0aa,_0x5397f6(0x82a))};}function a0_0x2868(_0x2b4195,_0x2842b4){const _0x159529=a0_0x1595();return a0_0x2868=function(_0x286822,_0x31d47e){_0x286822=_0x286822-0x185;let _0x129201=_0x159529[_0x286822];return _0x129201;},a0_0x2868(_0x2b4195,_0x2842b4);}var Fs=A(require(a0_0x1955e1(0x78f))),Us=A(require(a0_0x1955e1(0x2ee))),Ft=require(a0_0x1955e1(0x75c)),$i=require('@redis/client'),Lt=require(a0_0x1955e1(0x75c)),kt;function ko(_0x43a31f){const _0x44e7dd=a0_0x1955e1;return kt||(kt=(0x0,$i['createClient'])({'url':_0x43a31f[_0x44e7dd(0x3d4)]}),kt[_0x44e7dd(0x64e)]()),kt;}var pe=class l{constructor(_0x2f752d,_0x355beb){const _0x195828=a0_0x1955e1;this[_0x195828(0x318)]=_0x2f752d,this['instanceName']=_0x355beb,this[_0x195828(0x773)]=new $(l[_0x195828(0x543)]),this[_0x195828(0x88d)]=ko(_0x2f752d);}set[a0_0x1955e1(0x601)](_0x4172ba){const _0x2d9d86=a0_0x1955e1;this[_0x2d9d86(0x192)]=_0x4172ba;}async[a0_0x1955e1(0x617)](){const _0x489608=a0_0x1955e1;try{return await this[_0x489608(0x88d)]['sendCommand']([_0x489608(0x281),this['redisEnv'][_0x489608(0x77e)]+':*']);}catch(_0x36a04d){this[_0x489608(0x773)]['error'](_0x36a04d);}}async[a0_0x1955e1(0x6bd)](_0x1587e9,_0x294785){const _0x2493b7=a0_0x1955e1;try{let _0x2a612e=JSON['stringify'](_0x294785,Lt[_0x2493b7(0x470)][_0x2493b7(0x348)]);return await this[_0x2493b7(0x88d)][_0x2493b7(0x196)](this[_0x2493b7(0x318)]['PREFIX_KEY']+':'+this[_0x2493b7(0x192)],_0x1587e9,_0x2a612e);}catch(_0x59f2fb){this[_0x2493b7(0x773)]['error'](_0x59f2fb);}}async[a0_0x1955e1(0x1ab)](){const _0x18fcd2=a0_0x1955e1;try{let _0x2a7da9=await this[_0x18fcd2(0x88d)]['hGetAll'](this['redisEnv'][_0x18fcd2(0x77e)]+':'+this[_0x18fcd2(0x192)]);if(_0x2a7da9){for(let _0x429a9d in _0x2a7da9)Object[_0x18fcd2(0x203)]['hasOwnProperty'][_0x18fcd2(0x7bf)](_0x2a7da9,_0x429a9d)&&(_0x2a7da9[_0x429a9d]=JSON['parse'](_0x2a7da9[_0x429a9d],Lt[_0x18fcd2(0x470)]['reviver']));return _0x2a7da9;}}catch(_0x317947){this['logger'][_0x18fcd2(0x2e7)](_0x317947);}}async[a0_0x1955e1(0x1c8)](_0x5ee998){const _0x2f6959=a0_0x1955e1;try{let _0x309e75=await this[_0x2f6959(0x88d)]['hGet'](this[_0x2f6959(0x318)][_0x2f6959(0x77e)]+':'+this[_0x2f6959(0x192)],_0x5ee998);if(_0x309e75)return JSON[_0x2f6959(0x226)](_0x309e75,Lt['BufferJSON'][_0x2f6959(0x592)]);}catch(_0x1ef97b){this[_0x2f6959(0x773)]['error'](_0x1ef97b);}}async[a0_0x1955e1(0x4d7)](_0x1df42d){const _0x199dc7=a0_0x1955e1;try{return await this['client'][_0x199dc7(0x7e5)](this[_0x199dc7(0x318)][_0x199dc7(0x77e)]+':'+this[_0x199dc7(0x192)],_0x1df42d);}catch(_0x4b1310){this[_0x199dc7(0x773)][_0x199dc7(0x2e7)](_0x4b1310);}}async['delAll'](_0x46d1d7){const _0x14de3e=a0_0x1955e1;try{return await this[_0x14de3e(0x88d)][_0x14de3e(0x5b5)](_0x46d1d7||this[_0x14de3e(0x318)]['PREFIX_KEY']+':'+this[_0x14de3e(0x192)]);}catch(_0x2ca1e2){this['logger'][_0x14de3e(0x2e7)](_0x2ca1e2);}}};async function Ds(_0x20a683,_0x4d3895){const _0x58b740=a0_0x1955e1;let _0x1e1078=new $(Ds[_0x58b740(0x543)]),_0xe9e35=new pe(_0x20a683,_0x4d3895),_0x57d740=async(_0x233214,_0x8b65ef)=>{const _0x28f121=_0x58b740;try{return await _0xe9e35[_0x28f121(0x6bd)](_0x8b65ef,_0x233214);}catch(_0x3d98dd){return _0x1e1078[_0x28f121(0x2e7)]({'localError':'writeData','error':_0x3d98dd});}},_0x31afd8=async _0x57d803=>{const _0x2b02dc=_0x58b740;try{return await _0xe9e35[_0x2b02dc(0x1c8)](_0x57d803);}catch(_0x31609b){_0x1e1078[_0x2b02dc(0x2e7)]({'readData':_0x2b02dc(0x6bd),'error':_0x31609b});return;}},_0x517a51=async _0xeb9d63=>{const _0x19ab00=_0x58b740;try{return await _0xe9e35[_0x19ab00(0x4d7)](_0xeb9d63);}catch(_0x545b0a){_0x1e1078['error']({'readData':_0x19ab00(0x4d7),'error':_0x545b0a});}},_0x557f04=await _0x31afd8(_0x58b740(0x82a))||(0x0,Ft['initAuthCreds'])();return{'state':{'creds':_0x557f04,'keys':{'get':async(_0x2e1de2,_0x4e9efc)=>{const _0x3c5a7c=_0x58b740;let _0x391327={};return await Promise[_0x3c5a7c(0x314)](_0x4e9efc['map'](async _0x5da50e=>{const _0x1cbc9a=_0x3c5a7c;let _0x309e5c=await _0x31afd8(_0x2e1de2+'-'+_0x5da50e);_0x2e1de2==='app-state-sync-key'&&_0x309e5c&&(_0x309e5c=Ft[_0x1cbc9a(0x583)][_0x1cbc9a(0x72a)][_0x1cbc9a(0x6c2)]['fromObject'](_0x309e5c)),_0x391327[_0x5da50e]=_0x309e5c;})),_0x391327;},'set':async _0x2e7971=>{const _0x3f7b54=_0x58b740;let _0x16eb5b=[];for(let _0x36defa in _0x2e7971)for(let _0x312a41 in _0x2e7971[_0x36defa]){let _0x47b13d=_0x2e7971[_0x36defa][_0x312a41],_0x2ddb7d=_0x36defa+'-'+_0x312a41;_0x16eb5b[_0x3f7b54(0x6c9)](_0x47b13d?await _0x57d740(_0x47b13d,_0x2ddb7d):await _0x517a51(_0x2ddb7d));}await Promise[_0x3f7b54(0x314)](_0x16eb5b);}}},'saveCreds':async()=>await _0x57d740(_0x557f04,_0x58b740(0x82a))};}var L=A(require('fs')),Y=require(a0_0x1955e1(0x8b9)),qt=A(require(a0_0x1955e1(0x27f))),Vt=require(a0_0x1955e1(0x560)),Ri=require(a0_0x1955e1(0x1de)),Ai=require(a0_0x1955e1(0x6d9)),Ii=A(require('axios')),ve=class extends _{constructor(_0x2bc490,_0x2b0db3,_0x1eb126){const _0x3c59b1=a0_0x1955e1;super(_0x2b0db3),this[_0x3c59b1(0x4eb)]=_0x2bc490,this[_0x3c59b1(0x567)]=_0x2b0db3,this['dbConnection']=_0x1eb126;}async[a0_0x1955e1(0x829)](_0x25296c,_0x9ca1cf){const _0x27097f=a0_0x1955e1;try{if(this['dbSettings'][_0x27097f(0x343)]){console[_0x27097f(0x538)](_0x27097f(0x586)+_0x9ca1cf+_0x27097f(0x449),_0x25296c);let _0x20ea24=await this[_0x27097f(0x4eb)]['findOneAndUpdate']({'_id':_0x9ca1cf},{'$set':_0x25296c},{'new':!0x0,'upsert':!0x0});return console['log'](_0x27097f(0x70d),_0x20ea24),_0x20ea24;}}catch(_0x534c10){throw console[_0x27097f(0x2e7)]('Erro\x20ao\x20atualizar\x20cacheInstance:',_0x534c10),_0x534c10;}return null;}async[a0_0x1955e1(0x66e)](_0x1542f3){const _0x1e755f=a0_0x1955e1;try{let _0x2ae919=I(_0x1542f3[_0x1e755f(0x482)]);return{'deletedCount':(await this[_0x1e755f(0x4eb)][_0x1e755f(0x66e)](_0x2ae919))[_0x1e755f(0x190)]};}catch(_0x1eded0){return{'error':_0x1eded0?.[_0x1e755f(0x6c3)]()};}}async[a0_0x1955e1(0x309)](_0x1ff665){const _0x364b5d=a0_0x1955e1;try{let _0x33aef3=I(_0x1ff665[_0x364b5d(0x482)]);return await this[_0x364b5d(0x4eb)]['findOne'](_0x33aef3)[_0x364b5d(0x6e3)]();}catch{return null;}}},Ut=(0x0,Ai['promisify'])(Ri[a0_0x1955e1(0x564)]),Lo=b[a0_0x1955e1(0x7be)](a0_0x1955e1(0x631)),Ps=class{constructor(){const _0x4c0642=a0_0x1955e1;this[_0x4c0642(0x8b1)]=new ve(ze,b),(!this[_0x4c0642(0x717)]||!this['networkInterface'])&&Lo&&this[_0x4c0642(0x70e)]()[_0x4c0642(0x36a)](()=>{const _0x1de349=_0x4c0642;console[_0x1de349(0x538)]('IPv6\x20Prefix\x20detected:\x20'+this[_0x1de349(0x717)]),console[_0x1de349(0x538)](_0x1de349(0x3ec)+this['networkInterface']);})['catch'](_0x2a0ef6=>{const _0x263e9e=_0x4c0642;console['error'](_0x263e9e(0x1f6)+_0x2a0ef6[_0x263e9e(0x451)]);});}async[a0_0x1955e1(0x70e)](){const _0x336bf0=a0_0x1955e1;try{let {stdout:_0x9561a1}=await Ut(_0x336bf0(0x54b));console[_0x336bf0(0x538)](_0x336bf0(0x27a)+_0x9561a1);let _0x597c0b=_0x9561a1[_0x336bf0(0x3ff)]('\x0a')[_0x336bf0(0x3e2)](_0x3294e3=>_0x3294e3[_0x336bf0(0x3ff)]('\x20')[0x0])[_0x336bf0(0x2c4)](_0x3197eb=>!_0x3197eb['includes']('lo')&&!_0x3197eb['includes'](_0x336bf0(0x5a3))&&!_0x3197eb['includes'](_0x336bf0(0x24f))&&!_0x3197eb['includes']('wl')&&!_0x3197eb[_0x336bf0(0x718)]('@'));if(console[_0x336bf0(0x538)](_0x336bf0(0x418)+_0x597c0b),_0x597c0b[_0x336bf0(0x7dc)]===0x0)throw new Error(_0x336bf0(0x41b));this['networkInterface']=_0x597c0b[0x0];let {stdout:_0x51dfc6}=await Ut(_0x336bf0(0x1c4)+this[_0x336bf0(0x3ea)]);console[_0x336bf0(0x538)]('IPv6\x20addresses\x20detected:\x20'+_0x51dfc6);let _0x2f1800=_0x51dfc6[_0x336bf0(0x3ff)]('\x0a')['find'](_0x2edca6=>_0x2edca6['includes'](_0x336bf0(0x369))&&_0x2edca6['includes'](_0x336bf0(0x603)));if(!_0x2f1800)throw new Error('No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface');let _0x3c816c=_0x2f1800[_0x336bf0(0x676)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x3c816c)throw new Error('Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address');let [_0x5674d4,_0x443426,_0xa83741]=_0x3c816c,_0x6a9d1d=Math[_0x336bf0(0x580)](Number(_0xa83741)/0x10),_0x188cc9=Number(_0xa83741)%0x10,_0x359f3e=_0x443426[_0x336bf0(0x3ff)](':')[_0x336bf0(0x35c)](0x0,_0x6a9d1d)[_0x336bf0(0x279)](':');if(_0x188cc9>0x0){let _0x2b1fa5=_0x443426['split'](':')[_0x6a9d1d],_0x14c8d6=0xffff<<0x10-_0x188cc9&0xffff,_0x3ad4e1=(parseInt(_0x2b1fa5,0x10)&_0x14c8d6)[_0x336bf0(0x6c3)](0x10)[_0x336bf0(0x5d6)](0x4,'0');_0x359f3e+=':'+_0x3ad4e1;}this[_0x336bf0(0x717)]=_0x359f3e+':';}catch(_0x24823e){console[_0x336bf0(0x2e7)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:',_0x24823e);}}async[a0_0x1955e1(0x47e)](_0x14eeb0){const _0x40f924=a0_0x1955e1;let _0x3ea3e=_0x40f924(0x1be)+_0x14eeb0+_0x40f924(0x706)+this[_0x40f924(0x3ea)];try{await Ut(_0x3ea3e),console['log'](_0x40f924(0x742)+_0x14eeb0);}catch(_0x2485ab){throw console[_0x40f924(0x2e7)](_0x40f924(0x1b8)+_0x2485ab),new Error('Error\x20adding\x20IPv6\x20address:\x20'+_0x2485ab);}}async[a0_0x1955e1(0x600)](_0x39ff24){const _0x4b3d0a=a0_0x1955e1;let _0x13e195=_0x4b3d0a(0x50d)+_0x39ff24+_0x4b3d0a(0x706)+this[_0x4b3d0a(0x3ea)];try{await Ut(_0x13e195),console[_0x4b3d0a(0x538)]('IPv6\x20address\x20removed:\x20'+_0x39ff24);}catch(_0x50f753){throw console[_0x4b3d0a(0x2e7)](_0x4b3d0a(0x514)+_0x50f753),new Error(_0x4b3d0a(0x514)+_0x50f753);}}[a0_0x1955e1(0x424)](){const _0xc77b88=a0_0x1955e1;return _0xc77b88(0x86e)[_0xc77b88(0x534)](/X/g,()=>_0xc77b88(0x43e)[_0xc77b88(0x3e9)](Math[_0xc77b88(0x580)](Math[_0xc77b88(0x5ad)]()*0x10)));}['ip6eui'](_0x182006,_0x47aff8){const _0x292f9b=a0_0x1955e1;let _0x57e695=_0x47aff8[_0x292f9b(0x3ff)](':');return _0x57e695[0x0]=(parseInt(_0x57e695[0x0],0x10)^0x2)['toString'](0x10)[_0x292f9b(0x5d6)](0x2,'0'),''+_0x182006+_0x57e695[0x0]+_0x57e695[0x1]+':'+_0x57e695[0x2]+_0x292f9b(0x589)+_0x57e695[0x3]+':'+_0x57e695[0x4]+_0x57e695[0x5];}[a0_0x1955e1(0x6e4)](){const _0xaca42c=a0_0x1955e1;let _0x301926=this[_0xaca42c(0x717)];_0x301926[_0xaca42c(0x339)](':')||(_0x301926+=':');let _0x42b2a3=this[_0xaca42c(0x424)]();return this[_0xaca42c(0x76c)](_0x301926,_0x42b2a3);}['isValidIPv6Config'](_0x107ddc){const _0x34fbc6=a0_0x1955e1;return new RegExp(_0x34fbc6(0x719))[_0x34fbc6(0x390)](_0x107ddc);}async[a0_0x1955e1(0x558)](_0x224b51){const _0x3d98ba=a0_0x1955e1;let _0x45c195=[{'url':_0x3d98ba(0x649),'parse':_0x28a570=>_0x28a570['ip']},{'url':'https://api64.ipify.org?format=json','parse':_0x12842f=>_0x12842f['ip']},{'url':'https://ifconfig.me/ip','parse':_0x3e647e=>_0x3e647e[_0x3d98ba(0x4f1)]()},{'url':'https://v6.ident.me','parse':_0x25c9cf=>_0x25c9cf[_0x3d98ba(0x4f1)]()}],_0x3a421b=_0x45c195[Math[_0x3d98ba(0x580)](Math['random']()*_0x45c195['length'])];try{let _0x35b9a4=await Ii[_0x3d98ba(0x36d)][_0x3d98ba(0x7be)](_0x3a421b[_0x3d98ba(0x263)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x224b51}}),_0x42005f=_0x3a421b['parse'](_0x35b9a4['data']);return _0x42005f['toLowerCase']()===_0x224b51[_0x3d98ba(0x39d)]()?(console[_0x3d98ba(0x538)](_0x3d98ba(0x334)+_0x224b51),!0x0):(console['error'](_0x3d98ba(0x4a4)+_0x224b51+_0x3d98ba(0x599)+_0x42005f),!0x1);}catch(_0xd21ed6){return console[_0x3d98ba(0x2e7)](_0x3d98ba(0x26c)+_0x3a421b[_0x3d98ba(0x263)]+':\x20'+_0xd21ed6[_0x3d98ba(0x451)]),!0x1;}}async[a0_0x1955e1(0x1fb)](_0x455833,_0x4ef916){const _0x5945df=a0_0x1955e1;if(!this[_0x5945df(0x717)]||!this[_0x5945df(0x3ea)])return console['error'](_0x5945df(0x5e5)),null;let _0x2f86ee;do _0x2f86ee=this[_0x5945df(0x6e4)](),console[_0x5945df(0x538)](_0x5945df(0x224)+_0x2f86ee);while(!await this[_0x5945df(0x722)](_0x2f86ee));await this[_0x5945df(0x47e)](_0x2f86ee),console[_0x5945df(0x538)]('Configured\x20IPv6:\x20'+_0x2f86ee);let _0x249094={'_id':_0x455833+'-'+_0x4ef916,'ip':_0x2f86ee},_0x29291a=await this[_0x5945df(0x8b1)]['createOrUpdate'](_0x249094,_0x249094['_id']);return console[_0x5945df(0x538)]('Cache\x20instance\x20update\x20result:\x20'+_0x29291a),_0x2f86ee;}async[a0_0x1955e1(0x722)](_0x47325b){const _0x267d21=a0_0x1955e1;return this['isValidIPv6Config'](_0x47325b)?!await this[_0x267d21(0x8b1)][_0x267d21(0x309)]({'where':{'ip':_0x47325b}}):!0x1;}async[a0_0x1955e1(0x2d5)](_0xb978d2,_0x295391){const _0x5a9abe=a0_0x1955e1;let _0x3a551f=_0xb978d2+'-'+_0x295391,_0x4f7a14=await this[_0x5a9abe(0x8b1)][_0x5a9abe(0x309)]({'where':{'_id':_0x3a551f}});_0x4f7a14&&_0x4f7a14['ip']&&(await this['removeIPv6'](_0x4f7a14['ip']),await this[_0x5a9abe(0x8b1)][_0x5a9abe(0x66e)]({'where':{'_id':_0x3a551f}}));}},Fo=new Ps(),he=Fo,js=a0_0x1955e1(0x256),ki,ge=null,Pa=null,Uo=0x3,jo=null,Ti=b['get'](a0_0x1955e1(0x3e8))[a0_0x1955e1(0x6ab)][a0_0x1955e1(0x8b0)],Oi=b[a0_0x1955e1(0x7be)]('PROXY');async function Jo(){const _0x246dc9=a0_0x1955e1;let _0x56efda=await Ee['findOne']();ge=_0x56efda?.['WebhookGlobal']??null,jo=_0x56efda?.[_0x246dc9(0x529)]??null,js=_0x56efda?.[_0x246dc9(0x8c4)]??_0x246dc9(0x256),ki=_0x56efda?.[_0x246dc9(0x57a)]??X??_0x246dc9(0x2f5);}async function qo(){await Jo();}qo();var jt={},Ne=class l{constructor(_0x507c57,_0x244627,_0x2ad59b){const _0x18d364=a0_0x1955e1;this['configService']=_0x507c57,this[_0x18d364(0x297)]=_0x244627,this[_0x18d364(0x3c7)]=_0x2ad59b,this[_0x18d364(0x4a3)]=null,this[_0x18d364(0x773)]=new $(l[_0x18d364(0x543)]),this['instance']={},this[_0x18d364(0x86c)]={},this[_0x18d364(0x793)]={'state':_0x18d364(0x4ce)},this[_0x18d364(0x25b)]=(0x0,U[_0x18d364(0x279)])(ce,_0x18d364(0x627)),this[_0x18d364(0x4a7)]=new Us[(_0x18d364(0x36d))](),this[_0x18d364(0x214)]=new Us['default'](),this[_0x18d364(0x803)]=!0x1,this[_0x18d364(0x3dc)]={'status.instance':_0x18d364(0x7b4),'connection.update':_0x18d364(0x7b4),'qrcode.updated':_0x18d364(0x8b2),'messages.upsert':_0x18d364(0x232),'send.message':'/wa-message','messages.update':_0x18d364(0x658),'group.upsert':_0x18d364(0x41e),'group.update':_0x18d364(0x41e),'group-participants.update':_0x18d364(0x41e),'messages.set':_0x18d364(0x852),'contacts.set':_0x18d364(0x1e3),'contacts.upsert':_0x18d364(0x1e3),'contacts.update':'/wa-contacts','presence.update':_0x18d364(0x2f2),'chats.set':_0x18d364(0x6f0),'chats.update':_0x18d364(0x6f0),'chats.upsert':'/wa-chats','chats.delete':_0x18d364(0x6f0)},this[_0x18d364(0x222)]=0x0,this['reconnectTimestamps']=[],this[_0x18d364(0x5a8)]=0xea60,this['isRunning']=!0x1,this['chatHandle']={'chats.upsert':async(_0x5d1faf,_0x47ef55)=>{const _0x2ee57e=_0x18d364;let _0x49682b=[];for await(let _0x19348c of _0x5d1faf)_0x49682b[_0x2ee57e(0x6c9)]({'_id':_0x19348c['id'],'owner':this[_0x2ee57e(0x60a)][_0x2ee57e(0x33b)],'group':_0x19348c['id'][_0x2ee57e(0x339)](_0x2ee57e(0x3c5)),'name':_0x19348c[_0x2ee57e(0x543)]||_0x19348c[_0x2ee57e(0x8b8)]||null,'contactname':null,'lastmsg':_0x19348c[_0x2ee57e(0x6d4)]&&_0x19348c[_0x2ee57e(0x6d4)][_0x2ee57e(0x6c3)]()[_0x2ee57e(0x7dc)]<0xd?_0x19348c[_0x2ee57e(0x6d4)]*0x3e8:_0x19348c[_0x2ee57e(0x6d4)]||null,'archived':_0x19348c[_0x2ee57e(0x276)]||!0x1,'unreadcount':_0x19348c[_0x2ee57e(0x626)]||0x0,'ephemeralExpiration':_0x19348c[_0x2ee57e(0x2fa)]||0x0});this[_0x2ee57e(0x8a1)](_0x2ee57e(0x7a4),_0x49682b);},'chats.update':async(_0x62f9d9,_0xf8b898)=>{const _0x3149e4=_0x18d364;for(let _0x5829a3 of _0x62f9d9){let _0x395cc5={'_id':_0x5829a3['id'],'owner':this[_0x3149e4(0x60a)]['wuid'],'archived':_0x5829a3[_0x3149e4(0x276)],'muteEndTime':_0x5829a3[_0x3149e4(0x5d2)],'ephemeralExpiration':_0x5829a3[_0x3149e4(0x2fa)]},_0x4023d2=!0x1,_0x43483c={};_0x395cc5[_0x3149e4(0x276)]!=null&&(this['logger']['verbose'](this[_0x3149e4(0x192)]+'\x20('+this[_0x3149e4(0x60a)][_0x3149e4(0x33b)]+_0x3149e4(0x76d)+_0x5829a3['id']+_0x3149e4(0x6ad)+_0x5829a3[_0x3149e4(0x276)]),_0x4023d2=!0x0,_0x43483c[_0x3149e4(0x276)]=_0x5829a3[_0x3149e4(0x276)]),_0x3149e4(0x5d2)in _0x5829a3&&(this[_0x3149e4(0x773)][_0x3149e4(0x2b1)](this['instanceName']+'\x20('+this[_0x3149e4(0x60a)][_0x3149e4(0x33b)]+'):\x20teve\x20mudanças\x20chat.muteEndTime:\x20'+_0x5829a3['id']+_0x3149e4(0x6ad)+(_0x5829a3[_0x3149e4(0x5d2)]??'0')),_0x4023d2=!0x0,_0x43483c[_0x3149e4(0x5d2)]=_0x5829a3['muteEndTime']??0x0),'ephemeralExpiration'in _0x5829a3&&(this[_0x3149e4(0x773)][_0x3149e4(0x2b1)](this[_0x3149e4(0x192)]+'\x20('+this['instance'][_0x3149e4(0x33b)]+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x5829a3['id']+_0x3149e4(0x6ad)+(_0x5829a3['ephemeralExpiration']!==void 0x0?_0x5829a3[_0x3149e4(0x2fa)]:'undefined')),_0x43483c[_0x3149e4(0x2fa)]=_0x5829a3[_0x3149e4(0x2fa)]===null?0x0:_0x5829a3[_0x3149e4(0x2fa)],_0x4023d2=!0x0);let _0x4e3816;_0x4023d2&&(_0x4e3816=await this[_0x3149e4(0x3c7)][_0x3149e4(0x326)]['updateOne']({'where':{'_id':_0x5829a3['id']}},_0x43483c,this[_0x3149e4(0x60a)][_0x3149e4(0x33b)])),_0x4e3816&&j(this[_0x3149e4(0x192)],_0x3149e4(0x8bf),{'chat':_0x4e3816});}},'chats.delete':async _0x4876a8=>{const _0x171010=_0x18d364;for(let _0x11a53d of _0x4876a8)if(_0x11a53d[_0x171010(0x339)](_0x171010(0x3c5))){await this[_0x171010(0x3c7)][_0x171010(0x326)][_0x171010(0x544)]({'where':{'_id':_0x11a53d}},this[_0x171010(0x60a)][_0x171010(0x33b)]);let _0x89be2c={'where':{'key':{'remoteJid':_0x11a53d}}};await this[_0x171010(0x3c7)][_0x171010(0x451)][_0x171010(0x544)](_0x89be2c,this['instance'][_0x171010(0x33b)]);}else{await this[_0x171010(0x3c7)][_0x171010(0x326)]['updateOne']({'where':{'_id':_0x11a53d}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x171010(0x60a)][_0x171010(0x33b)]);let _0x1ca668={'where':{'key':{'remoteJid':_0x11a53d}}};await this[_0x171010(0x3c7)]['message']['delete'](_0x1ca668,this['instance']['wuid']);}this[_0x171010(0x8a1)]('chats.delete',[..._0x4876a8]);}},this['contactHandle']={'contacts.upsert':async(_0x3ce443,_0x310d76)=>{const _0x552db1=_0x18d364;let _0x3355f8=await this['repository'][_0x552db1(0x703)][_0x552db1(0x6d3)]({'where':{}},this[_0x552db1(0x60a)][_0x552db1(0x33b)]),_0x2ec7ff=[];for await(let _0x18c5a4 of _0x3ce443)_0x3355f8[_0x552db1(0x6d3)](_0x51eb10=>_0x51eb10[_0x552db1(0x45a)]===_0x18c5a4['id'])||_0x2ec7ff[_0x552db1(0x6c9)]({'_id':_0x18c5a4['id'],'pushName':_0x18c5a4?.[_0x552db1(0x543)]||_0x18c5a4?.[_0x552db1(0x38c)],'owner':this[_0x552db1(0x60a)][_0x552db1(0x33b)]});this['sendDataWebhook'](_0x552db1(0x616),_0x2ec7ff),await this[_0x552db1(0x3c7)]['contact'][_0x552db1(0x541)](_0x2ec7ff);},'contacts.update':async(_0x1da9b9,_0x26b249)=>{const _0x392d9f=_0x18d364;let _0x1c09f5=[];for await(let _0x2eba83 of _0x1da9b9)_0x1c09f5[_0x392d9f(0x6c9)]({'_id':_0x2eba83['id'],'pushName':_0x2eba83?.[_0x392d9f(0x543)]??_0x2eba83?.['verifiedName'],'owner':this[_0x392d9f(0x60a)]['wuid']});this['sendDataWebhook'](_0x392d9f(0x268),_0x1c09f5);}},this[_0x18d364(0x37e)]={'messaging-history.set':async({messages:_0x48c407,chats:_0x1bdf70,isLatest:_0x37416b},_0x3c0704)=>{const _0x4a24c4=_0x18d364;if(_0x37416b){let _0x427b23=await Promise[_0x4a24c4(0x314)](_0x1bdf70[_0x4a24c4(0x3e2)](async _0x221db9=>({'_id':_0x221db9['id'],'owner':this[_0x4a24c4(0x60a)][_0x4a24c4(0x33b)],'group':_0x221db9['id']['endsWith'](_0x4a24c4(0x3c5)),'name':_0x221db9[_0x4a24c4(0x543)]||_0x221db9['displayName']||_0x221db9[_0x4a24c4(0x62c)]||null,'contactname':null,'lastmsg':_0x221db9[_0x4a24c4(0x6d4)]&&_0x221db9[_0x4a24c4(0x6d4)][_0x4a24c4(0x6c3)]()[_0x4a24c4(0x7dc)]<0xd?_0x221db9['conversationTimestamp']*0x3e8:_0x221db9[_0x4a24c4(0x6d4)]||null,'archived':_0x221db9['archived']||!0x1,'unreadcount':_0x221db9[_0x4a24c4(0x626)]||0x0,'ephemeralExpiration':_0x221db9[_0x4a24c4(0x2fa)]||0x0,'muteEndTime':_0x221db9[_0x4a24c4(0x5d2)]||0x0})));this[_0x4a24c4(0x8a1)](_0x4a24c4(0x7c0),_0x427b23),await this['upsertChats'](_0x427b23,_0x3c0704);}let _0x4baedc=[],_0x3fa5ee=Date[_0x4a24c4(0x835)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x583f62]of Object[_0x4a24c4(0x701)](_0x48c407)){if(_0x583f62['message']?.[_0x4a24c4(0x4c0)]||_0x583f62[_0x4a24c4(0x451)]?.[_0x4a24c4(0x8cd)]||!_0x583f62[_0x4a24c4(0x451)]||_0x583f62['key']['remoteJid']===_0x4a24c4(0x4c6)||(Fs[_0x4a24c4(0x36d)]['isLong'](_0x583f62?.['messageTimestamp'])&&(_0x583f62[_0x4a24c4(0x48a)]=_0x583f62[_0x4a24c4(0x48a)]?.[_0x4a24c4(0x7c6)]()),_0x583f62[_0x4a24c4(0x48a)]&&_0x583f62[_0x4a24c4(0x48a)][_0x4a24c4(0x6c3)]()['length']<0xd&&(_0x583f62[_0x4a24c4(0x48a)]=_0x583f62['messageTimestamp']*0x3e8),_0x583f62['messageTimestamp']<_0x3fa5ee))continue;let _0x5b4355=(0x0,w[_0x4a24c4(0x45b)])(_0x583f62['message']),_0x2c977e=(0x0,w[_0x4a24c4(0x417)])(_0x5b4355),{message_normalized:_0x272cd}=this[_0x4a24c4(0x727)](_0x5b4355,_0x2c977e,null);Object['keys'](_0x272cd)[_0x4a24c4(0x7dc)]>0x0&&_0x4baedc[_0x4a24c4(0x6c9)]({'_id':_0x583f62[_0x4a24c4(0x2a8)]['id'],'key':_0x583f62['key'],'pushName':_0x583f62['pushName'],'participant':_0x583f62[_0x4a24c4(0x83a)],'message':_0x5b4355,'messageType':_0x2c977e,'message_normalized':{'key':_0x583f62[_0x4a24c4(0x2a8)],'pushName':_0x583f62[_0x4a24c4(0x3b1)],'messageTimestamp':_0x583f62[_0x4a24c4(0x48a)],..._0x272cd},'messageTimestamp':_0x583f62[_0x4a24c4(0x48a)],'owner':this['instance'][_0x4a24c4(0x33b)]});}_0x3c0704[_0x4a24c4(0x343)]&&_0x4baedc[_0x4a24c4(0x7dc)]>0x0&&(this[_0x4a24c4(0x773)][_0x4a24c4(0x2b1)](this[_0x4a24c4(0x192)]+'\x20('+this[_0x4a24c4(0x60a)][_0x4a24c4(0x33b)]+_0x4a24c4(0x6cd)+_0x4baedc[_0x4a24c4(0x7dc)]+_0x4a24c4(0x8ba)+this['instance'][_0x4a24c4(0x33b)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x4a24c4(0x3c7)][_0x4a24c4(0x451)][_0x4a24c4(0x541)]([..._0x4baedc],this[_0x4a24c4(0x60a)][_0x4a24c4(0x33b)])),this[_0x4a24c4(0x8a1)](_0x4a24c4(0x5fd),[..._0x4baedc]),_0x48c407=void 0x0;},'messages.upsert':async({messages:_0x12a586,type:_0x41ef40},_0xc2f152)=>{const _0xddd6db=_0x18d364;for(let _0x4d2a15 of _0x12a586){if(this[_0xddd6db(0x86c)]?.['groups_ignore']&&_0x4d2a15[_0xddd6db(0x2a8)][_0xddd6db(0x8a0)][_0xddd6db(0x718)](_0xddd6db(0x3c5))){this[_0xddd6db(0x773)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0xddd6db(0x33b)]+_0xddd6db(0x872));return;}if(_0x4d2a15[_0xddd6db(0x6e9)]&&_0x4d2a15[_0xddd6db(0x6e9)][0x0]===_0xddd6db(0x8ab)){console[_0xddd6db(0x2e7)](_0xddd6db(0x5fe)),jt[_0x4d2a15[_0xddd6db(0x2a8)]['id']]=_0x4d2a15,this[_0xddd6db(0x1bb)](_0x4d2a15,0x0);return;}if(jt[_0x4d2a15[_0xddd6db(0x2a8)]['id']]&&(console['error'](_0xddd6db(0x744)),delete jt[_0x4d2a15['key']['id']]),_0x41ef40!==_0xddd6db(0x552)||!_0x4d2a15?.[_0xddd6db(0x451)]||_0x4d2a15[_0xddd6db(0x451)]?.[_0xddd6db(0x4c0)]||_0x4d2a15[_0xddd6db(0x451)]['senderKeyDistributionMessage']||_0x4d2a15[_0xddd6db(0x2a8)][_0xddd6db(0x8a0)]===_0xddd6db(0x4c6))return;let _0x92d122=null,_0x2dea01=null;try{_0x92d122=await this[_0xddd6db(0x7f8)](_0x4d2a15),_0x2dea01=_0x92d122?_0x92d122[_0xddd6db(0x279)](','):null;}catch(_0x5c4d7f){this[_0xddd6db(0x773)]['verbose'](this['instanceName']+'\x20('+this[_0xddd6db(0x60a)][_0xddd6db(0x33b)]+_0xddd6db(0x6cd)+(_0x5c4d7f instanceof Error?_0x5c4d7f[_0xddd6db(0x451)]:JSON['stringify'](_0x5c4d7f,null,0x2))),_0x2dea01=_0xddd6db(0x47b);}this[_0xddd6db(0x88d)][_0xddd6db(0x841)]('unavailable'),Fs[_0xddd6db(0x36d)][_0xddd6db(0x4b3)](_0x4d2a15[_0xddd6db(0x48a)])&&(_0x4d2a15[_0xddd6db(0x48a)]=_0x4d2a15[_0xddd6db(0x48a)]?.[_0xddd6db(0x7c6)]()),_0x4d2a15[_0xddd6db(0x48a)]&&_0x4d2a15[_0xddd6db(0x48a)][_0xddd6db(0x6c3)]()['length']<0xd&&(_0x4d2a15[_0xddd6db(0x48a)]=_0x4d2a15[_0xddd6db(0x48a)]*0x3e8);let _0x5cdfb6=_0x4d2a15[_0xddd6db(0x451)],_0x93f10d=(0x0,w[_0xddd6db(0x45b)])(_0x5cdfb6),_0x50ee92=(0x0,w[_0xddd6db(0x417)])(_0x93f10d),{messageContent:_0x588aa3,message_normalized:_0x2c9c9b}=this[_0xddd6db(0x727)](_0x93f10d,_0x50ee92,_0x2dea01);_0x50ee92===_0xddd6db(0x4c0)&&_0x588aa3?.[_0xddd6db(0x455)]&&(_0x50ee92='editedMessage');let _0x59828d,_0x43b600=_0x4d2a15[_0xddd6db(0x2a8)][_0xddd6db(0x8a0)][_0xddd6db(0x339)](_0xddd6db(0x3c5));if(_0x4d2a15[_0xddd6db(0x2a8)][_0xddd6db(0x785)])_0x59828d=this[_0xddd6db(0x60a)][_0xddd6db(0x5a2)];else{let _0xec968f=_0x43b600?_0x4d2a15['key'][_0xddd6db(0x83a)]:_0x4d2a15['key'][_0xddd6db(0x8a0)];_0x59828d=(await this['findAndUpdateCacheContact'](_0xec968f,_0x4d2a15[_0xddd6db(0x3b1)],!0x1))[_0xddd6db(0x8a5)]['pictureUrl'];}let _0x5669dc={'_id':_0x4d2a15[_0xddd6db(0x2a8)]['id'],'key':_0x4d2a15['key'],'isGroup':_0x43b600,'profilePictureUrl':_0x59828d,'pushName':_0x4d2a15['pushName'],'message':_0x93f10d,'messageType':_0x50ee92,'message_normalized':{'key':_0x4d2a15[_0xddd6db(0x2a8)],'pushName':_0x4d2a15[_0xddd6db(0x3b1)],'messageTimestamp':_0x4d2a15[_0xddd6db(0x48a)],'source':(0x0,w['getDevice'])(_0x4d2a15['key']['id']),..._0x2c9c9b},'messageTimestamp':_0x4d2a15[_0xddd6db(0x48a)],'owner':this[_0xddd6db(0x60a)]['wuid'],'source':(0x0,w[_0xddd6db(0x512)])(_0x4d2a15[_0xddd6db(0x2a8)]['id']),'expiration':_0x588aa3?.['contextInfo']?.['expiration']||0x0};_0x588aa3||(this[_0xddd6db(0x773)][_0xddd6db(0x2e7)](_0xddd6db(0x5c5)),this[_0xddd6db(0x773)][_0xddd6db(0x2e7)](_0x5669dc)),this[_0xddd6db(0x773)][_0xddd6db(0x538)](this['instanceName']+'\x20('+this[_0xddd6db(0x60a)][_0xddd6db(0x33b)]+'):\x20'+(_0x5669dc[_0xddd6db(0x2a8)]?.[_0xddd6db(0x785)]?_0xddd6db(0x5ee):_0xddd6db(0x72d))+'\x20['+_0x5669dc[_0xddd6db(0x2a8)]?.['remoteJid']['replace'](_0xddd6db(0x1a9),'')+']\x20('+_0x5669dc[_0xddd6db(0x26f)]+')'),_0x5669dc[_0xddd6db(0x68b)]?.['text']&&this[_0xddd6db(0x773)]['log'](_0x4d2a15[_0xddd6db(0x2a8)]['id']+':\x20'+_0x5669dc[_0xddd6db(0x68b)]?.[_0xddd6db(0x814)]),await this['repository'][_0xddd6db(0x451)]['insert']([_0x5669dc],this[_0xddd6db(0x60a)]['wuid']),this['sendDataWebhook'](_0xddd6db(0x4c9),_0x5669dc),j(this[_0xddd6db(0x192)],'messages',{'message':_0x5669dc}),_0x4d2a15[_0xddd6db(0x2a8)][_0xddd6db(0x8a0)]!==_0xddd6db(0x4c6)&&await this[_0xddd6db(0x3fe)](_0xc2f152,_0x5669dc,_0xddd6db(0x344));}},'messages.update':async(_0x4e21ba,_0x1cce40)=>{const _0x29f69e=_0x18d364;let _0x72cdaa={0x0:_0x29f69e(0x404),0x1:_0x29f69e(0x5ce),0x2:_0x29f69e(0x4d0),0x3:_0x29f69e(0x2ba),0x4:_0x29f69e(0x59b),0x5:'PLAYED'};for await(let {key:_0x5134a9,update:_0x295c7d}of _0x4e21ba){if(this[_0x29f69e(0x86c)]?.[_0x29f69e(0x28e)]&&_0x5134a9[_0x29f69e(0x8a0)]['includes'](_0x29f69e(0x3c5))){this[_0x29f69e(0x773)][_0x29f69e(0x2b1)](this[_0x29f69e(0x192)]+'\x20('+this[_0x29f69e(0x60a)][_0x29f69e(0x33b)]+_0x29f69e(0x4fd));return;}if(_0x5134a9['remoteJid']!=='status@broadcast'){let _0x505dbf=Date[_0x29f69e(0x835)](),_0x9729ff;_0x295c7d[_0x29f69e(0x451)]===null&&_0x295c7d[_0x29f69e(0x3d9)]===void 0x0?_0x9729ff=_0x29f69e(0x43b):_0x9729ff=_0x72cdaa[_0x295c7d['status']];let _0x741e62=_0x5134a9[_0x29f69e(0x8a0)][_0x29f69e(0x534)](/:\d{1,2}@/g,'@'),_0x92ce63={..._0x5134a9,'remoteJid':_0x741e62,'status':_0x9729ff,'datetime':_0x505dbf,'owner':this['instance'][_0x29f69e(0x33b)]};this[_0x29f69e(0x8a1)]('messages.update',_0x92ce63),await this['updateMessage'](_0x5134a9,_0x92ce63);}}},'labels.association':async({type:_0x4a1c29,association:_0x5f56ae})=>{const _0x554c3e=_0x18d364;if(_0x5f56ae[_0x554c3e(0x708)]===_0x554c3e(0x1b9)){let _0xc71db8,_0x3cfd78=0x0;for(;!_0xc71db8&&_0x3cfd78<this[_0x554c3e(0x480)];)_0xc71db8=await this[_0x554c3e(0x3c7)][_0x554c3e(0x326)][_0x554c3e(0x309)]({'where':{'_id':_0x5f56ae[_0x554c3e(0x3b0)]}},this[_0x554c3e(0x60a)][_0x554c3e(0x33b)]),_0xc71db8||(_0x3cfd78++,this[_0x554c3e(0x773)][_0x554c3e(0x6e0)](this['instanceName']+'\x20('+this[_0x554c3e(0x60a)][_0x554c3e(0x33b)]+'):\x20Chat\x20'+_0x5f56ae['chatId']+'\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20'+this[_0x554c3e(0x56a)]+'ms\x20(tentativa\x20'+_0x3cfd78+'/'+this[_0x554c3e(0x480)]+')'),await this[_0x554c3e(0x7c8)](this[_0x554c3e(0x56a)]));if(!_0xc71db8){this['logger'][_0x554c3e(0x2e7)]('Falhou\x20ao\x20encontrar\x20chat\x20'+_0x5f56ae[_0x554c3e(0x3b0)]+_0x554c3e(0x74d)+this[_0x554c3e(0x480)]+_0x554c3e(0x1cb));return;}switch(_0x4a1c29){case'add':console['log'](_0x5f56ae),await this[_0x554c3e(0x3c7)][_0x554c3e(0x326)][_0x554c3e(0x400)]({'where':{'_id':_0x5f56ae[_0x554c3e(0x3b0)]}},{'leadInfo.etiquetas':_0x5f56ae[_0x554c3e(0x730)]},this[_0x554c3e(0x60a)][_0x554c3e(0x33b)],void 0x0,_0x554c3e(0x506));break;case _0x554c3e(0x1a6):console[_0x554c3e(0x538)](_0x5f56ae),await this[_0x554c3e(0x3c7)][_0x554c3e(0x326)][_0x554c3e(0x400)]({'where':{'_id':_0x5f56ae[_0x554c3e(0x3b0)]}},{'leadInfo.etiquetas':_0x5f56ae[_0x554c3e(0x730)]},this[_0x554c3e(0x60a)]['wuid'],void 0x0,_0x554c3e(0x64d));break;default:this[_0x554c3e(0x773)][_0x554c3e(0x2e7)](_0x554c3e(0x84b)+_0x4a1c29+']');}}},'labels.edit':async _0x2046dc=>{const _0x2a0001=_0x18d364;if(!_0x2046dc||!_0x2046dc['id']){this[_0x2a0001(0x773)][_0x2a0001(0x2e7)](_0x2a0001(0x826));return;}if(!_0x2046dc[_0x2a0001(0x7f9)]){let _0x2c95ba=[_0x2a0001(0x25e),'#64c4ff',_0x2a0001(0x46a),'#dfaef0','#9ab6c1',_0x2a0001(0x5eb),_0x2a0001(0x88f),'#d3a91f',_0x2a0001(0x510),_0x2a0001(0x571),'#01d0e2',_0x2a0001(0x753),_0x2a0001(0x7f5),'#f64847',_0x2a0001(0x7c1),'#83e421','#ffae04',_0x2a0001(0x4f0),_0x2a0001(0x2c9),_0x2a0001(0x51c)],_0xf3be37;typeof _0x2046dc[_0x2a0001(0x88c)]==_0x2a0001(0x1a0)&&_0x2046dc[_0x2a0001(0x88c)]>=0x0&&_0x2046dc[_0x2a0001(0x88c)]<_0x2c95ba['length']?_0xf3be37=_0x2c95ba[_0x2046dc[_0x2a0001(0x88c)]]:(this[_0x2a0001(0x773)][_0x2a0001(0x2e7)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20'+_0x2046dc[_0x2a0001(0x88c)]),_0xf3be37=_0x2a0001(0x21d));let _0xdbf3a9={'_id':_0x2046dc['id'],'colorHex':_0xf3be37,'color':_0x2046dc?.['color'],'name':_0x2046dc?.[_0x2a0001(0x543)],'owner':this[_0x2a0001(0x60a)]['wuid']};await this[_0x2a0001(0x3c7)]['label'][_0x2a0001(0x400)]({'where':{'_id':_0x2046dc['id']}},_0xdbf3a9,this['instance'][_0x2a0001(0x33b)]),this['logger'][_0x2a0001(0x6e0)](this['instanceName']+'\x20('+this[_0x2a0001(0x60a)][_0x2a0001(0x33b)]+'):\x20Rótulo\x20atualizado:\x20'+_0x2046dc);}_0x2046dc[_0x2a0001(0x7f9)]&&(await this[_0x2a0001(0x3c7)][_0x2a0001(0x4aa)]['delete']({'where':{'_id':_0x2046dc['id']}},this[_0x2a0001(0x60a)][_0x2a0001(0x33b)]),this['logger'][_0x2a0001(0x6e0)](_0x2a0001(0x3ba)+_0x2046dc['id']));}},this[_0x18d364(0x68d)]={'groups.upsert':async _0x4127b7=>{const _0x191fb3=_0x18d364;this[_0x191fb3(0x86c)]?.[_0x191fb3(0x28e)]||this['sendDataWebhook']('groups.upsert',_0x4127b7);for(let _0x2a19f6 of _0x4127b7)await this[_0x191fb3(0x63e)](_0x2a19f6);},'groups.update':async _0x5a9fd1=>{const _0x18257f=_0x18d364;this[_0x18257f(0x86c)]?.['groups_ignore']||this[_0x18257f(0x8a1)](_0x18257f(0x8c1),_0x5a9fd1);for(let _0x4e71cd of _0x5a9fd1)await this[_0x18257f(0x63e)](_0x4e71cd);},'group-participants.update':async _0x79f3df=>{const _0x44b125=_0x18d364;this[_0x44b125(0x86c)]?.[_0x44b125(0x28e)]||this[_0x44b125(0x8a1)](_0x44b125(0x2c0),_0x79f3df),await this['updateGroupParticipantsWebhook'](_0x79f3df);}},this[_0x18d364(0x480)]=0x5,this[_0x18d364(0x56a)]=0x1388,this[_0x18d364(0x7f8)]=async _0x3284cc=>{const _0x13a272=_0x18d364;if(_0x3284cc[_0x13a272(0x451)]?.[_0x13a272(0x30e)]){let _0x95245b=await this['getMessage'](_0x3284cc[_0x13a272(0x451)][_0x13a272(0x30e)]['pollCreationMessageKey'],!0x0);if(_0x95245b){let _0x8816a7=_0x95245b[_0x13a272(0x2a8)][_0x13a272(0x785)]?this['instance'][_0x13a272(0x33b)]+'@s.whatsapp.net':_0x95245b['key'][_0x13a272(0x83a)]||_0x95245b['key']['remoteJid'],_0x364cd6=_0x95245b[_0x13a272(0x2a8)]['id'],_0x16329f=_0x95245b[_0x13a272(0x451)],_0x58a751=Buffer[_0x13a272(0x6d8)](_0x16329f[_0x13a272(0x69b)][_0x13a272(0x79e)][_0x13a272(0x6c3)]('hex'),'hex'),_0x2d5798=(0x0,w[_0x13a272(0x5fb)])(_0x3284cc[_0x13a272(0x451)][_0x13a272(0x30e)][_0x13a272(0x789)],{'pollCreatorJid':_0x8816a7,'pollMsgId':_0x364cd6,'pollEncKey':_0x58a751,'voterJid':_0x3284cc[_0x13a272(0x2a8)][_0x13a272(0x785)]?this[_0x13a272(0x60a)][_0x13a272(0x33b)]+_0x13a272(0x1a9):_0x3284cc['key']['remoteJid'][_0x13a272(0x339)](_0x13a272(0x69e))?_0x3284cc[_0x13a272(0x2a8)][_0x13a272(0x83a)]:_0x3284cc[_0x13a272(0x2a8)]['remoteJid']}),_0x257f79=[],_0x272390=_0x2d5798[_0x13a272(0x67c)][_0x13a272(0x3e2)](_0x1f4e3b=>Buffer[_0x13a272(0x6d8)](_0x1f4e3b)[_0x13a272(0x6c3)]('hex'));for(let {optionName:_0xcf8c3e}of _0x16329f[_0x13a272(0x454)]?.[_0x13a272(0x5ef)]||_0x16329f[_0x13a272(0x22f)]?.[_0x13a272(0x5ef)]||_0x16329f[_0x13a272(0x2be)]?.['options'])_0x272390[_0x13a272(0x801)]((0x0,w[_0x13a272(0x4c4)])(Buffer['from'](_0xcf8c3e))[_0x13a272(0x6c3)](_0x13a272(0x635)))>-0x1&&_0x257f79['push'](_0xcf8c3e);return _0x257f79;}}return null;},this[_0x18d364(0x727)]=(_0x5ba83d,_0x249697,_0x439fcb)=>{const _0x139564=_0x18d364;try{let _0x19607b=_0x5ba83d?(0x0,w[_0x139564(0x5f9)])(_0x5ba83d)[_0x249697]:void 0x0,_0x117153={},_0x44a748=null,_0x3a1456=null,_0x2c552b=null;_0x249697===_0x139564(0x4c0)&&_0x19607b?.['editedMessage']&&(_0x249697=(0x0,w[_0x139564(0x417)])(_0x19607b['editedMessage']),_0x44a748=_0x5ba83d[_0x139564(0x4c0)][_0x139564(0x2a8)]['id'],_0x19607b=_0x5ba83d[_0x139564(0x4c0)]['editedMessage'][_0x249697]),_0x5ba83d[_0x249697]?.[_0x139564(0x257)]?.[_0x139564(0x833)]&&_0x5ba83d[_0x249697]?.['contextInfo']?.['quotedMessage']&&(_0x3a1456=_0x5ba83d[_0x249697][_0x139564(0x257)][_0x139564(0x833)]),_0x5ba83d[_0x139564(0x69a)]&&(_0x2c552b=_0x5ba83d['reactionMessage']['key']['id']);let _0x21bc64;if(_0x19607b&&typeof _0x19607b==_0x139564(0x64b)&&_0x139564(0x366)in _0x19607b&&({pollCreationMessageKey:_0x21bc64}=_0x19607b),_0x249697===_0x139564(0x454)||_0x249697===_0x139564(0x2be)||_0x249697===_0x139564(0x22f)){let _0x3cf82d=_0x19607b['options'][_0x139564(0x3e2)](_0x1ecfb5=>_0x1ecfb5[_0x139564(0x46e)])['join']('|');_0x117153['convertedOptions']=_0x3cf82d;}let _0x20aa0b='';if(_0x19607b&&(_0x20aa0b+=_0x19607b[_0x139564(0x543)]?_0x19607b[_0x139564(0x543)]:'',_0x20aa0b+=_0x19607b[_0x139564(0x4de)]?'\x20'+_0x19607b[_0x139564(0x4de)]:'',_0x20aa0b+=_0x19607b[_0x139564(0x5ec)]?'\x20'+_0x19607b['conversation']:'',_0x20aa0b+=_0x19607b[_0x139564(0x8b8)]?'\x20'+_0x19607b[_0x139564(0x8b8)]:''),_0x249697===_0x139564(0x46d)){_0x20aa0b=(_0x19607b[_0x139564(0x651)]||'')+'\x0a'+(_0x19607b['description']||'')+'\x0a'+(_0x19607b[_0x139564(0x85b)]||'');let _0x3d41fe=this[_0x139564(0x195)](_0x19607b['sections']);_0x117153[_0x139564(0x759)]=_0x3d41fe;}if(_0x249697==='listResponseMessage'&&(_0x439fcb=_0x19607b[_0x139564(0x651)]),_0x19607b&&_0x19607b[_0x139564(0x485)]){let _0x3e6653=this['formatVCard'](JSON[_0x139564(0x36f)](_0x19607b[_0x139564(0x485)],null,0x2));_0x20aa0b=_0x20aa0b+'\x0a'+_0x3e6653;}if(_0x19607b){let {sections:_0x457c39,listType:_0x41eb08,displayName:_0x1356f9,vcard:_0x42b4c1,contactVcard:_0x3fda01,name:_0x11f5ce,caption:_0x16ed23,conversation:_0x14afda,pollCreationMessageKey:_0x170271,footerText:_0x4c7eff,contentText:_0x19b2b0,pageCount:_0x447275,headerType:_0x19a85e,isAvatar:_0x4cda0d,isAnimated:_0x5cc80d,fallbackLc:_0x426c8b,fallbackLg:_0x8a15c8,namespace:_0x2dd899,elementName:_0x191d66,localizableParams:_0x5c7cbc,viewOnce:_0xd7bd3e,height:_0x54a751,width:_0x1f9de8,key:_0x34dd9f,firstScanLength:_0x5cdb08,firstScanSidecar:_0x5dd749,gifPlayback:_0x178d18,gifAttribution:_0x3b06ae,midQualityFileSha256:_0x368647,scansSidecar:_0x187e85,streamingSidecar:_0x2dde76,thumbnailHeight:_0x3b12a0,thumbnailWidth:_0x4db8f6,thumbnailEncSha256:_0x40add8,thumbnailDirectPath:_0xe577bd,canonicalUrl:_0x5c3ca4,matchedText:_0x4a37e6,previewType:_0x2277f7,thumbnailSha256:_0x12945c,deviceListMetadataVersion:_0x5d8827,inviteLinkGroupTypeV2:_0x506b4c,interactiveAnnotations:_0x235388,scanLengths:_0x181ba5,jpegThumbnail:_0x4595a5,url:_0x44d8cd,mediaKeyTimestamp:_0x134249,waveform:_0x2a020b,stickerSentTs:_0xe329e4,firstFrameLength:_0x5ed91e,fileEncSha256:_0x18c1a7,contextInfo:_0x2dd02f,firstFrameSidecar:_0x3d6181,directPath:_0x2e7dcb,fileSha256:_0x131389,mediaKey:_0x21c01a,senderTimestampMs:_0x48b428,..._0xe8cd37}=_0x19607b;(_0x249697===_0x139564(0x46d)||_0x249697==='listResponseMessage')&&(delete _0xe8cd37[_0x139564(0x651)],delete _0xe8cd37[_0x139564(0x5cf)]),typeof _0x19607b==_0x139564(0x1a3)?_0x117153={'text':_0x19607b,'type':_0x249697||_0x139564(0x5ec),..._0x44a748&&{'edited':_0x44a748},..._0x3a1456&&{'quoted':_0x3a1456},..._0x2c552b&&{'reaction':_0x2c552b}}:_0x117153={'text':_0x20aa0b,..._0xe8cd37,..._0x249697===_0x139564(0x30e)?{'poll_id':_0x19607b[_0x139564(0x366)]['id'],'quoted':_0x19607b[_0x139564(0x366)]['id'],'vote':_0x439fcb}:{},..._0x249697===_0x139564(0x5d7)?{'vote':_0x439fcb}:{},'type':_0x249697,..._0x44a748&&{'edited':_0x44a748},..._0x3a1456&&{'quoted':_0x3a1456},..._0x2c552b&&{'reaction':_0x2c552b},...(_0x249697==='pollCreationMessage'||_0x249697===_0x139564(0x2be)||_0x249697==='pollCreationMessageV3'||_0x249697===_0x139564(0x46d))&&{'convertedOptions':_0x117153[_0x139564(0x759)]}};}return{'messageType':_0x249697,'messageContent':_0x19607b,'message_normalized':_0x117153};}catch(_0x52fe6b){return this[_0x139564(0x773)][_0x139564(0x2e7)](_0x139564(0x467)+_0x52fe6b),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x18d364(0x3c3)](),this[_0x18d364(0x60a)][_0x18d364(0x365)]={'count':0x0},this[_0x18d364(0x60a)][_0x18d364(0x1e8)]={'isConnected':!0x1,'delayMessage':null,'processingGroup_id':null,'lastSend':0x0,'timeout':null,'lastMessage_id':null});}set[a0_0x1955e1(0x192)](_0x2dcd68){const _0xd21c69=a0_0x1955e1;if(!_0x2dcd68){this[_0xd21c69(0x60a)][_0xd21c69(0x543)]=(0x0,_i['v4'])();return;}this['instance'][_0xd21c69(0x543)]=_0x2dcd68,this[_0xd21c69(0x8a1)](_0xd21c69(0x4c1),{'instance':this['instance'][_0xd21c69(0x543)],'status':_0xd21c69(0x732)});}get[a0_0x1955e1(0x192)](){const _0x2a90ea=a0_0x1955e1;return this['instance'][_0x2a90ea(0x543)];}get['wuid'](){const _0x4da1ab=a0_0x1955e1;return this[_0x4da1ab(0x60a)]['wuid'];}async[a0_0x1955e1(0x7b6)](){const _0x35875a=a0_0x1955e1;let _0x3bcd8a=this[_0x35875a(0x88d)][_0x35875a(0x441)]?.[_0x35875a(0x543)]??this[_0x35875a(0x88d)][_0x35875a(0x441)]?.[_0x35875a(0x38c)];if(!_0x3bcd8a){if(this[_0x35875a(0x567)][_0x35875a(0x7be)](_0x35875a(0x51f))[_0x35875a(0x343)]){let _0x173d92=await R[_0x35875a(0x191)]()['db'](this['configService'][_0x35875a(0x7be)](_0x35875a(0x51f))['CONNECTION'][_0x35875a(0x82d)]+_0x35875a(0x495))['collection'](this[_0x35875a(0x192)])[_0x35875a(0x309)]({'_id':_0x35875a(0x82a)});if(_0x173d92){let _0x28d7c3=JSON['parse'](JSON[_0x35875a(0x36f)](_0x173d92),w['BufferJSON']['reviver']);_0x3bcd8a=_0x28d7c3['me']?.['name']||_0x28d7c3['me']?.[_0x35875a(0x38c)];}}else{if((0x0,Le[_0x35875a(0x73e)])((0x0,U[_0x35875a(0x279)])(Se,this[_0x35875a(0x192)],_0x35875a(0x42f)))){let _0x521364=JSON[_0x35875a(0x226)]((0x0,Le[_0x35875a(0x794)])((0x0,U[_0x35875a(0x279)])(Se,this[_0x35875a(0x192)],_0x35875a(0x42f)),{'encoding':'utf-8'}));_0x3bcd8a=_0x521364['me']?.[_0x35875a(0x543)]||_0x521364['me']?.['verifiedName'];}}}return _0x3bcd8a;}get[a0_0x1955e1(0x5a2)](){const _0x218c18=a0_0x1955e1;return this['instance'][_0x218c18(0x5a2)];}get[a0_0x1955e1(0x332)](){const _0x20c987=a0_0x1955e1;return this[_0x20c987(0x60a)][_0x20c987(0x365)]?.['pairingCode']?{'pairingCode':this['instance'][_0x20c987(0x365)]?.['pairingCode']}:{'code':this[_0x20c987(0x60a)][_0x20c987(0x365)]?.[_0x20c987(0x7d2)],'base64':this[_0x20c987(0x60a)][_0x20c987(0x365)]?.[_0x20c987(0x863)]};}async[a0_0x1955e1(0x6eb)](){const _0x3a8d76=a0_0x1955e1;let _0x23d5c8=await this[_0x3a8d76(0x3c7)][_0x3a8d76(0x75a)][_0x3a8d76(0x6d3)](this['instanceName']);this[_0x3a8d76(0x86c)][_0x3a8d76(0x263)]=_0x23d5c8?.['url'],this[_0x3a8d76(0x86c)][_0x3a8d76(0x79a)]=_0x23d5c8?.[_0x3a8d76(0x79a)],this[_0x3a8d76(0x86c)][_0x3a8d76(0x416)]=_0x23d5c8?.[_0x3a8d76(0x416)],this[_0x3a8d76(0x86c)]['STATUS_INSTANCE']=_0x23d5c8?.[_0x3a8d76(0x69f)],this['localWebhook'][_0x3a8d76(0x5a0)]=_0x23d5c8?.['QRCODE_UPDATED'],this[_0x3a8d76(0x86c)][_0x3a8d76(0x410)]=_0x23d5c8?.[_0x3a8d76(0x410)],this[_0x3a8d76(0x86c)][_0x3a8d76(0x344)]=_0x23d5c8?.[_0x3a8d76(0x344)],this[_0x3a8d76(0x86c)][_0x3a8d76(0x5d8)]=_0x23d5c8?.[_0x3a8d76(0x5d8)],this['localWebhook'][_0x3a8d76(0x24d)]=_0x23d5c8?.[_0x3a8d76(0x24d)],this['localWebhook']['GROUPS_UPDATE']=_0x23d5c8?.[_0x3a8d76(0x894)],this[_0x3a8d76(0x86c)][_0x3a8d76(0x1ce)]=_0x23d5c8?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x3a8d76(0x86c)][_0x3a8d76(0x6d2)]=_0x23d5c8?.[_0x3a8d76(0x6d2)],this[_0x3a8d76(0x86c)]['CHATS_UPSERT']=_0x23d5c8?.[_0x3a8d76(0x1bd)],this[_0x3a8d76(0x86c)][_0x3a8d76(0x761)]=_0x23d5c8?.[_0x3a8d76(0x761)],this[_0x3a8d76(0x86c)][_0x3a8d76(0x20f)]=_0x23d5c8?.[_0x3a8d76(0x20f)],this[_0x3a8d76(0x86c)][_0x3a8d76(0x6f7)]=_0x23d5c8?.[_0x3a8d76(0x6f7)],this[_0x3a8d76(0x86c)][_0x3a8d76(0x3b3)]=_0x23d5c8?.[_0x3a8d76(0x3b3)],this['localWebhook'][_0x3a8d76(0x37a)]=_0x23d5c8?.[_0x3a8d76(0x37a)],this[_0x3a8d76(0x86c)][_0x3a8d76(0x39c)]=_0x23d5c8?.['PRESENCE_UPDATE'],this['localWebhook'][_0x3a8d76(0x590)]=_0x23d5c8?.[_0x3a8d76(0x590)],this[_0x3a8d76(0x86c)][_0x3a8d76(0x8a4)]=_0x23d5c8?.[_0x3a8d76(0x8a4)],this[_0x3a8d76(0x86c)][_0x3a8d76(0x28e)]=_0x23d5c8?.['groups_ignore'];}async[a0_0x1955e1(0x6a3)](_0x3fde26){const _0x5cec74=a0_0x1955e1;let _0xe335bb=[_0x5cec74(0x45a),_0x5cec74(0x263),_0x5cec74(0x79a),'local_map',_0x5cec74(0x69f),_0x5cec74(0x5a0),'MESSAGES_UPDATE','MESSAGES_UPSERT',_0x5cec74(0x410),_0x5cec74(0x24d),_0x5cec74(0x894),_0x5cec74(0x1ce),'CHATS_SET','CHATS_UPSERT','CHATS_UPDATE',_0x5cec74(0x20f),_0x5cec74(0x6f7),_0x5cec74(0x3b3),_0x5cec74(0x37a),'PRESENCE_UPDATE',_0x5cec74(0x590),_0x5cec74(0x8a4),_0x5cec74(0x28e)],_0x3d9a67={};return _0xe335bb[_0x5cec74(0x408)](_0x543191=>{_0x3fde26[_0x543191]!==void 0x0&&(_0x3d9a67[_0x543191]=_0x3fde26[_0x543191]);}),_0x3d9a67[_0x5cec74(0x263)]&&(_0x3d9a67[_0x5cec74(0x263)]=_0x3d9a67[_0x5cec74(0x263)][_0x5cec74(0x4f1)]()),await this[_0x5cec74(0x3c7)][_0x5cec74(0x75a)]['create'](_0x3d9a67,this['instanceName']),Object[_0x5cec74(0x6af)](this['localWebhook'],_0x3d9a67),await this[_0x5cec74(0x3c7)]['webhook']['find'](this['instanceName']);}async[a0_0x1955e1(0x1d4)](){const _0x49cbf7=a0_0x1955e1;return await this[_0x49cbf7(0x3c7)][_0x49cbf7(0x75a)][_0x49cbf7(0x6d3)](this[_0x49cbf7(0x192)]);}async[a0_0x1955e1(0x8a1)](_0x375ecc,_0x2349ef){const _0x74871b=a0_0x1955e1;let _0x17b29d=_0x375ecc[_0x74871b(0x534)](/[\.-]/gm,'_')['toUpperCase'](),_0x28a8fa=this['localWebhook'][_0x74871b(0x79a)]&&(0x0,k[_0x74871b(0x3cd)])(this[_0x74871b(0x86c)][_0x74871b(0x263)])?this[_0x74871b(0x86c)][_0x74871b(0x263)]+(this['localWebhook'][_0x74871b(0x416)]?this[_0x74871b(0x3dc)][_0x375ecc]:''):null,_0x1e4f59=this[_0x74871b(0x86c)][_0x17b29d],_0x334828=ge&&ge[_0x74871b(0x79a)]&&(0x0,k[_0x74871b(0x3cd)])(ge[_0x74871b(0x263)])?ge[_0x74871b(0x263)]+(ge['local_map']?this[_0x74871b(0x3dc)][_0x375ecc]:''):null,_0x186cb9=ge?ge[_0x17b29d]:null;if(_0x1e4f59&&_0x28a8fa)try{await Q[_0x74871b(0x36d)][_0x74871b(0x4ed)]({'baseURL':_0x28a8fa})['post']('',{'event':_0x375ecc,'instance':this[_0x74871b(0x60a)][_0x74871b(0x543)],'apikey':this[_0x74871b(0x60a)][_0x74871b(0x610)],'data':_0x2349ef}),this[_0x74871b(0x773)]['log'](this[_0x74871b(0x192)]+'\x20('+this[_0x74871b(0x60a)][_0x74871b(0x33b)]+_0x74871b(0x368)+_0x375ecc+':\x20'+_0x28a8fa);}catch{this['logger']['error'](this[_0x74871b(0x192)]+'\x20('+this['instance']['wuid']+_0x74871b(0x3db)+_0x375ecc+':\x20'+_0x28a8fa);}if(_0x186cb9&&_0x334828)try{await Q[_0x74871b(0x36d)][_0x74871b(0x4ed)]({'baseURL':_0x334828})['post']('',{'event':_0x375ecc,'instance':this[_0x74871b(0x60a)]['name'],'apikey':this[_0x74871b(0x60a)][_0x74871b(0x610)],'data':_0x2349ef}),this[_0x74871b(0x773)][_0x74871b(0x538)](this[_0x74871b(0x192)]+'\x20('+this[_0x74871b(0x60a)][_0x74871b(0x33b)]+_0x74871b(0x1b7)+_0x375ecc+':\x20'+_0x334828);}catch{this[_0x74871b(0x773)]['error'](this[_0x74871b(0x192)]+'\x20('+this[_0x74871b(0x60a)]['wuid']+_0x74871b(0x52e)+_0x375ecc+':\x20'+_0x334828);}}async[a0_0x1955e1(0x1cc)]({qr:_0x5d45a2,connection:_0xd189ae,lastDisconnect:_0x809c6d}){const _0x1e441f=a0_0x1955e1;if(_0x5d45a2){if(this[_0x1e441f(0x60a)][_0x1e441f(0x365)][_0x1e441f(0x62b)]===Uo)return this[_0x1e441f(0x8a1)]('qrcode.updated',{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w['DisconnectReason'][_0x1e441f(0x5bd)]}),this[_0x1e441f(0x793)]={'state':_0x1e441f(0x47a),'statusReason':w['DisconnectReason']['connectionClosed']},this[_0x1e441f(0x8a1)]('connection.update',{'instance':this[_0x1e441f(0x60a)][_0x1e441f(0x543)],...this[_0x1e441f(0x793)]}),this['sendDataWebhook'](_0x1e441f(0x4c1),{'instance':this['instance'][_0x1e441f(0x543)],'status':_0x1e441f(0x561)}),this[_0x1e441f(0x3c7)]['auth'][_0x1e441f(0x544)](this[_0x1e441f(0x60a)][_0x1e441f(0x543)]),this['endSession']=!0x0,he['removeIPv6ById'](X,this[_0x1e441f(0x60a)][_0x1e441f(0x543)]),this[_0x1e441f(0x297)][_0x1e441f(0x23c)](_0x1e441f(0x1b5),this[_0x1e441f(0x60a)][_0x1e441f(0x543)]);this['instance'][_0x1e441f(0x365)][_0x1e441f(0x62b)]++;let _0x414a6a={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x1e441f(0x6b1),'dark':'#000000'}};xi[_0x1e441f(0x36d)]['toDataURL'](_0x5d45a2,_0x414a6a,(_0xb03a1b,_0x79b06e)=>{const _0xba8447=_0x1e441f;if(_0xb03a1b){this[_0xba8447(0x773)]['error'](this['instanceName']+'\x20('+this[_0xba8447(0x60a)][_0xba8447(0x33b)]+_0xba8447(0x3c0)+(_0xb03a1b instanceof Error?_0xb03a1b[_0xba8447(0x451)]:JSON[_0xba8447(0x36f)](_0xb03a1b,null,0x2)));return;}this[_0xba8447(0x60a)][_0xba8447(0x365)]['base64']=_0x79b06e,this[_0xba8447(0x60a)]['qrcode'][_0xba8447(0x7d2)]=_0x5d45a2,!this[_0xba8447(0x6c1)]&&this[_0xba8447(0x8a1)](_0xba8447(0x494),{'qrcode':{'instance':this[_0xba8447(0x60a)][_0xba8447(0x543)],'pairingCode':this['instance']['qrcode'][_0xba8447(0x507)],'code':_0x5d45a2,'base64':_0x79b06e}});}),this[_0x1e441f(0x6c1)]?this[_0x1e441f(0x60a)]['qrcode'][_0x1e441f(0x507)]||(await(0x0,w[_0x1e441f(0x858)])(0x7d0),this['instance'][_0x1e441f(0x365)][_0x1e441f(0x507)]=await this[_0x1e441f(0x88d)]['requestPairingCode'](this[_0x1e441f(0x6c1)])):this[_0x1e441f(0x60a)][_0x1e441f(0x365)][_0x1e441f(0x507)]=null,Di[_0x1e441f(0x36d)]['generate'](_0x5d45a2,{'small':!0x0},_0x304a68=>this['logger']['log'](_0x1e441f(0x59d)+this['instance'][_0x1e441f(0x543)]+_0x1e441f(0x762)+this[_0x1e441f(0x60a)][_0x1e441f(0x365)][_0x1e441f(0x62b)]+_0x1e441f(0x8bc)+this[_0x1e441f(0x60a)][_0x1e441f(0x365)]['pairingCode']+'\x20}\x0a'+_0x304a68));}if(_0xd189ae&&(this[_0x1e441f(0x793)]={'state':_0xd189ae,'statusReason':_0x809c6d?.[_0x1e441f(0x2e7)]?.['output']?.[_0x1e441f(0x897)]??0xc8},this[_0x1e441f(0x8a1)](_0x1e441f(0x56d),{'instance':this[_0x1e441f(0x60a)][_0x1e441f(0x543)],...this[_0x1e441f(0x793)]})),_0xd189ae===_0x1e441f(0x4ce)){if(this[_0x1e441f(0x222)]++,this[_0x1e441f(0x1bf)][_0x1e441f(0x6c9)](Date[_0x1e441f(0x835)]()),this['reconnectTimestamps']=this['reconnectTimestamps'][_0x1e441f(0x2c4)](_0x284212=>Date[_0x1e441f(0x835)]()-_0x284212<this[_0x1e441f(0x5a8)]),_0x809c6d[_0x1e441f(0x2e7)]?.[_0x1e441f(0x662)]?.['statusCode']!==w['DisconnectReason'][_0x1e441f(0x290)]){let _0x3c0e13=Math['min'](Math['pow'](0x2,this[_0x1e441f(0x222)])*0x3e8,0x493e0);console['log'](this['instanceName']+_0x1e441f(0x2f4)+this['reconnectAttempts']+'.\x20Aguardando\x20'+_0x3c0e13/0x3e8+_0x1e441f(0x726)),await new Promise(_0x30377f=>setTimeout(_0x30377f,_0x3c0e13)),console['log']('Tentando\x20reconectar...'),await this['connectToWhatsapp']();}else{this[_0x1e441f(0x8a1)](_0x1e441f(0x4c1),{'instance':this[_0x1e441f(0x60a)][_0x1e441f(0x543)],'status':_0x1e441f(0x561)}),this['instance'][_0x1e441f(0x1e8)][_0x1e441f(0x5bc)]=!0x1,this[_0x1e441f(0x3c7)]['webhook'][_0x1e441f(0x544)](this[_0x1e441f(0x192)]),this[_0x1e441f(0x3c7)]['auth'][_0x1e441f(0x4ed)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x1e441f(0x835)]()},this[_0x1e441f(0x60a)]['name']),he[_0x1e441f(0x2d5)](X,this['instance']['name']);try{this[_0x1e441f(0x773)]['verbose'](this[_0x1e441f(0x192)]+'\x20('+this['instance']['wuid']+_0x1e441f(0x4ba));let _0x2c0c16=await this[_0x1e441f(0x3c7)][_0x1e441f(0x451)]['deleteAll'](this['instance'][_0x1e441f(0x33b)]);_0x2c0c16['success']?this[_0x1e441f(0x773)][_0x1e441f(0x2b1)](this['instanceName']+'\x20('+this[_0x1e441f(0x60a)][_0x1e441f(0x33b)]+_0x1e441f(0x321)):this[_0x1e441f(0x773)][_0x1e441f(0x2e7)](_0x1e441f(0x3da)+_0x2c0c16[_0x1e441f(0x2e7)]);}catch(_0xa679ce){this[_0x1e441f(0x773)]['error']('Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20'+_0xa679ce[_0x1e441f(0x451)]);}this[_0x1e441f(0x60a)][_0x1e441f(0x1e8)][_0x1e441f(0x4ac)]!==null&&(this[_0x1e441f(0x773)][_0x1e441f(0x2b1)](this['instanceName']+'\x20('+this['instance'][_0x1e441f(0x33b)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x1e441f(0x60a)][_0x1e441f(0x1e8)]['delayMessage']),this[_0x1e441f(0x60a)]['ScheduleMessage'][_0x1e441f(0x4ac)]=null),this[_0x1e441f(0x773)]['verbose'](this[_0x1e441f(0x192)]+'\x20('+this[_0x1e441f(0x60a)]['wuid']+_0x1e441f(0x731)),this[_0x1e441f(0x4a3)]=null,this[_0x1e441f(0x297)][_0x1e441f(0x23c)](_0x1e441f(0x7d5),this['instance'][_0x1e441f(0x543)],_0x1e441f(0x764)),this['client']?.['ws']?.[_0x1e441f(0x4ce)](),this['client']['end'](new Error('Close\x20connection'));}}if(_0xd189ae===_0x1e441f(0x2ac)){try{this[_0x1e441f(0x88d)]['ev'][_0x1e441f(0x630)]();}catch(_0x531108){this[_0x1e441f(0x773)][_0x1e441f(0x2e7)](_0x531108);}this[_0x1e441f(0x378)],this[_0x1e441f(0x60a)]['wuid']=this[_0x1e441f(0x88d)][_0x1e441f(0x441)]['id'][_0x1e441f(0x534)](/:\d+/,'')[_0x1e441f(0x534)](_0x1e441f(0x1a9),''),this['instance'][_0x1e441f(0x5a2)]=(await this['profilePicture'](this[_0x1e441f(0x60a)]['wuid']+_0x1e441f(0x1a9)))[_0x1e441f(0x5a2)],this[_0x1e441f(0x3c7)]['auth']['create']({'online':!0x0,'owner':this[_0x1e441f(0x60a)]['wuid'],'lastDisconnect':null},this[_0x1e441f(0x60a)]['name']);let _0x102221='Número:\x20'+this[_0x1e441f(0x60a)][_0x1e441f(0x33b)],_0x2eb3d5=0x28,_0x261864=Math['floor']((_0x2eb3d5-_0x102221[_0x1e441f(0x7dc)])/0x2),_0x2ac8ca='\x20'[_0x1e441f(0x6dd)](_0x261864),_0x189b67=_0x1e441f(0x68e),_0x124a9f=_0x1e441f(0x83e)+this[_0x1e441f(0x60a)][_0x1e441f(0x543)],_0xb08cd3=(''+_0x2ac8ca+_0x102221+_0x2ac8ca)[_0x1e441f(0x78b)](_0x2eb3d5,'\x20'),_0x19bc2b=(''+_0x2ac8ca+_0x189b67+_0x2ac8ca)['padEnd'](_0x2eb3d5,'\x20'),_0x17bbef=(''+_0x2ac8ca+_0x124a9f+_0x2ac8ca)[_0x1e441f(0x78b)](_0x2eb3d5,'\x20'),_0x254228=Math['max'](_0xb08cd3[_0x1e441f(0x7dc)],_0x19bc2b[_0x1e441f(0x7dc)],_0x17bbef[_0x1e441f(0x7dc)]),_0x3f0f73=_0xb08cd3[_0x1e441f(0x78b)](_0x254228,'\x20'),_0x142c4d=_0x19bc2b[_0x1e441f(0x78b)](_0x254228,'\x20'),_0x4a293a=_0x17bbef['padEnd'](_0x254228,'\x20');this[_0x1e441f(0x773)]['info'](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x1e441f(0x6dd)](_0x254228)+_0x1e441f(0x7ec)+_0x142c4d+_0x1e441f(0x446)+_0x4a293a+_0x1e441f(0x446)+_0x3f0f73+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'[_0x1e441f(0x6dd)](_0x254228)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x1e441f(0x2b7)](),this[_0x1e441f(0x60a)][_0x1e441f(0x1e8)][_0x1e441f(0x5bc)]=!0x0;}}[a0_0x1955e1(0x378)](){const _0x135fc6=a0_0x1955e1;this[_0x135fc6(0x222)]=0x0,this[_0x135fc6(0x1bf)]=[];}async['getMessage'](_0x128dcc,_0x30fada=!0x1){const _0x19a437=a0_0x1955e1;try{let _0x1e6d03=await this['repository'][_0x19a437(0x451)]['find']({'where':{'_id':_0x128dcc['id']}},this[_0x19a437(0x60a)][_0x19a437(0x33b)]);return _0x30fada?_0x1e6d03[0x0]:_0x1e6d03[0x0][_0x19a437(0x451)];}catch{return{'conversation':''};}}[a0_0x1955e1(0x3c3)](){const _0x5839ef=a0_0x1955e1;let _0x5ee3eb=this[_0x5839ef(0x567)][_0x5839ef(0x7be)](_0x5839ef(0x594)),_0x22459b=this[_0x5839ef(0x567)]['get'](_0x5839ef(0x51f));_0x5ee3eb?.[_0x5839ef(0x771)]&&!_0x22459b[_0x5839ef(0x343)]&&setInterval(()=>{const _0x802e67=_0x5839ef;try{for(let [_0x284c12,_0x11eebf]of Object[_0x802e67(0x701)](_0x5ee3eb))_0x11eebf===!0x0&&(0x0,Fe[_0x802e67(0x3cc)])(_0x802e67(0x595)+(0x0,U[_0x802e67(0x279)])(this['storePath'],_0x284c12[_0x802e67(0x39d)](),this[_0x802e67(0x60a)]['wuid'])+_0x802e67(0x76f));}catch{}},(_0x5ee3eb?.[_0x5839ef(0x771)]??0xe10)*0x3e8);}async[a0_0x1955e1(0x562)](){const _0x3781f2=a0_0x1955e1;let _0x513275=this['configService']['get'](_0x3781f2(0x51f)),_0x35f3f8=this['configService'][_0x3781f2(0x7be)]('REDIS');return _0x35f3f8?.[_0x3781f2(0x343)]?await Ds(_0x35f3f8,this[_0x3781f2(0x60a)][_0x3781f2(0x543)]):_0x513275['ENABLED']?await xs(this['instance'][_0x3781f2(0x543)]):await(0x0,w[_0x3781f2(0x7f1)])((0x0,U[_0x3781f2(0x279)])(Se,this[_0x3781f2(0x60a)][_0x3781f2(0x543)]));}async[a0_0x1955e1(0x2b7)](){const _0x32a320=a0_0x1955e1;let _0x458144=()=>Math[_0x32a320(0x580)](Math[_0x32a320(0x5ad)]()*0x4e21)+0x7d0,_0xd7e2c0=async()=>{const _0x5380c2=_0x32a320;if(!this[_0x5380c2(0x60a)][_0x5380c2(0x1e8)][_0x5380c2(0x5bc)]){this[_0x5380c2(0x773)][_0x5380c2(0x2b1)](this[_0x5380c2(0x192)]+'\x20('+this[_0x5380c2(0x60a)]['wuid']+'):Desconectado,\x20parando\x20execução.'),this['isRunning']=!0x1;return;}if(this['instance'][_0x5380c2(0x33b)]&&this[_0x5380c2(0x4a3)]&&this[_0x5380c2(0x60a)][_0x5380c2(0x1e8)][_0x5380c2(0x4ac)]!==null&&this['instance'][_0x5380c2(0x1e8)][_0x5380c2(0x4ac)]!==void 0x0){let _0x15ee8e=Math[_0x5380c2(0x7ac)](this[_0x5380c2(0x60a)][_0x5380c2(0x1e8)][_0x5380c2(0x4ac)]/0xea60);this['logger']['verbose'](this[_0x5380c2(0x192)]+'\x20('+this[_0x5380c2(0x60a)]['wuid']+_0x5380c2(0x38a)+_0x15ee8e+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x5380c2(0x8b7)]=!0x1;return;}else this[_0x5380c2(0x60a)][_0x5380c2(0x33b)]&&(this[_0x5380c2(0x773)][_0x5380c2(0x2b1)](this['instanceName']+'\x20('+this[_0x5380c2(0x60a)][_0x5380c2(0x33b)]+_0x5380c2(0x389)),this[_0x5380c2(0x4a3)]||(await this[_0x5380c2(0x4e0)](),this['findGroups'](),this[_0x5380c2(0x581)]()),(this['instance'][_0x5380c2(0x1e8)]['delayMessage']===null||this[_0x5380c2(0x60a)][_0x5380c2(0x1e8)][_0x5380c2(0x4ac)]===void 0x0)&&await this[_0x5380c2(0x1f1)]());if(this['isRunning']){let _0x2c6473=_0x458144();this['logger'][_0x5380c2(0x2b1)](this[_0x5380c2(0x192)]+_0x5380c2(0x1dc)+_0x2c6473/0x3e8+_0x5380c2(0x30c)),setTimeout(_0xd7e2c0,_0x2c6473);}};if(this[_0x32a320(0x8b7)])return;this['isRunning']=!0x0;let _0x76825a=_0x458144();setTimeout(_0xd7e2c0,_0x76825a);}async['synchronizeAndMapFlows'](){const _0x403867=a0_0x1955e1;let _0x23a28b=this[_0x403867(0x60a)][_0x403867(0x33b)];try{let _0x54c343=await this[_0x403867(0x3c7)]['flow'][_0x403867(0x1ef)]({'where':{'$or':[{'owner':_0x23a28b},{'whoCanUse':{'$in':[_0x23a28b]}},{'shareOwners':{'$in':[_0x23a28b]}}]}}),_0x68e8a8=await this['repository'][_0x403867(0x4b9)][_0x403867(0x1ef)]({'where':{'$or':[{'owner':'global'},{'whoCanUse':{'$in':[_0x403867(0x603)]}},{'shareOwners':{'$in':['global']}}]}});_0x68e8a8&&_0x68e8a8[_0x403867(0x7dc)]>0x0?this[_0x403867(0x773)][_0x403867(0x2b1)](this[_0x403867(0x192)]+'\x20('+this['instance']['wuid']+_0x403867(0x6b3)):(await this[_0x403867(0x3c7)][_0x403867(0x4b9)][_0x403867(0x395)]('global'),this[_0x403867(0x773)][_0x403867(0x2b1)](this[_0x403867(0x192)]+'\x20('+this['instance'][_0x403867(0x33b)]+_0x403867(0x5fa))),_0x54c343&&_0x54c343[_0x403867(0x7dc)]>0x0?this['logger']['verbose'](this[_0x403867(0x192)]+'\x20('+this[_0x403867(0x60a)][_0x403867(0x33b)]+_0x403867(0x641)+_0x23a28b+_0x403867(0x5da)):(await this[_0x403867(0x3c7)][_0x403867(0x4b9)][_0x403867(0x395)](_0x23a28b),this[_0x403867(0x773)]['verbose'](this[_0x403867(0x192)]+'\x20('+this[_0x403867(0x60a)]['wuid']+'):\x20Fluxos\x20do\x20proprietário\x20\x27'+_0x23a28b+_0x403867(0x40f)),_0x54c343=await this[_0x403867(0x3c7)][_0x403867(0x4b9)][_0x403867(0x1ef)]({'where':{'$or':[{'owner':_0x23a28b},{'whoCanUse':{'$in':[_0x23a28b]}},{'shareOwners':{'$in':[_0x23a28b]}}]}}));let _0x3421b7=new Map(this[_0x403867(0x4a3)][_0x403867(0x1fe)][_0x403867(0x3e2)](_0x172716=>[_0x172716[_0x403867(0x45a)],_0x172716])),_0x48c751=_0x54c343['map'](_0x3f376d=>{const _0x41f083=_0x403867;let _0x2dc301=_0x3421b7[_0x41f083(0x7be)](_0x3f376d['_id']?.[_0x41f083(0x6c3)]());return{'_id':_0x3f376d[_0x41f083(0x45a)]?.[_0x41f083(0x6c3)](),'name':_0x2dc301?.[_0x41f083(0x543)]??_0x3f376d[_0x41f083(0x543)],'default':_0x2dc301?.[_0x41f083(0x36d)]??_0x3f376d[_0x41f083(0x36d)]??!0x1,'startCommand':_0x2dc301?.['startCommand']??_0x3f376d['startCommandWord'],'minutesToClose':_0x2dc301?.[_0x41f083(0x5de)]??_0x3f376d['minutesToClose']??0xa,'readMessages':_0x2dc301?.[_0x41f083(0x47f)]??_0x3f376d['readMessages']??!0x1,'testingWith':_0x2dc301?.[_0x41f083(0x716)]??_0x3f376d[_0x41f083(0x716)],'canEdit':_0x3f376d[_0x41f083(0x484)]===_0x23a28b||(_0x3f376d[_0x41f083(0x3c8)]??[])[_0x41f083(0x718)](_0x23a28b),'usersCount':(_0x3f376d[_0x41f083(0x28d)]??[])[_0x41f083(0x7dc)]??0x0};}),_0x36fb1d=!0x1;_0x48c751[_0x403867(0x408)](_0x21a050=>{const _0x5598b4=_0x403867;_0x21a050[_0x5598b4(0x36d)]&&(_0x36fb1d?_0x21a050[_0x5598b4(0x36d)]=!0x1:_0x36fb1d=!0x0);}),this[_0x403867(0x4a3)][_0x403867(0x1fe)]=_0x48c751;let _0x3dc848={'flows':_0x48c751};return await this[_0x403867(0x3c7)][_0x403867(0x70a)][_0x403867(0x563)](_0x3dc848,_0x23a28b),this[_0x403867(0x773)][_0x403867(0x2b1)](this[_0x403867(0x192)]+'\x20('+_0x23a28b+_0x403867(0x8ca)),_0x48c751[_0x403867(0x7dc)];}catch(_0x4392cb){return this[_0x403867(0x773)][_0x403867(0x2e7)](this['instanceName']+'\x20('+_0x23a28b+_0x403867(0x683)+(_0x4392cb instanceof Error?_0x4392cb[_0x403867(0x451)]:JSON[_0x403867(0x36f)](_0x4392cb,null,0x2))),{'message':_0x403867(0x353)+(_0x4392cb instanceof Error?_0x4392cb[_0x403867(0x451)]:JSON[_0x403867(0x36f)](_0x4392cb,null,0x2))};}}async[a0_0x1955e1(0x26e)](_0x225d5b){const _0x2eacde=a0_0x1955e1;try{let _0x17d752=await this['repository']['instance']['findOne']({'where':{'_id':X+'-'+this[_0x2eacde(0x192)]}}),_0x3e4888;console[_0x2eacde(0x538)](_0x2eacde(0x37f)),console[_0x2eacde(0x538)](_0x2eacde(0x74b),Oi),console[_0x2eacde(0x538)](_0x2eacde(0x29d),this['reconnectAttempts']),console[_0x2eacde(0x538)](_0x2eacde(0x37f)),Oi&&(this[_0x2eacde(0x222)]<0x4||!this[_0x2eacde(0x222)])&&(!he[_0x2eacde(0x717)]||!he[_0x2eacde(0x3ea)]?(console[_0x2eacde(0x2e7)]('IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.'),_0x3e4888=void 0x0):_0x17d752&&_0x17d752['ip']?(_0x3e4888=_0x17d752['ip'],console[_0x2eacde(0x538)]('Usando\x20IP\x20existente:\x20'+_0x3e4888)):(_0x3e4888=await he[_0x2eacde(0x1fb)](X,this[_0x2eacde(0x60a)][_0x2eacde(0x543)]),_0x3e4888?(console['log'](_0x2eacde(0x6e8)+_0x3e4888),await(0x0,w[_0x2eacde(0x858)])(0x3e8)):console['error'](_0x2eacde(0x29c)))),this['loadWebhook'](),this[_0x2eacde(0x60a)][_0x2eacde(0x610)]=(await this[_0x2eacde(0x3c7)][_0x2eacde(0x2e4)][_0x2eacde(0x6d3)](this[_0x2eacde(0x60a)][_0x2eacde(0x543)]))['apikey'],this[_0x2eacde(0x60a)][_0x2eacde(0x778)]=await this[_0x2eacde(0x562)]();let {version:_0x393cbb}=await(0x0,w[_0x2eacde(0x7ca)])(),_0x327cb2=[ki,js,(0x0,Ls[_0x2eacde(0x7cf)])()],_0x44fdb5={'localAddress':_0x3e4888,'auth':{'creds':this['instance'][_0x2eacde(0x778)][_0x2eacde(0x6fa)][_0x2eacde(0x82a)],'keys':(0x0,w[_0x2eacde(0x593)])(this['instance'][_0x2eacde(0x778)][_0x2eacde(0x6fa)][_0x2eacde(0x281)],(0x0,Jt[_0x2eacde(0x36d)])({'level':'error'}))},'logger':(0x0,Jt['default'])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x225d5b?[_0x2eacde(0x357),js,(0x0,Ls[_0x2eacde(0x7cf)])()]:_0x327cb2,'version':_0x393cbb,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x18dbc3=>{const _0x3f4456=_0x2eacde;let _0x454688=_0x18dbc3[_0x3f4456(0x339)]('@newsletter'),_0x5becb2=this['localWebhook']?.[_0x3f4456(0x28e)]&&_0x18dbc3[_0x3f4456(0x339)](_0x3f4456(0x3c5));return _0x454688||(0x0,w[_0x3f4456(0x6a8)])(_0x18dbc3)||_0x5becb2;},'msgRetryCounterCache':this[_0x2eacde(0x4a7)],'getMessage':async _0x43bd2e=>await this[_0x2eacde(0x7db)](_0x43bd2e),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x2eacde(0x214)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x1cce74=>(_0x1cce74['listMessage']?.['listType']==w[_0x2eacde(0x583)][_0x2eacde(0x72a)][_0x2eacde(0x81a)][_0x2eacde(0x4a8)][_0x2eacde(0x1ad)]&&(_0x1cce74=JSON['parse'](JSON['stringify'](_0x1cce74)),_0x1cce74[_0x2eacde(0x46d)][_0x2eacde(0x5b3)]=w[_0x2eacde(0x583)]['Message'][_0x2eacde(0x81a)][_0x2eacde(0x4a8)][_0x2eacde(0x3c4)]),_0x1cce74)};return this[_0x2eacde(0x803)]=!0x1,this['client']=(0x0,w['default'])(_0x44fdb5),this[_0x2eacde(0x58a)](),this[_0x2eacde(0x6c1)]=_0x225d5b,this[_0x2eacde(0x88d)];}catch(_0x215d1c){let _0x490c8a=_0x2eacde(0x18c),_0x49cd5e=_0x215d1c instanceof Error?_0x215d1c['message']:typeof _0x215d1c==_0x2eacde(0x64b)?JSON[_0x2eacde(0x36f)](_0x215d1c):_0x215d1c,_0x135968=_0x490c8a+':\x20'+_0x49cd5e;throw this[_0x2eacde(0x773)][_0x2eacde(0x2e7)](this['instanceName']+'\x20('+this[_0x2eacde(0x60a)]['wuid']+_0x2eacde(0x6cd)+_0x135968),new x(_0x135968);}}[a0_0x1955e1(0x58a)](){const _0x3d0cc9=a0_0x1955e1;this[_0x3d0cc9(0x88d)]['ev']['process'](_0x216936=>{const _0x6c25fc=_0x3d0cc9;if(!this[_0x6c25fc(0x803)]){let _0x274bf3=this[_0x6c25fc(0x567)][_0x6c25fc(0x7be)](_0x6c25fc(0x51f));if(_0x216936[_0x6c25fc(0x304)]){let _0x56bb50=_0x216936[_0x6c25fc(0x304)];this['messageHandle'][_0x6c25fc(0x304)](_0x56bb50);}if(_0x216936['labels.association']){let _0x2cf1c1=_0x216936[_0x6c25fc(0x274)];this[_0x6c25fc(0x37e)]['labels.association'](_0x2cf1c1);}if(_0x216936[_0x6c25fc(0x56d)]&&this[_0x6c25fc(0x1cc)](_0x216936[_0x6c25fc(0x56d)]),_0x216936[_0x6c25fc(0x32b)]&&this[_0x6c25fc(0x60a)]['authState'][_0x6c25fc(0x619)](),_0x216936[_0x6c25fc(0x500)]){let _0x4bd22e=_0x216936[_0x6c25fc(0x500)];this[_0x6c25fc(0x37e)][_0x6c25fc(0x500)](_0x4bd22e,_0x274bf3);}if(_0x216936['messages.upsert']){let _0x50cc40=_0x216936[_0x6c25fc(0x4c9)];this['messageHandle'][_0x6c25fc(0x4c9)](_0x50cc40,_0x274bf3);}if(_0x216936['messages.update']){let _0x41740b=_0x216936[_0x6c25fc(0x2d0)];this[_0x6c25fc(0x37e)][_0x6c25fc(0x2d0)](_0x41740b,_0x274bf3);}if(_0x216936[_0x6c25fc(0x844)]){let _0x57c1d1=_0x216936[_0x6c25fc(0x844)];if(this[_0x6c25fc(0x86c)]?.[_0x6c25fc(0x28e)]&&_0x57c1d1['id'][_0x6c25fc(0x718)](_0x6c25fc(0x3c5)))return;this[_0x6c25fc(0x8a1)](_0x6c25fc(0x844),_0x57c1d1);}if(_0x216936[_0x6c25fc(0x606)]){let _0x37010e=_0x216936[_0x6c25fc(0x606)];this[_0x6c25fc(0x68d)][_0x6c25fc(0x606)](_0x37010e);}if(_0x216936[_0x6c25fc(0x8c1)]){let _0x475e3a=_0x216936[_0x6c25fc(0x8c1)];this[_0x6c25fc(0x68d)][_0x6c25fc(0x8c1)](_0x475e3a);}if(_0x216936[_0x6c25fc(0x2c0)]){let _0x7d68dd=_0x216936['group-participants.update'];this['groupHandler'][_0x6c25fc(0x2c0)](_0x7d68dd);}if(_0x216936[_0x6c25fc(0x7a4)]){let _0x51c5a0=_0x216936['chats.upsert'];this[_0x6c25fc(0x42e)]['chats.upsert'](_0x51c5a0,_0x274bf3);}if(_0x216936[_0x6c25fc(0x519)]){let _0x31bfc1=_0x216936[_0x6c25fc(0x519)];this[_0x6c25fc(0x42e)][_0x6c25fc(0x519)](_0x31bfc1,_0x274bf3);}if(_0x216936[_0x6c25fc(0x2e2)]){let _0x1f5ec9=_0x216936['chats.delete'];this[_0x6c25fc(0x42e)][_0x6c25fc(0x2e2)](_0x1f5ec9);}if(_0x216936[_0x6c25fc(0x616)]){let _0x20d189=_0x216936['contacts.upsert'];this[_0x6c25fc(0x7ee)][_0x6c25fc(0x616)](_0x20d189,_0x274bf3);}if(_0x216936[_0x6c25fc(0x268)]){let _0x4f1ba4=_0x216936[_0x6c25fc(0x268)];this[_0x6c25fc(0x7ee)][_0x6c25fc(0x268)](_0x4f1ba4,_0x274bf3);}}});}async[a0_0x1955e1(0x1bb)](_0x394526,_0x487b82){const _0x1cfdbf=a0_0x1955e1;if(_0x487b82>=0xa){console[_0x1cfdbf(0x2e7)](this['instanceName']+'\x20('+this[_0x1cfdbf(0x60a)][_0x1cfdbf(0x33b)]+_0x1cfdbf(0x824)),delete jt[_0x394526['key']['id']];return;}try{console[_0x1cfdbf(0x2e7)](this['instanceName']+'\x20('+this[_0x1cfdbf(0x60a)][_0x1cfdbf(0x33b)]+_0x1cfdbf(0x89f)+(_0x487b82+0x1)),await this[_0x1cfdbf(0x88d)][_0x1cfdbf(0x435)](JSON[_0x1cfdbf(0x226)](_0x394526[_0x1cfdbf(0x6e9)][0x1],w[_0x1cfdbf(0x470)][_0x1cfdbf(0x592)])),console[_0x1cfdbf(0x2e7)]('[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso');}catch(_0x21bc8c){console[_0x1cfdbf(0x2e7)](this[_0x1cfdbf(0x192)]+'\x20('+this[_0x1cfdbf(0x60a)][_0x1cfdbf(0x33b)]+'):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20'+_0x21bc8c),setTimeout(()=>this[_0x1cfdbf(0x1bb)](_0x394526,_0x487b82+0x1),Math[_0x1cfdbf(0x770)](0x2,_0x487b82)*0x3e8);}}[a0_0x1955e1(0x7c8)](_0x230116){return new Promise(_0x192ec5=>setTimeout(_0x192ec5,_0x230116));}[a0_0x1955e1(0x7cc)](_0x5094f7){const _0x4c85b5=a0_0x1955e1;_0x5094f7=_0x5094f7['replace'](/\D/g,'');let _0x453555=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x4c85b5(0x564)](_0x5094f7);if(_0x453555&&_0x453555[0x1]==='55'){let _0xbf7279=_0x453555[0x2],_0x2a67ae=_0x453555[0x3],_0x4cbb21=_0x453555[0x4];if(parseInt(_0xbf7279)>=0x1f&&_0x2a67ae==='9')return _0x453555[0x1]+_0xbf7279+_0x4cbb21;}return _0x5094f7;}[a0_0x1955e1(0x792)](_0x3a54ce){const _0x1922f9=a0_0x1955e1;return _0x3a54ce['includes']('@g.us')||_0x3a54ce[_0x1922f9(0x718)](_0x1922f9(0x1a9))||_0x3a54ce['includes'](_0x1922f9(0x547))?_0x3a54ce:(_0x3a54ce=_0x3a54ce?.['replace'](/\s/g,'')[_0x1922f9(0x534)](/\+/g,'')['replace'](/\(/g,'')[_0x1922f9(0x534)](/\)/g,'')['split'](/\:/)[0x0]['split']('@')[0x0],_0x3a54ce[_0x1922f9(0x7dc)]>=0x12?(_0x3a54ce=_0x3a54ce[_0x1922f9(0x534)](/[^\d-]/g,''),_0x3a54ce+_0x1922f9(0x3c5)):(_0x3a54ce=_0x3a54ce[_0x1922f9(0x534)](/\D/g,''),_0x3a54ce+_0x1922f9(0x1a9)));}async[a0_0x1955e1(0x642)](_0x2c68d3){const _0x21e8ce=a0_0x1955e1;let _0x53d1a7=(await this['whatsappNumber']({'numbers':[_0x2c68d3[_0x21e8ce(0x1a0)]]}))[0x0];if(!_0x53d1a7['exists']&&!(0x0,w[_0x21e8ce(0x35e)])(_0x53d1a7['jid'])&&!_0x53d1a7[_0x21e8ce(0x6b2)]['includes'](_0x21e8ce(0x547)))throw new m(_0x53d1a7);let _0x104db8=_0x53d1a7['jid'];try{return await this[_0x21e8ce(0x88d)][_0x21e8ce(0x327)](_0x104db8),await this[_0x21e8ce(0x88d)][_0x21e8ce(0x841)](_0x2c68d3['presence'],_0x104db8),{'status':0xc8,'presence':_0x2c68d3['presence']};}catch(_0x9351b5){let _0x55d7f0='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x2de3d4=_0x9351b5 instanceof Error?_0x9351b5['message']:typeof _0x9351b5==_0x21e8ce(0x64b)?JSON[_0x21e8ce(0x36f)](_0x9351b5):_0x9351b5,_0x5b4d2b=_0x55d7f0+':\x20'+_0x2de3d4;throw this['logger'][_0x21e8ce(0x2e7)](this['instanceName']+'\x20('+this[_0x21e8ce(0x60a)][_0x21e8ce(0x33b)]+_0x21e8ce(0x6cd)+_0x5b4d2b),new m(_0x5b4d2b);}}async[a0_0x1955e1(0x749)](_0x27cdc9,_0x4c49cc,_0x5cf1d8,_0x575b96=!0x0){const _0x1d900e=a0_0x1955e1;let _0xda5000=await this[_0x1d900e(0x3c7)][_0x1d900e(0x61e)]['findOne']({'where':{'_id':_0x27cdc9}});if(!_0xda5000&&!_0x575b96)return;let _0x50fb59={'lastUpdate':Date[_0x1d900e(0x835)]()};if(_0x5cf1d8||!_0xda5000?.[_0x1d900e(0x775)]||Date['now']()-_0xda5000[_0x1d900e(0x775)]>0x18*0x3c*0x3c*0x3e8)try{let _0x1e1e3e=(await this[_0x1d900e(0x8a7)](_0x27cdc9))[_0x1d900e(0x5a2)];_0x50fb59[_0x1d900e(0x6ff)]=_0x1e1e3e;}catch(_0x37a265){let _0x5cccba=_0x1d900e(0x5af),_0xf193d2=_0x37a265 instanceof Error?_0x37a265[_0x1d900e(0x451)]:typeof _0x37a265==_0x1d900e(0x64b)?JSON[_0x1d900e(0x36f)](_0x37a265):_0x37a265,_0x38f318=_0x5cccba+':\x20'+_0xf193d2;throw this[_0x1d900e(0x773)][_0x1d900e(0x2e7)](this['instanceName']+'\x20('+this[_0x1d900e(0x60a)][_0x1d900e(0x33b)]+_0x1d900e(0x6cd)+_0x38f318),new m(_0x38f318);}return _0x4c49cc&&_0xda5000?.[_0x1d900e(0x543)]!==_0x4c49cc&&(_0x50fb59[_0x1d900e(0x543)]=_0x4c49cc),Object[_0x1d900e(0x281)](_0x50fb59)[_0x1d900e(0x7dc)]>0x1&&(_0xda5000?await this[_0x1d900e(0x3c7)][_0x1d900e(0x61e)]['update']({'where':{'_id':_0x27cdc9}},_0x50fb59):await this[_0x1d900e(0x3c7)][_0x1d900e(0x61e)][_0x1d900e(0x541)]([{'_id':_0x27cdc9,..._0x50fb59}]),_0xda5000={..._0xda5000,..._0x50fb59}),{'cachedContact':_0xda5000};}async[a0_0x1955e1(0x8a7)](_0x3c17a8){const _0x446a56=a0_0x1955e1;let _0x200128=this[_0x446a56(0x792)](_0x3c17a8);try{return{'wuid':_0x200128,'profilePictureUrl':await this[_0x446a56(0x88d)][_0x446a56(0x5a2)](_0x200128,_0x446a56(0x412))};}catch{return{'wuid':_0x200128,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x5641d9,_0x5c4a29,_0x303bb9){const _0x6b2893=a0_0x1955e1;let _0x1253f6;try{let _0x10c4ea=(await this[_0x6b2893(0x73d)]({'numbers':[_0x5641d9]}))[0x0];if(!_0x10c4ea[_0x6b2893(0x72e)]&&!(0x0,w[_0x6b2893(0x35e)])(_0x10c4ea[_0x6b2893(0x6b2)])&&!_0x10c4ea[_0x6b2893(0x6b2)][_0x6b2893(0x718)]('@broadcast'))throw new m(_0x10c4ea);_0x1253f6=_0x10c4ea[_0x6b2893(0x6b2)];}catch(_0x107d68){_0x1253f6=_0x5641d9,this[_0x6b2893(0x773)][_0x6b2893(0x4cb)](this[_0x6b2893(0x192)]+'\x20('+this[_0x6b2893(0x60a)][_0x6b2893(0x33b)]+'):\x20error:\x20'+_0x107d68[_0x6b2893(0x451)]),this['logger'][_0x6b2893(0x4cb)](this[_0x6b2893(0x192)]+'\x20('+this[_0x6b2893(0x60a)][_0x6b2893(0x33b)]+_0x6b2893(0x2ad)+_0x1253f6);}try{if(_0x1253f6||(_0x1253f6=_0x5641d9,this[_0x6b2893(0x773)][_0x6b2893(0x4cb)](this[_0x6b2893(0x192)]+'\x20('+this[_0x6b2893(0x60a)][_0x6b2893(0x33b)]+_0x6b2893(0x7a1)+_0x1253f6)),_0x303bb9||(_0x303bb9={}),_0x303bb9?.[_0x6b2893(0x858)]){await this['client']['presenceSubscribe'](_0x1253f6),await this['client']['sendPresenceUpdate'](_0x303bb9?.[_0x6b2893(0x34c)]??_0x6b2893(0x7f3),_0x1253f6);let _0x5ca90a=Math[_0x6b2893(0x5a6)](_0x303bb9[_0x6b2893(0x858)],0x2710);await(0x0,w[_0x6b2893(0x858)])(_0x5ca90a),await this[_0x6b2893(0x88d)][_0x6b2893(0x841)](_0x6b2893(0x885),_0x1253f6);}let _0x42b76b=_0x303bb9?.[_0x6b2893(0x77a)]!=!0x1?void 0x0:!0x1,_0x4edf69;if(_0x303bb9?.[_0x6b2893(0x19b)]){let _0xc824c7=_0x303bb9?.[_0x6b2893(0x19b)],_0x295197=_0xc824c7?.[_0x6b2893(0x451)]?_0xc824c7:await this[_0x6b2893(0x7db)](_0xc824c7[_0x6b2893(0x2a8)],!0x0);if(!_0x295197)throw'Message\x20not\x20found';_0x4edf69=_0x295197;}let _0x1d8a14;if((0x0,w[_0x6b2893(0x35e)])(_0x1253f6))try{let _0x12391f=(await this[_0x6b2893(0x3c7)][_0x6b2893(0x326)][_0x6b2893(0x309)]({'where':{'_id':_0x1253f6}},this[_0x6b2893(0x60a)][_0x6b2893(0x33b)]))[_0x6b2893(0x831)];if(!_0x12391f)throw new J(_0x6b2893(0x3b4));_0x303bb9?.[_0x6b2893(0x4d4)]&&(_0x303bb9[_0x6b2893(0x4d4)]?.[_0x6b2893(0x386)]?_0x1d8a14=_0x12391f[_0x6b2893(0x212)][_0x6b2893(0x3e2)](_0x206a3b=>_0x206a3b['id']):_0x303bb9['mentions']?.[_0x6b2893(0x825)]?.[_0x6b2893(0x7dc)]&&(_0x1d8a14=_0x303bb9['mentions'][_0x6b2893(0x825)][_0x6b2893(0x3e2)](_0x345b26=>{const _0x3866c2=_0x6b2893;let _0x112339=this[_0x3866c2(0x792)](_0x345b26);return(0x0,w[_0x3866c2(0x35e)])(_0x112339)?null:_0x112339;})));}catch{throw new J(_0x6b2893(0x3b4));}let _0x5b0b26=await this[_0x6b2893(0x3c7)]['chat'][_0x6b2893(0x309)]({'where':{'_id':_0x1253f6}},this[_0x6b2893(0x60a)][_0x6b2893(0x33b)]),_0x2eff3b=await((async()=>{const _0x160e06=_0x6b2893;let _0x48f040={'quoted':_0x4edf69,'ephemeralExpiration':_0x5b0b26?.[_0x160e06(0x2fa)]??0x0};if(!_0x5c4a29[_0x160e06(0x6a7)]&&!_0x5c4a29[_0x160e06(0x682)]&&!_0x5c4a29[_0x160e06(0x621)]&&!_0x5c4a29[_0x160e06(0x5ec)]&&_0x1253f6!==_0x160e06(0x4c6)&&!_0x5c4a29[_0x160e06(0x6a7)])return await this['client'][_0x160e06(0x713)](_0x1253f6,{'forward':{'key':{'remoteJid':this['instance']['wuid'],'fromMe':!0x0},'message':_0x5c4a29},'mentions':_0x1d8a14},_0x48f040);if(_0x5c4a29[_0x160e06(0x69a)])return await this[_0x160e06(0x88d)][_0x160e06(0x713)](_0x1253f6,{'react':{'text':_0x5c4a29['reactionMessage']['text'],'key':_0x5c4a29[_0x160e06(0x69a)]['key']}},_0x48f040);if(_0x5c4a29['conversation']){let _0x568cd7=_0x5c4a29[_0x160e06(0x5ec)];return _0x303bb9?.[_0x160e06(0x341)]&&(_0x568cd7=await this[_0x160e06(0x38f)](_0x568cd7,_0x1253f6)),await this[_0x160e06(0x88d)][_0x160e06(0x713)](_0x1253f6,{'text':_0x568cd7,'mentions':_0x1d8a14,'linkPreview':_0x42b76b},_0x48f040);}return _0x1253f6===_0x160e06(0x4c6)?await this[_0x160e06(0x88d)][_0x160e06(0x713)](_0x1253f6,_0x5c4a29[_0x160e06(0x3d9)][_0x160e06(0x3f3)],{'backgroundColor':_0x5c4a29['status']['option']['backgroundColor'],'font':_0x5c4a29['status']['option'][_0x160e06(0x3f1)],'statusJidList':_0x5c4a29[_0x160e06(0x3d9)][_0x160e06(0x6c7)][_0x160e06(0x723)]}):await this[_0x160e06(0x88d)][_0x160e06(0x713)](_0x1253f6,_0x5c4a29,_0x48f040);})()),_0x51523a=(0x0,w[_0x6b2893(0x45b)])(_0x2eff3b['message']),_0x56d22c=(0x0,w['getContentType'])(_0x51523a),{message_normalized:_0x21e406}=this[_0x6b2893(0x727)](_0x51523a,_0x56d22c,null),_0x1cd765={'_id':_0x2eff3b[_0x6b2893(0x2a8)]['id'],'key':_0x2eff3b[_0x6b2893(0x2a8)],'pushName':_0x2eff3b['pushName'],'isGroup':_0x2eff3b[_0x6b2893(0x2a8)]['remoteJid']['endsWith']('@g.us'),'profilePictureUrl':this[_0x6b2893(0x60a)][_0x6b2893(0x5a2)],'message':_0x51523a,'messageType':_0x56d22c,'message_normalized':{'key':_0x2eff3b[_0x6b2893(0x2a8)],'pushName':_0x2eff3b[_0x6b2893(0x3b1)],'messageTimestamp':_0x2eff3b[_0x6b2893(0x48a)]&&_0x2eff3b[_0x6b2893(0x48a)][_0x6b2893(0x6c3)]()[_0x6b2893(0x7dc)]<0xd?_0x2eff3b[_0x6b2893(0x48a)]*0x3e8:_0x2eff3b[_0x6b2893(0x48a)]||null,'source':(0x0,w[_0x6b2893(0x512)])(_0x2eff3b[_0x6b2893(0x2a8)]['id']),..._0x21e406},'messageTimestamp':_0x2eff3b[_0x6b2893(0x48a)]&&_0x2eff3b[_0x6b2893(0x48a)][_0x6b2893(0x6c3)]()['length']<0xd?_0x2eff3b[_0x6b2893(0x48a)]*0x3e8:_0x2eff3b['messageTimestamp']||null,'owner':this[_0x6b2893(0x60a)]['wuid'],'source':(0x0,w['getDevice'])(_0x2eff3b['key']['id'])};return this[_0x6b2893(0x773)][_0x6b2893(0x4cb)](this['instanceName']+'\x20('+this[_0x6b2893(0x60a)]['wuid']+_0x6b2893(0x7ce)+_0x1cd765[_0x6b2893(0x2a8)]?.[_0x6b2893(0x8a0)]['replace'](_0x6b2893(0x1a9),'')+_0x6b2893(0x89c)+_0x1cd765[_0x6b2893(0x26f)]+')'),_0x1cd765[_0x6b2893(0x68b)]?.[_0x6b2893(0x814)]&&this[_0x6b2893(0x773)][_0x6b2893(0x4cb)](_0x1cd765[_0x6b2893(0x68b)]?.['text']),this[_0x6b2893(0x8a1)]('send.message',_0x1cd765),j(this[_0x6b2893(0x192)],'messages',{'message':_0x1cd765}),this[_0x6b2893(0x3fe)](this[_0x6b2893(0x567)]['get']('DATABASE'),_0x1cd765,_0x6b2893(0x410),_0x5b0b26),await this[_0x6b2893(0x3c7)][_0x6b2893(0x451)][_0x6b2893(0x541)]([_0x1cd765],this['instance'][_0x6b2893(0x33b)]),_0x2eff3b;}catch(_0x3ad039){let _0x18d34c=_0x6b2893(0x28f)+_0x1253f6,_0x8cc9e4=_0x3ad039 instanceof Error?_0x3ad039[_0x6b2893(0x451)]:typeof _0x3ad039=='object'?JSON[_0x6b2893(0x36f)](_0x3ad039):_0x3ad039,_0x114c68=_0x18d34c+':\x20'+_0x8cc9e4;throw this[_0x6b2893(0x773)]['error'](this['instanceName']+'\x20('+this[_0x6b2893(0x60a)][_0x6b2893(0x33b)]+'):\x20'+_0x114c68),new m(_0x114c68);}}get[a0_0x1955e1(0x30a)](){const _0x4f11bc=a0_0x1955e1;return this[_0x4f11bc(0x793)];}async[a0_0x1955e1(0x2ed)](_0x1fadaf){const _0x86c6c7=a0_0x1955e1;return await this['sendMessageWithTyping'](_0x1fadaf[_0x86c6c7(0x1a0)],{'conversation':_0x1fadaf[_0x86c6c7(0x2ed)][_0x86c6c7(0x814)]},_0x1fadaf?.[_0x86c6c7(0x5ef)]);}async[a0_0x1955e1(0x81e)](_0xff3d21){const _0x291542=a0_0x1955e1;if(!_0xff3d21[_0x291542(0x708)])throw new m(_0x291542(0x65f));if(!_0xff3d21[_0x291542(0x3f3)])throw new m('Content\x20is\x20required');if(_0xff3d21['allContacts']){let _0x4fea27=await this['repository'][_0x291542(0x703)]['find']({'where':{}},this[_0x291542(0x60a)]['wuid']);if(!_0x4fea27['length'])throw new m(_0x291542(0x7da));_0xff3d21['statusJidList']=_0x4fea27[_0x291542(0x2c4)](_0x4fb3e9=>_0x4fb3e9['pushName'])[_0x291542(0x3e2)](_0x1b8215=>_0x1b8215[_0x291542(0x45a)]);}if(!_0xff3d21['statusJidList']?.['length']&&!_0xff3d21['allContacts'])throw new m(_0x291542(0x728));if(_0xff3d21[_0x291542(0x708)]===_0x291542(0x814)){if(!_0xff3d21[_0x291542(0x664)])throw new m(_0x291542(0x3a5));if(!_0xff3d21[_0x291542(0x3f1)])throw new m('Font\x20is\x20required');return{'content':{'text':_0xff3d21['content']},'option':{'backgroundColor':_0xff3d21[_0x291542(0x664)],'font':_0xff3d21['font'],'statusJidList':_0xff3d21[_0x291542(0x723)]}};}if(_0xff3d21[_0x291542(0x708)]===_0x291542(0x412))return{'content':{'image':{'url':_0xff3d21[_0x291542(0x3f3)]},'caption':_0xff3d21[_0x291542(0x4de)]},'option':{'statusJidList':_0xff3d21['statusJidList']}};if(_0xff3d21[_0x291542(0x708)]===_0x291542(0x861))return{'content':{'video':{'url':_0xff3d21[_0x291542(0x3f3)]},'caption':_0xff3d21[_0x291542(0x4de)]},'option':{'statusJidList':_0xff3d21[_0x291542(0x723)]}};if(_0xff3d21[_0x291542(0x708)]===_0x291542(0x6a7)){this[_0x291542(0x773)][_0x291542(0x2b1)](this[_0x291542(0x192)]+'\x20('+this[_0x291542(0x60a)][_0x291542(0x33b)]+'):Type\x20defined\x20as\x20audio'),this['logger'][_0x291542(0x2b1)](this[_0x291542(0x192)]+'\x20('+this[_0x291542(0x60a)]['wuid']+_0x291542(0x55b));let _0x117a09=await this[_0x291542(0x1d6)](_0xff3d21[_0x291542(0x3f3)]);if(typeof _0x117a09==_0x291542(0x1a3)){this['logger'][_0x291542(0x2b1)](this['instanceName']+'\x20('+this[_0x291542(0x60a)][_0x291542(0x33b)]+_0x291542(0x1d3));let _0xb1660d=L[_0x291542(0x794)](_0x117a09)[_0x291542(0x6c3)](_0x291542(0x863));return{'content':{'audio':Buffer['from'](_0xb1660d,'base64'),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0xff3d21[_0x291542(0x723)]}};}else throw new x(_0x117a09);}throw new m(_0x291542(0x804));}async[a0_0x1955e1(0x765)](_0x577d10){const _0x1bb6a8=a0_0x1955e1;return await this[_0x1bb6a8(0x3b5)]('status@broadcast',{'status':await this[_0x1bb6a8(0x81e)](_0x577d10[_0x1bb6a8(0x765)])});}async[a0_0x1955e1(0x62e)](_0x195346){const _0x241f8e=a0_0x1955e1;try{let _0x912f5f=await(0x0,w['prepareWAMessageMedia'])({[_0x195346[_0x241f8e(0x37c)]]:(0x0,k[_0x241f8e(0x3cd)])(_0x195346[_0x241f8e(0x704)])?{'url':_0x195346['media']}:Buffer['from'](_0x195346[_0x241f8e(0x704)],_0x241f8e(0x863))},{'upload':this[_0x241f8e(0x88d)][_0x241f8e(0x316)]}),_0x59ea24=_0x195346['mediatype']+_0x241f8e(0x72a);if(_0x195346[_0x241f8e(0x37c)]===_0x241f8e(0x53f)&&!_0x195346[_0x241f8e(0x4b6)]){let _0x510751=new RegExp(/.*\/(.+?)\./)[_0x241f8e(0x564)](_0x195346['media']);_0x195346[_0x241f8e(0x4b6)]=_0x510751?_0x510751[0x1]:null;}let _0x12aaba;return(0x0,k['isURL'])(_0x195346[_0x241f8e(0x704)])?_0x12aaba=(await Q['default'][_0x241f8e(0x7be)](_0x195346[_0x241f8e(0x704)],{'responseType':_0x241f8e(0x822)}))['headers'][_0x241f8e(0x3ee)]:_0x12aaba=(0x0,Pi[_0x241f8e(0x5c6)])(_0x195346[_0x241f8e(0x4b6)]),_0x912f5f[_0x59ea24][_0x241f8e(0x4de)]=_0x195346?.[_0x241f8e(0x4de)],_0x912f5f[_0x59ea24][_0x241f8e(0x87a)]=_0x12aaba,_0x912f5f[_0x59ea24][_0x241f8e(0x4b6)]=_0x195346[_0x241f8e(0x4b6)],_0x195346[_0x241f8e(0x37c)]===_0x241f8e(0x861)&&(_0x912f5f[_0x59ea24][_0x241f8e(0x3f6)]=Uint8Array[_0x241f8e(0x6d8)]((0x0,Le[_0x241f8e(0x794)])((0x0,U[_0x241f8e(0x279)])(process['cwd'](),'video-cover.png'))),_0x912f5f[_0x59ea24][_0x241f8e(0x228)]=!0x1),(0x0,w[_0x241f8e(0x8a9)])('',{[_0x59ea24]:{..._0x912f5f[_0x59ea24]}},{'userJid':this[_0x241f8e(0x60a)][_0x241f8e(0x33b)]});}catch(_0x2759fb){let _0x228367=_0x241f8e(0x7b1),_0x24158a=_0x2759fb instanceof Error?_0x2759fb['message']:typeof _0x2759fb==_0x241f8e(0x64b)?JSON[_0x241f8e(0x36f)](_0x2759fb):_0x2759fb,_0x1e056b=_0x228367+':\x20'+_0x24158a;throw this['logger'][_0x241f8e(0x2e7)](this['instanceName']+'\x20('+this['instance'][_0x241f8e(0x33b)]+_0x241f8e(0x6cd)+_0x1e056b),new x(_0x1e056b);}}async['mediaMessage'](_0x3c2f01){const _0x559622=a0_0x1955e1;let _0x4d77af=await this[_0x559622(0x62e)](_0x3c2f01[_0x559622(0x335)]);return await this[_0x559622(0x3b5)](_0x3c2f01['number'],{..._0x4d77af[_0x559622(0x451)]},_0x3c2f01?.[_0x559622(0x5ef)]);}async[a0_0x1955e1(0x531)](_0x2f7d1e,_0x3e4b45){const _0x56d58f=a0_0x1955e1;try{this[_0x56d58f(0x773)][_0x56d58f(0x2b1)](this[_0x56d58f(0x192)]+'\x20('+this[_0x56d58f(0x60a)]['wuid']+'):Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x335c19,_0x1aac82=_0x3e4b45+'-'+new Date()[_0x56d58f(0x763)]();this['logger'][_0x56d58f(0x2b1)](this[_0x56d58f(0x192)]+'\x20('+this[_0x56d58f(0x60a)][_0x56d58f(0x33b)]+'):Hash\x20to\x20image\x20name:\x20'+_0x1aac82);let _0x62b1da=''+(0x0,U[_0x56d58f(0x279)])(this[_0x56d58f(0x25b)],_0x1aac82+'.webp');if(this[_0x56d58f(0x773)]['verbose'](this[_0x56d58f(0x192)]+'\x20('+this[_0x56d58f(0x60a)][_0x56d58f(0x33b)]+'):Output\x20path:\x20'+_0x62b1da),(0x0,k[_0x56d58f(0x2c2)])(_0x2f7d1e)){this[_0x56d58f(0x773)][_0x56d58f(0x2b1)](this[_0x56d58f(0x192)]+'\x20('+this[_0x56d58f(0x60a)][_0x56d58f(0x33b)]+_0x56d58f(0x6ea));let _0x401883=_0x2f7d1e[_0x56d58f(0x534)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x49bf5d=Buffer[_0x56d58f(0x6d8)](_0x401883,_0x56d58f(0x863));_0x335c19=''+(0x0,U[_0x56d58f(0x279)])(this['storePath'],'temp-'+_0x1aac82+_0x56d58f(0x242)),this['logger'][_0x56d58f(0x2b1)](this['instanceName']+'\x20('+this[_0x56d58f(0x60a)]['wuid']+_0x56d58f(0x19d)+_0x335c19),await(0x0,qt[_0x56d58f(0x36d)])(_0x49bf5d)['toFile'](_0x335c19),this[_0x56d58f(0x773)][_0x56d58f(0x2b1)](this['instanceName']+'\x20('+this[_0x56d58f(0x60a)]['wuid']+_0x56d58f(0x23d));}else{this[_0x56d58f(0x773)][_0x56d58f(0x2b1)](this[_0x56d58f(0x192)]+'\x20('+this[_0x56d58f(0x60a)][_0x56d58f(0x33b)]+_0x56d58f(0x20c));let _0x187858=new Date()[_0x56d58f(0x763)](),_0x5097d8=_0x2f7d1e+_0x56d58f(0x293)+_0x187858;this[_0x56d58f(0x773)][_0x56d58f(0x2b1)](this['instanceName']+'\x20('+this[_0x56d58f(0x60a)]['wuid']+'):including\x20timestamp\x20in\x20url:\x20'+_0x5097d8);let _0x12496d=await Q[_0x56d58f(0x36d)][_0x56d58f(0x7be)](_0x5097d8,{'responseType':_0x56d58f(0x822)});this[_0x56d58f(0x773)][_0x56d58f(0x2b1)](this[_0x56d58f(0x192)]+'\x20('+this[_0x56d58f(0x60a)][_0x56d58f(0x33b)]+_0x56d58f(0x483));let _0x5e1dce=Buffer['from'](_0x12496d[_0x56d58f(0x786)],_0x56d58f(0x5b8));_0x335c19=''+(0x0,U[_0x56d58f(0x279)])(this['storePath'],'temp-'+_0x1aac82+_0x56d58f(0x242)),this['logger']['verbose'](this[_0x56d58f(0x192)]+'\x20('+this[_0x56d58f(0x60a)][_0x56d58f(0x33b)]+_0x56d58f(0x19d)+_0x335c19),await(0x0,qt['default'])(_0x5e1dce)[_0x56d58f(0x7ad)](_0x335c19),this[_0x56d58f(0x773)][_0x56d58f(0x2b1)](this[_0x56d58f(0x192)]+'\x20('+this['instance']['wuid']+_0x56d58f(0x23d));}return await(0x0,qt[_0x56d58f(0x36d)])(_0x335c19)[_0x56d58f(0x2a2)]()[_0x56d58f(0x7ad)](_0x62b1da),this['logger'][_0x56d58f(0x2b1)](this[_0x56d58f(0x192)]+'\x20('+this[_0x56d58f(0x60a)][_0x56d58f(0x33b)]+'):Image\x20converted\x20to\x20WebP'),L[_0x56d58f(0x235)](_0x335c19),this[_0x56d58f(0x773)][_0x56d58f(0x2b1)](this[_0x56d58f(0x192)]+'\x20('+this[_0x56d58f(0x60a)][_0x56d58f(0x33b)]+_0x56d58f(0x3fb)),_0x62b1da;}catch(_0x5158ee){let _0x5da184='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x14c3b3=_0x5158ee instanceof Error?_0x5158ee[_0x56d58f(0x451)]:typeof _0x5158ee==_0x56d58f(0x64b)?JSON[_0x56d58f(0x36f)](_0x5158ee):_0x5158ee,_0x4dff12=_0x5da184+':\x20'+_0x14c3b3;this[_0x56d58f(0x773)]['error'](this[_0x56d58f(0x192)]+'\x20('+this[_0x56d58f(0x60a)]['wuid']+_0x56d58f(0x6cd)+_0x4dff12);}}async[a0_0x1955e1(0x377)](_0x4bb611){const _0x33dba3=a0_0x1955e1;let _0x480c9a=await this[_0x33dba3(0x531)](_0x4bb611[_0x33dba3(0x79f)][_0x33dba3(0x412)],_0x4bb611['number']),_0xc24ce8=await this[_0x33dba3(0x3b5)](_0x4bb611[_0x33dba3(0x1a0)],{'sticker':{'url':_0x480c9a}},_0x4bb611?.[_0x33dba3(0x5ef)]);return L[_0x33dba3(0x235)](_0x480c9a),this[_0x33dba3(0x773)]['verbose'](this[_0x33dba3(0x192)]+'\x20('+this[_0x33dba3(0x60a)][_0x33dba3(0x33b)]+_0x33dba3(0x42c)),_0xc24ce8;}async[a0_0x1955e1(0x3c9)](_0x4f3e2b){const _0x18d74a=a0_0x1955e1;if(this[_0x18d74a(0x773)]['verbose'](this[_0x18d74a(0x192)]+'\x20('+this['instance'][_0x18d74a(0x33b)]+_0x18d74a(0x690)),!_0x4f3e2b[_0x18d74a(0x5ef)]?.[_0x18d74a(0x19f)]&&_0x4f3e2b['options']?.[_0x18d74a(0x19f)]!==!0x1&&(_0x4f3e2b[_0x18d74a(0x5ef)]['encoding']=!0x0),_0x4f3e2b[_0x18d74a(0x5ef)]?.[_0x18d74a(0x19f)]){let _0x17e165=await this[_0x18d74a(0x1d6)](_0x4f3e2b[_0x18d74a(0x44f)]['audio']);if(typeof _0x17e165==_0x18d74a(0x1a3)){let _0x5d0f4c=L[_0x18d74a(0x794)](_0x17e165)[_0x18d74a(0x6c3)](_0x18d74a(0x863));return this[_0x18d74a(0x3b5)](_0x4f3e2b['number'],{'audio':Buffer[_0x18d74a(0x6d8)](_0x5d0f4c,'base64'),'ptt':!0x0,'mimetype':_0x18d74a(0x4e7)},{'presence':_0x18d74a(0x869),'delay':_0x4f3e2b?.[_0x18d74a(0x5ef)]?.['delay']});}else throw new x(_0x17e165);}return await this[_0x18d74a(0x3b5)](_0x4f3e2b[_0x18d74a(0x1a0)],{'audio':(0x0,k[_0x18d74a(0x3cd)])(_0x4f3e2b[_0x18d74a(0x44f)][_0x18d74a(0x6a7)])?{'url':_0x4f3e2b[_0x18d74a(0x44f)][_0x18d74a(0x6a7)]}:Buffer['from'](_0x4f3e2b[_0x18d74a(0x44f)][_0x18d74a(0x6a7)],_0x18d74a(0x863)),'ptt':!0x0,'mimetype':_0x18d74a(0x4e7)},{'presence':_0x18d74a(0x869),'delay':_0x4f3e2b?.[_0x18d74a(0x5ef)]?.[_0x18d74a(0x858)]});}async[a0_0x1955e1(0x1d6)](_0x10d212){const _0x3905ec=a0_0x1955e1;this[_0x3905ec(0x773)][_0x3905ec(0x2b1)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3905ec(0x55b));let _0x1fadad=(0x0,k[_0x3905ec(0x3cd)])(_0x10d212)?(0x0,Vt[_0x3905ec(0x1fa)])('sha256')[_0x3905ec(0x563)](_0x10d212)[_0x3905ec(0x686)]('hex'):(0x0,Vt[_0x3905ec(0x1fa)])(_0x3905ec(0x4c4))[_0x3905ec(0x563)](_0x10d212)[_0x3905ec(0x686)](_0x3905ec(0x635)),_0x47edf1=''+(0x0,U[_0x3905ec(0x279)])(this[_0x3905ec(0x25b)],_0x1fadad+_0x3905ec(0x809));if(L[_0x3905ec(0x73e)](_0x47edf1))return this['logger'][_0x3905ec(0x2b1)](this[_0x3905ec(0x192)]+'\x20('+this[_0x3905ec(0x60a)][_0x3905ec(0x33b)]+_0x3905ec(0x4f7)),_0x47edf1;let _0x4b9b15=''+(0x0,U[_0x3905ec(0x279)])(this[_0x3905ec(0x25b)],_0x3905ec(0x2b0)+(0x0,Y['v4'])()+_0x3905ec(0x821));if((0x0,k[_0x3905ec(0x3cd)])(_0x10d212)){let _0x352f0a=new Date()['getTime'](),_0xa61da6=_0x10d212+_0x3905ec(0x293)+_0x352f0a,_0x3342ec=await Q[_0x3905ec(0x36d)]['get'](_0xa61da6,{'responseType':'arraybuffer'});L[_0x3905ec(0x540)](_0x4b9b15,_0x3342ec[_0x3905ec(0x786)]);}else{let _0xebae33=Buffer[_0x3905ec(0x6d8)](_0x10d212,_0x3905ec(0x863));L['writeFileSync'](_0x4b9b15,_0xebae33);}return new Promise((_0x879be7,_0x5a33b7)=>{const _0x4b9e50=_0x3905ec;(0x0,Fe['exec'])(ks[_0x4b9e50(0x36d)][_0x4b9e50(0x65e)]+'\x20-i\x20'+_0x4b9b15+_0x4b9e50(0x4d3)+_0x47edf1+_0x4b9e50(0x890),_0x2de61a=>{const _0x5b888b=_0x4b9e50;if(L[_0x5b888b(0x235)](_0x4b9b15),_0x2de61a){this[_0x5b888b(0x773)][_0x5b888b(0x2b1)](this[_0x5b888b(0x192)]+'\x20('+this[_0x5b888b(0x60a)][_0x5b888b(0x33b)]+_0x5b888b(0x4d6)),_0x5a33b7(_0x2de61a);return;}this[_0x5b888b(0x773)][_0x5b888b(0x2b1)](this[_0x5b888b(0x192)]+'\x20('+this[_0x5b888b(0x60a)]['wuid']+_0x5b888b(0x87d)),_0x879be7(_0x47edf1);});});}async[a0_0x1955e1(0x67d)](_0x4b0c1d){const _0x293858=a0_0x1955e1;this[_0x293858(0x773)][_0x293858(0x2b1)](this[_0x293858(0x192)]+'\x20('+this[_0x293858(0x60a)]['wuid']+_0x293858(0x55b));let _0x1a406e=(0x0,Vt[_0x293858(0x1fa)])(_0x293858(0x4c4))[_0x293858(0x563)](_0x4b0c1d)['digest'](_0x293858(0x635)),_0x4a6418=''+(0x0,U[_0x293858(0x279)])(this[_0x293858(0x25b)],_0x1a406e+_0x293858(0x821));if(L[_0x293858(0x73e)](_0x4a6418))return this[_0x293858(0x773)][_0x293858(0x2b1)](this[_0x293858(0x192)]+'\x20('+this['instance'][_0x293858(0x33b)]+_0x293858(0x4f7)),U[_0x293858(0x36d)][_0x293858(0x3ab)](_0x4a6418);let _0x3deda1=''+(0x0,U[_0x293858(0x279)])(this[_0x293858(0x25b)],_0x293858(0x2b0)+_0x1a406e+_0x293858(0x809));if((0x0,k[_0x293858(0x3cd)])(_0x4b0c1d)){let _0x26756a=new Date()['getTime'](),_0x30da5c=_0x4b0c1d+_0x293858(0x293)+_0x26756a,_0x3e4219=await Q['default'][_0x293858(0x7be)](_0x30da5c,{'responseType':_0x293858(0x822)});L['writeFileSync'](_0x3deda1,_0x3e4219[_0x293858(0x786)]);}else{let _0x50df18=Buffer[_0x293858(0x6d8)](_0x4b0c1d,_0x293858(0x863));L[_0x293858(0x540)](_0x3deda1,_0x50df18);}return new Promise((_0x17005f,_0x1d860f)=>{const _0x535ba1=_0x293858;(0x0,Fe[_0x535ba1(0x564)])(ks['default'][_0x535ba1(0x65e)]+_0x535ba1(0x6ec)+_0x3deda1+_0x535ba1(0x838)+_0x4a6418+_0x535ba1(0x890),_0x22ea32=>{const _0x3d4e7c=_0x535ba1;if(L[_0x3d4e7c(0x235)](_0x3deda1),_0x22ea32){this['logger'][_0x3d4e7c(0x2b1)](this[_0x3d4e7c(0x192)]+'\x20('+this[_0x3d4e7c(0x60a)]['wuid']+'):Error\x20in\x20converting\x20audio'),_0x1d860f(_0x22ea32);return;}this[_0x3d4e7c(0x773)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3d4e7c(0x87d)),_0x17005f(U[_0x3d4e7c(0x36d)][_0x3d4e7c(0x3ab)](_0x4a6418));});});}async['buttonMessage'](_0x5dd510){const _0x33e674=a0_0x1955e1;let _0x59cdae={},_0x46efeb=_0x33e674(0x6f1);if(_0x5dd510['buttonMessage']?.[_0x33e674(0x335)]){_0x46efeb=_0x5dd510['buttonMessage']['mediaMessage']?.[_0x33e674(0x37c)]['toUpperCase']()??_0x33e674(0x6f1),_0x59cdae['mediaKey']=_0x46efeb[_0x33e674(0x39d)]()+_0x33e674(0x72a);let _0x1e51d1=await this['prepareMediaMessage'](_0x5dd510['buttonMessage'][_0x33e674(0x335)]);_0x59cdae[_0x33e674(0x451)]=_0x1e51d1[_0x33e674(0x451)][_0x59cdae[_0x33e674(0x1ff)]],_0x59cdae[_0x33e674(0x218)]='*'+_0x5dd510[_0x33e674(0x33f)]['title']+_0x33e674(0x4fb)+_0x5dd510['buttonMessage']['description'];}let _0x276ba4={'text':_0x5dd510[_0x33e674(0x33f)][_0x33e674(0x523)][_0x33e674(0x3e2)](_0x5532bb=>_0x5532bb[_0x33e674(0x7b7)]),'ids':_0x5dd510[_0x33e674(0x33f)][_0x33e674(0x523)][_0x33e674(0x3e2)](_0x1473c4=>_0x1473c4['buttonId'])};if(!(0x0,k['arrayUnique'])(_0x276ba4[_0x33e674(0x814)])||!(0x0,k[_0x33e674(0x21a)])(_0x276ba4[_0x33e674(0x2a3)]))throw new m(_0x33e674(0x2fb),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this['sendMessageWithTyping'](_0x5dd510[_0x33e674(0x1a0)],{'buttonsMessage':{'text':_0x59cdae?.[_0x33e674(0x1ff)]?void 0x0:_0x5dd510[_0x33e674(0x33f)][_0x33e674(0x651)],'contentText':_0x59cdae?.[_0x33e674(0x218)]??_0x5dd510[_0x33e674(0x33f)]['description'],'footerText':_0x5dd510[_0x33e674(0x33f)]?.[_0x33e674(0x85b)],'buttons':_0x5dd510[_0x33e674(0x33f)][_0x33e674(0x523)][_0x33e674(0x3e2)](_0x2b0cab=>({'buttonText':{'displayText':_0x2b0cab[_0x33e674(0x7b7)]},'buttonId':_0x2b0cab['buttonId'],'type':0x1})),'headerType':w[_0x33e674(0x583)][_0x33e674(0x72a)][_0x33e674(0x46b)][_0x33e674(0x7d6)][_0x46efeb],[_0x59cdae?.[_0x33e674(0x1ff)]]:_0x59cdae?.['message']}},_0x5dd510?.[_0x33e674(0x5ef)]);}async[a0_0x1955e1(0x79d)](_0x4c68a7){const _0x22721c=a0_0x1955e1;return await this[_0x22721c(0x3b5)](_0x4c68a7[_0x22721c(0x1a0)],{'locationMessage':{'degreesLatitude':_0x4c68a7[_0x22721c(0x79d)][_0x22721c(0x217)],'degreesLongitude':_0x4c68a7[_0x22721c(0x79d)]['longitude'],'name':_0x4c68a7[_0x22721c(0x79d)]?.[_0x22721c(0x543)],'address':_0x4c68a7[_0x22721c(0x79d)]?.[_0x22721c(0x45c)]}},_0x4c68a7?.['options']);}async['contactMessage'](_0x4b25e5){const _0x4c0139=a0_0x1955e1;let _0xc34fe5={},_0x22031d=async _0x4a5fa5=>{const _0x4f77ae=a0_0x2868;let _0x4c6f18=_0x4f77ae(0x202)+_0x4a5fa5[_0x4f77ae(0x896)]+_0x4f77ae(0x2e5)+_0x4a5fa5[_0x4f77ae(0x896)]+'\x0a';_0x4a5fa5[_0x4f77ae(0x2ce)]&&(_0x4c6f18+=_0x4f77ae(0x5d0)+_0x4a5fa5['organization']+';\x0a'),_0x4a5fa5[_0x4f77ae(0x7d0)]&&(_0x4c6f18+='EMAIL:'+_0x4a5fa5['email']+'\x0a'),_0x4a5fa5['url']&&(_0x4c6f18+=_0x4f77ae(0x230)+_0x4a5fa5[_0x4f77ae(0x263)]+'\x0a');let _0xd154ec='',_0x313a98=0x1;if(_0x4a5fa5['phoneNumber']){let _0x348b31=_0x4a5fa5[_0x4f77ae(0x6c1)][_0x4f77ae(0x3ff)]('|');for(let _0x37a0ef of _0x348b31){let _0x5b669d=await this[_0x4f77ae(0x73d)]({'numbers':[_0x37a0ef]}),_0x330828=(_0x5b669d['length']>0x0?_0x5b669d[0x0][_0x4f77ae(0x6b2)]:this[_0x4f77ae(0x792)](_0x37a0ef))['replace'](_0x4f77ae(0x1a9),'');_0xd154ec+='item'+_0x313a98+_0x4f77ae(0x55e)+_0x330828+':'+_0x37a0ef+'\x0aitem'+_0x313a98+'.X-ABLabel:Celular\x0a',_0x313a98++;}}return _0x4c6f18+=_0xd154ec+_0x4f77ae(0x2d2),_0x4c6f18;};return _0x4b25e5[_0x4c0139(0x330)]['length']===0x1?_0xc34fe5['contactMessage']={'displayName':_0x4b25e5['contactMessage'][0x0][_0x4c0139(0x896)],'vcard':await _0x22031d(_0x4b25e5[_0x4c0139(0x330)][0x0])}:_0xc34fe5[_0x4c0139(0x66c)]={'displayName':_0x4b25e5[_0x4c0139(0x330)][_0x4c0139(0x7dc)]+'\x20contacts','contacts':await Promise[_0x4c0139(0x314)](_0x4b25e5[_0x4c0139(0x330)]['map'](async _0x2d1ea2=>({'displayName':_0x2d1ea2[_0x4c0139(0x896)],'vcard':await _0x22031d(_0x2d1ea2)})))},await this['sendMessageWithTyping'](_0x4b25e5[_0x4c0139(0x1a0)],{..._0xc34fe5},_0x4b25e5?.[_0x4c0139(0x5ef)]);}async[a0_0x1955e1(0x69a)](_0x39ac4c){const _0x3699fe=a0_0x1955e1;return await this['sendMessageWithTyping'](_0x39ac4c[_0x3699fe(0x69a)][_0x3699fe(0x2a8)]['remoteJid'],{'reactionMessage':{'key':_0x39ac4c['reactionMessage'][_0x3699fe(0x2a8)],'text':_0x39ac4c[_0x3699fe(0x69a)][_0x3699fe(0x6a0)]}});}async['whatsappNumber'](_0x15b716){const _0x18a263=a0_0x1955e1;let _0x5bcef7=[];for await(let _0x1a3b32 of _0x15b716[_0x18a263(0x7c3)]){let _0x4cafe0=this[_0x18a263(0x792)](_0x1a3b32),_0x2e6cf1=!0x1;try{if((0x0,w[_0x18a263(0x35e)])(_0x4cafe0)){let _0x100bf1=(await this[_0x18a263(0x3c7)][_0x18a263(0x326)][_0x18a263(0x309)]({'where':{'_id':_0x4cafe0}},this[_0x18a263(0x60a)]['wuid']))[_0x18a263(0x831)];_0x100bf1?(_0x2e6cf1=!0x0,_0x5bcef7['push'](new ue(_0x100bf1['id'],_0x2e6cf1,_0x100bf1?.[_0x18a263(0x574)]))):(_0x100bf1=await this[_0x18a263(0x2d8)]({'groupJid':_0x4cafe0},_0x18a263(0x764)),_0x5bcef7[_0x18a263(0x6c9)](new ue(_0x100bf1['id'],!!_0x100bf1?.['id'],_0x100bf1?.[_0x18a263(0x574)])));}else{if(_0x4cafe0[_0x18a263(0x718)]('@broadcast'))_0x5bcef7[_0x18a263(0x6c9)](new ue(_0x4cafe0,!0x0));else{let _0x1bd076=(await this[_0x18a263(0x88d)][_0x18a263(0x4bc)](_0x4cafe0))[0x0];_0x5bcef7[_0x18a263(0x6c9)](new ue(_0x1bd076[_0x18a263(0x6b2)],_0x1bd076[_0x18a263(0x72e)]));}}}catch{(0x0,w['isJidGroup'])(_0x4cafe0)||await this['deleteImportedChat'](_0x4cafe0),_0x5bcef7[_0x18a263(0x6c9)](new ue(_0x1a3b32,!0x1));}}return _0x5bcef7;}async['deleteImportedChat'](_0x4da69a){const _0x1db215=a0_0x1955e1;try{await this['repository'][_0x1db215(0x326)]['findOne']({'where':{'_id':_0x4da69a,'imported':!0x0}},this[_0x1db215(0x60a)][_0x1db215(0x33b)])&&(await this[_0x1db215(0x3c7)]['chat'][_0x1db215(0x1a5)](_0x4da69a,this[_0x1db215(0x60a)][_0x1db215(0x33b)]),this['logger'][_0x1db215(0x6e0)](_0x1db215(0x502)+_0x4da69a+_0x1db215(0x602)));}catch(_0x549233){let _0x560f75=_0x1db215(0x48c),_0x779c98=_0x549233 instanceof Error?_0x549233[_0x1db215(0x451)]:typeof _0x549233==_0x1db215(0x64b)?JSON['stringify'](_0x549233):_0x549233,_0x5276fe=_0x560f75+':\x20'+_0x779c98;this[_0x1db215(0x773)]['error'](this[_0x1db215(0x192)]+'\x20('+this[_0x1db215(0x60a)][_0x1db215(0x33b)]+_0x1db215(0x6cd)+_0x5276fe);}}async[a0_0x1955e1(0x1b3)](_0x165885){const _0x1d4a04=a0_0x1955e1;try{let _0x5d1ce=_0x165885[_0x1d4a04(0x47f)][_0x1d4a04(0x2c4)](_0x4c3653=>(0x0,w['isJidGroup'])(_0x4c3653[_0x1d4a04(0x8a0)])||(0x0,w['isJidUser'])(_0x4c3653['remoteJid']))[_0x1d4a04(0x3e2)](_0xb43d70=>({'remoteJid':_0xb43d70['remoteJid'],'fromMe':_0xb43d70[_0x1d4a04(0x785)],'id':_0xb43d70['id']}));await this[_0x1d4a04(0x88d)][_0x1d4a04(0x47f)](_0x5d1ce);let _0x78c8f=_0x5d1ce[_0x1d4a04(0x3e2)](_0x3d9fdf=>this[_0x1d4a04(0x27c)](_0x3d9fdf,{'status':_0x1d4a04(0x59b),'owner':this['instance'][_0x1d4a04(0x33b)]})),_0x1a622e=_0x5d1ce[_0x1d4a04(0x3e2)](_0x2bee1a=>this[_0x1d4a04(0x3c7)][_0x1d4a04(0x326)][_0x1d4a04(0x400)]({'where':{'_id':_0x2bee1a['remoteJid']}},{'unreadcount':0x0},this[_0x1d4a04(0x60a)][_0x1d4a04(0x33b)])),[_0x4c6a59,_0x137281]=await Promise[_0x1d4a04(0x314)]([Promise[_0x1d4a04(0x314)](_0x78c8f),Promise[_0x1d4a04(0x314)](_0x1a622e)]);return _0x137281[_0x1d4a04(0x2c4)](_0x4f7fd7=>_0x4f7fd7!==null)[_0x1d4a04(0x408)](_0x598ff5=>{const _0x118e4b=_0x1d4a04;j(this[_0x118e4b(0x192)],_0x118e4b(0x8bf),{'chat':_0x598ff5});}),{'message':_0x1d4a04(0x5c4),'read':_0x1d4a04(0x5ca)};}catch(_0x59159c){let _0x3da0ec='Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida',_0x3c82f0=_0x59159c instanceof Error?_0x59159c[_0x1d4a04(0x451)]:typeof _0x59159c==_0x1d4a04(0x64b)?JSON[_0x1d4a04(0x36f)](_0x59159c):_0x59159c,_0x516c29=_0x3da0ec+':\x20'+_0x3c82f0;throw this[_0x1d4a04(0x773)][_0x1d4a04(0x2e7)](this[_0x1d4a04(0x192)]+'\x20('+this[_0x1d4a04(0x60a)]['wuid']+'):\x20'+_0x516c29),new x(_0x516c29);}}async['getLastMessage'](_0x2297ad){const _0x488213=a0_0x1955e1;let _0x58be2b={'where':{'key':{'remoteJid':_0x2297ad}},'limit':0x1},_0x33704b=await this[_0x488213(0x231)](_0x58be2b);return _0x33704b||(this['logger'][_0x488213(0x2e7)](_0x488213(0x5df)+_0x2297ad),null);}async[a0_0x1955e1(0x18e)](_0x587bf3){const _0x557e27=a0_0x1955e1;this[_0x557e27(0x773)][_0x557e27(0x2b1)](this[_0x557e27(0x192)]+'\x20('+this[_0x557e27(0x60a)][_0x557e27(0x33b)]+'):Archiving\x20chat');try{let _0x592f39=_0x587bf3[_0x557e27(0x1d2)],_0x19a624=_0x587bf3[_0x557e27(0x326)];if(!_0x592f39&&_0x19a624?_0x592f39=await this[_0x557e27(0x3ce)](_0x19a624):(_0x592f39=_0x587bf3[_0x557e27(0x1d2)],_0x592f39[_0x557e27(0x48a)]=_0x592f39?.[_0x557e27(0x48a)]??Date['now'](),_0x19a624=_0x592f39?.[_0x557e27(0x2a8)]?.[_0x557e27(0x8a0)]),!_0x592f39||Object[_0x557e27(0x281)](_0x592f39)[_0x557e27(0x7dc)]===0x0)throw new J('Last\x20message\x20not\x20found');this[_0x557e27(0x773)][_0x557e27(0x2b1)](this[_0x557e27(0x192)]+'\x20('+this[_0x557e27(0x60a)][_0x557e27(0x33b)]+_0x557e27(0x289)+_0x19a624);try{await this[_0x557e27(0x88d)]['chatModify']({'archive':_0x587bf3[_0x557e27(0x7a5)],'lastMessages':[_0x592f39]},this[_0x557e27(0x792)](_0x19a624));}catch(_0x326101){let _0x22dd7e=_0x557e27(0x82f)+_0x19a624,_0x129950=_0x326101 instanceof Error?_0x326101['message']:typeof _0x326101==_0x557e27(0x64b)?JSON[_0x557e27(0x36f)](_0x326101):_0x326101,_0x211ba2=_0x22dd7e+':\x20'+_0x129950;this[_0x557e27(0x773)][_0x557e27(0x2e7)](this[_0x557e27(0x192)]+'\x20('+this[_0x557e27(0x60a)][_0x557e27(0x33b)]+_0x557e27(0x6cd)+_0x211ba2);}this[_0x557e27(0x773)][_0x557e27(0x2b1)](this[_0x557e27(0x192)]+'\x20('+this[_0x557e27(0x60a)][_0x557e27(0x33b)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x19a624);let _0x285eab=await this[_0x557e27(0x3c7)][_0x557e27(0x326)][_0x557e27(0x400)]({'where':{'_id':_0x592f39?.[_0x557e27(0x2a8)]?.[_0x557e27(0x8a0)]}},{'archived':_0x587bf3[_0x557e27(0x7a5)]},this['instance']['wuid']);return _0x285eab?(this[_0x557e27(0x773)][_0x557e27(0x2b1)](this['instanceName']+'\x20('+this[_0x557e27(0x60a)][_0x557e27(0x33b)]+_0x557e27(0x5b4)+JSON['stringify'](_0x285eab)),j(this['instanceName'],_0x557e27(0x8bf),{'chat':_0x285eab})):this[_0x557e27(0x773)][_0x557e27(0x2e7)](this[_0x557e27(0x192)]+'\x20('+this[_0x557e27(0x60a)][_0x557e27(0x33b)]+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x19a624),{'chatId':_0x19a624,'archived':_0x587bf3[_0x557e27(0x7a5)]};}catch(_0x80360f){let _0x4c6202=_0x557e27(0x23f),_0x4e7823=_0x80360f instanceof Error?_0x80360f[_0x557e27(0x451)]:typeof _0x80360f=='object'?JSON[_0x557e27(0x36f)](_0x80360f):_0x80360f,_0xe3a091=_0x4c6202+':\x20'+_0x4e7823;throw this[_0x557e27(0x773)][_0x557e27(0x2e7)](this[_0x557e27(0x192)]+'\x20('+this[_0x557e27(0x60a)][_0x557e27(0x33b)]+_0x557e27(0x6cd)+_0xe3a091),new x(_0xe3a091);}}async[a0_0x1955e1(0x1a5)](_0x8974e6){const _0x288e7e=a0_0x1955e1;this[_0x288e7e(0x773)][_0x288e7e(0x2b1)](this['instanceName']+'\x20('+this[_0x288e7e(0x60a)][_0x288e7e(0x33b)]+_0x288e7e(0x8a6));try{let _0x170c8a=await this[_0x288e7e(0x3ce)](_0x8974e6);if(!_0x170c8a||Object[_0x288e7e(0x281)](_0x170c8a)[_0x288e7e(0x7dc)]===0x0)throw new J(_0x288e7e(0x1c3));let _0x1be75e=_0x170c8a[0x0];this[_0x288e7e(0x773)][_0x288e7e(0x2b1)](this['instanceName']+'\x20('+this[_0x288e7e(0x60a)][_0x288e7e(0x33b)]+'):Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x8974e6);try{await this[_0x288e7e(0x88d)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x1be75e[_0x288e7e(0x2a8)],'messageTimestamp':_0x1be75e[_0x288e7e(0x48a)]}]},this[_0x288e7e(0x792)](_0x8974e6));}catch(_0x43f367){this[_0x288e7e(0x773)]['error'](_0x288e7e(0x82f)+_0x8974e6+':\x20'+_0x43f367[_0x288e7e(0x6c3)]());}this[_0x288e7e(0x773)][_0x288e7e(0x2b1)](this[_0x288e7e(0x192)]+'\x20('+this['instance']['wuid']+_0x288e7e(0x2aa)+_0x8974e6);return;}catch(_0x58eeb9){throw this[_0x288e7e(0x773)][_0x288e7e(0x2e7)](this[_0x288e7e(0x192)]+'\x20('+this[_0x288e7e(0x60a)][_0x288e7e(0x33b)]+'):Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x58eeb9['toString']()),new x({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x58eeb9[_0x288e7e(0x6c3)]()]});}}async[a0_0x1955e1(0x306)](_0xbd5310){const _0x2f7e44=a0_0x1955e1;try{let _0x3648b5=await this[_0x2f7e44(0x88d)]['sendMessage'](_0xbd5310[_0x2f7e44(0x8a0)],{'delete':_0xbd5310});try{let _0x45a4b7=await this[_0x2f7e44(0x27c)](_0xbd5310,{'status':_0x2f7e44(0x43b),'owner':this[_0x2f7e44(0x60a)][_0x2f7e44(0x33b)]});this[_0x2f7e44(0x773)][_0x2f7e44(0x2b1)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2f7e44(0x188)+_0x45a4b7);}catch(_0x140558){this[_0x2f7e44(0x773)][_0x2f7e44(0x2e7)]('Error\x20updating\x20message\x20status:'+_0x140558);}return _0x3648b5;}catch(_0x4d67f5){throw new x(_0x2f7e44(0x673),_0x4d67f5?.['toString']());}}async['getBase64FromMediaMessage'](_0x3f043c){const _0x9cd868=a0_0x1955e1;try{let _0xa5b3c2=_0x3f043c?.[_0x9cd868(0x451)]?_0x3f043c:await this[_0x9cd868(0x7db)](_0x3f043c[_0x9cd868(0x2a8)],!0x0);for(let _0x56ddf4 of Ra)_0xa5b3c2[_0x9cd868(0x451)][_0x56ddf4]&&(_0xa5b3c2[_0x9cd868(0x451)]=_0xa5b3c2['message'][_0x56ddf4]['message']);let _0x3ee223,_0x2ccbf3;for(let _0x484783 of $a)if(_0x3ee223=_0xa5b3c2['message'][_0x484783],_0x3ee223){_0x2ccbf3=_0x484783;break;}if(!_0x3ee223)throw _0x9cd868(0x2fc);typeof _0x3ee223[_0x9cd868(0x1ff)]==_0x9cd868(0x64b)&&(_0xa5b3c2[_0x9cd868(0x451)]=JSON[_0x9cd868(0x226)](JSON[_0x9cd868(0x36f)](_0xa5b3c2[_0x9cd868(0x451)])));let _0xd6b98c=await(0x0,w[_0x9cd868(0x729)])({'key':_0xa5b3c2?.[_0x9cd868(0x2a8)],'message':_0xa5b3c2?.[_0x9cd868(0x451)]},_0x9cd868(0x54f),{},{'logger':(0x0,Jt[_0x9cd868(0x36d)])({'level':_0x9cd868(0x556)}),'reuploadRequest':this[_0x9cd868(0x88d)]['updateMediaMessage']});if(!(_0xd6b98c instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x564924=this[_0x9cd868(0x567)]['get']('DATABASE'),_0x396359,_0x481a89;if(_0x3ee223[_0x9cd868(0x4b6)])_0x396359=_0x3ee223[_0x9cd868(0x4b6)];else{let _0x2e078a=_0x3ee223[_0x9cd868(0x87a)]?.['match'](/\/(\w+)/),_0x4bf281=_0x2e078a?_0x2e078a[0x1]:null;if(!_0x4bf281)throw new Error(_0x9cd868(0x6a9));_0x396359=(0x0,Y['v4'])()+'.'+_0x4bf281;}_0x2ccbf3==='audioMessage'?_0x481a89=_0x9cd868(0x5f1)+await this[_0x9cd868(0x67d)](_0xd6b98c[_0x9cd868(0x6c3)](_0x9cd868(0x863))):(await this[_0x9cd868(0x25c)](_0xd6b98c,_0x396359),_0x481a89=_0x9cd868(0x5f1)+_0x396359);let _0x133aed=this[_0x9cd868(0x567)]['get'](_0x9cd868(0x381))[_0x9cd868(0x854)];if(!_0x133aed){let _0x51fd5c=this[_0x9cd868(0x567)][_0x9cd868(0x7be)](_0x9cd868(0x671));_0x133aed=_0x9cd868(0x8c0)+(_0x51fd5c&&_0x51fd5c[_0x9cd868(0x355)][_0x9cd868(0x3ff)]('/')[0x4]);}_0x481a89=''+_0x133aed+_0x481a89;let _0x31cf44=0xc*0x3c*0x3c*0x3e8,_0x5df95d={'where':{'_id':_0xa5b3c2[_0x9cd868(0x2a8)]['id']}},_0x59061f={'message_normalized.fileUrl':_0x481a89,'message_normalized.expires_fileUrl':Date[_0x9cd868(0x835)]()+_0x31cf44};try{let _0x30a467=await this[_0x9cd868(0x3c7)][_0x9cd868(0x451)][_0x9cd868(0x563)](_0x5df95d,_0x59061f,this['instance']['wuid']);_0x30a467&&j(this[_0x9cd868(0x192)],_0x9cd868(0x687),{'message':_0x30a467});}catch(_0x1de567){let _0x150b53=_0x9cd868(0x6fb),_0x52f64d=_0x1de567 instanceof Error?_0x1de567[_0x9cd868(0x451)]:typeof _0x1de567==_0x9cd868(0x64b)?JSON[_0x9cd868(0x36f)](_0x1de567):_0x1de567,_0x2844eb=_0x150b53+':\x20'+_0x52f64d;this[_0x9cd868(0x773)][_0x9cd868(0x2e7)](this[_0x9cd868(0x192)]+'\x20('+this[_0x9cd868(0x60a)][_0x9cd868(0x33b)]+_0x9cd868(0x6cd)+_0x2844eb);}return{'mediaType':_0x2ccbf3,'fileName':_0x3ee223['fileName'],'caption':_0x3ee223[_0x9cd868(0x4de)],'size':{'fileLength':_0x3ee223[_0x9cd868(0x1c1)],'height':_0x3ee223[_0x9cd868(0x325)],'width':_0x3ee223[_0x9cd868(0x238)]},'mimetype':_0x3ee223[_0x9cd868(0x87a)],'base64':_0xd6b98c[_0x9cd868(0x6c3)]('base64'),'fileUrl':_0x481a89,'expires_fileUrl':Date[_0x9cd868(0x835)]()+_0x31cf44};}catch(_0x5d4155){let _0xb3c5f9=_0x9cd868(0x62f),_0x1ca75a=_0x5d4155 instanceof Error?_0x5d4155[_0x9cd868(0x451)]:typeof _0x5d4155=='object'?JSON[_0x9cd868(0x36f)](_0x5d4155):_0x5d4155,_0x5eae81=_0xb3c5f9+':\x20'+_0x1ca75a;throw this[_0x9cd868(0x773)][_0x9cd868(0x2e7)](this[_0x9cd868(0x192)]+'\x20('+this[_0x9cd868(0x60a)][_0x9cd868(0x33b)]+'):\x20'+_0x5eae81),new m(_0x5eae81);}}async[a0_0x1955e1(0x25c)](_0xfdbc86,_0xa3b37a){const _0xf6b7c0=a0_0x1955e1;let _0x10d87b=U[_0xf6b7c0(0x36d)][_0xf6b7c0(0x279)](__dirname,'downloads');L['existsSync'](_0x10d87b)||L[_0xf6b7c0(0x374)](_0x10d87b,{'recursive':!0x0});let _0x16200c=U[_0xf6b7c0(0x36d)][_0xf6b7c0(0x279)](_0x10d87b,_0xa3b37a);return new Promise((_0xdbd0b4,_0x5a43bf)=>{const _0x4ed02b=_0xf6b7c0;L[_0x4ed02b(0x526)](_0x16200c,_0xfdbc86,_0x34da55=>{const _0x2ada8d=_0x4ed02b;_0x34da55?(this['logger'][_0x2ada8d(0x2e7)](_0x2ada8d(0x32f)+(_0x34da55 instanceof Error?_0x34da55[_0x2ada8d(0x451)]:JSON[_0x2ada8d(0x36f)](_0x34da55,null,0x2))),_0x5a43bf(_0x34da55)):(this[_0x2ada8d(0x773)][_0x2ada8d(0x538)](_0x2ada8d(0x859)+_0x16200c),_0xdbd0b4(_0x16200c));});});}async[a0_0x1955e1(0x1e7)](_0x28f033){const _0x5c70bb=a0_0x1955e1;return await this[_0x5c70bb(0x3c7)]['contact'][_0x5c70bb(0x6d3)](_0x28f033,this[_0x5c70bb(0x60a)][_0x5c70bb(0x33b)]);}async[a0_0x1955e1(0x530)](){const _0x439129=a0_0x1955e1;return await this[_0x439129(0x3c7)][_0x439129(0x4aa)][_0x439129(0x6d3)]({'where':{}},this[_0x439129(0x60a)]['wuid']);}async['fetchMessages'](_0x1d5c97){const _0x25eba5=a0_0x1955e1;return await this[_0x25eba5(0x3c7)][_0x25eba5(0x451)][_0x25eba5(0x6d3)](_0x1d5c97,this[_0x25eba5(0x60a)]['wuid']);}async[a0_0x1955e1(0x65c)](){const _0x50ff1c=a0_0x1955e1;return this[_0x50ff1c(0x3c7)]['chat'][_0x50ff1c(0x1d7)](this[_0x50ff1c(0x60a)]['wuid']),this['repository'][_0x50ff1c(0x326)]['updateMissingEtiquetas'](this[_0x50ff1c(0x60a)][_0x50ff1c(0x33b)]),this['repository'][_0x50ff1c(0x326)][_0x50ff1c(0x5f7)](this[_0x50ff1c(0x60a)][_0x50ff1c(0x33b)]),this[_0x50ff1c(0x3c7)][_0x50ff1c(0x326)]['updateMissingCustomFields'](this[_0x50ff1c(0x60a)][_0x50ff1c(0x33b)]),await this['repository']['chat'][_0x50ff1c(0x6d3)]({'where':{}},this[_0x50ff1c(0x60a)][_0x50ff1c(0x33b)]);}async[a0_0x1955e1(0x288)](_0x227943){const _0x7a1786=a0_0x1955e1;try{if(!Array[_0x7a1786(0x4b0)](_0x227943)||_0x227943[_0x7a1786(0x7dc)]===0x0)throw new Error(_0x7a1786(0x26b));let _0x54ab13=[],_0x5c8370=[];for(let _0x1563ea of _0x227943){if(_0x1563ea[_0x7a1786(0x45a)])_0x1563ea[_0x7a1786(0x45a)]=this['createJid'](_0x1563ea[_0x7a1786(0x45a)]);else continue;await this[_0x7a1786(0x3c7)]['chat'][_0x7a1786(0x309)]({'where':{'_id':_0x1563ea[_0x7a1786(0x45a)]}},this[_0x7a1786(0x60a)]['wuid'])?_0x5c8370[_0x7a1786(0x6c9)]({'_id':_0x1563ea['_id'],'leadInfo':_0x1563ea[_0x7a1786(0x4a1)],'owner':this[_0x7a1786(0x60a)][_0x7a1786(0x33b)]}):_0x54ab13['push']({'_id':_0x1563ea[_0x7a1786(0x45a)],'owner':this[_0x7a1786(0x60a)][_0x7a1786(0x33b)],'leadInfo':_0x1563ea[_0x7a1786(0x4a1)],'imported':!0x0});}return _0x5c8370[_0x7a1786(0x7dc)]>0x0&&await this['repository'][_0x7a1786(0x326)][_0x7a1786(0x1b4)](_0x5c8370[_0x7a1786(0x3e2)](_0x8e1a27=>({'query':{'where':{'_id':_0x8e1a27[_0x7a1786(0x45a)],'owner':this[_0x7a1786(0x60a)]['wuid']}},'update':_0x8e1a27}))),_0x54ab13[_0x7a1786(0x7dc)]>0x0&&await this[_0x7a1786(0x3c7)][_0x7a1786(0x326)][_0x7a1786(0x31e)](_0x54ab13,this['instance'][_0x7a1786(0x33b)]),{'updated':_0x5c8370[_0x7a1786(0x7dc)],'inserted':_0x54ab13[_0x7a1786(0x7dc)]};}catch(_0x1aedff){let _0x28cd2b=_0x7a1786(0x46c),_0x193449=_0x1aedff instanceof Error?_0x1aedff['message']:typeof _0x1aedff=='object'?JSON[_0x7a1786(0x36f)](_0x1aedff):_0x1aedff,_0x4bf325=_0x28cd2b+':\x20'+_0x193449;throw this[_0x7a1786(0x773)][_0x7a1786(0x2e7)](this[_0x7a1786(0x192)]+'\x20('+this[_0x7a1786(0x60a)][_0x7a1786(0x33b)]+'):\x20'+_0x4bf325),new m(_0x4bf325);}}async[a0_0x1955e1(0x27d)](_0x5959c4){const _0x293f22=a0_0x1955e1;try{if(!Array[_0x293f22(0x4b0)](_0x5959c4)||_0x5959c4[_0x293f22(0x7dc)]===0x0)throw new Error(_0x293f22(0x26b));let _0x3e6177=0x64,_0x3a806a=0x0;for(let _0xba4c6a=0x0;_0xba4c6a<_0x5959c4[_0x293f22(0x7dc)];_0xba4c6a+=_0x3e6177){let _0x141ce5=_0x5959c4[_0x293f22(0x35c)](_0xba4c6a,_0xba4c6a+_0x3e6177),{updated:_0x84b3fe}=await this[_0x293f22(0x6df)](_0x141ce5);_0x3a806a+=_0x84b3fe;}return{'updated':_0x3a806a};}catch(_0x1c993a){let _0x50d304=_0x293f22(0x46c),_0x4f9391=_0x1c993a instanceof Error?_0x1c993a[_0x293f22(0x451)]:typeof _0x1c993a==_0x293f22(0x64b)?JSON[_0x293f22(0x36f)](_0x1c993a):_0x1c993a,_0x1e08b0=_0x50d304+':\x20'+_0x4f9391;throw this[_0x293f22(0x773)][_0x293f22(0x2e7)](this['instanceName']+'\x20('+this['instance'][_0x293f22(0x33b)]+_0x293f22(0x6cd)+_0x1e08b0),new m(_0x1e08b0);}}async[a0_0x1955e1(0x6df)](_0x238811){const _0x2a4256=a0_0x1955e1;try{let _0x2bea95=await this[_0x2a4256(0x3c7)]['label'][_0x2a4256(0x6d3)]({'where':{}},this[_0x2a4256(0x60a)][_0x2a4256(0x33b)]),_0x1947f8=new Set(_0x2bea95['map'](_0x15da50=>_0x15da50[_0x2a4256(0x45a)])),_0x39f0a8=[],_0x4d2942=[];for(let _0x2f0973 of _0x238811){if(!_0x2f0973[_0x2a4256(0x45a)])continue;_0x2f0973[_0x2a4256(0x45a)]=this[_0x2a4256(0x792)](_0x2f0973[_0x2a4256(0x45a)]);let _0x1125b8=await this[_0x2a4256(0x3c7)][_0x2a4256(0x326)][_0x2a4256(0x309)]({'where':{'_id':_0x2f0973[_0x2a4256(0x45a)]}},this[_0x2a4256(0x60a)]['wuid']),_0x19b6fc={};if(Object[_0x2a4256(0x701)](_0x2f0973[_0x2a4256(0x4a1)])[_0x2a4256(0x408)](([_0xc08156,_0x58491d])=>{const _0xfdcdc3=_0x2a4256;_0x19b6fc[_0xfdcdc3(0x881)+_0xc08156]=_0x58491d;}),_0x1125b8&&!_0x1125b8[_0x2a4256(0x688)]){let _0x2de0d7=(_0x2f0973[_0x2a4256(0x4a1)]['etiquetas']||[])['filter'](_0x49b89f=>_0x1947f8[_0x2a4256(0x8bb)](_0x49b89f)),_0x1642c9=new Set(_0x1125b8[_0x2a4256(0x4a1)][_0x2a4256(0x3e5)]||[]),_0x5c3e5d=_0x2de0d7[_0x2a4256(0x2c4)](_0x3d6504=>!_0x1642c9[_0x2a4256(0x8bb)](_0x3d6504)),_0x535af6=[..._0x1642c9]['filter'](_0x144e4f=>!_0x2de0d7[_0x2a4256(0x718)](_0x144e4f));_0x4d2942[_0x2a4256(0x6c9)](..._0x5c3e5d[_0x2a4256(0x3e2)](_0x1d3d03=>this[_0x2a4256(0x2f8)](_0x1d3d03,_0x2f0973['_id']))),_0x4d2942[_0x2a4256(0x6c9)](..._0x535af6[_0x2a4256(0x3e2)](_0x39faf5=>this[_0x2a4256(0x391)](_0x39faf5,_0x2f0973[_0x2a4256(0x45a)]))),_0x2f0973[_0x2a4256(0x4a1)]['etiquetas']=_0x2de0d7,_0x39f0a8[_0x2a4256(0x6c9)]({'query':{'where':{'_id':_0x2f0973[_0x2a4256(0x45a)],'owner':this[_0x2a4256(0x60a)]['wuid']}},'update':_0x19b6fc});}else _0x19b6fc[_0x2a4256(0x688)]=!0x0,_0x39f0a8[_0x2a4256(0x6c9)]({'query':{'where':{'_id':_0x2f0973[_0x2a4256(0x45a)],'owner':this['instance'][_0x2a4256(0x33b)]}},'update':_0x19b6fc});}let _0x190f03=await this['repository']['chat'][_0x2a4256(0x1b4)](_0x39f0a8);return await Promise['all'](_0x4d2942),{'updated':_0x190f03};}catch(_0x1b8514){let _0x6ebd4b=_0x2a4256(0x46c),_0x1edd44=_0x1b8514 instanceof Error?_0x1b8514[_0x2a4256(0x451)]:typeof _0x1b8514=='object'?JSON[_0x2a4256(0x36f)](_0x1b8514):_0x1b8514,_0x56204a=_0x6ebd4b+':\x20'+_0x1edd44;throw this[_0x2a4256(0x773)][_0x2a4256(0x2e7)](this['instanceName']+'\x20('+this['instance'][_0x2a4256(0x33b)]+'):\x20'+_0x56204a),new m(_0x56204a);}}async[a0_0x1955e1(0x878)](){const _0x59f808=a0_0x1955e1;return await this[_0x59f808(0x88d)][_0x59f808(0x878)]();}async[a0_0x1955e1(0x5a1)](_0x55f754){const _0x458123=a0_0x1955e1;try{return await this[_0x458123(0x88d)]['updateReadReceiptsPrivacy'](_0x55f754[_0x458123(0x566)][_0x458123(0x53b)]),await this[_0x458123(0x88d)]['updateProfilePicturePrivacy'](_0x55f754['privacySettings'][_0x458123(0x2b9)]),await this[_0x458123(0x88d)][_0x458123(0x6a4)](_0x55f754[_0x458123(0x566)][_0x458123(0x3d9)]),await this['client']['updateOnlinePrivacy'](_0x55f754[_0x458123(0x566)][_0x458123(0x3cf)]),await this[_0x458123(0x88d)][_0x458123(0x82c)](_0x55f754[_0x458123(0x566)][_0x458123(0x597)]),await this[_0x458123(0x88d)][_0x458123(0x34f)](_0x55f754[_0x458123(0x566)][_0x458123(0x4ea)]),this[_0x458123(0x88d)]?.['ws']?.[_0x458123(0x4ce)](),{'update':_0x458123(0x5ca),'data':{'readreceipts':_0x55f754[_0x458123(0x566)]['readreceipts'],'profile':_0x55f754[_0x458123(0x566)][_0x458123(0x2b9)],'status':_0x55f754[_0x458123(0x566)]['status'],'online':_0x55f754[_0x458123(0x566)][_0x458123(0x3cf)],'last':_0x55f754[_0x458123(0x566)][_0x458123(0x597)],'groupadd':_0x55f754[_0x458123(0x566)]['groupadd']}};}catch(_0x3c548f){let _0x2e396e=_0x458123(0x533),_0x28a1d8=_0x3c548f instanceof Error?_0x3c548f[_0x458123(0x451)]:typeof _0x3c548f==_0x458123(0x64b)?JSON[_0x458123(0x36f)](_0x3c548f):_0x3c548f,_0x3a790f=_0x2e396e+':\x20'+_0x28a1d8;throw this[_0x458123(0x773)][_0x458123(0x2e7)](this[_0x458123(0x192)]+'\x20('+this['instance'][_0x458123(0x33b)]+_0x458123(0x6cd)+_0x3a790f),new m(_0x3a790f);}}async['fetchProfile'](_0x48c794){const _0x405fc1=a0_0x1955e1;let _0x3fc106=(_0x48c794?this[_0x405fc1(0x792)](_0x48c794):this[_0x405fc1(0x88d)]?.[_0x405fc1(0x441)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this['logger'][_0x405fc1(0x2b1)](this[_0x405fc1(0x192)]+'\x20('+this[_0x405fc1(0x60a)][_0x405fc1(0x33b)]+_0x405fc1(0x5d4)+_0x3fc106);let _0x38a74f=await this['repository']['contact'][_0x405fc1(0x309)]({'where':{'_id':_0x3fc106}},this['instance'][_0x405fc1(0x33b)]),_0x3db798=_0x38a74f?_0x38a74f[_0x405fc1(0x3b1)]:null;try{let _0x281890=(await this['whatsappNumber']({'numbers':[_0x3fc106]}))?.[_0x405fc1(0x210)](),_0x3694b1=(await this['findAndUpdateCacheContact'](_0x3fc106,null,!0x1))[_0x405fc1(0x8a5)][_0x405fc1(0x6ff)],_0x245250=await this[_0x405fc1(0x847)](_0x281890?.['jid']),_0x25a538=await this[_0x405fc1(0x1eb)](_0x281890?.[_0x405fc1(0x6b2)]),_0x63ced6=(await this[_0x405fc1(0x749)](_0x3fc106,null,!0x1))[_0x405fc1(0x8a5)][_0x405fc1(0x543)],_0x556372=await this[_0x405fc1(0x3c7)][_0x405fc1(0x326)][_0x405fc1(0x309)]({'where':{'_id':_0x3fc106}},this[_0x405fc1(0x60a)][_0x405fc1(0x33b)]),_0x321eb9={'imagechat':_0x3694b1,'contactname':_0x3db798||null,'pushName':_0x63ced6,'status':_0x245250?.['status'],'isBusiness':_0x25a538[_0x405fc1(0x675)],'email':_0x25a538?.['email'],'description':_0x25a538?.['description'],'website':_0x25a538?.[_0x405fc1(0x2ff)]?.[_0x405fc1(0x210)](),'lastcache':Date[_0x405fc1(0x835)](),'imported':!_0x556372},_0x65f7bd=await this[_0x405fc1(0x3c7)][_0x405fc1(0x326)][_0x405fc1(0x400)]({'where':{'_id':_0x3fc106}},_0x321eb9,this['instance'][_0x405fc1(0x33b)]),_0x5d1c32={'owner':this[_0x405fc1(0x60a)][_0x405fc1(0x33b)],'_id':_0x3fc106,'profilePictureUrl':_0x3694b1,'status':_0x245250?.[_0x405fc1(0x3d9)]};return this[_0x405fc1(0x3c7)][_0x405fc1(0x703)]['update']([_0x5d1c32],this[_0x405fc1(0x60a)][_0x405fc1(0x33b)]),_0x65f7bd&&j(this[_0x405fc1(0x192)],'chats',{'chat':_0x65f7bd}),{'wuid':_0x281890?.['jid']||_0x3fc106,'name':_0x281890?.[_0x405fc1(0x543)],'pushName':_0x63ced6,'numberExists':_0x281890?.['exists'],'picture':_0x3694b1,'status':_0x245250?.[_0x405fc1(0x3d9)],'isBusiness':_0x25a538['isBusiness'],'email':_0x25a538?.['email'],'description':_0x25a538?.[_0x405fc1(0x5cf)],'website':_0x25a538?.[_0x405fc1(0x2ff)]?.['shift']()};}catch(_0x34b19f){return this[_0x405fc1(0x773)][_0x405fc1(0x2e7)](_0x405fc1(0x3e0)+(_0x34b19f instanceof Error?_0x34b19f[_0x405fc1(0x451)]:JSON[_0x405fc1(0x36f)](_0x34b19f,null,0x2))),{};}}async[a0_0x1955e1(0x1eb)](_0x11d88e){const _0x280174=a0_0x1955e1;this[_0x280174(0x773)][_0x280174(0x2b1)](this[_0x280174(0x192)]+'\x20('+this[_0x280174(0x60a)][_0x280174(0x33b)]+_0x280174(0x5f6));try{let _0x4c7106=_0x11d88e?this[_0x280174(0x792)](_0x11d88e):this[_0x280174(0x60a)][_0x280174(0x33b)],_0x3eb6b5=await this[_0x280174(0x88d)]['getBusinessProfile'](_0x4c7106);return this['logger'][_0x280174(0x2b1)](this['instanceName']+'\x20('+this[_0x280174(0x60a)][_0x280174(0x33b)]+_0x280174(0x5bf)),_0x3eb6b5?(this[_0x280174(0x773)][_0x280174(0x2b1)](this[_0x280174(0x192)]+'\x20('+this[_0x280174(0x60a)][_0x280174(0x33b)]+'):Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x3eb6b5}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x280174(0x73d)]({'numbers':[_0x4c7106]}))?.['shift']()};}catch(_0x3de33d){let _0x57dcdf='Falha\x20ao\x20processar\x20fetchBusinessProfile',_0x2d94dd=_0x3de33d instanceof Error?_0x3de33d[_0x280174(0x451)]:typeof _0x3de33d==_0x280174(0x64b)?JSON[_0x280174(0x36f)](_0x3de33d):_0x3de33d,_0x3e1c54=_0x57dcdf+':\x20'+_0x2d94dd;throw this[_0x280174(0x773)][_0x280174(0x2e7)](this['instanceName']+'\x20('+this['instance'][_0x280174(0x33b)]+_0x280174(0x6cd)+_0x3e1c54),new x(_0x3e1c54);}}async[a0_0x1955e1(0x847)](_0x60b585){const _0x35e77f=a0_0x1955e1;let _0x48171b=this[_0x35e77f(0x792)](_0x60b585);try{return{'wuid':_0x48171b,'status':(await this[_0x35e77f(0x88d)][_0x35e77f(0x2e3)](_0x48171b))?.[_0x35e77f(0x3d9)]};}catch{return{'wuid':_0x48171b,'status':null};}}async[a0_0x1955e1(0x851)](_0x21dd2b){const _0x391b70=a0_0x1955e1;try{return await this['client']['updateProfileName'](_0x21dd2b),{'update':_0x391b70(0x5ca)};}catch(_0x4eea2d){let _0x454bb1='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',_0x176d8d=_0x4eea2d instanceof Error?_0x4eea2d[_0x391b70(0x451)]:typeof _0x4eea2d==_0x391b70(0x64b)?JSON['stringify'](_0x4eea2d):_0x4eea2d,_0x7a6a12=_0x454bb1+':\x20'+_0x176d8d;throw this['logger'][_0x391b70(0x2e7)](this[_0x391b70(0x192)]+'\x20('+this['instance'][_0x391b70(0x33b)]+_0x391b70(0x6cd)+_0x7a6a12),new x(_0x7a6a12);}}async[a0_0x1955e1(0x213)](_0x4d0355){const _0x504ef2=a0_0x1955e1;try{return await this[_0x504ef2(0x88d)]['updateProfileStatus'](_0x4d0355),{'update':_0x504ef2(0x5ca)};}catch(_0x4e30d4){let _0x32bc88='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0x3da160=_0x4e30d4 instanceof Error?_0x4e30d4[_0x504ef2(0x451)]:typeof _0x4e30d4==_0x504ef2(0x64b)?JSON[_0x504ef2(0x36f)](_0x4e30d4):_0x4e30d4,_0x5e20ec=_0x32bc88+':\x20'+_0x3da160;throw this[_0x504ef2(0x773)][_0x504ef2(0x2e7)](this['instanceName']+'\x20('+this[_0x504ef2(0x60a)][_0x504ef2(0x33b)]+_0x504ef2(0x6cd)+_0x5e20ec),new x(_0x5e20ec);}}async['updateProfilePicture'](_0xcb405){const _0x465f07=a0_0x1955e1;try{let _0x556f83;if((0x0,k[_0x465f07(0x3cd)])(_0xcb405)){let _0x115d40=new Date()[_0x465f07(0x763)](),_0x4a73e6=_0xcb405+_0x465f07(0x293)+_0x115d40;_0x556f83=(await Q[_0x465f07(0x36d)][_0x465f07(0x7be)](_0x4a73e6,{'responseType':_0x465f07(0x822)}))[_0x465f07(0x786)];}else{if((0x0,k[_0x465f07(0x2c2)])(_0xcb405))_0x556f83=Buffer[_0x465f07(0x6d8)](_0xcb405,_0x465f07(0x863));else throw new m(_0x465f07(0x734));}return await this[_0x465f07(0x88d)]['updateProfilePicture'](this[_0x465f07(0x60a)][_0x465f07(0x33b)],_0x556f83),{'update':'success'};}catch(_0x35e9b6){let _0x57ff0='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture',_0x4d2f88=_0x35e9b6 instanceof Error?_0x35e9b6[_0x465f07(0x451)]:typeof _0x35e9b6=='object'?JSON[_0x465f07(0x36f)](_0x35e9b6):_0x35e9b6,_0x43114f=_0x57ff0+':\x20'+_0x4d2f88;throw this[_0x465f07(0x773)][_0x465f07(0x2e7)](this[_0x465f07(0x192)]+'\x20('+this[_0x465f07(0x60a)][_0x465f07(0x33b)]+_0x465f07(0x6cd)+_0x43114f),new x(_0x43114f);}}async[a0_0x1955e1(0x233)](){const _0x1c30c5=a0_0x1955e1;try{return await this[_0x1c30c5(0x88d)][_0x1c30c5(0x233)](this[_0x1c30c5(0x60a)][_0x1c30c5(0x33b)]),{'update':_0x1c30c5(0x5ca)};}catch(_0x55ee6a){let _0x35c544=_0x1c30c5(0x677),_0x348610=_0x55ee6a instanceof Error?_0x55ee6a[_0x1c30c5(0x451)]:typeof _0x55ee6a==_0x1c30c5(0x64b)?JSON[_0x1c30c5(0x36f)](_0x55ee6a):_0x55ee6a,_0x57b630=_0x35c544+':\x20'+_0x348610;throw this['logger'][_0x1c30c5(0x2e7)](this[_0x1c30c5(0x192)]+'\x20('+this[_0x1c30c5(0x60a)][_0x1c30c5(0x33b)]+'):\x20'+_0x57b630),new x(_0x57b630);}}async[a0_0x1955e1(0x588)](_0x46f503){const _0x40f51c=a0_0x1955e1;try{let _0x47fdd5=(await this[_0x40f51c(0x73d)]({'numbers':_0x46f503[_0x40f51c(0x212)]}))[_0x40f51c(0x2c4)](_0xdf5eb0=>_0xdf5eb0['exists'])[_0x40f51c(0x3e2)](_0x4738d3=>_0x4738d3[_0x40f51c(0x6b2)]),{id:_0x1c4349}=await this[_0x40f51c(0x88d)][_0x40f51c(0x302)](_0x46f503[_0x40f51c(0x574)],_0x47fdd5);_0x46f503?.[_0x40f51c(0x5cf)]&&await this[_0x40f51c(0x88d)]['groupUpdateDescription'](_0x1c4349,_0x46f503[_0x40f51c(0x5cf)]);let _0x315484=await this['client'][_0x40f51c(0x496)](_0x1c4349);return _0x315484[_0x40f51c(0x1df)]=[],{'metadata':_0x315484};}catch(_0x51af84){let _0x506ee6=_0x40f51c(0x5e4),_0x2c347d=_0x51af84 instanceof Error?_0x51af84[_0x40f51c(0x451)]:typeof _0x51af84==_0x40f51c(0x64b)?JSON[_0x40f51c(0x36f)](_0x51af84):_0x51af84,_0x421a23=_0x506ee6+':\x20'+_0x2c347d;throw this['logger'][_0x40f51c(0x2e7)](this[_0x40f51c(0x192)]+'\x20('+this[_0x40f51c(0x60a)][_0x40f51c(0x33b)]+_0x40f51c(0x6cd)+_0x421a23),new x(_0x421a23);}}async[a0_0x1955e1(0x22c)](_0x5232c6){const _0x2c2c56=a0_0x1955e1;try{if(_0x5232c6[_0x2c2c56(0x273)]===!0x0&&await this[_0x2c2c56(0x88d)]['groupSettingUpdate'](_0x5232c6['groupJid'],_0x2c2c56(0x6e1)),_0x5232c6[_0x2c2c56(0x273)]===!0x1&&await this[_0x2c2c56(0x88d)][_0x2c2c56(0x5c3)](_0x5232c6['groupJid'],_0x2c2c56(0x6c4)),_0x5232c6[_0x2c2c56(0x367)]===!0x0&&await this['client'][_0x2c2c56(0x5c3)](_0x5232c6[_0x2c2c56(0x425)],_0x2c2c56(0x406)),_0x5232c6[_0x2c2c56(0x367)]===!0x1&&await this[_0x2c2c56(0x88d)][_0x2c2c56(0x5c3)](_0x5232c6['groupJid'],_0x2c2c56(0x32d)),_0x5232c6[_0x2c2c56(0x2a9)]===!0x0&&await this[_0x2c2c56(0x88d)][_0x2c2c56(0x58b)](_0x5232c6[_0x2c2c56(0x425)],_0x2c2c56(0x18f)),_0x5232c6[_0x2c2c56(0x2a9)]===!0x1&&await this[_0x2c2c56(0x88d)][_0x2c2c56(0x58b)](_0x5232c6[_0x2c2c56(0x425)],_0x2c2c56(0x757)),_0x5232c6[_0x2c2c56(0x4fc)]===!0x0&&await this[_0x2c2c56(0x88d)][_0x2c2c56(0x73c)](_0x5232c6[_0x2c2c56(0x425)],'on'),_0x5232c6[_0x2c2c56(0x4fc)]===!0x1&&await this[_0x2c2c56(0x88d)][_0x2c2c56(0x73c)](_0x5232c6['groupJid'],_0x2c2c56(0x40d)),typeof _0x5232c6[_0x2c2c56(0x827)]<'u'&&_0x5232c6['expiration']!==null&&await this[_0x2c2c56(0x88d)][_0x2c2c56(0x4f2)](_0x5232c6[_0x2c2c56(0x425)],_0x5232c6[_0x2c2c56(0x827)]),_0x5232c6['name']&&await this[_0x2c2c56(0x88d)][_0x2c2c56(0x6fd)](_0x5232c6[_0x2c2c56(0x425)],_0x5232c6[_0x2c2c56(0x543)]),_0x5232c6[_0x2c2c56(0x5cf)]&&await this[_0x2c2c56(0x88d)]['groupUpdateDescription'](_0x5232c6[_0x2c2c56(0x425)],_0x5232c6['description']),_0x5232c6[_0x2c2c56(0x412)]){let _0x35592d;if((0x0,k[_0x2c2c56(0x3cd)])(_0x5232c6[_0x2c2c56(0x412)])){let _0x3ab8c4=new Date()[_0x2c2c56(0x763)](),_0x2aaa55=_0x5232c6[_0x2c2c56(0x412)]+'?timestamp='+_0x3ab8c4;_0x35592d=(await Q[_0x2c2c56(0x36d)][_0x2c2c56(0x7be)](_0x2aaa55,{'responseType':_0x2c2c56(0x822)}))[_0x2c2c56(0x786)];}else{if((0x0,k[_0x2c2c56(0x2c2)])(_0x5232c6['image']))_0x35592d=Buffer[_0x2c2c56(0x6d8)](_0x5232c6[_0x2c2c56(0x412)],_0x2c2c56(0x863));else throw new m(_0x2c2c56(0x734));}await this[_0x2c2c56(0x88d)]['updateProfilePicture'](_0x5232c6[_0x2c2c56(0x425)],_0x35592d);}return await this['findGroup']({'groupJid':_0x5232c6[_0x2c2c56(0x425)]});}catch(_0x3c6f32){let _0x21711e=_0x2c2c56(0x252),_0x21f493=_0x3c6f32 instanceof Error?_0x3c6f32['message']:typeof _0x3c6f32==_0x2c2c56(0x64b)?JSON[_0x2c2c56(0x36f)](_0x3c6f32):_0x3c6f32,_0x36e1fb=_0x21711e+':\x20'+_0x21f493;throw this[_0x2c2c56(0x773)][_0x2c2c56(0x2e7)](this[_0x2c2c56(0x192)]+'\x20('+this[_0x2c2c56(0x60a)]['wuid']+_0x2c2c56(0x6cd)+_0x36e1fb),new x(_0x36e1fb);}}async[a0_0x1955e1(0x582)](_0x319790){const _0x107458=a0_0x1955e1;try{if(_0x319790[_0x107458(0x5ab)]==='approve'||_0x319790[_0x107458(0x5ab)]===_0x107458(0x3af)){let _0x3a3b34=_0x319790[_0x107458(0x212)][_0x107458(0x3e2)](_0x5d91da=>this[_0x107458(0x792)](_0x5d91da));await this['client'][_0x107458(0x632)](_0x319790[_0x107458(0x425)],_0x3a3b34,_0x319790[_0x107458(0x5ab)]);}else{if(_0x319790[_0x107458(0x5ab)]==='add'){let _0x172c0d=(await this[_0x107458(0x73d)]({'numbers':_0x319790['participants']}))['filter'](_0x271845=>_0x271845[_0x107458(0x72e)])['map'](_0x485bfc=>this[_0x107458(0x792)](_0x485bfc[_0x107458(0x6b2)]));if(_0x172c0d['length']===0x0)throw new m(_0x107458(0x893));await this['client'][_0x107458(0x37b)](_0x319790[_0x107458(0x425)],_0x172c0d,_0x107458(0x5c7));}else{let _0x260ed3=_0x319790[_0x107458(0x212)][_0x107458(0x3e2)](_0x202a73=>this[_0x107458(0x792)](_0x202a73));await this[_0x107458(0x88d)][_0x107458(0x37b)](_0x319790[_0x107458(0x425)],_0x260ed3,_0x319790['action']);}}return await this[_0x107458(0x2d8)]({'groupJid':_0x319790['groupJid']});}catch(_0x540e8b){let _0x56f800=_0x107458(0x6bc),_0x2de128=_0x540e8b instanceof Error?_0x540e8b[_0x107458(0x451)]:typeof _0x540e8b=='object'?JSON['stringify'](_0x540e8b):_0x540e8b,_0x2203a3=_0x56f800+':\x20'+_0x2de128;throw this[_0x107458(0x773)][_0x107458(0x2e7)](this[_0x107458(0x192)]+'\x20('+this[_0x107458(0x60a)]['wuid']+'):\x20'+_0x2203a3),new m(_0x2203a3);}}async[a0_0x1955e1(0x1c5)](_0x1dad9f){const _0xbe8409=a0_0x1955e1;try{return await this[_0xbe8409(0x88d)][_0xbe8409(0x1c5)](_0x1dad9f['inviteCode']);}catch(_0x2435dc){let _0x2a5d00=_0xbe8409(0x30d),_0x42b7d7=_0x2435dc instanceof Error?_0x2435dc[_0xbe8409(0x451)]:typeof _0x2435dc==_0xbe8409(0x64b)?JSON[_0xbe8409(0x36f)](_0x2435dc):_0x2435dc,_0x35a5b3=_0x2a5d00+':\x20'+_0x42b7d7;throw this[_0xbe8409(0x773)][_0xbe8409(0x2e7)](this[_0xbe8409(0x192)]+'\x20('+this[_0xbe8409(0x60a)][_0xbe8409(0x33b)]+'):\x20'+_0x35a5b3),new m(_0x35a5b3);}}async['findGroup'](_0x477b28,_0x2890fa=a0_0x1955e1(0x6f4)){const _0x3878fc=a0_0x1955e1;try{let _0x38b973=await this[_0x3878fc(0x3c7)]['chat'][_0x3878fc(0x309)]({'where':{'_id':_0x477b28[_0x3878fc(0x425)]}},this[_0x3878fc(0x60a)][_0x3878fc(0x33b)]),_0x152101=_0x38b973?_0x38b973[_0x3878fc(0x831)]:null,_0x20801a=0x18*0x3c*0x3c*0x3e8;if(!_0x152101||_0x152101[_0x3878fc(0x775)]&&Date['now']()-_0x152101[_0x3878fc(0x775)]>_0x20801a){let _0x48b7e6=await this[_0x3878fc(0x88d)]['groupMetadata'](_0x477b28[_0x3878fc(0x425)]);if(_0x48b7e6[_0x3878fc(0x796)]=_0x48b7e6?.[_0x3878fc(0x796)]&&_0x48b7e6[_0x3878fc(0x796)][_0x3878fc(0x6c3)]()[_0x3878fc(0x7dc)]<0xd?_0x48b7e6?.['subjectTime']*0x3e8:_0x48b7e6?.[_0x3878fc(0x796)]||null,_0x48b7e6[_0x3878fc(0x2ca)]=_0x48b7e6?.['creation']&&_0x48b7e6[_0x3878fc(0x2ca)][_0x3878fc(0x6c3)]()[_0x3878fc(0x7dc)]<0xd?_0x48b7e6?.[_0x3878fc(0x2ca)]*0x3e8:_0x48b7e6?.[_0x3878fc(0x2ca)]||null,_0x152101={..._0x48b7e6,'lastUpdate':Date[_0x3878fc(0x835)]()},!_0x48b7e6)return;}let _0x5b69fd=_0x152101['participants']['some'](_0x1f03c6=>_0x1f03c6['id']===this['instance']['wuid']+_0x3878fc(0x1a9)&&_0x1f03c6['admin']!=null);!_0x152101[_0x3878fc(0x1f2)]&&_0x5b69fd&&(_0x152101[_0x3878fc(0x1f2)]=(await this['inviteCode'](_0x477b28,!0x1))['inviteUrl']);let _0x1589c1=(!_0x152101[_0x3878fc(0x367)]||_0x5b69fd)&&(!_0x152101[_0x3878fc(0x285)]||_0x152101['isCommunity']&&_0x152101[_0x3878fc(0x856)]&&_0x5b69fd);_0x152101[_0x3878fc(0x5e3)]=_0x5b69fd,_0x152101[_0x3878fc(0x61d)]=_0x1589c1;let _0x7d950f=[];if(_0x5b69fd&&_0x152101[_0x3878fc(0x4fc)])try{_0x7d950f=await this['client']['groupRequestParticipantsList'](_0x477b28[_0x3878fc(0x425)]),_0x152101[_0x3878fc(0x39a)]=Date[_0x3878fc(0x835)]();}catch(_0x45df22){this[_0x3878fc(0x773)][_0x3878fc(0x2b1)](this[_0x3878fc(0x192)]+'\x20('+this['instance'][_0x3878fc(0x33b)]+_0x3878fc(0x645)+_0x477b28['groupJid']+':\x20'+(_0x45df22 instanceof Error?_0x45df22[_0x3878fc(0x451)]:JSON['stringify'](_0x45df22,null,0x2)));}try{_0x152101[_0x3878fc(0x412)]=(await this[_0x3878fc(0x749)](_0x477b28[_0x3878fc(0x425)],null,!0x0))[_0x3878fc(0x8a5)][_0x3878fc(0x6ff)];}catch(_0x1b636b){this[_0x3878fc(0x773)]['verbose'](this[_0x3878fc(0x192)]+'\x20('+this[_0x3878fc(0x60a)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x477b28['groupJid']+':\x20'+(_0x1b636b instanceof Error?_0x1b636b[_0x3878fc(0x451)]:JSON['stringify'](_0x1b636b,null,0x2)));}let _0x4b6194=_0x152101['participants'][_0x3878fc(0x3e2)](_0x39670f=>_0x39670f['id']),_0x3629cd=_0x7d950f[_0x3878fc(0x3e2)](_0x43aebe=>_0x43aebe[_0x3878fc(0x6b2)]),_0x46be08=await this[_0x3878fc(0x3c7)][_0x3878fc(0x61e)][_0x3878fc(0x58f)]([..._0x4b6194,..._0x3629cd]);_0x152101['participants']=_0x152101[_0x3878fc(0x212)][_0x3878fc(0x3e2)](_0x26a459=>{const _0x5a47b9=_0x3878fc;let _0x435f0=_0x46be08[_0x5a47b9(0x6d3)](_0x508480=>_0x508480[_0x5a47b9(0x45a)]===_0x26a459['id']);return{'id':_0x26a459['id'],'isAdmin':[_0x5a47b9(0x707),_0x5a47b9(0x62a)][_0x5a47b9(0x718)](_0x26a459[_0x5a47b9(0x707)]),'admin':_0x26a459[_0x5a47b9(0x707)],'pushName':_0x435f0?.['name'],'profilePictureUrl':_0x435f0?.[_0x5a47b9(0x6ff)]};}),_0x152101[_0x3878fc(0x1df)]=_0x7d950f[_0x3878fc(0x3e2)](_0x1a4019=>{const _0x1e7554=_0x3878fc;let _0x50477a=_0x46be08['find'](_0x2bb2fe=>_0x2bb2fe[_0x1e7554(0x45a)]===_0x1a4019[_0x1e7554(0x6b2)]);return{'id':_0x1a4019[_0x1e7554(0x6b2)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x50477a?.[_0x1e7554(0x543)],'profilePictureUrl':_0x50477a?.[_0x1e7554(0x6ff)],'request_method':_0x1a4019[_0x1e7554(0x72f)],'request_time':_0x1a4019[_0x1e7554(0x6c6)]};});let _0x2cca00=await this[_0x3878fc(0x3c7)][_0x3878fc(0x326)][_0x3878fc(0x400)]({'where':{'_id':_0x477b28[_0x3878fc(0x425)]}},{'imagechat':_0x152101['image'],'name':_0x152101[_0x3878fc(0x574)],'lastcache':Date['now'](),'groupdata':_0x152101},this[_0x3878fc(0x60a)][_0x3878fc(0x33b)]);return j(this[_0x3878fc(0x192)],_0x3878fc(0x8bf),{'chat':_0x2cca00}),{'metadata':_0x152101};}catch(_0x1ae6a3){if(_0x2890fa==='inner')return;throw new J(_0x3878fc(0x515),_0x1ae6a3['message']['toString']());}}async[a0_0x1955e1(0x613)](){const _0x2b2435=a0_0x1955e1;try{let _0x4cf74d=[],_0x3fc0f3=await this[_0x2b2435(0x88d)][_0x2b2435(0x711)](),_0x2883c2=Object['values'](_0x3fc0f3),_0x498236=_0x2883c2['filter'](_0x30c761=>(0x0,w[_0x2b2435(0x35e)])(_0x30c761?.['id']))[_0x2b2435(0x3e2)](async _0x5ece7a=>{const _0x57c743=_0x2b2435;try{return await this['client'][_0x57c743(0x5a2)](_0x5ece7a['id'],_0x57c743(0x737));}catch(_0x2c87c5){return this[_0x57c743(0x773)][_0x57c743(0x2b1)](this[_0x57c743(0x192)]+'\x20('+this[_0x57c743(0x60a)][_0x57c743(0x33b)]+_0x57c743(0x84d)+_0x5ece7a['id']+':\x20'+(_0x2c87c5 instanceof Error?_0x2c87c5[_0x57c743(0x451)]:JSON['stringify'](_0x2c87c5,null,0x2))),null;}}),_0x2ad55b=await Promise['all'](_0x498236);for(let _0x15ebf7=0x0;_0x15ebf7<_0x2883c2[_0x2b2435(0x7dc)];_0x15ebf7++){let _0x25c1c3=_0x2883c2[_0x15ebf7];(0x0,w[_0x2b2435(0x35e)])(_0x25c1c3?.['id'])&&(_0x4cf74d['push']({'groupJid':_0x25c1c3?.['id'],'subject':_0x25c1c3?.[_0x2b2435(0x574)],'subjectOwner':_0x25c1c3?.['subjectOwner']?.[_0x2b2435(0x3ff)]('@')[0x0],'subjectTime':_0x25c1c3?.['subjectTime'],'creation':_0x25c1c3?.['creation'],'size':_0x25c1c3?.[_0x2b2435(0x212)]?.[_0x2b2435(0x7dc)],'owner':_0x25c1c3?.[_0x2b2435(0x484)]?.[_0x2b2435(0x3ff)]('@')[0x0],'desc':_0x25c1c3?.[_0x2b2435(0x221)],'restrict':_0x25c1c3?.[_0x2b2435(0x273)],'announce':_0x25c1c3?.[_0x2b2435(0x367)],'image':_0x2ad55b[_0x15ebf7],'isCommunity':_0x25c1c3?.['isCommunity'],'joinApprovalMode':_0x25c1c3?.[_0x2b2435(0x4fc)],'memberCanAddParticipant':_0x25c1c3?.[_0x2b2435(0x2a9)],'participants':_0x25c1c3?.[_0x2b2435(0x212)],'descOwner':_0x25c1c3?.[_0x2b2435(0x64c)],'descId':_0x25c1c3?.['descId'],'memberAddMode':_0x25c1c3?.[_0x2b2435(0x2a9)],'isCommunityAnnounce':_0x25c1c3?.[_0x2b2435(0x856)],'ephemeralDuration':_0x25c1c3?.[_0x2b2435(0x891)]||0x0,'author':_0x25c1c3?.[_0x2b2435(0x5cb)]}),this[_0x2b2435(0x18a)](_0x2883c2[_0x15ebf7]));}return _0x4cf74d;}catch(_0x23d64b){let _0x285146=_0x2b2435(0x311),_0xb74cd2=_0x23d64b instanceof Error?_0x23d64b['message']:typeof _0x23d64b==_0x2b2435(0x64b)?JSON[_0x2b2435(0x36f)](_0x23d64b):_0x23d64b,_0x188e0e=_0x285146+':\x20'+_0xb74cd2;throw this[_0x2b2435(0x773)][_0x2b2435(0x2e7)](this[_0x2b2435(0x192)]+'\x20('+this['instance']['wuid']+_0x2b2435(0x6cd)+_0x188e0e),new J(_0x188e0e);}}async[a0_0x1955e1(0x18a)](_0x24922f){const _0x166690=a0_0x1955e1;let _0x4941d1=await this[_0x166690(0x3c7)][_0x166690(0x326)][_0x166690(0x309)]({'where':{'_id':_0x24922f['id']}},this[_0x166690(0x60a)]['wuid']);_0x24922f[_0x166690(0x796)]=_0x24922f?.[_0x166690(0x796)]&&_0x24922f['subjectTime'][_0x166690(0x6c3)]()[_0x166690(0x7dc)]<0xd?_0x24922f?.[_0x166690(0x796)]*0x3e8:_0x24922f?.['subjectTime']||null,_0x24922f[_0x166690(0x2ca)]=_0x24922f?.[_0x166690(0x2ca)]&&_0x24922f[_0x166690(0x2ca)][_0x166690(0x6c3)]()[_0x166690(0x7dc)]<0xd?_0x24922f?.['creation']*0x3e8:_0x24922f?.[_0x166690(0x2ca)]||null;let _0x17184a=_0x4941d1?.[_0x166690(0x831)]?.[_0x166690(0x1df)]||[],_0x5b9a87=_0x4941d1?.[_0x166690(0x831)]?.[_0x166690(0x39a)],_0x88d7d9=_0x24922f[_0x166690(0x212)][_0x166690(0x3e2)](_0x1149e8=>{const _0x24a5ca=_0x166690;let _0xc07e28=_0x4941d1?.[_0x24a5ca(0x831)]?.[_0x24a5ca(0x212)]['find'](_0x2e7dce=>_0x2e7dce['id']===_0x1149e8['id']);return{..._0x1149e8,'isAdmin':[_0x24a5ca(0x707),_0x24a5ca(0x62a)][_0x24a5ca(0x718)](_0x1149e8[_0x24a5ca(0x707)]),'admin':_0x1149e8['admin'],'name':_0xc07e28?.[_0x24a5ca(0x543)]||_0x1149e8[_0x24a5ca(0x543)],'imgUrl':_0xc07e28?.[_0x24a5ca(0x50e)]||_0x1149e8[_0x24a5ca(0x50e)]};}),_0x346e91=_0x88d7d9[_0x166690(0x30b)](_0x5abcf5=>_0x5abcf5['id']===this[_0x166690(0x60a)][_0x166690(0x33b)]+'@s.whatsapp.net'&&_0x5abcf5[_0x166690(0x5e3)]),_0x56feac=(!_0x24922f[_0x166690(0x367)]||_0x346e91)&&(!_0x24922f['isCommunity']||_0x24922f['isCommunity']&&_0x24922f[_0x166690(0x856)]&&_0x346e91),_0x230ba7={..._0x24922f,'participants':_0x88d7d9,'awaitingApproval':_0x17184a,'lastFetchAwaitingApproval':_0x5b9a87,'isAdmin':_0x346e91,'canSendMessage':_0x56feac,'lastUpdate':Date[_0x166690(0x835)]()};await this[_0x166690(0x3c7)][_0x166690(0x326)][_0x166690(0x400)]({'where':{'_id':_0x24922f['id']}},{'name':_0x24922f['subject'],'group':!0x0,'groupdata':_0x230ba7,'lastcache':Date[_0x166690(0x835)]()},this[_0x166690(0x60a)][_0x166690(0x33b)]),j(this[_0x166690(0x192)],_0x166690(0x8bf),{'chat':_0x24922f});}async[a0_0x1955e1(0x63e)](_0x61bd3e){const _0x9cf3a=a0_0x1955e1;let _0x5e521c=await this['repository'][_0x9cf3a(0x326)][_0x9cf3a(0x309)]({'where':{'_id':_0x61bd3e['id']}},this['instance'][_0x9cf3a(0x33b)]);_0x61bd3e[_0x9cf3a(0x796)]=_0x61bd3e?.[_0x9cf3a(0x796)]&&_0x61bd3e[_0x9cf3a(0x796)]['toString']()[_0x9cf3a(0x7dc)]<0xd?_0x61bd3e?.[_0x9cf3a(0x796)]*0x3e8:_0x61bd3e?.[_0x9cf3a(0x796)]||null,_0x61bd3e['creation']=_0x61bd3e?.[_0x9cf3a(0x2ca)]&&_0x61bd3e[_0x9cf3a(0x2ca)][_0x9cf3a(0x6c3)]()['length']<0xd?_0x61bd3e?.[_0x9cf3a(0x2ca)]*0x3e8:_0x61bd3e?.[_0x9cf3a(0x2ca)]||null,_0x61bd3e['inviteCode']&&(_0x61bd3e[_0x9cf3a(0x1f2)]=_0x9cf3a(0x22b)+_0x61bd3e[_0x9cf3a(0x1f2)]);let _0x1de4b3=_0x5e521c?.[_0x9cf3a(0x831)]?{..._0x5e521c[_0x9cf3a(0x831)]}:{};Object[_0x9cf3a(0x281)](_0x61bd3e)['forEach'](_0x3a5fea=>{_0x3a5fea!=='id'&&(_0x1de4b3[_0x3a5fea]=_0x61bd3e[_0x3a5fea]);});let _0x32b92c=_0x1de4b3[_0x9cf3a(0x212)]?.[_0x9cf3a(0x30b)](_0x38ca99=>_0x38ca99['id']===this[_0x9cf3a(0x60a)][_0x9cf3a(0x33b)]+'@s.whatsapp.net'&&_0x38ca99[_0x9cf3a(0x5e3)])||!0x1;_0x1de4b3[_0x9cf3a(0x5e3)]=_0x32b92c;let _0x4db62a=(!_0x1de4b3[_0x9cf3a(0x367)]||_0x32b92c)&&(!_0x1de4b3[_0x9cf3a(0x285)]||_0x1de4b3[_0x9cf3a(0x285)]&&_0x1de4b3['isCommunityAnnounce']&&_0x32b92c);_0x1de4b3[_0x9cf3a(0x61d)]=_0x4db62a;let _0x395ef4={'group':!0x0,'groupdata':_0x1de4b3};_0x61bd3e[_0x9cf3a(0x574)]&&(_0x395ef4[_0x9cf3a(0x543)]=_0x61bd3e[_0x9cf3a(0x574)]),await this['repository'][_0x9cf3a(0x326)]['updateOne']({'where':{'_id':_0x61bd3e['id']}},_0x395ef4,this[_0x9cf3a(0x60a)][_0x9cf3a(0x33b)],{'upsert':!0x0}),j(this[_0x9cf3a(0x192)],_0x9cf3a(0x8bf),{'chat':_0x395ef4});}async[a0_0x1955e1(0x559)](_0x3d14e1){const _0x57eb62=a0_0x1955e1;let _0x182276=await this[_0x57eb62(0x3c7)]['chat'][_0x57eb62(0x309)]({'where':{'_id':_0x3d14e1['id']}},this[_0x57eb62(0x60a)][_0x57eb62(0x33b)]);if(!_0x182276||!_0x182276[_0x57eb62(0x831)]){this[_0x57eb62(0x773)]['info'](this['instanceName']+'\x20('+this[_0x57eb62(0x60a)][_0x57eb62(0x33b)]+_0x57eb62(0x320)+_0x3d14e1['id']);return;}let _0x5b86af=await this['repository'][_0x57eb62(0x61e)][_0x57eb62(0x58f)](_0x3d14e1[_0x57eb62(0x212)]),_0x281cc6=[..._0x182276[_0x57eb62(0x831)]?.[_0x57eb62(0x212)]];switch(_0x3d14e1['action']){case'add':let _0x40f44c=_0x5b86af[_0x57eb62(0x3e2)](_0x14274f=>({'id':_0x14274f[_0x57eb62(0x45a)],'isAdmin':!0x1,'name':_0x14274f[_0x57eb62(0x543)],'imgUrl':_0x14274f[_0x57eb62(0x6ff)]}));_0x281cc6=[..._0x281cc6,..._0x40f44c];break;case _0x57eb62(0x1a6):_0x281cc6=_0x281cc6[_0x57eb62(0x2c4)](_0x4431ea=>!_0x3d14e1[_0x57eb62(0x212)]['includes'](_0x4431ea['id']));break;case'promote':case _0x57eb62(0x53c):_0x281cc6=_0x281cc6[_0x57eb62(0x3e2)](_0x5e3421=>_0x3d14e1[_0x57eb62(0x212)][_0x57eb62(0x718)](_0x5e3421['id'])?{..._0x5e3421,'isAdmin':_0x3d14e1['action']===_0x57eb62(0x45e)}:_0x5e3421);break;}let _0x2f4b8c=_0x281cc6[_0x57eb62(0x7dc)],_0x50d0ee=_0x281cc6[_0x57eb62(0x30b)](_0x42dcb5=>_0x42dcb5['id']===this[_0x57eb62(0x60a)][_0x57eb62(0x33b)]+'@s.whatsapp.net'),_0x3d44f3=_0x50d0ee&&_0x281cc6[_0x57eb62(0x30b)](_0x36c3c0=>_0x36c3c0['id']===this['instance'][_0x57eb62(0x33b)]+'@s.whatsapp.net'&&_0x36c3c0['isAdmin']),_0x2cd382=_0x50d0ee&&(!_0x182276[_0x57eb62(0x831)][_0x57eb62(0x367)]||_0x3d44f3)&&(!_0x182276[_0x57eb62(0x831)]['isCommunity']||_0x182276[_0x57eb62(0x831)]['isCommunity']&&_0x3d44f3);await this['repository']['chat']['updateOne']({'where':{'_id':_0x3d14e1['id']}},{'groupdata':{..._0x182276[_0x57eb62(0x831)],'participants':_0x281cc6,'size':_0x2f4b8c,'isAdmin':_0x3d44f3,'canSendMessage':_0x2cd382}},this[_0x57eb62(0x60a)]['wuid']),this[_0x57eb62(0x773)][_0x57eb62(0x6e0)](this[_0x57eb62(0x192)]+'\x20('+this[_0x57eb62(0x60a)][_0x57eb62(0x33b)]+_0x57eb62(0x331)+_0x3d14e1['id']+_0x57eb62(0x634)+_0x3d14e1[_0x57eb62(0x5ab)]+_0x57eb62(0x35b)+_0x2f4b8c+_0x57eb62(0x5f4)+_0x3d44f3+_0x57eb62(0x50a)+_0x2cd382);}async[a0_0x1955e1(0x1f2)](_0x585d68,_0x4b6b9a=!0x0){const _0x195254=a0_0x1955e1;try{let _0x574284=await this[_0x195254(0x88d)][_0x195254(0x358)](_0x585d68['groupJid']),_0x3dd663={'groupdata.inviteCode':_0x195254(0x22b)+_0x574284};if(_0x4b6b9a){let _0x34dbd4=await this['repository'][_0x195254(0x326)][_0x195254(0x400)]({'where':{'_id':_0x585d68[_0x195254(0x425)]}},_0x3dd663,this[_0x195254(0x60a)][_0x195254(0x33b)]);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x574284,'inviteCode':_0x574284};}catch(_0x102a04){let _0x482997='Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode',_0x19925a=_0x102a04 instanceof Error?_0x102a04[_0x195254(0x451)]:typeof _0x102a04=='object'?JSON['stringify'](_0x102a04):_0x102a04,_0x1f7a9a=_0x482997+':\x20'+_0x19925a;throw this[_0x195254(0x773)][_0x195254(0x2e7)](this[_0x195254(0x192)]+'\x20('+this[_0x195254(0x60a)]['wuid']+_0x195254(0x6cd)+_0x1f7a9a),new J(_0x1f7a9a);}}async[a0_0x1955e1(0x66d)](_0x3ad2be){const _0x16490e=a0_0x1955e1;try{let _0x5a7630=await this[_0x16490e(0x88d)][_0x16490e(0x6b5)](_0x3ad2be[_0x16490e(0x425)]);return{'revoked':!0x0,'inviteUrl':_0x16490e(0x22b)+_0x5a7630,'inviteCode':_0x5a7630};}catch(_0x2a046e){let _0x9f7985=_0x16490e(0x267),_0x39d104=_0x2a046e instanceof Error?_0x2a046e[_0x16490e(0x451)]:typeof _0x2a046e=='object'?JSON[_0x16490e(0x36f)](_0x2a046e):_0x2a046e,_0x45b99f=_0x9f7985+':\x20'+_0x39d104;throw this[_0x16490e(0x773)]['error'](this[_0x16490e(0x192)]+'\x20('+this[_0x16490e(0x60a)][_0x16490e(0x33b)]+_0x16490e(0x6cd)+_0x45b99f),new J(_0x45b99f);}}async[a0_0x1955e1(0x1ea)](_0x5c2db7){const _0x42a6df=a0_0x1955e1;try{if((0x0,k[_0x42a6df(0x3cd)])(_0x5c2db7[_0x42a6df(0x1f2)]))var _0x1a8fe2=_0x5c2db7[_0x42a6df(0x1f2)][_0x42a6df(0x3ff)]('/')[0x3];else var _0x1a8fe2=_0x5c2db7[_0x42a6df(0x1f2)];let _0x1cc8e9=await this[_0x42a6df(0x88d)]['groupAcceptInvite'](_0x1a8fe2);return this[_0x42a6df(0x773)][_0x42a6df(0x2b1)](this['instanceName']+'\x20('+this[_0x42a6df(0x60a)]['wuid']+_0x42a6df(0x6cd)+_0x1cc8e9),{'join':!0x0,'inviteCode':_0x1a8fe2,'groupJid':_0x1cc8e9};}catch(_0x3a71fe){let _0x1a97b6=_0x42a6df(0x445),_0x3da9c8=_0x3a71fe instanceof Error?_0x3a71fe[_0x42a6df(0x451)]:typeof _0x3a71fe==_0x42a6df(0x64b)?JSON[_0x42a6df(0x36f)](_0x3a71fe):_0x3a71fe,_0x534e30=_0x1a97b6+':\x20'+_0x3da9c8;throw this[_0x42a6df(0x773)]['error'](this[_0x42a6df(0x192)]+'\x20('+this[_0x42a6df(0x60a)][_0x42a6df(0x33b)]+_0x42a6df(0x6cd)+_0x534e30),new J(_0x534e30);}}async[a0_0x1955e1(0x2fe)](_0xfff353){const _0x628af9=a0_0x1955e1;try{return{'participants':(await this[_0x628af9(0x3c7)][_0x628af9(0x326)][_0x628af9(0x309)]({'where':{'_id':_0xfff353[_0x628af9(0x425)]}},this[_0x628af9(0x60a)][_0x628af9(0x33b)]))['groupdata'][_0x628af9(0x212)]};}catch(_0x5b3928){let _0xc28b11=_0x628af9(0x4f3),_0x22d358=_0x5b3928 instanceof Error?_0x5b3928[_0x628af9(0x451)]:typeof _0x5b3928==_0x628af9(0x64b)?JSON[_0x628af9(0x36f)](_0x5b3928):_0x5b3928,_0x1c2d5b=_0xc28b11+':\x20'+_0x22d358;throw this[_0x628af9(0x773)][_0x628af9(0x2e7)](this[_0x628af9(0x192)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x1c2d5b),new J(_0x1c2d5b);}}async[a0_0x1955e1(0x83d)](_0x1857ce){const _0xfae1a3=a0_0x1955e1;try{return await this['client'][_0xfae1a3(0x3b7)](_0x1857ce[_0xfae1a3(0x425)]),{'groupJid':_0x1857ce[_0xfae1a3(0x425)],'leave':!0x0};}catch(_0x1a6a80){let _0x30c650=_0xfae1a3(0x247),_0x4966e3=_0x1a6a80 instanceof Error?_0x1a6a80['message']:typeof _0x1a6a80==_0xfae1a3(0x64b)?JSON[_0xfae1a3(0x36f)](_0x1a6a80):_0x1a6a80,_0x83188b=_0x30c650+':\x20'+_0x4966e3;throw this[_0xfae1a3(0x773)][_0xfae1a3(0x2e7)](this[_0xfae1a3(0x192)]+'\x20('+this[_0xfae1a3(0x60a)][_0xfae1a3(0x33b)]+_0xfae1a3(0x6cd)+_0x83188b),new m(_0x83188b);}}async['pollMessage'](_0x5338e3){const _0x5f3d8e=a0_0x1955e1;return await this[_0x5f3d8e(0x3b5)](_0x5338e3[_0x5f3d8e(0x1a0)],{'poll':{'name':_0x5338e3[_0x5f3d8e(0x21e)]?.[_0x5f3d8e(0x543)],'selectableCount':_0x5338e3[_0x5f3d8e(0x21e)][_0x5f3d8e(0x653)],'values':_0x5338e3[_0x5f3d8e(0x21e)][_0x5f3d8e(0x78d)]}},_0x5338e3?.['options']);}async[a0_0x1955e1(0x46d)](_0x487188){const _0x3fb40c=a0_0x1955e1;return await this[_0x3fb40c(0x3b5)](_0x487188['number'],{'listMessage':{'title':_0x487188['listMessage']['title'],'description':_0x487188['listMessage']['description'],'buttonText':_0x487188[_0x3fb40c(0x46d)]?.['buttonText'],'footerText':_0x487188['listMessage']?.[_0x3fb40c(0x85b)],'sections':_0x487188['listMessage']['sections'],'listType':0x2}},_0x487188?.[_0x3fb40c(0x5ef)]);}async['menuMessage'](_0x3604c6){const _0x1e7365=a0_0x1955e1;let _0x550ef9;if(_0x3604c6['menuMessage']['type']===_0x1e7365(0x5d9)){let _0x3361c2=_0x3604c6[_0x1e7365(0x6a1)][_0x1e7365(0x814)][_0x1e7365(0x801)]('\x0a'),_0x11fd39='',_0x56f4e7='';_0x3361c2!==-0x1?(_0x11fd39=_0x3604c6[_0x1e7365(0x6a1)]['text'][_0x1e7365(0x6ee)](0x0,_0x3361c2)[_0x1e7365(0x4f1)](),_0x56f4e7=_0x3604c6['menuMessage'][_0x1e7365(0x814)][_0x1e7365(0x6ee)](_0x3361c2+0x1)):_0x56f4e7=_0x3604c6['menuMessage'][_0x1e7365(0x814)];let _0x2753ee=_0x3604c6[_0x1e7365(0x6a1)][_0x1e7365(0x266)]['filter'](_0x43baa0=>_0x43baa0[_0x1e7365(0x4f1)]()!==''),_0x3e74aa=this[_0x1e7365(0x3d5)](_0x2753ee);_0x550ef9={'listMessage':{'title':_0x11fd39,'description':_0x56f4e7,'buttonText':_0x3604c6[_0x1e7365(0x6a1)][_0x1e7365(0x7b7)]||_0x1e7365(0x78a),'footerText':_0x3604c6[_0x1e7365(0x6a1)][_0x1e7365(0x85b)],'sections':_0x3e74aa,'listType':0x2}};}else{if(_0x3604c6[_0x1e7365(0x6a1)][_0x1e7365(0x708)]==='poll'){let _0x4a7ada=_0x3604c6['menuMessage'][_0x1e7365(0x266)]['filter'](_0x33b037=>!(_0x33b037[_0x1e7365(0x622)]('[')&&_0x33b037[_0x1e7365(0x339)](']'))&&_0x33b037[_0x1e7365(0x4f1)]()!=='')[_0x1e7365(0x3e2)](_0xd4e748=>_0xd4e748[_0x1e7365(0x3ff)]('\x0a')[0x0]);_0x550ef9={'poll':{'name':_0x3604c6[_0x1e7365(0x6a1)][_0x1e7365(0x814)],'selectableCount':_0x3604c6[_0x1e7365(0x6a1)][_0x1e7365(0x653)]||0x1,'values':_0x4a7ada}};}}return await this[_0x1e7365(0x3b5)](_0x3604c6[_0x1e7365(0x1a0)],_0x550ef9,_0x3604c6?.[_0x1e7365(0x5ef)]);}[a0_0x1955e1(0x3d5)](_0x2e4cc8){const _0x244891=a0_0x1955e1;let _0x62336d=[],_0x46c393={'rows':[]};return _0x2e4cc8['forEach'](_0x1ad128=>{const _0x5a3ec5=a0_0x2868;if(_0x1ad128['startsWith']('[')&&_0x1ad128[_0x5a3ec5(0x339)](']'))_0x46c393[_0x5a3ec5(0x63a)]['length']>0x0&&_0x62336d['push'](_0x46c393),_0x46c393={'title':_0x1ad128[_0x5a3ec5(0x35c)](0x1,-0x1),'rows':[]};else{let _0x2689aa=_0x1ad128[_0x5a3ec5(0x3ff)]('\x0a')[_0x5a3ec5(0x3e2)](_0x580b66=>_0x580b66[_0x5a3ec5(0x4f1)]()),_0x387c13=_0x2689aa[0x0],_0xda4328=_0x2689aa[0x1]||null,_0x119f7f=_0x2689aa[0x2]||_0x387c13;_0x46c393[_0x5a3ec5(0x63a)][_0x5a3ec5(0x6c9)]({'title':_0x387c13,'description':_0xda4328,'rowId':_0x119f7f});}}),_0x46c393[_0x244891(0x63a)]['length']>0x0&&_0x62336d[_0x244891(0x6c9)](_0x46c393),_0x62336d;}async[a0_0x1955e1(0x27c)](_0x2dfd2c,_0x28f6e1){const _0x4b2683=a0_0x1955e1;if(await this['getMessage'](_0x2dfd2c,!0x0)){let _0x1f2c27={'where':{'_id':_0x2dfd2c['id']}},_0x4c016e={'status':[_0x28f6e1[_0x4b2683(0x3d9)]][0x0]};try{let _0x4b3e20=await this[_0x4b2683(0x3c7)][_0x4b2683(0x451)][_0x4b2683(0x563)](_0x1f2c27,_0x4c016e,this[_0x4b2683(0x60a)][_0x4b2683(0x33b)]);_0x4b3e20&&j(this['instanceName'],_0x4b2683(0x687),{'message':_0x4b3e20});}catch{}}}[a0_0x1955e1(0x195)](_0x35a685){const _0x3edcec=a0_0x1955e1;let _0x5030b6=[];return _0x35a685[_0x3edcec(0x408)](_0x328ee3=>{const _0x2717f2=_0x3edcec;_0x328ee3[_0x2717f2(0x651)]&&_0x5030b6[_0x2717f2(0x6c9)]('['+_0x328ee3[_0x2717f2(0x651)]+']'),_0x328ee3[_0x2717f2(0x63a)][_0x2717f2(0x408)](_0x3a996c=>{const _0x101c2e=_0x2717f2;_0x5030b6[_0x101c2e(0x6c9)](_0x3a996c[_0x101c2e(0x651)]);});}),_0x5030b6[_0x3edcec(0x279)]('|');}[a0_0x1955e1(0x419)](_0x1db218){const _0x5eb06c=a0_0x1955e1;let _0x2c6859=_0x1db218['replace'](/\\n/g,'\x0a')[_0x5eb06c(0x3ff)]('\x0a')[_0x5eb06c(0x2c4)](_0x3c4cd3=>_0x3c4cd3['includes'](_0x5eb06c(0x3e4))||_0x3c4cd3['includes'](_0x5eb06c(0x199))),_0x5cfec9='';return _0x2c6859[_0x5eb06c(0x408)](_0x265f9a=>{const _0x3abeff=_0x5eb06c;let _0x160969=/TEL(?:.*):(.+)/,_0x5dddb0=/EMAIL(?:.*):(.+)/,_0x246935=_0x265f9a[_0x3abeff(0x676)](_0x160969),_0xe772bb=_0x265f9a[_0x3abeff(0x676)](_0x5dddb0);if(_0x246935){let _0x47fcf3=_0x246935[0x1][_0x3abeff(0x534)](/-| |\+|\(|\)/g,'')['trim']();_0x5cfec9+=_0x3abeff(0x889)+_0x47fcf3+'\x0a';}else{if(_0xe772bb){let _0x399277=_0xe772bb[0x1]['trim']();_0x5cfec9+=_0x3abeff(0x8b4)+_0x399277+'\x0a';}}}),_0x5cfec9[_0x5eb06c(0x4f1)]();}async['updateChatWithMessage'](_0x3f5b3c,_0x2b7963,_0xd9ecd0,_0x315c22=null){const _0x3ca62e=a0_0x1955e1;if(_0x3f5b3c[_0x3ca62e(0x343)])try{let _0x4ed4fc=_0x2b7963[_0x3ca62e(0x2a8)][_0x3ca62e(0x8a0)][_0x3ca62e(0x534)](/:\d{1,2}@/g,'@'),_0x53f2cb=_0x2b7963[_0x3ca62e(0x2a8)][_0x3ca62e(0x785)],_0x51fcf6=_0x4ed4fc['endsWith'](_0x3ca62e(0x3c5)),_0x2f26f8=_0x2b7963[_0x3ca62e(0x83a)]?.[_0x3ca62e(0x534)](/:\d{1,2}@/g,'@')||'',_0x22c4ca=_0x2b7963['message_normalized']?.['text']||_0x2b7963['message_normalized']?.['caption']||_0x2b7963[_0x3ca62e(0x68b)]?.[_0x3ca62e(0x789)]||_0x2b7963[_0x3ca62e(0x68b)]?.[_0x3ca62e(0x543)]||'',_0x313947={'_id':_0x2b7963['_id'],'remoteJid':_0x53f2cb?this[_0x3ca62e(0x60a)]['wuid']:_0x51fcf6?_0x2f26f8:_0x4ed4fc,'pushName':_0x53f2cb?this[_0x3ca62e(0x60a)][_0x3ca62e(0x8cb)]||'Eu':_0x2b7963[_0x3ca62e(0x3b1)],'text':_0x22c4ca,'type':_0x2b7963['messageType'],'when':_0x2b7963[_0x3ca62e(0x48a)]||Date[_0x3ca62e(0x835)]()};_0x315c22||(_0x315c22=await this[_0x3ca62e(0x3c7)][_0x3ca62e(0x326)]['findOne']({'where':{'_id':_0x4ed4fc}},this['instance']['wuid']));let _0x31a023=_0x315c22?_0x53f2cb?_0x315c22[_0x3ca62e(0x414)]:(_0x315c22[_0x3ca62e(0x414)]||0x0)+0x1:_0x53f2cb?0x0:0x1,_0x5b6b1a={'lastmsg':_0x2b7963[_0x3ca62e(0x48a)]||Date[_0x3ca62e(0x835)](),'ephemeralExpiration':_0x2b7963[_0x3ca62e(0x827)],'lastMessage':_0x313947,'unreadcount':_0x31a023,..._0x53f2cb||_0x51fcf6?{}:{'name':_0x2b7963[_0x3ca62e(0x3b1)]},..._0x51fcf6?{'group':_0x51fcf6}:{},...!_0x53f2cb&&!_0x51fcf6&&_0x2b7963[_0x3ca62e(0x5a2)]?{'imagechat':_0x2b7963[_0x3ca62e(0x5a2)]}:{}};if(!_0x51fcf6&&(!_0x315c22?.[_0x3ca62e(0x4a1)]||!_0x315c22[_0x3ca62e(0x4a1)][_0x3ca62e(0x1d8)])&&_0x2b7963[_0x3ca62e(0x3b1)]&&!_0x53f2cb&&(_0x5b6b1a={..._0x5b6b1a,'leadInfo.nome':_0x2b7963[_0x3ca62e(0x3b1)]}),_0x315c22?.[_0x3ca62e(0x4a1)][_0x3ca62e(0x3e5)]||(_0x5b6b1a={..._0x5b6b1a,'leadInfo.etiquetas':[]}),_0x315c22?.['leadInfo']['customFields']||(_0x5b6b1a={..._0x5b6b1a,'leadInfo.customFields':[]}),_0x315c22?.[_0x3ca62e(0x4a1)][_0x3ca62e(0x535)]||(_0x5b6b1a={..._0x5b6b1a,'leadInfo.tags':[]}),_0x315c22&&_0x315c22?.[_0x3ca62e(0x688)]){let _0x4f1dcd=await this[_0x3ca62e(0x3c7)][_0x3ca62e(0x4aa)][_0x3ca62e(0x6d3)]({'where':{}},this['instance'][_0x3ca62e(0x33b)]),_0xd8e1b9=new Set(_0x4f1dcd[_0x3ca62e(0x3e2)](_0x5d9c6a=>_0x5d9c6a['_id'])),_0x37d40b=(_0x315c22[_0x3ca62e(0x4a1)]?.[_0x3ca62e(0x3e5)]||[])[_0x3ca62e(0x2c4)](_0x155519=>_0xd8e1b9[_0x3ca62e(0x8bb)](_0x155519));_0x5b6b1a={..._0x5b6b1a,'imported':!0x1,'leadInfo.etiquetas':_0x37d40b};for(let _0x436e62 of _0x37d40b)await this[_0x3ca62e(0x2f8)](_0x436e62,_0x4ed4fc);}if(!this['AutomateSystem']['flows'][_0x3ca62e(0x6d3)](_0x2dae72=>_0x2dae72[_0x3ca62e(0x260)]&&_0x22c4ca[_0x3ca62e(0x718)](_0x2dae72[_0x3ca62e(0x260)]))&&_0xd9ecd0===_0x3ca62e(0x344)&&_0x53f2cb&&this[_0x3ca62e(0x4a3)]?.[_0x3ca62e(0x7d4)][_0x3ca62e(0x79a)]&&_0x22c4ca['trim']()!==this['AutomateSystem']?.[_0x3ca62e(0x7d4)][_0x3ca62e(0x5c0)]['trim']()){let _0x25e478=(this[_0x3ca62e(0x4a3)]?.['flowConfig']['stopWhenYouSendMsg']||0x0)*0xea60,_0xae5ba8=Date[_0x3ca62e(0x835)]()+_0x25e478;_0x315c22?.['leadInfo']?.[_0x3ca62e(0x4b4)]===0x0||(_0x5b6b1a={..._0x5b6b1a,'leadInfo.desativadoFluxoAte':_0xae5ba8},this[_0x3ca62e(0x773)][_0x3ca62e(0x2b1)](this[_0x3ca62e(0x192)]+'\x20('+this[_0x3ca62e(0x60a)][_0x3ca62e(0x33b)]+_0x3ca62e(0x329)+_0xae5ba8+'.'));}if(_0x22c4ca[_0x3ca62e(0x4f1)]()===this[_0x3ca62e(0x4a3)]?.[_0x3ca62e(0x7d4)]['stopConversation'][_0x3ca62e(0x4f1)]()){this[_0x3ca62e(0x773)][_0x3ca62e(0x2b1)](this[_0x3ca62e(0x192)]+'\x20('+this[_0x3ca62e(0x60a)][_0x3ca62e(0x33b)]+_0x3ca62e(0x2fd)+_0x22c4ca);let _0x57e55c=Date[_0x3ca62e(0x835)]();this['AutomateSystem']?.[_0x3ca62e(0x7d4)][_0x3ca62e(0x388)]===0x0?_0x5b6b1a={..._0x5b6b1a,'leadInfo.desativadoFluxoAte':_0x57e55c+0x7591f6200}:_0x5b6b1a={..._0x5b6b1a,'leadInfo.desativadoFluxoAte':_0x57e55c+this['AutomateSystem']?.[_0x3ca62e(0x7d4)][_0x3ca62e(0x388)]*0x3c*0x3e8};}if(_0x315c22=await this[_0x3ca62e(0x3c7)][_0x3ca62e(0x326)]['updateOne']({'where':{'_id':_0x4ed4fc}},_0x5b6b1a,this[_0x3ca62e(0x60a)][_0x3ca62e(0x33b)],{'new':!0x0,'upsert':!0x0}),_0x315c22)j(this[_0x3ca62e(0x192)],'chats',{'chat':_0x315c22});else{this['logger'][_0x3ca62e(0x2e7)](this[_0x3ca62e(0x192)]+'\x20('+this['instance'][_0x3ca62e(0x33b)]+_0x3ca62e(0x4cc));return;}if(_0x53f2cb)return this[_0x3ca62e(0x773)][_0x3ca62e(0x2b1)](this[_0x3ca62e(0x192)]+'\x20('+this[_0x3ca62e(0x60a)][_0x3ca62e(0x33b)]+_0x3ca62e(0x758)),null;if(!this['AutomateSystem']?.['flowConfig'][_0x3ca62e(0x79a)])return this['logger'][_0x3ca62e(0x2b1)](this[_0x3ca62e(0x192)]+'\x20('+this[_0x3ca62e(0x60a)]['wuid']+_0x3ca62e(0x5b2)),null;if(_0x315c22[_0x3ca62e(0x45a)][_0x3ca62e(0x718)](_0x3ca62e(0x3c5))&&this[_0x3ca62e(0x4a3)]?.['flowConfig']['ignoreGroups']===!0x0)return this[_0x3ca62e(0x773)]['verbose'](this['instanceName']+'\x20('+this[_0x3ca62e(0x60a)][_0x3ca62e(0x33b)]+_0x3ca62e(0x296)),null;if(_0x315c22['leadInfo']){if(_0x315c22[_0x3ca62e(0x4a1)][_0x3ca62e(0x4b4)]===0x0||_0x315c22[_0x3ca62e(0x4a1)][_0x3ca62e(0x83b)])return this[_0x3ca62e(0x773)][_0x3ca62e(0x2b1)](this[_0x3ca62e(0x192)]+'\x20('+this[_0x3ca62e(0x60a)][_0x3ca62e(0x33b)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x4ed4fc+_0x3ca62e(0x277)),null;if(_0x315c22['leadInfo'][_0x3ca62e(0x4b4)]>Date[_0x3ca62e(0x835)]()&&!_0x2b7963[_0x3ca62e(0x68b)]?.[_0x3ca62e(0x789)])return this['logger'][_0x3ca62e(0x2b1)](this[_0x3ca62e(0x192)]+'\x20('+this[_0x3ca62e(0x60a)][_0x3ca62e(0x33b)]+_0x3ca62e(0x1ed)+new Date(_0x315c22[_0x3ca62e(0x4a1)]['desativadoFluxoAte'])[_0x3ca62e(0x697)]()+_0x3ca62e(0x277)),null;}this[_0x3ca62e(0x773)][_0x3ca62e(0x2b1)](this[_0x3ca62e(0x192)]+'\x20('+this[_0x3ca62e(0x60a)][_0x3ca62e(0x33b)]+_0x3ca62e(0x607)),this['StartBot'](_0x2b7963,_0xd9ecd0);}catch(_0x448fbb){let _0x545196=_0x3ca62e(0x550),_0x403bd2=_0x448fbb instanceof Error?_0x448fbb[_0x3ca62e(0x451)]:typeof _0x448fbb==_0x3ca62e(0x64b)?JSON[_0x3ca62e(0x36f)](_0x448fbb):_0x448fbb,_0x4689d8=_0x545196+':\x20'+_0x403bd2;return this[_0x3ca62e(0x773)][_0x3ca62e(0x2e7)](this[_0x3ca62e(0x192)]+'\x20('+this[_0x3ca62e(0x60a)]['wuid']+_0x3ca62e(0x6cd)+_0x4689d8),null;}}async[a0_0x1955e1(0x791)](_0x17dcda,_0x103b68){const _0x342425=a0_0x1955e1;if(_0x103b68[_0x342425(0x343)]){let _0x865e60=_0x17dcda[_0x342425(0x3e2)](async _0x2dcd17=>{const _0x2f1734=_0x342425;try{let _0x465f19={'_id':_0x2dcd17['_id'],'owner':_0x2dcd17[_0x2f1734(0x484)],'lastcache':0x0};if(Object['keys'](_0x2dcd17)[_0x2f1734(0x408)](_0x2a62f5=>{_0x2dcd17[_0x2a62f5]!==null&&(_0x465f19[_0x2a62f5]=_0x2dcd17[_0x2a62f5]);}),_0x465f19[_0x2f1734(0x319)]===null&&(_0x465f19[_0x2f1734(0x319)]=_0x2f1734(0x6f8)),Object[_0x2f1734(0x281)](_0x465f19)[_0x2f1734(0x7dc)]>0x0)return await this[_0x2f1734(0x3c7)][_0x2f1734(0x326)][_0x2f1734(0x400)]({'where':{'_id':_0x2dcd17[_0x2f1734(0x45a)]}},_0x465f19,this[_0x2f1734(0x60a)]['wuid']);}catch(_0x2f74c1){let _0x4fa81d=_0x2f1734(0x35a)+_0x2dcd17[_0x2f1734(0x45a)],_0x484fec=_0x2f74c1 instanceof Error?_0x2f74c1[_0x2f1734(0x451)]:typeof _0x2f74c1=='object'?JSON['stringify'](_0x2f74c1):_0x2f74c1,_0x130276=_0x4fa81d+':\x20'+_0x484fec;return this[_0x2f1734(0x773)][_0x2f1734(0x2e7)](this['instanceName']+'\x20('+this[_0x2f1734(0x60a)][_0x2f1734(0x33b)]+_0x2f1734(0x6cd)+_0x130276),null;}}),_0x1a7c3=(await Promise[_0x342425(0x314)](_0x865e60))[_0x342425(0x2c4)](_0x1357c2=>_0x1357c2!==null)[_0x342425(0x7dc)];this['logger'][_0x342425(0x2b1)](this[_0x342425(0x192)]+'\x20('+this[_0x342425(0x60a)][_0x342425(0x33b)]+_0x342425(0x6cd)+_0x1a7c3+_0x342425(0x735)+this[_0x342425(0x60a)][_0x342425(0x33b)]+_0x342425(0x7c4));}}async[a0_0x1955e1(0x84a)](_0x549274){const _0x131dcd=a0_0x1955e1;this[_0x131dcd(0x773)][_0x131dcd(0x2b1)](this[_0x131dcd(0x192)]+'\x20('+this[_0x131dcd(0x60a)][_0x131dcd(0x33b)]+_0x131dcd(0x715));let _0x473f0a={'readMessages':[{'remoteJid':_0x549274[_0x131dcd(0x887)][_0x131dcd(0x2ab)][_0x131dcd(0x2a8)][_0x131dcd(0x8a0)],'fromMe':_0x549274[_0x131dcd(0x887)][_0x131dcd(0x2ab)][_0x131dcd(0x2a8)][_0x131dcd(0x785)],'id':_0x549274[_0x131dcd(0x887)][_0x131dcd(0x2ab)][_0x131dcd(0x2a8)]['id']}]};await this[_0x131dcd(0x1b3)](_0x473f0a);}async['StartBot'](_0x15fc25,_0x14bfb0){const _0x40a597=a0_0x1955e1;try{let {key:_0x574634,message_normalized:_0x32c909}=_0x15fc25,_0x52dbf0=_0x32c909,_0x476a26=_0x32c909[_0x40a597(0x814)]||_0x32c909[_0x40a597(0x4de)]||_0x32c909[_0x40a597(0x789)]||_0x32c909[_0x40a597(0x543)]||'',_0x2652e7=_0x574634[_0x40a597(0x8a0)],_0x184644=null,_0x1929ce=this[_0x40a597(0x4a3)][_0x40a597(0x1fe)][_0x40a597(0x6d3)](_0x5d9983=>_0x5d9983[_0x40a597(0x260)]&&_0x476a26[_0x40a597(0x718)](_0x5d9983[_0x40a597(0x260)]));if(_0x1929ce&&_0x14bfb0===_0x40a597(0x344)){let _0x16a248=await this[_0x40a597(0x3c7)][_0x40a597(0x4b9)]['findOne']({'where':{'_id':_0x1929ce[_0x40a597(0x45a)]}});if(this[_0x40a597(0x773)][_0x40a597(0x2b1)](this['instanceName']+'\x20('+this[_0x40a597(0x60a)][_0x40a597(0x33b)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x16a248&&_0x16a248[_0x40a597(0x4fe)]?.[_0x40a597(0x718)](this[_0x40a597(0x60a)][_0x40a597(0x33b)]))_0x184644=await this[_0x40a597(0x579)](_0x16a248,_0x574634,_0x52dbf0);else return this[_0x40a597(0x773)]['verbose'](this[_0x40a597(0x192)]+'\x20('+this['instance'][_0x40a597(0x33b)]+_0x40a597(0x874)),null;}else this[_0x40a597(0x773)][_0x40a597(0x2b1)](this[_0x40a597(0x192)]+'\x20('+this[_0x40a597(0x60a)][_0x40a597(0x33b)]+_0x40a597(0x1a7));if(_0x184644=await this[_0x40a597(0x323)](_0x2652e7,_0x52dbf0),_0x184644){this[_0x40a597(0x773)][_0x40a597(0x2b1)](this[_0x40a597(0x192)]+'\x20('+this[_0x40a597(0x60a)][_0x40a597(0x33b)]+_0x40a597(0x85c)),!_0x574634['fromMe']&&_0x184644[_0x40a597(0x47f)]&&this[_0x40a597(0x84a)](_0x184644);let _0x1c0e50=await this[_0x40a597(0x745)](_0x184644);_0x1c0e50&&await this[_0x40a597(0x1e1)](_0x184644,_0x1c0e50);}}catch(_0x4187f6){this[_0x40a597(0x773)][_0x40a597(0x2e7)](this[_0x40a597(0x192)]+'\x20('+this[_0x40a597(0x60a)][_0x40a597(0x33b)]+_0x40a597(0x660)+(_0x4187f6 instanceof Error?_0x4187f6[_0x40a597(0x451)]:JSON['stringify'](_0x4187f6,null,0x2)));}}[a0_0x1955e1(0x248)](_0x775725,_0x5d06c7='',_0x374ed0={}){const _0x183097=a0_0x1955e1;return typeof _0x775725!='object'||_0x775725===null?(_0x5d06c7&&(_0x374ed0[_0x5d06c7]=_0x775725),_0x374ed0):(Object[_0x183097(0x701)](_0x775725)[_0x183097(0x408)](([_0x579976,_0x66a522])=>{const _0x18ef99=_0x183097;let _0x1f8242=_0x5d06c7?_0x5d06c7+'.'+_0x579976:'_'+_0x579976;Array[_0x18ef99(0x4b0)](_0x66a522)?_0x66a522[_0x18ef99(0x408)]((_0x531038,_0x1f3092)=>{this['flattenObject'](_0x531038,_0x1f8242+'['+_0x1f3092+']',_0x374ed0);}):typeof _0x66a522==_0x18ef99(0x64b)&&_0x66a522!==null?this[_0x18ef99(0x248)](_0x66a522,_0x1f8242,_0x374ed0):_0x374ed0[_0x1f8242]=String(_0x66a522);}),_0x374ed0);}['variablesToObject'](_0x31c4d6){const _0x2bc29a=a0_0x1955e1;let _0x4baa79={};for(let _0x284ae0 of _0x31c4d6)typeof _0x284ae0[_0x2bc29a(0x543)]==_0x2bc29a(0x1a3)&&typeof _0x284ae0[_0x2bc29a(0x40c)]==_0x2bc29a(0x1a3)&&(_0x4baa79[_0x284ae0[_0x2bc29a(0x543)]]=_0x284ae0[_0x2bc29a(0x40c)]);return _0x4baa79;}async['NextBlock'](_0x344469){const _0x4a2515=a0_0x1955e1;if(!this[_0x4a2515(0x4a3)]?.[_0x4a2515(0x7d4)][_0x4a2515(0x79a)]||_0x344469[_0x4a2515(0x3d9)]!=='open'&&_0x344469[_0x4a2515(0x2a4)]==='')return null;let _0x15fa4a=_0x344469[_0x4a2515(0x887)]['lastBlockId']||_0x4a2515(0x75d);typeof _0x344469['chatLog'][_0x4a2515(0x776)]>'u'&&(_0x344469[_0x4a2515(0x887)][_0x4a2515(0x776)]=!0x0);let _0x4ed3bd=_0x344469['chatLog'][_0x4a2515(0x776)];this[_0x4a2515(0x773)][_0x4a2515(0x2b1)](this[_0x4a2515(0x192)]+'\x20('+this['instance'][_0x4a2515(0x33b)]+'):\x20lastBlockId:\x20'+_0x15fa4a+_0x4a2515(0x640)+_0x4ed3bd);let _0x5cc880=_0x15fa4a===_0x4a2515(0x75d)?_0x344469[_0x4a2515(0x36b)][_0x4a2515(0x6d3)](_0x5e1dcb=>_0x5e1dcb[_0x4a2515(0x708)]===_0x4a2515(0x75d)):_0x344469[_0x4a2515(0x36b)][_0x4a2515(0x6d3)](_0x38e00e=>_0x38e00e[_0x4a2515(0x45a)][_0x4a2515(0x6c3)]()===_0x15fa4a['toString']());if(!_0x5cc880)return this[_0x4a2515(0x773)]['error'](this[_0x4a2515(0x192)]+'\x20('+this[_0x4a2515(0x60a)][_0x4a2515(0x33b)]+_0x4a2515(0x2a7)+_0x15fa4a),null;let _0x1982fa={'_pushName':_0x344469?.['chatLog']?.[_0x4a2515(0x2ab)]?.[_0x4a2515(0x3b1)]||'','_sender':this[_0x4a2515(0x60a)][_0x4a2515(0x33b)]||'',..._0x344469[_0x4a2515(0x887)]['realVariables']},_0x3a0f89=null;if(_0x344469[_0x4a2515(0x2a4)]){let _0x3321fb=_0x344469['chatLog']['lastReceivedMessage'][_0x4a2515(0x789)],_0x3a3365=_0x344469[_0x4a2515(0x1d0)]['find'](_0x46cb80=>_0x46cb80[_0x4a2515(0x6c7)]===_0x3321fb);if(_0x3a3365){let _0x1402d9=_0x3a3365[_0x4a2515(0x604)];if(_0x3a0f89=_0x344469['blocks']['find'](_0x4e86d5=>_0x4e86d5[_0x4a2515(0x80e)]===_0x1402d9&&_0x4e86d5[_0x4a2515(0x379)]===0x1),_0x5cc880[_0x4a2515(0x2f5)][_0x4a2515(0x3c1)]){let _0xcf6065={'id':_0x344469[_0x4a2515(0x2a4)],'remoteJid':_0x344469[_0x4a2515(0x8a0)],'fromMe':!0x0};await this['deleteMessage'](_0xcf6065);}if(_0x5cc880[_0x4a2515(0x2f5)][_0x4a2515(0x3c1)]&&_0x5cc880['uazapi']['pollMessageOnDelete']&&_0x5cc880[_0x4a2515(0x2f5)][_0x4a2515(0x55a)]==='poll'){let _0x596ee9={'number':_0x344469[_0x4a2515(0x8a0)],'options':{'delay':0x0},'textMessage':{'text':_0x4a2515(0x474)+_0x344469[_0x4a2515(0x80c)]+_0x4a2515(0x808)+_0x3321fb}};await this[_0x4a2515(0x2ed)](_0x596ee9);}_0x344469[_0x4a2515(0x3d9)]=_0x4a2515(0x2ac),_0x344469['waitingMenu_id']='',_0x344469[_0x4a2515(0x80c)]='',_0x344469[_0x4a2515(0x1d0)]=[];}else{this[_0x4a2515(0x773)]['verbose'](this[_0x4a2515(0x192)]+'\x20('+this[_0x4a2515(0x60a)][_0x4a2515(0x33b)]+_0x4a2515(0x88b));let _0x3c41e1={'activatedCount':_0x344469['chatLog'][_0x4a2515(0x1c6)][_0x4a2515(0x2c4)](_0x58d79d=>String(_0x58d79d[_0x4a2515(0x450)])===String(_0x15fa4a))[_0x4a2515(0x7dc)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x5cc880[_0x4a2515(0x2f5)]['pollErrorMessage']){let _0x3c8500={'number':_0x344469[_0x4a2515(0x8a0)],'options':{'delay':0x0},'textMessage':{'text':_0x5cc880[_0x4a2515(0x2f5)][_0x4a2515(0x22d)]}};await this['textMessage'](_0x3c8500);}if(_0x5cc880['maxActives']!==void 0x0&&_0x3c41e1[_0x4a2515(0x72b)]>=_0x5cc880[_0x4a2515(0x2ef)]){let _0x3b3f78=Date[_0x4a2515(0x835)](),_0x58e30d=_0x5cc880[_0x4a2515(0x32c)]??0xa;isNaN(_0x58e30d)&&(_0x58e30d=0xa);let _0x15015d=_0x3b3f78+_0x58e30d*0x3c*0x3e8;_0x3c41e1[_0x4a2515(0x4cf)]=_0x15015d,_0x3c41e1['moreLogs'][_0x4a2515(0x6c9)](_0x4a2515(0x47d)),this[_0x4a2515(0x702)](_0x344469,_0x15015d),_0x344469['waitingMenu_id']='',_0x344469[_0x4a2515(0x80c)]='',_0x344469['waitingMenu_replyOptions']=[];}return this[_0x4a2515(0x1f8)](_0x344469,_0x5cc880,_0x3c41e1,!0x0),null;}}if(_0x4ed3bd&&_0x5cc880['next_groupId']&&!_0x344469[_0x4a2515(0x2a4)]){let _0x52eb5d=_0x344469[_0x4a2515(0x36b)]['filter'](_0xfdbab3=>_0xfdbab3[_0x4a2515(0x80e)][_0x4a2515(0x6c3)]()===_0x5cc880[_0x4a2515(0x604)][_0x4a2515(0x6c3)]())[_0x4a2515(0x6cf)]((_0x410534,_0x430ce1)=>_0x410534[_0x4a2515(0x379)]-_0x430ce1[_0x4a2515(0x379)]);_0x52eb5d[_0x4a2515(0x7dc)]>0x0&&(_0x3a0f89=_0x52eb5d[0x0]);}if(!_0x3a0f89){let _0xabc126=_0x5cc880[_0x4a2515(0x80e)],_0x2d3702=_0x344469[_0x4a2515(0x36b)][_0x4a2515(0x2c4)](_0x3e3d04=>_0x3e3d04[_0x4a2515(0x80e)]===_0xabc126&&_0x3e3d04[_0x4a2515(0x379)]>_0x5cc880[_0x4a2515(0x379)])['sort']((_0x5cc22b,_0x3ef134)=>_0x5cc22b[_0x4a2515(0x379)]-_0x3ef134[_0x4a2515(0x379)]);_0x2d3702[_0x4a2515(0x7dc)]>0x0&&(_0x3a0f89=_0x2d3702[0x0]);}if(!_0x3a0f89)return _0x344469[_0x4a2515(0x3d9)]='closed',null;_0x344469['chatLog'][_0x4a2515(0x2c5)]=_0x1982fa;let _0x3c9061=JSON[_0x4a2515(0x226)](JSON['stringify'](_0x3a0f89));return this[_0x4a2515(0x52a)](_0x3c9061,_0x344469[_0x4a2515(0x887)][_0x4a2515(0x2c5)]),_0x344469['chatLog']['lastBlockId']=_0x3c9061[_0x4a2515(0x45a)],_0x344469[_0x4a2515(0x887)][_0x4a2515(0x776)]=!0x0,_0x3c9061;}[a0_0x1955e1(0x7a9)](_0x129d6e,_0x1d36ae){return _0x129d6e['replace'](/\{\{([^}]+)\}\}/g,(_0x566242,_0x5dec50)=>_0x1d36ae[_0x5dec50]||'');}[a0_0x1955e1(0x52a)](_0x5410b6,_0x41ab6d){const _0x2082a2=a0_0x1955e1;for(let _0x438bb8 in _0x5410b6)typeof _0x5410b6[_0x438bb8]==_0x2082a2(0x1a3)?_0x5410b6[_0x438bb8]=this[_0x2082a2(0x7a9)](_0x5410b6[_0x438bb8],_0x41ab6d):typeof _0x5410b6[_0x438bb8]==_0x2082a2(0x64b)&&this[_0x2082a2(0x52a)](_0x5410b6[_0x438bb8],_0x41ab6d);}async[a0_0x1955e1(0x89d)](_0x4bf25c,_0x583271){const _0xb13849=a0_0x1955e1;let _0x51e08a=_0x583271[_0xb13849(0x45a)];if(_0x4bf25c[_0xb13849(0x887)]&&_0x4bf25c[_0xb13849(0x887)][_0xb13849(0x1c6)]){let _0x83d026=_0x4bf25c[_0xb13849(0x887)][_0xb13849(0x1c6)]['filter'](_0x1cfa5f=>String(_0x1cfa5f[_0xb13849(0x450)])===String(_0x51e08a))[_0xb13849(0x648)]();if(_0x83d026&&_0x83d026[_0xb13849(0x2e7)]&&_0x583271[_0xb13849(0x4c5)])return _0x4bf25c[_0xb13849(0x3d9)]=_0xb13849(0x5cc),await this[_0xb13849(0x385)](_0x4bf25c),null;}if(_0x583271['type']===_0xb13849(0x2f5)&&_0x583271[_0xb13849(0x2f5)][_0xb13849(0x59a)]===_0xb13849(0x430)&&_0x4bf25c['waitingMenu_id'])return _0x4bf25c['chatLog']['lastBlockId']=_0x51e08a,await this[_0xb13849(0x385)](_0x4bf25c),null;let _0x77a94b=await this[_0xb13849(0x745)](_0x4bf25c);if(_0x4bf25c[_0xb13849(0x887)]&&_0x4bf25c[_0xb13849(0x887)][_0xb13849(0x1c6)]){let _0xef3dfa=_0x4bf25c['chatLog']['blockLogs'][_0xb13849(0x2c4)](_0x15088f=>String(_0x15088f[_0xb13849(0x450)])===String(_0x51e08a))[_0xb13849(0x7dc)];if(_0x583271[_0xb13849(0x2ef)]!==void 0x0&&_0xef3dfa>=_0x583271[_0xb13849(0x2ef)]){let _0x2404b9=Date[_0xb13849(0x835)](),_0x57e36e=_0x583271['stopMinutesMaxActives']??0xa;isNaN(_0x57e36e)&&(_0x57e36e=0xa);let _0x15ca8e=_0x2404b9+_0x57e36e*0x3c*0x3e8,_0x3027a0={'newStoppedUntil':_0x15ca8e};return this['updateStopChat'](_0x4bf25c,_0x15ca8e),this[_0xb13849(0x1f8)](_0x4bf25c,_0x583271,_0x3027a0,!0x0),null;}}_0x77a94b&&_0x77a94b[_0xb13849(0x708)]!=='save'&&await this[_0xb13849(0x1e1)](_0x4bf25c,_0x77a94b),_0x77a94b||await this['saveConversationToDatabase'](_0x4bf25c),_0x77a94b&&_0x77a94b[_0xb13849(0x708)]==='save'&&(_0x4bf25c[_0xb13849(0x887)]['lastBlockId']=_0x51e08a,await this['saveConversationToDatabase'](_0x4bf25c));}async[a0_0x1955e1(0x1e1)](_0x5a1f79,_0x21bfc5){const _0x153e48=a0_0x1955e1;try{let _0x2f14d4=_0x21bfc5[_0x153e48(0x708)];this[_0x153e48(0x773)]['verbose'](this[_0x153e48(0x192)]+'\x20('+this[_0x153e48(0x60a)][_0x153e48(0x33b)]+_0x153e48(0x88e)+_0x2f14d4);let _0x1253bb={'uazapi':()=>this['processUazapi'](_0x5a1f79,_0x21bfc5),'save':()=>this['saveTextReply'](_0x5a1f79,_0x21bfc5),'stop':()=>this[_0x153e48(0x5c0)](_0x5a1f79,_0x21bfc5),'condition':()=>this[_0x153e48(0x693)](_0x5a1f79,_0x21bfc5),'varedit':()=>this[_0x153e48(0x399)](_0x5a1f79,_0x21bfc5),'apirequest':()=>this['processApiRequest'](_0x5a1f79,_0x21bfc5),'goToFlow':()=>this[_0x153e48(0x557)](_0x5a1f79,_0x21bfc5),'scheduleFlow':()=>this[_0x153e48(0x643)](_0x5a1f79,_0x21bfc5),'awaitSeconds':()=>this[_0x153e48(0x2a5)](_0x5a1f79,_0x21bfc5),'clearVariables':()=>this[_0x153e48(0x2d9)](_0x5a1f79,_0x21bfc5)}[_0x2f14d4];_0x1253bb&&await _0x1253bb();}catch(_0x26bde4){this[_0x153e48(0x773)]['error'](this[_0x153e48(0x192)]+'\x20('+this[_0x153e48(0x60a)][_0x153e48(0x33b)]+_0x153e48(0x433)+(_0x26bde4 instanceof Error?_0x26bde4[_0x153e48(0x451)]:JSON[_0x153e48(0x36f)](_0x26bde4,null,0x2)));}}async[a0_0x1955e1(0x2a5)](_0x7c42b,_0x23cc50){const _0x2ad235=a0_0x1955e1;if(this['logger'][_0x2ad235(0x2b1)](this[_0x2ad235(0x192)]+'\x20('+this[_0x2ad235(0x60a)][_0x2ad235(0x33b)]+_0x2ad235(0x23e)),!_0x7c42b||!_0x23cc50)return this[_0x2ad235(0x773)][_0x2ad235(0x2e7)](this[_0x2ad235(0x192)]+'\x20('+this['instance'][_0x2ad235(0x33b)]+_0x2ad235(0x18d)),null;let _0x1d9d6e=+_0x23cc50[_0x2ad235(0x1e2)];isNaN(_0x1d9d6e)&&(_0x1d9d6e=0x0),_0x1d9d6e=Math[_0x2ad235(0x5a6)](_0x1d9d6e,0x3c),await(0x0,w[_0x2ad235(0x858)])(_0x1d9d6e*0x3e8);let _0x1dd02c={'moreLogs':[_0x2ad235(0x65a)+_0x1d9d6e+_0x2ad235(0x30c)]};return await this[_0x2ad235(0x1f8)](_0x7c42b,_0x23cc50,_0x1dd02c),_0x1d9d6e;}async[a0_0x1955e1(0x2d9)](_0x54b3a5,_0x4288cf){const _0x1001b8=a0_0x1955e1;if(this['logger'][_0x1001b8(0x2b1)](this[_0x1001b8(0x192)]+'\x20('+this[_0x1001b8(0x60a)][_0x1001b8(0x33b)]+_0x1001b8(0x845)),!_0x54b3a5||!_0x4288cf)return this['logger']['error'](this[_0x1001b8(0x192)]+'\x20('+this['instance'][_0x1001b8(0x33b)]+_0x1001b8(0x18d)),null;let _0x2dede2=[];if(_0x4288cf['clearVariables'][_0x1001b8(0x4f1)]()===_0x1001b8(0x518)){let _0x4984ad=[_0x1001b8(0x77d),_0x1001b8(0x1fc),_0x1001b8(0x457),_0x1001b8(0x4ad),_0x1001b8(0x724),'_id',_0x1001b8(0x206)];_0x2dede2=Object['keys'](_0x54b3a5[_0x1001b8(0x887)][_0x1001b8(0x2c5)])['filter'](_0x5a70f1=>_0x5a70f1[_0x1001b8(0x622)]('_')&&!_0x4984ad[_0x1001b8(0x718)](_0x5a70f1));}else _0x2dede2=_0x4288cf['clearVariables'][_0x1001b8(0x3ff)]('|')[_0x1001b8(0x3e2)](_0x35e8de=>(_0x35e8de=_0x35e8de['replace'](/[{}]/g,'')[_0x1001b8(0x4f1)](),_0x35e8de['startsWith']('_')?_0x35e8de:'_'+_0x35e8de));let _0x50577d=[];_0x2dede2[_0x1001b8(0x408)](_0x2692fb=>{const _0x42faf8=_0x1001b8;_0x2692fb in _0x54b3a5['chatLog']['realVariables']&&(delete _0x54b3a5['chatLog'][_0x42faf8(0x2c5)][_0x2692fb],_0x50577d[_0x42faf8(0x6c9)](_0x2692fb));}),_0x50577d[_0x1001b8(0x7dc)]>0x0?this[_0x1001b8(0x773)][_0x1001b8(0x2b1)](this[_0x1001b8(0x192)]+'\x20('+this['instance']['wuid']+_0x1001b8(0x79b)+_0x50577d[_0x1001b8(0x279)](',\x20')):this[_0x1001b8(0x773)][_0x1001b8(0x2b1)](this[_0x1001b8(0x192)]+'\x20('+this[_0x1001b8(0x60a)]['wuid']+_0x1001b8(0x86d));let _0x470362={'moreLogs':['Removidas\x20as\x20variáveis:\x20'+_0x50577d[_0x1001b8(0x279)](',\x20')]};return await this[_0x1001b8(0x1f8)](_0x54b3a5,_0x4288cf,_0x470362),null;}async['processScheduleFlow'](_0x5522e4,_0x531cf5){const _0x583360=a0_0x1955e1;if(this[_0x583360(0x773)][_0x583360(0x2b1)](this['instanceName']+'\x20('+this[_0x583360(0x60a)][_0x583360(0x33b)]+_0x583360(0x4ca)),!_0x5522e4||!_0x531cf5)return this['logger'][_0x583360(0x2e7)](this[_0x583360(0x192)]+'\x20('+this[_0x583360(0x60a)][_0x583360(0x33b)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x4b5d00=_0x5522e4[_0x583360(0x8a0)];_0x531cf5[_0x583360(0x286)]['remoteJid']&&_0x531cf5[_0x583360(0x286)][_0x583360(0x8a0)][_0x583360(0x4f1)]()!==''&&(_0x4b5d00=_0x531cf5[_0x583360(0x2f5)]['remoteJid'][_0x583360(0x4f1)]());let _0x1068d1=_0x531cf5[_0x583360(0x286)][_0x583360(0x6b8)]*0xea60,_0x58b1af=Date[_0x583360(0x835)]()+_0x1068d1,_0x2d88b4={'status':_0x583360(0x78e),'info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0x5522e4[_0x583360(0x543)],'remoteJids':[_0x4b5d00],'when':_0x58b1af,'delaySecMin':0x0,'delaySecMax':0x0,'type':'flow','flowName':_0x531cf5[_0x583360(0x286)][_0x583360(0x857)]};this[_0x583360(0x5aa)](_0x2d88b4);let _0x5b131c=await this['NextBlock'](_0x5522e4);_0x5b131c&&await this[_0x583360(0x1e1)](_0x5522e4,_0x5b131c);}async[a0_0x1955e1(0x557)](_0x2ce1d2,_0x48486a){const _0x39702e=a0_0x1955e1;if(this[_0x39702e(0x773)]['verbose'](this[_0x39702e(0x192)]+'\x20('+this['instance'][_0x39702e(0x33b)]+_0x39702e(0x52b)),!_0x2ce1d2||!_0x48486a)return this[_0x39702e(0x773)][_0x39702e(0x2e7)](this[_0x39702e(0x192)]+'\x20('+this[_0x39702e(0x60a)][_0x39702e(0x33b)]+_0x39702e(0x18d)),null;await this[_0x39702e(0x1f8)](_0x2ce1d2,_0x48486a,{},!0x0,!0x0);let _0xe8852f=_0x48486a[_0x39702e(0x3a6)];_0x2ce1d2=await this[_0x39702e(0x1b6)](_0xe8852f,_0x2ce1d2['remoteJid'],_0x2ce1d2['chatLog'][_0x39702e(0x2c5)]);let _0x2ca432=await this[_0x39702e(0x745)](_0x2ce1d2);_0x2ca432&&await this[_0x39702e(0x1e1)](_0x2ce1d2,_0x2ca432);}async['createConversationforgoToFlow'](_0x10f9c5,_0x5be4b4,_0x3cfec1){const _0x1485fd=a0_0x1955e1;this['logger'][_0x1485fd(0x2b1)](this[_0x1485fd(0x192)]+'\x20('+this[_0x1485fd(0x60a)]['wuid']+_0x1485fd(0x42a));try{let _0x1553f0=this[_0x1485fd(0x4a3)][_0x1485fd(0x1fe)][_0x1485fd(0x6d3)](_0x363aee=>_0x363aee[_0x1485fd(0x45a)]===_0x10f9c5);_0x1553f0||this[_0x1485fd(0x773)][_0x1485fd(0x2e7)](this['instanceName']+'\x20('+this[_0x1485fd(0x60a)]['wuid']+_0x1485fd(0x2c1)+_0x10f9c5+_0x1485fd(0x31b));let _0x421207=await this[_0x1485fd(0x3c7)][_0x1485fd(0x4b9)][_0x1485fd(0x309)]({'where':{'_id':_0x1553f0[_0x1485fd(0x45a)]}});if(!_0x421207||!_0x421207['whoCanUse']?.[_0x1485fd(0x718)](this[_0x1485fd(0x60a)][_0x1485fd(0x33b)]))throw this[_0x1485fd(0x773)]['error'](this[_0x1485fd(0x192)]+'\x20('+this['instance'][_0x1485fd(0x33b)]+_0x1485fd(0x2c1)+_0x10f9c5+_0x1485fd(0x77f)),new m(_0x1485fd(0x3a1)+_0x10f9c5+_0x1485fd(0x77f));let _0x129ea0=require(_0x1485fd(0x608))['ObjectId'],_0x37a69a=Date['now'](),_0x25ff9a='start',_0x420d72={},_0x13860d={},_0x447ee1=this[_0x1485fd(0x4a3)]['flows'][_0x1485fd(0x6d3)](_0xf71442=>_0xf71442[_0x1485fd(0x45a)]===_0x421207['_id']?.[_0x1485fd(0x6c3)]()),_0x7d02d5=_0x447ee1?.['minutesToClose']??_0x421207[_0x1485fd(0x5de)]??0x0,_0x5f595b=_0x447ee1?.[_0x1485fd(0x47f)]??_0x421207['readMessages']??!0x1,_0x2d4601={'flowId':_0x1553f0[_0x1485fd(0x45a)],'readMessages':_0x1553f0[_0x1485fd(0x47f)],..._0x421207,'chatLog':null},_0x3f5309={'lastReceivedMessage':_0x420d72,'lastSendMessage':_0x13860d,'lastBlockId':_0x25ff9a,'lastCondition':!0x0,'realVariables':_0x3cfec1};_0x2d4601['chatLog']=_0x3f5309,_0x2d4601[_0x1485fd(0x887)]['realVariables']={..._0x3cfec1},delete _0x2d4601['_id'],_0x2d4601[_0x1485fd(0x45a)]=new _0x129ea0(),_0x2d4601[_0x1485fd(0x278)]=_0x37a69a,_0x2d4601[_0x1485fd(0x3d9)]='open',_0x2d4601[_0x1485fd(0x8a0)]=_0x5be4b4,_0x2d4601[_0x1485fd(0x5de)]=_0x7d02d5,_0x2d4601[_0x1485fd(0x47f)]=_0x5f595b;let _0x516f7c=await this[_0x1485fd(0x3c7)][_0x1485fd(0x2dc)][_0x1485fd(0x400)](_0x2d4601[_0x1485fd(0x45a)],_0x2d4601,this[_0x1485fd(0x60a)][_0x1485fd(0x33b)]);return this['logger']['verbose'](this[_0x1485fd(0x192)]+'\x20('+this[_0x1485fd(0x60a)][_0x1485fd(0x33b)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x516f7c?_0x2d4601:null;}catch(_0x4f4527){let _0x4222de=_0x1485fd(0x6ca),_0x56e500=_0x4f4527 instanceof Error?_0x4f4527['message']:typeof _0x4f4527==_0x1485fd(0x64b)?JSON[_0x1485fd(0x36f)](_0x4f4527):_0x4f4527,_0x424e2b=_0x4222de+':\x20'+_0x56e500;throw this[_0x1485fd(0x773)][_0x1485fd(0x2e7)](this[_0x1485fd(0x192)]+'\x20('+this[_0x1485fd(0x60a)][_0x1485fd(0x33b)]+_0x1485fd(0x6cd)+_0x424e2b),new m(_0x424e2b);}}async['processApiRequest'](_0x159465,_0x5c85b1){const _0x34f004=a0_0x1955e1;let _0x2156e0,_0x749bc0;try{let _0x5d339d=_0x5c85b1[_0x34f004(0x54c)];if(!_0x5d339d||!_0x5d339d[_0x34f004(0x263)]||!_0x5d339d[_0x34f004(0x3ef)])throw new Error(_0x34f004(0x78c));let _0x4f59c5;([_0x34f004(0x303),_0x34f004(0x280),'https://api.elevenlabs.io/v1/text-to-speech/'][_0x34f004(0x30b)](_0xd55e88=>_0x5d339d[_0x34f004(0x263)][_0x34f004(0x718)](_0xd55e88))||_0x5d339d[_0x34f004(0x272)])&&(_0x4f59c5=_0x34f004(0x822));let _0x454b83='\u205f',_0x3d9bc4;try{_0x3d9bc4=JSON[_0x34f004(0x226)](_0x5d339d[_0x34f004(0x50c)][_0x34f004(0x534)](new RegExp(_0x454b83,'g'),''));}catch(_0x448c68){throw _0x448c68;}let _0x30798e={'method':_0x5d339d[_0x34f004(0x3ef)],'url':_0x5d339d[_0x34f004(0x263)],'headers':_0x5d339d['header']||{},..._0x5d339d['method'][_0x34f004(0x679)]()!=='GET'&&_0x5d339d['bodyString']?{'data':JSON['parse'](_0x5d339d[_0x34f004(0x50c)][_0x34f004(0x534)](new RegExp(_0x454b83,'g'),''))}:{},..._0x4f59c5&&{'responseType':_0x4f59c5}},_0x53b5fc=await(0x0,Q[_0x34f004(0x36d)])(_0x30798e),_0x443612=_0x53b5fc[_0x34f004(0x525)][_0x34f004(0x3ee)];if(_0x443612&&_0x443612[_0x34f004(0x718)](_0x34f004(0x2c8))||typeof _0x53b5fc[_0x34f004(0x786)]==_0x34f004(0x1a3)){if(typeof _0x53b5fc[_0x34f004(0x786)]==_0x34f004(0x1a3)){let _0x478dc8=_0x53b5fc['data'][_0x34f004(0x534)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x34f004(0x4f1)]();try{_0x2156e0=JSON[_0x34f004(0x226)](_0x478dc8);}catch(_0x5cb611){this['logger'][_0x34f004(0x2e7)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x5cb611[_0x34f004(0x451)]),_0x2156e0={'_apiResponse':_0x53b5fc[_0x34f004(0x786)]};}}else _0x2156e0=_0x53b5fc['data'];let _0x54feea=_0x159465[_0x34f004(0x887)]['realVariables'],_0x3960bc=this[_0x34f004(0x248)](_0x2156e0);return Object['assign'](_0x54feea,_0x3960bc),_0x159465['chatLog'][_0x34f004(0x2c5)]=_0x54feea,_0x749bc0={'error':!0x1,'apiResponse':_0x2156e0},this['updateConversation'](_0x159465,_0x5c85b1,_0x749bc0),_0x2156e0;}if(_0x443612&&(_0x443612[_0x34f004(0x718)]('application/octet-stream')||_0x443612['includes'](_0x34f004(0x412))||_0x443612[_0x34f004(0x718)](_0x34f004(0x6a7))||_0x443612[_0x34f004(0x718)](_0x34f004(0x861)))){this[_0x34f004(0x773)]['verbose'](this[_0x34f004(0x192)]+'\x20('+this[_0x34f004(0x60a)][_0x34f004(0x33b)]+_0x34f004(0x795)+_0x443612);let _0x519ed9=(0x0,Y['v4'])(),_0x18275b='',_0x1d5267={'image/jpeg':_0x34f004(0x421),'image/png':'.png','image/gif':_0x34f004(0x3f7),'image/webp':'.webp','image/svg+xml':_0x34f004(0x54e),'audio/mpeg':_0x34f004(0x821),'audio/ogg':'.ogg','audio/wav':_0x34f004(0x1c0),'video/mp4':_0x34f004(0x23b),'video/webm':_0x34f004(0x6f9),'video/ogg':_0x34f004(0x282),'text/plain':_0x34f004(0x372),'application/pdf':_0x34f004(0x4c2),'application/msword':_0x34f004(0x615),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x34f004(0x542),'application/vnd.ms-excel':_0x34f004(0x2bc),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x34f004(0x458),'application/vnd.ms-powerpoint':_0x34f004(0x7f2),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x34f004(0x255)};_0x1d5267[_0x443612]?(_0x18275b=_0x1d5267[_0x443612],this[_0x34f004(0x773)][_0x34f004(0x2b1)](this[_0x34f004(0x192)]+'\x20('+this[_0x34f004(0x60a)][_0x34f004(0x33b)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x18275b)):(_0x18275b=_0x34f004(0x27e),this['logger'][_0x34f004(0x2b1)](this['instanceName']+'\x20('+this[_0x34f004(0x60a)][_0x34f004(0x33b)]+_0x34f004(0x4ab)+_0x18275b)),_0x519ed9+=_0x18275b,this[_0x34f004(0x773)][_0x34f004(0x2b1)](this[_0x34f004(0x192)]+'\x20('+this['instance'][_0x34f004(0x33b)]+_0x34f004(0x7ff)+_0x519ed9);let _0x3d634d=this['configService'][_0x34f004(0x7be)](_0x34f004(0x381))[_0x34f004(0x854)];if(!_0x3d634d){let _0x392e5b=this[_0x34f004(0x567)][_0x34f004(0x7be)](_0x34f004(0x671));_0x3d634d=_0x34f004(0x8c0)+(_0x392e5b&&_0x392e5b[_0x34f004(0x355)][_0x34f004(0x3ff)]('/')[0x4]);}let _0x2819c8=Buffer[_0x34f004(0x6d8)](_0x53b5fc[_0x34f004(0x786)]);await this[_0x34f004(0x25c)](_0x2819c8,_0x519ed9);let _0xc00715=_0x34f004(0x5f1)+_0x519ed9;_0xc00715=''+_0x3d634d+_0xc00715,_0x2156e0={'fileUrl':_0xc00715},_0x159465[_0x34f004(0x887)][_0x34f004(0x2c5)][_0x34f004(0x2eb)]=_0xc00715;let _0x451fb8=_0x159465['chatLog'][_0x34f004(0x2c5)],_0x523cf8=this[_0x34f004(0x248)](_0x2156e0);return Object[_0x34f004(0x6af)](_0x451fb8,_0x523cf8),_0x159465[_0x34f004(0x887)][_0x34f004(0x2c5)]=_0x451fb8,_0x749bc0={'error':!0x1,'apiResponse':{'fileUrl':_0xc00715}},this[_0x34f004(0x1f8)](_0x159465,_0x5c85b1,_0x749bc0),_0x2156e0;}}catch(_0x42143e){this[_0x34f004(0x773)][_0x34f004(0x2e7)](_0x34f004(0x8ad)+_0x42143e['message']),_0x42143e['response']&&(_0x2156e0=_0x42143e[_0x34f004(0x7e0)][_0x34f004(0x786)]);let _0x393f84=_0x159465[_0x34f004(0x887)][_0x34f004(0x2c5)],_0x300f98=this[_0x34f004(0x248)](_0x2156e0);return Object[_0x34f004(0x6af)](_0x393f84,_0x300f98),_0x159465[_0x34f004(0x887)]['realVariables']=_0x393f84,_0x749bc0={'error':!0x0,'errorLog':_0x42143e[_0x34f004(0x6c3)](),'apiResponse':_0x2156e0},this[_0x34f004(0x1f8)](_0x159465,_0x5c85b1,_0x749bc0),{'success':!0x1};}}['applyvaredit'](_0x2b0917,_0x4e0f19){const _0x33a62a=a0_0x1955e1;let _0x324cd9=_0x54014e=>{let _0x4cb29c=_0x54014e['replace'](/[^0-9.,-]/g,'')['replace'](',','.'),_0x33e2bd=parseFloat(_0x4cb29c);return isNaN(_0x33e2bd)?null:_0x33e2bd;},_0x707da3=_0x4e0f19['firstValue'],_0x4a130c=_0x4e0f19[_0x33a62a(0x620)];typeof _0x707da3==_0x33a62a(0x1a3)&&(_0x707da3=this[_0x33a62a(0x7a9)](_0x707da3,_0x2b0917[_0x33a62a(0x887)][_0x33a62a(0x2c5)])??''),typeof _0x4a130c==_0x33a62a(0x1a3)&&(_0x4a130c=this[_0x33a62a(0x7a9)](_0x4a130c,_0x2b0917[_0x33a62a(0x887)][_0x33a62a(0x2c5)])??'');let _0x1599a0=null;if(!_0x4e0f19[_0x33a62a(0x19a)])return null;switch(this[_0x33a62a(0x773)][_0x33a62a(0x2b1)](this[_0x33a62a(0x192)]+'\x20('+this[_0x33a62a(0x60a)][_0x33a62a(0x33b)]+_0x33a62a(0x31c)+_0x707da3),this[_0x33a62a(0x773)][_0x33a62a(0x2b1)](this[_0x33a62a(0x192)]+'\x20('+this[_0x33a62a(0x60a)][_0x33a62a(0x33b)]+_0x33a62a(0x4ef)+_0x4a130c),_0x4e0f19[_0x33a62a(0x19a)]){case'+':case'-':case'*':case'/':let _0x22c77e=_0x324cd9(_0x707da3||'0'),_0x2915a0=_0x324cd9(_0x4a130c||'0');if(_0x22c77e===null)return null;switch(_0x4e0f19[_0x33a62a(0x19a)]){case'+':_0x1599a0=_0x22c77e+(_0x2915a0??0x0);break;case'-':_0x1599a0=_0x22c77e-(_0x2915a0??0x0);break;case'*':_0x1599a0=_0x22c77e*(_0x2915a0??0x1);break;case'/':_0x2915a0!==0x0&&(_0x1599a0=_0x22c77e/(_0x2915a0??0x1));break;}break;case _0x33a62a(0x427):case _0x33a62a(0x22a):let _0x21a0fc=_0x4a130c,_0x196075=_0x4e0f19[_0x33a62a(0x61c)];if(typeof _0x196075==_0x33a62a(0x1a3)&&(_0x196075=this[_0x33a62a(0x7a9)](_0x196075,_0x2b0917['chatLog']['realVariables'])??''),_0x21a0fc&&_0x196075!==void 0x0){let _0x42d5d4=_0x4e0f19[_0x33a62a(0x19a)]==='findAndReplace'?new RegExp(_0x21a0fc[_0x33a62a(0x534)](/[-\/\\^$*+?.()|[\]{}]/g,_0x33a62a(0x695)),'g'):new RegExp(_0x21a0fc,'g');_0x1599a0=_0x707da3['replace'](_0x42d5d4,_0x196075);}else console[_0x33a62a(0x4cb)](_0x33a62a(0x81b));break;case _0x33a62a(0x691):_0x1599a0=_0x4a130c;break;case _0x33a62a(0x862):let _0x37992c=_0x707da3[_0x33a62a(0x676)](new RegExp(_0x4a130c||''));_0x1599a0=_0x37992c?_0x37992c[0x0]:'';break;case _0x33a62a(0x250):_0x1599a0=_0x707da3[_0x33a62a(0x35c)](0x0,parseInt(_0x4a130c||'0'));break;case _0x33a62a(0x7bc):let _0x29aa27=parseInt(_0x4a130c||'0');_0x1599a0=_0x707da3[_0x33a62a(0x35c)](_0x707da3[_0x33a62a(0x7dc)]-_0x29aa27);break;case _0x33a62a(0x396):let _0x7391ba=_0x324cd9(_0x707da3),_0x4a5beb=parseInt(_0x4a130c||'0');_0x4a5beb=Math[_0x33a62a(0x4ec)](_0x4a5beb),_0x7391ba!==null?_0x1599a0=_0x7391ba['toLocaleString'](_0x33a62a(0x570),{'minimumFractionDigits':_0x4a5beb,'maximumFractionDigits':_0x4a5beb}):(console['warn']('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x707da3),_0x1599a0=null);break;case _0x33a62a(0x193):let _0x33fced=_0x324cd9(_0x707da3);_0x33fced!==null?_0x1599a0=_0x33fced['toLocaleString'](_0x33a62a(0x570),{'style':'currency','currency':'BRL'}):(console[_0x33a62a(0x4cb)](_0x33a62a(0x853)+_0x707da3),_0x1599a0=null);break;case _0x33a62a(0x6fc):_0x1599a0=_0x707da3['toUpperCase']();break;case _0x33a62a(0x7df):_0x1599a0=_0x707da3['toLowerCase']();break;case _0x33a62a(0x76a):_0x1599a0=_0x707da3[_0x33a62a(0x3ff)]('\x20')[_0x33a62a(0x3e2)](_0x2fa3ad=>_0x2fa3ad[_0x33a62a(0x3e9)](0x0)['toUpperCase']()+_0x2fa3ad[_0x33a62a(0x35c)](0x1)['toLowerCase']())[_0x33a62a(0x279)]('\x20');break;case'trimmed':_0x1599a0=_0x707da3['trim']();break;default:_0x1599a0=_0x707da3;}return _0x1599a0!==null?_0x1599a0['toString']():null;}async[a0_0x1955e1(0x399)](_0x1b6039,_0x526475){const _0x19cf71=a0_0x1955e1;try{let _0x146616=_0x1b6039[_0x19cf71(0x738)]?.[_0x19cf71(0x2c4)](_0x3ac3e8=>_0x3ac3e8[_0x19cf71(0x450)]===_0x526475[_0x19cf71(0x45a)]?.[_0x19cf71(0x6c3)]())||[],_0x1d2a61=_0x526475[_0x19cf71(0x463)],_0x163e2e=null,_0x428266=[],_0xd72d7=_0x1b6039[_0x19cf71(0x887)]['realVariables'][_0x1d2a61];_0x428266[_0x19cf71(0x6c9)]('Valor\x20inicial:\x20\x22'+_0xd72d7+'\x22');for(let _0x1bc755 of _0x146616){_0x1bc755[_0x19cf71(0x3b6)]=_0xd72d7,_0x163e2e=_0x1bc755[_0x19cf71(0x3b6)];let _0x4a8004;try{_0x4a8004=this[_0x19cf71(0x5bb)](_0x1b6039,_0x1bc755);}catch(_0x365b3f){this[_0x19cf71(0x773)][_0x19cf71(0x2e7)](_0x19cf71(0x498)+_0x365b3f[_0x19cf71(0x451)]);continue;}if(_0x4a8004!==null){let _0x2be1ad=_0x19cf71(0x352)+_0x1bc755['editOperator']+'\x22',_0x594492=['toBRL',_0x19cf71(0x6fc),_0x19cf71(0x7df),_0x19cf71(0x76a),_0x19cf71(0x48d)];_0x1bc755[_0x19cf71(0x19a)]===_0x19cf71(0x427)||_0x1bc755[_0x19cf71(0x19a)]==='findAndReplaceRegex'?_0x2be1ad+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x1bc755[_0x19cf71(0x620)]+_0x19cf71(0x2af)+_0x1bc755[_0x19cf71(0x61c)]+'\x22':!_0x594492['includes'](_0x1bc755[_0x19cf71(0x19a)])&&_0x1bc755[_0x19cf71(0x620)]!==null&&_0x1bc755[_0x19cf71(0x620)]!==void 0x0&&(_0x2be1ad+=_0x19cf71(0x684)+_0x1bc755[_0x19cf71(0x620)]+'\x22'),_0x2be1ad+=_0x19cf71(0x787)+_0x4a8004+'.',_0x428266[_0x19cf71(0x6c9)](_0x2be1ad);}_0x4a8004!==null&&(_0xd72d7=_0x4a8004);}if(_0x1b6039['chatLog'][_0x19cf71(0x2c5)]&&_0x526475['saveVariable']){_0x1b6039[_0x19cf71(0x887)][_0x19cf71(0x2c5)][_0x526475[_0x19cf71(0x463)]]=_0xd72d7;let _0x2880e6={'variable':_0x526475['saveVariable'],'oldValue':_0x163e2e,'newValue':_0xd72d7,'moreLogs':_0x428266};try{this[_0x19cf71(0x1f8)](_0x1b6039,_0x526475,_0x2880e6);}catch(_0x304dff){this[_0x19cf71(0x773)]['error'](_0x19cf71(0x598)+_0x304dff[_0x19cf71(0x451)]);}}return _0x1d2a61;}catch(_0x47898b){return this[_0x19cf71(0x773)][_0x19cf71(0x2e7)](_0x19cf71(0x2e6)+_0x47898b[_0x19cf71(0x451)]),null;}}async[a0_0x1955e1(0x693)](_0x3672df,_0x4ba53e){const _0x3bd028=a0_0x1955e1;try{let _0x498af9=[],_0x54027d=_0x3672df['conditions'][_0x3bd028(0x2c4)](_0x269650=>_0x269650[_0x3bd028(0x450)]===_0x4ba53e[_0x3bd028(0x45a)][_0x3bd028(0x6c3)]()),_0x34f565=null,_0x4270cc=!0x1;for(let _0x45f81c of _0x54027d){let _0x5a4d5d=this[_0x3bd028(0x524)](_0x3672df,_0x45f81c);_0x498af9['push'](_0x3bd028(0x185)+_0x45f81c['firstValue']+_0x3bd028(0x766)+_0x45f81c['expression']+_0x3bd028(0x4b5)+_0x45f81c[_0x3bd028(0x620)]+_0x3bd028(0x5ea)+_0x5a4d5d),_0x34f565===null?_0x34f565=_0x5a4d5d:_0x45f81c[_0x3bd028(0x25a)]===_0x3bd028(0x5ae)?(_0x34f565=_0x34f565&&_0x5a4d5d,_0x5a4d5d||(_0x4270cc=!0x0)):_0x45f81c[_0x3bd028(0x25a)]==='or'&&(_0x4270cc||(_0x34f565=_0x34f565||_0x5a4d5d));}_0x34f565===null&&(_0x34f565=!0x0);let _0x1c7b2a={'moreLogs':_0x498af9};_0x3672df[_0x3bd028(0x887)][_0x3bd028(0x776)]=_0x34f565,await this['updateConversation'](_0x3672df,_0x4ba53e,_0x1c7b2a);}catch(_0x505d26){this[_0x3bd028(0x773)][_0x3bd028(0x2e7)](this['instanceName']+'\x20('+this[_0x3bd028(0x60a)][_0x3bd028(0x33b)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x505d26 instanceof Error?_0x505d26['message']:JSON[_0x3bd028(0x36f)](_0x505d26,null,0x2)));}}['evaluateCondition'](_0x3bd7e0,_0x4a10e4){const _0x3b4a8a=a0_0x1955e1;let _0x3e30f2=_0x4a10e4[_0x3b4a8a(0x3b6)],_0xb22ea3=_0x4a10e4[_0x3b4a8a(0x620)];typeof _0x3e30f2=='string'&&(_0x3e30f2=this['replaceVariables'](_0x3e30f2,_0x3bd7e0[_0x3b4a8a(0x887)]['realVariables'])??''),typeof _0xb22ea3==_0x3b4a8a(0x1a3)&&(_0xb22ea3=this[_0x3b4a8a(0x7a9)](_0xb22ea3,_0x3bd7e0[_0x3b4a8a(0x887)]['realVariables'])??'');try{switch(_0x4a10e4[_0x3b4a8a(0x3a4)]){case _0x3b4a8a(0x486):return _0x3e30f2===_0xb22ea3;case _0x3b4a8a(0x41c):return _0x3e30f2!==_0xb22ea3;case _0x3b4a8a(0x4b2):return this[_0x3b4a8a(0x4b2)](_0x3e30f2,_0xb22ea3);case _0x3b4a8a(0x741):return!this['contains'](_0x3e30f2,_0xb22ea3);case'greater':return parseFloat(_0x3e30f2)>parseFloat(_0xb22ea3);case'less':return parseFloat(_0x3e30f2)<parseFloat(_0xb22ea3);case _0x3b4a8a(0x4a0):return _0x3e30f2!=='';case _0x3b4a8a(0x194):return _0x3e30f2==='';case _0x3b4a8a(0x85e):return new RegExp(_0xb22ea3)[_0x3b4a8a(0x390)](_0x3e30f2);case _0x3b4a8a(0x5b7):return!new RegExp(_0xb22ea3)[_0x3b4a8a(0x390)](_0x3e30f2);default:return!0x1;}}catch(_0x4f6134){return this[_0x3b4a8a(0x773)]['error'](_0x3b4a8a(0x4f5)+_0x4f6134),!0x1;}}['contains'](_0x2a9cc4,_0x3f55c7){const _0x4f2050=a0_0x1955e1;if(_0x2a9cc4===_0x3f55c7&&/^\d+$/[_0x4f2050(0x390)](_0x2a9cc4))return!0x0;if(this[_0x4f2050(0x714)](_0x2a9cc4)&&/^\d+$/['test'](_0x3f55c7)){let _0x208a6a=_0x2a9cc4[_0x4f2050(0x3ff)](',')[_0x4f2050(0x3e2)](_0x4f4164=>parseInt(_0x4f4164[_0x4f2050(0x4f1)]())),_0x11821e=parseInt(_0x3f55c7);return _0x208a6a['includes'](_0x11821e);}return _0x2a9cc4[_0x4f2050(0x718)](_0x3f55c7);}[a0_0x1955e1(0x714)](_0x30a7ff){const _0x5b212b=a0_0x1955e1;return/^\d+(,\d+)*$/[_0x5b212b(0x390)](_0x30a7ff);}[a0_0x1955e1(0x576)](_0x550617){const _0x2872e7=a0_0x1955e1;let _0x94f691=!0x0,_0x32c9bc=null;for(let _0x4a3b25 of _0x550617){let _0x33e245=this[_0x2872e7(0x48b)](_0x4a3b25);if(_0x32c9bc==='or'&&_0x33e245){_0x94f691=!0x0;break;}if(_0x32c9bc==='and'&&!_0x33e245){_0x94f691=!0x1;break;}_0x32c9bc=_0x4a3b25['OrAnd'];}return _0x94f691;}[a0_0x1955e1(0x48b)](_0x53f938){const _0x13746c=a0_0x1955e1;let _0x172dad=_0x53f938[_0x13746c(0x3b6)],_0x5a70bd=_0x53f938[_0x13746c(0x620)];try{switch(_0x53f938['expression']){case'equal':return String(_0x172dad)===String(_0x5a70bd);case _0x13746c(0x41c):return String(_0x172dad)!==String(_0x5a70bd);case _0x13746c(0x4b2):return String(_0x172dad)[_0x13746c(0x718)](String(_0x5a70bd));case _0x13746c(0x741):return!String(_0x172dad)[_0x13746c(0x718)](String(_0x5a70bd));case _0x13746c(0x452):return parseFloat(String(_0x172dad))>parseFloat(String(_0x5a70bd));case'less':return parseFloat(String(_0x172dad))<parseFloat(String(_0x5a70bd));case _0x13746c(0x4a0):return String(_0x172dad)!=='';case _0x13746c(0x194):return String(_0x172dad)==='';case'matchRegex':return new RegExp(String(_0x5a70bd))['test'](String(_0x172dad));case _0x13746c(0x5b7):return!new RegExp(String(_0x5a70bd))[_0x13746c(0x390)](String(_0x172dad));default:return!0x1;}}catch(_0x46b21b){return this[_0x13746c(0x773)]['error'](_0x13746c(0x4f5)+_0x46b21b),!0x1;}}async[a0_0x1955e1(0x6a5)](_0x582c82,_0xf2a070){const _0x4236cf=a0_0x1955e1;if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4236cf(0x60a)][_0x4236cf(0x33b)]+_0x4236cf(0x312)),!_0x582c82||!_0xf2a070)return this['logger'][_0x4236cf(0x2e7)](this[_0x4236cf(0x192)]+'\x20('+this[_0x4236cf(0x60a)][_0x4236cf(0x33b)]+_0x4236cf(0x18d)),null;let _0x5c889f=_0x582c82[_0x4236cf(0x887)][_0x4236cf(0x2ab)][_0x4236cf(0x2a8)]['id'];this[_0x4236cf(0x773)][_0x4236cf(0x2b1)](this[_0x4236cf(0x192)]+'\x20('+this['instance']['wuid']+'):\x20mediaMessageInfoId\x20:\x20'+_0x5c889f);let _0x33a812={'key':{'id':_0x5c889f}},_0x4a9a07=_0xf2a070[_0x4236cf(0x463)];_0x582c82[_0x4236cf(0x887)]['realVariables']['_'+_0x4a9a07+_0x4236cf(0x633)]=null,_0x582c82['chatLog'][_0x4236cf(0x2c5)]['_'+_0x4a9a07+_0x4236cf(0x61b)]=null,_0x582c82['chatLog'][_0x4236cf(0x2c5)]['_'+_0x4a9a07+'.extension']=null,_0x582c82['chatLog'][_0x4236cf(0x2c5)]['_'+_0x4a9a07+'.type']=_0x582c82['chatLog'][_0x4236cf(0x2ab)][_0x4236cf(0x708)];try{let _0x555f47=await this[_0x4236cf(0x7d9)](_0x33a812);this['logger'][_0x4236cf(0x2b1)](this[_0x4236cf(0x192)]+'\x20('+this[_0x4236cf(0x60a)][_0x4236cf(0x33b)]+_0x4236cf(0x6e6)),_0x582c82[_0x4236cf(0x887)]['realVariables']['_'+_0x4a9a07+_0x4236cf(0x629)]=_0x555f47['fileUrl'],_0x582c82[_0x4236cf(0x887)]['realVariables']['_'+_0x4a9a07+_0x4236cf(0x61b)]=_0x555f47['mimetype'];let _0x2e3ad3=_0x555f47[_0x4236cf(0x87a)][_0x4236cf(0x676)](/\/(\w+)$/),_0x4e1187=_0x2e3ad3?_0x2e3ad3[0x1]:null;_0x582c82['chatLog']['realVariables']['_'+_0x4a9a07+_0x4236cf(0x7d8)]=_0x4e1187,this[_0x4236cf(0x773)][_0x4236cf(0x2b1)](this[_0x4236cf(0x192)]+'\x20('+this[_0x4236cf(0x60a)][_0x4236cf(0x33b)]+_0x4236cf(0x811)+_0x4a9a07+'\x27.');}catch(_0x238018){this[_0x4236cf(0x773)]['error'](this[_0x4236cf(0x192)]+'\x20('+this[_0x4236cf(0x60a)]['wuid']+_0x4236cf(0x56f)+_0x238018[_0x4236cf(0x451)]);}let _0x13d315=_0x582c82[_0x4236cf(0x887)][_0x4236cf(0x2ab)]['text']||_0x582c82['chatLog'][_0x4236cf(0x2ab)][_0x4236cf(0x4de)]||_0x582c82[_0x4236cf(0x887)][_0x4236cf(0x2ab)][_0x4236cf(0x789)];try{_0x582c82[_0x4236cf(0x887)][_0x4236cf(0x2c5)]||(_0x582c82['chatLog'][_0x4236cf(0x2c5)]={});let _0x5cffae=_0x582c82[_0x4236cf(0x887)]['realVariables'][_0x4a9a07];_0x582c82[_0x4236cf(0x887)][_0x4236cf(0x2c5)][_0x4a9a07]=_0x13d315;let _0x416b7b={'variable':_0x4a9a07,'oldValue':_0x5cffae,'newValue':_0x13d315};this[_0x4236cf(0x1f8)](_0x582c82,_0xf2a070,_0x416b7b),this[_0x4236cf(0x773)]['verbose'](this[_0x4236cf(0x192)]+'\x20('+this[_0x4236cf(0x60a)]['wuid']+_0x4236cf(0x596));}catch(_0x1920f7){let _0x507d44={'error':!0x0,'errorLog':_0x1920f7[_0x4236cf(0x6c3)]()};return this[_0x4236cf(0x1f8)](_0x582c82,_0xf2a070,_0x507d44),this[_0x4236cf(0x773)][_0x4236cf(0x2e7)](this[_0x4236cf(0x192)]+'\x20('+this[_0x4236cf(0x60a)][_0x4236cf(0x33b)]+_0x4236cf(0x2d4)+(_0x1920f7 instanceof Error?_0x1920f7[_0x4236cf(0x451)]:JSON['stringify'](_0x1920f7,null,0x2))),null;}}async[a0_0x1955e1(0x5c0)](_0x22616c,_0x3d9fe5){const _0x270b8b=a0_0x1955e1;if(this[_0x270b8b(0x773)][_0x270b8b(0x2b1)](this[_0x270b8b(0x192)]+'\x20('+this[_0x270b8b(0x60a)]['wuid']+_0x270b8b(0x66b)),!_0x22616c||!_0x3d9fe5)return this[_0x270b8b(0x773)][_0x270b8b(0x2e7)](this[_0x270b8b(0x192)]+'\x20('+this[_0x270b8b(0x60a)][_0x270b8b(0x33b)]+_0x270b8b(0x18d)),null;let _0x280fed=Date['now'](),_0x23d014=parseInt(_0x3d9fe5[_0x270b8b(0x388)],0xa);if(isNaN(_0x23d014))return this[_0x270b8b(0x773)][_0x270b8b(0x2e7)](this[_0x270b8b(0x192)]+'\x20('+this['instance'][_0x270b8b(0x33b)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x296eb3={'newStoppedUntil':_0x280fed+_0x23d014*0x3c*0x3e8};return await this[_0x270b8b(0x1f8)](_0x22616c,_0x3d9fe5,_0x296eb3,!0x0),null;}async[a0_0x1955e1(0x5f3)](_0x19425d,_0x297b23){const _0x3e7007=a0_0x1955e1;try{switch(_0x297b23[_0x3e7007(0x2f5)][_0x3e7007(0x59a)]){case _0x3e7007(0x672):await this['uazapiSendText'](_0x19425d,_0x297b23);break;case'sendMedia':await this[_0x3e7007(0x5e2)](_0x19425d,_0x297b23);break;case _0x3e7007(0x294):await this['uazapiSendLocation'](_0x19425d,_0x297b23);break;case'sendAudio':await this[_0x3e7007(0x5c1)](_0x19425d,_0x297b23);break;case _0x3e7007(0x1ac):await this[_0x3e7007(0x6c5)](_0x19425d,_0x297b23);break;case _0x3e7007(0x430):await this[_0x3e7007(0x75e)](_0x19425d,_0x297b23);break;case _0x3e7007(0x229):await this[_0x3e7007(0x75e)](_0x19425d,_0x297b23);break;case _0x3e7007(0x306):await this[_0x3e7007(0x490)](_0x19425d,_0x297b23);break;default:this[_0x3e7007(0x773)][_0x3e7007(0x2e7)](this[_0x3e7007(0x192)]+'\x20('+this[_0x3e7007(0x60a)][_0x3e7007(0x33b)]+_0x3e7007(0x262)+_0x297b23[_0x3e7007(0x2f5)][_0x3e7007(0x59a)]);}}catch(_0x5b8b2f){this[_0x3e7007(0x773)][_0x3e7007(0x2e7)](this[_0x3e7007(0x192)]+'\x20('+this[_0x3e7007(0x60a)][_0x3e7007(0x33b)]+_0x3e7007(0x828)+(_0x5b8b2f instanceof Error?_0x5b8b2f['message']:JSON['stringify'](_0x5b8b2f,null,0x2)));}}async[a0_0x1955e1(0x1f8)](_0x3e3ecc,_0x24ae53,_0x410d53,_0x53e21a=!0x1,_0x50f881=!0x1){const _0xb3fe84=a0_0x1955e1;_0x3e3ecc[_0xb3fe84(0x887)][_0xb3fe84(0x1c6)]||(_0x3e3ecc[_0xb3fe84(0x887)][_0xb3fe84(0x1c6)]=[]);let _0x448d29=(_0x3e3ecc['chatLog'][_0xb3fe84(0x1c6)]?.[_0xb3fe84(0x7dc)]??0x0)+0x1,_0x1ee2c2=_0x3e3ecc[_0xb3fe84(0x887)][_0xb3fe84(0x1c6)][_0xb3fe84(0x2c4)](_0xf524f9=>String(_0xf524f9[_0xb3fe84(0x450)])===String(_0x24ae53['_id']))['length']+0x1,_0x247b04=_0x410d53?.[_0xb3fe84(0x1af)]??Date[_0xb3fe84(0x835)](),_0x1ed810=_0x410d53?.[_0xb3fe84(0x2e7)]?_0x410d53[_0xb3fe84(0x655)]??_0x410d53[_0xb3fe84(0x2e7)][_0xb3fe84(0x6c3)]():void 0x0,_0x76fd2a={'onTime':_0x247b04,'blockId':_0x24ae53[_0xb3fe84(0x45a)],'order':_0x448d29,'activatedCount':_0x1ee2c2,'error':_0x410d53?.[_0xb3fe84(0x2e7)]??!0x1,'messageId':_0x410d53?.[_0xb3fe84(0x5f8)],'apiResponse':_0x410d53?.[_0xb3fe84(0x439)],'apiResponseString':_0x410d53?.[_0xb3fe84(0x439)]?JSON['stringify'](_0x410d53?.[_0xb3fe84(0x439)]):void 0x0,'variable':_0x410d53?.['variable'],'oldValue':_0x410d53?.[_0xb3fe84(0x223)],'newValue':_0x410d53?.[_0xb3fe84(0x44d)],'newStoppedUntil':_0x410d53?.[_0xb3fe84(0x4cf)],'moreLogs':_0x410d53?.[_0xb3fe84(0x855)],'errorLog':_0x1ed810};if(_0x410d53[_0xb3fe84(0x855)]&&_0x410d53[_0xb3fe84(0x855)][_0xb3fe84(0x7dc)]>0x0){let _0x1c2e55=_0x410d53[_0xb3fe84(0x855)][_0xb3fe84(0x3e2)](_0xf5f4a9=>this[_0xb3fe84(0x736)](_0xf5f4a9,_0x3e3ecc[_0xb3fe84(0x887)]['realVariables']));_0x76fd2a[_0xb3fe84(0x855)]=_0x1c2e55;}if(_0x3e3ecc[_0xb3fe84(0x887)][_0xb3fe84(0x2c5)]||(_0x3e3ecc['chatLog'][_0xb3fe84(0x2c5)]={}),_0x3e3ecc[_0xb3fe84(0x887)]['realVariables'][_0xb3fe84(0x509)]=String(_0x1ee2c2),_0x3e3ecc[_0xb3fe84(0x887)]['realVariables'][_0xb3fe84(0x457)]=String(_0x410d53[_0xb3fe84(0x2e7)]??!0x1),_0x3e3ecc[_0xb3fe84(0x887)][_0xb3fe84(0x1c6)][_0xb3fe84(0x6c9)](_0x76fd2a),_0x3e3ecc[_0xb3fe84(0x887)][_0xb3fe84(0x2c5)][_0xb3fe84(0x71f)]&&_0x3e3ecc[_0xb3fe84(0x887)][_0xb3fe84(0x2c5)][_0xb3fe84(0x71f)]!==_0x3e3ecc[_0xb3fe84(0x8a0)]){let _0x46cbea=(await this[_0xb3fe84(0x73d)]({'numbers':[_0x3e3ecc[_0xb3fe84(0x887)][_0xb3fe84(0x2c5)][_0xb3fe84(0x71f)]]}))[0x0][_0xb3fe84(0x6b2)];_0x3e3ecc[_0xb3fe84(0x887)][_0xb3fe84(0x2c5)][_0xb3fe84(0x71f)]=_0x46cbea,_0x3e3ecc['remoteJid']=_0x46cbea;try{let _0x1c1c85={'_id':{'$ne':_0x3e3ecc[_0xb3fe84(0x45a)]},'remoteJid':_0x46cbea,'status':_0xb3fe84(0x2ac)},_0x426e1b={'status':_0xb3fe84(0x5cc)};await this['repository'][_0xb3fe84(0x2dc)]['updateMany'](_0x1c1c85,_0x426e1b,this[_0xb3fe84(0x60a)]['wuid']),this[_0xb3fe84(0x773)][_0xb3fe84(0x2b1)](this[_0xb3fe84(0x192)]+'\x20('+this[_0xb3fe84(0x60a)]['wuid']+_0xb3fe84(0x817));}catch(_0x2e2ca3){this[_0xb3fe84(0x773)][_0xb3fe84(0x2e7)](this['instanceName']+'\x20('+this[_0xb3fe84(0x60a)][_0xb3fe84(0x33b)]+_0xb3fe84(0x89a)+_0x2e2ca3[_0xb3fe84(0x451)]);}try{let _0x67173d=_0x3e3ecc[_0xb3fe84(0x887)]['realVariables'],_0x269fda=await this[_0xb3fe84(0x41d)](_0x46cbea),_0x143f0b={..._0x67173d,..._0x269fda,'_remoteJid':_0x46cbea};_0x3e3ecc[_0xb3fe84(0x887)][_0xb3fe84(0x2c5)]=_0x143f0b;}catch(_0x4ea8a4){this['logger'][_0xb3fe84(0x2e7)](this['instanceName']+'\x20('+this['instance'][_0xb3fe84(0x33b)]+_0xb3fe84(0x76b)+_0x4ea8a4[_0xb3fe84(0x451)]);}}_0x3e3ecc['chatLog'][_0xb3fe84(0x521)]=_0x24ae53[_0xb3fe84(0x45a)][_0xb3fe84(0x6c3)](),_0x3e3ecc[_0xb3fe84(0x887)][_0xb3fe84(0x612)]&&(_0x3e3ecc[_0xb3fe84(0x887)][_0xb3fe84(0x612)]=_0x3e3ecc[_0xb3fe84(0x887)]['lastSendMessage']),_0x3e3ecc['chatLog'][_0xb3fe84(0x2ab)]&&(_0x3e3ecc[_0xb3fe84(0x887)][_0xb3fe84(0x2ab)]=_0x3e3ecc['chatLog'][_0xb3fe84(0x2ab)]),_0x3e3ecc[_0xb3fe84(0x887)][_0xb3fe84(0x776)]&&(_0x3e3ecc[_0xb3fe84(0x887)][_0xb3fe84(0x776)]=_0x3e3ecc[_0xb3fe84(0x887)]['lastCondition']),_0x50f881&&(_0x3e3ecc[_0xb3fe84(0x3d9)]=_0xb3fe84(0x5cc)),_0x53e21a?this[_0xb3fe84(0x385)](_0x3e3ecc):this[_0xb3fe84(0x89d)](_0x3e3ecc,_0x24ae53);}['replaceVariablesLogs'](_0x11c3fd,_0xdb7481){const _0x2da478=a0_0x1955e1;return _0x11c3fd[_0x2da478(0x534)](/\{\{([^}]+)\}\}/g,(_0x196e68,_0x6247ce)=>_0xdb7481[_0x6247ce]?'{{'+_0x6247ce+_0x2da478(0x3de)+_0xdb7481[_0x6247ce]+'\x22':'{{'+_0x6247ce+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0x1955e1(0x385)](_0xdcaed6){const _0xdffa1=a0_0x1955e1;try{let _0x4e4e06=Object['entries'](_0xdcaed6[_0xdffa1(0x887)][_0xdffa1(0x2c5)])['map'](([_0xce5ae1,_0x30cead])=>({'name':_0xce5ae1,'value':_0x30cead})),_0x4c105e={'status':_0xdcaed6[_0xdffa1(0x3d9)],'remoteJid':_0xdcaed6[_0xdffa1(0x8a0)],'blocks':_0xdcaed6['blocks'],'waitingMenu_id':_0xdcaed6['waitingMenu_id'],'waitingMenu_text':_0xdcaed6[_0xdffa1(0x80c)],'waitingMenu_replyOptions':_0xdcaed6[_0xdffa1(0x1d0)],'chatLog':{'lastBlockId':_0xdcaed6[_0xdffa1(0x887)][_0xdffa1(0x521)],'lastSendMessage':_0xdcaed6['chatLog'][_0xdffa1(0x612)],'lastReceivedMessage':_0xdcaed6[_0xdffa1(0x887)][_0xdffa1(0x2ab)],'lastCondition':_0xdcaed6[_0xdffa1(0x887)]['lastCondition'],'chatVariables':_0x4e4e06,'realVariables':_0xdcaed6['chatLog'][_0xdffa1(0x2c5)],'blockLogs':_0xdcaed6[_0xdffa1(0x887)]['blockLogs']}},_0x1778bb=await this[_0xdffa1(0x3c7)][_0xdffa1(0x2dc)]['updateOne'](_0xdcaed6['_id'],_0x4c105e,this['instance']['wuid']);if(_0x1778bb){this[_0xdffa1(0x773)]['verbose'](this[_0xdffa1(0x192)]+'\x20('+this[_0xdffa1(0x60a)][_0xdffa1(0x33b)]+_0xdffa1(0x798)+_0x1778bb[_0xdffa1(0x45a)]);try{let _0x50e19b=[_0xdffa1(0x1d8),_0xdffa1(0x60c),_0xdffa1(0x7d0),_0xdffa1(0x472),_0xdffa1(0x3d9),_0xdffa1(0x465),'responsavelid',_0xdffa1(0x535),_0xdffa1(0x3e5),_0xdffa1(0x83b)];if(!this[_0xdffa1(0x4a3)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))throw new Error(_0xdffa1(0x4a9));let _0x3e149c=this['AutomateSystem']?.[_0xdffa1(0x6d6)][_0xdffa1(0x3e2)](_0xbedf6b=>_0xbedf6b[_0xdffa1(0x543)]),_0x45cb45={};Object['entries'](_0xdcaed6[_0xdffa1(0x887)][_0xdffa1(0x2c5)])[_0xdffa1(0x408)](([_0x1b7a1f,_0x4fdef7])=>{const _0x381045=_0xdffa1;_0x50e19b[_0x381045(0x718)](_0x1b7a1f)&&(_0x1b7a1f===_0x381045(0x535)&&typeof _0x4fdef7=='string'?_0x45cb45[_0x1b7a1f]=_0x4fdef7['split'](',')[_0x381045(0x3e2)](_0x5cff5d=>_0x5cff5d[_0x381045(0x4f1)]())[_0x381045(0x2c4)](_0x5bd153=>_0x5bd153!==''):_0x1b7a1f===_0x381045(0x3e5)&&typeof _0x4fdef7=='string'?_0x45cb45[_0x1b7a1f]=_0x4fdef7['split'](',')['map'](_0x15d256=>_0x15d256[_0x381045(0x4f1)]())['filter'](_0xf317aa=>_0xf317aa!==''):_0x45cb45[_0x1b7a1f]=_0x4fdef7);});let _0x537625=_0xdcaed6['chatLog']['blockLogs'][_0xdcaed6['chatLog']['blockLogs']['length']-0x1];if(_0x537625){let _0x34a2b6=_0x537625['newStoppedUntil'];_0x34a2b6!==void 0x0&&(_0x45cb45[_0xdffa1(0x4b4)]=_0x34a2b6[_0xdffa1(0x6c3)]());}let _0xf8407d=_0x4e4e06[_0xdffa1(0x2c4)](_0x58e864=>_0x3e149c[_0xdffa1(0x718)](_0x58e864[_0xdffa1(0x543)]));this[_0xdffa1(0x773)][_0xdffa1(0x2b1)](this[_0xdffa1(0x192)]+'\x20('+this[_0xdffa1(0x60a)][_0xdffa1(0x33b)]+_0xdffa1(0x80f)),this[_0xdffa1(0x773)][_0xdffa1(0x2b1)](_0x45cb45),this[_0xdffa1(0x773)][_0xdffa1(0x2b1)](this[_0xdffa1(0x192)]+'\x20('+this[_0xdffa1(0x60a)][_0xdffa1(0x33b)]+'):\x20customFieldVariables'),this[_0xdffa1(0x773)][_0xdffa1(0x2b1)](_0xf8407d);let _0x422184=_0xf8407d[_0xdffa1(0x3e2)](_0x177ac1=>{const _0x1b6653=_0xdffa1;let _0x243f2c=this['AutomateSystem']?.[_0x1b6653(0x6d6)][_0x1b6653(0x6d3)](_0xc2b77=>_0xc2b77[_0x1b6653(0x543)]===_0x177ac1[_0x1b6653(0x543)]);if(!_0x243f2c)throw new Error(_0x1b6653(0x4be)+_0x177ac1[_0x1b6653(0x543)]);return{'_id':_0x243f2c['_id'],'value':_0x177ac1[_0x1b6653(0x40c)]};});this['logger']['verbose'](this['instanceName']+'\x20('+this[_0xdffa1(0x60a)]['wuid']+_0xdffa1(0x42d)),this[_0xdffa1(0x773)][_0xdffa1(0x2b1)](_0x422184),await this['saveChatVariables'](_0xdcaed6[_0xdffa1(0x8a0)],_0x45cb45,_0x422184);}catch(_0x3cd608){this[_0xdffa1(0x773)][_0xdffa1(0x2e7)](this['instanceName']+'\x20('+this[_0xdffa1(0x60a)][_0xdffa1(0x33b)]+_0xdffa1(0x201)+(_0x3cd608 instanceof Error?_0x3cd608[_0xdffa1(0x451)]:JSON[_0xdffa1(0x36f)](_0x3cd608,null,0x2)));}}else this[_0xdffa1(0x773)][_0xdffa1(0x2e7)](this['instanceName']+'\x20('+this[_0xdffa1(0x60a)][_0xdffa1(0x33b)]+_0xdffa1(0x215));}catch(_0x4173f6){this['logger'][_0xdffa1(0x2e7)](this[_0xdffa1(0x192)]+'\x20('+this[_0xdffa1(0x60a)]['wuid']+_0xdffa1(0x800)+(_0x4173f6 instanceof Error?_0x4173f6[_0xdffa1(0x451)]:JSON[_0xdffa1(0x36f)](_0x4173f6,null,0x2)));}}async[a0_0x1955e1(0x4e2)](_0x50947e,_0x2234c9,_0xba8bc4){const _0x3110e3=a0_0x1955e1;try{let _0x44bdac={'leadInfo.leadnome':_0x2234c9[_0x3110e3(0x1d8)],'leadInfo.nomecompleto':_0x2234c9[_0x3110e3(0x60c)],'leadInfo.email':_0x2234c9[_0x3110e3(0x7d0)],'leadInfo.cpf':_0x2234c9[_0x3110e3(0x472)],'leadInfo.status':_0x2234c9['status'],'leadInfo.notas':_0x2234c9[_0x3110e3(0x465)],'leadInfo.responsavelid':_0x2234c9[_0x3110e3(0x3f0)],'leadInfo.tags':_0x2234c9[_0x3110e3(0x535)],'leadInfo.etiquetas':_0x2234c9[_0x3110e3(0x3e5)],'leadInfo.customFields':_0xba8bc4,'leadInfo.atendimentoAberto':_0x2234c9[_0x3110e3(0x83b)]},_0x3b6a39=await this['repository'][_0x3110e3(0x326)][_0x3110e3(0x309)]({'where':{'_id':_0x50947e}},this[_0x3110e3(0x60a)]['wuid']);if(!_0x3b6a39)return _0x3110e3(0x55d);let _0x4f12be=new Set(_0x3b6a39[_0x3110e3(0x4a1)]['etiquetas']||[]),_0x1b5c64=new Set(_0x2234c9[_0x3110e3(0x3e5)]||[]),_0x452aad=await this['repository']['label']['find']({'where':{}},this[_0x3110e3(0x60a)]['wuid']),_0x3a5f5f=new Set(_0x452aad['map'](_0x153246=>_0x153246[_0x3110e3(0x45a)])),_0x560509=[..._0x1b5c64]['filter'](_0xde6d27=>!_0x4f12be['has'](_0xde6d27)&&_0x3a5f5f[_0x3110e3(0x8bb)](_0xde6d27)),_0x53b4b2=[..._0x4f12be][_0x3110e3(0x2c4)](_0xe0d7ce=>!_0x1b5c64[_0x3110e3(0x8bb)](_0xe0d7ce));for(let _0x47cde6 of _0x560509)await this['AddChatLabel'](_0x47cde6,_0x3b6a39[_0x3110e3(0x45a)]),_0x4f12be[_0x3110e3(0x5c7)](_0x47cde6);for(let _0x3094cd of _0x53b4b2)await this['RemoveChatLabel'](_0x3094cd,_0x3b6a39['_id']),_0x4f12be[_0x3110e3(0x544)](_0x3094cd);if(_0x3110e3(0x4b4)in _0x2234c9){let _0x5dcda7=_0x2234c9[_0x3110e3(0x4b4)];_0x44bdac[_0x3110e3(0x429)]=_0x5dcda7?Number(_0x5dcda7):null;}if(_0x3110e3(0x83b)in _0x2234c9){let _0x38be66=_0x2234c9[_0x3110e3(0x83b)][_0x3110e3(0x39d)]();_0x44bdac[_0x3110e3(0x18b)]=_0x38be66===_0x3110e3(0x877)||_0x38be66==='1'||_0x38be66===_0x3110e3(0x4dd)||_0x38be66==='sim';}let _0x4e2f9f=await this[_0x3110e3(0x3c7)][_0x3110e3(0x326)][_0x3110e3(0x400)]({'where':{'_id':_0x50947e}},_0x44bdac,this[_0x3110e3(0x60a)][_0x3110e3(0x33b)]);_0x4e2f9f?(this[_0x3110e3(0x773)][_0x3110e3(0x2b1)](this[_0x3110e3(0x192)]+'\x20('+this[_0x3110e3(0x60a)][_0x3110e3(0x33b)]+_0x3110e3(0x8c8)+_0x4e2f9f[_0x3110e3(0x45a)]),j(this['instanceName'],_0x3110e3(0x8bf),{'chat':_0x4e2f9f})):this[_0x3110e3(0x773)][_0x3110e3(0x2e7)](this['instanceName']+'\x20('+this[_0x3110e3(0x60a)]['wuid']+_0x3110e3(0x553));}catch(_0xb9c11f){this[_0x3110e3(0x773)]['error'](this['instanceName']+'\x20('+this[_0x3110e3(0x60a)][_0x3110e3(0x33b)]+_0x3110e3(0x53e)+(_0xb9c11f instanceof Error?_0xb9c11f[_0x3110e3(0x451)]:JSON[_0x3110e3(0x36f)](_0xb9c11f,null,0x2)));}}async[a0_0x1955e1(0x702)](_0x427fe2,_0x52e2bd){const _0x2578f1=a0_0x1955e1;this[_0x2578f1(0x773)][_0x2578f1(0x2b1)](this[_0x2578f1(0x192)]+'\x20('+this['instance']['wuid']+_0x2578f1(0x517)+_0x52e2bd);try{let _0x94301d=await this[_0x2578f1(0x3c7)][_0x2578f1(0x326)][_0x2578f1(0x400)]({'where':{'_id':_0x427fe2[_0x2578f1(0x8a0)]}},{'leadInfo.desativadoFluxoAte':_0x52e2bd},this['instance'][_0x2578f1(0x33b)]);this[_0x2578f1(0x773)][_0x2578f1(0x2b1)](this[_0x2578f1(0x192)]+'\x20('+this[_0x2578f1(0x60a)][_0x2578f1(0x33b)]+_0x2578f1(0x52f)+_0x427fe2[_0x2578f1(0x45a)]),this[_0x2578f1(0x773)][_0x2578f1(0x2b1)](this[_0x2578f1(0x192)]+'\x20('+this[_0x2578f1(0x60a)][_0x2578f1(0x33b)]+_0x2578f1(0x517)+JSON[_0x2578f1(0x36f)](_0x94301d,null,0x2)),_0x94301d&&j(this[_0x2578f1(0x192)],_0x2578f1(0x8bf),{'chat':_0x94301d});}catch(_0x37f595){this['logger'][_0x2578f1(0x2e7)](this[_0x2578f1(0x192)]+'\x20('+this['instance'][_0x2578f1(0x33b)]+_0x2578f1(0x1a2)+(_0x37f595 instanceof Error?_0x37f595['message']:JSON[_0x2578f1(0x36f)](_0x37f595,null,0x2)));}}async[a0_0x1955e1(0x437)](_0x52d9fd){const _0x2c3db4=a0_0x1955e1;try{this['logger']['verbose'](this[_0x2c3db4(0x192)]+'\x20('+this[_0x2c3db4(0x60a)][_0x2c3db4(0x33b)]+_0x2c3db4(0x382));let _0x1dcc28=_0x52d9fd[_0x2c3db4(0x534)](/\D/g,''),_0x1a8ce3=this['AutomateSystem']['flows'][_0x2c3db4(0x6d3)](_0x5b8e0e=>_0x5b8e0e[_0x2c3db4(0x716)]===_0x1dcc28);if(_0x1a8ce3||(this[_0x2c3db4(0x773)][_0x2c3db4(0x2b1)](this[_0x2c3db4(0x192)]+'\x20('+this[_0x2c3db4(0x60a)][_0x2c3db4(0x33b)]+_0x2c3db4(0x40b)),_0x1a8ce3=this[_0x2c3db4(0x4a3)][_0x2c3db4(0x1fe)][_0x2c3db4(0x6d3)](_0x5afd57=>_0x5afd57[_0x2c3db4(0x36d)]===!0x0)),!_0x1a8ce3)return this[_0x2c3db4(0x773)][_0x2c3db4(0x2b1)](this[_0x2c3db4(0x192)]+'\x20('+this[_0x2c3db4(0x60a)][_0x2c3db4(0x33b)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null;let _0x5a915e=await this[_0x2c3db4(0x3c7)]['flow'][_0x2c3db4(0x309)]({'where':{'_id':_0x1a8ce3[_0x2c3db4(0x45a)]}});if(!_0x5a915e||!_0x5a915e[_0x2c3db4(0x4fe)]?.[_0x2c3db4(0x718)](this[_0x2c3db4(0x60a)]['wuid']))throw this[_0x2c3db4(0x773)][_0x2c3db4(0x2e7)](this[_0x2c3db4(0x192)]+'\x20('+this[_0x2c3db4(0x60a)][_0x2c3db4(0x33b)]+_0x2c3db4(0x2c1)+_0x5a915e['_id']+_0x2c3db4(0x77f)),new m(_0x2c3db4(0x3a1)+_0x5a915e[_0x2c3db4(0x45a)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');return _0x5a915e;}catch(_0x482a8f){return this[_0x2c3db4(0x773)][_0x2c3db4(0x2e7)](this['instanceName']+'\x20('+this[_0x2c3db4(0x60a)][_0x2c3db4(0x33b)]+_0x2c3db4(0x1b2)+(_0x482a8f instanceof Error?_0x482a8f[_0x2c3db4(0x451)]:JSON[_0x2c3db4(0x36f)](_0x482a8f,null,0x2))),null;}}async[a0_0x1955e1(0x323)](_0x4ac08b,_0x451093){const _0x206643=a0_0x1955e1;try{let _0x117fac=!!_0x451093[_0x206643(0x789)],_0x55e7a8=_0x451093['quoted'],_0x380602=null;if(this[_0x206643(0x773)]['verbose'](this[_0x206643(0x192)]+'\x20('+this[_0x206643(0x60a)]['wuid']+_0x206643(0x380)+_0x117fac+'\x20quoted:\x20'+_0x55e7a8),_0x117fac){this[_0x206643(0x773)][_0x206643(0x2b1)](this[_0x206643(0x192)]+'\x20('+this['instance'][_0x206643(0x33b)]+_0x206643(0x46f));let _0x4710ef={'where':{'remoteJid':_0x4ac08b,'waitingMenu_id':_0x55e7a8}};if(_0x380602=await this[_0x206643(0x3c7)][_0x206643(0x2dc)][_0x206643(0x309)](_0x4710ef,this[_0x206643(0x60a)]['wuid']),!_0x380602)return this[_0x206643(0x773)][_0x206643(0x2b1)](this['instanceName']+'\x20('+this[_0x206643(0x60a)]['wuid']+_0x206643(0x7fa)),null;let _0x4cd630=Date[_0x206643(0x835)](),_0x2d7f7d=_0x380602?.[_0x206643(0x5de)]||0x0,_0x3b5ec1=_0x4cd630-_0x2d7f7d*0x3c*0x3e8;if(_0x380602[_0x206643(0x278)]<_0x3b5ec1){this[_0x206643(0x773)][_0x206643(0x2b1)](this['instanceName']+'\x20('+this[_0x206643(0x60a)][_0x206643(0x33b)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x5231a6={'number':_0x380602[_0x206643(0x8a0)],'options':{'delay':0x0},'textMessage':{'text':_0x380602[_0x206643(0x71a)]}};await this[_0x206643(0x2ed)](_0x5231a6);let _0x5a43ed={'status':_0x206643(0x5cc),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x206643(0x3c7)][_0x206643(0x2dc)][_0x206643(0x400)](_0x380602[_0x206643(0x45a)],_0x5a43ed,this[_0x206643(0x60a)]['wuid']),null;}return _0x380602[_0x206643(0x278)]=Date[_0x206643(0x835)](),_0x380602['chatLog'][_0x206643(0x2ab)]=_0x451093,_0x380602;}else{this[_0x206643(0x773)][_0x206643(0x2b1)](this['instanceName']+'\x20('+this[_0x206643(0x60a)][_0x206643(0x33b)]+_0x206643(0x6cd)+this[_0x206643(0x60a)][_0x206643(0x33b)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x206643(0x773)][_0x206643(0x2b1)](this[_0x206643(0x192)]+'\x20('+this['instance'][_0x206643(0x33b)]+_0x206643(0x1f5));let _0xdb82f5={'where':{'remoteJid':_0x4ac08b,'status':_0x206643(0x2ac)}};if(_0x380602=await this['repository'][_0x206643(0x2dc)][_0x206643(0x309)](_0xdb82f5,this[_0x206643(0x60a)]['wuid']),!_0x380602){let _0x45e0f6=await this[_0x206643(0x437)](_0x4ac08b);if(_0x45e0f6&&(_0x380602=await this[_0x206643(0x579)](_0x45e0f6,_0x451093['key'],_0x451093)),!_0x380602)return null;}let _0x4fd179=Date[_0x206643(0x835)](),_0x26a1d0=_0x380602?.[_0x206643(0x5de)]||0x0,_0x569c9c=_0x4fd179-_0x26a1d0*0x3c*0x3e8;if(this[_0x206643(0x773)][_0x206643(0x2b1)](this[_0x206643(0x192)]+'\x20('+this[_0x206643(0x60a)]['wuid']+_0x206643(0x2f1)+_0x4fd179+_0x206643(0x818)+_0x26a1d0+_0x206643(0x38e)+_0x569c9c),this['logger'][_0x206643(0x2b1)](this[_0x206643(0x192)]+'\x20('+this[_0x206643(0x60a)][_0x206643(0x33b)]+_0x206643(0x5f0)),this[_0x206643(0x773)]['verbose'](this['instanceName']+'\x20('+this[_0x206643(0x60a)]['wuid']+_0x206643(0x261)+_0x380602[_0x206643(0x278)]),this[_0x206643(0x773)]['verbose'](this['instanceName']+'\x20('+this[_0x206643(0x60a)][_0x206643(0x33b)]+_0x206643(0x81c)+_0x569c9c),_0x380602[_0x206643(0x278)]<_0x569c9c){this['logger'][_0x206643(0x2b1)](this[_0x206643(0x192)]+'\x20('+this['instance'][_0x206643(0x33b)]+_0x206643(0x898));let _0x3ec6ea=await this[_0x206643(0x437)](_0x4ac08b);if(_0x3ec6ea===null)return null;_0x380602&&await this[_0x206643(0x3c7)][_0x206643(0x2dc)][_0x206643(0x400)](_0x380602[_0x206643(0x45a)],{'status':'closed'},this[_0x206643(0x60a)][_0x206643(0x33b)]),_0x380602=await this[_0x206643(0x579)](_0x3ec6ea,_0x451093[_0x206643(0x2a8)],_0x451093);}return _0x380602['lastInteraction']=_0x4fd179,_0x380602[_0x206643(0x887)][_0x206643(0x2ab)]=_0x451093,_0x380602;}}catch(_0x197332){return this['logger'][_0x206643(0x2e7)](this[_0x206643(0x192)]+'\x20('+this['instance'][_0x206643(0x33b)]+_0x206643(0x284)+(_0x197332 instanceof Error?_0x197332[_0x206643(0x451)]:JSON[_0x206643(0x36f)](_0x197332,null,0x2))),null;}}async[a0_0x1955e1(0x579)](_0x4a6a3f,_0x306d8e,_0x1a502c){const _0x1d7c6e=a0_0x1955e1;this[_0x1d7c6e(0x773)]['verbose'](this[_0x1d7c6e(0x192)]+'\x20('+this[_0x1d7c6e(0x60a)][_0x1d7c6e(0x33b)]+_0x1d7c6e(0x733));try{let _0x23ebc5=require(_0x1d7c6e(0x608))[_0x1d7c6e(0x692)],_0x386167=Date[_0x1d7c6e(0x835)](),_0x553af0='start',_0x43e1cf=_0x306d8e[_0x1d7c6e(0x785)]?null:_0x1a502c,_0x3303a0=_0x306d8e[_0x1d7c6e(0x785)]?_0x1a502c:null,_0x321373=_0x306d8e['remoteJid'],_0x23d062=this['AutomateSystem'][_0x1d7c6e(0x1fe)][_0x1d7c6e(0x6d3)](_0x64a084=>_0x64a084[_0x1d7c6e(0x45a)]===_0x4a6a3f['_id']?.[_0x1d7c6e(0x6c3)]()),_0x5eca2f=_0x23d062?.['minutesToClose']??_0x4a6a3f[_0x1d7c6e(0x5de)]??0x0,_0x53984f=_0x23d062?.[_0x1d7c6e(0x47f)]??_0x4a6a3f['readMessages']??!0x1;await this[_0x1d7c6e(0x8c3)](_0x321373);let _0x35515d={'flowId':_0x4a6a3f['_id'],..._0x4a6a3f,'chatLog':null},_0x2ed585=await this[_0x1d7c6e(0x516)](_0x35515d['variables']),_0x147b4d=await this['getVariablesChat'](_0x321373),_0x316cb8={..._0x2ed585,..._0x147b4d,'_remoteJid':_0x321373},_0x4d2c5e={'lastReceivedMessage':_0x43e1cf,'lastSendMessage':_0x3303a0,'lastBlockId':_0x553af0,'lastCondition':!0x0,'realVariables':_0x316cb8};_0x35515d[_0x1d7c6e(0x887)]=_0x4d2c5e,delete _0x35515d[_0x1d7c6e(0x45a)],_0x35515d[_0x1d7c6e(0x45a)]=new _0x23ebc5(),_0x35515d[_0x1d7c6e(0x278)]=_0x386167,_0x35515d[_0x1d7c6e(0x3d9)]=_0x1d7c6e(0x2ac),_0x35515d[_0x1d7c6e(0x8a0)]=_0x321373,_0x35515d[_0x1d7c6e(0x5de)]=_0x5eca2f,_0x35515d[_0x1d7c6e(0x47f)]=_0x53984f;let _0xcc6513=await this[_0x1d7c6e(0x3c7)][_0x1d7c6e(0x2dc)][_0x1d7c6e(0x400)](_0x35515d['_id'],_0x35515d,this['instance'][_0x1d7c6e(0x33b)]);return this[_0x1d7c6e(0x773)]['verbose'](this[_0x1d7c6e(0x192)]+'\x20('+this[_0x1d7c6e(0x60a)][_0x1d7c6e(0x33b)]+_0x1d7c6e(0x6cb)),_0xcc6513?_0x35515d:null;}catch(_0x342ba6){return this[_0x1d7c6e(0x773)][_0x1d7c6e(0x2e7)](this[_0x1d7c6e(0x192)]+'\x20('+this[_0x1d7c6e(0x60a)][_0x1d7c6e(0x33b)]+_0x1d7c6e(0x528)+(_0x342ba6 instanceof Error?_0x342ba6[_0x1d7c6e(0x451)]:JSON[_0x1d7c6e(0x36f)](_0x342ba6,null,0x2))),_0x342ba6;}}async['uazapiSendText'](_0xd32b68,_0x1d04c3){const _0x2dc2a8=a0_0x1955e1;let _0x456af9=_0xd32b68[_0x2dc2a8(0x8a0)];_0x1d04c3[_0x2dc2a8(0x2f5)][_0x2dc2a8(0x8a0)]&&_0x1d04c3[_0x2dc2a8(0x2f5)][_0x2dc2a8(0x8a0)]['trim']()!==''&&(_0x456af9=_0x1d04c3['uazapi'][_0x2dc2a8(0x8a0)][_0x2dc2a8(0x4f1)]()),this[_0x2dc2a8(0x773)][_0x2dc2a8(0x2b1)](this['instanceName']+'\x20('+this[_0x2dc2a8(0x60a)][_0x2dc2a8(0x33b)]+_0x2dc2a8(0x532));let _0x2b4ec9={'number':_0x456af9,'options':{'delay':_0x1d04c3[_0x2dc2a8(0x2f5)]['delay'],'linkPreview':_0x1d04c3[_0x2dc2a8(0x2f5)][_0x2dc2a8(0x77a)]},'textMessage':{'text':_0x1d04c3[_0x2dc2a8(0x2f5)][_0x2dc2a8(0x814)]}};try{let _0xaeb0=await this[_0x2dc2a8(0x2ed)](_0x2b4ec9);if(_0xaeb0){let _0x28ad52={'_id':_0xaeb0['key']['id'],'_fromMe':_0xaeb0[_0x2dc2a8(0x2a8)][_0x2dc2a8(0x785)],'_remoteJid':_0xaeb0[_0x2dc2a8(0x2a8)]['remoteJid']},_0x3d52f2=(0x0,w[_0x2dc2a8(0x45b)])(_0xaeb0[_0x2dc2a8(0x451)]),_0x25c6ab=(0x0,w[_0x2dc2a8(0x417)])(_0x3d52f2);_0xd32b68[_0x2dc2a8(0x887)][_0x2dc2a8(0x521)]=_0x1d04c3[_0x2dc2a8(0x45a)]['toString']();let {message_normalized:_0x14421e}=this['normalizeMessage'](_0x3d52f2,_0x25c6ab,null);_0xd32b68[_0x2dc2a8(0x887)][_0x2dc2a8(0x612)]=await _0x14421e;let _0x54d722={'messageId':_0xaeb0[_0x2dc2a8(0x2a8)]['id']},_0x935946=_0xd32b68[_0x2dc2a8(0x887)][_0x2dc2a8(0x2c5)];Object[_0x2dc2a8(0x6af)](_0x935946,_0x28ad52),_0xd32b68['chatLog'][_0x2dc2a8(0x2c5)]=_0x935946,this[_0x2dc2a8(0x1f8)](_0xd32b68,_0x1d04c3,_0x54d722);}else{let _0x53beac={'error':!0x0};this['updateConversation'](_0xd32b68,_0x1d04c3,_0x53beac),this[_0x2dc2a8(0x773)]['error'](this[_0x2dc2a8(0x192)]+'\x20('+this[_0x2dc2a8(0x60a)][_0x2dc2a8(0x33b)]+_0x2dc2a8(0x6f5));}}catch(_0x3fd6b4){let _0x5c2f1d={'error':!0x0,'errorLog':_0x3fd6b4['toString']()};this[_0x2dc2a8(0x1f8)](_0xd32b68,_0x1d04c3,_0x5c2f1d),this[_0x2dc2a8(0x773)][_0x2dc2a8(0x2e7)](this[_0x2dc2a8(0x192)]+'\x20('+this[_0x2dc2a8(0x60a)]['wuid']+_0x2dc2a8(0x69c)+(_0x3fd6b4 instanceof Error?_0x3fd6b4[_0x2dc2a8(0x451)]:JSON[_0x2dc2a8(0x36f)](_0x3fd6b4,null,0x2)));}}async[a0_0x1955e1(0x5e2)](_0x4c77af,_0x41f8e7){const _0x3dc447=a0_0x1955e1;let _0x3c1d9b=_0x4c77af['remoteJid'];_0x41f8e7[_0x3dc447(0x2f5)]['remoteJid']&&_0x41f8e7[_0x3dc447(0x2f5)][_0x3dc447(0x8a0)][_0x3dc447(0x4f1)]()!==''&&(_0x3c1d9b=_0x41f8e7[_0x3dc447(0x2f5)][_0x3dc447(0x8a0)][_0x3dc447(0x4f1)]()),this['logger']['verbose'](this[_0x3dc447(0x192)]+'\x20('+this[_0x3dc447(0x60a)]['wuid']+_0x3dc447(0x68a));let _0x4d923f={'number':_0x3c1d9b,'options':{'delay':_0x41f8e7['uazapi'][_0x3dc447(0x858)],'linkPreview':_0x41f8e7[_0x3dc447(0x2f5)][_0x3dc447(0x77a)]},'mediaMessage':{'mediatype':_0x41f8e7[_0x3dc447(0x2f5)][_0x3dc447(0x37c)],'caption':_0x41f8e7[_0x3dc447(0x2f5)][_0x3dc447(0x4de)],'media':_0x41f8e7['uazapi']['media'],'fileName':_0x41f8e7[_0x3dc447(0x2f5)][_0x3dc447(0x4b6)]}};try{let _0x165236=await this['mediaMessage'](_0x4d923f);if(_0x165236){let _0x1a679d={'_id':_0x165236[_0x3dc447(0x2a8)]['id'],'_fromMe':_0x165236[_0x3dc447(0x2a8)]['fromMe'],'_remoteJid':_0x165236[_0x3dc447(0x2a8)][_0x3dc447(0x8a0)]},_0x1e3f50=(0x0,w['normalizeMessageContent'])(_0x165236[_0x3dc447(0x451)]),_0x1e29ee=(0x0,w[_0x3dc447(0x417)])(_0x1e3f50);_0x4c77af[_0x3dc447(0x887)][_0x3dc447(0x521)]=_0x41f8e7[_0x3dc447(0x45a)][_0x3dc447(0x6c3)]();let {message_normalized:_0x31068f}=this[_0x3dc447(0x727)](_0x1e3f50,_0x1e29ee,null);_0x4c77af['chatLog']['lastSendMessage']=await _0x31068f;let _0x38f3d2={'messageId':_0x165236[_0x3dc447(0x2a8)]['id']},_0x402adb=_0x4c77af[_0x3dc447(0x887)][_0x3dc447(0x2c5)];Object[_0x3dc447(0x6af)](_0x402adb,_0x1a679d),_0x4c77af[_0x3dc447(0x887)][_0x3dc447(0x2c5)]=_0x402adb,this[_0x3dc447(0x1f8)](_0x4c77af,_0x41f8e7,_0x38f3d2);}else{let _0x46f58a={'error':!0x0};this['updateConversation'](_0x4c77af,_0x41f8e7,_0x46f58a),this[_0x3dc447(0x773)][_0x3dc447(0x2e7)](this['instanceName']+'\x20('+this[_0x3dc447(0x60a)][_0x3dc447(0x33b)]+_0x3dc447(0x6c8));}}catch(_0x4a9345){let _0x56ec10={'error':!0x0,'errorLog':_0x4a9345[_0x3dc447(0x6c3)]()};this['updateConversation'](_0x4c77af,_0x41f8e7,_0x56ec10),this[_0x3dc447(0x773)][_0x3dc447(0x2e7)](this[_0x3dc447(0x192)]+'\x20('+this[_0x3dc447(0x60a)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x4a9345 instanceof Error?_0x4a9345['message']:JSON[_0x3dc447(0x36f)](_0x4a9345,null,0x2)));}}async[a0_0x1955e1(0x62d)](_0x565a73,_0x456be3){const _0x2f8088=a0_0x1955e1;let _0x160fa8=_0x565a73[_0x2f8088(0x8a0)];_0x456be3[_0x2f8088(0x2f5)][_0x2f8088(0x8a0)]&&_0x456be3[_0x2f8088(0x2f5)][_0x2f8088(0x8a0)][_0x2f8088(0x4f1)]()!==''&&(_0x160fa8=_0x456be3[_0x2f8088(0x2f5)][_0x2f8088(0x8a0)][_0x2f8088(0x4f1)]()),this['logger'][_0x2f8088(0x2b1)](this[_0x2f8088(0x192)]+'\x20('+this[_0x2f8088(0x60a)][_0x2f8088(0x33b)]+_0x2f8088(0x6e7));let _0x9572a9={'number':_0x160fa8,'options':{'delay':_0x456be3[_0x2f8088(0x2f5)]['delay']},'locationMessage':{'name':_0x456be3[_0x2f8088(0x2f5)][_0x2f8088(0x543)],'address':_0x456be3[_0x2f8088(0x2f5)][_0x2f8088(0x45c)],'latitude':_0x456be3[_0x2f8088(0x2f5)][_0x2f8088(0x217)],'longitude':_0x456be3[_0x2f8088(0x2f5)][_0x2f8088(0x3ac)]}};try{let _0x5da402=await this['locationMessage'](_0x9572a9);if(_0x5da402){let _0x42798f={'_id':_0x5da402['key']['id'],'_fromMe':_0x5da402[_0x2f8088(0x2a8)][_0x2f8088(0x785)],'_remoteJid':_0x5da402[_0x2f8088(0x2a8)][_0x2f8088(0x8a0)]},_0x1cd5b4=(0x0,w[_0x2f8088(0x45b)])(_0x5da402['message']),_0x40a2bf=(0x0,w[_0x2f8088(0x417)])(_0x1cd5b4);_0x565a73['chatLog'][_0x2f8088(0x521)]=_0x456be3['_id']['toString']();let {message_normalized:_0x46acac}=this[_0x2f8088(0x727)](_0x1cd5b4,_0x40a2bf,null);_0x565a73['chatLog'][_0x2f8088(0x612)]=await _0x46acac;let _0x273a29={'messageId':_0x5da402[_0x2f8088(0x2a8)]['id']},_0x2e4aa5=_0x565a73[_0x2f8088(0x887)][_0x2f8088(0x2c5)];Object[_0x2f8088(0x6af)](_0x2e4aa5,_0x42798f),_0x565a73[_0x2f8088(0x887)]['realVariables']=_0x2e4aa5,this[_0x2f8088(0x1f8)](_0x565a73,_0x456be3,_0x273a29);}else{let _0x1a9a0d={'error':!0x0};this[_0x2f8088(0x1f8)](_0x565a73,_0x456be3,_0x1a9a0d),this[_0x2f8088(0x773)]['error'](this[_0x2f8088(0x192)]+'\x20('+this['instance'][_0x2f8088(0x33b)]+_0x2f8088(0x243));}}catch(_0x4c37fd){let _0x1ae844={'error':!0x0,'errorLog':_0x4c37fd[_0x2f8088(0x6c3)]()};this['updateConversation'](_0x565a73,_0x456be3,_0x1ae844),this['logger'][_0x2f8088(0x2e7)](this[_0x2f8088(0x192)]+'\x20('+this[_0x2f8088(0x60a)][_0x2f8088(0x33b)]+_0x2f8088(0x56c)+(_0x4c37fd instanceof Error?_0x4c37fd[_0x2f8088(0x451)]:JSON[_0x2f8088(0x36f)](_0x4c37fd,null,0x2)));}}async[a0_0x1955e1(0x5c1)](_0x555d2e,_0x17566f){const _0x2bdce4=a0_0x1955e1;let _0x312286=_0x555d2e[_0x2bdce4(0x8a0)];_0x17566f[_0x2bdce4(0x2f5)][_0x2bdce4(0x8a0)]&&_0x17566f[_0x2bdce4(0x2f5)]['remoteJid'][_0x2bdce4(0x4f1)]()!==''&&(_0x312286=_0x17566f[_0x2bdce4(0x2f5)][_0x2bdce4(0x8a0)][_0x2bdce4(0x4f1)]()),this[_0x2bdce4(0x773)][_0x2bdce4(0x2b1)](this[_0x2bdce4(0x192)]+'\x20('+this['instance']['wuid']+_0x2bdce4(0x698));let _0x590a58={'number':_0x312286,'options':{'delay':_0x17566f['uazapi'][_0x2bdce4(0x858)]},'audioMessage':{'audio':_0x17566f[_0x2bdce4(0x2f5)]['audio']}};try{let _0x8e312b=await this[_0x2bdce4(0x3c9)](_0x590a58);if(_0x8e312b){let _0x32dc8b={'_id':_0x8e312b['key']['id'],'_fromMe':_0x8e312b['key'][_0x2bdce4(0x785)],'_remoteJid':_0x8e312b[_0x2bdce4(0x2a8)][_0x2bdce4(0x8a0)]},_0x401e9e=(0x0,w[_0x2bdce4(0x45b)])(_0x8e312b[_0x2bdce4(0x451)]),_0x1b2076=(0x0,w[_0x2bdce4(0x417)])(_0x401e9e);_0x555d2e[_0x2bdce4(0x887)][_0x2bdce4(0x521)]=_0x17566f[_0x2bdce4(0x45a)][_0x2bdce4(0x6c3)]();let {message_normalized:_0x5b5dc8}=this[_0x2bdce4(0x727)](_0x401e9e,_0x1b2076,null);_0x555d2e[_0x2bdce4(0x887)]['lastSendMessage']=await _0x5b5dc8;let _0xa21da7={'messageId':_0x8e312b[_0x2bdce4(0x2a8)]['id']},_0x2b27ba=_0x555d2e[_0x2bdce4(0x887)][_0x2bdce4(0x2c5)];Object[_0x2bdce4(0x6af)](_0x2b27ba,_0x32dc8b),_0x555d2e[_0x2bdce4(0x887)][_0x2bdce4(0x2c5)]=_0x2b27ba,this[_0x2bdce4(0x1f8)](_0x555d2e,_0x17566f,_0xa21da7);}else{let _0x345b02={'error':!0x0};this[_0x2bdce4(0x1f8)](_0x555d2e,_0x17566f,_0x345b02),this['logger']['error'](this[_0x2bdce4(0x192)]+'\x20('+this[_0x2bdce4(0x60a)][_0x2bdce4(0x33b)]+_0x2bdce4(0x20e));}}catch(_0x232c22){let _0x3446d8={'error':!0x0,'errorLog':_0x232c22['toString']()};this[_0x2bdce4(0x1f8)](_0x555d2e,_0x17566f,_0x3446d8),this['logger'][_0x2bdce4(0x2e7)](this['instanceName']+'\x20('+this[_0x2bdce4(0x60a)][_0x2bdce4(0x33b)]+_0x2bdce4(0x442)+(_0x232c22 instanceof Error?_0x232c22[_0x2bdce4(0x451)]:JSON[_0x2bdce4(0x36f)](_0x232c22,null,0x2)));}}async['uazapiSendContact'](_0x56aa43,_0x17404c){const _0x4d0299=a0_0x1955e1;let _0x2c2b13=_0x56aa43[_0x4d0299(0x8a0)];_0x17404c['uazapi'][_0x4d0299(0x8a0)]&&_0x17404c[_0x4d0299(0x2f5)][_0x4d0299(0x8a0)][_0x4d0299(0x4f1)]()!==''&&(_0x2c2b13=_0x17404c['uazapi'][_0x4d0299(0x8a0)][_0x4d0299(0x4f1)]()),this[_0x4d0299(0x773)][_0x4d0299(0x2b1)](this[_0x4d0299(0x192)]+'\x20('+this[_0x4d0299(0x60a)][_0x4d0299(0x33b)]+_0x4d0299(0x884));let _0x56ba94={'number':_0x2c2b13,'options':{'delay':_0x17404c[_0x4d0299(0x2f5)]['delay']},'contactMessage':[{'fullName':_0x17404c['uazapi'][_0x4d0299(0x896)],'phoneNumber':_0x17404c['uazapi'][_0x4d0299(0x6c1)]}]};try{let _0x495c9a=await this[_0x4d0299(0x330)](_0x56ba94);if(_0x495c9a){let _0x238314={'_id':_0x495c9a['key']['id'],'_fromMe':_0x495c9a[_0x4d0299(0x2a8)][_0x4d0299(0x785)],'_remoteJid':_0x495c9a['key']['remoteJid']},_0x511fc7=(0x0,w['normalizeMessageContent'])(_0x495c9a[_0x4d0299(0x451)]),_0x47f608=(0x0,w[_0x4d0299(0x417)])(_0x511fc7);_0x56aa43['chatLog'][_0x4d0299(0x521)]=_0x17404c[_0x4d0299(0x45a)][_0x4d0299(0x6c3)]();let {message_normalized:_0x4ed8a3}=this[_0x4d0299(0x727)](_0x511fc7,_0x47f608,null);_0x56aa43['chatLog']['lastSendMessage']=await _0x4ed8a3;let _0xf59226={'messageId':_0x495c9a[_0x4d0299(0x2a8)]['id']},_0x250835=_0x56aa43[_0x4d0299(0x887)][_0x4d0299(0x2c5)];Object[_0x4d0299(0x6af)](_0x250835,_0x238314),_0x56aa43[_0x4d0299(0x887)][_0x4d0299(0x2c5)]=_0x250835,this[_0x4d0299(0x1f8)](_0x56aa43,_0x17404c,_0xf59226);}else{let _0x56e5ba={'error':!0x0};this[_0x4d0299(0x1f8)](_0x56aa43,_0x17404c,_0x56e5ba),this[_0x4d0299(0x773)][_0x4d0299(0x2e7)](this[_0x4d0299(0x192)]+'\x20('+this[_0x4d0299(0x60a)][_0x4d0299(0x33b)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x2e5c66){let _0x497ae6={'error':!0x0,'errorLog':_0x2e5c66[_0x4d0299(0x6c3)]()};this['updateConversation'](_0x56aa43,_0x17404c,_0x497ae6),this['logger'][_0x4d0299(0x2e7)](this[_0x4d0299(0x192)]+'\x20('+this['instance'][_0x4d0299(0x33b)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x2e5c66 instanceof Error?_0x2e5c66[_0x4d0299(0x451)]:JSON['stringify'](_0x2e5c66,null,0x2)));}}[a0_0x1955e1(0x4f6)](_0x47efe7,_0x4076d1){const _0x5bc1ef=a0_0x1955e1;for(let _0x38504b of _0x47efe7)_0x38504b[_0x5bc1ef(0x6c7)]&&(_0x38504b[_0x5bc1ef(0x6c7)]=this[_0x5bc1ef(0x7a9)](_0x38504b[_0x5bc1ef(0x6c7)],_0x4076d1)),_0x38504b[_0x5bc1ef(0x7af)]&&(_0x38504b['optionDescription']=this[_0x5bc1ef(0x7a9)](_0x38504b[_0x5bc1ef(0x7af)],_0x4076d1));}async[a0_0x1955e1(0x75e)](_0x241598,_0x6879fe){const _0x33dd20=a0_0x1955e1;let _0xa1d717=_0x241598[_0x33dd20(0x8a0)];_0x6879fe[_0x33dd20(0x2f5)][_0x33dd20(0x8a0)]&&_0x6879fe[_0x33dd20(0x2f5)][_0x33dd20(0x8a0)][_0x33dd20(0x4f1)]()!==''&&(_0xa1d717=_0x6879fe[_0x33dd20(0x2f5)][_0x33dd20(0x8a0)][_0x33dd20(0x4f1)]()),this[_0x33dd20(0x773)][_0x33dd20(0x2b1)](this['instanceName']+'\x20('+this[_0x33dd20(0x60a)][_0x33dd20(0x33b)]+'):\x20Enviando\x20enquete');let _0x84726f=_0x241598[_0x33dd20(0x4cd)][_0x33dd20(0x2c4)](_0x547ba7=>_0x547ba7[_0x33dd20(0x450)]===_0x6879fe['_id'])[_0x33dd20(0x6cf)]((_0xe5d317,_0x351a93)=>_0xe5d317[_0x33dd20(0x379)]-_0x351a93[_0x33dd20(0x379)]);this['replaceVariablesInReplyOptions'](_0x84726f,_0x241598['chatLog'][_0x33dd20(0x2c5)]);let _0x5ec907=_0x84726f[_0x33dd20(0x3e2)](_0x11b9e4=>_0x11b9e4['option']),_0x1d3d80={'number':_0xa1d717,'menuMessage':{'type':_0x6879fe[_0x33dd20(0x2f5)][_0x33dd20(0x55a)]||_0x33dd20(0x682),'text':_0x6879fe[_0x33dd20(0x2f5)][_0x33dd20(0x814)]||_0x6879fe[_0x33dd20(0x2f5)][_0x33dd20(0x543)],'footerText':_0x6879fe[_0x33dd20(0x2f5)][_0x33dd20(0x85b)],'buttonText':_0x6879fe['uazapi'][_0x33dd20(0x7b7)],'selectableCount':0x1,'choices':_0x5ec907},'options':{'delay':_0x6879fe[_0x33dd20(0x2f5)][_0x33dd20(0x858)]}};try{let _0xa5a295=await this['menuMessage'](_0x1d3d80);if(_0xa5a295){let _0x2dbb5a={'_id':_0xa5a295[_0x33dd20(0x2a8)]['id'],'_fromMe':_0xa5a295[_0x33dd20(0x2a8)][_0x33dd20(0x785)],'_remoteJid':_0xa5a295[_0x33dd20(0x2a8)][_0x33dd20(0x8a0)]};_0x6879fe[_0x33dd20(0x2f5)]['menuIgnoreNonVotes']===!0x0&&(_0x241598[_0x33dd20(0x3d9)]=_0x33dd20(0x453),this[_0x33dd20(0x773)][_0x33dd20(0x2b1)](this[_0x33dd20(0x192)]+'\x20('+this[_0x33dd20(0x60a)][_0x33dd20(0x33b)]+_0x33dd20(0x79c)+_0x241598[_0x33dd20(0x3d9)])),this['logger'][_0x33dd20(0x2b1)](this[_0x33dd20(0x192)]+'\x20('+this[_0x33dd20(0x60a)][_0x33dd20(0x33b)]+_0x33dd20(0x3be)+(_0x6879fe['uazapi'][_0x33dd20(0x543)]||_0x6879fe[_0x33dd20(0x2f5)][_0x33dd20(0x814)])),_0x241598[_0x33dd20(0x2a4)]=_0xa5a295[_0x33dd20(0x2a8)]['id'],_0x241598[_0x33dd20(0x80c)]=_0x6879fe[_0x33dd20(0x2f5)][_0x33dd20(0x543)]||_0x6879fe['uazapi'][_0x33dd20(0x814)],_0x241598['waitingMenu_replyOptions']=_0x84726f,_0x6879fe[_0x33dd20(0x2f5)][_0x33dd20(0x38d)]&&(_0x241598['waitingMenu_ExpiredMessage']=_0x6879fe[_0x33dd20(0x2f5)][_0x33dd20(0x38d)]),this[_0x33dd20(0x773)][_0x33dd20(0x2b1)](this[_0x33dd20(0x192)]+'\x20('+this[_0x33dd20(0x60a)][_0x33dd20(0x33b)]+_0x33dd20(0x1e5)+_0x241598[_0x33dd20(0x80c)]);let _0x42409d=(0x0,w[_0x33dd20(0x45b)])(_0xa5a295[_0x33dd20(0x451)]),_0x19d1d0=(0x0,w[_0x33dd20(0x417)])(_0x42409d);_0x241598[_0x33dd20(0x887)][_0x33dd20(0x521)]=_0x6879fe[_0x33dd20(0x45a)][_0x33dd20(0x6c3)]();let {message_normalized:_0x5d16fe}=this[_0x33dd20(0x727)](_0x42409d,_0x19d1d0,null);_0x241598['chatLog'][_0x33dd20(0x612)]=await _0x5d16fe;let _0x46576e={'messageId':_0xa5a295[_0x33dd20(0x2a8)]['id']},_0x2b92e2=_0x241598[_0x33dd20(0x887)][_0x33dd20(0x2c5)];Object['assign'](_0x2b92e2,_0x2dbb5a),_0x241598[_0x33dd20(0x887)]['realVariables']=_0x2b92e2,this[_0x33dd20(0x1f8)](_0x241598,_0x6879fe,_0x46576e);}else{let _0x52e6e0={'error':!0x0};this[_0x33dd20(0x1f8)](_0x241598,_0x6879fe,_0x52e6e0),this[_0x33dd20(0x773)][_0x33dd20(0x2e7)](this[_0x33dd20(0x192)]+'\x20('+this[_0x33dd20(0x60a)]['wuid']+_0x33dd20(0x883));}}catch(_0x2e1ab2){let _0x27eab8={'error':!0x0,'errorLog':_0x2e1ab2 instanceof Error?_0x2e1ab2[_0x33dd20(0x451)]:JSON[_0x33dd20(0x36f)](_0x2e1ab2,null,0x2)};this['updateConversation'](_0x241598,_0x6879fe,_0x27eab8),this[_0x33dd20(0x773)]['error'](this[_0x33dd20(0x192)]+'\x20('+this[_0x33dd20(0x60a)][_0x33dd20(0x33b)]+_0x33dd20(0x7d7)+(_0x2e1ab2 instanceof Error?_0x2e1ab2[_0x33dd20(0x451)]:JSON[_0x33dd20(0x36f)](_0x2e1ab2,null,0x2)));}}async[a0_0x1955e1(0x490)](_0x4ab319,_0x1ca4a1){const _0x468add=a0_0x1955e1;this['logger'][_0x468add(0x2b1)](this[_0x468add(0x192)]+'\x20('+this[_0x468add(0x60a)]['wuid']+_0x468add(0x2d7));let _0x3ff3c1=_0x4ab319[_0x468add(0x887)][_0x468add(0x1c6)][_0x468add(0x6d3)](_0x1f782e=>_0x1f782e['blockId'][_0x468add(0x6c3)]()===_0x1ca4a1[_0x468add(0x2f5)][_0x468add(0x450)]['toString']()),_0x493f84={'id':_0x3ff3c1[_0x468add(0x5f8)],'remoteJid':_0x3ff3c1['remoteJid'],'fromMe':_0x3ff3c1['fromMe']};try{let _0x26eb76=await this[_0x468add(0x306)](_0x493f84);if(_0x26eb76){let _0x4b3e39=(0x0,w[_0x468add(0x45b)])(_0x26eb76['message']),_0x3c4518=(0x0,w[_0x468add(0x417)])(_0x4b3e39);_0x4ab319['chatLog'][_0x468add(0x521)]=_0x1ca4a1[_0x468add(0x45a)][_0x468add(0x6c3)]();let {message_normalized:_0x37d6da}=this[_0x468add(0x727)](_0x4b3e39,_0x3c4518,null);_0x4ab319[_0x468add(0x887)][_0x468add(0x612)]=await _0x37d6da;let _0x2f49a3={};this['updateConversation'](_0x4ab319,_0x1ca4a1,_0x2f49a3);}else{let _0x432176={'error':!0x0};this[_0x468add(0x1f8)](_0x4ab319,_0x1ca4a1,_0x432176),this['logger'][_0x468add(0x2e7)](this[_0x468add(0x192)]+'\x20('+this[_0x468add(0x60a)][_0x468add(0x33b)]+_0x468add(0x3bf));}}catch(_0x5b342e){let _0x2d29f9={'error':!0x0,'errorLog':_0x5b342e instanceof Error?_0x5b342e[_0x468add(0x451)]:JSON[_0x468add(0x36f)](_0x5b342e,null,0x2)};this[_0x468add(0x1f8)](_0x4ab319,_0x1ca4a1,_0x2d29f9),this[_0x468add(0x773)][_0x468add(0x2e7)](this[_0x468add(0x192)]+'\x20('+this[_0x468add(0x60a)]['wuid']+_0x468add(0x7fe)+(_0x5b342e instanceof Error?_0x5b342e[_0x468add(0x451)]:JSON[_0x468add(0x36f)](_0x5b342e,null,0x2)));}}async['createFlow'](_0x134c44,_0x932a51){const _0x36ea21=a0_0x1955e1;if(_0x134c44[_0x36ea21(0x543)]||(_0x134c44[_0x36ea21(0x543)]=(0x0,Y['v4'])()),_0x932a51!==Ti&&_0x134c44?.[_0x36ea21(0x65d)])throw new m(_0x36ea21(0x4a6));if(_0x36ea21(0x45a)in _0x134c44&&'owner'in _0x134c44)return this[_0x36ea21(0x669)](_0x134c44['owner'],_0x134c44[_0x36ea21(0x45a)]);this['logger'][_0x36ea21(0x2b1)](this[_0x36ea21(0x192)]+'\x20('+this[_0x36ea21(0x60a)][_0x36ea21(0x33b)]+_0x36ea21(0x7aa));let _0x4b7884=this['getUniqueFlowName'](_0x134c44[_0x36ea21(0x543)]),_0x3fa67c=new me[(_0x36ea21(0x5e1))]['ObjectId'](),_0xf2bdbf={'_id':_0x3fa67c,'default':!0x0,'title':_0x36ea21(0x197),'x':0x0,'y':0x0},_0xf2d01b={'_id':new me['Types'][(_0x36ea21(0x692))](),'order':0x1,'groupId':_0x3fa67c['toString'](),'type':_0x36ea21(0x75d)},_0x299db8=this[_0x36ea21(0x60a)][_0x36ea21(0x33b)],_0x422610={'_id':(0x0,Y['v4'])(),'owner':_0x299db8,'name':_0x4b7884,'whoCanEdit':[_0x299db8],'whoCanUse':[_0x299db8],'groups':[_0xf2bdbf],'blocks':[_0xf2d01b],..._0x134c44};try{let _0x3f0292=await this[_0x36ea21(0x3c7)][_0x36ea21(0x4b9)][_0x36ea21(0x2c7)](_0x422610);return await this[_0x36ea21(0x581)](),_0x3f0292;}catch(_0x2ada0a){let _0x165362='Erro\x20ao\x20criar\x20fluxo',_0x5bfb2b=_0x2ada0a instanceof Error?_0x2ada0a[_0x36ea21(0x451)]:typeof _0x2ada0a==_0x36ea21(0x64b)?JSON[_0x36ea21(0x36f)](_0x2ada0a):_0x2ada0a,_0x3dd263=_0x165362+':\x20'+_0x5bfb2b;throw this[_0x36ea21(0x773)][_0x36ea21(0x2e7)](this[_0x36ea21(0x192)]+'\x20('+this[_0x36ea21(0x60a)][_0x36ea21(0x33b)]+_0x36ea21(0x6cd)+_0x3dd263),new m(_0x3dd263);}}async[a0_0x1955e1(0x669)](_0xf263a0,_0x1dba14){const _0x3a8f88=a0_0x1955e1;try{this[_0x3a8f88(0x773)][_0x3a8f88(0x2b1)](this[_0x3a8f88(0x192)]+'\x20('+this[_0x3a8f88(0x60a)][_0x3a8f88(0x33b)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x12edbc=await this[_0x3a8f88(0x3c7)][_0x3a8f88(0x4b9)][_0x3a8f88(0x309)]({'where':{'_id':_0x1dba14,'owner':_0xf263a0}});if(!_0x12edbc)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0x12edbc['shareFlow']===!0x1&&!_0x12edbc[_0x3a8f88(0x65d)])throw new m(_0x3a8f88(0x38b));let _0x4872ea=new Set(_0x12edbc['whoCanUse']??[]);_0x4872ea[_0x3a8f88(0x5c7)](this[_0x3a8f88(0x60a)][_0x3a8f88(0x33b)]);let _0xbe6f84=await this[_0x3a8f88(0x3c7)][_0x3a8f88(0x4b9)][_0x3a8f88(0x400)](_0x1dba14,{..._0x12edbc,'whoCanUse':Array[_0x3a8f88(0x6d8)](_0x4872ea)});return await this[_0x3a8f88(0x581)](),_0xbe6f84;}catch(_0x2e716b){let _0x2707f7='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x40fd74=_0x2e716b instanceof Error?_0x2e716b['message']:typeof _0x2e716b=='object'?JSON[_0x3a8f88(0x36f)](_0x2e716b):_0x2e716b,_0x73df7b=_0x2707f7+':\x20'+_0x40fd74;throw this[_0x3a8f88(0x773)]['error'](this[_0x3a8f88(0x192)]+'\x20('+this[_0x3a8f88(0x60a)][_0x3a8f88(0x33b)]+'):\x20'+_0x73df7b),new m(_0x73df7b);}}[a0_0x1955e1(0x32a)](_0x31ab01){const _0x6fe4ae=a0_0x1955e1;let _0x506671=_0x31ab01,_0x5ee6b0=0x1;for(;this[_0x6fe4ae(0x4a3)]['flows'][_0x6fe4ae(0x30b)](_0x1e0479=>_0x1e0479['name']===_0x506671);)_0x5ee6b0++,_0x506671=_0x31ab01+'\x20('+_0x5ee6b0+')';return _0x506671;}async[a0_0x1955e1(0x569)](_0x52f5a5){const _0x54fde0=a0_0x1955e1;try{if(this[_0x54fde0(0x773)][_0x54fde0(0x2b1)](this['instanceName']+'\x20('+this['instance'][_0x54fde0(0x33b)]+'):\x20\x27Deletando\x20fluxo,\x20id:\x20'+_0x52f5a5['_id']+_0x54fde0(0x8b3)+_0x52f5a5[_0x54fde0(0x603)]),!this[_0x54fde0(0x4a3)]['flows'][_0x54fde0(0x6d3)](_0x1dc63f=>_0x1dc63f[_0x54fde0(0x45a)]===_0x52f5a5[_0x54fde0(0x45a)]))throw this[_0x54fde0(0x773)]['verbose'](this['instanceName']+'\x20('+this[_0x54fde0(0x60a)][_0x54fde0(0x33b)]+_0x54fde0(0x656)+_0x52f5a5['_id']+_0x54fde0(0x4f9)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x58ddb9=await this[_0x54fde0(0x3c7)][_0x54fde0(0x4b9)]['findOne']({'where':{'_id':_0x52f5a5[_0x54fde0(0x45a)]}});if(!_0x58ddb9)throw new m('Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(this[_0x54fde0(0x60a)][_0x54fde0(0x33b)]===_0x58ddb9[_0x54fde0(0x484)]){this[_0x54fde0(0x773)][_0x54fde0(0x2b1)](this[_0x54fde0(0x192)]+'\x20('+this['instance'][_0x54fde0(0x33b)]+'):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27'+_0x52f5a5[_0x54fde0(0x45a)]+_0x54fde0(0x2d6));let _0x5c0403=await this[_0x54fde0(0x3c7)][_0x54fde0(0x4b9)][_0x54fde0(0x66e)]({'where':{'_id':_0x52f5a5[_0x54fde0(0x45a)]}});return await this[_0x54fde0(0x581)](),_0x5c0403;}return this[_0x54fde0(0x773)][_0x54fde0(0x2b1)](this['instanceName']+'\x20('+this[_0x54fde0(0x60a)][_0x54fde0(0x33b)]+'):\x20Removendo\x20\x27'+this[_0x54fde0(0x60a)][_0x54fde0(0x33b)]+'\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27'+_0x52f5a5[_0x54fde0(0x45a)]+_0x54fde0(0x4f4)),_0x58ddb9[_0x54fde0(0x4fe)]=(_0x58ddb9[_0x54fde0(0x4fe)]??[])[_0x54fde0(0x2c4)](_0x49b15d=>_0x49b15d!==this['instance']['wuid']),_0x58ddb9['whoCanEdit']=(_0x58ddb9['whoCanEdit']??[])['filter'](_0x59b2f6=>_0x59b2f6!==this[_0x54fde0(0x60a)][_0x54fde0(0x33b)]),_0x58ddb9[_0x54fde0(0x3c8)][_0x54fde0(0x7dc)]===0x0&&_0x58ddb9[_0x54fde0(0x4fe)][_0x54fde0(0x7dc)]>0x0&&(_0x58ddb9[_0x54fde0(0x3c8)][_0x54fde0(0x6c9)](_0x58ddb9[_0x54fde0(0x4fe)][0x0]),this[_0x54fde0(0x773)]['verbose'](this[_0x54fde0(0x192)]+'\x20('+this['instance']['wuid']+_0x54fde0(0x8bd)+_0x58ddb9['whoCanUse'][0x0]+'\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27'+_0x52f5a5[_0x54fde0(0x45a)]+'\x27...')),await this[_0x54fde0(0x3c7)][_0x54fde0(0x4b9)][_0x54fde0(0x400)](_0x58ddb9['_id'],_0x58ddb9),await this[_0x54fde0(0x581)](),{'message':_0x54fde0(0x721)+_0x52f5a5[_0x54fde0(0x543)]+_0x54fde0(0x2e9)};}catch(_0x1b419d){return this[_0x54fde0(0x773)][_0x54fde0(0x2e7)](this['instanceName']+'\x20('+this[_0x54fde0(0x60a)]['wuid']+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x1b419d instanceof Error?_0x1b419d[_0x54fde0(0x451)]:JSON['stringify'](_0x1b419d,null,0x2))),{'message':_0x54fde0(0x815)+(_0x1b419d instanceof Error?_0x1b419d[_0x54fde0(0x451)]:JSON[_0x54fde0(0x36f)](_0x1b419d,null,0x2))};}}async[a0_0x1955e1(0x227)](_0x10bab8){const _0x5cd646=a0_0x1955e1;try{if(this[_0x5cd646(0x773)][_0x5cd646(0x6e0)](this[_0x5cd646(0x192)]+'\x20('+this['instance'][_0x5cd646(0x33b)]+_0x5cd646(0x751)+_0x10bab8),!this[_0x5cd646(0x4a3)]&&(await this[_0x5cd646(0x4e0)](),!this['AutomateSystem']))return null;let _0x280590=await this['repository'][_0x5cd646(0x4b9)][_0x5cd646(0x309)]({'where':{'_id':_0x10bab8}});if(!_0x280590)throw new m('Fluxo\x20id\x20\x27'+_0x10bab8+_0x5cd646(0x6ef));if(!(_0x280590['globalShow']||_0x280590[_0x5cd646(0x4fe)]?.[_0x5cd646(0x718)](this[_0x5cd646(0x60a)]['wuid'])))throw new m(_0x5cd646(0x34b)+name+'\x27');_0x280590[_0x5cd646(0x65d)]&&!_0x280590[_0x5cd646(0x4fe)]?.[_0x5cd646(0x718)](this[_0x5cd646(0x60a)]['wuid'])&&(_0x280590['whoCanUse']=[..._0x280590[_0x5cd646(0x4fe)]??[],this[_0x5cd646(0x60a)][_0x5cd646(0x33b)]],await this[_0x5cd646(0x3c7)][_0x5cd646(0x4b9)]['updateOne'](_0x280590['_id'],_0x280590),this[_0x5cd646(0x581)]());let _0x55e330=this[_0x5cd646(0x4a3)]?.[_0x5cd646(0x6d6)]['map'](_0x33f5aa=>_0x33f5aa[_0x5cd646(0x543)]),_0x3bc7ca=[_0x5cd646(0x1d8),'nomecompleto',_0x5cd646(0x7d0),_0x5cd646(0x472),_0x5cd646(0x3d9),_0x5cd646(0x465),_0x5cd646(0x3f0),'tags',_0x5cd646(0x3e5),_0x5cd646(0x71f),_0x5cd646(0x83b)];_0x280590[_0x5cd646(0x24e)]=_0x280590[_0x5cd646(0x24e)][_0x5cd646(0x2c4)](_0x34b5ad=>!(_0x34b5ad[_0x5cd646(0x340)]===_0x5cd646(0x4a1)||_0x34b5ad['leadInfo'])),_0x3bc7ca[_0x5cd646(0x408)](_0xfeb34d=>{const _0x48e1a7=_0x5cd646;_0x280590[_0x48e1a7(0x24e)]['push']({'folder':_0x48e1a7(0x4a1),'name':_0xfeb34d,'value':'','doc':'','leadInfo':!0x0});}),_0x55e330[_0x5cd646(0x408)](_0x50488e=>{const _0x37308e=_0x5cd646;let _0x423b46=_0x280590['variables'][_0x37308e(0x4bb)](_0x5dc05a=>_0x5dc05a[_0x37308e(0x543)]===_0x50488e);_0x423b46===-0x1?_0x280590[_0x37308e(0x24e)][_0x37308e(0x6c9)]({'folder':'leadInfo','name':_0x50488e,'value':'','doc':'','leadInfo':!0x0}):(_0x280590[_0x37308e(0x24e)][_0x423b46][_0x37308e(0x340)]=_0x37308e(0x4a1),_0x280590[_0x37308e(0x24e)][_0x423b46][_0x37308e(0x4a1)]=!0x0);}),_0x280590[_0x5cd646(0x36b)]&&_0x280590[_0x5cd646(0x36b)][_0x5cd646(0x7dc)]>0x0&&_0x280590[_0x5cd646(0x36b)][_0x5cd646(0x408)](_0x294897=>{const _0x1fff65=_0x5cd646;_0x294897['groupId']&&_0x294897[_0x1fff65(0x604)]&&_0x294897['groupId']===_0x294897[_0x1fff65(0x604)]&&(_0x294897[_0x1fff65(0x604)]=null);});let _0xb244f7=await this['repository'][_0x5cd646(0x4b9)][_0x5cd646(0x400)](_0x280590[_0x5cd646(0x45a)],_0x280590);if(!_0xb244f7)throw new Error(_0x5cd646(0x31d));return _0xb244f7;}catch(_0x3b1626){let _0x19cd7f=_0x5cd646(0x7ab),_0x50b275=_0x3b1626 instanceof Error?_0x3b1626[_0x5cd646(0x451)]:typeof _0x3b1626=='object'?JSON[_0x5cd646(0x36f)](_0x3b1626):_0x3b1626,_0x142a01=_0x19cd7f+':\x20'+_0x50b275;throw this[_0x5cd646(0x773)][_0x5cd646(0x2e7)](this[_0x5cd646(0x192)]+'\x20('+this[_0x5cd646(0x60a)]['wuid']+_0x5cd646(0x6cd)+_0x142a01),new m(_0x142a01);}}async[a0_0x1955e1(0x870)](){const _0x2e725b=a0_0x1955e1;try{this[_0x2e725b(0x773)]['verbose'](this[_0x2e725b(0x192)]+'\x20('+this[_0x2e725b(0x60a)][_0x2e725b(0x33b)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x2e725b(0x581)]();let _0x50c137=await this[_0x2e725b(0x3c7)][_0x2e725b(0x4b9)][_0x2e725b(0x1ef)]({'where':{'globalShow':!0x0}});return[...this['AutomateSystem'][_0x2e725b(0x1fe)],..._0x50c137];}catch(_0x2df5a2){return this[_0x2e725b(0x773)][_0x2e725b(0x2e7)](this[_0x2e725b(0x192)]+'\x20('+this[_0x2e725b(0x60a)]['wuid']+_0x2e725b(0x7f4)+(_0x2df5a2 instanceof Error?_0x2df5a2[_0x2e725b(0x451)]:JSON[_0x2e725b(0x36f)](_0x2df5a2,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+(_0x2df5a2 instanceof Error?_0x2df5a2[_0x2e725b(0x451)]:String(_0x2df5a2))};}}async['editFlow'](_0x30ddd5,_0x40ba5a){const _0x55b02c=a0_0x1955e1;try{this[_0x55b02c(0x773)][_0x55b02c(0x2b1)](this[_0x55b02c(0x192)]+'\x20('+this[_0x55b02c(0x60a)][_0x55b02c(0x33b)]+_0x55b02c(0x6f2));let _0x352454=this[_0x55b02c(0x4a3)][_0x55b02c(0x1fe)][_0x55b02c(0x6d3)](_0x53759c=>_0x53759c[_0x55b02c(0x45a)]===_0x30ddd5[_0x55b02c(0x45a)]);if(!_0x352454)throw this[_0x55b02c(0x773)][_0x55b02c(0x2b1)](this[_0x55b02c(0x192)]+'\x20('+this[_0x55b02c(0x60a)][_0x55b02c(0x33b)]+'):\x20Fluxo\x20\x27'+_0x30ddd5['_id']+_0x55b02c(0x4f9)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0xdf8024=await this[_0x55b02c(0x3c7)][_0x55b02c(0x4b9)]['findOne']({'where':{'_id':_0x30ddd5[_0x55b02c(0x45a)]}});if(!_0xdf8024||!_0xdf8024[_0x55b02c(0x4fe)]?.['includes'](this[_0x55b02c(0x60a)][_0x55b02c(0x33b)]))throw this[_0x55b02c(0x773)][_0x55b02c(0x2e7)](this[_0x55b02c(0x192)]+'\x20('+this[_0x55b02c(0x60a)]['wuid']+_0x55b02c(0x2c1)+_0x30ddd5[_0x55b02c(0x45a)]+_0x55b02c(0x77f)),new m('Flow\x20\x27'+_0x30ddd5[_0x55b02c(0x45a)]+_0x55b02c(0x77f));let _0x5c6dea=this['AutomateSystem']['flows']['findIndex'](_0x1816b7=>_0x1816b7[_0x55b02c(0x45a)]===_0x352454['_id']);if(_0x5c6dea!==-0x1){let _0x4d0d34=this['AutomateSystem'][_0x55b02c(0x1fe)][_0x5c6dea];if(_0x4d0d34[_0x55b02c(0x543)]=_0x30ddd5[_0x55b02c(0x543)]??_0x4d0d34['name'],_0x4d0d34[_0x55b02c(0x36d)]=_0x30ddd5[_0x55b02c(0x36d)]??_0x4d0d34[_0x55b02c(0x36d)],_0x4d0d34[_0x55b02c(0x716)]=_0x30ddd5[_0x55b02c(0x716)]??_0x4d0d34[_0x55b02c(0x716)],_0x4d0d34['startCommand']=_0x30ddd5[_0x55b02c(0x769)]??_0x4d0d34[_0x55b02c(0x260)],_0x4d0d34['minutesToClose']=_0x30ddd5[_0x55b02c(0x5de)]??_0x4d0d34[_0x55b02c(0x5de)],_0x4d0d34[_0x55b02c(0x47f)]=_0x30ddd5[_0x55b02c(0x47f)]??_0x4d0d34[_0x55b02c(0x47f)],_0x30ddd5['default']&&this['AutomateSystem'][_0x55b02c(0x1fe)][_0x55b02c(0x408)]((_0x128320,_0x266d2d)=>{_0x266d2d!==_0x5c6dea&&(_0x128320['default']=!0x1);}),this[_0x55b02c(0x4a3)]['flows'][_0x5c6dea]=_0x4d0d34,!await this['repository'][_0x55b02c(0x70a)][_0x55b02c(0x563)]({'flows':this[_0x55b02c(0x4a3)]['flows']},this['instance'][_0x55b02c(0x33b)]))throw new m(_0x55b02c(0x362));}let _0x572122=[_0x55b02c(0x603),'startID','sharePass',_0x55b02c(0x28d)];for(let _0x57482e of _0x572122)delete _0x30ddd5[_0x57482e];if(_0xdf8024[_0x55b02c(0x3c8)]?.[_0x55b02c(0x718)](this[_0x55b02c(0x60a)][_0x55b02c(0x33b)])||(_0x30ddd5={'_id':_0x30ddd5[_0x55b02c(0x45a)]}),_0x40ba5a!==Ti&&_0x30ddd5?.['globalShow']&&!_0xdf8024?.[_0x55b02c(0x65d)])throw new m('Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.');let _0x5b7ce5=new Set(_0x30ddd5['whoCanEdit']??_0xdf8024['whoCanEdit']);_0x5b7ce5[_0x55b02c(0x5c7)](_0xdf8024[_0x55b02c(0x484)]);let _0x4505d0=new Set(_0x30ddd5[_0x55b02c(0x4fe)]??_0xdf8024[_0x55b02c(0x4fe)]??[]);_0x5b7ce5[_0x55b02c(0x408)](_0x1c1fa3=>_0x4505d0['add'](_0x1c1fa3)),_0x4505d0[_0x55b02c(0x5c7)](_0xdf8024[_0x55b02c(0x484)]),this['logger'][_0x55b02c(0x2b1)](this[_0x55b02c(0x192)]+'\x20('+this[_0x55b02c(0x60a)][_0x55b02c(0x33b)]+_0x55b02c(0x760)+Array['from'](_0x5b7ce5)),this[_0x55b02c(0x773)][_0x55b02c(0x2b1)](this[_0x55b02c(0x192)]+'\x20('+this[_0x55b02c(0x60a)][_0x55b02c(0x33b)]+_0x55b02c(0x347)+Array[_0x55b02c(0x6d8)](_0x4505d0));let _0x43c645=await this[_0x55b02c(0x4a2)](Array[_0x55b02c(0x6d8)](_0x4505d0)),_0x57ed5b=Array[_0x55b02c(0x6d8)](_0x5b7ce5)[_0x55b02c(0x2c4)](_0x47f121=>_0x43c645[_0x55b02c(0x718)](_0x47f121)),_0x56756f=Array[_0x55b02c(0x6d8)](_0x4505d0)[_0x55b02c(0x2c4)](_0x47b417=>_0x43c645[_0x55b02c(0x718)](_0x47b417));this['logger'][_0x55b02c(0x2b1)](this[_0x55b02c(0x192)]+'\x20('+this[_0x55b02c(0x60a)]['wuid']+'):\x20whoCanEdit\x20after\x20validation:\x20'+_0x57ed5b),this[_0x55b02c(0x773)][_0x55b02c(0x2b1)](this['instanceName']+'\x20('+this[_0x55b02c(0x60a)][_0x55b02c(0x33b)]+_0x55b02c(0x82b)+_0x56756f);let _0x37eb62={..._0xdf8024,..._0x30ddd5,'whoCanEdit':_0x57ed5b,'whoCanUse':_0x56756f},_0x53289a=await this[_0x55b02c(0x3c7)][_0x55b02c(0x4b9)][_0x55b02c(0x400)](_0xdf8024[_0x55b02c(0x45a)],_0x37eb62);return await this[_0x55b02c(0x581)](),_0x53289a;}catch(_0x3b5268){let _0x184116=_0x55b02c(0x522),_0x3aa3c7=_0x3b5268 instanceof Error?_0x3b5268[_0x55b02c(0x451)]:typeof _0x3b5268==_0x55b02c(0x64b)?JSON['stringify'](_0x3b5268):_0x3b5268,_0x3bd373=_0x184116+':\x20'+_0x3aa3c7;throw this[_0x55b02c(0x773)][_0x55b02c(0x2e7)](this[_0x55b02c(0x192)]+'\x20('+this['instance'][_0x55b02c(0x33b)]+_0x55b02c(0x6cd)+_0x3bd373),new m(_0x3bd373);}}async[a0_0x1955e1(0x4a2)](_0x400940){const _0x313307=a0_0x1955e1;let _0x1a210d={'numbers':_0x400940};return(await this[_0x313307(0x73d)](_0x1a210d))['filter'](_0x2d6753=>_0x2d6753[_0x313307(0x72e)])[_0x313307(0x3e2)](_0x13260d=>_0x13260d[_0x313307(0x6b2)])[_0x313307(0x3e2)](_0xf67e6b=>this[_0x313307(0x1e0)](_0xf67e6b));}[a0_0x1955e1(0x1e0)](_0x3590c2){const _0x15b5e6=a0_0x1955e1;let _0x47ea9d=_0x3590c2[_0x15b5e6(0x676)](/\d+/);return _0x47ea9d?_0x47ea9d[0x0]:'';}async[a0_0x1955e1(0x448)](_0x10f04f){const _0x5ead7e=a0_0x1955e1;try{if(this[_0x5ead7e(0x773)]['verbose'](this[_0x5ead7e(0x192)]+'\x20('+this[_0x5ead7e(0x60a)][_0x5ead7e(0x33b)]+_0x5ead7e(0x74c)),!this[_0x5ead7e(0x4a3)][_0x5ead7e(0x1fe)]['find'](_0xab9371=>_0xab9371['_id']===_0x10f04f[_0x5ead7e(0x45a)]))throw this[_0x5ead7e(0x773)][_0x5ead7e(0x2b1)](this[_0x5ead7e(0x192)]+'\x20('+this[_0x5ead7e(0x60a)][_0x5ead7e(0x33b)]+_0x5ead7e(0x656)+_0x10f04f[_0x5ead7e(0x45a)]+_0x5ead7e(0x4f9)),new m(_0x5ead7e(0x6d5));let _0x5208e4=await this[_0x5ead7e(0x3c7)][_0x5ead7e(0x4b9)][_0x5ead7e(0x309)]({'where':{'_id':_0x10f04f[_0x5ead7e(0x45a)]}});if(!_0x5208e4||!_0x5208e4[_0x5ead7e(0x4fe)]?.[_0x5ead7e(0x718)](this[_0x5ead7e(0x60a)][_0x5ead7e(0x33b)]))throw this[_0x5ead7e(0x773)][_0x5ead7e(0x2e7)](this[_0x5ead7e(0x192)]+'\x20('+this[_0x5ead7e(0x60a)][_0x5ead7e(0x33b)]+_0x5ead7e(0x2c1)+_0x10f04f[_0x5ead7e(0x45a)]+_0x5ead7e(0x77f)),new m('Flow\x20\x27'+_0x10f04f[_0x5ead7e(0x45a)]+_0x5ead7e(0x77f));if(!_0x5208e4['whoCanEdit']?.[_0x5ead7e(0x718)](this[_0x5ead7e(0x60a)][_0x5ead7e(0x33b)]))throw new m(_0x5ead7e(0x8c5));let {block:_0x4cb0ab}=_0x10f04f;_0x4cb0ab?.[_0x5ead7e(0x462)]?this[_0x5ead7e(0x489)](_0x5208e4,_0x10f04f):_0x4cb0ab?.[_0x5ead7e(0x544)]?this['deleteBlock'](_0x5208e4,_0x10f04f):_0x4cb0ab[_0x5ead7e(0x45a)]?await this[_0x5ead7e(0x271)](_0x5208e4,_0x10f04f):this[_0x5ead7e(0x6ac)](_0x5208e4,_0x10f04f);let _0x1a8602=await this[_0x5ead7e(0x3c7)][_0x5ead7e(0x4b9)]['updateOne'](_0x5208e4[_0x5ead7e(0x45a)],_0x5208e4);if(!_0x1a8602)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x1a8602;}catch(_0x474581){this[_0x5ead7e(0x89e)](_0x5ead7e(0x73b)+_0x474581[_0x5ead7e(0x451)]);}}async[a0_0x1955e1(0x489)](_0x720ff4,_0x3c3221){const _0xfb3e81=a0_0x1955e1;let _0x3a87a6=_0x3c3221['block'][_0xfb3e81(0x45a)],_0x423c80=_0x720ff4[_0xfb3e81(0x36b)]['find'](_0x57a5f1=>_0x57a5f1[_0xfb3e81(0x45a)][_0xfb3e81(0x6c3)]()===_0x3a87a6);if(!_0x423c80){this[_0xfb3e81(0x773)][_0xfb3e81(0x2e7)](this[_0xfb3e81(0x192)]+'\x20('+this[_0xfb3e81(0x60a)][_0xfb3e81(0x33b)]+_0xfb3e81(0x198)+_0x3a87a6+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0xfb3e81(0x773)]['verbose'](this[_0xfb3e81(0x192)]+'\x20('+this[_0xfb3e81(0x60a)][_0xfb3e81(0x33b)]+_0xfb3e81(0x300)+JSON[_0xfb3e81(0x36f)](_0x423c80));let _0x3a9229=JSON[_0xfb3e81(0x226)](JSON[_0xfb3e81(0x36f)](_0x423c80));_0x3a9229['_id']=new me[(_0xfb3e81(0x36d))]['Types']['ObjectId'](),this[_0xfb3e81(0x773)][_0xfb3e81(0x2b1)](this[_0xfb3e81(0x192)]+'\x20('+this['instance'][_0xfb3e81(0x33b)]+_0xfb3e81(0x77b)+JSON[_0xfb3e81(0x36f)](_0x3a9229)),_0x720ff4[_0xfb3e81(0x36b)][_0xfb3e81(0x6c9)](_0x3a9229),this[_0xfb3e81(0x36e)](_0x720ff4[_0xfb3e81(0x36b)],_0x3a9229[_0xfb3e81(0x80e)]);}[a0_0x1955e1(0x89e)](_0x8d8935){const _0x2e24dd=a0_0x1955e1;throw this[_0x2e24dd(0x773)][_0x2e24dd(0x2e7)](this['instanceName']+'\x20('+this[_0x2e24dd(0x60a)]['wuid']+_0x2e24dd(0x6cd)+_0x8d8935),new m(_0x8d8935);}['deleteBlock'](_0x314f95,_0x5ce3f5){const _0x3651a2=a0_0x1955e1;let {block:_0x139b43}=_0x5ce3f5;if(_0x139b43[_0x3651a2(0x708)]===_0x3651a2(0x75d)){this[_0x3651a2(0x89e)](_0x3651a2(0x71c));return;}if(!_0x139b43[_0x3651a2(0x45a)]){this[_0x3651a2(0x89e)](_0x3651a2(0x3d7));return;}let _0x117fca=_0x314f95[_0x3651a2(0x36b)]['find'](_0x272229=>_0x272229[_0x3651a2(0x45a)][_0x3651a2(0x6c3)]()===_0x5ce3f5['block'][_0x3651a2(0x45a)][_0x3651a2(0x6c3)]());if(!_0x117fca){this[_0x3651a2(0x89e)](_0x3651a2(0x3d2)+_0x139b43[_0x3651a2(0x45a)]+_0x3651a2(0x41a));return;}_0x314f95[_0x3651a2(0x36b)]=_0x314f95[_0x3651a2(0x36b)][_0x3651a2(0x2c4)](_0x3840e2=>_0x3840e2[_0x3651a2(0x45a)][_0x3651a2(0x6c3)]()!==_0x5ce3f5[_0x3651a2(0x2cd)]['_id']['toString']()),_0x314f95[_0x3651a2(0x4af)]=_0x314f95[_0x3651a2(0x4af)][_0x3651a2(0x2c4)](_0x417f9d=>_0x417f9d[_0x3651a2(0x450)]!==_0x139b43[_0x3651a2(0x45a)]['toString']()),_0x314f95[_0x3651a2(0x738)]=_0x314f95[_0x3651a2(0x738)]['filter'](_0x95e296=>_0x95e296['blockId']!==_0x139b43[_0x3651a2(0x45a)]['toString']()),_0x314f95['replyOptions']=_0x314f95[_0x3651a2(0x4cd)][_0x3651a2(0x2c4)](_0x26790d=>_0x26790d[_0x3651a2(0x450)]!==_0x139b43[_0x3651a2(0x45a)]['toString']()),this[_0x3651a2(0x36e)](_0x314f95['blocks'],_0x117fca[_0x3651a2(0x80e)]);}async[a0_0x1955e1(0x271)](_0x3f2b83,_0xa55a0){const _0x3e329f=a0_0x1955e1;let _0x2f8482=_0x3f2b83[_0x3e329f(0x36b)][_0x3e329f(0x4bb)](_0x49a98d=>_0x49a98d['_id']['toString']()===_0xa55a0[_0x3e329f(0x2cd)][_0x3e329f(0x45a)][_0x3e329f(0x6c3)]());if(this[_0x3e329f(0x773)][_0x3e329f(0x2b1)](this['instanceName']+'\x20('+this[_0x3e329f(0x60a)][_0x3e329f(0x33b)]+_0x3e329f(0x7d3)+_0x2f8482),_0x2f8482===-0x1){this[_0x3e329f(0x773)][_0x3e329f(0x2b1)](_0x3e329f(0x3d2)+_0xa55a0[_0x3e329f(0x2cd)][_0x3e329f(0x45a)]+_0x3e329f(0x333));return;}if(_0x3f2b83['blocks'][_0x2f8482][_0x3e329f(0x708)]===_0x3e329f(0x75d)){let _0x4ddd45=Object['keys'](_0xa55a0[_0x3e329f(0x2cd)]);if(_0x4ddd45[_0x3e329f(0x7dc)]>0x2||_0x4ddd45[_0x3e329f(0x7dc)]===0x2&&!_0x4ddd45[_0x3e329f(0x718)](_0x3e329f(0x604))){this[_0x3e329f(0x89e)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x530793=_0x3f2b83[_0x3e329f(0x36b)][_0x2f8482][_0x3e329f(0x80e)];for(let _0x53f9c8 in _0xa55a0[_0x3e329f(0x2cd)])_0xa55a0[_0x3e329f(0x2cd)][_0x3e329f(0x2f9)](_0x53f9c8)&&(_0x3f2b83[_0x3e329f(0x36b)][_0x2f8482][_0x53f9c8]=_0xa55a0[_0x3e329f(0x2cd)][_0x53f9c8]);if(this[_0x3e329f(0x773)][_0x3e329f(0x2b1)](this[_0x3e329f(0x192)]+'\x20('+this[_0x3e329f(0x60a)][_0x3e329f(0x33b)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON['stringify'](_0x3f2b83['blocks'][_0x2f8482])),_0x3f2b83['blocks'][_0x2f8482]['apirequest']&&_0x3e329f(0x487)in _0x3f2b83[_0x3e329f(0x36b)][_0x2f8482]['apirequest']){this['logger']['verbose'](this[_0x3e329f(0x192)]+'\x20('+this['instance'][_0x3e329f(0x33b)]+_0x3e329f(0x7ef));let _0xb8646a=JSON[_0x3e329f(0x36f)](_0x3f2b83[_0x3e329f(0x36b)][_0x2f8482]['apirequest'][_0x3e329f(0x487)],null,0x1);_0xb8646a['length']>0x2&&(_0xb8646a=_0xb8646a[_0x3e329f(0x6ee)](0x1,_0xb8646a[_0x3e329f(0x7dc)]-0x1)[_0x3e329f(0x4f1)]()),_0x3f2b83[_0x3e329f(0x36b)][_0x2f8482][_0x3e329f(0x54c)]['headerString']=_0xb8646a;}if(_0x3f2b83['blocks'][_0x2f8482][_0x3e329f(0x54c)]&&'body'in _0x3f2b83[_0x3e329f(0x36b)][_0x2f8482][_0x3e329f(0x54c)]&&!(_0x3e329f(0x50c)in _0x3f2b83[_0x3e329f(0x36b)][_0x2f8482]['apirequest'])){this[_0x3e329f(0x773)][_0x3e329f(0x2b1)](this[_0x3e329f(0x192)]+'\x20('+this[_0x3e329f(0x60a)]['wuid']+_0x3e329f(0x4c7)),_0x3f2b83['blocks'][_0x2f8482][_0x3e329f(0x54c)]['bodyStringErrorParse']=!0x1;let _0x5f0bc2=JSON[_0x3e329f(0x36f)](_0x3f2b83[_0x3e329f(0x36b)][_0x2f8482][_0x3e329f(0x54c)][_0x3e329f(0x55f)],null,0x2);_0x3f2b83[_0x3e329f(0x36b)][_0x2f8482][_0x3e329f(0x54c)]['bodyString']=_0x5f0bc2;}if(_0x3f2b83[_0x3e329f(0x36b)][_0x2f8482][_0x3e329f(0x54c)]&&'bodyString'in _0x3f2b83[_0x3e329f(0x36b)][_0x2f8482][_0x3e329f(0x54c)]){_0x3f2b83[_0x3e329f(0x36b)][_0x2f8482][_0x3e329f(0x54c)][_0x3e329f(0x6c0)]=!0x1;let _0x53411c=_0x3f2b83[_0x3e329f(0x36b)][_0x2f8482][_0x3e329f(0x54c)]['bodyString'],_0x50413a=this[_0x3e329f(0x466)](_0x53411c);_0x3f2b83['blocks'][_0x2f8482][_0x3e329f(0x54c)][_0x3e329f(0x50c)]=_0x50413a[_0x3e329f(0x5ba)],_0x3f2b83[_0x3e329f(0x36b)][_0x2f8482]['apirequest'][_0x3e329f(0x6c0)]=_0x50413a[_0x3e329f(0x2e7)];}let _0x18a6ad=_0x3f2b83['blocks'][_0x2f8482][_0x3e329f(0x80e)];_0x530793!==_0x18a6ad?(this[_0x3e329f(0x36e)](_0x3f2b83[_0x3e329f(0x36b)],_0x530793),this['reorderBlocks'](_0x3f2b83[_0x3e329f(0x36b)],_0x18a6ad)):this[_0x3e329f(0x36e)](_0x3f2b83[_0x3e329f(0x36b)],_0x530793);}[a0_0x1955e1(0x466)](_0x2a2a16){const _0x52d734=a0_0x1955e1;let _0x51a7f3='\u205f',_0x44dcf0=!0x1,_0x1f9bfa='';for(let _0x426b6a=0x0;_0x426b6a<_0x2a2a16[_0x52d734(0x7dc)];_0x426b6a++){let _0x231198=_0x2a2a16[_0x426b6a];_0x231198==='\x22'&&(_0x426b6a===0x0||_0x2a2a16[_0x426b6a-0x1]!=='\x5c')&&(_0x44dcf0=!_0x44dcf0),!(!_0x44dcf0&&(_0x231198==='\x0a'||_0x231198==='\x20'||_0x231198===_0x51a7f3))&&(_0x1f9bfa+=_0x231198);}let _0x564dc2={},_0x43854d=9876543210.1234,_0x511cd6=_0x1f9bfa[_0x52d734(0x534)](/\{\{([^}]+)\}\}/g,_0x23106f=>{let _0x266977=_0x23106f,_0x33b0af=''+_0x43854d;return _0x564dc2[_0x33b0af]=_0x266977,_0x43854d+=0.0001,_0x33b0af;}),_0x10e38c='',_0x48b43c=!0x1;try{let _0x57c2b8=JSON[_0x52d734(0x226)](_0x511cd6);_0x10e38c=JSON[_0x52d734(0x36f)](_0x57c2b8,null,0x2),_0x10e38c=_0x10e38c['replace'](/\n( +)/g,(_0x489c51,_0x3e1f55)=>{const _0x507764=_0x52d734;let _0x1c6e90=_0x3e1f55[_0x507764(0x7dc)];return'\x0a'+_0x51a7f3[_0x507764(0x6dd)](_0x1c6e90*0x2);}),_0x10e38c=_0x10e38c[_0x52d734(0x534)](/(\d{10,}\.\d+)/g,_0x47d217=>_0x564dc2[_0x47d217]||_0x47d217);}catch(_0x2fbdd5){this['logger'][_0x52d734(0x2e7)](_0x52d734(0x625)+_0x2fbdd5),_0x10e38c=_0x2a2a16,_0x48b43c=!0x0;}return{'result':_0x10e38c,'error':_0x48b43c};}[a0_0x1955e1(0x6ac)](_0x1935d8,_0x323299){const _0x40f513=a0_0x1955e1;if(_0x323299['block']['type']===_0x40f513(0x75d)){this[_0x40f513(0x89e)](_0x40f513(0x434));return;}if(_0x323299[_0x40f513(0x2cd)][_0x40f513(0x54c)]&&_0x40f513(0x487)in _0x323299['block'][_0x40f513(0x54c)]){this['logger'][_0x40f513(0x2b1)](this[_0x40f513(0x192)]+'\x20('+this[_0x40f513(0x60a)][_0x40f513(0x33b)]+_0x40f513(0x7ef));let _0x4ae137=JSON['stringify'](_0x323299[_0x40f513(0x2cd)][_0x40f513(0x54c)][_0x40f513(0x487)],null,0x1);_0x4ae137['length']>0x2&&(_0x4ae137=_0x4ae137[_0x40f513(0x6ee)](0x1,_0x4ae137[_0x40f513(0x7dc)]-0x1)[_0x40f513(0x4f1)]()),_0x323299[_0x40f513(0x2cd)][_0x40f513(0x54c)][_0x40f513(0x464)]=_0x4ae137;}_0x323299[_0x40f513(0x2cd)][_0x40f513(0x54c)]&&_0x40f513(0x55f)in _0x323299[_0x40f513(0x2cd)][_0x40f513(0x54c)]&&(this['logger'][_0x40f513(0x2b1)](this[_0x40f513(0x192)]+'\x20('+this[_0x40f513(0x60a)][_0x40f513(0x33b)]+_0x40f513(0x4c7)),_0x323299[_0x40f513(0x2cd)][_0x40f513(0x54c)]['bodyString']=JSON[_0x40f513(0x36f)](_0x323299[_0x40f513(0x2cd)][_0x40f513(0x54c)][_0x40f513(0x55f)],null,0x1)['trim']()),_0x1935d8['blocks'][_0x40f513(0x6c9)](_0x323299['block']),this[_0x40f513(0x36e)](_0x1935d8[_0x40f513(0x36b)],_0x323299[_0x40f513(0x2cd)]['groupId']);}['reorderBlocks'](_0x2763ae,_0x5ac4b4){const _0xe1e0de=a0_0x1955e1;let _0x52a427=_0x2763ae[_0xe1e0de(0x2c4)](_0x3ff3fc=>_0x3ff3fc[_0xe1e0de(0x80e)]===_0x5ac4b4);_0x52a427[_0xe1e0de(0x6cf)]((_0x5946fd,_0x4a829c)=>_0x5946fd[_0xe1e0de(0x379)]-_0x4a829c[_0xe1e0de(0x379)]),_0x52a427['forEach']((_0x3ed91d,_0xa716fd)=>_0x3ed91d[_0xe1e0de(0x379)]=_0xa716fd+0x1);}async[a0_0x1955e1(0x4e6)](_0x1d0605){const _0x5a5630=a0_0x1955e1;try{if(this['logger'][_0x5a5630(0x2b1)](this['instanceName']+'\x20('+this[_0x5a5630(0x60a)][_0x5a5630(0x33b)]+_0x5a5630(0x503)),!_0x1d0605||!_0x1d0605[_0x5a5630(0x577)]){this[_0x5a5630(0x89e)](_0x5a5630(0x239));return;}if(!this[_0x5a5630(0x4a3)]['flows'][_0x5a5630(0x6d3)](_0x1ee930=>_0x1ee930[_0x5a5630(0x45a)]===_0x1d0605['_id']))throw this['logger'][_0x5a5630(0x2b1)](this[_0x5a5630(0x192)]+'\x20('+this[_0x5a5630(0x60a)][_0x5a5630(0x33b)]+_0x5a5630(0x656)+_0x1d0605[_0x5a5630(0x45a)]+_0x5a5630(0x4f9)),new m(_0x5a5630(0x6d5));let _0x4f86c6=await this[_0x5a5630(0x3c7)][_0x5a5630(0x4b9)][_0x5a5630(0x309)]({'where':{'_id':_0x1d0605[_0x5a5630(0x45a)]}});if(!_0x4f86c6||!_0x4f86c6[_0x5a5630(0x4fe)]?.['includes'](this[_0x5a5630(0x60a)][_0x5a5630(0x33b)]))throw this['logger'][_0x5a5630(0x2e7)](this[_0x5a5630(0x192)]+'\x20('+this[_0x5a5630(0x60a)][_0x5a5630(0x33b)]+_0x5a5630(0x2c1)+_0x1d0605[_0x5a5630(0x45a)]+_0x5a5630(0x77f)),new m(_0x5a5630(0x3a1)+_0x1d0605['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x4f86c6[_0x5a5630(0x3c8)]?.[_0x5a5630(0x718)](this[_0x5a5630(0x60a)][_0x5a5630(0x33b)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {replyOption:_0x26a0bf}=_0x1d0605;_0x26a0bf?.[_0x5a5630(0x544)]?(this['deleteReplyOption'](_0x4f86c6,_0x1d0605),this['reorderReplyOptions'](_0x4f86c6[_0x5a5630(0x4cd)],_0x1d0605[_0x5a5630(0x577)][_0x5a5630(0x450)])):_0x26a0bf[_0x5a5630(0x45a)]?(await this[_0x5a5630(0x2a1)](_0x4f86c6,_0x1d0605),this[_0x5a5630(0x1ae)](_0x4f86c6[_0x5a5630(0x4cd)],_0x1d0605['replyOption']['blockId'])):(this[_0x5a5630(0x283)](_0x4f86c6,_0x1d0605),this['reorderReplyOptions'](_0x4f86c6[_0x5a5630(0x4cd)],_0x1d0605[_0x5a5630(0x577)][_0x5a5630(0x450)]));let _0x49be13=await this['repository'][_0x5a5630(0x4b9)][_0x5a5630(0x400)](_0x4f86c6[_0x5a5630(0x45a)],_0x4f86c6);if(!_0x49be13)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x49be13;}catch(_0x556795){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x556795);}}[a0_0x1955e1(0x1ae)](_0x5a442e,_0x2d9ce9){const _0x13b004=a0_0x1955e1;_0x5a442e[_0x13b004(0x408)](_0x146a6c=>{const _0x3c7e4a=_0x13b004;_0x146a6c['blockId']===_0x2d9ce9&&_0x146a6c[_0x3c7e4a(0x379)]===void 0x0&&(_0x146a6c[_0x3c7e4a(0x379)]=0x270f);});let _0x2224bc=_0x5a442e[_0x13b004(0x2c4)](_0x26b20e=>_0x26b20e[_0x13b004(0x450)]===_0x2d9ce9);_0x2224bc[_0x13b004(0x6cf)]((_0x2f6499,_0x1f08fd)=>_0x2f6499[_0x13b004(0x379)]-_0x1f08fd[_0x13b004(0x379)]),_0x2224bc['forEach']((_0x664439,_0x5b6199)=>{const _0x3b2f29=_0x13b004;_0x664439[_0x3b2f29(0x379)]=_0x5b6199+0x1;}),_0x5a442e[_0x13b004(0x408)](_0x3991b0=>{const _0x19ac43=_0x13b004;if(_0x3991b0['blockId']===_0x2d9ce9){let _0x5e2d31=_0x2224bc[_0x19ac43(0x6d3)](_0x39ed00=>_0x39ed00[_0x19ac43(0x45a)]&&_0x3991b0[_0x19ac43(0x45a)]&&_0x39ed00[_0x19ac43(0x45a)][_0x19ac43(0x6c3)]()===_0x3991b0[_0x19ac43(0x45a)][_0x19ac43(0x6c3)]());_0x5e2d31&&(_0x3991b0['order']=_0x5e2d31['order']);}});}[a0_0x1955e1(0x1cf)](_0x1cdde2,_0x62bdbd){const _0x3d39ff=a0_0x1955e1;let {replyOption:_0x278ea8}=_0x62bdbd;if(!_0x278ea8['_id']){this['throwAndLogError'](_0x3d39ff(0x3e1));return;}if(!_0x1cdde2[_0x3d39ff(0x4cd)][_0x3d39ff(0x6d3)](_0x3fd0a4=>_0x3fd0a4[_0x3d39ff(0x45a)][_0x3d39ff(0x6c3)]()===_0x62bdbd[_0x3d39ff(0x577)]['_id'][_0x3d39ff(0x6c3)]())){this[_0x3d39ff(0x89e)](_0x3d39ff(0x29a)+_0x278ea8[_0x3d39ff(0x45a)]+_0x3d39ff(0x41a));return;}_0x1cdde2['replyOptions']=_0x1cdde2[_0x3d39ff(0x4cd)]['filter'](_0x13c9f3=>_0x13c9f3[_0x3d39ff(0x45a)][_0x3d39ff(0x6c3)]()!==_0x62bdbd[_0x3d39ff(0x577)]['_id'][_0x3d39ff(0x6c3)]());}async[a0_0x1955e1(0x2a1)](_0x3d2f14,_0x13bbb7){const _0x80b3f=a0_0x1955e1;let _0x1b78ee=_0x3d2f14['replyOptions'][_0x80b3f(0x4bb)](_0x4dd636=>_0x4dd636[_0x80b3f(0x45a)][_0x80b3f(0x6c3)]()===_0x13bbb7[_0x80b3f(0x577)][_0x80b3f(0x45a)][_0x80b3f(0x6c3)]());if(_0x1b78ee===-0x1){this['throwAndLogError']('ReplyOption\x20com\x20ID\x20'+_0x13bbb7[_0x80b3f(0x577)]['_id']+_0x80b3f(0x333));return;}for(let _0x439424 in _0x13bbb7[_0x80b3f(0x577)])_0x13bbb7[_0x80b3f(0x577)][_0x80b3f(0x2f9)](_0x439424)&&(_0x3d2f14[_0x80b3f(0x4cd)][_0x1b78ee][_0x439424]=_0x13bbb7[_0x80b3f(0x577)][_0x439424]);}[a0_0x1955e1(0x283)](_0x4993b9,_0x59c775){const _0x518e97=a0_0x1955e1;_0x4993b9[_0x518e97(0x4cd)][_0x518e97(0x6c9)](_0x59c775['replyOption']);}async[a0_0x1955e1(0x6f6)](_0x56bceb){const _0x4ef861=a0_0x1955e1;this[_0x4ef861(0x773)][_0x4ef861(0x2b1)](this[_0x4ef861(0x192)]+'\x20('+this['instance'][_0x4ef861(0x33b)]+_0x4ef861(0x360)+JSON[_0x4ef861(0x36f)](_0x56bceb,null,0x2));try{if(this['logger']['verbose'](this[_0x4ef861(0x192)]+'\x20('+this[_0x4ef861(0x60a)][_0x4ef861(0x33b)]+_0x4ef861(0x29b)),!this[_0x4ef861(0x4a3)][_0x4ef861(0x1fe)][_0x4ef861(0x6d3)](_0x14ffc6=>_0x14ffc6[_0x4ef861(0x45a)]===_0x56bceb[_0x4ef861(0x45a)]))throw this[_0x4ef861(0x773)][_0x4ef861(0x2b1)](this[_0x4ef861(0x192)]+'\x20('+this['instance'][_0x4ef861(0x33b)]+_0x4ef861(0x656)+_0x56bceb[_0x4ef861(0x45a)]+_0x4ef861(0x4f9)),new m(_0x4ef861(0x6d5));let _0x97eca=await this[_0x4ef861(0x3c7)][_0x4ef861(0x4b9)][_0x4ef861(0x309)]({'where':{'_id':_0x56bceb[_0x4ef861(0x45a)]}});if(!_0x97eca||!_0x97eca[_0x4ef861(0x4fe)]?.[_0x4ef861(0x718)](this[_0x4ef861(0x60a)][_0x4ef861(0x33b)]))throw this[_0x4ef861(0x773)][_0x4ef861(0x2e7)](this['instanceName']+'\x20('+this['instance'][_0x4ef861(0x33b)]+'):\x20Flow\x20\x27'+_0x56bceb['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x4ef861(0x3a1)+_0x56bceb['_id']+_0x4ef861(0x77f));if(!_0x97eca[_0x4ef861(0x3c8)]?.['includes'](this['instance'][_0x4ef861(0x33b)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');if(_0x56bceb[_0x4ef861(0x5cd)]&&_0x56bceb[_0x4ef861(0x5cd)]?.[_0x4ef861(0x544)]===!0x0){if(this[_0x4ef861(0x773)][_0x4ef861(0x2b1)](this[_0x4ef861(0x192)]+'\x20('+this['instance'][_0x4ef861(0x33b)]+_0x4ef861(0x58d)),_0x56bceb[_0x4ef861(0x5cd)][_0x4ef861(0x36d)]===!0x0)return{'message':_0x4ef861(0x4ff)};if(_0x97eca[_0x4ef861(0x36b)][_0x4ef861(0x30b)](_0x2446ee=>_0x2446ee['groupId'][_0x4ef861(0x6c3)]()===_0x56bceb[_0x4ef861(0x5cd)][_0x4ef861(0x45a)]))return this['logger'][_0x4ef861(0x2b1)](this[_0x4ef861(0x192)]+'\x20('+this[_0x4ef861(0x60a)][_0x4ef861(0x33b)]+_0x4ef861(0x2a0)),{'message':_0x4ef861(0x58c)};_0x97eca[_0x4ef861(0x7a8)]=_0x97eca[_0x4ef861(0x7a8)][_0x4ef861(0x2c4)](_0x158d91=>_0x158d91['_id']['toString']()!==_0x56bceb[_0x4ef861(0x5cd)][_0x4ef861(0x45a)]);}else{if(_0x56bceb[_0x4ef861(0x5cd)]){if(_0x56bceb['group'][_0x4ef861(0x36d)]===!0x0)return{'message':_0x4ef861(0x5ed)};if(_0x56bceb[_0x4ef861(0x5cd)]['_id']){let _0x4964cc=_0x97eca[_0x4ef861(0x7a8)]['find'](_0x338920=>_0x338920[_0x4ef861(0x45a)]['toString']()===_0x56bceb['group'][_0x4ef861(0x45a)]);_0x4964cc&&(_0x56bceb[_0x4ef861(0x5cd)]['x']<0x0&&(_0x56bceb[_0x4ef861(0x5cd)]['x']=0x0),_0x56bceb['group']['y']<0x0&&(_0x56bceb[_0x4ef861(0x5cd)]['y']=0x0),Object[_0x4ef861(0x6af)](_0x4964cc,_0x56bceb[_0x4ef861(0x5cd)]));}else _0x97eca[_0x4ef861(0x7a8)][_0x4ef861(0x6c9)](_0x56bceb[_0x4ef861(0x5cd)]);}}let _0x46605e=await this['repository'][_0x4ef861(0x4b9)]['updateOne'](_0x97eca[_0x4ef861(0x45a)],_0x97eca);if(!_0x46605e)throw new Error(_0x4ef861(0x31d));return _0x46605e;}catch(_0x4becec){let _0x35acfa=_0x4ef861(0x492),_0x470e1d=_0x4becec instanceof Error?_0x4becec[_0x4ef861(0x451)]:typeof _0x4becec==_0x4ef861(0x64b)?JSON['stringify'](_0x4becec):_0x4becec,_0x215b39=_0x35acfa+':\x20'+_0x470e1d;throw this['logger'][_0x4ef861(0x2e7)](this[_0x4ef861(0x192)]+'\x20('+this['instance']['wuid']+_0x4ef861(0x6cd)+_0x215b39),new m(_0x215b39);}}async['editFlowCondition'](_0x1789f8){const _0x3145e6=a0_0x1955e1;try{if(this[_0x3145e6(0x773)][_0x3145e6(0x2b1)](this['instanceName']+'\x20('+this[_0x3145e6(0x60a)]['wuid']+_0x3145e6(0x624)),!this[_0x3145e6(0x4a3)][_0x3145e6(0x1fe)]['find'](_0x218801=>_0x218801[_0x3145e6(0x45a)]===_0x1789f8[_0x3145e6(0x45a)]))throw this['logger'][_0x3145e6(0x2b1)](this[_0x3145e6(0x192)]+'\x20('+this[_0x3145e6(0x60a)][_0x3145e6(0x33b)]+_0x3145e6(0x656)+_0x1789f8['_id']+_0x3145e6(0x4f9)),new m(_0x3145e6(0x6d5));let _0x4103a8=await this[_0x3145e6(0x3c7)][_0x3145e6(0x4b9)][_0x3145e6(0x309)]({'where':{'_id':_0x1789f8[_0x3145e6(0x45a)]}});if(!_0x4103a8||!_0x4103a8[_0x3145e6(0x4fe)]?.[_0x3145e6(0x718)](this[_0x3145e6(0x60a)]['wuid']))throw this[_0x3145e6(0x773)][_0x3145e6(0x2e7)](this[_0x3145e6(0x192)]+'\x20('+this[_0x3145e6(0x60a)][_0x3145e6(0x33b)]+_0x3145e6(0x2c1)+_0x1789f8[_0x3145e6(0x45a)]+_0x3145e6(0x77f)),new m('Flow\x20\x27'+_0x1789f8[_0x3145e6(0x45a)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x4103a8[_0x3145e6(0x3c8)]?.['includes'](this[_0x3145e6(0x60a)][_0x3145e6(0x33b)]))throw new m(_0x3145e6(0x8c5));let _0x23a0a5=!0x1;if(_0x1789f8[_0x3145e6(0x5f2)]?.[_0x3145e6(0x544)]===!0x0)_0x4103a8[_0x3145e6(0x4af)]=_0x4103a8[_0x3145e6(0x4af)][_0x3145e6(0x2c4)](_0x136157=>_0x136157&&_0x1789f8['condition']&&_0x136157['_id']&&_0x1789f8[_0x3145e6(0x5f2)]['_id']&&_0x136157[_0x3145e6(0x45a)][_0x3145e6(0x6c3)]()!==_0x1789f8[_0x3145e6(0x5f2)]['_id'][_0x3145e6(0x6c3)]()),_0x23a0a5=!0x0;else{let _0x2e0734=_0x4103a8['conditions'][_0x3145e6(0x6d3)](_0x2edc1e=>_0x2edc1e&&_0x1789f8[_0x3145e6(0x5f2)]&&_0x2edc1e[_0x3145e6(0x45a)]&&_0x1789f8['condition']['_id']&&_0x2edc1e[_0x3145e6(0x45a)][_0x3145e6(0x6c3)]()===_0x1789f8['condition'][_0x3145e6(0x45a)]['toString']());_0x2e0734?(_0x23a0a5=_0x2e0734[_0x3145e6(0x379)]!==_0x1789f8[_0x3145e6(0x5f2)][_0x3145e6(0x379)],Object[_0x3145e6(0x6af)](_0x2e0734,_0x1789f8[_0x3145e6(0x5f2)])):(_0x4103a8['conditions'][_0x3145e6(0x6c9)](_0x1789f8[_0x3145e6(0x5f2)]),_0x23a0a5=!0x0);}if(_0x23a0a5){_0x4103a8['conditions']['sort']((_0x1da812,_0xf3147c)=>_0x1da812[_0x3145e6(0x379)]>_0xf3147c[_0x3145e6(0x379)]?0x1:_0xf3147c[_0x3145e6(0x379)]>_0x1da812['order']?-0x1:0x0);for(let _0x23353a=0x0;_0x23353a<_0x4103a8['conditions'][_0x3145e6(0x7dc)];_0x23353a++)_0x4103a8[_0x3145e6(0x4af)][_0x23353a]['order']=_0x23353a+0x1;_0x4103a8[_0x3145e6(0x4af)][_0x3145e6(0x7dc)]>0x0&&(_0x4103a8[_0x3145e6(0x4af)][0x0][_0x3145e6(0x25a)]='and');}let _0xbb7d79=await this[_0x3145e6(0x3c7)][_0x3145e6(0x4b9)][_0x3145e6(0x400)](_0x4103a8['_id'],_0x4103a8);if(!_0xbb7d79)throw new Error(_0x3145e6(0x31d));return _0xbb7d79;}catch(_0x120d22){let _0x1faefd=_0x3145e6(0x51b),_0x1343e0=_0x120d22 instanceof Error?_0x120d22[_0x3145e6(0x451)]:typeof _0x120d22==_0x3145e6(0x64b)?JSON[_0x3145e6(0x36f)](_0x120d22):_0x120d22,_0xc48b6f=_0x1faefd+':\x20'+_0x1343e0;throw this[_0x3145e6(0x773)][_0x3145e6(0x2e7)](this[_0x3145e6(0x192)]+'\x20('+this[_0x3145e6(0x60a)]['wuid']+'):\x20'+_0xc48b6f),new m(_0xc48b6f);}}async[a0_0x1955e1(0x4b7)](_0x691f92){const _0x5a4511=a0_0x1955e1;try{if(this[_0x5a4511(0x773)][_0x5a4511(0x2b1)](this['instanceName']+'\x20('+this[_0x5a4511(0x60a)]['wuid']+_0x5a4511(0x1ba)),!this[_0x5a4511(0x4a3)][_0x5a4511(0x1fe)][_0x5a4511(0x6d3)](_0x74b18d=>_0x74b18d[_0x5a4511(0x45a)]===_0x691f92[_0x5a4511(0x45a)]))throw this[_0x5a4511(0x773)][_0x5a4511(0x2b1)](this['instanceName']+'\x20('+this[_0x5a4511(0x60a)][_0x5a4511(0x33b)]+_0x5a4511(0x656)+_0x691f92[_0x5a4511(0x45a)]+_0x5a4511(0x4f9)),new m(_0x5a4511(0x6d5));let _0x502804=await this[_0x5a4511(0x3c7)]['flow'][_0x5a4511(0x309)]({'where':{'_id':_0x691f92[_0x5a4511(0x45a)]}});if(!_0x502804||!_0x502804[_0x5a4511(0x4fe)]?.[_0x5a4511(0x718)](this[_0x5a4511(0x60a)]['wuid']))throw this[_0x5a4511(0x773)]['error'](this[_0x5a4511(0x192)]+'\x20('+this[_0x5a4511(0x60a)][_0x5a4511(0x33b)]+_0x5a4511(0x2c1)+_0x691f92['_id']+_0x5a4511(0x77f)),new m(_0x5a4511(0x3a1)+_0x691f92[_0x5a4511(0x45a)]+_0x5a4511(0x77f));if(!_0x502804['whoCanEdit']?.[_0x5a4511(0x718)](this[_0x5a4511(0x60a)][_0x5a4511(0x33b)]))throw new m(_0x5a4511(0x8c5));let _0x1f5158=!0x1;if(_0x691f92[_0x5a4511(0x520)]?.[_0x5a4511(0x544)]===!0x0)_0x502804[_0x5a4511(0x738)]=_0x502804[_0x5a4511(0x738)][_0x5a4511(0x2c4)](_0x1ceecf=>_0x1ceecf&&_0x691f92[_0x5a4511(0x520)]&&_0x1ceecf[_0x5a4511(0x45a)]&&_0x691f92[_0x5a4511(0x520)]['_id']&&_0x1ceecf['_id'][_0x5a4511(0x6c3)]()!==_0x691f92[_0x5a4511(0x520)][_0x5a4511(0x45a)]['toString']()),_0x1f5158=!0x0;else{let _0x2bc03c=_0x502804[_0x5a4511(0x738)][_0x5a4511(0x6d3)](_0x30f0ce=>_0x30f0ce&&_0x691f92[_0x5a4511(0x520)]&&_0x30f0ce['_id']&&_0x691f92[_0x5a4511(0x520)][_0x5a4511(0x45a)]&&_0x30f0ce[_0x5a4511(0x45a)]['toString']()===_0x691f92[_0x5a4511(0x520)][_0x5a4511(0x45a)][_0x5a4511(0x6c3)]());_0x2bc03c?(_0x1f5158=_0x2bc03c[_0x5a4511(0x379)]!==_0x691f92[_0x5a4511(0x520)][_0x5a4511(0x379)],Object[_0x5a4511(0x6af)](_0x2bc03c,_0x691f92[_0x5a4511(0x520)])):(_0x502804['varedits'][_0x5a4511(0x6c9)](_0x691f92[_0x5a4511(0x520)]),_0x1f5158=!0x0);}if(_0x1f5158){_0x502804[_0x5a4511(0x738)]['sort']((_0x18fbb7,_0x4edae1)=>_0x18fbb7[_0x5a4511(0x379)]>_0x4edae1[_0x5a4511(0x379)]?0x1:_0x4edae1[_0x5a4511(0x379)]>_0x18fbb7[_0x5a4511(0x379)]?-0x1:0x0);for(let _0x51db5b=0x0;_0x51db5b<_0x502804[_0x5a4511(0x738)][_0x5a4511(0x7dc)];_0x51db5b++)_0x502804['varedits'][_0x51db5b][_0x5a4511(0x379)]=_0x51db5b+0x1;}let _0x616699=await this[_0x5a4511(0x3c7)]['flow'][_0x5a4511(0x400)](_0x502804[_0x5a4511(0x45a)],_0x502804);if(!_0x616699)throw new Error(_0x5a4511(0x31d));return _0x616699;}catch(_0x41eaef){let _0x5c2bf7=_0x5a4511(0x51b),_0x242d7e=_0x41eaef instanceof Error?_0x41eaef[_0x5a4511(0x451)]:typeof _0x41eaef==_0x5a4511(0x64b)?JSON[_0x5a4511(0x36f)](_0x41eaef):_0x41eaef,_0x440e0a=_0x5c2bf7+':\x20'+_0x242d7e;throw this[_0x5a4511(0x773)][_0x5a4511(0x2e7)](this[_0x5a4511(0x192)]+'\x20('+this[_0x5a4511(0x60a)][_0x5a4511(0x33b)]+'):\x20'+_0x440e0a),new m(_0x440e0a);}}async[a0_0x1955e1(0x3a2)](_0x2095a1){const _0x103487=a0_0x1955e1;try{if(this[_0x103487(0x773)]['verbose'](this[_0x103487(0x192)]+'\x20('+this[_0x103487(0x60a)]['wuid']+_0x103487(0x292)),!this['AutomateSystem'][_0x103487(0x1fe)][_0x103487(0x6d3)](_0x5affc1=>_0x5affc1[_0x103487(0x45a)]===_0x2095a1[_0x103487(0x45a)]))throw this['logger'][_0x103487(0x2b1)](this['instanceName']+'\x20('+this[_0x103487(0x60a)][_0x103487(0x33b)]+_0x103487(0x656)+_0x2095a1['_id']+_0x103487(0x4f9)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x27137f=await this[_0x103487(0x3c7)][_0x103487(0x4b9)][_0x103487(0x309)]({'where':{'_id':_0x2095a1[_0x103487(0x45a)]}});if(!_0x27137f||!_0x27137f[_0x103487(0x4fe)]?.[_0x103487(0x718)](this['instance'][_0x103487(0x33b)]))throw this['logger'][_0x103487(0x2e7)](this[_0x103487(0x192)]+'\x20('+this[_0x103487(0x60a)]['wuid']+_0x103487(0x2c1)+_0x2095a1[_0x103487(0x45a)]+_0x103487(0x77f)),new m('Flow\x20\x27'+_0x2095a1['_id']+_0x103487(0x77f));if(!_0x27137f[_0x103487(0x3c8)]?.[_0x103487(0x718)](this[_0x103487(0x60a)]['wuid']))throw new m(_0x103487(0x8c5));_0x2095a1['variable'][_0x103487(0x543)]=_0x2095a1['variable']['name'][_0x103487(0x4f1)](),_0x2095a1[_0x103487(0x780)]['name']['startsWith']('_')&&(_0x2095a1[_0x103487(0x780)][_0x103487(0x543)]=_0x2095a1[_0x103487(0x780)][_0x103487(0x543)][_0x103487(0x6ee)](0x1)),_0x2095a1[_0x103487(0x780)]['name']=_0x2095a1[_0x103487(0x780)][_0x103487(0x543)][_0x103487(0x4f1)]();let _0x5bb3eb=_0x27137f[_0x103487(0x24e)][_0x103487(0x6d3)](_0x3b5cec=>_0x3b5cec[_0x103487(0x543)]===_0x2095a1[_0x103487(0x780)][_0x103487(0x543)]);if(_0x5bb3eb?.[_0x103487(0x4a1)]===!0x0)throw new Error(_0x103487(0x720));if(_0x2095a1[_0x103487(0x780)]?.[_0x103487(0x544)]===!0x0){if(!_0x5bb3eb)return{'message':_0x103487(0x6b6)};_0x27137f['variables']=_0x27137f[_0x103487(0x24e)][_0x103487(0x2c4)](_0x205d80=>_0x205d80[_0x103487(0x543)]!==_0x2095a1[_0x103487(0x780)][_0x103487(0x543)]);}else _0x5bb3eb?Object[_0x103487(0x6af)](_0x5bb3eb,_0x2095a1[_0x103487(0x780)]):_0x27137f[_0x103487(0x24e)][_0x103487(0x6c9)](_0x2095a1['variable']);let _0x59e50e=await this[_0x103487(0x3c7)][_0x103487(0x4b9)]['updateOne'](_0x27137f['_id'],_0x27137f);if(!_0x59e50e)throw new Error(_0x103487(0x31d));return _0x59e50e;}catch(_0x148790){let _0x14b992=_0x103487(0x49e),_0x3cc95d=_0x148790 instanceof Error?_0x148790[_0x103487(0x451)]:typeof _0x148790==_0x103487(0x64b)?JSON[_0x103487(0x36f)](_0x148790):_0x148790,_0x4ba6de=_0x14b992+':\x20'+_0x3cc95d;throw this[_0x103487(0x773)][_0x103487(0x2e7)](this['instanceName']+'\x20('+this[_0x103487(0x60a)][_0x103487(0x33b)]+'):\x20'+_0x4ba6de),new m(_0x4ba6de);}}async[a0_0x1955e1(0x747)](_0x1dc2fa){const _0x3bd9bc=a0_0x1955e1;let _0x14aa87=null;try{if(!this['AutomateSystem']?.[_0x3bd9bc(0x7d4)][_0x3bd9bc(0x79a)])throw new m(_0x3bd9bc(0x468));this[_0x3bd9bc(0x773)][_0x3bd9bc(0x2b1)](this[_0x3bd9bc(0x192)]+'\x20('+this[_0x3bd9bc(0x60a)][_0x3bd9bc(0x33b)]+_0x3bd9bc(0x7c5));let _0x180af8=(await this[_0x3bd9bc(0x73d)]({'numbers':[_0x1dc2fa[_0x3bd9bc(0x8a0)]]}))[0x0];if(!_0x180af8[_0x3bd9bc(0x72e)]&&!(0x0,w['isJidGroup'])(_0x180af8[_0x3bd9bc(0x6b2)])&&!_0x180af8[_0x3bd9bc(0x6b2)][_0x3bd9bc(0x718)](_0x3bd9bc(0x547)))throw _0x14aa87=JSON[_0x3bd9bc(0x36f)](_0x180af8,null,0x2),new m(_0x180af8);let _0x4ac68f;if(_0x1dc2fa[_0x3bd9bc(0x543)][_0x3bd9bc(0x7dc)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x3bd9bc(0x390)](_0x1dc2fa[_0x3bd9bc(0x543)])?_0x4ac68f=this['AutomateSystem'][_0x3bd9bc(0x1fe)][_0x3bd9bc(0x6d3)](_0x5261b5=>_0x5261b5[_0x3bd9bc(0x45a)]===_0x1dc2fa[_0x3bd9bc(0x543)]):_0x4ac68f=this[_0x3bd9bc(0x4a3)][_0x3bd9bc(0x1fe)][_0x3bd9bc(0x6d3)](_0x5a2d5f=>_0x5a2d5f[_0x3bd9bc(0x543)]===_0x1dc2fa[_0x3bd9bc(0x543)]),!_0x4ac68f)throw this['logger'][_0x3bd9bc(0x2b1)](this[_0x3bd9bc(0x192)]+'\x20('+this[_0x3bd9bc(0x60a)][_0x3bd9bc(0x33b)]+'):\x20Fluxo\x20\x27'+_0x1dc2fa[_0x3bd9bc(0x543)]+_0x3bd9bc(0x4f9)),new m(_0x3bd9bc(0x6d5));let _0x504407=await this[_0x3bd9bc(0x3c7)][_0x3bd9bc(0x4b9)][_0x3bd9bc(0x309)]({'where':{'_id':_0x4ac68f[_0x3bd9bc(0x45a)]}});if(!_0x504407||!_0x504407[_0x3bd9bc(0x4fe)]?.[_0x3bd9bc(0x718)](this[_0x3bd9bc(0x60a)]['wuid']))throw this[_0x3bd9bc(0x773)]['error'](this['instanceName']+'\x20('+this[_0x3bd9bc(0x60a)][_0x3bd9bc(0x33b)]+_0x3bd9bc(0x2c1)+_0x4ac68f[_0x3bd9bc(0x45a)]+_0x3bd9bc(0x77f)),_0x14aa87=_0x3bd9bc(0x3a1)+_0x4ac68f[_0x3bd9bc(0x45a)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo',new m(_0x14aa87);let _0x20247c=await this[_0x3bd9bc(0x36c)](_0x504407,_0x180af8[_0x3bd9bc(0x6b2)],_0x1dc2fa['changeVariables']);if(_0x20247c){this[_0x3bd9bc(0x773)][_0x3bd9bc(0x2b1)](this[_0x3bd9bc(0x192)]+'\x20('+this['instance'][_0x3bd9bc(0x33b)]+_0x3bd9bc(0x64f));let _0xb6704e=await this[_0x3bd9bc(0x745)](_0x20247c);return _0xb6704e&&await this[_0x3bd9bc(0x1e1)](_0x20247c,_0xb6704e),{'message':_0x3bd9bc(0x725)+_0x1dc2fa[_0x3bd9bc(0x8a0)]};}}catch(_0x43e916){if(this['logger']['error'](this[_0x3bd9bc(0x192)]+'\x20('+this[_0x3bd9bc(0x60a)]['wuid']+_0x3bd9bc(0x7a7)+(_0x43e916 instanceof Error?_0x43e916[_0x3bd9bc(0x451)]:JSON[_0x3bd9bc(0x36f)](_0x43e916,null,0x2))),_0x14aa87=_0x43e916 instanceof Error?_0x43e916[_0x3bd9bc(0x451)]:JSON[_0x3bd9bc(0x36f)](_0x43e916,null,0x2),_0x14aa87)throw new m(_0x3bd9bc(0x568)+_0x14aa87);}}async[a0_0x1955e1(0x867)](_0x29e940,_0x412f16,_0x1307ff){const _0x3b55ca=a0_0x1955e1;let _0x1401f0=null;try{if(!this[_0x3b55ca(0x4a3)]?.[_0x3b55ca(0x7d4)][_0x3b55ca(0x79a)])throw new m(_0x3b55ca(0x468));if(this['logger'][_0x3b55ca(0x2b1)](this[_0x3b55ca(0x192)]+'\x20('+this[_0x3b55ca(0x60a)][_0x3b55ca(0x33b)]+_0x3b55ca(0x7c5)),_0x412f16){let _0x462667=(await this[_0x3b55ca(0x73d)]({'numbers':[_0x412f16]}))[0x0];if(!_0x462667[_0x3b55ca(0x72e)]&&!(0x0,w[_0x3b55ca(0x35e)])(_0x462667['jid'])&&!_0x462667['jid'][_0x3b55ca(0x718)](_0x3b55ca(0x547)))throw _0x1401f0=JSON['stringify'](_0x462667,null,0x2),new m(_0x462667);_0x412f16=_0x462667[_0x3b55ca(0x6b2)];}else _0x412f16||(_0x412f16=(0x0,Y['v4'])());let _0x2067bd=await this[_0x3b55ca(0x3c7)][_0x3b55ca(0x4b9)][_0x3b55ca(0x309)]({'where':{'_id':_0x29e940}});if(!_0x2067bd||!_0x2067bd[_0x3b55ca(0x4fe)]?.[_0x3b55ca(0x718)](this[_0x3b55ca(0x60a)][_0x3b55ca(0x33b)]))throw this[_0x3b55ca(0x773)]['error'](this[_0x3b55ca(0x192)]+'\x20('+this[_0x3b55ca(0x60a)]['wuid']+'):\x20Flow\x20\x27'+_0x29e940+_0x3b55ca(0x77f)),new m(_0x3b55ca(0x3a1)+_0x29e940+_0x3b55ca(0x77f));let _0x12a2b0=await this['createConversationforStartFlow'](_0x2067bd,_0x412f16,null);if(_0x12a2b0){this['logger']['verbose'](this[_0x3b55ca(0x192)]+'\x20('+this['instance'][_0x3b55ca(0x33b)]+'):\x20Criou\x20conversa\x20no\x20startFlowWebhook');let _0x42078c;if(_0x1307ff){let _0x41020e=_0x12a2b0[_0x3b55ca(0x887)][_0x3b55ca(0x2c5)],_0x43dcf1=this[_0x3b55ca(0x248)](_0x1307ff);Object[_0x3b55ca(0x6af)](_0x41020e,_0x43dcf1),_0x12a2b0[_0x3b55ca(0x887)][_0x3b55ca(0x2c5)]=_0x41020e,_0x42078c={'error':!0x1,'apiResponse':_0x1307ff};}let _0x511f16=await this[_0x3b55ca(0x745)](_0x12a2b0);return _0x511f16&&await this['processblock'](_0x12a2b0,_0x511f16),{'message':_0x3b55ca(0x57d)};}}catch(_0x30cf8f){if(this[_0x3b55ca(0x773)][_0x3b55ca(0x2e7)](this['instanceName']+'\x20('+this[_0x3b55ca(0x60a)][_0x3b55ca(0x33b)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x30cf8f instanceof Error?_0x30cf8f[_0x3b55ca(0x451)]:JSON[_0x3b55ca(0x36f)](_0x30cf8f,null,0x2))),_0x1401f0=_0x30cf8f instanceof Error?_0x30cf8f[_0x3b55ca(0x451)]:JSON[_0x3b55ca(0x36f)](_0x30cf8f,null,0x2),_0x1401f0)throw new m(_0x3b55ca(0x568)+_0x1401f0);}}async[a0_0x1955e1(0x8c3)](_0x3678a0){const _0x512ba9=a0_0x1955e1;try{let _0x217dd4={'remoteJid':_0x3678a0,'status':_0x512ba9(0x2ac)},_0x5dbeb6={'status':_0x512ba9(0x5cc)},_0x165903=await this['repository']['flowConversation'][_0x512ba9(0x1b4)](_0x217dd4,_0x5dbeb6,this[_0x512ba9(0x60a)][_0x512ba9(0x33b)]);return this[_0x512ba9(0x773)][_0x512ba9(0x2b1)](this[_0x512ba9(0x192)]+'\x20('+this[_0x512ba9(0x60a)][_0x512ba9(0x33b)]+_0x512ba9(0x817)),_0x165903;}catch(_0x17f65e){throw this[_0x512ba9(0x773)]['error'](this[_0x512ba9(0x192)]+'\x20('+this[_0x512ba9(0x60a)]['wuid']+_0x512ba9(0x89a)+_0x17f65e['message']),_0x17f65e;}}async[a0_0x1955e1(0x36c)](_0x1fa951,_0x23c102,_0x5420b5){const _0x42d8ec=a0_0x1955e1;this['logger'][_0x42d8ec(0x2b1)](this[_0x42d8ec(0x192)]+'\x20('+this[_0x42d8ec(0x60a)][_0x42d8ec(0x33b)]+_0x42d8ec(0x407)),await this[_0x42d8ec(0x8c3)](_0x23c102);try{let _0x5745fd=require('mongodb')['ObjectId'],_0x4e7688=Date[_0x42d8ec(0x835)](),_0x1c4914='start',_0x51ea05={},_0x139a17={},_0x2b4064=this[_0x42d8ec(0x4a3)][_0x42d8ec(0x1fe)]['find'](_0x3488dd=>_0x3488dd[_0x42d8ec(0x45a)]===_0x1fa951[_0x42d8ec(0x45a)]?.[_0x42d8ec(0x6c3)]()),_0x19485c=_0x2b4064?.[_0x42d8ec(0x5de)]??_0x1fa951[_0x42d8ec(0x5de)]??0x0,_0x56144e=_0x2b4064?.[_0x42d8ec(0x47f)]??_0x1fa951[_0x42d8ec(0x47f)]??!0x1,_0x851883={'flowId':_0x1fa951[_0x42d8ec(0x45a)],..._0x1fa951,'chatLog':null},_0x1f1224=await this[_0x42d8ec(0x516)](_0x851883[_0x42d8ec(0x24e)]),_0x266904=await this[_0x42d8ec(0x41d)](_0x23c102),_0x5c8607={..._0x1f1224,..._0x266904,'_remoteJid':_0x23c102},_0x4a9a4e={'lastReceivedMessage':_0x51ea05,'lastSendMessage':_0x139a17,'lastBlockId':_0x1c4914,'lastCondition':!0x0,'realVariables':_0x5c8607};_0x851883[_0x42d8ec(0x887)]=_0x4a9a4e,_0x851883['chatLog'][_0x42d8ec(0x2c5)]={..._0x5c8607,..._0x5420b5},delete _0x851883['_id'],_0x851883['_id']=new _0x5745fd(),_0x851883[_0x42d8ec(0x278)]=_0x4e7688,_0x851883[_0x42d8ec(0x3d9)]=_0x42d8ec(0x2ac),_0x851883[_0x42d8ec(0x8a0)]=_0x23c102,_0x851883['minutesToClose']=_0x19485c,_0x851883[_0x42d8ec(0x47f)]=_0x56144e,_0x851883[_0x42d8ec(0x45a)]=_0x1fa951[_0x42d8ec(0x45a)];let _0x6ff2a2=await this[_0x42d8ec(0x3c7)]['flowConversation'][_0x42d8ec(0x400)](_0x851883[_0x42d8ec(0x45a)],_0x851883,this[_0x42d8ec(0x60a)][_0x42d8ec(0x33b)]);return this['logger']['verbose'](this[_0x42d8ec(0x192)]+'\x20('+this[_0x42d8ec(0x60a)][_0x42d8ec(0x33b)]+_0x42d8ec(0x6cb)),_0x6ff2a2?_0x851883:null;}catch(_0x547a91){let _0x42a996=_0x42d8ec(0x6ca),_0x1dd3e4=_0x547a91 instanceof Error?_0x547a91[_0x42d8ec(0x451)]:typeof _0x547a91=='object'?JSON['stringify'](_0x547a91):_0x547a91,_0x2562a6=_0x42a996+':\x20'+_0x1dd3e4;throw this[_0x42d8ec(0x773)]['error'](this['instanceName']+'\x20('+this[_0x42d8ec(0x60a)][_0x42d8ec(0x33b)]+_0x42d8ec(0x6cd)+_0x2562a6),new m(_0x2562a6);}}async['getConversation'](_0x863d78){const _0x4fe4f9=a0_0x1955e1;try{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4fe4f9(0x60a)][_0x4fe4f9(0x33b)]+_0x4fe4f9(0x501)),this['logger']['verbose'](this[_0x4fe4f9(0x192)]+'\x20('+this['instance'][_0x4fe4f9(0x33b)]+_0x4fe4f9(0x236)+_0x863d78);let _0x2ad14f={'where':{'_id':_0x863d78}};return await this[_0x4fe4f9(0x3c7)][_0x4fe4f9(0x2dc)]['findOne'](_0x2ad14f,this[_0x4fe4f9(0x60a)][_0x4fe4f9(0x33b)]);}catch(_0x145350){let _0x91a61d='Erro\x20ao\x20buscar\x20a\x20conversa',_0x59ab73=_0x145350 instanceof Error?_0x145350['message']:typeof _0x145350==_0x4fe4f9(0x64b)?JSON[_0x4fe4f9(0x36f)](_0x145350):_0x145350,_0x1afae9=_0x91a61d+':\x20'+_0x59ab73;throw this['logger'][_0x4fe4f9(0x2e7)](this[_0x4fe4f9(0x192)]+'\x20('+this[_0x4fe4f9(0x60a)][_0x4fe4f9(0x33b)]+_0x4fe4f9(0x6cd)+_0x1afae9),new m(_0x1afae9);}}async[a0_0x1955e1(0x67e)](_0x16b138){const _0x17da68=a0_0x1955e1;try{return this['logger'][_0x17da68(0x2b1)](this[_0x17da68(0x192)]+'\x20('+this[_0x17da68(0x60a)][_0x17da68(0x33b)]+_0x17da68(0x587)),await this[_0x17da68(0x3c7)][_0x17da68(0x2dc)][_0x17da68(0x6d3)](_0x16b138,this[_0x17da68(0x60a)][_0x17da68(0x33b)]);}catch(_0x397c4f){let _0x33ce11=_0x17da68(0x7fb),_0x56b49e=_0x397c4f instanceof Error?_0x397c4f[_0x17da68(0x451)]:typeof _0x397c4f==_0x17da68(0x64b)?JSON['stringify'](_0x397c4f):_0x397c4f,_0x4b9864=_0x33ce11+':\x20'+_0x56b49e;throw this[_0x17da68(0x773)]['error'](this[_0x17da68(0x192)]+'\x20('+this[_0x17da68(0x60a)][_0x17da68(0x33b)]+_0x17da68(0x6cd)+_0x4b9864),new m(_0x4b9864);}}async[a0_0x1955e1(0x275)](_0x4884cc){const _0xccd4f1=a0_0x1955e1;try{return this[_0xccd4f1(0x773)]['verbose'](this['instanceName']+'\x20('+this[_0xccd4f1(0x60a)]['wuid']+'):\x20Deletando\x20conversa...'),this['logger']['verbose'](this[_0xccd4f1(0x192)]+'\x20('+this[_0xccd4f1(0x60a)][_0xccd4f1(0x33b)]+_0xccd4f1(0x216)+_0x4884cc),(await this[_0xccd4f1(0x3c7)]['flowConversation'][_0xccd4f1(0x66e)]({'where':{'_id':_0x4884cc[_0xccd4f1(0x45a)]}},this[_0xccd4f1(0x60a)][_0xccd4f1(0x33b)]))[_0xccd4f1(0x190)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0xccd4f1(0x4e3)};}catch(_0x2e41ad){let _0x327fd9=_0xccd4f1(0x812),_0x2547ff=_0x2e41ad instanceof Error?_0x2e41ad[_0xccd4f1(0x451)]:typeof _0x2e41ad==_0xccd4f1(0x64b)?JSON[_0xccd4f1(0x36f)](_0x2e41ad):_0x2e41ad,_0x39ba74=_0x327fd9+':\x20'+_0x2547ff;throw this[_0xccd4f1(0x773)]['error'](this[_0xccd4f1(0x192)]+'\x20('+this['instance']['wuid']+_0xccd4f1(0x6cd)+_0x39ba74),new m(_0x39ba74);}}async[a0_0x1955e1(0x49b)](_0x3934fc){const _0xfd9bfd=a0_0x1955e1;try{let {_id:_0x3d0b92,chatLog:_0x5d997a,status:_0xeac6fb}=_0x3934fc;if(!_0x3d0b92)return{'message':_0xfd9bfd(0x25f)};let _0x2f6f85={};if(_0xeac6fb!==void 0x0&&(_0x2f6f85[_0xfd9bfd(0x3d9)]=_0xeac6fb),Object[_0xfd9bfd(0x281)](_0x2f6f85)[_0xfd9bfd(0x7dc)]===0x0)return{'message':_0xfd9bfd(0x84f)};let _0xbe9754=await this[_0xfd9bfd(0x3c7)]['flowConversation']['updateOne'](_0x3d0b92,_0x2f6f85,this[_0xfd9bfd(0x60a)][_0xfd9bfd(0x33b)]);return _0xbe9754||{'message':_0xfd9bfd(0x7cb)};}catch(_0x302deb){let _0x578f6b=_0xfd9bfd(0x31a),_0x492892=_0x302deb instanceof Error?_0x302deb[_0xfd9bfd(0x451)]:typeof _0x302deb==_0xfd9bfd(0x64b)?JSON[_0xfd9bfd(0x36f)](_0x302deb):_0x302deb,_0x756df9=_0x578f6b+':\x20'+_0x492892;throw this[_0xfd9bfd(0x773)]['error'](this[_0xfd9bfd(0x192)]+'\x20('+this[_0xfd9bfd(0x60a)][_0xfd9bfd(0x33b)]+_0xfd9bfd(0x6cd)+_0x756df9),new m(_0x756df9);}}async[a0_0x1955e1(0x61f)](_0x1d3ed3){const _0x1003dc=a0_0x1955e1;try{_0x1d3ed3[_0x1003dc(0x45a)]=this[_0x1003dc(0x792)](_0x1d3ed3[_0x1003dc(0x45a)]);let _0x5d2853=await this[_0x1003dc(0x3c7)][_0x1003dc(0x326)][_0x1003dc(0x309)]({'where':{'_id':_0x1d3ed3[_0x1003dc(0x45a)]}},this['instance']['wuid']);if(!_0x5d2853)throw new m(_0x1003dc(0x87e));let {_id:_0x4d706b,leadInfo:_0x21af8e}=_0x1d3ed3;if(!_0x4d706b)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x1d3ed3[_0x1003dc(0x544)]===_0x1003dc(0x314))return await this[_0x1003dc(0x1a5)](_0x1d3ed3[_0x1003dc(0x45a)]),await this['repository'][_0x1003dc(0x326)][_0x1003dc(0x544)]({'where':{'_id':_0x1d3ed3['_id']}},this[_0x1003dc(0x60a)][_0x1003dc(0x33b)]),await this[_0x1003dc(0x3c7)][_0x1003dc(0x451)][_0x1003dc(0x544)]({'where':{'key':{'remoteJid':_0x1d3ed3[_0x1003dc(0x45a)]}}},this[_0x1003dc(0x60a)][_0x1003dc(0x33b)]),_0x1d3ed3=await this[_0x1003dc(0x3c7)][_0x1003dc(0x326)][_0x1003dc(0x400)]({'where':{'_id':_0x1d3ed3[_0x1003dc(0x45a)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x1003dc(0x60a)]['wuid']),j(this[_0x1003dc(0x192)],'chats',{'chat':_0x1d3ed3}),{'message':_0x1003dc(0x2e0)};if(_0x1d3ed3[_0x1003dc(0x544)]===_0x1003dc(0x687))return await this[_0x1003dc(0x3c7)][_0x1003dc(0x451)]['delete']({'where':{'key':{'remoteJid':_0x1d3ed3[_0x1003dc(0x45a)]}}},this[_0x1003dc(0x60a)]['wuid']),_0x1d3ed3=await this[_0x1003dc(0x3c7)]['chat'][_0x1003dc(0x400)]({'where':{'_id':_0x1d3ed3[_0x1003dc(0x45a)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']),j(this[_0x1003dc(0x192)],_0x1003dc(0x8bf),{'chat':_0x1d3ed3}),{'message':_0x1003dc(0x2df)};let _0x62da3f=(_0x2f40f1,_0x34ab86,_0x30a554)=>{const _0x4d1bf=_0x1003dc;_0x2f40f1&&_0x30a554[_0x4d1bf(0x408)](_0x651e32=>{const _0x7a63f8=_0x4d1bf;_0x2f40f1[_0x651e32]!==void 0x0&&(_0x34ab86[_0x7a63f8(0x881)+_0x651e32]=_0x2f40f1[_0x651e32]);});},_0x3e47bf={};if('muteEndTime'in _0x1d3ed3&&(this[_0x1003dc(0x773)]['verbose'](this[_0x1003dc(0x192)]+'\x20('+this[_0x1003dc(0x60a)]['wuid']+'):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x1d3ed3[_0x1003dc(0x45a)]),_0x1d3ed3['muteEndTime']=_0x1d3ed3[_0x1003dc(0x5d2)]===0x0?null:-0x1,await this[_0x1003dc(0x88d)][_0x1003dc(0x666)]({'mute':_0x1d3ed3[_0x1003dc(0x5d2)]},_0x1d3ed3[_0x1003dc(0x45a)]),_0x3e47bf[_0x1003dc(0x5d2)]=Number(_0x1d3ed3['muteEndTime'])),_0x21af8e&&(_0x62da3f(_0x21af8e,_0x3e47bf,['nome',_0x1003dc(0x60c),_0x1003dc(0x7d0),_0x1003dc(0x472),'status',_0x1003dc(0x465),_0x1003dc(0x535),_0x1003dc(0x83b),_0x1003dc(0x3f0),'etiquetas','desativadoFluxoAte']),Array[_0x1003dc(0x4b0)](_0x21af8e[_0x1003dc(0x6d6)])&&(_0x3e47bf[_0x1003dc(0x444)]=_0x21af8e[_0x1003dc(0x6d6)]['map'](_0x41628c=>({'_id':_0x41628c['_id'],'value':_0x41628c[_0x1003dc(0x40c)]}))),_0x1d3ed3[_0x1003dc(0x4a1)][_0x1003dc(0x3e5)]!==void 0x0)){let _0x361aff=await this[_0x1003dc(0x3c7)][_0x1003dc(0x4aa)][_0x1003dc(0x6d3)]({'where':{}},this[_0x1003dc(0x60a)][_0x1003dc(0x33b)]),_0x20f1cc=new Set(_0x1d3ed3[_0x1003dc(0x4a1)][_0x1003dc(0x3e5)]||[]),_0x17367f=new Set(_0x1d3ed3[_0x1003dc(0x4a1)]['etiquetas']),_0x51ad0c=new Set(_0x361aff[_0x1003dc(0x3e2)](_0x50dc25=>_0x50dc25[_0x1003dc(0x45a)])),_0x971c4b=[..._0x17367f]['filter'](_0x710d69=>!_0x20f1cc[_0x1003dc(0x8bb)](_0x710d69)&&_0x51ad0c[_0x1003dc(0x8bb)](_0x710d69)),_0x266494=[..._0x20f1cc][_0x1003dc(0x2c4)](_0xdd76ea=>!_0x17367f[_0x1003dc(0x8bb)](_0xdd76ea));if(_0x3e47bf[_0x1003dc(0x7e1)]=[..._0x20f1cc],_0x5d2853&&!_0x5d2853[_0x1003dc(0x688)]){for(let _0x1471d5 of _0x971c4b)await this[_0x1003dc(0x2f8)](_0x1471d5,_0x1d3ed3['_id']),_0x20f1cc[_0x1003dc(0x5c7)](_0x1471d5);for(let _0x4b7a99 of _0x266494)await this[_0x1003dc(0x391)](_0x4b7a99,_0x1d3ed3[_0x1003dc(0x45a)]),_0x20f1cc[_0x1003dc(0x544)](_0x4b7a99);}}if(_0x1d3ed3['unreadcount']!==void 0x0&&(_0x3e47bf['unreadcount']=Number(_0x1d3ed3[_0x1003dc(0x414)])),Object[_0x1003dc(0x281)](_0x3e47bf)[_0x1003dc(0x7dc)]===0x0)throw new Error(_0x1003dc(0x84f));let _0x76a6c0=await this[_0x1003dc(0x3c7)][_0x1003dc(0x326)][_0x1003dc(0x400)]({'where':{'_id':_0x1d3ed3[_0x1003dc(0x45a)]}},_0x3e47bf,this[_0x1003dc(0x60a)]['wuid']);return _0x76a6c0&&j(this[_0x1003dc(0x192)],'chats',{'chat':_0x76a6c0}),_0x76a6c0?(this['logger'][_0x1003dc(0x2b1)](this[_0x1003dc(0x192)]+'\x20('+this['instance'][_0x1003dc(0x33b)]+_0x1003dc(0x6cd)+JSON['stringify'](_0x76a6c0,null,0x2)),_0x76a6c0):{'message':_0x1003dc(0x5e0)};}catch(_0x225e4b){let _0xebb398='Erro\x20ao\x20editar\x20o\x20chat',_0x1fbfd2=_0x225e4b instanceof Error?_0x225e4b[_0x1003dc(0x451)]:typeof _0x225e4b==_0x1003dc(0x64b)?JSON[_0x1003dc(0x36f)](_0x225e4b):_0x225e4b,_0x574032=_0xebb398+':\x20'+_0x1fbfd2;throw this[_0x1003dc(0x773)]['error'](this[_0x1003dc(0x192)]+'\x20('+this[_0x1003dc(0x60a)][_0x1003dc(0x33b)]+_0x1003dc(0x6cd)+_0x574032),new m(_0x574032);}}async['AddChatLabel'](_0x3766a4,_0x2e0816){const _0x276414=a0_0x1955e1;try{await this[_0x276414(0x88d)][_0x276414(0x7b9)](_0x2e0816,_0x3766a4),this[_0x276414(0x773)][_0x276414(0x6e0)](this[_0x276414(0x192)]+'\x20('+this['instance']['wuid']+_0x276414(0x85d)+_0x3766a4+_0x276414(0x422)+_0x2e0816+_0x276414(0x86b));}catch(_0x576abd){this[_0x276414(0x773)]['error']('Erro\x20ao\x20adicionar\x20label\x20'+_0x3766a4+'\x20ao\x20chat\x20'+_0x2e0816+':\x20'+_0x576abd);}}async[a0_0x1955e1(0x391)](_0x205e80,_0x3140b9){const _0x3c5584=a0_0x1955e1;try{await this[_0x3c5584(0x88d)][_0x3c5584(0x39e)](_0x3140b9,_0x205e80),this[_0x3c5584(0x773)]['info'](this[_0x3c5584(0x192)]+'\x20('+this[_0x3c5584(0x60a)][_0x3c5584(0x33b)]+'):\x20Label\x20'+_0x205e80+_0x3c5584(0x511)+_0x3140b9+_0x3c5584(0x86b));}catch(_0x596afa){this[_0x3c5584(0x773)][_0x3c5584(0x2e7)]('Erro\x20ao\x20remover\x20label\x20'+_0x205e80+_0x3c5584(0x573)+_0x3140b9+':\x20'+_0x596afa);}}async['updateAgent'](_0x5e1bd6){const _0x1182c0=a0_0x1955e1;try{let _0x569b43=await this[_0x1182c0(0x3c7)][_0x1182c0(0x70a)][_0x1182c0(0x7cd)](this[_0x1182c0(0x60a)][_0x1182c0(0x33b)]),_0x4dc314=_0x5e1bd6[_0x1182c0(0x45a)]?_0x569b43['agents'][_0x1182c0(0x4bb)](_0x16c40a=>_0x16c40a[_0x1182c0(0x45a)]===_0x5e1bd6[_0x1182c0(0x45a)]):-0x1;if(_0x5e1bd6[_0x1182c0(0x544)]&&_0x4dc314>-0x1)_0x569b43['agents'][_0x1182c0(0x846)](_0x4dc314,0x1);else{if(_0x4dc314>-0x1){let _0x9bc671=_0x569b43[_0x1182c0(0x4b8)][_0x4dc314];_0x5e1bd6['fone']&&(_0x9bc671['fone']=_0x5e1bd6['fone']),_0x5e1bd6[_0x1182c0(0x543)]&&(_0x9bc671[_0x1182c0(0x543)]=_0x5e1bd6[_0x1182c0(0x543)]),_0x5e1bd6[_0x1182c0(0x7d0)]&&(_0x9bc671[_0x1182c0(0x7d0)]=_0x5e1bd6[_0x1182c0(0x7d0)]),_0x5e1bd6[_0x1182c0(0x315)]&&(_0x9bc671[_0x1182c0(0x315)]=_0x5e1bd6[_0x1182c0(0x315)]);}else _0x569b43[_0x1182c0(0x4b8)]['push']({'_id':_0x5e1bd6['_id']||new me[(_0x1182c0(0x36d))][(_0x1182c0(0x5e1))][(_0x1182c0(0x692))]()[_0x1182c0(0x6c3)](),'fone':_0x5e1bd6['fone'],'name':_0x5e1bd6[_0x1182c0(0x543)],'email':_0x5e1bd6['email'],'role':_0x5e1bd6['role']});}let _0x53da07={'agents':_0x569b43['agents']},_0x4b34b2=await this[_0x1182c0(0x3c7)][_0x1182c0(0x70a)]['update'](_0x53da07,this['instance']['wuid']);return this[_0x1182c0(0x4a3)]=_0x4b34b2,this['logger'][_0x1182c0(0x2b1)](this[_0x1182c0(0x192)]+'\x20('+this[_0x1182c0(0x60a)][_0x1182c0(0x33b)]+_0x1182c0(0x886)),this[_0x1182c0(0x773)][_0x1182c0(0x2b1)](this[_0x1182c0(0x192)]+'\x20('+this[_0x1182c0(0x60a)][_0x1182c0(0x33b)]+_0x1182c0(0x6cd)+this[_0x1182c0(0x4a3)]),_0x4b34b2;}catch(_0x17aea6){let _0xbbf1da='Erro\x20ao\x20editar\x20agentes',_0x1265a9=_0x17aea6 instanceof Error?_0x17aea6[_0x1182c0(0x451)]:typeof _0x17aea6==_0x1182c0(0x64b)?JSON[_0x1182c0(0x36f)](_0x17aea6):_0x17aea6,_0x3f37df=_0xbbf1da+':\x20'+_0x1265a9;throw this['logger'][_0x1182c0(0x2e7)](this['instanceName']+'\x20('+this[_0x1182c0(0x60a)][_0x1182c0(0x33b)]+_0x1182c0(0x6cd)+_0x3f37df),new m(_0x3f37df);}}async[a0_0x1955e1(0x43d)](_0x1dec17){const _0x345688=a0_0x1955e1;try{let _0x21be54=await this[_0x345688(0x3c7)]['automateSystem']['findOrCreate'](this[_0x345688(0x60a)][_0x345688(0x33b)]),_0x230163=_0x1dec17['_id']?_0x21be54['customFields'][_0x345688(0x4bb)](_0x4adca2=>_0x4adca2['_id']===_0x1dec17[_0x345688(0x45a)]):-0x1,_0x31630d=!0x1,_0x494e3c=_0x21be54['customFields'][_0x345688(0x30b)](_0x14efba=>_0x14efba['order']===_0x1dec17[_0x345688(0x379)]);if(_0x1dec17[_0x345688(0x544)]&&_0x230163>-0x1)_0x21be54[_0x345688(0x6d6)][_0x345688(0x846)](_0x230163,0x1),_0x31630d=!0x0;else{if(_0x230163>-0x1){if(_0x21be54[_0x345688(0x6d6)][_0x345688(0x30b)](_0x1d1aed=>_0x1d1aed['name']===_0x1dec17['name']&&_0x1d1aed[_0x345688(0x45a)]!==_0x1dec17[_0x345688(0x45a)]))throw new Error(_0x345688(0x5a4));let _0x1815d1=_0x21be54[_0x345688(0x6d6)][_0x230163];_0x1dec17[_0x345688(0x379)]&&(_0x494e3c||!Number['isInteger'](_0x1dec17[_0x345688(0x379)]))&&(_0x1815d1[_0x345688(0x379)]=_0x1dec17[_0x345688(0x379)],_0x31630d=!0x0),_0x1dec17[_0x345688(0x543)]&&(_0x1815d1['name']=_0x1dec17[_0x345688(0x543)]);}else{if(_0x21be54[_0x345688(0x6d6)]['some'](_0x2e4748=>_0x2e4748[_0x345688(0x543)]===_0x1dec17['name']&&_0x2e4748[_0x345688(0x45a)]!==_0x1dec17[_0x345688(0x45a)]))throw new Error(_0x345688(0x5a4));_0x21be54['customFields']['push']({'_id':_0x1dec17[_0x345688(0x45a)]||new me[(_0x345688(0x36d))][(_0x345688(0x5e1))][(_0x345688(0x692))]()[_0x345688(0x6c3)](),'order':_0x1dec17[_0x345688(0x379)],'name':_0x1dec17[_0x345688(0x543)]}),_0x31630d=!0x0;}}if(_0x31630d){_0x21be54['customFields'][_0x345688(0x6cf)]((_0x4e1682,_0x5d5efc)=>_0x4e1682[_0x345688(0x379)]>_0x5d5efc[_0x345688(0x379)]?0x1:_0x5d5efc['order']>_0x4e1682['order']?-0x1:0x0);for(let _0x39da6a=0x0;_0x39da6a<_0x21be54[_0x345688(0x6d6)]['length'];_0x39da6a++)_0x21be54[_0x345688(0x6d6)][_0x39da6a][_0x345688(0x379)]=_0x39da6a+0x1;}let _0x2679fd=await this[_0x345688(0x3c7)]['automateSystem'][_0x345688(0x563)](_0x21be54,this[_0x345688(0x60a)][_0x345688(0x33b)]);return this[_0x345688(0x4a3)]=_0x2679fd,this['logger'][_0x345688(0x2b1)](this[_0x345688(0x192)]+'\x20('+this[_0x345688(0x60a)][_0x345688(0x33b)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x345688(0x773)][_0x345688(0x2b1)](this[_0x345688(0x192)]+'\x20('+this[_0x345688(0x60a)]['wuid']+'):\x20'+this[_0x345688(0x4a3)]),_0x2679fd;}catch(_0x55a94d){let _0x55ad6d=_0x345688(0x3d8),_0x5b35d1=_0x55a94d instanceof Error?_0x55a94d[_0x345688(0x451)]:typeof _0x55a94d==_0x345688(0x64b)?JSON['stringify'](_0x55a94d):_0x55a94d,_0x43af67=_0x55ad6d+':\x20'+_0x5b35d1;throw this[_0x345688(0x773)][_0x345688(0x2e7)](this[_0x345688(0x192)]+'\x20('+this[_0x345688(0x60a)]['wuid']+_0x345688(0x6cd)+_0x43af67),new m(_0x43af67);}}async[a0_0x1955e1(0x187)](_0x561bca){const _0x3d6519=a0_0x1955e1;try{let _0x61b75d=await this['repository'][_0x3d6519(0x70a)]['findOrCreate'](this[_0x3d6519(0x60a)][_0x3d6519(0x33b)]),_0x309e85=_0x61b75d?.['autoCompleteMessages']?.['findIndex'](_0x83d46e=>_0x83d46e['_id']===_0x561bca?.[_0x3d6519(0x45a)]);if(_0x561bca?.['delete'])_0x309e85>-0x1&&_0x61b75d?.[_0x3d6519(0x436)]?.['splice'](_0x309e85,0x1);else{if(_0x309e85>-0x1){let _0x350144=_0x61b75d[_0x3d6519(0x436)][_0x309e85];_0x350144[_0x3d6519(0x379)]=_0x561bca?.[_0x3d6519(0x379)]||_0x350144[_0x3d6519(0x379)],_0x350144[_0x3d6519(0x59a)]=_0x561bca?.['command']||_0x350144['command'],_0x350144[_0x3d6519(0x451)]=_0x561bca?.[_0x3d6519(0x451)]||_0x350144[_0x3d6519(0x451)];}else{let _0x4f233d={'_id':_0x561bca?.[_0x3d6519(0x45a)]||new me[(_0x3d6519(0x36d))][(_0x3d6519(0x5e1))]['ObjectId']()['toString'](),'order':_0x561bca?.[_0x3d6519(0x379)],'command':_0x561bca?.[_0x3d6519(0x59a)],'message':_0x561bca?.['message']};_0x61b75d?.['autoCompleteMessages']?.[_0x3d6519(0x6c9)](_0x4f233d);}}_0x61b75d?.['autoCompleteMessages']?.[_0x3d6519(0x6cf)]((_0x568fb2,_0x2a6cd1)=>_0x568fb2[_0x3d6519(0x379)]-_0x2a6cd1[_0x3d6519(0x379)]);let _0xd6c069=await this[_0x3d6519(0x3c7)]['automateSystem'][_0x3d6519(0x563)](_0x61b75d,this[_0x3d6519(0x60a)][_0x3d6519(0x33b)]);return this[_0x3d6519(0x4a3)]=_0xd6c069,this[_0x3d6519(0x773)][_0x3d6519(0x2b1)](this[_0x3d6519(0x192)]+'\x20('+this['instance'][_0x3d6519(0x33b)]+_0x3d6519(0x892)),_0xd6c069;}catch(_0x10bc0a){let _0x3fae7b=_0x3d6519(0x67b),_0x292454=_0x10bc0a instanceof Error?_0x10bc0a['message']:typeof _0x10bc0a==_0x3d6519(0x64b)?JSON[_0x3d6519(0x36f)](_0x10bc0a):_0x10bc0a,_0xbc3140=_0x3fae7b+':\x20'+_0x292454;throw this[_0x3d6519(0x773)][_0x3d6519(0x2e7)](this[_0x3d6519(0x192)]+'\x20('+this[_0x3d6519(0x60a)]['wuid']+_0x3d6519(0x6cd)+_0xbc3140),new m(_0xbc3140);}}async[a0_0x1955e1(0x2bb)](_0x2f118f){const _0x579a94=a0_0x1955e1;try{let _0x2ecc3a=await this[_0x579a94(0x3c7)]['automateSystem'][_0x579a94(0x7cd)](this[_0x579a94(0x60a)][_0x579a94(0x33b)]);if(!_0x2ecc3a)throw new Error(_0x579a94(0x709));let _0x26d74f={'_id':_0x2ecc3a[_0x579a94(0x45a)],'flowConfig':{'enabled':_0x2f118f[_0x579a94(0x79a)]??_0x2ecc3a[_0x579a94(0x7d4)][_0x579a94(0x79a)],'ignoreGroups':_0x2f118f[_0x579a94(0x60d)]??_0x2ecc3a[_0x579a94(0x7d4)][_0x579a94(0x60d)],'stopConversation':_0x2f118f['stopConversation'][_0x579a94(0x4f1)]()??_0x2ecc3a[_0x579a94(0x7d4)][_0x579a94(0x5c0)][_0x579a94(0x4f1)](),'stopMinutes':_0x2f118f[_0x579a94(0x388)]??_0x2ecc3a['flowConfig'][_0x579a94(0x388)],'stopWhenYouSendMsg':_0x2f118f[_0x579a94(0x4c8)]??_0x2ecc3a[_0x579a94(0x7d4)][_0x579a94(0x4c8)]}},_0x31ddb9=await this[_0x579a94(0x3c7)][_0x579a94(0x70a)][_0x579a94(0x563)](_0x26d74f,this[_0x579a94(0x60a)][_0x579a94(0x33b)]);return this[_0x579a94(0x4a3)]=_0x31ddb9,this['logger'][_0x579a94(0x2b1)](this[_0x579a94(0x192)]+'\x20('+this[_0x579a94(0x60a)]['wuid']+_0x579a94(0x886)),this[_0x579a94(0x773)]['verbose'](this[_0x579a94(0x192)]+'\x20('+this[_0x579a94(0x60a)][_0x579a94(0x33b)]+_0x579a94(0x6cd)+this[_0x579a94(0x4a3)]),setTimeout(()=>this[_0x579a94(0x1f1)](),0x7d0),_0x31ddb9;}catch(_0x142fbe){let _0x39b98a=_0x579a94(0x5ac),_0x1b165b=_0x142fbe instanceof Error?_0x142fbe[_0x579a94(0x451)]:typeof _0x142fbe==_0x579a94(0x64b)?JSON[_0x579a94(0x36f)](_0x142fbe):_0x142fbe,_0x47a112=_0x39b98a+':\x20'+_0x1b165b;throw this[_0x579a94(0x773)]['error'](this[_0x579a94(0x192)]+'\x20('+this[_0x579a94(0x60a)][_0x579a94(0x33b)]+_0x579a94(0x6cd)+_0x47a112),new m(_0x47a112);}}async[a0_0x1955e1(0x4e0)](){const _0x15cb5a=a0_0x1955e1;try{let _0x10d2ff=await this[_0x15cb5a(0x3c7)]['automateSystem'][_0x15cb5a(0x7cd)](this[_0x15cb5a(0x60a)][_0x15cb5a(0x33b)]);return this['AutomateSystem']=_0x10d2ff,this[_0x15cb5a(0x773)]['verbose'](this[_0x15cb5a(0x192)]+'\x20('+this['instance']['wuid']+_0x15cb5a(0x1ec)),this[_0x15cb5a(0x773)]['verbose'](this[_0x15cb5a(0x4a3)]),_0x10d2ff;}catch(_0xf4c58f){let _0x5ef939=_0x15cb5a(0x710),_0x5f5ba8=_0xf4c58f instanceof Error?_0xf4c58f['message']:typeof _0xf4c58f==_0x15cb5a(0x64b)?JSON[_0x15cb5a(0x36f)](_0xf4c58f):_0xf4c58f,_0x29edd7=_0x5ef939+':\x20'+_0x5f5ba8;throw this[_0x15cb5a(0x773)][_0x15cb5a(0x2e7)](this[_0x15cb5a(0x192)]+'\x20('+this[_0x15cb5a(0x60a)][_0x15cb5a(0x33b)]+'):\x20'+_0x29edd7),new m(_0x29edd7);}}async[a0_0x1955e1(0x1a8)](){const _0x3f0773=a0_0x1955e1;this[_0x3f0773(0x60a)][_0x3f0773(0x1e8)][_0x3f0773(0x265)]&&clearTimeout(this[_0x3f0773(0x60a)]['ScheduleMessage'][_0x3f0773(0x265)]),this[_0x3f0773(0x60a)][_0x3f0773(0x1e8)][_0x3f0773(0x265)]=setTimeout(()=>{const _0x14f394=_0x3f0773;this[_0x14f394(0x219)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x1955e1(0x219)](){const _0x50a29f=a0_0x1955e1;Date[_0x50a29f(0x835)]()-this[_0x50a29f(0x60a)][_0x50a29f(0x1e8)]['lastSend']>=0x1d4c0&&(this['logger'][_0x50a29f(0x2b1)](this[_0x50a29f(0x192)]+'\x20('+this[_0x50a29f(0x60a)][_0x50a29f(0x33b)]+_0x50a29f(0x356)),this[_0x50a29f(0x60a)][_0x50a29f(0x1e8)][_0x50a29f(0x3e6)]=null,this['instance'][_0x50a29f(0x1e8)][_0x50a29f(0x359)]=0x0,this[_0x50a29f(0x60a)][_0x50a29f(0x1e8)][_0x50a29f(0x4ac)]=0x0,await this[_0x50a29f(0x1f1)]());}async['scheduleNextCheck'](){const _0x180ce6=a0_0x1955e1;await this[_0x180ce6(0x4fa)]();let _0x59f28f=()=>{const _0x563f1c=_0x180ce6;this['logger'][_0x563f1c(0x2b1)](this[_0x563f1c(0x192)]+'\x20('+this['instance'][_0x563f1c(0x33b)]+'):\x20this.processingGroup_id:\x20'+this[_0x563f1c(0x60a)][_0x563f1c(0x1e8)][_0x563f1c(0x3e6)]+'\x20saindo\x20da\x20função');},_0x44a8bc=async()=>{const _0x404de6=_0x180ce6;this['logger'][_0x404de6(0x2b1)](this[_0x404de6(0x192)]+'\x20('+this['instance'][_0x404de6(0x33b)]+_0x404de6(0x823));let _0x1a0255=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x44dff2={'where':{'status':{'$in':[_0x404de6(0x78e),_0x404de6(0x43c)]},'$or':[{'when':{'$lte':Date[_0x404de6(0x835)](),'$gte':_0x1a0255}},{'when':0x0}]}};return await this[_0x404de6(0x3c7)][_0x404de6(0x83c)][_0x404de6(0x6d3)](_0x44dff2,this['instance'][_0x404de6(0x33b)]);},_0x3139c9=async _0x3679c1=>{const _0x544455=_0x180ce6;let _0x3ddb10=Math[_0x544455(0x580)](Math['random']()*0x1389)+0xbb8;for(let _0x148cfa of _0x3679c1){let _0x6b71b6={'_id':_0x148cfa['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x544455(0x835)]()-0x2710}}]},_0x2e543a={'startSend':Date['now']()};if(!await this[_0x544455(0x3c7)][_0x544455(0x83c)]['updateOne'](_0x6b71b6,_0x2e543a,this[_0x544455(0x60a)][_0x544455(0x33b)]))return;if(!this[_0x544455(0x60a)][_0x544455(0x1e8)]['isConnected']){this['logger']['verbose'](this[_0x544455(0x192)]+'\x20('+this[_0x544455(0x60a)]['wuid']+_0x544455(0x3e3));break;}let _0x3595c7=(_0x148cfa['messages']||[])[_0x544455(0x6cf)]((_0x2de75c,_0x516962)=>(_0x2de75c[_0x544455(0x379)]??0x0)-(_0x516962[_0x544455(0x379)]??0x0));for(let _0x3aabae of _0x3595c7){if(await this[_0x544455(0x1a8)](),this[_0x544455(0x60a)][_0x544455(0x1e8)][_0x544455(0x359)]=Date[_0x544455(0x835)](),this[_0x544455(0x60a)][_0x544455(0x1e8)][_0x544455(0x1bc)]===_0x3aabae['_id']){this[_0x544455(0x773)][_0x544455(0x2e7)](this[_0x544455(0x192)]+'\x20('+this[_0x544455(0x60a)]['wuid']+_0x544455(0x3cb)+_0x3aabae[_0x544455(0x45a)]+_0x544455(0x68c));continue;}if(this[_0x544455(0x60a)][_0x544455(0x1e8)]['lastMessage_id']=_0x3aabae['_id'],_0x3aabae[_0x544455(0x4e5)]){this[_0x544455(0x773)][_0x544455(0x2b1)](this['instanceName']+'\x20('+this[_0x544455(0x60a)][_0x544455(0x33b)]+_0x544455(0x756)+_0x3aabae[_0x544455(0x8a0)]+_0x544455(0x371));continue;}if(!this[_0x544455(0x60a)][_0x544455(0x1e8)][_0x544455(0x5bc)]){this['logger'][_0x544455(0x2b1)](this[_0x544455(0x192)]+'\x20('+this[_0x544455(0x60a)]['wuid']+_0x544455(0x1b1));break;}if(!this[_0x544455(0x60a)][_0x544455(0x1e8)][_0x544455(0x3e6)]){this[_0x544455(0x773)][_0x544455(0x2b1)](this[_0x544455(0x192)]+'\x20('+this['instance']['wuid']+_0x544455(0x768)+_0x148cfa[_0x544455(0x45a)]+_0x544455(0x865));break;}if(_0x3aabae['type']===_0x544455(0x4b9)&&!this[_0x544455(0x4a3)]?.[_0x544455(0x7d4)][_0x544455(0x79a)]){this[_0x544455(0x773)][_0x544455(0x2e7)](this[_0x544455(0x192)]+'\x20('+this[_0x544455(0x60a)][_0x544455(0x33b)]+_0x544455(0x35d));break;}let _0x144671={'idControl':_0x3aabae[_0x544455(0x45a)],'remoteJid':_0x3aabae['remoteJid'],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x544455(0x835)]()},_0x495d39=null;try{this[_0x544455(0x773)][_0x544455(0x2b1)](this[_0x544455(0x192)]+'\x20('+this[_0x544455(0x60a)][_0x544455(0x33b)]+_0x544455(0x6ba)+_0x3aabae[_0x544455(0x8a0)]);let _0x380f8b=await this[_0x544455(0x882)](_0x3aabae['remoteJid'],_0x3aabae);_0x144671[_0x544455(0x2e7)]=_0x380f8b[_0x544455(0x2e7)],_0x144671['id']=_0x380f8b[_0x544455(0x2e7)]?null:_0x380f8b['id'],_0x144671[_0x544455(0x678)]=_0x380f8b[_0x544455(0x2e7)]?_0x380f8b[_0x544455(0x880)]?_0x380f8b[_0x544455(0x880)]['toString']():'':null;let _0x14d42f=_0x148cfa[_0x544455(0x687)][_0x544455(0x4bb)](_0x5e817d=>_0x5e817d[_0x544455(0x45a)]===_0x3aabae[_0x544455(0x45a)]);_0x14d42f!==-0x1&&(_0x148cfa['messages'][_0x14d42f][_0x544455(0x4e5)]=!0x0);let _0x506c62={'$push':{'messagesSend':_0x144671},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x303df8=[{'elem._id':_0x3aabae[_0x544455(0x45a)]}];if(this[_0x544455(0x773)][_0x544455(0x2b1)](this['instanceName']+'\x20('+this[_0x544455(0x60a)][_0x544455(0x33b)]+'):\x20Atualizando\x20status\x20da\x20mensagem\x20'+_0x3aabae['_id']),_0x495d39=await this[_0x544455(0x3c7)][_0x544455(0x83c)][_0x544455(0x400)]({'_id':_0x148cfa[_0x544455(0x45a)]},_0x506c62,this[_0x544455(0x60a)][_0x544455(0x33b)],{'arrayFilters':_0x303df8}),_0x380f8b[_0x544455(0x2e7)]){this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x544455(0x33b)]+_0x544455(0x70f)+_0x380f8b[_0x544455(0x880)]);continue;}let _0x38fa75=this[_0x544455(0x7b2)](_0x148cfa[_0x544455(0x652)],_0x148cfa[_0x544455(0x8b6)]);await this[_0x544455(0x849)](_0x38fa75);}catch(_0x3e48fb){this['logger']['error'](this[_0x544455(0x192)]+'\x20('+this[_0x544455(0x60a)][_0x544455(0x33b)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x3aabae[_0x544455(0x8a0)]+':\x20'+(_0x3e48fb instanceof Error?_0x3e48fb['message']:JSON[_0x544455(0x36f)](_0x3e48fb,null,0x2))),_0x144671[_0x544455(0x2e7)]=!0x0,_0x144671[_0x544455(0x678)]=_0x3e48fb[_0x544455(0x451)];let _0x33aa26=_0x148cfa['messages'][_0x544455(0x4bb)](_0x11df66=>_0x11df66[_0x544455(0x45a)]===_0x3aabae[_0x544455(0x45a)]);_0x33aa26!==-0x1&&(_0x148cfa['messages'][_0x33aa26][_0x544455(0x4e5)]=!0x0);let _0x29463c={'$push':{'messagesSend':_0x144671},'$set':{'messages.$[elem].triedToSend':!0x0}},_0xec7e64=[{'elem._id':_0x3aabae[_0x544455(0x45a)]}];this[_0x544455(0x773)]['verbose'](this[_0x544455(0x192)]+'\x20('+this[_0x544455(0x60a)][_0x544455(0x33b)]+_0x544455(0x663)+_0x3aabae[_0x544455(0x45a)]),_0x495d39=await this[_0x544455(0x3c7)]['scheduleMessage'][_0x544455(0x400)]({'_id':_0x148cfa[_0x544455(0x45a)]},_0x29463c,this[_0x544455(0x60a)][_0x544455(0x33b)],{'arrayFilters':_0xec7e64});}finally{if(_0x495d39&&_0x495d39[_0x544455(0x3d9)]===_0x544455(0x7b8)){this[_0x544455(0x773)][_0x544455(0x2b1)](this[_0x544455(0x192)]+'\x20('+this[_0x544455(0x60a)][_0x544455(0x33b)]+_0x544455(0x768)+_0x3aabae[_0x544455(0x45a)]+_0x544455(0x1c2));break;}}}let _0x7796fe=await this[_0x544455(0x3c7)][_0x544455(0x83c)][_0x544455(0x1a1)](_0x148cfa['_id'],this[_0x544455(0x60a)]['wuid']);if(_0x7796fe[_0x544455(0x687)][_0x544455(0x705)](_0x41490f=>_0x41490f[_0x544455(0x4e5)])&&_0x7796fe[_0x544455(0x3d9)]!=='stopped'){this[_0x544455(0x60a)][_0x544455(0x1e8)][_0x544455(0x1bc)]=null;let _0x463b31={'$set':{'status':_0x544455(0x443)}};await this['repository'][_0x544455(0x83c)]['updateOneById'](_0x7796fe[_0x544455(0x45a)],_0x463b31,this['instance'][_0x544455(0x33b)]);}await new Promise(_0x459358=>setTimeout(_0x459358,_0x3ddb10));}},_0x31cf7b=async()=>{const _0x3d7d3a=_0x180ce6;let _0x239ffc={'where':{'status':'scheduled','when':{'$gt':Date[_0x3d7d3a(0x835)]()}}},_0x20d2aa=await this[_0x3d7d3a(0x3c7)][_0x3d7d3a(0x83c)][_0x3d7d3a(0x309)](_0x239ffc,this['instance'][_0x3d7d3a(0x33b)]);_0x20d2aa&&_0x20d2aa['when']-Date[_0x3d7d3a(0x835)]()<=0x5265c00?this[_0x3d7d3a(0x60a)]['ScheduleMessage']['delayMessage']=_0x20d2aa[_0x3d7d3a(0x1da)]-Date[_0x3d7d3a(0x835)]():this['instance'][_0x3d7d3a(0x1e8)]['delayMessage']=(0x3c+Math[_0x3d7d3a(0x580)](Math[_0x3d7d3a(0x5ad)]()*0x3c))*0x3c*0x3e8,this[_0x3d7d3a(0x60a)][_0x3d7d3a(0x1e8)][_0x3d7d3a(0x4ac)]=Math[_0x3d7d3a(0x899)](this[_0x3d7d3a(0x60a)]['ScheduleMessage'][_0x3d7d3a(0x4ac)],0x1*0x2*0x3e8);let _0x86a8cb=Math[_0x3d7d3a(0x7ac)](this['instance'][_0x3d7d3a(0x1e8)][_0x3d7d3a(0x4ac)]/0xea60);if(_0x20d2aa){let _0x2e6c94=new Date(_0x20d2aa[_0x3d7d3a(0x1da)])['toLocaleString']();this[_0x3d7d3a(0x773)][_0x3d7d3a(0x2b1)](this[_0x3d7d3a(0x192)]+'\x20('+this['instance'][_0x3d7d3a(0x33b)]+_0x3d7d3a(0x864)+_0x2e6c94+_0x3d7d3a(0x70b)+_0x86a8cb+_0x3d7d3a(0x4d9));}else this[_0x3d7d3a(0x773)][_0x3d7d3a(0x2b1)](this['instanceName']+'\x20('+this[_0x3d7d3a(0x60a)][_0x3d7d3a(0x33b)]+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x86a8cb+_0x3d7d3a(0x4d9));setTimeout(()=>this[_0x3d7d3a(0x1f1)](),this[_0x3d7d3a(0x60a)][_0x3d7d3a(0x1e8)]['delayMessage']);};if(this[_0x180ce6(0x60a)][_0x180ce6(0x1e8)][_0x180ce6(0x3e6)]){await this['setRestartTimeout'](),_0x59f28f();return;}if(!this[_0x180ce6(0x60a)][_0x180ce6(0x1e8)][_0x180ce6(0x5bc)]){this[_0x180ce6(0x773)]['verbose'](this[_0x180ce6(0x192)]+'\x20('+this[_0x180ce6(0x60a)][_0x180ce6(0x33b)]+_0x180ce6(0x80a)),this['instance'][_0x180ce6(0x1e8)][_0x180ce6(0x3e6)]=null,this['instance'][_0x180ce6(0x1e8)]['lastSend']=0x0,this[_0x180ce6(0x60a)][_0x180ce6(0x1e8)]['delayMessage']=0x0,this[_0x180ce6(0x60a)][_0x180ce6(0x1e8)][_0x180ce6(0x1bc)]=null;return;}try{let _0x206f82=await _0x44a8bc();_0x206f82[_0x180ce6(0x7dc)]===0x0?this[_0x180ce6(0x773)][_0x180ce6(0x2b1)](this[_0x180ce6(0x192)]+'\x20('+this['instance'][_0x180ce6(0x33b)]+_0x180ce6(0x813)):(this['instance'][_0x180ce6(0x1e8)][_0x180ce6(0x3e6)]=_0x206f82[0x0][_0x180ce6(0x45a)],await _0x3139c9(_0x206f82)),await _0x31cf7b(),this[_0x180ce6(0x60a)][_0x180ce6(0x1e8)][_0x180ce6(0x3e6)]=null,this['instance'][_0x180ce6(0x1e8)][_0x180ce6(0x1bc)]=null;}catch(_0x11df88){this['logger'][_0x180ce6(0x2e7)](_0x180ce6(0x6bf)+(_0x11df88 instanceof Error?_0x11df88[_0x180ce6(0x451)]:JSON['stringify'](_0x11df88,null,0x2)));}}[a0_0x1955e1(0x7b2)](_0x148715,_0x1da3a3){const _0x3d8426=a0_0x1955e1;return _0x148715=Math[_0x3d8426(0x899)](0.5,_0x148715),_0x1da3a3=Math[_0x3d8426(0x5a6)](Math[_0x3d8426(0x899)](0x3,_0x1da3a3),0x78),Math[_0x3d8426(0x580)](Math[_0x3d8426(0x5ad)]()*(_0x1da3a3-_0x148715+0x1)+_0x148715)*0x3e8;}[a0_0x1955e1(0x849)](_0x364a40){return new Promise(_0x20cf63=>setTimeout(_0x20cf63,_0x364a40));}async[a0_0x1955e1(0x41d)](_0x331405){const _0xee3196=a0_0x1955e1;if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;_0x331405=this[_0xee3196(0x792)](_0x331405);let _0x387522=await this['repository']['chat'][_0xee3196(0x309)]({'where':{'_id':_0x331405}},this[_0xee3196(0x60a)][_0xee3196(0x33b)]),_0x341bcd={};if(_0x387522&&_0x387522[_0xee3196(0x4a1)]){let _0x8a3f65=_0x387522['leadInfo'];typeof _0x8a3f65[_0xee3196(0x1d8)]==_0xee3196(0x1a3)&&(_0x341bcd[_0xee3196(0x1d8)]=_0x8a3f65[_0xee3196(0x1d8)]),typeof _0x8a3f65[_0xee3196(0x60c)]=='string'&&(_0x341bcd[_0xee3196(0x60c)]=_0x8a3f65[_0xee3196(0x60c)]),typeof _0x8a3f65[_0xee3196(0x7d0)]==_0xee3196(0x1a3)&&(_0x341bcd['email']=_0x8a3f65['email']),typeof _0x8a3f65[_0xee3196(0x472)]==_0xee3196(0x1a3)&&(_0x341bcd[_0xee3196(0x472)]=_0x8a3f65[_0xee3196(0x472)]),typeof _0x8a3f65[_0xee3196(0x3d9)]=='string'&&(_0x341bcd[_0xee3196(0x3d9)]=_0x8a3f65['status']),typeof _0x8a3f65[_0xee3196(0x465)]==_0xee3196(0x1a3)&&(_0x341bcd[_0xee3196(0x465)]=_0x8a3f65['notas']),typeof _0x8a3f65[_0xee3196(0x3f0)]==_0xee3196(0x1a3)&&(_0x341bcd['responsavelid']=_0x8a3f65[_0xee3196(0x3f0)]),Array['isArray'](_0x8a3f65[_0xee3196(0x535)])&&(_0x341bcd[_0xee3196(0x535)]=_0x8a3f65[_0xee3196(0x535)]['join'](',\x20')),Array[_0xee3196(0x4b0)](_0x8a3f65[_0xee3196(0x3e5)])&&(_0x341bcd[_0xee3196(0x3e5)]=_0x8a3f65[_0xee3196(0x3e5)][_0xee3196(0x279)](',\x20'));}return _0x387522&&_0x387522[_0xee3196(0x4a1)]&&_0x387522[_0xee3196(0x4a1)][_0xee3196(0x6d6)]&&_0x387522[_0xee3196(0x4a1)][_0xee3196(0x6d6)]['forEach'](_0x1706c2=>{const _0x5ec8ab=_0xee3196;let _0x545656=this[_0x5ec8ab(0x4a3)]?.[_0x5ec8ab(0x6d6)][_0x5ec8ab(0x6d3)](_0x4227e7=>_0x4227e7[_0x5ec8ab(0x45a)]===_0x1706c2[_0x5ec8ab(0x45a)]);_0x545656&&(_0x341bcd[_0x545656['name']]=_0x1706c2['value']);}),_0x341bcd;}async[a0_0x1955e1(0x38f)](_0xc849f0,_0x584935){const _0x359887=a0_0x1955e1;try{let _0xa2571a=await this['getVariablesChat'](_0x584935);return this[_0x359887(0x7a9)](_0xc849f0,_0xa2571a);}catch(_0x43eaec){return this[_0x359887(0x773)][_0x359887(0x2e7)](_0x359887(0x3f4)+_0x584935+':\x20'+_0x43eaec),_0xc849f0;}}async['transformScheduledMessagesByType'](){const _0xd66a07=a0_0x1955e1;let _0x328f20=async(_0x30aafd,_0x15b7c6)=>{const _0x3f1e2e=a0_0x2868;let _0x1e46f8=(await this[_0x3f1e2e(0x3c7)][_0x3f1e2e(0x83c)][_0x3f1e2e(0x6d3)]({'where':{'type':_0x30aafd}},this['instance'][_0x3f1e2e(0x33b)]))[_0x3f1e2e(0x3e2)](async _0x1d5e07=>{const _0x56a299=_0x3f1e2e;let _0x67f610=_0x15b7c6(_0x1d5e07),_0x4fc2c4=_0x1d5e07[_0x56a299(0x26a)][_0x56a299(0x3e2)](_0x3595bc=>({'_id':(0x0,Y['v4'])(),'type':_0x67f610,'remoteJid':_0x3595bc,'flow':_0x1d5e07[_0x56a299(0x857)],'text':_0x1d5e07[_0x56a299(0x451)]?.[_0x56a299(0x814)],'delay':_0x1d5e07[_0x56a299(0x451)]?.['delay'],'urlOrBase64':_0x1d5e07['message']?.[_0x56a299(0x208)],'linkPreview':_0x1d5e07[_0x56a299(0x451)]?.[_0x56a299(0x77a)],'fileName':_0x1d5e07[_0x56a299(0x451)]?.[_0x56a299(0x4b6)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x56a299(0x3c7)]['scheduleMessage']['updateOneById'](_0x1d5e07[_0x56a299(0x45a)],{'$set':{'messages':_0x4fc2c4},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x56a299(0x60a)]['wuid']);}catch(_0x5aa592){console[_0x56a299(0x2e7)](_0x56a299(0x3e7)+_0x1d5e07[_0x56a299(0x45a)]+':',_0x5aa592);}});await Promise['all'](_0x1e46f8);};await _0x328f20('text',_0x53da82=>_0xd66a07(0x814)),await _0x328f20(_0xd66a07(0x704),_0x968b83=>_0x968b83[_0xd66a07(0x451)]?.[_0xd66a07(0x37c)]||'media'),await _0x328f20(_0xd66a07(0x6a7),_0x5dfda9=>_0xd66a07(0x6a7)),await _0x328f20(_0xd66a07(0x4b9),_0x1ca3fe=>'flow'),await _0x328f20(_0xd66a07(0x412),_0x478179=>_0xd66a07(0x412)),await _0x328f20(_0xd66a07(0x861),_0x22b9ca=>_0xd66a07(0x861)),await _0x328f20(_0xd66a07(0x53f),_0x4d173c=>_0xd66a07(0x53f)),console[_0xd66a07(0x538)](_0xd66a07(0x783));}async[a0_0x1955e1(0x5aa)](_0x504af1){const _0x14d709=a0_0x1955e1;try{if(this[_0x14d709(0x773)][_0x14d709(0x2b1)](this['instanceName']+'\x20('+this[_0x14d709(0x60a)][_0x14d709(0x33b)]+'):\x20Editando/criando\x20grupo\x20de\x20mensagens...'),_0x504af1[_0x14d709(0x45a)]||(_0x504af1[_0x14d709(0x45a)]=(0x0,Y['v4'])()),this['instance'][_0x14d709(0x1e8)][_0x14d709(0x3e6)]===_0x504af1[_0x14d709(0x45a)]?.[_0x14d709(0x6c3)]()&&_0x504af1[_0x14d709(0x3d9)]!==_0x14d709(0x7b8))throw new Error(_0x14d709(0x843));if(_0x504af1[_0x14d709(0x544)]&&_0x504af1['_id']){let _0x4b15ec=await this['repository']['scheduleMessage'][_0x14d709(0x66e)](_0x504af1[_0x14d709(0x45a)],this[_0x14d709(0x60a)][_0x14d709(0x33b)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x4b15ec;}let _0x4d1c48=null;if(_0x504af1[_0x14d709(0x45a)]&&(_0x4d1c48=await this['repository'][_0x14d709(0x83c)][_0x14d709(0x1a1)](_0x504af1[_0x14d709(0x45a)],this[_0x14d709(0x60a)][_0x14d709(0x33b)])),_0x4d1c48){let {_id:_0x400e70,owner:_0x4c7bae,messages:_0x748ed0,..._0x24883b}=_0x504af1;if(_0x748ed0){let _0x106891=_0x748ed0[_0x14d709(0x2c4)](_0x3d098f=>!_0x3d098f[_0x14d709(0x45a)]),_0x2fe984=_0x748ed0[_0x14d709(0x2c4)](_0x442189=>_0x442189['_id']&&!_0x442189[_0x14d709(0x544)]),_0x2ce3cc=_0x748ed0[_0x14d709(0x2c4)](_0x5ed829=>_0x5ed829[_0x14d709(0x45a)]&&_0x5ed829[_0x14d709(0x544)]);if(_0x106891['length']>0x0&&await this[_0x14d709(0x44a)](_0x504af1['_id'],_0x106891),_0x2fe984['length']>0x0&&await this[_0x14d709(0x23a)]({'_id':_0x504af1[_0x14d709(0x45a)],'messages':_0x2fe984}),_0x2ce3cc[_0x14d709(0x7dc)]>0x0){let _0x4b56d6=_0x2ce3cc[_0x14d709(0x3e2)](_0x17bd0b=>({'updateOne':{'filter':{'_id':_0x504af1[_0x14d709(0x45a)]},'update':{'$pull':{'messages':{'_id':_0x17bd0b[_0x14d709(0x45a)]}}}}}));await this[_0x14d709(0x3c7)][_0x14d709(0x83c)]['bulkWrite'](_0x4b56d6,this[_0x14d709(0x60a)][_0x14d709(0x33b)]);}}let _0x4d6f24={'$set':_0x24883b},_0x2ad65d=await this['repository']['scheduleMessage']['updateOneById'](_0x504af1['_id'],_0x4d6f24,this[_0x14d709(0x60a)]['wuid']);return _0x2ad65d&&(this[_0x14d709(0x251)](_0x2ad65d['messages']),await this[_0x14d709(0x3c7)][_0x14d709(0x83c)][_0x14d709(0x895)](_0x2ad65d[_0x14d709(0x45a)],{'$set':{'messages':_0x2ad65d[_0x14d709(0x687)]}},this[_0x14d709(0x60a)][_0x14d709(0x33b)])),setTimeout(()=>this[_0x14d709(0x1f1)](),0x7d0),await this[_0x14d709(0x4fa)](),_0x2ad65d;}else{_0x504af1[_0x14d709(0x484)]=this[_0x14d709(0x60a)]['wuid'],_0x504af1[_0x14d709(0x687)]&&_0x504af1[_0x14d709(0x687)][_0x14d709(0x408)](_0xa36143=>{const _0x84dd8f=_0x14d709;_0xa36143['_id']||(_0xa36143[_0x84dd8f(0x45a)]=(0x0,Y['v4'])()),delete _0xa36143[_0x84dd8f(0x4e5)];});let _0x5f08f8=await this['repository'][_0x14d709(0x83c)]['createAndSave'](_0x504af1,this[_0x14d709(0x60a)][_0x14d709(0x33b)]);return _0x5f08f8&&(this[_0x14d709(0x251)](_0x5f08f8[_0x14d709(0x687)]),await this[_0x14d709(0x3c7)][_0x14d709(0x83c)][_0x14d709(0x895)](_0x5f08f8['_id'],{'$set':{'messages':_0x5f08f8[_0x14d709(0x687)]}},this[_0x14d709(0x60a)][_0x14d709(0x33b)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x5f08f8;}}catch(_0x473f65){let _0x3ddc7e=_0x14d709(0x8b5),_0x5d639c=_0x473f65 instanceof Error?_0x473f65[_0x14d709(0x451)]:typeof _0x473f65==_0x14d709(0x64b)?JSON[_0x14d709(0x36f)](_0x473f65):_0x473f65,_0x13aa03=_0x3ddc7e+':\x20'+_0x5d639c;throw this[_0x14d709(0x773)][_0x14d709(0x2e7)](this[_0x14d709(0x192)]+'\x20('+this[_0x14d709(0x60a)][_0x14d709(0x33b)]+'):\x20'+_0x13aa03),new m(_0x13aa03);}}async[a0_0x1955e1(0x44a)](_0x9c94a1,_0x24b78e){const _0x2b6a54=a0_0x1955e1;try{this[_0x2b6a54(0x773)]['verbose'](this[_0x2b6a54(0x192)]+'\x20('+this[_0x2b6a54(0x60a)][_0x2b6a54(0x33b)]+_0x2b6a54(0x3bb)),_0x24b78e[_0x2b6a54(0x408)](_0x3f5440=>{const _0x21a187=_0x2b6a54;_0x3f5440[_0x21a187(0x45a)]||(_0x3f5440[_0x21a187(0x45a)]=(0x0,Y['v4'])()),delete _0x3f5440[_0x21a187(0x4e5)];});let _0x420c5f={'$push':{'messages':{'$each':_0x24b78e}}},_0x5b62af=await this[_0x2b6a54(0x3c7)][_0x2b6a54(0x83c)][_0x2b6a54(0x895)](_0x9c94a1,_0x420c5f,this[_0x2b6a54(0x60a)]['wuid']);return _0x5b62af&&(this['reorderMessages'](_0x5b62af[_0x2b6a54(0x687)]),await this[_0x2b6a54(0x3c7)][_0x2b6a54(0x83c)][_0x2b6a54(0x895)](_0x5b62af[_0x2b6a54(0x45a)],{'$set':{'messages':_0x5b62af[_0x2b6a54(0x687)]}},this['instance'][_0x2b6a54(0x33b)])),_0x5b62af;}catch(_0x51ba53){let _0x194a1b=_0x2b6a54(0x41f),_0x2d775f=_0x51ba53 instanceof Error?_0x51ba53['message']:typeof _0x51ba53==_0x2b6a54(0x64b)?JSON['stringify'](_0x51ba53):_0x51ba53,_0x41b978=_0x194a1b+':\x20'+_0x2d775f;throw this['logger'][_0x2b6a54(0x2e7)](this[_0x2b6a54(0x192)]+'\x20('+this[_0x2b6a54(0x60a)][_0x2b6a54(0x33b)]+'):\x20'+_0x41b978),new m(_0x41b978);}}async[a0_0x1955e1(0x23a)](_0x2c6e2c){const _0x2d9004=a0_0x1955e1;try{if(this[_0x2d9004(0x773)][_0x2d9004(0x2b1)](this[_0x2d9004(0x192)]+'\x20('+this[_0x2d9004(0x60a)]['wuid']+_0x2d9004(0x832)),!_0x2c6e2c[_0x2d9004(0x45a)]||!_0x2c6e2c[_0x2d9004(0x687)])throw new Error('Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.');let _0x478a09=_0x2c6e2c[_0x2d9004(0x45a)],_0x2a1f52=_0x2c6e2c['messages'],_0x33cf42=_0x2a1f52[_0x2d9004(0x2c4)](_0x4e2d22=>!_0x4e2d22['delete'])[_0x2d9004(0x3e2)](_0x43d733=>{const _0x31044c=_0x2d9004;let _0x45c5e4=_0x43d733['_id'];if(!_0x45c5e4)throw new Error(_0x31044c(0x301));return delete _0x43d733[_0x31044c(0x4e5)],{'updateOne':{'filter':{'_id':_0x478a09,'messages._id':_0x45c5e4},'update':{'$set':{'messages.$[elem]':_0x43d733}},'arrayFilters':[{'elem._id':_0x45c5e4}]}};}),_0x5d9beb=_0x2a1f52[_0x2d9004(0x2c4)](_0x1eb43a=>_0x1eb43a['delete'])['map'](_0x3cbe8e=>{const _0x321608=_0x2d9004;let _0x4f2b14=_0x3cbe8e[_0x321608(0x45a)];if(!_0x4f2b14)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.');return{'updateOne':{'filter':{'_id':_0x478a09},'update':{'$pull':{'messages':{'_id':_0x4f2b14}}}}};}),_0x25df25=[..._0x33cf42,..._0x5d9beb],_0x109a91=await this[_0x2d9004(0x3c7)][_0x2d9004(0x83c)]['bulkWrite'](_0x25df25,this[_0x2d9004(0x60a)][_0x2d9004(0x33b)]),_0xc5fa14=await this[_0x2d9004(0x3c7)][_0x2d9004(0x83c)]['findById'](_0x478a09,this[_0x2d9004(0x60a)]['wuid']);return _0xc5fa14&&(this[_0x2d9004(0x251)](_0xc5fa14[_0x2d9004(0x687)]),await this[_0x2d9004(0x3c7)]['scheduleMessage'][_0x2d9004(0x895)](_0xc5fa14[_0x2d9004(0x45a)],{'$set':{'messages':_0xc5fa14[_0x2d9004(0x687)]}},this['instance'][_0x2d9004(0x33b)])),_0xc5fa14;}catch(_0x3f9d15){let _0x3ddc03='Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo',_0x12612f=_0x3f9d15 instanceof Error?_0x3f9d15[_0x2d9004(0x451)]:typeof _0x3f9d15==_0x2d9004(0x64b)?JSON['stringify'](_0x3f9d15):_0x3f9d15,_0x3060c6=_0x3ddc03+':\x20'+_0x12612f;throw this[_0x2d9004(0x773)][_0x2d9004(0x2e7)](this[_0x2d9004(0x192)]+'\x20('+this['instance'][_0x2d9004(0x33b)]+_0x2d9004(0x6cd)+_0x3060c6),new m(_0x3060c6);}}async[a0_0x1955e1(0x3d1)](){const _0x110f19=a0_0x1955e1;try{let _0x36f772={'status':_0x110f19(0x443)},_0x3cd73e=await this['repository']['scheduleMessage'][_0x110f19(0x504)](_0x36f772,this[_0x110f19(0x60a)][_0x110f19(0x33b)]);if(!_0x3cd73e[_0x110f19(0x2e7)])this[_0x110f19(0x773)][_0x110f19(0x2b1)](this['instanceName']+'\x20('+this[_0x110f19(0x60a)][_0x110f19(0x33b)]+_0x110f19(0x49c));else throw new Error(_0x3cd73e[_0x110f19(0x2e7)][_0x110f19(0x451)]||_0x110f19(0x52c));return this[_0x110f19(0x6da)]();}catch(_0x593459){let _0x44b4dc=_0x110f19(0x73a),_0xfd37f3=_0x593459 instanceof Error?_0x593459[_0x110f19(0x451)]:typeof _0x593459=='object'?JSON[_0x110f19(0x36f)](_0x593459):_0x593459,_0x33ef05=_0x44b4dc+':\x20'+_0xfd37f3;throw this['logger'][_0x110f19(0x2e7)](this['instanceName']+'\x20('+this[_0x110f19(0x60a)]['wuid']+'):\x20'+_0x33ef05),new m(_0x33ef05);}}async[a0_0x1955e1(0x6da)](){const _0x502e25=a0_0x1955e1;try{return await this[_0x502e25(0x3c7)]['scheduleMessage'][_0x502e25(0x6d3)]({'where':{}},this[_0x502e25(0x60a)]['wuid']);}catch(_0x85b2cd){let _0x227dd3=_0x502e25(0x7ba),_0x1d7e62=_0x85b2cd instanceof Error?_0x85b2cd[_0x502e25(0x451)]:typeof _0x85b2cd==_0x502e25(0x64b)?JSON[_0x502e25(0x36f)](_0x85b2cd):_0x85b2cd,_0x58f146=_0x227dd3+':\x20'+_0x1d7e62;throw this[_0x502e25(0x773)][_0x502e25(0x2e7)](this[_0x502e25(0x192)]+'\x20('+this['instance'][_0x502e25(0x33b)]+_0x502e25(0x6cd)+_0x58f146),new m(_0x58f146);}}['reorderMessages'](_0x3a2fae){const _0x207970=a0_0x1955e1;_0x3a2fae[_0x207970(0x6cf)]((_0x45ddac,_0x526f55)=>_0x45ddac['order']-_0x526f55[_0x207970(0x379)]),_0x3a2fae[_0x207970(0x408)]((_0x2b2697,_0x17b346)=>{_0x2b2697['order']=_0x17b346+0x1;});}async[a0_0x1955e1(0x87f)](_0x389a54){const _0x507d7b=a0_0x1955e1;try{if(this[_0x507d7b(0x773)]['verbose'](this[_0x507d7b(0x192)]+'\x20('+this[_0x507d7b(0x60a)]['wuid']+_0x507d7b(0x3d6)),_0x389a54['delete']&&_0x389a54[_0x507d7b(0x45a)]){if(this[_0x507d7b(0x60a)][_0x507d7b(0x1e8)][_0x507d7b(0x3e6)]===_0x389a54[_0x507d7b(0x45a)][_0x507d7b(0x6c3)]())throw new Error(_0x507d7b(0x33a));let _0x5a016a=await this[_0x507d7b(0x3c7)][_0x507d7b(0x83c)][_0x507d7b(0x66e)](_0x389a54['_id'],this[_0x507d7b(0x60a)][_0x507d7b(0x33b)]);return setTimeout(()=>this[_0x507d7b(0x1f1)](),0x7d0),_0x5a016a;}let _0x1731b8;if(_0x389a54['_id']&&(_0x1731b8=await this[_0x507d7b(0x3c7)][_0x507d7b(0x83c)][_0x507d7b(0x1a1)](_0x389a54[_0x507d7b(0x45a)],this[_0x507d7b(0x60a)]['wuid'])),_0x1731b8){let _0x52a8f6;if(this[_0x507d7b(0x60a)][_0x507d7b(0x1e8)]['processingGroup_id']===_0x1731b8[_0x507d7b(0x45a)][_0x507d7b(0x6c3)]())_0x52a8f6={'$set':{'status':_0x389a54[_0x507d7b(0x3d9)]}};else{let {_id:_0x2ae568,..._0x4413e8}=_0x389a54;_0x52a8f6={'$set':_0x4413e8};}let _0xfea8fa=await this['repository'][_0x507d7b(0x83c)][_0x507d7b(0x895)](_0x389a54[_0x507d7b(0x45a)],_0x52a8f6,this['instance'][_0x507d7b(0x33b)]);return setTimeout(()=>this[_0x507d7b(0x1f1)](),0x7d0),_0xfea8fa;}else{_0x389a54[_0x507d7b(0x484)]=this['instance'][_0x507d7b(0x33b)];let _0x398bad=await this[_0x507d7b(0x3c7)][_0x507d7b(0x83c)][_0x507d7b(0x2c7)](_0x389a54,this['instance'][_0x507d7b(0x33b)]);return setTimeout(()=>this[_0x507d7b(0x1f1)](),0x7d0),_0x398bad;}}catch(_0x48a756){let _0x444664=_0x507d7b(0x860),_0x1ca440=_0x48a756 instanceof Error?_0x48a756[_0x507d7b(0x451)]:typeof _0x48a756==_0x507d7b(0x64b)?JSON[_0x507d7b(0x36f)](_0x48a756):_0x48a756,_0x3d6cbc=_0x444664+':\x20'+_0x1ca440;throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x507d7b(0x33b)]+_0x507d7b(0x6cd)+_0x3d6cbc),new m(_0x3d6cbc);}}async[a0_0x1955e1(0x2ae)](){const _0x314a39=a0_0x1955e1;try{let _0xeaa3d3={'status':'done'},_0x15b1ef=await this['repository'][_0x314a39(0x83c)][_0x314a39(0x504)](_0xeaa3d3,this['instance'][_0x314a39(0x33b)]);if(!_0x15b1ef[_0x314a39(0x2e7)])this[_0x314a39(0x773)][_0x314a39(0x2b1)](this[_0x314a39(0x192)]+'\x20('+this[_0x314a39(0x60a)][_0x314a39(0x33b)]+_0x314a39(0x431));else throw new Error(_0x15b1ef[_0x314a39(0x2e7)][_0x314a39(0x451)]||_0x314a39(0x6de));return this[_0x314a39(0x6da)]();}catch(_0x174126){let _0x1cd164=_0x314a39(0x7f6),_0x3e21d1=_0x174126 instanceof Error?_0x174126[_0x314a39(0x451)]:typeof _0x174126==_0x314a39(0x64b)?JSON['stringify'](_0x174126):_0x174126,_0xe0bcf8=_0x1cd164+':\x20'+_0x3e21d1;throw this[_0x314a39(0x773)]['error'](this[_0x314a39(0x192)]+'\x20('+this[_0x314a39(0x60a)]['wuid']+'):\x20'+_0xe0bcf8),new m(_0xe0bcf8);}}async[a0_0x1955e1(0x882)](_0x3d0ee2,_0x155559){const _0x520783=a0_0x1955e1;try{if(!_0x155559)return this[_0x520783(0x773)]['error'](this[_0x520783(0x192)]+'\x20('+this[_0x520783(0x60a)][_0x520783(0x33b)]+_0x520783(0x4bf)),{'error':!0x0,'detail':_0x520783(0x420)};if(_0x155559[_0x520783(0x708)]===_0x520783(0x4b9)&&!this[_0x520783(0x4a3)]?.[_0x520783(0x7d4)]['enabled'])return this[_0x520783(0x773)][_0x520783(0x2e7)](this[_0x520783(0x192)]+'\x20('+this[_0x520783(0x60a)][_0x520783(0x33b)]+_0x520783(0x324)),{'error':!0x0,'detail':_0x520783(0x468)};switch(_0x155559[_0x520783(0x708)]){case _0x520783(0x814):return await this[_0x520783(0x63f)](_0x155559,_0x3d0ee2);case _0x520783(0x861):case _0x520783(0x412):case _0x520783(0x53f):return await this[_0x520783(0x740)](_0x155559,_0x3d0ee2);case _0x520783(0x6a7):return await this[_0x520783(0x7a3)](_0x155559,_0x3d0ee2);case _0x520783(0x4b9):let _0x56224b=new He();return _0x56224b[_0x520783(0x543)]=_0x155559[_0x520783(0x4b9)],_0x56224b[_0x520783(0x8a0)]=_0x3d0ee2,await this[_0x520783(0x747)](_0x56224b);default:return this[_0x520783(0x773)][_0x520783(0x2e7)](this[_0x520783(0x192)]+'\x20('+this[_0x520783(0x60a)][_0x520783(0x33b)]+'):\x20Comando\x20desconhecido:\x20'+_0x155559['type']),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x410c68){return this[_0x520783(0x773)]['error'](this[_0x520783(0x192)]+'\x20('+this['instance'][_0x520783(0x33b)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x410c68 instanceof Error?_0x410c68[_0x520783(0x451)]:JSON[_0x520783(0x36f)](_0x410c68,null,0x2))),{'error':!0x0,'detail':_0x410c68['message']};}}async[a0_0x1955e1(0x63f)](_0x3ed04c,_0x6c6885){const _0x4e187b=a0_0x1955e1;if(this[_0x4e187b(0x773)][_0x4e187b(0x2b1)](this[_0x4e187b(0x192)]+'\x20('+this[_0x4e187b(0x60a)][_0x4e187b(0x33b)]+_0x4e187b(0x24b)+_0x6c6885+'\x27'),!_0x3ed04c['text']||_0x3ed04c[_0x4e187b(0x814)][_0x4e187b(0x7dc)]===0x0)return{'error':!0x0,'detail':_0x4e187b(0x537)};let _0x21d45d=await this[_0x4e187b(0x38f)](_0x3ed04c['text'],_0x6c6885),_0x4b1667={'number':_0x6c6885,'options':{'delay':_0x3ed04c['delay'],'linkPreview':_0x3ed04c['linkPreview']},'textMessage':{'text':_0x21d45d}},_0x1a1a2e=null;try{let _0x5aa851=await this[_0x4e187b(0x2ed)](_0x4b1667);if(_0x5aa851&&_0x5aa851['status'])return{'error':!0x1,'id':_0x5aa851[_0x4e187b(0x2a8)]['id']};_0x1a1a2e=JSON[_0x4e187b(0x36f)](_0x5aa851),this[_0x4e187b(0x773)][_0x4e187b(0x2b1)](this[_0x4e187b(0x192)]+'\x20('+this[_0x4e187b(0x60a)]['wuid']+_0x4e187b(0x6cd)+_0x1a1a2e);}catch(_0x4ca1b5){this['logger'][_0x4e187b(0x2e7)](this[_0x4e187b(0x192)]+'\x20('+this['instance'][_0x4e187b(0x33b)]+_0x4e187b(0x781)+(_0x4ca1b5 instanceof Error?_0x4ca1b5['message']:JSON[_0x4e187b(0x36f)](_0x4ca1b5,null,0x2))),_0x1a1a2e=_0x4ca1b5['message'];}if(_0x1a1a2e)return{'error':!0x0,'detail':(typeof _0x1a1a2e==_0x4e187b(0x64b)?JSON[_0x4e187b(0x36f)](_0x1a1a2e,null,0x2):_0x1a1a2e)[_0x4e187b(0x534)](/[\[\]{}\n]/g,'\x20')[_0x4e187b(0x534)](/  +/g,'\x20')};}async[a0_0x1955e1(0x740)](_0x416ade,_0x1f3fa2){const _0x233280=a0_0x1955e1;this[_0x233280(0x773)][_0x233280(0x2b1)](this[_0x233280(0x192)]+'\x20('+this[_0x233280(0x60a)][_0x233280(0x33b)]+_0x233280(0x3eb)+_0x1f3fa2+'\x27');let _0xe4e740;_0x416ade[_0x233280(0x814)]&&_0x416ade['text'][_0x233280(0x7dc)]>0x0&&(_0xe4e740=await this[_0x233280(0x38f)](_0x416ade[_0x233280(0x814)],_0x1f3fa2));let _0x45adea={'number':_0x1f3fa2,'options':{'delay':_0x416ade[_0x233280(0x858)],'linkPreview':_0x416ade[_0x233280(0x77a)]},'mediaMessage':{'mediatype':_0x416ade[_0x233280(0x708)],'caption':_0xe4e740,'media':_0x416ade[_0x233280(0x208)]}},_0x287a77=null;try{let _0x5406c7=await this[_0x233280(0x335)](_0x45adea);if(_0x5406c7&&_0x5406c7[_0x233280(0x3d9)])return{'error':!0x1,'id':_0x5406c7[_0x233280(0x2a8)]['id']};_0x287a77=JSON[_0x233280(0x36f)](_0x5406c7),this['logger']['verbose'](this[_0x233280(0x192)]+'\x20('+this[_0x233280(0x60a)]['wuid']+'):\x20'+_0x287a77);}catch(_0x253500){this[_0x233280(0x773)][_0x233280(0x2e7)](this[_0x233280(0x192)]+'\x20('+this[_0x233280(0x60a)][_0x233280(0x33b)]+_0x233280(0x387)+(_0x253500 instanceof Error?_0x253500['message']:JSON['stringify'](_0x253500,null,0x2))),_0x287a77=_0x253500[_0x233280(0x451)];}if(_0x287a77)return{'error':!0x0,'detail':(typeof _0x287a77==_0x233280(0x64b)?JSON[_0x233280(0x36f)](_0x287a77,null,0x2):_0x287a77)[_0x233280(0x534)](/[\[\]{}\n]/g,'\x20')[_0x233280(0x534)](/  +/g,'\x20')};}async[a0_0x1955e1(0x7a3)](_0x2f2d65,_0x26c77f){const _0x4a2da9=a0_0x1955e1;this[_0x4a2da9(0x773)][_0x4a2da9(0x2b1)](this[_0x4a2da9(0x192)]+'\x20('+this[_0x4a2da9(0x60a)][_0x4a2da9(0x33b)]+_0x4a2da9(0x205)+_0x26c77f+'\x27');let _0x5dff8d={'number':_0x26c77f,'options':{'delay':_0x2f2d65['delay']},'audioMessage':{'audio':_0x2f2d65['urlOrBase64']}},_0x3198c5=null;try{let _0xa3b92e=await this[_0x4a2da9(0x3c9)](_0x5dff8d);if(_0xa3b92e&&_0xa3b92e[_0x4a2da9(0x3d9)])return{'error':!0x1,'id':_0xa3b92e[_0x4a2da9(0x2a8)]['id']};_0x3198c5=JSON[_0x4a2da9(0x36f)](_0xa3b92e),this[_0x4a2da9(0x773)]['verbose'](this['instanceName']+'\x20('+this[_0x4a2da9(0x60a)][_0x4a2da9(0x33b)]+_0x4a2da9(0x6cd)+_0x3198c5);}catch(_0x47660d){this[_0x4a2da9(0x773)][_0x4a2da9(0x2e7)](this[_0x4a2da9(0x192)]+'\x20('+this[_0x4a2da9(0x60a)]['wuid']+_0x4a2da9(0x3f2)+(_0x47660d instanceof Error?_0x47660d[_0x4a2da9(0x451)]:JSON[_0x4a2da9(0x36f)](_0x47660d,null,0x2))),_0x3198c5=_0x47660d[_0x4a2da9(0x451)];}if(_0x3198c5)return{'error':!0x0,'detail':(typeof _0x3198c5==_0x4a2da9(0x64b)?JSON[_0x4a2da9(0x36f)](_0x3198c5,null,0x2):_0x3198c5)[_0x4a2da9(0x534)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x1955e1(0x47c)](_0x22bad2){const _0x2aca89=a0_0x1955e1;try{return await this['client']['groupUpdateDescription'](_0x22bad2[_0x2aca89(0x425)],_0x22bad2[_0x2aca89(0x5cf)]),{'update':_0x2aca89(0x5ca)};}catch(_0x5c8f99){let _0x473162=_0x2aca89(0x383),_0x535954=_0x5c8f99 instanceof Error?_0x5c8f99[_0x2aca89(0x451)]:typeof _0x5c8f99==_0x2aca89(0x64b)?JSON[_0x2aca89(0x36f)](_0x5c8f99):_0x5c8f99,_0x338446=_0x473162+':\x20'+_0x535954;throw this[_0x2aca89(0x773)][_0x2aca89(0x2e7)](this['instanceName']+'\x20('+this[_0x2aca89(0x60a)][_0x2aca89(0x33b)]+'):\x20'+_0x338446),new x(_0x338446);}}async[a0_0x1955e1(0x438)](_0x424ce0){const _0x5ea3fb=a0_0x1955e1;try{return await this[_0x5ea3fb(0x88d)][_0x5ea3fb(0x6fd)](_0x424ce0['groupJid'],_0x424ce0[_0x5ea3fb(0x543)]),{'update':'success'};}catch(_0x462a6d){let _0x3fbe66='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',_0x36ff3c=_0x462a6d instanceof Error?_0x462a6d[_0x5ea3fb(0x451)]:typeof _0x462a6d==_0x5ea3fb(0x64b)?JSON['stringify'](_0x462a6d):_0x462a6d,_0x16dca6=_0x3fbe66+':\x20'+_0x36ff3c;throw this[_0x5ea3fb(0x773)][_0x5ea3fb(0x2e7)](this[_0x5ea3fb(0x192)]+'\x20('+this[_0x5ea3fb(0x60a)][_0x5ea3fb(0x33b)]+_0x5ea3fb(0x6cd)+_0x16dca6),new x(_0x16dca6);}}async['toggleEphemeral'](_0x737c04){const _0x142273=a0_0x1955e1;try{let _0x2f995c=await this['client'][_0x142273(0x4f2)](_0x737c04['groupJid'],_0x737c04['expiration']);return{'success':!0x0};}catch(_0x4bbc84){let _0x190e13=_0x142273(0x51a),_0x359993=_0x4bbc84 instanceof Error?_0x4bbc84[_0x142273(0x451)]:typeof _0x4bbc84==_0x142273(0x64b)?JSON[_0x142273(0x36f)](_0x4bbc84):_0x4bbc84,_0xeea02c=_0x190e13+':\x20'+_0x359993;throw this[_0x142273(0x773)][_0x142273(0x2e7)](this[_0x142273(0x192)]+'\x20('+this[_0x142273(0x60a)]['wuid']+_0x142273(0x6cd)+_0xeea02c),new x(_0xeea02c);}}async['groupSetting'](_0x8d6f5a){const _0x240b9b=a0_0x1955e1;try{return await this[_0x240b9b(0x88d)][_0x240b9b(0x5c3)](_0x8d6f5a[_0x240b9b(0x425)],_0x8d6f5a['setting']),{'update':_0x240b9b(0x5ca)};}catch(_0x12f69e){let _0x29f143=_0x240b9b(0x479),_0x26c2d2=_0x12f69e instanceof Error?_0x12f69e['message']:typeof _0x12f69e=='object'?JSON[_0x240b9b(0x36f)](_0x12f69e):_0x12f69e,_0x3ee29b=_0x29f143+':\x20'+_0x26c2d2;throw this[_0x240b9b(0x773)][_0x240b9b(0x2e7)](this['instanceName']+'\x20('+this[_0x240b9b(0x60a)][_0x240b9b(0x33b)]+'):\x20'+_0x3ee29b),new x(_0x3ee29b);}}async['updateGroupPicture'](_0x4af5c3){const _0x190aba=a0_0x1955e1;try{let _0x24d853;if((0x0,k[_0x190aba(0x3cd)])(_0x4af5c3[_0x190aba(0x412)])){let _0x46ba43=new Date()[_0x190aba(0x763)](),_0x4b71a9=_0x4af5c3[_0x190aba(0x412)]+_0x190aba(0x293)+_0x46ba43;_0x24d853=(await Q[_0x190aba(0x36d)]['get'](_0x4b71a9,{'responseType':'arraybuffer'}))[_0x190aba(0x786)];}else{if((0x0,k['isBase64'])(_0x4af5c3[_0x190aba(0x412)]))_0x24d853=Buffer['from'](_0x4af5c3[_0x190aba(0x412)],_0x190aba(0x863));else throw new m(_0x190aba(0x734));}return await this[_0x190aba(0x88d)][_0x190aba(0x5a7)](_0x4af5c3[_0x190aba(0x425)],_0x24d853),{'update':_0x190aba(0x5ca)};}catch(_0x5b93c0){let _0x5f0942=_0x190aba(0x258),_0x1a8687=_0x5b93c0 instanceof Error?_0x5b93c0['message']:typeof _0x5b93c0==_0x190aba(0x64b)?JSON[_0x190aba(0x36f)](_0x5b93c0):_0x5b93c0,_0x24128d=_0x5f0942+':\x20'+_0x1a8687;throw this[_0x190aba(0x773)][_0x190aba(0x2e7)](this[_0x190aba(0x192)]+'\x20('+this['instance'][_0x190aba(0x33b)]+_0x190aba(0x6cd)+_0x24128d),new x(_0x24128d);}}},Gt=class l{constructor(_0x42e4e6,_0x262d91,_0x335e6e){const _0x6df80a=a0_0x1955e1;this['eventEmitter']=_0x42e4e6,this[_0x6df80a(0x567)]=_0x262d91,this[_0x6df80a(0x3c7)]=_0x335e6e,this['db']={},this[_0x6df80a(0x5b1)]={},this[_0x6df80a(0x773)]=new $(l[_0x6df80a(0x543)]),this[_0x6df80a(0x6d7)]={},(this[_0x6df80a(0x2c3)](),this['noConnection'](),Object[_0x6df80a(0x6af)](this['db'],_0x262d91[_0x6df80a(0x7be)](_0x6df80a(0x51f))),Object[_0x6df80a(0x6af)](this[_0x6df80a(0x5b1)],_0x262d91[_0x6df80a(0x7be)](_0x6df80a(0x4a5))),this['dbInstance']=this['db']['ENABLED']?this[_0x6df80a(0x3c7)][_0x6df80a(0x55c)]?.['db'](this['db'][_0x6df80a(0x84e)][_0x6df80a(0x82d)]+_0x6df80a(0x495)):void 0x0,this[_0x6df80a(0x2d3)]=this[_0x6df80a(0x5b1)][_0x6df80a(0x343)]?new pe(this['redis']):void 0x0);}async[a0_0x1955e1(0x54d)](_0x415910){const _0x1c20ab=a0_0x1955e1;if(_0x415910&&!this[_0x1c20ab(0x6d7)][_0x415910])throw new J(_0x1c20ab(0x1b0)+_0x415910+'\x22\x20not\x20found');let _0x110b0f=[];for await(let [_0xea7764,_0xa15207]of Object['entries'](this[_0x1c20ab(0x6d7)]))if(_0xa15207&&_0xa15207[_0x1c20ab(0x30a)][_0x1c20ab(0x6fa)]===_0x1c20ab(0x2ac)){let _0xa5e736=await this[_0x1c20ab(0x3c7)]['auth'][_0x1c20ab(0x6d3)](_0xea7764);_0x110b0f['push']({'instance':{'instanceName':_0xea7764,'apikey':_0xa5e736['apikey'],'owner':_0xa15207[_0x1c20ab(0x33b)],'profileName':await _0xa15207['getProfileName']()||_0x1c20ab(0x53d),'profilePictureUrl':_0xa15207[_0x1c20ab(0x5a2)]}});}return _0x110b0f[_0x1c20ab(0x6d3)](_0x42d04e=>_0x42d04e[_0x1c20ab(0x60a)][_0x1c20ab(0x192)]===_0x415910)??_0x110b0f;}async[a0_0x1955e1(0x413)](_0x52ca81){const _0x4c0864=a0_0x1955e1;if(this['db'][_0x4c0864(0x343)]&&(await this['repository'][_0x4c0864(0x55c)][_0x4c0864(0x64e)](),(await this[_0x4c0864(0x478)][_0x4c0864(0x7fc)]())['length']>0x0&&await this[_0x4c0864(0x478)]['dropCollection'](_0x52ca81)),this[_0x4c0864(0x5b1)][_0x4c0864(0x343)]){this[_0x4c0864(0x2d3)][_0x4c0864(0x601)]=_0x52ca81,await this[_0x4c0864(0x2d3)]['delAll']();return;}}async['loadInstance'](){const _0x25576b=a0_0x1955e1;await this['InstancesAlterarTodas']();let _0x3a938d=async _0x2cfe28=>{const _0xe24d09=a0_0x2868;let _0x4e31d3=new Ne(this['configService'],this[_0xe24d09(0x297)],this[_0xe24d09(0x3c7)]);_0x4e31d3['instanceName']=_0x2cfe28,await _0x4e31d3[_0xe24d09(0x26e)](),this['waInstances'][_0x2cfe28]=_0x4e31d3;};try{if(this['redis'][_0x25576b(0x343)]){let _0x31627c=await this[_0x25576b(0x2d3)]['instanceKeys']();_0x31627c?.[_0x25576b(0x7dc)]>0x0&&_0x31627c[_0x25576b(0x408)](async _0x3d0f7d=>await _0x3a938d(_0x3d0f7d['split'](':')[0x1]));return;}if(this['db'][_0x25576b(0x343)]){await this[_0x25576b(0x3c7)][_0x25576b(0x55c)][_0x25576b(0x64e)]();let _0x1e9ab5=await this[_0x25576b(0x478)][_0x25576b(0x7fc)]();_0x1e9ab5[_0x25576b(0x7dc)]>0x0&&_0x1e9ab5['forEach'](async _0x21a1ab=>await _0x3a938d(_0x21a1ab[_0x25576b(0x2e1)][_0x25576b(0x534)](/^[\w-]+\./,'')));return;}}catch(_0x2c0a37){this['logger'][_0x25576b(0x2e7)](_0x2c0a37);}}async['cleanDisconnectedInstances'](){const _0x595b29=a0_0x1955e1;try{let _0x60fcd0=await this['repository'][_0x595b29(0x2e4)][_0x595b29(0x3a0)]({'online':!0x1});for(let _0xe0a98 of _0x60fcd0){let _0x5ed7aa=_0xe0a98[_0x595b29(0x45a)];await he[_0x595b29(0x2d5)](X,_0x5ed7aa);}console[_0x595b29(0x538)](_0x595b29(0x2b2)+_0x60fcd0['length']);let _0x1e25e9={'online':!0x1},_0x4d6105=await this[_0x595b29(0x3c7)]['auth'][_0x595b29(0x504)](_0x1e25e9);console['log'](_0x595b29(0x875)+_0x4d6105[_0x595b29(0x3bd)]);}catch(_0x13ffe6){console[_0x595b29(0x2e7)](_0x595b29(0x657),_0x13ffe6);}}async[a0_0x1955e1(0x752)](){const _0x57a2dc=a0_0x1955e1;try{let _0x37482a={'online':!0x1},_0x450f27={'online':!0x1,'lastDisconnect':Date[_0x57a2dc(0x835)]()},_0x54ce34=await this['repository']['auth']['updateAll'](_0x37482a,_0x450f27);await this[_0x57a2dc(0x74a)]();}catch(_0x5e74c3){console[_0x57a2dc(0x2e7)](_0x57a2dc(0x6d1),_0x5e74c3);}}[a0_0x1955e1(0x2c3)](){const _0x4cd18e=a0_0x1955e1;this[_0x4cd18e(0x297)]['on'](_0x4cd18e(0x7d5),async _0x259871=>{const _0x36b0b5=_0x4cd18e;try{this['waInstances'][_0x259871]=void 0x0;}catch{}try{this[_0x36b0b5(0x413)](_0x259871);}finally{this['logger'][_0x36b0b5(0x4cb)](_0x36b0b5(0x1b0)+_0x259871+'\x22\x20-\x20REMOVED');}});}[a0_0x1955e1(0x473)](){const _0x39dd77=a0_0x1955e1;this[_0x39dd77(0x297)]['on'](_0x39dd77(0x1b5),async _0x4f2632=>{const _0x54d8b6=_0x39dd77;try{this[_0x54d8b6(0x6d7)][_0x4f2632]=void 0x0;}catch{}try{this['cleaningUp'](_0x4f2632);}finally{this[_0x54d8b6(0x773)][_0x54d8b6(0x4cb)](_0x54d8b6(0x1b0)+_0x4f2632+_0x54d8b6(0x784));}});}},Bt=class extends _{[a0_0x1955e1(0x61a)](_0x465089){return ia(_0x465089);}async['insert'](_0x1a08f0){const _0x2f7d7f=a0_0x1955e1;if(_0x1a08f0[_0x2f7d7f(0x7dc)]!==0x0)try{return{'insertCount':(await this[_0x2f7d7f(0x61a)](_0x1a08f0[0x0]['owner'])[_0x2f7d7f(0x31e)]([..._0x1a08f0]))[_0x2f7d7f(0x7dc)]};}catch(_0x3e163f){return _0x3e163f;}}async[a0_0x1955e1(0x6d3)](_0x93a727,_0x51aee8){const _0x571c13=a0_0x1955e1;try{let _0x39a57a=this[_0x571c13(0x61a)](_0x51aee8),_0x31f9b3=I(_0x93a727[_0x571c13(0x482)]);return await _0x39a57a['find'](_0x31f9b3)[_0x571c13(0x6cf)]({'lastmsg':-0x1})[_0x571c13(0x28b)](_0x93a727?.[_0x571c13(0x28b)]??0x0)['lean']();}catch{return[];}}async['delete'](_0x411d2c,_0x2dd874){const _0xdf73be=a0_0x1955e1;try{return{'deletedCount':(await this[_0xdf73be(0x61a)](_0x2dd874)[_0xdf73be(0x504)]({..._0x411d2c[_0xdf73be(0x482)]}))[_0xdf73be(0x190)]};}catch(_0x510b2e){return{'error':_0x510b2e?.['toString']()};}}async['deleteAll'](_0x31713a,_0x2c902c){const _0x46d3da=a0_0x1955e1;try{return await this[_0x46d3da(0x61a)](_0x2c902c)[_0x46d3da(0x504)]({..._0x31713a['where']}),[];}catch(_0x3adb05){return{'error':_0x3adb05?.[_0x46d3da(0x6c3)]()};}}async[a0_0x1955e1(0x309)](_0x5788b0,_0x25a9da){const _0x2e05aa=a0_0x1955e1;try{let _0x5e3913=this[_0x2e05aa(0x61a)](_0x25a9da),_0x1db759=I(_0x5788b0[_0x2e05aa(0x482)]);return await _0x5e3913[_0x2e05aa(0x309)](_0x1db759)['lean']();}catch{return null;}}async[a0_0x1955e1(0x400)](_0x1362af,_0x5e7ecc,_0x136f35,_0x4bcf55,_0x13a04b=a0_0x1955e1(0x802)){const _0x5044ad=a0_0x1955e1;try{let _0x5a03c1={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4bcf55},_0x53489e=this[_0x5044ad(0x61a)](_0x136f35),_0x5b5d6e=I(_0x1362af['where']);Object[_0x5044ad(0x281)](_0x5e7ecc)[_0x5044ad(0x408)](_0x31eb14=>{_0x5e7ecc[_0x31eb14]==null&&delete _0x5e7ecc[_0x31eb14];});let _0x35abba={};return _0x35abba[_0x13a04b]=_0x5e7ecc,await _0x53489e[_0x5044ad(0x3f5)](_0x5b5d6e,_0x35abba,_0x5a03c1);}catch(_0x236627){return console[_0x5044ad(0x2e7)](_0x236627),null;}}async[a0_0x1955e1(0x1b4)](_0x4ec426){const _0x317549=a0_0x1955e1;try{let _0x42b351=this[_0x317549(0x61a)](_0x4ec426[0x0]['query'][_0x317549(0x482)][_0x317549(0x484)]),_0x145dd7=_0x4ec426[_0x317549(0x3e2)](_0x55fb26=>({'updateOne':{'filter':{..._0x55fb26[_0x317549(0x4d8)][_0x317549(0x482)]},'update':{'$set':_0x55fb26[_0x317549(0x563)]},'upsert':!0x0}})),_0x379707=await _0x42b351[_0x317549(0x777)](_0x145dd7);return _0x379707[_0x317549(0x69d)]+_0x379707['upsertedCount'];}catch(_0x9682d8){return console[_0x317549(0x2e7)](_0x9682d8),0x0;}}async[a0_0x1955e1(0x1d7)](_0xe0ad16){const _0x33239f=a0_0x1955e1;try{let _0x415d89={'group_isCommunity':'','group_announce':'','group_size':''},_0x2e0d2b={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x164511={'$unset':_0x415d89};return(await this['getChatModelForOwner'](_0xe0ad16)[_0x33239f(0x1b4)](_0x2e0d2b,_0x164511))[_0x33239f(0x69d)];}catch(_0x1a065b){return console[_0x33239f(0x2e7)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x1a065b),0x0;}}async[a0_0x1955e1(0x4d5)](_0x642e63){try{let _0x371d18=this['getChatModelForOwner'](_0x642e63),_0x342c7d={'leadInfo.etiquetas':{'$exists':!0x1}},_0xa02648={'$set':{'leadInfo.etiquetas':[]}};return(await _0x371d18['updateMany'](_0x342c7d,_0xa02648))['modifiedCount'];}catch(_0xe829ff){return console['error'](_0xe829ff),0x0;}}async[a0_0x1955e1(0x5f7)](_0x424fc8){const _0x2b9880=a0_0x1955e1;try{let _0x1def00=this[_0x2b9880(0x61a)](_0x424fc8),_0x333305={'leadInfo.tags':{'$exists':!0x1}},_0x12b13f={'$set':{'leadInfo.tags':[]}};return(await _0x1def00[_0x2b9880(0x1b4)](_0x333305,_0x12b13f))[_0x2b9880(0x69d)];}catch(_0x15acbb){return console['error'](_0x15acbb),0x0;}}async[a0_0x1955e1(0x5dc)](_0x1679be){const _0x418d04=a0_0x1955e1;try{let _0x2c575e=this['getChatModelForOwner'](_0x1679be),_0x523f2b={'leadInfo.customFields':{'$exists':!0x1}},_0x183549={'$set':{'leadInfo.customFields':[]}};return(await _0x2c575e[_0x418d04(0x1b4)](_0x523f2b,_0x183549))[_0x418d04(0x69d)];}catch(_0x5becf2){return console[_0x418d04(0x2e7)](_0x5becf2),0x0;}}async[a0_0x1955e1(0x31e)](_0x11e143,_0x1f76d8){const _0x3a5b27=a0_0x1955e1;if(!Array['isArray'](_0x11e143)||_0x11e143[_0x3a5b27(0x7dc)]===0x0)throw new Error(_0x3a5b27(0x6dc));try{return(await this[_0x3a5b27(0x61a)](_0x1f76d8)[_0x3a5b27(0x31e)](_0x11e143))[_0x3a5b27(0x7dc)];}catch(_0x15f530){throw console['error']('Erro\x20ao\x20inserir\x20chats:',_0x15f530),_0x15f530;}}async[a0_0x1955e1(0x1a5)](_0x5184ba,_0x57411c){const _0x21b3cc=a0_0x1955e1;try{await this[_0x21b3cc(0x61a)](_0x57411c)['deleteOne']({'_id':_0x5184ba});}catch(_0x3070fa){throw console[_0x21b3cc(0x2e7)](_0x21b3cc(0x398),_0x3070fa),_0x3070fa;}}},Wt=class extends _{constructor(_0x170326,_0x1c989e,_0x42e9ce){const _0x4d259b=a0_0x1955e1;super(_0x1c989e),this[_0x4d259b(0x29e)]=_0x170326,this[_0x4d259b(0x567)]=_0x1c989e,this[_0x4d259b(0x51e)]=_0x42e9ce;}async[a0_0x1955e1(0x541)](_0x18b678){const _0x2d3c74=a0_0x1955e1;if(_0x18b678[_0x2d3c74(0x7dc)]!==0x0)try{return{'insertCount':(await this[_0x2d3c74(0x29e)][_0x2d3c74(0x31e)]([..._0x18b678]))[_0x2d3c74(0x7dc)]};}catch(_0xf455cd){return _0xf455cd;}}async['update'](_0x3882ae,_0x530099){const _0x3809ce=a0_0x1955e1;try{let _0x565a89=I(_0x3882ae[_0x3809ce(0x482)]);return{'updatedCount':(await this[_0x3809ce(0x29e)][_0x3809ce(0x1b4)](_0x565a89,{'$set':_0x530099}))[_0x3809ce(0x69d)]};}catch(_0x401bc6){return console[_0x3809ce(0x2e7)](_0x3809ce(0x6ae),_0x401bc6),{'error':_0x401bc6['toString']()};}}async[a0_0x1955e1(0x58f)](_0x1e0f03){const _0x57214a=a0_0x1955e1;try{let _0x404c64={'_id':{'$in':_0x1e0f03}};return await this['cacheContactModel'][_0x57214a(0x6d3)](_0x404c64)['lean']();}catch(_0x458028){return console[_0x57214a(0x2e7)](_0x57214a(0x5d5),_0x458028),[];}}async[a0_0x1955e1(0x544)](_0x4b1a27){const _0x1ce5dd=a0_0x1955e1;try{return{'deletedCount':(await this[_0x1ce5dd(0x29e)][_0x1ce5dd(0x504)]({..._0x4b1a27[_0x1ce5dd(0x482)]}))[_0x1ce5dd(0x190)]};}catch(_0x5e3146){return{'error':_0x5e3146?.['toString']()};}}async[a0_0x1955e1(0x6d3)](_0x5e76d0){const _0x3f7d8d=a0_0x1955e1;try{let _0x3b0b28=I(_0x5e76d0['where']);return await this[_0x3f7d8d(0x29e)][_0x3f7d8d(0x6d3)](_0x3b0b28)[_0x3f7d8d(0x28b)](_0x5e76d0?.[_0x3f7d8d(0x28b)]??0x0)[_0x3f7d8d(0x6e3)]();}catch{return[];}}async['findOne'](_0x461411){const _0x17d063=a0_0x1955e1;try{let _0x414c71=I(_0x461411[_0x17d063(0x482)]);return await this['cacheContactModel'][_0x17d063(0x309)](_0x414c71)[_0x17d063(0x6e3)]();}catch{return null;}}},zt=class extends _{[a0_0x1955e1(0x539)](_0x3d63ba){return Na(_0x3d63ba);}async[a0_0x1955e1(0x400)](_0x16c9fd,_0x556745,_0x47dcbb,_0x156448){const _0x2cbcb9=a0_0x1955e1;try{let _0x49fe45={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x156448},_0x50bc11=this[_0x2cbcb9(0x539)](_0x47dcbb),_0x511caa=I(_0x16c9fd[_0x2cbcb9(0x482)]);return await _0x50bc11[_0x2cbcb9(0x3f5)](_0x511caa,{'$set':_0x556745},_0x49fe45);}catch(_0x4fa0ed){return console[_0x2cbcb9(0x2e7)](_0x4fa0ed),null;}}async['find'](_0x2c9345,_0x5f51b7){const _0x53a413=a0_0x1955e1;try{let _0x2bf59c=this[_0x53a413(0x539)](_0x5f51b7),_0x117b38=I(_0x2c9345[_0x53a413(0x482)]);return await _0x2bf59c[_0x53a413(0x6d3)](_0x117b38);}catch(_0x1901ae){console[_0x53a413(0x2e7)](_0x1901ae);}}async[a0_0x1955e1(0x544)](_0x2cc523,_0x184bb3){const _0x183b43=a0_0x1955e1;try{let _0x37857b=this[_0x183b43(0x539)](_0x184bb3),_0x1b47db=I(_0x2cc523[_0x183b43(0x482)]);await _0x37857b['deleteMany'](_0x1b47db);}catch(_0x15ae93){console['error'](_0x15ae93);}}async[a0_0x1955e1(0x477)](_0xc4c7e7){const _0x4e8082=a0_0x1955e1;try{return await this[_0x4e8082(0x539)](_0xc4c7e7)[_0x4e8082(0x5c9)]['drop'](),{'success':!0x0};}catch(_0x54aaf1){return console[_0x4e8082(0x2e7)](_0x54aaf1),{'success':!0x1,'error':_0x54aaf1};}}},Ht=class{constructor(_0x29f5ef){const _0x3194ab=a0_0x1955e1;this[_0x3194ab(0x6b0)]=_0x29f5ef;}async[a0_0x1955e1(0x61f)]({instanceName:_0x4a4a26},_0x111e5d){const _0x219298=a0_0x1955e1;return await this['waMonitor'][_0x219298(0x6d7)][_0x4a4a26]['editChat'](_0x111e5d);}async[a0_0x1955e1(0x73d)]({instanceName:_0x2ba750},_0x4534ab){const _0x1b39ee=a0_0x1955e1;return await this['waMonitor'][_0x1b39ee(0x6d7)][_0x2ba750][_0x1b39ee(0x73d)](_0x4534ab);}async['importChats']({instanceName:_0x56b4f7},_0x3d7f28){const _0x3462b2=a0_0x1955e1;return await this['waMonitor'][_0x3462b2(0x6d7)][_0x56b4f7][_0x3462b2(0x27d)](_0x3d7f28);}async[a0_0x1955e1(0x350)]({instanceName:_0x2fd6c8},_0x2a5be2){const _0x4b3592=a0_0x1955e1;return await this[_0x4b3592(0x6b0)][_0x4b3592(0x6d7)][_0x2fd6c8][_0x4b3592(0x1b3)](_0x2a5be2);}async[a0_0x1955e1(0x18e)]({instanceName:_0x5277d1},_0x6b952e){const _0x4f9bde=a0_0x1955e1;return await this[_0x4f9bde(0x6b0)][_0x4f9bde(0x6d7)][_0x5277d1]['archiveChat'](_0x6b952e);}async['deleteMessage']({instanceName:_0x5a840d},_0x174d01){const _0x1760bd=a0_0x1955e1;return await this[_0x1760bd(0x6b0)][_0x1760bd(0x6d7)][_0x5a840d][_0x1760bd(0x306)](_0x174d01);}async['fetchProfilePicture']({instanceName:_0xee1b34},_0x83f9bf){const _0x4ff59a=a0_0x1955e1;return await this[_0x4ff59a(0x6b0)][_0x4ff59a(0x6d7)][_0xee1b34]['profilePicture'](_0x83f9bf[_0x4ff59a(0x1a0)]);}async[a0_0x1955e1(0x5db)]({instanceName:_0xca7576},_0x36795e){const _0x4f1942=a0_0x1955e1;return await this['waMonitor'][_0x4f1942(0x6d7)][_0xca7576][_0x4f1942(0x5db)](_0x36795e[_0x4f1942(0x1a0)]);}async[a0_0x1955e1(0x642)]({instanceName:_0xe5ddab},_0x241f1b){const _0x576f0c=a0_0x1955e1;return await this['waMonitor'][_0x576f0c(0x6d7)][_0xe5ddab][_0x576f0c(0x642)](_0x241f1b);}async[a0_0x1955e1(0x1e7)]({instanceName:_0xf711ba},_0x3ad76d){const _0x30202d=a0_0x1955e1;return await this[_0x30202d(0x6b0)][_0x30202d(0x6d7)][_0xf711ba]['fetchContacts'](_0x3ad76d);}async['getBase64FromMediaMessage']({instanceName:_0x17663c},_0x1c8424){const _0xb6cd7a=a0_0x1955e1;return await this['waMonitor']['waInstances'][_0x17663c][_0xb6cd7a(0x7d9)](_0x1c8424);}async['fetchMessages']({instanceName:_0x4df9d2},_0x364df3){const _0x30d57d=a0_0x1955e1;return await this[_0x30d57d(0x6b0)][_0x30d57d(0x6d7)][_0x4df9d2]['fetchMessages'](_0x364df3);}async[a0_0x1955e1(0x530)]({instanceName:_0x3c2c97}){const _0x2a86f5=a0_0x1955e1;return await this[_0x2a86f5(0x6b0)][_0x2a86f5(0x6d7)][_0x3c2c97][_0x2a86f5(0x530)]();}async[a0_0x1955e1(0x65c)]({instanceName:_0x256452}){const _0x2d99aa=a0_0x1955e1;return await this[_0x2d99aa(0x6b0)][_0x2d99aa(0x6d7)][_0x256452][_0x2d99aa(0x65c)]();}async[a0_0x1955e1(0x878)]({instanceName:_0x339113}){const _0xccefd=a0_0x1955e1;return await this['waMonitor'][_0xccefd(0x6d7)][_0x339113]['fetchPrivacySettings']();}async[a0_0x1955e1(0x5a1)]({instanceName:_0x3776a6},_0x48562a){const _0x1d6334=a0_0x1955e1;return await this['waMonitor']['waInstances'][_0x3776a6][_0x1d6334(0x5a1)](_0x48562a);}async['fetchBusinessProfile']({instanceName:_0x474396},_0x8d7fd6){const _0x169d4a=a0_0x1955e1;return await this['waMonitor']['waInstances'][_0x474396][_0x169d4a(0x1eb)](_0x8d7fd6['number']);}async[a0_0x1955e1(0x851)]({instanceName:_0x501812},_0xdd422d){const _0x3fabce=a0_0x1955e1;return await this[_0x3fabce(0x6b0)][_0x3fabce(0x6d7)][_0x501812][_0x3fabce(0x851)](_0xdd422d[_0x3fabce(0x543)]);}async[a0_0x1955e1(0x213)]({instanceName:_0xcb124d},_0x225259){const _0x1c6d9e=a0_0x1955e1;return await this[_0x1c6d9e(0x6b0)][_0x1c6d9e(0x6d7)][_0xcb124d][_0x1c6d9e(0x213)](_0x225259[_0x1c6d9e(0x3d9)]);}async[a0_0x1955e1(0x5a7)]({instanceName:_0x27c2eb},_0x5f5c0a){const _0x14de4d=a0_0x1955e1;return await this[_0x14de4d(0x6b0)][_0x14de4d(0x6d7)][_0x27c2eb][_0x14de4d(0x5a7)](_0x5f5c0a[_0x14de4d(0x50f)]);}async['removeProfilePicture']({instanceName:_0x2067a4},_0x2bcf2a){const _0x2870b8=a0_0x1955e1;return await this[_0x2870b8(0x6b0)][_0x2870b8(0x6d7)][_0x2067a4]['removeProfilePicture']();}},Kt=require(a0_0x1955e1(0x75c)),Qt=class l{constructor(_0x2e749b,_0x3e2151,_0x57a61a,_0x484ea2,_0x9340a){const _0x342f63=a0_0x1955e1;this['waMonitor']=_0x2e749b,this['configService']=_0x3e2151,this[_0x342f63(0x3c7)]=_0x57a61a,this[_0x342f63(0x297)]=_0x484ea2,this['authService']=_0x9340a,this[_0x342f63(0x773)]=new $(l[_0x342f63(0x543)]);}async[a0_0x1955e1(0x43f)]({instanceName:_0x282b40,apikey:_0x11b4e8,number:_0x41e0b0,proxy:_0x47fcbd=!0x0}){const _0x35d5e7=a0_0x1955e1;try{let _0x1bc289=new Ne(this[_0x35d5e7(0x567)],this[_0x35d5e7(0x297)],this[_0x35d5e7(0x3c7)]);_0x1bc289[_0x35d5e7(0x192)]=_0x282b40,this[_0x35d5e7(0x6b0)]['waInstances'][_0x1bc289['instanceName']]=_0x1bc289;let _0x44f7db={};_0x11b4e8?(await this[_0x35d5e7(0x3c7)][_0x35d5e7(0x2e4)][_0x35d5e7(0x4ed)]({'apikey':_0x11b4e8},_0x282b40),_0x44f7db[_0x35d5e7(0x610)]=_0x11b4e8):_0x44f7db=await this[_0x35d5e7(0x668)][_0x35d5e7(0x337)]({'instanceName':_0x1bc289[_0x35d5e7(0x192)]});let _0x51f900;if(_0x41e0b0){if(_0x51f900=await this[_0x35d5e7(0x572)](_0x41e0b0),_0x51f900[_0x35d5e7(0x2e7)])throw new x(_0x51f900[_0x35d5e7(0x2e7)]['toString']());_0x41e0b0=_0x51f900[_0x35d5e7(0x1a0)];}let _0x53e17f;return await _0x1bc289[_0x35d5e7(0x26e)](_0x41e0b0),await(0x0,Kt[_0x35d5e7(0x858)])(0xfa0),_0x41e0b0&&await(0x0,Kt[_0x35d5e7(0x858)])(0xbb8),_0x53e17f=_0x1bc289['qrCode'],{'instance':{'instanceName':_0x1bc289[_0x35d5e7(0x192)],'status':_0x35d5e7(0x732)},'hash':_0x44f7db,'qrcode':_0x53e17f};}catch(_0x12aea5){throw this[_0x35d5e7(0x773)][_0x35d5e7(0x2e7)](_0x12aea5),_0x12aea5;}}async[a0_0x1955e1(0x549)]({instanceName:_0x5db365,number:_0x2ecd29=null}){const _0xce5c27=a0_0x1955e1;try{let _0x5be215=this[_0xce5c27(0x6b0)][_0xce5c27(0x6d7)][_0x5db365];switch(_0x5be215?.[_0xce5c27(0x30a)]?.[_0xce5c27(0x6fa)]){case _0xce5c27(0x4ce):return await _0x5be215[_0xce5c27(0x26e)](_0x2ecd29),await(0x0,Kt[_0xce5c27(0x858)])(0x7d0),_0x5be215[_0xce5c27(0x332)];case _0xce5c27(0x2a6):return _0x5be215[_0xce5c27(0x332)];default:return await this[_0xce5c27(0x7e9)]({'instanceName':_0x5db365});}}catch(_0x32581e){this[_0xce5c27(0x773)][_0xce5c27(0x538)](_0x32581e);}}async[a0_0x1955e1(0x7e9)]({instanceName:_0x1b3fa7}){const _0x5ad63c=a0_0x1955e1;let _0x4fb7da=this[_0x5ad63c(0x6b0)][_0x5ad63c(0x6d7)][_0x1b3fa7][_0x5ad63c(0x30a)],_0x5ec237=null;_0x4fb7da[_0x5ad63c(0x6fa)]==='open'&&_0x1b3fa7&&(_0x5ec237=await this['waMonitor'][_0x5ad63c(0x54d)](_0x1b3fa7));let _0x169c69=null;return _0x4fb7da[_0x5ad63c(0x6fa)]===_0x5ad63c(0x2a6)&&_0x1b3fa7&&(_0x169c69=this[_0x5ad63c(0x6b0)][_0x5ad63c(0x6d7)][_0x1b3fa7][_0x5ad63c(0x332)]),{'instance':_0x1b3fa7,'connectionStatus':_0x4fb7da,'instanceInfo':_0x5ec237,'qrcode':_0x169c69};}async['verifyWhatsAppNumber'](_0x1dde13){const _0x138155=a0_0x1955e1;_0x1dde13=_0x1dde13[_0x138155(0x534)](/\D/g,'');let _0x22180d=Object['keys'](this[_0x138155(0x6b0)][_0x138155(0x6d7)])['filter'](_0xbd4f0d=>{const _0x2e698f=_0x138155;let _0x2ffe4a=this[_0x2e698f(0x6b0)]['waInstances'][_0xbd4f0d];return _0x2ffe4a&&_0x2ffe4a[_0x2e698f(0x30a)]&&_0x2ffe4a[_0x2e698f(0x30a)][_0x2e698f(0x6fa)]===_0x2e698f(0x2ac);});if(_0x22180d[_0x138155(0x7dc)]===0x0)return{'number':this['formatBRNumber'](_0x1dde13)};let _0x4bae2c=Math[_0x138155(0x580)](Math[_0x138155(0x5ad)]()*_0x22180d[_0x138155(0x7dc)]),_0x57b20e=_0x22180d[_0x4bae2c];try{let _0x4b7c6a=(await this[_0x138155(0x6b0)][_0x138155(0x6d7)][_0x57b20e][_0x138155(0x73d)]({'numbers':[_0x1dde13]}))['shift']();return _0x4b7c6a[_0x138155(0x72e)]?{'number':_0x4b7c6a['jid'][_0x138155(0x534)](_0x138155(0x1a9),'')}:{'number':_0x1dde13,'error':_0x138155(0x394)};}catch(_0x547a01){return this[_0x138155(0x773)][_0x138155(0x2e7)]('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x547a01),{'number':_0x1dde13,'error':_0x138155(0x291)};}}[a0_0x1955e1(0x7cc)](_0x4a6e62){let _0x1dbbf0=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x4a6e62);if(_0x1dbbf0&&_0x1dbbf0[0x1]==='55'){let _0x3aa3f9=_0x1dbbf0[0x2],_0x5ef084=_0x1dbbf0[0x3],_0x563c8a=_0x1dbbf0[0x4];if(parseInt(_0x3aa3f9)>=0x1f&&_0x5ef084==='9')return _0x1dbbf0[0x1]+_0x3aa3f9+_0x563c8a;}return _0x4a6e62;}async['restartInstance']({instanceName:_0x438ffd}){const _0x15beb2=a0_0x1955e1;try{return this['waMonitor'][_0x15beb2(0x6d7)][_0x438ffd]?.[_0x15beb2(0x88d)]?.['ws']?.[_0x15beb2(0x4ce)](),{'status':_0x15beb2(0x551),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x6408f0){this[_0x15beb2(0x773)][_0x15beb2(0x2e7)](_0x6408f0);}}async['fetchInstances']({instanceName:_0x9d2f14}){const _0x1a5266=a0_0x1955e1;return _0x9d2f14?this['waMonitor'][_0x1a5266(0x54d)](_0x9d2f14):this[_0x1a5266(0x6b0)][_0x1a5266(0x54d)]();}async[a0_0x1955e1(0x7ed)]({instanceName:_0x2878bb}){const _0x193341=a0_0x1955e1;try{return await this['waMonitor'][_0x193341(0x6d7)][_0x2878bb]?.['client']?.['logout'](_0x193341(0x481)+_0x2878bb),{'error':!0x1,'message':_0x193341(0x4e9)};}catch(_0x3df9af){throw new x(_0x3df9af[_0x193341(0x6c3)]());}}async[a0_0x1955e1(0x2dd)]({instanceName:_0x3f3993}){const _0xee45a5=a0_0x1955e1;if((await this[_0xee45a5(0x7e9)]({'instanceName':_0x3f3993}))[_0xee45a5(0x30a)][_0xee45a5(0x6fa)]===_0xee45a5(0x2ac))throw new m([_0xee45a5(0x56e),_0xee45a5(0x1fd)]);try{return delete this['waMonitor']['waInstances'][_0x3f3993],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x779628){throw new m(_0x779628[_0xee45a5(0x6c3)]());}}},ie=require('class-validator'),Yt=class{constructor(_0x2f41f0){const _0x422805=a0_0x1955e1;this[_0x422805(0x6b0)]=_0x2f41f0;}async[a0_0x1955e1(0x672)]({instanceName:_0x2af1fe},_0x282f66){const _0x1fe7f=a0_0x1955e1;return await this[_0x1fe7f(0x6b0)]['waInstances'][_0x2af1fe][_0x1fe7f(0x2ed)](_0x282f66);}async[a0_0x1955e1(0x229)]({instanceName:_0x30291c},_0xfe5785){const _0x44115e=a0_0x1955e1;return await this[_0x44115e(0x6b0)]['waInstances'][_0x30291c][_0x44115e(0x6a1)](_0xfe5785);}async['sendMedia']({instanceName:_0x1f7e35},_0x1fc203){const _0x38f992=a0_0x1955e1;if((0x0,ie[_0x38f992(0x2c2)])(_0x1fc203?.[_0x38f992(0x335)]?.['media'])&&!_0x1fc203?.[_0x38f992(0x335)]?.[_0x38f992(0x4b6)])throw new m(_0x38f992(0x805));if((0x0,ie[_0x38f992(0x3cd)])(_0x1fc203?.[_0x38f992(0x335)]?.[_0x38f992(0x704)])||(0x0,ie[_0x38f992(0x2c2)])(_0x1fc203?.['mediaMessage']?.[_0x38f992(0x704)]))return await this['waMonitor'][_0x38f992(0x6d7)][_0x1f7e35][_0x38f992(0x335)](_0x1fc203);throw new m(_0x38f992(0x240));}async[a0_0x1955e1(0x207)]({instanceName:_0xa9d6c6},_0x266152){const _0x482afd=a0_0x1955e1;if((0x0,ie[_0x482afd(0x3cd)])(_0x266152['stickerMessage']['image'])||(0x0,ie[_0x482afd(0x2c2)])(_0x266152[_0x482afd(0x79f)][_0x482afd(0x412)]))return await this[_0x482afd(0x6b0)][_0x482afd(0x6d7)][_0xa9d6c6][_0x482afd(0x377)](_0x266152);throw new m(_0x482afd(0x240));}async[a0_0x1955e1(0x21c)]({instanceName:_0xb90de7},_0x21bee5){const _0x21d855=a0_0x1955e1;if((0x0,ie[_0x21d855(0x3cd)])(_0x21bee5[_0x21d855(0x44f)][_0x21d855(0x6a7)])||(0x0,ie[_0x21d855(0x2c2)])(_0x21bee5[_0x21d855(0x44f)][_0x21d855(0x6a7)]))return await this['waMonitor']['waInstances'][_0xb90de7]['audioWhatsapp'](_0x21bee5);throw new m(_0x21d855(0x240));}async[a0_0x1955e1(0x820)]({instanceName:_0xb04f42},_0x5937a3){const _0x326320=a0_0x1955e1;if((0x0,ie['isBase64'])(_0x5937a3[_0x326320(0x33f)]['mediaMessage']?.[_0x326320(0x704)])&&!_0x5937a3['buttonMessage'][_0x326320(0x335)]?.[_0x326320(0x4b6)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x326320(0x6b0)][_0x326320(0x6d7)][_0xb04f42]['buttonMessage'](_0x5937a3);}async[a0_0x1955e1(0x294)]({instanceName:_0x8fe1b1},_0x32063a){const _0x12638b=a0_0x1955e1;return await this['waMonitor'][_0x12638b(0x6d7)][_0x8fe1b1][_0x12638b(0x79d)](_0x32063a);}async['sendPoll']({instanceName:_0xa751f8},_0x678452){const _0x213efa=a0_0x1955e1;return await this['waMonitor'][_0x213efa(0x6d7)][_0xa751f8]['pollMessage'](_0x678452);}async[a0_0x1955e1(0x2b4)]({instanceName:_0x2d7e61},_0x54a3dd){const _0x231033=a0_0x1955e1;return await this[_0x231033(0x6b0)][_0x231033(0x6d7)][_0x2d7e61]['listMessage'](_0x54a3dd);}async[a0_0x1955e1(0x1ac)]({instanceName:_0x27df0a},_0x2a4529){const _0x43f9b4=a0_0x1955e1;return await this[_0x43f9b4(0x6b0)][_0x43f9b4(0x6d7)][_0x27df0a][_0x43f9b4(0x330)](_0x2a4529);}async['sendReaction']({instanceName:_0x598daa},_0x26a563){const _0x4c35b9=a0_0x1955e1;if(!_0x26a563[_0x4c35b9(0x69a)][_0x4c35b9(0x6a0)][_0x4c35b9(0x676)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x4c35b9(0x6b0)][_0x4c35b9(0x6d7)][_0x598daa][_0x4c35b9(0x69a)](_0x26a563);}async[a0_0x1955e1(0x674)]({instanceName:_0x15b700},_0x1eef1c){const _0xd5af3e=a0_0x1955e1;return await this[_0xd5af3e(0x6b0)][_0xd5af3e(0x6d7)][_0x15b700][_0xd5af3e(0x765)](_0x1eef1c);}},Li=require(a0_0x1955e1(0x5b9)),Js=require(a0_0x1955e1(0x8b9)),Xt=class l{constructor(_0x18ec97,_0xd52eb8,_0x2fbcf6){const _0x42e0aa=a0_0x1955e1;this[_0x42e0aa(0x567)]=_0x18ec97,this[_0x42e0aa(0x6b0)]=_0xd52eb8,this[_0x42e0aa(0x3c7)]=_0x2fbcf6,this[_0x42e0aa(0x773)]=new $(l[_0x42e0aa(0x543)]);}async[a0_0x1955e1(0x6a6)](_0x1a0c7e){const _0x462fc1=a0_0x1955e1;let _0x2e3fcf=this['configService'][_0x462fc1(0x7be)](_0x462fc1(0x3e8))[_0x462fc1(0x628)],_0x4f2f8f=(0x0,Li[_0x462fc1(0x743)])({'instanceName':_0x1a0c7e[_0x462fc1(0x192)],'apiName':rt,'tokenId':(0x0,Js['v4'])()},_0x2e3fcf[_0x462fc1(0x86a)],{'expiresIn':_0x2e3fcf[_0x462fc1(0x4e8)],'encoding':_0x462fc1(0x5e9),'subject':'g-t'}),_0x534de5=await this[_0x462fc1(0x3c7)][_0x462fc1(0x2e4)][_0x462fc1(0x4ed)]({'jwt':_0x4f2f8f},_0x1a0c7e[_0x462fc1(0x192)]);if(_0x534de5[_0x462fc1(0x2e7)])throw this[_0x462fc1(0x773)][_0x462fc1(0x2e7)]({'localError':l[_0x462fc1(0x543)]+_0x462fc1(0x60f),'error':_0x534de5[_0x462fc1(0x2e7)]}),new m('Authentication\x20error',_0x534de5['error']?.['toString']());return{'jwt':_0x4f2f8f};}async['apikey'](_0x4cde0f){const _0x3fdd5b=a0_0x1955e1;let _0x1873fe=(0x0,Js['v4'])()[_0x3fdd5b(0x679)](),_0x2bfa5d=await this[_0x3fdd5b(0x3c7)][_0x3fdd5b(0x2e4)][_0x3fdd5b(0x4ed)]({'apikey':_0x1873fe},_0x4cde0f['instanceName']);if(_0x2bfa5d[_0x3fdd5b(0x2e7)])throw this[_0x3fdd5b(0x773)][_0x3fdd5b(0x2e7)]({'localError':l[_0x3fdd5b(0x543)]+_0x3fdd5b(0x60f),'error':_0x2bfa5d[_0x3fdd5b(0x2e7)]}),new m(_0x3fdd5b(0x34a),_0x2bfa5d[_0x3fdd5b(0x2e7)]?.[_0x3fdd5b(0x6c3)]());return{'apikey':_0x1873fe};}async[a0_0x1955e1(0x337)](_0x17b8cc){const _0x13e4b0=a0_0x1955e1;let _0xad5449=this['configService'][_0x13e4b0(0x7be)](_0x13e4b0(0x3e8));return await this[_0xad5449[_0x13e4b0(0x51d)]](_0x17b8cc);}},Zt=class{constructor(_0x2d2fb5){const _0x525b69=a0_0x1955e1;this[_0x525b69(0x6b0)]=_0x2d2fb5;}async[a0_0x1955e1(0x588)](_0x170184,_0x452bd6){const _0x461e16=a0_0x1955e1;return await this[_0x461e16(0x6b0)][_0x461e16(0x6d7)][_0x170184[_0x461e16(0x192)]][_0x461e16(0x588)](_0x452bd6);}async['updateGroupPicture'](_0x4c53c1,_0x333418){const _0x522a29=a0_0x1955e1;return await this[_0x522a29(0x6b0)][_0x522a29(0x6d7)][_0x4c53c1['instanceName']]['updateGroupPicture'](_0x333418);}async[a0_0x1955e1(0x47c)](_0x54ea8f,_0x1d194c){const _0x159339=a0_0x1955e1;return await this[_0x159339(0x6b0)][_0x159339(0x6d7)][_0x54ea8f['instanceName']][_0x159339(0x47c)](_0x1d194c);}async[a0_0x1955e1(0x438)](_0x1bbdd0,_0x14d7bc){const _0x3bcd20=a0_0x1955e1;return await this['waMonitor'][_0x3bcd20(0x6d7)][_0x1bbdd0[_0x3bcd20(0x192)]][_0x3bcd20(0x438)](_0x14d7bc);}async[a0_0x1955e1(0x22c)](_0x4c6f34,_0x5fce9f){const _0x2abb0d=a0_0x1955e1;return await this['waMonitor'][_0x2abb0d(0x6d7)][_0x4c6f34[_0x2abb0d(0x192)]][_0x2abb0d(0x22c)](_0x5fce9f);}async[a0_0x1955e1(0x842)](_0xf975f5,_0x25870d){const _0x40177d=a0_0x1955e1;return await this[_0x40177d(0x6b0)][_0x40177d(0x6d7)][_0xf975f5[_0x40177d(0x192)]][_0x40177d(0x842)](_0x25870d);}async['findGroupInfo'](_0x129449,_0x3fb825){const _0x36e1ae=a0_0x1955e1;return await this[_0x36e1ae(0x6b0)][_0x36e1ae(0x6d7)][_0x129449['instanceName']]['findGroup'](_0x3fb825);}async['findGroups'](_0x1cd893){const _0x2896cd=a0_0x1955e1;return await this[_0x2896cd(0x6b0)]['waInstances'][_0x1cd893['instanceName']][_0x2896cd(0x613)]();}async[a0_0x1955e1(0x1f2)](_0xffd301,_0x1e2369){const _0x46f4c2=a0_0x1955e1;return await this[_0x46f4c2(0x6b0)]['waInstances'][_0xffd301['instanceName']][_0x46f4c2(0x1f2)](_0x1e2369);}async[a0_0x1955e1(0x1ea)](_0x14b62b,_0x39ef8e){const _0x160d90=a0_0x1955e1;return await this[_0x160d90(0x6b0)][_0x160d90(0x6d7)][_0x14b62b[_0x160d90(0x192)]]['joinGroup'](_0x39ef8e);}async[a0_0x1955e1(0x1c5)](_0xc193af,_0x119f84){const _0x4de617=a0_0x1955e1;return await this['waMonitor'][_0x4de617(0x6d7)][_0xc193af['instanceName']][_0x4de617(0x1c5)](_0x119f84);}async[a0_0x1955e1(0x66d)](_0x5021b1,_0x33ba2c){const _0x3c6333=a0_0x1955e1;return await this[_0x3c6333(0x6b0)][_0x3c6333(0x6d7)][_0x5021b1[_0x3c6333(0x192)]][_0x3c6333(0x66d)](_0x33ba2c);}async[a0_0x1955e1(0x2fe)](_0x5ddac4,_0x346607){const _0x2d3b86=a0_0x1955e1;return await this['waMonitor']['waInstances'][_0x5ddac4[_0x2d3b86(0x192)]][_0x2d3b86(0x2fe)](_0x346607);}async[a0_0x1955e1(0x83f)](_0x94aca1,_0x35a4fe){const _0x281e6b=a0_0x1955e1;return await this[_0x281e6b(0x6b0)]['waInstances'][_0x94aca1['instanceName']][_0x281e6b(0x582)](_0x35a4fe);}async[a0_0x1955e1(0x402)](_0x214f21,_0x4f4e96){const _0x348231=a0_0x1955e1;return await this[_0x348231(0x6b0)][_0x348231(0x6d7)][_0x214f21[_0x348231(0x192)]][_0x348231(0x402)](_0x4f4e96);}async[a0_0x1955e1(0x83d)](_0x1403c5,_0x1c7b7c){const _0x428fd5=a0_0x1955e1;return await this['waMonitor'][_0x428fd5(0x6d7)][_0x1403c5[_0x428fd5(0x192)]]['leaveGroup'](_0x1c7b7c);}},es=class{constructor(_0x5208ae){const _0x4cdbe8=a0_0x1955e1;this[_0x4cdbe8(0x6b0)]=_0x5208ae;}[a0_0x1955e1(0x4ed)](_0x265eaf,_0x28ec1f){const _0x2bb704=a0_0x1955e1;return this[_0x2bb704(0x6b0)]['waInstances'][_0x265eaf[_0x2bb704(0x192)]][_0x2bb704(0x6a3)](_0x28ec1f);}async[a0_0x1955e1(0x6d3)](_0x13c635){const _0x2099e9=a0_0x1955e1;try{return await this[_0x2099e9(0x6b0)]['waInstances'][_0x13c635['instanceName']]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Wp=new $('FlowController'),ts=class{constructor(_0x49799f){const _0x59a027=a0_0x1955e1;this[_0x59a027(0x6b0)]=_0x49799f;}async[a0_0x1955e1(0x5aa)](_0x140e24,_0x4feaa9){const _0x508616=a0_0x1955e1;return await this[_0x508616(0x6b0)][_0x508616(0x6d7)][_0x140e24[_0x508616(0x192)]]['editScheduleMessage'](_0x4feaa9);}async[a0_0x1955e1(0x6da)](_0x324fe7){const _0x4b4ecc=a0_0x1955e1;return await this[_0x4b4ecc(0x6b0)][_0x4b4ecc(0x6d7)][_0x324fe7[_0x4b4ecc(0x192)]][_0x4b4ecc(0x6da)]();}async[a0_0x1955e1(0x3d1)](_0xc4ee18){const _0x50103d=a0_0x1955e1;return await this[_0x50103d(0x6b0)]['waInstances'][_0xc4ee18[_0x50103d(0x192)]][_0x50103d(0x3d1)]();}async[a0_0x1955e1(0x4e0)](_0x9dd793){const _0x5504b8=a0_0x1955e1;return await this[_0x5504b8(0x6b0)][_0x5504b8(0x6d7)][_0x9dd793[_0x5504b8(0x192)]][_0x5504b8(0x4e0)]();}async['updateAgent'](_0x27220a,_0x4cc816){const _0x3c31a7=a0_0x1955e1;return await this['waMonitor'][_0x3c31a7(0x6d7)][_0x27220a['instanceName']][_0x3c31a7(0x67f)](_0x4cc816);}async['updateCustomFields'](_0x19fb57,_0x347bfc){const _0x4a243f=a0_0x1955e1;return await this[_0x4a243f(0x6b0)][_0x4a243f(0x6d7)][_0x19fb57[_0x4a243f(0x192)]][_0x4a243f(0x43d)](_0x347bfc);}async['updateAutoCompleteMessages'](_0x283093,_0x8b3060){const _0x17634f=a0_0x1955e1;return await this['waMonitor'][_0x17634f(0x6d7)][_0x283093[_0x17634f(0x192)]][_0x17634f(0x187)](_0x8b3060);}async[a0_0x1955e1(0x2bb)](_0x49e098,_0x11d72c){const _0x1d5477=a0_0x1955e1;return await this[_0x1d5477(0x6b0)]['waInstances'][_0x49e098[_0x1d5477(0x192)]]['updateFlowConfig'](_0x11d72c);}async[a0_0x1955e1(0x747)](_0x155984,_0x49b3a1){const _0x1cdd7b=a0_0x1955e1;return await this['waMonitor'][_0x1cdd7b(0x6d7)][_0x155984[_0x1cdd7b(0x192)]][_0x1cdd7b(0x747)](_0x49b3a1);}async[a0_0x1955e1(0x867)](_0x401832,_0x4e2c1d,_0x7b0e07,_0x196ac9){const _0x31e28b=a0_0x1955e1;return await this[_0x31e28b(0x6b0)][_0x31e28b(0x6d7)][_0x401832]['startFlowWebhook'](_0x4e2c1d,_0x7b0e07,_0x196ac9);}async[a0_0x1955e1(0x7c2)](_0x4b424e,_0x5c7685){const _0x355d1b=a0_0x1955e1;return await this[_0x355d1b(0x6b0)][_0x355d1b(0x6d7)][_0x4b424e[_0x355d1b(0x192)]][_0x355d1b(0x7c2)](_0x5c7685);}async[a0_0x1955e1(0x67e)](_0x5043a3,_0x5c1517){const _0xee18b6=a0_0x1955e1;return await this[_0xee18b6(0x6b0)]['waInstances'][_0x5043a3[_0xee18b6(0x192)]][_0xee18b6(0x67e)](_0x5c1517);}async['editConversation'](_0x458fcb,_0x454308){const _0x2c5eef=a0_0x1955e1;return await this[_0x2c5eef(0x6b0)]['waInstances'][_0x458fcb['instanceName']]['editConversation'](_0x454308);}async[a0_0x1955e1(0x275)](_0x6c1989,_0x384db0){const _0x2a7bcd=a0_0x1955e1;return await this[_0x2a7bcd(0x6b0)][_0x2a7bcd(0x6d7)][_0x6c1989[_0x2a7bcd(0x192)]][_0x2a7bcd(0x275)](_0x384db0);}async[a0_0x1955e1(0x227)](_0x21c741,_0x2e62ab){const _0x46c0df=a0_0x1955e1;return await this['waMonitor'][_0x46c0df(0x6d7)][_0x21c741[_0x46c0df(0x192)]][_0x46c0df(0x227)](_0x2e62ab[_0x46c0df(0x45a)]);}async[a0_0x1955e1(0x1e9)](_0x463b52,_0xbe72de,_0x156bb4){const _0x8be08a=a0_0x1955e1;return await this[_0x8be08a(0x6b0)][_0x8be08a(0x6d7)][_0x463b52[_0x8be08a(0x192)]][_0x8be08a(0x1e9)](_0xbe72de,_0x156bb4);}async[a0_0x1955e1(0x6fe)](_0xf4bb15,_0x589443,_0xf4317d){const _0x1ea549=a0_0x1955e1;return await this['waMonitor'][_0x1ea549(0x6d7)][_0xf4bb15[_0x1ea549(0x192)]]['editFlow'](_0x589443,_0xf4317d);}async[a0_0x1955e1(0x448)](_0x4a08b6,_0x3b504f){const _0x34a382=a0_0x1955e1;return await this[_0x34a382(0x6b0)][_0x34a382(0x6d7)][_0x4a08b6['instanceName']][_0x34a382(0x448)](_0x3b504f);}async['editFlowReply'](_0x5455ef,_0x3cbe2){const _0x2af443=a0_0x1955e1;return await this[_0x2af443(0x6b0)][_0x2af443(0x6d7)][_0x5455ef[_0x2af443(0x192)]]['editFlowReply'](_0x3cbe2);}async[a0_0x1955e1(0x6f6)](_0x1ea989,_0x3c9481){const _0x3f09e4=a0_0x1955e1;return await this[_0x3f09e4(0x6b0)][_0x3f09e4(0x6d7)][_0x1ea989[_0x3f09e4(0x192)]][_0x3f09e4(0x6f6)](_0x3c9481);}async[a0_0x1955e1(0x1c7)](_0x55ff22,_0x2b1ba9){const _0x518549=a0_0x1955e1;return await this['waMonitor'][_0x518549(0x6d7)][_0x55ff22[_0x518549(0x192)]][_0x518549(0x1c7)](_0x2b1ba9);}async[a0_0x1955e1(0x4b7)](_0x52371b,_0x303f55){const _0x19921d=a0_0x1955e1;return await this['waMonitor']['waInstances'][_0x52371b['instanceName']][_0x19921d(0x4b7)](_0x303f55);}async[a0_0x1955e1(0x3a2)](_0x40804d,_0x2c35f3){return await this['waMonitor']['waInstances'][_0x40804d['instanceName']]['editFlowVariable'](_0x2c35f3);}async[a0_0x1955e1(0x569)](_0x50e2a0,_0x9efb6){const _0x1fd715=a0_0x1955e1;return await this[_0x1fd715(0x6b0)][_0x1fd715(0x6d7)][_0x50e2a0['instanceName']][_0x1fd715(0x569)](_0x9efb6);}async[a0_0x1955e1(0x870)](_0x3b8c3b){const _0x592eac=a0_0x1955e1;return await this[_0x592eac(0x6b0)]['waInstances'][_0x3b8c3b[_0x592eac(0x192)]][_0x592eac(0x870)]();}},ss=class{constructor(_0x346c9f){const _0x38e24b=a0_0x1955e1;this[_0x38e24b(0x3aa)]=_0x346c9f;}async[a0_0x1955e1(0x575)](_0x659f6f,_0x275ca5){const _0x4b8e76=a0_0x1955e1;return this[_0x4b8e76(0x3aa)][_0x4b8e76(0x4ed)](_0x659f6f,_0x275ca5);}async[a0_0x1955e1(0x1d4)](_0x3e240a){const _0xb9f2f8=a0_0x1955e1;return this[_0xb9f2f8(0x3aa)][_0xb9f2f8(0x6d3)](_0x3e240a);}},as=class extends _{constructor(_0x4d3fab,_0x576375){const _0x33fd9f=a0_0x1955e1;super(_0x576375),this[_0x33fd9f(0x48f)]=_0x4d3fab,this['configService']=_0x576375;}async[a0_0x1955e1(0x4ed)](_0x28319d,_0x6bbca6){const _0x1289cc=a0_0x1955e1;try{return this[_0x1289cc(0x654)][_0x1289cc(0x343)]?{'insertCount':(await this[_0x1289cc(0x48f)][_0x1289cc(0x57c)]({'_id':_0x6bbca6},{..._0x28319d},{'upsert':!0x0}))[_0x1289cc(0x69d)]}:{'insertCount':0x1};}catch(_0x21574d){return _0x21574d;}}async[a0_0x1955e1(0x544)](_0x2fd71a){const _0x41dd6a=a0_0x1955e1;try{if(this['dbSettings'][_0x41dd6a(0x343)]){await this[_0x41dd6a(0x48f)][_0x41dd6a(0x66e)]({'_id':_0x2fd71a});return;}}catch(_0x2fa731){return{'error':_0x2fa731};}}async[a0_0x1955e1(0x6d3)](_0x505398){const _0x13d8b6=a0_0x1955e1;try{if(this[_0x13d8b6(0x654)]['ENABLED'])return await this['webhookModel']['findOne']({'_id':_0x505398});}catch{return{};}}},is=class extends _{constructor(_0x387b46,_0x2dbc82){const _0x1f5c8d=a0_0x1955e1;super(_0x2dbc82),this[_0x1f5c8d(0x73f)]=_0x387b46,this[_0x1f5c8d(0x567)]=_0x2dbc82,this[_0x1f5c8d(0x2e4)]=_0x2dbc82['get'](_0x1f5c8d(0x3e8));}async['create'](_0x5e59a4,_0x476fc2){const _0x3838d2=a0_0x1955e1;try{if(this[_0x3838d2(0x654)]['ENABLED'])return{'insertCount':(await this[_0x3838d2(0x73f)][_0x3838d2(0x400)]({'_id':_0x476fc2},{'$set':{..._0x5e59a4}},{'upsert':!0x0}))[_0x3838d2(0x69d)]};}catch(_0x33589d){return{'error':_0x33589d};}}async[a0_0x1955e1(0x3d3)](_0x260ffd,_0x15ba4b){const _0x4ee32c=a0_0x1955e1;try{if(this[_0x4ee32c(0x654)][_0x4ee32c(0x343)])return{'insertCount':(await this[_0x4ee32c(0x73f)][_0x4ee32c(0x1b4)](_0x260ffd,{'$set':_0x15ba4b},{'upsert':!0x1}))[_0x4ee32c(0x69d)]};throw new Error(_0x4ee32c(0x60e));}catch(_0x318b8d){return{'error':_0x318b8d};}}async[a0_0x1955e1(0x504)](_0x1de3e1){const _0x50a55f=a0_0x1955e1;try{if(this[_0x50a55f(0x654)][_0x50a55f(0x343)])return{'insertCount':(await this[_0x50a55f(0x73f)]['deleteMany'](_0x1de3e1))[_0x50a55f(0x190)]};throw new Error(_0x50a55f(0x6b4));}catch(_0x15afa2){return{'error':_0x15afa2};}}async['delete'](_0x5a795e){const _0x51cabb=a0_0x1955e1;try{if(this[_0x51cabb(0x654)][_0x51cabb(0x343)]){await this[_0x51cabb(0x73f)][_0x51cabb(0x66e)]({'_id':_0x5a795e});return;}}catch(_0x56952f){return{'error':_0x56952f};}}async[a0_0x1955e1(0x6d3)](_0x4cfb12){const _0x96f9fd=a0_0x1955e1;try{if(this['dbSettings'][_0x96f9fd(0x343)])return await this[_0x96f9fd(0x73f)]['findOne']({'_id':_0x4cfb12});}catch{return{};}}async[a0_0x1955e1(0x1ef)](){const _0x5e308f=a0_0x1955e1;try{if(this[_0x5e308f(0x654)][_0x5e308f(0x343)])return await this[_0x5e308f(0x73f)][_0x5e308f(0x6d3)]();}catch{return[];}}async['findMany'](_0x1f2474){const _0x399932=a0_0x1955e1;try{if(this[_0x399932(0x654)]['ENABLED'])return await this[_0x399932(0x73f)]['find'](_0x1f2474);}catch{return[];}}},Fi=require('uuid'),os=class extends _{async[a0_0x1955e1(0x66e)](_0x1be1ba){const _0x205b90=a0_0x1955e1;try{let _0x8ca8d8=I(_0x1be1ba[_0x205b90(0x482)]);return{'deletedCount':(await fe['deleteOne'](_0x8ca8d8))[_0x205b90(0x190)]};}catch(_0x1cd576){return{'error':_0x1cd576?.[_0x205b90(0x6c3)]()};}}async['updateOne'](_0xe96dda,_0x334e71){const _0x301322=a0_0x1955e1;try{let _0x3c7d65=await fe[_0x301322(0x1a1)](_0xe96dda);return _0x3c7d65?(Object['assign'](_0x3c7d65,_0x334e71),await _0x3c7d65['save']()):(console['error'](_0x301322(0x351),_0xe96dda),null);}catch(_0x768b1f){return console[_0x301322(0x2e7)](_0x301322(0x6ce),_0x768b1f),null;}}async[a0_0x1955e1(0x2c7)](_0x37cddc){const _0xd90e82=a0_0x1955e1;try{return await new fe(_0x37cddc)[_0xd90e82(0x548)]();}catch(_0x4bed9c){return console[_0xd90e82(0x2e7)](_0xd90e82(0x30f),_0x4bed9c),null;}}async['findAll'](_0x43a5b3){const _0x37639a=a0_0x1955e1;try{let _0x4e4317=_0x43a5b3[_0x37639a(0x482)]??{};return await fe[_0x37639a(0x6d3)](_0x4e4317)[_0x37639a(0x28b)](_0x43a5b3[_0x37639a(0x28b)]??0x0)[_0x37639a(0x6e3)]();}catch(_0x295ee7){return console['error']('Erro\x20ao\x20buscar\x20fluxos:',_0x295ee7),[];}}async[a0_0x1955e1(0x309)](_0x4e9992){const _0x5c9452=a0_0x1955e1;try{let _0x18b134=I(_0x4e9992[_0x5c9452(0x482)]);return await fe[_0x5c9452(0x309)](_0x18b134)['lean']();}catch{return null;}}async[a0_0x1955e1(0x477)](_0x412449){const _0x12e290=a0_0x1955e1;try{let _0x3d9186=$s(_0x412449);if(!_0x3d9186){let _0x2bae28=_0x12e290(0x3f9)+_0x412449;return console[_0x12e290(0x2e7)](_0x2bae28),{'success':!0x1,'error':new Error(_0x2bae28)};}return await _0x3d9186['collection'][_0x12e290(0x8a3)](),{'success':!0x0};}catch(_0x56c8d9){return console[_0x12e290(0x2e7)](_0x56c8d9),{'success':!0x1,'error':_0x56c8d9 instanceof Error?_0x56c8d9:new Error(String(_0x56c8d9))};}}async[a0_0x1955e1(0x395)](_0x1aa05b){const _0xf96738=a0_0x1955e1;try{let _0x467f37=$s(_0x1aa05b);if(!_0x467f37)return console[_0xf96738(0x2e7)]('Modelo\x20de\x20proprietário\x20não\x20pôde\x20ser\x20criado\x20para:\x20'+_0x1aa05b),0x0;let _0x154b3d=await _0x467f37[_0xf96738(0x6d3)]({})[_0xf96738(0x6e3)]();if(console[_0xf96738(0x538)]('Fluxos\x20encontrados\x20de\x20\x27'+_0x1aa05b+_0xf96738(0x5b0)+_0x154b3d[_0xf96738(0x7dc)]),!_0x154b3d||_0x154b3d[_0xf96738(0x7dc)]===0x0)return console[_0xf96738(0x538)](_0xf96738(0x1d5)+_0x1aa05b),0x0;let _0x4c1d9b=_0x154b3d['map'](_0x1b9e7d=>{const _0x5bc4a0=_0xf96738;let {global:_0x5d6b27,startID:_0x3ec79d,sharePass:_0x4b0f30,shareOwners:_0x19952a,minutesToClose:_0x4f8b51,readMessages:_0x546227,testingWith:_0x588dc4,startCommandWord:_0x481dbf,default:_0x3fa722,..._0x45a90f}=_0x1b9e7d,_0x332e95=Array[_0x5bc4a0(0x6d8)](new Set([..._0x19952a,_0x1aa05b])),_0x158097=Array[_0x5bc4a0(0x6d8)](new Set([..._0x19952a,_0x1aa05b]));return{..._0x45a90f,'_id':(0x0,Fi['v4'])(),'owner':_0x1aa05b,'globalShow':_0x1b9e7d[_0x5bc4a0(0x603)]==='true','whoCanEdit':_0x332e95,'whoCanUse':_0x158097};});return await fe[_0xf96738(0x31e)](_0x4c1d9b),await _0x467f37[_0xf96738(0x5c9)][_0xf96738(0x8a3)](),console['log']('Fluxos\x20transferidos\x20do\x20proprietário\x20\x27'+_0x1aa05b+_0xf96738(0x650)),_0x4c1d9b[_0xf96738(0x7dc)];}catch(_0x514ff1){return console[_0xf96738(0x2e7)](_0xf96738(0x317)+_0x1aa05b+'\x27:',_0x514ff1),0x0;}}async[a0_0x1955e1(0x665)](_0x3c7fc9){const _0x55194a=a0_0x1955e1;let _0x16ef95=0x0;for(let _0x181f0f of _0x3c7fc9){let _0x16b10c=await this[_0x55194a(0x395)](_0x181f0f);_0x16ef95+=_0x16b10c;}return console['log'](_0x55194a(0x269)+_0x16ef95),_0x16ef95;}},rs=class extends _{['getConversationModelForOwner'](_0x48011f){return Ca(_0x48011f);}async[a0_0x1955e1(0x541)](_0x783ea6){const _0x1f9a41=a0_0x1955e1;if(_0x783ea6[_0x1f9a41(0x7dc)]!==0x0)try{return{'insertCount':(await this[_0x1f9a41(0x52d)](_0x783ea6[0x0][_0x1f9a41(0x484)])[_0x1f9a41(0x31e)]([..._0x783ea6]))[_0x1f9a41(0x7dc)]};}catch(_0x33f546){return _0x33f546;}}async[a0_0x1955e1(0x544)](_0x1631ff,_0x31ab00){const _0x1421c3=a0_0x1955e1;try{let _0x9d40c6=this[_0x1421c3(0x52d)](_0x31ab00),_0x3b6143=I(_0x1631ff['where']);return{'deletedCount':(await _0x9d40c6['deleteMany'](_0x3b6143))[_0x1421c3(0x190)]};}catch(_0x49d281){return{'error':_0x49d281?.[_0x1421c3(0x6c3)]()};}}async['deleteOne'](_0x323225,_0x5ce1f0){const _0x3143e6=a0_0x1955e1;try{let _0xc59b5b=this[_0x3143e6(0x52d)](_0x5ce1f0),_0x52a658=I(_0x323225['where']);return{'deletedCount':(await _0xc59b5b[_0x3143e6(0x66e)](_0x52a658))[_0x3143e6(0x190)]};}catch(_0x53571d){return{'error':_0x53571d?.[_0x3143e6(0x6c3)]()};}}async['update'](_0x3dcb36,_0x133f56){const _0x1dab9e=a0_0x1955e1;try{if(_0x3dcb36[_0x1dab9e(0x7dc)]===0x0)return;let _0x283726=this[_0x1dab9e(0x52d)](_0x133f56),_0x4e6f52=_0x3dcb36['map'](_0x19371c=>({'updateOne':{'filter':{'name':_0x19371c[_0x1dab9e(0x543)],'owner':_0x133f56},'update':{..._0x19371c}}})),{modifiedCount:_0x339906}=await _0x283726['bulkWrite'](_0x4e6f52);return{'insertCount':_0x339906};}catch{return;}}async[a0_0x1955e1(0x1b4)](_0x170929,_0x92fde4,_0x3b5f0c){const _0x3478b5=a0_0x1955e1;try{return{'modifiedCount':(await this[_0x3478b5(0x52d)](_0x3b5f0c)[_0x3478b5(0x1b4)](_0x170929,{'$set':_0x92fde4})[_0x3478b5(0x564)]())[_0x3478b5(0x69d)]};}catch(_0x581099){return console[_0x3478b5(0x2e7)](_0x3478b5(0x1ca),_0x581099),{'error':_0x581099};}}async[a0_0x1955e1(0x400)](_0x145e07,_0x411b78,_0x13c452){const _0x197a2a=a0_0x1955e1;try{return await this[_0x197a2a(0x52d)](_0x13c452)['findOneAndUpdate']({'_id':_0x145e07},{'$set':_0x411b78},{'new':!0x0,'upsert':!0x0})[_0x197a2a(0x6e3)]();}catch(_0xd06f79){return console[_0x197a2a(0x2e7)](_0xd06f79),null;}}async['find'](_0x49c853,_0x2d01c1){const _0x2c82d3=a0_0x1955e1;try{return await this[_0x2c82d3(0x52d)](_0x2d01c1)[_0x2c82d3(0x6d3)](_0x49c853)[_0x2c82d3(0x6cf)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async['findOne'](_0x10b977,_0x35a068){const _0x1f4077=a0_0x1955e1;try{return await this[_0x1f4077(0x52d)](_0x35a068)[_0x1f4077(0x309)]({..._0x10b977['where']})['lean']();}catch{return null;}}async[a0_0x1955e1(0x477)](_0x38dedb){const _0x95cb37=a0_0x1955e1;try{return await this[_0x95cb37(0x52d)](_0x38dedb)[_0x95cb37(0x5c9)][_0x95cb37(0x8a3)](),{'success':!0x0};}catch(_0x15d514){return console[_0x95cb37(0x2e7)](_0x15d514),{'success':!0x1,'error':_0x15d514};}}},ns=class extends _{['getScheduleMessageModelForOwner'](_0x4e24f6){return Ea(_0x4e24f6);}async[a0_0x1955e1(0x777)](_0x25455a,_0x277b27){const _0x44dc2e=a0_0x1955e1;try{return await this[_0x44dc2e(0x3dd)](_0x277b27)[_0x44dc2e(0x777)](_0x25455a);}catch(_0xc5742e){return console['error'](_0x44dc2e(0x8aa),_0xc5742e),null;}}async[a0_0x1955e1(0x2c7)](_0x532a16,_0xf96109){const _0x3e5122=a0_0x1955e1;try{let _0x26e43f=this[_0x3e5122(0x3dd)](_0xf96109);return await new _0x26e43f(_0x532a16)['save']();}catch(_0x55bc03){return console[_0x3e5122(0x2e7)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x55bc03),null;}}async[a0_0x1955e1(0x66e)](_0x51be86,_0x1d4360){const _0x1778a0=a0_0x1955e1;try{return await this[_0x1778a0(0x3dd)](_0x1d4360)['findByIdAndDelete'](_0x51be86),{};}catch(_0x35d513){return{'error':_0x35d513?.[_0x1778a0(0x6c3)]()};}}async[a0_0x1955e1(0x400)](_0x2303d2,_0x36a265,_0x3cf6d0,_0x22fe9c={}){const _0x2d84ef=a0_0x1955e1;try{return await this[_0x2d84ef(0x3dd)](_0x3cf6d0)['findOneAndUpdate'](_0x2303d2,_0x36a265,{..._0x22fe9c,'new':!0x0})[_0x2d84ef(0x6e3)]();}catch(_0x22af16){return console[_0x2d84ef(0x2e7)](_0x2d84ef(0x3a3),_0x22af16),null;}}async['updateOneById'](_0x4ce75f,_0x38e27f,_0x3ecfaf){const _0x560e91=a0_0x1955e1;try{return await this[_0x560e91(0x3dd)](_0x3ecfaf)['findByIdAndUpdate'](_0x4ce75f,_0x38e27f,{'new':!0x0})[_0x560e91(0x6e3)]();}catch(_0x30f67a){return console[_0x560e91(0x2e7)](_0x560e91(0x3a3),_0x30f67a),null;}}async[a0_0x1955e1(0x6d3)](_0x2d9ca9,_0x65842e){const _0x309da2=a0_0x1955e1;try{return await this[_0x309da2(0x3dd)](_0x65842e)['find'](_0x2d9ca9['where'])[_0x309da2(0x28b)](_0x2d9ca9?.['limit']??0x0)[_0x309da2(0x6cf)]({'when':0x1})[_0x309da2(0x6e3)]();}catch{return[];}}async[a0_0x1955e1(0x309)](_0x112480,_0x23bf66){const _0x4cf59d=a0_0x1955e1;try{return await this[_0x4cf59d(0x3dd)](_0x23bf66)[_0x4cf59d(0x309)](_0x112480['where'])[_0x4cf59d(0x6cf)]({'when':0x1})[_0x4cf59d(0x6e3)]();}catch{return null;}}async[a0_0x1955e1(0x1a1)](_0x7d92a7,_0x239ad3){const _0x349d1c=a0_0x1955e1;try{return await this['getScheduleMessageModelForOwner'](_0x239ad3)[_0x349d1c(0x1a1)](_0x7d92a7)[_0x349d1c(0x6e3)]();}catch{return null;}}async[a0_0x1955e1(0x504)](_0x5903cf,_0x44a1ef){const _0x1c4673=a0_0x1955e1;try{return{'deletedCount':(await this[_0x1c4673(0x3dd)](_0x44a1ef)[_0x1c4673(0x504)](_0x5903cf))['deletedCount']};}catch(_0x3eba18){return console[_0x1c4673(0x2e7)](_0x1c4673(0x72c),_0x3eba18),{'error':_0x3eba18};}}async[a0_0x1955e1(0x477)](_0x39588e){const _0x2b7f69=a0_0x1955e1;try{return await this[_0x2b7f69(0x3dd)](_0x39588e)[_0x2b7f69(0x5c9)]['drop'](),{'success':!0x0};}catch(_0x146d4f){return console[_0x2b7f69(0x2e7)](_0x146d4f),{'success':!0x1,'error':_0x146d4f};}}},cs=class extends _{async['update'](_0x398ae2,_0xa8e20d){const _0x46ecb9=a0_0x1955e1;try{if(this[_0x46ecb9(0x654)]['ENABLED'])return await Ie[_0x46ecb9(0x3f5)]({'_id':_0xa8e20d},{'$set':_0x398ae2},{'new':!0x0});}catch(_0x1d339b){throw console[_0x46ecb9(0x2e7)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x1d339b),_0x1d339b;}}async['findOrCreate'](_0x38376f){const _0x2f5436=a0_0x1955e1;try{let _0x456bc9=await Ie[_0x2f5436(0x1a1)](_0x38376f);return _0x456bc9?_0x456bc9[_0x2f5436(0x436)]||(_0x456bc9['autoCompleteMessages']=[],await _0x456bc9['save']()):(_0x456bc9=new Ie({'_id':_0x38376f,'autoCompleteMessages':[]}),await _0x456bc9[_0x2f5436(0x548)]()),_0x456bc9;}catch(_0x13746e){return _0x13746e[_0x2f5436(0x7d2)]===0x2af8&&_0x13746e[_0x2f5436(0x611)]&&_0x13746e[_0x2f5436(0x611)]['autoCompleteMessages.command']?(console[_0x2f5436(0x2e7)]('Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...'),await Ie[_0x2f5436(0x5c9)]['dropIndex'](_0x2f5436(0x7e4)),null):(console[_0x2f5436(0x2e7)](_0x2f5436(0x84c),_0x13746e),null);}}},Vo=new $(a0_0x1955e1(0x834)),Go=new Ye(b),Bo=new Bt(b),Wo=new ct(b),zo=new Wt(ca,b),Ho=new as(fa,b),Ko=new is(ha,b),Qo=new ve(ze,b),Yo=new os(b),Xo=new zt(b),Zo=new rs(b),er=new ns(b),tr=new cs(b),we=new Ke(Go,Bo,Wo,zo,Ho,Ko,Qo,Yo,Zo,Xo,er,tr,R?.[a0_0x1955e1(0x191)]()),B=new Gt(ms,b,we),sr=new Xt(b,B,we),ar=new es(B),Ts=new ss(ar),T=new ts(B),de=new Qt(B,b,we,ms,sr),W=new Yt(B),P=new Ht(B),q=new Zt(B);Vo['info'](a0_0x1955e1(0x565));var lg=require(a0_0x1955e1(0x639)),qs=require('fs'),Ui=A(require(a0_0x1955e1(0x31f))),ji=A(require(a0_0x1955e1(0x7b5))),Ue=class l{static #e;static set[a0_0x1955e1(0x7ea)](_0x457283){this.#e=_0x457283;}static get[a0_0x1955e1(0x31f)](){const _0x2f68b5=a0_0x1955e1;let {FULLCHAIN:_0x1f0aff,PRIVKEY:_0x2ff101}=b[_0x2f68b5(0x7be)]('SSL_CONF');return Ui[_0x2f68b5(0x879)]({'cert':(0x0,qs[_0x2f68b5(0x794)])(_0x1f0aff),'key':(0x0,qs[_0x2f68b5(0x794)])(_0x2ff101)},l.#e);}static get[a0_0x1955e1(0x7b5)](){const _0x4a2c7b=a0_0x1955e1;return ji[_0x4a2c7b(0x879)](l.#e);}},je=A(require('fs')),Wi=A(require('ini')),Je=A(require(a0_0x1955e1(0x871))),us=A(require(a0_0x1955e1(0x65e))),ls=require('child_process');function ir(){const _0x9f90ce=a0_0x1955e1;B[_0x9f90ce(0x584)]();let _0x1681de=us['default'][_0x9f90ce(0x279)](__dirname,_0x9f90ce(0x627));Bi(_0x1681de);}var Bi=_0x1a95ad=>{const _0x5bceab=a0_0x1955e1;let _0x4b9405=je[_0x5bceab(0x36d)][_0x5bceab(0x220)](_0x1a95ad),_0x4f8d6a=0xc*0x3c*0x3c*0x3e8,_0x534587=0x2*0x3c*0x3c*0x3e8,_0x471e6a=new Date()['getTime']();_0x4b9405['forEach'](_0xa2c8bb=>{const _0x234fcc=_0x5bceab;let _0x1c4fe7=us[_0x234fcc(0x36d)][_0x234fcc(0x279)](_0x1a95ad,_0xa2c8bb),_0x125170=je['default'][_0x234fcc(0x637)](_0x1c4fe7)[_0x234fcc(0x66a)][_0x234fcc(0x763)]();_0x471e6a-_0x125170>_0x4f8d6a&&(je['default']['unlinkSync'](_0x1c4fe7),console[_0x234fcc(0x538)]('Deleted\x20'+_0xa2c8bb));}),setTimeout(()=>Bi(_0x1a95ad),_0x534587);};function or(){const _0x2bc3c4=a0_0x1955e1;let _0x51794b=new $(_0x2bc3c4(0x381)),_0x1dacec=(0x0,be[_0x2bc3c4(0x36d)])();_0x1dacec[_0x2bc3c4(0x405)]((0x0,Gi[_0x2bc3c4(0x36d)])({'origin'(_0x4426de,_0x3ee8c5){const _0x27b8d6=_0x2bc3c4;let {ORIGIN:_0x158f11}=b[_0x27b8d6(0x7be)](_0x27b8d6(0x7f7));return _0x4426de||(_0x4426de='*'),_0x158f11[_0x27b8d6(0x801)]('*')!==-0x1||_0x158f11[_0x27b8d6(0x801)](_0x4426de)!==-0x1?_0x3ee8c5(null,!0x0):_0x3ee8c5(new Error(_0x27b8d6(0x59e)));},'methods':[...b['get'](_0x2bc3c4(0x7f7))['METHODS']],'credentials':b[_0x2bc3c4(0x7be)](_0x2bc3c4(0x7f7))[_0x2bc3c4(0x53a)]}),(0x0,be['urlencoded'])({'extended':!0x0,'limit':_0x2bc3c4(0x447)}),(0x0,be[_0x2bc3c4(0x71b)])({'limit':_0x2bc3c4(0x447)})),_0x1dacec[_0x2bc3c4(0x405)]((_0x411461,_0xd6726c,_0x3ac9bf)=>{const _0x1b1061=_0x2bc3c4;_0x411461[_0x1b1061(0x65e)][_0x1b1061(0x622)]('/events')?_0x3ac9bf():(0x0,Vi[_0x1b1061(0x36d)])()(_0x411461,_0xd6726c,_0x3ac9bf);}),_0x1dacec['set'](_0x2bc3c4(0x1db),_0x2bc3c4(0x8c9)),_0x1dacec[_0x2bc3c4(0x7de)](_0x2bc3c4(0x1aa),(0x0,Gs[_0x2bc3c4(0x279)])(ce,_0x2bc3c4(0x1aa))),_0x1dacec[_0x2bc3c4(0x405)](be[_0x2bc3c4(0x36d)]['static']((0x0,Gs['join'])(ce,_0x2bc3c4(0x554)))),_0x1dacec['use']((_0x17d12f,_0x1f5263,_0x3d10e7)=>{const _0x1c8346=_0x2bc3c4;let _0x10b5dd=_0x1f5263[_0x1c8346(0x19e)];_0x1f5263[_0x1c8346(0x19e)]=function(_0x480011){const _0x474693=_0x1c8346;if(_0x17d12f[_0x474693(0x4d8)]['convert']===_0x474693(0x877)||_0x17d12f[_0x474693(0x525)][_0x474693(0x2f5)]==='true'){let _0x32c90e=JSON[_0x474693(0x226)](_0x480011);_0x480011=JSON[_0x474693(0x36f)](_0x5982dd(_0x32c90e));}return _0x10b5dd[_0x474693(0x636)](_0x1f5263,[_0x480011]);},_0x3d10e7();}),_0x1dacec[_0x2bc3c4(0x405)]('/',ke),_0x1dacec[_0x2bc3c4(0x405)]((_0x95c12e,_0x3856f5,_0x352375,_0x5ea2d1)=>{const _0xa35e16=_0x2bc3c4;if(_0x95c12e)return _0x352375['status'](_0x95c12e[_0xa35e16(0x3d9)]||0x1f4)[_0xa35e16(0x71b)](_0x95c12e);},(_0x2cda3c,_0x15f6a3,_0x4d61ae)=>{const _0x47248e=_0x2bc3c4;let {method:_0x496ec7,url:_0x56fda4}=_0x2cda3c;_0x15f6a3['status'](0x194)['json']({'status':0x194,'message':'Cannot\x20'+_0x496ec7[_0x47248e(0x679)]()+'\x20'+_0x56fda4,'error':'Not\x20Found'}),_0x4d61ae();});let _0x5982dd=(_0x2583d4,_0x227c23='_p_')=>{const _0x24b32d=_0x2bc3c4;let _0x377915=(_0x51e347,_0x5e82b8=null,_0x1fa341=!0x1)=>{const _0x2f5592=a0_0x2868;let _0x4ace60={};return Object[_0x2f5592(0x281)](_0x51e347)[_0x2f5592(0x408)](_0x228f5a=>{const _0xd22b44=_0x2f5592;let _0x3fe834=_0x51e347[_0x228f5a],_0x81fec4=''+_0x227c23+_0x228f5a;_0x5e82b8&&!_0x1fa341&&(_0x81fec4=_0x5e82b8+'.'+_0x228f5a),!_0x3fe834&&_0x3fe834!==0x0&&_0x3fe834!==!0x1||typeof _0x3fe834>'u'?_0x4ace60[_0x81fec4]=null:typeof _0x3fe834!=_0xd22b44(0x64b)&&!Array[_0xd22b44(0x4b0)](_0x3fe834)?_0x4ace60[_0x81fec4]=_0x3fe834:typeof _0x3fe834==_0xd22b44(0x64b)&&!Array[_0xd22b44(0x4b0)](_0x3fe834)?_0x4ace60=Object[_0xd22b44(0x6af)](_0x4ace60,_0x377915(_0x3fe834,_0x81fec4)):Array[_0xd22b44(0x4b0)](_0x3fe834)&&(typeof _0x3fe834[0x0]==_0xd22b44(0x64b)?(_0x4ace60[_0x81fec4]=[],_0x3fe834[_0xd22b44(0x408)](_0x9eb2c5=>{const _0x53e68d=_0xd22b44;_0x4ace60[_0x81fec4][_0x53e68d(0x6c9)](_0x377915(_0x9eb2c5,_0x81fec4,!0x0));})):_0x4ace60[_0x81fec4]=_0x3fe834);}),_0x4ace60;};return Array[_0x24b32d(0x4b0)](_0x2583d4)?_0x2583d4[_0x24b32d(0x3e2)](_0xe18b38=>_0x377915(_0xe18b38)):typeof _0x2583d4==_0x24b32d(0x64b)&&_0x2583d4!==null?_0x377915(_0x2583d4):{};},_0xe89702=b[_0x2bc3c4(0x7be)](_0x2bc3c4(0x381));Ue['app']=_0x1dacec;let _0x1e33df=Ue[_0xe89702[_0x2bc3c4(0x51d)]],_0x19dd82=_0x2bc3c4(0x2ec);_0x1e33df[_0x2bc3c4(0x49a)](_0xe89702[_0x2bc3c4(0x2cb)],()=>{const _0x191abf=_0x2bc3c4;_0x51794b[_0x191abf(0x538)](_0x19dd82),_0x51794b[_0x191abf(0x538)](_0xe89702['TYPE'][_0x191abf(0x679)]()+_0x191abf(0x287)+_0xe89702[_0x191abf(0x2cb)]);}),ir(),sa();}var rr=a0_0x1955e1(0x1a4),nr=us[a0_0x1955e1(0x36d)][a0_0x1955e1(0x279)](__dirname,a0_0x1955e1(0x71e)),$e=null;function cr(){return new Promise((_0x3cf21e,_0x1897e9)=>{const _0x3ce3ca=a0_0x2868;je[_0x3ce3ca(0x36d)][_0x3ce3ca(0x5f5)](nr,_0x3ce3ca(0x336),(_0x19334c,_0x558005)=>{const _0x20cbb1=_0x3ce3ca;if(_0x19334c){$e=_0x19334c,_0x3cf21e();return;}Wi[_0x20cbb1(0x36d)]['parse'](_0x558005)[_0x20cbb1(0x1f3)][_0x20cbb1(0x263)]===rr?($e=null,_0x3cf21e()):($e=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x3cf21e());});});}async function lr(){const _0x208324=a0_0x1955e1;try{await cr(),await Bs();}catch(_0x50e3f1){console['error'](_0x208324(0x2de)+_0x50e3f1),process[_0x208324(0x876)](0x1);}}lr();async function zi(){const _0x489b11=a0_0x1955e1;let _0x24b6d1;try{_0x24b6d1=(await Je[_0x489b11(0x36d)][_0x489b11(0x7be)](_0x489b11(0x681)))[_0x489b11(0x786)]['ip'];}catch(_0x4f9bdf){console[_0x489b11(0x2e7)](_0x4f9bdf);try{_0x24b6d1=(await Je['default'][_0x489b11(0x7be)](_0x489b11(0x618)))['data']['ip'];}catch(_0x2b6870){console[_0x489b11(0x2e7)](_0x2b6870);try{_0x24b6d1=(await Je[_0x489b11(0x36d)][_0x489b11(0x7be)](_0x489b11(0x830)))['data'][_0x489b11(0x676)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x4c208c){return console[_0x489b11(0x2e7)](_0x4c208c),!0x1;}}}return _0x24b6d1;}var Ji=0x0;async function ur(){const _0x420963=a0_0x1955e1;let _0x2c9dee=await new pe(b[_0x420963(0x7be)](_0x420963(0x4a5)))[_0x420963(0x617)]();return console['log'](_0x420963(0x5ff),_0x2c9dee[_0x420963(0x7dc)]),_0x2c9dee[_0x420963(0x7dc)];}function dr(_0x59e962){const _0x419190=a0_0x1955e1;let _0xa4e900=_0x59e962[_0x419190(0x7be)]('SERVER')[_0x419190(0x854)],_0x287e46=_0x59e962[_0x419190(0x7be)](_0x419190(0x671));console[_0x419190(0x538)]('Valor\x20da\x20URL\x20recuperada:',_0xa4e900),console[_0x419190(0x538)](_0x419190(0x8cc),_0x287e46);let _0x4bd5b3='',_0x225594=_0xa4e900||'';if(_0xa4e900){let _0x1430c2=_0xa4e900[_0x419190(0x676)](/\/\/(.*?)\./);console['log'](_0x419190(0x4d1),_0x1430c2),_0x1430c2&&_0x1430c2[0x1]&&(_0x4bd5b3=_0x1430c2[0x1],console[_0x419190(0x538)](_0x419190(0x40a),_0x4bd5b3));}if(!_0x4bd5b3&&_0x287e46&&_0x287e46['FULLCHAIN']){let _0x232936=_0x287e46[_0x419190(0x355)][_0x419190(0x3ff)]('/');console[_0x419190(0x538)](_0x419190(0x1f7),_0x232936);let _0x63122d=_0x232936[_0x232936[_0x419190(0x7dc)]-0x2];if(console[_0x419190(0x538)](_0x419190(0x7e6),_0x63122d),_0x63122d){let _0x28df1d=_0x63122d['split']('.');console[_0x419190(0x538)](_0x419190(0x5a5),_0x28df1d),_0x28df1d[_0x419190(0x7dc)]>0x2&&(_0x4bd5b3=_0x28df1d[0x0],console[_0x419190(0x538)](_0x419190(0x7bb),_0x4bd5b3),_0x225594=''+_0x63122d);}}return{'subdomain':_0x4bd5b3||'Subdomínio\x20não\x20encontrado','fullURL':_0x225594||'URL\x20não\x20disponível'};}var {subdomain:X,fullURL:Ws}=dr(b);console[a0_0x1955e1(0x538)](a0_0x1955e1(0x415),X),console['log'](a0_0x1955e1(0x209),Ws);async function pr(){const _0x511f37=a0_0x1955e1;let _0xdc1f92=b[_0x511f37(0x7be)]('REDIS'),_0x3fffd3=b[_0x511f37(0x7be)]('AUTHENTICATION')[_0x511f37(0x6ab)][_0x511f37(0x8b0)],_0x9a6832=b[_0x511f37(0x7be)](_0x511f37(0x671)),_0xf79f52=await zi(),_0x3d949c=b[_0x511f37(0x7be)](_0x511f37(0x381))[_0x511f37(0x2cb)],_0x15b0ba=Ws;try{let _0x1d8eac={'ip':_0xf79f52||null,'redis_enable':_0xdc1f92?.[_0x511f37(0x343)]||null,'apikey':_0x3fffd3||null,'ssl':_0x9a6832?.[_0x511f37(0x45d)]||null,'lastupdate':Hi||null,'port':_0x3d949c||null,'gitInstallError':$e?.['message']||null,'url':_0x15b0ba||null,'subdomain':X};if(console['log'](_0x511f37(0x245),_0x1d8eac['ip']),_0xdc1f92&&_0xdc1f92[_0x511f37(0x343)]){let _0x262bf8=await ur();_0x1d8eac[_0x511f37(0x460)]=_0x262bf8||null;}for(let _0x5856d9 in _0x1d8eac)_0x1d8eac[_0x511f37(0x2f9)](_0x5856d9)&&_0x5856d9!=='ip'&&(_0x1d8eac[_0x5856d9]=JSON[_0x511f37(0x36f)](_0x1d8eac[_0x5856d9]));return(await Je[_0x511f37(0x36d)][_0x511f37(0x56b)](_0x511f37(0x746),_0x1d8eac))[_0x511f37(0x786)];}catch(_0x5ecfaa){return console['error'](_0x5ecfaa),!0x1;}}var Vs=!0x1,Hi=0x255,hr=0x3,qi=0x1b7740;async function Bs(){const _0x25426d=a0_0x1955e1;let _0x112813=_0x25426d(0x646);$e===null&&(_0x112813=await zi());let _0x18974b=await pr();if(_0x18974b){if(_0x18974b['response']['licenca']===!0x0){$e===null&&_0x18974b[_0x25426d(0x7e0)][_0x25426d(0x70c)]-Hi>0x0&&await gr(),Vs||(Vs=!0x0,or());let _0x4fe54d=0x24*0x3c*0x3c,_0x392f14=_0x18974b[_0x25426d(0x7e0)][_0x25426d(0x5be)]>_0x4fe54d?_0x4fe54d:_0x18974b['response'][_0x25426d(0x5be)],_0x4b3644=Number(_0x392f14);if(isNaN(_0x4b3644)){console['error']('interval\x20não\x20é\x20um\x20número');return;}let _0x3be000=Math[_0x25426d(0x580)](_0x4b3644/0xe10),_0xb2d728=Math[_0x25426d(0x580)](_0x4b3644%0xe10/0x3c),_0x5670d4=new Date(Date['now']()+_0x4b3644*0x3e8);setTimeout(Bs,_0x4b3644*0x3e8);let _0x41e81f=_0x124956=>_0x124956[_0x25426d(0x6c3)]()['padStart'](0x2,'0'),_0x24e552=_0x25426d(0x475)+_0x41e81f(_0x3be000)+'\x20horas\x20e\x20'+_0x41e81f(_0xb2d728)+'\x20minutos.\x20Será\x20às\x20'+_0x41e81f(_0x5670d4[_0x25426d(0x225)]())+':'+_0x41e81f(_0x5670d4['getMinutes']())+'.';console[_0x25426d(0x538)](_0x24e552);}else return console[_0x25426d(0x538)](_0x25426d(0x5c8)),Vs&&(console[_0x25426d(0x538)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x25426d(0x876)]()),'LICENSE_INVALID';}else{if(Ji++,Ji<hr)console[_0x25426d(0x538)](_0x25426d(0x806)+qi/0xea60+'\x20minutos...'),setTimeout(Bs,qi);else return console[_0x25426d(0x2e7)](_0x25426d(0x186)),_0x25426d(0x536);}}async function gr(){const _0x4fa88a=a0_0x1955e1;console[_0x4fa88a(0x538)](_0x4fa88a(0x605)),console[_0x4fa88a(0x538)](_0x4fa88a(0x81d)),(0x0,ls[_0x4fa88a(0x6e2)])(_0x4fa88a(0x585),{'shell':!0x0})['on'](_0x4fa88a(0x4ce),_0x945221=>{const _0x57cbb3=_0x4fa88a;_0x945221!==0x0?console[_0x57cbb3(0x2e7)](_0x57cbb3(0x647)):(console['log'](_0x57cbb3(0x4b1)),console[_0x57cbb3(0x538)](_0x57cbb3(0x2db)),(0x0,ls[_0x57cbb3(0x6e2)])(_0x57cbb3(0x5d1),{'shell':!0x0})['on'](_0x57cbb3(0x4ce),_0x124083=>{const _0xe844b5=_0x57cbb3;if(_0x124083!==0x0)console[_0xe844b5(0x2e7)](_0xe844b5(0x797));else{console[_0xe844b5(0x538)]('Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.');let _0x5e1d48=(0x0,ls[_0xe844b5(0x6e2)])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x5e1d48[_0xe844b5(0x8c7)]['on'](_0xe844b5(0x786),_0x1db5af=>{const _0x30b100=_0xe844b5;console[_0x30b100(0x538)]('Atualização:\x20'+_0x1db5af);}),_0x5e1d48[_0xe844b5(0x75f)]['on'](_0xe844b5(0x786),_0x27074c=>{const _0x47d1de=_0xe844b5;console['error'](_0x47d1de(0x211)+_0x27074c);}),_0x5e1d48['on'](_0xe844b5(0x876),_0x11d29c=>{const _0xc57ec4=_0xe844b5;_0x11d29c!==0x0?console['error'](_0xc57ec4(0x259)+_0x11d29c):console[_0xc57ec4(0x538)](_0xc57ec4(0x384)),console[_0xc57ec4(0x538)](_0xc57ec4(0x685)),setTimeout(()=>process['exit'](),0x2710);});}}));});}0x0&&(module[a0_0x1955e1(0x189)]={'fullURL':fullURL,'subdomain':subdomain});