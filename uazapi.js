const a0_0x21bcc2=a0_0x4215;(function(_0xebbae,_0x528a70){const _0x4cfe63=a0_0x4215,_0x11e0d2=_0xebbae();while(!![]){try{const _0x1f47de=-parseInt(_0x4cfe63(0x6ed))/0x1+parseInt(_0x4cfe63(0x42a))/0x2*(-parseInt(_0x4cfe63(0x670))/0x3)+-parseInt(_0x4cfe63(0x252))/0x4+-parseInt(_0x4cfe63(0x2ff))/0x5+parseInt(_0x4cfe63(0x8ed))/0x6*(parseInt(_0x4cfe63(0x40b))/0x7)+parseInt(_0x4cfe63(0x761))/0x8*(parseInt(_0x4cfe63(0x514))/0x9)+parseInt(_0x4cfe63(0x75d))/0xa;if(_0x1f47de===_0x528a70)break;else _0x11e0d2['push'](_0x11e0d2['shift']());}catch(_0xa22af2){_0x11e0d2['push'](_0x11e0d2['shift']());}}}(a0_0x1160,0x6d7ff));var Hi=Object[a0_0x21bcc2(0x64a)],Be=Object[a0_0x21bcc2(0x578)],Ki=Object['getOwnPropertyDescriptor'],Qi=Object['getOwnPropertyNames'],Yi=Object['getPrototypeOf'],Xi=Object[a0_0x21bcc2(0x4ad)][a0_0x21bcc2(0x36f)],Zi=(_0x1ccf54,_0x56d027)=>{for(var _0xf629b6 in _0x56d027)Be(_0x1ccf54,_0xf629b6,{'get':_0x56d027[_0xf629b6],'enumerable':!0x0});},Ws=(_0x649949,_0xb50420,_0x1a6566,_0x596c4e)=>{const _0x4be487=a0_0x21bcc2;if(_0xb50420&&typeof _0xb50420==_0x4be487(0x82b)||typeof _0xb50420==_0x4be487(0x533)){for(let _0x4e1d5b of Qi(_0xb50420))!Xi[_0x4be487(0x624)](_0x649949,_0x4e1d5b)&&_0x4e1d5b!==_0x1a6566&&Be(_0x649949,_0x4e1d5b,{'get':()=>_0xb50420[_0x4e1d5b],'enumerable':!(_0x596c4e=Ki(_0xb50420,_0x4e1d5b))||_0x596c4e[_0x4be487(0x8f6)]});}return _0x649949;},I=(_0x553b36,_0x2f89c3,_0x46b328)=>(_0x46b328=_0x553b36!=null?Hi(Yi(_0x553b36)):{},Ws(_0x2f89c3||!_0x553b36||!_0x553b36['__esModule']?Be(_0x46b328,a0_0x21bcc2(0x7ac),{'value':_0x553b36,'enumerable':!0x0}):_0x46b328,_0x553b36)),eo=_0x141b2a=>Ws(Be({},a0_0x21bcc2(0x351),{'value':!0x0}),_0x141b2a),gr={};Zi(gr,{'fullURL':()=>Gs,'subdomain':()=>Z}),module['exports']=eo(gr);var qi=I(require(a0_0x21bcc2(0x6f2))),Hs=require('fs'),Ks=require('js-yaml'),Qs=require(a0_0x21bcc2(0x51c)),We=require(a0_0x21bcc2(0x51c)),le=process['cwd'](),Se=(0x0,We[a0_0x21bcc2(0x720)])(le,a0_0x21bcc2(0x37d)),zs=(0x0,We['join'])(le,a0_0x21bcc2(0x83f)),an=(0x0,We[a0_0x21bcc2(0x720)])(le,a0_0x21bcc2(0x677),a0_0x21bcc2(0x497)),ps=class{constructor(){this['loadEnv']();}[a0_0x21bcc2(0x725)](_0x5ab67f){const _0x5626ed=a0_0x21bcc2;return this[_0x5626ed(0x920)][_0x5ab67f];}[a0_0x21bcc2(0x4d8)](){const _0x57dc26=a0_0x21bcc2;this[_0x57dc26(0x920)]=process[_0x57dc26(0x920)]?.[_0x57dc26(0x459)]!=='true'?this[_0x57dc26(0x82e)]():this['envProcess'](),process[_0x57dc26(0x920)]?.[_0x57dc26(0x459)]==='true'&&(this['env'][_0x57dc26(0x76b)][_0x57dc26(0x4b7)]=_0x57dc26(0x699),this[_0x57dc26(0x920)][_0x57dc26(0x76b)][_0x57dc26(0x841)]=Number[_0x57dc26(0x7a2)](process['env']?.[_0x57dc26(0x5cd)]??_0x57dc26(0x6c8)));}[a0_0x21bcc2(0x82e)](){const _0x1a0e45=a0_0x21bcc2;return(0x0,Ks[_0x1a0e45(0x714)])((0x0,Hs[_0x1a0e45(0x2a0)])((0x0,Qs[_0x1a0e45(0x720)])(zs,_0x1a0e45(0x50b)),{'encoding':_0x1a0e45(0x7de)}));}[a0_0x21bcc2(0x8eb)](){const _0x58269b=a0_0x21bcc2;return{'SERVER':{'TYPE':process['env'][_0x58269b(0x6b7)],'PORT':Number[_0x58269b(0x7a2)](process[_0x58269b(0x920)]['SERVER_PORT']),'URL':process[_0x58269b(0x920)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x58269b(0x920)][_0x58269b(0x3bd)][_0x58269b(0x766)](','),'METHODS':process[_0x58269b(0x920)][_0x58269b(0x529)][_0x58269b(0x766)](','),'CREDENTIALS':process[_0x58269b(0x920)]?.[_0x58269b(0x31b)]===_0x58269b(0x8a4)},'SSL_CONF':{'PRIVKEY':process[_0x58269b(0x920)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x58269b(0x920)]?.[_0x58269b(0x898)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x58269b(0x920)]?.[_0x58269b(0x3f1)])?Number[_0x58269b(0x7a2)](process[_0x58269b(0x920)][_0x58269b(0x3f1)]):void 0x0,'MESSAGES':process[_0x58269b(0x920)]?.[_0x58269b(0x8c6)]===_0x58269b(0x8a4),'CONTACTS':process[_0x58269b(0x920)]?.[_0x58269b(0x354)]===_0x58269b(0x8a4),'CHATS':process['env']?.['STORE_CHATS']===_0x58269b(0x8a4)},'DATABASE':{'CONNECTION':{'HOST':process[_0x58269b(0x920)]?.[_0x58269b(0x1f5)],'PORT':Number[_0x58269b(0x7a2)](process[_0x58269b(0x920)]?.[_0x58269b(0x1f5)]),'USER':process[_0x58269b(0x920)][_0x58269b(0x711)],'PASSWORD':process['env'][_0x58269b(0x7e8)],'URI':process[_0x58269b(0x920)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x58269b(0x920)][_0x58269b(0x669)]},'ENABLED':process[_0x58269b(0x920)]?.[_0x58269b(0x7c7)]==='true'},'REDIS':{'ENABLED':process[_0x58269b(0x920)]?.[_0x58269b(0x589)]==='true','URI':process['env'][_0x58269b(0x8ee)]||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x58269b(0x920)][_0x58269b(0x8d8)]||'uazapi'},'LOG':{'LEVEL':process['env']?.[_0x58269b(0x296)][_0x58269b(0x766)](','),'COLOR':process[_0x58269b(0x920)]?.[_0x58269b(0x621)]===_0x58269b(0x8a4)},'PROXY':process['env']?.[_0x58269b(0x282)]==='true','AUTHENTICATION':{'TYPE':process['env'][_0x58269b(0x651)],'API_KEY':{'KEY':process[_0x58269b(0x920)][_0x58269b(0x86c)]},'JWT':{'EXPIRIN_IN':Number[_0x58269b(0x21d)](process[_0x58269b(0x920)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x58269b(0x7a2)](process[_0x58269b(0x920)][_0x58269b(0x4ab)]):0xe10,'SECRET':process[_0x58269b(0x920)]['AUTHENTICATION_JWT_SECRET']}}};}},S=new ps(),Vi=I(require(a0_0x21bcc2(0x63a))),be=I(require('express')),qs=require('path'),hs=I(require(a0_0x21bcc2(0x84a))),gs=(_0x16e150=>(_0x16e150[a0_0x21bcc2(0x1ed)]='\x1b[32m',_0x16e150[a0_0x21bcc2(0x4dc)]=a0_0x21bcc2(0x81c),_0x16e150['WARN']=a0_0x21bcc2(0x5f8),_0x16e150[a0_0x21bcc2(0x229)]='\x1b[31m',_0x16e150['DEBUG']=a0_0x21bcc2(0x2f0),_0x16e150['VERBOSE']='\x1b[37m',_0x16e150['DARK']=a0_0x21bcc2(0x72a),_0x16e150))(gs||{}),Ys=(_0x161b7b=>(_0x161b7b['LOG']=a0_0x21bcc2(0x89b),_0x161b7b['DARK']='\x1b[30m%s\x1b[0m',_0x161b7b[a0_0x21bcc2(0x4dc)]=a0_0x21bcc2(0x3e9),_0x161b7b[a0_0x21bcc2(0x8a7)]=a0_0x21bcc2(0x90d),_0x161b7b[a0_0x21bcc2(0x229)]=a0_0x21bcc2(0x267),_0x161b7b['DEBUG']=a0_0x21bcc2(0x77e),_0x161b7b['VERBOSE']='\x1b[37m%s\x1b[0m',_0x161b7b))(Ys||{}),Xs=(_0xa26555=>(_0xa26555[a0_0x21bcc2(0x1ed)]=a0_0x21bcc2(0x1ed),_0xa26555[a0_0x21bcc2(0x8a7)]='WARN',_0xa26555[a0_0x21bcc2(0x4dc)]='INFO',_0xa26555[a0_0x21bcc2(0x385)]=a0_0x21bcc2(0x385),_0xa26555[a0_0x21bcc2(0x229)]=a0_0x21bcc2(0x229),_0xa26555[a0_0x21bcc2(0x674)]=a0_0x21bcc2(0x674),_0xa26555[a0_0x21bcc2(0x7b8)]=a0_0x21bcc2(0x7b8),_0xa26555))(Xs||{}),Zs=(_0x3dc2b5=>(_0x3dc2b5[a0_0x21bcc2(0x1ed)]=a0_0x21bcc2(0x735),_0x3dc2b5[a0_0x21bcc2(0x4dc)]=a0_0x21bcc2(0x88e),_0x3dc2b5[a0_0x21bcc2(0x8a7)]=a0_0x21bcc2(0x3a3),_0x3dc2b5[a0_0x21bcc2(0x385)]='\x1b[40m',_0x3dc2b5[a0_0x21bcc2(0x229)]='\x1b[41m',_0x3dc2b5[a0_0x21bcc2(0x674)]=a0_0x21bcc2(0x5b0),_0x3dc2b5[a0_0x21bcc2(0x7b8)]='\x1b[47m',_0x3dc2b5))(Zs||{}),$=class{constructor(_0x2f922f='Logger'){const _0x5d4cfa=a0_0x21bcc2;this[_0x5d4cfa(0x68a)]=_0x2f922f,this[_0x5d4cfa(0x928)]=S;}[a0_0x21bcc2(0x263)](_0x5c6fa2){this['context']=_0x5c6fa2;}['console'](_0x3b468c,_0x3c006e){const _0x4f7ccc=a0_0x21bcc2;let _0x3f17c7=[];this[_0x4f7ccc(0x928)][_0x4f7ccc(0x725)](_0x4f7ccc(0x1ed))[_0x4f7ccc(0x913)]['forEach'](_0xd7301c=>_0x3f17c7['push'](Xs[_0xd7301c]));let _0x5c53bf=typeof _0x3b468c;_0x3f17c7[_0x4f7ccc(0x587)](_0x3c006e)&&(S['get']('LOG')[_0x4f7ccc(0x713)]?(console[_0x4f7ccc(0x8b0)]('\x1b[1m'+Ys[_0x3c006e],_0x4f7ccc(0x617),(0x0,hs[_0x4f7ccc(0x7ac)])()[_0x4f7ccc(0x743)]('DD/MM\x20HH:mm:ss'),_0x4f7ccc(0x53a),gs[_0x3c006e]+Zs[_0x3c006e]+'\x1b[1m',_0x3c006e+_0x4f7ccc(0x53e),'\x1b[33m\x1b[1m',this[_0x4f7ccc(0x68a)]+_0x4f7ccc(0x53a),gs[_0x3c006e],_0x5c53bf!==_0x4f7ccc(0x82b)?_0x3b468c:'',_0x4f7ccc(0x53a)),_0x5c53bf===_0x4f7ccc(0x82b)&&console[_0x4f7ccc(0x8b0)](_0x3b468c,'\x0a')):console[_0x4f7ccc(0x8b0)]((0x0,hs[_0x4f7ccc(0x7ac)])()[_0x4f7ccc(0x743)](_0x4f7ccc(0x4bd)),_0x3c006e+'\x20',''+this[_0x4f7ccc(0x68a)],_0x3b468c));}[a0_0x21bcc2(0x8b0)](_0x184702){const _0x355831=a0_0x21bcc2;this[_0x355831(0x23b)](_0x184702,_0x355831(0x1ed));}[a0_0x21bcc2(0x768)](_0x48f1ba){const _0x14d358=a0_0x21bcc2;this[_0x14d358(0x23b)](_0x48f1ba,'INFO');}['warn'](_0x58ebf1){this['console'](_0x58ebf1,'WARN');}['error'](_0x149bce){const _0x24e667=a0_0x21bcc2;this[_0x24e667(0x23b)](_0x149bce,_0x24e667(0x229));}[a0_0x21bcc2(0x78f)](_0x299de6){const _0x3b8c6b=a0_0x21bcc2;this[_0x3b8c6b(0x23b)](_0x299de6,'VERBOSE');}[a0_0x21bcc2(0x70c)](_0x52c2e5){const _0x262b9f=a0_0x21bcc2;this[_0x262b9f(0x23b)](_0x52c2e5,'DEBUG');}[a0_0x21bcc2(0x770)](_0x5c55d6){const _0x5abebb=a0_0x21bcc2;this['console'](_0x5c55d6,_0x5abebb(0x385));}};function ea(){const _0x54c421=a0_0x21bcc2;process['on'](_0x54c421(0x54c),(_0x81ee78,_0x4d4aca)=>{const _0x2b3c50=_0x54c421;new $(_0x2b3c50(0x54c))['error']({'origin':_0x4d4aca,'stderr':process[_0x2b3c50(0x8b4)]['fd'],'error':_0x81ee78});}),process['on'](_0x54c421(0x8c9),(_0x2b6f33,_0x454714)=>{const _0x1acf86=_0x54c421;new $('unhandledRejection')['error']({'origin':_0x454714,'stderr':process[_0x1acf86(0x8b4)]['fd'],'error':_0x2b6f33});});}var ta=I(require(a0_0x21bcc2(0x2a4))),ms=new ta['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require('mongoose'),Ie=I(require(a0_0x21bcc2(0x517))),ze=new $(a0_0x21bcc2(0x3ca)),F=S['get'](a0_0x21bcc2(0x304)),A=F[a0_0x21bcc2(0x7bc)]?F['CONNECTION'][a0_0x21bcc2(0x90a)]?Ie[a0_0x21bcc2(0x7ac)][a0_0x21bcc2(0x8e0)](F[a0_0x21bcc2(0x80c)][a0_0x21bcc2(0x90a)],{'dbName':F[a0_0x21bcc2(0x80c)][a0_0x21bcc2(0x3ad)]+a0_0x21bcc2(0x5a1)}):Ie['default']['createConnection']('mongodb://'+F[a0_0x21bcc2(0x80c)][a0_0x21bcc2(0x567)]+':'+F[a0_0x21bcc2(0x80c)][a0_0x21bcc2(0x841)]+a0_0x21bcc2(0x1de),{'user':F[a0_0x21bcc2(0x80c)][a0_0x21bcc2(0x2a9)],'pass':F['CONNECTION'][a0_0x21bcc2(0x245)],'dbName':F[a0_0x21bcc2(0x80c)]['DB_PREFIX_NAME']+a0_0x21bcc2(0x5a1)}):null;F[a0_0x21bcc2(0x7bc)]&&ze[a0_0x21bcc2(0x768)]('ON\x20-\x20dbName:\x20'+A[a0_0x21bcc2(0x2f3)]);var ue=F[a0_0x21bcc2(0x7bc)]?F[a0_0x21bcc2(0x80c)]['URI']?Ie[a0_0x21bcc2(0x7ac)][a0_0x21bcc2(0x8e0)](F[a0_0x21bcc2(0x80c)]['URI'],{'dbName':'cachedData-whatsapp'}):Ie[a0_0x21bcc2(0x7ac)][a0_0x21bcc2(0x8e0)](a0_0x21bcc2(0x56e)+F[a0_0x21bcc2(0x80c)][a0_0x21bcc2(0x567)]+':'+F[a0_0x21bcc2(0x80c)][a0_0x21bcc2(0x841)]+a0_0x21bcc2(0x1de),{'user':F['CONNECTION'][a0_0x21bcc2(0x2a9)],'pass':F['CONNECTION'][a0_0x21bcc2(0x245)],'dbName':a0_0x21bcc2(0x3b5)}):null;ue&&ze[a0_0x21bcc2(0x768)](a0_0x21bcc2(0x79f)+ue['$dbName']),process['on'](a0_0x21bcc2(0x71f),()=>{const _0x304b08=a0_0x21bcc2;A&&A[_0x304b08(0x59f)](()=>{const _0x2d9122=_0x304b08;ze['info'](_0x2d9122(0x479));}),ue&&ue[_0x304b08(0x59f)](()=>{ze['info']('CacheContacts\x20database\x20connection\x20closed.');});});var to=new Me[(a0_0x21bcc2(0x4e5))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),so=new Me[(a0_0x21bcc2(0x4e5))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),ao=new Me[(a0_0x21bcc2(0x4e5))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),io=new Me[(a0_0x21bcc2(0x4e5))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[to],'default':[]}},{'_id':!0x1}),oo=new Me['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':io,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':so},'groupdata':{'type':ao,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),sa=_0x2a8625=>{const _0x4b29b7=a0_0x21bcc2;let _0x3c1eae='z_'+_0x2a8625+_0x4b29b7(0x62a);return A?.['model'](_0x4b29b7(0x5d9),oo,_0x3c1eae);},aa=require(a0_0x21bcc2(0x517)),ro=new aa['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ia=_0x1a9743=>{const _0x1d036c=a0_0x21bcc2;let _0x455b54='z_'+_0x1a9743+_0x1d036c(0x490);return A?.['model'](_0x1d036c(0x452),ro,_0x455b54);},oa=require(a0_0x21bcc2(0x517)),fs=class{},no=new oa[(a0_0x21bcc2(0x4e5))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ra=ue?.['model'](fs[a0_0x21bcc2(0x83e)],no,a0_0x21bcc2(0x59b)),na=require(a0_0x21bcc2(0x517)),ws=class{},co=new na[(a0_0x21bcc2(0x4e5))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),He=ue?.[a0_0x21bcc2(0x873)](ws['name'],co,a0_0x21bcc2(0x37d)),ca=require(a0_0x21bcc2(0x517)),lo=new ca[(a0_0x21bcc2(0x4e5))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),la=_0x238e16=>{const _0x4d02c0=a0_0x21bcc2;let _0x407689='z_'+_0x238e16+_0x4d02c0(0x8fc);return A?.['model'](_0x4d02c0(0x58d),lo,_0x407689);},ua=require(a0_0x21bcc2(0x517)),ys=class{},uo=new ua[(a0_0x21bcc2(0x4e5))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),da=A?.[a0_0x21bcc2(0x873)](ys[a0_0x21bcc2(0x83e)],uo,'authentication'),pa=require('mongoose'),bs=class{},ha=new pa[(a0_0x21bcc2(0x4e5))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ha['pre']('save',function(_0x2615f0){const _0x312801=a0_0x21bcc2;delete this[_0x312801(0x5a8)],delete this[_0x312801(0x614)],delete this[_0x312801(0x4d0)],delete this[_0x312801(0x1ec)],delete this[_0x312801(0x7ce)],_0x2615f0();});var ga=A?.[a0_0x21bcc2(0x873)](bs['name'],ha,a0_0x21bcc2(0x779)),D=require(a0_0x21bcc2(0x517)),Ss=require('uuid'),Ke=class{},fa=new D[(a0_0x21bcc2(0x4e5))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Ms=new D[(a0_0x21bcc2(0x4e5))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),po=new D['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x21bcc2(0x2c6)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x21bcc2(0x4af)},'pollErrorMessage':{'type':String,'default':a0_0x21bcc2(0x6c6)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),wa=new D['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ho=new D['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),go=new D[(a0_0x21bcc2(0x4e5))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new D[(a0_0x21bcc2(0x4e5))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),mo=new D[(a0_0x21bcc2(0x4e5))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ya=new D[(a0_0x21bcc2(0x4e5))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':po},'apirequest':ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':mo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ba=new D[(a0_0x21bcc2(0x4e5))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Cs=class{},Sa=new D[(a0_0x21bcc2(0x4e5))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[ya],'groups':[fa],'conditions':[wa],'varedits':[ba],'replyOptions':{'type':[Ms],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x1bed7f=a0_0x21bcc2;return'!cmd_'+Math['random']()[_0x1bed7f(0x929)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x21bcc2(0x468)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});Sa[a0_0x21bcc2(0x3fd)](a0_0x21bcc2(0x814),function(_0x43899d){const _0x521d76=a0_0x21bcc2;let _0x263e1a=this[_0x521d76(0x64f)]();if(_0x263e1a&&typeof _0x263e1a==_0x521d76(0x82b)&&_0x521d76(0x413)in _0x263e1a){let _0x186b0e=_0x263e1a[_0x521d76(0x413)];if(_0x186b0e){let _0x1a08b9=new Set(),_0x54d0f5=new Set(_0x186b0e[_0x521d76(0x75e)]?.[_0x521d76(0x867)](_0x4f9308=>_0x4f9308[_0x521d76(0x83e)])),_0x20ec87=JSON['stringify'](_0x186b0e),_0x3c34ae=/{{(?!_)([^}]*)}}/g,_0x37227e;for(;(_0x37227e=_0x3c34ae[_0x521d76(0x8b3)](_0x20ec87))!==null;)_0x54d0f5[_0x521d76(0x4d5)](_0x37227e[0x1])||_0x1a08b9[_0x521d76(0x65e)](_0x37227e[0x1]);_0x1a08b9['size']>0x0?(console[_0x521d76(0x88a)]('Variáveis\x20não\x20encontradas:',Array[_0x521d76(0x769)](_0x1a08b9)),_0x186b0e[_0x521d76(0x76f)]=Array[_0x521d76(0x769)](_0x1a08b9)):_0x186b0e[_0x521d76(0x76f)]=[],this['setUpdate']({'$set':_0x186b0e});}}_0x43899d();});var Ce=A?.[a0_0x21bcc2(0x873)](Cs[a0_0x21bcc2(0x83e)],Sa,a0_0x21bcc2(0x899)),fo=new D['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[go]},{'_id':!0x1}),wo=new D[(a0_0x21bcc2(0x4e5))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[ya],'groups':[fa],'conditions':[wa],'varedits':[ba],'replyOptions':{'type':[Ms],'default':[]},'chatLog':fo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x21bcc2(0x5f3)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x21bcc2(0x4af)},'waitingMenu_replyOptions':{'type':[Ms],'default':[]}}),Ma=_0x1ca70c=>{const _0x3d8002=a0_0x21bcc2;let _0x2e7e7a='z_'+_0x1ca70c+_0x3d8002(0x861);return A?.['model'](_0x3d8002(0x7cb),wo,_0x2e7e7a);},yo=new D[(a0_0x21bcc2(0x4e5))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ma=new D[(a0_0x21bcc2(0x4e5))]({'_id':{'type':String,'id':!0x0},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),bo=new D[(a0_0x21bcc2(0x4e5))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ma],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x21bcc2(0x42f)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[yo],'default':[]},'startSend':{'type':Number},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ma,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ca=_0x44251d=>{const _0x4f3116=a0_0x21bcc2;let _0x14a833='z_'+_0x44251d+_0x4f3116(0x226);return A?.[_0x4f3116(0x873)](_0x4f3116(0x732),bo,_0x14a833);},Es=class{},So=new D[(a0_0x21bcc2(0x4e5))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),Mo=new D[(a0_0x21bcc2(0x4e5))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Co=new D['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Eo=new D[(a0_0x21bcc2(0x4e5))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x21bcc2(0x61d)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new D[(a0_0x21bcc2(0x4e5))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),No=new D[(a0_0x21bcc2(0x4e5))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Co]},'flowConfig':{'type':Eo,'default':{}},'flows':{'type':[Mo],'default':[]},'autoCompleteMessages':{'type':[So],'default':[]}}),Te=A?.[a0_0x21bcc2(0x873)](Es[a0_0x21bcc2(0x83e)],No,a0_0x21bcc2(0x246)),Ea=require(a0_0x21bcc2(0x517)),$o=new Ea[(a0_0x21bcc2(0x4e5))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),va=_0x37a169=>{const _0x5690b6=a0_0x21bcc2;let _0x53b6fb='z_'+_0x37a169+_0x5690b6(0x6fa);return A?.['model'](_0x5690b6(0x6a5),$o,_0x53b6fb);},_=class{constructor(_0x3090f3){const _0x207168=a0_0x21bcc2;this[_0x207168(0x83a)]=_0x3090f3[_0x207168(0x725)]('DATABASE');}};function T(_0x3ec23f){const _0x3d54ca=a0_0x21bcc2;let _0x5000ba={};for(let [_0x1d6c9e,_0x530e16]of Object[_0x3d54ca(0x56f)](_0x3ec23f))if(typeof _0x530e16==_0x3d54ca(0x82b)&&!Array[_0x3d54ca(0x744)](_0x530e16)){for(let [_0x2151c0,_0x581c71]of Object['entries'](_0x530e16))_0x5000ba[_0x1d6c9e+'.'+_0x2151c0]=_0x581c71;}else _0x5000ba[_0x1d6c9e]=_0x530e16;return _0x5000ba;}var Qe=class{constructor(_0x259aa0,_0x25a13b,_0x193780,_0x31c3a1,_0x1be512,_0x519b2f,_0x4f3315,_0x12f030,_0x163dce,_0x369742,_0x4c7ce9,_0x4d326b,_0x25f135){const _0x5c7ac1=a0_0x21bcc2;this['message']=_0x259aa0,this['chat']=_0x25a13b,this[_0x5c7ac1(0x7c9)]=_0x193780,this[_0x5c7ac1(0x288)]=_0x31c3a1,this[_0x5c7ac1(0x779)]=_0x1be512,this[_0x5c7ac1(0x497)]=_0x519b2f,this[_0x5c7ac1(0x5cb)]=_0x4f3315,this[_0x5c7ac1(0x3f5)]=_0x12f030,this[_0x5c7ac1(0x85d)]=_0x163dce,this[_0x5c7ac1(0x7a4)]=_0x369742,this['scheduleMessage']=_0x4c7ce9,this[_0x5c7ac1(0x26a)]=_0x4d326b,this[_0x5c7ac1(0x5c7)]=_0x25f135;}get[a0_0x21bcc2(0x88d)](){const _0x5039a7=a0_0x21bcc2;return this[_0x5039a7(0x5c7)];}},Ye=class{},Xe=class extends _{['getMessageModelForOwner'](_0x3f5752){return la(_0x3f5752);}async['insert'](_0x5e3c28,_0xffcdf6){const _0x55c798=a0_0x21bcc2;if(_0x5e3c28['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x55c798(0x321)](_0xffcdf6)['insertMany']([..._0x5e3c28]))[_0x55c798(0x7be)]};}catch(_0x719052){return _0x719052;}}async[a0_0x21bcc2(0x68c)](_0x19330e,_0x4ab7ed){const _0x104832=a0_0x21bcc2;try{let _0x2051e4=this[_0x104832(0x321)](_0x4ab7ed),_0x5c1594=T(_0x19330e[_0x104832(0x742)]);return await _0x2051e4[_0x104832(0x68c)](_0x5c1594)[_0x104832(0x786)]({'messageTimestamp':-0x1})['limit'](_0x19330e?.[_0x104832(0x7d1)]??0x0)[_0x104832(0x2f8)]();}catch{return[];}}async[a0_0x21bcc2(0x8b1)](_0x13c251,_0x54704d){const _0x248cdf=a0_0x21bcc2;try{let _0x156e64=this[_0x248cdf(0x321)](_0x54704d),_0x1e5003=T(_0x13c251[_0x248cdf(0x742)]);await _0x156e64[_0x248cdf(0x5e4)](_0x1e5003);}catch(_0x5c78f5){console[_0x248cdf(0x2fe)](_0x5c78f5);}}async['update'](_0x23961b,_0x227ef5,_0x1bbc27){const _0x552fa4=a0_0x21bcc2;try{let _0x5a1100=this[_0x552fa4(0x321)](_0x1bbc27),_0x174c94=T(_0x23961b[_0x552fa4(0x742)]);return await _0x5a1100[_0x552fa4(0x814)](_0x174c94,{'$set':_0x227ef5},{'new':!0x0});}catch(_0x231ce8){throw console['error'](_0x231ce8),_0x231ce8;}}async[a0_0x21bcc2(0x37e)](_0x11e015,_0x23cfbf){const _0xfbca1a=a0_0x21bcc2;if(_0x11e015['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0xfbca1a(0x321)](_0x23cfbf)[_0xfbca1a(0x37e)]([..._0x11e015]))[_0xfbca1a(0x7be)]};}catch(_0xb8caaf){return console[_0xfbca1a(0x8b0)](_0xfbca1a(0x6f5),_0xb8caaf),_0xb8caaf;}}async[a0_0x21bcc2(0x59e)](_0x18e300){const _0x419628=a0_0x21bcc2;try{return await this[_0x419628(0x321)](_0x18e300)[_0x419628(0x620)][_0x419628(0x7ee)](),{'success':!0x0};}catch(_0x5516d8){return console['error'](_0x5516d8),{'success':!0x1,'error':_0x5516d8};}}},Ds=I(require(a0_0x21bcc2(0x70f))),w=I(require(a0_0x21bcc2(0x8ce))),Fe=require('fs'),U=I(require(a0_0x21bcc2(0x51c))),Y=I(require('axios')),_i=require(a0_0x21bcc2(0x7b1)),xi=I(require(a0_0x21bcc2(0x501))),Di=I(require(a0_0x21bcc2(0x1f6))),Na=[a0_0x21bcc2(0x667),'documentMessage',a0_0x21bcc2(0x90b),a0_0x21bcc2(0x442),'stickerMessage'],$a=[a0_0x21bcc2(0x2eb),a0_0x21bcc2(0x8a6),'viewOnceMessage',a0_0x21bcc2(0x43e)],Ps=require('os'),Jt=I(require('pino')),Ue=require(a0_0x21bcc2(0x8f2)),Pi=require(a0_0x21bcc2(0x476)),fe=I(require(a0_0x21bcc2(0x517))),k=require(a0_0x21bcc2(0x869)),de=class{constructor(_0x5b75ed,_0x2a8f5e,_0x59d703){const _0x396d91=a0_0x21bcc2;this[_0x396d91(0x52b)]=_0x5b75ed,this[_0x396d91(0x8fb)]=_0x2a8f5e,this['name']=_0x59d703;}},Ze=class{},et=class{},Oe=class{},tt=class{},st=class{},Ee=class{},at=class{},it=class{},ot=class{},rt=class{},kt=I(require(a0_0x21bcc2(0x3eb))),Ra=require('fs'),Aa=require(a0_0x21bcc2(0x51c));async function _e(_0x344859){const _0x3616ce=a0_0x21bcc2;let _0x456744=B['waInstances'][_0x344859];if(F[_0x3616ce(0x7bc)]){let _0x84db34=A[_0x3616ce(0x4ca)]()['db'](F[_0x3616ce(0x80c)][_0x3616ce(0x3ad)]+_0x3616ce(0x1f9))['collection'](_0x344859);return _0x456744||(await _0x84db34['find']({})[_0x3616ce(0x910)]())[_0x3616ce(0x7be)]>0x0;}return _0x456744||(0x0,Ra[_0x3616ce(0x7b7)])((0x0,Aa[_0x3616ce(0x720)])(Se,_0x344859));}async function Ia(_0x2b08bd,_0x2e9897,_0x429966){const _0x5f13e9=a0_0x21bcc2;if(_0x2b08bd[_0x5f13e9(0x26f)][_0x5f13e9(0x587)]('/instance/create')||_0x2b08bd[_0x5f13e9(0x26f)][_0x5f13e9(0x587)](_0x5f13e9(0x2c8))||_0x2b08bd[_0x5f13e9(0x26f)]['includes'](_0x5f13e9(0x39f))||_0x2b08bd[_0x5f13e9(0x26f)][_0x5f13e9(0x587)](_0x5f13e9(0x6ee))||_0x2b08bd[_0x5f13e9(0x26f)][_0x5f13e9(0x587)](_0x5f13e9(0x23c))||_0x2b08bd[_0x5f13e9(0x26f)]['includes'](_0x5f13e9(0x60d))||_0x2b08bd[_0x5f13e9(0x26f)][_0x5f13e9(0x587)](_0x5f13e9(0x368)))return _0x429966();let _0x44f099=_0x2b08bd[_0x5f13e9(0x28f)];if(!_0x44f099?.[_0x5f13e9(0x86d)])throw new m(_0x5f13e9(0x5d2));if(!await _e(_0x44f099[_0x5f13e9(0x86d)]))throw new J(_0x5f13e9(0x365)+_0x44f099[_0x5f13e9(0x86d)]+'\x20instance\x20does\x20not\x20exist');_0x429966();}async function Ta(_0x179fe9,_0x2fe141,_0x1f036d){const _0x3fb252=a0_0x21bcc2;if(_0x179fe9[_0x3fb252(0x26f)][_0x3fb252(0x587)](_0x3fb252(0x8d0))){let _0x37f096=_0x179fe9['body'];if(await _e(_0x37f096[_0x3fb252(0x86d)]))throw new ee(_0x3fb252(0x496)+_0x37f096[_0x3fb252(0x86d)]+_0x3fb252(0x576));B[_0x3fb252(0x6e9)][_0x37f096[_0x3fb252(0x86d)]]&&delete B[_0x3fb252(0x6e9)][_0x37f096[_0x3fb252(0x86d)]];}_0x1f036d();}var Oa=require(a0_0x21bcc2(0x869)),_a=I(require(a0_0x21bcc2(0x611))),nt=a0_0x21bcc2(0x89a),Ao=new $(a0_0x21bcc2(0x1e8));async function Io(_0x1ce426,_0x553304,_0x4ddfac){const _0xda1e82=a0_0x21bcc2;let _0xd0566a=_0x1ce426[_0xda1e82(0x725)]('apikey');if(_0xd0566a&&S['get'](_0xda1e82(0x390))[_0xda1e82(0x5a6)]['KEY']!==_0xd0566a)throw new re();if(S[_0xda1e82(0x725)](_0xda1e82(0x390))[_0xda1e82(0x5a6)][_0xda1e82(0x67f)]===_0xd0566a)return _0x4ddfac();if((_0x1ce426[_0xda1e82(0x26f)][_0xda1e82(0x587)](_0xda1e82(0x8d0))||_0x1ce426[_0xda1e82(0x26f)][_0xda1e82(0x587)]('/instance/fetchInstances'))&&!_0xd0566a)throw new ee(_0xda1e82(0x231),_0xda1e82(0x872));let _0x42639d=S[_0xda1e82(0x725)](_0xda1e82(0x390))[_0xda1e82(0x36b)];try{let [_0x528fa5,_0x5ca5af]=_0x1ce426[_0xda1e82(0x725)](_0xda1e82(0x593))[_0xda1e82(0x766)]('\x20');if(_0x528fa5[_0xda1e82(0x91b)]()!==_0xda1e82(0x4f4))throw new re();if(!(0x0,Oa[_0xda1e82(0x53f)])(_0x5ca5af))throw new re();let _0x2bcd3e=_0x1ce426[_0xda1e82(0x28f)],_0x31455c=_a[_0xda1e82(0x7ac)][_0xda1e82(0x70b)](_0x5ca5af,_0x42639d['SECRET'],{'ignoreExpiration':_0x42639d['EXPIRIN_IN']===0x0});if(_0x2bcd3e['instanceName']!==_0x31455c[_0xda1e82(0x86d)]||nt!==_0x31455c[_0xda1e82(0x636)])throw new re();return _0x4ddfac();}catch(_0x1ee0be){throw Ao[_0xda1e82(0x2fe)](_0x1ee0be),new re();}}async function To(_0x237831,_0xa941a4,_0x1dd932){const _0x273db8=a0_0x21bcc2;let _0x30b6ce=S['get'](_0x273db8(0x390))[_0x273db8(0x5a6)],_0x168c12=_0x237831[_0x273db8(0x725)](_0x273db8(0x8c1));if(_0x30b6ce[_0x273db8(0x67f)]===_0x168c12)return _0x1dd932();if(_0x237831[_0x273db8(0x26f)][_0x273db8(0x587)]('/instance/create')){let _0x146989=Da,_0x52308f=_0x237831[_0x273db8(0x6ad)]['instanceName'];if(_0x146989&&_0x52308f[_0x273db8(0x91b)]()[_0x273db8(0x37a)](_0x146989['toLowerCase']()))return _0x1dd932();if(!_0x168c12)throw new ee(_0x273db8(0x231),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x237831[_0x273db8(0x26f)][_0x273db8(0x587)]('/instance/fetchInstances')&&!_0x168c12)throw new ee(_0x273db8(0x231),_0x273db8(0x872));if(_0x237831['originalUrl'][_0x273db8(0x587)](_0x273db8(0x39f))&&!_0x168c12)throw new ee(_0x273db8(0x231),_0x273db8(0x872));if(_0x237831['originalUrl'][_0x273db8(0x587)](_0x273db8(0x6ee))&&!_0x168c12)throw new ee(_0x273db8(0x231),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x2c6185=_0x237831['params'],_0x44152b=await we[_0x273db8(0x497)][_0x273db8(0x68c)](_0x2c6185[_0x273db8(0x86d)]);if(_0x44152b&&_0x44152b['apikey']===_0x168c12)return _0x1dd932();}catch{}throw new re();}var xa={'jwt':Io,'apikey':To},gi=require(a0_0x21bcc2(0x3eb)),E=require(a0_0x21bcc2(0x7b1)),C=(..._0x43d210)=>{const _0x55b050=a0_0x21bcc2;let _0x28d50e={};return _0x43d210[_0x55b050(0x653)](_0x1e7622=>_0x28d50e[_0x1e7622]={'minLength':0x1,'description':_0x55b050(0x649)+_0x1e7622+_0x55b050(0x5d4)}),{'if':{'propertyNames':{'enum':[..._0x43d210]}},'then':{'properties':_0x28d50e}};},N={'$id':(0x0,E['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x21bcc2(0x5c8)}},...C('instanceName')},fc={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'oldToken':{'type':a0_0x21bcc2(0x5c8)}},'required':[a0_0x21bcc2(0x68e)],...C('oldToken')},wc={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x21bcc2(0x5c8)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x21bcc2(0x2c7),a0_0x21bcc2(0x86f)],...C('id',a0_0x21bcc2(0x2c7))},'message':{'type':a0_0x21bcc2(0x82b)}}},te={'properties':{'delay':{'type':a0_0x21bcc2(0x311),'description':a0_0x21bcc2(0x8aa)},'presence':{'type':a0_0x21bcc2(0x5c8),'enum':[a0_0x21bcc2(0x625),a0_0x21bcc2(0x3a7),a0_0x21bcc2(0x788),a0_0x21bcc2(0x207),'paused']}}},K={'type':a0_0x21bcc2(0x5c8),'description':a0_0x21bcc2(0x513)},Pa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'options':{...te},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x21bcc2(0x5c8)}},'required':[a0_0x21bcc2(0x839)],...C(a0_0x21bcc2(0x839))}},'required':[a0_0x21bcc2(0x6a3),a0_0x21bcc2(0x922)]},ka={'type':a0_0x21bcc2(0x5c8),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x21bcc2(0x513)},yc={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'number':{...ka},'options':{...te},'textMessage':{'type':a0_0x21bcc2(0x82b),'properties':{'text':{'type':a0_0x21bcc2(0x5c8)}},'required':[a0_0x21bcc2(0x839)],...C(a0_0x21bcc2(0x839))}},'required':['textMessage','number']},bc={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'number':{...ka},'options':{...te},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x21bcc2(0x5c8),'enum':[a0_0x21bcc2(0x44d),'document',a0_0x21bcc2(0x225),a0_0x21bcc2(0x571)]},'media':{'type':a0_0x21bcc2(0x5c8)},'fileName':{'type':'string'},'caption':{'type':a0_0x21bcc2(0x5c8)}},'required':['mediatype','media'],...C(a0_0x21bcc2(0x87f),a0_0x21bcc2(0x728),a0_0x21bcc2(0x284))}},'required':[a0_0x21bcc2(0x1f8),'number']},La={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'number':{...K},'options':{...te},'stickerMessage':{'type':a0_0x21bcc2(0x82b),'properties':{'image':{'type':'string'}},'required':[a0_0x21bcc2(0x44d)],...C('image')}},'required':['stickerMessage',a0_0x21bcc2(0x922)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'statusMessage':{'type':a0_0x21bcc2(0x82b),'properties':{'type':{'type':a0_0x21bcc2(0x5c8),'enum':[a0_0x21bcc2(0x839),a0_0x21bcc2(0x44d),'audio',a0_0x21bcc2(0x225)]},'content':{'type':a0_0x21bcc2(0x5c8)},'caption':{'type':a0_0x21bcc2(0x5c8)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x21bcc2(0x311),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x21bcc2(0x7f3),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x21bcc2(0x5c8),'pattern':a0_0x21bcc2(0x4bb),'description':a0_0x21bcc2(0x902)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x21bcc2(0x347),a0_0x21bcc2(0x25b)],...C(a0_0x21bcc2(0x347),'content')}},'required':[a0_0x21bcc2(0x709)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'number':{...K},'options':{...te},'mediaMessage':{'type':a0_0x21bcc2(0x82b),'properties':{'mediatype':{'type':a0_0x21bcc2(0x5c8),'enum':['image','document',a0_0x21bcc2(0x225),a0_0x21bcc2(0x571)]},'media':{'type':a0_0x21bcc2(0x5c8)},'fileName':{'type':a0_0x21bcc2(0x5c8)},'caption':{'type':a0_0x21bcc2(0x5c8)}},'required':['mediatype',a0_0x21bcc2(0x284)],...C(a0_0x21bcc2(0x87f),a0_0x21bcc2(0x728),'media')}},'required':['mediaMessage',a0_0x21bcc2(0x922)]},ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'options':{...te},'audioMessage':{'type':a0_0x21bcc2(0x82b),'properties':{'audio':{'type':a0_0x21bcc2(0x5c8)}},'required':[a0_0x21bcc2(0x571)],...C('audio')}},'required':['audioMessage',a0_0x21bcc2(0x922)]},Ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...K},'pollMessage':{'type':a0_0x21bcc2(0x82b),'properties':{'name':{'type':a0_0x21bcc2(0x5c8)},'selectableCount':{'type':'number'},'values':{'type':a0_0x21bcc2(0x7f3),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x21bcc2(0x83e),a0_0x21bcc2(0x388),a0_0x21bcc2(0x366)],...C(a0_0x21bcc2(0x83e),a0_0x21bcc2(0x388),a0_0x21bcc2(0x366))}},'required':[a0_0x21bcc2(0x922),a0_0x21bcc2(0x209)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'number':{...K},'menuMessage':{'type':a0_0x21bcc2(0x82b),'properties':{'text':{'type':a0_0x21bcc2(0x5c8)},'choices':{'type':a0_0x21bcc2(0x7f3),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x21bcc2(0x839),a0_0x21bcc2(0x8bb)],...C(a0_0x21bcc2(0x839),a0_0x21bcc2(0x8bb))}},'required':[a0_0x21bcc2(0x922),a0_0x21bcc2(0x3b7)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'number':{...K},'options':{...te},'buttonMessage':{'type':'object','properties':{'title':{'type':a0_0x21bcc2(0x5c8)},'description':{'type':a0_0x21bcc2(0x5c8)},'footerText':{'type':a0_0x21bcc2(0x5c8)},'buttons':{'type':a0_0x21bcc2(0x7f3),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x21bcc2(0x5c8)}},'required':[a0_0x21bcc2(0x6ce),a0_0x21bcc2(0x22a)],...C(a0_0x21bcc2(0x6ce),a0_0x21bcc2(0x22a))}},'mediaMessage':{'type':a0_0x21bcc2(0x82b),'properties':{'media':{'type':a0_0x21bcc2(0x5c8)},'fileName':{'type':a0_0x21bcc2(0x5c8)},'mediatype':{'type':a0_0x21bcc2(0x5c8),'enum':[a0_0x21bcc2(0x44d),'document',a0_0x21bcc2(0x225)]}},'required':['media','mediatype'],...C(a0_0x21bcc2(0x284),'fileName')}},'required':[a0_0x21bcc2(0x7a3),a0_0x21bcc2(0x638)],...C(a0_0x21bcc2(0x7a3),a0_0x21bcc2(0x678))}},'required':[a0_0x21bcc2(0x922),a0_0x21bcc2(0x5e7)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'number':{...K},'options':{...te},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x21bcc2(0x922)},'longitude':{'type':'number'},'name':{'type':a0_0x21bcc2(0x5c8)},'address':{'type':a0_0x21bcc2(0x5c8)}},'required':[a0_0x21bcc2(0x905),'longitude'],...C(a0_0x21bcc2(0x83e),a0_0x21bcc2(0x361))}},'required':['number',a0_0x21bcc2(0x244)]},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'number':{...K},'options':{...te},'listMessage':{'type':a0_0x21bcc2(0x82b),'properties':{'title':{'type':a0_0x21bcc2(0x5c8)},'description':{'type':a0_0x21bcc2(0x5c8)},'footerText':{'type':a0_0x21bcc2(0x5c8)},'buttonText':{'type':'string'},'sections':{'type':a0_0x21bcc2(0x7f3),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x21bcc2(0x82b),'properties':{'title':{'type':a0_0x21bcc2(0x5c8)},'rows':{'type':a0_0x21bcc2(0x7f3),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x21bcc2(0x82b),'properties':{'title':{'type':a0_0x21bcc2(0x5c8)},'description':{'type':a0_0x21bcc2(0x5c8)},'rowId':{'type':a0_0x21bcc2(0x5c8)}},'required':['title',a0_0x21bcc2(0x701)],...C('title',a0_0x21bcc2(0x701))}}},'required':[a0_0x21bcc2(0x7a3),a0_0x21bcc2(0x53d)],...C(a0_0x21bcc2(0x7a3))}}},'required':[a0_0x21bcc2(0x7a3),a0_0x21bcc2(0x678),a0_0x21bcc2(0x6ce),a0_0x21bcc2(0x242)],...C(a0_0x21bcc2(0x7a3),a0_0x21bcc2(0x678),a0_0x21bcc2(0x6ce),'footerText')}},'required':[a0_0x21bcc2(0x922),'listMessage']},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'number':{...K},'options':{...te},'contactMessage':{'type':a0_0x21bcc2(0x7f3),'items':{'type':a0_0x21bcc2(0x82b),'properties':{'fullName':{'type':a0_0x21bcc2(0x5c8)},'phoneNumber':{'type':a0_0x21bcc2(0x5c8),'minLength':0xa}},'required':['fullName','phoneNumber'],...C(a0_0x21bcc2(0x280))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number','contactMessage']},za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x21bcc2(0x82b),'properties':{'key':{'type':a0_0x21bcc2(0x82b),'properties':{'id':{'type':a0_0x21bcc2(0x5c8)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x21bcc2(0x2c7),a0_0x21bcc2(0x86f)],...C('id',a0_0x21bcc2(0x2c7))},'reaction':{'type':a0_0x21bcc2(0x5c8)}},'required':[a0_0x21bcc2(0x3fe),a0_0x21bcc2(0x718)],...C(a0_0x21bcc2(0x718))}},'required':[a0_0x21bcc2(0x631)]},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'numbers':{'type':a0_0x21bcc2(0x7f3),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x21bcc2(0x5c8),'pattern':a0_0x21bcc2(0x4bb),'description':a0_0x21bcc2(0x35a)}}}},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'readMessages':{'type':a0_0x21bcc2(0x7f3),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x21bcc2(0x5c8)},'fromMe':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x21bcc2(0x5c8)}},'required':['id','fromMe',a0_0x21bcc2(0x2c7)],...C('id',a0_0x21bcc2(0x2c7))}}},'required':[a0_0x21bcc2(0x75a)]},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x21bcc2(0x5c8),'enum':['all',a0_0x21bcc2(0x22f)]},'profile':{'type':'string','enum':['all',a0_0x21bcc2(0x7e0),'contact_blacklist',a0_0x21bcc2(0x22f)]},'status':{'type':a0_0x21bcc2(0x5c8),'enum':[a0_0x21bcc2(0x3ec),'contacts',a0_0x21bcc2(0x849),a0_0x21bcc2(0x22f)]},'online':{'type':a0_0x21bcc2(0x5c8),'enum':[a0_0x21bcc2(0x3ec),a0_0x21bcc2(0x70a)]},'last':{'type':a0_0x21bcc2(0x5c8),'enum':[a0_0x21bcc2(0x3ec),'contacts',a0_0x21bcc2(0x849),a0_0x21bcc2(0x22f)]},'groupadd':{'type':a0_0x21bcc2(0x5c8),'enum':[a0_0x21bcc2(0x3ec),a0_0x21bcc2(0x7e0),a0_0x21bcc2(0x849),a0_0x21bcc2(0x22f)]}},'required':['readreceipts',a0_0x21bcc2(0x2f2),'status',a0_0x21bcc2(0x733),a0_0x21bcc2(0x655),a0_0x21bcc2(0x865)],...C(a0_0x21bcc2(0x20c),'profile',a0_0x21bcc2(0x41a),a0_0x21bcc2(0x733),a0_0x21bcc2(0x655),a0_0x21bcc2(0x865))}},'required':[a0_0x21bcc2(0x519)]},Ya={'$id':(0x0,E['v4'])(),'type':'object','properties':{'lastMessage':{'type':a0_0x21bcc2(0x82b),'properties':{'key':{'type':a0_0x21bcc2(0x82b),'properties':{'id':{'type':a0_0x21bcc2(0x5c8)},'remoteJid':{'type':a0_0x21bcc2(0x5c8)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x21bcc2(0x86f),a0_0x21bcc2(0x2c7)],...C('id',a0_0x21bcc2(0x2c7))},'messageTimestamp':{'type':a0_0x21bcc2(0x311),'minLength':0x1}},'required':[a0_0x21bcc2(0x3fe)],...C(a0_0x21bcc2(0x307))},'archive':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]}},'required':[a0_0x21bcc2(0x804),a0_0x21bcc2(0x4f6)]},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'id':{'type':a0_0x21bcc2(0x5c8)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x21bcc2(0x5c8)},'participant':{'type':a0_0x21bcc2(0x5c8)}},'required':['id',a0_0x21bcc2(0x86f),a0_0x21bcc2(0x2c7)],...C('id','remoteJid','participant')},Za={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'where':{'type':a0_0x21bcc2(0x82b),'properties':{'_id':{'type':a0_0x21bcc2(0x5c8),'minLength':0x1},'pushName':{'type':a0_0x21bcc2(0x5c8),'minLength':0x1},'id':{'type':a0_0x21bcc2(0x5c8),'minLength':0x1}},...C(a0_0x21bcc2(0x644),'id',a0_0x21bcc2(0x7f1))}}},ei={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'name':{'type':'string'}},...C(a0_0x21bcc2(0x83e))},ti={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'status':{'type':a0_0x21bcc2(0x5c8)}},...C('status')},xe={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'number':{'type':a0_0x21bcc2(0x5c8)},'picture':{'type':a0_0x21bcc2(0x5c8)}}},si={'type':a0_0x21bcc2(0x82b),'properties':{'wuid':{'type':a0_0x21bcc2(0x5c8)},'name':{'type':'string'},'picture':{'type':a0_0x21bcc2(0x5c8)},'status':{'type':'string'},'isBusiness':{'type':a0_0x21bcc2(0x694)}}},ai={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'where':{'type':a0_0x21bcc2(0x82b),'properties':{'_id':{'type':a0_0x21bcc2(0x5c8),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x21bcc2(0x86f),a0_0x21bcc2(0x2c7),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x21bcc2(0x5c8),'minLength':0x1,'description':a0_0x21bcc2(0x7b0)},'id':{'type':a0_0x21bcc2(0x5c8),'minLength':0x1,'description':a0_0x21bcc2(0x7b0)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x21bcc2(0x82b)}},...C(a0_0x21bcc2(0x644))},'limit':{'type':a0_0x21bcc2(0x311)}}},Sc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x21bcc2(0x5c8)},'remoteJid':{'type':a0_0x21bcc2(0x5c8)},'id':{'type':a0_0x21bcc2(0x5c8)},'fromMe':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':'string','enum':['ERROR',a0_0x21bcc2(0x3c7),'SERVER_ACK',a0_0x21bcc2(0x773),a0_0x21bcc2(0x565),a0_0x21bcc2(0x409)]}},...C(a0_0x21bcc2(0x644),a0_0x21bcc2(0x2c7),'id','status')},'limit':{'type':a0_0x21bcc2(0x311)}}},ii={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'number':{...K},'presence':{'type':a0_0x21bcc2(0x5c8),'enum':[a0_0x21bcc2(0x625),'available','composing',a0_0x21bcc2(0x207),'paused']}},'required':[a0_0x21bcc2(0x820),a0_0x21bcc2(0x922)]},oi={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x21bcc2(0x5c8)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x21bcc2(0x7f3),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x21bcc2(0x5c8),'minLength':0xa,'pattern':a0_0x21bcc2(0x279),'description':a0_0x21bcc2(0x48f)}}},'required':[a0_0x21bcc2(0x6e1),a0_0x21bcc2(0x507)],...C('subject',a0_0x21bcc2(0x678),'profilePicture')},De={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x21bcc2(0x5c8),'pattern':a0_0x21bcc2(0x1ee)}},'required':['groupJid'],...C(a0_0x21bcc2(0x4fd))},ri={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'groupJid':{'type':'string'},'action':{'type':'string','enum':[a0_0x21bcc2(0x65e),a0_0x21bcc2(0x424),a0_0x21bcc2(0x528),a0_0x21bcc2(0x75b),a0_0x21bcc2(0x446),a0_0x21bcc2(0x4f5)]},'participants':{'type':a0_0x21bcc2(0x7f3),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':'\x5cd+','description':a0_0x21bcc2(0x48f)}}},'required':['groupJid',a0_0x21bcc2(0x84e),a0_0x21bcc2(0x507)],...C('groupJid','action')},ni={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'groupJid':{'type':a0_0x21bcc2(0x5c8)},'expiration':{'type':a0_0x21bcc2(0x922),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x21bcc2(0x4fd),a0_0x21bcc2(0x78e)],...C(a0_0x21bcc2(0x4fd),a0_0x21bcc2(0x78e))},ci={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'groupJid':{'type':a0_0x21bcc2(0x5c8)},'image':{'type':a0_0x21bcc2(0x5c8)}},'required':['groupJid','image'],...C(a0_0x21bcc2(0x4fd),a0_0x21bcc2(0x44d))},li={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'groupJid':{'type':'string'},'description':{'type':'string'}},'required':[a0_0x21bcc2(0x4fd),a0_0x21bcc2(0x678)],...C(a0_0x21bcc2(0x4fd),a0_0x21bcc2(0x678))},ui={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'groupJid':{'type':a0_0x21bcc2(0x5c8)},'name':{'type':a0_0x21bcc2(0x5c8)}},'required':[a0_0x21bcc2(0x4fd),a0_0x21bcc2(0x83e)],...C('groupJid',a0_0x21bcc2(0x83e))},di={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x21bcc2(0x5c8)},'setting':{'type':'string','enum':['announcement',a0_0x21bcc2(0x51e),'unlocked',a0_0x21bcc2(0x8af)]}},'required':[a0_0x21bcc2(0x4fd),a0_0x21bcc2(0x71b)],...C(a0_0x21bcc2(0x4fd),a0_0x21bcc2(0x71b))},pi={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x21bcc2(0x5c8)},'restrict':{'type':a0_0x21bcc2(0x694)},'announce':{'type':'boolean'},'memberAddMode':{'type':a0_0x21bcc2(0x694)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0x21bcc2(0x311),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x21bcc2(0x5c8)},'description':{'type':a0_0x21bcc2(0x5c8)},'image':{'type':'string'}}},Ns={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'inviteCode':{'type':a0_0x21bcc2(0x5c8)}},'required':[a0_0x21bcc2(0x727)],...C(a0_0x21bcc2(0x727))},hi={'$id':(0x0,E['v4'])(),'type':a0_0x21bcc2(0x82b),'properties':{'url':{'type':a0_0x21bcc2(0x5c8)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x21bcc2(0x6df),a0_0x21bcc2(0x3b3)]},Mc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x21bcc2(0x694),'enum':[!0x0,!0x1]}},'required':[a0_0x21bcc2(0x3c3),a0_0x21bcc2(0x8c8),a0_0x21bcc2(0x7f5),a0_0x21bcc2(0x369),'MESSAGES_UPDATE',a0_0x21bcc2(0x8ef),a0_0x21bcc2(0x7e1),a0_0x21bcc2(0x39e),a0_0x21bcc2(0x278),'CONTACTS_UPDATE',a0_0x21bcc2(0x66a),'CHATS_SET',a0_0x21bcc2(0x456),a0_0x21bcc2(0x2ac),a0_0x21bcc2(0x443),a0_0x21bcc2(0x69f),a0_0x21bcc2(0x65f),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE'],...C(a0_0x21bcc2(0x3c3),a0_0x21bcc2(0x8c8),a0_0x21bcc2(0x7f5),a0_0x21bcc2(0x369),'MESSAGES_UPDATE',a0_0x21bcc2(0x8ef),a0_0x21bcc2(0x7e1),a0_0x21bcc2(0x39e),a0_0x21bcc2(0x278),'CONTACTS_UPDATE',a0_0x21bcc2(0x66a),'CHATS_SET','CHATS_UPSERT',a0_0x21bcc2(0x2ac),'CHATS_DELETE',a0_0x21bcc2(0x69f),a0_0x21bcc2(0x65f),'GROUPS_UPDATE',a0_0x21bcc2(0x3d2))},ct=class{},lt=class extends _{[a0_0x21bcc2(0x77a)](_0x25cfc6){return ia(_0x25cfc6);}async[a0_0x21bcc2(0x6b9)](_0x5845f9){const _0x406ad5=a0_0x21bcc2;if(_0x5845f9[_0x406ad5(0x7be)]!==0x0)try{return{'insertCount':(await this[_0x406ad5(0x77a)](_0x5845f9[0x0][_0x406ad5(0x856)])[_0x406ad5(0x37e)]([..._0x5845f9]))[_0x406ad5(0x7be)]};}catch(_0x5eb121){return _0x5eb121;}}async['delete'](_0x55da19,_0x46d992){const _0x20da14=a0_0x21bcc2;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x46d992)[_0x20da14(0x5e4)]({..._0x55da19[_0x20da14(0x742)]}))[_0x20da14(0x6e4)]};}catch(_0x3c38bc){return{'error':_0x3c38bc?.['toString']()};}}async[a0_0x21bcc2(0x7ed)](_0x135857,_0x3a40f0){const _0x20f7b6=a0_0x21bcc2;try{if(_0x135857[_0x20f7b6(0x7be)]===0x0)return;let _0x35e14c=this[_0x20f7b6(0x77a)](_0x3a40f0),_0x48b7dd=_0x135857[_0x20f7b6(0x867)](_0x1bb625=>({'updateOne':{'filter':{'_id':_0x1bb625[_0x20f7b6(0x644)],'owner':_0x3a40f0},'update':{..._0x1bb625}}})),{modifiedCount:_0x446cdc}=await _0x35e14c[_0x20f7b6(0x871)](_0x48b7dd);return{'insertCount':_0x446cdc};}catch{return;}}async[a0_0x21bcc2(0x68c)](_0x418128,_0x2131f7){const _0x6d643d=a0_0x21bcc2;try{let _0x5576aa=this[_0x6d643d(0x77a)](_0x2131f7),_0xac8df7=T(_0x418128[_0x6d643d(0x742)]);return await _0x5576aa[_0x6d643d(0x68c)](_0xac8df7)[_0x6d643d(0x7d1)](_0x418128?.[_0x6d643d(0x7d1)]??0x0)['lean']();}catch{return[];}}async[a0_0x21bcc2(0x7db)](_0x474a17,_0x5d6094){const _0x16f598=a0_0x21bcc2;try{let _0x165dac=this[_0x16f598(0x77a)](_0x5d6094),_0x1ab140=T(_0x474a17[_0x16f598(0x742)]);return await _0x165dac[_0x16f598(0x7db)](_0x1ab140)[_0x16f598(0x2f8)]();}catch{return null;}}async[a0_0x21bcc2(0x59e)](_0x4641f7){const _0x199204=a0_0x21bcc2;try{return await this[_0x199204(0x77a)](_0x4641f7)[_0x199204(0x620)][_0x199204(0x7ee)](),{'success':!0x0};}catch(_0x5ed852){return console[_0x199204(0x2fe)](_0x5ed852),{'success':!0x1,'error':_0x5ed852};}}},ut=require('jsonschema'),Tc=require(a0_0x21bcc2(0x7c1)),$s=new $('Validate'),G=class{[a0_0x21bcc2(0x1e3)](_0x32d119,_0x42c66d=!0x0){let _0x15e60a='/'+_0x32d119;return _0x42c66d&&(_0x15e60a+='/:instanceName'),_0x15e60a;}async['dataValidate'](_0xa2661){const _0x3c55c8=a0_0x21bcc2;let {request:_0x3f3a8a,schema:_0x596cb0,ClassRef:_0x35de03,execute:_0x3167df}=_0xa2661,_0x4d70b9=new _0x35de03(),_0x214087=_0x3f3a8a['body'],_0x522a82=_0x3f3a8a[_0x3c55c8(0x28f)];_0x3f3a8a?.[_0x3c55c8(0x83d)]&&Object[_0x3c55c8(0x4ac)](_0x3f3a8a[_0x3c55c8(0x83d)])[_0x3c55c8(0x7be)]>0x0&&Object[_0x3c55c8(0x5a0)](_0x522a82,_0x3f3a8a[_0x3c55c8(0x83d)]),_0x3f3a8a[_0x3c55c8(0x26f)][_0x3c55c8(0x587)](_0x3c55c8(0x8d0))&&Object[_0x3c55c8(0x5a0)](_0x522a82,_0x214087),Object['assign'](_0x4d70b9,_0x214087);let _0x4ba52b=_0x596cb0?(0x0,ut['validate'])(_0x4d70b9,_0x596cb0):{'valid':!0x0,'errors':[]};if(!_0x4ba52b['valid']){let _0x35ba30=_0x4ba52b[_0x3c55c8(0x783)][_0x3c55c8(0x867)](({property:_0x180a42,stack:_0x5861c3,schema:_0x33ae2f})=>{const _0x20e13e=_0x3c55c8;let _0x13345a;return _0x33ae2f[_0x20e13e(0x678)]?_0x13345a=_0x33ae2f['description']:_0x13345a=_0x5861c3[_0x20e13e(0x243)](_0x20e13e(0x74c),''),{'property':_0x180a42['replace'](_0x20e13e(0x74c),''),'message':_0x13345a};});throw $s[_0x3c55c8(0x2fe)]([..._0x35ba30]),new m(..._0x35ba30);}return await _0x3167df(_0x522a82,_0x4d70b9);}async[a0_0x21bcc2(0x632)](_0xc92432){const _0x2ee99d=a0_0x21bcc2;let {request:_0x2d66e3,ClassRef:_0x3f1d65,schema:_0x5ba7f7,execute:_0x330a2f}=_0xc92432,_0xa6a6c0=_0x2d66e3['query'];if(!_0xa6a6c0?.[_0x2ee99d(0x4fd)])throw new m(_0x2ee99d(0x61b),_0x2ee99d(0x5a4));let _0x587cae=_0x2d66e3[_0x2ee99d(0x28f)],_0x215e85=_0x2d66e3['body'],_0x35fb70=new _0x3f1d65();Object[_0x2ee99d(0x5a0)](_0x215e85,_0xa6a6c0),Object['assign'](_0x35fb70,_0x215e85);let _0x9ee83d=(0x0,ut['validate'])(_0x35fb70,_0x5ba7f7);if(!_0x9ee83d[_0x2ee99d(0x32c)]){let _0x45d3ae=_0x9ee83d[_0x2ee99d(0x783)][_0x2ee99d(0x867)](({property:_0x4b400e,stack:_0x1d8d36,schema:_0x13c9d5})=>{const _0x4daf51=_0x2ee99d;let _0x2c6bf1;return _0x13c9d5['description']?_0x2c6bf1=_0x13c9d5[_0x4daf51(0x678)]:_0x2c6bf1=_0x1d8d36['replace'](_0x4daf51(0x74c),''),{'property':_0x4b400e[_0x4daf51(0x243)](_0x4daf51(0x74c),''),'message':_0x2c6bf1};});throw $s['error']([..._0x45d3ae]),new m(..._0x45d3ae);}return await _0x330a2f(_0x587cae,_0x35fb70);}async['joinGroupValidate'](_0x4a75ec){const _0x2119dc=a0_0x21bcc2;let {request:_0x2b6cf5,ClassRef:_0x6deba7,schema:_0x46d5f0,execute:_0x46ee40}=_0x4a75ec,_0x1eb5e5=_0x2b6cf5[_0x2119dc(0x6ad)];if(!_0x1eb5e5?.[_0x2119dc(0x727)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x2119dc(0x21b));let _0x36ce7b=_0x2b6cf5[_0x2119dc(0x28f)],_0x1bf958=_0x2b6cf5[_0x2119dc(0x6ad)],_0x535f10=new _0x6deba7();Object['assign'](_0x1bf958,_0x1eb5e5),Object[_0x2119dc(0x5a0)](_0x535f10,_0x1bf958);let _0x1494f9=(0x0,ut[_0x2119dc(0x7f0)])(_0x535f10,_0x46d5f0);if(!_0x1494f9[_0x2119dc(0x32c)]){let _0x5ad503=_0x1494f9[_0x2119dc(0x783)][_0x2119dc(0x867)](({property:_0x114925,stack:_0x593aa6,schema:_0x29ad21})=>{const _0x120f94=_0x2119dc;let _0x489a68;return _0x29ad21[_0x120f94(0x678)]?_0x489a68=_0x29ad21[_0x120f94(0x678)]:_0x489a68=_0x593aa6['replace']('instance.',''),{'property':_0x114925[_0x120f94(0x243)](_0x120f94(0x74c),''),'message':_0x489a68};});throw $s[_0x2119dc(0x2fe)]([..._0x5ad503]),new m(..._0x5ad503);}return await _0x46ee40(_0x36ce7b,_0x535f10);}},M=class{},Bc=new $(a0_0x21bcc2(0x484)),dt=class extends G{constructor(..._0x36dce4){const _0x669c05=a0_0x21bcc2;super(),this[_0x669c05(0x3b2)]=(0x0,gi[_0x669c05(0x691)])(),this[_0x669c05(0x3b2)]['post'](this[_0x669c05(0x1e3)](_0x669c05(0x34a)),..._0x36dce4,async(_0x350e81,_0x319da0)=>{const _0x4f0a56=_0x669c05;let _0x1967d9=await this[_0x4f0a56(0x7c4)]({'request':_0x350e81,'schema':ii,'ClassRef':Ze,'execute':(_0x5175d2,_0x3fdb9e)=>P['updatePresence'](_0x5175d2,_0x3fdb9e)});return _0x319da0[_0x4f0a56(0x41a)](0xc9)[_0x4f0a56(0x579)](_0x1967d9);})[_0x669c05(0x885)](this['routerPath'](_0x669c05(0x564)),..._0x36dce4,async(_0x5ae7fc,_0x4880ba)=>{const _0xd15dc6=_0x669c05;let _0x6b0141=await this['dataValidate']({'request':_0x5ae7fc,'schema':Ha,'ClassRef':et,'execute':(_0x51bd00,_0x56dcb5)=>P[_0xd15dc6(0x374)](_0x51bd00,_0x56dcb5)});return _0x4880ba['status'](0xc9)['json'](_0x6b0141);})['post'](this[_0x669c05(0x1e3)]('editChat'),..._0x36dce4,async(_0x45e524,_0x182a91)=>{const _0xd8298d=_0x669c05;let _0x51b4ae=await this[_0xd8298d(0x7c4)]({'request':_0x45e524,'schema':N,'ClassRef':M,'execute':(_0x3c2057,_0x496160)=>P[_0xd8298d(0x33a)](_0x3c2057,_0x496160)});return _0x182a91[_0xd8298d(0x41a)](0xc9)['json'](_0x51b4ae);})[_0x669c05(0x763)](this[_0x669c05(0x1e3)](_0x669c05(0x535)),..._0x36dce4,async(_0x5e2169,_0x256924)=>{const _0x486f6e=_0x669c05;let _0xab0e8a=await this[_0x486f6e(0x7c4)]({'request':_0x5e2169,'schema':Ka,'ClassRef':at,'execute':(_0x1b2327,_0x874df)=>P[_0x486f6e(0x7f4)](_0x1b2327,_0x874df)});return _0x256924[_0x486f6e(0x41a)](0xc9)['json'](_0xab0e8a);})[_0x669c05(0x763)](this['routerPath'](_0x669c05(0x800)),..._0x36dce4,async(_0x19f5db,_0x2b54fe)=>{const _0x33cbe4=_0x669c05;let _0x595f6b=await this[_0x33cbe4(0x7c4)]({'request':_0x19f5db,'schema':Ya,'ClassRef':it,'execute':(_0x1b8a9f,_0x32881d)=>P[_0x33cbe4(0x800)](_0x1b8a9f,_0x32881d)});return _0x2b54fe[_0x33cbe4(0x41a)](0xc9)[_0x33cbe4(0x579)](_0x595f6b);})[_0x669c05(0x8b1)](this[_0x669c05(0x1e3)](_0x669c05(0x5b5)),..._0x36dce4,async(_0x6a2a85,_0x27f784)=>{const _0x4642c6=_0x669c05;let _0x5070fb=await this[_0x4642c6(0x7c4)]({'request':_0x6a2a85,'schema':Xa,'ClassRef':rt,'execute':(_0x1c8be5,_0x454a8f)=>P[_0x4642c6(0x798)](_0x1c8be5,_0x454a8f)});return _0x27f784[_0x4642c6(0x41a)](0xc9)[_0x4642c6(0x579)](_0x5070fb);})[_0x669c05(0x885)](this['routerPath'](_0x669c05(0x506)),..._0x36dce4,async(_0x1f3b8,_0xdf72bb)=>{const _0x55be09=_0x669c05;let _0x36f458=await this['dataValidate']({'request':_0x1f3b8,'schema':xe,'ClassRef':Oe,'execute':(_0x23dee8,_0x597ab7)=>P[_0x55be09(0x8d5)](_0x23dee8,_0x597ab7)});return _0xdf72bb[_0x55be09(0x41a)](0xc8)[_0x55be09(0x579)](_0x36f458);})[_0x669c05(0x885)](this[_0x669c05(0x1e3)](_0x669c05(0x312)),..._0x36dce4,async(_0x1bece0,_0x5a5a30)=>{const _0x29c020=_0x669c05;let _0xa07f30=await this[_0x29c020(0x7c4)]({'request':_0x1bece0,'schema':si,'ClassRef':Oe,'execute':(_0x34750e,_0x597417)=>P[_0x29c020(0x312)](_0x34750e,_0x597417)});return _0x5a5a30[_0x29c020(0x41a)](0xc8)[_0x29c020(0x579)](_0xa07f30);})[_0x669c05(0x885)](this[_0x669c05(0x1e3)]('findContacts'),..._0x36dce4,async(_0x6fb36a,_0x2f22e6)=>{const _0x238f02=_0x669c05;let _0x2f51ed=await this[_0x238f02(0x7c4)]({'request':_0x6fb36a,'schema':Za,'ClassRef':ct,'execute':(_0x48c138,_0x4aac8d)=>P[_0x238f02(0x4cc)](_0x48c138,_0x4aac8d)});return _0x2f22e6['status'](0xc8)['json'](_0x2f51ed);})[_0x669c05(0x885)](this[_0x669c05(0x1e3)](_0x669c05(0x248)),..._0x36dce4,async(_0x38fd33,_0x54ea77)=>{const _0x4ddd84=_0x669c05;let _0xd996e9=await this['dataValidate']({'request':_0x38fd33,'schema':null,'ClassRef':Object,'execute':(_0x15ef22,_0x451964)=>P[_0x4ddd84(0x248)](_0x15ef22,_0x451964)});return _0x54ea77['status'](0xc9)['json'](_0xd996e9);})[_0x669c05(0x885)](this[_0x669c05(0x1e3)](_0x669c05(0x524)),..._0x36dce4,async(_0x10462c,_0x2b8cbe)=>{const _0x44ab6f=_0x669c05;let _0x5699df=await this['dataValidate']({'request':_0x10462c,'schema':ai,'ClassRef':Ye,'execute':(_0x14d912,_0x472757)=>P['fetchMessages'](_0x14d912,_0x472757)});return _0x2b8cbe[_0x44ab6f(0x41a)](0xc8)['json'](_0x5699df);})['get'](this[_0x669c05(0x1e3)]('findChats'),..._0x36dce4,async(_0x2eea51,_0x1dc209)=>{const _0x10f3e8=_0x669c05;let _0x4c048c=await this[_0x10f3e8(0x7c4)]({'request':_0x2eea51,'schema':null,'ClassRef':M,'execute':_0x3b02c5=>P[_0x10f3e8(0x43a)](_0x3b02c5)});return _0x1dc209[_0x10f3e8(0x41a)](0xc8)[_0x10f3e8(0x579)](_0x4c048c);})[_0x669c05(0x725)](this[_0x669c05(0x1e3)]('findLabels'),..._0x36dce4,async(_0x591f61,_0x6c5a31)=>{const _0x7ab788=_0x669c05;let _0x5d4d0e=await this[_0x7ab788(0x7c4)]({'request':_0x591f61,'schema':null,'ClassRef':M,'execute':_0x4b27d8=>P['fetchLabels'](_0x4b27d8)});return _0x6c5a31['status'](0xc8)[_0x7ab788(0x579)](_0x5d4d0e);})['put'](this[_0x669c05(0x1e3)](_0x669c05(0x4c4)),..._0x36dce4,async(_0x4ac3b4,_0x3f1910)=>{const _0x56a2b7=_0x669c05;let _0x5a85ed=await this[_0x56a2b7(0x7c4)]({'request':_0x4ac3b4,'schema':null,'ClassRef':Array,'execute':(_0x2ffc4e,_0x819ccb)=>P[_0x56a2b7(0x4c4)](_0x2ffc4e,_0x819ccb)});return _0x3f1910[_0x56a2b7(0x41a)](0xc8)[_0x56a2b7(0x579)](_0x5a85ed);})['get'](this[_0x669c05(0x1e3)](_0x669c05(0x86a)),..._0x36dce4,async(_0x53ca53,_0x3f034a)=>{const _0x3ba0b6=_0x669c05;let _0x16f544=await this[_0x3ba0b6(0x7c4)]({'request':_0x53ca53,'schema':null,'ClassRef':M,'execute':_0x3f6fda=>P[_0x3ba0b6(0x86a)](_0x3f6fda)});return _0x3f034a[_0x3ba0b6(0x41a)](0xc8)[_0x3ba0b6(0x579)](_0x16f544);})[_0x669c05(0x763)](this[_0x669c05(0x1e3)](_0x669c05(0x270)),..._0x36dce4,async(_0x532401,_0x5673bb)=>{const _0x324c55=_0x669c05;let _0x2bce5b=await this[_0x324c55(0x7c4)]({'request':_0x532401,'schema':Qa,'ClassRef':ot,'execute':(_0x3412d4,_0x3bc323)=>P[_0x324c55(0x270)](_0x3412d4,_0x3bc323)});return _0x5673bb[_0x324c55(0x41a)](0xc9)[_0x324c55(0x579)](_0x2bce5b);})[_0x669c05(0x885)](this[_0x669c05(0x1e3)](_0x669c05(0x87e)),..._0x36dce4,async(_0x19982a,_0x3b93f8)=>{const _0x309f3f=_0x669c05;let _0x41ae53=await this[_0x309f3f(0x7c4)]({'request':_0x19982a,'schema':xe,'ClassRef':Ee,'execute':(_0x4b1dea,_0x1ef564)=>P[_0x309f3f(0x87e)](_0x4b1dea,_0x1ef564)});return _0x3b93f8[_0x309f3f(0x41a)](0xc8)[_0x309f3f(0x579)](_0x41ae53);})[_0x669c05(0x885)](this['routerPath'](_0x669c05(0x1e9)),..._0x36dce4,async(_0x13ba1d,_0x44465a)=>{const _0x42b8fb=_0x669c05;let _0x36cf09=await this[_0x42b8fb(0x7c4)]({'request':_0x13ba1d,'schema':ei,'ClassRef':tt,'execute':(_0x737e0a,_0x43e33c)=>P[_0x42b8fb(0x1e9)](_0x737e0a,_0x43e33c)});return _0x44465a[_0x42b8fb(0x41a)](0xc8)[_0x42b8fb(0x579)](_0x36cf09);})[_0x669c05(0x885)](this[_0x669c05(0x1e3)](_0x669c05(0x7ff)),..._0x36dce4,async(_0x35c02f,_0x36953c)=>{const _0x3ad403=_0x669c05;let _0x18fc8a=await this[_0x3ad403(0x7c4)]({'request':_0x35c02f,'schema':ti,'ClassRef':st,'execute':(_0x444d8c,_0x1328a2)=>P[_0x3ad403(0x7ff)](_0x444d8c,_0x1328a2)});return _0x36953c[_0x3ad403(0x41a)](0xc8)[_0x3ad403(0x579)](_0x18fc8a);})[_0x669c05(0x763)](this[_0x669c05(0x1e3)]('updateProfilePicture'),..._0x36dce4,async(_0x499d12,_0x2b1b0e)=>{const _0x43b8c0=_0x669c05;let _0x2af23d=await this['dataValidate']({'request':_0x499d12,'schema':xe,'ClassRef':Ee,'execute':(_0x5d1393,_0x3be859)=>P[_0x43b8c0(0x464)](_0x5d1393,_0x3be859)});return _0x2b1b0e[_0x43b8c0(0x41a)](0xc8)[_0x43b8c0(0x579)](_0x2af23d);})['delete'](this[_0x669c05(0x1e3)](_0x669c05(0x6d3)),..._0x36dce4,async(_0x18ba19,_0x4bd429)=>{const _0x39a26c=_0x669c05;let _0x3b95a4=await this[_0x39a26c(0x7c4)]({'request':_0x18ba19,'schema':xe,'ClassRef':Ee,'execute':(_0x4df055,_0x4904b5)=>P[_0x39a26c(0x6d3)](_0x4df055,_0x4904b5)});return _0x4bd429[_0x39a26c(0x41a)](0xc8)['json'](_0x3b95a4);});}},mi=require(a0_0x21bcc2(0x3eb)),pt=class{},ht=class{},gt=class{},mt=class{},ft=class{},wt=class{},se=class{},Pe=class{},yt=class extends se{},bt=class extends se{},St=class extends G{constructor(..._0x2a3cd5){const _0x1898a3=a0_0x21bcc2;super(),this[_0x1898a3(0x3b2)]=(0x0,mi['Router'])(),this[_0x1898a3(0x3b2)][_0x1898a3(0x885)](this['routerPath'](_0x1898a3(0x64a)),..._0x2a3cd5,async(_0x3db68e,_0x2b2a15)=>{const _0x2bce4b=_0x1898a3;let _0x70faa=await this['dataValidate']({'request':_0x3db68e,'schema':oi,'ClassRef':pt,'execute':(_0xa9f57c,_0x330b3b)=>q[_0x2bce4b(0x5fd)](_0xa9f57c,_0x330b3b)});_0x2b2a15[_0x2bce4b(0x41a)](0xc9)[_0x2bce4b(0x579)](_0x70faa);})[_0x1898a3(0x763)](this[_0x1898a3(0x1e3)](_0x1898a3(0x4a1)),..._0x2a3cd5,async(_0x16b57d,_0x11b720)=>{const _0x290757=_0x1898a3;let _0x167d86=await this['groupValidate']({'request':_0x16b57d,'schema':ci,'ClassRef':ht,'execute':(_0x54cee7,_0x33969d)=>q[_0x290757(0x4a1)](_0x54cee7,_0x33969d)});_0x11b720[_0x290757(0x41a)](0xc9)['json'](_0x167d86);})['put'](this[_0x1898a3(0x1e3)]('groupDesc'),..._0x2a3cd5,async(_0x5c92a2,_0x4cf7b7)=>{const _0x1d75e0=_0x1898a3;let _0x26c323=await this[_0x1d75e0(0x632)]({'request':_0x5c92a2,'schema':li,'ClassRef':gt,'execute':(_0x2f002f,_0x35d256)=>q['groupDesc'](_0x2f002f,_0x35d256)});_0x4cf7b7[_0x1d75e0(0x41a)](0xc9)['json'](_0x26c323);})[_0x1898a3(0x763)](this[_0x1898a3(0x1e3)](_0x1898a3(0x384)),..._0x2a3cd5,async(_0x5decf8,_0x77c099)=>{const _0x1436a4=_0x1898a3;let _0x431550=await this[_0x1436a4(0x632)]({'request':_0x5decf8,'schema':ui,'ClassRef':mt,'execute':(_0x3a674e,_0x39759f)=>q[_0x1436a4(0x384)](_0x3a674e,_0x39759f)});_0x77c099['status'](0xc9)[_0x1436a4(0x579)](_0x431550);})[_0x1898a3(0x763)](this[_0x1898a3(0x1e3)](_0x1898a3(0x3a9)),..._0x2a3cd5,async(_0x5e1c18,_0x53ea6c)=>{const _0x51f45e=_0x1898a3;let _0x4fa0d9=await this['groupValidate']({'request':_0x5e1c18,'schema':pi,'ClassRef':wt,'execute':(_0x1c97c1,_0x4d5287)=>q[_0x51f45e(0x3a9)](_0x1c97c1,_0x4d5287)});_0x53ea6c[_0x51f45e(0x41a)](0xc9)['json'](_0x4fa0d9);})[_0x1898a3(0x763)](this[_0x1898a3(0x1e3)](_0x1898a3(0x2ca)),..._0x2a3cd5,async(_0x55105f,_0x45e5f3)=>{const _0x2eb778=_0x1898a3;let _0x653768=await this[_0x2eb778(0x632)]({'request':_0x55105f,'schema':di,'ClassRef':ft,'execute':(_0x4c684e,_0x41a8c0)=>q[_0x2eb778(0x2ca)](_0x4c684e,_0x41a8c0)});_0x45e5f3[_0x2eb778(0x41a)](0xc9)[_0x2eb778(0x579)](_0x653768);})[_0x1898a3(0x763)](this[_0x1898a3(0x1e3)](_0x1898a3(0x60b)),..._0x2a3cd5,async(_0x331047,_0x4c756b)=>{const _0x304a6f=_0x1898a3;let _0x283c2b=await this[_0x304a6f(0x632)]({'request':_0x331047,'schema':ni,'ClassRef':bt,'execute':(_0x32e788,_0x231633)=>q[_0x304a6f(0x60b)](_0x32e788,_0x231633)});_0x4c756b[_0x304a6f(0x41a)](0xc9)['json'](_0x283c2b);})[_0x1898a3(0x725)](this['routerPath'](_0x1898a3(0x41d)),..._0x2a3cd5,async(_0x5b0cfd,_0x1ca1ac)=>{const _0xc1d9eb=_0x1898a3;let _0x4d344c=await this[_0xc1d9eb(0x632)]({'request':_0x5b0cfd,'schema':De,'ClassRef':se,'execute':(_0x55313e,_0x4e3aa9)=>q[_0xc1d9eb(0x6d9)](_0x55313e,_0x4e3aa9)});_0x1ca1ac[_0xc1d9eb(0x41a)](0xc8)[_0xc1d9eb(0x579)](_0x4d344c);})[_0x1898a3(0x725)](this[_0x1898a3(0x1e3)](_0x1898a3(0x271)),..._0x2a3cd5,async(_0x3b21e2,_0xd7db39)=>{const _0x15e1b5=_0x1898a3;let _0x2054f8=await this[_0x15e1b5(0x7c4)]({'request':_0x3b21e2,'schema':N,'ClassRef':M,'execute':_0x554b70=>q[_0x15e1b5(0x271)](_0x554b70)});_0xd7db39[_0x15e1b5(0x41a)](0xc8)[_0x15e1b5(0x579)](_0x2054f8);})[_0x1898a3(0x725)](this[_0x1898a3(0x1e3)](_0x1898a3(0x507)),..._0x2a3cd5,async(_0x834364,_0x52a202)=>{const _0x503a6e=_0x1898a3;let _0x5e7adb=await this['groupValidate']({'request':_0x834364,'schema':De,'ClassRef':se,'execute':(_0x4c2fc8,_0x1bbd4a)=>q[_0x503a6e(0x233)](_0x4c2fc8,_0x1bbd4a)});_0x52a202[_0x503a6e(0x41a)](0xc8)[_0x503a6e(0x579)](_0x5e7adb);})['get'](this[_0x1898a3(0x1e3)](_0x1898a3(0x727)),..._0x2a3cd5,async(_0x2028b9,_0x2e1092)=>{const _0x23b23d=_0x1898a3;let _0x115c06=await this[_0x23b23d(0x632)]({'request':_0x2028b9,'schema':De,'ClassRef':se,'execute':(_0x390cad,_0x4470d9)=>q['inviteCode'](_0x390cad,_0x4470d9)});_0x2e1092[_0x23b23d(0x41a)](0xc8)['json'](_0x115c06);})[_0x1898a3(0x885)](this[_0x1898a3(0x1e3)](_0x1898a3(0x36e)),..._0x2a3cd5,async(_0x266deb,_0x2a5bae)=>{const _0x17d0c8=_0x1898a3;let _0x27a278=await this[_0x17d0c8(0x40f)]({'request':_0x266deb,'schema':Ns,'ClassRef':Pe,'execute':(_0x453d9c,_0x3ce037)=>q[_0x17d0c8(0x70e)](_0x453d9c,_0x3ce037)});_0x2a5bae['status'](0xc9)['json'](_0x27a278);})['put'](this[_0x1898a3(0x1e3)](_0x1898a3(0x7aa)),..._0x2a3cd5,async(_0x254f24,_0xbbd2e4)=>{const _0x26ccc5=_0x1898a3;let _0x2f45f6=await this['joinGroupValidate']({'request':_0x254f24,'schema':Ns,'ClassRef':Pe,'execute':(_0x3515b9,_0x13aa41)=>q[_0x26ccc5(0x7aa)](_0x3515b9,_0x13aa41)});_0xbbd2e4['status'](0xc9)[_0x26ccc5(0x579)](_0x2f45f6);})[_0x1898a3(0x763)](this[_0x1898a3(0x1e3)](_0x1898a3(0x57c)),..._0x2a3cd5,async(_0x3782ea,_0x12a1a4)=>{const _0x1bc06c=_0x1898a3;let _0x1ebd8b=await this[_0x1bc06c(0x632)]({'request':_0x3782ea,'schema':De,'ClassRef':se,'execute':(_0x5b7441,_0x4073f5)=>q[_0x1bc06c(0x57c)](_0x5b7441,_0x4073f5)});_0x12a1a4[_0x1bc06c(0x41a)](0xc9)[_0x1bc06c(0x579)](_0x1ebd8b);})[_0x1898a3(0x763)](this[_0x1898a3(0x1e3)]('updateParticipant'),..._0x2a3cd5,async(_0x6d6162,_0x690533)=>{const _0x605000=_0x1898a3;let _0x327e8a=await this[_0x605000(0x632)]({'request':_0x6d6162,'schema':ri,'ClassRef':yt,'execute':(_0x2eeca7,_0x4e5a73)=>q[_0x605000(0x480)](_0x2eeca7,_0x4e5a73)});_0x690533[_0x605000(0x41a)](0xc9)[_0x605000(0x579)](_0x327e8a);})['delete'](this[_0x1898a3(0x1e3)](_0x1898a3(0x58c)),..._0x2a3cd5,async(_0x3c2312,_0x5eadc9)=>{const _0x15ebf6=_0x1898a3;let _0x15ee13=await this[_0x15ebf6(0x632)]({'request':_0x3c2312,'schema':{},'ClassRef':se,'execute':(_0x7c4f5f,_0x15c316)=>q['leaveGroup'](_0x7c4f5f,_0x15c316)});_0x5eadc9[_0x15ebf6(0x41a)](0xc8)[_0x15ebf6(0x579)](_0x15ee13);});}},fi=require(a0_0x21bcc2(0x3eb)),Mt=class extends G{constructor(_0x5cf90f,..._0x152d94){const _0x1ff929=a0_0x21bcc2;super(),this[_0x1ff929(0x928)]=_0x5cf90f,this[_0x1ff929(0x3b2)]=(0x0,fi['Router'])();let _0x35644a=_0x5cf90f['get']('AUTHENTICATION');this[_0x1ff929(0x3b2)]['post']('/create',..._0x152d94,async(_0x15196e,_0x5a6d95)=>{const _0x4c25fd=_0x1ff929;let {instanceName:_0xbf8d91,apikey:_0x248e4a,number:_0x3bb24d}=_0x15196e[_0x4c25fd(0x6ad)],_0x2807f4=await pe[_0x4c25fd(0x8c4)]({'instanceName':_0xbf8d91,'apikey':_0x248e4a,'number':_0x3bb24d});return _0x5a6d95[_0x4c25fd(0x41a)](0xc9)[_0x4c25fd(0x579)](_0x2807f4);})[_0x1ff929(0x763)](this[_0x1ff929(0x1e3)]('restart'),..._0x152d94,async(_0x5b3d60,_0x31b81b)=>{const _0x4274e4=_0x1ff929;let _0x2c4c20=await this[_0x4274e4(0x7c4)]({'request':_0x5b3d60,'schema':N,'ClassRef':M,'execute':_0x2c3a3b=>pe['restartInstance'](_0x2c3a3b)});return _0x31b81b[_0x4274e4(0x41a)](0xc8)[_0x4274e4(0x579)](_0x2c4c20);})[_0x1ff929(0x725)](this[_0x1ff929(0x1e3)](_0x1ff929(0x2b8)),..._0x152d94,async(_0x15b242,_0x13f928)=>{const _0x31bb9b=_0x1ff929;let _0x5766b=await this[_0x31bb9b(0x7c4)]({'request':_0x15b242,'schema':N,'ClassRef':M,'execute':_0x447973=>pe[_0x31bb9b(0x28e)](_0x447973)});return _0x13f928[_0x31bb9b(0x41a)](0xc8)['json'](_0x5766b);})[_0x1ff929(0x725)](this[_0x1ff929(0x1e3)](_0x1ff929(0x689)),..._0x152d94,async(_0x48af02,_0x3f9460)=>{const _0x47f647=_0x1ff929;let _0x45164f=await this[_0x47f647(0x7c4)]({'request':_0x48af02,'schema':N,'ClassRef':M,'execute':_0x321ce3=>pe[_0x47f647(0x689)](_0x321ce3)});return _0x3f9460[_0x47f647(0x41a)](0xc8)[_0x47f647(0x579)](_0x45164f);})[_0x1ff929(0x725)](this[_0x1ff929(0x1e3)]('fetchInstances',!0x1),..._0x152d94,async(_0x17c3d9,_0x2295b5)=>{const _0x19a27f=_0x1ff929;let _0x27d33a=await this[_0x19a27f(0x7c4)]({'request':_0x17c3d9,'schema':null,'ClassRef':M,'execute':_0x4d3b43=>pe['fetchInstances'](_0x4d3b43)});return _0x2295b5[_0x19a27f(0x41a)](0xc8)[_0x19a27f(0x579)](_0x27d33a);})['delete'](this[_0x1ff929(0x1e3)](_0x1ff929(0x63f)),..._0x152d94,async(_0x2c41c7,_0x3118bf)=>{const _0x502245=_0x1ff929;let _0x1fadb2=await this['dataValidate']({'request':_0x2c41c7,'schema':N,'ClassRef':M,'execute':_0x4b6b9e=>pe[_0x502245(0x63f)](_0x4b6b9e)});return _0x3118bf[_0x502245(0x41a)](0xc8)[_0x502245(0x579)](_0x1fadb2);})[_0x1ff929(0x8b1)](this[_0x1ff929(0x1e3)](_0x1ff929(0x8b1)),..._0x152d94,async(_0x23efe9,_0x161803)=>{const _0x22d680=_0x1ff929;let _0x17ce85=await this[_0x22d680(0x7c4)]({'request':_0x23efe9,'schema':N,'ClassRef':M,'execute':_0xf4c655=>pe['deleteInstance'](_0xf4c655)});return _0x161803[_0x22d680(0x41a)](0xc8)[_0x22d680(0x579)](_0x17ce85);});}},wi=require(a0_0x21bcc2(0x3eb)),Rs=class{},z=class extends Rs{},Ct=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class extends z{},ke=class extends z{},$t=class extends z{},Rt=class extends z{},At=class extends z{},It=class extends z{},Tt=class extends z{},Ot=class{},_t=class extends G{constructor(..._0x19fa1d){const _0x318b52=a0_0x21bcc2;super(),this[_0x318b52(0x3b2)]=(0x0,wi[_0x318b52(0x691)])(),this['router'][_0x318b52(0x885)](this[_0x318b52(0x1e3)](_0x318b52(0x1fc)),..._0x19fa1d,async(_0xec122e,_0xdb8563)=>{const _0x130f28=_0x318b52;let _0x4e0803=await this[_0x130f28(0x7c4)]({'request':_0xec122e,'schema':Pa,'ClassRef':Ct,'execute':(_0x410d02,_0x144d2c)=>W[_0x130f28(0x1fc)](_0x410d02,_0x144d2c)});return _0xdb8563['status'](0xc9)[_0x130f28(0x579)](_0x4e0803);})[_0x318b52(0x885)](this['routerPath'](_0x318b52(0x78c)),..._0x19fa1d,async(_0x503a58,_0x4a28bf)=>{const _0x2fdfac=_0x318b52;let _0x2949c1=await this[_0x2fdfac(0x7c4)]({'request':_0x503a58,'schema':Ua,'ClassRef':ke,'execute':(_0x46c053,_0x5a40e8)=>W[_0x2fdfac(0x78c)](_0x46c053,_0x5a40e8)});return _0x4a28bf['status'](0xc9)[_0x2fdfac(0x579)](_0x2949c1);})[_0x318b52(0x885)](this[_0x318b52(0x1e3)](_0x318b52(0x919)),..._0x19fa1d,async(_0x208d0e,_0x5686e9)=>{const _0x315186=_0x318b52;let _0x3a2eff=await this[_0x315186(0x7c4)]({'request':_0x208d0e,'schema':qa,'ClassRef':Nt,'execute':(_0x4c5b32,_0x995ffd)=>W[_0x315186(0x919)](_0x4c5b32,_0x995ffd)});return _0x5686e9['status'](0xc9)['json'](_0x3a2eff);})[_0x318b52(0x885)](this[_0x318b52(0x1e3)]('sendWhatsAppAudio'),..._0x19fa1d,async(_0x51b142,_0x36186c)=>{const _0xddf758=_0x318b52;let _0x351f9a=await this[_0xddf758(0x7c4)]({'request':_0x51b142,'schema':ja,'ClassRef':ke,'execute':(_0x398e4a,_0x48cc9b)=>W[_0xddf758(0x864)](_0x398e4a,_0x48cc9b)});return _0x36186c['status'](0xc9)[_0xddf758(0x579)](_0x351f9a);})[_0x318b52(0x885)](this[_0x318b52(0x1e3)](_0x318b52(0x42b)),..._0x19fa1d,async(_0x5ba715,_0x15e025)=>{const _0x517936=_0x318b52;let _0x9759bc=await this[_0x517936(0x7c4)]({'request':_0x5ba715,'schema':Va,'ClassRef':Rt,'execute':(_0x1e1f87,_0x3b2ff9)=>W['sendButtons'](_0x1e1f87,_0x3b2ff9)});return _0x15e025['status'](0xc9)[_0x517936(0x579)](_0x9759bc);})['post'](this[_0x318b52(0x1e3)](_0x318b52(0x201)),..._0x19fa1d,async(_0x49289b,_0x19be56)=>{const _0x4202c8=_0x318b52;let _0x32c6f3=await this[_0x4202c8(0x7c4)]({'request':_0x49289b,'schema':Ga,'ClassRef':At,'execute':(_0x2f2f15,_0x4770ca)=>W[_0x4202c8(0x201)](_0x2f2f15,_0x4770ca)});return _0x19be56[_0x4202c8(0x41a)](0xc9)[_0x4202c8(0x579)](_0x32c6f3);})[_0x318b52(0x885)](this[_0x318b52(0x1e3)](_0x318b52(0x24d)),..._0x19fa1d,async(_0x463bff,_0xc31b6a)=>{const _0x172c29=_0x318b52;let _0x1aa3e9=await this[_0x172c29(0x7c4)]({'request':_0x463bff,'schema':Ba,'ClassRef':It,'execute':(_0x3bd4c0,_0x2a7774)=>W[_0x172c29(0x24d)](_0x3bd4c0,_0x2a7774)});return _0xc31b6a['status'](0xc9)[_0x172c29(0x579)](_0x1aa3e9);})[_0x318b52(0x885)](this[_0x318b52(0x1e3)]('sendContact'),..._0x19fa1d,async(_0x1f83e4,_0x5379da)=>{const _0xb3d922=_0x318b52;let _0x3a0363=await this[_0xb3d922(0x7c4)]({'request':_0x1f83e4,'schema':Wa,'ClassRef':Tt,'execute':(_0x291979,_0x5d0868)=>W[_0xb3d922(0x43c)](_0x291979,_0x5d0868)});return _0x5379da[_0xb3d922(0x41a)](0xc9)['json'](_0x3a0363);})[_0x318b52(0x885)](this[_0x318b52(0x1e3)](_0x318b52(0x2a1)),..._0x19fa1d,async(_0x342db6,_0x36435f)=>{const _0x226b59=_0x318b52;let _0x557d8b=await this['dataValidate']({'request':_0x342db6,'schema':za,'ClassRef':Ot,'execute':(_0x676d78,_0x36bb60)=>W[_0x226b59(0x2a1)](_0x676d78,_0x36bb60)});return _0x36435f['status'](0xc9)['json'](_0x557d8b);})[_0x318b52(0x885)](this['routerPath']('sendPoll'),..._0x19fa1d,async(_0x188fb3,_0x2be752)=>{const _0x2d6197=_0x318b52;let _0x5edde3=await this['dataValidate']({'request':_0x188fb3,'schema':Ja,'ClassRef':vt,'execute':(_0x5b6f50,_0x4f9eb0)=>W[_0x2d6197(0x5b2)](_0x5b6f50,_0x4f9eb0)});return _0x2be752[_0x2d6197(0x41a)](0xc9)['json'](_0x5edde3);})[_0x318b52(0x885)](this[_0x318b52(0x1e3)](_0x318b52(0x635)),..._0x19fa1d,async(_0x52f546,_0x1175be)=>{const _0xd193ff=_0x318b52;let _0x2b706e=await this[_0xd193ff(0x7c4)]({'request':_0x52f546,'schema':Fa,'ClassRef':Et,'execute':(_0x4f96dc,_0x73c143)=>W['sendStatus'](_0x4f96dc,_0x73c143)});return _0x1175be[_0xd193ff(0x41a)](0xc9)['json'](_0x2b706e);})['post'](this[_0x318b52(0x1e3)](_0x318b52(0x559)),..._0x19fa1d,async(_0x213f2c,_0x1fa3c0)=>{const _0x15b62e=_0x318b52;let _0x21dc9a=await this[_0x15b62e(0x7c4)]({'request':_0x213f2c,'schema':La,'ClassRef':$t,'execute':(_0x140959,_0x23e054)=>W[_0x15b62e(0x559)](_0x140959,_0x23e054)});return _0x1fa3c0[_0x15b62e(0x41a)](0xc9)[_0x15b62e(0x579)](_0x21dc9a);});}},yi=require(a0_0x21bcc2(0x3eb)),xt=class{},Dt=class extends G{constructor(..._0x4f8d58){const _0x3542bb=a0_0x21bcc2;super(),this['router']=(0x0,yi[_0x3542bb(0x691)])(),this['router'][_0x3542bb(0x885)](this[_0x3542bb(0x1e3)](_0x3542bb(0x212)),..._0x4f8d58,async(_0x27c0ee,_0xa8ec4e)=>{const _0x28fc3a=_0x3542bb;let _0x2e190d=await this[_0x28fc3a(0x7c4)]({'request':_0x27c0ee,'schema':hi,'ClassRef':xt,'execute':(_0x5ee2bf,_0x18fa5c)=>As[_0x28fc3a(0x784)](_0x5ee2bf,_0x18fa5c)});_0xa8ec4e['status'](0xc9)[_0x28fc3a(0x579)](_0x2e190d);})[_0x3542bb(0x725)](this[_0x3542bb(0x1e3)]('find'),..._0x4f8d58,async(_0x16b595,_0x11eba8)=>{const _0x435e1=_0x3542bb;let _0x1a94aa=await this[_0x435e1(0x7c4)]({'request':_0x16b595,'schema':N,'ClassRef':M,'execute':_0x31b591=>As['findWebhook'](_0x31b591)});_0x11eba8[_0x435e1(0x41a)](0xc8)[_0x435e1(0x579)](_0x1a94aa);});}},bi=require(a0_0x21bcc2(0x3eb)),y=new $(a0_0x21bcc2(0x283)),Pt=class extends G{constructor(..._0x19078e){const _0x318615=a0_0x21bcc2;super(),this['router']=(0x0,bi[_0x318615(0x691)])(),this[_0x318615(0x3b2)][_0x318615(0x885)](this['routerPath'](_0x318615(0x408)),..._0x19078e,async(_0x5d44b9,_0x3bc5b9)=>{const _0x49b28e=_0x318615;let _0x56c32e=_0x5d44b9[_0x49b28e(0x6ad)];y[_0x49b28e(0x78f)]('request\x20received\x20in\x20scheduleMessage'),y[_0x49b28e(0x78f)](_0x49b28e(0x816)),y[_0x49b28e(0x78f)](_0x5d44b9[_0x49b28e(0x6ad)]);let _0x15ea55=await this[_0x49b28e(0x7c4)]({'request':_0x5d44b9,'schema':N,'ClassRef':M,'execute':_0x445e41=>O['editScheduleMessage'](_0x445e41,_0x56c32e)});_0x3bc5b9[_0x49b28e(0x41a)](0xc8)['json'](_0x15ea55);})[_0x318615(0x725)](this['routerPath'](_0x318615(0x408)),..._0x19078e,async(_0xf02d56,_0xf57ba3)=>{const _0x241a08=_0x318615;let _0x2bfa7a=await this['dataValidate']({'request':_0xf02d56,'schema':N,'ClassRef':M,'execute':_0x5bf359=>O['getScheduleMessage'](_0x5bf359)});_0xf57ba3[_0x241a08(0x41a)](0xc8)[_0x241a08(0x579)](_0x2bfa7a);})[_0x318615(0x8b1)](this[_0x318615(0x1e3)](_0x318615(0x5f4)),..._0x19078e,async(_0x3781ca,_0x5ed2b4)=>{const _0x592b37=_0x318615;y[_0x592b37(0x78f)](_0x592b37(0x639));let _0x43cc33=await this[_0x592b37(0x7c4)]({'request':_0x3781ca,'schema':N,'ClassRef':M,'execute':_0x5e181f=>O['deleteDoneMessages'](_0x5e181f)});_0x5ed2b4[_0x592b37(0x41a)](0xc8)[_0x592b37(0x579)](_0x43cc33);})[_0x318615(0x885)](this[_0x318615(0x1e3)](_0x318615(0x652)),..._0x19078e,async(_0x4a6f61,_0x31664a)=>{const _0x3143c5=_0x318615;let _0x5bca60=_0x4a6f61[_0x3143c5(0x6ad)];y[_0x3143c5(0x78f)](_0x3143c5(0x796)),y[_0x3143c5(0x78f)](_0x3143c5(0x816)),y[_0x3143c5(0x78f)](_0x4a6f61[_0x3143c5(0x6ad)]);let _0x3f7625=await this[_0x3143c5(0x7c4)]({'request':_0x4a6f61,'schema':N,'ClassRef':M,'execute':_0x1fab7b=>O[_0x3143c5(0x652)](_0x1fab7b,_0x5bca60)});_0x31664a['status'](0xc8)[_0x3143c5(0x579)](_0x3f7625);})['get'](this[_0x318615(0x1e3)](_0x318615(0x27c)),..._0x19078e,async(_0x1b6e46,_0x48bc15)=>{const _0x22eaf3=_0x318615;y['verbose'](_0x22eaf3(0x373));let _0x4f3110=await this[_0x22eaf3(0x7c4)]({'request':_0x1b6e46,'schema':N,'ClassRef':M,'execute':_0xc535c9=>O['getAutomateSystem'](_0xc535c9)});_0x48bc15[_0x22eaf3(0x41a)](0xc8)[_0x22eaf3(0x579)](_0x4f3110);})[_0x318615(0x725)](this['routerPath'](_0x318615(0x695)),..._0x19078e,async(_0x549dee,_0x211172)=>{const _0x4f9d74=_0x318615;y[_0x4f9d74(0x78f)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x4cef52=await this[_0x4f9d74(0x7c4)]({'request':_0x549dee,'schema':N,'ClassRef':M,'execute':_0x187c1e=>O[_0x4f9d74(0x27c)](_0x187c1e)});_0x211172[_0x4f9d74(0x41a)](0xc8)[_0x4f9d74(0x579)](_0x4cef52);})['post'](this['routerPath'](_0x318615(0x8dc)),..._0x19078e,async(_0x46cc2e,_0x35f016)=>{const _0x2e3af3=_0x318615;let _0x5530c9=_0x46cc2e[_0x2e3af3(0x6ad)];y['verbose']('request\x20received\x20in\x20updateAgent'),y[_0x2e3af3(0x78f)](_0x2e3af3(0x816)),y[_0x2e3af3(0x78f)](_0x46cc2e[_0x2e3af3(0x6ad)]);let _0x48b530=await this['dataValidate']({'request':_0x46cc2e,'schema':N,'ClassRef':M,'execute':_0x5a93b8=>O['updateAgent'](_0x5a93b8,_0x5530c9)});_0x35f016[_0x2e3af3(0x41a)](0xc8)[_0x2e3af3(0x579)](_0x48b530);})[_0x318615(0x885)](this['routerPath'](_0x318615(0x3d9)),..._0x19078e,async(_0x32fadb,_0x3b4d3f)=>{const _0x5c9c0=_0x318615;let _0x20d963=_0x32fadb[_0x5c9c0(0x6ad)];y[_0x5c9c0(0x78f)]('request\x20received\x20in\x20updateCustomFields'),y['verbose'](_0x5c9c0(0x816)),y[_0x5c9c0(0x78f)](_0x32fadb[_0x5c9c0(0x6ad)]);let _0x341294=await this[_0x5c9c0(0x7c4)]({'request':_0x32fadb,'schema':N,'ClassRef':M,'execute':_0x536cff=>O[_0x5c9c0(0x3d9)](_0x536cff,_0x20d963)});_0x3b4d3f[_0x5c9c0(0x41a)](0xc8)[_0x5c9c0(0x579)](_0x341294);})['post'](this[_0x318615(0x1e3)](_0x318615(0x241)),..._0x19078e,async(_0x464d60,_0x133547)=>{const _0x3e2e98=_0x318615;let _0x2dc6ac=_0x464d60['body'];y[_0x3e2e98(0x78f)](_0x3e2e98(0x5af)),y[_0x3e2e98(0x78f)](_0x3e2e98(0x816)),y[_0x3e2e98(0x78f)](_0x464d60[_0x3e2e98(0x6ad)]);let _0x51a6d7=await this[_0x3e2e98(0x7c4)]({'request':_0x464d60,'schema':N,'ClassRef':M,'execute':_0x257768=>O[_0x3e2e98(0x241)](_0x257768,_0x2dc6ac)});_0x133547[_0x3e2e98(0x41a)](0xc8)[_0x3e2e98(0x579)](_0x51a6d7);})[_0x318615(0x885)](this['routerPath'](_0x318615(0x734)),..._0x19078e,async(_0xa5ac0e,_0xa0fc4e)=>{const _0x7a56f1=_0x318615;let _0x3fda23=_0xa5ac0e[_0x7a56f1(0x6ad)];y[_0x7a56f1(0x78f)]('request\x20received\x20in\x20updateFlowConfig'),y[_0x7a56f1(0x78f)](_0x7a56f1(0x816)),y[_0x7a56f1(0x78f)](_0xa5ac0e['body']);let _0x3d6be4=await this[_0x7a56f1(0x7c4)]({'request':_0xa5ac0e,'schema':N,'ClassRef':M,'execute':_0x41bffe=>O['updateFlowConfig'](_0x41bffe,_0x3fda23)});_0xa0fc4e['status'](0xc8)[_0x7a56f1(0x579)](_0x3d6be4);})[_0x318615(0x885)](this[_0x318615(0x1e3)](_0x318615(0x4ba)),..._0x19078e,async(_0x26712,_0x521f2d)=>{const _0x4e5eb3=_0x318615;let _0x39d06c=_0x26712[_0x4e5eb3(0x6ad)];y[_0x4e5eb3(0x78f)](_0x4e5eb3(0x4f2)),y[_0x4e5eb3(0x78f)]('request\x20body:\x20'),y[_0x4e5eb3(0x78f)](_0x26712[_0x4e5eb3(0x6ad)]);let _0x2ef7ff=await this[_0x4e5eb3(0x7c4)]({'request':_0x26712,'schema':N,'ClassRef':M,'execute':_0x45e412=>O[_0x4e5eb3(0x4ba)](_0x45e412,_0x39d06c)});_0x521f2d[_0x4e5eb3(0x41a)](0xc8)[_0x4e5eb3(0x579)](_0x2ef7ff);})[_0x318615(0x885)](this[_0x318615(0x1e3)](_0x318615(0x681)),..._0x19078e,async(_0xf5aa6b,_0xc23909)=>{const _0x1ccaa7=_0x318615;let _0x56ca12=_0xf5aa6b[_0x1ccaa7(0x6ad)];y[_0x1ccaa7(0x78f)](_0x1ccaa7(0x458)),y[_0x1ccaa7(0x78f)]('request\x20body:\x20'),y['verbose'](_0xf5aa6b['body']);let _0x1c41db=await this[_0x1ccaa7(0x7c4)]({'request':_0xf5aa6b,'schema':N,'ClassRef':M,'execute':_0x40cda8=>O[_0x1ccaa7(0x681)](_0x40cda8,_0x56ca12)});_0xc23909['status'](0xc8)[_0x1ccaa7(0x579)](_0x1c41db);})[_0x318615(0x885)](this[_0x318615(0x1e3)](_0x318615(0x54f)),..._0x19078e,async(_0x1cc866,_0x22a128)=>{const _0x60f328=_0x318615;let _0x2739cf=_0x1cc866[_0x60f328(0x6ad)];y[_0x60f328(0x78f)](_0x60f328(0x4f1)),y[_0x60f328(0x78f)](_0x60f328(0x816)),y[_0x60f328(0x78f)](_0x1cc866[_0x60f328(0x6ad)]);let _0x51eabf=await this[_0x60f328(0x7c4)]({'request':_0x1cc866,'schema':N,'ClassRef':M,'execute':_0x4ddca7=>O[_0x60f328(0x54f)](_0x4ddca7,_0x2739cf)});_0x22a128[_0x60f328(0x41a)](0xc8)['json'](_0x51eabf);})['delete'](this[_0x318615(0x1e3)](_0x318615(0x433)),..._0x19078e,async(_0x2d326a,_0x327f3d)=>{const _0x4af8c1=_0x318615;let _0x1d8430=_0x2d326a[_0x4af8c1(0x6ad)];y[_0x4af8c1(0x78f)]('request\x20received\x20in\x20deleteConversation'),y[_0x4af8c1(0x78f)](_0x4af8c1(0x816)),y[_0x4af8c1(0x78f)](_0x2d326a[_0x4af8c1(0x6ad)]);let _0x1a1426=await this[_0x4af8c1(0x7c4)]({'request':_0x2d326a,'schema':N,'ClassRef':M,'execute':_0x2d33b6=>O[_0x4af8c1(0x433)](_0x2d33b6,_0x1d8430)});_0x327f3d[_0x4af8c1(0x41a)](0xc8)[_0x4af8c1(0x579)](_0x1a1426);})[_0x318615(0x885)](this['routerPath'](_0x318615(0x4cf)),..._0x19078e,async(_0x53a732,_0x3fa558)=>{const _0x1b2d44=_0x318615;let _0xa2b562=_0x53a732[_0x1b2d44(0x6ad)],_0x206942=_0x53a732[_0x1b2d44(0x7d3)][_0x1b2d44(0x8c1)];y[_0x1b2d44(0x78f)](_0x1b2d44(0x46e)),y[_0x1b2d44(0x78f)]('request\x20body:\x20'),y[_0x1b2d44(0x78f)](_0x53a732[_0x1b2d44(0x6ad)]);let _0x1c8bfb=await this['dataValidate']({'request':_0x53a732,'schema':N,'ClassRef':M,'execute':_0x13dc7b=>O['createFlow'](_0x13dc7b,_0xa2b562,_0x206942)});_0x3fa558[_0x1b2d44(0x41a)](0xc8)[_0x1b2d44(0x579)](_0x1c8bfb);})[_0x318615(0x885)](this['routerPath']('editflow'),..._0x19078e,async(_0x3fff5d,_0x491132)=>{const _0x5b589c=_0x318615;let _0x597c30=_0x3fff5d[_0x5b589c(0x6ad)],_0x17b64b=_0x3fff5d[_0x5b589c(0x7d3)][_0x5b589c(0x8c1)];y[_0x5b589c(0x78f)](_0x5b589c(0x39c)),y['verbose']('request\x20body:\x20'),y[_0x5b589c(0x78f)](_0x3fff5d[_0x5b589c(0x6ad)]),delete _0x597c30['blocks'],delete _0x597c30['variables'],delete _0x597c30['groups'],delete _0x597c30[_0x5b589c(0x523)];let _0x1585c6=await this[_0x5b589c(0x7c4)]({'request':_0x3fff5d,'schema':N,'ClassRef':M,'execute':_0x15b092=>O[_0x5b589c(0x3bc)](_0x15b092,_0x597c30,_0x17b64b)});_0x491132[_0x5b589c(0x41a)](0xc8)[_0x5b589c(0x579)](_0x1585c6);})[_0x318615(0x885)](this[_0x318615(0x1e3)]('editflowblock'),..._0x19078e,async(_0x3ef5ac,_0x485e14)=>{const _0x37c085=_0x318615;let _0x581ce6=_0x3ef5ac[_0x37c085(0x6ad)];y['verbose'](_0x37c085(0x39c)),y[_0x37c085(0x78f)]('request\x20body:\x20'),y['verbose'](_0x3ef5ac[_0x37c085(0x6ad)]);let _0x226932=await this['dataValidate']({'request':_0x3ef5ac,'schema':N,'ClassRef':M,'execute':_0x408a84=>O[_0x37c085(0x4df)](_0x408a84,_0x581ce6)});_0x485e14[_0x37c085(0x41a)](0xc8)[_0x37c085(0x579)](_0x226932);})[_0x318615(0x885)](this[_0x318615(0x1e3)](_0x318615(0x6f7)),..._0x19078e,async(_0x41171c,_0x5e5b3b)=>{const _0x53a20a=_0x318615;let _0x1e581f=_0x41171c[_0x53a20a(0x6ad)];y[_0x53a20a(0x78f)]('request\x20received\x20in\x20editFlow'),y[_0x53a20a(0x78f)]('request\x20body:\x20'),y[_0x53a20a(0x78f)](_0x41171c['body']);let _0x318e1a=await this[_0x53a20a(0x7c4)]({'request':_0x41171c,'schema':N,'ClassRef':M,'execute':_0x47e8c1=>O[_0x53a20a(0x334)](_0x47e8c1,_0x1e581f)});_0x5e5b3b[_0x53a20a(0x41a)](0xc8)[_0x53a20a(0x579)](_0x318e1a);})[_0x318615(0x885)](this['routerPath'](_0x318615(0x48a)),..._0x19078e,async(_0x182eaa,_0x2329f7)=>{const _0x45cfb6=_0x318615;let _0xeb50a3=_0x182eaa[_0x45cfb6(0x6ad)];y[_0x45cfb6(0x78f)](_0x45cfb6(0x39c)),y[_0x45cfb6(0x78f)](_0x45cfb6(0x816)),y[_0x45cfb6(0x78f)](_0x182eaa[_0x45cfb6(0x6ad)]);let _0x4f7a66=await this[_0x45cfb6(0x7c4)]({'request':_0x182eaa,'schema':N,'ClassRef':M,'execute':_0x4512a1=>O[_0x45cfb6(0x5c3)](_0x4512a1,_0xeb50a3)});_0x2329f7[_0x45cfb6(0x41a)](0xc8)[_0x45cfb6(0x579)](_0x4f7a66);})[_0x318615(0x885)](this[_0x318615(0x1e3)](_0x318615(0x2f4)),..._0x19078e,async(_0x5417b8,_0x49a44c)=>{const _0x3930c6=_0x318615;let _0x115a1d=_0x5417b8[_0x3930c6(0x6ad)];y['verbose'](_0x3930c6(0x5c9)),y[_0x3930c6(0x78f)](_0x3930c6(0x816)),y[_0x3930c6(0x78f)](_0x5417b8['body']);let _0x3f6097=await this[_0x3930c6(0x7c4)]({'request':_0x5417b8,'schema':N,'ClassRef':M,'execute':_0x36f21a=>O['editFlowGroup'](_0x36f21a,_0x115a1d)});_0x49a44c[_0x3930c6(0x41a)](0xc8)[_0x3930c6(0x579)](_0x3f6097);})[_0x318615(0x885)](this[_0x318615(0x1e3)](_0x318615(0x8d2)),..._0x19078e,async(_0x17b29e,_0x4dc063)=>{const _0x760b57=_0x318615;let _0x3758a5=_0x17b29e[_0x760b57(0x6ad)];y[_0x760b57(0x78f)]('request\x20received\x20in\x20editFlowcondition'),y['verbose'](_0x760b57(0x816)),y[_0x760b57(0x78f)](_0x17b29e[_0x760b57(0x6ad)]);let _0x2a21bc=await this['dataValidate']({'request':_0x17b29e,'schema':N,'ClassRef':M,'execute':_0x5d886f=>O['editFlowCondition'](_0x5d886f,_0x3758a5)});_0x4dc063[_0x760b57(0x41a)](0xc8)[_0x760b57(0x579)](_0x2a21bc);})[_0x318615(0x885)](this[_0x318615(0x1e3)](_0x318615(0x82a)),..._0x19078e,async(_0x4f117f,_0x50b070)=>{const _0x478ce7=_0x318615;let _0x4a68a7=_0x4f117f[_0x478ce7(0x6ad)];y[_0x478ce7(0x78f)]('request\x20received\x20in\x20editFlowvariable'),y[_0x478ce7(0x78f)](_0x478ce7(0x816)),y[_0x478ce7(0x78f)](_0x4f117f[_0x478ce7(0x6ad)]);let _0x3bb641=await this[_0x478ce7(0x7c4)]({'request':_0x4f117f,'schema':N,'ClassRef':M,'execute':_0x249420=>O[_0x478ce7(0x35c)](_0x249420,_0x4a68a7)});_0x50b070[_0x478ce7(0x41a)](0xc8)[_0x478ce7(0x579)](_0x3bb641);})[_0x318615(0x885)](this[_0x318615(0x1e3)](_0x318615(0x398)),..._0x19078e,async(_0x482d2c,_0x558e71)=>{const _0x553db2=_0x318615;let _0x4a2024=_0x482d2c[_0x553db2(0x6ad)];y['verbose'](_0x553db2(0x5ad)),y[_0x553db2(0x78f)](_0x553db2(0x816)),y['verbose'](_0x482d2c['body']);let _0x2e1d5c=await this[_0x553db2(0x7c4)]({'request':_0x482d2c,'schema':N,'ClassRef':M,'execute':_0x4499c9=>O[_0x553db2(0x4fb)](_0x4499c9,_0x4a2024)});_0x558e71[_0x553db2(0x41a)](0xc8)[_0x553db2(0x579)](_0x2e1d5c);})[_0x318615(0x8b1)](this[_0x318615(0x1e3)](_0x318615(0x235)),..._0x19078e,async(_0x4c27ed,_0x16627a)=>{const _0x24dea8=_0x318615;let _0x237739=_0x4c27ed[_0x24dea8(0x6ad)];y['verbose'](_0x24dea8(0x851)),y['verbose'](_0x24dea8(0x816)),y[_0x24dea8(0x78f)](_0x4c27ed[_0x24dea8(0x6ad)]);let _0x4b8ac7=await this[_0x24dea8(0x7c4)]({'request':_0x4c27ed,'schema':N,'ClassRef':M,'execute':_0x4f771c=>O[_0x24dea8(0x377)](_0x4f771c,_0x237739)});_0x16627a['status'](0xc8)[_0x24dea8(0x579)](_0x4b8ac7);})[_0x318615(0x725)](this[_0x318615(0x1e3)](_0x318615(0x836)),..._0x19078e,async(_0x40c5d0,_0x3336de)=>{const _0x5acb81=_0x318615;y[_0x5acb81(0x78f)](_0x5acb81(0x717));let _0x520230=await this[_0x5acb81(0x7c4)]({'request':_0x40c5d0,'schema':N,'ClassRef':M,'execute':_0x20dd8f=>O[_0x5acb81(0x899)](_0x20dd8f)});_0x3336de[_0x5acb81(0x41a)](0xc8)[_0x5acb81(0x579)](_0x520230);});}},Ei=I(require('path')),ae={};function Si(_0x1ac759,_0x58f2e9,_0x26f360,_0x3f1e11){ae[_0x1ac759]||(ae[_0x1ac759]={}),ae[_0x1ac759][_0x58f2e9]={'id':_0x58f2e9,'response':_0x26f360,'events':_0x3f1e11};}function Mi(_0xc24e1c,_0x3a5e40){!ae[_0xc24e1c]||!ae[_0xc24e1c][_0x3a5e40]||delete ae[_0xc24e1c][_0x3a5e40];}function j(_0x24d586,_0x507cd5,_0x1a3a92){const _0x1d9c40=a0_0x21bcc2;if(!ae[_0x24d586])return;let _0x50c9fb=_0x1d9c40(0x1e0)+JSON[_0x1d9c40(0x261)](_0x1a3a92)+'\x0a\x0a';Object['values'](ae[_0x24d586])['forEach'](_0x55889b=>{const _0x413a80=_0x1d9c40;_0x55889b[_0x413a80(0x85a)][_0x413a80(0x587)](_0x507cd5)&&_0x55889b[_0x413a80(0x52a)][_0x413a80(0x891)](_0x50c9fb);});}function Ci(){const _0x1adc3e=a0_0x21bcc2;let _0x2308a2={};for(let _0x216872 in ae)_0x2308a2[_0x216872]=Object[_0x1adc3e(0x366)](ae[_0x216872])[_0x1adc3e(0x867)](_0x3784c7=>({'id':_0x3784c7['id'],'events':_0x3784c7[_0x1adc3e(0x85a)]}));return _0x2308a2;}var vi=require(a0_0x21bcc2(0x7b1)),Ts=require('mongoose'),Is=class{},Oo=new Ts[(a0_0x21bcc2(0x4e5))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),_o=new Ts[(a0_0x21bcc2(0x4e5))]({'_id':{'type':String,'default':a0_0x21bcc2(0x3f6)},'WebhookGlobal':{'type':Oo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=A?.[a0_0x21bcc2(0x873)](Is[a0_0x21bcc2(0x83e)],_o,a0_0x21bcc2(0x425)),xo=Ei[a0_0x21bcc2(0x7ac)]['join'](__dirname,'downloads'),Le=(0x0,kt['Router'])(),Do=S[a0_0x21bcc2(0x725)](a0_0x21bcc2(0x390))['TYPE'],ne=[Ia,Ta,xa[Do]];Le[a0_0x21bcc2(0x5ed)](a0_0x21bcc2(0x4c6),kt['default']['static'](xo))[a0_0x21bcc2(0x725)](a0_0x21bcc2(0x8a0),async(_0x4e6893,_0x1b1a37)=>{const _0x625648=a0_0x21bcc2;console[_0x625648(0x8b0)](_0x625648(0x349));let _0x4c9270=_0x4e6893['params'][_0x625648(0x5cb)],_0x2ae06e=(_0x4e6893[_0x625648(0x83d)][_0x625648(0x85a)]||'')[_0x625648(0x766)](','),_0x1cc61f=(0x0,vi['v4'])();console[_0x625648(0x8b0)](_0x625648(0x4fc),_0x4c9270),console['log'](_0x625648(0x2e2),_0x2ae06e);let _0x4de980=S[_0x625648(0x725)](_0x625648(0x390))['API_KEY'],_0x5e0e03=_0x4e6893[_0x625648(0x83d)][_0x625648(0x8c1)];if(console[_0x625648(0x8b0)](_0x625648(0x342),_0x5e0e03),_0x4de980[_0x625648(0x67f)]!==_0x5e0e03){console[_0x625648(0x8b0)](_0x625648(0x27a));try{let _0x87147f=await we[_0x625648(0x497)][_0x625648(0x68c)](_0x4c9270);if(console[_0x625648(0x8b0)](_0x625648(0x498),_0x87147f),!_0x87147f||_0x87147f[_0x625648(0x8c1)]!==_0x5e0e03)return console['log'](_0x625648(0x3b9)),_0x1b1a37[_0x625648(0x41a)](0x191)[_0x625648(0x65d)](_0x625648(0x200));}catch(_0x5e95aa){return console[_0x625648(0x2fe)](_0x625648(0x8f1),_0x5e95aa),_0x1b1a37[_0x625648(0x41a)](0x191)[_0x625648(0x65d)](_0x625648(0x750));}}if(!await _e(_0x4c9270))return _0x1b1a37[_0x625648(0x41a)](0x194)['send'](_0x625648(0x772));_0x1b1a37['setHeader'](_0x625648(0x4ea),_0x625648(0x8c0)),_0x1b1a37[_0x625648(0x4b3)]('Cache-Control',_0x625648(0x457)),_0x1b1a37['setHeader']('Connection',_0x625648(0x29c)),_0x1b1a37['flushHeaders']();let _0x40e3fa=_0x625648(0x1e0)+JSON[_0x625648(0x261)]({'info':_0x625648(0x34f)})+'\x0a\x0a';_0x1b1a37[_0x625648(0x891)](_0x40e3fa),Si(_0x4c9270,_0x1cc61f,_0x1b1a37,_0x2ae06e),_0x4e6893['on'](_0x625648(0x59f),()=>{const _0x3f80fe=_0x625648;console[_0x3f80fe(0x8b0)](_0x3f80fe(0x5c2)+_0x4c9270),Mi(_0x4c9270,_0x1cc61f);});}),Le[a0_0x21bcc2(0x885)]('/startFlow/:instance/:startID',async(_0x2afc7c,_0x3dd3e3)=>{const _0x1f6671=a0_0x21bcc2;console[_0x1f6671(0x8b0)](_0x1f6671(0x57b));let _0x341079=_0x2afc7c[_0x1f6671(0x28f)][_0x1f6671(0x5cb)],_0x2c3b44=_0x2afc7c[_0x1f6671(0x28f)][_0x1f6671(0x87a)],_0x45e9ed=_0x2afc7c['query'][_0x1f6671(0x2c7)]||'',_0x46d42e=_0x2afc7c['body'];console[_0x1f6671(0x8b0)](_0x1f6671(0x4b9),_0x341079),console[_0x1f6671(0x8b0)](_0x1f6671(0x8be),_0x2c3b44),console[_0x1f6671(0x8b0)]('RemoteJid:',_0x45e9ed),console[_0x1f6671(0x8b0)](_0x1f6671(0x3f7),_0x46d42e);try{if(!await _e(_0x341079))return _0x3dd3e3[_0x1f6671(0x41a)](0x194)[_0x1f6671(0x65d)](_0x1f6671(0x772));let _0x574523=await O[_0x1f6671(0x515)](_0x341079,_0x2c3b44,_0x45e9ed,_0x46d42e);_0x3dd3e3[_0x1f6671(0x65d)](_0x574523);}catch(_0x5cd0b8){console[_0x1f6671(0x2fe)](_0x5cd0b8),_0x3dd3e3[_0x1f6671(0x41a)](0x1f4)[_0x1f6671(0x65d)](_0x1f6671(0x912));}}),Le['get'](a0_0x21bcc2(0x465),(_0x92e947,_0x4dec4d)=>{const _0x3834e4=a0_0x21bcc2;let _0x3a9d09=Ci();_0x4dec4d[_0x3834e4(0x579)](_0x3a9d09);})[a0_0x21bcc2(0x725)]('/',(_0x922b6f,_0x3b9b15)=>{const _0xfc49ad=a0_0x21bcc2;let _0x33db4c=S[_0xfc49ad(0x725)]('SERVER')[_0xfc49ad(0x43b)];if(_0x33db4c){let _0x584023=encodeURIComponent(''+_0x33db4c);_0x3b9b15[_0xfc49ad(0x4b0)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x584023);return;}let _0x3d40e1=S[_0xfc49ad(0x725)](_0xfc49ad(0x6fd)),_0xf7f33e=_0x3d40e1&&_0x3d40e1['FULLCHAIN'][_0xfc49ad(0x766)]('/')[0x4];if(_0xf7f33e){let _0x48458f=encodeURIComponent(_0xfc49ad(0x55f)+_0xf7f33e);_0x3b9b15[_0xfc49ad(0x4b0)](_0xfc49ad(0x396)+_0x48458f);}else _0x3b9b15[_0xfc49ad(0x4b0)](_0xfc49ad(0x5b8));})['put'](a0_0x21bcc2(0x39f),...ne,async(_0x27170a,_0x36c13f)=>{const _0x11753c=a0_0x21bcc2;try{console[_0x11753c(0x8b0)](_0x11753c(0x3a5)),_0x36c13f['status'](0xc8)['json']({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x36c13f['on'](_0x11753c(0x917),()=>process[_0x11753c(0x860)](0x0));}catch(_0x1aa21b){console[_0x11753c(0x2fe)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x1aa21b),_0x36c13f[_0x11753c(0x41a)](0x1f4)[_0x11753c(0x579)]({'message':_0x11753c(0x417)});}})[a0_0x21bcc2(0x763)](a0_0x21bcc2(0x6ee),...ne,async(_0x12d0ee,_0x58872b)=>{const _0x47da34=a0_0x21bcc2;try{let _0x335cb0=_0x12d0ee[_0x47da34(0x6ad)];await ve[_0x47da34(0x4f3)]({},{'$set':_0x335cb0},{'upsert':!0x0});let _0x338835=await ve[_0x47da34(0x7db)]();_0x58872b[_0x47da34(0x579)](_0x338835);}catch(_0x158bbf){_0x58872b[_0x47da34(0x41a)](0x190)[_0x47da34(0x65d)](_0x158bbf[_0x47da34(0x4a8)]);}})['get'](a0_0x21bcc2(0x6ee),...ne,async(_0x349456,_0x109bbe)=>{const _0x2ae2c7=a0_0x21bcc2;try{let _0x15e917=await ve[_0x2ae2c7(0x7db)]();if(!_0x15e917)return _0x109bbe['json']({});_0x109bbe[_0x2ae2c7(0x579)](_0x15e917);}catch(_0x1919c7){_0x109bbe[_0x2ae2c7(0x41a)](0x1f4)[_0x2ae2c7(0x65d)](_0x1919c7[_0x2ae2c7(0x4a8)]);}})['use'](a0_0x21bcc2(0x527),new Mt(S,...ne)[a0_0x21bcc2(0x3b2)])[a0_0x21bcc2(0x5ed)](a0_0x21bcc2(0x878),new _t(...ne)[a0_0x21bcc2(0x3b2)])[a0_0x21bcc2(0x5ed)](a0_0x21bcc2(0x886),new dt(...ne)[a0_0x21bcc2(0x3b2)])['use'](a0_0x21bcc2(0x337),new St(...ne)['router'])[a0_0x21bcc2(0x5ed)](a0_0x21bcc2(0x83c),new Dt(...ne)[a0_0x21bcc2(0x3b2)])['use'](a0_0x21bcc2(0x870),new Pt(...ne)[a0_0x21bcc2(0x3b2)]);var m=class{constructor(..._0x23861d){const _0x5108a7=a0_0x21bcc2;throw{'status':0x190,'error':_0x5108a7(0x397),'message':_0x23861d['length']>0x0?_0x23861d:void 0x0};}},re=class{constructor(..._0x5a6779){const _0x342d32=a0_0x21bcc2;throw{'status':0x191,'error':'Unauthorized','message':_0x5a6779[_0x342d32(0x7be)]>0x0?_0x5a6779:void 0x0};}},ee=class{constructor(..._0x22bee5){const _0xc1f410=a0_0x21bcc2;throw{'status':0x193,'error':_0xc1f410(0x73b),'message':_0x22bee5[_0xc1f410(0x7be)]>0x0?_0x22bee5:void 0x0};}},J=class{constructor(..._0x366f43){const _0x5f5bc6=a0_0x21bcc2;throw{'status':0x194,'error':_0x5f5bc6(0x211),'message':_0x366f43[_0x5f5bc6(0x7be)]>0x0?_0x366f43:void 0x0};}},x=class{constructor(..._0x5f4427){const _0x11bd8a=a0_0x21bcc2;throw{'status':0x1f4,'error':_0x11bd8a(0x407),'message':_0x5f4427['length']>0x0?_0x5f4427:void 0x0};}},ye=require(a0_0x21bcc2(0x8ce));async function Os(_0x402339){const _0x36fc47=a0_0x21bcc2;let _0x5aafe3=new $(Os[_0x36fc47(0x83e)]),_0x5ab69c=A['getClient'](),_0x4f835f=_0x5ab69c['db'](S[_0x36fc47(0x725)](_0x36fc47(0x304))[_0x36fc47(0x80c)]['DB_PREFIX_NAME']+_0x36fc47(0x1f9))[_0x36fc47(0x620)](_0x402339),_0x476ee4=async(_0x30987b,_0x34cdc5)=>{const _0x4c9d8e=_0x36fc47;try{return await _0x5ab69c[_0x4c9d8e(0x2b8)](),await _0x4f835f[_0x4c9d8e(0x6f4)]({'_id':_0x34cdc5},JSON[_0x4c9d8e(0x80f)](JSON[_0x4c9d8e(0x261)](_0x30987b,ye[_0x4c9d8e(0x7d7)][_0x4c9d8e(0x583)])),{'upsert':!0x0});}catch{}},_0x22249a=async _0x599dc1=>{const _0x240371=_0x36fc47;try{await _0x5ab69c[_0x240371(0x2b8)]();let _0x1239f2=await _0x4f835f[_0x240371(0x7db)]({'_id':_0x599dc1}),_0xddc7c2=JSON[_0x240371(0x261)](_0x1239f2);return JSON[_0x240371(0x80f)](_0xddc7c2,ye[_0x240371(0x7d7)]['reviver']);}catch{}},_0x52895f=async _0xc4014=>{const _0x20a4c0=_0x36fc47;try{return await _0x5ab69c[_0x20a4c0(0x2b8)](),await _0x4f835f[_0x20a4c0(0x61c)]({'_id':_0xc4014});}catch{}},_0x53388a=await _0x22249a(_0x36fc47(0x7d0))||(0x0,ye[_0x36fc47(0x314)])();return{'state':{'creds':_0x53388a,'keys':{'get':async(_0x132fce,_0x1cdd83)=>{const _0x15482f=_0x36fc47;let _0x4c2dbd={};return await Promise[_0x15482f(0x3ec)](_0x1cdd83[_0x15482f(0x867)](async _0x428aa0=>{const _0x4496d0=_0x15482f;let _0x308f25=await _0x22249a(_0x132fce+'-'+_0x428aa0);_0x132fce===_0x4496d0(0x73a)&&_0x308f25&&(_0x308f25=ye[_0x4496d0(0x64b)][_0x4496d0(0x2c0)]['AppStateSyncKeyData'][_0x4496d0(0x2e8)](_0x308f25)),_0x4c2dbd[_0x428aa0]=_0x308f25;})),_0x4c2dbd;},'set':async _0x3b284e=>{const _0x5316c6=_0x36fc47;let _0x53e426=[];for(let _0x16d7a9 in _0x3b284e)for(let _0x23146f in _0x3b284e[_0x16d7a9]){let _0x460e13=_0x3b284e[_0x16d7a9][_0x23146f],_0xe5f020=_0x16d7a9+'-'+_0x23146f;_0x53e426[_0x5316c6(0x2ea)](_0x460e13?_0x476ee4(_0x460e13,_0xe5f020):_0x52895f(_0xe5f020));}await Promise['all'](_0x53e426);}}},'saveCreds':async()=>_0x476ee4(_0x53388a,_0x36fc47(0x7d0))};}var ks=I(require(a0_0x21bcc2(0x50f))),Ls=I(require(a0_0x21bcc2(0x6a9))),Ut=require(a0_0x21bcc2(0x8ce)),Ni=require('@redis/client'),Ft=require(a0_0x21bcc2(0x8ce)),Lt;function Po(_0x199b1c){const _0x11c29b=a0_0x21bcc2;return Lt||(Lt=(0x0,Ni[_0x11c29b(0x702)])({'url':_0x199b1c[_0x11c29b(0x90a)]}),Lt[_0x11c29b(0x2b8)]()),Lt;}var he=class l{constructor(_0x287536,_0x18537c){const _0x471631=a0_0x21bcc2;this[_0x471631(0x76c)]=_0x287536,this[_0x471631(0x86d)]=_0x18537c,this[_0x471631(0x74f)]=new $(l[_0x471631(0x83e)]),this['client']=Po(_0x287536);}set[a0_0x21bcc2(0x833)](_0x3cfe2d){const _0x232c9b=a0_0x21bcc2;this[_0x232c9b(0x86d)]=_0x3cfe2d;}async[a0_0x21bcc2(0x45a)](){const _0xb5c140=a0_0x21bcc2;try{return await this[_0xb5c140(0x2cd)]['sendCommand']([_0xb5c140(0x4ac),this[_0xb5c140(0x76c)]['PREFIX_KEY']+':*']);}catch(_0x51d455){this[_0xb5c140(0x74f)][_0xb5c140(0x2fe)](_0x51d455);}}async[a0_0x21bcc2(0x900)](_0x59c65b,_0x2543dd){const _0x355102=a0_0x21bcc2;try{let _0x174a1e=JSON['stringify'](_0x2543dd,Ft[_0x355102(0x7d7)][_0x355102(0x583)]);return await this[_0x355102(0x2cd)][_0x355102(0x3aa)](this[_0x355102(0x76c)][_0x355102(0x2b5)]+':'+this[_0x355102(0x86d)],_0x59c65b,_0x174a1e);}catch(_0x219b59){this['logger'][_0x355102(0x2fe)](_0x219b59);}}async[a0_0x21bcc2(0x502)](){const _0x318a04=a0_0x21bcc2;try{let _0x35e3c1=await this['client'][_0x318a04(0x8b9)](this[_0x318a04(0x76c)][_0x318a04(0x2b5)]+':'+this[_0x318a04(0x86d)]);if(_0x35e3c1){for(let _0x806b56 in _0x35e3c1)Object['prototype'][_0x318a04(0x36f)][_0x318a04(0x624)](_0x35e3c1,_0x806b56)&&(_0x35e3c1[_0x806b56]=JSON[_0x318a04(0x80f)](_0x35e3c1[_0x806b56],Ft['BufferJSON'][_0x318a04(0x20f)]));return _0x35e3c1;}}catch(_0x2c3f3c){this[_0x318a04(0x74f)][_0x318a04(0x2fe)](_0x2c3f3c);}}async['readData'](_0x383000){const _0x380ba7=a0_0x21bcc2;try{let _0x1064a6=await this[_0x380ba7(0x2cd)][_0x380ba7(0x8d1)](this[_0x380ba7(0x76c)]['PREFIX_KEY']+':'+this[_0x380ba7(0x86d)],_0x383000);if(_0x1064a6)return JSON[_0x380ba7(0x80f)](_0x1064a6,Ft[_0x380ba7(0x7d7)][_0x380ba7(0x20f)]);}catch(_0x3b320b){this[_0x380ba7(0x74f)]['error'](_0x3b320b);}}async[a0_0x21bcc2(0x1e4)](_0x4e76bc){const _0x1cf526=a0_0x21bcc2;try{return await this[_0x1cf526(0x2cd)][_0x1cf526(0x60f)](this[_0x1cf526(0x76c)][_0x1cf526(0x2b5)]+':'+this['instanceName'],_0x4e76bc);}catch(_0x5540f0){this[_0x1cf526(0x74f)]['error'](_0x5540f0);}}async[a0_0x21bcc2(0x3d5)](_0x45a086){const _0x2534b2=a0_0x21bcc2;try{return await this[_0x2534b2(0x2cd)][_0x2534b2(0x440)](_0x45a086||this[_0x2534b2(0x76c)]['PREFIX_KEY']+':'+this['instanceName']);}catch(_0x12056d){this[_0x2534b2(0x74f)][_0x2534b2(0x2fe)](_0x12056d);}}};async function _s(_0x40876a,_0x3e4612){const _0x2334c7=a0_0x21bcc2;let _0x5c18f7=new $(_s['name']),_0x30c52a=new he(_0x40876a,_0x3e4612),_0x4fd172=async(_0x5c4d2d,_0x1c85b0)=>{const _0x714dbe=a0_0x4215;try{return await _0x30c52a[_0x714dbe(0x900)](_0x1c85b0,_0x5c4d2d);}catch(_0x2159b3){return _0x5c18f7['error']({'localError':_0x714dbe(0x900),'error':_0x2159b3});}},_0x4f18ea=async _0x3d8db4=>{const _0x27c5e2=a0_0x4215;try{return await _0x30c52a[_0x27c5e2(0x486)](_0x3d8db4);}catch(_0x2e66db){_0x5c18f7[_0x27c5e2(0x2fe)]({'readData':'writeData','error':_0x2e66db});return;}},_0x372c56=async _0xb28f28=>{const _0x3af134=a0_0x4215;try{return await _0x30c52a['removeData'](_0xb28f28);}catch(_0x14847c){_0x5c18f7[_0x3af134(0x2fe)]({'readData':_0x3af134(0x1e4),'error':_0x14847c});}},_0x219f0c=await _0x4f18ea('creds')||(0x0,Ut['initAuthCreds'])();return{'state':{'creds':_0x219f0c,'keys':{'get':async(_0x5f2603,_0x2b97d9)=>{const _0x900c49=a0_0x4215;let _0x3c9be1={};return await Promise[_0x900c49(0x3ec)](_0x2b97d9[_0x900c49(0x867)](async _0x48e076=>{const _0x3a3fa7=_0x900c49;let _0x536bbc=await _0x4f18ea(_0x5f2603+'-'+_0x48e076);_0x5f2603==='app-state-sync-key'&&_0x536bbc&&(_0x536bbc=Ut['proto']['Message'][_0x3a3fa7(0x27e)]['fromObject'](_0x536bbc)),_0x3c9be1[_0x48e076]=_0x536bbc;})),_0x3c9be1;},'set':async _0x602ab8=>{const _0x42f4ab=a0_0x4215;let _0x1f02c2=[];for(let _0x4ce6be in _0x602ab8)for(let _0x10bb06 in _0x602ab8[_0x4ce6be]){let _0x4015b0=_0x602ab8[_0x4ce6be][_0x10bb06],_0x1169fb=_0x4ce6be+'-'+_0x10bb06;_0x1f02c2[_0x42f4ab(0x2ea)](_0x4015b0?await _0x4fd172(_0x4015b0,_0x1169fb):await _0x372c56(_0x1169fb));}await Promise['all'](_0x1f02c2);}}},'saveCreds':async()=>await _0x4fd172(_0x219f0c,_0x2334c7(0x7d0))};}var L=I(require('fs')),X=require(a0_0x21bcc2(0x7b1)),qt=I(require(a0_0x21bcc2(0x8c7))),Vt=require('crypto'),$i=require(a0_0x21bcc2(0x8f2)),Ri=require(a0_0x21bcc2(0x3d6)),Ai=I(require(a0_0x21bcc2(0x2a2))),Ne=class extends _{constructor(_0x2690cd,_0x387c64,_0x459fa8){const _0x3fbc51=a0_0x21bcc2;super(_0x387c64),this[_0x3fbc51(0x6fb)]=_0x2690cd,this[_0x3fbc51(0x928)]=_0x387c64,this[_0x3fbc51(0x5ea)]=_0x459fa8;}async[a0_0x21bcc2(0x2c2)](_0x40e86f,_0x51475c){const _0x686886=a0_0x21bcc2;try{if(this[_0x686886(0x83a)][_0x686886(0x7bc)]){console[_0x686886(0x8b0)](_0x686886(0x478)+_0x51475c+_0x686886(0x4e4),_0x40e86f);let _0x46db5a=await this['cacheInstanceModel'][_0x686886(0x814)]({'_id':_0x51475c},{'$set':_0x40e86f},{'new':!0x0,'upsert':!0x0});return console[_0x686886(0x8b0)](_0x686886(0x7bd),_0x46db5a),_0x46db5a;}}catch(_0x117f8c){throw console['error'](_0x686886(0x7a1),_0x117f8c),_0x117f8c;}return null;}async[a0_0x21bcc2(0x61c)](_0x504a70){const _0x3969a0=a0_0x21bcc2;try{let _0x1085f0=T(_0x504a70[_0x3969a0(0x742)]);return{'deletedCount':(await this['cacheInstanceModel'][_0x3969a0(0x61c)](_0x1085f0))['deletedCount']};}catch(_0x4fca9e){return{'error':_0x4fca9e?.[_0x3969a0(0x929)]()};}}async[a0_0x21bcc2(0x7db)](_0x37db85){const _0x5b2900=a0_0x21bcc2;try{let _0x15156d=T(_0x37db85['where']);return await this['cacheInstanceModel'][_0x5b2900(0x7db)](_0x15156d)['lean']();}catch{return null;}}},jt=(0x0,Ri[a0_0x21bcc2(0x837)])($i[a0_0x21bcc2(0x8b3)]),ko=S['get'](a0_0x21bcc2(0x282)),xs=class{constructor(){const _0x95ab18=a0_0x21bcc2;this[_0x95ab18(0x86b)]=new Ne(He,S),(!this[_0x95ab18(0x3e0)]||!this[_0x95ab18(0x5ac)])&&ko&&this['detectIPv6PrefixAndInterface']()['then'](()=>{const _0x21e409=_0x95ab18;console['log'](_0x21e409(0x88f)+this[_0x21e409(0x3e0)]),console[_0x21e409(0x8b0)](_0x21e409(0x654)+this[_0x21e409(0x5ac)]);})[_0x95ab18(0x448)](_0x42c650=>{const _0x2913e4=_0x95ab18;console[_0x2913e4(0x2fe)](_0x2913e4(0x7f9)+_0x42c650[_0x2913e4(0x4a8)]);});}async[a0_0x21bcc2(0x450)](){const _0x3d9882=a0_0x21bcc2;try{let {stdout:_0x53f8db}=await jt(_0x3d9882(0x22e));console['log'](_0x3d9882(0x8c2)+_0x53f8db);let _0x5f48dd=_0x53f8db[_0x3d9882(0x766)]('\x0a')[_0x3d9882(0x867)](_0x453cbc=>_0x453cbc[_0x3d9882(0x766)]('\x20')[0x0])['filter'](_0x16524f=>!_0x16524f[_0x3d9882(0x587)]('lo')&&!_0x16524f['includes'](_0x3d9882(0x3ce))&&!_0x16524f[_0x3d9882(0x587)](_0x3d9882(0x2da))&&!_0x16524f[_0x3d9882(0x587)]('wl')&&!_0x16524f['includes']('@'));if(console['log']('Filtered\x20network\x20interfaces:\x20'+_0x5f48dd),_0x5f48dd['length']===0x0)throw new Error(_0x3d9882(0x3b6));this['networkInterface']=_0x5f48dd[0x0];let {stdout:_0x4a1337}=await jt('ip\x20-6\x20addr\x20show\x20dev\x20'+this[_0x3d9882(0x5ac)]);console[_0x3d9882(0x8b0)](_0x3d9882(0x729)+_0x4a1337);let _0x4f55f3=_0x4a1337[_0x3d9882(0x766)]('\x0a')[_0x3d9882(0x68c)](_0x4ee9f2=>_0x4ee9f2[_0x3d9882(0x587)](_0x3d9882(0x7b3))&&_0x4ee9f2[_0x3d9882(0x587)](_0x3d9882(0x2e0)));if(!_0x4f55f3)throw new Error(_0x3d9882(0x557));let _0x1cfeb1=_0x4f55f3[_0x3d9882(0x2e9)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x1cfeb1)throw new Error(_0x3d9882(0x4d3));let [_0x6599c0,_0x39aab1,_0x3f60c4]=_0x1cfeb1,_0x3ac04e=Math[_0x3d9882(0x921)](Number(_0x3f60c4)/0x10),_0x5d6375=Number(_0x3f60c4)%0x10,_0x40cc83=_0x39aab1[_0x3d9882(0x766)](':')['slice'](0x0,_0x3ac04e)[_0x3d9882(0x720)](':');if(_0x5d6375>0x0){let _0x4d89f7=_0x39aab1[_0x3d9882(0x766)](':')[_0x3ac04e],_0x3256f3=0xffff<<0x10-_0x5d6375&0xffff,_0x56435a=(parseInt(_0x4d89f7,0x10)&_0x3256f3)[_0x3d9882(0x929)](0x10)[_0x3d9882(0x897)](0x4,'0');_0x40cc83+=':'+_0x56435a;}this[_0x3d9882(0x3e0)]=_0x40cc83+':';}catch(_0x5ab485){console[_0x3d9882(0x2fe)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:',_0x5ab485);}}async['configureIPv6'](_0x33b016){const _0x1916a1=a0_0x21bcc2;let _0x58af8a=_0x1916a1(0x1df)+_0x33b016+_0x1916a1(0x3a0)+this[_0x1916a1(0x5ac)];try{await jt(_0x58af8a),console['log'](_0x1916a1(0x703)+_0x33b016);}catch(_0x2e799f){throw console['error'](_0x1916a1(0x879)+_0x2e799f),new Error(_0x1916a1(0x879)+_0x2e799f);}}async[a0_0x21bcc2(0x7cf)](_0x3a7067){const _0x1b74ba=a0_0x21bcc2;let _0xfe231c=_0x1b74ba(0x24b)+_0x3a7067+_0x1b74ba(0x3a0)+this[_0x1b74ba(0x5ac)];try{await jt(_0xfe231c),console[_0x1b74ba(0x8b0)](_0x1b74ba(0x790)+_0x3a7067);}catch(_0x3a6903){throw console['error'](_0x1b74ba(0x840)+_0x3a6903),new Error(_0x1b74ba(0x840)+_0x3a6903);}}['randomMac'](){const _0x5cd8a0=a0_0x21bcc2;return _0x5cd8a0(0x8f9)[_0x5cd8a0(0x243)](/X/g,()=>_0x5cd8a0(0x85b)[_0x5cd8a0(0x4a7)](Math['floor'](Math[_0x5cd8a0(0x4ec)]()*0x10)));}[a0_0x21bcc2(0x285)](_0x234549,_0xc4cf20){const _0x5203e6=a0_0x21bcc2;let _0x5aef60=_0xc4cf20[_0x5203e6(0x766)](':');return _0x5aef60[0x0]=(parseInt(_0x5aef60[0x0],0x10)^0x2)['toString'](0x10)[_0x5203e6(0x897)](0x2,'0'),''+_0x234549+_0x5aef60[0x0]+_0x5aef60[0x1]+':'+_0x5aef60[0x2]+_0x5203e6(0x683)+_0x5aef60[0x3]+':'+_0x5aef60[0x4]+_0x5aef60[0x5];}[a0_0x21bcc2(0x3e1)](){const _0x3b64de=a0_0x21bcc2;let _0x5b5d50=this['ipv6Prefix'];_0x5b5d50[_0x3b64de(0x868)](':')||(_0x5b5d50+=':');let _0x8777a8=this['randomMac']();return this['ip6eui'](_0x5b5d50,_0x8777a8);}[a0_0x21bcc2(0x854)](_0x1371a6){const _0x276d44=a0_0x21bcc2;return new RegExp(_0x276d44(0x3b8))[_0x276d44(0x746)](_0x1371a6);}async[a0_0x21bcc2(0x2e4)](_0x3f23b2){const _0xb49305=a0_0x21bcc2;let _0x402465=[{'url':_0xb49305(0x504),'parse':_0x35a28e=>_0x35a28e['ip']},{'url':'https://api64.ipify.org?format=json','parse':_0x5e9d7d=>_0x5e9d7d['ip']},{'url':'https://ifconfig.me/ip','parse':_0x510120=>_0x510120[_0xb49305(0x57a)]()},{'url':_0xb49305(0x618),'parse':_0x222509=>_0x222509[_0xb49305(0x57a)]()}],_0x3bd7a3=_0x402465[Math[_0xb49305(0x921)](Math[_0xb49305(0x4ec)]()*_0x402465[_0xb49305(0x7be)])];try{let _0x3e1713=await Ai['default'][_0xb49305(0x725)](_0x3bd7a3['url'],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x3f23b2}}),_0x2de26b=_0x3bd7a3[_0xb49305(0x80f)](_0x3e1713['data']);return _0x2de26b[_0xb49305(0x91b)]()===_0x3f23b2[_0xb49305(0x91b)]()?(console[_0xb49305(0x8b0)](_0xb49305(0x7b9)+_0x3f23b2),!0x0):(console[_0xb49305(0x2fe)]('IP\x20mismatch:\x20configured\x20'+_0x3f23b2+',\x20received\x20'+_0x2de26b),!0x1);}catch(_0x19bd0d){return console[_0xb49305(0x2fe)](_0xb49305(0x6de)+_0x3bd7a3[_0xb49305(0x6df)]+':\x20'+_0x19bd0d['message']),!0x1;}}async[a0_0x21bcc2(0x2b9)](_0x4e9d6a,_0x51d534){const _0x4e8cec=a0_0x21bcc2;if(!this[_0x4e8cec(0x3e0)]||!this['networkInterface'])return console['error'](_0x4e8cec(0x21e)),null;let _0x587d32;do _0x587d32=this[_0x4e8cec(0x3e1)](),console[_0x4e8cec(0x8b0)](_0x4e8cec(0x50a)+_0x587d32);while(!await this[_0x4e8cec(0x7e3)](_0x587d32));await this['configureIPv6'](_0x587d32),console[_0x4e8cec(0x8b0)](_0x4e8cec(0x2ba)+_0x587d32);let _0xd926c2={'_id':_0x4e9d6a+'-'+_0x51d534,'ip':_0x587d32},_0xfd7788=await this[_0x4e8cec(0x86b)]['createOrUpdate'](_0xd926c2,_0xd926c2[_0x4e8cec(0x644)]);return console[_0x4e8cec(0x8b0)](_0x4e8cec(0x466)+_0xfd7788),_0x587d32;}async['isValidAndUniqueIPv6'](_0x5923d5){const _0x327f1e=a0_0x21bcc2;return this[_0x327f1e(0x854)](_0x5923d5)?!await this[_0x327f1e(0x86b)][_0x327f1e(0x7db)]({'where':{'ip':_0x5923d5}}):!0x1;}async['removeIPv6ById'](_0x8c0a57,_0x21abe6){const _0x5a2f28=a0_0x21bcc2;let _0x4716b2=_0x8c0a57+'-'+_0x21abe6,_0x3356e8=await this[_0x5a2f28(0x86b)][_0x5a2f28(0x7db)]({'where':{'_id':_0x4716b2}});_0x3356e8&&_0x3356e8['ip']&&(await this[_0x5a2f28(0x7cf)](_0x3356e8['ip']),await this[_0x5a2f28(0x86b)][_0x5a2f28(0x61c)]({'where':{'_id':_0x4716b2}}));}},Lo=new xs(),ge=Lo,Fs='Safari',ki,me=null,Da=null,Fo=0x3,Uo=null,Ii=S['get'](a0_0x21bcc2(0x390))[a0_0x21bcc2(0x5a6)][a0_0x21bcc2(0x67f)],Ti=S['get'](a0_0x21bcc2(0x282));async function jo(){const _0x467ea7=a0_0x21bcc2;let _0xf3aaf5=await ve[_0x467ea7(0x7db)]();me=_0xf3aaf5?.[_0x467ea7(0x313)]??null,Uo=_0xf3aaf5?.[_0x467ea7(0x543)]??null,Fs=_0xf3aaf5?.[_0x467ea7(0x4a4)]??_0x467ea7(0x254),ki=_0xf3aaf5?.[_0x467ea7(0x84c)]??Z??_0x467ea7(0x89a);}async function Jo(){await jo();}Jo();var Oi={},ce={},$e=class l{constructor(_0x21708d,_0x1e69e4,_0x1f8ca5){const _0x4bfccd=a0_0x21bcc2;this[_0x4bfccd(0x928)]=_0x21708d,this['eventEmitter']=_0x1e69e4,this[_0x4bfccd(0x5bb)]=_0x1f8ca5,this[_0x4bfccd(0x246)]=null,this[_0x4bfccd(0x74f)]=new $(l['name']),this[_0x4bfccd(0x5cb)]={},this[_0x4bfccd(0x680)]={},this[_0x4bfccd(0x491)]={'state':'close'},this[_0x4bfccd(0x6e3)]=(0x0,U[_0x4bfccd(0x720)])(le,_0x4bfccd(0x672)),this[_0x4bfccd(0x6ff)]=new Ls[(_0x4bfccd(0x7ac))](),this[_0x4bfccd(0x2d0)]=new Ls[(_0x4bfccd(0x7ac))](),this[_0x4bfccd(0x5e1)]=!0x1,this[_0x4bfccd(0x89c)]={'status.instance':'/wa-connection-update','connection.update':'/wa-connection-update','qrcode.updated':_0x4bfccd(0x857),'messages.upsert':_0x4bfccd(0x803),'send.message':_0x4bfccd(0x803),'messages.update':_0x4bfccd(0x730),'group.upsert':_0x4bfccd(0x6c0),'group.update':_0x4bfccd(0x6c0),'group-participants.update':'/wa-groups','messages.set':_0x4bfccd(0x4b6),'contacts.set':_0x4bfccd(0x553),'contacts.upsert':_0x4bfccd(0x553),'contacts.update':_0x4bfccd(0x553),'presence.update':'/wa-presence','chats.set':'/wa-chats','chats.update':_0x4bfccd(0x8e8),'chats.upsert':_0x4bfccd(0x8e8),'chats.delete':'/wa-chats'},this[_0x4bfccd(0x4f8)]=0x0,this[_0x4bfccd(0x581)]=[],this['RECONNECT_TIME_FRAME']=0xea60,this[_0x4bfccd(0x4be)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x59fd04,_0x25c4f0)=>{const _0x408625=_0x4bfccd;let _0x4b2b07=[];for await(let _0x2131b0 of _0x59fd04)_0x4b2b07[_0x408625(0x2ea)]({'_id':_0x2131b0['id'],'owner':this[_0x408625(0x5cb)][_0x408625(0x406)],'group':_0x2131b0['id'][_0x408625(0x868)](_0x408625(0x489)),'name':_0x2131b0[_0x408625(0x83e)]||_0x2131b0[_0x408625(0x3c2)]||null,'contactname':null,'lastmsg':_0x2131b0[_0x408625(0x712)]&&_0x2131b0['conversationTimestamp'][_0x408625(0x929)]()[_0x408625(0x7be)]<0xd?_0x2131b0['conversationTimestamp']*0x3e8:_0x2131b0[_0x408625(0x712)]||null,'archived':_0x2131b0[_0x408625(0x63b)]||!0x1,'unreadcount':_0x2131b0[_0x408625(0x918)]||0x0,'ephemeralExpiration':_0x2131b0['ephemeralExpiration']||0x0});this[_0x408625(0x42e)](_0x408625(0x3d4),_0x4b2b07);},'chats.update':async(_0x1a392b,_0x216758)=>{const _0x45e975=_0x4bfccd;for(let _0x4078ff of _0x1a392b){let _0x44bc04={'_id':_0x4078ff['id'],'owner':this[_0x45e975(0x5cb)][_0x45e975(0x406)],'archived':_0x4078ff[_0x45e975(0x63b)],'muteEndTime':_0x4078ff[_0x45e975(0x249)],'ephemeralExpiration':_0x4078ff[_0x45e975(0x698)]},_0x1120c2=!0x1,_0x3a57f2={};_0x44bc04[_0x45e975(0x63b)]!=null&&(this['logger'][_0x45e975(0x78f)](this[_0x45e975(0x86d)]+'\x20('+this['instance'][_0x45e975(0x406)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x4078ff['id']+_0x45e975(0x7b5)+_0x4078ff['archived']),_0x1120c2=!0x0,_0x3a57f2[_0x45e975(0x63b)]=_0x4078ff[_0x45e975(0x63b)]),_0x45e975(0x249)in _0x4078ff&&(this[_0x45e975(0x74f)][_0x45e975(0x78f)](this[_0x45e975(0x86d)]+'\x20('+this['instance'][_0x45e975(0x406)]+_0x45e975(0x6e0)+_0x4078ff['id']+_0x45e975(0x7b5)+(_0x4078ff[_0x45e975(0x249)]??'0')),_0x1120c2=!0x0,_0x3a57f2[_0x45e975(0x249)]=_0x4078ff[_0x45e975(0x249)]??0x0),_0x45e975(0x698)in _0x4078ff&&(this[_0x45e975(0x74f)][_0x45e975(0x78f)](this[_0x45e975(0x86d)]+'\x20('+this[_0x45e975(0x5cb)][_0x45e975(0x406)]+_0x45e975(0x4ff)+_0x4078ff['id']+_0x45e975(0x7b5)+(_0x4078ff[_0x45e975(0x698)]!==void 0x0?_0x4078ff[_0x45e975(0x698)]:'undefined')),_0x3a57f2[_0x45e975(0x698)]=_0x4078ff[_0x45e975(0x698)]===null?0x0:_0x4078ff[_0x45e975(0x698)],_0x1120c2=!0x0);let _0x599da9;_0x1120c2&&(_0x599da9=await this[_0x45e975(0x5bb)][_0x45e975(0x580)][_0x45e975(0x4f3)]({'where':{'_id':_0x4078ff['id']}},_0x3a57f2,this[_0x45e975(0x5cb)]['wuid'])),_0x599da9&&j(this[_0x45e975(0x86d)],_0x45e975(0x5bf),{'chat':_0x599da9});}},'chats.delete':async _0x27f1a1=>{const _0x164a5a=_0x4bfccd;for(let _0x158d01 of _0x27f1a1)if(_0x158d01[_0x164a5a(0x868)](_0x164a5a(0x489))){await this['repository']['chat']['delete']({'where':{'_id':_0x158d01}},this['instance'][_0x164a5a(0x406)]);let _0x6054a8={'where':{'key':{'remoteJid':_0x158d01}}};await this[_0x164a5a(0x5bb)][_0x164a5a(0x4a8)]['delete'](_0x6054a8,this[_0x164a5a(0x5cb)][_0x164a5a(0x406)]);}else{await this[_0x164a5a(0x5bb)]['chat'][_0x164a5a(0x4f3)]({'where':{'_id':_0x158d01}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x164a5a(0x5cb)][_0x164a5a(0x406)]);let _0x442d0e={'where':{'key':{'remoteJid':_0x158d01}}};await this['repository'][_0x164a5a(0x4a8)][_0x164a5a(0x8b1)](_0x442d0e,this[_0x164a5a(0x5cb)][_0x164a5a(0x406)]);}this['sendDataWebhook'](_0x164a5a(0x541),[..._0x27f1a1]);}},this['contactHandle']={'contacts.upsert':async(_0x4b4938,_0x2ff3a3)=>{const _0x3595ba=_0x4bfccd;let _0x3ae48c=await this[_0x3595ba(0x5bb)][_0x3595ba(0x7c9)][_0x3595ba(0x68c)]({'where':{}},this[_0x3595ba(0x5cb)][_0x3595ba(0x406)]),_0x2beda3=[];for await(let _0x3aeb54 of _0x4b4938)_0x3ae48c[_0x3595ba(0x68c)](_0x29ede0=>_0x29ede0['_id']===_0x3aeb54['id'])||_0x2beda3['push']({'_id':_0x3aeb54['id'],'pushName':_0x3aeb54?.[_0x3595ba(0x83e)]||_0x3aeb54?.[_0x3595ba(0x2ab)],'owner':this['instance']['wuid']});this[_0x3595ba(0x42e)](_0x3595ba(0x340),_0x2beda3),await this[_0x3595ba(0x5bb)][_0x3595ba(0x7c9)]['insert'](_0x2beda3);},'contacts.update':async(_0x28ac07,_0xb42b86)=>{const _0x2fefc1=_0x4bfccd;let _0x2f8968=[];for await(let _0x44bc4d of _0x28ac07)_0x2f8968[_0x2fefc1(0x2ea)]({'_id':_0x44bc4d['id'],'pushName':_0x44bc4d?.[_0x2fefc1(0x83e)]??_0x44bc4d?.[_0x2fefc1(0x2ab)],'owner':this[_0x2fefc1(0x5cb)][_0x2fefc1(0x406)]});this[_0x2fefc1(0x42e)](_0x2fefc1(0x775),_0x2f8968);}},this[_0x4bfccd(0x6c1)]={'messaging-history.set':async({messages:_0x5bc381,chats:_0x1e4606,isLatest:_0x51984f},_0x37e660)=>{const _0x197ae1=_0x4bfccd;if(_0x51984f){let _0x331b5c=await Promise[_0x197ae1(0x3ec)](_0x1e4606[_0x197ae1(0x867)](async _0x472718=>({'_id':_0x472718['id'],'owner':this[_0x197ae1(0x5cb)][_0x197ae1(0x406)],'group':_0x472718['id'][_0x197ae1(0x868)]('@g.us'),'name':_0x472718[_0x197ae1(0x83e)]||_0x472718['displayName']||_0x472718[_0x197ae1(0x30a)]||null,'contactname':null,'lastmsg':_0x472718[_0x197ae1(0x712)]&&_0x472718['conversationTimestamp'][_0x197ae1(0x929)]()['length']<0xd?_0x472718['conversationTimestamp']*0x3e8:_0x472718[_0x197ae1(0x712)]||null,'archived':_0x472718['archived']||!0x1,'unreadcount':_0x472718[_0x197ae1(0x918)]||0x0,'ephemeralExpiration':_0x472718['ephemeralExpiration']||0x0,'muteEndTime':_0x472718[_0x197ae1(0x249)]||0x0})));this[_0x197ae1(0x42e)](_0x197ae1(0x290),_0x331b5c),await this[_0x197ae1(0x78d)](_0x331b5c,_0x37e660);}let _0x4df53d=[],_0x5eb137=Date[_0x197ae1(0x462)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x2da5cd]of Object['entries'](_0x5bc381)){if(_0x2da5cd[_0x197ae1(0x4a8)]?.['protocolMessage']||_0x2da5cd[_0x197ae1(0x4a8)]?.[_0x197ae1(0x795)]||!_0x2da5cd[_0x197ae1(0x4a8)]||_0x2da5cd[_0x197ae1(0x3fe)][_0x197ae1(0x2c7)]===_0x197ae1(0x7ef)||(ks[_0x197ae1(0x7ac)]['isLong'](_0x2da5cd?.[_0x197ae1(0x307)])&&(_0x2da5cd[_0x197ae1(0x307)]=_0x2da5cd[_0x197ae1(0x307)]?.[_0x197ae1(0x7e2)]()),_0x2da5cd[_0x197ae1(0x307)]&&_0x2da5cd[_0x197ae1(0x307)][_0x197ae1(0x929)]()[_0x197ae1(0x7be)]<0xd&&(_0x2da5cd['messageTimestamp']=_0x2da5cd[_0x197ae1(0x307)]*0x3e8),_0x2da5cd['messageTimestamp']<_0x5eb137))continue;let _0x96ddd0=(0x0,w['normalizeMessageContent'])(_0x2da5cd['message']),_0x4857b3=(0x0,w[_0x197ae1(0x4de)])(_0x96ddd0),{message_normalized:_0x543a50}=this[_0x197ae1(0x21c)](_0x96ddd0,_0x4857b3,null);Object[_0x197ae1(0x4ac)](_0x543a50)[_0x197ae1(0x7be)]>0x0&&_0x4df53d[_0x197ae1(0x2ea)]({'_id':_0x2da5cd['key']['id'],'key':_0x2da5cd[_0x197ae1(0x3fe)],'pushName':_0x2da5cd[_0x197ae1(0x7f1)],'participant':_0x2da5cd['participant'],'message':_0x96ddd0,'messageType':_0x4857b3,'message_normalized':{'key':_0x2da5cd[_0x197ae1(0x3fe)],'pushName':_0x2da5cd[_0x197ae1(0x7f1)],'messageTimestamp':_0x2da5cd['messageTimestamp'],..._0x543a50},'messageTimestamp':_0x2da5cd['messageTimestamp'],'owner':this[_0x197ae1(0x5cb)][_0x197ae1(0x406)]});}_0x37e660[_0x197ae1(0x7bc)]&&_0x4df53d[_0x197ae1(0x7be)]>0x0&&(this[_0x197ae1(0x74f)][_0x197ae1(0x78f)](this[_0x197ae1(0x86d)]+'\x20('+this[_0x197ae1(0x5cb)]['wuid']+'):\x20'+_0x4df53d[_0x197ae1(0x7be)]+_0x197ae1(0x221)+this[_0x197ae1(0x5cb)][_0x197ae1(0x406)]+_0x197ae1(0x423)),await this[_0x197ae1(0x5bb)][_0x197ae1(0x4a8)]['insert']([..._0x4df53d],this[_0x197ae1(0x5cb)][_0x197ae1(0x406)])),this['sendDataWebhook']('messages.set',[..._0x4df53d]),_0x5bc381=void 0x0;},'messages.upsert':async({messages:_0x5aa578,type:_0x15a332},_0x352c6e)=>{const _0x40aa3f=_0x4bfccd;for(let _0xfa893d of _0x5aa578){if(this[_0x40aa3f(0x680)]?.[_0x40aa3f(0x79e)]&&_0xfa893d['key'][_0x40aa3f(0x2c7)]['includes']('@g.us')){this['logger'][_0x40aa3f(0x78f)](this[_0x40aa3f(0x86d)]+'\x20('+this[_0x40aa3f(0x5cb)][_0x40aa3f(0x406)]+_0x40aa3f(0x451));return;}let _0x2d8037=_0xfa893d[_0x40aa3f(0x3fe)]['id'],_0x377e68=_0xfa893d[_0x40aa3f(0x778)]===0x2,_0xf7363c=0xb;if(_0x377e68){if(ce[_0x2d8037]||(ce[_0x2d8037]=0x0),ce[_0x2d8037]++,this[_0x40aa3f(0x74f)]['error'](this['instanceName']+'\x20('+this['instance'][_0x40aa3f(0x406)]+_0x40aa3f(0x6e8)+_0xfa893d[_0x40aa3f(0x3fe)][_0x40aa3f(0x2c7)]+_0x40aa3f(0x50c)+_0x2d8037+':\x20'+ce[_0x2d8037]+'/'+_0xf7363c),ce[_0x2d8037]>=_0xf7363c){this[_0x40aa3f(0x74f)][_0x40aa3f(0x2fe)](this[_0x40aa3f(0x86d)]+'\x20('+this[_0x40aa3f(0x5cb)][_0x40aa3f(0x406)]+_0x40aa3f(0x277)+_0xfa893d[_0x40aa3f(0x3fe)][_0x40aa3f(0x2c7)]+_0x40aa3f(0x50c)+_0x2d8037+'.');let _0x10d739={'key':{..._0xfa893d[_0x40aa3f(0x3fe)]},'message':{'conversation':_0x40aa3f(0x38d)+_0x2d8037+_0x40aa3f(0x5e5)}};this[_0x40aa3f(0x2cd)]['ev'][_0x40aa3f(0x3da)](_0x40aa3f(0x74d),{'messages':[_0x10d739],'type':'notify'}),delete ce[_0x2d8037];}}else ce[_0x2d8037]&&(this['logger'][_0x40aa3f(0x88a)](_0x40aa3f(0x76a)+ce[_0x2d8037]+_0x40aa3f(0x5b3)+_0xfa893d[_0x40aa3f(0x3fe)]['remoteJid']+_0x40aa3f(0x50c)+_0x2d8037),delete ce[_0x2d8037]);if(_0x15a332!==_0x40aa3f(0x339)||!_0xfa893d?.['message']||_0xfa893d[_0x40aa3f(0x4a8)]?.[_0x40aa3f(0x5cf)]||_0xfa893d[_0x40aa3f(0x4a8)][_0x40aa3f(0x795)]||_0xfa893d['key'][_0x40aa3f(0x2c7)]===_0x40aa3f(0x7ef))return;let _0x26ef9f=null,_0x149fd6=null;try{_0x26ef9f=await this[_0x40aa3f(0x4c9)](_0xfa893d),_0x149fd6=_0x26ef9f?_0x26ef9f[_0x40aa3f(0x720)](','):null;}catch(_0x50e3dc){this[_0x40aa3f(0x74f)][_0x40aa3f(0x78f)](this[_0x40aa3f(0x86d)]+'\x20('+this[_0x40aa3f(0x5cb)][_0x40aa3f(0x406)]+'):\x20'+(_0x50e3dc instanceof Error?_0x50e3dc[_0x40aa3f(0x4a8)]:JSON[_0x40aa3f(0x261)](_0x50e3dc,null,0x2))),_0x149fd6=_0x40aa3f(0x434);}this[_0x40aa3f(0x2cd)][_0x40aa3f(0x6b5)]('unavailable'),ks[_0x40aa3f(0x7ac)]['isLong'](_0xfa893d[_0x40aa3f(0x307)])&&(_0xfa893d[_0x40aa3f(0x307)]=_0xfa893d[_0x40aa3f(0x307)]?.[_0x40aa3f(0x7e2)]()),_0xfa893d[_0x40aa3f(0x307)]&&_0xfa893d[_0x40aa3f(0x307)][_0x40aa3f(0x929)]()[_0x40aa3f(0x7be)]<0xd&&(_0xfa893d['messageTimestamp']=_0xfa893d['messageTimestamp']*0x3e8);let _0x3509b0=_0xfa893d[_0x40aa3f(0x4a8)],_0x1a145c=(0x0,w[_0x40aa3f(0x705)])(_0x3509b0),_0x386a09=(0x0,w[_0x40aa3f(0x4de)])(_0x1a145c),{messageContent:_0x32db0b,message_normalized:_0x43b97e}=this['normalizeMessage'](_0x1a145c,_0x386a09,_0x149fd6);_0x386a09===_0x40aa3f(0x5cf)&&_0x32db0b?.[_0x40aa3f(0x608)]&&(_0x386a09=_0x40aa3f(0x608));let _0x47f05c,_0x287151=_0xfa893d[_0x40aa3f(0x3fe)][_0x40aa3f(0x2c7)][_0x40aa3f(0x868)]('@g.us');if(_0xfa893d['key'][_0x40aa3f(0x86f)])_0x47f05c=this[_0x40aa3f(0x5cb)]['profilePictureUrl'];else{let _0x1045a8=_0x287151?_0xfa893d[_0x40aa3f(0x3fe)][_0x40aa3f(0x393)]:_0xfa893d[_0x40aa3f(0x3fe)][_0x40aa3f(0x2c7)];_0x47f05c=(await this[_0x40aa3f(0x90e)](_0x1045a8,_0xfa893d['pushName'],!0x1))['cachedContact'][_0x40aa3f(0x63c)];}let _0x4770e4={'_id':_0xfa893d['key']['id'],'key':_0xfa893d['key'],'isGroup':_0x287151,'profilePictureUrl':_0x47f05c,'pushName':_0xfa893d[_0x40aa3f(0x7f1)],'message':_0x1a145c,'messageType':_0x386a09,'message_normalized':{'key':_0xfa893d[_0x40aa3f(0x3fe)],'pushName':_0xfa893d['pushName'],'messageTimestamp':_0xfa893d[_0x40aa3f(0x307)],'source':(0x0,w[_0x40aa3f(0x789)])(_0xfa893d[_0x40aa3f(0x3fe)]['id']),..._0x43b97e},'messageTimestamp':_0xfa893d[_0x40aa3f(0x307)],'owner':this[_0x40aa3f(0x5cb)][_0x40aa3f(0x406)],'source':(0x0,w['getDevice'])(_0xfa893d[_0x40aa3f(0x3fe)]['id']),'expiration':_0x32db0b?.['contextInfo']?.['expiration']||0x0};_0x32db0b||(this[_0x40aa3f(0x74f)]['error'](_0x40aa3f(0x8da)),this[_0x40aa3f(0x74f)][_0x40aa3f(0x2fe)](_0x4770e4)),this['logger'][_0x40aa3f(0x8b0)](this['instanceName']+'\x20('+this[_0x40aa3f(0x5cb)][_0x40aa3f(0x406)]+'):\x20'+(_0x4770e4[_0x40aa3f(0x3fe)]?.[_0x40aa3f(0x86f)]?_0x40aa3f(0x41c):_0x40aa3f(0x3cb))+'\x20['+_0x4770e4[_0x40aa3f(0x3fe)]?.[_0x40aa3f(0x2c7)][_0x40aa3f(0x243)](_0x40aa3f(0x293),'')+_0x40aa3f(0x90c)+_0x4770e4[_0x40aa3f(0x807)]+')'),_0x4770e4[_0x40aa3f(0x3cc)]?.[_0x40aa3f(0x839)]&&this[_0x40aa3f(0x74f)][_0x40aa3f(0x8b0)](_0xfa893d['key']['id']+':\x20'+_0x4770e4['message_normalized']?.['text']),await this[_0x40aa3f(0x5bb)][_0x40aa3f(0x4a8)][_0x40aa3f(0x6b9)]([_0x4770e4],this['instance'][_0x40aa3f(0x406)]),this[_0x40aa3f(0x42e)](_0x40aa3f(0x74d),_0x4770e4),j(this[_0x40aa3f(0x86d)],_0x40aa3f(0x6aa),{'message':_0x4770e4}),_0xfa893d[_0x40aa3f(0x3fe)][_0x40aa3f(0x2c7)]!==_0x40aa3f(0x7ef)&&await this[_0x40aa3f(0x493)](_0x352c6e,_0x4770e4,_0x40aa3f(0x8ef));}},'messages.update':async(_0x23fe3f,_0x53fd13)=>{const _0x19ebbf=_0x4bfccd;let _0x220768={0x0:'ERROR',0x1:'PENDING',0x2:'SERVER_ACK',0x3:_0x19ebbf(0x773),0x4:_0x19ebbf(0x565),0x5:'PLAYED'};for await(let {key:_0x37d41c,update:_0xa47072}of _0x23fe3f){if(this[_0x19ebbf(0x680)]?.[_0x19ebbf(0x79e)]&&_0x37d41c[_0x19ebbf(0x2c7)][_0x19ebbf(0x587)](_0x19ebbf(0x489))){this[_0x19ebbf(0x74f)][_0x19ebbf(0x78f)](this['instanceName']+'\x20('+this[_0x19ebbf(0x5cb)][_0x19ebbf(0x406)]+_0x19ebbf(0x863));return;}if(_0x37d41c[_0x19ebbf(0x2c7)]!==_0x19ebbf(0x7ef)){let _0x217e64=Date[_0x19ebbf(0x462)](),_0x426d02;_0xa47072[_0x19ebbf(0x4a8)]===null&&_0xa47072[_0x19ebbf(0x41a)]===void 0x0?_0x426d02=_0x19ebbf(0x58a):_0x426d02=_0x220768[_0xa47072[_0x19ebbf(0x41a)]];let _0x508540=_0x37d41c[_0x19ebbf(0x2c7)]['replace'](/:\d{1,2}@/g,'@'),_0x587de8={..._0x37d41c,'remoteJid':_0x508540,'status':_0x426d02,'datetime':_0x217e64,'owner':this[_0x19ebbf(0x5cb)]['wuid']};this['sendDataWebhook'](_0x19ebbf(0x223),_0x587de8),await this[_0x19ebbf(0x1f1)](_0x37d41c,_0x587de8);}}},'labels.association':async({type:_0x3d0e56,association:_0x5434a2})=>{const _0x5d7714=_0x4bfccd;if(_0x5434a2['type']==='label_jid'){let _0x4a1a8d,_0x3fbaa7=0x0;for(;!_0x4a1a8d&&_0x3fbaa7<this[_0x5d7714(0x903)];)_0x4a1a8d=await this['repository'][_0x5d7714(0x580)][_0x5d7714(0x7db)]({'where':{'_id':_0x5434a2[_0x5d7714(0x56c)]}},this[_0x5d7714(0x5cb)]['wuid']),_0x4a1a8d||(_0x3fbaa7++,this['logger']['info'](this[_0x5d7714(0x86d)]+'\x20('+this[_0x5d7714(0x5cb)][_0x5d7714(0x406)]+'):\x20Chat\x20'+_0x5434a2[_0x5d7714(0x56c)]+'\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20'+this[_0x5d7714(0x708)]+_0x5d7714(0x80e)+_0x3fbaa7+'/'+this[_0x5d7714(0x903)]+')'),await this[_0x5d7714(0x336)](this[_0x5d7714(0x708)]));if(!_0x4a1a8d){this[_0x5d7714(0x74f)][_0x5d7714(0x2fe)](_0x5d7714(0x38b)+_0x5434a2[_0x5d7714(0x56c)]+_0x5d7714(0x911)+this['delayChatLabel_MAX_RETRIES']+'\x20tentativas.');return;}switch(_0x3d0e56){case _0x5d7714(0x65e):console['log'](_0x5434a2),await this[_0x5d7714(0x5bb)][_0x5d7714(0x580)][_0x5d7714(0x4f3)]({'where':{'_id':_0x5434a2['chatId']}},{'leadInfo.etiquetas':_0x5434a2[_0x5d7714(0x58f)]},this['instance'][_0x5d7714(0x406)],void 0x0,'$addToSet');break;case _0x5d7714(0x424):console[_0x5d7714(0x8b0)](_0x5434a2),await this[_0x5d7714(0x5bb)][_0x5d7714(0x580)][_0x5d7714(0x4f3)]({'where':{'_id':_0x5434a2[_0x5d7714(0x56c)]}},{'leadInfo.etiquetas':_0x5434a2[_0x5d7714(0x58f)]},this[_0x5d7714(0x5cb)][_0x5d7714(0x406)],void 0x0,_0x5d7714(0x492));break;default:this[_0x5d7714(0x74f)]['error'](_0x5d7714(0x24e)+_0x3d0e56+']');}}},'labels.edit':async _0x596915=>{const _0x4d2cc9=_0x4bfccd;if(!_0x596915||!_0x596915['id']){this['logger'][_0x4d2cc9(0x2fe)](_0x4d2cc9(0x548));return;}if(!_0x596915['deleted']){let _0x1407db=['#ff9484','#64c4ff',_0x4d2cc9(0x601),_0x4d2cc9(0x30b),_0x4d2cc9(0x7fc),_0x4d2cc9(0x3ff),_0x4d2cc9(0x67d),'#d3a91f',_0x4d2cc9(0x309),_0x4d2cc9(0x79d),_0x4d2cc9(0x881),_0x4d2cc9(0x2f1),_0x4d2cc9(0x518),'#f64847','#00a1f2',_0x4d2cc9(0x3fc),_0x4d2cc9(0x3e6),_0x4d2cc9(0x3c6),_0x4d2cc9(0x46c),'#9568cf'],_0x477887;typeof _0x596915[_0x4d2cc9(0x8a9)]=='number'&&_0x596915[_0x4d2cc9(0x8a9)]>=0x0&&_0x596915[_0x4d2cc9(0x8a9)]<_0x1407db[_0x4d2cc9(0x7be)]?_0x477887=_0x1407db[_0x596915[_0x4d2cc9(0x8a9)]]:(this['logger']['error']('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20'+_0x596915[_0x4d2cc9(0x8a9)]),_0x477887=_0x4d2cc9(0x8cd));let _0x5e5aaa={'_id':_0x596915['id'],'colorHex':_0x477887,'color':_0x596915?.[_0x4d2cc9(0x8a9)],'name':_0x596915?.[_0x4d2cc9(0x83e)],'owner':this[_0x4d2cc9(0x5cb)]['wuid']};await this[_0x4d2cc9(0x5bb)]['label'][_0x4d2cc9(0x4f3)]({'where':{'_id':_0x596915['id']}},_0x5e5aaa,this[_0x4d2cc9(0x5cb)]['wuid']),this['logger']['info'](this[_0x4d2cc9(0x86d)]+'\x20('+this[_0x4d2cc9(0x5cb)][_0x4d2cc9(0x406)]+_0x4d2cc9(0x3c0)+_0x596915);}_0x596915[_0x4d2cc9(0x37c)]&&(await this['repository'][_0x4d2cc9(0x7a4)][_0x4d2cc9(0x8b1)]({'where':{'_id':_0x596915['id']}},this['instance'][_0x4d2cc9(0x406)]),this[_0x4d2cc9(0x74f)][_0x4d2cc9(0x768)]('Rótulo\x20deletado:\x27,\x20'+_0x596915['id']));}},this[_0x4bfccd(0x62f)]={'groups.upsert':async _0x42bcf1=>{const _0x3ef41d=_0x4bfccd;this['localWebhook']?.[_0x3ef41d(0x79e)]||this[_0x3ef41d(0x42e)](_0x3ef41d(0x26b),_0x42bcf1);for(let _0x5f3104 of _0x42bcf1)await this['updateGroupWebhook'](_0x5f3104);},'groups.update':async _0x3fdef1=>{const _0x512d34=_0x4bfccd;this[_0x512d34(0x680)]?.[_0x512d34(0x79e)]||this[_0x512d34(0x42e)](_0x512d34(0x218),_0x3fdef1);for(let _0x149ed7 of _0x3fdef1)await this[_0x512d34(0x79a)](_0x149ed7);},'group-participants.update':async _0x3da23f=>{const _0x98287=_0x4bfccd;this[_0x98287(0x680)]?.[_0x98287(0x79e)]||this[_0x98287(0x42e)](_0x98287(0x7d9),_0x3da23f),await this[_0x98287(0x704)](_0x3da23f);}},this[_0x4bfccd(0x903)]=0x5,this[_0x4bfccd(0x708)]=0x1388,this['processPollUpdateMessage']=async _0x3e3f55=>{const _0x195022=_0x4bfccd;if(_0x3e3f55[_0x195022(0x4a8)]?.[_0x195022(0x8ab)]){let _0x5097aa=await this[_0x195022(0x46b)](_0x3e3f55[_0x195022(0x4a8)][_0x195022(0x8ab)][_0x195022(0x5f9)],!0x0);if(_0x5097aa){let _0xf28bf7=_0x5097aa[_0x195022(0x3fe)][_0x195022(0x86f)]?this[_0x195022(0x5cb)][_0x195022(0x406)]+'@s.whatsapp.net':_0x5097aa[_0x195022(0x3fe)][_0x195022(0x393)]||_0x5097aa['key']['remoteJid'],_0x69d130=_0x5097aa[_0x195022(0x3fe)]['id'],_0x3cd176=_0x5097aa['message'],_0x57e901=Buffer[_0x195022(0x769)](_0x3cd176[_0x195022(0x31f)]['messageSecret'][_0x195022(0x929)](_0x195022(0x7d4)),_0x195022(0x7d4)),_0x593e5c=(0x0,w['decryptPollVote'])(_0x3e3f55[_0x195022(0x4a8)][_0x195022(0x8ab)][_0x195022(0x8c3)],{'pollCreatorJid':_0xf28bf7,'pollMsgId':_0x69d130,'pollEncKey':_0x57e901,'voterJid':_0x3e3f55['key'][_0x195022(0x86f)]?this[_0x195022(0x5cb)]['wuid']+_0x195022(0x293):_0x3e3f55['key'][_0x195022(0x2c7)][_0x195022(0x868)]('g.us')?_0x3e3f55[_0x195022(0x3fe)][_0x195022(0x393)]:_0x3e3f55[_0x195022(0x3fe)][_0x195022(0x2c7)]}),_0x15b3f3=[],_0x1bd926=_0x593e5c[_0x195022(0x859)][_0x195022(0x867)](_0x3fc504=>Buffer['from'](_0x3fc504)[_0x195022(0x929)](_0x195022(0x7d4)));for(let {optionName:_0x2ea290}of _0x3cd176[_0x195022(0x274)]?.[_0x195022(0x5c4)]||_0x3cd176[_0x195022(0x222)]?.[_0x195022(0x5c4)]||_0x3cd176['pollCreationMessageV2']?.[_0x195022(0x5c4)])_0x1bd926['indexOf']((0x0,w[_0x195022(0x806)])(Buffer[_0x195022(0x769)](_0x2ea290))[_0x195022(0x929)]('hex'))>-0x1&&_0x15b3f3[_0x195022(0x2ea)](_0x2ea290);return _0x15b3f3;}}return null;},this['normalizeMessage']=(_0x5b6fbc,_0x4ede37,_0x23804f)=>{const _0x340270=_0x4bfccd;try{let _0x1f62b6=_0x5b6fbc?(0x0,w[_0x340270(0x8e4)])(_0x5b6fbc)[_0x4ede37]:void 0x0,_0x3df1cd={},_0x2d5529=null,_0x729836=null,_0x452102=null;_0x4ede37===_0x340270(0x5cf)&&_0x1f62b6?.['editedMessage']&&(_0x4ede37=(0x0,w[_0x340270(0x4de)])(_0x1f62b6[_0x340270(0x608)]),_0x2d5529=_0x5b6fbc['protocolMessage'][_0x340270(0x3fe)]['id'],_0x1f62b6=_0x5b6fbc[_0x340270(0x5cf)][_0x340270(0x608)][_0x4ede37]),_0x5b6fbc[_0x4ede37]?.[_0x340270(0x8e6)]?.[_0x340270(0x392)]&&_0x5b6fbc[_0x4ede37]?.[_0x340270(0x8e6)]?.['quotedMessage']&&(_0x729836=_0x5b6fbc[_0x4ede37]['contextInfo']['stanzaId']),_0x5b6fbc['reactionMessage']&&(_0x452102=_0x5b6fbc['reactionMessage'][_0x340270(0x3fe)]['id']);let _0x3c5538;if(_0x1f62b6&&typeof _0x1f62b6==_0x340270(0x82b)&&_0x340270(0x5f9)in _0x1f62b6&&({pollCreationMessageKey:_0x3c5538}=_0x1f62b6),_0x4ede37===_0x340270(0x274)||_0x4ede37===_0x340270(0x6d5)||_0x4ede37===_0x340270(0x222)){let _0x541179=_0x1f62b6[_0x340270(0x5c4)]['map'](_0x1f6c40=>_0x1f6c40[_0x340270(0x5ff)])['join']('|');_0x3df1cd[_0x340270(0x875)]=_0x541179;}let _0x5997b0='';if(_0x1f62b6&&(_0x5997b0+=_0x1f62b6['name']?_0x1f62b6['name']:'',_0x5997b0+=_0x1f62b6[_0x340270(0x728)]?'\x20'+_0x1f62b6['caption']:'',_0x5997b0+=_0x1f62b6[_0x340270(0x43f)]?'\x20'+_0x1f62b6[_0x340270(0x43f)]:'',_0x5997b0+=_0x1f62b6[_0x340270(0x3c2)]?'\x20'+_0x1f62b6[_0x340270(0x3c2)]:''),_0x4ede37===_0x340270(0x2d9)){_0x5997b0=(_0x1f62b6['title']||'')+'\x0a'+(_0x1f62b6['description']||'')+'\x0a'+(_0x1f62b6[_0x340270(0x49c)]||'');let _0x2bd83e=this['sectionsToString'](_0x1f62b6[_0x340270(0x242)]);_0x3df1cd[_0x340270(0x875)]=_0x2bd83e;}if(_0x4ede37===_0x340270(0x3db)&&(_0x23804f=_0x1f62b6[_0x340270(0x7a3)]),_0x1f62b6&&_0x1f62b6[_0x340270(0x6c3)]){let _0x4c1673=this[_0x340270(0x8a1)](JSON[_0x340270(0x261)](_0x1f62b6[_0x340270(0x6c3)],null,0x2));_0x5997b0=_0x5997b0+'\x0a'+_0x4c1673;}if(_0x1f62b6){let {sections:_0x15afed,listType:_0x3ad2d0,displayName:_0x19c417,vcard:_0x12c948,contactVcard:_0x39905e,name:_0x269505,caption:_0x2eb208,conversation:_0x223c75,pollCreationMessageKey:_0x5996aa,footerText:_0x47362d,contentText:_0x502a45,pageCount:_0x429a00,headerType:_0x5638db,isAvatar:_0x40add3,isAnimated:_0x370055,fallbackLc:_0x465a27,fallbackLg:_0x25ebd9,namespace:_0x1f04c6,elementName:_0x2456c7,localizableParams:_0x3f828e,viewOnce:_0x55c034,height:_0x4c5cce,width:_0x291a20,key:_0x395c8b,firstScanLength:_0x32a41e,firstScanSidecar:_0x39b2d7,gifPlayback:_0x1fbd1a,gifAttribution:_0x11448f,midQualityFileSha256:_0x580edc,scansSidecar:_0x525414,streamingSidecar:_0x14545f,thumbnailHeight:_0x50c422,thumbnailWidth:_0x1bc072,thumbnailEncSha256:_0xbf2352,thumbnailDirectPath:_0x4e93c8,canonicalUrl:_0x1e6f74,matchedText:_0x5d95a0,previewType:_0x14d63d,thumbnailSha256:_0x4de239,deviceListMetadataVersion:_0x56d578,inviteLinkGroupTypeV2:_0x25437e,interactiveAnnotations:_0x5dcc0b,scanLengths:_0x1a6cc5,jpegThumbnail:_0x3407aa,url:_0x8985eb,mediaKeyTimestamp:_0x486276,waveform:_0x10c243,stickerSentTs:_0x513770,firstFrameLength:_0x1ce1a7,fileEncSha256:_0x4b5eea,contextInfo:_0x3013fa,firstFrameSidecar:_0x56c94b,directPath:_0x45b0d7,fileSha256:_0x402865,mediaKey:_0x491b90,senderTimestampMs:_0x78475a,..._0x4720d4}=_0x1f62b6;(_0x4ede37===_0x340270(0x2d9)||_0x4ede37===_0x340270(0x3db))&&(delete _0x4720d4['title'],delete _0x4720d4[_0x340270(0x678)]),typeof _0x1f62b6==_0x340270(0x5c8)?_0x3df1cd={'text':_0x1f62b6,'type':_0x4ede37||'conversation',..._0x2d5529&&{'edited':_0x2d5529},..._0x729836&&{'quoted':_0x729836},..._0x452102&&{'reaction':_0x452102}}:_0x3df1cd={'text':_0x5997b0,..._0x4720d4,..._0x4ede37===_0x340270(0x8ab)?{'poll_id':_0x1f62b6['pollCreationMessageKey']['id'],'quoted':_0x1f62b6[_0x340270(0x5f9)]['id'],'vote':_0x23804f}:{},..._0x4ede37===_0x340270(0x3db)?{'vote':_0x23804f}:{},'type':_0x4ede37,..._0x2d5529&&{'edited':_0x2d5529},..._0x729836&&{'quoted':_0x729836},..._0x452102&&{'reaction':_0x452102},...(_0x4ede37===_0x340270(0x274)||_0x4ede37==='pollCreationMessageV2'||_0x4ede37===_0x340270(0x222)||_0x4ede37===_0x340270(0x2d9))&&{'convertedOptions':_0x3df1cd['convertedOptions']}};}return{'messageType':_0x4ede37,'messageContent':_0x1f62b6,'message_normalized':_0x3df1cd};}catch(_0x4e058b){return this[_0x340270(0x74f)][_0x340270(0x2fe)](_0x340270(0x4c0)+_0x4e058b),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x4bfccd(0x1eb)](),this[_0x4bfccd(0x5cb)]['qrcode']={'count':0x0},this[_0x4bfccd(0x5cb)]['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup_id':null,'lastSend':0x0,'timeout':null,'lastMessage_id':null});}set[a0_0x21bcc2(0x86d)](_0x190a6b){const _0x591fc5=a0_0x21bcc2;if(!_0x190a6b){this['instance'][_0x591fc5(0x83e)]=(0x0,_i['v4'])();return;}this[_0x591fc5(0x5cb)][_0x591fc5(0x83e)]=_0x190a6b,this['sendDataWebhook'](_0x591fc5(0x4a0),{'instance':this['instance'][_0x591fc5(0x83e)],'status':_0x591fc5(0x8ae)});}get[a0_0x21bcc2(0x86d)](){const _0x210959=a0_0x21bcc2;return this[_0x210959(0x5cb)][_0x210959(0x83e)];}get[a0_0x21bcc2(0x406)](){const _0x12b0e8=a0_0x21bcc2;return this['instance'][_0x12b0e8(0x406)];}async[a0_0x21bcc2(0x792)](){const _0x189a73=a0_0x21bcc2;let _0x4d4429=this[_0x189a73(0x2cd)][_0x189a73(0x6cd)]?.['name']??this['client']['user']?.[_0x189a73(0x2ab)];if(!_0x4d4429){if(this['configService'][_0x189a73(0x725)](_0x189a73(0x304))[_0x189a73(0x7bc)]){let _0x3bbf05=await A[_0x189a73(0x4ca)]()['db'](this[_0x189a73(0x928)]['get'](_0x189a73(0x304))[_0x189a73(0x80c)][_0x189a73(0x3ad)]+_0x189a73(0x1f9))[_0x189a73(0x620)](this['instanceName'])[_0x189a73(0x7db)]({'_id':_0x189a73(0x7d0)});if(_0x3bbf05){let _0x25507a=JSON[_0x189a73(0x80f)](JSON[_0x189a73(0x261)](_0x3bbf05),w[_0x189a73(0x7d7)][_0x189a73(0x20f)]);_0x4d4429=_0x25507a['me']?.[_0x189a73(0x83e)]||_0x25507a['me']?.[_0x189a73(0x2ab)];}}else{if((0x0,Fe['existsSync'])((0x0,U[_0x189a73(0x720)])(Se,this['instanceName'],_0x189a73(0x380)))){let _0x961ab3=JSON['parse']((0x0,Fe[_0x189a73(0x2a0)])((0x0,U[_0x189a73(0x720)])(Se,this[_0x189a73(0x86d)],'creds.json'),{'encoding':_0x189a73(0x7de)}));_0x4d4429=_0x961ab3['me']?.[_0x189a73(0x83e)]||_0x961ab3['me']?.['verifiedName'];}}}return _0x4d4429;}get[a0_0x21bcc2(0x6d4)](){const _0xea1ffe=a0_0x21bcc2;return this[_0xea1ffe(0x5cb)]['profilePictureUrl'];}get[a0_0x21bcc2(0x6cb)](){const _0x43ca96=a0_0x21bcc2;return this[_0x43ca96(0x5cb)][_0x43ca96(0x501)]?.['pairingCode']?{'pairingCode':this[_0x43ca96(0x5cb)][_0x43ca96(0x501)]?.[_0x43ca96(0x208)]}:{'code':this[_0x43ca96(0x5cb)][_0x43ca96(0x501)]?.['code'],'base64':this['instance'][_0x43ca96(0x501)]?.[_0x43ca96(0x21f)]};}async[a0_0x21bcc2(0x5fa)](){const _0xd33a7f=a0_0x21bcc2;let _0x3f9ec6=await this[_0xd33a7f(0x5bb)][_0xd33a7f(0x779)][_0xd33a7f(0x68c)](this[_0xd33a7f(0x86d)]);this['localWebhook'][_0xd33a7f(0x6df)]=_0x3f9ec6?.['url'],this[_0xd33a7f(0x680)][_0xd33a7f(0x3b3)]=_0x3f9ec6?.[_0xd33a7f(0x3b3)],this[_0xd33a7f(0x680)][_0xd33a7f(0x3c3)]=_0x3f9ec6?.[_0xd33a7f(0x3c3)],this[_0xd33a7f(0x680)][_0xd33a7f(0x8c8)]=_0x3f9ec6?.[_0xd33a7f(0x8c8)],this[_0xd33a7f(0x680)][_0xd33a7f(0x7f5)]=_0x3f9ec6?.[_0xd33a7f(0x7f5)],this[_0xd33a7f(0x680)][_0xd33a7f(0x7e1)]=_0x3f9ec6?.[_0xd33a7f(0x7e1)],this[_0xd33a7f(0x680)][_0xd33a7f(0x8ef)]=_0x3f9ec6?.[_0xd33a7f(0x8ef)],this['localWebhook'][_0xd33a7f(0x6d6)]=_0x3f9ec6?.[_0xd33a7f(0x6d6)],this[_0xd33a7f(0x680)]['GROUPS_UPSERT']=_0x3f9ec6?.['GROUPS_UPSERT'],this['localWebhook']['GROUPS_UPDATE']=_0x3f9ec6?.[_0xd33a7f(0x8e3)],this[_0xd33a7f(0x680)][_0xd33a7f(0x3d2)]=_0x3f9ec6?.[_0xd33a7f(0x3d2)],this[_0xd33a7f(0x680)][_0xd33a7f(0x2c5)]=_0x3f9ec6?.[_0xd33a7f(0x2c5)],this['localWebhook']['CHATS_UPSERT']=_0x3f9ec6?.['CHATS_UPSERT'],this[_0xd33a7f(0x680)][_0xd33a7f(0x2ac)]=_0x3f9ec6?.['CHATS_UPDATE'],this['localWebhook'][_0xd33a7f(0x443)]=_0x3f9ec6?.[_0xd33a7f(0x443)],this['localWebhook'][_0xd33a7f(0x39e)]=_0x3f9ec6?.[_0xd33a7f(0x39e)],this['localWebhook'][_0xd33a7f(0x278)]=_0x3f9ec6?.[_0xd33a7f(0x278)],this[_0xd33a7f(0x680)][_0xd33a7f(0x63d)]=_0x3f9ec6?.[_0xd33a7f(0x63d)],this[_0xd33a7f(0x680)][_0xd33a7f(0x66a)]=_0x3f9ec6?.[_0xd33a7f(0x66a)],this[_0xd33a7f(0x680)][_0xd33a7f(0x369)]=_0x3f9ec6?.[_0xd33a7f(0x369)],this[_0xd33a7f(0x680)]['CONNECTION_UPDATE']=_0x3f9ec6?.[_0xd33a7f(0x69f)],this['localWebhook'][_0xd33a7f(0x79e)]=_0x3f9ec6?.[_0xd33a7f(0x79e)];}async[a0_0x21bcc2(0x787)](_0x11f491){const _0xeadfad=a0_0x21bcc2;let _0xd44601=[_0xeadfad(0x644),_0xeadfad(0x6df),_0xeadfad(0x3b3),_0xeadfad(0x3c3),_0xeadfad(0x8c8),_0xeadfad(0x7f5),_0xeadfad(0x6d6),'MESSAGES_UPSERT',_0xeadfad(0x7e1),'GROUPS_UPSERT','GROUPS_UPDATE',_0xeadfad(0x3d2),_0xeadfad(0x2c5),_0xeadfad(0x456),'CHATS_UPDATE','CHATS_DELETE',_0xeadfad(0x39e),_0xeadfad(0x278),'CONTACTS_UPDATE','PRESENCE_UPDATE','MESSAGES_SET',_0xeadfad(0x69f),_0xeadfad(0x79e)],_0x1a7559={};return _0xd44601[_0xeadfad(0x653)](_0x2151b7=>{_0x11f491[_0x2151b7]!==void 0x0&&(_0x1a7559[_0x2151b7]=_0x11f491[_0x2151b7]);}),_0x1a7559[_0xeadfad(0x6df)]&&(_0x1a7559['url']=_0x1a7559[_0xeadfad(0x6df)][_0xeadfad(0x57a)]()),await this['repository']['webhook'][_0xeadfad(0x64a)](_0x1a7559,this[_0xeadfad(0x86d)]),Object[_0xeadfad(0x5a0)](this[_0xeadfad(0x680)],_0x1a7559),await this['repository'][_0xeadfad(0x779)][_0xeadfad(0x68c)](this[_0xeadfad(0x86d)]);}async[a0_0x21bcc2(0x75c)](){const _0x3f3311=a0_0x21bcc2;return await this[_0x3f3311(0x5bb)]['webhook']['find'](this[_0x3f3311(0x86d)]);}async[a0_0x21bcc2(0x42e)](_0x307445,_0x501f9a){const _0x1fefd0=a0_0x21bcc2;let _0x3738fb=_0x307445[_0x1fefd0(0x243)](/[\.-]/gm,'_')[_0x1fefd0(0x352)](),_0x5c4c3f=this[_0x1fefd0(0x680)][_0x1fefd0(0x3b3)]&&(0x0,k[_0x1fefd0(0x69a)])(this[_0x1fefd0(0x680)][_0x1fefd0(0x6df)])?this[_0x1fefd0(0x680)]['url']+(this[_0x1fefd0(0x680)]['local_map']?this[_0x1fefd0(0x89c)][_0x307445]:''):null,_0x37ddc0=this[_0x1fefd0(0x680)][_0x3738fb],_0x254052=me&&me[_0x1fefd0(0x3b3)]&&(0x0,k[_0x1fefd0(0x69a)])(me[_0x1fefd0(0x6df)])?me['url']+(me[_0x1fefd0(0x3c3)]?this[_0x1fefd0(0x89c)][_0x307445]:''):null,_0x944846=me?me[_0x3738fb]:null;if(_0x37ddc0&&_0x5c4c3f)try{await Y[_0x1fefd0(0x7ac)][_0x1fefd0(0x64a)]({'baseURL':_0x5c4c3f})[_0x1fefd0(0x885)]('',{'event':_0x307445,'instance':this['instance'][_0x1fefd0(0x83e)],'apikey':this[_0x1fefd0(0x5cb)][_0x1fefd0(0x8c1)],'data':_0x501f9a}),this[_0x1fefd0(0x74f)][_0x1fefd0(0x8b0)](this['instanceName']+'\x20('+this[_0x1fefd0(0x5cb)][_0x1fefd0(0x406)]+_0x1fefd0(0x3df)+_0x307445+':\x20'+_0x5c4c3f);}catch{this[_0x1fefd0(0x74f)]['error'](this['instanceName']+'\x20('+this[_0x1fefd0(0x5cb)][_0x1fefd0(0x406)]+_0x1fefd0(0x6f3)+_0x307445+':\x20'+_0x5c4c3f);}if(_0x944846&&_0x254052)try{await Y[_0x1fefd0(0x7ac)]['create']({'baseURL':_0x254052})[_0x1fefd0(0x885)]('',{'event':_0x307445,'instance':this[_0x1fefd0(0x5cb)][_0x1fefd0(0x83e)],'apikey':this[_0x1fefd0(0x5cb)][_0x1fefd0(0x8c1)],'data':_0x501f9a}),this['logger'][_0x1fefd0(0x8b0)](this[_0x1fefd0(0x86d)]+'\x20('+this[_0x1fefd0(0x5cb)]['wuid']+_0x1fefd0(0x3b1)+_0x307445+':\x20'+_0x254052);}catch{this['logger'][_0x1fefd0(0x2fe)](this[_0x1fefd0(0x86d)]+'\x20('+this[_0x1fefd0(0x5cb)][_0x1fefd0(0x406)]+_0x1fefd0(0x8e9)+_0x307445+':\x20'+_0x254052);}}async[a0_0x21bcc2(0x77f)]({qr:_0x244f8b,connection:_0x4c6ac6,lastDisconnect:_0x47876f,receivedPendingNotifications:_0x5e0a43}){const _0x1b2daa=a0_0x21bcc2;if(_0x244f8b){if(this[_0x1b2daa(0x5cb)]['qrcode'][_0x1b2daa(0x30f)]===Fo)return this['sendDataWebhook'](_0x1b2daa(0x737),{'message':_0x1b2daa(0x7da),'statusCode':w[_0x1b2daa(0x50d)][_0x1b2daa(0x224)]}),this['stateConnection']={'state':_0x1b2daa(0x60c),'statusReason':w['DisconnectReason'][_0x1b2daa(0x6eb)]},this['sendDataWebhook'](_0x1b2daa(0x33f),{'instance':this[_0x1b2daa(0x5cb)]['name'],...this[_0x1b2daa(0x491)]}),this[_0x1b2daa(0x42e)]('status.instance',{'instance':this[_0x1b2daa(0x5cb)]['name'],'status':'removed'}),this[_0x1b2daa(0x5bb)][_0x1b2daa(0x497)][_0x1b2daa(0x8b1)](this[_0x1b2daa(0x5cb)][_0x1b2daa(0x83e)]),this[_0x1b2daa(0x5e1)]=!0x0,ge[_0x1b2daa(0x7cc)](Z,this[_0x1b2daa(0x5cb)][_0x1b2daa(0x83e)]),this['eventEmitter']['emit'](_0x1b2daa(0x45e),this[_0x1b2daa(0x5cb)][_0x1b2daa(0x83e)]);this[_0x1b2daa(0x5cb)][_0x1b2daa(0x501)][_0x1b2daa(0x30f)]++;let _0x15a65a={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x1b2daa(0x835),'dark':_0x1b2daa(0x8cd)}};xi[_0x1b2daa(0x7ac)]['toDataURL'](_0x244f8b,_0x15a65a,(_0x536b42,_0x3d30b1)=>{const _0xda7be3=_0x1b2daa;if(_0x536b42){this['logger'][_0xda7be3(0x2fe)](this[_0xda7be3(0x86d)]+'\x20('+this['instance'][_0xda7be3(0x406)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x536b42 instanceof Error?_0x536b42[_0xda7be3(0x4a8)]:JSON['stringify'](_0x536b42,null,0x2)));return;}this[_0xda7be3(0x5cb)][_0xda7be3(0x501)][_0xda7be3(0x21f)]=_0x3d30b1,this[_0xda7be3(0x5cb)]['qrcode']['code']=_0x244f8b,!this['phoneNumber']&&this[_0xda7be3(0x42e)](_0xda7be3(0x737),{'qrcode':{'instance':this[_0xda7be3(0x5cb)]['name'],'pairingCode':this[_0xda7be3(0x5cb)][_0xda7be3(0x501)][_0xda7be3(0x208)],'code':_0x244f8b,'base64':_0x3d30b1}});}),this['phoneNumber']?this[_0x1b2daa(0x5cb)][_0x1b2daa(0x501)]['pairingCode']||(await(0x0,w[_0x1b2daa(0x505)])(0x7d0),this[_0x1b2daa(0x5cb)][_0x1b2daa(0x501)]['pairingCode']=await this['client'][_0x1b2daa(0x25e)](this[_0x1b2daa(0x367)])):this[_0x1b2daa(0x5cb)]['qrcode'][_0x1b2daa(0x208)]=null,Di[_0x1b2daa(0x7ac)][_0x1b2daa(0x829)](_0x244f8b,{'small':!0x0},_0x29d54c=>this[_0x1b2daa(0x74f)][_0x1b2daa(0x8b0)](_0x1b2daa(0x5fc)+this['instance'][_0x1b2daa(0x83e)]+_0x1b2daa(0x526)+this[_0x1b2daa(0x5cb)]['qrcode'][_0x1b2daa(0x30f)]+_0x1b2daa(0x740)+this[_0x1b2daa(0x5cb)]['qrcode'][_0x1b2daa(0x208)]+_0x1b2daa(0x57f)+_0x29d54c));}if(_0x4c6ac6&&(this['stateConnection']={'state':_0x4c6ac6,'statusReason':_0x47876f?.[_0x1b2daa(0x2fe)]?.[_0x1b2daa(0x745)]?.['statusCode']??0xc8},this[_0x1b2daa(0x42e)](_0x1b2daa(0x33f),{'instance':this[_0x1b2daa(0x5cb)][_0x1b2daa(0x83e)],...this[_0x1b2daa(0x491)]})),_0x4c6ac6===_0x1b2daa(0x59f)){if(this[_0x1b2daa(0x4f8)]++,this[_0x1b2daa(0x581)][_0x1b2daa(0x2ea)](Date[_0x1b2daa(0x462)]()),this[_0x1b2daa(0x581)]=this['reconnectTimestamps'][_0x1b2daa(0x874)](_0x504cd9=>Date['now']()-_0x504cd9<this[_0x1b2daa(0x889)]),_0x47876f['error']?.[_0x1b2daa(0x745)]?.['statusCode']!==w[_0x1b2daa(0x50d)]['loggedOut']){let _0x310a31=this[_0x1b2daa(0x4f8)]<=0x1?0x0:Math[_0x1b2daa(0x2ee)](Math[_0x1b2daa(0x5c6)](0x2,this[_0x1b2daa(0x4f8)]-0x1)*0x3e8,0x493e0);console[_0x1b2daa(0x8b0)](this['instanceName']+_0x1b2daa(0x7a5)+this[_0x1b2daa(0x4f8)]+_0x1b2daa(0x6a2)+_0x310a31/0x3e8+'\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0x25f543=>setTimeout(_0x25f543,_0x310a31)),console[_0x1b2daa(0x8b0)](_0x1b2daa(0x363)),await this[_0x1b2daa(0x3ee)]();}else{this[_0x1b2daa(0x42e)](_0x1b2daa(0x4a0),{'instance':this[_0x1b2daa(0x5cb)][_0x1b2daa(0x83e)],'status':'removed'}),this['instance'][_0x1b2daa(0x6dc)][_0x1b2daa(0x395)]=!0x1,this[_0x1b2daa(0x5bb)]['webhook'][_0x1b2daa(0x8b1)](this['instanceName']),this[_0x1b2daa(0x5bb)][_0x1b2daa(0x497)][_0x1b2daa(0x64a)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x1b2daa(0x462)]()},this[_0x1b2daa(0x5cb)][_0x1b2daa(0x83e)]),ge[_0x1b2daa(0x7cc)](Z,this['instance'][_0x1b2daa(0x83e)]);try{this[_0x1b2daa(0x74f)][_0x1b2daa(0x78f)](this[_0x1b2daa(0x86d)]+'\x20('+this['instance'][_0x1b2daa(0x406)]+_0x1b2daa(0x39b));let _0x18631d=await this[_0x1b2daa(0x5bb)][_0x1b2daa(0x4a8)][_0x1b2daa(0x59e)](this['instance'][_0x1b2daa(0x406)]);_0x18631d[_0x1b2daa(0x906)]?this[_0x1b2daa(0x74f)][_0x1b2daa(0x78f)](this['instanceName']+'\x20('+this[_0x1b2daa(0x5cb)][_0x1b2daa(0x406)]+_0x1b2daa(0x7df)):this[_0x1b2daa(0x74f)][_0x1b2daa(0x2fe)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20'+_0x18631d[_0x1b2daa(0x2fe)]);}catch(_0x37aef0){this['logger'][_0x1b2daa(0x2fe)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20'+_0x37aef0[_0x1b2daa(0x4a8)]);}this[_0x1b2daa(0x5cb)]['ScheduleMessage'][_0x1b2daa(0x634)]!==null&&(this[_0x1b2daa(0x74f)][_0x1b2daa(0x78f)](this['instanceName']+'\x20('+this['instance'][_0x1b2daa(0x406)]+'):\x20Limpando\x20delayMessage'),clearInterval(this['instance'][_0x1b2daa(0x6dc)][_0x1b2daa(0x634)]),this[_0x1b2daa(0x5cb)][_0x1b2daa(0x6dc)][_0x1b2daa(0x634)]=null),this[_0x1b2daa(0x74f)]['verbose'](this[_0x1b2daa(0x86d)]+'\x20('+this[_0x1b2daa(0x5cb)][_0x1b2daa(0x406)]+_0x1b2daa(0x6fe)),this[_0x1b2daa(0x246)]=null,this[_0x1b2daa(0x596)][_0x1b2daa(0x3da)]('remove.instance',this[_0x1b2daa(0x5cb)][_0x1b2daa(0x83e)],_0x1b2daa(0x4b4)),this['client']?.['ws']?.[_0x1b2daa(0x59f)](),this[_0x1b2daa(0x2cd)]['end'](new Error(_0x1b2daa(0x7c5)));}}if(_0x4c6ac6===_0x1b2daa(0x5f3)){this[_0x1b2daa(0x74f)][_0x1b2daa(0x88a)](this['instanceName']+'\x20('+this[_0x1b2daa(0x5cb)][_0x1b2daa(0x406)]+_0x1b2daa(0x8d9)+this['client'][_0x1b2daa(0x619)][_0x1b2daa(0x7d0)]?.[_0x1b2daa(0x615)]),this[_0x1b2daa(0x2cd)]['authState'][_0x1b2daa(0x7d0)]?.[_0x1b2daa(0x615)]||(this[_0x1b2daa(0x74f)][_0x1b2daa(0x88a)](this[_0x1b2daa(0x86d)]+'\x20('+this[_0x1b2daa(0x5cb)][_0x1b2daa(0x406)]+_0x1b2daa(0x371)),this[_0x1b2daa(0x2cd)]['ev'][_0x1b2daa(0x684)]()),this['resetReconnectionVariables'],this[_0x1b2daa(0x5cb)][_0x1b2daa(0x406)]=this[_0x1b2daa(0x2cd)]['user']['id'][_0x1b2daa(0x243)](/:\d+/,'')[_0x1b2daa(0x243)]('@s.whatsapp.net',''),this[_0x1b2daa(0x5cb)][_0x1b2daa(0x6d4)]=(await this['profilePicture'](this['instance'][_0x1b2daa(0x406)]+_0x1b2daa(0x293)))[_0x1b2daa(0x6d4)],this[_0x1b2daa(0x5bb)][_0x1b2daa(0x497)]['create']({'online':!0x0,'owner':this[_0x1b2daa(0x5cb)][_0x1b2daa(0x406)],'lastDisconnect':null},this[_0x1b2daa(0x5cb)][_0x1b2daa(0x83e)]);let _0xaab97c=_0x1b2daa(0x381)+this['instance'][_0x1b2daa(0x406)],_0x729256=0x28,_0x5a44e6=Math['floor']((_0x729256-_0xaab97c['length'])/0x2),_0x342620='\x20'[_0x1b2daa(0x72d)](_0x5a44e6),_0x452582=_0x1b2daa(0x81f),_0x8c9597=_0x1b2daa(0x265)+this['instance'][_0x1b2daa(0x83e)],_0x4e8d18=(''+_0x342620+_0xaab97c+_0x342620)[_0x1b2daa(0x8e1)](_0x729256,'\x20'),_0x5e4476=(''+_0x342620+_0x452582+_0x342620)['padEnd'](_0x729256,'\x20'),_0x564eba=(''+_0x342620+_0x8c9597+_0x342620)[_0x1b2daa(0x8e1)](_0x729256,'\x20'),_0x47af5b=Math[_0x1b2daa(0x89e)](_0x4e8d18['length'],_0x5e4476[_0x1b2daa(0x7be)],_0x564eba[_0x1b2daa(0x7be)]),_0xbd4c77=_0x4e8d18[_0x1b2daa(0x8e1)](_0x47af5b,'\x20'),_0x44dcbe=_0x5e4476['padEnd'](_0x47af5b,'\x20'),_0x4377b3=_0x564eba[_0x1b2daa(0x8e1)](_0x47af5b,'\x20');this[_0x1b2daa(0x74f)]['info']((_0x1b2daa(0x8b5)+'─'[_0x1b2daa(0x72d)](_0x47af5b)+_0x1b2daa(0x28a)+_0x44dcbe+_0x1b2daa(0x49d)+_0x4377b3+_0x1b2daa(0x49d)+_0xbd4c77+_0x1b2daa(0x563)+'─'[_0x1b2daa(0x72d)](_0x47af5b)+'┘')[_0x1b2daa(0x243)](/^ +/gm,'\x20\x20')),this[_0x1b2daa(0x4da)](),this['instance']['ScheduleMessage'][_0x1b2daa(0x395)]=!0x0;}}[a0_0x21bcc2(0x5a7)](){this['reconnectAttempts']=0x0,this['reconnectTimestamps']=[];}async[a0_0x21bcc2(0x46b)](_0x239138,_0x1077c6=!0x1){const _0x30ebc1=a0_0x21bcc2;try{let _0xd93174=await this[_0x30ebc1(0x5bb)][_0x30ebc1(0x4a8)][_0x30ebc1(0x68c)]({'where':{'_id':_0x239138['id']}},this[_0x30ebc1(0x5cb)][_0x30ebc1(0x406)]);return _0x1077c6?_0xd93174[0x0]:_0xd93174[0x0][_0x30ebc1(0x4a8)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x1fb4aa=a0_0x21bcc2;let _0x5b890f=this['configService'][_0x1fb4aa(0x725)](_0x1fb4aa(0x927)),_0x188a2a=this[_0x1fb4aa(0x928)][_0x1fb4aa(0x725)]('DATABASE');_0x5b890f?.['CLEANING_INTERVAL']&&!_0x188a2a[_0x1fb4aa(0x7bc)]&&setInterval(()=>{const _0x3069ca=_0x1fb4aa;try{for(let [_0x3ad7d3,_0x2e0e9b]of Object['entries'](_0x5b890f))_0x2e0e9b===!0x0&&(0x0,Ue['execSync'])('rm\x20-rf\x20'+(0x0,U['join'])(this['storePath'],_0x3ad7d3[_0x3069ca(0x91b)](),this[_0x3069ca(0x5cb)]['wuid'])+'/*.json');}catch{}},(_0x5b890f?.[_0x1fb4aa(0x5d6)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x55e88f=a0_0x21bcc2;let _0x340ecd=this[_0x55e88f(0x928)][_0x55e88f(0x725)](_0x55e88f(0x304)),_0x1dbf2f=this['configService'][_0x55e88f(0x725)](_0x55e88f(0x537));return _0x1dbf2f?.['ENABLED']?await _s(_0x1dbf2f,this[_0x55e88f(0x5cb)][_0x55e88f(0x83e)]):_0x340ecd[_0x55e88f(0x7bc)]?await Os(this[_0x55e88f(0x5cb)][_0x55e88f(0x83e)]):await(0x0,w['useMultiFileAuthState'])((0x0,U[_0x55e88f(0x720)])(Se,this['instance'][_0x55e88f(0x83e)]));}async[a0_0x21bcc2(0x4da)](){const _0x5c5176=a0_0x21bcc2;let _0x53daa5=()=>Math[_0x5c5176(0x921)](Math[_0x5c5176(0x4ec)]()*0x4e21)+0x7d0,_0x188448=async()=>{const _0x5badf3=_0x5c5176;if(!this['instance'][_0x5badf3(0x6dc)][_0x5badf3(0x395)]){this[_0x5badf3(0x74f)][_0x5badf3(0x78f)](this[_0x5badf3(0x86d)]+'\x20('+this[_0x5badf3(0x5cb)]['wuid']+_0x5badf3(0x3e4)),this[_0x5badf3(0x4be)]=!0x1;return;}if(this['instance'][_0x5badf3(0x406)]&&this[_0x5badf3(0x246)]&&this[_0x5badf3(0x5cb)][_0x5badf3(0x6dc)]['delayMessage']!==null&&this[_0x5badf3(0x5cb)][_0x5badf3(0x6dc)][_0x5badf3(0x634)]!==void 0x0){let _0x3fa714=Math[_0x5badf3(0x8e7)](this[_0x5badf3(0x5cb)][_0x5badf3(0x6dc)][_0x5badf3(0x634)]/0xea60);this[_0x5badf3(0x74f)][_0x5badf3(0x78f)](this[_0x5badf3(0x86d)]+'\x20('+this[_0x5badf3(0x5cb)][_0x5badf3(0x406)]+_0x5badf3(0x686)+_0x3fa714+_0x5badf3(0x597)),this['isRunning']=!0x1;return;}else this['instance'][_0x5badf3(0x406)]&&(this['logger']['verbose'](this[_0x5badf3(0x86d)]+'\x20('+this[_0x5badf3(0x5cb)][_0x5badf3(0x406)]+_0x5badf3(0x7ba)),this['AutomateSystem']||(await this[_0x5badf3(0x27c)](),this[_0x5badf3(0x271)](),this[_0x5badf3(0x1fe)]()),(this['instance'][_0x5badf3(0x6dc)][_0x5badf3(0x634)]===null||this['instance'][_0x5badf3(0x6dc)]['delayMessage']===void 0x0)&&await this[_0x5badf3(0x706)]());if(this[_0x5badf3(0x4be)]){let _0x3eba28=_0x53daa5();this[_0x5badf3(0x74f)][_0x5badf3(0x78f)](this['instanceName']+_0x5badf3(0x2f7)+_0x3eba28/0x3e8+_0x5badf3(0x269)),setTimeout(_0x188448,_0x3eba28);}};if(this['isRunning'])return;this[_0x5c5176(0x4be)]=!0x0;let _0x1caa5c=_0x53daa5();setTimeout(_0x188448,_0x1caa5c);}async[a0_0x21bcc2(0x1fe)](){const _0xe540cb=a0_0x21bcc2;let _0x47d560=this[_0xe540cb(0x5cb)][_0xe540cb(0x406)];try{let _0x1cb1d0=await this['repository'][_0xe540cb(0x3f5)][_0xe540cb(0x503)]({'where':{'$or':[{'owner':_0x47d560},{'whoCanUse':{'$in':[_0x47d560]}},{'shareOwners':{'$in':[_0x47d560]}}]}}),_0x4a8c11=new Map(this[_0xe540cb(0x246)][_0xe540cb(0x291)][_0xe540cb(0x867)](_0xdb1e07=>[_0xdb1e07['_id'],_0xdb1e07])),_0x23d295=_0x1cb1d0[_0xe540cb(0x867)](_0xc7ac0c=>{const _0x49df1b=_0xe540cb;let _0x464768=_0x4a8c11[_0x49df1b(0x725)](_0xc7ac0c['_id']?.[_0x49df1b(0x929)]());return{'_id':_0xc7ac0c[_0x49df1b(0x644)]?.[_0x49df1b(0x929)](),'name':_0x464768?.['name']??_0xc7ac0c[_0x49df1b(0x83e)],'default':_0x464768?.[_0x49df1b(0x7ac)]??_0xc7ac0c[_0x49df1b(0x7ac)]??!0x1,'startCommand':_0x464768?.[_0x49df1b(0x315)]??_0xc7ac0c[_0x49df1b(0x520)],'minutesToClose':_0x464768?.[_0x49df1b(0x781)]??_0xc7ac0c[_0x49df1b(0x781)]??0xa,'readMessages':_0x464768?.[_0x49df1b(0x75a)]??_0xc7ac0c[_0x49df1b(0x75a)]??!0x1,'testingWith':_0x464768?.['testingWith']??_0xc7ac0c[_0x49df1b(0x219)],'canEdit':_0xc7ac0c['owner']===_0x47d560||(_0xc7ac0c[_0x49df1b(0x437)]??[])[_0x49df1b(0x587)](_0x47d560),'usersCount':(_0xc7ac0c[_0x49df1b(0x85f)]??[])['length']??0x0};}),_0x119415=!0x1;_0x23d295[_0xe540cb(0x653)](_0x498da2=>{const _0xb101b3=_0xe540cb;_0x498da2[_0xb101b3(0x7ac)]&&(_0x119415?_0x498da2[_0xb101b3(0x7ac)]=!0x1:_0x119415=!0x0);}),this[_0xe540cb(0x246)][_0xe540cb(0x291)]=_0x23d295;let _0x2d59da={'flows':_0x23d295};return await this[_0xe540cb(0x5bb)][_0xe540cb(0x26a)][_0xe540cb(0x7ed)](_0x2d59da,_0x47d560),this[_0xe540cb(0x74f)][_0xe540cb(0x78f)](this['instanceName']+'\x20('+_0x47d560+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x23d295['length'];}catch(_0xb565a8){return this[_0xe540cb(0x74f)][_0xe540cb(0x2fe)](this[_0xe540cb(0x86d)]+'\x20('+_0x47d560+_0xe540cb(0x26e)+(_0xb565a8 instanceof Error?_0xb565a8[_0xe540cb(0x4a8)]:JSON['stringify'](_0xb565a8,null,0x2))),{'message':_0xe540cb(0x3d1)+(_0xb565a8 instanceof Error?_0xb565a8[_0xe540cb(0x4a8)]:JSON[_0xe540cb(0x261)](_0xb565a8,null,0x2))};}}async['connectToWhatsapp'](_0x7285de){const _0x39a35c=a0_0x21bcc2;try{let _0x46c364=await this[_0x39a35c(0x5bb)][_0x39a35c(0x5cb)][_0x39a35c(0x7db)]({'where':{'_id':Z+'-'+this[_0x39a35c(0x86d)]}}),_0x249a86;console[_0x39a35c(0x8b0)]('--------------------------------------'),console['log'](_0x39a35c(0x58e),Ti),console['log'](_0x39a35c(0x5d0),this[_0x39a35c(0x4f8)]),console['log'](_0x39a35c(0x765)),Ti&&(this[_0x39a35c(0x4f8)]<0x6||!this['reconnectAttempts'])&&(!ge[_0x39a35c(0x3e0)]||!ge[_0x39a35c(0x5ac)]?(console[_0x39a35c(0x2fe)](_0x39a35c(0x21e)),_0x249a86=void 0x0):_0x46c364&&_0x46c364['ip']?(_0x249a86=_0x46c364['ip'],console['log'](_0x39a35c(0x276)+_0x249a86)):(_0x249a86=await ge[_0x39a35c(0x2b9)](Z,this[_0x39a35c(0x5cb)][_0x39a35c(0x83e)]),_0x249a86?(console['log'](_0x39a35c(0x893)+_0x249a86),await(0x0,w[_0x39a35c(0x505)])(0x7d0)):console[_0x39a35c(0x2fe)](_0x39a35c(0x687)))),this[_0x39a35c(0x5fa)](),this[_0x39a35c(0x5cb)][_0x39a35c(0x8c1)]=(await this[_0x39a35c(0x5bb)]['auth'][_0x39a35c(0x68c)](this[_0x39a35c(0x5cb)]['name']))[_0x39a35c(0x8c1)],this['instance'][_0x39a35c(0x619)]=await this[_0x39a35c(0x7c0)]();let {version:_0x1f5405}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x3dca2b=[ki,Fs,(0x0,Ps[_0x39a35c(0x8cc)])()],_0x38dc8e={'localAddress':_0x249a86,'auth':{'creds':this[_0x39a35c(0x5cb)][_0x39a35c(0x619)]['state'][_0x39a35c(0x7d0)],'keys':(0x0,w[_0x39a35c(0x202)])(this['instance']['authState'][_0x39a35c(0x642)]['keys'],(0x0,Jt[_0x39a35c(0x7ac)])({'level':_0x39a35c(0x2fe)}))},'logger':(0x0,Jt[_0x39a35c(0x7ac)])({'level':_0x39a35c(0x2fe)}),'printQRInTerminal':!0x1,'browser':_0x7285de?[_0x39a35c(0x3f3),Fs,(0x0,Ps[_0x39a35c(0x8cc)])()]:_0x3dca2b,'version':_0x1f5405,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x537a7d=>{const _0x3209e4=_0x39a35c;let _0x387c5c=this['localWebhook']?.['groups_ignore']&&(0x0,w[_0x3209e4(0x55c)])(_0x537a7d);return(0x0,w[_0x3209e4(0x923)])(_0x537a7d)||_0x387c5c;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x5eb418=>await this[_0x39a35c(0x46b)](_0x5eb418),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x39a35c(0x2d0)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x3ef141=>(_0x3ef141['listMessage']?.[_0x39a35c(0x866)]==w[_0x39a35c(0x64b)][_0x39a35c(0x2c0)]['ListMessage'][_0x39a35c(0x780)][_0x39a35c(0x2fc)]&&(_0x3ef141=JSON['parse'](JSON[_0x39a35c(0x261)](_0x3ef141)),_0x3ef141[_0x39a35c(0x2d9)][_0x39a35c(0x866)]=w['proto'][_0x39a35c(0x2c0)][_0x39a35c(0x39a)][_0x39a35c(0x780)]['SINGLE_SELECT']),_0x3ef141)};return this[_0x39a35c(0x5e1)]=!0x1,this[_0x39a35c(0x2cd)]=(0x0,w[_0x39a35c(0x7ac)])(_0x38dc8e),this[_0x39a35c(0x306)](),this[_0x39a35c(0x367)]=_0x7285de,this['client'];}catch(_0x3c406e){let _0x3805e0='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp',_0x2e2989=_0x3c406e instanceof Error?_0x3c406e[_0x39a35c(0x4a8)]:typeof _0x3c406e==_0x39a35c(0x82b)?JSON[_0x39a35c(0x261)](_0x3c406e):_0x3c406e,_0x5dab51=_0x3805e0+':\x20'+_0x2e2989;throw this['logger'][_0x39a35c(0x2fe)](this[_0x39a35c(0x86d)]+'\x20('+this['instance'][_0x39a35c(0x406)]+'):\x20'+_0x5dab51),new x(_0x5dab51);}}[a0_0x21bcc2(0x306)](){const _0x10012b=a0_0x21bcc2;this[_0x10012b(0x2cd)]['ev'][_0x10012b(0x8e5)](_0x5a25f5=>{const _0x35cf04=_0x10012b;if(!this[_0x35cf04(0x5e1)]){let _0x14d642=this[_0x35cf04(0x928)][_0x35cf04(0x725)]('DATABASE');if(_0x5a25f5[_0x35cf04(0x6af)]){let _0x4113e0=_0x5a25f5[_0x35cf04(0x6af)];this['messageHandle']['labels.edit'](_0x4113e0);}if(_0x5a25f5[_0x35cf04(0x776)]){let _0x46fa6c=_0x5a25f5[_0x35cf04(0x776)];this['messageHandle'][_0x35cf04(0x776)](_0x46fa6c);}if(_0x5a25f5[_0x35cf04(0x33f)]&&this[_0x35cf04(0x77f)](_0x5a25f5[_0x35cf04(0x33f)]),_0x5a25f5['creds.update']&&this[_0x35cf04(0x5cb)][_0x35cf04(0x619)][_0x35cf04(0x2c3)](),_0x5a25f5[_0x35cf04(0x295)]){let _0x25d982=_0x5a25f5[_0x35cf04(0x295)];this[_0x35cf04(0x6c1)][_0x35cf04(0x295)](_0x25d982,_0x14d642);}if(_0x5a25f5['messages.upsert']){let _0xcf3a7a=_0x5a25f5[_0x35cf04(0x74d)];this[_0x35cf04(0x6c1)][_0x35cf04(0x74d)](_0xcf3a7a,_0x14d642);}if(_0x5a25f5[_0x35cf04(0x223)]){let _0x242ffa=_0x5a25f5[_0x35cf04(0x223)];_0x242ffa['forEach'](_0x1b9cb4=>{const _0xa64a27=_0x35cf04;if(Oi[_0x1b9cb4['key']['id']]){this[_0xa64a27(0x2cd)]['ev'][_0xa64a27(0x3da)](_0xa64a27(0x74d),{'messages':[_0x1b9cb4],'type':_0xa64a27(0x339)}),delete Oi[_0x1b9cb4[_0xa64a27(0x3fe)]['id']];return;}}),this[_0x35cf04(0x6c1)]['messages.update'](_0x242ffa,_0x14d642);}if(_0x5a25f5[_0x35cf04(0x1e6)]){let _0xceaece=_0x5a25f5['presence.update'];if(this[_0x35cf04(0x680)]?.[_0x35cf04(0x79e)]&&_0xceaece['id'][_0x35cf04(0x587)](_0x35cf04(0x489)))return;this['sendDataWebhook'](_0x35cf04(0x1e6),_0xceaece);}if(_0x5a25f5['groups.upsert']){let _0x475e6a=_0x5a25f5['groups.upsert'];this[_0x35cf04(0x62f)][_0x35cf04(0x26b)](_0x475e6a);}if(_0x5a25f5[_0x35cf04(0x218)]){let _0x316863=_0x5a25f5[_0x35cf04(0x218)];this['groupHandler'][_0x35cf04(0x218)](_0x316863);}if(_0x5a25f5['group-participants.update']){let _0x17447e=_0x5a25f5[_0x35cf04(0x7d9)];this['groupHandler'][_0x35cf04(0x7d9)](_0x17447e);}if(_0x5a25f5[_0x35cf04(0x3d4)]){let _0x3ef70b=_0x5a25f5[_0x35cf04(0x3d4)];this[_0x35cf04(0x1e2)][_0x35cf04(0x3d4)](_0x3ef70b,_0x14d642);}if(_0x5a25f5['chats.update']){let _0x23d9fb=_0x5a25f5['chats.update'];this[_0x35cf04(0x1e2)][_0x35cf04(0x673)](_0x23d9fb,_0x14d642);}if(_0x5a25f5[_0x35cf04(0x541)]){let _0x1c1119=_0x5a25f5[_0x35cf04(0x541)];this['chatHandle'][_0x35cf04(0x541)](_0x1c1119);}if(_0x5a25f5[_0x35cf04(0x340)]){let _0x325252=_0x5a25f5[_0x35cf04(0x340)];this['contactHandle'][_0x35cf04(0x340)](_0x325252,_0x14d642);}if(_0x5a25f5[_0x35cf04(0x775)]){let _0x5b8dcb=_0x5a25f5[_0x35cf04(0x775)];this[_0x35cf04(0x37b)][_0x35cf04(0x775)](_0x5b8dcb,_0x14d642);}}});}[a0_0x21bcc2(0x336)](_0x258b2a){return new Promise(_0x398ca6=>setTimeout(_0x398ca6,_0x258b2a));}[a0_0x21bcc2(0x3f0)](_0x18471d){const _0x536ed2=a0_0x21bcc2;_0x18471d=_0x18471d[_0x536ed2(0x243)](/\D/g,'');let _0xd81edb=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x536ed2(0x8b3)](_0x18471d);if(_0xd81edb&&_0xd81edb[0x1]==='55'){let _0x4fb808=_0xd81edb[0x2],_0x52f3ee=_0xd81edb[0x3],_0x56f6b5=_0xd81edb[0x4];if(parseInt(_0x4fb808)>=0x1f&&_0x52f3ee==='9')return _0xd81edb[0x1]+_0x4fb808+_0x56f6b5;}return _0x18471d;}[a0_0x21bcc2(0x5ce)](_0x174669){const _0x31d80a=a0_0x21bcc2;return _0x174669[_0x31d80a(0x587)](_0x31d80a(0x489))||_0x174669[_0x31d80a(0x587)](_0x31d80a(0x293))||_0x174669[_0x31d80a(0x587)](_0x31d80a(0x220))?_0x174669:(_0x174669=_0x174669?.[_0x31d80a(0x243)](/\s/g,'')[_0x31d80a(0x243)](/\+/g,'')[_0x31d80a(0x243)](/\(/g,'')[_0x31d80a(0x243)](/\)/g,'')[_0x31d80a(0x766)](/\:/)[0x0][_0x31d80a(0x766)]('@')[0x0],_0x174669['length']>=0x12?(_0x174669=_0x174669[_0x31d80a(0x243)](/[^\d-]/g,''),_0x174669+_0x31d80a(0x489)):(_0x174669=_0x174669[_0x31d80a(0x243)](/\D/g,''),_0x174669+'@s.whatsapp.net'));}async['updatePresence'](_0x12dd45){const _0x3e5525=a0_0x21bcc2;let _0x5e56e4=(await this[_0x3e5525(0x374)]({'numbers':[_0x12dd45[_0x3e5525(0x922)]]}))[0x0];if(!_0x5e56e4[_0x3e5525(0x8fb)]&&!(0x0,w[_0x3e5525(0x55c)])(_0x5e56e4['jid'])&&!_0x5e56e4[_0x3e5525(0x52b)][_0x3e5525(0x587)]('@broadcast'))throw new m(_0x5e56e4);let _0x5bfd57=_0x5e56e4['jid'];try{return await this['client'][_0x3e5525(0x6a8)](_0x5bfd57),await this['client'][_0x3e5525(0x6b5)](_0x12dd45[_0x3e5525(0x820)],_0x5bfd57),{'status':0xc8,'presence':_0x12dd45['presence']};}catch(_0x140117){let _0x4d7892=_0x3e5525(0x7bf),_0x3e7a5f=_0x140117 instanceof Error?_0x140117[_0x3e5525(0x4a8)]:typeof _0x140117==_0x3e5525(0x82b)?JSON[_0x3e5525(0x261)](_0x140117):_0x140117,_0x49503d=_0x4d7892+':\x20'+_0x3e7a5f;throw this[_0x3e5525(0x74f)][_0x3e5525(0x2fe)](this[_0x3e5525(0x86d)]+'\x20('+this['instance'][_0x3e5525(0x406)]+'):\x20'+_0x49503d),new m(_0x49503d);}}async['findAndUpdateCacheContact'](_0x41c378,_0x4b77c8,_0x4fd7fa,_0x435081=!0x0){const _0x3f1d02=a0_0x21bcc2;let _0x38fa01=await this[_0x3f1d02(0x5bb)][_0x3f1d02(0x288)][_0x3f1d02(0x7db)]({'where':{'_id':_0x41c378}});if(!_0x38fa01&&!_0x435081)return;let _0x63e2bb={'lastUpdate':Date[_0x3f1d02(0x462)]()};if(_0x4fd7fa||!_0x38fa01?.[_0x3f1d02(0x3ba)]||Date[_0x3f1d02(0x462)]()-_0x38fa01[_0x3f1d02(0x3ba)]>0x18*0x3c*0x3c*0x3e8)try{let _0x58d00b=(await this[_0x3f1d02(0x4cd)](_0x41c378))[_0x3f1d02(0x6d4)];_0x63e2bb[_0x3f1d02(0x63c)]=_0x58d00b;}catch(_0x4c1937){let _0x228fd6=_0x3f1d02(0x2b2),_0x326b94=_0x4c1937 instanceof Error?_0x4c1937[_0x3f1d02(0x4a8)]:typeof _0x4c1937==_0x3f1d02(0x82b)?JSON[_0x3f1d02(0x261)](_0x4c1937):_0x4c1937,_0x5cd50f=_0x228fd6+':\x20'+_0x326b94;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x3f1d02(0x5cb)][_0x3f1d02(0x406)]+_0x3f1d02(0x5cc)+_0x5cd50f),new m(_0x5cd50f);}return _0x4b77c8&&_0x38fa01?.[_0x3f1d02(0x83e)]!==_0x4b77c8&&(_0x63e2bb['name']=_0x4b77c8),Object['keys'](_0x63e2bb)[_0x3f1d02(0x7be)]>0x1&&(_0x38fa01?await this[_0x3f1d02(0x5bb)][_0x3f1d02(0x288)][_0x3f1d02(0x7ed)]({'where':{'_id':_0x41c378}},_0x63e2bb):await this[_0x3f1d02(0x5bb)][_0x3f1d02(0x288)][_0x3f1d02(0x6b9)]([{'_id':_0x41c378,..._0x63e2bb}]),_0x38fa01={..._0x38fa01,..._0x63e2bb}),{'cachedContact':_0x38fa01};}async[a0_0x21bcc2(0x4cd)](_0x4b0233){const _0x2819cb=a0_0x21bcc2;let _0x1f7a67=this[_0x2819cb(0x5ce)](_0x4b0233);try{return{'wuid':_0x1f7a67,'profilePictureUrl':await this[_0x2819cb(0x2cd)][_0x2819cb(0x6d4)](_0x1f7a67,'image')};}catch{return{'wuid':_0x1f7a67,'profilePictureUrl':null};}}async[a0_0x21bcc2(0x8bc)](_0x271b6b,_0x19784c,_0x12fcfd){const _0x4e20cd=a0_0x21bcc2;let _0x126cf1;try{let _0x43d27d=(await this[_0x4e20cd(0x374)]({'numbers':[_0x271b6b]}))[0x0];if(!_0x43d27d[_0x4e20cd(0x8fb)]&&!(0x0,w['isJidGroup'])(_0x43d27d[_0x4e20cd(0x52b)])&&!_0x43d27d['jid'][_0x4e20cd(0x587)](_0x4e20cd(0x220)))throw new m(_0x43d27d);_0x126cf1=_0x43d27d['jid'];}catch(_0x40b08e){_0x126cf1=_0x271b6b,this['logger'][_0x4e20cd(0x88a)](this[_0x4e20cd(0x86d)]+'\x20('+this['instance'][_0x4e20cd(0x406)]+_0x4e20cd(0x3fa)+_0x40b08e[_0x4e20cd(0x4a8)]),this[_0x4e20cd(0x74f)][_0x4e20cd(0x88a)](this[_0x4e20cd(0x86d)]+'\x20('+this[_0x4e20cd(0x5cb)][_0x4e20cd(0x406)]+_0x4e20cd(0x29f)+_0x126cf1);}try{if(_0x126cf1||(_0x126cf1=_0x271b6b,this[_0x4e20cd(0x74f)][_0x4e20cd(0x88a)](this[_0x4e20cd(0x86d)]+'\x20('+this[_0x4e20cd(0x5cb)][_0x4e20cd(0x406)]+'):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20'+_0x126cf1)),_0x12fcfd||(_0x12fcfd={}),_0x12fcfd?.[_0x4e20cd(0x505)]){await this[_0x4e20cd(0x2cd)][_0x4e20cd(0x6a8)](_0x126cf1),await this['client']['sendPresenceUpdate'](_0x12fcfd?.[_0x4e20cd(0x820)]??'composing',_0x126cf1);let _0x178da9=Math[_0x4e20cd(0x2ee)](_0x12fcfd[_0x4e20cd(0x505)],0x2710);await(0x0,w[_0x4e20cd(0x505)])(_0x178da9),await this[_0x4e20cd(0x2cd)][_0x4e20cd(0x6b5)](_0x4e20cd(0x582),_0x126cf1);}let _0xd9644d=_0x12fcfd?.['linkPreview']!=!0x1?void 0x0:!0x1,_0xf94849;if(_0x12fcfd?.['quoted']){let _0xd34d99=_0x12fcfd?.[_0x4e20cd(0x5f2)],_0x3c3002=_0xd34d99?.[_0x4e20cd(0x4a8)]?_0xd34d99:await this['getMessage'](_0xd34d99['key'],!0x0);if(!_0x3c3002)throw _0x4e20cd(0x4bc);_0xf94849=_0x3c3002;}let _0x3544be;if((0x0,w[_0x4e20cd(0x55c)])(_0x126cf1))try{let _0xd38b49=(await this[_0x4e20cd(0x5bb)][_0x4e20cd(0x580)][_0x4e20cd(0x7db)]({'where':{'_id':_0x126cf1}},this[_0x4e20cd(0x5cb)][_0x4e20cd(0x406)]))[_0x4e20cd(0x216)];if(!_0xd38b49)throw new J('Group\x20not\x20found');_0x12fcfd?.[_0x4e20cd(0x445)]&&(_0x12fcfd[_0x4e20cd(0x445)]?.['everyOne']?_0x3544be=_0xd38b49[_0x4e20cd(0x507)]['map'](_0x562a37=>_0x562a37['id']):_0x12fcfd[_0x4e20cd(0x445)]?.[_0x4e20cd(0x346)]?.[_0x4e20cd(0x7be)]&&(_0x3544be=_0x12fcfd[_0x4e20cd(0x445)][_0x4e20cd(0x346)]['map'](_0x2fb72a=>{const _0x4484d4=_0x4e20cd;let _0x13cae1=this[_0x4484d4(0x5ce)](_0x2fb72a);return(0x0,w[_0x4484d4(0x55c)])(_0x13cae1)?null:_0x13cae1;})));}catch{throw new J(_0x4e20cd(0x376));}let _0x50e609=await this['repository']['chat']['findOne']({'where':{'_id':_0x126cf1}},this['instance'][_0x4e20cd(0x406)]),_0x2eb97a=await((async()=>{const _0x5d2d0a=_0x4e20cd;let _0x412f5e={'quoted':_0xf94849,'ephemeralExpiration':_0x50e609?.[_0x5d2d0a(0x698)]??0x0};if(!_0x19784c[_0x5d2d0a(0x571)]&&!_0x19784c[_0x5d2d0a(0x8f3)]&&!_0x19784c['sticker']&&!_0x19784c['conversation']&&_0x126cf1!==_0x5d2d0a(0x7ef)&&!_0x19784c[_0x5d2d0a(0x571)])return await this[_0x5d2d0a(0x2cd)][_0x5d2d0a(0x2dd)](_0x126cf1,{'forward':{'key':{'remoteJid':this[_0x5d2d0a(0x5cb)][_0x5d2d0a(0x406)],'fromMe':!0x0},'message':_0x19784c},'mentions':_0x3544be},_0x412f5e);if(_0x19784c[_0x5d2d0a(0x631)])return await this[_0x5d2d0a(0x2cd)][_0x5d2d0a(0x2dd)](_0x126cf1,{'react':{'text':_0x19784c['reactionMessage'][_0x5d2d0a(0x839)],'key':_0x19784c['reactionMessage']['key']}},_0x412f5e);if(_0x19784c[_0x5d2d0a(0x43f)]){let _0x189c68=_0x19784c[_0x5d2d0a(0x43f)];return _0x12fcfd?.[_0x5d2d0a(0x405)]&&(_0x189c68=await this['replaceVariablesChat'](_0x189c68,_0x126cf1)),await this['client'][_0x5d2d0a(0x2dd)](_0x126cf1,{'text':_0x189c68,'mentions':_0x3544be,'linkPreview':_0xd9644d},_0x412f5e);}return _0x126cf1===_0x5d2d0a(0x7ef)?await this[_0x5d2d0a(0x2cd)]['sendMessage'](_0x126cf1,_0x19784c[_0x5d2d0a(0x41a)][_0x5d2d0a(0x25b)],{'backgroundColor':_0x19784c[_0x5d2d0a(0x41a)][_0x5d2d0a(0x3cd)][_0x5d2d0a(0x358)],'font':_0x19784c[_0x5d2d0a(0x41a)][_0x5d2d0a(0x3cd)][_0x5d2d0a(0x3ab)],'statusJidList':_0x19784c[_0x5d2d0a(0x41a)][_0x5d2d0a(0x3cd)][_0x5d2d0a(0x4c1)]}):await this[_0x5d2d0a(0x2cd)][_0x5d2d0a(0x2dd)](_0x126cf1,_0x19784c,_0x412f5e);})()),_0x46aa01=(0x0,w[_0x4e20cd(0x705)])(_0x2eb97a[_0x4e20cd(0x4a8)]),_0x4f2628=(0x0,w['getContentType'])(_0x46aa01),{message_normalized:_0x1044c6}=this['normalizeMessage'](_0x46aa01,_0x4f2628,null),_0x4c5d8f={'_id':_0x2eb97a[_0x4e20cd(0x3fe)]['id'],'key':_0x2eb97a[_0x4e20cd(0x3fe)],'pushName':_0x2eb97a[_0x4e20cd(0x7f1)],'isGroup':_0x2eb97a[_0x4e20cd(0x3fe)][_0x4e20cd(0x2c7)]['endsWith'](_0x4e20cd(0x489)),'profilePictureUrl':this[_0x4e20cd(0x5cb)][_0x4e20cd(0x6d4)],'message':_0x46aa01,'messageType':_0x4f2628,'message_normalized':{'key':_0x2eb97a[_0x4e20cd(0x3fe)],'pushName':_0x2eb97a['pushName'],'messageTimestamp':_0x2eb97a['messageTimestamp']&&_0x2eb97a[_0x4e20cd(0x307)][_0x4e20cd(0x929)]()[_0x4e20cd(0x7be)]<0xd?_0x2eb97a[_0x4e20cd(0x307)]*0x3e8:_0x2eb97a[_0x4e20cd(0x307)]||null,'source':(0x0,w['getDevice'])(_0x2eb97a[_0x4e20cd(0x3fe)]['id']),..._0x1044c6},'messageTimestamp':_0x2eb97a[_0x4e20cd(0x307)]&&_0x2eb97a[_0x4e20cd(0x307)]['toString']()[_0x4e20cd(0x7be)]<0xd?_0x2eb97a[_0x4e20cd(0x307)]*0x3e8:_0x2eb97a[_0x4e20cd(0x307)]||null,'owner':this[_0x4e20cd(0x5cb)][_0x4e20cd(0x406)],'source':(0x0,w[_0x4e20cd(0x789)])(_0x2eb97a[_0x4e20cd(0x3fe)]['id'])};return this[_0x4e20cd(0x74f)][_0x4e20cd(0x88a)](this[_0x4e20cd(0x86d)]+'\x20('+this['instance'][_0x4e20cd(0x406)]+'):\x20enviado\x20para\x20['+_0x4c5d8f[_0x4e20cd(0x3fe)]?.[_0x4e20cd(0x2c7)][_0x4e20cd(0x243)](_0x4e20cd(0x293),'')+_0x4e20cd(0x90c)+_0x4c5d8f[_0x4e20cd(0x807)]+')'),_0x4c5d8f[_0x4e20cd(0x3cc)]?.[_0x4e20cd(0x839)]&&this[_0x4e20cd(0x74f)][_0x4e20cd(0x88a)](_0x4c5d8f[_0x4e20cd(0x3cc)]?.[_0x4e20cd(0x839)]),this[_0x4e20cd(0x42e)](_0x4e20cd(0x379),_0x4c5d8f),j(this['instanceName'],_0x4e20cd(0x6aa),{'message':_0x4c5d8f}),this[_0x4e20cd(0x493)](this['configService'][_0x4e20cd(0x725)](_0x4e20cd(0x304)),_0x4c5d8f,_0x4e20cd(0x7e1),_0x50e609),await this[_0x4e20cd(0x5bb)][_0x4e20cd(0x4a8)][_0x4e20cd(0x6b9)]([_0x4c5d8f],this[_0x4e20cd(0x5cb)][_0x4e20cd(0x406)]),_0x2eb97a;}catch(_0x1aa6ba){let _0x333c6f=_0x4e20cd(0x4d6)+_0x126cf1,_0x56e6b5=_0x1aa6ba instanceof Error?_0x1aa6ba[_0x4e20cd(0x4a8)]:typeof _0x1aa6ba==_0x4e20cd(0x82b)?JSON[_0x4e20cd(0x261)](_0x1aa6ba):_0x1aa6ba,_0x3b3994=_0x333c6f+':\x20'+_0x56e6b5;throw this[_0x4e20cd(0x74f)][_0x4e20cd(0x2fe)](this[_0x4e20cd(0x86d)]+'\x20('+this['instance']['wuid']+_0x4e20cd(0x5cc)+_0x3b3994),new m(_0x3b3994);}}get[a0_0x21bcc2(0x34b)](){const _0x4ca8b8=a0_0x21bcc2;return this[_0x4ca8b8(0x491)];}async[a0_0x21bcc2(0x6a3)](_0x3fdbe0){const _0x465ffe=a0_0x21bcc2;return await this[_0x465ffe(0x8bc)](_0x3fdbe0[_0x465ffe(0x922)],{'conversation':_0x3fdbe0[_0x465ffe(0x6a3)][_0x465ffe(0x839)]},_0x3fdbe0?.[_0x465ffe(0x5c4)]);}async[a0_0x21bcc2(0x8ec)](_0x47a8b9){const _0xf87ca6=a0_0x21bcc2;if(!_0x47a8b9[_0xf87ca6(0x347)])throw new m(_0xf87ca6(0x87b));if(!_0x47a8b9['content'])throw new m('Content\x20is\x20required');if(_0x47a8b9[_0xf87ca6(0x275)]){let _0x4b8318=await this['repository'][_0xf87ca6(0x7c9)][_0xf87ca6(0x68c)]({'where':{}},this[_0xf87ca6(0x5cb)][_0xf87ca6(0x406)]);if(!_0x4b8318[_0xf87ca6(0x7be)])throw new m(_0xf87ca6(0x6fc));_0x47a8b9[_0xf87ca6(0x4c1)]=_0x4b8318[_0xf87ca6(0x874)](_0x421c1d=>_0x421c1d[_0xf87ca6(0x7f1)])['map'](_0x1ce90e=>_0x1ce90e[_0xf87ca6(0x644)]);}if(!_0x47a8b9[_0xf87ca6(0x4c1)]?.[_0xf87ca6(0x7be)]&&!_0x47a8b9[_0xf87ca6(0x275)])throw new m(_0xf87ca6(0x8df));if(_0x47a8b9['type']===_0xf87ca6(0x839)){if(!_0x47a8b9[_0xf87ca6(0x358)])throw new m(_0xf87ca6(0x46d));if(!_0x47a8b9[_0xf87ca6(0x3ab)])throw new m(_0xf87ca6(0x7c8));return{'content':{'text':_0x47a8b9[_0xf87ca6(0x25b)]},'option':{'backgroundColor':_0x47a8b9[_0xf87ca6(0x358)],'font':_0x47a8b9[_0xf87ca6(0x3ab)],'statusJidList':_0x47a8b9[_0xf87ca6(0x4c1)]}};}if(_0x47a8b9[_0xf87ca6(0x347)]===_0xf87ca6(0x44d))return{'content':{'image':{'url':_0x47a8b9[_0xf87ca6(0x25b)]},'caption':_0x47a8b9['caption']},'option':{'statusJidList':_0x47a8b9[_0xf87ca6(0x4c1)]}};if(_0x47a8b9['type']===_0xf87ca6(0x225))return{'content':{'video':{'url':_0x47a8b9[_0xf87ca6(0x25b)]},'caption':_0x47a8b9[_0xf87ca6(0x728)]},'option':{'statusJidList':_0x47a8b9['statusJidList']}};if(_0x47a8b9[_0xf87ca6(0x347)]===_0xf87ca6(0x571)){this[_0xf87ca6(0x74f)][_0xf87ca6(0x78f)](this[_0xf87ca6(0x86d)]+'\x20('+this[_0xf87ca6(0x5cb)][_0xf87ca6(0x406)]+_0xf87ca6(0x48c)),this[_0xf87ca6(0x74f)][_0xf87ca6(0x78f)](this[_0xf87ca6(0x86d)]+'\x20('+this[_0xf87ca6(0x5cb)]['wuid']+_0xf87ca6(0x32b));let _0x111bbb=await this[_0xf87ca6(0x429)](_0x47a8b9[_0xf87ca6(0x25b)]);if(typeof _0x111bbb==_0xf87ca6(0x5c8)){this[_0xf87ca6(0x74f)][_0xf87ca6(0x78f)](this[_0xf87ca6(0x86d)]+'\x20('+this['instance'][_0xf87ca6(0x406)]+'):Audio\x20processed');let _0x4f7f7e=L[_0xf87ca6(0x2a0)](_0x111bbb)[_0xf87ca6(0x929)]('base64');return{'content':{'audio':Buffer[_0xf87ca6(0x769)](_0x4f7f7e,_0xf87ca6(0x21f)),'ptt':!0x0,'mimetype':_0xf87ca6(0x343)},'option':{'statusJidList':_0x47a8b9[_0xf87ca6(0x4c1)]}};}else throw new x(_0x111bbb);}throw new m(_0xf87ca6(0x6a0));}async['statusMessage'](_0x478e23){const _0x511efe=a0_0x21bcc2;return await this[_0x511efe(0x8bc)](_0x511efe(0x7ef),{'status':await this[_0x511efe(0x8ec)](_0x478e23[_0x511efe(0x709)])});}async[a0_0x21bcc2(0x260)](_0x1c05d4){const _0x897855=a0_0x21bcc2;try{let _0x1f322a=await(0x0,w[_0x897855(0x801)])({[_0x1c05d4['mediatype']]:(0x0,k[_0x897855(0x69a)])(_0x1c05d4[_0x897855(0x284)])?{'url':_0x1c05d4[_0x897855(0x284)]}:Buffer['from'](_0x1c05d4[_0x897855(0x284)],'base64')},{'upload':this[_0x897855(0x2cd)][_0x897855(0x8fa)]}),_0xca57e3=_0x1c05d4[_0x897855(0x5f0)]+_0x897855(0x2c0);if(_0x1c05d4[_0x897855(0x5f0)]===_0x897855(0x66f)&&!_0x1c05d4[_0x897855(0x87f)]){let _0x20a4b1=new RegExp(/.*\/(.+?)\./)[_0x897855(0x8b3)](_0x1c05d4['media']);_0x1c05d4['fileName']=_0x20a4b1?_0x20a4b1[0x1]:null;}let _0x1b7268;return(0x0,k['isURL'])(_0x1c05d4[_0x897855(0x284)])?_0x1b7268=(await Y['default'][_0x897855(0x725)](_0x1c05d4[_0x897855(0x284)],{'responseType':_0x897855(0x2cc)}))[_0x897855(0x7d3)][_0x897855(0x471)]:_0x1b7268=(0x0,Pi['getMIMEType'])(_0x1c05d4[_0x897855(0x87f)]),_0x1f322a[_0xca57e3][_0x897855(0x728)]=_0x1c05d4?.['caption'],_0x1f322a[_0xca57e3][_0x897855(0x5bd)]=_0x1b7268,_0x1f322a[_0xca57e3][_0x897855(0x87f)]=_0x1c05d4[_0x897855(0x87f)],_0x1c05d4['mediatype']==='video'&&(_0x1f322a[_0xca57e3][_0x897855(0x6b6)]=Uint8Array[_0x897855(0x769)]((0x0,Fe['readFileSync'])((0x0,U[_0x897855(0x720)])(process[_0x897855(0x607)](),_0x897855(0x419)))),_0x1f322a[_0xca57e3][_0x897855(0x6b4)]=!0x1),(0x0,w[_0x897855(0x35d)])('',{[_0xca57e3]:{..._0x1f322a[_0xca57e3]}},{'userJid':this[_0x897855(0x5cb)]['wuid']});}catch(_0x5f498d){let _0x591115='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage',_0x5d4ebd=_0x5f498d instanceof Error?_0x5f498d[_0x897855(0x4a8)]:typeof _0x5f498d==_0x897855(0x82b)?JSON[_0x897855(0x261)](_0x5f498d):_0x5f498d,_0x22d421=_0x591115+':\x20'+_0x5d4ebd;throw this[_0x897855(0x74f)][_0x897855(0x2fe)](this[_0x897855(0x86d)]+'\x20('+this[_0x897855(0x5cb)][_0x897855(0x406)]+'):\x20'+_0x22d421),new x(_0x22d421);}}async[a0_0x21bcc2(0x1f8)](_0x3c9d7a){const _0x425451=a0_0x21bcc2;let _0x4b4b8e=await this[_0x425451(0x260)](_0x3c9d7a[_0x425451(0x1f8)]);return await this[_0x425451(0x8bc)](_0x3c9d7a[_0x425451(0x922)],{..._0x4b4b8e['message']},_0x3c9d7a?.[_0x425451(0x5c4)]);}async[a0_0x21bcc2(0x294)](_0x50eee0,_0x3a8c13){const _0x4297be=a0_0x21bcc2;try{this[_0x4297be(0x74f)][_0x4297be(0x78f)](this['instanceName']+'\x20('+this[_0x4297be(0x5cb)][_0x4297be(0x406)]+_0x4297be(0x52e));let _0x318730,_0x4acefb=_0x3a8c13+'-'+new Date()['getTime']();this['logger']['verbose'](this[_0x4297be(0x86d)]+'\x20('+this[_0x4297be(0x5cb)]['wuid']+_0x4297be(0x300)+_0x4acefb);let _0x3b32a2=''+(0x0,U[_0x4297be(0x720)])(this[_0x4297be(0x6e3)],_0x4acefb+_0x4297be(0x660));if(this[_0x4297be(0x74f)][_0x4297be(0x78f)](this[_0x4297be(0x86d)]+'\x20('+this[_0x4297be(0x5cb)][_0x4297be(0x406)]+_0x4297be(0x2e5)+_0x3b32a2),(0x0,k[_0x4297be(0x63e)])(_0x50eee0)){this[_0x4297be(0x74f)][_0x4297be(0x78f)](this[_0x4297be(0x86d)]+'\x20('+this[_0x4297be(0x5cb)]['wuid']+_0x4297be(0x2b3));let _0x11dc95=_0x50eee0[_0x4297be(0x243)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x86b1a5=Buffer[_0x4297be(0x769)](_0x11dc95,_0x4297be(0x21f));_0x318730=''+(0x0,U['join'])(this[_0x4297be(0x6e3)],_0x4297be(0x27f)+_0x4acefb+_0x4297be(0x5fe)),this[_0x4297be(0x74f)][_0x4297be(0x78f)](this[_0x4297be(0x86d)]+'\x20('+this[_0x4297be(0x5cb)][_0x4297be(0x406)]+_0x4297be(0x44c)+_0x318730),await(0x0,qt['default'])(_0x86b1a5)['toFile'](_0x318730),this[_0x4297be(0x74f)][_0x4297be(0x78f)](this[_0x4297be(0x86d)]+'\x20('+this['instance'][_0x4297be(0x406)]+_0x4297be(0x488));}else{this[_0x4297be(0x74f)][_0x4297be(0x78f)](this['instanceName']+'\x20('+this[_0x4297be(0x5cb)][_0x4297be(0x406)]+_0x4297be(0x416));let _0x2492d8=new Date()['getTime'](),_0x5f041a=_0x50eee0+_0x4297be(0x62d)+_0x2492d8;this[_0x4297be(0x74f)]['verbose'](this['instanceName']+'\x20('+this[_0x4297be(0x5cb)][_0x4297be(0x406)]+_0x4297be(0x586)+_0x5f041a);let _0x41400f=await Y[_0x4297be(0x7ac)][_0x4297be(0x725)](_0x5f041a,{'responseType':'arraybuffer'});this['logger'][_0x4297be(0x78f)](this[_0x4297be(0x86d)]+'\x20('+this[_0x4297be(0x5cb)][_0x4297be(0x406)]+'):Getting\x20image\x20from\x20url');let _0x5c1868=Buffer[_0x4297be(0x769)](_0x41400f[_0x4297be(0x721)],_0x4297be(0x4e8));_0x318730=''+(0x0,U[_0x4297be(0x720)])(this[_0x4297be(0x6e3)],_0x4297be(0x27f)+_0x4acefb+_0x4297be(0x5fe)),this[_0x4297be(0x74f)][_0x4297be(0x78f)](this[_0x4297be(0x86d)]+'\x20('+this[_0x4297be(0x5cb)][_0x4297be(0x406)]+_0x4297be(0x44c)+_0x318730),await(0x0,qt[_0x4297be(0x7ac)])(_0x5c1868)[_0x4297be(0x2b6)](_0x318730),this[_0x4297be(0x74f)][_0x4297be(0x78f)](this[_0x4297be(0x86d)]+'\x20('+this[_0x4297be(0x5cb)][_0x4297be(0x406)]+_0x4297be(0x488));}return await(0x0,qt['default'])(_0x318730)[_0x4297be(0x5da)]()[_0x4297be(0x2b6)](_0x3b32a2),this[_0x4297be(0x74f)][_0x4297be(0x78f)](this['instanceName']+'\x20('+this[_0x4297be(0x5cb)][_0x4297be(0x406)]+_0x4297be(0x823)),L['unlinkSync'](_0x318730),this[_0x4297be(0x74f)][_0x4297be(0x78f)](this['instanceName']+'\x20('+this['instance'][_0x4297be(0x406)]+_0x4297be(0x880)),_0x3b32a2;}catch(_0x4280b5){let _0x3d50d0='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x3a6392=_0x4280b5 instanceof Error?_0x4280b5['message']:typeof _0x4280b5==_0x4297be(0x82b)?JSON[_0x4297be(0x261)](_0x4280b5):_0x4280b5,_0x353ec6=_0x3d50d0+':\x20'+_0x3a6392;this[_0x4297be(0x74f)][_0x4297be(0x2fe)](this[_0x4297be(0x86d)]+'\x20('+this[_0x4297be(0x5cb)][_0x4297be(0x406)]+_0x4297be(0x5cc)+_0x353ec6);}}async[a0_0x21bcc2(0x305)](_0x18991c){const _0x151dd7=a0_0x21bcc2;let _0xaebcaa=await this['convertToWebP'](_0x18991c[_0x151dd7(0x588)][_0x151dd7(0x44d)],_0x18991c['number']),_0x1d711b=await this['sendMessageWithTyping'](_0x18991c[_0x151dd7(0x922)],{'sticker':{'url':_0xaebcaa}},_0x18991c?.['options']);return L[_0x151dd7(0x2f5)](_0xaebcaa),this[_0x151dd7(0x74f)]['verbose'](this[_0x151dd7(0x86d)]+'\x20('+this['instance'][_0x151dd7(0x406)]+_0x151dd7(0x8fe)),_0x1d711b;}async['audioWhatsapp'](_0x11937a){const _0x5638ba=a0_0x21bcc2;if(this[_0x5638ba(0x74f)][_0x5638ba(0x78f)](this[_0x5638ba(0x86d)]+'\x20('+this[_0x5638ba(0x5cb)][_0x5638ba(0x406)]+_0x5638ba(0x51f)),!_0x11937a[_0x5638ba(0x5c4)]?.[_0x5638ba(0x552)]&&_0x11937a[_0x5638ba(0x5c4)]?.[_0x5638ba(0x552)]!==!0x1&&(_0x11937a[_0x5638ba(0x5c4)][_0x5638ba(0x552)]=!0x0),_0x11937a[_0x5638ba(0x5c4)]?.[_0x5638ba(0x552)]){let _0x4bcfbb=await this[_0x5638ba(0x429)](_0x11937a[_0x5638ba(0x90b)][_0x5638ba(0x571)]);if(typeof _0x4bcfbb=='string'){let _0x130daa=L[_0x5638ba(0x2a0)](_0x4bcfbb)['toString'](_0x5638ba(0x21f));return this[_0x5638ba(0x8bc)](_0x11937a[_0x5638ba(0x922)],{'audio':Buffer[_0x5638ba(0x769)](_0x130daa,_0x5638ba(0x21f)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x5638ba(0x207),'delay':_0x11937a?.['options']?.[_0x5638ba(0x505)]});}else throw new x(_0x4bcfbb);}return await this[_0x5638ba(0x8bc)](_0x11937a[_0x5638ba(0x922)],{'audio':(0x0,k[_0x5638ba(0x69a)])(_0x11937a[_0x5638ba(0x90b)][_0x5638ba(0x571)])?{'url':_0x11937a[_0x5638ba(0x90b)]['audio']}:Buffer[_0x5638ba(0x769)](_0x11937a[_0x5638ba(0x90b)][_0x5638ba(0x571)],_0x5638ba(0x21f)),'ptt':!0x0,'mimetype':_0x5638ba(0x7b4)},{'presence':'recording','delay':_0x11937a?.[_0x5638ba(0x5c4)]?.[_0x5638ba(0x505)]});}async[a0_0x21bcc2(0x429)](_0x5ddea7){const _0x30542a=a0_0x21bcc2;this[_0x30542a(0x74f)][_0x30542a(0x78f)](this[_0x30542a(0x86d)]+'\x20('+this[_0x30542a(0x5cb)][_0x30542a(0x406)]+'):Processing\x20audio');let _0x119d93=(0x0,k[_0x30542a(0x69a)])(_0x5ddea7)?(0x0,Vt[_0x30542a(0x8ca)])('sha256')['update'](_0x5ddea7)[_0x30542a(0x4d4)](_0x30542a(0x7d4)):(0x0,Vt[_0x30542a(0x8ca)])('sha256')['update'](_0x5ddea7)[_0x30542a(0x4d4)](_0x30542a(0x7d4)),_0x5e4981=''+(0x0,U[_0x30542a(0x720)])(this[_0x30542a(0x6e3)],_0x119d93+_0x30542a(0x760));if(L['existsSync'](_0x5e4981))return this['logger'][_0x30542a(0x78f)](this[_0x30542a(0x86d)]+'\x20('+this[_0x30542a(0x5cb)][_0x30542a(0x406)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x5e4981;let _0x8e8330=''+(0x0,U[_0x30542a(0x720)])(this[_0x30542a(0x6e3)],_0x30542a(0x27f)+(0x0,X['v4'])()+_0x30542a(0x858));if((0x0,k[_0x30542a(0x69a)])(_0x5ddea7)){let _0xf05afe=new Date()[_0x30542a(0x8d4)](),_0x42ffcc=_0x5ddea7+'?timestamp='+_0xf05afe,_0x2942b3=await Y[_0x30542a(0x7ac)]['get'](_0x42ffcc,{'responseType':_0x30542a(0x2cc)});L[_0x30542a(0x460)](_0x8e8330,_0x2942b3['data']);}else{let _0x47420b=Buffer[_0x30542a(0x769)](_0x5ddea7,'base64');L[_0x30542a(0x460)](_0x8e8330,_0x47420b);}return new Promise((_0x5f115f,_0x5d00f1)=>{const _0x2b0c08=_0x30542a;(0x0,Ue[_0x2b0c08(0x8b3)])(Ds[_0x2b0c08(0x7ac)][_0x2b0c08(0x51c)]+'\x20-i\x20'+_0x8e8330+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0x5e4981+_0x2b0c08(0x266),_0x6da4f=>{const _0x3d7f67=_0x2b0c08;if(L[_0x3d7f67(0x2f5)](_0x8e8330),_0x6da4f){this[_0x3d7f67(0x74f)]['verbose'](this[_0x3d7f67(0x86d)]+'\x20('+this[_0x3d7f67(0x5cb)][_0x3d7f67(0x406)]+_0x3d7f67(0x84b)),_0x5d00f1(_0x6da4f);return;}this[_0x3d7f67(0x74f)]['verbose'](this['instanceName']+'\x20('+this[_0x3d7f67(0x5cb)][_0x3d7f67(0x406)]+_0x3d7f67(0x6db)),_0x5f115f(_0x5e4981);});});}async[a0_0x21bcc2(0x2c4)](_0x517f7f){const _0x13781b=a0_0x21bcc2;this[_0x13781b(0x74f)]['verbose'](this[_0x13781b(0x86d)]+'\x20('+this[_0x13781b(0x5cb)]['wuid']+_0x13781b(0x32b));let _0x184844=(0x0,Vt['createHash'])(_0x13781b(0x806))['update'](_0x517f7f)[_0x13781b(0x4d4)](_0x13781b(0x7d4)),_0x30858e=''+(0x0,U[_0x13781b(0x720)])(this['storePath'],_0x184844+_0x13781b(0x858));if(L[_0x13781b(0x7b7)](_0x30858e))return this['logger'][_0x13781b(0x78f)](this[_0x13781b(0x86d)]+'\x20('+this[_0x13781b(0x5cb)]['wuid']+_0x13781b(0x907)),U[_0x13781b(0x7ac)][_0x13781b(0x426)](_0x30858e);let _0x5197ff=''+(0x0,U[_0x13781b(0x720)])(this['storePath'],_0x13781b(0x27f)+_0x184844+_0x13781b(0x760));if((0x0,k[_0x13781b(0x69a)])(_0x517f7f)){let _0x1bf66c=new Date()['getTime'](),_0x2735ef=_0x517f7f+'?timestamp='+_0x1bf66c,_0x9af6ca=await Y[_0x13781b(0x7ac)][_0x13781b(0x725)](_0x2735ef,{'responseType':_0x13781b(0x2cc)});L[_0x13781b(0x460)](_0x5197ff,_0x9af6ca[_0x13781b(0x721)]);}else{let _0x36b47c=Buffer['from'](_0x517f7f,'base64');L[_0x13781b(0x460)](_0x5197ff,_0x36b47c);}return new Promise((_0x391f6e,_0x13eefa)=>{const _0x3b7c21=_0x13781b;(0x0,Ue[_0x3b7c21(0x8b3)])(Ds['default']['path']+'\x20-i\x20'+_0x5197ff+_0x3b7c21(0x675)+_0x30858e+_0x3b7c21(0x266),_0x5680f9=>{const _0x2cfc78=_0x3b7c21;if(L[_0x2cfc78(0x2f5)](_0x5197ff),_0x5680f9){this['logger'][_0x2cfc78(0x78f)](this[_0x2cfc78(0x86d)]+'\x20('+this[_0x2cfc78(0x5cb)][_0x2cfc78(0x406)]+_0x2cfc78(0x84b)),_0x13eefa(_0x5680f9);return;}this[_0x2cfc78(0x74f)][_0x2cfc78(0x78f)](this[_0x2cfc78(0x86d)]+'\x20('+this[_0x2cfc78(0x5cb)][_0x2cfc78(0x406)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x391f6e(U[_0x2cfc78(0x7ac)][_0x2cfc78(0x426)](_0x30858e));});});}async['buttonMessage'](_0x4543fa){const _0x4b5a5e=a0_0x21bcc2;let _0x1126c9={},_0x4cbdce=_0x4b5a5e(0x8f4);if(_0x4543fa[_0x4b5a5e(0x5e7)]?.['mediaMessage']){_0x4cbdce=_0x4543fa[_0x4b5a5e(0x5e7)]['mediaMessage']?.['mediatype'][_0x4b5a5e(0x352)]()??_0x4b5a5e(0x8f4),_0x1126c9['mediaKey']=_0x4cbdce[_0x4b5a5e(0x91b)]()+_0x4b5a5e(0x2c0);let _0x52691c=await this['prepareMediaMessage'](_0x4543fa[_0x4b5a5e(0x5e7)]['mediaMessage']);_0x1126c9[_0x4b5a5e(0x4a8)]=_0x52691c[_0x4b5a5e(0x4a8)][_0x1126c9['mediaKey']],_0x1126c9['contentText']='*'+_0x4543fa[_0x4b5a5e(0x5e7)]['title']+_0x4b5a5e(0x755)+_0x4543fa[_0x4b5a5e(0x5e7)][_0x4b5a5e(0x678)];}let _0x1a4e06={'text':_0x4543fa[_0x4b5a5e(0x5e7)][_0x4b5a5e(0x638)][_0x4b5a5e(0x867)](_0x3ca749=>_0x3ca749['buttonText']),'ids':_0x4543fa[_0x4b5a5e(0x5e7)][_0x4b5a5e(0x638)][_0x4b5a5e(0x867)](_0xee05f=>_0xee05f[_0x4b5a5e(0x22a)])};if(!(0x0,k['arrayUnique'])(_0x1a4e06[_0x4b5a5e(0x839)])||!(0x0,k['arrayUnique'])(_0x1a4e06[_0x4b5a5e(0x5e6)]))throw new m(_0x4b5a5e(0x5d1),_0x4b5a5e(0x547));return await this[_0x4b5a5e(0x8bc)](_0x4543fa['number'],{'buttonsMessage':{'text':_0x1126c9?.[_0x4b5a5e(0x427)]?void 0x0:_0x4543fa['buttonMessage']['title'],'contentText':_0x1126c9?.[_0x4b5a5e(0x7ad)]??_0x4543fa['buttonMessage']['description'],'footerText':_0x4543fa[_0x4b5a5e(0x5e7)]?.[_0x4b5a5e(0x49c)],'buttons':_0x4543fa[_0x4b5a5e(0x5e7)][_0x4b5a5e(0x638)][_0x4b5a5e(0x867)](_0x3f13f2=>({'buttonText':{'displayText':_0x3f13f2[_0x4b5a5e(0x6ce)]},'buttonId':_0x3f13f2[_0x4b5a5e(0x22a)],'type':0x1})),'headerType':w[_0x4b5a5e(0x64b)][_0x4b5a5e(0x2c0)][_0x4b5a5e(0x595)]['HeaderType'][_0x4cbdce],[_0x1126c9?.['mediaKey']]:_0x1126c9?.[_0x4b5a5e(0x4a8)]}},_0x4543fa?.['options']);}async[a0_0x21bcc2(0x244)](_0x4c7fdd){const _0x4b1352=a0_0x21bcc2;return await this[_0x4b1352(0x8bc)](_0x4c7fdd['number'],{'locationMessage':{'degreesLatitude':_0x4c7fdd['locationMessage'][_0x4b1352(0x905)],'degreesLongitude':_0x4c7fdd[_0x4b1352(0x244)][_0x4b1352(0x4cb)],'name':_0x4c7fdd['locationMessage']?.[_0x4b1352(0x83e)],'address':_0x4c7fdd[_0x4b1352(0x244)]?.[_0x4b1352(0x817)]}},_0x4c7fdd?.['options']);}async[a0_0x21bcc2(0x29d)](_0x55d4ad){const _0x1098a7=a0_0x21bcc2;let _0xf1529f={},_0x3b94e6=async _0x5589ca=>{const _0x405c41=a0_0x4215;let _0x21dd67='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x5589ca['fullName']+_0x405c41(0x623)+_0x5589ca[_0x405c41(0x280)]+'\x0a';_0x5589ca['organization']&&(_0x21dd67+=_0x405c41(0x4d2)+_0x5589ca[_0x405c41(0x8cb)]+';\x0a'),_0x5589ca[_0x405c41(0x82d)]&&(_0x21dd67+=_0x405c41(0x6ac)+_0x5589ca[_0x405c41(0x82d)]+'\x0a'),_0x5589ca['url']&&(_0x21dd67+='URL:'+_0x5589ca[_0x405c41(0x6df)]+'\x0a');let _0x336812='',_0x197603=0x1;if(_0x5589ca[_0x405c41(0x367)]){let _0x3f0e65=_0x5589ca[_0x405c41(0x367)][_0x405c41(0x766)]('|');for(let _0xd9c6f3 of _0x3f0e65){let _0x524398=await this['whatsappNumber']({'numbers':[_0xd9c6f3]}),_0x5c3a13=(_0x524398[_0x405c41(0x7be)]>0x0?_0x524398[0x0][_0x405c41(0x52b)]:this[_0x405c41(0x5ce)](_0xd9c6f3))['replace'](_0x405c41(0x293),'');_0x336812+=_0x405c41(0x584)+_0x197603+_0x405c41(0x90f)+_0x5c3a13+':'+_0xd9c6f3+_0x405c41(0x6be)+_0x197603+_0x405c41(0x5d8),_0x197603++;}}return _0x21dd67+=_0x336812+'END:VCARD',_0x21dd67;};return _0x55d4ad[_0x1098a7(0x29d)]['length']===0x1?_0xf1529f[_0x1098a7(0x29d)]={'displayName':_0x55d4ad[_0x1098a7(0x29d)][0x0][_0x1098a7(0x280)],'vcard':await _0x3b94e6(_0x55d4ad['contactMessage'][0x0])}:_0xf1529f[_0x1098a7(0x57e)]={'displayName':_0x55d4ad[_0x1098a7(0x29d)][_0x1098a7(0x7be)]+_0x1098a7(0x4e6),'contacts':await Promise[_0x1098a7(0x3ec)](_0x55d4ad['contactMessage'][_0x1098a7(0x867)](async _0x286ecc=>({'displayName':_0x286ecc[_0x1098a7(0x280)],'vcard':await _0x3b94e6(_0x286ecc)})))},await this[_0x1098a7(0x8bc)](_0x55d4ad[_0x1098a7(0x922)],{..._0xf1529f},_0x55d4ad?.[_0x1098a7(0x5c4)]);}async[a0_0x21bcc2(0x631)](_0x157ce9){const _0x4af186=a0_0x21bcc2;return await this['sendMessageWithTyping'](_0x157ce9[_0x4af186(0x631)][_0x4af186(0x3fe)][_0x4af186(0x2c7)],{'reactionMessage':{'key':_0x157ce9[_0x4af186(0x631)]['key'],'text':_0x157ce9['reactionMessage'][_0x4af186(0x718)]}});}async[a0_0x21bcc2(0x374)](_0x45a267){const _0x2d0b46=a0_0x21bcc2;let _0x3cea63=[];for await(let _0x2a4eec of _0x45a267['numbers']){let _0x28bc59=this[_0x2d0b46(0x5ce)](_0x2a4eec),_0x44afad=!0x1;try{if((0x0,w[_0x2d0b46(0x55c)])(_0x28bc59)){let _0x44692f=(await this['repository']['chat'][_0x2d0b46(0x7db)]({'where':{'_id':_0x28bc59}},this['instance'][_0x2d0b46(0x406)]))[_0x2d0b46(0x216)];_0x44692f?(_0x44afad=!0x0,_0x3cea63[_0x2d0b46(0x2ea)](new de(_0x44692f['id'],_0x44afad,_0x44692f?.['subject']))):(_0x44692f=await this[_0x2d0b46(0x661)]({'groupJid':_0x28bc59},_0x2d0b46(0x4b4)),_0x3cea63[_0x2d0b46(0x2ea)](new de(_0x44692f['id'],!!_0x44692f?.['id'],_0x44692f?.['subject'])));}else{if(_0x28bc59[_0x2d0b46(0x587)](_0x2d0b46(0x220)))_0x3cea63[_0x2d0b46(0x2ea)](new de(_0x28bc59,!0x0));else{let _0x1973c2=(await this['client']['onWhatsApp'](_0x28bc59))[0x0];_0x3cea63[_0x2d0b46(0x2ea)](new de(_0x1973c2[_0x2d0b46(0x52b)],_0x1973c2[_0x2d0b46(0x8fb)]));}}}catch{(0x0,w[_0x2d0b46(0x55c)])(_0x28bc59)||await this[_0x2d0b46(0x5ca)](_0x28bc59),_0x3cea63[_0x2d0b46(0x2ea)](new de(_0x2a4eec,!0x1));}}return _0x3cea63;}async['deleteImportedChat'](_0x5e700e){const _0x8fc7d6=a0_0x21bcc2;try{await this[_0x8fc7d6(0x5bb)][_0x8fc7d6(0x580)][_0x8fc7d6(0x7db)]({'where':{'_id':_0x5e700e,'imported':!0x0}},this[_0x8fc7d6(0x5cb)]['wuid'])&&(await this[_0x8fc7d6(0x5bb)][_0x8fc7d6(0x580)][_0x8fc7d6(0x31d)](_0x5e700e,this[_0x8fc7d6(0x5cb)][_0x8fc7d6(0x406)]),this[_0x8fc7d6(0x74f)][_0x8fc7d6(0x768)](_0x8fc7d6(0x499)+_0x5e700e+_0x8fc7d6(0x6b2)));}catch(_0xc67f64){let _0x3eaa5a=_0x8fc7d6(0x22d),_0x5c0309=_0xc67f64 instanceof Error?_0xc67f64[_0x8fc7d6(0x4a8)]:typeof _0xc67f64==_0x8fc7d6(0x82b)?JSON[_0x8fc7d6(0x261)](_0xc67f64):_0xc67f64,_0x1488e5=_0x3eaa5a+':\x20'+_0x5c0309;this[_0x8fc7d6(0x74f)]['error'](this[_0x8fc7d6(0x86d)]+'\x20('+this[_0x8fc7d6(0x5cb)][_0x8fc7d6(0x406)]+_0x8fc7d6(0x5cc)+_0x1488e5);}}async[a0_0x21bcc2(0x535)](_0x4c8979){const _0x4c9ea1=a0_0x21bcc2;try{let _0x3c55e8=_0x4c8979[_0x4c9ea1(0x75a)][_0x4c9ea1(0x874)](_0x506896=>(0x0,w[_0x4c9ea1(0x55c)])(_0x506896[_0x4c9ea1(0x2c7)])||(0x0,w[_0x4c9ea1(0x47f)])(_0x506896['remoteJid']))['map'](_0x4006d6=>({'remoteJid':_0x4006d6[_0x4c9ea1(0x2c7)],'fromMe':_0x4006d6[_0x4c9ea1(0x86f)],'id':_0x4006d6['id']}));await this[_0x4c9ea1(0x2cd)][_0x4c9ea1(0x75a)](_0x3c55e8);let _0x58ef5d=_0x3c55e8[_0x4c9ea1(0x867)](_0x462044=>this[_0x4c9ea1(0x1f1)](_0x462044,{'status':_0x4c9ea1(0x565),'owner':this[_0x4c9ea1(0x5cb)][_0x4c9ea1(0x406)]})),_0x506afb=_0x3c55e8[_0x4c9ea1(0x867)](_0x31492a=>this['repository']['chat'][_0x4c9ea1(0x4f3)]({'where':{'_id':_0x31492a[_0x4c9ea1(0x2c7)]}},{'unreadcount':0x0},this[_0x4c9ea1(0x5cb)]['wuid'])),[_0x475ad7,_0x18c1a4]=await Promise[_0x4c9ea1(0x3ec)]([Promise[_0x4c9ea1(0x3ec)](_0x58ef5d),Promise[_0x4c9ea1(0x3ec)](_0x506afb)]);return _0x18c1a4[_0x4c9ea1(0x874)](_0x43181a=>_0x43181a!==null)[_0x4c9ea1(0x653)](_0x26648c=>{const _0x1e1c52=_0x4c9ea1;j(this[_0x1e1c52(0x86d)],_0x1e1c52(0x5bf),{'chat':_0x26648c});}),{'message':_0x4c9ea1(0x4a2),'read':'success'};}catch(_0x4b2e43){let _0x30e659=_0x4c9ea1(0x418),_0x530246=_0x4b2e43 instanceof Error?_0x4b2e43[_0x4c9ea1(0x4a8)]:typeof _0x4b2e43=='object'?JSON[_0x4c9ea1(0x261)](_0x4b2e43):_0x4b2e43,_0x1b2e1a=_0x30e659+':\x20'+_0x530246;throw this[_0x4c9ea1(0x74f)][_0x4c9ea1(0x2fe)](this[_0x4c9ea1(0x86d)]+'\x20('+this[_0x4c9ea1(0x5cb)][_0x4c9ea1(0x406)]+'):\x20'+_0x1b2e1a),new x(_0x1b2e1a);}}async['getLastMessage'](_0xce5bee){const _0x1a6876=a0_0x21bcc2;let _0x1cde0d={'where':{'key':{'remoteJid':_0xce5bee}},'limit':0x1},_0x4901f0=await this[_0x1a6876(0x664)](_0x1cde0d);return _0x4901f0||(this[_0x1a6876(0x74f)][_0x1a6876(0x2fe)](_0x1a6876(0x846)+_0xce5bee),null);}async['archiveChat'](_0x2301cc){const _0x447fb3=a0_0x21bcc2;this[_0x447fb3(0x74f)][_0x447fb3(0x78f)](this[_0x447fb3(0x86d)]+'\x20('+this[_0x447fb3(0x5cb)]['wuid']+_0x447fb3(0x360));try{let _0x7a24ca=_0x2301cc['lastMessage'],_0x291f5e=_0x2301cc[_0x447fb3(0x580)];if(!_0x7a24ca&&_0x291f5e?_0x7a24ca=await this[_0x447fb3(0x682)](_0x291f5e):(_0x7a24ca=_0x2301cc['lastMessage'],_0x7a24ca[_0x447fb3(0x307)]=_0x7a24ca?.[_0x447fb3(0x307)]??Date[_0x447fb3(0x462)](),_0x291f5e=_0x7a24ca?.[_0x447fb3(0x3fe)]?.['remoteJid']),!_0x7a24ca||Object[_0x447fb3(0x4ac)](_0x7a24ca)['length']===0x0)throw new J(_0x447fb3(0x4b8));this[_0x447fb3(0x74f)][_0x447fb3(0x78f)](this['instanceName']+'\x20('+this[_0x447fb3(0x5cb)][_0x447fb3(0x406)]+_0x447fb3(0x7dd)+_0x291f5e);try{await this[_0x447fb3(0x2cd)]['chatModify']({'archive':_0x2301cc[_0x447fb3(0x4f6)],'lastMessages':[_0x7a24ca]},this[_0x447fb3(0x5ce)](_0x291f5e));}catch(_0x4c1582){let _0x36164e=_0x447fb3(0x7b6)+_0x291f5e,_0x18e454=_0x4c1582 instanceof Error?_0x4c1582[_0x447fb3(0x4a8)]:typeof _0x4c1582=='object'?JSON['stringify'](_0x4c1582):_0x4c1582,_0x66990c=_0x36164e+':\x20'+_0x18e454;this[_0x447fb3(0x74f)][_0x447fb3(0x2fe)](this[_0x447fb3(0x86d)]+'\x20('+this[_0x447fb3(0x5cb)][_0x447fb3(0x406)]+'):\x20'+_0x66990c);}this['logger'][_0x447fb3(0x78f)](this[_0x447fb3(0x86d)]+'\x20('+this['instance'][_0x447fb3(0x406)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x291f5e);let _0x54a0b4=await this[_0x447fb3(0x5bb)][_0x447fb3(0x580)][_0x447fb3(0x4f3)]({'where':{'_id':_0x7a24ca?.[_0x447fb3(0x3fe)]?.['remoteJid']}},{'archived':_0x2301cc[_0x447fb3(0x4f6)]},this[_0x447fb3(0x5cb)][_0x447fb3(0x406)]);return _0x54a0b4?(this[_0x447fb3(0x74f)]['verbose'](this[_0x447fb3(0x86d)]+'\x20('+this[_0x447fb3(0x5cb)][_0x447fb3(0x406)]+_0x447fb3(0x215)+JSON[_0x447fb3(0x261)](_0x54a0b4)),j(this[_0x447fb3(0x86d)],_0x447fb3(0x5bf),{'chat':_0x54a0b4})):this[_0x447fb3(0x74f)][_0x447fb3(0x2fe)](this['instanceName']+'\x20('+this[_0x447fb3(0x5cb)][_0x447fb3(0x406)]+_0x447fb3(0x554)+_0x291f5e),{'chatId':_0x291f5e,'archived':_0x2301cc[_0x447fb3(0x4f6)]};}catch(_0x57d798){let _0x3af956='Erro\x20ao\x20arquivar\x20chat',_0x39eab2=_0x57d798 instanceof Error?_0x57d798[_0x447fb3(0x4a8)]:typeof _0x57d798==_0x447fb3(0x82b)?JSON[_0x447fb3(0x261)](_0x57d798):_0x57d798,_0x49b47c=_0x3af956+':\x20'+_0x39eab2;throw this[_0x447fb3(0x74f)][_0x447fb3(0x2fe)](this[_0x447fb3(0x86d)]+'\x20('+this['instance'][_0x447fb3(0x406)]+_0x447fb3(0x5cc)+_0x49b47c),new x(_0x49b47c);}}async['deleteChat'](_0x24b85e){const _0x2461b1=a0_0x21bcc2;this[_0x2461b1(0x74f)][_0x2461b1(0x78f)](this[_0x2461b1(0x86d)]+'\x20('+this[_0x2461b1(0x5cb)]['wuid']+'):Delete\x20chat');try{let _0x46552b=await this[_0x2461b1(0x682)](_0x24b85e);if(!_0x46552b||Object['keys'](_0x46552b)[_0x2461b1(0x7be)]===0x0)throw new J(_0x2461b1(0x4b8));let _0x6b0ea6=_0x46552b[0x0];this[_0x2461b1(0x74f)]['verbose'](this[_0x2461b1(0x86d)]+'\x20('+this[_0x2461b1(0x5cb)][_0x2461b1(0x406)]+_0x2461b1(0x6f6)+_0x24b85e);try{await this[_0x2461b1(0x2cd)][_0x2461b1(0x56d)]({'delete':!0x0,'lastMessages':[{'key':_0x6b0ea6['key'],'messageTimestamp':_0x6b0ea6[_0x2461b1(0x307)]}]},this['createJid'](_0x24b85e));}catch(_0x52ac19){this['logger'][_0x2461b1(0x2fe)](_0x2461b1(0x7b6)+_0x24b85e+':\x20'+_0x52ac19[_0x2461b1(0x929)]());}this['logger'][_0x2461b1(0x78f)](this[_0x2461b1(0x86d)]+'\x20('+this[_0x2461b1(0x5cb)][_0x2461b1(0x406)]+_0x2461b1(0x326)+_0x24b85e);return;}catch(_0x63d0f5){throw this[_0x2461b1(0x74f)]['error'](this[_0x2461b1(0x86d)]+'\x20('+this[_0x2461b1(0x5cb)][_0x2461b1(0x406)]+_0x2461b1(0x26d)+_0x63d0f5[_0x2461b1(0x929)]()),new x({'archived':!0x1,'message':[_0x2461b1(0x1f2),_0x63d0f5['toString']()]});}}async[a0_0x21bcc2(0x798)](_0x10b3a9){const _0x560e8f=a0_0x21bcc2;try{let _0x40c868=await this[_0x560e8f(0x2cd)][_0x560e8f(0x2dd)](_0x10b3a9[_0x560e8f(0x2c7)],{'delete':_0x10b3a9});try{let _0x46d62d=await this[_0x560e8f(0x1f1)](_0x10b3a9,{'status':_0x560e8f(0x58a),'owner':this['instance'][_0x560e8f(0x406)]});this['logger'][_0x560e8f(0x78f)](this['instanceName']+'\x20('+this[_0x560e8f(0x5cb)]['wuid']+'):\x20updateResult:'+_0x46d62d);}catch(_0xa06b71){this['logger'][_0x560e8f(0x2fe)](_0x560e8f(0x739)+_0xa06b71);}return _0x40c868;}catch(_0x2d0883){throw new x(_0x560e8f(0x289),_0x2d0883?.[_0x560e8f(0x929)]());}}async['getBase64FromMediaMessage'](_0x359f85){const _0x177fc6=a0_0x21bcc2;try{let _0x2db08a=_0x359f85?.[_0x177fc6(0x4a8)]?_0x359f85:await this[_0x177fc6(0x46b)](_0x359f85['key'],!0x0);for(let _0x27f366 of $a)_0x2db08a[_0x177fc6(0x4a8)][_0x27f366]&&(_0x2db08a[_0x177fc6(0x4a8)]=_0x2db08a[_0x177fc6(0x4a8)][_0x27f366][_0x177fc6(0x4a8)]);let _0x16c3ed,_0x48e87d;for(let _0xe60e17 of Na)if(_0x16c3ed=_0x2db08a[_0x177fc6(0x4a8)][_0xe60e17],_0x16c3ed){_0x48e87d=_0xe60e17;break;}if(!_0x16c3ed)throw _0x177fc6(0x6a6);typeof _0x16c3ed[_0x177fc6(0x427)]==_0x177fc6(0x82b)&&(_0x2db08a[_0x177fc6(0x4a8)]=JSON['parse'](JSON[_0x177fc6(0x261)](_0x2db08a['message'])));let _0x444213=await(0x0,w['downloadMediaMessage'])({'key':_0x2db08a?.[_0x177fc6(0x3fe)],'message':_0x2db08a?.[_0x177fc6(0x4a8)]},'buffer',{},{'logger':(0x0,Jt[_0x177fc6(0x7ac)])({'level':_0x177fc6(0x44b)}),'reuploadRequest':this[_0x177fc6(0x2cd)][_0x177fc6(0x205)]});if(!(_0x444213 instanceof Buffer))throw new Error(_0x177fc6(0x6bb));let _0x1ad33b=this[_0x177fc6(0x928)][_0x177fc6(0x725)](_0x177fc6(0x304)),_0x11d2e6,_0x4934d4;if(_0x16c3ed[_0x177fc6(0x87f)])_0x11d2e6=_0x16c3ed[_0x177fc6(0x87f)];else{let _0x38f654=_0x16c3ed[_0x177fc6(0x5bd)]?.[_0x177fc6(0x2e9)](/\/(\w+)/),_0x29cde9=_0x38f654?_0x38f654[0x1]:null;if(!_0x29cde9)throw new Error(_0x177fc6(0x2af));_0x11d2e6=(0x0,X['v4'])()+'.'+_0x29cde9;}_0x48e87d==='audioMessage'?_0x4934d4='/media/'+await this[_0x177fc6(0x2c4)](_0x444213['toString'](_0x177fc6(0x21f))):(await this[_0x177fc6(0x383)](_0x444213,_0x11d2e6),_0x4934d4=_0x177fc6(0x6c5)+_0x11d2e6);let _0x2f8f89=this['configService'][_0x177fc6(0x725)](_0x177fc6(0x76b))[_0x177fc6(0x43b)];if(!_0x2f8f89){let _0x9f6bc2=this[_0x177fc6(0x928)]['get'](_0x177fc6(0x6fd));_0x2f8f89=_0x177fc6(0x55f)+(_0x9f6bc2&&_0x9f6bc2[_0x177fc6(0x68b)][_0x177fc6(0x766)]('/')[0x4]);}_0x4934d4=''+_0x2f8f89+_0x4934d4;let _0x64dce1=0xc*0x3c*0x3c*0x3e8,_0x132d52={'where':{'_id':_0x2db08a[_0x177fc6(0x3fe)]['id']}},_0x3e09c2={'message_normalized.fileUrl':_0x4934d4,'message_normalized.expires_fileUrl':Date[_0x177fc6(0x462)]()+_0x64dce1};try{let _0x31cc48=await this['repository'][_0x177fc6(0x4a8)][_0x177fc6(0x7ed)](_0x132d52,_0x3e09c2,this[_0x177fc6(0x5cb)]['wuid']);_0x31cc48&&j(this[_0x177fc6(0x86d)],_0x177fc6(0x6aa),{'message':_0x31cc48});}catch(_0x188482){let _0x4f2537=_0x177fc6(0x558),_0x24c25=_0x188482 instanceof Error?_0x188482[_0x177fc6(0x4a8)]:typeof _0x188482=='object'?JSON[_0x177fc6(0x261)](_0x188482):_0x188482,_0x14572e=_0x4f2537+':\x20'+_0x24c25;this[_0x177fc6(0x74f)][_0x177fc6(0x2fe)](this['instanceName']+'\x20('+this[_0x177fc6(0x5cb)]['wuid']+'):\x20'+_0x14572e);}return{'mediaType':_0x48e87d,'fileName':_0x16c3ed['fileName'],'caption':_0x16c3ed[_0x177fc6(0x728)],'size':{'fileLength':_0x16c3ed[_0x177fc6(0x7a9)],'height':_0x16c3ed[_0x177fc6(0x46f)],'width':_0x16c3ed[_0x177fc6(0x538)]},'mimetype':_0x16c3ed[_0x177fc6(0x5bd)],'base64':_0x444213[_0x177fc6(0x929)]('base64'),'fileUrl':_0x4934d4,'expires_fileUrl':Date['now']()+_0x64dce1};}catch(_0x3d785d){let _0x48509d=_0x177fc6(0x877),_0x18b656=_0x3d785d instanceof Error?_0x3d785d[_0x177fc6(0x4a8)]:typeof _0x3d785d==_0x177fc6(0x82b)?JSON[_0x177fc6(0x261)](_0x3d785d):_0x3d785d,_0x481cab=_0x48509d+':\x20'+_0x18b656;throw this[_0x177fc6(0x74f)][_0x177fc6(0x2fe)](this[_0x177fc6(0x86d)]+'\x20('+this['instance']['wuid']+_0x177fc6(0x5cc)+_0x481cab),new m(_0x481cab);}}async[a0_0x21bcc2(0x383)](_0x10da66,_0x344399){const _0x54bb06=a0_0x21bcc2;let _0x3378c6=U[_0x54bb06(0x7ac)][_0x54bb06(0x720)](__dirname,'downloads');L[_0x54bb06(0x7b7)](_0x3378c6)||L[_0x54bb06(0x286)](_0x3378c6,{'recursive':!0x0});let _0x378794=U[_0x54bb06(0x7ac)][_0x54bb06(0x720)](_0x3378c6,_0x344399);return new Promise((_0x2b6ede,_0x5e4df8)=>{L['writeFile'](_0x378794,_0x10da66,_0x184fca=>{const _0x180123=a0_0x4215;_0x184fca?(this[_0x180123(0x74f)]['error'](_0x180123(0x292)+(_0x184fca instanceof Error?_0x184fca['message']:JSON['stringify'](_0x184fca,null,0x2))),_0x5e4df8(_0x184fca)):(this[_0x180123(0x74f)][_0x180123(0x8b0)](_0x180123(0x88b)+_0x378794),_0x2b6ede(_0x378794));});});}async[a0_0x21bcc2(0x4cc)](_0x5903b7){const _0x320d6c=a0_0x21bcc2;return await this[_0x320d6c(0x5bb)][_0x320d6c(0x7c9)][_0x320d6c(0x68c)](_0x5903b7,this[_0x320d6c(0x5cb)][_0x320d6c(0x406)]);}async[a0_0x21bcc2(0x715)](){const _0x265ce2=a0_0x21bcc2;return await this['repository'][_0x265ce2(0x7a4)][_0x265ce2(0x68c)]({'where':{}},this[_0x265ce2(0x5cb)]['wuid']);}async[a0_0x21bcc2(0x664)](_0x126b35){const _0x576b5f=a0_0x21bcc2;return await this[_0x576b5f(0x5bb)][_0x576b5f(0x4a8)][_0x576b5f(0x68c)](_0x126b35,this[_0x576b5f(0x5cb)][_0x576b5f(0x406)]);}async[a0_0x21bcc2(0x43a)](){const _0x16453d=a0_0x21bcc2;return this['repository'][_0x16453d(0x580)][_0x16453d(0x299)](this[_0x16453d(0x5cb)]['wuid']),this[_0x16453d(0x5bb)][_0x16453d(0x580)]['updateMissingEtiquetas'](this[_0x16453d(0x5cb)][_0x16453d(0x406)]),this[_0x16453d(0x5bb)][_0x16453d(0x580)][_0x16453d(0x8db)](this[_0x16453d(0x5cb)][_0x16453d(0x406)]),this[_0x16453d(0x5bb)]['chat'][_0x16453d(0x650)](this['instance'][_0x16453d(0x406)]),await this[_0x16453d(0x5bb)]['chat'][_0x16453d(0x68c)]({'where':{}},this[_0x16453d(0x5cb)][_0x16453d(0x406)]);}async[a0_0x21bcc2(0x2b1)](_0x1f8706){const _0x1beb2e=a0_0x21bcc2;try{if(!Array[_0x1beb2e(0x744)](_0x1f8706)||_0x1f8706[_0x1beb2e(0x7be)]===0x0)throw new Error(_0x1beb2e(0x916));let _0xee0a2e=[],_0x54b2d5=[];for(let _0x1d6dfc of _0x1f8706){if(_0x1d6dfc[_0x1beb2e(0x644)])_0x1d6dfc['_id']=this['createJid'](_0x1d6dfc[_0x1beb2e(0x644)]);else continue;await this[_0x1beb2e(0x5bb)]['chat']['findOne']({'where':{'_id':_0x1d6dfc[_0x1beb2e(0x644)]}},this[_0x1beb2e(0x5cb)][_0x1beb2e(0x406)])?_0x54b2d5[_0x1beb2e(0x2ea)]({'_id':_0x1d6dfc['_id'],'leadInfo':_0x1d6dfc[_0x1beb2e(0x4e7)],'owner':this[_0x1beb2e(0x5cb)][_0x1beb2e(0x406)]}):_0xee0a2e[_0x1beb2e(0x2ea)]({'_id':_0x1d6dfc[_0x1beb2e(0x644)],'owner':this[_0x1beb2e(0x5cb)]['wuid'],'leadInfo':_0x1d6dfc[_0x1beb2e(0x4e7)],'imported':!0x0});}return _0x54b2d5['length']>0x0&&await this[_0x1beb2e(0x5bb)][_0x1beb2e(0x580)]['updateMany'](_0x54b2d5[_0x1beb2e(0x867)](_0x39d4c3=>({'query':{'where':{'_id':_0x39d4c3[_0x1beb2e(0x644)],'owner':this['instance'][_0x1beb2e(0x406)]}},'update':_0x39d4c3}))),_0xee0a2e[_0x1beb2e(0x7be)]>0x0&&await this['repository'][_0x1beb2e(0x580)]['insertMany'](_0xee0a2e,this[_0x1beb2e(0x5cb)]['wuid']),{'updated':_0x54b2d5[_0x1beb2e(0x7be)],'inserted':_0xee0a2e[_0x1beb2e(0x7be)]};}catch(_0x306126){let _0x2c7675=_0x1beb2e(0x7eb),_0x5bd281=_0x306126 instanceof Error?_0x306126[_0x1beb2e(0x4a8)]:typeof _0x306126==_0x1beb2e(0x82b)?JSON[_0x1beb2e(0x261)](_0x306126):_0x306126,_0x209a03=_0x2c7675+':\x20'+_0x5bd281;throw this['logger'][_0x1beb2e(0x2fe)](this[_0x1beb2e(0x86d)]+'\x20('+this['instance'][_0x1beb2e(0x406)]+_0x1beb2e(0x5cc)+_0x209a03),new m(_0x209a03);}}async[a0_0x21bcc2(0x4c4)](_0x3753b7){const _0x2db9c7=a0_0x21bcc2;try{if(!Array[_0x2db9c7(0x744)](_0x3753b7)||_0x3753b7[_0x2db9c7(0x7be)]===0x0)throw new Error(_0x2db9c7(0x916));let _0x1b51ab=0x64,_0x2121f2=0x0;for(let _0x18d385=0x0;_0x18d385<_0x3753b7[_0x2db9c7(0x7be)];_0x18d385+=_0x1b51ab){let _0x15c9c0=_0x3753b7[_0x2db9c7(0x599)](_0x18d385,_0x18d385+_0x1b51ab),{updated:_0x147c12}=await this[_0x2db9c7(0x2de)](_0x15c9c0);_0x2121f2+=_0x147c12;}return{'updated':_0x2121f2};}catch(_0x9708cd){let _0x5c37c3=_0x2db9c7(0x7eb),_0x4468c1=_0x9708cd instanceof Error?_0x9708cd[_0x2db9c7(0x4a8)]:typeof _0x9708cd=='object'?JSON['stringify'](_0x9708cd):_0x9708cd,_0x2af9d2=_0x5c37c3+':\x20'+_0x4468c1;throw this[_0x2db9c7(0x74f)][_0x2db9c7(0x2fe)](this[_0x2db9c7(0x86d)]+'\x20('+this[_0x2db9c7(0x5cb)]['wuid']+_0x2db9c7(0x5cc)+_0x2af9d2),new m(_0x2af9d2);}}async[a0_0x21bcc2(0x2de)](_0x420daf){const _0xeb25af=a0_0x21bcc2;try{let _0xa5e09c=await this[_0xeb25af(0x5bb)]['label'][_0xeb25af(0x68c)]({'where':{}},this[_0xeb25af(0x5cb)]['wuid']),_0x21fcb4=new Set(_0xa5e09c[_0xeb25af(0x867)](_0x5570c9=>_0x5570c9[_0xeb25af(0x644)])),_0x41b595=[],_0x2dde24=[];for(let _0x102848 of _0x420daf){if(!_0x102848[_0xeb25af(0x644)])continue;_0x102848['_id']=this[_0xeb25af(0x5ce)](_0x102848[_0xeb25af(0x644)]);let _0x3468cb=await this[_0xeb25af(0x5bb)][_0xeb25af(0x580)][_0xeb25af(0x7db)]({'where':{'_id':_0x102848['_id']}},this[_0xeb25af(0x5cb)][_0xeb25af(0x406)]),_0x3fd73b={};if(Object['entries'](_0x102848[_0xeb25af(0x4e7)])[_0xeb25af(0x653)](([_0x56e504,_0x532c4b])=>{const _0x5843e7=_0xeb25af;_0x3fd73b[_0x5843e7(0x3f8)+_0x56e504]=_0x532c4b;}),_0x3468cb&&!_0x3468cb[_0xeb25af(0x455)]){let _0x8f1420=(_0x102848[_0xeb25af(0x4e7)][_0xeb25af(0x1fd)]||[])['filter'](_0x55817e=>_0x21fcb4[_0xeb25af(0x4d5)](_0x55817e)),_0xe9c9c4=new Set(_0x3468cb[_0xeb25af(0x4e7)]['etiquetas']||[]),_0x1cebe2=_0x8f1420['filter'](_0x43541b=>!_0xe9c9c4[_0xeb25af(0x4d5)](_0x43541b)),_0x32022d=[..._0xe9c9c4][_0xeb25af(0x874)](_0x175f08=>!_0x8f1420[_0xeb25af(0x587)](_0x175f08));_0x2dde24[_0xeb25af(0x2ea)](..._0x1cebe2['map'](_0xf68f60=>this['AddChatLabel'](_0xf68f60,_0x102848[_0xeb25af(0x644)]))),_0x2dde24[_0xeb25af(0x2ea)](..._0x32022d[_0xeb25af(0x867)](_0x46fd87=>this[_0xeb25af(0x422)](_0x46fd87,_0x102848[_0xeb25af(0x644)]))),_0x102848[_0xeb25af(0x4e7)]['etiquetas']=_0x8f1420,_0x41b595[_0xeb25af(0x2ea)]({'query':{'where':{'_id':_0x102848[_0xeb25af(0x644)],'owner':this['instance'][_0xeb25af(0x406)]}},'update':_0x3fd73b});}else _0x3fd73b[_0xeb25af(0x455)]=!0x0,_0x41b595[_0xeb25af(0x2ea)]({'query':{'where':{'_id':_0x102848[_0xeb25af(0x644)],'owner':this[_0xeb25af(0x5cb)][_0xeb25af(0x406)]}},'update':_0x3fd73b});}let _0x17fcde=await this[_0xeb25af(0x5bb)][_0xeb25af(0x580)][_0xeb25af(0x609)](_0x41b595);return await Promise[_0xeb25af(0x3ec)](_0x2dde24),{'updated':_0x17fcde};}catch(_0x4f28a2){let _0x1de696=_0xeb25af(0x7eb),_0x2cabfb=_0x4f28a2 instanceof Error?_0x4f28a2[_0xeb25af(0x4a8)]:typeof _0x4f28a2==_0xeb25af(0x82b)?JSON[_0xeb25af(0x261)](_0x4f28a2):_0x4f28a2,_0xfaa8e8=_0x1de696+':\x20'+_0x2cabfb;throw this[_0xeb25af(0x74f)][_0xeb25af(0x2fe)](this['instanceName']+'\x20('+this[_0xeb25af(0x5cb)][_0xeb25af(0x406)]+'):\x20'+_0xfaa8e8),new m(_0xfaa8e8);}}async[a0_0x21bcc2(0x86a)](){const _0x307c76=a0_0x21bcc2;return await this[_0x307c76(0x2cd)][_0x307c76(0x86a)]();}async[a0_0x21bcc2(0x270)](_0x9287b1){const _0x5216ac=a0_0x21bcc2;try{return await this[_0x5216ac(0x2cd)]['updateReadReceiptsPrivacy'](_0x9287b1[_0x5216ac(0x519)][_0x5216ac(0x20c)]),await this['client'][_0x5216ac(0x659)](_0x9287b1[_0x5216ac(0x519)][_0x5216ac(0x2f2)]),await this['client'][_0x5216ac(0x357)](_0x9287b1[_0x5216ac(0x519)][_0x5216ac(0x41a)]),await this['client'][_0x5216ac(0x85e)](_0x9287b1['privacySettings'][_0x5216ac(0x733)]),await this[_0x5216ac(0x2cd)][_0x5216ac(0x656)](_0x9287b1[_0x5216ac(0x519)][_0x5216ac(0x655)]),await this['client'][_0x5216ac(0x630)](_0x9287b1['privacySettings'][_0x5216ac(0x865)]),this[_0x5216ac(0x2cd)]?.['ws']?.[_0x5216ac(0x59f)](),{'update':'success','data':{'readreceipts':_0x9287b1[_0x5216ac(0x519)][_0x5216ac(0x20c)],'profile':_0x9287b1[_0x5216ac(0x519)]['profile'],'status':_0x9287b1[_0x5216ac(0x519)][_0x5216ac(0x41a)],'online':_0x9287b1[_0x5216ac(0x519)][_0x5216ac(0x733)],'last':_0x9287b1['privacySettings'][_0x5216ac(0x655)],'groupadd':_0x9287b1[_0x5216ac(0x519)][_0x5216ac(0x865)]}};}catch(_0x1a7f3b){let _0x573eb6=_0x5216ac(0x2f6),_0x1decd8=_0x1a7f3b instanceof Error?_0x1a7f3b['message']:typeof _0x1a7f3b==_0x5216ac(0x82b)?JSON[_0x5216ac(0x261)](_0x1a7f3b):_0x1a7f3b,_0xcf5f49=_0x573eb6+':\x20'+_0x1decd8;throw this['logger'][_0x5216ac(0x2fe)](this['instanceName']+'\x20('+this['instance'][_0x5216ac(0x406)]+'):\x20'+_0xcf5f49),new m(_0xcf5f49);}}async[a0_0x21bcc2(0x312)](_0x209b7c){const _0x16aa99=a0_0x21bcc2;let _0x3f34fa=(_0x209b7c?this[_0x16aa99(0x5ce)](_0x209b7c):this[_0x16aa99(0x2cd)]?.[_0x16aa99(0x6cd)]?.['id'])[_0x16aa99(0x243)](/:\d{1,2}@/g,'@');this[_0x16aa99(0x74f)]['verbose'](this['instanceName']+'\x20('+this[_0x16aa99(0x5cb)][_0x16aa99(0x406)]+_0x16aa99(0x774)+_0x3f34fa);let _0x33d429=await this[_0x16aa99(0x5bb)][_0x16aa99(0x7c9)][_0x16aa99(0x7db)]({'where':{'_id':_0x3f34fa}},this[_0x16aa99(0x5cb)]['wuid']),_0x30e35e=_0x33d429?_0x33d429[_0x16aa99(0x7f1)]:null;try{let _0x286bc0=(await this[_0x16aa99(0x374)]({'numbers':[_0x3f34fa]}))?.[_0x16aa99(0x4a3)](),_0x1327a2=(await this['findAndUpdateCacheContact'](_0x3f34fa,null,!0x1))[_0x16aa99(0x74a)][_0x16aa99(0x63c)],_0x2fe26c=await this[_0x16aa99(0x4c2)](_0x286bc0?.[_0x16aa99(0x52b)]),_0x5e3938=await this['fetchBusinessProfile'](_0x286bc0?.[_0x16aa99(0x52b)]),_0x546009=(await this[_0x16aa99(0x90e)](_0x3f34fa,null,!0x1))[_0x16aa99(0x74a)][_0x16aa99(0x83e)],_0x51ec2d=await this[_0x16aa99(0x5bb)][_0x16aa99(0x580)][_0x16aa99(0x7db)]({'where':{'_id':_0x3f34fa}},this[_0x16aa99(0x5cb)][_0x16aa99(0x406)]),_0x3cf1bb={'imagechat':_0x1327a2,'contactname':_0x30e35e||null,'pushName':_0x546009,'status':_0x2fe26c?.[_0x16aa99(0x41a)],'isBusiness':_0x5e3938[_0x16aa99(0x52d)],'email':_0x5e3938?.[_0x16aa99(0x82d)],'description':_0x5e3938?.[_0x16aa99(0x678)],'website':_0x5e3938?.[_0x16aa99(0x49e)]?.[_0x16aa99(0x4a3)](),'lastcache':Date[_0x16aa99(0x462)](),'imported':!_0x51ec2d},_0x5559c4=await this[_0x16aa99(0x5bb)][_0x16aa99(0x580)][_0x16aa99(0x4f3)]({'where':{'_id':_0x3f34fa}},_0x3cf1bb,this[_0x16aa99(0x5cb)][_0x16aa99(0x406)]),_0x35ed8b={'owner':this[_0x16aa99(0x5cb)][_0x16aa99(0x406)],'_id':_0x3f34fa,'profilePictureUrl':_0x1327a2,'status':_0x2fe26c?.[_0x16aa99(0x41a)]};return this[_0x16aa99(0x5bb)][_0x16aa99(0x7c9)][_0x16aa99(0x7ed)]([_0x35ed8b],this['instance'][_0x16aa99(0x406)]),_0x5559c4&&j(this[_0x16aa99(0x86d)],'chats',{'chat':_0x5559c4}),{'wuid':_0x286bc0?.['jid']||_0x3f34fa,'name':_0x286bc0?.[_0x16aa99(0x83e)],'pushName':_0x546009,'numberExists':_0x286bc0?.[_0x16aa99(0x8fb)],'picture':_0x1327a2,'status':_0x2fe26c?.['status'],'isBusiness':_0x5e3938[_0x16aa99(0x52d)],'email':_0x5e3938?.[_0x16aa99(0x82d)],'description':_0x5e3938?.[_0x16aa99(0x678)],'website':_0x5e3938?.['website']?.['shift']()};}catch(_0x28a063){return this['logger'][_0x16aa99(0x2fe)](_0x16aa99(0x5a2)+(_0x28a063 instanceof Error?_0x28a063['message']:JSON[_0x16aa99(0x261)](_0x28a063,null,0x2))),{};}}async[a0_0x21bcc2(0x87e)](_0x46b6b0){const _0x2d8a48=a0_0x21bcc2;this[_0x2d8a48(0x74f)][_0x2d8a48(0x78f)](this[_0x2d8a48(0x86d)]+'\x20('+this[_0x2d8a48(0x5cb)][_0x2d8a48(0x406)]+_0x2d8a48(0x332));try{let _0x2e74e0=_0x46b6b0?this[_0x2d8a48(0x5ce)](_0x46b6b0):this[_0x2d8a48(0x5cb)][_0x2d8a48(0x406)],_0x53b10b=await this['client'][_0x2d8a48(0x5dd)](_0x2e74e0);return this[_0x2d8a48(0x74f)]['verbose'](this[_0x2d8a48(0x86d)]+'\x20('+this['instance'][_0x2d8a48(0x406)]+_0x2d8a48(0x23a)),_0x53b10b?(this[_0x2d8a48(0x74f)][_0x2d8a48(0x78f)](this[_0x2d8a48(0x86d)]+'\x20('+this[_0x2d8a48(0x5cb)][_0x2d8a48(0x406)]+'):Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x53b10b}):{'isBusiness':!0x1,'message':_0x2d8a48(0x49a),...(await this[_0x2d8a48(0x374)]({'numbers':[_0x2e74e0]}))?.[_0x2d8a48(0x4a3)]()};}catch(_0x572b95){let _0x32e416=_0x2d8a48(0x92a),_0x2664f2=_0x572b95 instanceof Error?_0x572b95[_0x2d8a48(0x4a8)]:typeof _0x572b95==_0x2d8a48(0x82b)?JSON['stringify'](_0x572b95):_0x572b95,_0x519f59=_0x32e416+':\x20'+_0x2664f2;throw this[_0x2d8a48(0x74f)][_0x2d8a48(0x2fe)](this[_0x2d8a48(0x86d)]+'\x20('+this[_0x2d8a48(0x5cb)][_0x2d8a48(0x406)]+'):\x20'+_0x519f59),new x(_0x519f59);}}async[a0_0x21bcc2(0x4c2)](_0x1fef34){const _0x434d42=a0_0x21bcc2;let _0x20aa1b=this['createJid'](_0x1fef34);try{return{'wuid':_0x20aa1b,'status':(await this[_0x434d42(0x2cd)][_0x434d42(0x53b)](_0x20aa1b))?.[_0x434d42(0x41a)]};}catch{return{'wuid':_0x20aa1b,'status':null};}}async[a0_0x21bcc2(0x1e9)](_0x128dcb){const _0x516405=a0_0x21bcc2;try{return await this['client'][_0x516405(0x1e9)](_0x128dcb),{'update':_0x516405(0x906)};}catch(_0x416508){let _0x4746a6=_0x516405(0x64c),_0x51a95a=_0x416508 instanceof Error?_0x416508['message']:typeof _0x416508=='object'?JSON[_0x516405(0x261)](_0x416508):_0x416508,_0x5eb89b=_0x4746a6+':\x20'+_0x51a95a;throw this[_0x516405(0x74f)]['error'](this[_0x516405(0x86d)]+'\x20('+this[_0x516405(0x5cb)][_0x516405(0x406)]+'):\x20'+_0x5eb89b),new x(_0x5eb89b);}}async[a0_0x21bcc2(0x7ff)](_0x2af22c){const _0x3347ae=a0_0x21bcc2;try{return await this[_0x3347ae(0x2cd)][_0x3347ae(0x7ff)](_0x2af22c),{'update':'success'};}catch(_0x3b0a77){let _0x299ead=_0x3347ae(0x6f0),_0x27ef45=_0x3b0a77 instanceof Error?_0x3b0a77[_0x3347ae(0x4a8)]:typeof _0x3b0a77==_0x3347ae(0x82b)?JSON[_0x3347ae(0x261)](_0x3b0a77):_0x3b0a77,_0x187f32=_0x299ead+':\x20'+_0x27ef45;throw this['logger']['error'](this[_0x3347ae(0x86d)]+'\x20('+this[_0x3347ae(0x5cb)][_0x3347ae(0x406)]+'):\x20'+_0x187f32),new x(_0x187f32);}}async['updateProfilePicture'](_0x5cc638){const _0x3a6b5b=a0_0x21bcc2;try{let _0xe8e649;if((0x0,k[_0x3a6b5b(0x69a)])(_0x5cc638)){let _0x2e074a=new Date()[_0x3a6b5b(0x8d4)](),_0x2c0985=_0x5cc638+_0x3a6b5b(0x62d)+_0x2e074a;_0xe8e649=(await Y[_0x3a6b5b(0x7ac)]['get'](_0x2c0985,{'responseType':'arraybuffer'}))[_0x3a6b5b(0x721)];}else{if((0x0,k['isBase64'])(_0x5cc638))_0xe8e649=Buffer[_0x3a6b5b(0x769)](_0x5cc638,_0x3a6b5b(0x21f));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x3a6b5b(0x2cd)][_0x3a6b5b(0x464)](this['instance'][_0x3a6b5b(0x406)],_0xe8e649),{'update':_0x3a6b5b(0x906)};}catch(_0x1447a4){let _0xb171e=_0x3a6b5b(0x722),_0x4aefac=_0x1447a4 instanceof Error?_0x1447a4[_0x3a6b5b(0x4a8)]:typeof _0x1447a4==_0x3a6b5b(0x82b)?JSON[_0x3a6b5b(0x261)](_0x1447a4):_0x1447a4,_0x510420=_0xb171e+':\x20'+_0x4aefac;throw this[_0x3a6b5b(0x74f)][_0x3a6b5b(0x2fe)](this[_0x3a6b5b(0x86d)]+'\x20('+this[_0x3a6b5b(0x5cb)]['wuid']+_0x3a6b5b(0x5cc)+_0x510420),new x(_0x510420);}}async[a0_0x21bcc2(0x6d3)](){const _0x38e1d8=a0_0x21bcc2;try{return await this[_0x38e1d8(0x2cd)]['removeProfilePicture'](this[_0x38e1d8(0x5cb)]['wuid']),{'update':'success'};}catch(_0x27b54b){let _0x4730f4=_0x38e1d8(0x67a),_0x5d4895=_0x27b54b instanceof Error?_0x27b54b[_0x38e1d8(0x4a8)]:typeof _0x27b54b==_0x38e1d8(0x82b)?JSON[_0x38e1d8(0x261)](_0x27b54b):_0x27b54b,_0x2dfdb9=_0x4730f4+':\x20'+_0x5d4895;throw this['logger'][_0x38e1d8(0x2fe)](this[_0x38e1d8(0x86d)]+'\x20('+this[_0x38e1d8(0x5cb)][_0x38e1d8(0x406)]+_0x38e1d8(0x5cc)+_0x2dfdb9),new x(_0x2dfdb9);}}async['createGroup'](_0x48dc8e){const _0x181936=a0_0x21bcc2;try{let _0x373ce9=(await this[_0x181936(0x374)]({'numbers':_0x48dc8e[_0x181936(0x507)]}))['filter'](_0x4d1f04=>_0x4d1f04[_0x181936(0x8fb)])['map'](_0x57e37d=>_0x57e37d[_0x181936(0x52b)]),{id:_0x2160c0}=await this['client']['groupCreate'](_0x48dc8e[_0x181936(0x6e1)],_0x373ce9);_0x48dc8e?.[_0x181936(0x678)]&&await this['client'][_0x181936(0x78b)](_0x2160c0,_0x48dc8e[_0x181936(0x678)]);let _0x27386c=await this[_0x181936(0x2cd)][_0x181936(0x308)](_0x2160c0);return _0x27386c[_0x181936(0x8f0)]=[],{'metadata':_0x27386c};}catch(_0x9c96c2){let _0x246c9b='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x50373c=_0x9c96c2 instanceof Error?_0x9c96c2[_0x181936(0x4a8)]:typeof _0x9c96c2==_0x181936(0x82b)?JSON[_0x181936(0x261)](_0x9c96c2):_0x9c96c2,_0x3a5a15=_0x246c9b+':\x20'+_0x50373c;throw this['logger'][_0x181936(0x2fe)](this[_0x181936(0x86d)]+'\x20('+this[_0x181936(0x5cb)][_0x181936(0x406)]+_0x181936(0x5cc)+_0x3a5a15),new x(_0x3a5a15);}}async[a0_0x21bcc2(0x3a9)](_0x3e16b6){const _0x3bd6fa=a0_0x21bcc2;try{if(_0x3e16b6[_0x3bd6fa(0x876)]===!0x0&&await this[_0x3bd6fa(0x2cd)][_0x3bd6fa(0x4ed)](_0x3e16b6['groupJid'],_0x3bd6fa(0x8af)),_0x3e16b6['restrict']===!0x1&&await this[_0x3bd6fa(0x2cd)]['groupSettingUpdate'](_0x3e16b6[_0x3bd6fa(0x4fd)],_0x3bd6fa(0x4dd)),_0x3e16b6['announce']===!0x0&&await this[_0x3bd6fa(0x2cd)][_0x3bd6fa(0x4ed)](_0x3e16b6[_0x3bd6fa(0x4fd)],'announcement'),_0x3e16b6[_0x3bd6fa(0x7c2)]===!0x1&&await this['client'][_0x3bd6fa(0x4ed)](_0x3e16b6[_0x3bd6fa(0x4fd)],'not_announcement'),_0x3e16b6['memberAddMode']===!0x0&&await this[_0x3bd6fa(0x2cd)][_0x3bd6fa(0x3d0)](_0x3e16b6['groupJid'],_0x3bd6fa(0x353)),_0x3e16b6[_0x3bd6fa(0x375)]===!0x1&&await this[_0x3bd6fa(0x2cd)][_0x3bd6fa(0x3d0)](_0x3e16b6[_0x3bd6fa(0x4fd)],_0x3bd6fa(0x54e)),_0x3e16b6[_0x3bd6fa(0x259)]===!0x0&&await this[_0x3bd6fa(0x2cd)][_0x3bd6fa(0x500)](_0x3e16b6[_0x3bd6fa(0x4fd)],'on'),_0x3e16b6['joinApprovalMode']===!0x1&&await this['client'][_0x3bd6fa(0x500)](_0x3e16b6[_0x3bd6fa(0x4fd)],_0x3bd6fa(0x5c1)),typeof _0x3e16b6['expiration']<'u'&&_0x3e16b6[_0x3bd6fa(0x78e)]!==null&&await this[_0x3bd6fa(0x2cd)]['groupToggleEphemeral'](_0x3e16b6[_0x3bd6fa(0x4fd)],_0x3e16b6['expiration']),_0x3e16b6[_0x3bd6fa(0x83e)]&&await this['client']['groupUpdateSubject'](_0x3e16b6[_0x3bd6fa(0x4fd)],_0x3e16b6[_0x3bd6fa(0x83e)]),_0x3e16b6[_0x3bd6fa(0x678)]&&await this['client'][_0x3bd6fa(0x78b)](_0x3e16b6[_0x3bd6fa(0x4fd)],_0x3e16b6[_0x3bd6fa(0x678)]),_0x3e16b6[_0x3bd6fa(0x44d)]){let _0x5592d9;if((0x0,k['isURL'])(_0x3e16b6['image'])){let _0x426f2b=new Date()[_0x3bd6fa(0x8d4)](),_0x5a6027=_0x3e16b6[_0x3bd6fa(0x44d)]+_0x3bd6fa(0x62d)+_0x426f2b;_0x5592d9=(await Y[_0x3bd6fa(0x7ac)][_0x3bd6fa(0x725)](_0x5a6027,{'responseType':_0x3bd6fa(0x2cc)}))[_0x3bd6fa(0x721)];}else{if((0x0,k[_0x3bd6fa(0x63e)])(_0x3e16b6[_0x3bd6fa(0x44d)]))_0x5592d9=Buffer[_0x3bd6fa(0x769)](_0x3e16b6['image'],_0x3bd6fa(0x21f));else throw new m(_0x3bd6fa(0x32d));}await this[_0x3bd6fa(0x2cd)][_0x3bd6fa(0x464)](_0x3e16b6[_0x3bd6fa(0x4fd)],_0x5592d9);}return await this['findGroup']({'groupJid':_0x3e16b6[_0x3bd6fa(0x4fd)]});}catch(_0x35fd95){let _0x1ac260=_0x3bd6fa(0x5b9),_0x5f8b43=_0x35fd95 instanceof Error?_0x35fd95[_0x3bd6fa(0x4a8)]:typeof _0x35fd95==_0x3bd6fa(0x82b)?JSON[_0x3bd6fa(0x261)](_0x35fd95):_0x35fd95,_0x584873=_0x1ac260+':\x20'+_0x5f8b43;throw this[_0x3bd6fa(0x74f)][_0x3bd6fa(0x2fe)](this[_0x3bd6fa(0x86d)]+'\x20('+this[_0x3bd6fa(0x5cb)]['wuid']+_0x3bd6fa(0x5cc)+_0x584873),new x(_0x584873);}}async[a0_0x21bcc2(0x28c)](_0x58f50d){const _0x10b2eb=a0_0x21bcc2;try{if(_0x58f50d[_0x10b2eb(0x84e)]==='approve'||_0x58f50d['action']===_0x10b2eb(0x446)){let _0x182e5f=_0x58f50d[_0x10b2eb(0x507)][_0x10b2eb(0x867)](_0x2b0ca7=>this['createJid'](_0x2b0ca7));await this[_0x10b2eb(0x2cd)][_0x10b2eb(0x577)](_0x58f50d['groupJid'],_0x182e5f,_0x58f50d[_0x10b2eb(0x84e)]);}else{if(_0x58f50d[_0x10b2eb(0x84e)]===_0x10b2eb(0x65e)){let _0x44099f=(await this['whatsappNumber']({'numbers':_0x58f50d[_0x10b2eb(0x507)]}))[_0x10b2eb(0x874)](_0xe63902=>_0xe63902[_0x10b2eb(0x8fb)])[_0x10b2eb(0x867)](_0x3c6d8f=>this['createJid'](_0x3c6d8f[_0x10b2eb(0x52b)]));if(_0x44099f[_0x10b2eb(0x7be)]===0x0)throw new m(_0x10b2eb(0x819));await this[_0x10b2eb(0x2cd)]['groupParticipantsUpdate'](_0x58f50d[_0x10b2eb(0x4fd)],_0x44099f,'add');}else{let _0x8c357e=_0x58f50d['participants'][_0x10b2eb(0x867)](_0x2300ec=>this['createJid'](_0x2300ec));await this[_0x10b2eb(0x2cd)][_0x10b2eb(0x748)](_0x58f50d[_0x10b2eb(0x4fd)],_0x8c357e,_0x58f50d['action']);}}return await this[_0x10b2eb(0x661)]({'groupJid':_0x58f50d[_0x10b2eb(0x4fd)]});}catch(_0x1126cd){let _0x5417e6=_0x10b2eb(0x88c),_0x529fac=_0x1126cd instanceof Error?_0x1126cd[_0x10b2eb(0x4a8)]:typeof _0x1126cd==_0x10b2eb(0x82b)?JSON['stringify'](_0x1126cd):_0x1126cd,_0x2f3fbe=_0x5417e6+':\x20'+_0x529fac;throw this['logger']['error'](this[_0x10b2eb(0x86d)]+'\x20('+this[_0x10b2eb(0x5cb)][_0x10b2eb(0x406)]+_0x10b2eb(0x5cc)+_0x2f3fbe),new m(_0x2f3fbe);}}async[a0_0x21bcc2(0x70e)](_0x484d55){const _0x3b7996=a0_0x21bcc2;try{return await this[_0x3b7996(0x2cd)][_0x3b7996(0x70e)](_0x484d55[_0x3b7996(0x727)]);}catch(_0x406c79){let _0x511b2e='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',_0x14be1a=_0x406c79 instanceof Error?_0x406c79['message']:typeof _0x406c79=='object'?JSON['stringify'](_0x406c79):_0x406c79,_0x5238a6=_0x511b2e+':\x20'+_0x14be1a;throw this['logger'][_0x3b7996(0x2fe)](this['instanceName']+'\x20('+this[_0x3b7996(0x5cb)]['wuid']+_0x3b7996(0x5cc)+_0x5238a6),new m(_0x5238a6);}}async[a0_0x21bcc2(0x661)](_0x2f85c7,_0x16d986=a0_0x21bcc2(0x2a8)){const _0x24aa0b=a0_0x21bcc2;try{let _0x2a0f12=await this[_0x24aa0b(0x5bb)][_0x24aa0b(0x580)]['findOne']({'where':{'_id':_0x2f85c7[_0x24aa0b(0x4fd)]}},this[_0x24aa0b(0x5cb)][_0x24aa0b(0x406)]),_0x48993a=_0x2a0f12?_0x2a0f12['groupdata']:null,_0x1c5a6e=0x18*0x3c*0x3c*0x3e8;if(!_0x48993a||_0x48993a['lastUpdate']&&Date[_0x24aa0b(0x462)]()-_0x48993a[_0x24aa0b(0x3ba)]>_0x1c5a6e){let _0xc37c9b=await this[_0x24aa0b(0x2cd)][_0x24aa0b(0x308)](_0x2f85c7[_0x24aa0b(0x4fd)]);if(_0xc37c9b[_0x24aa0b(0x853)]=_0xc37c9b?.[_0x24aa0b(0x853)]&&_0xc37c9b[_0x24aa0b(0x853)]['toString']()[_0x24aa0b(0x7be)]<0xd?_0xc37c9b?.[_0x24aa0b(0x853)]*0x3e8:_0xc37c9b?.['subjectTime']||null,_0xc37c9b[_0x24aa0b(0x827)]=_0xc37c9b?.[_0x24aa0b(0x827)]&&_0xc37c9b[_0x24aa0b(0x827)][_0x24aa0b(0x929)]()[_0x24aa0b(0x7be)]<0xd?_0xc37c9b?.[_0x24aa0b(0x827)]*0x3e8:_0xc37c9b?.[_0x24aa0b(0x827)]||null,_0x48993a={..._0xc37c9b,'lastUpdate':Date[_0x24aa0b(0x462)]()},!_0xc37c9b)return;}let _0xea5356=_0x48993a[_0x24aa0b(0x507)][_0x24aa0b(0x777)](_0x256150=>_0x256150['id']===this[_0x24aa0b(0x5cb)][_0x24aa0b(0x406)]+_0x24aa0b(0x293)&&_0x256150[_0x24aa0b(0x573)]!=null);!_0x48993a[_0x24aa0b(0x727)]&&_0xea5356&&(_0x48993a['inviteCode']=(await this[_0x24aa0b(0x727)](_0x2f85c7,!0x1))['inviteUrl']);let _0x3da99f=(!_0x48993a[_0x24aa0b(0x7c2)]||_0xea5356)&&(!_0x48993a['isCommunity']||_0x48993a['isCommunity']&&_0x48993a[_0x24aa0b(0x6cc)]&&_0xea5356);_0x48993a['isAdmin']=_0xea5356,_0x48993a[_0x24aa0b(0x7e9)]=_0x3da99f;let _0x2b49ea=[];if(_0xea5356&&_0x48993a[_0x24aa0b(0x259)])try{_0x2b49ea=await this[_0x24aa0b(0x2cd)][_0x24aa0b(0x2d8)](_0x2f85c7['groupJid']),_0x48993a[_0x24aa0b(0x6ae)]=Date[_0x24aa0b(0x462)]();}catch(_0x187741){this[_0x24aa0b(0x74f)][_0x24aa0b(0x78f)](this['instanceName']+'\x20('+this[_0x24aa0b(0x5cb)][_0x24aa0b(0x406)]+_0x24aa0b(0x203)+_0x2f85c7[_0x24aa0b(0x4fd)]+':\x20'+(_0x187741 instanceof Error?_0x187741['message']:JSON[_0x24aa0b(0x261)](_0x187741,null,0x2)));}try{_0x48993a['image']=(await this[_0x24aa0b(0x90e)](_0x2f85c7[_0x24aa0b(0x4fd)],null,!0x0))[_0x24aa0b(0x74a)][_0x24aa0b(0x63c)];}catch(_0x21e921){this[_0x24aa0b(0x74f)]['verbose'](this[_0x24aa0b(0x86d)]+'\x20('+this[_0x24aa0b(0x5cb)]['wuid']+_0x24aa0b(0x8ad)+_0x2f85c7[_0x24aa0b(0x4fd)]+':\x20'+(_0x21e921 instanceof Error?_0x21e921[_0x24aa0b(0x4a8)]:JSON[_0x24aa0b(0x261)](_0x21e921,null,0x2)));}let _0x86cf43=_0x48993a['participants'][_0x24aa0b(0x867)](_0x36b94b=>_0x36b94b['id']),_0x3b0639=_0x2b49ea[_0x24aa0b(0x867)](_0x581d8c=>_0x581d8c['jid']),_0x28a510=await this[_0x24aa0b(0x5bb)][_0x24aa0b(0x288)][_0x24aa0b(0x29b)]([..._0x86cf43,..._0x3b0639]);_0x48993a[_0x24aa0b(0x507)]=_0x48993a['participants'][_0x24aa0b(0x867)](_0x13c462=>{const _0x267ba7=_0x24aa0b;let _0x1a7c94=_0x28a510[_0x267ba7(0x68c)](_0x3fd0f2=>_0x3fd0f2[_0x267ba7(0x644)]===_0x13c462['id']);return{'id':_0x13c462['id'],'isAdmin':[_0x267ba7(0x573),_0x267ba7(0x355)][_0x267ba7(0x587)](_0x13c462[_0x267ba7(0x573)]),'admin':_0x13c462[_0x267ba7(0x573)],'pushName':_0x1a7c94?.['name'],'profilePictureUrl':_0x1a7c94?.[_0x267ba7(0x63c)]};}),_0x48993a['awaitingApproval']=_0x2b49ea[_0x24aa0b(0x867)](_0xe64245=>{const _0x3d8527=_0x24aa0b;let _0x1bb21f=_0x28a510[_0x3d8527(0x68c)](_0x1bd78c=>_0x1bd78c[_0x3d8527(0x644)]===_0xe64245[_0x3d8527(0x52b)]);return{'id':_0xe64245[_0x3d8527(0x52b)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x1bb21f?.[_0x3d8527(0x83e)],'profilePictureUrl':_0x1bb21f?.[_0x3d8527(0x63c)],'request_method':_0xe64245[_0x3d8527(0x441)],'request_time':_0xe64245[_0x3d8527(0x6da)]};});let _0x1a9301=await this[_0x24aa0b(0x5bb)]['chat']['updateOne']({'where':{'_id':_0x2f85c7[_0x24aa0b(0x4fd)]}},{'imagechat':_0x48993a[_0x24aa0b(0x44d)],'name':_0x48993a[_0x24aa0b(0x6e1)],'lastcache':Date['now'](),'groupdata':_0x48993a},this[_0x24aa0b(0x5cb)][_0x24aa0b(0x406)]);return j(this[_0x24aa0b(0x86d)],_0x24aa0b(0x5bf),{'chat':_0x1a9301}),{'metadata':_0x48993a};}catch(_0xc2d190){if(_0x16d986===_0x24aa0b(0x4b4))return;throw new J('Error\x20fetching\x20group',_0xc2d190[_0x24aa0b(0x4a8)][_0x24aa0b(0x929)]());}}async[a0_0x21bcc2(0x271)](){const _0x2e608e=a0_0x21bcc2;try{let _0x5442cb=[],_0x165310=await this[_0x2e608e(0x2cd)][_0x2e608e(0x5f1)](),_0x2a86f6=Object['values'](_0x165310),_0x5e114f=_0x2a86f6[_0x2e608e(0x874)](_0x291fe8=>(0x0,w['isJidGroup'])(_0x291fe8?.['id']))[_0x2e608e(0x867)](async _0x376118=>{const _0x1e07ce=_0x2e608e;try{return await this[_0x1e07ce(0x2cd)]['profilePictureUrl'](_0x376118['id'],_0x1e07ce(0x42d));}catch(_0x3bf345){return this[_0x1e07ce(0x74f)][_0x1e07ce(0x78f)](this[_0x1e07ce(0x86d)]+'\x20('+this[_0x1e07ce(0x5cb)]['wuid']+_0x1e07ce(0x8ad)+_0x376118['id']+':\x20'+(_0x3bf345 instanceof Error?_0x3bf345[_0x1e07ce(0x4a8)]:JSON[_0x1e07ce(0x261)](_0x3bf345,null,0x2))),null;}}),_0x439ce1=await Promise[_0x2e608e(0x3ec)](_0x5e114f);for(let _0x37cd78=0x0;_0x37cd78<_0x2a86f6[_0x2e608e(0x7be)];_0x37cd78++){let _0x5256ce=_0x2a86f6[_0x37cd78];(0x0,w[_0x2e608e(0x55c)])(_0x5256ce?.['id'])&&(_0x5442cb['push']({'groupJid':_0x5256ce?.['id'],'subject':_0x5256ce?.[_0x2e608e(0x6e1)],'subjectOwner':_0x5256ce?.[_0x2e608e(0x6d2)]?.[_0x2e608e(0x766)]('@')[0x0],'subjectTime':_0x5256ce?.[_0x2e608e(0x853)],'creation':_0x5256ce?.[_0x2e608e(0x827)],'size':_0x5256ce?.[_0x2e608e(0x507)]?.[_0x2e608e(0x7be)],'owner':_0x5256ce?.[_0x2e608e(0x856)]?.[_0x2e608e(0x766)]('@')[0x0],'desc':_0x5256ce?.[_0x2e608e(0x671)],'restrict':_0x5256ce?.[_0x2e608e(0x876)],'announce':_0x5256ce?.['announce'],'image':_0x439ce1[_0x37cd78],'isCommunity':_0x5256ce?.[_0x2e608e(0x5b1)],'joinApprovalMode':_0x5256ce?.[_0x2e608e(0x259)],'memberCanAddParticipant':_0x5256ce?.[_0x2e608e(0x375)],'participants':_0x5256ce?.[_0x2e608e(0x507)],'descOwner':_0x5256ce?.[_0x2e608e(0x438)],'descId':_0x5256ce?.[_0x2e608e(0x1e1)],'memberAddMode':_0x5256ce?.['memberAddMode'],'isCommunityAnnounce':_0x5256ce?.[_0x2e608e(0x6cc)],'ephemeralDuration':_0x5256ce?.[_0x2e608e(0x51a)]||0x0,'author':_0x5256ce?.['author']}),this['updateChatGroupData'](_0x2a86f6[_0x37cd78]));}return _0x5442cb;}catch(_0x3546c9){let _0x490166=_0x2e608e(0x2ef),_0x530214=_0x3546c9 instanceof Error?_0x3546c9['message']:typeof _0x3546c9==_0x2e608e(0x82b)?JSON[_0x2e608e(0x261)](_0x3546c9):_0x3546c9,_0x508fb6=_0x490166+':\x20'+_0x530214;throw this['logger'][_0x2e608e(0x2fe)](this[_0x2e608e(0x86d)]+'\x20('+this['instance']['wuid']+_0x2e608e(0x5cc)+_0x508fb6),new J(_0x508fb6);}}async[a0_0x21bcc2(0x838)](_0x2acc08){const _0x5858d4=a0_0x21bcc2;let _0x3375e5=await this['repository']['chat'][_0x5858d4(0x7db)]({'where':{'_id':_0x2acc08['id']}},this[_0x5858d4(0x5cb)][_0x5858d4(0x406)]);_0x2acc08['subjectTime']=_0x2acc08?.[_0x5858d4(0x853)]&&_0x2acc08[_0x5858d4(0x853)][_0x5858d4(0x929)]()[_0x5858d4(0x7be)]<0xd?_0x2acc08?.[_0x5858d4(0x853)]*0x3e8:_0x2acc08?.[_0x5858d4(0x853)]||null,_0x2acc08[_0x5858d4(0x827)]=_0x2acc08?.[_0x5858d4(0x827)]&&_0x2acc08[_0x5858d4(0x827)]['toString']()[_0x5858d4(0x7be)]<0xd?_0x2acc08?.[_0x5858d4(0x827)]*0x3e8:_0x2acc08?.[_0x5858d4(0x827)]||null;let _0x361472=_0x3375e5?.[_0x5858d4(0x216)]?.[_0x5858d4(0x8f0)]||[],_0x416f99=_0x3375e5?.['groupdata']?.[_0x5858d4(0x6ae)],_0x165820=_0x2acc08[_0x5858d4(0x507)][_0x5858d4(0x867)](_0x1772a5=>{const _0x51e26e=_0x5858d4;let _0x4e3c5d=_0x3375e5?.[_0x51e26e(0x216)]?.['participants'][_0x51e26e(0x68c)](_0x58ff5c=>_0x58ff5c['id']===_0x1772a5['id']);return{..._0x1772a5,'isAdmin':[_0x51e26e(0x573),'superadmin']['includes'](_0x1772a5['admin']),'admin':_0x1772a5[_0x51e26e(0x573)],'name':_0x4e3c5d?.[_0x51e26e(0x83e)]||_0x1772a5['name'],'imgUrl':_0x4e3c5d?.[_0x51e26e(0x7cd)]||_0x1772a5[_0x51e26e(0x7cd)]};}),_0x340bc9=_0x165820[_0x5858d4(0x777)](_0x3ba4ec=>_0x3ba4ec['id']===this[_0x5858d4(0x5cb)][_0x5858d4(0x406)]+'@s.whatsapp.net'&&_0x3ba4ec['isAdmin']),_0x338019=(!_0x2acc08['announce']||_0x340bc9)&&(!_0x2acc08[_0x5858d4(0x5b1)]||_0x2acc08[_0x5858d4(0x5b1)]&&_0x2acc08['isCommunityAnnounce']&&_0x340bc9),_0x58306b={..._0x2acc08,'participants':_0x165820,'awaitingApproval':_0x361472,'lastFetchAwaitingApproval':_0x416f99,'isAdmin':_0x340bc9,'canSendMessage':_0x338019,'lastUpdate':Date[_0x5858d4(0x462)]()};await this['repository'][_0x5858d4(0x580)][_0x5858d4(0x4f3)]({'where':{'_id':_0x2acc08['id']}},{'name':_0x2acc08[_0x5858d4(0x6e1)],'group':!0x0,'groupdata':_0x58306b,'lastcache':Date['now']()},this[_0x5858d4(0x5cb)][_0x5858d4(0x406)]),j(this['instanceName'],_0x5858d4(0x5bf),{'chat':_0x2acc08});}async[a0_0x21bcc2(0x79a)](_0x5402de){const _0x454069=a0_0x21bcc2;let _0xbf1bc2=await this[_0x454069(0x5bb)][_0x454069(0x580)][_0x454069(0x7db)]({'where':{'_id':_0x5402de['id']}},this['instance'][_0x454069(0x406)]);_0x5402de[_0x454069(0x853)]=_0x5402de?.[_0x454069(0x853)]&&_0x5402de['subjectTime']['toString']()[_0x454069(0x7be)]<0xd?_0x5402de?.[_0x454069(0x853)]*0x3e8:_0x5402de?.[_0x454069(0x853)]||null,_0x5402de[_0x454069(0x827)]=_0x5402de?.[_0x454069(0x827)]&&_0x5402de[_0x454069(0x827)][_0x454069(0x929)]()['length']<0xd?_0x5402de?.[_0x454069(0x827)]*0x3e8:_0x5402de?.[_0x454069(0x827)]||null,_0x5402de[_0x454069(0x727)]&&(_0x5402de[_0x454069(0x727)]=_0x454069(0x34e)+_0x5402de[_0x454069(0x727)]);let _0x4ed059=_0xbf1bc2?.['groupdata']?{..._0xbf1bc2[_0x454069(0x216)]}:{};Object[_0x454069(0x4ac)](_0x5402de)[_0x454069(0x653)](_0x46fd4b=>{_0x46fd4b!=='id'&&(_0x4ed059[_0x46fd4b]=_0x5402de[_0x46fd4b]);});let _0x2436ef=_0x4ed059[_0x454069(0x507)]?.['some'](_0x27496e=>_0x27496e['id']===this['instance'][_0x454069(0x406)]+'@s.whatsapp.net'&&_0x27496e['isAdmin'])||!0x1;_0x4ed059[_0x454069(0x6c2)]=_0x2436ef;let _0x4619d2=(!_0x4ed059[_0x454069(0x7c2)]||_0x2436ef)&&(!_0x4ed059[_0x454069(0x5b1)]||_0x4ed059[_0x454069(0x5b1)]&&_0x4ed059['isCommunityAnnounce']&&_0x2436ef);_0x4ed059[_0x454069(0x7e9)]=_0x4619d2;let _0x1f36ad={'group':!0x0,'groupdata':_0x4ed059};_0x5402de[_0x454069(0x6e1)]&&(_0x1f36ad['name']=_0x5402de['subject']),await this['repository'][_0x454069(0x580)]['updateOne']({'where':{'_id':_0x5402de['id']}},_0x1f36ad,this[_0x454069(0x5cb)]['wuid'],{'upsert':!0x0}),j(this['instanceName'],_0x454069(0x5bf),{'chat':_0x1f36ad});}async[a0_0x21bcc2(0x704)](_0x14b294){const _0x3d3654=a0_0x21bcc2;let _0x37b29a=await this[_0x3d3654(0x5bb)][_0x3d3654(0x580)][_0x3d3654(0x7db)]({'where':{'_id':_0x14b294['id']}},this['instance'][_0x3d3654(0x406)]);if(!_0x37b29a||!_0x37b29a['groupdata']){this['logger'][_0x3d3654(0x768)](this[_0x3d3654(0x86d)]+'\x20('+this['instance'][_0x3d3654(0x406)]+_0x3d3654(0x685)+_0x14b294['id']);return;}let _0x24425b=await this[_0x3d3654(0x5bb)][_0x3d3654(0x288)][_0x3d3654(0x29b)](_0x14b294[_0x3d3654(0x507)]),_0x475f48=[..._0x37b29a[_0x3d3654(0x216)]?.[_0x3d3654(0x507)]];switch(_0x14b294['action']){case _0x3d3654(0x65e):let _0xb893de=_0x24425b[_0x3d3654(0x867)](_0xbf3ef1=>({'id':_0xbf3ef1[_0x3d3654(0x644)],'isAdmin':!0x1,'name':_0xbf3ef1[_0x3d3654(0x83e)],'imgUrl':_0xbf3ef1[_0x3d3654(0x63c)]}));_0x475f48=[..._0x475f48,..._0xb893de];break;case'remove':_0x475f48=_0x475f48[_0x3d3654(0x874)](_0x2786e0=>!_0x14b294[_0x3d3654(0x507)]['includes'](_0x2786e0['id']));break;case'promote':case _0x3d3654(0x75b):_0x475f48=_0x475f48['map'](_0x3455f5=>_0x14b294[_0x3d3654(0x507)][_0x3d3654(0x587)](_0x3455f5['id'])?{..._0x3455f5,'isAdmin':_0x14b294[_0x3d3654(0x84e)]===_0x3d3654(0x528)}:_0x3455f5);break;}let _0xffc30a=_0x475f48[_0x3d3654(0x7be)],_0x7f6a6e=_0x475f48[_0x3d3654(0x777)](_0x356615=>_0x356615['id']===this[_0x3d3654(0x5cb)][_0x3d3654(0x406)]+_0x3d3654(0x293)),_0x4d46ae=_0x7f6a6e&&_0x475f48[_0x3d3654(0x777)](_0x24d973=>_0x24d973['id']===this['instance'][_0x3d3654(0x406)]+_0x3d3654(0x293)&&_0x24d973[_0x3d3654(0x6c2)]),_0x32f675=_0x7f6a6e&&(!_0x37b29a[_0x3d3654(0x216)][_0x3d3654(0x7c2)]||_0x4d46ae)&&(!_0x37b29a[_0x3d3654(0x216)][_0x3d3654(0x5b1)]||_0x37b29a[_0x3d3654(0x216)]['isCommunity']&&_0x4d46ae);await this['repository'][_0x3d3654(0x580)][_0x3d3654(0x4f3)]({'where':{'_id':_0x14b294['id']}},{'groupdata':{..._0x37b29a[_0x3d3654(0x216)],'participants':_0x475f48,'size':_0xffc30a,'isAdmin':_0x4d46ae,'canSendMessage':_0x32f675}},this[_0x3d3654(0x5cb)][_0x3d3654(0x406)]),this[_0x3d3654(0x74f)][_0x3d3654(0x768)](this['instanceName']+'\x20('+this[_0x3d3654(0x5cb)][_0x3d3654(0x406)]+_0x3d3654(0x3c9)+_0x14b294['id']+_0x3d3654(0x679)+_0x14b294['action']+_0x3d3654(0x262)+_0xffc30a+_0x3d3654(0x4a5)+_0x4d46ae+_0x3d3654(0x54a)+_0x32f675);}async[a0_0x21bcc2(0x727)](_0x267170,_0x525201=!0x0){const _0x28666b=a0_0x21bcc2;try{let _0x2db1b1=await this['client'][_0x28666b(0x6b1)](_0x267170[_0x28666b(0x4fd)]),_0x27c218={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0x2db1b1};if(_0x525201){let _0x39f8c8=await this[_0x28666b(0x5bb)][_0x28666b(0x580)]['updateOne']({'where':{'_id':_0x267170[_0x28666b(0x4fd)]}},_0x27c218,this[_0x28666b(0x5cb)][_0x28666b(0x406)]);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x2db1b1,'inviteCode':_0x2db1b1};}catch(_0x293335){let _0x51fe92=_0x28666b(0x658),_0x48983e=_0x293335 instanceof Error?_0x293335[_0x28666b(0x4a8)]:typeof _0x293335==_0x28666b(0x82b)?JSON[_0x28666b(0x261)](_0x293335):_0x293335,_0x2bb4fd=_0x51fe92+':\x20'+_0x48983e;throw this[_0x28666b(0x74f)][_0x28666b(0x2fe)](this[_0x28666b(0x86d)]+'\x20('+this[_0x28666b(0x5cb)][_0x28666b(0x406)]+_0x28666b(0x5cc)+_0x2bb4fd),new J(_0x2bb4fd);}}async[a0_0x21bcc2(0x57c)](_0xf2bc1a){const _0x3306da=a0_0x21bcc2;try{let _0x163081=await this[_0x3306da(0x2cd)][_0x3306da(0x726)](_0xf2bc1a[_0x3306da(0x4fd)]);return{'revoked':!0x0,'inviteUrl':_0x3306da(0x34e)+_0x163081,'inviteCode':_0x163081};}catch(_0x5af5d3){let _0x44e2bc=_0x3306da(0x2cf),_0x2baaac=_0x5af5d3 instanceof Error?_0x5af5d3['message']:typeof _0x5af5d3=='object'?JSON['stringify'](_0x5af5d3):_0x5af5d3,_0x2db12a=_0x44e2bc+':\x20'+_0x2baaac;throw this[_0x3306da(0x74f)][_0x3306da(0x2fe)](this[_0x3306da(0x86d)]+'\x20('+this['instance'][_0x3306da(0x406)]+'):\x20'+_0x2db12a),new J(_0x2db12a);}}async[a0_0x21bcc2(0x7aa)](_0x2abf9b){const _0x476dee=a0_0x21bcc2;try{if((0x0,k['isURL'])(_0x2abf9b[_0x476dee(0x727)]))var _0x324e90=_0x2abf9b['inviteCode']['split']('/')[0x3];else var _0x324e90=_0x2abf9b[_0x476dee(0x727)];let _0x2b3aa1=await this[_0x476dee(0x2cd)][_0x476dee(0x35f)](_0x324e90);return this['logger']['verbose'](this[_0x476dee(0x86d)]+'\x20('+this['instance'][_0x476dee(0x406)]+_0x476dee(0x5cc)+_0x2b3aa1),{'join':!0x0,'inviteCode':_0x324e90,'groupJid':_0x2b3aa1};}catch(_0x987b85){let _0x5222f3=_0x476dee(0x5ae),_0x30fe53=_0x987b85 instanceof Error?_0x987b85[_0x476dee(0x4a8)]:typeof _0x987b85==_0x476dee(0x82b)?JSON[_0x476dee(0x261)](_0x987b85):_0x987b85,_0x222633=_0x5222f3+':\x20'+_0x30fe53;throw this[_0x476dee(0x74f)][_0x476dee(0x2fe)](this[_0x476dee(0x86d)]+'\x20('+this[_0x476dee(0x5cb)]['wuid']+_0x476dee(0x5cc)+_0x222633),new J(_0x222633);}}async[a0_0x21bcc2(0x233)](_0x5076a4){const _0x481374=a0_0x21bcc2;try{return{'participants':(await this[_0x481374(0x5bb)][_0x481374(0x580)][_0x481374(0x7db)]({'where':{'_id':_0x5076a4[_0x481374(0x4fd)]}},this[_0x481374(0x5cb)][_0x481374(0x406)]))['groupdata']['participants']};}catch(_0x39f386){let _0x26b265='Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants',_0x499f99=_0x39f386 instanceof Error?_0x39f386['message']:typeof _0x39f386==_0x481374(0x82b)?JSON[_0x481374(0x261)](_0x39f386):_0x39f386,_0x882628=_0x26b265+':\x20'+_0x499f99;throw this['logger'][_0x481374(0x2fe)](this[_0x481374(0x86d)]+'\x20('+this[_0x481374(0x5cb)][_0x481374(0x406)]+_0x481374(0x5cc)+_0x882628),new J(_0x882628);}}async['leaveGroup'](_0x8aadfe){const _0x1e002f=a0_0x21bcc2;try{return await this[_0x1e002f(0x2cd)][_0x1e002f(0x6d7)](_0x8aadfe[_0x1e002f(0x4fd)]),{'groupJid':_0x8aadfe[_0x1e002f(0x4fd)],'leave':!0x0};}catch(_0x41faff){let _0x218709=_0x1e002f(0x5c0),_0x22ddcf=_0x41faff instanceof Error?_0x41faff[_0x1e002f(0x4a8)]:typeof _0x41faff=='object'?JSON[_0x1e002f(0x261)](_0x41faff):_0x41faff,_0x1965c1=_0x218709+':\x20'+_0x22ddcf;throw this['logger'][_0x1e002f(0x2fe)](this['instanceName']+'\x20('+this[_0x1e002f(0x5cb)]['wuid']+_0x1e002f(0x5cc)+_0x1965c1),new m(_0x1965c1);}}async[a0_0x21bcc2(0x209)](_0x731641){const _0x709597=a0_0x21bcc2;return await this[_0x709597(0x8bc)](_0x731641[_0x709597(0x922)],{'poll':{'name':_0x731641['pollMessage']?.[_0x709597(0x83e)],'selectableCount':_0x731641['pollMessage'][_0x709597(0x388)],'values':_0x731641[_0x709597(0x209)][_0x709597(0x366)]}},_0x731641?.['options']);}async['listMessage'](_0x1c74e0){const _0x58019f=a0_0x21bcc2;return await this['sendMessageWithTyping'](_0x1c74e0[_0x58019f(0x922)],{'listMessage':{'title':_0x1c74e0[_0x58019f(0x2d9)][_0x58019f(0x7a3)],'description':_0x1c74e0[_0x58019f(0x2d9)][_0x58019f(0x678)],'buttonText':_0x1c74e0[_0x58019f(0x2d9)]?.[_0x58019f(0x6ce)],'footerText':_0x1c74e0[_0x58019f(0x2d9)]?.[_0x58019f(0x49c)],'sections':_0x1c74e0['listMessage'][_0x58019f(0x242)],'listType':0x2}},_0x1c74e0?.['options']);}async[a0_0x21bcc2(0x3b7)](_0x402dca){const _0x256772=a0_0x21bcc2;let _0x5a2d07;if(_0x402dca['menuMessage'][_0x256772(0x347)]===_0x256772(0x628)){let _0x66f2e9=_0x402dca['menuMessage'][_0x256772(0x839)][_0x256772(0x34c)]('\x0a'),_0x12c1e5='',_0x50c59d='';_0x66f2e9!==-0x1?(_0x12c1e5=_0x402dca[_0x256772(0x3b7)][_0x256772(0x839)][_0x256772(0x747)](0x0,_0x66f2e9)[_0x256772(0x57a)](),_0x50c59d=_0x402dca['menuMessage'][_0x256772(0x839)][_0x256772(0x747)](_0x66f2e9+0x1)):_0x50c59d=_0x402dca[_0x256772(0x3b7)][_0x256772(0x839)];let _0x9b94ae=_0x402dca[_0x256772(0x3b7)][_0x256772(0x8bb)]['filter'](_0x38faac=>_0x38faac['trim']()!==''),_0x23f0fc=this['createSectionsFromValues'](_0x9b94ae);_0x5a2d07={'listMessage':{'title':_0x12c1e5,'description':_0x50c59d,'buttonText':_0x402dca[_0x256772(0x3b7)][_0x256772(0x6ce)]||_0x256772(0x2c6),'footerText':_0x402dca[_0x256772(0x3b7)][_0x256772(0x49c)],'sections':_0x23f0fc,'listType':0x2}};}else{if(_0x402dca[_0x256772(0x3b7)]['type']===_0x256772(0x8f3)){let _0x475bd9=_0x402dca[_0x256772(0x3b7)][_0x256772(0x8bb)]['filter'](_0x5913dd=>!(_0x5913dd['startsWith']('[')&&_0x5913dd['endsWith'](']'))&&_0x5913dd[_0x256772(0x57a)]()!=='')[_0x256772(0x867)](_0x17fdb0=>_0x17fdb0['split']('\x0a')[0x0]);_0x5a2d07={'poll':{'name':_0x402dca['menuMessage'][_0x256772(0x839)],'selectableCount':_0x402dca[_0x256772(0x3b7)][_0x256772(0x388)]||0x1,'values':_0x475bd9}};}}return await this[_0x256772(0x8bc)](_0x402dca[_0x256772(0x922)],_0x5a2d07,_0x402dca?.[_0x256772(0x5c4)]);}[a0_0x21bcc2(0x72b)](_0x1087cc){const _0x1890d9=a0_0x21bcc2;let _0xd94004=[],_0x4ee122={'rows':[]};return _0x1087cc['forEach'](_0x1ff154=>{const _0xf2f790=a0_0x4215;if(_0x1ff154[_0xf2f790(0x37a)]('[')&&_0x1ff154[_0xf2f790(0x868)](']'))_0x4ee122[_0xf2f790(0x53d)][_0xf2f790(0x7be)]>0x0&&_0xd94004[_0xf2f790(0x2ea)](_0x4ee122),_0x4ee122={'title':_0x1ff154[_0xf2f790(0x599)](0x1,-0x1),'rows':[]};else{let _0x4e0525=_0x1ff154['split']('\x0a')[_0xf2f790(0x867)](_0x311bca=>_0x311bca[_0xf2f790(0x57a)]()),_0x4c16c9=_0x4e0525[0x0],_0x5ab238=_0x4e0525[0x1]||null,_0x5ce84a=_0x4e0525[0x2]||_0x4c16c9;_0x4ee122['rows'][_0xf2f790(0x2ea)]({'title':_0x4c16c9,'description':_0x5ab238,'rowId':_0x5ce84a});}}),_0x4ee122[_0x1890d9(0x53d)][_0x1890d9(0x7be)]>0x0&&_0xd94004[_0x1890d9(0x2ea)](_0x4ee122),_0xd94004;}async['updateMessage'](_0x4ed7e7,_0x10af94){const _0x121d27=a0_0x21bcc2;if(await this[_0x121d27(0x46b)](_0x4ed7e7,!0x0)){let _0x1deb13={'where':{'_id':_0x4ed7e7['id']}},_0x3c47b2={'status':[_0x10af94[_0x121d27(0x41a)]][0x0]};try{let _0x71bf3c=await this[_0x121d27(0x5bb)][_0x121d27(0x4a8)][_0x121d27(0x7ed)](_0x1deb13,_0x3c47b2,this[_0x121d27(0x5cb)][_0x121d27(0x406)]);_0x71bf3c&&j(this[_0x121d27(0x86d)],_0x121d27(0x6aa),{'message':_0x71bf3c});}catch{}}}[a0_0x21bcc2(0x333)](_0x3eab5b){const _0x4e5842=a0_0x21bcc2;let _0x3ac5f7=[];return _0x3eab5b['forEach'](_0x3846d5=>{const _0x4c0a08=a0_0x4215;_0x3846d5[_0x4c0a08(0x7a3)]&&_0x3ac5f7['push']('['+_0x3846d5['title']+']'),_0x3846d5[_0x4c0a08(0x53d)]['forEach'](_0x398540=>{const _0x29d7d7=_0x4c0a08;_0x3ac5f7[_0x29d7d7(0x2ea)](_0x398540[_0x29d7d7(0x7a3)]);});}),_0x3ac5f7[_0x4e5842(0x720)]('|');}[a0_0x21bcc2(0x8a1)](_0x298aa3){const _0x59cab3=a0_0x21bcc2;let _0x390db8=_0x298aa3[_0x59cab3(0x243)](/\\n/g,'\x0a')['split']('\x0a')[_0x59cab3(0x874)](_0x2a78e3=>_0x2a78e3[_0x59cab3(0x587)](_0x59cab3(0x521))||_0x2a78e3['includes'](_0x59cab3(0x264))),_0x501a39='';return _0x390db8[_0x59cab3(0x653)](_0x5dc77a=>{const _0x1489c2=_0x59cab3;let _0xa8ad42=/TEL(?:.*):(.+)/,_0x232710=/EMAIL(?:.*):(.+)/,_0x59cc0a=_0x5dc77a[_0x1489c2(0x2e9)](_0xa8ad42),_0x5c2a1a=_0x5dc77a[_0x1489c2(0x2e9)](_0x232710);if(_0x59cc0a){let _0x3f3dda=_0x59cc0a[0x1][_0x1489c2(0x243)](/-| |\+|\(|\)/g,'')[_0x1489c2(0x57a)]();_0x501a39+=_0x1489c2(0x5e9)+_0x3f3dda+'\x0a';}else{if(_0x5c2a1a){let _0x5d413f=_0x5c2a1a[0x1][_0x1489c2(0x57a)]();_0x501a39+=_0x1489c2(0x509)+_0x5d413f+'\x0a';}}}),_0x501a39[_0x59cab3(0x57a)]();}async[a0_0x21bcc2(0x493)](_0x1e37d0,_0x1eaf75,_0x4089d6,_0x1de6aa=null){const _0x337b47=a0_0x21bcc2;if(_0x1e37d0[_0x337b47(0x7bc)])try{let _0x4b6205=_0x1eaf75[_0x337b47(0x3fe)]['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x5f3d2f=_0x1eaf75['key'][_0x337b47(0x86f)],_0x2af766=_0x4b6205[_0x337b47(0x868)](_0x337b47(0x489)),_0xf9ee1a=_0x1eaf75[_0x337b47(0x393)]?.[_0x337b47(0x243)](/:\d{1,2}@/g,'@')||'',_0x4e794d=_0x1eaf75[_0x337b47(0x3cc)]?.[_0x337b47(0x839)]||_0x1eaf75['message_normalized']?.[_0x337b47(0x728)]||_0x1eaf75[_0x337b47(0x3cc)]?.[_0x337b47(0x8c3)]||_0x1eaf75[_0x337b47(0x3cc)]?.[_0x337b47(0x83e)]||'',_0x1a9f42={'_id':_0x1eaf75[_0x337b47(0x644)],'remoteJid':_0x5f3d2f?this[_0x337b47(0x5cb)][_0x337b47(0x406)]:_0x2af766?_0xf9ee1a:_0x4b6205,'pushName':_0x5f3d2f?this[_0x337b47(0x5cb)]['profileName']||'Eu':_0x1eaf75[_0x337b47(0x7f1)],'text':_0x4e794d,'type':_0x1eaf75[_0x337b47(0x807)],'when':_0x1eaf75[_0x337b47(0x307)]||Date[_0x337b47(0x462)]()};_0x1de6aa||(_0x1de6aa=await this[_0x337b47(0x5bb)]['chat'][_0x337b47(0x7db)]({'where':{'_id':_0x4b6205}},this[_0x337b47(0x5cb)]['wuid']));let _0x3b11d5=_0x1de6aa?_0x5f3d2f?_0x1de6aa[_0x337b47(0x813)]:(_0x1de6aa['unreadcount']||0x0)+0x1:_0x5f3d2f?0x0:0x1,_0x47e7d0={'lastmsg':_0x1eaf75['messageTimestamp']||Date[_0x337b47(0x462)](),'ephemeralExpiration':_0x1eaf75[_0x337b47(0x78e)],'lastMessage':_0x1a9f42,'unreadcount':_0x3b11d5,..._0x5f3d2f||_0x2af766?{}:{'name':_0x1eaf75[_0x337b47(0x7f1)]},..._0x2af766?{'group':_0x2af766}:{},...!_0x5f3d2f&&!_0x2af766&&_0x1eaf75['profilePictureUrl']?{'imagechat':_0x1eaf75[_0x337b47(0x6d4)]}:{}};if(!_0x2af766&&(!_0x1de6aa?.['leadInfo']||!_0x1de6aa['leadInfo'][_0x337b47(0x48d)])&&_0x1eaf75['pushName']&&!_0x5f3d2f&&(_0x47e7d0={..._0x47e7d0,'leadInfo.nome':_0x1eaf75[_0x337b47(0x7f1)]}),_0x1de6aa?.[_0x337b47(0x4e7)][_0x337b47(0x1fd)]||(_0x47e7d0={..._0x47e7d0,'leadInfo.etiquetas':[]}),_0x1de6aa?.[_0x337b47(0x4e7)][_0x337b47(0x302)]||(_0x47e7d0={..._0x47e7d0,'leadInfo.customFields':[]}),_0x1de6aa?.['leadInfo']['tags']||(_0x47e7d0={..._0x47e7d0,'leadInfo.tags':[]}),_0x1de6aa&&_0x1de6aa?.[_0x337b47(0x455)]){let _0x56a70b=await this[_0x337b47(0x5bb)][_0x337b47(0x7a4)][_0x337b47(0x68c)]({'where':{}},this[_0x337b47(0x5cb)][_0x337b47(0x406)]),_0x75a5b5=new Set(_0x56a70b[_0x337b47(0x867)](_0xa68faa=>_0xa68faa[_0x337b47(0x644)])),_0x1977b8=(_0x1de6aa['leadInfo']?.[_0x337b47(0x1fd)]||[])[_0x337b47(0x874)](_0x8adb46=>_0x75a5b5[_0x337b47(0x4d5)](_0x8adb46));_0x47e7d0={..._0x47e7d0,'imported':!0x1,'leadInfo.etiquetas':_0x1977b8};for(let _0x2f373f of _0x1977b8)await this[_0x337b47(0x4eb)](_0x2f373f,_0x4b6205);}if(!this['AutomateSystem'][_0x337b47(0x291)][_0x337b47(0x68c)](_0x267355=>_0x267355['startCommand']&&_0x4e794d[_0x337b47(0x587)](_0x267355['startCommand']))&&_0x4089d6===_0x337b47(0x8ef)&&_0x5f3d2f&&this[_0x337b47(0x246)]?.[_0x337b47(0x1fa)]['enabled']&&_0x4e794d[_0x337b47(0x57a)]()!==this[_0x337b47(0x246)]?.[_0x337b47(0x1fa)][_0x337b47(0x45d)]['trim']()){let _0x5cbabf=(this['AutomateSystem']?.['flowConfig'][_0x337b47(0x40e)]||0x0)*0xea60,_0x5e9f64=Date[_0x337b47(0x462)]()+_0x5cbabf;_0x1de6aa?.[_0x337b47(0x4e7)]?.[_0x337b47(0x575)]===0x0||(_0x47e7d0={..._0x47e7d0,'leadInfo.desativadoFluxoAte':_0x5e9f64},this['logger'][_0x337b47(0x78f)](this[_0x337b47(0x86d)]+'\x20('+this[_0x337b47(0x5cb)][_0x337b47(0x406)]+_0x337b47(0x757)+_0x5e9f64+'.'));}if(_0x4e794d[_0x337b47(0x57a)]()===this[_0x337b47(0x246)]?.[_0x337b47(0x1fa)][_0x337b47(0x45d)]['trim']()){this[_0x337b47(0x74f)][_0x337b47(0x78f)](this[_0x337b47(0x86d)]+'\x20('+this['instance'][_0x337b47(0x406)]+_0x337b47(0x25a)+_0x4e794d);let _0x58a0c2=Date[_0x337b47(0x462)]();this['AutomateSystem']?.[_0x337b47(0x1fa)][_0x337b47(0x20e)]===0x0?_0x47e7d0={..._0x47e7d0,'leadInfo.desativadoFluxoAte':_0x58a0c2+0x7591f6200}:_0x47e7d0={..._0x47e7d0,'leadInfo.desativadoFluxoAte':_0x58a0c2+this[_0x337b47(0x246)]?.['flowConfig']['stopMinutes']*0x3c*0x3e8};}if(_0x1de6aa=await this['repository'][_0x337b47(0x580)][_0x337b47(0x4f3)]({'where':{'_id':_0x4b6205}},_0x47e7d0,this[_0x337b47(0x5cb)][_0x337b47(0x406)],{'new':!0x0,'upsert':!0x0}),_0x1de6aa)j(this[_0x337b47(0x86d)],_0x337b47(0x5bf),{'chat':_0x1de6aa});else{this[_0x337b47(0x74f)][_0x337b47(0x2fe)](this[_0x337b47(0x86d)]+'\x20('+this[_0x337b47(0x5cb)]['wuid']+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(_0x5f3d2f)return this['logger'][_0x337b47(0x78f)](this[_0x337b47(0x86d)]+'\x20('+this[_0x337b47(0x5cb)]['wuid']+'):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...'),null;if(!this[_0x337b47(0x246)]?.[_0x337b47(0x1fa)]['enabled'])return this['logger'][_0x337b47(0x78f)](this[_0x337b47(0x86d)]+'\x20('+this[_0x337b47(0x5cb)][_0x337b47(0x406)]+_0x337b47(0x1ef)),null;if(_0x1de6aa[_0x337b47(0x644)][_0x337b47(0x587)](_0x337b47(0x489))&&this[_0x337b47(0x246)]?.[_0x337b47(0x1fa)][_0x337b47(0x3fb)]===!0x0)return this[_0x337b47(0x74f)][_0x337b47(0x78f)](this['instanceName']+'\x20('+this[_0x337b47(0x5cb)]['wuid']+_0x337b47(0x372)),null;if(_0x1de6aa['leadInfo']){if(_0x1de6aa[_0x337b47(0x4e7)][_0x337b47(0x575)]===0x0||_0x1de6aa[_0x337b47(0x4e7)][_0x337b47(0x847)])return this[_0x337b47(0x74f)]['verbose'](this[_0x337b47(0x86d)]+'\x20('+this['instance'][_0x337b47(0x406)]+_0x337b47(0x6b8)+_0x4b6205+_0x337b47(0x91a)),null;if(_0x1de6aa[_0x337b47(0x4e7)][_0x337b47(0x575)]>Date[_0x337b47(0x462)]()&&!_0x1eaf75['message_normalized']?.[_0x337b47(0x8c3)])return this[_0x337b47(0x74f)][_0x337b47(0x78f)](this[_0x337b47(0x86d)]+'\x20('+this[_0x337b47(0x5cb)][_0x337b47(0x406)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x1de6aa['leadInfo']['desativadoFluxoAte'])[_0x337b47(0x764)]()+_0x337b47(0x91a)),null;}this[_0x337b47(0x74f)][_0x337b47(0x78f)](this[_0x337b47(0x86d)]+'\x20('+this['instance']['wuid']+_0x337b47(0x67e)),this[_0x337b47(0x616)](_0x1eaf75,_0x4089d6);}catch(_0x196b3d){let _0x2098ac=_0x337b47(0x710),_0x459e0b=_0x196b3d instanceof Error?_0x196b3d['message']:typeof _0x196b3d==_0x337b47(0x82b)?JSON[_0x337b47(0x261)](_0x196b3d):_0x196b3d,_0x5b4cb3=_0x2098ac+':\x20'+_0x459e0b;return this['logger'][_0x337b47(0x2fe)](this[_0x337b47(0x86d)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x5b4cb3),null;}}async[a0_0x21bcc2(0x78d)](_0x4dabaa,_0x41b43d){const _0x34054f=a0_0x21bcc2;if(_0x41b43d[_0x34054f(0x7bc)]){let _0x4f00a9=_0x4dabaa[_0x34054f(0x867)](async _0x487b0d=>{const _0x2177a1=_0x34054f;try{let _0x5ed1be={'_id':_0x487b0d['_id'],'owner':_0x487b0d[_0x2177a1(0x856)],'lastcache':0x0};if(Object[_0x2177a1(0x4ac)](_0x487b0d)[_0x2177a1(0x653)](_0x4b9893=>{_0x487b0d[_0x4b9893]!==null&&(_0x5ed1be[_0x4b9893]=_0x487b0d[_0x4b9893]);}),_0x5ed1be['imagechat']===null&&(_0x5ed1be[_0x2177a1(0x25c)]='Imagem\x20não\x20encontrada'),Object[_0x2177a1(0x4ac)](_0x5ed1be)[_0x2177a1(0x7be)]>0x0)return await this[_0x2177a1(0x5bb)][_0x2177a1(0x580)][_0x2177a1(0x4f3)]({'where':{'_id':_0x487b0d['_id']}},_0x5ed1be,this['instance'][_0x2177a1(0x406)]);}catch(_0x341a28){let _0xbf9e8b=_0x2177a1(0x3e2)+_0x487b0d[_0x2177a1(0x644)],_0x325d8b=_0x341a28 instanceof Error?_0x341a28[_0x2177a1(0x4a8)]:typeof _0x341a28==_0x2177a1(0x82b)?JSON[_0x2177a1(0x261)](_0x341a28):_0x341a28,_0x28164a=_0xbf9e8b+':\x20'+_0x325d8b;return this[_0x2177a1(0x74f)][_0x2177a1(0x2fe)](this[_0x2177a1(0x86d)]+'\x20('+this[_0x2177a1(0x5cb)][_0x2177a1(0x406)]+_0x2177a1(0x5cc)+_0x28164a),null;}}),_0xb1db01=(await Promise[_0x34054f(0x3ec)](_0x4f00a9))['filter'](_0x20c5e0=>_0x20c5e0!==null)[_0x34054f(0x7be)];this[_0x34054f(0x74f)][_0x34054f(0x78f)](this[_0x34054f(0x86d)]+'\x20('+this[_0x34054f(0x5cb)][_0x34054f(0x406)]+_0x34054f(0x5cc)+_0xb1db01+'\x20chats\x20de\x20'+this[_0x34054f(0x5cb)][_0x34054f(0x406)]+_0x34054f(0x71c));}}async[a0_0x21bcc2(0x762)](_0x9c1385){const _0x194522=a0_0x21bcc2;this[_0x194522(0x74f)][_0x194522(0x78f)](this[_0x194522(0x86d)]+'\x20('+this[_0x194522(0x5cb)][_0x194522(0x406)]+_0x194522(0x5de));let _0x4fab9d={'readMessages':[{'remoteJid':_0x9c1385[_0x194522(0x7ae)][_0x194522(0x594)][_0x194522(0x3fe)][_0x194522(0x2c7)],'fromMe':_0x9c1385[_0x194522(0x7ae)][_0x194522(0x594)][_0x194522(0x3fe)][_0x194522(0x86f)],'id':_0x9c1385[_0x194522(0x7ae)][_0x194522(0x594)][_0x194522(0x3fe)]['id']}]};await this[_0x194522(0x535)](_0x4fab9d);}async['StartBot'](_0x18449e,_0x51f63d){const _0x1f4cd4=a0_0x21bcc2;try{let {key:_0x4fd5cb,message_normalized:_0x4324d4}=_0x18449e,_0x622440=_0x4324d4,_0x182fdb=_0x4324d4[_0x1f4cd4(0x839)]||_0x4324d4['caption']||_0x4324d4['vote']||_0x4324d4[_0x1f4cd4(0x83e)]||'',_0x1bc7e8=_0x4fd5cb[_0x1f4cd4(0x2c7)],_0x559090=null,_0x2cf102=this[_0x1f4cd4(0x246)][_0x1f4cd4(0x291)][_0x1f4cd4(0x68c)](_0x180e32=>_0x180e32[_0x1f4cd4(0x315)]&&_0x182fdb[_0x1f4cd4(0x587)](_0x180e32[_0x1f4cd4(0x315)]));if(_0x2cf102&&_0x51f63d==='MESSAGES_UPSERT'){let _0x12f5bd=await this[_0x1f4cd4(0x5bb)][_0x1f4cd4(0x3f5)][_0x1f4cd4(0x7db)]({'where':{'_id':_0x2cf102[_0x1f4cd4(0x644)]}});if(this[_0x1f4cd4(0x74f)]['verbose'](this[_0x1f4cd4(0x86d)]+'\x20('+this[_0x1f4cd4(0x5cb)][_0x1f4cd4(0x406)]+_0x1f4cd4(0x47a)),_0x12f5bd&&_0x12f5bd[_0x1f4cd4(0x5d3)]?.[_0x1f4cd4(0x587)](this[_0x1f4cd4(0x5cb)][_0x1f4cd4(0x406)]))_0x559090=await this['createNewConversation'](_0x12f5bd,_0x4fd5cb,_0x622440);else return this[_0x1f4cd4(0x74f)]['verbose'](this[_0x1f4cd4(0x86d)]+'\x20('+this['instance'][_0x1f4cd4(0x406)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo'),null;}else this[_0x1f4cd4(0x74f)][_0x1f4cd4(0x78f)](this['instanceName']+'\x20('+this[_0x1f4cd4(0x5cb)][_0x1f4cd4(0x406)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand');if(_0x559090=await this['findConversation'](_0x1bc7e8,_0x622440),_0x559090){this[_0x1f4cd4(0x74f)][_0x1f4cd4(0x78f)](this[_0x1f4cd4(0x86d)]+'\x20('+this[_0x1f4cd4(0x5cb)][_0x1f4cd4(0x406)]+_0x1f4cd4(0x378)),!_0x4fd5cb[_0x1f4cd4(0x86f)]&&_0x559090[_0x1f4cd4(0x75a)]&&this['readMessageBot'](_0x559090);let _0x589059=await this[_0x1f4cd4(0x475)](_0x559090);_0x589059&&await this[_0x1f4cd4(0x25d)](_0x559090,_0x589059);}}catch(_0x304bb2){this[_0x1f4cd4(0x74f)][_0x1f4cd4(0x2fe)](this['instanceName']+'\x20('+this[_0x1f4cd4(0x5cb)][_0x1f4cd4(0x406)]+_0x1f4cd4(0x84d)+(_0x304bb2 instanceof Error?_0x304bb2[_0x1f4cd4(0x4a8)]:JSON[_0x1f4cd4(0x261)](_0x304bb2,null,0x2)));}}[a0_0x21bcc2(0x316)](_0x539d01,_0x344fe6='',_0x26ef49={}){const _0x828656=a0_0x21bcc2;return typeof _0x539d01!='object'||_0x539d01===null?(_0x344fe6&&(_0x26ef49[_0x344fe6]=_0x539d01),_0x26ef49):(Object[_0x828656(0x56f)](_0x539d01)['forEach'](([_0x5930ea,_0x20aa61])=>{const _0x40e19f=_0x828656;let _0x3593de=_0x344fe6?_0x344fe6+'.'+_0x5930ea:'_'+_0x5930ea;Array[_0x40e19f(0x744)](_0x20aa61)?_0x20aa61[_0x40e19f(0x653)]((_0x2baf6f,_0x51b1ee)=>{const _0x247f8a=_0x40e19f;this[_0x247f8a(0x316)](_0x2baf6f,_0x3593de+'['+_0x51b1ee+']',_0x26ef49);}):typeof _0x20aa61=='object'&&_0x20aa61!==null?this[_0x40e19f(0x316)](_0x20aa61,_0x3593de,_0x26ef49):_0x26ef49[_0x3593de]=String(_0x20aa61);}),_0x26ef49);}['variablesToObject'](_0x31b2b9){const _0x21005b=a0_0x21bcc2;let _0x11bab2={};for(let _0x36d71a of _0x31b2b9)typeof _0x36d71a['name']==_0x21005b(0x5c8)&&typeof _0x36d71a[_0x21005b(0x61f)]==_0x21005b(0x5c8)&&(_0x11bab2[_0x36d71a[_0x21005b(0x83e)]]=_0x36d71a[_0x21005b(0x61f)]);return _0x11bab2;}async['NextBlock'](_0xc50e14){const _0x242c3d=a0_0x21bcc2;if(!this[_0x242c3d(0x246)]?.[_0x242c3d(0x1fa)][_0x242c3d(0x3b3)]||_0xc50e14[_0x242c3d(0x41a)]!==_0x242c3d(0x5f3)&&_0xc50e14[_0x242c3d(0x909)]==='')return null;let _0xb60124=_0xc50e14[_0x242c3d(0x7ae)][_0x242c3d(0x834)]||_0x242c3d(0x251);typeof _0xc50e14[_0x242c3d(0x7ae)][_0x242c3d(0x75f)]>'u'&&(_0xc50e14[_0x242c3d(0x7ae)][_0x242c3d(0x75f)]=!0x0);let _0x56a63c=_0xc50e14[_0x242c3d(0x7ae)][_0x242c3d(0x75f)];this[_0x242c3d(0x74f)][_0x242c3d(0x78f)](this[_0x242c3d(0x86d)]+'\x20('+this[_0x242c3d(0x5cb)][_0x242c3d(0x406)]+_0x242c3d(0x30e)+_0xb60124+_0x242c3d(0x64d)+_0x56a63c);let _0x3443f6=_0xb60124===_0x242c3d(0x251)?_0xc50e14[_0x242c3d(0x561)][_0x242c3d(0x68c)](_0x9a0241=>_0x9a0241[_0x242c3d(0x347)]===_0x242c3d(0x251)):_0xc50e14[_0x242c3d(0x561)]['find'](_0x2f01d5=>_0x2f01d5[_0x242c3d(0x644)][_0x242c3d(0x929)]()===_0xb60124[_0x242c3d(0x929)]());if(!_0x3443f6)return this[_0x242c3d(0x74f)][_0x242c3d(0x2fe)](this['instanceName']+'\x20('+this[_0x242c3d(0x5cb)][_0x242c3d(0x406)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0xb60124),null;let _0x130082={'_pushName':_0xc50e14?.[_0x242c3d(0x7ae)]?.[_0x242c3d(0x594)]?.['pushName']||'','_sender':this[_0x242c3d(0x5cb)][_0x242c3d(0x406)]||'',..._0xc50e14['chatLog'][_0x242c3d(0x29e)]},_0x2a1d72=null;if(_0xc50e14[_0x242c3d(0x909)]){let _0x3c7322=_0xc50e14[_0x242c3d(0x7ae)][_0x242c3d(0x594)]['vote'],_0x2a1e9a=_0xc50e14['waitingMenu_replyOptions'][_0x242c3d(0x68c)](_0x56dce4=>_0x56dce4[_0x242c3d(0x3cd)]===_0x3c7322);if(_0x2a1e9a){let _0x4433cf=_0x2a1e9a[_0x242c3d(0x6ba)];if(_0x2a1d72=_0xc50e14['blocks']['find'](_0xa8369=>_0xa8369[_0x242c3d(0x400)]===_0x4433cf&&_0xa8369[_0x242c3d(0x323)]===0x1),_0x3443f6[_0x242c3d(0x89a)][_0x242c3d(0x6ef)]){let _0x34d134={'id':_0xc50e14[_0x242c3d(0x909)],'remoteJid':_0xc50e14[_0x242c3d(0x2c7)],'fromMe':!0x0};await this['deleteMessage'](_0x34d134);}if(_0x3443f6[_0x242c3d(0x89a)][_0x242c3d(0x6ef)]&&_0x3443f6[_0x242c3d(0x89a)][_0x242c3d(0x48b)]&&_0x3443f6[_0x242c3d(0x89a)][_0x242c3d(0x461)]===_0x242c3d(0x8f3)){let _0x257e7f={'number':_0xc50e14[_0x242c3d(0x2c7)],'options':{'delay':0x0},'textMessage':{'text':_0x242c3d(0x473)+_0xc50e14[_0x242c3d(0x822)]+_0x242c3d(0x824)+_0x3c7322}};await this[_0x242c3d(0x6a3)](_0x257e7f);}_0xc50e14['status']='open',_0xc50e14[_0x242c3d(0x909)]='',_0xc50e14['waitingMenu_text']='',_0xc50e14['waitingMenu_replyOptions']=[];}else{this[_0x242c3d(0x74f)][_0x242c3d(0x78f)](this[_0x242c3d(0x86d)]+'\x20('+this[_0x242c3d(0x5cb)][_0x242c3d(0x406)]+_0x242c3d(0x692));let _0x4899b0={'activatedCount':_0xc50e14[_0x242c3d(0x7ae)][_0x242c3d(0x3f2)][_0x242c3d(0x874)](_0x1d4b8a=>String(_0x1d4b8a[_0x242c3d(0x5ee)])===String(_0xb60124))[_0x242c3d(0x7be)],'moreLogs':[_0x242c3d(0x845)]};if(_0x3443f6['uazapi']['pollErrorMessage']){let _0x2419c7={'number':_0xc50e14[_0x242c3d(0x2c7)],'options':{'delay':0x0},'textMessage':{'text':_0x3443f6[_0x242c3d(0x89a)][_0x242c3d(0x3a6)]}};await this['textMessage'](_0x2419c7);}if(_0x3443f6[_0x242c3d(0x821)]!==void 0x0&&_0x4899b0['activatedCount']>=_0x3443f6[_0x242c3d(0x821)]){let _0x30b8d7=Date[_0x242c3d(0x462)](),_0x517337=_0x3443f6[_0x242c3d(0x2a7)]??0xa;isNaN(_0x517337)&&(_0x517337=0xa);let _0x483efe=_0x30b8d7+_0x517337*0x3c*0x3e8;_0x4899b0[_0x242c3d(0x4a9)]=_0x483efe,_0x4899b0[_0x242c3d(0x421)][_0x242c3d(0x2ea)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x242c3d(0x4ce)](_0xc50e14,_0x483efe),_0xc50e14['waitingMenu_id']='',_0xc50e14[_0x242c3d(0x822)]='',_0xc50e14[_0x242c3d(0x3a4)]=[];}return this[_0x242c3d(0x555)](_0xc50e14,_0x3443f6,_0x4899b0,!0x0),null;}}if(_0x56a63c&&_0x3443f6['next_groupId']&&!_0xc50e14['waitingMenu_id']){let _0x1f88ed=_0xc50e14[_0x242c3d(0x561)][_0x242c3d(0x874)](_0x4e6bcf=>_0x4e6bcf[_0x242c3d(0x400)][_0x242c3d(0x929)]()===_0x3443f6['next_groupId']['toString']())[_0x242c3d(0x786)]((_0x1dfca9,_0x2ae658)=>_0x1dfca9[_0x242c3d(0x323)]-_0x2ae658['order']);_0x1f88ed[_0x242c3d(0x7be)]>0x0&&(_0x2a1d72=_0x1f88ed[0x0]);}if(!_0x2a1d72){let _0x4245c1=_0x3443f6['groupId'],_0x57266e=_0xc50e14[_0x242c3d(0x561)][_0x242c3d(0x874)](_0xe64ce7=>_0xe64ce7[_0x242c3d(0x400)]===_0x4245c1&&_0xe64ce7[_0x242c3d(0x323)]>_0x3443f6['order'])[_0x242c3d(0x786)]((_0x10b217,_0x56fbb3)=>_0x10b217[_0x242c3d(0x323)]-_0x56fbb3[_0x242c3d(0x323)]);_0x57266e[_0x242c3d(0x7be)]>0x0&&(_0x2a1d72=_0x57266e[0x0]);}if(!_0x2a1d72)return _0xc50e14[_0x242c3d(0x41a)]=_0x242c3d(0x65a),null;_0xc50e14['chatLog'][_0x242c3d(0x29e)]=_0x130082;let _0x432e58=JSON[_0x242c3d(0x80f)](JSON[_0x242c3d(0x261)](_0x2a1d72));return this[_0x242c3d(0x812)](_0x432e58,_0xc50e14[_0x242c3d(0x7ae)][_0x242c3d(0x29e)]),_0xc50e14[_0x242c3d(0x7ae)]['lastBlockId']=_0x432e58[_0x242c3d(0x644)],_0xc50e14['chatLog'][_0x242c3d(0x75f)]=!0x0,_0x432e58;}['replaceVariables'](_0x46bf09,_0x3eeba0){const _0x248952=a0_0x21bcc2;return _0x46bf09[_0x248952(0x243)](/\{\{([^}]+)\}\}/g,(_0x4bff7b,_0x3eb556)=>_0x3eeba0[_0x3eb556]||'');}[a0_0x21bcc2(0x812)](_0xb82b00,_0x2f4b36){const _0x28ba36=a0_0x21bcc2;for(let _0xbfae34 in _0xb82b00)typeof _0xb82b00[_0xbfae34]=='string'?_0xb82b00[_0xbfae34]=this[_0x28ba36(0x4e0)](_0xb82b00[_0xbfae34],_0x2f4b36):typeof _0xb82b00[_0xbfae34]==_0x28ba36(0x82b)&&this[_0x28ba36(0x812)](_0xb82b00[_0xbfae34],_0x2f4b36);}async[a0_0x21bcc2(0x59c)](_0x362e49,_0x2a0452){const _0x4fd1f1=a0_0x21bcc2;let _0x599824=_0x2a0452[_0x4fd1f1(0x644)];if(_0x362e49['chatLog']&&_0x362e49['chatLog'][_0x4fd1f1(0x3f2)]){let _0x53ad9d=_0x362e49['chatLog']['blockLogs'][_0x4fd1f1(0x874)](_0x58855e=>String(_0x58855e[_0x4fd1f1(0x5ee)])===String(_0x599824))[_0x4fd1f1(0x754)]();if(_0x53ad9d&&_0x53ad9d['error']&&_0x2a0452[_0x4fd1f1(0x4ef)])return _0x362e49[_0x4fd1f1(0x41a)]='closed',await this['saveConversationToDatabase'](_0x362e49),null;}if(_0x2a0452[_0x4fd1f1(0x347)]===_0x4fd1f1(0x89a)&&_0x2a0452['uazapi'][_0x4fd1f1(0x472)]==='sendPoll'&&_0x362e49[_0x4fd1f1(0x909)])return _0x362e49[_0x4fd1f1(0x7ae)]['lastBlockId']=_0x599824,await this[_0x4fd1f1(0x84f)](_0x362e49),null;let _0x5c0cf1=await this[_0x4fd1f1(0x475)](_0x362e49);if(_0x362e49[_0x4fd1f1(0x7ae)]&&_0x362e49[_0x4fd1f1(0x7ae)][_0x4fd1f1(0x3f2)]){let _0x3b4e2a=_0x362e49[_0x4fd1f1(0x7ae)]['blockLogs'][_0x4fd1f1(0x874)](_0x13b6b9=>String(_0x13b6b9[_0x4fd1f1(0x5ee)])===String(_0x599824))[_0x4fd1f1(0x7be)];if(_0x2a0452['maxActives']!==void 0x0&&_0x3b4e2a>=_0x2a0452['maxActives']){let _0x3b9d7f=Date[_0x4fd1f1(0x462)](),_0x3bc4be=_0x2a0452[_0x4fd1f1(0x2a7)]??0xa;isNaN(_0x3bc4be)&&(_0x3bc4be=0xa);let _0x47858a=_0x3b9d7f+_0x3bc4be*0x3c*0x3e8,_0x11d91a={'newStoppedUntil':_0x47858a};return this[_0x4fd1f1(0x4ce)](_0x362e49,_0x47858a),this[_0x4fd1f1(0x555)](_0x362e49,_0x2a0452,_0x11d91a,!0x0),null;}}_0x5c0cf1&&_0x5c0cf1[_0x4fd1f1(0x347)]!==_0x4fd1f1(0x830)&&await this[_0x4fd1f1(0x25d)](_0x362e49,_0x5c0cf1),_0x5c0cf1||await this[_0x4fd1f1(0x84f)](_0x362e49),_0x5c0cf1&&_0x5c0cf1['type']===_0x4fd1f1(0x830)&&(_0x362e49[_0x4fd1f1(0x7ae)][_0x4fd1f1(0x834)]=_0x599824,await this['saveConversationToDatabase'](_0x362e49));}async[a0_0x21bcc2(0x25d)](_0x3bdfa2,_0x24c276){const _0x4fea56=a0_0x21bcc2;try{let _0x57a157=_0x24c276[_0x4fea56(0x347)];this[_0x4fea56(0x74f)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4fea56(0x364)+_0x57a157);let _0x4b2560={'uazapi':()=>this[_0x4fea56(0x7fe)](_0x3bdfa2,_0x24c276),'save':()=>this[_0x4fea56(0x676)](_0x3bdfa2,_0x24c276),'stop':()=>this['stopConversation'](_0x3bdfa2,_0x24c276),'condition':()=>this[_0x4fea56(0x449)](_0x3bdfa2,_0x24c276),'varedit':()=>this[_0x4fea56(0x805)](_0x3bdfa2,_0x24c276),'apirequest':()=>this[_0x4fea56(0x335)](_0x3bdfa2,_0x24c276),'goToFlow':()=>this['processgoToFlow'](_0x3bdfa2,_0x24c276),'scheduleFlow':()=>this['processScheduleFlow'](_0x3bdfa2,_0x24c276),'awaitSeconds':()=>this['processawaitSeconds'](_0x3bdfa2,_0x24c276),'clearVariables':()=>this[_0x4fea56(0x45c)](_0x3bdfa2,_0x24c276)}[_0x57a157];_0x4b2560&&await _0x4b2560();}catch(_0x2f1b37){this['logger'][_0x4fea56(0x2fe)](this['instanceName']+'\x20('+this[_0x4fea56(0x5cb)][_0x4fea56(0x406)]+_0x4fea56(0x759)+(_0x2f1b37 instanceof Error?_0x2f1b37[_0x4fea56(0x4a8)]:JSON[_0x4fea56(0x261)](_0x2f1b37,null,0x2)));}}async['processawaitSeconds'](_0x1e5af7,_0x5ce1b7){const _0x51c657=a0_0x21bcc2;if(this['logger'][_0x51c657(0x78f)](this[_0x51c657(0x86d)]+'\x20('+this[_0x51c657(0x5cb)][_0x51c657(0x406)]+_0x51c657(0x40c)),!_0x1e5af7||!_0x5ce1b7)return this[_0x51c657(0x74f)][_0x51c657(0x2fe)](this[_0x51c657(0x86d)]+'\x20('+this[_0x51c657(0x5cb)][_0x51c657(0x406)]+_0x51c657(0x645)),null;let _0x48daef=+_0x5ce1b7[_0x51c657(0x7b2)];isNaN(_0x48daef)&&(_0x48daef=0x0),_0x48daef=Math['min'](_0x48daef,0x3c),await(0x0,w[_0x51c657(0x505)])(_0x48daef*0x3e8);let _0x5736ec={'moreLogs':[_0x51c657(0x6f8)+_0x48daef+'\x20segundos']};return await this[_0x51c657(0x555)](_0x1e5af7,_0x5ce1b7,_0x5736ec),_0x48daef;}async['processclearVariables'](_0x1b6814,_0x10af08){const _0x2b1f6d=a0_0x21bcc2;if(this[_0x2b1f6d(0x74f)][_0x2b1f6d(0x78f)](this[_0x2b1f6d(0x86d)]+'\x20('+this[_0x2b1f6d(0x5cb)]['wuid']+_0x2b1f6d(0x8f5)),!_0x1b6814||!_0x10af08)return this[_0x2b1f6d(0x74f)]['error'](this['instanceName']+'\x20('+this[_0x2b1f6d(0x5cb)][_0x2b1f6d(0x406)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x5323b7=[];if(_0x10af08['clearVariables'][_0x2b1f6d(0x57a)]()==='[all]'){let _0x1c1e20=[_0x2b1f6d(0x415),_0x2b1f6d(0x52c),_0x2b1f6d(0x862),'_activedCount',_0x2b1f6d(0x536),_0x2b1f6d(0x644),_0x2b1f6d(0x825)];_0x5323b7=Object['keys'](_0x1b6814[_0x2b1f6d(0x7ae)]['realVariables'])[_0x2b1f6d(0x874)](_0x1e74b9=>_0x1e74b9['startsWith']('_')&&!_0x1c1e20[_0x2b1f6d(0x587)](_0x1e74b9));}else _0x5323b7=_0x10af08[_0x2b1f6d(0x850)]['split']('|')[_0x2b1f6d(0x867)](_0x2a85a0=>(_0x2a85a0=_0x2a85a0['replace'](/[{}]/g,'')[_0x2b1f6d(0x57a)](),_0x2a85a0[_0x2b1f6d(0x37a)]('_')?_0x2a85a0:'_'+_0x2a85a0));let _0x3ca87d=[];_0x5323b7[_0x2b1f6d(0x653)](_0x14df3a=>{const _0x15e413=_0x2b1f6d;_0x14df3a in _0x1b6814[_0x15e413(0x7ae)][_0x15e413(0x29e)]&&(delete _0x1b6814['chatLog'][_0x15e413(0x29e)][_0x14df3a],_0x3ca87d[_0x15e413(0x2ea)](_0x14df3a));}),_0x3ca87d[_0x2b1f6d(0x7be)]>0x0?this[_0x2b1f6d(0x74f)][_0x2b1f6d(0x78f)](this[_0x2b1f6d(0x86d)]+'\x20('+this[_0x2b1f6d(0x5cb)][_0x2b1f6d(0x406)]+_0x2b1f6d(0x228)+_0x3ca87d[_0x2b1f6d(0x720)](',\x20')):this['logger']['verbose'](this[_0x2b1f6d(0x86d)]+'\x20('+this[_0x2b1f6d(0x5cb)]['wuid']+_0x2b1f6d(0x47d));let _0x5f7d24={'moreLogs':[_0x2b1f6d(0x3ea)+_0x3ca87d['join'](',\x20')]};return await this[_0x2b1f6d(0x555)](_0x1b6814,_0x10af08,_0x5f7d24),null;}async[a0_0x21bcc2(0x5ec)](_0x11cbf7,_0x42eddc){const _0x47675b=a0_0x21bcc2;if(this[_0x47675b(0x74f)][_0x47675b(0x78f)](this['instanceName']+'\x20('+this[_0x47675b(0x5cb)][_0x47675b(0x406)]+_0x47675b(0x4b2)),!_0x11cbf7||!_0x42eddc)return this[_0x47675b(0x74f)][_0x47675b(0x2fe)](this['instanceName']+'\x20('+this[_0x47675b(0x5cb)][_0x47675b(0x406)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x2dea1c=_0x11cbf7[_0x47675b(0x2c7)];_0x42eddc[_0x47675b(0x81a)][_0x47675b(0x2c7)]&&_0x42eddc[_0x47675b(0x81a)][_0x47675b(0x2c7)]['trim']()!==''&&(_0x2dea1c=_0x42eddc[_0x47675b(0x89a)][_0x47675b(0x2c7)]['trim']());let _0x3afb60=_0x42eddc[_0x47675b(0x81a)][_0x47675b(0x2ce)]*0xea60,_0x4f0562=Date[_0x47675b(0x462)]()+_0x3afb60,_0x51fb6={'status':'scheduled','info':_0x47675b(0x56b)+_0x11cbf7[_0x47675b(0x83e)],'remoteJids':[_0x2dea1c],'when':_0x4f0562,'delaySecMin':0x0,'delaySecMax':0x0,'type':'flow','flowName':_0x42eddc[_0x47675b(0x81a)]['flowName']};this[_0x47675b(0x20b)](_0x51fb6);let _0x14d4ea=await this['NextBlock'](_0x11cbf7);_0x14d4ea&&await this[_0x47675b(0x25d)](_0x11cbf7,_0x14d4ea);}async[a0_0x21bcc2(0x799)](_0x34c1b2,_0x1214e4){const _0x3e2395=a0_0x21bcc2;if(this[_0x3e2395(0x74f)][_0x3e2395(0x78f)](this[_0x3e2395(0x86d)]+'\x20('+this[_0x3e2395(0x5cb)][_0x3e2395(0x406)]+_0x3e2395(0x58b)),!_0x34c1b2||!_0x1214e4)return this['logger'][_0x3e2395(0x2fe)](this[_0x3e2395(0x86d)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x3e2395(0x555)](_0x34c1b2,_0x1214e4,{},!0x0,!0x0);let _0x13eacd=_0x1214e4[_0x3e2395(0x38e)];_0x34c1b2=await this[_0x3e2395(0x79c)](_0x13eacd,_0x34c1b2['remoteJid'],_0x34c1b2['chatLog']['realVariables']);let _0x4e2de2=await this[_0x3e2395(0x475)](_0x34c1b2);_0x4e2de2&&await this[_0x3e2395(0x25d)](_0x34c1b2,_0x4e2de2);}async[a0_0x21bcc2(0x79c)](_0x279d99,_0x2254e2,_0x4cd1f9){const _0x1ce519=a0_0x21bcc2;this[_0x1ce519(0x74f)][_0x1ce519(0x78f)](this['instanceName']+'\x20('+this[_0x1ce519(0x5cb)][_0x1ce519(0x406)]+_0x1ce519(0x345));try{let _0x8cd09d=this[_0x1ce519(0x246)]['flows']['find'](_0x11f660=>_0x11f660[_0x1ce519(0x644)]===_0x279d99);_0x8cd09d||this[_0x1ce519(0x74f)][_0x1ce519(0x2fe)](this[_0x1ce519(0x86d)]+'\x20('+this['instance'][_0x1ce519(0x406)]+_0x1ce519(0x3a2)+_0x279d99+_0x1ce519(0x91c));let _0x386bcd=await this[_0x1ce519(0x5bb)]['flow'][_0x1ce519(0x7db)]({'where':{'_id':_0x8cd09d[_0x1ce519(0x644)]}});if(!_0x386bcd||!_0x386bcd[_0x1ce519(0x5d3)]?.[_0x1ce519(0x587)](this['instance'][_0x1ce519(0x406)]))throw this[_0x1ce519(0x74f)][_0x1ce519(0x2fe)](this[_0x1ce519(0x86d)]+'\x20('+this[_0x1ce519(0x5cb)][_0x1ce519(0x406)]+_0x1ce519(0x3a2)+_0x279d99+_0x1ce519(0x716)),new m('Flow\x20\x27'+_0x279d99+_0x1ce519(0x716));let _0xf03651=require(_0x1ce519(0x24a))['ObjectId'],_0x55df5d=Date[_0x1ce519(0x462)](),_0x5ab581=_0x1ce519(0x251),_0x4af4ba={},_0x3e3c1b={},_0x528c14=this[_0x1ce519(0x246)][_0x1ce519(0x291)]['find'](_0x5d67b0=>_0x5d67b0['_id']===_0x386bcd['_id']?.['toString']()),_0x5a7aa2=_0x528c14?.['minutesToClose']??_0x386bcd[_0x1ce519(0x781)]??0x0,_0x3c7b45=_0x528c14?.[_0x1ce519(0x75a)]??_0x386bcd[_0x1ce519(0x75a)]??!0x1,_0xe4e622={'flowId':_0x8cd09d['_id'],'readMessages':_0x8cd09d[_0x1ce519(0x75a)],..._0x386bcd,'chatLog':null},_0x153787={'lastReceivedMessage':_0x4af4ba,'lastSendMessage':_0x3e3c1b,'lastBlockId':_0x5ab581,'lastCondition':!0x0,'realVariables':_0x4cd1f9};_0xe4e622['chatLog']=_0x153787,_0xe4e622[_0x1ce519(0x7ae)][_0x1ce519(0x29e)]={..._0x4cd1f9},delete _0xe4e622[_0x1ce519(0x644)],_0xe4e622[_0x1ce519(0x644)]=new _0xf03651(),_0xe4e622[_0x1ce519(0x37f)]=_0x55df5d,_0xe4e622['status']=_0x1ce519(0x5f3),_0xe4e622[_0x1ce519(0x2c7)]=_0x2254e2,_0xe4e622[_0x1ce519(0x781)]=_0x5a7aa2,_0xe4e622[_0x1ce519(0x75a)]=_0x3c7b45;let _0x408543=await this['repository']['flowConversation'][_0x1ce519(0x4f3)](_0xe4e622[_0x1ce519(0x644)],_0xe4e622,this[_0x1ce519(0x5cb)][_0x1ce519(0x406)]);return this[_0x1ce519(0x74f)]['verbose'](this[_0x1ce519(0x86d)]+'\x20('+this[_0x1ce519(0x5cb)]['wuid']+_0x1ce519(0x629)),_0x408543?_0xe4e622:null;}catch(_0x34c638){let _0x3aa575=_0x1ce519(0x6d0),_0x6eb2d2=_0x34c638 instanceof Error?_0x34c638[_0x1ce519(0x4a8)]:typeof _0x34c638==_0x1ce519(0x82b)?JSON[_0x1ce519(0x261)](_0x34c638):_0x34c638,_0x35380b=_0x3aa575+':\x20'+_0x6eb2d2;throw this[_0x1ce519(0x74f)]['error'](this[_0x1ce519(0x86d)]+'\x20('+this[_0x1ce519(0x5cb)]['wuid']+_0x1ce519(0x5cc)+_0x35380b),new m(_0x35380b);}}async[a0_0x21bcc2(0x335)](_0x44305b,_0x127525){const _0x542006=a0_0x21bcc2;let _0x370568,_0x4cacba;try{let _0x58c452=_0x127525[_0x542006(0x4ae)];if(!_0x58c452||!_0x58c452['url']||!_0x58c452[_0x542006(0x31c)])throw new Error(_0x542006(0x34d));let _0x26eb96;([_0x542006(0x2d6),_0x542006(0x2d5),_0x542006(0x2d3)][_0x542006(0x777)](_0x41f316=>_0x58c452[_0x542006(0x6df)][_0x542006(0x587)](_0x41f316))||_0x58c452[_0x542006(0x3e7)])&&(_0x26eb96=_0x542006(0x2cc));let _0x27f4c4='\u205f',_0x100d62;try{_0x100d62=JSON['parse'](_0x58c452[_0x542006(0x736)][_0x542006(0x243)](new RegExp(_0x27f4c4,'g'),''));}catch(_0x13588f){throw _0x13588f;}let _0x21b6af={'method':_0x58c452[_0x542006(0x31c)],'url':_0x58c452['url'],'headers':_0x58c452[_0x542006(0x469)]||{},..._0x58c452[_0x542006(0x31c)][_0x542006(0x352)]()!==_0x542006(0x1ea)&&_0x58c452[_0x542006(0x736)]?{'data':JSON['parse'](_0x58c452[_0x542006(0x736)][_0x542006(0x243)](new RegExp(_0x27f4c4,'g'),''))}:{},..._0x26eb96&&{'responseType':_0x26eb96}},_0x148fa8=await(0x0,Y[_0x542006(0x7ac)])(_0x21b6af),_0x21b7ce=_0x148fa8[_0x542006(0x7d3)][_0x542006(0x471)];if(_0x21b7ce&&_0x21b7ce[_0x542006(0x587)](_0x542006(0x570))||typeof _0x148fa8['data']==_0x542006(0x5c8)){if(typeof _0x148fa8[_0x542006(0x721)]==_0x542006(0x5c8)){let _0x30da27=_0x148fa8[_0x542006(0x721)][_0x542006(0x243)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x542006(0x57a)]();try{_0x370568=JSON['parse'](_0x30da27);}catch(_0x3664ba){this[_0x542006(0x74f)][_0x542006(0x2fe)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x3664ba[_0x542006(0x4a8)]),_0x370568={'_apiResponse':_0x148fa8[_0x542006(0x721)]};}}else _0x370568=_0x148fa8[_0x542006(0x721)];let _0x17b99f=_0x44305b[_0x542006(0x7ae)][_0x542006(0x29e)],_0x1e8040=this[_0x542006(0x316)](_0x370568);return Object[_0x542006(0x5a0)](_0x17b99f,_0x1e8040),_0x44305b[_0x542006(0x7ae)]['realVariables']=_0x17b99f,_0x4cacba={'error':!0x1,'apiResponse':_0x370568},this[_0x542006(0x555)](_0x44305b,_0x127525,_0x4cacba),_0x370568;}if(_0x21b7ce&&(_0x21b7ce[_0x542006(0x587)](_0x542006(0x65b))||_0x21b7ce['includes'](_0x542006(0x44d))||_0x21b7ce[_0x542006(0x587)](_0x542006(0x571))||_0x21b7ce[_0x542006(0x587)](_0x542006(0x225)))){this[_0x542006(0x74f)]['verbose'](this['instanceName']+'\x20('+this[_0x542006(0x5cb)][_0x542006(0x406)]+_0x542006(0x753)+_0x21b7ce);let _0x501d81=(0x0,X['v4'])(),_0x17a353='',_0x1ae7b5={'image/jpeg':'.jpg','image/png':'.png','image/gif':_0x542006(0x6ea),'image/webp':'.webp','image/svg+xml':_0x542006(0x36a),'audio/mpeg':'.mp3','audio/ogg':_0x542006(0x760),'audio/wav':'.wav','video/mp4':'.mp4','video/webm':_0x542006(0x7ea),'video/ogg':_0x542006(0x887),'text/plain':'.txt','application/pdf':'.pdf','application/msword':_0x542006(0x6bf),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x542006(0x79b),'application/vnd.ms-excel':_0x542006(0x47e),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x542006(0x2d1),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x1ae7b5[_0x21b7ce]?(_0x17a353=_0x1ae7b5[_0x21b7ce],this[_0x542006(0x74f)][_0x542006(0x78f)](this[_0x542006(0x86d)]+'\x20('+this[_0x542006(0x5cb)]['wuid']+_0x542006(0x826)+_0x17a353)):(_0x17a353=_0x542006(0x8b2),this['logger']['verbose'](this[_0x542006(0x86d)]+'\x20('+this[_0x542006(0x5cb)][_0x542006(0x406)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x17a353)),_0x501d81+=_0x17a353,this['logger'][_0x542006(0x78f)](this[_0x542006(0x86d)]+'\x20('+this[_0x542006(0x5cb)]['wuid']+_0x542006(0x531)+_0x501d81);let _0x25526a=this[_0x542006(0x928)]['get'](_0x542006(0x76b))['URL'];if(!_0x25526a){let _0xdf748f=this[_0x542006(0x928)][_0x542006(0x725)](_0x542006(0x6fd));_0x25526a=_0x542006(0x55f)+(_0xdf748f&&_0xdf748f[_0x542006(0x68b)]['split']('/')[0x4]);}let _0x56cd55=Buffer[_0x542006(0x769)](_0x148fa8['data']);await this[_0x542006(0x383)](_0x56cd55,_0x501d81);let _0x894508=_0x542006(0x6c5)+_0x501d81;_0x894508=''+_0x25526a+_0x894508,_0x370568={'fileUrl':_0x894508},_0x44305b[_0x542006(0x7ae)][_0x542006(0x29e)][_0x542006(0x914)]=_0x894508;let _0x31533b=_0x44305b['chatLog'][_0x542006(0x29e)],_0x5bf639=this[_0x542006(0x316)](_0x370568);return Object[_0x542006(0x5a0)](_0x31533b,_0x5bf639),_0x44305b[_0x542006(0x7ae)][_0x542006(0x29e)]=_0x31533b,_0x4cacba={'error':!0x1,'apiResponse':{'fileUrl':_0x894508}},this['updateConversation'](_0x44305b,_0x127525,_0x4cacba),_0x370568;}}catch(_0x51ae43){this[_0x542006(0x74f)][_0x542006(0x2fe)](_0x542006(0x247)+_0x51ae43[_0x542006(0x4a8)]),_0x51ae43['response']&&(_0x370568=_0x51ae43[_0x542006(0x52a)][_0x542006(0x721)]);let _0x254b3d=_0x44305b[_0x542006(0x7ae)][_0x542006(0x29e)],_0x29439f=this[_0x542006(0x316)](_0x370568);return Object[_0x542006(0x5a0)](_0x254b3d,_0x29439f),_0x44305b[_0x542006(0x7ae)][_0x542006(0x29e)]=_0x254b3d,_0x4cacba={'error':!0x0,'errorLog':_0x51ae43[_0x542006(0x929)](),'apiResponse':_0x370568},this[_0x542006(0x555)](_0x44305b,_0x127525,_0x4cacba),{'success':!0x1};}}['applyvaredit'](_0x178074,_0x25e2de){const _0x25ed14=a0_0x21bcc2;let _0x1def3f=_0x549057=>{const _0x3ed23d=a0_0x4215;let _0x3987e0=_0x549057[_0x3ed23d(0x243)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x53430f=parseFloat(_0x3987e0);return isNaN(_0x53430f)?null:_0x53430f;},_0x53e21e=_0x25e2de[_0x25ed14(0x894)],_0x5609bd=_0x25e2de[_0x25ed14(0x815)];typeof _0x53e21e==_0x25ed14(0x5c8)&&(_0x53e21e=this[_0x25ed14(0x4e0)](_0x53e21e,_0x178074[_0x25ed14(0x7ae)]['realVariables'])??''),typeof _0x5609bd=='string'&&(_0x5609bd=this[_0x25ed14(0x4e0)](_0x5609bd,_0x178074[_0x25ed14(0x7ae)][_0x25ed14(0x29e)])??'');let _0xa2d90f=null;if(!_0x25e2de['editOperator'])return null;switch(this[_0x25ed14(0x74f)][_0x25ed14(0x78f)](this[_0x25ed14(0x86d)]+'\x20('+this[_0x25ed14(0x5cb)][_0x25ed14(0x406)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x53e21e),this['logger'][_0x25ed14(0x78f)](this['instanceName']+'\x20('+this[_0x25ed14(0x5cb)][_0x25ed14(0x406)]+_0x25ed14(0x25f)+_0x5609bd),_0x25e2de[_0x25ed14(0x330)]){case'+':case'-':case'*':case'/':let _0x1f7637=_0x1def3f(_0x53e21e||'0'),_0xf822e6=_0x1def3f(_0x5609bd||'0');if(_0x1f7637===null)return null;switch(_0x25e2de[_0x25ed14(0x330)]){case'+':_0xa2d90f=_0x1f7637+(_0xf822e6??0x0);break;case'-':_0xa2d90f=_0x1f7637-(_0xf822e6??0x0);break;case'*':_0xa2d90f=_0x1f7637*(_0xf822e6??0x1);break;case'/':_0xf822e6!==0x0&&(_0xa2d90f=_0x1f7637/(_0xf822e6??0x1));break;}break;case _0x25ed14(0x8b8):case _0x25ed14(0x33d):let _0xcfa996=_0x5609bd,_0x7639c=_0x25e2de[_0x25ed14(0x2dc)];if(typeof _0x7639c==_0x25ed14(0x5c8)&&(_0x7639c=this['replaceVariables'](_0x7639c,_0x178074[_0x25ed14(0x7ae)][_0x25ed14(0x29e)])??''),_0xcfa996&&_0x7639c!==void 0x0){let _0x4b9244=_0x25e2de[_0x25ed14(0x330)]===_0x25ed14(0x8b8)?new RegExp(_0xcfa996['replace'](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0xcfa996,'g');_0xa2d90f=_0x53e21e[_0x25ed14(0x243)](_0x4b9244,_0x7639c);}else console['warn'](_0x25ed14(0x7fd));break;case _0x25ed14(0x72e):_0xa2d90f=_0x5609bd;break;case _0x25ed14(0x51d):let _0x195759=_0x53e21e[_0x25ed14(0x2e9)](new RegExp(_0x5609bd||''));_0xa2d90f=_0x195759?_0x195759[0x0]:'';break;case _0x25ed14(0x391):_0xa2d90f=_0x53e21e['slice'](0x0,parseInt(_0x5609bd||'0'));break;case _0x25ed14(0x7f7):let _0x34ef25=parseInt(_0x5609bd||'0');_0xa2d90f=_0x53e21e[_0x25ed14(0x599)](_0x53e21e[_0x25ed14(0x7be)]-_0x34ef25);break;case _0x25ed14(0x45b):let _0x500aa9=_0x1def3f(_0x53e21e),_0x5483ae=parseInt(_0x5609bd||'0');_0x5483ae=Math[_0x25ed14(0x359)](_0x5483ae),_0x500aa9!==null?_0xa2d90f=_0x500aa9[_0x25ed14(0x764)](_0x25ed14(0x569),{'minimumFractionDigits':_0x5483ae,'maximumFractionDigits':_0x5483ae}):(console[_0x25ed14(0x88a)](_0x25ed14(0x53c)+_0x53e21e),_0xa2d90f=null);break;case _0x25ed14(0x2f9):let _0x39b267=_0x1def3f(_0x53e21e);_0x39b267!==null?_0xa2d90f=_0x39b267[_0x25ed14(0x764)](_0x25ed14(0x569),{'style':_0x25ed14(0x666),'currency':_0x25ed14(0x39d)}):(console[_0x25ed14(0x88a)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x53e21e),_0xa2d90f=null);break;case _0x25ed14(0x68f):_0xa2d90f=_0x53e21e[_0x25ed14(0x352)]();break;case _0x25ed14(0x82f):_0xa2d90f=_0x53e21e[_0x25ed14(0x91b)]();break;case _0x25ed14(0x767):_0xa2d90f=_0x53e21e[_0x25ed14(0x766)]('\x20')[_0x25ed14(0x867)](_0x139021=>_0x139021[_0x25ed14(0x4a7)](0x0)[_0x25ed14(0x352)]()+_0x139021['slice'](0x1)[_0x25ed14(0x91b)]())[_0x25ed14(0x720)]('\x20');break;case _0x25ed14(0x7e5):_0xa2d90f=_0x53e21e[_0x25ed14(0x57a)]();break;default:_0xa2d90f=_0x53e21e;}return _0xa2d90f!==null?_0xa2d90f[_0x25ed14(0x929)]():null;}async['processvaredits'](_0x561fd6,_0x2210ba){const _0x4382be=a0_0x21bcc2;try{let _0x361ce3=_0x561fd6[_0x4382be(0x78a)]?.[_0x4382be(0x874)](_0xafcf52=>_0xafcf52[_0x4382be(0x5ee)]===_0x2210ba[_0x4382be(0x644)]?.[_0x4382be(0x929)]())||[],_0x278fe4=_0x2210ba[_0x4382be(0x21a)],_0x4fbcfc=null,_0x404577=[],_0x4423d2=_0x561fd6[_0x4382be(0x7ae)][_0x4382be(0x29e)][_0x278fe4];_0x404577[_0x4382be(0x2ea)]('Valor\x20inicial:\x20\x22'+_0x4423d2+'\x22');for(let _0x3b4104 of _0x361ce3){_0x3b4104[_0x4382be(0x894)]=_0x4423d2,_0x4fbcfc=_0x3b4104['firstValue'];let _0x368f65;try{_0x368f65=this['applyvaredit'](_0x561fd6,_0x3b4104);}catch(_0x3ef666){this[_0x4382be(0x74f)]['error'](_0x4382be(0x454)+_0x3ef666['message']);continue;}if(_0x368f65!==null){let _0x264c2b=_0x4382be(0x925)+_0x3b4104['editOperator']+'\x22',_0x43ae93=[_0x4382be(0x2f9),_0x4382be(0x68f),_0x4382be(0x82f),_0x4382be(0x767),_0x4382be(0x7e5)];_0x3b4104[_0x4382be(0x330)]===_0x4382be(0x8b8)||_0x3b4104[_0x4382be(0x330)]===_0x4382be(0x33d)?_0x264c2b+=_0x4382be(0x420)+_0x3b4104[_0x4382be(0x815)]+_0x4382be(0x432)+_0x3b4104[_0x4382be(0x2dc)]+'\x22':!_0x43ae93[_0x4382be(0x587)](_0x3b4104[_0x4382be(0x330)])&&_0x3b4104[_0x4382be(0x815)]!==null&&_0x3b4104['secondValue']!==void 0x0&&(_0x264c2b+=',\x20valor\x20passado:\x20\x22'+_0x3b4104[_0x4382be(0x815)]+'\x22'),_0x264c2b+=',\x20resultado:\x20'+_0x368f65+'.',_0x404577['push'](_0x264c2b);}_0x368f65!==null&&(_0x4423d2=_0x368f65);}if(_0x561fd6['chatLog'][_0x4382be(0x29e)]&&_0x2210ba[_0x4382be(0x21a)]){_0x561fd6[_0x4382be(0x7ae)][_0x4382be(0x29e)][_0x2210ba[_0x4382be(0x21a)]]=_0x4423d2;let _0x98cb85={'variable':_0x2210ba[_0x4382be(0x21a)],'oldValue':_0x4fbcfc,'newValue':_0x4423d2,'moreLogs':_0x404577};try{this[_0x4382be(0x555)](_0x561fd6,_0x2210ba,_0x98cb85);}catch(_0x54912b){this[_0x4382be(0x74f)][_0x4382be(0x2fe)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x54912b[_0x4382be(0x4a8)]);}}return _0x278fe4;}catch(_0x3cc3a3){return this[_0x4382be(0x74f)][_0x4382be(0x2fe)]('Erro\x20inesperado\x20em\x20processvaredits:\x20'+_0x3cc3a3[_0x4382be(0x4a8)]),null;}}async[a0_0x21bcc2(0x449)](_0x435a39,_0x5bc243){const _0x464a5e=a0_0x21bcc2;try{let _0x457604=[],_0x26021d=_0x435a39[_0x464a5e(0x523)]['filter'](_0x51246d=>_0x51246d[_0x464a5e(0x5ee)]===_0x5bc243[_0x464a5e(0x644)]['toString']()),_0x18357d=null,_0x5bc2d5=!0x1;for(let _0x563283 of _0x26021d){let _0x251b9f=this[_0x464a5e(0x647)](_0x435a39,_0x563283);_0x457604['push'](_0x464a5e(0x3bf)+_0x563283[_0x464a5e(0x894)]+_0x464a5e(0x273)+_0x563283[_0x464a5e(0x27d)]+_0x464a5e(0x495)+_0x563283[_0x464a5e(0x815)]+_0x464a5e(0x782)+_0x251b9f),_0x18357d===null?_0x18357d=_0x251b9f:_0x563283[_0x464a5e(0x73f)]===_0x464a5e(0x250)?(_0x18357d=_0x18357d&&_0x251b9f,_0x251b9f||(_0x5bc2d5=!0x0)):_0x563283[_0x464a5e(0x73f)]==='or'&&(_0x5bc2d5||(_0x18357d=_0x18357d||_0x251b9f));}_0x18357d===null&&(_0x18357d=!0x0);let _0x3c4d28={'moreLogs':_0x457604};_0x435a39['chatLog'][_0x464a5e(0x75f)]=_0x18357d,await this[_0x464a5e(0x555)](_0x435a39,_0x5bc243,_0x3c4d28);}catch(_0x26b4af){this[_0x464a5e(0x74f)][_0x464a5e(0x2fe)](this[_0x464a5e(0x86d)]+'\x20('+this[_0x464a5e(0x5cb)][_0x464a5e(0x406)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x26b4af instanceof Error?_0x26b4af[_0x464a5e(0x4a8)]:JSON[_0x464a5e(0x261)](_0x26b4af,null,0x2)));}}[a0_0x21bcc2(0x647)](_0x2482ec,_0x49c80f){const _0x2646a0=a0_0x21bcc2;let _0x35d4d6=_0x49c80f[_0x2646a0(0x894)],_0xe8b5ea=_0x49c80f[_0x2646a0(0x815)];typeof _0x35d4d6=='string'&&(_0x35d4d6=this[_0x2646a0(0x4e0)](_0x35d4d6,_0x2482ec[_0x2646a0(0x7ae)][_0x2646a0(0x29e)])??''),typeof _0xe8b5ea==_0x2646a0(0x5c8)&&(_0xe8b5ea=this[_0x2646a0(0x4e0)](_0xe8b5ea,_0x2482ec['chatLog'][_0x2646a0(0x29e)])??'');try{switch(_0x49c80f[_0x2646a0(0x27d)]){case _0x2646a0(0x512):return _0x35d4d6===_0xe8b5ea;case _0x2646a0(0x318):return _0x35d4d6!==_0xe8b5ea;case _0x2646a0(0x3b4):return this[_0x2646a0(0x3b4)](_0x35d4d6,_0xe8b5ea);case _0x2646a0(0x883):return!this[_0x2646a0(0x3b4)](_0x35d4d6,_0xe8b5ea);case _0x2646a0(0x402):return parseFloat(_0x35d4d6)>parseFloat(_0xe8b5ea);case _0x2646a0(0x572):return parseFloat(_0x35d4d6)<parseFloat(_0xe8b5ea);case'notEmpty':return _0x35d4d6!=='';case _0x2646a0(0x322):return _0x35d4d6==='';case _0x2646a0(0x794):return new RegExp(_0xe8b5ea)[_0x2646a0(0x746)](_0x35d4d6);case _0x2646a0(0x54d):return!new RegExp(_0xe8b5ea)['test'](_0x35d4d6);default:return!0x1;}}catch(_0x4af921){return this[_0x2646a0(0x74f)][_0x2646a0(0x2fe)](_0x2646a0(0x7d2)+_0x4af921),!0x1;}}[a0_0x21bcc2(0x3b4)](_0x685132,_0x360011){const _0x8c6cf1=a0_0x21bcc2;if(_0x685132===_0x360011&&/^\d+$/[_0x8c6cf1(0x746)](_0x685132))return!0x0;if(this[_0x8c6cf1(0x69c)](_0x685132)&&/^\d+$/[_0x8c6cf1(0x746)](_0x360011)){let _0x265b43=_0x685132[_0x8c6cf1(0x766)](',')[_0x8c6cf1(0x867)](_0x3dd1cd=>parseInt(_0x3dd1cd[_0x8c6cf1(0x57a)]())),_0x1d23dc=parseInt(_0x360011);return _0x265b43[_0x8c6cf1(0x587)](_0x1d23dc);}return _0x685132[_0x8c6cf1(0x587)](_0x360011);}[a0_0x21bcc2(0x69c)](_0x579ca2){const _0x25cd4c=a0_0x21bcc2;return/^\d+(,\d+)*$/[_0x25cd4c(0x746)](_0x579ca2);}[a0_0x21bcc2(0x2ad)](_0x138c76){const _0x8b98d2=a0_0x21bcc2;let _0x2c758c=!0x0,_0x2feb77=null;for(let _0x4c544a of _0x138c76){let _0x442953=this['evaluateConditionTest'](_0x4c544a);if(_0x2feb77==='or'&&_0x442953){_0x2c758c=!0x0;break;}if(_0x2feb77==='and'&&!_0x442953){_0x2c758c=!0x1;break;}_0x2feb77=_0x4c544a[_0x8b98d2(0x73f)];}return _0x2c758c;}['evaluateConditionTest'](_0x2c582e){const _0x10dc04=a0_0x21bcc2;let _0x5ae498=_0x2c582e[_0x10dc04(0x894)],_0x24ce91=_0x2c582e['secondValue'];try{switch(_0x2c582e[_0x10dc04(0x27d)]){case _0x10dc04(0x512):return String(_0x5ae498)===String(_0x24ce91);case'notEqual':return String(_0x5ae498)!==String(_0x24ce91);case _0x10dc04(0x3b4):return String(_0x5ae498)[_0x10dc04(0x587)](String(_0x24ce91));case _0x10dc04(0x883):return!String(_0x5ae498)[_0x10dc04(0x587)](String(_0x24ce91));case _0x10dc04(0x402):return parseFloat(String(_0x5ae498))>parseFloat(String(_0x24ce91));case'less':return parseFloat(String(_0x5ae498))<parseFloat(String(_0x24ce91));case _0x10dc04(0x8d3):return String(_0x5ae498)!=='';case _0x10dc04(0x322):return String(_0x5ae498)==='';case'matchRegex':return new RegExp(String(_0x24ce91))['test'](String(_0x5ae498));case _0x10dc04(0x54d):return!new RegExp(String(_0x24ce91))[_0x10dc04(0x746)](String(_0x5ae498));default:return!0x1;}}catch(_0x9491de){return this[_0x10dc04(0x74f)][_0x10dc04(0x2fe)](_0x10dc04(0x7d2)+_0x9491de),!0x1;}}async[a0_0x21bcc2(0x676)](_0x27b389,_0x5780c2){const _0x5b1f8d=a0_0x21bcc2;if(this[_0x5b1f8d(0x74f)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5b1f8d(0x406)]+_0x5b1f8d(0x80a)),!_0x27b389||!_0x5780c2)return this[_0x5b1f8d(0x74f)][_0x5b1f8d(0x2fe)](this[_0x5b1f8d(0x86d)]+'\x20('+this[_0x5b1f8d(0x5cb)]['wuid']+_0x5b1f8d(0x645)),null;let _0x1e75bf=_0x27b389[_0x5b1f8d(0x7ae)][_0x5b1f8d(0x594)][_0x5b1f8d(0x3fe)]['id'];this[_0x5b1f8d(0x74f)][_0x5b1f8d(0x78f)](this[_0x5b1f8d(0x86d)]+'\x20('+this[_0x5b1f8d(0x5cb)][_0x5b1f8d(0x406)]+_0x5b1f8d(0x5db)+_0x1e75bf);let _0x5ce9f2={'key':{'id':_0x1e75bf}},_0xa0028a=_0x5780c2['saveVariable'];_0x27b389[_0x5b1f8d(0x7ae)]['realVariables']['_'+_0xa0028a+'.fileUrl']=null,_0x27b389['chatLog'][_0x5b1f8d(0x29e)]['_'+_0xa0028a+_0x5b1f8d(0x622)]=null,_0x27b389[_0x5b1f8d(0x7ae)][_0x5b1f8d(0x29e)]['_'+_0xa0028a+_0x5b1f8d(0x350)]=null,_0x27b389[_0x5b1f8d(0x7ae)][_0x5b1f8d(0x29e)]['_'+_0xa0028a+_0x5b1f8d(0x2fa)]=_0x27b389[_0x5b1f8d(0x7ae)][_0x5b1f8d(0x594)][_0x5b1f8d(0x347)];try{let _0x9df462=await this[_0x5b1f8d(0x248)](_0x5ce9f2);this['logger'][_0x5b1f8d(0x78f)](this[_0x5b1f8d(0x86d)]+'\x20('+this[_0x5b1f8d(0x5cb)]['wuid']+'):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.'),_0x27b389[_0x5b1f8d(0x7ae)]['realVariables']['_'+_0xa0028a+_0x5b1f8d(0x36c)]=_0x9df462[_0x5b1f8d(0x914)],_0x27b389['chatLog'][_0x5b1f8d(0x29e)]['_'+_0xa0028a+_0x5b1f8d(0x622)]=_0x9df462[_0x5b1f8d(0x5bd)];let _0x3a3b7d=_0x9df462[_0x5b1f8d(0x5bd)][_0x5b1f8d(0x2e9)](/\/(\w+)$/),_0x108335=_0x3a3b7d?_0x3a3b7d[0x1]:null;_0x27b389[_0x5b1f8d(0x7ae)][_0x5b1f8d(0x29e)]['_'+_0xa0028a+_0x5b1f8d(0x350)]=_0x108335,this[_0x5b1f8d(0x74f)][_0x5b1f8d(0x78f)](this[_0x5b1f8d(0x86d)]+'\x20('+this['instance'][_0x5b1f8d(0x406)]+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0xa0028a+'\x27.');}catch(_0x8f9f78){this[_0x5b1f8d(0x74f)][_0x5b1f8d(0x2fe)](this[_0x5b1f8d(0x86d)]+'\x20('+this[_0x5b1f8d(0x5cb)]['wuid']+_0x5b1f8d(0x5e8)+_0x8f9f78[_0x5b1f8d(0x4a8)]);}let _0xe11715=_0x27b389[_0x5b1f8d(0x7ae)][_0x5b1f8d(0x594)][_0x5b1f8d(0x839)]||_0x27b389[_0x5b1f8d(0x7ae)][_0x5b1f8d(0x594)][_0x5b1f8d(0x728)]||_0x27b389[_0x5b1f8d(0x7ae)][_0x5b1f8d(0x594)][_0x5b1f8d(0x8c3)];try{_0x27b389[_0x5b1f8d(0x7ae)]['realVariables']||(_0x27b389['chatLog'][_0x5b1f8d(0x29e)]={});let _0x5635c7=_0x27b389[_0x5b1f8d(0x7ae)][_0x5b1f8d(0x29e)][_0xa0028a];_0x27b389[_0x5b1f8d(0x7ae)][_0x5b1f8d(0x29e)][_0xa0028a]=_0xe11715;let _0x5ba65f={'variable':_0xa0028a,'oldValue':_0x5635c7,'newValue':_0xe11715};this[_0x5b1f8d(0x555)](_0x27b389,_0x5780c2,_0x5ba65f),this['logger'][_0x5b1f8d(0x78f)](this[_0x5b1f8d(0x86d)]+'\x20('+this[_0x5b1f8d(0x5cb)][_0x5b1f8d(0x406)]+_0x5b1f8d(0x4f9));}catch(_0x1c87c6){let _0x1a5155={'error':!0x0,'errorLog':_0x1c87c6['toString']()};return this[_0x5b1f8d(0x555)](_0x27b389,_0x5780c2,_0x1a5155),this[_0x5b1f8d(0x74f)]['error'](this['instanceName']+'\x20('+this[_0x5b1f8d(0x5cb)][_0x5b1f8d(0x406)]+_0x5b1f8d(0x80b)+(_0x1c87c6 instanceof Error?_0x1c87c6[_0x5b1f8d(0x4a8)]:JSON[_0x5b1f8d(0x261)](_0x1c87c6,null,0x2))),null;}}async[a0_0x21bcc2(0x45d)](_0x365d87,_0x11a8c7){const _0x48d25e=a0_0x21bcc2;if(this[_0x48d25e(0x74f)][_0x48d25e(0x78f)](this[_0x48d25e(0x86d)]+'\x20('+this['instance'][_0x48d25e(0x406)]+_0x48d25e(0x55a)),!_0x365d87||!_0x11a8c7)return this[_0x48d25e(0x74f)]['error'](this[_0x48d25e(0x86d)]+'\x20('+this[_0x48d25e(0x5cb)][_0x48d25e(0x406)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x180cd9=Date['now'](),_0x2c7045=parseInt(_0x11a8c7['stopMinutes'],0xa);if(isNaN(_0x2c7045))return this[_0x48d25e(0x74f)]['error'](this['instanceName']+'\x20('+this[_0x48d25e(0x5cb)][_0x48d25e(0x406)]+_0x48d25e(0x2be)),null;let _0x12ecf2={'newStoppedUntil':_0x180cd9+_0x2c7045*0x3c*0x3e8};return await this[_0x48d25e(0x555)](_0x365d87,_0x11a8c7,_0x12ecf2,!0x0),null;}async[a0_0x21bcc2(0x7fe)](_0x2ba0b6,_0x2d8ab0){const _0x2d3033=a0_0x21bcc2;try{switch(_0x2d8ab0[_0x2d3033(0x89a)][_0x2d3033(0x472)]){case _0x2d3033(0x1fc):await this[_0x2d3033(0x550)](_0x2ba0b6,_0x2d8ab0);break;case _0x2d3033(0x78c):await this['uazapiSendMedia'](_0x2ba0b6,_0x2d8ab0);break;case _0x2d3033(0x201):await this['uazapiSendLocation'](_0x2ba0b6,_0x2d8ab0);break;case'sendAudio':await this[_0x2d3033(0x6b0)](_0x2ba0b6,_0x2d8ab0);break;case'sendContact':await this['uazapiSendContact'](_0x2ba0b6,_0x2d8ab0);break;case'sendPoll':await this[_0x2d3033(0x5fb)](_0x2ba0b6,_0x2d8ab0);break;case _0x2d3033(0x919):await this[_0x2d3033(0x5fb)](_0x2ba0b6,_0x2d8ab0);break;case'deleteMessage':await this[_0x2d3033(0x298)](_0x2ba0b6,_0x2d8ab0);break;default:this[_0x2d3033(0x74f)][_0x2d3033(0x2fe)](this['instanceName']+'\x20('+this[_0x2d3033(0x5cb)][_0x2d3033(0x406)]+_0x2d3033(0x818)+_0x2d8ab0['uazapi'][_0x2d3033(0x472)]);}}catch(_0x152108){this[_0x2d3033(0x74f)][_0x2d3033(0x2fe)](this[_0x2d3033(0x86d)]+'\x20('+this[_0x2d3033(0x5cb)]['wuid']+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x152108 instanceof Error?_0x152108['message']:JSON[_0x2d3033(0x261)](_0x152108,null,0x2)));}}async[a0_0x21bcc2(0x555)](_0x11863c,_0x3c4b0b,_0x1ef689,_0x5d5a01=!0x1,_0x8d38a4=!0x1){const _0x22cbcf=a0_0x21bcc2;_0x11863c['chatLog']['blockLogs']||(_0x11863c[_0x22cbcf(0x7ae)][_0x22cbcf(0x3f2)]=[]);let _0x4e8b06=(_0x11863c[_0x22cbcf(0x7ae)]['blockLogs']?.['length']??0x0)+0x1,_0x4a875e=_0x11863c[_0x22cbcf(0x7ae)][_0x22cbcf(0x3f2)][_0x22cbcf(0x874)](_0x4760d2=>String(_0x4760d2['blockId'])===String(_0x3c4b0b[_0x22cbcf(0x644)]))[_0x22cbcf(0x7be)]+0x1,_0x25890d=_0x1ef689?.['onTime']??Date[_0x22cbcf(0x462)](),_0x34e97e=_0x1ef689?.[_0x22cbcf(0x2fe)]?_0x1ef689[_0x22cbcf(0x3c5)]??_0x1ef689[_0x22cbcf(0x2fe)]['toString']():void 0x0,_0x5da319={'onTime':_0x25890d,'blockId':_0x3c4b0b[_0x22cbcf(0x644)],'order':_0x4e8b06,'activatedCount':_0x4a875e,'error':_0x1ef689?.[_0x22cbcf(0x2fe)]??!0x1,'messageId':_0x1ef689?.[_0x22cbcf(0x51b)],'apiResponse':_0x1ef689?.['apiResponse'],'apiResponseString':_0x1ef689?.[_0x22cbcf(0x3c8)]?JSON[_0x22cbcf(0x261)](_0x1ef689?.[_0x22cbcf(0x3c8)]):void 0x0,'variable':_0x1ef689?.[_0x22cbcf(0x6f9)],'oldValue':_0x1ef689?.['oldValue'],'newValue':_0x1ef689?.[_0x22cbcf(0x23d)],'newStoppedUntil':_0x1ef689?.[_0x22cbcf(0x4a9)],'moreLogs':_0x1ef689?.['moreLogs'],'errorLog':_0x34e97e};if(_0x1ef689['moreLogs']&&_0x1ef689['moreLogs']['length']>0x0){let _0x503bc2=_0x1ef689[_0x22cbcf(0x421)][_0x22cbcf(0x867)](_0x96a63=>this[_0x22cbcf(0x5be)](_0x96a63,_0x11863c[_0x22cbcf(0x7ae)]['realVariables']));_0x5da319[_0x22cbcf(0x421)]=_0x503bc2;}if(_0x11863c[_0x22cbcf(0x7ae)]['realVariables']||(_0x11863c['chatLog'][_0x22cbcf(0x29e)]={}),_0x11863c['chatLog']['realVariables'][_0x22cbcf(0x72f)]=String(_0x4a875e),_0x11863c[_0x22cbcf(0x7ae)][_0x22cbcf(0x29e)]['_error']=String(_0x1ef689['error']??!0x1),_0x11863c[_0x22cbcf(0x7ae)]['blockLogs'][_0x22cbcf(0x2ea)](_0x5da319),_0x11863c[_0x22cbcf(0x7ae)][_0x22cbcf(0x29e)][_0x22cbcf(0x809)]&&_0x11863c[_0x22cbcf(0x7ae)][_0x22cbcf(0x29e)][_0x22cbcf(0x809)]!==_0x11863c[_0x22cbcf(0x2c7)]){let _0x1c339f=(await this['whatsappNumber']({'numbers':[_0x11863c['chatLog'][_0x22cbcf(0x29e)][_0x22cbcf(0x809)]]}))[0x0]['jid'];_0x11863c['chatLog'][_0x22cbcf(0x29e)][_0x22cbcf(0x809)]=_0x1c339f,_0x11863c[_0x22cbcf(0x2c7)]=_0x1c339f;try{let _0x4e4036={'_id':{'$ne':_0x11863c[_0x22cbcf(0x644)]},'remoteJid':_0x1c339f,'status':_0x22cbcf(0x5f3)},_0x4ba2ab={'status':_0x22cbcf(0x65a)};await this['repository'][_0x22cbcf(0x85d)][_0x22cbcf(0x609)](_0x4e4036,_0x4ba2ab,this[_0x22cbcf(0x5cb)][_0x22cbcf(0x406)]),this[_0x22cbcf(0x74f)][_0x22cbcf(0x78f)](this['instanceName']+'\x20('+this[_0x22cbcf(0x5cb)]['wuid']+_0x22cbcf(0x66c));}catch(_0x1be9cb){this[_0x22cbcf(0x74f)][_0x22cbcf(0x2fe)](this['instanceName']+'\x20('+this['instance'][_0x22cbcf(0x406)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x1be9cb[_0x22cbcf(0x4a8)]);}try{let _0x1f273c=_0x11863c[_0x22cbcf(0x7ae)][_0x22cbcf(0x29e)],_0x48aa21=await this[_0x22cbcf(0x22c)](_0x1c339f),_0xd2530d={..._0x1f273c,..._0x48aa21,'_remoteJid':_0x1c339f};_0x11863c[_0x22cbcf(0x7ae)][_0x22cbcf(0x29e)]=_0xd2530d;}catch(_0x27f8c2){this['logger'][_0x22cbcf(0x2fe)](this[_0x22cbcf(0x86d)]+'\x20('+this[_0x22cbcf(0x5cb)][_0x22cbcf(0x406)]+_0x22cbcf(0x602)+_0x27f8c2[_0x22cbcf(0x4a8)]);}}_0x11863c[_0x22cbcf(0x7ae)][_0x22cbcf(0x834)]=_0x3c4b0b[_0x22cbcf(0x644)][_0x22cbcf(0x929)](),_0x11863c[_0x22cbcf(0x7ae)][_0x22cbcf(0x47c)]&&(_0x11863c[_0x22cbcf(0x7ae)][_0x22cbcf(0x47c)]=_0x11863c[_0x22cbcf(0x7ae)]['lastSendMessage']),_0x11863c[_0x22cbcf(0x7ae)][_0x22cbcf(0x594)]&&(_0x11863c[_0x22cbcf(0x7ae)][_0x22cbcf(0x594)]=_0x11863c[_0x22cbcf(0x7ae)][_0x22cbcf(0x594)]),_0x11863c[_0x22cbcf(0x7ae)]['lastCondition']&&(_0x11863c['chatLog'][_0x22cbcf(0x75f)]=_0x11863c[_0x22cbcf(0x7ae)]['lastCondition']),_0x8d38a4&&(_0x11863c[_0x22cbcf(0x41a)]='closed'),_0x5d5a01?this[_0x22cbcf(0x84f)](_0x11863c):this[_0x22cbcf(0x59c)](_0x11863c,_0x3c4b0b);}[a0_0x21bcc2(0x5be)](_0x155375,_0x19e4e0){const _0x552d15=a0_0x21bcc2;return _0x155375['replace'](/\{\{([^}]+)\}\}/g,(_0x364d82,_0x23088a)=>_0x19e4e0[_0x23088a]?'{{'+_0x23088a+'}}\x20->\x20\x22'+_0x19e4e0[_0x23088a]+'\x22':'{{'+_0x23088a+_0x552d15(0x428));}async[a0_0x21bcc2(0x84f)](_0x3ed9a8){const _0x19ac14=a0_0x21bcc2;try{let _0x48f71c=Object[_0x19ac14(0x56f)](_0x3ed9a8['chatLog'][_0x19ac14(0x29e)])[_0x19ac14(0x867)](([_0x2c9cab,_0x24ed5c])=>({'name':_0x2c9cab,'value':_0x24ed5c})),_0x46c4be={'status':_0x3ed9a8[_0x19ac14(0x41a)],'remoteJid':_0x3ed9a8[_0x19ac14(0x2c7)],'blocks':_0x3ed9a8[_0x19ac14(0x561)],'waitingMenu_id':_0x3ed9a8[_0x19ac14(0x909)],'waitingMenu_text':_0x3ed9a8['waitingMenu_text'],'waitingMenu_replyOptions':_0x3ed9a8[_0x19ac14(0x3a4)],'chatLog':{'lastBlockId':_0x3ed9a8[_0x19ac14(0x7ae)][_0x19ac14(0x834)],'lastSendMessage':_0x3ed9a8[_0x19ac14(0x7ae)][_0x19ac14(0x47c)],'lastReceivedMessage':_0x3ed9a8['chatLog'][_0x19ac14(0x594)],'lastCondition':_0x3ed9a8[_0x19ac14(0x7ae)][_0x19ac14(0x75f)],'chatVariables':_0x48f71c,'realVariables':_0x3ed9a8[_0x19ac14(0x7ae)][_0x19ac14(0x29e)],'blockLogs':_0x3ed9a8[_0x19ac14(0x7ae)]['blockLogs']}},_0x1722ad=await this[_0x19ac14(0x5bb)]['flowConversation'][_0x19ac14(0x4f3)](_0x3ed9a8[_0x19ac14(0x644)],_0x46c4be,this[_0x19ac14(0x5cb)]['wuid']);if(_0x1722ad){this[_0x19ac14(0x74f)][_0x19ac14(0x78f)](this[_0x19ac14(0x86d)]+'\x20('+this[_0x19ac14(0x5cb)][_0x19ac14(0x406)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x1722ad[_0x19ac14(0x644)]);try{let _0x2c970d=[_0x19ac14(0x48d),_0x19ac14(0x73e),_0x19ac14(0x82d),_0x19ac14(0x648),'status',_0x19ac14(0x2fb),_0x19ac14(0x447),'tags','etiquetas','atendimentoAberto'];if(!this[_0x19ac14(0x246)]&&(await this['getAutomateSystem'](),!this[_0x19ac14(0x246)]))throw new Error(_0x19ac14(0x5eb));let _0x187652=this['AutomateSystem']?.[_0x19ac14(0x302)][_0x19ac14(0x867)](_0x28f33e=>_0x28f33e['name']),_0x513ecc={};Object['entries'](_0x3ed9a8['chatLog']['realVariables'])[_0x19ac14(0x653)](([_0x2c596b,_0x2e1023])=>{const _0x7715a5=_0x19ac14;_0x2c970d['includes'](_0x2c596b)&&(_0x2c596b===_0x7715a5(0x771)&&typeof _0x2e1023=='string'?_0x513ecc[_0x2c596b]=_0x2e1023[_0x7715a5(0x766)](',')['map'](_0x2b96c9=>_0x2b96c9[_0x7715a5(0x57a)]())[_0x7715a5(0x874)](_0x38a8c5=>_0x38a8c5!==''):_0x2c596b==='etiquetas'&&typeof _0x2e1023=='string'?_0x513ecc[_0x2c596b]=_0x2e1023['split'](',')[_0x7715a5(0x867)](_0x23e5ca=>_0x23e5ca[_0x7715a5(0x57a)]())[_0x7715a5(0x874)](_0x2894d9=>_0x2894d9!==''):_0x513ecc[_0x2c596b]=_0x2e1023);});let _0x434e52=_0x3ed9a8[_0x19ac14(0x7ae)]['blockLogs'][_0x3ed9a8['chatLog']['blockLogs'][_0x19ac14(0x7be)]-0x1];if(_0x434e52){let _0x2aad63=_0x434e52[_0x19ac14(0x4a9)];_0x2aad63!==void 0x0&&(_0x513ecc[_0x19ac14(0x575)]=_0x2aad63[_0x19ac14(0x929)]());}let _0x290c12=_0x48f71c['filter'](_0x4dfacd=>_0x187652[_0x19ac14(0x587)](_0x4dfacd[_0x19ac14(0x83e)]));this[_0x19ac14(0x74f)][_0x19ac14(0x78f)](this['instanceName']+'\x20('+this[_0x19ac14(0x5cb)][_0x19ac14(0x406)]+_0x19ac14(0x8ac)),this[_0x19ac14(0x74f)][_0x19ac14(0x78f)](_0x513ecc),this[_0x19ac14(0x74f)][_0x19ac14(0x78f)](this['instanceName']+'\x20('+this[_0x19ac14(0x5cb)][_0x19ac14(0x406)]+_0x19ac14(0x8bd)),this[_0x19ac14(0x74f)]['verbose'](_0x290c12);let _0x1612e2=_0x290c12[_0x19ac14(0x867)](_0x38c0b8=>{const _0x683efc=_0x19ac14;let _0x347d52=this[_0x683efc(0x246)]?.['customFields']['find'](_0x4b6b85=>_0x4b6b85[_0x683efc(0x83e)]===_0x38c0b8[_0x683efc(0x83e)]);if(!_0x347d52)throw new Error(_0x683efc(0x5b6)+_0x38c0b8[_0x683efc(0x83e)]);return{'_id':_0x347d52['_id'],'value':_0x38c0b8[_0x683efc(0x61f)]};});this[_0x19ac14(0x74f)][_0x19ac14(0x78f)](this[_0x19ac14(0x86d)]+'\x20('+this[_0x19ac14(0x5cb)][_0x19ac14(0x406)]+_0x19ac14(0x646)),this[_0x19ac14(0x74f)]['verbose'](_0x1612e2),await this[_0x19ac14(0x2fd)](_0x3ed9a8[_0x19ac14(0x2c7)],_0x513ecc,_0x1612e2);}catch(_0x185f28){this['logger'][_0x19ac14(0x2fe)](this[_0x19ac14(0x86d)]+'\x20('+this[_0x19ac14(0x5cb)][_0x19ac14(0x406)]+_0x19ac14(0x6c9)+(_0x185f28 instanceof Error?_0x185f28[_0x19ac14(0x4a8)]:JSON[_0x19ac14(0x261)](_0x185f28,null,0x2)));}}else this[_0x19ac14(0x74f)][_0x19ac14(0x2fe)](this[_0x19ac14(0x86d)]+'\x20('+this[_0x19ac14(0x5cb)][_0x19ac14(0x406)]+_0x19ac14(0x27b));}catch(_0x47f021){this['logger'][_0x19ac14(0x2fe)](this['instanceName']+'\x20('+this[_0x19ac14(0x5cb)]['wuid']+_0x19ac14(0x2d7)+(_0x47f021 instanceof Error?_0x47f021[_0x19ac14(0x4a8)]:JSON[_0x19ac14(0x261)](_0x47f021,null,0x2)));}}async['saveChatVariables'](_0x396cae,_0x319535,_0xd4a1a2){const _0x15690d=a0_0x21bcc2;try{let _0x530480={'leadInfo.leadnome':_0x319535[_0x15690d(0x48d)],'leadInfo.nomecompleto':_0x319535[_0x15690d(0x73e)],'leadInfo.email':_0x319535[_0x15690d(0x82d)],'leadInfo.cpf':_0x319535[_0x15690d(0x648)],'leadInfo.status':_0x319535[_0x15690d(0x41a)],'leadInfo.notas':_0x319535[_0x15690d(0x2fb)],'leadInfo.responsavelid':_0x319535['responsavelid'],'leadInfo.tags':_0x319535[_0x15690d(0x771)],'leadInfo.etiquetas':_0x319535[_0x15690d(0x1fd)],'leadInfo.customFields':_0xd4a1a2,'leadInfo.atendimentoAberto':_0x319535[_0x15690d(0x847)]},_0x478ab8=await this[_0x15690d(0x5bb)][_0x15690d(0x580)][_0x15690d(0x7db)]({'where':{'_id':_0x396cae}},this[_0x15690d(0x5cb)][_0x15690d(0x406)]);if(!_0x478ab8)return _0x15690d(0x386);let _0x484f93=new Set(_0x478ab8[_0x15690d(0x4e7)]['etiquetas']||[]),_0x4572a3=new Set(_0x319535['etiquetas']||[]),_0x3e6ef7=await this[_0x15690d(0x5bb)][_0x15690d(0x7a4)][_0x15690d(0x68c)]({'where':{}},this[_0x15690d(0x5cb)][_0x15690d(0x406)]),_0x35f6b1=new Set(_0x3e6ef7[_0x15690d(0x867)](_0x2f5506=>_0x2f5506[_0x15690d(0x644)])),_0x18b0ee=[..._0x4572a3][_0x15690d(0x874)](_0x53d00f=>!_0x484f93[_0x15690d(0x4d5)](_0x53d00f)&&_0x35f6b1[_0x15690d(0x4d5)](_0x53d00f)),_0x3b57f4=[..._0x484f93]['filter'](_0x58fe5c=>!_0x4572a3[_0x15690d(0x4d5)](_0x58fe5c));for(let _0x33a442 of _0x18b0ee)await this[_0x15690d(0x4eb)](_0x33a442,_0x478ab8[_0x15690d(0x644)]),_0x484f93[_0x15690d(0x65e)](_0x33a442);for(let _0x32c56 of _0x3b57f4)await this['RemoveChatLabel'](_0x32c56,_0x478ab8[_0x15690d(0x644)]),_0x484f93[_0x15690d(0x8b1)](_0x32c56);if(_0x15690d(0x575)in _0x319535){let _0x106dca=_0x319535[_0x15690d(0x575)];_0x530480[_0x15690d(0x6e7)]=_0x106dca?Number(_0x106dca):null;}if(_0x15690d(0x847)in _0x319535){let _0x49c550=_0x319535[_0x15690d(0x847)][_0x15690d(0x91b)]();_0x530480['leadInfo.atendimentoAberto']=_0x49c550===_0x15690d(0x8a4)||_0x49c550==='1'||_0x49c550===_0x15690d(0x585)||_0x49c550===_0x15690d(0x568);}let _0x50e24c=await this['repository'][_0x15690d(0x580)][_0x15690d(0x4f3)]({'where':{'_id':_0x396cae}},_0x530480,this[_0x15690d(0x5cb)]['wuid']);_0x50e24c?(this['logger'][_0x15690d(0x78f)](this[_0x15690d(0x86d)]+'\x20('+this['instance'][_0x15690d(0x406)]+_0x15690d(0x281)+_0x50e24c['_id']),j(this['instanceName'],_0x15690d(0x5bf),{'chat':_0x50e24c})):this[_0x15690d(0x74f)][_0x15690d(0x2fe)](this['instanceName']+'\x20('+this[_0x15690d(0x5cb)][_0x15690d(0x406)]+_0x15690d(0x797));}catch(_0x5ad1d3){this[_0x15690d(0x74f)][_0x15690d(0x2fe)](this[_0x15690d(0x86d)]+'\x20('+this[_0x15690d(0x5cb)]['wuid']+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x5ad1d3 instanceof Error?_0x5ad1d3['message']:JSON[_0x15690d(0x261)](_0x5ad1d3,null,0x2)));}}async['updateStopChat'](_0x3cfd3f,_0x207cf3){const _0x5334ce=a0_0x21bcc2;this[_0x5334ce(0x74f)][_0x5334ce(0x78f)](this[_0x5334ce(0x86d)]+'\x20('+this[_0x5334ce(0x5cb)][_0x5334ce(0x406)]+_0x5334ce(0x604)+_0x207cf3);try{let _0x16ab4f=await this[_0x5334ce(0x5bb)][_0x5334ce(0x580)][_0x5334ce(0x4f3)]({'where':{'_id':_0x3cfd3f[_0x5334ce(0x2c7)]}},{'leadInfo.desativadoFluxoAte':_0x207cf3},this[_0x5334ce(0x5cb)][_0x5334ce(0x406)]);this[_0x5334ce(0x74f)]['verbose'](this[_0x5334ce(0x86d)]+'\x20('+this['instance'][_0x5334ce(0x406)]+_0x5334ce(0x540)+_0x3cfd3f[_0x5334ce(0x644)]),this[_0x5334ce(0x74f)][_0x5334ce(0x78f)](this[_0x5334ce(0x86d)]+'\x20('+this[_0x5334ce(0x5cb)][_0x5334ce(0x406)]+_0x5334ce(0x604)+JSON[_0x5334ce(0x261)](_0x16ab4f,null,0x2)),_0x16ab4f&&j(this[_0x5334ce(0x86d)],_0x5334ce(0x5bf),{'chat':_0x16ab4f});}catch(_0x56d9d1){this[_0x5334ce(0x74f)][_0x5334ce(0x2fe)](this[_0x5334ce(0x86d)]+'\x20('+this['instance'][_0x5334ce(0x406)]+_0x5334ce(0x6ec)+(_0x56d9d1 instanceof Error?_0x56d9d1['message']:JSON[_0x5334ce(0x261)](_0x56d9d1,null,0x2)));}}async[a0_0x21bcc2(0x3af)](_0x19e12a){const _0xbef6b2=a0_0x21bcc2;try{this[_0xbef6b2(0x74f)][_0xbef6b2(0x78f)](this[_0xbef6b2(0x86d)]+'\x20('+this[_0xbef6b2(0x5cb)][_0xbef6b2(0x406)]+_0xbef6b2(0x534));let _0xbd0e97=_0x19e12a[_0xbef6b2(0x243)](/\D/g,''),_0xbf0076=this[_0xbef6b2(0x246)][_0xbef6b2(0x291)]['find'](_0x232eea=>_0x232eea['testingWith']===_0xbd0e97);if(_0xbf0076||(this[_0xbef6b2(0x74f)][_0xbef6b2(0x78f)](this[_0xbef6b2(0x86d)]+'\x20('+this[_0xbef6b2(0x5cb)][_0xbef6b2(0x406)]+_0xbef6b2(0x3c1)),_0xbf0076=this[_0xbef6b2(0x246)][_0xbef6b2(0x291)][_0xbef6b2(0x68c)](_0x46aad4=>_0x46aad4[_0xbef6b2(0x7ac)]===!0x0)),!_0xbf0076)return this[_0xbef6b2(0x74f)][_0xbef6b2(0x78f)](this['instanceName']+'\x20('+this[_0xbef6b2(0x5cb)][_0xbef6b2(0x406)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null;let _0x20342b=await this[_0xbef6b2(0x5bb)][_0xbef6b2(0x3f5)][_0xbef6b2(0x7db)]({'where':{'_id':_0xbf0076[_0xbef6b2(0x644)]}});if(!_0x20342b||!_0x20342b['whoCanUse']?.[_0xbef6b2(0x587)](this['instance'][_0xbef6b2(0x406)]))throw this['logger']['error'](this['instanceName']+'\x20('+this[_0xbef6b2(0x5cb)][_0xbef6b2(0x406)]+_0xbef6b2(0x3a2)+_0x20342b[_0xbef6b2(0x644)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x20342b[_0xbef6b2(0x644)]+_0xbef6b2(0x716));return _0x20342b;}catch(_0x44b753){return this[_0xbef6b2(0x74f)][_0xbef6b2(0x2fe)](this['instanceName']+'\x20('+this['instance'][_0xbef6b2(0x406)]+_0xbef6b2(0x643)+(_0x44b753 instanceof Error?_0x44b753['message']:JSON[_0xbef6b2(0x261)](_0x44b753,null,0x2))),null;}}async['findConversation'](_0x171dcd,_0x296270){const _0xa2933e=a0_0x21bcc2;try{let _0x5d9a71=!!_0x296270[_0xa2933e(0x8c3)],_0x3a19ae=_0x296270[_0xa2933e(0x5f2)],_0x27ce04=null;if(this[_0xa2933e(0x74f)][_0xa2933e(0x78f)](this[_0xa2933e(0x86d)]+'\x20('+this[_0xa2933e(0x5cb)][_0xa2933e(0x406)]+_0xa2933e(0x545)+_0x5d9a71+_0xa2933e(0x8de)+_0x3a19ae),_0x5d9a71){this['logger'][_0xa2933e(0x78f)](this[_0xa2933e(0x86d)]+'\x20('+this[_0xa2933e(0x5cb)][_0xa2933e(0x406)]+_0xa2933e(0x3ef));let _0x594072={'where':{'remoteJid':_0x171dcd,'waitingMenu_id':_0x3a19ae}};if(_0x27ce04=await this[_0xa2933e(0x5bb)][_0xa2933e(0x85d)][_0xa2933e(0x7db)](_0x594072,this[_0xa2933e(0x5cb)][_0xa2933e(0x406)]),!_0x27ce04)return this[_0xa2933e(0x74f)][_0xa2933e(0x78f)](this['instanceName']+'\x20('+this[_0xa2933e(0x5cb)][_0xa2933e(0x406)]+_0xa2933e(0x690)),null;let _0x1f6107=Date[_0xa2933e(0x462)](),_0x3bbf0b=_0x27ce04?.[_0xa2933e(0x781)]||0x0,_0x54f761=_0x1f6107-_0x3bbf0b*0x3c*0x3e8;if(_0x27ce04['lastInteraction']<_0x54f761){this['logger'][_0xa2933e(0x78f)](this[_0xa2933e(0x86d)]+'\x20('+this[_0xa2933e(0x5cb)][_0xa2933e(0x406)]+_0xa2933e(0x341));let _0x1dbc7e={'number':_0x27ce04[_0xa2933e(0x2c7)],'options':{'delay':0x0},'textMessage':{'text':_0x27ce04[_0xa2933e(0x5d5)]}};await this[_0xa2933e(0x6a3)](_0x1dbc7e);let _0x3c74a2={'status':_0xa2933e(0x65a),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0xa2933e(0x85d)]['updateOne'](_0x27ce04['_id'],_0x3c74a2,this[_0xa2933e(0x5cb)][_0xa2933e(0x406)]),null;}return _0x27ce04[_0xa2933e(0x37f)]=Date[_0xa2933e(0x462)](),_0x27ce04[_0xa2933e(0x7ae)][_0xa2933e(0x594)]=_0x296270,_0x27ce04;}else{this[_0xa2933e(0x74f)][_0xa2933e(0x78f)](this[_0xa2933e(0x86d)]+'\x20('+this[_0xa2933e(0x5cb)]['wuid']+_0xa2933e(0x5cc)+this[_0xa2933e(0x5cb)]['wuid']+_0xa2933e(0x356)),this[_0xa2933e(0x74f)][_0xa2933e(0x78f)](this['instanceName']+'\x20('+this[_0xa2933e(0x5cb)][_0xa2933e(0x406)]+_0xa2933e(0x474));let _0x3e389b={'where':{'remoteJid':_0x171dcd,'status':'open'}};if(_0x27ce04=await this[_0xa2933e(0x5bb)]['flowConversation'][_0xa2933e(0x7db)](_0x3e389b,this['instance'][_0xa2933e(0x406)]),!_0x27ce04){let _0xd74d91=await this['findFlow'](_0x171dcd);if(_0xd74d91&&(_0x27ce04=await this[_0xa2933e(0x908)](_0xd74d91,_0x296270[_0xa2933e(0x3fe)],_0x296270)),!_0x27ce04)return null;}let _0x3971c6=Date[_0xa2933e(0x462)](),_0x13b5da=_0x27ce04?.[_0xa2933e(0x781)]||0x0,_0x1ed8b2=_0x3971c6-_0x13b5da*0x3c*0x3e8;if(this[_0xa2933e(0x74f)]['verbose'](this[_0xa2933e(0x86d)]+'\x20('+this['instance'][_0xa2933e(0x406)]+_0xa2933e(0x41f)+_0x3971c6+',\x20Minutes\x20to\x20Close:\x20'+_0x13b5da+_0xa2933e(0x77b)+_0x1ed8b2),this[_0xa2933e(0x74f)][_0xa2933e(0x78f)](this[_0xa2933e(0x86d)]+'\x20('+this[_0xa2933e(0x5cb)][_0xa2933e(0x406)]+_0xa2933e(0x2bb)),this[_0xa2933e(0x74f)][_0xa2933e(0x78f)](this[_0xa2933e(0x86d)]+'\x20('+this[_0xa2933e(0x5cb)][_0xa2933e(0x406)]+_0xa2933e(0x3a8)+_0x27ce04[_0xa2933e(0x37f)]),this[_0xa2933e(0x74f)][_0xa2933e(0x78f)](this[_0xa2933e(0x86d)]+'\x20('+this[_0xa2933e(0x5cb)]['wuid']+_0xa2933e(0x511)+_0x1ed8b2),_0x27ce04[_0xa2933e(0x37f)]<_0x1ed8b2){this[_0xa2933e(0x74f)][_0xa2933e(0x78f)](this['instanceName']+'\x20('+this[_0xa2933e(0x5cb)][_0xa2933e(0x406)]+_0xa2933e(0x551));let _0x50835f=await this[_0xa2933e(0x3af)](_0x171dcd);if(_0x50835f===null)return null;_0x27ce04&&await this[_0xa2933e(0x5bb)][_0xa2933e(0x85d)]['updateOne'](_0x27ce04['_id'],{'status':_0xa2933e(0x65a)},this[_0xa2933e(0x5cb)][_0xa2933e(0x406)]),_0x27ce04=await this[_0xa2933e(0x908)](_0x50835f,_0x296270['key'],_0x296270);}return _0x27ce04[_0xa2933e(0x37f)]=_0x3971c6,_0x27ce04[_0xa2933e(0x7ae)][_0xa2933e(0x594)]=_0x296270,_0x27ce04;}}catch(_0x3df26c){return this['logger'][_0xa2933e(0x2fe)](this['instanceName']+'\x20('+this[_0xa2933e(0x5cb)]['wuid']+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x3df26c instanceof Error?_0x3df26c[_0xa2933e(0x4a8)]:JSON[_0xa2933e(0x261)](_0x3df26c,null,0x2))),null;}}async[a0_0x21bcc2(0x908)](_0x451ac3,_0x2bc780,_0x58577f){const _0x49c4fa=a0_0x21bcc2;this[_0x49c4fa(0x74f)]['verbose'](this[_0x49c4fa(0x86d)]+'\x20('+this[_0x49c4fa(0x5cb)][_0x49c4fa(0x406)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x4a1a2f=require(_0x49c4fa(0x24a))['ObjectId'],_0x238fdc=Date[_0x49c4fa(0x462)](),_0x1d6521=_0x49c4fa(0x251),_0x4c78cf=_0x2bc780[_0x49c4fa(0x86f)]?null:_0x58577f,_0x6075a8=_0x2bc780[_0x49c4fa(0x86f)]?_0x58577f:null,_0xaf11de=_0x2bc780[_0x49c4fa(0x2c7)],_0x5cc6e9=this[_0x49c4fa(0x246)]['flows']['find'](_0x381aaf=>_0x381aaf[_0x49c4fa(0x644)]===_0x451ac3[_0x49c4fa(0x644)]?.['toString']()),_0x3759e6=_0x5cc6e9?.['minutesToClose']??_0x451ac3[_0x49c4fa(0x781)]??0x0,_0x350507=_0x5cc6e9?.[_0x49c4fa(0x75a)]??_0x451ac3[_0x49c4fa(0x75a)]??!0x1;await this[_0x49c4fa(0x7dc)](_0xaf11de);let _0x2d48f4={'flowId':_0x451ac3['_id'],..._0x451ac3,'chatLog':null},_0x40e1c6=await this[_0x49c4fa(0x76e)](_0x2d48f4[_0x49c4fa(0x75e)]),_0x283213=await this[_0x49c4fa(0x22c)](_0xaf11de),_0x4c874d={..._0x40e1c6,..._0x283213,'_remoteJid':_0xaf11de},_0x154a37={'lastReceivedMessage':_0x4c78cf,'lastSendMessage':_0x6075a8,'lastBlockId':_0x1d6521,'lastCondition':!0x0,'realVariables':_0x4c874d};_0x2d48f4[_0x49c4fa(0x7ae)]=_0x154a37,delete _0x2d48f4[_0x49c4fa(0x644)],_0x2d48f4[_0x49c4fa(0x644)]=new _0x4a1a2f(),_0x2d48f4[_0x49c4fa(0x37f)]=_0x238fdc,_0x2d48f4[_0x49c4fa(0x41a)]=_0x49c4fa(0x5f3),_0x2d48f4[_0x49c4fa(0x2c7)]=_0xaf11de,_0x2d48f4['minutesToClose']=_0x3759e6,_0x2d48f4[_0x49c4fa(0x75a)]=_0x350507;let _0x44f88d=await this[_0x49c4fa(0x5bb)][_0x49c4fa(0x85d)][_0x49c4fa(0x4f3)](_0x2d48f4[_0x49c4fa(0x644)],_0x2d48f4,this[_0x49c4fa(0x5cb)][_0x49c4fa(0x406)]);return this[_0x49c4fa(0x74f)][_0x49c4fa(0x78f)](this[_0x49c4fa(0x86d)]+'\x20('+this[_0x49c4fa(0x5cb)]['wuid']+_0x49c4fa(0x629)),_0x44f88d?_0x2d48f4:null;}catch(_0x4032eb){return this[_0x49c4fa(0x74f)][_0x49c4fa(0x2fe)](this[_0x49c4fa(0x86d)]+'\x20('+this[_0x49c4fa(0x5cb)][_0x49c4fa(0x406)]+_0x49c4fa(0x3b0)+(_0x4032eb instanceof Error?_0x4032eb['message']:JSON[_0x49c4fa(0x261)](_0x4032eb,null,0x2))),_0x4032eb;}}async[a0_0x21bcc2(0x550)](_0x431eba,_0x23eccf){const _0x1a7ae9=a0_0x21bcc2;let _0x797c34=_0x431eba['remoteJid'];_0x23eccf[_0x1a7ae9(0x89a)]['remoteJid']&&_0x23eccf[_0x1a7ae9(0x89a)][_0x1a7ae9(0x2c7)]['trim']()!==''&&(_0x797c34=_0x23eccf[_0x1a7ae9(0x89a)]['remoteJid'][_0x1a7ae9(0x57a)]()),this['logger']['verbose'](this[_0x1a7ae9(0x86d)]+'\x20('+this['instance'][_0x1a7ae9(0x406)]+_0x1a7ae9(0x751));let _0x4a3614={'number':_0x797c34,'options':{'delay':_0x23eccf[_0x1a7ae9(0x89a)][_0x1a7ae9(0x505)],'linkPreview':_0x23eccf['uazapi'][_0x1a7ae9(0x2db)]},'textMessage':{'text':_0x23eccf[_0x1a7ae9(0x89a)][_0x1a7ae9(0x839)]}};try{let _0x1df1e3=await this[_0x1a7ae9(0x6a3)](_0x4a3614);if(_0x1df1e3){let _0x7f73a4={'_id':_0x1df1e3[_0x1a7ae9(0x3fe)]['id'],'_fromMe':_0x1df1e3[_0x1a7ae9(0x3fe)][_0x1a7ae9(0x86f)],'_remoteJid':_0x1df1e3[_0x1a7ae9(0x3fe)][_0x1a7ae9(0x2c7)]},_0x338007=(0x0,w[_0x1a7ae9(0x705)])(_0x1df1e3[_0x1a7ae9(0x4a8)]),_0x305095=(0x0,w[_0x1a7ae9(0x4de)])(_0x338007);_0x431eba[_0x1a7ae9(0x7ae)][_0x1a7ae9(0x834)]=_0x23eccf[_0x1a7ae9(0x644)][_0x1a7ae9(0x929)]();let {message_normalized:_0x5e446b}=this[_0x1a7ae9(0x21c)](_0x338007,_0x305095,null);_0x431eba['chatLog'][_0x1a7ae9(0x47c)]=await _0x5e446b;let _0x3ba2ee={'messageId':_0x1df1e3[_0x1a7ae9(0x3fe)]['id']},_0x1892c3=_0x431eba[_0x1a7ae9(0x7ae)][_0x1a7ae9(0x29e)];Object['assign'](_0x1892c3,_0x7f73a4),_0x431eba[_0x1a7ae9(0x7ae)][_0x1a7ae9(0x29e)]=_0x1892c3,this[_0x1a7ae9(0x555)](_0x431eba,_0x23eccf,_0x3ba2ee);}else{let _0x29d481={'error':!0x0};this[_0x1a7ae9(0x555)](_0x431eba,_0x23eccf,_0x29d481),this['logger']['error'](this[_0x1a7ae9(0x86d)]+'\x20('+this['instance'][_0x1a7ae9(0x406)]+_0x1a7ae9(0x3de));}}catch(_0x470f51){let _0x1d1c1e={'error':!0x0,'errorLog':_0x470f51[_0x1a7ae9(0x929)]()};this[_0x1a7ae9(0x555)](_0x431eba,_0x23eccf,_0x1d1c1e),this[_0x1a7ae9(0x74f)][_0x1a7ae9(0x2fe)](this[_0x1a7ae9(0x86d)]+'\x20('+this['instance']['wuid']+_0x1a7ae9(0x2a5)+(_0x470f51 instanceof Error?_0x470f51[_0x1a7ae9(0x4a8)]:JSON[_0x1a7ae9(0x261)](_0x470f51,null,0x2)));}}async[a0_0x21bcc2(0x62c)](_0x4f8ac7,_0x422091){const _0xd485d0=a0_0x21bcc2;let _0x2c2e59=_0x4f8ac7[_0xd485d0(0x2c7)];_0x422091['uazapi'][_0xd485d0(0x2c7)]&&_0x422091[_0xd485d0(0x89a)][_0xd485d0(0x2c7)][_0xd485d0(0x57a)]()!==''&&(_0x2c2e59=_0x422091[_0xd485d0(0x89a)][_0xd485d0(0x2c7)][_0xd485d0(0x57a)]()),this[_0xd485d0(0x74f)]['verbose'](this['instanceName']+'\x20('+this[_0xd485d0(0x5cb)][_0xd485d0(0x406)]+'):\x20Enviando\x20mídia');let _0x6b9c58={'number':_0x2c2e59,'options':{'delay':_0x422091[_0xd485d0(0x89a)][_0xd485d0(0x505)],'linkPreview':_0x422091[_0xd485d0(0x89a)][_0xd485d0(0x2db)]},'mediaMessage':{'mediatype':_0x422091[_0xd485d0(0x89a)][_0xd485d0(0x5f0)],'caption':_0x422091[_0xd485d0(0x89a)]['caption'],'media':_0x422091[_0xd485d0(0x89a)][_0xd485d0(0x284)],'fileName':_0x422091[_0xd485d0(0x89a)][_0xd485d0(0x87f)]}};try{let _0x59b019=await this['mediaMessage'](_0x6b9c58);if(_0x59b019){let _0x2b48d3={'_id':_0x59b019['key']['id'],'_fromMe':_0x59b019[_0xd485d0(0x3fe)][_0xd485d0(0x86f)],'_remoteJid':_0x59b019[_0xd485d0(0x3fe)][_0xd485d0(0x2c7)]},_0x2cae2b=(0x0,w[_0xd485d0(0x705)])(_0x59b019[_0xd485d0(0x4a8)]),_0x1cb978=(0x0,w[_0xd485d0(0x4de)])(_0x2cae2b);_0x4f8ac7[_0xd485d0(0x7ae)][_0xd485d0(0x834)]=_0x422091['_id'][_0xd485d0(0x929)]();let {message_normalized:_0x4437e4}=this[_0xd485d0(0x21c)](_0x2cae2b,_0x1cb978,null);_0x4f8ac7['chatLog'][_0xd485d0(0x47c)]=await _0x4437e4;let _0x19ecc1={'messageId':_0x59b019[_0xd485d0(0x3fe)]['id']},_0x5135f5=_0x4f8ac7[_0xd485d0(0x7ae)]['realVariables'];Object[_0xd485d0(0x5a0)](_0x5135f5,_0x2b48d3),_0x4f8ac7[_0xd485d0(0x7ae)][_0xd485d0(0x29e)]=_0x5135f5,this[_0xd485d0(0x555)](_0x4f8ac7,_0x422091,_0x19ecc1);}else{let _0x1299a1={'error':!0x0};this['updateConversation'](_0x4f8ac7,_0x422091,_0x1299a1),this[_0xd485d0(0x74f)][_0xd485d0(0x2fe)](this[_0xd485d0(0x86d)]+'\x20('+this[_0xd485d0(0x5cb)][_0xd485d0(0x406)]+_0xd485d0(0x5f6));}}catch(_0x388c23){let _0xd1b70a={'error':!0x0,'errorLog':_0x388c23[_0xd485d0(0x929)]()};this[_0xd485d0(0x555)](_0x4f8ac7,_0x422091,_0xd1b70a),this['logger'][_0xd485d0(0x2fe)](this[_0xd485d0(0x86d)]+'\x20('+this[_0xd485d0(0x5cb)]['wuid']+_0xd485d0(0x904)+(_0x388c23 instanceof Error?_0x388c23[_0xd485d0(0x4a8)]:JSON['stringify'](_0x388c23,null,0x2)));}}async['uazapiSendLocation'](_0x570cf6,_0x1cb161){const _0x25f23f=a0_0x21bcc2;let _0x57dcc2=_0x570cf6[_0x25f23f(0x2c7)];_0x1cb161['uazapi'][_0x25f23f(0x2c7)]&&_0x1cb161[_0x25f23f(0x89a)][_0x25f23f(0x2c7)][_0x25f23f(0x57a)]()!==''&&(_0x57dcc2=_0x1cb161['uazapi'][_0x25f23f(0x2c7)][_0x25f23f(0x57a)]()),this[_0x25f23f(0x74f)][_0x25f23f(0x78f)](this[_0x25f23f(0x86d)]+'\x20('+this[_0x25f23f(0x5cb)]['wuid']+_0x25f23f(0x5f5));let _0x5dd9ff={'number':_0x57dcc2,'options':{'delay':_0x1cb161[_0x25f23f(0x89a)][_0x25f23f(0x505)]},'locationMessage':{'name':_0x1cb161[_0x25f23f(0x89a)][_0x25f23f(0x83e)],'address':_0x1cb161['uazapi'][_0x25f23f(0x817)],'latitude':_0x1cb161['uazapi'][_0x25f23f(0x905)],'longitude':_0x1cb161[_0x25f23f(0x89a)][_0x25f23f(0x4cb)]}};try{let _0x3e71f3=await this['locationMessage'](_0x5dd9ff);if(_0x3e71f3){let _0x366194={'_id':_0x3e71f3[_0x25f23f(0x3fe)]['id'],'_fromMe':_0x3e71f3[_0x25f23f(0x3fe)][_0x25f23f(0x86f)],'_remoteJid':_0x3e71f3['key'][_0x25f23f(0x2c7)]},_0x51a6d2=(0x0,w['normalizeMessageContent'])(_0x3e71f3[_0x25f23f(0x4a8)]),_0x57f8c9=(0x0,w['getContentType'])(_0x51a6d2);_0x570cf6[_0x25f23f(0x7ae)][_0x25f23f(0x834)]=_0x1cb161[_0x25f23f(0x644)][_0x25f23f(0x929)]();let {message_normalized:_0x148649}=this['normalizeMessage'](_0x51a6d2,_0x57f8c9,null);_0x570cf6['chatLog'][_0x25f23f(0x47c)]=await _0x148649;let _0x1e1149={'messageId':_0x3e71f3[_0x25f23f(0x3fe)]['id']},_0x41d093=_0x570cf6[_0x25f23f(0x7ae)][_0x25f23f(0x29e)];Object['assign'](_0x41d093,_0x366194),_0x570cf6[_0x25f23f(0x7ae)][_0x25f23f(0x29e)]=_0x41d093,this[_0x25f23f(0x555)](_0x570cf6,_0x1cb161,_0x1e1149);}else{let _0x7dc68e={'error':!0x0};this[_0x25f23f(0x555)](_0x570cf6,_0x1cb161,_0x7dc68e),this[_0x25f23f(0x74f)][_0x25f23f(0x2fe)](this[_0x25f23f(0x86d)]+'\x20('+this[_0x25f23f(0x5cb)][_0x25f23f(0x406)]+_0x25f23f(0x7d6));}}catch(_0x5b7c81){let _0x5a05b6={'error':!0x0,'errorLog':_0x5b7c81[_0x25f23f(0x929)]()};this['updateConversation'](_0x570cf6,_0x1cb161,_0x5a05b6),this[_0x25f23f(0x74f)][_0x25f23f(0x2fe)](this['instanceName']+'\x20('+this[_0x25f23f(0x5cb)]['wuid']+_0x25f23f(0x268)+(_0x5b7c81 instanceof Error?_0x5b7c81[_0x25f23f(0x4a8)]:JSON[_0x25f23f(0x261)](_0x5b7c81,null,0x2)));}}async[a0_0x21bcc2(0x6b0)](_0x252335,_0x694c98){const _0x15455=a0_0x21bcc2;let _0x236813=_0x252335[_0x15455(0x2c7)];_0x694c98[_0x15455(0x89a)][_0x15455(0x2c7)]&&_0x694c98['uazapi'][_0x15455(0x2c7)]['trim']()!==''&&(_0x236813=_0x694c98[_0x15455(0x89a)][_0x15455(0x2c7)]['trim']()),this['logger'][_0x15455(0x78f)](this['instanceName']+'\x20('+this[_0x15455(0x5cb)][_0x15455(0x406)]+_0x15455(0x77c));let _0x3c55d5={'number':_0x236813,'options':{'delay':_0x694c98[_0x15455(0x89a)][_0x15455(0x505)]},'audioMessage':{'audio':_0x694c98[_0x15455(0x89a)][_0x15455(0x571)]}};try{let _0x1bbbc5=await this[_0x15455(0x86e)](_0x3c55d5);if(_0x1bbbc5){let _0xc8178b={'_id':_0x1bbbc5['key']['id'],'_fromMe':_0x1bbbc5[_0x15455(0x3fe)][_0x15455(0x86f)],'_remoteJid':_0x1bbbc5['key'][_0x15455(0x2c7)]},_0x5c69f1=(0x0,w[_0x15455(0x705)])(_0x1bbbc5[_0x15455(0x4a8)]),_0x4dd45c=(0x0,w[_0x15455(0x4de)])(_0x5c69f1);_0x252335[_0x15455(0x7ae)]['lastBlockId']=_0x694c98[_0x15455(0x644)]['toString']();let {message_normalized:_0x399926}=this[_0x15455(0x21c)](_0x5c69f1,_0x4dd45c,null);_0x252335[_0x15455(0x7ae)][_0x15455(0x47c)]=await _0x399926;let _0x28b6bd={'messageId':_0x1bbbc5['key']['id']},_0x6e1532=_0x252335[_0x15455(0x7ae)][_0x15455(0x29e)];Object[_0x15455(0x5a0)](_0x6e1532,_0xc8178b),_0x252335[_0x15455(0x7ae)][_0x15455(0x29e)]=_0x6e1532,this[_0x15455(0x555)](_0x252335,_0x694c98,_0x28b6bd);}else{let _0x383bb4={'error':!0x0};this[_0x15455(0x555)](_0x252335,_0x694c98,_0x383bb4),this[_0x15455(0x74f)]['error'](this[_0x15455(0x86d)]+'\x20('+this[_0x15455(0x5cb)][_0x15455(0x406)]+_0x15455(0x3d3));}}catch(_0x355be2){let _0x289d8b={'error':!0x0,'errorLog':_0x355be2[_0x15455(0x929)]()};this[_0x15455(0x555)](_0x252335,_0x694c98,_0x289d8b),this[_0x15455(0x74f)]['error'](this[_0x15455(0x86d)]+'\x20('+this[_0x15455(0x5cb)][_0x15455(0x406)]+_0x15455(0x665)+(_0x355be2 instanceof Error?_0x355be2[_0x15455(0x4a8)]:JSON[_0x15455(0x261)](_0x355be2,null,0x2)));}}async[a0_0x21bcc2(0x641)](_0x5d6f69,_0x20528f){const _0x6b7fa0=a0_0x21bcc2;let _0x4d31c4=_0x5d6f69[_0x6b7fa0(0x2c7)];_0x20528f[_0x6b7fa0(0x89a)][_0x6b7fa0(0x2c7)]&&_0x20528f[_0x6b7fa0(0x89a)]['remoteJid'][_0x6b7fa0(0x57a)]()!==''&&(_0x4d31c4=_0x20528f[_0x6b7fa0(0x89a)]['remoteJid'][_0x6b7fa0(0x57a)]()),this[_0x6b7fa0(0x74f)][_0x6b7fa0(0x78f)](this['instanceName']+'\x20('+this['instance'][_0x6b7fa0(0x406)]+'):\x20Enviando\x20contato');let _0x11a323={'number':_0x4d31c4,'options':{'delay':_0x20528f[_0x6b7fa0(0x89a)][_0x6b7fa0(0x505)]},'contactMessage':[{'fullName':_0x20528f[_0x6b7fa0(0x89a)][_0x6b7fa0(0x280)],'phoneNumber':_0x20528f[_0x6b7fa0(0x89a)][_0x6b7fa0(0x367)]}]};try{let _0x34ea46=await this[_0x6b7fa0(0x29d)](_0x11a323);if(_0x34ea46){let _0x22a395={'_id':_0x34ea46[_0x6b7fa0(0x3fe)]['id'],'_fromMe':_0x34ea46['key']['fromMe'],'_remoteJid':_0x34ea46[_0x6b7fa0(0x3fe)][_0x6b7fa0(0x2c7)]},_0x54d9aa=(0x0,w['normalizeMessageContent'])(_0x34ea46[_0x6b7fa0(0x4a8)]),_0x32be70=(0x0,w['getContentType'])(_0x54d9aa);_0x5d6f69[_0x6b7fa0(0x7ae)][_0x6b7fa0(0x834)]=_0x20528f['_id']['toString']();let {message_normalized:_0x33ef79}=this[_0x6b7fa0(0x21c)](_0x54d9aa,_0x32be70,null);_0x5d6f69[_0x6b7fa0(0x7ae)]['lastSendMessage']=await _0x33ef79;let _0x26ffb5={'messageId':_0x34ea46[_0x6b7fa0(0x3fe)]['id']},_0x249b94=_0x5d6f69['chatLog'][_0x6b7fa0(0x29e)];Object[_0x6b7fa0(0x5a0)](_0x249b94,_0x22a395),_0x5d6f69['chatLog'][_0x6b7fa0(0x29e)]=_0x249b94,this[_0x6b7fa0(0x555)](_0x5d6f69,_0x20528f,_0x26ffb5);}else{let _0x35536c={'error':!0x0};this[_0x6b7fa0(0x555)](_0x5d6f69,_0x20528f,_0x35536c),this[_0x6b7fa0(0x74f)][_0x6b7fa0(0x2fe)](this['instanceName']+'\x20('+this[_0x6b7fa0(0x5cb)]['wuid']+_0x6b7fa0(0x338));}}catch(_0x2fe8c7){let _0x1f8bab={'error':!0x0,'errorLog':_0x2fe8c7[_0x6b7fa0(0x929)]()};this['updateConversation'](_0x5d6f69,_0x20528f,_0x1f8bab),this[_0x6b7fa0(0x74f)][_0x6b7fa0(0x2fe)](this[_0x6b7fa0(0x86d)]+'\x20('+this[_0x6b7fa0(0x5cb)][_0x6b7fa0(0x406)]+_0x6b7fa0(0x5e3)+(_0x2fe8c7 instanceof Error?_0x2fe8c7['message']:JSON[_0x6b7fa0(0x261)](_0x2fe8c7,null,0x2)));}}[a0_0x21bcc2(0x7d8)](_0x7074ad,_0x26139a){const _0x3645a7=a0_0x21bcc2;for(let _0x4c4ff9 of _0x7074ad)_0x4c4ff9['option']&&(_0x4c4ff9[_0x3645a7(0x3cd)]=this[_0x3645a7(0x4e0)](_0x4c4ff9[_0x3645a7(0x3cd)],_0x26139a)),_0x4c4ff9['optionDescription']&&(_0x4c4ff9[_0x3645a7(0x206)]=this[_0x3645a7(0x4e0)](_0x4c4ff9[_0x3645a7(0x206)],_0x26139a));}async[a0_0x21bcc2(0x5fb)](_0x16fade,_0x1142f0){const _0x51f7c1=a0_0x21bcc2;let _0x2f7168=_0x16fade[_0x51f7c1(0x2c7)];_0x1142f0['uazapi']['remoteJid']&&_0x1142f0[_0x51f7c1(0x89a)][_0x51f7c1(0x2c7)][_0x51f7c1(0x57a)]()!==''&&(_0x2f7168=_0x1142f0[_0x51f7c1(0x89a)]['remoteJid'][_0x51f7c1(0x57a)]()),this[_0x51f7c1(0x74f)][_0x51f7c1(0x78f)](this[_0x51f7c1(0x86d)]+'\x20('+this[_0x51f7c1(0x5cb)]['wuid']+'):\x20Enviando\x20enquete');let _0x129caa=_0x16fade['replyOptions']['filter'](_0x203eef=>_0x203eef['blockId']===_0x1142f0[_0x51f7c1(0x644)])['sort']((_0x533f85,_0x5d2f1e)=>_0x533f85['order']-_0x5d2f1e[_0x51f7c1(0x323)]);this[_0x51f7c1(0x7d8)](_0x129caa,_0x16fade['chatLog'][_0x51f7c1(0x29e)]);let _0x4beb0f=_0x129caa['map'](_0x141c9e=>_0x141c9e[_0x51f7c1(0x3cd)]),_0x148c55={'number':_0x2f7168,'menuMessage':{'type':_0x1142f0[_0x51f7c1(0x89a)]['menuType']||'poll','text':_0x1142f0[_0x51f7c1(0x89a)][_0x51f7c1(0x839)]||_0x1142f0[_0x51f7c1(0x89a)][_0x51f7c1(0x83e)],'footerText':_0x1142f0[_0x51f7c1(0x89a)]['footerText'],'buttonText':_0x1142f0['uazapi'][_0x51f7c1(0x6ce)],'selectableCount':0x1,'choices':_0x4beb0f},'options':{'delay':_0x1142f0[_0x51f7c1(0x89a)][_0x51f7c1(0x505)]}};try{let _0x468ec8=await this[_0x51f7c1(0x3b7)](_0x148c55);if(_0x468ec8){let _0x39ef2f={'_id':_0x468ec8[_0x51f7c1(0x3fe)]['id'],'_fromMe':_0x468ec8[_0x51f7c1(0x3fe)]['fromMe'],'_remoteJid':_0x468ec8['key'][_0x51f7c1(0x2c7)]};_0x1142f0['uazapi']['menuIgnoreNonVotes']===!0x0&&(_0x16fade[_0x51f7c1(0x41a)]=_0x51f7c1(0x6cf),this[_0x51f7c1(0x74f)][_0x51f7c1(0x78f)](this['instanceName']+'\x20('+this[_0x51f7c1(0x5cb)][_0x51f7c1(0x406)]+_0x51f7c1(0x530)+_0x16fade[_0x51f7c1(0x41a)])),this[_0x51f7c1(0x74f)][_0x51f7c1(0x78f)](this[_0x51f7c1(0x86d)]+'\x20('+this['instance'][_0x51f7c1(0x406)]+'):\x20nextBlock.uazapi.name'+(_0x1142f0['uazapi'][_0x51f7c1(0x83e)]||_0x1142f0['uazapi'][_0x51f7c1(0x839)])),_0x16fade[_0x51f7c1(0x909)]=_0x468ec8['key']['id'],_0x16fade[_0x51f7c1(0x822)]=_0x1142f0[_0x51f7c1(0x89a)][_0x51f7c1(0x83e)]||_0x1142f0[_0x51f7c1(0x89a)][_0x51f7c1(0x839)],_0x16fade[_0x51f7c1(0x3a4)]=_0x129caa,_0x1142f0[_0x51f7c1(0x89a)][_0x51f7c1(0x3cf)]&&(_0x16fade['waitingMenu_ExpiredMessage']=_0x1142f0[_0x51f7c1(0x89a)]['menuExpiredMessage']),this[_0x51f7c1(0x74f)][_0x51f7c1(0x78f)](this[_0x51f7c1(0x86d)]+'\x20('+this[_0x51f7c1(0x5cb)][_0x51f7c1(0x406)]+_0x51f7c1(0x592)+_0x16fade[_0x51f7c1(0x822)]);let _0xbf94ae=(0x0,w[_0x51f7c1(0x705)])(_0x468ec8[_0x51f7c1(0x4a8)]),_0x42cf83=(0x0,w[_0x51f7c1(0x4de)])(_0xbf94ae);_0x16fade['chatLog'][_0x51f7c1(0x834)]=_0x1142f0[_0x51f7c1(0x644)]['toString']();let {message_normalized:_0x3c485f}=this[_0x51f7c1(0x21c)](_0xbf94ae,_0x42cf83,null);_0x16fade[_0x51f7c1(0x7ae)][_0x51f7c1(0x47c)]=await _0x3c485f;let _0x4e5fd2={'messageId':_0x468ec8[_0x51f7c1(0x3fe)]['id']},_0x2449ea=_0x16fade[_0x51f7c1(0x7ae)][_0x51f7c1(0x29e)];Object[_0x51f7c1(0x5a0)](_0x2449ea,_0x39ef2f),_0x16fade[_0x51f7c1(0x7ae)]['realVariables']=_0x2449ea,this['updateConversation'](_0x16fade,_0x1142f0,_0x4e5fd2);}else{let _0x172fa5={'error':!0x0};this['updateConversation'](_0x16fade,_0x1142f0,_0x172fa5),this[_0x51f7c1(0x74f)][_0x51f7c1(0x2fe)](this[_0x51f7c1(0x86d)]+'\x20('+this[_0x51f7c1(0x5cb)][_0x51f7c1(0x406)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x5b1337){let _0x325afa={'error':!0x0,'errorLog':_0x5b1337 instanceof Error?_0x5b1337[_0x51f7c1(0x4a8)]:JSON[_0x51f7c1(0x261)](_0x5b1337,null,0x2)};this[_0x51f7c1(0x555)](_0x16fade,_0x1142f0,_0x325afa),this[_0x51f7c1(0x74f)]['error'](this[_0x51f7c1(0x86d)]+'\x20('+this[_0x51f7c1(0x5cb)]['wuid']+_0x51f7c1(0x4a6)+(_0x5b1337 instanceof Error?_0x5b1337[_0x51f7c1(0x4a8)]:JSON[_0x51f7c1(0x261)](_0x5b1337,null,0x2)));}}async[a0_0x21bcc2(0x298)](_0x2c3bc9,_0x58f1e5){const _0x47e55f=a0_0x21bcc2;this[_0x47e55f(0x74f)]['verbose'](this['instanceName']+'\x20('+this[_0x47e55f(0x5cb)][_0x47e55f(0x406)]+_0x47e55f(0x74e));let _0x16fa88=_0x2c3bc9['chatLog']['blockLogs'][_0x47e55f(0x68c)](_0x22a78d=>_0x22a78d[_0x47e55f(0x5ee)][_0x47e55f(0x929)]()===_0x58f1e5[_0x47e55f(0x89a)][_0x47e55f(0x5ee)][_0x47e55f(0x929)]()),_0x592da2={'id':_0x16fa88['messageId'],'remoteJid':_0x16fa88[_0x47e55f(0x2c7)],'fromMe':_0x16fa88[_0x47e55f(0x86f)]};try{let _0x368f00=await this[_0x47e55f(0x798)](_0x592da2);if(_0x368f00){let _0x1a8835=(0x0,w[_0x47e55f(0x705)])(_0x368f00['message']),_0x479fb7=(0x0,w['getContentType'])(_0x1a8835);_0x2c3bc9[_0x47e55f(0x7ae)][_0x47e55f(0x834)]=_0x58f1e5[_0x47e55f(0x644)][_0x47e55f(0x929)]();let {message_normalized:_0x544d59}=this['normalizeMessage'](_0x1a8835,_0x479fb7,null);_0x2c3bc9[_0x47e55f(0x7ae)][_0x47e55f(0x47c)]=await _0x544d59;let _0x5866b3={};this[_0x47e55f(0x555)](_0x2c3bc9,_0x58f1e5,_0x5866b3);}else{let _0x302567={'error':!0x0};this['updateConversation'](_0x2c3bc9,_0x58f1e5,_0x302567),this[_0x47e55f(0x74f)]['error'](this['instanceName']+'\x20('+this[_0x47e55f(0x5cb)]['wuid']+_0x47e55f(0x3be));}}catch(_0x4948c2){let _0x38de53={'error':!0x0,'errorLog':_0x4948c2 instanceof Error?_0x4948c2[_0x47e55f(0x4a8)]:JSON[_0x47e55f(0x261)](_0x4948c2,null,0x2)};this[_0x47e55f(0x555)](_0x2c3bc9,_0x58f1e5,_0x38de53),this[_0x47e55f(0x74f)]['error'](this[_0x47e55f(0x86d)]+'\x20('+this['instance'][_0x47e55f(0x406)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x4948c2 instanceof Error?_0x4948c2[_0x47e55f(0x4a8)]:JSON[_0x47e55f(0x261)](_0x4948c2,null,0x2)));}}async[a0_0x21bcc2(0x5f7)](_0x16a2d3,_0x532489){const _0x2c1124=a0_0x21bcc2;if(_0x16a2d3[_0x2c1124(0x83e)]||(_0x16a2d3['name']=(0x0,X['v4'])()),_0x532489!==Ii&&_0x16a2d3?.[_0x2c1124(0x48e)])throw new m(_0x2c1124(0x232));if(_0x2c1124(0x644)in _0x16a2d3&&_0x2c1124(0x856)in _0x16a2d3)return this['AddUserFlow'](_0x16a2d3[_0x2c1124(0x856)],_0x16a2d3['_id']);this['logger']['verbose'](this[_0x2c1124(0x86d)]+'\x20('+this[_0x2c1124(0x5cb)]['wuid']+_0x2c1124(0x7a7));let _0x27eda6=this['getUniqueFlowName'](_0x16a2d3['name']),_0x1c48cc=new fe[(_0x2c1124(0x4e9))]['ObjectId'](),_0x126e61={'_id':_0x1c48cc,'default':!0x0,'title':_0x2c1124(0x2d2),'x':0x0,'y':0x0},_0x19b837={'_id':new fe[(_0x2c1124(0x4e9))][(_0x2c1124(0x414))](),'order':0x1,'groupId':_0x1c48cc[_0x2c1124(0x929)](),'type':'start'},_0x244cd3=this[_0x2c1124(0x5cb)][_0x2c1124(0x406)],_0x2bf8ed={'_id':(0x0,X['v4'])(),'owner':_0x244cd3,'name':_0x27eda6,'whoCanEdit':[_0x244cd3],'whoCanUse':[_0x244cd3],'groups':[_0x126e61],'blocks':[_0x19b837],..._0x16a2d3};try{let _0x504857=await this['repository'][_0x2c1124(0x3f5)][_0x2c1124(0x213)](_0x2bf8ed);return await this['synchronizeAndMapFlows'](),_0x504857;}catch(_0x5af9b8){let _0x4cf7b0='Erro\x20ao\x20criar\x20fluxo',_0x808c82=_0x5af9b8 instanceof Error?_0x5af9b8[_0x2c1124(0x4a8)]:typeof _0x5af9b8==_0x2c1124(0x82b)?JSON[_0x2c1124(0x261)](_0x5af9b8):_0x5af9b8,_0x122cbb=_0x4cf7b0+':\x20'+_0x808c82;throw this[_0x2c1124(0x74f)]['error'](this['instanceName']+'\x20('+this[_0x2c1124(0x5cb)][_0x2c1124(0x406)]+_0x2c1124(0x5cc)+_0x122cbb),new m(_0x122cbb);}}async[a0_0x21bcc2(0x20a)](_0x1a9304,_0x358c2b){const _0x492bef=a0_0x21bcc2;try{this[_0x492bef(0x74f)][_0x492bef(0x78f)](this[_0x492bef(0x86d)]+'\x20('+this[_0x492bef(0x5cb)]['wuid']+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x23e021=await this['repository'][_0x492bef(0x3f5)][_0x492bef(0x7db)]({'where':{'_id':_0x358c2b,'owner':_0x1a9304}});if(!_0x23e021)throw new m(_0x492bef(0x52f));if(_0x23e021[_0x492bef(0x81d)]===!0x1&&!_0x23e021[_0x492bef(0x48e)])throw new m('Esse\x20fluxo\x20não\x20permite\x20importação.');let _0x33279d=new Set(_0x23e021[_0x492bef(0x5d3)]??[]);_0x33279d[_0x492bef(0x65e)](this['instance'][_0x492bef(0x406)]);let _0x3e302a=await this[_0x492bef(0x5bb)][_0x492bef(0x3f5)][_0x492bef(0x4f3)](_0x358c2b,{..._0x23e021,'whoCanUse':Array[_0x492bef(0x769)](_0x33279d)});return await this[_0x492bef(0x1fe)](),_0x3e302a;}catch(_0x1fd043){let _0x449672='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x1e4c43=_0x1fd043 instanceof Error?_0x1fd043[_0x492bef(0x4a8)]:typeof _0x1fd043==_0x492bef(0x82b)?JSON[_0x492bef(0x261)](_0x1fd043):_0x1fd043,_0x3b4bd6=_0x449672+':\x20'+_0x1e4c43;throw this[_0x492bef(0x74f)][_0x492bef(0x2fe)](this[_0x492bef(0x86d)]+'\x20('+this[_0x492bef(0x5cb)]['wuid']+'):\x20'+_0x3b4bd6),new m(_0x3b4bd6);}}[a0_0x21bcc2(0x362)](_0x52202a){const _0xfbdb68=a0_0x21bcc2;let _0x38e6af=_0x52202a,_0x5e58ec=0x1;for(;this[_0xfbdb68(0x246)][_0xfbdb68(0x291)]['some'](_0x456af3=>_0x456af3[_0xfbdb68(0x83e)]===_0x38e6af);)_0x5e58ec++,_0x38e6af=_0x52202a+'\x20('+_0x5e58ec+')';return _0x38e6af;}async['deleteFlow'](_0x35e578){const _0x11c19a=a0_0x21bcc2;try{if(this['logger'][_0x11c19a(0x78f)](this[_0x11c19a(0x86d)]+'\x20('+this[_0x11c19a(0x5cb)]['wuid']+_0x11c19a(0x662)+_0x35e578[_0x11c19a(0x644)]+_0x11c19a(0x4c8)+_0x35e578[_0x11c19a(0x2e0)]),!this[_0x11c19a(0x246)]['flows'][_0x11c19a(0x68c)](_0x55fd86=>_0x55fd86[_0x11c19a(0x644)]===_0x35e578[_0x11c19a(0x644)]))throw this[_0x11c19a(0x74f)]['verbose'](this[_0x11c19a(0x86d)]+'\x20('+this[_0x11c19a(0x5cb)]['wuid']+_0x11c19a(0x7f2)+_0x35e578[_0x11c19a(0x644)]+_0x11c19a(0x542)),new m(_0x11c19a(0x5c5));let _0x3f4437=await this[_0x11c19a(0x5bb)][_0x11c19a(0x3f5)][_0x11c19a(0x7db)]({'where':{'_id':_0x35e578['_id']}});if(!_0x3f4437)throw new m('Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(this[_0x11c19a(0x5cb)][_0x11c19a(0x406)]===_0x3f4437[_0x11c19a(0x856)]){this['logger'][_0x11c19a(0x78f)](this[_0x11c19a(0x86d)]+'\x20('+this['instance'][_0x11c19a(0x406)]+'):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27'+_0x35e578[_0x11c19a(0x644)]+_0x11c19a(0x60a));let _0x2809da=await this[_0x11c19a(0x5bb)][_0x11c19a(0x3f5)]['deleteOne']({'where':{'_id':_0x35e578['_id']}});return await this['synchronizeAndMapFlows'](),_0x2809da;}return this['logger'][_0x11c19a(0x78f)](this[_0x11c19a(0x86d)]+'\x20('+this[_0x11c19a(0x5cb)][_0x11c19a(0x406)]+'):\x20Removendo\x20\x27'+this[_0x11c19a(0x5cb)][_0x11c19a(0x406)]+_0x11c19a(0x38a)+_0x35e578['_id']+'\x27...'),_0x3f4437['whoCanUse']=(_0x3f4437[_0x11c19a(0x5d3)]??[])['filter'](_0x93ef05=>_0x93ef05!==this[_0x11c19a(0x5cb)][_0x11c19a(0x406)]),_0x3f4437[_0x11c19a(0x437)]=(_0x3f4437[_0x11c19a(0x437)]??[])['filter'](_0x26eaf0=>_0x26eaf0!==this['instance'][_0x11c19a(0x406)]),_0x3f4437[_0x11c19a(0x437)]['length']===0x0&&_0x3f4437[_0x11c19a(0x5d3)][_0x11c19a(0x7be)]>0x0&&(_0x3f4437[_0x11c19a(0x437)][_0x11c19a(0x2ea)](_0x3f4437['whoCanUse'][0x0]),this[_0x11c19a(0x74f)][_0x11c19a(0x78f)](this[_0x11c19a(0x86d)]+'\x20('+this[_0x11c19a(0x5cb)][_0x11c19a(0x406)]+_0x11c19a(0x61e)+_0x3f4437[_0x11c19a(0x5d3)][0x0]+_0x11c19a(0x477)+_0x35e578[_0x11c19a(0x644)]+_0x11c19a(0x2c1))),await this[_0x11c19a(0x5bb)][_0x11c19a(0x3f5)]['updateOne'](_0x3f4437[_0x11c19a(0x644)],_0x3f4437),await this['synchronizeAndMapFlows'](),{'message':_0x11c19a(0x741)+_0x35e578[_0x11c19a(0x83e)]+_0x11c19a(0x2aa)};}catch(_0x34beec){return this[_0x11c19a(0x74f)]['error'](this[_0x11c19a(0x86d)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x34beec instanceof Error?_0x34beec[_0x11c19a(0x4a8)]:JSON[_0x11c19a(0x261)](_0x34beec,null,0x2))),{'message':_0x11c19a(0x539)+(_0x34beec instanceof Error?_0x34beec[_0x11c19a(0x4a8)]:JSON[_0x11c19a(0x261)](_0x34beec,null,0x2))};}}async[a0_0x21bcc2(0x4fb)](_0x239630){const _0xc61c20=a0_0x21bcc2;try{if(this[_0xc61c20(0x74f)][_0xc61c20(0x768)](this[_0xc61c20(0x86d)]+'\x20('+this[_0xc61c20(0x5cb)][_0xc61c20(0x406)]+_0xc61c20(0x2b4)+_0x239630),!this[_0xc61c20(0x246)]&&(await this[_0xc61c20(0x27c)](),!this[_0xc61c20(0x246)]))return null;let _0x355bad=await this[_0xc61c20(0x5bb)]['flow'][_0xc61c20(0x7db)]({'where':{'_id':_0x239630}});if(!_0x355bad)throw new m(_0xc61c20(0x28d)+_0x239630+_0xc61c20(0x237));if(!(_0x355bad[_0xc61c20(0x48e)]||_0x355bad[_0xc61c20(0x5d3)]?.['includes'](this[_0xc61c20(0x5cb)][_0xc61c20(0x406)])))throw new m(_0xc61c20(0x214)+name+'\x27');_0x355bad['globalShow']&&!_0x355bad['whoCanUse']?.[_0xc61c20(0x587)](this[_0xc61c20(0x5cb)][_0xc61c20(0x406)])&&(_0x355bad[_0xc61c20(0x5d3)]=[..._0x355bad[_0xc61c20(0x5d3)]??[],this[_0xc61c20(0x5cb)][_0xc61c20(0x406)]],await this[_0xc61c20(0x5bb)][_0xc61c20(0x3f5)][_0xc61c20(0x4f3)](_0x355bad['_id'],_0x355bad),this[_0xc61c20(0x1fe)]());let _0x5b59e6=this[_0xc61c20(0x246)]?.[_0xc61c20(0x302)][_0xc61c20(0x867)](_0x561b99=>_0x561b99['name']),_0x2fe2d2=[_0xc61c20(0x48d),_0xc61c20(0x73e),_0xc61c20(0x82d),_0xc61c20(0x648),_0xc61c20(0x41a),_0xc61c20(0x2fb),_0xc61c20(0x447),_0xc61c20(0x771),_0xc61c20(0x1fd),_0xc61c20(0x809),_0xc61c20(0x847)];_0x355bad[_0xc61c20(0x75e)]=_0x355bad['variables']['filter'](_0x12b4c7=>!(_0x12b4c7[_0xc61c20(0x35e)]===_0xc61c20(0x4e7)||_0x12b4c7[_0xc61c20(0x4e7)])),_0x2fe2d2['forEach'](_0x42e913=>{const _0x367fbc=_0xc61c20;_0x355bad[_0x367fbc(0x75e)][_0x367fbc(0x2ea)]({'folder':_0x367fbc(0x4e7),'name':_0x42e913,'value':'','doc':'','leadInfo':!0x0});}),_0x5b59e6[_0xc61c20(0x653)](_0x28d5fb=>{const _0x2d8040=_0xc61c20;let _0x186194=_0x355bad['variables'][_0x2d8040(0x785)](_0x3284b3=>_0x3284b3[_0x2d8040(0x83e)]===_0x28d5fb);_0x186194===-0x1?_0x355bad[_0x2d8040(0x75e)]['push']({'folder':'leadInfo','name':_0x28d5fb,'value':'','doc':'','leadInfo':!0x0}):(_0x355bad['variables'][_0x186194][_0x2d8040(0x35e)]=_0x2d8040(0x4e7),_0x355bad[_0x2d8040(0x75e)][_0x186194][_0x2d8040(0x4e7)]=!0x0);}),_0x355bad[_0xc61c20(0x561)]&&_0x355bad[_0xc61c20(0x561)][_0xc61c20(0x7be)]>0x0&&_0x355bad[_0xc61c20(0x561)][_0xc61c20(0x653)](_0x1522a0=>{const _0x2fc665=_0xc61c20;_0x1522a0[_0x2fc665(0x400)]&&_0x1522a0[_0x2fc665(0x6ba)]&&_0x1522a0[_0x2fc665(0x400)]===_0x1522a0[_0x2fc665(0x6ba)]&&(_0x1522a0[_0x2fc665(0x6ba)]=null);});let _0x48e957=await this[_0xc61c20(0x5bb)][_0xc61c20(0x3f5)]['updateOne'](_0x355bad[_0xc61c20(0x644)],_0x355bad);if(!_0x48e957)throw new Error(_0xc61c20(0x31a));return _0x48e957;}catch(_0x121819){let _0x15f2f6=_0xc61c20(0x463),_0x5e4543=_0x121819 instanceof Error?_0x121819[_0xc61c20(0x4a8)]:typeof _0x121819==_0xc61c20(0x82b)?JSON[_0xc61c20(0x261)](_0x121819):_0x121819,_0x1a3868=_0x15f2f6+':\x20'+_0x5e4543;throw this[_0xc61c20(0x74f)][_0xc61c20(0x2fe)](this['instanceName']+'\x20('+this['instance'][_0xc61c20(0x406)]+'):\x20'+_0x1a3868),new m(_0x1a3868);}}async[a0_0x21bcc2(0x899)](){const _0x2f9d10=a0_0x21bcc2;try{this[_0x2f9d10(0x74f)][_0x2f9d10(0x78f)](this[_0x2f9d10(0x86d)]+'\x20('+this[_0x2f9d10(0x5cb)][_0x2f9d10(0x406)]+_0x2f9d10(0x5dc)),await this[_0x2f9d10(0x1fe)]();let _0x2a3b00=await this['repository'][_0x2f9d10(0x3f5)]['findAll']({'where':{'globalShow':!0x0}});return[...this['AutomateSystem']['flows'],..._0x2a3b00];}catch(_0x20a869){return this[_0x2f9d10(0x74f)][_0x2f9d10(0x2fe)](this[_0x2f9d10(0x86d)]+'\x20('+this['instance'][_0x2f9d10(0x406)]+_0x2f9d10(0x65c)+(_0x20a869 instanceof Error?_0x20a869[_0x2f9d10(0x4a8)]:JSON[_0x2f9d10(0x261)](_0x20a869,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+(_0x20a869 instanceof Error?_0x20a869[_0x2f9d10(0x4a8)]:String(_0x20a869))};}}async[a0_0x21bcc2(0x3bc)](_0x53b14a,_0x11ff5d){const _0x40441e=a0_0x21bcc2;try{this[_0x40441e(0x74f)][_0x40441e(0x78f)](this[_0x40441e(0x86d)]+'\x20('+this['instance'][_0x40441e(0x406)]+'):\x20Alterando\x20fluxo...');let _0x400497=this['AutomateSystem'][_0x40441e(0x291)][_0x40441e(0x68c)](_0x245eac=>_0x245eac[_0x40441e(0x644)]===_0x53b14a[_0x40441e(0x644)]);if(!_0x400497)throw this[_0x40441e(0x74f)][_0x40441e(0x78f)](this['instanceName']+'\x20('+this[_0x40441e(0x5cb)][_0x40441e(0x406)]+'):\x20Fluxo\x20\x27'+_0x53b14a[_0x40441e(0x644)]+_0x40441e(0x542)),new m(_0x40441e(0x5c5));let _0x2ae5c9=await this[_0x40441e(0x5bb)][_0x40441e(0x3f5)]['findOne']({'where':{'_id':_0x53b14a[_0x40441e(0x644)]}});if(!_0x2ae5c9||!_0x2ae5c9[_0x40441e(0x5d3)]?.[_0x40441e(0x587)](this['instance']['wuid']))throw this[_0x40441e(0x74f)]['error'](this[_0x40441e(0x86d)]+'\x20('+this[_0x40441e(0x5cb)][_0x40441e(0x406)]+_0x40441e(0x3a2)+_0x53b14a[_0x40441e(0x644)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x40441e(0x2bc)+_0x53b14a[_0x40441e(0x644)]+_0x40441e(0x716));let _0x1f5320=this[_0x40441e(0x246)]['flows'][_0x40441e(0x785)](_0x1e3284=>_0x1e3284[_0x40441e(0x644)]===_0x400497[_0x40441e(0x644)]);if(_0x1f5320!==-0x1){let _0x33b860=this[_0x40441e(0x246)][_0x40441e(0x291)][_0x1f5320];if(_0x33b860[_0x40441e(0x83e)]=_0x53b14a[_0x40441e(0x83e)]??_0x33b860['name'],_0x33b860[_0x40441e(0x7ac)]=_0x53b14a[_0x40441e(0x7ac)]??_0x33b860['default'],_0x33b860[_0x40441e(0x219)]=_0x53b14a[_0x40441e(0x219)]??_0x33b860[_0x40441e(0x219)],_0x33b860[_0x40441e(0x315)]=_0x53b14a[_0x40441e(0x520)]??_0x33b860[_0x40441e(0x315)],_0x33b860[_0x40441e(0x781)]=_0x53b14a[_0x40441e(0x781)]??_0x33b860['minutesToClose'],_0x33b860[_0x40441e(0x75a)]=_0x53b14a['readMessages']??_0x33b860[_0x40441e(0x75a)],_0x53b14a['default']&&this[_0x40441e(0x246)][_0x40441e(0x291)][_0x40441e(0x653)]((_0xc01bcc,_0x2474bb)=>{_0x2474bb!==_0x1f5320&&(_0xc01bcc['default']=!0x1);}),this[_0x40441e(0x246)][_0x40441e(0x291)][_0x1f5320]=_0x33b860,!await this[_0x40441e(0x5bb)][_0x40441e(0x26a)][_0x40441e(0x7ed)]({'flows':this['AutomateSystem'][_0x40441e(0x291)]},this['instance']['wuid']))throw new m(_0x40441e(0x238));}let _0x4a595b=['global',_0x40441e(0x87a),_0x40441e(0x532),'shareOwners'];for(let _0x32964f of _0x4a595b)delete _0x53b14a[_0x32964f];if(_0x2ae5c9[_0x40441e(0x437)]?.[_0x40441e(0x587)](this[_0x40441e(0x5cb)][_0x40441e(0x406)])||(_0x53b14a={'_id':_0x53b14a[_0x40441e(0x644)]}),_0x11ff5d!==Ii&&_0x53b14a?.[_0x40441e(0x48e)]&&!_0x2ae5c9?.['globalShow'])throw new m(_0x40441e(0x1ff));let _0x1de758=new Set(_0x53b14a['whoCanEdit']??_0x2ae5c9[_0x40441e(0x437)]);_0x1de758[_0x40441e(0x65e)](_0x2ae5c9[_0x40441e(0x856)]);let _0x3b738e=new Set(_0x53b14a[_0x40441e(0x5d3)]??_0x2ae5c9[_0x40441e(0x5d3)]??[]);_0x1de758[_0x40441e(0x653)](_0x1637d0=>_0x3b738e[_0x40441e(0x65e)](_0x1637d0)),_0x3b738e[_0x40441e(0x65e)](_0x2ae5c9['owner']),this['logger'][_0x40441e(0x78f)](this[_0x40441e(0x86d)]+'\x20('+this['instance'][_0x40441e(0x406)]+_0x40441e(0x6ab)+Array[_0x40441e(0x769)](_0x1de758)),this[_0x40441e(0x74f)][_0x40441e(0x78f)](this[_0x40441e(0x86d)]+'\x20('+this[_0x40441e(0x5cb)]['wuid']+_0x40441e(0x4fa)+Array['from'](_0x3b738e));let _0x15a9b1=await this['getValidWhatsAppNumbers'](Array['from'](_0x3b738e)),_0x5566bc=Array[_0x40441e(0x769)](_0x1de758)['filter'](_0x9c8722=>_0x15a9b1[_0x40441e(0x587)](_0x9c8722)),_0x983522=Array[_0x40441e(0x769)](_0x3b738e)[_0x40441e(0x874)](_0x257088=>_0x15a9b1[_0x40441e(0x587)](_0x257088));this[_0x40441e(0x74f)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x40441e(0x40a)+_0x5566bc),this['logger'][_0x40441e(0x78f)](this['instanceName']+'\x20('+this[_0x40441e(0x5cb)][_0x40441e(0x406)]+_0x40441e(0x45f)+_0x983522);let _0x705d60={..._0x2ae5c9,..._0x53b14a,'whoCanEdit':_0x5566bc,'whoCanUse':_0x983522},_0x9877ce=await this[_0x40441e(0x5bb)]['flow'][_0x40441e(0x4f3)](_0x2ae5c9['_id'],_0x705d60);return await this[_0x40441e(0x1fe)](),_0x9877ce;}catch(_0x2f04c4){let _0x12bbbe=_0x40441e(0x62e),_0x478a14=_0x2f04c4 instanceof Error?_0x2f04c4[_0x40441e(0x4a8)]:typeof _0x2f04c4==_0x40441e(0x82b)?JSON[_0x40441e(0x261)](_0x2f04c4):_0x2f04c4,_0x13b719=_0x12bbbe+':\x20'+_0x478a14;throw this[_0x40441e(0x74f)]['error'](this[_0x40441e(0x86d)]+'\x20('+this[_0x40441e(0x5cb)]['wuid']+_0x40441e(0x5cc)+_0x13b719),new m(_0x13b719);}}async['getValidWhatsAppNumbers'](_0x411da7){const _0x19568d=a0_0x21bcc2;let _0x1e7aa1={'numbers':_0x411da7};return(await this[_0x19568d(0x374)](_0x1e7aa1))[_0x19568d(0x874)](_0x3e26d2=>_0x3e26d2[_0x19568d(0x8fb)])[_0x19568d(0x867)](_0x49f747=>_0x49f747[_0x19568d(0x52b)])['map'](_0xcf8468=>this[_0x19568d(0x2bf)](_0xcf8468));}['extractPhoneNumber'](_0xf69d23){let _0x3de592=_0xf69d23['match'](/\d+/);return _0x3de592?_0x3de592[0x0]:'';}async['editFlowBlock'](_0x19ec74){const _0x408631=a0_0x21bcc2;try{if(this[_0x408631(0x74f)][_0x408631(0x78f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x408631(0x901)),!this[_0x408631(0x246)][_0x408631(0x291)][_0x408631(0x68c)](_0x34ea58=>_0x34ea58['_id']===_0x19ec74[_0x408631(0x644)]))throw this[_0x408631(0x74f)][_0x408631(0x78f)](this[_0x408631(0x86d)]+'\x20('+this['instance'][_0x408631(0x406)]+'):\x20Fluxo\x20\x27'+_0x19ec74[_0x408631(0x644)]+_0x408631(0x542)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x3c8902=await this[_0x408631(0x5bb)][_0x408631(0x3f5)]['findOne']({'where':{'_id':_0x19ec74[_0x408631(0x644)]}});if(!_0x3c8902||!_0x3c8902[_0x408631(0x5d3)]?.['includes'](this[_0x408631(0x5cb)][_0x408631(0x406)]))throw this[_0x408631(0x74f)][_0x408631(0x2fe)](this[_0x408631(0x86d)]+'\x20('+this[_0x408631(0x5cb)][_0x408631(0x406)]+_0x408631(0x3a2)+_0x19ec74[_0x408631(0x644)]+_0x408631(0x716)),new m(_0x408631(0x2bc)+_0x19ec74[_0x408631(0x644)]+_0x408631(0x716));if(!_0x3c8902[_0x408631(0x437)]?.[_0x408631(0x587)](this[_0x408631(0x5cb)][_0x408631(0x406)]))throw new m(_0x408631(0x600));let {block:_0x40525c}=_0x19ec74;_0x40525c?.[_0x408631(0x258)]?this[_0x408631(0x70d)](_0x3c8902,_0x19ec74):_0x40525c?.['delete']?this[_0x408631(0x8cf)](_0x3c8902,_0x19ec74):_0x40525c[_0x408631(0x644)]?await this['updateBlock'](_0x3c8902,_0x19ec74):this['addBlock'](_0x3c8902,_0x19ec74);let _0x300141=await this[_0x408631(0x5bb)][_0x408631(0x3f5)][_0x408631(0x4f3)](_0x3c8902['_id'],_0x3c8902);if(!_0x300141)throw new Error(_0x408631(0x31a));return _0x300141;}catch(_0x14b238){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x14b238[_0x408631(0x4a8)]);}}async['copyBlock'](_0x50404d,_0x1da766){const _0xe6289b=a0_0x21bcc2;let _0x3fb2d1=_0x1da766['block'][_0xe6289b(0x644)],_0x11d8d4=_0x50404d[_0xe6289b(0x561)][_0xe6289b(0x68c)](_0x2eef91=>_0x2eef91['_id'][_0xe6289b(0x929)]()===_0x3fb2d1);if(!_0x11d8d4){this[_0xe6289b(0x74f)][_0xe6289b(0x2fe)](this['instanceName']+'\x20('+this[_0xe6289b(0x5cb)][_0xe6289b(0x406)]+_0xe6289b(0x481)+_0x3fb2d1+_0xe6289b(0x36d));return;}this[_0xe6289b(0x74f)]['verbose'](this[_0xe6289b(0x86d)]+'\x20('+this[_0xe6289b(0x5cb)][_0xe6289b(0x406)]+_0xe6289b(0x41b)+JSON['stringify'](_0x11d8d4));let _0x1d13f8=JSON[_0xe6289b(0x80f)](JSON[_0xe6289b(0x261)](_0x11d8d4));_0x1d13f8['_id']=new fe[(_0xe6289b(0x7ac))][(_0xe6289b(0x4e9))][(_0xe6289b(0x414))](),this[_0xe6289b(0x74f)][_0xe6289b(0x78f)](this['instanceName']+'\x20('+this[_0xe6289b(0x5cb)]['wuid']+_0xe6289b(0x69d)+JSON[_0xe6289b(0x261)](_0x1d13f8)),_0x50404d[_0xe6289b(0x561)][_0xe6289b(0x2ea)](_0x1d13f8),this[_0xe6289b(0x401)](_0x50404d[_0xe6289b(0x561)],_0x1d13f8[_0xe6289b(0x400)]);}[a0_0x21bcc2(0x3e8)](_0x4d1f0e){const _0x1b86f1=a0_0x21bcc2;throw this[_0x1b86f1(0x74f)][_0x1b86f1(0x2fe)](this[_0x1b86f1(0x86d)]+'\x20('+this[_0x1b86f1(0x5cb)][_0x1b86f1(0x406)]+_0x1b86f1(0x5cc)+_0x4d1f0e),new m(_0x4d1f0e);}[a0_0x21bcc2(0x8cf)](_0x2e39c6,_0x2f0baa){const _0x46c580=a0_0x21bcc2;let {block:_0x438676}=_0x2f0baa;if(_0x438676[_0x46c580(0x347)]===_0x46c580(0x251)){this[_0x46c580(0x3e8)](_0x46c580(0x6d8));return;}if(!_0x438676[_0x46c580(0x644)]){this[_0x46c580(0x3e8)](_0x46c580(0x49f));return;}let _0x42c3c6=_0x2e39c6[_0x46c580(0x561)][_0x46c580(0x68c)](_0x1c8a85=>_0x1c8a85[_0x46c580(0x644)][_0x46c580(0x929)]()===_0x2f0baa[_0x46c580(0x6ca)][_0x46c580(0x644)]['toString']());if(!_0x42c3c6){this[_0x46c580(0x3e8)]('Bloco\x20com\x20ID\x20'+_0x438676['_id']+_0x46c580(0x470));return;}_0x2e39c6[_0x46c580(0x561)]=_0x2e39c6[_0x46c580(0x561)][_0x46c580(0x874)](_0x461746=>_0x461746[_0x46c580(0x644)]['toString']()!==_0x2f0baa[_0x46c580(0x6ca)][_0x46c580(0x644)][_0x46c580(0x929)]()),_0x2e39c6[_0x46c580(0x523)]=_0x2e39c6[_0x46c580(0x523)]['filter'](_0x4bc91e=>_0x4bc91e[_0x46c580(0x5ee)]!==_0x438676['_id'][_0x46c580(0x929)]()),_0x2e39c6[_0x46c580(0x78a)]=_0x2e39c6['varedits']['filter'](_0x46c461=>_0x46c461[_0x46c580(0x5ee)]!==_0x438676[_0x46c580(0x644)][_0x46c580(0x929)]()),_0x2e39c6[_0x46c580(0x494)]=_0x2e39c6[_0x46c580(0x494)][_0x46c580(0x874)](_0x34fd64=>_0x34fd64['blockId']!==_0x438676[_0x46c580(0x644)][_0x46c580(0x929)]()),this[_0x46c580(0x401)](_0x2e39c6['blocks'],_0x42c3c6['groupId']);}async['updateBlock'](_0x2458c4,_0x1171ee){const _0x31ca4a=a0_0x21bcc2;let _0x26f786=_0x2458c4['blocks'][_0x31ca4a(0x785)](_0x1254ba=>_0x1254ba[_0x31ca4a(0x644)][_0x31ca4a(0x929)]()===_0x1171ee[_0x31ca4a(0x6ca)][_0x31ca4a(0x644)][_0x31ca4a(0x929)]());if(this[_0x31ca4a(0x74f)]['verbose'](this[_0x31ca4a(0x86d)]+'\x20('+this['instance'][_0x31ca4a(0x406)]+_0x31ca4a(0x791)+_0x26f786),_0x26f786===-0x1){this[_0x31ca4a(0x74f)][_0x31ca4a(0x78f)]('Bloco\x20com\x20ID\x20'+_0x1171ee[_0x31ca4a(0x6ca)]['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x2458c4[_0x31ca4a(0x561)][_0x26f786][_0x31ca4a(0x347)]===_0x31ca4a(0x251)){let _0x18f6d4=Object[_0x31ca4a(0x4ac)](_0x1171ee['block']);if(_0x18f6d4[_0x31ca4a(0x7be)]>0x2||_0x18f6d4[_0x31ca4a(0x7be)]===0x2&&!_0x18f6d4['includes'](_0x31ca4a(0x6ba))){this[_0x31ca4a(0x3e8)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x199908=_0x2458c4[_0x31ca4a(0x561)][_0x26f786][_0x31ca4a(0x400)];for(let _0x1ef537 in _0x1171ee['block'])_0x1171ee[_0x31ca4a(0x6ca)][_0x31ca4a(0x36f)](_0x1ef537)&&(_0x2458c4[_0x31ca4a(0x561)][_0x26f786][_0x1ef537]=_0x1171ee[_0x31ca4a(0x6ca)][_0x1ef537]);if(this['logger'][_0x31ca4a(0x78f)](this[_0x31ca4a(0x86d)]+'\x20('+this['instance'][_0x31ca4a(0x406)]+_0x31ca4a(0x562)+JSON['stringify'](_0x2458c4[_0x31ca4a(0x561)][_0x26f786])),_0x2458c4[_0x31ca4a(0x561)][_0x26f786][_0x31ca4a(0x4ae)]&&_0x31ca4a(0x469)in _0x2458c4[_0x31ca4a(0x561)][_0x26f786][_0x31ca4a(0x4ae)]){this['logger'][_0x31ca4a(0x78f)](this[_0x31ca4a(0x86d)]+'\x20('+this[_0x31ca4a(0x5cb)][_0x31ca4a(0x406)]+_0x31ca4a(0x522));let _0x4c3bc3=JSON[_0x31ca4a(0x261)](_0x2458c4[_0x31ca4a(0x561)][_0x26f786][_0x31ca4a(0x4ae)]['header'],null,0x1);_0x4c3bc3[_0x31ca4a(0x7be)]>0x2&&(_0x4c3bc3=_0x4c3bc3[_0x31ca4a(0x747)](0x1,_0x4c3bc3['length']-0x1)[_0x31ca4a(0x57a)]()),_0x2458c4[_0x31ca4a(0x561)][_0x26f786]['apirequest'][_0x31ca4a(0x2ec)]=_0x4c3bc3;}if(_0x2458c4[_0x31ca4a(0x561)][_0x26f786][_0x31ca4a(0x4ae)]&&_0x31ca4a(0x6ad)in _0x2458c4[_0x31ca4a(0x561)][_0x26f786][_0x31ca4a(0x4ae)]&&!('bodyString'in _0x2458c4['blocks'][_0x26f786]['apirequest'])){this[_0x31ca4a(0x74f)]['verbose'](this[_0x31ca4a(0x86d)]+'\x20('+this[_0x31ca4a(0x5cb)][_0x31ca4a(0x406)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x2458c4[_0x31ca4a(0x561)][_0x26f786][_0x31ca4a(0x4ae)]['bodyStringErrorParse']=!0x1;let _0xf01c59=JSON[_0x31ca4a(0x261)](_0x2458c4[_0x31ca4a(0x561)][_0x26f786][_0x31ca4a(0x4ae)][_0x31ca4a(0x6ad)],null,0x2);_0x2458c4[_0x31ca4a(0x561)][_0x26f786][_0x31ca4a(0x4ae)][_0x31ca4a(0x736)]=_0xf01c59;}if(_0x2458c4['blocks'][_0x26f786][_0x31ca4a(0x4ae)]&&_0x31ca4a(0x736)in _0x2458c4[_0x31ca4a(0x561)][_0x26f786][_0x31ca4a(0x4ae)]){_0x2458c4[_0x31ca4a(0x561)][_0x26f786]['apirequest'][_0x31ca4a(0x724)]=!0x1;let _0x574432=_0x2458c4[_0x31ca4a(0x561)][_0x26f786][_0x31ca4a(0x4ae)]['bodyString'],_0x3ff7db=this['beautifyWithPlaceholders'](_0x574432);_0x2458c4['blocks'][_0x26f786][_0x31ca4a(0x4ae)][_0x31ca4a(0x736)]=_0x3ff7db[_0x31ca4a(0x256)],_0x2458c4[_0x31ca4a(0x561)][_0x26f786]['apirequest'][_0x31ca4a(0x724)]=_0x3ff7db[_0x31ca4a(0x2fe)];}let _0x2b7430=_0x2458c4[_0x31ca4a(0x561)][_0x26f786][_0x31ca4a(0x400)];_0x199908!==_0x2b7430?(this['reorderBlocks'](_0x2458c4[_0x31ca4a(0x561)],_0x199908),this[_0x31ca4a(0x401)](_0x2458c4['blocks'],_0x2b7430)):this[_0x31ca4a(0x401)](_0x2458c4[_0x31ca4a(0x561)],_0x199908);}[a0_0x21bcc2(0x4ee)](_0x56d3ce){const _0x42b875=a0_0x21bcc2;let _0x2aff30='\u205f',_0x4c6541=!0x1,_0x1b8df7='';for(let _0x278d2c=0x0;_0x278d2c<_0x56d3ce[_0x42b875(0x7be)];_0x278d2c++){let _0x42536b=_0x56d3ce[_0x278d2c];_0x42536b==='\x22'&&(_0x278d2c===0x0||_0x56d3ce[_0x278d2c-0x1]!=='\x5c')&&(_0x4c6541=!_0x4c6541),!(!_0x4c6541&&(_0x42536b==='\x0a'||_0x42536b==='\x20'||_0x42536b===_0x2aff30))&&(_0x1b8df7+=_0x42536b);}let _0x17f767={},_0x313972=9876543210.1234,_0x3d810e=_0x1b8df7['replace'](/\{\{([^}]+)\}\}/g,_0x2e953c=>{let _0x1c8a92=_0x2e953c,_0x55ab05=''+_0x313972;return _0x17f767[_0x55ab05]=_0x1c8a92,_0x313972+=0.0001,_0x55ab05;}),_0x1f0187='',_0x3a0c76=!0x1;try{let _0x178892=JSON[_0x42b875(0x80f)](_0x3d810e);_0x1f0187=JSON[_0x42b875(0x261)](_0x178892,null,0x2),_0x1f0187=_0x1f0187[_0x42b875(0x243)](/\n( +)/g,(_0x35cd45,_0x3d4435)=>{const _0x1bf1ff=_0x42b875;let _0x1e69b0=_0x3d4435[_0x1bf1ff(0x7be)];return'\x0a'+_0x2aff30[_0x1bf1ff(0x72d)](_0x1e69b0*0x2);}),_0x1f0187=_0x1f0187[_0x42b875(0x243)](/(\d{10,}\.\d+)/g,_0x28eaf8=>_0x17f767[_0x28eaf8]||_0x28eaf8);}catch(_0x42389d){this[_0x42b875(0x74f)]['error']('Error\x20parsing\x20JSON:'+_0x42389d),_0x1f0187=_0x56d3ce,_0x3a0c76=!0x0;}return{'result':_0x1f0187,'error':_0x3a0c76};}[a0_0x21bcc2(0x5b7)](_0x210a3c,_0x9b6d07){const _0x2a3b73=a0_0x21bcc2;if(_0x9b6d07['block'][_0x2a3b73(0x347)]===_0x2a3b73(0x251)){this[_0x2a3b73(0x3e8)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x9b6d07[_0x2a3b73(0x6ca)][_0x2a3b73(0x4ae)]&&_0x2a3b73(0x469)in _0x9b6d07['block'][_0x2a3b73(0x4ae)]){this[_0x2a3b73(0x74f)][_0x2a3b73(0x78f)](this['instanceName']+'\x20('+this[_0x2a3b73(0x5cb)][_0x2a3b73(0x406)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x617a57=JSON['stringify'](_0x9b6d07['block'][_0x2a3b73(0x4ae)][_0x2a3b73(0x469)],null,0x1);_0x617a57[_0x2a3b73(0x7be)]>0x2&&(_0x617a57=_0x617a57[_0x2a3b73(0x747)](0x1,_0x617a57[_0x2a3b73(0x7be)]-0x1)['trim']()),_0x9b6d07[_0x2a3b73(0x6ca)][_0x2a3b73(0x4ae)][_0x2a3b73(0x2ec)]=_0x617a57;}_0x9b6d07[_0x2a3b73(0x6ca)][_0x2a3b73(0x4ae)]&&'body'in _0x9b6d07[_0x2a3b73(0x6ca)]['apirequest']&&(this['logger']['verbose'](this[_0x2a3b73(0x86d)]+'\x20('+this[_0x2a3b73(0x5cb)][_0x2a3b73(0x406)]+_0x2a3b73(0x5a3)),_0x9b6d07[_0x2a3b73(0x6ca)][_0x2a3b73(0x4ae)][_0x2a3b73(0x736)]=JSON[_0x2a3b73(0x261)](_0x9b6d07[_0x2a3b73(0x6ca)]['apirequest']['body'],null,0x1)['trim']()),_0x210a3c[_0x2a3b73(0x561)]['push'](_0x9b6d07[_0x2a3b73(0x6ca)]),this['reorderBlocks'](_0x210a3c['blocks'],_0x9b6d07[_0x2a3b73(0x6ca)][_0x2a3b73(0x400)]);}[a0_0x21bcc2(0x401)](_0x593f04,_0x2a9ee5){const _0x32ef9e=a0_0x21bcc2;let _0x1294dc=_0x593f04[_0x32ef9e(0x874)](_0x4ba1d1=>_0x4ba1d1['groupId']===_0x2a9ee5);_0x1294dc[_0x32ef9e(0x786)]((_0x467680,_0x185a08)=>_0x467680[_0x32ef9e(0x323)]-_0x185a08[_0x32ef9e(0x323)]),_0x1294dc[_0x32ef9e(0x653)]((_0xa9ba6b,_0x270f11)=>_0xa9ba6b[_0x32ef9e(0x323)]=_0x270f11+0x1);}async['editFlowReply'](_0xaf8172){const _0x2ea59f=a0_0x21bcc2;try{if(this[_0x2ea59f(0x74f)]['verbose'](this['instanceName']+'\x20('+this[_0x2ea59f(0x5cb)]['wuid']+_0x2ea59f(0x6a7)),!_0xaf8172||!_0xaf8172[_0x2ea59f(0x1f7)]){this[_0x2ea59f(0x3e8)](_0x2ea59f(0x436));return;}if(!this[_0x2ea59f(0x246)][_0x2ea59f(0x291)][_0x2ea59f(0x68c)](_0x42455b=>_0x42455b[_0x2ea59f(0x644)]===_0xaf8172['_id']))throw this['logger'][_0x2ea59f(0x78f)](this[_0x2ea59f(0x86d)]+'\x20('+this[_0x2ea59f(0x5cb)][_0x2ea59f(0x406)]+_0x2ea59f(0x7f2)+_0xaf8172[_0x2ea59f(0x644)]+'\x27\x20não\x20encontrado'),new m(_0x2ea59f(0x5c5));let _0x22871e=await this[_0x2ea59f(0x5bb)][_0x2ea59f(0x3f5)][_0x2ea59f(0x7db)]({'where':{'_id':_0xaf8172['_id']}});if(!_0x22871e||!_0x22871e[_0x2ea59f(0x5d3)]?.[_0x2ea59f(0x587)](this[_0x2ea59f(0x5cb)][_0x2ea59f(0x406)]))throw this[_0x2ea59f(0x74f)][_0x2ea59f(0x2fe)](this[_0x2ea59f(0x86d)]+'\x20('+this[_0x2ea59f(0x5cb)]['wuid']+_0x2ea59f(0x3a2)+_0xaf8172[_0x2ea59f(0x644)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0xaf8172['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x22871e[_0x2ea59f(0x437)]?.[_0x2ea59f(0x587)](this[_0x2ea59f(0x5cb)]['wuid']))throw new m(_0x2ea59f(0x600));let {replyOption:_0x53c92b}=_0xaf8172;_0x53c92b?.[_0x2ea59f(0x8b1)]?(this[_0x2ea59f(0x560)](_0x22871e,_0xaf8172),this[_0x2ea59f(0x230)](_0x22871e[_0x2ea59f(0x494)],_0xaf8172[_0x2ea59f(0x1f7)]['blockId'])):_0x53c92b[_0x2ea59f(0x644)]?(await this['updateReplyOption'](_0x22871e,_0xaf8172),this[_0x2ea59f(0x230)](_0x22871e['replyOptions'],_0xaf8172[_0x2ea59f(0x1f7)][_0x2ea59f(0x5ee)])):(this['addReplyOption'](_0x22871e,_0xaf8172),this[_0x2ea59f(0x230)](_0x22871e[_0x2ea59f(0x494)],_0xaf8172[_0x2ea59f(0x1f7)]['blockId']));let _0x6200be=await this[_0x2ea59f(0x5bb)]['flow'][_0x2ea59f(0x4f3)](_0x22871e[_0x2ea59f(0x644)],_0x22871e);if(!_0x6200be)throw new Error(_0x2ea59f(0x31a));return _0x6200be;}catch(_0x5ccd48){this[_0x2ea59f(0x3e8)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x5ccd48);}}[a0_0x21bcc2(0x230)](_0x1f2b8d,_0x8aed99){const _0x8567e4=a0_0x21bcc2;_0x1f2b8d[_0x8567e4(0x653)](_0x15bdd5=>{const _0x1b5206=_0x8567e4;_0x15bdd5[_0x1b5206(0x5ee)]===_0x8aed99&&_0x15bdd5[_0x1b5206(0x323)]===void 0x0&&(_0x15bdd5[_0x1b5206(0x323)]=0x270f);});let _0x4fa0e7=_0x1f2b8d[_0x8567e4(0x874)](_0x1c7bbf=>_0x1c7bbf[_0x8567e4(0x5ee)]===_0x8aed99);_0x4fa0e7[_0x8567e4(0x786)]((_0x56e787,_0x555d8e)=>_0x56e787[_0x8567e4(0x323)]-_0x555d8e[_0x8567e4(0x323)]),_0x4fa0e7['forEach']((_0xa15029,_0xb0655b)=>{const _0x16613c=_0x8567e4;_0xa15029[_0x16613c(0x323)]=_0xb0655b+0x1;}),_0x1f2b8d['forEach'](_0x262e57=>{const _0x1178d1=_0x8567e4;if(_0x262e57['blockId']===_0x8aed99){let _0x347630=_0x4fa0e7[_0x1178d1(0x68c)](_0x59dab2=>_0x59dab2[_0x1178d1(0x644)]&&_0x262e57['_id']&&_0x59dab2[_0x1178d1(0x644)][_0x1178d1(0x929)]()===_0x262e57[_0x1178d1(0x644)][_0x1178d1(0x929)]());_0x347630&&(_0x262e57[_0x1178d1(0x323)]=_0x347630[_0x1178d1(0x323)]);}});}[a0_0x21bcc2(0x560)](_0x2195b4,_0x542a39){const _0x589c0f=a0_0x21bcc2;let {replyOption:_0x45e924}=_0x542a39;if(!_0x45e924[_0x589c0f(0x644)]){this['throwAndLogError'](_0x589c0f(0x370));return;}if(!_0x2195b4['replyOptions'][_0x589c0f(0x68c)](_0x4c2137=>_0x4c2137['_id'][_0x589c0f(0x929)]()===_0x542a39[_0x589c0f(0x1f7)][_0x589c0f(0x644)][_0x589c0f(0x929)]())){this[_0x589c0f(0x3e8)](_0x589c0f(0x697)+_0x45e924[_0x589c0f(0x644)]+_0x589c0f(0x470));return;}_0x2195b4[_0x589c0f(0x494)]=_0x2195b4[_0x589c0f(0x494)][_0x589c0f(0x874)](_0xeb7778=>_0xeb7778[_0x589c0f(0x644)]['toString']()!==_0x542a39['replyOption']['_id']['toString']());}async[a0_0x21bcc2(0x8fd)](_0x5eb747,_0x53b114){const _0x5b244a=a0_0x21bcc2;let _0x2bad1a=_0x5eb747[_0x5b244a(0x494)][_0x5b244a(0x785)](_0x378412=>_0x378412[_0x5b244a(0x644)]['toString']()===_0x53b114[_0x5b244a(0x1f7)][_0x5b244a(0x644)][_0x5b244a(0x929)]());if(_0x2bad1a===-0x1){this[_0x5b244a(0x3e8)](_0x5b244a(0x697)+_0x53b114[_0x5b244a(0x1f7)][_0x5b244a(0x644)]+_0x5b244a(0x71e));return;}for(let _0x250d47 in _0x53b114['replyOption'])_0x53b114['replyOption'][_0x5b244a(0x36f)](_0x250d47)&&(_0x5eb747[_0x5b244a(0x494)][_0x2bad1a][_0x250d47]=_0x53b114[_0x5b244a(0x1f7)][_0x250d47]);}[a0_0x21bcc2(0x2e1)](_0x3caff0,_0x6a8582){const _0x26c5e1=a0_0x21bcc2;_0x3caff0['replyOptions'][_0x26c5e1(0x2ea)](_0x6a8582['replyOption']);}async[a0_0x21bcc2(0x2cb)](_0x1debeb){const _0x3304ea=a0_0x21bcc2;this[_0x3304ea(0x74f)][_0x3304ea(0x78f)](this[_0x3304ea(0x86d)]+'\x20('+this['instance'][_0x3304ea(0x406)]+_0x3304ea(0x6a1)+JSON[_0x3304ea(0x261)](_0x1debeb,null,0x2));try{if(this[_0x3304ea(0x74f)][_0x3304ea(0x78f)](this[_0x3304ea(0x86d)]+'\x20('+this[_0x3304ea(0x5cb)][_0x3304ea(0x406)]+_0x3304ea(0x810)),!this[_0x3304ea(0x246)][_0x3304ea(0x291)][_0x3304ea(0x68c)](_0x2fd470=>_0x2fd470[_0x3304ea(0x644)]===_0x1debeb[_0x3304ea(0x644)]))throw this[_0x3304ea(0x74f)][_0x3304ea(0x78f)](this[_0x3304ea(0x86d)]+'\x20('+this[_0x3304ea(0x5cb)][_0x3304ea(0x406)]+'):\x20Fluxo\x20\x27'+_0x1debeb[_0x3304ea(0x644)]+_0x3304ea(0x542)),new m(_0x3304ea(0x5c5));let _0x164c49=await this[_0x3304ea(0x5bb)]['flow'][_0x3304ea(0x7db)]({'where':{'_id':_0x1debeb[_0x3304ea(0x644)]}});if(!_0x164c49||!_0x164c49[_0x3304ea(0x5d3)]?.['includes'](this['instance'][_0x3304ea(0x406)]))throw this[_0x3304ea(0x74f)][_0x3304ea(0x2fe)](this[_0x3304ea(0x86d)]+'\x20('+this['instance'][_0x3304ea(0x406)]+'):\x20Flow\x20\x27'+_0x1debeb[_0x3304ea(0x644)]+_0x3304ea(0x716)),new m('Flow\x20\x27'+_0x1debeb['_id']+_0x3304ea(0x716));if(!_0x164c49[_0x3304ea(0x437)]?.[_0x3304ea(0x587)](this[_0x3304ea(0x5cb)][_0x3304ea(0x406)]))throw new m(_0x3304ea(0x600));if(_0x1debeb[_0x3304ea(0x3f9)]&&_0x1debeb['group']?.[_0x3304ea(0x8b1)]===!0x0){if(this[_0x3304ea(0x74f)][_0x3304ea(0x78f)](this[_0x3304ea(0x86d)]+'\x20('+this[_0x3304ea(0x5cb)][_0x3304ea(0x406)]+'):\x20delete\x20=\x20true'),_0x1debeb[_0x3304ea(0x3f9)]['default']===!0x0)return{'message':_0x3304ea(0x38f)};if(_0x164c49['blocks']['some'](_0x242da4=>_0x242da4[_0x3304ea(0x400)][_0x3304ea(0x929)]()===_0x1debeb[_0x3304ea(0x3f9)]['_id']))return this[_0x3304ea(0x74f)][_0x3304ea(0x78f)](this[_0x3304ea(0x86d)]+'\x20('+this[_0x3304ea(0x5cb)][_0x3304ea(0x406)]+'):\x20tem\x20blocks'),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x164c49[_0x3304ea(0x566)]=_0x164c49[_0x3304ea(0x566)]['filter'](_0x54e025=>_0x54e025[_0x3304ea(0x644)]['toString']()!==_0x1debeb[_0x3304ea(0x3f9)]['_id']);}else{if(_0x1debeb[_0x3304ea(0x3f9)]){if(_0x1debeb[_0x3304ea(0x3f9)][_0x3304ea(0x7ac)]===!0x0)return{'message':_0x3304ea(0x47b)};if(_0x1debeb[_0x3304ea(0x3f9)]['_id']){let _0x54b9d4=_0x164c49[_0x3304ea(0x566)][_0x3304ea(0x68c)](_0x53299b=>_0x53299b[_0x3304ea(0x644)][_0x3304ea(0x929)]()===_0x1debeb[_0x3304ea(0x3f9)][_0x3304ea(0x644)]);_0x54b9d4&&(_0x1debeb[_0x3304ea(0x3f9)]['x']<0x0&&(_0x1debeb['group']['x']=0x0),_0x1debeb['group']['y']<0x0&&(_0x1debeb[_0x3304ea(0x3f9)]['y']=0x0),Object[_0x3304ea(0x5a0)](_0x54b9d4,_0x1debeb[_0x3304ea(0x3f9)]));}else _0x164c49[_0x3304ea(0x566)][_0x3304ea(0x2ea)](_0x1debeb[_0x3304ea(0x3f9)]);}}let _0x2923e8=await this[_0x3304ea(0x5bb)]['flow']['updateOne'](_0x164c49[_0x3304ea(0x644)],_0x164c49);if(!_0x2923e8)throw new Error(_0x3304ea(0x31a));return _0x2923e8;}catch(_0x1280a4){let _0x526655=_0x3304ea(0x637),_0x43c81b=_0x1280a4 instanceof Error?_0x1280a4[_0x3304ea(0x4a8)]:typeof _0x1280a4==_0x3304ea(0x82b)?JSON['stringify'](_0x1280a4):_0x1280a4,_0x5e3248=_0x526655+':\x20'+_0x43c81b;throw this[_0x3304ea(0x74f)][_0x3304ea(0x2fe)](this[_0x3304ea(0x86d)]+'\x20('+this['instance'][_0x3304ea(0x406)]+_0x3304ea(0x5cc)+_0x5e3248),new m(_0x5e3248);}}async[a0_0x21bcc2(0x1f4)](_0x2fc5ff){const _0x12655e=a0_0x21bcc2;try{if(this['logger'][_0x12655e(0x78f)](this[_0x12655e(0x86d)]+'\x20('+this[_0x12655e(0x5cb)][_0x12655e(0x406)]+'):\x20Editando\x20condição\x20do\x20fluxo...'),!this['AutomateSystem'][_0x12655e(0x291)][_0x12655e(0x68c)](_0x5f5623=>_0x5f5623[_0x12655e(0x644)]===_0x2fc5ff['_id']))throw this[_0x12655e(0x74f)][_0x12655e(0x78f)](this[_0x12655e(0x86d)]+'\x20('+this[_0x12655e(0x5cb)][_0x12655e(0x406)]+_0x12655e(0x7f2)+_0x2fc5ff[_0x12655e(0x644)]+_0x12655e(0x542)),new m(_0x12655e(0x5c5));let _0x33c1db=await this['repository']['flow'][_0x12655e(0x7db)]({'where':{'_id':_0x2fc5ff['_id']}});if(!_0x33c1db||!_0x33c1db[_0x12655e(0x5d3)]?.[_0x12655e(0x587)](this[_0x12655e(0x5cb)][_0x12655e(0x406)]))throw this[_0x12655e(0x74f)][_0x12655e(0x2fe)](this[_0x12655e(0x86d)]+'\x20('+this['instance']['wuid']+_0x12655e(0x3a2)+_0x2fc5ff[_0x12655e(0x644)]+_0x12655e(0x716)),new m(_0x12655e(0x2bc)+_0x2fc5ff[_0x12655e(0x644)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x33c1db['whoCanEdit']?.['includes'](this[_0x12655e(0x5cb)]['wuid']))throw new m(_0x12655e(0x600));let _0x4fe50e=!0x1;if(_0x2fc5ff[_0x12655e(0x7c3)]?.[_0x12655e(0x8b1)]===!0x0)_0x33c1db[_0x12655e(0x523)]=_0x33c1db[_0x12655e(0x523)][_0x12655e(0x874)](_0x70e9d2=>_0x70e9d2&&_0x2fc5ff[_0x12655e(0x7c3)]&&_0x70e9d2['_id']&&_0x2fc5ff['condition']['_id']&&_0x70e9d2['_id'][_0x12655e(0x929)]()!==_0x2fc5ff[_0x12655e(0x7c3)][_0x12655e(0x644)][_0x12655e(0x929)]()),_0x4fe50e=!0x0;else{let _0x310874=_0x33c1db[_0x12655e(0x523)][_0x12655e(0x68c)](_0x53d7e6=>_0x53d7e6&&_0x2fc5ff[_0x12655e(0x7c3)]&&_0x53d7e6[_0x12655e(0x644)]&&_0x2fc5ff[_0x12655e(0x7c3)][_0x12655e(0x644)]&&_0x53d7e6[_0x12655e(0x644)][_0x12655e(0x929)]()===_0x2fc5ff[_0x12655e(0x7c3)][_0x12655e(0x644)][_0x12655e(0x929)]());_0x310874?(_0x4fe50e=_0x310874['order']!==_0x2fc5ff[_0x12655e(0x7c3)][_0x12655e(0x323)],Object[_0x12655e(0x5a0)](_0x310874,_0x2fc5ff[_0x12655e(0x7c3)])):(_0x33c1db[_0x12655e(0x523)][_0x12655e(0x2ea)](_0x2fc5ff[_0x12655e(0x7c3)]),_0x4fe50e=!0x0);}if(_0x4fe50e){_0x33c1db[_0x12655e(0x523)][_0x12655e(0x786)]((_0x351691,_0x206923)=>_0x351691['order']>_0x206923[_0x12655e(0x323)]?0x1:_0x206923[_0x12655e(0x323)]>_0x351691['order']?-0x1:0x0);for(let _0x3c6fc4=0x0;_0x3c6fc4<_0x33c1db['conditions'][_0x12655e(0x7be)];_0x3c6fc4++)_0x33c1db[_0x12655e(0x523)][_0x3c6fc4]['order']=_0x3c6fc4+0x1;_0x33c1db[_0x12655e(0x523)][_0x12655e(0x7be)]>0x0&&(_0x33c1db[_0x12655e(0x523)][0x0][_0x12655e(0x73f)]='and');}let _0x4f3213=await this[_0x12655e(0x5bb)][_0x12655e(0x3f5)]['updateOne'](_0x33c1db[_0x12655e(0x644)],_0x33c1db);if(!_0x4f3213)throw new Error(_0x12655e(0x31a));return _0x4f3213;}catch(_0x30582e){let _0x524920=_0x12655e(0x756),_0x35ed20=_0x30582e instanceof Error?_0x30582e[_0x12655e(0x4a8)]:typeof _0x30582e=='object'?JSON[_0x12655e(0x261)](_0x30582e):_0x30582e,_0x32b929=_0x524920+':\x20'+_0x35ed20;throw this[_0x12655e(0x74f)][_0x12655e(0x2fe)](this[_0x12655e(0x86d)]+'\x20('+this[_0x12655e(0x5cb)][_0x12655e(0x406)]+'):\x20'+_0x32b929),new m(_0x32b929);}}async[a0_0x21bcc2(0x5c3)](_0x571309){const _0x596b61=a0_0x21bcc2;try{if(this[_0x596b61(0x74f)][_0x596b61(0x78f)](this[_0x596b61(0x86d)]+'\x20('+this[_0x596b61(0x5cb)][_0x596b61(0x406)]+_0x596b61(0x8dd)),!this[_0x596b61(0x246)][_0x596b61(0x291)][_0x596b61(0x68c)](_0x1f8eb6=>_0x1f8eb6[_0x596b61(0x644)]===_0x571309[_0x596b61(0x644)]))throw this['logger'][_0x596b61(0x78f)](this[_0x596b61(0x86d)]+'\x20('+this[_0x596b61(0x5cb)][_0x596b61(0x406)]+_0x596b61(0x7f2)+_0x571309[_0x596b61(0x644)]+_0x596b61(0x542)),new m(_0x596b61(0x5c5));let _0x4aced9=await this[_0x596b61(0x5bb)]['flow']['findOne']({'where':{'_id':_0x571309[_0x596b61(0x644)]}});if(!_0x4aced9||!_0x4aced9[_0x596b61(0x5d3)]?.[_0x596b61(0x587)](this[_0x596b61(0x5cb)][_0x596b61(0x406)]))throw this['logger'][_0x596b61(0x2fe)](this[_0x596b61(0x86d)]+'\x20('+this[_0x596b61(0x5cb)]['wuid']+_0x596b61(0x3a2)+_0x571309['_id']+_0x596b61(0x716)),new m('Flow\x20\x27'+_0x571309[_0x596b61(0x644)]+_0x596b61(0x716));if(!_0x4aced9[_0x596b61(0x437)]?.['includes'](this[_0x596b61(0x5cb)]['wuid']))throw new m(_0x596b61(0x600));let _0x4816e1=!0x1;if(_0x571309[_0x596b61(0x4d9)]?.['delete']===!0x0)_0x4aced9['varedits']=_0x4aced9['varedits'][_0x596b61(0x874)](_0x320198=>_0x320198&&_0x571309['varedit']&&_0x320198[_0x596b61(0x644)]&&_0x571309['varedit'][_0x596b61(0x644)]&&_0x320198['_id']['toString']()!==_0x571309[_0x596b61(0x4d9)][_0x596b61(0x644)]['toString']()),_0x4816e1=!0x0;else{let _0x5314f7=_0x4aced9[_0x596b61(0x78a)][_0x596b61(0x68c)](_0x180ec7=>_0x180ec7&&_0x571309[_0x596b61(0x4d9)]&&_0x180ec7['_id']&&_0x571309[_0x596b61(0x4d9)][_0x596b61(0x644)]&&_0x180ec7[_0x596b61(0x644)][_0x596b61(0x929)]()===_0x571309[_0x596b61(0x4d9)]['_id']['toString']());_0x5314f7?(_0x4816e1=_0x5314f7['order']!==_0x571309[_0x596b61(0x4d9)][_0x596b61(0x323)],Object['assign'](_0x5314f7,_0x571309[_0x596b61(0x4d9)])):(_0x4aced9[_0x596b61(0x78a)][_0x596b61(0x2ea)](_0x571309[_0x596b61(0x4d9)]),_0x4816e1=!0x0);}if(_0x4816e1){_0x4aced9[_0x596b61(0x78a)][_0x596b61(0x786)]((_0x43651d,_0xd7dbad)=>_0x43651d[_0x596b61(0x323)]>_0xd7dbad[_0x596b61(0x323)]?0x1:_0xd7dbad[_0x596b61(0x323)]>_0x43651d[_0x596b61(0x323)]?-0x1:0x0);for(let _0x162d8e=0x0;_0x162d8e<_0x4aced9['varedits'][_0x596b61(0x7be)];_0x162d8e++)_0x4aced9[_0x596b61(0x78a)][_0x162d8e][_0x596b61(0x323)]=_0x162d8e+0x1;}let _0x44e239=await this[_0x596b61(0x5bb)][_0x596b61(0x3f5)]['updateOne'](_0x4aced9[_0x596b61(0x644)],_0x4aced9);if(!_0x44e239)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x44e239;}catch(_0x557a19){let _0x4a029c=_0x596b61(0x756),_0x316933=_0x557a19 instanceof Error?_0x557a19[_0x596b61(0x4a8)]:typeof _0x557a19==_0x596b61(0x82b)?JSON[_0x596b61(0x261)](_0x557a19):_0x557a19,_0x330cbc=_0x4a029c+':\x20'+_0x316933;throw this['logger'][_0x596b61(0x2fe)](this[_0x596b61(0x86d)]+'\x20('+this[_0x596b61(0x5cb)][_0x596b61(0x406)]+_0x596b61(0x5cc)+_0x330cbc),new m(_0x330cbc);}}async[a0_0x21bcc2(0x35c)](_0x5305c5){const _0x3c6376=a0_0x21bcc2;try{if(this[_0x3c6376(0x74f)][_0x3c6376(0x78f)](this['instanceName']+'\x20('+this[_0x3c6376(0x5cb)]['wuid']+_0x3c6376(0x327)),!this[_0x3c6376(0x246)][_0x3c6376(0x291)][_0x3c6376(0x68c)](_0x34ed46=>_0x34ed46['_id']===_0x5305c5['_id']))throw this[_0x3c6376(0x74f)][_0x3c6376(0x78f)](this['instanceName']+'\x20('+this[_0x3c6376(0x5cb)][_0x3c6376(0x406)]+_0x3c6376(0x7f2)+_0x5305c5[_0x3c6376(0x644)]+_0x3c6376(0x542)),new m(_0x3c6376(0x5c5));let _0x46d921=await this['repository']['flow']['findOne']({'where':{'_id':_0x5305c5[_0x3c6376(0x644)]}});if(!_0x46d921||!_0x46d921[_0x3c6376(0x5d3)]?.[_0x3c6376(0x587)](this[_0x3c6376(0x5cb)][_0x3c6376(0x406)]))throw this['logger'][_0x3c6376(0x2fe)](this[_0x3c6376(0x86d)]+'\x20('+this['instance']['wuid']+_0x3c6376(0x3a2)+_0x5305c5[_0x3c6376(0x644)]+_0x3c6376(0x716)),new m(_0x3c6376(0x2bc)+_0x5305c5[_0x3c6376(0x644)]+_0x3c6376(0x716));if(!_0x46d921[_0x3c6376(0x437)]?.['includes'](this[_0x3c6376(0x5cb)][_0x3c6376(0x406)]))throw new m(_0x3c6376(0x600));_0x5305c5['variable'][_0x3c6376(0x83e)]=_0x5305c5['variable'][_0x3c6376(0x83e)]['trim'](),_0x5305c5['variable'][_0x3c6376(0x83e)][_0x3c6376(0x37a)]('_')&&(_0x5305c5['variable']['name']=_0x5305c5[_0x3c6376(0x6f9)]['name'][_0x3c6376(0x747)](0x1)),_0x5305c5[_0x3c6376(0x6f9)][_0x3c6376(0x83e)]=_0x5305c5[_0x3c6376(0x6f9)][_0x3c6376(0x83e)][_0x3c6376(0x57a)]();let _0x32f18a=_0x46d921['variables'][_0x3c6376(0x68c)](_0x3e2001=>_0x3e2001[_0x3c6376(0x83e)]===_0x5305c5[_0x3c6376(0x6f9)][_0x3c6376(0x83e)]);if(_0x32f18a?.[_0x3c6376(0x4e7)]===!0x0)throw new Error(_0x3c6376(0x556));if(_0x5305c5[_0x3c6376(0x6f9)]?.[_0x3c6376(0x8b1)]===!0x0){if(!_0x32f18a)return{'message':_0x3c6376(0x24f)};_0x46d921[_0x3c6376(0x75e)]=_0x46d921[_0x3c6376(0x75e)][_0x3c6376(0x874)](_0x2b2657=>_0x2b2657[_0x3c6376(0x83e)]!==_0x5305c5[_0x3c6376(0x6f9)][_0x3c6376(0x83e)]);}else _0x32f18a?Object[_0x3c6376(0x5a0)](_0x32f18a,_0x5305c5[_0x3c6376(0x6f9)]):_0x46d921['variables']['push'](_0x5305c5[_0x3c6376(0x6f9)]);let _0x586434=await this[_0x3c6376(0x5bb)][_0x3c6376(0x3f5)][_0x3c6376(0x4f3)](_0x46d921[_0x3c6376(0x644)],_0x46d921);if(!_0x586434)throw new Error(_0x3c6376(0x31a));return _0x586434;}catch(_0x208379){let _0x2390a3='Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',_0x11287b=_0x208379 instanceof Error?_0x208379[_0x3c6376(0x4a8)]:typeof _0x208379==_0x3c6376(0x82b)?JSON['stringify'](_0x208379):_0x208379,_0x228d20=_0x2390a3+':\x20'+_0x11287b;throw this[_0x3c6376(0x74f)][_0x3c6376(0x2fe)](this['instanceName']+'\x20('+this['instance'][_0x3c6376(0x406)]+'):\x20'+_0x228d20),new m(_0x228d20);}}async[a0_0x21bcc2(0x652)](_0x1cee2e){const _0x17ca72=a0_0x21bcc2;let _0x33d0f4=null;try{if(!this['AutomateSystem']?.['flowConfig'][_0x17ca72(0x3b3)])throw new m(_0x17ca72(0x3ae));this[_0x17ca72(0x74f)][_0x17ca72(0x78f)](this[_0x17ca72(0x86d)]+'\x20('+this[_0x17ca72(0x5cb)][_0x17ca72(0x406)]+_0x17ca72(0x38c));let _0x4d67c0=(await this['whatsappNumber']({'numbers':[_0x1cee2e[_0x17ca72(0x2c7)]]}))[0x0];if(!_0x4d67c0[_0x17ca72(0x8fb)]&&!(0x0,w[_0x17ca72(0x55c)])(_0x4d67c0[_0x17ca72(0x52b)])&&!_0x4d67c0[_0x17ca72(0x52b)]['includes'](_0x17ca72(0x220)))throw _0x33d0f4=JSON[_0x17ca72(0x261)](_0x4d67c0,null,0x2),new m(_0x4d67c0);let _0x24142a;if(_0x1cee2e[_0x17ca72(0x83e)][_0x17ca72(0x7be)]===0x24&&/^[0-9a-fA-F-]{36}$/['test'](_0x1cee2e['name'])?_0x24142a=this['AutomateSystem'][_0x17ca72(0x291)]['find'](_0x194327=>_0x194327[_0x17ca72(0x644)]===_0x1cee2e[_0x17ca72(0x83e)]):_0x24142a=this['AutomateSystem']['flows'][_0x17ca72(0x68c)](_0x27ad58=>_0x27ad58[_0x17ca72(0x83e)]===_0x1cee2e['name']),!_0x24142a)throw this[_0x17ca72(0x74f)][_0x17ca72(0x78f)](this[_0x17ca72(0x86d)]+'\x20('+this[_0x17ca72(0x5cb)][_0x17ca72(0x406)]+_0x17ca72(0x7f2)+_0x1cee2e[_0x17ca72(0x83e)]+_0x17ca72(0x542)),new m(_0x17ca72(0x5c5));let _0x515490=await this['repository'][_0x17ca72(0x3f5)][_0x17ca72(0x7db)]({'where':{'_id':_0x24142a[_0x17ca72(0x644)]}});if(!_0x515490||!_0x515490[_0x17ca72(0x5d3)]?.[_0x17ca72(0x587)](this[_0x17ca72(0x5cb)][_0x17ca72(0x406)]))throw this[_0x17ca72(0x74f)]['error'](this[_0x17ca72(0x86d)]+'\x20('+this['instance'][_0x17ca72(0x406)]+'):\x20Flow\x20\x27'+_0x24142a['_id']+_0x17ca72(0x716)),_0x33d0f4=_0x17ca72(0x2bc)+_0x24142a[_0x17ca72(0x644)]+_0x17ca72(0x716),new m(_0x33d0f4);let _0x45fb0c=await this[_0x17ca72(0x2ed)](_0x515490,_0x4d67c0[_0x17ca72(0x52b)],_0x1cee2e[_0x17ca72(0x405)]);if(_0x45fb0c){this[_0x17ca72(0x74f)][_0x17ca72(0x78f)](this[_0x17ca72(0x86d)]+'\x20('+this[_0x17ca72(0x5cb)][_0x17ca72(0x406)]+_0x17ca72(0x204));let _0x3f001e=await this[_0x17ca72(0x475)](_0x45fb0c);return _0x3f001e&&await this[_0x17ca72(0x25d)](_0x45fb0c,_0x3f001e),{'message':_0x17ca72(0x5d7)+_0x1cee2e[_0x17ca72(0x2c7)]};}}catch(_0xa5eac6){if(this[_0x17ca72(0x74f)]['error'](this['instanceName']+'\x20('+this[_0x17ca72(0x5cb)][_0x17ca72(0x406)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0xa5eac6 instanceof Error?_0xa5eac6[_0x17ca72(0x4a8)]:JSON[_0x17ca72(0x261)](_0xa5eac6,null,0x2))),_0x33d0f4=_0xa5eac6 instanceof Error?_0xa5eac6[_0x17ca72(0x4a8)]:JSON[_0x17ca72(0x261)](_0xa5eac6,null,0x2),_0x33d0f4)throw new m(_0x17ca72(0x3c4)+_0x33d0f4);}}async[a0_0x21bcc2(0x515)](_0x2eddbb,_0x8000e5,_0x144997){const _0x95fd7d=a0_0x21bcc2;let _0x55b82c=null;try{if(!this[_0x95fd7d(0x246)]?.[_0x95fd7d(0x1fa)][_0x95fd7d(0x3b3)])throw new m(_0x95fd7d(0x3ae));if(this['logger'][_0x95fd7d(0x78f)](this[_0x95fd7d(0x86d)]+'\x20('+this[_0x95fd7d(0x5cb)][_0x95fd7d(0x406)]+_0x95fd7d(0x38c)),_0x8000e5){let _0xe7eeb1=(await this['whatsappNumber']({'numbers':[_0x8000e5]}))[0x0];if(!_0xe7eeb1[_0x95fd7d(0x8fb)]&&!(0x0,w[_0x95fd7d(0x55c)])(_0xe7eeb1['jid'])&&!_0xe7eeb1['jid'][_0x95fd7d(0x587)]('@broadcast'))throw _0x55b82c=JSON['stringify'](_0xe7eeb1,null,0x2),new m(_0xe7eeb1);_0x8000e5=_0xe7eeb1[_0x95fd7d(0x52b)];}else _0x8000e5||(_0x8000e5=(0x0,X['v4'])());let _0x30cadf=await this[_0x95fd7d(0x5bb)][_0x95fd7d(0x3f5)][_0x95fd7d(0x7db)]({'where':{'_id':_0x2eddbb}});if(!_0x30cadf||!_0x30cadf['whoCanUse']?.['includes'](this['instance'][_0x95fd7d(0x406)]))throw this['logger']['error'](this[_0x95fd7d(0x86d)]+'\x20('+this['instance'][_0x95fd7d(0x406)]+_0x95fd7d(0x3a2)+_0x2eddbb+_0x95fd7d(0x716)),new m(_0x95fd7d(0x2bc)+_0x2eddbb+_0x95fd7d(0x716));let _0x1882e4=await this[_0x95fd7d(0x2ed)](_0x30cadf,_0x8000e5,null);if(_0x1882e4){this[_0x95fd7d(0x74f)]['verbose'](this[_0x95fd7d(0x86d)]+'\x20('+this[_0x95fd7d(0x5cb)][_0x95fd7d(0x406)]+_0x95fd7d(0x4c7));let _0x3ef104;if(_0x144997){let _0x1765c1=_0x1882e4[_0x95fd7d(0x7ae)][_0x95fd7d(0x29e)],_0x32f731=this[_0x95fd7d(0x316)](_0x144997);Object[_0x95fd7d(0x5a0)](_0x1765c1,_0x32f731),_0x1882e4[_0x95fd7d(0x7ae)][_0x95fd7d(0x29e)]=_0x1765c1,_0x3ef104={'error':!0x1,'apiResponse':_0x144997};}let _0x560ba3=await this['NextBlock'](_0x1882e4);return _0x560ba3&&await this[_0x95fd7d(0x25d)](_0x1882e4,_0x560ba3),{'message':_0x95fd7d(0x7fa)};}}catch(_0x48f12e){if(this[_0x95fd7d(0x74f)][_0x95fd7d(0x2fe)](this['instanceName']+'\x20('+this[_0x95fd7d(0x5cb)][_0x95fd7d(0x406)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x48f12e instanceof Error?_0x48f12e['message']:JSON[_0x95fd7d(0x261)](_0x48f12e,null,0x2))),_0x55b82c=_0x48f12e instanceof Error?_0x48f12e['message']:JSON[_0x95fd7d(0x261)](_0x48f12e,null,0x2),_0x55b82c)throw new m(_0x95fd7d(0x3c4)+_0x55b82c);}}async['closeExistingConversations'](_0x34b66a){const _0x5607cf=a0_0x21bcc2;try{let _0x1ee5db={'remoteJid':_0x34b66a,'status':_0x5607cf(0x5f3)},_0x188ca8={'status':'closed'},_0x3c7d18=await this['repository'][_0x5607cf(0x85d)][_0x5607cf(0x609)](_0x1ee5db,_0x188ca8,this['instance'][_0x5607cf(0x406)]);return this[_0x5607cf(0x74f)]['verbose'](this[_0x5607cf(0x86d)]+'\x20('+this[_0x5607cf(0x5cb)]['wuid']+_0x5607cf(0x66c)),_0x3c7d18;}catch(_0x642860){throw this['logger'][_0x5607cf(0x2fe)](this[_0x5607cf(0x86d)]+'\x20('+this[_0x5607cf(0x5cb)]['wuid']+_0x5607cf(0x33b)+_0x642860[_0x5607cf(0x4a8)]),_0x642860;}}async['createConversationforStartFlow'](_0x1da7fa,_0x443aba,_0x2cb598){const _0x5e4e88=a0_0x21bcc2;this[_0x5e4e88(0x74f)][_0x5e4e88(0x78f)](this[_0x5e4e88(0x86d)]+'\x20('+this[_0x5e4e88(0x5cb)]['wuid']+_0x5e4e88(0x7ca)),await this[_0x5e4e88(0x7dc)](_0x443aba);try{let _0x280aa5=require(_0x5e4e88(0x24a))[_0x5e4e88(0x414)],_0x358a11=Date[_0x5e4e88(0x462)](),_0x4405ce=_0x5e4e88(0x251),_0xe976ad={},_0x4224f4={},_0x3ca240=this[_0x5e4e88(0x246)][_0x5e4e88(0x291)][_0x5e4e88(0x68c)](_0x37a206=>_0x37a206[_0x5e4e88(0x644)]===_0x1da7fa[_0x5e4e88(0x644)]?.[_0x5e4e88(0x929)]()),_0x4182fd=_0x3ca240?.[_0x5e4e88(0x781)]??_0x1da7fa[_0x5e4e88(0x781)]??0x0,_0x54e4aa=_0x3ca240?.[_0x5e4e88(0x75a)]??_0x1da7fa[_0x5e4e88(0x75a)]??!0x1,_0x46469f={'flowId':_0x1da7fa[_0x5e4e88(0x644)],..._0x1da7fa,'chatLog':null},_0x1eee99=await this['variablesToObject'](_0x46469f[_0x5e4e88(0x75e)]),_0x1c48c1=await this[_0x5e4e88(0x22c)](_0x443aba),_0x589207={..._0x1eee99,..._0x1c48c1,'_remoteJid':_0x443aba},_0xc56004={'lastReceivedMessage':_0xe976ad,'lastSendMessage':_0x4224f4,'lastBlockId':_0x4405ce,'lastCondition':!0x0,'realVariables':_0x589207};_0x46469f['chatLog']=_0xc56004,_0x46469f[_0x5e4e88(0x7ae)][_0x5e4e88(0x29e)]={..._0x589207,..._0x2cb598},delete _0x46469f[_0x5e4e88(0x644)],_0x46469f[_0x5e4e88(0x644)]=new _0x280aa5(),_0x46469f[_0x5e4e88(0x37f)]=_0x358a11,_0x46469f[_0x5e4e88(0x41a)]=_0x5e4e88(0x5f3),_0x46469f[_0x5e4e88(0x2c7)]=_0x443aba,_0x46469f['minutesToClose']=_0x4182fd,_0x46469f[_0x5e4e88(0x75a)]=_0x54e4aa,_0x46469f[_0x5e4e88(0x644)]=_0x1da7fa[_0x5e4e88(0x644)];let _0x406050=await this[_0x5e4e88(0x5bb)][_0x5e4e88(0x85d)]['updateOne'](_0x46469f[_0x5e4e88(0x644)],_0x46469f,this[_0x5e4e88(0x5cb)][_0x5e4e88(0x406)]);return this[_0x5e4e88(0x74f)][_0x5e4e88(0x78f)](this[_0x5e4e88(0x86d)]+'\x20('+this['instance'][_0x5e4e88(0x406)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x406050?_0x46469f:null;}catch(_0x1270b7){let _0x3c2b37=_0x5e4e88(0x6d0),_0x3abfd5=_0x1270b7 instanceof Error?_0x1270b7['message']:typeof _0x1270b7==_0x5e4e88(0x82b)?JSON['stringify'](_0x1270b7):_0x1270b7,_0x339fba=_0x3c2b37+':\x20'+_0x3abfd5;throw this[_0x5e4e88(0x74f)][_0x5e4e88(0x2fe)](this[_0x5e4e88(0x86d)]+'\x20('+this['instance'][_0x5e4e88(0x406)]+_0x5e4e88(0x5cc)+_0x339fba),new m(_0x339fba);}}async[a0_0x21bcc2(0x4ba)](_0x4fd4e5){const _0x28c767=a0_0x21bcc2;try{this[_0x28c767(0x74f)][_0x28c767(0x78f)](this[_0x28c767(0x86d)]+'\x20('+this[_0x28c767(0x5cb)][_0x28c767(0x406)]+_0x28c767(0x435)),this[_0x28c767(0x74f)][_0x28c767(0x78f)](this['instanceName']+'\x20('+this[_0x28c767(0x5cb)][_0x28c767(0x406)]+_0x28c767(0x8b6)+_0x4fd4e5);let _0x4a8038={'where':{'_id':_0x4fd4e5}};return await this[_0x28c767(0x5bb)]['flowConversation'][_0x28c767(0x7db)](_0x4a8038,this[_0x28c767(0x5cb)]['wuid']);}catch(_0x5730b8){let _0x4a7f77=_0x28c767(0x882),_0x57c9dc=_0x5730b8 instanceof Error?_0x5730b8[_0x28c767(0x4a8)]:typeof _0x5730b8==_0x28c767(0x82b)?JSON[_0x28c767(0x261)](_0x5730b8):_0x5730b8,_0x71ccad=_0x4a7f77+':\x20'+_0x57c9dc;throw this[_0x28c767(0x74f)][_0x28c767(0x2fe)](this[_0x28c767(0x86d)]+'\x20('+this[_0x28c767(0x5cb)][_0x28c767(0x406)]+_0x28c767(0x5cc)+_0x71ccad),new m(_0x71ccad);}}async[a0_0x21bcc2(0x681)](_0x48930b){const _0x29b0b3=a0_0x21bcc2;try{return this[_0x29b0b3(0x74f)][_0x29b0b3(0x78f)](this[_0x29b0b3(0x86d)]+'\x20('+this['instance'][_0x29b0b3(0x406)]+_0x29b0b3(0x890)),await this['repository']['flowConversation']['find'](_0x48930b,this[_0x29b0b3(0x5cb)][_0x29b0b3(0x406)]);}catch(_0x353685){let _0x43380a=_0x29b0b3(0x6e5),_0x4d98d9=_0x353685 instanceof Error?_0x353685[_0x29b0b3(0x4a8)]:typeof _0x353685=='object'?JSON[_0x29b0b3(0x261)](_0x353685):_0x353685,_0x245562=_0x43380a+':\x20'+_0x4d98d9;throw this[_0x29b0b3(0x74f)]['error'](this[_0x29b0b3(0x86d)]+'\x20('+this[_0x29b0b3(0x5cb)][_0x29b0b3(0x406)]+_0x29b0b3(0x5cc)+_0x245562),new m(_0x245562);}}async['deleteConversation'](_0x1b9b01){const _0x5de49b=a0_0x21bcc2;try{return this['logger'][_0x5de49b(0x78f)](this[_0x5de49b(0x86d)]+'\x20('+this[_0x5de49b(0x5cb)][_0x5de49b(0x406)]+_0x5de49b(0x55b)),this[_0x5de49b(0x74f)][_0x5de49b(0x78f)](this['instanceName']+'\x20('+this['instance'][_0x5de49b(0x406)]+_0x5de49b(0x510)+_0x1b9b01),(await this[_0x5de49b(0x5bb)]['flowConversation'][_0x5de49b(0x61c)]({'where':{'_id':_0x1b9b01[_0x5de49b(0x644)]}},this[_0x5de49b(0x5cb)][_0x5de49b(0x406)]))[_0x5de49b(0x6e4)]===0x0?{'message':_0x5de49b(0x640)}:{'message':_0x5de49b(0x633)};}catch(_0x3b5cdc){let _0x19c328=_0x5de49b(0x227),_0x216e40=_0x3b5cdc instanceof Error?_0x3b5cdc['message']:typeof _0x3b5cdc==_0x5de49b(0x82b)?JSON['stringify'](_0x3b5cdc):_0x3b5cdc,_0x51dcac=_0x19c328+':\x20'+_0x216e40;throw this[_0x5de49b(0x74f)][_0x5de49b(0x2fe)](this[_0x5de49b(0x86d)]+'\x20('+this['instance'][_0x5de49b(0x406)]+_0x5de49b(0x5cc)+_0x51dcac),new m(_0x51dcac);}}async[a0_0x21bcc2(0x54f)](_0x25d636){const _0x3c0d84=a0_0x21bcc2;try{let {_id:_0x1fe9bd,chatLog:_0x4f07d5,status:_0x2e92e3}=_0x25d636;if(!_0x1fe9bd)return{'message':_0x3c0d84(0x325)};let _0x2971ae={};if(_0x2e92e3!==void 0x0&&(_0x2971ae['status']=_0x2e92e3),Object['keys'](_0x2971ae)['length']===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x3c77cf=await this[_0x3c0d84(0x5bb)][_0x3c0d84(0x85d)]['updateOne'](_0x1fe9bd,_0x2971ae,this[_0x3c0d84(0x5cb)][_0x3c0d84(0x406)]);return _0x3c77cf||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x34c1d7){let _0x1e0f01=_0x3c0d84(0x30c),_0xcc72ce=_0x34c1d7 instanceof Error?_0x34c1d7[_0x3c0d84(0x4a8)]:typeof _0x34c1d7==_0x3c0d84(0x82b)?JSON['stringify'](_0x34c1d7):_0x34c1d7,_0x3e9295=_0x1e0f01+':\x20'+_0xcc72ce;throw this[_0x3c0d84(0x74f)][_0x3c0d84(0x2fe)](this['instanceName']+'\x20('+this[_0x3c0d84(0x5cb)][_0x3c0d84(0x406)]+_0x3c0d84(0x5cc)+_0x3e9295),new m(_0x3e9295);}}async['editChat'](_0x3a4690){const _0x321305=a0_0x21bcc2;try{_0x3a4690[_0x321305(0x644)]=this[_0x321305(0x5ce)](_0x3a4690['_id']);let _0x2f0463=await this[_0x321305(0x5bb)][_0x321305(0x580)]['findOne']({'where':{'_id':_0x3a4690[_0x321305(0x644)]}},this[_0x321305(0x5cb)][_0x321305(0x406)]);if(!_0x2f0463)throw new m(_0x321305(0x3a1));let {_id:_0x4fbc52,leadInfo:_0x4685d9}=_0x3a4690;if(!_0x4fbc52)throw new Error(_0x321305(0x8ba));if(_0x3a4690[_0x321305(0x8b1)]===_0x321305(0x3ec))return await this['deleteChat'](_0x3a4690[_0x321305(0x644)]),await this[_0x321305(0x5bb)][_0x321305(0x580)][_0x321305(0x8b1)]({'where':{'_id':_0x3a4690['_id']}},this[_0x321305(0x5cb)][_0x321305(0x406)]),await this[_0x321305(0x5bb)]['message']['delete']({'where':{'key':{'remoteJid':_0x3a4690['_id']}}},this[_0x321305(0x5cb)][_0x321305(0x406)]),_0x3a4690=await this[_0x321305(0x5bb)][_0x321305(0x580)][_0x321305(0x4f3)]({'where':{'_id':_0x3a4690['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x321305(0x5cb)]['wuid']),j(this[_0x321305(0x86d)],_0x321305(0x5bf),{'chat':_0x3a4690}),{'message':_0x321305(0x8a3)};if(_0x3a4690[_0x321305(0x8b1)]==='messages')return await this['repository'][_0x321305(0x4a8)][_0x321305(0x8b1)]({'where':{'key':{'remoteJid':_0x3a4690[_0x321305(0x644)]}}},this[_0x321305(0x5cb)]['wuid']),_0x3a4690=await this[_0x321305(0x5bb)][_0x321305(0x580)][_0x321305(0x4f3)]({'where':{'_id':_0x3a4690[_0x321305(0x644)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x321305(0x5cb)]['wuid']),j(this[_0x321305(0x86d)],_0x321305(0x5bf),{'chat':_0x3a4690}),{'message':_0x321305(0x399)};let _0x3b1e98=(_0x2ad734,_0x387890,_0x4dc79f)=>{_0x2ad734&&_0x4dc79f['forEach'](_0x30f51e=>{const _0x5812c4=a0_0x4215;_0x2ad734[_0x30f51e]!==void 0x0&&(_0x387890[_0x5812c4(0x3f8)+_0x30f51e]=_0x2ad734[_0x30f51e]);});},_0x5037bb={};if(_0x321305(0x249)in _0x3a4690&&(this['logger'][_0x321305(0x78f)](this[_0x321305(0x86d)]+'\x20('+this['instance'][_0x321305(0x406)]+_0x321305(0x403)+_0x3a4690[_0x321305(0x644)]),_0x3a4690[_0x321305(0x249)]=_0x3a4690[_0x321305(0x249)]===0x0?null:-0x1,await this[_0x321305(0x2cd)][_0x321305(0x56d)]({'mute':_0x3a4690[_0x321305(0x249)]},_0x3a4690[_0x321305(0x644)]),_0x5037bb[_0x321305(0x249)]=Number(_0x3a4690[_0x321305(0x249)])),_0x4685d9&&(_0x3b1e98(_0x4685d9,_0x5037bb,[_0x321305(0x48d),'nomecompleto',_0x321305(0x82d),_0x321305(0x648),_0x321305(0x41a),_0x321305(0x2fb),_0x321305(0x771),_0x321305(0x847),_0x321305(0x447),_0x321305(0x1fd),_0x321305(0x575)]),Array[_0x321305(0x744)](_0x4685d9[_0x321305(0x302)])&&(_0x5037bb['leadInfo.customFields']=_0x4685d9[_0x321305(0x302)][_0x321305(0x867)](_0x568cf1=>({'_id':_0x568cf1[_0x321305(0x644)],'value':_0x568cf1[_0x321305(0x61f)]}))),_0x3a4690[_0x321305(0x4e7)][_0x321305(0x1fd)]!==void 0x0)){let _0x15c6f6=await this[_0x321305(0x5bb)][_0x321305(0x7a4)][_0x321305(0x68c)]({'where':{}},this[_0x321305(0x5cb)][_0x321305(0x406)]),_0x17a9cf=new Set(_0x3a4690[_0x321305(0x4e7)]['etiquetas']||[]),_0x202d21=new Set(_0x3a4690['leadInfo']['etiquetas']),_0x13909=new Set(_0x15c6f6[_0x321305(0x867)](_0x4377bf=>_0x4377bf[_0x321305(0x644)])),_0x4ca052=[..._0x202d21][_0x321305(0x874)](_0xf889df=>!_0x17a9cf[_0x321305(0x4d5)](_0xf889df)&&_0x13909['has'](_0xf889df)),_0x4f0acb=[..._0x17a9cf]['filter'](_0x568490=>!_0x202d21['has'](_0x568490));if(_0x5037bb[_0x321305(0x843)]=[..._0x17a9cf],_0x2f0463&&!_0x2f0463[_0x321305(0x455)]){for(let _0x48f61c of _0x4ca052)await this[_0x321305(0x4eb)](_0x48f61c,_0x3a4690['_id']),_0x17a9cf[_0x321305(0x65e)](_0x48f61c);for(let _0x55564b of _0x4f0acb)await this['RemoveChatLabel'](_0x55564b,_0x3a4690[_0x321305(0x644)]),_0x17a9cf['delete'](_0x55564b);}}if(_0x3a4690['unreadcount']!==void 0x0&&(_0x5037bb[_0x321305(0x813)]=Number(_0x3a4690[_0x321305(0x813)])),Object[_0x321305(0x4ac)](_0x5037bb)[_0x321305(0x7be)]===0x0)throw new Error(_0x321305(0x7ab));let _0x4ee911=await this['repository'][_0x321305(0x580)][_0x321305(0x4f3)]({'where':{'_id':_0x3a4690[_0x321305(0x644)]}},_0x5037bb,this[_0x321305(0x5cb)][_0x321305(0x406)]);return _0x4ee911&&j(this[_0x321305(0x86d)],_0x321305(0x5bf),{'chat':_0x4ee911}),_0x4ee911?(this[_0x321305(0x74f)][_0x321305(0x78f)](this[_0x321305(0x86d)]+'\x20('+this[_0x321305(0x5cb)]['wuid']+_0x321305(0x5cc)+JSON['stringify'](_0x4ee911,null,0x2)),_0x4ee911):{'message':_0x321305(0x6f1)};}catch(_0x297865){let _0x2e53e3='Erro\x20ao\x20editar\x20o\x20chat',_0x71924b=_0x297865 instanceof Error?_0x297865[_0x321305(0x4a8)]:typeof _0x297865==_0x321305(0x82b)?JSON[_0x321305(0x261)](_0x297865):_0x297865,_0x590f98=_0x2e53e3+':\x20'+_0x71924b;throw this[_0x321305(0x74f)][_0x321305(0x2fe)](this[_0x321305(0x86d)]+'\x20('+this[_0x321305(0x5cb)][_0x321305(0x406)]+'):\x20'+_0x590f98),new m(_0x590f98);}}async[a0_0x21bcc2(0x4eb)](_0x2a63de,_0x359a55){const _0x111fa5=a0_0x21bcc2;try{await this[_0x111fa5(0x2cd)]['addChatLabel'](_0x359a55,_0x2a63de),this[_0x111fa5(0x74f)]['info'](this[_0x111fa5(0x86d)]+'\x20('+this['instance']['wuid']+_0x111fa5(0x1fb)+_0x2a63de+_0x111fa5(0x387)+_0x359a55+_0x111fa5(0x591));}catch(_0x330aab){this['logger'][_0x111fa5(0x2fe)](_0x111fa5(0x83b)+_0x2a63de+_0x111fa5(0x31e)+_0x359a55+':\x20'+_0x330aab);}}async[a0_0x21bcc2(0x422)](_0x4fb946,_0x549fc7){const _0x4ee2a9=a0_0x21bcc2;try{await this['client'][_0x4ee2a9(0x35b)](_0x549fc7,_0x4fb946),this[_0x4ee2a9(0x74f)]['info'](this[_0x4ee2a9(0x86d)]+'\x20('+this[_0x4ee2a9(0x5cb)][_0x4ee2a9(0x406)]+_0x4ee2a9(0x1fb)+_0x4fb946+_0x4ee2a9(0x68d)+_0x549fc7+_0x4ee2a9(0x591));}catch(_0x27edd5){this[_0x4ee2a9(0x74f)][_0x4ee2a9(0x2fe)](_0x4ee2a9(0x8c5)+_0x4fb946+_0x4ee2a9(0x67b)+_0x549fc7+':\x20'+_0x27edd5);}}async[a0_0x21bcc2(0x8dc)](_0x40a63d){const _0x51b358=a0_0x21bcc2;try{let _0x3679c5=await this['repository'][_0x51b358(0x26a)]['findOrCreate'](this[_0x51b358(0x5cb)][_0x51b358(0x406)]),_0x2feb5d=_0x40a63d[_0x51b358(0x644)]?_0x3679c5[_0x51b358(0x8d7)][_0x51b358(0x785)](_0x845b7d=>_0x845b7d['_id']===_0x40a63d['_id']):-0x1;if(_0x40a63d[_0x51b358(0x8b1)]&&_0x2feb5d>-0x1)_0x3679c5['agents'][_0x51b358(0x5a9)](_0x2feb5d,0x1);else{if(_0x2feb5d>-0x1){let _0x9cd9b2=_0x3679c5[_0x51b358(0x8d7)][_0x2feb5d];_0x40a63d['fone']&&(_0x9cd9b2['fone']=_0x40a63d[_0x51b358(0x72c)]),_0x40a63d['name']&&(_0x9cd9b2[_0x51b358(0x83e)]=_0x40a63d[_0x51b358(0x83e)]),_0x40a63d[_0x51b358(0x82d)]&&(_0x9cd9b2['email']=_0x40a63d['email']),_0x40a63d['role']&&(_0x9cd9b2[_0x51b358(0x411)]=_0x40a63d['role']);}else _0x3679c5[_0x51b358(0x8d7)][_0x51b358(0x2ea)]({'_id':_0x40a63d[_0x51b358(0x644)]||new fe[(_0x51b358(0x7ac))][(_0x51b358(0x4e9))]['ObjectId']()[_0x51b358(0x929)](),'fone':_0x40a63d[_0x51b358(0x72c)],'name':_0x40a63d[_0x51b358(0x83e)],'email':_0x40a63d['email'],'role':_0x40a63d['role']});}let _0x35bb3e={'agents':_0x3679c5[_0x51b358(0x8d7)]},_0x50db3c=await this[_0x51b358(0x5bb)][_0x51b358(0x26a)][_0x51b358(0x7ed)](_0x35bb3e,this[_0x51b358(0x5cb)][_0x51b358(0x406)]);return this['AutomateSystem']=_0x50db3c,this['logger'][_0x51b358(0x78f)](this['instanceName']+'\x20('+this[_0x51b358(0x5cb)][_0x51b358(0x406)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x51b358(0x74f)][_0x51b358(0x78f)](this['instanceName']+'\x20('+this[_0x51b358(0x5cb)][_0x51b358(0x406)]+'):\x20'+this[_0x51b358(0x246)]),_0x50db3c;}catch(_0x431b45){let _0x155257=_0x51b358(0x4e3),_0x5c161c=_0x431b45 instanceof Error?_0x431b45[_0x51b358(0x4a8)]:typeof _0x431b45=='object'?JSON['stringify'](_0x431b45):_0x431b45,_0x4dddbd=_0x155257+':\x20'+_0x5c161c;throw this[_0x51b358(0x74f)][_0x51b358(0x2fe)](this[_0x51b358(0x86d)]+'\x20('+this[_0x51b358(0x5cb)][_0x51b358(0x406)]+'):\x20'+_0x4dddbd),new m(_0x4dddbd);}}async[a0_0x21bcc2(0x3d9)](_0x476bae){const _0x37a379=a0_0x21bcc2;try{let _0x2e7019=await this[_0x37a379(0x5bb)][_0x37a379(0x26a)][_0x37a379(0x344)](this[_0x37a379(0x5cb)][_0x37a379(0x406)]),_0x23a391=_0x476bae['_id']?_0x2e7019[_0x37a379(0x302)][_0x37a379(0x785)](_0x2a23e2=>_0x2a23e2[_0x37a379(0x644)]===_0x476bae['_id']):-0x1,_0x5ee4b8=!0x1,_0x4b3379=_0x2e7019[_0x37a379(0x302)]['some'](_0x391a51=>_0x391a51[_0x37a379(0x323)]===_0x476bae[_0x37a379(0x323)]);if(_0x476bae['delete']&&_0x23a391>-0x1)_0x2e7019['customFields'][_0x37a379(0x5a9)](_0x23a391,0x1),_0x5ee4b8=!0x0;else{if(_0x23a391>-0x1){if(_0x2e7019[_0x37a379(0x302)][_0x37a379(0x777)](_0x25727f=>_0x25727f[_0x37a379(0x83e)]===_0x476bae[_0x37a379(0x83e)]&&_0x25727f[_0x37a379(0x644)]!==_0x476bae[_0x37a379(0x644)]))throw new Error(_0x37a379(0x884));let _0x8c4a44=_0x2e7019[_0x37a379(0x302)][_0x23a391];_0x476bae[_0x37a379(0x323)]&&(_0x4b3379||!Number[_0x37a379(0x21d)](_0x476bae[_0x37a379(0x323)]))&&(_0x8c4a44[_0x37a379(0x323)]=_0x476bae[_0x37a379(0x323)],_0x5ee4b8=!0x0),_0x476bae[_0x37a379(0x83e)]&&(_0x8c4a44[_0x37a379(0x83e)]=_0x476bae[_0x37a379(0x83e)]);}else{if(_0x2e7019[_0x37a379(0x302)][_0x37a379(0x777)](_0x3001ba=>_0x3001ba['name']===_0x476bae['name']&&_0x3001ba[_0x37a379(0x644)]!==_0x476bae[_0x37a379(0x644)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x2e7019[_0x37a379(0x302)][_0x37a379(0x2ea)]({'_id':_0x476bae[_0x37a379(0x644)]||new fe[(_0x37a379(0x7ac))][(_0x37a379(0x4e9))][(_0x37a379(0x414))]()[_0x37a379(0x929)](),'order':_0x476bae[_0x37a379(0x323)],'name':_0x476bae[_0x37a379(0x83e)]}),_0x5ee4b8=!0x0;}}if(_0x5ee4b8){_0x2e7019[_0x37a379(0x302)][_0x37a379(0x786)]((_0x57dcfb,_0xb1b636)=>_0x57dcfb[_0x37a379(0x323)]>_0xb1b636[_0x37a379(0x323)]?0x1:_0xb1b636[_0x37a379(0x323)]>_0x57dcfb['order']?-0x1:0x0);for(let _0x15c391=0x0;_0x15c391<_0x2e7019[_0x37a379(0x302)][_0x37a379(0x7be)];_0x15c391++)_0x2e7019['customFields'][_0x15c391][_0x37a379(0x323)]=_0x15c391+0x1;}let _0x4c89d1=await this[_0x37a379(0x5bb)]['automateSystem'][_0x37a379(0x7ed)](_0x2e7019,this['instance'][_0x37a379(0x406)]);return this[_0x37a379(0x246)]=_0x4c89d1,this[_0x37a379(0x74f)][_0x37a379(0x78f)](this[_0x37a379(0x86d)]+'\x20('+this['instance'][_0x37a379(0x406)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x37a379(0x74f)]['verbose'](this[_0x37a379(0x86d)]+'\x20('+this[_0x37a379(0x5cb)][_0x37a379(0x406)]+_0x37a379(0x5cc)+this[_0x37a379(0x246)]),_0x4c89d1;}catch(_0x19e601){let _0x58f01f=_0x37a379(0x5bc),_0x1bcfe9=_0x19e601 instanceof Error?_0x19e601['message']:typeof _0x19e601==_0x37a379(0x82b)?JSON['stringify'](_0x19e601):_0x19e601,_0x168c50=_0x58f01f+':\x20'+_0x1bcfe9;throw this['logger'][_0x37a379(0x2fe)](this['instanceName']+'\x20('+this['instance'][_0x37a379(0x406)]+_0x37a379(0x5cc)+_0x168c50),new m(_0x168c50);}}async[a0_0x21bcc2(0x241)](_0x5186e1){const _0xba9c94=a0_0x21bcc2;try{let _0x310398=await this[_0xba9c94(0x5bb)][_0xba9c94(0x26a)][_0xba9c94(0x344)](this[_0xba9c94(0x5cb)][_0xba9c94(0x406)]),_0xc0bab8=_0x310398?.['autoCompleteMessages']?.['findIndex'](_0x259cdf=>_0x259cdf['_id']===_0x5186e1?.[_0xba9c94(0x644)]);if(_0x5186e1?.[_0xba9c94(0x8b1)])_0xc0bab8>-0x1&&_0x310398?.[_0xba9c94(0x8f8)]?.[_0xba9c94(0x5a9)](_0xc0bab8,0x1);else{if(_0xc0bab8>-0x1){let _0x2f2f73=_0x310398[_0xba9c94(0x8f8)][_0xc0bab8];_0x2f2f73[_0xba9c94(0x323)]=_0x5186e1?.[_0xba9c94(0x323)]||_0x2f2f73['order'],_0x2f2f73[_0xba9c94(0x472)]=_0x5186e1?.['command']||_0x2f2f73[_0xba9c94(0x472)],_0x2f2f73[_0xba9c94(0x4a8)]=_0x5186e1?.[_0xba9c94(0x4a8)]||_0x2f2f73[_0xba9c94(0x4a8)];}else{let _0x22cf6d={'_id':_0x5186e1?.[_0xba9c94(0x644)]||new fe[(_0xba9c94(0x7ac))][(_0xba9c94(0x4e9))][(_0xba9c94(0x414))]()[_0xba9c94(0x929)](),'order':_0x5186e1?.['order'],'command':_0x5186e1?.[_0xba9c94(0x472)],'message':_0x5186e1?.[_0xba9c94(0x4a8)]};_0x310398?.[_0xba9c94(0x8f8)]?.[_0xba9c94(0x2ea)](_0x22cf6d);}}_0x310398?.[_0xba9c94(0x8f8)]?.[_0xba9c94(0x786)]((_0x50603a,_0x4d8b27)=>_0x50603a[_0xba9c94(0x323)]-_0x4d8b27['order']);let _0x39f2ed=await this[_0xba9c94(0x5bb)][_0xba9c94(0x26a)]['update'](_0x310398,this[_0xba9c94(0x5cb)]['wuid']);return this[_0xba9c94(0x246)]=_0x39f2ed,this[_0xba9c94(0x74f)][_0xba9c94(0x78f)](this[_0xba9c94(0x86d)]+'\x20('+this[_0xba9c94(0x5cb)][_0xba9c94(0x406)]+_0xba9c94(0x404)),_0x39f2ed;}catch(_0xa5255b){let _0x559631=_0xba9c94(0x6dd),_0x11d3b8=_0xa5255b instanceof Error?_0xa5255b[_0xba9c94(0x4a8)]:typeof _0xa5255b=='object'?JSON['stringify'](_0xa5255b):_0xa5255b,_0x205893=_0x559631+':\x20'+_0x11d3b8;throw this['logger'][_0xba9c94(0x2fe)](this[_0xba9c94(0x86d)]+'\x20('+this[_0xba9c94(0x5cb)][_0xba9c94(0x406)]+_0xba9c94(0x5cc)+_0x205893),new m(_0x205893);}}async[a0_0x21bcc2(0x734)](_0x4193c1){const _0x262ee1=a0_0x21bcc2;try{let _0x3972f9=await this[_0x262ee1(0x5bb)]['automateSystem'][_0x262ee1(0x344)](this[_0x262ee1(0x5cb)][_0x262ee1(0x406)]);if(!_0x3972f9)throw new Error(_0x262ee1(0x49b));let _0x204a87={'_id':_0x3972f9['_id'],'flowConfig':{'enabled':_0x4193c1['enabled']??_0x3972f9[_0x262ee1(0x1fa)][_0x262ee1(0x3b3)],'ignoreGroups':_0x4193c1[_0x262ee1(0x3fb)]??_0x3972f9[_0x262ee1(0x1fa)][_0x262ee1(0x3fb)],'stopConversation':_0x4193c1['stopConversation']['trim']()??_0x3972f9[_0x262ee1(0x1fa)]['stopConversation'][_0x262ee1(0x57a)](),'stopMinutes':_0x4193c1['stopMinutes']??_0x3972f9[_0x262ee1(0x1fa)][_0x262ee1(0x20e)],'stopWhenYouSendMsg':_0x4193c1['stopWhenYouSendMsg']??_0x3972f9[_0x262ee1(0x1fa)][_0x262ee1(0x40e)]}},_0x3abc41=await this[_0x262ee1(0x5bb)][_0x262ee1(0x26a)][_0x262ee1(0x7ed)](_0x204a87,this['instance']['wuid']);return this['AutomateSystem']=_0x3abc41,this[_0x262ee1(0x74f)][_0x262ee1(0x78f)](this[_0x262ee1(0x86d)]+'\x20('+this[_0x262ee1(0x5cb)][_0x262ee1(0x406)]+_0x262ee1(0x91d)),this[_0x262ee1(0x74f)]['verbose'](this[_0x262ee1(0x86d)]+'\x20('+this[_0x262ee1(0x5cb)]['wuid']+_0x262ee1(0x5cc)+this['AutomateSystem']),setTimeout(()=>this[_0x262ee1(0x706)](),0x7d0),_0x3abc41;}catch(_0x51c7e7){let _0x38fc00=_0x262ee1(0x4fe),_0x47a8cc=_0x51c7e7 instanceof Error?_0x51c7e7[_0x262ee1(0x4a8)]:typeof _0x51c7e7=='object'?JSON[_0x262ee1(0x261)](_0x51c7e7):_0x51c7e7,_0x2c0e11=_0x38fc00+':\x20'+_0x47a8cc;throw this[_0x262ee1(0x74f)][_0x262ee1(0x2fe)](this[_0x262ee1(0x86d)]+'\x20('+this[_0x262ee1(0x5cb)][_0x262ee1(0x406)]+_0x262ee1(0x5cc)+_0x2c0e11),new m(_0x2c0e11);}}async[a0_0x21bcc2(0x27c)](){const _0x2ed7a3=a0_0x21bcc2;try{let _0x16dca5=await this[_0x2ed7a3(0x5bb)]['automateSystem'][_0x2ed7a3(0x344)](this[_0x2ed7a3(0x5cb)][_0x2ed7a3(0x406)]);return this['AutomateSystem']=_0x16dca5,_0x16dca5;}catch(_0x2b1652){let _0x500dfc=_0x2ed7a3(0x7fb),_0x56d805=_0x2b1652 instanceof Error?_0x2b1652[_0x2ed7a3(0x4a8)]:typeof _0x2b1652==_0x2ed7a3(0x82b)?JSON[_0x2ed7a3(0x261)](_0x2b1652):_0x2b1652,_0x2f3e7b=_0x500dfc+':\x20'+_0x56d805;throw this['logger'][_0x2ed7a3(0x2fe)](this[_0x2ed7a3(0x86d)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x2f3e7b),new m(_0x2f3e7b);}}async[a0_0x21bcc2(0x301)](){const _0x21ebc2=a0_0x21bcc2;this[_0x21ebc2(0x5cb)]['ScheduleMessage'][_0x21ebc2(0x317)]&&clearTimeout(this[_0x21ebc2(0x5cb)][_0x21ebc2(0x6dc)][_0x21ebc2(0x317)]),this[_0x21ebc2(0x5cb)]['ScheduleMessage'][_0x21ebc2(0x317)]=setTimeout(()=>{const _0x24b5e1=_0x21ebc2;this[_0x24b5e1(0x485)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x21bcc2(0x485)](){const _0x15d216=a0_0x21bcc2;Date[_0x15d216(0x462)]()-this[_0x15d216(0x5cb)][_0x15d216(0x6dc)][_0x15d216(0x1e7)]>=0x1d4c0&&(this[_0x15d216(0x74f)]['verbose'](this[_0x15d216(0x86d)]+'\x20('+this[_0x15d216(0x5cb)][_0x15d216(0x406)]+_0x15d216(0x4c3)),this[_0x15d216(0x5cb)][_0x15d216(0x6dc)][_0x15d216(0x606)]=null,this[_0x15d216(0x5cb)][_0x15d216(0x6dc)]['lastSend']=0x0,this['instance'][_0x15d216(0x6dc)][_0x15d216(0x634)]=0x0,await this[_0x15d216(0x706)]());}async[a0_0x21bcc2(0x706)](){const _0x434ab1=a0_0x21bcc2;await this[_0x434ab1(0x855)]();let _0x168564=()=>{const _0x11143d=_0x434ab1;this['logger']['verbose'](this[_0x11143d(0x86d)]+'\x20('+this['instance'][_0x11143d(0x406)]+_0x11143d(0x8a5)+this[_0x11143d(0x5cb)][_0x11143d(0x6dc)][_0x11143d(0x606)]+'\x20saindo\x20da\x20função');},_0xdd0fc0=async()=>{const _0x66ddc9=_0x434ab1;this[_0x66ddc9(0x74f)][_0x66ddc9(0x78f)](this[_0x66ddc9(0x86d)]+'\x20('+this[_0x66ddc9(0x5cb)][_0x66ddc9(0x406)]+_0x66ddc9(0x7af));let _0x3ac8c5=Date[_0x66ddc9(0x462)]()-0xc*0x3c*0x3c*0x3e8,_0x1323d9={'where':{'status':{'$in':[_0x66ddc9(0x42f),_0x66ddc9(0x57d)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x3ac8c5}},{'when':0x0}]}};return await this[_0x66ddc9(0x5bb)]['scheduleMessage'][_0x66ddc9(0x68c)](_0x1323d9,this['instance']['wuid']);},_0x29f6a8=async _0x10366b=>{const _0x23863e=_0x434ab1;let _0x4940aa=Math[_0x23863e(0x921)](Math[_0x23863e(0x4ec)]()*0x1389)+0xbb8;for(let _0x430927 of _0x10366b){let _0x19af80={'_id':_0x430927[_0x23863e(0x644)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x23863e(0x462)]()-0x2710}}]},_0x184116={'startSend':Date[_0x23863e(0x462)]()};if(!await this[_0x23863e(0x5bb)][_0x23863e(0x408)][_0x23863e(0x4f3)](_0x19af80,_0x184116,this[_0x23863e(0x5cb)]['wuid']))return;if(!this[_0x23863e(0x5cb)][_0x23863e(0x6dc)][_0x23863e(0x395)]){this[_0x23863e(0x74f)][_0x23863e(0x78f)](this[_0x23863e(0x86d)]+'\x20('+this['instance'][_0x23863e(0x406)]+_0x23863e(0x3ed));break;}let _0x371356=(_0x430927[_0x23863e(0x6aa)]||[])[_0x23863e(0x874)](_0x2f6a7b=>!_0x2f6a7b['triedToSend'])['sort']((_0x3895da,_0x30f5ba)=>(_0x3895da['order']??0x0)-(_0x30f5ba[_0x23863e(0x323)]??0x0));for(let _0x41dba3 of _0x371356){if(await this['setRestartTimeout'](),this[_0x23863e(0x5cb)][_0x23863e(0x6dc)][_0x23863e(0x1e7)]=Date[_0x23863e(0x462)](),this[_0x23863e(0x5cb)][_0x23863e(0x6dc)][_0x23863e(0x44e)]===_0x41dba3[_0x23863e(0x644)]){this[_0x23863e(0x74f)][_0x23863e(0x2fe)](this[_0x23863e(0x86d)]+'\x20('+this['instance'][_0x23863e(0x406)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20'+_0x41dba3['_id']+_0x23863e(0x7f6));continue;}if(this[_0x23863e(0x5cb)][_0x23863e(0x6dc)]['lastMessage_id']=_0x41dba3[_0x23863e(0x644)],_0x41dba3[_0x23863e(0x6c4)]){this['logger'][_0x23863e(0x78f)](this[_0x23863e(0x86d)]+'\x20('+this[_0x23863e(0x5cb)][_0x23863e(0x406)]+_0x23863e(0x852)+_0x41dba3[_0x23863e(0x2c7)]+_0x23863e(0x87c));continue;}if(!this[_0x23863e(0x5cb)][_0x23863e(0x6dc)][_0x23863e(0x395)]){this[_0x23863e(0x74f)]['verbose'](this[_0x23863e(0x86d)]+'\x20('+this['instance']['wuid']+_0x23863e(0x895));break;}if(!this[_0x23863e(0x5cb)][_0x23863e(0x6dc)][_0x23863e(0x606)]){this['logger'][_0x23863e(0x78f)](this[_0x23863e(0x86d)]+'\x20('+this[_0x23863e(0x5cb)][_0x23863e(0x406)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x430927[_0x23863e(0x644)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0x41dba3[_0x23863e(0x347)]===_0x23863e(0x3f5)&&!this[_0x23863e(0x246)]?.[_0x23863e(0x1fa)][_0x23863e(0x3b3)]){this['logger'][_0x23863e(0x2fe)](this[_0x23863e(0x86d)]+'\x20('+this[_0x23863e(0x5cb)][_0x23863e(0x406)]+_0x23863e(0x3dc));break;}let _0x4f98d9={'idControl':_0x41dba3['_id'],'remoteJid':_0x41dba3[_0x23863e(0x2c7)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x23863e(0x462)]()},_0x375e61=null;try{this[_0x23863e(0x74f)][_0x23863e(0x78f)](this[_0x23863e(0x86d)]+'\x20('+this['instance'][_0x23863e(0x406)]+_0x23863e(0x67c)+_0x41dba3[_0x23863e(0x2c7)]);let _0x4d0d44=await this[_0x23863e(0x8d6)](_0x41dba3['remoteJid'],_0x41dba3);_0x4f98d9['error']=_0x4d0d44[_0x23863e(0x2fe)],_0x4f98d9['id']=_0x4d0d44[_0x23863e(0x2fe)]?null:_0x4d0d44['id'],_0x4f98d9[_0x23863e(0x73d)]=_0x4d0d44[_0x23863e(0x2fe)]?_0x4d0d44['detail']?_0x4d0d44['detail'][_0x23863e(0x929)]():'':null;let _0x5e4170=_0x430927[_0x23863e(0x6aa)][_0x23863e(0x785)](_0x4a8245=>_0x4a8245[_0x23863e(0x644)]===_0x41dba3[_0x23863e(0x644)]);_0x5e4170!==-0x1&&(_0x430927['messages'][_0x5e4170][_0x23863e(0x6c4)]=!0x0);let _0x476dab={'$push':{'messagesSend':_0x4f98d9},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x1a1f6b=[{'elem._id':_0x41dba3['_id']}];if(this[_0x23863e(0x74f)][_0x23863e(0x78f)](this[_0x23863e(0x86d)]+'\x20('+this[_0x23863e(0x5cb)][_0x23863e(0x406)]+'):\x20Atualizando\x20status\x20da\x20mensagem\x20'+_0x41dba3[_0x23863e(0x644)]),_0x375e61=await this['repository'][_0x23863e(0x408)]['updateOne']({'_id':_0x430927['_id']},_0x476dab,this[_0x23863e(0x5cb)][_0x23863e(0x406)],{'arrayFilters':_0x1a1f6b}),_0x4d0d44[_0x23863e(0x2fe)]){this[_0x23863e(0x74f)][_0x23863e(0x2fe)](this[_0x23863e(0x86d)]+'\x20('+this[_0x23863e(0x5cb)][_0x23863e(0x406)]+'):\x20Erro\x20ao\x20enviar\x20mensagem:\x20'+_0x4d0d44['detail']);continue;}let _0x1740b2=this['getDelay'](_0x430927[_0x23863e(0x1f3)],_0x430927[_0x23863e(0x4db)]);await this[_0x23863e(0x8a2)](_0x1740b2);}catch(_0x39e1a6){this['logger'][_0x23863e(0x2fe)](this['instanceName']+'\x20('+this[_0x23863e(0x5cb)][_0x23863e(0x406)]+_0x23863e(0x4c5)+_0x41dba3[_0x23863e(0x2c7)]+':\x20'+(_0x39e1a6 instanceof Error?_0x39e1a6[_0x23863e(0x4a8)]:JSON[_0x23863e(0x261)](_0x39e1a6,null,0x2))),_0x4f98d9[_0x23863e(0x2fe)]=!0x0,_0x4f98d9[_0x23863e(0x73d)]=_0x39e1a6[_0x23863e(0x4a8)];let _0x54e9dd=_0x430927[_0x23863e(0x6aa)][_0x23863e(0x785)](_0x2df845=>_0x2df845[_0x23863e(0x644)]===_0x41dba3['_id']);_0x54e9dd!==-0x1&&(_0x430927['messages'][_0x54e9dd][_0x23863e(0x6c4)]=!0x0);let _0x128e3a={'$push':{'messagesSend':_0x4f98d9},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x22479d=[{'elem._id':_0x41dba3['_id']}];this['logger'][_0x23863e(0x78f)](this[_0x23863e(0x86d)]+'\x20('+this[_0x23863e(0x5cb)][_0x23863e(0x406)]+'):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20'+_0x41dba3[_0x23863e(0x644)]),_0x375e61=await this[_0x23863e(0x5bb)]['scheduleMessage'][_0x23863e(0x4f3)]({'_id':_0x430927['_id']},_0x128e3a,this[_0x23863e(0x5cb)][_0x23863e(0x406)],{'arrayFilters':_0x22479d});}finally{if(_0x375e61&&_0x375e61['status']===_0x23863e(0x310)){this[_0x23863e(0x74f)][_0x23863e(0x78f)](this[_0x23863e(0x86d)]+'\x20('+this[_0x23863e(0x5cb)][_0x23863e(0x406)]+_0x23863e(0x924)+_0x41dba3[_0x23863e(0x644)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0x5b789b=await this['repository']['scheduleMessage'][_0x23863e(0x4f0)](_0x430927[_0x23863e(0x644)],this[_0x23863e(0x5cb)][_0x23863e(0x406)]);if(_0x5b789b['messages'][_0x23863e(0x688)](_0x82208c=>_0x82208c[_0x23863e(0x6c4)])&&_0x5b789b[_0x23863e(0x41a)]!=='stopped'){this[_0x23863e(0x5cb)][_0x23863e(0x6dc)]['lastMessage_id']=null;let _0x1551c4={'$set':{'status':_0x23863e(0x4b1)}};await this[_0x23863e(0x5bb)][_0x23863e(0x408)]['updateOneById'](_0x5b789b['_id'],_0x1551c4,this[_0x23863e(0x5cb)][_0x23863e(0x406)]);}await new Promise(_0x4e1e20=>setTimeout(_0x4e1e20,_0x4940aa));}},_0x53a8ca=async()=>{const _0x561764=_0x434ab1;let _0x1e88ce={'where':{'status':'scheduled','when':{'$gt':Date[_0x561764(0x462)]()}}},_0xb36507=await this['repository']['scheduleMessage'][_0x561764(0x7db)](_0x1e88ce,this[_0x561764(0x5cb)][_0x561764(0x406)]);_0xb36507&&_0xb36507[_0x561764(0x54b)]-Date[_0x561764(0x462)]()<=0x5265c00?this['instance'][_0x561764(0x6dc)][_0x561764(0x634)]=_0xb36507[_0x561764(0x54b)]-Date['now']():this[_0x561764(0x5cb)][_0x561764(0x6dc)][_0x561764(0x634)]=(0x3c+Math['floor'](Math[_0x561764(0x4ec)]()*0x3c))*0x3c*0x3e8,this['instance'][_0x561764(0x6dc)][_0x561764(0x634)]=Math[_0x561764(0x89e)](this[_0x561764(0x5cb)][_0x561764(0x6dc)]['delayMessage'],0x1*0x2*0x3e8);let _0x455c2e=Math[_0x561764(0x8e7)](this[_0x561764(0x5cb)]['ScheduleMessage'][_0x561764(0x634)]/0xea60);if(_0xb36507){let _0x51375b=new Date(_0xb36507['when'])[_0x561764(0x764)]();this[_0x561764(0x74f)][_0x561764(0x78f)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x561764(0x2ae)+_0x51375b+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x455c2e+_0x561764(0x46a));}else this['logger'][_0x561764(0x78f)](this[_0x561764(0x86d)]+'\x20('+this['instance'][_0x561764(0x406)]+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x455c2e+_0x561764(0x46a));setTimeout(()=>this[_0x561764(0x706)](),this['instance'][_0x561764(0x6dc)]['delayMessage']);};if(this[_0x434ab1(0x5cb)][_0x434ab1(0x6dc)]['processingGroup_id']){await this[_0x434ab1(0x301)](),_0x168564();return;}if(!this[_0x434ab1(0x5cb)]['ScheduleMessage'][_0x434ab1(0x395)]){this[_0x434ab1(0x74f)][_0x434ab1(0x78f)](this[_0x434ab1(0x86d)]+'\x20('+this[_0x434ab1(0x5cb)][_0x434ab1(0x406)]+_0x434ab1(0x719)),this[_0x434ab1(0x5cb)][_0x434ab1(0x6dc)][_0x434ab1(0x606)]=null,this[_0x434ab1(0x5cb)][_0x434ab1(0x6dc)]['lastSend']=0x0,this[_0x434ab1(0x5cb)][_0x434ab1(0x6dc)]['delayMessage']=0x0,this[_0x434ab1(0x5cb)][_0x434ab1(0x6dc)][_0x434ab1(0x44e)]=null;return;}try{let _0x26cb8a=await _0xdd0fc0();_0x26cb8a[_0x434ab1(0x7be)]===0x0?this[_0x434ab1(0x74f)][_0x434ab1(0x78f)](this['instanceName']+'\x20('+this[_0x434ab1(0x5cb)]['wuid']+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x434ab1(0x5cb)][_0x434ab1(0x6dc)]['processingGroup_id']=_0x26cb8a[0x0]['_id'],await _0x29f6a8(_0x26cb8a)),await _0x53a8ca(),this[_0x434ab1(0x5cb)][_0x434ab1(0x6dc)][_0x434ab1(0x606)]=null,this['instance'][_0x434ab1(0x6dc)]['lastMessage_id']=null;}catch(_0x577d28){this[_0x434ab1(0x74f)]['error'](_0x434ab1(0x8f7)+(_0x577d28 instanceof Error?_0x577d28[_0x434ab1(0x4a8)]:JSON[_0x434ab1(0x261)](_0x577d28,null,0x2)));}}[a0_0x21bcc2(0x8e2)](_0x40cd37,_0x24c30d){const _0x2b2868=a0_0x21bcc2;return _0x40cd37=Math[_0x2b2868(0x89e)](0.5,_0x40cd37),_0x24c30d=Math['min'](Math[_0x2b2868(0x89e)](0x3,_0x24c30d),0x78),Math['floor'](Math[_0x2b2868(0x4ec)]()*(_0x24c30d-_0x40cd37+0x1)+_0x40cd37)*0x3e8;}['sleep'](_0x133a84){return new Promise(_0x21b182=>setTimeout(_0x21b182,_0x133a84));}async[a0_0x21bcc2(0x22c)](_0x5a2d99){const _0x171340=a0_0x21bcc2;if(!this[_0x171340(0x246)]&&(await this['getAutomateSystem'](),!this[_0x171340(0x246)]))return null;_0x5a2d99=this[_0x171340(0x5ce)](_0x5a2d99);let _0x2075b4=await this[_0x171340(0x5bb)][_0x171340(0x580)]['findOne']({'where':{'_id':_0x5a2d99}},this[_0x171340(0x5cb)][_0x171340(0x406)]),_0x158f15={};if(_0x2075b4&&_0x2075b4[_0x171340(0x4e7)]){let _0x187385=_0x2075b4[_0x171340(0x4e7)];typeof _0x187385['nome']=='string'&&(_0x158f15[_0x171340(0x48d)]=_0x187385[_0x171340(0x48d)]),typeof _0x187385[_0x171340(0x73e)]==_0x171340(0x5c8)&&(_0x158f15['nomecompleto']=_0x187385[_0x171340(0x73e)]),typeof _0x187385[_0x171340(0x82d)]==_0x171340(0x5c8)&&(_0x158f15['email']=_0x187385[_0x171340(0x82d)]),typeof _0x187385['cpf']=='string'&&(_0x158f15[_0x171340(0x648)]=_0x187385[_0x171340(0x648)]),typeof _0x187385[_0x171340(0x41a)]==_0x171340(0x5c8)&&(_0x158f15[_0x171340(0x41a)]=_0x187385[_0x171340(0x41a)]),typeof _0x187385[_0x171340(0x2fb)]=='string'&&(_0x158f15[_0x171340(0x2fb)]=_0x187385[_0x171340(0x2fb)]),typeof _0x187385[_0x171340(0x447)]==_0x171340(0x5c8)&&(_0x158f15[_0x171340(0x447)]=_0x187385[_0x171340(0x447)]),Array[_0x171340(0x744)](_0x187385['tags'])&&(_0x158f15[_0x171340(0x771)]=_0x187385['tags'][_0x171340(0x720)](',\x20')),Array['isArray'](_0x187385[_0x171340(0x1fd)])&&(_0x158f15[_0x171340(0x1fd)]=_0x187385[_0x171340(0x1fd)][_0x171340(0x720)](',\x20'));}return _0x2075b4&&_0x2075b4[_0x171340(0x4e7)]&&_0x2075b4[_0x171340(0x4e7)][_0x171340(0x302)]&&_0x2075b4['leadInfo'][_0x171340(0x302)]['forEach'](_0x268f4d=>{const _0x155a83=_0x171340;let _0x507351=this[_0x155a83(0x246)]?.[_0x155a83(0x302)]['find'](_0x2d7650=>_0x2d7650[_0x155a83(0x644)]===_0x268f4d[_0x155a83(0x644)]);_0x507351&&(_0x158f15[_0x507351[_0x155a83(0x83e)]]=_0x268f4d[_0x155a83(0x61f)]);}),_0x158f15;}async[a0_0x21bcc2(0x324)](_0x508453,_0x286f87){const _0x23eeb1=a0_0x21bcc2;try{let _0x23c1a6=await this[_0x23eeb1(0x22c)](_0x286f87);return this[_0x23eeb1(0x4e0)](_0x508453,_0x23c1a6);}catch(_0x372e05){return this[_0x23eeb1(0x74f)][_0x23eeb1(0x2fe)]('Erro\x20ao\x20substituir\x20variáveis\x20para\x20'+_0x286f87+':\x20'+_0x372e05),_0x508453;}}async[a0_0x21bcc2(0x855)](){const _0x466049=a0_0x21bcc2;let _0x2bedc9=async(_0x421220,_0x2e8c07)=>{const _0x5c9ed8=a0_0x4215;let _0x312bca=(await this[_0x5c9ed8(0x5bb)][_0x5c9ed8(0x408)][_0x5c9ed8(0x68c)]({'where':{'type':_0x421220}},this[_0x5c9ed8(0x5cb)]['wuid']))[_0x5c9ed8(0x867)](async _0x12313a=>{const _0x488beb=_0x5c9ed8;let _0x357642=_0x2e8c07(_0x12313a),_0x2373d4=_0x1dd179=>/^\d+$/[_0x488beb(0x746)](_0x1dd179),_0x48d551=_0x12313a[_0x488beb(0x693)]['filter'](_0x24f5be=>_0x24f5be[_0x488beb(0x868)](_0x488beb(0x293))?_0x24f5be[_0x488beb(0x7be)]>0x19:_0x24f5be[_0x488beb(0x868)]('@g.us')?_0x24f5be[_0x488beb(0x7be)]>0xf:_0x2373d4(_0x24f5be)?_0x24f5be[_0x488beb(0x7be)]>=0xb:!0x1)[_0x488beb(0x867)](_0x1a3761=>({'_id':(0x0,X['v4'])(),'type':_0x357642,'remoteJid':_0x1a3761,'flow':_0x12313a[_0x488beb(0x73c)],'text':_0x12313a[_0x488beb(0x4a8)]?.['text'],'delay':_0x12313a[_0x488beb(0x4a8)]?.[_0x488beb(0x505)],'urlOrBase64':_0x12313a[_0x488beb(0x4a8)]?.[_0x488beb(0x752)],'linkPreview':_0x12313a[_0x488beb(0x4a8)]?.[_0x488beb(0x2db)],'fileName':_0x12313a['message']?.['fileName'],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x488beb(0x5bb)]['scheduleMessage'][_0x488beb(0x3d7)](_0x12313a[_0x488beb(0x644)],{'$set':{'messages':_0x48d551},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x488beb(0x5cb)][_0x488beb(0x406)]);}catch(_0x10eacb){console[_0x488beb(0x2fe)](_0x488beb(0x44a)+_0x12313a['_id']+':',_0x10eacb);}});await Promise[_0x5c9ed8(0x3ec)](_0x312bca);};await _0x2bedc9(_0x466049(0x839),_0x1cc424=>_0x466049(0x839)),await _0x2bedc9(_0x466049(0x284),_0x35ebd7=>_0x35ebd7[_0x466049(0x4a8)]?.['mediatype']||'media'),await _0x2bedc9(_0x466049(0x571),_0x571b9f=>'audio'),await _0x2bedc9(_0x466049(0x3f5),_0x82c1ff=>_0x466049(0x3f5)),await _0x2bedc9(_0x466049(0x44d),_0xadbaf8=>_0x466049(0x44d)),await _0x2bedc9(_0x466049(0x225),_0x8bb0f0=>_0x466049(0x225)),await _0x2bedc9('document',_0x31d7f5=>_0x466049(0x66f)),this[_0x466049(0x74f)][_0x466049(0x78f)](this[_0x466049(0x86d)]+'\x20('+this[_0x466049(0x5cb)][_0x466049(0x406)]+_0x466049(0x842));}async['editScheduleMessage'](_0x27d90b){const _0x198b38=a0_0x21bcc2;try{if(this[_0x198b38(0x74f)][_0x198b38(0x78f)](this[_0x198b38(0x86d)]+'\x20('+this[_0x198b38(0x5cb)][_0x198b38(0x406)]+_0x198b38(0x297)),_0x27d90b[_0x198b38(0x644)]||(_0x27d90b['_id']=(0x0,X['v4'])()),this['instance'][_0x198b38(0x6dc)]['processingGroup_id']===_0x27d90b[_0x198b38(0x644)]?.['toString']()&&_0x27d90b[_0x198b38(0x41a)]!=='stopped')throw new Error(_0x198b38(0x69e));if(_0x27d90b[_0x198b38(0x8b1)]&&_0x27d90b[_0x198b38(0x644)]){let _0x3c719b=await this[_0x198b38(0x5bb)]['scheduleMessage'][_0x198b38(0x61c)](_0x27d90b[_0x198b38(0x644)],this[_0x198b38(0x5cb)][_0x198b38(0x406)]);return setTimeout(()=>this[_0x198b38(0x706)](),0x7d0),_0x3c719b;}let _0x12464f=null;if(_0x27d90b[_0x198b38(0x644)]&&(_0x12464f=await this[_0x198b38(0x5bb)][_0x198b38(0x408)][_0x198b38(0x4f0)](_0x27d90b['_id'],this[_0x198b38(0x5cb)][_0x198b38(0x406)])),_0x12464f){let {_id:_0x294daf,owner:_0x35750c,messages:_0x427581,status:_0x2cab95,..._0x3df065}=_0x27d90b;if(_0x427581&&_0x2cab95!==_0x198b38(0x310)){let _0x5f0584=_0x427581[_0x198b38(0x874)](_0x333688=>!_0x333688['_id']),_0x49f9c8=_0x427581[_0x198b38(0x874)](_0x2408f6=>_0x2408f6['_id']&&!_0x2408f6[_0x198b38(0x8b1)]),_0x6b591d=_0x427581[_0x198b38(0x874)](_0x217fb3=>_0x217fb3[_0x198b38(0x644)]&&_0x217fb3[_0x198b38(0x8b1)]);if(_0x5f0584[_0x198b38(0x7be)]>0x0&&await this[_0x198b38(0x4e2)](_0x27d90b[_0x198b38(0x644)],_0x5f0584),_0x49f9c8[_0x198b38(0x7be)]>0x0&&await this[_0x198b38(0x439)]({'_id':_0x27d90b[_0x198b38(0x644)],'messages':_0x49f9c8}),_0x6b591d[_0x198b38(0x7be)]>0x0){let _0x4e6121=_0x6b591d[_0x198b38(0x867)](_0x19c2f9=>({'updateOne':{'filter':{'_id':_0x27d90b[_0x198b38(0x644)]},'update':{'$pull':{'messages':{'_id':_0x19c2f9[_0x198b38(0x644)]}}}}}));await this[_0x198b38(0x5bb)][_0x198b38(0x408)][_0x198b38(0x871)](_0x4e6121,this['instance']['wuid']);}}let _0x383b2c=_0x2cab95===_0x198b38(0x310)?{'$set':{'status':_0x2cab95}}:{'$set':_0x3df065},_0x4f0423=await this[_0x198b38(0x5bb)][_0x198b38(0x408)][_0x198b38(0x3d7)](_0x27d90b['_id'],_0x383b2c,this[_0x198b38(0x5cb)][_0x198b38(0x406)]);return _0x4f0423&&(this[_0x198b38(0x60e)](_0x4f0423[_0x198b38(0x6aa)]),await this[_0x198b38(0x5bb)]['scheduleMessage']['updateOneById'](_0x4f0423['_id'],{'$set':{'messages':_0x4f0423[_0x198b38(0x6aa)]}},this[_0x198b38(0x5cb)][_0x198b38(0x406)])),setTimeout(()=>this[_0x198b38(0x706)](),0x7d0),await this[_0x198b38(0x855)](),_0x4f0423;}else{_0x27d90b[_0x198b38(0x856)]=this[_0x198b38(0x5cb)][_0x198b38(0x406)],_0x27d90b['messages']&&_0x27d90b[_0x198b38(0x6aa)][_0x198b38(0x653)](_0x1720aa=>{const _0x26cacf=_0x198b38;_0x1720aa[_0x26cacf(0x644)]||(_0x1720aa[_0x26cacf(0x644)]=(0x0,X['v4'])()),delete _0x1720aa[_0x26cacf(0x6c4)];});let _0x1ff2fe=await this[_0x198b38(0x5bb)]['scheduleMessage'][_0x198b38(0x213)](_0x27d90b,this[_0x198b38(0x5cb)][_0x198b38(0x406)]);return _0x1ff2fe&&(this[_0x198b38(0x60e)](_0x1ff2fe['messages']),await this[_0x198b38(0x5bb)]['scheduleMessage'][_0x198b38(0x3d7)](_0x1ff2fe[_0x198b38(0x644)],{'$set':{'messages':_0x1ff2fe[_0x198b38(0x6aa)]}},this[_0x198b38(0x5cb)][_0x198b38(0x406)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x1ff2fe;}}catch(_0x494d43){let _0x401997=_0x198b38(0x668),_0x618f50=_0x494d43 instanceof Error?_0x494d43['message']:typeof _0x494d43==_0x198b38(0x82b)?JSON[_0x198b38(0x261)](_0x494d43):_0x494d43,_0x10215b=_0x401997+':\x20'+_0x618f50;throw this[_0x198b38(0x74f)]['error'](this[_0x198b38(0x86d)]+'\x20('+this['instance'][_0x198b38(0x406)]+_0x198b38(0x5cc)+_0x10215b),new m(_0x10215b);}}async[a0_0x21bcc2(0x4e2)](_0x33ea36,_0x495a74){const _0x43b53b=a0_0x21bcc2;try{this[_0x43b53b(0x74f)][_0x43b53b(0x78f)](this[_0x43b53b(0x86d)]+'\x20('+this[_0x43b53b(0x5cb)]['wuid']+_0x43b53b(0x6bd)),_0x495a74[_0x43b53b(0x653)](_0x268ed9=>{const _0x1ddd87=_0x43b53b;_0x268ed9[_0x1ddd87(0x644)]||(_0x268ed9['_id']=(0x0,X['v4'])()),delete _0x268ed9['triedToSend'];});let _0x55da27={'$push':{'messages':{'$each':_0x495a74}}},_0x4d72cd=await this[_0x43b53b(0x5bb)][_0x43b53b(0x408)][_0x43b53b(0x3d7)](_0x33ea36,_0x55da27,this[_0x43b53b(0x5cb)][_0x43b53b(0x406)]);return _0x4d72cd&&(this['reorderMessages'](_0x4d72cd[_0x43b53b(0x6aa)]),await this[_0x43b53b(0x5bb)][_0x43b53b(0x408)][_0x43b53b(0x3d7)](_0x4d72cd[_0x43b53b(0x644)],{'$set':{'messages':_0x4d72cd[_0x43b53b(0x6aa)]}},this[_0x43b53b(0x5cb)][_0x43b53b(0x406)])),_0x4d72cd;}catch(_0x3afd36){let _0x25acc0=_0x43b53b(0x7d5),_0x35e9de=_0x3afd36 instanceof Error?_0x3afd36[_0x43b53b(0x4a8)]:typeof _0x3afd36==_0x43b53b(0x82b)?JSON[_0x43b53b(0x261)](_0x3afd36):_0x3afd36,_0x24e760=_0x25acc0+':\x20'+_0x35e9de;throw this[_0x43b53b(0x74f)][_0x43b53b(0x2fe)](this[_0x43b53b(0x86d)]+'\x20('+this[_0x43b53b(0x5cb)][_0x43b53b(0x406)]+_0x43b53b(0x5cc)+_0x24e760),new m(_0x24e760);}}async[a0_0x21bcc2(0x439)](_0x5f0058){const _0x24f689=a0_0x21bcc2;try{if(this[_0x24f689(0x74f)]['verbose'](this[_0x24f689(0x86d)]+'\x20('+this['instance']['wuid']+'):\x20Editando\x20mensagens\x20no\x20grupo...'),!_0x5f0058[_0x24f689(0x644)]||!_0x5f0058[_0x24f689(0x6aa)])throw new Error(_0x24f689(0x431));let _0x57d729=_0x5f0058['_id'],_0x4a3ade=_0x5f0058[_0x24f689(0x6aa)],_0x19f94c=_0x4a3ade[_0x24f689(0x874)](_0x164fe6=>!_0x164fe6['delete'])[_0x24f689(0x867)](_0x1608f0=>{const _0x458e56=_0x24f689;let _0x40ee7c=_0x1608f0['_id'];if(!_0x40ee7c)throw new Error(_0x458e56(0x3ac));return delete _0x1608f0[_0x458e56(0x6c4)],{'updateOne':{'filter':{'_id':_0x57d729,'messages._id':_0x40ee7c},'update':{'$set':{'messages.$[elem]':_0x1608f0}},'arrayFilters':[{'elem._id':_0x40ee7c}]}};}),_0x3b7b84=_0x4a3ade[_0x24f689(0x874)](_0x2d4b=>_0x2d4b['delete'])[_0x24f689(0x867)](_0x16519a=>{const _0x783627=_0x24f689;let _0x4448bf=_0x16519a[_0x783627(0x644)];if(!_0x4448bf)throw new Error(_0x783627(0x329));return{'updateOne':{'filter':{'_id':_0x57d729},'update':{'$pull':{'messages':{'_id':_0x4448bf}}}}};}),_0x5aea95=[..._0x19f94c,..._0x3b7b84],_0x4f5892=await this['repository'][_0x24f689(0x408)][_0x24f689(0x871)](_0x5aea95,this[_0x24f689(0x5cb)]['wuid']),_0x28975a=await this[_0x24f689(0x5bb)]['scheduleMessage'][_0x24f689(0x4f0)](_0x57d729,this['instance']['wuid']);return _0x28975a&&(this[_0x24f689(0x60e)](_0x28975a[_0x24f689(0x6aa)]),await this[_0x24f689(0x5bb)][_0x24f689(0x408)]['updateOneById'](_0x28975a[_0x24f689(0x644)],{'$set':{'messages':_0x28975a['messages']}},this[_0x24f689(0x5cb)][_0x24f689(0x406)])),_0x28975a;}catch(_0x591085){let _0x4dd042=_0x24f689(0x41e),_0x32f1fe=_0x591085 instanceof Error?_0x591085[_0x24f689(0x4a8)]:typeof _0x591085==_0x24f689(0x82b)?JSON['stringify'](_0x591085):_0x591085,_0x2dac19=_0x4dd042+':\x20'+_0x32f1fe;throw this[_0x24f689(0x74f)][_0x24f689(0x2fe)](this[_0x24f689(0x86d)]+'\x20('+this[_0x24f689(0x5cb)][_0x24f689(0x406)]+'):\x20'+_0x2dac19),new m(_0x2dac19);}}async['deleteDoneMessages'](){const _0x3455bf=a0_0x21bcc2;try{let _0x209f3a={'status':_0x3455bf(0x4b1)},_0x2ed656=await this[_0x3455bf(0x5bb)][_0x3455bf(0x408)][_0x3455bf(0x5e4)](_0x209f3a,this['instance'][_0x3455bf(0x406)]);if(!_0x2ed656[_0x3455bf(0x2fe)])this[_0x3455bf(0x74f)][_0x3455bf(0x78f)](this[_0x3455bf(0x86d)]+'\x20('+this[_0x3455bf(0x5cb)][_0x3455bf(0x406)]+_0x3455bf(0x2e3));else throw new Error(_0x2ed656[_0x3455bf(0x2fe)][_0x3455bf(0x4a8)]||_0x3455bf(0x319));return this[_0x3455bf(0x612)]();}catch(_0x859a30){let _0x412aaa=_0x3455bf(0x657),_0x249a1d=_0x859a30 instanceof Error?_0x859a30[_0x3455bf(0x4a8)]:typeof _0x859a30==_0x3455bf(0x82b)?JSON['stringify'](_0x859a30):_0x859a30,_0x1b56dc=_0x412aaa+':\x20'+_0x249a1d;throw this[_0x3455bf(0x74f)][_0x3455bf(0x2fe)](this[_0x3455bf(0x86d)]+'\x20('+this[_0x3455bf(0x5cb)][_0x3455bf(0x406)]+'):\x20'+_0x1b56dc),new m(_0x1b56dc);}}async[a0_0x21bcc2(0x612)](){const _0x80696b=a0_0x21bcc2;try{return await this[_0x80696b(0x5bb)][_0x80696b(0x408)][_0x80696b(0x68c)]({'where':{}},this[_0x80696b(0x5cb)][_0x80696b(0x406)]);}catch(_0x39876a){let _0x288b10=_0x80696b(0x4f7),_0x5a1728=_0x39876a instanceof Error?_0x39876a[_0x80696b(0x4a8)]:typeof _0x39876a=='object'?JSON[_0x80696b(0x261)](_0x39876a):_0x39876a,_0x542ab7=_0x288b10+':\x20'+_0x5a1728;throw this[_0x80696b(0x74f)][_0x80696b(0x2fe)](this[_0x80696b(0x86d)]+'\x20('+this[_0x80696b(0x5cb)][_0x80696b(0x406)]+_0x80696b(0x5cc)+_0x542ab7),new m(_0x542ab7);}}[a0_0x21bcc2(0x60e)](_0x43e2a2){const _0x53db7f=a0_0x21bcc2;_0x43e2a2[_0x53db7f(0x786)]((_0x33dfe9,_0x1a27a2)=>_0x33dfe9[_0x53db7f(0x323)]-_0x1a27a2[_0x53db7f(0x323)]),_0x43e2a2[_0x53db7f(0x653)]((_0x250998,_0xe82e99)=>{const _0x5d71f6=_0x53db7f;_0x250998[_0x5d71f6(0x323)]=_0xe82e99+0x1;});}async['SendScheduleMessage'](_0x41fb45,_0x17062d){const _0x1d737f=a0_0x21bcc2;try{if(!_0x17062d)return this[_0x1d737f(0x74f)]['error'](this['instanceName']+'\x20('+this[_0x1d737f(0x5cb)][_0x1d737f(0x406)]+_0x1d737f(0x7a8)),{'error':!0x0,'detail':_0x1d737f(0x236)};if(_0x17062d['type']===_0x1d737f(0x3f5)&&!this['AutomateSystem']?.[_0x1d737f(0x1fa)]['enabled'])return this[_0x1d737f(0x74f)][_0x1d737f(0x2fe)](this[_0x1d737f(0x86d)]+'\x20('+this['instance']['wuid']+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x1d737f(0x3ae)};switch(_0x17062d[_0x1d737f(0x347)]){case _0x1d737f(0x839):return await this[_0x1d737f(0x482)](_0x17062d,_0x41fb45);case _0x1d737f(0x225):case'image':case'document':return await this[_0x1d737f(0x487)](_0x17062d,_0x41fb45);case'audio':return await this[_0x1d737f(0x7e6)](_0x17062d,_0x41fb45);case'flow':let _0x446db3=new Ke();return _0x446db3[_0x1d737f(0x83e)]=_0x17062d[_0x1d737f(0x3f5)],_0x446db3[_0x1d737f(0x2c7)]=_0x41fb45,await this[_0x1d737f(0x652)](_0x446db3);default:return this[_0x1d737f(0x74f)][_0x1d737f(0x2fe)](this[_0x1d737f(0x86d)]+'\x20('+this[_0x1d737f(0x5cb)]['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x17062d[_0x1d737f(0x347)]),{'error':!0x0,'detail':_0x1d737f(0x516)};}}catch(_0x40739c){return this[_0x1d737f(0x74f)][_0x1d737f(0x2fe)](this['instanceName']+'\x20('+this['instance'][_0x1d737f(0x406)]+_0x1d737f(0x5ba)+(_0x40739c instanceof Error?_0x40739c[_0x1d737f(0x4a8)]:JSON[_0x1d737f(0x261)](_0x40739c,null,0x2))),{'error':!0x0,'detail':_0x40739c[_0x1d737f(0x4a8)]};}}async[a0_0x21bcc2(0x482)](_0x189913,_0x579680){const _0xb8d138=a0_0x21bcc2;if(this[_0xb8d138(0x74f)]['verbose'](this[_0xb8d138(0x86d)]+'\x20('+this[_0xb8d138(0x5cb)][_0xb8d138(0x406)]+'):\x20\x27Enviando\x20texto\x20para\x20\x27'+_0x579680+'\x27'),!_0x189913[_0xb8d138(0x839)]||_0x189913['text']['length']===0x0)return{'error':!0x0,'detail':_0xb8d138(0x303)};let _0x4d0f40=await this['replaceVariablesChat'](_0x189913[_0xb8d138(0x839)],_0x579680),_0x3dcc16={'number':_0x579680,'options':{'delay':_0x189913[_0xb8d138(0x505)],'linkPreview':_0x189913['linkPreview']},'textMessage':{'text':_0x4d0f40}},_0xf318a7=null;try{let _0x4360f7=await this[_0xb8d138(0x6a3)](_0x3dcc16);if(_0x4360f7&&_0x4360f7[_0xb8d138(0x41a)])return{'error':!0x1,'id':_0x4360f7[_0xb8d138(0x3fe)]['id']};_0xf318a7=JSON[_0xb8d138(0x261)](_0x4360f7),this[_0xb8d138(0x74f)]['verbose'](this[_0xb8d138(0x86d)]+'\x20('+this['instance']['wuid']+_0xb8d138(0x5cc)+_0xf318a7);}catch(_0x53b4cd){this['logger'][_0xb8d138(0x2fe)](this['instanceName']+'\x20('+this[_0xb8d138(0x5cb)][_0xb8d138(0x406)]+_0xb8d138(0x467)+(_0x53b4cd instanceof Error?_0x53b4cd[_0xb8d138(0x4a8)]:JSON[_0xb8d138(0x261)](_0x53b4cd,null,0x2))),_0xf318a7=_0x53b4cd[_0xb8d138(0x4a8)];}if(_0xf318a7)return{'error':!0x0,'detail':(typeof _0xf318a7==_0xb8d138(0x82b)?JSON['stringify'](_0xf318a7,null,0x2):_0xf318a7)[_0xb8d138(0x243)](/[\[\]{}\n]/g,'\x20')[_0xb8d138(0x243)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x2d256a,_0x4ef61a){const _0x2e30a0=a0_0x21bcc2;this[_0x2e30a0(0x74f)][_0x2e30a0(0x78f)](this[_0x2e30a0(0x86d)]+'\x20('+this[_0x2e30a0(0x5cb)]['wuid']+_0x2e30a0(0x731)+_0x4ef61a+'\x27');let _0x492d87;_0x2d256a[_0x2e30a0(0x839)]&&_0x2d256a[_0x2e30a0(0x839)]['length']>0x0&&(_0x492d87=await this[_0x2e30a0(0x324)](_0x2d256a[_0x2e30a0(0x839)],_0x4ef61a));let _0x4678cf={'number':_0x4ef61a,'options':{'delay':_0x2d256a[_0x2e30a0(0x505)],'linkPreview':_0x2d256a['linkPreview']},'mediaMessage':{'mediatype':_0x2d256a[_0x2e30a0(0x347)],'caption':_0x492d87,'media':_0x2d256a[_0x2e30a0(0x752)]}},_0x2f63e1=null;try{let _0x1fd7a6=await this[_0x2e30a0(0x1f8)](_0x4678cf);if(_0x1fd7a6&&_0x1fd7a6[_0x2e30a0(0x41a)])return{'error':!0x1,'id':_0x1fd7a6[_0x2e30a0(0x3fe)]['id']};_0x2f63e1=JSON[_0x2e30a0(0x261)](_0x1fd7a6),this[_0x2e30a0(0x74f)][_0x2e30a0(0x78f)](this[_0x2e30a0(0x86d)]+'\x20('+this[_0x2e30a0(0x5cb)]['wuid']+_0x2e30a0(0x5cc)+_0x2f63e1);}catch(_0x543abc){this['logger'][_0x2e30a0(0x2fe)](this[_0x2e30a0(0x86d)]+'\x20('+this[_0x2e30a0(0x5cb)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x543abc instanceof Error?_0x543abc[_0x2e30a0(0x4a8)]:JSON['stringify'](_0x543abc,null,0x2))),_0x2f63e1=_0x543abc[_0x2e30a0(0x4a8)];}if(_0x2f63e1)return{'error':!0x0,'detail':(typeof _0x2f63e1==_0x2e30a0(0x82b)?JSON[_0x2e30a0(0x261)](_0x2f63e1,null,0x2):_0x2f63e1)[_0x2e30a0(0x243)](/[\[\]{}\n]/g,'\x20')[_0x2e30a0(0x243)](/  +/g,'\x20')};}async[a0_0x21bcc2(0x7e6)](_0x88a923,_0x331a4a){const _0x53799d=a0_0x21bcc2;this[_0x53799d(0x74f)][_0x53799d(0x78f)](this[_0x53799d(0x86d)]+'\x20('+this['instance'][_0x53799d(0x406)]+_0x53799d(0x896)+_0x331a4a+'\x27');let _0x27b9e4={'number':_0x331a4a,'options':{'delay':_0x88a923[_0x53799d(0x505)]},'audioMessage':{'audio':_0x88a923[_0x53799d(0x752)]}},_0x468a50=null;try{let _0x2fc363=await this[_0x53799d(0x86e)](_0x27b9e4);if(_0x2fc363&&_0x2fc363[_0x53799d(0x41a)])return{'error':!0x1,'id':_0x2fc363['key']['id']};_0x468a50=JSON[_0x53799d(0x261)](_0x2fc363),this[_0x53799d(0x74f)][_0x53799d(0x78f)](this[_0x53799d(0x86d)]+'\x20('+this[_0x53799d(0x5cb)][_0x53799d(0x406)]+_0x53799d(0x5cc)+_0x468a50);}catch(_0x5c7d2c){this[_0x53799d(0x74f)][_0x53799d(0x2fe)](this['instanceName']+'\x20('+this[_0x53799d(0x5cb)]['wuid']+_0x53799d(0x603)+(_0x5c7d2c instanceof Error?_0x5c7d2c['message']:JSON[_0x53799d(0x261)](_0x5c7d2c,null,0x2))),_0x468a50=_0x5c7d2c[_0x53799d(0x4a8)];}if(_0x468a50)return{'error':!0x0,'detail':(typeof _0x468a50==_0x53799d(0x82b)?JSON[_0x53799d(0x261)](_0x468a50,null,0x2):_0x468a50)[_0x53799d(0x243)](/[\[\]{}\n]/g,'\x20')[_0x53799d(0x243)](/  +/g,'\x20')};}async[a0_0x21bcc2(0x1e5)](_0x8b70db){const _0x148f39=a0_0x21bcc2;try{return await this[_0x148f39(0x2cd)][_0x148f39(0x78b)](_0x8b70db['groupJid'],_0x8b70db[_0x148f39(0x678)]),{'update':_0x148f39(0x906)};}catch(_0x120c3c){let _0x20367a='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc',_0x297896=_0x120c3c instanceof Error?_0x120c3c[_0x148f39(0x4a8)]:typeof _0x120c3c==_0x148f39(0x82b)?JSON[_0x148f39(0x261)](_0x120c3c):_0x120c3c,_0x5b0fb7=_0x20367a+':\x20'+_0x297896;throw this[_0x148f39(0x74f)][_0x148f39(0x2fe)](this[_0x148f39(0x86d)]+'\x20('+this[_0x148f39(0x5cb)][_0x148f39(0x406)]+_0x148f39(0x5cc)+_0x5b0fb7),new x(_0x5b0fb7);}}async['groupName'](_0x34bac0){const _0x34636a=a0_0x21bcc2;try{return await this[_0x34636a(0x2cd)][_0x34636a(0x331)](_0x34bac0['groupJid'],_0x34bac0[_0x34636a(0x83e)]),{'update':'success'};}catch(_0x3eac4f){let _0x5e988e=_0x34636a(0x844),_0x37a96f=_0x3eac4f instanceof Error?_0x3eac4f[_0x34636a(0x4a8)]:typeof _0x3eac4f=='object'?JSON[_0x34636a(0x261)](_0x3eac4f):_0x3eac4f,_0x5e330c=_0x5e988e+':\x20'+_0x37a96f;throw this['logger'][_0x34636a(0x2fe)](this[_0x34636a(0x86d)]+'\x20('+this['instance'][_0x34636a(0x406)]+_0x34636a(0x5cc)+_0x5e330c),new x(_0x5e330c);}}async['toggleEphemeral'](_0x589134){const _0x389411=a0_0x21bcc2;try{let _0x23a53c=await this['client']['groupToggleEphemeral'](_0x589134[_0x389411(0x4fd)],_0x589134[_0x389411(0x78e)]);return{'success':!0x0};}catch(_0x1f4da6){let _0x469350=_0x389411(0x257),_0x1369ec=_0x1f4da6 instanceof Error?_0x1f4da6[_0x389411(0x4a8)]:typeof _0x1f4da6==_0x389411(0x82b)?JSON[_0x389411(0x261)](_0x1f4da6):_0x1f4da6,_0xfb067c=_0x469350+':\x20'+_0x1369ec;throw this[_0x389411(0x74f)]['error'](this[_0x389411(0x86d)]+'\x20('+this['instance'][_0x389411(0x406)]+_0x389411(0x5cc)+_0xfb067c),new x(_0xfb067c);}}async[a0_0x21bcc2(0x2ca)](_0x401eaa){const _0x1cefd4=a0_0x21bcc2;try{return await this[_0x1cefd4(0x2cd)][_0x1cefd4(0x4ed)](_0x401eaa[_0x1cefd4(0x4fd)],_0x401eaa['setting']),{'update':_0x1cefd4(0x906)};}catch(_0x3e2ae5){let _0x2cfbea=_0x1cefd4(0x91f),_0x4f5e28=_0x3e2ae5 instanceof Error?_0x3e2ae5[_0x1cefd4(0x4a8)]:typeof _0x3e2ae5=='object'?JSON['stringify'](_0x3e2ae5):_0x3e2ae5,_0x94ec3c=_0x2cfbea+':\x20'+_0x4f5e28;throw this['logger'][_0x1cefd4(0x2fe)](this[_0x1cefd4(0x86d)]+'\x20('+this[_0x1cefd4(0x5cb)][_0x1cefd4(0x406)]+_0x1cefd4(0x5cc)+_0x94ec3c),new x(_0x94ec3c);}}async[a0_0x21bcc2(0x4a1)](_0x57a4a7){const _0x51daba=a0_0x21bcc2;try{let _0xe7dc63;if((0x0,k[_0x51daba(0x69a)])(_0x57a4a7[_0x51daba(0x44d)])){let _0x21cf84=new Date()[_0x51daba(0x8d4)](),_0x4b50b5=_0x57a4a7[_0x51daba(0x44d)]+'?timestamp='+_0x21cf84;_0xe7dc63=(await Y['default'][_0x51daba(0x725)](_0x4b50b5,{'responseType':_0x51daba(0x2cc)}))[_0x51daba(0x721)];}else{if((0x0,k[_0x51daba(0x63e)])(_0x57a4a7[_0x51daba(0x44d)]))_0xe7dc63=Buffer['from'](_0x57a4a7[_0x51daba(0x44d)],'base64');else throw new m(_0x51daba(0x32d));}return await this[_0x51daba(0x2cd)]['updateProfilePicture'](_0x57a4a7['groupJid'],_0xe7dc63),{'update':_0x51daba(0x906)};}catch(_0x405ebf){let _0x860e50=_0x51daba(0x85c),_0x4e9662=_0x405ebf instanceof Error?_0x405ebf[_0x51daba(0x4a8)]:typeof _0x405ebf==_0x51daba(0x82b)?JSON[_0x51daba(0x261)](_0x405ebf):_0x405ebf,_0x3ead5d=_0x860e50+':\x20'+_0x4e9662;throw this[_0x51daba(0x74f)][_0x51daba(0x2fe)](this['instanceName']+'\x20('+this[_0x51daba(0x5cb)][_0x51daba(0x406)]+'):\x20'+_0x3ead5d),new x(_0x3ead5d);}}},Gt=class l{constructor(_0x2e01d1,_0x34786b,_0x656996){const _0x16b276=a0_0x21bcc2;this['eventEmitter']=_0x2e01d1,this['configService']=_0x34786b,this[_0x16b276(0x5bb)]=_0x656996,this['db']={},this[_0x16b276(0x758)]={},this[_0x16b276(0x74f)]=new $(l[_0x16b276(0x83e)]),this[_0x16b276(0x6e9)]={},(this['removeInstance'](),this['noConnection'](),Object['assign'](this['db'],_0x34786b[_0x16b276(0x725)](_0x16b276(0x304))),Object[_0x16b276(0x5a0)](this['redis'],_0x34786b[_0x16b276(0x725)](_0x16b276(0x537))),this[_0x16b276(0x287)]=this['db']['ENABLED']?this[_0x16b276(0x5bb)][_0x16b276(0x88d)]?.['db'](this['db'][_0x16b276(0x80c)][_0x16b276(0x3ad)]+_0x16b276(0x1f9)):void 0x0,this[_0x16b276(0x7bb)]=this['redis']['ENABLED']?new he(this['redis']):void 0x0);}async['instanceInfo'](_0x254d2d){const _0x106d60=a0_0x21bcc2;if(_0x254d2d&&!this[_0x106d60(0x6e9)][_0x254d2d])throw new J(_0x106d60(0x328)+_0x254d2d+_0x106d60(0x848));let _0x44bede=[];for await(let [_0x3d2898,_0x5c51e4]of Object[_0x106d60(0x56f)](this[_0x106d60(0x6e9)]))if(_0x5c51e4&&_0x5c51e4[_0x106d60(0x34b)]['state']===_0x106d60(0x5f3)){let _0x2cc222=await this['repository'][_0x106d60(0x497)][_0x106d60(0x68c)](_0x3d2898);_0x44bede[_0x106d60(0x2ea)]({'instance':{'instanceName':_0x3d2898,'apikey':_0x2cc222[_0x106d60(0x8c1)],'owner':_0x5c51e4[_0x106d60(0x406)],'profileName':await _0x5c51e4[_0x106d60(0x792)]()||_0x106d60(0x3dd),'profilePictureUrl':_0x5c51e4['profilePictureUrl']}});}return _0x44bede[_0x106d60(0x68c)](_0x4683dd=>_0x4683dd[_0x106d60(0x5cb)]['instanceName']===_0x254d2d)??_0x44bede;}async[a0_0x21bcc2(0x59a)](_0x56dcb2){const _0x470847=a0_0x21bcc2;if(this['db']['ENABLED']&&(await this[_0x470847(0x5bb)]['dbServer'][_0x470847(0x2b8)](),(await this['dbInstance']['collections']())[_0x470847(0x7be)]>0x0&&await this['dbInstance'][_0x470847(0x598)](_0x56dcb2)),this['redis'][_0x470847(0x7bc)]){this[_0x470847(0x7bb)][_0x470847(0x833)]=_0x56dcb2,await this[_0x470847(0x7bb)][_0x470847(0x3d5)]();return;}}async[a0_0x21bcc2(0x832)](){const _0x319291=a0_0x21bcc2;await this[_0x319291(0x42c)]();let _0x199f0d=async _0xb82e2e=>{const _0x22c18e=_0x319291;let _0xeeb346=new $e(this[_0x22c18e(0x928)],this[_0x22c18e(0x596)],this[_0x22c18e(0x5bb)]);_0xeeb346[_0x22c18e(0x86d)]=_0xb82e2e,await _0xeeb346['connectToWhatsapp'](),this[_0x22c18e(0x6e9)][_0xb82e2e]=_0xeeb346;};try{if(this[_0x319291(0x758)]['ENABLED']){let _0x1e6185=await this[_0x319291(0x7bb)][_0x319291(0x45a)]();_0x1e6185?.['length']>0x0&&_0x1e6185[_0x319291(0x653)](async _0x3579d=>await _0x199f0d(_0x3579d['split'](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x319291(0x5bb)]['dbServer']['connect']();let _0x4ce69a=await this[_0x319291(0x287)][_0x319291(0x89d)]();_0x4ce69a[_0x319291(0x7be)]>0x0&&_0x4ce69a[_0x319291(0x653)](async _0x1a0cc0=>await _0x199f0d(_0x1a0cc0[_0x319291(0x66e)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x85e439){this[_0x319291(0x74f)][_0x319291(0x2fe)](_0x85e439);}}async[a0_0x21bcc2(0x4aa)](){const _0x177cb6=a0_0x21bcc2;try{let _0x3ecfcc=await this[_0x177cb6(0x5bb)][_0x177cb6(0x497)]['findMany']({'online':!0x1});for(let _0xee6e61 of _0x3ecfcc){let _0x4b01a2=_0xee6e61[_0x177cb6(0x644)];await ge[_0x177cb6(0x7cc)](Z,_0x4b01a2);}console['log'](_0x177cb6(0x5df)+_0x3ecfcc[_0x177cb6(0x7be)]);let _0x2ce65d={'online':!0x1},_0x5a8ef1=await this[_0x177cb6(0x5bb)][_0x177cb6(0x497)][_0x177cb6(0x5e4)](_0x2ce65d);console['log'](_0x177cb6(0x77d)+_0x5a8ef1[_0x177cb6(0x7e7)]);}catch(_0xaa58b2){console['error'](_0x177cb6(0x30d),_0xaa58b2);}}async[a0_0x21bcc2(0x42c)](){const _0x2031b7=a0_0x21bcc2;try{let _0x25166d={'online':!0x1},_0x14e749={'online':!0x1,'lastDisconnect':Date[_0x2031b7(0x462)]()},_0x29413a=await this[_0x2031b7(0x5bb)][_0x2031b7(0x497)][_0x2031b7(0x430)](_0x25166d,_0x14e749);await this[_0x2031b7(0x4aa)]();}catch(_0xa7c275){console[_0x2031b7(0x2fe)](_0x2031b7(0x7a6),_0xa7c275);}}[a0_0x21bcc2(0x6d1)](){const _0x19bd86=a0_0x21bcc2;this['eventEmitter']['on'](_0x19bd86(0x66b),async _0x29d9bf=>{const _0x1ee9f6=_0x19bd86;try{this[_0x1ee9f6(0x6e9)][_0x29d9bf]=void 0x0;}catch{}try{this[_0x1ee9f6(0x59a)](_0x29d9bf);}finally{this['logger'][_0x1ee9f6(0x88a)](_0x1ee9f6(0x328)+_0x29d9bf+_0x1ee9f6(0x2e6));}});}[a0_0x21bcc2(0x5a5)](){const _0x3f0bd6=a0_0x21bcc2;this[_0x3f0bd6(0x596)]['on']('no.connection',async _0x8a7e0a=>{const _0x129772=_0x3f0bd6;try{this[_0x129772(0x6e9)][_0x8a7e0a]=void 0x0;}catch{}try{this[_0x129772(0x59a)](_0x8a7e0a);}finally{this['logger']['warn']('Instance\x20\x22'+_0x8a7e0a+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Bt=class extends _{[a0_0x21bcc2(0x8ea)](_0x383475){return sa(_0x383475);}async[a0_0x21bcc2(0x6b9)](_0x452066){const _0x43212f=a0_0x21bcc2;if(_0x452066[_0x43212f(0x7be)]!==0x0)try{return{'insertCount':(await this[_0x43212f(0x8ea)](_0x452066[0x0]['owner'])[_0x43212f(0x37e)]([..._0x452066]))[_0x43212f(0x7be)]};}catch(_0x43e458){return _0x43e458;}}async[a0_0x21bcc2(0x68c)](_0x2b743c,_0x47bf3c){const _0x2c532c=a0_0x21bcc2;try{let _0x233e0a=this['getChatModelForOwner'](_0x47bf3c),_0x55ff2c=T(_0x2b743c[_0x2c532c(0x742)]);return await _0x233e0a[_0x2c532c(0x68c)](_0x55ff2c)['sort']({'lastmsg':-0x1})[_0x2c532c(0x7d1)](_0x2b743c?.[_0x2c532c(0x7d1)]??0x0)[_0x2c532c(0x2f8)]();}catch{return[];}}async[a0_0x21bcc2(0x8b1)](_0x4facb1,_0x349940){const _0x2f8c09=a0_0x21bcc2;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x349940)[_0x2f8c09(0x5e4)]({..._0x4facb1[_0x2f8c09(0x742)]}))[_0x2f8c09(0x6e4)]};}catch(_0x433bcd){return{'error':_0x433bcd?.[_0x2f8c09(0x929)]()};}}async[a0_0x21bcc2(0x59e)](_0x42247e,_0x2b3f00){const _0x403001=a0_0x21bcc2;try{return await this[_0x403001(0x8ea)](_0x2b3f00)[_0x403001(0x5e4)]({..._0x42247e[_0x403001(0x742)]}),[];}catch(_0x79ab15){return{'error':_0x79ab15?.[_0x403001(0x929)]()};}}async[a0_0x21bcc2(0x7db)](_0x2a3bb4,_0x4c0875){const _0x54408b=a0_0x21bcc2;try{let _0x14f61d=this[_0x54408b(0x8ea)](_0x4c0875),_0x2ff53b=T(_0x2a3bb4[_0x54408b(0x742)]);return await _0x14f61d[_0x54408b(0x7db)](_0x2ff53b)[_0x54408b(0x2f8)]();}catch{return null;}}async[a0_0x21bcc2(0x4f3)](_0x324f3f,_0x48cfae,_0xa82900,_0x26a43b,_0x3d3b32=a0_0x21bcc2(0x413)){const _0x468017=a0_0x21bcc2;try{let _0x4a3bbf={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x26a43b},_0x3901dd=this['getChatModelForOwner'](_0xa82900),_0x57d4fd=T(_0x324f3f[_0x468017(0x742)]);Object[_0x468017(0x4ac)](_0x48cfae)[_0x468017(0x653)](_0x4d1500=>{_0x48cfae[_0x4d1500]==null&&delete _0x48cfae[_0x4d1500];});let _0xf8aadc={};return _0xf8aadc[_0x3d3b32]=_0x48cfae,await _0x3901dd[_0x468017(0x814)](_0x57d4fd,_0xf8aadc,_0x4a3bbf);}catch(_0x3e53c5){return console['error'](_0x3e53c5),null;}}async['updateMany'](_0x61d1e1){const _0xc133c9=a0_0x21bcc2;try{let _0x3c0259=this[_0xc133c9(0x8ea)](_0x61d1e1[0x0][_0xc133c9(0x83d)][_0xc133c9(0x742)][_0xc133c9(0x856)]),_0x41c14c=_0x61d1e1[_0xc133c9(0x867)](_0x1c940d=>({'updateOne':{'filter':{..._0x1c940d['query']['where']},'update':{'$set':_0x1c940d[_0xc133c9(0x7ed)]},'upsert':!0x0}})),_0x470b56=await _0x3c0259[_0xc133c9(0x871)](_0x41c14c);return _0x470b56[_0xc133c9(0x32e)]+_0x470b56[_0xc133c9(0x610)];}catch(_0x97fae8){return console['error'](_0x97fae8),0x0;}}async[a0_0x21bcc2(0x299)](_0x57623c){const _0x38f8a6=a0_0x21bcc2;try{let _0x50852c={'group_isCommunity':'','group_announce':'','group_size':''},_0x22c335={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x1a580d={'$unset':_0x50852c};return(await this['getChatModelForOwner'](_0x57623c)[_0x38f8a6(0x609)](_0x22c335,_0x1a580d))[_0x38f8a6(0x32e)];}catch(_0x5a5163){return console[_0x38f8a6(0x2fe)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x5a5163),0x0;}}async[a0_0x21bcc2(0x320)](_0x591b56){const _0x10d447=a0_0x21bcc2;try{let _0x3a7480=this['getChatModelForOwner'](_0x591b56),_0x32cb7d={'leadInfo.etiquetas':{'$exists':!0x1}},_0x555f45={'$set':{'leadInfo.etiquetas':[]}};return(await _0x3a7480[_0x10d447(0x609)](_0x32cb7d,_0x555f45))[_0x10d447(0x32e)];}catch(_0x332d7b){return console[_0x10d447(0x2fe)](_0x332d7b),0x0;}}async[a0_0x21bcc2(0x8db)](_0x3736c8){const _0x5860cf=a0_0x21bcc2;try{let _0x221017=this[_0x5860cf(0x8ea)](_0x3736c8),_0x380e1f={'leadInfo.tags':{'$exists':!0x1}},_0x4ae56a={'$set':{'leadInfo.tags':[]}};return(await _0x221017[_0x5860cf(0x609)](_0x380e1f,_0x4ae56a))[_0x5860cf(0x32e)];}catch(_0x471c48){return console[_0x5860cf(0x2fe)](_0x471c48),0x0;}}async[a0_0x21bcc2(0x650)](_0x5f3a35){const _0x14a5d6=a0_0x21bcc2;try{let _0x4d62ec=this[_0x14a5d6(0x8ea)](_0x5f3a35),_0x29cd45={'leadInfo.customFields':{'$exists':!0x1}},_0x501f69={'$set':{'leadInfo.customFields':[]}};return(await _0x4d62ec[_0x14a5d6(0x609)](_0x29cd45,_0x501f69))[_0x14a5d6(0x32e)];}catch(_0x24a5fb){return console[_0x14a5d6(0x2fe)](_0x24a5fb),0x0;}}async['insertMany'](_0x36a2aa,_0x538b42){const _0x224e84=a0_0x21bcc2;if(!Array[_0x224e84(0x744)](_0x36a2aa)||_0x36a2aa[_0x224e84(0x7be)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this['getChatModelForOwner'](_0x538b42)['insertMany'](_0x36a2aa))[_0x224e84(0x7be)];}catch(_0x103e63){throw console[_0x224e84(0x2fe)](_0x224e84(0x508),_0x103e63),_0x103e63;}}async['deleteChat'](_0x191d97,_0x18fff9){const _0x431ff5=a0_0x21bcc2;try{await this[_0x431ff5(0x8ea)](_0x18fff9)['deleteOne']({'_id':_0x191d97});}catch(_0x717331){throw console['error'](_0x431ff5(0x2d4),_0x717331),_0x717331;}}},Wt=class extends _{constructor(_0x3592dc,_0x23f94e,_0xe9a87e){const _0x3f9d3c=a0_0x21bcc2;super(_0x23f94e),this[_0x3f9d3c(0x80d)]=_0x3592dc,this[_0x3f9d3c(0x928)]=_0x23f94e,this[_0x3f9d3c(0x5ea)]=_0xe9a87e;}async[a0_0x21bcc2(0x6b9)](_0x2354fb){const _0x19a06c=a0_0x21bcc2;if(_0x2354fb[_0x19a06c(0x7be)]!==0x0)try{return{'insertCount':(await this[_0x19a06c(0x80d)][_0x19a06c(0x37e)]([..._0x2354fb]))['length']};}catch(_0x8a8510){return _0x8a8510;}}async[a0_0x21bcc2(0x7ed)](_0x20f492,_0x37608c){const _0x4ea869=a0_0x21bcc2;try{let _0x3f55dc=T(_0x20f492[_0x4ea869(0x742)]);return{'updatedCount':(await this[_0x4ea869(0x80d)][_0x4ea869(0x609)](_0x3f55dc,{'$set':_0x37608c}))['modifiedCount']};}catch(_0x278978){return console['error'](_0x4ea869(0x28b),_0x278978),{'error':_0x278978[_0x4ea869(0x929)]()};}}async['findManyByIds'](_0x518a51){const _0x371293=a0_0x21bcc2;try{let _0x5e1db9={'_id':{'$in':_0x518a51}};return await this[_0x371293(0x80d)][_0x371293(0x68c)](_0x5e1db9)[_0x371293(0x2f8)]();}catch(_0xd4b11){return console[_0x371293(0x2fe)]('Error\x20finding\x20many\x20contacts:',_0xd4b11),[];}}async[a0_0x21bcc2(0x8b1)](_0x388592){const _0x50e707=a0_0x21bcc2;try{return{'deletedCount':(await this['cacheContactModel'][_0x50e707(0x5e4)]({..._0x388592[_0x50e707(0x742)]}))['deletedCount']};}catch(_0x30df19){return{'error':_0x30df19?.[_0x50e707(0x929)]()};}}async[a0_0x21bcc2(0x68c)](_0x2fd005){const _0x52e6cb=a0_0x21bcc2;try{let _0x37b4f8=T(_0x2fd005[_0x52e6cb(0x742)]);return await this[_0x52e6cb(0x80d)][_0x52e6cb(0x68c)](_0x37b4f8)[_0x52e6cb(0x7d1)](_0x2fd005?.['limit']??0x0)[_0x52e6cb(0x2f8)]();}catch{return[];}}async['findOne'](_0x5d0701){const _0x12cd08=a0_0x21bcc2;try{let _0x1755db=T(_0x5d0701[_0x12cd08(0x742)]);return await this[_0x12cd08(0x80d)][_0x12cd08(0x7db)](_0x1755db)['lean']();}catch{return null;}}},zt=class extends _{[a0_0x21bcc2(0x239)](_0xe45ceb){return va(_0xe45ceb);}async[a0_0x21bcc2(0x4f3)](_0x39daf3,_0xfb2cc3,_0x2f6874,_0x1d7d28){const _0x3f9808=a0_0x21bcc2;try{let _0x56a575={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x1d7d28},_0x2990db=this[_0x3f9808(0x239)](_0x2f6874),_0x4d8023=T(_0x39daf3[_0x3f9808(0x742)]);return await _0x2990db[_0x3f9808(0x814)](_0x4d8023,{'$set':_0xfb2cc3},_0x56a575);}catch(_0x33526e){return console['error'](_0x33526e),null;}}async[a0_0x21bcc2(0x68c)](_0x1567bd,_0x58a1f4){const _0x1275e0=a0_0x21bcc2;try{let _0x266571=this[_0x1275e0(0x239)](_0x58a1f4),_0x247bbe=T(_0x1567bd['where']);return await _0x266571[_0x1275e0(0x68c)](_0x247bbe);}catch(_0x521b7f){console[_0x1275e0(0x2fe)](_0x521b7f);}}async['delete'](_0x20093f,_0x504c45){const _0x226e55=a0_0x21bcc2;try{let _0x1ff1ac=this[_0x226e55(0x239)](_0x504c45),_0x1e0eba=T(_0x20093f[_0x226e55(0x742)]);await _0x1ff1ac[_0x226e55(0x5e4)](_0x1e0eba);}catch(_0x1823e7){console[_0x226e55(0x2fe)](_0x1823e7);}}async[a0_0x21bcc2(0x59e)](_0x5988ed){const _0x20fc23=a0_0x21bcc2;try{return await this['getLabelModelForOwner'](_0x5988ed)[_0x20fc23(0x620)][_0x20fc23(0x7ee)](),{'success':!0x0};}catch(_0x25b36a){return console[_0x20fc23(0x2fe)](_0x25b36a),{'success':!0x1,'error':_0x25b36a};}}},Ht=class{constructor(_0xc73848){const _0x3dcbd3=a0_0x21bcc2;this[_0x3dcbd3(0x2a6)]=_0xc73848;}async[a0_0x21bcc2(0x33a)]({instanceName:_0x33d0e8},_0x34ca88){const _0xf2314b=a0_0x21bcc2;return await this['waMonitor'][_0xf2314b(0x6e9)][_0x33d0e8][_0xf2314b(0x33a)](_0x34ca88);}async[a0_0x21bcc2(0x374)]({instanceName:_0x1a02d3},_0x175b34){const _0x100d1a=a0_0x21bcc2;return await this[_0x100d1a(0x2a6)][_0x100d1a(0x6e9)][_0x1a02d3][_0x100d1a(0x374)](_0x175b34);}async[a0_0x21bcc2(0x4c4)]({instanceName:_0x1539b8},_0x256125){const _0x516b66=a0_0x21bcc2;return await this[_0x516b66(0x2a6)][_0x516b66(0x6e9)][_0x1539b8][_0x516b66(0x4c4)](_0x256125);}async[a0_0x21bcc2(0x7f4)]({instanceName:_0x20ebaf},_0x43bd5f){const _0x152f68=a0_0x21bcc2;return await this['waMonitor'][_0x152f68(0x6e9)][_0x20ebaf][_0x152f68(0x535)](_0x43bd5f);}async[a0_0x21bcc2(0x800)]({instanceName:_0x3807f9},_0x5a7222){const _0xbfee7e=a0_0x21bcc2;return await this[_0xbfee7e(0x2a6)][_0xbfee7e(0x6e9)][_0x3807f9][_0xbfee7e(0x800)](_0x5a7222);}async['deleteMessage']({instanceName:_0x1741c0},_0x5a8368){const _0x5a136f=a0_0x21bcc2;return await this['waMonitor']['waInstances'][_0x1741c0][_0x5a136f(0x798)](_0x5a8368);}async['fetchProfilePicture']({instanceName:_0x5fb490},_0xe82fa6){const _0x11906d=a0_0x21bcc2;return await this['waMonitor'][_0x11906d(0x6e9)][_0x5fb490][_0x11906d(0x4cd)](_0xe82fa6['number']);}async['fetchProfile']({instanceName:_0x333e87},_0x29c6da){const _0x3809a0=a0_0x21bcc2;return await this['waMonitor'][_0x3809a0(0x6e9)][_0x333e87][_0x3809a0(0x312)](_0x29c6da[_0x3809a0(0x922)]);}async[a0_0x21bcc2(0x34a)]({instanceName:_0x3f7e64},_0x4b94dd){const _0x4d9f60=a0_0x21bcc2;return await this[_0x4d9f60(0x2a6)][_0x4d9f60(0x6e9)][_0x3f7e64]['updatePresence'](_0x4b94dd);}async['fetchContacts']({instanceName:_0x551019},_0x59d8e1){const _0x460a08=a0_0x21bcc2;return await this['waMonitor']['waInstances'][_0x551019][_0x460a08(0x4cc)](_0x59d8e1);}async[a0_0x21bcc2(0x248)]({instanceName:_0x1628f0},_0x401854){const _0x18fe8c=a0_0x21bcc2;return await this[_0x18fe8c(0x2a6)]['waInstances'][_0x1628f0][_0x18fe8c(0x248)](_0x401854);}async['fetchMessages']({instanceName:_0x1d3267},_0x4e8bea){const _0x4bcfb2=a0_0x21bcc2;return await this[_0x4bcfb2(0x2a6)][_0x4bcfb2(0x6e9)][_0x1d3267][_0x4bcfb2(0x664)](_0x4e8bea);}async[a0_0x21bcc2(0x715)]({instanceName:_0x1f65c8}){const _0x3b5efe=a0_0x21bcc2;return await this[_0x3b5efe(0x2a6)]['waInstances'][_0x1f65c8]['fetchLabels']();}async[a0_0x21bcc2(0x43a)]({instanceName:_0x25a8f3}){const _0x2b2f67=a0_0x21bcc2;return await this[_0x2b2f67(0x2a6)][_0x2b2f67(0x6e9)][_0x25a8f3][_0x2b2f67(0x43a)]();}async[a0_0x21bcc2(0x86a)]({instanceName:_0x34649a}){const _0x4a361f=a0_0x21bcc2;return await this[_0x4a361f(0x2a6)][_0x4a361f(0x6e9)][_0x34649a][_0x4a361f(0x86a)]();}async[a0_0x21bcc2(0x270)]({instanceName:_0x56460a},_0x438b44){const _0x5b4adb=a0_0x21bcc2;return await this[_0x5b4adb(0x2a6)]['waInstances'][_0x56460a][_0x5b4adb(0x270)](_0x438b44);}async['fetchBusinessProfile']({instanceName:_0x17f6fe},_0x33b544){const _0x37c417=a0_0x21bcc2;return await this[_0x37c417(0x2a6)][_0x37c417(0x6e9)][_0x17f6fe][_0x37c417(0x87e)](_0x33b544[_0x37c417(0x922)]);}async['updateProfileName']({instanceName:_0x2b16ce},_0x1371f9){const _0x1a9197=a0_0x21bcc2;return await this[_0x1a9197(0x2a6)][_0x1a9197(0x6e9)][_0x2b16ce][_0x1a9197(0x1e9)](_0x1371f9[_0x1a9197(0x83e)]);}async[a0_0x21bcc2(0x7ff)]({instanceName:_0x19ab7b},_0x77b1dd){const _0x54ce9d=a0_0x21bcc2;return await this[_0x54ce9d(0x2a6)][_0x54ce9d(0x6e9)][_0x19ab7b][_0x54ce9d(0x7ff)](_0x77b1dd['status']);}async[a0_0x21bcc2(0x464)]({instanceName:_0x5d369b},_0x16ffa3){const _0x2d9400=a0_0x21bcc2;return await this[_0x2d9400(0x2a6)][_0x2d9400(0x6e9)][_0x5d369b][_0x2d9400(0x464)](_0x16ffa3[_0x2d9400(0x87d)]);}async[a0_0x21bcc2(0x6d3)]({instanceName:_0x490a62},_0x3259c4){const _0x8e1a57=a0_0x21bcc2;return await this[_0x8e1a57(0x2a6)][_0x8e1a57(0x6e9)][_0x490a62]['removeProfilePicture']();}},Kt=require('@whiskeysockets/baileys'),Qt=class l{constructor(_0x1a400f,_0x17ada4,_0x31b801,_0x445219,_0x548ba7){const _0x51502f=a0_0x21bcc2;this[_0x51502f(0x2a6)]=_0x1a400f,this[_0x51502f(0x928)]=_0x17ada4,this[_0x51502f(0x5bb)]=_0x31b801,this[_0x51502f(0x596)]=_0x445219,this[_0x51502f(0x574)]=_0x548ba7,this['logger']=new $(l[_0x51502f(0x83e)]);}async[a0_0x21bcc2(0x8c4)]({instanceName:_0x413b05,apikey:_0x314065,number:_0x283872,proxy:_0x21fd76=!0x0}){const _0x50df00=a0_0x21bcc2;try{let _0x39dd8f=new $e(this[_0x50df00(0x928)],this[_0x50df00(0x596)],this['repository']);_0x39dd8f[_0x50df00(0x86d)]=_0x413b05,this['waMonitor']['waInstances'][_0x39dd8f[_0x50df00(0x86d)]]=_0x39dd8f;let _0x192d27={};_0x314065?(await this[_0x50df00(0x5bb)]['auth'][_0x50df00(0x64a)]({'apikey':_0x314065},_0x413b05),_0x192d27['apikey']=_0x314065):_0x192d27=await this['authService'][_0x50df00(0x272)]({'instanceName':_0x39dd8f[_0x50df00(0x86d)]});let _0x1528c9;if(_0x283872){if(_0x1528c9=await this['verifyWhatsAppNumber'](_0x283872),_0x1528c9[_0x50df00(0x2fe)])throw new x(_0x1528c9[_0x50df00(0x2fe)]['toString']());_0x283872=_0x1528c9[_0x50df00(0x922)];}let _0x4ac01c;return await _0x39dd8f[_0x50df00(0x3ee)](_0x283872),await(0x0,Kt[_0x50df00(0x505)])(0xfa0),_0x283872&&await(0x0,Kt[_0x50df00(0x505)])(0xbb8),_0x4ac01c=_0x39dd8f[_0x50df00(0x6cb)],{'instance':{'instanceName':_0x39dd8f[_0x50df00(0x86d)],'status':_0x50df00(0x8ae)},'hash':_0x192d27,'qrcode':_0x4ac01c};}catch(_0x53c3d2){throw this[_0x50df00(0x74f)][_0x50df00(0x2fe)](_0x53c3d2),_0x53c3d2;}}async[a0_0x21bcc2(0x28e)]({instanceName:_0x4eb67e,number:_0x4c23d4=null}){const _0x3f805d=a0_0x21bcc2;try{let _0x4cf5f3=this['waMonitor'][_0x3f805d(0x6e9)][_0x4eb67e];switch(_0x4cf5f3?.[_0x3f805d(0x34b)]?.[_0x3f805d(0x642)]){case _0x3f805d(0x59f):return await _0x4cf5f3[_0x3f805d(0x3ee)](_0x4c23d4),await(0x0,Kt[_0x3f805d(0x505)])(0x7d0),_0x4cf5f3[_0x3f805d(0x6cb)];case _0x3f805d(0x23f):return _0x4cf5f3[_0x3f805d(0x6cb)];default:return await this[_0x3f805d(0x689)]({'instanceName':_0x4eb67e});}}catch(_0x38d48a){this[_0x3f805d(0x74f)]['log'](_0x38d48a);}}async[a0_0x21bcc2(0x689)]({instanceName:_0x3e2408}){const _0x1058bd=a0_0x21bcc2;let _0x12adf9=this[_0x1058bd(0x2a6)]['waInstances'][_0x3e2408]['connectionStatus'],_0x3a9c42=null;_0x12adf9[_0x1058bd(0x642)]==='open'&&_0x3e2408&&(_0x3a9c42=await this[_0x1058bd(0x2a6)][_0x1058bd(0x89f)](_0x3e2408));let _0x235285=null;return _0x12adf9[_0x1058bd(0x642)]===_0x1058bd(0x23f)&&_0x3e2408&&(_0x235285=this['waMonitor'][_0x1058bd(0x6e9)][_0x3e2408]['qrCode']),{'instance':_0x3e2408,'connectionStatus':_0x12adf9,'instanceInfo':_0x3a9c42,'qrcode':_0x235285};}async[a0_0x21bcc2(0x5e0)](_0x45353b){const _0x1e47de=a0_0x21bcc2;_0x45353b=_0x45353b['replace'](/\D/g,'');let _0x56c446=Object[_0x1e47de(0x4ac)](this[_0x1e47de(0x2a6)][_0x1e47de(0x6e9)])[_0x1e47de(0x874)](_0x58131b=>{const _0x47c571=_0x1e47de;let _0x326460=this[_0x47c571(0x2a6)][_0x47c571(0x6e9)][_0x58131b];return _0x326460&&_0x326460['connectionStatus']&&_0x326460[_0x47c571(0x34b)][_0x47c571(0x642)]===_0x47c571(0x5f3);});if(_0x56c446[_0x1e47de(0x7be)]===0x0)return{'number':this[_0x1e47de(0x3f0)](_0x45353b)};let _0x3e0816=Math[_0x1e47de(0x921)](Math[_0x1e47de(0x4ec)]()*_0x56c446[_0x1e47de(0x7be)]),_0x1ab2fc=_0x56c446[_0x3e0816];try{let _0x5d317f=(await this[_0x1e47de(0x2a6)][_0x1e47de(0x6e9)][_0x1ab2fc][_0x1e47de(0x374)]({'numbers':[_0x45353b]}))['shift']();return _0x5d317f[_0x1e47de(0x8fb)]?{'number':_0x5d317f['jid'][_0x1e47de(0x243)]('@s.whatsapp.net','')}:{'number':_0x45353b,'error':_0x1e47de(0x81e)};}catch(_0x38b483){return this[_0x1e47de(0x74f)][_0x1e47de(0x2fe)](_0x1e47de(0x828)+_0x38b483),{'number':_0x45353b,'error':_0x1e47de(0x4d7)};}}[a0_0x21bcc2(0x3f0)](_0x48da09){const _0x54b0c8=a0_0x21bcc2;let _0x46bf49=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x54b0c8(0x8b3)](_0x48da09);if(_0x46bf49&&_0x46bf49[0x1]==='55'){let _0x5bc59c=_0x46bf49[0x2],_0x19cc1f=_0x46bf49[0x3],_0x23ca69=_0x46bf49[0x4];if(parseInt(_0x5bc59c)>=0x1f&&_0x19cc1f==='9')return _0x46bf49[0x1]+_0x5bc59c+_0x23ca69;}return _0x48da09;}async[a0_0x21bcc2(0x605)]({instanceName:_0x2553b4}){const _0x33b51c=a0_0x21bcc2;try{return this['waMonitor']['waInstances'][_0x2553b4]?.[_0x33b51c(0x2cd)]?.['ws']?.['close'](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x33b51c(0x66d)}};}catch(_0x219602){this[_0x33b51c(0x74f)]['error'](_0x219602);}}async[a0_0x21bcc2(0x24c)]({instanceName:_0x215505}){const _0x152337=a0_0x21bcc2;return _0x215505?this[_0x152337(0x2a6)][_0x152337(0x89f)](_0x215505):this['waMonitor'][_0x152337(0x89f)]();}async['logout']({instanceName:_0x3cdd2b}){const _0x4cb4e1=a0_0x21bcc2;try{return await this[_0x4cb4e1(0x2a6)][_0x4cb4e1(0x6e9)][_0x3cdd2b]?.[_0x4cb4e1(0x2cd)]?.[_0x4cb4e1(0x63f)](_0x4cb4e1(0x793)+_0x3cdd2b),{'error':!0x1,'message':_0x4cb4e1(0x29a)};}catch(_0x3a1397){throw new x(_0x3a1397[_0x4cb4e1(0x929)]());}}async[a0_0x21bcc2(0x69b)]({instanceName:_0xd88a22}){const _0x4653d8=a0_0x21bcc2;if((await this[_0x4653d8(0x689)]({'instanceName':_0xd88a22}))[_0x4653d8(0x34b)][_0x4653d8(0x642)]==='open')throw new m([_0x4653d8(0x4e1),_0x4653d8(0x626)]);try{return delete this[_0x4653d8(0x2a6)][_0x4653d8(0x6e9)][_0xd88a22],{'error':!0x1,'message':_0x4653d8(0x7a0)};}catch(_0x8b560f){throw new m(_0x8b560f[_0x4653d8(0x929)]());}}},ie=require(a0_0x21bcc2(0x869)),Yt=class{constructor(_0x455bdd){const _0x2e00f7=a0_0x21bcc2;this[_0x2e00f7(0x2a6)]=_0x455bdd;}async[a0_0x21bcc2(0x1fc)]({instanceName:_0x2d151d},_0x400855){const _0x5018f1=a0_0x21bcc2;return await this[_0x5018f1(0x2a6)][_0x5018f1(0x6e9)][_0x2d151d]['textMessage'](_0x400855);}async[a0_0x21bcc2(0x919)]({instanceName:_0x32222e},_0x4c5dd7){const _0x3c9cb4=a0_0x21bcc2;return await this[_0x3c9cb4(0x2a6)][_0x3c9cb4(0x6e9)][_0x32222e]['menuMessage'](_0x4c5dd7);}async[a0_0x21bcc2(0x78c)]({instanceName:_0x45bf58},_0x10e6cb){const _0x4f6f08=a0_0x21bcc2;if((0x0,ie[_0x4f6f08(0x63e)])(_0x10e6cb?.['mediaMessage']?.[_0x4f6f08(0x284)])&&!_0x10e6cb?.[_0x4f6f08(0x1f8)]?.[_0x4f6f08(0x87f)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ie[_0x4f6f08(0x69a)])(_0x10e6cb?.[_0x4f6f08(0x1f8)]?.[_0x4f6f08(0x284)])||(0x0,ie[_0x4f6f08(0x63e)])(_0x10e6cb?.['mediaMessage']?.['media']))return await this[_0x4f6f08(0x2a6)][_0x4f6f08(0x6e9)][_0x45bf58][_0x4f6f08(0x1f8)](_0x10e6cb);throw new m(_0x4f6f08(0x700));}async[a0_0x21bcc2(0x559)]({instanceName:_0x49feb7},_0x286d59){const _0x81f6ad=a0_0x21bcc2;if((0x0,ie['isURL'])(_0x286d59[_0x81f6ad(0x588)]['image'])||(0x0,ie[_0x81f6ad(0x63e)])(_0x286d59[_0x81f6ad(0x588)][_0x81f6ad(0x44d)]))return await this[_0x81f6ad(0x2a6)]['waInstances'][_0x49feb7][_0x81f6ad(0x305)](_0x286d59);throw new m(_0x81f6ad(0x700));}async[a0_0x21bcc2(0x864)]({instanceName:_0xa191c2},_0x1c7d33){const _0x223db6=a0_0x21bcc2;if((0x0,ie[_0x223db6(0x69a)])(_0x1c7d33[_0x223db6(0x90b)]['audio'])||(0x0,ie[_0x223db6(0x63e)])(_0x1c7d33[_0x223db6(0x90b)]['audio']))return await this['waMonitor'][_0x223db6(0x6e9)][_0xa191c2][_0x223db6(0x86e)](_0x1c7d33);throw new m(_0x223db6(0x700));}async[a0_0x21bcc2(0x42b)]({instanceName:_0x78ba61},_0x201de1){const _0x5da973=a0_0x21bcc2;if((0x0,ie[_0x5da973(0x63e)])(_0x201de1[_0x5da973(0x5e7)][_0x5da973(0x1f8)]?.[_0x5da973(0x284)])&&!_0x201de1[_0x5da973(0x5e7)]['mediaMessage']?.[_0x5da973(0x87f)])throw new m(_0x5da973(0x1f0));return await this[_0x5da973(0x2a6)][_0x5da973(0x6e9)][_0x78ba61][_0x5da973(0x5e7)](_0x201de1);}async[a0_0x21bcc2(0x201)]({instanceName:_0x595013},_0x3d556b){const _0x596116=a0_0x21bcc2;return await this[_0x596116(0x2a6)][_0x596116(0x6e9)][_0x595013]['locationMessage'](_0x3d556b);}async[a0_0x21bcc2(0x5b2)]({instanceName:_0x5b9852},_0x5375eb){const _0x193c0f=a0_0x21bcc2;return await this['waMonitor']['waInstances'][_0x5b9852][_0x193c0f(0x209)](_0x5375eb);}async[a0_0x21bcc2(0x24d)]({instanceName:_0x5dcdb8},_0x1f19cc){const _0xcccf5e=a0_0x21bcc2;return await this[_0xcccf5e(0x2a6)][_0xcccf5e(0x6e9)][_0x5dcdb8][_0xcccf5e(0x2d9)](_0x1f19cc);}async[a0_0x21bcc2(0x43c)]({instanceName:_0x4de685},_0x5d4923){const _0x27be05=a0_0x21bcc2;return await this[_0x27be05(0x2a6)][_0x27be05(0x6e9)][_0x4de685][_0x27be05(0x29d)](_0x5d4923);}async['sendReaction']({instanceName:_0x36a1df},_0x446b2c){const _0x5eea75=a0_0x21bcc2;if(!_0x446b2c[_0x5eea75(0x631)][_0x5eea75(0x718)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x5eea75(0x6e2));return await this[_0x5eea75(0x2a6)][_0x5eea75(0x6e9)][_0x36a1df][_0x5eea75(0x631)](_0x446b2c);}async['sendStatus']({instanceName:_0x4edf38},_0x4737ca){const _0x1afe7f=a0_0x21bcc2;return await this[_0x1afe7f(0x2a6)][_0x1afe7f(0x6e9)][_0x4edf38][_0x1afe7f(0x709)](_0x4737ca);}},Li=require(a0_0x21bcc2(0x611)),Us=require(a0_0x21bcc2(0x7b1)),Xt=class l{constructor(_0x37fbb1,_0x30b7d2,_0x12f784){const _0x5090d1=a0_0x21bcc2;this[_0x5090d1(0x928)]=_0x37fbb1,this[_0x5090d1(0x2a6)]=_0x30b7d2,this[_0x5090d1(0x5bb)]=_0x12f784,this[_0x5090d1(0x74f)]=new $(l[_0x5090d1(0x83e)]);}async[a0_0x21bcc2(0x3f4)](_0x41ae3e){const _0x575bae=a0_0x21bcc2;let _0x35e3ff=this[_0x575bae(0x928)][_0x575bae(0x725)](_0x575bae(0x390))[_0x575bae(0x36b)],_0x1b8f80=(0x0,Li[_0x575bae(0x723)])({'instanceName':_0x41ae3e[_0x575bae(0x86d)],'apiName':nt,'tokenId':(0x0,Us['v4'])()},_0x35e3ff[_0x575bae(0x50e)],{'expiresIn':_0x35e3ff['EXPIRIN_IN'],'encoding':_0x575bae(0x253),'subject':_0x575bae(0x81b)}),_0x242973=await this[_0x575bae(0x5bb)][_0x575bae(0x497)][_0x575bae(0x64a)]({'jwt':_0x1b8f80},_0x41ae3e['instanceName']);if(_0x242973['error'])throw this['logger'][_0x575bae(0x2fe)]({'localError':l[_0x575bae(0x83e)]+_0x575bae(0x926),'error':_0x242973['error']}),new m(_0x575bae(0x5ab),_0x242973[_0x575bae(0x2fe)]?.[_0x575bae(0x929)]());return{'jwt':_0x1b8f80};}async['apikey'](_0x1789d3){const _0x455ae3=a0_0x21bcc2;let _0x55433f=(0x0,Us['v4'])()['toUpperCase'](),_0xae5b3c=await this[_0x455ae3(0x5bb)]['auth'][_0x455ae3(0x64a)]({'apikey':_0x55433f},_0x1789d3[_0x455ae3(0x86d)]);if(_0xae5b3c[_0x455ae3(0x2fe)])throw this[_0x455ae3(0x74f)][_0x455ae3(0x2fe)]({'localError':l[_0x455ae3(0x83e)]+_0x455ae3(0x926),'error':_0xae5b3c[_0x455ae3(0x2fe)]}),new m(_0x455ae3(0x5ab),_0xae5b3c['error']?.[_0x455ae3(0x929)]());return{'apikey':_0x55433f};}async[a0_0x21bcc2(0x272)](_0x47c654){const _0x550e98=a0_0x21bcc2;let _0x13f3c3=this[_0x550e98(0x928)][_0x550e98(0x725)](_0x550e98(0x390));return await this[_0x13f3c3['TYPE']](_0x47c654);}},Zt=class{constructor(_0x28363b){const _0x18c889=a0_0x21bcc2;this[_0x18c889(0x2a6)]=_0x28363b;}async[a0_0x21bcc2(0x5fd)](_0x53c61c,_0x531535){const _0x3ab3c6=a0_0x21bcc2;return await this[_0x3ab3c6(0x2a6)][_0x3ab3c6(0x6e9)][_0x53c61c[_0x3ab3c6(0x86d)]][_0x3ab3c6(0x5fd)](_0x531535);}async['updateGroupPicture'](_0xb0c5ca,_0x1a64ad){const _0x54e941=a0_0x21bcc2;return await this['waMonitor']['waInstances'][_0xb0c5ca[_0x54e941(0x86d)]][_0x54e941(0x4a1)](_0x1a64ad);}async[a0_0x21bcc2(0x1e5)](_0x42e2b5,_0x42de86){const _0x49a0d0=a0_0x21bcc2;return await this[_0x49a0d0(0x2a6)]['waInstances'][_0x42e2b5[_0x49a0d0(0x86d)]][_0x49a0d0(0x1e5)](_0x42de86);}async['groupName'](_0x450238,_0x578b26){const _0x1e5548=a0_0x21bcc2;return await this[_0x1e5548(0x2a6)][_0x1e5548(0x6e9)][_0x450238['instanceName']][_0x1e5548(0x384)](_0x578b26);}async['groupBetterSetting'](_0x5698e9,_0x2340de){const _0x2a5e75=a0_0x21bcc2;return await this[_0x2a5e75(0x2a6)][_0x2a5e75(0x6e9)][_0x5698e9[_0x2a5e75(0x86d)]]['groupBetterSetting'](_0x2340de);}async['groupSetting'](_0x1cf135,_0x5d492a){const _0x5f17e2=a0_0x21bcc2;return await this[_0x5f17e2(0x2a6)][_0x5f17e2(0x6e9)][_0x1cf135[_0x5f17e2(0x86d)]][_0x5f17e2(0x2ca)](_0x5d492a);}async[a0_0x21bcc2(0x6d9)](_0x46d008,_0x534b10){const _0x4bf8d0=a0_0x21bcc2;return await this[_0x4bf8d0(0x2a6)][_0x4bf8d0(0x6e9)][_0x46d008['instanceName']]['findGroup'](_0x534b10);}async[a0_0x21bcc2(0x271)](_0x3567a8){const _0x7f6937=a0_0x21bcc2;return await this[_0x7f6937(0x2a6)][_0x7f6937(0x6e9)][_0x3567a8[_0x7f6937(0x86d)]][_0x7f6937(0x271)]();}async['inviteCode'](_0x20a4df,_0x5be70e){const _0x59e5dd=a0_0x21bcc2;return await this[_0x59e5dd(0x2a6)]['waInstances'][_0x20a4df[_0x59e5dd(0x86d)]][_0x59e5dd(0x727)](_0x5be70e);}async[a0_0x21bcc2(0x7aa)](_0x3b2bcf,_0x15c68d){const _0x10a0a7=a0_0x21bcc2;return await this[_0x10a0a7(0x2a6)]['waInstances'][_0x3b2bcf['instanceName']][_0x10a0a7(0x7aa)](_0x15c68d);}async[a0_0x21bcc2(0x70e)](_0x43849c,_0x30a495){const _0x87d32b=a0_0x21bcc2;return await this[_0x87d32b(0x2a6)][_0x87d32b(0x6e9)][_0x43849c[_0x87d32b(0x86d)]]['groupGetInviteInfo'](_0x30a495);}async[a0_0x21bcc2(0x57c)](_0x394f18,_0x34d7bd){const _0x253ee2=a0_0x21bcc2;return await this[_0x253ee2(0x2a6)]['waInstances'][_0x394f18[_0x253ee2(0x86d)]][_0x253ee2(0x57c)](_0x34d7bd);}async['findParticipants'](_0x8df305,_0x249689){const _0x366d71=a0_0x21bcc2;return await this[_0x366d71(0x2a6)]['waInstances'][_0x8df305[_0x366d71(0x86d)]][_0x366d71(0x233)](_0x249689);}async[a0_0x21bcc2(0x480)](_0x5de0f4,_0x27ec08){const _0x4e507f=a0_0x21bcc2;return await this[_0x4e507f(0x2a6)][_0x4e507f(0x6e9)][_0x5de0f4[_0x4e507f(0x86d)]][_0x4e507f(0x28c)](_0x27ec08);}async[a0_0x21bcc2(0x60b)](_0x475892,_0x3a02e7){const _0x57db71=a0_0x21bcc2;return await this[_0x57db71(0x2a6)]['waInstances'][_0x475892['instanceName']]['toggleEphemeral'](_0x3a02e7);}async[a0_0x21bcc2(0x58c)](_0x12bd4d,_0x2d9af1){const _0x70c5e=a0_0x21bcc2;return await this[_0x70c5e(0x2a6)]['waInstances'][_0x12bd4d[_0x70c5e(0x86d)]][_0x70c5e(0x58c)](_0x2d9af1);}},es=class{constructor(_0x40c4c3){const _0x3037cd=a0_0x21bcc2;this[_0x3037cd(0x2a6)]=_0x40c4c3;}['create'](_0x2ad65b,_0x1ab3d5){const _0x874679=a0_0x21bcc2;return this[_0x874679(0x2a6)][_0x874679(0x6e9)][_0x2ad65b[_0x874679(0x86d)]]['setWebhook'](_0x1ab3d5);}async[a0_0x21bcc2(0x68c)](_0x10a209){const _0x134d89=a0_0x21bcc2;try{return await this[_0x134d89(0x2a6)][_0x134d89(0x6e9)][_0x10a209[_0x134d89(0x86d)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Gp=new $(a0_0x21bcc2(0x8a8)),ts=class{constructor(_0x217b9d){const _0x245a63=a0_0x21bcc2;this[_0x245a63(0x2a6)]=_0x217b9d;}async[a0_0x21bcc2(0x20b)](_0x34dcfe,_0x2e4480){const _0x435f80=a0_0x21bcc2;return await this[_0x435f80(0x2a6)][_0x435f80(0x6e9)][_0x34dcfe['instanceName']][_0x435f80(0x20b)](_0x2e4480);}async[a0_0x21bcc2(0x612)](_0x17b2b6){const _0xe01976=a0_0x21bcc2;return await this['waMonitor']['waInstances'][_0x17b2b6[_0xe01976(0x86d)]][_0xe01976(0x612)]();}async[a0_0x21bcc2(0x5f4)](_0x3d4761){const _0x5b7683=a0_0x21bcc2;return await this[_0x5b7683(0x2a6)][_0x5b7683(0x6e9)][_0x3d4761[_0x5b7683(0x86d)]][_0x5b7683(0x5f4)]();}async[a0_0x21bcc2(0x27c)](_0x242d2c){const _0x4b32fc=a0_0x21bcc2;return await this['waMonitor']['waInstances'][_0x242d2c[_0x4b32fc(0x86d)]][_0x4b32fc(0x27c)]();}async[a0_0x21bcc2(0x8dc)](_0x57030c,_0x475295){const _0x4d9a3e=a0_0x21bcc2;return await this[_0x4d9a3e(0x2a6)]['waInstances'][_0x57030c[_0x4d9a3e(0x86d)]][_0x4d9a3e(0x8dc)](_0x475295);}async[a0_0x21bcc2(0x3d9)](_0xf6711d,_0x2e67c1){const _0x47cf7b=a0_0x21bcc2;return await this['waMonitor'][_0x47cf7b(0x6e9)][_0xf6711d[_0x47cf7b(0x86d)]][_0x47cf7b(0x3d9)](_0x2e67c1);}async[a0_0x21bcc2(0x241)](_0x2422e2,_0x5ec695){const _0x575fef=a0_0x21bcc2;return await this[_0x575fef(0x2a6)]['waInstances'][_0x2422e2[_0x575fef(0x86d)]][_0x575fef(0x241)](_0x5ec695);}async['updateFlowConfig'](_0x3b448c,_0x10c88e){const _0x24c2be=a0_0x21bcc2;return await this[_0x24c2be(0x2a6)][_0x24c2be(0x6e9)][_0x3b448c[_0x24c2be(0x86d)]][_0x24c2be(0x734)](_0x10c88e);}async[a0_0x21bcc2(0x652)](_0xd33872,_0x4ed115){const _0x2e811b=a0_0x21bcc2;return await this[_0x2e811b(0x2a6)][_0x2e811b(0x6e9)][_0xd33872[_0x2e811b(0x86d)]][_0x2e811b(0x652)](_0x4ed115);}async[a0_0x21bcc2(0x515)](_0x22d321,_0x44a7a5,_0x5e74d7,_0x2865bc){const _0x357b35=a0_0x21bcc2;return await this[_0x357b35(0x2a6)]['waInstances'][_0x22d321][_0x357b35(0x515)](_0x44a7a5,_0x5e74d7,_0x2865bc);}async[a0_0x21bcc2(0x4ba)](_0xa86065,_0xe6748d){const _0x5a44af=a0_0x21bcc2;return await this[_0x5a44af(0x2a6)][_0x5a44af(0x6e9)][_0xa86065[_0x5a44af(0x86d)]]['getConversation'](_0xe6748d);}async[a0_0x21bcc2(0x681)](_0x4fff6d,_0x5d0ab9){const _0x395d36=a0_0x21bcc2;return await this['waMonitor']['waInstances'][_0x4fff6d[_0x395d36(0x86d)]][_0x395d36(0x681)](_0x5d0ab9);}async['editConversation'](_0x1656c8,_0x39288d){const _0x187bc7=a0_0x21bcc2;return await this[_0x187bc7(0x2a6)][_0x187bc7(0x6e9)][_0x1656c8[_0x187bc7(0x86d)]][_0x187bc7(0x54f)](_0x39288d);}async['deleteConversation'](_0x17df16,_0x78c99a){const _0x1f253c=a0_0x21bcc2;return await this[_0x1f253c(0x2a6)]['waInstances'][_0x17df16[_0x1f253c(0x86d)]][_0x1f253c(0x433)](_0x78c99a);}async['getFlow'](_0x4e726f,_0x5e10c6){const _0x23a5c1=a0_0x21bcc2;return await this[_0x23a5c1(0x2a6)][_0x23a5c1(0x6e9)][_0x4e726f[_0x23a5c1(0x86d)]]['getFlow'](_0x5e10c6['_id']);}async['createFlow'](_0xc5c7b9,_0x21c032,_0x455ae6){const _0x42a112=a0_0x21bcc2;return await this['waMonitor'][_0x42a112(0x6e9)][_0xc5c7b9['instanceName']][_0x42a112(0x5f7)](_0x21c032,_0x455ae6);}async[a0_0x21bcc2(0x3bc)](_0x48405b,_0x3c32f4,_0x3f5993){const _0x4df01c=a0_0x21bcc2;return await this[_0x4df01c(0x2a6)][_0x4df01c(0x6e9)][_0x48405b[_0x4df01c(0x86d)]][_0x4df01c(0x3bc)](_0x3c32f4,_0x3f5993);}async[a0_0x21bcc2(0x4df)](_0x3a4151,_0x36b7c6){const _0x187073=a0_0x21bcc2;return await this[_0x187073(0x2a6)]['waInstances'][_0x3a4151[_0x187073(0x86d)]][_0x187073(0x4df)](_0x36b7c6);}async[a0_0x21bcc2(0x334)](_0x5e6e52,_0x5bb226){const _0x33993a=a0_0x21bcc2;return await this[_0x33993a(0x2a6)][_0x33993a(0x6e9)][_0x5e6e52[_0x33993a(0x86d)]]['editFlowReply'](_0x5bb226);}async[a0_0x21bcc2(0x2cb)](_0x330ec3,_0x48d0f4){const _0xdf3a64=a0_0x21bcc2;return await this[_0xdf3a64(0x2a6)]['waInstances'][_0x330ec3[_0xdf3a64(0x86d)]]['editFlowGroup'](_0x48d0f4);}async[a0_0x21bcc2(0x1f4)](_0x45fd1a,_0x275d8){const _0x5b9065=a0_0x21bcc2;return await this[_0x5b9065(0x2a6)][_0x5b9065(0x6e9)][_0x45fd1a['instanceName']][_0x5b9065(0x1f4)](_0x275d8);}async[a0_0x21bcc2(0x5c3)](_0x35dbc8,_0x379551){const _0x59f1f5=a0_0x21bcc2;return await this[_0x59f1f5(0x2a6)]['waInstances'][_0x35dbc8[_0x59f1f5(0x86d)]][_0x59f1f5(0x5c3)](_0x379551);}async['editFlowVariable'](_0x23f5f2,_0x4c9a4e){const _0x499ba0=a0_0x21bcc2;return await this[_0x499ba0(0x2a6)]['waInstances'][_0x23f5f2[_0x499ba0(0x86d)]][_0x499ba0(0x35c)](_0x4c9a4e);}async[a0_0x21bcc2(0x377)](_0x38f359,_0x541845){const _0x58e2d3=a0_0x21bcc2;return await this['waMonitor'][_0x58e2d3(0x6e9)][_0x38f359[_0x58e2d3(0x86d)]][_0x58e2d3(0x377)](_0x541845);}async[a0_0x21bcc2(0x899)](_0x9215d5){const _0x3f4763=a0_0x21bcc2;return await this[_0x3f4763(0x2a6)][_0x3f4763(0x6e9)][_0x9215d5[_0x3f4763(0x86d)]][_0x3f4763(0x899)]();}},ss=class{constructor(_0x30bc7c){const _0x75c8bc=a0_0x21bcc2;this[_0x75c8bc(0x59d)]=_0x30bc7c;}async['createWebhook'](_0x59e704,_0x4a70ad){const _0x51b66a=a0_0x21bcc2;return this[_0x51b66a(0x59d)]['create'](_0x59e704,_0x4a70ad);}async[a0_0x21bcc2(0x75c)](_0x1ab638){const _0xb6d2d4=a0_0x21bcc2;return this['webhookService'][_0xb6d2d4(0x68c)](_0x1ab638);}},as=class extends _{constructor(_0x5a023c,_0x16f9f3){const _0x1c2cf1=a0_0x21bcc2;super(_0x16f9f3),this[_0x1c2cf1(0x61a)]=_0x5a023c,this[_0x1c2cf1(0x928)]=_0x16f9f3;}async[a0_0x21bcc2(0x64a)](_0x48bd70,_0x53b517){const _0x79cb10=a0_0x21bcc2;try{return this[_0x79cb10(0x83a)][_0x79cb10(0x7bc)]?{'insertCount':(await this[_0x79cb10(0x61a)][_0x79cb10(0x6f4)]({'_id':_0x53b517},{..._0x48bd70},{'upsert':!0x0}))[_0x79cb10(0x32e)]}:{'insertCount':0x1};}catch(_0x12e6f8){return _0x12e6f8;}}async[a0_0x21bcc2(0x8b1)](_0x2ba555){const _0x551e91=a0_0x21bcc2;try{if(this[_0x551e91(0x83a)][_0x551e91(0x7bc)]){await this[_0x551e91(0x61a)][_0x551e91(0x61c)]({'_id':_0x2ba555});return;}}catch(_0x40bfa0){return{'error':_0x40bfa0};}}async[a0_0x21bcc2(0x68c)](_0x548bf8){const _0x599131=a0_0x21bcc2;try{if(this[_0x599131(0x83a)][_0x599131(0x7bc)])return await this['webhookModel'][_0x599131(0x7db)]({'_id':_0x548bf8});}catch{return{};}}},is=class extends _{constructor(_0x35ce1e,_0x419d17){const _0x307f79=a0_0x21bcc2;super(_0x419d17),this['authModel']=_0x35ce1e,this[_0x307f79(0x928)]=_0x419d17,this['auth']=_0x419d17[_0x307f79(0x725)]('AUTHENTICATION');}async['create'](_0x5775e3,_0x2b81df){const _0x2a3784=a0_0x21bcc2;try{if(this[_0x2a3784(0x83a)][_0x2a3784(0x7bc)])return{'insertCount':(await this['authModel']['updateOne']({'_id':_0x2b81df},{'$set':{..._0x5775e3}},{'upsert':!0x0}))[_0x2a3784(0x32e)]};}catch(_0x1f00e2){return{'error':_0x1f00e2};}}async[a0_0x21bcc2(0x430)](_0x485591,_0x50fe4c){const _0x5b1aff=a0_0x21bcc2;try{if(this[_0x5b1aff(0x83a)][_0x5b1aff(0x7bc)])return{'insertCount':(await this[_0x5b1aff(0x255)][_0x5b1aff(0x609)](_0x485591,{'$set':_0x50fe4c},{'upsert':!0x1}))[_0x5b1aff(0x32e)]};throw new Error(_0x5b1aff(0x44f));}catch(_0x184e12){return{'error':_0x184e12};}}async['deleteMany'](_0x4b450c){const _0x1487f9=a0_0x21bcc2;try{if(this['dbSettings'][_0x1487f9(0x7bc)])return{'insertCount':(await this[_0x1487f9(0x255)]['deleteMany'](_0x4b450c))[_0x1487f9(0x6e4)]};throw new Error('[AUTH]\x20Database\x20is\x20not\x20enabled');}catch(_0x488523){return{'error':_0x488523};}}async[a0_0x21bcc2(0x8b1)](_0x2c78ec){const _0x2850aa=a0_0x21bcc2;try{if(this[_0x2850aa(0x83a)]['ENABLED']){await this['authModel']['deleteOne']({'_id':_0x2c78ec});return;}}catch(_0x578d5b){return{'error':_0x578d5b};}}async['find'](_0x5d1dcc){const _0x2e5c81=a0_0x21bcc2;try{if(this['dbSettings'][_0x2e5c81(0x7bc)])return await this[_0x2e5c81(0x255)][_0x2e5c81(0x7db)]({'_id':_0x5d1dcc});}catch{return{};}}async['findAll'](){const _0x4308d6=a0_0x21bcc2;try{if(this[_0x4308d6(0x83a)][_0x4308d6(0x7bc)])return await this[_0x4308d6(0x255)][_0x4308d6(0x68c)]();}catch{return[];}}async[a0_0x21bcc2(0x3bb)](_0x465d2c){const _0x320fdc=a0_0x21bcc2;try{if(this[_0x320fdc(0x83a)][_0x320fdc(0x7bc)])return await this['authModel'][_0x320fdc(0x68c)](_0x465d2c);}catch{return[];}}},os=class extends _{async[a0_0x21bcc2(0x61c)](_0x5226a7){const _0x300082=a0_0x21bcc2;try{let _0x144490=T(_0x5226a7[_0x300082(0x742)]);return{'deletedCount':(await Ce[_0x300082(0x61c)](_0x144490))[_0x300082(0x6e4)]};}catch(_0x467b0f){return{'error':_0x467b0f?.['toString']()};}}async[a0_0x21bcc2(0x4f3)](_0x583513,_0x4ec60b){const _0x4d655b=a0_0x21bcc2;try{let _0x5c0284=await Ce[_0x4d655b(0x4f0)](_0x583513);return _0x5c0284?(Object[_0x4d655b(0x5a0)](_0x5c0284,_0x4ec60b),await _0x5c0284[_0x4d655b(0x830)]()):(console[_0x4d655b(0x2fe)](_0x4d655b(0x240),_0x583513),null);}catch(_0x3c48c6){return console[_0x4d655b(0x2fe)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x3c48c6),null;}}async[a0_0x21bcc2(0x213)](_0x16297){const _0x20679c=a0_0x21bcc2;try{return await new Ce(_0x16297)[_0x20679c(0x830)]();}catch(_0x563361){return console[_0x20679c(0x2fe)]('Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:',_0x563361),null;}}async['findAll'](_0x36b443){const _0x8e2889=a0_0x21bcc2;try{let _0x382661=_0x36b443['where']??{};return await Ce[_0x8e2889(0x68c)](_0x382661)[_0x8e2889(0x7d1)](_0x36b443['limit']??0x0)[_0x8e2889(0x2f8)]();}catch(_0x483ee1){return console[_0x8e2889(0x2fe)](_0x8e2889(0x62b),_0x483ee1),[];}}async['findOne'](_0x36899a){const _0xc22f49=a0_0x21bcc2;try{let _0x2b173b=T(_0x36899a[_0xc22f49(0x742)]);return await Ce[_0xc22f49(0x7db)](_0x2b173b)['lean']();}catch{return null;}}},rs=class extends _{[a0_0x21bcc2(0x5e2)](_0x42f665){return Ma(_0x42f665);}async[a0_0x21bcc2(0x6b9)](_0x11721a){const _0x2efdef=a0_0x21bcc2;if(_0x11721a[_0x2efdef(0x7be)]!==0x0)try{return{'insertCount':(await this[_0x2efdef(0x5e2)](_0x11721a[0x0]['owner'])['insertMany']([..._0x11721a]))['length']};}catch(_0xf188b3){return _0xf188b3;}}async[a0_0x21bcc2(0x8b1)](_0x5aafdc,_0x5162c8){const _0x5d8e1d=a0_0x21bcc2;try{let _0x2d8636=this[_0x5d8e1d(0x5e2)](_0x5162c8),_0x440eb6=T(_0x5aafdc[_0x5d8e1d(0x742)]);return{'deletedCount':(await _0x2d8636[_0x5d8e1d(0x5e4)](_0x440eb6))['deletedCount']};}catch(_0xff29e9){return{'error':_0xff29e9?.[_0x5d8e1d(0x929)]()};}}async['deleteOne'](_0x426055,_0x35a40e){const _0xfe83e=a0_0x21bcc2;try{let _0x1f470d=this[_0xfe83e(0x5e2)](_0x35a40e),_0xaafb2d=T(_0x426055[_0xfe83e(0x742)]);return{'deletedCount':(await _0x1f470d[_0xfe83e(0x61c)](_0xaafb2d))[_0xfe83e(0x6e4)]};}catch(_0x21ff1b){return{'error':_0x21ff1b?.[_0xfe83e(0x929)]()};}}async[a0_0x21bcc2(0x7ed)](_0x4381f0,_0x5be45d){const _0x45d66f=a0_0x21bcc2;try{if(_0x4381f0[_0x45d66f(0x7be)]===0x0)return;let _0x3edbd4=this['getConversationModelForOwner'](_0x5be45d),_0x28ae1c=_0x4381f0['map'](_0x48c097=>({'updateOne':{'filter':{'name':_0x48c097[_0x45d66f(0x83e)],'owner':_0x5be45d},'update':{..._0x48c097}}})),{modifiedCount:_0x458875}=await _0x3edbd4[_0x45d66f(0x871)](_0x28ae1c);return{'insertCount':_0x458875};}catch{return;}}async[a0_0x21bcc2(0x609)](_0x197296,_0x3fbaed,_0x2eaf1e){const _0x95b07a=a0_0x21bcc2;try{return{'modifiedCount':(await this[_0x95b07a(0x5e2)](_0x2eaf1e)[_0x95b07a(0x609)](_0x197296,{'$set':_0x3fbaed})[_0x95b07a(0x8b3)]())[_0x95b07a(0x32e)]};}catch(_0x2b2453){return console[_0x95b07a(0x2fe)](_0x95b07a(0x2a3),_0x2b2453),{'error':_0x2b2453};}}async[a0_0x21bcc2(0x4f3)](_0x5dfff5,_0x4adcaa,_0x1a547e){const _0x1898c0=a0_0x21bcc2;try{return await this[_0x1898c0(0x5e2)](_0x1a547e)[_0x1898c0(0x814)]({'_id':_0x5dfff5},{'$set':_0x4adcaa},{'new':!0x0,'upsert':!0x0})[_0x1898c0(0x2f8)]();}catch(_0x2e25dc){return console[_0x1898c0(0x2fe)](_0x2e25dc),null;}}async[a0_0x21bcc2(0x68c)](_0xa13ff0,_0x387d09){const _0x1f8c6d=a0_0x21bcc2;try{return await this[_0x1f8c6d(0x5e2)](_0x387d09)['find'](_0xa13ff0)[_0x1f8c6d(0x786)]({'lastInteraction':-0x1})[_0x1f8c6d(0x2f8)]();}catch{return[];}}async[a0_0x21bcc2(0x7db)](_0x26cd80,_0xaa9d37){const _0x180e0d=a0_0x21bcc2;try{return await this[_0x180e0d(0x5e2)](_0xaa9d37)['findOne']({..._0x26cd80[_0x180e0d(0x742)]})[_0x180e0d(0x2f8)]();}catch{return null;}}async['deleteAll'](_0x40e798){const _0x43a2f2=a0_0x21bcc2;try{return await this['getConversationModelForOwner'](_0x40e798)['collection']['drop'](),{'success':!0x0};}catch(_0x38c549){return console[_0x43a2f2(0x2fe)](_0x38c549),{'success':!0x1,'error':_0x38c549};}}},ns=class extends _{['getScheduleMessageModelForOwner'](_0x23ec2b){return Ca(_0x23ec2b);}async[a0_0x21bcc2(0x871)](_0x170b21,_0x8d9277){const _0x12a8a2=a0_0x21bcc2;try{return await this[_0x12a8a2(0x453)](_0x8d9277)['bulkWrite'](_0x170b21);}catch(_0x531b62){return console['error']('Erro\x20ao\x20executar\x20bulkWrite:',_0x531b62),null;}}async[a0_0x21bcc2(0x213)](_0x628081,_0x129567){const _0x5bac22=a0_0x21bcc2;try{let _0x3ee163=this['getScheduleMessageModelForOwner'](_0x129567);return await new _0x3ee163(_0x628081)['save']();}catch(_0x515aa1){return console[_0x5bac22(0x2fe)](_0x5bac22(0x6bc),_0x515aa1),null;}}async[a0_0x21bcc2(0x61c)](_0x1742fc,_0xb5f0d9){const _0x3ab0f9=a0_0x21bcc2;try{return await this[_0x3ab0f9(0x453)](_0xb5f0d9)[_0x3ab0f9(0x892)](_0x1742fc),{};}catch(_0x3106d4){return{'error':_0x3106d4?.[_0x3ab0f9(0x929)]()};}}async[a0_0x21bcc2(0x4f3)](_0x43029a,_0x33f1cc,_0x1038c9,_0x20a171={}){const _0x3b67d4=a0_0x21bcc2;try{return await this[_0x3b67d4(0x453)](_0x1038c9)['findOneAndUpdate'](_0x43029a,_0x33f1cc,{..._0x20a171,'new':!0x0})[_0x3b67d4(0x2f8)]();}catch(_0x195490){return console[_0x3b67d4(0x2fe)](_0x3b67d4(0x71a),_0x195490),null;}}async[a0_0x21bcc2(0x3d7)](_0x4fe2dc,_0x14b5b9,_0x53f2e9){const _0x49af85=a0_0x21bcc2;try{return await this[_0x49af85(0x453)](_0x53f2e9)[_0x49af85(0x546)](_0x4fe2dc,_0x14b5b9,{'new':!0x0})['lean']();}catch(_0x2e5c22){return console[_0x49af85(0x2fe)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x2e5c22),null;}}async['find'](_0x1d8608,_0x5ed771){const _0x50fbca=a0_0x21bcc2;try{return await this['getScheduleMessageModelForOwner'](_0x5ed771)[_0x50fbca(0x68c)](_0x1d8608['where'])['limit'](_0x1d8608?.[_0x50fbca(0x7d1)]??0x0)[_0x50fbca(0x786)]({'when':0x1})[_0x50fbca(0x2f8)]();}catch{return[];}}async[a0_0x21bcc2(0x7db)](_0xbfd6ed,_0x388efb){const _0x5a4459=a0_0x21bcc2;try{return await this[_0x5a4459(0x453)](_0x388efb)[_0x5a4459(0x7db)](_0xbfd6ed[_0x5a4459(0x742)])[_0x5a4459(0x786)]({'when':0x1})[_0x5a4459(0x2f8)]();}catch{return null;}}async[a0_0x21bcc2(0x4f0)](_0x4d3e62,_0x44b173){const _0x557fb4=a0_0x21bcc2;try{return await this[_0x557fb4(0x453)](_0x44b173)[_0x557fb4(0x4f0)](_0x4d3e62)[_0x557fb4(0x2f8)]();}catch{return null;}}async[a0_0x21bcc2(0x5e4)](_0x4a0908,_0x1b0b3d){const _0x46f8e7=a0_0x21bcc2;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x1b0b3d)['deleteMany'](_0x4a0908))['deletedCount']};}catch(_0x5bb557){return console[_0x46f8e7(0x2fe)](_0x46f8e7(0x2c9),_0x5bb557),{'error':_0x5bb557};}}async[a0_0x21bcc2(0x59e)](_0x2b4b40){const _0x2d14bb=a0_0x21bcc2;try{return await this[_0x2d14bb(0x453)](_0x2b4b40)[_0x2d14bb(0x620)][_0x2d14bb(0x7ee)](),{'success':!0x0};}catch(_0x4e9cc6){return console[_0x2d14bb(0x2fe)](_0x4e9cc6),{'success':!0x1,'error':_0x4e9cc6};}}},cs=class extends _{async[a0_0x21bcc2(0x7ed)](_0x57237e,_0x2b96bf){const _0x41d41e=a0_0x21bcc2;try{if(this[_0x41d41e(0x83a)]['ENABLED'])return await Te[_0x41d41e(0x814)]({'_id':_0x2b96bf},{'$set':_0x57237e},{'new':!0x0});}catch(_0x4582f4){throw console[_0x41d41e(0x2fe)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x4582f4),_0x4582f4;}}async[a0_0x21bcc2(0x344)](_0x3cdf85){const _0xf1c029=a0_0x21bcc2;try{let _0x27c986=await Te['findById'](_0x3cdf85);return _0x27c986?_0x27c986['autoCompleteMessages']||(_0x27c986[_0xf1c029(0x8f8)]=[],await _0x27c986[_0xf1c029(0x830)]()):(_0x27c986=new Te({'_id':_0x3cdf85,'autoCompleteMessages':[]}),await _0x27c986[_0xf1c029(0x830)]()),_0x27c986;}catch(_0x9367e4){return _0x9367e4[_0xf1c029(0x2b7)]===0x2af8&&_0x9367e4[_0xf1c029(0x32a)]&&_0x9367e4[_0xf1c029(0x32a)]['autoCompleteMessages.command']?(console[_0xf1c029(0x2fe)](_0xf1c029(0x2e7)),await Te[_0xf1c029(0x620)][_0xf1c029(0x4d1)]('autoCompleteMessages.command_1'),null):(console[_0xf1c029(0x2fe)](_0xf1c029(0x389),_0x9367e4),null);}}},qo=new $('WA\x20MODULE'),Vo=new Xe(S),Go=new Bt(S),Bo=new lt(S),Wo=new Wt(ra,S),zo=new as(ga,S),Ho=new is(da,S),Ko=new Ne(He,S),Qo=new os(S),Yo=new zt(S),Xo=new rs(S),Zo=new ns(S),er=new cs(S),we=new Qe(Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,A?.['getClient']()),B=new Gt(ms,S,we),tr=new Xt(S,B,we),sr=new es(B),As=new ss(sr),O=new ts(B),pe=new Qt(B,S,we,ms,tr),W=new Yt(B),P=new Ht(B),q=new Zt(B);qo[a0_0x21bcc2(0x768)](a0_0x21bcc2(0x33c));var ng=require(a0_0x21bcc2(0x7c1)),js=require('fs'),Fi=I(require('https')),Ui=I(require('http')),je=class l{static #e;static set[a0_0x21bcc2(0x549)](_0x9dba16){this.#e=_0x9dba16;}static get[a0_0x21bcc2(0x55e)](){const _0x2ba55c=a0_0x21bcc2;let {FULLCHAIN:_0x2fb642,PRIVKEY:_0x16916d}=S[_0x2ba55c(0x725)](_0x2ba55c(0x6fd));return Fi['createServer']({'cert':(0x0,js[_0x2ba55c(0x2a0)])(_0x2fb642),'key':(0x0,js[_0x2ba55c(0x2a0)])(_0x16916d)},l.#e);}static get[a0_0x21bcc2(0x699)](){return Ui['createServer'](l.#e);}},Je=I(require('fs')),Bi=I(require(a0_0x21bcc2(0x5ef))),qe=I(require(a0_0x21bcc2(0x2a2))),us=I(require(a0_0x21bcc2(0x51c))),ls=require(a0_0x21bcc2(0x8f2));function ar(){const _0x3583f0=a0_0x21bcc2;B['loadInstance']();let _0x23acb0=us[_0x3583f0(0x7ac)][_0x3583f0(0x720)](__dirname,_0x3583f0(0x672));Gi(_0x23acb0);}function a0_0x4215(_0x2f025a,_0x1f629f){const _0x1160bf=a0_0x1160();return a0_0x4215=function(_0x421520,_0xddfab1){_0x421520=_0x421520-0x1de;let _0x29805a=_0x1160bf[_0x421520];return _0x29805a;},a0_0x4215(_0x2f025a,_0x1f629f);}var Gi=_0xc58588=>{const _0x546dfa=a0_0x21bcc2;let _0x45c478=Je['default'][_0x546dfa(0x802)](_0xc58588),_0x47be4f=0xc*0x3c*0x3c*0x3e8,_0xc5f49=0x2*0x3c*0x3c*0x3e8,_0x18b1b5=new Date()[_0x546dfa(0x8d4)]();_0x45c478[_0x546dfa(0x653)](_0x5614f1=>{const _0xef0498=_0x546dfa;let _0x2e9bb8=us[_0xef0498(0x7ac)]['join'](_0xc58588,_0x5614f1),_0x183645=Je[_0xef0498(0x7ac)][_0xef0498(0x2b0)](_0x2e9bb8)[_0xef0498(0x234)][_0xef0498(0x8d4)]();_0x18b1b5-_0x183645>_0x47be4f&&(Je[_0xef0498(0x7ac)][_0xef0498(0x2f5)](_0x2e9bb8),console[_0xef0498(0x8b0)](_0xef0498(0x8b7)+_0x5614f1));}),setTimeout(()=>Gi(_0xc58588),_0xc5f49);};function ir(){const _0x188c0c=a0_0x21bcc2;let _0x1b6624=new $(_0x188c0c(0x76b)),_0x8959a4=(0x0,be[_0x188c0c(0x7ac)])();_0x8959a4[_0x188c0c(0x5ed)]((0x0,Vi['default'])({'origin'(_0x42f7b4,_0x398358){const _0x281041=_0x188c0c;let {ORIGIN:_0x2a09bd}=S['get'](_0x281041(0x915));return _0x42f7b4||(_0x42f7b4='*'),_0x2a09bd[_0x281041(0x34c)]('*')!==-0x1||_0x2a09bd[_0x281041(0x34c)](_0x42f7b4)!==-0x1?_0x398358(null,!0x0):_0x398358(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...S[_0x188c0c(0x725)]('CORS')[_0x188c0c(0x91e)]],'credentials':S['get']('CORS')[_0x188c0c(0x382)]}),(0x0,be[_0x188c0c(0x5aa)])({'extended':!0x0,'limit':_0x188c0c(0x738)}),(0x0,be['json'])({'limit':_0x188c0c(0x738)})),_0x8959a4['use']((_0x5ba072,_0xf0247,_0x1c4bd4)=>{const _0x247c3a=_0x188c0c;_0x5ba072['path'][_0x247c3a(0x37a)](_0x247c3a(0x627))?_0x1c4bd4():(0x0,qi[_0x247c3a(0x7ac)])()(_0x5ba072,_0xf0247,_0x1c4bd4);}),_0x8959a4[_0x188c0c(0x212)](_0x188c0c(0x82c),_0x188c0c(0x56a)),_0x8959a4[_0x188c0c(0x212)](_0x188c0c(0x831),(0x0,qs[_0x188c0c(0x720)])(le,_0x188c0c(0x831))),_0x8959a4['use'](be['default']['static']((0x0,qs['join'])(le,_0x188c0c(0x707)))),_0x8959a4[_0x188c0c(0x5ed)]((_0x749904,_0x1f5c13,_0x13b2f1)=>{const _0x4f953d=_0x188c0c;let _0xd5ad68=_0x1f5c13[_0x4f953d(0x65d)];_0x1f5c13[_0x4f953d(0x65d)]=function(_0x52b8f3){const _0xe98f50=_0x4f953d;if(_0x749904[_0xe98f50(0x83d)]['convert']===_0xe98f50(0x8a4)||_0x749904['headers'][_0xe98f50(0x89a)]===_0xe98f50(0x8a4)){let _0x2489c8=JSON[_0xe98f50(0x80f)](_0x52b8f3);_0x52b8f3=JSON['stringify'](_0x1b3b38(_0x2489c8));}return _0xd5ad68[_0xe98f50(0x7e4)](_0x1f5c13,[_0x52b8f3]);},_0x13b2f1();}),_0x8959a4[_0x188c0c(0x5ed)]('/',Le),_0x8959a4[_0x188c0c(0x5ed)]((_0x2e9d57,_0x4f04b8,_0x354e31,_0x257e71)=>{const _0x4ef438=_0x188c0c;if(_0x2e9d57)return _0x354e31[_0x4ef438(0x41a)](_0x2e9d57['status']||0x1f4)['json'](_0x2e9d57);},(_0xea1789,_0x5cf910,_0x418d0b)=>{const _0x5630e6=_0x188c0c;let {method:_0x3bb089,url:_0x4706d2}=_0xea1789;_0x5cf910[_0x5630e6(0x41a)](0x194)[_0x5630e6(0x579)]({'status':0x194,'message':_0x5630e6(0x6b3)+_0x3bb089[_0x5630e6(0x352)]()+'\x20'+_0x4706d2,'error':_0x5630e6(0x211)}),_0x418d0b();});let _0x1b3b38=(_0x11c1e6,_0x1269a3=_0x188c0c(0x6a4))=>{const _0x15d128=_0x188c0c;let _0x185f4e=(_0xab783e,_0x5a19b4=null,_0x3365ad=!0x1)=>{const _0x30566c=a0_0x4215;let _0x4f08a6={};return Object[_0x30566c(0x4ac)](_0xab783e)[_0x30566c(0x653)](_0x1b6429=>{const _0x11d896=_0x30566c;let _0xbf55e3=_0xab783e[_0x1b6429],_0x3f3249=''+_0x1269a3+_0x1b6429;_0x5a19b4&&!_0x3365ad&&(_0x3f3249=_0x5a19b4+'.'+_0x1b6429),!_0xbf55e3&&_0xbf55e3!==0x0&&_0xbf55e3!==!0x1||typeof _0xbf55e3>'u'?_0x4f08a6[_0x3f3249]=null:typeof _0xbf55e3!='object'&&!Array['isArray'](_0xbf55e3)?_0x4f08a6[_0x3f3249]=_0xbf55e3:typeof _0xbf55e3=='object'&&!Array['isArray'](_0xbf55e3)?_0x4f08a6=Object[_0x11d896(0x5a0)](_0x4f08a6,_0x185f4e(_0xbf55e3,_0x3f3249)):Array[_0x11d896(0x744)](_0xbf55e3)&&(typeof _0xbf55e3[0x0]==_0x11d896(0x82b)?(_0x4f08a6[_0x3f3249]=[],_0xbf55e3[_0x11d896(0x653)](_0x276256=>{const _0x2ed350=_0x11d896;_0x4f08a6[_0x3f3249][_0x2ed350(0x2ea)](_0x185f4e(_0x276256,_0x3f3249,!0x0));})):_0x4f08a6[_0x3f3249]=_0xbf55e3);}),_0x4f08a6;};return Array[_0x15d128(0x744)](_0x11c1e6)?_0x11c1e6[_0x15d128(0x867)](_0xf0fbe2=>_0x185f4e(_0xf0fbe2)):typeof _0x11c1e6==_0x15d128(0x82b)&&_0x11c1e6!==null?_0x185f4e(_0x11c1e6):{};},_0xd0cf57=S['get'](_0x188c0c(0x76b));je['app']=_0x8959a4;let _0x44861b=je[_0xd0cf57['TYPE']],_0x20f578='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x44861b[_0x188c0c(0x394)](_0xd0cf57[_0x188c0c(0x841)],()=>{const _0x1258fa=_0x188c0c;_0x1b6624['log'](_0x20f578),_0x1b6624['log'](_0xd0cf57[_0x1258fa(0x4b7)][_0x1258fa(0x352)]()+'\x20-\x20ON:\x20'+_0xd0cf57[_0x1258fa(0x841)]);}),ar(),ea();}var or=a0_0x21bcc2(0x210),rr=us[a0_0x21bcc2(0x7ac)][a0_0x21bcc2(0x720)](__dirname,'./.git/config'),Re=null;function nr(){return new Promise((_0x2f7b58,_0x5f1cd1)=>{const _0x3abac7=a0_0x4215;Je['default'][_0x3abac7(0x7f8)](rr,'utf-8',(_0x4a5aa0,_0x2caae2)=>{const _0x1ea71f=_0x3abac7;if(_0x4a5aa0){Re=_0x4a5aa0,_0x2f7b58();return;}Bi[_0x1ea71f(0x7ac)][_0x1ea71f(0x80f)](_0x2caae2)[_0x1ea71f(0x4b5)]['url']===or?(Re=null,_0x2f7b58()):(Re=new Error(_0x1ea71f(0x8ff)),_0x2f7b58());});});}async function cr(){const _0x581055=a0_0x21bcc2;try{await nr(),await Vs();}catch(_0x4318f2){console[_0x581055(0x2fe)](_0x581055(0x410)+_0x4318f2),process[_0x581055(0x860)](0x1);}}cr();async function Wi(){const _0x20c47a=a0_0x21bcc2;let _0xa15c13;try{_0xa15c13=(await qe['default'][_0x20c47a(0x725)](_0x20c47a(0x5b4)))[_0x20c47a(0x721)]['ip'];}catch(_0x2c6198){console[_0x20c47a(0x2fe)](_0x2c6198);try{_0xa15c13=(await qe['default'][_0x20c47a(0x725)](_0x20c47a(0x20d)))['data']['ip'];}catch(_0x1e04be){console['error'](_0x1e04be);try{_0xa15c13=(await qe[_0x20c47a(0x7ac)]['get'](_0x20c47a(0x412)))[_0x20c47a(0x721)][_0x20c47a(0x2e9)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x57948e){return console[_0x20c47a(0x2fe)](_0x57948e),!0x1;}}}return _0xa15c13;}var ji=0x0;async function lr(){const _0x2cdf9a=a0_0x21bcc2;let _0x39d55d=await new he(S[_0x2cdf9a(0x725)](_0x2cdf9a(0x537)))[_0x2cdf9a(0x45a)]();return console[_0x2cdf9a(0x8b0)](_0x2cdf9a(0x55d),_0x39d55d[_0x2cdf9a(0x7be)]),_0x39d55d[_0x2cdf9a(0x7be)];}function ur(_0x3968a6){const _0x137784=a0_0x21bcc2;let _0x3321ab=_0x3968a6[_0x137784(0x725)](_0x137784(0x76b))[_0x137784(0x43b)],_0x135d03=_0x3968a6[_0x137784(0x725)]('SSL_CONF');console['log'](_0x137784(0x590),_0x3321ab),console[_0x137784(0x8b0)]('Configuração\x20SSL\x20recuperada:',_0x135d03);let _0x150b83='',_0xe4eee8=_0x3321ab||'';if(_0x3321ab){let _0x3295ca=_0x3321ab[_0x137784(0x2e9)](/\/\/(.*?)\./);console[_0x137784(0x8b0)]('Resultado\x20da\x20correspondência\x20de\x20URL:',_0x3295ca),_0x3295ca&&_0x3295ca[0x1]&&(_0x150b83=_0x3295ca[0x1],console[_0x137784(0x8b0)](_0x137784(0x663),_0x150b83));}if(!_0x150b83&&_0x135d03&&_0x135d03['FULLCHAIN']){let _0x19e7cb=_0x135d03[_0x137784(0x68b)][_0x137784(0x766)]('/');console[_0x137784(0x8b0)](_0x137784(0x696),_0x19e7cb);let _0x10082d=_0x19e7cb[_0x19e7cb[_0x137784(0x7be)]-0x2];if(console[_0x137784(0x8b0)](_0x137784(0x525),_0x10082d),_0x10082d){let _0x174257=_0x10082d['split']('.');console['log'](_0x137784(0x2bd),_0x174257),_0x174257[_0x137784(0x7be)]>0x2&&(_0x150b83=_0x174257[0x0],console[_0x137784(0x8b0)]('Subdomínio\x20extraído\x20do\x20caminho\x20SSL:',_0x150b83),_0xe4eee8=''+_0x10082d);}}return{'subdomain':_0x150b83||_0x137784(0x3e5),'fullURL':_0xe4eee8||_0x137784(0x2df)};}var {subdomain:Z,fullURL:Gs}=ur(S);console['log']('Subdomínio\x20final:',Z),console[a0_0x21bcc2(0x8b0)]('URL\x20completa:',Gs);async function dr(){const _0x5d13fa=a0_0x21bcc2;let _0x3698c7=S[_0x5d13fa(0x725)](_0x5d13fa(0x537)),_0x13744f=S[_0x5d13fa(0x725)](_0x5d13fa(0x390))[_0x5d13fa(0x5a6)][_0x5d13fa(0x67f)],_0x4f6fc6=S[_0x5d13fa(0x725)](_0x5d13fa(0x6fd)),_0x3ef52d=await Wi(),_0x5cfa22=S[_0x5d13fa(0x725)](_0x5d13fa(0x76b))[_0x5d13fa(0x841)],_0x578a7b=Gs;try{let _0x4c239a={'ip':_0x3ef52d||null,'redis_enable':_0x3698c7?.[_0x5d13fa(0x7bc)]||null,'apikey':_0x13744f||null,'ssl':_0x4f6fc6?.['PRIVKEY']||null,'lastupdate':zi||null,'port':_0x5cfa22||null,'gitInstallError':Re?.[_0x5d13fa(0x4a8)]||null,'url':_0x578a7b||null,'subdomain':Z};if(console[_0x5d13fa(0x8b0)](_0x5d13fa(0x26c),_0x4c239a['ip']),_0x3698c7&&_0x3698c7[_0x5d13fa(0x7bc)]){let _0x54ccfa=await lr();_0x4c239a[_0x5d13fa(0x7ec)]=_0x54ccfa||null;}for(let _0x17a255 in _0x4c239a)_0x4c239a[_0x5d13fa(0x36f)](_0x17a255)&&_0x17a255!=='ip'&&(_0x4c239a[_0x17a255]=JSON[_0x5d13fa(0x261)](_0x4c239a[_0x17a255]));return(await qe['default']['post'](_0x5d13fa(0x7c6),_0x4c239a))[_0x5d13fa(0x721)];}catch(_0x338542){return console[_0x5d13fa(0x2fe)](_0x338542),!0x1;}}var Js=!0x1,zi=0x257,pr=0x3,Ji=0x1b7740;async function Vs(){const _0x576d9e=a0_0x21bcc2;let _0x59961e='fora\x20do\x20git';Re===null&&(_0x59961e=await Wi());let _0x4e02e3=await dr();if(_0x4e02e3){if(_0x4e02e3[_0x576d9e(0x52a)][_0x576d9e(0x811)]===!0x0){Re===null&&_0x4e02e3[_0x576d9e(0x52a)][_0x576d9e(0x808)]-zi>0x0&&await hr(),Js||(Js=!0x0,ir());let _0x1603fb=0x24*0x3c*0x3c,_0x14fdb7=_0x4e02e3[_0x576d9e(0x52a)][_0x576d9e(0x6e6)]>_0x1603fb?_0x1603fb:_0x4e02e3['response']['segundos'],_0x4c52f3=Number(_0x14fdb7);if(isNaN(_0x4c52f3)){console[_0x576d9e(0x2fe)](_0x576d9e(0x888));return;}let _0x468750=Math[_0x576d9e(0x921)](_0x4c52f3/0xe10),_0xb54628=Math[_0x576d9e(0x921)](_0x4c52f3%0xe10/0x3c),_0x145382=new Date(Date['now']()+_0x4c52f3*0x3e8);setTimeout(Vs,_0x4c52f3*0x3e8);let _0x45e61c=_0x3d54bc=>_0x3d54bc[_0x576d9e(0x929)]()['padStart'](0x2,'0'),_0xfe76a7=_0x576d9e(0x74b)+_0x45e61c(_0x468750)+_0x576d9e(0x4bf)+_0x45e61c(_0xb54628)+_0x576d9e(0x22b)+_0x45e61c(_0x145382[_0x576d9e(0x76d)]())+':'+_0x45e61c(_0x145382[_0x576d9e(0x32f)]())+'.';console[_0x576d9e(0x8b0)](_0xfe76a7);}else return console[_0x576d9e(0x8b0)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Js&&(console[_0x576d9e(0x8b0)](_0x576d9e(0x217)),process[_0x576d9e(0x860)]()),'LICENSE_INVALID';}else{if(ji++,ji<pr)console['log'](_0x576d9e(0x33e)+Ji/0xea60+'\x20minutos...'),setTimeout(Vs,Ji);else return console[_0x576d9e(0x2fe)](_0x576d9e(0x71d)),_0x576d9e(0x749);}}async function hr(){const _0xb2a67d=a0_0x21bcc2;console['log']('Parando\x20aplicação,\x20atualização\x20recebida'),console[_0xb2a67d(0x8b0)]('Limpando\x20logs\x20do\x20PM2...'),(0x0,ls[_0xb2a67d(0x483)])(_0xb2a67d(0x544),{'shell':!0x0})['on'](_0xb2a67d(0x59f),_0x187338=>{const _0x191af2=_0xb2a67d;_0x187338!==0x0?console[_0x191af2(0x2fe)](_0x191af2(0x3d8)):(console[_0x191af2(0x8b0)](_0x191af2(0x444)),console[_0x191af2(0x8b0)]('Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...'),(0x0,ls[_0x191af2(0x483)])(_0x191af2(0x8bf),{'shell':!0x0})['on'](_0x191af2(0x59f),_0x1266b5=>{const _0xdf03f6=_0x191af2;if(_0x1266b5!==0x0)console[_0xdf03f6(0x2fe)]('Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.');else{console[_0xdf03f6(0x8b0)](_0xdf03f6(0x64e));let _0x2873fb=(0x0,ls['spawn'])(_0xdf03f6(0x6c7),{'shell':!0x0});_0x2873fb[_0xdf03f6(0x23e)]['on'](_0xdf03f6(0x721),_0x438926=>{const _0x134a35=_0xdf03f6;console['log'](_0x134a35(0x348)+_0x438926);}),_0x2873fb[_0xdf03f6(0x8b4)]['on']('data',_0x110872=>{const _0x442e6f=_0xdf03f6;console[_0x442e6f(0x2fe)](_0x442e6f(0x40d)+_0x110872);}),_0x2873fb['on'](_0xdf03f6(0x860),_0x294db9=>{const _0x32463f=_0xdf03f6;_0x294db9!==0x0?console[_0x32463f(0x2fe)](_0x32463f(0x613)+_0x294db9):console['log'](_0x32463f(0x43d)),console['log'](_0x32463f(0x3e3)),setTimeout(()=>process[_0x32463f(0x860)](),0x2710);});}}));});}0x0&&(module['exports']={'fullURL':fullURL,'subdomain':subdomain});function a0_0x1160(){const _0x324993=['save','views','loadInstance','reference','lastBlockId','#ffffff','allflows','promisify','updateChatGroupData','text','dbSettings','Erro\x20ao\x20adicionar\x20label\x20','/webhook','query','name','src','Error\x20removing\x20IPv6\x20address:\x20','PORT','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','leadInfo.etiquetas','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','Não\x20respondeu\x20com\x20a\x20enquete.','Last\x20message\x20not\x20found\x20for\x20number:\x20','atendimentoAberto','\x22\x20not\x20found','contact_blacklist','dayjs','):Error\x20in\x20converting\x20audio','connectedName','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','action','saveConversationToDatabase','clearVariables','request\x20received\x20in\x20deleteFlow','):\x20Mensagem\x20já\x20enviada\x20para\x20','subjectTime','isValidIPv6Config','transformScheduledMessagesByType','owner','/wa-qrcode','.mp3','selectedOptions','events','0123456789ABCDEF','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','flowConversation','updateOnlinePrivacy','shareOwners','exit','_FlowHistorico','_error','):\x20[messages.update]\x20group\x20ignored','sendWhatsAppAudio','groupadd','listType','map','endsWith','class-validator','fetchPrivacySettings','cacheInstanceRepository','AUTHENTICATION_API_KEY','instanceName','audioWhatsapp','fromMe','/automate','bulkWrite','The\x20global\x20api\x20key\x20must\x20be\x20set','model','filter','convertedOptions','restrict','Falha\x20ao\x20processar\x20a\x20solicitação','/message','Error\x20adding\x20IPv6\x20address:\x20','startID','Type\x20is\x20required','.\x20Pulando.','picture','fetchBusinessProfile','fileName','):Temp\x20image\x20deleted','#01d0e2','Erro\x20ao\x20buscar\x20a\x20conversa','notContains','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','post','/chat','.ogv','interval\x20não\x20é\x20um\x20número','RECONNECT_TIME_FRAME','warn','File\x20written\x20to\x20path:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','dbServer','\x1b[44m','IPv6\x20Prefix\x20detected:\x20','):\x20Buscando\x20conversas...','write','findByIdAndDelete','Novo\x20IP\x20criado:\x20','firstValue','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','):\x20\x27Enviando\x20audio\x20para\x20\x27','padStart','SSL_CONF_FULLCHAIN','allFlows','uazapi','\x1b[32m%s\x1b[0m','webhookMap','collections','max','instanceInfo','/events/:instance','formatVCard','sleep','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','true','):\x20this.processingGroup_id:\x20','documentWithCaptionMessage','WARN','FlowController','color','Enter\x20a\x20value\x20in\x20milliseconds','pollUpdateMessage','):\x20leadInfoVariables','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','created','locked','log','delete','.error','exec','stderr','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','):\x20Query\x20params:\x20','Deleted\x20','findAndReplace','hGetAll','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','choices','sendMessageWithTyping','):\x20customFieldVariables','StartID:','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','text/event-stream','apikey','Network\x20interfaces\x20detected:\x20','vote','createInstance','Erro\x20ao\x20remover\x20label\x20','STORE_MESSAGE','sharp','STATUS_INSTANCE','unhandledRejection','createHash','organization','release','#000000','@whiskeysockets/baileys','deleteBlock','/instance/create','hGet','editflowcondition','notEmpty','getTime','fetchProfilePicture','SendScheduleMessage','agents','REDIS_PREFIX_KEY','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','Mensagem\x20não\x20suportada','updateMissingTags','updateAgent','):\x20Editando\x20edição\x20do\x20fluxo...','\x20quoted:\x20','StatusJidList\x20is\x20required','createConnection','padEnd','getDelay','GROUPS_UPDATE','extractMessageContent','process','contextInfo','round','/wa-chats','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','getChatModelForOwner','envProcess','formatStatusMessage','282eiWGvD','REDIS_URI','MESSAGES_UPSERT','awaitingApproval','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','child_process','poll','TEXT','):\x20Entrou\x20na\x20função\x20clearVariables','enumerable','Error\x20in\x20scheduleNextCheck:\x20','autoCompleteMessages','XX:XX:XX:XX:XX:XX','waUploadToServer','exists','_Messages','updateReplyOption','):Converted\x20image\x20deleted','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','writeData','):\x20Editando\x20bloco...','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','delayChatLabel_MAX_RETRIES','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','latitude','success','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','createNewConversation','waitingMenu_id','URI','audioMessage',']\x20(','\x1b[33m%s\x1b[0m','findAndUpdateCacheContact','.TEL;waid=','toArray','\x20depois\x20','Erro\x20ao\x20iniciar\x20o\x20fluxo.','LEVEL','fileUrl','CORS','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','finish','unreadCount','sendMenu',',\x20saindo.','toLowerCase','\x27\x20não\x20encontrado\x20na\x20memória','):\x20alterando\x20this.AutomateSystem','METHODS','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','env','floor','number','isJidBroadcast','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Operador:\x20\x22','.jwt','STORE','configService','toString','Falha\x20ao\x20processar\x20fetchBusinessProfile','?authSource=admin&readPreference=primary&directConnection=true','ip\x20-6\x20addr\x20add\x20','data:\x20','descId','chatHandle','routerPath','removeData','groupDesc','presence.update','lastSend','GUARD','updateProfileName','GET','cleanStore','flowStopConversation','LOG','^\x5cd+([-]\x5cd+)*@g.us$','):\x20Flow\x20desativado','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','updateMessage','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','delaySecMin','editFlowCondition','DATABASE_CONNECTION_HOST','qrcode-terminal','replyOption','mediaMessage','-instances','flowConfig','):\x20Label\x20','sendText','etiquetas','synchronizeAndMapFlows','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','API\x20Key\x20inválida.','sendLocation','makeCacheableSignalKeyStore','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','):\x20Criou\x20conversa\x20no\x20startFlow','updateMediaMessage','optionDescription','recording','pairingCode','pollMessage','AddUserFlow','editScheduleMessage','readreceipts','https://api.ipify.org?format=json','stopMinutes','reviver','https://github.com/uazapi/uazapi.git','Not\x20Found','set','createAndSave','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','):Notifying\x20clients\x20for\x20chat:\x20','groupdata','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','groups.update','testingWith','saveVariable','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','normalizeMessage','isInteger','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','base64','@broadcast','\x20mensagens\x20de\x20','pollCreationMessageV3','messages.update','badSession','video','_ScheduleMessages','Erro\x20ao\x20deletar\x20a\x20conversa','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','ERROR','buttonId','\x20minutos.\x20Será\x20às\x20','getVariablesChat','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','ip\x20-br\x20link\x20show','none','reorderReplyOptions','Missing\x20global\x20api\x20key','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','findParticipants','birthtime','deleteflow','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','getLabelModelForOwner','):Trying\x20to\x20get\x20business\x20profile','console','/instance/connect','newValue','stdout','connecting','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','updateAutoCompleteMessages','sections','replace','locationMessage','PASSWORD','AutomateSystem','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','getBase64FromMediaMessage','muteEndTime','mongodb','ip\x20-6\x20addr\x20del\x20','fetchInstances','sendList','unknown\x20operation\x20type\x20[','Variável\x20não\x20encontrada!','and','start','3240080lwzMqe','utf8','Safari','authModel','result','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','copy','joinApprovalMode','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','content','imagechat','processblock','requestPairingCode','):\x20newSecondValue\x20após\x20replaceVariables:','prepareMediaMessage','stringify',',\x20Novo\x20tamanho:\x20','setContext','EMAIL','Instância:\x20','\x20-y','\x1b[31m%s\x1b[0m','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','\x20segundos','automateSystem','groups.upsert','ip:\x20','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','originalUrl','updatePrivacySettings','findGroups','generateHash',',\x20Comparador:\x20','pollCreationMessage','allContacts','Usando\x20IP\x20existente:\x20','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','CONTACTS_UPSERT','\x5cd+','env.KEY\x20!==\x20key','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','getAutomateSystem','expression','AppStateSyncKeyData','temp-','fullName','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','PROXY','FlowRouter','media','ip6eui','mkdirSync','dbInstance','cacheContact','Error\x20while\x20deleting\x20message\x20for\x20everyone','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Error\x20updating\x20cache\x20contact:','updateGParticipant','Fluxo\x20id\x20\x27','connectToWhatsappController','params','chats.set','flows','Error\x20writing\x20file:\x20','@s.whatsapp.net','convertToWebP','messaging-history.set','LOG_LEVEL','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','uazapiDeleteMessage','removeUnusedChatFields','Instance\x20logged\x20out','findManyByIds','keep-alive','contactMessage','realVariables','):\x20sender\x20=\x20number:\x20','readFileSync','sendReaction','axios','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','eventemitter2','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','waMonitor','stopMinutesMaxActives','out','USER','\x27\x20removido\x20do\x20AutomateSystem.','verifiedName','CHATS_UPDATE','processConditionsTest','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','statSync','importChatsAntigo','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','):Image\x20is\x20base64','):\x20Buscando\x20flow,\x20id:\x20','PREFIX_KEY','toFile','code','connect','createIPv6','Configured\x20IPv6:\x20','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','Flow\x20\x27','Partes\x20do\x20domínio:','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','extractPhoneNumber','Message','\x27...','createOrUpdate','saveCreds','convertaudioMP3','CHATS_SET','Selecione','remoteJid','/instance/fetchInstances','Erro\x20ao\x20deletar\x20mensagens:','groupSetting','editFlowGroup','arraybuffer','client','timeInMinutes','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','userDevicesCache','.xlsx','Início','https://api.elevenlabs.io/v1/text-to-speech/','Erro\x20ao\x20deletar\x20chat:','https://api.openai.com/v1/images/generations','https://api.openai.com/v1/audio/speech','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','groupRequestParticipantsList','listMessage','vir','linkPreview','replaceValue','sendMessage','importChatsBatch','URL\x20não\x20disponível','global','addReplyOption','Subscribed\x20Events:','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','testIPv6','):Output\x20path:\x20','\x22\x20-\x20REMOVED','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','fromObject','match','push','ephemeralMessage','headerString','createConversationforStartFlow','min','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','\x1b[36m','#ffc5c7','profile','$dbName','editflowgroup','unlinkSync','Erro\x20ao\x20alterar\x20privacidade',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','lean','toBRL','.type','notas','PRODUCT_LIST','saveChatVariables','error','3329455ciprJS','):Hash\x20to\x20image\x20name:\x20','setRestartTimeout','customFields','sem\x20texto\x20na\x20mensagem','DATABASE','mediaSticker','eventHandler','messageTimestamp','groupMetadata','#6f7bcf','username','#dfaef0','Erro\x20ao\x20editar\x20a\x20conversa','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','):\x20lastBlockId:\x20','count','stopped','integer','fetchProfile','WebhookGlobal','initAuthCreds','startCommand','flattenObject','timeout','notEqual','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','Erro\x20ao\x20atualizar\x20o\x20flow.','CORS_CREDENTIALS','method','deleteChat','\x20ao\x20chat\x20','messageContextInfo','updateMissingEtiquetas','getMessageModelForOwner','empty','order','replaceVariablesChat','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','):\x20Editando\x20variável\x20do\x20fluxo...','Instance\x20\x22','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','keyPattern','):Processing\x20audio','valid','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','modifiedCount','getMinutes','editOperator','groupUpdateSubject','):Fetching\x20business\x20profile','sectionsToString','editFlowReply','processApiRequest','delayChatLabel','/group','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','notify','editChat','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','Module\x20-\x20ON','findAndReplaceRegex','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','connection.update','contacts.upsert','):\x20Conversa\x20está\x20expirada\x20-\x20voto','API\x20Key\x20from\x20Request:','audio/ogg','findOrCreate','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','mentioned','type','Atualização:\x20','bateu\x20events','updatePresence','connectionStatus','indexOf','Falta\x20informação\x20para\x20a\x20chamada\x20API','https://chat.whatsapp.com/','Conexão\x20estabelecida','.extension','__esModule','toUpperCase','all_member_add','STORE_CONTACTS','superadmin','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','updateStatusPrivacy','backgroundColor','abs','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','removeChatLabel','editFlowVariable','generateWAMessageFromContent','folder','groupAcceptInvite','):Archiving\x20chat','addresss','getUniqueFlowName','Tentando\x20reconectar...','):\x20Going\x20to\x20','The\x20','values','phoneNumber','/instance/delete','MESSAGES_SET','.svg','JWT','.url','\x20não\x20encontrado\x20para\x20cópia','inviteCodeDetails','hasOwnProperty','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','):\x20ev.flush\x20realizado','):\x20Ignoring\x20group\x20messages.','request\x20received\x20in\x20getAutomateSystem','whatsappNumber','memberAddMode','Group\x20not\x20found','deleteFlow','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','send.message','startsWith','contactHandle','deleted','instances','insertMany','lastInteraction','creds.json','Número:\x20','CREDENTIALS','saveMediaToFile','groupName','DARK','chat\x20não\x20encontrado','\x20adicionado\x20ao\x20chat\x20','selectableCount','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','Falhou\x20ao\x20encontrar\x20chat\x20','):\x20Iniciando\x20bot...','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','goToFlow','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','AUTHENTICATION','truncatedto','stanzaId','participant','listen','isConnected','https://uazapi-plugin.bubbleapps.io/?url=','Bad\x20Request','getflow','Mensagens\x20deletadas\x20com\x20sucesso.','ListMessage','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','request\x20received\x20in\x20editFlow','BRL','CONTACTS_SET','/exit','/64\x20dev\x20','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','):\x20Flow\x20\x27','\x1b[43m','waitingMenu_replyOptions','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','pollErrorMessage','available','):\x20conversation.lastInteraction:\x20','groupBetterSetting','hSet','font','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','DB_PREFIX_NAME','Fluxos\x20não\x20estão\x20ativados','findFlow','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','router','enabled','contains','cachedContacts-whatsapp','No\x20suitable\x20network\x20interface\x20found','menuMessage','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','lastUpdate','findMany','editFlow','CORS_ORIGIN','):\x20Falha\x20ao\x20deletar\x20mensagem.','Primeiro\x20Valor:\x20','):\x20Rótulo\x20atualizado:\x20','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','displayName','local_map','Erro\x20ao\x20iniciar\x20fluxo:\x20','errorLog','#b4ebff','PENDING','apiResponse','):\x20Grupo\x20','Db\x20Connection','recebido\x20de','message_normalized','option','docker','menuExpiredMessage','groupMemberAddMode','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','GROUP_PARTICIPANTS_UPDATE','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','chats.upsert','delAll','util','updateOneById','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','updateCustomFields','emit','listResponseMessage','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','not\x20loaded','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','ipv6Prefix','generateRandomIPv6','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','Parando\x20aplicação...','):Desconectado,\x20parando\x20execução.','Subdomínio\x20não\x20encontrado','#ffae04','requestFile','throwAndLogError','\x1b[34m%s\x1b[0m','Removidas\x20as\x20variáveis:\x20','express','all','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','connectToWhatsapp','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','formatBRNumber','STORE_CLEANING_TERMINAL','blockLogs','Mac\x20OS','jwt','flow','config','Request\x20Body:','leadInfo.','group','):\x20error:\x20','ignoreGroups','#83e421','pre','key','#56ccb4','groupId','reorderBlocks','greater','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','):\x20debug\x20alterando\x20this.AutomateSystem','changeVariables','wuid','Internal\x20Server\x20Error','scheduleMessage','PLAYED','):\x20whoCanEdit\x20after\x20validation:\x20','42721TxiQoS','):\x20Entrou\x20na\x20função\x20processawaitSeconds','Erro\x20de\x20atualização:\x20','stopWhenYouSendMsg','joinGroupValidate','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','role','http://checkip.dyndns.org','$set','ObjectId','_sender','):Image\x20is\x20url','Erro\x20ao\x20encerrar\x20a\x20API','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','video-cover.png','status','):\x20Bloco\x20original\x20para\x20cópia:\x20','enviado\x20para','findGroupInfos','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','):\x20Current\x20Time:\x20',',\x20valor\x20a\x20encontrar:\x20\x22','moreLogs','RemoveChatLabel','\x20inseridas\x20no\x20banco\x20de\x20dados...','remove','All_Instances_Config','basename','mediaKey','}}\x20->\x20valor\x20não\x20encontrado','convertaudio','6jfwCWm','sendButtons','InstancesAlterarTodas','preview','sendDataWebhook','scheduled','updateAll','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','\x22,\x20valor\x20a\x20substituir:\x20\x22','deleteConversation','error\x20get\x20vote','):\x20Buscando\x20conversa...','Data\x20inválida\x20fornecida','whoCanEdit','descOwner','editMessagesInGroup','fetchChats','URL','sendContact','Sistema\x20atualizado\x20com\x20sucesso!','viewOnceMessageV2','conversation','del','request_method','videoMessage','CHATS_DELETE','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','mentions','reject','responsavelid','catch','processConditions','Erro\x20ao\x20atualizar\x20agendamento\x20','silent','):Image\x20path:\x20','image','lastMessage_id','Database\x20is\x20not\x20enabled','detectIPv6PrefixAndInterface','):\x20[messages.upsert]\x20group\x20ignored','ContactModel','getScheduleMessageModelForOwner','Erro\x20ao\x20aplicar\x20varedit:\x20','imported','CHATS_UPSERT','no-cache','request\x20received\x20in\x20fetchConversation','DOCKER_ENV','instanceKeys','toBrazilianNumberFormat','processclearVariables','stopConversation','no.connection','):\x20whoCanUse\x20after\x20validation:\x20','writeFileSync','menuType','now','Erro\x20ao\x20buscar\x20o\x20fluxo','updateProfilePicture','/clients-info','Cache\x20instance\x20update\x20result:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','false','header','\x20minutos','getMessage','#9ba6ff','Background\x20color\x20is\x20required','request\x20received\x20in\x20createFlow','height','\x20não\x20encontrado','content-type','command','*Pergunta*:\x20\x0a','):\x20Procurando\x20conversa','NextBlock','node-mime-types','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','Database\x20connection\x20closed.','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','lastSendMessage','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','.xls','isJidUser','updateGParticipate','):\x20Bloco\x20com\x20ID\x20','scheduleSendText','spawn','ChatRouter','checkAndRestartProcess','readData','scheduleSendMedia','):Image\x20created','@g.us','editflowvaredit','pollMessageOnDelete','):Type\x20defined\x20as\x20audio','nome','globalShow','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','_Contacts','stateConnection','$pull','updateChatWithMessage','replyOptions',',\x20Segundo\x20Valor:\x20','This\x20name\x20','auth','Instance\x20Key\x20from\x20DB:','Chat\x20com\x20ID\x20','Not\x20is\x20business\x20profile','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','footerText','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','website','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','status.instance','updateGroupPicture','Read\x20messages','shift','connectedClient',',\x20isAdmin:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','charAt','message','newStoppedUntil','cleanDisconnectedInstances','AUTHENTICATION_JWT_EXPIRIN_IN','keys','prototype','apirequest','Esse\x20fluxo\x20expirou','redirect','done','):\x20Entrou\x20na\x20função\x20scheduleFlow','setHeader','inner','remote\x20\x22origin\x22','/wa-all-message','TYPE','Last\x20message\x20not\x20found','Instance\x20Name:','getConversation','^\x5cd+','Message\x20not\x20found','HH:mm:ss','isRunning','\x20horas\x20e\x20','Erro\x20ao\x20normalizar\x20a\x20mensagem:','statusJidList','getStatus','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','importChats','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','/media','):\x20Criou\x20conversa\x20no\x20startFlowWebhook',',\x20global:\x20','processPollUpdateMessage','getClient','longitude','fetchContacts','profilePicture','updateStopChat','createflow','flowPrefixCommand','dropIndex','ORG:','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','digest','has','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','loadEnv','varedit','AutomateFunctions','delaySecMax','INFO','unlocked','getContentType','editFlowBlock','replaceVariables','Deletion\x20failed','addMessagesToGroup','Erro\x20ao\x20editar\x20agentes','\x20and\x20data:','Schema','\x20contacts','leadInfo','binary','Types','Content-Type','AddChatLabel','random','groupSettingUpdate','beautifyWithPlaceholders','stopIfLastReturnedError','findById','request\x20received\x20in\x20editConversation','request\x20received\x20in\x20getConversation','updateOne','bearer','approve','archive','Erro\x20ao\x20buscar\x20Schedule\x20Messages','reconnectAttempts','):\x20Conversa\x20atualizada\x20em\x20memória','):\x20whoCanUse\x20before\x20validation:\x20','getFlow','Instance\x20ID:','groupJid','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','groupJoinApprovalMode','qrcode','getAllData','findAll','https://ipv6.jsonip.com','delay','fetchProfilePictureUrl','participants','Erro\x20ao\x20inserir\x20chats:','E-mail:\x20','Generated\x20IPv6:\x20','../env.yml','\x20e\x20ID=','DisconnectReason','SECRET','long','):\x20Query\x20params:','):\x20expirationTime:\x20','equal','Invalid\x20format','3078ATjkLd','startFlowWebhook','Comando\x20desconhecido','mongoose','#92ceac','privacySettings','ephemeralDuration','messageId','path','extractRegex','not_announcement','):Sending\x20audio\x20whatsapp','startCommandWord','TEL','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','conditions','findMessages','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:',',\x20qrcodeCount:\x20','/instance','promote','CORS_METHODS','response','jid','_pushName','isBusiness','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','Nenhum\x20fluxo\x20correspondente\x20encontrado.','):\x20conversation.status:\x20','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','sharePass','function','):\x20Buscando\x20flow...','markMessageAsRead','_remoteJid','REDIS','width','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','\x1b[0m','fetchStatus','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','rows','\x20\x1b[0m','isJWT','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','chats.delete','\x27\x20não\x20encontrado','DaysToDelete','pm2\x20flush','):\x20isVote:\x20','findByIdAndUpdate','Button\x20IDs\x20cannot\x20be\x20repeated.','Rótulo\x20inválido\x20ou\x20sem\x20ID.','app',',\x20canSendMessage:\x20','when','uncaughtException','notMatchRegex','admin_add','editConversation','uazapiSendText','):\x20Conversa\x20está\x20expirada','encoding','/wa-contacts','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','updateConversation','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','sendSticker','):\x20Entrou\x20na\x20função\x20stop','):\x20Deletando\x20conversa...','isJidGroup','instancias:\x20','https','https://','deleteReplyOption','blocks','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','whatsappNumbers','READ','groups','HOST','sim','pt-BR','hbs','Fluxo\x20agendado\x20pelo\x20fluxo\x20','chatId','chatModify','mongodb://','entries','application/json','audio','less','admin','authService','desativadoFluxoAte','\x20is\x20already\x20in\x20use.','groupRequestParticipantsUpdate','defineProperty','json','trim','iniciando\x20fluxo\x20router','revokeInviteCode','sending','contactsArrayMessage','\x20}\x0a','chat','reconnectTimestamps','paused','replacer','item','yes','):including\x20timestamp\x20in\x20url:\x20','includes','stickerMessage','REDIS_ENABLED','DELETED','):\x20Entrou\x20na\x20função\x20goToFlow','leaveGroup','MessageModel','proxy:\x20','labelId','Valor\x20da\x20URL\x20recuperada:','\x20com\x20sucesso.','):\x20conversation.waitingMenu_name','authorization','lastReceivedMessage','ButtonsMessage','eventEmitter','\x20minutos\x20verificará\x20novas\x20mensagens','dropCollection','slice','cleaningUp','ContactsAndGroups','goNextblock','webhookService','deleteAll','close','assign','-whatsapp-api','Error\x20fetching\x20and\x20updating\x20profile:\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','ex:\x20\x22groupJid=120362@g.us\x22','noConnection','API_KEY','resetReconnectionVariables','flowActive','splice','urlencoded','Authentication\x20error','networkInterface','request\x20received\x20in\x20getFlow','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','request\x20received\x20in\x20updateAutoCompleteMessages','\x1b[46m','isCommunity','sendPoll','\x20tentativas:\x20remotejid=','https://jsonip.com','deleteMessageForEveryone','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','addBlock','https://uazapi-plugin.bubbleapps.io/','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','repository','Erro\x20ao\x20tentar\x20updateCustomFields','mimetype','replaceVariablesLogs','chats','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','off','Connection\x20closed\x20for\x20instance:\x20','editFlowVaredit','options','Fluxo\x20não\x20encontrado\x20na\x20memória.','pow','dbClient','string','request\x20received\x20in\x20editFlowgroup','deleteImportedChat','instance','):\x20','SERVER_PORT','createJid','protocolMessage','this.reconnectAttempts:\x20','Button\x20texts\x20cannot\x20be\x20repeated','instanceName\x20not\x20provided.','whoCanUse','\x22\x20cannot\x20be\x20empty','waitingMenu_ExpiredMessage','CLEANING_INTERVAL','Flow\x20iniciado\x20com\x20','.X-ABLabel:Celular\x0a','ChatModel','webp','):\x20mediaMessageInfoId\x20:\x20','):\x20Buscando\x20todos\x20os\x20fluxos...','getBusinessProfile','):\x20Ler\x20mensagem','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','verifyWhatsAppNumber','endSession','getConversationModelForOwner','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','deleteMany','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','ids','buttonMessage','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','Telefone:\x20','dbConnection','AutomateSystem\x20não\x20foi\x20inicializado','processScheduleFlow','use','blockId','ini','mediatype','groupFetchAllParticipating','quoted','open','deleteDoneMessages','):\x20Enviando\x20localização','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','createFlow','\x1b[33m','pollCreationMessageKey','loadWebhook','uazapiSendMenu','\x0a{\x20instance:\x20','createGroup','.png','optionName','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','#fed428','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','):\x20atualização\x20chat:\x20','restartInstance','processingGroup_id','cwd','editedMessage','updateMany','\x27\x20do\x20banco\x20de\x20dados...','toggleEphemeral','refused','/instance/connectionState','reorderMessages','hDel','upsertedCount','jsonwebtoken','getScheduleMessage','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','flowIgnoreGroups','myAppStateKeyId','StartBot','\x1b[1m\x1b[37m','https://v6.ident.me','authState','webhookModel','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','deleteOne','!stop','):\x20Adicionando\x20\x27','value','collection','LOG_COLOR','.mimetype','\x0aFN:','call','unavailable','The\x20instance\x20needs\x20to\x20be\x20disconnected','/events','list','):\x20Conversa\x20inserida\x20com\x20sucesso.','_Chats','Erro\x20ao\x20buscar\x20fluxos:','uazapiSendMedia','?timestamp=','Erro\x20ao\x20alterar\x20fluxo','groupHandler','updateGroupsAddPrivacy','reactionMessage','groupValidate','Conversa\x20deletada\x20com\x20sucesso.','delayMessage','sendStatus','apiName','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','buttons','request\x20received\x20in\x20deleteDoneMessages','cors','archived','pictureUrl','CONTACTS_UPDATE','isBase64','logout','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','uazapiSendContact','state','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','_id','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','):\x20transformedCustomFieldVariables','evaluateCondition','cpf','The\x20\x22','create','proto','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',',\x20lastCondition:\x20','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','getUpdate','updateMissingCustomFields','AUTHENTICATION_TYPE','startFlow','forEach','Network\x20Interface\x20detected:\x20','last','updateLastSeenPrivacy','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','updateProfilePicturePrivacy','closed','application/octet-stream','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','send','add','GROUPS_UPSERT','.webp','findGroup','):\x20\x27Deletando\x20fluxo,\x20id:\x20','Subdomínio\x20extraído\x20da\x20URL:','fetchMessages','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','currency','imageMessage','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','DATABASE_CONNECTION_DB_PREFIX_NAME','PRESENCE_UPDATE','remove.instance','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Instance\x20restarted','namespace','document','733473udxggY','desc','downloads','chats.update','DEBUG','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','saveTextReply','store','description','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','\x20do\x20chat\x20','):\x20Enviando\x20mensagem\x20para\x20','#fe9dfe','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','KEY','localWebhook','fetchConversation','getLastMessage','ff:fe','flush','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','Falha\x20ao\x20criar\x20IPv6.','every','connectionState','context','FULLCHAIN','find','\x20removido\x20do\x20chat\x20','oldToken','upperCase','):\x20não\x20encontrou','Router','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','remoteJids','boolean','getTicketSystem','Partes\x20do\x20caminho\x20FULLCHAIN:','ReplyOption\x20com\x20ID\x20','ephemeralExpiration','http','isURL','deleteInstance','isListOfNumbers','):\x20Bloco\x20copiado:\x20','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','CONNECTION_UPDATE','Type\x20not\x20found','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','.\x20Aguardando\x20','textMessage','_p_','LabelModel','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','):\x20Editando\x20replyOption...','presenceSubscribe','node-cache','messages','):\x20whoCanEdit\x20before\x20validation:\x20','EMAIL:','body','lastFetchAwaitingApproval','labels.edit','uazapiSendAudio','groupInviteCode','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','Cannot\x20','gifPlayback','sendPresenceUpdate','jpegThumbnail','SERVER_TYPE','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','insert','next_groupId','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','\x0aitem','.doc','/wa-groups','messageHandle','isAdmin','vcard','triedToSend','/media/','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','8080','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','block','qrCode','isCommunityAnnounce','user','buttonText','waitingForReplyMenu','Erro\x20ao\x20copiar\x20o\x20documento','removeInstance','subjectOwner','removeProfilePicture','profilePictureUrl','pollCreationMessageV2','MESSAGES_UPDATE','groupLeave','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','findGroupInfo','request_time','):Audio\x20converted\x20and\x20stored\x20in\x20cache','ScheduleMessage','Erro\x20ao\x20tentar\x20autoCompleteMessages','Error\x20testing\x20IP\x20with\x20','url','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','subject','\x22reaction\x22\x20must\x20be\x20an\x20emoji','storePath','deletedCount','Erro\x20ao\x20buscar\x20conversas','segundos','leadInfo.desativadoFluxoAte','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','waInstances','.gif','connectionClosed','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','466159gbNnWq','/config','pollOnReplyDelete','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','Nenhum\x20chat\x20encontrado\x20para\x20editar.','compression','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','replaceOne','ERROR:\x20','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','editflowreply','Pausado\x20por\x20','variable','_Labels','cacheInstanceModel','Contacts\x20not\x20found','SSL_CONF','):\x20Limpando\x20AutomateSystem','msgRetryCounterCache','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','rowId','createClient','IPv6\x20address\x20configured:\x20','updateGroupParticipantsWebhook','normalizeMessageContent','scheduleNextCheck','public','delayChatLabel_RETRY_DELAY_MS','statusMessage','match_last_seen','verify','debug','copyBlock','groupGetInviteInfo','@ffmpeg-installer/ffmpeg','Erro\x20na\x20função\x20updateChatWithMessage:\x20','DATABASE_CONNECTION_USER','conversationTimestamp','COLOR','load','fetchLabels','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','request\x20received\x20in\x20allFlows','reaction','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','setting','\x20inseridos\x20no\x20banco\x20de\x20dados...','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','\x20não\x20encontrado\x20para\x20atualização.','beforeExit','join','data','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','sign','bodyStringErrorParse','get','groupRevokeInvite','inviteCode','caption','IPv6\x20addresses\x20detected:\x20','\x1b[30m','createSectionsFromValues','fone','repeat','setNewValue','_activatedCount','/wa-message-update','):\x20\x27Enviando\x20mídia\x20para\x20\x27','ScheduleMessageModel','online','updateFlowConfig','\x1b[42m','bodyString','qrcode.updated','50mb','Error\x20updating\x20message\x20status:','app-state-sync-key','Forbidden','flowName','error_log','nomecompleto','OrAnd',',\x20pairCode:\x20','Fluxo\x20\x27','where','format','isArray','output','test','substring','groupParticipantsUpdate','SERVER_OFFLINE','cachedContact','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','instance.','messages.upsert','):\x20Deletando\x20mensagem','logger','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','):\x20Enviando\x20texto','urlOrBase64','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','pop','*\x0a\x0a','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','redis','):\x20Error\x20processing\x20the\x20block:\x20','readMessages','demote','findWebhook','25085510SYiaDF','variables','lastCondition','.ogg','7688ODZwMv','readMessageBot','put','toLocaleString','--------------------------------------','split','capitalizedWords','info','from','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','SERVER','redisEnv','getHours','variablesToObject','variablesNotFound','dark','tags','Instância\x20não\x20encontrada.','DELIVERY_ACK','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','contacts.update','labels.association','some','messageStubType','webhook','getContactModelForOwner',',\x20Expiration\x20Time:\x20','):\x20Enviando\x20áudio','Instâncias\x20removidas:\x20','\x1b[36m%s\x1b[0m','connectionUpdate','ListType','minutesToClose',',\x20Resultado:\x20','errors','createWebhook','findIndex','sort','setWebhook','composing','getDevice','varedits','groupUpdateDescription','sendMedia','upsertChats','expiration','verbose','IPv6\x20address\x20removed:\x20','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','getProfileName','Log\x20out\x20instance:\x20','matchRegex','senderKeyDistributionMessage','request\x20received\x20in\x20starFlow','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','deleteMessage','processgoToFlow','updateGroupWebhook','.docx','createConversationforgoToFlow','#d8e651','groups_ignore','ON\x20-\x20dbName:\x20','Instance\x20deleted','Erro\x20ao\x20atualizar\x20cacheInstance:','parseInt','title','label','\x20Tentativa\x20de\x20reconexão\x20','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','):\x20Criando\x20fluxo...','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','fileLength','joinGroup','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','default','contentText','chatLog','):\x20Procurando\x20mensagens\x20para\x20envio','The\x20property\x20cannot\x20be\x20empty','uuid','awaitSeconds','inet6','audio/ogg;\x20codecs=opus','\x20:\x20','Error\x20in\x20chatModify\x20for\x20number\x20','existsSync','VERBOSE','IP\x20confirmed:\x20','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','cache','ENABLED','Database\x20update\x20result:','length','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','defineAuthState','express-async-errors','announce','condition','dataValidate','Close\x20connection','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','DATABASE_ENABLED','Font\x20is\x20required','contact','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','ConversationModel','removeIPv6ById','imgUrl','flowStopMinutes','removeIPv6','creds','limit','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','headers','hex','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','BufferJSON','replaceVariablesInReplyOptions','group-participants.update','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','findOne','closeExistingConversations','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','utf-8','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','contacts','SEND_MESSAGE','toNumber','isValidAndUniqueIPv6','apply','trimmed','scheduleSendAudio','insertCount','DATABASE_CONNECTION_PASSWORD','canSendMessage','.webm','Erro\x20ao\x20importar\x20chats','instanceCount','update','drop','status@broadcast','validate','pushName','):\x20Fluxo\x20\x27','array','readMessage','QRCODE_UPDATED','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','truncatedtoEnd','readFile','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','Flow\x20iniciado','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','#9ab6c1','Valor\x20de\x20find\x20ou\x20replace\x20ausente','processUazapi','updateProfileStatus','archiveChat','prepareWAMessageMedia','readdirSync','/wa-message','lastMessage','processvaredits','sha256','messageType','last_update','telefone','):\x20Entrou\x20na\x20função\x20saveReply','):\x20Erro\x20durante\x20a\x20atualização:\x20','CONNECTION','cacheContactModel','ms\x20(tentativa\x20','parse','):\x20Editando\x20grupo\x20do\x20fluxo...','licenca','replaceVariablesInObject','unreadcount','findOneAndUpdate','secondValue','request\x20body:\x20','address','):\x20Comando\x20desconhecido:\x20','Nenhum\x20participante\x20válido\x20encontrado.','scheduleFlow','g-t','\x1b[34m','shareFlow','Número\x20não\x20possui\x20WhatsApp.','CONECTADO\x20À\x20UAZAPI','presence','maxActives','waitingMenu_text','):Image\x20converted\x20to\x20WebP','\x0a*Você\x20respondeu*:\x0a','_fromMe','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','creation','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','generate','editflowvariable','object','view\x20engine','email','envYaml','lowerCase'];a0_0x1160=function(){return _0x324993;};return a0_0x1160();}