const a0_0x1f692e=a0_0x37ec;(function(_0x35ac7a,_0x2fabba){const _0x1b5bfb=a0_0x37ec,_0x413cf8=_0x35ac7a();while(!![]){try{const _0xf3322f=parseInt(_0x1b5bfb(0x3fb))/0x1*(-parseInt(_0x1b5bfb(0xfd))/0x2)+-parseInt(_0x1b5bfb(0x19c))/0x3*(-parseInt(_0x1b5bfb(0x52f))/0x4)+parseInt(_0x1b5bfb(0x4db))/0x5*(parseInt(_0x1b5bfb(0x2a1))/0x6)+parseInt(_0x1b5bfb(0x1ab))/0x7*(-parseInt(_0x1b5bfb(0x2ad))/0x8)+parseInt(_0x1b5bfb(0x28d))/0x9*(parseInt(_0x1b5bfb(0x4b4))/0xa)+-parseInt(_0x1b5bfb(0x24f))/0xb+-parseInt(_0x1b5bfb(0xfe))/0xc*(-parseInt(_0x1b5bfb(0x59e))/0xd);if(_0xf3322f===_0x2fabba)break;else _0x413cf8['push'](_0x413cf8['shift']());}catch(_0x1c3c43){_0x413cf8['push'](_0x413cf8['shift']());}}}(a0_0x1bad,0x4a780));var xr=Object['create'],Ie=Object['defineProperty'],Pr=Object['getOwnPropertyDescriptor'],_r=Object[a0_0x1f692e(0x656)],$r=Object[a0_0x1f692e(0x507)],kr=Object['prototype']['hasOwnProperty'],Lr=(_0x599ce3,_0x358a1f)=>{for(var _0x23a9b2 in _0x358a1f)Ie(_0x599ce3,_0x23a9b2,{'get':_0x358a1f[_0x23a9b2],'enumerable':!0x0});},Ds=(_0x59a2bf,_0x568861,_0x1c0758,_0x2d3ad6)=>{const _0x4ca6e5=a0_0x1f692e;if(_0x568861&&typeof _0x568861=='object'||typeof _0x568861=='function'){for(let _0x26fe98 of _r(_0x568861))!kr[_0x4ca6e5(0x1fc)](_0x59a2bf,_0x26fe98)&&_0x26fe98!==_0x1c0758&&Ie(_0x59a2bf,_0x26fe98,{'get':()=>_0x568861[_0x26fe98],'enumerable':!(_0x2d3ad6=Pr(_0x568861,_0x26fe98))||_0x2d3ad6[_0x4ca6e5(0x3ff)]});}return _0x59a2bf;},R=(_0x5c66f4,_0x44c554,_0x4a4c12)=>(_0x4a4c12=_0x5c66f4!=null?xr($r(_0x5c66f4)):{},Ds(_0x44c554||!_0x5c66f4||!_0x5c66f4['__esModule']?Ie(_0x4a4c12,'default',{'value':_0x5c66f4,'enumerable':!0x0}):_0x4a4c12,_0x5c66f4)),Fr=_0x39b9bb=>Ds(Ie({},a0_0x1f692e(0x3f6),{'value':!0x0}),_0x39b9bb),zo={};Lr(zo,{'subdomain':()=>Ms}),module[a0_0x1f692e(0x2cc)]=Fr(zo);var Rr=R(require(a0_0x1f692e(0x648))),Ps=require('fs'),_s=require('js-yaml'),$s=require(a0_0x1f692e(0x653)),De=require(a0_0x1f692e(0x653)),ae=process['cwd'](),pe=(0x0,De[a0_0x1f692e(0x317)])(ae,a0_0x1f692e(0x35d)),xs=(0x0,De[a0_0x1f692e(0x317)])(ae,'src'),ji=(0x0,De['join'])(ae,a0_0x1f692e(0x58a),a0_0x1f692e(0xd2)),Qt=class{constructor(){const _0x58e59d=a0_0x1f692e;this[_0x58e59d(0x246)]();}[a0_0x1f692e(0x635)](_0x447bbe){const _0x22a135=a0_0x1f692e;return this[_0x22a135(0x425)][_0x447bbe];}[a0_0x1f692e(0x246)](){const _0x376147=a0_0x1f692e;this[_0x376147(0x425)]=process[_0x376147(0x425)]?.[_0x376147(0x1d5)]!==_0x376147(0x468)?this[_0x376147(0x618)]():this[_0x376147(0x284)](),process[_0x376147(0x425)]?.[_0x376147(0x1d5)]===_0x376147(0x468)&&(this[_0x376147(0x425)][_0x376147(0x314)][_0x376147(0x337)]=_0x376147(0x395),this[_0x376147(0x425)]['SERVER'][_0x376147(0x42e)]=Number[_0x376147(0x545)](process[_0x376147(0x425)]?.[_0x376147(0x479)]??_0x376147(0x3d8)));}['envYaml'](){const _0x2b2f2e=a0_0x1f692e;return(0x0,_s[_0x2b2f2e(0x52b)])((0x0,Ps[_0x2b2f2e(0x14b)])((0x0,$s['join'])(xs,_0x2b2f2e(0x285)),{'encoding':_0x2b2f2e(0x217)}));}[a0_0x1f692e(0x284)](){const _0x145f29=a0_0x1f692e;return{'SERVER':{'TYPE':process[_0x145f29(0x425)][_0x145f29(0x3a6)],'PORT':Number[_0x145f29(0x545)](process[_0x145f29(0x425)][_0x145f29(0x479)]),'URL':process['env'][_0x145f29(0x34c)]},'CORS':{'ORIGIN':process['env'][_0x145f29(0x56a)][_0x145f29(0x5ca)](','),'METHODS':process[_0x145f29(0x425)]['CORS_METHODS']['split'](','),'CREDENTIALS':process[_0x145f29(0x425)]?.[_0x145f29(0x5a9)]==='true'},'SSL_CONF':{'PRIVKEY':process[_0x145f29(0x425)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x145f29(0x425)]?.[_0x145f29(0x163)]},'STORE':{'CLEANING_INTERVAL':Number[_0x145f29(0x37f)](process[_0x145f29(0x425)]?.[_0x145f29(0x493)])?Number['parseInt'](process['env'][_0x145f29(0x493)]):void 0x0,'MESSAGES':process[_0x145f29(0x425)]?.[_0x145f29(0x98)]==='true','CONTACTS':process['env']?.[_0x145f29(0x48b)]===_0x145f29(0x468),'CHATS':process['env']?.['STORE_CHATS']===_0x145f29(0x468)},'DATABASE':{'CONNECTION':{'HOST':process[_0x145f29(0x425)]?.[_0x145f29(0x5ff)],'PORT':Number[_0x145f29(0x545)](process[_0x145f29(0x425)]?.[_0x145f29(0x5ff)]),'USER':process['env'][_0x145f29(0x1f9)],'PASSWORD':process[_0x145f29(0x425)][_0x145f29(0x6aa)],'URI':process['env'][_0x145f29(0x13c)],'DB_PREFIX_NAME':process[_0x145f29(0x425)][_0x145f29(0x5ba)]},'ENABLED':process[_0x145f29(0x425)]?.['DATABASE_ENABLED']===_0x145f29(0x468)},'REDIS':{'ENABLED':process[_0x145f29(0x425)]?.[_0x145f29(0x634)]===_0x145f29(0x468),'URI':process[_0x145f29(0x425)][_0x145f29(0x160)]||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x145f29(0x425)][_0x145f29(0x2e7)]||'uazapi'},'LOG':{'LEVEL':process['env']?.[_0x145f29(0x6b7)][_0x145f29(0x5ca)](','),'COLOR':process[_0x145f29(0x425)]?.[_0x145f29(0x18e)]==='true'},'AUTHENTICATION':{'TYPE':process[_0x145f29(0x425)][_0x145f29(0x226)],'API_KEY':{'KEY':process[_0x145f29(0x425)][_0x145f29(0x220)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x145f29(0x425)]?.[_0x145f29(0x6a4)])?Number['parseInt'](process[_0x145f29(0x425)][_0x145f29(0x6a4)]):0xe10,'SECRET':process[_0x145f29(0x425)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new Qt(),Tr=R(require(a0_0x1f692e(0x582))),de=R(require('express')),As=require(a0_0x1f692e(0x653)),Yt=R(require('dayjs')),Xt=(_0x2b09e6=>(_0x2b09e6['LOG']=a0_0x1f692e(0x580),_0x2b09e6[a0_0x1f692e(0x1d9)]='\x1b[34m',_0x2b09e6[a0_0x1f692e(0x281)]='\x1b[33m',_0x2b09e6['ERROR']=a0_0x1f692e(0x17b),_0x2b09e6['DEBUG']=a0_0x1f692e(0xb5),_0x2b09e6[a0_0x1f692e(0x2cb)]=a0_0x1f692e(0x31e),_0x2b09e6[a0_0x1f692e(0x3ea)]=a0_0x1f692e(0x48e),_0x2b09e6))(Xt||{}),ks=(_0x3fe4b7=>(_0x3fe4b7[a0_0x1f692e(0x2ff)]=a0_0x1f692e(0x33c),_0x3fe4b7[a0_0x1f692e(0x3ea)]='\x1b[30m%s\x1b[0m',_0x3fe4b7[a0_0x1f692e(0x1d9)]=a0_0x1f692e(0x22e),_0x3fe4b7[a0_0x1f692e(0x281)]=a0_0x1f692e(0x420),_0x3fe4b7[a0_0x1f692e(0x3c9)]=a0_0x1f692e(0x5ec),_0x3fe4b7[a0_0x1f692e(0x666)]=a0_0x1f692e(0x487),_0x3fe4b7['VERBOSE']=a0_0x1f692e(0x3ee),_0x3fe4b7))(ks||{}),Ls=(_0x383ccf=>(_0x383ccf[a0_0x1f692e(0x2ff)]='LOG',_0x383ccf['WARN']=a0_0x1f692e(0x281),_0x383ccf[a0_0x1f692e(0x1d9)]=a0_0x1f692e(0x1d9),_0x383ccf[a0_0x1f692e(0x3ea)]=a0_0x1f692e(0x3ea),_0x383ccf[a0_0x1f692e(0x3c9)]=a0_0x1f692e(0x3c9),_0x383ccf[a0_0x1f692e(0x666)]=a0_0x1f692e(0x666),_0x383ccf['VERBOSE']=a0_0x1f692e(0x2cb),_0x383ccf))(Ls||{}),Fs=(_0x275c9f=>(_0x275c9f['LOG']=a0_0x1f692e(0x647),_0x275c9f[a0_0x1f692e(0x1d9)]='\x1b[44m',_0x275c9f['WARN']='\x1b[43m',_0x275c9f['DARK']=a0_0x1f692e(0x5b1),_0x275c9f[a0_0x1f692e(0x3c9)]=a0_0x1f692e(0x670),_0x275c9f['DEBUG']=a0_0x1f692e(0x1ca),_0x275c9f[a0_0x1f692e(0x2cb)]='\x1b[47m',_0x275c9f))(Fs||{}),v=class{constructor(_0x3e4dc7=a0_0x1f692e(0x133)){const _0x44aca9=a0_0x1f692e;this[_0x44aca9(0x203)]=_0x3e4dc7,this[_0x44aca9(0x193)]=b;}[a0_0x1f692e(0x1be)](_0x4f6dbf){const _0x47da86=a0_0x1f692e;this[_0x47da86(0x203)]=_0x4f6dbf;}[a0_0x1f692e(0x56f)](_0x19e429,_0x12810b){const _0x1a8658=a0_0x1f692e;let _0x11464a=[];this[_0x1a8658(0x193)][_0x1a8658(0x635)](_0x1a8658(0x2ff))[_0x1a8658(0x377)][_0x1a8658(0x171)](_0x1a6b56=>_0x11464a['push'](Ls[_0x1a6b56]));let _0x489e5c=typeof _0x19e429;_0x11464a[_0x1a8658(0xe4)](_0x12810b)&&(b[_0x1a8658(0x635)]('LOG')['COLOR']?(console[_0x1a8658(0x671)](_0x1a8658(0x6a2)+ks[_0x12810b],_0x1a8658(0x1a4),(0x0,Yt[_0x1a8658(0x205)])()[_0x1a8658(0x313)](_0x1a8658(0x27c)),_0x1a8658(0x459),Xt[_0x12810b]+Fs[_0x12810b]+_0x1a8658(0x6a2),_0x12810b+_0x1a8658(0x2b9),'\x1b[33m\x1b[1m',this[_0x1a8658(0x203)]+_0x1a8658(0x459),Xt[_0x12810b],_0x489e5c!=='object'?_0x19e429:'',_0x1a8658(0x459)),_0x489e5c===_0x1a8658(0x39b)&&console[_0x1a8658(0x671)](_0x19e429,'\x0a')):console['log']((0x0,Yt['default'])()[_0x1a8658(0x313)]('HH:mm:ss'),_0x12810b+'\x20',''+this[_0x1a8658(0x203)],_0x19e429));}['log'](_0x1047d6){const _0x511d5=a0_0x1f692e;this[_0x511d5(0x56f)](_0x1047d6,_0x511d5(0x2ff));}[a0_0x1f692e(0x3b6)](_0x55b78c){const _0x4677da=a0_0x1f692e;this[_0x4677da(0x56f)](_0x55b78c,_0x4677da(0x1d9));}[a0_0x1f692e(0x2a7)](_0x3a8d5b){const _0x1568b7=a0_0x1f692e;this[_0x1568b7(0x56f)](_0x3a8d5b,_0x1568b7(0x281));}[a0_0x1f692e(0x6ad)](_0x48326a){const _0x322072=a0_0x1f692e;this['console'](_0x48326a,_0x322072(0x3c9));}[a0_0x1f692e(0x4f3)](_0x346bb6){const _0x10fd92=a0_0x1f692e;this[_0x10fd92(0x56f)](_0x346bb6,_0x10fd92(0x2cb));}[a0_0x1f692e(0x202)](_0x528bf1){const _0x2e7c10=a0_0x1f692e;this[_0x2e7c10(0x56f)](_0x528bf1,_0x2e7c10(0x666));}[a0_0x1f692e(0x1bc)](_0x27ca3e){const _0x1a00a2=a0_0x1f692e;this[_0x1a00a2(0x56f)](_0x27ca3e,_0x1a00a2(0x3ea));}};function Us(){const _0x251023=a0_0x1f692e;process['on'](_0x251023(0x1aa),(_0xeab145,_0x467e8e)=>{const _0x56f963=_0x251023;new v(_0x56f963(0x1aa))['error']({'origin':_0x467e8e,'stderr':process[_0x56f963(0x432)]['fd'],'error':_0xeab145});}),process['on']('unhandledRejection',(_0xa617f5,_0x5b53ad)=>{const _0x14e503=_0x251023;new v(_0x14e503(0xdc))[_0x14e503(0x6ad)]({'origin':_0x5b53ad,'stderr':process[_0x14e503(0x432)]['fd'],'error':_0xa617f5});});}var Js=R(require(a0_0x1f692e(0x442))),Zt=new Js[(a0_0x1f692e(0x205))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),xe=require(a0_0x1f692e(0x557)),es=R(require(a0_0x1f692e(0x557))),Ur=new v(a0_0x1f692e(0x49a)),V=b[a0_0x1f692e(0x635)](a0_0x1f692e(0x2ef)),N=V[a0_0x1f692e(0x4f0)]?V[a0_0x1f692e(0x5f6)][a0_0x1f692e(0x57c)]?es['default'][a0_0x1f692e(0xaf)](V['CONNECTION']['URI'],{'dbName':V['CONNECTION'][a0_0x1f692e(0x210)]+a0_0x1f692e(0x427)}):es[a0_0x1f692e(0x205)]['createConnection'](a0_0x1f692e(0xba)+V[a0_0x1f692e(0x5f6)][a0_0x1f692e(0x419)]+':'+V[a0_0x1f692e(0x5f6)][a0_0x1f692e(0x42e)]+a0_0x1f692e(0x251),{'user':V[a0_0x1f692e(0x5f6)][a0_0x1f692e(0x64a)],'pass':V[a0_0x1f692e(0x5f6)][a0_0x1f692e(0x1f3)],'dbName':V[a0_0x1f692e(0x5f6)][a0_0x1f692e(0x210)]+a0_0x1f692e(0x427)}):null;function a0_0x1bad(){const _0xf035a4=['selectableCount','whatsappNumber','SERVER_ACK','no.connection','URI','waMonitor','remoteJidsRemaining','MAX_RECONNECT_ATTEMPTS','\x1b[32m','interval\x20não\x20é\x20um\x20número','cors','labels','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','uazapiSendText','ini','Deletion\x20failed','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','createFlow','store','replyOptions','setWebhook','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','deleteflow','$unset','notEmpty','saveChatVariables','\x20com\x20sucesso.','request\x20received\x20in\x20deleteConversation','test','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','delayMessage','_Chats','viewOnceMessage','hGet','express-async-errors','ProxyAgent','quotedMessage','findGroupInfo','40144tkiJgQ','type','CHATS_UPSERT','errors','image','creds.json','readData','Font\x20is\x20required','min','address','The\x20\x22','CORS_CREDENTIALS','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','scheduleMessage','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','buttonMessage','.svg','uazapiSendLocation','header','\x1b[40m','stopConversation','flowActive','labelId','sections','Group\x20not\x20found','readreceipts','userDevicesCache','replaceOne','DATABASE_CONNECTION_DB_PREFIX_NAME','CHATS_SET','licenca','getMessageModelForOwner','subject','documentWithCaptionMessage','sendPresenceUpdate','Variáveis\x20não\x20encontradas:','waInstances','chats.upsert','delAll','caption','ReplyOption\x20com\x20ID\x20','status.instance','Last\x20message\x20not\x20found','\x22\x20-\x20NOT\x20CONNECTION','split','Hash\x20to\x20audio\x20name:\x20','Erro\x20de\x20reinicialização:\x20','statusCode','findParticipants','Formato\x20inválido\x20de\x20proxy','replyOption','send.message','request\x20received\x20in\x20createFlow','send','displayName','isJWT','sendText','greater','atendimentoAberto','replaceVariablesInReplyOptions','reconnectAttempts','END:VCARD','hbs','reconnectTimestamps','sharp','local_map','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','pt-BR','CONNECTION_UPDATE','spawn','deleteMessageForEveryone','not\x20loaded','audioMessage','enabled','waitingMenu_replyOptions','@redis/client','code','setHeader','\x1b[31m%s\x1b[0m','updateProfilePicture','!cmd_','vcard','message','\x20mensagens\x20de\x20','.ogv','substring','findAll','scheduleMessages','CONNECTION','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','/media/','nextBlock:','):\x20Conversa\x20está\x20expirada','unlocked','gifPlayback','findById','saveConversationToDatabase','DATABASE_CONNECTION_HOST','endSession','convertaudio','Module\x20-\x20ON','BufferJSON','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','Erro\x20ao\x20editar\x20agentes:\x20','lastmsg','Background\x20color\x20is\x20required','):\x20Limpando\x20AutomateSystem','findAndReplace','):\x20delete\x20=\x20true','moreLogs','remoteJids','):\x20Enviando\x20áudio','match','hostname','Bloco\x20com\x20ID\x20','data:\x20','done','instanceName','updatePresence','uazapiSendAudio','.jpg','envYaml','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','isLong','updateOneById','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','splice','):\x20Visualizando\x20AutomateSystem','group-participants.update','Sistema\x20atualizado\x20com\x20sucesso!','chats','testProxy\x20error:\x20','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','TEXT','Error\x20updating\x20profile\x20status','getflow','Authentication\x20error','Error\x20data:','):\x20Conversa\x20está\x20expirada\x20-\x20voto','Audio\x20is\x20url','messageHandle','mimetype','\x20-i\x20','blockLogs','listen','automateSystem','Error\x20headers:','refused','REDIS_ENABLED','get','readMessages','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','):\x20Editando\x20condição\x20do\x20fluxo...','exit','isBusiness','menuExpiredMessage','):\x20Buscando\x20conversa...','groups.update','request\x20received\x20in\x20scheduleMessage','Including\x20timestamp\x20in\x20url:\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','pollErrorMessage','replaceVariables','entries','Read\x20messages','labels.edit','):\x20conversation.lastInteraction:\x20','\x1b[42m','compression','buffer','USER','findIndex','Temp\x20audio\x20created','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','scheduleSendMedia','port','put','Image\x20is\x20base64','\x20removido\x20do\x20chat\x20','path','fone','slice','getOwnPropertyNames','mentions','readFile','senderKeyDistributionMessage','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','sem\x20texto\x20na\x20mensagem','child_process','exists','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','conditions','delaySecMin','ON\x20-\x20dbName:\x20','\x20não\x20encontrado','GROUPS_UPDATE','.wav','use','DEBUG','READ','messages.update','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','Router','createWebhook','assign','\x20inseridas\x20no\x20banco\x20de\x20dados...','contactname','data','\x1b[41m','log','fileName','ObjectId','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','Failed\x20to\x20get\x20IP\x20from\x20','collection','makeCacheableSignalKeyStore','processPollUpdateMessage','sendButtons','menuType','updateLastSeenPrivacy','CHATS_UPDATE','groupSetting','contact_blacklist','lastInteraction','Parando\x20aplicação...','.mp4','stickerMessage','leadInfo','Certbot:\x20','font','insert','NO_IP','exec','authService','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','release','Valor\x20de\x20find\x20ou\x20replace\x20ausente','LabelModel','certbot','request\x20received\x20in\x20starFlow','deleteMessage','Erro\x20ao\x20remover\x20label\x20','):\x20conversation.waitingMenu_name','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','\x20horas\x20e\x20','updateFlowConfig','updateMany','delay','groupUpdateDescription','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','pop','insertCount','Erro\x20do\x20Certbot:\x20','dbSettings','saveVariable','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','cleaningUp','\x1b[1m','request\x20received\x20in\x20getFlow','AUTHENTICATION_JWT_EXPIRIN_IN','lastDisconnect','ids','instance.','detail','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','DATABASE_CONNECTION_PASSWORD','sendMenu','/media','error','readMessageBot','Temp\x20audio\x20path:\x20','removeOlderDisconnectedInstances','originalUrl','creds','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','apirequest','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','updateOne','LOG_LEVEL','jsonwebtoken','Temp\x20image\x20deleted','createConversationforStartFlow','end','toString','variable','action','\x20minutos','segundos','jpegThumbnail','integer','https://uazapi-plugin.bubbleapps.io/?url=','createServer','set','):\x20updateResult:','protocolMessage','/*.json','contains','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','):\x20Bloco\x20copiado:\x20','):\x20expirationTime:\x20','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','max','getBusinessProfile','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','leadInfo.customFields','closeExistingConversations','):\x20Deletando\x20conversa...','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','string','createConversationforgoToFlow','convertedOptions','when','_p_','protocol','sendReaction','matchRegex','removeInstance','finish','deleteFlow','fromMe','saveMediaToFile','Error\x20in\x20scheduleNextCheck:\x20','Esse\x20fluxo\x20expirou','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','Primeiro\x20Valor:\x20','processgoToFlow','getClient','oldValue','InstancesAsDisconnectedX','recording','utf8','):\x20Enviando\x20mídia','Parando\x20aplicação,\x20atualização\x20recebida','Comando\x20desconhecido','findConversation','minutesToClose','editConversation','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','groupLeave','):\x20lastBlockId:\x20','Message\x20not\x20found','deleteAll','deleted','qrcode.updated','FlowModel','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','STORE_MESSAGE','getHours','50mb','groupAcceptInvite','creds.update','/clients-info','https://jsonip.com','importChats','@whiskeysockets/baileys','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','updateProfileName','creation','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','node-cache','applyvaredit','newValue','restrict','Reinicialização\x20iniciada:\x20','$set','EMAIL:','Schema','\x20is\x20already\x20in\x20use.','DisconnectReason','createConnection','):\x20Editando\x20grupo\x20do\x20fluxo...','):\x20Buscando\x20flow...','chatId','revokeInviteCode','capitalizedWords','\x1b[36m',',\x20saindo.','viewOnceMessageV2','random','express','mongodb://','long','dbClient','charAt','request\x20received\x20in\x20editFlow','endsWith','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','findOneAndUpdate','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','leadInfo.customFields.','logout','updateMediaMessage','isJidUser','/create','findOne','g-t','number','value','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','authModel','_ScheduleMessages','content','editFlowReply','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','auth','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','Forbidden','Instance\x20restarted','latitude','API\x20Key\x20from\x20Request:','Getting\x20profile\x20info','connectionState','URL\x20limpa:\x20','selectedOptions','unhandledRejection','imagechat','logger','Instance\x20Key\x20from\x20DB:','redis','verify','copyDataToNewModel','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','includes','createInstance','}}\x20->\x20\x22','proxy','@ffmpeg-installer/ffmpeg','METHODS','webhookMap','findByIdAndUpdate','\x0a38.154.227.167:5868:bkcihaei:jxnd6wd97u0s\x0a185.199.229.156:7492:bkcihaei:jxnd6wd97u0s\x0a185.199.228.220:7300:bkcihaei:jxnd6wd97u0s\x0a185.199.231.45:8382:bkcihaei:jxnd6wd97u0s\x0a188.74.210.207:6286:bkcihaei:jxnd6wd97u0s\x0a188.74.183.10:8279:bkcihaei:jxnd6wd97u0s\x0a188.74.210.21:6100:bkcihaei:jxnd6wd97u0s\x0a45.155.68.129:8133:bkcihaei:jxnd6wd97u0s\x0a154.95.36.199:6893:bkcihaei:jxnd6wd97u0s\x0a45.94.47.66:8110:bkcihaei:jxnd6wd97u0s\x0a','PRODUCT_LIST','Rótulo\x20inválido\x20ou\x20sem\x20ID.','Flow\x20não\x20encontrado','Error\x20in\x20markMessageAsRead:','getLabelModelForOwner','unavailable','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','/instance/create','):\x20Entrou\x20na\x20função\x20saveReply',',\x20Resultado:\x20','flowStopConversation','authState','deleteConversation','.uazapi.dev','addBlock','Erro:','4wZIBbp','2172xfIzNz','response','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','^\x5cd+[\x5c.@\x5cw-]+','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','initAuthCreds','Error\x20removing\x20profile\x20picture','sendMessage','dataValidate','chatHandle','sendMedia','.xlsx','fetchMessages','activatedCount','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','CHATS_DELETE','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','variables','connectedName','\x20não\x20encontrado\x20para\x20atualização.','description','Número:\x20','replaceVariablesInObject','desativadoFluxoAte','fetchLabels','fullName','profile','Label\x20','):\x20Query\x20params:\x20','blockId','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','pairingCode','paused','apiName','notContains','Falta\x20informação\x20para\x20a\x20chamada\x20API','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','errorLog','variablesToObject','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','Erro\x20ao\x20incrementar\x20isValidAttempts:','validate','\x20adicionado\x20ao\x20chat\x20','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','readMessage','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','uuid','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','audio/ogg','Logger','Enter\x20a\x20value\x20in\x20milliseconds','flowConfig','AddChatLabel','formatVCard','hGetAll','numbers','removeData','FlowRouter','DATABASE_CONNECTION_URI','hasOwnProperty','):\x20Editando\x20replyOption...','groupRevokeInvite','_Labels','list','status@broadcast','$pull','waitingMenu_id','config','sendLocation','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','contextInfo','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','stringify','readFileSync','mediaMessage','push','env.KEY\x20!==\x20key','stateConnection','sendAudio','authorization','Conversa\x20deletada\x20com\x20sucesso.','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','application/json','waitingForReplyMenu','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','app-state-sync-key','Instância\x20não\x20encontrada.','Output\x20audio\x20path:\x20','addresss','QRCODE_UPDATED','tags','eventEmitter','instanceKeys','EXPIRIN_IN','REDIS_URI','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','Erro\x20ao\x20atualizar\x20o\x20flow.','SSL_CONF_FULLCHAIN','g.us','delaySecMax','qrCode','urlOrBase64','audio/mp4','announce','jsonschema','\x20inseridos\x20no\x20banco\x20de\x20dados...','organization','request\x20received\x20in\x20getConversation','apiResponse','storePath','writeData','forEach','):\x20customFieldVariables','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','\x0a*Você\x20respondeu*:\x0a','connectToWhatsappController','Erro\x20ao\x20editar\x20o\x20bloco:\x20','):\x20Editando\x20bloco...','deleteInstance','Error\x20message:','lastBlockId','\x1b[31m','announcement','stopped','Invalid\x20format','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','toLocaleString','match_last_seen','JWT','editflowgroup','reorderReplyOptions','abs','Erro\x20ao\x20buscar\x20conversa:\x20','sendSticker','now','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','documentMessage','Conexão\x20estabelecida','):\x20Bloco\x20com\x20ID\x20','editflowvaredit','LOG_COLOR','model','.jwt','chats.delete','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','configService','copy','sha256','fetchBusinessProfile','updateGroupPicture','getTicketSystem','deleteMany','user','website','355788NykEKu','deleteChat','setting','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','responsavelid','getConversation','isRunning','demote','\x1b[1m\x1b[37m','processvaredits','editflowblock','getMinutes','tryProxy','CLEANING_INTERVAL','uncaughtException','189JaFhZj','Temp\x20audio\x20deleted','body','less','webp','array','/wa-message-update','editflowvariable','boolean','SendScheduleMessage','command','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','headers','findOrCreate','add','convert','dark','rm\x20-rf\x20','setContext','DELETED','Deleted\x20','buttonId','static','Processing\x20audio','findFlow','waUploadToServer','conversation','KEY','):\x20Comando\x20desconhecido:\x20','):\x20tem\x20blocks','\x1b[46m','notify','PRIVKEY','expiration','messageId','mediaKey','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','WebhookGlobal','Unable\x20to\x20leave\x20the\x20group','Content-Type','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','DOCKER_ENV','Unauthorized','notEqual','request\x20received\x20in\x20allFlows','INFO','ephemeralMessage','toggleEphemeral','locationMessage','jid','quoted','textMessage','mediatype','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','startsWith','updateConversation','No\x20response\x20received:','\x20quoted:\x20','StatusJidList\x20is\x20required','messageContextInfo','rows','writeFile','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','chatModify','writeFileSync','Read\x20messages\x20fail','decryptPollVote','remove','):\x20newSecondValue\x20após\x20replaceVariables:','hSet','https://api.ipify.org?format=json','PASSWORD','unlinkSync','pollCreationMessageKey','processblock','metadata','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','DATABASE_CONNECTION_USER','proto','sectionsToString','call','updateReadReceiptsPrivacy','toBrazilianNumberFormat','AppStateSyncKeyData','label_jid','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','debug','context','_Messages','default','prefixCommand','groupMetadata','AutomateFunctions','archived','Erro\x20inesperado\x20em\x20processvaredits:\x20','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','MESSAGES_UPSERT','lastReceivedMessage','Error\x20updating\x20profile\x20picture','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','DB_PREFIX_NAME','removeProfilePicture','audio','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','ipify.org','padStart','Erro\x20ao\x20iniciar\x20fluxo:\x20','utf-8','):\x20Enviando\x20localização','Missing\x20global\x20api\x20key','and','reviver','Selecione','Valor\x20inicial:\x20\x22','Operador:\x20\x22','editFlowCondition','AUTHENTICATION_API_KEY','ContactModel','headerString','updateReplyOption','sticker','Variável\x20não\x20encontrada!','AUTHENTICATION_TYPE','Revoke\x20error','arraybuffer','getRandomText','Erro\x20de\x20atualização:\x20','):\x20Error\x20processing\x20conditions:\x20','):\x20Enviando\x20enquete','processingScheduleMessageId','\x1b[34m%s\x1b[0m','useMultiFileAuthState','PENDING','composing','groupValidate','ERROR:\x20','Trying\x20to\x20get\x20business\x20profile','presenceSubscribe','getMessage','participant','pollMessageOnDelete','label','/wa-qrcode','/webhook','padEnd','profilePictureUrl','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','username','isConnected','findLabels','Contacts\x20not\x20found','leaveGroup','del','sign','loadEnv','):\x20Limpando\x20delayMessage','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','HeaderType','generateHash','groupParticipantsUpdate','updateParticipant','badSession','The\x20global\x20api\x20key\x20must\x20be\x20set','6572258BYQOTO','updateProfileStatus','?authSource=admin&readPreference=primary&directConnection=true','):\x20Criando\x20nova\x20conversa[createNewConversation]','color','\x20segundos','Database\x20is\x20not\x20enabled','equal','URL:','$dbName','Erro\x20ao\x20atualizar\x20conversa:\x20','buttonText','leadInfo.desativadoFluxoAte','firstValue','cache','Converted\x20audio\x20deleted','Error\x20while\x20deleting\x20message\x20for\x20everyone','connectToWhatsapp','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','restartInstance','contacts.upsert','mentioned','viewOnceMessageV2Extension','editFlowBlock','sort','$addToSet','https://','Image\x20converted\x20to\x20WebP','processConditions','loadInstance','document','):\x20isVote:\x20','phoneNumber','):\x20Flow\x20não\x20encontrado','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','sendWhatsAppAudio','groupHandler','close','dbInstance','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','The\x20','updateAll','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','RECONNECT_TIME_FRAME','flowConversation','DD/MM\x20HH:mm:ss','changeVariables','SINGLE_SELECT','request\x20received\x20in\x20editFlowgroup','archive','WARN','size','REDIS','envProcess','../env.yml','\x20}\x0a','/wa-presence','rowId','fetchContacts','replaceVariablesChat','instanceInfo','scheduleNextCheck','1597806idVsWe','\x5cd+','participants','defineAuthState','drop','chats.set','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20Enviando\x20contato','sending','picture','routerPath','/instance/fetchInstances','router','lowerCase','remote\x20\x22origin\x22','pollCreationMessageV2','editFlowGroup','listMessage','Message','updateGParticipate','6NmTzOI','contactMessage','findByIdAndDelete','Erro\x20ao\x20copiar\x20dados:','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','getContentType','warn','available','text/event-stream','apikey','/wa-groups','post','166792yNAGqI','createSectionsFromValues','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','promote','Rótulo\x20atualizado:','URL','ReplyOptions\x20finais\x20após\x20reordenação:','_Flows','getScheduleMessage','Error\x20updating\x20message\x20status:','.error','SEND_MESSAGE','\x20\x1b[0m','DELIVERY_ACK','replacer','contentText','varedit','bearer','Error\x20updating\x20participants','upsertChats','statusMessage',',\x20Comparador:\x20','BRL','addChatLabel','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','statusJidList','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','goNextblock','height','incrementIsValidAttempts','VERBOSE','exports','/wa-connection-update','oldToken','Image\x20path:\x20','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','out','\x20minutos...','Bad\x20Request','indexOf','):\x20Conversa\x20inserida\x20com\x20sucesso.','getContactModelForOwner','Error\x20change\x20group\x20description','menuMessage','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','stopMinutesMaxActives','):\x20Não\x20achou\x20nenhum\x20flow','SERVER_OFFLINE','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','reactionMessage','map','sendStatus','remoteJid','NextBlock','/message','title','json','modifiedCount','REDIS_PREFIX_KEY','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','stopMinutes','connectedClient','create','.pdf','Imagem\x20não\x20encontrada','mkdirSync','DATABASE','No\x20join\x20group\x20invite\x20code\x20or\x20url','presence','toNumber','shift','fetchStatus','chatLog','scheduled','processUazapi','reorderBlocks','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','ephemeralExpiration','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','noConnection','connectionStatus','verifiedName','LOG','PLAYED','from','createAndSave','sendContact','):\x20teve\x20mudanças\x20chat.name:\x20','MESSAGES_SET','editflow','editedMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','lastMessage','Erro\x20ao\x20atualizar\x20AutomateSystem:','Chrome','findGroup','getProfileName','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','findGroups','Error\x20writing\x20file:\x20','lastCondition','not_announcement','format','SERVER','flattenObject','variablesNotFound','join','editOperator','editFlowVariable','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','.ppt','encoding','subdomain','\x1b[37m','groupName','goToFlow','contact','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','menuIgnoreNonVotes','Close\x20connection','testProxy\x20response\x20from\x20','base64','uazapi','cleanStore','audioWhatsapp','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','write','listResponseMessage','updateStopChat','flushHeaders','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','videoMessage','normalizeMessage','Type\x20is\x20required','audio/aac','API_KEY','getFlowModelForOwner','floor','TYPE','):\x20nextBlock.uazapi.name','cpf','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','waitingMenu_text','\x1b[32m%s\x1b[0m','nomecompleto','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','\x20saindo\x20da\x20função','@g.us','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','nome','expression','Erro\x20ao\x20adicionar\x20label\x20','fetchInstances','Profile\x20not\x20found','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','convertToWebP','updateMessage','Hash\x20to\x20image\x20name:\x20','updateGParticipant','SERVER_URL','save','next_groupId','request\x20received\x20in\x20deleteFlow','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','Audio\x20is\x20base64','\x20contacts','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','group','groups','editflowreply','fileUrl','):\x20Mensagem\x20já\x20enviada\x20para\x20','isJidGroup','uazapiDeleteMessage','):\x20Query\x20params:','notMatchRegex','instances','Button\x20IDs\x20cannot\x20be\x20repeated.','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','truncatedto','fetchLatestBaileysVersion','width','contacts.update','instanceCount','):\x20Conversas\x20encontradas:','):\x20Deletando\x20fluxo...','blocks','):\x20Erro\x20ao\x20editar\x20agentes:\x20','getScheduleMessageModelForOwner','copyBlock','realVariables','order','.mp3','updateCustomFields','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','allContacts','/exit','):\x20this.processingScheduleMessageId:\x20','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','):\x20Flow\x20desativado','):\x20Procurando\x20conversa','):\x20Erro\x20ao\x20buscar\x20conversas\x20','LEVEL','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','toDataURL','success','getStatus','lastSend','lastSendMessage','bulkWrite','isInteger','checkAndRestartProcess',',\x20Expiration\x20Time:\x20','filter','stopWhenYouSendMsg','hex','syscall','method','instance','updatePrivacySettings',',\x20resultado:\x20','fetchConversation','flowname:\x20','replace','emit','This\x20name\x20','Archiving\x20chat','axios','File\x20written\x20to\x20path:\x20','parse','everyOne','setNewValue','http','\x0a{\x20instance:\x20','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','has','}}\x20->\x20valor\x20não\x20encontrado','footerText','object','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','AutomateSystem\x20não\x20foi\x20inicializado','_error','loadWebhook','Erro\x20ao\x20editar\x20a\x20conversa:\x20','msgRetryCounterCache','#ffffff','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','getChatModelForOwner','SERVER_TYPE','option','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','urlencoded','scheduleSendAudio','unreadcount','sendPoll','request\x20received\x20in\x20fetchConversation','):\x20Editando\x20variável\x20do\x20fluxo...','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','isURL','://','limit','fetchProfile','Error\x20updating\x20profile\x20name','info','\x0aitem','online','message_normalized','state','downloads','\x20-\x20ON:\x20','setRestartTimer','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','contacts','findMessages','augusto.fcs@gmail.com','\x0aFN:','CONECTADO\x20À\x20UAZAPI','https://github.com/uazapi/uazapi.git','messageSecret','\x20minutos.\x20Será\x20às\x20','backgroundColor','localWebhook','ERROR','createClient','_FlowHistorico','StartBot','messages.set','FlowController','stopIfLastReturnedError','LICENSE_INVALID','fetchChats','groups.upsert','secondValue','Instância:\x20','getDevice','PRESENCE_UPDATE','generateWAMessageFromContent','8080','webhookModel','\x20minutos\x20verificará\x20novas\x20mensagens','Instance\x20\x22','shutdown\x20-r\x20now','E-mail:\x20','):\x20leadInfoVariables','request\x20received\x20in\x20editConversation','Not\x20Found','Error\x20change\x20group\x20name','conversationTimestamp','/instance/delete','removeChatLabel','deleteDoneMessages','MESSAGES_UPDATE','getDelay','):\x20conversation.status:\x20','Getting\x20audio\x20from\x20url','DARK','):\x20teve\x20mudanças\x20chat.displayName:\x20','):\x20','ex:\x20\x22groupJid=120362@g.us\x22','\x1b[37m%s\x1b[0m','RemoveChatLabel','getMIMEType','editScheduleMessage','errno','length','poll','longitude','__esModule','joinGroup','Error\x20fetching\x20and\x20updating\x20profile:\x20','.xls','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','27052tuUOBM','video','lean','unreadCount','enumerable','Type\x20defined\x20as\x20audio','inner','uazapiSendMenu','allFlows','):\x20Editando\x20edição\x20do\x20fluxo...','start','resetReconnectionVariables','editChat','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','host','qrcode','deleteReplyOption','repository','closed','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Erro\x20ao\x20atualizar\x20o\x20fluxo:','\x20ao\x20chat\x20','toBRL','/chat','):\x20Procurando\x20mensagens\x20para\x20envio','pollCreationMessage','some','checkAndUpdateChatStatus','flow','HOST','\x20instance\x20does\x20not\x20exist','removed','pollOnReplyDelete','request\x20received\x20in\x20getAutomateSystem','onWhatsApp','editFlow','\x1b[33m%s\x1b[0m','trim','/wa-message','AutomateSystem','):\x20Deletando\x20mensagem','env','authentication','-whatsapp-api','collections','):\x20Falha\x20ao\x20deletar\x20mensagem.','all','*Pergunta*:\x20\x0a','.\x20Pulando.','No\x20invite\x20code','PORT','.webm','https://chat.whatsapp.com/',',\x20Segundo\x20Valor:\x20','stderr','.webp','params','Converted\x20image\x20deleted','Sending\x20audio\x20whatsapp','class-validator','evaluateConditionTest','All_Instances_Config','keep-alive','AUTHENTICATION','Erro\x20ao\x20encerrar\x20a\x20API','deleteBlock','choices','-instances','ListMessage','uazapiSendContact','eventemitter2','app','ListType','toFile','Erro\x20ao\x20deletar\x20chat:','block','getFlow','folder','jwt','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','Error\x20status:','Fluxos\x20não\x20estão\x20ativados','<subdomain>','optionDescription','groupadd','Converting\x20image\x20to\x20WebP\x20to\x20sticker','FULLCHAIN','insertMany','testProxy','condition',',\x20qrcodeCount:\x20','repeat','Error\x20update\x20group\x20picture','\x1b[0m','empty','preview','open','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','\x20não\x20encontrado\x20para\x20cópia','):\x20Conversa\x20atualizada\x20em\x20memória','createGroup',',\x20fará\x20nova\x20verificação\x20em\x20','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','@broadcast','fileLength','Error\x20updating\x20setting','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','messageTimestamp','true','customFields','trimmed','binary','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','mediaSticker','delete','item','):\x20Criou\x20conversa\x20no\x20startFlow:','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','_id','flowPrefixCommand','vote','password','Connection\x20closed\x20for\x20instance:\x20','):\x20Usando\x20extensão\x20padrão:\x20','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','SERVER_PORT','count','editFlowVaredit','pre','Certbot\x20executado\x20com\x20sucesso.','update','?timestamp=','archiveChat','newStoppedUntil','created','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','url','reaction','pollMessage','\x1b[36m%s\x1b[0m','):\x20Campos\x20a\x20serem\x20atualizados:','locked','Cannot\x20','STORE_CONTACTS','.sendDataWebhook-global','messages.upsert','\x1b[30m','):\x20teve\x20mudanças\x20chat.archived:\x20','toLowerCase','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','CONTACTS_UPSERT','STORE_CLEANING_TERMINAL','unknown\x20operation\x20type\x20[','Erro\x20ao\x20remover\x20instâncias\x20antigas:','pushName','key','\x20chats\x20de\x20','PREFIX_KEY','Db\x20Connection','Converting\x20audio\x20to\x20mp4','query','mongodb','allflows','Mensagem\x20não\x20suportada','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','options','subjectOwner','request\x20body:\x20','connection.update','Fluxo\x20não\x20encontrado','findChats','/events','.png','STATUS_INSTANCE','client','listType','https','Telefone:\x20','groupId','addReplyOption','sendMessageWithTyping','Flow\x20already\x20exists','Validate','30mQkYEe','views','/automate','groupDesc','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','.docx','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','):\x20debug\x20alterando\x20this.AutomateSystem','request\x20received\x20in\x20updateCustomFields','replaceVariablesLogs','webhook','pollCreationMessageV3','/wa-chats','\x20do\x20chat\x20','CONTACTS_SET','groups_ignore','contactHandle','https://uazapi-plugin.bubbleapps.io/','connecting','^\x5cd+','STORE','reference','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','agents','saveTextReply','getAutomateSystem','isArray','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','video-cover.png','last','Content\x20is\x20required','fetchProfile2','/wa-contacts','onTime','prepareMediaMessage','existsSync','bateu\x20events','temp-','Cache-Control','1547015QDPaxe','whatsappNumbers','stdout','requested\x20testProxy','!stop','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','media','round','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','Início','chats.update','eventHandler','bodyString','none','request','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','error\x20get\x20vote','remove.instance','redisEnv','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','ENABLED','flowStopMinutes','messaging-history.set','verbose','markMessageAsRead','arrayUnique','getConversationModelForOwner','messages','isBase64','wuid','labels.association','getTime','formatBRNumber','apply','find','):\x20Entrou\x20na\x20função\x20goToFlow','role','.ogg','getBase64FromMediaMessage','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','text','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','getPrototypeOf','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','SECRET','events','updateChatWithMessage','Chat\x20com\x20ID\x20','pollUpdateMessage','keys','email','varedits','@s.whatsapp.net','flowName','values','ChatModel','connect','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','chat','dyndns.org','createJid','Log\x20out\x20instance:\x20','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','GROUPS_UPSERT','fetchPrivacySettings','findWebhook','updateAgent','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','updateStatusPrivacy','):\x20Fluxos\x20não\x20estão\x20ativados','ScheduleMessageModel','\x20foi\x20interrompido\x20pelo\x20usuário.','uazapiSendMedia','evaluateCondition','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','stanzaId','responseType','load','deletedCount','getVariablesChat','groupJid','4bkfbPV','http://checkip.dyndns.org','Audio\x20processed','profilePicture','presence.update','toUpperCase','where','privacySettings','\x22\x20not\x20found','ORG:','Types','application/octet-stream','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20',',\x20lastCondition:\x20','optionName','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','startFlow','ip:\x20','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','createProxyConfig','name','throwAndLogError','parseInt','desc','createNewConversation','.sendDataWebhook-local','Erro\x20ao\x20editar\x20o\x20chat:\x20','imageMessage','waitingMenu_ExpiredMessage','SSL_CONF','Image\x20is\x20url','owner','processConditionsTest','./.git/config','groupInviteCode','groupCreate','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','/config','status','CORS','mongoose','_activatedCount','readdirSync','):\x20atualização\x20chat:\x20','Desconectado,\x20parando\x20execução.','last_update','editflowcondition','^\x5cd+([-]\x5cd+)*@g.us$','GROUP_PARTICIPANTS_UPDATE','groupFetchAllParticipating','inviteCode','notas','Image\x20created','sendDataWebhook','webhookService','Instance\x20ID:','currency','deleteOne','Unknown\x20message\x20type\x20or\x20empty\x20message','CORS_ORIGIN','timerId','contactsArrayMessage','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','CONTACTS_UPDATE','console','Type\x20not\x20found','ignoreGroups','maxActives','/instance/connect','instanceName\x20not\x20provided.','Output\x20path:\x20','sleep','buttons'];a0_0x1bad=function(){return _0xf035a4;};return a0_0x1bad();}V[a0_0x1f692e(0x4f0)]&&Ur[a0_0x1f692e(0x3b6)](a0_0x1f692e(0x661)+N[a0_0x1f692e(0x258)]);var Jr=new xe[(a0_0x1f692e(0xac))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String},'chatId':{'type':String}}),jr=new xe[(a0_0x1f692e(0xac))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Jr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),qr=new xe[(a0_0x1f692e(0xac))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':jr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String]}}),js=_0x1f337e=>{const _0x3d2d11=a0_0x1f692e;let _0x1ed6cc='z_'+_0x1f337e+_0x3d2d11(0x597);return N?.['model'](_0x3d2d11(0x514),qr,_0x1ed6cc);},qs=require(a0_0x1f692e(0x557)),Vr=new qs[(a0_0x1f692e(0xac))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Vs=_0x131936=>{const _0x1eebae=a0_0x1f692e;let _0x2364b6='z_'+_0x131936+'_Contacts';return N?.[_0x1eebae(0x18f)](_0x1eebae(0x221),Vr,_0x2364b6);},Bs=require(a0_0x1f692e(0x557)),Br=new Bs[(a0_0x1f692e(0xac))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Gs=_0x1653d9=>{const _0xd29a90=a0_0x1f692e;let _0x53b7f4='z_'+_0x1653d9+_0xd29a90(0x204);return N?.[_0xd29a90(0x18f)]('MessageModel',Br,_0x53b7f4);},Ws=require(a0_0x1f692e(0x557)),ts=class{},Gr=new Ws['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'proxy':{'type':String}}),zs=N?.['model'](ts[a0_0x1f692e(0x543)],Gr,a0_0x1f692e(0x426)),Hs=require(a0_0x1f692e(0x557)),ss=class{},Ks=new Hs[(a0_0x1f692e(0xac))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});Ks['pre']('save',function(_0x55ce1d){const _0x3289e9=a0_0x1f692e;delete this[_0x3289e9(0x5b3)],delete this['flowIgnoreGroups'],delete this[_0x3289e9(0x473)],delete this[_0x3289e9(0xf7)],delete this[_0x3289e9(0x4f1)],_0x55ce1d();});var Qs=N?.[a0_0x1f692e(0x18f)](ss[a0_0x1f692e(0x543)],Ks,a0_0x1f692e(0x4be)),x=require(a0_0x1f692e(0x557)),Pe=class{},Ys=new x['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),as=new x[(a0_0x1f692e(0xac))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Wr=new x[(a0_0x1f692e(0xac))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x1f692e(0x21c)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x1f692e(0x6e4)},'pollErrorMessage':{'type':String,'default':a0_0x1f692e(0x674)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Xs=new x['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),zr=new x[(a0_0x1f692e(0xac))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'responseType':{'type':String}},{'_id':!0x1}),Hr=new x[(a0_0x1f692e(0xac))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Zs=new x[(a0_0x1f692e(0xac))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Wr},'apirequest':zr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),cs=new x[(a0_0x1f692e(0xac))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ea=new x[(a0_0x1f692e(0xac))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),rs=class{},ls=new x['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x182203=a0_0x1f692e;return _0x182203(0x5ee)+Math[_0x182203(0xb8)]()[_0x182203(0x6bc)](0x24)[_0x182203(0x655)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[cs],'variablesNotFound':{'type':[String]},'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[as],'default':[]}});ls[a0_0x1f692e(0x47c)](a0_0x1f692e(0x34d),function(_0x483cde){const _0x1c9ea1=a0_0x1f692e;let _0x3926f2=new Set(),_0xe4d77d=new Set(this['variables']?.[_0x1c9ea1(0x2df)](_0x292a7b=>_0x292a7b[_0x1c9ea1(0x543)])),_0x474ba4=JSON[_0x1c9ea1(0x14a)](this),_0xf392be=/{{(?!_)([^}]*)}}/g,_0x10cd3c;for(;(_0x10cd3c=_0xf392be['exec'](_0x474ba4))!==null;)_0xe4d77d[_0x1c9ea1(0x398)](_0x10cd3c[0x1])||_0x3926f2[_0x1c9ea1(0x1ba)](_0x10cd3c[0x1]);_0x3926f2[_0x1c9ea1(0x282)]>0x0?(console['warn'](_0x1c9ea1(0x5c1),Array[_0x1c9ea1(0x301)](_0x3926f2)),this[_0x1c9ea1(0x316)]=Array[_0x1c9ea1(0x301)](_0x3926f2)):this[_0x1c9ea1(0x316)]=[],_0x483cde();});var ta=_0x2b1d7a=>{const _0x32b977=a0_0x1f692e;let _0x1d0f41='z_'+_0x2b1d7a+_0x32b977(0x2b4);return N?.[_0x32b977(0x18f)](_0x32b977(0x96),ls,_0x1d0f41);},sa=N?.[a0_0x1f692e(0x18f)](rs[a0_0x1f692e(0x543)],ls,a0_0x1f692e(0x418)),Kr=new x[(a0_0x1f692e(0xac))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[cs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Hr]},{'_id':!0x1}),os=class{},aa=new x[(a0_0x1f692e(0xac))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[cs],'blocks':[Zs],'groups':[Ys],'conditions':[Xs],'varedits':[ea],'replyOptions':{'type':[as],'default':[]},'chatLog':Kr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x1f692e(0x45c)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x1f692e(0x6e4)},'waitingMenu_replyOptions':{'type':[as],'default':[]}}),ra=_0x288138=>{const _0x147b69=a0_0x1f692e;let _0x553de7='z_'+_0x288138+_0x147b69(0x3cb);return N?.[_0x147b69(0x18f)]('ConversationModel',aa,_0x553de7);},oa=N?.['model'](os[a0_0x1f692e(0x543)],aa,a0_0x1f692e(0x27b)),is=class{},Qr=new x['Schema']({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Yr=new x['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ia=new x[(a0_0x1f692e(0xac))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x1f692e(0x2f6)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Yr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Qr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),na=_0x3b182d=>{const _0x506dc3=a0_0x1f692e;let _0x25cccf='z_'+_0x3b182d+_0x506dc3(0xce);return N?.['model'](_0x506dc3(0x524),ia,_0x25cccf);},ca=N?.[a0_0x1f692e(0x18f)](is[a0_0x1f692e(0x543)],ia,a0_0x1f692e(0x5f5)),ns=class{},Xr=new x['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Zr=new x[(a0_0x1f692e(0xac))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x1f692e(0x4df)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),eo=new x['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),to=new x['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[eo]},'customFields':{'type':[Xr]},'flowConfig':{'type':Zr,'default':{}}}),_e=N?.[a0_0x1f692e(0x18f)](ns[a0_0x1f692e(0x543)],to,a0_0x1f692e(0x423)),la=require(a0_0x1f692e(0x557)),so=new la[(a0_0x1f692e(0xac))]({'_id':{'type':String},'name':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),ua=_0xffb371=>{const _0x141291=a0_0x1f692e;let _0x27c42b='z_'+_0xffb371+_0x141291(0x140);return N?.[_0x141291(0x18f)](_0x141291(0x68d),so,_0x27c42b);},I=class{constructor(_0x5a040d){const _0x1ae484=a0_0x1f692e;this[_0x1ae484(0x69d)]=_0x5a040d[_0x1ae484(0x635)](_0x1ae484(0x2ef));}};function A(_0xf2f4c2){const _0x4a3dad=a0_0x1f692e;let _0x33a617={};for(let [_0xaffc36,_0x958024]of Object[_0x4a3dad(0x643)](_0xf2f4c2))if(typeof _0x958024==_0x4a3dad(0x39b)&&!Array[_0x4a3dad(0x4ce)](_0x958024)){for(let [_0x456874,_0x27785b]of Object[_0x4a3dad(0x643)](_0x958024))_0x33a617[_0xaffc36+'.'+_0x456874]=_0x27785b;}else _0x33a617[_0xaffc36]=_0x958024;return _0x33a617;}var $e=class{constructor(_0x3f59d0,_0xf511f2,_0x210b60,_0x5e2cde,_0x520ef7,_0x7c1b30,_0x1bccc7,_0x140593,_0x254041,_0x2fd5c5,_0x40a7f8){const _0x1162f8=a0_0x1f692e;this[_0x1162f8(0x5f0)]=_0x3f59d0,this['chat']=_0xf511f2,this['contact']=_0x210b60,this[_0x1162f8(0x4be)]=_0x5e2cde,this[_0x1162f8(0xd2)]=_0x520ef7,this['flow']=_0x7c1b30,this['flowConversation']=_0x1bccc7,this[_0x1162f8(0x239)]=_0x140593,this[_0x1162f8(0x5ab)]=_0x254041,this[_0x1162f8(0x631)]=_0x2fd5c5,this['dbClient']=_0x40a7f8;}get['dbServer'](){const _0x3774cf=a0_0x1f692e;return this[_0x3774cf(0xbc)];}},ke=class{},Le=class extends I{['getMessageModelForOwner'](_0x4f683c){return Gs(_0x4f683c);}async[a0_0x1f692e(0x686)](_0x5cf2c4,_0x11fe03){const _0x47f5cb=a0_0x1f692e;if(_0x5cf2c4[_0x47f5cb(0x3f3)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x47f5cb(0x5bd)](_0x11fe03)[_0x47f5cb(0x453)]([..._0x5cf2c4]))[_0x47f5cb(0x3f3)]};}catch(_0x1a2a8d){return console[_0x47f5cb(0x671)](_0x47f5cb(0x233),_0x1a2a8d),_0x1a2a8d;}}async[a0_0x1f692e(0x4fe)](_0x1a0098,_0x237a10){const _0x24982a=a0_0x1f692e;try{let _0x4fc946=this[_0x24982a(0x5bd)](_0x237a10),_0x58e699=A(_0x1a0098[_0x24982a(0x535)]);return await _0x4fc946['find'](_0x58e699)[_0x24982a(0x267)]({'messageTimestamp':-0x1})[_0x24982a(0x3b3)](_0x1a0098?.[_0x24982a(0x3b3)]??0x0)[_0x24982a(0x3fd)]();}catch{return[];}}async[a0_0x1f692e(0x46e)](_0x5188c6,_0x297975){const _0x6e8451=a0_0x1f692e;try{let _0x4e5e7f=this[_0x6e8451(0x5bd)](_0x297975),_0x570048=A(_0x5188c6[_0x6e8451(0x535)]);await _0x4e5e7f[_0x6e8451(0x199)](_0x570048);}catch(_0x123f50){console[_0x6e8451(0x6ad)](_0x123f50);}}async[a0_0x1f692e(0x47e)](_0x15636a,_0x5c7cde,_0xb37fb3){const _0x13ba23=a0_0x1f692e;try{let _0x444448=this['getMessageModelForOwner'](_0xb37fb3),_0x26e080=A(_0x15636a['where']);return await _0x444448[_0x13ba23(0xc1)](_0x26e080,{'$set':_0x5c7cde},{'new':!0x0});}catch(_0x20b1d2){throw console['error'](_0x20b1d2),_0x20b1d2;}}async['insertMany'](_0xc77f08,_0x276a4d){const _0x22268d=a0_0x1f692e;if(_0xc77f08['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x22268d(0x5bd)](_0x276a4d)['insertMany']([..._0xc77f08]))[_0x22268d(0x3f3)]};}catch(_0x26c7e7){return console['log'](_0x22268d(0x233),_0x26c7e7),_0x26c7e7;}}async['deleteAll'](_0x5176ce){const _0x6bb7e=a0_0x1f692e;try{return await this['getMessageModelForOwner'](_0x5176ce)[_0x6bb7e(0x676)][_0x6bb7e(0x291)](),{'success':!0x0};}catch(_0x1c51b4){return console[_0x6bb7e(0x6ad)](_0x1c51b4),{'success':!0x1,'error':_0x1c51b4};}}},mr=R(require(a0_0x1f692e(0xe8))),y=R(require(a0_0x1f692e(0xa0))),Me=require('fs'),F=R(require(a0_0x1f692e(0x653))),se=R(require(a0_0x1f692e(0x390))),hr=require(a0_0x1f692e(0x130)),fr=R(require('qrcode')),yr=R(require('qrcode-terminal')),da=[a0_0x1f692e(0x54a),a0_0x1f692e(0x18a),'audioMessage',a0_0x1f692e(0x330),a0_0x1f692e(0x682)],pa=['ephemeralMessage',a0_0x1f692e(0x5bf),a0_0x1f692e(0x598),'viewOnceMessageV2'],bs=require('os'),At=R(require('pino')),Dt=require(a0_0x1f692e(0x65c)),Ot=require('node-mime-types'),ne=R(require('mongoose')),$=require(a0_0x1f692e(0x437)),ge=class{constructor(_0x12e287,_0x12659b,_0x347cec){const _0x4dbbef=a0_0x1f692e;this[_0x4dbbef(0x1dd)]=_0x12e287,this[_0x4dbbef(0x65d)]=_0x12659b,this[_0x4dbbef(0x543)]=_0x347cec;}},Fe=class{},Ue=class{},we=class{},Je=class{},je=class{},me=class{},qe=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require(a0_0x1f692e(0xb9))),ga=require('fs'),ma=require(a0_0x1f692e(0x653));async function We(_0x558555){const _0x40dd79=a0_0x1f692e;let _0x4704a3=B[_0x40dd79(0x5c2)][_0x558555];if(V[_0x40dd79(0x4f0)]){let _0x2e7683=N[_0x40dd79(0x84)]()['db'](V[_0x40dd79(0x5f6)][_0x40dd79(0x210)]+_0x40dd79(0x43f))[_0x40dd79(0x676)](_0x558555);return _0x4704a3||(await _0x2e7683['find']({})['toArray']())[_0x40dd79(0x3f3)]>0x0;}return _0x4704a3||(0x0,ga[_0x40dd79(0x4d7)])((0x0,ma[_0x40dd79(0x317)])(pe,_0x558555));}async function ha(_0x541fa2,_0x524b6f,_0x45cc98){const _0x593e24=a0_0x1f692e;if(_0x541fa2[_0x593e24(0x6b1)]['includes']('/instance/create')||_0x541fa2[_0x593e24(0x6b1)][_0x593e24(0xe4)](_0x593e24(0x298))||_0x541fa2[_0x593e24(0x6b1)][_0x593e24(0xe4)](_0x593e24(0x371))||_0x541fa2[_0x593e24(0x6b1)][_0x593e24(0xe4)]('/config')||_0x541fa2['originalUrl'][_0x593e24(0xe4)](_0x593e24(0x573))||_0x541fa2['originalUrl'][_0x593e24(0xe4)]('/instance/connectionState')||_0x541fa2[_0x593e24(0x6b1)][_0x593e24(0xe4)](_0x593e24(0x3e3)))return _0x45cc98();let _0x547634=_0x541fa2['params'];if(!_0x547634?.[_0x593e24(0x614)])throw new m(_0x593e24(0x574));if(!await We(_0x547634['instanceName']))throw new L(_0x593e24(0x277)+_0x547634[_0x593e24(0x614)]+_0x593e24(0x41a));_0x45cc98();}async function fa(_0xed8f0b,_0x308734,_0x4776ff){const _0x33b63e=a0_0x1f692e;if(_0xed8f0b[_0x33b63e(0x6b1)][_0x33b63e(0xe4)](_0x33b63e(0xf4))){let _0x2190f3=_0xed8f0b[_0x33b63e(0x1ad)];if(await We(_0x2190f3[_0x33b63e(0x614)]))throw new K(_0x33b63e(0x38e)+_0x2190f3[_0x33b63e(0x614)]+_0x33b63e(0xad));B[_0x33b63e(0x5c2)][_0x2190f3[_0x33b63e(0x614)]]&&delete B[_0x33b63e(0x5c2)][_0x2190f3[_0x33b63e(0x614)]];}_0x4776ff();}var ya=require(a0_0x1f692e(0x437)),wa=R(require(a0_0x1f692e(0x6b8))),ze=a0_0x1f692e(0x327),ro=new v('GUARD');async function oo(_0x363069,_0x3f5cc6,_0x4cef7f){const _0x531e6a=a0_0x1f692e;let _0x247e71=_0x363069[_0x531e6a(0x635)](_0x531e6a(0x2aa));if(_0x247e71&&b[_0x531e6a(0x635)](_0x531e6a(0x43b))[_0x531e6a(0x334)]['KEY']!==_0x247e71)throw new ee();if(b['get']('AUTHENTICATION')[_0x531e6a(0x334)][_0x531e6a(0x1c7)]===_0x247e71)return _0x4cef7f();if((_0x363069[_0x531e6a(0x6b1)][_0x531e6a(0xe4)](_0x531e6a(0xf4))||_0x363069['originalUrl'][_0x531e6a(0xe4)](_0x531e6a(0x298)))&&!_0x247e71)throw new K('Missing\x20global\x20api\x20key',_0x531e6a(0x24e));let _0x8b7e5d=b[_0x531e6a(0x635)]('AUTHENTICATION')[_0x531e6a(0x182)];try{let [_0x3440c5,_0x4365e3]=_0x363069['get'](_0x531e6a(0x151))['split']('\x20');if(_0x3440c5[_0x531e6a(0x490)]()!==_0x531e6a(0x2be))throw new ee();if(!(0x0,ya[_0x531e6a(0x5d5)])(_0x4365e3))throw new ee();let _0x1954fd=_0x363069[_0x531e6a(0x434)],_0x4f4b05=wa[_0x531e6a(0x205)][_0x531e6a(0xe1)](_0x4365e3,_0x8b7e5d[_0x531e6a(0x509)],{'ignoreExpiration':_0x8b7e5d[_0x531e6a(0x15f)]===0x0});if(_0x1954fd[_0x531e6a(0x614)]!==_0x4f4b05['instanceName']||ze!==_0x4f4b05[_0x531e6a(0x122)])throw new ee();return _0x4cef7f();}catch(_0x34e86d){throw ro[_0x531e6a(0x6ad)](_0x34e86d),new ee();}}async function io(_0x2c17ea,_0x42bee1,_0x4357ff){const _0x447c7f=a0_0x1f692e;let _0x104c20=b[_0x447c7f(0x635)]('AUTHENTICATION')[_0x447c7f(0x334)],_0x482ebe=_0x2c17ea[_0x447c7f(0x635)]('apikey');if(_0x104c20['KEY']===_0x482ebe)return _0x4357ff();if(_0x2c17ea['originalUrl'][_0x447c7f(0xe4)](_0x447c7f(0xf4))){let _0x3c955e=He,_0x54e7f3=_0x2c17ea[_0x447c7f(0x1ad)][_0x447c7f(0x614)];if(_0x3c955e&&_0x54e7f3[_0x447c7f(0x490)]()['startsWith'](_0x3c955e[_0x447c7f(0x490)]()))return _0x4357ff();if(!_0x482ebe)throw new K('Missing\x20global\x20api\x20key',_0x447c7f(0x24e));}if(_0x2c17ea['originalUrl'][_0x447c7f(0xe4)]('/instance/fetchInstances')&&!_0x482ebe)throw new K(_0x447c7f(0x219),_0x447c7f(0x24e));if(_0x2c17ea[_0x447c7f(0x6b1)][_0x447c7f(0xe4)](_0x447c7f(0x371))&&!_0x482ebe)throw new K('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x2c17ea[_0x447c7f(0x6b1)][_0x447c7f(0xe4)](_0x447c7f(0x554))&&!_0x482ebe)throw new K(_0x447c7f(0x219),_0x447c7f(0x24e));try{let _0x18de46=_0x2c17ea['params'];if((await ce[_0x447c7f(0xd2)][_0x447c7f(0x4fe)](_0x18de46[_0x447c7f(0x614)]))['apikey']===_0x482ebe)return _0x4357ff();}catch{}throw new ee();}var ba={'jwt':oo,'apikey':io},Za=require(a0_0x1f692e(0xb9)),C=require(a0_0x1f692e(0x130)),E=(..._0x1ed96c)=>{const _0x315ea3=a0_0x1f692e;let _0x27b246={};return _0x1ed96c[_0x315ea3(0x171)](_0x4ff9e9=>_0x27b246[_0x4ff9e9]={'minLength':0x1,'description':_0x315ea3(0x5a8)+_0x4ff9e9+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x1ed96c]}},'then':{'properties':_0x27b246}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'instanceName':{'type':'string'}},...E(a0_0x1f692e(0x614))},Hn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x1f692e(0x6d6)}},'required':[a0_0x1f692e(0x2ce)],...E(a0_0x1f692e(0x2ce))},Kn={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x1f692e(0x6d6)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1f692e(0x2e1),a0_0x1f692e(0x6e1)],...E('id',a0_0x1f692e(0x2e1))},'message':{'type':'object'}}},Q={'properties':{'delay':{'type':'integer','description':a0_0x1f692e(0x134)},'presence':{'type':a0_0x1f692e(0x6d6),'enum':[a0_0x1f692e(0xf2),'available',a0_0x1f692e(0x231),a0_0x1f692e(0x87),a0_0x1f692e(0x121)]}}},z={'type':a0_0x1f692e(0x6d6),'pattern':a0_0x1f692e(0x101),'description':a0_0x1f692e(0x17e)},Sa={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x1f692e(0x39b),'properties':{'text':{'type':a0_0x1f692e(0x6d6)}},'required':[a0_0x1f692e(0x505)],...E(a0_0x1f692e(0x505))}},'required':[a0_0x1f692e(0x1df),a0_0x1f692e(0xca)]},Ea={'type':a0_0x1f692e(0x6d6),'pattern':a0_0x1f692e(0x111),'description':a0_0x1f692e(0x17e)},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'number':{...Ea},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x1f692e(0x6d6)}},'required':[a0_0x1f692e(0x505)],...E(a0_0x1f692e(0x505))}},'required':['textMessage',a0_0x1f692e(0xca)]},Yn={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'number':{...Ea},'options':{...Q},'mediaMessage':{'type':a0_0x1f692e(0x39b),'properties':{'mediatype':{'type':a0_0x1f692e(0x6d6),'enum':['image','document',a0_0x1f692e(0x3fc),a0_0x1f692e(0x212)]},'media':{'type':a0_0x1f692e(0x6d6)},'fileName':{'type':a0_0x1f692e(0x6d6)},'caption':{'type':a0_0x1f692e(0x6d6)}},'required':[a0_0x1f692e(0x1e0),a0_0x1f692e(0x4e1)],...E(a0_0x1f692e(0x672),a0_0x1f692e(0x5c5),a0_0x1f692e(0x4e1))}},'required':[a0_0x1f692e(0x14c),a0_0x1f692e(0xca)]},Ca={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':'object','properties':{'image':{'type':'string'}},'required':[a0_0x1f692e(0x5a2)],...E(a0_0x1f692e(0x5a2))}},'required':['stickerMessage',a0_0x1f692e(0xca)]},Ma={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x1f692e(0x6d6),'enum':[a0_0x1f692e(0x505),'image','audio','video']},'content':{'type':a0_0x1f692e(0x6d6)},'caption':{'type':a0_0x1f692e(0x6d6)},'backgroundColor':{'type':a0_0x1f692e(0x6d6)},'font':{'type':a0_0x1f692e(0x6c2),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x1f692e(0x1b0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1f692e(0x6d6),'pattern':a0_0x1f692e(0x4c7),'description':a0_0x1f692e(0x2fb)}},'allContacts':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]}},'required':['type','content'],...E('type',a0_0x1f692e(0xcf))}},'required':[a0_0x1f692e(0x2c1)]},va={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x1f692e(0x6d6),'enum':[a0_0x1f692e(0x5a2),a0_0x1f692e(0x26d),'video',a0_0x1f692e(0x212)]},'media':{'type':'string'},'fileName':{'type':a0_0x1f692e(0x6d6)},'caption':{'type':'string'}},'required':[a0_0x1f692e(0x1e0),'media'],...E('fileName',a0_0x1f692e(0x5c5),a0_0x1f692e(0x4e1))}},'required':[a0_0x1f692e(0x14c),a0_0x1f692e(0xca)]},Na={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x1f692e(0x39b),'properties':{'audio':{'type':a0_0x1f692e(0x6d6)}},'required':['audio'],...E('audio')}},'required':[a0_0x1f692e(0x5e6),a0_0x1f692e(0xca)]},Ra={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x1f692e(0x6d6)},'selectableCount':{'type':a0_0x1f692e(0xca)},'values':{'type':a0_0x1f692e(0x1b0),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1f692e(0x543),a0_0x1f692e(0x578),a0_0x1f692e(0x513)],...E('name',a0_0x1f692e(0x578),a0_0x1f692e(0x513))}},'required':[a0_0x1f692e(0xca),a0_0x1f692e(0x486)]},Ta={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'number':{...z},'menuMessage':{'type':a0_0x1f692e(0x39b),'properties':{'text':{'type':a0_0x1f692e(0x6d6)},'choices':{'type':a0_0x1f692e(0x1b0),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1f692e(0x505),a0_0x1f692e(0x43e)],...E(a0_0x1f692e(0x505),a0_0x1f692e(0x43e))}},'required':[a0_0x1f692e(0xca),a0_0x1f692e(0x2d8)]},Aa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x1f692e(0x39b),'properties':{'title':{'type':a0_0x1f692e(0x6d6)},'description':{'type':'string'},'footerText':{'type':a0_0x1f692e(0x6d6)},'buttons':{'type':a0_0x1f692e(0x1b0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1f692e(0x39b),'properties':{'buttonText':{'type':a0_0x1f692e(0x6d6)},'buttonId':{'type':a0_0x1f692e(0x6d6)}},'required':[a0_0x1f692e(0x25a),'buttonId'],...E(a0_0x1f692e(0x25a),a0_0x1f692e(0x1c1))}},'mediaMessage':{'type':a0_0x1f692e(0x39b),'properties':{'media':{'type':a0_0x1f692e(0x6d6)},'fileName':{'type':a0_0x1f692e(0x6d6)},'mediatype':{'type':a0_0x1f692e(0x6d6),'enum':[a0_0x1f692e(0x5a2),a0_0x1f692e(0x26d),a0_0x1f692e(0x3fc)]}},'required':[a0_0x1f692e(0x4e1),a0_0x1f692e(0x1e0)],...E(a0_0x1f692e(0x4e1),a0_0x1f692e(0x672))}},'required':['title','buttons'],...E(a0_0x1f692e(0x2e4),a0_0x1f692e(0x115))}},'required':[a0_0x1f692e(0xca),a0_0x1f692e(0x5ad)]},Oa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x1f692e(0x39b),'properties':{'latitude':{'type':a0_0x1f692e(0xca)},'longitude':{'type':a0_0x1f692e(0xca)},'name':{'type':'string'},'address':{'type':a0_0x1f692e(0x6d6)}},'required':['latitude',a0_0x1f692e(0x3f5)],...E('name',a0_0x1f692e(0x15a))}},'required':[a0_0x1f692e(0xca),'locationMessage']},Ia={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x1f692e(0x39b),'properties':{'title':{'type':'string'},'description':{'type':a0_0x1f692e(0x6d6)},'footerText':{'type':a0_0x1f692e(0x6d6)},'buttonText':{'type':a0_0x1f692e(0x6d6)},'sections':{'type':a0_0x1f692e(0x1b0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x1f692e(0x6d6)},'rows':{'type':a0_0x1f692e(0x1b0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1f692e(0x39b),'properties':{'title':{'type':a0_0x1f692e(0x6d6)},'description':{'type':a0_0x1f692e(0x6d6)},'rowId':{'type':'string'}},'required':[a0_0x1f692e(0x2e4),a0_0x1f692e(0x288)],...E('title','rowId')}}},'required':[a0_0x1f692e(0x2e4),a0_0x1f692e(0x1e8)],...E('title')}}},'required':[a0_0x1f692e(0x2e4),a0_0x1f692e(0x115),a0_0x1f692e(0x25a),a0_0x1f692e(0x5b5)],...E(a0_0x1f692e(0x2e4),a0_0x1f692e(0x115),a0_0x1f692e(0x25a),a0_0x1f692e(0x39a))}},'required':[a0_0x1f692e(0xca),'listMessage']},Da={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x1f692e(0x1b0),'items':{'type':a0_0x1f692e(0x39b),'properties':{'fullName':{'type':a0_0x1f692e(0x6d6)},'phoneNumber':{'type':a0_0x1f692e(0x6d6),'minLength':0xa}},'required':[a0_0x1f692e(0x11a),a0_0x1f692e(0x26f)],...E(a0_0x1f692e(0x11a))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x1f692e(0xca),a0_0x1f692e(0x2a2)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x1f692e(0x39b),'properties':{'id':{'type':a0_0x1f692e(0x6d6)},'remoteJid':{'type':a0_0x1f692e(0x6d6)},'fromMe':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1f692e(0x2e1),a0_0x1f692e(0x6e1)],...E('id','remoteJid')},'reaction':{'type':'string'}},'required':[a0_0x1f692e(0x497),a0_0x1f692e(0x485)],...E(a0_0x1f692e(0x485))}},'required':[a0_0x1f692e(0x2de)]},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'numbers':{'type':a0_0x1f692e(0x1b0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1f692e(0x6d6),'pattern':a0_0x1f692e(0x4c7),'description':a0_0x1f692e(0x5aa)}}}},_a={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'readMessages':{'type':a0_0x1f692e(0x1b0),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x1f692e(0x6d6)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1f692e(0x6d6)}},'required':['id','fromMe',a0_0x1f692e(0x2e1)],...E('id','remoteJid')}}},'required':['readMessages']},$a={'$id':(0x0,C['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x1f692e(0x39b),'properties':{'readreceipts':{'type':a0_0x1f692e(0x6d6),'enum':['all',a0_0x1f692e(0x4e9)]},'profile':{'type':a0_0x1f692e(0x6d6),'enum':[a0_0x1f692e(0x42a),a0_0x1f692e(0x3bf),a0_0x1f692e(0x67e),a0_0x1f692e(0x4e9)]},'status':{'type':a0_0x1f692e(0x6d6),'enum':[a0_0x1f692e(0x42a),'contacts',a0_0x1f692e(0x67e),a0_0x1f692e(0x4e9)]},'online':{'type':a0_0x1f692e(0x6d6),'enum':[a0_0x1f692e(0x42a),a0_0x1f692e(0x181)]},'last':{'type':a0_0x1f692e(0x6d6),'enum':['all',a0_0x1f692e(0x3bf),'contact_blacklist',a0_0x1f692e(0x4e9)]},'groupadd':{'type':a0_0x1f692e(0x6d6),'enum':['all',a0_0x1f692e(0x3bf),'contact_blacklist',a0_0x1f692e(0x4e9)]}},'required':['readreceipts',a0_0x1f692e(0x11b),'status',a0_0x1f692e(0x3b8),a0_0x1f692e(0x4d1),'groupadd'],...E(a0_0x1f692e(0x5b7),a0_0x1f692e(0x11b),a0_0x1f692e(0x555),a0_0x1f692e(0x3b8),a0_0x1f692e(0x4d1),a0_0x1f692e(0x450))}},'required':['privacySettings']},ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x1f692e(0x39b),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x1f692e(0x6d6)},'fromMe':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x1f692e(0x2e1)],...E('id',a0_0x1f692e(0x2e1))},'messageTimestamp':{'type':a0_0x1f692e(0x6c2),'minLength':0x1}},'required':[a0_0x1f692e(0x497)],...E(a0_0x1f692e(0x467))},'archive':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]}},'required':[a0_0x1f692e(0x309),'archive']},La={'$id':(0x0,C['v4'])(),'type':'object','properties':{'id':{'type':a0_0x1f692e(0x6d6)},'fromMe':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1f692e(0x6d6)},'participant':{'type':a0_0x1f692e(0x6d6)}},'required':['id',a0_0x1f692e(0x6e1),a0_0x1f692e(0x2e1)],...E('id',a0_0x1f692e(0x2e1),a0_0x1f692e(0x237))},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'where':{'type':a0_0x1f692e(0x39b),'properties':{'_id':{'type':a0_0x1f692e(0x6d6),'minLength':0x1},'pushName':{'type':a0_0x1f692e(0x6d6),'minLength':0x1},'id':{'type':a0_0x1f692e(0x6d6),'minLength':0x1}},...E('_id','id',a0_0x1f692e(0x496))}}},Ua={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':a0_0x1f692e(0x6d6)}},...E(a0_0x1f692e(0x543))},Ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'status':{'type':a0_0x1f692e(0x6d6)}},...E(a0_0x1f692e(0x555))},be={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'number':{'type':a0_0x1f692e(0x6d6)},'picture':{'type':a0_0x1f692e(0x6d6)}}},ja={'type':a0_0x1f692e(0x39b),'properties':{'wuid':{'type':a0_0x1f692e(0x6d6)},'name':{'type':a0_0x1f692e(0x6d6)},'picture':{'type':a0_0x1f692e(0x6d6)},'status':{'type':'string'},'isBusiness':{'type':a0_0x1f692e(0x1b3)}}},qa={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'where':{'type':a0_0x1f692e(0x39b),'properties':{'_id':{'type':a0_0x1f692e(0x6d6),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x1f692e(0x6e1),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x1f692e(0x6d6),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x1f692e(0x6d6),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x1f692e(0x39b)}},...E('_id')},'limit':{'type':a0_0x1f692e(0x6c2)}}},Xn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x1f692e(0x6d6)},'id':{'type':a0_0x1f692e(0x6d6)},'fromMe':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x1f692e(0x6d6)},'status':{'type':a0_0x1f692e(0x6d6),'enum':[a0_0x1f692e(0x3c9),a0_0x1f692e(0x230),a0_0x1f692e(0x57a),a0_0x1f692e(0x2ba),a0_0x1f692e(0x667),a0_0x1f692e(0x300)]}},...E(a0_0x1f692e(0x472),a0_0x1f692e(0x2e1),'id',a0_0x1f692e(0x555))},'limit':{'type':a0_0x1f692e(0x6c2)}}},Va={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'number':{...z},'presence':{'type':a0_0x1f692e(0x6d6),'enum':[a0_0x1f692e(0xf2),a0_0x1f692e(0x2a8),a0_0x1f692e(0x231),a0_0x1f692e(0x87),a0_0x1f692e(0x121)]}},'required':[a0_0x1f692e(0x2f1),a0_0x1f692e(0xca)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'subject':{'type':a0_0x1f692e(0x6d6)},'description':{'type':a0_0x1f692e(0x6d6)},'profilePicture':{'type':a0_0x1f692e(0x6d6)},'participants':{'type':a0_0x1f692e(0x1b0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1f692e(0x6d6),'minLength':0xa,'pattern':a0_0x1f692e(0x28e),'description':a0_0x1f692e(0x40f)}}},'required':['subject','participants'],...E(a0_0x1f692e(0x5be),a0_0x1f692e(0x115),a0_0x1f692e(0x532))},Se={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'groupJid':{'type':a0_0x1f692e(0x6d6),'pattern':a0_0x1f692e(0x55e)}},'required':['groupJid'],...E(a0_0x1f692e(0x52e))},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'groupJid':{'type':a0_0x1f692e(0x6d6)},'action':{'type':a0_0x1f692e(0x6d6),'enum':[a0_0x1f692e(0x1ba),a0_0x1f692e(0x1ef),a0_0x1f692e(0x2b0),a0_0x1f692e(0x1a3)]},'participants':{'type':a0_0x1f692e(0x1b0),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1f692e(0x6d6),'minLength':0xa,'pattern':a0_0x1f692e(0x28e),'description':a0_0x1f692e(0x40f)}}},'required':[a0_0x1f692e(0x52e),a0_0x1f692e(0x6be),'participants'],...E(a0_0x1f692e(0x52e),a0_0x1f692e(0x6be))},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'groupJid':{'type':a0_0x1f692e(0x6d6)},'expiration':{'type':a0_0x1f692e(0xca),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x1f692e(0x52e),a0_0x1f692e(0x1cd)],...E(a0_0x1f692e(0x52e),a0_0x1f692e(0x1cd))},za={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'groupJid':{'type':a0_0x1f692e(0x6d6)},'image':{'type':a0_0x1f692e(0x6d6)}},'required':[a0_0x1f692e(0x52e),a0_0x1f692e(0x5a2)],...E('groupJid',a0_0x1f692e(0x5a2))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'groupJid':{'type':a0_0x1f692e(0x6d6)},'description':{'type':'string'}},'required':['groupJid','description'],...E(a0_0x1f692e(0x52e),a0_0x1f692e(0x115))},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x1f692e(0x6d6)}},'required':[a0_0x1f692e(0x52e),'name'],...E('groupJid',a0_0x1f692e(0x543))},Qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x1f692e(0x6d6)},'setting':{'type':'string','enum':[a0_0x1f692e(0x17c),a0_0x1f692e(0x312),a0_0x1f692e(0x5fb),a0_0x1f692e(0x489)]}},'required':['groupJid',a0_0x1f692e(0x19e)],...E(a0_0x1f692e(0x52e),a0_0x1f692e(0x19e))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'inviteCode':{'type':'string'}},'required':[a0_0x1f692e(0x561)],...E('inviteCode')},Xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'url':{'type':a0_0x1f692e(0x6d6)},'enabled':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]}},'required':[a0_0x1f692e(0x484),a0_0x1f692e(0x5e7)]},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x1f692e(0x39b),'properties':{'local_map':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x1f692e(0x1b3),'enum':[!0x0,!0x1]}},'required':[a0_0x1f692e(0x5df),a0_0x1f692e(0x4aa),a0_0x1f692e(0x15b),'MESSAGES_SET',a0_0x1f692e(0x3e6),'MESSAGES_UPSERT',a0_0x1f692e(0x2b8),a0_0x1f692e(0x4c2),a0_0x1f692e(0x492),a0_0x1f692e(0x56e),a0_0x1f692e(0x3d6),a0_0x1f692e(0x5bb),a0_0x1f692e(0x5a0),a0_0x1f692e(0x67c),a0_0x1f692e(0x10d),a0_0x1f692e(0x5e2),a0_0x1f692e(0x51d),a0_0x1f692e(0x663),a0_0x1f692e(0x55f)],...E(a0_0x1f692e(0x5df),a0_0x1f692e(0x4aa),'QRCODE_UPDATED',a0_0x1f692e(0x305),a0_0x1f692e(0x3e6),a0_0x1f692e(0x20c),a0_0x1f692e(0x2b8),'CONTACTS_SET',a0_0x1f692e(0x492),'CONTACTS_UPDATE','PRESENCE_UPDATE','CHATS_SET','CHATS_UPSERT',a0_0x1f692e(0x67c),a0_0x1f692e(0x10d),a0_0x1f692e(0x5e2),a0_0x1f692e(0x51d),a0_0x1f692e(0x663),'GROUP_PARTICIPANTS_UPDATE')},Ke=class{},Qe=class extends I{['getContactModelForOwner'](_0x4742fe){return Vs(_0x4742fe);}async[a0_0x1f692e(0x686)](_0x14fa64){const _0x4811af=a0_0x1f692e;if(_0x14fa64['length']!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x14fa64[0x0][_0x4811af(0x54e)])[_0x4811af(0x453)]([..._0x14fa64]))['length']};}catch(_0x5b6cd1){return _0x5b6cd1;}}async[a0_0x1f692e(0x46e)](_0x26c6b6,_0x331785){const _0x1e198c=a0_0x1f692e;try{return{'deletedCount':(await this[_0x1e198c(0x2d6)](_0x331785)[_0x1e198c(0x199)]({..._0x26c6b6[_0x1e198c(0x535)]}))[_0x1e198c(0x52c)]};}catch(_0x34b8b0){return{'error':_0x34b8b0?.['toString']()};}}async[a0_0x1f692e(0x47e)](_0xf8077b,_0x468fd6){const _0xe9ebb6=a0_0x1f692e;try{if(_0xf8077b['length']===0x0)return;let _0x37268f=this[_0xe9ebb6(0x2d6)](_0x468fd6),_0x53c799=_0xf8077b[_0xe9ebb6(0x2df)](_0x83b7d0=>({'updateOne':{'filter':{'_id':_0x83b7d0[_0xe9ebb6(0x472)],'owner':_0x468fd6},'update':{..._0x83b7d0}}})),{modifiedCount:_0x5d55e7}=await _0x37268f['bulkWrite'](_0x53c799);return{'insertCount':_0x5d55e7};}catch{return;}}async['find'](_0x3e4aee,_0x3ecdb4){const _0x4b6e49=a0_0x1f692e;try{let _0x509c3a=this['getContactModelForOwner'](_0x3ecdb4),_0xab094f=A(_0x3e4aee['where']);return await _0x509c3a[_0x4b6e49(0x4fe)](_0xab094f)[_0x4b6e49(0x3b3)](_0x3e4aee?.['limit']??0x0)[_0x4b6e49(0x3fd)]();}catch{return[];}}async[a0_0x1f692e(0xc8)](_0x5e7cc0,_0x34642b){const _0x4c0281=a0_0x1f692e;try{let _0x199663=this[_0x4c0281(0x2d6)](_0x34642b),_0x1be7a4=A(_0x5e7cc0[_0x4c0281(0x535)]);return await _0x199663[_0x4c0281(0xc8)](_0x1be7a4)[_0x4c0281(0x3fd)]();}catch{return null;}}async[a0_0x1f692e(0x93)](_0x2da741){const _0x5e406a=a0_0x1f692e;try{return await this[_0x5e406a(0x2d6)](_0x2da741)[_0x5e406a(0x676)][_0x5e406a(0x291)](),{'success':!0x0};}catch(_0x52afa5){return console['error'](_0x52afa5),{'success':!0x1,'error':_0x52afa5};}}},Ye=require(a0_0x1f692e(0x16a)),cc=require(a0_0x1f692e(0x59a)),us=new v(a0_0x1f692e(0x4b3)),j=class{[a0_0x1f692e(0x297)](_0x5f1f6c,_0x20f251=!0x0){let _0x29ac13='/'+_0x5f1f6c;return _0x20f251&&(_0x29ac13+='/:instanceName'),_0x29ac13;}async[a0_0x1f692e(0x106)](_0x5085e8){const _0x42cff2=a0_0x1f692e;let {request:_0x28b041,schema:_0x1a8815,ClassRef:_0x10bdb6,execute:_0x3d26ef}=_0x5085e8,_0x4ccc32=new _0x10bdb6(),_0x2a1bbf=_0x28b041[_0x42cff2(0x1ad)],_0x5c7307=_0x28b041[_0x42cff2(0x434)];_0x28b041?.[_0x42cff2(0x49c)]&&Object[_0x42cff2(0x50e)](_0x28b041[_0x42cff2(0x49c)])[_0x42cff2(0x3f3)]>0x0&&Object[_0x42cff2(0x66c)](_0x5c7307,_0x28b041[_0x42cff2(0x49c)]),_0x28b041['originalUrl'][_0x42cff2(0xe4)]('/instance/create')&&Object['assign'](_0x5c7307,_0x2a1bbf),Object['assign'](_0x4ccc32,_0x2a1bbf);let _0x2d840a=_0x1a8815?(0x0,Ye[_0x42cff2(0x12b)])(_0x4ccc32,_0x1a8815):{'valid':!0x0,'errors':[]};if(!_0x2d840a['valid']){let _0x23562f=_0x2d840a[_0x42cff2(0x5a1)]['map'](({property:_0x44216e,stack:_0x1e3a19,schema:_0x305c1f})=>{const _0x38543b=_0x42cff2;let _0x13b3d5;return _0x305c1f[_0x38543b(0x115)]?_0x13b3d5=_0x305c1f[_0x38543b(0x115)]:_0x13b3d5=_0x1e3a19[_0x38543b(0x38c)](_0x38543b(0x6a7),''),{'property':_0x44216e['replace'](_0x38543b(0x6a7),''),'message':_0x13b3d5};});throw us['error']([..._0x23562f]),new m(..._0x23562f);}return await _0x3d26ef(_0x5c7307,_0x4ccc32);}async[a0_0x1f692e(0x232)](_0x96cad9){const _0xbfdfa=a0_0x1f692e;let {request:_0x5ad39f,ClassRef:_0x48e01b,schema:_0x44335c,execute:_0x5c7db0}=_0x96cad9,_0x2404b8=_0x5ad39f[_0xbfdfa(0x49c)];if(!_0x2404b8?.['groupJid'])throw new m(_0xbfdfa(0xd1),_0xbfdfa(0x3ed));let _0x20c3ad=_0x5ad39f['params'],_0x4d1a03=_0x5ad39f['body'],_0x221f14=new _0x48e01b();Object[_0xbfdfa(0x66c)](_0x4d1a03,_0x2404b8),Object['assign'](_0x221f14,_0x4d1a03);let _0xa67a5=(0x0,Ye['validate'])(_0x221f14,_0x44335c);if(!_0xa67a5['valid']){let _0x20cf8e=_0xa67a5[_0xbfdfa(0x5a1)][_0xbfdfa(0x2df)](({property:_0x1fa9fc,stack:_0x5e6562,schema:_0x242e34})=>{const _0x2b05e6=_0xbfdfa;let _0x343125;return _0x242e34[_0x2b05e6(0x115)]?_0x343125=_0x242e34[_0x2b05e6(0x115)]:_0x343125=_0x5e6562[_0x2b05e6(0x38c)]('instance.',''),{'property':_0x1fa9fc[_0x2b05e6(0x38c)](_0x2b05e6(0x6a7),''),'message':_0x343125};});throw us['error']([..._0x20cf8e]),new m(..._0x20cf8e);}return await _0x5c7db0(_0x20c3ad,_0x221f14);}async['joinGroupValidate'](_0x7ae271){const _0xf6ab59=a0_0x1f692e;let {request:_0x58f4df,ClassRef:_0x4af845,schema:_0x4a26a6,execute:_0x18e45b}=_0x7ae271,_0x34641f=_0x58f4df[_0xf6ab59(0x1ad)];if(!_0x34641f?.[_0xf6ab59(0x561)])throw new m(_0xf6ab59(0x10e),_0xf6ab59(0xc2));let _0x4a8a06=_0x58f4df[_0xf6ab59(0x434)],_0x4ba864=_0x58f4df[_0xf6ab59(0x1ad)],_0x3990d0=new _0x4af845();Object[_0xf6ab59(0x66c)](_0x4ba864,_0x34641f),Object['assign'](_0x3990d0,_0x4ba864);let _0x1963fe=(0x0,Ye['validate'])(_0x3990d0,_0x4a26a6);if(!_0x1963fe['valid']){let _0x4e692c=_0x1963fe[_0xf6ab59(0x5a1)][_0xf6ab59(0x2df)](({property:_0x49b177,stack:_0x1f3bdd,schema:_0xb014f5})=>{const _0x5894e6=_0xf6ab59;let _0x98cd4;return _0xb014f5[_0x5894e6(0x115)]?_0x98cd4=_0xb014f5['description']:_0x98cd4=_0x1f3bdd[_0x5894e6(0x38c)](_0x5894e6(0x6a7),''),{'property':_0x49b177[_0x5894e6(0x38c)](_0x5894e6(0x6a7),''),'message':_0x98cd4};});throw us[_0xf6ab59(0x6ad)]([..._0x4e692c]),new m(..._0x4e692c);}return await _0x18e45b(_0x4a8a06,_0x3990d0);}},S=class{},Mc=new v('ChatRouter'),Xe=class extends j{constructor(..._0x2fedf1){const _0x450448=a0_0x1f692e;super(),this['router']=(0x0,Za[_0x450448(0x66a)])(),this['router'][_0x450448(0x2ac)](this[_0x450448(0x297)]('updatePresence'),..._0x2fedf1,async(_0x56a005,_0x3d8493)=>{const _0x191e4b=_0x450448;let _0xb009af=await this[_0x191e4b(0x106)]({'request':_0x56a005,'schema':Va,'ClassRef':Fe,'execute':(_0x489bc5,_0x496f37)=>D[_0x191e4b(0x615)](_0x489bc5,_0x496f37)});return _0x3d8493[_0x191e4b(0x555)](0xc9)[_0x191e4b(0x2e5)](_0xb009af);})[_0x450448(0x2ac)](this[_0x450448(0x297)](_0x450448(0x4dc)),..._0x2fedf1,async(_0x39c256,_0x131ca6)=>{const _0x229884=_0x450448;let _0x373c80=await this[_0x229884(0x106)]({'request':_0x39c256,'schema':Pa,'ClassRef':Ue,'execute':(_0x1b0eec,_0x5544b6)=>D[_0x229884(0x579)](_0x1b0eec,_0x5544b6)});return _0x131ca6[_0x229884(0x555)](0xc9)[_0x229884(0x2e5)](_0x373c80);})[_0x450448(0x2ac)](this[_0x450448(0x297)](_0x450448(0x407)),..._0x2fedf1,async(_0x2e3490,_0x448ed4)=>{const _0x5bbfe3=_0x450448;let _0x59dedd=await this['dataValidate']({'request':_0x2e3490,'schema':M,'ClassRef':S,'execute':(_0xfe44e2,_0xb18560)=>D[_0x5bbfe3(0x407)](_0xfe44e2,_0xb18560)});return _0x448ed4[_0x5bbfe3(0x555)](0xc9)[_0x5bbfe3(0x2e5)](_0x59dedd);})['put'](this[_0x450448(0x297)]('markMessageAsRead'),..._0x2fedf1,async(_0x29010f,_0x484238)=>{const _0x5af254=_0x450448;let _0x6dfb06=await this[_0x5af254(0x106)]({'request':_0x29010f,'schema':_a,'ClassRef':qe,'execute':(_0x11f654,_0x3fdc3e)=>D[_0x5af254(0x12e)](_0x11f654,_0x3fdc3e)});return _0x484238[_0x5af254(0x555)](0xc9)[_0x5af254(0x2e5)](_0x6dfb06);})['put'](this['routerPath'](_0x450448(0x480)),..._0x2fedf1,async(_0x5df4d8,_0x47719f)=>{const _0x434c35=_0x450448;let _0x282075=await this[_0x434c35(0x106)]({'request':_0x5df4d8,'schema':ka,'ClassRef':Ve,'execute':(_0x612484,_0x26b919)=>D['archiveChat'](_0x612484,_0x26b919)});return _0x47719f['status'](0xc9)[_0x434c35(0x2e5)](_0x282075);})[_0x450448(0x46e)](this['routerPath'](_0x450448(0x5e4)),..._0x2fedf1,async(_0x5cef92,_0x5edebe)=>{const _0x14d8ff=_0x450448;let _0x510cad=await this[_0x14d8ff(0x106)]({'request':_0x5cef92,'schema':La,'ClassRef':Ge,'execute':(_0x2f8de8,_0xb78438)=>D[_0x14d8ff(0x690)](_0x2f8de8,_0xb78438)});return _0x5edebe['status'](0xc9)[_0x14d8ff(0x2e5)](_0x510cad);})[_0x450448(0x2ac)](this[_0x450448(0x297)]('fetchProfilePictureUrl'),..._0x2fedf1,async(_0x29acbf,_0x58d988)=>{const _0x3b2988=_0x450448;let _0x2851fe=await this[_0x3b2988(0x106)]({'request':_0x29acbf,'schema':be,'ClassRef':we,'execute':(_0x386df4,_0x368806)=>D['fetchProfilePicture'](_0x386df4,_0x368806)});return _0x58d988[_0x3b2988(0x555)](0xc8)[_0x3b2988(0x2e5)](_0x2851fe);})[_0x450448(0x2ac)](this[_0x450448(0x297)](_0x450448(0x3b4)),..._0x2fedf1,async(_0x16f291,_0x5d5571)=>{const _0x403cdd=_0x450448;let _0x1f8bd1=await this[_0x403cdd(0x106)]({'request':_0x16f291,'schema':ja,'ClassRef':we,'execute':(_0x3d940d,_0x3a01ad)=>D['fetchProfile'](_0x3d940d,_0x3a01ad)});return _0x5d5571[_0x403cdd(0x555)](0xc8)[_0x403cdd(0x2e5)](_0x1f8bd1);})[_0x450448(0x2ac)](this[_0x450448(0x297)]('findContacts'),..._0x2fedf1,async(_0x23e886,_0x3dd320)=>{const _0x308890=_0x450448;let _0x540e52=await this[_0x308890(0x106)]({'request':_0x23e886,'schema':Fa,'ClassRef':Ke,'execute':(_0x1fae55,_0x4daf2e)=>D[_0x308890(0x289)](_0x1fae55,_0x4daf2e)});return _0x3dd320[_0x308890(0x555)](0xc8)[_0x308890(0x2e5)](_0x540e52);})[_0x450448(0x2ac)](this[_0x450448(0x297)](_0x450448(0x502)),..._0x2fedf1,async(_0x5e07d5,_0x357b77)=>{const _0x253674=_0x450448;let _0x56e769=await this[_0x253674(0x106)]({'request':_0x5e07d5,'schema':null,'ClassRef':Object,'execute':(_0x5840af,_0x5ea365)=>D[_0x253674(0x502)](_0x5840af,_0x5ea365)});return _0x357b77[_0x253674(0x555)](0xc9)[_0x253674(0x2e5)](_0x56e769);})['post'](this[_0x450448(0x297)](_0x450448(0x3c0)),..._0x2fedf1,async(_0x19544a,_0x2f7aa9)=>{const _0x3c02b5=_0x450448;let _0x1ec78a=await this[_0x3c02b5(0x106)]({'request':_0x19544a,'schema':qa,'ClassRef':ke,'execute':(_0x4a8a8f,_0x106993)=>D[_0x3c02b5(0x10a)](_0x4a8a8f,_0x106993)});return _0x2f7aa9[_0x3c02b5(0x555)](0xc8)[_0x3c02b5(0x2e5)](_0x1ec78a);})['get'](this[_0x450448(0x297)](_0x450448(0x4a7)),..._0x2fedf1,async(_0x5abe02,_0x2f1af1)=>{const _0x59a217=_0x450448;let _0x298b4f=await this[_0x59a217(0x106)]({'request':_0x5abe02,'schema':null,'ClassRef':S,'execute':_0x161de3=>D[_0x59a217(0x3d1)](_0x161de3)});return _0x2f1af1[_0x59a217(0x555)](0xc8)['json'](_0x298b4f);})[_0x450448(0x635)](this[_0x450448(0x297)](_0x450448(0x241)),..._0x2fedf1,async(_0x5e36a2,_0xae89fb)=>{const _0x373807=_0x450448;let _0x433410=await this[_0x373807(0x106)]({'request':_0x5e36a2,'schema':null,'ClassRef':S,'execute':_0x1ba617=>D[_0x373807(0x119)](_0x1ba617)});return _0xae89fb[_0x373807(0x555)](0xc8)[_0x373807(0x2e5)](_0x433410);})[_0x450448(0x650)](this[_0x450448(0x297)](_0x450448(0x9f)),..._0x2fedf1,async(_0x5c29f8,_0x143e5c)=>{const _0x4b3182=_0x450448;let _0x271484=await this['dataValidate']({'request':_0x5c29f8,'schema':null,'ClassRef':Array,'execute':(_0x26691b,_0x60303b)=>D['importChats'](_0x26691b,_0x60303b)});return _0x143e5c[_0x4b3182(0x555)](0xc8)[_0x4b3182(0x2e5)](_0x271484);})[_0x450448(0x635)](this[_0x450448(0x297)](_0x450448(0x51e)),..._0x2fedf1,async(_0x2f8f7c,_0x4e27b5)=>{const _0x26b782=_0x450448;let _0x157078=await this[_0x26b782(0x106)]({'request':_0x2f8f7c,'schema':null,'ClassRef':S,'execute':_0x3e578f=>D[_0x26b782(0x51e)](_0x3e578f)});return _0x4e27b5['status'](0xc8)[_0x26b782(0x2e5)](_0x157078);})[_0x450448(0x650)](this['routerPath']('updatePrivacySettings'),..._0x2fedf1,async(_0x12b92b,_0x4cd46e)=>{const _0x297b86=_0x450448;let _0xa78b68=await this[_0x297b86(0x106)]({'request':_0x12b92b,'schema':$a,'ClassRef':Be,'execute':(_0x38f58f,_0x167236)=>D['updatePrivacySettings'](_0x38f58f,_0x167236)});return _0x4cd46e[_0x297b86(0x555)](0xc9)[_0x297b86(0x2e5)](_0xa78b68);})[_0x450448(0x2ac)](this['routerPath'](_0x450448(0x196)),..._0x2fedf1,async(_0x2a3c8a,_0x387b71)=>{const _0x3cfa01=_0x450448;let _0x4d1969=await this[_0x3cfa01(0x106)]({'request':_0x2a3c8a,'schema':be,'ClassRef':me,'execute':(_0x274b3a,_0x113b88)=>D[_0x3cfa01(0x196)](_0x274b3a,_0x113b88)});return _0x387b71[_0x3cfa01(0x555)](0xc8)[_0x3cfa01(0x2e5)](_0x4d1969);})[_0x450448(0x2ac)](this[_0x450448(0x297)](_0x450448(0xa2)),..._0x2fedf1,async(_0x5ce6c3,_0x2a643d)=>{const _0xaa0e0=_0x450448;let _0x358c88=await this['dataValidate']({'request':_0x5ce6c3,'schema':Ua,'ClassRef':Je,'execute':(_0x1d7646,_0x31b2d0)=>D['updateProfileName'](_0x1d7646,_0x31b2d0)});return _0x2a643d[_0xaa0e0(0x555)](0xc8)[_0xaa0e0(0x2e5)](_0x358c88);})[_0x450448(0x2ac)](this['routerPath'](_0x450448(0x250)),..._0x2fedf1,async(_0x59cd58,_0x5c2ed3)=>{const _0x232c2e=_0x450448;let _0x2da87c=await this[_0x232c2e(0x106)]({'request':_0x59cd58,'schema':Ja,'ClassRef':je,'execute':(_0x159987,_0x4cd495)=>D['updateProfileStatus'](_0x159987,_0x4cd495)});return _0x5c2ed3[_0x232c2e(0x555)](0xc8)['json'](_0x2da87c);})[_0x450448(0x650)](this[_0x450448(0x297)](_0x450448(0x5ed)),..._0x2fedf1,async(_0x147ebd,_0x1ddc64)=>{const _0x4bb48e=_0x450448;let _0x5dfb2d=await this[_0x4bb48e(0x106)]({'request':_0x147ebd,'schema':be,'ClassRef':me,'execute':(_0x247c98,_0x3c0d24)=>D[_0x4bb48e(0x5ed)](_0x247c98,_0x3c0d24)});return _0x1ddc64[_0x4bb48e(0x555)](0xc8)[_0x4bb48e(0x2e5)](_0x5dfb2d);})[_0x450448(0x46e)](this['routerPath'](_0x450448(0x211)),..._0x2fedf1,async(_0x9bdfa8,_0x1c8176)=>{const _0x4aea10=_0x450448;let _0xf8ba1b=await this[_0x4aea10(0x106)]({'request':_0x9bdfa8,'schema':be,'ClassRef':me,'execute':(_0x119332,_0xe7b232)=>D[_0x4aea10(0x211)](_0x119332,_0xe7b232)});return _0x1c8176[_0x4aea10(0x555)](0xc8)[_0x4aea10(0x2e5)](_0xf8ba1b);});}},er=require(a0_0x1f692e(0xb9)),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},rt=class{},ot=class extends Y{},it=class extends Y{},nt=class extends j{constructor(..._0x5f0581){const _0x27eca8=a0_0x1f692e;super(),this[_0x27eca8(0x299)]=(0x0,er[_0x27eca8(0x66a)])(),this[_0x27eca8(0x299)][_0x27eca8(0x2ac)](this[_0x27eca8(0x297)]('create'),..._0x5f0581,async(_0x2c86fc,_0x5a4d38)=>{const _0x4b1dee=_0x27eca8;let _0x24fb2e=await this[_0x4b1dee(0x106)]({'request':_0x2c86fc,'schema':Ba,'ClassRef':Ze,'execute':(_0x1eb3fc,_0x2f5cac)=>J['createGroup'](_0x1eb3fc,_0x2f5cac)});_0x5a4d38[_0x4b1dee(0x555)](0xc9)[_0x4b1dee(0x2e5)](_0x24fb2e);})[_0x27eca8(0x650)](this['routerPath'](_0x27eca8(0x197)),..._0x5f0581,async(_0x56b1dc,_0x399524)=>{const _0x3f9c1c=_0x27eca8;let _0x24684f=await this[_0x3f9c1c(0x232)]({'request':_0x56b1dc,'schema':za,'ClassRef':et,'execute':(_0x312dca,_0x66c6bf)=>J[_0x3f9c1c(0x197)](_0x312dca,_0x66c6bf)});_0x399524[_0x3f9c1c(0x555)](0xc9)['json'](_0x24684f);})[_0x27eca8(0x650)](this['routerPath'](_0x27eca8(0x4b7)),..._0x5f0581,async(_0x245532,_0x3632fd)=>{const _0x5a977b=_0x27eca8;let _0x371d5c=await this[_0x5a977b(0x232)]({'request':_0x245532,'schema':Ha,'ClassRef':tt,'execute':(_0x187c6d,_0x3aaa18)=>J['groupDesc'](_0x187c6d,_0x3aaa18)});_0x3632fd[_0x5a977b(0x555)](0xc9)['json'](_0x371d5c);})['put'](this[_0x27eca8(0x297)](_0x27eca8(0x31f)),..._0x5f0581,async(_0x1f05ef,_0x4c8b1d)=>{const _0x450757=_0x27eca8;let _0x1ed69b=await this[_0x450757(0x232)]({'request':_0x1f05ef,'schema':Ka,'ClassRef':st,'execute':(_0x4d656c,_0x453fa8)=>J[_0x450757(0x31f)](_0x4d656c,_0x453fa8)});_0x4c8b1d['status'](0xc9)[_0x450757(0x2e5)](_0x1ed69b);})[_0x27eca8(0x650)](this['routerPath'](_0x27eca8(0x67d)),..._0x5f0581,async(_0x36d1d0,_0x50d92f)=>{const _0x54928b=_0x27eca8;let _0x2c1eb8=await this[_0x54928b(0x232)]({'request':_0x36d1d0,'schema':Qa,'ClassRef':at,'execute':(_0x189d62,_0xd6a2e2)=>J[_0x54928b(0x67d)](_0x189d62,_0xd6a2e2)});_0x50d92f['status'](0xc9)[_0x54928b(0x2e5)](_0x2c1eb8);})[_0x27eca8(0x650)](this[_0x27eca8(0x297)](_0x27eca8(0x1db)),..._0x5f0581,async(_0x3426f2,_0x3f2ae3)=>{const _0x4d20af=_0x27eca8;let _0x2b757c=await this[_0x4d20af(0x232)]({'request':_0x3426f2,'schema':Wa,'ClassRef':it,'execute':(_0x2f3184,_0x538787)=>J[_0x4d20af(0x1db)](_0x2f3184,_0x538787)});_0x3f2ae3[_0x4d20af(0x555)](0xc9)['json'](_0x2b757c);})[_0x27eca8(0x635)](this['routerPath']('findGroupInfos'),..._0x5f0581,async(_0x59014b,_0x188c2c)=>{const _0x47d08e=_0x27eca8;let _0x2377af=await this['groupValidate']({'request':_0x59014b,'schema':Se,'ClassRef':Y,'execute':(_0x36be2d,_0xf1b66b)=>J[_0x47d08e(0x59d)](_0x36be2d,_0xf1b66b)});_0x188c2c[_0x47d08e(0x555)](0xc8)[_0x47d08e(0x2e5)](_0x2377af);})[_0x27eca8(0x635)](this[_0x27eca8(0x297)]('findGroups'),..._0x5f0581,async(_0x200cbe,_0x441849)=>{const _0x12aac9=_0x27eca8;let _0x5f5977=await this[_0x12aac9(0x106)]({'request':_0x200cbe,'schema':M,'ClassRef':S,'execute':_0x3c89f2=>J['findGroups'](_0x3c89f2)});_0x441849['status'](0xc8)[_0x12aac9(0x2e5)](_0x5f5977);})[_0x27eca8(0x635)](this[_0x27eca8(0x297)]('participants'),..._0x5f0581,async(_0x1f4179,_0x144283)=>{const _0xfdb61b=_0x27eca8;let _0x27f467=await this['groupValidate']({'request':_0x1f4179,'schema':Se,'ClassRef':Y,'execute':(_0x2af28c,_0x57a511)=>J['findParticipants'](_0x2af28c,_0x57a511)});_0x144283[_0xfdb61b(0x555)](0xc8)[_0xfdb61b(0x2e5)](_0x27f467);})[_0x27eca8(0x635)](this[_0x27eca8(0x297)]('inviteCode'),..._0x5f0581,async(_0x329b8a,_0x443d3a)=>{const _0x2251fb=_0x27eca8;let _0x50f21a=await this[_0x2251fb(0x232)]({'request':_0x329b8a,'schema':Se,'ClassRef':Y,'execute':(_0x41f864,_0x2d05e1)=>J[_0x2251fb(0x561)](_0x41f864,_0x2d05e1)});_0x443d3a[_0x2251fb(0x555)](0xc8)['json'](_0x50f21a);})['put'](this[_0x27eca8(0x297)](_0x27eca8(0x3f7)),..._0x5f0581,async(_0x3df97a,_0x4826d1)=>{const _0x48731e=_0x27eca8;let _0x5d8acf=await this['joinGroupValidate']({'request':_0x3df97a,'schema':Ya,'ClassRef':rt,'execute':(_0x1a5cd5,_0x198a19)=>J[_0x48731e(0x3f7)](_0x1a5cd5,_0x198a19)});_0x4826d1[_0x48731e(0x555)](0xc9)[_0x48731e(0x2e5)](_0x5d8acf);})[_0x27eca8(0x650)](this[_0x27eca8(0x297)](_0x27eca8(0xb3)),..._0x5f0581,async(_0x3e0bb7,_0x45c250)=>{const _0x5cf89e=_0x27eca8;let _0x2bbb2a=await this[_0x5cf89e(0x232)]({'request':_0x3e0bb7,'schema':Se,'ClassRef':Y,'execute':(_0x2aff5e,_0x421fa8)=>J['revokeInviteCode'](_0x2aff5e,_0x421fa8)});_0x45c250[_0x5cf89e(0x555)](0xc9)[_0x5cf89e(0x2e5)](_0x2bbb2a);})[_0x27eca8(0x650)](this[_0x27eca8(0x297)](_0x27eca8(0x24c)),..._0x5f0581,async(_0x1db930,_0x37a800)=>{const _0x13eb55=_0x27eca8;let _0x1b2485=await this[_0x13eb55(0x232)]({'request':_0x1db930,'schema':Ga,'ClassRef':ot,'execute':(_0x54d5d0,_0x274117)=>J[_0x13eb55(0x2a0)](_0x54d5d0,_0x274117)});_0x37a800[_0x13eb55(0x555)](0xc9)[_0x13eb55(0x2e5)](_0x1b2485);})[_0x27eca8(0x46e)](this[_0x27eca8(0x297)](_0x27eca8(0x243)),..._0x5f0581,async(_0x5513bc,_0x17dde5)=>{const _0x52689a=_0x27eca8;let _0x5592b9=await this[_0x52689a(0x232)]({'request':_0x5513bc,'schema':{},'ClassRef':Y,'execute':(_0x2a5c39,_0x2e9e54)=>J['leaveGroup'](_0x2a5c39,_0x2e9e54)});_0x17dde5[_0x52689a(0x555)](0xc8)[_0x52689a(0x2e5)](_0x5592b9);});}},tr=require('express'),ct=class extends j{constructor(_0x5b25b7,..._0x28a232){const _0x19e211=a0_0x1f692e;super(),this[_0x19e211(0x193)]=_0x5b25b7,this['router']=(0x0,tr[_0x19e211(0x66a)])();let _0x251f27=_0x5b25b7['get'](_0x19e211(0x43b));this[_0x19e211(0x299)][_0x19e211(0x2ac)](_0x19e211(0xc7),..._0x28a232,async(_0x1a7cc9,_0x324138)=>{const _0x21db8b=_0x19e211;let {instanceName:_0x442fc9,apikey:_0x13c048,number:_0x17a0f5}=_0x1a7cc9[_0x21db8b(0x1ad)],_0x3fbbfa=await re[_0x21db8b(0xe5)]({'instanceName':_0x442fc9,'apikey':_0x13c048,'number':_0x17a0f5});return _0x324138[_0x21db8b(0x555)](0xc9)['json'](_0x3fbbfa);})[_0x19e211(0x650)](this[_0x19e211(0x297)]('restart'),..._0x28a232,async(_0x6269fe,_0x2e3a38)=>{const _0x5e28a6=_0x19e211;let _0x522fce=await this[_0x5e28a6(0x106)]({'request':_0x6269fe,'schema':M,'ClassRef':S,'execute':_0x4ddf94=>re[_0x5e28a6(0x262)](_0x4ddf94)});return _0x2e3a38['status'](0xc8)[_0x5e28a6(0x2e5)](_0x522fce);})['post'](this['routerPath']('connect'),..._0x28a232,async(_0x20a89c,_0x19e858)=>{const _0x4da82f=_0x19e211;let _0x2031ea=await this[_0x4da82f(0x106)]({'request':_0x20a89c,'schema':M,'ClassRef':S,'execute':_0x3db1a4=>re[_0x4da82f(0x175)](_0x3db1a4)});return _0x19e858[_0x4da82f(0x555)](0xc8)[_0x4da82f(0x2e5)](_0x2031ea);})[_0x19e211(0x635)](this[_0x19e211(0x297)](_0x19e211(0xd9)),..._0x28a232,async(_0x42e68a,_0x19edb9)=>{const _0x33b8ca=_0x19e211;let _0x2a3c64=await this['dataValidate']({'request':_0x42e68a,'schema':M,'ClassRef':S,'execute':_0x44aabd=>re['connectionState'](_0x44aabd)});return _0x19edb9[_0x33b8ca(0x555)](0xc8)[_0x33b8ca(0x2e5)](_0x2a3c64);})[_0x19e211(0x635)](this['routerPath']('fetchInstances',!0x1),..._0x28a232,async(_0x4d3d36,_0x1eabf2)=>{const _0x288d25=_0x19e211;let _0x1028e7=await this[_0x288d25(0x106)]({'request':_0x4d3d36,'schema':null,'ClassRef':S,'execute':_0x5080af=>re[_0x288d25(0x345)](_0x5080af)});return _0x1eabf2[_0x288d25(0x555)](0xc8)[_0x288d25(0x2e5)](_0x1028e7);})[_0x19e211(0x46e)](this['routerPath'](_0x19e211(0xc4)),..._0x28a232,async(_0x2fb0b0,_0x51fc32)=>{const _0x27cb7c=_0x19e211;let _0x5b5dbf=await this[_0x27cb7c(0x106)]({'request':_0x2fb0b0,'schema':M,'ClassRef':S,'execute':_0x475d8c=>re[_0x27cb7c(0xc4)](_0x475d8c)});return _0x51fc32['status'](0xc8)[_0x27cb7c(0x2e5)](_0x5b5dbf);})[_0x19e211(0x46e)](this[_0x19e211(0x297)]('delete'),..._0x28a232,async(_0x533c12,_0x4503d1)=>{const _0x8703eb=_0x19e211;let _0xec6a1b=await this['dataValidate']({'request':_0x533c12,'schema':M,'ClassRef':S,'execute':_0x49b882=>re[_0x8703eb(0x178)](_0x49b882)});return _0x4503d1[_0x8703eb(0x555)](0xc8)['json'](_0xec6a1b);});}},sr=require(a0_0x1f692e(0xb9)),ds=class{},W=class extends ds{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ee=class extends W{},gt=class extends W{},mt=class extends W{},ht=class extends W{},ft=class extends W{},yt=class extends W{},wt=class{},bt=class extends j{constructor(..._0x55ff3f){const _0x303f4b=a0_0x1f692e;super(),this[_0x303f4b(0x299)]=(0x0,sr['Router'])(),this[_0x303f4b(0x299)]['post'](this[_0x303f4b(0x297)](_0x303f4b(0x5d6)),..._0x55ff3f,async(_0x28278,_0x4ad029)=>{const _0x14f74c=_0x303f4b;let _0x23cb67=await this[_0x14f74c(0x106)]({'request':_0x28278,'schema':Sa,'ClassRef':lt,'execute':(_0x450c92,_0xddcc89)=>G[_0x14f74c(0x5d6)](_0x450c92,_0xddcc89)});return _0x4ad029[_0x14f74c(0x555)](0xc9)[_0x14f74c(0x2e5)](_0x23cb67);})[_0x303f4b(0x2ac)](this[_0x303f4b(0x297)](_0x303f4b(0x108)),..._0x55ff3f,async(_0x1f7bd5,_0x2a4b9e)=>{const _0x1e406b=_0x303f4b;let _0x12b311=await this[_0x1e406b(0x106)]({'request':_0x1f7bd5,'schema':va,'ClassRef':Ee,'execute':(_0x25127b,_0x2cab43)=>G[_0x1e406b(0x108)](_0x25127b,_0x2cab43)});return _0x2a4b9e['status'](0xc9)[_0x1e406b(0x2e5)](_0x12b311);})[_0x303f4b(0x2ac)](this[_0x303f4b(0x297)](_0x303f4b(0x6ab)),..._0x55ff3f,async(_0x64b5f9,_0x232955)=>{const _0x1bc5ff=_0x303f4b;let _0x3142e8=await this[_0x1bc5ff(0x106)]({'request':_0x64b5f9,'schema':Ta,'ClassRef':pt,'execute':(_0x3655e8,_0x31e120)=>G[_0x1bc5ff(0x6ab)](_0x3655e8,_0x31e120)});return _0x232955[_0x1bc5ff(0x555)](0xc9)[_0x1bc5ff(0x2e5)](_0x3142e8);})[_0x303f4b(0x2ac)](this['routerPath'](_0x303f4b(0x272)),..._0x55ff3f,async(_0x58746f,_0x5583eb)=>{const _0x347617=_0x303f4b;let _0x31286a=await this['dataValidate']({'request':_0x58746f,'schema':Na,'ClassRef':Ee,'execute':(_0x5d483f,_0x42db4e)=>G[_0x347617(0x272)](_0x5d483f,_0x42db4e)});return _0x5583eb[_0x347617(0x555)](0xc9)['json'](_0x31286a);})[_0x303f4b(0x2ac)](this[_0x303f4b(0x297)](_0x303f4b(0x679)),..._0x55ff3f,async(_0x444356,_0x580e40)=>{const _0xbf761c=_0x303f4b;let _0x5ee8f2=await this[_0xbf761c(0x106)]({'request':_0x444356,'schema':Aa,'ClassRef':mt,'execute':(_0x360698,_0x11c782)=>G['sendButtons'](_0x360698,_0x11c782)});return _0x580e40[_0xbf761c(0x555)](0xc9)[_0xbf761c(0x2e5)](_0x5ee8f2);})[_0x303f4b(0x2ac)](this[_0x303f4b(0x297)](_0x303f4b(0x146)),..._0x55ff3f,async(_0x4c7df2,_0x2662a2)=>{const _0x211029=_0x303f4b;let _0x3c1a1a=await this[_0x211029(0x106)]({'request':_0x4c7df2,'schema':Oa,'ClassRef':ht,'execute':(_0x55264b,_0x542509)=>G[_0x211029(0x146)](_0x55264b,_0x542509)});return _0x2662a2[_0x211029(0x555)](0xc9)[_0x211029(0x2e5)](_0x3c1a1a);})['post'](this[_0x303f4b(0x297)]('sendList'),..._0x55ff3f,async(_0x26203d,_0xe3c828)=>{const _0x3294f1=_0x303f4b;let _0x39bfd3=await this[_0x3294f1(0x106)]({'request':_0x26203d,'schema':Ia,'ClassRef':ft,'execute':(_0x2a5be8,_0x5a0d63)=>G['sendList'](_0x2a5be8,_0x5a0d63)});return _0xe3c828[_0x3294f1(0x555)](0xc9)[_0x3294f1(0x2e5)](_0x39bfd3);})[_0x303f4b(0x2ac)](this[_0x303f4b(0x297)]('sendContact'),..._0x55ff3f,async(_0x45c8c5,_0x1ad132)=>{const _0x1610f3=_0x303f4b;let _0x541fb3=await this[_0x1610f3(0x106)]({'request':_0x45c8c5,'schema':Da,'ClassRef':yt,'execute':(_0x246ca0,_0x37b69d)=>G['sendContact'](_0x246ca0,_0x37b69d)});return _0x1ad132[_0x1610f3(0x555)](0xc9)[_0x1610f3(0x2e5)](_0x541fb3);})[_0x303f4b(0x2ac)](this[_0x303f4b(0x297)](_0x303f4b(0x6dc)),..._0x55ff3f,async(_0xf5e050,_0x327ea2)=>{const _0x128d72=_0x303f4b;let _0x3bf62d=await this[_0x128d72(0x106)]({'request':_0xf5e050,'schema':xa,'ClassRef':wt,'execute':(_0x5c81c9,_0x11c513)=>G[_0x128d72(0x6dc)](_0x5c81c9,_0x11c513)});return _0x327ea2[_0x128d72(0x555)](0xc9)[_0x128d72(0x2e5)](_0x3bf62d);})[_0x303f4b(0x2ac)](this[_0x303f4b(0x297)](_0x303f4b(0x3ad)),..._0x55ff3f,async(_0x590fe8,_0x3b96dd)=>{const _0x4e9f3f=_0x303f4b;let _0x388e9b=await this[_0x4e9f3f(0x106)]({'request':_0x590fe8,'schema':Ra,'ClassRef':dt,'execute':(_0x167d7f,_0x39787b)=>G[_0x4e9f3f(0x3ad)](_0x167d7f,_0x39787b)});return _0x3b96dd[_0x4e9f3f(0x555)](0xc9)['json'](_0x388e9b);})[_0x303f4b(0x2ac)](this[_0x303f4b(0x297)](_0x303f4b(0x2e0)),..._0x55ff3f,async(_0x3262dc,_0x1dd4d9)=>{const _0x36f6b5=_0x303f4b;let _0x56804b=await this[_0x36f6b5(0x106)]({'request':_0x3262dc,'schema':Ma,'ClassRef':ut,'execute':(_0x2edd84,_0x4989d2)=>G[_0x36f6b5(0x2e0)](_0x2edd84,_0x4989d2)});return _0x1dd4d9[_0x36f6b5(0x555)](0xc9)[_0x36f6b5(0x2e5)](_0x56804b);})[_0x303f4b(0x2ac)](this[_0x303f4b(0x297)](_0x303f4b(0x187)),..._0x55ff3f,async(_0x2c5beb,_0x4efcc6)=>{const _0x4fefcb=_0x303f4b;let _0x33747a=await this[_0x4fefcb(0x106)]({'request':_0x2c5beb,'schema':Ca,'ClassRef':gt,'execute':(_0x242134,_0xf9041e)=>G['sendSticker'](_0x242134,_0xf9041e)});return _0x4efcc6['status'](0xc9)[_0x4fefcb(0x2e5)](_0x33747a);});}},ar=require(a0_0x1f692e(0xb9)),St=class{},Et=class extends j{constructor(..._0x5956e2){const _0x461850=a0_0x1f692e;super(),this['router']=(0x0,ar[_0x461850(0x66a)])(),this[_0x461850(0x299)][_0x461850(0x2ac)](this[_0x461850(0x297)](_0x461850(0x6c5)),..._0x5956e2,async(_0x559431,_0x123c51)=>{const _0x2d5330=_0x461850;let _0x35601e=await this[_0x2d5330(0x106)]({'request':_0x559431,'schema':Xa,'ClassRef':St,'execute':(_0x41fd33,_0x50d471)=>ps['createWebhook'](_0x41fd33,_0x50d471)});_0x123c51['status'](0xc9)[_0x2d5330(0x2e5)](_0x35601e);})[_0x461850(0x635)](this[_0x461850(0x297)](_0x461850(0x4fe)),..._0x5956e2,async(_0x5b7855,_0x368ecb)=>{const _0x1587f4=_0x461850;let _0x44483c=await this[_0x1587f4(0x106)]({'request':_0x5b7855,'schema':M,'ClassRef':S,'execute':_0x352b3e=>ps[_0x1587f4(0x51f)](_0x352b3e)});_0x368ecb[_0x1587f4(0x555)](0xc8)[_0x1587f4(0x2e5)](_0x44483c);});}},rr=require(a0_0x1f692e(0xb9)),f=new v(a0_0x1f692e(0x13b)),Ct=class extends j{constructor(..._0x14df7b){const _0x61c835=a0_0x1f692e;super(),this['router']=(0x0,rr[_0x61c835(0x66a)])(),this['router'][_0x61c835(0x2ac)](this[_0x61c835(0x297)](_0x61c835(0x5ab)),..._0x14df7b,async(_0x3e9f6b,_0x40fe9a)=>{const _0x16ba16=_0x61c835;let _0x3f0e17=_0x3e9f6b[_0x16ba16(0x1ad)];f['verbose'](_0x16ba16(0x63e)),f[_0x16ba16(0x4f3)](_0x16ba16(0x4a4)),f[_0x16ba16(0x4f3)](_0x3e9f6b[_0x16ba16(0x1ad)]);let _0x51c2aa=await this['dataValidate']({'request':_0x3e9f6b,'schema':M,'ClassRef':S,'execute':_0x103f8f=>T[_0x16ba16(0x3f1)](_0x103f8f,_0x3f0e17)});_0x40fe9a[_0x16ba16(0x555)](0xc8)[_0x16ba16(0x2e5)](_0x51c2aa);})['get'](this[_0x61c835(0x297)](_0x61c835(0x5ab)),..._0x14df7b,async(_0x32bcf7,_0x20e92c)=>{const _0x2bbf27=_0x61c835;let _0x385760=await this['dataValidate']({'request':_0x32bcf7,'schema':M,'ClassRef':S,'execute':_0x291ee4=>T[_0x2bbf27(0x2b5)](_0x291ee4)});_0x20e92c[_0x2bbf27(0x555)](0xc8)[_0x2bbf27(0x2e5)](_0x385760);})[_0x61c835(0x46e)](this[_0x61c835(0x297)](_0x61c835(0x3e5)),..._0x14df7b,async(_0x51f705,_0x2d1a76)=>{const _0x40b021=_0x61c835;f[_0x40b021(0x4f3)]('request\x20received\x20in\x20deleteDoneMessages');let _0x30fa23=await this['dataValidate']({'request':_0x51f705,'schema':M,'ClassRef':S,'execute':_0x3bdda4=>T[_0x40b021(0x3e5)](_0x3bdda4)});_0x2d1a76[_0x40b021(0x555)](0xc8)[_0x40b021(0x2e5)](_0x30fa23);})[_0x61c835(0x2ac)](this[_0x61c835(0x297)](_0x61c835(0x53f)),..._0x14df7b,async(_0x39d888,_0x51572c)=>{const _0x512a0f=_0x61c835;let _0x515c3a=_0x39d888['body'];f[_0x512a0f(0x4f3)](_0x512a0f(0x68f)),f[_0x512a0f(0x4f3)](_0x512a0f(0x4a4)),f[_0x512a0f(0x4f3)](_0x39d888['body']);let _0x11b8e7=await this[_0x512a0f(0x106)]({'request':_0x39d888,'schema':M,'ClassRef':S,'execute':_0x48d83b=>T['startFlow'](_0x48d83b,_0x515c3a)});_0x51572c[_0x512a0f(0x555)](0xc8)[_0x512a0f(0x2e5)](_0x11b8e7);})['get'](this['routerPath']('getAutomateSystem'),..._0x14df7b,async(_0x5b183d,_0x66d388)=>{const _0xa2fa2d=_0x61c835;f[_0xa2fa2d(0x4f3)](_0xa2fa2d(0x41d));let _0x29c537=await this[_0xa2fa2d(0x106)]({'request':_0x5b183d,'schema':M,'ClassRef':S,'execute':_0x5ce23d=>T['getAutomateSystem'](_0x5ce23d)});_0x66d388['status'](0xc8)[_0xa2fa2d(0x2e5)](_0x29c537);})[_0x61c835(0x635)](this[_0x61c835(0x297)](_0x61c835(0x198)),..._0x14df7b,async(_0x12c14e,_0x2c678b)=>{const _0x21e45b=_0x61c835;f['verbose'](_0x21e45b(0x125));let _0x4efcdf=await this[_0x21e45b(0x106)]({'request':_0x12c14e,'schema':M,'ClassRef':S,'execute':_0x12bf29=>T[_0x21e45b(0x4cd)](_0x12bf29)});_0x2c678b[_0x21e45b(0x555)](0xc8)[_0x21e45b(0x2e5)](_0x4efcdf);})['post'](this[_0x61c835(0x297)]('updateAgent'),..._0x14df7b,async(_0x276986,_0x123da6)=>{const _0x57e28c=_0x61c835;let _0x590392=_0x276986[_0x57e28c(0x1ad)];f[_0x57e28c(0x4f3)]('request\x20received\x20in\x20updateAgent'),f['verbose']('request\x20body:\x20'),f['verbose'](_0x276986[_0x57e28c(0x1ad)]);let _0x5b11ee=await this[_0x57e28c(0x106)]({'request':_0x276986,'schema':M,'ClassRef':S,'execute':_0x3ad8df=>T[_0x57e28c(0x520)](_0x3ad8df,_0x590392)});_0x123da6['status'](0xc8)[_0x57e28c(0x2e5)](_0x5b11ee);})[_0x61c835(0x2ac)](this[_0x61c835(0x297)](_0x61c835(0x36e)),..._0x14df7b,async(_0x3725f7,_0x4b2b18)=>{const _0x3e7969=_0x61c835;let _0x36ebab=_0x3725f7[_0x3e7969(0x1ad)];f[_0x3e7969(0x4f3)](_0x3e7969(0x4bc)),f[_0x3e7969(0x4f3)]('request\x20body:\x20'),f['verbose'](_0x3725f7[_0x3e7969(0x1ad)]);let _0x45da62=await this[_0x3e7969(0x106)]({'request':_0x3725f7,'schema':M,'ClassRef':S,'execute':_0x3a2e29=>T[_0x3e7969(0x36e)](_0x3a2e29,_0x36ebab)});_0x4b2b18[_0x3e7969(0x555)](0xc8)[_0x3e7969(0x2e5)](_0x45da62);})[_0x61c835(0x2ac)](this['routerPath']('updateFlowConfig'),..._0x14df7b,async(_0xc29c4b,_0x3533eb)=>{const _0x4a6a54=_0x61c835;let _0x2536e4=_0xc29c4b[_0x4a6a54(0x1ad)];f['verbose']('request\x20received\x20in\x20updateFlowConfig'),f[_0x4a6a54(0x4f3)](_0x4a6a54(0x4a4)),f[_0x4a6a54(0x4f3)](_0xc29c4b[_0x4a6a54(0x1ad)]);let _0x538334=await this[_0x4a6a54(0x106)]({'request':_0xc29c4b,'schema':M,'ClassRef':S,'execute':_0x36aa92=>T[_0x4a6a54(0x695)](_0x36aa92,_0x2536e4)});_0x3533eb[_0x4a6a54(0x555)](0xc8)['json'](_0x538334);})[_0x61c835(0x2ac)](this['routerPath'](_0x61c835(0x1a1)),..._0x14df7b,async(_0x24b441,_0x325a36)=>{const _0x121d1c=_0x61c835;let _0x3d4266=_0x24b441[_0x121d1c(0x1ad)];f[_0x121d1c(0x4f3)](_0x121d1c(0x16d)),f[_0x121d1c(0x4f3)]('request\x20body:\x20'),f[_0x121d1c(0x4f3)](_0x24b441[_0x121d1c(0x1ad)]);let _0x2b3313=await this[_0x121d1c(0x106)]({'request':_0x24b441,'schema':M,'ClassRef':S,'execute':_0x11cd2c=>T[_0x121d1c(0x1a1)](_0x11cd2c,_0x3d4266)});_0x325a36[_0x121d1c(0x555)](0xc8)[_0x121d1c(0x2e5)](_0x2b3313);})[_0x61c835(0x2ac)](this['routerPath'](_0x61c835(0x38a)),..._0x14df7b,async(_0x18679a,_0x516e41)=>{const _0x396ac0=_0x61c835;let _0x4a3b9f=_0x18679a[_0x396ac0(0x1ad)];f[_0x396ac0(0x4f3)](_0x396ac0(0x3ae)),f[_0x396ac0(0x4f3)](_0x396ac0(0x4a4)),f['verbose'](_0x18679a[_0x396ac0(0x1ad)]);let _0x3e052e=await this[_0x396ac0(0x106)]({'request':_0x18679a,'schema':M,'ClassRef':S,'execute':_0x420e32=>T['fetchConversation'](_0x420e32,_0x4a3b9f)});_0x516e41[_0x396ac0(0x555)](0xc8)['json'](_0x3e052e);})[_0x61c835(0x2ac)](this[_0x61c835(0x297)](_0x61c835(0x8e)),..._0x14df7b,async(_0x4012bb,_0x2e5e9b)=>{const _0x40273c=_0x61c835;let _0x10088e=_0x4012bb[_0x40273c(0x1ad)];f[_0x40273c(0x4f3)](_0x40273c(0x3df)),f[_0x40273c(0x4f3)](_0x40273c(0x4a4)),f['verbose'](_0x4012bb[_0x40273c(0x1ad)]);let _0x3460b0=await this[_0x40273c(0x106)]({'request':_0x4012bb,'schema':M,'ClassRef':S,'execute':_0xd0806b=>T[_0x40273c(0x8e)](_0xd0806b,_0x10088e)});_0x2e5e9b['status'](0xc8)[_0x40273c(0x2e5)](_0x3460b0);})[_0x61c835(0x46e)](this['routerPath'](_0x61c835(0xf9)),..._0x14df7b,async(_0x4881a1,_0x58d2a0)=>{const _0x4916ad=_0x61c835;let _0x370d87=_0x4881a1[_0x4916ad(0x1ad)];f[_0x4916ad(0x4f3)](_0x4916ad(0x593)),f[_0x4916ad(0x4f3)](_0x4916ad(0x4a4)),f['verbose'](_0x4881a1[_0x4916ad(0x1ad)]);let _0x3f8a13=await this[_0x4916ad(0x106)]({'request':_0x4881a1,'schema':M,'ClassRef':S,'execute':_0x31a966=>T['deleteConversation'](_0x31a966,_0x370d87)});_0x58d2a0[_0x4916ad(0x555)](0xc8)['json'](_0x3f8a13);})[_0x61c835(0x2ac)](this[_0x61c835(0x297)]('createflow'),..._0x14df7b,async(_0x23daa3,_0x284927)=>{const _0x27f9c0=_0x61c835;let _0x58f1ca=_0x23daa3[_0x27f9c0(0x1ad)];f[_0x27f9c0(0x4f3)](_0x27f9c0(0x5d2)),f['verbose']('request\x20body:\x20'),f[_0x27f9c0(0x4f3)](_0x23daa3[_0x27f9c0(0x1ad)]);let _0x221ffd=await this[_0x27f9c0(0x106)]({'request':_0x23daa3,'schema':M,'ClassRef':S,'execute':_0xa6bc0a=>T['createFlow'](_0xa6bc0a,_0x58f1ca)});_0x284927['status'](0xc8)['json'](_0x221ffd);})[_0x61c835(0x2ac)](this[_0x61c835(0x297)](_0x61c835(0x306)),..._0x14df7b,async(_0x3fe450,_0xc8a9fd)=>{const _0x449c2f=_0x61c835;let _0x42c145=_0x3fe450[_0x449c2f(0x1ad)];f[_0x449c2f(0x4f3)](_0x449c2f(0xbe)),f[_0x449c2f(0x4f3)]('request\x20body:\x20'),f[_0x449c2f(0x4f3)](_0x3fe450[_0x449c2f(0x1ad)]),delete _0x42c145[_0x449c2f(0x367)],delete _0x42c145[_0x449c2f(0x112)],delete _0x42c145[_0x449c2f(0x355)],delete _0x42c145[_0x449c2f(0x65f)];let _0x1923d1=await this[_0x449c2f(0x106)]({'request':_0x3fe450,'schema':M,'ClassRef':S,'execute':_0x41e54e=>T[_0x449c2f(0x41f)](_0x41e54e,_0x42c145)});_0xc8a9fd['status'](0xc8)[_0x449c2f(0x2e5)](_0x1923d1);})[_0x61c835(0x2ac)](this[_0x61c835(0x297)](_0x61c835(0x1a6)),..._0x14df7b,async(_0x49299a,_0x44a2b8)=>{const _0x10bdd3=_0x61c835;let _0x329811=_0x49299a[_0x10bdd3(0x1ad)];f[_0x10bdd3(0x4f3)](_0x10bdd3(0xbe)),f[_0x10bdd3(0x4f3)](_0x10bdd3(0x4a4)),f[_0x10bdd3(0x4f3)](_0x49299a[_0x10bdd3(0x1ad)]);let _0x570495=await this[_0x10bdd3(0x106)]({'request':_0x49299a,'schema':M,'ClassRef':S,'execute':_0x691ee0=>T[_0x10bdd3(0x266)](_0x691ee0,_0x329811)});_0x44a2b8[_0x10bdd3(0x555)](0xc8)[_0x10bdd3(0x2e5)](_0x570495);})[_0x61c835(0x2ac)](this[_0x61c835(0x297)](_0x61c835(0x356)),..._0x14df7b,async(_0x94b81e,_0x177901)=>{const _0x103f51=_0x61c835;let _0x4144c6=_0x94b81e[_0x103f51(0x1ad)];f[_0x103f51(0x4f3)](_0x103f51(0xbe)),f[_0x103f51(0x4f3)]('request\x20body:\x20'),f[_0x103f51(0x4f3)](_0x94b81e[_0x103f51(0x1ad)]);let _0x6b315c=await this[_0x103f51(0x106)]({'request':_0x94b81e,'schema':M,'ClassRef':S,'execute':_0x383897=>T['editFlowReply'](_0x383897,_0x4144c6)});_0x177901['status'](0xc8)[_0x103f51(0x2e5)](_0x6b315c);})[_0x61c835(0x2ac)](this[_0x61c835(0x297)](_0x61c835(0x18d)),..._0x14df7b,async(_0x2e07e5,_0x4aa73d)=>{const _0x11d654=_0x61c835;let _0x1a631a=_0x2e07e5[_0x11d654(0x1ad)];f[_0x11d654(0x4f3)](_0x11d654(0xbe)),f[_0x11d654(0x4f3)](_0x11d654(0x4a4)),f['verbose'](_0x2e07e5[_0x11d654(0x1ad)]);let _0x22593a=await this[_0x11d654(0x106)]({'request':_0x2e07e5,'schema':M,'ClassRef':S,'execute':_0x51a066=>T['editFlowVaredit'](_0x51a066,_0x1a631a)});_0x4aa73d[_0x11d654(0x555)](0xc8)[_0x11d654(0x2e5)](_0x22593a);})[_0x61c835(0x2ac)](this['routerPath'](_0x61c835(0x183)),..._0x14df7b,async(_0x48133c,_0x5da49f)=>{const _0x5cc5f=_0x61c835;let _0x2adc34=_0x48133c[_0x5cc5f(0x1ad)];f[_0x5cc5f(0x4f3)](_0x5cc5f(0x27f)),f[_0x5cc5f(0x4f3)]('request\x20body:\x20'),f['verbose'](_0x48133c[_0x5cc5f(0x1ad)]);let _0x3a392b=await this['dataValidate']({'request':_0x48133c,'schema':M,'ClassRef':S,'execute':_0x44ab04=>T['editFlowGroup'](_0x44ab04,_0x2adc34)});_0x5da49f['status'](0xc8)[_0x5cc5f(0x2e5)](_0x3a392b);})[_0x61c835(0x2ac)](this[_0x61c835(0x297)](_0x61c835(0x55d)),..._0x14df7b,async(_0x324e2b,_0x7a0b99)=>{const _0x572bce=_0x61c835;let _0x297ed8=_0x324e2b[_0x572bce(0x1ad)];f[_0x572bce(0x4f3)]('request\x20received\x20in\x20editFlowcondition'),f[_0x572bce(0x4f3)](_0x572bce(0x4a4)),f[_0x572bce(0x4f3)](_0x324e2b[_0x572bce(0x1ad)]);let _0x4dfa57=await this[_0x572bce(0x106)]({'request':_0x324e2b,'schema':M,'ClassRef':S,'execute':_0x3763f9=>T[_0x572bce(0x21f)](_0x3763f9,_0x297ed8)});_0x7a0b99[_0x572bce(0x555)](0xc8)['json'](_0x4dfa57);})[_0x61c835(0x2ac)](this[_0x61c835(0x297)](_0x61c835(0x1b2)),..._0x14df7b,async(_0x29cfec,_0x2e10d7)=>{const _0x1222b1=_0x61c835;let _0x19fcb6=_0x29cfec[_0x1222b1(0x1ad)];f[_0x1222b1(0x4f3)]('request\x20received\x20in\x20editFlowvariable'),f['verbose']('request\x20body:\x20'),f[_0x1222b1(0x4f3)](_0x29cfec['body']);let _0xb76e30=await this[_0x1222b1(0x106)]({'request':_0x29cfec,'schema':M,'ClassRef':S,'execute':_0x225fff=>T[_0x1222b1(0x319)](_0x225fff,_0x19fcb6)});_0x2e10d7['status'](0xc8)['json'](_0xb76e30);})[_0x61c835(0x2ac)](this['routerPath'](_0x61c835(0x627)),..._0x14df7b,async(_0x3c498b,_0xdaebdf)=>{const _0x32ecc2=_0x61c835;let _0x47ec0f=_0x3c498b[_0x32ecc2(0x1ad)];f[_0x32ecc2(0x4f3)](_0x32ecc2(0x6a3)),f[_0x32ecc2(0x4f3)]('request\x20body:\x20'),f[_0x32ecc2(0x4f3)](_0x3c498b[_0x32ecc2(0x1ad)]);let _0x2e9d6f=await this[_0x32ecc2(0x106)]({'request':_0x3c498b,'schema':M,'ClassRef':S,'execute':_0x2858ad=>T['getFlow'](_0x2858ad,_0x47ec0f)});_0xdaebdf[_0x32ecc2(0x555)](0xc8)[_0x32ecc2(0x2e5)](_0x2e9d6f);})[_0x61c835(0x46e)](this[_0x61c835(0x297)](_0x61c835(0x58e)),..._0x14df7b,async(_0xc72374,_0x21dbed)=>{const _0x10cf1c=_0x61c835;let _0x3d44df=_0xc72374[_0x10cf1c(0x1ad)];f['verbose'](_0x10cf1c(0x34f)),f[_0x10cf1c(0x4f3)](_0x10cf1c(0x4a4)),f[_0x10cf1c(0x4f3)](_0xc72374[_0x10cf1c(0x1ad)]);let _0x2a130c=await this[_0x10cf1c(0x106)]({'request':_0xc72374,'schema':M,'ClassRef':S,'execute':_0x4e695b=>T['deleteFlow'](_0x4e695b,_0x3d44df)});_0x21dbed[_0x10cf1c(0x555)](0xc8)['json'](_0x2a130c);})['get'](this[_0x61c835(0x297)](_0x61c835(0x49e)),..._0x14df7b,async(_0x24565d,_0x43eb8a)=>{const _0x969ce5=_0x61c835;f[_0x969ce5(0x4f3)](_0x969ce5(0x1d8));let _0xe80d06=await this[_0x969ce5(0x106)]({'request':_0x24565d,'schema':M,'ClassRef':S,'execute':_0x591569=>T[_0x969ce5(0x403)](_0x591569)});_0x43eb8a[_0x969ce5(0x555)](0xc8)[_0x969ce5(0x2e5)](_0xe80d06);});}},cr=R(require(a0_0x1f692e(0x653))),X={};function or(_0x235488,_0x3d2d0d,_0x2c25ce,_0xc83b1e){X[_0x235488]||(X[_0x235488]={}),X[_0x235488][_0x3d2d0d]={'id':_0x3d2d0d,'response':_0x2c25ce,'events':_0xc83b1e};}function ir(_0x53c309,_0x5b7a9d){!X[_0x53c309]||!X[_0x53c309][_0x5b7a9d]||delete X[_0x53c309][_0x5b7a9d];}function q(_0x33ad85,_0x1cbcfa,_0x513037){const _0x5caacb=a0_0x1f692e;if(!X[_0x33ad85])return;let _0x36d194='data:\x20'+JSON[_0x5caacb(0x14a)](_0x513037)+'\x0a\x0a';Object[_0x5caacb(0x513)](X[_0x33ad85])['forEach'](_0x2b58ec=>{const _0x503486=_0x5caacb;_0x2b58ec[_0x503486(0x50a)][_0x503486(0xe4)](_0x1cbcfa)&&_0x2b58ec[_0x503486(0xff)][_0x503486(0x32b)](_0x36d194);});}function nr(){const _0x2b7170=a0_0x1f692e;let _0xbd2bee={};for(let _0x1e5d4f in X)_0xbd2bee[_0x1e5d4f]=Object[_0x2b7170(0x513)](X[_0x1e5d4f])['map'](_0x16cdba=>({'id':_0x16cdba['id'],'events':_0x16cdba[_0x2b7170(0x50a)]}));return _0xbd2bee;}var lr=require(a0_0x1f692e(0x130)),ms=require(a0_0x1f692e(0x557)),gs=class{},no=new ms[(a0_0x1f692e(0xac))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),co=new ms[(a0_0x1f692e(0xac))]({'_id':{'type':String,'default':a0_0x1f692e(0x145)},'WebhookGlobal':{'type':no},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),he=N?.[a0_0x1f692e(0x18f)](gs[a0_0x1f692e(0x543)],co,a0_0x1f692e(0x439)),lo=cr[a0_0x1f692e(0x205)][a0_0x1f692e(0x317)](__dirname,a0_0x1f692e(0x3bb)),vt=(0x0,Mt[a0_0x1f692e(0x66a)])(),uo=b[a0_0x1f692e(0x635)](a0_0x1f692e(0x43b))[a0_0x1f692e(0x337)],te=[ha,fa,ba[uo]];vt[a0_0x1f692e(0x665)](a0_0x1f692e(0x6ac),Mt[a0_0x1f692e(0x205)][a0_0x1f692e(0x1c2)](lo))[a0_0x1f692e(0x635)]('/events/:instance',async(_0x2e4afb,_0x322c38)=>{const _0x134d67=a0_0x1f692e;console['log'](_0x134d67(0x4d8));let _0x48e192=_0x2e4afb[_0x134d67(0x434)][_0x134d67(0x387)],_0x1063d7=(_0x2e4afb[_0x134d67(0x49c)][_0x134d67(0x50a)]||'')[_0x134d67(0x5ca)](','),_0x42247d=(0x0,lr['v4'])();console[_0x134d67(0x671)](_0x134d67(0x566),_0x48e192),console['log']('Subscribed\x20Events:',_0x1063d7);let _0x5aa744=b[_0x134d67(0x635)](_0x134d67(0x43b))[_0x134d67(0x334)],_0x537260=_0x2e4afb[_0x134d67(0x49c)][_0x134d67(0x2aa)];if(console[_0x134d67(0x671)](_0x134d67(0xd7),_0x537260),_0x5aa744['KEY']!==_0x537260){console[_0x134d67(0x671)](_0x134d67(0x14e));try{let _0x460eb4=await ce[_0x134d67(0xd2)][_0x134d67(0x4fe)](_0x48e192);if(console['log'](_0x134d67(0xdf),_0x460eb4),!_0x460eb4||_0x460eb4['apikey']!==_0x537260)return console[_0x134d67(0x671)](_0x134d67(0x504)),_0x322c38[_0x134d67(0x555)](0x191)[_0x134d67(0x5d3)]('API\x20Key\x20inválida.');}catch(_0x10573a){return console[_0x134d67(0x6ad)](_0x134d67(0x30e),_0x10573a),_0x322c38[_0x134d67(0x555)](0x191)[_0x134d67(0x5d3)](_0x134d67(0x3be));}}if(!await We(_0x48e192))return _0x322c38['status'](0x194)['send'](_0x134d67(0x158));_0x322c38[_0x134d67(0x5eb)](_0x134d67(0x1d3),_0x134d67(0x2a9)),_0x322c38[_0x134d67(0x5eb)](_0x134d67(0x4da),'no-cache'),_0x322c38[_0x134d67(0x5eb)]('Connection',_0x134d67(0x43a)),_0x322c38[_0x134d67(0x32e)]();let _0x42f563=_0x134d67(0x612)+JSON[_0x134d67(0x14a)]({'info':_0x134d67(0x18b)})+'\x0a\x0a';_0x322c38[_0x134d67(0x32b)](_0x42f563),or(_0x48e192,_0x42247d,_0x322c38,_0x1063d7),_0x2e4afb['on']('close',()=>{const _0x151053=_0x134d67;console[_0x151053(0x671)](_0x151053(0x476)+_0x48e192),ir(_0x48e192,_0x42247d);});}),vt[a0_0x1f692e(0x635)](a0_0x1f692e(0x9d),(_0x2dfad8,_0x306d93)=>{const _0x1771e2=a0_0x1f692e;let _0xec7211=nr();_0x306d93[_0x1771e2(0x2e5)](_0xec7211);})[a0_0x1f692e(0x635)]('/',(_0x29df24,_0x175fd7)=>{const _0x5819dc=a0_0x1f692e;let _0x1e2e50=b[_0x5819dc(0x635)](_0x5819dc(0x54c)),_0x55fbe6=_0x1e2e50&&_0x1e2e50['FULLCHAIN'][_0x5819dc(0x5ca)]('/')[0x4];if(_0x55fbe6){let _0x498012=encodeURIComponent(_0x5819dc(0x269)+_0x55fbe6);_0x175fd7['redirect'](_0x5819dc(0x6c3)+_0x498012);}else _0x175fd7['redirect'](_0x5819dc(0x4c5));})[a0_0x1f692e(0x650)]('/exit',...te,async(_0x29e245,_0x485d99)=>{const _0x194272=a0_0x1f692e;try{console['log']('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x485d99[_0x194272(0x555)](0xc8)[_0x194272(0x2e5)]({'message':_0x194272(0x693)}),_0x485d99['on'](_0x194272(0x6df),()=>process[_0x194272(0x639)](0x0));}catch(_0x58d4a8){console['error']('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x58d4a8),_0x485d99[_0x194272(0x555)](0x1f4)[_0x194272(0x2e5)]({'message':_0x194272(0x43c)});}})[a0_0x1f692e(0x650)](a0_0x1f692e(0x554),...te,async(_0x34e07d,_0x1a9fbc)=>{const _0x5c0b8b=a0_0x1f692e;try{let _0x124d77=_0x34e07d[_0x5c0b8b(0x1ad)];await he[_0x5c0b8b(0x6b6)]({},{'$set':_0x124d77},{'upsert':!0x0});let _0x48b800=await he['findOne']();_0x1a9fbc[_0x5c0b8b(0x2e5)](_0x48b800);}catch(_0x2775ad){_0x1a9fbc[_0x5c0b8b(0x555)](0x190)[_0x5c0b8b(0x5d3)](_0x2775ad[_0x5c0b8b(0x5f0)]);}})['get'](a0_0x1f692e(0x554),...te,async(_0xeca342,_0x246dde)=>{const _0x5e7f3b=a0_0x1f692e;try{let _0x4c6a76=await he[_0x5e7f3b(0xc8)]();if(!_0x4c6a76)return _0x246dde[_0x5e7f3b(0x2e5)]({});_0x246dde[_0x5e7f3b(0x2e5)](_0x4c6a76);}catch(_0x6b9adf){_0x246dde['status'](0x1f4)[_0x5e7f3b(0x5d3)](_0x6b9adf[_0x5e7f3b(0x5f0)]);}})[a0_0x1f692e(0x665)]('/instance',new ct(b,...te)[a0_0x1f692e(0x299)])[a0_0x1f692e(0x665)](a0_0x1f692e(0x2e3),new bt(...te)[a0_0x1f692e(0x299)])['use'](a0_0x1f692e(0x413),new Xe(...te)['router'])['use']('/group',new nt(...te)['router'])[a0_0x1f692e(0x665)](a0_0x1f692e(0x23b),new Et(...te)[a0_0x1f692e(0x299)])[a0_0x1f692e(0x665)](a0_0x1f692e(0x4b6),new Ct(...te)[a0_0x1f692e(0x299)]);var m=class{constructor(..._0x2ff373){const _0x461bd=a0_0x1f692e;throw{'status':0x190,'error':_0x461bd(0x2d3),'message':_0x2ff373[_0x461bd(0x3f3)]>0x0?_0x2ff373:void 0x0};}},ee=class{constructor(..._0x485107){const _0x3b9697=a0_0x1f692e;throw{'status':0x191,'error':_0x3b9697(0x1d6),'message':_0x485107[_0x3b9697(0x3f3)]>0x0?_0x485107:void 0x0};}},K=class{constructor(..._0x37207d){const _0x10d1cf=a0_0x1f692e;throw{'status':0x193,'error':_0x10d1cf(0xd4),'message':_0x37207d[_0x10d1cf(0x3f3)]>0x0?_0x37207d:void 0x0};}},L=class{constructor(..._0x21603d){throw{'status':0x194,'error':'Not\x20Found','message':_0x21603d['length']>0x0?_0x21603d:void 0x0};}},O=class{constructor(..._0x4d1733){const _0x6d342e=a0_0x1f692e;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x4d1733[_0x6d342e(0x3f3)]>0x0?_0x4d1733:void 0x0};}},le=require(a0_0x1f692e(0xa0));async function hs(_0x5c55c9){const _0x1fb138=a0_0x1f692e;let _0x8e0da=new v(hs[_0x1fb138(0x543)]),_0x1294a7=N[_0x1fb138(0x84)](),_0x3cb863=_0x1294a7['db'](b[_0x1fb138(0x635)](_0x1fb138(0x2ef))['CONNECTION'][_0x1fb138(0x210)]+_0x1fb138(0x43f))[_0x1fb138(0x676)](_0x5c55c9),_0x3272d8=async(_0x54d917,_0x18f526)=>{const _0x1547b7=_0x1fb138;try{return await _0x1294a7['connect'](),await _0x3cb863[_0x1547b7(0x5b9)]({'_id':_0x18f526},JSON['parse'](JSON[_0x1547b7(0x14a)](_0x54d917,le['BufferJSON'][_0x1547b7(0x2bb)])),{'upsert':!0x0});}catch{}},_0x38b81b=async _0x2493bb=>{const _0x2a87ff=_0x1fb138;try{await _0x1294a7['connect']();let _0x1a94f7=await _0x3cb863[_0x2a87ff(0xc8)]({'_id':_0x2493bb}),_0x2d12a4=JSON[_0x2a87ff(0x14a)](_0x1a94f7);return JSON[_0x2a87ff(0x392)](_0x2d12a4,le['BufferJSON'][_0x2a87ff(0x21b)]);}catch{}},_0x2001c9=async _0x48172c=>{const _0x1232fb=_0x1fb138;try{return await _0x1294a7[_0x1232fb(0x515)](),await _0x3cb863['deleteOne']({'_id':_0x48172c});}catch{}},_0x2200e4=await _0x38b81b(_0x1fb138(0x6b2))||(0x0,le[_0x1fb138(0x103)])();return{'state':{'creds':_0x2200e4,'keys':{'get':async(_0x1c4077,_0xd0ff57)=>{const _0x1f362=_0x1fb138;let _0x350d26={};return await Promise[_0x1f362(0x42a)](_0xd0ff57[_0x1f362(0x2df)](async _0x33ca87=>{const _0x3c7415=_0x1f362;let _0x31771b=await _0x38b81b(_0x1c4077+'-'+_0x33ca87);_0x1c4077===_0x3c7415(0x157)&&_0x31771b&&(_0x31771b=le[_0x3c7415(0x1fa)][_0x3c7415(0x29f)][_0x3c7415(0x1ff)]['fromObject'](_0x31771b)),_0x350d26[_0x33ca87]=_0x31771b;})),_0x350d26;},'set':async _0x4e3114=>{const _0x4d8003=_0x1fb138;let _0x385c9b=[];for(let _0x544bfe in _0x4e3114)for(let _0x45f5cd in _0x4e3114[_0x544bfe]){let _0x571508=_0x4e3114[_0x544bfe][_0x45f5cd],_0x132c5d=_0x544bfe+'-'+_0x45f5cd;_0x385c9b['push'](_0x571508?_0x3272d8(_0x571508,_0x132c5d):_0x2001c9(_0x132c5d));}await Promise[_0x4d8003(0x42a)](_0x385c9b);}}},'saveCreds':async()=>_0x3272d8(_0x2200e4,_0x1fb138(0x6b2))};}var Ss=R(require(a0_0x1f692e(0xbb))),Es=R(require(a0_0x1f692e(0xa5))),Tt=require(a0_0x1f692e(0xa0)),ur=require(a0_0x1f692e(0x5e9)),Rt=require(a0_0x1f692e(0xa0)),Nt;function po(_0x59457f){const _0x3df48f=a0_0x1f692e;return Nt||(Nt=(0x0,ur[_0x3df48f(0x3ca)])({'url':_0x59457f[_0x3df48f(0x57c)]}),Nt[_0x3df48f(0x515)]()),Nt;}var oe=class c{constructor(_0x27c63d,_0x3c276d){const _0x1da1dc=a0_0x1f692e;this[_0x1da1dc(0x4ee)]=_0x27c63d,this[_0x1da1dc(0x614)]=_0x3c276d,this[_0x1da1dc(0xde)]=new v(c['name']),this[_0x1da1dc(0x4ab)]=po(_0x27c63d);}set[a0_0x1f692e(0x4c9)](_0x5a4438){const _0x59068e=a0_0x1f692e;this[_0x59068e(0x614)]=_0x5a4438;}async['instanceKeys'](){const _0xc563c5=a0_0x1f692e;try{return await this[_0xc563c5(0x4ab)]['sendCommand']([_0xc563c5(0x50e),this[_0xc563c5(0x4ee)][_0xc563c5(0x499)]+':*']);}catch(_0x4097ba){this[_0xc563c5(0xde)][_0xc563c5(0x6ad)](_0x4097ba);}}async[a0_0x1f692e(0x170)](_0x5d7220,_0x40de52){const _0x2cc6d8=a0_0x1f692e;try{let _0x1241c3=JSON[_0x2cc6d8(0x14a)](_0x40de52,Rt[_0x2cc6d8(0x603)][_0x2cc6d8(0x2bb)]);return await this[_0x2cc6d8(0x4ab)][_0x2cc6d8(0x1f1)](this[_0x2cc6d8(0x4ee)][_0x2cc6d8(0x499)]+':'+this[_0x2cc6d8(0x614)],_0x5d7220,_0x1241c3);}catch(_0x1de5cf){this['logger']['error'](_0x1de5cf);}}async['getAllData'](){const _0x4ea1ab=a0_0x1f692e;try{let _0x12408e=await this[_0x4ea1ab(0x4ab)][_0x4ea1ab(0x138)](this[_0x4ea1ab(0x4ee)][_0x4ea1ab(0x499)]+':'+this[_0x4ea1ab(0x614)]);if(_0x12408e){for(let _0x207754 in _0x12408e)Object['prototype']['hasOwnProperty'][_0x4ea1ab(0x1fc)](_0x12408e,_0x207754)&&(_0x12408e[_0x207754]=JSON['parse'](_0x12408e[_0x207754],Rt[_0x4ea1ab(0x603)][_0x4ea1ab(0x21b)]));return _0x12408e;}}catch(_0x6a2c39){this[_0x4ea1ab(0xde)][_0x4ea1ab(0x6ad)](_0x6a2c39);}}async[a0_0x1f692e(0x5a4)](_0x2f8a41){const _0x55791a=a0_0x1f692e;try{let _0xbad425=await this[_0x55791a(0x4ab)][_0x55791a(0x599)](this[_0x55791a(0x4ee)][_0x55791a(0x499)]+':'+this['instanceName'],_0x2f8a41);if(_0xbad425)return JSON[_0x55791a(0x392)](_0xbad425,Rt[_0x55791a(0x603)]['reviver']);}catch(_0x32406c){this['logger'][_0x55791a(0x6ad)](_0x32406c);}}async[a0_0x1f692e(0x13a)](_0x177e2b){const _0x37f41c=a0_0x1f692e;try{return await this[_0x37f41c(0x4ab)]['hDel'](this[_0x37f41c(0x4ee)][_0x37f41c(0x499)]+':'+this[_0x37f41c(0x614)],_0x177e2b);}catch(_0x2d4622){this['logger']['error'](_0x2d4622);}}async[a0_0x1f692e(0x5c4)](_0x440927){const _0x226ed8=a0_0x1f692e;try{return await this[_0x226ed8(0x4ab)][_0x226ed8(0x244)](_0x440927||this[_0x226ed8(0x4ee)][_0x226ed8(0x499)]+':'+this[_0x226ed8(0x614)]);}catch(_0x46a621){this[_0x226ed8(0xde)]['error'](_0x46a621);}}};async function fs(_0x55051a,_0xd2cb26){const _0x3b9c0b=a0_0x1f692e;let _0x42f0e3=new v(fs[_0x3b9c0b(0x543)]),_0x17fb85=new oe(_0x55051a,_0xd2cb26),_0x3a71d6=async(_0x5e18e6,_0x4bf516)=>{const _0x34dc9d=_0x3b9c0b;try{return await _0x17fb85['writeData'](_0x4bf516,_0x5e18e6);}catch(_0x2318f1){return _0x42f0e3[_0x34dc9d(0x6ad)]({'localError':_0x34dc9d(0x170),'error':_0x2318f1});}},_0x2250ac=async _0x24013f=>{const _0x1ba57a=_0x3b9c0b;try{return await _0x17fb85[_0x1ba57a(0x5a4)](_0x24013f);}catch(_0x49eadb){_0x42f0e3[_0x1ba57a(0x6ad)]({'readData':_0x1ba57a(0x170),'error':_0x49eadb});return;}},_0x1a1ab5=async _0x513639=>{const _0x442d5b=_0x3b9c0b;try{return await _0x17fb85[_0x442d5b(0x13a)](_0x513639);}catch(_0x277e25){_0x42f0e3[_0x442d5b(0x6ad)]({'readData':_0x442d5b(0x13a),'error':_0x277e25});}},_0x566ac6=await _0x2250ac(_0x3b9c0b(0x6b2))||(0x0,Tt[_0x3b9c0b(0x103)])();return{'state':{'creds':_0x566ac6,'keys':{'get':async(_0x1d7a39,_0x36f98d)=>{const _0x4d2a89=_0x3b9c0b;let _0x18d975={};return await Promise[_0x4d2a89(0x42a)](_0x36f98d['map'](async _0x942611=>{const _0x4f4bc9=_0x4d2a89;let _0x1c76e7=await _0x2250ac(_0x1d7a39+'-'+_0x942611);_0x1d7a39===_0x4f4bc9(0x157)&&_0x1c76e7&&(_0x1c76e7=Tt['proto'][_0x4f4bc9(0x29f)]['AppStateSyncKeyData']['fromObject'](_0x1c76e7)),_0x18d975[_0x942611]=_0x1c76e7;})),_0x18d975;},'set':async _0x1914ca=>{let _0x518be0=[];for(let _0x5677e2 in _0x1914ca)for(let _0x3660c1 in _0x1914ca[_0x5677e2]){let _0x1948a1=_0x1914ca[_0x5677e2][_0x3660c1],_0x2cfe99=_0x5677e2+'-'+_0x3660c1;_0x518be0['push'](_0x1948a1?await _0x3a71d6(_0x1948a1,_0x2cfe99):await _0x1a1ab5(_0x2cfe99));}await Promise['all'](_0x518be0);}}},'saveCreds':async()=>await _0x3a71d6(_0x566ac6,_0x3b9c0b(0x6b2))};}var k=R(require('fs')),Ce=require(a0_0x1f692e(0x130)),It=R(require(a0_0x1f692e(0x5de))),wr=require('proxy-agent'),go=a0_0x1f692e(0xec)[a0_0x1f692e(0x421)](),ys=go[a0_0x1f692e(0x5ca)]('\x0a')[a0_0x1f692e(0x2df)](_0x2eafe6=>{let _0x274aeb=_0x2eafe6['split'](':');return{'host':_0x274aeb[0x0],'port':_0x274aeb[0x1],'username':_0x274aeb[0x2],'password':_0x274aeb[0x3],'protocol':'http'};});function dr(){const _0x35d151=a0_0x1f692e;if(ys['length']===0x0)return null;let _0x50cd7e=Math[_0x35d151(0x336)](Math['random']()*ys[_0x35d151(0x3f3)]);return ys[_0x50cd7e];}function ws(_0x2ebd16){const _0x106058=a0_0x1f692e;return _0x2ebd16&&_0x2ebd16[_0x106058(0x409)]&&_0x2ebd16[_0x106058(0x64f)]&&_0x2ebd16['username']&&_0x2ebd16[_0x106058(0x475)];}var br=a0_0x1f692e(0x30b),Cs,ie=null,pr=null,He=null,mo=0x3,ho=null,Sr=!0x1;async function fo(){const _0x4c6449=a0_0x1f692e;let _0x3f2133=await he['findOne']();ie=_0x3f2133?.[_0x4c6449(0x1d1)]??null,ho=_0x3f2133?.['DaysToDelete']??null,br=_0x3f2133?.[_0x4c6449(0x2ea)]??_0x4c6449(0x30b),Cs=_0x3f2133?.[_0x4c6449(0x113)]??Ms??_0x4c6449(0x327),Sr=_0x3f2133?.['AllProxy']??!0x1,console[_0x4c6449(0x671)]('CONFIGURAÇÃO\x20GERAL:'),console[_0x4c6449(0x671)](_0x3f2133);}async function yo(){await fo();}yo();function _(_0x35973a){const _0x381249=a0_0x1f692e;if(_0x35973a['viewOnceMessage']||_0x35973a['viewOnceMessageV2']){let _0x9f3bc1=_0x35973a[_0x381249(0x598)]?_0x35973a[_0x381249(0x598)][_0x381249(0x5f0)]:_0x35973a[_0x381249(0xb7)][_0x381249(0x5f0)];return(0x0,y[_0x381249(0x2a6)])(_0x9f3bc1);}return _0x35973a['pollCreationMessageV3']?_0x381249(0x4bf):_0x35973a['pollCreationMessageV2']?_0x381249(0x29c):_0x35973a[_0x381249(0x265)]?_0x381249(0x265):(0x0,y[_0x381249(0x2a6)])(_0x35973a);}var gr={},fe=class c{constructor(_0xff25e9,_0x39510a,_0x296e75){const _0xe5c293=a0_0x1f692e;this[_0xe5c293(0x193)]=_0xff25e9,this[_0xe5c293(0x15d)]=_0x39510a,this[_0xe5c293(0x40c)]=_0x296e75,this[_0xe5c293(0x423)]=null,this['logger']=new v(c[_0xe5c293(0x543)]),this[_0xe5c293(0x387)]={},this[_0xe5c293(0x3c8)]={},this[_0xe5c293(0x14f)]={'state':'close'},this[_0xe5c293(0x16f)]=(0x0,F['join'])(ae,_0xe5c293(0x3bb)),this[_0xe5c293(0x3a2)]=new Es[(_0xe5c293(0x205))](),this[_0xe5c293(0x5b8)]=new Es[(_0xe5c293(0x205))](),this[_0xe5c293(0x600)]=!0x1,this[_0xe5c293(0xea)]={'status.instance':_0xe5c293(0x2cd),'qrcode.updated':_0xe5c293(0x23a),'messages.upsert':_0xe5c293(0x422),'messages.update':_0xe5c293(0x1b1),'send.message':_0xe5c293(0x422),'group.upsert':_0xe5c293(0x2ab),'group.update':_0xe5c293(0x2ab),'group-participants.update':_0xe5c293(0x2ab),'connection.update':_0xe5c293(0x2cd),'messages.set':'/wa-message','contacts.set':_0xe5c293(0x4d4),'contacts.upsert':_0xe5c293(0x4d4),'contacts.update':_0xe5c293(0x4d4),'presence.update':_0xe5c293(0x287),'chats.set':_0xe5c293(0x4c0),'chats.update':'/wa-chats','chats.upsert':_0xe5c293(0x4c0),'chats.delete':_0xe5c293(0x4c0)},this[_0xe5c293(0x5da)]=0x0,this[_0xe5c293(0x5dd)]=[],this[_0xe5c293(0x57f)]=0xf,this['RECONNECT_TIME_FRAME']=0x7530,this[_0xe5c293(0x1a2)]=!0x1,this[_0xe5c293(0x107)]={'chats.upsert':async(_0x36f40f,_0x5102eb)=>{const _0x593ef6=_0xe5c293;let _0x2d49bc=[];for await(let _0x324a32 of _0x36f40f)_0x2d49bc[_0x593ef6(0x14d)]({'_id':_0x324a32['id'],'owner':this['instance'][_0x593ef6(0x4f9)],'group':_0x324a32['id'][_0x593ef6(0xbf)](_0x593ef6(0x340)),'name':_0x324a32['name']||_0x324a32[_0x593ef6(0x5d4)]||null,'contactname':null,'lastmsg':_0x324a32[_0x593ef6(0x3e2)]&&_0x324a32[_0x593ef6(0x3e2)]['toString']()[_0x593ef6(0x3f3)]<0xd?_0x324a32[_0x593ef6(0x3e2)]*0x3e8:_0x324a32[_0x593ef6(0x3e2)]||null,'archived':_0x324a32[_0x593ef6(0x209)]||!0x1,'unreadcount':_0x324a32['unreadCount']||0x0});this['sendDataWebhook'](_0x593ef6(0x5c3),_0x2d49bc);},'chats.update':async(_0x3f837c,_0x2f81dc)=>{const _0x19b497=_0xe5c293;for(let _0x36a57f of _0x3f837c){let _0x227e81={'_id':_0x36a57f['id'],'owner':this[_0x19b497(0x387)][_0x19b497(0x4f9)],'group':_0x36a57f['id']['endsWith'](_0x19b497(0x340)),'name':_0x36a57f[_0x19b497(0x543)]||_0x36a57f[_0x19b497(0x5d4)],'archived':_0x36a57f[_0x19b497(0x209)],'ephemeralExpiration':_0x36a57f[_0x19b497(0x2fa)]},_0x40ca13=!0x1,_0x1ec877={};_0x227e81[_0x19b497(0x209)]!=null&&(this[_0x19b497(0xde)][_0x19b497(0x4f3)](this[_0x19b497(0x614)]+'\x20('+this[_0x19b497(0x387)]['wuid']+_0x19b497(0x48f)+_0x36a57f[_0x19b497(0x209)]),_0x40ca13=!0x0,_0x1ec877[_0x19b497(0x209)]=_0x36a57f[_0x19b497(0x209)]),_0x36a57f['name']!=null&&(this[_0x19b497(0xde)]['verbose'](this[_0x19b497(0x614)]+'\x20('+this[_0x19b497(0x387)][_0x19b497(0x4f9)]+_0x19b497(0x304)+_0x36a57f[_0x19b497(0x543)]),_0x40ca13=!0x0,_0x1ec877[_0x19b497(0x543)]=_0x36a57f[_0x19b497(0x543)]),_0x36a57f[_0x19b497(0x5d4)]!=null&&(this[_0x19b497(0xde)][_0x19b497(0x4f3)](this['instanceName']+'\x20('+this[_0x19b497(0x387)][_0x19b497(0x4f9)]+_0x19b497(0x3eb)+_0x36a57f[_0x19b497(0x5d4)]),_0x40ca13=!0x0,_0x1ec877[_0x19b497(0x543)]=_0x36a57f[_0x19b497(0x5d4)]),_0x36a57f[_0x19b497(0x2fa)]!=null&&(this['logger'][_0x19b497(0x4f3)](this[_0x19b497(0x614)]+'\x20('+this[_0x19b497(0x387)][_0x19b497(0x4f9)]+_0x19b497(0x3eb)+_0x36a57f[_0x19b497(0x2fa)]),_0x40ca13=!0x0,_0x1ec877['ephemeralExpiration']=_0x36a57f['ephemeralExpiration']);let _0x5574a2;_0x40ca13&&(_0x5574a2=await this[_0x19b497(0x40c)]['chat'][_0x19b497(0x6b6)]({'where':{'_id':_0x36a57f['id']}},_0x1ec877,this[_0x19b497(0x387)][_0x19b497(0x4f9)])),_0x5574a2&&q(this[_0x19b497(0x614)],_0x19b497(0x622),{'chat':_0x5574a2});}},'chats.delete':async _0x4f1c63=>{const _0xeafd29=_0xe5c293;this[_0xeafd29(0x564)](_0xeafd29(0x191),[..._0x4f1c63]);}},this[_0xe5c293(0x4c4)]={'contacts.upsert':async(_0x17d607,_0x2158aa)=>{const _0x46451b=_0xe5c293;let _0x5d861a=await this['repository'][_0x46451b(0x321)][_0x46451b(0x4fe)]({'where':{}},this[_0x46451b(0x387)][_0x46451b(0x4f9)]),_0xa25b1a=[];for await(let _0xeec5a2 of _0x17d607)_0x5d861a[_0x46451b(0x4fe)](_0x2ac8fe=>_0x2ac8fe[_0x46451b(0x472)]===_0xeec5a2['id'])||_0xa25b1a[_0x46451b(0x14d)]({'_id':_0xeec5a2['id'],'pushName':_0xeec5a2?.[_0x46451b(0x543)]||_0xeec5a2?.['verifiedName'],'owner':this[_0x46451b(0x387)]['wuid']});this[_0x46451b(0x564)](_0x46451b(0x263),_0xa25b1a),await this[_0x46451b(0x40c)][_0x46451b(0x321)][_0x46451b(0x686)](_0xa25b1a);},'contacts.update':async(_0x169043,_0x3b32fb)=>{const _0xc693ff=_0xe5c293;let _0x57851d=[];for await(let _0x594392 of _0x169043)_0x57851d[_0xc693ff(0x14d)]({'_id':_0x594392['id'],'pushName':_0x594392?.[_0xc693ff(0x543)]??_0x594392?.[_0xc693ff(0x2fe)],'owner':this[_0xc693ff(0x387)][_0xc693ff(0x4f9)]});this[_0xc693ff(0x564)](_0xc693ff(0x363),_0x57851d);}},this['messageHandle']={'messaging-history.set':async({messages:_0x516261,chats:_0x64f897,isLatest:_0x121da2},_0x5977df)=>{const _0x208050=_0xe5c293;if(_0x121da2){let _0x7a42af=await Promise['all'](_0x64f897[_0x208050(0x2df)](async _0x190096=>({'_id':_0x190096['id'],'owner':this[_0x208050(0x387)]['wuid'],'group':_0x190096['id'][_0x208050(0xbf)](_0x208050(0x340)),'name':_0x190096[_0x208050(0x543)]||_0x190096['displayName']||null,'contactname':null,'lastmsg':_0x190096[_0x208050(0x3e2)]&&_0x190096[_0x208050(0x3e2)]['toString']()[_0x208050(0x3f3)]<0xd?_0x190096['conversationTimestamp']*0x3e8:_0x190096[_0x208050(0x3e2)]||null,'archived':_0x190096['archived']||!0x1,'unreadcount':_0x190096[_0x208050(0x3fe)]||0x0})));this['sendDataWebhook'](_0x208050(0x292),_0x7a42af),await this[_0x208050(0x2c0)](_0x7a42af,_0x5977df);}let _0x15cdfc=[],_0x5c67bf=Date[_0x208050(0x188)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x5acb51]of Object['entries'](_0x516261)){if(_0x5acb51[_0x208050(0x5f0)]?.[_0x208050(0x6c7)]||_0x5acb51['message']?.[_0x208050(0x659)]||!_0x5acb51[_0x208050(0x5f0)]||_0x5acb51[_0x208050(0x497)][_0x208050(0x2e1)]===_0x208050(0x142)||(Ss[_0x208050(0x205)][_0x208050(0x61a)](_0x5acb51?.[_0x208050(0x467)])&&(_0x5acb51[_0x208050(0x467)]=_0x5acb51[_0x208050(0x467)]?.[_0x208050(0x2f2)]()),_0x5acb51['messageTimestamp']&&_0x5acb51[_0x208050(0x467)]['toString']()['length']<0xd&&(_0x5acb51[_0x208050(0x467)]=_0x5acb51[_0x208050(0x467)]*0x3e8),_0x5acb51[_0x208050(0x467)]<_0x5c67bf))continue;let {message_normalized:_0x272d0a}=this[_0x208050(0x331)](_0x5acb51[_0x208050(0x5f0)],_(_0x5acb51[_0x208050(0x5f0)]),null);Object[_0x208050(0x50e)](_0x272d0a)['length']>0x0&&_0x15cdfc['push']({'_id':_0x5acb51['key']['id'],'key':_0x5acb51[_0x208050(0x497)],'pushName':_0x5acb51[_0x208050(0x496)],'participant':_0x5acb51[_0x208050(0x237)],'message':{..._0x5acb51[_0x208050(0x5f0)]},'messageType':_(_0x5acb51[_0x208050(0x5f0)]),'message_normalized':{'key':_0x5acb51[_0x208050(0x497)],'pushName':_0x5acb51[_0x208050(0x496)],'messageTimestamp':_0x5acb51[_0x208050(0x467)],..._0x272d0a},'messageTimestamp':_0x5acb51[_0x208050(0x467)],'owner':this[_0x208050(0x387)]['wuid']});}_0x5977df[_0x208050(0x4f0)]&&_0x15cdfc[_0x208050(0x3f3)]>0x0&&(this[_0x208050(0xde)][_0x208050(0x4f3)](this[_0x208050(0x614)]+'\x20('+this['instance'][_0x208050(0x4f9)]+_0x208050(0x3ec)+_0x15cdfc[_0x208050(0x3f3)]+_0x208050(0x5f1)+this[_0x208050(0x387)][_0x208050(0x4f9)]+_0x208050(0x66d)),await this[_0x208050(0x40c)][_0x208050(0x5f0)][_0x208050(0x686)]([..._0x15cdfc],this[_0x208050(0x387)][_0x208050(0x4f9)])),this[_0x208050(0x564)](_0x208050(0x3cd),[..._0x15cdfc]),_0x516261=void 0x0;},'messages.upsert':async({messages:_0x41d8a2,type:_0xe2402f},_0x2aae60)=>{const _0x537139=_0xe5c293;let _0x215dc7=_0x41d8a2[0x0];if(_0xe2402f!==_0x537139(0x1cb)||!_0x215dc7?.[_0x537139(0x5f0)]||_0x215dc7[_0x537139(0x5f0)]?.[_0x537139(0x6c7)]||_0x215dc7[_0x537139(0x5f0)][_0x537139(0x659)]||_0x215dc7[_0x537139(0x497)][_0x537139(0x2e1)]===_0x537139(0x142))return;let _0x5cb330=null,_0x135a17=null;try{_0x5cb330=await this[_0x537139(0x678)](_0x215dc7),_0x135a17=_0x5cb330?_0x5cb330['join'](','):null;}catch(_0x5572ca){this[_0x537139(0xde)][_0x537139(0x4f3)](this[_0x537139(0x614)]+'\x20('+this['instance']['wuid']+'):\x20'+(_0x5572ca instanceof Error?_0x5572ca[_0x537139(0x5f0)]:JSON[_0x537139(0x14a)](_0x5572ca,null,0x2))),_0x135a17=_0x537139(0x4ec);}if(this[_0x537139(0x4ab)][_0x537139(0x5c0)](_0x537139(0xf2)),Ss[_0x537139(0x205)][_0x537139(0x61a)](_0x215dc7[_0x537139(0x467)])&&(_0x215dc7[_0x537139(0x467)]=_0x215dc7[_0x537139(0x467)]?.['toNumber']()),this[_0x537139(0x3c8)]?.['groups_ignore']&&_0x215dc7['key'][_0x537139(0x2e1)][_0x537139(0xe4)](_0x537139(0x340))){this[_0x537139(0xde)][_0x537139(0x4f3)]('group\x20ignored');return;}_0x215dc7['messageTimestamp']&&_0x215dc7['messageTimestamp']['toString']()[_0x537139(0x3f3)]<0xd&&(_0x215dc7['messageTimestamp']=_0x215dc7[_0x537139(0x467)]*0x3e8);let _0x33eb6a=_0x215dc7[_0x537139(0x5f0)],{messageContent:_0x5544db,message_normalized:_0x463f97}=this[_0x537139(0x331)](_0x33eb6a,_(_0x215dc7['message']),_0x135a17);_0x5544db||console[_0x537139(0x6ad)](_0x537139(0x49f));let _0x443211={'_id':_0x215dc7[_0x537139(0x497)]['id'],'key':_0x215dc7['key'],'pushName':_0x215dc7[_0x537139(0x496)],'message':{..._0x215dc7[_0x537139(0x5f0)]},'messageType':_(_0x215dc7[_0x537139(0x5f0)]),'message_normalized':{'key':_0x215dc7['key'],'pushName':_0x215dc7['pushName'],'messageTimestamp':_0x215dc7['messageTimestamp'],'source':(0x0,y[_0x537139(0x3d5)])(_0x215dc7[_0x537139(0x497)]['id']),..._0x463f97},'messageTimestamp':_0x215dc7[_0x537139(0x467)],'owner':this[_0x537139(0x387)][_0x537139(0x4f9)],'source':(0x0,y[_0x537139(0x3d5)])(_0x215dc7[_0x537139(0x497)]['id'])};this['logger']['log'](_0x443211),await this['repository']['message'][_0x537139(0x686)]([_0x443211],this['instance'][_0x537139(0x4f9)]),this[_0x537139(0x564)](_0x537139(0x48d),_0x443211),q(this[_0x537139(0x614)],'messages',{'message':_0x443211}),_0x215dc7[_0x537139(0x497)][_0x537139(0x2e1)]!=='status@broadcast'&&await this[_0x537139(0x50b)](_0x2aae60,_0x443211,_0x537139(0x20c));},'messages.update':async(_0x28bcfa,_0x4ce37d)=>{const _0x224586=_0xe5c293;let _0x1fe75a={0x0:_0x224586(0x3c9),0x1:_0x224586(0x230),0x2:_0x224586(0x57a),0x3:_0x224586(0x2ba),0x4:_0x224586(0x667),0x5:_0x224586(0x300)};for await(let {key:_0x4bb133,update:_0xec8615}of _0x28bcfa){if(this[_0x224586(0x3c8)]?.[_0x224586(0x4c3)]&&_0x4bb133[_0x224586(0x2e1)][_0x224586(0xe4)](_0x224586(0x340))){this[_0x224586(0xde)][_0x224586(0x4f3)]('group\x20ignored');return;}if(_0x4bb133[_0x224586(0x2e1)]!=='status@broadcast'){let _0x4c03f2=Date[_0x224586(0x188)](),_0x3117ba;_0xec8615[_0x224586(0x5f0)]===null&&_0xec8615[_0x224586(0x555)]===void 0x0?_0x3117ba='DELETED':_0x3117ba=_0x1fe75a[_0xec8615[_0x224586(0x555)]];let _0x163c64=_0x4bb133[_0x224586(0x2e1)]['replace'](/:\d{1,2}@/g,'@'),_0x35f157={..._0x4bb133,'remoteJid':_0x163c64,'status':_0x3117ba,'datetime':_0x4c03f2,'owner':this[_0x224586(0x387)]['wuid']};this[_0x224586(0x564)]('messages.update',_0x35f157),await this[_0x224586(0x349)](_0x4bb133,_0x35f157);}}},'labels.association':async({type:_0x34b663,association:_0x1157c4})=>{const _0x435cdc=_0xe5c293;if(_0x1157c4[_0x435cdc(0x59f)]===_0x435cdc(0x200))switch(_0x34b663){case'add':console['log'](_0x1157c4),await this[_0x435cdc(0x40c)][_0x435cdc(0x517)][_0x435cdc(0x6b6)]({'where':{'_id':_0x1157c4[_0x435cdc(0xb2)]}},{'labels':_0x1157c4[_0x435cdc(0x5b4)]},this[_0x435cdc(0x387)][_0x435cdc(0x4f9)],void 0x0,_0x435cdc(0x268));break;case'remove':console[_0x435cdc(0x671)](_0x1157c4),await this['repository']['chat'][_0x435cdc(0x6b6)]({'where':{'_id':_0x1157c4[_0x435cdc(0xb2)]}},{'labels':_0x1157c4['labelId']},this['instance'][_0x435cdc(0x4f9)],void 0x0,_0x435cdc(0x143));break;default:console[_0x435cdc(0x6ad)](_0x435cdc(0x494)+_0x34b663+']');}},'labels.edit':async _0x49e6c0=>{const _0x58a805=_0xe5c293;if(!_0x49e6c0||!_0x49e6c0['id']){console[_0x58a805(0x6ad)](_0x58a805(0xee));return;}let _0x545ffe={'_id':_0x49e6c0['id'],'color':_0x49e6c0?.[_0x58a805(0x253)],'name':_0x49e6c0?.[_0x58a805(0x543)],'owner':this[_0x58a805(0x387)][_0x58a805(0x4f9)]};await this['repository'][_0x58a805(0x239)][_0x58a805(0x6b6)]({'where':{'_id':_0x49e6c0['id']}},_0x545ffe,this[_0x58a805(0x387)]['wuid']),console[_0x58a805(0x671)](_0x58a805(0x2b1),_0x49e6c0),_0x49e6c0[_0x58a805(0x94)]&&(await this[_0x58a805(0x40c)][_0x58a805(0x239)][_0x58a805(0x46e)]({'where':{'_id':_0x49e6c0['id']}},this[_0x58a805(0x387)]['wuid']),console[_0x58a805(0x671)]('Rótulo\x20deletado:',_0x49e6c0['id']));}},this[_0xe5c293(0x273)]={'groups.upsert':_0x3fe923=>{this['sendDataWebhook']('groups.upsert',_0x3fe923);},'groups.update':_0x3b2603=>{const _0xcf0133=_0xe5c293;this[_0xcf0133(0x564)](_0xcf0133(0x63d),_0x3b2603);},'group-participants.update':_0x5b2ed1=>{const _0x1cb629=_0xe5c293;this[_0x1cb629(0x564)]('group-participants.update',_0x5b2ed1);}},this[_0xe5c293(0x678)]=async _0x46f511=>{const _0x71c89d=_0xe5c293;if(_0x46f511[_0x71c89d(0x5f0)]?.['pollUpdateMessage']){let _0xbe66df=await this[_0x71c89d(0x236)](_0x46f511[_0x71c89d(0x5f0)][_0x71c89d(0x50d)][_0x71c89d(0x1f5)],!0x0);if(_0xbe66df){let _0x469e65=_0xbe66df[_0x71c89d(0x497)][_0x71c89d(0x6e1)]?this[_0x71c89d(0x387)][_0x71c89d(0x4f9)]+_0x71c89d(0x511):_0xbe66df[_0x71c89d(0x497)]['participant']||_0xbe66df[_0x71c89d(0x497)][_0x71c89d(0x2e1)],_0x92fbe4=_0xbe66df[_0x71c89d(0x497)]['id'],_0x5503fe=_0xbe66df[_0x71c89d(0x5f0)],_0x472860=Buffer[_0x71c89d(0x301)](_0x5503fe[_0x71c89d(0x1e7)][_0x71c89d(0x3c5)][_0x71c89d(0x6bc)](_0x71c89d(0x384)),_0x71c89d(0x384)),_0xe98582=(0x0,y[_0x71c89d(0x1ee)])(_0x46f511[_0x71c89d(0x5f0)][_0x71c89d(0x50d)]['vote'],{'pollCreatorJid':_0x469e65,'pollMsgId':_0x92fbe4,'pollEncKey':_0x472860,'voterJid':_0x46f511['key'][_0x71c89d(0x6e1)]?this[_0x71c89d(0x387)][_0x71c89d(0x4f9)]+'@s.whatsapp.net':_0x46f511[_0x71c89d(0x497)][_0x71c89d(0x2e1)][_0x71c89d(0xbf)](_0x71c89d(0x164))?_0x46f511[_0x71c89d(0x497)]['participant']:_0x46f511[_0x71c89d(0x497)][_0x71c89d(0x2e1)]}),_0x233480=[],_0x38401b=_0xe98582[_0x71c89d(0xdb)]['map'](_0x3d29cf=>Buffer['from'](_0x3d29cf)['toString']('hex'));for(let {optionName:_0x1c05b2}of _0x5503fe[_0x71c89d(0x415)]?.[_0x71c89d(0x4a2)]||_0x5503fe[_0x71c89d(0x4bf)]?.[_0x71c89d(0x4a2)]||_0x5503fe[_0x71c89d(0x29c)]?.[_0x71c89d(0x4a2)])_0x38401b[_0x71c89d(0x2d4)]((0x0,y[_0x71c89d(0x195)])(Buffer[_0x71c89d(0x301)](_0x1c05b2))[_0x71c89d(0x6bc)](_0x71c89d(0x384)))>-0x1&&_0x233480['push'](_0x1c05b2);return _0x233480;}}return null;},this[_0xe5c293(0x331)]=(_0x533061,_0x2823e9,_0x44d34c)=>{const _0x44b173=_0xe5c293;try{let _0x3fdda6=_0x2823e9?_0x533061[_0x2823e9]:void 0x0,_0x30af03={},_0x27384b=null,_0x56dc05=null,_0x14e596=null;if(_0x533061['viewOnceMessageV2']?(_0x2823e9=_(_0x533061['viewOnceMessageV2'][_0x44b173(0x5f0)]),_0x3fdda6=_0x533061[_0x44b173(0xb7)]['message'][_0x2823e9]):_0x533061['viewOnceMessageV2Extension']?(_0x2823e9=_(_0x533061[_0x44b173(0x265)][_0x44b173(0x5f0)]),_0x3fdda6=_0x533061['viewOnceMessageV2Extension'][_0x44b173(0x5f0)][_0x2823e9]):_0x533061[_0x44b173(0x598)]?(_0x2823e9=_(_0x533061['viewOnceMessage'][_0x44b173(0x5f0)]),_0x3fdda6=_0x533061[_0x44b173(0x598)][_0x44b173(0x5f0)][_0x2823e9]):_0x533061[_0x44b173(0x1da)]?(_0x2823e9=_(_0x533061[_0x44b173(0x5f0)][_0x44b173(0x1da)]['message']),_0x3fdda6=_0x533061['message'][_0x44b173(0x1da)][_0x44b173(0x5f0)][_0x2823e9]):_0x533061['editedMessage']?.[_0x44b173(0x5f0)]?.[_0x44b173(0x6c7)]?.[_0x44b173(0x307)]?(_0x2823e9=_(_0x533061[_0x44b173(0x307)][_0x44b173(0x5f0)][_0x44b173(0x6c7)][_0x44b173(0x307)]),_0x27384b=_0x533061['editedMessage'][_0x44b173(0x5f0)][_0x44b173(0x6c7)][_0x44b173(0x497)]['id'],_0x3fdda6=_0x533061['editedMessage'][_0x44b173(0x5f0)][_0x44b173(0x6c7)][_0x44b173(0x307)][_0x2823e9]):_0x3fdda6=_0x533061[_0x2823e9],!_0x2823e9||!_0x3fdda6)return console[_0x44b173(0x6ad)](_0x44b173(0x569),_0x533061),{'messageType':_0x2823e9,'messageContent':_0x3fdda6,'message_normalized':{}};_0x533061[_0x2823e9]?.['contextInfo']?.[_0x44b173(0x529)]&&_0x533061[_0x2823e9]?.[_0x44b173(0x148)]?.[_0x44b173(0x59c)]&&(_0x56dc05=_0x533061[_0x2823e9][_0x44b173(0x148)][_0x44b173(0x529)]),_0x533061[_0x44b173(0x2de)]&&(_0x14e596=_0x533061[_0x44b173(0x2de)][_0x44b173(0x497)]['id']);let _0x3315ce;if(_0x3fdda6&&typeof _0x3fdda6==_0x44b173(0x39b)&&_0x44b173(0x1f5)in _0x3fdda6&&({pollCreationMessageKey:_0x3315ce}=_0x3fdda6),_0x2823e9===_0x44b173(0x5bf)){let _0x3ce12e=_0x3fdda6?.[_0x44b173(0x5f0)]?.[_0x44b173(0x18a)];_0x3ce12e&&(_0x3fdda6=_0x3ce12e);}if(_0x2823e9===_0x44b173(0x415)||_0x2823e9===_0x44b173(0x29c)||_0x2823e9===_0x44b173(0x4bf)){let _0x42d156=_0x3fdda6[_0x44b173(0x4a2)][_0x44b173(0x2df)](_0x566604=>_0x566604[_0x44b173(0x53d)])['join']('|');_0x30af03[_0x44b173(0x6d8)]=_0x42d156;}let _0x4dec0d=_0x3fdda6[_0x44b173(0x543)]||_0x3fdda6[_0x44b173(0x5c5)]||_0x3fdda6[_0x44b173(0x1c6)]||_0x3fdda6[_0x44b173(0x5d4)];if(_0x2823e9===_0x44b173(0x29e)){_0x4dec0d=(_0x3fdda6['title']||'')+'\x0a'+(_0x3fdda6[_0x44b173(0x115)]||'')+'\x0a'+(_0x3fdda6[_0x44b173(0x39a)]||'');let _0xda934c=this[_0x44b173(0x1fb)](_0x3fdda6[_0x44b173(0x5b5)]);_0x30af03[_0x44b173(0x6d8)]=_0xda934c;}if(_0x2823e9===_0x44b173(0x32c)&&(_0x44d34c=_0x3fdda6[_0x44b173(0x2e4)]),_0x3fdda6['vcard']){let _0x2ed051=this[_0x44b173(0x137)](JSON[_0x44b173(0x14a)](_0x3fdda6[_0x44b173(0x5ef)],null,0x2));_0x4dec0d=_0x4dec0d+'\x0a'+_0x2ed051;}if(_0x3fdda6){let {sections:_0x67804e,listType:_0xe54cb1,displayName:_0x435561,vcard:_0x556f08,contactVcard:_0x2b6acf,name:_0x407232,caption:_0xaa2bd5,conversation:_0x3c5377,pollCreationMessageKey:_0x21678d,footerText:_0x2dbb93,contentText:_0x278ac1,pageCount:_0x35ccaf,headerType:_0x58b38e,isAvatar:_0x13213a,isAnimated:_0x5619e4,fallbackLc:_0xe5dc14,fallbackLg:_0x5615b2,namespace:_0x263eb2,elementName:_0xd5d2e3,localizableParams:_0x42ff7c,viewOnce:_0x15e249,height:_0x454156,width:_0xd428a4,key:_0x23d06f,firstScanLength:_0x5d18c5,firstScanSidecar:_0x52b2b3,gifPlayback:_0x5a1ba5,gifAttribution:_0x362186,midQualityFileSha256:_0x185635,scansSidecar:_0x223d93,streamingSidecar:_0x31ffeb,thumbnailHeight:_0x3bcb99,thumbnailWidth:_0xeb6725,thumbnailEncSha256:_0x2c89cd,thumbnailDirectPath:_0x2c9ed9,canonicalUrl:_0x2244d5,matchedText:_0x19a487,previewType:_0x1dc06b,thumbnailSha256:_0x536f6,deviceListMetadataVersion:_0x540931,inviteLinkGroupTypeV2:_0xb6ee8e,interactiveAnnotations:_0x8763eb,scanLengths:_0x50b4ed,jpegThumbnail:_0x5e39fa,url:_0x1b39e8,mediaKeyTimestamp:_0x39beed,waveform:_0x19a26a,stickerSentTs:_0x18da97,firstFrameLength:_0x2ce9c7,fileEncSha256:_0x59d5ef,contextInfo:_0x1022a1,firstFrameSidecar:_0x4da931,directPath:_0x4ff882,fileSha256:_0x1cd755,mediaKey:_0x19ec9b,senderTimestampMs:_0xa4d54a,..._0x4ef25e}=_0x3fdda6;(_0x2823e9===_0x44b173(0x29e)||_0x2823e9===_0x44b173(0x32c))&&(delete _0x4ef25e[_0x44b173(0x2e4)],delete _0x4ef25e[_0x44b173(0x115)]),typeof _0x3fdda6=='string'?_0x30af03={'text':_0x3fdda6,'type':_0x2823e9||'conversation',..._0x27384b&&{'edited':_0x27384b},..._0x56dc05&&{'quoted':_0x56dc05},..._0x14e596&&{'reaction':_0x14e596}}:_0x30af03={'text':_0x4dec0d,..._0x4ef25e,..._0x2823e9==='pollUpdateMessage'?{'poll_id':_0x3fdda6[_0x44b173(0x1f5)]['id'],'quoted':_0x3fdda6[_0x44b173(0x1f5)]['id'],'vote':_0x44d34c}:{},..._0x2823e9===_0x44b173(0x32c)?{'vote':_0x44d34c}:{},'type':_0x2823e9,..._0x27384b&&{'edited':_0x27384b},..._0x56dc05&&{'quoted':_0x56dc05},..._0x14e596&&{'reaction':_0x14e596},...(_0x2823e9===_0x44b173(0x415)||_0x2823e9===_0x44b173(0x29c)||_0x2823e9===_0x44b173(0x4bf)||_0x2823e9===_0x44b173(0x29e))&&{'convertedOptions':_0x30af03['convertedOptions']}};}return{'messageType':_0x2823e9,'messageContent':_0x3fdda6,'message_normalized':_0x30af03};}catch(_0x2f2917){console['error']('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x2f2917);}},this[_0xe5c293(0x22d)]=null,this[_0xe5c293(0x37c)]=0x0,this[_0xe5c293(0x56b)]=null,(this[_0xe5c293(0x328)](),this[_0xe5c293(0x387)][_0xe5c293(0x40a)]={'count':0x0});}set[a0_0x1f692e(0x614)](_0x2f1d89){const _0x22540e=a0_0x1f692e;if(!_0x2f1d89){this[_0x22540e(0x387)][_0x22540e(0x543)]=(0x0,hr['v4'])();return;}this[_0x22540e(0x387)]['name']=_0x2f1d89,this[_0x22540e(0x564)](_0x22540e(0x5c7),{'instance':this['instance'][_0x22540e(0x543)],'status':'created'});}get[a0_0x1f692e(0x614)](){const _0x54d591=a0_0x1f692e;return this[_0x54d591(0x387)]['name'];}get[a0_0x1f692e(0x4f9)](){const _0x1b9e3d=a0_0x1f692e;return this[_0x1b9e3d(0x387)]['wuid'];}async['getProfileName'](){const _0x5abea8=a0_0x1f692e;let _0xfe6756=this[_0x5abea8(0x4ab)][_0x5abea8(0x19a)]?.[_0x5abea8(0x543)]??this[_0x5abea8(0x4ab)]['user']?.[_0x5abea8(0x2fe)];if(!_0xfe6756){if(this['configService'][_0x5abea8(0x635)](_0x5abea8(0x2ef))['ENABLED']){let _0x525d22=await N[_0x5abea8(0x84)]()['db'](this[_0x5abea8(0x193)][_0x5abea8(0x635)](_0x5abea8(0x2ef))['CONNECTION'][_0x5abea8(0x210)]+_0x5abea8(0x43f))[_0x5abea8(0x676)](this[_0x5abea8(0x614)])[_0x5abea8(0xc8)]({'_id':_0x5abea8(0x6b2)});if(_0x525d22){let _0x5adb05=JSON[_0x5abea8(0x392)](JSON[_0x5abea8(0x14a)](_0x525d22),y['BufferJSON']['reviver']);_0xfe6756=_0x5adb05['me']?.[_0x5abea8(0x543)]||_0x5adb05['me']?.[_0x5abea8(0x2fe)];}}else{if((0x0,Me[_0x5abea8(0x4d7)])((0x0,F[_0x5abea8(0x317)])(pe,this[_0x5abea8(0x614)],_0x5abea8(0x5a3)))){let _0x23313d=JSON[_0x5abea8(0x392)]((0x0,Me[_0x5abea8(0x14b)])((0x0,F[_0x5abea8(0x317)])(pe,this[_0x5abea8(0x614)],'creds.json'),{'encoding':_0x5abea8(0x217)}));_0xfe6756=_0x23313d['me']?.['name']||_0x23313d['me']?.[_0x5abea8(0x2fe)];}}}return _0xfe6756;}get[a0_0x1f692e(0x23d)](){const _0x1ff3b1=a0_0x1f692e;return this[_0x1ff3b1(0x387)]['profilePictureUrl'];}get[a0_0x1f692e(0x166)](){const _0x12248f=a0_0x1f692e;return{'pairingCode':this[_0x12248f(0x387)][_0x12248f(0x40a)]?.[_0x12248f(0x120)],'code':this[_0x12248f(0x387)][_0x12248f(0x40a)]?.[_0x12248f(0x5ea)],'base64':this[_0x12248f(0x387)][_0x12248f(0x40a)]?.['base64']};}async['loadWebhook'](){const _0xe530c6=a0_0x1f692e;let _0x60ec04=await this[_0xe530c6(0x40c)][_0xe530c6(0x4be)][_0xe530c6(0x4fe)](this['instanceName']);this['localWebhook'][_0xe530c6(0x484)]=_0x60ec04?.[_0xe530c6(0x484)],this[_0xe530c6(0x3c8)][_0xe530c6(0x5e7)]=_0x60ec04?.['enabled'],this['localWebhook'][_0xe530c6(0x5df)]=_0x60ec04?.[_0xe530c6(0x5df)],this[_0xe530c6(0x3c8)][_0xe530c6(0x4aa)]=_0x60ec04?.['STATUS_INSTANCE'],this[_0xe530c6(0x3c8)][_0xe530c6(0x15b)]=_0x60ec04?.[_0xe530c6(0x15b)],this['localWebhook'][_0xe530c6(0x2b8)]=_0x60ec04?.['SEND_MESSAGE'],this[_0xe530c6(0x3c8)][_0xe530c6(0x20c)]=_0x60ec04?.['MESSAGES_UPSERT'],this['localWebhook'][_0xe530c6(0x3e6)]=_0x60ec04?.[_0xe530c6(0x3e6)],this[_0xe530c6(0x3c8)][_0xe530c6(0x51d)]=_0x60ec04?.[_0xe530c6(0x51d)],this[_0xe530c6(0x3c8)][_0xe530c6(0x663)]=_0x60ec04?.[_0xe530c6(0x663)],this[_0xe530c6(0x3c8)][_0xe530c6(0x55f)]=_0x60ec04?.['GROUP_PARTICIPANTS_UPDATE'],this[_0xe530c6(0x3c8)][_0xe530c6(0x5bb)]=_0x60ec04?.[_0xe530c6(0x5bb)],this['localWebhook'][_0xe530c6(0x5a0)]=_0x60ec04?.[_0xe530c6(0x5a0)],this['localWebhook'][_0xe530c6(0x67c)]=_0x60ec04?.['CHATS_UPDATE'],this[_0xe530c6(0x3c8)][_0xe530c6(0x10d)]=_0x60ec04?.[_0xe530c6(0x10d)],this[_0xe530c6(0x3c8)][_0xe530c6(0x4c2)]=_0x60ec04?.['CONTACTS_SET'],this[_0xe530c6(0x3c8)]['CONTACTS_UPSERT']=_0x60ec04?.['CONTACTS_UPSERT'],this[_0xe530c6(0x3c8)][_0xe530c6(0x56e)]=_0x60ec04?.['CONTACTS_UPDATE'],this[_0xe530c6(0x3c8)]['PRESENCE_UPDATE']=_0x60ec04?.[_0xe530c6(0x3d6)],this['localWebhook'][_0xe530c6(0x305)]=_0x60ec04?.[_0xe530c6(0x305)],this[_0xe530c6(0x3c8)][_0xe530c6(0x5e2)]=_0x60ec04?.[_0xe530c6(0x5e2)],this[_0xe530c6(0x3c8)][_0xe530c6(0x4c3)]=_0x60ec04?.[_0xe530c6(0x4c3)];}async[a0_0x1f692e(0x58c)](_0xa851cd){const _0x22f58b=a0_0x1f692e;let _0x5173e1=[_0x22f58b(0x472),'url',_0x22f58b(0x5e7),_0x22f58b(0x5df),_0x22f58b(0x4aa),_0x22f58b(0x15b),_0x22f58b(0x3e6),_0x22f58b(0x20c),'SEND_MESSAGE',_0x22f58b(0x51d),_0x22f58b(0x663),_0x22f58b(0x55f),_0x22f58b(0x5bb),_0x22f58b(0x5a0),_0x22f58b(0x67c),'CHATS_DELETE',_0x22f58b(0x4c2),_0x22f58b(0x492),_0x22f58b(0x56e),'PRESENCE_UPDATE',_0x22f58b(0x305),_0x22f58b(0x5e2),'groups_ignore'],_0x4ab003={};return _0x5173e1[_0x22f58b(0x171)](_0xdbfc9f=>{_0xa851cd[_0xdbfc9f]!==void 0x0&&(_0x4ab003[_0xdbfc9f]=_0xa851cd[_0xdbfc9f]);}),await this[_0x22f58b(0x40c)][_0x22f58b(0x4be)][_0x22f58b(0x2eb)](_0x4ab003,this['instanceName']),Object[_0x22f58b(0x66c)](this[_0x22f58b(0x3c8)],_0x4ab003),await this[_0x22f58b(0x40c)]['webhook'][_0x22f58b(0x4fe)](this[_0x22f58b(0x614)]);}async[a0_0x1f692e(0x51f)](){const _0x3be0d3=a0_0x1f692e;return await this[_0x3be0d3(0x40c)][_0x3be0d3(0x4be)][_0x3be0d3(0x4fe)](this[_0x3be0d3(0x614)]);}async['sendDataWebhook'](_0x315812,_0xeacbd0){const _0x2cf9d4=a0_0x1f692e;let _0x529ca4=_0x315812[_0x2cf9d4(0x38c)](/[\.-]/gm,'_')[_0x2cf9d4(0x534)](),_0x232fcd=this[_0x2cf9d4(0x3c8)][_0x2cf9d4(0x5e7)]&&(0x0,$[_0x2cf9d4(0x3b1)])(this[_0x2cf9d4(0x3c8)][_0x2cf9d4(0x484)])?this[_0x2cf9d4(0x3c8)][_0x2cf9d4(0x484)]+(this[_0x2cf9d4(0x3c8)][_0x2cf9d4(0x5df)]?this['webhookMap'][_0x315812]:''):null,_0x3bf187=this[_0x2cf9d4(0x3c8)][_0x529ca4],_0x455f82=ie&&ie[_0x2cf9d4(0x5e7)]&&(0x0,$['isURL'])(ie[_0x2cf9d4(0x484)])?ie[_0x2cf9d4(0x484)]+(ie[_0x2cf9d4(0x5df)]?this[_0x2cf9d4(0xea)][_0x315812]:''):null,_0x5ee44b=ie?ie[_0x529ca4]:null;if(_0x3bf187&&_0x232fcd)try{await se[_0x2cf9d4(0x205)][_0x2cf9d4(0x2eb)]({'baseURL':_0x232fcd})[_0x2cf9d4(0x2ac)]('',{'event':_0x315812,'instance':this[_0x2cf9d4(0x387)][_0x2cf9d4(0x543)],'data':_0xeacbd0}),this[_0x2cf9d4(0xde)][_0x2cf9d4(0x671)](_0x2cf9d4(0x637)+_0x315812+':\x20'+_0x232fcd);}catch(_0x13ad5f){this['logger']['error'](this[_0x2cf9d4(0x614)]+'\x20('+this[_0x2cf9d4(0x387)]['wuid']+'):\x20'+{'local':c[_0x2cf9d4(0x543)]+_0x2cf9d4(0x548),'message':_0x13ad5f?.['message'],'hostName':_0x13ad5f?.[_0x2cf9d4(0x610)],'syscall':_0x13ad5f?.[_0x2cf9d4(0x385)],'code':_0x13ad5f?.[_0x2cf9d4(0x5ea)],'error':_0x13ad5f?.[_0x2cf9d4(0x3f2)],'stack':_0x13ad5f?.['stack'],'name':_0x13ad5f?.[_0x2cf9d4(0x543)]});}if(_0x5ee44b&&_0x455f82)try{await se[_0x2cf9d4(0x205)][_0x2cf9d4(0x2eb)]({'baseURL':_0x455f82})[_0x2cf9d4(0x2ac)]('',{'event':_0x315812,'instance':this[_0x2cf9d4(0x387)]['name'],'data':_0xeacbd0}),this[_0x2cf9d4(0xde)][_0x2cf9d4(0x671)]('Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x315812+':\x20'+_0x455f82);}catch(_0x3b2141){this['logger']['error'](this[_0x2cf9d4(0x614)]+'\x20('+this[_0x2cf9d4(0x387)][_0x2cf9d4(0x4f9)]+_0x2cf9d4(0x3ec)+{'local':c[_0x2cf9d4(0x543)]+_0x2cf9d4(0x48c),'message':_0x3b2141?.['message'],'hostName':_0x3b2141?.[_0x2cf9d4(0x610)],'syscall':_0x3b2141?.[_0x2cf9d4(0x385)],'code':_0x3b2141?.[_0x2cf9d4(0x5ea)],'error':_0x3b2141?.[_0x2cf9d4(0x3f2)],'stack':_0x3b2141?.['stack'],'name':_0x3b2141?.['name']});}}async['connectionUpdate']({qr:_0x5e8385,connection:_0x237f77,lastDisconnect:_0x1f359f}){const _0x1f4792=a0_0x1f692e;if(_0x5e8385){if(this[_0x1f4792(0x387)]['qrcode'][_0x1f4792(0x47a)]===mo)return this[_0x1f4792(0x564)](_0x1f4792(0x95),{'message':_0x1f4792(0x12d),'statusCode':y[_0x1f4792(0xae)][_0x1f4792(0x24d)]}),this[_0x1f4792(0x14f)]={'state':_0x1f4792(0x633),'statusReason':y[_0x1f4792(0xae)]['connectionClosed']},this[_0x1f4792(0x564)](_0x1f4792(0x4a5),{'instance':this[_0x1f4792(0x387)][_0x1f4792(0x543)],...this[_0x1f4792(0x14f)]}),this['sendDataWebhook'](_0x1f4792(0x5c7),{'instance':this[_0x1f4792(0x387)][_0x1f4792(0x543)],'status':'removed'}),this[_0x1f4792(0x40c)][_0x1f4792(0xd2)][_0x1f4792(0x2eb)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x1f4792(0x188)]()},this[_0x1f4792(0x387)]['name']),this[_0x1f4792(0x600)]=!0x0,this[_0x1f4792(0x15d)]['emit'](_0x1f4792(0x57b),this[_0x1f4792(0x387)][_0x1f4792(0x543)]);this[_0x1f4792(0x387)][_0x1f4792(0x40a)][_0x1f4792(0x47a)]++;let _0x268c1a={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x1f4792(0x3a3),'dark':'#000000'}};fr['default'][_0x1f4792(0x379)](_0x5e8385,_0x268c1a,(_0x1660a7,_0x553b59)=>{const _0x22f4d2=_0x1f4792;if(_0x1660a7){this['logger'][_0x22f4d2(0x6ad)](this['instanceName']+'\x20('+this['instance'][_0x22f4d2(0x4f9)]+_0x22f4d2(0x32f)+(_0x1660a7 instanceof Error?_0x1660a7[_0x22f4d2(0x5f0)]:JSON[_0x22f4d2(0x14a)](_0x1660a7,null,0x2)));return;}this['instance'][_0x22f4d2(0x40a)]['base64']=_0x553b59,this[_0x22f4d2(0x387)]['qrcode'][_0x22f4d2(0x5ea)]=_0x5e8385,this[_0x22f4d2(0x564)](_0x22f4d2(0x95),{'qrcode':{'instance':this[_0x22f4d2(0x387)][_0x22f4d2(0x543)],'pairingCode':this[_0x22f4d2(0x387)]['qrcode'][_0x22f4d2(0x120)],'code':_0x5e8385,'base64':_0x553b59}});}),this['phoneNumber']?this['instance'][_0x1f4792(0x40a)][_0x1f4792(0x120)]=await this[_0x1f4792(0x4ab)]['requestPairingCode'](this[_0x1f4792(0x26f)]):this[_0x1f4792(0x387)][_0x1f4792(0x40a)][_0x1f4792(0x120)]=null,yr[_0x1f4792(0x205)]['generate'](_0x5e8385,{'small':!0x0},_0x3b0e57=>this['logger'][_0x1f4792(0x671)](_0x1f4792(0x396)+this[_0x1f4792(0x387)][_0x1f4792(0x543)]+_0x1f4792(0x456)+this[_0x1f4792(0x387)][_0x1f4792(0x40a)][_0x1f4792(0x47a)]+',\x20pairCode:\x20'+this[_0x1f4792(0x387)]['qrcode'][_0x1f4792(0x120)]+_0x1f4792(0x286)+_0x3b0e57));}if(_0x237f77&&(this[_0x1f4792(0x14f)]={'state':_0x237f77,'statusReason':_0x1f359f?.['error']?.['output']?.[_0x1f4792(0x5cd)]??0xc8},this[_0x1f4792(0x564)](_0x1f4792(0x4a5),{'instance':this[_0x1f4792(0x387)][_0x1f4792(0x543)],...this['stateConnection']})),_0x237f77==='close'){if(this[_0x1f4792(0x5da)]++,this[_0x1f4792(0x5dd)][_0x1f4792(0x14d)](Date['now']()),this[_0x1f4792(0x5dd)]=this[_0x1f4792(0x5dd)][_0x1f4792(0x382)](_0x3e1eaf=>Date[_0x1f4792(0x188)]()-_0x3e1eaf<this[_0x1f4792(0x27a)]),_0x1f359f[_0x1f4792(0x6ad)]?.['output']?.[_0x1f4792(0x5cd)]!==y[_0x1f4792(0xae)]['loggedOut']&&this['reconnectTimestamps'][_0x1f4792(0x3f3)]<=this[_0x1f4792(0x57f)])await this[_0x1f4792(0x260)]();else{this[_0x1f4792(0x564)]('status.instance',{'instance':this['instance'][_0x1f4792(0x543)],'status':_0x1f4792(0x41b)}),this[_0x1f4792(0x240)]=!0x1,this[_0x1f4792(0x40c)][_0x1f4792(0x4be)][_0x1f4792(0x46e)](this[_0x1f4792(0x614)]),this[_0x1f4792(0x40c)][_0x1f4792(0xd2)][_0x1f4792(0x2eb)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x1f4792(0x387)][_0x1f4792(0x543)]);try{this[_0x1f4792(0xde)][_0x1f4792(0x4f3)](this[_0x1f4792(0x614)]+'\x20('+this['instance'][_0x1f4792(0x4f9)]+_0x1f4792(0x11f));let _0x2dbaf0=await this[_0x1f4792(0x40c)]['message']['deleteAll'](this['instance']['wuid']);_0x2dbaf0['success']?this['logger']['verbose'](this[_0x1f4792(0x614)]+'\x20('+this[_0x1f4792(0x387)]['wuid']+_0x1f4792(0x5e0)):console[_0x1f4792(0x6ad)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x2dbaf0[_0x1f4792(0x6ad)]);}catch(_0x338bc7){console[_0x1f4792(0x6ad)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x338bc7);}this[_0x1f4792(0x596)]!==null&&(this[_0x1f4792(0xde)][_0x1f4792(0x4f3)](this[_0x1f4792(0x614)]+'\x20('+this[_0x1f4792(0x387)][_0x1f4792(0x4f9)]+_0x1f4792(0x247)),clearInterval(this[_0x1f4792(0x596)]),this[_0x1f4792(0x596)]=null),this[_0x1f4792(0xde)][_0x1f4792(0x4f3)](this[_0x1f4792(0x614)]+'\x20('+this[_0x1f4792(0x387)][_0x1f4792(0x4f9)]+_0x1f4792(0x609)),this[_0x1f4792(0x423)]=null,this[_0x1f4792(0x15d)]['emit'](_0x1f4792(0x4ed),this[_0x1f4792(0x387)][_0x1f4792(0x543)],'inner'),this[_0x1f4792(0x4ab)]?.['ws']?.[_0x1f4792(0x274)](),this['client'][_0x1f4792(0x6bb)](new Error(_0x1f4792(0x324)));}}if(_0x237f77===_0x1f4792(0x45c)){this[_0x1f4792(0x406)],this[_0x1f4792(0x387)]['wuid']=this['client'][_0x1f4792(0x19a)]['id'][_0x1f4792(0x38c)](/:\d+/,'')[_0x1f4792(0x38c)]('@s.whatsapp.net',''),this[_0x1f4792(0x387)][_0x1f4792(0x23d)]=(await this['profilePicture'](this[_0x1f4792(0x387)][_0x1f4792(0x4f9)]+_0x1f4792(0x511)))[_0x1f4792(0x23d)],this[_0x1f4792(0x40c)][_0x1f4792(0xd2)][_0x1f4792(0x2eb)]({'online':!0x0,'owner':this[_0x1f4792(0x387)][_0x1f4792(0x4f9)],'lastDisconnect':null},this['instance'][_0x1f4792(0x543)]);let _0x4a9827=_0x1f4792(0x116)+this[_0x1f4792(0x387)][_0x1f4792(0x4f9)],_0x5cf4a9=0x28,_0x441160=Math[_0x1f4792(0x336)]((_0x5cf4a9-_0x4a9827[_0x1f4792(0x3f3)])/0x2),_0x3997e8='\x20'['repeat'](_0x441160),_0x13cf60=_0x1f4792(0x3c3),_0x35668e=_0x1f4792(0x3d4)+this[_0x1f4792(0x387)][_0x1f4792(0x543)],_0x3a77f2=(''+_0x3997e8+_0x4a9827+_0x3997e8)[_0x1f4792(0x23c)](_0x5cf4a9,'\x20'),_0x2261d1=(''+_0x3997e8+_0x13cf60+_0x3997e8)[_0x1f4792(0x23c)](_0x5cf4a9,'\x20'),_0x4b8ce2=(''+_0x3997e8+_0x35668e+_0x3997e8)['padEnd'](_0x5cf4a9,'\x20'),_0x57afaf=Math[_0x1f4792(0x6cf)](_0x3a77f2['length'],_0x2261d1[_0x1f4792(0x3f3)],_0x4b8ce2[_0x1f4792(0x3f3)]),_0x55cb40=_0x3a77f2['padEnd'](_0x57afaf,'\x20'),_0x18341a=_0x2261d1[_0x1f4792(0x23c)](_0x57afaf,'\x20'),_0x588a94=_0x4b8ce2['padEnd'](_0x57afaf,'\x20');this[_0x1f4792(0xde)][_0x1f4792(0x3b6)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x1f4792(0x457)](_0x57afaf)+_0x1f4792(0x541)+_0x18341a+_0x1f4792(0x640)+_0x588a94+_0x1f4792(0x640)+_0x55cb40+_0x1f4792(0x6d1)+'─'['repeat'](_0x57afaf)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x1f4792(0x208)](),this[_0x1f4792(0x240)]=!0x0;}}[a0_0x1f692e(0x406)](){const _0x409547=a0_0x1f692e;this['reconnectAttempts']=0x0,this[_0x409547(0x5dd)]=[];}async[a0_0x1f692e(0x236)](_0x335631,_0x587019=!0x1){const _0x4ea620=a0_0x1f692e;try{let _0x3803c3=await this[_0x4ea620(0x40c)][_0x4ea620(0x5f0)][_0x4ea620(0x4fe)]({'where':{'_id':_0x335631['id']}},this[_0x4ea620(0x387)][_0x4ea620(0x4f9)]);return _0x587019?_0x3803c3[0x0]:_0x3803c3[0x0]['message'];}catch{return{'conversation':''};}}['cleanStore'](){const _0x41936a=a0_0x1f692e;let _0x347d71=this[_0x41936a(0x193)][_0x41936a(0x635)](_0x41936a(0x4c8)),_0x59e6d1=this[_0x41936a(0x193)]['get'](_0x41936a(0x2ef));_0x347d71?.[_0x41936a(0x1a9)]&&!_0x59e6d1[_0x41936a(0x4f0)]&&setInterval(()=>{const _0x584874=_0x41936a;try{for(let [_0x5c8ad1,_0x7cd47f]of Object[_0x584874(0x643)](_0x347d71))_0x7cd47f===!0x0&&(0x0,Dt['execSync'])(_0x584874(0x1bd)+(0x0,F[_0x584874(0x317)])(this[_0x584874(0x16f)],_0x5c8ad1[_0x584874(0x490)](),this[_0x584874(0x387)][_0x584874(0x4f9)])+_0x584874(0x6c8));}catch{}},(_0x347d71?.[_0x41936a(0x1a9)]??0xe10)*0x3e8);}async[a0_0x1f692e(0x290)](){const _0x337528=a0_0x1f692e;let _0x1dd361=this[_0x337528(0x193)][_0x337528(0x635)]('DATABASE'),_0x3e0bf5=this[_0x337528(0x193)][_0x337528(0x635)](_0x337528(0x283));return _0x3e0bf5?.['ENABLED']?await fs(_0x3e0bf5,this[_0x337528(0x387)][_0x337528(0x543)]):_0x1dd361[_0x337528(0x4f0)]?await hs(this[_0x337528(0x387)][_0x337528(0x543)]):await(0x0,y[_0x337528(0x22f)])((0x0,F[_0x337528(0x317)])(pe,this['instance'][_0x337528(0x543)]));}async[a0_0x1f692e(0x208)](){const _0x2b2a4f=a0_0x1f692e;let _0x1e123f=()=>Math[_0x2b2a4f(0x336)](Math[_0x2b2a4f(0xb8)]()*0x2711)+0x7d0,_0x5e1324=async()=>{const _0x177e5b=_0x2b2a4f;if(!this[_0x177e5b(0x240)]){this[_0x177e5b(0xde)][_0x177e5b(0x4f3)](_0x177e5b(0x55b)),this[_0x177e5b(0x1a2)]=!0x1;return;}if(this['instance'][_0x177e5b(0x4f9)]&&this['AutomateSystem']&&this[_0x177e5b(0x596)]!==null&&this[_0x177e5b(0x596)]!==void 0x0){let _0x660aa5=Math[_0x177e5b(0x4e2)](this[_0x177e5b(0x596)]/0xea60);this['logger'][_0x177e5b(0x4f3)](this[_0x177e5b(0x614)]+'\x20('+this[_0x177e5b(0x387)][_0x177e5b(0x4f9)]+_0x177e5b(0x20b)+_0x660aa5+_0x177e5b(0x3da)),this['isRunning']=!0x1;return;}else this['instance'][_0x177e5b(0x4f9)]&&(this[_0x177e5b(0xde)]['verbose'](this[_0x177e5b(0x614)]+'\x20('+this['instance']['wuid']+_0x177e5b(0x2e8)),await this[_0x177e5b(0x40c)][_0x177e5b(0x27b)][_0x177e5b(0xe2)](this['instance'][_0x177e5b(0x4f9)]),await this[_0x177e5b(0x40c)][_0x177e5b(0x418)]['copyDataToNewModel'](this[_0x177e5b(0x387)][_0x177e5b(0x4f9)]),await this[_0x177e5b(0x40c)][_0x177e5b(0x5ab)][_0x177e5b(0xe2)](this[_0x177e5b(0x387)]['wuid']),this[_0x177e5b(0xde)]['verbose'](this[_0x177e5b(0x614)]+'\x20('+this['instance'][_0x177e5b(0x4f9)]+'):\x20Dados\x20migrados\x20com\x20sucesso'),this[_0x177e5b(0x423)]||await this['getAutomateSystem'](),(this[_0x177e5b(0x596)]===null||this[_0x177e5b(0x596)]===void 0x0)&&await this[_0x177e5b(0x28c)]());if(this[_0x177e5b(0x1a2)]){let _0x592e74=_0x1e123f();this[_0x177e5b(0xde)]['verbose'](this[_0x177e5b(0x614)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x592e74/0x3e8+_0x177e5b(0x254)),setTimeout(_0x5e1324,_0x592e74);}};if(this[_0x2b2a4f(0x1a2)])return;this[_0x2b2a4f(0x1a2)]=!0x0;let _0x33ca2a=_0x1e123f();setTimeout(_0x5e1324,_0x33ca2a);}async[a0_0x1f692e(0x454)](_0x3d1593,_0x1172d3,_0x230941,_0x1b3dab,_0x3461a5){const _0x1a7b2e=a0_0x1f692e;this[_0x1a7b2e(0xde)][_0x1a7b2e(0x4f3)](_0x1a7b2e(0x4de));try{let _0x3bc6de={'host':_0x3d1593,'port':parseInt(_0x1172d3),'protocol':_0x230941};_0x1b3dab&&_0x3461a5&&(_0x3bc6de={..._0x3bc6de,'auth':{'username':_0x1b3dab,'password':_0x3461a5}});let _0xf2619=[_0x1a7b2e(0x9e),'https://api.ipify.org?format=json',_0x1a7b2e(0x530)];for(let _0x5c7ea5 of _0xf2619)try{let _0x167d26=await se['default'][_0x1a7b2e(0x635)](_0x5c7ea5,{'proxy':_0x3bc6de}),_0x34ecb3;return _0x5c7ea5[_0x1a7b2e(0xe4)]('jsonip.com')||_0x5c7ea5[_0x1a7b2e(0xe4)](_0x1a7b2e(0x214))?_0x34ecb3=_0x167d26[_0x1a7b2e(0x66f)]['ip']:_0x5c7ea5[_0x1a7b2e(0xe4)](_0x1a7b2e(0x518))&&(_0x34ecb3=_0x167d26['data'][_0x1a7b2e(0x60f)](/\d+\.\d+\.\d+\.\d+/)[0x0]),this[_0x1a7b2e(0xde)][_0x1a7b2e(0x4f3)](_0x1a7b2e(0x325)+_0x5c7ea5+':\x20'+_0x34ecb3),!0x0;}catch(_0x22d07f){this[_0x1a7b2e(0xde)][_0x1a7b2e(0x6ad)](_0x1a7b2e(0x675)+_0x5c7ea5+'\x20using\x20the\x20proxy:'+_0x22d07f);}return!0x1;}catch(_0xe6f9c7){return this[_0x1a7b2e(0xde)][_0x1a7b2e(0x6ad)](_0x1a7b2e(0x623)+_0xe6f9c7),_0xe6f9c7[_0x1a7b2e(0xff)]?(this['logger'][_0x1a7b2e(0x6ad)](_0x1a7b2e(0x629)+_0xe6f9c7[_0x1a7b2e(0xff)]['data']),this[_0x1a7b2e(0xde)][_0x1a7b2e(0x6ad)](_0x1a7b2e(0x44c)+_0xe6f9c7[_0x1a7b2e(0xff)][_0x1a7b2e(0x555)]),this[_0x1a7b2e(0xde)][_0x1a7b2e(0x6ad)](_0x1a7b2e(0x632)+_0xe6f9c7['response'][_0x1a7b2e(0x1b8)])):_0xe6f9c7[_0x1a7b2e(0x4ea)]?this[_0x1a7b2e(0xde)][_0x1a7b2e(0x6ad)](_0x1a7b2e(0x1e4)+_0xe6f9c7[_0x1a7b2e(0x4ea)]):this['logger'][_0x1a7b2e(0x6ad)](_0x1a7b2e(0x179)+_0xe6f9c7['message']),!0x1;}}async[a0_0x1f692e(0x1a8)](_0x494ec3){const _0x1ca762=a0_0x1f692e;if(console[_0x1ca762(0x671)](_0x1ca762(0x1a8)),await this[_0x1ca762(0x454)](_0x494ec3[_0x1ca762(0x409)],_0x494ec3['port'],_0x494ec3['protocol'],_0x494ec3[_0x1ca762(0x23f)],_0x494ec3[_0x1ca762(0x475)])){console[_0x1ca762(0x671)]('working');let _0x30691e=_0x494ec3[_0x1ca762(0x6db)]+_0x1ca762(0x3b2)+_0x494ec3[_0x1ca762(0x409)]+':'+_0x494ec3[_0x1ca762(0x64f)];return _0x494ec3[_0x1ca762(0x23f)]&&_0x494ec3[_0x1ca762(0x475)]&&(_0x30691e=_0x494ec3[_0x1ca762(0x23f)]+':'+_0x494ec3['password']+'@'+_0x30691e),this[_0x1ca762(0x40c)]['auth'][_0x1ca762(0x2eb)]({'proxy':_0x30691e},this[_0x1ca762(0x387)][_0x1ca762(0x543)]),{'agent':new wr[(_0x1ca762(0x59b))](_0x30691e)};}return null;}[a0_0x1f692e(0x542)](_0x42d74c){const _0x47ebf0=a0_0x1f692e;let _0x3368ae=_0x42d74c[_0x47ebf0(0x5ca)](':');if(_0x3368ae['length']!==0x4)throw new Error(_0x47ebf0(0x5cf));return{'host':_0x3368ae[0x0],'port':_0x3368ae[0x1],'username':_0x3368ae[0x2],'password':_0x3368ae[0x3],'protocol':'http'};}async[a0_0x1f692e(0x260)](_0x108b29,_0xd88459=!0x0){const _0x5b17b8=a0_0x1f692e;try{let _0x2f96d3={},_0x313082=0x0;if(Sr&&_0xd88459){let _0x420a08;try{let _0x2ca333=(await this[_0x5b17b8(0x40c)][_0x5b17b8(0xd2)][_0x5b17b8(0x4fe)](this[_0x5b17b8(0x614)]))[_0x5b17b8(0xe7)];for(_0x2ca333&&(_0x420a08=this[_0x5b17b8(0x542)](_0x2ca333)),_0x2ca333&&ws(_0x420a08)&&(_0x2f96d3=await this['tryProxy'](_0x420a08),_0x2f96d3&&_0x313082++);!_0x2f96d3&&_0x313082<0x3;){let _0x48e6cf=dr();if(_0x48e6cf){if(_0x420a08=this[_0x5b17b8(0x542)](_0x48e6cf[_0x5b17b8(0x409)]+':'+_0x48e6cf['port']+':'+_0x48e6cf[_0x5b17b8(0x23f)]+':'+_0x48e6cf[_0x5b17b8(0x475)]),ws(_0x420a08)){if(_0x2f96d3=await this[_0x5b17b8(0x1a8)](_0x420a08),_0x2f96d3)break;}else this[_0x5b17b8(0xde)][_0x5b17b8(0x6ad)]('Configuração\x20de\x20proxy\x20inválida\x20gerada.');}_0x313082++;}}catch(_0x346359){this[_0x5b17b8(0xde)][_0x5b17b8(0x6ad)]('Erro\x20ao\x20configurar\x20proxy:\x20'+_0x346359),_0x2f96d3={};}!_0x2f96d3&&_0x313082>=0x3&&(this[_0x5b17b8(0xde)][_0x5b17b8(0x2a7)]('Nenhum\x20proxy\x20funcional\x20encontrado\x20após\x203\x20tentativas.\x20Prosseguindo\x20sem\x20proxy.'),_0x2f96d3={});}this[_0x5b17b8(0x3a0)](),this[_0x5b17b8(0x387)][_0x5b17b8(0xf8)]=await this[_0x5b17b8(0x290)]();let {version:_0x45e23b}=await(0x0,y[_0x5b17b8(0x361)])(),_0x1a6588=[Cs,br,(0x0,bs[_0x5b17b8(0x68b)])()];console['log'](_0x5b17b8(0x4a2)),console[_0x5b17b8(0x671)](_0x2f96d3);let _0x2a952f={..._0x2f96d3,'auth':{'creds':this[_0x5b17b8(0x387)][_0x5b17b8(0xf8)]['state'][_0x5b17b8(0x6b2)],'keys':(0x0,y[_0x5b17b8(0x677)])(this[_0x5b17b8(0x387)][_0x5b17b8(0xf8)][_0x5b17b8(0x3ba)][_0x5b17b8(0x50e)],(0x0,At['default'])({'level':_0x5b17b8(0x6ad)}))},'logger':(0x0,At[_0x5b17b8(0x205)])({'level':_0x5b17b8(0x6ad)}),'printQRInTerminal':!0x1,'browser':_0x108b29?['Safari\x20(Mac\x20OS)',Cs,(0x0,bs[_0x5b17b8(0x68b)])()]:_0x1a6588,'version':_0x45e23b,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x5b17b8(0x3a2)],'getMessage':async _0x54c7f6=>await this[_0x5b17b8(0x236)](_0x54c7f6),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x50653d=>(_0x50653d[_0x5b17b8(0x29e)]?.[_0x5b17b8(0x4ac)]==y[_0x5b17b8(0x1fa)]['Message']['ListMessage'][_0x5b17b8(0x444)][_0x5b17b8(0xed)]&&(_0x50653d=JSON[_0x5b17b8(0x392)](JSON[_0x5b17b8(0x14a)](_0x50653d)),_0x50653d['listMessage']['listType']=y[_0x5b17b8(0x1fa)][_0x5b17b8(0x29f)][_0x5b17b8(0x440)][_0x5b17b8(0x444)][_0x5b17b8(0x27e)]),_0x50653d)};return this[_0x5b17b8(0x600)]=!0x1,this[_0x5b17b8(0x4ab)]=(0x0,y['default'])(_0x2a952f),this['eventHandler'](),this['phoneNumber']=_0x108b29,this[_0x5b17b8(0x4ab)];}catch(_0x430037){throw this[_0x5b17b8(0xde)][_0x5b17b8(0x6ad)](this[_0x5b17b8(0x614)]+'\x20('+this[_0x5b17b8(0x387)][_0x5b17b8(0x4f9)]+_0x5b17b8(0x3ec)+(_0x430037 instanceof Error?_0x430037[_0x5b17b8(0x5f0)]:JSON[_0x5b17b8(0x14a)](_0x430037,null,0x2))),new O(_0x430037?.[_0x5b17b8(0x6bc)]());}}[a0_0x1f692e(0x4e7)](){const _0xc50e2c=a0_0x1f692e;this[_0xc50e2c(0x4ab)]['ev']['process'](_0x9a3f21=>{const _0x122c0f=_0xc50e2c;if(!this[_0x122c0f(0x600)]){let _0x1138a5=this[_0x122c0f(0x193)][_0x122c0f(0x635)](_0x122c0f(0x2ef));if(_0x9a3f21['labels.edit']){let _0x35b919=_0x9a3f21[_0x122c0f(0x645)];this[_0x122c0f(0x62c)][_0x122c0f(0x645)](_0x35b919);}if(_0x9a3f21[_0x122c0f(0x4fa)]){let _0x294b64=_0x9a3f21[_0x122c0f(0x4fa)];this[_0x122c0f(0x62c)][_0x122c0f(0x4fa)](_0x294b64);}if(_0x9a3f21[_0x122c0f(0x4a5)]&&this['connectionUpdate'](_0x9a3f21['connection.update']),_0x9a3f21[_0x122c0f(0x9c)]&&this[_0x122c0f(0x387)][_0x122c0f(0xf8)]['saveCreds'](),_0x9a3f21['messaging-history.set']){let _0x34c2b4=_0x9a3f21[_0x122c0f(0x4f2)];this['messageHandle'][_0x122c0f(0x4f2)](_0x34c2b4,_0x1138a5);}if(_0x9a3f21[_0x122c0f(0x48d)]){let _0x24b636=_0x9a3f21[_0x122c0f(0x48d)];this[_0x122c0f(0x62c)][_0x122c0f(0x48d)](_0x24b636,_0x1138a5);}if(_0x9a3f21[_0x122c0f(0x668)]){let _0x46ae9b=_0x9a3f21['messages.update'];_0x46ae9b['forEach'](_0x52f6c0=>{const _0x1e02ed=_0x122c0f;if(gr[_0x52f6c0['key']['id']]){this[_0x1e02ed(0x4ab)]['ev'][_0x1e02ed(0x38d)]('messages.upsert',{'messages':[_0x52f6c0],'type':_0x1e02ed(0x1cb)}),delete gr[_0x52f6c0[_0x1e02ed(0x497)]['id']];return;}}),this[_0x122c0f(0x62c)][_0x122c0f(0x668)](_0x46ae9b,_0x1138a5);}if(_0x9a3f21[_0x122c0f(0x533)]){let _0x106936=_0x9a3f21['presence.update'];if(this[_0x122c0f(0x3c8)]?.[_0x122c0f(0x4c3)]&&_0x106936['id'][_0x122c0f(0xe4)](_0x122c0f(0x340)))return;this['sendDataWebhook'](_0x122c0f(0x533),_0x106936);}if(!this['localWebhook']?.['groups_ignore']){if(_0x9a3f21[_0x122c0f(0x3d2)]){let _0x2b3af1=_0x9a3f21['groups.upsert'];this[_0x122c0f(0x273)]['groups.upsert'](_0x2b3af1);}if(_0x9a3f21[_0x122c0f(0x63d)]){let _0x568998=_0x9a3f21[_0x122c0f(0x63d)];this[_0x122c0f(0x273)]['groups.update'](_0x568998);}if(_0x9a3f21['group-participants.update']){let _0x4adce7=_0x9a3f21[_0x122c0f(0x620)];this[_0x122c0f(0x273)]['group-participants.update'](_0x4adce7);}}if(_0x9a3f21['chats.upsert']){let _0x44e143=_0x9a3f21['chats.upsert'];this[_0x122c0f(0x107)][_0x122c0f(0x5c3)](_0x44e143,_0x1138a5);}if(_0x9a3f21['chats.update']){let _0x5e6c25=_0x9a3f21['chats.update'];this[_0x122c0f(0x107)][_0x122c0f(0x4e6)](_0x5e6c25,_0x1138a5);}if(_0x9a3f21[_0x122c0f(0x191)]){let _0x58025c=_0x9a3f21['chats.delete'];this[_0x122c0f(0x107)][_0x122c0f(0x191)](_0x58025c);}if(_0x9a3f21['contacts.upsert']){let _0x48f1e9=_0x9a3f21[_0x122c0f(0x263)];this[_0x122c0f(0x4c4)][_0x122c0f(0x263)](_0x48f1e9,_0x1138a5);}if(_0x9a3f21['contacts.update']){let _0x334a57=_0x9a3f21[_0x122c0f(0x363)];this[_0x122c0f(0x4c4)][_0x122c0f(0x363)](_0x334a57,_0x1138a5);}}});}[a0_0x1f692e(0x4fc)](_0x44308b){let _0x455100=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x44308b);if(_0x455100&&_0x455100[0x1]==='55'){let _0x4195fe=_0x455100[0x2],_0x368df3=_0x455100[0x3],_0x35985a=_0x455100[0x4];if(_0x4195fe>='31'&&_0x368df3==='9')return _0x455100[0x1]+_0x4195fe+_0x35985a;}return _0x44308b;}[a0_0x1f692e(0x519)](_0x4e1c88){const _0x350549=a0_0x1f692e;return _0x4e1c88[_0x350549(0xe4)](_0x350549(0x340))||_0x4e1c88[_0x350549(0xe4)](_0x350549(0x511))||_0x4e1c88[_0x350549(0xe4)]('@broadcast')?_0x4e1c88:(_0x4e1c88=_0x4e1c88?.[_0x350549(0x38c)](/\s/g,'')[_0x350549(0x38c)](/\+/g,'')['replace'](/\(/g,'')[_0x350549(0x38c)](/\)/g,'')[_0x350549(0x5ca)](/\:/)[0x0][_0x350549(0x5ca)]('@')[0x0],_0x4e1c88['length']>=0x12?(_0x4e1c88=_0x4e1c88[_0x350549(0x38c)](/[^\d-]/g,''),_0x4e1c88+_0x350549(0x340)):(_0x4e1c88=_0x4e1c88[_0x350549(0x38c)](/\D/g,''),this[_0x350549(0x4fc)](_0x4e1c88)+_0x350549(0x511)));}async[a0_0x1f692e(0x615)](_0x2932d5){const _0x10a90c=a0_0x1f692e;let _0x5c097b=this['createJid'](_0x2932d5[_0x10a90c(0xca)]),_0x5a4a21=(await this[_0x10a90c(0x579)]({'numbers':[_0x5c097b]}))[0x0];if(!_0x5a4a21[_0x10a90c(0x65d)]&&!(0x0,y['isJidGroup'])(_0x5a4a21['jid']))throw new m(_0x5a4a21);let _0x42fae8=(0x0,y[_0x10a90c(0x359)])(_0x5c097b)?_0x5c097b:_0x5a4a21['jid'];if((0x0,y[_0x10a90c(0x359)])(_0x42fae8))try{await this[_0x10a90c(0x4ab)]['groupMetadata'](_0x42fae8);}catch{throw new L(_0x10a90c(0x5b6));}try{return await this['client'][_0x10a90c(0x235)](_0x42fae8),await this['client'][_0x10a90c(0x5c0)](_0x2932d5[_0x10a90c(0x2f1)],_0x5c097b),{'status':0xc8,'presence':_0x2932d5[_0x10a90c(0x2f1)]};}catch(_0x540190){throw new m(_0x540190[_0x10a90c(0x6bc)]());}}async[a0_0x1f692e(0x532)](_0x569d74){const _0x2a28bb=a0_0x1f692e;let _0x113501=this[_0x2a28bb(0x519)](_0x569d74);try{return{'wuid':_0x113501,'profilePictureUrl':await this[_0x2a28bb(0x4ab)]['profilePictureUrl'](_0x113501,_0x2a28bb(0x5a2))};}catch{return{'wuid':_0x113501,'profilePictureUrl':null};}}async[a0_0x1f692e(0x4b1)](_0x5f5b74,_0x33fa61,_0xae12fb){const _0x2c40d2=a0_0x1f692e;_0xae12fb||(_0xae12fb={});let _0x28a6de=(await this[_0x2c40d2(0x579)]({'numbers':[_0x5f5b74]}))[0x0];if(!_0x28a6de[_0x2c40d2(0x65d)]&&!(0x0,y['isJidGroup'])(_0x28a6de[_0x2c40d2(0x1dd)])&&!_0x28a6de[_0x2c40d2(0x1dd)][_0x2c40d2(0xe4)](_0x2c40d2(0x463)))throw new m(_0x28a6de);let _0x12b6f8=_0x28a6de['jid'];try{_0xae12fb?.[_0x2c40d2(0x697)]&&(await this['client'][_0x2c40d2(0x235)](_0x12b6f8),await this[_0x2c40d2(0x4ab)]['sendPresenceUpdate'](_0xae12fb?.[_0x2c40d2(0x2f1)]??_0x2c40d2(0x231),_0x12b6f8),await(0x0,y[_0x2c40d2(0x697)])(_0xae12fb[_0x2c40d2(0x697)]),await this[_0x2c40d2(0x4ab)][_0x2c40d2(0x5c0)]('paused',_0x12b6f8));let _0x3cf627=_0xae12fb?.['linkPreview']!=!0x1?void 0x0:!0x1,_0xa23af2;if(_0xae12fb?.[_0x2c40d2(0x1de)]){let _0x537a7c=_0xae12fb?.[_0x2c40d2(0x1de)],_0x827aec=_0x537a7c?.[_0x2c40d2(0x5f0)]?_0x537a7c:await this[_0x2c40d2(0x236)](_0x537a7c[_0x2c40d2(0x497)],!0x0);if(!_0x827aec)throw _0x2c40d2(0x92);_0xa23af2=_0x827aec;}let _0x3ed263;if((0x0,y['isJidGroup'])(_0x12b6f8))try{let _0x29d3e0=await this[_0x2c40d2(0x4ab)][_0x2c40d2(0x207)](_0x12b6f8);if(!_0x29d3e0)throw new L(_0x2c40d2(0x5b6));_0xae12fb?.['mentions']&&(_0xae12fb[_0x2c40d2(0x657)]?.[_0x2c40d2(0x393)]?_0x3ed263=_0x29d3e0[_0x2c40d2(0x28f)][_0x2c40d2(0x2df)](_0x417738=>_0x417738['id']):_0xae12fb[_0x2c40d2(0x657)]?.[_0x2c40d2(0x264)]?.[_0x2c40d2(0x3f3)]&&(_0x3ed263=_0xae12fb['mentions']['mentioned'][_0x2c40d2(0x2df)](_0x2b1e58=>{const _0x16f144=_0x2c40d2;let _0x23cd31=this[_0x16f144(0x519)](_0x2b1e58);return(0x0,y['isJidGroup'])(_0x23cd31)?null:_0x23cd31;})));}catch{throw new L('Group\x20not\x20found');}let _0xcdeba5=await((async()=>{const _0x14c48c=_0x2c40d2;let _0x216dd9={'quoted':_0xa23af2};if(!_0x33fa61['audio']&&!_0x33fa61[_0x14c48c(0x3f4)]&&!_0x33fa61[_0x14c48c(0x224)]&&!_0x33fa61[_0x14c48c(0x1c6)]&&_0x12b6f8!==_0x14c48c(0x142)&&!_0x33fa61[_0x14c48c(0x212)])return await this[_0x14c48c(0x4ab)][_0x14c48c(0x105)](_0x12b6f8,{'forward':{'key':{'remoteJid':this[_0x14c48c(0x387)][_0x14c48c(0x4f9)],'fromMe':!0x0},'message':_0x33fa61},'mentions':_0x3ed263},_0x216dd9);if(_0x33fa61[_0x14c48c(0x1c6)]){let _0xae508=_0x33fa61[_0x14c48c(0x1c6)];return _0xae12fb?.[_0x14c48c(0x27d)]&&(_0xae508=await this['replaceVariablesChat'](_0xae508,_0x12b6f8)),await this[_0x14c48c(0x4ab)][_0x14c48c(0x105)](_0x12b6f8,{'text':_0xae508,'mentions':_0x3ed263,'linkPreview':_0x3cf627},_0x216dd9);}return _0x12b6f8===_0x14c48c(0x142)?await this[_0x14c48c(0x4ab)]['sendMessage'](_0x12b6f8,_0x33fa61[_0x14c48c(0x555)][_0x14c48c(0xcf)],{'backgroundColor':_0x33fa61[_0x14c48c(0x555)][_0x14c48c(0x3a7)][_0x14c48c(0x3c7)],'font':_0x33fa61[_0x14c48c(0x555)][_0x14c48c(0x3a7)][_0x14c48c(0x685)],'statusJidList':_0x33fa61[_0x14c48c(0x555)][_0x14c48c(0x3a7)][_0x14c48c(0x2c6)]}):await this[_0x14c48c(0x4ab)][_0x14c48c(0x105)](_0x12b6f8,_0x33fa61,_0x216dd9);})()),{message_normalized:_0x2795dd}=this[_0x2c40d2(0x331)](_0xcdeba5[_0x2c40d2(0x5f0)],_(_0xcdeba5[_0x2c40d2(0x5f0)]),null),_0x44c69f={'_id':_0xcdeba5['key']['id'],'key':_0xcdeba5[_0x2c40d2(0x497)],'pushName':_0xcdeba5['pushName'],'message':{..._0xcdeba5[_0x2c40d2(0x5f0)]},'messageType':_(_0xcdeba5['message']),'message_normalized':{'key':_0xcdeba5[_0x2c40d2(0x497)],'pushName':_0xcdeba5[_0x2c40d2(0x496)],'messageTimestamp':_0xcdeba5['messageTimestamp']&&_0xcdeba5[_0x2c40d2(0x467)][_0x2c40d2(0x6bc)]()[_0x2c40d2(0x3f3)]<0xd?_0xcdeba5[_0x2c40d2(0x467)]*0x3e8:_0xcdeba5[_0x2c40d2(0x467)]||null,'source':(0x0,y[_0x2c40d2(0x3d5)])(_0xcdeba5[_0x2c40d2(0x497)]['id']),..._0x2795dd},'messageTimestamp':_0xcdeba5[_0x2c40d2(0x467)]&&_0xcdeba5['messageTimestamp']['toString']()[_0x2c40d2(0x3f3)]<0xd?_0xcdeba5[_0x2c40d2(0x467)]*0x3e8:_0xcdeba5[_0x2c40d2(0x467)]||null,'owner':this[_0x2c40d2(0x387)]['wuid'],'source':(0x0,y[_0x2c40d2(0x3d5)])(_0xcdeba5[_0x2c40d2(0x497)]['id'])};return this['logger'][_0x2c40d2(0x671)](_0x44c69f),this['sendDataWebhook'](_0x2c40d2(0x5d1),_0x44c69f),q(this['instanceName'],_0x2c40d2(0x4f7),{'message':_0x44c69f}),this[_0x2c40d2(0x50b)](this['configService'][_0x2c40d2(0x635)]('DATABASE'),_0x44c69f,_0x2c40d2(0x2b8)),await this[_0x2c40d2(0x40c)]['message'][_0x2c40d2(0x686)]([_0x44c69f],this[_0x2c40d2(0x387)]['wuid']),_0xcdeba5;}catch(_0x4f82d6){throw this[_0x2c40d2(0xde)][_0x2c40d2(0x6ad)](this[_0x2c40d2(0x614)]+'\x20('+this[_0x2c40d2(0x387)][_0x2c40d2(0x4f9)]+_0x2c40d2(0x3ec)+_0x4f82d6['toString']()),new m(_0x4f82d6[_0x2c40d2(0x6bc)]());}}get[a0_0x1f692e(0x2fd)](){return this['stateConnection'];}async[a0_0x1f692e(0x1df)](_0x54a4ea){const _0x561b44=a0_0x1f692e;let _0x3f5921=pr,_0x120306=He;return _0x120306&&this[_0x561b44(0x614)][_0x561b44(0x490)]()[_0x561b44(0xe4)](_0x120306[_0x561b44(0x490)]())&&(_0x54a4ea[_0x561b44(0x1df)]['text']+='\x0a\x0a'+_0x3f5921),await this[_0x561b44(0x4b1)](_0x54a4ea[_0x561b44(0xca)],{'conversation':_0x54a4ea['textMessage']['text']},_0x54a4ea?.[_0x561b44(0x4a2)]);}async['formatStatusMessage'](_0x343885){const _0x2131c9=a0_0x1f692e;if(!_0x343885[_0x2131c9(0x59f)])throw new m(_0x2131c9(0x332));if(!_0x343885[_0x2131c9(0xcf)])throw new m(_0x2131c9(0x4d2));if(_0x343885[_0x2131c9(0x370)]){let _0x5ef1e9=await this[_0x2131c9(0x40c)][_0x2131c9(0x321)][_0x2131c9(0x4fe)]({'where':{}},this[_0x2131c9(0x387)]['wuid']);if(!_0x5ef1e9[_0x2131c9(0x3f3)])throw new m(_0x2131c9(0x242));_0x343885[_0x2131c9(0x2c6)]=_0x5ef1e9[_0x2131c9(0x382)](_0x44a2fe=>_0x44a2fe['pushName'])[_0x2131c9(0x2df)](_0x588294=>_0x588294[_0x2131c9(0x472)]);}if(!_0x343885['statusJidList']?.['length']&&!_0x343885[_0x2131c9(0x370)])throw new m(_0x2131c9(0x1e6));if(_0x343885[_0x2131c9(0x59f)]===_0x2131c9(0x505)){if(!_0x343885[_0x2131c9(0x3c7)])throw new m(_0x2131c9(0x608));if(!_0x343885[_0x2131c9(0x685)])throw new m(_0x2131c9(0x5a5));return{'content':{'text':_0x343885[_0x2131c9(0xcf)]},'option':{'backgroundColor':_0x343885['backgroundColor'],'font':_0x343885['font'],'statusJidList':_0x343885[_0x2131c9(0x2c6)]}};}if(_0x343885[_0x2131c9(0x59f)]===_0x2131c9(0x5a2))return{'content':{'image':{'url':_0x343885[_0x2131c9(0xcf)]},'caption':_0x343885[_0x2131c9(0x5c5)]},'option':{'statusJidList':_0x343885['statusJidList']}};if(_0x343885[_0x2131c9(0x59f)]==='video')return{'content':{'video':{'url':_0x343885[_0x2131c9(0xcf)]},'caption':_0x343885[_0x2131c9(0x5c5)]},'option':{'statusJidList':_0x343885[_0x2131c9(0x2c6)]}};if(_0x343885[_0x2131c9(0x59f)]===_0x2131c9(0x212)){this['logger'][_0x2131c9(0x4f3)](_0x2131c9(0x400)),this[_0x2131c9(0xde)][_0x2131c9(0x4f3)](_0x2131c9(0x1c3));let _0x44cada=await this['convertaudio'](_0x343885[_0x2131c9(0xcf)]);if(typeof _0x44cada==_0x2131c9(0x6d6)){this[_0x2131c9(0xde)]['verbose'](_0x2131c9(0x531));let _0x29cb57=k['readFileSync'](_0x44cada)['toString']('base64'),_0x3ed64d={'content':{'audio':Buffer[_0x2131c9(0x301)](_0x29cb57,'base64'),'ptt':!0x0,'mimetype':_0x2131c9(0x168)},'option':{'statusJidList':_0x343885[_0x2131c9(0x2c6)]}};return k[_0x2131c9(0x1f4)](_0x44cada),_0x3ed64d;}else throw new O(_0x44cada);}throw new m(_0x2131c9(0x570));}async[a0_0x1f692e(0x2c1)](_0x28ccf0){const _0x15eaff=a0_0x1f692e;return await this[_0x15eaff(0x4b1)](_0x15eaff(0x142),{'status':await this['formatStatusMessage'](_0x28ccf0['statusMessage'])});}async[a0_0x1f692e(0x4d6)](_0x2f19a7){const _0x150c3b=a0_0x1f692e;try{let _0x2a3e8d=await(0x0,y['prepareWAMessageMedia'])({[_0x2f19a7[_0x150c3b(0x1e0)]]:(0x0,$[_0x150c3b(0x3b1)])(_0x2f19a7[_0x150c3b(0x4e1)])?{'url':_0x2f19a7[_0x150c3b(0x4e1)]}:Buffer[_0x150c3b(0x301)](_0x2f19a7[_0x150c3b(0x4e1)],_0x150c3b(0x326))},{'upload':this[_0x150c3b(0x4ab)][_0x150c3b(0x1c5)]}),_0x42d34b=_0x2f19a7['mediatype']+_0x150c3b(0x29f);if(_0x2f19a7[_0x150c3b(0x1e0)]===_0x150c3b(0x26d)&&!_0x2f19a7[_0x150c3b(0x672)]){let _0x40fc67=new RegExp(/.*\/(.+?)\./)[_0x150c3b(0x688)](_0x2f19a7[_0x150c3b(0x4e1)]);_0x2f19a7['fileName']=_0x40fc67?_0x40fc67[0x1]:null;}let _0x8790ba=(0x0,$[_0x150c3b(0x3b1)])(_0x2f19a7[_0x150c3b(0x4e1)])?_0x2f19a7['media']['split']('?')[0x0]:_0x2f19a7[_0x150c3b(0x4e1)];this[_0x150c3b(0xde)][_0x150c3b(0x4f3)](_0x150c3b(0xda)+_0x8790ba);let _0x5117ec;(0x0,$[_0x150c3b(0x3b1)])(_0x2f19a7[_0x150c3b(0x4e1)])?_0x5117ec=(0x0,Ot['getMIMEType'])(_0x8790ba):_0x2f19a7[_0x150c3b(0x672)]&&_0x2f19a7['fileName']['includes']('.')?_0x5117ec=(0x0,Ot[_0x150c3b(0x3f0)])(_0x2f19a7['fileName']):_0x5117ec=(0x0,Ot[_0x150c3b(0x3f0)])(_0x2f19a7[_0x150c3b(0x4e1)]);let _0x1e5cfa=pr,_0x4a7413=He;return _0x4a7413&&this[_0x150c3b(0x614)][_0x150c3b(0x490)]()[_0x150c3b(0xe4)](_0x4a7413[_0x150c3b(0x490)]())&&(_0x2f19a7['caption']+='\x0a\x0a'+_0x1e5cfa),_0x2a3e8d[_0x42d34b][_0x150c3b(0x5c5)]=_0x2f19a7?.[_0x150c3b(0x5c5)],_0x2a3e8d[_0x42d34b][_0x150c3b(0x62d)]=_0x5117ec,_0x2a3e8d[_0x42d34b][_0x150c3b(0x672)]=_0x2f19a7[_0x150c3b(0x672)],_0x2f19a7[_0x150c3b(0x1e0)]==='video'&&(_0x2a3e8d[_0x42d34b][_0x150c3b(0x6c1)]=Uint8Array[_0x150c3b(0x301)]((0x0,Me[_0x150c3b(0x14b)])((0x0,F[_0x150c3b(0x317)])(process['cwd'](),_0x150c3b(0x4d0)))),_0x2a3e8d[_0x42d34b][_0x150c3b(0x5fc)]=!0x1),(0x0,y[_0x150c3b(0x3d7)])('',{[_0x42d34b]:{..._0x2a3e8d[_0x42d34b]}},{'userJid':this[_0x150c3b(0x387)][_0x150c3b(0x4f9)]});}catch(_0x450d16){throw this[_0x150c3b(0xde)][_0x150c3b(0x6ad)](this['instanceName']+'\x20('+this[_0x150c3b(0x387)]['wuid']+_0x150c3b(0x3ec)+(_0x450d16 instanceof Error?_0x450d16['message']:JSON[_0x150c3b(0x14a)](_0x450d16,null,0x2))),new O(_0x450d16?.[_0x150c3b(0x6bc)]()||_0x450d16);}}async[a0_0x1f692e(0x14c)](_0x5a9f99){const _0x4f4842=a0_0x1f692e;let _0x22d2aa=await this[_0x4f4842(0x4d6)](_0x5a9f99[_0x4f4842(0x14c)]);return await this[_0x4f4842(0x4b1)](_0x5a9f99['number'],{..._0x22d2aa[_0x4f4842(0x5f0)]},_0x5a9f99?.[_0x4f4842(0x4a2)]);}async[a0_0x1f692e(0x348)](_0x3c0e28,_0x10ffa2){const _0x3eaad1=a0_0x1f692e;try{this['logger'][_0x3eaad1(0x4f3)](_0x3eaad1(0x451));let _0x4f768c,_0x616b05=_0x10ffa2+'-'+new Date()[_0x3eaad1(0x4fb)]();this['logger'][_0x3eaad1(0x4f3)](_0x3eaad1(0x34a)+_0x616b05);let _0x3a9a99=''+(0x0,F['join'])(this[_0x3eaad1(0x16f)],_0x616b05+_0x3eaad1(0x433));if(this['logger'][_0x3eaad1(0x4f3)](_0x3eaad1(0x575)+_0x3a9a99),(0x0,$[_0x3eaad1(0x4f8)])(_0x3c0e28)){this[_0x3eaad1(0xde)][_0x3eaad1(0x4f3)](_0x3eaad1(0x651));let _0x4fdce5=_0x3c0e28['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x2a65e5=Buffer['from'](_0x4fdce5,_0x3eaad1(0x326));_0x4f768c=''+(0x0,F[_0x3eaad1(0x317)])(this[_0x3eaad1(0x16f)],'temp-'+_0x616b05+_0x3eaad1(0x4a9)),this['logger']['verbose'](_0x3eaad1(0x2cf)+_0x4f768c),await(0x0,It['default'])(_0x2a65e5)['toFile'](_0x4f768c),this[_0x3eaad1(0xde)]['verbose'](_0x3eaad1(0x563));}else{this[_0x3eaad1(0xde)][_0x3eaad1(0x4f3)](_0x3eaad1(0x54d));let _0x2a937a=new Date()['getTime'](),_0x3d514c=_0x3c0e28+_0x3eaad1(0x47f)+_0x2a937a;this[_0x3eaad1(0xde)][_0x3eaad1(0x4f3)]('including\x20timestamp\x20in\x20url:\x20'+_0x3d514c);let _0x57488e=await se[_0x3eaad1(0x205)][_0x3eaad1(0x635)](_0x3d514c,{'responseType':_0x3eaad1(0x228)});this[_0x3eaad1(0xde)][_0x3eaad1(0x4f3)]('Getting\x20image\x20from\x20url');let _0x3e2d42=Buffer['from'](_0x57488e[_0x3eaad1(0x66f)],_0x3eaad1(0x46b));_0x4f768c=''+(0x0,F[_0x3eaad1(0x317)])(this[_0x3eaad1(0x16f)],_0x3eaad1(0x4d9)+_0x616b05+'.png'),this['logger']['verbose'](_0x3eaad1(0x2cf)+_0x4f768c),await(0x0,It[_0x3eaad1(0x205)])(_0x3e2d42)[_0x3eaad1(0x445)](_0x4f768c),this[_0x3eaad1(0xde)]['verbose']('Image\x20created');}return await(0x0,It[_0x3eaad1(0x205)])(_0x4f768c)[_0x3eaad1(0x1af)]()[_0x3eaad1(0x445)](_0x3a9a99),this[_0x3eaad1(0xde)][_0x3eaad1(0x4f3)](_0x3eaad1(0x26a)),k[_0x3eaad1(0x1f4)](_0x4f768c),this['logger']['verbose'](_0x3eaad1(0x6b9)),_0x3a9a99;}catch(_0x3172c6){console[_0x3eaad1(0x6ad)](_0x3eaad1(0x20f),_0x3172c6 instanceof Error?_0x3172c6['message']:JSON[_0x3eaad1(0x14a)](_0x3172c6,null,0x2));}}async[a0_0x1f692e(0x46d)](_0x5bf1fb){const _0x194db0=a0_0x1f692e;let _0x1b29f2=await this[_0x194db0(0x348)](_0x5bf1fb['stickerMessage']['image'],_0x5bf1fb['number']),_0x2afbe0=await this[_0x194db0(0x4b1)](_0x5bf1fb['number'],{'sticker':{'url':_0x1b29f2}},_0x5bf1fb?.[_0x194db0(0x4a2)]);return k[_0x194db0(0x1f4)](_0x1b29f2),this[_0x194db0(0xde)][_0x194db0(0x4f3)](_0x194db0(0x435)),_0x2afbe0;}async[a0_0x1f692e(0x329)](_0x365a61){const _0x2cbba8=a0_0x1f692e;if(this[_0x2cbba8(0xde)][_0x2cbba8(0x4f3)](_0x2cbba8(0x436)),!_0x365a61[_0x2cbba8(0x4a2)]?.['encoding']&&_0x365a61['options']?.[_0x2cbba8(0x31c)]!==!0x1&&(_0x365a61[_0x2cbba8(0x4a2)][_0x2cbba8(0x31c)]=!0x0),_0x365a61[_0x2cbba8(0x4a2)]?.[_0x2cbba8(0x31c)]){let _0x23562e=await this[_0x2cbba8(0x601)](_0x365a61[_0x2cbba8(0x5e6)][_0x2cbba8(0x212)]);if(typeof _0x23562e==_0x2cbba8(0x6d6)){let _0x247a63=k[_0x2cbba8(0x14b)](_0x23562e)[_0x2cbba8(0x6bc)](_0x2cbba8(0x326)),_0x1ebcc4=this[_0x2cbba8(0x4b1)](_0x365a61[_0x2cbba8(0xca)],{'audio':Buffer['from'](_0x247a63,_0x2cbba8(0x326)),'ptt':!0x0,'mimetype':'audio/mp4'},{'presence':_0x2cbba8(0x87),'delay':_0x365a61?.[_0x2cbba8(0x4a2)]?.['delay']});return k['unlinkSync'](_0x23562e),this[_0x2cbba8(0xde)][_0x2cbba8(0x4f3)](_0x2cbba8(0x25e)),_0x1ebcc4;}else throw new O(_0x23562e);}return await this[_0x2cbba8(0x4b1)](_0x365a61[_0x2cbba8(0xca)],{'audio':(0x0,$[_0x2cbba8(0x3b1)])(_0x365a61[_0x2cbba8(0x5e6)]['audio'])?{'url':_0x365a61['audioMessage'][_0x2cbba8(0x212)]}:Buffer['from'](_0x365a61[_0x2cbba8(0x5e6)]['audio'],'base64'),'ptt':!0x0,'mimetype':_0x2cbba8(0x333)},{'presence':_0x2cbba8(0x87),'delay':_0x365a61?.[_0x2cbba8(0x4a2)]?.['delay']});}async[a0_0x1f692e(0x601)](_0xf36b18){const _0xeb4c7e=a0_0x1f692e;this[_0xeb4c7e(0xde)][_0xeb4c7e(0x4f3)](_0xeb4c7e(0x1c3));let _0x3822fa,_0x436e29,_0x11deb0=(0x0,Ce['v4'])();if(this[_0xeb4c7e(0xde)][_0xeb4c7e(0x4f3)](_0xeb4c7e(0x5cb)+_0x11deb0),(0x0,$[_0xeb4c7e(0x3b1)])(_0xf36b18)){this[_0xeb4c7e(0xde)][_0xeb4c7e(0x4f3)](_0xeb4c7e(0x62b)),_0x436e29=''+(0x0,F[_0xeb4c7e(0x317)])(this['storePath'],_0x11deb0+_0xeb4c7e(0x681)),_0x3822fa=''+(0x0,F[_0xeb4c7e(0x317)])(this['storePath'],_0xeb4c7e(0x4d9)+_0x11deb0+'.mp3'),this[_0xeb4c7e(0xde)]['verbose'](_0xeb4c7e(0x159)+_0x436e29),this['logger'][_0xeb4c7e(0x4f3)](_0xeb4c7e(0x6af)+_0x3822fa);let _0x244758=new Date()[_0xeb4c7e(0x4fb)](),_0x34e69a=_0xf36b18+'?timestamp='+_0x244758;this['logger'][_0xeb4c7e(0x4f3)](_0xeb4c7e(0x63f)+_0x34e69a);let _0x482741=await se['default'][_0xeb4c7e(0x635)](_0x34e69a,{'responseType':_0xeb4c7e(0x228)});this[_0xeb4c7e(0xde)][_0xeb4c7e(0x4f3)](_0xeb4c7e(0x3e9)),k[_0xeb4c7e(0x1ec)](_0x3822fa,_0x482741[_0xeb4c7e(0x66f)]);}else{this[_0xeb4c7e(0xde)][_0xeb4c7e(0x4f3)](_0xeb4c7e(0x351)),_0x436e29=''+(0x0,F[_0xeb4c7e(0x317)])(this[_0xeb4c7e(0x16f)],_0x11deb0+_0xeb4c7e(0x681)),_0x3822fa=''+(0x0,F[_0xeb4c7e(0x317)])(this[_0xeb4c7e(0x16f)],_0xeb4c7e(0x4d9)+_0x11deb0+'.mp3'),this[_0xeb4c7e(0xde)][_0xeb4c7e(0x4f3)](_0xeb4c7e(0x159)+_0x436e29),this['logger'][_0xeb4c7e(0x4f3)](_0xeb4c7e(0x6af)+_0x3822fa);let _0x567250=Buffer[_0xeb4c7e(0x301)](_0xf36b18,_0xeb4c7e(0x326));k[_0xeb4c7e(0x1ec)](_0x3822fa,_0x567250),this[_0xeb4c7e(0xde)][_0xeb4c7e(0x4f3)](_0xeb4c7e(0x64c));}return this['logger']['verbose'](_0xeb4c7e(0x49b)),new Promise((_0x413d88,_0x12dbd3)=>{const _0x2e78de=_0xeb4c7e;(0x0,Dt[_0x2e78de(0x688)])(mr[_0x2e78de(0x205)][_0x2e78de(0x653)]+_0x2e78de(0x62e)+_0x3822fa+_0x2e78de(0x129)+_0x436e29+'\x20-y',_0x253622=>{const _0x34cced=_0x2e78de;k[_0x34cced(0x1f4)](_0x3822fa),this['logger'][_0x34cced(0x4f3)](_0x34cced(0x1ac)),_0x253622&&_0x12dbd3(_0x253622),this[_0x34cced(0xde)][_0x34cced(0x4f3)]('Audio\x20converted\x20to\x20mp4'),_0x413d88(_0x436e29);});});}async[a0_0x1f692e(0x5ad)](_0x8e8046){const _0x5c3d1f=a0_0x1f692e;let _0x5453ae={},_0x48e83e=_0x5c3d1f(0x625);if(_0x8e8046[_0x5c3d1f(0x5ad)]?.[_0x5c3d1f(0x14c)]){_0x48e83e=_0x8e8046[_0x5c3d1f(0x5ad)][_0x5c3d1f(0x14c)]?.[_0x5c3d1f(0x1e0)][_0x5c3d1f(0x534)]()??_0x5c3d1f(0x625),_0x5453ae[_0x5c3d1f(0x1cf)]=_0x48e83e['toLowerCase']()+_0x5c3d1f(0x29f);let _0xc4ef1c=await this[_0x5c3d1f(0x4d6)](_0x8e8046['buttonMessage']['mediaMessage']);_0x5453ae[_0x5c3d1f(0x5f0)]=_0xc4ef1c['message'][_0x5453ae[_0x5c3d1f(0x1cf)]],_0x5453ae[_0x5c3d1f(0x2bc)]='*'+_0x8e8046[_0x5c3d1f(0x5ad)][_0x5c3d1f(0x2e4)]+'*\x0a\x0a'+_0x8e8046[_0x5c3d1f(0x5ad)][_0x5c3d1f(0x115)];}let _0x1ae687={'text':_0x8e8046['buttonMessage']['buttons'][_0x5c3d1f(0x2df)](_0x2abe7e=>_0x2abe7e['buttonText']),'ids':_0x8e8046[_0x5c3d1f(0x5ad)][_0x5c3d1f(0x577)]['map'](_0x2163d7=>_0x2163d7['buttonId'])};if(!(0x0,$['arrayUnique'])(_0x1ae687[_0x5c3d1f(0x505)])||!(0x0,$[_0x5c3d1f(0x4f5)])(_0x1ae687[_0x5c3d1f(0x6a6)]))throw new m('Button\x20texts\x20cannot\x20be\x20repeated',_0x5c3d1f(0x35e));return await this[_0x5c3d1f(0x4b1)](_0x8e8046[_0x5c3d1f(0xca)],{'buttonsMessage':{'text':_0x5453ae?.[_0x5c3d1f(0x1cf)]?void 0x0:_0x8e8046[_0x5c3d1f(0x5ad)][_0x5c3d1f(0x2e4)],'contentText':_0x5453ae?.[_0x5c3d1f(0x2bc)]??_0x8e8046[_0x5c3d1f(0x5ad)][_0x5c3d1f(0x115)],'footerText':_0x8e8046[_0x5c3d1f(0x5ad)]?.[_0x5c3d1f(0x39a)],'buttons':_0x8e8046[_0x5c3d1f(0x5ad)][_0x5c3d1f(0x577)][_0x5c3d1f(0x2df)](_0x23131e=>({'buttonText':{'displayText':_0x23131e[_0x5c3d1f(0x25a)]},'buttonId':_0x23131e['buttonId'],'type':0x1})),'headerType':y[_0x5c3d1f(0x1fa)][_0x5c3d1f(0x29f)]['ButtonsMessage'][_0x5c3d1f(0x249)][_0x48e83e],[_0x5453ae?.[_0x5c3d1f(0x1cf)]]:_0x5453ae?.[_0x5c3d1f(0x5f0)]}},_0x8e8046?.['options']);}async[a0_0x1f692e(0x1dc)](_0x549ffc){const _0x18789a=a0_0x1f692e;return await this[_0x18789a(0x4b1)](_0x549ffc[_0x18789a(0xca)],{'locationMessage':{'degreesLatitude':_0x549ffc[_0x18789a(0x1dc)][_0x18789a(0xd6)],'degreesLongitude':_0x549ffc['locationMessage']['longitude'],'name':_0x549ffc[_0x18789a(0x1dc)]?.[_0x18789a(0x543)],'address':_0x549ffc[_0x18789a(0x1dc)]?.[_0x18789a(0x5a7)]}},_0x549ffc?.[_0x18789a(0x4a2)]);}async[a0_0x1f692e(0x2a2)](_0x2473d8){const _0x49b66a=a0_0x1f692e;let _0x473f4d={},_0x4f8287=_0x5c3c65=>{const _0xaea9de=a0_0x37ec;let _0x738e31=_0xaea9de(0x624)+_0x5c3c65['fullName']+_0xaea9de(0x3c2)+_0x5c3c65[_0xaea9de(0x11a)]+'\x0a';_0x5c3c65[_0xaea9de(0x16c)]&&(_0x738e31+=_0xaea9de(0x538)+_0x5c3c65[_0xaea9de(0x16c)]+';\x0a'),_0x5c3c65[_0xaea9de(0x50f)]&&(_0x738e31+=_0xaea9de(0xab)+_0x5c3c65['email']+'\x0a'),_0x5c3c65[_0xaea9de(0x484)]&&(_0x738e31+=_0xaea9de(0x257)+_0x5c3c65[_0xaea9de(0x484)]+'\x0a');let _0x2950b1='';return _0x5c3c65[_0xaea9de(0x26f)]&&_0x5c3c65[_0xaea9de(0x26f)]['split']('|')['forEach']((_0x15088f,_0x3668f)=>{const _0x327fa1=_0xaea9de;let _0x1d0f86=this['createJid'](_0x15088f)['replace'](_0x327fa1(0x511),'');_0x2950b1+=_0x327fa1(0x46f)+(_0x3668f+0x1)+'.TEL;waid='+_0x1d0f86+':'+_0x15088f+_0x327fa1(0x3b7)+(_0x3668f+0x1)+'.X-ABLabel:Celular\x0a';}),_0x738e31+=_0x2950b1+_0xaea9de(0x5db),_0x738e31;};return _0x2473d8[_0x49b66a(0x2a2)][_0x49b66a(0x3f3)]===0x1?_0x473f4d['contactMessage']={'displayName':_0x2473d8[_0x49b66a(0x2a2)][0x0][_0x49b66a(0x11a)],'vcard':_0x4f8287(_0x2473d8[_0x49b66a(0x2a2)][0x0])}:_0x473f4d[_0x49b66a(0x56c)]={'displayName':_0x2473d8[_0x49b66a(0x2a2)][_0x49b66a(0x3f3)]+_0x49b66a(0x352),'contacts':_0x2473d8[_0x49b66a(0x2a2)]['map'](_0x4badb3=>({'displayName':_0x4badb3['fullName'],'vcard':_0x4f8287(_0x4badb3)}))},await this[_0x49b66a(0x4b1)](_0x2473d8[_0x49b66a(0xca)],{..._0x473f4d},_0x2473d8?.[_0x49b66a(0x4a2)]);}async[a0_0x1f692e(0x2de)](_0x26305c){const _0x47f5be=a0_0x1f692e;return await this[_0x47f5be(0x4b1)](_0x26305c['reactionMessage']['key'][_0x47f5be(0x2e1)],{'reactionMessage':{'key':_0x26305c['reactionMessage'][_0x47f5be(0x497)],'text':_0x26305c[_0x47f5be(0x2de)][_0x47f5be(0x485)]}});}async[a0_0x1f692e(0x579)](_0x311b57){const _0x37af6d=a0_0x1f692e;let _0x53b0f3=[];for await(let _0x15e0da of _0x311b57[_0x37af6d(0x139)]){let _0x895f28=this[_0x37af6d(0x519)](_0x15e0da),_0x2cb60e=!0x1;try{if((0x0,y['isJidGroup'])(_0x895f28)){let _0xcb7c40=await this[_0x37af6d(0x30c)]({'groupJid':_0x895f28},_0x37af6d(0x401));_0x53b0f3[_0x37af6d(0x14d)](new ge(_0xcb7c40[_0x37af6d(0x1f7)]['id'],!!_0xcb7c40?.[_0x37af6d(0x1f7)]['id'],_0xcb7c40?.[_0x37af6d(0x1f7)][_0x37af6d(0x5be)])),_0x2cb60e=!!_0xcb7c40?.[_0x37af6d(0x1f7)]['id'];}else{let _0x112d01=(await this[_0x37af6d(0x4ab)][_0x37af6d(0x41e)](_0x895f28))[0x0];_0x53b0f3[_0x37af6d(0x14d)](new ge(_0x112d01[_0x37af6d(0x1dd)],_0x112d01[_0x37af6d(0x65d)])),_0x2cb60e=_0x112d01[_0x37af6d(0x65d)];}}catch{await this[_0x37af6d(0x417)](_0x895f28,_0x2cb60e),_0x53b0f3['push'](new ge(_0x15e0da,!0x1));}}return _0x53b0f3;}async[a0_0x1f692e(0x417)](_0x1b46d3,_0x193a59){const _0x1a0fb1=a0_0x1f692e;try{await this[_0x1a0fb1(0x40c)][_0x1a0fb1(0x517)][_0x1a0fb1(0xc8)]({'where':{'_id':_0x1b46d3,'imported':!0x0}},this[_0x1a0fb1(0x387)][_0x1a0fb1(0x4f9)])&&(_0x193a59?await this[_0x1a0fb1(0x40c)]['chat']['updateOne']({'where':{'_id':_0x1b46d3}},{'imported':!0x1},this[_0x1a0fb1(0x387)][_0x1a0fb1(0x4f9)],void 0x0,_0x1a0fb1(0x58f)):(await this[_0x1a0fb1(0x40c)]['chat'][_0x1a0fb1(0x19d)](_0x1b46d3,this[_0x1a0fb1(0x387)][_0x1a0fb1(0x4f9)]),console['log'](_0x1a0fb1(0x50c)+_0x1b46d3+_0x1a0fb1(0x584))));}catch(_0x1b02bd){console[_0x1a0fb1(0x6ad)](_0x1a0fb1(0x33a),_0x1b02bd);}}async[a0_0x1f692e(0x4f4)](_0xc337e6){const _0x20e69e=a0_0x1f692e;try{let _0x30b2e3=_0xc337e6[_0x20e69e(0x636)][_0x20e69e(0x382)](_0x3c2166=>(0x0,y[_0x20e69e(0x359)])(_0x3c2166[_0x20e69e(0x2e1)])||(0x0,y[_0x20e69e(0xc6)])(_0x3c2166[_0x20e69e(0x2e1)]))[_0x20e69e(0x2df)](_0x2c369f=>({'remoteJid':_0x2c369f[_0x20e69e(0x2e1)],'fromMe':_0x2c369f[_0x20e69e(0x6e1)],'id':_0x2c369f['id']}));await this['client'][_0x20e69e(0x636)](_0x30b2e3);let _0x1efcd7=_0x30b2e3[_0x20e69e(0x2df)](_0x315a87=>this[_0x20e69e(0x349)](_0x315a87,{'status':'READ','owner':this[_0x20e69e(0x387)][_0x20e69e(0x4f9)]})),_0x54c9f1=_0x30b2e3[_0x20e69e(0x2df)](_0x307ad5=>this[_0x20e69e(0x40c)][_0x20e69e(0x517)][_0x20e69e(0x6b6)]({'where':{'_id':_0x307ad5[_0x20e69e(0x2e1)]}},{'unreadcount':0x0},this['instance'][_0x20e69e(0x4f9)])),[_0x1c0d59,_0x4b5e82]=await Promise[_0x20e69e(0x42a)]([Promise[_0x20e69e(0x42a)](_0x1efcd7),Promise['all'](_0x54c9f1)]);return _0x4b5e82[_0x20e69e(0x382)](_0x4714a5=>_0x4714a5!==null)[_0x20e69e(0x171)](_0x106be9=>{const _0x5ae33d=_0x20e69e;q(this['instanceName'],_0x5ae33d(0x622),{'chat':_0x106be9});}),{'message':_0x20e69e(0x644),'read':_0x20e69e(0x37a)};}catch(_0x1fb1c4){throw console[_0x20e69e(0x6ad)](_0x20e69e(0xf0),_0x1fb1c4),new O(_0x20e69e(0x1ed),_0x1fb1c4[_0x20e69e(0x6bc)]());}}async['getLastMessage'](_0x585862){const _0x6978d7=a0_0x1f692e;let _0x33c429=await this[_0x6978d7(0x10a)]({'where':{'key':{'remoteJid':_0x585862}}}),_0x28d8da=_0x33c429[_0x6978d7(0x69a)]();for(let _0x49f2e2 of _0x33c429)_0x49f2e2['messageTimestamp']>=_0x28d8da[_0x6978d7(0x467)]&&(_0x28d8da=_0x49f2e2);return _0x28d8da;}async['archiveChat'](_0x1eb945){const _0x4f49b5=a0_0x1f692e;this['logger'][_0x4f49b5(0x4f3)](_0x4f49b5(0x38f));try{let _0x126c58=_0x1eb945[_0x4f49b5(0x309)],_0x10c586=_0x1eb945[_0x4f49b5(0x517)];if(!_0x126c58&&_0x10c586?_0x126c58=await this['getLastMessage'](_0x10c586):(_0x126c58=_0x1eb945['lastMessage'],_0x126c58[_0x4f49b5(0x467)]=_0x126c58?.[_0x4f49b5(0x467)]??Date['now'](),_0x10c586=_0x126c58?.[_0x4f49b5(0x497)]?.[_0x4f49b5(0x2e1)]),!_0x126c58||Object[_0x4f49b5(0x50e)](_0x126c58)[_0x4f49b5(0x3f3)]===0x0)throw new L(_0x4f49b5(0x5c8));await this[_0x4f49b5(0x4ab)][_0x4f49b5(0x1eb)]({'archive':_0x1eb945[_0x4f49b5(0x280)],'lastMessages':[_0x126c58]},this[_0x4f49b5(0x519)](_0x10c586));let _0x5a16da=await this[_0x4f49b5(0x40c)]['chat'][_0x4f49b5(0x6b6)]({'where':{'_id':_0x126c58?.[_0x4f49b5(0x497)]?.[_0x4f49b5(0x2e1)]}},{'archived':_0x1eb945[_0x4f49b5(0x280)]},this[_0x4f49b5(0x387)][_0x4f49b5(0x4f9)]);return _0x5a16da&&q(this[_0x4f49b5(0x614)],'chats',{'chat':_0x5a16da}),{'chatId':_0x10c586,'archived':_0x1eb945[_0x4f49b5(0x280)]};}catch(_0x4e144c){throw new O({'archived':!0x1,'message':[_0x4f49b5(0x462),_0x4e144c['toString']()]});}}async['deleteMessage'](_0x11c640){const _0x581e41=a0_0x1f692e;try{let _0x266260=await this[_0x581e41(0x4ab)][_0x581e41(0x105)](_0x11c640[_0x581e41(0x2e1)],{'delete':_0x11c640});try{let _0x18a4e4=await this[_0x581e41(0x349)](_0x11c640,{'status':_0x581e41(0x1bf),'owner':this[_0x581e41(0x387)][_0x581e41(0x4f9)]});this[_0x581e41(0xde)][_0x581e41(0x4f3)](this[_0x581e41(0x614)]+'\x20('+this['instance']['wuid']+_0x581e41(0x6c6)+_0x18a4e4);}catch(_0x2e8e2c){console[_0x581e41(0x6ad)](_0x581e41(0x2b6),_0x2e8e2c);}return _0x266260;}catch(_0x2c215e){throw new O(_0x581e41(0x25f),_0x2c215e?.[_0x581e41(0x6bc)]());}}async['getBase64FromMediaMessage'](_0x2fe190){const _0x2dcfe1=a0_0x1f692e;try{let _0x1b4009=_0x2fe190?.[_0x2dcfe1(0x5f0)]?_0x2fe190:await this[_0x2dcfe1(0x236)](_0x2fe190['key'],!0x0);for(let _0x464364 of pa)_0x1b4009[_0x2dcfe1(0x5f0)][_0x464364]&&(_0x1b4009['message']=_0x1b4009[_0x2dcfe1(0x5f0)][_0x464364]['message']);let _0x46abc9,_0x40878f;for(let _0x55027d of da)if(_0x46abc9=_0x1b4009[_0x2dcfe1(0x5f0)][_0x55027d],_0x46abc9){_0x40878f=_0x55027d;break;}if(!_0x46abc9)throw _0x2dcfe1(0x56d);typeof _0x46abc9['mediaKey']==_0x2dcfe1(0x39b)&&(_0x1b4009[_0x2dcfe1(0x5f0)]=JSON[_0x2dcfe1(0x392)](JSON[_0x2dcfe1(0x14a)](_0x1b4009[_0x2dcfe1(0x5f0)])));let _0x1de104=await(0x0,y['downloadMediaMessage'])({'key':_0x1b4009?.['key'],'message':_0x1b4009?.['message']},_0x2dcfe1(0x649),{},{'logger':(0x0,At[_0x2dcfe1(0x205)])({'level':'silent'}),'reuploadRequest':this['client'][_0x2dcfe1(0xc5)]});if(!(_0x1de104 instanceof Buffer))throw new Error(_0x2dcfe1(0x110));let _0x24d93d=this['configService']['get']('DATABASE'),_0x320df0,_0x2a11c6;if(_0x46abc9[_0x2dcfe1(0x672)])_0x320df0=_0x46abc9['fileName'];else{let _0x1aabd5=_0x46abc9['mimetype']?.['match'](/\/(\w+)/),_0xbcec40=_0x1aabd5?_0x1aabd5[0x1]:null;if(!_0xbcec40)throw new Error(_0x2dcfe1(0x350));_0x320df0=(0x0,Ce['v4'])()+'.'+_0xbcec40;}_0x40878f===_0x2dcfe1(0x5e6)&&_0x46abc9[_0x2dcfe1(0x62d)]===_0x2dcfe1(0x132)?(_0x320df0=(0x0,Ce['v4'])()+_0x2dcfe1(0x501),_0x2a11c6=_0x2dcfe1(0x5f8)+await this['convertaudio'](_0x1de104[_0x2dcfe1(0x6bc)](_0x2dcfe1(0x326)))):(await this['saveMediaToFile'](_0x1de104,_0x320df0),_0x2a11c6=_0x2dcfe1(0x5f8)+_0x320df0);let _0x182c67=this[_0x2dcfe1(0x193)][_0x2dcfe1(0x635)](_0x2dcfe1(0x314))[_0x2dcfe1(0x2b2)];if(!_0x182c67){let _0x3b986=this[_0x2dcfe1(0x193)][_0x2dcfe1(0x635)](_0x2dcfe1(0x54c));_0x182c67=_0x2dcfe1(0x269)+(_0x3b986&&_0x3b986[_0x2dcfe1(0x452)][_0x2dcfe1(0x5ca)]('/')[0x4]);}_0x2a11c6=''+_0x182c67+_0x2a11c6;let _0x482534=0xc*0x3c*0x3c*0x3e8,_0x4360c5={'where':{'_id':_0x1b4009[_0x2dcfe1(0x497)]['id']}},_0xb336c3={'message_normalized.fileUrl':_0x2a11c6,'message_normalized.expires_fileUrl':Date[_0x2dcfe1(0x188)]()+_0x482534};try{let _0x5238b2=await this[_0x2dcfe1(0x40c)]['message'][_0x2dcfe1(0x47e)](_0x4360c5,_0xb336c3,this['instance']['wuid']);_0x5238b2&&q(this[_0x2dcfe1(0x614)],'messages',{'message':_0x5238b2});}catch(_0x4c37d1){this[_0x2dcfe1(0xde)][_0x2dcfe1(0x6ad)](this[_0x2dcfe1(0x614)]+'\x20('+this['instance'][_0x2dcfe1(0x4f9)]+'):\x20'+(_0x4c37d1 instanceof Error?_0x4c37d1[_0x2dcfe1(0x5f0)]:JSON[_0x2dcfe1(0x14a)](_0x4c37d1,null,0x2)));}return{'mediaType':_0x40878f,'fileName':_0x46abc9[_0x2dcfe1(0x672)],'caption':_0x46abc9['caption'],'size':{'fileLength':_0x46abc9[_0x2dcfe1(0x464)],'height':_0x46abc9[_0x2dcfe1(0x2c9)],'width':_0x46abc9[_0x2dcfe1(0x362)]},'mimetype':_0x46abc9[_0x2dcfe1(0x62d)],'base64':_0x1de104[_0x2dcfe1(0x6bc)]('base64'),'fileUrl':_0x2a11c6,'expires_fileUrl':Date['now']()+_0x482534};}catch(_0x1e5068){throw this[_0x2dcfe1(0xde)][_0x2dcfe1(0x6ad)](this[_0x2dcfe1(0x614)]+'\x20('+this[_0x2dcfe1(0x387)][_0x2dcfe1(0x4f9)]+_0x2dcfe1(0x3ec)+(_0x1e5068 instanceof Error?_0x1e5068[_0x2dcfe1(0x5f0)]:JSON[_0x2dcfe1(0x14a)](_0x1e5068,null,0x2))),new m(_0x1e5068['toString']());}}async[a0_0x1f692e(0x6e2)](_0xca718c,_0x46066c){const _0x22acea=a0_0x1f692e;let _0x15bc63=F[_0x22acea(0x205)][_0x22acea(0x317)](__dirname,_0x22acea(0x3bb));k[_0x22acea(0x4d7)](_0x15bc63)||k[_0x22acea(0x2ee)](_0x15bc63,{'recursive':!0x0});let _0x102b60=F[_0x22acea(0x205)]['join'](_0x15bc63,_0x46066c);return new Promise((_0xc4e9f0,_0x4815dc)=>{const _0x34b01f=_0x22acea;k[_0x34b01f(0x1e9)](_0x102b60,_0xca718c,_0x1ef596=>{const _0x461305=_0x34b01f;_0x1ef596?(this[_0x461305(0xde)][_0x461305(0x6ad)](_0x461305(0x310)+(_0x1ef596 instanceof Error?_0x1ef596[_0x461305(0x5f0)]:JSON[_0x461305(0x14a)](_0x1ef596,null,0x2))),_0x4815dc(_0x1ef596)):(this['logger'][_0x461305(0x671)](_0x461305(0x391)+_0x102b60),_0xc4e9f0(_0x102b60));});});}async['fetchContacts'](_0xb5dcd9){const _0x110a0d=a0_0x1f692e;return await this[_0x110a0d(0x40c)]['contact'][_0x110a0d(0x4fe)](_0xb5dcd9,this['instance']['wuid']);}async['fetchLabels'](){const _0x38dc12=a0_0x1f692e;return await this[_0x38dc12(0x40c)][_0x38dc12(0x239)]['find']({'where':{}},this[_0x38dc12(0x387)]['wuid']);}async[a0_0x1f692e(0x10a)](_0x206cd3){const _0x18ddd2=a0_0x1f692e;return await this[_0x18ddd2(0x40c)]['message']['find'](_0x206cd3,this[_0x18ddd2(0x387)][_0x18ddd2(0x4f9)]);}async[a0_0x1f692e(0x3d1)](){const _0x186ee8=a0_0x1f692e;let _0x48b59f=[{'query':{'where':{'owner':this[_0x186ee8(0x387)][_0x186ee8(0x4f9)],'leadInfo.tags':{'$exists':!0x1}}},'update':{'leadInfo':{'tags':[]}}},{'query':{'where':{'owner':this[_0x186ee8(0x387)][_0x186ee8(0x4f9)],'leadInfo.customFields':{'$exists':!0x1}}},'update':{'leadInfo':{'customFields':[]}}}];return await this[_0x186ee8(0x40c)][_0x186ee8(0x517)][_0x186ee8(0x696)](_0x48b59f),await this[_0x186ee8(0x40c)][_0x186ee8(0x517)][_0x186ee8(0x4fe)]({'where':{}},this[_0x186ee8(0x387)]['wuid']);}async['ensureChatIdsExist'](){const _0x9ce1e1=a0_0x1f692e;let _0x514257=await this[_0x9ce1e1(0x40c)]['chat'][_0x9ce1e1(0x4fe)]({'where':{}},this[_0x9ce1e1(0x387)]['wuid']);for(let _0x379bb4 of _0x514257)for(let _0x44aca4=0x0;_0x44aca4<_0x379bb4['leadInfo'][_0x9ce1e1(0x469)][_0x9ce1e1(0x3f3)];_0x44aca4++)if(!_0x379bb4[_0x9ce1e1(0x683)][_0x9ce1e1(0x469)][_0x44aca4][_0x9ce1e1(0xb2)]){let _0x4de20c={'where':{'_id':_0x379bb4[_0x9ce1e1(0x472)]}},_0x2d1f45={[_0x9ce1e1(0xc3)+_0x44aca4+'.chatId']:_0x379bb4[_0x9ce1e1(0x472)]};await this[_0x9ce1e1(0x40c)][_0x9ce1e1(0x517)]['updateOne'](_0x4de20c,_0x2d1f45,this[_0x9ce1e1(0x387)]['wuid']);}}async['importChats'](_0x6ad483){const _0x44b75e=a0_0x1f692e;try{if(!Array[_0x44b75e(0x4ce)](_0x6ad483)||_0x6ad483['length']===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x5b243d=[],_0x1d066f=[];for(let _0x9464ed of _0x6ad483){if(_0x9464ed[_0x44b75e(0x472)])_0x9464ed[_0x44b75e(0x472)]=this['createJid'](_0x9464ed[_0x44b75e(0x472)]);else continue;await this['repository']['chat'][_0x44b75e(0xc8)]({'where':{'_id':_0x9464ed[_0x44b75e(0x472)]}},this[_0x44b75e(0x387)][_0x44b75e(0x4f9)])?_0x1d066f[_0x44b75e(0x14d)]({'_id':_0x9464ed[_0x44b75e(0x472)],'leadInfo':_0x9464ed[_0x44b75e(0x683)],'owner':this[_0x44b75e(0x387)]['wuid']}):_0x5b243d['push']({'_id':_0x9464ed[_0x44b75e(0x472)],'owner':this[_0x44b75e(0x387)]['wuid'],'leadInfo':_0x9464ed[_0x44b75e(0x683)]});}return _0x1d066f[_0x44b75e(0x3f3)]>0x0&&await this[_0x44b75e(0x40c)][_0x44b75e(0x517)][_0x44b75e(0x696)](_0x1d066f[_0x44b75e(0x2df)](_0x46c9b1=>({'query':{'where':{'_id':_0x46c9b1['_id'],'owner':this[_0x44b75e(0x387)][_0x44b75e(0x4f9)]}},'update':_0x46c9b1}))),_0x5b243d[_0x44b75e(0x3f3)]>0x0&&await this[_0x44b75e(0x40c)]['chat'][_0x44b75e(0x453)](_0x5b243d,this[_0x44b75e(0x387)][_0x44b75e(0x4f9)]),{'updated':_0x1d066f['length'],'inserted':_0x5b243d[_0x44b75e(0x3f3)]};}catch(_0x3ac5f2){throw console[_0x44b75e(0x6ad)]('Erro\x20ao\x20importar\x20chats:',_0x3ac5f2),_0x3ac5f2;}}async['fetchPrivacySettings'](){const _0x566067=a0_0x1f692e;return await this['client'][_0x566067(0x51e)]();}async[a0_0x1f692e(0x388)](_0x2fd3cd){const _0xdf8f42=a0_0x1f692e;try{return await this[_0xdf8f42(0x4ab)][_0xdf8f42(0x1fd)](_0x2fd3cd[_0xdf8f42(0x536)][_0xdf8f42(0x5b7)]),await this[_0xdf8f42(0x4ab)]['updateProfilePicturePrivacy'](_0x2fd3cd[_0xdf8f42(0x536)][_0xdf8f42(0x11b)]),await this[_0xdf8f42(0x4ab)][_0xdf8f42(0x522)](_0x2fd3cd[_0xdf8f42(0x536)][_0xdf8f42(0x555)]),await this['client']['updateOnlinePrivacy'](_0x2fd3cd[_0xdf8f42(0x536)][_0xdf8f42(0x3b8)]),await this[_0xdf8f42(0x4ab)][_0xdf8f42(0x67b)](_0x2fd3cd['privacySettings'][_0xdf8f42(0x4d1)]),await this[_0xdf8f42(0x4ab)]['updateGroupsAddPrivacy'](_0x2fd3cd[_0xdf8f42(0x536)][_0xdf8f42(0x450)]),this[_0xdf8f42(0x4ab)]?.['ws']?.['close'](),{'update':'success','data':{'readreceipts':_0x2fd3cd['privacySettings'][_0xdf8f42(0x5b7)],'profile':_0x2fd3cd[_0xdf8f42(0x536)][_0xdf8f42(0x11b)],'status':_0x2fd3cd[_0xdf8f42(0x536)]['status'],'online':_0x2fd3cd['privacySettings']['online'],'last':_0x2fd3cd[_0xdf8f42(0x536)][_0xdf8f42(0x4d1)],'groupadd':_0x2fd3cd[_0xdf8f42(0x536)][_0xdf8f42(0x450)]}};}catch(_0x1959c5){throw new O('Error\x20updating\x20privacy\x20settings',_0x1959c5[_0xdf8f42(0x6bc)]());}}async[a0_0x1f692e(0x4d3)](_0x196a36){const _0x5abcd9=a0_0x1f692e;let _0x3dbb00=_0x196a36?this[_0x5abcd9(0x519)](_0x196a36):this[_0x5abcd9(0x4ab)]?.[_0x5abcd9(0x19a)]?.['id'];this[_0x5abcd9(0xde)][_0x5abcd9(0x4f3)]('Getting\x20profile\x20with\x20jid:\x20'+_0x3dbb00);try{if(this[_0x5abcd9(0xde)][_0x5abcd9(0x4f3)](_0x5abcd9(0xd8)),_0x196a36){let _0x3f2a26=(await this['whatsappNumber']({'numbers':[_0x3dbb00]}))?.[_0x5abcd9(0x2f3)](),_0x3ec82e=await this[_0x5abcd9(0x532)](_0x3f2a26?.['jid']),_0x1f0bad=await this[_0x5abcd9(0x37b)](_0x3f2a26?.[_0x5abcd9(0x1dd)]),_0xbf1ce3=await this['fetchBusinessProfile'](_0x3f2a26?.[_0x5abcd9(0x1dd)]);return{'wuid':_0x3f2a26?.[_0x5abcd9(0x1dd)]||_0x3dbb00,'name':_0x3f2a26?.['name'],'numberExists':_0x3f2a26?.[_0x5abcd9(0x65d)],'picture':_0x3ec82e?.[_0x5abcd9(0x23d)],'status':_0x1f0bad?.[_0x5abcd9(0x555)],'isBusiness':_0xbf1ce3['isBusiness'],'email':_0xbf1ce3?.[_0x5abcd9(0x50f)],'description':_0xbf1ce3?.[_0x5abcd9(0x115)],'website':_0xbf1ce3?.[_0x5abcd9(0x19b)]?.['shift']()};}}catch{return this[_0x5abcd9(0xde)][_0x5abcd9(0x4f3)](_0x5abcd9(0x346)),{'wuid':_0x3dbb00,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x1f692e(0x3b4)](_0x465d14){const _0x10713f=a0_0x1f692e;let _0x4e90de=(_0x465d14?this[_0x10713f(0x519)](_0x465d14):this[_0x10713f(0x4ab)]?.[_0x10713f(0x19a)]?.['id'])[_0x10713f(0x38c)](/:\d{1,2}@/g,'@');this[_0x10713f(0xde)]['verbose'](_0x10713f(0x516)+_0x4e90de);let _0xa66c30=await this[_0x10713f(0x40c)][_0x10713f(0x321)][_0x10713f(0xc8)]({'where':{'_id':_0x4e90de}},this[_0x10713f(0x387)]['wuid']),_0x57d008=_0xa66c30?_0xa66c30['pushName']:null;try{let _0x4cfac4=(await this[_0x10713f(0x579)]({'numbers':[_0x4e90de]}))?.[_0x10713f(0x2f3)](),_0x679af3=await this[_0x10713f(0x532)](_0x4cfac4?.[_0x10713f(0x1dd)]),_0x2c95d9=await this['getStatus'](_0x4cfac4?.[_0x10713f(0x1dd)]),_0x1b91e6=await this[_0x10713f(0x196)](_0x4cfac4?.[_0x10713f(0x1dd)]),_0x75bd47={'imagechat':_0x679af3?.[_0x10713f(0x23d)],'contactname':_0x57d008||null,'status':_0x2c95d9?.[_0x10713f(0x555)],'isBusiness':_0x1b91e6[_0x10713f(0x63a)],'email':_0x1b91e6?.[_0x10713f(0x50f)],'description':_0x1b91e6?.['description'],'website':_0x1b91e6?.[_0x10713f(0x19b)]?.[_0x10713f(0x2f3)](),'lastcache':Date[_0x10713f(0x188)]()},_0x106965=await this['repository'][_0x10713f(0x517)]['updateOne']({'where':{'_id':_0x4e90de}},_0x75bd47,this[_0x10713f(0x387)][_0x10713f(0x4f9)]),_0x38990a={'owner':this[_0x10713f(0x387)][_0x10713f(0x4f9)],'_id':_0x4e90de,'profilePictureUrl':_0x679af3?.[_0x10713f(0x23d)],'status':_0x2c95d9?.['status']};return this[_0x10713f(0x40c)][_0x10713f(0x321)][_0x10713f(0x47e)]([_0x38990a],this[_0x10713f(0x387)][_0x10713f(0x4f9)]),_0x106965&&q(this[_0x10713f(0x614)],'chats',{'chat':_0x106965}),{'wuid':_0x4cfac4?.[_0x10713f(0x1dd)]||_0x4e90de,'name':_0x4cfac4?.['name'],'numberExists':_0x4cfac4?.[_0x10713f(0x65d)],'picture':_0x679af3?.['profilePictureUrl'],'status':_0x2c95d9?.[_0x10713f(0x555)],'isBusiness':_0x1b91e6[_0x10713f(0x63a)],'email':_0x1b91e6?.[_0x10713f(0x50f)],'description':_0x1b91e6?.[_0x10713f(0x115)],'website':_0x1b91e6?.[_0x10713f(0x19b)]?.[_0x10713f(0x2f3)]()};}catch(_0x38a5e3){return this[_0x10713f(0xde)][_0x10713f(0x6ad)](_0x10713f(0x3f8)+(_0x38a5e3 instanceof Error?_0x38a5e3[_0x10713f(0x5f0)]:JSON[_0x10713f(0x14a)](_0x38a5e3,null,0x2))),{};}}async[a0_0x1f692e(0x196)](_0x1c0e3e){const _0x4884b2=a0_0x1f692e;this[_0x4884b2(0xde)][_0x4884b2(0x4f3)]('Fetching\x20business\x20profile');try{let _0x310f8c=_0x1c0e3e?this['createJid'](_0x1c0e3e):this['instance'][_0x4884b2(0x4f9)],_0xcdc41e=await this[_0x4884b2(0x4ab)][_0x4884b2(0x6d0)](_0x310f8c);return this[_0x4884b2(0xde)][_0x4884b2(0x4f3)](_0x4884b2(0x234)),_0xcdc41e?(this['logger'][_0x4884b2(0x4f3)]('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0xcdc41e}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x4884b2(0x579)]({'numbers':[_0x310f8c]}))?.['shift']()};}catch(_0x50c1e0){throw new O(_0x4884b2(0x3b5),_0x50c1e0[_0x4884b2(0x6bc)]());}}async[a0_0x1f692e(0x37b)](_0x239b29){const _0x461d3b=a0_0x1f692e;let _0x3bc232=this[_0x461d3b(0x519)](_0x239b29);try{return{'wuid':_0x3bc232,'status':(await this[_0x461d3b(0x4ab)][_0x461d3b(0x2f4)](_0x3bc232))?.['status']};}catch{return{'wuid':_0x3bc232,'status':null};}}async[a0_0x1f692e(0xa2)](_0x423631){const _0x439ff0=a0_0x1f692e;try{return await this[_0x439ff0(0x4ab)][_0x439ff0(0xa2)](_0x423631),{'update':_0x439ff0(0x37a)};}catch(_0x3b6f1c){throw new O(_0x439ff0(0x3b5),_0x3b6f1c['toString']());}}async['updateProfileStatus'](_0x8607a0){const _0x445472=a0_0x1f692e;try{return await this['client'][_0x445472(0x250)](_0x8607a0),{'update':_0x445472(0x37a)};}catch(_0x4a513f){throw new O(_0x445472(0x626),_0x4a513f[_0x445472(0x6bc)]());}}async[a0_0x1f692e(0x5ed)](_0x6523dc){const _0x57bbed=a0_0x1f692e;try{let _0x15a623;if((0x0,$['isURL'])(_0x6523dc)){let _0x2e413a=new Date()[_0x57bbed(0x4fb)](),_0x4a84b6=_0x6523dc+_0x57bbed(0x47f)+_0x2e413a;_0x15a623=(await se[_0x57bbed(0x205)][_0x57bbed(0x635)](_0x4a84b6,{'responseType':'arraybuffer'}))[_0x57bbed(0x66f)];}else{if((0x0,$[_0x57bbed(0x4f8)])(_0x6523dc))_0x15a623=Buffer[_0x57bbed(0x301)](_0x6523dc,'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x57bbed(0x4ab)][_0x57bbed(0x5ed)](this[_0x57bbed(0x387)][_0x57bbed(0x4f9)],_0x15a623),{'update':'success'};}catch(_0x9276bd){throw new O(_0x57bbed(0x20e),_0x9276bd[_0x57bbed(0x6bc)]());}}async['removeProfilePicture'](){const _0x5eac73=a0_0x1f692e;try{return await this['client'][_0x5eac73(0x211)](this[_0x5eac73(0x387)][_0x5eac73(0x4f9)]),{'update':_0x5eac73(0x37a)};}catch(_0x597a21){throw new O(_0x5eac73(0x104),_0x597a21[_0x5eac73(0x6bc)]());}}async[a0_0x1f692e(0x460)](_0xa0059a){const _0x3e09d7=a0_0x1f692e;try{let _0x47c749=_0xa0059a[_0x3e09d7(0x28f)][_0x3e09d7(0x2df)](_0x18cfa8=>this[_0x3e09d7(0x519)](_0x18cfa8)),{id:_0x316815}=await this[_0x3e09d7(0x4ab)][_0x3e09d7(0x552)](_0xa0059a[_0x3e09d7(0x5be)],_0x47c749);return _0xa0059a?.[_0x3e09d7(0x115)]&&await this[_0x3e09d7(0x4ab)][_0x3e09d7(0x698)](_0x316815,_0xa0059a[_0x3e09d7(0x115)]),{'metadata':await this[_0x3e09d7(0x4ab)][_0x3e09d7(0x207)](_0x316815)};}catch(_0x4ebc40){throw this[_0x3e09d7(0xde)][_0x3e09d7(0x6ad)](this['instanceName']+'\x20('+this[_0x3e09d7(0x387)]['wuid']+_0x3e09d7(0x3ec)+(_0x4ebc40 instanceof Error?_0x4ebc40[_0x3e09d7(0x5f0)]:JSON[_0x3e09d7(0x14a)](_0x4ebc40,null,0x2))),new O('Error\x20creating\x20group',_0x4ebc40[_0x3e09d7(0x6bc)]());}}async['updateGroupPicture'](_0x3aa8b5){const _0x5d57f8=a0_0x1f692e;try{let _0x187b32;if((0x0,$[_0x5d57f8(0x3b1)])(_0x3aa8b5['image'])){let _0x3fdc2a=new Date()[_0x5d57f8(0x4fb)](),_0x259e1c=_0x3aa8b5[_0x5d57f8(0x5a2)]+'?timestamp='+_0x3fdc2a;_0x187b32=(await se[_0x5d57f8(0x205)]['get'](_0x259e1c,{'responseType':_0x5d57f8(0x228)}))['data'];}else{if((0x0,$[_0x5d57f8(0x4f8)])(_0x3aa8b5[_0x5d57f8(0x5a2)]))_0x187b32=Buffer[_0x5d57f8(0x301)](_0x3aa8b5[_0x5d57f8(0x5a2)],_0x5d57f8(0x326));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x5d57f8(0x4ab)]['updateProfilePicture'](_0x3aa8b5[_0x5d57f8(0x52e)],_0x187b32),{'update':_0x5d57f8(0x37a)};}catch(_0x5e0e55){throw new O(_0x5d57f8(0x458),_0x5e0e55[_0x5d57f8(0x6bc)]());}}async[a0_0x1f692e(0x30c)](_0x3f5ab2,_0x5f28de=a0_0x1f692e(0x2d1)){const _0x2b6dc2=a0_0x1f692e;try{let _0x4f529b=await this[_0x2b6dc2(0x4ab)][_0x2b6dc2(0x207)](_0x3f5ab2[_0x2b6dc2(0x52e)]),_0x11cadb=null;try{_0x11cadb=(await this[_0x2b6dc2(0x532)](_0x3f5ab2[_0x2b6dc2(0x52e)]))[_0x2b6dc2(0x23d)];}catch(_0x53e2e3){this[_0x2b6dc2(0xde)][_0x2b6dc2(0x4f3)](this[_0x2b6dc2(0x614)]+'\x20('+this[_0x2b6dc2(0x387)][_0x2b6dc2(0x4f9)]+_0x2b6dc2(0x2d0)+_0x3f5ab2['groupJid']+':\x20'+(_0x53e2e3 instanceof Error?_0x53e2e3[_0x2b6dc2(0x5f0)]:JSON[_0x2b6dc2(0x14a)](_0x53e2e3,null,0x2)));}let _0x5dd41f=await this[_0x2b6dc2(0x40c)][_0x2b6dc2(0x517)][_0x2b6dc2(0x6b6)]({'where':{'_id':_0x3f5ab2[_0x2b6dc2(0x52e)]}},{'imagechat':_0x11cadb,'name':_0x4f529b['subject'],'group_size':_0x4f529b[_0x2b6dc2(0x282)],'group_announce':_0x4f529b[_0x2b6dc2(0x169)],'lastcache':Date[_0x2b6dc2(0x188)]()},this[_0x2b6dc2(0x387)][_0x2b6dc2(0x4f9)]);return _0x5dd41f&&q(this['instanceName'],_0x2b6dc2(0x622),{'chat':_0x5dd41f}),{'metadata':_0x4f529b,'image':_0x11cadb};}catch(_0x2a57bb){if(_0x5f28de===_0x2b6dc2(0x401))return;throw new L('Error\x20fetching\x20group',_0x2a57bb[_0x2b6dc2(0x6bc)]());}}async[a0_0x1f692e(0x4b7)](_0x33ab6c){const _0x94fe6e=a0_0x1f692e;try{return await this['client']['groupUpdateDescription'](_0x33ab6c[_0x94fe6e(0x52e)],_0x33ab6c[_0x94fe6e(0x115)]),{'update':_0x94fe6e(0x37a)};}catch(_0x594cd2){throw new O(_0x94fe6e(0x2d7),_0x594cd2['toString']());}}async[a0_0x1f692e(0x31f)](_0x10f635){const _0x5ed3b5=a0_0x1f692e;try{return await this[_0x5ed3b5(0x4ab)]['groupUpdateSubject'](_0x10f635['groupJid'],_0x10f635[_0x5ed3b5(0x543)]),{'update':_0x5ed3b5(0x37a)};}catch(_0x3816c0){throw new O(_0x5ed3b5(0x3e1),_0x3816c0[_0x5ed3b5(0x6bc)]());}}async[a0_0x1f692e(0x67d)](_0x22bf9f){const _0x1d8136=a0_0x1f692e;try{return await this[_0x1d8136(0x4ab)]['groupSettingUpdate'](_0x22bf9f[_0x1d8136(0x52e)],_0x22bf9f[_0x1d8136(0x19e)]),{'update':_0x1d8136(0x37a)};}catch(_0x476ede){throw new O('Error\x20change\x20group\x20setting',_0x476ede['toString']());}}async[a0_0x1f692e(0x30f)](){const _0x49823e=a0_0x1f692e;try{let _0x4f92da=[],_0x274fc6=await this[_0x49823e(0x4ab)][_0x49823e(0x560)](),_0x19dec4=Object[_0x49823e(0x513)](_0x274fc6),_0x3652f9=_0x19dec4['filter'](_0x4b2f77=>(0x0,y[_0x49823e(0x359)])(_0x4b2f77?.['id']))[_0x49823e(0x2df)](async _0x59cae8=>{const _0xa516e5=_0x49823e;try{return await this[_0xa516e5(0x4ab)][_0xa516e5(0x23d)](_0x59cae8['id'],_0xa516e5(0x45b));}catch(_0x400769){return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0xa516e5(0x387)]['wuid']+_0xa516e5(0x2d0)+_0x59cae8['id']+':\x20'+(_0x400769 instanceof Error?_0x400769[_0xa516e5(0x5f0)]:JSON[_0xa516e5(0x14a)](_0x400769,null,0x2))),null;}}),_0x17beab=await Promise['all'](_0x3652f9);for(let _0x1c8e68=0x0;_0x1c8e68<_0x19dec4[_0x49823e(0x3f3)];_0x1c8e68++){let _0x4f4042=_0x19dec4[_0x1c8e68];(0x0,y['isJidGroup'])(_0x4f4042?.['id'])&&_0x4f92da[_0x49823e(0x14d)]({'groupJid':_0x4f4042?.['id'],'subject':_0x4f4042?.[_0x49823e(0x5be)],'subjectOwner':_0x4f4042?.[_0x49823e(0x4a3)]?.[_0x49823e(0x5ca)]('@')[0x0],'subjectTime':_0x4f4042?.['subjectTime'],'size':_0x4f4042?.[_0x49823e(0x28f)]?.[_0x49823e(0x3f3)],'owner':_0x4f4042?.[_0x49823e(0x54e)]?.[_0x49823e(0x5ca)]('@')[0x0],'creation':_0x4f4042?.[_0x49823e(0xa3)],'desc':_0x4f4042?.[_0x49823e(0x546)],'restrict':_0x4f4042?.[_0x49823e(0xa8)],'announce':_0x4f4042?.[_0x49823e(0x169)],'image':_0x17beab[_0x1c8e68]});}return _0x4f92da;}catch(_0xb659c1){throw new L('Error\x20fetching\x20group',_0xb659c1[_0x49823e(0x6bc)]());}}async[a0_0x1f692e(0x561)](_0xeaff8f){const _0x7f6afb=a0_0x1f692e;try{let _0x3aa921=await this[_0x7f6afb(0x4ab)][_0x7f6afb(0x551)](_0xeaff8f[_0x7f6afb(0x52e)]);return{'inviteUrl':_0x7f6afb(0x430)+_0x3aa921,'inviteCode':_0x3aa921};}catch(_0x36ef50){throw new L(_0x7f6afb(0x42d),_0x36ef50[_0x7f6afb(0x6bc)]());}}async[a0_0x1f692e(0xb3)](_0x520365){const _0xb35bf7=a0_0x1f692e;try{let _0x499d31=await this[_0xb35bf7(0x4ab)][_0xb35bf7(0x13f)](_0x520365[_0xb35bf7(0x52e)]);return{'revoked':!0x0,'inviteUrl':_0xb35bf7(0x430)+_0x499d31,'inviteCode':_0x499d31};}catch(_0x2c6e11){throw new L(_0xb35bf7(0x227),_0x2c6e11['toString']());}}async[a0_0x1f692e(0x3f7)](_0x547096){const _0x880dec=a0_0x1f692e;try{if((0x0,$[_0x880dec(0x3b1)])(_0x547096[_0x880dec(0x561)]))var _0x10cd26=_0x547096[_0x880dec(0x561)][_0x880dec(0x5ca)]('/')[0x3];else var _0x10cd26=_0x547096[_0x880dec(0x561)];let _0x5a2562=await this[_0x880dec(0x4ab)][_0x880dec(0x9b)](_0x10cd26);return this[_0x880dec(0xde)][_0x880dec(0x4f3)](this[_0x880dec(0x614)]+'\x20('+this[_0x880dec(0x387)][_0x880dec(0x4f9)]+_0x880dec(0x3ec)+_0x5a2562),{'join':!0x0,'inviteCode':_0x10cd26,'groupJid':_0x5a2562};}catch(_0x5df30f){throw new L(_0x880dec(0x2f0),_0x5df30f['toString']());}}async['findParticipants'](_0x22c811){const _0x57c796=a0_0x1f692e;try{return{'participants':(await this['client']['groupMetadata'](_0x22c811[_0x57c796(0x52e)]))[_0x57c796(0x28f)]};}catch(_0x2c94dd){throw new L('No\x20participants',_0x2c94dd[_0x57c796(0x6bc)]());}}async[a0_0x1f692e(0x34b)](_0x1cfc57){const _0x13fd72=a0_0x1f692e;try{let _0x23380b=_0x1cfc57[_0x13fd72(0x28f)][_0x13fd72(0x2df)](_0x18023f=>this[_0x13fd72(0x519)](_0x18023f));return{'updateParticipants':await this[_0x13fd72(0x4ab)][_0x13fd72(0x24b)](_0x1cfc57[_0x13fd72(0x52e)],_0x23380b,_0x1cfc57['action'])};}catch(_0x816e8f){throw new m(_0x13fd72(0x2bf),_0x816e8f[_0x13fd72(0x6bc)]());}}async[a0_0x1f692e(0x1db)](_0x3ff8ba){const _0x1d64cd=a0_0x1f692e;try{let _0x232946=await this['client']['groupToggleEphemeral'](_0x3ff8ba[_0x1d64cd(0x52e)],_0x3ff8ba[_0x1d64cd(0x1cd)]);return{'success':!0x0};}catch(_0x31cac){throw new m(_0x1d64cd(0x465),_0x31cac[_0x1d64cd(0x6bc)]());}}async[a0_0x1f692e(0x243)](_0x58f714){const _0x36ba98=a0_0x1f692e;try{return await this[_0x36ba98(0x4ab)][_0x36ba98(0x90)](_0x58f714[_0x36ba98(0x52e)]),{'groupJid':_0x58f714[_0x36ba98(0x52e)],'leave':!0x0};}catch(_0x4b9b04){throw new m(_0x36ba98(0x1d2),_0x4b9b04[_0x36ba98(0x6bc)]());}}async['pollMessage'](_0xf49466){const _0x1c1872=a0_0x1f692e;return await this['sendMessageWithTyping'](_0xf49466[_0x1c1872(0xca)],{'poll':{'name':_0xf49466[_0x1c1872(0x486)]?.[_0x1c1872(0x543)],'selectableCount':_0xf49466[_0x1c1872(0x486)][_0x1c1872(0x578)],'values':_0xf49466[_0x1c1872(0x486)][_0x1c1872(0x513)]}},_0xf49466?.[_0x1c1872(0x4a2)]);}async[a0_0x1f692e(0x29e)](_0x174884){const _0x28464b=a0_0x1f692e;return await this[_0x28464b(0x4b1)](_0x174884['number'],{'listMessage':{'title':_0x174884['listMessage'][_0x28464b(0x2e4)],'description':_0x174884['listMessage'][_0x28464b(0x115)],'buttonText':_0x174884[_0x28464b(0x29e)]?.[_0x28464b(0x25a)],'footerText':_0x174884[_0x28464b(0x29e)]?.[_0x28464b(0x39a)],'sections':_0x174884[_0x28464b(0x29e)]['sections'],'listType':0x2}},_0x174884?.[_0x28464b(0x4a2)]);}async['menuMessage'](_0x4063ff){const _0x26d71e=a0_0x1f692e;let _0x3cee48;if(_0x4063ff['menuMessage'][_0x26d71e(0x59f)]===_0x26d71e(0x141)){let _0x1403ea=_0x4063ff[_0x26d71e(0x2d8)][_0x26d71e(0x505)]['indexOf']('\x0a'),_0x2218b5='',_0x59c9b8='';_0x1403ea!==-0x1?(_0x2218b5=_0x4063ff['menuMessage'][_0x26d71e(0x505)][_0x26d71e(0x5f3)](0x0,_0x1403ea)['trim'](),_0x59c9b8=_0x4063ff[_0x26d71e(0x2d8)]['text'][_0x26d71e(0x5f3)](_0x1403ea+0x1)):_0x59c9b8=_0x4063ff[_0x26d71e(0x2d8)][_0x26d71e(0x505)];let _0x5bf01f=this[_0x26d71e(0x2ae)](_0x4063ff['menuMessage']['choices']);_0x3cee48={'listMessage':{'title':_0x2218b5,'description':_0x59c9b8,'buttonText':_0x4063ff[_0x26d71e(0x2d8)][_0x26d71e(0x25a)]||'Selecione','footerText':_0x4063ff[_0x26d71e(0x2d8)]['footerText'],'sections':_0x5bf01f,'listType':0x2}};}else{if(_0x4063ff[_0x26d71e(0x2d8)][_0x26d71e(0x59f)]===_0x26d71e(0x3f4)){let _0x248b83=_0x4063ff[_0x26d71e(0x2d8)][_0x26d71e(0x43e)][_0x26d71e(0x382)](_0x1fdcf6=>!(_0x1fdcf6['startsWith']('[')&&_0x1fdcf6[_0x26d71e(0xbf)](']')))[_0x26d71e(0x2df)](_0x591d82=>_0x591d82[_0x26d71e(0x5ca)]('\x0a')[0x0]);_0x3cee48={'poll':{'name':_0x4063ff[_0x26d71e(0x2d8)]['text'],'selectableCount':_0x4063ff[_0x26d71e(0x2d8)][_0x26d71e(0x578)]||0x1,'values':_0x248b83}};}}return await this[_0x26d71e(0x4b1)](_0x4063ff[_0x26d71e(0xca)],_0x3cee48,_0x4063ff?.[_0x26d71e(0x4a2)]);}['createSectionsFromValues'](_0xd3259){const _0x2afb02=a0_0x1f692e;let _0x276cb8=[],_0x234bea={'rows':[]};return _0xd3259[_0x2afb02(0x171)](_0x1506b1=>{const _0x4311b5=_0x2afb02;if(_0x1506b1[_0x4311b5(0x1e2)]('[')&&_0x1506b1[_0x4311b5(0xbf)](']'))_0x234bea[_0x4311b5(0x1e8)][_0x4311b5(0x3f3)]>0x0&&_0x276cb8['push'](_0x234bea),_0x234bea={'title':_0x1506b1[_0x4311b5(0x655)](0x1,-0x1),'rows':[]};else{let _0x11982a=_0x1506b1['split']('\x0a')['map'](_0x4513f1=>_0x4513f1['trim']()),_0x5c280f=_0x11982a[0x0],_0x2f7531=_0x11982a[0x1]||null,_0x37fba5=_0x11982a[0x2]||_0x5c280f;_0x234bea[_0x4311b5(0x1e8)]['push']({'title':_0x5c280f,'description':_0x2f7531,'rowId':_0x37fba5});}}),_0x234bea['rows'][_0x2afb02(0x3f3)]>0x0&&_0x276cb8[_0x2afb02(0x14d)](_0x234bea),_0x276cb8;}async[a0_0x1f692e(0x349)](_0x333098,_0x25ca49){const _0xe07ea=a0_0x1f692e;if(await this[_0xe07ea(0x236)](_0x333098,!0x0)){let _0x30b0f5={'where':{'_id':_0x333098['id']}},_0x240225={'status':[_0x25ca49[_0xe07ea(0x555)]][0x0]};try{let _0x586d27=await this['repository'][_0xe07ea(0x5f0)][_0xe07ea(0x47e)](_0x30b0f5,_0x240225,this[_0xe07ea(0x387)]['wuid']);_0x586d27&&q(this[_0xe07ea(0x614)],'messages',{'message':_0x586d27});}catch{}}}['sectionsToString'](_0x350928){const _0x5e4d45=a0_0x1f692e;let _0x4dcf77=[];return _0x350928[_0x5e4d45(0x171)](_0xc0489=>{const _0x5b8c5d=_0x5e4d45;_0xc0489[_0x5b8c5d(0x2e4)]&&_0x4dcf77[_0x5b8c5d(0x14d)]('['+_0xc0489[_0x5b8c5d(0x2e4)]+']'),_0xc0489[_0x5b8c5d(0x1e8)][_0x5b8c5d(0x171)](_0x35c0dc=>{const _0x2a3b64=_0x5b8c5d;let _0x5180c9=_0x35c0dc[_0x2a3b64(0x2e4)];_0x35c0dc['description']&&(_0x5180c9+='\x0a'+_0x35c0dc[_0x2a3b64(0x115)]),_0x5180c9+='\x0a'+_0x35c0dc[_0x2a3b64(0x288)],_0x4dcf77[_0x2a3b64(0x14d)](_0x5180c9);});}),_0x4dcf77[_0x5e4d45(0x317)]('|');}[a0_0x1f692e(0x137)](_0x2be139){const _0x2cd4a2=a0_0x1f692e;let _0x16ed74=_0x2be139['replace'](/\\n/g,'\x0a')['split']('\x0a')[_0x2cd4a2(0x382)](_0x228bdb=>_0x228bdb[_0x2cd4a2(0xe4)]('TEL')||_0x228bdb[_0x2cd4a2(0xe4)]('EMAIL')),_0x24e369='';return _0x16ed74[_0x2cd4a2(0x171)](_0x27018e=>{const _0x2fb00d=_0x2cd4a2;let _0x305d01=/TEL(?:.*):(.+)/,_0x3a3e22=/EMAIL(?:.*):(.+)/,_0x1f9d4f=_0x27018e[_0x2fb00d(0x60f)](_0x305d01),_0x3477fa=_0x27018e['match'](_0x3a3e22);if(_0x1f9d4f){let _0x2f10cc=_0x1f9d4f[0x1][_0x2fb00d(0x38c)](/-| |\+|\(|\)/g,'')[_0x2fb00d(0x421)]();_0x24e369+=_0x2fb00d(0x4ae)+_0x2f10cc+'\x0a';}else{if(_0x3477fa){let _0xe5ebd5=_0x3477fa[0x1]['trim']();_0x24e369+=_0x2fb00d(0x3dd)+_0xe5ebd5+'\x0a';}}}),_0x24e369[_0x2cd4a2(0x421)]();}async['updateChatWithMessage'](_0x4954c4,_0x510dce,_0x1e5a60){const _0x2144d8=a0_0x1f692e;if(!_0x4954c4[_0x2144d8(0x4f0)])return;let _0x376f96=_0x510dce[_0x2144d8(0x497)][_0x2144d8(0x2e1)][_0x2144d8(0x38c)](/:\d{1,2}@/g,'@'),_0x517f2a=_0x510dce[_0x2144d8(0x497)][_0x2144d8(0x6e1)],_0x2d5190=_0x376f96[_0x2144d8(0xbf)]('@g.us'),_0x16f075=_0x510dce[_0x2144d8(0x3b9)]?.[_0x2144d8(0x505)]||_0x510dce['message_normalized']?.[_0x2144d8(0x5c5)]||_0x510dce[_0x2144d8(0x3b9)]?.[_0x2144d8(0x474)]||_0x510dce[_0x2144d8(0x3b9)]?.[_0x2144d8(0x543)],_0x3d5f77={'lastmsg':_0x510dce[_0x2144d8(0x467)]||Date[_0x2144d8(0x188)](),'imported':!0x1,'unreadcount':_0x517f2a?0x0:0x1,..._0x517f2a||_0x2d5190?{}:{'name':_0x510dce[_0x2144d8(0x496)]},..._0x2d5190?{'group':_0x2d5190}:{}};if(_0x1e5a60===_0x2144d8(0x20c)&&_0x517f2a&&this[_0x2144d8(0x423)]?.[_0x2144d8(0x135)][_0x2144d8(0x5e7)]&&!_0x16f075[_0x2144d8(0x1e2)](this[_0x2144d8(0x423)]?.[_0x2144d8(0x135)][_0x2144d8(0x206)])){let _0x55410a=(this[_0x2144d8(0x423)]?.[_0x2144d8(0x135)]['stopWhenYouSendMsg']||0x5)*0xea60,_0x2bc443=Date[_0x2144d8(0x188)]()+_0x55410a;_0x3d5f77[_0x2144d8(0x25b)]=_0x2bc443,this['logger'][_0x2144d8(0x4f3)](this['instanceName']+'\x20('+this['instance'][_0x2144d8(0x4f9)]+_0x2144d8(0x271)+_0x2bc443+'.');}let _0x309479=await this[_0x2144d8(0x40c)][_0x2144d8(0x517)][_0x2144d8(0x6b6)]({'where':{'_id':_0x376f96}},_0x3d5f77,this[_0x2144d8(0x387)][_0x2144d8(0x4f9)],{'new':!0x0,'upsert':!0x0});if(!_0x2d5190&&(!_0x309479?.[_0x2144d8(0x683)]||!_0x309479[_0x2144d8(0x683)][_0x2144d8(0x342)])&&_0x510dce[_0x2144d8(0x496)]&&!_0x517f2a&&await this['repository'][_0x2144d8(0x517)]['updateOne']({'where':{'_id':_0x376f96}},{'leadInfo':{'nome':_0x510dce['pushName']}},this[_0x2144d8(0x387)][_0x2144d8(0x4f9)],{'new':!0x0,'upsert':!0x1}),_0x309479)q(this[_0x2144d8(0x614)],_0x2144d8(0x622),{'chat':_0x309479});else{this['logger'][_0x2144d8(0x6ad)](this[_0x2144d8(0x614)]+'\x20('+this[_0x2144d8(0x387)][_0x2144d8(0x4f9)]+_0x2144d8(0x3a8));return;}if(!this['AutomateSystem']?.[_0x2144d8(0x135)][_0x2144d8(0x5e7)])return this[_0x2144d8(0xde)][_0x2144d8(0x4f3)](this['instanceName']+'\x20('+this[_0x2144d8(0x387)]['wuid']+_0x2144d8(0x374)),null;if(_0x309479[_0x2144d8(0x472)][_0x2144d8(0xe4)](_0x2144d8(0x340))&&this[_0x2144d8(0x423)]?.[_0x2144d8(0x135)][_0x2144d8(0x571)]===!0x0)return this[_0x2144d8(0xde)]['verbose'](this['instanceName']+'\x20('+this[_0x2144d8(0x387)][_0x2144d8(0x4f9)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x309479[_0x2144d8(0x683)]){if(_0x309479[_0x2144d8(0x683)][_0x2144d8(0x118)]===0x0||_0x309479[_0x2144d8(0x683)][_0x2144d8(0x5d8)])return this[_0x2144d8(0xde)]['verbose'](this['instanceName']+'\x20('+this[_0x2144d8(0x387)][_0x2144d8(0x4f9)]+_0x2144d8(0x483)+_0x376f96+_0x2144d8(0xb6)),null;if(_0x309479['leadInfo'][_0x2144d8(0x118)]>Date[_0x2144d8(0x188)]()&&!_0x510dce['message_normalized']?.[_0x2144d8(0x474)])return this[_0x2144d8(0xde)][_0x2144d8(0x4f3)](this[_0x2144d8(0x614)]+'\x20('+this[_0x2144d8(0x387)][_0x2144d8(0x4f9)]+_0x2144d8(0x6ca)+new Date(_0x309479[_0x2144d8(0x683)][_0x2144d8(0x118)])[_0x2144d8(0x180)]()+_0x2144d8(0xb6)),null;}this['logger']['verbose'](this[_0x2144d8(0x614)]+'\x20('+this['instance'][_0x2144d8(0x4f9)]+_0x2144d8(0x17f)),this['StartBot'](_0x1e5a60,_0x510dce);}async[a0_0x1f692e(0x2c0)](_0x574111,_0x33176f){const _0xe8c30a=a0_0x1f692e;if(_0x33176f[_0xe8c30a(0x4f0)]){let _0x9a5c69=_0x574111['map'](async _0x4021d5=>{const _0x14a7c5=_0xe8c30a;try{let _0x8d02c1={'_id':_0x4021d5[_0x14a7c5(0x472)],'owner':_0x4021d5[_0x14a7c5(0x54e)],'lastcache':0x0};if(_0x4021d5['group']!==null&&(_0x8d02c1['group']=_0x4021d5['group']),_0x4021d5[_0x14a7c5(0x543)]!==null&&(_0x8d02c1[_0x14a7c5(0x543)]=_0x4021d5[_0x14a7c5(0x543)]),_0x4021d5['contactname']!==null&&(_0x8d02c1['contactname']=_0x4021d5[_0x14a7c5(0x66e)]),_0x4021d5['imagechat']!==null&&(_0x8d02c1[_0x14a7c5(0xdd)]=_0x4021d5['imagechat']),_0x4021d5[_0x14a7c5(0xdd)]===null&&(_0x8d02c1[_0x14a7c5(0xdd)]=_0x14a7c5(0x2ed)),_0x4021d5['lastmsg']!==null&&(_0x8d02c1['lastmsg']=_0x4021d5[_0x14a7c5(0x607)]),_0x4021d5[_0x14a7c5(0x209)]!==null&&(_0x8d02c1['archived']=_0x4021d5['archived']),_0x4021d5[_0x14a7c5(0x3ac)]!==null&&(_0x8d02c1[_0x14a7c5(0x3ac)]=_0x4021d5['unreadcount']),Object[_0x14a7c5(0x50e)](_0x8d02c1)[_0x14a7c5(0x3f3)]>0x0)return await this[_0x14a7c5(0x40c)]['chat'][_0x14a7c5(0x6b6)]({'where':{'_id':_0x4021d5[_0x14a7c5(0x472)]}},_0x8d02c1,this['instance'][_0x14a7c5(0x4f9)]);}catch(_0x3d9eff){return console[_0x14a7c5(0x6ad)](_0x14a7c5(0x23e)+_0x4021d5[_0x14a7c5(0x472)]+':',_0x3d9eff),null;}}),_0x400709=(await Promise['all'](_0x9a5c69))[_0xe8c30a(0x382)](_0x5ebf45=>_0x5ebf45!==null)[_0xe8c30a(0x3f3)];this[_0xe8c30a(0xde)][_0xe8c30a(0x4f3)](this[_0xe8c30a(0x614)]+'\x20('+this[_0xe8c30a(0x387)][_0xe8c30a(0x4f9)]+_0xe8c30a(0x3ec)+_0x400709+_0xe8c30a(0x498)+this[_0xe8c30a(0x387)][_0xe8c30a(0x4f9)]+_0xe8c30a(0x16b));}}async[a0_0x1f692e(0x6ae)](_0x26e7e4){const _0x102df2=a0_0x1f692e;this[_0x102df2(0xde)]['verbose'](this[_0x102df2(0x614)]+'\x20('+this[_0x102df2(0x387)]['wuid']+'):\x20Ler\x20mensagem');let _0x5afb21={'readMessages':[{'remoteJid':_0x26e7e4[_0x102df2(0x2f5)][_0x102df2(0x20d)][_0x102df2(0x497)][_0x102df2(0x2e1)],'fromMe':_0x26e7e4[_0x102df2(0x2f5)][_0x102df2(0x20d)][_0x102df2(0x497)][_0x102df2(0x6e1)],'id':_0x26e7e4[_0x102df2(0x2f5)][_0x102df2(0x20d)][_0x102df2(0x497)]['id']}]};await this[_0x102df2(0x4f4)](_0x5afb21);}async[a0_0x1f692e(0x3cc)](_0x4018e1,_0x42ac1e){const _0xfc1fe4=a0_0x1f692e;try{let {key:_0xd55922,message_normalized:_0x3abb43}=_0x42ac1e,_0x3680f7=_0x3abb43,_0x16f7a6=_0x3abb43['text']||_0x3abb43[_0xfc1fe4(0x5c5)]||_0x3abb43['vote']||_0x3abb43[_0xfc1fe4(0x543)],_0x545f55=_0xd55922[_0xfc1fe4(0x2e1)],_0x85e155;if(_0x3680f7['key']['fromMe']&&_0x16f7a6[_0xfc1fe4(0x421)]()!==this[_0xfc1fe4(0x423)]?.[_0xfc1fe4(0x135)]['stopConversation'][_0xfc1fe4(0x421)]())return this['logger'][_0xfc1fe4(0x4f3)](this[_0xfc1fe4(0x614)]+'\x20('+this[_0xfc1fe4(0x387)]['wuid']+_0xfc1fe4(0x65a)),null;if(_0x3680f7['key'][_0xfc1fe4(0x6e1)]&&_0x16f7a6[_0xfc1fe4(0x421)]()===this[_0xfc1fe4(0x423)]?.[_0xfc1fe4(0x135)]['stopConversation'][_0xfc1fe4(0x421)]()){this[_0xfc1fe4(0xde)][_0xfc1fe4(0x4f3)](this[_0xfc1fe4(0x614)]+'\x20('+this['instance']['wuid']+_0xfc1fe4(0x6d5));let _0x59314c=await this[_0xfc1fe4(0x40c)][_0xfc1fe4(0x27b)]['find']({'remoteJid':_0x545f55,'status':_0xfc1fe4(0x45c)},this[_0xfc1fe4(0x387)][_0xfc1fe4(0x4f9)]);this[_0xfc1fe4(0xde)][_0xfc1fe4(0x4f3)](this[_0xfc1fe4(0x614)]+'\x20('+this[_0xfc1fe4(0x387)][_0xfc1fe4(0x4f9)]+_0xfc1fe4(0x365)+_0x59314c);let _0x1217fa=Date[_0xfc1fe4(0x188)](),_0x410f0;return this[_0xfc1fe4(0x423)]?.['flowConfig'][_0xfc1fe4(0x2e9)]===0x0?_0x410f0={'stoppedUntil':_0x1217fa+0x7591f6200}:_0x410f0={'stoppedUntil':_0x1217fa+this[_0xfc1fe4(0x423)]?.['flowConfig'][_0xfc1fe4(0x2e9)]*0x3c*0x3e8},this['logger'][_0xfc1fe4(0x4f3)](this['instanceName']+'\x20('+this[_0xfc1fe4(0x387)]['wuid']+_0xfc1fe4(0x488)+_0x410f0),this['updateStopChat'](_0x85e155,_0x410f0['stoppedUntil']),null;}if(_0x16f7a6&&_0x16f7a6['startsWith'](this['AutomateSystem']?.['flowConfig'][_0xfc1fe4(0x206)])&&_0x16f7a6[_0xfc1fe4(0x3f3)]>0x4){let _0x41ff5c=await this['repository'][_0xfc1fe4(0x418)]['findOne']({'where':{'startCommandWord':_0x16f7a6}},this[_0xfc1fe4(0x387)][_0xfc1fe4(0x4f9)]);if(this[_0xfc1fe4(0xde)][_0xfc1fe4(0x4f3)](this[_0xfc1fe4(0x614)]+'\x20('+this[_0xfc1fe4(0x387)]['wuid']+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x41ff5c)_0x85e155=await this['createNewConversation'](_0x41ff5c,_0x3680f7[_0xfc1fe4(0x497)],_0x3680f7);else return this[_0xfc1fe4(0xde)][_0xfc1fe4(0x4f3)](this[_0xfc1fe4(0x614)]+'\x20('+this[_0xfc1fe4(0x387)]['wuid']+_0xfc1fe4(0x4e3)),null;}else _0x85e155=await this[_0xfc1fe4(0x8c)](_0x545f55,_0x3680f7);if(_0x85e155){this[_0xfc1fe4(0xde)][_0xfc1fe4(0x4f3)](this[_0xfc1fe4(0x614)]+'\x20('+this['instance']['wuid']+_0xfc1fe4(0xc0)),!_0xd55922['fromMe']&&_0x85e155[_0xfc1fe4(0x636)]&&this[_0xfc1fe4(0x6ae)](_0x85e155);let _0x59f1a7=await this[_0xfc1fe4(0x2e2)](_0x85e155);_0x59f1a7&&await this[_0xfc1fe4(0x1f6)](_0x85e155,_0x59f1a7);}}catch(_0x5e21c6){this[_0xfc1fe4(0xde)][_0xfc1fe4(0x6ad)](this['instanceName']+'\x20('+this['instance'][_0xfc1fe4(0x4f9)]+_0xfc1fe4(0x604)+(_0x5e21c6 instanceof Error?_0x5e21c6[_0xfc1fe4(0x5f0)]:JSON[_0xfc1fe4(0x14a)](_0x5e21c6,null,0x2)));}}[a0_0x1f692e(0x315)](_0x24e457,_0x57cb70='',_0x3280aa={},_0x571d59=!0x0){const _0x2bbac9=a0_0x1f692e;for(let _0x243d44 in _0x24e457){let _0x2817a9=_0x571d59?'_'+_0x243d44:''+_0x57cb70+_0x243d44;typeof _0x24e457[_0x243d44]==_0x2bbac9(0x39b)&&_0x24e457[_0x243d44]!==null?this[_0x2bbac9(0x315)](_0x24e457[_0x243d44],_0x2817a9+'.',_0x3280aa,!0x1):_0x3280aa[_0x2817a9]=String(_0x24e457[_0x243d44]);}return _0x3280aa;}[a0_0x1f692e(0x127)](_0x1e890b){const _0x2d2617=a0_0x1f692e;let _0x137459={};for(let _0x4b0790 of _0x1e890b)typeof _0x4b0790[_0x2d2617(0x543)]==_0x2d2617(0x6d6)&&typeof _0x4b0790[_0x2d2617(0xcb)]==_0x2d2617(0x6d6)&&(_0x137459[_0x4b0790[_0x2d2617(0x543)]]=_0x4b0790['value']);return _0x137459;}async[a0_0x1f692e(0x2e2)](_0x58c737){const _0x1ee301=a0_0x1f692e;if(!this['AutomateSystem']?.[_0x1ee301(0x135)][_0x1ee301(0x5e7)]||_0x58c737[_0x1ee301(0x555)]!==_0x1ee301(0x45c)&&_0x58c737['waitingMenu_id']==='')return null;let _0x3ab4fb=_0x58c737[_0x1ee301(0x2f5)]['lastBlockId']||_0x1ee301(0x405);typeof _0x58c737[_0x1ee301(0x2f5)][_0x1ee301(0x311)]>'u'&&(_0x58c737[_0x1ee301(0x2f5)][_0x1ee301(0x311)]=!0x0);let _0x1a8cc8=_0x58c737[_0x1ee301(0x2f5)][_0x1ee301(0x311)];this[_0x1ee301(0xde)][_0x1ee301(0x4f3)](this[_0x1ee301(0x614)]+'\x20('+this[_0x1ee301(0x387)][_0x1ee301(0x4f9)]+_0x1ee301(0x91)+_0x3ab4fb+_0x1ee301(0x53c)+_0x1a8cc8);let _0x2242e7=_0x3ab4fb===_0x1ee301(0x405)?_0x58c737[_0x1ee301(0x367)][_0x1ee301(0x4fe)](_0x5e7f91=>_0x5e7f91[_0x1ee301(0x59f)]===_0x1ee301(0x405)):_0x58c737[_0x1ee301(0x367)][_0x1ee301(0x4fe)](_0x35cfbc=>_0x35cfbc['_id'][_0x1ee301(0x6bc)]()===_0x3ab4fb['toString']());if(!_0x2242e7)return this[_0x1ee301(0xde)]['error'](this[_0x1ee301(0x614)]+'\x20('+this[_0x1ee301(0x387)][_0x1ee301(0x4f9)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x3ab4fb),null;let _0x16e537={'_pushName':_0x58c737[_0x1ee301(0x2f5)][_0x1ee301(0x20d)][_0x1ee301(0x496)],..._0x58c737[_0x1ee301(0x2f5)][_0x1ee301(0x36b)]},_0x40916b=null;if(_0x58c737[_0x1ee301(0x144)]){let _0x374896=_0x58c737[_0x1ee301(0x2f5)]['lastReceivedMessage'][_0x1ee301(0x474)],_0x4b9949=_0x58c737[_0x1ee301(0x5e8)][_0x1ee301(0x4fe)](_0x2bc51f=>_0x2bc51f[_0x1ee301(0x3a7)]===_0x374896);if(_0x4b9949){let _0x5704b3=_0x4b9949[_0x1ee301(0x34e)];if(_0x40916b=_0x58c737[_0x1ee301(0x367)][_0x1ee301(0x4fe)](_0x47931c=>_0x47931c['groupId']===_0x5704b3&&_0x47931c[_0x1ee301(0x36c)]===0x1),_0x2242e7['uazapi'][_0x1ee301(0x41c)]){let _0x9833a9={'id':_0x58c737[_0x1ee301(0x144)],'remoteJid':_0x58c737['remoteJid'],'fromMe':!0x0};await this[_0x1ee301(0x690)](_0x9833a9);}if(_0x2242e7['uazapi'][_0x1ee301(0x41c)]&&_0x2242e7[_0x1ee301(0x327)][_0x1ee301(0x238)]&&_0x2242e7[_0x1ee301(0x327)]['menuType']===_0x1ee301(0x3f4)){let _0x49378a={'number':_0x58c737[_0x1ee301(0x2e1)],'options':{'delay':0x0},'textMessage':{'text':_0x1ee301(0x42b)+_0x58c737[_0x1ee301(0x33b)]+_0x1ee301(0x174)+_0x374896}};await this[_0x1ee301(0x1df)](_0x49378a);}_0x58c737[_0x1ee301(0x555)]=_0x1ee301(0x45c),_0x58c737[_0x1ee301(0x144)]='',_0x58c737['waitingMenu_text']='',_0x58c737[_0x1ee301(0x5e8)]=[];}else{this[_0x1ee301(0xde)][_0x1ee301(0x4f3)](this[_0x1ee301(0x614)]+'\x20('+this[_0x1ee301(0x387)]['wuid']+_0x1ee301(0x1e1));let _0x159db7={'activatedCount':_0x58c737[_0x1ee301(0x2f5)]['blockLogs']['filter'](_0x4b7d69=>String(_0x4b7d69[_0x1ee301(0x11e)])===String(_0x3ab4fb))[_0x1ee301(0x3f3)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x2242e7['uazapi'][_0x1ee301(0x641)]){let _0x5a92d3={'number':_0x58c737[_0x1ee301(0x2e1)],'options':{'delay':0x0},'textMessage':{'text':_0x2242e7['uazapi'][_0x1ee301(0x641)]}};await this[_0x1ee301(0x1df)](_0x5a92d3);}if(_0x2242e7[_0x1ee301(0x572)]!==void 0x0&&_0x159db7[_0x1ee301(0x10b)]>=_0x2242e7['maxActives']){let _0x599dd0=Date[_0x1ee301(0x188)](),_0x49e42e=_0x2242e7[_0x1ee301(0x2da)]??0xa;isNaN(_0x49e42e)&&(_0x49e42e=0xa);let _0x407436=_0x599dd0+_0x49e42e*0x3c*0x3e8;_0x159db7[_0x1ee301(0x481)]=_0x407436,_0x159db7[_0x1ee301(0x60c)]['push']('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x1ee301(0x32d)](_0x58c737,_0x407436),_0x58c737['waitingMenu_id']='',_0x58c737[_0x1ee301(0x33b)]='',_0x58c737[_0x1ee301(0x5e8)]=[];}return this['updateConversation'](_0x58c737,_0x2242e7,_0x159db7,!0x0),null;}}if(_0x1a8cc8&&_0x2242e7[_0x1ee301(0x34e)]&&!_0x58c737[_0x1ee301(0x144)]){let _0x4f58ce=_0x58c737[_0x1ee301(0x367)][_0x1ee301(0x382)](_0x335b30=>_0x335b30['groupId'][_0x1ee301(0x6bc)]()===_0x2242e7['next_groupId'][_0x1ee301(0x6bc)]())[_0x1ee301(0x267)]((_0x52910d,_0x49eb6c)=>_0x52910d['order']-_0x49eb6c[_0x1ee301(0x36c)]);_0x4f58ce[_0x1ee301(0x3f3)]>0x0&&(_0x40916b=_0x4f58ce[0x0]);}if(!_0x40916b){let _0x30b7d9=_0x2242e7['groupId'],_0x560d8e=_0x58c737['blocks'][_0x1ee301(0x382)](_0x548f72=>_0x548f72['groupId']===_0x30b7d9&&_0x548f72[_0x1ee301(0x36c)]>_0x2242e7['order'])[_0x1ee301(0x267)]((_0x5de346,_0x10dc59)=>_0x5de346[_0x1ee301(0x36c)]-_0x10dc59[_0x1ee301(0x36c)]);_0x560d8e[_0x1ee301(0x3f3)]>0x0&&(_0x40916b=_0x560d8e[0x0]);}if(!_0x40916b)return _0x58c737[_0x1ee301(0x555)]=_0x1ee301(0x40d),null;_0x58c737['chatLog'][_0x1ee301(0x36b)]=_0x16e537;let _0x291bcd=JSON[_0x1ee301(0x392)](JSON['stringify'](_0x40916b));return this[_0x1ee301(0x117)](_0x291bcd,_0x58c737['chatLog'][_0x1ee301(0x36b)]),_0x58c737['chatLog']['lastBlockId']=_0x291bcd['_id'],_0x58c737[_0x1ee301(0x2f5)][_0x1ee301(0x311)]=!0x0,_0x291bcd;}['replaceVariables'](_0x2454e2,_0x1f4dc6){const _0x554e4e=a0_0x1f692e;return _0x2454e2[_0x554e4e(0x38c)](/\{\{([^}]+)\}\}/g,(_0x39a978,_0x2044db)=>_0x1f4dc6[_0x2044db]||'');}['replaceVariablesInObject'](_0x147696,_0x2bfd43){const _0x2e5422=a0_0x1f692e;for(let _0x503a9a in _0x147696)typeof _0x147696[_0x503a9a]=='string'?_0x147696[_0x503a9a]=this[_0x2e5422(0x642)](_0x147696[_0x503a9a],_0x2bfd43):typeof _0x147696[_0x503a9a]==_0x2e5422(0x39b)&&this[_0x2e5422(0x117)](_0x147696[_0x503a9a],_0x2bfd43);}async[a0_0x1f692e(0x2c8)](_0x457ca6,_0xbba464){const _0xf339b4=a0_0x1f692e;let _0xd38029=_0xbba464[_0xf339b4(0x472)];if(_0x457ca6[_0xf339b4(0x2f5)]&&_0x457ca6[_0xf339b4(0x2f5)][_0xf339b4(0x62f)]){let _0x302476=_0x457ca6[_0xf339b4(0x2f5)][_0xf339b4(0x62f)][_0xf339b4(0x382)](_0x157c01=>String(_0x157c01[_0xf339b4(0x11e)])===String(_0xd38029))[_0xf339b4(0x69a)]();if(_0x302476&&_0x302476[_0xf339b4(0x6ad)]&&_0xbba464[_0xf339b4(0x3cf)])return _0x457ca6['status']=_0xf339b4(0x40d),await this['saveConversationToDatabase'](_0x457ca6),null;}if(_0xbba464[_0xf339b4(0x59f)]===_0xf339b4(0x327)&&_0xbba464[_0xf339b4(0x327)][_0xf339b4(0x1b5)]==='sendPoll'&&_0x457ca6[_0xf339b4(0x144)])return _0x457ca6[_0xf339b4(0x2f5)][_0xf339b4(0x17a)]=_0xd38029,await this[_0xf339b4(0x5fe)](_0x457ca6),null;let _0x43093b=await this['NextBlock'](_0x457ca6);if(_0x457ca6[_0xf339b4(0x2f5)]&&_0x457ca6[_0xf339b4(0x2f5)]['blockLogs']){let _0x14850f=_0x457ca6[_0xf339b4(0x2f5)]['blockLogs']['filter'](_0x41536f=>String(_0x41536f[_0xf339b4(0x11e)])===String(_0xd38029))[_0xf339b4(0x3f3)];if(_0xbba464[_0xf339b4(0x572)]!==void 0x0&&_0x14850f>=_0xbba464[_0xf339b4(0x572)]){let _0x579d50=Date[_0xf339b4(0x188)](),_0x4a2c74=_0xbba464[_0xf339b4(0x2da)]??0xa;isNaN(_0x4a2c74)&&(_0x4a2c74=0xa);let _0x1c36da=_0x579d50+_0x4a2c74*0x3c*0x3e8,_0x2c7a56={'newStoppedUntil':_0x1c36da};return this['updateStopChat'](_0x457ca6,_0x1c36da),this['updateConversation'](_0x457ca6,_0xbba464,_0x2c7a56,!0x0),null;}}_0x43093b&&_0x43093b[_0xf339b4(0x59f)]!=='save'&&await this['processblock'](_0x457ca6,_0x43093b),_0x43093b||await this['saveConversationToDatabase'](_0x457ca6),_0x43093b&&_0x43093b[_0xf339b4(0x59f)]===_0xf339b4(0x34d)&&(_0x457ca6['chatLog'][_0xf339b4(0x17a)]=_0xd38029,await this['saveConversationToDatabase'](_0x457ca6));}async['processblock'](_0x42465a,_0x5e37ed){const _0x9ed1e8=a0_0x1f692e;try{let _0x291214=_0x5e37ed['type'];this[_0x9ed1e8(0xde)][_0x9ed1e8(0x4f3)](this['instanceName']+'\x20('+this[_0x9ed1e8(0x387)][_0x9ed1e8(0x4f9)]+'):\x20Going\x20to\x20'+_0x291214);let _0x3672ab={'uazapi':()=>this[_0x9ed1e8(0x2f7)](_0x42465a,_0x5e37ed),'save':()=>this[_0x9ed1e8(0x4cc)](_0x42465a,_0x5e37ed),'stop':()=>this[_0x9ed1e8(0x5b2)](_0x42465a,_0x5e37ed),'condition':()=>this[_0x9ed1e8(0x26b)](_0x42465a,_0x5e37ed),'varedit':()=>this[_0x9ed1e8(0x1a5)](_0x42465a,_0x5e37ed),'apirequest':()=>this['processApiRequest'](_0x42465a,_0x5e37ed),'goToFlow':()=>this[_0x9ed1e8(0x83)](_0x42465a,_0x5e37ed)}[_0x291214];_0x3672ab&&await _0x3672ab();}catch(_0x377ab0){this['logger'][_0x9ed1e8(0x6ad)](this['instanceName']+'\x20('+this[_0x9ed1e8(0x387)][_0x9ed1e8(0x4f9)]+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x377ab0 instanceof Error?_0x377ab0['message']:JSON[_0x9ed1e8(0x14a)](_0x377ab0,null,0x2)));}}async[a0_0x1f692e(0x83)](_0x40d469,_0x1ba38d){const _0x1ac878=a0_0x1f692e;if(this[_0x1ac878(0xde)][_0x1ac878(0x4f3)](this[_0x1ac878(0x614)]+'\x20('+this[_0x1ac878(0x387)]['wuid']+_0x1ac878(0x4ff)),!_0x40d469||!_0x1ba38d)return this[_0x1ac878(0xde)][_0x1ac878(0x6ad)](this['instanceName']+'\x20('+this[_0x1ac878(0x387)][_0x1ac878(0x4f9)]+_0x1ac878(0x553)),null;await this[_0x1ac878(0x1e3)](_0x40d469,_0x1ba38d,{},!0x0,!0x0),console['log'](_0x1ac878(0x5f9)),console[_0x1ac878(0x671)](_0x1ba38d);let _0x258082=_0x1ba38d[_0x1ac878(0x320)];console[_0x1ac878(0x671)](_0x1ac878(0x38b),_0x258082),_0x40d469=await this[_0x1ac878(0x6d7)](_0x258082,_0x40d469[_0x1ac878(0x2e1)],_0x40d469[_0x1ac878(0x2f5)][_0x1ac878(0x36b)]),this[_0x1ac878(0xde)][_0x1ac878(0x4f3)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1ac878(0x4ef));let _0x1d83e7=await this[_0x1ac878(0x2e2)](_0x40d469);_0x1d83e7&&await this['processblock'](_0x40d469,_0x1d83e7);}async[a0_0x1f692e(0x6d7)](_0x184717,_0x527dbb,_0x55c1b3){const _0x5c2ec7=a0_0x1f692e;this[_0x5c2ec7(0xde)][_0x5c2ec7(0x4f3)](this['instanceName']+'\x20('+this[_0x5c2ec7(0x387)]['wuid']+_0x5c2ec7(0x100));try{if(_0x184717=await this[_0x5c2ec7(0x40c)][_0x5c2ec7(0x418)]['findOne']({'where':{'name':_0x184717}},this[_0x5c2ec7(0x387)]['wuid']),!_0x184717)return this['logger'][_0x5c2ec7(0x6ad)](this[_0x5c2ec7(0x614)]+'\x20('+this[_0x5c2ec7(0x387)][_0x5c2ec7(0x4f9)]+_0x5c2ec7(0x270)),null;let _0xd2af86=require(_0x5c2ec7(0x49d))['ObjectId'],_0x38de05=Date['now'](),_0x2f9b32='start',_0x4f5e5c={},_0x549875={},_0x2f86ce={..._0x184717,'chatLog':null},_0x3defb8={'lastReceivedMessage':_0x4f5e5c,'lastSendMessage':_0x549875,'lastBlockId':_0x2f9b32,'lastCondition':!0x0,'realVariables':_0x55c1b3};_0x2f86ce['chatLog']=_0x3defb8,_0x2f86ce[_0x5c2ec7(0x2f5)]['realVariables']={..._0x55c1b3},delete _0x2f86ce[_0x5c2ec7(0x472)],_0x2f86ce[_0x5c2ec7(0x472)]=new _0xd2af86(),_0x2f86ce[_0x5c2ec7(0x67f)]=_0x38de05,_0x2f86ce[_0x5c2ec7(0x555)]=_0x5c2ec7(0x45c),_0x2f86ce[_0x5c2ec7(0x2e1)]=_0x527dbb;let _0x3077e7=await this[_0x5c2ec7(0x40c)][_0x5c2ec7(0x27b)][_0x5c2ec7(0x6b6)](_0x2f86ce[_0x5c2ec7(0x472)],_0x2f86ce,this[_0x5c2ec7(0x387)][_0x5c2ec7(0x4f9)]);return this[_0x5c2ec7(0xde)][_0x5c2ec7(0x4f3)](this[_0x5c2ec7(0x614)]+'\x20('+this[_0x5c2ec7(0x387)][_0x5c2ec7(0x4f9)]+_0x5c2ec7(0x2d5)),_0x3077e7?_0x2f86ce:null;}catch(_0x1b6f7c){throw this[_0x5c2ec7(0xde)][_0x5c2ec7(0x6ad)](this['instanceName']+'\x20('+this['instance'][_0x5c2ec7(0x4f9)]+_0x5c2ec7(0x1d4)+(_0x1b6f7c instanceof Error?_0x1b6f7c[_0x5c2ec7(0x5f0)]:JSON[_0x5c2ec7(0x14a)](_0x1b6f7c,null,0x2))),new m(_0x1b6f7c['message']);}}async['processApiRequest'](_0x47a45c,_0x1fb4bb){const _0x3fbc2d=a0_0x1f692e;let _0x52d0ab,_0x41e332;try{let _0x19d665=_0x1fb4bb[_0x3fbc2d(0x6b4)];if(!_0x19d665||!_0x19d665[_0x3fbc2d(0x484)]||!_0x19d665[_0x3fbc2d(0x386)])throw new Error(_0x3fbc2d(0x124));let _0xb34760={'method':_0x19d665['method'],'url':_0x19d665[_0x3fbc2d(0x484)],'headers':_0x19d665['header']||{},'data':_0x19d665[_0x3fbc2d(0x1ad)]||{},'responseType':_0x19d665[_0x3fbc2d(0x52a)]||'json'},_0x48702f=await(0x0,se[_0x3fbc2d(0x205)])(_0xb34760),_0x3d3b30=_0x48702f[_0x3fbc2d(0x1b8)]['content-type'];if(_0x3d3b30&&_0x3d3b30['includes'](_0x3fbc2d(0x154))){_0x52d0ab=_0x48702f[_0x3fbc2d(0x66f)];let _0x24135d=_0x47a45c[_0x3fbc2d(0x2f5)][_0x3fbc2d(0x36b)],_0x5f4a5a=this[_0x3fbc2d(0x315)](_0x52d0ab);return Object[_0x3fbc2d(0x66c)](_0x24135d,_0x5f4a5a),_0x47a45c[_0x3fbc2d(0x2f5)]['realVariables']=_0x24135d,_0x41e332={'error':!0x1,'apiResponse':_0x52d0ab},this[_0x3fbc2d(0x1e3)](_0x47a45c,_0x1fb4bb,_0x41e332),_0x52d0ab;}if(_0x3d3b30&&(_0x3d3b30[_0x3fbc2d(0xe4)](_0x3fbc2d(0x53a))||_0x3d3b30[_0x3fbc2d(0xe4)](_0x3fbc2d(0x5a2))||_0x3d3b30[_0x3fbc2d(0xe4)](_0x3fbc2d(0x212))||_0x3d3b30[_0x3fbc2d(0xe4)]('video'))){this[_0x3fbc2d(0xde)][_0x3fbc2d(0x4f3)](this[_0x3fbc2d(0x614)]+'\x20('+this['instance'][_0x3fbc2d(0x4f9)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x3d3b30);let _0x1cd520=(0x0,Ce['v4'])(),_0x54ec12='',_0x43be7f={'image/jpeg':_0x3fbc2d(0x617),'image/png':_0x3fbc2d(0x4a9),'image/gif':'.gif','image/webp':_0x3fbc2d(0x433),'image/svg+xml':_0x3fbc2d(0x5ae),'audio/mpeg':_0x3fbc2d(0x36d),'audio/ogg':'.ogg','audio/wav':_0x3fbc2d(0x664),'video/mp4':'.mp4','video/webm':_0x3fbc2d(0x42f),'video/ogg':_0x3fbc2d(0x5f2),'text/plain':'.txt','application/pdf':_0x3fbc2d(0x2ec),'application/msword':'.doc','application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x3fbc2d(0x4b9),'application/vnd.ms-excel':_0x3fbc2d(0x3f9),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x3fbc2d(0x109),'application/vnd.ms-powerpoint':_0x3fbc2d(0x31b),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x43be7f[_0x3d3b30]?(_0x54ec12=_0x43be7f[_0x3d3b30],this[_0x3fbc2d(0xde)][_0x3fbc2d(0x4f3)](this[_0x3fbc2d(0x614)]+'\x20('+this[_0x3fbc2d(0x387)][_0x3fbc2d(0x4f9)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x54ec12)):(_0x54ec12=_0x3fbc2d(0x2b7),this[_0x3fbc2d(0xde)][_0x3fbc2d(0x4f3)](this[_0x3fbc2d(0x614)]+'\x20('+this[_0x3fbc2d(0x387)][_0x3fbc2d(0x4f9)]+_0x3fbc2d(0x477)+_0x54ec12)),_0x1cd520+=_0x54ec12,this[_0x3fbc2d(0xde)]['verbose'](this[_0x3fbc2d(0x614)]+'\x20('+this[_0x3fbc2d(0x387)][_0x3fbc2d(0x4f9)]+_0x3fbc2d(0x69f)+_0x1cd520);let _0x45b2bb=this[_0x3fbc2d(0x193)][_0x3fbc2d(0x635)](_0x3fbc2d(0x314))['URL'];if(!_0x45b2bb){let _0x13e959=this[_0x3fbc2d(0x193)][_0x3fbc2d(0x635)](_0x3fbc2d(0x54c));_0x45b2bb=_0x3fbc2d(0x269)+(_0x13e959&&_0x13e959['FULLCHAIN'][_0x3fbc2d(0x5ca)]('/')[0x4]);}let _0x452a98=Buffer[_0x3fbc2d(0x301)](_0x48702f[_0x3fbc2d(0x66f)]);await this[_0x3fbc2d(0x6e2)](_0x452a98,_0x1cd520);let _0x1eafa4=_0x3fbc2d(0x5f8)+_0x1cd520;_0x1eafa4=''+_0x45b2bb+_0x1eafa4,_0x52d0ab={'fileUrl':_0x1eafa4},_0x47a45c[_0x3fbc2d(0x2f5)][_0x3fbc2d(0x36b)][_0x3fbc2d(0x357)]=_0x1eafa4;let _0x3fa5fe=_0x47a45c[_0x3fbc2d(0x2f5)][_0x3fbc2d(0x36b)],_0x29e655=this[_0x3fbc2d(0x315)](_0x52d0ab);return Object[_0x3fbc2d(0x66c)](_0x3fa5fe,_0x29e655),_0x47a45c[_0x3fbc2d(0x2f5)][_0x3fbc2d(0x36b)]=_0x3fa5fe,_0x41e332={'error':!0x1,'apiResponse':{'fileUrl':_0x1eafa4}},this[_0x3fbc2d(0x1e3)](_0x47a45c,_0x1fb4bb,_0x41e332),_0x52d0ab;}}catch(_0x4c01c1){console[_0x3fbc2d(0x6ad)](_0x3fbc2d(0x341),_0x4c01c1),_0x4c01c1[_0x3fbc2d(0xff)]&&(_0x52d0ab=_0x4c01c1['response']['data']);let _0x213f74=_0x47a45c[_0x3fbc2d(0x2f5)][_0x3fbc2d(0x36b)],_0xfdba4d=this[_0x3fbc2d(0x315)](_0x52d0ab);return Object['assign'](_0x213f74,_0xfdba4d),_0x47a45c[_0x3fbc2d(0x2f5)][_0x3fbc2d(0x36b)]=_0x213f74,_0x41e332={'error':!0x0,'errorLog':_0x4c01c1[_0x3fbc2d(0x6bc)](),'apiResponse':_0x52d0ab},this[_0x3fbc2d(0x1e3)](_0x47a45c,_0x1fb4bb,_0x41e332),{'success':!0x1};}}[a0_0x1f692e(0xa6)](_0x5400d1,_0x43893a){const _0x4da8a1=a0_0x1f692e;let _0x4f6a07=_0x358d92=>{const _0x84f7c5=a0_0x37ec;let _0x1f2b2b=_0x358d92[_0x84f7c5(0x38c)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x320ded=parseFloat(_0x1f2b2b);return isNaN(_0x320ded)?null:_0x320ded;},_0x353831=_0x43893a[_0x4da8a1(0x25c)],_0x1a0a31=_0x43893a[_0x4da8a1(0x3d3)];typeof _0x353831==_0x4da8a1(0x6d6)&&(_0x353831=this[_0x4da8a1(0x642)](_0x353831,_0x5400d1[_0x4da8a1(0x2f5)][_0x4da8a1(0x36b)])??''),typeof _0x1a0a31=='string'&&(_0x1a0a31=this[_0x4da8a1(0x642)](_0x1a0a31,_0x5400d1['chatLog'][_0x4da8a1(0x36b)])??'');let _0x491eaf=null;if(!_0x43893a[_0x4da8a1(0x318)])return null;switch(this[_0x4da8a1(0xde)]['verbose'](this['instanceName']+'\x20('+this[_0x4da8a1(0x387)][_0x4da8a1(0x4f9)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x353831),this[_0x4da8a1(0xde)][_0x4da8a1(0x4f3)](this[_0x4da8a1(0x614)]+'\x20('+this['instance']['wuid']+_0x4da8a1(0x1f0)+_0x1a0a31),_0x43893a[_0x4da8a1(0x318)]){case'+':case'-':case'*':case'/':let _0x3edc2c=_0x4f6a07(_0x353831||'0'),_0x37b937=_0x4f6a07(_0x1a0a31||'0');if(_0x3edc2c===null)return null;switch(_0x43893a[_0x4da8a1(0x318)]){case'+':_0x491eaf=_0x3edc2c+(_0x37b937??0x0);break;case'-':_0x491eaf=_0x3edc2c-(_0x37b937??0x0);break;case'*':_0x491eaf=_0x3edc2c*(_0x37b937??0x1);break;case'/':_0x37b937!==0x0&&(_0x491eaf=_0x3edc2c/(_0x37b937??0x1));break;}break;case _0x4da8a1(0x60a):case'findAndReplaceRegex':let _0x283ab8=_0x1a0a31,_0x4ea8d8=_0x43893a['replaceValue'];if(typeof _0x4ea8d8==_0x4da8a1(0x6d6)&&(_0x4ea8d8=this[_0x4da8a1(0x642)](_0x4ea8d8,_0x5400d1[_0x4da8a1(0x2f5)][_0x4da8a1(0x36b)])??''),_0x283ab8&&_0x4ea8d8!==void 0x0){let _0x44d0d7=_0x43893a[_0x4da8a1(0x318)]===_0x4da8a1(0x60a)?new RegExp(_0x283ab8[_0x4da8a1(0x38c)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x283ab8,'g');_0x491eaf=_0x353831['replace'](_0x44d0d7,_0x4ea8d8);}else console[_0x4da8a1(0x2a7)](_0x4da8a1(0x68c));break;case _0x4da8a1(0x394):_0x491eaf=_0x1a0a31;break;case'extractRegex':let _0x2a77be=_0x353831[_0x4da8a1(0x60f)](new RegExp(_0x1a0a31||''));_0x491eaf=_0x2a77be?_0x2a77be[0x0]:'';break;case _0x4da8a1(0x360):_0x491eaf=_0x353831['slice'](0x0,parseInt(_0x1a0a31||'0'));break;case'truncatedtoEnd':let _0x35e161=parseInt(_0x1a0a31||'0');_0x491eaf=_0x353831['slice'](_0x353831['length']-_0x35e161);break;case _0x4da8a1(0x1fe):let _0x37538c=_0x4f6a07(_0x353831),_0x31e6f9=parseInt(_0x1a0a31||'0');_0x31e6f9=Math[_0x4da8a1(0x185)](_0x31e6f9),_0x37538c!==null?_0x491eaf=_0x37538c['toLocaleString'](_0x4da8a1(0x5e1),{'minimumFractionDigits':_0x31e6f9,'maximumFractionDigits':_0x31e6f9}):(console['warn']('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x353831),_0x491eaf=null);break;case _0x4da8a1(0x412):let _0x54a5b1=_0x4f6a07(_0x353831);_0x54a5b1!==null?_0x491eaf=_0x54a5b1[_0x4da8a1(0x180)](_0x4da8a1(0x5e1),{'style':_0x4da8a1(0x567),'currency':_0x4da8a1(0x2c3)}):(console['warn']('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x353831),_0x491eaf=null);break;case'upperCase':_0x491eaf=_0x353831[_0x4da8a1(0x534)]();break;case _0x4da8a1(0x29a):_0x491eaf=_0x353831[_0x4da8a1(0x490)]();break;case _0x4da8a1(0xb4):_0x491eaf=_0x353831[_0x4da8a1(0x5ca)]('\x20')['map'](_0x4fdc10=>_0x4fdc10[_0x4da8a1(0xbd)](0x0)[_0x4da8a1(0x534)]()+_0x4fdc10[_0x4da8a1(0x655)](0x1)['toLowerCase']())['join']('\x20');break;case _0x4da8a1(0x46a):_0x491eaf=_0x353831[_0x4da8a1(0x421)]();break;default:_0x491eaf=_0x353831;}return _0x491eaf!==null?_0x491eaf[_0x4da8a1(0x6bc)]():null;}async[a0_0x1f692e(0x1a5)](_0x29fc9,_0x40cf06){const _0x447298=a0_0x1f692e;try{let _0x44575e=_0x29fc9['varedits']?.['filter'](_0x14166e=>_0x14166e[_0x447298(0x11e)]===_0x40cf06['_id']?.[_0x447298(0x6bc)]())||[],_0x415481=_0x40cf06[_0x447298(0x69e)],_0x155e54=null,_0x50c4ce=[],_0x451c2d=_0x29fc9['chatLog'][_0x447298(0x36b)][_0x415481];_0x50c4ce['push'](_0x447298(0x21d)+_0x451c2d+'\x22');for(let _0x2856fd of _0x44575e){_0x2856fd['firstValue']=_0x451c2d,_0x155e54=_0x2856fd['firstValue'];let _0x260f00;try{_0x260f00=this[_0x447298(0xa6)](_0x29fc9,_0x2856fd);}catch(_0x4e2c04){console['error']('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x4e2c04[_0x447298(0x5f0)]);continue;}if(_0x260f00!==null){let _0x3af538=_0x447298(0x21e)+_0x2856fd[_0x447298(0x318)]+'\x22',_0x14646a=['toBRL','upperCase',_0x447298(0x29a),_0x447298(0xb4),_0x447298(0x46a)];_0x2856fd['editOperator']===_0x447298(0x60a)||_0x2856fd['editOperator']==='findAndReplaceRegex'?_0x3af538+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x2856fd['secondValue']+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x2856fd['replaceValue']+'\x22':!_0x14646a[_0x447298(0xe4)](_0x2856fd[_0x447298(0x318)])&&_0x2856fd[_0x447298(0x3d3)]!==null&&_0x2856fd[_0x447298(0x3d3)]!==void 0x0&&(_0x3af538+=',\x20valor\x20passado:\x20\x22'+_0x2856fd['secondValue']+'\x22'),_0x3af538+=_0x447298(0x389)+_0x260f00+'.',_0x50c4ce[_0x447298(0x14d)](_0x3af538);}_0x260f00!==null&&(_0x451c2d=_0x260f00);}if(_0x29fc9[_0x447298(0x2f5)][_0x447298(0x36b)]&&_0x40cf06[_0x447298(0x69e)]){_0x29fc9['chatLog'][_0x447298(0x36b)][_0x40cf06[_0x447298(0x69e)]]=_0x451c2d;let _0x2eaf38={'variable':_0x40cf06[_0x447298(0x69e)],'oldValue':_0x155e54,'newValue':_0x451c2d,'moreLogs':_0x50c4ce};try{this[_0x447298(0x1e3)](_0x29fc9,_0x40cf06,_0x2eaf38);}catch(_0x1208c6){console[_0x447298(0x6ad)](_0x447298(0x259)+_0x1208c6[_0x447298(0x5f0)]);}}return _0x415481;}catch(_0x1d1d64){return console['error'](_0x447298(0x20a)+_0x1d1d64[_0x447298(0x5f0)]),null;}}async[a0_0x1f692e(0x26b)](_0x110d0e,_0x511660){const _0x50c3b3=a0_0x1f692e;try{let _0x1b4942=[],_0x34f58f=_0x110d0e[_0x50c3b3(0x65f)][_0x50c3b3(0x382)](_0x207b54=>_0x207b54[_0x50c3b3(0x11e)]===_0x511660[_0x50c3b3(0x472)][_0x50c3b3(0x6bc)]()),_0x34a139=null,_0x91e38a=!0x1;for(let _0x3e40c6 of _0x34f58f){let _0x52caa3=this[_0x50c3b3(0x527)](_0x110d0e,_0x3e40c6);_0x1b4942[_0x50c3b3(0x14d)](_0x50c3b3(0x82)+_0x3e40c6[_0x50c3b3(0x25c)]+_0x50c3b3(0x2c2)+_0x3e40c6[_0x50c3b3(0x343)]+_0x50c3b3(0x431)+_0x3e40c6[_0x50c3b3(0x3d3)]+_0x50c3b3(0xf6)+_0x52caa3),_0x34a139===null?_0x34a139=_0x52caa3:_0x3e40c6['OrAnd']===_0x50c3b3(0x21a)?(_0x34a139=_0x34a139&&_0x52caa3,_0x52caa3||(_0x91e38a=!0x0)):_0x3e40c6['OrAnd']==='or'&&(_0x91e38a||(_0x34a139=_0x34a139||_0x52caa3));}_0x34a139===null&&(_0x34a139=!0x0);let _0x3f239e={'moreLogs':_0x1b4942};_0x110d0e['chatLog'][_0x50c3b3(0x311)]=_0x34a139,await this[_0x50c3b3(0x1e3)](_0x110d0e,_0x511660,_0x3f239e);}catch(_0x530254){this[_0x50c3b3(0xde)][_0x50c3b3(0x6ad)](this[_0x50c3b3(0x614)]+'\x20('+this[_0x50c3b3(0x387)]['wuid']+_0x50c3b3(0x22b)+(_0x530254 instanceof Error?_0x530254[_0x50c3b3(0x5f0)]:JSON['stringify'](_0x530254,null,0x2)));}}[a0_0x1f692e(0x527)](_0x234757,_0x49b3f4){const _0x37c22d=a0_0x1f692e;let _0x26335f=_0x49b3f4['firstValue'],_0x2afc12=_0x49b3f4[_0x37c22d(0x3d3)];typeof _0x26335f==_0x37c22d(0x6d6)&&(_0x26335f=this['replaceVariables'](_0x26335f,_0x234757[_0x37c22d(0x2f5)][_0x37c22d(0x36b)])??''),typeof _0x2afc12=='string'&&(_0x2afc12=this[_0x37c22d(0x642)](_0x2afc12,_0x234757[_0x37c22d(0x2f5)][_0x37c22d(0x36b)])??'');try{switch(_0x49b3f4[_0x37c22d(0x343)]){case _0x37c22d(0x256):return _0x26335f===_0x2afc12;case _0x37c22d(0x1d7):return _0x26335f!==_0x2afc12;case'contains':return _0x26335f['includes'](_0x2afc12);case _0x37c22d(0x123):return!_0x26335f[_0x37c22d(0xe4)](_0x2afc12);case _0x37c22d(0x5d7):return parseFloat(_0x26335f)>parseFloat(_0x2afc12);case _0x37c22d(0x1ae):return parseFloat(_0x26335f)<parseFloat(_0x2afc12);case _0x37c22d(0x590):return _0x26335f!=='';case _0x37c22d(0x45a):return _0x26335f==='';case _0x37c22d(0x6dd):return new RegExp(_0x2afc12)[_0x37c22d(0x594)](_0x26335f);case _0x37c22d(0x35c):return!new RegExp(_0x2afc12)[_0x37c22d(0x594)](_0x26335f);default:return!0x1;}}catch(_0x252c24){return console[_0x37c22d(0x6ad)](_0x37c22d(0x248)+_0x252c24),!0x1;}}[a0_0x1f692e(0x54f)](_0x1180a4){const _0x502ab8=a0_0x1f692e;let _0x36bb43=!0x0,_0x2048f7=null;for(let _0x2b4d1c of _0x1180a4){let _0x2c7012=this['evaluateConditionTest'](_0x2b4d1c);if(_0x2048f7==='or'&&_0x2c7012){_0x36bb43=!0x0;break;}if(_0x2048f7===_0x502ab8(0x21a)&&!_0x2c7012){_0x36bb43=!0x1;break;}_0x2048f7=_0x2b4d1c['OrAnd'];}return _0x36bb43;}[a0_0x1f692e(0x438)](_0x3a9315){const _0x44a376=a0_0x1f692e;let _0x144b64=_0x3a9315['firstValue'],_0x1066bc=_0x3a9315['secondValue'];try{switch(_0x3a9315[_0x44a376(0x343)]){case'equal':return String(_0x144b64)===String(_0x1066bc);case _0x44a376(0x1d7):return String(_0x144b64)!==String(_0x1066bc);case _0x44a376(0x6c9):return String(_0x144b64)[_0x44a376(0xe4)](String(_0x1066bc));case _0x44a376(0x123):return!String(_0x144b64)['includes'](String(_0x1066bc));case _0x44a376(0x5d7):return parseFloat(String(_0x144b64))>parseFloat(String(_0x1066bc));case _0x44a376(0x1ae):return parseFloat(String(_0x144b64))<parseFloat(String(_0x1066bc));case'notEmpty':return String(_0x144b64)!=='';case'empty':return String(_0x144b64)==='';case _0x44a376(0x6dd):return new RegExp(String(_0x1066bc))[_0x44a376(0x594)](String(_0x144b64));case _0x44a376(0x35c):return!new RegExp(String(_0x1066bc))[_0x44a376(0x594)](String(_0x144b64));default:return!0x1;}}catch(_0x382857){return console[_0x44a376(0x6ad)](_0x44a376(0x248)+_0x382857),!0x1;}}async[a0_0x1f692e(0x4cc)](_0x30155c,_0x3fc526){const _0x43f3d2=a0_0x1f692e;if(this[_0x43f3d2(0xde)][_0x43f3d2(0x4f3)](this['instanceName']+'\x20('+this['instance'][_0x43f3d2(0x4f9)]+_0x43f3d2(0xf5)),!_0x30155c||!_0x3fc526)return this[_0x43f3d2(0xde)][_0x43f3d2(0x6ad)](this[_0x43f3d2(0x614)]+'\x20('+this[_0x43f3d2(0x387)][_0x43f3d2(0x4f9)]+_0x43f3d2(0x553)),null;let _0x2f005b=_0x3fc526[_0x43f3d2(0x69e)],_0x2b9b6a=_0x30155c[_0x43f3d2(0x2f5)][_0x43f3d2(0x20d)][_0x43f3d2(0x505)]||_0x30155c[_0x43f3d2(0x2f5)][_0x43f3d2(0x20d)]['caption']||_0x30155c[_0x43f3d2(0x2f5)][_0x43f3d2(0x20d)][_0x43f3d2(0x474)];try{_0x30155c[_0x43f3d2(0x2f5)][_0x43f3d2(0x36b)]||(_0x30155c[_0x43f3d2(0x2f5)]['realVariables']={});let _0x2a9d7a=_0x30155c['chatLog'][_0x43f3d2(0x36b)][_0x2f005b];_0x30155c[_0x43f3d2(0x2f5)][_0x43f3d2(0x36b)][_0x2f005b]=_0x2b9b6a;let _0x19487b={'variable':_0x2f005b,'oldValue':_0x2a9d7a,'newValue':_0x2b9b6a};this[_0x43f3d2(0x1e3)](_0x30155c,_0x3fc526,_0x19487b),this[_0x43f3d2(0xde)][_0x43f3d2(0x4f3)](this[_0x43f3d2(0x614)]+'\x20('+this[_0x43f3d2(0x387)]['wuid']+_0x43f3d2(0x45f));}catch(_0x549a0e){let _0x5cfb53={'error':!0x0,'errorLog':_0x549a0e[_0x43f3d2(0x6bc)]()};return this[_0x43f3d2(0x1e3)](_0x30155c,_0x3fc526,_0x5cfb53),this['logger']['error'](this[_0x43f3d2(0x614)]+'\x20('+this[_0x43f3d2(0x387)]['wuid']+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x549a0e instanceof Error?_0x549a0e['message']:JSON['stringify'](_0x549a0e,null,0x2))),null;}}async[a0_0x1f692e(0x5b2)](_0x495be2,_0x3adf97){const _0x51eddb=a0_0x1f692e;if(this[_0x51eddb(0xde)][_0x51eddb(0x4f3)](this[_0x51eddb(0x614)]+'\x20('+this[_0x51eddb(0x387)]['wuid']+'):\x20Entrou\x20na\x20função\x20stop'),!_0x495be2||!_0x3adf97)return this[_0x51eddb(0xde)][_0x51eddb(0x6ad)](this[_0x51eddb(0x614)]+'\x20('+this[_0x51eddb(0x387)][_0x51eddb(0x4f9)]+_0x51eddb(0x553)),null;let _0x20e3d1=Date[_0x51eddb(0x188)](),_0x3a660e=parseInt(_0x3adf97['stopMinutes'],0xa);if(isNaN(_0x3a660e))return this[_0x51eddb(0xde)][_0x51eddb(0x6ad)](this[_0x51eddb(0x614)]+'\x20('+this[_0x51eddb(0x387)][_0x51eddb(0x4f9)]+_0x51eddb(0x276)),null;let _0x316061={'newStoppedUntil':_0x20e3d1+_0x3a660e*0x3c*0x3e8};return await this['updateConversation'](_0x495be2,_0x3adf97,_0x316061,!0x0),null;}async[a0_0x1f692e(0x2f7)](_0x307ae1,_0x332bb0){const _0x547497=a0_0x1f692e;try{switch(_0x332bb0['uazapi']['command']){case'sendText':await this['uazapiSendText'](_0x307ae1,_0x332bb0);break;case'sendMedia':await this['uazapiSendMedia'](_0x307ae1,_0x332bb0);break;case _0x547497(0x146):await this[_0x547497(0x5af)](_0x307ae1,_0x332bb0);break;case _0x547497(0x150):await this[_0x547497(0x616)](_0x307ae1,_0x332bb0);break;case _0x547497(0x303):await this[_0x547497(0x441)](_0x307ae1,_0x332bb0);break;case _0x547497(0x3ad):await this[_0x547497(0x402)](_0x307ae1,_0x332bb0);break;case _0x547497(0x6ab):await this[_0x547497(0x402)](_0x307ae1,_0x332bb0);break;case _0x547497(0x690):await this[_0x547497(0x35a)](_0x307ae1,_0x332bb0);break;default:this[_0x547497(0xde)][_0x547497(0x6ad)](this[_0x547497(0x614)]+'\x20('+this[_0x547497(0x387)][_0x547497(0x4f9)]+_0x547497(0x1c8)+_0x332bb0[_0x547497(0x327)][_0x547497(0x1b5)]);}}catch(_0x29d208){this[_0x547497(0xde)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x547497(0x4eb)+(_0x29d208 instanceof Error?_0x29d208[_0x547497(0x5f0)]:JSON[_0x547497(0x14a)](_0x29d208,null,0x2)));}}async[a0_0x1f692e(0x1e3)](_0x2a139f,_0xcc6ef1,_0x1bbabc,_0xd12b75=!0x1,_0xae018=!0x1){const _0x27bd1f=a0_0x1f692e;_0x2a139f[_0x27bd1f(0x2f5)][_0x27bd1f(0x62f)]||(_0x2a139f[_0x27bd1f(0x2f5)][_0x27bd1f(0x62f)]=[]);let _0x457fec=(_0x2a139f[_0x27bd1f(0x2f5)][_0x27bd1f(0x62f)]?.[_0x27bd1f(0x3f3)]??0x0)+0x1,_0x3fb134=_0x2a139f['chatLog'][_0x27bd1f(0x62f)][_0x27bd1f(0x382)](_0x1c4ec8=>String(_0x1c4ec8[_0x27bd1f(0x11e)])===String(_0xcc6ef1[_0x27bd1f(0x472)]))[_0x27bd1f(0x3f3)]+0x1,_0xdaf48b=_0x1bbabc?.[_0x27bd1f(0x4d5)]??Date[_0x27bd1f(0x188)](),_0x1a934=_0x1bbabc?.['error']?_0x1bbabc[_0x27bd1f(0x126)]??_0x1bbabc['error'][_0x27bd1f(0x6bc)]():void 0x0,_0x158ef2={'onTime':_0xdaf48b,'blockId':_0xcc6ef1[_0x27bd1f(0x472)],'order':_0x457fec,'activatedCount':_0x3fb134,'error':_0x1bbabc?.[_0x27bd1f(0x6ad)]??!0x1,'messageId':_0x1bbabc?.[_0x27bd1f(0x1ce)],'apiResponse':_0x1bbabc?.[_0x27bd1f(0x16e)],'apiResponseString':_0x1bbabc?.['apiResponse']?JSON[_0x27bd1f(0x14a)](_0x1bbabc?.[_0x27bd1f(0x16e)]):void 0x0,'variable':_0x1bbabc?.[_0x27bd1f(0x6bd)],'oldValue':_0x1bbabc?.[_0x27bd1f(0x85)],'newValue':_0x1bbabc?.[_0x27bd1f(0xa7)],'newStoppedUntil':_0x1bbabc?.[_0x27bd1f(0x481)],'moreLogs':_0x1bbabc?.[_0x27bd1f(0x60c)],'errorLog':_0x1a934};if(_0x1bbabc[_0x27bd1f(0x60c)]&&_0x1bbabc['moreLogs'][_0x27bd1f(0x3f3)]>0x0){let _0x4f827b=_0x1bbabc[_0x27bd1f(0x60c)][_0x27bd1f(0x2df)](_0x55abf6=>this[_0x27bd1f(0x4bd)](_0x55abf6,_0x2a139f[_0x27bd1f(0x2f5)][_0x27bd1f(0x36b)]));_0x158ef2[_0x27bd1f(0x60c)]=_0x4f827b;}_0x2a139f[_0x27bd1f(0x2f5)][_0x27bd1f(0x36b)]||(_0x2a139f[_0x27bd1f(0x2f5)]['realVariables']={}),_0x2a139f['chatLog'][_0x27bd1f(0x36b)][_0x27bd1f(0x558)]=String(_0x3fb134),_0x2a139f['chatLog'][_0x27bd1f(0x36b)][_0x27bd1f(0x39f)]=String(_0x1bbabc['error']??!0x1),_0x2a139f[_0x27bd1f(0x2f5)][_0x27bd1f(0x62f)][_0x27bd1f(0x14d)](_0x158ef2),_0x2a139f[_0x27bd1f(0x2f5)][_0x27bd1f(0x17a)]=_0xcc6ef1['_id'][_0x27bd1f(0x6bc)](),_0x2a139f[_0x27bd1f(0x2f5)][_0x27bd1f(0x37d)]&&(_0x2a139f[_0x27bd1f(0x2f5)]['lastSendMessage']=_0x2a139f[_0x27bd1f(0x2f5)][_0x27bd1f(0x37d)]),_0x2a139f['chatLog'][_0x27bd1f(0x20d)]&&(_0x2a139f[_0x27bd1f(0x2f5)][_0x27bd1f(0x20d)]=_0x2a139f[_0x27bd1f(0x2f5)]['lastReceivedMessage']),_0x2a139f[_0x27bd1f(0x2f5)][_0x27bd1f(0x311)]&&(_0x2a139f[_0x27bd1f(0x2f5)][_0x27bd1f(0x311)]=_0x2a139f['chatLog'][_0x27bd1f(0x311)]),_0xae018&&(_0x2a139f[_0x27bd1f(0x555)]=_0x27bd1f(0x40d)),_0xd12b75?this[_0x27bd1f(0x5fe)](_0x2a139f):this['goNextblock'](_0x2a139f,_0xcc6ef1);}['replaceVariablesLogs'](_0x52d9f7,_0x14acac){const _0x321fe4=a0_0x1f692e;return _0x52d9f7[_0x321fe4(0x38c)](/\{\{([^}]+)\}\}/g,(_0xa80907,_0x45641c)=>_0x14acac[_0x45641c]?'{{'+_0x45641c+_0x321fe4(0xe6)+_0x14acac[_0x45641c]+'\x22':'{{'+_0x45641c+_0x321fe4(0x399));}async[a0_0x1f692e(0x5fe)](_0x139b1e){const _0x32028f=a0_0x1f692e;try{let _0x93788a=Object[_0x32028f(0x643)](_0x139b1e[_0x32028f(0x2f5)]['realVariables'])[_0x32028f(0x2df)](([_0x3e4b40,_0x32a0d4])=>({'name':_0x3e4b40,'value':_0x32a0d4})),_0x316694={'status':_0x139b1e['status'],'blocks':_0x139b1e[_0x32028f(0x367)],'waitingMenu_id':_0x139b1e['waitingMenu_id'],'waitingMenu_text':_0x139b1e[_0x32028f(0x33b)],'waitingMenu_replyOptions':_0x139b1e['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x139b1e[_0x32028f(0x2f5)]['lastBlockId'],'lastSendMessage':_0x139b1e['chatLog'][_0x32028f(0x37d)],'lastReceivedMessage':_0x139b1e[_0x32028f(0x2f5)][_0x32028f(0x20d)],'lastCondition':_0x139b1e['chatLog'][_0x32028f(0x311)],'chatVariables':_0x93788a,'realVariables':_0x139b1e[_0x32028f(0x2f5)]['realVariables'],'blockLogs':_0x139b1e[_0x32028f(0x2f5)][_0x32028f(0x62f)]}},_0x2ec6e6=await this[_0x32028f(0x40c)][_0x32028f(0x27b)]['updateOne'](_0x139b1e[_0x32028f(0x472)],_0x316694,this[_0x32028f(0x387)][_0x32028f(0x4f9)]);if(_0x2ec6e6){this[_0x32028f(0xde)][_0x32028f(0x4f3)](this['instanceName']+'\x20('+this['instance'][_0x32028f(0x4f9)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x2ec6e6[_0x32028f(0x472)]);try{let _0x54156b=[_0x32028f(0x342),_0x32028f(0x33d),_0x32028f(0x50f),_0x32028f(0x339),'status',_0x32028f(0x562),'responsavelid',_0x32028f(0x15c)];if(!this['AutomateSystem']&&(await this[_0x32028f(0x4cd)](),!this[_0x32028f(0x423)]))throw new Error(_0x32028f(0x39e));let _0x5dbfe2=this['AutomateSystem']?.['customFields']['map'](_0x557e45=>_0x557e45[_0x32028f(0x543)]),_0x31777a={};Object[_0x32028f(0x643)](_0x139b1e[_0x32028f(0x2f5)][_0x32028f(0x36b)])[_0x32028f(0x171)](([_0x57603b,_0x3c71c5])=>{const _0x479a61=_0x32028f;_0x54156b['includes'](_0x57603b)&&(_0x57603b===_0x479a61(0x15c)&&typeof _0x3c71c5=='string'?_0x31777a[_0x57603b]=_0x3c71c5[_0x479a61(0x5ca)](',')['map'](_0x36d992=>_0x36d992[_0x479a61(0x421)]())[_0x479a61(0x382)](_0xea077e=>_0xea077e!==''):_0x31777a[_0x57603b]=_0x3c71c5);});let _0x580f86=_0x139b1e['chatLog'][_0x32028f(0x62f)][_0x139b1e[_0x32028f(0x2f5)][_0x32028f(0x62f)][_0x32028f(0x3f3)]-0x1];if(_0x580f86){let _0x43c94c=_0x580f86[_0x32028f(0x481)];_0x43c94c!==void 0x0&&(_0x31777a[_0x32028f(0x118)]=_0x43c94c[_0x32028f(0x6bc)]());}let _0x5eb91c=_0x93788a['filter'](_0x17b672=>_0x5dbfe2[_0x32028f(0xe4)](_0x17b672[_0x32028f(0x543)]));this[_0x32028f(0xde)][_0x32028f(0x4f3)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x32028f(0x3de)),this[_0x32028f(0xde)]['verbose'](_0x31777a),this[_0x32028f(0xde)][_0x32028f(0x4f3)](this[_0x32028f(0x614)]+'\x20('+this[_0x32028f(0x387)]['wuid']+_0x32028f(0x172)),this[_0x32028f(0xde)][_0x32028f(0x4f3)](_0x5eb91c);let _0x4a6711=_0x5eb91c['map'](_0xcaf631=>{const _0x3dc84d=_0x32028f;let _0x366267=this['AutomateSystem']?.[_0x3dc84d(0x469)][_0x3dc84d(0x4fe)](_0x2608e9=>_0x2608e9[_0x3dc84d(0x543)]===_0xcaf631[_0x3dc84d(0x543)]);if(!_0x366267)throw new Error(_0x3dc84d(0x128)+_0xcaf631[_0x3dc84d(0x543)]);return{'_id':_0x366267[_0x3dc84d(0x472)],'value':_0xcaf631['value']};});this[_0x32028f(0xde)][_0x32028f(0x4f3)](this[_0x32028f(0x614)]+'\x20('+this[_0x32028f(0x387)][_0x32028f(0x4f9)]+'):\x20transformedCustomFieldVariables'),this[_0x32028f(0xde)][_0x32028f(0x4f3)](_0x4a6711),await this[_0x32028f(0x591)](_0x139b1e['remoteJid'],_0x31777a,_0x4a6711);}catch(_0x4f6591){this[_0x32028f(0xde)][_0x32028f(0x6ad)](this[_0x32028f(0x614)]+'\x20('+this[_0x32028f(0x387)][_0x32028f(0x4f9)]+_0x32028f(0xd3)+(_0x4f6591 instanceof Error?_0x4f6591[_0x32028f(0x5f0)]:JSON[_0x32028f(0x14a)](_0x4f6591,null,0x2)));}}else this[_0x32028f(0xde)][_0x32028f(0x6ad)](this['instanceName']+'\x20('+this['instance'][_0x32028f(0x4f9)]+_0x32028f(0x378));}catch(_0x1cdfdb){this[_0x32028f(0xde)][_0x32028f(0x6ad)](this[_0x32028f(0x614)]+'\x20('+this[_0x32028f(0x387)][_0x32028f(0x4f9)]+_0x32028f(0x36f)+(_0x1cdfdb instanceof Error?_0x1cdfdb[_0x32028f(0x5f0)]:JSON[_0x32028f(0x14a)](_0x1cdfdb,null,0x2)));}}async[a0_0x1f692e(0x591)](_0x5b8092,_0x1fdda1,_0x2166af){const _0x50a550=a0_0x1f692e;try{let _0x4125c9={'leadInfo.leadnome':_0x1fdda1[_0x50a550(0x342)],'leadInfo.nomecompleto':_0x1fdda1[_0x50a550(0x33d)],'leadInfo.email':_0x1fdda1[_0x50a550(0x50f)],'leadInfo.cpf':_0x1fdda1[_0x50a550(0x339)],'leadInfo.status':_0x1fdda1['status'],'leadInfo.notas':_0x1fdda1[_0x50a550(0x562)],'leadInfo.responsavelid':_0x1fdda1[_0x50a550(0x1a0)],'leadInfo.tags':_0x1fdda1[_0x50a550(0x15c)],'leadInfo.customFields':_0x2166af};if(_0x50a550(0x118)in _0x1fdda1){let _0x2ee639=_0x1fdda1[_0x50a550(0x118)];_0x4125c9[_0x50a550(0x25b)]=_0x2ee639?Number(_0x2ee639):null;}let _0x4638fc=await this[_0x50a550(0x40c)][_0x50a550(0x517)][_0x50a550(0x6b6)]({'where':{'_id':_0x5b8092}},_0x4125c9,this['instance'][_0x50a550(0x4f9)]);_0x4638fc?(this[_0x50a550(0xde)][_0x50a550(0x4f3)](this[_0x50a550(0x614)]+'\x20('+this['instance'][_0x50a550(0x4f9)]+_0x50a550(0x353)+_0x4638fc[_0x50a550(0x472)]),q(this[_0x50a550(0x614)],_0x50a550(0x622),{'chat':_0x4638fc})):this[_0x50a550(0xde)][_0x50a550(0x6ad)](this[_0x50a550(0x614)]+'\x20('+this[_0x50a550(0x387)][_0x50a550(0x4f9)]+_0x50a550(0x6a0));}catch(_0x3bbffe){this['logger'][_0x50a550(0x6ad)](this[_0x50a550(0x614)]+'\x20('+this[_0x50a550(0x387)][_0x50a550(0x4f9)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x3bbffe instanceof Error?_0x3bbffe[_0x50a550(0x5f0)]:JSON['stringify'](_0x3bbffe,null,0x2)));}}async[a0_0x1f692e(0x32d)](_0x5761c8,_0x3ca2e7){const _0x46f729=a0_0x1f692e;this['logger']['verbose'](this[_0x46f729(0x614)]+'\x20('+this['instance'][_0x46f729(0x4f9)]+_0x46f729(0x55a)+_0x3ca2e7);try{let _0xf16483=await this[_0x46f729(0x40c)]['chat'][_0x46f729(0x6b6)]({'where':{'_id':_0x5761c8[_0x46f729(0x2e1)]}},{'leadInfo.desativadoFluxoAte':_0x3ca2e7},this[_0x46f729(0x387)]['wuid']);this['logger'][_0x46f729(0x4f3)](this[_0x46f729(0x614)]+'\x20('+this[_0x46f729(0x387)][_0x46f729(0x4f9)]+_0x46f729(0x189)+_0x5761c8[_0x46f729(0x472)]),this[_0x46f729(0xde)][_0x46f729(0x4f3)](this[_0x46f729(0x614)]+'\x20('+this[_0x46f729(0x387)][_0x46f729(0x4f9)]+_0x46f729(0x55a)+JSON[_0x46f729(0x14a)](_0xf16483,null,0x2)),_0xf16483&&q(this[_0x46f729(0x614)],_0x46f729(0x622),{'chat':_0xf16483});}catch(_0x4e5955){this[_0x46f729(0xde)][_0x46f729(0x6ad)](this['instanceName']+'\x20('+this[_0x46f729(0x387)][_0x46f729(0x4f9)]+_0x46f729(0x373)+(_0x4e5955 instanceof Error?_0x4e5955[_0x46f729(0x5f0)]:JSON[_0x46f729(0x14a)](_0x4e5955,null,0x2)));}}async[a0_0x1f692e(0x1c4)](_0x39498d){const _0x55806d=a0_0x1f692e;try{this[_0x55806d(0xde)][_0x55806d(0x4f3)](this[_0x55806d(0x614)]+'\x20('+this[_0x55806d(0x387)][_0x55806d(0x4f9)]+_0x55806d(0xb1));let _0x5d21db=_0x39498d[_0x55806d(0x38c)](/\D/g,''),_0x452cad=await this[_0x55806d(0x40c)]['flow'][_0x55806d(0xc8)]({'where':{'testingWith':_0x5d21db}},this[_0x55806d(0x387)][_0x55806d(0x4f9)]);return _0x452cad||(this[_0x55806d(0xde)][_0x55806d(0x4f3)](this[_0x55806d(0x614)]+'\x20('+this[_0x55806d(0x387)][_0x55806d(0x4f9)]+_0x55806d(0x6e5)),_0x452cad=await this[_0x55806d(0x40c)][_0x55806d(0x418)][_0x55806d(0xc8)]({'where':{'default':!0x0}},this[_0x55806d(0x387)][_0x55806d(0x4f9)])),_0x452cad||(this['logger'][_0x55806d(0x4f3)](this['instanceName']+'\x20('+this[_0x55806d(0x387)][_0x55806d(0x4f9)]+_0x55806d(0x2db)),null);}catch(_0x1eef6f){return this[_0x55806d(0xde)]['error'](this[_0x55806d(0x614)]+'\x20('+this[_0x55806d(0x387)][_0x55806d(0x4f9)]+_0x55806d(0x192)+(_0x1eef6f instanceof Error?_0x1eef6f[_0x55806d(0x5f0)]:JSON[_0x55806d(0x14a)](_0x1eef6f,null,0x2))),null;}}async[a0_0x1f692e(0x8c)](_0x1e8a62,_0x185cc5){const _0x503326=a0_0x1f692e;try{let _0x46f1a1=!!_0x185cc5[_0x503326(0x474)],_0x999789=_0x185cc5[_0x503326(0x1de)],_0x1b24da=null;if(this[_0x503326(0xde)]['verbose'](this['instanceName']+'\x20('+this[_0x503326(0x387)][_0x503326(0x4f9)]+_0x503326(0x26e)+_0x46f1a1+_0x503326(0x1e5)+_0x999789),_0x46f1a1){this[_0x503326(0xde)]['verbose'](this[_0x503326(0x614)]+'\x20('+this['instance'][_0x503326(0x4f9)]+_0x503326(0xcc));let _0x4e66e1={'where':{'remoteJid':_0x1e8a62,'waitingMenu_id':_0x999789}};if(_0x1b24da=await this[_0x503326(0x40c)][_0x503326(0x27b)][_0x503326(0xc8)](_0x4e66e1,this['instance']['wuid']),!_0x1b24da)return this[_0x503326(0xde)][_0x503326(0x4f3)](this['instanceName']+'\x20('+this['instance'][_0x503326(0x4f9)]+'):\x20não\x20encontrou'),null;let _0x50bc7b=Date[_0x503326(0x188)](),_0x360ff9=_0x1b24da?.['minutesToClose']||0x0,_0x3ceabb=_0x50bc7b-_0x360ff9*0x3c*0x3e8;if(_0x1b24da[_0x503326(0x67f)]<_0x3ceabb){this['logger'][_0x503326(0x4f3)](this[_0x503326(0x614)]+'\x20('+this[_0x503326(0x387)][_0x503326(0x4f9)]+_0x503326(0x62a));let _0x20176b={'number':_0x1b24da['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x1b24da['waitingMenu_ExpiredMessage']}};await this['textMessage'](_0x20176b);let _0x1d4c64={'status':_0x503326(0x40d),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x503326(0x40c)]['flowConversation'][_0x503326(0x6b6)](_0x1b24da['_id'],_0x1d4c64,this[_0x503326(0x387)][_0x503326(0x4f9)]),null;}return _0x1b24da[_0x503326(0x67f)]=Date[_0x503326(0x188)](),_0x1b24da[_0x503326(0x2f5)]['lastReceivedMessage']=_0x185cc5,_0x1b24da;}else{this[_0x503326(0xde)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x503326(0x3ec)+this['instance'][_0x503326(0x4f9)]+_0x503326(0x471)),this[_0x503326(0xde)][_0x503326(0x4f3)](this[_0x503326(0x614)]+'\x20('+this[_0x503326(0x387)][_0x503326(0x4f9)]+_0x503326(0x375));let _0x39380f={'where':{'remoteJid':_0x1e8a62,'status':_0x503326(0x45c)}};if(_0x1b24da=await this[_0x503326(0x40c)][_0x503326(0x27b)]['findOne'](_0x39380f,this[_0x503326(0x387)][_0x503326(0x4f9)]),!_0x1b24da){let _0x41ec89=await this[_0x503326(0x1c4)](_0x1e8a62);if(_0x41ec89&&(_0x1b24da=await this[_0x503326(0x547)](_0x41ec89,_0x185cc5['key'],_0x185cc5)),!_0x1b24da)return null;}let _0xaae828=Date[_0x503326(0x188)](),_0x4782e6=_0x1b24da?.[_0x503326(0x8d)]||0x0,_0x7aec38=_0xaae828-_0x4782e6*0x3c*0x3e8;if(this[_0x503326(0xde)][_0x503326(0x4f3)](this[_0x503326(0x614)]+'\x20('+this[_0x503326(0x387)]['wuid']+'):\x20Current\x20Time:\x20'+_0xaae828+',\x20Minutes\x20to\x20Close:\x20'+_0x4782e6+_0x503326(0x381)+_0x7aec38),this[_0x503326(0xde)]['verbose'](this[_0x503326(0x614)]+'\x20('+this[_0x503326(0x387)][_0x503326(0x4f9)]+_0x503326(0x35f)),this[_0x503326(0xde)][_0x503326(0x4f3)](this[_0x503326(0x614)]+'\x20('+this[_0x503326(0x387)][_0x503326(0x4f9)]+_0x503326(0x646)+_0x1b24da[_0x503326(0x67f)]),this[_0x503326(0xde)][_0x503326(0x4f3)](this[_0x503326(0x614)]+'\x20('+this['instance']['wuid']+_0x503326(0x6cd)+_0x7aec38),_0x1b24da['lastInteraction']<_0x7aec38){this['logger'][_0x503326(0x4f3)](this[_0x503326(0x614)]+'\x20('+this[_0x503326(0x387)][_0x503326(0x4f9)]+_0x503326(0x5fa));let _0x5803d8=await this[_0x503326(0x1c4)](_0x1e8a62);if(_0x5803d8===null)return null;_0x1b24da&&await this[_0x503326(0x40c)][_0x503326(0x27b)][_0x503326(0x6b6)](_0x1b24da[_0x503326(0x472)],{'status':_0x503326(0x40d)},this[_0x503326(0x387)][_0x503326(0x4f9)]),_0x1b24da=await this[_0x503326(0x547)](_0x5803d8,_0x185cc5[_0x503326(0x497)],_0x185cc5);}return _0x1b24da[_0x503326(0x67f)]=_0xaae828,_0x1b24da[_0x503326(0x2f5)][_0x503326(0x20d)]=_0x185cc5,_0x1b24da;}}catch(_0x4d5178){return this['logger'][_0x503326(0x6ad)](this['instanceName']+'\x20('+this[_0x503326(0x387)][_0x503326(0x4f9)]+_0x503326(0x397)+(_0x4d5178 instanceof Error?_0x4d5178[_0x503326(0x5f0)]:JSON[_0x503326(0x14a)](_0x4d5178,null,0x2))),null;}}async['createNewConversation'](_0x4a48ee,_0x25143b,_0x9b0231){const _0x258a5e=a0_0x1f692e;this[_0x258a5e(0xde)]['verbose'](this['instanceName']+'\x20('+this[_0x258a5e(0x387)][_0x258a5e(0x4f9)]+_0x258a5e(0x252));try{let _0x284334=require(_0x258a5e(0x49d))[_0x258a5e(0x673)],_0x4c0e87=Date[_0x258a5e(0x188)](),_0x12a9f1='start',_0x52008c=_0x25143b['fromMe']?null:_0x9b0231,_0x328abc=_0x25143b[_0x258a5e(0x6e1)]?_0x9b0231:null,_0x5412d0=_0x25143b[_0x258a5e(0x2e1)];await this[_0x258a5e(0x6d3)](_0x5412d0);let _0x1e0b03={..._0x4a48ee,'chatLog':null},_0x362a9a=await this[_0x258a5e(0x127)](_0x1e0b03[_0x258a5e(0x112)]),_0x5e2454=await this['getVariablesChat'](_0x5412d0),_0x1f2841={..._0x362a9a,..._0x5e2454,'_remoteJid':_0x5412d0},_0x3f2e59={'lastReceivedMessage':_0x52008c,'lastSendMessage':_0x328abc,'lastBlockId':_0x12a9f1,'lastCondition':!0x0,'realVariables':_0x1f2841};_0x1e0b03[_0x258a5e(0x2f5)]=_0x3f2e59,delete _0x1e0b03[_0x258a5e(0x472)],_0x1e0b03[_0x258a5e(0x472)]=new _0x284334(),_0x1e0b03[_0x258a5e(0x67f)]=_0x4c0e87,_0x1e0b03[_0x258a5e(0x555)]=_0x258a5e(0x45c),_0x1e0b03[_0x258a5e(0x2e1)]=_0x5412d0;let _0x2a6455=await this[_0x258a5e(0x40c)]['flowConversation'][_0x258a5e(0x6b6)](_0x1e0b03[_0x258a5e(0x472)],_0x1e0b03,this['instance'][_0x258a5e(0x4f9)]);return this[_0x258a5e(0xde)][_0x258a5e(0x4f3)](this[_0x258a5e(0x614)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x2a6455?_0x1e0b03:null;}catch(_0x44b4fc){return this['logger'][_0x258a5e(0x6ad)](this[_0x258a5e(0x614)]+'\x20('+this['instance']['wuid']+_0x258a5e(0x1d4)+(_0x44b4fc instanceof Error?_0x44b4fc[_0x258a5e(0x5f0)]:JSON[_0x258a5e(0x14a)](_0x44b4fc,null,0x2))),_0x44b4fc;}}async[a0_0x1f692e(0x585)](_0x495827,_0x685e77){const _0x5d43c2=a0_0x1f692e;let _0x268333=_0x495827[_0x5d43c2(0x2e1)];_0x685e77[_0x5d43c2(0x327)][_0x5d43c2(0x2e1)]&&_0x685e77[_0x5d43c2(0x327)][_0x5d43c2(0x2e1)]['trim']()!==''&&(_0x268333=_0x685e77[_0x5d43c2(0x327)][_0x5d43c2(0x2e1)][_0x5d43c2(0x421)]()),this[_0x5d43c2(0xde)][_0x5d43c2(0x4f3)](this[_0x5d43c2(0x614)]+'\x20('+this[_0x5d43c2(0x387)][_0x5d43c2(0x4f9)]+'):\x20Enviando\x20texto');let _0x3b2ee3={'number':_0x268333,'options':{'delay':_0x685e77[_0x5d43c2(0x327)][_0x5d43c2(0x697)]},'textMessage':{'text':_0x685e77[_0x5d43c2(0x327)][_0x5d43c2(0x505)]}};try{let _0x2c2288=await this['textMessage'](_0x3b2ee3);if(_0x2c2288){let _0x35c575={'_id':_0x2c2288['key']['id'],'_fromMe':_0x2c2288[_0x5d43c2(0x497)][_0x5d43c2(0x6e1)],'_remoteJid':_0x2c2288[_0x5d43c2(0x497)][_0x5d43c2(0x2e1)]};_0x495827[_0x5d43c2(0x2f5)][_0x5d43c2(0x17a)]=_0x685e77[_0x5d43c2(0x472)][_0x5d43c2(0x6bc)]();let {message_normalized:_0x166cf7}=this[_0x5d43c2(0x331)](_0x2c2288['message'],_(_0x2c2288[_0x5d43c2(0x5f0)]),null);_0x495827[_0x5d43c2(0x2f5)]['lastSendMessage']=await _0x166cf7;let _0x36d2d2={'messageId':_0x2c2288['key']['id']},_0x572597=_0x495827[_0x5d43c2(0x2f5)][_0x5d43c2(0x36b)];Object[_0x5d43c2(0x66c)](_0x572597,_0x35c575),_0x495827[_0x5d43c2(0x2f5)]['realVariables']=_0x572597,this[_0x5d43c2(0x1e3)](_0x495827,_0x685e77,_0x36d2d2);}else{let _0x3f4461={'error':!0x0};this[_0x5d43c2(0x1e3)](_0x495827,_0x685e77,_0x3f4461),this[_0x5d43c2(0xde)][_0x5d43c2(0x6ad)](this[_0x5d43c2(0x614)]+'\x20('+this[_0x5d43c2(0x387)]['wuid']+_0x5d43c2(0x1b6));}}catch(_0x3f1196){let _0x43c082={'error':!0x0,'errorLog':_0x3f1196[_0x5d43c2(0x6bc)]()};this[_0x5d43c2(0x1e3)](_0x495827,_0x685e77,_0x43c082),this[_0x5d43c2(0xde)]['error'](this[_0x5d43c2(0x614)]+'\x20('+this['instance'][_0x5d43c2(0x4f9)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x3f1196 instanceof Error?_0x3f1196[_0x5d43c2(0x5f0)]:JSON['stringify'](_0x3f1196,null,0x2)));}}async[a0_0x1f692e(0x526)](_0x538f03,_0x53a252){const _0x21558e=a0_0x1f692e;let _0x282b48=_0x538f03[_0x21558e(0x2e1)];_0x53a252['uazapi']['remoteJid']&&_0x53a252[_0x21558e(0x327)][_0x21558e(0x2e1)][_0x21558e(0x421)]()!==''&&(_0x282b48=_0x53a252['uazapi'][_0x21558e(0x2e1)][_0x21558e(0x421)]()),this[_0x21558e(0xde)][_0x21558e(0x4f3)](this['instanceName']+'\x20('+this[_0x21558e(0x387)][_0x21558e(0x4f9)]+'):\x20Enviando\x20mídia');let _0x64f0a7={'number':_0x282b48,'options':{'delay':_0x53a252['uazapi']['delay']},'mediaMessage':{'mediatype':_0x53a252[_0x21558e(0x327)]['mediatype'],'caption':_0x53a252['uazapi'][_0x21558e(0x5c5)],'media':_0x53a252['uazapi']['media'],'fileName':_0x53a252[_0x21558e(0x327)]['fileName']}};try{let _0x1f0444=await this[_0x21558e(0x14c)](_0x64f0a7);if(_0x1f0444){let _0x51a56={'_id':_0x1f0444[_0x21558e(0x497)]['id'],'_fromMe':_0x1f0444[_0x21558e(0x497)][_0x21558e(0x6e1)],'_remoteJid':_0x1f0444[_0x21558e(0x497)][_0x21558e(0x2e1)]};_0x538f03['chatLog'][_0x21558e(0x17a)]=_0x53a252[_0x21558e(0x472)][_0x21558e(0x6bc)]();let {message_normalized:_0x5c8dd7}=this['normalizeMessage'](_0x1f0444[_0x21558e(0x5f0)],_(_0x1f0444[_0x21558e(0x5f0)]),null);_0x538f03[_0x21558e(0x2f5)][_0x21558e(0x37d)]=await _0x5c8dd7;let _0x6a87a8={'messageId':_0x1f0444[_0x21558e(0x497)]['id']},_0x49d47a=_0x538f03['chatLog'][_0x21558e(0x36b)];Object[_0x21558e(0x66c)](_0x49d47a,_0x51a56),_0x538f03[_0x21558e(0x2f5)][_0x21558e(0x36b)]=_0x49d47a,this[_0x21558e(0x1e3)](_0x538f03,_0x53a252,_0x6a87a8);}else{let _0x2f2a2a={'error':!0x0};this[_0x21558e(0x1e3)](_0x538f03,_0x53a252,_0x2f2a2a),this['logger']['error'](this[_0x21558e(0x614)]+'\x20('+this[_0x21558e(0x387)][_0x21558e(0x4f9)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x4d2d89){let _0xb5581b={'error':!0x0,'errorLog':_0x4d2d89['toString']()};this[_0x21558e(0x1e3)](_0x538f03,_0x53a252,_0xb5581b),this['logger'][_0x21558e(0x6ad)](this[_0x21558e(0x614)]+'\x20('+this[_0x21558e(0x387)]['wuid']+_0x21558e(0x308)+(_0x4d2d89 instanceof Error?_0x4d2d89['message']:JSON[_0x21558e(0x14a)](_0x4d2d89,null,0x2)));}}async['uazapiSendLocation'](_0x1dae4f,_0x4a43ec){const _0x3e49a3=a0_0x1f692e;let _0x30d4aa=_0x1dae4f[_0x3e49a3(0x2e1)];_0x4a43ec['uazapi']['remoteJid']&&_0x4a43ec['uazapi'][_0x3e49a3(0x2e1)][_0x3e49a3(0x421)]()!==''&&(_0x30d4aa=_0x4a43ec['uazapi'][_0x3e49a3(0x2e1)]['trim']()),this[_0x3e49a3(0xde)][_0x3e49a3(0x4f3)](this[_0x3e49a3(0x614)]+'\x20('+this[_0x3e49a3(0x387)]['wuid']+_0x3e49a3(0x218));let _0x31b626={'number':_0x30d4aa,'options':{'delay':_0x4a43ec['uazapi'][_0x3e49a3(0x697)]},'locationMessage':{'name':_0x4a43ec['uazapi'][_0x3e49a3(0x543)],'address':_0x4a43ec['uazapi'][_0x3e49a3(0x5a7)],'latitude':_0x4a43ec['uazapi']['latitude'],'longitude':_0x4a43ec['uazapi'][_0x3e49a3(0x3f5)]}};try{let _0x1763e8=await this[_0x3e49a3(0x1dc)](_0x31b626);if(_0x1763e8){let _0xb57e7a={'_id':_0x1763e8[_0x3e49a3(0x497)]['id'],'_fromMe':_0x1763e8[_0x3e49a3(0x497)]['fromMe'],'_remoteJid':_0x1763e8['key'][_0x3e49a3(0x2e1)]};_0x1dae4f[_0x3e49a3(0x2f5)][_0x3e49a3(0x17a)]=_0x4a43ec[_0x3e49a3(0x472)][_0x3e49a3(0x6bc)]();let {message_normalized:_0x290556}=this['normalizeMessage'](_0x1763e8[_0x3e49a3(0x5f0)],_(_0x1763e8['message']),null);_0x1dae4f[_0x3e49a3(0x2f5)][_0x3e49a3(0x37d)]=await _0x290556;let _0x5a8a04={'messageId':_0x1763e8['key']['id']},_0x24e8e4=_0x1dae4f[_0x3e49a3(0x2f5)][_0x3e49a3(0x36b)];Object[_0x3e49a3(0x66c)](_0x24e8e4,_0xb57e7a),_0x1dae4f[_0x3e49a3(0x2f5)][_0x3e49a3(0x36b)]=_0x24e8e4,this[_0x3e49a3(0x1e3)](_0x1dae4f,_0x4a43ec,_0x5a8a04);}else{let _0x28cde7={'error':!0x0};this[_0x3e49a3(0x1e3)](_0x1dae4f,_0x4a43ec,_0x28cde7),this[_0x3e49a3(0xde)]['error'](this[_0x3e49a3(0x614)]+'\x20('+this['instance']['wuid']+_0x3e49a3(0x699));}}catch(_0x4b77e2){let _0x548af6={'error':!0x0,'errorLog':_0x4b77e2[_0x3e49a3(0x6bc)]()};this['updateConversation'](_0x1dae4f,_0x4a43ec,_0x548af6),this[_0x3e49a3(0xde)]['error'](this[_0x3e49a3(0x614)]+'\x20('+this[_0x3e49a3(0x387)][_0x3e49a3(0x4f9)]+_0x3e49a3(0x3a9)+(_0x4b77e2 instanceof Error?_0x4b77e2[_0x3e49a3(0x5f0)]:JSON[_0x3e49a3(0x14a)](_0x4b77e2,null,0x2)));}}async[a0_0x1f692e(0x616)](_0x952272,_0x3ace56){const _0x364526=a0_0x1f692e;let _0x8ac9e5=_0x952272[_0x364526(0x2e1)];_0x3ace56[_0x364526(0x327)][_0x364526(0x2e1)]&&_0x3ace56[_0x364526(0x327)]['remoteJid']['trim']()!==''&&(_0x8ac9e5=_0x3ace56[_0x364526(0x327)][_0x364526(0x2e1)][_0x364526(0x421)]()),this['logger'][_0x364526(0x4f3)](this[_0x364526(0x614)]+'\x20('+this[_0x364526(0x387)]['wuid']+_0x364526(0x60e));let _0x1fb280={'number':_0x8ac9e5,'options':{'delay':_0x3ace56[_0x364526(0x327)][_0x364526(0x697)]},'audioMessage':{'audio':_0x3ace56['uazapi'][_0x364526(0x212)]}};try{let _0xedcf42=await this[_0x364526(0x329)](_0x1fb280);if(_0xedcf42){let _0x5e7495={'_id':_0xedcf42['key']['id'],'_fromMe':_0xedcf42['key']['fromMe'],'_remoteJid':_0xedcf42[_0x364526(0x497)][_0x364526(0x2e1)]};_0x952272[_0x364526(0x2f5)]['lastBlockId']=_0x3ace56[_0x364526(0x472)][_0x364526(0x6bc)]();let {message_normalized:_0x4880fc}=this[_0x364526(0x331)](_0xedcf42['message'],_(_0xedcf42[_0x364526(0x5f0)]),null);_0x952272[_0x364526(0x2f5)][_0x364526(0x37d)]=await _0x4880fc;let _0x33ad5a={'messageId':_0xedcf42[_0x364526(0x497)]['id']},_0x853757=_0x952272[_0x364526(0x2f5)][_0x364526(0x36b)];Object['assign'](_0x853757,_0x5e7495),_0x952272['chatLog'][_0x364526(0x36b)]=_0x853757,this[_0x364526(0x1e3)](_0x952272,_0x3ace56,_0x33ad5a);}else{let _0x371dff={'error':!0x0};this[_0x364526(0x1e3)](_0x952272,_0x3ace56,_0x371dff),this['logger'][_0x364526(0x6ad)](this[_0x364526(0x614)]+'\x20('+this['instance'][_0x364526(0x4f9)]+_0x364526(0x2af));}}catch(_0x107776){let _0x292e44={'error':!0x0,'errorLog':_0x107776[_0x364526(0x6bc)]()};this[_0x364526(0x1e3)](_0x952272,_0x3ace56,_0x292e44),this[_0x364526(0xde)][_0x364526(0x6ad)](this['instanceName']+'\x20('+this[_0x364526(0x387)][_0x364526(0x4f9)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x107776 instanceof Error?_0x107776['message']:JSON['stringify'](_0x107776,null,0x2)));}}async[a0_0x1f692e(0x441)](_0x237a98,_0x407b02){const _0x2ab6f8=a0_0x1f692e;let _0x27dfdd=_0x237a98['remoteJid'];_0x407b02[_0x2ab6f8(0x327)]['remoteJid']&&_0x407b02['uazapi'][_0x2ab6f8(0x2e1)][_0x2ab6f8(0x421)]()!==''&&(_0x27dfdd=_0x407b02[_0x2ab6f8(0x327)][_0x2ab6f8(0x2e1)][_0x2ab6f8(0x421)]()),this[_0x2ab6f8(0xde)][_0x2ab6f8(0x4f3)](this['instanceName']+'\x20('+this['instance'][_0x2ab6f8(0x4f9)]+_0x2ab6f8(0x294));let _0x47ddda={'number':_0x27dfdd,'options':{'delay':_0x407b02['uazapi']['delay']},'contactMessage':[{'fullName':_0x407b02[_0x2ab6f8(0x327)][_0x2ab6f8(0x11a)],'phoneNumber':_0x407b02[_0x2ab6f8(0x327)][_0x2ab6f8(0x26f)]}]};try{let _0x22f44f=await this[_0x2ab6f8(0x2a2)](_0x47ddda);if(_0x22f44f){let _0x2be214={'_id':_0x22f44f['key']['id'],'_fromMe':_0x22f44f[_0x2ab6f8(0x497)][_0x2ab6f8(0x6e1)],'_remoteJid':_0x22f44f[_0x2ab6f8(0x497)][_0x2ab6f8(0x2e1)]};_0x237a98['chatLog'][_0x2ab6f8(0x17a)]=_0x407b02[_0x2ab6f8(0x472)][_0x2ab6f8(0x6bc)]();let {message_normalized:_0x178c7a}=this[_0x2ab6f8(0x331)](_0x22f44f[_0x2ab6f8(0x5f0)],_(_0x22f44f[_0x2ab6f8(0x5f0)]),null);_0x237a98[_0x2ab6f8(0x2f5)][_0x2ab6f8(0x37d)]=await _0x178c7a;let _0x417074={'messageId':_0x22f44f[_0x2ab6f8(0x497)]['id']},_0x2a6c97=_0x237a98['chatLog'][_0x2ab6f8(0x36b)];Object[_0x2ab6f8(0x66c)](_0x2a6c97,_0x2be214),_0x237a98['chatLog']['realVariables']=_0x2a6c97,this[_0x2ab6f8(0x1e3)](_0x237a98,_0x407b02,_0x417074);}else{let _0x25fc93={'error':!0x0};this[_0x2ab6f8(0x1e3)](_0x237a98,_0x407b02,_0x25fc93),this[_0x2ab6f8(0xde)][_0x2ab6f8(0x6ad)](this[_0x2ab6f8(0x614)]+'\x20('+this['instance'][_0x2ab6f8(0x4f9)]+_0x2ab6f8(0x61c));}}catch(_0x58daff){let _0x3320ed={'error':!0x0,'errorLog':_0x58daff[_0x2ab6f8(0x6bc)]()};this[_0x2ab6f8(0x1e3)](_0x237a98,_0x407b02,_0x3320ed),this[_0x2ab6f8(0xde)][_0x2ab6f8(0x6ad)](this[_0x2ab6f8(0x614)]+'\x20('+this[_0x2ab6f8(0x387)]['wuid']+_0x2ab6f8(0x40e)+(_0x58daff instanceof Error?_0x58daff['message']:JSON[_0x2ab6f8(0x14a)](_0x58daff,null,0x2)));}}[a0_0x1f692e(0x5d9)](_0x5cb150,_0xe7a2b5){const _0x47a5f9=a0_0x1f692e;for(let _0x1f5e0b of _0x5cb150)_0x1f5e0b[_0x47a5f9(0x3a7)]&&(_0x1f5e0b[_0x47a5f9(0x3a7)]=this[_0x47a5f9(0x642)](_0x1f5e0b['option'],_0xe7a2b5)),_0x1f5e0b[_0x47a5f9(0x44f)]&&(_0x1f5e0b[_0x47a5f9(0x44f)]=this[_0x47a5f9(0x642)](_0x1f5e0b[_0x47a5f9(0x44f)],_0xe7a2b5));}async['uazapiSendMenu'](_0x2be962,_0x403c41){const _0x106f0d=a0_0x1f692e;let _0x38aefc=_0x2be962[_0x106f0d(0x2e1)];_0x403c41['uazapi'][_0x106f0d(0x2e1)]&&_0x403c41[_0x106f0d(0x327)]['remoteJid'][_0x106f0d(0x421)]()!==''&&(_0x38aefc=_0x403c41[_0x106f0d(0x327)][_0x106f0d(0x2e1)][_0x106f0d(0x421)]()),this[_0x106f0d(0xde)][_0x106f0d(0x4f3)](this[_0x106f0d(0x614)]+'\x20('+this[_0x106f0d(0x387)][_0x106f0d(0x4f9)]+_0x106f0d(0x22c));let _0x57deea=_0x2be962['replyOptions']['filter'](_0x5def81=>_0x5def81[_0x106f0d(0x11e)]===_0x403c41[_0x106f0d(0x472)])['sort']((_0x2e5aaf,_0x191164)=>_0x2e5aaf[_0x106f0d(0x36c)]-_0x191164[_0x106f0d(0x36c)]);this[_0x106f0d(0x5d9)](_0x57deea,_0x2be962[_0x106f0d(0x2f5)][_0x106f0d(0x36b)]);let _0x1f8b9b=_0x57deea[_0x106f0d(0x2df)](_0x1fed7a=>_0x1fed7a['option']),_0x29a3ae={'number':_0x38aefc,'menuMessage':{'type':_0x403c41[_0x106f0d(0x327)][_0x106f0d(0x67a)]||_0x106f0d(0x3f4),'text':_0x403c41['uazapi'][_0x106f0d(0x505)]||_0x403c41[_0x106f0d(0x327)][_0x106f0d(0x543)],'footerText':_0x403c41[_0x106f0d(0x327)][_0x106f0d(0x39a)],'buttonText':_0x403c41[_0x106f0d(0x327)][_0x106f0d(0x25a)],'selectableCount':0x1,'choices':_0x1f8b9b},'options':{'delay':_0x403c41[_0x106f0d(0x327)][_0x106f0d(0x697)]}};try{let _0xf9827c=await this[_0x106f0d(0x2d8)](_0x29a3ae);if(_0xf9827c){let _0xa96366={'_id':_0xf9827c[_0x106f0d(0x497)]['id'],'_fromMe':_0xf9827c[_0x106f0d(0x497)][_0x106f0d(0x6e1)],'_remoteJid':_0xf9827c[_0x106f0d(0x497)][_0x106f0d(0x2e1)]};_0x403c41[_0x106f0d(0x327)][_0x106f0d(0x323)]===!0x0&&(_0x2be962[_0x106f0d(0x555)]=_0x106f0d(0x155),this[_0x106f0d(0xde)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x106f0d(0x4f9)]+_0x106f0d(0x3e8)+_0x2be962['status'])),this[_0x106f0d(0xde)]['verbose'](this[_0x106f0d(0x614)]+'\x20('+this[_0x106f0d(0x387)][_0x106f0d(0x4f9)]+_0x106f0d(0x338)+(_0x403c41['uazapi'][_0x106f0d(0x543)]||_0x403c41[_0x106f0d(0x327)][_0x106f0d(0x505)])),_0x2be962['waitingMenu_id']=_0xf9827c['key']['id'],_0x2be962['waitingMenu_text']=_0x403c41['uazapi'][_0x106f0d(0x543)]||_0x403c41['uazapi'][_0x106f0d(0x505)],_0x2be962[_0x106f0d(0x5e8)]=_0x57deea,_0x403c41[_0x106f0d(0x327)]['menuExpiredMessage']&&(_0x2be962[_0x106f0d(0x54b)]=_0x403c41[_0x106f0d(0x327)][_0x106f0d(0x63b)]),this[_0x106f0d(0xde)][_0x106f0d(0x4f3)](this[_0x106f0d(0x614)]+'\x20('+this[_0x106f0d(0x387)][_0x106f0d(0x4f9)]+_0x106f0d(0x692)+_0x2be962[_0x106f0d(0x33b)]),_0x2be962[_0x106f0d(0x2f5)][_0x106f0d(0x17a)]=_0x403c41[_0x106f0d(0x472)][_0x106f0d(0x6bc)]();let {message_normalized:_0x650fb1}=this['normalizeMessage'](_0xf9827c['message'],_(_0xf9827c[_0x106f0d(0x5f0)]),null);_0x2be962[_0x106f0d(0x2f5)][_0x106f0d(0x37d)]=await _0x650fb1;let _0x1caa3={'messageId':_0xf9827c['key']['id']},_0x5d0bfd=_0x2be962[_0x106f0d(0x2f5)][_0x106f0d(0x36b)];Object['assign'](_0x5d0bfd,_0xa96366),_0x2be962[_0x106f0d(0x2f5)][_0x106f0d(0x36b)]=_0x5d0bfd,this[_0x106f0d(0x1e3)](_0x2be962,_0x403c41,_0x1caa3);}else{let _0x27bf09={'error':!0x0};this[_0x106f0d(0x1e3)](_0x2be962,_0x403c41,_0x27bf09),this[_0x106f0d(0xde)][_0x106f0d(0x6ad)](this['instanceName']+'\x20('+this['instance'][_0x106f0d(0x4f9)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x271d44){let _0x2e93bd={'error':!0x0,'errorLog':_0x271d44 instanceof Error?_0x271d44[_0x106f0d(0x5f0)]:JSON[_0x106f0d(0x14a)](_0x271d44,null,0x2)};this[_0x106f0d(0x1e3)](_0x2be962,_0x403c41,_0x2e93bd),this[_0x106f0d(0xde)]['error'](this[_0x106f0d(0x614)]+'\x20('+this['instance'][_0x106f0d(0x4f9)]+_0x106f0d(0x506)+(_0x271d44 instanceof Error?_0x271d44['message']:JSON[_0x106f0d(0x14a)](_0x271d44,null,0x2)));}}async[a0_0x1f692e(0x35a)](_0x4456a8,_0x5568f3){const _0x25e8e9=a0_0x1f692e;this[_0x25e8e9(0xde)][_0x25e8e9(0x4f3)](this[_0x25e8e9(0x614)]+'\x20('+this['instance'][_0x25e8e9(0x4f9)]+_0x25e8e9(0x424));let _0x179c70=_0x4456a8[_0x25e8e9(0x2f5)][_0x25e8e9(0x62f)][_0x25e8e9(0x4fe)](_0x3b470b=>_0x3b470b[_0x25e8e9(0x11e)]['toString']()===_0x5568f3[_0x25e8e9(0x327)][_0x25e8e9(0x11e)][_0x25e8e9(0x6bc)]()),_0x22309c={'id':_0x179c70[_0x25e8e9(0x1ce)],'remoteJid':_0x179c70[_0x25e8e9(0x2e1)],'fromMe':_0x179c70[_0x25e8e9(0x6e1)]};try{let _0x13b6cc=await this[_0x25e8e9(0x690)](_0x22309c);if(_0x13b6cc){_0x4456a8[_0x25e8e9(0x2f5)]['lastBlockId']=_0x5568f3[_0x25e8e9(0x472)][_0x25e8e9(0x6bc)]();let {message_normalized:_0x58a310}=this['normalizeMessage'](_0x13b6cc[_0x25e8e9(0x5f0)],_(_0x13b6cc['message']),null);_0x4456a8[_0x25e8e9(0x2f5)]['lastSendMessage']=await _0x58a310;let _0x239991={};this[_0x25e8e9(0x1e3)](_0x4456a8,_0x5568f3,_0x239991);}else{let _0x434071={'error':!0x0};this[_0x25e8e9(0x1e3)](_0x4456a8,_0x5568f3,_0x434071),this[_0x25e8e9(0xde)]['error'](this['instanceName']+'\x20('+this[_0x25e8e9(0x387)][_0x25e8e9(0x4f9)]+_0x25e8e9(0x429));}}catch(_0x3dc308){let _0x419874={'error':!0x0,'errorLog':_0x3dc308 instanceof Error?_0x3dc308[_0x25e8e9(0x5f0)]:JSON[_0x25e8e9(0x14a)](_0x3dc308,null,0x2)};this[_0x25e8e9(0x1e3)](_0x4456a8,_0x5568f3,_0x419874),this['logger'][_0x25e8e9(0x6ad)](this[_0x25e8e9(0x614)]+'\x20('+this[_0x25e8e9(0x387)]['wuid']+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x3dc308 instanceof Error?_0x3dc308[_0x25e8e9(0x5f0)]:JSON[_0x25e8e9(0x14a)](_0x3dc308,null,0x2)));}}async[a0_0x1f692e(0x589)](_0x1b40c2){const _0x141305=a0_0x1f692e;try{if(this[_0x141305(0xde)][_0x141305(0x4f3)](this[_0x141305(0x614)]+'\x20('+this['instance'][_0x141305(0x4f9)]+'):\x20Criando\x20fluxo...'),await this['repository'][_0x141305(0x418)][_0x141305(0xc8)]({'where':{'name':_0x1b40c2['name']}},this['instance']['wuid']))return{'message':_0x141305(0x4b2)};_0x1b40c2['default']===!0x0&&await this[_0x141305(0x40c)][_0x141305(0x418)][_0x141305(0x696)]({},{'default':!0x1},this[_0x141305(0x387)][_0x141305(0x4f9)]);let _0x2eb952=new ne[(_0x141305(0x539))][(_0x141305(0x673))](),_0x171ec1={'_id':_0x2eb952,'default':!0x0,'title':_0x141305(0x4e5),'x':0x0,'y':0x0},_0x2194ee={'_id':new ne[(_0x141305(0x539))][(_0x141305(0x673))](),'order':0x1,'groupId':_0x2eb952[_0x141305(0x6bc)](),'type':'start'},_0x54ff9b={'_id':new ne[(_0x141305(0x539))][(_0x141305(0x673))](),'owner':this[_0x141305(0x387)]['wuid'],'name':_0x1b40c2[_0x141305(0x543)],'groups':[_0x171ec1],'blocks':[_0x2194ee],..._0x1b40c2};return _0x54ff9b=await this[_0x141305(0x40c)][_0x141305(0x418)][_0x141305(0x302)](_0x54ff9b,this[_0x141305(0x387)][_0x141305(0x4f9)]),_0x54ff9b;}catch(_0x75957b){throw this[_0x141305(0xde)][_0x141305(0x6ad)](this[_0x141305(0x614)]+'\x20('+this[_0x141305(0x387)][_0x141305(0x4f9)]+'):\x20Erro\x20ao\x20criar\x20fluxo\x20'+(_0x75957b instanceof Error?_0x75957b[_0x141305(0x5f0)]:JSON[_0x141305(0x14a)](_0x75957b,null,0x2))),new m(_0x141305(0x508)+_0x75957b);}}async[a0_0x1f692e(0x6e0)](_0x5e84d6){const _0x385e8f=a0_0x1f692e;try{return this['logger'][_0x385e8f(0x4f3)](this['instanceName']+'\x20('+this['instance'][_0x385e8f(0x4f9)]+_0x385e8f(0x366)),await this[_0x385e8f(0x40c)][_0x385e8f(0x418)][_0x385e8f(0x568)]({'where':{'name':_0x5e84d6}},this[_0x385e8f(0x387)][_0x385e8f(0x4f9)]);}catch(_0x2541f0){return this[_0x385e8f(0xde)]['error'](this[_0x385e8f(0x614)]+'\x20('+this['instance'][_0x385e8f(0x4f9)]+_0x385e8f(0x1d0)+(_0x2541f0 instanceof Error?_0x2541f0[_0x385e8f(0x5f0)]:JSON['stringify'](_0x2541f0,null,0x2))),{'message':_0x385e8f(0x153)+_0x2541f0};}}async[a0_0x1f692e(0x448)](_0x271b53){const _0x441bf1=a0_0x1f692e;try{this[_0x441bf1(0xde)]['verbose'](this[_0x441bf1(0x614)]+'\x20('+this[_0x441bf1(0x387)][_0x441bf1(0x4f9)]+_0x441bf1(0xb1));let _0x3b7e9d=await this['repository']['flow']['findOne']({'where':{'name':_0x271b53}},this[_0x441bf1(0x387)][_0x441bf1(0x4f9)]);if(!_0x3b7e9d)throw new Error(_0x441bf1(0xef));if(!this[_0x441bf1(0x423)]&&(await this[_0x441bf1(0x4cd)](),!this[_0x441bf1(0x423)]))return null;let _0x4e631d=this['AutomateSystem']?.[_0x441bf1(0x469)][_0x441bf1(0x2df)](_0x50adaf=>_0x50adaf[_0x441bf1(0x543)]),_0x560fd3=['nome','nomecompleto',_0x441bf1(0x50f),_0x441bf1(0x339),'status',_0x441bf1(0x562),_0x441bf1(0x1a0),_0x441bf1(0x15c)];_0x3b7e9d[_0x441bf1(0x112)]=_0x3b7e9d['variables'][_0x441bf1(0x382)](_0xe4e570=>!(_0xe4e570['folder']===_0x441bf1(0x683)||_0xe4e570[_0x441bf1(0x683)])),_0x560fd3[_0x441bf1(0x171)](_0x253341=>{const _0x5657b6=_0x441bf1;_0x3b7e9d['variables'][_0x5657b6(0x14d)]({'folder':_0x5657b6(0x683),'name':_0x253341,'value':'','doc':'','leadInfo':!0x0});}),_0x4e631d['forEach'](_0x359fe5=>{const _0x7bab50=_0x441bf1;let _0x9194f=_0x3b7e9d['variables'][_0x7bab50(0x64b)](_0x4df1e1=>_0x4df1e1[_0x7bab50(0x543)]===_0x359fe5);_0x9194f===-0x1?_0x3b7e9d[_0x7bab50(0x112)][_0x7bab50(0x14d)]({'folder':_0x7bab50(0x683),'name':_0x359fe5,'value':'','doc':'','leadInfo':!0x0}):(_0x3b7e9d[_0x7bab50(0x112)][_0x9194f][_0x7bab50(0x449)]=_0x7bab50(0x683),_0x3b7e9d[_0x7bab50(0x112)][_0x9194f][_0x7bab50(0x683)]=!0x0);}),_0x3b7e9d[_0x441bf1(0x367)]&&_0x3b7e9d[_0x441bf1(0x367)][_0x441bf1(0x3f3)]>0x0&&_0x3b7e9d['blocks']['forEach'](_0x4acb7a=>{const _0x12bf66=_0x441bf1;_0x4acb7a[_0x12bf66(0x4af)]&&_0x4acb7a[_0x12bf66(0x34e)]&&_0x4acb7a[_0x12bf66(0x4af)]===_0x4acb7a['next_groupId']&&(_0x4acb7a[_0x12bf66(0x34e)]=null);});let _0x2b1bbd=await this[_0x441bf1(0x40c)][_0x441bf1(0x418)][_0x441bf1(0x6b6)](_0x3b7e9d[_0x441bf1(0x472)],_0x3b7e9d,this[_0x441bf1(0x387)]['wuid']);if(!_0x2b1bbd)throw new Error(_0x441bf1(0x162));return _0x2b1bbd;}catch(_0xdab0c){throw this['logger'][_0x441bf1(0x6ad)](this['instanceName']+'\x20('+this[_0x441bf1(0x387)][_0x441bf1(0x4f9)]+_0x441bf1(0x6a9)+(_0xdab0c instanceof Error?_0xdab0c[_0x441bf1(0x5f0)]:JSON['stringify'](_0xdab0c,null,0x2))),new m('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0xdab0c);}}async[a0_0x1f692e(0x403)](){const _0x3da9c5=a0_0x1f692e;try{return this['logger'][_0x3da9c5(0x4f3)](this['instanceName']+'\x20('+this['instance'][_0x3da9c5(0x4f9)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x3da9c5(0x40c)][_0x3da9c5(0x418)]['findAll']({'where':{}},this[_0x3da9c5(0x387)][_0x3da9c5(0x4f9)]);}catch(_0xe882ec){return this[_0x3da9c5(0xde)]['error'](this[_0x3da9c5(0x614)]+'\x20('+this[_0x3da9c5(0x387)][_0x3da9c5(0x4f9)]+_0x3da9c5(0x619)+(_0xe882ec instanceof Error?_0xe882ec[_0x3da9c5(0x5f0)]:JSON[_0x3da9c5(0x14a)](_0xe882ec,null,0x2))),{'message':_0x3da9c5(0x1f8)+_0xe882ec};}}async[a0_0x1f692e(0x41f)](_0x8443d0){const _0x5f40a4=a0_0x1f692e;try{this[_0x5f40a4(0xde)][_0x5f40a4(0x4f3)](this[_0x5f40a4(0x614)]+'\x20('+this['instance'][_0x5f40a4(0x4f9)]+'):\x20Alterando\x20fluxo...');let _0x27db08=await this[_0x5f40a4(0x40c)][_0x5f40a4(0x418)][_0x5f40a4(0xc8)]({'where':{'name':_0x8443d0[_0x5f40a4(0x543)]}},this[_0x5f40a4(0x387)]['wuid']);return _0x27db08?(_0x8443d0[_0x5f40a4(0x205)]===!0x0&&await this[_0x5f40a4(0x40c)][_0x5f40a4(0x418)]['updateMany']({},{'default':!0x1},this[_0x5f40a4(0x387)][_0x5f40a4(0x4f9)]),await this[_0x5f40a4(0x40c)]['flow'][_0x5f40a4(0x6b6)](_0x27db08[_0x5f40a4(0x472)],_0x8443d0,this['instance'][_0x5f40a4(0x4f9)])):{'message':_0x5f40a4(0x4a6)};}catch(_0x401d0c){throw this[_0x5f40a4(0xde)][_0x5f40a4(0x6ad)](this[_0x5f40a4(0x614)]+'\x20('+this[_0x5f40a4(0x387)]['wuid']+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+(_0x401d0c instanceof Error?_0x401d0c[_0x5f40a4(0x5f0)]:JSON[_0x5f40a4(0x14a)](_0x401d0c,null,0x2))),new m('Erro\x20ao\x20alterar\x20o\x20fluxo:\x20'+(_0x401d0c instanceof Error?_0x401d0c[_0x5f40a4(0x5f0)]:JSON[_0x5f40a4(0x14a)](_0x401d0c,null,0x2)));}}async['editFlowBlock'](_0x13e386){const _0x462ee7=a0_0x1f692e;try{this['logger'][_0x462ee7(0x4f3)](this[_0x462ee7(0x614)]+'\x20('+this[_0x462ee7(0x387)]['wuid']+_0x462ee7(0x177));let _0x5496a6=await this[_0x462ee7(0x40c)][_0x462ee7(0x418)]['findOne']({'where':{'name':_0x13e386[_0x462ee7(0x543)]}},this[_0x462ee7(0x387)]['wuid']);_0x5496a6||this[_0x462ee7(0x544)](_0x462ee7(0xef));let {block:_0x46ed27}=_0x13e386;_0x46ed27?.[_0x462ee7(0x194)]?this['copyBlock'](_0x5496a6,_0x13e386):_0x46ed27?.[_0x462ee7(0x46e)]?this['deleteBlock'](_0x5496a6,_0x13e386):_0x46ed27[_0x462ee7(0x472)]?await this['updateBlock'](_0x5496a6,_0x13e386):this[_0x462ee7(0xfb)](_0x5496a6,_0x13e386);let _0x90ca29=await this[_0x462ee7(0x40c)]['flow'][_0x462ee7(0x6b6)](_0x5496a6[_0x462ee7(0x472)],_0x5496a6,this[_0x462ee7(0x387)][_0x462ee7(0x4f9)]);if(!_0x90ca29)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x90ca29;}catch(_0xd125bd){this[_0x462ee7(0x544)](_0x462ee7(0x176)+_0xd125bd);}}async[a0_0x1f692e(0x36a)](_0x1e55f5,_0x271364){const _0x500f28=a0_0x1f692e;let _0x25ff53=_0x271364[_0x500f28(0x447)]['_id'],_0x2ee8f4=_0x1e55f5[_0x500f28(0x367)][_0x500f28(0x4fe)](_0x180d75=>_0x180d75[_0x500f28(0x472)][_0x500f28(0x6bc)]()===_0x25ff53);if(!_0x2ee8f4){this['logger'][_0x500f28(0x6ad)](this[_0x500f28(0x614)]+'\x20('+this[_0x500f28(0x387)]['wuid']+_0x500f28(0x18c)+_0x25ff53+_0x500f28(0x45e));return;}this[_0x500f28(0xde)]['verbose'](this[_0x500f28(0x614)]+'\x20('+this['instance'][_0x500f28(0x4f9)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x500f28(0x14a)](_0x2ee8f4));let _0x29307f=JSON[_0x500f28(0x392)](JSON[_0x500f28(0x14a)](_0x2ee8f4));_0x29307f['_id']=new ne[(_0x500f28(0x205))][(_0x500f28(0x539))][(_0x500f28(0x673))](),this[_0x500f28(0xde)][_0x500f28(0x4f3)](this['instanceName']+'\x20('+this[_0x500f28(0x387)][_0x500f28(0x4f9)]+_0x500f28(0x6cc)+JSON['stringify'](_0x29307f)),_0x1e55f5[_0x500f28(0x367)][_0x500f28(0x14d)](_0x29307f),this[_0x500f28(0x2f8)](_0x1e55f5['blocks'],_0x29307f[_0x500f28(0x4af)]);}[a0_0x1f692e(0x544)](_0x3ead8c){const _0x3129b6=a0_0x1f692e;throw this[_0x3129b6(0xde)]['error'](this['instanceName']+'\x20('+this[_0x3129b6(0x387)]['wuid']+_0x3129b6(0x3ec)+_0x3ead8c),new m(_0x3ead8c);}[a0_0x1f692e(0x43d)](_0x5725fb,_0x208080){const _0x25eebe=a0_0x1f692e;let {block:_0x448ce1}=_0x208080;if(_0x448ce1[_0x25eebe(0x59f)]===_0x25eebe(0x405)){this[_0x25eebe(0x544)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x448ce1[_0x25eebe(0x472)]){this[_0x25eebe(0x544)](_0x25eebe(0x4e4));return;}let _0x454247=_0x5725fb[_0x25eebe(0x367)]['find'](_0x197f1c=>_0x197f1c[_0x25eebe(0x472)]['toString']()===_0x208080['block'][_0x25eebe(0x472)]['toString']());if(!_0x454247){this[_0x25eebe(0x544)](_0x25eebe(0x611)+_0x448ce1[_0x25eebe(0x472)]+_0x25eebe(0x662));return;}_0x5725fb['blocks']=_0x5725fb['blocks'][_0x25eebe(0x382)](_0x579a71=>_0x579a71[_0x25eebe(0x472)][_0x25eebe(0x6bc)]()!==_0x208080[_0x25eebe(0x447)]['_id']['toString']()),_0x5725fb[_0x25eebe(0x65f)]=_0x5725fb[_0x25eebe(0x65f)][_0x25eebe(0x382)](_0x16c994=>_0x16c994[_0x25eebe(0x11e)]!==_0x448ce1[_0x25eebe(0x472)][_0x25eebe(0x6bc)]()),_0x5725fb[_0x25eebe(0x510)]=_0x5725fb[_0x25eebe(0x510)][_0x25eebe(0x382)](_0x544109=>_0x544109[_0x25eebe(0x11e)]!==_0x448ce1[_0x25eebe(0x472)][_0x25eebe(0x6bc)]()),_0x5725fb[_0x25eebe(0x58b)]=_0x5725fb[_0x25eebe(0x58b)][_0x25eebe(0x382)](_0x532187=>_0x532187[_0x25eebe(0x11e)]!==_0x448ce1[_0x25eebe(0x472)]['toString']()),this[_0x25eebe(0x2f8)](_0x5725fb[_0x25eebe(0x367)],_0x454247[_0x25eebe(0x4af)]);}async['updateBlock'](_0x122ef6,_0x1e1b00){const _0x1e863a=a0_0x1f692e;let _0x5ac8a9=_0x122ef6['blocks']['findIndex'](_0x5ba9e1=>_0x5ba9e1[_0x1e863a(0x472)][_0x1e863a(0x6bc)]()===_0x1e1b00[_0x1e863a(0x447)][_0x1e863a(0x472)][_0x1e863a(0x6bc)]());if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1e863a(0x387)]['wuid']+_0x1e863a(0x44b)+_0x5ac8a9),_0x5ac8a9===-0x1){this[_0x1e863a(0xde)]['verbose'](_0x1e863a(0x611)+_0x1e1b00['block'][_0x1e863a(0x472)]+_0x1e863a(0x114));return;}if(_0x122ef6[_0x1e863a(0x367)][_0x5ac8a9][_0x1e863a(0x59f)]===_0x1e863a(0x405)){let _0x52ef16=Object[_0x1e863a(0x50e)](_0x1e1b00[_0x1e863a(0x447)]);if(_0x52ef16[_0x1e863a(0x3f3)]>0x2||_0x52ef16[_0x1e863a(0x3f3)]===0x2&&!_0x52ef16['includes'](_0x1e863a(0x34e))){this[_0x1e863a(0x544)](_0x1e863a(0x503));return;}}let _0x5d6487=_0x122ef6[_0x1e863a(0x367)][_0x5ac8a9]['groupId'];for(let _0x3953ec in _0x1e1b00[_0x1e863a(0x447)])_0x1e1b00[_0x1e863a(0x447)][_0x1e863a(0x13d)](_0x3953ec)&&(_0x122ef6[_0x1e863a(0x367)][_0x5ac8a9][_0x3953ec]=_0x1e1b00[_0x1e863a(0x447)][_0x3953ec]);if(this[_0x1e863a(0xde)][_0x1e863a(0x4f3)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x1e863a(0x14a)](_0x122ef6[_0x1e863a(0x367)][_0x5ac8a9])),_0x122ef6['blocks'][_0x5ac8a9][_0x1e863a(0x6b4)]&&_0x1e863a(0x5b0)in _0x122ef6[_0x1e863a(0x367)][_0x5ac8a9][_0x1e863a(0x6b4)]){this[_0x1e863a(0xde)]['verbose'](this[_0x1e863a(0x614)]+'\x20('+this[_0x1e863a(0x387)][_0x1e863a(0x4f9)]+_0x1e863a(0x5ac));let _0x22e833=JSON['stringify'](_0x122ef6[_0x1e863a(0x367)][_0x5ac8a9][_0x1e863a(0x6b4)]['header'],null,0x1);_0x22e833[_0x1e863a(0x3f3)]>0x2&&(_0x22e833=_0x22e833['substring'](0x1,_0x22e833[_0x1e863a(0x3f3)]-0x1)[_0x1e863a(0x421)]()),_0x122ef6[_0x1e863a(0x367)][_0x5ac8a9][_0x1e863a(0x6b4)]['headerString']=_0x22e833;}if(_0x122ef6['blocks'][_0x5ac8a9][_0x1e863a(0x6b4)]&&_0x1e863a(0x1ad)in _0x122ef6['blocks'][_0x5ac8a9][_0x1e863a(0x6b4)]){this['logger'][_0x1e863a(0x4f3)](this[_0x1e863a(0x614)]+'\x20('+this[_0x1e863a(0x387)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString');let _0x5def87=JSON[_0x1e863a(0x14a)](_0x122ef6[_0x1e863a(0x367)][_0x5ac8a9][_0x1e863a(0x6b4)][_0x1e863a(0x1ad)],null,0x1);_0x5def87[_0x1e863a(0x3f3)]>0x2&&(_0x5def87=_0x5def87[_0x1e863a(0x5f3)](0x1,_0x5def87[_0x1e863a(0x3f3)]-0x1)[_0x1e863a(0x421)]()),_0x122ef6['blocks'][_0x5ac8a9][_0x1e863a(0x6b4)][_0x1e863a(0x4e8)]=_0x5def87;}let _0x46c756=_0x122ef6[_0x1e863a(0x367)][_0x5ac8a9][_0x1e863a(0x4af)];_0x5d6487!==_0x46c756?(this[_0x1e863a(0x2f8)](_0x122ef6[_0x1e863a(0x367)],_0x5d6487),this[_0x1e863a(0x2f8)](_0x122ef6[_0x1e863a(0x367)],_0x46c756)):this[_0x1e863a(0x2f8)](_0x122ef6[_0x1e863a(0x367)],_0x5d6487);}[a0_0x1f692e(0xfb)](_0xd79ca6,_0x2bcee0){const _0x25f5a3=a0_0x1f692e;if(_0x2bcee0[_0x25f5a3(0x447)][_0x25f5a3(0x59f)]===_0x25f5a3(0x405)){this[_0x25f5a3(0x544)](_0x25f5a3(0x5f7));return;}if(_0x2bcee0['block'][_0x25f5a3(0x6b4)]&&_0x25f5a3(0x5b0)in _0x2bcee0[_0x25f5a3(0x447)][_0x25f5a3(0x6b4)]){this[_0x25f5a3(0xde)]['verbose'](this[_0x25f5a3(0x614)]+'\x20('+this[_0x25f5a3(0x387)]['wuid']+_0x25f5a3(0x5ac));let _0x179f79=JSON[_0x25f5a3(0x14a)](_0x2bcee0[_0x25f5a3(0x447)]['apirequest'][_0x25f5a3(0x5b0)],null,0x1);_0x179f79[_0x25f5a3(0x3f3)]>0x2&&(_0x179f79=_0x179f79['substring'](0x1,_0x179f79[_0x25f5a3(0x3f3)]-0x1)[_0x25f5a3(0x421)]()),_0x2bcee0[_0x25f5a3(0x447)]['apirequest'][_0x25f5a3(0x222)]=_0x179f79;}_0x2bcee0[_0x25f5a3(0x447)]['apirequest']&&_0x25f5a3(0x1ad)in _0x2bcee0[_0x25f5a3(0x447)][_0x25f5a3(0x6b4)]&&(this[_0x25f5a3(0xde)][_0x25f5a3(0x4f3)](this[_0x25f5a3(0x614)]+'\x20('+this['instance'][_0x25f5a3(0x4f9)]+_0x25f5a3(0x3b0)),_0x2bcee0[_0x25f5a3(0x447)]['apirequest'][_0x25f5a3(0x4e8)]=JSON[_0x25f5a3(0x14a)](_0x2bcee0['block'][_0x25f5a3(0x6b4)]['body'],null,0x1)[_0x25f5a3(0x421)]()),_0xd79ca6[_0x25f5a3(0x367)][_0x25f5a3(0x14d)](_0x2bcee0[_0x25f5a3(0x447)]),this[_0x25f5a3(0x2f8)](_0xd79ca6[_0x25f5a3(0x367)],_0x2bcee0['block'][_0x25f5a3(0x4af)]);}[a0_0x1f692e(0x2f8)](_0x1f2229,_0x3a73dd){const _0x50316a=a0_0x1f692e;let _0x16f98d=_0x1f2229[_0x50316a(0x382)](_0xbcd8ed=>_0xbcd8ed[_0x50316a(0x4af)]===_0x3a73dd);_0x16f98d[_0x50316a(0x267)]((_0x24f397,_0x2dcc97)=>_0x24f397[_0x50316a(0x36c)]-_0x2dcc97[_0x50316a(0x36c)]),_0x16f98d[_0x50316a(0x171)]((_0x2e0a0e,_0x16385b)=>_0x2e0a0e[_0x50316a(0x36c)]=_0x16385b+0x1);}async['editFlowReply'](_0x4bb2fc){const _0x5499bd=a0_0x1f692e;try{if(this[_0x5499bd(0xde)][_0x5499bd(0x4f3)](this[_0x5499bd(0x614)]+'\x20('+this[_0x5499bd(0x387)][_0x5499bd(0x4f9)]+_0x5499bd(0x13e)),!_0x4bb2fc||!_0x4bb2fc[_0x5499bd(0x5d0)]){this[_0x5499bd(0x544)]('Data\x20inválida\x20fornecida');return;}let _0x24b06e=await this[_0x5499bd(0x40c)][_0x5499bd(0x418)]['findOne']({'where':{'name':_0x4bb2fc[_0x5499bd(0x543)]}},this[_0x5499bd(0x387)][_0x5499bd(0x4f9)]);_0x24b06e||this[_0x5499bd(0x544)](_0x5499bd(0xef));let {replyOption:_0x464fa5}=_0x4bb2fc;_0x464fa5?.[_0x5499bd(0x46e)]?(this[_0x5499bd(0x40b)](_0x24b06e,_0x4bb2fc),this[_0x5499bd(0x184)](_0x24b06e[_0x5499bd(0x58b)],_0x4bb2fc['replyOption'][_0x5499bd(0x11e)])):_0x464fa5['_id']?(await this[_0x5499bd(0x223)](_0x24b06e,_0x4bb2fc),this[_0x5499bd(0x184)](_0x24b06e[_0x5499bd(0x58b)],_0x4bb2fc[_0x5499bd(0x5d0)][_0x5499bd(0x11e)])):(this[_0x5499bd(0x4b0)](_0x24b06e,_0x4bb2fc),this[_0x5499bd(0x184)](_0x24b06e[_0x5499bd(0x58b)],_0x4bb2fc[_0x5499bd(0x5d0)][_0x5499bd(0x11e)]));let _0x214f53=await this[_0x5499bd(0x40c)][_0x5499bd(0x418)][_0x5499bd(0x6b6)](_0x24b06e[_0x5499bd(0x472)],_0x24b06e,this[_0x5499bd(0x387)][_0x5499bd(0x4f9)]);if(!_0x214f53)throw new Error(_0x5499bd(0x162));return _0x214f53;}catch(_0x4af9eb){this['throwAndLogError'](_0x5499bd(0xa4)+_0x4af9eb);}}['reorderReplyOptions'](_0x3c6e50,_0xc05f01){const _0x4c0d77=a0_0x1f692e;console[_0x4c0d77(0x671)](_0x4c0d77(0x32a),_0xc05f01),_0x3c6e50['forEach'](_0x3b3037=>{const _0x5d44e0=_0x4c0d77;_0x3b3037[_0x5d44e0(0x11e)]===_0xc05f01&&_0x3b3037[_0x5d44e0(0x36c)]===void 0x0&&(_0x3b3037[_0x5d44e0(0x36c)]=0x270f);});let _0x46caac=_0x3c6e50[_0x4c0d77(0x382)](_0xca313b=>_0xca313b['blockId']===_0xc05f01);_0x46caac[_0x4c0d77(0x267)]((_0x193274,_0x4f77f8)=>_0x193274['order']-_0x4f77f8[_0x4c0d77(0x36c)]),_0x46caac[_0x4c0d77(0x171)]((_0x11fdf9,_0x3e934f)=>{_0x11fdf9['order']=_0x3e934f+0x1;}),_0x3c6e50[_0x4c0d77(0x171)](_0x5a5353=>{const _0x186e44=_0x4c0d77;if(_0x5a5353[_0x186e44(0x11e)]===_0xc05f01){let _0x5c80b8=_0x46caac[_0x186e44(0x4fe)](_0x4c8fbd=>_0x4c8fbd['_id']['toString']()===_0x5a5353[_0x186e44(0x472)][_0x186e44(0x6bc)]());_0x5c80b8&&(_0x5a5353[_0x186e44(0x36c)]=_0x5c80b8[_0x186e44(0x36c)]);}}),console[_0x4c0d77(0x671)](_0x4c0d77(0x2b3),_0x3c6e50);}[a0_0x1f692e(0x40b)](_0x2bc8ed,_0x3cd0da){const _0x449b52=a0_0x1f692e;let {replyOption:_0x36d5d2}=_0x3cd0da;if(!_0x36d5d2[_0x449b52(0x472)]){this[_0x449b52(0x544)](_0x449b52(0x61d));return;}if(!_0x2bc8ed[_0x449b52(0x58b)][_0x449b52(0x4fe)](_0x2b9183=>_0x2b9183[_0x449b52(0x472)][_0x449b52(0x6bc)]()===_0x3cd0da['replyOption'][_0x449b52(0x472)]['toString']())){this[_0x449b52(0x544)](_0x449b52(0x5c6)+_0x36d5d2[_0x449b52(0x472)]+'\x20não\x20encontrado');return;}_0x2bc8ed[_0x449b52(0x58b)]=_0x2bc8ed[_0x449b52(0x58b)]['filter'](_0x5d894b=>_0x5d894b[_0x449b52(0x472)]['toString']()!==_0x3cd0da[_0x449b52(0x5d0)][_0x449b52(0x472)]['toString']());}async[a0_0x1f692e(0x223)](_0x3a14b7,_0x19eff6){const _0x3923d9=a0_0x1f692e;let _0x3d68cb=_0x3a14b7[_0x3923d9(0x58b)][_0x3923d9(0x64b)](_0x1eed1a=>_0x1eed1a[_0x3923d9(0x472)]['toString']()===_0x19eff6[_0x3923d9(0x5d0)][_0x3923d9(0x472)][_0x3923d9(0x6bc)]());if(_0x3d68cb===-0x1){this['throwAndLogError'](_0x3923d9(0x5c6)+_0x19eff6[_0x3923d9(0x5d0)][_0x3923d9(0x472)]+_0x3923d9(0x114));return;}for(let _0x32cb29 in _0x19eff6[_0x3923d9(0x5d0)])_0x19eff6[_0x3923d9(0x5d0)][_0x3923d9(0x13d)](_0x32cb29)&&(_0x3a14b7[_0x3923d9(0x58b)][_0x3d68cb][_0x32cb29]=_0x19eff6[_0x3923d9(0x5d0)][_0x32cb29]);}[a0_0x1f692e(0x4b0)](_0x1c74ad,_0x2147f3){const _0x1ed7c6=a0_0x1f692e;_0x1c74ad[_0x1ed7c6(0x58b)][_0x1ed7c6(0x14d)](_0x2147f3[_0x1ed7c6(0x5d0)]);}async['editFlowGroup'](_0x2ad50b){const _0x16bfe9=a0_0x1f692e;this[_0x16bfe9(0xde)][_0x16bfe9(0x4f3)](this[_0x16bfe9(0x614)]+'\x20('+this[_0x16bfe9(0x387)][_0x16bfe9(0x4f9)]+_0x16bfe9(0x33e)+_0x2ad50b);try{this[_0x16bfe9(0xde)]['verbose'](this[_0x16bfe9(0x614)]+'\x20('+this[_0x16bfe9(0x387)][_0x16bfe9(0x4f9)]+_0x16bfe9(0xb0));let _0x2de33e=await this[_0x16bfe9(0x40c)][_0x16bfe9(0x418)]['findOne']({'where':{'name':_0x2ad50b['name']}},this[_0x16bfe9(0x387)][_0x16bfe9(0x4f9)]);if(!_0x2de33e)throw new Error(_0x16bfe9(0xef));if(_0x2ad50b['group']&&_0x2ad50b[_0x16bfe9(0x354)]?.[_0x16bfe9(0x46e)]===!0x0){if(this['logger'][_0x16bfe9(0x4f3)](this[_0x16bfe9(0x614)]+'\x20('+this[_0x16bfe9(0x387)]['wuid']+_0x16bfe9(0x60b)),_0x2ad50b[_0x16bfe9(0x354)][_0x16bfe9(0x205)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x2de33e['blocks'][_0x16bfe9(0x416)](_0x261845=>_0x261845[_0x16bfe9(0x4af)]['toString']()===_0x2ad50b[_0x16bfe9(0x354)]['_id']))return this['logger'][_0x16bfe9(0x4f3)](this[_0x16bfe9(0x614)]+'\x20('+this['instance']['wuid']+_0x16bfe9(0x1c9)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x2de33e[_0x16bfe9(0x355)]=_0x2de33e[_0x16bfe9(0x355)][_0x16bfe9(0x382)](_0x39d522=>_0x39d522[_0x16bfe9(0x472)]['toString']()!==_0x2ad50b[_0x16bfe9(0x354)][_0x16bfe9(0x472)]);}else{if(_0x2ad50b['group']){if(_0x2ad50b['group']['default']===!0x0)return{'message':_0x16bfe9(0x2d9)};if(_0x2ad50b['group'][_0x16bfe9(0x472)]){let _0xcf04cb=_0x2de33e[_0x16bfe9(0x355)]['find'](_0x26df0d=>_0x26df0d[_0x16bfe9(0x472)][_0x16bfe9(0x6bc)]()===_0x2ad50b[_0x16bfe9(0x354)]['_id']);_0xcf04cb&&(_0x2ad50b[_0x16bfe9(0x354)]['x']<0x0&&(_0x2ad50b['group']['x']=0x0),_0x2ad50b[_0x16bfe9(0x354)]['y']<0x0&&(_0x2ad50b[_0x16bfe9(0x354)]['y']=0x0),Object['assign'](_0xcf04cb,_0x2ad50b[_0x16bfe9(0x354)]));}else _0x2de33e[_0x16bfe9(0x355)]['push'](_0x2ad50b['group']);}}let _0x339338=await this[_0x16bfe9(0x40c)][_0x16bfe9(0x418)][_0x16bfe9(0x6b6)](_0x2de33e[_0x16bfe9(0x472)],_0x2de33e,this[_0x16bfe9(0x387)]['wuid']);if(!_0x339338)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x339338;}catch(_0x1d19f0){throw this[_0x16bfe9(0xde)]['error'](this[_0x16bfe9(0x614)]+'\x20('+this['instance'][_0x16bfe9(0x4f9)]+_0x16bfe9(0x45d)+(_0x1d19f0 instanceof Error?_0x1d19f0[_0x16bfe9(0x5f0)]:JSON[_0x16bfe9(0x14a)](_0x1d19f0,null,0x2))),new m(_0x16bfe9(0x528)+(_0x1d19f0 instanceof Error?_0x1d19f0['message']:JSON[_0x16bfe9(0x14a)](_0x1d19f0,null,0x2)));}}async[a0_0x1f692e(0x21f)](_0x83edf7){const _0x53f7a0=a0_0x1f692e;try{this[_0x53f7a0(0xde)][_0x53f7a0(0x4f3)](this['instanceName']+'\x20('+this[_0x53f7a0(0x387)][_0x53f7a0(0x4f9)]+_0x53f7a0(0x638));let _0x5b0bcf=await this[_0x53f7a0(0x40c)]['flow']['findOne']({'where':{'name':_0x83edf7[_0x53f7a0(0x543)]}},this[_0x53f7a0(0x387)]['wuid']);if(!_0x5b0bcf)throw new Error(_0x53f7a0(0xef));let _0x243900=!0x1;if(_0x83edf7[_0x53f7a0(0x455)]?.[_0x53f7a0(0x46e)]===!0x0)_0x5b0bcf[_0x53f7a0(0x65f)]=_0x5b0bcf[_0x53f7a0(0x65f)]['filter'](_0x33e12e=>_0x33e12e&&_0x83edf7[_0x53f7a0(0x455)]&&_0x33e12e[_0x53f7a0(0x472)]&&_0x83edf7['condition'][_0x53f7a0(0x472)]&&_0x33e12e[_0x53f7a0(0x472)]['toString']()!==_0x83edf7[_0x53f7a0(0x455)][_0x53f7a0(0x472)][_0x53f7a0(0x6bc)]()),_0x243900=!0x0;else{let _0x4ddb76=_0x5b0bcf[_0x53f7a0(0x65f)][_0x53f7a0(0x4fe)](_0x59fff9=>_0x59fff9&&_0x83edf7[_0x53f7a0(0x455)]&&_0x59fff9[_0x53f7a0(0x472)]&&_0x83edf7['condition'][_0x53f7a0(0x472)]&&_0x59fff9[_0x53f7a0(0x472)]['toString']()===_0x83edf7[_0x53f7a0(0x455)][_0x53f7a0(0x472)]['toString']());_0x4ddb76?(_0x243900=_0x4ddb76[_0x53f7a0(0x36c)]!==_0x83edf7[_0x53f7a0(0x455)]['order'],Object['assign'](_0x4ddb76,_0x83edf7[_0x53f7a0(0x455)])):(_0x5b0bcf['conditions']['push'](_0x83edf7[_0x53f7a0(0x455)]),_0x243900=!0x0);}if(_0x243900){_0x5b0bcf[_0x53f7a0(0x65f)][_0x53f7a0(0x267)]((_0x5e2b36,_0x4d3f10)=>_0x5e2b36['order']>_0x4d3f10[_0x53f7a0(0x36c)]?0x1:_0x4d3f10[_0x53f7a0(0x36c)]>_0x5e2b36[_0x53f7a0(0x36c)]?-0x1:0x0);for(let _0x5cc921=0x0;_0x5cc921<_0x5b0bcf['conditions'][_0x53f7a0(0x3f3)];_0x5cc921++)_0x5b0bcf[_0x53f7a0(0x65f)][_0x5cc921][_0x53f7a0(0x36c)]=_0x5cc921+0x1;_0x5b0bcf[_0x53f7a0(0x65f)][_0x53f7a0(0x3f3)]>0x0&&(_0x5b0bcf['conditions'][0x0]['OrAnd']=_0x53f7a0(0x21a));}let _0x22fde3=await this[_0x53f7a0(0x40c)][_0x53f7a0(0x418)]['updateOne'](_0x5b0bcf[_0x53f7a0(0x472)],_0x5b0bcf,this[_0x53f7a0(0x387)][_0x53f7a0(0x4f9)]);if(!_0x22fde3)throw new Error(_0x53f7a0(0x162));return _0x22fde3;}catch(_0x495876){throw this[_0x53f7a0(0xde)]['error'](this[_0x53f7a0(0x614)]+'\x20('+this[_0x53f7a0(0x387)][_0x53f7a0(0x4f9)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x495876 instanceof Error?_0x495876[_0x53f7a0(0x5f0)]:JSON[_0x53f7a0(0x14a)](_0x495876,null,0x2))),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x495876 instanceof Error?_0x495876[_0x53f7a0(0x5f0)]:JSON[_0x53f7a0(0x14a)](_0x495876,null,0x2)));}}async[a0_0x1f692e(0x47b)](_0x1c5571){const _0xaa423=a0_0x1f692e;try{this[_0xaa423(0xde)][_0xaa423(0x4f3)](this[_0xaa423(0x614)]+'\x20('+this[_0xaa423(0x387)]['wuid']+_0xaa423(0x404));let _0x13a71d=await this['repository'][_0xaa423(0x418)]['findOne']({'where':{'name':_0x1c5571[_0xaa423(0x543)]}},this['instance'][_0xaa423(0x4f9)]);if(!_0x13a71d)throw new Error(_0xaa423(0xef));let _0x3692d2=!0x1;if(_0x1c5571['varedit']?.[_0xaa423(0x46e)]===!0x0)_0x13a71d[_0xaa423(0x510)]=_0x13a71d[_0xaa423(0x510)]['filter'](_0x1e56cf=>_0x1e56cf&&_0x1c5571[_0xaa423(0x2bd)]&&_0x1e56cf[_0xaa423(0x472)]&&_0x1c5571[_0xaa423(0x2bd)][_0xaa423(0x472)]&&_0x1e56cf[_0xaa423(0x472)][_0xaa423(0x6bc)]()!==_0x1c5571['varedit'][_0xaa423(0x472)][_0xaa423(0x6bc)]()),_0x3692d2=!0x0;else{let _0x47c6d2=_0x13a71d[_0xaa423(0x510)][_0xaa423(0x4fe)](_0x331b82=>_0x331b82&&_0x1c5571['varedit']&&_0x331b82['_id']&&_0x1c5571[_0xaa423(0x2bd)][_0xaa423(0x472)]&&_0x331b82[_0xaa423(0x472)][_0xaa423(0x6bc)]()===_0x1c5571[_0xaa423(0x2bd)][_0xaa423(0x472)][_0xaa423(0x6bc)]());_0x47c6d2?(_0x3692d2=_0x47c6d2[_0xaa423(0x36c)]!==_0x1c5571['varedit']['order'],Object[_0xaa423(0x66c)](_0x47c6d2,_0x1c5571[_0xaa423(0x2bd)])):(_0x13a71d[_0xaa423(0x510)][_0xaa423(0x14d)](_0x1c5571[_0xaa423(0x2bd)]),_0x3692d2=!0x0);}if(_0x3692d2){_0x13a71d[_0xaa423(0x510)][_0xaa423(0x267)]((_0x31467a,_0x1bc217)=>_0x31467a[_0xaa423(0x36c)]>_0x1bc217[_0xaa423(0x36c)]?0x1:_0x1bc217[_0xaa423(0x36c)]>_0x31467a[_0xaa423(0x36c)]?-0x1:0x0);for(let _0x37963b=0x0;_0x37963b<_0x13a71d[_0xaa423(0x510)][_0xaa423(0x3f3)];_0x37963b++)_0x13a71d[_0xaa423(0x510)][_0x37963b][_0xaa423(0x36c)]=_0x37963b+0x1;}let _0x24e29e=await this[_0xaa423(0x40c)][_0xaa423(0x418)]['updateOne'](_0x13a71d[_0xaa423(0x472)],_0x13a71d,this['instance'][_0xaa423(0x4f9)]);if(!_0x24e29e)throw new Error(_0xaa423(0x162));return _0x24e29e;}catch(_0x53bf37){throw this['logger'][_0xaa423(0x6ad)](this[_0xaa423(0x614)]+'\x20('+this[_0xaa423(0x387)][_0xaa423(0x4f9)]+_0xaa423(0x97)+(_0x53bf37 instanceof Error?_0x53bf37[_0xaa423(0x5f0)]:JSON['stringify'](_0x53bf37,null,0x2))),new m(_0xaa423(0x4ca)+(_0x53bf37 instanceof Error?_0x53bf37['message']:JSON[_0xaa423(0x14a)](_0x53bf37,null,0x2)));}}async[a0_0x1f692e(0x319)](_0x829ca9){const _0x306dd9=a0_0x1f692e;try{this['logger'][_0x306dd9(0x4f3)](this[_0x306dd9(0x614)]+'\x20('+this[_0x306dd9(0x387)][_0x306dd9(0x4f9)]+_0x306dd9(0x3af));let _0x20afb3=await this['repository'][_0x306dd9(0x418)][_0x306dd9(0xc8)]({'where':{'name':_0x829ca9[_0x306dd9(0x543)]}},this[_0x306dd9(0x387)][_0x306dd9(0x4f9)]);if(!_0x20afb3)throw new Error('Flow\x20não\x20encontrado');_0x829ca9[_0x306dd9(0x6bd)][_0x306dd9(0x543)]=_0x829ca9[_0x306dd9(0x6bd)][_0x306dd9(0x543)][_0x306dd9(0x421)](),_0x829ca9['variable'][_0x306dd9(0x543)][_0x306dd9(0x1e2)]('_')&&(_0x829ca9['variable'][_0x306dd9(0x543)]=_0x829ca9['variable'][_0x306dd9(0x543)]['substring'](0x1)),_0x829ca9[_0x306dd9(0x6bd)][_0x306dd9(0x543)]=_0x829ca9[_0x306dd9(0x6bd)]['name'][_0x306dd9(0x421)]();let _0x20dd56=_0x20afb3[_0x306dd9(0x112)][_0x306dd9(0x4fe)](_0x21a218=>_0x21a218[_0x306dd9(0x543)]===_0x829ca9['variable'][_0x306dd9(0x543)]);if(_0x20dd56?.[_0x306dd9(0x683)]===!0x0)throw new Error(_0x306dd9(0x58d));if(_0x829ca9[_0x306dd9(0x6bd)]?.['delete']===!0x0){if(!_0x20dd56)return{'message':_0x306dd9(0x225)};_0x20afb3['variables']=_0x20afb3[_0x306dd9(0x112)][_0x306dd9(0x382)](_0x1da009=>_0x1da009['name']!==_0x829ca9['variable'][_0x306dd9(0x543)]);}else _0x20dd56?Object['assign'](_0x20dd56,_0x829ca9[_0x306dd9(0x6bd)]):_0x20afb3[_0x306dd9(0x112)][_0x306dd9(0x14d)](_0x829ca9[_0x306dd9(0x6bd)]);let _0x417e4e=await this[_0x306dd9(0x40c)][_0x306dd9(0x418)][_0x306dd9(0x6b6)](_0x20afb3[_0x306dd9(0x472)],_0x20afb3,this[_0x306dd9(0x387)]['wuid']);if(!_0x417e4e)throw new Error(_0x306dd9(0x162));return _0x417e4e;}catch(_0x202c4d){throw this[_0x306dd9(0xde)][_0x306dd9(0x6ad)](this[_0x306dd9(0x614)]+'\x20('+this[_0x306dd9(0x387)][_0x306dd9(0x4f9)]+_0x306dd9(0x68a)+(_0x202c4d instanceof Error?_0x202c4d[_0x306dd9(0x5f0)]:JSON[_0x306dd9(0x14a)](_0x202c4d,null,0x2))),new m(_0x306dd9(0x2c5)+(_0x202c4d instanceof Error?_0x202c4d['message']:JSON['stringify'](_0x202c4d,null,0x2)));}}async['startFlow'](_0x42e8b0){const _0x15a7ce=a0_0x1f692e;let _0x292b71=null;try{if(!this[_0x15a7ce(0x423)]?.[_0x15a7ce(0x135)][_0x15a7ce(0x5e7)])throw new m(_0x15a7ce(0x44d));this[_0x15a7ce(0xde)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Iniciando\x20bot...');let _0x3c3794=(await this[_0x15a7ce(0x579)]({'numbers':[_0x42e8b0[_0x15a7ce(0x2e1)]]}))[0x0];if(!_0x3c3794[_0x15a7ce(0x65d)]&&!(0x0,y['isJidGroup'])(_0x3c3794[_0x15a7ce(0x1dd)])&&!_0x3c3794[_0x15a7ce(0x1dd)][_0x15a7ce(0xe4)](_0x15a7ce(0x463)))throw _0x292b71=JSON[_0x15a7ce(0x14a)](_0x3c3794,null,0x2),new m(_0x3c3794);let _0x18aa18=await this[_0x15a7ce(0x40c)][_0x15a7ce(0x418)][_0x15a7ce(0xc8)]({'where':{'name':_0x42e8b0[_0x15a7ce(0x543)]}},this[_0x15a7ce(0x387)]['wuid']);if(!_0x18aa18)return this['logger'][_0x15a7ce(0x6ad)](this[_0x15a7ce(0x614)]+'\x20('+this[_0x15a7ce(0x387)][_0x15a7ce(0x4f9)]+_0x15a7ce(0x270)),{'message':_0x15a7ce(0xef)};let _0x4d7d2c=await this[_0x15a7ce(0x6ba)](_0x18aa18,_0x3c3794['jid'],_0x42e8b0[_0x15a7ce(0x27d)]);if(_0x4d7d2c){this[_0x15a7ce(0xde)][_0x15a7ce(0x4f3)](this[_0x15a7ce(0x614)]+'\x20('+this[_0x15a7ce(0x387)][_0x15a7ce(0x4f9)]+_0x15a7ce(0x470));let _0x464f48=await this['NextBlock'](_0x4d7d2c);return _0x464f48&&await this[_0x15a7ce(0x1f6)](_0x4d7d2c,_0x464f48),{'message':'Flow\x20iniciado\x20com\x20'+_0x42e8b0['remoteJid']};}}catch(_0x539c7b){if(this[_0x15a7ce(0xde)][_0x15a7ce(0x6ad)](this['instanceName']+'\x20('+this['instance'][_0x15a7ce(0x4f9)]+_0x15a7ce(0x293)+(_0x539c7b instanceof Error?_0x539c7b['message']:JSON[_0x15a7ce(0x14a)](_0x539c7b,null,0x2))),_0x292b71=_0x539c7b instanceof Error?_0x539c7b[_0x15a7ce(0x5f0)]:JSON[_0x15a7ce(0x14a)](_0x539c7b,null,0x2),_0x292b71)throw new m(_0x15a7ce(0x216)+_0x292b71);}}async[a0_0x1f692e(0x6d3)](_0x2e6698){const _0x20b484=a0_0x1f692e;try{let _0xaeacb3={'remoteJid':_0x2e6698,'status':'open'},_0x23552e={'status':_0x20b484(0x40d)},_0x50a948=await this[_0x20b484(0x40c)]['flowConversation'][_0x20b484(0x696)](_0xaeacb3,_0x23552e,this[_0x20b484(0x387)]['wuid']);return this['logger'][_0x20b484(0x4f3)](this[_0x20b484(0x614)]+'\x20('+this[_0x20b484(0x387)]['wuid']+_0x20b484(0x46c)),_0x50a948;}catch(_0x259f57){throw this[_0x20b484(0xde)][_0x20b484(0x6ad)](this[_0x20b484(0x614)]+'\x20('+this[_0x20b484(0x387)]['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x259f57['message']),_0x259f57;}}async['createConversationforStartFlow'](_0x297313,_0x42b815,_0x55fcc2){const _0xb8d452=a0_0x1f692e;this[_0xb8d452(0xde)][_0xb8d452(0x4f3)](this[_0xb8d452(0x614)]+'\x20('+this[_0xb8d452(0x387)][_0xb8d452(0x4f9)]+_0xb8d452(0x521)),await this[_0xb8d452(0x6d3)](_0x42b815);try{let _0x7d2804=require(_0xb8d452(0x49d))[_0xb8d452(0x673)],_0x1791ca=Date[_0xb8d452(0x188)](),_0x450228='start',_0x875f3f={},_0x5ee490={},_0x4d4757={..._0x297313,'chatLog':null},_0x882ae7=await this[_0xb8d452(0x127)](_0x4d4757['variables']),_0x1f377f=await this[_0xb8d452(0x52d)](_0x42b815),_0x3d53c4={..._0x882ae7,..._0x1f377f,'_remoteJid':_0x42b815},_0x15800c={'lastReceivedMessage':_0x875f3f,'lastSendMessage':_0x5ee490,'lastBlockId':_0x450228,'lastCondition':!0x0,'realVariables':_0x3d53c4};_0x4d4757[_0xb8d452(0x2f5)]=_0x15800c,_0x4d4757['chatLog'][_0xb8d452(0x36b)]={..._0x3d53c4,..._0x55fcc2},delete _0x4d4757[_0xb8d452(0x472)],_0x4d4757['_id']=new _0x7d2804(),_0x4d4757[_0xb8d452(0x67f)]=_0x1791ca,_0x4d4757[_0xb8d452(0x555)]=_0xb8d452(0x45c),_0x4d4757[_0xb8d452(0x2e1)]=_0x42b815;let _0x5640ad=await this[_0xb8d452(0x40c)][_0xb8d452(0x27b)][_0xb8d452(0x6b6)](_0x4d4757[_0xb8d452(0x472)],_0x4d4757,this[_0xb8d452(0x387)]['wuid']);return this[_0xb8d452(0xde)][_0xb8d452(0x4f3)](this[_0xb8d452(0x614)]+'\x20('+this[_0xb8d452(0x387)][_0xb8d452(0x4f9)]+_0xb8d452(0x2d5)),_0x5640ad?_0x4d4757:null;}catch(_0x24eab0){throw this[_0xb8d452(0xde)][_0xb8d452(0x6ad)](this[_0xb8d452(0x614)]+'\x20('+this[_0xb8d452(0x387)][_0xb8d452(0x4f9)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x24eab0 instanceof Error?_0x24eab0[_0xb8d452(0x5f0)]:JSON[_0xb8d452(0x14a)](_0x24eab0,null,0x2))),new m(_0x24eab0[_0xb8d452(0x5f0)]);}}async['getConversation'](_0x584638){const _0x5dca3a=a0_0x1f692e;try{this[_0x5dca3a(0xde)][_0x5dca3a(0x4f3)](this[_0x5dca3a(0x614)]+'\x20('+this[_0x5dca3a(0x387)]['wuid']+_0x5dca3a(0x63c)),this[_0x5dca3a(0xde)]['verbose'](this[_0x5dca3a(0x614)]+'\x20('+this[_0x5dca3a(0x387)][_0x5dca3a(0x4f9)]+_0x5dca3a(0x11d)+_0x584638);let _0x20c670={'where':{'_id':_0x584638}};return await this['repository'][_0x5dca3a(0x27b)][_0x5dca3a(0xc8)](_0x20c670,this[_0x5dca3a(0x387)][_0x5dca3a(0x4f9)]);}catch(_0x56ef48){throw this[_0x5dca3a(0xde)][_0x5dca3a(0x6ad)](this[_0x5dca3a(0x614)]+'\x20('+this[_0x5dca3a(0x387)][_0x5dca3a(0x4f9)]+_0x5dca3a(0x12f)+(_0x56ef48 instanceof Error?_0x56ef48[_0x5dca3a(0x5f0)]:JSON[_0x5dca3a(0x14a)](_0x56ef48,null,0x2))),new m(_0x5dca3a(0x186)+_0x56ef48[_0x5dca3a(0x5f0)]);}}async[a0_0x1f692e(0x38a)](_0x37da9c){const _0x164487=a0_0x1f692e;try{return this[_0x164487(0xde)][_0x164487(0x4f3)](this[_0x164487(0x614)]+'\x20('+this[_0x164487(0x387)]['wuid']+'):\x20Buscando\x20conversas...'),await this['repository'][_0x164487(0x27b)][_0x164487(0x4fe)](_0x37da9c,this[_0x164487(0x387)][_0x164487(0x4f9)]);}catch(_0x2b8ebf){throw this['logger'][_0x164487(0x6ad)](this['instanceName']+'\x20('+this[_0x164487(0x387)][_0x164487(0x4f9)]+_0x164487(0x376)+(_0x2b8ebf instanceof Error?_0x2b8ebf[_0x164487(0x5f0)]:JSON[_0x164487(0x14a)](_0x2b8ebf,null,0x2))),new m('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x2b8ebf[_0x164487(0x5f0)]);}}async[a0_0x1f692e(0xf9)](_0x573603){const _0x39961b=a0_0x1f692e;try{return this[_0x39961b(0xde)][_0x39961b(0x4f3)](this[_0x39961b(0x614)]+'\x20('+this['instance'][_0x39961b(0x4f9)]+_0x39961b(0x6d4)),this['logger']['verbose'](this[_0x39961b(0x614)]+'\x20('+this[_0x39961b(0x387)]['wuid']+_0x39961b(0x35b)+_0x573603),(await this[_0x39961b(0x40c)][_0x39961b(0x27b)][_0x39961b(0x568)]({'where':{'_id':_0x573603}},this['instance'][_0x39961b(0x4f9)]))[_0x39961b(0x52c)]===0x0?{'message':_0x39961b(0x10c)}:{'message':_0x39961b(0x152)};}catch(_0x127281){throw this[_0x39961b(0xde)][_0x39961b(0x6ad)](this[_0x39961b(0x614)]+'\x20('+this[_0x39961b(0x387)][_0x39961b(0x4f9)]+_0x39961b(0x53b)+(_0x127281 instanceof Error?_0x127281[_0x39961b(0x5f0)]:JSON[_0x39961b(0x14a)](_0x127281,null,0x2))),new m(_0x39961b(0x6ce)+_0x127281[_0x39961b(0x5f0)]);}}async[a0_0x1f692e(0x8e)](_0x22ad67){const _0x291041=a0_0x1f692e;try{let {_id:_0x4c1c12,chatLog:_0x2d226d,status:_0x4bd3a4}=_0x22ad67;if(!_0x4c1c12)return{'message':_0x291041(0x4e0)};let _0x1c8de6={};if(_0x4bd3a4!==void 0x0&&(_0x1c8de6['status']=_0x4bd3a4),Object[_0x291041(0x50e)](_0x1c8de6)[_0x291041(0x3f3)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x3e29f7=await this[_0x291041(0x40c)][_0x291041(0x27b)]['updateOne'](_0x4c1c12,_0x1c8de6,this['instance']['wuid']);return _0x3e29f7||{'message':_0x291041(0x10f)};}catch(_0xeb626d){throw this['logger'][_0x291041(0x6ad)](this[_0x291041(0x614)]+'\x20('+this['instance'][_0x291041(0x4f9)]+_0x291041(0x8f)+(_0xeb626d instanceof Error?_0xeb626d[_0x291041(0x5f0)]:JSON[_0x291041(0x14a)](_0xeb626d,null,0x2))),new m(_0x291041(0x3a1)+_0xeb626d[_0x291041(0x5f0)]);}}async[a0_0x1f692e(0x407)](_0x33f4c9){const _0x1894eb=a0_0x1f692e;try{_0x33f4c9[_0x1894eb(0x472)]=this[_0x1894eb(0x519)](_0x33f4c9[_0x1894eb(0x472)]);let {_id:_0x22a846,leadInfo:_0x3b9083}=_0x33f4c9;if(!_0x22a846)throw new Error(_0x1894eb(0x39c));let _0x193370=(_0x55c6a7,_0x3fa5f4,_0x49f625)=>{const _0x3f1a8c=_0x1894eb;_0x49f625[_0x3f1a8c(0x171)](_0x566615=>{_0x55c6a7[_0x566615]!==void 0x0&&(_0x3fa5f4['leadInfo.'+_0x566615]=_0x55c6a7[_0x566615]);});},_0x4d56c0={};if(_0x193370(_0x3b9083,_0x4d56c0,[_0x1894eb(0x342),'nomecompleto','email','cpf',_0x1894eb(0x555),_0x1894eb(0x562),_0x1894eb(0x15c),_0x1894eb(0x5d8),_0x1894eb(0x1a0)]),Array['isArray'](_0x3b9083[_0x1894eb(0x469)])&&(_0x4d56c0[_0x1894eb(0x6d2)]=_0x3b9083['customFields'][_0x1894eb(0x2df)](_0x1c5511=>({'_id':_0x1c5511[_0x1894eb(0x472)],'value':_0x1c5511[_0x1894eb(0xcb)]}))),_0x33f4c9[_0x1894eb(0x683)][_0x1894eb(0x118)]!==void 0x0&&(_0x4d56c0['leadInfo.desativadoFluxoAte']=Number(_0x33f4c9[_0x1894eb(0x683)]['desativadoFluxoAte'])),_0x33f4c9[_0x1894eb(0x3ac)]!==void 0x0&&(_0x4d56c0[_0x1894eb(0x3ac)]=Number(_0x33f4c9[_0x1894eb(0x3ac)])),Object[_0x1894eb(0x50e)](_0x4d56c0)[_0x1894eb(0x3f3)]===0x0)throw new Error(_0x1894eb(0x51b));let _0x28c717=await this[_0x1894eb(0x40c)][_0x1894eb(0x517)]['findOne']({'where':{'_id':_0x33f4c9[_0x1894eb(0x472)]}},this['instance']['wuid']);if(!_0x28c717){let _0x44cb43=(await this[_0x1894eb(0x579)]({'numbers':[_0x33f4c9['_id']]}))[0x0];if(!_0x44cb43[_0x1894eb(0x65d)]&&!(0x0,y[_0x1894eb(0x359)])(_0x44cb43[_0x1894eb(0x1dd)])&&!_0x44cb43[_0x1894eb(0x1dd)][_0x1894eb(0xe4)](_0x1894eb(0x463)))throw new m(_0x44cb43);_0x33f4c9[_0x1894eb(0x472)]=_0x44cb43['jid'];}if(_0x33f4c9[_0x1894eb(0x583)]!==void 0x0){let _0x45a4ad=await this[_0x1894eb(0x40c)][_0x1894eb(0x239)][_0x1894eb(0x4fe)]({'where':{}},this[_0x1894eb(0x387)][_0x1894eb(0x4f9)]),_0x233060=new Set(_0x28c717[_0x1894eb(0x583)]||[]),_0x491ff8=new Set(_0x33f4c9['labels']),_0xf0a32a=new Set(_0x45a4ad[_0x1894eb(0x2df)](_0x3b4737=>_0x3b4737[_0x1894eb(0x472)])),_0x149b44=[..._0x491ff8][_0x1894eb(0x382)](_0x3e0986=>!_0x233060['has'](_0x3e0986)&&_0xf0a32a[_0x1894eb(0x398)](_0x3e0986)),_0x3becee=[..._0x233060]['filter'](_0x3fb89f=>!_0x491ff8[_0x1894eb(0x398)](_0x3fb89f));for(let _0x373319 of _0x149b44)await this[_0x1894eb(0x136)](_0x373319,_0x33f4c9[_0x1894eb(0x472)]),_0x233060[_0x1894eb(0x1ba)](_0x373319);for(let _0xe407ec of _0x3becee)await this[_0x1894eb(0x3ef)](_0xe407ec,_0x33f4c9[_0x1894eb(0x472)]),_0x233060[_0x1894eb(0x46e)](_0xe407ec);_0x4d56c0[_0x1894eb(0x583)]=[..._0x233060];}let _0x68d46d=await this['repository'][_0x1894eb(0x517)][_0x1894eb(0x6b6)]({'where':{'_id':_0x33f4c9[_0x1894eb(0x472)]}},_0x4d56c0,this[_0x1894eb(0x387)][_0x1894eb(0x4f9)]);return _0x68d46d&&q(this['instanceName'],_0x1894eb(0x622),{'chat':_0x68d46d}),_0x68d46d?(this[_0x1894eb(0xde)]['verbose'](this[_0x1894eb(0x614)]+'\x20('+this[_0x1894eb(0x387)][_0x1894eb(0x4f9)]+_0x1894eb(0x3ec)+JSON[_0x1894eb(0x14a)](_0x68d46d,null,0x2)),_0x68d46d):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x501bc9){throw this[_0x1894eb(0xde)][_0x1894eb(0x6ad)](this[_0x1894eb(0x614)]+'\x20('+this[_0x1894eb(0x387)][_0x1894eb(0x4f9)]+_0x1894eb(0x408)+(_0x501bc9 instanceof Error?_0x501bc9[_0x1894eb(0x5f0)]:JSON['stringify'](_0x501bc9,null,0x2))),new m(_0x1894eb(0x549)+_0x501bc9[_0x1894eb(0x5f0)]);}}async[a0_0x1f692e(0x136)](_0x262b27,_0x332586){const _0x18a245=a0_0x1f692e;try{await this[_0x18a245(0x4ab)][_0x18a245(0x2c4)](_0x332586,_0x262b27),console[_0x18a245(0x671)]('Label\x20'+_0x262b27+_0x18a245(0x12c)+_0x332586+_0x18a245(0x592));}catch(_0x1f26c1){console['error'](_0x18a245(0x344)+_0x262b27+_0x18a245(0x411)+_0x332586+':',_0x1f26c1);}}async[a0_0x1f692e(0x3ef)](_0x5b3d6e,_0x16cbc2){const _0x4e6f22=a0_0x1f692e;try{await this['client'][_0x4e6f22(0x3e4)](_0x16cbc2,_0x5b3d6e),console['log'](_0x4e6f22(0x11c)+_0x5b3d6e+_0x4e6f22(0x652)+_0x16cbc2+_0x4e6f22(0x592));}catch(_0x4ab086){console['error'](_0x4e6f22(0x691)+_0x5b3d6e+_0x4e6f22(0x4c1)+_0x16cbc2+':',_0x4ab086);}}async[a0_0x1f692e(0x520)](_0x444f65){const _0x5e1871=a0_0x1f692e;try{let _0x5f152d=await this[_0x5e1871(0x40c)][_0x5e1871(0x631)][_0x5e1871(0x1b9)](this['instance'][_0x5e1871(0x4f9)]),_0x3b506d=_0x444f65[_0x5e1871(0x472)]?_0x5f152d[_0x5e1871(0x4cb)][_0x5e1871(0x64b)](_0x3544e0=>_0x3544e0[_0x5e1871(0x472)]===_0x444f65[_0x5e1871(0x472)]):-0x1;if(_0x444f65[_0x5e1871(0x46e)]&&_0x3b506d>-0x1)_0x5f152d[_0x5e1871(0x4cb)]['splice'](_0x3b506d,0x1);else{if(_0x3b506d>-0x1){let _0x276f96=_0x5f152d[_0x5e1871(0x4cb)][_0x3b506d];_0x444f65['fone']&&(_0x276f96[_0x5e1871(0x654)]=_0x444f65[_0x5e1871(0x654)]),_0x444f65['name']&&(_0x276f96[_0x5e1871(0x543)]=_0x444f65['name']),_0x444f65[_0x5e1871(0x50f)]&&(_0x276f96[_0x5e1871(0x50f)]=_0x444f65['email']),_0x444f65[_0x5e1871(0x500)]&&(_0x276f96[_0x5e1871(0x500)]=_0x444f65[_0x5e1871(0x500)]);}else _0x5f152d['agents'][_0x5e1871(0x14d)]({'_id':_0x444f65[_0x5e1871(0x472)]||new ne[(_0x5e1871(0x205))][(_0x5e1871(0x539))][(_0x5e1871(0x673))]()['toString'](),'fone':_0x444f65[_0x5e1871(0x654)],'name':_0x444f65[_0x5e1871(0x543)],'email':_0x444f65['email'],'role':_0x444f65[_0x5e1871(0x500)]});}let _0x314502={'agents':_0x5f152d[_0x5e1871(0x4cb)]},_0x259f10=await this[_0x5e1871(0x40c)]['automateSystem'][_0x5e1871(0x47e)](_0x314502,this[_0x5e1871(0x387)][_0x5e1871(0x4f9)]);return this[_0x5e1871(0x423)]=_0x259f10,this[_0x5e1871(0xde)][_0x5e1871(0x4f3)](this['instanceName']+'\x20('+this['instance'][_0x5e1871(0x4f9)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x5e1871(0xde)]['verbose'](this['instanceName']+'\x20('+this[_0x5e1871(0x387)][_0x5e1871(0x4f9)]+_0x5e1871(0x3ec)+this['AutomateSystem']),_0x259f10;}catch(_0x46e9a5){throw this[_0x5e1871(0xde)][_0x5e1871(0x6ad)](this['instanceName']+'\x20('+this[_0x5e1871(0x387)][_0x5e1871(0x4f9)]+_0x5e1871(0x368)+(_0x46e9a5 instanceof Error?_0x46e9a5[_0x5e1871(0x5f0)]:JSON[_0x5e1871(0x14a)](_0x46e9a5,null,0x2))),new m(_0x5e1871(0x606)+_0x46e9a5[_0x5e1871(0x5f0)]);}}async['updateCustomFields'](_0x134c82){const _0x1b40a1=a0_0x1f692e;try{let _0x47aabe=await this[_0x1b40a1(0x40c)][_0x1b40a1(0x631)][_0x1b40a1(0x1b9)](this['instance']['wuid']),_0x6585e7=_0x134c82['_id']?_0x47aabe[_0x1b40a1(0x469)][_0x1b40a1(0x64b)](_0x30bd2c=>_0x30bd2c[_0x1b40a1(0x472)]===_0x134c82['_id']):-0x1,_0x1bee0a=!0x1,_0x178c87=_0x47aabe[_0x1b40a1(0x469)]['some'](_0x3a44e7=>_0x3a44e7['order']===_0x134c82['order']);if(_0x134c82[_0x1b40a1(0x46e)]&&_0x6585e7>-0x1)_0x47aabe[_0x1b40a1(0x469)][_0x1b40a1(0x61e)](_0x6585e7,0x1),_0x1bee0a=!0x0;else{if(_0x6585e7>-0x1){if(_0x47aabe[_0x1b40a1(0x469)][_0x1b40a1(0x416)](_0x109bb8=>_0x109bb8[_0x1b40a1(0x543)]===_0x134c82['name']&&_0x109bb8['_id']!==_0x134c82[_0x1b40a1(0x472)]))throw new Error(_0x1b40a1(0x4a0));let _0x41e6ab=_0x47aabe[_0x1b40a1(0x469)][_0x6585e7];_0x134c82[_0x1b40a1(0x36c)]&&(_0x178c87||!Number[_0x1b40a1(0x37f)](_0x134c82['order']))&&(_0x41e6ab['order']=_0x134c82['order'],_0x1bee0a=!0x0),_0x134c82[_0x1b40a1(0x543)]&&(_0x41e6ab[_0x1b40a1(0x543)]=_0x134c82[_0x1b40a1(0x543)]);}else{if(_0x47aabe['customFields']['some'](_0x498593=>_0x498593['name']===_0x134c82[_0x1b40a1(0x543)]&&_0x498593[_0x1b40a1(0x472)]!==_0x134c82[_0x1b40a1(0x472)]))throw new Error(_0x1b40a1(0x4a0));_0x47aabe['customFields']['push']({'_id':_0x134c82[_0x1b40a1(0x472)]||new ne[(_0x1b40a1(0x205))][(_0x1b40a1(0x539))][(_0x1b40a1(0x673))]()[_0x1b40a1(0x6bc)](),'order':_0x134c82[_0x1b40a1(0x36c)],'name':_0x134c82[_0x1b40a1(0x543)]}),_0x1bee0a=!0x0;}}if(_0x1bee0a){_0x47aabe[_0x1b40a1(0x469)][_0x1b40a1(0x267)]((_0x23163b,_0x33da44)=>_0x23163b[_0x1b40a1(0x36c)]>_0x33da44[_0x1b40a1(0x36c)]?0x1:_0x33da44[_0x1b40a1(0x36c)]>_0x23163b[_0x1b40a1(0x36c)]?-0x1:0x0);for(let _0x44edaa=0x0;_0x44edaa<_0x47aabe[_0x1b40a1(0x469)][_0x1b40a1(0x3f3)];_0x44edaa++)_0x47aabe['customFields'][_0x44edaa][_0x1b40a1(0x36c)]=_0x44edaa+0x1;}let _0x5a89cb=await this[_0x1b40a1(0x40c)][_0x1b40a1(0x631)]['update'](_0x47aabe,this[_0x1b40a1(0x387)]['wuid']);return this['AutomateSystem']=_0x5a89cb,this[_0x1b40a1(0xde)]['verbose'](this['instanceName']+'\x20('+this[_0x1b40a1(0x387)][_0x1b40a1(0x4f9)]+_0x1b40a1(0x4bb)),this[_0x1b40a1(0xde)][_0x1b40a1(0x4f3)](this[_0x1b40a1(0x614)]+'\x20('+this[_0x1b40a1(0x387)][_0x1b40a1(0x4f9)]+'):\x20'+this[_0x1b40a1(0x423)]),_0x5a89cb;}catch(_0x2a3fb2){throw this[_0x1b40a1(0xde)][_0x1b40a1(0x6ad)](this[_0x1b40a1(0x614)]+'\x20('+this[_0x1b40a1(0x387)][_0x1b40a1(0x4f9)]+_0x1b40a1(0x147)+(_0x2a3fb2 instanceof Error?_0x2a3fb2[_0x1b40a1(0x5f0)]:JSON[_0x1b40a1(0x14a)](_0x2a3fb2,null,0x2))),new m('Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x2a3fb2['message']);}}async[a0_0x1f692e(0x695)](_0x4cc26a){const _0x4234a9=a0_0x1f692e;try{let _0x123a04=await this[_0x4234a9(0x40c)][_0x4234a9(0x631)]['findOrCreate'](this[_0x4234a9(0x387)][_0x4234a9(0x4f9)]);if(!_0x123a04)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x1f5843={'_id':_0x123a04[_0x4234a9(0x472)],'flowConfig':{'enabled':_0x4cc26a[_0x4234a9(0x5e7)]??_0x123a04[_0x4234a9(0x135)][_0x4234a9(0x5e7)],'ignoreGroups':_0x4cc26a[_0x4234a9(0x571)]??_0x123a04['flowConfig']['ignoreGroups'],'prefixCommand':_0x4cc26a[_0x4234a9(0x206)]??_0x123a04[_0x4234a9(0x135)][_0x4234a9(0x206)],'stopConversation':_0x4cc26a[_0x4234a9(0x5b2)]??_0x123a04[_0x4234a9(0x135)][_0x4234a9(0x5b2)],'stopMinutes':_0x4cc26a[_0x4234a9(0x2e9)]??_0x123a04[_0x4234a9(0x135)][_0x4234a9(0x2e9)],'stopWhenYouSendMsg':_0x4cc26a[_0x4234a9(0x383)]??_0x123a04[_0x4234a9(0x135)]['stopWhenYouSendMsg']}},_0x4bffc9=await this['repository']['automateSystem'][_0x4234a9(0x47e)](_0x1f5843,this[_0x4234a9(0x387)][_0x4234a9(0x4f9)]);return this['AutomateSystem']=_0x4bffc9,this[_0x4234a9(0xde)][_0x4234a9(0x4f3)](this[_0x4234a9(0x614)]+'\x20('+this[_0x4234a9(0x387)][_0x4234a9(0x4f9)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x4234a9(0xde)]['verbose'](this['instanceName']+'\x20('+this[_0x4234a9(0x387)][_0x4234a9(0x4f9)]+_0x4234a9(0x3ec)+this[_0x4234a9(0x423)]),setTimeout(()=>this[_0x4234a9(0x28c)](),0x7d0),_0x4bffc9;}catch(_0x2b3c6d){throw this['logger'][_0x4234a9(0x6ad)](this[_0x4234a9(0x614)]+'\x20('+this['instance'][_0x4234a9(0x4f9)]+_0x4234a9(0x4cf)+(_0x2b3c6d instanceof Error?_0x2b3c6d[_0x4234a9(0x5f0)]:JSON[_0x4234a9(0x14a)](_0x2b3c6d,null,0x2))),new m(_0x4234a9(0x1b7)+_0x2b3c6d[_0x4234a9(0x5f0)]);}}async[a0_0x1f692e(0x4cd)](){const _0x1cea4e=a0_0x1f692e;try{let _0x30130f=await this[_0x1cea4e(0x40c)]['automateSystem'][_0x1cea4e(0x1b9)](this['instance']['wuid']);return this[_0x1cea4e(0x423)]=_0x30130f,this[_0x1cea4e(0xde)][_0x1cea4e(0x4f3)](this[_0x1cea4e(0x614)]+'\x20('+this[_0x1cea4e(0x387)][_0x1cea4e(0x4f9)]+_0x1cea4e(0x61f)),this['logger'][_0x1cea4e(0x4f3)](this[_0x1cea4e(0x423)]),_0x30130f;}catch(_0x23a704){throw this[_0x1cea4e(0xde)][_0x1cea4e(0x6ad)](this[_0x1cea4e(0x614)]+'\x20('+this[_0x1cea4e(0x387)]['wuid']+_0x1cea4e(0x4a1)+(_0x23a704 instanceof Error?_0x23a704[_0x1cea4e(0x5f0)]:JSON['stringify'](_0x23a704,null,0x2))),new m(_0x1cea4e(0x6b3)+_0x23a704[_0x1cea4e(0x5f0)]);}}async[a0_0x1f692e(0x3bd)](){const _0x17f7d5=a0_0x1f692e;this[_0x17f7d5(0x56b)]&&clearTimeout(this[_0x17f7d5(0x56b)]),this[_0x17f7d5(0x56b)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x1f692e(0x380)](){const _0x1b88f9=a0_0x1f692e;Date['now']()-this[_0x1b88f9(0x37c)]>=0x1d4c0&&(this[_0x1b88f9(0xde)]['verbose'](this[_0x1b88f9(0x614)]+'\x20('+this[_0x1b88f9(0x387)]['wuid']+_0x1b88f9(0xa1)),this[_0x1b88f9(0x22d)]=null,this[_0x1b88f9(0x37c)]=0x0,this[_0x1b88f9(0x596)]=0x0,await this['scheduleNextCheck']());}async['scheduleNextCheck'](){const _0x5b298=a0_0x1f692e;let _0x5d3587=()=>{const _0x2c1ff4=a0_0x37ec;this[_0x2c1ff4(0xde)][_0x2c1ff4(0x4f3)](this[_0x2c1ff4(0x614)]+'\x20('+this[_0x2c1ff4(0x387)][_0x2c1ff4(0x4f9)]+_0x2c1ff4(0x372)+this[_0x2c1ff4(0x22d)]+_0x2c1ff4(0x33f));},_0x275474=async()=>{const _0x23a2a0=a0_0x37ec;this[_0x23a2a0(0xde)][_0x23a2a0(0x4f3)](this[_0x23a2a0(0x614)]+'\x20('+this[_0x23a2a0(0x387)][_0x23a2a0(0x4f9)]+_0x23a2a0(0x414));let _0x186e11=Date[_0x23a2a0(0x188)]()-0xc*0x3c*0x3c*0x3e8,_0x30aaa4={'where':{'status':{'$in':[_0x23a2a0(0x2f6),_0x23a2a0(0x295)]},'$or':[{'when':{'$lte':Date['now'](),'$gte':_0x186e11}},{'when':0x0}]}};return await this[_0x23a2a0(0x40c)][_0x23a2a0(0x5ab)]['find'](_0x30aaa4,this[_0x23a2a0(0x387)][_0x23a2a0(0x4f9)]);},_0x57767d=async _0x159356=>{const _0x5d076b=a0_0x37ec;for(let _0x5066fc of _0x159356){let _0x5e853e={'_id':_0x5066fc['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},_0x2814b3={'startSend':Date[_0x5d076b(0x188)]()};if(!await this['repository'][_0x5d076b(0x5ab)][_0x5d076b(0x6b6)](_0x5e853e,_0x2814b3,this['instance'][_0x5d076b(0x4f9)]))return;if(!this['isConnected']){this[_0x5d076b(0xde)]['verbose'](this[_0x5d076b(0x614)]+'\x20('+this[_0x5d076b(0x387)][_0x5d076b(0x4f9)]+_0x5d076b(0xf3));break;}if(_0x5066fc['type']==='flow'&&!this[_0x5d076b(0x423)]?.[_0x5d076b(0x135)][_0x5d076b(0x5e7)]){this[_0x5d076b(0xde)]['error'](this['instanceName']+'\x20('+this[_0x5d076b(0x387)]['wuid']+_0x5d076b(0x2dd));continue;}(!_0x5066fc[_0x5d076b(0x57e)]||_0x5066fc['remoteJidsRemaining'][_0x5d076b(0x3f3)]===0x0)&&(_0x5066fc=await this['repository'][_0x5d076b(0x5ab)][_0x5d076b(0x61b)](_0x5066fc[_0x5d076b(0x472)],{'status':_0x5d076b(0x295),'remoteJidsRemaining':[..._0x5066fc[_0x5d076b(0x60d)]]},this[_0x5d076b(0x387)][_0x5d076b(0x4f9)]));for(let _0x3d13a2 of _0x5066fc['remoteJidsRemaining']){if(await this[_0x5d076b(0x3bd)](),this[_0x5d076b(0x37c)]=Date[_0x5d076b(0x188)](),_0x5066fc['messagesSend'][_0x5d076b(0x416)](_0x3134e7=>_0x3134e7[_0x5d076b(0x2e1)]===_0x3d13a2)){this[_0x5d076b(0xde)][_0x5d076b(0x4f3)](this[_0x5d076b(0x614)]+'\x20('+this[_0x5d076b(0x387)]['wuid']+_0x5d076b(0x358)+_0x3d13a2+_0x5d076b(0x42c));continue;}if(!this[_0x5d076b(0x240)]){this[_0x5d076b(0xde)][_0x5d076b(0x4f3)](this[_0x5d076b(0x614)]+'\x20('+this['instance'][_0x5d076b(0x4f9)]+_0x5d076b(0x51c));break;}if(!this[_0x5d076b(0x22d)]){this[_0x5d076b(0xde)][_0x5d076b(0x4f3)](this[_0x5d076b(0x614)]+'\x20('+this[_0x5d076b(0x387)]['wuid']+_0x5d076b(0x588)+_0x5066fc[_0x5d076b(0x472)]+_0x5d076b(0x525));break;}if(_0x5066fc[_0x5d076b(0x59f)]===_0x5d076b(0x418)&&!this['AutomateSystem']?.[_0x5d076b(0x135)][_0x5d076b(0x5e7)]){this[_0x5d076b(0xde)]['error'](this[_0x5d076b(0x614)]+'\x20('+this[_0x5d076b(0x387)][_0x5d076b(0x4f9)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x5001a2={'remoteJid':_0x3d13a2,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x5d076b(0x188)]()},_0x4722f9=null;try{let _0x88861c=await this[_0x5d076b(0x1b4)](_0x3d13a2,_0x5066fc);_0x5001a2[_0x5d076b(0x6ad)]=_0x88861c['error'],_0x5001a2['id']=_0x88861c[_0x5d076b(0x6ad)]?null:_0x88861c['id'],_0x5001a2['error_log']=_0x88861c[_0x5d076b(0x6ad)]?_0x88861c[_0x5d076b(0x6a8)]?_0x88861c[_0x5d076b(0x6a8)][_0x5d076b(0x6bc)]():'':null;let _0x4dccda={'$push':{'messagesSend':_0x5001a2},'$pull':{'remoteJidsRemaining':_0x3d13a2}},_0x11bfda=_0x5066fc[_0x5d076b(0x472)];if(_0x4722f9=await this[_0x5d076b(0x40c)][_0x5d076b(0x5ab)][_0x5d076b(0x61b)](_0x11bfda,_0x4dccda,this[_0x5d076b(0x387)]['wuid']),_0x88861c['error'])continue;let _0x3a18a0=this[_0x5d076b(0x3e7)](_0x5066fc[_0x5d076b(0x660)],_0x5066fc[_0x5d076b(0x165)]);await this[_0x5d076b(0x576)](_0x3a18a0);}catch(_0x33802c){this['logger'][_0x5d076b(0x6ad)](this['instanceName']+'\x20('+this[_0x5d076b(0x387)][_0x5d076b(0x4f9)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x3d13a2+':\x20'+(_0x33802c instanceof Error?_0x33802c[_0x5d076b(0x5f0)]:JSON[_0x5d076b(0x14a)](_0x33802c,null,0x2))),_0x5001a2['error']=!0x0,_0x5001a2['error_log']=_0x33802c[_0x5d076b(0x5f0)];let _0x18befe={'$push':{'messagesSend':_0x5001a2},'$pull':{'remoteJidsRemaining':_0x3d13a2}},_0x2aecb6=_0x5066fc['_id'];_0x4722f9=await this[_0x5d076b(0x40c)]['scheduleMessage']['updateOneById'](_0x2aecb6,_0x18befe,this[_0x5d076b(0x387)]['wuid']);}finally{if(_0x4722f9&&_0x4722f9[_0x5d076b(0x555)]===_0x5d076b(0x17d)){this[_0x5d076b(0xde)][_0x5d076b(0x4f3)](this['instanceName']+'\x20('+this[_0x5d076b(0x387)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x5066fc['_id']+_0x5d076b(0x466));break;}}}let _0x440540=await this[_0x5d076b(0x40c)]['scheduleMessage'][_0x5d076b(0x5fd)](_0x5066fc[_0x5d076b(0x472)],this[_0x5d076b(0x387)][_0x5d076b(0x4f9)]);if(_0x440540[_0x5d076b(0x57e)][_0x5d076b(0x3f3)]===0x0&&_0x440540[_0x5d076b(0x555)]!=='stopped'){let _0x48c6da={'$set':{'status':_0x5d076b(0x613)}},_0x5ed1ed=_0x440540[_0x5d076b(0x472)];await this['repository'][_0x5d076b(0x5ab)][_0x5d076b(0x61b)](_0x5ed1ed,_0x48c6da,this[_0x5d076b(0x387)][_0x5d076b(0x4f9)]);}await new Promise(_0x1c047e=>setTimeout(_0x1c047e,0x1388));}},_0x53ada3=async()=>{const _0x495826=a0_0x37ec;let _0x307937={'where':{'status':_0x495826(0x2f6),'when':{'$gt':Date['now']()}}},_0x4d5f25=await this[_0x495826(0x40c)][_0x495826(0x5ab)][_0x495826(0xc8)](_0x307937,this['instance']['wuid']);_0x4d5f25&&_0x4d5f25['when']-Date[_0x495826(0x188)]()<=0x5265c00?this['delayMessage']=_0x4d5f25[_0x495826(0x6d9)]-Date[_0x495826(0x188)]():this['delayMessage']=(0x3c+Math[_0x495826(0x336)](Math[_0x495826(0xb8)]()*0x3c))*0x3c*0x3e8,this[_0x495826(0x596)]=Math['max'](this[_0x495826(0x596)],0x7d0);let _0x22b82d=Math[_0x495826(0x4e2)](this[_0x495826(0x596)]/0xea60);if(_0x4d5f25){let _0xadb2e0=new Date(_0x4d5f25[_0x495826(0x6d9)])[_0x495826(0x180)]();this[_0x495826(0xde)]['verbose'](this[_0x495826(0x614)]+'\x20('+this[_0x495826(0x387)]['wuid']+_0x495826(0x491)+_0xadb2e0+_0x495826(0x461)+_0x22b82d+_0x495826(0x6bf));}else this[_0x495826(0xde)][_0x495826(0x4f3)](this[_0x495826(0x614)]+'\x20('+this[_0x495826(0x387)][_0x495826(0x4f9)]+_0x495826(0x6b5)+_0x22b82d+_0x495826(0x6bf));setTimeout(()=>this[_0x495826(0x28c)](),this[_0x495826(0x596)]);};if(this['processingScheduleMessageId']){await this['setRestartTimer'](),_0x5d3587();return;}if(!this[_0x5b298(0x240)]){this['logger']['verbose'](this[_0x5b298(0x614)]+'\x20('+this['instance']['wuid']+_0x5b298(0x669)),this[_0x5b298(0x22d)]=null,this[_0x5b298(0x37c)]=0x0,this[_0x5b298(0x596)]=0x0;return;}try{let _0xdf971=await _0x275474();_0xdf971[_0x5b298(0x3f3)]===0x0?this[_0x5b298(0xde)][_0x5b298(0x4f3)](this[_0x5b298(0x614)]+'\x20('+this[_0x5b298(0x387)][_0x5b298(0x4f9)]+_0x5b298(0x3a4)):(this[_0x5b298(0x22d)]=_0xdf971[0x0][_0x5b298(0x472)],await _0x57767d(_0xdf971)),await _0x53ada3(),this[_0x5b298(0x22d)]=null;}catch(_0xa34e6f){this[_0x5b298(0xde)][_0x5b298(0x6ad)](_0x5b298(0x6e3)+(_0xa34e6f instanceof Error?_0xa34e6f[_0x5b298(0x5f0)]:JSON[_0x5b298(0x14a)](_0xa34e6f,null,0x2)));}}[a0_0x1f692e(0x3e7)](_0x507c99,_0x2591f3){const _0xf3156=a0_0x1f692e;return _0x507c99=Math[_0xf3156(0x6cf)](0.5,_0x507c99),_0x2591f3=Math[_0xf3156(0x5a6)](Math[_0xf3156(0x6cf)](0x3,_0x2591f3),0x78),Math[_0xf3156(0x336)](Math[_0xf3156(0xb8)]()*(_0x2591f3-_0x507c99+0x1)+_0x507c99)*0x3e8;}[a0_0x1f692e(0x576)](_0x4b848c){return new Promise(_0xb25a95=>setTimeout(_0xb25a95,_0x4b848c));}async[a0_0x1f692e(0x52d)](_0x7b52df){const _0x65881=a0_0x1f692e;if(!this[_0x65881(0x423)]&&(await this[_0x65881(0x4cd)](),!this[_0x65881(0x423)]))return null;_0x7b52df=this[_0x65881(0x519)](_0x7b52df);let _0x320bc3=await this[_0x65881(0x40c)]['chat']['findOne']({'where':{'_id':_0x7b52df}},this[_0x65881(0x387)]['wuid']),_0xa233fd={};if(_0x320bc3&&_0x320bc3[_0x65881(0x683)]){let _0x37fd79=_0x320bc3[_0x65881(0x683)];typeof _0x37fd79[_0x65881(0x342)]==_0x65881(0x6d6)&&(_0xa233fd['nome']=_0x37fd79['nome']),typeof _0x37fd79[_0x65881(0x33d)]=='string'&&(_0xa233fd['nomecompleto']=_0x37fd79[_0x65881(0x33d)]),typeof _0x37fd79[_0x65881(0x50f)]=='string'&&(_0xa233fd[_0x65881(0x50f)]=_0x37fd79[_0x65881(0x50f)]),typeof _0x37fd79[_0x65881(0x339)]==_0x65881(0x6d6)&&(_0xa233fd[_0x65881(0x339)]=_0x37fd79[_0x65881(0x339)]),typeof _0x37fd79[_0x65881(0x555)]==_0x65881(0x6d6)&&(_0xa233fd['status']=_0x37fd79[_0x65881(0x555)]),typeof _0x37fd79[_0x65881(0x562)]==_0x65881(0x6d6)&&(_0xa233fd[_0x65881(0x562)]=_0x37fd79['notas']),typeof _0x37fd79['responsavelid']==_0x65881(0x6d6)&&(_0xa233fd[_0x65881(0x1a0)]=_0x37fd79[_0x65881(0x1a0)]),Array[_0x65881(0x4ce)](_0x37fd79[_0x65881(0x15c)])&&(_0xa233fd[_0x65881(0x15c)]=_0x37fd79[_0x65881(0x15c)][_0x65881(0x317)](',\x20'));}return _0x320bc3&&_0x320bc3[_0x65881(0x683)]&&_0x320bc3['leadInfo'][_0x65881(0x469)]&&_0x320bc3['leadInfo'][_0x65881(0x469)][_0x65881(0x171)](_0x2dcce3=>{const _0x55ede7=_0x65881;let _0x340d15=this[_0x55ede7(0x423)]?.['customFields']['find'](_0x2f9f28=>_0x2f9f28[_0x55ede7(0x472)]===_0x2dcce3['_id']);_0x340d15&&(_0xa233fd[_0x340d15[_0x55ede7(0x543)]]=_0x2dcce3[_0x55ede7(0xcb)]);}),_0xa233fd;}async['replaceVariablesChat'](_0x378607,_0x1875f7){const _0xb895b7=a0_0x1f692e;let _0x44603c=await this[_0xb895b7(0x52d)](_0x1875f7);return this['replaceVariables'](_0x378607,_0x44603c);}async[a0_0x1f692e(0x3f1)](_0x577fec){const _0x242b47=a0_0x1f692e;try{if(this['logger'][_0x242b47(0x4f3)](this[_0x242b47(0x614)]+'\x20('+this[_0x242b47(0x387)]['wuid']+'):\x20Edit\x20schedule\x20message...'),_0x577fec[_0x242b47(0x46e)]&&_0x577fec[_0x242b47(0x472)]){if(this[_0x242b47(0x22d)]===_0x577fec[_0x242b47(0x472)][_0x242b47(0x6bc)]())throw new Error(_0x242b47(0x4b8));let _0x5bc65e=await this['repository']['scheduleMessage'][_0x242b47(0x568)](_0x577fec[_0x242b47(0x472)],this[_0x242b47(0x387)][_0x242b47(0x4f9)]);return setTimeout(()=>this[_0x242b47(0x28c)](),0x7d0),_0x5bc65e;}let _0x585542;if(_0x577fec[_0x242b47(0x472)]&&(_0x585542=await this[_0x242b47(0x40c)][_0x242b47(0x5ab)][_0x242b47(0x5fd)](_0x577fec['_id'],this[_0x242b47(0x387)][_0x242b47(0x4f9)])),_0x585542){let _0x15818c;if(this[_0x242b47(0x22d)]===_0x585542[_0x242b47(0x472)][_0x242b47(0x6bc)]())_0x15818c={'$set':{'status':_0x577fec[_0x242b47(0x555)]}};else{let {_id:_0x49a92d,..._0x4e244e}=_0x577fec;_0x15818c={'$set':_0x4e244e};}let _0x5cab56=await this[_0x242b47(0x40c)][_0x242b47(0x5ab)][_0x242b47(0x61b)](_0x577fec[_0x242b47(0x472)],_0x15818c,this[_0x242b47(0x387)][_0x242b47(0x4f9)]);return setTimeout(()=>this[_0x242b47(0x28c)](),0x7d0),_0x5cab56;}else{_0x577fec['owner']=this['instance'][_0x242b47(0x4f9)];let _0x28d1b3=await this['repository'][_0x242b47(0x5ab)]['createAndSave'](_0x577fec,this['instance'][_0x242b47(0x4f9)]);return setTimeout(()=>this[_0x242b47(0x28c)](),0x7d0),_0x28d1b3;}}catch(_0x9f9ad){throw this['logger'][_0x242b47(0x6ad)](this[_0x242b47(0x614)]+'\x20('+this['instance']['wuid']+_0x242b47(0x149)+(_0x9f9ad instanceof Error?_0x9f9ad['message']:JSON[_0x242b47(0x14a)](_0x9f9ad,null,0x2))),new m(_0x242b47(0xfc)+_0x9f9ad[_0x242b47(0x5f0)]);}}async[a0_0x1f692e(0x2b5)](){const _0x4404fb=a0_0x1f692e;try{return await this[_0x4404fb(0x40c)][_0x4404fb(0x5ab)]['find']({'where':{}},this[_0x4404fb(0x387)][_0x4404fb(0x4f9)]);}catch(_0x2a5107){throw this[_0x4404fb(0xde)][_0x4404fb(0x6ad)](this[_0x4404fb(0x614)]+'\x20('+this['instance']['wuid']+_0x4404fb(0x261)+(_0x2a5107 instanceof Error?_0x2a5107[_0x4404fb(0x5f0)]:JSON[_0x4404fb(0x14a)](_0x2a5107,null,0x2))),new m(_0x4404fb(0xfc)+_0x2a5107['message']);}}async[a0_0x1f692e(0x3e5)](){const _0x1af241=a0_0x1f692e;try{let _0x3455f4={'status':'done'},_0xe0b0d5=await this[_0x1af241(0x40c)][_0x1af241(0x5ab)][_0x1af241(0x199)](_0x3455f4,this[_0x1af241(0x387)][_0x1af241(0x4f9)]);if(!_0xe0b0d5['error'])this[_0x1af241(0xde)][_0x1af241(0x4f3)](this[_0x1af241(0x614)]+'\x20('+this[_0x1af241(0x387)][_0x1af241(0x4f9)]+_0x1af241(0x279));else throw new Error(_0xe0b0d5[_0x1af241(0x6ad)]['message']||_0x1af241(0x2a5));return this[_0x1af241(0x2b5)]();}catch(_0x3f4f26){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x1af241(0x387)]['wuid']+'):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:'+(_0x3f4f26 instanceof Error?_0x3f4f26[_0x1af241(0x5f0)]:JSON[_0x1af241(0x14a)](_0x3f4f26,null,0x2))),new m(_0x1af241(0xfc)+_0x3f4f26[_0x1af241(0x5f0)]);}}async[a0_0x1f692e(0x1b4)](_0x56ed6c,_0x223fe7){const _0x15da7f=a0_0x1f692e;try{if(_0x223fe7['type']===_0x15da7f(0x418)&&!this['AutomateSystem']?.[_0x15da7f(0x135)][_0x15da7f(0x5e7)])return this['logger'][_0x15da7f(0x6ad)](this[_0x15da7f(0x614)]+'\x20('+this[_0x15da7f(0x387)]['wuid']+_0x15da7f(0x523)),{'error':!0x0,'detail':_0x15da7f(0x44d)};switch(_0x223fe7['type']){case _0x15da7f(0x505):return await this['scheduleSendText'](_0x223fe7,_0x56ed6c);case _0x15da7f(0x4e1):return await this[_0x15da7f(0x64e)](_0x223fe7,_0x56ed6c);case'audio':return await this[_0x15da7f(0x3ab)](_0x223fe7,_0x56ed6c);case _0x15da7f(0x418):let _0x173edc=new Pe();return _0x173edc[_0x15da7f(0x543)]=_0x223fe7[_0x15da7f(0x512)],_0x173edc[_0x15da7f(0x2e1)]=_0x56ed6c,await this[_0x15da7f(0x53f)](_0x173edc);break;default:return this['logger']['error'](this[_0x15da7f(0x614)]+'\x20('+this[_0x15da7f(0x387)][_0x15da7f(0x4f9)]+_0x15da7f(0x1c8)+_0x223fe7[_0x15da7f(0x59f)]),{'error':!0x0,'detail':_0x15da7f(0x8b)};}}catch(_0xa7b1a){return this[_0x15da7f(0xde)][_0x15da7f(0x6ad)](this[_0x15da7f(0x614)]+'\x20('+this[_0x15da7f(0x387)][_0x15da7f(0x4f9)]+_0x15da7f(0x347)+(_0xa7b1a instanceof Error?_0xa7b1a[_0x15da7f(0x5f0)]:JSON[_0x15da7f(0x14a)](_0xa7b1a,null,0x2))),{'error':!0x0,'detail':_0xa7b1a[_0x15da7f(0x5f0)]};}}[a0_0x1f692e(0x229)](_0x3ed3e3){const _0x3e71ea=a0_0x1f692e;let _0x2c9ca4=_0x3ed3e3[_0x3e71ea(0x5ca)]('|'),_0x1b628d=Math[_0x3e71ea(0x336)](Math[_0x3e71ea(0xb8)]()*_0x2c9ca4[_0x3e71ea(0x3f3)]);return _0x2c9ca4[_0x1b628d][_0x3e71ea(0x421)]();}async['scheduleSendText'](_0x46fa80,_0x4ed98f){const _0x44a0ae=a0_0x1f692e;if(this[_0x44a0ae(0xde)][_0x44a0ae(0x4f3)](this[_0x44a0ae(0x614)]+'\x20('+this[_0x44a0ae(0x387)][_0x44a0ae(0x4f9)]+'):\x20Enviando\x20texto'),!_0x46fa80[_0x44a0ae(0x5f0)][_0x44a0ae(0x505)]||_0x46fa80['message']['text'][_0x44a0ae(0x3f3)]===0x0)return{'error':!0x0,'detail':_0x44a0ae(0x65b)};let _0x55e953=this[_0x44a0ae(0x229)](_0x46fa80[_0x44a0ae(0x5f0)][_0x44a0ae(0x505)]),_0x439530=await this[_0x44a0ae(0x28a)](_0x55e953,_0x4ed98f),_0x5d7a0a={'number':_0x4ed98f,'options':{'delay':_0x46fa80[_0x44a0ae(0x5f0)]['delay']},'textMessage':{'text':_0x439530}},_0x4364fe=null;try{let _0x5ef258=await this[_0x44a0ae(0x1df)](_0x5d7a0a);if(_0x5ef258&&_0x5ef258[_0x44a0ae(0x555)])return{'error':!0x1,'id':_0x5ef258['key']['id']};_0x4364fe=JSON[_0x44a0ae(0x14a)](_0x5ef258),this['logger'][_0x44a0ae(0x4f3)](this['instanceName']+'\x20('+this[_0x44a0ae(0x387)][_0x44a0ae(0x4f9)]+_0x44a0ae(0x3ec)+_0x4364fe);}catch(_0x85a614){this[_0x44a0ae(0xde)][_0x44a0ae(0x6ad)](this[_0x44a0ae(0x614)]+'\x20('+this[_0x44a0ae(0x387)][_0x44a0ae(0x4f9)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x85a614 instanceof Error?_0x85a614[_0x44a0ae(0x5f0)]:JSON[_0x44a0ae(0x14a)](_0x85a614,null,0x2))),_0x4364fe=_0x85a614['message'];}if(_0x4364fe)return{'error':!0x0,'detail':(typeof _0x4364fe==_0x44a0ae(0x39b)?JSON[_0x44a0ae(0x14a)](_0x4364fe,null,0x2):_0x4364fe)['replace'](/[\[\]{}\n]/g,'\x20')[_0x44a0ae(0x38c)](/  +/g,'\x20')};}async[a0_0x1f692e(0x64e)](_0x35b4f7,_0x271aa0){const _0x2fc3f9=a0_0x1f692e;this[_0x2fc3f9(0xde)][_0x2fc3f9(0x4f3)](this[_0x2fc3f9(0x614)]+'\x20('+this['instance'][_0x2fc3f9(0x4f9)]+_0x2fc3f9(0x89));let _0x2b7520;if(_0x35b4f7[_0x2fc3f9(0x5f0)][_0x2fc3f9(0x505)]&&_0x35b4f7[_0x2fc3f9(0x5f0)][_0x2fc3f9(0x505)][_0x2fc3f9(0x3f3)]>0x0){let _0x457a62=this[_0x2fc3f9(0x229)](_0x35b4f7['message'][_0x2fc3f9(0x505)]);_0x2b7520=await this[_0x2fc3f9(0x28a)](_0x457a62,_0x271aa0);}let _0x33f03e={'number':_0x271aa0,'options':{'delay':_0x35b4f7[_0x2fc3f9(0x5f0)][_0x2fc3f9(0x697)]},'mediaMessage':{'mediatype':_0x35b4f7['message'][_0x2fc3f9(0x1e0)],'caption':_0x2b7520,'media':_0x35b4f7[_0x2fc3f9(0x5f0)][_0x2fc3f9(0x167)]}},_0x5cbde9=null;try{let _0x4c52fd=await this[_0x2fc3f9(0x14c)](_0x33f03e);if(_0x4c52fd&&_0x4c52fd[_0x2fc3f9(0x555)])return{'error':!0x1,'id':_0x4c52fd[_0x2fc3f9(0x497)]['id']};_0x5cbde9=JSON[_0x2fc3f9(0x14a)](_0x4c52fd),this[_0x2fc3f9(0xde)][_0x2fc3f9(0x4f3)](this[_0x2fc3f9(0x614)]+'\x20('+this[_0x2fc3f9(0x387)]['wuid']+_0x2fc3f9(0x3ec)+_0x5cbde9);}catch(_0x8444b2){this[_0x2fc3f9(0xde)]['error'](this['instanceName']+'\x20('+this[_0x2fc3f9(0x387)]['wuid']+_0x2fc3f9(0x2c7)+(_0x8444b2 instanceof Error?_0x8444b2[_0x2fc3f9(0x5f0)]:JSON['stringify'](_0x8444b2,null,0x2))),_0x5cbde9=_0x8444b2[_0x2fc3f9(0x5f0)];}if(_0x5cbde9)return{'error':!0x0,'detail':(typeof _0x5cbde9==_0x2fc3f9(0x39b)?JSON[_0x2fc3f9(0x14a)](_0x5cbde9,null,0x2):_0x5cbde9)['replace'](/[\[\]{}\n]/g,'\x20')[_0x2fc3f9(0x38c)](/  +/g,'\x20')};}async[a0_0x1f692e(0x3ab)](_0x10668d,_0x58fb2b){const _0x30065e=a0_0x1f692e;this['logger'][_0x30065e(0x4f3)](this[_0x30065e(0x614)]+'\x20('+this['instance']['wuid']+_0x30065e(0x60e));let _0x421d93={'number':_0x58fb2b,'options':{'delay':_0x10668d[_0x30065e(0x5f0)]['delay']},'audioMessage':{'audio':_0x10668d[_0x30065e(0x5f0)][_0x30065e(0x167)]}},_0x52db9a=null;try{let _0xc39c00=await this['audioWhatsapp'](_0x421d93);if(_0xc39c00&&_0xc39c00['status'])return{'error':!0x1,'id':_0xc39c00[_0x30065e(0x497)]['id']};_0x52db9a=JSON['stringify'](_0xc39c00),this[_0x30065e(0xde)][_0x30065e(0x4f3)](this[_0x30065e(0x614)]+'\x20('+this[_0x30065e(0x387)][_0x30065e(0x4f9)]+_0x30065e(0x3ec)+_0x52db9a);}catch(_0x11a996){this[_0x30065e(0xde)][_0x30065e(0x6ad)](this[_0x30065e(0x614)]+'\x20('+this[_0x30065e(0x387)][_0x30065e(0x4f9)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x11a996 instanceof Error?_0x11a996[_0x30065e(0x5f0)]:JSON['stringify'](_0x11a996,null,0x2))),_0x52db9a=_0x11a996[_0x30065e(0x5f0)];}if(_0x52db9a)return{'error':!0x0,'detail':(typeof _0x52db9a=='object'?JSON[_0x30065e(0x14a)](_0x52db9a,null,0x2):_0x52db9a)[_0x30065e(0x38c)](/[\[\]{}\n]/g,'\x20')[_0x30065e(0x38c)](/  +/g,'\x20')};}},xt=class c{constructor(_0x2234c6,_0x3c0e06,_0x291d08){const _0x38f247=a0_0x1f692e;this['eventEmitter']=_0x2234c6,this['configService']=_0x3c0e06,this['repository']=_0x291d08,this['db']={},this[_0x38f247(0xe0)]={},this[_0x38f247(0xde)]=new v(c['name']),this[_0x38f247(0x5c2)]={},(this['removeInstance'](),this[_0x38f247(0x2fc)](),Object[_0x38f247(0x66c)](this['db'],_0x3c0e06[_0x38f247(0x635)](_0x38f247(0x2ef))),Object[_0x38f247(0x66c)](this[_0x38f247(0xe0)],_0x3c0e06[_0x38f247(0x635)](_0x38f247(0x283))),this['dbInstance']=this['db'][_0x38f247(0x4f0)]?this[_0x38f247(0x40c)]['dbServer']?.['db'](this['db'][_0x38f247(0x5f6)]['DB_PREFIX_NAME']+_0x38f247(0x43f)):void 0x0,this['cache']=this['redis'][_0x38f247(0x4f0)]?new oe(this[_0x38f247(0xe0)]):void 0x0);}async[a0_0x1f692e(0x28b)](_0x423339){const _0x29c270=a0_0x1f692e;if(_0x423339&&!this[_0x29c270(0x5c2)][_0x423339])throw new L(_0x29c270(0x3db)+_0x423339+_0x29c270(0x537));let _0x3b3c02=[];for await(let [_0x4fd29c,_0x1b9155]of Object[_0x29c270(0x643)](this[_0x29c270(0x5c2)]))if(_0x1b9155&&_0x1b9155[_0x29c270(0x2fd)][_0x29c270(0x3ba)]===_0x29c270(0x45c)){let _0xf86813=await this[_0x29c270(0x40c)][_0x29c270(0xd2)][_0x29c270(0x4fe)](_0x4fd29c);_0x3b3c02[_0x29c270(0x14d)]({'instance':{'instanceName':_0x4fd29c,'apikey':_0xf86813[_0x29c270(0x2aa)],'owner':_0x1b9155['wuid'],'profileName':await _0x1b9155[_0x29c270(0x30d)]()||_0x29c270(0x5e5),'profilePictureUrl':_0x1b9155[_0x29c270(0x23d)]}});}return _0x3b3c02[_0x29c270(0x4fe)](_0x256885=>_0x256885[_0x29c270(0x387)][_0x29c270(0x614)]===_0x423339)??_0x3b3c02;}async['cleaningUp'](_0x2d3be0){const _0x9ac54=a0_0x1f692e;if(this['db'][_0x9ac54(0x4f0)]&&(await this['repository']['dbServer'][_0x9ac54(0x515)](),(await this['dbInstance'][_0x9ac54(0x428)]())[_0x9ac54(0x3f3)]>0x0&&await this[_0x9ac54(0x275)]['dropCollection'](_0x2d3be0)),this[_0x9ac54(0xe0)][_0x9ac54(0x4f0)]){this[_0x9ac54(0x25d)][_0x9ac54(0x4c9)]=_0x2d3be0,await this[_0x9ac54(0x25d)][_0x9ac54(0x5c4)]();return;}}async[a0_0x1f692e(0x26c)](){const _0x170fa4=a0_0x1f692e;await this['InstancesAlterarTodas']();let _0x398584=async _0x108062=>{const _0x184b65=a0_0x37ec;let _0x8ad374=new fe(this[_0x184b65(0x193)],this[_0x184b65(0x15d)],this[_0x184b65(0x40c)]);_0x8ad374[_0x184b65(0x614)]=_0x108062,await _0x8ad374[_0x184b65(0x260)](),this[_0x184b65(0x5c2)][_0x108062]=_0x8ad374;};try{if(this['redis'][_0x170fa4(0x4f0)]){let _0x16233b=await this[_0x170fa4(0x25d)]['instanceKeys']();_0x16233b?.['length']>0x0&&_0x16233b[_0x170fa4(0x171)](async _0x18adf9=>await _0x398584(_0x18adf9[_0x170fa4(0x5ca)](':')[0x1]));return;}if(this['db'][_0x170fa4(0x4f0)]){await this[_0x170fa4(0x40c)]['dbServer'][_0x170fa4(0x515)]();let _0x1a6a0b=await this['dbInstance'][_0x170fa4(0x428)]();_0x1a6a0b[_0x170fa4(0x3f3)]>0x0&&_0x1a6a0b[_0x170fa4(0x171)](async _0x270b25=>await _0x398584(_0x270b25['namespace'][_0x170fa4(0x38c)](/^[\w-]+\./,'')));return;}}catch(_0x24d210){this[_0x170fa4(0xde)][_0x170fa4(0x6ad)](_0x24d210);}}async[a0_0x1f692e(0x86)](){const _0x5d7de7=a0_0x1f692e;let _0x66be1d=await this[_0x5d7de7(0x40c)][_0x5d7de7(0xd2)][_0x5d7de7(0x5f4)](),_0x4b6ea1=_0x66be1d[_0x5d7de7(0x382)](_0x51f50c=>!this[_0x5d7de7(0x5c2)][_0x51f50c[_0x5d7de7(0x472)]]&&(_0x51f50c[_0x5d7de7(0x3b8)]||typeof _0x51f50c[_0x5d7de7(0x3b8)]>'u'));_0x4b6ea1['length']>0x0&&await Promise[_0x5d7de7(0x42a)](_0x4b6ea1['map'](async _0x589bde=>{const _0x1cc625=_0x5d7de7;let _0xad5d1={'online':!0x1,'lastDisconnect':Date[_0x1cc625(0x188)]()};await this['repository'][_0x1cc625(0xd2)][_0x1cc625(0x2eb)](_0xad5d1,_0x589bde[_0x1cc625(0x472)]);}));let _0xfa541f=Date[_0x5d7de7(0x188)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x5036e=_0x66be1d[_0x5d7de7(0x382)](_0x523bbb=>!this[_0x5d7de7(0x5c2)][_0x523bbb[_0x5d7de7(0x472)]]&&typeof _0x523bbb[_0x5d7de7(0x6a5)]<'u'&&_0x523bbb[_0x5d7de7(0x6a5)]<_0xfa541f);_0x5036e[_0x5d7de7(0x3f3)]>0x0&&await Promise[_0x5d7de7(0x42a)](_0x5036e[_0x5d7de7(0x2df)](async _0x153285=>{}));}async['InstancesAlterarTodas'](){const _0x15382c=a0_0x1f692e;try{let _0x31fd6f={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x39dd2b={'online':!0x1,'lastDisconnect':Date['now']()},_0x25d8d1=await this[_0x15382c(0x40c)][_0x15382c(0xd2)]['updateAll'](_0x31fd6f,_0x39dd2b);console[_0x15382c(0x671)](_0x15382c(0x65e)+_0x25d8d1['insertCount']),await this[_0x15382c(0x6b0)]();}catch(_0x45f370){console[_0x15382c(0x6ad)](_0x15382c(0x156),_0x45f370);}}async[a0_0x1f692e(0x6b0)](){const _0x23051b=a0_0x1f692e;try{let _0x214fc9={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x19ccc1=await this['repository'][_0x23051b(0xd2)][_0x23051b(0x199)](_0x214fc9);console[_0x23051b(0x671)](_0x23051b(0x478)+_0x19ccc1[_0x23051b(0x69b)]);}catch(_0x463699){console[_0x23051b(0x6ad)](_0x23051b(0x495),_0x463699);}}[a0_0x1f692e(0x6de)](){const _0x2ee8d2=a0_0x1f692e;this[_0x2ee8d2(0x15d)]['on'](_0x2ee8d2(0x4ed),async _0x492be9=>{const _0x41105e=_0x2ee8d2;try{this['waInstances'][_0x492be9]=void 0x0;}catch{}try{this[_0x41105e(0x6a1)](_0x492be9);}finally{this[_0x41105e(0xde)][_0x41105e(0x2a7)](_0x41105e(0x3db)+_0x492be9+'\x22\x20-\x20REMOVED');}});}[a0_0x1f692e(0x2fc)](){const _0x57c865=a0_0x1f692e;this[_0x57c865(0x15d)]['on']('no.connection',async _0x1d8d23=>{const _0x14fe04=_0x57c865;try{this[_0x14fe04(0x5c2)][_0x1d8d23]=void 0x0;}catch{}try{this[_0x14fe04(0x6a1)](_0x1d8d23);}finally{this[_0x14fe04(0xde)]['warn'](_0x14fe04(0x3db)+_0x1d8d23+_0x14fe04(0x5c9));}});}},Pt=class extends I{[a0_0x1f692e(0x3a5)](_0x42b63c){return js(_0x42b63c);}async[a0_0x1f692e(0x686)](_0x104180){const _0x3a96f4=a0_0x1f692e;if(_0x104180[_0x3a96f4(0x3f3)]!==0x0)try{return{'insertCount':(await this[_0x3a96f4(0x3a5)](_0x104180[0x0][_0x3a96f4(0x54e)])['insertMany']([..._0x104180]))[_0x3a96f4(0x3f3)]};}catch(_0x4127f8){return _0x4127f8;}}async[a0_0x1f692e(0x4fe)](_0x29e193,_0x190d92){const _0x3624df=a0_0x1f692e;try{let _0x242aed=this[_0x3624df(0x3a5)](_0x190d92),_0x7cda2f=A(_0x29e193[_0x3624df(0x535)]);return await _0x242aed[_0x3624df(0x4fe)](_0x7cda2f)[_0x3624df(0x267)]({'lastmsg':-0x1})[_0x3624df(0x3b3)](_0x29e193?.['limit']??0x0)[_0x3624df(0x3fd)]();}catch{return[];}}async[a0_0x1f692e(0x93)](_0x2bac75,_0x350c65){const _0x35b8cd=a0_0x1f692e;try{return await this[_0x35b8cd(0x3a5)](_0x350c65)[_0x35b8cd(0x199)]({..._0x2bac75['where']}),[];}catch(_0x3ad52e){return{'error':_0x3ad52e?.[_0x35b8cd(0x6bc)]()};}}async[a0_0x1f692e(0xc8)](_0x499afc,_0x69d70e){const _0x44e547=a0_0x1f692e;try{let _0x236149=this['getChatModelForOwner'](_0x69d70e),_0x243506=A(_0x499afc[_0x44e547(0x535)]);return await _0x236149[_0x44e547(0xc8)](_0x243506)[_0x44e547(0x3fd)]();}catch{return null;}}async[a0_0x1f692e(0x6b6)](_0x51b623,_0xaee44f,_0x4469bf,_0xf9d154,_0x4f6cfc=a0_0x1f692e(0xaa)){const _0x4a86a4=a0_0x1f692e;try{let _0x356b03={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0xf9d154},_0x28b08a=this[_0x4a86a4(0x3a5)](_0x4469bf),_0x1e0e71=A(_0x51b623['where']),_0xefdb57={};return _0xefdb57[_0x4f6cfc]=_0xaee44f,await _0x28b08a['findOneAndUpdate'](_0x1e0e71,_0xefdb57,_0x356b03);}catch(_0x41e94b){return console[_0x4a86a4(0x6ad)](_0x41e94b),null;}}async[a0_0x1f692e(0x696)](_0x3ca241){const _0x48a1b5=a0_0x1f692e;try{let _0x2f8d4c=this[_0x48a1b5(0x3a5)](_0x3ca241[0x0]['query'][_0x48a1b5(0x535)]['owner']),_0x54cf56=_0x3ca241[_0x48a1b5(0x2df)](_0x3324ba=>({'updateOne':{'filter':{..._0x3324ba[_0x48a1b5(0x49c)][_0x48a1b5(0x535)]},'update':{'$set':_0x3324ba[_0x48a1b5(0x47e)]}}}));return(await _0x2f8d4c[_0x48a1b5(0x37e)](_0x54cf56))['modifiedCount'];}catch(_0x3cf745){return console[_0x48a1b5(0x6ad)](_0x3cf745),0x0;}}async[a0_0x1f692e(0x453)](_0x4e1bef,_0x2f8a65){const _0x35ed3b=a0_0x1f692e;if(!Array[_0x35ed3b(0x4ce)](_0x4e1bef)||_0x4e1bef[_0x35ed3b(0x3f3)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this['getChatModelForOwner'](_0x2f8a65)['insertMany'](_0x4e1bef))[_0x35ed3b(0x3f3)];}catch(_0x55e5b2){throw console[_0x35ed3b(0x6ad)]('Erro\x20ao\x20inserir\x20chats:',_0x55e5b2),_0x55e5b2;}}async[a0_0x1f692e(0x2ca)](_0x252da2,_0x489e30){const _0x45927f=a0_0x1f692e;try{await this[_0x45927f(0x3a5)](_0x489e30)[_0x45927f(0x6b6)]({'_id':_0x252da2},{'$inc':{'isValidAttempts':0x1}});}catch(_0xd68771){throw console[_0x45927f(0x6ad)](_0x45927f(0x12a),_0xd68771),_0xd68771;}}async[a0_0x1f692e(0x19d)](_0x2e7fd0,_0x507fc9){const _0xad6180=a0_0x1f692e;try{await this[_0xad6180(0x3a5)](_0x507fc9)['deleteOne']({'_id':_0x2e7fd0});}catch(_0x3169fd){throw console['error'](_0xad6180(0x446),_0x3169fd),_0x3169fd;}}},_t=class extends I{['getLabelModelForOwner'](_0x41580f){return ua(_0x41580f);}async['updateOne'](_0x24dd04,_0x109a43,_0x243600,_0x258871){const _0x31417c=a0_0x1f692e;try{let _0x5589fa={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x258871},_0x244bae=this[_0x31417c(0xf1)](_0x243600),_0x5dfc66=A(_0x24dd04[_0x31417c(0x535)]);return await _0x244bae[_0x31417c(0xc1)](_0x5dfc66,{'$set':_0x109a43},_0x5589fa);}catch(_0x306e95){return console['error'](_0x306e95),null;}}async[a0_0x1f692e(0x4fe)](_0x28b92d,_0x1cb80e){const _0x2f8eaf=a0_0x1f692e;try{let _0x3e662e=this[_0x2f8eaf(0xf1)](_0x1cb80e),_0x200de3=A(_0x28b92d[_0x2f8eaf(0x535)]);return await _0x3e662e[_0x2f8eaf(0x4fe)](_0x200de3);}catch(_0x48b9ec){console[_0x2f8eaf(0x6ad)](_0x48b9ec);}}async[a0_0x1f692e(0x46e)](_0x28c69f,_0x4c8dfc){const _0x4f9dc9=a0_0x1f692e;try{let _0x127cb2=this[_0x4f9dc9(0xf1)](_0x4c8dfc),_0xc91f44=A(_0x28c69f[_0x4f9dc9(0x535)]);await _0x127cb2[_0x4f9dc9(0x199)](_0xc91f44);}catch(_0xfc2f5b){console[_0x4f9dc9(0x6ad)](_0xfc2f5b);}}async['deleteAll'](_0x15fb62){const _0x5c7a0c=a0_0x1f692e;try{return await this[_0x5c7a0c(0xf1)](_0x15fb62)[_0x5c7a0c(0x676)][_0x5c7a0c(0x291)](),{'success':!0x0};}catch(_0x32e4ad){return console['error'](_0x32e4ad),{'success':!0x1,'error':_0x32e4ad};}}},$t=class{constructor(_0xf1571d){const _0x2748e7=a0_0x1f692e;this[_0x2748e7(0x57d)]=_0xf1571d;}async[a0_0x1f692e(0x407)]({instanceName:_0x5834eb},_0x1dd205){const _0xae0793=a0_0x1f692e;return await this[_0xae0793(0x57d)][_0xae0793(0x5c2)][_0x5834eb][_0xae0793(0x407)](_0x1dd205);}async[a0_0x1f692e(0x579)]({instanceName:_0x19cb13},_0x3f8c1f){const _0x57093b=a0_0x1f692e;return await this[_0x57093b(0x57d)][_0x57093b(0x5c2)][_0x19cb13]['whatsappNumber'](_0x3f8c1f);}async[a0_0x1f692e(0x9f)]({instanceName:_0x26e678},_0x155122){const _0x18ccc9=a0_0x1f692e;return await this[_0x18ccc9(0x57d)][_0x18ccc9(0x5c2)][_0x26e678][_0x18ccc9(0x9f)](_0x155122);}async[a0_0x1f692e(0x12e)]({instanceName:_0x10bcdc},_0x185c15){const _0x5e8618=a0_0x1f692e;return await this['waMonitor']['waInstances'][_0x10bcdc][_0x5e8618(0x4f4)](_0x185c15);}async[a0_0x1f692e(0x480)]({instanceName:_0x27201f},_0x5cb00a){const _0x23309f=a0_0x1f692e;return await this['waMonitor'][_0x23309f(0x5c2)][_0x27201f]['archiveChat'](_0x5cb00a);}async[a0_0x1f692e(0x690)]({instanceName:_0x1fb1cf},_0x1d3a36){const _0x37195a=a0_0x1f692e;return await this[_0x37195a(0x57d)][_0x37195a(0x5c2)][_0x1fb1cf]['deleteMessage'](_0x1d3a36);}async['fetchProfilePicture']({instanceName:_0x116187},_0x1152a1){const _0x38ad56=a0_0x1f692e;return await this['waMonitor'][_0x38ad56(0x5c2)][_0x116187][_0x38ad56(0x532)](_0x1152a1[_0x38ad56(0xca)]);}async[a0_0x1f692e(0x3b4)]({instanceName:_0x3e9673},_0x4d908b){const _0xe187e7=a0_0x1f692e;return await this['waMonitor'][_0xe187e7(0x5c2)][_0x3e9673][_0xe187e7(0x3b4)](_0x4d908b[_0xe187e7(0xca)]);}async[a0_0x1f692e(0x615)]({instanceName:_0x43d75c},_0x34676f){const _0x1d918e=a0_0x1f692e;return await this[_0x1d918e(0x57d)][_0x1d918e(0x5c2)][_0x43d75c][_0x1d918e(0x615)](_0x34676f);}async[a0_0x1f692e(0x289)]({instanceName:_0x50ac8d},_0x599cee){const _0x417191=a0_0x1f692e;return await this[_0x417191(0x57d)][_0x417191(0x5c2)][_0x50ac8d][_0x417191(0x289)](_0x599cee);}async['getBase64FromMediaMessage']({instanceName:_0x4b84a2},_0x308e61){const _0x20004a=a0_0x1f692e;return await this[_0x20004a(0x57d)][_0x20004a(0x5c2)][_0x4b84a2][_0x20004a(0x502)](_0x308e61);}async[a0_0x1f692e(0x10a)]({instanceName:_0x242e3e},_0x58e777){const _0x5c8aa7=a0_0x1f692e;return await this[_0x5c8aa7(0x57d)][_0x5c8aa7(0x5c2)][_0x242e3e]['fetchMessages'](_0x58e777);}async['fetchLabels']({instanceName:_0xe342c}){const _0x4d1736=a0_0x1f692e;return await this['waMonitor'][_0x4d1736(0x5c2)][_0xe342c][_0x4d1736(0x119)]();}async[a0_0x1f692e(0x3d1)]({instanceName:_0x56a821}){const _0x4fce95=a0_0x1f692e;return await this[_0x4fce95(0x57d)][_0x4fce95(0x5c2)][_0x56a821]['fetchChats']();}async[a0_0x1f692e(0x51e)]({instanceName:_0x33de4b}){const _0x23d363=a0_0x1f692e;return await this[_0x23d363(0x57d)][_0x23d363(0x5c2)][_0x33de4b]['fetchPrivacySettings']();}async[a0_0x1f692e(0x388)]({instanceName:_0x56a57d},_0x103fe9){const _0x52a278=a0_0x1f692e;return await this[_0x52a278(0x57d)][_0x52a278(0x5c2)][_0x56a57d][_0x52a278(0x388)](_0x103fe9);}async['fetchBusinessProfile']({instanceName:_0x461913},_0x41a51e){const _0x15249c=a0_0x1f692e;return await this['waMonitor'][_0x15249c(0x5c2)][_0x461913][_0x15249c(0x196)](_0x41a51e['number']);}async[a0_0x1f692e(0xa2)]({instanceName:_0x4b5158},_0x350c8d){const _0x29599f=a0_0x1f692e;return await this[_0x29599f(0x57d)][_0x29599f(0x5c2)][_0x4b5158][_0x29599f(0xa2)](_0x350c8d['name']);}async[a0_0x1f692e(0x250)]({instanceName:_0x35b872},_0x371123){const _0x12c8bd=a0_0x1f692e;return await this['waMonitor'][_0x12c8bd(0x5c2)][_0x35b872][_0x12c8bd(0x250)](_0x371123[_0x12c8bd(0x555)]);}async[a0_0x1f692e(0x5ed)]({instanceName:_0x42297d},_0x11e9a6){const _0x193cc5=a0_0x1f692e;return await this[_0x193cc5(0x57d)][_0x193cc5(0x5c2)][_0x42297d][_0x193cc5(0x5ed)](_0x11e9a6[_0x193cc5(0x296)]);}async[a0_0x1f692e(0x211)]({instanceName:_0x3cd1a5},_0x1eeda4){const _0x187ce8=a0_0x1f692e;return await this[_0x187ce8(0x57d)][_0x187ce8(0x5c2)][_0x3cd1a5][_0x187ce8(0x211)]();}},vs=require(a0_0x1f692e(0xa0)),kt=class c{constructor(_0x4ad9f4,_0x455c0e,_0x68830d,_0x996130,_0x3be1df){const _0x2ec474=a0_0x1f692e;this[_0x2ec474(0x57d)]=_0x4ad9f4,this[_0x2ec474(0x193)]=_0x455c0e,this[_0x2ec474(0x40c)]=_0x68830d,this[_0x2ec474(0x15d)]=_0x996130,this[_0x2ec474(0x689)]=_0x3be1df,this[_0x2ec474(0xde)]=new v(c[_0x2ec474(0x543)]);}async[a0_0x1f692e(0xe5)]({instanceName:_0x300252,apikey:_0x524deb,number:_0xd1c3e4,proxy:_0x679f72=!0x0}){const _0x50ccfa=a0_0x1f692e;try{let _0x46b2a7=new fe(this['configService'],this[_0x50ccfa(0x15d)],this[_0x50ccfa(0x40c)]);_0x46b2a7[_0x50ccfa(0x614)]=_0x300252,this[_0x50ccfa(0x57d)]['waInstances'][_0x46b2a7['instanceName']]=_0x46b2a7;let _0x18e4b4={};_0x524deb?(await this[_0x50ccfa(0x40c)][_0x50ccfa(0xd2)][_0x50ccfa(0x2eb)]({'apikey':_0x524deb},_0x300252),_0x18e4b4[_0x50ccfa(0x2aa)]=_0x524deb):_0x18e4b4=await this[_0x50ccfa(0x689)][_0x50ccfa(0x24a)]({'instanceName':_0x46b2a7['instanceName']});let _0x22f85c;return await _0x46b2a7['connectToWhatsapp'](_0xd1c3e4,_0x679f72),await(0x0,vs[_0x50ccfa(0x697)])(0x7d0),_0x22f85c=_0x46b2a7['qrCode'],{'instance':{'instanceName':_0x46b2a7['instanceName'],'status':_0x50ccfa(0x482)},'hash':_0x18e4b4,'qrcode':_0x22f85c};}catch(_0x40f7bd){this[_0x50ccfa(0xde)][_0x50ccfa(0x6ad)](_0x40f7bd);}}async['connectToWhatsappController']({instanceName:_0x27d040,number:_0x58e7b0=null,proxy:_0x194948=!0x0}){const _0x3c2eea=a0_0x1f692e;try{let _0x1d9b8b=this[_0x3c2eea(0x57d)]['waInstances'][_0x27d040];switch(_0x1d9b8b?.[_0x3c2eea(0x2fd)]?.[_0x3c2eea(0x3ba)]){case _0x3c2eea(0x274):return await _0x1d9b8b[_0x3c2eea(0x260)](_0x58e7b0,_0x194948),await(0x0,vs['delay'])(0x7d0),_0x1d9b8b['qrCode'];case _0x3c2eea(0x4c6):return _0x1d9b8b['qrCode'];default:return await this[_0x3c2eea(0xd9)]({'instanceName':_0x27d040});}}catch(_0x1e0486){this[_0x3c2eea(0xde)]['log'](_0x1e0486);}}async[a0_0x1f692e(0xd9)]({instanceName:_0x329f72}){const _0xe7163b=a0_0x1f692e;let _0x5d9864=this[_0xe7163b(0x57d)][_0xe7163b(0x5c2)][_0x329f72][_0xe7163b(0x2fd)],_0xe2408c=null;_0x5d9864['state']==='open'&&_0x329f72&&(_0xe2408c=await this['waMonitor'][_0xe7163b(0x28b)](_0x329f72));let _0x48386e=null;return _0x5d9864[_0xe7163b(0x3ba)]===_0xe7163b(0x4c6)&&_0x329f72&&(_0x48386e=this['waMonitor'][_0xe7163b(0x5c2)][_0x329f72]['qrCode']),{'instance':_0x329f72,'connectionStatus':_0x5d9864,'instanceInfo':_0xe2408c,'qrcode':_0x48386e};}async[a0_0x1f692e(0x262)]({instanceName:_0x477808}){const _0x4c19a3=a0_0x1f692e;try{return this[_0x4c19a3(0x57d)][_0x4c19a3(0x5c2)][_0x477808]?.['client']?.['ws']?.[_0x4c19a3(0x274)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x4c19a3(0xd5)}};}catch(_0x123d7a){this[_0x4c19a3(0xde)]['error'](_0x123d7a);}}async['fetchInstances']({instanceName:_0xdf3f3}){const _0x17bcfe=a0_0x1f692e;return _0xdf3f3?this[_0x17bcfe(0x57d)]['instanceInfo'](_0xdf3f3):this[_0x17bcfe(0x57d)][_0x17bcfe(0x28b)]();}async[a0_0x1f692e(0xc4)]({instanceName:_0x51dbb9}){const _0x46ec9a=a0_0x1f692e;try{return await this[_0x46ec9a(0x57d)][_0x46ec9a(0x5c2)][_0x51dbb9]?.[_0x46ec9a(0x4ab)]?.[_0x46ec9a(0xc4)](_0x46ec9a(0x51a)+_0x51dbb9),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x2eba05){throw new O(_0x2eba05['toString']());}}async[a0_0x1f692e(0x178)]({instanceName:_0x175db5}){const _0x1cb64e=a0_0x1f692e;if((await this[_0x1cb64e(0xd9)]({'instanceName':_0x175db5}))[_0x1cb64e(0x2fd)][_0x1cb64e(0x3ba)]==='open')throw new m([_0x1cb64e(0x587),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x1cb64e(0x57d)][_0x1cb64e(0x5c2)][_0x175db5],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x119ee0){throw new m(_0x119ee0[_0x1cb64e(0x6bc)]());}}},Z=require(a0_0x1f692e(0x437)),Lt=class{constructor(_0x5b427e){const _0x5e0c8a=a0_0x1f692e;this[_0x5e0c8a(0x57d)]=_0x5b427e;}async[a0_0x1f692e(0x5d6)]({instanceName:_0xfa5779},_0x28b9a7){const _0x1e110d=a0_0x1f692e;return await this['waMonitor']['waInstances'][_0xfa5779][_0x1e110d(0x1df)](_0x28b9a7);}async['sendMenu']({instanceName:_0x3e96c4},_0x5509ad){const _0x260a5d=a0_0x1f692e;return await this[_0x260a5d(0x57d)]['waInstances'][_0x3e96c4]['menuMessage'](_0x5509ad);}async[a0_0x1f692e(0x108)]({instanceName:_0x17adbd},_0x3f9f62){const _0x1fa13c=a0_0x1f692e;if((0x0,Z[_0x1fa13c(0x4f8)])(_0x3f9f62?.[_0x1fa13c(0x14c)]?.[_0x1fa13c(0x4e1)])&&!_0x3f9f62?.['mediaMessage']?.[_0x1fa13c(0x672)])throw new m(_0x1fa13c(0x201));if((0x0,Z[_0x1fa13c(0x3b1)])(_0x3f9f62?.['mediaMessage']?.[_0x1fa13c(0x4e1)])||(0x0,Z[_0x1fa13c(0x4f8)])(_0x3f9f62?.[_0x1fa13c(0x14c)]?.[_0x1fa13c(0x4e1)]))return await this[_0x1fa13c(0x57d)][_0x1fa13c(0x5c2)][_0x17adbd][_0x1fa13c(0x14c)](_0x3f9f62);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x1f692e(0x187)]({instanceName:_0x51e851},_0x54ef65){const _0x3ab74d=a0_0x1f692e;if((0x0,Z[_0x3ab74d(0x3b1)])(_0x54ef65[_0x3ab74d(0x682)][_0x3ab74d(0x5a2)])||(0x0,Z[_0x3ab74d(0x4f8)])(_0x54ef65[_0x3ab74d(0x682)][_0x3ab74d(0x5a2)]))return await this['waMonitor'][_0x3ab74d(0x5c2)][_0x51e851][_0x3ab74d(0x46d)](_0x54ef65);throw new m(_0x3ab74d(0x131));}async[a0_0x1f692e(0x272)]({instanceName:_0xca731},_0x3717a6){const _0x8c9139=a0_0x1f692e;if((0x0,Z['isURL'])(_0x3717a6['audioMessage']['audio'])||(0x0,Z[_0x8c9139(0x4f8)])(_0x3717a6['audioMessage'][_0x8c9139(0x212)]))return await this[_0x8c9139(0x57d)][_0x8c9139(0x5c2)][_0xca731][_0x8c9139(0x329)](_0x3717a6);throw new m(_0x8c9139(0x131));}async[a0_0x1f692e(0x679)]({instanceName:_0x2eced2},_0x1f887a){const _0x3406ea=a0_0x1f692e;if((0x0,Z[_0x3406ea(0x4f8)])(_0x1f887a[_0x3406ea(0x5ad)][_0x3406ea(0x14c)]?.[_0x3406ea(0x4e1)])&&!_0x1f887a['buttonMessage'][_0x3406ea(0x14c)]?.[_0x3406ea(0x672)])throw new m(_0x3406ea(0x201));return await this[_0x3406ea(0x57d)]['waInstances'][_0x2eced2][_0x3406ea(0x5ad)](_0x1f887a);}async['sendLocation']({instanceName:_0xc59f4f},_0x5bfb99){const _0x3313d0=a0_0x1f692e;return await this['waMonitor']['waInstances'][_0xc59f4f][_0x3313d0(0x1dc)](_0x5bfb99);}async['sendPoll']({instanceName:_0x5f12d0},_0x1e1e73){const _0x14eccc=a0_0x1f692e;return await this[_0x14eccc(0x57d)][_0x14eccc(0x5c2)][_0x5f12d0][_0x14eccc(0x486)](_0x1e1e73);}async['sendList']({instanceName:_0x11b0cc},_0x5bb709){const _0x3551fc=a0_0x1f692e;return await this[_0x3551fc(0x57d)][_0x3551fc(0x5c2)][_0x11b0cc]['listMessage'](_0x5bb709);}async[a0_0x1f692e(0x303)]({instanceName:_0x385437},_0x235c75){const _0x1b0a1f=a0_0x1f692e;return await this[_0x1b0a1f(0x57d)][_0x1b0a1f(0x5c2)][_0x385437]['contactMessage'](_0x235c75);}async[a0_0x1f692e(0x6dc)]({instanceName:_0x517f42},_0x185fae){const _0x586e9d=a0_0x1f692e;if(!_0x185fae[_0x586e9d(0x2de)][_0x586e9d(0x485)][_0x586e9d(0x60f)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x586e9d(0x57d)]['waInstances'][_0x517f42][_0x586e9d(0x2de)](_0x185fae);}async[a0_0x1f692e(0x2e0)]({instanceName:_0x2e381e},_0x11d90c){const _0x4ffe84=a0_0x1f692e;return await this[_0x4ffe84(0x57d)][_0x4ffe84(0x5c2)][_0x2e381e][_0x4ffe84(0x2c1)](_0x11d90c);}},Er=require(a0_0x1f692e(0x6b8)),Ns=require('uuid'),Ft=class c{constructor(_0x1035f5,_0x55489e,_0x3422f2){const _0x537282=a0_0x1f692e;this['configService']=_0x1035f5,this['waMonitor']=_0x55489e,this[_0x537282(0x40c)]=_0x3422f2,this[_0x537282(0xde)]=new v(c[_0x537282(0x543)]);}async[a0_0x1f692e(0x44a)](_0x23df62){const _0x484177=a0_0x1f692e;let _0x466650=this[_0x484177(0x193)]['get'](_0x484177(0x43b))[_0x484177(0x182)],_0x3ea6f8=(0x0,Er[_0x484177(0x245)])({'instanceName':_0x23df62[_0x484177(0x614)],'apiName':ze,'tokenId':(0x0,Ns['v4'])()},_0x466650[_0x484177(0x509)],{'expiresIn':_0x466650[_0x484177(0x15f)],'encoding':_0x484177(0x88),'subject':_0x484177(0xc9)}),_0x567039=await this[_0x484177(0x40c)][_0x484177(0xd2)][_0x484177(0x2eb)]({'jwt':_0x3ea6f8},_0x23df62['instanceName']);if(_0x567039[_0x484177(0x6ad)])throw this['logger'][_0x484177(0x6ad)]({'localError':c[_0x484177(0x543)]+'.jwt','error':_0x567039[_0x484177(0x6ad)]}),new m(_0x484177(0x628),_0x567039['error']?.[_0x484177(0x6bc)]());return{'jwt':_0x3ea6f8};}async[a0_0x1f692e(0x2aa)](_0x467981){const _0x17d75e=a0_0x1f692e;let _0x20517e=(0x0,Ns['v4'])()[_0x17d75e(0x534)](),_0x17a14a=await this[_0x17d75e(0x40c)][_0x17d75e(0xd2)][_0x17d75e(0x2eb)]({'apikey':_0x20517e},_0x467981[_0x17d75e(0x614)]);if(_0x17a14a['error'])throw this[_0x17d75e(0xde)][_0x17d75e(0x6ad)]({'localError':c[_0x17d75e(0x543)]+_0x17d75e(0x190),'error':_0x17a14a[_0x17d75e(0x6ad)]}),new m('Authentication\x20error',_0x17a14a[_0x17d75e(0x6ad)]?.[_0x17d75e(0x6bc)]());return{'apikey':_0x20517e};}async[a0_0x1f692e(0x24a)](_0x2367a3){const _0x2b3828=a0_0x1f692e;let _0x175f78=this[_0x2b3828(0x193)][_0x2b3828(0x635)](_0x2b3828(0x43b));return await this[_0x175f78[_0x2b3828(0x337)]](_0x2367a3);}},Ut=class{constructor(_0x181009){const _0x51effb=a0_0x1f692e;this[_0x51effb(0x57d)]=_0x181009;}async[a0_0x1f692e(0x460)](_0x11a281,_0x4c1c7b){const _0x39fc60=a0_0x1f692e;return await this[_0x39fc60(0x57d)][_0x39fc60(0x5c2)][_0x11a281[_0x39fc60(0x614)]][_0x39fc60(0x460)](_0x4c1c7b);}async[a0_0x1f692e(0x197)](_0x147411,_0x4c2f31){const _0x10a759=a0_0x1f692e;return await this[_0x10a759(0x57d)][_0x10a759(0x5c2)][_0x147411[_0x10a759(0x614)]]['updateGroupPicture'](_0x4c2f31);}async[a0_0x1f692e(0x4b7)](_0x136909,_0x39140d){const _0x44256c=a0_0x1f692e;return await this[_0x44256c(0x57d)][_0x44256c(0x5c2)][_0x136909[_0x44256c(0x614)]][_0x44256c(0x4b7)](_0x39140d);}async[a0_0x1f692e(0x31f)](_0x15340c,_0x2dff8d){const _0x1d67c4=a0_0x1f692e;return await this['waMonitor'][_0x1d67c4(0x5c2)][_0x15340c[_0x1d67c4(0x614)]]['groupName'](_0x2dff8d);}async[a0_0x1f692e(0x67d)](_0x70e9b9,_0x375ff7){const _0x73098e=a0_0x1f692e;return await this[_0x73098e(0x57d)][_0x73098e(0x5c2)][_0x70e9b9[_0x73098e(0x614)]][_0x73098e(0x67d)](_0x375ff7);}async[a0_0x1f692e(0x59d)](_0x431a0c,_0x5b861d){const _0x4f5a0f=a0_0x1f692e;return await this[_0x4f5a0f(0x57d)][_0x4f5a0f(0x5c2)][_0x431a0c[_0x4f5a0f(0x614)]][_0x4f5a0f(0x30c)](_0x5b861d);}async[a0_0x1f692e(0x30f)](_0xfe9db8){const _0x2686e5=a0_0x1f692e;return await this['waMonitor']['waInstances'][_0xfe9db8[_0x2686e5(0x614)]][_0x2686e5(0x30f)]();}async[a0_0x1f692e(0x561)](_0x233719,_0x4add8e){const _0x2bce1f=a0_0x1f692e;return await this['waMonitor'][_0x2bce1f(0x5c2)][_0x233719[_0x2bce1f(0x614)]][_0x2bce1f(0x561)](_0x4add8e);}async['joinGroup'](_0x3ebb9d,_0x24e423){const _0x47b9ae=a0_0x1f692e;return await this[_0x47b9ae(0x57d)][_0x47b9ae(0x5c2)][_0x3ebb9d[_0x47b9ae(0x614)]][_0x47b9ae(0x3f7)](_0x24e423);}async['revokeInviteCode'](_0x2d057b,_0x4f4683){const _0x2f89ed=a0_0x1f692e;return await this[_0x2f89ed(0x57d)]['waInstances'][_0x2d057b['instanceName']][_0x2f89ed(0xb3)](_0x4f4683);}async[a0_0x1f692e(0x5ce)](_0x23a06f,_0x19f395){const _0x1c9271=a0_0x1f692e;return await this[_0x1c9271(0x57d)][_0x1c9271(0x5c2)][_0x23a06f['instanceName']][_0x1c9271(0x5ce)](_0x19f395);}async[a0_0x1f692e(0x2a0)](_0x334d32,_0x4115bf){const _0x2f8aa0=a0_0x1f692e;return await this['waMonitor'][_0x2f8aa0(0x5c2)][_0x334d32['instanceName']][_0x2f8aa0(0x34b)](_0x4115bf);}async[a0_0x1f692e(0x1db)](_0x564883,_0xe4bacf){const _0x133d2a=a0_0x1f692e;return await this[_0x133d2a(0x57d)]['waInstances'][_0x564883[_0x133d2a(0x614)]][_0x133d2a(0x1db)](_0xe4bacf);}async[a0_0x1f692e(0x243)](_0x432f64,_0x552990){const _0x1b17c1=a0_0x1f692e;return await this[_0x1b17c1(0x57d)]['waInstances'][_0x432f64[_0x1b17c1(0x614)]][_0x1b17c1(0x243)](_0x552990);}},Jt=class{constructor(_0x1c3416){this['waMonitor']=_0x1c3416;}['create'](_0x203196,_0x2c5a19){const _0x3a2ff0=a0_0x1f692e;return this[_0x3a2ff0(0x57d)][_0x3a2ff0(0x5c2)][_0x203196['instanceName']][_0x3a2ff0(0x58c)](_0x2c5a19);}async['find'](_0x28ba52){const _0x1eed32=a0_0x1f692e;try{return await this[_0x1eed32(0x57d)][_0x1eed32(0x5c2)][_0x28ba52[_0x1eed32(0x614)]][_0x1eed32(0x51f)]();}catch{return{'enabled':null,'url':''};}}},Yd=new v(a0_0x1f692e(0x3ce)),jt=class{constructor(_0x593354){this['waMonitor']=_0x593354;}async[a0_0x1f692e(0x3f1)](_0x4ad757,_0x4a9bef){const _0x4b4903=a0_0x1f692e;return await this['waMonitor'][_0x4b4903(0x5c2)][_0x4ad757[_0x4b4903(0x614)]][_0x4b4903(0x3f1)](_0x4a9bef);}async['getScheduleMessage'](_0x5dfa58){const _0x4c0069=a0_0x1f692e;return await this['waMonitor'][_0x4c0069(0x5c2)][_0x5dfa58[_0x4c0069(0x614)]][_0x4c0069(0x2b5)]();}async[a0_0x1f692e(0x3e5)](_0x392437){const _0x5e5d96=a0_0x1f692e;return await this[_0x5e5d96(0x57d)][_0x5e5d96(0x5c2)][_0x392437[_0x5e5d96(0x614)]]['deleteDoneMessages']();}async[a0_0x1f692e(0x4cd)](_0x1faa0f){const _0x2c6f1b=a0_0x1f692e;return await this['waMonitor'][_0x2c6f1b(0x5c2)][_0x1faa0f[_0x2c6f1b(0x614)]][_0x2c6f1b(0x4cd)]();}async[a0_0x1f692e(0x520)](_0x44d18a,_0x11e3f8){const _0x849d9e=a0_0x1f692e;return await this[_0x849d9e(0x57d)][_0x849d9e(0x5c2)][_0x44d18a[_0x849d9e(0x614)]][_0x849d9e(0x520)](_0x11e3f8);}async[a0_0x1f692e(0x36e)](_0x5d648f,_0x54ce38){const _0x173db4=a0_0x1f692e;return await this[_0x173db4(0x57d)][_0x173db4(0x5c2)][_0x5d648f[_0x173db4(0x614)]][_0x173db4(0x36e)](_0x54ce38);}async[a0_0x1f692e(0x695)](_0x382689,_0x37e2e1){const _0x568122=a0_0x1f692e;return await this['waMonitor'][_0x568122(0x5c2)][_0x382689[_0x568122(0x614)]][_0x568122(0x695)](_0x37e2e1);}async[a0_0x1f692e(0x53f)](_0x215643,_0x3223ab){const _0xfdc5da=a0_0x1f692e;return await this[_0xfdc5da(0x57d)][_0xfdc5da(0x5c2)][_0x215643[_0xfdc5da(0x614)]]['startFlow'](_0x3223ab);}async[a0_0x1f692e(0x1a1)](_0x4e6ea9,_0xc8bacc){const _0x40aac3=a0_0x1f692e;return await this[_0x40aac3(0x57d)][_0x40aac3(0x5c2)][_0x4e6ea9['instanceName']][_0x40aac3(0x1a1)](_0xc8bacc);}async[a0_0x1f692e(0x38a)](_0x354800,_0x26ab58){const _0x1a1e83=a0_0x1f692e;return await this[_0x1a1e83(0x57d)][_0x1a1e83(0x5c2)][_0x354800[_0x1a1e83(0x614)]][_0x1a1e83(0x38a)](_0x26ab58);}async[a0_0x1f692e(0x8e)](_0x517c16,_0x3c0470){const _0x20b707=a0_0x1f692e;return await this[_0x20b707(0x57d)][_0x20b707(0x5c2)][_0x517c16[_0x20b707(0x614)]][_0x20b707(0x8e)](_0x3c0470);}async['deleteConversation'](_0x368236,_0x477c7e){const _0x50d393=a0_0x1f692e;return await this[_0x50d393(0x57d)][_0x50d393(0x5c2)][_0x368236['instanceName']][_0x50d393(0xf9)](_0x477c7e);}async[a0_0x1f692e(0x448)](_0x91ac87,_0x34254c){const _0x18ea17=a0_0x1f692e;return await this[_0x18ea17(0x57d)][_0x18ea17(0x5c2)][_0x91ac87[_0x18ea17(0x614)]][_0x18ea17(0x448)](_0x34254c[_0x18ea17(0x543)]);}async[a0_0x1f692e(0x589)](_0x18e644,_0x237eab){const _0x55932d=a0_0x1f692e;return await this[_0x55932d(0x57d)][_0x55932d(0x5c2)][_0x18e644[_0x55932d(0x614)]]['createFlow'](_0x237eab);}async['editFlow'](_0x5710b8,_0x3c3aac){const _0x2e419a=a0_0x1f692e;return await this[_0x2e419a(0x57d)][_0x2e419a(0x5c2)][_0x5710b8[_0x2e419a(0x614)]]['editFlow'](_0x3c3aac);}async[a0_0x1f692e(0x266)](_0x47fbbf,_0x5cd505){const _0x3562ce=a0_0x1f692e;return await this['waMonitor'][_0x3562ce(0x5c2)][_0x47fbbf[_0x3562ce(0x614)]][_0x3562ce(0x266)](_0x5cd505);}async[a0_0x1f692e(0xd0)](_0x2cda97,_0x45a709){const _0x593461=a0_0x1f692e;return await this[_0x593461(0x57d)][_0x593461(0x5c2)][_0x2cda97[_0x593461(0x614)]][_0x593461(0xd0)](_0x45a709);}async[a0_0x1f692e(0x29d)](_0x57417b,_0x33060a){const _0x2b60cb=a0_0x1f692e;return await this['waMonitor'][_0x2b60cb(0x5c2)][_0x57417b[_0x2b60cb(0x614)]][_0x2b60cb(0x29d)](_0x33060a);}async[a0_0x1f692e(0x21f)](_0x519d60,_0x259aee){const _0x24b68f=a0_0x1f692e;return await this[_0x24b68f(0x57d)][_0x24b68f(0x5c2)][_0x519d60[_0x24b68f(0x614)]][_0x24b68f(0x21f)](_0x259aee);}async[a0_0x1f692e(0x47b)](_0xf9396f,_0x3c3962){const _0x2dbc3f=a0_0x1f692e;return await this[_0x2dbc3f(0x57d)][_0x2dbc3f(0x5c2)][_0xf9396f[_0x2dbc3f(0x614)]][_0x2dbc3f(0x47b)](_0x3c3962);}async[a0_0x1f692e(0x319)](_0x1ffa14,_0x325713){const _0x12025d=a0_0x1f692e;return await this[_0x12025d(0x57d)]['waInstances'][_0x1ffa14[_0x12025d(0x614)]]['editFlowVariable'](_0x325713);}async[a0_0x1f692e(0x6e0)](_0x451f9f,_0x5f1ba2){const _0x246c7a=a0_0x1f692e;return await this[_0x246c7a(0x57d)][_0x246c7a(0x5c2)][_0x451f9f['instanceName']]['deleteFlow'](_0x5f1ba2[_0x246c7a(0x543)]);}async['allFlows'](_0xcca408){const _0x4ba666=a0_0x1f692e;return await this[_0x4ba666(0x57d)][_0x4ba666(0x5c2)][_0xcca408[_0x4ba666(0x614)]][_0x4ba666(0x403)]();}},qt=class{constructor(_0xef129f){this['webhookService']=_0xef129f;}async[a0_0x1f692e(0x66b)](_0xc38d08,_0xa2f87f){const _0x18f19b=a0_0x1f692e;return this[_0x18f19b(0x565)][_0x18f19b(0x2eb)](_0xc38d08,_0xa2f87f);}async['findWebhook'](_0x4d06c2){const _0x5a2bc4=a0_0x1f692e;return this[_0x5a2bc4(0x565)][_0x5a2bc4(0x4fe)](_0x4d06c2);}},Vt=class extends I{constructor(_0x58e26d,_0x1ee6af){const _0x4230c9=a0_0x1f692e;super(_0x1ee6af),this[_0x4230c9(0x3d9)]=_0x58e26d,this[_0x4230c9(0x193)]=_0x1ee6af;}async[a0_0x1f692e(0x2eb)](_0x48b059,_0x59bbb0){const _0x4b26ea=a0_0x1f692e;try{return this[_0x4b26ea(0x69d)]['ENABLED']?{'insertCount':(await this['webhookModel'][_0x4b26ea(0x5b9)]({'_id':_0x59bbb0},{..._0x48b059},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x3680a9){return _0x3680a9;}}async[a0_0x1f692e(0x46e)](_0x4e59c3){const _0x1f00e7=a0_0x1f692e;try{if(this[_0x1f00e7(0x69d)][_0x1f00e7(0x4f0)]){await this['webhookModel']['deleteOne']({'_id':_0x4e59c3});return;}}catch(_0x464763){return{'error':_0x464763};}}async['find'](_0x569820){const _0x5793e3=a0_0x1f692e;try{if(this[_0x5793e3(0x69d)][_0x5793e3(0x4f0)])return await this['webhookModel']['findOne']({'_id':_0x569820});}catch{return{};}}},Bt=class extends I{constructor(_0x1cfa3c,_0x369eaf){const _0xf48594=a0_0x1f692e;super(_0x369eaf),this[_0xf48594(0xcd)]=_0x1cfa3c,this[_0xf48594(0x193)]=_0x369eaf,this[_0xf48594(0xd2)]=_0x369eaf[_0xf48594(0x635)](_0xf48594(0x43b));}async['create'](_0x56c6f3,_0x3b818e){const _0x2ad71b=a0_0x1f692e;try{if(this[_0x2ad71b(0x69d)][_0x2ad71b(0x4f0)])return{'insertCount':(await this[_0x2ad71b(0xcd)][_0x2ad71b(0x6b6)]({'_id':_0x3b818e},{'$set':{..._0x56c6f3}},{'upsert':!0x0}))[_0x2ad71b(0x2e6)]};}catch(_0x138a53){return{'error':_0x138a53};}}async[a0_0x1f692e(0x278)](_0x29aec3,_0x32f652){const _0x4935ec=a0_0x1f692e;try{if(this[_0x4935ec(0x69d)][_0x4935ec(0x4f0)])return{'insertCount':(await this[_0x4935ec(0xcd)][_0x4935ec(0x696)](_0x29aec3,{'$set':_0x32f652},{'upsert':!0x1}))[_0x4935ec(0x2e6)]};throw new Error(_0x4935ec(0x255));}catch(_0x36a8aa){return{'error':_0x36a8aa};}}async[a0_0x1f692e(0x199)](_0x2232fb){const _0x347c07=a0_0x1f692e;try{if(this[_0x347c07(0x69d)][_0x347c07(0x4f0)])return{'insertCount':(await this[_0x347c07(0xcd)][_0x347c07(0x199)](_0x2232fb))[_0x347c07(0x52c)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x4e8b95){return{'error':_0x4e8b95};}}async[a0_0x1f692e(0x46e)](_0x224d3c){const _0x2744ee=a0_0x1f692e;try{if(this[_0x2744ee(0x69d)]['ENABLED']){await this[_0x2744ee(0xcd)][_0x2744ee(0x568)]({'_id':_0x224d3c});return;}}catch(_0x22ac65){return{'error':_0x22ac65};}}async[a0_0x1f692e(0x4fe)](_0x8846ea){const _0x3773c4=a0_0x1f692e;try{if(this['dbSettings']['ENABLED'])return await this[_0x3773c4(0xcd)][_0x3773c4(0xc8)]({'_id':_0x8846ea});}catch{return{};}}async['findAll'](){const _0x25b4d7=a0_0x1f692e;try{if(this[_0x25b4d7(0x69d)][_0x25b4d7(0x4f0)])return await this[_0x25b4d7(0xcd)][_0x25b4d7(0x4fe)]();}catch{return[];}}},Gt=class extends I{['getFlowModelForOwner'](_0x31d66d){return ta(_0x31d66d);}async[a0_0x1f692e(0xe2)](_0x20e7fb){const _0x5b2d37=a0_0x1f692e;try{let _0x22ad1e=sa,_0x6bef45=this['getFlowModelForOwner'](_0x20e7fb),_0x48f4d4=await _0x22ad1e[_0x5b2d37(0x4fe)]({'owner':_0x20e7fb})[_0x5b2d37(0x3fd)](),_0x172ad2=[],_0x11d4bb=[];for(let _0xfa52f7 of _0x48f4d4)await _0x6bef45[_0x5b2d37(0x5fd)](_0xfa52f7[_0x5b2d37(0x472)])[_0x5b2d37(0x3fd)]()||(_0x172ad2[_0x5b2d37(0x14d)](_0xfa52f7),_0x11d4bb['push'](_0xfa52f7[_0x5b2d37(0x472)]));return _0x172ad2[_0x5b2d37(0x3f3)]>0x0&&await _0x6bef45['insertMany'](_0x172ad2,{'ordered':!0x1}),{'success':!0x0};}catch(_0x189a7e){return console[_0x5b2d37(0x6ad)](_0x5b2d37(0x2a4),_0x189a7e),{'success':!0x1,'error':_0x189a7e};}}async[a0_0x1f692e(0x46e)](_0x2e8996,_0x44ad34){const _0x38ad1c=a0_0x1f692e;try{let _0x17dd0a=this['getFlowModelForOwner'](_0x44ad34),_0x43a49c=A(_0x2e8996[_0x38ad1c(0x535)]);return{'deletedCount':(await _0x17dd0a['deleteMany'](_0x43a49c))['deletedCount']};}catch(_0x115ce6){return{'error':_0x115ce6?.[_0x38ad1c(0x6bc)]()};}}async[a0_0x1f692e(0x568)](_0x56a502,_0x358922){const _0xe9dbd4=a0_0x1f692e;try{let _0x317a8c=this[_0xe9dbd4(0x335)](_0x358922),_0x52c162=A(_0x56a502['where']);return{'deletedCount':(await _0x317a8c['deleteOne'](_0x52c162))[_0xe9dbd4(0x52c)]};}catch(_0x420763){return{'error':_0x420763?.[_0xe9dbd4(0x6bc)]()};}}async[a0_0x1f692e(0x6b6)](_0x1bc55c,_0x1b7997,_0x830bf2){const _0xcbaf22=a0_0x1f692e;try{return await this[_0xcbaf22(0x335)](_0x830bf2)[_0xcbaf22(0xeb)](_0x1bc55c,_0x1b7997,{'new':!0x0});}catch(_0x119388){return console[_0xcbaf22(0x6ad)](_0xcbaf22(0x410),_0x119388),null;}}async['createAndSave'](_0x3b66c3,_0xe5dc93){const _0x3386a4=a0_0x1f692e;try{let _0x2a1e8a=this['getFlowModelForOwner'](_0xe5dc93);return await new _0x2a1e8a(_0x3b66c3)[_0x3386a4(0x34d)]();}catch(_0x8d440){return console[_0x3386a4(0x6ad)](_0x3386a4(0x4ba),_0x8d440),null;}}async[a0_0x1f692e(0x696)](_0x1db7e5,_0x51f954,_0x4ca2b5){const _0x2d55c3=a0_0x1f692e;try{return{'modifiedCount':(await this[_0x2d55c3(0x335)](_0x4ca2b5)[_0x2d55c3(0x696)](_0x1db7e5,{'$set':_0x51f954}))['modifiedCount']};}catch(_0x2f0820){return console[_0x2d55c3(0x6ad)]('Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:',_0x2f0820),{'error':_0x2f0820};}}async['findAll'](_0x7724e9,_0x47c2be){const _0x45b4fa=a0_0x1f692e;try{let _0x517db8=this[_0x45b4fa(0x335)](_0x47c2be),_0x7e1a4=A(_0x7724e9[_0x45b4fa(0x535)]);return await _0x517db8[_0x45b4fa(0x4fe)](_0x7e1a4)[_0x45b4fa(0x3b3)](_0x7724e9?.[_0x45b4fa(0x3b3)]??0x0)[_0x45b4fa(0x3fd)]();}catch{return[];}}async['findOne'](_0x2a064b,_0x266692){const _0x447c2c=a0_0x1f692e;try{let _0x4e6a36=this['getFlowModelForOwner'](_0x266692),_0x345b11=A(_0x2a064b[_0x447c2c(0x535)]);return await _0x4e6a36['findOne'](_0x345b11)['lean']();}catch{return null;}}async[a0_0x1f692e(0x93)](_0x42fe45){const _0x51bb3c=a0_0x1f692e;try{return await this[_0x51bb3c(0x335)](_0x42fe45)[_0x51bb3c(0x676)]['drop'](),{'success':!0x0};}catch(_0x2e578e){return console[_0x51bb3c(0x6ad)](_0x2e578e),{'success':!0x1,'error':_0x2e578e};}}},Wt=class extends I{[a0_0x1f692e(0x4f6)](_0x4d7048){return ra(_0x4d7048);}async[a0_0x1f692e(0xe2)](_0x292b2e){const _0x93414a=a0_0x1f692e;try{let _0x502767=oa,_0x4e4c37=this[_0x93414a(0x4f6)](_0x292b2e),_0x1f05f7=await _0x502767['find']({'owner':_0x292b2e})[_0x93414a(0x3fd)](),_0x41030e=[],_0x5e217=[];for(let _0x355b5f of _0x1f05f7)await _0x4e4c37['findById'](_0x355b5f[_0x93414a(0x472)])['lean']()||(_0x41030e[_0x93414a(0x14d)](_0x355b5f),_0x5e217[_0x93414a(0x14d)](_0x355b5f[_0x93414a(0x472)]));return _0x41030e['length']>0x0&&await _0x4e4c37[_0x93414a(0x453)](_0x41030e,{'ordered':!0x1}),{'success':!0x0};}catch(_0x52adc9){return console[_0x93414a(0x6ad)](_0x93414a(0x2a4),_0x52adc9),{'success':!0x1,'error':_0x52adc9};}}async[a0_0x1f692e(0x686)](_0x11d4c5){const _0x47a401=a0_0x1f692e;if(_0x11d4c5['length']!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x11d4c5[0x0][_0x47a401(0x54e)])[_0x47a401(0x453)]([..._0x11d4c5]))['length']};}catch(_0x39e2c1){return _0x39e2c1;}}async[a0_0x1f692e(0x46e)](_0x43cc5f,_0xaf8669){const _0xad4671=a0_0x1f692e;try{let _0x368612=this['getConversationModelForOwner'](_0xaf8669),_0x504f38=A(_0x43cc5f['where']);return{'deletedCount':(await _0x368612['deleteMany'](_0x504f38))['deletedCount']};}catch(_0x5d8463){return{'error':_0x5d8463?.[_0xad4671(0x6bc)]()};}}async[a0_0x1f692e(0x568)](_0xd0a548,_0x14448f){const _0x5487a1=a0_0x1f692e;try{let _0x5ae740=this[_0x5487a1(0x4f6)](_0x14448f),_0x1cd44b=A(_0xd0a548[_0x5487a1(0x535)]);return{'deletedCount':(await _0x5ae740[_0x5487a1(0x568)](_0x1cd44b))[_0x5487a1(0x52c)]};}catch(_0x19882c){return{'error':_0x19882c?.['toString']()};}}async[a0_0x1f692e(0x47e)](_0x37c4b4,_0x340f4b){const _0x3c0a46=a0_0x1f692e;try{if(_0x37c4b4[_0x3c0a46(0x3f3)]===0x0)return;let _0x360390=this['getConversationModelForOwner'](_0x340f4b),_0x88170b=_0x37c4b4[_0x3c0a46(0x2df)](_0x5ed767=>({'updateOne':{'filter':{'name':_0x5ed767[_0x3c0a46(0x543)],'owner':_0x340f4b},'update':{..._0x5ed767}}})),{modifiedCount:_0x4124b4}=await _0x360390['bulkWrite'](_0x88170b);return{'insertCount':_0x4124b4};}catch{return;}}async[a0_0x1f692e(0x696)](_0x174c67,_0x55f643,_0x3c49c7){const _0x1fab4d=a0_0x1f692e;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x3c49c7)['updateMany'](_0x174c67,{'$set':_0x55f643}))[_0x1fab4d(0x2e6)]};}catch(_0x4e01a7){return console[_0x1fab4d(0x6ad)](_0x1fab4d(0x19f),_0x4e01a7),{'error':_0x4e01a7};}}async['updateOne'](_0x1baca6,_0x475164,_0x226ba0){const _0x4b9ea0=a0_0x1f692e;try{return await this[_0x4b9ea0(0x4f6)](_0x226ba0)['findOneAndUpdate']({'_id':_0x1baca6},{'$set':_0x475164},{'new':!0x0,'upsert':!0x0})[_0x4b9ea0(0x3fd)]();}catch(_0xe372b6){return console[_0x4b9ea0(0x6ad)](_0xe372b6),null;}}async[a0_0x1f692e(0x4fe)](_0x35460d,_0x3b70cd){const _0x27bab2=a0_0x1f692e;try{return await this[_0x27bab2(0x4f6)](_0x3b70cd)['find'](_0x35460d)[_0x27bab2(0x267)]({'lastInteraction':-0x1})[_0x27bab2(0x3fd)]();}catch{return[];}}async[a0_0x1f692e(0xc8)](_0x2f6783,_0x5595cc){const _0x17142f=a0_0x1f692e;try{return await this[_0x17142f(0x4f6)](_0x5595cc)[_0x17142f(0xc8)]({..._0x2f6783['where']})[_0x17142f(0x3fd)]();}catch{return null;}}async[a0_0x1f692e(0x93)](_0x52eec3){const _0x3d820f=a0_0x1f692e;try{return await this[_0x3d820f(0x4f6)](_0x52eec3)[_0x3d820f(0x676)][_0x3d820f(0x291)](),{'success':!0x0};}catch(_0x2277a0){return console['error'](_0x2277a0),{'success':!0x1,'error':_0x2277a0};}}},zt=class extends I{[a0_0x1f692e(0x369)](_0x5a6ab8){return na(_0x5a6ab8);}async[a0_0x1f692e(0xe2)](_0x37fa93){const _0x559847=a0_0x1f692e;try{let _0xea727e=ca,_0x1baed9=this[_0x559847(0x369)](_0x37fa93),_0x133757=await _0xea727e[_0x559847(0x4fe)]({'owner':_0x37fa93})['lean'](),_0x480f9e=[],_0x4ab0ab=[];for(let _0x27477a of _0x133757)await _0x1baed9[_0x559847(0x5fd)](_0x27477a['_id'])['lean']()||(_0x480f9e[_0x559847(0x14d)](_0x27477a),_0x4ab0ab[_0x559847(0x14d)](_0x27477a[_0x559847(0x472)]));return _0x480f9e[_0x559847(0x3f3)]>0x0&&await _0x1baed9[_0x559847(0x453)](_0x480f9e,{'ordered':!0x1}),{'success':!0x0};}catch(_0x420ffd){return console[_0x559847(0x6ad)](_0x559847(0x2a4),_0x420ffd),{'success':!0x1,'error':_0x420ffd};}}async[a0_0x1f692e(0x302)](_0x4b1c15,_0x2680e1){const _0x25f751=a0_0x1f692e;try{let _0x2f4f3d=this['getScheduleMessageModelForOwner'](_0x2680e1);return await new _0x2f4f3d(_0x4b1c15)[_0x25f751(0x34d)]();}catch(_0x2c7624){return console['error'](_0x25f751(0x4ba),_0x2c7624),null;}}async[a0_0x1f692e(0x568)](_0x1b723f,_0x4288df){const _0x251cc0=a0_0x1f692e;try{return await this[_0x251cc0(0x369)](_0x4288df)[_0x251cc0(0x2a3)](_0x1b723f),{};}catch(_0x23d22a){return{'error':_0x23d22a?.[_0x251cc0(0x6bc)]()};}}async[a0_0x1f692e(0x6b6)](_0x28293f,_0x391332,_0x293650){const _0x31d348=a0_0x1f692e;try{return await this[_0x31d348(0x369)](_0x293650)[_0x31d348(0xc1)](_0x28293f,{'$set':_0x391332},{'new':!0x0})[_0x31d348(0x3fd)]();}catch(_0x2dd090){return console[_0x31d348(0x6ad)](_0x31d348(0x3fa),_0x2dd090),null;}}async[a0_0x1f692e(0x61b)](_0x886047,_0x261cb2,_0x4de5e7){const _0xab2faa=a0_0x1f692e;try{return await this[_0xab2faa(0x369)](_0x4de5e7)['findByIdAndUpdate'](_0x886047,_0x261cb2,{'new':!0x0})['lean']();}catch(_0x2f8fc0){return console['error']('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x2f8fc0),null;}}async[a0_0x1f692e(0x4fe)](_0x9d386e,_0x39b195){const _0x2abc94=a0_0x1f692e;try{return await this['getScheduleMessageModelForOwner'](_0x39b195)[_0x2abc94(0x4fe)](_0x9d386e[_0x2abc94(0x535)])[_0x2abc94(0x3b3)](_0x9d386e?.['limit']??0x0)['sort']({'when':0x1})[_0x2abc94(0x3fd)]();}catch{return[];}}async[a0_0x1f692e(0xc8)](_0x25a026,_0x5f36c3){const _0x268cf3=a0_0x1f692e;try{return await this[_0x268cf3(0x369)](_0x5f36c3)['findOne'](_0x25a026[_0x268cf3(0x535)])[_0x268cf3(0x267)]({'when':0x1})[_0x268cf3(0x3fd)]();}catch{return null;}}async[a0_0x1f692e(0x5fd)](_0x48d22b,_0x3531e6){const _0x580d7=a0_0x1f692e;try{return await this[_0x580d7(0x369)](_0x3531e6)[_0x580d7(0x5fd)](_0x48d22b)[_0x580d7(0x3fd)]();}catch{return null;}}async[a0_0x1f692e(0x199)](_0x5a5663,_0x14cd13){const _0x1098a7=a0_0x1f692e;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x14cd13)[_0x1098a7(0x199)](_0x5a5663))['deletedCount']};}catch(_0x4fa9a3){return console[_0x1098a7(0x6ad)]('Erro\x20ao\x20deletar\x20mensagens:',_0x4fa9a3),{'error':_0x4fa9a3};}}async[a0_0x1f692e(0x93)](_0x4b6a17){const _0x3e6ffa=a0_0x1f692e;try{return await this[_0x3e6ffa(0x369)](_0x4b6a17)['collection'][_0x3e6ffa(0x291)](),{'success':!0x0};}catch(_0x351b3e){return console[_0x3e6ffa(0x6ad)](_0x351b3e),{'success':!0x1,'error':_0x351b3e};}}},Ht=class extends I{async[a0_0x1f692e(0x47e)](_0x366d1d,_0x15fbf6){const _0x516b96=a0_0x1f692e;try{if(this[_0x516b96(0x69d)]['ENABLED']){let _0x1d16ff=await _e['findOneAndUpdate']({'_id':_0x15fbf6},{'$set':_0x366d1d},{'new':!0x0});return console[_0x516b96(0x671)]('Resultado\x20da\x20atualização:',_0x1d16ff),_0x1d16ff;}}catch(_0x4565e7){throw console['error'](_0x516b96(0x30a),_0x4565e7),_0x4565e7;}}async[a0_0x1f692e(0x1b9)](_0x277d5e){const _0x137bd9=a0_0x1f692e;try{let _0x2510f9=await _e[_0x137bd9(0x5fd)](_0x277d5e);return _0x2510f9||(_0x2510f9=new _e({'_id':_0x277d5e}),await _0x2510f9['save']()),_0x2510f9;}catch(_0xd4a093){return console[_0x137bd9(0x6ad)](_0x137bd9(0x102),_0xd4a093),null;}}},wo=new v('WA\x20MODULE'),bo=new Le(b),So=new Pt(b),Eo=new Qe(b),Co=new Vt(Qs,b),Mo=new Bt(zs,b),vo=new Gt(b),No=new _t(b),Ro=new Wt(b),To=new zt(b),Ao=new Ht(b),ce=new $e(bo,So,Eo,Co,Mo,vo,Ro,No,To,Ao,N?.[a0_0x1f692e(0x84)]()),B=new xt(Zt,b,ce),Oo=new Ft(b,B,ce),Io=new Jt(B),ps=new qt(Io),T=new jt(B),re=new kt(B,b,ce,Zt,Oo),G=new Lt(B),D=new $t(B),J=new Ut(B);wo[a0_0x1f692e(0x3b6)](a0_0x1f692e(0x602));var gg=require(a0_0x1f692e(0x59a)),Rs=require('fs'),Cr=R(require(a0_0x1f692e(0x4ad))),Mr=R(require('http')),ve=class c{static #e;static set['app'](_0x59d2f0){this.#e=_0x59d2f0;}static get[a0_0x1f692e(0x4ad)](){const _0x2b5dff=a0_0x1f692e;let {FULLCHAIN:_0x275fd6,PRIVKEY:_0x24a92b}=b[_0x2b5dff(0x635)](_0x2b5dff(0x54c));return Cr[_0x2b5dff(0x6c4)]({'cert':(0x0,Rs[_0x2b5dff(0x14b)])(_0x275fd6),'key':(0x0,Rs[_0x2b5dff(0x14b)])(_0x24a92b)},c.#e);}static get[a0_0x1f692e(0x395)](){const _0xa1f622=a0_0x1f692e;return Mr[_0xa1f622(0x6c4)](c.#e);}},ue=R(require('fs')),Or=R(require(a0_0x1f692e(0x586))),Ne=R(require(a0_0x1f692e(0x390))),Te=R(require('path')),Ae=require(a0_0x1f692e(0x65c));function Do(){const _0x1499ef=a0_0x1f692e;B[_0x1499ef(0x26c)]();let _0x3ff090=Te[_0x1499ef(0x205)][_0x1499ef(0x317)](__dirname,'downloads');Ar(_0x3ff090);}var Ar=_0x5b2cd2=>{const _0x1db539=a0_0x1f692e;let _0x54fabb=ue[_0x1db539(0x205)][_0x1db539(0x559)](_0x5b2cd2),_0x3dc680=0xc*0x3c*0x3c*0x3e8,_0x1560a0=0x2*0x3c*0x3c*0x3e8,_0x10d37e=new Date()[_0x1db539(0x4fb)]();_0x54fabb[_0x1db539(0x171)](_0x3297a9=>{const _0x12acee=_0x1db539;let _0xd1751e=Te['default'][_0x12acee(0x317)](_0x5b2cd2,_0x3297a9),_0x1c59fc=ue[_0x12acee(0x205)]['statSync'](_0xd1751e)['birthtime'][_0x12acee(0x4fb)]();_0x10d37e-_0x1c59fc>_0x3dc680&&(ue[_0x12acee(0x205)][_0x12acee(0x1f4)](_0xd1751e),console[_0x12acee(0x671)](_0x12acee(0x1c0)+_0x3297a9));}),setTimeout(()=>Ar(_0x5b2cd2),_0x1560a0);};function xo(){const _0x499970=a0_0x1f692e;let _0x51f035=new v('SERVER'),_0x17c55f=(0x0,de[_0x499970(0x205)])();_0x17c55f[_0x499970(0x665)]((0x0,Tr[_0x499970(0x205)])({'origin'(_0x4dd4fb,_0x465e5f){let {ORIGIN:_0x13d213}=b['get']('CORS');return _0x4dd4fb||(_0x4dd4fb='*'),_0x13d213['indexOf']('*')!==-0x1||_0x13d213['indexOf'](_0x4dd4fb)!==-0x1?_0x465e5f(null,!0x0):_0x465e5f(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x499970(0x635)]('CORS')[_0x499970(0xe9)]],'credentials':b[_0x499970(0x635)](_0x499970(0x556))['CREDENTIALS']}),(0x0,de[_0x499970(0x3aa)])({'extended':!0x0,'limit':_0x499970(0x9a)}),(0x0,de[_0x499970(0x2e5)])({'limit':_0x499970(0x9a)})),_0x17c55f[_0x499970(0x665)]((_0x3022cc,_0x375a00,_0xcdd6e7)=>{const _0x4cd32d=_0x499970;_0x3022cc[_0x4cd32d(0x653)]['startsWith'](_0x4cd32d(0x4a8))?_0xcdd6e7():(0x0,Rr[_0x4cd32d(0x205)])()(_0x3022cc,_0x375a00,_0xcdd6e7);}),_0x17c55f[_0x499970(0x6c5)]('view\x20engine',_0x499970(0x5dc)),_0x17c55f[_0x499970(0x6c5)](_0x499970(0x4b5),(0x0,As['join'])(ae,_0x499970(0x4b5))),_0x17c55f[_0x499970(0x665)](de[_0x499970(0x205)][_0x499970(0x1c2)]((0x0,As[_0x499970(0x317)])(ae,'public'))),_0x17c55f[_0x499970(0x665)]((_0x4e30cb,_0x3e49c5,_0xae0ac)=>{const _0x327cb7=_0x499970;let _0x50287d=_0x3e49c5['send'];_0x3e49c5[_0x327cb7(0x5d3)]=function(_0x378357){const _0x5b474e=_0x327cb7;if(_0x4e30cb[_0x5b474e(0x49c)][_0x5b474e(0x1bb)]===_0x5b474e(0x468)||_0x4e30cb[_0x5b474e(0x1b8)]['uazapi']==='true'){let _0xe0286b=JSON[_0x5b474e(0x392)](_0x378357);_0x378357=JSON[_0x5b474e(0x14a)](_0x262b4d(_0xe0286b));}return _0x50287d[_0x5b474e(0x4fd)](_0x3e49c5,[_0x378357]);},_0xae0ac();}),_0x17c55f[_0x499970(0x665)]('/',vt),_0x17c55f[_0x499970(0x665)]((_0x3a3eee,_0x317226,_0x3a4a26,_0x2f6238)=>{const _0x4c3a8b=_0x499970;if(_0x3a3eee)return _0x3a4a26[_0x4c3a8b(0x555)](_0x3a3eee[_0x4c3a8b(0x555)]||0x1f4)[_0x4c3a8b(0x2e5)](_0x3a3eee);},(_0x248f70,_0x4a72f1,_0x3d68ff)=>{const _0x44b9b2=_0x499970;let {method:_0x227029,url:_0x48e952}=_0x248f70;_0x4a72f1['status'](0x194)[_0x44b9b2(0x2e5)]({'status':0x194,'message':_0x44b9b2(0x48a)+_0x227029[_0x44b9b2(0x534)]()+'\x20'+_0x48e952,'error':_0x44b9b2(0x3e0)}),_0x3d68ff();});let _0x262b4d=(_0x4a9e1b,_0x1506f7=_0x499970(0x6da))=>{const _0x10a8a4=_0x499970;let _0x26ccb3=(_0x537d2f,_0x13e646=null,_0x2a8fea=!0x1)=>{let _0x45e510={};return Object['keys'](_0x537d2f)['forEach'](_0x354ca6=>{const _0x3f1728=a0_0x37ec;let _0x59c6bf=_0x537d2f[_0x354ca6],_0x12b51b=''+_0x1506f7+_0x354ca6;_0x13e646&&!_0x2a8fea&&(_0x12b51b=_0x13e646+'.'+_0x354ca6),!_0x59c6bf&&_0x59c6bf!==0x0&&_0x59c6bf!==!0x1||typeof _0x59c6bf>'u'?_0x45e510[_0x12b51b]=null:typeof _0x59c6bf!='object'&&!Array[_0x3f1728(0x4ce)](_0x59c6bf)?_0x45e510[_0x12b51b]=_0x59c6bf:typeof _0x59c6bf==_0x3f1728(0x39b)&&!Array['isArray'](_0x59c6bf)?_0x45e510=Object[_0x3f1728(0x66c)](_0x45e510,_0x26ccb3(_0x59c6bf,_0x12b51b)):Array['isArray'](_0x59c6bf)&&(typeof _0x59c6bf[0x0]==_0x3f1728(0x39b)?(_0x45e510[_0x12b51b]=[],_0x59c6bf[_0x3f1728(0x171)](_0x5d43e2=>{const _0x27a808=_0x3f1728;_0x45e510[_0x12b51b][_0x27a808(0x14d)](_0x26ccb3(_0x5d43e2,_0x12b51b,!0x0));})):_0x45e510[_0x12b51b]=_0x59c6bf);}),_0x45e510;};return Array[_0x10a8a4(0x4ce)](_0x4a9e1b)?_0x4a9e1b['map'](_0x8fc722=>_0x26ccb3(_0x8fc722)):typeof _0x4a9e1b==_0x10a8a4(0x39b)&&_0x4a9e1b!==null?_0x26ccb3(_0x4a9e1b):{};},_0x1570be=b['get']('SERVER');ve[_0x499970(0x443)]=_0x17c55f;let _0x2b87ca=ve[_0x1570be[_0x499970(0x337)]],_0x4f516b='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x2b87ca[_0x499970(0x630)](_0x1570be[_0x499970(0x42e)],()=>{const _0x174418=_0x499970;_0x51f035[_0x174418(0x671)](_0x4f516b),_0x51f035[_0x174418(0x671)](_0x1570be[_0x174418(0x337)][_0x174418(0x534)]()+_0x174418(0x3bc)+_0x1570be[_0x174418(0x42e)]);}),Do(),Us();}function a0_0x37ec(_0x38ed7a,_0x3231f0){const _0x1bad32=a0_0x1bad();return a0_0x37ec=function(_0x37ec0e,_0x414c4b){_0x37ec0e=_0x37ec0e-0x82;let _0x5d60a5=_0x1bad32[_0x37ec0e];return _0x5d60a5;},a0_0x37ec(_0x38ed7a,_0x3231f0);}var Po=a0_0x1f692e(0x3c4),_o=Te['default'][a0_0x1f692e(0x317)](__dirname,a0_0x1f692e(0x550)),Re=null;function $o(){return new Promise((_0x2ff616,_0x44f20a)=>{const _0x5b2a4a=a0_0x37ec;ue[_0x5b2a4a(0x205)][_0x5b2a4a(0x658)](_o,_0x5b2a4a(0x217),(_0x1c93df,_0x48dd04)=>{const _0x2c70d1=_0x5b2a4a;if(_0x1c93df){Re=_0x1c93df,_0x2ff616();return;}Or[_0x2c70d1(0x205)]['parse'](_0x48dd04)[_0x2c70d1(0x29b)][_0x2c70d1(0x484)]===Po?(Re=null,_0x2ff616()):(Re=new Error(_0x2c70d1(0xe3)),_0x2ff616());});});}async function ko(){const _0x377f83=a0_0x1f692e;try{await $o(),await Os();}catch(_0x446a04){console[_0x377f83(0x6ad)](_0x377f83(0x53e)+_0x446a04),process['exit'](0x1);}}ko();async function Ir(){const _0x4cb69c=a0_0x1f692e;let _0x402084;try{_0x402084=(await Ne[_0x4cb69c(0x205)][_0x4cb69c(0x635)](_0x4cb69c(0x9e)))[_0x4cb69c(0x66f)]['ip'];}catch(_0x4339ad){console[_0x4cb69c(0x6ad)](_0x4339ad);try{_0x402084=(await Ne['default'][_0x4cb69c(0x635)](_0x4cb69c(0x1f2)))[_0x4cb69c(0x66f)]['ip'];}catch(_0x2b622f){console[_0x4cb69c(0x6ad)](_0x2b622f);try{_0x402084=(await Ne[_0x4cb69c(0x205)][_0x4cb69c(0x635)](_0x4cb69c(0x530)))[_0x4cb69c(0x66f)][_0x4cb69c(0x60f)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x2af13f){return console['error'](_0x2af13f),!0x1;}}}return _0x402084;}var vr=0x0;async function Lo(){const _0x3c6ea1=a0_0x1f692e;let _0x29f18c=await new oe(b[_0x3c6ea1(0x635)](_0x3c6ea1(0x283)))[_0x3c6ea1(0x15e)]();return console[_0x3c6ea1(0x671)]('instancias:\x20',_0x29f18c[_0x3c6ea1(0x3f3)]),_0x29f18c[_0x3c6ea1(0x3f3)];}function Fo(_0x3c85fc){const _0x3dd105=a0_0x1f692e;let _0x557ae6=_0x3c85fc[_0x3dd105(0x635)]('SERVER')[_0x3dd105(0x2b2)],_0x3050a1=_0x3c85fc[_0x3dd105(0x635)](_0x3dd105(0x54c)),_0x5dc4ae;if(_0x557ae6){let _0x453382=_0x557ae6[_0x3dd105(0x60f)](/\/\/(.*?)\./);_0x453382&&_0x453382[0x1]&&(_0x5dc4ae=_0x453382[0x1]);}if(!_0x5dc4ae&&_0x3050a1&&_0x3050a1[_0x3dd105(0x452)]){let _0x3fd90f=_0x3050a1[_0x3dd105(0x452)][_0x3dd105(0x5ca)]('/'),_0x2c17a2=_0x3fd90f[_0x3fd90f['length']-0x2];if(_0x2c17a2){let _0x126793=_0x2c17a2['split']('.');_0x126793[_0x3dd105(0x3f3)]>0x2&&(_0x5dc4ae=_0x126793[0x0]);}}return _0x5dc4ae;}var Ms=Fo(b);async function Uo(){const _0x43df38=a0_0x1f692e;let _0x5cee8e=b[_0x43df38(0x635)]('REDIS'),_0x40c128=b['get']('AUTHENTICATION')[_0x43df38(0x334)][_0x43df38(0x1c7)],_0x2b9a69=b['get'](_0x43df38(0x54c)),_0x150fac=await Ir(),_0x12bf83=b[_0x43df38(0x635)](_0x43df38(0x314))[_0x43df38(0x42e)],_0x318b33=b['get']('SERVER')[_0x43df38(0x2b2)];try{let _0x474b5e={'ip':_0x150fac||null,'redis_enable':_0x5cee8e?.['ENABLED']||null,'apikey':_0x40c128||null,'ssl':_0x2b9a69?.['PRIVKEY']||null,'lastupdate':Dr||null,'port':_0x12bf83||null,'gitInstallError':Re?.[_0x43df38(0x5f0)]||null,'url':_0x318b33||null};if(console['log'](_0x43df38(0x540),_0x474b5e['ip']),_0x5cee8e&&_0x5cee8e[_0x43df38(0x4f0)]){let _0x5c0031=await Lo();_0x474b5e[_0x43df38(0x364)]=_0x5c0031||null;}for(let _0xf34789 in _0x474b5e)_0x474b5e[_0x43df38(0x13d)](_0xf34789)&&_0xf34789!=='ip'&&(_0x474b5e[_0xf34789]=JSON['stringify'](_0x474b5e[_0xf34789]));return(await Ne[_0x43df38(0x205)]['post'](_0x43df38(0x161),_0x474b5e))[_0x43df38(0x66f)];}catch(_0x18fd88){return console[_0x43df38(0x6ad)](_0x18fd88),!0x1;}}var Ts=!0x1,Dr=0x21d,Jo=0x3,Nr=0x1b7740;async function Os(){const _0x4acb9b=a0_0x1f692e;if(!await Ir())return console[_0x4acb9b(0x6ad)]('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),_0x4acb9b(0x687);let _0x3cff54=await Uo();if(_0x3cff54){if(_0x3cff54[_0x4acb9b(0xff)][_0x4acb9b(0x5bc)]===!0x0){b[_0x4acb9b(0x635)](_0x4acb9b(0x54c))[_0x4acb9b(0x1cc)][_0x4acb9b(0xe4)](_0x4acb9b(0x44e))&&_0x3cff54['response'][_0x4acb9b(0x31d)]&&(await Vo(_0x3cff54[_0x4acb9b(0xff)][_0x4acb9b(0x31d)],qo),await Bo(_0x4acb9b(0x3c1),_0x3cff54[_0x4acb9b(0xff)][_0x4acb9b(0x31d)]),console['log'](_0x4acb9b(0x2f9)),setTimeout(()=>Wo(),0x2710)),Re===null&&_0x3cff54['response'][_0x4acb9b(0x55c)]-Dr>0x0&&await jo(),Ts||(Ts=!0x0,xo());let _0x11c47f=0x24*0x3c*0x3c,_0x17af5a=_0x3cff54['response'][_0x4acb9b(0x6c0)]>_0x11c47f?_0x11c47f:_0x3cff54['response']['segundos'],_0x461fbc=Number(_0x17af5a);if(isNaN(_0x461fbc)){console[_0x4acb9b(0x6ad)](_0x4acb9b(0x581));return;}let _0x43c081=Math[_0x4acb9b(0x336)](_0x461fbc/0xe10),_0x21c5c9=Math[_0x4acb9b(0x336)](_0x461fbc%0xe10/0x3c),_0x1288ff=new Date(Date[_0x4acb9b(0x188)]()+_0x461fbc*0x3e8);setTimeout(Os,_0x461fbc*0x3e8);let _0xa48d0f=_0x35bf75=>_0x35bf75['toString']()[_0x4acb9b(0x215)](0x2,'0'),_0x59b39f=_0x4acb9b(0x6cb)+_0xa48d0f(_0x43c081)+_0x4acb9b(0x694)+_0xa48d0f(_0x21c5c9)+_0x4acb9b(0x3c6)+_0xa48d0f(_0x1288ff[_0x4acb9b(0x99)]())+':'+_0xa48d0f(_0x1288ff[_0x4acb9b(0x1a7)]())+'.';console[_0x4acb9b(0x671)](_0x59b39f);}else return console[_0x4acb9b(0x671)]('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Ts&&(console[_0x4acb9b(0x671)](_0x4acb9b(0x595)),process[_0x4acb9b(0x639)]()),_0x4acb9b(0x3d0);}else{if(vr++,vr<Jo)console[_0x4acb9b(0x671)](_0x4acb9b(0x31a)+Nr/0xea60+_0x4acb9b(0x2d2)),setTimeout(Os,Nr);else return console[_0x4acb9b(0x6ad)](_0x4acb9b(0x39d)),_0x4acb9b(0x2dc);}}async function jo(){const _0x6a482d=a0_0x1f692e;console[_0x6a482d(0x671)](_0x6a482d(0x8a));let _0x29a845=(0x0,Ae[_0x6a482d(0x5e3)])(_0x6a482d(0x213),{'shell':!0x0});_0x29a845[_0x6a482d(0x4dd)]['on'](_0x6a482d(0x66f),_0x2ab7ce=>{const _0x2aa2aa=_0x6a482d;console[_0x2aa2aa(0x671)]('Atualização:\x20'+_0x2ab7ce);}),_0x29a845[_0x6a482d(0x432)]['on']('data',_0x2bd5e6=>{const _0x1ef6a0=_0x6a482d;console['error'](_0x1ef6a0(0x22a)+_0x2bd5e6);}),_0x29a845['on'](_0x6a482d(0x639),_0x50ed3e=>{const _0x336088=_0x6a482d;_0x50ed3e!==0x0?console['error'](_0x336088(0x173)+_0x50ed3e):console[_0x336088(0x671)](_0x336088(0x621)),console['log'](_0x336088(0x680)),setTimeout(()=>process[_0x336088(0x639)](),0x2710);});}var qo=Te[a0_0x1f692e(0x205)]['join'](__dirname,'env.yml');async function Vo(_0x197a73,_0x3caf8a){const _0x2db14f=a0_0x1f692e;let _0x41aa7b=Go();_0x197a73=_0x197a73[_0x2db14f(0x38c)](_0x2db14f(0xfa),'');try{let _0x58b2e7=ue[_0x2db14f(0x205)]['readFileSync'](_0x3caf8a,_0x2db14f(0x88));_0x58b2e7=_0x58b2e7[_0x2db14f(0x38c)](/<apikey>/,_0x41aa7b),_0x58b2e7=_0x58b2e7['replace'](/<subdomain>/g,_0x197a73),ue[_0x2db14f(0x205)][_0x2db14f(0x1ec)](_0x3caf8a,_0x58b2e7,_0x2db14f(0x88)),console[_0x2db14f(0x671)]('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x486e31){console['error'](_0x2db14f(0x322),_0x486e31);}}function Bo(_0x2d556c,_0x2d893){return new Promise((_0x2b6626,_0x5d18c0)=>{const _0x9d4ce6=a0_0x37ec;let _0x5533fd=(0x0,Ae[_0x9d4ce6(0x5e3)])(_0x9d4ce6(0x68e),['certonly','--standalone','-m',_0x2d556c,'--agree-tos','-d',_0x2d893]);_0x5533fd['stdout']['on'](_0x9d4ce6(0x66f),_0x43eb34=>{const _0x3cb0e6=_0x9d4ce6;console['log'](_0x3cb0e6(0x684)+_0x43eb34[_0x3cb0e6(0x6bc)]());}),_0x5533fd[_0x9d4ce6(0x432)]['on'](_0x9d4ce6(0x66f),_0x4ffbbb=>{const _0x2315a1=_0x9d4ce6;console['error'](_0x2315a1(0x69c)+_0x4ffbbb[_0x2315a1(0x6bc)]());}),_0x5533fd['on'](_0x9d4ce6(0x274),_0x15bb48=>{const _0x5e9d68=_0x9d4ce6;_0x15bb48!==0x0?(console[_0x5e9d68(0x6ad)]('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x15bb48),_0x5d18c0(_0x5e9d68(0x1ea)+_0x15bb48)):(console[_0x5e9d68(0x671)](_0x5e9d68(0x47d)),_0x2b6626());});});}function Go(_0x39b7b1=0x32){const _0x2da124=a0_0x1f692e;let _0x27713e=_0x2da124(0x64d),_0x28039e='';for(let _0x594328=0x0;_0x594328<_0x39b7b1;_0x594328++)_0x28039e+=_0x27713e[_0x2da124(0xbd)](Math[_0x2da124(0x336)](Math[_0x2da124(0xb8)]()*_0x27713e[_0x2da124(0x3f3)]));return _0x28039e;}function Wo(){const _0x2a2d5b=a0_0x1f692e;(0x0,Ae[_0x2a2d5b(0x688)])(_0x2a2d5b(0x3dc),(_0x472ab2,_0x41ad3f,_0x247a3f)=>{const _0x439335=_0x2a2d5b;if(_0x472ab2){console[_0x439335(0x6ad)](_0x439335(0x605)+_0x472ab2);return;}if(_0x247a3f){console[_0x439335(0x6ad)](_0x439335(0x5cc)+_0x247a3f);return;}console[_0x439335(0x671)](_0x439335(0xa9)+_0x41ad3f);});}0x0&&(module[a0_0x1f692e(0x2cc)]={'subdomain':subdomain});