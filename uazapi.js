const a0_0xf534fa=a0_0x1d3d;(function(_0x2db358,_0x2f6926){const _0x393924=a0_0x1d3d,_0x5c6e30=_0x2db358();while(!![]){try{const _0x1aa6eb=-parseInt(_0x393924(0x64b))/0x1+-parseInt(_0x393924(0x806))/0x2*(-parseInt(_0x393924(0x3a4))/0x3)+-parseInt(_0x393924(0x720))/0x4+-parseInt(_0x393924(0x72c))/0x5+-parseInt(_0x393924(0x5ef))/0x6+-parseInt(_0x393924(0x6f3))/0x7+parseInt(_0x393924(0x213))/0x8;if(_0x1aa6eb===_0x2f6926)break;else _0x5c6e30['push'](_0x5c6e30['shift']());}catch(_0x5a4a9a){_0x5c6e30['push'](_0x5c6e30['shift']());}}}(a0_0x1849,0x558a2));var Gi=Object[a0_0xf534fa(0x4a4)],Ue=Object[a0_0xf534fa(0x1bd)],Bi=Object['getOwnPropertyDescriptor'],Wi=Object['getOwnPropertyNames'],zi=Object[a0_0xf534fa(0x5da)],Hi=Object['prototype'][a0_0xf534fa(0x6f5)],Ki=(_0x30c9be,_0x5f087c)=>{for(var _0x2468f5 in _0x5f087c)Ue(_0x30c9be,_0x2468f5,{'get':_0x5f087c[_0x2468f5],'enumerable':!0x0});},qs=(_0x1bdc68,_0x2beeba,_0x38fac3,_0x3a557d)=>{const _0x4877d=a0_0xf534fa;if(_0x2beeba&&typeof _0x2beeba==_0x4877d(0x71e)||typeof _0x2beeba==_0x4877d(0x35f)){for(let _0x2c4847 of Wi(_0x2beeba))!Hi['call'](_0x1bdc68,_0x2c4847)&&_0x2c4847!==_0x38fac3&&Ue(_0x1bdc68,_0x2c4847,{'get':()=>_0x2beeba[_0x2c4847],'enumerable':!(_0x3a557d=Bi(_0x2beeba,_0x2c4847))||_0x3a557d[_0x4877d(0x67d)]});}return _0x1bdc68;},R=(_0x28fe2d,_0x50ca57,_0x283fde)=>(_0x283fde=_0x28fe2d!=null?Gi(zi(_0x28fe2d)):{},qs(_0x50ca57||!_0x28fe2d||!_0x28fe2d['__esModule']?Ue(_0x283fde,a0_0xf534fa(0x311),{'value':_0x28fe2d,'enumerable':!0x0}):_0x283fde,_0x28fe2d)),Qi=_0x546e39=>qs(Ue({},'__esModule',{'value':!0x0}),_0x546e39),ur={};Ki(ur,{'fullURL':()=>js,'subdomain':()=>W}),module['exports']=Qi(ur);var Li=R(require('compression')),Gs=require('fs'),Bs=require(a0_0xf534fa(0x469)),Ws=require(a0_0xf534fa(0x875)),je=require(a0_0xf534fa(0x875)),re=process['cwd'](),fe=(0x0,je[a0_0xf534fa(0x48a)])(re,a0_0xf534fa(0x621)),Vs=(0x0,je['join'])(re,a0_0xf534fa(0x5bc)),sn=(0x0,je[a0_0xf534fa(0x48a)])(re,'store','auth'),cs=class{constructor(){const _0x49dffa=a0_0xf534fa;this[_0x49dffa(0x77e)]();}[a0_0xf534fa(0x71f)](_0x4da186){const _0x39c798=a0_0xf534fa;return this[_0x39c798(0x3e2)][_0x4da186];}[a0_0xf534fa(0x77e)](){const _0x2fe840=a0_0xf534fa;this[_0x2fe840(0x3e2)]=process[_0x2fe840(0x3e2)]?.[_0x2fe840(0x1f4)]!==_0x2fe840(0x3d8)?this[_0x2fe840(0x4ce)]():this[_0x2fe840(0x4b1)](),process['env']?.[_0x2fe840(0x1f4)]===_0x2fe840(0x3d8)&&(this[_0x2fe840(0x3e2)][_0x2fe840(0x69e)][_0x2fe840(0x79a)]=_0x2fe840(0x26d),this[_0x2fe840(0x3e2)][_0x2fe840(0x69e)]['PORT']=Number['parseInt'](process['env']?.[_0x2fe840(0x5a5)]??_0x2fe840(0x304)));}[a0_0xf534fa(0x4ce)](){const _0xe8c323=a0_0xf534fa;return(0x0,Bs[_0xe8c323(0x6a5)])((0x0,Gs['readFileSync'])((0x0,Ws[_0xe8c323(0x48a)])(Vs,'../env.yml'),{'encoding':'utf-8'}));}[a0_0xf534fa(0x4b1)](){const _0x396589=a0_0xf534fa;return{'SERVER':{'TYPE':process[_0x396589(0x3e2)]['SERVER_TYPE'],'PORT':Number[_0x396589(0x1c9)](process[_0x396589(0x3e2)][_0x396589(0x5a5)]),'URL':process[_0x396589(0x3e2)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x396589(0x3e2)][_0x396589(0x345)]['split'](','),'METHODS':process[_0x396589(0x3e2)][_0x396589(0x2c3)]['split'](','),'CREDENTIALS':process[_0x396589(0x3e2)]?.['CORS_CREDENTIALS']===_0x396589(0x3d8)},'SSL_CONF':{'PRIVKEY':process[_0x396589(0x3e2)]?.[_0x396589(0x809)],'FULLCHAIN':process['env']?.[_0x396589(0x207)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process['env']?.[_0x396589(0x3e6)])?Number[_0x396589(0x1c9)](process[_0x396589(0x3e2)]['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process['env']?.['STORE_MESSAGE']===_0x396589(0x3d8),'CONTACTS':process[_0x396589(0x3e2)]?.[_0x396589(0x595)]===_0x396589(0x3d8),'CHATS':process[_0x396589(0x3e2)]?.['STORE_CHATS']===_0x396589(0x3d8)},'DATABASE':{'CONNECTION':{'HOST':process[_0x396589(0x3e2)]?.[_0x396589(0x70b)],'PORT':Number[_0x396589(0x1c9)](process[_0x396589(0x3e2)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x396589(0x3e2)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x396589(0x3e2)]['DATABASE_CONNECTION_PASSWORD'],'URI':process['env'][_0x396589(0x1d9)],'DB_PREFIX_NAME':process[_0x396589(0x3e2)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0x396589(0x3e2)]?.['DATABASE_ENABLED']===_0x396589(0x3d8)},'REDIS':{'ENABLED':process[_0x396589(0x3e2)]?.[_0x396589(0x614)]===_0x396589(0x3d8),'URI':process['env'][_0x396589(0x38d)]||_0x396589(0x6c9),'PREFIX_KEY':process[_0x396589(0x3e2)][_0x396589(0x8ab)]||_0x396589(0x2cf)},'LOG':{'LEVEL':process[_0x396589(0x3e2)]?.[_0x396589(0x4bb)][_0x396589(0x520)](','),'COLOR':process[_0x396589(0x3e2)]?.[_0x396589(0x8a9)]==='true'},'PROXY':process[_0x396589(0x3e2)]?.[_0x396589(0x7d2)]===_0x396589(0x3d8),'AUTHENTICATION':{'TYPE':process[_0x396589(0x3e2)][_0x396589(0x7e3)],'API_KEY':{'KEY':process[_0x396589(0x3e2)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number['isInteger'](process['env']?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number['parseInt'](process[_0x396589(0x3e2)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x396589(0x3e2)][_0x396589(0x348)]}}};}},b=new cs(),Fi=R(require(a0_0xf534fa(0x6af))),me=R(require(a0_0xf534fa(0x3ce))),Fs=require('path'),ls=R(require(a0_0xf534fa(0x2f8))),us=(_0x283986=>(_0x283986[a0_0xf534fa(0x6e8)]=a0_0xf534fa(0x531),_0x283986['INFO']=a0_0xf534fa(0x5cb),_0x283986[a0_0xf534fa(0x7d7)]=a0_0xf534fa(0x6a8),_0x283986[a0_0xf534fa(0x455)]=a0_0xf534fa(0x51b),_0x283986[a0_0xf534fa(0x326)]='\x1b[36m',_0x283986[a0_0xf534fa(0x29f)]=a0_0xf534fa(0x58f),_0x283986[a0_0xf534fa(0x88c)]=a0_0xf534fa(0x622),_0x283986))(us||{}),zs=(_0x520d8d=>(_0x520d8d[a0_0xf534fa(0x6e8)]=a0_0xf534fa(0x65c),_0x520d8d[a0_0xf534fa(0x88c)]=a0_0xf534fa(0x219),_0x520d8d['INFO']=a0_0xf534fa(0x57f),_0x520d8d[a0_0xf534fa(0x7d7)]='\x1b[33m%s\x1b[0m',_0x520d8d[a0_0xf534fa(0x455)]=a0_0xf534fa(0x553),_0x520d8d[a0_0xf534fa(0x326)]=a0_0xf534fa(0x248),_0x520d8d[a0_0xf534fa(0x29f)]=a0_0xf534fa(0x6d1),_0x520d8d))(zs||{}),Hs=(_0x2ab3df=>(_0x2ab3df[a0_0xf534fa(0x6e8)]='LOG',_0x2ab3df[a0_0xf534fa(0x7d7)]=a0_0xf534fa(0x7d7),_0x2ab3df[a0_0xf534fa(0x37c)]=a0_0xf534fa(0x37c),_0x2ab3df['DARK']='DARK',_0x2ab3df[a0_0xf534fa(0x455)]='ERROR',_0x2ab3df[a0_0xf534fa(0x326)]='DEBUG',_0x2ab3df['VERBOSE']=a0_0xf534fa(0x29f),_0x2ab3df))(Hs||{}),Ks=(_0x403df7=>(_0x403df7[a0_0xf534fa(0x6e8)]=a0_0xf534fa(0x233),_0x403df7[a0_0xf534fa(0x37c)]=a0_0xf534fa(0x2c1),_0x403df7[a0_0xf534fa(0x7d7)]=a0_0xf534fa(0x760),_0x403df7[a0_0xf534fa(0x88c)]=a0_0xf534fa(0x79d),_0x403df7[a0_0xf534fa(0x455)]=a0_0xf534fa(0x2ed),_0x403df7[a0_0xf534fa(0x326)]=a0_0xf534fa(0x6d7),_0x403df7[a0_0xf534fa(0x29f)]='\x1b[47m',_0x403df7))(Ks||{}),N=class{constructor(_0x306457=a0_0xf534fa(0x821)){const _0xa7f1e8=a0_0xf534fa;this[_0xa7f1e8(0x4fa)]=_0x306457,this['configService']=b;}[a0_0xf534fa(0x32f)](_0x38d7ed){const _0x29f50e=a0_0xf534fa;this[_0x29f50e(0x4fa)]=_0x38d7ed;}[a0_0xf534fa(0x557)](_0x285f71,_0x596597){const _0x219506=a0_0xf534fa;let _0x205fd4=[];this[_0x219506(0x7dd)][_0x219506(0x71f)](_0x219506(0x6e8))['LEVEL'][_0x219506(0x753)](_0x4254c2=>_0x205fd4['push'](Hs[_0x4254c2]));let _0x19e62b=typeof _0x285f71;_0x205fd4[_0x219506(0x89d)](_0x596597)&&(b['get'](_0x219506(0x6e8))[_0x219506(0x320)]?(console[_0x219506(0x2a2)]('\x1b[1m'+zs[_0x596597],_0x219506(0x6c5),(0x0,ls[_0x219506(0x311)])()[_0x219506(0x85f)](_0x219506(0x6aa)),'\x1b[0m',us[_0x596597]+Ks[_0x596597]+_0x219506(0x227),_0x596597+_0x219506(0x1a0),_0x219506(0x880),this[_0x219506(0x4fa)]+_0x219506(0x5e2),us[_0x596597],_0x19e62b!=='object'?_0x285f71:'','\x1b[0m'),_0x19e62b===_0x219506(0x71e)&&console[_0x219506(0x2a2)](_0x285f71,'\x0a')):console[_0x219506(0x2a2)]((0x0,ls[_0x219506(0x311)])()[_0x219506(0x85f)](_0x219506(0x344)),_0x596597+'\x20',''+this[_0x219506(0x4fa)],_0x285f71));}[a0_0xf534fa(0x2a2)](_0x43d7b1){const _0x47b5d7=a0_0xf534fa;this[_0x47b5d7(0x557)](_0x43d7b1,_0x47b5d7(0x6e8));}[a0_0xf534fa(0x8d8)](_0x24f5e7){const _0x8298ba=a0_0xf534fa;this['console'](_0x24f5e7,_0x8298ba(0x37c));}[a0_0xf534fa(0x193)](_0x2efc0e){const _0x9ff23f=a0_0xf534fa;this[_0x9ff23f(0x557)](_0x2efc0e,_0x9ff23f(0x7d7));}[a0_0xf534fa(0x1c2)](_0x23f86b){const _0x1f9784=a0_0xf534fa;this[_0x1f9784(0x557)](_0x23f86b,_0x1f9784(0x455));}[a0_0xf534fa(0x6f6)](_0x40e116){const _0x13d7aa=a0_0xf534fa;this[_0x13d7aa(0x557)](_0x40e116,_0x13d7aa(0x29f));}[a0_0xf534fa(0x7aa)](_0xe95d57){const _0x180af2=a0_0xf534fa;this[_0x180af2(0x557)](_0xe95d57,_0x180af2(0x326));}[a0_0xf534fa(0x512)](_0x46d073){const _0x239bcf=a0_0xf534fa;this['console'](_0x46d073,_0x239bcf(0x88c));}};function Qs(){const _0x28e3ff=a0_0xf534fa;process['on'](_0x28e3ff(0x255),(_0x303a7f,_0x1f7cea)=>{const _0x6c3b24=_0x28e3ff;new N(_0x6c3b24(0x255))['error']({'origin':_0x1f7cea,'stderr':process[_0x6c3b24(0x3fb)]['fd'],'error':_0x303a7f});}),process['on'](_0x28e3ff(0x468),(_0x75fe7d,_0x42fcc1)=>{const _0x3b370e=_0x28e3ff;new N(_0x3b370e(0x468))[_0x3b370e(0x1c2)]({'origin':_0x42fcc1,'stderr':process['stderr']['fd'],'error':_0x75fe7d});});}var Ys=R(require(a0_0xf534fa(0x26a))),ds=new Ys[(a0_0xf534fa(0x311))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),we=require(a0_0xf534fa(0x651)),Ne=R(require(a0_0xf534fa(0x651))),Je=new N(a0_0xf534fa(0x544)),k=b[a0_0xf534fa(0x71f)](a0_0xf534fa(0x671)),$=k['ENABLED']?k[a0_0xf534fa(0x5db)][a0_0xf534fa(0x3fc)]?Ne[a0_0xf534fa(0x311)][a0_0xf534fa(0x891)](k[a0_0xf534fa(0x5db)][a0_0xf534fa(0x3fc)],{'dbName':k[a0_0xf534fa(0x5db)][a0_0xf534fa(0x240)]+a0_0xf534fa(0x351)}):Ne[a0_0xf534fa(0x311)][a0_0xf534fa(0x891)](a0_0xf534fa(0x8ae)+k['CONNECTION'][a0_0xf534fa(0x775)]+':'+k[a0_0xf534fa(0x5db)]['PORT']+a0_0xf534fa(0x6dd),{'user':k['CONNECTION']['USER'],'pass':k['CONNECTION']['PASSWORD'],'dbName':k[a0_0xf534fa(0x5db)][a0_0xf534fa(0x240)]+'-whatsapp-api'}):null;function a0_0x1d3d(_0x926aa2,_0x3608c8){const _0x1849a3=a0_0x1849();return a0_0x1d3d=function(_0x1d3dbd,_0x38c6cd){_0x1d3dbd=_0x1d3dbd-0x193;let _0x2f9871=_0x1849a3[_0x1d3dbd];return _0x2f9871;},a0_0x1d3d(_0x926aa2,_0x3608c8);}k[a0_0xf534fa(0x4f1)]&&Je[a0_0xf534fa(0x8d8)](a0_0xf534fa(0x4a0)+$[a0_0xf534fa(0x1ae)]);var ne=k[a0_0xf534fa(0x4f1)]?k[a0_0xf534fa(0x5db)][a0_0xf534fa(0x3fc)]?Ne[a0_0xf534fa(0x311)][a0_0xf534fa(0x891)](k[a0_0xf534fa(0x5db)][a0_0xf534fa(0x3fc)],{'dbName':a0_0xf534fa(0x5b3)}):Ne[a0_0xf534fa(0x311)][a0_0xf534fa(0x891)](a0_0xf534fa(0x8ae)+k['CONNECTION'][a0_0xf534fa(0x775)]+':'+k[a0_0xf534fa(0x5db)]['PORT']+'?authSource=admin&readPreference=primary&directConnection=true',{'user':k[a0_0xf534fa(0x5db)][a0_0xf534fa(0x3b4)],'pass':k[a0_0xf534fa(0x5db)][a0_0xf534fa(0x465)],'dbName':a0_0xf534fa(0x2e3)}):null;ne&&Je[a0_0xf534fa(0x8d8)]('ON\x20-\x20dbName:\x20'+ne[a0_0xf534fa(0x1ae)]),process['on'](a0_0xf534fa(0x33d),()=>{const _0x121e29=a0_0xf534fa;$&&$[_0x121e29(0x75e)](()=>{const _0x25fdb0=_0x121e29;Je[_0x25fdb0(0x8d8)](_0x25fdb0(0x2b3));}),ne&&ne[_0x121e29(0x75e)](()=>{const _0x1f8ab0=_0x121e29;Je[_0x1f8ab0(0x8d8)]('CacheContacts\x20database\x20connection\x20closed.');});});var Yi=new we[(a0_0xf534fa(0x22f))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xi=new we[(a0_0xf534fa(0x22f))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Zi=new we[(a0_0xf534fa(0x22f))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),eo=new we['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yi],'default':[]}},{'_id':!0x1}),to=new we[(a0_0xf534fa(0x22f))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':eo,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Xi},'groupdata':{'type':Zi,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Xs=_0x2aa04c=>{const _0x44e3bf=a0_0xf534fa;let _0x3bbff9='z_'+_0x2aa04c+_0x44e3bf(0x71c);return $?.[_0x44e3bf(0x8e2)](_0x44e3bf(0x257),to,_0x3bbff9);},Zs=require('mongoose'),so=new Zs['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ea=_0x223821=>{const _0xe6af06=a0_0xf534fa;let _0x10ad21='z_'+_0x223821+_0xe6af06(0x626);return $?.[_0xe6af06(0x8e2)](_0xe6af06(0x4ab),so,_0x10ad21);},ta=require(a0_0xf534fa(0x651)),ps=class{},ao=new ta[(a0_0xf534fa(0x22f))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),sa=ne?.[a0_0xf534fa(0x8e2)](ps[a0_0xf534fa(0x232)],ao,'ContactsAndGroups'),aa=require(a0_0xf534fa(0x651)),hs=class{},io=new aa[(a0_0xf534fa(0x22f))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),qe=ne?.[a0_0xf534fa(0x8e2)](hs['name'],io,a0_0xf534fa(0x621)),ia=require(a0_0xf534fa(0x651)),oo=new ia[(a0_0xf534fa(0x22f))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),oa=_0x33d278=>{const _0x1bf445=a0_0xf534fa;let _0x30f8d6='z_'+_0x33d278+_0x1bf445(0x6d9);return $?.['model']('MessageModel',oo,_0x30f8d6);},ra=require(a0_0xf534fa(0x651)),gs=class{},ro=new ra[(a0_0xf534fa(0x22f))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),na=$?.[a0_0xf534fa(0x8e2)](gs[a0_0xf534fa(0x232)],ro,a0_0xf534fa(0x8d4)),ca=require(a0_0xf534fa(0x651)),ms=class{},la=new ca[(a0_0xf534fa(0x22f))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});la[a0_0xf534fa(0x661)](a0_0xf534fa(0x5b4),function(_0x2aa583){const _0x5bb874=a0_0xf534fa;delete this[_0x5bb874(0x4e5)],delete this['flowIgnoreGroups'],delete this[_0x5bb874(0x87e)],delete this[_0x5bb874(0x1c6)],delete this[_0x5bb874(0x42a)],_0x2aa583();});var ua=$?.[a0_0xf534fa(0x8e2)](ms[a0_0xf534fa(0x232)],la,a0_0xf534fa(0x2a5)),_=require(a0_0xf534fa(0x651)),fs=require(a0_0xf534fa(0x3b9)),Ve=class{},pa=new _[(a0_0xf534fa(0x22f))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ws=new _[(a0_0xf534fa(0x22f))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),no=new _[(a0_0xf534fa(0x22f))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0xf534fa(0x7b0)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0xf534fa(0x4e7)},'pollErrorMessage':{'type':String,'default':a0_0xf534fa(0x82d)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ha=new _[(a0_0xf534fa(0x22f))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),co=new _['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),lo=new _[(a0_0xf534fa(0x22f))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ss=new _[(a0_0xf534fa(0x22f))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),uo=new _['Schema']({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ga=new _[(a0_0xf534fa(0x22f))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':no},'apirequest':co,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':uo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ma=new _[(a0_0xf534fa(0x22f))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ys=class{},fa=new _[(a0_0xf534fa(0x22f))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Ss],'blocks':[ga],'groups':[pa],'conditions':[ha],'varedits':[ma],'replyOptions':{'type':[ws],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x57da55=a0_0xf534fa;return _0x57da55(0x314)+Math[_0x57da55(0x48d)]()[_0x57da55(0x7f7)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0xf534fa(0x6e7)},'startID':{'type':String,'default':()=>(0x0,fs['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,fs['v4'])()},'shareOwners':{'type':[String],'default':[]}});fa[a0_0xf534fa(0x661)](a0_0xf534fa(0x6fc),function(_0x51e8fb){const _0x104e57=a0_0xf534fa;let _0x1d3e88=this['getUpdate']();if(_0x1d3e88&&typeof _0x1d3e88==_0x104e57(0x71e)&&'$set'in _0x1d3e88){let _0x213853=_0x1d3e88[_0x104e57(0x1c3)];if(_0x213853){let _0x5cb716=new Set(),_0x2c5555=new Set(_0x213853[_0x104e57(0x7f4)]?.['map'](_0x2c3fe7=>_0x2c3fe7[_0x104e57(0x232)])),_0x245314=JSON[_0x104e57(0x6f0)](_0x213853),_0x122818=/{{(?!_)([^}]*)}}/g,_0x5516e5;for(;(_0x5516e5=_0x122818[_0x104e57(0x887)](_0x245314))!==null;)_0x2c5555[_0x104e57(0x8a7)](_0x5516e5[0x1])||_0x5cb716[_0x104e57(0x1eb)](_0x5516e5[0x1]);_0x5cb716[_0x104e57(0x8c9)]>0x0?(console[_0x104e57(0x193)](_0x104e57(0x6a1),Array['from'](_0x5cb716)),_0x213853['variablesNotFound']=Array[_0x104e57(0x831)](_0x5cb716)):_0x213853[_0x104e57(0x596)]=[],this[_0x104e57(0x5be)]({'$set':_0x213853});}}_0x51e8fb();});var ye=$?.[a0_0xf534fa(0x8e2)](ys['name'],fa,'allFlows'),po=new _[(a0_0xf534fa(0x22f))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Ss],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[lo]},{'_id':!0x1}),ho=new _['Schema']({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Ss],'blocks':[ga],'groups':[pa],'conditions':[ha],'varedits':[ma],'replyOptions':{'type':[ws],'default':[]},'chatLog':po,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0xf534fa(0x4e7)},'waitingMenu_replyOptions':{'type':[ws],'default':[]}}),wa=_0x366723=>{const _0xdc8f13=a0_0xf534fa;let _0x23595e='z_'+_0x366723+_0xdc8f13(0x49f);return $?.[_0xdc8f13(0x8e2)](_0xdc8f13(0x2be),ho,_0x23595e);},go=new _['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),da=new _[(a0_0xf534fa(0x22f))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),mo=new _[(a0_0xf534fa(0x22f))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[da],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0xf534fa(0x48f)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[go],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':da,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),ya=_0x5613c1=>{const _0x53afb8=a0_0xf534fa;let _0x1392ff='z_'+_0x5613c1+'_ScheduleMessages';return $?.[_0x53afb8(0x8e2)]('ScheduleMessageModel',mo,_0x1392ff);},bs=class{},fo=new _[(a0_0xf534fa(0x22f))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),wo=new _[(a0_0xf534fa(0x22f))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),yo=new _['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),bo=new _[(a0_0xf534fa(0x22f))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0xf534fa(0x6cf)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),So=new _[(a0_0xf534fa(0x22f))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Mo=new _[(a0_0xf534fa(0x22f))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[So]},'customFields':{'type':[yo]},'flowConfig':{'type':bo,'default':{}},'flows':{'type':[wo],'default':[]},'autoCompleteMessages':{'type':[fo],'default':[]}}),$e=$?.[a0_0xf534fa(0x8e2)](bs[a0_0xf534fa(0x232)],Mo,a0_0xf534fa(0x877)),ba=require(a0_0xf534fa(0x651)),Co=new ba[(a0_0xf534fa(0x22f))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Sa=_0x535b51=>{const _0x348666=a0_0xf534fa;let _0x4c9022='z_'+_0x535b51+'_Labels';return $?.[_0x348666(0x8e2)](_0x348666(0x3c6),Co,_0x4c9022);},T=class{constructor(_0x251d96){const _0x4ec121=a0_0xf534fa;this['dbSettings']=_0x251d96[_0x4ec121(0x71f)]('DATABASE');}};function A(_0x4ca77c){const _0x2a8618=a0_0xf534fa;let _0x14521f={};for(let [_0x1873c6,_0x1a7bec]of Object['entries'](_0x4ca77c))if(typeof _0x1a7bec==_0x2a8618(0x71e)&&!Array[_0x2a8618(0x6db)](_0x1a7bec)){for(let [_0x753b63,_0x799a94]of Object[_0x2a8618(0x3aa)](_0x1a7bec))_0x14521f[_0x1873c6+'.'+_0x753b63]=_0x799a94;}else _0x14521f[_0x1873c6]=_0x1a7bec;return _0x14521f;}var Ge=class{constructor(_0x2c092b,_0x147279,_0x517812,_0x1cbe50,_0x151fe0,_0x54c58c,_0x3cb319,_0x5498bd,_0x4799d7,_0x8b6ad5,_0x5cd7d4,_0x5edff5,_0x11d861){const _0x3b4335=a0_0xf534fa;this[_0x3b4335(0x6c6)]=_0x2c092b,this[_0x3b4335(0x803)]=_0x147279,this[_0x3b4335(0x366)]=_0x517812,this[_0x3b4335(0x756)]=_0x1cbe50,this[_0x3b4335(0x2a5)]=_0x151fe0,this[_0x3b4335(0x7cc)]=_0x54c58c,this[_0x3b4335(0x47a)]=_0x3cb319,this[_0x3b4335(0x66e)]=_0x5498bd,this['flowConversation']=_0x4799d7,this[_0x3b4335(0x5c4)]=_0x8b6ad5,this['scheduleMessage']=_0x5cd7d4,this[_0x3b4335(0x828)]=_0x5edff5,this['dbClient']=_0x11d861;}get[a0_0xf534fa(0x334)](){const _0x4d401f=a0_0xf534fa;return this[_0x4d401f(0x1e9)];}},Be=class{},We=class extends T{[a0_0xf534fa(0x81e)](_0x489bcd){return oa(_0x489bcd);}async['insert'](_0x174993,_0x4c0ee0){const _0x3153d4=a0_0xf534fa;if(_0x174993[_0x3153d4(0x847)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x3153d4(0x81e)](_0x4c0ee0)[_0x3153d4(0x535)]([..._0x174993]))[_0x3153d4(0x847)]};}catch(_0x152972){return _0x152972;}}async['find'](_0x20c13d,_0x489727){const _0x35ee8a=a0_0xf534fa;try{let _0x198d3d=this[_0x35ee8a(0x81e)](_0x489727),_0x28c2e4=A(_0x20c13d[_0x35ee8a(0x867)]);return await _0x198d3d[_0x35ee8a(0x525)](_0x28c2e4)[_0x35ee8a(0x211)]({'messageTimestamp':-0x1})[_0x35ee8a(0x321)](_0x20c13d?.[_0x35ee8a(0x321)]??0x0)['lean']();}catch{return[];}}async[a0_0xf534fa(0x4ee)](_0x6839b7,_0x9f14a6){const _0x53c1ea=a0_0xf534fa;try{let _0x22fb5d=this[_0x53c1ea(0x81e)](_0x9f14a6),_0xeb12a5=A(_0x6839b7[_0x53c1ea(0x867)]);await _0x22fb5d[_0x53c1ea(0x811)](_0xeb12a5);}catch(_0x2ed08e){console['error'](_0x2ed08e);}}async[a0_0xf534fa(0x1bb)](_0x374bb9,_0x687fd,_0x237532){const _0x3a75c2=a0_0xf534fa;try{let _0x27fb25=this[_0x3a75c2(0x81e)](_0x237532),_0x2b54cb=A(_0x374bb9[_0x3a75c2(0x867)]);return await _0x27fb25[_0x3a75c2(0x6fc)](_0x2b54cb,{'$set':_0x687fd},{'new':!0x0});}catch(_0x2e9606){throw console[_0x3a75c2(0x1c2)](_0x2e9606),_0x2e9606;}}async['insertMany'](_0x1c9182,_0x1ebc58){const _0x450093=a0_0xf534fa;if(_0x1c9182[_0x450093(0x847)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x450093(0x81e)](_0x1ebc58)[_0x450093(0x535)]([..._0x1c9182]))[_0x450093(0x847)]};}catch(_0x4ec78a){return console[_0x450093(0x2a2)]('ERROR:\x20',_0x4ec78a),_0x4ec78a;}}async[a0_0xf534fa(0x8ad)](_0x192e58){const _0x2f7dad=a0_0xf534fa;try{return await this[_0x2f7dad(0x81e)](_0x192e58)['collection'][_0x2f7dad(0x25b)](),{'success':!0x0};}catch(_0x5a54f1){return console['error'](_0x5a54f1),{'success':!0x1,'error':_0x5a54f1};}}},Ts=R(require(a0_0xf534fa(0x1dd))),w=R(require(a0_0xf534fa(0x524))),De=require('fs'),L=R(require(a0_0xf534fa(0x875))),Q=R(require(a0_0xf534fa(0x3c1))),Ri=require('uuid'),Ai=R(require(a0_0xf534fa(0x46e))),Ii=R(require(a0_0xf534fa(0x810))),Ma=['imageMessage',a0_0xf534fa(0x7f9),'audioMessage',a0_0xf534fa(0x650),a0_0xf534fa(0x654)],Ca=['ephemeralMessage',a0_0xf534fa(0x6ef),a0_0xf534fa(0x7e6),a0_0xf534fa(0x667)],Os=require('os'),kt=R(require(a0_0xf534fa(0x405))),Pe=require(a0_0xf534fa(0x21d)),Ti=require(a0_0xf534fa(0x805)),pe=R(require(a0_0xf534fa(0x651))),D=require(a0_0xf534fa(0x39e)),ce=class{constructor(_0x445534,_0x490a18,_0x2942ba){const _0x33278d=a0_0xf534fa;this['jid']=_0x445534,this[_0x33278d(0x2b6)]=_0x490a18,this[_0x33278d(0x232)]=_0x2942ba;}},ze=class{},He=class{},Re=class{},Ke=class{},Qe=class{},be=class{},Ye=class{},Xe=class{},Ze=class{},et=class{},Tt=R(require(a0_0xf534fa(0x3ce))),Ea=require('fs'),va=require('path');async function Ae(_0x4bdbb5){const _0xcbab56=a0_0xf534fa;let _0x39ecf4=G[_0xcbab56(0x7dc)][_0x4bdbb5];if(k['ENABLED']){let _0x5ba59=$[_0xcbab56(0x574)]()['db'](k[_0xcbab56(0x5db)]['DB_PREFIX_NAME']+'-instances')[_0xcbab56(0x22c)](_0x4bdbb5);return _0x39ecf4||(await _0x5ba59[_0xcbab56(0x525)]({})['toArray']())[_0xcbab56(0x847)]>0x0;}return _0x39ecf4||(0x0,Ea['existsSync'])((0x0,va[_0xcbab56(0x48a)])(fe,_0x4bdbb5));}async function Na(_0x1ffbef,_0x4a6ddb,_0x17d344){const _0x2ac5b9=a0_0xf534fa;if(_0x1ffbef[_0x2ac5b9(0x6ec)]['includes'](_0x2ac5b9(0x517))||_0x1ffbef[_0x2ac5b9(0x6ec)]['includes'](_0x2ac5b9(0x646))||_0x1ffbef[_0x2ac5b9(0x6ec)]['includes']('/exit')||_0x1ffbef[_0x2ac5b9(0x6ec)][_0x2ac5b9(0x89d)](_0x2ac5b9(0x308))||_0x1ffbef[_0x2ac5b9(0x6ec)][_0x2ac5b9(0x89d)]('/instance/connect')||_0x1ffbef[_0x2ac5b9(0x6ec)]['includes'](_0x2ac5b9(0x3b7))||_0x1ffbef[_0x2ac5b9(0x6ec)][_0x2ac5b9(0x89d)](_0x2ac5b9(0x6de)))return _0x17d344();let _0x508635=_0x1ffbef[_0x2ac5b9(0x601)];if(!_0x508635?.['instanceName'])throw new m(_0x2ac5b9(0x420));if(!await Ae(_0x508635['instanceName']))throw new F('The\x20'+_0x508635['instanceName']+'\x20instance\x20does\x20not\x20exist');_0x17d344();}async function $a(_0x326e04,_0x25fb52,_0x65f135){const _0x272d94=a0_0xf534fa;if(_0x326e04[_0x272d94(0x6ec)][_0x272d94(0x89d)](_0x272d94(0x517))){let _0x3fd708=_0x326e04[_0x272d94(0x8dd)];if(await Ae(_0x3fd708[_0x272d94(0x653)]))throw new X(_0x272d94(0x2c6)+_0x3fd708['instanceName']+_0x272d94(0x7c2));G[_0x272d94(0x7dc)][_0x3fd708[_0x272d94(0x653)]]&&delete G[_0x272d94(0x7dc)][_0x3fd708[_0x272d94(0x653)]];}_0x65f135();}var Ra=require(a0_0xf534fa(0x39e)),Aa=R(require('jsonwebtoken')),tt=a0_0xf534fa(0x2cf),vo=new N(a0_0xf534fa(0x38e));async function No(_0x3ae51b,_0x4a56f9,_0x2171a5){const _0x3f5003=a0_0xf534fa;let _0x1e1947=_0x3ae51b[_0x3f5003(0x71f)]('apikey');if(_0x1e1947&&b['get']('AUTHENTICATION')['API_KEY'][_0x3f5003(0x438)]!==_0x1e1947)throw new ie();if(b[_0x3f5003(0x71f)](_0x3f5003(0x3bf))['API_KEY']['KEY']===_0x1e1947)return _0x2171a5();if((_0x3ae51b[_0x3f5003(0x6ec)][_0x3f5003(0x89d)]('/instance/create')||_0x3ae51b[_0x3f5003(0x6ec)][_0x3f5003(0x89d)]('/instance/fetchInstances'))&&!_0x1e1947)throw new X(_0x3f5003(0x597),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x49de88=b['get']('AUTHENTICATION')['JWT'];try{let [_0x2bf923,_0x45c518]=_0x3ae51b[_0x3f5003(0x71f)](_0x3f5003(0x7ec))[_0x3f5003(0x520)]('\x20');if(_0x2bf923[_0x3f5003(0x1cd)]()!==_0x3f5003(0x49e))throw new ie();if(!(0x0,Ra[_0x3f5003(0x408)])(_0x45c518))throw new ie();let _0x19dc81=_0x3ae51b[_0x3f5003(0x601)],_0x3c098d=Aa['default'][_0x3f5003(0x256)](_0x45c518,_0x49de88['SECRET'],{'ignoreExpiration':_0x49de88[_0x3f5003(0x88b)]===0x0});if(_0x19dc81[_0x3f5003(0x653)]!==_0x3c098d[_0x3f5003(0x653)]||tt!==_0x3c098d[_0x3f5003(0x4f2)])throw new ie();return _0x2171a5();}catch(_0x1644f5){throw vo[_0x3f5003(0x1c2)](_0x1644f5),new ie();}}async function $o(_0x6ae27e,_0x421dae,_0xcc6741){const _0x598f45=a0_0xf534fa;let _0x17a596=b[_0x598f45(0x71f)]('AUTHENTICATION')[_0x598f45(0x5f5)],_0x54fe2c=_0x6ae27e[_0x598f45(0x71f)](_0x598f45(0x770));if(_0x17a596['KEY']===_0x54fe2c)return _0xcc6741();if(_0x6ae27e[_0x598f45(0x6ec)][_0x598f45(0x89d)](_0x598f45(0x517))){let _0x4dbed6=Ta,_0x2a7239=_0x6ae27e['body'][_0x598f45(0x653)];if(_0x4dbed6&&_0x2a7239[_0x598f45(0x1cd)]()[_0x598f45(0x854)](_0x4dbed6[_0x598f45(0x1cd)]()))return _0xcc6741();if(!_0x54fe2c)throw new X(_0x598f45(0x597),_0x598f45(0x7ae));}if(_0x6ae27e['originalUrl'][_0x598f45(0x89d)](_0x598f45(0x646))&&!_0x54fe2c)throw new X(_0x598f45(0x597),_0x598f45(0x7ae));if(_0x6ae27e['originalUrl'][_0x598f45(0x89d)](_0x598f45(0x5f9))&&!_0x54fe2c)throw new X(_0x598f45(0x597),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x6ae27e[_0x598f45(0x6ec)][_0x598f45(0x89d)]('/config')&&!_0x54fe2c)throw new X('Missing\x20global\x20api\x20key',_0x598f45(0x7ae));try{let _0x9a933a=_0x6ae27e[_0x598f45(0x601)],_0x2e3767=await he[_0x598f45(0x7cc)][_0x598f45(0x525)](_0x9a933a[_0x598f45(0x653)]);if(_0x2e3767&&_0x2e3767[_0x598f45(0x770)]===_0x54fe2c)return _0xcc6741();}catch{}throw new ie();}var Ia={'jwt':No,'apikey':$o},ui=require(a0_0xf534fa(0x3ce)),E=require(a0_0xf534fa(0x3b9)),C=(..._0x4cee74)=>{const _0x92b060=a0_0xf534fa;let _0x5d1521={};return _0x4cee74[_0x92b060(0x753)](_0x11c9e0=>_0x5d1521[_0x11c9e0]={'minLength':0x1,'description':_0x92b060(0x895)+_0x11c9e0+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x4cee74]}},'then':{'properties':_0x5d1521}};},v={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'instanceName':{'type':'string'}},...C(a0_0xf534fa(0x653))},mc={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'oldToken':{'type':a0_0xf534fa(0x3dd)}},'required':['oldToken'],...C(a0_0xf534fa(0x472))},fc={'properties':{'key':{'type':a0_0xf534fa(0x71e),'properties':{'id':{'type':a0_0xf534fa(0x3dd)},'remoteJid':{'type':a0_0xf534fa(0x3dd)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0xf534fa(0x281),a0_0xf534fa(0x853)],...C('id',a0_0xf534fa(0x281))},'message':{'type':a0_0xf534fa(0x71e)}}},Z={'properties':{'delay':{'type':'integer','description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0xf534fa(0x3dd),'enum':[a0_0xf534fa(0x1de),a0_0xf534fa(0x379),'composing','recording',a0_0xf534fa(0x855)]}}},H={'type':'string','description':a0_0xf534fa(0x6ab)},Oa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'options':{...Z},'textMessage':{'type':a0_0xf534fa(0x71e),'properties':{'text':{'type':a0_0xf534fa(0x3dd)}},'required':[a0_0xf534fa(0x879)],...C(a0_0xf534fa(0x879))}},'required':[a0_0xf534fa(0x6e0),a0_0xf534fa(0x4d2)]},_a={'type':a0_0xf534fa(0x3dd),'pattern':a0_0xf534fa(0x4fc),'description':'Invalid\x20format'},wc={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'number':{..._a},'options':{...Z},'textMessage':{'type':'object','properties':{'text':{'type':a0_0xf534fa(0x3dd)}},'required':[a0_0xf534fa(0x879)],...C(a0_0xf534fa(0x879))}},'required':[a0_0xf534fa(0x6e0),a0_0xf534fa(0x4d2)]},yc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{..._a},'options':{...Z},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0xf534fa(0x3dd),'enum':[a0_0xf534fa(0x35b),a0_0xf534fa(0x283),'video',a0_0xf534fa(0x1b7)]},'media':{'type':a0_0xf534fa(0x3dd)},'fileName':{'type':a0_0xf534fa(0x3dd)},'caption':{'type':'string'}},'required':[a0_0xf534fa(0x280),'media'],...C('fileName','caption','media')}},'required':[a0_0xf534fa(0x2dd),a0_0xf534fa(0x4d2)]},xa={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'number':{...H},'options':{...Z},'stickerMessage':{'type':a0_0xf534fa(0x71e),'properties':{'image':{'type':a0_0xf534fa(0x3dd)}},'required':[a0_0xf534fa(0x35b)],...C(a0_0xf534fa(0x35b))}},'required':['stickerMessage',a0_0xf534fa(0x4d2)]},Da={'$id':(0x0,E['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0xf534fa(0x71e),'properties':{'type':{'type':a0_0xf534fa(0x3dd),'enum':[a0_0xf534fa(0x879),'image',a0_0xf534fa(0x1b7),a0_0xf534fa(0x259)]},'content':{'type':'string'},'caption':{'type':a0_0xf534fa(0x3dd)},'backgroundColor':{'type':a0_0xf534fa(0x3dd)},'font':{'type':a0_0xf534fa(0x292),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0xf534fa(0x4ae),'description':a0_0xf534fa(0x7ab)}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0xf534fa(0x20f),a0_0xf534fa(0x788)],...C(a0_0xf534fa(0x20f),a0_0xf534fa(0x788))}},'required':[a0_0xf534fa(0x691)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'number':{...H},'options':{...Z},'mediaMessage':{'type':a0_0xf534fa(0x71e),'properties':{'mediatype':{'type':a0_0xf534fa(0x3dd),'enum':['image','document',a0_0xf534fa(0x259),a0_0xf534fa(0x1b7)]},'media':{'type':a0_0xf534fa(0x3dd)},'fileName':{'type':'string'},'caption':{'type':a0_0xf534fa(0x3dd)}},'required':[a0_0xf534fa(0x280),a0_0xf534fa(0x31c)],...C(a0_0xf534fa(0x6b9),'caption','media')}},'required':['mediaMessage',a0_0xf534fa(0x4d2)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'number':{...H},'options':{...Z},'audioMessage':{'type':a0_0xf534fa(0x71e),'properties':{'audio':{'type':'string'}},'required':[a0_0xf534fa(0x1b7)],...C(a0_0xf534fa(0x1b7))}},'required':[a0_0xf534fa(0x3d6),a0_0xf534fa(0x4d2)]},La={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'number':{...H},'pollMessage':{'type':a0_0xf534fa(0x71e),'properties':{'name':{'type':a0_0xf534fa(0x3dd)},'selectableCount':{'type':a0_0xf534fa(0x4d2)},'values':{'type':a0_0xf534fa(0x2f1),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0xf534fa(0x232),a0_0xf534fa(0x6c2),'values'],...C(a0_0xf534fa(0x232),a0_0xf534fa(0x6c2),'values')}},'required':[a0_0xf534fa(0x4d2),a0_0xf534fa(0x759)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'number':{...H},'menuMessage':{'type':a0_0xf534fa(0x71e),'properties':{'text':{'type':'string'},'choices':{'type':a0_0xf534fa(0x2f1),'minItems':0x2,'uniqueItems':!0x0}},'required':['text','choices'],...C(a0_0xf534fa(0x879),a0_0xf534fa(0x2b9))}},'required':[a0_0xf534fa(0x4d2),a0_0xf534fa(0x534)]},Ua={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'options':{...Z},'buttonMessage':{'type':a0_0xf534fa(0x71e),'properties':{'title':{'type':a0_0xf534fa(0x3dd)},'description':{'type':a0_0xf534fa(0x3dd)},'footerText':{'type':a0_0xf534fa(0x3dd)},'buttons':{'type':a0_0xf534fa(0x2f1),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xf534fa(0x71e),'properties':{'buttonText':{'type':a0_0xf534fa(0x3dd)},'buttonId':{'type':a0_0xf534fa(0x3dd)}},'required':[a0_0xf534fa(0x36e),a0_0xf534fa(0x4e1)],...C(a0_0xf534fa(0x36e),'buttonId')}},'mediaMessage':{'type':a0_0xf534fa(0x71e),'properties':{'media':{'type':a0_0xf534fa(0x3dd)},'fileName':{'type':a0_0xf534fa(0x3dd)},'mediatype':{'type':a0_0xf534fa(0x3dd),'enum':[a0_0xf534fa(0x35b),a0_0xf534fa(0x283),a0_0xf534fa(0x259)]}},'required':[a0_0xf534fa(0x31c),'mediatype'],...C('media',a0_0xf534fa(0x6b9))}},'required':[a0_0xf534fa(0x355),'buttons'],...C(a0_0xf534fa(0x355),a0_0xf534fa(0x31b))}},'required':[a0_0xf534fa(0x4d2),a0_0xf534fa(0x8da)]},ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'options':{...Z},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0xf534fa(0x4d2)},'longitude':{'type':'number'},'name':{'type':a0_0xf534fa(0x3dd)},'address':{'type':'string'}},'required':[a0_0xf534fa(0x1d0),a0_0xf534fa(0x6b3)],...C('name','addresss')}},'required':['number',a0_0xf534fa(0x5c9)]},Ja={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'number':{...H},'options':{...Z},'listMessage':{'type':a0_0xf534fa(0x71e),'properties':{'title':{'type':a0_0xf534fa(0x3dd)},'description':{'type':'string'},'footerText':{'type':a0_0xf534fa(0x3dd)},'buttonText':{'type':a0_0xf534fa(0x3dd)},'sections':{'type':a0_0xf534fa(0x2f1),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xf534fa(0x71e),'properties':{'title':{'type':'string'},'rows':{'type':a0_0xf534fa(0x2f1),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xf534fa(0x71e),'properties':{'title':{'type':a0_0xf534fa(0x3dd)},'description':{'type':'string'},'rowId':{'type':a0_0xf534fa(0x3dd)}},'required':[a0_0xf534fa(0x355),a0_0xf534fa(0x31d)],...C('title',a0_0xf534fa(0x31d))}}},'required':['title','rows'],...C(a0_0xf534fa(0x355))}}},'required':[a0_0xf534fa(0x355),'description','buttonText','sections'],...C('title',a0_0xf534fa(0x31b),a0_0xf534fa(0x36e),a0_0xf534fa(0x2e0))}},'required':[a0_0xf534fa(0x4d2),a0_0xf534fa(0x20e)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'number':{...H},'options':{...Z},'contactMessage':{'type':a0_0xf534fa(0x2f1),'items':{'type':a0_0xf534fa(0x71e),'properties':{'fullName':{'type':a0_0xf534fa(0x3dd)},'phoneNumber':{'type':'string','minLength':0xa}},'required':['fullName','phoneNumber'],...C('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0xf534fa(0x4d2),a0_0xf534fa(0x5f2)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'reactionMessage':{'type':a0_0xf534fa(0x71e),'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0xf534fa(0x3dd)},'fromMe':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]}},'required':['id',a0_0xf534fa(0x281),'fromMe'],...C('id','remoteJid')},'reaction':{'type':a0_0xf534fa(0x3dd)}},'required':[a0_0xf534fa(0x693),a0_0xf534fa(0x56c)],...C(a0_0xf534fa(0x56c))}},'required':[a0_0xf534fa(0x40d)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'numbers':{'type':a0_0xf534fa(0x2f1),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xf534fa(0x3dd),'pattern':a0_0xf534fa(0x4ae),'description':a0_0xf534fa(0x51a)}}}},Ba={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'readMessages':{'type':a0_0xf534fa(0x2f1),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0xf534fa(0x3dd)},'fromMe':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0xf534fa(0x3dd)}},'required':['id',a0_0xf534fa(0x853),a0_0xf534fa(0x281)],...C('id',a0_0xf534fa(0x281))}}},'required':[a0_0xf534fa(0x413)]},Wa={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0xf534fa(0x3dd),'enum':[a0_0xf534fa(0x423),a0_0xf534fa(0x6fb)]},'profile':{'type':'string','enum':[a0_0xf534fa(0x423),'contacts','contact_blacklist',a0_0xf534fa(0x6fb)]},'status':{'type':a0_0xf534fa(0x3dd),'enum':[a0_0xf534fa(0x423),a0_0xf534fa(0x6be),a0_0xf534fa(0x331),a0_0xf534fa(0x6fb)]},'online':{'type':'string','enum':[a0_0xf534fa(0x423),a0_0xf534fa(0x245)]},'last':{'type':a0_0xf534fa(0x3dd),'enum':['all',a0_0xf534fa(0x6be),'contact_blacklist',a0_0xf534fa(0x6fb)]},'groupadd':{'type':a0_0xf534fa(0x3dd),'enum':['all',a0_0xf534fa(0x6be),a0_0xf534fa(0x331),a0_0xf534fa(0x6fb)]}},'required':[a0_0xf534fa(0x46f),a0_0xf534fa(0x890),a0_0xf534fa(0x2d2),'online','last',a0_0xf534fa(0x3cd)],...C(a0_0xf534fa(0x46f),a0_0xf534fa(0x890),a0_0xf534fa(0x2d2),a0_0xf534fa(0x4f7),a0_0xf534fa(0x1e0),a0_0xf534fa(0x3cd))}},'required':[a0_0xf534fa(0x4cf)]},za={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0xf534fa(0x71e),'properties':{'id':{'type':a0_0xf534fa(0x3dd)},'remoteJid':{'type':a0_0xf534fa(0x3dd)},'fromMe':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]}},'required':['id',a0_0xf534fa(0x853),a0_0xf534fa(0x281)],...C('id','remoteJid')},'messageTimestamp':{'type':a0_0xf534fa(0x292),'minLength':0x1}},'required':['key'],...C(a0_0xf534fa(0x27c))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0xf534fa(0x4d3),'archive']},Ha={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'id':{'type':a0_0xf534fa(0x3dd)},'fromMe':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0xf534fa(0x3dd)},'participant':{'type':a0_0xf534fa(0x3dd)}},'required':['id',a0_0xf534fa(0x853),a0_0xf534fa(0x281)],...C('id','remoteJid','participant')},Ka={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'where':{'type':a0_0xf534fa(0x71e),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0xf534fa(0x3dd),'minLength':0x1},'id':{'type':a0_0xf534fa(0x3dd),'minLength':0x1}},...C(a0_0xf534fa(0x656),'id','pushName')}}},Qa={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'name':{'type':a0_0xf534fa(0x3dd)}},...C('name')},Ya={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'status':{'type':a0_0xf534fa(0x3dd)}},...C(a0_0xf534fa(0x2d2))},Ie={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{'type':a0_0xf534fa(0x3dd)},'picture':{'type':'string'}}},Xa={'type':a0_0xf534fa(0x71e),'properties':{'wuid':{'type':a0_0xf534fa(0x3dd)},'name':{'type':a0_0xf534fa(0x3dd)},'picture':{'type':'string'},'status':{'type':a0_0xf534fa(0x3dd)},'isBusiness':{'type':'boolean'}}},Za={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'where':{'type':a0_0xf534fa(0x71e),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0xf534fa(0x853),a0_0xf534fa(0x281),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0xf534fa(0x3dd),'minLength':0x1,'description':a0_0xf534fa(0x837)},'id':{'type':'string','minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0xf534fa(0x71e)}},...C(a0_0xf534fa(0x656))},'limit':{'type':a0_0xf534fa(0x292)}}},bc={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'where':{'type':a0_0xf534fa(0x71e),'properties':{'_id':{'type':a0_0xf534fa(0x3dd)},'remoteJid':{'type':a0_0xf534fa(0x3dd)},'id':{'type':a0_0xf534fa(0x3dd)},'fromMe':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'participant':{'type':a0_0xf534fa(0x3dd)},'status':{'type':a0_0xf534fa(0x3dd),'enum':[a0_0xf534fa(0x455),a0_0xf534fa(0x588),'SERVER_ACK',a0_0xf534fa(0x5a6),a0_0xf534fa(0x540),'PLAYED']}},...C(a0_0xf534fa(0x656),'remoteJid','id',a0_0xf534fa(0x2d2))},'limit':{'type':'integer'}}},ei={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'number':{...H},'presence':{'type':'string','enum':[a0_0xf534fa(0x1de),a0_0xf534fa(0x379),'composing',a0_0xf534fa(0x253),a0_0xf534fa(0x855)]}},'required':[a0_0xf534fa(0x4d8),a0_0xf534fa(0x4d2)]},ti={'$id':(0x0,E['v4'])(),'type':'object','properties':{'subject':{'type':a0_0xf534fa(0x3dd)},'description':{'type':a0_0xf534fa(0x3dd)},'profilePicture':{'type':a0_0xf534fa(0x3dd)},'participants':{'type':a0_0xf534fa(0x2f1),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xf534fa(0x3dd),'minLength':0xa,'pattern':a0_0xf534fa(0x305),'description':a0_0xf534fa(0x252)}}},'required':['subject',a0_0xf534fa(0x6a0)],...C(a0_0xf534fa(0x1f5),'description',a0_0xf534fa(0x65f))},Te={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'groupJid':{'type':a0_0xf534fa(0x3dd),'pattern':a0_0xf534fa(0x894)}},'required':[a0_0xf534fa(0x363)],...C(a0_0xf534fa(0x363))},si={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'action':{'type':'string','enum':[a0_0xf534fa(0x1eb),a0_0xf534fa(0x8df),a0_0xf534fa(0x804),a0_0xf534fa(0x2fa),a0_0xf534fa(0x7d5),a0_0xf534fa(0x7d4)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0xf534fa(0x3dd),'minLength':0xa,'pattern':'\x5cd+','description':a0_0xf534fa(0x252)}}},'required':[a0_0xf534fa(0x363),a0_0xf534fa(0x2de),a0_0xf534fa(0x6a0)],...C(a0_0xf534fa(0x363),a0_0xf534fa(0x2de))},ai={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'groupJid':{'type':a0_0xf534fa(0x3dd)},'expiration':{'type':a0_0xf534fa(0x4d2),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0xf534fa(0x363),a0_0xf534fa(0x28c)],...C(a0_0xf534fa(0x363),a0_0xf534fa(0x28c))},ii={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0xf534fa(0x3dd)},'image':{'type':'string'}},'required':[a0_0xf534fa(0x363),a0_0xf534fa(0x35b)],...C(a0_0xf534fa(0x363),a0_0xf534fa(0x35b))},oi={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0xf534fa(0x3dd)},'description':{'type':'string'}},'required':[a0_0xf534fa(0x363),a0_0xf534fa(0x31b)],...C('groupJid',a0_0xf534fa(0x31b))},ri={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'groupJid':{'type':a0_0xf534fa(0x3dd)},'name':{'type':'string'}},'required':['groupJid',a0_0xf534fa(0x232)],...C(a0_0xf534fa(0x363),a0_0xf534fa(0x232))},ni={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'groupJid':{'type':a0_0xf534fa(0x3dd)},'setting':{'type':a0_0xf534fa(0x3dd),'enum':[a0_0xf534fa(0x830),a0_0xf534fa(0x460),'unlocked',a0_0xf534fa(0x57c)]}},'required':[a0_0xf534fa(0x363),a0_0xf534fa(0x8d0)],...C(a0_0xf534fa(0x363),a0_0xf534fa(0x8d0))},ci={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'groupJid':{'type':a0_0xf534fa(0x3dd)},'restrict':{'type':a0_0xf534fa(0x212)},'announce':{'type':a0_0xf534fa(0x212)},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0xf534fa(0x292),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0xf534fa(0x3dd)},'description':{'type':'string'},'image':{'type':a0_0xf534fa(0x3dd)}}},Ms={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'inviteCode':{'type':a0_0xf534fa(0x3dd)}},'required':[a0_0xf534fa(0x560)],...C(a0_0xf534fa(0x560))},li={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'url':{'type':a0_0xf534fa(0x3dd)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['url',a0_0xf534fa(0x633)]},Sc={'$id':(0x0,E['v4'])(),'type':a0_0xf534fa(0x71e),'properties':{'local_map':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0xf534fa(0x212),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0xf534fa(0x70f),'STATUS_INSTANCE',a0_0xf534fa(0x754),a0_0xf534fa(0x6cd),a0_0xf534fa(0x7b1),a0_0xf534fa(0x7b9),a0_0xf534fa(0x4b3),'CONTACTS_SET',a0_0xf534fa(0x767),a0_0xf534fa(0x33c),'PRESENCE_UPDATE',a0_0xf534fa(0x627),'CHATS_UPSERT',a0_0xf534fa(0x3c2),a0_0xf534fa(0x7b5),a0_0xf534fa(0x3e0),'GROUPS_UPSERT',a0_0xf534fa(0x72f),a0_0xf534fa(0x380)],...C('local_map',a0_0xf534fa(0x6b4),a0_0xf534fa(0x754),a0_0xf534fa(0x6cd),a0_0xf534fa(0x7b1),'MESSAGES_UPSERT',a0_0xf534fa(0x4b3),a0_0xf534fa(0x293),a0_0xf534fa(0x767),'CONTACTS_UPDATE',a0_0xf534fa(0x486),'CHATS_SET','CHATS_UPSERT',a0_0xf534fa(0x3c2),a0_0xf534fa(0x7b5),a0_0xf534fa(0x3e0),a0_0xf534fa(0x62b),'GROUPS_UPDATE',a0_0xf534fa(0x380))},st=class{},at=class extends T{[a0_0xf534fa(0x75f)](_0x46714b){return ea(_0x46714b);}async[a0_0xf534fa(0x710)](_0x41b080){const _0x434f65=a0_0xf534fa;if(_0x41b080[_0x434f65(0x847)]!==0x0)try{return{'insertCount':(await this[_0x434f65(0x75f)](_0x41b080[0x0][_0x434f65(0x2ad)])[_0x434f65(0x535)]([..._0x41b080]))[_0x434f65(0x847)]};}catch(_0x57de73){return _0x57de73;}}async['delete'](_0x254d26,_0x359d31){const _0x2e1237=a0_0xf534fa;try{return{'deletedCount':(await this[_0x2e1237(0x75f)](_0x359d31)[_0x2e1237(0x811)]({..._0x254d26[_0x2e1237(0x867)]}))[_0x2e1237(0x4c8)]};}catch(_0x6a9b4d){return{'error':_0x6a9b4d?.['toString']()};}}async[a0_0xf534fa(0x1bb)](_0x3869c3,_0x419e1b){const _0x2e8245=a0_0xf534fa;try{if(_0x3869c3['length']===0x0)return;let _0x5f1cde=this[_0x2e8245(0x75f)](_0x419e1b),_0x466908=_0x3869c3[_0x2e8245(0x445)](_0x3dd3ed=>({'updateOne':{'filter':{'_id':_0x3dd3ed[_0x2e8245(0x656)],'owner':_0x419e1b},'update':{..._0x3dd3ed}}})),{modifiedCount:_0x3bfa39}=await _0x5f1cde[_0x2e8245(0x44c)](_0x466908);return{'insertCount':_0x3bfa39};}catch{return;}}async[a0_0xf534fa(0x525)](_0x1974a2,_0x40733b){const _0x237a44=a0_0xf534fa;try{let _0x29abe8=this['getContactModelForOwner'](_0x40733b),_0x40ec8f=A(_0x1974a2[_0x237a44(0x867)]);return await _0x29abe8[_0x237a44(0x525)](_0x40ec8f)['limit'](_0x1974a2?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0xf534fa(0x3b6)](_0x4fd944,_0x5c7e06){const _0x4edcd1=a0_0xf534fa;try{let _0x3aaf22=this['getContactModelForOwner'](_0x5c7e06),_0x184d55=A(_0x4fd944[_0x4edcd1(0x867)]);return await _0x3aaf22['findOne'](_0x184d55)['lean']();}catch{return null;}}async['deleteAll'](_0x359413){const _0x19cb47=a0_0xf534fa;try{return await this[_0x19cb47(0x75f)](_0x359413)[_0x19cb47(0x22c)][_0x19cb47(0x25b)](),{'success':!0x0};}catch(_0x186658){return console[_0x19cb47(0x1c2)](_0x186658),{'success':!0x1,'error':_0x186658};}}},it=require(a0_0xf534fa(0x2bf)),Ic=require('express-async-errors'),Cs=new N(a0_0xf534fa(0x541)),V=class{[a0_0xf534fa(0x3db)](_0x36bcae,_0x29efbf=!0x0){let _0x119b44='/'+_0x36bcae;return _0x29efbf&&(_0x119b44+='/:instanceName'),_0x119b44;}async[a0_0xf534fa(0x637)](_0x2b6f94){const _0x1cedfe=a0_0xf534fa;let {request:_0x75ec61,schema:_0x46a767,ClassRef:_0x35b866,execute:_0x2f5c0c}=_0x2b6f94,_0x42e087=new _0x35b866(),_0x81f7eb=_0x75ec61[_0x1cedfe(0x8dd)],_0x57a855=_0x75ec61[_0x1cedfe(0x601)];_0x75ec61?.['query']&&Object[_0x1cedfe(0x725)](_0x75ec61['query'])[_0x1cedfe(0x847)]>0x0&&Object[_0x1cedfe(0x629)](_0x57a855,_0x75ec61[_0x1cedfe(0x7db)]),_0x75ec61[_0x1cedfe(0x6ec)][_0x1cedfe(0x89d)]('/instance/create')&&Object['assign'](_0x57a855,_0x81f7eb),Object[_0x1cedfe(0x629)](_0x42e087,_0x81f7eb);let _0x223e88=_0x46a767?(0x0,it[_0x1cedfe(0x608)])(_0x42e087,_0x46a767):{'valid':!0x0,'errors':[]};if(!_0x223e88[_0x1cedfe(0x3c8)]){let _0x398150=_0x223e88[_0x1cedfe(0x7ad)][_0x1cedfe(0x445)](({property:_0x2a83df,stack:_0x53255c,schema:_0x552c50})=>{const _0x1219f7=_0x1cedfe;let _0x5d4986;return _0x552c50['description']?_0x5d4986=_0x552c50[_0x1219f7(0x31b)]:_0x5d4986=_0x53255c[_0x1219f7(0x60c)](_0x1219f7(0x1f2),''),{'property':_0x2a83df['replace'](_0x1219f7(0x1f2),''),'message':_0x5d4986};});throw Cs['error']([..._0x398150]),new m(..._0x398150);}return await _0x2f5c0c(_0x57a855,_0x42e087);}async[a0_0xf534fa(0x63c)](_0x803968){const _0x15910c=a0_0xf534fa;let {request:_0x5349e1,ClassRef:_0x44b701,schema:_0x4d935c,execute:_0x9c7a74}=_0x803968,_0x38821e=_0x5349e1[_0x15910c(0x7db)];if(!_0x38821e?.[_0x15910c(0x363)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x15910c(0x62d));let _0x822c8=_0x5349e1[_0x15910c(0x601)],_0x3767bf=_0x5349e1['body'],_0x589165=new _0x44b701();Object[_0x15910c(0x629)](_0x3767bf,_0x38821e),Object['assign'](_0x589165,_0x3767bf);let _0x1ab7bb=(0x0,it['validate'])(_0x589165,_0x4d935c);if(!_0x1ab7bb['valid']){let _0x2f9e13=_0x1ab7bb[_0x15910c(0x7ad)]['map'](({property:_0x1eedbc,stack:_0x85633d,schema:_0x317c0a})=>{const _0x1ec344=_0x15910c;let _0x1fdda3;return _0x317c0a['description']?_0x1fdda3=_0x317c0a[_0x1ec344(0x31b)]:_0x1fdda3=_0x85633d[_0x1ec344(0x60c)]('instance.',''),{'property':_0x1eedbc[_0x1ec344(0x60c)](_0x1ec344(0x1f2),''),'message':_0x1fdda3};});throw Cs['error']([..._0x2f9e13]),new m(..._0x2f9e13);}return await _0x9c7a74(_0x822c8,_0x589165);}async[a0_0xf534fa(0x77a)](_0x4b3dc4){const _0x16cfcc=a0_0xf534fa;let {request:_0x27b36e,ClassRef:_0x559bb2,schema:_0x3ad8c4,execute:_0xe3f5e9}=_0x4b3dc4,_0x543c7c=_0x27b36e[_0x16cfcc(0x8dd)];if(!_0x543c7c?.[_0x16cfcc(0x560)])throw new m(_0x16cfcc(0x4df),_0x16cfcc(0x8c5));let _0x9d9c80=_0x27b36e[_0x16cfcc(0x601)],_0x3dd2b9=_0x27b36e['body'],_0x2d365e=new _0x559bb2();Object[_0x16cfcc(0x629)](_0x3dd2b9,_0x543c7c),Object[_0x16cfcc(0x629)](_0x2d365e,_0x3dd2b9);let _0x2347f8=(0x0,it['validate'])(_0x2d365e,_0x3ad8c4);if(!_0x2347f8[_0x16cfcc(0x3c8)]){let _0x52e835=_0x2347f8['errors'][_0x16cfcc(0x445)](({property:_0x564572,stack:_0x8d5b80,schema:_0x3db10d})=>{const _0x298da0=_0x16cfcc;let _0x15e34c;return _0x3db10d[_0x298da0(0x31b)]?_0x15e34c=_0x3db10d['description']:_0x15e34c=_0x8d5b80[_0x298da0(0x60c)](_0x298da0(0x1f2),''),{'property':_0x564572['replace'](_0x298da0(0x1f2),''),'message':_0x15e34c};});throw Cs[_0x16cfcc(0x1c2)]([..._0x52e835]),new m(..._0x52e835);}return await _0xe3f5e9(_0x9d9c80,_0x2d365e);}},M=class{},Gc=new N(a0_0xf534fa(0x3f0)),ot=class extends V{constructor(..._0x2cd9bf){const _0x23f14a=a0_0xf534fa;super(),this[_0x23f14a(0x3eb)]=(0x0,ui[_0x23f14a(0x372)])(),this[_0x23f14a(0x3eb)][_0x23f14a(0x2d5)](this[_0x23f14a(0x3db)](_0x23f14a(0x19f)),..._0x2cd9bf,async(_0x5d30b8,_0x1430bb)=>{const _0x2b69a7=_0x23f14a;let _0x201e47=await this['dataValidate']({'request':_0x5d30b8,'schema':ei,'ClassRef':ze,'execute':(_0x30601d,_0x2e2f80)=>x[_0x2b69a7(0x19f)](_0x30601d,_0x2e2f80)});return _0x1430bb[_0x2b69a7(0x2d2)](0xc9)[_0x2b69a7(0x5f4)](_0x201e47);})[_0x23f14a(0x2d5)](this['routerPath'](_0x23f14a(0x4b9)),..._0x2cd9bf,async(_0x1970f0,_0x5d3b52)=>{const _0x4f4991=_0x23f14a;let _0x34bad7=await this[_0x4f4991(0x637)]({'request':_0x1970f0,'schema':Ga,'ClassRef':He,'execute':(_0x45d586,_0x359768)=>x[_0x4f4991(0x862)](_0x45d586,_0x359768)});return _0x5d3b52[_0x4f4991(0x2d2)](0xc9)[_0x4f4991(0x5f4)](_0x34bad7);})[_0x23f14a(0x2d5)](this[_0x23f14a(0x3db)](_0x23f14a(0x61a)),..._0x2cd9bf,async(_0x59340e,_0x5a12ca)=>{const _0x25baf2=_0x23f14a;let _0x5be711=await this[_0x25baf2(0x637)]({'request':_0x59340e,'schema':v,'ClassRef':M,'execute':(_0x5f1eee,_0x4fcb7b)=>x[_0x25baf2(0x61a)](_0x5f1eee,_0x4fcb7b)});return _0x5a12ca['status'](0xc9)[_0x25baf2(0x5f4)](_0x5be711);})[_0x23f14a(0x1b4)](this[_0x23f14a(0x3db)](_0x23f14a(0x2a7)),..._0x2cd9bf,async(_0x2839a7,_0x5e0da9)=>{const _0x3befc8=_0x23f14a;let _0x27a42a=await this[_0x3befc8(0x637)]({'request':_0x2839a7,'schema':Ba,'ClassRef':Ye,'execute':(_0x1255ea,_0x2595b4)=>x[_0x3befc8(0x573)](_0x1255ea,_0x2595b4)});return _0x5e0da9[_0x3befc8(0x2d2)](0xc9)[_0x3befc8(0x5f4)](_0x27a42a);})['put'](this[_0x23f14a(0x3db)](_0x23f14a(0x6ee)),..._0x2cd9bf,async(_0x1e62ba,_0x147124)=>{const _0x530c8e=_0x23f14a;let _0x547fc1=await this[_0x530c8e(0x637)]({'request':_0x1e62ba,'schema':za,'ClassRef':Xe,'execute':(_0xadd235,_0x13e193)=>x[_0x530c8e(0x6ee)](_0xadd235,_0x13e193)});return _0x147124[_0x530c8e(0x2d2)](0xc9)[_0x530c8e(0x5f4)](_0x547fc1);})[_0x23f14a(0x4ee)](this[_0x23f14a(0x3db)]('deleteMessageForEveryone'),..._0x2cd9bf,async(_0x569109,_0xc84378)=>{const _0x5c28d7=_0x23f14a;let _0x1bfd2c=await this[_0x5c28d7(0x637)]({'request':_0x569109,'schema':Ha,'ClassRef':et,'execute':(_0x44be80,_0x4be7f1)=>x[_0x5c28d7(0x724)](_0x44be80,_0x4be7f1)});return _0xc84378[_0x5c28d7(0x2d2)](0xc9)[_0x5c28d7(0x5f4)](_0x1bfd2c);})[_0x23f14a(0x2d5)](this['routerPath']('fetchProfilePictureUrl'),..._0x2cd9bf,async(_0x19bba6,_0x4d9d29)=>{const _0x497ced=_0x23f14a;let _0x3ae52f=await this['dataValidate']({'request':_0x19bba6,'schema':Ie,'ClassRef':Re,'execute':(_0x5376ca,_0x3f4bc2)=>x[_0x497ced(0x68d)](_0x5376ca,_0x3f4bc2)});return _0x4d9d29[_0x497ced(0x2d2)](0xc8)[_0x497ced(0x5f4)](_0x3ae52f);})[_0x23f14a(0x2d5)](this[_0x23f14a(0x3db)]('fetchProfile'),..._0x2cd9bf,async(_0x43c063,_0x17b69b)=>{const _0x521c4c=_0x23f14a;let _0x2237da=await this[_0x521c4c(0x637)]({'request':_0x43c063,'schema':Xa,'ClassRef':Re,'execute':(_0x188dd9,_0x4d6e47)=>x[_0x521c4c(0x4e0)](_0x188dd9,_0x4d6e47)});return _0x17b69b[_0x521c4c(0x2d2)](0xc8)[_0x521c4c(0x5f4)](_0x2237da);})[_0x23f14a(0x2d5)](this['routerPath'](_0x23f14a(0x78a)),..._0x2cd9bf,async(_0x4186d2,_0x578b53)=>{const _0x2a5eaf=_0x23f14a;let _0x48e6e0=await this[_0x2a5eaf(0x637)]({'request':_0x4186d2,'schema':Ka,'ClassRef':st,'execute':(_0x20dd50,_0x19268d)=>x[_0x2a5eaf(0x716)](_0x20dd50,_0x19268d)});return _0x578b53[_0x2a5eaf(0x2d2)](0xc8)[_0x2a5eaf(0x5f4)](_0x48e6e0);})[_0x23f14a(0x2d5)](this[_0x23f14a(0x3db)](_0x23f14a(0x502)),..._0x2cd9bf,async(_0x236f74,_0x4b51a2)=>{const _0x30b59b=_0x23f14a;let _0x1fb271=await this[_0x30b59b(0x637)]({'request':_0x236f74,'schema':null,'ClassRef':Object,'execute':(_0x28d168,_0x3290d9)=>x[_0x30b59b(0x502)](_0x28d168,_0x3290d9)});return _0x4b51a2[_0x30b59b(0x2d2)](0xc9)['json'](_0x1fb271);})[_0x23f14a(0x2d5)](this[_0x23f14a(0x3db)]('findMessages'),..._0x2cd9bf,async(_0x4e48f1,_0x35ac16)=>{const _0x48fe57=_0x23f14a;let _0x5a86d0=await this[_0x48fe57(0x637)]({'request':_0x4e48f1,'schema':Za,'ClassRef':Be,'execute':(_0x38d6c8,_0x458ac0)=>x[_0x48fe57(0x7ef)](_0x38d6c8,_0x458ac0)});return _0x35ac16['status'](0xc8)[_0x48fe57(0x5f4)](_0x5a86d0);})[_0x23f14a(0x71f)](this[_0x23f14a(0x3db)](_0x23f14a(0x3fe)),..._0x2cd9bf,async(_0x3bf83d,_0x676833)=>{const _0x102345=_0x23f14a;let _0x6f04aa=await this[_0x102345(0x637)]({'request':_0x3bf83d,'schema':null,'ClassRef':M,'execute':_0x55dfc2=>x[_0x102345(0x530)](_0x55dfc2)});return _0x676833['status'](0xc8)[_0x102345(0x5f4)](_0x6f04aa);})[_0x23f14a(0x71f)](this[_0x23f14a(0x3db)]('findLabels'),..._0x2cd9bf,async(_0x274292,_0x4f4b29)=>{const _0x18e2ff=_0x23f14a;let _0x1a5bde=await this[_0x18e2ff(0x637)]({'request':_0x274292,'schema':null,'ClassRef':M,'execute':_0x5c8591=>x[_0x18e2ff(0x7e4)](_0x5c8591)});return _0x4f4b29[_0x18e2ff(0x2d2)](0xc8)[_0x18e2ff(0x5f4)](_0x1a5bde);})[_0x23f14a(0x1b4)](this[_0x23f14a(0x3db)]('importChats'),..._0x2cd9bf,async(_0x795d14,_0x23ab4c)=>{const _0x2f0aa7=_0x23f14a;let _0x227e12=await this['dataValidate']({'request':_0x795d14,'schema':null,'ClassRef':Array,'execute':(_0x25aa6b,_0x36d607)=>x['importChats'](_0x25aa6b,_0x36d607)});return _0x23ab4c[_0x2f0aa7(0x2d2)](0xc8)[_0x2f0aa7(0x5f4)](_0x227e12);})[_0x23f14a(0x71f)](this[_0x23f14a(0x3db)](_0x23f14a(0x835)),..._0x2cd9bf,async(_0x4c0813,_0x1cb619)=>{const _0x12a60d=_0x23f14a;let _0x286fe1=await this[_0x12a60d(0x637)]({'request':_0x4c0813,'schema':null,'ClassRef':M,'execute':_0x4ea9db=>x['fetchPrivacySettings'](_0x4ea9db)});return _0x1cb619[_0x12a60d(0x2d2)](0xc8)[_0x12a60d(0x5f4)](_0x286fe1);})['put'](this[_0x23f14a(0x3db)]('updatePrivacySettings'),..._0x2cd9bf,async(_0x484d1e,_0x57157e)=>{const _0x277c0e=_0x23f14a;let _0x45a6c9=await this[_0x277c0e(0x637)]({'request':_0x484d1e,'schema':Wa,'ClassRef':Ze,'execute':(_0x27bcc0,_0x4e46de)=>x[_0x277c0e(0x594)](_0x27bcc0,_0x4e46de)});return _0x57157e[_0x277c0e(0x2d2)](0xc9)[_0x277c0e(0x5f4)](_0x45a6c9);})[_0x23f14a(0x2d5)](this[_0x23f14a(0x3db)]('fetchBusinessProfile'),..._0x2cd9bf,async(_0xdad5a7,_0x21b4d0)=>{const _0x22fce1=_0x23f14a;let _0x23971e=await this[_0x22fce1(0x637)]({'request':_0xdad5a7,'schema':Ie,'ClassRef':be,'execute':(_0x5390df,_0x493d44)=>x[_0x22fce1(0x2e2)](_0x5390df,_0x493d44)});return _0x21b4d0[_0x22fce1(0x2d2)](0xc8)[_0x22fce1(0x5f4)](_0x23971e);})['post'](this[_0x23f14a(0x3db)](_0x23f14a(0x7ff)),..._0x2cd9bf,async(_0x415178,_0x2218b3)=>{const _0x5678af=_0x23f14a;let _0x3ae769=await this[_0x5678af(0x637)]({'request':_0x415178,'schema':Qa,'ClassRef':Ke,'execute':(_0x54f38e,_0xce42e1)=>x['updateProfileName'](_0x54f38e,_0xce42e1)});return _0x2218b3['status'](0xc8)['json'](_0x3ae769);})[_0x23f14a(0x2d5)](this[_0x23f14a(0x3db)](_0x23f14a(0x5e0)),..._0x2cd9bf,async(_0x563e35,_0x3740b1)=>{const _0x1a2581=_0x23f14a;let _0x268123=await this[_0x1a2581(0x637)]({'request':_0x563e35,'schema':Ya,'ClassRef':Qe,'execute':(_0x1a7f96,_0x339e71)=>x['updateProfileStatus'](_0x1a7f96,_0x339e71)});return _0x3740b1['status'](0xc8)[_0x1a2581(0x5f4)](_0x268123);})[_0x23f14a(0x1b4)](this[_0x23f14a(0x3db)]('updateProfilePicture'),..._0x2cd9bf,async(_0x54b7ea,_0xa86b34)=>{const _0x1fdd43=_0x23f14a;let _0x57ffd6=await this['dataValidate']({'request':_0x54b7ea,'schema':Ie,'ClassRef':be,'execute':(_0xa2d2f5,_0x145a08)=>x['updateProfilePicture'](_0xa2d2f5,_0x145a08)});return _0xa86b34['status'](0xc8)[_0x1fdd43(0x5f4)](_0x57ffd6);})[_0x23f14a(0x4ee)](this[_0x23f14a(0x3db)](_0x23f14a(0x6e3)),..._0x2cd9bf,async(_0x18cd50,_0x2b41f8)=>{const _0x2e1c41=_0x23f14a;let _0xaa4862=await this['dataValidate']({'request':_0x18cd50,'schema':Ie,'ClassRef':be,'execute':(_0x36bd5a,_0x4e4d2f)=>x['removeProfilePicture'](_0x36bd5a,_0x4e4d2f)});return _0x2b41f8[_0x2e1c41(0x2d2)](0xc8)[_0x2e1c41(0x5f4)](_0xaa4862);});}},di=require(a0_0xf534fa(0x3ce)),rt=class{},nt=class{},ct=class{},lt=class{},ut=class{},dt=class{},ee=class{},Oe=class{},pt=class extends ee{},ht=class extends ee{},gt=class extends V{constructor(..._0x1a69f4){const _0x4b4d41=a0_0xf534fa;super(),this[_0x4b4d41(0x3eb)]=(0x0,di[_0x4b4d41(0x372)])(),this[_0x4b4d41(0x3eb)]['post'](this[_0x4b4d41(0x3db)](_0x4b4d41(0x4a4)),..._0x1a69f4,async(_0x43b69a,_0x24a6a5)=>{const _0x1a3fad=_0x4b4d41;let _0x417d31=await this['dataValidate']({'request':_0x43b69a,'schema':ti,'ClassRef':rt,'execute':(_0x51e81a,_0x5d2d9c)=>j[_0x1a3fad(0x640)](_0x51e81a,_0x5d2d9c)});_0x24a6a5['status'](0xc9)[_0x1a3fad(0x5f4)](_0x417d31);})[_0x4b4d41(0x1b4)](this['routerPath']('updateGroupPicture'),..._0x1a69f4,async(_0x54e0ac,_0x1da3e6)=>{const _0x6b93eb=_0x4b4d41;let _0x32104d=await this[_0x6b93eb(0x63c)]({'request':_0x54e0ac,'schema':ii,'ClassRef':nt,'execute':(_0x53fbc3,_0x30c07c)=>j[_0x6b93eb(0x53b)](_0x53fbc3,_0x30c07c)});_0x1da3e6[_0x6b93eb(0x2d2)](0xc9)[_0x6b93eb(0x5f4)](_0x32104d);})['put'](this[_0x4b4d41(0x3db)](_0x4b4d41(0x47f)),..._0x1a69f4,async(_0x4fc535,_0x13a1c6)=>{const _0x46354b=_0x4b4d41;let _0x41270f=await this[_0x46354b(0x63c)]({'request':_0x4fc535,'schema':oi,'ClassRef':ct,'execute':(_0x1dbbcf,_0x360fc8)=>j[_0x46354b(0x47f)](_0x1dbbcf,_0x360fc8)});_0x13a1c6[_0x46354b(0x2d2)](0xc9)[_0x46354b(0x5f4)](_0x41270f);})[_0x4b4d41(0x1b4)](this['routerPath'](_0x4b4d41(0x50c)),..._0x1a69f4,async(_0x4c000d,_0x44b914)=>{const _0x4fea47=_0x4b4d41;let _0x1acae0=await this[_0x4fea47(0x63c)]({'request':_0x4c000d,'schema':ri,'ClassRef':lt,'execute':(_0x5008d7,_0x55042e)=>j[_0x4fea47(0x50c)](_0x5008d7,_0x55042e)});_0x44b914[_0x4fea47(0x2d2)](0xc9)[_0x4fea47(0x5f4)](_0x1acae0);})[_0x4b4d41(0x1b4)](this[_0x4b4d41(0x3db)](_0x4b4d41(0x271)),..._0x1a69f4,async(_0x363524,_0x16b565)=>{const _0x37cad4=_0x4b4d41;let _0x879056=await this['groupValidate']({'request':_0x363524,'schema':ci,'ClassRef':dt,'execute':(_0x823e60,_0x26dbbf)=>j[_0x37cad4(0x271)](_0x823e60,_0x26dbbf)});_0x16b565[_0x37cad4(0x2d2)](0xc9)[_0x37cad4(0x5f4)](_0x879056);})[_0x4b4d41(0x1b4)](this[_0x4b4d41(0x3db)](_0x4b4d41(0x494)),..._0x1a69f4,async(_0x238ef4,_0x565399)=>{const _0x350030=_0x4b4d41;let _0x19a997=await this['groupValidate']({'request':_0x238ef4,'schema':ni,'ClassRef':ut,'execute':(_0x358ccf,_0xaf412a)=>j[_0x350030(0x494)](_0x358ccf,_0xaf412a)});_0x565399[_0x350030(0x2d2)](0xc9)['json'](_0x19a997);})['put'](this[_0x4b4d41(0x3db)](_0x4b4d41(0x358)),..._0x1a69f4,async(_0x48b108,_0x20e8fb)=>{const _0xab3f50=_0x4b4d41;let _0x5e95dd=await this[_0xab3f50(0x63c)]({'request':_0x48b108,'schema':ai,'ClassRef':ht,'execute':(_0x500318,_0x3d8c04)=>j[_0xab3f50(0x358)](_0x500318,_0x3d8c04)});_0x20e8fb[_0xab3f50(0x2d2)](0xc9)[_0xab3f50(0x5f4)](_0x5e95dd);})['get'](this[_0x4b4d41(0x3db)](_0x4b4d41(0x5f7)),..._0x1a69f4,async(_0x3092f4,_0x2e7980)=>{const _0x47dc19=_0x4b4d41;let _0x2dc391=await this['groupValidate']({'request':_0x3092f4,'schema':Te,'ClassRef':ee,'execute':(_0x4864e1,_0x1e624e)=>j['findGroupInfo'](_0x4864e1,_0x1e624e)});_0x2e7980[_0x47dc19(0x2d2)](0xc8)[_0x47dc19(0x5f4)](_0x2dc391);})[_0x4b4d41(0x71f)](this[_0x4b4d41(0x3db)](_0x4b4d41(0x505)),..._0x1a69f4,async(_0x573f2b,_0x8cc7b8)=>{const _0x42a2c2=_0x4b4d41;let _0x5e029b=await this[_0x42a2c2(0x637)]({'request':_0x573f2b,'schema':v,'ClassRef':M,'execute':_0x1a4bcb=>j[_0x42a2c2(0x505)](_0x1a4bcb)});_0x8cc7b8['status'](0xc8)[_0x42a2c2(0x5f4)](_0x5e029b);})[_0x4b4d41(0x71f)](this[_0x4b4d41(0x3db)]('participants'),..._0x1a69f4,async(_0x2b5d2c,_0x23f978)=>{const _0x5f015c=_0x4b4d41;let _0x21b324=await this[_0x5f015c(0x63c)]({'request':_0x2b5d2c,'schema':Te,'ClassRef':ee,'execute':(_0x54008f,_0x18483e)=>j[_0x5f015c(0x62a)](_0x54008f,_0x18483e)});_0x23f978[_0x5f015c(0x2d2)](0xc8)['json'](_0x21b324);})['get'](this[_0x4b4d41(0x3db)]('inviteCode'),..._0x1a69f4,async(_0x87eb17,_0x1ee6bb)=>{const _0x5599d1=_0x4b4d41;let _0x543e37=await this[_0x5599d1(0x63c)]({'request':_0x87eb17,'schema':Te,'ClassRef':ee,'execute':(_0x3067af,_0x581c71)=>j['inviteCode'](_0x3067af,_0x581c71)});_0x1ee6bb[_0x5599d1(0x2d2)](0xc8)[_0x5599d1(0x5f4)](_0x543e37);})[_0x4b4d41(0x2d5)](this[_0x4b4d41(0x3db)](_0x4b4d41(0x3f6)),..._0x1a69f4,async(_0x23916d,_0x4e9e76)=>{const _0x373103=_0x4b4d41;let _0x8c9071=await this[_0x373103(0x77a)]({'request':_0x23916d,'schema':Ms,'ClassRef':Oe,'execute':(_0x426b43,_0x3df0bb)=>j[_0x373103(0x374)](_0x426b43,_0x3df0bb)});_0x4e9e76[_0x373103(0x2d2)](0xc9)['json'](_0x8c9071);})['put'](this[_0x4b4d41(0x3db)](_0x4b4d41(0x718)),..._0x1a69f4,async(_0x288375,_0x30c9ea)=>{const _0x1a20a5=_0x4b4d41;let _0x4f3471=await this[_0x1a20a5(0x77a)]({'request':_0x288375,'schema':Ms,'ClassRef':Oe,'execute':(_0x432bfc,_0x1fe780)=>j[_0x1a20a5(0x718)](_0x432bfc,_0x1fe780)});_0x30c9ea['status'](0xc9)[_0x1a20a5(0x5f4)](_0x4f3471);})[_0x4b4d41(0x1b4)](this['routerPath']('revokeInviteCode'),..._0x1a69f4,async(_0x372de2,_0x52e450)=>{const _0x3b62ca=_0x4b4d41;let _0x3ce1ea=await this[_0x3b62ca(0x63c)]({'request':_0x372de2,'schema':Te,'ClassRef':ee,'execute':(_0x3b4fbb,_0x11285a)=>j['revokeInviteCode'](_0x3b4fbb,_0x11285a)});_0x52e450[_0x3b62ca(0x2d2)](0xc9)[_0x3b62ca(0x5f4)](_0x3ce1ea);})[_0x4b4d41(0x1b4)](this[_0x4b4d41(0x3db)](_0x4b4d41(0x27d)),..._0x1a69f4,async(_0x408ed4,_0x1c1a69)=>{const _0x352f57=_0x4b4d41;let _0x413013=await this['groupValidate']({'request':_0x408ed4,'schema':si,'ClassRef':pt,'execute':(_0x26d9d5,_0x537a05)=>j[_0x352f57(0x1ce)](_0x26d9d5,_0x537a05)});_0x1c1a69[_0x352f57(0x2d2)](0xc9)['json'](_0x413013);})['delete'](this[_0x4b4d41(0x3db)](_0x4b4d41(0x7b8)),..._0x1a69f4,async(_0x5b4d51,_0x154d9e)=>{const _0x1ca0c0=_0x4b4d41;let _0x3e7ab0=await this[_0x1ca0c0(0x63c)]({'request':_0x5b4d51,'schema':{},'ClassRef':ee,'execute':(_0x334697,_0x3140f9)=>j[_0x1ca0c0(0x7b8)](_0x334697,_0x3140f9)});_0x154d9e[_0x1ca0c0(0x2d2)](0xc8)['json'](_0x3e7ab0);});}},pi=require('express'),mt=class extends V{constructor(_0x559530,..._0xa19082){const _0x2eb1a0=a0_0xf534fa;super(),this[_0x2eb1a0(0x7dd)]=_0x559530,this[_0x2eb1a0(0x3eb)]=(0x0,pi['Router'])();let _0x33c7f4=_0x559530[_0x2eb1a0(0x71f)]('AUTHENTICATION');this[_0x2eb1a0(0x3eb)][_0x2eb1a0(0x2d5)](_0x2eb1a0(0x23d),..._0xa19082,async(_0x6c2103,_0x17b77b)=>{const _0x4f4b98=_0x2eb1a0;let {instanceName:_0x5ba92a,apikey:_0x10d3e1,number:_0x5a5f2c}=_0x6c2103[_0x4f4b98(0x8dd)],_0x26abc4=await le[_0x4f4b98(0x44b)]({'instanceName':_0x5ba92a,'apikey':_0x10d3e1,'number':_0x5a5f2c});return _0x17b77b[_0x4f4b98(0x2d2)](0xc9)[_0x4f4b98(0x5f4)](_0x26abc4);})[_0x2eb1a0(0x1b4)](this['routerPath'](_0x2eb1a0(0x677)),..._0xa19082,async(_0x395088,_0x26b0ed)=>{const _0x4660aa=_0x2eb1a0;let _0x1dfa84=await this[_0x4660aa(0x637)]({'request':_0x395088,'schema':v,'ClassRef':M,'execute':_0x2607f0=>le[_0x4660aa(0x552)](_0x2607f0)});return _0x26b0ed[_0x4660aa(0x2d2)](0xc8)[_0x4660aa(0x5f4)](_0x1dfa84);})['get'](this['routerPath'](_0x2eb1a0(0x842)),..._0xa19082,async(_0x5eda9f,_0x35cd80)=>{const _0xac7046=_0x2eb1a0;let _0x4a185b=await this[_0xac7046(0x637)]({'request':_0x5eda9f,'schema':v,'ClassRef':M,'execute':_0x2a1a3a=>le[_0xac7046(0x645)](_0x2a1a3a)});return _0x35cd80[_0xac7046(0x2d2)](0xc8)[_0xac7046(0x5f4)](_0x4a185b);})[_0x2eb1a0(0x71f)](this[_0x2eb1a0(0x3db)](_0x2eb1a0(0x359)),..._0xa19082,async(_0x85a826,_0x4007a3)=>{const _0x35c1bc=_0x2eb1a0;let _0x3cf5bb=await this[_0x35c1bc(0x637)]({'request':_0x85a826,'schema':v,'ClassRef':M,'execute':_0x44bad8=>le[_0x35c1bc(0x359)](_0x44bad8)});return _0x4007a3[_0x35c1bc(0x2d2)](0xc8)[_0x35c1bc(0x5f4)](_0x3cf5bb);})[_0x2eb1a0(0x71f)](this[_0x2eb1a0(0x3db)](_0x2eb1a0(0x4cb),!0x1),..._0xa19082,async(_0x871e23,_0x273dec)=>{const _0x228779=_0x2eb1a0;let _0x9ba87c=await this[_0x228779(0x637)]({'request':_0x871e23,'schema':null,'ClassRef':M,'execute':_0x53943e=>le[_0x228779(0x4cb)](_0x53943e)});return _0x273dec[_0x228779(0x2d2)](0xc8)['json'](_0x9ba87c);})['delete'](this[_0x2eb1a0(0x3db)](_0x2eb1a0(0x814)),..._0xa19082,async(_0x4f3cd7,_0xe1642d)=>{const _0x4f82fa=_0x2eb1a0;let _0x772138=await this['dataValidate']({'request':_0x4f3cd7,'schema':v,'ClassRef':M,'execute':_0x4e5b5b=>le[_0x4f82fa(0x814)](_0x4e5b5b)});return _0xe1642d[_0x4f82fa(0x2d2)](0xc8)[_0x4f82fa(0x5f4)](_0x772138);})[_0x2eb1a0(0x4ee)](this['routerPath']('delete'),..._0xa19082,async(_0x4c6038,_0x443b5e)=>{const _0x33acbe=_0x2eb1a0;let _0x96028e=await this[_0x33acbe(0x637)]({'request':_0x4c6038,'schema':v,'ClassRef':M,'execute':_0x3d2291=>le[_0x33acbe(0x719)](_0x3d2291)});return _0x443b5e[_0x33acbe(0x2d2)](0xc8)['json'](_0x96028e);});}},hi=require('express'),Es=class{},z=class extends Es{},ft=class extends z{},wt=class extends z{},yt=class extends z{},bt=class extends z{},_e=class extends z{},St=class extends z{},Mt=class extends z{},Ct=class extends z{},Et=class extends z{},vt=class extends z{},Nt=class{},$t=class extends V{constructor(..._0x31c82a){const _0x19559f=a0_0xf534fa;super(),this[_0x19559f(0x3eb)]=(0x0,hi['Router'])(),this[_0x19559f(0x3eb)][_0x19559f(0x2d5)](this['routerPath'](_0x19559f(0x2ff)),..._0x31c82a,async(_0xe603d9,_0x1d781d)=>{const _0x53002e=_0x19559f;let _0x3dbfa1=await this[_0x53002e(0x637)]({'request':_0xe603d9,'schema':Oa,'ClassRef':ft,'execute':(_0x3a67eb,_0x252374)=>B[_0x53002e(0x2ff)](_0x3a67eb,_0x252374)});return _0x1d781d[_0x53002e(0x2d2)](0xc9)['json'](_0x3dbfa1);})[_0x19559f(0x2d5)](this['routerPath']('sendMedia'),..._0x31c82a,async(_0x575ddf,_0x3cf7b3)=>{const _0x2bca53=_0x19559f;let _0x45811b=await this[_0x2bca53(0x637)]({'request':_0x575ddf,'schema':Pa,'ClassRef':_e,'execute':(_0x2d05f4,_0x5e533e)=>B[_0x2bca53(0x500)](_0x2d05f4,_0x5e533e)});return _0x3cf7b3['status'](0xc9)[_0x2bca53(0x5f4)](_0x45811b);})[_0x19559f(0x2d5)](this[_0x19559f(0x3db)](_0x19559f(0x8cd)),..._0x31c82a,async(_0x1ff1da,_0x31c277)=>{const _0x46d054=_0x19559f;let _0x285f22=await this['dataValidate']({'request':_0x1ff1da,'schema':Fa,'ClassRef':bt,'execute':(_0x104279,_0x4e164d)=>B['sendMenu'](_0x104279,_0x4e164d)});return _0x31c277[_0x46d054(0x2d2)](0xc9)[_0x46d054(0x5f4)](_0x285f22);})[_0x19559f(0x2d5)](this[_0x19559f(0x3db)](_0x19559f(0x7eb)),..._0x31c82a,async(_0x47dadc,_0xc319fe)=>{const _0x190787=_0x19559f;let _0x2b7ea1=await this[_0x190787(0x637)]({'request':_0x47dadc,'schema':ka,'ClassRef':_e,'execute':(_0x5e9c98,_0x3af352)=>B[_0x190787(0x7eb)](_0x5e9c98,_0x3af352)});return _0xc319fe[_0x190787(0x2d2)](0xc9)[_0x190787(0x5f4)](_0x2b7ea1);})[_0x19559f(0x2d5)](this[_0x19559f(0x3db)](_0x19559f(0x89b)),..._0x31c82a,async(_0x3786db,_0x24ba77)=>{const _0xe2326=_0x19559f;let _0xb35ab=await this[_0xe2326(0x637)]({'request':_0x3786db,'schema':Ua,'ClassRef':Mt,'execute':(_0x59a28b,_0x58c50a)=>B[_0xe2326(0x89b)](_0x59a28b,_0x58c50a)});return _0x24ba77['status'](0xc9)[_0xe2326(0x5f4)](_0xb35ab);})[_0x19559f(0x2d5)](this['routerPath'](_0x19559f(0x660)),..._0x31c82a,async(_0x522bca,_0x2ab372)=>{const _0x152e24=_0x19559f;let _0x2fcecd=await this[_0x152e24(0x637)]({'request':_0x522bca,'schema':ja,'ClassRef':Ct,'execute':(_0x431d49,_0x1f81e4)=>B['sendLocation'](_0x431d49,_0x1f81e4)});return _0x2ab372[_0x152e24(0x2d2)](0xc9)[_0x152e24(0x5f4)](_0x2fcecd);})['post'](this[_0x19559f(0x3db)](_0x19559f(0x74d)),..._0x31c82a,async(_0x119047,_0x225a2a)=>{const _0x42444d=_0x19559f;let _0xc73dd3=await this['dataValidate']({'request':_0x119047,'schema':Ja,'ClassRef':Et,'execute':(_0x4a722b,_0x3e3b71)=>B[_0x42444d(0x74d)](_0x4a722b,_0x3e3b71)});return _0x225a2a['status'](0xc9)[_0x42444d(0x5f4)](_0xc73dd3);})[_0x19559f(0x2d5)](this['routerPath'](_0x19559f(0x22e)),..._0x31c82a,async(_0x4f751a,_0x27556f)=>{const _0x3d9d99=_0x19559f;let _0x55a0c3=await this[_0x3d9d99(0x637)]({'request':_0x4f751a,'schema':qa,'ClassRef':vt,'execute':(_0x93a18,_0x3cb7c3)=>B[_0x3d9d99(0x22e)](_0x93a18,_0x3cb7c3)});return _0x27556f[_0x3d9d99(0x2d2)](0xc9)[_0x3d9d99(0x5f4)](_0x55a0c3);})[_0x19559f(0x2d5)](this['routerPath']('sendReaction'),..._0x31c82a,async(_0x4db18d,_0x94db01)=>{const _0x2a0133=_0x19559f;let _0x1446ac=await this['dataValidate']({'request':_0x4db18d,'schema':Va,'ClassRef':Nt,'execute':(_0x2f689e,_0x324de4)=>B['sendReaction'](_0x2f689e,_0x324de4)});return _0x94db01[_0x2a0133(0x2d2)](0xc9)['json'](_0x1446ac);})[_0x19559f(0x2d5)](this[_0x19559f(0x3db)](_0x19559f(0x514)),..._0x31c82a,async(_0x338b99,_0x494fb4)=>{const _0x2cc443=_0x19559f;let _0xef27dc=await this[_0x2cc443(0x637)]({'request':_0x338b99,'schema':La,'ClassRef':yt,'execute':(_0x112ef2,_0x56ffa3)=>B['sendPoll'](_0x112ef2,_0x56ffa3)});return _0x494fb4[_0x2cc443(0x2d2)](0xc9)[_0x2cc443(0x5f4)](_0xef27dc);})[_0x19559f(0x2d5)](this['routerPath'](_0x19559f(0x565)),..._0x31c82a,async(_0x42f893,_0x24ecbd)=>{const _0x4719d4=_0x19559f;let _0x2ecac4=await this[_0x4719d4(0x637)]({'request':_0x42f893,'schema':Da,'ClassRef':wt,'execute':(_0x2d1a5c,_0x5c203d)=>B['sendStatus'](_0x2d1a5c,_0x5c203d)});return _0x24ecbd[_0x4719d4(0x2d2)](0xc9)[_0x4719d4(0x5f4)](_0x2ecac4);})[_0x19559f(0x2d5)](this[_0x19559f(0x3db)]('sendSticker'),..._0x31c82a,async(_0x3a75ba,_0x21de0c)=>{const _0x3eb0c2=_0x19559f;let _0xf43af5=await this['dataValidate']({'request':_0x3a75ba,'schema':xa,'ClassRef':St,'execute':(_0x2c44f4,_0x30cca8)=>B['sendSticker'](_0x2c44f4,_0x30cca8)});return _0x21de0c[_0x3eb0c2(0x2d2)](0xc9)[_0x3eb0c2(0x5f4)](_0xf43af5);});}},gi=require(a0_0xf534fa(0x3ce)),Rt=class{},At=class extends V{constructor(..._0x442395){const _0x4b02ba=a0_0xf534fa;super(),this[_0x4b02ba(0x3eb)]=(0x0,gi['Router'])(),this[_0x4b02ba(0x3eb)]['post'](this['routerPath']('set'),..._0x442395,async(_0x5a38ee,_0x53eca4)=>{const _0x4a7fab=_0x4b02ba;let _0xe82152=await this['dataValidate']({'request':_0x5a38ee,'schema':li,'ClassRef':Rt,'execute':(_0x478e89,_0x3ddd60)=>vs[_0x4a7fab(0x708)](_0x478e89,_0x3ddd60)});_0x53eca4['status'](0xc9)[_0x4a7fab(0x5f4)](_0xe82152);})[_0x4b02ba(0x71f)](this['routerPath'](_0x4b02ba(0x525)),..._0x442395,async(_0x310ece,_0x2c022c)=>{const _0x57a382=_0x4b02ba;let _0x2588a7=await this[_0x57a382(0x637)]({'request':_0x310ece,'schema':v,'ClassRef':M,'execute':_0x41486a=>vs[_0x57a382(0x3f9)](_0x41486a)});_0x2c022c['status'](0xc8)[_0x57a382(0x5f4)](_0x2588a7);});}},mi=require(a0_0xf534fa(0x3ce)),y=new N(a0_0xf534fa(0x897)),It=class extends V{constructor(..._0x32bfdd){const _0x4e16f9=a0_0xf534fa;super(),this[_0x4e16f9(0x3eb)]=(0x0,mi[_0x4e16f9(0x372)])(),this[_0x4e16f9(0x3eb)][_0x4e16f9(0x2d5)](this['routerPath'](_0x4e16f9(0x3d7)),..._0x32bfdd,async(_0xd66fbb,_0x4788c7)=>{const _0x475326=_0x4e16f9;let _0xbd5040=_0xd66fbb[_0x475326(0x8dd)];y[_0x475326(0x6f6)](_0x475326(0x801)),y[_0x475326(0x6f6)](_0x475326(0x202)),y[_0x475326(0x6f6)](_0xd66fbb[_0x475326(0x8dd)]);let _0x354b11=await this[_0x475326(0x637)]({'request':_0xd66fbb,'schema':v,'ClassRef':M,'execute':_0xed918f=>I[_0x475326(0x203)](_0xed918f,_0xbd5040)});_0x4788c7[_0x475326(0x2d2)](0xc8)[_0x475326(0x5f4)](_0x354b11);})[_0x4e16f9(0x71f)](this[_0x4e16f9(0x3db)](_0x4e16f9(0x3d7)),..._0x32bfdd,async(_0x171edc,_0x692864)=>{const _0x3821ed=_0x4e16f9;let _0x1ed5f7=await this[_0x3821ed(0x637)]({'request':_0x171edc,'schema':v,'ClassRef':M,'execute':_0x405797=>I[_0x3821ed(0x1fb)](_0x405797)});_0x692864[_0x3821ed(0x2d2)](0xc8)[_0x3821ed(0x5f4)](_0x1ed5f7);})['delete'](this[_0x4e16f9(0x3db)]('deleteDoneMessages'),..._0x32bfdd,async(_0x5736a7,_0x122c98)=>{const _0x509620=_0x4e16f9;y['verbose'](_0x509620(0x64a));let _0x1b3cae=await this['dataValidate']({'request':_0x5736a7,'schema':v,'ClassRef':M,'execute':_0x42ab1c=>I[_0x509620(0x5f0)](_0x42ab1c)});_0x122c98['status'](0xc8)[_0x509620(0x5f4)](_0x1b3cae);})[_0x4e16f9(0x2d5)](this[_0x4e16f9(0x3db)](_0x4e16f9(0x744)),..._0x32bfdd,async(_0x22137c,_0x4c0709)=>{const _0x299a78=_0x4e16f9;let _0x2334b1=_0x22137c[_0x299a78(0x8dd)];y['verbose'](_0x299a78(0x2f0)),y['verbose']('request\x20body:\x20'),y[_0x299a78(0x6f6)](_0x22137c[_0x299a78(0x8dd)]);let _0x4828f8=await this[_0x299a78(0x637)]({'request':_0x22137c,'schema':v,'ClassRef':M,'execute':_0x22ad07=>I[_0x299a78(0x744)](_0x22ad07,_0x2334b1)});_0x4c0709[_0x299a78(0x2d2)](0xc8)[_0x299a78(0x5f4)](_0x4828f8);})[_0x4e16f9(0x71f)](this['routerPath'](_0x4e16f9(0x456)),..._0x32bfdd,async(_0x53e280,_0x283267)=>{const _0x52c2a3=_0x4e16f9;y[_0x52c2a3(0x6f6)](_0x52c2a3(0x196));let _0x170d1c=await this['dataValidate']({'request':_0x53e280,'schema':v,'ClassRef':M,'execute':_0x5854eb=>I[_0x52c2a3(0x456)](_0x5854eb)});_0x283267[_0x52c2a3(0x2d2)](0xc8)['json'](_0x170d1c);})[_0x4e16f9(0x71f)](this[_0x4e16f9(0x3db)](_0x4e16f9(0x6d6)),..._0x32bfdd,async(_0x5c1498,_0x550f87)=>{const _0x12d2fe=_0x4e16f9;y['verbose'](_0x12d2fe(0x82f));let _0x27a0aa=await this[_0x12d2fe(0x637)]({'request':_0x5c1498,'schema':v,'ClassRef':M,'execute':_0x32af42=>I[_0x12d2fe(0x456)](_0x32af42)});_0x550f87['status'](0xc8)[_0x12d2fe(0x5f4)](_0x27a0aa);})[_0x4e16f9(0x2d5)](this[_0x4e16f9(0x3db)]('updateAgent'),..._0x32bfdd,async(_0x335d6e,_0x1c00a1)=>{const _0x3b3d9f=_0x4e16f9;let _0x4e35cd=_0x335d6e[_0x3b3d9f(0x8dd)];y[_0x3b3d9f(0x6f6)](_0x3b3d9f(0x24c)),y[_0x3b3d9f(0x6f6)](_0x3b3d9f(0x202)),y[_0x3b3d9f(0x6f6)](_0x335d6e[_0x3b3d9f(0x8dd)]);let _0x528130=await this['dataValidate']({'request':_0x335d6e,'schema':v,'ClassRef':M,'execute':_0x4fb870=>I['updateAgent'](_0x4fb870,_0x4e35cd)});_0x1c00a1['status'](0xc8)[_0x3b3d9f(0x5f4)](_0x528130);})[_0x4e16f9(0x2d5)](this[_0x4e16f9(0x3db)](_0x4e16f9(0x73d)),..._0x32bfdd,async(_0x494cfc,_0x162ba9)=>{const _0x35a18e=_0x4e16f9;let _0x59c992=_0x494cfc[_0x35a18e(0x8dd)];y['verbose'](_0x35a18e(0x742)),y['verbose']('request\x20body:\x20'),y[_0x35a18e(0x6f6)](_0x494cfc[_0x35a18e(0x8dd)]);let _0x36ccb2=await this['dataValidate']({'request':_0x494cfc,'schema':v,'ClassRef':M,'execute':_0x987be8=>I[_0x35a18e(0x73d)](_0x987be8,_0x59c992)});_0x162ba9[_0x35a18e(0x2d2)](0xc8)[_0x35a18e(0x5f4)](_0x36ccb2);})[_0x4e16f9(0x2d5)](this[_0x4e16f9(0x3db)](_0x4e16f9(0x43a)),..._0x32bfdd,async(_0x3c34e0,_0x4bdb54)=>{const _0x1dd902=_0x4e16f9;let _0x4351ab=_0x3c34e0['body'];y[_0x1dd902(0x6f6)](_0x1dd902(0x339)),y['verbose'](_0x1dd902(0x202)),y['verbose'](_0x3c34e0[_0x1dd902(0x8dd)]);let _0x4dfb43=await this[_0x1dd902(0x637)]({'request':_0x3c34e0,'schema':v,'ClassRef':M,'execute':_0x52aa59=>I[_0x1dd902(0x43a)](_0x52aa59,_0x4351ab)});_0x4bdb54[_0x1dd902(0x2d2)](0xc8)[_0x1dd902(0x5f4)](_0x4dfb43);})[_0x4e16f9(0x2d5)](this[_0x4e16f9(0x3db)](_0x4e16f9(0x47d)),..._0x32bfdd,async(_0x4154bd,_0x533190)=>{const _0x38be2b=_0x4e16f9;let _0x405195=_0x4154bd[_0x38be2b(0x8dd)];y['verbose'](_0x38be2b(0x77b)),y[_0x38be2b(0x6f6)](_0x38be2b(0x202)),y[_0x38be2b(0x6f6)](_0x4154bd['body']);let _0x3b0185=await this['dataValidate']({'request':_0x4154bd,'schema':v,'ClassRef':M,'execute':_0x114e60=>I[_0x38be2b(0x47d)](_0x114e60,_0x405195)});_0x533190[_0x38be2b(0x2d2)](0xc8)[_0x38be2b(0x5f4)](_0x3b0185);})[_0x4e16f9(0x2d5)](this[_0x4e16f9(0x3db)]('getConversation'),..._0x32bfdd,async(_0x156c02,_0x223a5d)=>{const _0x1d1e43=_0x4e16f9;let _0x3f438f=_0x156c02[_0x1d1e43(0x8dd)];y['verbose'](_0x1d1e43(0x56f)),y[_0x1d1e43(0x6f6)](_0x1d1e43(0x202)),y[_0x1d1e43(0x6f6)](_0x156c02[_0x1d1e43(0x8dd)]);let _0x343a0d=await this['dataValidate']({'request':_0x156c02,'schema':v,'ClassRef':M,'execute':_0x59bcc8=>I[_0x1d1e43(0x53c)](_0x59bcc8,_0x3f438f)});_0x223a5d[_0x1d1e43(0x2d2)](0xc8)[_0x1d1e43(0x5f4)](_0x343a0d);})[_0x4e16f9(0x2d5)](this[_0x4e16f9(0x3db)](_0x4e16f9(0x454)),..._0x32bfdd,async(_0x47b22f,_0x24d404)=>{const _0x4dd96b=_0x4e16f9;let _0x4d1662=_0x47b22f[_0x4dd96b(0x8dd)];y[_0x4dd96b(0x6f6)](_0x4dd96b(0x630)),y[_0x4dd96b(0x6f6)]('request\x20body:\x20'),y[_0x4dd96b(0x6f6)](_0x47b22f[_0x4dd96b(0x8dd)]);let _0x3af7b8=await this[_0x4dd96b(0x637)]({'request':_0x47b22f,'schema':v,'ClassRef':M,'execute':_0xd8473a=>I[_0x4dd96b(0x454)](_0xd8473a,_0x4d1662)});_0x24d404[_0x4dd96b(0x2d2)](0xc8)[_0x4dd96b(0x5f4)](_0x3af7b8);})[_0x4e16f9(0x2d5)](this[_0x4e16f9(0x3db)](_0x4e16f9(0x24e)),..._0x32bfdd,async(_0x20e937,_0x1e8d43)=>{const _0xad07ed=_0x4e16f9;let _0x48fae0=_0x20e937[_0xad07ed(0x8dd)];y[_0xad07ed(0x6f6)]('request\x20received\x20in\x20editConversation'),y[_0xad07ed(0x6f6)](_0xad07ed(0x202)),y[_0xad07ed(0x6f6)](_0x20e937[_0xad07ed(0x8dd)]);let _0x2176c4=await this['dataValidate']({'request':_0x20e937,'schema':v,'ClassRef':M,'execute':_0x17dbc8=>I[_0xad07ed(0x24e)](_0x17dbc8,_0x48fae0)});_0x1e8d43[_0xad07ed(0x2d2)](0xc8)['json'](_0x2176c4);})[_0x4e16f9(0x4ee)](this['routerPath'](_0x4e16f9(0x3ad)),..._0x32bfdd,async(_0x125f4c,_0x542ab8)=>{const _0x4082e7=_0x4e16f9;let _0x35c1e9=_0x125f4c['body'];y[_0x4082e7(0x6f6)]('request\x20received\x20in\x20deleteConversation'),y[_0x4082e7(0x6f6)](_0x4082e7(0x202)),y[_0x4082e7(0x6f6)](_0x125f4c[_0x4082e7(0x8dd)]);let _0x1644b6=await this['dataValidate']({'request':_0x125f4c,'schema':v,'ClassRef':M,'execute':_0x75f91a=>I[_0x4082e7(0x3ad)](_0x75f91a,_0x35c1e9)});_0x542ab8[_0x4082e7(0x2d2)](0xc8)[_0x4082e7(0x5f4)](_0x1644b6);})[_0x4e16f9(0x2d5)](this['routerPath'](_0x4e16f9(0x6d5)),..._0x32bfdd,async(_0x4ef2d3,_0x5a273d)=>{const _0x533d3e=_0x4e16f9;let _0x3b22f4=_0x4ef2d3[_0x533d3e(0x8dd)],_0x561540=_0x4ef2d3[_0x533d3e(0x318)][_0x533d3e(0x770)];y[_0x533d3e(0x6f6)](_0x533d3e(0x6e6)),y[_0x533d3e(0x6f6)]('request\x20body:\x20'),y[_0x533d3e(0x6f6)](_0x4ef2d3[_0x533d3e(0x8dd)]);let _0x4ecc62=await this[_0x533d3e(0x637)]({'request':_0x4ef2d3,'schema':v,'ClassRef':M,'execute':_0x2c08f7=>I['createFlow'](_0x2c08f7,_0x3b22f4,_0x561540)});_0x5a273d['status'](0xc8)[_0x533d3e(0x5f4)](_0x4ecc62);})[_0x4e16f9(0x2d5)](this[_0x4e16f9(0x3db)](_0x4e16f9(0x3c3)),..._0x32bfdd,async(_0x3d7953,_0x2bf55c)=>{const _0x4ca967=_0x4e16f9;let _0x2f8a4b=_0x3d7953['body'],_0x53039a=_0x3d7953[_0x4ca967(0x318)][_0x4ca967(0x770)];y[_0x4ca967(0x6f6)](_0x4ca967(0x1e7)),y[_0x4ca967(0x6f6)]('request\x20body:\x20'),y['verbose'](_0x3d7953[_0x4ca967(0x8dd)]),delete _0x2f8a4b['blocks'],delete _0x2f8a4b[_0x4ca967(0x7f4)],delete _0x2f8a4b[_0x4ca967(0x453)],delete _0x2f8a4b[_0x4ca967(0x7f1)];let _0x1fcdc2=await this[_0x4ca967(0x637)]({'request':_0x3d7953,'schema':v,'ClassRef':M,'execute':_0x4c8eea=>I['editFlow'](_0x4c8eea,_0x2f8a4b,_0x53039a)});_0x2bf55c[_0x4ca967(0x2d2)](0xc8)[_0x4ca967(0x5f4)](_0x1fcdc2);})['post'](this[_0x4e16f9(0x3db)](_0x4e16f9(0x46b)),..._0x32bfdd,async(_0x35744e,_0x318465)=>{const _0x5b42ee=_0x4e16f9;let _0x347c60=_0x35744e['body'];y[_0x5b42ee(0x6f6)](_0x5b42ee(0x1e7)),y[_0x5b42ee(0x6f6)](_0x5b42ee(0x202)),y[_0x5b42ee(0x6f6)](_0x35744e[_0x5b42ee(0x8dd)]);let _0x16c14b=await this['dataValidate']({'request':_0x35744e,'schema':v,'ClassRef':M,'execute':_0x2d54fb=>I['editFlowBlock'](_0x2d54fb,_0x347c60)});_0x318465[_0x5b42ee(0x2d2)](0xc8)[_0x5b42ee(0x5f4)](_0x16c14b);})[_0x4e16f9(0x2d5)](this['routerPath'](_0x4e16f9(0x2a1)),..._0x32bfdd,async(_0x10c744,_0x431ddb)=>{const _0x31c85c=_0x4e16f9;let _0x670ed9=_0x10c744['body'];y[_0x31c85c(0x6f6)](_0x31c85c(0x1e7)),y['verbose'](_0x31c85c(0x202)),y[_0x31c85c(0x6f6)](_0x10c744[_0x31c85c(0x8dd)]);let _0x2bedf7=await this[_0x31c85c(0x637)]({'request':_0x10c744,'schema':v,'ClassRef':M,'execute':_0x5c207b=>I[_0x31c85c(0x2b4)](_0x5c207b,_0x670ed9)});_0x431ddb[_0x31c85c(0x2d2)](0xc8)[_0x31c85c(0x5f4)](_0x2bedf7);})[_0x4e16f9(0x2d5)](this[_0x4e16f9(0x3db)](_0x4e16f9(0x289)),..._0x32bfdd,async(_0x42e1d9,_0x46bd99)=>{const _0x130a31=_0x4e16f9;let _0x30e34a=_0x42e1d9[_0x130a31(0x8dd)];y[_0x130a31(0x6f6)](_0x130a31(0x1e7)),y[_0x130a31(0x6f6)](_0x130a31(0x202)),y[_0x130a31(0x6f6)](_0x42e1d9[_0x130a31(0x8dd)]);let _0x188abb=await this['dataValidate']({'request':_0x42e1d9,'schema':v,'ClassRef':M,'execute':_0xad6db1=>I[_0x130a31(0x3be)](_0xad6db1,_0x30e34a)});_0x46bd99[_0x130a31(0x2d2)](0xc8)[_0x130a31(0x5f4)](_0x188abb);})[_0x4e16f9(0x2d5)](this[_0x4e16f9(0x3db)](_0x4e16f9(0x2c2)),..._0x32bfdd,async(_0x495f05,_0x5e0008)=>{const _0x3808c2=_0x4e16f9;let _0x208765=_0x495f05[_0x3808c2(0x8dd)];y[_0x3808c2(0x6f6)](_0x3808c2(0x244)),y['verbose'](_0x3808c2(0x202)),y[_0x3808c2(0x6f6)](_0x495f05['body']);let _0x4e6b29=await this[_0x3808c2(0x637)]({'request':_0x495f05,'schema':v,'ClassRef':M,'execute':_0x578c28=>I[_0x3808c2(0x407)](_0x578c28,_0x208765)});_0x5e0008[_0x3808c2(0x2d2)](0xc8)[_0x3808c2(0x5f4)](_0x4e6b29);})['post'](this[_0x4e16f9(0x3db)](_0x4e16f9(0x25f)),..._0x32bfdd,async(_0x1a2a79,_0x57ca17)=>{const _0x111f49=_0x4e16f9;let _0x22c8b8=_0x1a2a79['body'];y[_0x111f49(0x6f6)](_0x111f49(0x589)),y[_0x111f49(0x6f6)](_0x111f49(0x202)),y['verbose'](_0x1a2a79[_0x111f49(0x8dd)]);let _0xf93a93=await this[_0x111f49(0x637)]({'request':_0x1a2a79,'schema':v,'ClassRef':M,'execute':_0x45ab12=>I[_0x111f49(0x643)](_0x45ab12,_0x22c8b8)});_0x57ca17[_0x111f49(0x2d2)](0xc8)[_0x111f49(0x5f4)](_0xf93a93);})[_0x4e16f9(0x2d5)](this[_0x4e16f9(0x3db)](_0x4e16f9(0x3e1)),..._0x32bfdd,async(_0x37db6a,_0x288dc2)=>{const _0x136455=_0x4e16f9;let _0x5f4714=_0x37db6a[_0x136455(0x8dd)];y['verbose'](_0x136455(0x777)),y[_0x136455(0x6f6)](_0x136455(0x202)),y[_0x136455(0x6f6)](_0x37db6a[_0x136455(0x8dd)]);let _0x39f666=await this[_0x136455(0x637)]({'request':_0x37db6a,'schema':v,'ClassRef':M,'execute':_0x2a29bf=>I[_0x136455(0x501)](_0x2a29bf,_0x5f4714)});_0x288dc2[_0x136455(0x2d2)](0xc8)[_0x136455(0x5f4)](_0x39f666);})[_0x4e16f9(0x2d5)](this[_0x4e16f9(0x3db)](_0x4e16f9(0x73b)),..._0x32bfdd,async(_0x533217,_0x4c9997)=>{const _0x41711f=_0x4e16f9;let _0x1e17da=_0x533217['body'];y[_0x41711f(0x6f6)]('request\x20received\x20in\x20getFlow'),y[_0x41711f(0x6f6)](_0x41711f(0x202)),y[_0x41711f(0x6f6)](_0x533217['body']);let _0x370175=await this['dataValidate']({'request':_0x533217,'schema':v,'ClassRef':M,'execute':_0x514e96=>I[_0x41711f(0x7a5)](_0x514e96,_0x1e17da)});_0x4c9997[_0x41711f(0x2d2)](0xc8)['json'](_0x370175);})[_0x4e16f9(0x4ee)](this[_0x4e16f9(0x3db)](_0x4e16f9(0x2b8)),..._0x32bfdd,async(_0x45fbd0,_0x2e74c0)=>{const _0x3e9118=_0x4e16f9;let _0x52d685=_0x45fbd0[_0x3e9118(0x8dd)];y[_0x3e9118(0x6f6)](_0x3e9118(0x5d8)),y[_0x3e9118(0x6f6)](_0x3e9118(0x202)),y[_0x3e9118(0x6f6)](_0x45fbd0[_0x3e9118(0x8dd)]);let _0xbe0129=await this['dataValidate']({'request':_0x45fbd0,'schema':v,'ClassRef':M,'execute':_0x3fca06=>I[_0x3e9118(0x4a5)](_0x3fca06,_0x52d685)});_0x2e74c0[_0x3e9118(0x2d2)](0xc8)['json'](_0xbe0129);})['get'](this['routerPath'](_0x4e16f9(0x8b0)),..._0x32bfdd,async(_0x4cc864,_0x61e3fd)=>{const _0x4e75c2=_0x4e16f9;y[_0x4e75c2(0x6f6)](_0x4e75c2(0x7fc));let _0x207eab=await this[_0x4e75c2(0x637)]({'request':_0x4cc864,'schema':v,'ClassRef':M,'execute':_0x26edcf=>I[_0x4e75c2(0x795)](_0x26edcf)});_0x61e3fd[_0x4e75c2(0x2d2)](0xc8)[_0x4e75c2(0x5f4)](_0x207eab);});}},bi=R(require(a0_0xf534fa(0x875))),te={};function fi(_0x41fd39,_0x529a40,_0x50b257,_0x3e658d){te[_0x41fd39]||(te[_0x41fd39]={}),te[_0x41fd39][_0x529a40]={'id':_0x529a40,'response':_0x50b257,'events':_0x3e658d};}function wi(_0x585833,_0x383ebc){!te[_0x585833]||!te[_0x585833][_0x383ebc]||delete te[_0x585833][_0x383ebc];}function U(_0x4c452c,_0x4ba53e,_0x5b4656){const _0x42b9b9=a0_0xf534fa;if(!te[_0x4c452c])return;let _0x59c718=_0x42b9b9(0x76b)+JSON[_0x42b9b9(0x6f0)](_0x5b4656)+'\x0a\x0a';Object['values'](te[_0x4c452c])['forEach'](_0x211b78=>{const _0x49e153=_0x42b9b9;_0x211b78[_0x49e153(0x521)][_0x49e153(0x89d)](_0x4ba53e)&&_0x211b78[_0x49e153(0x386)][_0x49e153(0x2a9)](_0x59c718);});}function yi(){const _0x4c809f=a0_0xf534fa;let _0x41bbdd={};for(let _0x2c4bf8 in te)_0x41bbdd[_0x2c4bf8]=Object[_0x4c809f(0x3c5)](te[_0x2c4bf8])[_0x4c809f(0x445)](_0x7024d8=>({'id':_0x7024d8['id'],'events':_0x7024d8[_0x4c809f(0x521)]}));return _0x41bbdd;}var Si=require(a0_0xf534fa(0x3b9)),$s=require(a0_0xf534fa(0x651)),Ns=class{},Ro=new $s[(a0_0xf534fa(0x22f))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Ao=new $s['Schema']({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':Ro},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Se=$?.[a0_0xf534fa(0x8e2)](Ns[a0_0xf534fa(0x232)],Ao,a0_0xf534fa(0x58c)),Io=bi[a0_0xf534fa(0x311)][a0_0xf534fa(0x48a)](__dirname,a0_0xf534fa(0x262)),xe=(0x0,Tt[a0_0xf534fa(0x372)])(),To=b[a0_0xf534fa(0x71f)](a0_0xf534fa(0x3bf))['TYPE'],oe=[Na,$a,Ia[To]];xe[a0_0xf534fa(0x6d0)](a0_0xf534fa(0x3a2),Tt[a0_0xf534fa(0x311)]['static'](Io))[a0_0xf534fa(0x71f)](a0_0xf534fa(0x78b),async(_0x1ab24b,_0x3c48d3)=>{const _0x43640c=a0_0xf534fa;console[_0x43640c(0x2a2)](_0x43640c(0x6f4));let _0x433616=_0x1ab24b['params']['instance'],_0x229d27=(_0x1ab24b['query'][_0x43640c(0x521)]||'')[_0x43640c(0x520)](','),_0x463443=(0x0,Si['v4'])();console['log'](_0x43640c(0x3ae),_0x433616),console[_0x43640c(0x2a2)](_0x43640c(0x30a),_0x229d27);let _0x1f9483=b[_0x43640c(0x71f)](_0x43640c(0x3bf))[_0x43640c(0x5f5)],_0x304eaa=_0x1ab24b[_0x43640c(0x7db)]['apikey'];if(console[_0x43640c(0x2a2)]('API\x20Key\x20from\x20Request:',_0x304eaa),_0x1f9483[_0x43640c(0x438)]!==_0x304eaa){console[_0x43640c(0x2a2)](_0x43640c(0x593));try{let _0x125f61=await he[_0x43640c(0x7cc)][_0x43640c(0x525)](_0x433616);if(console[_0x43640c(0x2a2)](_0x43640c(0x406),_0x125f61),!_0x125f61||_0x125f61[_0x43640c(0x770)]!==_0x304eaa)return console[_0x43640c(0x2a2)](_0x43640c(0x5ff)),_0x3c48d3[_0x43640c(0x2d2)](0x191)[_0x43640c(0x6bb)]('API\x20Key\x20inválida.');}catch(_0x32602b){return console['error'](_0x43640c(0x3f4),_0x32602b),_0x3c48d3[_0x43640c(0x2d2)](0x191)[_0x43640c(0x6bb)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Ae(_0x433616))return _0x3c48d3['status'](0x194)['send']('Instância\x20não\x20encontrada.');_0x3c48d3['setHeader'](_0x43640c(0x3fa),_0x43640c(0x463)),_0x3c48d3[_0x43640c(0x282)](_0x43640c(0x381),_0x43640c(0x5c5)),_0x3c48d3[_0x43640c(0x282)](_0x43640c(0x5ea),_0x43640c(0x5b5)),_0x3c48d3[_0x43640c(0x85e)]();let _0x4aa2e1=_0x43640c(0x76b)+JSON[_0x43640c(0x6f0)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x3c48d3[_0x43640c(0x2a9)](_0x4aa2e1),fi(_0x433616,_0x463443,_0x3c48d3,_0x229d27),_0x1ab24b['on'](_0x43640c(0x75e),()=>{const _0x5b8e22=_0x43640c;console[_0x5b8e22(0x2a2)]('Connection\x20closed\x20for\x20instance:\x20'+_0x433616),wi(_0x433616,_0x463443);});}),xe[a0_0xf534fa(0x2d5)](a0_0xf534fa(0x2a3),async(_0x11be25,_0x4a85ee)=>{const _0x185986=a0_0xf534fa;console[_0x185986(0x2a2)](_0x185986(0x30f));let _0x3a8e34=_0x11be25['params'][_0x185986(0x47a)],_0x3ed605=_0x11be25[_0x185986(0x601)][_0x185986(0x689)],_0x26462c=_0x11be25[_0x185986(0x7db)][_0x185986(0x281)]||'',_0x50f9da=_0x11be25['body'];console[_0x185986(0x2a2)](_0x185986(0x215),_0x3a8e34),console['log'](_0x185986(0x841),_0x3ed605),console['log'](_0x185986(0x2d9),_0x26462c),console[_0x185986(0x2a2)](_0x185986(0x1d1),_0x50f9da);try{if(!await Ae(_0x3a8e34))return _0x4a85ee[_0x185986(0x2d2)](0x194)['send']('Instância\x20não\x20encontrada.');let _0x434188=await I['startFlowWebhook'](_0x3a8e34,_0x3ed605,_0x26462c,_0x50f9da);_0x4a85ee[_0x185986(0x6bb)](_0x434188);}catch(_0x56aaf9){console[_0x185986(0x1c2)](_0x56aaf9),_0x4a85ee[_0x185986(0x2d2)](0x1f4)['send']('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),xe['get'](a0_0xf534fa(0x60f),(_0x43758e,_0x42dbd6)=>{let _0x2bb565=yi();_0x42dbd6['json'](_0x2bb565);})[a0_0xf534fa(0x71f)]('/',(_0x159b3c,_0x22e4d3)=>{const _0x1c31a7=a0_0xf534fa;let _0x5f14f1=b[_0x1c31a7(0x71f)](_0x1c31a7(0x69e))[_0x1c31a7(0x1ef)];if(_0x5f14f1){let _0x575342=encodeURIComponent(''+_0x5f14f1);_0x22e4d3[_0x1c31a7(0x669)](_0x1c31a7(0x307)+_0x575342);return;}let _0x1cb6a9=b[_0x1c31a7(0x71f)](_0x1c31a7(0x2ae)),_0x5ac495=_0x1cb6a9&&_0x1cb6a9['FULLCHAIN'][_0x1c31a7(0x520)]('/')[0x4];if(_0x5ac495){let _0x7bdda6=encodeURIComponent(_0x1c31a7(0x338)+_0x5ac495);_0x22e4d3['redirect'](_0x1c31a7(0x307)+_0x7bdda6);}else _0x22e4d3[_0x1c31a7(0x669)](_0x1c31a7(0x492));})[a0_0xf534fa(0x1b4)]('/exit',...oe,async(_0x218b25,_0x3fd2d4)=>{const _0xcf1dd4=a0_0xf534fa;try{console[_0xcf1dd4(0x2a2)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x3fd2d4[_0xcf1dd4(0x2d2)](0xc8)[_0xcf1dd4(0x5f4)]({'message':_0xcf1dd4(0x4f4)}),_0x3fd2d4['on']('finish',()=>process[_0xcf1dd4(0x1ee)](0x0));}catch(_0x7cc068){console[_0xcf1dd4(0x1c2)](_0xcf1dd4(0x706),_0x7cc068),_0x3fd2d4[_0xcf1dd4(0x2d2)](0x1f4)[_0xcf1dd4(0x5f4)]({'message':_0xcf1dd4(0x425)});}})[a0_0xf534fa(0x1b4)]('/config',...oe,async(_0x21407c,_0x3ad902)=>{const _0x4403f7=a0_0xf534fa;try{let _0x2c2b45=_0x21407c[_0x4403f7(0x8dd)];await Se[_0x4403f7(0x21a)]({},{'$set':_0x2c2b45},{'upsert':!0x0});let _0x62293=await Se[_0x4403f7(0x3b6)]();_0x3ad902[_0x4403f7(0x5f4)](_0x62293);}catch(_0x10ee64){_0x3ad902[_0x4403f7(0x2d2)](0x190)[_0x4403f7(0x6bb)](_0x10ee64[_0x4403f7(0x6c6)]);}})[a0_0xf534fa(0x71f)]('/config',...oe,async(_0x411fba,_0x293064)=>{const _0x2168d1=a0_0xf534fa;try{let _0x24db6a=await Se['findOne']();if(!_0x24db6a)return _0x293064[_0x2168d1(0x5f4)]({});_0x293064[_0x2168d1(0x5f4)](_0x24db6a);}catch(_0x59d419){_0x293064[_0x2168d1(0x2d2)](0x1f4)[_0x2168d1(0x6bb)](_0x59d419[_0x2168d1(0x6c6)]);}})[a0_0xf534fa(0x6d0)]('/instance',new mt(b,...oe)['router'])[a0_0xf534fa(0x6d0)](a0_0xf534fa(0x284),new $t(...oe)[a0_0xf534fa(0x3eb)])['use'](a0_0xf534fa(0x490),new ot(...oe)[a0_0xf534fa(0x3eb)])[a0_0xf534fa(0x6d0)](a0_0xf534fa(0x45d),new gt(...oe)[a0_0xf534fa(0x3eb)])[a0_0xf534fa(0x6d0)]('/webhook',new At(...oe)[a0_0xf534fa(0x3eb)])[a0_0xf534fa(0x6d0)](a0_0xf534fa(0x758),new It(...oe)[a0_0xf534fa(0x3eb)]);var m=class{constructor(..._0xda457d){const _0x4bdfd8=a0_0xf534fa;throw{'status':0x190,'error':_0x4bdfd8(0x5df),'message':_0xda457d['length']>0x0?_0xda457d:void 0x0};}},ie=class{constructor(..._0x3be7fb){const _0x349650=a0_0xf534fa;throw{'status':0x191,'error':_0x349650(0x37f),'message':_0x3be7fb[_0x349650(0x847)]>0x0?_0x3be7fb:void 0x0};}},X=class{constructor(..._0x45aa84){const _0xb30755=a0_0xf534fa;throw{'status':0x193,'error':'Forbidden','message':_0x45aa84[_0xb30755(0x847)]>0x0?_0x45aa84:void 0x0};}},F=class{constructor(..._0x39900d){const _0x584904=a0_0xf534fa;throw{'status':0x194,'error':_0x584904(0x324),'message':_0x39900d[_0x584904(0x847)]>0x0?_0x39900d:void 0x0};}},O=class{constructor(..._0xcc78b9){const _0x2a1420=a0_0xf534fa;throw{'status':0x1f4,'error':_0x2a1420(0x32c),'message':_0xcc78b9[_0x2a1420(0x847)]>0x0?_0xcc78b9:void 0x0};}},ge=require(a0_0xf534fa(0x524));async function Rs(_0x1201c1){const _0x1b7d38=a0_0xf534fa;let _0x3704cd=new N(Rs['name']),_0x350519=$['getClient'](),_0x54503b=_0x350519['db'](b['get'](_0x1b7d38(0x671))[_0x1b7d38(0x5db)][_0x1b7d38(0x240)]+_0x1b7d38(0x6cb))[_0x1b7d38(0x22c)](_0x1201c1),_0x1877e9=async(_0x42a08f,_0x41328b)=>{const _0x1197fb=_0x1b7d38;try{return await _0x350519[_0x1197fb(0x842)](),await _0x54503b[_0x1197fb(0x6ff)]({'_id':_0x41328b},JSON[_0x1197fb(0x845)](JSON[_0x1197fb(0x6f0)](_0x42a08f,ge[_0x1197fb(0x260)][_0x1197fb(0x868)])),{'upsert':!0x0});}catch{}},_0x53f0aa=async _0x4ac460=>{const _0x27f0a6=_0x1b7d38;try{await _0x350519[_0x27f0a6(0x842)]();let _0x180ea6=await _0x54503b[_0x27f0a6(0x3b6)]({'_id':_0x4ac460}),_0x1ce379=JSON['stringify'](_0x180ea6);return JSON[_0x27f0a6(0x845)](_0x1ce379,ge['BufferJSON']['reviver']);}catch{}},_0x37d58a=async _0x450d60=>{const _0x25ed6b=_0x1b7d38;try{return await _0x350519[_0x25ed6b(0x842)](),await _0x54503b[_0x25ed6b(0x56e)]({'_id':_0x450d60});}catch{}},_0x4fbef3=await _0x53f0aa(_0x1b7d38(0x5a1))||(0x0,ge[_0x1b7d38(0x786)])();return{'state':{'creds':_0x4fbef3,'keys':{'get':async(_0x562622,_0x218c24)=>{const _0x41369f=_0x1b7d38;let _0x239ab5={};return await Promise[_0x41369f(0x423)](_0x218c24['map'](async _0x46f420=>{const _0x157101=_0x41369f;let _0xc89db2=await _0x53f0aa(_0x562622+'-'+_0x46f420);_0x562622==='app-state-sync-key'&&_0xc89db2&&(_0xc89db2=ge[_0x157101(0x7bb)][_0x157101(0x1d7)][_0x157101(0x63a)]['fromObject'](_0xc89db2)),_0x239ab5[_0x46f420]=_0xc89db2;})),_0x239ab5;},'set':async _0x139c8e=>{let _0x4de3d7=[];for(let _0x3d1905 in _0x139c8e)for(let _0x1fd47e in _0x139c8e[_0x3d1905]){let _0x4841c1=_0x139c8e[_0x3d1905][_0x1fd47e],_0xa09c5c=_0x3d1905+'-'+_0x1fd47e;_0x4de3d7['push'](_0x4841c1?_0x1877e9(_0x4841c1,_0xa09c5c):_0x37d58a(_0xa09c5c));}await Promise['all'](_0x4de3d7);}}},'saveCreds':async()=>_0x1877e9(_0x4fbef3,_0x1b7d38(0x5a1))};}var _s=R(require(a0_0xf534fa(0x873))),xs=R(require('node-cache')),xt=require(a0_0xf534fa(0x524)),Mi=require(a0_0xf534fa(0x70c)),_t=require('@whiskeysockets/baileys'),Ot;function Oo(_0xabcc3f){const _0x500f8d=a0_0xf534fa;return Ot||(Ot=(0x0,Mi[_0x500f8d(0x6f8)])({'url':_0xabcc3f[_0x500f8d(0x3fc)]}),Ot[_0x500f8d(0x842)]()),Ot;}var ue=class u{constructor(_0x32c7ac,_0x54b439){const _0x55eccc=a0_0xf534fa;this[_0x55eccc(0x424)]=_0x32c7ac,this['instanceName']=_0x54b439,this[_0x55eccc(0x4e3)]=new N(u[_0x55eccc(0x232)]),this[_0x55eccc(0x73e)]=Oo(_0x32c7ac);}set[a0_0xf534fa(0x860)](_0x252655){this['instanceName']=_0x252655;}async[a0_0xf534fa(0x23c)](){const _0x282925=a0_0xf534fa;try{return await this['client'][_0x282925(0x65d)](['keys',this[_0x282925(0x424)][_0x282925(0x874)]+':*']);}catch(_0xd7b2eb){this[_0x282925(0x4e3)][_0x282925(0x1c2)](_0xd7b2eb);}}async[a0_0xf534fa(0x571)](_0x2af058,_0x1e99be){const _0x32d0ad=a0_0xf534fa;try{let _0x5e959e=JSON[_0x32d0ad(0x6f0)](_0x1e99be,_t[_0x32d0ad(0x260)]['replacer']);return await this[_0x32d0ad(0x73e)][_0x32d0ad(0x6f2)](this[_0x32d0ad(0x424)][_0x32d0ad(0x874)]+':'+this[_0x32d0ad(0x653)],_0x2af058,_0x5e959e);}catch(_0x22866e){this[_0x32d0ad(0x4e3)][_0x32d0ad(0x1c2)](_0x22866e);}}async[a0_0xf534fa(0x6ae)](){const _0x245a8e=a0_0xf534fa;try{let _0x1dad50=await this[_0x245a8e(0x73e)]['hGetAll'](this[_0x245a8e(0x424)][_0x245a8e(0x874)]+':'+this[_0x245a8e(0x653)]);if(_0x1dad50){for(let _0x5e043a in _0x1dad50)Object[_0x245a8e(0x644)][_0x245a8e(0x6f5)][_0x245a8e(0x8e1)](_0x1dad50,_0x5e043a)&&(_0x1dad50[_0x5e043a]=JSON['parse'](_0x1dad50[_0x5e043a],_t['BufferJSON'][_0x245a8e(0x5c8)]));return _0x1dad50;}}catch(_0x523623){this['logger'][_0x245a8e(0x1c2)](_0x523623);}}async[a0_0xf534fa(0x7c4)](_0x139703){const _0x58cbe3=a0_0xf534fa;try{let _0x7c4f2c=await this['client'][_0x58cbe3(0x4b2)](this['redisEnv']['PREFIX_KEY']+':'+this[_0x58cbe3(0x653)],_0x139703);if(_0x7c4f2c)return JSON[_0x58cbe3(0x845)](_0x7c4f2c,_t[_0x58cbe3(0x260)][_0x58cbe3(0x5c8)]);}catch(_0x49fa73){this[_0x58cbe3(0x4e3)][_0x58cbe3(0x1c2)](_0x49fa73);}}async['removeData'](_0x44e6e5){const _0x1faeba=a0_0xf534fa;try{return await this[_0x1faeba(0x73e)][_0x1faeba(0x417)](this['redisEnv'][_0x1faeba(0x874)]+':'+this['instanceName'],_0x44e6e5);}catch(_0x509b5a){this[_0x1faeba(0x4e3)][_0x1faeba(0x1c2)](_0x509b5a);}}async['delAll'](_0xe7d5f1){const _0x43bc91=a0_0xf534fa;try{return await this[_0x43bc91(0x73e)][_0x43bc91(0x2cd)](_0xe7d5f1||this[_0x43bc91(0x424)]['PREFIX_KEY']+':'+this[_0x43bc91(0x653)]);}catch(_0x18963a){this['logger'][_0x43bc91(0x1c2)](_0x18963a);}}};async function As(_0x3f6be6,_0x323cda){const _0x3fc7ce=a0_0xf534fa;let _0x23fd0a=new N(As[_0x3fc7ce(0x232)]),_0x424b69=new ue(_0x3f6be6,_0x323cda),_0x77711c=async(_0x4e8177,_0x58f97b)=>{const _0x260431=_0x3fc7ce;try{return await _0x424b69[_0x260431(0x571)](_0x58f97b,_0x4e8177);}catch(_0x6cbffc){return _0x23fd0a['error']({'localError':_0x260431(0x571),'error':_0x6cbffc});}},_0x30d3b5=async _0x522fa0=>{const _0x64dabd=_0x3fc7ce;try{return await _0x424b69['readData'](_0x522fa0);}catch(_0xa32483){_0x23fd0a[_0x64dabd(0x1c2)]({'readData':_0x64dabd(0x571),'error':_0xa32483});return;}},_0x4ed168=async _0x152e00=>{const _0x737be8=_0x3fc7ce;try{return await _0x424b69[_0x737be8(0x83b)](_0x152e00);}catch(_0x3d362b){_0x23fd0a[_0x737be8(0x1c2)]({'readData':'removeData','error':_0x3d362b});}},_0x4e069c=await _0x30d3b5('creds')||(0x0,xt['initAuthCreds'])();return{'state':{'creds':_0x4e069c,'keys':{'get':async(_0x19ac68,_0x1a1ec4)=>{const _0x419ffc=_0x3fc7ce;let _0x4e0e37={};return await Promise[_0x419ffc(0x423)](_0x1a1ec4[_0x419ffc(0x445)](async _0xe75236=>{const _0x19285f=_0x419ffc;let _0x596fe3=await _0x30d3b5(_0x19ac68+'-'+_0xe75236);_0x19ac68===_0x19285f(0x4f5)&&_0x596fe3&&(_0x596fe3=xt[_0x19285f(0x7bb)][_0x19285f(0x1d7)][_0x19285f(0x63a)][_0x19285f(0x450)](_0x596fe3)),_0x4e0e37[_0xe75236]=_0x596fe3;})),_0x4e0e37;},'set':async _0x545608=>{const _0x4619ea=_0x3fc7ce;let _0x431eb9=[];for(let _0x486e2b in _0x545608)for(let _0x4c068d in _0x545608[_0x486e2b]){let _0x503516=_0x545608[_0x486e2b][_0x4c068d],_0x2804f4=_0x486e2b+'-'+_0x4c068d;_0x431eb9[_0x4619ea(0x1a2)](_0x503516?await _0x77711c(_0x503516,_0x2804f4):await _0x4ed168(_0x2804f4));}await Promise['all'](_0x431eb9);}}},'saveCreds':async()=>await _0x77711c(_0x4e069c,_0x3fc7ce(0x5a1))};}var P=R(require('fs')),Y=require(a0_0xf534fa(0x3b9)),Lt=R(require(a0_0xf534fa(0x6c3))),Ft=require('crypto'),Ci=require('child_process'),Ei=require(a0_0xf534fa(0x287)),vi=R(require(a0_0xf534fa(0x3c1))),Me=class extends T{constructor(_0x5677cf,_0x1b0227,_0x5c6328){const _0x3ee8f4=a0_0xf534fa;super(_0x1b0227),this[_0x3ee8f4(0x60d)]=_0x5677cf,this[_0x3ee8f4(0x7dd)]=_0x1b0227,this[_0x3ee8f4(0x28e)]=_0x5c6328;}async[a0_0xf534fa(0x5c3)](_0x3e812f,_0x35dd0f){const _0x59b075=a0_0xf534fa;try{if(this[_0x59b075(0x2a8)][_0x59b075(0x4f1)]){console[_0x59b075(0x2a2)](_0x59b075(0x6b6)+_0x35dd0f+_0x59b075(0x6ba),_0x3e812f);let _0x3f888b=await this[_0x59b075(0x60d)][_0x59b075(0x6fc)]({'_id':_0x35dd0f},{'$set':_0x3e812f},{'new':!0x0,'upsert':!0x0});return console[_0x59b075(0x2a2)](_0x59b075(0x53a),_0x3f888b),_0x3f888b;}}catch(_0x29792a){throw console[_0x59b075(0x1c2)](_0x59b075(0x66c),_0x29792a),_0x29792a;}return null;}async[a0_0xf534fa(0x56e)](_0x5b1a8e){const _0x572afb=a0_0xf534fa;try{let _0x5452ba=A(_0x5b1a8e[_0x572afb(0x867)]);return{'deletedCount':(await this[_0x572afb(0x60d)]['deleteOne'](_0x5452ba))['deletedCount']};}catch(_0x259645){return{'error':_0x259645?.[_0x572afb(0x7f7)]()};}}async[a0_0xf534fa(0x3b6)](_0x58ff42){const _0xd3c2ab=a0_0xf534fa;try{let _0x1d8efb=A(_0x58ff42[_0xd3c2ab(0x867)]);return await this[_0xd3c2ab(0x60d)]['findOne'](_0x1d8efb)[_0xd3c2ab(0x5ed)]();}catch{return null;}}},Dt=(0x0,Ei[a0_0xf534fa(0x781)])(Ci[a0_0xf534fa(0x887)]),_o=b[a0_0xf534fa(0x71f)](a0_0xf534fa(0x7d2)),Is=class{constructor(){const _0x153541=a0_0xf534fa;this[_0x153541(0x63e)]=new Me(qe,b),(!this[_0x153541(0x86b)]||!this[_0x153541(0x29b)])&&_o&&this[_0x153541(0x682)]()['then'](()=>{const _0x5aeb4f=_0x153541;console[_0x5aeb4f(0x2a2)](_0x5aeb4f(0x628)+this[_0x5aeb4f(0x86b)]),console['log'](_0x5aeb4f(0x49a)+this[_0x5aeb4f(0x29b)]);})[_0x153541(0x7a9)](_0x4b3270=>{const _0x31339e=_0x153541;console['error'](_0x31339e(0x641)+_0x4b3270[_0x31339e(0x6c6)]);});}async[a0_0xf534fa(0x682)](){const _0x51dee8=a0_0xf534fa;try{let {stdout:_0x16e0d0}=await Dt('ip\x20-br\x20link\x20show');console[_0x51dee8(0x2a2)](_0x51dee8(0x350)+_0x16e0d0);let _0x2f16a2=_0x16e0d0[_0x51dee8(0x520)]('\x0a')[_0x51dee8(0x445)](_0x1d8005=>_0x1d8005[_0x51dee8(0x520)]('\x20')[0x0])['filter'](_0x2ec400=>!_0x2ec400['includes']('lo')&&!_0x2ec400[_0x51dee8(0x89d)]('docker')&&!_0x2ec400[_0x51dee8(0x89d)](_0x51dee8(0x5e8))&&!_0x2ec400[_0x51dee8(0x89d)]('wl')&&!_0x2ec400[_0x51dee8(0x89d)]('@'));if(console[_0x51dee8(0x2a2)](_0x51dee8(0x81b)+_0x2f16a2),_0x2f16a2['length']===0x0)throw new Error(_0x51dee8(0x783));this[_0x51dee8(0x29b)]=_0x2f16a2[0x0];let {stdout:_0x4228e7}=await Dt(_0x51dee8(0x397)+this[_0x51dee8(0x29b)]);console[_0x51dee8(0x2a2)](_0x51dee8(0x24d)+_0x4228e7);let _0x325027=_0x4228e7[_0x51dee8(0x520)]('\x0a')[_0x51dee8(0x525)](_0x2290ac=>_0x2290ac['includes'](_0x51dee8(0x799))&&_0x2290ac[_0x51dee8(0x89d)]('global'));if(!_0x325027)throw new Error(_0x51dee8(0x674));let _0x541902=_0x325027[_0x51dee8(0x655)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x541902)throw new Error(_0x51dee8(0x666));let [_0x3bae4d,_0x497e19,_0x5b770e]=_0x541902,_0xc5efea=Math[_0x51dee8(0x216)](Number(_0x5b770e)/0x10),_0x174719=Number(_0x5b770e)%0x10,_0x369be8=_0x497e19[_0x51dee8(0x520)](':')[_0x51dee8(0x2f2)](0x0,_0xc5efea)['join'](':');if(_0x174719>0x0){let _0x4e8f22=_0x497e19[_0x51dee8(0x520)](':')[_0xc5efea],_0x17ce84=0xffff<<0x10-_0x174719&0xffff,_0x1d930d=(parseInt(_0x4e8f22,0x10)&_0x17ce84)[_0x51dee8(0x7f7)](0x10)[_0x51dee8(0x602)](0x4,'0');_0x369be8+=':'+_0x1d930d;}this[_0x51dee8(0x86b)]=_0x369be8+':';}catch(_0x5bdd58){console['error'](_0x51dee8(0x8db),_0x5bdd58);}}async[a0_0xf534fa(0x5ec)](_0x11634a){const _0x39b1f2=a0_0xf534fa;let _0x23e64e=_0x39b1f2(0x2cc)+_0x11634a+_0x39b1f2(0x2b0)+this[_0x39b1f2(0x29b)];try{await Dt(_0x23e64e),console[_0x39b1f2(0x2a2)](_0x39b1f2(0x4dc)+_0x11634a);}catch(_0x15dd3d){console[_0x39b1f2(0x1c2)]('Error\x20adding\x20IPv6\x20address:\x20'+_0x15dd3d);}}async[a0_0xf534fa(0x55d)](_0x296767){const _0x4168af=a0_0xf534fa;let _0x8c4ed3='ip\x20-6\x20addr\x20del\x20'+_0x296767+_0x4168af(0x2b0)+this['networkInterface'];try{await Dt(_0x8c4ed3),console[_0x4168af(0x2a2)]('IPv6\x20address\x20removed:\x20'+_0x296767);}catch(_0x171f10){console[_0x4168af(0x1c2)](_0x4168af(0x5a8)+_0x171f10);}}[a0_0xf534fa(0x341)](){const _0x5a5b43=a0_0xf534fa;return _0x5a5b43(0x6b7)[_0x5a5b43(0x60c)](/X/g,()=>_0x5a5b43(0x86e)['charAt'](Math[_0x5a5b43(0x216)](Math[_0x5a5b43(0x48d)]()*0x10)));}['ip6eui'](_0x4c6b9c,_0x1c0263){const _0x4487fd=a0_0xf534fa;let _0x36050c=_0x1c0263[_0x4487fd(0x520)](':');return _0x36050c[0x0]=(parseInt(_0x36050c[0x0],0x10)^0x2)[_0x4487fd(0x7f7)](0x10)['padStart'](0x2,'0'),''+_0x4c6b9c+_0x36050c[0x0]+_0x36050c[0x1]+':'+_0x36050c[0x2]+_0x4487fd(0x6fd)+_0x36050c[0x3]+':'+_0x36050c[0x4]+_0x36050c[0x5];}['generateRandomIPv6'](){const _0x56e123=a0_0xf534fa;let _0x2c285d=this[_0x56e123(0x86b)];_0x2c285d['endsWith'](':')||(_0x2c285d+=':');let _0x4685e7=this[_0x56e123(0x341)]();return this[_0x56e123(0x3b8)](_0x2c285d,_0x4685e7);}[a0_0xf534fa(0x56b)](_0x483180){const _0x476d4e=a0_0xf534fa;return new RegExp(_0x476d4e(0x751))[_0x476d4e(0x4c2)](_0x483180);}async[a0_0xf534fa(0x276)](_0x39277a){const _0x3fc37c=a0_0xf534fa;let _0x18c2ad=[{'url':_0x3fc37c(0x773),'parse':_0x5f3dcb=>_0x5f3dcb['ip']},{'url':_0x3fc37c(0x6d2),'parse':_0x43cd8c=>_0x43cd8c['ip']},{'url':_0x3fc37c(0x222),'parse':_0x1c0a95=>_0x1c0a95[_0x3fc37c(0x4fb)]()},{'url':_0x3fc37c(0x1ec),'parse':_0xcd4dd4=>_0xcd4dd4['trim']()}],_0x42a230=_0x18c2ad[Math[_0x3fc37c(0x216)](Math[_0x3fc37c(0x48d)]()*_0x18c2ad[_0x3fc37c(0x847)])];try{let _0xdaece0=await vi['default'][_0x3fc37c(0x71f)](_0x42a230[_0x3fc37c(0x893)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x39277a}}),_0x2c448e=_0x42a230[_0x3fc37c(0x845)](_0xdaece0['data']);return _0x2c448e[_0x3fc37c(0x1cd)]()===_0x39277a[_0x3fc37c(0x1cd)]()?(console['log'](_0x3fc37c(0x3e3)+_0x39277a),!0x0):(console[_0x3fc37c(0x1c2)](_0x3fc37c(0x87f)+_0x39277a+',\x20received\x20'+_0x2c448e),!0x1);}catch(_0xfe4582){return console['error'](_0x3fc37c(0x495)+_0x42a230[_0x3fc37c(0x893)]+':\x20'+_0xfe4582[_0x3fc37c(0x6c6)]),!0x1;}}async[a0_0xf534fa(0x747)](_0x139a79,_0x190838){const _0x4a6368=a0_0xf534fa;if(!this['ipv6Prefix']||!this[_0x4a6368(0x29b)])return console['error']('IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.'),null;let _0x3d4759;do _0x3d4759=this['generateRandomIPv6'](),console['log'](_0x4a6368(0x619)+_0x3d4759);while(!await this[_0x4a6368(0x7e2)](_0x3d4759));await this[_0x4a6368(0x5ec)](_0x3d4759),console[_0x4a6368(0x2a2)](_0x4a6368(0x243)+_0x3d4759);let _0x589437={'_id':_0x139a79+'-'+_0x190838,'ip':_0x3d4759},_0x2bae86=await this[_0x4a6368(0x63e)]['createOrUpdate'](_0x589437,_0x589437['_id']);return console[_0x4a6368(0x2a2)]('Cache\x20instance\x20update\x20result:\x20'+_0x2bae86),_0x3d4759;}async[a0_0xf534fa(0x7e2)](_0x1a8091){const _0x493645=a0_0xf534fa;return this[_0x493645(0x56b)](_0x1a8091)?!await this[_0x493645(0x63e)][_0x493645(0x3b6)]({'where':{'ip':_0x1a8091}}):!0x1;}async[a0_0xf534fa(0x4ef)](_0x496a19,_0x34302a){const _0x419fee=a0_0xf534fa;let _0x44c961=_0x496a19+'-'+_0x34302a,_0x4add3e=await this['cacheInstanceRepository']['findOne']({'where':{'_id':_0x44c961}});_0x4add3e&&_0x4add3e['ip']&&(await this['removeIPv6'](_0x4add3e['ip']),await this[_0x419fee(0x63e)][_0x419fee(0x56e)]({'where':{'_id':_0x44c961}}));}},xo=new Is(),se=xo,Ds=a0_0xf534fa(0x8a6),Oi,de=null,Ta=null,Do=0x3,Po=null,Ni=b[a0_0xf534fa(0x71f)](a0_0xf534fa(0x3bf))[a0_0xf534fa(0x5f5)][a0_0xf534fa(0x438)],$i=b['get'](a0_0xf534fa(0x7d2));async function ko(){const _0x683a8f=a0_0xf534fa;let _0x22319c=await Se['findOne']();de=_0x22319c?.[_0x683a8f(0x41a)]??null,Po=_0x22319c?.[_0x683a8f(0x83a)]??null,Ds=_0x22319c?.['connectedClient']??_0x683a8f(0x8a6),Oi=_0x22319c?.[_0x683a8f(0x82a)]??W??'uazapi';}async function Lo(){await ko();}Lo();var Pt={},Ce=class u{constructor(_0x340cbe,_0x4a6f40,_0x5d2e24){const _0x201564=a0_0xf534fa;this['configService']=_0x340cbe,this[_0x201564(0x31a)]=_0x4a6f40,this[_0x201564(0x7ea)]=_0x5d2e24,this[_0x201564(0x877)]=null,this[_0x201564(0x4e3)]=new N(u[_0x201564(0x232)]),this[_0x201564(0x47a)]={},this[_0x201564(0x322)]={},this[_0x201564(0x50e)]={'state':'close'},this['storePath']=(0x0,L[_0x201564(0x48a)])(re,'downloads'),this[_0x201564(0x739)]=new xs[(_0x201564(0x311))](),this[_0x201564(0x76e)]=new xs[(_0x201564(0x311))](),this[_0x201564(0x24b)]=!0x1,this[_0x201564(0x72a)]={'status.instance':'/wa-connection-update','connection.update':_0x201564(0x457),'qrcode.updated':_0x201564(0x2e1),'messages.upsert':_0x201564(0x700),'send.message':_0x201564(0x700),'messages.update':_0x201564(0x34a),'group.upsert':'/wa-groups','group.update':_0x201564(0x4a1),'group-participants.update':_0x201564(0x4a1),'messages.set':'/wa-all-message','contacts.set':'/wa-contacts','contacts.upsert':_0x201564(0x28b),'contacts.update':'/wa-contacts','presence.update':'/wa-presence','chats.set':_0x201564(0x29e),'chats.update':'/wa-chats','chats.upsert':_0x201564(0x29e),'chats.delete':_0x201564(0x29e)},this['reconnectAttempts']=0x0,this[_0x201564(0x246)]=[],this[_0x201564(0x5ab)]=0xea60,this[_0x201564(0x740)]=!0x1,this[_0x201564(0x199)]={'chats.upsert':async(_0x4b2a96,_0x50d5b6)=>{const _0x48383c=_0x201564;let _0x208acd=[];for await(let _0x57c7f3 of _0x4b2a96)_0x208acd[_0x48383c(0x1a2)]({'_id':_0x57c7f3['id'],'owner':this[_0x48383c(0x47a)][_0x48383c(0x5a4)],'group':_0x57c7f3['id'][_0x48383c(0x1b6)]('@g.us'),'name':_0x57c7f3[_0x48383c(0x232)]||_0x57c7f3['displayName']||null,'contactname':null,'lastmsg':_0x57c7f3['conversationTimestamp']&&_0x57c7f3[_0x48383c(0x2d3)][_0x48383c(0x7f7)]()[_0x48383c(0x847)]<0xd?_0x57c7f3['conversationTimestamp']*0x3e8:_0x57c7f3[_0x48383c(0x2d3)]||null,'archived':_0x57c7f3['archived']||!0x1,'unreadcount':_0x57c7f3[_0x48383c(0x61d)]||0x0,'ephemeralExpiration':_0x57c7f3[_0x48383c(0x365)]||0x0});this[_0x48383c(0x68c)](_0x48383c(0x1a5),_0x208acd);},'chats.update':async(_0x39a499,_0x1ed9ba)=>{const _0x1dfab0=_0x201564;for(let _0x3cb580 of _0x39a499){let _0xbb8912={'_id':_0x3cb580['id'],'owner':this['instance'][_0x1dfab0(0x5a4)],'archived':_0x3cb580['archived'],'muteEndTime':_0x3cb580[_0x1dfab0(0x766)],'ephemeralExpiration':_0x3cb580[_0x1dfab0(0x365)]},_0x1c8fb3=!0x1,_0x131462={};_0xbb8912[_0x1dfab0(0x477)]!=null&&(this[_0x1dfab0(0x4e3)]['verbose'](this[_0x1dfab0(0x653)]+'\x20('+this[_0x1dfab0(0x47a)][_0x1dfab0(0x5a4)]+_0x1dfab0(0x371)+_0x3cb580['id']+_0x1dfab0(0x3d2)+_0x3cb580['archived']),_0x1c8fb3=!0x0,_0x131462['archived']=_0x3cb580[_0x1dfab0(0x477)]),_0x1dfab0(0x766)in _0x3cb580&&(this[_0x1dfab0(0x4e3)]['verbose'](this[_0x1dfab0(0x653)]+'\x20('+this[_0x1dfab0(0x47a)][_0x1dfab0(0x5a4)]+'):\x20teve\x20mudanças\x20chat.muteEndTime:\x20'+_0x3cb580['id']+_0x1dfab0(0x3d2)+(_0x3cb580[_0x1dfab0(0x766)]??'0')),_0x1c8fb3=!0x0,_0x131462[_0x1dfab0(0x766)]=_0x3cb580[_0x1dfab0(0x766)]??0x0),_0x1dfab0(0x365)in _0x3cb580&&(this['logger'][_0x1dfab0(0x6f6)](this[_0x1dfab0(0x653)]+'\x20('+this[_0x1dfab0(0x47a)]['wuid']+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x3cb580['id']+'\x20:\x20'+(_0x3cb580[_0x1dfab0(0x365)]!==void 0x0?_0x3cb580['ephemeralExpiration']:_0x1dfab0(0x4ec))),_0x131462[_0x1dfab0(0x365)]=_0x3cb580['ephemeralExpiration']===null?0x0:_0x3cb580[_0x1dfab0(0x365)],_0x1c8fb3=!0x0);let _0x52f622;_0x1c8fb3&&(_0x52f622=await this[_0x1dfab0(0x7ea)][_0x1dfab0(0x803)]['updateOne']({'where':{'_id':_0x3cb580['id']}},_0x131462,this[_0x1dfab0(0x47a)]['wuid'])),_0x52f622&&U(this[_0x1dfab0(0x653)],_0x1dfab0(0x8bc),{'chat':_0x52f622});}},'chats.delete':async _0x5313d0=>{const _0x3596c4=_0x201564;for(let _0x4cbdfc of _0x5313d0)if(_0x4cbdfc[_0x3596c4(0x1b6)](_0x3596c4(0x64e))){await this['repository'][_0x3596c4(0x803)][_0x3596c4(0x4ee)]({'where':{'_id':_0x4cbdfc}},this[_0x3596c4(0x47a)][_0x3596c4(0x5a4)]);let _0x1bd97b={'where':{'key':{'remoteJid':_0x4cbdfc}}};await this[_0x3596c4(0x7ea)][_0x3596c4(0x6c6)][_0x3596c4(0x4ee)](_0x1bd97b,this['instance']['wuid']);}else{await this[_0x3596c4(0x7ea)][_0x3596c4(0x803)][_0x3596c4(0x21a)]({'where':{'_id':_0x4cbdfc}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3596c4(0x47a)]['wuid']);let _0x176a74={'where':{'key':{'remoteJid':_0x4cbdfc}}};await this[_0x3596c4(0x7ea)][_0x3596c4(0x6c6)][_0x3596c4(0x4ee)](_0x176a74,this[_0x3596c4(0x47a)][_0x3596c4(0x5a4)]);}this[_0x3596c4(0x68c)](_0x3596c4(0x42f),[..._0x5313d0]);}},this[_0x201564(0x563)]={'contacts.upsert':async(_0xcc40a3,_0x143b9b)=>{const _0x2f9f63=_0x201564;let _0x2e994b=await this[_0x2f9f63(0x7ea)][_0x2f9f63(0x366)][_0x2f9f63(0x525)]({'where':{}},this[_0x2f9f63(0x47a)][_0x2f9f63(0x5a4)]),_0x580682=[];for await(let _0x2dc663 of _0xcc40a3)_0x2e994b[_0x2f9f63(0x525)](_0x11d9ed=>_0x11d9ed['_id']===_0x2dc663['id'])||_0x580682['push']({'_id':_0x2dc663['id'],'pushName':_0x2dc663?.[_0x2f9f63(0x232)]||_0x2dc663?.[_0x2f9f63(0x764)],'owner':this[_0x2f9f63(0x47a)][_0x2f9f63(0x5a4)]});this['sendDataWebhook'](_0x2f9f63(0x624),_0x580682),await this['repository'][_0x2f9f63(0x366)]['insert'](_0x580682);},'contacts.update':async(_0x1e1d3e,_0x278aa2)=>{const _0x52fa6a=_0x201564;let _0x55a916=[];for await(let _0x1bd6c5 of _0x1e1d3e)_0x55a916[_0x52fa6a(0x1a2)]({'_id':_0x1bd6c5['id'],'pushName':_0x1bd6c5?.[_0x52fa6a(0x232)]??_0x1bd6c5?.[_0x52fa6a(0x764)],'owner':this[_0x52fa6a(0x47a)][_0x52fa6a(0x5a4)]});this[_0x52fa6a(0x68c)](_0x52fa6a(0x7c8),_0x55a916);}},this[_0x201564(0x838)]={'messaging-history.set':async({messages:_0x4daecf,chats:_0x54e545,isLatest:_0x218852},_0xb9ce53)=>{const _0x4e7404=_0x201564;if(_0x218852){let _0x431af6=await Promise[_0x4e7404(0x423)](_0x54e545[_0x4e7404(0x445)](async _0x152c4e=>({'_id':_0x152c4e['id'],'owner':this[_0x4e7404(0x47a)][_0x4e7404(0x5a4)],'group':_0x152c4e['id'][_0x4e7404(0x1b6)](_0x4e7404(0x64e)),'name':_0x152c4e[_0x4e7404(0x232)]||_0x152c4e['displayName']||_0x152c4e[_0x4e7404(0x43c)]||null,'contactname':null,'lastmsg':_0x152c4e[_0x4e7404(0x2d3)]&&_0x152c4e['conversationTimestamp'][_0x4e7404(0x7f7)]()['length']<0xd?_0x152c4e[_0x4e7404(0x2d3)]*0x3e8:_0x152c4e[_0x4e7404(0x2d3)]||null,'archived':_0x152c4e[_0x4e7404(0x477)]||!0x1,'unreadcount':_0x152c4e[_0x4e7404(0x61d)]||0x0,'ephemeralExpiration':_0x152c4e[_0x4e7404(0x365)]||0x0,'muteEndTime':_0x152c4e['muteEndTime']||0x0})));this[_0x4e7404(0x68c)](_0x4e7404(0x2fc),_0x431af6),await this[_0x4e7404(0x506)](_0x431af6,_0xb9ce53);}let _0x440dbc=[],_0x5ac6c5=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x588eb7]of Object[_0x4e7404(0x3aa)](_0x4daecf)){if(_0x588eb7[_0x4e7404(0x6c6)]?.['protocolMessage']||_0x588eb7[_0x4e7404(0x6c6)]?.[_0x4e7404(0x42b)]||!_0x588eb7[_0x4e7404(0x6c6)]||_0x588eb7[_0x4e7404(0x693)][_0x4e7404(0x281)]===_0x4e7404(0x2bd)||(_s[_0x4e7404(0x311)][_0x4e7404(0x451)](_0x588eb7?.[_0x4e7404(0x27c)])&&(_0x588eb7[_0x4e7404(0x27c)]=_0x588eb7[_0x4e7404(0x27c)]?.['toNumber']()),_0x588eb7[_0x4e7404(0x27c)]&&_0x588eb7[_0x4e7404(0x27c)][_0x4e7404(0x7f7)]()[_0x4e7404(0x847)]<0xd&&(_0x588eb7['messageTimestamp']=_0x588eb7[_0x4e7404(0x27c)]*0x3e8),_0x588eb7['messageTimestamp']<_0x5ac6c5))continue;let _0x2aed3c=(0x0,w['normalizeMessageContent'])(_0x588eb7[_0x4e7404(0x6c6)]),_0x23edad=(0x0,w[_0x4e7404(0x662)])(_0x2aed3c),{message_normalized:_0x55a844}=this[_0x4e7404(0x382)](_0x2aed3c,_0x23edad,null);Object[_0x4e7404(0x725)](_0x55a844)[_0x4e7404(0x847)]>0x0&&_0x440dbc[_0x4e7404(0x1a2)]({'_id':_0x588eb7[_0x4e7404(0x693)]['id'],'key':_0x588eb7[_0x4e7404(0x693)],'pushName':_0x588eb7[_0x4e7404(0x6a6)],'participant':_0x588eb7['participant'],'message':_0x2aed3c,'messageType':_0x23edad,'message_normalized':{'key':_0x588eb7[_0x4e7404(0x693)],'pushName':_0x588eb7[_0x4e7404(0x6a6)],'messageTimestamp':_0x588eb7['messageTimestamp'],..._0x55a844},'messageTimestamp':_0x588eb7[_0x4e7404(0x27c)],'owner':this[_0x4e7404(0x47a)][_0x4e7404(0x5a4)]});}_0xb9ce53[_0x4e7404(0x4f1)]&&_0x440dbc[_0x4e7404(0x847)]>0x0&&(this['logger'][_0x4e7404(0x6f6)](this[_0x4e7404(0x653)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x440dbc[_0x4e7404(0x847)]+_0x4e7404(0x7b2)+this[_0x4e7404(0x47a)][_0x4e7404(0x5a4)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x4e7404(0x7ea)][_0x4e7404(0x6c6)][_0x4e7404(0x710)]([..._0x440dbc],this['instance'][_0x4e7404(0x5a4)])),this[_0x4e7404(0x68c)](_0x4e7404(0x5e3),[..._0x440dbc]),_0x4daecf=void 0x0;},'messages.upsert':async({messages:_0x331771,type:_0x5ab39a},_0x2102ee)=>{const _0x402c1d=_0x201564;for(let _0x50a7b0 of _0x331771){if(this['localWebhook']?.['groups_ignore']&&_0x50a7b0['key'][_0x402c1d(0x281)][_0x402c1d(0x89d)]('@g.us')){this[_0x402c1d(0x4e3)][_0x402c1d(0x6f6)](this[_0x402c1d(0x653)]+'\x20('+this[_0x402c1d(0x47a)]['wuid']+_0x402c1d(0x1d8));return;}if(_0x5ab39a!==_0x402c1d(0x50f)||!_0x50a7b0?.[_0x402c1d(0x6c6)]||_0x50a7b0['message']?.[_0x402c1d(0x25e)]||_0x50a7b0['message']['senderKeyDistributionMessage']||_0x50a7b0['key']['remoteJid']===_0x402c1d(0x2bd))return;let _0x1d764e=null,_0x267b0a=null;if(_0x50a7b0[_0x402c1d(0x45c)]&&_0x50a7b0[_0x402c1d(0x45c)][0x0]===_0x402c1d(0x223)){console[_0x402c1d(0x1c2)](_0x402c1d(0x4bc)),Pt[_0x50a7b0[_0x402c1d(0x693)]['id']]=_0x50a7b0,this[_0x402c1d(0x369)](_0x50a7b0,0x0);return;}Pt[_0x50a7b0['key']['id']]&&(console[_0x402c1d(0x1c2)]('[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache'),delete Pt[_0x50a7b0[_0x402c1d(0x693)]['id']]);try{_0x1d764e=await this[_0x402c1d(0x442)](_0x50a7b0),_0x267b0a=_0x1d764e?_0x1d764e[_0x402c1d(0x48a)](','):null;}catch(_0xbb5894){this[_0x402c1d(0x4e3)]['verbose'](this[_0x402c1d(0x653)]+'\x20('+this[_0x402c1d(0x47a)][_0x402c1d(0x5a4)]+_0x402c1d(0x43f)+(_0xbb5894 instanceof Error?_0xbb5894[_0x402c1d(0x6c6)]:JSON[_0x402c1d(0x6f0)](_0xbb5894,null,0x2))),_0x267b0a='error\x20get\x20vote';}this['client']['sendPresenceUpdate']('unavailable'),_s[_0x402c1d(0x311)]['isLong'](_0x50a7b0[_0x402c1d(0x27c)])&&(_0x50a7b0[_0x402c1d(0x27c)]=_0x50a7b0[_0x402c1d(0x27c)]?.[_0x402c1d(0x36c)]()),_0x50a7b0['messageTimestamp']&&_0x50a7b0[_0x402c1d(0x27c)][_0x402c1d(0x7f7)]()[_0x402c1d(0x847)]<0xd&&(_0x50a7b0[_0x402c1d(0x27c)]=_0x50a7b0[_0x402c1d(0x27c)]*0x3e8);let _0x43205f=_0x50a7b0[_0x402c1d(0x6c6)],_0x269ed9=(0x0,w[_0x402c1d(0x5af)])(_0x43205f),_0x3bc5f4=(0x0,w['getContentType'])(_0x269ed9),{messageContent:_0x35a776,message_normalized:_0x40f914}=this[_0x402c1d(0x382)](_0x269ed9,_0x3bc5f4,_0x267b0a);_0x3bc5f4===_0x402c1d(0x25e)&&_0x35a776?.[_0x402c1d(0x75d)]&&(_0x3bc5f4=_0x402c1d(0x75d));let _0x2b8e0c,_0x5b1791=_0x50a7b0[_0x402c1d(0x693)][_0x402c1d(0x281)][_0x402c1d(0x1b6)](_0x402c1d(0x64e));if(_0x50a7b0[_0x402c1d(0x693)]['fromMe'])_0x2b8e0c=this[_0x402c1d(0x47a)][_0x402c1d(0x36b)];else{let _0x528949=_0x5b1791?_0x50a7b0['key']['participant']:_0x50a7b0[_0x402c1d(0x693)][_0x402c1d(0x281)];_0x2b8e0c=(await this['findAndUpdateCacheContact'](_0x528949,_0x50a7b0[_0x402c1d(0x6a6)],!0x1))[_0x402c1d(0x352)][_0x402c1d(0x45f)];}let _0x511305={'_id':_0x50a7b0[_0x402c1d(0x693)]['id'],'key':_0x50a7b0[_0x402c1d(0x693)],'isGroup':_0x5b1791,'profilePictureUrl':_0x2b8e0c,'pushName':_0x50a7b0[_0x402c1d(0x6a6)],'message':_0x269ed9,'messageType':_0x3bc5f4,'message_normalized':{'key':_0x50a7b0['key'],'pushName':_0x50a7b0[_0x402c1d(0x6a6)],'messageTimestamp':_0x50a7b0[_0x402c1d(0x27c)],'source':(0x0,w[_0x402c1d(0x3f7)])(_0x50a7b0[_0x402c1d(0x693)]['id']),..._0x40f914},'messageTimestamp':_0x50a7b0[_0x402c1d(0x27c)],'owner':this[_0x402c1d(0x47a)][_0x402c1d(0x5a4)],'source':(0x0,w[_0x402c1d(0x3f7)])(_0x50a7b0['key']['id']),'expiration':_0x35a776?.[_0x402c1d(0x707)]?.[_0x402c1d(0x28c)]||0x0};_0x35a776||(this['logger'][_0x402c1d(0x1c2)](_0x402c1d(0x688)),this['logger'][_0x402c1d(0x1c2)](_0x511305)),this['logger'][_0x402c1d(0x2a2)](this['instanceName']+'\x20('+this[_0x402c1d(0x47a)]['wuid']+_0x402c1d(0x43f)+(_0x511305[_0x402c1d(0x693)]?.[_0x402c1d(0x853)]?_0x402c1d(0x458):'recebido\x20de')+'\x20['+_0x511305[_0x402c1d(0x693)]?.[_0x402c1d(0x281)][_0x402c1d(0x60c)]('@s.whatsapp.net','')+_0x402c1d(0x5d2)+_0x511305['messageType']+')'),_0x511305[_0x402c1d(0x5dc)]?.['text']&&this['logger'][_0x402c1d(0x2a2)](_0x50a7b0['key']['id']+':\x20'+_0x511305[_0x402c1d(0x5dc)]?.[_0x402c1d(0x879)]),await this[_0x402c1d(0x7ea)][_0x402c1d(0x6c6)][_0x402c1d(0x710)]([_0x511305],this[_0x402c1d(0x47a)][_0x402c1d(0x5a4)]),this[_0x402c1d(0x68c)](_0x402c1d(0x3ea),_0x511305),U(this[_0x402c1d(0x653)],'messages',{'message':_0x511305}),_0x50a7b0[_0x402c1d(0x693)][_0x402c1d(0x281)]!==_0x402c1d(0x2bd)&&await this[_0x402c1d(0x648)](_0x2102ee,_0x511305,_0x402c1d(0x7b9));}},'messages.update':async(_0x204678,_0x53fa20)=>{const _0x573855=_0x201564;let _0x385227={0x0:_0x573855(0x455),0x1:_0x573855(0x588),0x2:_0x573855(0x4c0),0x3:_0x573855(0x5a6),0x4:_0x573855(0x540),0x5:_0x573855(0x50d)};for await(let {key:_0x4fec28,update:_0x4c2e57}of _0x204678){if(this[_0x573855(0x322)]?.[_0x573855(0x5f1)]&&_0x4fec28[_0x573855(0x281)]['includes'](_0x573855(0x64e))){this['logger'][_0x573855(0x6f6)](this[_0x573855(0x653)]+'\x20('+this[_0x573855(0x47a)][_0x573855(0x5a4)]+_0x573855(0x1d4));return;}if(_0x4fec28[_0x573855(0x281)]!=='status@broadcast'){let _0x5ded37=Date[_0x573855(0x694)](),_0x3fb211;_0x4c2e57[_0x573855(0x6c6)]===null&&_0x4c2e57[_0x573855(0x2d2)]===void 0x0?_0x3fb211=_0x573855(0x35c):_0x3fb211=_0x385227[_0x4c2e57[_0x573855(0x2d2)]];let _0x2c47fe=_0x4fec28[_0x573855(0x281)][_0x573855(0x60c)](/:\d{1,2}@/g,'@'),_0x1147d7={..._0x4fec28,'remoteJid':_0x2c47fe,'status':_0x3fb211,'datetime':_0x5ded37,'owner':this['instance'][_0x573855(0x5a4)]};this[_0x573855(0x68c)](_0x573855(0x668),_0x1147d7),await this['updateMessage'](_0x4fec28,_0x1147d7);}}},'labels.association':async({type:_0x236187,association:_0x55bc01})=>{const _0x1b3a60=_0x201564;if(_0x55bc01[_0x1b3a60(0x20f)]===_0x1b3a60(0x733)){let _0x546605,_0x380fdf=0x0;for(;!_0x546605&&_0x380fdf<this[_0x1b3a60(0x820)];)_0x546605=await this['repository'][_0x1b3a60(0x803)][_0x1b3a60(0x3b6)]({'where':{'_id':_0x55bc01[_0x1b3a60(0x1be)]}},this[_0x1b3a60(0x47a)][_0x1b3a60(0x5a4)]),_0x546605||(_0x380fdf++,this['logger']['info'](this['instanceName']+'\x20('+this[_0x1b3a60(0x47a)][_0x1b3a60(0x5a4)]+_0x1b3a60(0x5fb)+_0x55bc01['chatId']+_0x1b3a60(0x52a)+this['delayChatLabel_RETRY_DELAY_MS']+_0x1b3a60(0x6a9)+_0x380fdf+'/'+this[_0x1b3a60(0x820)]+')'),await this['delayChatLabel'](this[_0x1b3a60(0x42d)]));if(!_0x546605){this[_0x1b3a60(0x4e3)]['error'](_0x1b3a60(0x51d)+_0x55bc01[_0x1b3a60(0x1be)]+_0x1b3a60(0x54b)+this[_0x1b3a60(0x820)]+_0x1b3a60(0x83c));return;}switch(_0x236187){case _0x1b3a60(0x1eb):console[_0x1b3a60(0x2a2)](_0x55bc01),await this['repository'][_0x1b3a60(0x803)][_0x1b3a60(0x21a)]({'where':{'_id':_0x55bc01['chatId']}},{'leadInfo.etiquetas':_0x55bc01[_0x1b3a60(0x1f9)]},this[_0x1b3a60(0x47a)]['wuid'],void 0x0,_0x1b3a60(0x717));break;case'remove':console[_0x1b3a60(0x2a2)](_0x55bc01),await this[_0x1b3a60(0x7ea)][_0x1b3a60(0x803)][_0x1b3a60(0x21a)]({'where':{'_id':_0x55bc01[_0x1b3a60(0x1be)]}},{'leadInfo.etiquetas':_0x55bc01[_0x1b3a60(0x1f9)]},this[_0x1b3a60(0x47a)][_0x1b3a60(0x5a4)],void 0x0,_0x1b3a60(0x3d0));break;default:this[_0x1b3a60(0x4e3)]['error'](_0x1b3a60(0x507)+_0x236187+']');}}},'labels.edit':async _0x1412b2=>{const _0x450d6f=_0x201564;if(!_0x1412b2||!_0x1412b2['id']){this[_0x450d6f(0x4e3)][_0x450d6f(0x1c2)](_0x450d6f(0x4da));return;}if(!_0x1412b2[_0x450d6f(0x870)]){let _0x4af527=['#ff9484',_0x450d6f(0x237),'#fed428',_0x450d6f(0x76f),_0x450d6f(0x6e9),_0x450d6f(0x761),'#fe9dfe','#d3a91f',_0x450d6f(0x5c0),_0x450d6f(0x620),_0x450d6f(0x4d7),_0x450d6f(0x70e),'#92ceac',_0x450d6f(0x254),_0x450d6f(0x1e5),'#83e421','#ffae04',_0x450d6f(0x2a0),_0x450d6f(0x755),'#9568cf'],_0x479b44;typeof _0x1412b2[_0x450d6f(0x816)]=='number'&&_0x1412b2[_0x450d6f(0x816)]>=0x0&&_0x1412b2['color']<_0x4af527[_0x450d6f(0x847)]?_0x479b44=_0x4af527[_0x1412b2[_0x450d6f(0x816)]]:(this[_0x450d6f(0x4e3)]['error'](_0x450d6f(0x385)+_0x1412b2[_0x450d6f(0x816)]),_0x479b44=_0x450d6f(0x713));let _0x423422={'_id':_0x1412b2['id'],'colorHex':_0x479b44,'color':_0x1412b2?.[_0x450d6f(0x816)],'name':_0x1412b2?.['name'],'owner':this[_0x450d6f(0x47a)][_0x450d6f(0x5a4)]};await this[_0x450d6f(0x7ea)]['label'][_0x450d6f(0x21a)]({'where':{'_id':_0x1412b2['id']}},_0x423422,this[_0x450d6f(0x47a)][_0x450d6f(0x5a4)]),this['logger'][_0x450d6f(0x8d8)](this[_0x450d6f(0x653)]+'\x20('+this[_0x450d6f(0x47a)][_0x450d6f(0x5a4)]+_0x450d6f(0x36f)+_0x1412b2);}_0x1412b2[_0x450d6f(0x870)]&&(await this['repository']['label'][_0x450d6f(0x4ee)]({'where':{'_id':_0x1412b2['id']}},this['instance']['wuid']),this[_0x450d6f(0x4e3)][_0x450d6f(0x8d8)](_0x450d6f(0x768)+_0x1412b2['id']));}},this['groupHandler']={'groups.upsert':async _0x3fe33d=>{const _0x18a616=_0x201564;this[_0x18a616(0x322)]?.['groups_ignore']||this[_0x18a616(0x68c)](_0x18a616(0x435),_0x3fe33d);for(let _0x3c95bd of _0x3fe33d)await this[_0x18a616(0x3d3)](_0x3c95bd);},'groups.update':async _0x5630c9=>{const _0x53dd0b=_0x201564;this[_0x53dd0b(0x322)]?.[_0x53dd0b(0x5f1)]||this[_0x53dd0b(0x68c)](_0x53dd0b(0x3c0),_0x5630c9);for(let _0x55c38a of _0x5630c9)await this['updateGroupWebhook'](_0x55c38a);},'group-participants.update':async _0x1b71eb=>{const _0x4c0f10=_0x201564;this[_0x4c0f10(0x322)]?.[_0x4c0f10(0x5f1)]||this[_0x4c0f10(0x68c)](_0x4c0f10(0x394),_0x1b71eb),await this[_0x4c0f10(0x8e4)](_0x1b71eb);}},this[_0x201564(0x820)]=0x5,this[_0x201564(0x42d)]=0x1388,this[_0x201564(0x750)]=0x0,this[_0x201564(0x442)]=async _0x49e1dc=>{const _0x824332=_0x201564;if(_0x49e1dc['message']?.[_0x824332(0x7a3)]){let _0x3f0836=await this[_0x824332(0x8b2)](_0x49e1dc[_0x824332(0x6c6)][_0x824332(0x7a3)][_0x824332(0x2d8)],!0x0);if(_0x3f0836){let _0x4e5614=_0x3f0836[_0x824332(0x693)][_0x824332(0x853)]?this[_0x824332(0x47a)][_0x824332(0x5a4)]+'@s.whatsapp.net':_0x3f0836[_0x824332(0x693)]['participant']||_0x3f0836[_0x824332(0x693)][_0x824332(0x281)],_0x348854=_0x3f0836['key']['id'],_0x1db521=_0x3f0836[_0x824332(0x6c6)],_0x5ce3af=Buffer[_0x824332(0x831)](_0x1db521[_0x824332(0x7f3)][_0x824332(0x815)][_0x824332(0x7f7)](_0x824332(0x6cc)),_0x824332(0x6cc)),_0x4546a8=(0x0,w[_0x824332(0x4a2)])(_0x49e1dc['message']['pollUpdateMessage'][_0x824332(0x4a7)],{'pollCreatorJid':_0x4e5614,'pollMsgId':_0x348854,'pollEncKey':_0x5ce3af,'voterJid':_0x49e1dc[_0x824332(0x693)][_0x824332(0x853)]?this['instance'][_0x824332(0x5a4)]+'@s.whatsapp.net':_0x49e1dc[_0x824332(0x693)][_0x824332(0x281)][_0x824332(0x1b6)](_0x824332(0x22b))?_0x49e1dc[_0x824332(0x693)]['participant']:_0x49e1dc['key']['remoteJid']}),_0x255ef8=[],_0x51eb91=_0x4546a8['selectedOptions']['map'](_0x2d421e=>Buffer[_0x824332(0x831)](_0x2d421e)[_0x824332(0x7f7)]('hex'));for(let {optionName:_0x143e01}of _0x1db521[_0x824332(0x687)]?.[_0x824332(0x508)]||_0x1db521['pollCreationMessageV3']?.[_0x824332(0x508)]||_0x1db521[_0x824332(0x5ca)]?.['options'])_0x51eb91[_0x824332(0x692)]((0x0,w['sha256'])(Buffer[_0x824332(0x831)](_0x143e01))['toString'](_0x824332(0x6cc)))>-0x1&&_0x255ef8['push'](_0x143e01);return _0x255ef8;}}return null;},this[_0x201564(0x382)]=(_0x10227a,_0xa29616,_0x1dcd5d)=>{const _0x41c65b=_0x201564;try{let _0x2efb7f=_0x10227a?(0x0,w[_0x41c65b(0x64f)])(_0x10227a)[_0xa29616]:void 0x0,_0x498a40={},_0x52ec47=null,_0x59724f=null,_0x5aa056=null;_0xa29616===_0x41c65b(0x25e)&&_0x2efb7f?.[_0x41c65b(0x75d)]&&(_0xa29616=(0x0,w[_0x41c65b(0x662)])(_0x2efb7f['editedMessage']),_0x52ec47=_0x10227a[_0x41c65b(0x25e)][_0x41c65b(0x693)]['id'],_0x2efb7f=_0x10227a[_0x41c65b(0x25e)]['editedMessage'][_0xa29616]),_0x10227a[_0xa29616]?.[_0x41c65b(0x707)]?.[_0x41c65b(0x410)]&&_0x10227a[_0xa29616]?.[_0x41c65b(0x707)]?.[_0x41c65b(0x543)]&&(_0x59724f=_0x10227a[_0xa29616][_0x41c65b(0x707)]['stanzaId']),_0x10227a[_0x41c65b(0x40d)]&&(_0x5aa056=_0x10227a[_0x41c65b(0x40d)][_0x41c65b(0x693)]['id']);let _0x41bc2b;if(_0x2efb7f&&typeof _0x2efb7f==_0x41c65b(0x71e)&&'pollCreationMessageKey'in _0x2efb7f&&({pollCreationMessageKey:_0x41bc2b}=_0x2efb7f),_0xa29616==='pollCreationMessage'||_0xa29616===_0x41c65b(0x5ca)||_0xa29616==='pollCreationMessageV3'){let _0x37157d=_0x2efb7f[_0x41c65b(0x508)][_0x41c65b(0x445)](_0x53dfb2=>_0x53dfb2['optionName'])['join']('|');_0x498a40[_0x41c65b(0x566)]=_0x37157d;}let _0x494a0d='';if(_0x2efb7f&&(_0x494a0d+=_0x2efb7f[_0x41c65b(0x232)]?_0x2efb7f[_0x41c65b(0x232)]:'',_0x494a0d+=_0x2efb7f[_0x41c65b(0x7b7)]?'\x20'+_0x2efb7f[_0x41c65b(0x7b7)]:'',_0x494a0d+=_0x2efb7f[_0x41c65b(0x267)]?'\x20'+_0x2efb7f['conversation']:'',_0x494a0d+=_0x2efb7f[_0x41c65b(0x26e)]?'\x20'+_0x2efb7f['displayName']:''),_0xa29616===_0x41c65b(0x20e)){_0x494a0d=(_0x2efb7f['title']||'')+'\x0a'+(_0x2efb7f[_0x41c65b(0x31b)]||'')+'\x0a'+(_0x2efb7f[_0x41c65b(0x2e0)]||'');let _0x382010=this[_0x41c65b(0x7d8)](_0x2efb7f[_0x41c65b(0x208)]);_0x498a40[_0x41c65b(0x566)]=_0x382010;}if(_0xa29616===_0x41c65b(0x532)&&(_0x1dcd5d=_0x2efb7f['title']),_0x2efb7f&&_0x2efb7f['vcard']){let _0x1f9bcc=this[_0x41c65b(0x871)](JSON['stringify'](_0x2efb7f[_0x41c65b(0x7fe)],null,0x2));_0x494a0d=_0x494a0d+'\x0a'+_0x1f9bcc;}if(_0x2efb7f){let {sections:_0x26b05f,listType:_0x22d1c7,displayName:_0x1217ab,vcard:_0x409860,contactVcard:_0x1488f0,name:_0x4f9880,caption:_0x14af74,conversation:_0x2ce3cd,pollCreationMessageKey:_0x5932f5,footerText:_0x4076b3,contentText:_0x4d26ea,pageCount:_0x70384c,headerType:_0x3fa18b,isAvatar:_0x126228,isAnimated:_0x453681,fallbackLc:_0x3ece24,fallbackLg:_0x437f18,namespace:_0x4d3d16,elementName:_0x45ef84,localizableParams:_0x12cd83,viewOnce:_0x34c837,height:_0x415ff8,width:_0x5ed5c9,key:_0x5d96d8,firstScanLength:_0x1f2918,firstScanSidecar:_0x4346d5,gifPlayback:_0x46e8bd,gifAttribution:_0x53543e,midQualityFileSha256:_0x7320d2,scansSidecar:_0x1fafbd,streamingSidecar:_0x57d0bf,thumbnailHeight:_0x29b32e,thumbnailWidth:_0x152867,thumbnailEncSha256:_0x1a3be6,thumbnailDirectPath:_0x426942,canonicalUrl:_0x19f3b9,matchedText:_0x1d6acc,previewType:_0x59d9de,thumbnailSha256:_0x3e8a59,deviceListMetadataVersion:_0x24633b,inviteLinkGroupTypeV2:_0x6e4dd4,interactiveAnnotations:_0x423bed,scanLengths:_0x2e0f02,jpegThumbnail:_0x27635a,url:_0x14af13,mediaKeyTimestamp:_0x408398,waveform:_0x4863a2,stickerSentTs:_0x3f59bd,firstFrameLength:_0x18fa8b,fileEncSha256:_0x18f5ac,contextInfo:_0x15c249,firstFrameSidecar:_0x285275,directPath:_0x163feb,fileSha256:_0x220b0b,mediaKey:_0x299881,senderTimestampMs:_0x3f666f,..._0x53730f}=_0x2efb7f;(_0xa29616===_0x41c65b(0x20e)||_0xa29616===_0x41c65b(0x532))&&(delete _0x53730f[_0x41c65b(0x355)],delete _0x53730f[_0x41c65b(0x31b)]),typeof _0x2efb7f=='string'?_0x498a40={'text':_0x2efb7f,'type':_0xa29616||_0x41c65b(0x267),..._0x52ec47&&{'edited':_0x52ec47},..._0x59724f&&{'quoted':_0x59724f},..._0x5aa056&&{'reaction':_0x5aa056}}:_0x498a40={'text':_0x494a0d,..._0x53730f,..._0xa29616===_0x41c65b(0x7a3)?{'poll_id':_0x2efb7f[_0x41c65b(0x2d8)]['id'],'quoted':_0x2efb7f['pollCreationMessageKey']['id'],'vote':_0x1dcd5d}:{},..._0xa29616===_0x41c65b(0x532)?{'vote':_0x1dcd5d}:{},'type':_0xa29616,..._0x52ec47&&{'edited':_0x52ec47},..._0x59724f&&{'quoted':_0x59724f},..._0x5aa056&&{'reaction':_0x5aa056},...(_0xa29616===_0x41c65b(0x687)||_0xa29616===_0x41c65b(0x5ca)||_0xa29616==='pollCreationMessageV3'||_0xa29616==='listMessage')&&{'convertedOptions':_0x498a40[_0x41c65b(0x566)]}};}return{'messageType':_0xa29616,'messageContent':_0x2efb7f,'message_normalized':_0x498a40};}catch(_0x1e314b){return this[_0x41c65b(0x4e3)][_0x41c65b(0x1c2)](_0x41c65b(0x2ea)+_0x1e314b),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x201564(0x7ee)]=[],(this['cleanStore'](),this[_0x201564(0x53d)](),this['instance'][_0x201564(0x46e)]={'count':0x0},this['instance']['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set[a0_0xf534fa(0x653)](_0x91184c){const _0x19365d=a0_0xf534fa;if(!_0x91184c){this[_0x19365d(0x47a)][_0x19365d(0x232)]=(0x0,Ri['v4'])();return;}this[_0x19365d(0x47a)]['name']=_0x91184c,this[_0x19365d(0x68c)](_0x19365d(0x5d0),{'instance':this[_0x19365d(0x47a)][_0x19365d(0x232)],'status':_0x19365d(0x638)});}get[a0_0xf534fa(0x653)](){const _0x2213dc=a0_0xf534fa;return this[_0x2213dc(0x47a)][_0x2213dc(0x232)];}get[a0_0xf534fa(0x5a4)](){const _0x23b09d=a0_0xf534fa;return this[_0x23b09d(0x47a)][_0x23b09d(0x5a4)];}async[a0_0xf534fa(0x4ff)](){const _0x5bccb7=a0_0xf534fa;let _0x220dca=this['client'][_0x5bccb7(0x546)]?.[_0x5bccb7(0x232)]??this[_0x5bccb7(0x73e)][_0x5bccb7(0x546)]?.[_0x5bccb7(0x764)];if(!_0x220dca){if(this[_0x5bccb7(0x7dd)]['get'](_0x5bccb7(0x671))['ENABLED']){let _0x2fd9c3=await $[_0x5bccb7(0x574)]()['db'](this[_0x5bccb7(0x7dd)][_0x5bccb7(0x71f)](_0x5bccb7(0x671))['CONNECTION'][_0x5bccb7(0x240)]+_0x5bccb7(0x6cb))['collection'](this[_0x5bccb7(0x653)])['findOne']({'_id':_0x5bccb7(0x5a1)});if(_0x2fd9c3){let _0x29453b=JSON['parse'](JSON[_0x5bccb7(0x6f0)](_0x2fd9c3),w[_0x5bccb7(0x260)][_0x5bccb7(0x5c8)]);_0x220dca=_0x29453b['me']?.['name']||_0x29453b['me']?.[_0x5bccb7(0x764)];}}else{if((0x0,De[_0x5bccb7(0x612)])((0x0,L['join'])(fe,this[_0x5bccb7(0x653)],_0x5bccb7(0x464)))){let _0x9f37b9=JSON[_0x5bccb7(0x845)]((0x0,De[_0x5bccb7(0x194)])((0x0,L[_0x5bccb7(0x48a)])(fe,this['instanceName'],_0x5bccb7(0x464)),{'encoding':_0x5bccb7(0x3ed)}));_0x220dca=_0x9f37b9['me']?.['name']||_0x9f37b9['me']?.[_0x5bccb7(0x764)];}}}return _0x220dca;}get[a0_0xf534fa(0x36b)](){const _0x53e93e=a0_0xf534fa;return this['instance'][_0x53e93e(0x36b)];}get[a0_0xf534fa(0x302)](){const _0x272ebc=a0_0xf534fa;return this['instance'][_0x272ebc(0x46e)]?.[_0x272ebc(0x8e0)]?{'pairingCode':this[_0x272ebc(0x47a)][_0x272ebc(0x46e)]?.[_0x272ebc(0x8e0)]}:{'code':this['instance']['qrcode']?.[_0x272ebc(0x265)],'base64':this[_0x272ebc(0x47a)][_0x272ebc(0x46e)]?.[_0x272ebc(0x1e1)]};}async[a0_0xf534fa(0x459)](){const _0x32ddb9=a0_0xf534fa;let _0x43aae3=await this[_0x32ddb9(0x7ea)][_0x32ddb9(0x2a5)]['find'](this[_0x32ddb9(0x653)]);this[_0x32ddb9(0x322)]['url']=_0x43aae3?.[_0x32ddb9(0x893)],this[_0x32ddb9(0x322)][_0x32ddb9(0x633)]=_0x43aae3?.[_0x32ddb9(0x633)],this[_0x32ddb9(0x322)]['local_map']=_0x43aae3?.[_0x32ddb9(0x70f)],this[_0x32ddb9(0x322)][_0x32ddb9(0x6b4)]=_0x43aae3?.[_0x32ddb9(0x6b4)],this[_0x32ddb9(0x322)][_0x32ddb9(0x754)]=_0x43aae3?.[_0x32ddb9(0x754)],this[_0x32ddb9(0x322)]['SEND_MESSAGE']=_0x43aae3?.[_0x32ddb9(0x4b3)],this['localWebhook'][_0x32ddb9(0x7b9)]=_0x43aae3?.[_0x32ddb9(0x7b9)],this['localWebhook'][_0x32ddb9(0x7b1)]=_0x43aae3?.['MESSAGES_UPDATE'],this[_0x32ddb9(0x322)][_0x32ddb9(0x62b)]=_0x43aae3?.[_0x32ddb9(0x62b)],this['localWebhook']['GROUPS_UPDATE']=_0x43aae3?.[_0x32ddb9(0x72f)],this[_0x32ddb9(0x322)][_0x32ddb9(0x380)]=_0x43aae3?.[_0x32ddb9(0x380)],this[_0x32ddb9(0x322)]['CHATS_SET']=_0x43aae3?.['CHATS_SET'],this[_0x32ddb9(0x322)][_0x32ddb9(0x4a9)]=_0x43aae3?.[_0x32ddb9(0x4a9)],this['localWebhook'][_0x32ddb9(0x3c2)]=_0x43aae3?.[_0x32ddb9(0x3c2)],this['localWebhook'][_0x32ddb9(0x7b5)]=_0x43aae3?.[_0x32ddb9(0x7b5)],this['localWebhook'][_0x32ddb9(0x293)]=_0x43aae3?.['CONTACTS_SET'],this[_0x32ddb9(0x322)][_0x32ddb9(0x767)]=_0x43aae3?.[_0x32ddb9(0x767)],this[_0x32ddb9(0x322)][_0x32ddb9(0x33c)]=_0x43aae3?.[_0x32ddb9(0x33c)],this[_0x32ddb9(0x322)]['PRESENCE_UPDATE']=_0x43aae3?.[_0x32ddb9(0x486)],this[_0x32ddb9(0x322)][_0x32ddb9(0x6cd)]=_0x43aae3?.[_0x32ddb9(0x6cd)],this['localWebhook'][_0x32ddb9(0x3e0)]=_0x43aae3?.['CONNECTION_UPDATE'],this[_0x32ddb9(0x322)]['groups_ignore']=_0x43aae3?.[_0x32ddb9(0x5f1)];}async['setWebhook'](_0xc56272){const _0x24a791=a0_0xf534fa;let _0x353a49=['_id',_0x24a791(0x893),_0x24a791(0x633),_0x24a791(0x70f),_0x24a791(0x6b4),'QRCODE_UPDATED',_0x24a791(0x7b1),'MESSAGES_UPSERT',_0x24a791(0x4b3),_0x24a791(0x62b),_0x24a791(0x72f),_0x24a791(0x380),_0x24a791(0x627),_0x24a791(0x4a9),_0x24a791(0x3c2),_0x24a791(0x7b5),_0x24a791(0x293),_0x24a791(0x767),_0x24a791(0x33c),'PRESENCE_UPDATE',_0x24a791(0x6cd),_0x24a791(0x3e0),_0x24a791(0x5f1)],_0x44d784={};return _0x353a49[_0x24a791(0x753)](_0x1735c7=>{_0xc56272[_0x1735c7]!==void 0x0&&(_0x44d784[_0x1735c7]=_0xc56272[_0x1735c7]);}),_0x44d784[_0x24a791(0x893)]&&(_0x44d784[_0x24a791(0x893)]=_0x44d784[_0x24a791(0x893)][_0x24a791(0x4fb)]()),await this['repository'][_0x24a791(0x2a5)][_0x24a791(0x4a4)](_0x44d784,this[_0x24a791(0x653)]),Object[_0x24a791(0x629)](this[_0x24a791(0x322)],_0x44d784),await this[_0x24a791(0x7ea)][_0x24a791(0x2a5)][_0x24a791(0x525)](this[_0x24a791(0x653)]);}async[a0_0xf534fa(0x3f9)](){const _0x26bf5c=a0_0xf534fa;return await this['repository'][_0x26bf5c(0x2a5)]['find'](this[_0x26bf5c(0x653)]);}async['sendDataWebhook'](_0x5daa8e,_0x7430d5){const _0x2531e0=a0_0xf534fa;let _0xd24380=_0x5daa8e[_0x2531e0(0x60c)](/[\.-]/gm,'_')['toUpperCase'](),_0x371e87=this[_0x2531e0(0x322)][_0x2531e0(0x633)]&&(0x0,D['isURL'])(this[_0x2531e0(0x322)][_0x2531e0(0x893)])?this['localWebhook'][_0x2531e0(0x893)]+(this['localWebhook'][_0x2531e0(0x70f)]?this['webhookMap'][_0x5daa8e]:''):null,_0x3c1396=this[_0x2531e0(0x322)][_0xd24380],_0x1939ec=de&&de[_0x2531e0(0x633)]&&(0x0,D['isURL'])(de[_0x2531e0(0x893)])?de[_0x2531e0(0x893)]+(de[_0x2531e0(0x70f)]?this[_0x2531e0(0x72a)][_0x5daa8e]:''):null,_0x41afd3=de?de[_0xd24380]:null;if(_0x3c1396&&_0x371e87)try{await Q[_0x2531e0(0x311)]['create']({'baseURL':_0x371e87})['post']('',{'event':_0x5daa8e,'instance':this[_0x2531e0(0x47a)][_0x2531e0(0x232)],'apikey':this['instance'][_0x2531e0(0x770)],'data':_0x7430d5}),this[_0x2531e0(0x4e3)]['log'](this[_0x2531e0(0x653)]+'\x20('+this[_0x2531e0(0x47a)][_0x2531e0(0x5a4)]+_0x2531e0(0x785)+_0x5daa8e+':\x20'+_0x371e87);}catch{this[_0x2531e0(0x4e3)][_0x2531e0(0x1c2)](this['instanceName']+'\x20('+this[_0x2531e0(0x47a)]['wuid']+_0x2531e0(0x310)+_0x5daa8e+':\x20'+_0x371e87);}if(_0x41afd3&&_0x1939ec)try{await Q[_0x2531e0(0x311)]['create']({'baseURL':_0x1939ec})[_0x2531e0(0x2d5)]('',{'event':_0x5daa8e,'instance':this[_0x2531e0(0x47a)]['name'],'apikey':this[_0x2531e0(0x47a)][_0x2531e0(0x770)],'data':_0x7430d5}),this[_0x2531e0(0x4e3)][_0x2531e0(0x2a2)](this['instanceName']+'\x20('+this['instance'][_0x2531e0(0x5a4)]+_0x2531e0(0x726)+_0x5daa8e+':\x20'+_0x1939ec);}catch{this['logger']['error'](this[_0x2531e0(0x653)]+'\x20('+this[_0x2531e0(0x47a)][_0x2531e0(0x5a4)]+_0x2531e0(0x79b)+_0x5daa8e+':\x20'+_0x1939ec);}}async['connectionUpdate']({qr:_0x9dc362,connection:_0xf62790,lastDisconnect:_0x15aad0}){const _0x31c77=a0_0xf534fa;if(_0x9dc362){if(this[_0x31c77(0x47a)]['qrcode'][_0x31c77(0x623)]===Do)return this[_0x31c77(0x68c)](_0x31c77(0x8cb),{'message':_0x31c77(0x2fe),'statusCode':w[_0x31c77(0x204)][_0x31c77(0x6dc)]}),this[_0x31c77(0x50e)]={'state':_0x31c77(0x8bb),'statusReason':w[_0x31c77(0x204)][_0x31c77(0x780)]},this[_0x31c77(0x68c)](_0x31c77(0x266),{'instance':this['instance'][_0x31c77(0x232)],...this[_0x31c77(0x50e)]}),this[_0x31c77(0x68c)](_0x31c77(0x5d0),{'instance':this['instance'][_0x31c77(0x232)],'status':_0x31c77(0x65b)}),this[_0x31c77(0x7ea)][_0x31c77(0x7cc)][_0x31c77(0x4ee)](this[_0x31c77(0x47a)][_0x31c77(0x232)]),this[_0x31c77(0x24b)]=!0x0,se[_0x31c77(0x4ef)](W,this['instance'][_0x31c77(0x232)]),this[_0x31c77(0x31a)]['emit'](_0x31c77(0x5c6),this['instance']['name']);this[_0x31c77(0x47a)][_0x31c77(0x46e)][_0x31c77(0x623)]++;let _0x32334c={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x31c77(0x2e6),'dark':_0x31c77(0x713)}};Ai[_0x31c77(0x311)][_0x31c77(0x846)](_0x9dc362,_0x32334c,(_0x4a9c05,_0x2db01c)=>{const _0x42f6e6=_0x31c77;if(_0x4a9c05){this['logger'][_0x42f6e6(0x1c2)](this[_0x42f6e6(0x653)]+'\x20('+this['instance'][_0x42f6e6(0x5a4)]+_0x42f6e6(0x59a)+(_0x4a9c05 instanceof Error?_0x4a9c05['message']:JSON[_0x42f6e6(0x6f0)](_0x4a9c05,null,0x2)));return;}this[_0x42f6e6(0x47a)][_0x42f6e6(0x46e)][_0x42f6e6(0x1e1)]=_0x2db01c,this[_0x42f6e6(0x47a)][_0x42f6e6(0x46e)]['code']=_0x9dc362,!this[_0x42f6e6(0x7b6)]&&this[_0x42f6e6(0x68c)](_0x42f6e6(0x8cb),{'qrcode':{'instance':this[_0x42f6e6(0x47a)][_0x42f6e6(0x232)],'pairingCode':this[_0x42f6e6(0x47a)][_0x42f6e6(0x46e)]['pairingCode'],'code':_0x9dc362,'base64':_0x2db01c}});}),this[_0x31c77(0x7b6)]?this[_0x31c77(0x47a)][_0x31c77(0x46e)][_0x31c77(0x8e0)]||(await(0x0,w[_0x31c77(0x779)])(0x7d0),this[_0x31c77(0x47a)][_0x31c77(0x46e)][_0x31c77(0x8e0)]=await this[_0x31c77(0x73e)]['requestPairingCode'](this[_0x31c77(0x7b6)])):this['instance'][_0x31c77(0x46e)][_0x31c77(0x8e0)]=null,Ii[_0x31c77(0x311)][_0x31c77(0x39c)](_0x9dc362,{'small':!0x0},_0x3fdfb0=>this[_0x31c77(0x4e3)][_0x31c77(0x2a2)](_0x31c77(0x5a2)+this['instance']['name']+_0x31c77(0x74f)+this['instance']['qrcode']['count']+',\x20pairCode:\x20'+this['instance'][_0x31c77(0x46e)][_0x31c77(0x8e0)]+_0x31c77(0x8a3)+_0x3fdfb0));}if(_0xf62790&&(this['stateConnection']={'state':_0xf62790,'statusReason':_0x15aad0?.[_0x31c77(0x1c2)]?.[_0x31c77(0x61e)]?.['statusCode']??0xc8},this['sendDataWebhook'](_0x31c77(0x266),{'instance':this['instance'][_0x31c77(0x232)],...this['stateConnection']})),_0xf62790==='close'){if(this[_0x31c77(0x863)]++,this['reconnectTimestamps'][_0x31c77(0x1a2)](Date[_0x31c77(0x694)]()),this[_0x31c77(0x246)]=this[_0x31c77(0x246)][_0x31c77(0x5d3)](_0x1a0d47=>Date[_0x31c77(0x694)]()-_0x1a0d47<this[_0x31c77(0x5ab)]),_0x15aad0['error']?.['output']?.[_0x31c77(0x2e4)]!==w[_0x31c77(0x204)][_0x31c77(0x8d6)]){let _0x43b790=this[_0x31c77(0x863)]<=0x1?0x0:Math[_0x31c77(0x5f3)](Math['pow'](0x2,this[_0x31c77(0x863)]-0x1)*0x3e8,0x493e0);console[_0x31c77(0x2a2)](this[_0x31c77(0x653)]+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0x31c77(0x863)]+_0x31c77(0x488)+_0x43b790/0x3e8+_0x31c77(0x642)),await new Promise(_0x3d6e5f=>setTimeout(_0x3d6e5f,_0x43b790)),console['log'](_0x31c77(0x300)),await this[_0x31c77(0x236)]();}else{this[_0x31c77(0x68c)](_0x31c77(0x5d0),{'instance':this[_0x31c77(0x47a)][_0x31c77(0x232)],'status':'removed'}),this[_0x31c77(0x47a)][_0x31c77(0x2d4)][_0x31c77(0x68b)]=!0x1,this[_0x31c77(0x7ea)][_0x31c77(0x2a5)][_0x31c77(0x4ee)](this['instanceName']),this[_0x31c77(0x7ea)][_0x31c77(0x7cc)][_0x31c77(0x4a4)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x31c77(0x694)]()},this[_0x31c77(0x47a)][_0x31c77(0x232)]),se['removeIPv6ById'](W,this['instance'][_0x31c77(0x232)]);try{this['logger'][_0x31c77(0x6f6)](this[_0x31c77(0x653)]+'\x20('+this[_0x31c77(0x47a)][_0x31c77(0x5a4)]+_0x31c77(0x8b3));let _0x20b785=await this[_0x31c77(0x7ea)]['message'][_0x31c77(0x8ad)](this['instance'][_0x31c77(0x5a4)]);_0x20b785[_0x31c77(0x539)]?this[_0x31c77(0x4e3)][_0x31c77(0x6f6)](this[_0x31c77(0x653)]+'\x20('+this[_0x31c77(0x47a)]['wuid']+_0x31c77(0x3f5)):this[_0x31c77(0x4e3)][_0x31c77(0x1c2)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20'+_0x20b785[_0x31c77(0x1c2)]);}catch(_0x6a04c7){this[_0x31c77(0x4e3)][_0x31c77(0x1c2)](_0x31c77(0x5fe)+_0x6a04c7['message']);}this[_0x31c77(0x47a)][_0x31c77(0x2d4)][_0x31c77(0x399)]!==null&&(this[_0x31c77(0x4e3)]['verbose'](this[_0x31c77(0x653)]+'\x20('+this[_0x31c77(0x47a)][_0x31c77(0x5a4)]+_0x31c77(0x444)),clearInterval(this['instance'][_0x31c77(0x2d4)][_0x31c77(0x399)]),this[_0x31c77(0x47a)][_0x31c77(0x2d4)][_0x31c77(0x399)]=null),this[_0x31c77(0x4e3)][_0x31c77(0x6f6)](this[_0x31c77(0x653)]+'\x20('+this['instance'][_0x31c77(0x5a4)]+_0x31c77(0x7d0)),this[_0x31c77(0x877)]=null,this[_0x31c77(0x31a)][_0x31c77(0x1b3)]('remove.instance',this['instance'][_0x31c77(0x232)],'inner'),this[_0x31c77(0x73e)]?.['ws']?.[_0x31c77(0x75e)](),this[_0x31c77(0x73e)][_0x31c77(0x229)](new Error(_0x31c77(0x8d2)));}}if(_0xf62790===_0x31c77(0x441)){this[_0x31c77(0x4e3)][_0x31c77(0x193)](this[_0x31c77(0x653)]+'\x20('+this[_0x31c77(0x47a)][_0x31c77(0x5a4)]+'):\x20this.client.authState.creds?.myAppStateKeyId:\x20'+this[_0x31c77(0x73e)][_0x31c77(0x503)][_0x31c77(0x5a1)]?.[_0x31c77(0x81a)]),this[_0x31c77(0x73e)]['authState'][_0x31c77(0x5a1)]?.[_0x31c77(0x81a)]||(this['logger']['warn'](this[_0x31c77(0x653)]+'\x20('+this[_0x31c77(0x47a)][_0x31c77(0x5a4)]+_0x31c77(0x72b)),this[_0x31c77(0x73e)]['ev'][_0x31c77(0x685)]()),this[_0x31c77(0x45b)],this[_0x31c77(0x47a)][_0x31c77(0x5a4)]=this[_0x31c77(0x73e)]['user']['id'][_0x31c77(0x60c)](/:\d+/,'')[_0x31c77(0x60c)](_0x31c77(0x746),''),this[_0x31c77(0x47a)][_0x31c77(0x36b)]=(await this[_0x31c77(0x65f)](this[_0x31c77(0x47a)]['wuid']+'@s.whatsapp.net'))[_0x31c77(0x36b)],this['repository'][_0x31c77(0x7cc)]['create']({'online':!0x0,'owner':this[_0x31c77(0x47a)]['wuid'],'lastDisconnect':null},this[_0x31c77(0x47a)]['name']);let _0x17dc65=_0x31c77(0x73a)+this['instance'][_0x31c77(0x5a4)],_0x5706ec=0x28,_0x433a25=Math[_0x31c77(0x216)]((_0x5706ec-_0x17dc65['length'])/0x2),_0x48a77c='\x20'[_0x31c77(0x1a1)](_0x433a25),_0x5bafd5=_0x31c77(0x84a),_0x32dbd9=_0x31c77(0x738)+this[_0x31c77(0x47a)]['name'],_0xc923bc=(''+_0x48a77c+_0x17dc65+_0x48a77c)['padEnd'](_0x5706ec,'\x20'),_0x4c4ac9=(''+_0x48a77c+_0x5bafd5+_0x48a77c)['padEnd'](_0x5706ec,'\x20'),_0x1a1296=(''+_0x48a77c+_0x32dbd9+_0x48a77c)['padEnd'](_0x5706ec,'\x20'),_0x2ab513=Math[_0x31c77(0x392)](_0xc923bc[_0x31c77(0x847)],_0x4c4ac9['length'],_0x1a1296['length']),_0x21f1d3=_0xc923bc['padEnd'](_0x2ab513,'\x20'),_0x2a3e32=_0x4c4ac9[_0x31c77(0x2af)](_0x2ab513,'\x20'),_0x5c391d=_0x1a1296[_0x31c77(0x2af)](_0x2ab513,'\x20');this['logger'][_0x31c77(0x8d8)]((_0x31c77(0x25c)+'─'[_0x31c77(0x1a1)](_0x2ab513)+_0x31c77(0x5eb)+_0x2a3e32+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x5c391d+_0x31c77(0x8b5)+_0x21f1d3+_0x31c77(0x37e)+'─'['repeat'](_0x2ab513)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x31c77(0x195)](),this['instance'][_0x31c77(0x2d4)]['isConnected']=!0x0;}}['resetReconnectionVariables'](){const _0x5b9d76=a0_0xf534fa;this[_0x5b9d76(0x863)]=0x0,this['reconnectTimestamps']=[];}async[a0_0xf534fa(0x8b2)](_0x42c0ad,_0x2dc7e9=!0x1){const _0xccab77=a0_0xf534fa;try{let _0x5e330b=await this[_0xccab77(0x7ea)][_0xccab77(0x6c6)][_0xccab77(0x525)]({'where':{'_id':_0x42c0ad['id']}},this[_0xccab77(0x47a)][_0xccab77(0x5a4)]);return _0x2dc7e9?_0x5e330b[0x0]:_0x5e330b[0x0][_0xccab77(0x6c6)];}catch{return{'conversation':''};}}[a0_0xf534fa(0x4c9)](){const _0x1aaf1a=a0_0xf534fa;let _0x2caeb2=this[_0x1aaf1a(0x7dd)]['get'](_0x1aaf1a(0x71b)),_0x32e1de=this[_0x1aaf1a(0x7dd)]['get'](_0x1aaf1a(0x671));_0x2caeb2?.[_0x1aaf1a(0x2a6)]&&!_0x32e1de['ENABLED']&&setInterval(()=>{const _0x468f7e=_0x1aaf1a;try{for(let [_0x4cdb70,_0x42ec64]of Object[_0x468f7e(0x3aa)](_0x2caeb2))_0x42ec64===!0x0&&(0x0,Pe[_0x468f7e(0x3e5)])(_0x468f7e(0x206)+(0x0,L[_0x468f7e(0x48a)])(this[_0x468f7e(0x361)],_0x4cdb70[_0x468f7e(0x1cd)](),this[_0x468f7e(0x47a)][_0x468f7e(0x5a4)])+_0x468f7e(0x3e8));}catch{}},(_0x2caeb2?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0xf534fa(0x3a9)](){const _0x1a91ab=a0_0xf534fa;let _0x2a2d8b=this[_0x1a91ab(0x7dd)][_0x1a91ab(0x71f)]('DATABASE'),_0x14f027=this['configService'][_0x1a91ab(0x71f)](_0x1a91ab(0x1d2));return _0x14f027?.['ENABLED']?await As(_0x14f027,this[_0x1a91ab(0x47a)]['name']):_0x2a2d8b[_0x1a91ab(0x4f1)]?await Rs(this['instance'][_0x1a91ab(0x232)]):await(0x0,w[_0x1a91ab(0x856)])((0x0,L[_0x1a91ab(0x48a)])(fe,this['instance'][_0x1a91ab(0x232)]));}async[a0_0xf534fa(0x195)](){const _0xbe1945=a0_0xf534fa;let _0x58078f=()=>Math[_0xbe1945(0x216)](Math[_0xbe1945(0x48d)]()*0x4e21)+0x7d0,_0x20cdae=async()=>{const _0x5950f1=_0xbe1945;if(!this[_0x5950f1(0x47a)][_0x5950f1(0x2d4)][_0x5950f1(0x68b)]){this[_0x5950f1(0x4e3)][_0x5950f1(0x6f6)](this[_0x5950f1(0x653)]+'\x20('+this['instance'][_0x5950f1(0x5a4)]+_0x5950f1(0x88d)),this[_0x5950f1(0x740)]=!0x1;return;}if(this[_0x5950f1(0x47a)]['wuid']&&this[_0x5950f1(0x877)]&&this['instance'][_0x5950f1(0x2d4)][_0x5950f1(0x399)]!==null&&this[_0x5950f1(0x47a)][_0x5950f1(0x2d4)]['delayMessage']!==void 0x0){let _0x4dc6e4=Math[_0x5950f1(0x823)](this[_0x5950f1(0x47a)]['ScheduleMessage'][_0x5950f1(0x399)]/0xea60);this[_0x5950f1(0x4e3)]['verbose'](this[_0x5950f1(0x653)]+'\x20('+this['instance']['wuid']+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x4dc6e4+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x5950f1(0x740)]=!0x1;return;}else this['instance'][_0x5950f1(0x5a4)]&&(this[_0x5950f1(0x4e3)][_0x5950f1(0x6f6)](this[_0x5950f1(0x653)]+'\x20('+this[_0x5950f1(0x47a)]['wuid']+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this['AutomateSystem']||(await this['getAutomateSystem'](),this[_0x5950f1(0x819)](),this[_0x5950f1(0x4c5)]()),(this[_0x5950f1(0x47a)]['ScheduleMessage']['delayMessage']===null||this[_0x5950f1(0x47a)][_0x5950f1(0x2d4)][_0x5950f1(0x399)]===void 0x0)&&await this[_0x5950f1(0x545)]());if(this[_0x5950f1(0x740)]){let _0x29e945=_0x58078f();this['logger']['verbose'](this[_0x5950f1(0x653)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x29e945/0x3e8+_0x5950f1(0x7e9)),setTimeout(_0x20cdae,_0x29e945);}};if(this[_0xbe1945(0x740)])return;this['isRunning']=!0x0;let _0x26983e=_0x58078f();setTimeout(_0x20cdae,_0x26983e);}async[a0_0xf534fa(0x4c5)](){const _0x454163=a0_0xf534fa;let _0x29d138=this[_0x454163(0x47a)][_0x454163(0x5a4)];try{let _0x50bf88=await this[_0x454163(0x7ea)][_0x454163(0x66e)]['findAll']({'where':{'$or':[{'owner':_0x29d138},{'whoCanUse':{'$in':[_0x29d138]}},{'shareOwners':{'$in':[_0x29d138]}}]}}),_0x51fdbb=new Map(this[_0x454163(0x877)][_0x454163(0x390)][_0x454163(0x445)](_0x39c492=>[_0x39c492['_id'],_0x39c492])),_0x105c81=_0x50bf88[_0x454163(0x445)](_0x57d2dc=>{const _0x12bc52=_0x454163;let _0x5b4703=_0x51fdbb[_0x12bc52(0x71f)](_0x57d2dc[_0x12bc52(0x656)]?.['toString']());return{'_id':_0x57d2dc[_0x12bc52(0x656)]?.[_0x12bc52(0x7f7)](),'name':_0x5b4703?.['name']??_0x57d2dc[_0x12bc52(0x232)],'default':_0x5b4703?.[_0x12bc52(0x311)]??_0x57d2dc[_0x12bc52(0x311)]??!0x1,'startCommand':_0x5b4703?.[_0x12bc52(0x1a3)]??_0x57d2dc[_0x12bc52(0x699)],'minutesToClose':_0x5b4703?.[_0x12bc52(0x575)]??_0x57d2dc['minutesToClose']??0xa,'readMessages':_0x5b4703?.[_0x12bc52(0x413)]??_0x57d2dc['readMessages']??!0x1,'testingWith':_0x5b4703?.[_0x12bc52(0x581)]??_0x57d2dc[_0x12bc52(0x581)],'canEdit':_0x57d2dc[_0x12bc52(0x2ad)]===_0x29d138||(_0x57d2dc['whoCanEdit']??[])[_0x12bc52(0x89d)](_0x29d138),'usersCount':(_0x57d2dc['shareOwners']??[])[_0x12bc52(0x847)]??0x0};}),_0x25c934=!0x1;_0x105c81[_0x454163(0x753)](_0x1eb6e3=>{const _0x3b3dcb=_0x454163;_0x1eb6e3[_0x3b3dcb(0x311)]&&(_0x25c934?_0x1eb6e3[_0x3b3dcb(0x311)]=!0x1:_0x25c934=!0x0);}),this['AutomateSystem'][_0x454163(0x390)]=_0x105c81;let _0x8b90a6={'flows':_0x105c81};return await this[_0x454163(0x7ea)]['automateSystem'][_0x454163(0x1bb)](_0x8b90a6,_0x29d138),this[_0x454163(0x4e3)][_0x454163(0x6f6)](this[_0x454163(0x653)]+'\x20('+_0x29d138+_0x454163(0x286)),_0x105c81['length'];}catch(_0x575767){return this['logger'][_0x454163(0x1c2)](this[_0x454163(0x653)]+'\x20('+_0x29d138+_0x454163(0x221)+(_0x575767 instanceof Error?_0x575767['message']:JSON[_0x454163(0x6f0)](_0x575767,null,0x2))),{'message':_0x454163(0x861)+(_0x575767 instanceof Error?_0x575767[_0x454163(0x6c6)]:JSON[_0x454163(0x6f0)](_0x575767,null,0x2))};}}async[a0_0xf534fa(0x236)](_0x5a9094){const _0x438cd9=a0_0xf534fa;try{let _0x1d0021=await this[_0x438cd9(0x7ea)][_0x438cd9(0x47a)][_0x438cd9(0x3b6)]({'where':{'_id':W+'-'+this[_0x438cd9(0x653)]}}),_0x1e7c9e,_0x409449=!se[_0x438cd9(0x86b)]||!se[_0x438cd9(0x29b)];console[_0x438cd9(0x2a2)](_0x438cd9(0x55a)),console[_0x438cd9(0x2a2)](_0x438cd9(0x8be),$i),console['log']('this.reconnectAttempts:\x20',this[_0x438cd9(0x863)]),console[_0x438cd9(0x2a2)](_0x438cd9(0x55a)),$i&&!_0x409449&&(this[_0x438cd9(0x863)]<0x4||!this['reconnectAttempts']?_0x1d0021&&_0x1d0021['ip']?(_0x1e7c9e=_0x1d0021['ip'],console['log'](_0x438cd9(0x34c)+_0x1e7c9e)):(_0x1e7c9e=await se[_0x438cd9(0x747)](W,this[_0x438cd9(0x47a)][_0x438cd9(0x232)]),_0x1e7c9e?(console[_0x438cd9(0x2a2)](_0x438cd9(0x1f7)+_0x1e7c9e),await(0x0,w['delay'])(0x7d0)):console[_0x438cd9(0x1c2)]('Falha\x20ao\x20criar\x20IPv6.')):this[_0x438cd9(0x863)]<0x6&&(await se['removeIPv6ById'](W,this[_0x438cd9(0x47a)]['name']),console[_0x438cd9(0x2a2)](_0x438cd9(0x882)),_0x1e7c9e=await se[_0x438cd9(0x747)](W,this[_0x438cd9(0x47a)][_0x438cd9(0x232)]),_0x1e7c9e?(console[_0x438cd9(0x2a2)](_0x438cd9(0x1f7)+_0x1e7c9e),await(0x0,w[_0x438cd9(0x779)])(0x7d0)):console[_0x438cd9(0x1c2)](_0x438cd9(0x295)))),this[_0x438cd9(0x459)](),this['instance']['apikey']=(await this[_0x438cd9(0x7ea)][_0x438cd9(0x7cc)][_0x438cd9(0x525)](this[_0x438cd9(0x47a)]['name']))[_0x438cd9(0x770)],this[_0x438cd9(0x47a)][_0x438cd9(0x503)]=await this[_0x438cd9(0x3a9)]();let {version:_0x190dc8}=await(0x0,w['fetchLatestBaileysVersion'])(),_0x586afb=[Oi,Ds,(0x0,Os[_0x438cd9(0x4bd)])()],_0x1bafaf={'localAddress':_0x1e7c9e,'auth':{'creds':this[_0x438cd9(0x47a)][_0x438cd9(0x503)][_0x438cd9(0x87a)]['creds'],'keys':(0x0,w[_0x438cd9(0x7be)])(this[_0x438cd9(0x47a)][_0x438cd9(0x503)][_0x438cd9(0x87a)][_0x438cd9(0x725)],(0x0,kt[_0x438cd9(0x311)])({'level':_0x438cd9(0x1c2)}))},'logger':(0x0,kt[_0x438cd9(0x311)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x5a9094?[_0x438cd9(0x19a),Ds,(0x0,Os[_0x438cd9(0x4bd)])()]:_0x586afb,'version':_0x190dc8,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x2c1d4b=>{const _0x2450ca=_0x438cd9;let _0x25e9cb=this['localWebhook']?.[_0x2450ca(0x5f1)]&&(0x0,w[_0x2450ca(0x522)])(_0x2c1d4b);return(0x0,w['isJidBroadcast'])(_0x2c1d4b)||_0x25e9cb;},'msgRetryCounterCache':this[_0x438cd9(0x739)],'getMessage':async _0x237701=>await this[_0x438cd9(0x8b2)](_0x237701),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x438cd9(0x76e)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x12030a){const _0x454de2=_0x438cd9;return _0x12030a[_0x454de2(0x550)]?.[_0x454de2(0x6c6)]?.[_0x454de2(0x20e)]?.[_0x454de2(0x4ed)]===w[_0x454de2(0x7bb)]['Message'][_0x454de2(0x818)][_0x454de2(0x547)][_0x454de2(0x83e)]&&(_0x12030a=JSON[_0x454de2(0x845)](JSON[_0x454de2(0x6f0)](_0x12030a)),_0x12030a[_0x454de2(0x550)]['message']['listMessage'][_0x454de2(0x4ed)]=w[_0x454de2(0x7bb)][_0x454de2(0x1d7)][_0x454de2(0x818)][_0x454de2(0x547)][_0x454de2(0x2eb)]),_0x12030a[_0x454de2(0x20e)]?.['listType']==w[_0x454de2(0x7bb)][_0x454de2(0x1d7)][_0x454de2(0x818)]['ListType'][_0x454de2(0x83e)]&&(_0x12030a=JSON[_0x454de2(0x845)](JSON['stringify'](_0x12030a)),_0x12030a[_0x454de2(0x20e)]['listType']=w[_0x454de2(0x7bb)][_0x454de2(0x1d7)][_0x454de2(0x818)]['ListType'][_0x454de2(0x2eb)]),_0x12030a;}};return this[_0x438cd9(0x24b)]=!0x1,this['client']=(0x0,w[_0x438cd9(0x311)])(_0x1bafaf),this[_0x438cd9(0x6a4)](),this[_0x438cd9(0x7b6)]=_0x5a9094,this[_0x438cd9(0x73e)];}catch(_0x476dc3){let _0x3eaf18=_0x438cd9(0x1a7),_0x332adb=_0x476dc3 instanceof Error?_0x476dc3['message']:typeof _0x476dc3==_0x438cd9(0x71e)?JSON['stringify'](_0x476dc3):_0x476dc3,_0x4791f1=_0x3eaf18+':\x20'+_0x332adb;throw this[_0x438cd9(0x4e3)][_0x438cd9(0x1c2)](this[_0x438cd9(0x653)]+'\x20('+this[_0x438cd9(0x47a)][_0x438cd9(0x5a4)]+_0x438cd9(0x43f)+_0x4791f1),console['error'](_0x438cd9(0x71a),_0x476dc3),_0x476dc3 instanceof Error&&console[_0x438cd9(0x1c2)](_0x438cd9(0x3e7),_0x476dc3[_0x438cd9(0x639)]),new O(_0x4791f1);}}[a0_0xf534fa(0x6a4)](){const _0xaf6b9a=a0_0xf534fa;this[_0xaf6b9a(0x73e)]['ev'][_0xaf6b9a(0x6b1)](_0x1f4360=>{const _0xe12858=_0xaf6b9a;if(!this['endSession']){let _0x3a04d7=this[_0xe12858(0x7dd)]['get']('DATABASE');if(_0x1f4360['labels.edit']){let _0x4f1c21=_0x1f4360[_0xe12858(0x511)];this[_0xe12858(0x838)][_0xe12858(0x511)](_0x4f1c21);}if(_0x1f4360[_0xe12858(0x579)]){let _0x25af66=_0x1f4360['labels.association'];this[_0xe12858(0x838)][_0xe12858(0x579)](_0x25af66);}if(_0x1f4360[_0xe12858(0x266)]&&this[_0xe12858(0x6df)](_0x1f4360[_0xe12858(0x266)]),_0x1f4360[_0xe12858(0x328)]&&this[_0xe12858(0x47a)]['authState'][_0xe12858(0x44a)](),_0x1f4360['messaging-history.set']){let _0x2e8f93=_0x1f4360[_0xe12858(0x474)];this['messageHandle'][_0xe12858(0x474)](_0x2e8f93,_0x3a04d7);}if(_0x1f4360[_0xe12858(0x3ea)]){let _0x4d4436=_0x1f4360[_0xe12858(0x3ea)];this[_0xe12858(0x838)][_0xe12858(0x3ea)](_0x4d4436,_0x3a04d7);}if(_0x1f4360[_0xe12858(0x668)]){let _0x38a69d=_0x1f4360[_0xe12858(0x668)];this[_0xe12858(0x838)][_0xe12858(0x668)](_0x38a69d,_0x3a04d7);}if(_0x1f4360[_0xe12858(0x4f3)]){let _0x3ba36f=_0x1f4360['presence.update'];if(this[_0xe12858(0x322)]?.[_0xe12858(0x5f1)]&&_0x3ba36f['id'][_0xe12858(0x89d)](_0xe12858(0x64e)))return;this['sendDataWebhook']('presence.update',_0x3ba36f);}if(_0x1f4360[_0xe12858(0x435)]){let _0xe0ee33=_0x1f4360['groups.upsert'];this['groupHandler'][_0xe12858(0x435)](_0xe0ee33);}if(_0x1f4360[_0xe12858(0x3c0)]){let _0x2c7d73=_0x1f4360['groups.update'];this[_0xe12858(0x84f)][_0xe12858(0x3c0)](_0x2c7d73);}if(_0x1f4360['group-participants.update']){let _0x361eb1=_0x1f4360[_0xe12858(0x394)];this['groupHandler'][_0xe12858(0x394)](_0x361eb1);}if(_0x1f4360[_0xe12858(0x1a5)]){let _0x312ffd=_0x1f4360[_0xe12858(0x1a5)];this[_0xe12858(0x199)][_0xe12858(0x1a5)](_0x312ffd,_0x3a04d7);}if(_0x1f4360[_0xe12858(0x6c7)]){let _0x2926ee=_0x1f4360['chats.update'];this['chatHandle'][_0xe12858(0x6c7)](_0x2926ee,_0x3a04d7);}if(_0x1f4360[_0xe12858(0x42f)]){let _0x2e5090=_0x1f4360[_0xe12858(0x42f)];this[_0xe12858(0x199)]['chats.delete'](_0x2e5090);}if(_0x1f4360[_0xe12858(0x624)]){let _0x2c1877=_0x1f4360[_0xe12858(0x624)];this[_0xe12858(0x563)][_0xe12858(0x624)](_0x2c1877,_0x3a04d7);}if(_0x1f4360[_0xe12858(0x7c8)]){let _0x37c931=_0x1f4360['contacts.update'];this[_0xe12858(0x563)][_0xe12858(0x7c8)](_0x37c931,_0x3a04d7);}}});}async[a0_0xf534fa(0x369)](_0x4b74f7,_0x57b019){const _0xe4e139=a0_0xf534fa;if(_0x57b019>=0xa){console[_0xe4e139(0x1c2)](this[_0xe4e139(0x653)]+'\x20('+this[_0xe4e139(0x47a)][_0xe4e139(0x5a4)]+'):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar'),delete Pt[_0x4b74f7[_0xe4e139(0x693)]['id']];return;}try{console[_0xe4e139(0x1c2)](this[_0xe4e139(0x653)]+'\x20('+this[_0xe4e139(0x47a)][_0xe4e139(0x5a4)]+_0xe4e139(0x7af)+(_0x57b019+0x1)),await this[_0xe4e139(0x73e)][_0xe4e139(0x2da)](JSON[_0xe4e139(0x845)](_0x4b74f7['messageStubParameters'][0x1],w['BufferJSON'][_0xe4e139(0x5c8)])),console[_0xe4e139(0x1c2)]('[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso');}catch(_0x2725b5){console[_0xe4e139(0x1c2)](this[_0xe4e139(0x653)]+'\x20('+this[_0xe4e139(0x47a)][_0xe4e139(0x5a4)]+_0xe4e139(0x3ef)+_0x2725b5),setTimeout(()=>this[_0xe4e139(0x369)](_0x4b74f7,_0x57b019+0x1),Math[_0xe4e139(0x52f)](0x2,_0x57b019)*0x3e8);}}[a0_0xf534fa(0x7ba)](_0x26633e){return new Promise(_0x461233=>setTimeout(_0x461233,_0x26633e));}[a0_0xf534fa(0x479)](_0x38a2e5){const _0x194ba3=a0_0xf534fa;_0x38a2e5=_0x38a2e5[_0x194ba3(0x60c)](/\D/g,'');let _0x37bf8a=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x194ba3(0x887)](_0x38a2e5);if(_0x37bf8a&&_0x37bf8a[0x1]==='55'){let _0x279e29=_0x37bf8a[0x2],_0x197575=_0x37bf8a[0x3],_0x253dc4=_0x37bf8a[0x4];if(parseInt(_0x279e29)>=0x1f&&_0x197575==='9')return _0x37bf8a[0x1]+_0x279e29+_0x253dc4;}return _0x38a2e5;}[a0_0xf534fa(0x39f)](_0x45794a){const _0x16c19e=a0_0xf534fa;return _0x45794a[_0x16c19e(0x89d)](_0x16c19e(0x64e))||_0x45794a['includes']('@s.whatsapp.net')||_0x45794a[_0x16c19e(0x89d)](_0x16c19e(0x827))?_0x45794a:(_0x45794a=_0x45794a?.[_0x16c19e(0x60c)](/\s/g,'')[_0x16c19e(0x60c)](/\+/g,'')[_0x16c19e(0x60c)](/\(/g,'')[_0x16c19e(0x60c)](/\)/g,'')[_0x16c19e(0x520)](/\:/)[0x0][_0x16c19e(0x520)]('@')[0x0],_0x45794a[_0x16c19e(0x847)]>=0x12?(_0x45794a=_0x45794a[_0x16c19e(0x60c)](/[^\d-]/g,''),_0x45794a+_0x16c19e(0x64e)):(_0x45794a=_0x45794a[_0x16c19e(0x60c)](/\D/g,''),_0x45794a+_0x16c19e(0x746)));}async[a0_0xf534fa(0x19f)](_0xdefb99){const _0x3bf95d=a0_0xf534fa;let _0x49441c=(await this[_0x3bf95d(0x862)]({'numbers':[_0xdefb99[_0x3bf95d(0x4d2)]]}))[0x0];if(!_0x49441c[_0x3bf95d(0x2b6)]&&!(0x0,w[_0x3bf95d(0x522)])(_0x49441c[_0x3bf95d(0x47e)])&&!_0x49441c[_0x3bf95d(0x47e)][_0x3bf95d(0x89d)](_0x3bf95d(0x827)))throw new m(_0x49441c);let _0x5452d6=_0x49441c[_0x3bf95d(0x47e)];try{return await this[_0x3bf95d(0x73e)][_0x3bf95d(0x68f)](_0x5452d6),await this[_0x3bf95d(0x73e)]['sendPresenceUpdate'](_0xdefb99['presence'],_0x5452d6),{'status':0xc8,'presence':_0xdefb99[_0x3bf95d(0x4d8)]};}catch(_0x286bc0){let _0x51c86d=_0x3bf95d(0x230),_0x518a95=_0x286bc0 instanceof Error?_0x286bc0[_0x3bf95d(0x6c6)]:typeof _0x286bc0==_0x3bf95d(0x71e)?JSON[_0x3bf95d(0x6f0)](_0x286bc0):_0x286bc0,_0x221911=_0x51c86d+':\x20'+_0x518a95;throw this[_0x3bf95d(0x4e3)][_0x3bf95d(0x1c2)](this[_0x3bf95d(0x653)]+'\x20('+this[_0x3bf95d(0x47a)]['wuid']+_0x3bf95d(0x43f)+_0x221911),new m(_0x221911);}}async[a0_0xf534fa(0x885)](_0x26bdfe,_0x57c495,_0xd4d0b3,_0x1b8008=!0x0){const _0x4fef3b=a0_0xf534fa;let _0x389529=await this['repository'][_0x4fef3b(0x756)][_0x4fef3b(0x3b6)]({'where':{'_id':_0x26bdfe}});if(!_0x389529&&!_0x1b8008)return;let _0x38ef8a={'lastUpdate':Date[_0x4fef3b(0x694)]()};if(_0xd4d0b3||!_0x389529?.['lastUpdate']||Date[_0x4fef3b(0x694)]()-_0x389529[_0x4fef3b(0x523)]>0x18*0x3c*0x3c*0x3e8)try{let _0x2cbe1c=(await this[_0x4fef3b(0x65f)](_0x26bdfe))[_0x4fef3b(0x36b)];_0x38ef8a['pictureUrl']=_0x2cbe1c;}catch(_0x97a85){let _0x3b26f6=_0x4fef3b(0x826),_0x3199bf=_0x97a85 instanceof Error?_0x97a85[_0x4fef3b(0x6c6)]:typeof _0x97a85==_0x4fef3b(0x71e)?JSON[_0x4fef3b(0x6f0)](_0x97a85):_0x97a85,_0x14f653=_0x3b26f6+':\x20'+_0x3199bf;throw this['logger'][_0x4fef3b(0x1c2)](this['instanceName']+'\x20('+this[_0x4fef3b(0x47a)]['wuid']+'):\x20'+_0x14f653),new m(_0x14f653);}return _0x57c495&&_0x389529?.[_0x4fef3b(0x232)]!==_0x57c495&&(_0x38ef8a['name']=_0x57c495),Object[_0x4fef3b(0x725)](_0x38ef8a)['length']>0x1&&(_0x389529?await this[_0x4fef3b(0x7ea)][_0x4fef3b(0x756)]['update']({'where':{'_id':_0x26bdfe}},_0x38ef8a):await this['repository'][_0x4fef3b(0x756)][_0x4fef3b(0x710)]([{'_id':_0x26bdfe,..._0x38ef8a}]),_0x389529={..._0x389529,..._0x38ef8a}),{'cachedContact':_0x389529};}async[a0_0xf534fa(0x65f)](_0x5d5ba9){const _0x2f262d=a0_0xf534fa;let _0x2aba3f=this[_0x2f262d(0x39f)](_0x5d5ba9);try{return{'wuid':_0x2aba3f,'profilePictureUrl':await this[_0x2f262d(0x73e)][_0x2f262d(0x36b)](_0x2aba3f,'image')};}catch{return{'wuid':_0x2aba3f,'profilePictureUrl':null};}}async[a0_0xf534fa(0x681)](_0x1a3b36,_0x35ccba,_0x1458b7){const _0x21d451=a0_0xf534fa;let _0x375083;try{let _0x99f326=(await this[_0x21d451(0x862)]({'numbers':[_0x1a3b36]}))?.[_0x21d451(0x6b0)]();if(!_0x99f326['exists']&&!(0x0,w[_0x21d451(0x522)])(_0x99f326[_0x21d451(0x47e)])&&!_0x99f326['jid']['includes']('@broadcast'))throw new m(_0x99f326);_0x375083=_0x99f326[_0x21d451(0x47e)];}catch(_0x301b38){_0x375083=_0x1a3b36,this['logger'][_0x21d451(0x193)](this[_0x21d451(0x653)]+'\x20('+this[_0x21d451(0x47a)][_0x21d451(0x5a4)]+_0x21d451(0x220)+_0x301b38[_0x21d451(0x6c6)]),this[_0x21d451(0x4e3)]['warn'](this[_0x21d451(0x653)]+'\x20('+this['instance'][_0x21d451(0x5a4)]+_0x21d451(0x686)+_0x375083);}try{if(_0x375083||(_0x375083=_0x1a3b36,this['logger'][_0x21d451(0x193)](this[_0x21d451(0x653)]+'\x20('+this['instance'][_0x21d451(0x5a4)]+_0x21d451(0x7bc)+_0x375083)),_0x1458b7||(_0x1458b7={}),_0x1458b7?.[_0x21d451(0x779)]){await this['client']['presenceSubscribe'](_0x375083),await this[_0x21d451(0x73e)]['sendPresenceUpdate'](_0x1458b7?.[_0x21d451(0x4d8)]??_0x21d451(0x796),_0x375083);let _0x3d8049=Math['min'](_0x1458b7[_0x21d451(0x779)],0x2710);await(0x0,w[_0x21d451(0x779)])(_0x3d8049),await this[_0x21d451(0x73e)]['sendPresenceUpdate'](_0x21d451(0x855),_0x375083);}let _0x282345=_0x1458b7?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x171691;if(_0x1458b7?.[_0x21d451(0x5cd)]){let _0x7e7757=_0x1458b7?.[_0x21d451(0x5cd)],_0x5a631f=_0x7e7757?.['message']?_0x7e7757:await this[_0x21d451(0x8b2)](_0x7e7757[_0x21d451(0x693)],!0x0);_0x5a631f&&(_0x171691=_0x5a631f);}let _0x1e8a98=await this[_0x21d451(0x7ea)][_0x21d451(0x803)][_0x21d451(0x3b6)]({'where':{'_id':_0x375083}},this['instance'][_0x21d451(0x5a4)]),_0x486e52,_0x1b1b42=null;if((0x0,w['isJidGroup'])(_0x375083))try{if(_0x1b1b42=_0x1e8a98[_0x21d451(0x471)],!_0x1b1b42)throw new F(_0x21d451(0x60e));_0x1458b7?.[_0x21d451(0x570)]&&(_0x1458b7[_0x21d451(0x570)]?.[_0x21d451(0x2e9)]?_0x486e52=_0x1b1b42[_0x21d451(0x6a0)][_0x21d451(0x445)](_0x5824d2=>_0x5824d2['id']):_0x1458b7[_0x21d451(0x570)]?.[_0x21d451(0x449)]?.[_0x21d451(0x847)]&&(_0x486e52=_0x1458b7[_0x21d451(0x570)]['mentioned'][_0x21d451(0x445)](_0x455799=>{const _0x4ab69a=_0x21d451;let _0x2f452c=this['createJid'](_0x455799);return(0x0,w[_0x4ab69a(0x522)])(_0x2f452c)?null:_0x2f452c;})));}catch{throw new F('Group\x20not\x20found');}let _0x183f53=await((async()=>{const _0x455a77=_0x21d451;let _0x139bd6={'quoted':_0x171691,'ephemeralExpiration':_0x1e8a98?.['ephemeralExpiration']??0x0};if(!_0x35ccba['audio']&&!_0x35ccba[_0x455a77(0x412)]&&!_0x35ccba['sticker']&&!_0x35ccba[_0x455a77(0x267)]&&_0x375083!==_0x455a77(0x2bd)&&_0x35ccba[_0x455a77(0x40d)])return await this[_0x455a77(0x73e)][_0x455a77(0x3cc)](_0x375083,{'react':{'text':_0x35ccba[_0x455a77(0x40d)][_0x455a77(0x879)],'key':_0x35ccba[_0x455a77(0x40d)][_0x455a77(0x693)]}},_0x139bd6);if(_0x35ccba[_0x455a77(0x267)]){let _0x407edb=_0x35ccba[_0x455a77(0x267)];return _0x1458b7?.[_0x455a77(0x1b8)]&&(_0x407edb=await this['replaceVariablesChat'](_0x407edb,_0x375083)),await this[_0x455a77(0x73e)][_0x455a77(0x3cc)](_0x375083,{'text':_0x407edb,'mentions':_0x486e52,'linkPreview':_0x282345},_0x139bd6);}return!_0x35ccba[_0x455a77(0x1b7)]&&!_0x35ccba['poll']&&_0x375083!=_0x455a77(0x2bd)?await this[_0x455a77(0x73e)][_0x455a77(0x3cc)](_0x375083,{'forward':{'key':{'remoteJid':this[_0x455a77(0x47a)][_0x455a77(0x5a4)],'fromMe':!0x0},'message':_0x35ccba},'mentions':_0x486e52},_0x139bd6):_0x375083===_0x455a77(0x2bd)?await this[_0x455a77(0x73e)][_0x455a77(0x3cc)](_0x375083,_0x35ccba[_0x455a77(0x2d2)][_0x455a77(0x788)],{'backgroundColor':_0x35ccba[_0x455a77(0x2d2)][_0x455a77(0x301)]['backgroundColor'],'font':_0x35ccba['status']['option'][_0x455a77(0x556)],'statusJidList':_0x35ccba[_0x455a77(0x2d2)][_0x455a77(0x301)][_0x455a77(0x6d4)]}):await this[_0x455a77(0x73e)][_0x455a77(0x3cc)](_0x375083,_0x35ccba,_0x139bd6);})()),_0x54f8f7=(0x0,w['normalizeMessageContent'])(_0x183f53['message']),_0x3fbc62=(0x0,w[_0x21d451(0x662)])(_0x54f8f7),{message_normalized:_0x2f7d9d}=this[_0x21d451(0x382)](_0x54f8f7,_0x3fbc62,null),_0x1f2b18={'_id':_0x183f53[_0x21d451(0x693)]['id'],'key':_0x183f53['key'],'pushName':_0x183f53[_0x21d451(0x6a6)],'isGroup':_0x183f53[_0x21d451(0x693)][_0x21d451(0x281)][_0x21d451(0x1b6)](_0x21d451(0x64e)),'profilePictureUrl':this[_0x21d451(0x47a)][_0x21d451(0x36b)],'message':_0x54f8f7,'messageType':_0x3fbc62,'message_normalized':{'key':_0x183f53[_0x21d451(0x693)],'pushName':_0x183f53[_0x21d451(0x6a6)],'messageTimestamp':_0x183f53[_0x21d451(0x27c)]&&_0x183f53['messageTimestamp']['toString']()[_0x21d451(0x847)]<0xd?_0x183f53[_0x21d451(0x27c)]*0x3e8:_0x183f53[_0x21d451(0x27c)]||null,'source':(0x0,w[_0x21d451(0x3f7)])(_0x183f53[_0x21d451(0x693)]['id']),..._0x2f7d9d},'messageTimestamp':_0x183f53[_0x21d451(0x27c)]&&_0x183f53[_0x21d451(0x27c)][_0x21d451(0x7f7)]()['length']<0xd?_0x183f53[_0x21d451(0x27c)]*0x3e8:_0x183f53[_0x21d451(0x27c)]||null,'owner':this['instance'][_0x21d451(0x5a4)],'source':(0x0,w[_0x21d451(0x3f7)])(_0x183f53['key']['id'])};return this[_0x21d451(0x4e3)]['warn'](this[_0x21d451(0x653)]+'\x20('+this[_0x21d451(0x47a)][_0x21d451(0x5a4)]+'):\x20enviado\x20para\x20['+_0x1f2b18['key']?.[_0x21d451(0x281)]['replace'](_0x21d451(0x746),'')+_0x21d451(0x5d2)+_0x1f2b18[_0x21d451(0x5a9)]+')'),_0x1f2b18[_0x21d451(0x5dc)]?.['text']&&this[_0x21d451(0x4e3)][_0x21d451(0x193)](_0x1f2b18[_0x21d451(0x5dc)]?.[_0x21d451(0x879)]),this['sendDataWebhook'](_0x21d451(0x784),_0x1f2b18),U(this[_0x21d451(0x653)],_0x21d451(0x402),{'message':_0x1f2b18}),this[_0x21d451(0x648)](this[_0x21d451(0x7dd)][_0x21d451(0x71f)](_0x21d451(0x671)),_0x1f2b18,'SEND_MESSAGE',_0x1e8a98),await this[_0x21d451(0x7ea)]['message']['insert']([_0x1f2b18],this[_0x21d451(0x47a)][_0x21d451(0x5a4)]),_0x183f53;}catch(_0x38bb80){let _0x1127a8=_0x21d451(0x3ff)+_0x375083,_0x51e7ea=_0x38bb80 instanceof Error?_0x38bb80[_0x21d451(0x6c6)]:typeof _0x38bb80==_0x21d451(0x71e)?JSON[_0x21d451(0x6f0)](_0x38bb80):_0x38bb80,_0x2f41e5=_0x1127a8+':\x20'+_0x51e7ea;throw this['logger'][_0x21d451(0x1c2)](this['instanceName']+'\x20('+this[_0x21d451(0x47a)][_0x21d451(0x5a4)]+_0x21d451(0x43f)+_0x2f41e5),new m(_0x2f41e5);}}get[a0_0xf534fa(0x377)](){const _0x4b95c5=a0_0xf534fa;return this[_0x4b95c5(0x50e)];}async[a0_0xf534fa(0x6e0)](_0xcb52be){const _0x311898=a0_0xf534fa;return await this[_0x311898(0x681)](_0xcb52be[_0x311898(0x4d2)],{'conversation':_0xcb52be['textMessage'][_0x311898(0x879)]},_0xcb52be?.['options']);}async[a0_0xf534fa(0x4af)](_0x3b572a){const _0x420e92=a0_0xf534fa;if(!_0x3b572a[_0x420e92(0x20f)])throw new m('Type\x20is\x20required');if(!_0x3b572a[_0x420e92(0x788)])throw new m('Content\x20is\x20required');if(_0x3b572a[_0x420e92(0x600)]){let _0x24e442=await this['repository'][_0x420e92(0x366)][_0x420e92(0x525)]({'where':{}},this['instance'][_0x420e92(0x5a4)]);if(!_0x24e442[_0x420e92(0x847)])throw new m('Contacts\x20not\x20found');_0x3b572a['statusJidList']=_0x24e442[_0x420e92(0x5d3)](_0x19bf95=>_0x19bf95[_0x420e92(0x6a6)])['map'](_0x21c164=>_0x21c164[_0x420e92(0x656)]);}if(!_0x3b572a[_0x420e92(0x6d4)]?.[_0x420e92(0x847)]&&!_0x3b572a[_0x420e92(0x600)])throw new m('StatusJidList\x20is\x20required');if(_0x3b572a[_0x420e92(0x20f)]===_0x420e92(0x879)){if(!_0x3b572a[_0x420e92(0x7f0)])throw new m(_0x420e92(0x2ba));if(!_0x3b572a['font'])throw new m(_0x420e92(0x697));return{'content':{'text':_0x3b572a[_0x420e92(0x788)]},'option':{'backgroundColor':_0x3b572a[_0x420e92(0x7f0)],'font':_0x3b572a[_0x420e92(0x556)],'statusJidList':_0x3b572a[_0x420e92(0x6d4)]}};}if(_0x3b572a[_0x420e92(0x20f)]===_0x420e92(0x35b))return{'content':{'image':{'url':_0x3b572a['content']},'caption':_0x3b572a[_0x420e92(0x7b7)]},'option':{'statusJidList':_0x3b572a[_0x420e92(0x6d4)]}};if(_0x3b572a['type']===_0x420e92(0x259))return{'content':{'video':{'url':_0x3b572a['content']},'caption':_0x3b572a['caption']},'option':{'statusJidList':_0x3b572a[_0x420e92(0x6d4)]}};if(_0x3b572a[_0x420e92(0x20f)]===_0x420e92(0x1b7)){this[_0x420e92(0x4e3)][_0x420e92(0x6f6)](this[_0x420e92(0x653)]+'\x20('+this[_0x420e92(0x47a)][_0x420e92(0x5a4)]+_0x420e92(0x46a)),this[_0x420e92(0x4e3)][_0x420e92(0x6f6)](this[_0x420e92(0x653)]+'\x20('+this[_0x420e92(0x47a)]['wuid']+_0x420e92(0x2fb));let _0x9f0902=await this[_0x420e92(0x2c9)](_0x3b572a[_0x420e92(0x788)]);if(typeof _0x9f0902==_0x420e92(0x3dd)){this[_0x420e92(0x4e3)][_0x420e92(0x6f6)](this[_0x420e92(0x653)]+'\x20('+this[_0x420e92(0x47a)][_0x420e92(0x5a4)]+_0x420e92(0x277));let _0x3332f3=P[_0x420e92(0x194)](_0x9f0902)[_0x420e92(0x7f7)](_0x420e92(0x1e1));return{'content':{'audio':Buffer[_0x420e92(0x831)](_0x3332f3,_0x420e92(0x1e1)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x3b572a[_0x420e92(0x6d4)]}};}else throw new O(_0x9f0902);}throw new m(_0x420e92(0x66a));}async[a0_0xf534fa(0x691)](_0x311b4c){const _0x33e3a9=a0_0xf534fa;return await this['sendMessageWithTyping']('status@broadcast',{'status':await this['formatStatusMessage'](_0x311b4c[_0x33e3a9(0x691)])});}async[a0_0xf534fa(0x5e9)](_0x6f5f9d){const _0x3944cc=a0_0xf534fa;try{let _0x4c70cb=await(0x0,w[_0x3944cc(0x852)])({[_0x6f5f9d['mediatype']]:(0x0,D[_0x3944cc(0x73f)])(_0x6f5f9d[_0x3944cc(0x31c)])?{'url':_0x6f5f9d['media']}:Buffer['from'](_0x6f5f9d[_0x3944cc(0x31c)],_0x3944cc(0x1e1))},{'upload':this[_0x3944cc(0x73e)][_0x3944cc(0x865)]}),_0x486ee6=_0x6f5f9d['mediatype']+_0x3944cc(0x1d7);if(_0x6f5f9d[_0x3944cc(0x280)]===_0x3944cc(0x283)&&!_0x6f5f9d[_0x3944cc(0x6b9)]){let _0x36c3b4=new RegExp(/.*\/(.+?)\./)[_0x3944cc(0x887)](_0x6f5f9d[_0x3944cc(0x31c)]);_0x6f5f9d[_0x3944cc(0x6b9)]=_0x36c3b4?_0x36c3b4[0x1]:null;}let _0x198372;return(0x0,D[_0x3944cc(0x73f)])(_0x6f5f9d[_0x3944cc(0x31c)])?_0x198372=(await Q['default'][_0x3944cc(0x71f)](_0x6f5f9d[_0x3944cc(0x31c)],{'responseType':'arraybuffer'}))[_0x3944cc(0x318)]['content-type']:_0x198372=(0x0,Ti[_0x3944cc(0x735)])(_0x6f5f9d[_0x3944cc(0x6b9)]),_0x4c70cb[_0x486ee6][_0x3944cc(0x7b7)]=_0x6f5f9d?.[_0x3944cc(0x7b7)],_0x4c70cb[_0x486ee6]['mimetype']=_0x198372,_0x4c70cb[_0x486ee6][_0x3944cc(0x6b9)]=_0x6f5f9d['fileName'],_0x6f5f9d['mediatype']==='video'&&(_0x4c70cb[_0x486ee6]['jpegThumbnail']=Uint8Array[_0x3944cc(0x831)]((0x0,De[_0x3944cc(0x194)])((0x0,L[_0x3944cc(0x48a)])(process[_0x3944cc(0x43d)](),'video-cover.png'))),_0x4c70cb[_0x486ee6][_0x3944cc(0x65a)]=!0x1),(0x0,w[_0x3944cc(0x391)])('',{[_0x486ee6]:{..._0x4c70cb[_0x486ee6]}},{'userJid':this[_0x3944cc(0x47a)]['wuid']});}catch(_0xadc5d9){let _0x355abe=_0x3944cc(0x68a),_0x1df461=_0xadc5d9 instanceof Error?_0xadc5d9['message']:typeof _0xadc5d9==_0x3944cc(0x71e)?JSON['stringify'](_0xadc5d9):_0xadc5d9,_0x37d480=_0x355abe+':\x20'+_0x1df461;throw this['logger'][_0x3944cc(0x1c2)](this[_0x3944cc(0x653)]+'\x20('+this['instance'][_0x3944cc(0x5a4)]+'):\x20'+_0x37d480),new O(_0x37d480);}}async[a0_0xf534fa(0x2dd)](_0x29f192){const _0x53704b=a0_0xf534fa;let _0x5d8fc2=await this[_0x53704b(0x5e9)](_0x29f192[_0x53704b(0x2dd)]);return await this[_0x53704b(0x681)](_0x29f192[_0x53704b(0x4d2)],{..._0x5d8fc2[_0x53704b(0x6c6)]},_0x29f192?.[_0x53704b(0x508)]);}async[a0_0xf534fa(0x714)](_0x5c2b30,_0x34a822){const _0x5e2023=a0_0xf534fa;try{this[_0x5e2023(0x4e3)][_0x5e2023(0x6f6)](this['instanceName']+'\x20('+this[_0x5e2023(0x47a)][_0x5e2023(0x5a4)]+_0x5e2023(0x2ca));let _0x3ef14d,_0x2ccac2=_0x34a822+'-'+new Date()[_0x5e2023(0x476)]();this[_0x5e2023(0x4e3)][_0x5e2023(0x6f6)](this['instanceName']+'\x20('+this['instance'][_0x5e2023(0x5a4)]+'):Hash\x20to\x20image\x20name:\x20'+_0x2ccac2);let _0x3640d6=''+(0x0,L[_0x5e2023(0x48a)])(this[_0x5e2023(0x361)],_0x2ccac2+_0x5e2023(0x336));if(this['logger'][_0x5e2023(0x6f6)](this['instanceName']+'\x20('+this[_0x5e2023(0x47a)]['wuid']+'):Output\x20path:\x20'+_0x3640d6),(0x0,D[_0x5e2023(0x6da)])(_0x5c2b30)){this[_0x5e2023(0x4e3)][_0x5e2023(0x6f6)](this[_0x5e2023(0x653)]+'\x20('+this[_0x5e2023(0x47a)][_0x5e2023(0x5a4)]+'):Image\x20is\x20base64');let _0x464681=_0x5c2b30[_0x5e2023(0x60c)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x372450=Buffer[_0x5e2023(0x831)](_0x464681,_0x5e2023(0x1e1));_0x3ef14d=''+(0x0,L[_0x5e2023(0x48a)])(this['storePath'],_0x5e2023(0x388)+_0x2ccac2+_0x5e2023(0x44f)),this[_0x5e2023(0x4e3)][_0x5e2023(0x6f6)](this[_0x5e2023(0x653)]+'\x20('+this[_0x5e2023(0x47a)][_0x5e2023(0x5a4)]+_0x5e2023(0x559)+_0x3ef14d),await(0x0,Lt[_0x5e2023(0x311)])(_0x372450)[_0x5e2023(0x2b1)](_0x3ef14d),this[_0x5e2023(0x4e3)][_0x5e2023(0x6f6)](this[_0x5e2023(0x653)]+'\x20('+this['instance'][_0x5e2023(0x5a4)]+_0x5e2023(0x69a));}else{this['logger']['verbose'](this[_0x5e2023(0x653)]+'\x20('+this['instance'][_0x5e2023(0x5a4)]+_0x5e2023(0x74b));let _0x1ea752=new Date()[_0x5e2023(0x476)](),_0x4bcd2e=_0x5c2b30+_0x5e2023(0x8a5)+_0x1ea752;this[_0x5e2023(0x4e3)][_0x5e2023(0x6f6)](this['instanceName']+'\x20('+this[_0x5e2023(0x47a)]['wuid']+_0x5e2023(0x411)+_0x4bcd2e);let _0x264a9f=await Q[_0x5e2023(0x311)][_0x5e2023(0x71f)](_0x4bcd2e,{'responseType':_0x5e2023(0x715)});this[_0x5e2023(0x4e3)][_0x5e2023(0x6f6)](this['instanceName']+'\x20('+this[_0x5e2023(0x47a)][_0x5e2023(0x5a4)]+_0x5e2023(0x261));let _0x1157cb=Buffer[_0x5e2023(0x831)](_0x264a9f['data'],'binary');_0x3ef14d=''+(0x0,L[_0x5e2023(0x48a)])(this['storePath'],_0x5e2023(0x388)+_0x2ccac2+_0x5e2023(0x44f)),this[_0x5e2023(0x4e3)][_0x5e2023(0x6f6)](this[_0x5e2023(0x653)]+'\x20('+this[_0x5e2023(0x47a)][_0x5e2023(0x5a4)]+_0x5e2023(0x559)+_0x3ef14d),await(0x0,Lt[_0x5e2023(0x311)])(_0x1157cb)['toFile'](_0x3ef14d),this[_0x5e2023(0x4e3)][_0x5e2023(0x6f6)](this[_0x5e2023(0x653)]+'\x20('+this[_0x5e2023(0x47a)][_0x5e2023(0x5a4)]+_0x5e2023(0x69a));}return await(0x0,Lt[_0x5e2023(0x311)])(_0x3ef14d)[_0x5e2023(0x79e)]()[_0x5e2023(0x2b1)](_0x3640d6),this[_0x5e2023(0x4e3)]['verbose'](this['instanceName']+'\x20('+this[_0x5e2023(0x47a)][_0x5e2023(0x5a4)]+_0x5e2023(0x2e7)),P[_0x5e2023(0x5dd)](_0x3ef14d),this[_0x5e2023(0x4e3)][_0x5e2023(0x6f6)](this[_0x5e2023(0x653)]+'\x20('+this['instance'][_0x5e2023(0x5a4)]+_0x5e2023(0x31f)),_0x3640d6;}catch(_0x690646){let _0x401653=_0x5e2023(0x4be),_0xd4a689=_0x690646 instanceof Error?_0x690646['message']:typeof _0x690646==_0x5e2023(0x71e)?JSON[_0x5e2023(0x6f0)](_0x690646):_0x690646,_0x522551=_0x401653+':\x20'+_0xd4a689;this[_0x5e2023(0x4e3)][_0x5e2023(0x1c2)](this[_0x5e2023(0x653)]+'\x20('+this[_0x5e2023(0x47a)][_0x5e2023(0x5a4)]+_0x5e2023(0x43f)+_0x522551);}}async[a0_0xf534fa(0x325)](_0x3d2ec4){const _0x57aec7=a0_0xf534fa;let _0x50a847=await this[_0x57aec7(0x714)](_0x3d2ec4[_0x57aec7(0x654)][_0x57aec7(0x35b)],_0x3d2ec4[_0x57aec7(0x4d2)]),_0x55c6e5=await this[_0x57aec7(0x681)](_0x3d2ec4[_0x57aec7(0x4d2)],{'sticker':{'url':_0x50a847}},_0x3d2ec4?.[_0x57aec7(0x508)]);return P[_0x57aec7(0x5dd)](_0x50a847),this[_0x57aec7(0x4e3)][_0x57aec7(0x6f6)](this[_0x57aec7(0x653)]+'\x20('+this[_0x57aec7(0x47a)]['wuid']+_0x57aec7(0x7f8)),_0x55c6e5;}async[a0_0xf534fa(0x3a1)](_0x3ce55c){const _0x5d0c35=a0_0xf534fa;if(this[_0x5d0c35(0x4e3)][_0x5d0c35(0x6f6)](this[_0x5d0c35(0x653)]+'\x20('+this[_0x5d0c35(0x47a)][_0x5d0c35(0x5a4)]+_0x5d0c35(0x36a)),!_0x3ce55c[_0x5d0c35(0x508)]?.['encoding']&&_0x3ce55c['options']?.[_0x5d0c35(0x23f)]!==!0x1&&(_0x3ce55c['options'][_0x5d0c35(0x23f)]=!0x0),_0x3ce55c[_0x5d0c35(0x508)]?.[_0x5d0c35(0x23f)]){let _0xbdef27=await this[_0x5d0c35(0x2c9)](_0x3ce55c[_0x5d0c35(0x3d6)][_0x5d0c35(0x1b7)]);if(typeof _0xbdef27=='string'){let _0x2c2ca5=P[_0x5d0c35(0x194)](_0xbdef27)[_0x5d0c35(0x7f7)]('base64');return this['sendMessageWithTyping'](_0x3ce55c[_0x5d0c35(0x4d2)],{'audio':Buffer[_0x5d0c35(0x831)](_0x2c2ca5,'base64'),'ptt':!0x0,'mimetype':_0x5d0c35(0x197)},{'presence':_0x5d0c35(0x253),'delay':_0x3ce55c?.[_0x5d0c35(0x508)]?.[_0x5d0c35(0x779)]});}else throw new O(_0xbdef27);}return await this[_0x5d0c35(0x681)](_0x3ce55c[_0x5d0c35(0x4d2)],{'audio':(0x0,D[_0x5d0c35(0x73f)])(_0x3ce55c[_0x5d0c35(0x3d6)]['audio'])?{'url':_0x3ce55c[_0x5d0c35(0x3d6)]['audio']}:Buffer[_0x5d0c35(0x831)](_0x3ce55c[_0x5d0c35(0x3d6)][_0x5d0c35(0x1b7)],_0x5d0c35(0x1e1)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x5d0c35(0x253),'delay':_0x3ce55c?.[_0x5d0c35(0x508)]?.[_0x5d0c35(0x779)]});}async[a0_0xf534fa(0x2c9)](_0x2d2a7d){const _0x424526=a0_0xf534fa;this['logger'][_0x424526(0x6f6)](this[_0x424526(0x653)]+'\x20('+this['instance'][_0x424526(0x5a4)]+_0x424526(0x2fb));let _0x23824e=(0x0,D[_0x424526(0x73f)])(_0x2d2a7d)?(0x0,Ft[_0x424526(0x19d)])(_0x424526(0x69f))[_0x424526(0x1bb)](_0x2d2a7d)[_0x424526(0x85d)]('hex'):(0x0,Ft['createHash'])(_0x424526(0x69f))[_0x424526(0x1bb)](_0x2d2a7d)[_0x424526(0x85d)](_0x424526(0x6cc)),_0x2ab989=''+(0x0,L[_0x424526(0x48a)])(this[_0x424526(0x361)],_0x23824e+_0x424526(0x50a));if(P[_0x424526(0x612)](_0x2ab989))return this[_0x424526(0x4e3)][_0x424526(0x6f6)](this[_0x424526(0x653)]+'\x20('+this[_0x424526(0x47a)][_0x424526(0x5a4)]+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x2ab989;let _0x5df627=''+(0x0,L[_0x424526(0x48a)])(this[_0x424526(0x361)],_0x424526(0x388)+(0x0,Y['v4'])()+_0x424526(0x30e));if((0x0,D[_0x424526(0x73f)])(_0x2d2a7d)){let _0x1d98af=new Date()['getTime'](),_0x1d8fc0=_0x2d2a7d+_0x424526(0x8a5)+_0x1d98af,_0x37bb9d=await Q[_0x424526(0x311)][_0x424526(0x71f)](_0x1d8fc0,{'responseType':_0x424526(0x715)});P[_0x424526(0x2f7)](_0x5df627,_0x37bb9d[_0x424526(0x4e2)]);}else{let _0x4c3644=Buffer[_0x424526(0x831)](_0x2d2a7d,_0x424526(0x1e1));P['writeFileSync'](_0x5df627,_0x4c3644);}return new Promise((_0x3ebd9f,_0x19b80a)=>{const _0x56d21f=_0x424526;(0x0,Pe[_0x56d21f(0x887)])(Ts[_0x56d21f(0x311)][_0x56d21f(0x875)]+_0x56d21f(0x1e3)+_0x5df627+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0x2ab989+_0x56d21f(0x29a),_0x108f3a=>{const _0x4c4081=_0x56d21f;if(P[_0x4c4081(0x5dd)](_0x5df627),_0x108f3a){this[_0x4c4081(0x4e3)][_0x4c4081(0x6f6)](this[_0x4c4081(0x653)]+'\x20('+this[_0x4c4081(0x47a)][_0x4c4081(0x5a4)]+_0x4c4081(0x299)),_0x19b80a(_0x108f3a);return;}this[_0x4c4081(0x4e3)][_0x4c4081(0x6f6)](this[_0x4c4081(0x653)]+'\x20('+this['instance']['wuid']+_0x4c4081(0x636)),_0x3ebd9f(_0x2ab989);});});}async[a0_0xf534fa(0x6bf)](_0x323314){const _0x38c9ca=a0_0xf534fa;this['logger'][_0x38c9ca(0x6f6)](this[_0x38c9ca(0x653)]+'\x20('+this[_0x38c9ca(0x47a)]['wuid']+'):Processing\x20audio');let _0x20429a=(0x0,Ft[_0x38c9ca(0x19d)])(_0x38c9ca(0x69f))[_0x38c9ca(0x1bb)](_0x323314)[_0x38c9ca(0x85d)](_0x38c9ca(0x6cc)),_0x319f4=''+(0x0,L[_0x38c9ca(0x48a)])(this[_0x38c9ca(0x361)],_0x20429a+_0x38c9ca(0x30e));if(P[_0x38c9ca(0x612)](_0x319f4))return this[_0x38c9ca(0x4e3)][_0x38c9ca(0x6f6)](this[_0x38c9ca(0x653)]+'\x20('+this[_0x38c9ca(0x47a)][_0x38c9ca(0x5a4)]+_0x38c9ca(0x6d3)),L[_0x38c9ca(0x311)][_0x38c9ca(0x403)](_0x319f4);let _0x36ea90=''+(0x0,L['join'])(this['storePath'],'temp-'+_0x20429a+'.ogg');if((0x0,D[_0x38c9ca(0x73f)])(_0x323314)){let _0x417b4f=new Date()['getTime'](),_0x4ade81=_0x323314+_0x38c9ca(0x8a5)+_0x417b4f,_0x250828=await Q[_0x38c9ca(0x311)]['get'](_0x4ade81,{'responseType':'arraybuffer'});P[_0x38c9ca(0x2f7)](_0x36ea90,_0x250828[_0x38c9ca(0x4e2)]);}else{let _0x5cb779=Buffer[_0x38c9ca(0x831)](_0x323314,_0x38c9ca(0x1e1));P[_0x38c9ca(0x2f7)](_0x36ea90,_0x5cb779);}return new Promise((_0x2df0e6,_0x1bab0c)=>{const _0x562387=_0x38c9ca;(0x0,Pe['exec'])(Ts[_0x562387(0x311)][_0x562387(0x875)]+'\x20-i\x20'+_0x36ea90+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x319f4+_0x562387(0x29a),_0x41ea6e=>{const _0x43799b=_0x562387;if(P[_0x43799b(0x5dd)](_0x36ea90),_0x41ea6e){this[_0x43799b(0x4e3)][_0x43799b(0x6f6)](this[_0x43799b(0x653)]+'\x20('+this[_0x43799b(0x47a)][_0x43799b(0x5a4)]+_0x43799b(0x299)),_0x1bab0c(_0x41ea6e);return;}this[_0x43799b(0x4e3)][_0x43799b(0x6f6)](this['instanceName']+'\x20('+this[_0x43799b(0x47a)]['wuid']+_0x43799b(0x636)),_0x2df0e6(L['default']['basename'](_0x319f4));});});}async[a0_0xf534fa(0x8da)](_0x4d03b4){const _0x5f3d46=a0_0xf534fa;let _0x202f55={},_0x3c0338='TEXT';if(_0x4d03b4[_0x5f3d46(0x8da)]?.[_0x5f3d46(0x2dd)]){_0x3c0338=_0x4d03b4['buttonMessage']['mediaMessage']?.[_0x5f3d46(0x280)][_0x5f3d46(0x329)]()??_0x5f3d46(0x2ac),_0x202f55['mediaKey']=_0x3c0338[_0x5f3d46(0x1cd)]()+_0x5f3d46(0x1d7);let _0x445ab4=await this[_0x5f3d46(0x5e9)](_0x4d03b4[_0x5f3d46(0x8da)][_0x5f3d46(0x2dd)]);_0x202f55[_0x5f3d46(0x6c6)]=_0x445ab4[_0x5f3d46(0x6c6)][_0x202f55[_0x5f3d46(0x231)]],_0x202f55['contentText']='*'+_0x4d03b4[_0x5f3d46(0x8da)][_0x5f3d46(0x355)]+'*\x0a\x0a'+_0x4d03b4[_0x5f3d46(0x8da)]['description'];}let _0x1e25df={'text':_0x4d03b4[_0x5f3d46(0x8da)]['buttons']['map'](_0x3db705=>_0x3db705[_0x5f3d46(0x36e)]),'ids':_0x4d03b4[_0x5f3d46(0x8da)][_0x5f3d46(0x8d5)][_0x5f3d46(0x445)](_0x59c23f=>_0x59c23f['buttonId'])};if(!(0x0,D[_0x5f3d46(0x657)])(_0x1e25df['text'])||!(0x0,D['arrayUnique'])(_0x1e25df[_0x5f3d46(0x87d)]))throw new m(_0x5f3d46(0x48c),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x5f3d46(0x681)](_0x4d03b4[_0x5f3d46(0x4d2)],{'buttonsMessage':{'text':_0x202f55?.[_0x5f3d46(0x231)]?void 0x0:_0x4d03b4[_0x5f3d46(0x8da)][_0x5f3d46(0x355)],'contentText':_0x202f55?.[_0x5f3d46(0x40b)]??_0x4d03b4[_0x5f3d46(0x8da)][_0x5f3d46(0x31b)],'footerText':_0x4d03b4[_0x5f3d46(0x8da)]?.[_0x5f3d46(0x2e0)],'buttons':_0x4d03b4[_0x5f3d46(0x8da)][_0x5f3d46(0x8d5)]['map'](_0x103935=>({'buttonText':{'displayText':_0x103935[_0x5f3d46(0x36e)]},'buttonId':_0x103935[_0x5f3d46(0x4e1)],'type':0x1})),'headerType':w[_0x5f3d46(0x7bb)][_0x5f3d46(0x1d7)][_0x5f3d46(0x5bd)][_0x5f3d46(0x4aa)][_0x3c0338],[_0x202f55?.[_0x5f3d46(0x231)]]:_0x202f55?.[_0x5f3d46(0x6c6)]}},_0x4d03b4?.[_0x5f3d46(0x508)]);}async[a0_0xf534fa(0x5c9)](_0x18850f){const _0x8507d3=a0_0xf534fa;return await this[_0x8507d3(0x681)](_0x18850f[_0x8507d3(0x4d2)],{'locationMessage':{'degreesLatitude':_0x18850f['locationMessage']['latitude'],'degreesLongitude':_0x18850f[_0x8507d3(0x5c9)]['longitude'],'name':_0x18850f[_0x8507d3(0x5c9)]?.[_0x8507d3(0x232)],'address':_0x18850f['locationMessage']?.[_0x8507d3(0x3c4)]}},_0x18850f?.[_0x8507d3(0x508)]);}async['contactMessage'](_0xaa342f){const _0x2aac39=a0_0xf534fa;let _0x53db37={},_0x5d6e95=async _0x15d9f9=>{const _0x1e4407=a0_0x1d3d;let _0x568eef='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x15d9f9['fullName']+_0x1e4407(0x389)+_0x15d9f9[_0x1e4407(0x6c4)]+'\x0a';_0x15d9f9[_0x1e4407(0x889)]&&(_0x568eef+=_0x1e4407(0x709)+_0x15d9f9[_0x1e4407(0x889)]+';\x0a'),_0x15d9f9['email']&&(_0x568eef+='EMAIL:'+_0x15d9f9[_0x1e4407(0x8ce)]+'\x0a'),_0x15d9f9[_0x1e4407(0x893)]&&(_0x568eef+='URL:'+_0x15d9f9[_0x1e4407(0x893)]+'\x0a');let _0x4dd745='',_0x5ea4c1=0x1;if(_0x15d9f9[_0x1e4407(0x7b6)]){let _0x178496=_0x15d9f9[_0x1e4407(0x7b6)]['split']('|');for(let _0x4e6d45 of _0x178496){let _0x5b0b22=await this[_0x1e4407(0x862)]({'numbers':[_0x4e6d45]}),_0x58cf35=(_0x5b0b22[_0x1e4407(0x847)]>0x0?_0x5b0b22[0x0]['jid']:this[_0x1e4407(0x39f)](_0x4e6d45))[_0x1e4407(0x60c)]('@s.whatsapp.net','');_0x4dd745+=_0x1e4407(0x1c5)+_0x5ea4c1+_0x1e4407(0x312)+_0x58cf35+':'+_0x4e6d45+_0x1e4407(0x432)+_0x5ea4c1+_0x1e4407(0x489),_0x5ea4c1++;}}return _0x568eef+=_0x4dd745+_0x1e4407(0x354),_0x568eef;};return _0xaa342f[_0x2aac39(0x5f2)][_0x2aac39(0x847)]===0x1?_0x53db37['contactMessage']={'displayName':_0xaa342f[_0x2aac39(0x5f2)][0x0][_0x2aac39(0x6c4)],'vcard':await _0x5d6e95(_0xaa342f[_0x2aac39(0x5f2)][0x0])}:_0x53db37[_0x2aac39(0x4c6)]={'displayName':_0xaa342f['contactMessage']['length']+_0x2aac39(0x892),'contacts':await Promise[_0x2aac39(0x423)](_0xaa342f[_0x2aac39(0x5f2)]['map'](async _0x354683=>({'displayName':_0x354683[_0x2aac39(0x6c4)],'vcard':await _0x5d6e95(_0x354683)})))},await this[_0x2aac39(0x681)](_0xaa342f['number'],{..._0x53db37},_0xaa342f?.[_0x2aac39(0x508)]);}async[a0_0xf534fa(0x40d)](_0x52862f){const _0x23bdeb=a0_0xf534fa;return await this[_0x23bdeb(0x681)](_0x52862f[_0x23bdeb(0x40d)][_0x23bdeb(0x693)][_0x23bdeb(0x281)],{'reactionMessage':{'key':_0x52862f[_0x23bdeb(0x40d)][_0x23bdeb(0x693)],'text':_0x52862f[_0x23bdeb(0x40d)][_0x23bdeb(0x56c)]}});}async[a0_0xf534fa(0x862)](_0x28d98a){const _0x443f00=a0_0xf534fa;let _0x3c048b=[];for await(let _0x30a03a of _0x28d98a[_0x443f00(0x430)]){let _0x13dc78=this['createJid'](_0x30a03a),_0x23d393=!0x1;try{if((0x0,w[_0x443f00(0x522)])(_0x13dc78)){let _0x316232=(await this[_0x443f00(0x7ea)][_0x443f00(0x803)][_0x443f00(0x3b6)]({'where':{'_id':_0x13dc78}},this[_0x443f00(0x47a)][_0x443f00(0x5a4)]))[_0x443f00(0x471)];_0x316232?(_0x23d393=!0x0,_0x3c048b[_0x443f00(0x1a2)](new ce(_0x316232['id'],_0x23d393,_0x316232?.[_0x443f00(0x1f5)]))):(_0x316232=await this['findGroup']({'groupJid':_0x13dc78},_0x443f00(0x3b1)),_0x3c048b[_0x443f00(0x1a2)](new ce(_0x316232['id'],!!_0x316232?.['id'],_0x316232?.[_0x443f00(0x1f5)])));}else{if(_0x13dc78['includes']('@broadcast'))_0x3c048b[_0x443f00(0x1a2)](new ce(_0x13dc78,!0x0));else{let _0x291e71=(await this['client'][_0x443f00(0x40f)](_0x13dc78))[0x0];_0x3c048b[_0x443f00(0x1a2)](new ce(_0x291e71[_0x443f00(0x47e)],_0x291e71[_0x443f00(0x2b6)]));}}}catch{(0x0,w['isJidGroup'])(_0x13dc78)||await this['deleteImportedChat'](_0x13dc78),_0x3c048b[_0x443f00(0x1a2)](new ce(_0x30a03a,!0x1));}}return _0x3c048b;}async[a0_0xf534fa(0x384)](_0x1fb743){const _0x4b4f0b=a0_0xf534fa;try{await this[_0x4b4f0b(0x7ea)][_0x4b4f0b(0x803)][_0x4b4f0b(0x3b6)]({'where':{'_id':_0x1fb743,'imported':!0x0}},this['instance'][_0x4b4f0b(0x5a4)])&&(await this[_0x4b4f0b(0x7ea)][_0x4b4f0b(0x803)]['deleteChat'](_0x1fb743,this[_0x4b4f0b(0x47a)][_0x4b4f0b(0x5a4)]),this[_0x4b4f0b(0x4e3)][_0x4b4f0b(0x8d8)](_0x4b4f0b(0x542)+_0x1fb743+_0x4b4f0b(0x4b7)));}catch(_0x4a9366){let _0x969589=_0x4b4f0b(0x347),_0x447f7f=_0x4a9366 instanceof Error?_0x4a9366[_0x4b4f0b(0x6c6)]:typeof _0x4a9366=='object'?JSON[_0x4b4f0b(0x6f0)](_0x4a9366):_0x4a9366,_0x578cb4=_0x969589+':\x20'+_0x447f7f;this[_0x4b4f0b(0x4e3)][_0x4b4f0b(0x1c2)](this[_0x4b4f0b(0x653)]+'\x20('+this['instance'][_0x4b4f0b(0x5a4)]+_0x4b4f0b(0x43f)+_0x578cb4);}}async[a0_0xf534fa(0x2a7)](_0x54c044){const _0x16b7af=a0_0xf534fa;try{let _0x5c128a=_0x54c044[_0x16b7af(0x413)][_0x16b7af(0x5d3)](_0x5f252a=>(0x0,w[_0x16b7af(0x522)])(_0x5f252a[_0x16b7af(0x281)])||(0x0,w[_0x16b7af(0x1a6)])(_0x5f252a[_0x16b7af(0x281)]))['map'](_0x7f5dc0=>({'remoteJid':_0x7f5dc0['remoteJid'],'fromMe':_0x7f5dc0[_0x16b7af(0x853)],'id':_0x7f5dc0['id']}));await this[_0x16b7af(0x73e)][_0x16b7af(0x413)](_0x5c128a);let _0x4d40de=_0x5c128a[_0x16b7af(0x445)](_0x3e2c50=>this[_0x16b7af(0x858)](_0x3e2c50,{'status':'READ','owner':this[_0x16b7af(0x47a)][_0x16b7af(0x5a4)]})),_0x29440f=_0x5c128a[_0x16b7af(0x445)](_0x591288=>this['repository']['chat'][_0x16b7af(0x21a)]({'where':{'_id':_0x591288['remoteJid']}},{'unreadcount':0x0},this[_0x16b7af(0x47a)]['wuid'])),[_0x2e7797,_0x1422b8]=await Promise[_0x16b7af(0x423)]([Promise[_0x16b7af(0x423)](_0x4d40de),Promise[_0x16b7af(0x423)](_0x29440f)]);return _0x1422b8[_0x16b7af(0x5d3)](_0x580f3c=>_0x580f3c!==null)[_0x16b7af(0x753)](_0x20a7b1=>{const _0x6293ea=_0x16b7af;U(this['instanceName'],_0x6293ea(0x8bc),{'chat':_0x20a7b1});}),{'message':_0x16b7af(0x896),'read':'success'};}catch(_0x32d4e5){let _0x356187=_0x16b7af(0x8ba),_0x3d663d=_0x32d4e5 instanceof Error?_0x32d4e5['message']:typeof _0x32d4e5=='object'?JSON[_0x16b7af(0x6f0)](_0x32d4e5):_0x32d4e5,_0x1bf476=_0x356187+':\x20'+_0x3d663d;throw this[_0x16b7af(0x4e3)][_0x16b7af(0x1c2)](this['instanceName']+'\x20('+this['instance'][_0x16b7af(0x5a4)]+_0x16b7af(0x43f)+_0x1bf476),new O(_0x1bf476);}}async[a0_0xf534fa(0x416)](_0x4553ab){const _0x2dafe9=a0_0xf534fa;let _0x5ef691={'where':{'key':{'remoteJid':_0x4553ab}},'limit':0x1},_0x547f5d=await this[_0x2dafe9(0x7ef)](_0x5ef691);return _0x547f5d||(this[_0x2dafe9(0x4e3)][_0x2dafe9(0x1c2)](_0x2dafe9(0x7d1)+_0x4553ab),null);}async[a0_0xf534fa(0x6ee)](_0x152ed1){const _0x1116f8=a0_0xf534fa;this[_0x1116f8(0x4e3)][_0x1116f8(0x6f6)](this['instanceName']+'\x20('+this[_0x1116f8(0x47a)][_0x1116f8(0x5a4)]+_0x1116f8(0x56a));try{let _0x145b4a=_0x152ed1[_0x1116f8(0x4d3)],_0x56a5c8=_0x152ed1[_0x1116f8(0x803)];if(!_0x145b4a&&_0x56a5c8?_0x145b4a=await this[_0x1116f8(0x416)](_0x56a5c8):(_0x145b4a=_0x152ed1['lastMessage'],_0x145b4a[_0x1116f8(0x27c)]=_0x145b4a?.[_0x1116f8(0x27c)]??Date[_0x1116f8(0x694)](),_0x56a5c8=_0x145b4a?.[_0x1116f8(0x693)]?.['remoteJid']),!_0x145b4a||Object[_0x1116f8(0x725)](_0x145b4a)[_0x1116f8(0x847)]===0x0)throw new F(_0x1116f8(0x409));this[_0x1116f8(0x4e3)][_0x1116f8(0x6f6)](this[_0x1116f8(0x653)]+'\x20('+this[_0x1116f8(0x47a)][_0x1116f8(0x5a4)]+_0x1116f8(0x745)+_0x56a5c8);try{await this[_0x1116f8(0x73e)][_0x1116f8(0x290)]({'archive':_0x152ed1['archive'],'lastMessages':[_0x145b4a]},this[_0x1116f8(0x39f)](_0x56a5c8));}catch(_0x3ea2d2){let _0x503fd3='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x56a5c8,_0xf92d97=_0x3ea2d2 instanceof Error?_0x3ea2d2[_0x1116f8(0x6c6)]:typeof _0x3ea2d2=='object'?JSON[_0x1116f8(0x6f0)](_0x3ea2d2):_0x3ea2d2,_0xa7f9b8=_0x503fd3+':\x20'+_0xf92d97;this[_0x1116f8(0x4e3)][_0x1116f8(0x1c2)](this[_0x1116f8(0x653)]+'\x20('+this[_0x1116f8(0x47a)][_0x1116f8(0x5a4)]+_0x1116f8(0x43f)+_0xa7f9b8);}this[_0x1116f8(0x4e3)][_0x1116f8(0x6f6)](this[_0x1116f8(0x653)]+'\x20('+this['instance'][_0x1116f8(0x5a4)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x56a5c8);let _0x2dac8f=await this[_0x1116f8(0x7ea)][_0x1116f8(0x803)][_0x1116f8(0x21a)]({'where':{'_id':_0x145b4a?.[_0x1116f8(0x693)]?.[_0x1116f8(0x281)]}},{'archived':_0x152ed1['archive']},this[_0x1116f8(0x47a)][_0x1116f8(0x5a4)]);return _0x2dac8f?(this['logger'][_0x1116f8(0x6f6)](this['instanceName']+'\x20('+this['instance'][_0x1116f8(0x5a4)]+_0x1116f8(0x5fd)+JSON['stringify'](_0x2dac8f)),U(this[_0x1116f8(0x653)],_0x1116f8(0x8bc),{'chat':_0x2dac8f})):this[_0x1116f8(0x4e3)][_0x1116f8(0x1c2)](this[_0x1116f8(0x653)]+'\x20('+this[_0x1116f8(0x47a)][_0x1116f8(0x5a4)]+'):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x56a5c8),{'chatId':_0x56a5c8,'archived':_0x152ed1[_0x1116f8(0x3d1)]};}catch(_0x2f7377){let _0xea0a37=_0x1116f8(0x813),_0x125a0c=_0x2f7377 instanceof Error?_0x2f7377['message']:typeof _0x2f7377=='object'?JSON[_0x1116f8(0x6f0)](_0x2f7377):_0x2f7377,_0x30a89b=_0xea0a37+':\x20'+_0x125a0c;throw this[_0x1116f8(0x4e3)][_0x1116f8(0x1c2)](this[_0x1116f8(0x653)]+'\x20('+this[_0x1116f8(0x47a)][_0x1116f8(0x5a4)]+_0x1116f8(0x43f)+_0x30a89b),new O(_0x30a89b);}}async['deleteChat'](_0x5c925b){const _0x46c3a9=a0_0xf534fa;this[_0x46c3a9(0x4e3)][_0x46c3a9(0x6f6)](this[_0x46c3a9(0x653)]+'\x20('+this[_0x46c3a9(0x47a)][_0x46c3a9(0x5a4)]+_0x46c3a9(0x7c5));try{let _0x1c61c1=await this[_0x46c3a9(0x416)](_0x5c925b);if(!_0x1c61c1||Object[_0x46c3a9(0x725)](_0x1c61c1)['length']===0x0)throw new F(_0x46c3a9(0x409));let _0x316cdf=_0x1c61c1[0x0];this[_0x46c3a9(0x4e3)][_0x46c3a9(0x6f6)](this[_0x46c3a9(0x653)]+'\x20('+this[_0x46c3a9(0x47a)]['wuid']+_0x46c3a9(0x294)+_0x5c925b);try{await this[_0x46c3a9(0x73e)][_0x46c3a9(0x290)]({'delete':!0x0,'lastMessages':[{'key':_0x316cdf[_0x46c3a9(0x693)],'messageTimestamp':_0x316cdf[_0x46c3a9(0x27c)]}]},this['createJid'](_0x5c925b));}catch(_0x32bf6a){this['logger'][_0x46c3a9(0x1c2)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x5c925b+':\x20'+_0x32bf6a[_0x46c3a9(0x7f7)]());}this[_0x46c3a9(0x4e3)][_0x46c3a9(0x6f6)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x46c3a9(0x649)+_0x5c925b);return;}catch(_0x40c039){throw this[_0x46c3a9(0x4e3)][_0x46c3a9(0x1c2)](this['instanceName']+'\x20('+this[_0x46c3a9(0x47a)][_0x46c3a9(0x5a4)]+'):Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x40c039['toString']()),new O({'archived':!0x1,'message':[_0x46c3a9(0x53f),_0x40c039[_0x46c3a9(0x7f7)]()]});}}async[a0_0xf534fa(0x724)](_0x37c673){const _0xf046b0=a0_0xf534fa;try{let _0x226ecc=await this[_0xf046b0(0x73e)]['sendMessage'](_0x37c673['remoteJid'],{'delete':_0x37c673});try{let _0x505fae=await this['updateMessage'](_0x37c673,{'status':_0xf046b0(0x35c),'owner':this[_0xf046b0(0x47a)][_0xf046b0(0x5a4)]});this[_0xf046b0(0x4e3)][_0xf046b0(0x6f6)](this['instanceName']+'\x20('+this[_0xf046b0(0x47a)][_0xf046b0(0x5a4)]+'):\x20updateResult:'+_0x505fae);}catch(_0x151659){this[_0xf046b0(0x4e3)][_0xf046b0(0x1c2)](_0xf046b0(0x711)+_0x151659);}return _0x226ecc;}catch(_0x26d75f){throw new O(_0xf046b0(0x808),_0x26d75f?.['toString']());}}async[a0_0xf534fa(0x502)](_0x329404){const _0x2d2b52=a0_0xf534fa;try{let _0x6f5d5=_0x329404?.['message']?_0x329404:await this[_0x2d2b52(0x8b2)](_0x329404[_0x2d2b52(0x693)],!0x0);for(let _0x2e4474 of Ca)_0x6f5d5[_0x2d2b52(0x6c6)][_0x2e4474]&&(_0x6f5d5[_0x2d2b52(0x6c6)]=_0x6f5d5['message'][_0x2e4474][_0x2d2b52(0x6c6)]);let _0x48d462,_0x1bbfe5;for(let _0x365540 of Ma)if(_0x48d462=_0x6f5d5[_0x2d2b52(0x6c6)][_0x365540],_0x48d462){_0x1bbfe5=_0x365540;break;}if(!_0x48d462)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x48d462[_0x2d2b52(0x231)]==_0x2d2b52(0x71e)&&(_0x6f5d5[_0x2d2b52(0x6c6)]=JSON[_0x2d2b52(0x845)](JSON['stringify'](_0x6f5d5[_0x2d2b52(0x6c6)])));let _0x280e09=await(0x0,w[_0x2d2b52(0x536)])({'key':_0x6f5d5?.[_0x2d2b52(0x693)],'message':_0x6f5d5?.['message']},'buffer',{},{'logger':(0x0,kt[_0x2d2b52(0x311)])({'level':_0x2d2b52(0x554)}),'reuploadRequest':this[_0x2d2b52(0x73e)]['updateMediaMessage']});if(!(_0x280e09 instanceof Buffer))throw new Error(_0x2d2b52(0x57a));let _0x164315=this[_0x2d2b52(0x7dd)][_0x2d2b52(0x71f)](_0x2d2b52(0x671)),_0xc1a7bd,_0xe30211;if(_0x48d462['fileName'])_0xc1a7bd=_0x48d462['fileName'];else{let _0x56a32f=_0x48d462[_0x2d2b52(0x288)]?.[_0x2d2b52(0x655)](/\/(\w+)/),_0x4a7b1f=_0x56a32f?_0x56a32f[0x1]:null;if(!_0x4a7b1f)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0xc1a7bd=(0x0,Y['v4'])()+'.'+_0x4a7b1f;}_0x1bbfe5==='audioMessage'?_0xe30211=_0x2d2b52(0x367)+await this[_0x2d2b52(0x6bf)](_0x280e09[_0x2d2b52(0x7f7)](_0x2d2b52(0x1e1))):(await this[_0x2d2b52(0x86a)](_0x280e09,_0xc1a7bd),_0xe30211=_0x2d2b52(0x367)+_0xc1a7bd);let _0x1670bc=this[_0x2d2b52(0x7dd)]['get']('SERVER')[_0x2d2b52(0x1ef)];if(!_0x1670bc){let _0x5858b1=this[_0x2d2b52(0x7dd)][_0x2d2b52(0x71f)](_0x2d2b52(0x2ae));_0x1670bc=_0x2d2b52(0x338)+(_0x5858b1&&_0x5858b1[_0x2d2b52(0x431)][_0x2d2b52(0x520)]('/')[0x4]);}_0xe30211=''+_0x1670bc+_0xe30211;let _0x41ee4f=0xc*0x3c*0x3c*0x3e8,_0x461433={'where':{'_id':_0x6f5d5[_0x2d2b52(0x693)]['id']}},_0x3b09b1={'message_normalized.fileUrl':_0xe30211,'message_normalized.expires_fileUrl':Date[_0x2d2b52(0x694)]()+_0x41ee4f};try{let _0x26d429=await this['repository'][_0x2d2b52(0x6c6)][_0x2d2b52(0x1bb)](_0x461433,_0x3b09b1,this[_0x2d2b52(0x47a)]['wuid']);_0x26d429&&U(this[_0x2d2b52(0x653)],_0x2d2b52(0x402),{'message':_0x26d429});}catch(_0x1eec04){let _0x36ff28=_0x2d2b52(0x6ac),_0x263f51=_0x1eec04 instanceof Error?_0x1eec04['message']:typeof _0x1eec04==_0x2d2b52(0x71e)?JSON[_0x2d2b52(0x6f0)](_0x1eec04):_0x1eec04,_0x5d6834=_0x36ff28+':\x20'+_0x263f51;this[_0x2d2b52(0x4e3)][_0x2d2b52(0x1c2)](this[_0x2d2b52(0x653)]+'\x20('+this[_0x2d2b52(0x47a)][_0x2d2b52(0x5a4)]+_0x2d2b52(0x43f)+_0x5d6834);}return{'mediaType':_0x1bbfe5,'fileName':_0x48d462[_0x2d2b52(0x6b9)],'caption':_0x48d462['caption'],'size':{'fileLength':_0x48d462['fileLength'],'height':_0x48d462[_0x2d2b52(0x50b)],'width':_0x48d462['width']},'mimetype':_0x48d462[_0x2d2b52(0x288)],'base64':_0x280e09[_0x2d2b52(0x7f7)]('base64'),'fileUrl':_0xe30211,'expires_fileUrl':Date[_0x2d2b52(0x694)]()+_0x41ee4f};}catch(_0x15f49c){let _0x210fdd=_0x2d2b52(0x684),_0x1969c5=_0x15f49c instanceof Error?_0x15f49c[_0x2d2b52(0x6c6)]:typeof _0x15f49c==_0x2d2b52(0x71e)?JSON['stringify'](_0x15f49c):_0x15f49c,_0x573a97=_0x210fdd+':\x20'+_0x1969c5;throw this['logger'][_0x2d2b52(0x1c2)](this['instanceName']+'\x20('+this[_0x2d2b52(0x47a)][_0x2d2b52(0x5a4)]+_0x2d2b52(0x43f)+_0x573a97),new m(_0x573a97);}}async['saveMediaToFile'](_0x30bc32,_0x428883){const _0x2a92f0=a0_0xf534fa;let _0x5d0dcf=L[_0x2a92f0(0x311)][_0x2a92f0(0x48a)](__dirname,_0x2a92f0(0x262));P['existsSync'](_0x5d0dcf)||P[_0x2a92f0(0x66f)](_0x5d0dcf,{'recursive':!0x0});let _0x2dc117=L['default'][_0x2a92f0(0x48a)](_0x5d0dcf,_0x428883);return new Promise((_0x3809ec,_0x3be154)=>{const _0x9dbde2=_0x2a92f0;P[_0x9dbde2(0x40e)](_0x2dc117,_0x30bc32,_0x5e7080=>{const _0x36572d=_0x9dbde2;_0x5e7080?(this[_0x36572d(0x4e3)][_0x36572d(0x1c2)](_0x36572d(0x79c)+(_0x5e7080 instanceof Error?_0x5e7080['message']:JSON[_0x36572d(0x6f0)](_0x5e7080,null,0x2))),_0x3be154(_0x5e7080)):(this[_0x36572d(0x4e3)][_0x36572d(0x2a2)]('File\x20written\x20to\x20path:\x20'+_0x2dc117),_0x3809ec(_0x2dc117));});});}async[a0_0xf534fa(0x716)](_0x522099){const _0x2c8728=a0_0xf534fa;return await this['repository'][_0x2c8728(0x366)][_0x2c8728(0x525)](_0x522099,this[_0x2c8728(0x47a)][_0x2c8728(0x5a4)]);}async[a0_0xf534fa(0x7e4)](){const _0x5b7890=a0_0xf534fa;return await this[_0x5b7890(0x7ea)][_0x5b7890(0x5c4)][_0x5b7890(0x525)]({'where':{}},this[_0x5b7890(0x47a)][_0x5b7890(0x5a4)]);}async['fetchMessages'](_0x230fae){const _0x94ab1c=a0_0xf534fa;return await this[_0x94ab1c(0x7ea)][_0x94ab1c(0x6c6)][_0x94ab1c(0x525)](_0x230fae,this['instance'][_0x94ab1c(0x5a4)]);}async['fetchChats'](){const _0x190101=a0_0xf534fa;return this[_0x190101(0x7ea)][_0x190101(0x803)][_0x190101(0x675)](this[_0x190101(0x47a)][_0x190101(0x5a4)]),this[_0x190101(0x7ea)][_0x190101(0x803)][_0x190101(0x797)](this[_0x190101(0x47a)][_0x190101(0x5a4)]),this[_0x190101(0x7ea)][_0x190101(0x803)][_0x190101(0x4a8)](this[_0x190101(0x47a)][_0x190101(0x5a4)]),this['repository'][_0x190101(0x803)][_0x190101(0x729)](this['instance'][_0x190101(0x5a4)]),await this[_0x190101(0x7ea)][_0x190101(0x803)][_0x190101(0x525)]({'where':{}},this['instance'][_0x190101(0x5a4)]);}async[a0_0xf534fa(0x1cc)](_0x3009cb){const _0x5c9cd8=a0_0xf534fa;try{if(!Array[_0x5c9cd8(0x6db)](_0x3009cb)||_0x3009cb[_0x5c9cd8(0x847)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0xf6d54c=[],_0x62d268=[];for(let _0x1fba72 of _0x3009cb){if(_0x1fba72[_0x5c9cd8(0x656)])_0x1fba72['_id']=this[_0x5c9cd8(0x39f)](_0x1fba72[_0x5c9cd8(0x656)]);else continue;await this[_0x5c9cd8(0x7ea)]['chat'][_0x5c9cd8(0x3b6)]({'where':{'_id':_0x1fba72['_id']}},this[_0x5c9cd8(0x47a)]['wuid'])?_0x62d268[_0x5c9cd8(0x1a2)]({'_id':_0x1fba72[_0x5c9cd8(0x656)],'leadInfo':_0x1fba72[_0x5c9cd8(0x270)],'owner':this[_0x5c9cd8(0x47a)][_0x5c9cd8(0x5a4)]}):_0xf6d54c[_0x5c9cd8(0x1a2)]({'_id':_0x1fba72[_0x5c9cd8(0x656)],'owner':this['instance'][_0x5c9cd8(0x5a4)],'leadInfo':_0x1fba72[_0x5c9cd8(0x270)],'imported':!0x0});}return _0x62d268['length']>0x0&&await this[_0x5c9cd8(0x7ea)][_0x5c9cd8(0x803)][_0x5c9cd8(0x647)](_0x62d268[_0x5c9cd8(0x445)](_0x344c00=>({'query':{'where':{'_id':_0x344c00[_0x5c9cd8(0x656)],'owner':this[_0x5c9cd8(0x47a)]['wuid']}},'update':_0x344c00}))),_0xf6d54c[_0x5c9cd8(0x847)]>0x0&&await this[_0x5c9cd8(0x7ea)][_0x5c9cd8(0x803)][_0x5c9cd8(0x535)](_0xf6d54c,this[_0x5c9cd8(0x47a)]['wuid']),{'updated':_0x62d268[_0x5c9cd8(0x847)],'inserted':_0xf6d54c[_0x5c9cd8(0x847)]};}catch(_0x39329f){let _0x10d2fa=_0x5c9cd8(0x3e4),_0x48135a=_0x39329f instanceof Error?_0x39329f[_0x5c9cd8(0x6c6)]:typeof _0x39329f==_0x5c9cd8(0x71e)?JSON[_0x5c9cd8(0x6f0)](_0x39329f):_0x39329f,_0x13b887=_0x10d2fa+':\x20'+_0x48135a;throw this[_0x5c9cd8(0x4e3)][_0x5c9cd8(0x1c2)](this[_0x5c9cd8(0x653)]+'\x20('+this[_0x5c9cd8(0x47a)]['wuid']+_0x5c9cd8(0x43f)+_0x13b887),new m(_0x13b887);}}async[a0_0xf534fa(0x7c7)](_0x49b04c){const _0x535d44=a0_0xf534fa;try{if(!Array['isArray'](_0x49b04c)||_0x49b04c[_0x535d44(0x847)]===0x0)throw new Error(_0x535d44(0x702));let _0xe43012=0x64,_0x5d9d79=0x0;for(let _0x1db3ba=0x0;_0x1db3ba<_0x49b04c[_0x535d44(0x847)];_0x1db3ba+=_0xe43012){let _0x487a88=_0x49b04c[_0x535d44(0x2f2)](_0x1db3ba,_0x1db3ba+_0xe43012),{updated:_0x4917cd}=await this['importChatsBatch'](_0x487a88);_0x5d9d79+=_0x4917cd;}return{'updated':_0x5d9d79};}catch(_0x1e2afa){let _0x47cc30='Erro\x20ao\x20importar\x20chats',_0x18816a=_0x1e2afa instanceof Error?_0x1e2afa[_0x535d44(0x6c6)]:typeof _0x1e2afa==_0x535d44(0x71e)?JSON[_0x535d44(0x6f0)](_0x1e2afa):_0x1e2afa,_0x5b0106=_0x47cc30+':\x20'+_0x18816a;throw this[_0x535d44(0x4e3)][_0x535d44(0x1c2)](this['instanceName']+'\x20('+this[_0x535d44(0x47a)][_0x535d44(0x5a4)]+_0x535d44(0x43f)+_0x5b0106),new m(_0x5b0106);}}async[a0_0xf534fa(0x74a)](_0x474c1a){const _0x5b3d46=a0_0xf534fa;try{let _0x3c4aca=await this[_0x5b3d46(0x7ea)][_0x5b3d46(0x5c4)]['find']({'where':{}},this[_0x5b3d46(0x47a)]['wuid']),_0x5572d4=new Set(_0x3c4aca[_0x5b3d46(0x445)](_0x4bd6dd=>_0x4bd6dd[_0x5b3d46(0x656)])),_0xa70209=[],_0x11d5eb=[];for(let _0x255d92 of _0x474c1a){if(!_0x255d92[_0x5b3d46(0x656)])continue;_0x255d92[_0x5b3d46(0x656)]=this[_0x5b3d46(0x39f)](_0x255d92[_0x5b3d46(0x656)]);let _0x1dbe2b=await this['repository'][_0x5b3d46(0x803)][_0x5b3d46(0x3b6)]({'where':{'_id':_0x255d92[_0x5b3d46(0x656)]}},this['instance'][_0x5b3d46(0x5a4)]),_0x31c0d1={};if(Object['entries'](_0x255d92[_0x5b3d46(0x270)])['forEach'](([_0x271561,_0x61c72b])=>{const _0x3616f8=_0x5b3d46;_0x31c0d1[_0x3616f8(0x57e)+_0x271561]=_0x61c72b;}),_0x1dbe2b&&!_0x1dbe2b[_0x5b3d46(0x2dc)]){let _0x2464bd=(_0x255d92[_0x5b3d46(0x270)][_0x5b3d46(0x69c)]||[])['filter'](_0x3f8bfc=>_0x5572d4[_0x5b3d46(0x8a7)](_0x3f8bfc)),_0x5343ad=new Set(_0x1dbe2b[_0x5b3d46(0x270)]['etiquetas']||[]),_0x4008ce=_0x2464bd[_0x5b3d46(0x5d3)](_0x3b7452=>!_0x5343ad['has'](_0x3b7452)),_0x44c48f=[..._0x5343ad][_0x5b3d46(0x5d3)](_0x4c984a=>!_0x2464bd['includes'](_0x4c984a));_0x11d5eb[_0x5b3d46(0x1a2)](..._0x4008ce[_0x5b3d46(0x445)](_0x22b645=>this[_0x5b3d46(0x2d7)](_0x22b645,_0x255d92[_0x5b3d46(0x656)]))),_0x11d5eb[_0x5b3d46(0x1a2)](..._0x44c48f['map'](_0x265cbe=>this[_0x5b3d46(0x834)](_0x265cbe,_0x255d92['_id']))),_0x255d92[_0x5b3d46(0x270)][_0x5b3d46(0x69c)]=_0x2464bd,_0xa70209[_0x5b3d46(0x1a2)]({'query':{'where':{'_id':_0x255d92[_0x5b3d46(0x656)],'owner':this[_0x5b3d46(0x47a)][_0x5b3d46(0x5a4)]}},'update':_0x31c0d1});}else _0x31c0d1[_0x5b3d46(0x2dc)]=!0x0,_0xa70209[_0x5b3d46(0x1a2)]({'query':{'where':{'_id':_0x255d92[_0x5b3d46(0x656)],'owner':this[_0x5b3d46(0x47a)][_0x5b3d46(0x5a4)]}},'update':_0x31c0d1});}let _0x23274b=await this[_0x5b3d46(0x7ea)][_0x5b3d46(0x803)][_0x5b3d46(0x647)](_0xa70209);return await Promise[_0x5b3d46(0x423)](_0x11d5eb),{'updated':_0x23274b};}catch(_0x2b25d6){let _0x33f704=_0x5b3d46(0x3e4),_0x25181a=_0x2b25d6 instanceof Error?_0x2b25d6[_0x5b3d46(0x6c6)]:typeof _0x2b25d6==_0x5b3d46(0x71e)?JSON[_0x5b3d46(0x6f0)](_0x2b25d6):_0x2b25d6,_0x6444d1=_0x33f704+':\x20'+_0x25181a;throw this[_0x5b3d46(0x4e3)][_0x5b3d46(0x1c2)](this[_0x5b3d46(0x653)]+'\x20('+this[_0x5b3d46(0x47a)][_0x5b3d46(0x5a4)]+_0x5b3d46(0x43f)+_0x6444d1),new m(_0x6444d1);}}async[a0_0xf534fa(0x835)](){const _0x3d4a59=a0_0xf534fa;return await this[_0x3d4a59(0x73e)][_0x3d4a59(0x835)]();}async[a0_0xf534fa(0x594)](_0x1415b5){const _0x567f33=a0_0xf534fa;try{return await this[_0x567f33(0x73e)]['updateReadReceiptsPrivacy'](_0x1415b5[_0x567f33(0x4cf)][_0x567f33(0x46f)]),await this[_0x567f33(0x73e)][_0x567f33(0x2f4)](_0x1415b5[_0x567f33(0x4cf)][_0x567f33(0x890)]),await this['client']['updateStatusPrivacy'](_0x1415b5['privacySettings'][_0x567f33(0x2d2)]),await this[_0x567f33(0x73e)][_0x567f33(0x480)](_0x1415b5[_0x567f33(0x4cf)][_0x567f33(0x4f7)]),await this[_0x567f33(0x73e)][_0x567f33(0x576)](_0x1415b5[_0x567f33(0x4cf)][_0x567f33(0x1e0)]),await this[_0x567f33(0x73e)][_0x567f33(0x66d)](_0x1415b5[_0x567f33(0x4cf)]['groupadd']),this[_0x567f33(0x73e)]?.['ws']?.[_0x567f33(0x75e)](),{'update':_0x567f33(0x539),'data':{'readreceipts':_0x1415b5[_0x567f33(0x4cf)][_0x567f33(0x46f)],'profile':_0x1415b5[_0x567f33(0x4cf)][_0x567f33(0x890)],'status':_0x1415b5[_0x567f33(0x4cf)]['status'],'online':_0x1415b5['privacySettings'][_0x567f33(0x4f7)],'last':_0x1415b5['privacySettings'][_0x567f33(0x1e0)],'groupadd':_0x1415b5['privacySettings'][_0x567f33(0x3cd)]}};}catch(_0x3c48dc){let _0x6398ec='Erro\x20ao\x20alterar\x20privacidade',_0x1a0717=_0x3c48dc instanceof Error?_0x3c48dc[_0x567f33(0x6c6)]:typeof _0x3c48dc==_0x567f33(0x71e)?JSON[_0x567f33(0x6f0)](_0x3c48dc):_0x3c48dc,_0x47e499=_0x6398ec+':\x20'+_0x1a0717;throw this[_0x567f33(0x4e3)][_0x567f33(0x1c2)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x567f33(0x43f)+_0x47e499),new m(_0x47e499);}}async['fetchProfile'](_0x3cbbb3){const _0x45f1b8=a0_0xf534fa;let _0x48d7e0=(_0x3cbbb3?this[_0x45f1b8(0x39f)](_0x3cbbb3):this[_0x45f1b8(0x73e)]?.[_0x45f1b8(0x546)]?.['id'])[_0x45f1b8(0x60c)](/:\d{1,2}@/g,'@');this['logger'][_0x45f1b8(0x6f6)](this[_0x45f1b8(0x653)]+'\x20('+this[_0x45f1b8(0x47a)][_0x45f1b8(0x5a4)]+_0x45f1b8(0x5e6)+_0x48d7e0);let _0x404167=await this[_0x45f1b8(0x7ea)][_0x45f1b8(0x366)]['findOne']({'where':{'_id':_0x48d7e0}},this[_0x45f1b8(0x47a)][_0x45f1b8(0x5a4)]),_0x9f9773=_0x404167?_0x404167[_0x45f1b8(0x6a6)]:null;try{let _0x423514=(await this[_0x45f1b8(0x862)]({'numbers':[_0x48d7e0]}))?.['shift'](),_0x60a29e=(await this['findAndUpdateCacheContact'](_0x48d7e0,null,!0x1))[_0x45f1b8(0x352)][_0x45f1b8(0x45f)],_0x387fbf=await this[_0x45f1b8(0x55b)](_0x423514?.[_0x45f1b8(0x47e)]),_0x46a6ba=await this['fetchBusinessProfile'](_0x423514?.[_0x45f1b8(0x47e)]),_0x1c7c7b=(await this[_0x45f1b8(0x885)](_0x48d7e0,null,!0x1))[_0x45f1b8(0x352)][_0x45f1b8(0x232)],_0x4d8ce0=await this[_0x45f1b8(0x7ea)]['chat']['findOne']({'where':{'_id':_0x48d7e0}},this['instance'][_0x45f1b8(0x5a4)]),_0x3c781d={'imagechat':_0x60a29e,'contactname':_0x9f9773||null,'pushName':_0x1c7c7b,'status':_0x387fbf?.['status'],'isBusiness':_0x46a6ba['isBusiness'],'email':_0x46a6ba?.[_0x45f1b8(0x8ce)],'description':_0x46a6ba?.['description'],'website':_0x46a6ba?.[_0x45f1b8(0x83f)]?.['shift'](),'lastcache':Date[_0x45f1b8(0x694)](),'imported':!_0x4d8ce0},_0x50fa36=await this[_0x45f1b8(0x7ea)][_0x45f1b8(0x803)][_0x45f1b8(0x21a)]({'where':{'_id':_0x48d7e0}},_0x3c781d,this[_0x45f1b8(0x47a)][_0x45f1b8(0x5a4)]),_0x105542={'owner':this['instance'][_0x45f1b8(0x5a4)],'_id':_0x48d7e0,'profilePictureUrl':_0x60a29e,'status':_0x387fbf?.[_0x45f1b8(0x2d2)]};return this[_0x45f1b8(0x7ea)]['contact'][_0x45f1b8(0x1bb)]([_0x105542],this['instance'][_0x45f1b8(0x5a4)]),_0x50fa36&&U(this['instanceName'],_0x45f1b8(0x8bc),{'chat':_0x50fa36}),{'wuid':_0x423514?.['jid']||_0x48d7e0,'name':_0x423514?.[_0x45f1b8(0x232)],'pushName':_0x1c7c7b,'numberExists':_0x423514?.[_0x45f1b8(0x2b6)],'picture':_0x60a29e,'status':_0x387fbf?.['status'],'isBusiness':_0x46a6ba[_0x45f1b8(0x483)],'email':_0x46a6ba?.[_0x45f1b8(0x8ce)],'description':_0x46a6ba?.['description'],'website':_0x46a6ba?.['website']?.[_0x45f1b8(0x6b0)]()};}catch(_0x3af7eb){return this[_0x45f1b8(0x4e3)]['error'](_0x45f1b8(0x504)+(_0x3af7eb instanceof Error?_0x3af7eb['message']:JSON['stringify'](_0x3af7eb,null,0x2))),{};}}async[a0_0xf534fa(0x2e2)](_0x4c0296){const _0x571644=a0_0xf534fa;this['logger'][_0x571644(0x6f6)](this[_0x571644(0x653)]+'\x20('+this[_0x571644(0x47a)]['wuid']+'):Fetching\x20business\x20profile');try{let _0x967dca=_0x4c0296?this[_0x571644(0x39f)](_0x4c0296):this[_0x571644(0x47a)][_0x571644(0x5a4)],_0xa6fabf=await this['client'][_0x571644(0x89c)](_0x967dca);return this['logger'][_0x571644(0x6f6)](this[_0x571644(0x653)]+'\x20('+this[_0x571644(0x47a)][_0x571644(0x5a4)]+_0x571644(0x7bf)),_0xa6fabf?(this['logger'][_0x571644(0x6f6)](this[_0x571644(0x653)]+'\x20('+this[_0x571644(0x47a)][_0x571644(0x5a4)]+'):Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0xa6fabf}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x571644(0x862)]({'numbers':[_0x967dca]}))?.['shift']()};}catch(_0x3c3d7d){let _0x9e7822=_0x571644(0x461),_0x5483a6=_0x3c3d7d instanceof Error?_0x3c3d7d['message']:typeof _0x3c3d7d==_0x571644(0x71e)?JSON[_0x571644(0x6f0)](_0x3c3d7d):_0x3c3d7d,_0x351e96=_0x9e7822+':\x20'+_0x5483a6;throw this[_0x571644(0x4e3)][_0x571644(0x1c2)](this[_0x571644(0x653)]+'\x20('+this[_0x571644(0x47a)][_0x571644(0x5a4)]+_0x571644(0x43f)+_0x351e96),new O(_0x351e96);}}async[a0_0xf534fa(0x55b)](_0x57d1cb){const _0x2a665f=a0_0xf534fa;let _0x19e2ef=this['createJid'](_0x57d1cb);try{return{'wuid':_0x19e2ef,'status':(await this[_0x2a665f(0x73e)][_0x2a665f(0x86c)](_0x19e2ef))[0x0]?.[_0x2a665f(0x2d2)]};}catch{return{'wuid':_0x19e2ef,'status':null};}}async['updateProfileName'](_0x2419f8){const _0x42ca61=a0_0xf534fa;try{return await this[_0x42ca61(0x73e)][_0x42ca61(0x7ff)](_0x2419f8),{'update':_0x42ca61(0x539)};}catch(_0x369fcc){let _0x3986bc=_0x42ca61(0x727),_0x5e3889=_0x369fcc instanceof Error?_0x369fcc[_0x42ca61(0x6c6)]:typeof _0x369fcc==_0x42ca61(0x71e)?JSON['stringify'](_0x369fcc):_0x369fcc,_0x504146=_0x3986bc+':\x20'+_0x5e3889;throw this[_0x42ca61(0x4e3)][_0x42ca61(0x1c2)](this[_0x42ca61(0x653)]+'\x20('+this['instance'][_0x42ca61(0x5a4)]+_0x42ca61(0x43f)+_0x504146),new O(_0x504146);}}async[a0_0xf534fa(0x5e0)](_0x138519){const _0x2d6334=a0_0xf534fa;try{return await this[_0x2d6334(0x73e)]['updateProfileStatus'](_0x138519),{'update':_0x2d6334(0x539)};}catch(_0x5ad4be){let _0x222f46='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0x59bc30=_0x5ad4be instanceof Error?_0x5ad4be[_0x2d6334(0x6c6)]:typeof _0x5ad4be==_0x2d6334(0x71e)?JSON[_0x2d6334(0x6f0)](_0x5ad4be):_0x5ad4be,_0x1f8db1=_0x222f46+':\x20'+_0x59bc30;throw this[_0x2d6334(0x4e3)][_0x2d6334(0x1c2)](this[_0x2d6334(0x653)]+'\x20('+this[_0x2d6334(0x47a)][_0x2d6334(0x5a4)]+'):\x20'+_0x1f8db1),new O(_0x1f8db1);}}async[a0_0xf534fa(0x393)](_0x41fb0f){const _0x50fba8=a0_0xf534fa;try{let _0x535bbf;if((0x0,D[_0x50fba8(0x73f)])(_0x41fb0f)){let _0x54c023=new Date()[_0x50fba8(0x476)](),_0x1a339d=_0x41fb0f+'?timestamp='+_0x54c023;_0x535bbf=(await Q[_0x50fba8(0x311)][_0x50fba8(0x71f)](_0x1a339d,{'responseType':_0x50fba8(0x715)}))[_0x50fba8(0x4e2)];}else{if((0x0,D[_0x50fba8(0x6da)])(_0x41fb0f))_0x535bbf=Buffer[_0x50fba8(0x831)](_0x41fb0f,_0x50fba8(0x1e1));else throw new m(_0x50fba8(0x85c));}return await this['client']['updateProfilePicture'](this[_0x50fba8(0x47a)][_0x50fba8(0x5a4)],_0x535bbf),{'update':_0x50fba8(0x539)};}catch(_0x1267c8){let _0x20facf=_0x50fba8(0x38c),_0x46f562=_0x1267c8 instanceof Error?_0x1267c8[_0x50fba8(0x6c6)]:typeof _0x1267c8==_0x50fba8(0x71e)?JSON[_0x50fba8(0x6f0)](_0x1267c8):_0x1267c8,_0x26df78=_0x20facf+':\x20'+_0x46f562;throw this['logger'][_0x50fba8(0x1c2)](this['instanceName']+'\x20('+this['instance'][_0x50fba8(0x5a4)]+_0x50fba8(0x43f)+_0x26df78),new O(_0x26df78);}}async['removeProfilePicture'](){const _0x862d30=a0_0xf534fa;try{return await this[_0x862d30(0x73e)][_0x862d30(0x6e3)](this[_0x862d30(0x47a)]['wuid']),{'update':_0x862d30(0x539)};}catch(_0x599a9e){let _0x4b5211=_0x862d30(0x4a3),_0x24f1ca=_0x599a9e instanceof Error?_0x599a9e['message']:typeof _0x599a9e=='object'?JSON[_0x862d30(0x6f0)](_0x599a9e):_0x599a9e,_0x30b2dd=_0x4b5211+':\x20'+_0x24f1ca;throw this[_0x862d30(0x4e3)][_0x862d30(0x1c2)](this[_0x862d30(0x653)]+'\x20('+this[_0x862d30(0x47a)]['wuid']+_0x862d30(0x43f)+_0x30b2dd),new O(_0x30b2dd);}}async[a0_0xf534fa(0x640)](_0x291b9c){const _0x129c71=a0_0xf534fa;try{let _0xa20d2a=(await this[_0x129c71(0x862)]({'numbers':_0x291b9c['participants']}))[_0x129c71(0x5d3)](_0xd49f6a=>_0xd49f6a[_0x129c71(0x2b6)])[_0x129c71(0x445)](_0xf86f7=>_0xf86f7[_0x129c71(0x47e)]),{id:_0x44b621}=await this[_0x129c71(0x73e)]['groupCreate'](_0x291b9c[_0x129c71(0x1f5)],_0xa20d2a);_0x291b9c?.[_0x129c71(0x31b)]&&await this[_0x129c71(0x73e)][_0x129c71(0x317)](_0x44b621,_0x291b9c[_0x129c71(0x31b)]);let _0x2a9c8a=await this['client']['groupMetadata'](_0x44b621);return _0x2a9c8a[_0x129c71(0x6c0)]=[],{'metadata':_0x2a9c8a};}catch(_0x3fa375){let _0x33532b='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x403f08=_0x3fa375 instanceof Error?_0x3fa375[_0x129c71(0x6c6)]:typeof _0x3fa375==_0x129c71(0x71e)?JSON[_0x129c71(0x6f0)](_0x3fa375):_0x3fa375,_0x193f26=_0x33532b+':\x20'+_0x403f08;throw this[_0x129c71(0x4e3)][_0x129c71(0x1c2)](this[_0x129c71(0x653)]+'\x20('+this[_0x129c71(0x47a)][_0x129c71(0x5a4)]+_0x129c71(0x43f)+_0x193f26),new O(_0x193f26);}}async[a0_0xf534fa(0x271)](_0x3026f7){const _0x47de14=a0_0xf534fa;try{if(_0x3026f7[_0x47de14(0x88a)]===!0x0&&await this[_0x47de14(0x73e)][_0x47de14(0x8de)](_0x3026f7[_0x47de14(0x363)],_0x47de14(0x57c)),_0x3026f7[_0x47de14(0x88a)]===!0x1&&await this[_0x47de14(0x73e)][_0x47de14(0x8de)](_0x3026f7[_0x47de14(0x363)],_0x47de14(0x56d)),_0x3026f7[_0x47de14(0x679)]===!0x0&&await this[_0x47de14(0x73e)][_0x47de14(0x8de)](_0x3026f7[_0x47de14(0x363)],_0x47de14(0x830)),_0x3026f7['announce']===!0x1&&await this['client'][_0x47de14(0x8de)](_0x3026f7[_0x47de14(0x363)],_0x47de14(0x460)),_0x3026f7[_0x47de14(0x447)]===!0x0&&await this['client'][_0x47de14(0x2f9)](_0x3026f7[_0x47de14(0x363)],_0x47de14(0x78e)),_0x3026f7[_0x47de14(0x447)]===!0x1&&await this[_0x47de14(0x73e)][_0x47de14(0x2f9)](_0x3026f7[_0x47de14(0x363)],'admin_add'),_0x3026f7[_0x47de14(0x5a3)]===!0x0&&await this[_0x47de14(0x73e)][_0x47de14(0x1b0)](_0x3026f7[_0x47de14(0x363)],'on'),_0x3026f7[_0x47de14(0x5a3)]===!0x1&&await this[_0x47de14(0x73e)]['groupJoinApprovalMode'](_0x3026f7[_0x47de14(0x363)],'off'),typeof _0x3026f7['expiration']<'u'&&_0x3026f7[_0x47de14(0x28c)]!==null&&await this[_0x47de14(0x73e)][_0x47de14(0x316)](_0x3026f7[_0x47de14(0x363)],_0x3026f7['expiration']),_0x3026f7[_0x47de14(0x232)]&&await this['client'][_0x47de14(0x7df)](_0x3026f7[_0x47de14(0x363)],_0x3026f7[_0x47de14(0x232)]),_0x3026f7['description']&&await this[_0x47de14(0x73e)][_0x47de14(0x317)](_0x3026f7[_0x47de14(0x363)],_0x3026f7[_0x47de14(0x31b)]),_0x3026f7[_0x47de14(0x35b)]){let _0x28e62a;if((0x0,D[_0x47de14(0x73f)])(_0x3026f7[_0x47de14(0x35b)])){let _0x753464=new Date()[_0x47de14(0x476)](),_0x589aff=_0x3026f7[_0x47de14(0x35b)]+_0x47de14(0x8a5)+_0x753464;_0x28e62a=(await Q[_0x47de14(0x311)][_0x47de14(0x71f)](_0x589aff,{'responseType':_0x47de14(0x715)}))[_0x47de14(0x4e2)];}else{if((0x0,D[_0x47de14(0x6da)])(_0x3026f7[_0x47de14(0x35b)]))_0x28e62a=Buffer[_0x47de14(0x831)](_0x3026f7[_0x47de14(0x35b)],'base64');else throw new m(_0x47de14(0x85c));}await this['client'][_0x47de14(0x393)](_0x3026f7[_0x47de14(0x363)],_0x28e62a);}return await this['findGroup']({'groupJid':_0x3026f7['groupJid']});}catch(_0x406b46){let _0x497a88=_0x47de14(0x264),_0xc89716=_0x406b46 instanceof Error?_0x406b46[_0x47de14(0x6c6)]:typeof _0x406b46==_0x47de14(0x71e)?JSON['stringify'](_0x406b46):_0x406b46,_0x5390b8=_0x497a88+':\x20'+_0xc89716;throw this[_0x47de14(0x4e3)][_0x47de14(0x1c2)](this[_0x47de14(0x653)]+'\x20('+this[_0x47de14(0x47a)][_0x47de14(0x5a4)]+'):\x20'+_0x5390b8),new O(_0x5390b8);}}async[a0_0xf534fa(0x34f)](_0x339b43){const _0x555a99=a0_0xf534fa;try{if(_0x339b43[_0x555a99(0x2de)]===_0x555a99(0x7d4)||_0x339b43[_0x555a99(0x2de)]==='reject'){let _0x5836b5=_0x339b43[_0x555a99(0x6a0)]['map'](_0x51a121=>this['createJid'](_0x51a121));await this[_0x555a99(0x73e)][_0x555a99(0x481)](_0x339b43[_0x555a99(0x363)],_0x5836b5,_0x339b43['action']);}else{if(_0x339b43[_0x555a99(0x2de)]==='add'){let _0x3d4a6b=(await this['whatsappNumber']({'numbers':_0x339b43[_0x555a99(0x6a0)]}))[_0x555a99(0x5d3)](_0x32ed2f=>_0x32ed2f[_0x555a99(0x2b6)])[_0x555a99(0x445)](_0x190e45=>this[_0x555a99(0x39f)](_0x190e45[_0x555a99(0x47e)]));if(_0x3d4a6b[_0x555a99(0x847)]===0x0)throw new m(_0x555a99(0x3ba));await this[_0x555a99(0x73e)][_0x555a99(0x62f)](_0x339b43[_0x555a99(0x363)],_0x3d4a6b,'add');}else{let _0x579da1=_0x339b43[_0x555a99(0x6a0)][_0x555a99(0x445)](_0x24f6c7=>this[_0x555a99(0x39f)](_0x24f6c7));await this[_0x555a99(0x73e)][_0x555a99(0x62f)](_0x339b43[_0x555a99(0x363)],_0x579da1,_0x339b43[_0x555a99(0x2de)]);}}return await this[_0x555a99(0x38b)]({'groupJid':_0x339b43[_0x555a99(0x363)]});}catch(_0x18f916){let _0x5ca78a=_0x555a99(0x888),_0x160810=_0x18f916 instanceof Error?_0x18f916[_0x555a99(0x6c6)]:typeof _0x18f916==_0x555a99(0x71e)?JSON[_0x555a99(0x6f0)](_0x18f916):_0x18f916,_0x34ed82=_0x5ca78a+':\x20'+_0x160810;throw this[_0x555a99(0x4e3)][_0x555a99(0x1c2)](this[_0x555a99(0x653)]+'\x20('+this[_0x555a99(0x47a)]['wuid']+_0x555a99(0x43f)+_0x34ed82),new m(_0x34ed82);}}async[a0_0xf534fa(0x374)](_0x22d11e){const _0x20c7d6=a0_0xf534fa;try{return await this[_0x20c7d6(0x73e)][_0x20c7d6(0x374)](_0x22d11e[_0x20c7d6(0x560)]);}catch(_0x3c0ed3){let _0x82459d=_0x20c7d6(0x357),_0x4993ee=_0x3c0ed3 instanceof Error?_0x3c0ed3['message']:typeof _0x3c0ed3==_0x20c7d6(0x71e)?JSON['stringify'](_0x3c0ed3):_0x3c0ed3,_0x44fad9=_0x82459d+':\x20'+_0x4993ee;throw this['logger'][_0x20c7d6(0x1c2)](this[_0x20c7d6(0x653)]+'\x20('+this[_0x20c7d6(0x47a)][_0x20c7d6(0x5a4)]+_0x20c7d6(0x43f)+_0x44fad9),new m(_0x44fad9);}}async[a0_0xf534fa(0x38b)](_0x2d653e,_0x51e84c=a0_0xf534fa(0x793)){const _0x33ddce=a0_0xf534fa;try{let _0x64ecfb=await this['repository'][_0x33ddce(0x803)]['findOne']({'where':{'_id':_0x2d653e[_0x33ddce(0x363)]}},this[_0x33ddce(0x47a)][_0x33ddce(0x5a4)]),_0x45caf8=_0x64ecfb?_0x64ecfb[_0x33ddce(0x471)]:null,_0x8e89d1=0x18*0x3c*0x3c*0x3e8;if(!_0x45caf8||_0x45caf8['lastUpdate']&&Date['now']()-_0x45caf8[_0x33ddce(0x523)]>_0x8e89d1){let _0x3739bd=await this[_0x33ddce(0x73e)][_0x33ddce(0x772)](_0x2d653e[_0x33ddce(0x363)]);if(_0x3739bd[_0x33ddce(0x238)]=_0x3739bd?.[_0x33ddce(0x238)]&&_0x3739bd[_0x33ddce(0x238)]['toString']()[_0x33ddce(0x847)]<0xd?_0x3739bd?.['subjectTime']*0x3e8:_0x3739bd?.[_0x33ddce(0x238)]||null,_0x3739bd[_0x33ddce(0x732)]=_0x3739bd?.['creation']&&_0x3739bd[_0x33ddce(0x732)][_0x33ddce(0x7f7)]()[_0x33ddce(0x847)]<0xd?_0x3739bd?.[_0x33ddce(0x732)]*0x3e8:_0x3739bd?.[_0x33ddce(0x732)]||null,_0x45caf8={..._0x3739bd,'lastUpdate':Date['now']()},!_0x3739bd)return;}let _0x11d9fa=_0x45caf8[_0x33ddce(0x6a0)]['some'](_0x384cd7=>_0x384cd7['id']===this[_0x33ddce(0x47a)]['wuid']+_0x33ddce(0x746)&&_0x384cd7[_0x33ddce(0x387)]!=null);!_0x45caf8['inviteCode']&&_0x11d9fa&&(_0x45caf8[_0x33ddce(0x560)]=(await this[_0x33ddce(0x560)](_0x2d653e,!0x1))[_0x33ddce(0x30d)]);let _0xe18d0a=(!_0x45caf8['announce']||_0x11d9fa)&&(!_0x45caf8[_0x33ddce(0x529)]||_0x45caf8['isCommunity']&&_0x45caf8[_0x33ddce(0x5ac)]&&_0x11d9fa);_0x45caf8[_0x33ddce(0x210)]=_0x11d9fa,_0x45caf8['canSendMessage']=_0xe18d0a;let _0x352f0c=[];if(_0x11d9fa&&_0x45caf8[_0x33ddce(0x5a3)])try{_0x352f0c=await this['client'][_0x33ddce(0x2bc)](_0x2d653e[_0x33ddce(0x363)]),_0x45caf8[_0x33ddce(0x470)]=Date[_0x33ddce(0x694)]();}catch(_0x23578a){this['logger'][_0x33ddce(0x6f6)](this[_0x33ddce(0x653)]+'\x20('+this['instance']['wuid']+_0x33ddce(0x3fd)+_0x2d653e[_0x33ddce(0x363)]+':\x20'+(_0x23578a instanceof Error?_0x23578a['message']:JSON[_0x33ddce(0x6f0)](_0x23578a,null,0x2)));}try{_0x45caf8[_0x33ddce(0x35b)]=(await this['findAndUpdateCacheContact'](_0x2d653e[_0x33ddce(0x363)],null,!0x0))[_0x33ddce(0x352)][_0x33ddce(0x45f)];}catch(_0x2d6dcf){this[_0x33ddce(0x4e3)][_0x33ddce(0x6f6)](this[_0x33ddce(0x653)]+'\x20('+this[_0x33ddce(0x47a)][_0x33ddce(0x5a4)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x2d653e[_0x33ddce(0x363)]+':\x20'+(_0x2d6dcf instanceof Error?_0x2d6dcf[_0x33ddce(0x6c6)]:JSON['stringify'](_0x2d6dcf,null,0x2)));}let _0x1a84a7=_0x45caf8['participants'][_0x33ddce(0x445)](_0xc8e6e6=>_0xc8e6e6['id']),_0x2a5f2c=_0x352f0c['map'](_0x3a9c31=>_0x3a9c31['jid']),_0x149fe1=await this['repository'][_0x33ddce(0x756)][_0x33ddce(0x4ac)]([..._0x1a84a7,..._0x2a5f2c]);_0x45caf8[_0x33ddce(0x6a0)]=_0x45caf8['participants'][_0x33ddce(0x445)](_0xad4e80=>{const _0x42f6a1=_0x33ddce;let _0x3ad8b9=_0x149fe1[_0x42f6a1(0x525)](_0x466489=>_0x466489[_0x42f6a1(0x656)]===_0xad4e80['id']);return{'id':_0xad4e80['id'],'isAdmin':[_0x42f6a1(0x387),_0x42f6a1(0x4b8)]['includes'](_0xad4e80[_0x42f6a1(0x387)]),'admin':_0xad4e80['admin'],'pushName':_0x3ad8b9?.[_0x42f6a1(0x232)],'profilePictureUrl':_0x3ad8b9?.[_0x42f6a1(0x45f)]};}),_0x45caf8[_0x33ddce(0x6c0)]=_0x352f0c['map'](_0x2c58de=>{const _0x590410=_0x33ddce;let _0x298eda=_0x149fe1[_0x590410(0x525)](_0x309d84=>_0x309d84['_id']===_0x2c58de['jid']);return{'id':_0x2c58de[_0x590410(0x47e)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x298eda?.['name'],'profilePictureUrl':_0x298eda?.[_0x590410(0x45f)],'request_method':_0x2c58de[_0x590410(0x6c8)],'request_time':_0x2c58de[_0x590410(0x228)]};});let _0x29262b=await this[_0x33ddce(0x7ea)][_0x33ddce(0x803)][_0x33ddce(0x21a)]({'where':{'_id':_0x2d653e[_0x33ddce(0x363)]}},{'imagechat':_0x45caf8[_0x33ddce(0x35b)],'name':_0x45caf8[_0x33ddce(0x1f5)],'lastcache':Date[_0x33ddce(0x694)](),'groupdata':_0x45caf8},this[_0x33ddce(0x47a)][_0x33ddce(0x5a4)]);return U(this[_0x33ddce(0x653)],_0x33ddce(0x8bc),{'chat':_0x29262b}),{'metadata':_0x45caf8};}catch(_0x505eff){if(_0x51e84c===_0x33ddce(0x3b1))return;throw new F(_0x33ddce(0x2a4),_0x505eff[_0x33ddce(0x6c6)][_0x33ddce(0x7f7)]());}}async[a0_0xf534fa(0x505)](){const _0x503515=a0_0xf534fa;try{this['logger'][_0x503515(0x8d8)]('Retornando\x20grupos\x20COM\x20cache');let _0x327755=Date[_0x503515(0x694)](),_0x34413e=0x3*0x3c*0x3c*0x3e8;return _0x327755-this['lastRealGroupsFetch']>_0x34413e&&(this['findRealGroups'](),this[_0x503515(0x750)]=_0x327755),(await this[_0x503515(0x7ea)][_0x503515(0x803)][_0x503515(0x1ba)]({'where':{'group':!0x0}},this[_0x503515(0x47a)]['wuid']))[_0x503515(0x445)](_0x207612=>({..._0x207612[_0x503515(0x471)],'groupJid':_0x207612?.['_id'],'participants':_0x207612?.[_0x503515(0x471)]?.[_0x503515(0x6a0)]||[],'awaitingApproval':_0x207612?.['groupdata']?.['awaitingApproval']||[],'image':_0x207612?.[_0x503515(0x6ed)]}));}catch(_0x4033aa){let _0x5a4bfa=_0x503515(0x279),_0x59c397=_0x4033aa instanceof Error?_0x4033aa[_0x503515(0x6c6)]:typeof _0x4033aa=='object'?JSON[_0x503515(0x6f0)](_0x4033aa):_0x4033aa,_0x4431e4=_0x5a4bfa+':\x20'+_0x59c397;throw this[_0x503515(0x4e3)][_0x503515(0x1c2)](this[_0x503515(0x653)]+'\x20('+this[_0x503515(0x47a)][_0x503515(0x5a4)]+'):\x20'+_0x4431e4),new F(_0x4431e4);}}async[a0_0xf534fa(0x819)](){const _0xb9d6f6=a0_0xf534fa;try{this[_0xb9d6f6(0x4e3)][_0xb9d6f6(0x8d8)](_0xb9d6f6(0x273));let _0x42c3c2=[],_0x5f3a2e=await this[_0xb9d6f6(0x73e)]['groupFetchAllParticipating'](),_0x385e21=Object[_0xb9d6f6(0x3c5)](_0x5f3a2e),_0x776319=_0x385e21[_0xb9d6f6(0x5d3)](_0x4bb814=>(0x0,w['isJidGroup'])(_0x4bb814?.['id']))['map'](async _0x18d276=>{const _0x173712=_0xb9d6f6;try{return await this['client'][_0x173712(0x36b)](_0x18d276['id'],_0x173712(0x87b));}catch(_0x4520b0){return this['logger'][_0x173712(0x6f6)](this[_0x173712(0x653)]+'\x20('+this[_0x173712(0x47a)][_0x173712(0x5a4)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x18d276['id']+':\x20'+(_0x4520b0 instanceof Error?_0x4520b0[_0x173712(0x6c6)]:JSON['stringify'](_0x4520b0,null,0x2))),null;}}),_0xc49109=await Promise['all'](_0x776319);for(let _0x307728=0x0;_0x307728<_0x385e21[_0xb9d6f6(0x847)];_0x307728++){let _0x5e7261=_0x385e21[_0x307728];(0x0,w[_0xb9d6f6(0x522)])(_0x5e7261?.['id'])&&(_0x42c3c2[_0xb9d6f6(0x1a2)]({'groupJid':_0x5e7261?.['id'],'subject':_0x5e7261?.[_0xb9d6f6(0x1f5)],'subjectOwner':_0x5e7261?.[_0xb9d6f6(0x429)]?.[_0xb9d6f6(0x520)]('@')[0x0],'subjectTime':_0x5e7261?.[_0xb9d6f6(0x238)],'creation':_0x5e7261?.[_0xb9d6f6(0x732)],'size':_0x5e7261?.[_0xb9d6f6(0x6a0)]?.[_0xb9d6f6(0x847)],'owner':_0x5e7261?.[_0xb9d6f6(0x2ad)]?.['split']('@')[0x0],'desc':_0x5e7261?.['desc'],'restrict':_0x5e7261?.[_0xb9d6f6(0x88a)],'announce':_0x5e7261?.[_0xb9d6f6(0x679)],'image':_0xc49109[_0x307728],'isCommunity':_0x5e7261?.[_0xb9d6f6(0x529)],'joinApprovalMode':_0x5e7261?.[_0xb9d6f6(0x5a3)],'memberCanAddParticipant':_0x5e7261?.[_0xb9d6f6(0x447)],'participants':_0x5e7261?.[_0xb9d6f6(0x6a0)],'descOwner':_0x5e7261?.[_0xb9d6f6(0x7d3)],'descId':_0x5e7261?.[_0xb9d6f6(0x6f9)],'memberAddMode':_0x5e7261?.['memberAddMode'],'isCommunityAnnounce':_0x5e7261?.[_0xb9d6f6(0x5ac)],'ephemeralDuration':_0x5e7261?.['ephemeralDuration']||0x0,'author':_0x5e7261?.[_0xb9d6f6(0x5ee)]}),this['updateChatGroupData'](_0x385e21[_0x307728]));}return _0x42c3c2;}catch(_0x249f5f){let _0x8d19a5=_0xb9d6f6(0x3b5),_0x21affa=_0x249f5f instanceof Error?_0x249f5f[_0xb9d6f6(0x6c6)]:typeof _0x249f5f==_0xb9d6f6(0x71e)?JSON[_0xb9d6f6(0x6f0)](_0x249f5f):_0x249f5f,_0x40904f=_0x8d19a5+':\x20'+_0x21affa;throw this['logger'][_0xb9d6f6(0x1c2)](this[_0xb9d6f6(0x653)]+'\x20('+this[_0xb9d6f6(0x47a)][_0xb9d6f6(0x5a4)]+_0xb9d6f6(0x43f)+_0x40904f),new F(_0x40904f);}}async['updateChatGroupData'](_0x2c031b){const _0x23569a=a0_0xf534fa;let _0x194e30=await this[_0x23569a(0x7ea)][_0x23569a(0x803)][_0x23569a(0x3b6)]({'where':{'_id':_0x2c031b['id']}},this[_0x23569a(0x47a)][_0x23569a(0x5a4)]);_0x2c031b[_0x23569a(0x238)]=_0x2c031b?.[_0x23569a(0x238)]&&_0x2c031b[_0x23569a(0x238)][_0x23569a(0x7f7)]()[_0x23569a(0x847)]<0xd?_0x2c031b?.[_0x23569a(0x238)]*0x3e8:_0x2c031b?.[_0x23569a(0x238)]||null,_0x2c031b[_0x23569a(0x732)]=_0x2c031b?.[_0x23569a(0x732)]&&_0x2c031b[_0x23569a(0x732)]['toString']()[_0x23569a(0x847)]<0xd?_0x2c031b?.[_0x23569a(0x732)]*0x3e8:_0x2c031b?.[_0x23569a(0x732)]||null;let _0x519197=_0x194e30?.['groupdata']?.['awaitingApproval']||[],_0x1bc1bc=_0x194e30?.[_0x23569a(0x471)]?.[_0x23569a(0x470)],_0xd46039=_0x2c031b[_0x23569a(0x6a0)][_0x23569a(0x445)](_0x21309f=>{const _0x586848=_0x23569a;let _0x50ff18=_0x194e30?.[_0x586848(0x471)]?.[_0x586848(0x6a0)][_0x586848(0x525)](_0x48547a=>_0x48547a['id']===_0x21309f['id']);return{..._0x21309f,'isAdmin':[_0x586848(0x387),_0x586848(0x4b8)][_0x586848(0x89d)](_0x21309f[_0x586848(0x387)]),'admin':_0x21309f[_0x586848(0x387)],'name':_0x50ff18?.[_0x586848(0x232)]||_0x21309f['name'],'imgUrl':_0x50ff18?.['imgUrl']||_0x21309f['imgUrl']};}),_0x4f75a8=_0xd46039[_0x23569a(0x7a7)](_0x4d011c=>_0x4d011c['id']===this[_0x23569a(0x47a)][_0x23569a(0x5a4)]+_0x23569a(0x746)&&_0x4d011c[_0x23569a(0x210)]),_0x5d2592=(!_0x2c031b[_0x23569a(0x679)]||_0x4f75a8)&&(!_0x2c031b['isCommunity']||_0x2c031b['isCommunity']&&_0x2c031b['isCommunityAnnounce']&&_0x4f75a8),_0xfddaa9={..._0x2c031b,'participants':_0xd46039,'awaitingApproval':_0x519197,'lastFetchAwaitingApproval':_0x1bc1bc,'isAdmin':_0x4f75a8,'canSendMessage':_0x5d2592,'lastUpdate':Date[_0x23569a(0x694)]()};await this[_0x23569a(0x7ea)][_0x23569a(0x803)]['updateOne']({'where':{'_id':_0x2c031b['id']}},{'name':_0x2c031b[_0x23569a(0x1f5)],'group':!0x0,'groupdata':_0xfddaa9,'lastcache':Date[_0x23569a(0x694)]()},this[_0x23569a(0x47a)][_0x23569a(0x5a4)]),U(this[_0x23569a(0x653)],'chats',{'chat':_0x2c031b});}async[a0_0xf534fa(0x3d3)](_0x270f62){const _0x184479=a0_0xf534fa;let _0x9cd2=await this['repository']['chat'][_0x184479(0x3b6)]({'where':{'_id':_0x270f62['id']}},this[_0x184479(0x47a)][_0x184479(0x5a4)]);_0x270f62[_0x184479(0x238)]=_0x270f62?.[_0x184479(0x238)]&&_0x270f62[_0x184479(0x238)][_0x184479(0x7f7)]()['length']<0xd?_0x270f62?.[_0x184479(0x238)]*0x3e8:_0x270f62?.['subjectTime']||null,_0x270f62[_0x184479(0x732)]=_0x270f62?.[_0x184479(0x732)]&&_0x270f62[_0x184479(0x732)][_0x184479(0x7f7)]()['length']<0xd?_0x270f62?.[_0x184479(0x732)]*0x3e8:_0x270f62?.[_0x184479(0x732)]||null,_0x270f62[_0x184479(0x560)]&&(_0x270f62[_0x184479(0x560)]='https://chat.whatsapp.com/'+_0x270f62[_0x184479(0x560)]);let _0x24ec21=_0x9cd2?.['groupdata']?{..._0x9cd2[_0x184479(0x471)]}:{};Object[_0x184479(0x725)](_0x270f62)[_0x184479(0x753)](_0x29a8a8=>{_0x29a8a8!=='id'&&(_0x24ec21[_0x29a8a8]=_0x270f62[_0x29a8a8]);});let _0x2f469c=_0x24ec21[_0x184479(0x6a0)]?.[_0x184479(0x7a7)](_0x4f0cb2=>_0x4f0cb2['id']===this[_0x184479(0x47a)][_0x184479(0x5a4)]+'@s.whatsapp.net'&&_0x4f0cb2[_0x184479(0x210)])||!0x1;_0x24ec21[_0x184479(0x210)]=_0x2f469c;let _0x273f9a=(!_0x24ec21[_0x184479(0x679)]||_0x2f469c)&&(!_0x24ec21[_0x184479(0x529)]||_0x24ec21[_0x184479(0x529)]&&_0x24ec21[_0x184479(0x5ac)]&&_0x2f469c);_0x24ec21['canSendMessage']=_0x273f9a;let _0x3d0047={'group':!0x0,'groupdata':_0x24ec21};_0x270f62[_0x184479(0x1f5)]&&(_0x3d0047[_0x184479(0x232)]=_0x270f62[_0x184479(0x1f5)]),await this[_0x184479(0x7ea)][_0x184479(0x803)][_0x184479(0x21a)]({'where':{'_id':_0x270f62['id']}},_0x3d0047,this[_0x184479(0x47a)]['wuid'],{'upsert':!0x0}),U(this[_0x184479(0x653)],'chats',{'chat':_0x3d0047});}async['updateGroupParticipantsWebhook'](_0x54acb7){const _0x2cdbca=a0_0xf534fa;let _0x3ba440=await this[_0x2cdbca(0x7ea)][_0x2cdbca(0x803)]['findOne']({'where':{'_id':_0x54acb7['id']}},this[_0x2cdbca(0x47a)][_0x2cdbca(0x5a4)]);if(!_0x3ba440||!_0x3ba440['groupdata']){this[_0x2cdbca(0x4e3)][_0x2cdbca(0x8d8)](this[_0x2cdbca(0x653)]+'\x20('+this[_0x2cdbca(0x47a)][_0x2cdbca(0x5a4)]+_0x2cdbca(0x513)+_0x54acb7['id']);return;}let _0x9080f4=await this[_0x2cdbca(0x7ea)]['cacheContact'][_0x2cdbca(0x4ac)](_0x54acb7[_0x2cdbca(0x6a0)]),_0xdd5f69=[..._0x3ba440[_0x2cdbca(0x471)]?.[_0x2cdbca(0x6a0)]];switch(_0x54acb7[_0x2cdbca(0x2de)]){case _0x2cdbca(0x1eb):let _0x42edeb=_0x9080f4[_0x2cdbca(0x445)](_0x12723b=>({'id':_0x12723b[_0x2cdbca(0x656)],'isAdmin':!0x1,'name':_0x12723b[_0x2cdbca(0x232)],'imgUrl':_0x12723b['pictureUrl']}));_0xdd5f69=[..._0xdd5f69,..._0x42edeb];break;case _0x2cdbca(0x8df):_0xdd5f69=_0xdd5f69[_0x2cdbca(0x5d3)](_0x526b3f=>!_0x54acb7[_0x2cdbca(0x6a0)]['includes'](_0x526b3f['id']));break;case _0x2cdbca(0x804):case _0x2cdbca(0x2fa):_0xdd5f69=_0xdd5f69[_0x2cdbca(0x445)](_0x4c35a4=>_0x54acb7[_0x2cdbca(0x6a0)][_0x2cdbca(0x89d)](_0x4c35a4['id'])?{..._0x4c35a4,'isAdmin':_0x54acb7[_0x2cdbca(0x2de)]==='promote'}:_0x4c35a4);break;}let _0x38a857=_0xdd5f69['length'],_0x42c059=_0xdd5f69[_0x2cdbca(0x7a7)](_0xcaf0a1=>_0xcaf0a1['id']===this[_0x2cdbca(0x47a)][_0x2cdbca(0x5a4)]+_0x2cdbca(0x746)),_0x30fd84=_0x42c059&&_0xdd5f69[_0x2cdbca(0x7a7)](_0x3fe9b2=>_0x3fe9b2['id']===this[_0x2cdbca(0x47a)][_0x2cdbca(0x5a4)]+_0x2cdbca(0x746)&&_0x3fe9b2[_0x2cdbca(0x210)]),_0x467436=_0x42c059&&(!_0x3ba440[_0x2cdbca(0x471)][_0x2cdbca(0x679)]||_0x30fd84)&&(!_0x3ba440['groupdata']['isCommunity']||_0x3ba440[_0x2cdbca(0x471)][_0x2cdbca(0x529)]&&_0x30fd84);await this[_0x2cdbca(0x7ea)][_0x2cdbca(0x803)]['updateOne']({'where':{'_id':_0x54acb7['id']}},{'groupdata':{..._0x3ba440['groupdata'],'participants':_0xdd5f69,'size':_0x38a857,'isAdmin':_0x30fd84,'canSendMessage':_0x467436}},this[_0x2cdbca(0x47a)][_0x2cdbca(0x5a4)]),this[_0x2cdbca(0x4e3)][_0x2cdbca(0x8d8)](this['instanceName']+'\x20('+this['instance'][_0x2cdbca(0x5a4)]+'):\x20Grupo\x20'+_0x54acb7['id']+_0x2cdbca(0x617)+_0x54acb7[_0x2cdbca(0x2de)]+_0x2cdbca(0x1a9)+_0x38a857+_0x2cdbca(0x7d9)+_0x30fd84+_0x2cdbca(0x3bb)+_0x467436);}async['inviteCode'](_0x570485,_0x5903e9=!0x0){const _0x45f336=a0_0xf534fa;try{let _0x5d10c3=await this[_0x45f336(0x73e)][_0x45f336(0x35e)](_0x570485['groupJid']),_0x45ed69={'groupdata.inviteCode':_0x45f336(0x41b)+_0x5d10c3};if(_0x5903e9){let _0x1b51c1=await this[_0x45f336(0x7ea)][_0x45f336(0x803)][_0x45f336(0x21a)]({'where':{'_id':_0x570485[_0x45f336(0x363)]}},_0x45ed69,this['instance'][_0x45f336(0x5a4)]);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x5d10c3,'inviteCode':_0x5d10c3};}catch(_0x362672){let _0xf83f58=_0x45f336(0x368),_0x4ea16f=_0x362672 instanceof Error?_0x362672[_0x45f336(0x6c6)]:typeof _0x362672==_0x45f336(0x71e)?JSON[_0x45f336(0x6f0)](_0x362672):_0x362672,_0x33893d=_0xf83f58+':\x20'+_0x4ea16f;throw this[_0x45f336(0x4e3)][_0x45f336(0x1c2)](this[_0x45f336(0x653)]+'\x20('+this['instance'][_0x45f336(0x5a4)]+_0x45f336(0x43f)+_0x33893d),new F(_0x33893d);}}async[a0_0xf534fa(0x67b)](_0x2e5d73){const _0x3a4e5f=a0_0xf534fa;try{let _0x1130b7=await this[_0x3a4e5f(0x73e)][_0x3a4e5f(0x519)](_0x2e5d73[_0x3a4e5f(0x363)]);return{'revoked':!0x0,'inviteUrl':_0x3a4e5f(0x41b)+_0x1130b7,'inviteCode':_0x1130b7};}catch(_0x2a4a5c){let _0x1f532d=_0x3a4e5f(0x401),_0x140687=_0x2a4a5c instanceof Error?_0x2a4a5c[_0x3a4e5f(0x6c6)]:typeof _0x2a4a5c==_0x3a4e5f(0x71e)?JSON['stringify'](_0x2a4a5c):_0x2a4a5c,_0x376947=_0x1f532d+':\x20'+_0x140687;throw this['logger'][_0x3a4e5f(0x1c2)](this[_0x3a4e5f(0x653)]+'\x20('+this[_0x3a4e5f(0x47a)][_0x3a4e5f(0x5a4)]+'):\x20'+_0x376947),new F(_0x376947);}}async[a0_0xf534fa(0x718)](_0xd1d3a8){const _0x5c5441=a0_0xf534fa;try{if((0x0,D[_0x5c5441(0x73f)])(_0xd1d3a8[_0x5c5441(0x560)]))var _0x50d632=_0xd1d3a8['inviteCode'][_0x5c5441(0x520)]('/')[0x3];else var _0x50d632=_0xd1d3a8[_0x5c5441(0x560)];let _0x5be4f8=await this[_0x5c5441(0x73e)]['groupAcceptInvite'](_0x50d632);return this[_0x5c5441(0x4e3)]['verbose'](this['instanceName']+'\x20('+this[_0x5c5441(0x47a)][_0x5c5441(0x5a4)]+'):\x20'+_0x5be4f8),{'join':!0x0,'inviteCode':_0x50d632,'groupJid':_0x5be4f8};}catch(_0x11c9b3){let _0x1720c1=_0x5c5441(0x794),_0x308179=_0x11c9b3 instanceof Error?_0x11c9b3[_0x5c5441(0x6c6)]:typeof _0x11c9b3==_0x5c5441(0x71e)?JSON[_0x5c5441(0x6f0)](_0x11c9b3):_0x11c9b3,_0xd3f640=_0x1720c1+':\x20'+_0x308179;throw this[_0x5c5441(0x4e3)][_0x5c5441(0x1c2)](this['instanceName']+'\x20('+this[_0x5c5441(0x47a)][_0x5c5441(0x5a4)]+'):\x20'+_0xd3f640),new F(_0xd3f640);}}async[a0_0xf534fa(0x62a)](_0x1e1006){const _0x18bb8f=a0_0xf534fa;try{return{'participants':(await this['repository'][_0x18bb8f(0x803)][_0x18bb8f(0x3b6)]({'where':{'_id':_0x1e1006[_0x18bb8f(0x363)]}},this['instance'][_0x18bb8f(0x5a4)]))['groupdata']['participants']};}catch(_0x35c759){let _0xc7198e=_0x18bb8f(0x586),_0x4c9319=_0x35c759 instanceof Error?_0x35c759['message']:typeof _0x35c759=='object'?JSON[_0x18bb8f(0x6f0)](_0x35c759):_0x35c759,_0x385d11=_0xc7198e+':\x20'+_0x4c9319;throw this[_0x18bb8f(0x4e3)][_0x18bb8f(0x1c2)](this[_0x18bb8f(0x653)]+'\x20('+this[_0x18bb8f(0x47a)][_0x18bb8f(0x5a4)]+'):\x20'+_0x385d11),new F(_0x385d11);}}async[a0_0xf534fa(0x7b8)](_0x520856){const _0x3e1e53=a0_0xf534fa;try{return await this[_0x3e1e53(0x73e)][_0x3e1e53(0x698)](_0x520856[_0x3e1e53(0x363)]),{'groupJid':_0x520856['groupJid'],'leave':!0x0};}catch(_0x19c384){let _0x2e66b4=_0x3e1e53(0x496),_0x33673e=_0x19c384 instanceof Error?_0x19c384[_0x3e1e53(0x6c6)]:typeof _0x19c384=='object'?JSON[_0x3e1e53(0x6f0)](_0x19c384):_0x19c384,_0x194b7a=_0x2e66b4+':\x20'+_0x33673e;throw this['logger'][_0x3e1e53(0x1c2)](this[_0x3e1e53(0x653)]+'\x20('+this[_0x3e1e53(0x47a)][_0x3e1e53(0x5a4)]+'):\x20'+_0x194b7a),new m(_0x194b7a);}}async[a0_0xf534fa(0x759)](_0x288f5c){const _0x1f6e7a=a0_0xf534fa;return await this['sendMessageWithTyping'](_0x288f5c[_0x1f6e7a(0x4d2)],{'poll':{'name':_0x288f5c[_0x1f6e7a(0x759)]?.[_0x1f6e7a(0x232)],'selectableCount':_0x288f5c[_0x1f6e7a(0x759)][_0x1f6e7a(0x6c2)],'values':_0x288f5c[_0x1f6e7a(0x759)][_0x1f6e7a(0x3c5)]}},_0x288f5c?.['options']);}async[a0_0xf534fa(0x20e)](_0x4c16cc){const _0x1b146f=a0_0xf534fa;return await this[_0x1b146f(0x681)](_0x4c16cc[_0x1b146f(0x4d2)],{'listMessage':{'title':_0x4c16cc[_0x1b146f(0x20e)]['title'],'description':_0x4c16cc['listMessage']['description'],'buttonText':_0x4c16cc[_0x1b146f(0x20e)]?.[_0x1b146f(0x36e)],'footerText':_0x4c16cc[_0x1b146f(0x20e)]?.[_0x1b146f(0x2e0)],'sections':_0x4c16cc[_0x1b146f(0x20e)][_0x1b146f(0x208)],'listType':0x2}},_0x4c16cc?.[_0x1b146f(0x508)]);}async[a0_0xf534fa(0x534)](_0x1a7b87){const _0x39dc79=a0_0xf534fa;let _0x3854df;if(_0x1a7b87[_0x39dc79(0x534)][_0x39dc79(0x20f)]===_0x39dc79(0x7b0)){let _0x42fb24=_0x1a7b87[_0x39dc79(0x534)][_0x39dc79(0x879)]['indexOf']('\x0a'),_0x2f0a2e='',_0x34306a='';_0x42fb24!==-0x1?(_0x2f0a2e=_0x1a7b87[_0x39dc79(0x534)][_0x39dc79(0x879)][_0x39dc79(0x32d)](0x0,_0x42fb24)['trim'](),_0x34306a=_0x1a7b87['menuMessage'][_0x39dc79(0x879)]['substring'](_0x42fb24+0x1)):_0x34306a=_0x1a7b87[_0x39dc79(0x534)][_0x39dc79(0x879)];let _0x31a4f3=_0x1a7b87[_0x39dc79(0x534)][_0x39dc79(0x2b9)][_0x39dc79(0x5d3)](_0x2ae1b7=>_0x2ae1b7['trim']()!==''),_0x41b2fb=this['createSectionsFromValues'](_0x31a4f3);_0x3854df={'listMessage':{'title':_0x2f0a2e,'description':_0x34306a,'buttonText':_0x1a7b87[_0x39dc79(0x534)][_0x39dc79(0x36e)]||_0x39dc79(0x6fe),'footerText':_0x1a7b87[_0x39dc79(0x534)]['footerText'],'sections':_0x41b2fb,'listType':0x2}};}else{if(_0x1a7b87[_0x39dc79(0x534)][_0x39dc79(0x20f)]===_0x39dc79(0x412)){let _0x1043b6=_0x1a7b87['menuMessage'][_0x39dc79(0x2b9)]['filter'](_0x492303=>!(_0x492303[_0x39dc79(0x854)]('[')&&_0x492303[_0x39dc79(0x1b6)](']'))&&_0x492303[_0x39dc79(0x4fb)]()!=='')['map'](_0x53c7a5=>_0x53c7a5['split']('\x0a')[0x0]);_0x3854df={'poll':{'name':_0x1a7b87[_0x39dc79(0x534)][_0x39dc79(0x879)],'selectableCount':_0x1a7b87['menuMessage'][_0x39dc79(0x6c2)]||0x1,'values':_0x1043b6}};}}return await this[_0x39dc79(0x681)](_0x1a7b87['number'],_0x3854df,_0x1a7b87?.[_0x39dc79(0x508)]);}[a0_0xf534fa(0x548)](_0x5e2f1a){const _0x14e957=a0_0xf534fa;let _0x4a12cb=[],_0x415940={'rows':[]};return _0x5e2f1a[_0x14e957(0x753)](_0x527640=>{const _0x47b518=_0x14e957;if(_0x527640['startsWith']('[')&&_0x527640[_0x47b518(0x1b6)](']'))_0x415940[_0x47b518(0x346)][_0x47b518(0x847)]>0x0&&_0x4a12cb[_0x47b518(0x1a2)](_0x415940),_0x415940={'title':_0x527640[_0x47b518(0x2f2)](0x1,-0x1),'rows':[]};else{let _0x358a5c=_0x527640[_0x47b518(0x520)]('\x0a')['map'](_0x5db8dd=>_0x5db8dd['trim']()),_0x181560=_0x358a5c[0x0],_0x8d30ae=_0x358a5c[0x1]||null,_0x435520=_0x358a5c[0x2]||_0x181560;_0x415940[_0x47b518(0x346)][_0x47b518(0x1a2)]({'title':_0x181560,'description':_0x8d30ae,'rowId':_0x435520});}}),_0x415940[_0x14e957(0x346)]['length']>0x0&&_0x4a12cb['push'](_0x415940),_0x4a12cb;}async[a0_0xf534fa(0x858)](_0x54c13f,_0x291b02){const _0x45cea5=a0_0xf534fa;if(await this[_0x45cea5(0x8b2)](_0x54c13f,!0x0)){let _0x59bc3c={'where':{'_id':_0x54c13f['id']}},_0x21f435={'status':[_0x291b02[_0x45cea5(0x2d2)]][0x0]};try{let _0x397f66=await this[_0x45cea5(0x7ea)][_0x45cea5(0x6c6)][_0x45cea5(0x1bb)](_0x59bc3c,_0x21f435,this[_0x45cea5(0x47a)][_0x45cea5(0x5a4)]);_0x397f66&&U(this[_0x45cea5(0x653)],'messages',{'message':_0x397f66});}catch{}}}[a0_0xf534fa(0x7d8)](_0x5323d7){const _0x5bc42d=a0_0xf534fa;let _0x387ad6=[];return _0x5323d7[_0x5bc42d(0x753)](_0x292dc1=>{const _0x350b22=_0x5bc42d;_0x292dc1['title']&&_0x387ad6[_0x350b22(0x1a2)]('['+_0x292dc1[_0x350b22(0x355)]+']'),_0x292dc1[_0x350b22(0x346)]['forEach'](_0x4b6a49=>{const _0x3ad07f=_0x350b22;_0x387ad6[_0x3ad07f(0x1a2)](_0x4b6a49[_0x3ad07f(0x355)]);});}),_0x387ad6['join']('|');}['formatVCard'](_0x11757a){const _0x1713eb=a0_0xf534fa;let _0x1db7a6=_0x11757a[_0x1713eb(0x60c)](/\\n/g,'\x0a')['split']('\x0a')['filter'](_0x56e941=>_0x56e941['includes']('TEL')||_0x56e941['includes'](_0x1713eb(0x35a))),_0x2ac6f1='';return _0x1db7a6[_0x1713eb(0x753)](_0x40cd60=>{const _0x11129c=_0x1713eb;let _0x58558e=/TEL(?:.*):(.+)/,_0x261e8b=/EMAIL(?:.*):(.+)/,_0x3e19db=_0x40cd60[_0x11129c(0x655)](_0x58558e),_0x2ccc8d=_0x40cd60[_0x11129c(0x655)](_0x261e8b);if(_0x3e19db){let _0x51b1c3=_0x3e19db[0x1][_0x11129c(0x60c)](/-| |\+|\(|\)/g,'')[_0x11129c(0x4fb)]();_0x2ac6f1+='Telefone:\x20'+_0x51b1c3+'\x0a';}else{if(_0x2ccc8d){let _0x45f321=_0x2ccc8d[0x1][_0x11129c(0x4fb)]();_0x2ac6f1+=_0x11129c(0x398)+_0x45f321+'\x0a';}}}),_0x2ac6f1[_0x1713eb(0x4fb)]();}async[a0_0xf534fa(0x648)](_0x5ba5df,_0x5b3ed2,_0x5ec8aa,_0x11bcff=null){const _0x1c8c8f=a0_0xf534fa;if(_0x5ba5df['ENABLED'])try{let _0x4e4293=_0x5b3ed2[_0x1c8c8f(0x693)][_0x1c8c8f(0x281)][_0x1c8c8f(0x60c)](/:\d{1,2}@/g,'@'),_0x1d1d95=_0x5b3ed2[_0x1c8c8f(0x693)][_0x1c8c8f(0x853)],_0x3cb034=_0x4e4293[_0x1c8c8f(0x1b6)](_0x1c8c8f(0x64e)),_0x4590bc=_0x5b3ed2[_0x1c8c8f(0x73c)]?.['replace'](/:\d{1,2}@/g,'@')||'',_0x3361d4=_0x5b3ed2[_0x1c8c8f(0x5dc)]?.[_0x1c8c8f(0x879)]||_0x5b3ed2[_0x1c8c8f(0x5dc)]?.[_0x1c8c8f(0x7b7)]||_0x5b3ed2[_0x1c8c8f(0x5dc)]?.[_0x1c8c8f(0x4a7)]||_0x5b3ed2[_0x1c8c8f(0x5dc)]?.[_0x1c8c8f(0x232)]||'',_0x4be537={'_id':_0x5b3ed2[_0x1c8c8f(0x656)],'remoteJid':_0x1d1d95?this['instance'][_0x1c8c8f(0x5a4)]:_0x3cb034?_0x4590bc:_0x4e4293,'pushName':_0x1d1d95?this[_0x1c8c8f(0x47a)][_0x1c8c8f(0x3f8)]||'Eu':_0x5b3ed2[_0x1c8c8f(0x6a6)],'text':_0x3361d4,'type':_0x5b3ed2['messageType'],'when':_0x5b3ed2[_0x1c8c8f(0x27c)]||Date[_0x1c8c8f(0x694)]()};_0x11bcff||(_0x11bcff=await this['repository']['chat'][_0x1c8c8f(0x3b6)]({'where':{'_id':_0x4e4293}},this['instance'][_0x1c8c8f(0x5a4)]));let _0x51b64b=_0x11bcff?_0x1d1d95?_0x11bcff[_0x1c8c8f(0x55f)]:(_0x11bcff[_0x1c8c8f(0x55f)]||0x0)+0x1:_0x1d1d95?0x0:0x1,_0x5a14ba={'lastmsg':_0x5b3ed2[_0x1c8c8f(0x27c)]||Date[_0x1c8c8f(0x694)](),'ephemeralExpiration':_0x5b3ed2[_0x1c8c8f(0x28c)],'lastMessage':_0x4be537,'unreadcount':_0x51b64b,..._0x1d1d95||_0x3cb034?{}:{'name':_0x5b3ed2[_0x1c8c8f(0x6a6)]},..._0x3cb034?{'group':_0x3cb034}:{},...!_0x1d1d95&&!_0x3cb034&&_0x5b3ed2[_0x1c8c8f(0x36b)]?{'imagechat':_0x5b3ed2[_0x1c8c8f(0x36b)]}:{}};if(!_0x3cb034&&(!_0x11bcff?.[_0x1c8c8f(0x270)]||!_0x11bcff[_0x1c8c8f(0x270)][_0x1c8c8f(0x585)])&&_0x5b3ed2[_0x1c8c8f(0x6a6)]&&!_0x1d1d95&&(_0x5a14ba={..._0x5a14ba,'leadInfo.nome':_0x5b3ed2[_0x1c8c8f(0x6a6)]}),_0x11bcff?.['leadInfo'][_0x1c8c8f(0x69c)]||(_0x5a14ba={..._0x5a14ba,'leadInfo.etiquetas':[]}),_0x11bcff?.[_0x1c8c8f(0x270)][_0x1c8c8f(0x3c9)]||(_0x5a14ba={..._0x5a14ba,'leadInfo.customFields':[]}),_0x11bcff?.[_0x1c8c8f(0x270)][_0x1c8c8f(0x376)]||(_0x5a14ba={..._0x5a14ba,'leadInfo.tags':[]}),_0x11bcff&&_0x11bcff?.[_0x1c8c8f(0x2dc)]){let _0x53aa9f=await this[_0x1c8c8f(0x7ea)][_0x1c8c8f(0x5c4)][_0x1c8c8f(0x525)]({'where':{}},this[_0x1c8c8f(0x47a)]['wuid']),_0x4a4ba3=new Set(_0x53aa9f[_0x1c8c8f(0x445)](_0x2dc056=>_0x2dc056[_0x1c8c8f(0x656)])),_0x2180db=(_0x11bcff['leadInfo']?.['etiquetas']||[])[_0x1c8c8f(0x5d3)](_0x2f5a50=>_0x4a4ba3[_0x1c8c8f(0x8a7)](_0x2f5a50));_0x5a14ba={..._0x5a14ba,'imported':!0x1,'leadInfo.etiquetas':_0x2180db};for(let _0x31a292 of _0x2180db)await this['AddChatLabel'](_0x31a292,_0x4e4293);}if(!this[_0x1c8c8f(0x877)][_0x1c8c8f(0x390)][_0x1c8c8f(0x525)](_0x212a07=>_0x212a07['startCommand']&&_0x3361d4[_0x1c8c8f(0x89d)](_0x212a07[_0x1c8c8f(0x1a3)]))&&_0x5ec8aa===_0x1c8c8f(0x7b9)&&_0x1d1d95&&this[_0x1c8c8f(0x877)]?.[_0x1c8c8f(0x705)][_0x1c8c8f(0x633)]&&_0x3361d4['trim']()!==this[_0x1c8c8f(0x877)]?.[_0x1c8c8f(0x705)][_0x1c8c8f(0x528)]['trim']()){let _0x317251=(this[_0x1c8c8f(0x877)]?.[_0x1c8c8f(0x705)]['stopWhenYouSendMsg']||0x0)*0xea60,_0xf7dec4=Date[_0x1c8c8f(0x694)]()+_0x317251;_0x11bcff?.['leadInfo']?.['desativadoFluxoAte']===0x0||(_0x5a14ba={..._0x5a14ba,'leadInfo.desativadoFluxoAte':_0xf7dec4},this[_0x1c8c8f(0x4e3)]['verbose'](this[_0x1c8c8f(0x653)]+'\x20('+this['instance'][_0x1c8c8f(0x5a4)]+_0x1c8c8f(0x60b)+_0xf7dec4+'.'));}if(_0x3361d4[_0x1c8c8f(0x4fb)]()===this[_0x1c8c8f(0x877)]?.[_0x1c8c8f(0x705)][_0x1c8c8f(0x528)][_0x1c8c8f(0x4fb)]()){this[_0x1c8c8f(0x4e3)][_0x1c8c8f(0x6f6)](this['instanceName']+'\x20('+this[_0x1c8c8f(0x47a)]['wuid']+_0x1c8c8f(0x590)+_0x3361d4);let _0x40e0c9=Date[_0x1c8c8f(0x694)]();this['AutomateSystem']?.[_0x1c8c8f(0x705)][_0x1c8c8f(0x226)]===0x0?_0x5a14ba={..._0x5a14ba,'leadInfo.desativadoFluxoAte':_0x40e0c9+0x7591f6200}:_0x5a14ba={..._0x5a14ba,'leadInfo.desativadoFluxoAte':_0x40e0c9+this[_0x1c8c8f(0x877)]?.['flowConfig'][_0x1c8c8f(0x226)]*0x3c*0x3e8};}if(_0x11bcff=await this[_0x1c8c8f(0x7ea)][_0x1c8c8f(0x803)][_0x1c8c8f(0x21a)]({'where':{'_id':_0x4e4293}},_0x5a14ba,this[_0x1c8c8f(0x47a)][_0x1c8c8f(0x5a4)],{'new':!0x0,'upsert':!0x0}),_0x11bcff)U(this['instanceName'],_0x1c8c8f(0x8bc),{'chat':_0x11bcff});else{this[_0x1c8c8f(0x4e3)]['error'](this[_0x1c8c8f(0x653)]+'\x20('+this['instance'][_0x1c8c8f(0x5a4)]+_0x1c8c8f(0x4a6));return;}if(_0x1d1d95)return this[_0x1c8c8f(0x4e3)][_0x1c8c8f(0x6f6)](this[_0x1c8c8f(0x653)]+'\x20('+this[_0x1c8c8f(0x47a)][_0x1c8c8f(0x5a4)]+'):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...'),null;if(!this['AutomateSystem']?.['flowConfig'][_0x1c8c8f(0x633)])return this[_0x1c8c8f(0x4e3)][_0x1c8c8f(0x6f6)](this[_0x1c8c8f(0x653)]+'\x20('+this['instance']['wuid']+_0x1c8c8f(0x62e)),null;if(_0x11bcff['_id']['includes'](_0x1c8c8f(0x64e))&&this[_0x1c8c8f(0x877)]?.[_0x1c8c8f(0x705)]['ignoreGroups']===!0x0)return this['logger'][_0x1c8c8f(0x6f6)](this[_0x1c8c8f(0x653)]+'\x20('+this[_0x1c8c8f(0x47a)]['wuid']+_0x1c8c8f(0x84e)),null;if(_0x11bcff[_0x1c8c8f(0x270)]){if(_0x11bcff['leadInfo'][_0x1c8c8f(0x2f6)]===0x0||_0x11bcff[_0x1c8c8f(0x270)][_0x1c8c8f(0x20a)])return this[_0x1c8c8f(0x4e3)][_0x1c8c8f(0x6f6)](this[_0x1c8c8f(0x653)]+'\x20('+this['instance'][_0x1c8c8f(0x5a4)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x4e4293+',\x20saindo.'),null;if(_0x11bcff[_0x1c8c8f(0x270)][_0x1c8c8f(0x2f6)]>Date['now']()&&!_0x5b3ed2[_0x1c8c8f(0x5dc)]?.['vote'])return this[_0x1c8c8f(0x4e3)][_0x1c8c8f(0x6f6)](this[_0x1c8c8f(0x653)]+'\x20('+this[_0x1c8c8f(0x47a)]['wuid']+_0x1c8c8f(0x701)+new Date(_0x11bcff['leadInfo'][_0x1c8c8f(0x2f6)])['toLocaleString']()+_0x1c8c8f(0x7cf)),null;}this[_0x1c8c8f(0x4e3)][_0x1c8c8f(0x6f6)](this['instanceName']+'\x20('+this[_0x1c8c8f(0x47a)][_0x1c8c8f(0x5a4)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x1c8c8f(0x7de)](_0x5b3ed2,_0x5ec8aa);}catch(_0x4a092e){let _0x461605=_0x1c8c8f(0x8cc),_0x359718=_0x4a092e instanceof Error?_0x4a092e[_0x1c8c8f(0x6c6)]:typeof _0x4a092e==_0x1c8c8f(0x71e)?JSON[_0x1c8c8f(0x6f0)](_0x4a092e):_0x4a092e,_0x4fda77=_0x461605+':\x20'+_0x359718;return this[_0x1c8c8f(0x4e3)][_0x1c8c8f(0x1c2)](this[_0x1c8c8f(0x653)]+'\x20('+this['instance'][_0x1c8c8f(0x5a4)]+_0x1c8c8f(0x43f)+_0x4fda77),null;}}async['upsertChats'](_0x1c36a1,_0x135000){const _0x5d1eb=a0_0xf534fa;if(_0x135000['ENABLED']){let _0x308ee2=_0x1c36a1[_0x5d1eb(0x445)](async _0x1d6b0d=>{const _0x334f2e=_0x5d1eb;try{let _0x276c0b={'_id':_0x1d6b0d['_id'],'owner':_0x1d6b0d[_0x334f2e(0x2ad)],'lastcache':0x0};if(Object[_0x334f2e(0x725)](_0x1d6b0d)['forEach'](_0x30e9a7=>{_0x1d6b0d[_0x30e9a7]!==null&&(_0x276c0b[_0x30e9a7]=_0x1d6b0d[_0x30e9a7]);}),_0x276c0b[_0x334f2e(0x6ed)]===null&&(_0x276c0b[_0x334f2e(0x6ed)]=_0x334f2e(0x8bd)),Object[_0x334f2e(0x725)](_0x276c0b)['length']>0x0)return await this['repository'][_0x334f2e(0x803)][_0x334f2e(0x21a)]({'where':{'_id':_0x1d6b0d['_id']}},_0x276c0b,this[_0x334f2e(0x47a)]['wuid']);}catch(_0x40a16d){let _0x7eae7c=_0x334f2e(0x634)+_0x1d6b0d[_0x334f2e(0x656)],_0x475f98=_0x40a16d instanceof Error?_0x40a16d[_0x334f2e(0x6c6)]:typeof _0x40a16d=='object'?JSON[_0x334f2e(0x6f0)](_0x40a16d):_0x40a16d,_0x57ddf9=_0x7eae7c+':\x20'+_0x475f98;return this[_0x334f2e(0x4e3)][_0x334f2e(0x1c2)](this[_0x334f2e(0x653)]+'\x20('+this['instance']['wuid']+_0x334f2e(0x43f)+_0x57ddf9),null;}}),_0x4d2b81=(await Promise[_0x5d1eb(0x423)](_0x308ee2))['filter'](_0xbea371=>_0xbea371!==null)[_0x5d1eb(0x847)];this[_0x5d1eb(0x4e3)][_0x5d1eb(0x6f6)](this[_0x5d1eb(0x653)]+'\x20('+this['instance'][_0x5d1eb(0x5a4)]+_0x5d1eb(0x43f)+_0x4d2b81+_0x5d1eb(0x383)+this[_0x5d1eb(0x47a)][_0x5d1eb(0x5a4)]+_0x5d1eb(0x80f));}}async[a0_0xf534fa(0x782)](_0x2dbc7){const _0x1ca903=a0_0xf534fa;this['logger'][_0x1ca903(0x6f6)](this[_0x1ca903(0x653)]+'\x20('+this[_0x1ca903(0x47a)][_0x1ca903(0x5a4)]+_0x1ca903(0x859));let _0x572008={'readMessages':[{'remoteJid':_0x2dbc7[_0x1ca903(0x1cf)]['lastReceivedMessage'][_0x1ca903(0x693)][_0x1ca903(0x281)],'fromMe':_0x2dbc7[_0x1ca903(0x1cf)]['lastReceivedMessage'][_0x1ca903(0x693)]['fromMe'],'id':_0x2dbc7[_0x1ca903(0x1cf)][_0x1ca903(0x46d)][_0x1ca903(0x693)]['id']}]};await this[_0x1ca903(0x2a7)](_0x572008);}async['StartBot'](_0x5a35a8,_0x2f5b56){const _0x8947be=a0_0xf534fa;try{let {key:_0x5b282a,message_normalized:_0x440e2d}=_0x5a35a8,_0x5bf0dc=_0x440e2d,_0x5f50e9=_0x440e2d[_0x8947be(0x879)]||_0x440e2d['caption']||_0x440e2d[_0x8947be(0x4a7)]||_0x440e2d[_0x8947be(0x232)]||'',_0x5be678=_0x5b282a[_0x8947be(0x281)],_0x261b9f=null,_0x140f48=this[_0x8947be(0x877)][_0x8947be(0x390)][_0x8947be(0x525)](_0xf910d0=>_0xf910d0[_0x8947be(0x1a3)]&&_0x5f50e9[_0x8947be(0x89d)](_0xf910d0['startCommand']));if(_0x140f48&&_0x2f5b56===_0x8947be(0x7b9)){let _0x2333cf=await this['repository'][_0x8947be(0x66e)][_0x8947be(0x3b6)]({'where':{'_id':_0x140f48[_0x8947be(0x656)]}});if(this['logger'][_0x8947be(0x6f6)](this['instanceName']+'\x20('+this[_0x8947be(0x47a)][_0x8947be(0x5a4)]+_0x8947be(0x3ca)),_0x2333cf&&_0x2333cf[_0x8947be(0x3b2)]?.['includes'](this[_0x8947be(0x47a)][_0x8947be(0x5a4)]))_0x261b9f=await this[_0x8947be(0x54c)](_0x2333cf,_0x5b282a,_0x5bf0dc);else return this[_0x8947be(0x4e3)]['verbose'](this[_0x8947be(0x653)]+'\x20('+this[_0x8947be(0x47a)][_0x8947be(0x5a4)]+_0x8947be(0x8c7)),null;}else this[_0x8947be(0x4e3)][_0x8947be(0x6f6)](this['instanceName']+'\x20('+this[_0x8947be(0x47a)][_0x8947be(0x5a4)]+_0x8947be(0x8bf));if(_0x261b9f=await this['findConversation'](_0x5be678,_0x5bf0dc),_0x261b9f){this[_0x8947be(0x4e3)][_0x8947be(0x6f6)](this[_0x8947be(0x653)]+'\x20('+this[_0x8947be(0x47a)][_0x8947be(0x5a4)]+_0x8947be(0x218)),!_0x5b282a['fromMe']&&_0x261b9f[_0x8947be(0x413)]&&this[_0x8947be(0x782)](_0x261b9f);let _0x358331=await this[_0x8947be(0x77f)](_0x261b9f);_0x358331&&await this['processblock'](_0x261b9f,_0x358331);}}catch(_0x8ef9b4){this['logger'][_0x8947be(0x1c2)](this['instanceName']+'\x20('+this[_0x8947be(0x47a)][_0x8947be(0x5a4)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x8ef9b4 instanceof Error?_0x8ef9b4['message']:JSON[_0x8947be(0x6f0)](_0x8ef9b4,null,0x2)));}}[a0_0xf534fa(0x4cc)](_0x33ca31,_0x26c2e7='',_0x1df46f={}){const _0x1d4937=a0_0xf534fa;return typeof _0x33ca31!='object'||_0x33ca31===null?(_0x26c2e7&&(_0x1df46f[_0x26c2e7]=_0x33ca31),_0x1df46f):(Object[_0x1d4937(0x3aa)](_0x33ca31)[_0x1d4937(0x753)](([_0x40ec18,_0x41fff7])=>{const _0x4b8425=_0x1d4937;let _0x37a023=_0x26c2e7?_0x26c2e7+'.'+_0x40ec18:'_'+_0x40ec18;Array[_0x4b8425(0x6db)](_0x41fff7)?_0x41fff7[_0x4b8425(0x753)]((_0x5f052f,_0x2c0e39)=>{this['flattenObject'](_0x5f052f,_0x37a023+'['+_0x2c0e39+']',_0x1df46f);}):typeof _0x41fff7==_0x4b8425(0x71e)&&_0x41fff7!==null?this[_0x4b8425(0x4cc)](_0x41fff7,_0x37a023,_0x1df46f):_0x1df46f[_0x37a023]=String(_0x41fff7);}),_0x1df46f);}['variablesToObject'](_0x5c553c){const _0x43c11b=a0_0xf534fa;let _0x405604={};for(let _0x55eb2a of _0x5c553c)typeof _0x55eb2a[_0x43c11b(0x232)]==_0x43c11b(0x3dd)&&typeof _0x55eb2a[_0x43c11b(0x81c)]=='string'&&(_0x405604[_0x55eb2a[_0x43c11b(0x232)]]=_0x55eb2a[_0x43c11b(0x81c)]);return _0x405604;}async['NextBlock'](_0x5b47db){const _0x233219=a0_0xf534fa;if(!this[_0x233219(0x877)]?.['flowConfig'][_0x233219(0x633)]||_0x5b47db[_0x233219(0x2d2)]!=='open'&&_0x5b47db[_0x233219(0x765)]==='')return null;let _0x28b228=_0x5b47db[_0x233219(0x1cf)][_0x233219(0x353)]||_0x233219(0x499);typeof _0x5b47db['chatLog'][_0x233219(0x275)]>'u'&&(_0x5b47db[_0x233219(0x1cf)][_0x233219(0x275)]=!0x0);let _0x337aba=_0x5b47db[_0x233219(0x1cf)][_0x233219(0x275)];this[_0x233219(0x4e3)][_0x233219(0x6f6)](this[_0x233219(0x653)]+'\x20('+this[_0x233219(0x47a)]['wuid']+_0x233219(0x7a0)+_0x28b228+_0x233219(0x551)+_0x337aba);let _0x1fb343=_0x28b228===_0x233219(0x499)?_0x5b47db['blocks'][_0x233219(0x525)](_0xadb65f=>_0xadb65f[_0x233219(0x20f)]==='start'):_0x5b47db[_0x233219(0x840)]['find'](_0x3a9112=>_0x3a9112[_0x233219(0x656)][_0x233219(0x7f7)]()===_0x28b228['toString']());if(!_0x1fb343)return this[_0x233219(0x4e3)][_0x233219(0x1c2)](this['instanceName']+'\x20('+this[_0x233219(0x47a)][_0x233219(0x5a4)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x28b228),null;let _0x4edcfc={'_pushName':_0x5b47db?.[_0x233219(0x1cf)]?.[_0x233219(0x46d)]?.[_0x233219(0x6a6)]||'','_sender':this['instance'][_0x233219(0x5a4)]||'',..._0x5b47db[_0x233219(0x1cf)][_0x233219(0x466)]},_0x2e056a=null;if(_0x5b47db[_0x233219(0x765)]){let _0x2bbc3a=_0x5b47db[_0x233219(0x1cf)][_0x233219(0x46d)][_0x233219(0x4a7)],_0x3c7497=_0x5b47db[_0x233219(0x1c0)][_0x233219(0x525)](_0x1a4c91=>_0x1a4c91[_0x233219(0x301)]===_0x2bbc3a);if(_0x3c7497){let _0x3392e4=_0x3c7497[_0x233219(0x526)];if(_0x2e056a=_0x5b47db['blocks'][_0x233219(0x525)](_0x23e815=>_0x23e815[_0x233219(0x663)]===_0x3392e4&&_0x23e815[_0x233219(0x319)]===0x1),_0x1fb343[_0x233219(0x2cf)][_0x233219(0x4d4)]){let _0x4d828b={'id':_0x5b47db[_0x233219(0x765)],'remoteJid':_0x5b47db['remoteJid'],'fromMe':!0x0};await this[_0x233219(0x724)](_0x4d828b);}if(_0x1fb343[_0x233219(0x2cf)][_0x233219(0x4d4)]&&_0x1fb343[_0x233219(0x2cf)][_0x233219(0x1db)]&&_0x1fb343['uazapi'][_0x233219(0x44d)]===_0x233219(0x412)){let _0xe9e17b={'number':_0x5b47db[_0x233219(0x281)],'options':{'delay':0x0},'textMessage':{'text':_0x233219(0x23e)+_0x5b47db[_0x233219(0x664)]+_0x233219(0x1c1)+_0x2bbc3a}};await this['textMessage'](_0xe9e17b);}_0x5b47db[_0x233219(0x2d2)]=_0x233219(0x441),_0x5b47db[_0x233219(0x765)]='',_0x5b47db['waitingMenu_text']='',_0x5b47db[_0x233219(0x1c0)]=[];}else{this['logger'][_0x233219(0x6f6)](this[_0x233219(0x653)]+'\x20('+this[_0x233219(0x47a)][_0x233219(0x5a4)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x45f469={'activatedCount':_0x5b47db[_0x233219(0x1cf)][_0x233219(0x4d6)][_0x233219(0x5d3)](_0x2238f5=>String(_0x2238f5[_0x233219(0x8e3)])===String(_0x28b228))['length'],'moreLogs':[_0x233219(0x1d6)]};if(_0x1fb343['uazapi'][_0x233219(0x8ca)]){let _0x4dcf10={'number':_0x5b47db[_0x233219(0x281)],'options':{'delay':0x0},'textMessage':{'text':_0x1fb343['uazapi'][_0x233219(0x8ca)]}};await this['textMessage'](_0x4dcf10);}if(_0x1fb343['maxActives']!==void 0x0&&_0x45f469['activatedCount']>=_0x1fb343['maxActives']){let _0xa21b5=Date[_0x233219(0x694)](),_0x22c2b3=_0x1fb343[_0x233219(0x4d5)]??0xa;isNaN(_0x22c2b3)&&(_0x22c2b3=0xa);let _0x2dd3b6=_0xa21b5+_0x22c2b3*0x3c*0x3e8;_0x45f469[_0x233219(0x2c7)]=_0x2dd3b6,_0x45f469[_0x233219(0x4de)][_0x233219(0x1a2)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x233219(0x85a)](_0x5b47db,_0x2dd3b6),_0x5b47db['waitingMenu_id']='',_0x5b47db[_0x233219(0x664)]='',_0x5b47db['waitingMenu_replyOptions']=[];}return this[_0x233219(0x7cd)](_0x5b47db,_0x1fb343,_0x45f469,!0x0),null;}}if(_0x337aba&&_0x1fb343['next_groupId']&&!_0x5b47db[_0x233219(0x765)]){let _0x1c7d66=_0x5b47db[_0x233219(0x840)][_0x233219(0x5d3)](_0x226e0b=>_0x226e0b[_0x233219(0x663)][_0x233219(0x7f7)]()===_0x1fb343[_0x233219(0x526)][_0x233219(0x7f7)]())['sort']((_0x13ddb6,_0x4cedcd)=>_0x13ddb6[_0x233219(0x319)]-_0x4cedcd['order']);_0x1c7d66[_0x233219(0x847)]>0x0&&(_0x2e056a=_0x1c7d66[0x0]);}if(!_0x2e056a){let _0x14330b=_0x1fb343[_0x233219(0x663)],_0x47b9f9=_0x5b47db['blocks']['filter'](_0x1791fa=>_0x1791fa[_0x233219(0x663)]===_0x14330b&&_0x1791fa[_0x233219(0x319)]>_0x1fb343[_0x233219(0x319)])[_0x233219(0x211)]((_0x7e4bcb,_0x598c33)=>_0x7e4bcb[_0x233219(0x319)]-_0x598c33[_0x233219(0x319)]);_0x47b9f9['length']>0x0&&(_0x2e056a=_0x47b9f9[0x0]);}if(!_0x2e056a)return _0x5b47db[_0x233219(0x2d2)]=_0x233219(0x533),null;_0x5b47db[_0x233219(0x1cf)][_0x233219(0x466)]=_0x4edcfc;let _0x2f51f1=JSON[_0x233219(0x845)](JSON['stringify'](_0x2e056a));return this[_0x233219(0x2f3)](_0x2f51f1,_0x5b47db['chatLog'][_0x233219(0x466)]),_0x5b47db[_0x233219(0x1cf)][_0x233219(0x353)]=_0x2f51f1[_0x233219(0x656)],_0x5b47db[_0x233219(0x1cf)]['lastCondition']=!0x0,_0x2f51f1;}[a0_0xf534fa(0x235)](_0x453e80,_0x2bdc5e){const _0x5d588d=a0_0xf534fa;return _0x453e80[_0x5d588d(0x60c)](/\{\{([^}]+)\}\}/g,(_0x310ca1,_0x54bd64)=>_0x2bdc5e[_0x54bd64]||'');}['replaceVariablesInObject'](_0x2f3d66,_0x494b05){const _0x41ffe0=a0_0xf534fa;for(let _0x4c6b8e in _0x2f3d66)typeof _0x2f3d66[_0x4c6b8e]==_0x41ffe0(0x3dd)?_0x2f3d66[_0x4c6b8e]=this[_0x41ffe0(0x235)](_0x2f3d66[_0x4c6b8e],_0x494b05):typeof _0x2f3d66[_0x4c6b8e]==_0x41ffe0(0x71e)&&this['replaceVariablesInObject'](_0x2f3d66[_0x4c6b8e],_0x494b05);}async['goNextblock'](_0x52865d,_0x3da5dc){const _0x4f16ba=a0_0xf534fa;let _0x34076e=_0x3da5dc[_0x4f16ba(0x656)];if(_0x52865d['chatLog']&&_0x52865d['chatLog']['blockLogs']){let _0x2cede8=_0x52865d[_0x4f16ba(0x1cf)]['blockLogs'][_0x4f16ba(0x5d3)](_0x5e8db0=>String(_0x5e8db0[_0x4f16ba(0x8e3)])===String(_0x34076e))['pop']();if(_0x2cede8&&_0x2cede8['error']&&_0x3da5dc['stopIfLastReturnedError'])return _0x52865d[_0x4f16ba(0x2d2)]='closed',await this[_0x4f16ba(0x2ee)](_0x52865d),null;}if(_0x3da5dc[_0x4f16ba(0x20f)]===_0x4f16ba(0x2cf)&&_0x3da5dc[_0x4f16ba(0x2cf)]['command']===_0x4f16ba(0x514)&&_0x52865d['waitingMenu_id'])return _0x52865d['chatLog'][_0x4f16ba(0x353)]=_0x34076e,await this[_0x4f16ba(0x2ee)](_0x52865d),null;let _0x1a146c=await this[_0x4f16ba(0x77f)](_0x52865d);if(_0x52865d[_0x4f16ba(0x1cf)]&&_0x52865d[_0x4f16ba(0x1cf)]['blockLogs']){let _0x40d959=_0x52865d[_0x4f16ba(0x1cf)][_0x4f16ba(0x4d6)]['filter'](_0x4c69b9=>String(_0x4c69b9['blockId'])===String(_0x34076e))[_0x4f16ba(0x847)];if(_0x3da5dc[_0x4f16ba(0x306)]!==void 0x0&&_0x40d959>=_0x3da5dc['maxActives']){let _0x473089=Date['now'](),_0xc3efbf=_0x3da5dc['stopMinutesMaxActives']??0xa;isNaN(_0xc3efbf)&&(_0xc3efbf=0xa);let _0x4662b9=_0x473089+_0xc3efbf*0x3c*0x3e8,_0x213f51={'newStoppedUntil':_0x4662b9};return this[_0x4f16ba(0x85a)](_0x52865d,_0x4662b9),this['updateConversation'](_0x52865d,_0x3da5dc,_0x213f51,!0x0),null;}}_0x1a146c&&_0x1a146c['type']!=='save'&&await this['processblock'](_0x52865d,_0x1a146c),_0x1a146c||await this['saveConversationToDatabase'](_0x52865d),_0x1a146c&&_0x1a146c['type']===_0x4f16ba(0x5b4)&&(_0x52865d[_0x4f16ba(0x1cf)][_0x4f16ba(0x353)]=_0x34076e,await this['saveConversationToDatabase'](_0x52865d));}async[a0_0xf534fa(0x268)](_0x5a7e0c,_0x5c5f96){const _0x2e9886=a0_0xf534fa;try{let _0x3515e5=_0x5c5f96['type'];this[_0x2e9886(0x4e3)][_0x2e9886(0x6f6)](this[_0x2e9886(0x653)]+'\x20('+this[_0x2e9886(0x47a)]['wuid']+'):\x20Going\x20to\x20'+_0x3515e5);let _0x138f45={'uazapi':()=>this[_0x2e9886(0x6e1)](_0x5a7e0c,_0x5c5f96),'save':()=>this[_0x2e9886(0x30b)](_0x5a7e0c,_0x5c5f96),'stop':()=>this[_0x2e9886(0x528)](_0x5a7e0c,_0x5c5f96),'condition':()=>this['processConditions'](_0x5a7e0c,_0x5c5f96),'varedit':()=>this[_0x2e9886(0x1aa)](_0x5a7e0c,_0x5c5f96),'apirequest':()=>this[_0x2e9886(0x2f5)](_0x5a7e0c,_0x5c5f96),'goToFlow':()=>this[_0x2e9886(0x778)](_0x5a7e0c,_0x5c5f96),'scheduleFlow':()=>this['processScheduleFlow'](_0x5a7e0c,_0x5c5f96),'awaitSeconds':()=>this[_0x2e9886(0x798)](_0x5a7e0c,_0x5c5f96),'clearVariables':()=>this[_0x2e9886(0x8af)](_0x5a7e0c,_0x5c5f96)}[_0x3515e5];_0x138f45&&await _0x138f45();}catch(_0x4e89b7){this[_0x2e9886(0x4e3)]['error'](this[_0x2e9886(0x653)]+'\x20('+this[_0x2e9886(0x47a)]['wuid']+_0x2e9886(0x217)+(_0x4e89b7 instanceof Error?_0x4e89b7[_0x2e9886(0x6c6)]:JSON['stringify'](_0x4e89b7,null,0x2)));}}async[a0_0xf534fa(0x798)](_0xfcc192,_0x290087){const _0x3fc385=a0_0xf534fa;if(this['logger']['verbose'](this[_0x3fc385(0x653)]+'\x20('+this['instance']['wuid']+_0x3fc385(0x8cf)),!_0xfcc192||!_0x290087)return this['logger'][_0x3fc385(0x1c2)](this[_0x3fc385(0x653)]+'\x20('+this[_0x3fc385(0x47a)][_0x3fc385(0x5a4)]+_0x3fc385(0x209)),null;let _0x5676e7=+_0x290087['awaitSeconds'];isNaN(_0x5676e7)&&(_0x5676e7=0x0),_0x5676e7=Math[_0x3fc385(0x5f3)](_0x5676e7,0x3c),await(0x0,w[_0x3fc385(0x779)])(_0x5676e7*0x3e8);let _0x35b2b4={'moreLogs':['Pausado\x20por\x20'+_0x5676e7+'\x20segundos']};return await this[_0x3fc385(0x7cd)](_0xfcc192,_0x290087,_0x35b2b4),_0x5676e7;}async[a0_0xf534fa(0x8af)](_0x51f197,_0x2fa775){const _0x45d30e=a0_0xf534fa;if(this[_0x45d30e(0x4e3)]['verbose'](this[_0x45d30e(0x653)]+'\x20('+this['instance'][_0x45d30e(0x5a4)]+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x51f197||!_0x2fa775)return this[_0x45d30e(0x4e3)][_0x45d30e(0x1c2)](this[_0x45d30e(0x653)]+'\x20('+this[_0x45d30e(0x47a)][_0x45d30e(0x5a4)]+_0x45d30e(0x209)),null;let _0x19e2fd=[];if(_0x2fa775[_0x45d30e(0x63b)]['trim']()===_0x45d30e(0x41f)){let _0x148e27=[_0x45d30e(0x49c),'_pushName',_0x45d30e(0x3a3),_0x45d30e(0x41c),'_remoteJid','_id',_0x45d30e(0x8b8)];_0x19e2fd=Object[_0x45d30e(0x725)](_0x51f197['chatLog'][_0x45d30e(0x466)])[_0x45d30e(0x5d3)](_0x4a0e93=>_0x4a0e93[_0x45d30e(0x854)]('_')&&!_0x148e27[_0x45d30e(0x89d)](_0x4a0e93));}else _0x19e2fd=_0x2fa775['clearVariables'][_0x45d30e(0x520)]('|')['map'](_0x4f428b=>(_0x4f428b=_0x4f428b[_0x45d30e(0x60c)](/[{}]/g,'')['trim'](),_0x4f428b[_0x45d30e(0x854)]('_')?_0x4f428b:'_'+_0x4f428b));let _0x80c1e=[];_0x19e2fd['forEach'](_0x12e90b=>{const _0x3eebd2=_0x45d30e;_0x12e90b in _0x51f197['chatLog'][_0x3eebd2(0x466)]&&(delete _0x51f197[_0x3eebd2(0x1cf)][_0x3eebd2(0x466)][_0x12e90b],_0x80c1e[_0x3eebd2(0x1a2)](_0x12e90b));}),_0x80c1e[_0x45d30e(0x847)]>0x0?this[_0x45d30e(0x4e3)][_0x45d30e(0x6f6)](this[_0x45d30e(0x653)]+'\x20('+this[_0x45d30e(0x47a)][_0x45d30e(0x5a4)]+_0x45d30e(0x20c)+_0x80c1e[_0x45d30e(0x48a)](',\x20')):this['logger'][_0x45d30e(0x6f6)](this['instanceName']+'\x20('+this[_0x45d30e(0x47a)][_0x45d30e(0x5a4)]+_0x45d30e(0x2cb));let _0x34aa42={'moreLogs':[_0x45d30e(0x631)+_0x80c1e[_0x45d30e(0x48a)](',\x20')]};return await this[_0x45d30e(0x7cd)](_0x51f197,_0x2fa775,_0x34aa42),null;}async[a0_0xf534fa(0x2df)](_0x4f274e,_0x39fcdb){const _0x1210eb=a0_0xf534fa;if(this['logger'][_0x1210eb(0x6f6)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1210eb(0x362)),!_0x4f274e||!_0x39fcdb)return this[_0x1210eb(0x4e3)]['error'](this[_0x1210eb(0x653)]+'\x20('+this[_0x1210eb(0x47a)]['wuid']+_0x1210eb(0x209)),null;let _0xf6f4ea=_0x4f274e[_0x1210eb(0x281)];_0x39fcdb[_0x1210eb(0x3ac)][_0x1210eb(0x281)]&&_0x39fcdb[_0x1210eb(0x3ac)][_0x1210eb(0x281)][_0x1210eb(0x4fb)]()!==''&&(_0xf6f4ea=_0x39fcdb[_0x1210eb(0x2cf)][_0x1210eb(0x281)][_0x1210eb(0x4fb)]());let _0x2b4d6b=_0x39fcdb['scheduleFlow']['timeInMinutes']*0xea60,_0x5b35a7=Date[_0x1210eb(0x694)]()+_0x2b4d6b,_0x5af957={'status':'scheduled','info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0x4f274e['name'],'remoteJids':[_0xf6f4ea],'when':_0x5b35a7,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x1210eb(0x66e),'flowName':_0x39fcdb[_0x1210eb(0x3ac)][_0x1210eb(0x6a2)]};this[_0x1210eb(0x203)](_0x5af957);let _0x2f9cd3=await this[_0x1210eb(0x77f)](_0x4f274e);_0x2f9cd3&&await this[_0x1210eb(0x268)](_0x4f274e,_0x2f9cd3);}async[a0_0xf534fa(0x778)](_0x4d07f9,_0x5ac4cf){const _0x765f4e=a0_0xf534fa;if(this[_0x765f4e(0x4e3)][_0x765f4e(0x6f6)](this[_0x765f4e(0x653)]+'\x20('+this['instance'][_0x765f4e(0x5a4)]+_0x765f4e(0x76c)),!_0x4d07f9||!_0x5ac4cf)return this[_0x765f4e(0x4e3)]['error'](this[_0x765f4e(0x653)]+'\x20('+this['instance']['wuid']+_0x765f4e(0x209)),null;await this[_0x765f4e(0x7cd)](_0x4d07f9,_0x5ac4cf,{},!0x0,!0x0);let _0x6ca8a9=_0x5ac4cf[_0x765f4e(0x1e2)];_0x4d07f9=await this[_0x765f4e(0x6a3)](_0x6ca8a9,_0x4d07f9[_0x765f4e(0x281)],_0x4d07f9[_0x765f4e(0x1cf)][_0x765f4e(0x466)]);let _0xe9b501=await this[_0x765f4e(0x77f)](_0x4d07f9);_0xe9b501&&await this[_0x765f4e(0x268)](_0x4d07f9,_0xe9b501);}async['createConversationforgoToFlow'](_0x198f10,_0x48af08,_0x4eb569){const _0x30cf1d=a0_0xf534fa;this[_0x30cf1d(0x4e3)][_0x30cf1d(0x6f6)](this['instanceName']+'\x20('+this[_0x30cf1d(0x47a)][_0x30cf1d(0x5a4)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{let _0x35a996=this['AutomateSystem'][_0x30cf1d(0x390)][_0x30cf1d(0x525)](_0x2dd1f7=>_0x2dd1f7[_0x30cf1d(0x656)]===_0x198f10);_0x35a996||this['logger']['error'](this[_0x30cf1d(0x653)]+'\x20('+this[_0x30cf1d(0x47a)][_0x30cf1d(0x5a4)]+_0x30cf1d(0x790)+_0x198f10+'\x27\x20não\x20encontrado\x20na\x20memória');let _0x129f8e=await this[_0x30cf1d(0x7ea)][_0x30cf1d(0x66e)][_0x30cf1d(0x3b6)]({'where':{'_id':_0x35a996[_0x30cf1d(0x656)]}});if(!_0x129f8e||!_0x129f8e[_0x30cf1d(0x3b2)]?.['includes'](this[_0x30cf1d(0x47a)]['wuid']))throw this[_0x30cf1d(0x4e3)][_0x30cf1d(0x1c2)](this[_0x30cf1d(0x653)]+'\x20('+this[_0x30cf1d(0x47a)][_0x30cf1d(0x5a4)]+_0x30cf1d(0x790)+_0x198f10+_0x30cf1d(0x21c)),new m(_0x30cf1d(0x475)+_0x198f10+_0x30cf1d(0x21c));let _0x56e156=require(_0x30cf1d(0x42c))[_0x30cf1d(0x8b4)],_0xdd8503=Date[_0x30cf1d(0x694)](),_0xa70d6e='start',_0x4063c0={},_0x8cf584={},_0x47f372=this[_0x30cf1d(0x877)][_0x30cf1d(0x390)]['find'](_0x2a8ff1=>_0x2a8ff1[_0x30cf1d(0x656)]===_0x129f8e[_0x30cf1d(0x656)]?.[_0x30cf1d(0x7f7)]()),_0x2a27b0=_0x47f372?.['minutesToClose']??_0x129f8e[_0x30cf1d(0x575)]??0x0,_0xfdc345=_0x47f372?.[_0x30cf1d(0x413)]??_0x129f8e['readMessages']??!0x1,_0x5db130={'flowId':_0x35a996['_id'],'readMessages':_0x35a996[_0x30cf1d(0x413)],..._0x129f8e,'chatLog':null},_0x106da4={'lastReceivedMessage':_0x4063c0,'lastSendMessage':_0x8cf584,'lastBlockId':_0xa70d6e,'lastCondition':!0x0,'realVariables':_0x4eb569};_0x5db130[_0x30cf1d(0x1cf)]=_0x106da4,_0x5db130[_0x30cf1d(0x1cf)][_0x30cf1d(0x466)]={..._0x4eb569},delete _0x5db130[_0x30cf1d(0x656)],_0x5db130[_0x30cf1d(0x656)]=new _0x56e156(),_0x5db130[_0x30cf1d(0x857)]=_0xdd8503,_0x5db130[_0x30cf1d(0x2d2)]=_0x30cf1d(0x441),_0x5db130[_0x30cf1d(0x281)]=_0x48af08,_0x5db130[_0x30cf1d(0x575)]=_0x2a27b0,_0x5db130['readMessages']=_0xfdc345;let _0x14f0bb=await this['repository'][_0x30cf1d(0x2ce)][_0x30cf1d(0x21a)](_0x5db130['_id'],_0x5db130,this[_0x30cf1d(0x47a)][_0x30cf1d(0x5a4)]);return this[_0x30cf1d(0x4e3)][_0x30cf1d(0x6f6)](this[_0x30cf1d(0x653)]+'\x20('+this[_0x30cf1d(0x47a)]['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x14f0bb?_0x5db130:null;}catch(_0x5f3a84){let _0x3db2a7=_0x30cf1d(0x704),_0xd9d619=_0x5f3a84 instanceof Error?_0x5f3a84[_0x30cf1d(0x6c6)]:typeof _0x5f3a84==_0x30cf1d(0x71e)?JSON[_0x30cf1d(0x6f0)](_0x5f3a84):_0x5f3a84,_0x1f26f6=_0x3db2a7+':\x20'+_0xd9d619;throw this['logger']['error'](this[_0x30cf1d(0x653)]+'\x20('+this[_0x30cf1d(0x47a)][_0x30cf1d(0x5a4)]+_0x30cf1d(0x43f)+_0x1f26f6),new m(_0x1f26f6);}}async[a0_0xf534fa(0x2f5)](_0x83f9e9,_0x43307d){const _0x253907=a0_0xf534fa;let _0x142bcb,_0x17788c;try{let _0x328880=_0x43307d[_0x253907(0x743)];if(!_0x328880||!_0x328880[_0x253907(0x893)]||!_0x328880[_0x253907(0x214)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x29c025;([_0x253907(0x561),_0x253907(0x251),_0x253907(0x7c0)][_0x253907(0x7a7)](_0x4ac7df=>_0x328880[_0x253907(0x893)][_0x253907(0x89d)](_0x4ac7df))||_0x328880[_0x253907(0x6e4)])&&(_0x29c025='arraybuffer');let _0xd128f4='\u205f',_0x347d03;try{_0x347d03=JSON[_0x253907(0x845)](_0x328880[_0x253907(0x730)][_0x253907(0x60c)](new RegExp(_0xd128f4,'g'),''));}catch(_0x3a78a6){throw _0x3a78a6;}let _0x194ebc={'method':_0x328880[_0x253907(0x214)],'url':_0x328880[_0x253907(0x893)],'headers':_0x328880[_0x253907(0x1fe)]||{},..._0x328880['method']['toUpperCase']()!==_0x253907(0x611)&&_0x328880[_0x253907(0x730)]?{'data':JSON['parse'](_0x328880[_0x253907(0x730)][_0x253907(0x60c)](new RegExp(_0xd128f4,'g'),''))}:{},..._0x29c025&&{'responseType':_0x29c025}},_0x1ca137=await(0x0,Q['default'])(_0x194ebc),_0x401182=_0x1ca137[_0x253907(0x318)]['content-type'];if(_0x401182&&_0x401182['includes'](_0x253907(0x4db))||typeof _0x1ca137[_0x253907(0x4e2)]==_0x253907(0x3dd)){if(typeof _0x1ca137[_0x253907(0x4e2)]==_0x253907(0x3dd)){let _0x1ac2aa=_0x1ca137[_0x253907(0x4e2)][_0x253907(0x60c)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x253907(0x4fb)]();try{_0x142bcb=JSON['parse'](_0x1ac2aa);}catch(_0x3fddf0){this[_0x253907(0x4e3)][_0x253907(0x1c2)]('Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20'+_0x3fddf0[_0x253907(0x6c6)]),_0x142bcb={'_apiResponse':_0x1ca137[_0x253907(0x4e2)]};}}else _0x142bcb=_0x1ca137[_0x253907(0x4e2)];let _0x2a2b7e=_0x83f9e9['chatLog'][_0x253907(0x466)],_0x402d76=this['flattenObject'](_0x142bcb);return Object['assign'](_0x2a2b7e,_0x402d76),_0x83f9e9['chatLog']['realVariables']=_0x2a2b7e,_0x17788c={'error':!0x1,'apiResponse':_0x142bcb},this[_0x253907(0x7cd)](_0x83f9e9,_0x43307d,_0x17788c),_0x142bcb;}if(_0x401182&&(_0x401182[_0x253907(0x89d)](_0x253907(0x395))||_0x401182['includes'](_0x253907(0x35b))||_0x401182[_0x253907(0x89d)](_0x253907(0x1b7))||_0x401182[_0x253907(0x89d)]('video'))){this[_0x253907(0x4e3)][_0x253907(0x6f6)](this[_0x253907(0x653)]+'\x20('+this[_0x253907(0x47a)][_0x253907(0x5a4)]+_0x253907(0x373)+_0x401182);let _0x45e32a=(0x0,Y['v4'])(),_0x1b90cd='',_0x56f734={'image/jpeg':_0x253907(0x5b0),'image/png':_0x253907(0x44f),'image/gif':'.gif','image/webp':_0x253907(0x336),'image/svg+xml':_0x253907(0x41e),'audio/mpeg':_0x253907(0x30e),'audio/ogg':_0x253907(0x50a),'audio/wav':_0x253907(0x421),'video/mp4':_0x253907(0x3d9),'video/webm':_0x253907(0x722),'video/ogg':'.ogv','text/plain':_0x253907(0x74e),'application/pdf':_0x253907(0x1da),'application/msword':_0x253907(0x7f5),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x253907(0x485),'application/vnd.ms-excel':_0x253907(0x8a1),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x253907(0x462),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x253907(0x446)};_0x56f734[_0x401182]?(_0x1b90cd=_0x56f734[_0x401182],this[_0x253907(0x4e3)][_0x253907(0x6f6)](this[_0x253907(0x653)]+'\x20('+this[_0x253907(0x47a)][_0x253907(0x5a4)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x1b90cd)):(_0x1b90cd=_0x253907(0x484),this['logger'][_0x253907(0x6f6)](this[_0x253907(0x653)]+'\x20('+this[_0x253907(0x47a)]['wuid']+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x1b90cd)),_0x45e32a+=_0x1b90cd,this[_0x253907(0x4e3)][_0x253907(0x6f6)](this[_0x253907(0x653)]+'\x20('+this['instance'][_0x253907(0x5a4)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x45e32a);let _0x54447f=this[_0x253907(0x7dd)][_0x253907(0x71f)](_0x253907(0x69e))[_0x253907(0x1ef)];if(!_0x54447f){let _0x115ec1=this[_0x253907(0x7dd)]['get'](_0x253907(0x2ae));_0x54447f=_0x253907(0x338)+(_0x115ec1&&_0x115ec1[_0x253907(0x431)][_0x253907(0x520)]('/')[0x4]);}let _0x11ad4e=Buffer[_0x253907(0x831)](_0x1ca137[_0x253907(0x4e2)]);await this[_0x253907(0x86a)](_0x11ad4e,_0x45e32a);let _0x5ee02a='/media/'+_0x45e32a;_0x5ee02a=''+_0x54447f+_0x5ee02a,_0x142bcb={'fileUrl':_0x5ee02a},_0x83f9e9[_0x253907(0x1cf)][_0x253907(0x466)][_0x253907(0x1b5)]=_0x5ee02a;let _0x77aee1=_0x83f9e9['chatLog'][_0x253907(0x466)],_0x747ea6=this[_0x253907(0x4cc)](_0x142bcb);return Object['assign'](_0x77aee1,_0x747ea6),_0x83f9e9[_0x253907(0x1cf)][_0x253907(0x466)]=_0x77aee1,_0x17788c={'error':!0x1,'apiResponse':{'fileUrl':_0x5ee02a}},this[_0x253907(0x7cd)](_0x83f9e9,_0x43307d,_0x17788c),_0x142bcb;}}catch(_0x5cc31e){this[_0x253907(0x4e3)][_0x253907(0x1c2)](_0x253907(0x71d)+_0x5cc31e[_0x253907(0x6c6)]),_0x5cc31e['response']&&(_0x142bcb=_0x5cc31e['response']['data']);let _0x5b13b0=_0x83f9e9[_0x253907(0x1cf)]['realVariables'],_0x5c84f9=this[_0x253907(0x4cc)](_0x142bcb);return Object[_0x253907(0x629)](_0x5b13b0,_0x5c84f9),_0x83f9e9[_0x253907(0x1cf)]['realVariables']=_0x5b13b0,_0x17788c={'error':!0x0,'errorLog':_0x5cc31e['toString'](),'apiResponse':_0x142bcb},this[_0x253907(0x7cd)](_0x83f9e9,_0x43307d,_0x17788c),{'success':!0x1};}}['applyvaredit'](_0x25602b,_0x4614bd){const _0x3ce0ad=a0_0xf534fa;let _0x18cfcc=_0x48b451=>{const _0x2824bb=a0_0x1d3d;let _0x46bd76=_0x48b451[_0x2824bb(0x60c)](/[^0-9.,-]/g,'')[_0x2824bb(0x60c)](',','.'),_0x27c17d=parseFloat(_0x46bd76);return isNaN(_0x27c17d)?null:_0x27c17d;},_0x26a0cf=_0x4614bd[_0x3ce0ad(0x60a)],_0x182d8a=_0x4614bd[_0x3ce0ad(0x349)];typeof _0x26a0cf==_0x3ce0ad(0x3dd)&&(_0x26a0cf=this[_0x3ce0ad(0x235)](_0x26a0cf,_0x25602b[_0x3ce0ad(0x1cf)][_0x3ce0ad(0x466)])??''),typeof _0x182d8a==_0x3ce0ad(0x3dd)&&(_0x182d8a=this['replaceVariables'](_0x182d8a,_0x25602b['chatLog'][_0x3ce0ad(0x466)])??'');let _0x3255f1=null;if(!_0x4614bd[_0x3ce0ad(0x3de)])return null;switch(this['logger']['verbose'](this[_0x3ce0ad(0x653)]+'\x20('+this[_0x3ce0ad(0x47a)]['wuid']+_0x3ce0ad(0x69b)+_0x26a0cf),this[_0x3ce0ad(0x4e3)][_0x3ce0ad(0x6f6)](this['instanceName']+'\x20('+this['instance'][_0x3ce0ad(0x5a4)]+_0x3ce0ad(0x721)+_0x182d8a),_0x4614bd[_0x3ce0ad(0x3de)]){case'+':case'-':case'*':case'/':let _0x47746c=_0x18cfcc(_0x26a0cf||'0'),_0x5bb28b=_0x18cfcc(_0x182d8a||'0');if(_0x47746c===null)return null;switch(_0x4614bd[_0x3ce0ad(0x3de)]){case'+':_0x3255f1=_0x47746c+(_0x5bb28b??0x0);break;case'-':_0x3255f1=_0x47746c-(_0x5bb28b??0x0);break;case'*':_0x3255f1=_0x47746c*(_0x5bb28b??0x1);break;case'/':_0x5bb28b!==0x0&&(_0x3255f1=_0x47746c/(_0x5bb28b??0x1));break;}break;case _0x3ce0ad(0x54f):case _0x3ce0ad(0x86f):let _0x1fabfb=_0x182d8a,_0x5c97a4=_0x4614bd[_0x3ce0ad(0x68e)];if(typeof _0x5c97a4==_0x3ce0ad(0x3dd)&&(_0x5c97a4=this['replaceVariables'](_0x5c97a4,_0x25602b[_0x3ce0ad(0x1cf)][_0x3ce0ad(0x466)])??''),_0x1fabfb&&_0x5c97a4!==void 0x0){let _0x5a62d2=_0x4614bd['editOperator']==='findAndReplace'?new RegExp(_0x1fabfb[_0x3ce0ad(0x60c)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x1fabfb,'g');_0x3255f1=_0x26a0cf[_0x3ce0ad(0x60c)](_0x5a62d2,_0x5c97a4);}else console[_0x3ce0ad(0x193)](_0x3ce0ad(0x285));break;case _0x3ce0ad(0x555):_0x3255f1=_0x182d8a;break;case'extractRegex':let _0x4e4bde=_0x26a0cf['match'](new RegExp(_0x182d8a||''));_0x3255f1=_0x4e4bde?_0x4e4bde[0x0]:'';break;case _0x3ce0ad(0x75b):_0x3255f1=_0x26a0cf['slice'](0x0,parseInt(_0x182d8a||'0'));break;case _0x3ce0ad(0x8dc):let _0x225c2c=parseInt(_0x182d8a||'0');_0x3255f1=_0x26a0cf['slice'](_0x26a0cf[_0x3ce0ad(0x847)]-_0x225c2c);break;case _0x3ce0ad(0x872):let _0x5017b4=_0x18cfcc(_0x26a0cf),_0x20dfc6=parseInt(_0x182d8a||'0');_0x20dfc6=Math[_0x3ce0ad(0x7ca)](_0x20dfc6),_0x5017b4!==null?_0x3255f1=_0x5017b4[_0x3ce0ad(0x3ab)](_0x3ce0ad(0x7a6),{'minimumFractionDigits':_0x20dfc6,'maximumFractionDigits':_0x20dfc6}):(console[_0x3ce0ad(0x193)](_0x3ce0ad(0x839)+_0x26a0cf),_0x3255f1=null);break;case _0x3ce0ad(0x84c):let _0x4e6d3e=_0x18cfcc(_0x26a0cf);_0x4e6d3e!==null?_0x3255f1=_0x4e6d3e['toLocaleString'](_0x3ce0ad(0x7a6),{'style':_0x3ce0ad(0x5b2),'currency':_0x3ce0ad(0x4bf)}):(console['warn'](_0x3ce0ad(0x4f0)+_0x26a0cf),_0x3255f1=null);break;case _0x3ce0ad(0x298):_0x3255f1=_0x26a0cf['toUpperCase']();break;case'lowerCase':_0x3255f1=_0x26a0cf[_0x3ce0ad(0x1cd)]();break;case'capitalizedWords':_0x3255f1=_0x26a0cf[_0x3ce0ad(0x520)]('\x20')[_0x3ce0ad(0x445)](_0x1b2c06=>_0x1b2c06[_0x3ce0ad(0x864)](0x0)['toUpperCase']()+_0x1b2c06[_0x3ce0ad(0x2f2)](0x1)[_0x3ce0ad(0x1cd)]())[_0x3ce0ad(0x48a)]('\x20');break;case _0x3ce0ad(0x5d9):_0x3255f1=JSON[_0x3ce0ad(0x6f0)](_0x26a0cf);break;case _0x3ce0ad(0x1e8):_0x3255f1=_0x26a0cf['trim']();break;default:_0x3255f1=_0x26a0cf;}return _0x3255f1!==null?_0x3255f1[_0x3ce0ad(0x7f7)]():null;}async[a0_0xf534fa(0x1aa)](_0x3a62b6,_0x14521c){const _0x33ca56=a0_0xf534fa;try{let _0x46b287=_0x3a62b6[_0x33ca56(0x43e)]?.[_0x33ca56(0x5d3)](_0x48fdfa=>_0x48fdfa['blockId']===_0x14521c[_0x33ca56(0x656)]?.[_0x33ca56(0x7f7)]())||[],_0xa8723a=_0x14521c[_0x33ca56(0x89e)],_0x438407=null,_0x369a0e=[],_0x2e94ce=_0x3a62b6['chatLog'][_0x33ca56(0x466)][_0xa8723a];_0x369a0e[_0x33ca56(0x1a2)](_0x33ca56(0x72d)+_0x2e94ce+'\x22');for(let _0xf652a2 of _0x46b287){_0xf652a2[_0x33ca56(0x60a)]=_0x2e94ce,_0x438407=_0xf652a2['firstValue'];let _0x29207e;try{_0x29207e=this[_0x33ca56(0x433)](_0x3a62b6,_0xf652a2);}catch(_0x539cdf){this[_0x33ca56(0x4e3)][_0x33ca56(0x1c2)](_0x33ca56(0x1f1)+_0x539cdf[_0x33ca56(0x6c6)]);continue;}if(_0x29207e!==null){let _0x4a53ae=_0x33ca56(0x87c)+_0xf652a2[_0x33ca56(0x3de)]+'\x22',_0x3ca2e7=[_0x33ca56(0x84c),_0x33ca56(0x298),'lowerCase',_0x33ca56(0x360),_0x33ca56(0x1e8)];_0xf652a2['editOperator']===_0x33ca56(0x54f)||_0xf652a2[_0x33ca56(0x3de)]===_0x33ca56(0x86f)?_0x4a53ae+=_0x33ca56(0x616)+_0xf652a2['secondValue']+_0x33ca56(0x47c)+_0xf652a2[_0x33ca56(0x68e)]+'\x22':!_0x3ca2e7['includes'](_0xf652a2[_0x33ca56(0x3de)])&&_0xf652a2['secondValue']!==null&&_0xf652a2[_0x33ca56(0x349)]!==void 0x0&&(_0x4a53ae+=_0x33ca56(0x4ca)+_0xf652a2[_0x33ca56(0x349)]+'\x22'),_0x4a53ae+=_0x33ca56(0x615)+_0x29207e+'.',_0x369a0e['push'](_0x4a53ae);}_0x29207e!==null&&(_0x2e94ce=_0x29207e);}if(_0x3a62b6[_0x33ca56(0x1cf)]['realVariables']&&_0x14521c[_0x33ca56(0x89e)]){_0x3a62b6[_0x33ca56(0x1cf)][_0x33ca56(0x466)][_0x14521c[_0x33ca56(0x89e)]]=_0x2e94ce;let _0x14a422={'variable':_0x14521c[_0x33ca56(0x89e)],'oldValue':_0x438407,'newValue':_0x2e94ce,'moreLogs':_0x369a0e};try{this[_0x33ca56(0x7cd)](_0x3a62b6,_0x14521c,_0x14a422);}catch(_0x59a633){this[_0x33ca56(0x4e3)][_0x33ca56(0x1c2)](_0x33ca56(0x61b)+_0x59a633[_0x33ca56(0x6c6)]);}}return _0xa8723a;}catch(_0x37743a){return this[_0x33ca56(0x4e3)][_0x33ca56(0x1c2)](_0x33ca56(0x6bc)+_0x37743a[_0x33ca56(0x6c6)]),null;}}async[a0_0xf534fa(0x5c2)](_0x5e4ba4,_0x4543ac){const _0x31ccb2=a0_0xf534fa;try{let _0xc37a8d=[],_0x34f561=_0x5e4ba4['conditions'][_0x31ccb2(0x5d3)](_0x1f03b9=>_0x1f03b9[_0x31ccb2(0x8e3)]===_0x4543ac[_0x31ccb2(0x656)][_0x31ccb2(0x7f7)]()),_0xbd72df=null,_0x4d7fc7=!0x1;for(let _0x14fed1 of _0x34f561){let _0x261a9d=this['evaluateCondition'](_0x5e4ba4,_0x14fed1);_0xc37a8d[_0x31ccb2(0x1a2)](_0x31ccb2(0x822)+_0x14fed1[_0x31ccb2(0x60a)]+_0x31ccb2(0x396)+_0x14fed1[_0x31ccb2(0x482)]+_0x31ccb2(0x473)+_0x14fed1[_0x31ccb2(0x349)]+_0x31ccb2(0x5b7)+_0x261a9d),_0xbd72df===null?_0xbd72df=_0x261a9d:_0x14fed1[_0x31ccb2(0x418)]===_0x31ccb2(0x7ce)?(_0xbd72df=_0xbd72df&&_0x261a9d,_0x261a9d||(_0x4d7fc7=!0x0)):_0x14fed1['OrAnd']==='or'&&(_0x4d7fc7||(_0xbd72df=_0xbd72df||_0x261a9d));}_0xbd72df===null&&(_0xbd72df=!0x0);let _0x2ee248={'moreLogs':_0xc37a8d};_0x5e4ba4[_0x31ccb2(0x1cf)]['lastCondition']=_0xbd72df,await this[_0x31ccb2(0x7cd)](_0x5e4ba4,_0x4543ac,_0x2ee248);}catch(_0x228604){this[_0x31ccb2(0x4e3)][_0x31ccb2(0x1c2)](this[_0x31ccb2(0x653)]+'\x20('+this[_0x31ccb2(0x47a)][_0x31ccb2(0x5a4)]+_0x31ccb2(0x8d3)+(_0x228604 instanceof Error?_0x228604[_0x31ccb2(0x6c6)]:JSON['stringify'](_0x228604,null,0x2)));}}[a0_0xf534fa(0x8b7)](_0x4e66e1,_0x216477){const _0x3848f0=a0_0xf534fa;let _0x2c1b8a=_0x216477['firstValue'],_0x364201=_0x216477[_0x3848f0(0x349)];typeof _0x2c1b8a==_0x3848f0(0x3dd)&&(_0x2c1b8a=this['replaceVariables'](_0x2c1b8a,_0x4e66e1[_0x3848f0(0x1cf)]['realVariables'])??''),typeof _0x364201==_0x3848f0(0x3dd)&&(_0x364201=this[_0x3848f0(0x235)](_0x364201,_0x4e66e1['chatLog']['realVariables'])??'');try{switch(_0x216477[_0x3848f0(0x482)]){case'equal':return _0x2c1b8a===_0x364201;case'notEqual':return _0x2c1b8a!==_0x364201;case'contains':return this[_0x3848f0(0x7fa)](_0x2c1b8a,_0x364201);case'notContains':return!this[_0x3848f0(0x7fa)](_0x2c1b8a,_0x364201);case'greater':return parseFloat(_0x2c1b8a)>parseFloat(_0x364201);case'less':return parseFloat(_0x2c1b8a)<parseFloat(_0x364201);case _0x3848f0(0x1ed):return _0x2c1b8a!=='';case'empty':return _0x2c1b8a==='';case _0x3848f0(0x8d9):return new RegExp(_0x364201)['test'](_0x2c1b8a);case _0x3848f0(0x291):return!new RegExp(_0x364201)['test'](_0x2c1b8a);default:return!0x1;}}catch(_0xb44f55){return this[_0x3848f0(0x4e3)][_0x3848f0(0x1c2)](_0x3848f0(0x1e6)+_0xb44f55),!0x1;}}[a0_0xf534fa(0x7fa)](_0x2b34cb,_0x1fd96b){const _0x58ace3=a0_0xf534fa;if(_0x2b34cb===_0x1fd96b&&/^\d+$/[_0x58ace3(0x4c2)](_0x2b34cb))return!0x0;if(this[_0x58ace3(0x5b9)](_0x2b34cb)&&/^\d+$/['test'](_0x1fd96b)){let _0x1580ea=_0x2b34cb[_0x58ace3(0x520)](',')['map'](_0x5b52c5=>parseInt(_0x5b52c5[_0x58ace3(0x4fb)]())),_0x23a61f=parseInt(_0x1fd96b);return _0x1580ea[_0x58ace3(0x89d)](_0x23a61f);}return _0x2b34cb[_0x58ace3(0x89d)](_0x1fd96b);}['isListOfNumbers'](_0x3a629c){return/^\d+(,\d+)*$/['test'](_0x3a629c);}['processConditionsTest'](_0x241292){const _0x451daf=a0_0xf534fa;let _0x451bb4=!0x0,_0x4d2d7b=null;for(let _0x562ba7 of _0x241292){let _0x846c63=this[_0x451daf(0x5d7)](_0x562ba7);if(_0x4d2d7b==='or'&&_0x846c63){_0x451bb4=!0x0;break;}if(_0x4d2d7b==='and'&&!_0x846c63){_0x451bb4=!0x1;break;}_0x4d2d7b=_0x562ba7[_0x451daf(0x418)];}return _0x451bb4;}[a0_0xf534fa(0x5d7)](_0x19fbda){const _0x1e41b8=a0_0xf534fa;let _0x1ef2dc=_0x19fbda[_0x1e41b8(0x60a)],_0x3d0ca9=_0x19fbda['secondValue'];try{switch(_0x19fbda['expression']){case _0x1e41b8(0x632):return String(_0x1ef2dc)===String(_0x3d0ca9);case'notEqual':return String(_0x1ef2dc)!==String(_0x3d0ca9);case'contains':return String(_0x1ef2dc)[_0x1e41b8(0x89d)](String(_0x3d0ca9));case _0x1e41b8(0x606):return!String(_0x1ef2dc)[_0x1e41b8(0x89d)](String(_0x3d0ca9));case _0x1e41b8(0x609):return parseFloat(String(_0x1ef2dc))>parseFloat(String(_0x3d0ca9));case _0x1e41b8(0x899):return parseFloat(String(_0x1ef2dc))<parseFloat(String(_0x3d0ca9));case _0x1e41b8(0x1ed):return String(_0x1ef2dc)!=='';case'empty':return String(_0x1ef2dc)==='';case _0x1e41b8(0x8d9):return new RegExp(String(_0x3d0ca9))[_0x1e41b8(0x4c2)](String(_0x1ef2dc));case _0x1e41b8(0x291):return!new RegExp(String(_0x3d0ca9))['test'](String(_0x1ef2dc));default:return!0x1;}}catch(_0x59e769){return this['logger'][_0x1e41b8(0x1c2)](_0x1e41b8(0x1e6)+_0x59e769),!0x1;}}async[a0_0xf534fa(0x30b)](_0x3d11ce,_0x4b1790){const _0x612259=a0_0xf534fa;if(this[_0x612259(0x4e3)][_0x612259(0x6f6)](this[_0x612259(0x653)]+'\x20('+this[_0x612259(0x47a)][_0x612259(0x5a4)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x3d11ce||!_0x4b1790)return this['logger'][_0x612259(0x1c2)](this[_0x612259(0x653)]+'\x20('+this['instance'][_0x612259(0x5a4)]+_0x612259(0x209)),null;let _0x503006=_0x3d11ce[_0x612259(0x1cf)][_0x612259(0x46d)][_0x612259(0x693)]['id'];this[_0x612259(0x4e3)]['verbose'](this[_0x612259(0x653)]+'\x20('+this[_0x612259(0x47a)]['wuid']+'):\x20mediaMessageInfoId\x20:\x20'+_0x503006);let _0x5af17e={'key':{'id':_0x503006}},_0x28e993=_0x4b1790[_0x612259(0x89e)];_0x3d11ce[_0x612259(0x1cf)]['realVariables']['_'+_0x28e993+_0x612259(0x1ca)]=null,_0x3d11ce[_0x612259(0x1cf)][_0x612259(0x466)]['_'+_0x28e993+'.mimetype']=null,_0x3d11ce[_0x612259(0x1cf)][_0x612259(0x466)]['_'+_0x28e993+_0x612259(0x76d)]=null,_0x3d11ce[_0x612259(0x1cf)][_0x612259(0x466)]['_'+_0x28e993+_0x612259(0x4dd)]=_0x3d11ce['chatLog'][_0x612259(0x46d)][_0x612259(0x20f)];try{let _0x5efe64=await this['getBase64FromMediaMessage'](_0x5af17e);this[_0x612259(0x4e3)][_0x612259(0x6f6)](this[_0x612259(0x653)]+'\x20('+this[_0x612259(0x47a)]['wuid']+_0x612259(0x303)),_0x3d11ce['chatLog'][_0x612259(0x466)]['_'+_0x28e993+_0x612259(0x82e)]=_0x5efe64['fileUrl'],_0x3d11ce[_0x612259(0x1cf)][_0x612259(0x466)]['_'+_0x28e993+_0x612259(0x2aa)]=_0x5efe64[_0x612259(0x288)];let _0x424eed=_0x5efe64[_0x612259(0x288)][_0x612259(0x655)](/\/(\w+)$/),_0x895731=_0x424eed?_0x424eed[0x1]:null;_0x3d11ce['chatLog']['realVariables']['_'+_0x28e993+'.extension']=_0x895731,this[_0x612259(0x4e3)][_0x612259(0x6f6)](this[_0x612259(0x653)]+'\x20('+this['instance'][_0x612259(0x5a4)]+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0x28e993+'\x27.');}catch(_0x2d912e){this[_0x612259(0x4e3)][_0x612259(0x1c2)](this[_0x612259(0x653)]+'\x20('+this[_0x612259(0x47a)][_0x612259(0x5a4)]+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20'+_0x2d912e[_0x612259(0x6c6)]);}let _0x3849f1=_0x3d11ce[_0x612259(0x1cf)][_0x612259(0x46d)][_0x612259(0x879)]||_0x3d11ce['chatLog'][_0x612259(0x46d)][_0x612259(0x7b7)]||_0x3d11ce['chatLog'][_0x612259(0x46d)][_0x612259(0x4a7)];try{_0x3d11ce['chatLog'][_0x612259(0x466)]||(_0x3d11ce[_0x612259(0x1cf)]['realVariables']={});let _0x46f981=_0x3d11ce[_0x612259(0x1cf)][_0x612259(0x466)][_0x28e993];_0x3d11ce[_0x612259(0x1cf)][_0x612259(0x466)][_0x28e993]=_0x3849f1;let _0x58d821={'variable':_0x28e993,'oldValue':_0x46f981,'newValue':_0x3849f1};this[_0x612259(0x7cd)](_0x3d11ce,_0x4b1790,_0x58d821),this[_0x612259(0x4e3)][_0x612259(0x6f6)](this[_0x612259(0x653)]+'\x20('+this[_0x612259(0x47a)][_0x612259(0x5a4)]+_0x612259(0x8d7));}catch(_0x205456){let _0x5629b8={'error':!0x0,'errorLog':_0x205456['toString']()};return this[_0x612259(0x7cd)](_0x3d11ce,_0x4b1790,_0x5629b8),this[_0x612259(0x4e3)][_0x612259(0x1c2)](this[_0x612259(0x653)]+'\x20('+this[_0x612259(0x47a)][_0x612259(0x5a4)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x205456 instanceof Error?_0x205456[_0x612259(0x6c6)]:JSON[_0x612259(0x6f0)](_0x205456,null,0x2))),null;}}async[a0_0xf534fa(0x528)](_0xd592cd,_0x268e43){const _0x5b7114=a0_0xf534fa;if(this[_0x5b7114(0x4e3)][_0x5b7114(0x6f6)](this[_0x5b7114(0x653)]+'\x20('+this[_0x5b7114(0x47a)]['wuid']+_0x5b7114(0x1ff)),!_0xd592cd||!_0x268e43)return this[_0x5b7114(0x4e3)]['error'](this[_0x5b7114(0x653)]+'\x20('+this[_0x5b7114(0x47a)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x552feb=Date[_0x5b7114(0x694)](),_0x47ff0b=parseInt(_0x268e43[_0x5b7114(0x226)],0xa);if(isNaN(_0x47ff0b))return this[_0x5b7114(0x4e3)]['error'](this[_0x5b7114(0x653)]+'\x20('+this['instance'][_0x5b7114(0x5a4)]+_0x5b7114(0x39d)),null;let _0x3f148a={'newStoppedUntil':_0x552feb+_0x47ff0b*0x3c*0x3e8};return await this[_0x5b7114(0x7cd)](_0xd592cd,_0x268e43,_0x3f148a,!0x0),null;}async[a0_0xf534fa(0x6e1)](_0x1272c8,_0x1e4916){const _0x8f2fd0=a0_0xf534fa;try{switch(_0x1e4916[_0x8f2fd0(0x2cf)][_0x8f2fd0(0x59b)]){case _0x8f2fd0(0x2ff):await this[_0x8f2fd0(0x52b)](_0x1272c8,_0x1e4916);break;case _0x8f2fd0(0x500):await this['uazapiSendMedia'](_0x1272c8,_0x1e4916);break;case _0x8f2fd0(0x660):await this[_0x8f2fd0(0x3d4)](_0x1272c8,_0x1e4916);break;case _0x8f2fd0(0x27e):await this[_0x8f2fd0(0x4f9)](_0x1272c8,_0x1e4916);break;case _0x8f2fd0(0x22e):await this[_0x8f2fd0(0x242)](_0x1272c8,_0x1e4916);break;case _0x8f2fd0(0x514):await this['uazapiSendMenu'](_0x1272c8,_0x1e4916);break;case _0x8f2fd0(0x8cd):await this[_0x8f2fd0(0x80e)](_0x1272c8,_0x1e4916);break;case _0x8f2fd0(0x724):await this[_0x8f2fd0(0x7fb)](_0x1272c8,_0x1e4916);break;default:this[_0x8f2fd0(0x4e3)][_0x8f2fd0(0x1c2)](this[_0x8f2fd0(0x653)]+'\x20('+this['instance'][_0x8f2fd0(0x5a4)]+_0x8f2fd0(0x672)+_0x1e4916['uazapi'][_0x8f2fd0(0x59b)]);}}catch(_0x58ee75){this['logger'][_0x8f2fd0(0x1c2)](this[_0x8f2fd0(0x653)]+'\x20('+this[_0x8f2fd0(0x47a)][_0x8f2fd0(0x5a4)]+_0x8f2fd0(0x6a7)+(_0x58ee75 instanceof Error?_0x58ee75[_0x8f2fd0(0x6c6)]:JSON[_0x8f2fd0(0x6f0)](_0x58ee75,null,0x2)));}}async[a0_0xf534fa(0x7cd)](_0x20d343,_0x463701,_0x1fc91e,_0x40d8fe=!0x1,_0x24abec=!0x1){const _0x28e418=a0_0xf534fa;_0x20d343[_0x28e418(0x1cf)][_0x28e418(0x4d6)]||(_0x20d343[_0x28e418(0x1cf)]['blockLogs']=[]);let _0xbadf65=(_0x20d343[_0x28e418(0x1cf)][_0x28e418(0x4d6)]?.[_0x28e418(0x847)]??0x0)+0x1,_0x4f9ecc=_0x20d343['chatLog'][_0x28e418(0x4d6)][_0x28e418(0x5d3)](_0x38a796=>String(_0x38a796[_0x28e418(0x8e3)])===String(_0x463701['_id']))[_0x28e418(0x847)]+0x1,_0x4022e0=_0x1fc91e?.[_0x28e418(0x37d)]??Date['now'](),_0x27370c=_0x1fc91e?.[_0x28e418(0x1c2)]?_0x1fc91e[_0x28e418(0x28d)]??_0x1fc91e[_0x28e418(0x1c2)][_0x28e418(0x7f7)]():void 0x0,_0x5cd965={'onTime':_0x4022e0,'blockId':_0x463701[_0x28e418(0x656)],'order':_0xbadf65,'activatedCount':_0x4f9ecc,'error':_0x1fc91e?.[_0x28e418(0x1c2)]??!0x1,'messageId':_0x1fc91e?.[_0x28e418(0x21f)],'apiResponse':_0x1fc91e?.['apiResponse'],'apiResponseString':_0x1fc91e?.[_0x28e418(0x8c4)]?JSON['stringify'](_0x1fc91e?.[_0x28e418(0x8c4)]):void 0x0,'variable':_0x1fc91e?.[_0x28e418(0x241)],'oldValue':_0x1fc91e?.[_0x28e418(0x61f)],'newValue':_0x1fc91e?.['newValue'],'newStoppedUntil':_0x1fc91e?.[_0x28e418(0x2c7)],'moreLogs':_0x1fc91e?.[_0x28e418(0x4de)],'errorLog':_0x27370c};if(_0x1fc91e[_0x28e418(0x4de)]&&_0x1fc91e['moreLogs'][_0x28e418(0x847)]>0x0){let _0x3bc059=_0x1fc91e[_0x28e418(0x4de)][_0x28e418(0x445)](_0x24c5b7=>this[_0x28e418(0x762)](_0x24c5b7,_0x20d343['chatLog'][_0x28e418(0x466)]));_0x5cd965[_0x28e418(0x4de)]=_0x3bc059;}if(_0x20d343['chatLog'][_0x28e418(0x466)]||(_0x20d343[_0x28e418(0x1cf)][_0x28e418(0x466)]={}),_0x20d343['chatLog'][_0x28e418(0x466)][_0x28e418(0x4b4)]=String(_0x4f9ecc),_0x20d343[_0x28e418(0x1cf)][_0x28e418(0x466)]['_error']=String(_0x1fc91e['error']??!0x1),_0x20d343[_0x28e418(0x1cf)][_0x28e418(0x4d6)][_0x28e418(0x1a2)](_0x5cd965),_0x20d343['chatLog'][_0x28e418(0x466)][_0x28e418(0x583)]&&_0x20d343['chatLog'][_0x28e418(0x466)][_0x28e418(0x583)]!==_0x20d343['remoteJid']){let _0x47a34c=(await this['whatsappNumber']({'numbers':[_0x20d343[_0x28e418(0x1cf)][_0x28e418(0x466)][_0x28e418(0x583)]]}))[0x0][_0x28e418(0x47e)];_0x20d343['chatLog'][_0x28e418(0x466)][_0x28e418(0x583)]=_0x47a34c,_0x20d343['remoteJid']=_0x47a34c;try{let _0x48ea76={'_id':{'$ne':_0x20d343[_0x28e418(0x656)]},'remoteJid':_0x47a34c,'status':_0x28e418(0x441)},_0x3494e3={'status':_0x28e418(0x533)};await this[_0x28e418(0x7ea)][_0x28e418(0x2ce)]['updateMany'](_0x48ea76,_0x3494e3,this[_0x28e418(0x47a)]['wuid']),this[_0x28e418(0x4e3)][_0x28e418(0x6f6)](this[_0x28e418(0x653)]+'\x20('+this[_0x28e418(0x47a)]['wuid']+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x47cacd){this[_0x28e418(0x4e3)][_0x28e418(0x1c2)](this[_0x28e418(0x653)]+'\x20('+this[_0x28e418(0x47a)][_0x28e418(0x5a4)]+_0x28e418(0x493)+_0x47cacd['message']);}try{let _0x2340cb=_0x20d343['chatLog'][_0x28e418(0x466)],_0x3d93af=await this[_0x28e418(0x59f)](_0x47a34c),_0x25aa13={..._0x2340cb,..._0x3d93af,'_remoteJid':_0x47a34c};_0x20d343['chatLog'][_0x28e418(0x466)]=_0x25aa13;}catch(_0x584879){this[_0x28e418(0x4e3)][_0x28e418(0x1c2)](this[_0x28e418(0x653)]+'\x20('+this[_0x28e418(0x47a)]['wuid']+'):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20'+_0x584879['message']);}}_0x20d343[_0x28e418(0x1cf)][_0x28e418(0x353)]=_0x463701[_0x28e418(0x656)]['toString'](),_0x20d343['chatLog'][_0x28e418(0x1bf)]&&(_0x20d343['chatLog'][_0x28e418(0x1bf)]=_0x20d343[_0x28e418(0x1cf)][_0x28e418(0x1bf)]),_0x20d343[_0x28e418(0x1cf)][_0x28e418(0x46d)]&&(_0x20d343['chatLog'][_0x28e418(0x46d)]=_0x20d343['chatLog']['lastReceivedMessage']),_0x20d343[_0x28e418(0x1cf)][_0x28e418(0x275)]&&(_0x20d343['chatLog'][_0x28e418(0x275)]=_0x20d343[_0x28e418(0x1cf)][_0x28e418(0x275)]),_0x24abec&&(_0x20d343['status']='closed'),_0x40d8fe?this['saveConversationToDatabase'](_0x20d343):this[_0x28e418(0x448)](_0x20d343,_0x463701);}[a0_0xf534fa(0x762)](_0x4e3b06,_0x19e850){const _0x1a82e9=a0_0xf534fa;return _0x4e3b06['replace'](/\{\{([^}]+)\}\}/g,(_0x103ad3,_0x1acc1c)=>_0x19e850[_0x1acc1c]?'{{'+_0x1acc1c+_0x1a82e9(0x52e)+_0x19e850[_0x1acc1c]+'\x22':'{{'+_0x1acc1c+'}}\x20->\x20valor\x20não\x20encontrado');}async[a0_0xf534fa(0x2ee)](_0x2ece8c){const _0x410356=a0_0xf534fa;try{let _0x2c5f75=Object[_0x410356(0x3aa)](_0x2ece8c[_0x410356(0x1cf)][_0x410356(0x466)])[_0x410356(0x445)](([_0x136505,_0xd904bc])=>({'name':_0x136505,'value':_0xd904bc})),_0x274ac9={'status':_0x2ece8c[_0x410356(0x2d2)],'remoteJid':_0x2ece8c[_0x410356(0x281)],'blocks':_0x2ece8c['blocks'],'waitingMenu_id':_0x2ece8c[_0x410356(0x765)],'waitingMenu_text':_0x2ece8c[_0x410356(0x664)],'waitingMenu_replyOptions':_0x2ece8c['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x2ece8c['chatLog'][_0x410356(0x353)],'lastSendMessage':_0x2ece8c[_0x410356(0x1cf)][_0x410356(0x1bf)],'lastReceivedMessage':_0x2ece8c[_0x410356(0x1cf)][_0x410356(0x46d)],'lastCondition':_0x2ece8c[_0x410356(0x1cf)][_0x410356(0x275)],'chatVariables':_0x2c5f75,'realVariables':_0x2ece8c[_0x410356(0x1cf)][_0x410356(0x466)],'blockLogs':_0x2ece8c[_0x410356(0x1cf)][_0x410356(0x4d6)]}},_0x2aa480=await this[_0x410356(0x7ea)][_0x410356(0x2ce)][_0x410356(0x21a)](_0x2ece8c[_0x410356(0x656)],_0x274ac9,this[_0x410356(0x47a)]['wuid']);if(_0x2aa480){this['logger'][_0x410356(0x6f6)](this[_0x410356(0x653)]+'\x20('+this['instance'][_0x410356(0x5a4)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x2aa480[_0x410356(0x656)]);try{let _0x4138a7=[_0x410356(0x585),_0x410356(0x8a8),_0x410356(0x8ce),'cpf',_0x410356(0x2d2),_0x410356(0x3ee),_0x410356(0x605),_0x410356(0x376),_0x410356(0x69c),_0x410356(0x20a)];if(!this[_0x410356(0x877)]&&(await this[_0x410356(0x456)](),!this[_0x410356(0x877)]))throw new Error(_0x410356(0x592));let _0xe2a4f1=this[_0x410356(0x877)]?.['customFields'][_0x410356(0x445)](_0xd0600e=>_0xd0600e[_0x410356(0x232)]),_0x4b768b={};Object[_0x410356(0x3aa)](_0x2ece8c[_0x410356(0x1cf)][_0x410356(0x466)])[_0x410356(0x753)](([_0x17a49a,_0x50c026])=>{const _0x5f5dc0=_0x410356;_0x4138a7['includes'](_0x17a49a)&&(_0x17a49a==='tags'&&typeof _0x50c026==_0x5f5dc0(0x3dd)?_0x4b768b[_0x17a49a]=_0x50c026[_0x5f5dc0(0x520)](',')['map'](_0x4928fe=>_0x4928fe['trim']())[_0x5f5dc0(0x5d3)](_0x3a8994=>_0x3a8994!==''):_0x17a49a==='etiquetas'&&typeof _0x50c026==_0x5f5dc0(0x3dd)?_0x4b768b[_0x17a49a]=_0x50c026[_0x5f5dc0(0x520)](',')[_0x5f5dc0(0x445)](_0x38af6a=>_0x38af6a['trim']())[_0x5f5dc0(0x5d3)](_0x5f22df=>_0x5f22df!==''):_0x4b768b[_0x17a49a]=_0x50c026);});let _0x5527b5=_0x2ece8c['chatLog'][_0x410356(0x4d6)][_0x2ece8c[_0x410356(0x1cf)][_0x410356(0x4d6)][_0x410356(0x847)]-0x1];if(_0x5527b5){let _0x3eabda=_0x5527b5[_0x410356(0x2c7)];_0x3eabda!==void 0x0&&(_0x4b768b[_0x410356(0x2f6)]=_0x3eabda[_0x410356(0x7f7)]());}let _0x1022c2=_0x2c5f75[_0x410356(0x5d3)](_0x2af1ac=>_0xe2a4f1[_0x410356(0x89d)](_0x2af1ac['name']));this['logger']['verbose'](this[_0x410356(0x653)]+'\x20('+this[_0x410356(0x47a)]['wuid']+_0x410356(0x7e5)),this[_0x410356(0x4e3)][_0x410356(0x6f6)](_0x4b768b),this['logger'][_0x410356(0x6f6)](this[_0x410356(0x653)]+'\x20('+this['instance'][_0x410356(0x5a4)]+_0x410356(0x5b8)),this[_0x410356(0x4e3)]['verbose'](_0x1022c2);let _0x3c6312=_0x1022c2[_0x410356(0x445)](_0x18060b=>{const _0x4d4bb0=_0x410356;let _0x130ea6=this['AutomateSystem']?.[_0x4d4bb0(0x3c9)][_0x4d4bb0(0x525)](_0x5ceb74=>_0x5ceb74[_0x4d4bb0(0x232)]===_0x18060b['name']);if(!_0x130ea6)throw new Error(_0x4d4bb0(0x1cb)+_0x18060b[_0x4d4bb0(0x232)]);return{'_id':_0x130ea6['_id'],'value':_0x18060b[_0x4d4bb0(0x81c)]};});this[_0x410356(0x4e3)]['verbose'](this[_0x410356(0x653)]+'\x20('+this[_0x410356(0x47a)][_0x410356(0x5a4)]+_0x410356(0x41d)),this[_0x410356(0x4e3)][_0x410356(0x6f6)](_0x3c6312),await this[_0x410356(0x8c8)](_0x2ece8c[_0x410356(0x281)],_0x4b768b,_0x3c6312);}catch(_0x5dc3bc){this['logger']['error'](this[_0x410356(0x653)]+'\x20('+this[_0x410356(0x47a)][_0x410356(0x5a4)]+_0x410356(0x20b)+(_0x5dc3bc instanceof Error?_0x5dc3bc[_0x410356(0x6c6)]:JSON[_0x410356(0x6f0)](_0x5dc3bc,null,0x2)));}}else this[_0x410356(0x4e3)]['error'](this[_0x410356(0x653)]+'\x20('+this[_0x410356(0x47a)][_0x410356(0x5a4)]+_0x410356(0x7a8));}catch(_0x4e46db){this[_0x410356(0x4e3)][_0x410356(0x1c2)](this['instanceName']+'\x20('+this[_0x410356(0x47a)][_0x410356(0x5a4)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x4e46db instanceof Error?_0x4e46db[_0x410356(0x6c6)]:JSON['stringify'](_0x4e46db,null,0x2)));}}async[a0_0xf534fa(0x8c8)](_0x4625f0,_0x5d7a0a,_0x3ab6b1){const _0x3c4a6d=a0_0xf534fa;try{let _0x363351={'leadInfo.leadnome':_0x5d7a0a[_0x3c4a6d(0x585)],'leadInfo.nomecompleto':_0x5d7a0a[_0x3c4a6d(0x8a8)],'leadInfo.email':_0x5d7a0a[_0x3c4a6d(0x8ce)],'leadInfo.cpf':_0x5d7a0a[_0x3c4a6d(0x1bc)],'leadInfo.status':_0x5d7a0a['status'],'leadInfo.notas':_0x5d7a0a[_0x3c4a6d(0x3ee)],'leadInfo.responsavelid':_0x5d7a0a[_0x3c4a6d(0x605)],'leadInfo.tags':_0x5d7a0a[_0x3c4a6d(0x376)],'leadInfo.etiquetas':_0x5d7a0a[_0x3c4a6d(0x69c)],'leadInfo.customFields':_0x3ab6b1,'leadInfo.atendimentoAberto':_0x5d7a0a[_0x3c4a6d(0x20a)]},_0x584a22=await this['repository'][_0x3c4a6d(0x803)][_0x3c4a6d(0x3b6)]({'where':{'_id':_0x4625f0}},this[_0x3c4a6d(0x47a)][_0x3c4a6d(0x5a4)]);if(!_0x584a22)return'chat\x20não\x20encontrado';let _0x9f8f78=new Set(_0x584a22[_0x3c4a6d(0x270)][_0x3c4a6d(0x69c)]||[]),_0x4c2751=new Set(_0x5d7a0a[_0x3c4a6d(0x69c)]||[]),_0x482876=await this['repository']['label']['find']({'where':{}},this[_0x3c4a6d(0x47a)]['wuid']),_0x373344=new Set(_0x482876[_0x3c4a6d(0x445)](_0x517813=>_0x517813[_0x3c4a6d(0x656)])),_0x70d773=[..._0x4c2751][_0x3c4a6d(0x5d3)](_0x17ab16=>!_0x9f8f78[_0x3c4a6d(0x8a7)](_0x17ab16)&&_0x373344[_0x3c4a6d(0x8a7)](_0x17ab16)),_0x5b5ee3=[..._0x9f8f78]['filter'](_0x91d1c4=>!_0x4c2751[_0x3c4a6d(0x8a7)](_0x91d1c4));for(let _0x594271 of _0x70d773)await this[_0x3c4a6d(0x2d7)](_0x594271,_0x584a22['_id']),_0x9f8f78['add'](_0x594271);for(let _0x1ff19f of _0x5b5ee3)await this[_0x3c4a6d(0x834)](_0x1ff19f,_0x584a22[_0x3c4a6d(0x656)]),_0x9f8f78[_0x3c4a6d(0x4ee)](_0x1ff19f);if(_0x3c4a6d(0x2f6)in _0x5d7a0a){let _0x19e8ad=_0x5d7a0a[_0x3c4a6d(0x2f6)];_0x363351['leadInfo.desativadoFluxoAte']=_0x19e8ad?Number(_0x19e8ad):null;}if(_0x3c4a6d(0x20a)in _0x5d7a0a){let _0x1272e2=_0x5d7a0a[_0x3c4a6d(0x20a)]['toLowerCase']();_0x363351[_0x3c4a6d(0x599)]=_0x1272e2===_0x3c4a6d(0x3d8)||_0x1272e2==='1'||_0x1272e2==='yes'||_0x1272e2===_0x3c4a6d(0x7a1);}let _0x54e1ac=await this[_0x3c4a6d(0x7ea)][_0x3c4a6d(0x803)][_0x3c4a6d(0x21a)]({'where':{'_id':_0x4625f0}},_0x363351,this[_0x3c4a6d(0x47a)][_0x3c4a6d(0x5a4)]);_0x54e1ac?(this[_0x3c4a6d(0x4e3)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3c4a6d(0x5a4)]+_0x3c4a6d(0x4cd)+_0x54e1ac[_0x3c4a6d(0x656)]),U(this[_0x3c4a6d(0x653)],_0x3c4a6d(0x8bc),{'chat':_0x54e1ac})):this[_0x3c4a6d(0x4e3)][_0x3c4a6d(0x1c2)](this[_0x3c4a6d(0x653)]+'\x20('+this['instance'][_0x3c4a6d(0x5a4)]+_0x3c4a6d(0x7b4));}catch(_0x580f40){this[_0x3c4a6d(0x4e3)][_0x3c4a6d(0x1c2)](this[_0x3c4a6d(0x653)]+'\x20('+this[_0x3c4a6d(0x47a)][_0x3c4a6d(0x5a4)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x580f40 instanceof Error?_0x580f40['message']:JSON[_0x3c4a6d(0x6f0)](_0x580f40,null,0x2)));}}async[a0_0xf534fa(0x85a)](_0x15e21a,_0x2aa5eb){const _0x176645=a0_0xf534fa;this[_0x176645(0x4e3)][_0x176645(0x6f6)](this[_0x176645(0x653)]+'\x20('+this['instance'][_0x176645(0x5a4)]+_0x176645(0x2e8)+_0x2aa5eb);try{let _0x457337=await this[_0x176645(0x7ea)][_0x176645(0x803)]['updateOne']({'where':{'_id':_0x15e21a['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x2aa5eb},this[_0x176645(0x47a)][_0x176645(0x5a4)]);this[_0x176645(0x4e3)][_0x176645(0x6f6)](this[_0x176645(0x653)]+'\x20('+this[_0x176645(0x47a)][_0x176645(0x5a4)]+_0x176645(0x31e)+_0x15e21a[_0x176645(0x656)]),this[_0x176645(0x4e3)][_0x176645(0x6f6)](this['instanceName']+'\x20('+this[_0x176645(0x47a)][_0x176645(0x5a4)]+_0x176645(0x2e8)+JSON[_0x176645(0x6f0)](_0x457337,null,0x2)),_0x457337&&U(this[_0x176645(0x653)],_0x176645(0x8bc),{'chat':_0x457337});}catch(_0x141108){this[_0x176645(0x4e3)][_0x176645(0x1c2)](this[_0x176645(0x653)]+'\x20('+this[_0x176645(0x47a)][_0x176645(0x5a4)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x141108 instanceof Error?_0x141108[_0x176645(0x6c6)]:JSON[_0x176645(0x6f0)](_0x141108,null,0x2)));}}async['findFlow'](_0x56aa90){const _0x202857=a0_0xf534fa;try{this[_0x202857(0x4e3)][_0x202857(0x6f6)](this[_0x202857(0x653)]+'\x20('+this[_0x202857(0x47a)][_0x202857(0x5a4)]+_0x202857(0x6f7));let _0x47d769=_0x56aa90[_0x202857(0x60c)](/\D/g,''),_0x4cc6b0=this[_0x202857(0x877)][_0x202857(0x390)]['find'](_0x49806a=>_0x49806a['testingWith']===_0x47d769);if(_0x4cc6b0||(this[_0x202857(0x4e3)]['verbose'](this[_0x202857(0x653)]+'\x20('+this[_0x202857(0x47a)][_0x202857(0x5a4)]+_0x202857(0x7b3)),_0x4cc6b0=this[_0x202857(0x877)][_0x202857(0x390)][_0x202857(0x525)](_0x23b1f2=>_0x23b1f2['default']===!0x0)),!_0x4cc6b0)return this['logger'][_0x202857(0x6f6)](this[_0x202857(0x653)]+'\x20('+this['instance'][_0x202857(0x5a4)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null;let _0x3654b1=await this[_0x202857(0x7ea)][_0x202857(0x66e)]['findOne']({'where':{'_id':_0x4cc6b0[_0x202857(0x656)]}});if(!_0x3654b1||!_0x3654b1[_0x202857(0x3b2)]?.[_0x202857(0x89d)](this['instance'][_0x202857(0x5a4)]))throw this[_0x202857(0x4e3)][_0x202857(0x1c2)](this[_0x202857(0x653)]+'\x20('+this[_0x202857(0x47a)][_0x202857(0x5a4)]+_0x202857(0x790)+_0x3654b1[_0x202857(0x656)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x202857(0x475)+_0x3654b1['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');return _0x3654b1;}catch(_0x10128e){return this[_0x202857(0x4e3)]['error'](this['instanceName']+'\x20('+this['instance'][_0x202857(0x5a4)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x10128e instanceof Error?_0x10128e[_0x202857(0x6c6)]:JSON['stringify'](_0x10128e,null,0x2))),null;}}async[a0_0xf534fa(0x549)](_0x3c0265,_0x35e2aa){const _0x25ade4=a0_0xf534fa;try{let _0x2ae841=!!_0x35e2aa[_0x25ade4(0x4a7)],_0x43f7bd=_0x35e2aa['quoted'],_0x3093f8=null;if(this[_0x25ade4(0x4e3)][_0x25ade4(0x6f6)](this['instanceName']+'\x20('+this[_0x25ade4(0x47a)]['wuid']+_0x25ade4(0x19c)+_0x2ae841+_0x25ade4(0x74c)+_0x43f7bd),_0x2ae841){this['logger'][_0x25ade4(0x6f6)](this[_0x25ade4(0x653)]+'\x20('+this['instance']['wuid']+_0x25ade4(0x7a4));let _0x4886ec={'where':{'remoteJid':_0x3c0265,'waitingMenu_id':_0x43f7bd}};if(_0x3093f8=await this['repository'][_0x25ade4(0x2ce)][_0x25ade4(0x3b6)](_0x4886ec,this['instance'][_0x25ade4(0x5a4)]),!_0x3093f8)return this[_0x25ade4(0x4e3)]['verbose'](this[_0x25ade4(0x653)]+'\x20('+this[_0x25ade4(0x47a)][_0x25ade4(0x5a4)]+_0x25ade4(0x8aa)),null;let _0x5e1ec2=Date[_0x25ade4(0x694)](),_0x4ca70c=_0x3093f8?.[_0x25ade4(0x575)]||0x0,_0x2fbc85=_0x5e1ec2-_0x4ca70c*0x3c*0x3e8;if(_0x3093f8['lastInteraction']<_0x2fbc85){this[_0x25ade4(0x4e3)]['verbose'](this[_0x25ade4(0x653)]+'\x20('+this[_0x25ade4(0x47a)][_0x25ade4(0x5a4)]+_0x25ade4(0x5e1));let _0x79062={'number':_0x3093f8[_0x25ade4(0x281)],'options':{'delay':0x0},'textMessage':{'text':_0x3093f8[_0x25ade4(0x278)]}};await this['textMessage'](_0x79062);let _0x3f8a59={'status':_0x25ade4(0x533),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x25ade4(0x7ea)][_0x25ade4(0x2ce)]['updateOne'](_0x3093f8[_0x25ade4(0x656)],_0x3f8a59,this[_0x25ade4(0x47a)][_0x25ade4(0x5a4)]),null;}return _0x3093f8['lastInteraction']=Date[_0x25ade4(0x694)](),_0x3093f8[_0x25ade4(0x1cf)]['lastReceivedMessage']=_0x35e2aa,_0x3093f8;}else{this[_0x25ade4(0x4e3)][_0x25ade4(0x6f6)](this[_0x25ade4(0x653)]+'\x20('+this[_0x25ade4(0x47a)][_0x25ade4(0x5a4)]+_0x25ade4(0x43f)+this[_0x25ade4(0x47a)][_0x25ade4(0x5a4)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x25ade4(0x4e3)]['verbose'](this['instanceName']+'\x20('+this[_0x25ade4(0x47a)][_0x25ade4(0x5a4)]+'):\x20Procurando\x20conversa');let _0x31f363={'where':{'remoteJid':_0x3c0265,'status':_0x25ade4(0x441)}};if(_0x3093f8=await this[_0x25ade4(0x7ea)][_0x25ade4(0x2ce)][_0x25ade4(0x3b6)](_0x31f363,this['instance'][_0x25ade4(0x5a4)]),!_0x3093f8){let _0x61080a=await this[_0x25ade4(0x23a)](_0x3c0265);if(_0x61080a&&(_0x3093f8=await this[_0x25ade4(0x54c)](_0x61080a,_0x35e2aa[_0x25ade4(0x693)],_0x35e2aa)),!_0x3093f8)return null;}let _0x5306f3=Date[_0x25ade4(0x694)](),_0x16c1cf=_0x3093f8?.[_0x25ade4(0x575)]||0x0,_0x23b4b8=_0x5306f3-_0x16c1cf*0x3c*0x3e8;if(this[_0x25ade4(0x4e3)][_0x25ade4(0x6f6)](this[_0x25ade4(0x653)]+'\x20('+this['instance'][_0x25ade4(0x5a4)]+_0x25ade4(0x422)+_0x5306f3+_0x25ade4(0x878)+_0x16c1cf+',\x20Expiration\x20Time:\x20'+_0x23b4b8),this[_0x25ade4(0x4e3)][_0x25ade4(0x6f6)](this[_0x25ade4(0x653)]+'\x20('+this[_0x25ade4(0x47a)][_0x25ade4(0x5a4)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this['logger'][_0x25ade4(0x6f6)](this[_0x25ade4(0x653)]+'\x20('+this[_0x25ade4(0x47a)]['wuid']+'):\x20conversation.lastInteraction:\x20'+_0x3093f8['lastInteraction']),this['logger'][_0x25ade4(0x6f6)](this[_0x25ade4(0x653)]+'\x20('+this[_0x25ade4(0x47a)]['wuid']+'):\x20expirationTime:\x20'+_0x23b4b8),_0x3093f8['lastInteraction']<_0x23b4b8){this[_0x25ade4(0x4e3)][_0x25ade4(0x6f6)](this[_0x25ade4(0x653)]+'\x20('+this[_0x25ade4(0x47a)][_0x25ade4(0x5a4)]+'):\x20Conversa\x20está\x20expirada');let _0x32ab69=await this[_0x25ade4(0x23a)](_0x3c0265);if(_0x32ab69===null)return null;_0x3093f8&&await this[_0x25ade4(0x7ea)][_0x25ade4(0x2ce)]['updateOne'](_0x3093f8[_0x25ade4(0x656)],{'status':_0x25ade4(0x533)},this[_0x25ade4(0x47a)][_0x25ade4(0x5a4)]),_0x3093f8=await this['createNewConversation'](_0x32ab69,_0x35e2aa[_0x25ade4(0x693)],_0x35e2aa);}return _0x3093f8[_0x25ade4(0x857)]=_0x5306f3,_0x3093f8[_0x25ade4(0x1cf)][_0x25ade4(0x46d)]=_0x35e2aa,_0x3093f8;}}catch(_0x145180){return this[_0x25ade4(0x4e3)][_0x25ade4(0x1c2)](this['instanceName']+'\x20('+this[_0x25ade4(0x47a)][_0x25ade4(0x5a4)]+_0x25ade4(0x2b5)+(_0x145180 instanceof Error?_0x145180[_0x25ade4(0x6c6)]:JSON['stringify'](_0x145180,null,0x2))),null;}}async[a0_0xf534fa(0x54c)](_0x15a1ba,_0x4455e9,_0x37fd01){const _0x339e89=a0_0xf534fa;this[_0x339e89(0x4e3)][_0x339e89(0x6f6)](this[_0x339e89(0x653)]+'\x20('+this[_0x339e89(0x47a)]['wuid']+_0x339e89(0x27b));try{let _0x4d0d6e=require(_0x339e89(0x42c))[_0x339e89(0x8b4)],_0x5a5cb6=Date[_0x339e89(0x694)](),_0xa53ec0=_0x339e89(0x499),_0x5179fc=_0x4455e9[_0x339e89(0x853)]?null:_0x37fd01,_0x216b0a=_0x4455e9[_0x339e89(0x853)]?_0x37fd01:null,_0x40ae1a=_0x4455e9[_0x339e89(0x281)],_0x393ba4=this[_0x339e89(0x877)][_0x339e89(0x390)][_0x339e89(0x525)](_0x4ccc6e=>_0x4ccc6e[_0x339e89(0x656)]===_0x15a1ba[_0x339e89(0x656)]?.[_0x339e89(0x7f7)]()),_0x583593=_0x393ba4?.[_0x339e89(0x575)]??_0x15a1ba[_0x339e89(0x575)]??0x0,_0x1e4ff9=_0x393ba4?.['readMessages']??_0x15a1ba['readMessages']??!0x1;await this[_0x339e89(0x76a)](_0x40ae1a);let _0x1964b2={'flowId':_0x15a1ba[_0x339e89(0x656)],..._0x15a1ba,'chatLog':null},_0xf7d2e2=await this['variablesToObject'](_0x1964b2[_0x339e89(0x7f4)]),_0x396b8c=await this[_0x339e89(0x59f)](_0x40ae1a),_0x4b8eef={..._0xf7d2e2,..._0x396b8c,'_remoteJid':_0x40ae1a},_0x3b5a95={'lastReceivedMessage':_0x5179fc,'lastSendMessage':_0x216b0a,'lastBlockId':_0xa53ec0,'lastCondition':!0x0,'realVariables':_0x4b8eef};_0x1964b2[_0x339e89(0x1cf)]=_0x3b5a95,delete _0x1964b2[_0x339e89(0x656)],_0x1964b2['_id']=new _0x4d0d6e(),_0x1964b2[_0x339e89(0x857)]=_0x5a5cb6,_0x1964b2[_0x339e89(0x2d2)]=_0x339e89(0x441),_0x1964b2[_0x339e89(0x281)]=_0x40ae1a,_0x1964b2['minutesToClose']=_0x583593,_0x1964b2[_0x339e89(0x413)]=_0x1e4ff9;let _0x280760=await this[_0x339e89(0x7ea)][_0x339e89(0x2ce)]['updateOne'](_0x1964b2[_0x339e89(0x656)],_0x1964b2,this[_0x339e89(0x47a)][_0x339e89(0x5a4)]);return this[_0x339e89(0x4e3)]['verbose'](this['instanceName']+'\x20('+this[_0x339e89(0x47a)]['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x280760?_0x1964b2:null;}catch(_0x11b646){return this[_0x339e89(0x4e3)]['error'](this['instanceName']+'\x20('+this[_0x339e89(0x47a)][_0x339e89(0x5a4)]+_0x339e89(0x80c)+(_0x11b646 instanceof Error?_0x11b646['message']:JSON[_0x339e89(0x6f0)](_0x11b646,null,0x2))),_0x11b646;}}async[a0_0xf534fa(0x52b)](_0x3eac3f,_0xbcddaf){const _0x14f26a=a0_0xf534fa;let _0x321b6f=_0x3eac3f[_0x14f26a(0x281)];_0xbcddaf['uazapi']['remoteJid']&&_0xbcddaf['uazapi'][_0x14f26a(0x281)][_0x14f26a(0x4fb)]()!==''&&(_0x321b6f=_0xbcddaf['uazapi'][_0x14f26a(0x281)][_0x14f26a(0x4fb)]()),this[_0x14f26a(0x4e3)][_0x14f26a(0x6f6)](this[_0x14f26a(0x653)]+'\x20('+this[_0x14f26a(0x47a)][_0x14f26a(0x5a4)]+_0x14f26a(0x703));let _0x2d2903={'number':_0x321b6f,'options':{'delay':_0xbcddaf['uazapi'][_0x14f26a(0x779)],'linkPreview':_0xbcddaf[_0x14f26a(0x2cf)]['linkPreview']},'textMessage':{'text':_0xbcddaf['uazapi'][_0x14f26a(0x879)]}};try{let _0x21b80c=await this['textMessage'](_0x2d2903);if(_0x21b80c){let _0x28b695={'_id':_0x21b80c[_0x14f26a(0x693)]['id'],'_fromMe':_0x21b80c[_0x14f26a(0x693)][_0x14f26a(0x853)],'_remoteJid':_0x21b80c[_0x14f26a(0x693)][_0x14f26a(0x281)]},_0xb9835f=(0x0,w[_0x14f26a(0x5af)])(_0x21b80c[_0x14f26a(0x6c6)]),_0x14fd19=(0x0,w[_0x14f26a(0x662)])(_0xb9835f);_0x3eac3f[_0x14f26a(0x1cf)][_0x14f26a(0x353)]=_0xbcddaf[_0x14f26a(0x656)][_0x14f26a(0x7f7)]();let {message_normalized:_0xaebe07}=this[_0x14f26a(0x382)](_0xb9835f,_0x14fd19,null);_0x3eac3f['chatLog'][_0x14f26a(0x1bf)]=await _0xaebe07;let _0x39b4b7={'messageId':_0x21b80c[_0x14f26a(0x693)]['id']},_0x212719=_0x3eac3f[_0x14f26a(0x1cf)][_0x14f26a(0x466)];Object[_0x14f26a(0x629)](_0x212719,_0x28b695),_0x3eac3f[_0x14f26a(0x1cf)][_0x14f26a(0x466)]=_0x212719,this[_0x14f26a(0x7cd)](_0x3eac3f,_0xbcddaf,_0x39b4b7);}else{let _0x279406={'error':!0x0};this[_0x14f26a(0x7cd)](_0x3eac3f,_0xbcddaf,_0x279406),this[_0x14f26a(0x4e3)][_0x14f26a(0x1c2)](this['instanceName']+'\x20('+this[_0x14f26a(0x47a)][_0x14f26a(0x5a4)]+_0x14f26a(0x440));}}catch(_0x2f94e6){let _0x59aa4e={'error':!0x0,'errorLog':_0x2f94e6[_0x14f26a(0x7f7)]()};this[_0x14f26a(0x7cd)](_0x3eac3f,_0xbcddaf,_0x59aa4e),this[_0x14f26a(0x4e3)][_0x14f26a(0x1c2)](this['instanceName']+'\x20('+this['instance'][_0x14f26a(0x5a4)]+_0x14f26a(0x84d)+(_0x2f94e6 instanceof Error?_0x2f94e6[_0x14f26a(0x6c6)]:JSON[_0x14f26a(0x6f0)](_0x2f94e6,null,0x2)));}}async['uazapiSendMedia'](_0x1b3de8,_0x5dfda3){const _0x5171d1=a0_0xf534fa;let _0x14a237=_0x1b3de8[_0x5171d1(0x281)];_0x5dfda3[_0x5171d1(0x2cf)][_0x5171d1(0x281)]&&_0x5dfda3[_0x5171d1(0x2cf)][_0x5171d1(0x281)][_0x5171d1(0x4fb)]()!==''&&(_0x14a237=_0x5dfda3[_0x5171d1(0x2cf)][_0x5171d1(0x281)]['trim']()),this[_0x5171d1(0x4e3)][_0x5171d1(0x6f6)](this[_0x5171d1(0x653)]+'\x20('+this[_0x5171d1(0x47a)]['wuid']+'):\x20Enviando\x20mídia');let _0x55ad9a={'number':_0x14a237,'options':{'delay':_0x5dfda3[_0x5171d1(0x2cf)]['delay'],'linkPreview':_0x5dfda3[_0x5171d1(0x2cf)][_0x5171d1(0x8b6)]},'mediaMessage':{'mediatype':_0x5dfda3[_0x5171d1(0x2cf)][_0x5171d1(0x280)],'caption':_0x5dfda3[_0x5171d1(0x2cf)][_0x5171d1(0x7b7)],'media':_0x5dfda3[_0x5171d1(0x2cf)][_0x5171d1(0x31c)],'fileName':_0x5dfda3[_0x5171d1(0x2cf)][_0x5171d1(0x6b9)]}};try{let _0x1073fe=await this[_0x5171d1(0x2dd)](_0x55ad9a);if(_0x1073fe){let _0x373f0d={'_id':_0x1073fe[_0x5171d1(0x693)]['id'],'_fromMe':_0x1073fe[_0x5171d1(0x693)]['fromMe'],'_remoteJid':_0x1073fe['key'][_0x5171d1(0x281)]},_0x5bb147=(0x0,w[_0x5171d1(0x5af)])(_0x1073fe['message']),_0x5dcc20=(0x0,w[_0x5171d1(0x662)])(_0x5bb147);_0x1b3de8[_0x5171d1(0x1cf)][_0x5171d1(0x353)]=_0x5dfda3[_0x5171d1(0x656)][_0x5171d1(0x7f7)]();let {message_normalized:_0x27c318}=this[_0x5171d1(0x382)](_0x5bb147,_0x5dcc20,null);_0x1b3de8[_0x5171d1(0x1cf)]['lastSendMessage']=await _0x27c318;let _0x3c09b0={'messageId':_0x1073fe['key']['id']},_0x234c30=_0x1b3de8[_0x5171d1(0x1cf)][_0x5171d1(0x466)];Object[_0x5171d1(0x629)](_0x234c30,_0x373f0d),_0x1b3de8['chatLog'][_0x5171d1(0x466)]=_0x234c30,this[_0x5171d1(0x7cd)](_0x1b3de8,_0x5dfda3,_0x3c09b0);}else{let _0x27cf2a={'error':!0x0};this[_0x5171d1(0x7cd)](_0x1b3de8,_0x5dfda3,_0x27cf2a),this[_0x5171d1(0x4e3)][_0x5171d1(0x1c2)](this[_0x5171d1(0x653)]+'\x20('+this[_0x5171d1(0x47a)][_0x5171d1(0x5a4)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x160e3f){let _0x554e57={'error':!0x0,'errorLog':_0x160e3f[_0x5171d1(0x7f7)]()};this[_0x5171d1(0x7cd)](_0x1b3de8,_0x5dfda3,_0x554e57),this[_0x5171d1(0x4e3)][_0x5171d1(0x1c2)](this[_0x5171d1(0x653)]+'\x20('+this[_0x5171d1(0x47a)][_0x5171d1(0x5a4)]+_0x5171d1(0x1c7)+(_0x160e3f instanceof Error?_0x160e3f[_0x5171d1(0x6c6)]:JSON[_0x5171d1(0x6f0)](_0x160e3f,null,0x2)));}}async['uazapiSendLocation'](_0x8a716c,_0x2ebcf9){const _0x4524fc=a0_0xf534fa;let _0x504b14=_0x8a716c[_0x4524fc(0x281)];_0x2ebcf9[_0x4524fc(0x2cf)][_0x4524fc(0x281)]&&_0x2ebcf9['uazapi'][_0x4524fc(0x281)][_0x4524fc(0x4fb)]()!==''&&(_0x504b14=_0x2ebcf9[_0x4524fc(0x2cf)][_0x4524fc(0x281)]['trim']()),this['logger'][_0x4524fc(0x6f6)](this['instanceName']+'\x20('+this[_0x4524fc(0x47a)][_0x4524fc(0x5a4)]+_0x4524fc(0x315));let _0x31d071={'number':_0x504b14,'options':{'delay':_0x2ebcf9[_0x4524fc(0x2cf)]['delay']},'locationMessage':{'name':_0x2ebcf9[_0x4524fc(0x2cf)][_0x4524fc(0x232)],'address':_0x2ebcf9[_0x4524fc(0x2cf)]['address'],'latitude':_0x2ebcf9[_0x4524fc(0x2cf)]['latitude'],'longitude':_0x2ebcf9[_0x4524fc(0x2cf)][_0x4524fc(0x6b3)]}};try{let _0x2a4082=await this[_0x4524fc(0x5c9)](_0x31d071);if(_0x2a4082){let _0x390a86={'_id':_0x2a4082[_0x4524fc(0x693)]['id'],'_fromMe':_0x2a4082['key'][_0x4524fc(0x853)],'_remoteJid':_0x2a4082[_0x4524fc(0x693)][_0x4524fc(0x281)]},_0x58eb00=(0x0,w[_0x4524fc(0x5af)])(_0x2a4082[_0x4524fc(0x6c6)]),_0x1f12ba=(0x0,w[_0x4524fc(0x662)])(_0x58eb00);_0x8a716c[_0x4524fc(0x1cf)][_0x4524fc(0x353)]=_0x2ebcf9[_0x4524fc(0x656)]['toString']();let {message_normalized:_0x39ea61}=this['normalizeMessage'](_0x58eb00,_0x1f12ba,null);_0x8a716c[_0x4524fc(0x1cf)][_0x4524fc(0x1bf)]=await _0x39ea61;let _0x54b7ad={'messageId':_0x2a4082['key']['id']},_0x971319=_0x8a716c['chatLog'][_0x4524fc(0x466)];Object['assign'](_0x971319,_0x390a86),_0x8a716c[_0x4524fc(0x1cf)]['realVariables']=_0x971319,this['updateConversation'](_0x8a716c,_0x2ebcf9,_0x54b7ad);}else{let _0x4df692={'error':!0x0};this[_0x4524fc(0x7cd)](_0x8a716c,_0x2ebcf9,_0x4df692),this[_0x4524fc(0x4e3)][_0x4524fc(0x1c2)](this[_0x4524fc(0x653)]+'\x20('+this[_0x4524fc(0x47a)]['wuid']+_0x4524fc(0x3f3));}}catch(_0x3d7ffc){let _0x211d69={'error':!0x0,'errorLog':_0x3d7ffc[_0x4524fc(0x7f7)]()};this[_0x4524fc(0x7cd)](_0x8a716c,_0x2ebcf9,_0x211d69),this['logger'][_0x4524fc(0x1c2)](this[_0x4524fc(0x653)]+'\x20('+this['instance'][_0x4524fc(0x5a4)]+_0x4524fc(0x8ac)+(_0x3d7ffc instanceof Error?_0x3d7ffc['message']:JSON[_0x4524fc(0x6f0)](_0x3d7ffc,null,0x2)));}}async[a0_0xf534fa(0x4f9)](_0x42611a,_0x20372e){const _0x46219c=a0_0xf534fa;let _0x578b31=_0x42611a[_0x46219c(0x281)];_0x20372e['uazapi'][_0x46219c(0x281)]&&_0x20372e['uazapi']['remoteJid']['trim']()!==''&&(_0x578b31=_0x20372e[_0x46219c(0x2cf)][_0x46219c(0x281)][_0x46219c(0x4fb)]()),this[_0x46219c(0x4e3)][_0x46219c(0x6f6)](this[_0x46219c(0x653)]+'\x20('+this[_0x46219c(0x47a)][_0x46219c(0x5a4)]+_0x46219c(0x771));let _0x1c0694={'number':_0x578b31,'options':{'delay':_0x20372e[_0x46219c(0x2cf)][_0x46219c(0x779)]},'audioMessage':{'audio':_0x20372e[_0x46219c(0x2cf)]['audio']}};try{let _0x602e5=await this[_0x46219c(0x3a1)](_0x1c0694);if(_0x602e5){let _0x4f89b2={'_id':_0x602e5['key']['id'],'_fromMe':_0x602e5[_0x46219c(0x693)][_0x46219c(0x853)],'_remoteJid':_0x602e5['key'][_0x46219c(0x281)]},_0x421565=(0x0,w[_0x46219c(0x5af)])(_0x602e5[_0x46219c(0x6c6)]),_0x104432=(0x0,w[_0x46219c(0x662)])(_0x421565);_0x42611a[_0x46219c(0x1cf)][_0x46219c(0x353)]=_0x20372e['_id'][_0x46219c(0x7f7)]();let {message_normalized:_0x39cf6a}=this[_0x46219c(0x382)](_0x421565,_0x104432,null);_0x42611a[_0x46219c(0x1cf)]['lastSendMessage']=await _0x39cf6a;let _0x2144f7={'messageId':_0x602e5[_0x46219c(0x693)]['id']},_0x534fb2=_0x42611a[_0x46219c(0x1cf)]['realVariables'];Object[_0x46219c(0x629)](_0x534fb2,_0x4f89b2),_0x42611a[_0x46219c(0x1cf)]['realVariables']=_0x534fb2,this[_0x46219c(0x7cd)](_0x42611a,_0x20372e,_0x2144f7);}else{let _0x33580b={'error':!0x0};this[_0x46219c(0x7cd)](_0x42611a,_0x20372e,_0x33580b),this[_0x46219c(0x4e3)][_0x46219c(0x1c2)](this['instanceName']+'\x20('+this[_0x46219c(0x47a)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x26f9f8){let _0x4be723={'error':!0x0,'errorLog':_0x26f9f8[_0x46219c(0x7f7)]()};this['updateConversation'](_0x42611a,_0x20372e,_0x4be723),this[_0x46219c(0x4e3)]['error'](this[_0x46219c(0x653)]+'\x20('+this[_0x46219c(0x47a)][_0x46219c(0x5a4)]+_0x46219c(0x443)+(_0x26f9f8 instanceof Error?_0x26f9f8[_0x46219c(0x6c6)]:JSON[_0x46219c(0x6f0)](_0x26f9f8,null,0x2)));}}async[a0_0xf534fa(0x242)](_0x213f7b,_0x426d56){const _0x7dae21=a0_0xf534fa;let _0x2fa813=_0x213f7b['remoteJid'];_0x426d56[_0x7dae21(0x2cf)]['remoteJid']&&_0x426d56[_0x7dae21(0x2cf)][_0x7dae21(0x281)][_0x7dae21(0x4fb)]()!==''&&(_0x2fa813=_0x426d56[_0x7dae21(0x2cf)][_0x7dae21(0x281)][_0x7dae21(0x4fb)]()),this[_0x7dae21(0x4e3)][_0x7dae21(0x6f6)](this[_0x7dae21(0x653)]+'\x20('+this[_0x7dae21(0x47a)][_0x7dae21(0x5a4)]+_0x7dae21(0x34d));let _0x102322={'number':_0x2fa813,'options':{'delay':_0x426d56[_0x7dae21(0x2cf)][_0x7dae21(0x779)]},'contactMessage':[{'fullName':_0x426d56['uazapi']['fullName'],'phoneNumber':_0x426d56[_0x7dae21(0x2cf)][_0x7dae21(0x7b6)]}]};try{let _0x5bd983=await this['contactMessage'](_0x102322);if(_0x5bd983){let _0x309c50={'_id':_0x5bd983[_0x7dae21(0x693)]['id'],'_fromMe':_0x5bd983[_0x7dae21(0x693)][_0x7dae21(0x853)],'_remoteJid':_0x5bd983[_0x7dae21(0x693)][_0x7dae21(0x281)]},_0x21dc7d=(0x0,w[_0x7dae21(0x5af)])(_0x5bd983['message']),_0x579e19=(0x0,w[_0x7dae21(0x662)])(_0x21dc7d);_0x213f7b[_0x7dae21(0x1cf)][_0x7dae21(0x353)]=_0x426d56[_0x7dae21(0x656)][_0x7dae21(0x7f7)]();let {message_normalized:_0x3b7645}=this[_0x7dae21(0x382)](_0x21dc7d,_0x579e19,null);_0x213f7b[_0x7dae21(0x1cf)][_0x7dae21(0x1bf)]=await _0x3b7645;let _0x140fd3={'messageId':_0x5bd983[_0x7dae21(0x693)]['id']},_0x584e48=_0x213f7b[_0x7dae21(0x1cf)]['realVariables'];Object[_0x7dae21(0x629)](_0x584e48,_0x309c50),_0x213f7b[_0x7dae21(0x1cf)]['realVariables']=_0x584e48,this[_0x7dae21(0x7cd)](_0x213f7b,_0x426d56,_0x140fd3);}else{let _0x846eb9={'error':!0x0};this[_0x7dae21(0x7cd)](_0x213f7b,_0x426d56,_0x846eb9),this[_0x7dae21(0x4e3)][_0x7dae21(0x1c2)](this[_0x7dae21(0x653)]+'\x20('+this[_0x7dae21(0x47a)][_0x7dae21(0x5a4)]+_0x7dae21(0x35d));}}catch(_0x1f014c){let _0x328ee2={'error':!0x0,'errorLog':_0x1f014c[_0x7dae21(0x7f7)]()};this[_0x7dae21(0x7cd)](_0x213f7b,_0x426d56,_0x328ee2),this[_0x7dae21(0x4e3)][_0x7dae21(0x1c2)](this[_0x7dae21(0x653)]+'\x20('+this[_0x7dae21(0x47a)][_0x7dae21(0x5a4)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x1f014c instanceof Error?_0x1f014c[_0x7dae21(0x6c6)]:JSON[_0x7dae21(0x6f0)](_0x1f014c,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x2e65e9,_0x33460b){const _0xaf3f28=a0_0xf534fa;for(let _0xc94ded of _0x2e65e9)_0xc94ded[_0xaf3f28(0x301)]&&(_0xc94ded[_0xaf3f28(0x301)]=this[_0xaf3f28(0x235)](_0xc94ded[_0xaf3f28(0x301)],_0x33460b)),_0xc94ded[_0xaf3f28(0x330)]&&(_0xc94ded[_0xaf3f28(0x330)]=this[_0xaf3f28(0x235)](_0xc94ded[_0xaf3f28(0x330)],_0x33460b));}async[a0_0xf534fa(0x80e)](_0x1c0bb9,_0xcdb9ef){const _0x2d76c3=a0_0xf534fa;let _0x34a712=_0x1c0bb9[_0x2d76c3(0x281)];_0xcdb9ef[_0x2d76c3(0x2cf)][_0x2d76c3(0x281)]&&_0xcdb9ef[_0x2d76c3(0x2cf)][_0x2d76c3(0x281)]['trim']()!==''&&(_0x34a712=_0xcdb9ef[_0x2d76c3(0x2cf)][_0x2d76c3(0x281)][_0x2d76c3(0x4fb)]()),this[_0x2d76c3(0x4e3)][_0x2d76c3(0x6f6)](this[_0x2d76c3(0x653)]+'\x20('+this[_0x2d76c3(0x47a)][_0x2d76c3(0x5a4)]+'):\x20Enviando\x20enquete');let _0x4b6053=_0x1c0bb9[_0x2d76c3(0x67a)][_0x2d76c3(0x5d3)](_0x5b4a78=>_0x5b4a78[_0x2d76c3(0x8e3)]===_0xcdb9ef[_0x2d76c3(0x656)])[_0x2d76c3(0x211)]((_0x4f9523,_0x40ae1b)=>_0x4f9523[_0x2d76c3(0x319)]-_0x40ae1b[_0x2d76c3(0x319)]);this[_0x2d76c3(0x247)](_0x4b6053,_0x1c0bb9['chatLog'][_0x2d76c3(0x466)]);let _0x31eec1=_0x4b6053[_0x2d76c3(0x445)](_0xbb02f=>_0xbb02f['option']),_0x399079={'number':_0x34a712,'menuMessage':{'type':_0xcdb9ef[_0x2d76c3(0x2cf)][_0x2d76c3(0x44d)]||_0x2d76c3(0x412),'text':_0xcdb9ef[_0x2d76c3(0x2cf)][_0x2d76c3(0x879)]||_0xcdb9ef[_0x2d76c3(0x2cf)][_0x2d76c3(0x232)],'footerText':_0xcdb9ef[_0x2d76c3(0x2cf)][_0x2d76c3(0x2e0)],'buttonText':_0xcdb9ef[_0x2d76c3(0x2cf)]['buttonText'],'selectableCount':0x1,'choices':_0x31eec1},'options':{'delay':_0xcdb9ef[_0x2d76c3(0x2cf)]['delay']}};try{let _0x33f54b=await this['menuMessage'](_0x399079);if(_0x33f54b){let _0x1d3d1a={'_id':_0x33f54b[_0x2d76c3(0x693)]['id'],'_fromMe':_0x33f54b[_0x2d76c3(0x693)][_0x2d76c3(0x853)],'_remoteJid':_0x33f54b['key'][_0x2d76c3(0x281)]};_0xcdb9ef[_0x2d76c3(0x2cf)][_0x2d76c3(0x5d1)]===!0x0&&(_0x1c0bb9[_0x2d76c3(0x2d2)]=_0x2d76c3(0x792),this[_0x2d76c3(0x4e3)][_0x2d76c3(0x6f6)](this[_0x2d76c3(0x653)]+'\x20('+this[_0x2d76c3(0x47a)][_0x2d76c3(0x5a4)]+'):\x20conversation.status:\x20'+_0x1c0bb9[_0x2d76c3(0x2d2)])),this['logger']['verbose'](this[_0x2d76c3(0x653)]+'\x20('+this[_0x2d76c3(0x47a)]['wuid']+'):\x20nextBlock.uazapi.name'+(_0xcdb9ef[_0x2d76c3(0x2cf)]['name']||_0xcdb9ef[_0x2d76c3(0x2cf)]['text'])),_0x1c0bb9[_0x2d76c3(0x765)]=_0x33f54b[_0x2d76c3(0x693)]['id'],_0x1c0bb9[_0x2d76c3(0x664)]=_0xcdb9ef['uazapi'][_0x2d76c3(0x232)]||_0xcdb9ef[_0x2d76c3(0x2cf)]['text'],_0x1c0bb9['waitingMenu_replyOptions']=_0x4b6053,_0xcdb9ef[_0x2d76c3(0x2cf)]['menuExpiredMessage']&&(_0x1c0bb9[_0x2d76c3(0x278)]=_0xcdb9ef['uazapi'][_0x2d76c3(0x38f)]),this[_0x2d76c3(0x4e3)]['verbose'](this[_0x2d76c3(0x653)]+'\x20('+this[_0x2d76c3(0x47a)]['wuid']+_0x2d76c3(0x53e)+_0x1c0bb9[_0x2d76c3(0x664)]);let _0x5ac00a=(0x0,w[_0x2d76c3(0x5af)])(_0x33f54b[_0x2d76c3(0x6c6)]),_0x43940e=(0x0,w['getContentType'])(_0x5ac00a);_0x1c0bb9[_0x2d76c3(0x1cf)][_0x2d76c3(0x353)]=_0xcdb9ef[_0x2d76c3(0x656)][_0x2d76c3(0x7f7)]();let {message_normalized:_0x26bf56}=this[_0x2d76c3(0x382)](_0x5ac00a,_0x43940e,null);_0x1c0bb9[_0x2d76c3(0x1cf)][_0x2d76c3(0x1bf)]=await _0x26bf56;let _0xe0db3c={'messageId':_0x33f54b[_0x2d76c3(0x693)]['id']},_0x351e7a=_0x1c0bb9[_0x2d76c3(0x1cf)][_0x2d76c3(0x466)];Object[_0x2d76c3(0x629)](_0x351e7a,_0x1d3d1a),_0x1c0bb9[_0x2d76c3(0x1cf)][_0x2d76c3(0x466)]=_0x351e7a,this['updateConversation'](_0x1c0bb9,_0xcdb9ef,_0xe0db3c);}else{let _0x3e2808={'error':!0x0};this['updateConversation'](_0x1c0bb9,_0xcdb9ef,_0x3e2808),this[_0x2d76c3(0x4e3)]['error'](this[_0x2d76c3(0x653)]+'\x20('+this['instance'][_0x2d76c3(0x5a4)]+_0x2d76c3(0x613));}}catch(_0x1896c8){let _0x3ea6cb={'error':!0x0,'errorLog':_0x1896c8 instanceof Error?_0x1896c8[_0x2d76c3(0x6c6)]:JSON[_0x2d76c3(0x6f0)](_0x1896c8,null,0x2)};this[_0x2d76c3(0x7cd)](_0x1c0bb9,_0xcdb9ef,_0x3ea6cb),this[_0x2d76c3(0x4e3)][_0x2d76c3(0x1c2)](this['instanceName']+'\x20('+this[_0x2d76c3(0x47a)][_0x2d76c3(0x5a4)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x1896c8 instanceof Error?_0x1896c8[_0x2d76c3(0x6c6)]:JSON['stringify'](_0x1896c8,null,0x2)));}}async[a0_0xf534fa(0x7fb)](_0x206cbc,_0x30ad20){const _0x24aa2b=a0_0xf534fa;this[_0x24aa2b(0x4e3)][_0x24aa2b(0x6f6)](this[_0x24aa2b(0x653)]+'\x20('+this[_0x24aa2b(0x47a)][_0x24aa2b(0x5a4)]+_0x24aa2b(0x54d));let _0xcba0e=_0x206cbc[_0x24aa2b(0x1cf)][_0x24aa2b(0x4d6)][_0x24aa2b(0x525)](_0x8d5b61=>_0x8d5b61[_0x24aa2b(0x8e3)]['toString']()===_0x30ad20[_0x24aa2b(0x2cf)][_0x24aa2b(0x8e3)][_0x24aa2b(0x7f7)]()),_0x2ba68d={'id':_0xcba0e['messageId'],'remoteJid':_0xcba0e[_0x24aa2b(0x281)],'fromMe':_0xcba0e[_0x24aa2b(0x853)]};try{let _0x48a8ba=await this[_0x24aa2b(0x724)](_0x2ba68d);if(_0x48a8ba){let _0x7ef1ef=(0x0,w[_0x24aa2b(0x5af)])(_0x48a8ba[_0x24aa2b(0x6c6)]),_0x1c3212=(0x0,w[_0x24aa2b(0x662)])(_0x7ef1ef);_0x206cbc[_0x24aa2b(0x1cf)][_0x24aa2b(0x353)]=_0x30ad20['_id'][_0x24aa2b(0x7f7)]();let {message_normalized:_0x3ada4e}=this[_0x24aa2b(0x382)](_0x7ef1ef,_0x1c3212,null);_0x206cbc['chatLog'][_0x24aa2b(0x1bf)]=await _0x3ada4e;let _0xc7dd35={};this[_0x24aa2b(0x7cd)](_0x206cbc,_0x30ad20,_0xc7dd35);}else{let _0x392d80={'error':!0x0};this[_0x24aa2b(0x7cd)](_0x206cbc,_0x30ad20,_0x392d80),this[_0x24aa2b(0x4e3)][_0x24aa2b(0x1c2)](this[_0x24aa2b(0x653)]+'\x20('+this[_0x24aa2b(0x47a)][_0x24aa2b(0x5a4)]+_0x24aa2b(0x4e8));}}catch(_0x1167fb){let _0x13dac4={'error':!0x0,'errorLog':_0x1167fb instanceof Error?_0x1167fb[_0x24aa2b(0x6c6)]:JSON[_0x24aa2b(0x6f0)](_0x1167fb,null,0x2)};this['updateConversation'](_0x206cbc,_0x30ad20,_0x13dac4),this[_0x24aa2b(0x4e3)][_0x24aa2b(0x1c2)](this['instanceName']+'\x20('+this[_0x24aa2b(0x47a)][_0x24aa2b(0x5a4)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x1167fb instanceof Error?_0x1167fb['message']:JSON[_0x24aa2b(0x6f0)](_0x1167fb,null,0x2)));}}async['createFlow'](_0x538b5b,_0x23f480){const _0x3cd5b4=a0_0xf534fa;if(_0x538b5b[_0x3cd5b4(0x232)]||(_0x538b5b['name']=(0x0,Y['v4'])()),_0x23f480!==Ni&&_0x538b5b?.[_0x3cd5b4(0x67e)])throw new m(_0x3cd5b4(0x20d));if(_0x3cd5b4(0x656)in _0x538b5b&&_0x3cd5b4(0x2ad)in _0x538b5b)return this['AddUserFlow'](_0x538b5b[_0x3cd5b4(0x2ad)],_0x538b5b['_id']);this[_0x3cd5b4(0x4e3)]['verbose'](this[_0x3cd5b4(0x653)]+'\x20('+this[_0x3cd5b4(0x47a)]['wuid']+_0x3cd5b4(0x518));let _0x4922d4=this[_0x3cd5b4(0x5d4)](_0x538b5b['name']),_0x34e102=new pe[(_0x3cd5b4(0x7c1))]['ObjectId'](),_0x11d749={'_id':_0x34e102,'default':!0x0,'title':_0x3cd5b4(0x680),'x':0x0,'y':0x0},_0x46ddb7={'_id':new pe[(_0x3cd5b4(0x7c1))][(_0x3cd5b4(0x8b4))](),'order':0x1,'groupId':_0x34e102['toString'](),'type':'start'},_0x1b1d4f=this[_0x3cd5b4(0x47a)][_0x3cd5b4(0x5a4)],_0x54f05d={'_id':(0x0,Y['v4'])(),'owner':_0x1b1d4f,'name':_0x4922d4,'whoCanEdit':[_0x1b1d4f],'whoCanUse':[_0x1b1d4f],'groups':[_0x11d749],'blocks':[_0x46ddb7],..._0x538b5b};try{let _0x39d282=await this[_0x3cd5b4(0x7ea)]['flow'][_0x3cd5b4(0x258)](_0x54f05d);return await this[_0x3cd5b4(0x4c5)](),_0x39d282;}catch(_0x5b0524){let _0x4a9d2d='Erro\x20ao\x20criar\x20fluxo',_0x4d962a=_0x5b0524 instanceof Error?_0x5b0524['message']:typeof _0x5b0524==_0x3cd5b4(0x71e)?JSON[_0x3cd5b4(0x6f0)](_0x5b0524):_0x5b0524,_0x244124=_0x4a9d2d+':\x20'+_0x4d962a;throw this[_0x3cd5b4(0x4e3)][_0x3cd5b4(0x1c2)](this[_0x3cd5b4(0x653)]+'\x20('+this[_0x3cd5b4(0x47a)][_0x3cd5b4(0x5a4)]+'):\x20'+_0x244124),new m(_0x244124);}}async[a0_0xf534fa(0x5e4)](_0x3a6a6c,_0x11601e){const _0x110857=a0_0xf534fa;try{this[_0x110857(0x4e3)][_0x110857(0x6f6)](this['instanceName']+'\x20('+this[_0x110857(0x47a)]['wuid']+_0x110857(0x7d6));let _0x2cf7d3=await this[_0x110857(0x7ea)]['flow']['findOne']({'where':{'_id':_0x11601e,'owner':_0x3a6a6c}});if(!_0x2cf7d3)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0x2cf7d3[_0x110857(0x5ce)]===!0x1&&!_0x2cf7d3[_0x110857(0x67e)])throw new m(_0x110857(0x736));let _0x3248c8=new Set(_0x2cf7d3[_0x110857(0x3b2)]??[]);_0x3248c8[_0x110857(0x1eb)](this[_0x110857(0x47a)][_0x110857(0x5a4)]);let _0x3ba0a7=await this['repository'][_0x110857(0x66e)][_0x110857(0x21a)](_0x11601e,{..._0x2cf7d3,'whoCanUse':Array[_0x110857(0x831)](_0x3248c8)});return await this[_0x110857(0x4c5)](),_0x3ba0a7;}catch(_0x3acdcf){let _0x337fc7='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x4c79b6=_0x3acdcf instanceof Error?_0x3acdcf['message']:typeof _0x3acdcf==_0x110857(0x71e)?JSON[_0x110857(0x6f0)](_0x3acdcf):_0x3acdcf,_0xfa2d0c=_0x337fc7+':\x20'+_0x4c79b6;throw this['logger'][_0x110857(0x1c2)](this[_0x110857(0x653)]+'\x20('+this[_0x110857(0x47a)][_0x110857(0x5a4)]+_0x110857(0x43f)+_0xfa2d0c),new m(_0xfa2d0c);}}[a0_0xf534fa(0x5d4)](_0x23fc9d){const _0x4bc3e6=a0_0xf534fa;let _0x48d665=_0x23fc9d,_0x142b46=0x1;for(;this[_0x4bc3e6(0x877)]['flows'][_0x4bc3e6(0x7a7)](_0x583a33=>_0x583a33[_0x4bc3e6(0x232)]===_0x48d665);)_0x142b46++,_0x48d665=_0x23fc9d+'\x20('+_0x142b46+')';return _0x48d665;}async['deleteFlow'](_0x4799d9){const _0x3798c8=a0_0xf534fa;try{if(this['logger'][_0x3798c8(0x6f6)](this['instanceName']+'\x20('+this[_0x3798c8(0x47a)]['wuid']+_0x3798c8(0x7f6)+_0x4799d9['_id']+_0x3798c8(0x375)+_0x4799d9['global']),!this[_0x3798c8(0x877)][_0x3798c8(0x390)][_0x3798c8(0x525)](_0x29e7b7=>_0x29e7b7[_0x3798c8(0x656)]===_0x4799d9['_id']))throw this[_0x3798c8(0x4e3)][_0x3798c8(0x6f6)](this[_0x3798c8(0x653)]+'\x20('+this[_0x3798c8(0x47a)][_0x3798c8(0x5a4)]+_0x3798c8(0x8e5)+_0x4799d9['_id']+_0x3798c8(0x1d5)),new m(_0x3798c8(0x81d));let _0x357f63=await this['repository'][_0x3798c8(0x66e)]['findOne']({'where':{'_id':_0x4799d9[_0x3798c8(0x656)]}});if(!_0x357f63)throw new m(_0x3798c8(0x51e));if(this[_0x3798c8(0x47a)][_0x3798c8(0x5a4)]===_0x357f63[_0x3798c8(0x2ad)]){this[_0x3798c8(0x4e3)][_0x3798c8(0x6f6)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27'+_0x4799d9[_0x3798c8(0x656)]+_0x3798c8(0x437));let _0xb406a0=await this[_0x3798c8(0x7ea)][_0x3798c8(0x66e)][_0x3798c8(0x56e)]({'where':{'_id':_0x4799d9[_0x3798c8(0x656)]}});return await this[_0x3798c8(0x4c5)](),_0xb406a0;}return this['logger']['verbose'](this[_0x3798c8(0x653)]+'\x20('+this['instance']['wuid']+_0x3798c8(0x6ca)+this[_0x3798c8(0x47a)][_0x3798c8(0x5a4)]+'\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27'+_0x4799d9[_0x3798c8(0x656)]+'\x27...'),_0x357f63[_0x3798c8(0x3b2)]=(_0x357f63['whoCanUse']??[])[_0x3798c8(0x5d3)](_0x1282b7=>_0x1282b7!==this[_0x3798c8(0x47a)]['wuid']),_0x357f63[_0x3798c8(0x491)]=(_0x357f63['whoCanEdit']??[])['filter'](_0xeaec57=>_0xeaec57!==this[_0x3798c8(0x47a)]['wuid']),_0x357f63[_0x3798c8(0x491)][_0x3798c8(0x847)]===0x0&&_0x357f63[_0x3798c8(0x3b2)][_0x3798c8(0x847)]>0x0&&(_0x357f63[_0x3798c8(0x491)][_0x3798c8(0x1a2)](_0x357f63[_0x3798c8(0x3b2)][0x0]),this['logger']['verbose'](this[_0x3798c8(0x653)]+'\x20('+this[_0x3798c8(0x47a)][_0x3798c8(0x5a4)]+'):\x20Adicionando\x20\x27'+_0x357f63[_0x3798c8(0x3b2)][0x0]+_0x3798c8(0x19b)+_0x4799d9[_0x3798c8(0x656)]+_0x3798c8(0x6e5))),await this[_0x3798c8(0x7ea)][_0x3798c8(0x66e)]['updateOne'](_0x357f63[_0x3798c8(0x656)],_0x357f63),await this[_0x3798c8(0x4c5)](),{'message':'Fluxo\x20\x27'+_0x4799d9['name']+'\x27\x20removido\x20do\x20AutomateSystem.'};}catch(_0x3d8cec){return this[_0x3798c8(0x4e3)][_0x3798c8(0x1c2)](this[_0x3798c8(0x653)]+'\x20('+this[_0x3798c8(0x47a)][_0x3798c8(0x5a4)]+'):\x20Erro\x20ao\x20deletar\x20fluxo\x20'+(_0x3d8cec instanceof Error?_0x3d8cec[_0x3798c8(0x6c6)]:JSON['stringify'](_0x3d8cec,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+(_0x3d8cec instanceof Error?_0x3d8cec[_0x3798c8(0x6c6)]:JSON[_0x3798c8(0x6f0)](_0x3d8cec,null,0x2))};}}async[a0_0xf534fa(0x7a5)](_0x2eb8d8){const _0x8957ac=a0_0xf534fa;try{if(this[_0x8957ac(0x4e3)][_0x8957ac(0x8d8)](this[_0x8957ac(0x653)]+'\x20('+this[_0x8957ac(0x47a)]['wuid']+_0x8957ac(0x81f)+_0x2eb8d8),!this[_0x8957ac(0x877)]&&(await this[_0x8957ac(0x456)](),!this[_0x8957ac(0x877)]))return null;let _0x5f21dd=await this[_0x8957ac(0x7ea)][_0x8957ac(0x66e)][_0x8957ac(0x3b6)]({'where':{'_id':_0x2eb8d8}});if(!_0x5f21dd)throw new m(_0x8957ac(0x5c1)+_0x2eb8d8+_0x8957ac(0x580));if(!(_0x5f21dd[_0x8957ac(0x67e)]||_0x5f21dd[_0x8957ac(0x3b2)]?.[_0x8957ac(0x89d)](this[_0x8957ac(0x47a)]['wuid'])))throw new m(_0x8957ac(0x3af)+name+'\x27');_0x5f21dd['globalShow']&&!_0x5f21dd[_0x8957ac(0x3b2)]?.[_0x8957ac(0x89d)](this[_0x8957ac(0x47a)][_0x8957ac(0x5a4)])&&(_0x5f21dd['whoCanUse']=[..._0x5f21dd[_0x8957ac(0x3b2)]??[],this[_0x8957ac(0x47a)][_0x8957ac(0x5a4)]],await this[_0x8957ac(0x7ea)][_0x8957ac(0x66e)][_0x8957ac(0x21a)](_0x5f21dd['_id'],_0x5f21dd),this[_0x8957ac(0x4c5)]());let _0x28944b=this[_0x8957ac(0x877)]?.[_0x8957ac(0x3c9)]['map'](_0x36839a=>_0x36839a['name']),_0x7d060a=['nome',_0x8957ac(0x8a8),_0x8957ac(0x8ce),_0x8957ac(0x1bc),_0x8957ac(0x2d2),_0x8957ac(0x3ee),_0x8957ac(0x605),_0x8957ac(0x376),_0x8957ac(0x69c),'telefone',_0x8957ac(0x20a)];_0x5f21dd['variables']=_0x5f21dd[_0x8957ac(0x7f4)]['filter'](_0xf256e5=>!(_0xf256e5[_0x8957ac(0x7fd)]===_0x8957ac(0x270)||_0xf256e5['leadInfo'])),_0x7d060a[_0x8957ac(0x753)](_0x3e26d8=>{const _0x4172c7=_0x8957ac;_0x5f21dd[_0x4172c7(0x7f4)][_0x4172c7(0x1a2)]({'folder':_0x4172c7(0x270),'name':_0x3e26d8,'value':'','doc':'','leadInfo':!0x0});}),_0x28944b['forEach'](_0x4cf476=>{const _0x234652=_0x8957ac;let _0x3a31a8=_0x5f21dd[_0x234652(0x7f4)][_0x234652(0x807)](_0x694835=>_0x694835[_0x234652(0x232)]===_0x4cf476);_0x3a31a8===-0x1?_0x5f21dd[_0x234652(0x7f4)][_0x234652(0x1a2)]({'folder':'leadInfo','name':_0x4cf476,'value':'','doc':'','leadInfo':!0x0}):(_0x5f21dd[_0x234652(0x7f4)][_0x3a31a8][_0x234652(0x7fd)]=_0x234652(0x270),_0x5f21dd[_0x234652(0x7f4)][_0x3a31a8]['leadInfo']=!0x0);}),_0x5f21dd['blocks']&&_0x5f21dd[_0x8957ac(0x840)][_0x8957ac(0x847)]>0x0&&_0x5f21dd[_0x8957ac(0x840)]['forEach'](_0xb0c6a9=>{const _0x427771=_0x8957ac;_0xb0c6a9[_0x427771(0x663)]&&_0xb0c6a9['next_groupId']&&_0xb0c6a9[_0x427771(0x663)]===_0xb0c6a9[_0x427771(0x526)]&&(_0xb0c6a9['next_groupId']=null);});let _0x4cc5f4=await this[_0x8957ac(0x7ea)][_0x8957ac(0x66e)][_0x8957ac(0x21a)](_0x5f21dd[_0x8957ac(0x656)],_0x5f21dd);if(!_0x4cc5f4)throw new Error(_0x8957ac(0x335));return _0x4cc5f4;}catch(_0x53b9c5){let _0x2b13de=_0x8957ac(0x6e2),_0x41cfcd=_0x53b9c5 instanceof Error?_0x53b9c5[_0x8957ac(0x6c6)]:typeof _0x53b9c5==_0x8957ac(0x71e)?JSON['stringify'](_0x53b9c5):_0x53b9c5,_0x3e6c32=_0x2b13de+':\x20'+_0x41cfcd;throw this['logger'][_0x8957ac(0x1c2)](this[_0x8957ac(0x653)]+'\x20('+this[_0x8957ac(0x47a)]['wuid']+_0x8957ac(0x43f)+_0x3e6c32),new m(_0x3e6c32);}}async[a0_0xf534fa(0x795)](){const _0x257848=a0_0xf534fa;try{this[_0x257848(0x4e3)]['verbose'](this[_0x257848(0x653)]+'\x20('+this[_0x257848(0x47a)][_0x257848(0x5a4)]+_0x257848(0x538)),await this[_0x257848(0x4c5)]();let _0x11fd66=await this[_0x257848(0x7ea)][_0x257848(0x66e)]['findAll']({'where':{'globalShow':!0x0}});return[...this['AutomateSystem'][_0x257848(0x390)],..._0x11fd66];}catch(_0x5cd3e1){return this[_0x257848(0x4e3)][_0x257848(0x1c2)](this['instanceName']+'\x20('+this[_0x257848(0x47a)][_0x257848(0x5a4)]+_0x257848(0x309)+(_0x5cd3e1 instanceof Error?_0x5cd3e1[_0x257848(0x6c6)]:JSON[_0x257848(0x6f0)](_0x5cd3e1,null,0x2))),{'message':_0x257848(0x1f8)+(_0x5cd3e1 instanceof Error?_0x5cd3e1[_0x257848(0x6c6)]:String(_0x5cd3e1))};}}async['editFlow'](_0x3948ce,_0x10fb10){const _0x1c3cdb=a0_0xf534fa;try{this[_0x1c3cdb(0x4e3)][_0x1c3cdb(0x6f6)](this[_0x1c3cdb(0x653)]+'\x20('+this[_0x1c3cdb(0x47a)][_0x1c3cdb(0x5a4)]+'):\x20Alterando\x20fluxo...');let _0x4933d8=this[_0x1c3cdb(0x877)][_0x1c3cdb(0x390)][_0x1c3cdb(0x525)](_0x5b8cac=>_0x5b8cac[_0x1c3cdb(0x656)]===_0x3948ce[_0x1c3cdb(0x656)]);if(!_0x4933d8)throw this[_0x1c3cdb(0x4e3)]['verbose'](this[_0x1c3cdb(0x653)]+'\x20('+this['instance']['wuid']+_0x1c3cdb(0x8e5)+_0x3948ce['_id']+_0x1c3cdb(0x1d5)),new m(_0x1c3cdb(0x81d));let _0x439ead=await this[_0x1c3cdb(0x7ea)][_0x1c3cdb(0x66e)][_0x1c3cdb(0x3b6)]({'where':{'_id':_0x3948ce['_id']}});if(!_0x439ead||!_0x439ead[_0x1c3cdb(0x3b2)]?.['includes'](this[_0x1c3cdb(0x47a)][_0x1c3cdb(0x5a4)]))throw this[_0x1c3cdb(0x4e3)][_0x1c3cdb(0x1c2)](this[_0x1c3cdb(0x653)]+'\x20('+this[_0x1c3cdb(0x47a)][_0x1c3cdb(0x5a4)]+_0x1c3cdb(0x790)+_0x3948ce[_0x1c3cdb(0x656)]+_0x1c3cdb(0x21c)),new m(_0x1c3cdb(0x475)+_0x3948ce[_0x1c3cdb(0x656)]+_0x1c3cdb(0x21c));let _0x4fde0f=this[_0x1c3cdb(0x877)][_0x1c3cdb(0x390)][_0x1c3cdb(0x807)](_0x287bba=>_0x287bba[_0x1c3cdb(0x656)]===_0x4933d8[_0x1c3cdb(0x656)]);if(_0x4fde0f!==-0x1){let _0x28242c=this[_0x1c3cdb(0x877)][_0x1c3cdb(0x390)][_0x4fde0f];if(_0x28242c[_0x1c3cdb(0x232)]=_0x3948ce['name']??_0x28242c['name'],_0x28242c[_0x1c3cdb(0x311)]=_0x3948ce[_0x1c3cdb(0x311)]??_0x28242c[_0x1c3cdb(0x311)],_0x28242c[_0x1c3cdb(0x581)]=_0x3948ce[_0x1c3cdb(0x581)]??_0x28242c[_0x1c3cdb(0x581)],_0x28242c['startCommand']=_0x3948ce[_0x1c3cdb(0x699)]??_0x28242c[_0x1c3cdb(0x1a3)],_0x28242c[_0x1c3cdb(0x575)]=_0x3948ce[_0x1c3cdb(0x575)]??_0x28242c[_0x1c3cdb(0x575)],_0x28242c[_0x1c3cdb(0x413)]=_0x3948ce['readMessages']??_0x28242c[_0x1c3cdb(0x413)],_0x3948ce[_0x1c3cdb(0x311)]&&this[_0x1c3cdb(0x877)][_0x1c3cdb(0x390)][_0x1c3cdb(0x753)]((_0xfb87a0,_0x1986c1)=>{_0x1986c1!==_0x4fde0f&&(_0xfb87a0['default']=!0x1);}),this['AutomateSystem']['flows'][_0x4fde0f]=_0x28242c,!await this[_0x1c3cdb(0x7ea)]['automateSystem'][_0x1c3cdb(0x1bb)]({'flows':this[_0x1c3cdb(0x877)][_0x1c3cdb(0x390)]},this['instance'][_0x1c3cdb(0x5a4)]))throw new m(_0x1c3cdb(0x752));}let _0x139d6f=[_0x1c3cdb(0x812),_0x1c3cdb(0x689),_0x1c3cdb(0x28f),_0x1c3cdb(0x29d)];for(let _0x5ecd39 of _0x139d6f)delete _0x3948ce[_0x5ecd39];if(_0x439ead['whoCanEdit']?.[_0x1c3cdb(0x89d)](this['instance'][_0x1c3cdb(0x5a4)])||(_0x3948ce={'_id':_0x3948ce[_0x1c3cdb(0x656)]}),_0x10fb10!==Ni&&_0x3948ce?.[_0x1c3cdb(0x67e)]&&!_0x439ead?.[_0x1c3cdb(0x67e)])throw new m(_0x1c3cdb(0x833));let _0x3ed43a=new Set(_0x3948ce['whoCanEdit']??_0x439ead[_0x1c3cdb(0x491)]);_0x3ed43a[_0x1c3cdb(0x1eb)](_0x439ead[_0x1c3cdb(0x2ad)]);let _0x1eca06=new Set(_0x3948ce[_0x1c3cdb(0x3b2)]??_0x439ead['whoCanUse']??[]);_0x3ed43a['forEach'](_0x359463=>_0x1eca06[_0x1c3cdb(0x1eb)](_0x359463)),_0x1eca06[_0x1c3cdb(0x1eb)](_0x439ead[_0x1c3cdb(0x2ad)]),this[_0x1c3cdb(0x4e3)]['verbose'](this['instanceName']+'\x20('+this[_0x1c3cdb(0x47a)][_0x1c3cdb(0x5a4)]+_0x1c3cdb(0x749)+Array[_0x1c3cdb(0x831)](_0x3ed43a)),this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1c3cdb(0x5a4)]+_0x1c3cdb(0x884)+Array[_0x1c3cdb(0x831)](_0x1eca06));let _0x128276=await this['getValidWhatsAppNumbers'](Array['from'](_0x1eca06)),_0x286143=Array[_0x1c3cdb(0x831)](_0x3ed43a)[_0x1c3cdb(0x5d3)](_0x1288b4=>_0x128276[_0x1c3cdb(0x89d)](_0x1288b4)),_0x17a9bb=Array[_0x1c3cdb(0x831)](_0x1eca06)[_0x1c3cdb(0x5d3)](_0x17ae94=>_0x128276[_0x1c3cdb(0x89d)](_0x17ae94));this['logger'][_0x1c3cdb(0x6f6)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1c3cdb(0x577)+_0x286143),this[_0x1c3cdb(0x4e3)][_0x1c3cdb(0x6f6)](this['instanceName']+'\x20('+this[_0x1c3cdb(0x47a)][_0x1c3cdb(0x5a4)]+_0x1c3cdb(0x3d5)+_0x17a9bb);let _0x5c0e38={..._0x439ead,..._0x3948ce,'whoCanEdit':_0x286143,'whoCanUse':_0x17a9bb},_0xf27978=await this['repository'][_0x1c3cdb(0x66e)][_0x1c3cdb(0x21a)](_0x439ead[_0x1c3cdb(0x656)],_0x5c0e38);return await this[_0x1c3cdb(0x4c5)](),_0xf27978;}catch(_0x1a5c9e){let _0x19ff2d=_0x1c3cdb(0x5e5),_0x88f14b=_0x1a5c9e instanceof Error?_0x1a5c9e['message']:typeof _0x1a5c9e==_0x1c3cdb(0x71e)?JSON['stringify'](_0x1a5c9e):_0x1a5c9e,_0x1484af=_0x19ff2d+':\x20'+_0x88f14b;throw this['logger'][_0x1c3cdb(0x1c2)](this[_0x1c3cdb(0x653)]+'\x20('+this[_0x1c3cdb(0x47a)]['wuid']+_0x1c3cdb(0x43f)+_0x1484af),new m(_0x1484af);}}async[a0_0xf534fa(0x269)](_0x5693f6){const _0x2bcc9b=a0_0xf534fa;let _0x14718f={'numbers':_0x5693f6};return(await this[_0x2bcc9b(0x862)](_0x14718f))['filter'](_0x476b34=>_0x476b34[_0x2bcc9b(0x2b6)])['map'](_0x1e3daf=>_0x1e3daf[_0x2bcc9b(0x47e)])[_0x2bcc9b(0x445)](_0x42d073=>this['extractPhoneNumber'](_0x42d073));}[a0_0xf534fa(0x527)](_0x72a2){const _0x5eec30=a0_0xf534fa;let _0x28b332=_0x72a2[_0x5eec30(0x655)](/\d+/);return _0x28b332?_0x28b332[0x0]:'';}async[a0_0xf534fa(0x802)](_0x539eb2){const _0x46bf32=a0_0xf534fa;try{if(this[_0x46bf32(0x4e3)][_0x46bf32(0x6f6)](this[_0x46bf32(0x653)]+'\x20('+this[_0x46bf32(0x47a)][_0x46bf32(0x5a4)]+'):\x20Editando\x20bloco...'),!this[_0x46bf32(0x877)][_0x46bf32(0x390)]['find'](_0x317f75=>_0x317f75[_0x46bf32(0x656)]===_0x539eb2[_0x46bf32(0x656)]))throw this['logger'][_0x46bf32(0x6f6)](this['instanceName']+'\x20('+this[_0x46bf32(0x47a)][_0x46bf32(0x5a4)]+_0x46bf32(0x8e5)+_0x539eb2['_id']+_0x46bf32(0x1d5)),new m(_0x46bf32(0x81d));let _0x4fda2a=await this['repository'][_0x46bf32(0x66e)][_0x46bf32(0x3b6)]({'where':{'_id':_0x539eb2['_id']}});if(!_0x4fda2a||!_0x4fda2a['whoCanUse']?.[_0x46bf32(0x89d)](this[_0x46bf32(0x47a)][_0x46bf32(0x5a4)]))throw this[_0x46bf32(0x4e3)]['error'](this[_0x46bf32(0x653)]+'\x20('+this[_0x46bf32(0x47a)]['wuid']+_0x46bf32(0x790)+_0x539eb2[_0x46bf32(0x656)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x46bf32(0x475)+_0x539eb2['_id']+_0x46bf32(0x21c));if(!_0x4fda2a['whoCanEdit']?.[_0x46bf32(0x89d)](this['instance'][_0x46bf32(0x5a4)]))throw new m(_0x46bf32(0x2e5));let {block:_0x103e24}=_0x539eb2;_0x103e24?.[_0x46bf32(0x610)]?this[_0x46bf32(0x24f)](_0x4fda2a,_0x539eb2):_0x103e24?.[_0x46bf32(0x4ee)]?this[_0x46bf32(0x676)](_0x4fda2a,_0x539eb2):_0x103e24['_id']?await this[_0x46bf32(0x7f2)](_0x4fda2a,_0x539eb2):this[_0x46bf32(0x5a0)](_0x4fda2a,_0x539eb2);let _0x1d7bcf=await this[_0x46bf32(0x7ea)][_0x46bf32(0x66e)][_0x46bf32(0x21a)](_0x4fda2a[_0x46bf32(0x656)],_0x4fda2a);if(!_0x1d7bcf)throw new Error(_0x46bf32(0x335));return _0x1d7bcf;}catch(_0x52c99a){this['throwAndLogError'](_0x46bf32(0x4ea)+_0x52c99a['message']);}}async[a0_0xf534fa(0x24f)](_0x2d8db8,_0x18a80e){const _0x5b9307=a0_0xf534fa;let _0x56a4f0=_0x18a80e[_0x5b9307(0x5b1)]['_id'],_0x1b5aa0=_0x2d8db8[_0x5b9307(0x840)][_0x5b9307(0x525)](_0x45b82c=>_0x45b82c['_id'][_0x5b9307(0x7f7)]()===_0x56a4f0);if(!_0x1b5aa0){this[_0x5b9307(0x4e3)]['error'](this[_0x5b9307(0x653)]+'\x20('+this['instance'][_0x5b9307(0x5a4)]+'):\x20Bloco\x20com\x20ID\x20'+_0x56a4f0+_0x5b9307(0x343));return;}this[_0x5b9307(0x4e3)]['verbose'](this[_0x5b9307(0x653)]+'\x20('+this[_0x5b9307(0x47a)][_0x5b9307(0x5a4)]+_0x5b9307(0x851)+JSON[_0x5b9307(0x6f0)](_0x1b5aa0));let _0x1a302b=JSON[_0x5b9307(0x845)](JSON[_0x5b9307(0x6f0)](_0x1b5aa0));_0x1a302b[_0x5b9307(0x656)]=new pe[(_0x5b9307(0x311))][(_0x5b9307(0x7c1))][(_0x5b9307(0x8b4))](),this['logger'][_0x5b9307(0x6f6)](this[_0x5b9307(0x653)]+'\x20('+this[_0x5b9307(0x47a)][_0x5b9307(0x5a4)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x5b9307(0x6f0)](_0x1a302b)),_0x2d8db8['blocks']['push'](_0x1a302b),this[_0x5b9307(0x6ce)](_0x2d8db8[_0x5b9307(0x840)],_0x1a302b[_0x5b9307(0x663)]);}[a0_0xf534fa(0x723)](_0x567684){const _0x323c0c=a0_0xf534fa;throw this[_0x323c0c(0x4e3)][_0x323c0c(0x1c2)](this['instanceName']+'\x20('+this['instance'][_0x323c0c(0x5a4)]+_0x323c0c(0x43f)+_0x567684),new m(_0x567684);}['deleteBlock'](_0x4a7c3c,_0x43bfdb){const _0xcd8092=a0_0xf534fa;let {block:_0x459449}=_0x43bfdb;if(_0x459449[_0xcd8092(0x20f)]==='start'){this[_0xcd8092(0x723)](_0xcd8092(0x1a8));return;}if(!_0x459449[_0xcd8092(0x656)]){this['throwAndLogError'](_0xcd8092(0x737));return;}let _0x562cd1=_0x4a7c3c['blocks'][_0xcd8092(0x525)](_0x5884eb=>_0x5884eb[_0xcd8092(0x656)][_0xcd8092(0x7f7)]()===_0x43bfdb[_0xcd8092(0x5b1)][_0xcd8092(0x656)]['toString']());if(!_0x562cd1){this[_0xcd8092(0x723)](_0xcd8092(0x800)+_0x459449[_0xcd8092(0x656)]+_0xcd8092(0x731));return;}_0x4a7c3c[_0xcd8092(0x840)]=_0x4a7c3c['blocks'][_0xcd8092(0x5d3)](_0x273d31=>_0x273d31[_0xcd8092(0x656)][_0xcd8092(0x7f7)]()!==_0x43bfdb[_0xcd8092(0x5b1)][_0xcd8092(0x656)]['toString']()),_0x4a7c3c[_0xcd8092(0x7f1)]=_0x4a7c3c['conditions'][_0xcd8092(0x5d3)](_0x32f1d2=>_0x32f1d2[_0xcd8092(0x8e3)]!==_0x459449[_0xcd8092(0x656)]['toString']()),_0x4a7c3c[_0xcd8092(0x43e)]=_0x4a7c3c['varedits'][_0xcd8092(0x5d3)](_0x1e64a9=>_0x1e64a9[_0xcd8092(0x8e3)]!==_0x459449[_0xcd8092(0x656)][_0xcd8092(0x7f7)]()),_0x4a7c3c[_0xcd8092(0x67a)]=_0x4a7c3c[_0xcd8092(0x67a)][_0xcd8092(0x5d3)](_0xcadfe5=>_0xcadfe5[_0xcd8092(0x8e3)]!==_0x459449['_id']['toString']()),this[_0xcd8092(0x6ce)](_0x4a7c3c[_0xcd8092(0x840)],_0x562cd1[_0xcd8092(0x663)]);}async['updateBlock'](_0x416505,_0x13d70f){const _0x5bba83=a0_0xf534fa;let _0x1e704f=_0x416505[_0x5bba83(0x840)][_0x5bba83(0x807)](_0x1034ae=>_0x1034ae['_id'][_0x5bba83(0x7f7)]()===_0x13d70f[_0x5bba83(0x5b1)][_0x5bba83(0x656)][_0x5bba83(0x7f7)]());if(this[_0x5bba83(0x4e3)][_0x5bba83(0x6f6)](this[_0x5bba83(0x653)]+'\x20('+this[_0x5bba83(0x47a)]['wuid']+_0x5bba83(0x7da)+_0x1e704f),_0x1e704f===-0x1){this[_0x5bba83(0x4e3)][_0x5bba83(0x6f6)](_0x5bba83(0x800)+_0x13d70f[_0x5bba83(0x5b1)][_0x5bba83(0x656)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x416505[_0x5bba83(0x840)][_0x1e704f][_0x5bba83(0x20f)]===_0x5bba83(0x499)){let _0x1fc64c=Object[_0x5bba83(0x725)](_0x13d70f['block']);if(_0x1fc64c['length']>0x2||_0x1fc64c[_0x5bba83(0x847)]===0x2&&!_0x1fc64c['includes'](_0x5bba83(0x526))){this['throwAndLogError'](_0x5bba83(0x886));return;}}let _0x3068e1=_0x416505[_0x5bba83(0x840)][_0x1e704f][_0x5bba83(0x663)];for(let _0x1176de in _0x13d70f[_0x5bba83(0x5b1)])_0x13d70f[_0x5bba83(0x5b1)][_0x5bba83(0x6f5)](_0x1176de)&&(_0x416505['blocks'][_0x1e704f][_0x1176de]=_0x13d70f[_0x5bba83(0x5b1)][_0x1176de]);if(this[_0x5bba83(0x4e3)][_0x5bba83(0x6f6)](this[_0x5bba83(0x653)]+'\x20('+this[_0x5bba83(0x47a)][_0x5bba83(0x5a4)]+_0x5bba83(0x598)+JSON[_0x5bba83(0x6f0)](_0x416505[_0x5bba83(0x840)][_0x1e704f])),_0x416505['blocks'][_0x1e704f][_0x5bba83(0x743)]&&'header'in _0x416505[_0x5bba83(0x840)][_0x1e704f][_0x5bba83(0x743)]){this[_0x5bba83(0x4e3)][_0x5bba83(0x6f6)](this[_0x5bba83(0x653)]+'\x20('+this[_0x5bba83(0x47a)][_0x5bba83(0x5a4)]+_0x5bba83(0x4d0));let _0x510bb2=JSON[_0x5bba83(0x6f0)](_0x416505[_0x5bba83(0x840)][_0x1e704f][_0x5bba83(0x743)][_0x5bba83(0x1fe)],null,0x1);_0x510bb2['length']>0x2&&(_0x510bb2=_0x510bb2[_0x5bba83(0x32d)](0x1,_0x510bb2[_0x5bba83(0x847)]-0x1)['trim']()),_0x416505['blocks'][_0x1e704f][_0x5bba83(0x743)][_0x5bba83(0x419)]=_0x510bb2;}if(_0x416505[_0x5bba83(0x840)][_0x1e704f][_0x5bba83(0x743)]&&'body'in _0x416505[_0x5bba83(0x840)][_0x1e704f][_0x5bba83(0x743)]&&!(_0x5bba83(0x730)in _0x416505[_0x5bba83(0x840)][_0x1e704f]['apirequest'])){this[_0x5bba83(0x4e3)][_0x5bba83(0x6f6)](this['instanceName']+'\x20('+this[_0x5bba83(0x47a)][_0x5bba83(0x5a4)]+_0x5bba83(0x70a)),_0x416505[_0x5bba83(0x840)][_0x1e704f][_0x5bba83(0x743)]['bodyStringErrorParse']=!0x1;let _0x15efb9=JSON['stringify'](_0x416505[_0x5bba83(0x840)][_0x1e704f][_0x5bba83(0x743)][_0x5bba83(0x8dd)],null,0x2);_0x416505['blocks'][_0x1e704f][_0x5bba83(0x743)][_0x5bba83(0x730)]=_0x15efb9;}if(_0x416505['blocks'][_0x1e704f][_0x5bba83(0x743)]&&'bodyString'in _0x416505[_0x5bba83(0x840)][_0x1e704f][_0x5bba83(0x743)]){_0x416505[_0x5bba83(0x840)][_0x1e704f][_0x5bba83(0x743)][_0x5bba83(0x741)]=!0x1;let _0x4d504e=_0x416505[_0x5bba83(0x840)][_0x1e704f][_0x5bba83(0x743)][_0x5bba83(0x730)],_0x475e56=this[_0x5bba83(0x843)](_0x4d504e);_0x416505[_0x5bba83(0x840)][_0x1e704f][_0x5bba83(0x743)]['bodyString']=_0x475e56[_0x5bba83(0x1ad)],_0x416505['blocks'][_0x1e704f][_0x5bba83(0x743)][_0x5bba83(0x741)]=_0x475e56[_0x5bba83(0x1c2)];}let _0x109c54=_0x416505[_0x5bba83(0x840)][_0x1e704f][_0x5bba83(0x663)];_0x3068e1!==_0x109c54?(this[_0x5bba83(0x6ce)](_0x416505[_0x5bba83(0x840)],_0x3068e1),this[_0x5bba83(0x6ce)](_0x416505[_0x5bba83(0x840)],_0x109c54)):this[_0x5bba83(0x6ce)](_0x416505[_0x5bba83(0x840)],_0x3068e1);}[a0_0xf534fa(0x843)](_0x436a0e){const _0x690463=a0_0xf534fa;let _0x35c745='\u205f',_0x272d33=!0x1,_0x3849dc='';for(let _0xf002c7=0x0;_0xf002c7<_0x436a0e['length'];_0xf002c7++){let _0x30e612=_0x436a0e[_0xf002c7];_0x30e612==='\x22'&&(_0xf002c7===0x0||_0x436a0e[_0xf002c7-0x1]!=='\x5c')&&(_0x272d33=!_0x272d33),!(!_0x272d33&&(_0x30e612==='\x0a'||_0x30e612==='\x20'||_0x30e612===_0x35c745))&&(_0x3849dc+=_0x30e612);}let _0x51a638={},_0x42a4e4=9876543210.1234,_0x566a8f=_0x3849dc['replace'](/\{\{([^}]+)\}\}/g,_0x566ad6=>{let _0x2dab20=_0x566ad6,_0x3d32b9=''+_0x42a4e4;return _0x51a638[_0x3d32b9]=_0x2dab20,_0x42a4e4+=0.0001,_0x3d32b9;}),_0x585599='',_0xeb612c=!0x1;try{let _0x4f31cb=JSON[_0x690463(0x845)](_0x566a8f);_0x585599=JSON[_0x690463(0x6f0)](_0x4f31cb,null,0x2),_0x585599=_0x585599[_0x690463(0x60c)](/\n( +)/g,(_0xee3cf2,_0x43f80c)=>{const _0x52dc14=_0x690463;let _0x44cb2d=_0x43f80c[_0x52dc14(0x847)];return'\x0a'+_0x35c745[_0x52dc14(0x1a1)](_0x44cb2d*0x2);}),_0x585599=_0x585599[_0x690463(0x60c)](/(\d{10,}\.\d+)/g,_0x87a6af=>_0x51a638[_0x87a6af]||_0x87a6af);}catch(_0x39f806){this[_0x690463(0x4e3)][_0x690463(0x1c2)](_0x690463(0x78d)+_0x39f806),_0x585599=_0x436a0e,_0xeb612c=!0x0;}return{'result':_0x585599,'error':_0xeb612c};}['addBlock'](_0x586fa9,_0xe95ea2){const _0x1a6571=a0_0xf534fa;if(_0xe95ea2[_0x1a6571(0x5b1)][_0x1a6571(0x20f)]===_0x1a6571(0x499)){this[_0x1a6571(0x723)](_0x1a6571(0x876));return;}if(_0xe95ea2[_0x1a6571(0x5b1)][_0x1a6571(0x743)]&&_0x1a6571(0x1fe)in _0xe95ea2['block'][_0x1a6571(0x743)]){this[_0x1a6571(0x4e3)]['verbose'](this['instanceName']+'\x20('+this[_0x1a6571(0x47a)][_0x1a6571(0x5a4)]+_0x1a6571(0x4d0));let _0x17a685=JSON[_0x1a6571(0x6f0)](_0xe95ea2[_0x1a6571(0x5b1)][_0x1a6571(0x743)][_0x1a6571(0x1fe)],null,0x1);_0x17a685[_0x1a6571(0x847)]>0x2&&(_0x17a685=_0x17a685[_0x1a6571(0x32d)](0x1,_0x17a685[_0x1a6571(0x847)]-0x1)[_0x1a6571(0x4fb)]()),_0xe95ea2[_0x1a6571(0x5b1)][_0x1a6571(0x743)][_0x1a6571(0x419)]=_0x17a685;}_0xe95ea2[_0x1a6571(0x5b1)][_0x1a6571(0x743)]&&_0x1a6571(0x8dd)in _0xe95ea2[_0x1a6571(0x5b1)][_0x1a6571(0x743)]&&(this['logger'][_0x1a6571(0x6f6)](this[_0x1a6571(0x653)]+'\x20('+this['instance'][_0x1a6571(0x5a4)]+_0x1a6571(0x70a)),_0xe95ea2['block'][_0x1a6571(0x743)][_0x1a6571(0x730)]=JSON['stringify'](_0xe95ea2[_0x1a6571(0x5b1)][_0x1a6571(0x743)]['body'],null,0x1)['trim']()),_0x586fa9[_0x1a6571(0x840)]['push'](_0xe95ea2[_0x1a6571(0x5b1)]),this[_0x1a6571(0x6ce)](_0x586fa9['blocks'],_0xe95ea2[_0x1a6571(0x5b1)][_0x1a6571(0x663)]);}['reorderBlocks'](_0x5141ba,_0x13c348){const _0x34bb0c=a0_0xf534fa;let _0x533ccf=_0x5141ba['filter'](_0x4e3186=>_0x4e3186[_0x34bb0c(0x663)]===_0x13c348);_0x533ccf[_0x34bb0c(0x211)]((_0x41a163,_0x472d90)=>_0x41a163['order']-_0x472d90[_0x34bb0c(0x319)]),_0x533ccf[_0x34bb0c(0x753)]((_0x22db03,_0xcacf27)=>_0x22db03[_0x34bb0c(0x319)]=_0xcacf27+0x1);}async[a0_0xf534fa(0x2b4)](_0x239bda){const _0x22cbc2=a0_0xf534fa;try{if(this['logger']['verbose'](this[_0x22cbc2(0x653)]+'\x20('+this[_0x22cbc2(0x47a)][_0x22cbc2(0x5a4)]+_0x22cbc2(0x8a0)),!_0x239bda||!_0x239bda[_0x22cbc2(0x59e)]){this[_0x22cbc2(0x723)](_0x22cbc2(0x673));return;}if(!this[_0x22cbc2(0x877)][_0x22cbc2(0x390)][_0x22cbc2(0x525)](_0x20fd87=>_0x20fd87[_0x22cbc2(0x656)]===_0x239bda[_0x22cbc2(0x656)]))throw this[_0x22cbc2(0x4e3)]['verbose'](this['instanceName']+'\x20('+this[_0x22cbc2(0x47a)][_0x22cbc2(0x5a4)]+_0x22cbc2(0x8e5)+_0x239bda[_0x22cbc2(0x656)]+_0x22cbc2(0x1d5)),new m(_0x22cbc2(0x81d));let _0x565192=await this[_0x22cbc2(0x7ea)][_0x22cbc2(0x66e)][_0x22cbc2(0x3b6)]({'where':{'_id':_0x239bda['_id']}});if(!_0x565192||!_0x565192[_0x22cbc2(0x3b2)]?.[_0x22cbc2(0x89d)](this[_0x22cbc2(0x47a)][_0x22cbc2(0x5a4)]))throw this[_0x22cbc2(0x4e3)][_0x22cbc2(0x1c2)](this[_0x22cbc2(0x653)]+'\x20('+this['instance'][_0x22cbc2(0x5a4)]+_0x22cbc2(0x790)+_0x239bda[_0x22cbc2(0x656)]+_0x22cbc2(0x21c)),new m(_0x22cbc2(0x475)+_0x239bda[_0x22cbc2(0x656)]+_0x22cbc2(0x21c));if(!_0x565192[_0x22cbc2(0x491)]?.[_0x22cbc2(0x89d)](this[_0x22cbc2(0x47a)][_0x22cbc2(0x5a4)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {replyOption:_0x5e54d5}=_0x239bda;_0x5e54d5?.[_0x22cbc2(0x4ee)]?(this[_0x22cbc2(0x2d1)](_0x565192,_0x239bda),this['reorderReplyOptions'](_0x565192[_0x22cbc2(0x67a)],_0x239bda[_0x22cbc2(0x59e)][_0x22cbc2(0x8e3)])):_0x5e54d5[_0x22cbc2(0x656)]?(await this[_0x22cbc2(0x54e)](_0x565192,_0x239bda),this['reorderReplyOptions'](_0x565192[_0x22cbc2(0x67a)],_0x239bda[_0x22cbc2(0x59e)][_0x22cbc2(0x8e3)])):(this[_0x22cbc2(0x7e7)](_0x565192,_0x239bda),this[_0x22cbc2(0x58b)](_0x565192[_0x22cbc2(0x67a)],_0x239bda['replyOption'][_0x22cbc2(0x8e3)]));let _0x31f1c0=await this[_0x22cbc2(0x7ea)][_0x22cbc2(0x66e)][_0x22cbc2(0x21a)](_0x565192[_0x22cbc2(0x656)],_0x565192);if(!_0x31f1c0)throw new Error(_0x22cbc2(0x335));return _0x31f1c0;}catch(_0x5baab2){this[_0x22cbc2(0x723)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x5baab2);}}[a0_0xf534fa(0x58b)](_0x39bfe9,_0xce6b02){const _0x21ed98=a0_0xf534fa;_0x39bfe9[_0x21ed98(0x753)](_0x3f1795=>{const _0x590b8f=_0x21ed98;_0x3f1795[_0x590b8f(0x8e3)]===_0xce6b02&&_0x3f1795['order']===void 0x0&&(_0x3f1795[_0x590b8f(0x319)]=0x270f);});let _0x35296e=_0x39bfe9[_0x21ed98(0x5d3)](_0x572aa2=>_0x572aa2[_0x21ed98(0x8e3)]===_0xce6b02);_0x35296e[_0x21ed98(0x211)]((_0x4c78a5,_0x5edd72)=>_0x4c78a5['order']-_0x5edd72[_0x21ed98(0x319)]),_0x35296e[_0x21ed98(0x753)]((_0x40ab11,_0x7b283b)=>{_0x40ab11['order']=_0x7b283b+0x1;}),_0x39bfe9[_0x21ed98(0x753)](_0x1b92e7=>{const _0x241b6f=_0x21ed98;if(_0x1b92e7['blockId']===_0xce6b02){let _0x23049a=_0x35296e[_0x241b6f(0x525)](_0x1e12c5=>_0x1e12c5['_id']&&_0x1b92e7[_0x241b6f(0x656)]&&_0x1e12c5[_0x241b6f(0x656)][_0x241b6f(0x7f7)]()===_0x1b92e7[_0x241b6f(0x656)]['toString']());_0x23049a&&(_0x1b92e7['order']=_0x23049a[_0x241b6f(0x319)]);}});}['deleteReplyOption'](_0x394e60,_0x106fb3){const _0x310ce1=a0_0xf534fa;let {replyOption:_0x208b30}=_0x106fb3;if(!_0x208b30[_0x310ce1(0x656)]){this[_0x310ce1(0x723)](_0x310ce1(0x64c));return;}if(!_0x394e60[_0x310ce1(0x67a)][_0x310ce1(0x525)](_0x223f21=>_0x223f21[_0x310ce1(0x656)][_0x310ce1(0x7f7)]()===_0x106fb3[_0x310ce1(0x59e)][_0x310ce1(0x656)][_0x310ce1(0x7f7)]())){this[_0x310ce1(0x723)](_0x310ce1(0x763)+_0x208b30[_0x310ce1(0x656)]+_0x310ce1(0x731));return;}_0x394e60[_0x310ce1(0x67a)]=_0x394e60[_0x310ce1(0x67a)][_0x310ce1(0x5d3)](_0x2cca88=>_0x2cca88[_0x310ce1(0x656)][_0x310ce1(0x7f7)]()!==_0x106fb3[_0x310ce1(0x59e)][_0x310ce1(0x656)][_0x310ce1(0x7f7)]());}async[a0_0xf534fa(0x54e)](_0x9715b8,_0x50e39c){const _0x382485=a0_0xf534fa;let _0x5c07e1=_0x9715b8['replyOptions'][_0x382485(0x807)](_0x1e4de0=>_0x1e4de0[_0x382485(0x656)][_0x382485(0x7f7)]()===_0x50e39c[_0x382485(0x59e)][_0x382485(0x656)][_0x382485(0x7f7)]());if(_0x5c07e1===-0x1){this[_0x382485(0x723)]('ReplyOption\x20com\x20ID\x20'+_0x50e39c[_0x382485(0x59e)][_0x382485(0x656)]+_0x382485(0x61c));return;}for(let _0xe00125 in _0x50e39c[_0x382485(0x59e)])_0x50e39c[_0x382485(0x59e)][_0x382485(0x6f5)](_0xe00125)&&(_0x9715b8[_0x382485(0x67a)][_0x5c07e1][_0xe00125]=_0x50e39c['replyOption'][_0xe00125]);}['addReplyOption'](_0x102a1b,_0x48165e){const _0x72865f=a0_0xf534fa;_0x102a1b[_0x72865f(0x67a)][_0x72865f(0x1a2)](_0x48165e[_0x72865f(0x59e)]);}async[a0_0xf534fa(0x407)](_0x5a2f91){const _0xf70438=a0_0xf534fa;this[_0xf70438(0x4e3)][_0xf70438(0x6f6)](this[_0xf70438(0x653)]+'\x20('+this[_0xf70438(0x47a)]['wuid']+_0xf70438(0x7cb)+JSON[_0xf70438(0x6f0)](_0x5a2f91,null,0x2));try{if(this['logger'][_0xf70438(0x6f6)](this[_0xf70438(0x653)]+'\x20('+this[_0xf70438(0x47a)][_0xf70438(0x5a4)]+_0xf70438(0x7c6)),!this[_0xf70438(0x877)][_0xf70438(0x390)][_0xf70438(0x525)](_0x75c693=>_0x75c693[_0xf70438(0x656)]===_0x5a2f91[_0xf70438(0x656)]))throw this[_0xf70438(0x4e3)][_0xf70438(0x6f6)](this[_0xf70438(0x653)]+'\x20('+this[_0xf70438(0x47a)][_0xf70438(0x5a4)]+_0xf70438(0x8e5)+_0x5a2f91[_0xf70438(0x656)]+_0xf70438(0x1d5)),new m(_0xf70438(0x81d));let _0x30fd45=await this[_0xf70438(0x7ea)]['flow'][_0xf70438(0x3b6)]({'where':{'_id':_0x5a2f91[_0xf70438(0x656)]}});if(!_0x30fd45||!_0x30fd45[_0xf70438(0x3b2)]?.[_0xf70438(0x89d)](this[_0xf70438(0x47a)][_0xf70438(0x5a4)]))throw this[_0xf70438(0x4e3)][_0xf70438(0x1c2)](this[_0xf70438(0x653)]+'\x20('+this[_0xf70438(0x47a)][_0xf70438(0x5a4)]+_0xf70438(0x790)+_0x5a2f91['_id']+_0xf70438(0x21c)),new m('Flow\x20\x27'+_0x5a2f91[_0xf70438(0x656)]+_0xf70438(0x21c));if(!_0x30fd45[_0xf70438(0x491)]?.['includes'](this['instance']['wuid']))throw new m(_0xf70438(0x2e5));if(_0x5a2f91[_0xf70438(0x400)]&&_0x5a2f91[_0xf70438(0x400)]?.[_0xf70438(0x4ee)]===!0x0){if(this[_0xf70438(0x4e3)]['verbose'](this[_0xf70438(0x653)]+'\x20('+this[_0xf70438(0x47a)][_0xf70438(0x5a4)]+_0xf70438(0x567)),_0x5a2f91['group'][_0xf70438(0x311)]===!0x0)return{'message':_0xf70438(0x625)};if(_0x30fd45[_0xf70438(0x840)][_0xf70438(0x7a7)](_0x2c6592=>_0x2c6592['groupId']['toString']()===_0x5a2f91[_0xf70438(0x400)]['_id']))return this[_0xf70438(0x4e3)][_0xf70438(0x6f6)](this[_0xf70438(0x653)]+'\x20('+this['instance'][_0xf70438(0x5a4)]+_0xf70438(0x607)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x30fd45[_0xf70438(0x453)]=_0x30fd45[_0xf70438(0x453)][_0xf70438(0x5d3)](_0x46b5eb=>_0x46b5eb['_id'][_0xf70438(0x7f7)]()!==_0x5a2f91[_0xf70438(0x400)][_0xf70438(0x656)]);}else{if(_0x5a2f91[_0xf70438(0x400)]){if(_0x5a2f91[_0xf70438(0x400)][_0xf70438(0x311)]===!0x0)return{'message':_0xf70438(0x415)};if(_0x5a2f91[_0xf70438(0x400)][_0xf70438(0x656)]){let _0xbc73e1=_0x30fd45['groups'][_0xf70438(0x525)](_0x581b31=>_0x581b31[_0xf70438(0x656)][_0xf70438(0x7f7)]()===_0x5a2f91[_0xf70438(0x400)]['_id']);_0xbc73e1&&(_0x5a2f91[_0xf70438(0x400)]['x']<0x0&&(_0x5a2f91['group']['x']=0x0),_0x5a2f91['group']['y']<0x0&&(_0x5a2f91[_0xf70438(0x400)]['y']=0x0),Object['assign'](_0xbc73e1,_0x5a2f91['group']));}else _0x30fd45['groups'][_0xf70438(0x1a2)](_0x5a2f91[_0xf70438(0x400)]);}}let _0x411312=await this[_0xf70438(0x7ea)][_0xf70438(0x66e)][_0xf70438(0x21a)](_0x30fd45[_0xf70438(0x656)],_0x30fd45);if(!_0x411312)throw new Error(_0xf70438(0x335));return _0x411312;}catch(_0x18a4d3){let _0x4bc698=_0xf70438(0x45a),_0x197669=_0x18a4d3 instanceof Error?_0x18a4d3[_0xf70438(0x6c6)]:typeof _0x18a4d3==_0xf70438(0x71e)?JSON[_0xf70438(0x6f0)](_0x18a4d3):_0x18a4d3,_0x8ecf4e=_0x4bc698+':\x20'+_0x197669;throw this[_0xf70438(0x4e3)][_0xf70438(0x1c2)](this[_0xf70438(0x653)]+'\x20('+this[_0xf70438(0x47a)]['wuid']+'):\x20'+_0x8ecf4e),new m(_0x8ecf4e);}}async[a0_0xf534fa(0x643)](_0x1cdd70){const _0x279440=a0_0xf534fa;try{if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x279440(0x47a)][_0x279440(0x5a4)]+_0x279440(0x333)),!this['AutomateSystem']['flows'][_0x279440(0x525)](_0x10556b=>_0x10556b[_0x279440(0x656)]===_0x1cdd70['_id']))throw this['logger']['verbose'](this[_0x279440(0x653)]+'\x20('+this[_0x279440(0x47a)]['wuid']+'):\x20Fluxo\x20\x27'+_0x1cdd70[_0x279440(0x656)]+'\x27\x20não\x20encontrado'),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x254238=await this[_0x279440(0x7ea)][_0x279440(0x66e)][_0x279440(0x3b6)]({'where':{'_id':_0x1cdd70[_0x279440(0x656)]}});if(!_0x254238||!_0x254238[_0x279440(0x3b2)]?.['includes'](this[_0x279440(0x47a)][_0x279440(0x5a4)]))throw this[_0x279440(0x4e3)]['error'](this[_0x279440(0x653)]+'\x20('+this[_0x279440(0x47a)]['wuid']+'):\x20Flow\x20\x27'+_0x1cdd70['_id']+_0x279440(0x21c)),new m(_0x279440(0x475)+_0x1cdd70[_0x279440(0x656)]+_0x279440(0x21c));if(!_0x254238['whoCanEdit']?.['includes'](this[_0x279440(0x47a)][_0x279440(0x5a4)]))throw new m(_0x279440(0x2e5));let _0x47870f=!0x1;if(_0x1cdd70['condition']?.['delete']===!0x0)_0x254238[_0x279440(0x7f1)]=_0x254238[_0x279440(0x7f1)][_0x279440(0x5d3)](_0x383ad6=>_0x383ad6&&_0x1cdd70['condition']&&_0x383ad6[_0x279440(0x656)]&&_0x1cdd70[_0x279440(0x414)][_0x279440(0x656)]&&_0x383ad6['_id']['toString']()!==_0x1cdd70[_0x279440(0x414)]['_id']['toString']()),_0x47870f=!0x0;else{let _0x2f5596=_0x254238[_0x279440(0x7f1)][_0x279440(0x525)](_0xa811ea=>_0xa811ea&&_0x1cdd70[_0x279440(0x414)]&&_0xa811ea[_0x279440(0x656)]&&_0x1cdd70[_0x279440(0x414)][_0x279440(0x656)]&&_0xa811ea[_0x279440(0x656)][_0x279440(0x7f7)]()===_0x1cdd70[_0x279440(0x414)]['_id'][_0x279440(0x7f7)]());_0x2f5596?(_0x47870f=_0x2f5596[_0x279440(0x319)]!==_0x1cdd70['condition'][_0x279440(0x319)],Object[_0x279440(0x629)](_0x2f5596,_0x1cdd70[_0x279440(0x414)])):(_0x254238[_0x279440(0x7f1)][_0x279440(0x1a2)](_0x1cdd70['condition']),_0x47870f=!0x0);}if(_0x47870f){_0x254238[_0x279440(0x7f1)]['sort']((_0x143a59,_0x2d992b)=>_0x143a59[_0x279440(0x319)]>_0x2d992b['order']?0x1:_0x2d992b['order']>_0x143a59[_0x279440(0x319)]?-0x1:0x0);for(let _0x331858=0x0;_0x331858<_0x254238[_0x279440(0x7f1)][_0x279440(0x847)];_0x331858++)_0x254238['conditions'][_0x331858]['order']=_0x331858+0x1;_0x254238['conditions'][_0x279440(0x847)]>0x0&&(_0x254238[_0x279440(0x7f1)][0x0]['OrAnd']=_0x279440(0x7ce));}let _0x3e3824=await this[_0x279440(0x7ea)][_0x279440(0x66e)][_0x279440(0x21a)](_0x254238[_0x279440(0x656)],_0x254238);if(!_0x3e3824)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3e3824;}catch(_0x5c59ce){let _0x2c9bac='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x209b37=_0x5c59ce instanceof Error?_0x5c59ce[_0x279440(0x6c6)]:typeof _0x5c59ce=='object'?JSON[_0x279440(0x6f0)](_0x5c59ce):_0x5c59ce,_0x49e1f7=_0x2c9bac+':\x20'+_0x209b37;throw this['logger'][_0x279440(0x1c2)](this[_0x279440(0x653)]+'\x20('+this[_0x279440(0x47a)]['wuid']+_0x279440(0x43f)+_0x49e1f7),new m(_0x49e1f7);}}async['editFlowVaredit'](_0x5b9b3d){const _0x352951=a0_0xf534fa;try{if(this[_0x352951(0x4e3)][_0x352951(0x6f6)](this[_0x352951(0x653)]+'\x20('+this['instance'][_0x352951(0x5a4)]+_0x352951(0x1af)),!this[_0x352951(0x877)]['flows'][_0x352951(0x525)](_0x1e5632=>_0x1e5632['_id']===_0x5b9b3d['_id']))throw this['logger'][_0x352951(0x6f6)](this['instanceName']+'\x20('+this[_0x352951(0x47a)][_0x352951(0x5a4)]+'):\x20Fluxo\x20\x27'+_0x5b9b3d[_0x352951(0x656)]+_0x352951(0x1d5)),new m(_0x352951(0x81d));let _0xa52c97=await this[_0x352951(0x7ea)][_0x352951(0x66e)][_0x352951(0x3b6)]({'where':{'_id':_0x5b9b3d[_0x352951(0x656)]}});if(!_0xa52c97||!_0xa52c97['whoCanUse']?.['includes'](this[_0x352951(0x47a)][_0x352951(0x5a4)]))throw this[_0x352951(0x4e3)][_0x352951(0x1c2)](this[_0x352951(0x653)]+'\x20('+this[_0x352951(0x47a)][_0x352951(0x5a4)]+_0x352951(0x790)+_0x5b9b3d[_0x352951(0x656)]+_0x352951(0x21c)),new m(_0x352951(0x475)+_0x5b9b3d[_0x352951(0x656)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0xa52c97[_0x352951(0x491)]?.[_0x352951(0x89d)](this[_0x352951(0x47a)][_0x352951(0x5a4)]))throw new m(_0x352951(0x2e5));let _0xf891a7=!0x1;if(_0x5b9b3d[_0x352951(0x63f)]?.[_0x352951(0x4ee)]===!0x0)_0xa52c97[_0x352951(0x43e)]=_0xa52c97[_0x352951(0x43e)][_0x352951(0x5d3)](_0x340dfe=>_0x340dfe&&_0x5b9b3d[_0x352951(0x63f)]&&_0x340dfe['_id']&&_0x5b9b3d[_0x352951(0x63f)]['_id']&&_0x340dfe[_0x352951(0x656)][_0x352951(0x7f7)]()!==_0x5b9b3d[_0x352951(0x63f)]['_id'][_0x352951(0x7f7)]()),_0xf891a7=!0x0;else{let _0x1dfeee=_0xa52c97[_0x352951(0x43e)][_0x352951(0x525)](_0x1a5ae6=>_0x1a5ae6&&_0x5b9b3d[_0x352951(0x63f)]&&_0x1a5ae6[_0x352951(0x656)]&&_0x5b9b3d['varedit']['_id']&&_0x1a5ae6[_0x352951(0x656)][_0x352951(0x7f7)]()===_0x5b9b3d['varedit'][_0x352951(0x656)][_0x352951(0x7f7)]());_0x1dfeee?(_0xf891a7=_0x1dfeee[_0x352951(0x319)]!==_0x5b9b3d[_0x352951(0x63f)][_0x352951(0x319)],Object[_0x352951(0x629)](_0x1dfeee,_0x5b9b3d[_0x352951(0x63f)])):(_0xa52c97[_0x352951(0x43e)][_0x352951(0x1a2)](_0x5b9b3d[_0x352951(0x63f)]),_0xf891a7=!0x0);}if(_0xf891a7){_0xa52c97[_0x352951(0x43e)][_0x352951(0x211)]((_0x329b51,_0x338c87)=>_0x329b51[_0x352951(0x319)]>_0x338c87[_0x352951(0x319)]?0x1:_0x338c87['order']>_0x329b51['order']?-0x1:0x0);for(let _0x506ea5=0x0;_0x506ea5<_0xa52c97['varedits'][_0x352951(0x847)];_0x506ea5++)_0xa52c97[_0x352951(0x43e)][_0x506ea5]['order']=_0x506ea5+0x1;}let _0x3054bd=await this[_0x352951(0x7ea)]['flow'][_0x352951(0x21a)](_0xa52c97[_0x352951(0x656)],_0xa52c97);if(!_0x3054bd)throw new Error(_0x352951(0x335));return _0x3054bd;}catch(_0x151729){let _0x10344d=_0x352951(0x572),_0x870ee9=_0x151729 instanceof Error?_0x151729['message']:typeof _0x151729==_0x352951(0x71e)?JSON[_0x352951(0x6f0)](_0x151729):_0x151729,_0x3b8592=_0x10344d+':\x20'+_0x870ee9;throw this['logger']['error'](this[_0x352951(0x653)]+'\x20('+this[_0x352951(0x47a)][_0x352951(0x5a4)]+_0x352951(0x43f)+_0x3b8592),new m(_0x3b8592);}}async[a0_0xf534fa(0x501)](_0x530f81){const _0x1f6c6a=a0_0xf534fa;try{if(this[_0x1f6c6a(0x4e3)][_0x1f6c6a(0x6f6)](this[_0x1f6c6a(0x653)]+'\x20('+this[_0x1f6c6a(0x47a)]['wuid']+_0x1f6c6a(0x59d)),!this[_0x1f6c6a(0x877)][_0x1f6c6a(0x390)][_0x1f6c6a(0x525)](_0x45586c=>_0x45586c[_0x1f6c6a(0x656)]===_0x530f81[_0x1f6c6a(0x656)]))throw this[_0x1f6c6a(0x4e3)][_0x1f6c6a(0x6f6)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1f6c6a(0x8e5)+_0x530f81[_0x1f6c6a(0x656)]+'\x27\x20não\x20encontrado'),new m(_0x1f6c6a(0x81d));let _0x32c986=await this[_0x1f6c6a(0x7ea)]['flow'][_0x1f6c6a(0x3b6)]({'where':{'_id':_0x530f81[_0x1f6c6a(0x656)]}});if(!_0x32c986||!_0x32c986[_0x1f6c6a(0x3b2)]?.[_0x1f6c6a(0x89d)](this[_0x1f6c6a(0x47a)][_0x1f6c6a(0x5a4)]))throw this[_0x1f6c6a(0x4e3)][_0x1f6c6a(0x1c2)](this[_0x1f6c6a(0x653)]+'\x20('+this[_0x1f6c6a(0x47a)]['wuid']+_0x1f6c6a(0x790)+_0x530f81[_0x1f6c6a(0x656)]+_0x1f6c6a(0x21c)),new m('Flow\x20\x27'+_0x530f81[_0x1f6c6a(0x656)]+_0x1f6c6a(0x21c));if(!_0x32c986[_0x1f6c6a(0x491)]?.[_0x1f6c6a(0x89d)](this['instance']['wuid']))throw new m(_0x1f6c6a(0x2e5));_0x530f81[_0x1f6c6a(0x241)][_0x1f6c6a(0x232)]=_0x530f81[_0x1f6c6a(0x241)]['name'][_0x1f6c6a(0x4fb)](),_0x530f81[_0x1f6c6a(0x241)]['name']['startsWith']('_')&&(_0x530f81[_0x1f6c6a(0x241)][_0x1f6c6a(0x232)]=_0x530f81['variable'][_0x1f6c6a(0x232)][_0x1f6c6a(0x32d)](0x1)),_0x530f81['variable'][_0x1f6c6a(0x232)]=_0x530f81['variable']['name'][_0x1f6c6a(0x4fb)]();let _0xbfe29d=_0x32c986['variables'][_0x1f6c6a(0x525)](_0x20150d=>_0x20150d[_0x1f6c6a(0x232)]===_0x530f81[_0x1f6c6a(0x241)]['name']);if(_0xbfe29d?.[_0x1f6c6a(0x270)]===!0x0)throw new Error(_0x1f6c6a(0x25d));if(_0x530f81['variable']?.['delete']===!0x0){if(!_0xbfe29d)return{'message':_0x1f6c6a(0x7c9)};_0x32c986[_0x1f6c6a(0x7f4)]=_0x32c986['variables'][_0x1f6c6a(0x5d3)](_0x20f4b0=>_0x20f4b0[_0x1f6c6a(0x232)]!==_0x530f81[_0x1f6c6a(0x241)][_0x1f6c6a(0x232)]);}else _0xbfe29d?Object['assign'](_0xbfe29d,_0x530f81['variable']):_0x32c986[_0x1f6c6a(0x7f4)][_0x1f6c6a(0x1a2)](_0x530f81[_0x1f6c6a(0x241)]);let _0x883231=await this[_0x1f6c6a(0x7ea)][_0x1f6c6a(0x66e)][_0x1f6c6a(0x21a)](_0x32c986['_id'],_0x32c986);if(!_0x883231)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x883231;}catch(_0x1e6ac3){let _0x557818='Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',_0x1b34b2=_0x1e6ac3 instanceof Error?_0x1e6ac3[_0x1f6c6a(0x6c6)]:typeof _0x1e6ac3=='object'?JSON[_0x1f6c6a(0x6f0)](_0x1e6ac3):_0x1e6ac3,_0x2056bb=_0x557818+':\x20'+_0x1b34b2;throw this[_0x1f6c6a(0x4e3)][_0x1f6c6a(0x1c2)](this[_0x1f6c6a(0x653)]+'\x20('+this[_0x1f6c6a(0x47a)][_0x1f6c6a(0x5a4)]+_0x1f6c6a(0x43f)+_0x2056bb),new m(_0x2056bb);}}async[a0_0xf534fa(0x744)](_0x34bce6){const _0x59b1ce=a0_0xf534fa;let _0x40195b=null;try{if(!this[_0x59b1ce(0x877)]?.['flowConfig']['enabled'])throw new m(_0x59b1ce(0x564));this['logger'][_0x59b1ce(0x6f6)](this[_0x59b1ce(0x653)]+'\x20('+this[_0x59b1ce(0x47a)][_0x59b1ce(0x5a4)]+_0x59b1ce(0x5bf));let _0x59ee60=(await this[_0x59b1ce(0x862)]({'numbers':[_0x34bce6[_0x59b1ce(0x281)]]}))[0x0];if(!_0x59ee60[_0x59b1ce(0x2b6)]&&!(0x0,w[_0x59b1ce(0x522)])(_0x59ee60[_0x59b1ce(0x47e)])&&!_0x59ee60[_0x59b1ce(0x47e)]['includes']('@broadcast'))throw _0x40195b=JSON['stringify'](_0x59ee60,null,0x2),new m(_0x59ee60);let _0xcb3bf2;if(_0x34bce6[_0x59b1ce(0x232)][_0x59b1ce(0x847)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x59b1ce(0x4c2)](_0x34bce6[_0x59b1ce(0x232)])?_0xcb3bf2=this[_0x59b1ce(0x877)][_0x59b1ce(0x390)][_0x59b1ce(0x525)](_0xd6c8b0=>_0xd6c8b0[_0x59b1ce(0x656)]===_0x34bce6['name']):_0xcb3bf2=this['AutomateSystem'][_0x59b1ce(0x390)][_0x59b1ce(0x525)](_0x760b84=>_0x760b84[_0x59b1ce(0x232)]===_0x34bce6[_0x59b1ce(0x232)]),!_0xcb3bf2)throw this[_0x59b1ce(0x4e3)]['verbose'](this[_0x59b1ce(0x653)]+'\x20('+this[_0x59b1ce(0x47a)][_0x59b1ce(0x5a4)]+_0x59b1ce(0x8e5)+_0x34bce6[_0x59b1ce(0x232)]+'\x27\x20não\x20encontrado'),new m(_0x59b1ce(0x81d));let _0x39f746=await this[_0x59b1ce(0x7ea)]['flow'][_0x59b1ce(0x3b6)]({'where':{'_id':_0xcb3bf2[_0x59b1ce(0x656)]}});if(!_0x39f746||!_0x39f746['whoCanUse']?.[_0x59b1ce(0x89d)](this[_0x59b1ce(0x47a)][_0x59b1ce(0x5a4)]))throw this[_0x59b1ce(0x4e3)]['error'](this[_0x59b1ce(0x653)]+'\x20('+this['instance']['wuid']+_0x59b1ce(0x790)+_0xcb3bf2[_0x59b1ce(0x656)]+_0x59b1ce(0x21c)),_0x40195b=_0x59b1ce(0x475)+_0xcb3bf2[_0x59b1ce(0x656)]+_0x59b1ce(0x21c),new m(_0x40195b);let _0xc1203d=await this[_0x59b1ce(0x3bc)](_0x39f746,_0x59ee60[_0x59b1ce(0x47e)],_0x34bce6[_0x59b1ce(0x1b8)]);if(_0xc1203d){this['logger'][_0x59b1ce(0x6f6)](this[_0x59b1ce(0x653)]+'\x20('+this[_0x59b1ce(0x47a)][_0x59b1ce(0x5a4)]+_0x59b1ce(0x817));let _0x1b2a2a=await this['NextBlock'](_0xc1203d);return _0x1b2a2a&&await this[_0x59b1ce(0x268)](_0xc1203d,_0x1b2a2a),{'message':_0x59b1ce(0x5a7)+_0x34bce6[_0x59b1ce(0x281)]};}}catch(_0x38865b){if(this[_0x59b1ce(0x4e3)][_0x59b1ce(0x1c2)](this[_0x59b1ce(0x653)]+'\x20('+this[_0x59b1ce(0x47a)][_0x59b1ce(0x5a4)]+_0x59b1ce(0x8a2)+(_0x38865b instanceof Error?_0x38865b[_0x59b1ce(0x6c6)]:JSON['stringify'](_0x38865b,null,0x2))),_0x40195b=_0x38865b instanceof Error?_0x38865b['message']:JSON['stringify'](_0x38865b,null,0x2),_0x40195b)throw new m(_0x59b1ce(0x3a8)+_0x40195b);}}async[a0_0xf534fa(0x8c0)](_0x514af6,_0x401a81,_0x822e32){const _0x2932e3=a0_0xf534fa;let _0x69892a=null;try{if(!this[_0x2932e3(0x877)]?.[_0x2932e3(0x705)][_0x2932e3(0x633)])throw new m(_0x2932e3(0x564));if(this[_0x2932e3(0x4e3)][_0x2932e3(0x6f6)](this[_0x2932e3(0x653)]+'\x20('+this['instance'][_0x2932e3(0x5a4)]+_0x2932e3(0x5bf)),_0x401a81){let _0x2b9055=(await this[_0x2932e3(0x862)]({'numbers':[_0x401a81]}))[0x0];if(!_0x2b9055[_0x2932e3(0x2b6)]&&!(0x0,w['isJidGroup'])(_0x2b9055[_0x2932e3(0x47e)])&&!_0x2b9055['jid'][_0x2932e3(0x89d)](_0x2932e3(0x827)))throw _0x69892a=JSON[_0x2932e3(0x6f0)](_0x2b9055,null,0x2),new m(_0x2b9055);_0x401a81=_0x2b9055[_0x2932e3(0x47e)];}else _0x401a81||(_0x401a81=(0x0,Y['v4'])());let _0x5c04dd=await this[_0x2932e3(0x7ea)][_0x2932e3(0x66e)]['findOne']({'where':{'_id':_0x514af6}});if(!_0x5c04dd||!_0x5c04dd[_0x2932e3(0x3b2)]?.['includes'](this['instance'][_0x2932e3(0x5a4)]))throw this['logger'][_0x2932e3(0x1c2)](this['instanceName']+'\x20('+this[_0x2932e3(0x47a)][_0x2932e3(0x5a4)]+_0x2932e3(0x790)+_0x514af6+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x2932e3(0x475)+_0x514af6+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x1d2717=await this[_0x2932e3(0x3bc)](_0x5c04dd,_0x401a81,null);if(_0x1d2717){this[_0x2932e3(0x4e3)][_0x2932e3(0x6f6)](this[_0x2932e3(0x653)]+'\x20('+this[_0x2932e3(0x47a)][_0x2932e3(0x5a4)]+_0x2932e3(0x8b1));let _0x4684f2;if(_0x822e32){let _0x18ccf5=_0x1d2717[_0x2932e3(0x1cf)][_0x2932e3(0x466)],_0x3cb57a=this[_0x2932e3(0x4cc)](_0x822e32);Object[_0x2932e3(0x629)](_0x18ccf5,_0x3cb57a),_0x1d2717[_0x2932e3(0x1cf)][_0x2932e3(0x466)]=_0x18ccf5,_0x4684f2={'error':!0x1,'apiResponse':_0x822e32};}let _0x1f3c21=await this[_0x2932e3(0x77f)](_0x1d2717);return _0x1f3c21&&await this[_0x2932e3(0x268)](_0x1d2717,_0x1f3c21),{'message':_0x2932e3(0x1fd)};}}catch(_0x20b599){if(this[_0x2932e3(0x4e3)][_0x2932e3(0x1c2)](this['instanceName']+'\x20('+this['instance'][_0x2932e3(0x5a4)]+_0x2932e3(0x8a2)+(_0x20b599 instanceof Error?_0x20b599[_0x2932e3(0x6c6)]:JSON[_0x2932e3(0x6f0)](_0x20b599,null,0x2))),_0x69892a=_0x20b599 instanceof Error?_0x20b599[_0x2932e3(0x6c6)]:JSON['stringify'](_0x20b599,null,0x2),_0x69892a)throw new m(_0x2932e3(0x3a8)+_0x69892a);}}async[a0_0xf534fa(0x76a)](_0x4d9bfb){const _0x4ed526=a0_0xf534fa;try{let _0x1731c8={'remoteJid':_0x4d9bfb,'status':_0x4ed526(0x441)},_0x24fea3={'status':_0x4ed526(0x533)},_0x44b88a=await this['repository'][_0x4ed526(0x2ce)][_0x4ed526(0x647)](_0x1731c8,_0x24fea3,this[_0x4ed526(0x47a)][_0x4ed526(0x5a4)]);return this[_0x4ed526(0x4e3)][_0x4ed526(0x6f6)](this[_0x4ed526(0x653)]+'\x20('+this[_0x4ed526(0x47a)]['wuid']+_0x4ed526(0x5fc)),_0x44b88a;}catch(_0x419ce6){throw this[_0x4ed526(0x4e3)]['error'](this['instanceName']+'\x20('+this[_0x4ed526(0x47a)][_0x4ed526(0x5a4)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x419ce6['message']),_0x419ce6;}}async[a0_0xf534fa(0x3bc)](_0x491288,_0x4c28f8,_0x3de2ea){const _0x97e1b5=a0_0xf534fa;this['logger'][_0x97e1b5(0x6f6)](this[_0x97e1b5(0x653)]+'\x20('+this['instance'][_0x97e1b5(0x5a4)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x97e1b5(0x76a)](_0x4c28f8);try{let _0x1ed166=require('mongodb')[_0x97e1b5(0x8b4)],_0x320d2c=Date[_0x97e1b5(0x694)](),_0x499c6c='start',_0xcdf20={},_0x3dc7fc={},_0x4e05ec=this['AutomateSystem'][_0x97e1b5(0x390)][_0x97e1b5(0x525)](_0x524ec0=>_0x524ec0[_0x97e1b5(0x656)]===_0x491288['_id']?.[_0x97e1b5(0x7f7)]()),_0x2ca783=_0x4e05ec?.[_0x97e1b5(0x575)]??_0x491288['minutesToClose']??0x0,_0xf3ffb9=_0x4e05ec?.[_0x97e1b5(0x413)]??_0x491288[_0x97e1b5(0x413)]??!0x1,_0xaa74fc={'flowId':_0x491288[_0x97e1b5(0x656)],..._0x491288,'chatLog':null},_0x484145=await this[_0x97e1b5(0x881)](_0xaa74fc[_0x97e1b5(0x7f4)]),_0x2b35db=await this[_0x97e1b5(0x59f)](_0x4c28f8),_0x160b48={..._0x484145,..._0x2b35db,'_remoteJid':_0x4c28f8},_0x594d4e={'lastReceivedMessage':_0xcdf20,'lastSendMessage':_0x3dc7fc,'lastBlockId':_0x499c6c,'lastCondition':!0x0,'realVariables':_0x160b48};_0xaa74fc[_0x97e1b5(0x1cf)]=_0x594d4e,_0xaa74fc[_0x97e1b5(0x1cf)][_0x97e1b5(0x466)]={..._0x160b48,..._0x3de2ea},delete _0xaa74fc[_0x97e1b5(0x656)],_0xaa74fc[_0x97e1b5(0x656)]=new _0x1ed166(),_0xaa74fc[_0x97e1b5(0x857)]=_0x320d2c,_0xaa74fc[_0x97e1b5(0x2d2)]=_0x97e1b5(0x441),_0xaa74fc['remoteJid']=_0x4c28f8,_0xaa74fc[_0x97e1b5(0x575)]=_0x2ca783,_0xaa74fc['readMessages']=_0xf3ffb9,_0xaa74fc[_0x97e1b5(0x656)]=_0x491288[_0x97e1b5(0x656)];let _0x372178=await this[_0x97e1b5(0x7ea)][_0x97e1b5(0x2ce)][_0x97e1b5(0x21a)](_0xaa74fc[_0x97e1b5(0x656)],_0xaa74fc,this[_0x97e1b5(0x47a)][_0x97e1b5(0x5a4)]);return this['logger'][_0x97e1b5(0x6f6)](this[_0x97e1b5(0x653)]+'\x20('+this[_0x97e1b5(0x47a)][_0x97e1b5(0x5a4)]+_0x97e1b5(0x33a)),_0x372178?_0xaa74fc:null;}catch(_0x2e1368){let _0x4c17dd=_0x97e1b5(0x704),_0x9edd8e=_0x2e1368 instanceof Error?_0x2e1368[_0x97e1b5(0x6c6)]:typeof _0x2e1368==_0x97e1b5(0x71e)?JSON['stringify'](_0x2e1368):_0x2e1368,_0x2e3fef=_0x4c17dd+':\x20'+_0x9edd8e;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x97e1b5(0x47a)][_0x97e1b5(0x5a4)]+'):\x20'+_0x2e3fef),new m(_0x2e3fef);}}async['getConversation'](_0x4c1c10){const _0x571fae=a0_0xf534fa;try{this['logger'][_0x571fae(0x6f6)](this[_0x571fae(0x653)]+'\x20('+this[_0x571fae(0x47a)][_0x571fae(0x5a4)]+_0x571fae(0x6b8)),this['logger'][_0x571fae(0x6f6)](this['instanceName']+'\x20('+this['instance'][_0x571fae(0x5a4)]+'):\x20Query\x20params:\x20'+_0x4c1c10);let _0x218603={'where':{'_id':_0x4c1c10}};return await this[_0x571fae(0x7ea)][_0x571fae(0x2ce)][_0x571fae(0x3b6)](_0x218603,this[_0x571fae(0x47a)][_0x571fae(0x5a4)]);}catch(_0x5f45bc){let _0x5a5151='Erro\x20ao\x20buscar\x20a\x20conversa',_0x548b52=_0x5f45bc instanceof Error?_0x5f45bc['message']:typeof _0x5f45bc==_0x571fae(0x71e)?JSON[_0x571fae(0x6f0)](_0x5f45bc):_0x5f45bc,_0x5de342=_0x5a5151+':\x20'+_0x548b52;throw this[_0x571fae(0x4e3)][_0x571fae(0x1c2)](this[_0x571fae(0x653)]+'\x20('+this[_0x571fae(0x47a)][_0x571fae(0x5a4)]+_0x571fae(0x43f)+_0x5de342),new m(_0x5de342);}}async[a0_0xf534fa(0x454)](_0x2be21d){const _0x114685=a0_0xf534fa;try{return this[_0x114685(0x4e3)][_0x114685(0x6f6)](this[_0x114685(0x653)]+'\x20('+this[_0x114685(0x47a)][_0x114685(0x5a4)]+_0x114685(0x789)),await this[_0x114685(0x7ea)][_0x114685(0x2ce)][_0x114685(0x525)](_0x2be21d,this[_0x114685(0x47a)][_0x114685(0x5a4)]);}catch(_0x10b913){let _0x1b5732=_0x114685(0x263),_0x435ed3=_0x10b913 instanceof Error?_0x10b913['message']:typeof _0x10b913==_0x114685(0x71e)?JSON[_0x114685(0x6f0)](_0x10b913):_0x10b913,_0x13cdf1=_0x1b5732+':\x20'+_0x435ed3;throw this[_0x114685(0x4e3)][_0x114685(0x1c2)](this[_0x114685(0x653)]+'\x20('+this[_0x114685(0x47a)][_0x114685(0x5a4)]+_0x114685(0x43f)+_0x13cdf1),new m(_0x13cdf1);}}async[a0_0xf534fa(0x3ad)](_0x26240e){const _0x1f6880=a0_0xf534fa;try{return this[_0x1f6880(0x4e3)][_0x1f6880(0x6f6)](this[_0x1f6880(0x653)]+'\x20('+this['instance'][_0x1f6880(0x5a4)]+_0x1f6880(0x1df)),this[_0x1f6880(0x4e3)][_0x1f6880(0x6f6)](this[_0x1f6880(0x653)]+'\x20('+this[_0x1f6880(0x47a)][_0x1f6880(0x5a4)]+_0x1f6880(0x57d)+_0x26240e),(await this[_0x1f6880(0x7ea)]['flowConversation']['deleteOne']({'where':{'_id':_0x26240e[_0x1f6880(0x656)]}},this[_0x1f6880(0x47a)][_0x1f6880(0x5a4)]))[_0x1f6880(0x4c8)]===0x0?{'message':_0x1f6880(0x34b)}:{'message':_0x1f6880(0x5fa)};}catch(_0x2d0702){let _0x59b30a=_0x1f6880(0x404),_0x4deffc=_0x2d0702 instanceof Error?_0x2d0702[_0x1f6880(0x6c6)]:typeof _0x2d0702=='object'?JSON[_0x1f6880(0x6f0)](_0x2d0702):_0x2d0702,_0x552259=_0x59b30a+':\x20'+_0x4deffc;throw this[_0x1f6880(0x4e3)][_0x1f6880(0x1c2)](this[_0x1f6880(0x653)]+'\x20('+this[_0x1f6880(0x47a)]['wuid']+_0x1f6880(0x43f)+_0x552259),new m(_0x552259);}}async[a0_0xf534fa(0x24e)](_0x418fe5){const _0x25c49c=a0_0xf534fa;try{let {_id:_0x1b849f,chatLog:_0x362406,status:_0x31560d}=_0x418fe5;if(!_0x1b849f)return{'message':_0x25c49c(0x8c3)};let _0x7319d9={};if(_0x31560d!==void 0x0&&(_0x7319d9[_0x25c49c(0x2d2)]=_0x31560d),Object[_0x25c49c(0x725)](_0x7319d9)['length']===0x0)return{'message':_0x25c49c(0x332)};let _0xc2882d=await this['repository']['flowConversation'][_0x25c49c(0x21a)](_0x1b849f,_0x7319d9,this['instance'][_0x25c49c(0x5a4)]);return _0xc2882d||{'message':_0x25c49c(0x6ad)};}catch(_0xd9262e){let _0x1578fd='Erro\x20ao\x20editar\x20a\x20conversa',_0x377cc8=_0xd9262e instanceof Error?_0xd9262e[_0x25c49c(0x6c6)]:typeof _0xd9262e==_0x25c49c(0x71e)?JSON[_0x25c49c(0x6f0)](_0xd9262e):_0xd9262e,_0x55f026=_0x1578fd+':\x20'+_0x377cc8;throw this[_0x25c49c(0x4e3)]['error'](this[_0x25c49c(0x653)]+'\x20('+this[_0x25c49c(0x47a)][_0x25c49c(0x5a4)]+_0x25c49c(0x43f)+_0x55f026),new m(_0x55f026);}}async[a0_0xf534fa(0x61a)](_0x27cd92){const _0x5d81f4=a0_0xf534fa;try{_0x27cd92['_id']=this['createJid'](_0x27cd92[_0x5d81f4(0x656)]);let _0x512c62=await this[_0x5d81f4(0x7ea)][_0x5d81f4(0x803)][_0x5d81f4(0x3b6)]({'where':{'_id':_0x27cd92[_0x5d81f4(0x656)]}},this['instance'][_0x5d81f4(0x5a4)]);if(!_0x512c62)throw new m(_0x5d81f4(0x791));let {_id:_0x5d1100,leadInfo:_0x1db2ed}=_0x27cd92;if(!_0x5d1100)throw new Error(_0x5d81f4(0x6ea));if(_0x27cd92[_0x5d81f4(0x4ee)]===_0x5d81f4(0x423))return await this[_0x5d81f4(0x1c8)](_0x27cd92[_0x5d81f4(0x656)]),await this['repository'][_0x5d81f4(0x803)][_0x5d81f4(0x4ee)]({'where':{'_id':_0x27cd92[_0x5d81f4(0x656)]}},this[_0x5d81f4(0x47a)][_0x5d81f4(0x5a4)]),await this[_0x5d81f4(0x7ea)][_0x5d81f4(0x6c6)][_0x5d81f4(0x4ee)]({'where':{'key':{'remoteJid':_0x27cd92[_0x5d81f4(0x656)]}}},this[_0x5d81f4(0x47a)][_0x5d81f4(0x5a4)]),_0x27cd92=await this[_0x5d81f4(0x7ea)][_0x5d81f4(0x803)][_0x5d81f4(0x21a)]({'where':{'_id':_0x27cd92[_0x5d81f4(0x656)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x5d81f4(0x47a)][_0x5d81f4(0x5a4)]),U(this[_0x5d81f4(0x653)],'chats',{'chat':_0x27cd92}),{'message':_0x5d81f4(0x5ae)};if(_0x27cd92[_0x5d81f4(0x4ee)]==='messages')return await this[_0x5d81f4(0x7ea)]['message'][_0x5d81f4(0x4ee)]({'where':{'key':{'remoteJid':_0x27cd92['_id']}}},this[_0x5d81f4(0x47a)][_0x5d81f4(0x5a4)]),_0x27cd92=await this[_0x5d81f4(0x7ea)][_0x5d81f4(0x803)][_0x5d81f4(0x21a)]({'where':{'_id':_0x27cd92[_0x5d81f4(0x656)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x5d81f4(0x47a)][_0x5d81f4(0x5a4)]),U(this[_0x5d81f4(0x653)],_0x5d81f4(0x8bc),{'chat':_0x27cd92}),{'message':_0x5d81f4(0x584)};let _0x1b20eb=(_0x5bc63e,_0xd1ba4d,_0x5bbdf2)=>{const _0x58f695=_0x5d81f4;_0x5bc63e&&_0x5bbdf2[_0x58f695(0x753)](_0x5842e4=>{_0x5bc63e[_0x5842e4]!==void 0x0&&(_0xd1ba4d['leadInfo.'+_0x5842e4]=_0x5bc63e[_0x5842e4]);});},_0x118320={};if('muteEndTime'in _0x27cd92&&(this['logger'][_0x5d81f4(0x6f6)](this[_0x5d81f4(0x653)]+'\x20('+this['instance'][_0x5d81f4(0x5a4)]+'):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x27cd92[_0x5d81f4(0x656)]),_0x27cd92[_0x5d81f4(0x766)]=_0x27cd92[_0x5d81f4(0x766)]===0x0?null:-0x1,await this[_0x5d81f4(0x73e)]['chatModify']({'mute':_0x27cd92[_0x5d81f4(0x766)]},_0x27cd92[_0x5d81f4(0x656)]),_0x118320[_0x5d81f4(0x766)]=Number(_0x27cd92[_0x5d81f4(0x766)])),_0x1db2ed&&(_0x1b20eb(_0x1db2ed,_0x118320,[_0x5d81f4(0x585),'nomecompleto',_0x5d81f4(0x8ce),_0x5d81f4(0x1bc),_0x5d81f4(0x2d2),'notas',_0x5d81f4(0x376),_0x5d81f4(0x20a),_0x5d81f4(0x605),_0x5d81f4(0x69c),_0x5d81f4(0x2f6)]),Array[_0x5d81f4(0x6db)](_0x1db2ed['customFields'])&&(_0x118320[_0x5d81f4(0x2ec)]=_0x1db2ed[_0x5d81f4(0x3c9)][_0x5d81f4(0x445)](_0x41bf49=>({'_id':_0x41bf49['_id'],'value':_0x41bf49[_0x5d81f4(0x81c)]}))),_0x27cd92['leadInfo'][_0x5d81f4(0x69c)]!==void 0x0)){let _0x2ad1e9=await this[_0x5d81f4(0x7ea)][_0x5d81f4(0x5c4)]['find']({'where':{}},this[_0x5d81f4(0x47a)][_0x5d81f4(0x5a4)]),_0x561981=new Set(_0x27cd92[_0x5d81f4(0x270)][_0x5d81f4(0x69c)]||[]),_0x73af67=new Set(_0x27cd92[_0x5d81f4(0x270)][_0x5d81f4(0x69c)]),_0x537e37=new Set(_0x2ad1e9['map'](_0x1d5cfa=>_0x1d5cfa['_id'])),_0x55016d=[..._0x73af67][_0x5d81f4(0x5d3)](_0x253ecc=>!_0x561981[_0x5d81f4(0x8a7)](_0x253ecc)&&_0x537e37['has'](_0x253ecc)),_0x1764a2=[..._0x561981]['filter'](_0x3b965d=>!_0x73af67['has'](_0x3b965d));if(_0x118320[_0x5d81f4(0x3ec)]=[..._0x561981],_0x512c62&&!_0x512c62['imported']){for(let _0x322766 of _0x55016d)await this[_0x5d81f4(0x2d7)](_0x322766,_0x27cd92[_0x5d81f4(0x656)]),_0x561981[_0x5d81f4(0x1eb)](_0x322766);for(let _0x5d4bab of _0x1764a2)await this[_0x5d81f4(0x834)](_0x5d4bab,_0x27cd92[_0x5d81f4(0x656)]),_0x561981[_0x5d81f4(0x4ee)](_0x5d4bab);}}if(_0x27cd92[_0x5d81f4(0x55f)]!==void 0x0&&(_0x118320[_0x5d81f4(0x55f)]=Number(_0x27cd92[_0x5d81f4(0x55f)])),Object['keys'](_0x118320)[_0x5d81f4(0x847)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x2620bb=await this[_0x5d81f4(0x7ea)][_0x5d81f4(0x803)][_0x5d81f4(0x21a)]({'where':{'_id':_0x27cd92['_id']}},_0x118320,this[_0x5d81f4(0x47a)]['wuid']);return _0x2620bb&&U(this[_0x5d81f4(0x653)],_0x5d81f4(0x8bc),{'chat':_0x2620bb}),_0x2620bb?(this[_0x5d81f4(0x4e3)][_0x5d81f4(0x6f6)](this['instanceName']+'\x20('+this[_0x5d81f4(0x47a)][_0x5d81f4(0x5a4)]+'):\x20'+JSON['stringify'](_0x2620bb,null,0x2)),_0x2620bb):{'message':_0x5d81f4(0x658)};}catch(_0x2f82b5){let _0x2d03df=_0x5d81f4(0x198),_0x3f5f48=_0x2f82b5 instanceof Error?_0x2f82b5[_0x5d81f4(0x6c6)]:typeof _0x2f82b5==_0x5d81f4(0x71e)?JSON[_0x5d81f4(0x6f0)](_0x2f82b5):_0x2f82b5,_0x11b3b4=_0x2d03df+':\x20'+_0x3f5f48;throw this[_0x5d81f4(0x4e3)]['error'](this[_0x5d81f4(0x653)]+'\x20('+this['instance'][_0x5d81f4(0x5a4)]+_0x5d81f4(0x43f)+_0x11b3b4),new m(_0x11b3b4);}}async[a0_0xf534fa(0x2d7)](_0x4a952f,_0x19573c){const _0xa21f43=a0_0xf534fa;try{await this['client']['addChatLabel'](_0x19573c,_0x4a952f),this[_0xa21f43(0x4e3)]['info'](this[_0xa21f43(0x653)]+'\x20('+this[_0xa21f43(0x47a)][_0xa21f43(0x5a4)]+_0xa21f43(0x776)+_0x4a952f+_0xa21f43(0x4fe)+_0x19573c+_0xa21f43(0x4b5));}catch(_0x48bd3d){this[_0xa21f43(0x4e3)][_0xa21f43(0x1c2)](_0xa21f43(0x59c)+_0x4a952f+_0xa21f43(0x19e)+_0x19573c+':\x20'+_0x48bd3d);}}async[a0_0xf534fa(0x834)](_0x15aaa2,_0x49fa23){const _0xa7db31=a0_0xf534fa;try{await this[_0xa7db31(0x73e)][_0xa7db31(0x4e9)](_0x49fa23,_0x15aaa2),this[_0xa7db31(0x4e3)][_0xa7db31(0x8d8)](this[_0xa7db31(0x653)]+'\x20('+this[_0xa7db31(0x47a)][_0xa7db31(0x5a4)]+_0xa7db31(0x776)+_0x15aaa2+'\x20removido\x20do\x20chat\x20'+_0x49fa23+_0xa7db31(0x4b5));}catch(_0x486555){this['logger']['error'](_0xa7db31(0x54a)+_0x15aaa2+_0xa7db31(0x587)+_0x49fa23+':\x20'+_0x486555);}}async[a0_0xf534fa(0x88f)](_0x7a197f){const _0x546354=a0_0xf534fa;try{let _0x279d10=await this[_0x546354(0x7ea)][_0x546354(0x828)][_0x546354(0x4d1)](this[_0x546354(0x47a)]['wuid']),_0x23e355=_0x7a197f[_0x546354(0x656)]?_0x279d10['agents']['findIndex'](_0x5da791=>_0x5da791['_id']===_0x7a197f['_id']):-0x1;if(_0x7a197f['delete']&&_0x23e355>-0x1)_0x279d10[_0x546354(0x5d5)][_0x546354(0x7c3)](_0x23e355,0x1);else{if(_0x23e355>-0x1){let _0x2434c2=_0x279d10[_0x546354(0x5d5)][_0x23e355];_0x7a197f['fone']&&(_0x2434c2['fone']=_0x7a197f[_0x546354(0x224)]),_0x7a197f[_0x546354(0x232)]&&(_0x2434c2[_0x546354(0x232)]=_0x7a197f[_0x546354(0x232)]),_0x7a197f[_0x546354(0x8ce)]&&(_0x2434c2[_0x546354(0x8ce)]=_0x7a197f[_0x546354(0x8ce)]),_0x7a197f[_0x546354(0x3cb)]&&(_0x2434c2['role']=_0x7a197f[_0x546354(0x3cb)]);}else _0x279d10['agents']['push']({'_id':_0x7a197f[_0x546354(0x656)]||new pe[(_0x546354(0x311))][(_0x546354(0x7c1))]['ObjectId']()[_0x546354(0x7f7)](),'fone':_0x7a197f[_0x546354(0x224)],'name':_0x7a197f[_0x546354(0x232)],'email':_0x7a197f['email'],'role':_0x7a197f[_0x546354(0x3cb)]});}let _0x3ee2ad={'agents':_0x279d10[_0x546354(0x5d5)]},_0x2c2999=await this[_0x546354(0x7ea)][_0x546354(0x828)]['update'](_0x3ee2ad,this['instance']['wuid']);return this[_0x546354(0x877)]=_0x2c2999,this[_0x546354(0x4e3)][_0x546354(0x6f6)](this['instanceName']+'\x20('+this[_0x546354(0x47a)][_0x546354(0x5a4)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x546354(0x4e3)][_0x546354(0x6f6)](this[_0x546354(0x653)]+'\x20('+this[_0x546354(0x47a)][_0x546354(0x5a4)]+'):\x20'+this[_0x546354(0x877)]),_0x2c2999;}catch(_0x223f7e){let _0x520e6a=_0x546354(0x48e),_0xb1313d=_0x223f7e instanceof Error?_0x223f7e[_0x546354(0x6c6)]:typeof _0x223f7e==_0x546354(0x71e)?JSON['stringify'](_0x223f7e):_0x223f7e,_0x39ecec=_0x520e6a+':\x20'+_0xb1313d;throw this[_0x546354(0x4e3)][_0x546354(0x1c2)](this['instanceName']+'\x20('+this[_0x546354(0x47a)][_0x546354(0x5a4)]+_0x546354(0x43f)+_0x39ecec),new m(_0x39ecec);}}async[a0_0xf534fa(0x73d)](_0x1e407c){const _0x21b060=a0_0xf534fa;try{let _0x205fdb=await this[_0x21b060(0x7ea)][_0x21b060(0x828)][_0x21b060(0x4d1)](this[_0x21b060(0x47a)]['wuid']),_0x126d08=_0x1e407c[_0x21b060(0x656)]?_0x205fdb[_0x21b060(0x3c9)][_0x21b060(0x807)](_0x15f8ff=>_0x15f8ff[_0x21b060(0x656)]===_0x1e407c[_0x21b060(0x656)]):-0x1,_0x4c83ac=!0x1,_0x13a35d=_0x205fdb[_0x21b060(0x3c9)][_0x21b060(0x7a7)](_0x27033a=>_0x27033a['order']===_0x1e407c[_0x21b060(0x319)]);if(_0x1e407c[_0x21b060(0x4ee)]&&_0x126d08>-0x1)_0x205fdb['customFields'][_0x21b060(0x7c3)](_0x126d08,0x1),_0x4c83ac=!0x0;else{if(_0x126d08>-0x1){if(_0x205fdb[_0x21b060(0x3c9)][_0x21b060(0x7a7)](_0x47f881=>_0x47f881[_0x21b060(0x232)]===_0x1e407c[_0x21b060(0x232)]&&_0x47f881[_0x21b060(0x656)]!==_0x1e407c[_0x21b060(0x656)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x52ffff=_0x205fdb[_0x21b060(0x3c9)][_0x126d08];_0x1e407c[_0x21b060(0x319)]&&(_0x13a35d||!Number[_0x21b060(0x515)](_0x1e407c[_0x21b060(0x319)]))&&(_0x52ffff[_0x21b060(0x319)]=_0x1e407c[_0x21b060(0x319)],_0x4c83ac=!0x0),_0x1e407c[_0x21b060(0x232)]&&(_0x52ffff['name']=_0x1e407c[_0x21b060(0x232)]);}else{if(_0x205fdb[_0x21b060(0x3c9)][_0x21b060(0x7a7)](_0x5a6ca1=>_0x5a6ca1[_0x21b060(0x232)]===_0x1e407c['name']&&_0x5a6ca1[_0x21b060(0x656)]!==_0x1e407c[_0x21b060(0x656)]))throw new Error(_0x21b060(0x70d));_0x205fdb[_0x21b060(0x3c9)][_0x21b060(0x1a2)]({'_id':_0x1e407c[_0x21b060(0x656)]||new pe['default'][(_0x21b060(0x7c1))][(_0x21b060(0x8b4))]()[_0x21b060(0x7f7)](),'order':_0x1e407c[_0x21b060(0x319)],'name':_0x1e407c['name']}),_0x4c83ac=!0x0;}}if(_0x4c83ac){_0x205fdb['customFields']['sort']((_0xfce819,_0x5b3ddc)=>_0xfce819['order']>_0x5b3ddc[_0x21b060(0x319)]?0x1:_0x5b3ddc['order']>_0xfce819[_0x21b060(0x319)]?-0x1:0x0);for(let _0x32b8b0=0x0;_0x32b8b0<_0x205fdb[_0x21b060(0x3c9)][_0x21b060(0x847)];_0x32b8b0++)_0x205fdb[_0x21b060(0x3c9)][_0x32b8b0]['order']=_0x32b8b0+0x1;}let _0x46c6da=await this['repository'][_0x21b060(0x828)]['update'](_0x205fdb,this[_0x21b060(0x47a)][_0x21b060(0x5a4)]);return this[_0x21b060(0x877)]=_0x46c6da,this[_0x21b060(0x4e3)]['verbose'](this['instanceName']+'\x20('+this[_0x21b060(0x47a)][_0x21b060(0x5a4)]+_0x21b060(0x516)),this['logger']['verbose'](this[_0x21b060(0x653)]+'\x20('+this[_0x21b060(0x47a)]['wuid']+_0x21b060(0x43f)+this[_0x21b060(0x877)]),_0x46c6da;}catch(_0x37a36c){let _0xd0e0c0=_0x21b060(0x4eb),_0x550c3f=_0x37a36c instanceof Error?_0x37a36c[_0x21b060(0x6c6)]:typeof _0x37a36c==_0x21b060(0x71e)?JSON[_0x21b060(0x6f0)](_0x37a36c):_0x37a36c,_0x34fe5d=_0xd0e0c0+':\x20'+_0x550c3f;throw this['logger'][_0x21b060(0x1c2)](this['instanceName']+'\x20('+this[_0x21b060(0x47a)][_0x21b060(0x5a4)]+_0x21b060(0x43f)+_0x34fe5d),new m(_0x34fe5d);}}async['updateAutoCompleteMessages'](_0x153083){const _0x1f67e9=a0_0xf534fa;try{let _0x5914f6=await this[_0x1f67e9(0x7ea)][_0x1f67e9(0x828)][_0x1f67e9(0x4d1)](this[_0x1f67e9(0x47a)]['wuid']),_0x719cab=_0x5914f6?.[_0x1f67e9(0x3a5)]?.['findIndex'](_0x7f0ff2=>_0x7f0ff2['_id']===_0x153083?.['_id']);if(_0x153083?.[_0x1f67e9(0x4ee)])_0x719cab>-0x1&&_0x5914f6?.['autoCompleteMessages']?.[_0x1f67e9(0x7c3)](_0x719cab,0x1);else{if(_0x719cab>-0x1){let _0x22da2a=_0x5914f6[_0x1f67e9(0x3a5)][_0x719cab];_0x22da2a[_0x1f67e9(0x319)]=_0x153083?.['order']||_0x22da2a[_0x1f67e9(0x319)],_0x22da2a['command']=_0x153083?.['command']||_0x22da2a['command'],_0x22da2a['message']=_0x153083?.[_0x1f67e9(0x6c6)]||_0x22da2a[_0x1f67e9(0x6c6)];}else{let _0x30ee53={'_id':_0x153083?.['_id']||new pe[(_0x1f67e9(0x311))][(_0x1f67e9(0x7c1))][(_0x1f67e9(0x8b4))]()[_0x1f67e9(0x7f7)](),'order':_0x153083?.[_0x1f67e9(0x319)],'command':_0x153083?.['command'],'message':_0x153083?.[_0x1f67e9(0x6c6)]};_0x5914f6?.[_0x1f67e9(0x3a5)]?.['push'](_0x30ee53);}}_0x5914f6?.[_0x1f67e9(0x3a5)]?.[_0x1f67e9(0x211)]((_0x208fc9,_0x45f178)=>_0x208fc9[_0x1f67e9(0x319)]-_0x45f178[_0x1f67e9(0x319)]);let _0xc3a71f=await this[_0x1f67e9(0x7ea)]['automateSystem'][_0x1f67e9(0x1bb)](_0x5914f6,this['instance'][_0x1f67e9(0x5a4)]);return this[_0x1f67e9(0x877)]=_0xc3a71f,this[_0x1f67e9(0x4e3)][_0x1f67e9(0x6f6)](this['instanceName']+'\x20('+this[_0x1f67e9(0x47a)][_0x1f67e9(0x5a4)]+_0x1f67e9(0x516)),_0xc3a71f;}catch(_0x26cfde){let _0x2d7a5f=_0x1f67e9(0x82c),_0x430631=_0x26cfde instanceof Error?_0x26cfde[_0x1f67e9(0x6c6)]:typeof _0x26cfde==_0x1f67e9(0x71e)?JSON[_0x1f67e9(0x6f0)](_0x26cfde):_0x26cfde,_0x4352c1=_0x2d7a5f+':\x20'+_0x430631;throw this['logger']['error'](this[_0x1f67e9(0x653)]+'\x20('+this[_0x1f67e9(0x47a)][_0x1f67e9(0x5a4)]+'):\x20'+_0x4352c1),new m(_0x4352c1);}}async['updateFlowConfig'](_0x428fb5){const _0x3a22f3=a0_0xf534fa;try{let _0xbb592f=await this[_0x3a22f3(0x7ea)]['automateSystem'][_0x3a22f3(0x4d1)](this[_0x3a22f3(0x47a)][_0x3a22f3(0x5a4)]);if(!_0xbb592f)throw new Error(_0x3a22f3(0x51c));let _0x43fae4={'_id':_0xbb592f[_0x3a22f3(0x656)],'flowConfig':{'enabled':_0x428fb5[_0x3a22f3(0x633)]??_0xbb592f[_0x3a22f3(0x705)]['enabled'],'ignoreGroups':_0x428fb5[_0x3a22f3(0x2ab)]??_0xbb592f['flowConfig']['ignoreGroups'],'stopConversation':_0x428fb5[_0x3a22f3(0x528)][_0x3a22f3(0x4fb)]()??_0xbb592f[_0x3a22f3(0x705)][_0x3a22f3(0x528)][_0x3a22f3(0x4fb)](),'stopMinutes':_0x428fb5[_0x3a22f3(0x226)]??_0xbb592f['flowConfig'][_0x3a22f3(0x226)],'stopWhenYouSendMsg':_0x428fb5[_0x3a22f3(0x748)]??_0xbb592f[_0x3a22f3(0x705)]['stopWhenYouSendMsg']}},_0x58bd11=await this[_0x3a22f3(0x7ea)]['automateSystem'][_0x3a22f3(0x1bb)](_0x43fae4,this[_0x3a22f3(0x47a)][_0x3a22f3(0x5a4)]);return this['AutomateSystem']=_0x58bd11,this[_0x3a22f3(0x4e3)][_0x3a22f3(0x6f6)](this[_0x3a22f3(0x653)]+'\x20('+this[_0x3a22f3(0x47a)][_0x3a22f3(0x5a4)]+_0x3a22f3(0x32b)),this[_0x3a22f3(0x4e3)][_0x3a22f3(0x6f6)](this[_0x3a22f3(0x653)]+'\x20('+this[_0x3a22f3(0x47a)][_0x3a22f3(0x5a4)]+_0x3a22f3(0x43f)+this[_0x3a22f3(0x877)]),setTimeout(()=>this[_0x3a22f3(0x545)](),0x7d0),_0x58bd11;}catch(_0x3f7bcf){let _0x501543=_0x3a22f3(0x683),_0x273cf1=_0x3f7bcf instanceof Error?_0x3f7bcf[_0x3a22f3(0x6c6)]:typeof _0x3f7bcf==_0x3a22f3(0x71e)?JSON['stringify'](_0x3f7bcf):_0x3f7bcf,_0x22860b=_0x501543+':\x20'+_0x273cf1;throw this[_0x3a22f3(0x4e3)][_0x3a22f3(0x1c2)](this['instanceName']+'\x20('+this[_0x3a22f3(0x47a)][_0x3a22f3(0x5a4)]+_0x3a22f3(0x43f)+_0x22860b),new m(_0x22860b);}}async[a0_0xf534fa(0x456)](){const _0x4d9adc=a0_0xf534fa;try{let _0x41d064=await this[_0x4d9adc(0x7ea)][_0x4d9adc(0x828)][_0x4d9adc(0x4d1)](this[_0x4d9adc(0x47a)]['wuid']);return this[_0x4d9adc(0x877)]=_0x41d064,_0x41d064;}catch(_0x8dcba){let _0x9243a4='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x26df6d=_0x8dcba instanceof Error?_0x8dcba[_0x4d9adc(0x6c6)]:typeof _0x8dcba==_0x4d9adc(0x71e)?JSON[_0x4d9adc(0x6f0)](_0x8dcba):_0x8dcba,_0x1688dd=_0x9243a4+':\x20'+_0x26df6d;throw this[_0x4d9adc(0x4e3)][_0x4d9adc(0x1c2)](this[_0x4d9adc(0x653)]+'\x20('+this[_0x4d9adc(0x47a)][_0x4d9adc(0x5a4)]+'):\x20'+_0x1688dd),new m(_0x1688dd);}}async[a0_0xf534fa(0x53d)](){const _0x4b48f0=a0_0xf534fa;let _0x12c4ff=(await import(_0x4b48f0(0x5bb)))[_0x4b48f0(0x311)];this['queue']=new _0x12c4ff({'concurrency':0x1});}async[a0_0xf534fa(0x36d)](){const _0x1ca1a9=a0_0xf534fa;this[_0x1ca1a9(0x47a)][_0x1ca1a9(0x2d4)][_0x1ca1a9(0x58e)]&&clearTimeout(this['instance'][_0x1ca1a9(0x2d4)][_0x1ca1a9(0x58e)]),this[_0x1ca1a9(0x47a)][_0x1ca1a9(0x2d4)]['timeout']=setTimeout(()=>{const _0x80dba5=_0x1ca1a9;this[_0x80dba5(0x832)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0xf534fa(0x832)](){const _0x8be5bb=a0_0xf534fa;Date['now']()-this[_0x8be5bb(0x47a)]['ScheduleMessage'][_0x8be5bb(0x728)]>=0x1d4c0&&(this['logger']['verbose'](this[_0x8be5bb(0x653)]+'\x20('+this[_0x8be5bb(0x47a)][_0x8be5bb(0x5a4)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x8be5bb(0x47a)][_0x8be5bb(0x2d4)][_0x8be5bb(0x1a4)]=null,this[_0x8be5bb(0x47a)][_0x8be5bb(0x2d4)]['lastSend']=0x0,this[_0x8be5bb(0x47a)][_0x8be5bb(0x2d4)][_0x8be5bb(0x399)]=0x0,setTimeout(()=>this[_0x8be5bb(0x545)](),0x3e8));}async['processReadyMessages'](_0x30d7a2){const _0xb41a2d=a0_0xf534fa;this[_0xb41a2d(0x4e3)]['verbose'](this[_0xb41a2d(0x653)]+'\x20('+this[_0xb41a2d(0x47a)][_0xb41a2d(0x5a4)]+_0xb41a2d(0x3e9));let _0x412473={'startSend':Date[_0xb41a2d(0x694)](),'status':_0xb41a2d(0x250)},_0x336551=await this['repository'][_0xb41a2d(0x3d7)][_0xb41a2d(0x21a)]({'_id':_0x30d7a2[_0xb41a2d(0x656)]},_0x412473,this['instance']['wuid']);if(!_0x336551)return;let _0x1c4bdf=0xbb8,_0x13a54e=Math['floor'](Math[_0xb41a2d(0x48d)]()*(0x1f40-_0x1c4bdf+0x1))+_0x1c4bdf;this[_0xb41a2d(0x7ee)]=_0x336551[_0xb41a2d(0x402)][_0xb41a2d(0x5d3)](_0x24494a=>!_0x24494a[_0xb41a2d(0x82b)]),this[_0xb41a2d(0x47a)][_0xb41a2d(0x2d4)]['processingGroup']=_0x30d7a2;let _0x31c86a=this['pendingMessages'][_0xb41a2d(0x847)]===0x0;for(;this[_0xb41a2d(0x7ee)][_0xb41a2d(0x847)]>0x0||!_0x31c86a;){await this[_0xb41a2d(0x36d)]();let _0x7152fa=this[_0xb41a2d(0x678)]();if(!_0x7152fa){_0x31c86a=!0x0;break;}let _0x35a547=_0x336551['messages'][_0xb41a2d(0x525)](_0x556b0a=>_0x556b0a[_0xb41a2d(0x656)]===_0x7152fa[_0xb41a2d(0x656)]);if(!_0x35a547){_0x31c86a=!0x0;break;}if(this[_0xb41a2d(0x47a)][_0xb41a2d(0x2d4)][_0xb41a2d(0x728)]=Date[_0xb41a2d(0x694)](),_0x35a547[_0xb41a2d(0x82b)]){this[_0xb41a2d(0x4e3)]['warn'](this[_0xb41a2d(0x653)]+'\x20('+this[_0xb41a2d(0x47a)]['wuid']+_0xb41a2d(0x88e)+_0x35a547['remoteJid']+_0xb41a2d(0x428)),this[_0xb41a2d(0x7ee)]=this['pendingMessages'][_0xb41a2d(0x5d3)](_0x14febe=>_0x14febe[_0xb41a2d(0x656)]!==_0x35a547['_id']);continue;}if(!this[_0xb41a2d(0x47a)][_0xb41a2d(0x2d4)][_0xb41a2d(0x68b)]){this[_0xb41a2d(0x4e3)][_0xb41a2d(0x193)](this[_0xb41a2d(0x653)]+'\x20('+this[_0xb41a2d(0x47a)][_0xb41a2d(0x5a4)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(this['instance']['ScheduleMessage'][_0xb41a2d(0x1a4)]?.[_0xb41a2d(0x2d2)]===_0xb41a2d(0x51f)){this['logger']['warn'](this[_0xb41a2d(0x653)]+'\x20('+this[_0xb41a2d(0x47a)][_0xb41a2d(0x5a4)]+_0xb41a2d(0x844)),this[_0xb41a2d(0x47a)][_0xb41a2d(0x2d4)]['processingGroup']=null;break;}try{this[_0xb41a2d(0x4e3)]['warn'](this['instanceName']+'\x20('+this[_0xb41a2d(0x47a)][_0xb41a2d(0x5a4)]+'):\x20Enviando\x20mensagem\x20para\x20'+_0x35a547['remoteJid']);let _0x46f31c=await this['SendScheduleMessage'](_0x35a547[_0xb41a2d(0x281)],_0x35a547),_0x1e4796={'$push':{'messagesSend':{'idControl':_0x35a547[_0xb41a2d(0x656)],'remoteJid':_0x35a547[_0xb41a2d(0x281)],'error':_0x46f31c['error'],'id':_0x46f31c['error']?null:_0x46f31c['id'],'error_log':_0x46f31c['error']?_0x46f31c[_0xb41a2d(0x5f8)]?_0x46f31c[_0xb41a2d(0x5f8)][_0xb41a2d(0x7f7)]():'':null,'log_timestamp':Date[_0xb41a2d(0x694)]()}},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x20c1bc=[{'elem._id':_0x35a547[_0xb41a2d(0x656)]}];this['logger'][_0xb41a2d(0x193)](this[_0xb41a2d(0x653)]+'\x20('+this[_0xb41a2d(0x47a)][_0xb41a2d(0x5a4)]+_0xb41a2d(0x356)+_0x35a547[_0xb41a2d(0x656)]);let _0x1cb2c5=await this[_0xb41a2d(0x7ea)]['scheduleMessage'][_0xb41a2d(0x21a)]({'_id':_0x30d7a2[_0xb41a2d(0x656)]},_0x1e4796,this['instance']['wuid'],{'arrayFilters':_0x20c1bc});this[_0xb41a2d(0x47a)][_0xb41a2d(0x2d4)][_0xb41a2d(0x1a4)]=_0x1cb2c5,_0x46f31c[_0xb41a2d(0x1c2)]&&this['logger'][_0xb41a2d(0x1c2)](this['instanceName']+'\x20('+this[_0xb41a2d(0x47a)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem:\x20'+_0x46f31c[_0xb41a2d(0x5f8)]);let _0x4005fd=this[_0xb41a2d(0x635)](_0x30d7a2['delaySecMin'],_0x30d7a2[_0xb41a2d(0x3df)]);await this['sleep'](_0x4005fd);}catch(_0x17f655){this[_0xb41a2d(0x4e3)][_0xb41a2d(0x1c2)](this[_0xb41a2d(0x653)]+'\x20('+this[_0xb41a2d(0x47a)][_0xb41a2d(0x5a4)]+_0xb41a2d(0x1b2)+_0x35a547[_0xb41a2d(0x281)]+':\x20'+(_0x17f655 instanceof Error?_0x17f655['message']:JSON[_0xb41a2d(0x6f0)](_0x17f655,null,0x2)));let _0x188f4d={'$push':{'messagesSend':{'idControl':_0x35a547[_0xb41a2d(0x656)],'remoteJid':_0x35a547[_0xb41a2d(0x281)],'error':!0x0,'id':null,'error_log':_0x17f655 instanceof Error?_0x17f655['message']:JSON[_0xb41a2d(0x6f0)](_0x17f655,null,0x2),'log_timestamp':Date[_0xb41a2d(0x694)]()}},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x48430f=[{'elem._id':_0x35a547[_0xb41a2d(0x656)]}],_0x3f052c=await this[_0xb41a2d(0x7ea)][_0xb41a2d(0x3d7)][_0xb41a2d(0x21a)]({'_id':_0x30d7a2[_0xb41a2d(0x656)]},_0x188f4d,this['instance'][_0xb41a2d(0x5a4)],{'arrayFilters':_0x48430f});this[_0xb41a2d(0x47a)]['ScheduleMessage'][_0xb41a2d(0x1a4)]=_0x3f052c;}finally{if(_0x336551&&_0x336551['status']===_0xb41a2d(0x51f)){this[_0xb41a2d(0x4e3)][_0xb41a2d(0x193)](this[_0xb41a2d(0x653)]+'\x20('+this[_0xb41a2d(0x47a)][_0xb41a2d(0x5a4)]+_0xb41a2d(0x340)+_0x35a547[_0xb41a2d(0x656)]+_0xb41a2d(0x43b));break;}let _0x5d30f8=_0x336551['messages'][_0xb41a2d(0x525)](_0x5e02f0=>_0x5e02f0[_0xb41a2d(0x656)]===_0x35a547[_0xb41a2d(0x656)]);if(_0x5d30f8&&!_0x5d30f8['triedToSend']){let _0x37933e={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x5a2c1f=[{'elem._id':_0x35a547[_0xb41a2d(0x656)]}];await this[_0xb41a2d(0x7ea)][_0xb41a2d(0x3d7)][_0xb41a2d(0x21a)]({'_id':_0x336551[_0xb41a2d(0x656)]},_0x37933e,this['instance'][_0xb41a2d(0x5a4)],{'arrayFilters':_0x5a2c1f});}this[_0xb41a2d(0x7ee)]=_0x336551[_0xb41a2d(0x402)]['filter'](_0x43d087=>!_0x43d087[_0xb41a2d(0x82b)]),_0x31c86a=this['pendingMessages'][_0xb41a2d(0x847)]===0x0,this['instance'][_0xb41a2d(0x2d4)][_0xb41a2d(0x1a4)]=_0x336551;}}if(_0x31c86a){let _0x1412fe={'$set':{'status':'done'}};await this[_0xb41a2d(0x7ea)]['scheduleMessage'][_0xb41a2d(0x6fa)](_0x336551[_0xb41a2d(0x656)],_0x1412fe,this[_0xb41a2d(0x47a)]['wuid']),this[_0xb41a2d(0x47a)][_0xb41a2d(0x2d4)][_0xb41a2d(0x1a4)]=null;}await new Promise(_0x1ab88f=>setTimeout(_0x1ab88f,_0x13a54e)),global['gc']?global['gc']():console[_0xb41a2d(0x193)](_0xb41a2d(0x569)),this[_0xb41a2d(0x47a)][_0xb41a2d(0x2d4)][_0xb41a2d(0x1a4)]&&this[_0xb41a2d(0x7ee)]['length']===0x0&&(this[_0xb41a2d(0x47a)][_0xb41a2d(0x2d4)]['processingGroup']=null);}[a0_0xf534fa(0x678)](){const _0x1c8779=a0_0xf534fa;return this['pendingMessages'][_0x1c8779(0x847)]===0x0?null:this[_0x1c8779(0x7ee)]['reduce']((_0xd8a24f,_0xeb8035)=>(_0xd8a24f[_0x1c8779(0x319)]??Number['MAX_SAFE_INTEGER'])<(_0xeb8035[_0x1c8779(0x319)]??Number[_0x1c8779(0x2db)])?_0xd8a24f:_0xeb8035,this[_0x1c8779(0x7ee)][0x0]);}async[a0_0xf534fa(0x5ad)](){const _0x5e3c0e=a0_0xf534fa;this[_0x5e3c0e(0x4e3)][_0x5e3c0e(0x193)](this[_0x5e3c0e(0x653)]+'\x20('+this[_0x5e3c0e(0x47a)][_0x5e3c0e(0x5a4)]+_0x5e3c0e(0x478));let _0x3e88df=new Date(Date[_0x5e3c0e(0x694)]()-0xc*0x3c*0x3c*0x3e8),_0x1a54f1={'where':{'status':{'$in':['scheduled',_0x5e3c0e(0x250)]},'$or':[{'when':{'$lte':new Date(),'$gte':_0x3e88df}},{'when':0x0}]}},_0x45ab63=await this[_0x5e3c0e(0x7ea)][_0x5e3c0e(0x3d7)][_0x5e3c0e(0x525)](_0x1a54f1,this['instance'][_0x5e3c0e(0x5a4)]);return this[_0x5e3c0e(0x4e3)]['warn'](this[_0x5e3c0e(0x653)]+'\x20('+this[_0x5e3c0e(0x47a)][_0x5e3c0e(0x5a4)]+_0x5e3c0e(0x5c7)+_0x45ab63[_0x5e3c0e(0x847)]),_0x45ab63;}async[a0_0xf534fa(0x545)](){const _0x14005d=a0_0xf534fa;if(this['logger']['verbose'](this[_0x14005d(0x653)]+'\x20('+this[_0x14005d(0x47a)][_0x14005d(0x5a4)]+_0x14005d(0x4b6)),!this[_0x14005d(0x47a)]['ScheduleMessage']['isConnected']){this[_0x14005d(0x4e3)][_0x14005d(0x193)](this[_0x14005d(0x653)]+'\x20('+this[_0x14005d(0x47a)]['wuid']+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x14005d(0x47a)][_0x14005d(0x2d4)][_0x14005d(0x1a4)]=null,this[_0x14005d(0x47a)][_0x14005d(0x2d4)][_0x14005d(0x728)]=0x0,this[_0x14005d(0x47a)]['ScheduleMessage'][_0x14005d(0x399)]=0x0;return;}try{await this[_0x14005d(0x1dc)]();let _0x3b8438=await this[_0x14005d(0x5ad)]();if(_0x3b8438['length']===0x0){this[_0x14005d(0x4e3)]['warn'](this[_0x14005d(0x653)]+'\x20('+this[_0x14005d(0x47a)][_0x14005d(0x5a4)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'),await this[_0x14005d(0x4b0)]();return;}this[_0x14005d(0x47a)][_0x14005d(0x2d4)][_0x14005d(0x1a4)]=_0x3b8438[0x0],this[_0x14005d(0x4e3)][_0x14005d(0x6f6)](this[_0x14005d(0x653)]+'\x20('+this[_0x14005d(0x47a)][_0x14005d(0x5a4)]+_0x14005d(0x8c6)),this[_0x14005d(0x8d1)]['add'](()=>this[_0x14005d(0x2bb)](this[_0x14005d(0x47a)]['ScheduleMessage']['processingGroup'])),await this['scheduleNextExecution']();}catch(_0x53a87e){this['logger'][_0x14005d(0x1c2)](_0x14005d(0x84b)+(_0x53a87e instanceof Error?_0x53a87e[_0x14005d(0x6c6)]:JSON[_0x14005d(0x6f0)](_0x53a87e,null,0x2))),await this[_0x14005d(0x4b0)]();}}async[a0_0xf534fa(0x4b0)](){const _0xec6be8=a0_0xf534fa;this[_0xec6be8(0x4e3)][_0xec6be8(0x6f6)](this[_0xec6be8(0x653)]+'\x20('+this['instance']['wuid']+'):\x20Iniciando\x20scheduleNextExecution.');let _0x3e15f0=new Date(),_0x2713de=new Date(_0x3e15f0[_0xec6be8(0x476)]()+0x2*0x3c*0x3c*0x3e8),_0x39a4ba={'where':{'status':{'$in':[_0xec6be8(0x48f),_0xec6be8(0x250)]},'$or':[{'when':{'$lte':_0x2713de,'$gte':_0x3e15f0}},{'when':0x0}]}},_0x35be2e=await this['repository'][_0xec6be8(0x3d7)][_0xec6be8(0x3b6)](_0x39a4ba,this['instance'][_0xec6be8(0x5a4)]);_0x35be2e&&_0x35be2e[_0xec6be8(0x57b)]>Date['now']()?this['instance'][_0xec6be8(0x2d4)][_0xec6be8(0x399)]=_0x35be2e[_0xec6be8(0x57b)]-Date['now']():_0x35be2e&&_0x35be2e['when']<=Date[_0xec6be8(0x694)]()?(this[_0xec6be8(0x4e3)][_0xec6be8(0x193)](this[_0xec6be8(0x653)]+'\x20('+this[_0xec6be8(0x47a)]['wuid']+'):\x20Encontrado\x20próxima\x20mensagem\x20para\x20envio\x20imediato.'),this[_0xec6be8(0x47a)][_0xec6be8(0x2d4)][_0xec6be8(0x399)]=0x0):this[_0xec6be8(0x47a)][_0xec6be8(0x2d4)][_0xec6be8(0x399)]=(0x3c+Math[_0xec6be8(0x216)](Math[_0xec6be8(0x48d)]()*0x3c))*0x3c*0x3e8,this['instance']['ScheduleMessage'][_0xec6be8(0x399)]=Math[_0xec6be8(0x392)](this[_0xec6be8(0x47a)][_0xec6be8(0x2d4)][_0xec6be8(0x399)],0x2*0x3e8);let _0x5b3cac=Math[_0xec6be8(0x823)](this[_0xec6be8(0x47a)][_0xec6be8(0x2d4)][_0xec6be8(0x399)]/0xea60);if(_0x35be2e){let _0x3f5bf3=new Date(_0x35be2e[_0xec6be8(0x57b)])[_0xec6be8(0x3ab)]();this['logger'][_0xec6be8(0x193)](this[_0xec6be8(0x653)]+'\x20('+this['instance'][_0xec6be8(0x5a4)]+_0xec6be8(0x77d)+_0x3f5bf3+_0xec6be8(0x26c)+_0x5b3cac+_0xec6be8(0x75c));}else this[_0xec6be8(0x4e3)][_0xec6be8(0x193)](this['instanceName']+'\x20('+this[_0xec6be8(0x47a)][_0xec6be8(0x5a4)]+_0xec6be8(0x78f)+_0x5b3cac+_0xec6be8(0x75c));setTimeout(()=>this[_0xec6be8(0x545)](),this['instance'][_0xec6be8(0x2d4)][_0xec6be8(0x399)]+0x3e8);}[a0_0xf534fa(0x635)](_0x2aabfa,_0xbd2ab4){const _0x4d1904=a0_0xf534fa;return _0x2aabfa=Math['max'](0.5,_0x2aabfa),_0xbd2ab4=Math[_0x4d1904(0x5f3)](Math[_0x4d1904(0x392)](0x3,_0xbd2ab4),0x78),Math[_0x4d1904(0x216)](Math['random']()*(_0xbd2ab4-_0x2aabfa+0x1)+_0x2aabfa)*0x3e8;}[a0_0xf534fa(0x2b7)](_0x440d09){return new Promise(_0x2d5b31=>setTimeout(_0x2d5b31,_0x440d09));}async[a0_0xf534fa(0x59f)](_0x417720){const _0x5f1060=a0_0xf534fa;if(!this[_0x5f1060(0x877)]&&(await this[_0x5f1060(0x456)](),!this[_0x5f1060(0x877)]))return null;_0x417720=this[_0x5f1060(0x39f)](_0x417720);let _0x3015c8=await this[_0x5f1060(0x7ea)][_0x5f1060(0x803)][_0x5f1060(0x3b6)]({'where':{'_id':_0x417720}},this['instance']['wuid']),_0x54e78d={};if(_0x3015c8&&_0x3015c8[_0x5f1060(0x270)]){let _0x3586e6=_0x3015c8[_0x5f1060(0x270)];typeof _0x3586e6[_0x5f1060(0x585)]=='string'&&(_0x54e78d['nome']=_0x3586e6['nome']),typeof _0x3586e6['nomecompleto']==_0x5f1060(0x3dd)&&(_0x54e78d['nomecompleto']=_0x3586e6[_0x5f1060(0x8a8)]),typeof _0x3586e6[_0x5f1060(0x8ce)]=='string'&&(_0x54e78d['email']=_0x3586e6[_0x5f1060(0x8ce)]),typeof _0x3586e6[_0x5f1060(0x1bc)]=='string'&&(_0x54e78d[_0x5f1060(0x1bc)]=_0x3586e6[_0x5f1060(0x1bc)]),typeof _0x3586e6['status']==_0x5f1060(0x3dd)&&(_0x54e78d[_0x5f1060(0x2d2)]=_0x3586e6[_0x5f1060(0x2d2)]),typeof _0x3586e6[_0x5f1060(0x3ee)]==_0x5f1060(0x3dd)&&(_0x54e78d['notas']=_0x3586e6[_0x5f1060(0x3ee)]),typeof _0x3586e6[_0x5f1060(0x605)]=='string'&&(_0x54e78d[_0x5f1060(0x605)]=_0x3586e6[_0x5f1060(0x605)]),Array[_0x5f1060(0x6db)](_0x3586e6[_0x5f1060(0x376)])&&(_0x54e78d[_0x5f1060(0x376)]=_0x3586e6[_0x5f1060(0x376)][_0x5f1060(0x48a)](',\x20')),Array['isArray'](_0x3586e6['etiquetas'])&&(_0x54e78d[_0x5f1060(0x69c)]=_0x3586e6[_0x5f1060(0x69c)]['join'](',\x20'));}return _0x3015c8&&_0x3015c8[_0x5f1060(0x270)]&&_0x3015c8[_0x5f1060(0x270)][_0x5f1060(0x3c9)]&&_0x3015c8['leadInfo'][_0x5f1060(0x3c9)][_0x5f1060(0x753)](_0x2209c8=>{const _0x4dcce1=_0x5f1060;let _0x286d5f=this[_0x4dcce1(0x877)]?.[_0x4dcce1(0x3c9)][_0x4dcce1(0x525)](_0x15363e=>_0x15363e['_id']===_0x2209c8[_0x4dcce1(0x656)]);_0x286d5f&&(_0x54e78d[_0x286d5f['name']]=_0x2209c8['value']);}),_0x54e78d;}async['replaceVariablesChat'](_0x4f590a,_0x6dc328){const _0x544c18=a0_0xf534fa;try{let _0x425de7=await this[_0x544c18(0x59f)](_0x6dc328);return this[_0x544c18(0x235)](_0x4f590a,_0x425de7);}catch(_0x5e4f85){return this[_0x544c18(0x4e3)][_0x544c18(0x1c2)](_0x544c18(0x5f6)+_0x6dc328+':\x20'+_0x5e4f85),_0x4f590a;}}async['transformScheduledMessagesByType'](){const _0x57a304=a0_0xf534fa;let _0x3b3fee=async(_0x1ca273,_0xec6b9f)=>{const _0x2f1f09=a0_0x1d3d;let _0x3456fe=(await this[_0x2f1f09(0x7ea)]['scheduleMessage']['find']({'where':{'type':_0x1ca273}},this[_0x2f1f09(0x47a)][_0x2f1f09(0x5a4)]))[_0x2f1f09(0x445)](async _0x38ed0f=>{const _0x155e52=_0x2f1f09;let _0x1f285d=_0xec6b9f(_0x38ed0f),_0x1aa42a=_0xe44d6f=>/^\d+$/['test'](_0xe44d6f),_0x1cf584=_0x38ed0f['remoteJids'][_0x155e52(0x5d3)](_0x34ce9f=>_0x34ce9f['endsWith'](_0x155e52(0x746))?_0x34ce9f['length']>0x19:_0x34ce9f[_0x155e52(0x1b6)]('@g.us')?_0x34ce9f[_0x155e52(0x847)]>0xf:_0x1aa42a(_0x34ce9f)?_0x34ce9f['length']>=0xb:!0x1)['map'](_0x307e61=>({'_id':(0x0,Y['v4'])(),'idSchedule':_0x38ed0f[_0x155e52(0x656)],'type':_0x1f285d,'remoteJid':_0x307e61,'flow':_0x38ed0f[_0x155e52(0x6a2)],'text':_0x38ed0f[_0x155e52(0x6c6)]?.[_0x155e52(0x879)],'delay':_0x38ed0f[_0x155e52(0x6c6)]?.[_0x155e52(0x779)],'urlOrBase64':_0x38ed0f[_0x155e52(0x6c6)]?.[_0x155e52(0x58d)],'linkPreview':_0x38ed0f[_0x155e52(0x6c6)]?.[_0x155e52(0x8b6)],'fileName':_0x38ed0f[_0x155e52(0x6c6)]?.[_0x155e52(0x6b9)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x155e52(0x7ea)][_0x155e52(0x3d7)][_0x155e52(0x6fa)](_0x38ed0f[_0x155e52(0x656)],{'$set':{'messages':_0x1cf584},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x155e52(0x47a)][_0x155e52(0x5a4)]);}catch(_0x3f4e2e){console[_0x155e52(0x1c2)]('Erro\x20ao\x20atualizar\x20agendamento\x20'+_0x38ed0f[_0x155e52(0x656)]+':',_0x3f4e2e);}});await Promise[_0x2f1f09(0x423)](_0x3456fe);};await _0x3b3fee(_0x57a304(0x879),_0x2ff531=>'text'),await _0x3b3fee('media',_0x6072c4=>_0x6072c4[_0x57a304(0x6c6)]?.[_0x57a304(0x280)]||_0x57a304(0x31c)),await _0x3b3fee('audio',_0x3d473f=>'audio'),await _0x3b3fee('flow',_0x23d3af=>_0x57a304(0x66e)),await _0x3b3fee(_0x57a304(0x35b),_0x2a6767=>'image'),await _0x3b3fee(_0x57a304(0x259),_0x5c8e33=>'video'),await _0x3b3fee('document',_0x392bca=>_0x57a304(0x283)),this[_0x57a304(0x4e3)][_0x57a304(0x193)](this[_0x57a304(0x653)]+'\x20('+this[_0x57a304(0x47a)][_0x57a304(0x5a4)]+'):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!');}async[a0_0xf534fa(0x203)](_0x1c703d){const _0x318c56=a0_0xf534fa;try{if(this['logger'][_0x318c56(0x193)](this[_0x318c56(0x653)]+'\x20('+this[_0x318c56(0x47a)][_0x318c56(0x5a4)]+'):\x20Editando/criando\x20grupo\x20de\x20mensagens...'),_0x1c703d[_0x318c56(0x656)]||(_0x1c703d['_id']=(0x0,Y['v4'])()),this['instance'][_0x318c56(0x2d4)][_0x318c56(0x1a4)]?.[_0x318c56(0x656)]===_0x1c703d[_0x318c56(0x656)]?.[_0x318c56(0x7f7)]()){if(_0x1c703d['status']==='stopped')this['instance'][_0x318c56(0x2d4)]['processingGroup']=null;else throw new Error(_0x318c56(0x509));}if(_0x1c703d['delete']&&_0x1c703d[_0x318c56(0x656)]){let _0x11845a=await this[_0x318c56(0x7ea)][_0x318c56(0x3d7)]['deleteOne'](_0x1c703d[_0x318c56(0x656)],this['instance'][_0x318c56(0x5a4)]);return setTimeout(()=>this[_0x318c56(0x545)](),0x7d0),_0x11845a;}let _0x25753d=null;if(_0x1c703d[_0x318c56(0x656)]&&(_0x25753d=await this[_0x318c56(0x7ea)][_0x318c56(0x3d7)][_0x318c56(0x274)](_0x1c703d[_0x318c56(0x656)],this['instance'][_0x318c56(0x5a4)])),_0x25753d){let {_id:_0x286d3d,owner:_0x57d03a,messages:_0x57607a,..._0x14624d}=_0x1c703d;if(_0x57607a){let _0x8423ba=_0x57607a[_0x318c56(0x5d3)](_0x2a3906=>!_0x2a3906[_0x318c56(0x656)]),_0x5359e3=_0x57607a[_0x318c56(0x5d3)](_0x318b5b=>_0x318b5b[_0x318c56(0x656)]&&!_0x318b5b[_0x318c56(0x4ee)]),_0xf51918=_0x57607a['filter'](_0x2b80fb=>_0x2b80fb[_0x318c56(0x656)]&&_0x2b80fb[_0x318c56(0x4ee)]);if(_0x8423ba[_0x318c56(0x847)]>0x0&&await this['addMessagesToGroup'](_0x1c703d[_0x318c56(0x656)],_0x8423ba),_0x5359e3[_0x318c56(0x847)]>0x0&&await this[_0x318c56(0x6b5)]({'_id':_0x1c703d[_0x318c56(0x656)],'messages':_0x5359e3}),_0xf51918[_0x318c56(0x847)]>0x0){let _0x31159d=_0xf51918[_0x318c56(0x445)](_0x3e930d=>({'updateOne':{'filter':{'_id':_0x1c703d[_0x318c56(0x656)]},'update':{'$pull':{'messages':{'_id':_0x3e930d[_0x318c56(0x656)]}}}}}));await this[_0x318c56(0x7ea)][_0x318c56(0x3d7)]['bulkWrite'](_0x31159d,this[_0x318c56(0x47a)][_0x318c56(0x5a4)]);}}let _0xfa494f={'$set':{..._0x14624d,'status':_0x1c703d[_0x318c56(0x2d2)]||_0x25753d[_0x318c56(0x2d2)]}},_0x25906c=await this['repository'][_0x318c56(0x3d7)][_0x318c56(0x6fa)](_0x1c703d[_0x318c56(0x656)],_0xfa494f,this[_0x318c56(0x47a)][_0x318c56(0x5a4)]);return _0x25906c&&(this[_0x318c56(0x7ac)](_0x25906c[_0x318c56(0x402)]),await this['repository'][_0x318c56(0x3d7)][_0x318c56(0x6fa)](_0x25906c['_id'],{'$set':{'messages':_0x25906c['messages']}},this[_0x318c56(0x47a)]['wuid'])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),await this[_0x318c56(0x1dc)](),_0x25906c;}else{_0x1c703d[_0x318c56(0x2ad)]=this[_0x318c56(0x47a)][_0x318c56(0x5a4)],_0x1c703d[_0x318c56(0x402)]&&_0x1c703d[_0x318c56(0x402)][_0x318c56(0x753)](_0x4c256f=>{const _0x5c495d=_0x318c56;_0x4c256f['_id']||(_0x4c256f[_0x5c495d(0x656)]=(0x0,Y['v4'])()),_0x4c256f[_0x5c495d(0x659)]||(_0x4c256f[_0x5c495d(0x659)]=_0x1c703d[_0x5c495d(0x656)]),delete _0x4c256f[_0x5c495d(0x82b)];});let _0x48cb9e=await this['repository'][_0x318c56(0x3d7)][_0x318c56(0x258)](_0x1c703d,this[_0x318c56(0x47a)]['wuid']);return _0x48cb9e&&(this[_0x318c56(0x7ac)](_0x48cb9e[_0x318c56(0x402)]),await this[_0x318c56(0x7ea)][_0x318c56(0x3d7)][_0x318c56(0x6fa)](_0x48cb9e[_0x318c56(0x656)],{'$set':{'messages':_0x48cb9e[_0x318c56(0x402)]}},this['instance'][_0x318c56(0x5a4)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x48cb9e;}}catch(_0x2f2b72){let _0x169a74=_0x318c56(0x2c0),_0x44796a=_0x2f2b72 instanceof Error?_0x2f2b72[_0x318c56(0x6c6)]:typeof _0x2f2b72==_0x318c56(0x71e)?JSON['stringify'](_0x2f2b72):_0x2f2b72,_0x34a026=_0x169a74+':\x20'+_0x44796a;throw this[_0x318c56(0x4e3)][_0x318c56(0x1c2)](this[_0x318c56(0x653)]+'\x20('+this[_0x318c56(0x47a)][_0x318c56(0x5a4)]+_0x318c56(0x43f)+_0x34a026),new m(_0x34a026);}}async['addMessagesToGroup'](_0x352d7e,_0x14d746){const _0x1012b3=a0_0xf534fa;try{this['logger'][_0x1012b3(0x6f6)](this[_0x1012b3(0x653)]+'\x20('+this[_0x1012b3(0x47a)]['wuid']+'):\x20Adicionando\x20mensagens\x20ao\x20grupo...'),_0x14d746['forEach'](_0x594039=>{const _0x746e7e=_0x1012b3;_0x594039[_0x746e7e(0x656)]||(_0x594039[_0x746e7e(0x656)]=(0x0,Y['v4'])()),_0x594039[_0x746e7e(0x659)]||(_0x594039['idSchedule']=_0x352d7e),delete _0x594039[_0x746e7e(0x82b)];});let _0x29e982={'$push':{'messages':{'$each':_0x14d746}}},_0x5668a0=await this[_0x1012b3(0x7ea)][_0x1012b3(0x3d7)]['updateOneById'](_0x352d7e,_0x29e982,this[_0x1012b3(0x47a)][_0x1012b3(0x5a4)]);return _0x5668a0&&(this[_0x1012b3(0x7ac)](_0x5668a0[_0x1012b3(0x402)]),await this['repository'][_0x1012b3(0x3d7)][_0x1012b3(0x6fa)](_0x5668a0['_id'],{'$set':{'messages':_0x5668a0[_0x1012b3(0x402)]}},this['instance'][_0x1012b3(0x5a4)])),_0x5668a0;}catch(_0x3c7eaa){let _0x5b6abe=_0x1012b3(0x3dc),_0x2b07c6=_0x3c7eaa instanceof Error?_0x3c7eaa['message']:typeof _0x3c7eaa=='object'?JSON[_0x1012b3(0x6f0)](_0x3c7eaa):_0x3c7eaa,_0x126040=_0x5b6abe+':\x20'+_0x2b07c6;throw this['logger'][_0x1012b3(0x1c2)](this[_0x1012b3(0x653)]+'\x20('+this[_0x1012b3(0x47a)][_0x1012b3(0x5a4)]+_0x1012b3(0x43f)+_0x126040),new m(_0x126040);}}async[a0_0xf534fa(0x6b5)](_0x1516bd){const _0x1251b6=a0_0xf534fa;try{if(this[_0x1251b6(0x4e3)]['verbose'](this[_0x1251b6(0x653)]+'\x20('+this[_0x1251b6(0x47a)][_0x1251b6(0x5a4)]+_0x1251b6(0x32e)),!_0x1516bd['_id']||!_0x1516bd[_0x1251b6(0x402)])throw new Error(_0x1251b6(0x22d));let _0x7c8891=_0x1516bd['_id'],_0x5a825e=_0x1516bd[_0x1251b6(0x402)],_0x38c42c=_0x5a825e[_0x1251b6(0x5d3)](_0x322504=>!_0x322504[_0x1251b6(0x4ee)])[_0x1251b6(0x445)](_0x5d6c59=>{const _0xe02ede=_0x1251b6;let _0x558db2=_0x5d6c59[_0xe02ede(0x656)];if(!_0x558db2)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.');return _0x5d6c59[_0xe02ede(0x659)]||(_0x5d6c59[_0xe02ede(0x659)]=_0x7c8891),delete _0x5d6c59['triedToSend'],{'updateOne':{'filter':{'_id':_0x7c8891,'messages._id':_0x558db2},'update':{'$set':{'messages.$[elem]':_0x5d6c59}},'arrayFilters':[{'elem._id':_0x558db2}]}};}),_0x533530=_0x5a825e[_0x1251b6(0x5d3)](_0x3d6d2b=>_0x3d6d2b[_0x1251b6(0x4ee)])['map'](_0x2ad55c=>{const _0x24e754=_0x1251b6;let _0x30dfbb=_0x2ad55c[_0x24e754(0x656)];if(!_0x30dfbb)throw new Error(_0x24e754(0x7bd));return{'updateOne':{'filter':{'_id':_0x7c8891},'update':{'$pull':{'messages':{'_id':_0x30dfbb}}}}};}),_0x3f9b39=[..._0x38c42c,..._0x533530],_0x3613b6=await this[_0x1251b6(0x7ea)][_0x1251b6(0x3d7)][_0x1251b6(0x44c)](_0x3f9b39,this[_0x1251b6(0x47a)]['wuid']),_0x13e237=await this[_0x1251b6(0x7ea)][_0x1251b6(0x3d7)]['findById'](_0x7c8891,this['instance'][_0x1251b6(0x5a4)]);return _0x13e237&&(this[_0x1251b6(0x7ac)](_0x13e237['messages']),await this[_0x1251b6(0x7ea)]['scheduleMessage'][_0x1251b6(0x6fa)](_0x13e237['_id'],{'$set':{'messages':_0x13e237[_0x1251b6(0x402)]}},this[_0x1251b6(0x47a)][_0x1251b6(0x5a4)])),_0x13e237;}catch(_0xe494ba){let _0x138f7e='Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo',_0x5cbd94=_0xe494ba instanceof Error?_0xe494ba[_0x1251b6(0x6c6)]:typeof _0xe494ba==_0x1251b6(0x71e)?JSON[_0x1251b6(0x6f0)](_0xe494ba):_0xe494ba,_0x17acbf=_0x138f7e+':\x20'+_0x5cbd94;throw this[_0x1251b6(0x4e3)][_0x1251b6(0x1c2)](this['instanceName']+'\x20('+this[_0x1251b6(0x47a)][_0x1251b6(0x5a4)]+'):\x20'+_0x17acbf),new m(_0x17acbf);}}async[a0_0xf534fa(0x5f0)](){const _0x253c53=a0_0xf534fa;try{let _0x5631df={'status':_0x253c53(0x5de)},_0x202e4d=await this[_0x253c53(0x7ea)][_0x253c53(0x3d7)][_0x253c53(0x811)](_0x5631df,this[_0x253c53(0x47a)][_0x253c53(0x5a4)]);if(!_0x202e4d[_0x253c53(0x1c2)])this[_0x253c53(0x4e3)][_0x253c53(0x6f6)](this[_0x253c53(0x653)]+'\x20('+this[_0x253c53(0x47a)]['wuid']+_0x253c53(0x4ba));else throw new Error(_0x202e4d[_0x253c53(0x1c2)][_0x253c53(0x6c6)]||_0x253c53(0x64d));return this[_0x253c53(0x1fb)]();}catch(_0x1f3199){let _0x36d500='Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped',_0x5bb839=_0x1f3199 instanceof Error?_0x1f3199[_0x253c53(0x6c6)]:typeof _0x1f3199=='object'?JSON['stringify'](_0x1f3199):_0x1f3199,_0x55aa25=_0x36d500+':\x20'+_0x5bb839;throw this[_0x253c53(0x4e3)][_0x253c53(0x1c2)](this[_0x253c53(0x653)]+'\x20('+this[_0x253c53(0x47a)][_0x253c53(0x5a4)]+_0x253c53(0x43f)+_0x55aa25),new m(_0x55aa25);}}async[a0_0xf534fa(0x1fb)](){const _0x25b8ef=a0_0xf534fa;try{return await this[_0x25b8ef(0x7ea)][_0x25b8ef(0x3d7)][_0x25b8ef(0x525)]({'where':{}},this['instance'][_0x25b8ef(0x5a4)]);}catch(_0x3c5bb4){let _0x48889a='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x509997=_0x3c5bb4 instanceof Error?_0x3c5bb4[_0x25b8ef(0x6c6)]:typeof _0x3c5bb4=='object'?JSON[_0x25b8ef(0x6f0)](_0x3c5bb4):_0x3c5bb4,_0x58172f=_0x48889a+':\x20'+_0x509997;throw this[_0x25b8ef(0x4e3)]['error'](this['instanceName']+'\x20('+this[_0x25b8ef(0x47a)][_0x25b8ef(0x5a4)]+'):\x20'+_0x58172f),new m(_0x58172f);}}[a0_0xf534fa(0x7ac)](_0x5c8cfa){const _0x9be972=a0_0xf534fa;_0x5c8cfa[_0x9be972(0x211)]((_0x1a8ce3,_0x8c37a8)=>_0x1a8ce3[_0x9be972(0x319)]-_0x8c37a8[_0x9be972(0x319)]),_0x5c8cfa['forEach']((_0x75645c,_0x372e27)=>{_0x75645c['order']=_0x372e27+0x1;});}async[a0_0xf534fa(0x8b9)](_0x9c38a8,_0x20cb56){const _0x2cdbcc=a0_0xf534fa;try{if(!_0x20cb56)return this[_0x2cdbcc(0x4e3)][_0x2cdbcc(0x1c2)](this[_0x2cdbcc(0x653)]+'\x20('+this[_0x2cdbcc(0x47a)][_0x2cdbcc(0x5a4)]+_0x2cdbcc(0x33f)),{'error':!0x0,'detail':_0x2cdbcc(0x6b2)};if(_0x20cb56[_0x2cdbcc(0x20f)]===_0x2cdbcc(0x66e)&&!this[_0x2cdbcc(0x877)]?.[_0x2cdbcc(0x705)][_0x2cdbcc(0x633)])return this[_0x2cdbcc(0x4e3)][_0x2cdbcc(0x1c2)](this[_0x2cdbcc(0x653)]+'\x20('+this['instance'][_0x2cdbcc(0x5a4)]+_0x2cdbcc(0x4c1)),{'error':!0x0,'detail':_0x2cdbcc(0x564)};switch(_0x20cb56[_0x2cdbcc(0x20f)]){case _0x2cdbcc(0x879):return await this[_0x2cdbcc(0x695)](_0x20cb56,_0x9c38a8);case'video':case _0x2cdbcc(0x35b):case _0x2cdbcc(0x283):return await this[_0x2cdbcc(0x69d)](_0x20cb56,_0x9c38a8);case _0x2cdbcc(0x1b7):return await this[_0x2cdbcc(0x28a)](_0x20cb56,_0x9c38a8);case'flow':let _0x340324=new Ve();return _0x340324[_0x2cdbcc(0x232)]=_0x20cb56[_0x2cdbcc(0x66e)],_0x340324[_0x2cdbcc(0x281)]=_0x9c38a8,await this['startFlow'](_0x340324);default:return this[_0x2cdbcc(0x4e3)][_0x2cdbcc(0x1c2)](this[_0x2cdbcc(0x653)]+'\x20('+this['instance']['wuid']+_0x2cdbcc(0x672)+_0x20cb56[_0x2cdbcc(0x20f)]),{'error':!0x0,'detail':_0x2cdbcc(0x497)};}}catch(_0x94c945){return this[_0x2cdbcc(0x4e3)][_0x2cdbcc(0x1c2)](this[_0x2cdbcc(0x653)]+'\x20('+this['instance'][_0x2cdbcc(0x5a4)]+_0x2cdbcc(0x582)+(_0x94c945 instanceof Error?_0x94c945[_0x2cdbcc(0x6c6)]:JSON[_0x2cdbcc(0x6f0)](_0x94c945,null,0x2))),{'error':!0x0,'detail':_0x94c945['message']};}}async[a0_0xf534fa(0x695)](_0x3cdb53,_0x5c8c25){const _0x341ee5=a0_0xf534fa;if(this[_0x341ee5(0x4e3)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x341ee5(0x5a4)]+_0x341ee5(0x44e)+_0x5c8c25+'\x27'),!_0x3cdb53[_0x341ee5(0x879)]||_0x3cdb53[_0x341ee5(0x879)][_0x341ee5(0x847)]===0x0)return{'error':!0x0,'detail':_0x341ee5(0x836)};let _0x1db806=await this[_0x341ee5(0x568)](_0x3cdb53['text'],_0x5c8c25),_0x2e861b={'number':_0x5c8c25,'options':{'delay':_0x3cdb53[_0x341ee5(0x779)],'linkPreview':_0x3cdb53[_0x341ee5(0x8b6)]},'textMessage':{'text':_0x1db806}},_0x524d7f=null;try{let _0x3ca5fc=await this['textMessage'](_0x2e861b);if(_0x3ca5fc&&_0x3ca5fc['status'])return{'error':!0x1,'id':_0x3ca5fc[_0x341ee5(0x693)]['id']};_0x524d7f=JSON[_0x341ee5(0x6f0)](_0x3ca5fc),this[_0x341ee5(0x4e3)][_0x341ee5(0x6f6)](this['instanceName']+'\x20('+this['instance'][_0x341ee5(0x5a4)]+_0x341ee5(0x43f)+_0x524d7f);}catch(_0x2d73be){this[_0x341ee5(0x4e3)]['error'](this[_0x341ee5(0x653)]+'\x20('+this[_0x341ee5(0x47a)]['wuid']+_0x341ee5(0x2c8)+(_0x2d73be instanceof Error?_0x2d73be[_0x341ee5(0x6c6)]:JSON[_0x341ee5(0x6f0)](_0x2d73be,null,0x2))),_0x524d7f=_0x2d73be['message'];}if(_0x524d7f)return{'error':!0x0,'detail':(typeof _0x524d7f==_0x341ee5(0x71e)?JSON[_0x341ee5(0x6f0)](_0x524d7f,null,0x2):_0x524d7f)['replace'](/[\[\]{}\n]/g,'\x20')[_0x341ee5(0x60c)](/  +/g,'\x20')};}async[a0_0xf534fa(0x69d)](_0x45b68a,_0xc193b0){const _0x21c91b=a0_0xf534fa;this['logger'][_0x21c91b(0x6f6)](this['instanceName']+'\x20('+this[_0x21c91b(0x47a)][_0x21c91b(0x5a4)]+_0x21c91b(0x42e)+_0xc193b0+'\x27');let _0x2ef54b;_0x45b68a[_0x21c91b(0x879)]&&_0x45b68a['text'][_0x21c91b(0x847)]>0x0&&(_0x2ef54b=await this[_0x21c91b(0x568)](_0x45b68a[_0x21c91b(0x879)],_0xc193b0));let _0x2e7c42={'number':_0xc193b0,'options':{'delay':_0x45b68a[_0x21c91b(0x779)],'linkPreview':_0x45b68a[_0x21c91b(0x8b6)]},'mediaMessage':{'mediatype':_0x45b68a[_0x21c91b(0x20f)],'caption':_0x2ef54b,'media':_0x45b68a['urlOrBase64']}},_0x3cdb09=null;try{let _0x2d0d93=await this[_0x21c91b(0x2dd)](_0x2e7c42);if(_0x2d0d93&&_0x2d0d93[_0x21c91b(0x2d2)])return{'error':!0x1,'id':_0x2d0d93[_0x21c91b(0x693)]['id']};_0x3cdb09=JSON['stringify'](_0x2d0d93),this['logger'][_0x21c91b(0x6f6)](this['instanceName']+'\x20('+this[_0x21c91b(0x47a)]['wuid']+_0x21c91b(0x43f)+_0x3cdb09);}catch(_0x57e9f1){this[_0x21c91b(0x4e3)]['error'](this['instanceName']+'\x20('+this[_0x21c91b(0x47a)][_0x21c91b(0x5a4)]+_0x21c91b(0x327)+(_0x57e9f1 instanceof Error?_0x57e9f1[_0x21c91b(0x6c6)]:JSON[_0x21c91b(0x6f0)](_0x57e9f1,null,0x2))),_0x3cdb09=_0x57e9f1[_0x21c91b(0x6c6)];}if(_0x3cdb09)return{'error':!0x0,'detail':(typeof _0x3cdb09=='object'?JSON[_0x21c91b(0x6f0)](_0x3cdb09,null,0x2):_0x3cdb09)[_0x21c91b(0x60c)](/[\[\]{}\n]/g,'\x20')[_0x21c91b(0x60c)](/  +/g,'\x20')};}async[a0_0xf534fa(0x28a)](_0x8e6771,_0x112cb2){const _0x2b31f7=a0_0xf534fa;this['logger'][_0x2b31f7(0x6f6)](this['instanceName']+'\x20('+this[_0x2b31f7(0x47a)][_0x2b31f7(0x5a4)]+_0x2b31f7(0x5e7)+_0x112cb2+'\x27');let _0x48467e={'number':_0x112cb2,'options':{'delay':_0x8e6771[_0x2b31f7(0x779)]},'audioMessage':{'audio':_0x8e6771[_0x2b31f7(0x58d)]}},_0x26ef96=null;try{let _0x2404e1=await this[_0x2b31f7(0x3a1)](_0x48467e);if(_0x2404e1&&_0x2404e1['status'])return{'error':!0x1,'id':_0x2404e1[_0x2b31f7(0x693)]['id']};_0x26ef96=JSON['stringify'](_0x2404e1),this[_0x2b31f7(0x4e3)]['verbose'](this[_0x2b31f7(0x653)]+'\x20('+this[_0x2b31f7(0x47a)][_0x2b31f7(0x5a4)]+_0x2b31f7(0x43f)+_0x26ef96);}catch(_0x5dcd8b){this[_0x2b31f7(0x4e3)]['error'](this[_0x2b31f7(0x653)]+'\x20('+this[_0x2b31f7(0x47a)][_0x2b31f7(0x5a4)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x5dcd8b instanceof Error?_0x5dcd8b['message']:JSON[_0x2b31f7(0x6f0)](_0x5dcd8b,null,0x2))),_0x26ef96=_0x5dcd8b[_0x2b31f7(0x6c6)];}if(_0x26ef96)return{'error':!0x0,'detail':(typeof _0x26ef96==_0x2b31f7(0x71e)?JSON[_0x2b31f7(0x6f0)](_0x26ef96,null,0x2):_0x26ef96)[_0x2b31f7(0x60c)](/[\[\]{}\n]/g,'\x20')[_0x2b31f7(0x60c)](/  +/g,'\x20')};}async[a0_0xf534fa(0x47f)](_0x41a77c){const _0x77117c=a0_0xf534fa;try{return await this['client'][_0x77117c(0x317)](_0x41a77c[_0x77117c(0x363)],_0x41a77c['description']),{'update':_0x77117c(0x539)};}catch(_0x53ddc5){let _0x5d1ca6=_0x77117c(0x33e),_0x4d5739=_0x53ddc5 instanceof Error?_0x53ddc5['message']:typeof _0x53ddc5=='object'?JSON['stringify'](_0x53ddc5):_0x53ddc5,_0xce88d4=_0x5d1ca6+':\x20'+_0x4d5739;throw this[_0x77117c(0x4e3)][_0x77117c(0x1c2)](this['instanceName']+'\x20('+this[_0x77117c(0x47a)][_0x77117c(0x5a4)]+'):\x20'+_0xce88d4),new O(_0xce88d4);}}async['groupName'](_0x27a740){const _0x1cf4b3=a0_0xf534fa;try{return await this[_0x1cf4b3(0x73e)][_0x1cf4b3(0x7df)](_0x27a740['groupJid'],_0x27a740[_0x1cf4b3(0x232)]),{'update':_0x1cf4b3(0x539)};}catch(_0x3cf461){let _0xe5c706=_0x1cf4b3(0x66b),_0x4d388b=_0x3cf461 instanceof Error?_0x3cf461[_0x1cf4b3(0x6c6)]:typeof _0x3cf461=='object'?JSON[_0x1cf4b3(0x6f0)](_0x3cf461):_0x3cf461,_0x2ef4ec=_0xe5c706+':\x20'+_0x4d388b;throw this[_0x1cf4b3(0x4e3)]['error'](this[_0x1cf4b3(0x653)]+'\x20('+this[_0x1cf4b3(0x47a)][_0x1cf4b3(0x5a4)]+_0x1cf4b3(0x43f)+_0x2ef4ec),new O(_0x2ef4ec);}}async['toggleEphemeral'](_0x144240){const _0x78c7d4=a0_0xf534fa;try{let _0x2f52ea=await this[_0x78c7d4(0x73e)]['groupToggleEphemeral'](_0x144240[_0x78c7d4(0x363)],_0x144240[_0x78c7d4(0x28c)]);return{'success':!0x0};}catch(_0x3073f4){let _0xbff4f0=_0x78c7d4(0x239),_0x31257c=_0x3073f4 instanceof Error?_0x3073f4['message']:typeof _0x3073f4==_0x78c7d4(0x71e)?JSON['stringify'](_0x3073f4):_0x3073f4,_0x7ab06b=_0xbff4f0+':\x20'+_0x31257c;throw this[_0x78c7d4(0x4e3)][_0x78c7d4(0x1c2)](this[_0x78c7d4(0x653)]+'\x20('+this[_0x78c7d4(0x47a)][_0x78c7d4(0x5a4)]+_0x78c7d4(0x43f)+_0x7ab06b),new O(_0x7ab06b);}}async[a0_0xf534fa(0x494)](_0x2b71d9){const _0x19a56d=a0_0xf534fa;try{return await this['client'][_0x19a56d(0x8de)](_0x2b71d9[_0x19a56d(0x363)],_0x2b71d9['setting']),{'update':_0x19a56d(0x539)};}catch(_0x273dd5){let _0x364144='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0x3fdaf0=_0x273dd5 instanceof Error?_0x273dd5[_0x19a56d(0x6c6)]:typeof _0x273dd5==_0x19a56d(0x71e)?JSON[_0x19a56d(0x6f0)](_0x273dd5):_0x273dd5,_0x54dda8=_0x364144+':\x20'+_0x3fdaf0;throw this['logger'][_0x19a56d(0x1c2)](this[_0x19a56d(0x653)]+'\x20('+this[_0x19a56d(0x47a)]['wuid']+_0x19a56d(0x43f)+_0x54dda8),new O(_0x54dda8);}}async[a0_0xf534fa(0x53b)](_0x132c80){const _0x2de18a=a0_0xf534fa;try{let _0x269ca3;if((0x0,D[_0x2de18a(0x73f)])(_0x132c80['image'])){let _0x109ee0=new Date()[_0x2de18a(0x476)](),_0x5e1439=_0x132c80[_0x2de18a(0x35b)]+_0x2de18a(0x8a5)+_0x109ee0;_0x269ca3=(await Q['default'][_0x2de18a(0x71f)](_0x5e1439,{'responseType':_0x2de18a(0x715)}))[_0x2de18a(0x4e2)];}else{if((0x0,D[_0x2de18a(0x6da)])(_0x132c80['image']))_0x269ca3=Buffer['from'](_0x132c80[_0x2de18a(0x35b)],'base64');else throw new m(_0x2de18a(0x85c));}return await this[_0x2de18a(0x73e)][_0x2de18a(0x393)](_0x132c80['groupJid'],_0x269ca3),{'update':_0x2de18a(0x539)};}catch(_0x59f7ab){let _0x2e5ded=_0x2de18a(0x25a),_0x593676=_0x59f7ab instanceof Error?_0x59f7ab[_0x2de18a(0x6c6)]:typeof _0x59f7ab==_0x2de18a(0x71e)?JSON[_0x2de18a(0x6f0)](_0x59f7ab):_0x59f7ab,_0x298c54=_0x2e5ded+':\x20'+_0x593676;throw this['logger'][_0x2de18a(0x1c2)](this[_0x2de18a(0x653)]+'\x20('+this[_0x2de18a(0x47a)]['wuid']+_0x2de18a(0x43f)+_0x298c54),new O(_0x298c54);}}},Ut=class u{constructor(_0x4d0ce1,_0x38cc1a,_0x305e2b){const _0x21c0f9=a0_0xf534fa;this['eventEmitter']=_0x4d0ce1,this[_0x21c0f9(0x7dd)]=_0x38cc1a,this[_0x21c0f9(0x7ea)]=_0x305e2b,this['db']={},this[_0x21c0f9(0x3a0)]={},this[_0x21c0f9(0x4e3)]=new N(u['name']),this[_0x21c0f9(0x7dc)]={},(this[_0x21c0f9(0x5aa)](),this[_0x21c0f9(0x434)](),Object[_0x21c0f9(0x629)](this['db'],_0x38cc1a[_0x21c0f9(0x71f)](_0x21c0f9(0x671))),Object[_0x21c0f9(0x629)](this[_0x21c0f9(0x3a0)],_0x38cc1a['get'](_0x21c0f9(0x1d2))),this[_0x21c0f9(0x3c7)]=this['db']['ENABLED']?this[_0x21c0f9(0x7ea)][_0x21c0f9(0x334)]?.['db'](this['db']['CONNECTION'][_0x21c0f9(0x240)]+'-instances'):void 0x0,this[_0x21c0f9(0x850)]=this[_0x21c0f9(0x3a0)][_0x21c0f9(0x4f1)]?new ue(this[_0x21c0f9(0x3a0)]):void 0x0);}async[a0_0xf534fa(0x2d0)](_0x3572e3){const _0x3a7e1c=a0_0xf534fa;if(_0x3572e3&&!this[_0x3a7e1c(0x7dc)][_0x3572e3])throw new F('Instance\x20\x22'+_0x3572e3+_0x3a7e1c(0x3da));let _0x2046d0=[];for await(let [_0x2a48b2,_0x1e6648]of Object[_0x3a7e1c(0x3aa)](this[_0x3a7e1c(0x7dc)]))if(_0x1e6648&&_0x1e6648[_0x3a7e1c(0x377)][_0x3a7e1c(0x87a)]===_0x3a7e1c(0x441)){let _0x2fc16e=await this['repository'][_0x3a7e1c(0x7cc)][_0x3a7e1c(0x525)](_0x2a48b2);_0x2046d0['push']({'instance':{'instanceName':_0x2a48b2,'apikey':_0x2fc16e['apikey'],'owner':_0x1e6648[_0x3a7e1c(0x5a4)],'profileName':await _0x1e6648[_0x3a7e1c(0x4ff)]()||_0x3a7e1c(0x33b),'profilePictureUrl':_0x1e6648['profilePictureUrl']}});}return _0x2046d0[_0x3a7e1c(0x525)](_0x34bfb9=>_0x34bfb9[_0x3a7e1c(0x47a)][_0x3a7e1c(0x653)]===_0x3572e3)??_0x2046d0;}async[a0_0xf534fa(0x26f)](_0x52dc1f){const _0x1d1a7f=a0_0xf534fa;if(this['db'][_0x1d1a7f(0x4f1)]&&(await this[_0x1d1a7f(0x7ea)][_0x1d1a7f(0x334)]['connect'](),(await this[_0x1d1a7f(0x3c7)][_0x1d1a7f(0x1e4)]())[_0x1d1a7f(0x847)]>0x0&&await this[_0x1d1a7f(0x3c7)][_0x1d1a7f(0x48b)](_0x52dc1f)),this[_0x1d1a7f(0x3a0)]['ENABLED']){this[_0x1d1a7f(0x850)][_0x1d1a7f(0x860)]=_0x52dc1f,await this[_0x1d1a7f(0x850)][_0x1d1a7f(0x45e)]();return;}}async[a0_0xf534fa(0x49d)](){const _0x45e498=a0_0xf534fa;await this['InstancesAlterarTodas']();let _0xf8958d=async _0x4f2842=>{const _0x5ee4b2=a0_0x1d3d;let _0x5a5258=new Ce(this[_0x5ee4b2(0x7dd)],this[_0x5ee4b2(0x31a)],this['repository']);_0x5a5258['instanceName']=_0x4f2842,await _0x5a5258['connectToWhatsapp'](),this['waInstances'][_0x4f2842]=_0x5a5258;};try{if(this[_0x45e498(0x3a0)][_0x45e498(0x4f1)]){let _0x572df4=await this[_0x45e498(0x850)]['instanceKeys']();_0x572df4?.[_0x45e498(0x847)]>0x0&&_0x572df4[_0x45e498(0x753)](async _0x32886a=>await _0xf8958d(_0x32886a['split'](':')[0x1]));return;}if(this['db'][_0x45e498(0x4f1)]){await this[_0x45e498(0x7ea)][_0x45e498(0x334)][_0x45e498(0x842)]();let _0x1d9e1a=await this[_0x45e498(0x3c7)][_0x45e498(0x1e4)]();_0x1d9e1a[_0x45e498(0x847)]>0x0&&_0x1d9e1a[_0x45e498(0x753)](async _0x5a6fbe=>await _0xf8958d(_0x5a6fbe[_0x45e498(0x47b)][_0x45e498(0x60c)](/^[\w-]+\./,'')));return;}}catch(_0x2e5ad6){this[_0x45e498(0x4e3)][_0x45e498(0x1c2)](_0x2e5ad6);}}async[a0_0xf534fa(0x6eb)](){const _0x59f341=a0_0xf534fa;try{let _0x20c39e=await this[_0x59f341(0x7ea)][_0x59f341(0x7cc)]['findMany']({'online':!0x1});for(let _0x1fd7dc of _0x20c39e){let _0x523565=_0x1fd7dc[_0x59f341(0x656)];await se[_0x59f341(0x4ef)](W,_0x523565);}console[_0x59f341(0x2a2)](_0x59f341(0x1b9)+_0x20c39e['length']);let _0xc74af={'online':!0x1},_0x5acc00=await this[_0x59f341(0x7ea)][_0x59f341(0x7cc)][_0x59f341(0x811)](_0xc74af);console[_0x59f341(0x2a2)](_0x59f341(0x898)+_0x5acc00[_0x59f341(0x5ba)]);}catch(_0x154df1){console[_0x59f341(0x1c2)](_0x59f341(0x370),_0x154df1);}}async[a0_0xf534fa(0x2b2)](){const _0x7a1c80=a0_0xf534fa;try{let _0x3f6138={'online':!0x1},_0x2efd0a={'online':!0x1,'lastDisconnect':Date['now']()},_0x32138d=await this[_0x7a1c80(0x7ea)][_0x7a1c80(0x7cc)][_0x7a1c80(0x712)](_0x3f6138,_0x2efd0a);await this['cleanDisconnectedInstances']();}catch(_0x17da93){console['error'](_0x7a1c80(0x201),_0x17da93);}}[a0_0xf534fa(0x5aa)](){const _0xb6a802=a0_0xf534fa;this[_0xb6a802(0x31a)]['on'](_0xb6a802(0x337),async _0x4b1317=>{const _0x23afcd=_0xb6a802;try{this[_0x23afcd(0x7dc)][_0x4b1317]=void 0x0;}catch{}try{this[_0x23afcd(0x26f)](_0x4b1317);}finally{this[_0x23afcd(0x4e3)][_0x23afcd(0x193)](_0x23afcd(0x72e)+_0x4b1317+'\x22\x20-\x20REMOVED');}});}['noConnection'](){const _0x3cd63f=a0_0xf534fa;this[_0x3cd63f(0x31a)]['on']('no.connection',async _0xcc8afb=>{const _0x4bbfb8=_0x3cd63f;try{this[_0x4bbfb8(0x7dc)][_0xcc8afb]=void 0x0;}catch{}try{this[_0x4bbfb8(0x26f)](_0xcc8afb);}finally{this[_0x4bbfb8(0x4e3)]['warn']('Instance\x20\x22'+_0xcc8afb+_0x4bbfb8(0x364));}});}},jt=class extends T{[a0_0xf534fa(0x1ea)](_0x5d3825){return Xs(_0x5d3825);}async[a0_0xf534fa(0x710)](_0x178820){const _0x7c02a4=a0_0xf534fa;if(_0x178820[_0x7c02a4(0x847)]!==0x0)try{return{'insertCount':(await this[_0x7c02a4(0x1ea)](_0x178820[0x0][_0x7c02a4(0x2ad)])[_0x7c02a4(0x535)]([..._0x178820]))['length']};}catch(_0x2f0261){return _0x2f0261;}}async[a0_0xf534fa(0x525)](_0x483fe0,_0x469e51){const _0x31b6d7=a0_0xf534fa;try{let _0xefffe3=this[_0x31b6d7(0x1ea)](_0x469e51),_0x9dc2b3=A(_0x483fe0[_0x31b6d7(0x867)]);return await _0xefffe3[_0x31b6d7(0x525)](_0x9dc2b3)[_0x31b6d7(0x211)]({'lastmsg':-0x1})[_0x31b6d7(0x321)](_0x483fe0?.[_0x31b6d7(0x321)]??0x0)[_0x31b6d7(0x5ed)]();}catch{return[];}}async[a0_0xf534fa(0x1ba)](_0x34ee29,_0x5903dc){const _0xd9d61f=a0_0xf534fa;try{let _0x4c9d19=this[_0xd9d61f(0x1ea)](_0x5903dc),_0x3523f3=A(_0x34ee29[_0xd9d61f(0x867)]);return _0x3523f3[_0xd9d61f(0x79f)]={'$ne':[]},await _0x4c9d19[_0xd9d61f(0x525)](_0x3523f3)[_0xd9d61f(0x211)]({'lastmsg':-0x1})['limit'](_0x34ee29?.[_0xd9d61f(0x321)]??0x0)[_0xd9d61f(0x5ed)]();}catch{return[];}}async['delete'](_0x1ea823,_0x37339f){const _0x176588=a0_0xf534fa;try{return{'deletedCount':(await this[_0x176588(0x1ea)](_0x37339f)['deleteMany']({..._0x1ea823['where']}))[_0x176588(0x4c8)]};}catch(_0x3f5b7e){return{'error':_0x3f5b7e?.['toString']()};}}async[a0_0xf534fa(0x8ad)](_0x95865a,_0x5ea7c7){const _0x55b4c8=a0_0xf534fa;try{return await this[_0x55b4c8(0x1ea)](_0x5ea7c7)[_0x55b4c8(0x811)]({..._0x95865a[_0x55b4c8(0x867)]}),[];}catch(_0x52a91c){return{'error':_0x52a91c?.[_0x55b4c8(0x7f7)]()};}}async['findOne'](_0x1fa46a,_0x5bf1c9){const _0x18264b=a0_0xf534fa;try{let _0x4db02d=this[_0x18264b(0x1ea)](_0x5bf1c9),_0x2b657b=A(_0x1fa46a['where']);return await _0x4db02d[_0x18264b(0x3b6)](_0x2b657b)['lean']();}catch{return null;}}async[a0_0xf534fa(0x21a)](_0x183af0,_0x30d93c,_0x376673,_0x54ef8b,_0x2acf54=a0_0xf534fa(0x1c3)){const _0x112e4e=a0_0xf534fa;try{let _0x4aa972={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x54ef8b},_0x1ac431=this[_0x112e4e(0x1ea)](_0x376673),_0x4633f1=A(_0x183af0[_0x112e4e(0x867)]);Object[_0x112e4e(0x725)](_0x30d93c)['forEach'](_0x58f2e4=>{_0x30d93c[_0x58f2e4]==null&&delete _0x30d93c[_0x58f2e4];});let _0x395930={};return _0x395930[_0x2acf54]=_0x30d93c,await _0x1ac431[_0x112e4e(0x6fc)](_0x4633f1,_0x395930,_0x4aa972);}catch(_0x3deca8){return console[_0x112e4e(0x1c2)](_0x3deca8),null;}}async[a0_0xf534fa(0x647)](_0x4cc02a){const _0x12fa39=a0_0xf534fa;try{let _0x2182c7=this[_0x12fa39(0x1ea)](_0x4cc02a[0x0][_0x12fa39(0x7db)][_0x12fa39(0x867)]['owner']),_0x2cd699=_0x4cc02a[_0x12fa39(0x445)](_0x544abc=>({'updateOne':{'filter':{..._0x544abc[_0x12fa39(0x7db)][_0x12fa39(0x867)]},'update':{'$set':_0x544abc[_0x12fa39(0x1bb)]},'upsert':!0x0}})),_0x27b6d7=await _0x2182c7[_0x12fa39(0x44c)](_0x2cd699);return _0x27b6d7[_0x12fa39(0x249)]+_0x27b6d7[_0x12fa39(0x6bd)];}catch(_0x3b78eb){return console['error'](_0x3b78eb),0x0;}}async[a0_0xf534fa(0x675)](_0x39a7fe){const _0x2d66d8=a0_0xf534fa;try{let _0x285dfe={'group_isCommunity':'','group_announce':'','group_size':''},_0x1cb34a={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x30c262={'$unset':_0x285dfe};return(await this['getChatModelForOwner'](_0x39a7fe)[_0x2d66d8(0x647)](_0x1cb34a,_0x30c262))[_0x2d66d8(0x249)];}catch(_0x49b9c6){return console['error']('Error\x20removing\x20unused\x20chat\x20fields:',_0x49b9c6),0x0;}}async['updateMissingEtiquetas'](_0x383344){const _0x575d5d=a0_0xf534fa;try{let _0x308a49=this[_0x575d5d(0x1ea)](_0x383344),_0x47ad80={'leadInfo.etiquetas':{'$exists':!0x1}},_0x287c2d={'$set':{'leadInfo.etiquetas':[]}};return(await _0x308a49['updateMany'](_0x47ad80,_0x287c2d))[_0x575d5d(0x249)];}catch(_0x46e50e){return console[_0x575d5d(0x1c2)](_0x46e50e),0x0;}}async[a0_0xf534fa(0x4a8)](_0x5dd1a3){const _0xf5a353=a0_0xf534fa;try{let _0x83d890=this[_0xf5a353(0x1ea)](_0x5dd1a3),_0x1dae16={'leadInfo.tags':{'$exists':!0x1}},_0x272ff3={'$set':{'leadInfo.tags':[]}};return(await _0x83d890[_0xf5a353(0x647)](_0x1dae16,_0x272ff3))[_0xf5a353(0x249)];}catch(_0x3b442c){return console[_0xf5a353(0x1c2)](_0x3b442c),0x0;}}async['updateMissingCustomFields'](_0x21f24d){const _0x2f8635=a0_0xf534fa;try{let _0x5ee9e6=this[_0x2f8635(0x1ea)](_0x21f24d),_0x1540d6={'leadInfo.customFields':{'$exists':!0x1}},_0x836c94={'$set':{'leadInfo.customFields':[]}};return(await _0x5ee9e6[_0x2f8635(0x647)](_0x1540d6,_0x836c94))['modifiedCount'];}catch(_0x35ce1e){return console[_0x2f8635(0x1c2)](_0x35ce1e),0x0;}}async[a0_0xf534fa(0x535)](_0x8f3d07,_0x1be1fc){const _0xebef4a=a0_0xf534fa;if(!Array[_0xebef4a(0x6db)](_0x8f3d07)||_0x8f3d07[_0xebef4a(0x847)]===0x0)throw new Error(_0xebef4a(0x1ac));try{return(await this[_0xebef4a(0x1ea)](_0x1be1fc)[_0xebef4a(0x535)](_0x8f3d07))['length'];}catch(_0x20fcb4){throw console[_0xebef4a(0x1c2)]('Erro\x20ao\x20inserir\x20chats:',_0x20fcb4),_0x20fcb4;}}async[a0_0xf534fa(0x1c8)](_0x3475d2,_0x5ed7b1){const _0x2b0474=a0_0xf534fa;try{await this[_0x2b0474(0x1ea)](_0x5ed7b1)[_0x2b0474(0x56e)]({'_id':_0x3475d2});}catch(_0x336d3c){throw console[_0x2b0474(0x1c2)]('Erro\x20ao\x20deletar\x20chat:',_0x336d3c),_0x336d3c;}}},Jt=class extends T{constructor(_0x1625ce,_0x4be4e1,_0x56bdb7){const _0x3961ef=a0_0xf534fa;super(_0x4be4e1),this[_0x3961ef(0x6f1)]=_0x1625ce,this[_0x3961ef(0x7dd)]=_0x4be4e1,this[_0x3961ef(0x28e)]=_0x56bdb7;}async['insert'](_0x4e559b){const _0x7dbd67=a0_0xf534fa;if(_0x4e559b[_0x7dbd67(0x847)]!==0x0)try{return{'insertCount':(await this[_0x7dbd67(0x6f1)]['insertMany']([..._0x4e559b]))['length']};}catch(_0x15c304){return _0x15c304;}}async[a0_0xf534fa(0x1bb)](_0x279da8,_0x31e529){const _0x5a263c=a0_0xf534fa;try{let _0x2d2597=A(_0x279da8[_0x5a263c(0x867)]);return{'updatedCount':(await this['cacheContactModel'][_0x5a263c(0x647)](_0x2d2597,{'$set':_0x31e529}))[_0x5a263c(0x249)]};}catch(_0x4c7f58){return console[_0x5a263c(0x1c2)](_0x5a263c(0x439),_0x4c7f58),{'error':_0x4c7f58[_0x5a263c(0x7f7)]()};}}async[a0_0xf534fa(0x4ac)](_0x2bc0b0){const _0x41d89f=a0_0xf534fa;try{let _0xd43de1={'_id':{'$in':_0x2bc0b0}};return await this[_0x41d89f(0x6f1)]['find'](_0xd43de1)[_0x41d89f(0x5ed)]();}catch(_0x5c7aaf){return console[_0x41d89f(0x1c2)](_0x41d89f(0x26b),_0x5c7aaf),[];}}async[a0_0xf534fa(0x4ee)](_0x3bd3cc){const _0x3423a2=a0_0xf534fa;try{return{'deletedCount':(await this[_0x3423a2(0x6f1)][_0x3423a2(0x811)]({..._0x3bd3cc[_0x3423a2(0x867)]}))[_0x3423a2(0x4c8)]};}catch(_0x327fd6){return{'error':_0x327fd6?.['toString']()};}}async[a0_0xf534fa(0x525)](_0x288ecd){const _0x4370d0=a0_0xf534fa;try{let _0x4dbc3a=A(_0x288ecd[_0x4370d0(0x867)]);return await this['cacheContactModel']['find'](_0x4dbc3a)[_0x4370d0(0x321)](_0x288ecd?.[_0x4370d0(0x321)]??0x0)[_0x4370d0(0x5ed)]();}catch{return[];}}async[a0_0xf534fa(0x3b6)](_0x306d7){const _0x194d84=a0_0xf534fa;try{let _0x10345e=A(_0x306d7[_0x194d84(0x867)]);return await this[_0x194d84(0x6f1)][_0x194d84(0x3b6)](_0x10345e)[_0x194d84(0x5ed)]();}catch{return null;}}},qt=class extends T{[a0_0xf534fa(0x652)](_0x52e8f2){return Sa(_0x52e8f2);}async[a0_0xf534fa(0x21a)](_0x11528d,_0x33940c,_0x57aaab,_0x7336b0){const _0xeb1186=a0_0xf534fa;try{let _0x10a378={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x7336b0},_0x294ffa=this[_0xeb1186(0x652)](_0x57aaab),_0x1be684=A(_0x11528d['where']);return await _0x294ffa[_0xeb1186(0x6fc)](_0x1be684,{'$set':_0x33940c},_0x10a378);}catch(_0x4518da){return console[_0xeb1186(0x1c2)](_0x4518da),null;}}async[a0_0xf534fa(0x525)](_0x122bc2,_0x2ebae7){const _0x582730=a0_0xf534fa;try{let _0x5ad184=this[_0x582730(0x652)](_0x2ebae7),_0x145209=A(_0x122bc2['where']);return await _0x5ad184[_0x582730(0x525)](_0x145209);}catch(_0x129abc){console[_0x582730(0x1c2)](_0x129abc);}}async[a0_0xf534fa(0x4ee)](_0x463ec7,_0x32b3f8){const _0x5c0171=a0_0xf534fa;try{let _0x4c8b95=this[_0x5c0171(0x652)](_0x32b3f8),_0xe14627=A(_0x463ec7[_0x5c0171(0x867)]);await _0x4c8b95[_0x5c0171(0x811)](_0xe14627);}catch(_0x10c013){console[_0x5c0171(0x1c2)](_0x10c013);}}async[a0_0xf534fa(0x8ad)](_0xc0eaf8){const _0x172c6a=a0_0xf534fa;try{return await this[_0x172c6a(0x652)](_0xc0eaf8)[_0x172c6a(0x22c)]['drop'](),{'success':!0x0};}catch(_0x3e1ccb){return console[_0x172c6a(0x1c2)](_0x3e1ccb),{'success':!0x1,'error':_0x3e1ccb};}}},Vt=class{constructor(_0x1dc99e){const _0x3dd5d6=a0_0xf534fa;this[_0x3dd5d6(0x23b)]=_0x1dc99e;}async[a0_0xf534fa(0x61a)]({instanceName:_0x38d4d5},_0x1812eb){const _0xaed414=a0_0xf534fa;return await this[_0xaed414(0x23b)][_0xaed414(0x7dc)][_0x38d4d5][_0xaed414(0x61a)](_0x1812eb);}async['whatsappNumber']({instanceName:_0x394950},_0x2d55cf){const _0xc9e5ec=a0_0xf534fa;return await this['waMonitor'][_0xc9e5ec(0x7dc)][_0x394950][_0xc9e5ec(0x862)](_0x2d55cf);}async[a0_0xf534fa(0x7c7)]({instanceName:_0x209c6f},_0x549bbe){const _0x9fa73a=a0_0xf534fa;return await this['waMonitor'][_0x9fa73a(0x7dc)][_0x209c6f][_0x9fa73a(0x7c7)](_0x549bbe);}async[a0_0xf534fa(0x573)]({instanceName:_0xd68828},_0x379637){const _0x359f48=a0_0xf534fa;return await this[_0x359f48(0x23b)][_0x359f48(0x7dc)][_0xd68828][_0x359f48(0x2a7)](_0x379637);}async['archiveChat']({instanceName:_0x14cd6d},_0x20b74d){const _0xdd4f34=a0_0xf534fa;return await this[_0xdd4f34(0x23b)]['waInstances'][_0x14cd6d][_0xdd4f34(0x6ee)](_0x20b74d);}async[a0_0xf534fa(0x724)]({instanceName:_0x4ade3a},_0x337188){const _0x2c7820=a0_0xf534fa;return await this[_0x2c7820(0x23b)]['waInstances'][_0x4ade3a]['deleteMessage'](_0x337188);}async[a0_0xf534fa(0x68d)]({instanceName:_0x3a9e99},_0x28ff81){const _0x3933be=a0_0xf534fa;return await this[_0x3933be(0x23b)]['waInstances'][_0x3a9e99]['profilePicture'](_0x28ff81[_0x3933be(0x4d2)]);}async[a0_0xf534fa(0x4e0)]({instanceName:_0x4f7b0c},_0x6487e4){const _0x1202b2=a0_0xf534fa;return await this[_0x1202b2(0x23b)][_0x1202b2(0x7dc)][_0x4f7b0c]['fetchProfile'](_0x6487e4[_0x1202b2(0x4d2)]);}async[a0_0xf534fa(0x19f)]({instanceName:_0x334c35},_0x2dad60){const _0x2666d8=a0_0xf534fa;return await this[_0x2666d8(0x23b)][_0x2666d8(0x7dc)][_0x334c35]['updatePresence'](_0x2dad60);}async[a0_0xf534fa(0x716)]({instanceName:_0x34f171},_0x104c32){const _0x320d44=a0_0xf534fa;return await this[_0x320d44(0x23b)][_0x320d44(0x7dc)][_0x34f171][_0x320d44(0x716)](_0x104c32);}async[a0_0xf534fa(0x502)]({instanceName:_0x35d7b4},_0x554694){const _0x5b8cec=a0_0xf534fa;return await this['waMonitor'][_0x5b8cec(0x7dc)][_0x35d7b4]['getBase64FromMediaMessage'](_0x554694);}async[a0_0xf534fa(0x7ef)]({instanceName:_0x531133},_0x473051){const _0x363d39=a0_0xf534fa;return await this[_0x363d39(0x23b)][_0x363d39(0x7dc)][_0x531133][_0x363d39(0x7ef)](_0x473051);}async[a0_0xf534fa(0x7e4)]({instanceName:_0x258fcc}){const _0x2a4689=a0_0xf534fa;return await this[_0x2a4689(0x23b)][_0x2a4689(0x7dc)][_0x258fcc][_0x2a4689(0x7e4)]();}async[a0_0xf534fa(0x530)]({instanceName:_0x4c6848}){const _0xf35dfb=a0_0xf534fa;return await this[_0xf35dfb(0x23b)]['waInstances'][_0x4c6848][_0xf35dfb(0x530)]();}async['fetchPrivacySettings']({instanceName:_0x5496b1}){const _0x10d484=a0_0xf534fa;return await this['waMonitor']['waInstances'][_0x5496b1][_0x10d484(0x835)]();}async[a0_0xf534fa(0x594)]({instanceName:_0x386633},_0x30ce71){const _0x1043d1=a0_0xf534fa;return await this[_0x1043d1(0x23b)][_0x1043d1(0x7dc)][_0x386633][_0x1043d1(0x594)](_0x30ce71);}async[a0_0xf534fa(0x2e2)]({instanceName:_0x17d4b7},_0x11bbc9){const _0x5b6256=a0_0xf534fa;return await this[_0x5b6256(0x23b)]['waInstances'][_0x17d4b7][_0x5b6256(0x2e2)](_0x11bbc9['number']);}async[a0_0xf534fa(0x7ff)]({instanceName:_0xfd26e9},_0x391736){const _0x5b75a6=a0_0xf534fa;return await this[_0x5b75a6(0x23b)][_0x5b75a6(0x7dc)][_0xfd26e9]['updateProfileName'](_0x391736['name']);}async['updateProfileStatus']({instanceName:_0x41d2c6},_0x56d8fc){const _0x9b5748=a0_0xf534fa;return await this[_0x9b5748(0x23b)][_0x9b5748(0x7dc)][_0x41d2c6][_0x9b5748(0x5e0)](_0x56d8fc[_0x9b5748(0x2d2)]);}async[a0_0xf534fa(0x393)]({instanceName:_0x211550},_0x264ee3){const _0x11f02d=a0_0xf534fa;return await this[_0x11f02d(0x23b)][_0x11f02d(0x7dc)][_0x211550]['updateProfilePicture'](_0x264ee3[_0x11f02d(0x52c)]);}async[a0_0xf534fa(0x6e3)]({instanceName:_0x5c78a1},_0x2d987c){const _0x319d81=a0_0xf534fa;return await this['waMonitor'][_0x319d81(0x7dc)][_0x5c78a1][_0x319d81(0x6e3)]();}},Gt=require(a0_0xf534fa(0x524)),Bt=class u{constructor(_0x36c940,_0xe5895d,_0x791fc7,_0x2890fb,_0x22e6fd){const _0x2b3c27=a0_0xf534fa;this[_0x2b3c27(0x23b)]=_0x36c940,this[_0x2b3c27(0x7dd)]=_0xe5895d,this[_0x2b3c27(0x7ea)]=_0x791fc7,this[_0x2b3c27(0x31a)]=_0x2890fb,this[_0x2b3c27(0x591)]=_0x22e6fd,this['logger']=new N(u[_0x2b3c27(0x232)]);}async[a0_0xf534fa(0x44b)]({instanceName:_0x2d96f8,apikey:_0x15a193,number:_0x2b78a6,proxy:_0x30cf66=!0x0}){const _0x3b9c03=a0_0xf534fa;try{let _0x4d9e96=new Ce(this['configService'],this['eventEmitter'],this[_0x3b9c03(0x7ea)]);_0x4d9e96['instanceName']=_0x2d96f8,this[_0x3b9c03(0x23b)][_0x3b9c03(0x7dc)][_0x4d9e96['instanceName']]=_0x4d9e96;let _0x1c4aee={};_0x15a193?(await this['repository']['auth'][_0x3b9c03(0x4a4)]({'apikey':_0x15a193},_0x2d96f8),_0x1c4aee[_0x3b9c03(0x770)]=_0x15a193):_0x1c4aee=await this[_0x3b9c03(0x591)][_0x3b9c03(0x296)]({'instanceName':_0x4d9e96[_0x3b9c03(0x653)]});let _0x326253;if(_0x2b78a6){if(_0x326253=await this['verifyWhatsAppNumber'](_0x2b78a6),_0x326253[_0x3b9c03(0x1c2)])throw new O(_0x326253['error']['toString']());_0x2b78a6=_0x326253['number'];}let _0xcf089e;return await _0x4d9e96[_0x3b9c03(0x236)](_0x2b78a6),await(0x0,Gt[_0x3b9c03(0x779)])(0xfa0),_0x2b78a6&&await(0x0,Gt[_0x3b9c03(0x779)])(0xbb8),_0xcf089e=_0x4d9e96[_0x3b9c03(0x302)],{'instance':{'instanceName':_0x4d9e96[_0x3b9c03(0x653)],'status':_0x3b9c03(0x638)},'hash':_0x1c4aee,'qrcode':_0xcf089e};}catch(_0x2f8473){throw this['logger']['error'](_0x2f8473),_0x2f8473;}}async['connectToWhatsappController']({instanceName:_0x389636,number:_0x599adf=null}){const _0x534475=a0_0xf534fa;try{let _0x42a1b5=this[_0x534475(0x23b)][_0x534475(0x7dc)][_0x389636];switch(_0x42a1b5?.[_0x534475(0x377)]?.[_0x534475(0x87a)]){case _0x534475(0x75e):return await _0x42a1b5[_0x534475(0x236)](_0x599adf),await(0x0,Gt[_0x534475(0x779)])(0x7d0),_0x42a1b5[_0x534475(0x302)];case'connecting':return _0x42a1b5['qrCode'];default:return await this[_0x534475(0x359)]({'instanceName':_0x389636});}}catch(_0x4b3226){this[_0x534475(0x4e3)]['log'](_0x4b3226);}}async[a0_0xf534fa(0x359)]({instanceName:_0x843eee}){const _0x456b39=a0_0xf534fa;let _0x29fa27=this[_0x456b39(0x23b)]['waInstances'][_0x843eee][_0x456b39(0x377)],_0x43bff9=null;_0x29fa27[_0x456b39(0x87a)]===_0x456b39(0x441)&&_0x843eee&&(_0x43bff9=await this['waMonitor'][_0x456b39(0x2d0)](_0x843eee));let _0x3d28ea=null;return _0x29fa27[_0x456b39(0x87a)]===_0x456b39(0x80d)&&_0x843eee&&(_0x3d28ea=this[_0x456b39(0x23b)][_0x456b39(0x7dc)][_0x843eee]['qrCode']),{'instance':_0x843eee,'connectionStatus':_0x29fa27,'instanceInfo':_0x43bff9,'qrcode':_0x3d28ea};}async[a0_0xf534fa(0x849)](_0x3db284){const _0x2d65d2=a0_0xf534fa;_0x3db284=_0x3db284[_0x2d65d2(0x60c)](/\D/g,'');let _0x14e539=Object['keys'](this[_0x2d65d2(0x23b)]['waInstances'])[_0x2d65d2(0x5d3)](_0xd040cb=>{const _0x3f1e80=_0x2d65d2;let _0x27639d=this['waMonitor']['waInstances'][_0xd040cb];return _0x27639d&&_0x27639d['connectionStatus']&&_0x27639d[_0x3f1e80(0x377)][_0x3f1e80(0x87a)]==='open';});if(_0x14e539[_0x2d65d2(0x847)]===0x0)return{'number':this[_0x2d65d2(0x479)](_0x3db284)};let _0xcd8353=Math[_0x2d65d2(0x216)](Math[_0x2d65d2(0x48d)]()*_0x14e539[_0x2d65d2(0x847)]),_0x5c3173=_0x14e539[_0xcd8353];try{let _0x45bf7b=(await this[_0x2d65d2(0x23b)]['waInstances'][_0x5c3173][_0x2d65d2(0x862)]({'numbers':[_0x3db284]}))[_0x2d65d2(0x6b0)]();return _0x45bf7b['exists']?{'number':_0x45bf7b[_0x2d65d2(0x47e)]['replace'](_0x2d65d2(0x746),'')}:{'number':_0x3db284,'error':'Número\x20não\x20possui\x20WhatsApp.'};}catch(_0x1f98da){return this[_0x2d65d2(0x4e3)]['error']('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x1f98da),{'number':_0x3db284,'error':_0x2d65d2(0x4e6)};}}[a0_0xf534fa(0x479)](_0x583802){let _0x1ccbd9=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x583802);if(_0x1ccbd9&&_0x1ccbd9[0x1]==='55'){let _0x906378=_0x1ccbd9[0x2],_0x5140c0=_0x1ccbd9[0x3],_0x3ee83a=_0x1ccbd9[0x4];if(parseInt(_0x906378)>=0x1f&&_0x5140c0==='9')return _0x1ccbd9[0x1]+_0x906378+_0x3ee83a;}return _0x583802;}async['restartInstance']({instanceName:_0x2af1d4}){const _0x543f72=a0_0xf534fa;try{return this[_0x543f72(0x23b)]['waInstances'][_0x2af1d4]?.[_0x543f72(0x73e)]?.['ws']?.[_0x543f72(0x75e)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x543f72(0x690)}};}catch(_0x4c5b4d){this[_0x543f72(0x4e3)][_0x543f72(0x1c2)](_0x4c5b4d);}}async[a0_0xf534fa(0x4cb)]({instanceName:_0x5b1567}){const _0x118667=a0_0xf534fa;return _0x5b1567?this[_0x118667(0x23b)][_0x118667(0x2d0)](_0x5b1567):this[_0x118667(0x23b)][_0x118667(0x2d0)]();}async[a0_0xf534fa(0x814)]({instanceName:_0x2fe1fb}){const _0x3305e3=a0_0xf534fa;try{return await this[_0x3305e3(0x23b)][_0x3305e3(0x7dc)][_0x2fe1fb]?.[_0x3305e3(0x73e)]?.[_0x3305e3(0x814)](_0x3305e3(0x696)+_0x2fe1fb),{'error':!0x1,'message':_0x3305e3(0x27f)};}catch(_0x2d5223){throw new O(_0x2d5223[_0x3305e3(0x7f7)]());}}async[a0_0xf534fa(0x719)]({instanceName:_0x5aba2c}){const _0x31dc30=a0_0xf534fa;if((await this['connectionState']({'instanceName':_0x5aba2c}))[_0x31dc30(0x377)][_0x31dc30(0x87a)]===_0x31dc30(0x441))throw new m([_0x31dc30(0x4ad),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this['waMonitor'][_0x31dc30(0x7dc)][_0x5aba2c],{'error':!0x1,'message':_0x31dc30(0x21e)};}catch(_0x39edc8){throw new m(_0x39edc8['toString']());}}},ae=require(a0_0xf534fa(0x39e)),Wt=class{constructor(_0x2f35fc){const _0x250627=a0_0xf534fa;this[_0x250627(0x23b)]=_0x2f35fc;}async[a0_0xf534fa(0x2ff)]({instanceName:_0x10ace9},_0x2e3896){const _0x4a419b=a0_0xf534fa;return await this[_0x4a419b(0x23b)][_0x4a419b(0x7dc)][_0x10ace9][_0x4a419b(0x6e0)](_0x2e3896);}async[a0_0xf534fa(0x8cd)]({instanceName:_0x86aab0},_0x556bac){const _0x1532c5=a0_0xf534fa;return await this[_0x1532c5(0x23b)][_0x1532c5(0x7dc)][_0x86aab0]['menuMessage'](_0x556bac);}async['sendMedia']({instanceName:_0x36e7b2},_0x2f494c){const _0x3f8563=a0_0xf534fa;if((0x0,ae[_0x3f8563(0x6da)])(_0x2f494c?.[_0x3f8563(0x2dd)]?.['media'])&&!_0x2f494c?.[_0x3f8563(0x2dd)]?.[_0x3f8563(0x6b9)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ae[_0x3f8563(0x73f)])(_0x2f494c?.[_0x3f8563(0x2dd)]?.[_0x3f8563(0x31c)])||(0x0,ae['isBase64'])(_0x2f494c?.[_0x3f8563(0x2dd)]?.[_0x3f8563(0x31c)]))return await this['waMonitor']['waInstances'][_0x36e7b2][_0x3f8563(0x2dd)](_0x2f494c);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendSticker']({instanceName:_0x4c04e7},_0x470893){const _0x292580=a0_0xf534fa;if((0x0,ae['isURL'])(_0x470893[_0x292580(0x654)][_0x292580(0x35b)])||(0x0,ae[_0x292580(0x6da)])(_0x470893[_0x292580(0x654)][_0x292580(0x35b)]))return await this['waMonitor']['waInstances'][_0x4c04e7]['mediaSticker'](_0x470893);throw new m(_0x292580(0x3a7));}async[a0_0xf534fa(0x7eb)]({instanceName:_0xf9b320},_0x8cd78d){const _0x46ad43=a0_0xf534fa;if((0x0,ae['isURL'])(_0x8cd78d['audioMessage'][_0x46ad43(0x1b7)])||(0x0,ae[_0x46ad43(0x6da)])(_0x8cd78d['audioMessage'][_0x46ad43(0x1b7)]))return await this['waMonitor'][_0x46ad43(0x7dc)][_0xf9b320]['audioWhatsapp'](_0x8cd78d);throw new m(_0x46ad43(0x3a7));}async['sendButtons']({instanceName:_0x49c574},_0x2f85ae){const _0x3b3bb1=a0_0xf534fa;if((0x0,ae['isBase64'])(_0x2f85ae['buttonMessage'][_0x3b3bb1(0x2dd)]?.[_0x3b3bb1(0x31c)])&&!_0x2f85ae[_0x3b3bb1(0x8da)][_0x3b3bb1(0x2dd)]?.[_0x3b3bb1(0x6b9)])throw new m(_0x3b3bb1(0x426));return await this[_0x3b3bb1(0x23b)][_0x3b3bb1(0x7dc)][_0x49c574][_0x3b3bb1(0x8da)](_0x2f85ae);}async[a0_0xf534fa(0x660)]({instanceName:_0x1bb645},_0x3c0550){const _0x4ed7a2=a0_0xf534fa;return await this[_0x4ed7a2(0x23b)][_0x4ed7a2(0x7dc)][_0x1bb645][_0x4ed7a2(0x5c9)](_0x3c0550);}async[a0_0xf534fa(0x514)]({instanceName:_0x435dfd},_0x3a7ea8){const _0xfa7bf1=a0_0xf534fa;return await this['waMonitor'][_0xfa7bf1(0x7dc)][_0x435dfd][_0xfa7bf1(0x759)](_0x3a7ea8);}async['sendList']({instanceName:_0x1715f3},_0x431204){return await this['waMonitor']['waInstances'][_0x1715f3]['listMessage'](_0x431204);}async[a0_0xf534fa(0x22e)]({instanceName:_0x160e2f},_0x365090){const _0x16e0d9=a0_0xf534fa;return await this[_0x16e0d9(0x23b)][_0x16e0d9(0x7dc)][_0x160e2f][_0x16e0d9(0x5f2)](_0x365090);}async[a0_0xf534fa(0x24a)]({instanceName:_0x5ca28e},_0x437822){const _0x16df65=a0_0xf534fa;if(!_0x437822['reactionMessage'][_0x16df65(0x56c)][_0x16df65(0x655)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this['waMonitor'][_0x16df65(0x7dc)][_0x5ca28e][_0x16df65(0x40d)](_0x437822);}async[a0_0xf534fa(0x565)]({instanceName:_0x511a8c},_0x37e095){const _0x17db1b=a0_0xf534fa;return await this[_0x17db1b(0x23b)][_0x17db1b(0x7dc)][_0x511a8c][_0x17db1b(0x691)](_0x37e095);}},_i=require('jsonwebtoken'),Ps=require(a0_0xf534fa(0x3b9)),zt=class u{constructor(_0x457fdb,_0x5d3993,_0xf386ee){const _0x30e2a3=a0_0xf534fa;this[_0x30e2a3(0x7dd)]=_0x457fdb,this[_0x30e2a3(0x23b)]=_0x5d3993,this[_0x30e2a3(0x7ea)]=_0xf386ee,this[_0x30e2a3(0x4e3)]=new N(u['name']);}async[a0_0xf534fa(0x6d8)](_0x4afdad){const _0x2804fb=a0_0xf534fa;let _0x162948=this[_0x2804fb(0x7dd)][_0x2804fb(0x71f)](_0x2804fb(0x3bf))[_0x2804fb(0x55e)],_0x8f0cc8=(0x0,_i[_0x2804fb(0x7a2)])({'instanceName':_0x4afdad[_0x2804fb(0x653)],'apiName':tt,'tokenId':(0x0,Ps['v4'])()},_0x162948['SECRET'],{'expiresIn':_0x162948[_0x2804fb(0x88b)],'encoding':_0x2804fb(0x467),'subject':_0x2804fb(0x78c)}),_0x3bb681=await this[_0x2804fb(0x7ea)][_0x2804fb(0x7cc)][_0x2804fb(0x4a4)]({'jwt':_0x8f0cc8},_0x4afdad[_0x2804fb(0x653)]);if(_0x3bb681[_0x2804fb(0x1c2)])throw this[_0x2804fb(0x4e3)][_0x2804fb(0x1c2)]({'localError':u[_0x2804fb(0x232)]+'.jwt','error':_0x3bb681[_0x2804fb(0x1c2)]}),new m('Authentication\x20error',_0x3bb681[_0x2804fb(0x1c2)]?.[_0x2804fb(0x7f7)]());return{'jwt':_0x8f0cc8};}async[a0_0xf534fa(0x770)](_0x2e8508){const _0xfd91c4=a0_0xf534fa;let _0xdc7668=(0x0,Ps['v4'])()[_0xfd91c4(0x329)](),_0x4a703a=await this[_0xfd91c4(0x7ea)]['auth']['create']({'apikey':_0xdc7668},_0x2e8508[_0xfd91c4(0x653)]);if(_0x4a703a[_0xfd91c4(0x1c2)])throw this['logger']['error']({'localError':u['name']+_0xfd91c4(0x86d),'error':_0x4a703a[_0xfd91c4(0x1c2)]}),new m('Authentication\x20error',_0x4a703a[_0xfd91c4(0x1c2)]?.[_0xfd91c4(0x7f7)]());return{'apikey':_0xdc7668};}async[a0_0xf534fa(0x296)](_0x503b4e){const _0x5573dd=a0_0xf534fa;let _0x3875bb=this[_0x5573dd(0x7dd)]['get']('AUTHENTICATION');return await this[_0x3875bb[_0x5573dd(0x79a)]](_0x503b4e);}},Ht=class{constructor(_0x1b9ebe){const _0x406f70=a0_0xf534fa;this[_0x406f70(0x23b)]=_0x1b9ebe;}async[a0_0xf534fa(0x640)](_0xc11720,_0x2aff49){const _0x5e31ee=a0_0xf534fa;return await this[_0x5e31ee(0x23b)]['waInstances'][_0xc11720[_0x5e31ee(0x653)]][_0x5e31ee(0x640)](_0x2aff49);}async[a0_0xf534fa(0x53b)](_0x5debe7,_0x6175d){const _0x15ed21=a0_0xf534fa;return await this[_0x15ed21(0x23b)][_0x15ed21(0x7dc)][_0x5debe7[_0x15ed21(0x653)]][_0x15ed21(0x53b)](_0x6175d);}async[a0_0xf534fa(0x47f)](_0x5ba9d1,_0x419bba){const _0x3f028d=a0_0xf534fa;return await this[_0x3f028d(0x23b)][_0x3f028d(0x7dc)][_0x5ba9d1[_0x3f028d(0x653)]][_0x3f028d(0x47f)](_0x419bba);}async[a0_0xf534fa(0x50c)](_0x526200,_0x4729be){const _0x2a02e1=a0_0xf534fa;return await this[_0x2a02e1(0x23b)]['waInstances'][_0x526200[_0x2a02e1(0x653)]][_0x2a02e1(0x50c)](_0x4729be);}async[a0_0xf534fa(0x271)](_0x11a60d,_0x232e81){const _0x2dd642=a0_0xf534fa;return await this['waMonitor'][_0x2dd642(0x7dc)][_0x11a60d[_0x2dd642(0x653)]]['groupBetterSetting'](_0x232e81);}async[a0_0xf534fa(0x494)](_0x2c5edc,_0x2dbb4a){const _0x5de846=a0_0xf534fa;return await this[_0x5de846(0x23b)]['waInstances'][_0x2c5edc[_0x5de846(0x653)]][_0x5de846(0x494)](_0x2dbb4a);}async['findGroupInfo'](_0x4aa1d7,_0x422360){const _0x91a378=a0_0xf534fa;return await this[_0x91a378(0x23b)][_0x91a378(0x7dc)][_0x4aa1d7['instanceName']]['findGroup'](_0x422360);}async['findGroups'](_0x18ea5b){const _0x47ea6b=a0_0xf534fa;return await this[_0x47ea6b(0x23b)]['waInstances'][_0x18ea5b[_0x47ea6b(0x653)]][_0x47ea6b(0x505)]();}async[a0_0xf534fa(0x560)](_0x17c29a,_0x28d680){const _0x1b5ef2=a0_0xf534fa;return await this['waMonitor'][_0x1b5ef2(0x7dc)][_0x17c29a[_0x1b5ef2(0x653)]]['inviteCode'](_0x28d680);}async[a0_0xf534fa(0x718)](_0x307954,_0x4d5fe3){const _0x2306d4=a0_0xf534fa;return await this[_0x2306d4(0x23b)][_0x2306d4(0x7dc)][_0x307954[_0x2306d4(0x653)]][_0x2306d4(0x718)](_0x4d5fe3);}async[a0_0xf534fa(0x374)](_0x11f3ec,_0x68b4dc){const _0x26264b=a0_0xf534fa;return await this['waMonitor'][_0x26264b(0x7dc)][_0x11f3ec[_0x26264b(0x653)]][_0x26264b(0x374)](_0x68b4dc);}async[a0_0xf534fa(0x67b)](_0x30ff72,_0x525e2a){const _0x578454=a0_0xf534fa;return await this[_0x578454(0x23b)][_0x578454(0x7dc)][_0x30ff72[_0x578454(0x653)]][_0x578454(0x67b)](_0x525e2a);}async[a0_0xf534fa(0x62a)](_0x59169a,_0x36c277){const _0x1a110c=a0_0xf534fa;return await this[_0x1a110c(0x23b)][_0x1a110c(0x7dc)][_0x59169a[_0x1a110c(0x653)]][_0x1a110c(0x62a)](_0x36c277);}async[a0_0xf534fa(0x1ce)](_0x178dc1,_0x430810){const _0xd1dfe5=a0_0xf534fa;return await this['waMonitor'][_0xd1dfe5(0x7dc)][_0x178dc1[_0xd1dfe5(0x653)]]['updateGParticipant'](_0x430810);}async[a0_0xf534fa(0x358)](_0x43201a,_0x1fbdeb){const _0x101a7f=a0_0xf534fa;return await this[_0x101a7f(0x23b)][_0x101a7f(0x7dc)][_0x43201a['instanceName']][_0x101a7f(0x358)](_0x1fbdeb);}async[a0_0xf534fa(0x7b8)](_0x53152e,_0x463e3d){const _0x201518=a0_0xf534fa;return await this['waMonitor'][_0x201518(0x7dc)][_0x53152e[_0x201518(0x653)]][_0x201518(0x7b8)](_0x463e3d);}},Kt=class{constructor(_0x4e665f){this['waMonitor']=_0x4e665f;}['create'](_0x3dc660,_0x4758b5){const _0x27fc1a=a0_0xf534fa;return this[_0x27fc1a(0x23b)][_0x27fc1a(0x7dc)][_0x3dc660[_0x27fc1a(0x653)]]['setWebhook'](_0x4758b5);}async[a0_0xf534fa(0x525)](_0x6ef97){const _0x417081=a0_0xf534fa;try{return await this['waMonitor'][_0x417081(0x7dc)][_0x6ef97[_0x417081(0x653)]][_0x417081(0x3f9)]();}catch{return{'enabled':null,'url':''};}}},Gp=new N(a0_0xf534fa(0x436)),Qt=class{constructor(_0x465f1d){const _0x4a72e0=a0_0xf534fa;this[_0x4a72e0(0x23b)]=_0x465f1d;}async[a0_0xf534fa(0x203)](_0x1004ea,_0x2498df){const _0x44adad=a0_0xf534fa;return await this['waMonitor'][_0x44adad(0x7dc)][_0x1004ea[_0x44adad(0x653)]]['editScheduleMessage'](_0x2498df);}async['getScheduleMessage'](_0xdd81ac){const _0x5eee7e=a0_0xf534fa;return await this[_0x5eee7e(0x23b)][_0x5eee7e(0x7dc)][_0xdd81ac[_0x5eee7e(0x653)]]['getScheduleMessage']();}async['deleteDoneMessages'](_0x598266){const _0x85a417=a0_0xf534fa;return await this[_0x85a417(0x23b)][_0x85a417(0x7dc)][_0x598266[_0x85a417(0x653)]][_0x85a417(0x5f0)]();}async[a0_0xf534fa(0x456)](_0x3105b2){const _0x374da7=a0_0xf534fa;return await this[_0x374da7(0x23b)][_0x374da7(0x7dc)][_0x3105b2[_0x374da7(0x653)]][_0x374da7(0x456)]();}async['updateAgent'](_0x342147,_0x74e2ca){const _0x7088b9=a0_0xf534fa;return await this['waMonitor']['waInstances'][_0x342147['instanceName']][_0x7088b9(0x88f)](_0x74e2ca);}async['updateCustomFields'](_0x354a43,_0x3596c5){const _0x595f59=a0_0xf534fa;return await this[_0x595f59(0x23b)]['waInstances'][_0x354a43['instanceName']][_0x595f59(0x73d)](_0x3596c5);}async[a0_0xf534fa(0x43a)](_0x521b33,_0x1afe0f){const _0x353d7b=a0_0xf534fa;return await this[_0x353d7b(0x23b)][_0x353d7b(0x7dc)][_0x521b33['instanceName']][_0x353d7b(0x43a)](_0x1afe0f);}async[a0_0xf534fa(0x47d)](_0x2a6b24,_0x210c2f){const _0x3eb3b5=a0_0xf534fa;return await this[_0x3eb3b5(0x23b)]['waInstances'][_0x2a6b24['instanceName']][_0x3eb3b5(0x47d)](_0x210c2f);}async[a0_0xf534fa(0x744)](_0x8fdee3,_0xc9d802){const _0x3dc93c=a0_0xf534fa;return await this[_0x3dc93c(0x23b)][_0x3dc93c(0x7dc)][_0x8fdee3[_0x3dc93c(0x653)]][_0x3dc93c(0x744)](_0xc9d802);}async[a0_0xf534fa(0x8c0)](_0x733bba,_0x52aacf,_0x11d753,_0x40f3d8){const _0x454e62=a0_0xf534fa;return await this['waMonitor'][_0x454e62(0x7dc)][_0x733bba][_0x454e62(0x8c0)](_0x52aacf,_0x11d753,_0x40f3d8);}async[a0_0xf534fa(0x53c)](_0x794d92,_0xa77772){const _0x582f10=a0_0xf534fa;return await this['waMonitor']['waInstances'][_0x794d92['instanceName']][_0x582f10(0x53c)](_0xa77772);}async[a0_0xf534fa(0x454)](_0x1d8247,_0x2a1bac){const _0x21fd10=a0_0xf534fa;return await this[_0x21fd10(0x23b)][_0x21fd10(0x7dc)][_0x1d8247[_0x21fd10(0x653)]][_0x21fd10(0x454)](_0x2a1bac);}async[a0_0xf534fa(0x24e)](_0x9bb01f,_0x2739fc){const _0x2bcf31=a0_0xf534fa;return await this['waMonitor'][_0x2bcf31(0x7dc)][_0x9bb01f[_0x2bcf31(0x653)]][_0x2bcf31(0x24e)](_0x2739fc);}async[a0_0xf534fa(0x3ad)](_0x5ce3be,_0x3a99b7){const _0x176a94=a0_0xf534fa;return await this['waMonitor']['waInstances'][_0x5ce3be[_0x176a94(0x653)]][_0x176a94(0x3ad)](_0x3a99b7);}async[a0_0xf534fa(0x7a5)](_0x378851,_0x42d7bd){const _0xa148db=a0_0xf534fa;return await this[_0xa148db(0x23b)]['waInstances'][_0x378851[_0xa148db(0x653)]][_0xa148db(0x7a5)](_0x42d7bd[_0xa148db(0x656)]);}async[a0_0xf534fa(0x49b)](_0x4879c1,_0x4598d6,_0x15ac70){const _0x4941c0=a0_0xf534fa;return await this['waMonitor'][_0x4941c0(0x7dc)][_0x4879c1[_0x4941c0(0x653)]][_0x4941c0(0x49b)](_0x4598d6,_0x15ac70);}async[a0_0xf534fa(0x665)](_0x4c632e,_0x2a8d46,_0x1e7e22){const _0x30cc72=a0_0xf534fa;return await this['waMonitor'][_0x30cc72(0x7dc)][_0x4c632e[_0x30cc72(0x653)]]['editFlow'](_0x2a8d46,_0x1e7e22);}async[a0_0xf534fa(0x802)](_0x1e7f9c,_0xf14756){const _0x25f057=a0_0xf534fa;return await this[_0x25f057(0x23b)][_0x25f057(0x7dc)][_0x1e7f9c[_0x25f057(0x653)]][_0x25f057(0x802)](_0xf14756);}async[a0_0xf534fa(0x2b4)](_0x36c718,_0x8901e2){const _0x34bb28=a0_0xf534fa;return await this['waMonitor'][_0x34bb28(0x7dc)][_0x36c718[_0x34bb28(0x653)]][_0x34bb28(0x2b4)](_0x8901e2);}async['editFlowGroup'](_0x283947,_0x38b285){const _0xbe07c2=a0_0xf534fa;return await this[_0xbe07c2(0x23b)][_0xbe07c2(0x7dc)][_0x283947[_0xbe07c2(0x653)]]['editFlowGroup'](_0x38b285);}async[a0_0xf534fa(0x643)](_0xc022df,_0x3f4507){const _0x26be1c=a0_0xf534fa;return await this[_0x26be1c(0x23b)]['waInstances'][_0xc022df[_0x26be1c(0x653)]][_0x26be1c(0x643)](_0x3f4507);}async['editFlowVaredit'](_0xf83814,_0x429012){const _0x3dc0a7=a0_0xf534fa;return await this[_0x3dc0a7(0x23b)]['waInstances'][_0xf83814['instanceName']][_0x3dc0a7(0x3be)](_0x429012);}async[a0_0xf534fa(0x501)](_0x3b026a,_0x50e875){const _0x21c3d7=a0_0xf534fa;return await this[_0x21c3d7(0x23b)]['waInstances'][_0x3b026a[_0x21c3d7(0x653)]][_0x21c3d7(0x501)](_0x50e875);}async[a0_0xf534fa(0x4a5)](_0x3a1c71,_0x8d4a75){const _0x5d83ad=a0_0xf534fa;return await this[_0x5d83ad(0x23b)][_0x5d83ad(0x7dc)][_0x3a1c71[_0x5d83ad(0x653)]][_0x5d83ad(0x4a5)](_0x8d4a75);}async[a0_0xf534fa(0x795)](_0x44d6fb){const _0x17453c=a0_0xf534fa;return await this[_0x17453c(0x23b)][_0x17453c(0x7dc)][_0x44d6fb[_0x17453c(0x653)]]['allFlows']();}},Yt=class{constructor(_0x5099ec){const _0x533a69=a0_0xf534fa;this[_0x533a69(0x1f0)]=_0x5099ec;}async[a0_0xf534fa(0x708)](_0x4dcffc,_0x1f981b){const _0x5c5382=a0_0xf534fa;return this[_0x5c5382(0x1f0)][_0x5c5382(0x4a4)](_0x4dcffc,_0x1f981b);}async[a0_0xf534fa(0x3f9)](_0x2ff129){const _0x32ddac=a0_0xf534fa;return this['webhookService'][_0x32ddac(0x525)](_0x2ff129);}},Xt=class extends T{constructor(_0x59f55d,_0x423ca7){const _0x4f0941=a0_0xf534fa;super(_0x423ca7),this[_0x4f0941(0x40a)]=_0x59f55d,this['configService']=_0x423ca7;}async[a0_0xf534fa(0x4a4)](_0x18f01f,_0xa87fb){const _0x415b0c=a0_0xf534fa;try{return this[_0x415b0c(0x2a8)][_0x415b0c(0x4f1)]?{'insertCount':(await this[_0x415b0c(0x40a)][_0x415b0c(0x6ff)]({'_id':_0xa87fb},{..._0x18f01f},{'upsert':!0x0}))[_0x415b0c(0x249)]}:{'insertCount':0x1};}catch(_0x2f3592){return _0x2f3592;}}async['delete'](_0x32a534){const _0x2b94d2=a0_0xf534fa;try{if(this[_0x2b94d2(0x2a8)]['ENABLED']){await this[_0x2b94d2(0x40a)][_0x2b94d2(0x56e)]({'_id':_0x32a534});return;}}catch(_0x1017f2){return{'error':_0x1017f2};}}async[a0_0xf534fa(0x525)](_0x347662){const _0x101a66=a0_0xf534fa;try{if(this['dbSettings'][_0x101a66(0x4f1)])return await this[_0x101a66(0x40a)]['findOne']({'_id':_0x347662});}catch{return{};}}},Zt=class extends T{constructor(_0x543520,_0x334edf){const _0x15f7c4=a0_0xf534fa;super(_0x334edf),this['authModel']=_0x543520,this[_0x15f7c4(0x7dd)]=_0x334edf,this[_0x15f7c4(0x7cc)]=_0x334edf[_0x15f7c4(0x71f)](_0x15f7c4(0x3bf));}async[a0_0xf534fa(0x4a4)](_0x5e154e,_0x4e1226){const _0x3fa476=a0_0xf534fa;try{if(this[_0x3fa476(0x2a8)]['ENABLED'])return{'insertCount':(await this['authModel']['updateOne']({'_id':_0x4e1226},{'$set':{..._0x5e154e}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x2342a5){return{'error':_0x2342a5};}}async[a0_0xf534fa(0x712)](_0x2cde61,_0x2163eb){const _0x32f3d2=a0_0xf534fa;try{if(this[_0x32f3d2(0x2a8)][_0x32f3d2(0x4f1)])return{'insertCount':(await this['authModel'][_0x32f3d2(0x647)](_0x2cde61,{'$set':_0x2163eb},{'upsert':!0x1}))[_0x32f3d2(0x249)]};throw new Error(_0x32f3d2(0x39b));}catch(_0x38b8ff){return{'error':_0x38b8ff};}}async[a0_0xf534fa(0x811)](_0x18fe9c){const _0x8b381d=a0_0xf534fa;try{if(this['dbSettings'][_0x8b381d(0x4f1)])return{'insertCount':(await this[_0x8b381d(0x578)]['deleteMany'](_0x18fe9c))[_0x8b381d(0x4c8)]};throw new Error(_0x8b381d(0x2c5));}catch(_0x2acdab){return{'error':_0x2acdab};}}async['delete'](_0x15f753){const _0x5c04fb=a0_0xf534fa;try{if(this['dbSettings'][_0x5c04fb(0x4f1)]){await this[_0x5c04fb(0x578)]['deleteOne']({'_id':_0x15f753});return;}}catch(_0x4b2d50){return{'error':_0x4b2d50};}}async['find'](_0x2e622b){const _0x29c5ac=a0_0xf534fa;try{if(this[_0x29c5ac(0x2a8)][_0x29c5ac(0x4f1)])return await this[_0x29c5ac(0x578)][_0x29c5ac(0x3b6)]({'_id':_0x2e622b});}catch{return{};}}async['findAll'](){const _0x2ad077=a0_0xf534fa;try{if(this[_0x2ad077(0x2a8)]['ENABLED'])return await this['authModel']['find']();}catch{return[];}}async[a0_0xf534fa(0x537)](_0x3e7c11){const _0x58514b=a0_0xf534fa;try{if(this['dbSettings']['ENABLED'])return await this[_0x58514b(0x578)][_0x58514b(0x525)](_0x3e7c11);}catch{return[];}}},es=class extends T{async[a0_0xf534fa(0x56e)](_0x5c68dc){const _0x38ea26=a0_0xf534fa;try{let _0x304ad1=A(_0x5c68dc['where']);return{'deletedCount':(await ye['deleteOne'](_0x304ad1))[_0x38ea26(0x4c8)]};}catch(_0xb18c92){return{'error':_0xb18c92?.['toString']()};}}async[a0_0xf534fa(0x21a)](_0x479ff9,_0x27dccd){const _0x3240c0=a0_0xf534fa;try{let _0x1897ba=await ye['findById'](_0x479ff9);return _0x1897ba?(Object[_0x3240c0(0x629)](_0x1897ba,_0x27dccd),await _0x1897ba['save']()):(console[_0x3240c0(0x1c2)](_0x3240c0(0x85b),_0x479ff9),null);}catch(_0xd0783a){return console[_0x3240c0(0x1c2)](_0x3240c0(0x63d),_0xd0783a),null;}}async['createAndSave'](_0x4bd688){const _0x3e04c0=a0_0xf534fa;try{return await new ye(_0x4bd688)[_0x3e04c0(0x5b4)]();}catch(_0x5bda23){return console[_0x3e04c0(0x1c2)](_0x3e04c0(0x6c1),_0x5bda23),null;}}async[a0_0xf534fa(0x427)](_0xe74ed7){const _0x558d33=a0_0xf534fa;try{let _0x3b870d=_0xe74ed7[_0x558d33(0x867)]??{};return await ye[_0x558d33(0x525)](_0x3b870d)[_0x558d33(0x321)](_0xe74ed7['limit']??0x0)[_0x558d33(0x5ed)]();}catch(_0x372894){return console[_0x558d33(0x1c2)](_0x558d33(0x4f8),_0x372894),[];}}async[a0_0xf534fa(0x3b6)](_0x50f73b){const _0xef2d9f=a0_0xf534fa;try{let _0x1bc169=A(_0x50f73b[_0xef2d9f(0x867)]);return await ye[_0xef2d9f(0x3b6)](_0x1bc169)['lean']();}catch{return null;}}},ts=class extends T{['getConversationModelForOwner'](_0x405207){return wa(_0x405207);}async['insert'](_0x1484ec){const _0x3d4016=a0_0xf534fa;if(_0x1484ec[_0x3d4016(0x847)]!==0x0)try{return{'insertCount':(await this[_0x3d4016(0x4f6)](_0x1484ec[0x0][_0x3d4016(0x2ad)])[_0x3d4016(0x535)]([..._0x1484ec]))[_0x3d4016(0x847)]};}catch(_0x34516a){return _0x34516a;}}async[a0_0xf534fa(0x4ee)](_0x117aac,_0x24dff9){const _0x16bd2d=a0_0xf534fa;try{let _0x351295=this['getConversationModelForOwner'](_0x24dff9),_0x38eeee=A(_0x117aac[_0x16bd2d(0x867)]);return{'deletedCount':(await _0x351295[_0x16bd2d(0x811)](_0x38eeee))[_0x16bd2d(0x4c8)]};}catch(_0x342d35){return{'error':_0x342d35?.['toString']()};}}async[a0_0xf534fa(0x56e)](_0x5d43f8,_0x54adc5){const _0x7aeaf6=a0_0xf534fa;try{let _0x58b172=this[_0x7aeaf6(0x4f6)](_0x54adc5),_0x6b527e=A(_0x5d43f8[_0x7aeaf6(0x867)]);return{'deletedCount':(await _0x58b172[_0x7aeaf6(0x56e)](_0x6b527e))[_0x7aeaf6(0x4c8)]};}catch(_0x5a30e3){return{'error':_0x5a30e3?.[_0x7aeaf6(0x7f7)]()};}}async[a0_0xf534fa(0x1bb)](_0x3c3399,_0xee94a6){const _0x26d4f5=a0_0xf534fa;try{if(_0x3c3399[_0x26d4f5(0x847)]===0x0)return;let _0xedfd7f=this[_0x26d4f5(0x4f6)](_0xee94a6),_0x2165b0=_0x3c3399[_0x26d4f5(0x445)](_0xb9b6b7=>({'updateOne':{'filter':{'name':_0xb9b6b7['name'],'owner':_0xee94a6},'update':{..._0xb9b6b7}}})),{modifiedCount:_0x4f2a5c}=await _0xedfd7f[_0x26d4f5(0x44c)](_0x2165b0);return{'insertCount':_0x4f2a5c};}catch{return;}}async['updateMany'](_0x54ace9,_0x6344c9,_0x3b2578){const _0x1b9f23=a0_0xf534fa;try{return{'modifiedCount':(await this[_0x1b9f23(0x4f6)](_0x3b2578)[_0x1b9f23(0x647)](_0x54ace9,{'$set':_0x6344c9})['exec']())['modifiedCount']};}catch(_0x420284){return console[_0x1b9f23(0x1c2)]('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x420284),{'error':_0x420284};}}async[a0_0xf534fa(0x21a)](_0x51e56b,_0x513555,_0x7acdf8){const _0x2f74ce=a0_0xf534fa;try{return await this['getConversationModelForOwner'](_0x7acdf8)[_0x2f74ce(0x6fc)]({'_id':_0x51e56b},{'$set':_0x513555},{'new':!0x0,'upsert':!0x0})[_0x2f74ce(0x5ed)]();}catch(_0xf7cef5){return console[_0x2f74ce(0x1c2)](_0xf7cef5),null;}}async[a0_0xf534fa(0x525)](_0x571734,_0xf9322b){const _0x4e1b06=a0_0xf534fa;try{return await this[_0x4e1b06(0x4f6)](_0xf9322b)[_0x4e1b06(0x525)](_0x571734)[_0x4e1b06(0x211)]({'lastInteraction':-0x1})[_0x4e1b06(0x5ed)]();}catch{return[];}}async[a0_0xf534fa(0x3b6)](_0x3518b6,_0x24f36a){const _0x414231=a0_0xf534fa;try{return await this['getConversationModelForOwner'](_0x24f36a)[_0x414231(0x3b6)]({..._0x3518b6[_0x414231(0x867)]})[_0x414231(0x5ed)]();}catch{return null;}}async['deleteAll'](_0x1c9f1a){const _0xaf2aaf=a0_0xf534fa;try{return await this['getConversationModelForOwner'](_0x1c9f1a)[_0xaf2aaf(0x22c)][_0xaf2aaf(0x25b)](),{'success':!0x0};}catch(_0x1a007b){return console[_0xaf2aaf(0x1c2)](_0x1a007b),{'success':!0x1,'error':_0x1a007b};}}},ss=class extends T{[a0_0xf534fa(0x58a)](_0x529460){return ya(_0x529460);}async[a0_0xf534fa(0x44c)](_0x480c66,_0x69f262){const _0x82fed9=a0_0xf534fa;try{return await this[_0x82fed9(0x58a)](_0x69f262)[_0x82fed9(0x44c)](_0x480c66);}catch(_0x5dbd67){return console[_0x82fed9(0x1c2)](_0x82fed9(0x27a),_0x5dbd67),null;}}async[a0_0xf534fa(0x258)](_0x383591,_0x2379c1){const _0x1a5c96=a0_0xf534fa;try{let _0x137a8f=this[_0x1a5c96(0x58a)](_0x2379c1);return await new _0x137a8f(_0x383591)['save']();}catch(_0x2c132e){return console[_0x1a5c96(0x1c2)](_0x1a5c96(0x29c),_0x2c132e),null;}}async[a0_0xf534fa(0x56e)](_0x35acad,_0x31101b){const _0x3369bc=a0_0xf534fa;try{return await this[_0x3369bc(0x58a)](_0x31101b)[_0x3369bc(0x323)](_0x35acad),{};}catch(_0x236942){return{'error':_0x236942?.['toString']()};}}async[a0_0xf534fa(0x21a)](_0x4d37d8,_0x2390bc,_0x5981a4,_0x97e114={}){const _0x2194e3=a0_0xf534fa;try{return await this[_0x2194e3(0x58a)](_0x5981a4)[_0x2194e3(0x6fc)](_0x4d37d8,_0x2390bc,{..._0x97e114,'new':!0x0})[_0x2194e3(0x5ed)]();}catch(_0x2ea626){return console[_0x2194e3(0x1c2)](_0x2194e3(0x200),_0x2ea626),null;}}async[a0_0xf534fa(0x6fa)](_0x341f7a,_0xaf75bc,_0x5c1a2d){const _0xd652c9=a0_0xf534fa;try{return await this[_0xd652c9(0x58a)](_0x5c1a2d)[_0xd652c9(0x452)](_0x341f7a,_0xaf75bc,{'new':!0x0})[_0xd652c9(0x5ed)]();}catch(_0x22beea){return console[_0xd652c9(0x1c2)](_0xd652c9(0x200),_0x22beea),null;}}async['find'](_0x3a0146,_0x5403c0){const _0x552037=a0_0xf534fa;try{return await this[_0x552037(0x58a)](_0x5403c0)[_0x552037(0x525)](_0x3a0146['where'])[_0x552037(0x321)](_0x3a0146?.[_0x552037(0x321)]??0x0)[_0x552037(0x211)]({'when':0x1})[_0x552037(0x5ed)]();}catch{return[];}}async[a0_0xf534fa(0x3b6)](_0x2fc357,_0x44e72f){const _0x1d6dcb=a0_0xf534fa;try{return await this[_0x1d6dcb(0x58a)](_0x44e72f)[_0x1d6dcb(0x3b6)](_0x2fc357['where'])[_0x1d6dcb(0x211)]({'when':0x1})[_0x1d6dcb(0x5ed)]();}catch{return null;}}async[a0_0xf534fa(0x274)](_0x503307,_0x2b4578){const _0x50175b=a0_0xf534fa;try{return await this[_0x50175b(0x58a)](_0x2b4578)['findById'](_0x503307)[_0x50175b(0x5ed)]();}catch{return null;}}async[a0_0xf534fa(0x811)](_0x38fd9a,_0x498501){const _0x2d07e7=a0_0xf534fa;try{return{'deletedCount':(await this[_0x2d07e7(0x58a)](_0x498501)[_0x2d07e7(0x811)](_0x38fd9a))[_0x2d07e7(0x4c8)]};}catch(_0x10adeb){return console[_0x2d07e7(0x1c2)](_0x2d07e7(0x67c),_0x10adeb),{'error':_0x10adeb};}}async['deleteAll'](_0x563dcf){const _0x14516e=a0_0xf534fa;try{return await this[_0x14516e(0x58a)](_0x563dcf)[_0x14516e(0x22c)]['drop'](),{'success':!0x0};}catch(_0x4253b7){return console[_0x14516e(0x1c2)](_0x4253b7),{'success':!0x1,'error':_0x4253b7};}}},as=class extends T{async['update'](_0x53c5d4,_0x6eb38a){const _0x57b429=a0_0xf534fa;try{if(this['dbSettings']['ENABLED'])return await $e[_0x57b429(0x6fc)]({'_id':_0x6eb38a},{'$set':_0x53c5d4},{'new':!0x0});}catch(_0x14bf9f){throw console['error'](_0x57b429(0x825),_0x14bf9f),_0x14bf9f;}}async[a0_0xf534fa(0x4d1)](_0x3879ce){const _0x1c9780=a0_0xf534fa;try{let _0x585cb2=await $e[_0x1c9780(0x274)](_0x3879ce);return _0x585cb2?_0x585cb2[_0x1c9780(0x3a5)]||(_0x585cb2[_0x1c9780(0x3a5)]=[],await _0x585cb2[_0x1c9780(0x5b4)]()):(_0x585cb2=new $e({'_id':_0x3879ce,'autoCompleteMessages':[]}),await _0x585cb2[_0x1c9780(0x5b4)]()),_0x585cb2;}catch(_0x47d276){return _0x47d276['code']===0x2af8&&_0x47d276[_0x1c9780(0x824)]&&_0x47d276[_0x1c9780(0x824)]['autoCompleteMessages.command']?(console['error'](_0x1c9780(0x2c4)),await $e[_0x1c9780(0x22c)][_0x1c9780(0x3b3)](_0x1c9780(0x883)),null):(console[_0x1c9780(0x1c2)](_0x1c9780(0x757),_0x47d276),null);}}},Fo=new N('WA\x20MODULE'),Uo=new We(b),jo=new jt(b),Jo=new at(b),qo=new Jt(sa,b),Vo=new Xt(ua,b),Go=new Zt(na,b),Bo=new Me(qe,b),Wo=new es(b),zo=new qt(b),Ho=new ts(b),Ko=new ss(b),Qo=new as(b),he=new Ge(Uo,jo,Jo,qo,Vo,Go,Bo,Wo,Ho,zo,Ko,Qo,$?.[a0_0xf534fa(0x574)]()),G=new Ut(ds,b,he),Yo=new zt(b,G,he),Xo=new Kt(G),vs=new Yt(Xo),I=new Qt(G),le=new Bt(G,b,he,ds,Yo),B=new Wt(G),x=new Vt(G),j=new Ht(G);Fo[a0_0xf534fa(0x8d8)](a0_0xf534fa(0x37a));var ng=require(a0_0xf534fa(0x787)),ks=require('fs'),xi=R(require(a0_0xf534fa(0x4fd))),Di=R(require('http')),ke=class u{static #e;static set['app'](_0x53ba08){this.#e=_0x53ba08;}static get['https'](){const _0x2f1626=a0_0xf534fa;let {FULLCHAIN:_0x15dccf,PRIVKEY:_0x3d47ab}=b['get'](_0x2f1626(0x2ae));return xi[_0x2f1626(0x46c)]({'cert':(0x0,ks[_0x2f1626(0x194)])(_0x15dccf),'key':(0x0,ks['readFileSync'])(_0x3d47ab)},u.#e);}static get[a0_0xf534fa(0x26d)](){const _0x384890=a0_0xf534fa;return Di[_0x384890(0x46c)](u.#e);}},Le=R(require('fs')),ji=R(require(a0_0xf534fa(0x604))),Fe=R(require(a0_0xf534fa(0x3c1))),os=R(require(a0_0xf534fa(0x875))),is=require(a0_0xf534fa(0x21d));function a0_0x1849(){const _0x428b77=['descOwner','approve','reject','):\x20Criando\x20fluxo\x20compartilhado...','WARN','sectionsToString',',\x20isAdmin:\x20','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','query','waInstances','configService','StartBot','groupUpdateSubject','pm2\x20flush','stdout','isValidAndUniqueIPv6','AUTHENTICATION_TYPE','fetchLabels','):\x20leadInfoVariables','viewOnceMessage','addReplyOption','./.git/config','\x20segundos','repository','sendWhatsAppAudio','authorization','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','pendingMessages','fetchMessages','backgroundColor','conditions','updateBlock','messageContextInfo','variables','.doc','):\x20\x27Deletando\x20fluxo,\x20id:\x20','toString','):Converted\x20image\x20deleted','documentMessage','contains','uazapiDeleteMessage','request\x20received\x20in\x20allFlows','folder','vcard','updateProfileName','Bloco\x20com\x20ID\x20','request\x20received\x20in\x20scheduleMessage','editFlowBlock','chat','promote','node-mime-types','3186WBENnW','findIndex','Error\x20while\x20deleting\x20message\x20for\x20everyone','SSL_CONF_PRIVKEY','https://jsonip.com','PORT','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','connecting','uazapiSendMenu','\x20inseridos\x20no\x20banco\x20de\x20dados...','qrcode-terminal','deleteMany','global','Erro\x20ao\x20arquivar\x20chat','logout','messageSecret','color','):\x20Criou\x20conversa\x20no\x20startFlow','ListMessage','findRealGroups','myAppStateKeyId','Filtered\x20network\x20interfaces:\x20','value','Fluxo\x20não\x20encontrado\x20na\x20memória.','getMessageModelForOwner','):\x20Buscando\x20flow,\x20id:\x20','delayChatLabel_MAX_RETRIES','Logger','Primeiro\x20Valor:\x20','round','keyPattern','Erro\x20ao\x20atualizar\x20AutomateSystem:','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','@broadcast','automateSystem','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','connectedName','triedToSend','Erro\x20ao\x20tentar\x20autoCompleteMessages','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','.url','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','announcement','from','checkAndRestartProcess','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','RemoveChatLabel','fetchPrivacySettings','sem\x20texto\x20na\x20mensagem','The\x20property\x20cannot\x20be\x20empty','messageHandle','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','DaysToDelete','removeData','\x20tentativas.','hbs','PRODUCT_LIST','website','blocks','StartID:','connect','beautifyWithPlaceholders','):\x20Envio\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','parse','toDataURL','length','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','verifyWhatsAppNumber','CONECTADO\x20À\x20UAZAPI','Error\x20in\x20scheduleNextCheck:\x20','toBRL','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20Ignoring\x20group\x20messages.','groupHandler','cache','):\x20Bloco\x20original\x20para\x20cópia:\x20','prepareWAMessageMedia','fromMe','startsWith','paused','useMultiFileAuthState','lastInteraction','updateMessage','):\x20Ler\x20mensagem','updateStopChat','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','digest','flushHeaders','format','reference','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','whatsappNumber','reconnectAttempts','charAt','waUploadToServer','CORS','where','replacer','interval\x20não\x20é\x20um\x20número','saveMediaToFile','ipv6Prefix','fetchStatus','.jwt','0123456789ABCDEF','findAndReplaceRegex','deleted','formatVCard','toBrazilianNumberFormat','long','PREFIX_KEY','path','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','AutomateSystem',',\x20Minutes\x20to\x20Close:\x20','text','state','preview','Operador:\x20\x22','ids','flowPrefixCommand','IP\x20mismatch:\x20configured\x20','\x1b[33m\x1b[1m','variablesToObject','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','autoCompleteMessages.command_1','):\x20whoCanUse\x20before\x20validation:\x20','findAndUpdateCacheContact','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','exec','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','organization','restrict','EXPIRIN_IN','DARK','):Desconectado,\x20parando\x20execução.','):\x20Mensagem\x20já\x20enviada\x20para\x20','updateAgent','profile','createConnection','\x20contacts','url','^\x5cd+([-]\x5cd+)*@g.us$','The\x20\x22','Read\x20messages','FlowRouter','Instâncias\x20removidas:\x20','less','static','sendButtons','getBusinessProfile','includes','saveVariable','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):\x20Editando\x20replyOption...','.xls','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','\x20}\x0a','readdirSync','?timestamp=','Safari','has','nomecompleto','LOG_COLOR','):\x20não\x20encontrou','REDIS_PREFIX_KEY','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','deleteAll','mongodb://','processclearVariables','allflows','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','getMessage','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','ObjectId','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','linkPreview','evaluateCondition','_fromMe','SendScheduleMessage','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','refused','chats','Imagem\x20não\x20encontrada','proxy:\x20','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','startFlowWebhook','Configuração\x20SSL\x20recuperada:','convert','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','apiResponse','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','):\x20Mensagens\x20prontas\x20para\x20envio\x20encontradas.\x20Iniciando\x20processReadyMessages.','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','saveChatVariables','size','pollErrorMessage','qrcode.updated','Erro\x20na\x20função\x20updateChatWithMessage:\x20','sendMenu','email','):\x20Entrou\x20na\x20função\x20processawaitSeconds','setting','queue','Close\x20connection','):\x20Error\x20processing\x20conditions:\x20','authentication','buttons','loggedOut','):\x20Conversa\x20atualizada\x20em\x20memória','info','matchRegex','buttonMessage','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','truncatedtoEnd','body','groupSettingUpdate','remove','pairingCode','call','model','blockId','updateGroupParticipantsWebhook','):\x20Fluxo\x20\x27','warn','readFileSync','AutomateFunctions','request\x20received\x20in\x20getAutomateSystem','audio/ogg;\x20codecs=opus','Erro\x20ao\x20editar\x20o\x20chat','chatHandle','Mac\x20OS','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','):\x20isVote:\x20','createHash','\x20ao\x20chat\x20','updatePresence','\x20\x1b[0m','repeat','push','startCommand','processingGroup','chats.upsert','isJidUser','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão',',\x20Novo\x20tamanho:\x20','processvaredits','\x20minutos.\x20Será\x20às\x20','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','result','$dbName','):\x20Editando\x20edição\x20do\x20fluxo...','groupJoinApprovalMode','last_update','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','emit','put','fileUrl','endsWith','audio','changeVariables','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','findGroupsEspecial','update','cpf','defineProperty','chatId','lastSendMessage','waitingMenu_replyOptions','\x0a*Você\x20respondeu*:\x0a','error','$set','statSync','item','flowStopConversation','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','deleteChat','parseInt','.fileUrl','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','importChatsAntigo','toLowerCase','updateGParticipate','chatLog','latitude','Request\x20Body:','REDIS','listen','):\x20[messages.update]\x20group\x20ignored','\x27\x20não\x20encontrado','Não\x20respondeu\x20com\x20a\x20enquete.','Message','):\x20[messages.upsert]\x20group\x20ignored','DATABASE_CONNECTION_URI','.pdf','pollMessageOnDelete','transformScheduledMessagesByType','@ffmpeg-installer/ffmpeg','unavailable','):\x20Deletando\x20conversa...','last','base64','goToFlow','\x20-i\x20','collections','#00a1f2','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','request\x20received\x20in\x20editFlow','trimmed','dbClient','getChatModelForOwner','add','https://v6.ident.me','notEmpty','exit','URL','webhookService','Erro\x20ao\x20aplicar\x20varedit:\x20','instance.','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','DOCKER_ENV','subject','urlencoded','Novo\x20IP\x20criado:\x20','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','labelId','spawn','getScheduleMessage','instancias:\x20','Flow\x20iniciado','header','):\x20Entrou\x20na\x20função\x20stop','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','request\x20body:\x20','editScheduleMessage','DisconnectReason','SERVER_OFFLINE','rm\x20-rf\x20','SSL_CONF_FULLCHAIN','sections','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','atendimentoAberto','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','listMessage','type','isAdmin','sort','boolean','11642568zcDlDj','method','Instance\x20Name:','floor','):\x20Error\x20processing\x20the\x20block:\x20','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','\x1b[30m%s\x1b[0m','updateOne','remote\x20\x22origin\x22','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','child_process','Instance\x20deleted','messageId','):\x20error:\x20','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','https://ifconfig.me/ip','Message\x20absent\x20from\x20node','fone','Cannot\x20','stopMinutes','\x1b[1m','request_time','end','Atualização:\x20','g.us','collection','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','sendContact','Schema','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','mediaKey','name','\x1b[42m','LICENSE_INVALID','replaceVariables','connectToWhatsapp','#64c4ff','subjectTime','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','findFlow','waMonitor','instanceKeys','/create','*Pergunta*:\x20\x0a','encoding','DB_PREFIX_NAME','variable','uazapiSendContact','Configured\x20IPv6:\x20','request\x20received\x20in\x20editFlowgroup','match_last_seen','reconnectTimestamps','replaceVariablesInReplyOptions','\x1b[36m%s\x1b[0m','modifiedCount','sendReaction','endSession','request\x20received\x20in\x20updateAgent','IPv6\x20addresses\x20detected:\x20','editConversation','copyBlock','sending','https://api.openai.com/v1/images/generations','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','recording','#f64847','uncaughtException','verify','ChatModel','createAndSave','video','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','drop','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','protocolMessage','editflowcondition','BufferJSON','):Getting\x20image\x20from\x20url','downloads','Erro\x20ao\x20buscar\x20conversas','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','code','connection.update','conversation','processblock','getValidWhatsAppNumbers','eventemitter2','Error\x20finding\x20many\x20contacts:',',\x20fará\x20nova\x20verificação\x20em\x20','http','displayName','cleaningUp','leadInfo','groupBetterSetting','Not\x20allowed\x20by\x20CORS','Retornando\x20grupos\x20SEM\x20cache','findById','lastCondition','testIPv6','):Audio\x20processed','waitingMenu_ExpiredMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','Erro\x20ao\x20executar\x20bulkWrite:','):\x20Criando\x20nova\x20conversa[createNewConversation]','messageTimestamp','updateParticipant','sendAudio','Instance\x20logged\x20out','mediatype','remoteJid','setHeader','document','/message','Valor\x20de\x20find\x20ou\x20replace\x20ausente','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','util','mimetype','editflowvaredit','scheduleSendAudio','/wa-contacts','expiration','errorLog','dbConnection','sharePass','chatModify','notMatchRegex','integer','CONTACTS_SET','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','Falha\x20ao\x20recriar\x20IPv6.','generateHash','\x20horas\x20e\x20','upperCase','):Error\x20in\x20converting\x20audio','\x20-y','networkInterface','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','shareOwners','/wa-chats','VERBOSE','#b4ebff','editflowreply','log','/startFlow/:instance/:startID','Error\x20fetching\x20group','webhook','CLEANING_INTERVAL','markMessageAsRead','dbSettings','write','.mimetype','ignoreGroups','TEXT','owner','SSL_CONF','padEnd','/64\x20dev\x20','toFile','InstancesAlterarTodas','Database\x20connection\x20closed.','editFlowReply','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','exists','sleep','deleteflow','choices','Background\x20color\x20is\x20required','processReadyMessages','groupRequestParticipantsList','status@broadcast','ConversationModel','jsonschema','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','\x1b[44m','editflowgroup','CORS_METHODS','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','[AUTH]\x20Database\x20is\x20not\x20enabled','This\x20name\x20','newStoppedUntil','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','convertaudio','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','ip\x20-6\x20addr\x20add\x20','del','flowConversation','uazapi','instanceInfo','deleteReplyOption','status','conversationTimestamp','ScheduleMessage','post','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','AddChatLabel','pollCreationMessageKey','RemoteJid:','sendMessageAck','MAX_SAFE_INTEGER','imported','mediaMessage','action','processScheduleFlow','footerText','/wa-qrcode','fetchBusinessProfile','cachedContacts-whatsapp','statusCode','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','#ffffff','):Image\x20converted\x20to\x20WebP','):\x20atualização\x20chat:\x20','everyOne','Erro\x20ao\x20normalizar\x20a\x20mensagem:','SINGLE_SELECT','leadInfo.customFields','\x1b[41m','saveConversationToDatabase','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','request\x20received\x20in\x20starFlow','array','slice','replaceVariablesInObject','updateProfilePicturePrivacy','processApiRequest','desativadoFluxoAte','writeFileSync','dayjs','groupMemberAddMode','demote','):Processing\x20audio','chats.set','view\x20engine','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','sendText','Tentando\x20reconectar...','option','qrCode','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','8080','\x5cd+','maxActives','https://uazapi-plugin.bubbleapps.io/?url=','/config','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Subscribed\x20Events:','saveTextReply','METHODS','inviteUrl','.mp3','iniciando\x20fluxo\x20router','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','default','.TEL;waid=','\x20-\x20ON:\x20','!cmd_','):\x20Enviando\x20localização','groupToggleEphemeral','groupUpdateDescription','headers','order','eventEmitter','description','media','rowId','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','):Temp\x20image\x20deleted','COLOR','limit','localWebhook','findByIdAndDelete','Not\x20Found','mediaSticker','DEBUG','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','creds.update','toUpperCase','PRIVKEY','):\x20alterando\x20this.AutomateSystem','Internal\x20Server\x20Error','substring','):\x20Editando\x20mensagens\x20no\x20grupo...','setContext','optionDescription','contact_blacklist','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','):\x20Editando\x20condição\x20do\x20fluxo...','dbServer','Erro\x20ao\x20atualizar\x20o\x20flow.','.webp','remove.instance','https://','request\x20received\x20in\x20updateAutoCompleteMessages','):\x20Conversa\x20inserida\x20com\x20sucesso.','not\x20loaded','CONTACTS_UPDATE','beforeExit','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','randomMac','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','\x20não\x20encontrado\x20para\x20cópia','HH:mm:ss','CORS_ORIGIN','rows','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','AUTHENTICATION_JWT_SECRET','secondValue','/wa-message-update','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','Usando\x20IP\x20existente:\x20','):\x20Enviando\x20contato','Valor\x20da\x20URL\x20recuperada:','updateGParticipant','Network\x20interfaces\x20detected:\x20','-whatsapp-api','cachedContact','lastBlockId','END:VCARD','title','):\x20Atualizando\x20status\x20da\x20mensagem\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','toggleEphemeral','connectionState','EMAIL','image','DELETED','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','groupInviteCode','function','capitalizedWords','storePath','):\x20Entrou\x20na\x20função\x20scheduleFlow','groupJid','\x22\x20-\x20NOT\x20CONNECTION','ephemeralExpiration','contact','/media/','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','retrySendMessage','):Sending\x20audio\x20whatsapp','profilePictureUrl','toNumber','setRestartTimeout','buttonText','):\x20Rótulo\x20atualizado:\x20','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','):\x20teve\x20mudanças\x20chat.archived:\x20','Router','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','groupGetInviteInfo',',\x20global:\x20','tags','connectionStatus','http://checkip.dyndns.org','available','Module\x20-\x20ON','URL\x20completa:','INFO','onTime','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','Unauthorized','GROUP_PARTICIPANTS_UPDATE','Cache-Control','normalizeMessage','\x20chats\x20de\x20','deleteImportedChat','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','response','admin','temp-','\x0aFN:','Subdomínio\x20final:','findGroup','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','REDIS_URI','GUARD','menuExpiredMessage','flows','generateWAMessageFromContent','max','updateProfilePicture','group-participants.update','application/octet-stream',',\x20Comparador:\x20','ip\x20-6\x20addr\x20show\x20dev\x20','E-mail:\x20','delayMessage','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','Database\x20is\x20not\x20enabled','generate','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','class-validator','createJid','redis','audioWhatsapp','/media','_error','816yJKvkU','autoCompleteMessages','Subdomínio\x20extraído\x20da\x20URL:','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','Erro\x20ao\x20iniciar\x20fluxo:\x20','defineAuthState','entries','toLocaleString','scheduleFlow','deleteConversation','Instance\x20ID:','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','instanceCount','inner','whoCanUse','dropIndex','USER','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','findOne','/instance/connectionState','ip6eui','uuid','Nenhum\x20participante\x20válido\x20encontrado.',',\x20canSendMessage:\x20','createConversationforStartFlow','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','editFlowVaredit','AUTHENTICATION','groups.update','axios','CHATS_UPDATE','editflow','address','values','LabelModel','dbInstance','valid','customFields','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','role','sendMessage','groupadd','express','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','$pull','archive','\x20:\x20','updateGroupWebhook','uazapiSendLocation','):\x20whoCanUse\x20after\x20validation:\x20','audioMessage','scheduleMessage','true','.mp4','\x22\x20not\x20found','routerPath','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','string','editOperator','delaySecMax','CONNECTION_UPDATE','editflowvariable','env','IP\x20confirmed:\x20','Erro\x20ao\x20importar\x20chats','execSync','STORE_CLEANING_TERMINAL','Stack\x20trace:','/*.json','):\x20Iniciando\x20processReadyMessages.','messages.upsert','router','leadInfo.etiquetas','utf-8','notas','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','ChatRouter','ip:\x20','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','inviteCodeDetails','getDevice','profileName','findWebhook','Content-Type','stderr','URI','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','findChats','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','group','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','messages','basename','Erro\x20ao\x20deletar\x20a\x20conversa','pino','Instance\x20Key\x20from\x20DB:','editFlowGroup','isJWT','Last\x20message\x20not\x20found','webhookModel','contentText','/events','reactionMessage','writeFile','onWhatsApp','stanzaId','):including\x20timestamp\x20in\x20url:\x20','poll','readMessages','condition','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','getLastMessage','hDel','OrAnd','headerString','WebhookGlobal','https://chat.whatsapp.com/','_activedCount','):\x20transformedCustomFieldVariables','.svg','[all]','instanceName\x20not\x20provided.','.wav','):\x20Current\x20Time:\x20','all','redisEnv','Erro\x20ao\x20encerrar\x20a\x20API','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','findAll','.\x20Pulando.','subjectOwner','flowStopMinutes','senderKeyDistributionMessage','mongodb','delayChatLabel_RETRY_DELAY_MS','):\x20\x27Enviando\x20mídia\x20para\x20\x27','chats.delete','numbers','FULLCHAIN','\x0aitem','applyvaredit','noConnection','groups.upsert','FlowController','\x27\x20do\x20banco\x20de\x20dados...','KEY','Error\x20updating\x20cache\x20contact:','updateAutoCompleteMessages','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','username','cwd','varedits','):\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','open','processPollUpdateMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','):\x20Limpando\x20delayMessage','map','.pptx','memberAddMode','goNextblock','mentioned','saveCreds','createInstance','bulkWrite','menuType','):\x20\x27Enviando\x20texto\x20para\x20\x27','.png','fromObject','isLong','findByIdAndUpdate','groups','fetchConversation','ERROR','getAutomateSystem','/wa-connection-update','enviado\x20para','loadWebhook','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','resetReconnectionVariables','messageStubParameters','/group','delAll','pictureUrl','not_announcement','Falha\x20ao\x20processar\x20fetchBusinessProfile','.ppt','text/event-stream','creds.json','PASSWORD','realVariables','utf8','unhandledRejection','js-yaml','):Type\x20defined\x20as\x20audio','editflowblock','createServer','lastReceivedMessage','qrcode','readreceipts','lastFetchAwaitingApproval','groupdata','oldToken',',\x20Segundo\x20Valor:\x20','messaging-history.set','Flow\x20\x27','getTime','archived','):\x20Procurando\x20mensagens\x20para\x20envio','formatBRNumber','instance','namespace','\x22,\x20valor\x20a\x20substituir:\x20\x22','updateFlowConfig','jid','groupDesc','updateOnlinePrivacy','groupRequestParticipantsUpdate','expression','isBusiness','.error','.docx','PRESENCE_UPDATE','getMinutes','.\x20Aguardando\x20','.X-ABLabel:Celular\x0a','join','dropCollection','Button\x20texts\x20cannot\x20be\x20repeated','random','Erro\x20ao\x20editar\x20agentes','scheduled','/chat','whoCanEdit','https://uazapi-plugin.bubbleapps.io/','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','groupSetting','Error\x20testing\x20IP\x20with\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','Comando\x20desconhecido','Subdomínio\x20não\x20encontrado','start','Network\x20Interface\x20detected:\x20','createFlow','_sender','loadInstance','bearer','_FlowHistorico','ON\x20-\x20dbName:\x20','/wa-groups','decryptPollVote','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','create','deleteFlow','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','vote','updateMissingTags','CHATS_UPSERT','HeaderType','ContactModel','findManyByIds','Deletion\x20failed','^\x5cd+','formatStatusMessage','scheduleNextExecution','envProcess','hGet','SEND_MESSAGE','_activatedCount','\x20com\x20sucesso.','):\x20Iniciando\x20scheduleNextCheck.','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','superadmin','whatsappNumbers','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','LOG_LEVEL','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','release','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','BRL','SERVER_ACK','):\x20Fluxos\x20não\x20estão\x20ativados','test','_p_','\x20minutos...','synchronizeAndMapFlows','contactsArrayMessage','Parando\x20aplicação,\x20atualização\x20recebida','deletedCount','cleanStore',',\x20valor\x20passado:\x20\x22','fetchInstances','flattenObject','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','envYaml','privacySettings','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','findOrCreate','number','lastMessage','pollOnReplyDelete','stopMinutesMaxActives','blockLogs','#01d0e2','presence','birthtime','Rótulo\x20inválido\x20ou\x20sem\x20ID.','application/json','IPv6\x20address\x20configured:\x20','.type','moreLogs','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','fetchProfile','buttonId','data','logger','URL\x20não\x20disponível','flowActive','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','Esse\x20fluxo\x20expirou','):\x20Falha\x20ao\x20deletar\x20mensagem.','removeChatLabel','Erro\x20ao\x20editar\x20o\x20bloco:\x20','Erro\x20ao\x20tentar\x20updateCustomFields','undefined','listType','delete','removeIPv6ById','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','ENABLED','apiName','presence.update','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','app-state-sync-key','getConversationModelForOwner','online','Erro\x20ao\x20buscar\x20fluxos:','uazapiSendAudio','context','trim','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','https','\x20adicionado\x20ao\x20chat\x20','getProfileName','sendMedia','editFlowVariable','getBase64FromMediaMessage','authState','Error\x20fetching\x20and\x20updating\x20profile:\x20','findGroups','upsertChats','unknown\x20operation\x20type\x20[','options','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','.ogg','height','groupName','PLAYED','stateConnection','notify','Parando\x20aplicação...','labels.edit','dark','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','sendPoll','isInteger','):\x20debug\x20alterando\x20this.AutomateSystem','/instance/create','):\x20Criando\x20fluxo...','groupRevokeInvite','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x1b[31m','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','Falhou\x20ao\x20encontrar\x20chat\x20','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','stopped','split','events','isJidGroup','lastUpdate','@whiskeysockets/baileys','find','next_groupId','extractPhoneNumber','stopConversation','isCommunity','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','uazapiSendText','picture','getHours','}}\x20->\x20\x22','pow','fetchChats','\x1b[32m','listResponseMessage','closed','menuMessage','insertMany','downloadMediaMessage','findMany','):\x20Buscando\x20todos\x20os\x20fluxos...','success','Database\x20update\x20result:','updateGroupPicture','getConversation','initializeQueue','):\x20conversation.waitingMenu_name','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','READ','Validate','Chat\x20com\x20ID\x20','quotedMessage','Db\x20Connection','scheduleNextCheck','user','ListType','createSectionsFromValues','findConversation','Erro\x20ao\x20remover\x20label\x20','\x20depois\x20','createNewConversation','):\x20Deletando\x20mensagem','updateReplyOption','findAndReplace','deviceSentMessage',',\x20lastCondition:\x20','restartInstance','\x1b[31m%s\x1b[0m','silent','setNewValue','font','console','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','):Image\x20path:\x20','--------------------------------------','getStatus','licenca','removeIPv6','JWT','unreadcount','inviteCode','https://api.openai.com/v1/audio/speech','segundos','contactHandle','Fluxos\x20não\x20estão\x20ativados','sendStatus','convertedOptions','):\x20delete\x20=\x20true','replaceVariablesChat','Garbage\x20collection\x20não\x20está\x20disponível.','):Archiving\x20chat','isValidIPv6Config','reaction','unlocked','deleteOne','request\x20received\x20in\x20getConversation','mentions','writeData','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','readMessage','getClient','minutesToClose','updateLastSeenPrivacy','):\x20whoCanEdit\x20after\x20validation:\x20','authModel','labels.association','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','when','locked','):\x20Query\x20params:','leadInfo.','\x1b[34m%s\x1b[0m','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','testingWith','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','telefone','Mensagens\x20deletadas\x20com\x20sucesso.','nome','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','\x20do\x20chat\x20','PENDING','request\x20received\x20in\x20editFlowcondition','getScheduleMessageModelForOwner','reorderReplyOptions','All_Instances_Config','urlOrBase64','timeout','\x1b[37m','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','authService','AutomateSystem\x20não\x20foi\x20inicializado','env.KEY\x20!==\x20key','updatePrivacySettings','STORE_CONTACTS','variablesNotFound','Missing\x20global\x20api\x20key','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','leadInfo.atendimentoAberto','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','command','Erro\x20ao\x20adicionar\x20label\x20','):\x20Editando\x20variável\x20do\x20fluxo...','replyOption','getVariablesChat','addBlock','creds','\x0a{\x20instance:\x20','joinApprovalMode','wuid','SERVER_PORT','DELIVERY_ACK','Flow\x20iniciado\x20com\x20','Error\x20removing\x20IPv6\x20address:\x20','messageType','removeInstance','RECONNECT_TIME_FRAME','isCommunityAnnounce','getReadyToSendMessages','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','normalizeMessageContent','.jpg','block','currency','cachedData-whatsapp','save','keep-alive','Erro\x20de\x20atualização:\x20',',\x20Resultado:\x20','):\x20customFieldVariables','isListOfNumbers','insertCount','p-queue','src','ButtonsMessage','setUpdate','):\x20Iniciando\x20bot...','#6f7bcf','Fluxo\x20id\x20\x27','processConditions','createOrUpdate','label','no-cache','no.connection','):\x20Mensagens\x20prontas\x20para\x20envio\x20encontradas:\x20','reviver','locationMessage','pollCreationMessageV2','\x1b[34m','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','quoted','shareFlow','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','status.instance','menuIgnoreNonVotes',']\x20(','filter','getUniqueFlowName','agents','https://api.ipify.org?format=json','evaluateConditionTest','request\x20received\x20in\x20deleteFlow','convertToString','getPrototypeOf','CONNECTION','message_normalized','unlinkSync','done','Bad\x20Request','updateProfileStatus','):\x20Conversa\x20está\x20expirada\x20-\x20voto','\x1b[0m','messages.set','AddUserFlow','Erro\x20ao\x20alterar\x20fluxo','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','):\x20\x27Enviando\x20audio\x20para\x20\x27','vir','prepareMediaMessage','Connection','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','configureIPv6','lean','author','2233932UwAcaH','deleteDoneMessages','groups_ignore','contactMessage','min','json','API_KEY','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','findGroupInfos','detail','/exit','Conversa\x20deletada\x20com\x20sucesso.','):\x20Chat\x20','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','):Notifying\x20clients\x20for\x20chat:\x20','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','allContacts','params','padStart','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','ini','responsavelid','notContains','):\x20tem\x20blocks','validate','greater','firstValue','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','replace','cacheInstanceModel','Group\x20not\x20found','/clients-info','copy','GET','existsSync','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','REDIS_ENABLED',',\x20resultado:\x20',',\x20valor\x20a\x20encontrar:\x20\x22','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','set','Generated\x20IPv6:\x20','editChat','Erro\x20ao\x20atualizar\x20conversa:\x20','\x20não\x20encontrado\x20para\x20atualização.','unreadCount','output','oldValue','#d8e651','instances','\x1b[30m','count','contacts.upsert','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','_Contacts','CHATS_SET','IPv6\x20Prefix\x20detected:\x20','assign','findParticipants','GROUPS_UPSERT','apply','ex:\x20\x22groupJid=120362@g.us\x22','):\x20Flow\x20desativado','groupParticipantsUpdate','request\x20received\x20in\x20fetchConversation','Removidas\x20as\x20variáveis:\x20','equal','enabled','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','getDelay','):Audio\x20converted\x20and\x20stored\x20in\x20cache','dataValidate','created','stack','AppStateSyncKeyData','clearVariables','groupValidate','Erro\x20ao\x20atualizar\x20o\x20fluxo:','cacheInstanceRepository','varedit','createGroup','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','\x20segundos\x20antes\x20de\x20reconectar...','editFlowCondition','prototype','connectToWhatsappController','/instance/fetchInstances','updateMany','updateChatWithMessage','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','request\x20received\x20in\x20deleteDoneMessages','125695eMvClW','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','@g.us','extractMessageContent','videoMessage','mongoose','getLabelModelForOwner','instanceName','stickerMessage','match','_id','arrayUnique','Nenhum\x20chat\x20encontrado\x20para\x20editar.','idSchedule','gifPlayback','removed','\x1b[32m%s\x1b[0m','sendCommand','readFile','profilePicture','sendLocation','pre','getContentType','groupId','waitingMenu_text','editFlow','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','viewOnceMessageV2','messages.update','redirect','Type\x20not\x20found','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','Erro\x20ao\x20atualizar\x20cacheInstance:','updateGroupsAddPrivacy','flow','mkdirSync','public','DATABASE','):\x20Comando\x20desconhecido:\x20','Data\x20inválida\x20fornecida','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','removeUnusedChatFields','deleteBlock','restart','getNextPendingMessage','announce','replyOptions','revokeInviteCode','Erro\x20ao\x20deletar\x20mensagens:','enumerable','globalShow','Deleted\x20','Início','sendMessageWithTyping','detectIPv6PrefixAndInterface','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','Falha\x20ao\x20processar\x20a\x20solicitação','flush','):\x20sender\x20=\x20number:\x20','pollCreationMessage','Mensagem\x20não\x20suportada','startID','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','isConnected','sendDataWebhook','fetchProfilePicture','replaceValue','presenceSubscribe','Instance\x20restarted','statusMessage','indexOf','key','now','scheduleSendText','Log\x20out\x20instance:\x20','Font\x20is\x20required','groupLeave','startCommandWord','):Image\x20created','):\x20newFirstValue\x20após\x20replaceVariables:','etiquetas','scheduleSendMedia','SERVER','sha256','participants','Variáveis\x20não\x20encontradas:','flowName','createConversationforgoToFlow','eventHandler','load','pushName','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','\x1b[33m','ms\x20(tentativa\x20','DD/MM\x20HH:mm:ss','Invalid\x20format','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','getAllData','cors','shift','process','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','longitude','STATUS_INSTANCE','editMessagesInGroup','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','XX:XX:XX:XX:XX:XX','):\x20Buscando\x20conversa...','fileName','\x20and\x20data:','send','Erro\x20inesperado\x20em\x20processvaredits:\x20','upsertedCount','contacts','convertaudioMP3','awaitingApproval','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','selectableCount','sharp','fullName','\x1b[1m\x1b[37m','message','chats.update','request_method','redis://127.0.0.1:6379','):\x20Removendo\x20\x27','-instances','hex','MESSAGES_SET','reorderBlocks','!stop','use','\x1b[37m%s\x1b[0m','https://api64.ipify.org?format=json','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','statusJidList','createflow','getTicketSystem','\x1b[46m','jwt','_Messages','isBase64','isArray','badSession','?authSource=admin&readPreference=primary&directConnection=true','/instance/delete','connectionUpdate','textMessage','processUazapi','Erro\x20ao\x20buscar\x20o\x20fluxo','removeProfilePicture','requestFile','\x27...','request\x20received\x20in\x20createFlow','false','LOG','#9ab6c1','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','cleanDisconnectedInstances','originalUrl','imagechat','archiveChat','documentWithCaptionMessage','stringify','cacheContactModel','hSet','3694145MbtLqk','bateu\x20events','hasOwnProperty','verbose','):\x20Buscando\x20flow...','createClient','descId','updateOneById','none','findOneAndUpdate','ff:fe','Selecione','replaceOne','/wa-message','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','):\x20Enviando\x20texto','Erro\x20ao\x20copiar\x20o\x20documento','flowConfig','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','contextInfo','createWebhook','ORG:','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','DATABASE_CONNECTION_HOST','@redis/client','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','#ffc5c7','local_map','insert','Error\x20updating\x20message\x20status:','updateAll','#000000','convertToWebP','arraybuffer','fetchContacts','$addToSet','joinGroup','deleteInstance','Detalhes\x20do\x20erro:','STORE','_Chats','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','object','get','1886248LnoFvq','):\x20newSecondValue\x20após\x20replaceVariables:','.webm','throwAndLogError','deleteMessage','keys','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','lastSend','updateMissingCustomFields','webhookMap','):\x20ev.flush\x20realizado','204665OFlpdU','Valor\x20inicial:\x20\x22','Instance\x20\x22','GROUPS_UPDATE','bodyString','\x20não\x20encontrado','creation','label_jid','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','getMIMEType','Esse\x20fluxo\x20não\x20permite\x20importação.','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','Instância:\x20','msgRetryCounterCache','Número:\x20','getflow','participant','updateCustomFields','client','isURL','isRunning','bodyStringErrorParse','request\x20received\x20in\x20updateCustomFields','apirequest','startFlow','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','@s.whatsapp.net','createIPv6','stopWhenYouSendMsg','):\x20whoCanEdit\x20before\x20validation:\x20','importChatsBatch','):Image\x20is\x20url','\x20quoted:\x20','sendList','.txt',',\x20qrcodeCount:\x20','lastRealGroupsFetch','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','forEach','QRCODE_UPDATED','#9ba6ff','cacheContact','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','/automate','pollMessage','views','truncatedto','\x20minutos','editedMessage','close','getContactModelForOwner','\x1b[43m','#56ccb4','replaceVariablesLogs','ReplyOption\x20com\x20ID\x20','verifiedName','waitingMenu_id','muteEndTime','CONTACTS_UPSERT','Rótulo\x20deletado:\x27,\x20','50mb','closeExistingConversations','data:\x20','):\x20Entrou\x20na\x20função\x20goToFlow','.extension','userDevicesCache','#dfaef0','apikey','):\x20Enviando\x20áudio','groupMetadata','https://ipv6.jsonip.com','Partes\x20do\x20caminho\x20FULLCHAIN:','HOST','):\x20Label\x20','request\x20received\x20in\x20editFlowvariable','processgoToFlow','delay','joinGroupValidate','request\x20received\x20in\x20updateFlowConfig','https://github.com/uazapi/uazapi.git','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','loadEnv','NextBlock','connectionClosed','promisify','readMessageBot','No\x20suitable\x20network\x20interface\x20found','send.message','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','initAuthCreds','express-async-errors','content','):\x20Buscando\x20conversas...','findContacts','/events/:instance','g-t','Error\x20parsing\x20JSON:','all_member_add','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','):\x20Flow\x20\x27','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','waitingForReplyMenu','out','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','allFlows','composing','updateMissingEtiquetas','processawaitSeconds','inet6','TYPE','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Error\x20writing\x20file:\x20','\x1b[40m','webp','groupdata.participants','):\x20lastBlockId:\x20','sim','sign','pollUpdateMessage','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','getFlow','pt-BR','some','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','catch','debug','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','reorderMessages','errors','The\x20global\x20api\x20key\x20must\x20be\x20set','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','list','MESSAGES_UPDATE','\x20mensagens\x20de\x20','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','CHATS_DELETE','phoneNumber','caption','leaveGroup','MESSAGES_UPSERT','delayChatLabel','proto','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','makeCacheableSignalKeyStore','):Trying\x20to\x20get\x20business\x20profile','https://api.elevenlabs.io/v1/text-to-speech/','Types','\x20is\x20already\x20in\x20use.','splice','readData','):Delete\x20chat','):\x20Editando\x20grupo\x20do\x20fluxo...','importChats','contacts.update','Variável\x20não\x20encontrada!','abs','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','auth','updateConversation','and',',\x20saindo.','):\x20Limpando\x20AutomateSystem','Last\x20message\x20not\x20found\x20for\x20number:\x20','PROXY'];a0_0x1849=function(){return _0x428b77;};return a0_0x1849();}function Zo(){const _0x4fd2f5=a0_0xf534fa;G['loadInstance']();let _0x3553f1=os[_0x4fd2f5(0x311)][_0x4fd2f5(0x48a)](__dirname,'downloads');Ui(_0x3553f1);}var Ui=_0x38a68c=>{const _0x3e3ef6=a0_0xf534fa;let _0x7b1d5b=Le['default'][_0x3e3ef6(0x8a4)](_0x38a68c),_0x52616d=0xc*0x3c*0x3c*0x3e8,_0x24af04=0x2*0x3c*0x3c*0x3e8,_0x2af7de=new Date()[_0x3e3ef6(0x476)]();_0x7b1d5b[_0x3e3ef6(0x753)](_0x3b6aed=>{const _0x433cd=_0x3e3ef6;let _0x2a93a4=os['default']['join'](_0x38a68c,_0x3b6aed),_0x580dde=Le[_0x433cd(0x311)][_0x433cd(0x1c4)](_0x2a93a4)[_0x433cd(0x4d9)]['getTime']();_0x2af7de-_0x580dde>_0x52616d&&(Le[_0x433cd(0x311)][_0x433cd(0x5dd)](_0x2a93a4),console['log'](_0x433cd(0x67f)+_0x3b6aed));}),setTimeout(()=>Ui(_0x38a68c),_0x24af04);};function er(){const _0x44700f=a0_0xf534fa;let _0x408b78=new N(_0x44700f(0x69e)),_0x249dc1=(0x0,me[_0x44700f(0x311)])();_0x249dc1[_0x44700f(0x6d0)]((0x0,Fi['default'])({'origin'(_0x473884,_0x1f544e){const _0x2e2245=_0x44700f;let {ORIGIN:_0x44a623}=b[_0x2e2245(0x71f)](_0x2e2245(0x866));return _0x473884||(_0x473884='*'),_0x44a623[_0x2e2245(0x692)]('*')!==-0x1||_0x44a623[_0x2e2245(0x692)](_0x473884)!==-0x1?_0x1f544e(null,!0x0):_0x1f544e(new Error(_0x2e2245(0x272)));},'methods':[...b[_0x44700f(0x71f)](_0x44700f(0x866))[_0x44700f(0x30c)]],'credentials':b[_0x44700f(0x71f)](_0x44700f(0x866))['CREDENTIALS']}),(0x0,me[_0x44700f(0x1f6)])({'extended':!0x0,'limit':_0x44700f(0x769)}),(0x0,me[_0x44700f(0x5f4)])({'limit':_0x44700f(0x769)})),_0x249dc1[_0x44700f(0x6d0)]((_0x460a93,_0x5576b5,_0x15e6d4)=>{const _0x175c02=_0x44700f;_0x460a93[_0x175c02(0x875)][_0x175c02(0x854)](_0x175c02(0x40c))?_0x15e6d4():(0x0,Li[_0x175c02(0x311)])()(_0x460a93,_0x5576b5,_0x15e6d4);}),_0x249dc1[_0x44700f(0x618)](_0x44700f(0x2fd),_0x44700f(0x83d)),_0x249dc1[_0x44700f(0x618)](_0x44700f(0x75a),(0x0,Fs['join'])(re,_0x44700f(0x75a))),_0x249dc1[_0x44700f(0x6d0)](me[_0x44700f(0x311)][_0x44700f(0x89a)]((0x0,Fs[_0x44700f(0x48a)])(re,_0x44700f(0x670)))),_0x249dc1[_0x44700f(0x6d0)]((_0xa950af,_0x1c9bd7,_0x46e94b)=>{const _0x2b8a24=_0x44700f;let _0x16b1a1=_0x1c9bd7[_0x2b8a24(0x6bb)];_0x1c9bd7[_0x2b8a24(0x6bb)]=function(_0x3bf74e){const _0x3df577=_0x2b8a24;if(_0xa950af['query'][_0x3df577(0x8c2)]==='true'||_0xa950af[_0x3df577(0x318)][_0x3df577(0x2cf)]===_0x3df577(0x3d8)){let _0x4ddb93=JSON[_0x3df577(0x845)](_0x3bf74e);_0x3bf74e=JSON[_0x3df577(0x6f0)](_0x37c416(_0x4ddb93));}return _0x16b1a1[_0x3df577(0x62c)](_0x1c9bd7,[_0x3bf74e]);},_0x46e94b();}),_0x249dc1[_0x44700f(0x6d0)]('/',xe),_0x249dc1['use']((_0x566b07,_0x1076c5,_0x4ffcf9,_0x1d4e34)=>{const _0x461ca2=_0x44700f;if(_0x566b07)return _0x4ffcf9[_0x461ca2(0x2d2)](_0x566b07[_0x461ca2(0x2d2)]||0x1f4)[_0x461ca2(0x5f4)](_0x566b07);},(_0x52fe56,_0x25fb0b,_0x2b2a09)=>{const _0x20a0df=_0x44700f;let {method:_0x3a761f,url:_0x43b0db}=_0x52fe56;_0x25fb0b[_0x20a0df(0x2d2)](0x194)[_0x20a0df(0x5f4)]({'status':0x194,'message':_0x20a0df(0x225)+_0x3a761f[_0x20a0df(0x329)]()+'\x20'+_0x43b0db,'error':_0x20a0df(0x324)}),_0x2b2a09();});let _0x37c416=(_0x1845bc,_0x4d3c4a=_0x44700f(0x4c3))=>{const _0xca3baf=_0x44700f;let _0x1f2950=(_0x1c71e9,_0x1ab1f7=null,_0x302015=!0x1)=>{const _0x3645f9=a0_0x1d3d;let _0x34fd5d={};return Object[_0x3645f9(0x725)](_0x1c71e9)[_0x3645f9(0x753)](_0x38e86a=>{const _0x2507d6=_0x3645f9;let _0x140d23=_0x1c71e9[_0x38e86a],_0x1af095=''+_0x4d3c4a+_0x38e86a;_0x1ab1f7&&!_0x302015&&(_0x1af095=_0x1ab1f7+'.'+_0x38e86a),!_0x140d23&&_0x140d23!==0x0&&_0x140d23!==!0x1||typeof _0x140d23>'u'?_0x34fd5d[_0x1af095]=null:typeof _0x140d23!='object'&&!Array['isArray'](_0x140d23)?_0x34fd5d[_0x1af095]=_0x140d23:typeof _0x140d23==_0x2507d6(0x71e)&&!Array[_0x2507d6(0x6db)](_0x140d23)?_0x34fd5d=Object[_0x2507d6(0x629)](_0x34fd5d,_0x1f2950(_0x140d23,_0x1af095)):Array['isArray'](_0x140d23)&&(typeof _0x140d23[0x0]==_0x2507d6(0x71e)?(_0x34fd5d[_0x1af095]=[],_0x140d23[_0x2507d6(0x753)](_0x2cd67a=>{const _0x1db86b=_0x2507d6;_0x34fd5d[_0x1af095][_0x1db86b(0x1a2)](_0x1f2950(_0x2cd67a,_0x1af095,!0x0));})):_0x34fd5d[_0x1af095]=_0x140d23);}),_0x34fd5d;};return Array['isArray'](_0x1845bc)?_0x1845bc[_0xca3baf(0x445)](_0x3ddecd=>_0x1f2950(_0x3ddecd)):typeof _0x1845bc=='object'&&_0x1845bc!==null?_0x1f2950(_0x1845bc):{};},_0x4651de=b['get'](_0x44700f(0x69e));ke['app']=_0x249dc1;let _0x357151=ke[_0x4651de[_0x44700f(0x79a)]],_0x519d2e=_0x44700f(0x5cf);_0x357151[_0x44700f(0x1d3)](_0x4651de[_0x44700f(0x80b)],()=>{const _0x3059f3=_0x44700f;_0x408b78[_0x3059f3(0x2a2)](_0x519d2e),_0x408b78[_0x3059f3(0x2a2)](_0x4651de[_0x3059f3(0x79a)][_0x3059f3(0x329)]()+_0x3059f3(0x313)+_0x4651de[_0x3059f3(0x80b)]);}),Zo(),Qs();}var tr=a0_0xf534fa(0x77c),sr=os[a0_0xf534fa(0x311)][a0_0xf534fa(0x48a)](__dirname,a0_0xf534fa(0x7e8)),Ee=null;function ar(){return new Promise((_0x3826f2,_0x2d0a9d)=>{const _0x2be041=a0_0x1d3d;Le[_0x2be041(0x311)][_0x2be041(0x65e)](sr,_0x2be041(0x3ed),(_0x4d35ef,_0x289a82)=>{const _0xa497bb=_0x2be041;if(_0x4d35ef){Ee=_0x4d35ef,_0x3826f2();return;}ji[_0xa497bb(0x311)][_0xa497bb(0x845)](_0x289a82)[_0xa497bb(0x21b)]['url']===tr?(Ee=null,_0x3826f2()):(Ee=new Error(_0xa497bb(0x342)),_0x3826f2());});});}async function ir(){const _0x233105=a0_0xf534fa;try{await ar(),await Us();}catch(_0x28255a){console[_0x233105(0x1c2)](_0x233105(0x558)+_0x28255a),process[_0x233105(0x1ee)](0x1);}}ir();async function Ji(){const _0x15d3ff=a0_0xf534fa;let _0xe8df19;try{_0xe8df19=(await Fe[_0x15d3ff(0x311)][_0x15d3ff(0x71f)](_0x15d3ff(0x80a)))[_0x15d3ff(0x4e2)]['ip'];}catch(_0x560e77){console[_0x15d3ff(0x1c2)](_0x560e77);try{_0xe8df19=(await Fe[_0x15d3ff(0x311)][_0x15d3ff(0x71f)](_0x15d3ff(0x5d6)))[_0x15d3ff(0x4e2)]['ip'];}catch(_0x4f8fc3){console[_0x15d3ff(0x1c2)](_0x4f8fc3);try{_0xe8df19=(await Fe[_0x15d3ff(0x311)][_0x15d3ff(0x71f)](_0x15d3ff(0x378)))[_0x15d3ff(0x4e2)][_0x15d3ff(0x655)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x172ea3){return console[_0x15d3ff(0x1c2)](_0x172ea3),!0x1;}}}return _0xe8df19;}var Pi=0x0;async function or(){const _0x2daf18=a0_0xf534fa;let _0x437850=await new ue(b[_0x2daf18(0x71f)]('REDIS'))[_0x2daf18(0x23c)]();return console[_0x2daf18(0x2a2)](_0x2daf18(0x1fc),_0x437850[_0x2daf18(0x847)]),_0x437850['length'];}function rr(_0x2968b7){const _0x2c5eb1=a0_0xf534fa;let _0x5d0514=_0x2968b7['get'](_0x2c5eb1(0x69e))[_0x2c5eb1(0x1ef)],_0x3c20db=_0x2968b7[_0x2c5eb1(0x71f)](_0x2c5eb1(0x2ae));console[_0x2c5eb1(0x2a2)](_0x2c5eb1(0x34e),_0x5d0514),console[_0x2c5eb1(0x2a2)](_0x2c5eb1(0x8c1),_0x3c20db);let _0x46579e='',_0x2c5cee=_0x5d0514||'';if(_0x5d0514){let _0x1b820a=_0x5d0514[_0x2c5eb1(0x655)](/\/\/(.*?)\./);console[_0x2c5eb1(0x2a2)]('Resultado\x20da\x20correspondência\x20de\x20URL:',_0x1b820a),_0x1b820a&&_0x1b820a[0x1]&&(_0x46579e=_0x1b820a[0x1],console[_0x2c5eb1(0x2a2)](_0x2c5eb1(0x3a6),_0x46579e));}if(!_0x46579e&&_0x3c20db&&_0x3c20db[_0x2c5eb1(0x431)]){let _0x177d4b=_0x3c20db[_0x2c5eb1(0x431)][_0x2c5eb1(0x520)]('/');console['log'](_0x2c5eb1(0x774),_0x177d4b);let _0x315ec6=_0x177d4b[_0x177d4b[_0x2c5eb1(0x847)]-0x2];if(console['log'](_0x2c5eb1(0x848),_0x315ec6),_0x315ec6){let _0x814b37=_0x315ec6[_0x2c5eb1(0x520)]('.');console[_0x2c5eb1(0x2a2)]('Partes\x20do\x20domínio:',_0x814b37),_0x814b37[_0x2c5eb1(0x847)]>0x2&&(_0x46579e=_0x814b37[0x0],console[_0x2c5eb1(0x2a2)](_0x2c5eb1(0x3f2),_0x46579e),_0x2c5cee=''+_0x315ec6);}}return{'subdomain':_0x46579e||_0x2c5eb1(0x498),'fullURL':_0x2c5cee||_0x2c5eb1(0x4e4)};}var {subdomain:W,fullURL:js}=rr(b);console['log'](a0_0xf534fa(0x38a),W),console['log'](a0_0xf534fa(0x37b),js);async function nr(){const _0x4523b2=a0_0xf534fa;let _0x7c3df7=b[_0x4523b2(0x71f)](_0x4523b2(0x1d2)),_0x5eae95=b[_0x4523b2(0x71f)](_0x4523b2(0x3bf))[_0x4523b2(0x5f5)]['KEY'],_0x2e7e4c=b[_0x4523b2(0x71f)]('SSL_CONF'),_0x39ee3d=await Ji(),_0x5f3518=b['get'](_0x4523b2(0x69e))['PORT'],_0x484276=js;try{let _0x447684={'ip':_0x39ee3d||null,'redis_enable':_0x7c3df7?.['ENABLED']||null,'apikey':_0x5eae95||null,'ssl':_0x2e7e4c?.[_0x4523b2(0x32a)]||null,'lastupdate':qi||null,'port':_0x5f3518||null,'gitInstallError':Ee?.[_0x4523b2(0x6c6)]||null,'url':_0x484276||null,'subdomain':W};if(console['log'](_0x4523b2(0x3f1),_0x447684['ip']),_0x7c3df7&&_0x7c3df7[_0x4523b2(0x4f1)]){let _0x53f834=await or();_0x447684[_0x4523b2(0x3b0)]=_0x53f834||null;}for(let _0x22d197 in _0x447684)_0x447684[_0x4523b2(0x6f5)](_0x22d197)&&_0x22d197!=='ip'&&(_0x447684[_0x22d197]=JSON[_0x4523b2(0x6f0)](_0x447684[_0x22d197]));return(await Fe['default'][_0x4523b2(0x2d5)](_0x4523b2(0x734),_0x447684))[_0x4523b2(0x4e2)];}catch(_0x47c7b0){return console[_0x4523b2(0x1c2)](_0x47c7b0),!0x1;}}var Ls=!0x1,qi=0x262,cr=0x3,ki=0x1b7740;async function Us(){const _0x294bef=a0_0xf534fa;let _0x413f20='fora\x20do\x20git';Ee===null&&(_0x413f20=await Ji());let _0x5360fa=await nr();if(_0x5360fa){if(_0x5360fa['response'][_0x294bef(0x55c)]===!0x0){Ee===null&&_0x5360fa['response'][_0x294bef(0x1b1)]-qi>0x0&&await lr(),Ls||(Ls=!0x0,er());let _0x5f0b99=0x24*0x3c*0x3c,_0x53c85d=_0x5360fa[_0x294bef(0x386)]['segundos']>_0x5f0b99?_0x5f0b99:_0x5360fa[_0x294bef(0x386)][_0x294bef(0x562)],_0x39e728=Number(_0x53c85d);if(isNaN(_0x39e728)){console[_0x294bef(0x1c2)](_0x294bef(0x869));return;}let _0x3b326e=Math[_0x294bef(0x216)](_0x39e728/0xe10),_0xd599a3=Math[_0x294bef(0x216)](_0x39e728%0xe10/0x3c),_0x2c3730=new Date(Date[_0x294bef(0x694)]()+_0x39e728*0x3e8);setTimeout(Us,_0x39e728*0x3e8);let _0x5639c9=_0x15b201=>_0x15b201[_0x294bef(0x7f7)]()[_0x294bef(0x602)](0x2,'0'),_0x2dbd17=_0x294bef(0x603)+_0x5639c9(_0x3b326e)+_0x294bef(0x297)+_0x5639c9(_0xd599a3)+_0x294bef(0x1ab)+_0x5639c9(_0x2c3730[_0x294bef(0x52d)]())+':'+_0x5639c9(_0x2c3730[_0x294bef(0x487)]())+'.';console[_0x294bef(0x2a2)](_0x2dbd17);}else return console['log'](_0x294bef(0x829)),Ls&&(console[_0x294bef(0x2a2)](_0x294bef(0x3cf)),process[_0x294bef(0x1ee)]()),_0x294bef(0x234);}else{if(Pi++,Pi<cr)console[_0x294bef(0x2a2)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+ki/0xea60+_0x294bef(0x4c4)),setTimeout(Us,ki);else return console['error'](_0x294bef(0x3bd)),_0x294bef(0x205);}}async function lr(){const _0x2a83c7=a0_0xf534fa;console[_0x2a83c7(0x2a2)](_0x2a83c7(0x4c7)),console[_0x2a83c7(0x2a2)]('Limpando\x20logs\x20do\x20PM2...'),(0x0,is['spawn'])(_0x2a83c7(0x7e0),{'shell':!0x0})['on'](_0x2a83c7(0x75e),_0xceaef2=>{const _0x59a658=_0x2a83c7;_0xceaef2!==0x0?console['error'](_0x59a658(0x7ed)):(console[_0x59a658(0x2a2)](_0x59a658(0x1f3)),console[_0x59a658(0x2a2)](_0x59a658(0x2d6)),(0x0,is[_0x59a658(0x1fa)])(_0x59a658(0x5cc),{'shell':!0x0})['on'](_0x59a658(0x75e),_0x5820e8=>{const _0x2938bf=_0x59a658;if(_0x5820e8!==0x0)console[_0x2938bf(0x1c2)](_0x2938bf(0x2ef));else{console[_0x2938bf(0x2a2)](_0x2938bf(0x39a));let _0x305021=(0x0,is['spawn'])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x305021[_0x2938bf(0x7e1)]['on'](_0x2938bf(0x4e2),_0x22ca4c=>{const _0x3e88cc=_0x2938bf;console[_0x3e88cc(0x2a2)](_0x3e88cc(0x22a)+_0x22ca4c);}),_0x305021[_0x2938bf(0x3fb)]['on'](_0x2938bf(0x4e2),_0x5a0fba=>{const _0x2396c6=_0x2938bf;console[_0x2396c6(0x1c2)](_0x2396c6(0x5b6)+_0x5a0fba);}),_0x305021['on'](_0x2938bf(0x1ee),_0x4760a6=>{const _0x24b69a=_0x2938bf;_0x4760a6!==0x0?console[_0x24b69a(0x1c2)](_0x24b69a(0x89f)+_0x4760a6):console[_0x24b69a(0x2a2)]('Sistema\x20atualizado\x20com\x20sucesso!'),console['log'](_0x24b69a(0x510)),setTimeout(()=>process[_0x24b69a(0x1ee)](),0x2710);});}}));});}0x0&&(module['exports']={'fullURL':fullURL,'subdomain':subdomain});