const a0_0x28fd55=a0_0x472e;(function(_0x524cda,_0x4b2ccc){const _0x4312ac=a0_0x472e,_0x49a9a5=_0x524cda();while(!![]){try{const _0x4f5a21=parseInt(_0x4312ac(0x56a))/0x1+-parseInt(_0x4312ac(0xa2))/0x2+parseInt(_0x4312ac(0x6a4))/0x3+parseInt(_0x4312ac(0x51b))/0x4+parseInt(_0x4312ac(0x64f))/0x5+-parseInt(_0x4312ac(0x169))/0x6*(-parseInt(_0x4312ac(0x174))/0x7)+-parseInt(_0x4312ac(0x427))/0x8;if(_0x4f5a21===_0x4b2ccc)break;else _0x49a9a5['push'](_0x49a9a5['shift']());}catch(_0x185d05){_0x49a9a5['push'](_0x49a9a5['shift']());}}}(a0_0x2226,0x5879d));var Gr=Object[a0_0x28fd55(0x2f7)],ke=Object[a0_0x28fd55(0x523)],Br=Object['getOwnPropertyDescriptor'],Wr=Object[a0_0x28fd55(0xec)],zr=Object[a0_0x28fd55(0x4c8)],Hr=Object[a0_0x28fd55(0x102)][a0_0x28fd55(0x508)],Kr=(_0xeb18c4,_0x2995b6)=>{for(var _0x5b7129 in _0x2995b6)ke(_0xeb18c4,_0x5b7129,{'get':_0x2995b6[_0x5b7129],'enumerable':!0x0});},Us=(_0x308349,_0x55a7e4,_0x2b2ed3,_0x3d658c)=>{const _0x584fc8=a0_0x28fd55;if(_0x55a7e4&&typeof _0x55a7e4==_0x584fc8(0x661)||typeof _0x55a7e4==_0x584fc8(0x462)){for(let _0x38e5bc of Wr(_0x55a7e4))!Hr[_0x584fc8(0x2ad)](_0x308349,_0x38e5bc)&&_0x38e5bc!==_0x2b2ed3&&ke(_0x308349,_0x38e5bc,{'get':()=>_0x55a7e4[_0x38e5bc],'enumerable':!(_0x3d658c=Br(_0x55a7e4,_0x38e5bc))||_0x3d658c['enumerable']});}return _0x308349;},O=(_0x436394,_0x1095e8,_0x5fdf15)=>(_0x5fdf15=_0x436394!=null?Gr(zr(_0x436394)):{},Us(_0x1095e8||!_0x436394||!_0x436394['__esModule']?ke(_0x5fdf15,'default',{'value':_0x436394,'enumerable':!0x0}):_0x5fdf15,_0x436394)),Qr=_0x110396=>Us(ke({},a0_0x28fd55(0x1e4),{'value':!0x0}),_0x110396),co={};Kr(co,{'subdomain':()=>_s}),module[a0_0x28fd55(0x373)]=Qr(co);var jr=O(require(a0_0x28fd55(0x4c1))),Vs=require('fs'),Gs=require(a0_0x28fd55(0x6f9)),Bs=require(a0_0x28fd55(0x23e)),je=require(a0_0x28fd55(0x23e)),oe=process[a0_0x28fd55(0x2f6)](),ge=(0x0,je[a0_0x28fd55(0x597)])(oe,a0_0x28fd55(0x5f6)),qs=(0x0,je[a0_0x28fd55(0x597)])(oe,a0_0x28fd55(0x407)),tn=(0x0,je['join'])(oe,a0_0x28fd55(0x140),'auth'),ns=class{constructor(){const _0x211a3a=a0_0x28fd55;this[_0x211a3a(0x5ad)]();}[a0_0x28fd55(0x72c)](_0x58425f){const _0x39bb94=a0_0x28fd55;return this[_0x39bb94(0x5ec)][_0x58425f];}['loadEnv'](){const _0x10eda1=a0_0x28fd55;this['env']=process[_0x10eda1(0x5ec)]?.[_0x10eda1(0x189)]!==_0x10eda1(0x3e1)?this[_0x10eda1(0x564)]():this['envProcess'](),process[_0x10eda1(0x5ec)]?.['DOCKER_ENV']===_0x10eda1(0x3e1)&&(this[_0x10eda1(0x5ec)]['SERVER'][_0x10eda1(0x5e7)]=_0x10eda1(0x3d5),this[_0x10eda1(0x5ec)][_0x10eda1(0x473)][_0x10eda1(0xc4)]=Number['parseInt'](process[_0x10eda1(0x5ec)]?.['SERVER_PORT']??_0x10eda1(0x3e3)));}[a0_0x28fd55(0x564)](){const _0x159dd4=a0_0x28fd55;return(0x0,Gs['load'])((0x0,Vs['readFileSync'])((0x0,Bs[_0x159dd4(0x597)])(qs,_0x159dd4(0x63b)),{'encoding':_0x159dd4(0x673)}));}[a0_0x28fd55(0x44b)](){const _0x226fde=a0_0x28fd55;return{'SERVER':{'TYPE':process[_0x226fde(0x5ec)][_0x226fde(0x545)],'PORT':Number['parseInt'](process[_0x226fde(0x5ec)][_0x226fde(0x672)]),'URL':process[_0x226fde(0x5ec)][_0x226fde(0x607)]},'CORS':{'ORIGIN':process[_0x226fde(0x5ec)][_0x226fde(0x28c)][_0x226fde(0x5c6)](','),'METHODS':process[_0x226fde(0x5ec)][_0x226fde(0x2af)][_0x226fde(0x5c6)](','),'CREDENTIALS':process[_0x226fde(0x5ec)]?.[_0x226fde(0x62d)]===_0x226fde(0x3e1)},'SSL_CONF':{'PRIVKEY':process['env']?.[_0x226fde(0x6e7)],'FULLCHAIN':process[_0x226fde(0x5ec)]?.[_0x226fde(0x5ef)]},'STORE':{'CLEANING_INTERVAL':Number[_0x226fde(0x18e)](process['env']?.['STORE_CLEANING_TERMINAL'])?Number['parseInt'](process['env']['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process['env']?.[_0x226fde(0x5b8)]===_0x226fde(0x3e1),'CONTACTS':process[_0x226fde(0x5ec)]?.[_0x226fde(0x383)]==='true','CHATS':process[_0x226fde(0x5ec)]?.[_0x226fde(0x227)]===_0x226fde(0x3e1)},'DATABASE':{'CONNECTION':{'HOST':process[_0x226fde(0x5ec)]?.[_0x226fde(0xf7)],'PORT':Number[_0x226fde(0x10b)](process['env']?.[_0x226fde(0xf7)]),'USER':process[_0x226fde(0x5ec)][_0x226fde(0x187)],'PASSWORD':process[_0x226fde(0x5ec)]['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x226fde(0x5ec)][_0x226fde(0x157)],'DB_PREFIX_NAME':process['env'][_0x226fde(0x388)]},'ENABLED':process[_0x226fde(0x5ec)]?.[_0x226fde(0x166)]==='true'},'REDIS':{'ENABLED':process['env']?.[_0x226fde(0x4a6)]===_0x226fde(0x3e1),'URI':process[_0x226fde(0x5ec)]['REDIS_URI']||'redis://127.0.0.1:6379','PREFIX_KEY':process[_0x226fde(0x5ec)][_0x226fde(0x4f9)]||'uazapi'},'LOG':{'LEVEL':process[_0x226fde(0x5ec)]?.['LOG_LEVEL'][_0x226fde(0x5c6)](','),'COLOR':process['env']?.['LOG_COLOR']==='true'},'PROXY':Number[_0x226fde(0x10b)](process[_0x226fde(0x5ec)]?.[_0x226fde(0x389)]),'AUTHENTICATION':{'TYPE':process[_0x226fde(0x5ec)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x226fde(0x5ec)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x226fde(0x18e)](process[_0x226fde(0x5ec)]?.[_0x226fde(0x6e9)])?Number['parseInt'](process[_0x226fde(0x5ec)][_0x226fde(0x6e9)]):0xe10,'SECRET':process['env'][_0x226fde(0x32c)]}}};}},b=new ns(),Lr=O(require(a0_0x28fd55(0xf5))),he=O(require(a0_0x28fd55(0x668))),Fs=require('path'),cs=O(require('dayjs')),ls=(_0x76f209=>(_0x76f209[a0_0x28fd55(0x2d1)]=a0_0x28fd55(0x3b0),_0x76f209[a0_0x28fd55(0x708)]=a0_0x28fd55(0x6fe),_0x76f209[a0_0x28fd55(0x30d)]=a0_0x28fd55(0x644),_0x76f209[a0_0x28fd55(0x2a0)]=a0_0x28fd55(0x137),_0x76f209[a0_0x28fd55(0x14c)]=a0_0x28fd55(0x106),_0x76f209[a0_0x28fd55(0x302)]=a0_0x28fd55(0x132),_0x76f209[a0_0x28fd55(0x763)]='\x1b[30m',_0x76f209))(ls||{}),Ws=(_0x13247c=>(_0x13247c[a0_0x28fd55(0x2d1)]='\x1b[32m%s\x1b[0m',_0x13247c['DARK']='\x1b[30m%s\x1b[0m',_0x13247c[a0_0x28fd55(0x708)]=a0_0x28fd55(0x610),_0x13247c[a0_0x28fd55(0x30d)]=a0_0x28fd55(0x43e),_0x13247c['ERROR']='\x1b[31m%s\x1b[0m',_0x13247c[a0_0x28fd55(0x14c)]='\x1b[36m%s\x1b[0m',_0x13247c[a0_0x28fd55(0x302)]=a0_0x28fd55(0x233),_0x13247c))(Ws||{}),zs=(_0x25dfb0=>(_0x25dfb0[a0_0x28fd55(0x2d1)]='LOG',_0x25dfb0[a0_0x28fd55(0x30d)]=a0_0x28fd55(0x30d),_0x25dfb0[a0_0x28fd55(0x708)]='INFO',_0x25dfb0[a0_0x28fd55(0x763)]=a0_0x28fd55(0x763),_0x25dfb0[a0_0x28fd55(0x2a0)]=a0_0x28fd55(0x2a0),_0x25dfb0[a0_0x28fd55(0x14c)]='DEBUG',_0x25dfb0[a0_0x28fd55(0x302)]=a0_0x28fd55(0x302),_0x25dfb0))(zs||{}),Hs=(_0xd85450=>(_0xd85450[a0_0x28fd55(0x2d1)]=a0_0x28fd55(0xae),_0xd85450[a0_0x28fd55(0x708)]=a0_0x28fd55(0x33e),_0xd85450[a0_0x28fd55(0x30d)]=a0_0x28fd55(0x4e6),_0xd85450['DARK']=a0_0x28fd55(0x47c),_0xd85450[a0_0x28fd55(0x2a0)]=a0_0x28fd55(0x73b),_0xd85450[a0_0x28fd55(0x14c)]=a0_0x28fd55(0x70c),_0xd85450['VERBOSE']=a0_0x28fd55(0x2d7),_0xd85450))(Hs||{}),R=class{constructor(_0x5d6582=a0_0x28fd55(0x34f)){const _0x467822=a0_0x28fd55;this[_0x467822(0x2e9)]=_0x5d6582,this[_0x467822(0x58f)]=b;}['setContext'](_0x38f529){const _0x58d438=a0_0x28fd55;this[_0x58d438(0x2e9)]=_0x38f529;}[a0_0x28fd55(0x3ad)](_0x2e789e,_0x582536){const _0x6c1e12=a0_0x28fd55;let _0x5c12c9=[];this['configService'][_0x6c1e12(0x72c)](_0x6c1e12(0x2d1))['LEVEL'][_0x6c1e12(0x32d)](_0x1d699a=>_0x5c12c9[_0x6c1e12(0x474)](zs[_0x1d699a]));let _0x53ca45=typeof _0x2e789e;_0x5c12c9[_0x6c1e12(0x4d2)](_0x582536)&&(b[_0x6c1e12(0x72c)](_0x6c1e12(0x2d1))[_0x6c1e12(0x48a)]?(console[_0x6c1e12(0x125)](_0x6c1e12(0x21a)+Ws[_0x582536],_0x6c1e12(0x476),(0x0,cs['default'])()[_0x6c1e12(0xc5)](_0x6c1e12(0x447)),_0x6c1e12(0x539),ls[_0x582536]+Hs[_0x582536]+'\x1b[1m',_0x582536+_0x6c1e12(0x41f),_0x6c1e12(0x28b),this[_0x6c1e12(0x2e9)]+_0x6c1e12(0x539),ls[_0x582536],_0x53ca45!==_0x6c1e12(0x661)?_0x2e789e:'',_0x6c1e12(0x539)),_0x53ca45===_0x6c1e12(0x661)&&console['log'](_0x2e789e,'\x0a')):console['log']((0x0,cs['default'])()['format']('HH:mm:ss'),_0x582536+'\x20',''+this[_0x6c1e12(0x2e9)],_0x2e789e));}[a0_0x28fd55(0x125)](_0xdb7cf6){const _0x35de43=a0_0x28fd55;this['console'](_0xdb7cf6,_0x35de43(0x2d1));}['info'](_0x47add7){const _0x41804b=a0_0x28fd55;this[_0x41804b(0x3ad)](_0x47add7,'INFO');}[a0_0x28fd55(0x5ba)](_0x193257){const _0x5cbdb8=a0_0x28fd55;this[_0x5cbdb8(0x3ad)](_0x193257,_0x5cbdb8(0x30d));}[a0_0x28fd55(0xbc)](_0x1d3455){const _0x5263e=a0_0x28fd55;this[_0x5263e(0x3ad)](_0x1d3455,_0x5263e(0x2a0));}[a0_0x28fd55(0x77f)](_0x33d350){const _0x2d66a7=a0_0x28fd55;this[_0x2d66a7(0x3ad)](_0x33d350,_0x2d66a7(0x302));}[a0_0x28fd55(0x3d3)](_0x4c4e2c){const _0x1cec52=a0_0x28fd55;this[_0x1cec52(0x3ad)](_0x4c4e2c,_0x1cec52(0x14c));}[a0_0x28fd55(0x1ca)](_0x342b36){const _0x34d310=a0_0x28fd55;this[_0x34d310(0x3ad)](_0x342b36,'DARK');}};function Ks(){const _0x451dbc=a0_0x28fd55;process['on'](_0x451dbc(0x72d),(_0x33e498,_0x5ef2f8)=>{const _0x236123=_0x451dbc;new R(_0x236123(0x72d))[_0x236123(0xbc)]({'origin':_0x5ef2f8,'stderr':process[_0x236123(0x68e)]['fd'],'error':_0x33e498});}),process['on'](_0x451dbc(0x71e),(_0x12c0a6,_0x53496c)=>{const _0x2b9317=_0x451dbc;new R('unhandledRejection')[_0x2b9317(0xbc)]({'origin':_0x53496c,'stderr':process['stderr']['fd'],'error':_0x12c0a6});});}var Qs=O(require(a0_0x28fd55(0x269))),us=new Qs[(a0_0x28fd55(0x446))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),fe=require(a0_0x28fd55(0x3f9)),Me=O(require(a0_0x28fd55(0x3f9))),Le=new R(a0_0x28fd55(0x46c)),L=b['get'](a0_0x28fd55(0x228)),T=L[a0_0x28fd55(0x15d)]?L[a0_0x28fd55(0x52d)][a0_0x28fd55(0x593)]?Me[a0_0x28fd55(0x446)][a0_0x28fd55(0x638)](L['CONNECTION']['URI'],{'dbName':L[a0_0x28fd55(0x52d)][a0_0x28fd55(0x337)]+a0_0x28fd55(0x239)}):Me[a0_0x28fd55(0x446)][a0_0x28fd55(0x638)](a0_0x28fd55(0x538)+L[a0_0x28fd55(0x52d)]['HOST']+':'+L['CONNECTION'][a0_0x28fd55(0xc4)]+a0_0x28fd55(0x109),{'user':L[a0_0x28fd55(0x52d)][a0_0x28fd55(0x138)],'pass':L['CONNECTION'][a0_0x28fd55(0x625)],'dbName':L[a0_0x28fd55(0x52d)][a0_0x28fd55(0x337)]+'-whatsapp-api'}):null;L['ENABLED']&&Le[a0_0x28fd55(0x10d)](a0_0x28fd55(0x557)+T[a0_0x28fd55(0x4f7)]);var me=L[a0_0x28fd55(0x15d)]?L[a0_0x28fd55(0x52d)][a0_0x28fd55(0x593)]?Me[a0_0x28fd55(0x446)]['createConnection'](L[a0_0x28fd55(0x52d)][a0_0x28fd55(0x593)],{'dbName':a0_0x28fd55(0x477)}):Me[a0_0x28fd55(0x446)][a0_0x28fd55(0x638)](a0_0x28fd55(0x538)+L['CONNECTION'][a0_0x28fd55(0x768)]+':'+L[a0_0x28fd55(0x52d)][a0_0x28fd55(0xc4)]+a0_0x28fd55(0x109),{'user':L['CONNECTION'][a0_0x28fd55(0x138)],'pass':L[a0_0x28fd55(0x52d)][a0_0x28fd55(0x625)],'dbName':'cachedContacts-whatsapp'}):null;me&&Le[a0_0x28fd55(0x10d)]('ON\x20-\x20dbName:\x20'+me[a0_0x28fd55(0x4f7)]),process['on'](a0_0x28fd55(0x412),()=>{const _0x5ea24a=a0_0x28fd55;T&&T['close'](()=>{const _0x8cb765=a0_0x472e;Le['info'](_0x8cb765(0x61b));}),me&&me[_0x5ea24a(0x575)](()=>{Le['info']('CacheContacts\x20database\x20connection\x20closed.');});});var Yr=new fe[(a0_0x28fd55(0x621))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xr=new fe['Schema']({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Zr=new fe[(a0_0x28fd55(0x621))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),ei=new fe[(a0_0x28fd55(0x621))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yr],'default':[]}},{'_id':!0x1}),ti=new fe['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':ei,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Xr},'groupdata':{'type':Zr,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ys=_0x1fe4a8=>{const _0x2fa3d0=a0_0x28fd55;let _0x6097e7='z_'+_0x1fe4a8+_0x2fa3d0(0x43f);return T?.[_0x2fa3d0(0x370)]('ChatModel',ti,_0x6097e7);},Xs=require(a0_0x28fd55(0x3f9)),si=new Xs[(a0_0x28fd55(0x621))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=_0x30975c=>{const _0x4557e5=a0_0x28fd55;let _0x4fae46='z_'+_0x30975c+_0x4557e5(0x69c);return T?.['model'](_0x4557e5(0x4e5),si,_0x4fae46);},ea=require(a0_0x28fd55(0x3f9)),ds=class{},ai=new ea[(a0_0x28fd55(0x621))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ta=me?.[a0_0x28fd55(0x370)](ds[a0_0x28fd55(0x616)],ai,a0_0x28fd55(0x64e)),sa=require(a0_0x28fd55(0x3f9)),ri=new sa[(a0_0x28fd55(0x621))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),aa=_0x2c0de0=>{const _0x21c6de=a0_0x28fd55;let _0x356438='z_'+_0x2c0de0+_0x21c6de(0x310);return T?.[_0x21c6de(0x370)](_0x21c6de(0x59b),ri,_0x356438);},ra=require(a0_0x28fd55(0x3f9)),ps=class{},ii=new ra[(a0_0x28fd55(0x621))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ia=T?.[a0_0x28fd55(0x370)](ps[a0_0x28fd55(0x616)],ii,a0_0x28fd55(0x5e1)),oa=require(a0_0x28fd55(0x3f9)),hs=class{},na=new oa[(a0_0x28fd55(0x621))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});na[a0_0x28fd55(0x6a5)]('save',function(_0x2f4e8a){const _0x125b0a=a0_0x28fd55;delete this[_0x125b0a(0x307)],delete this['flowIgnoreGroups'],delete this['flowPrefixCommand'],delete this['flowStopConversation'],delete this[_0x125b0a(0x3aa)],_0x2f4e8a();});var ca=T?.[a0_0x28fd55(0x370)](hs['name'],na,'webhook'),k=require(a0_0x28fd55(0x3f9)),la=require(a0_0x28fd55(0x609)),Fe=class{},ua=new k[(a0_0x28fd55(0x621))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new k[(a0_0x28fd55(0x621))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),oi=new k['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x28fd55(0x150)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x28fd55(0x6ea)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x28fd55(0xba)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),da=new k[(a0_0x28fd55(0x621))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ni=new k[(a0_0x28fd55(0x621))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ci=new k[(a0_0x28fd55(0x621))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),bs=new k[(a0_0x28fd55(0x621))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),pa=new k[(a0_0x28fd55(0x621))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':oi},'apirequest':ni,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ha=new k[(a0_0x28fd55(0x621))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ms=class{},Je=new k[(a0_0x28fd55(0x621))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,la['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x17a5a3=a0_0x28fd55;return'!cmd_'+Math[_0x17a5a3(0x255)]()[_0x17a5a3(0x6dd)](0x24)[_0x17a5a3(0x403)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[bs],'variablesNotFound':{'type':[String]},'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ha],'replyOptions':{'type':[gs],'default':[]}});Je[a0_0x28fd55(0x6a5)]('save',function(_0x29df6b){const _0x1290de=a0_0x28fd55;let _0x6451a8=new Set(),_0x39d5d1=new Set(this[_0x1290de(0x112)]?.[_0x1290de(0x3ef)](_0x1054b9=>_0x1054b9['name'])),_0x3b4f2d=JSON['stringify'](this),_0x56db6b=/{{(?!_)([^}]*)}}/g,_0x554722;for(;(_0x554722=_0x56db6b[_0x1290de(0x39a)](_0x3b4f2d))!==null;)_0x39d5d1[_0x1290de(0x268)](_0x554722[0x1])||_0x6451a8[_0x1290de(0x6c9)](_0x554722[0x1]);_0x6451a8[_0x1290de(0x1ad)]>0x0?(console['warn'](_0x1290de(0x1dd),Array[_0x1290de(0x656)](_0x6451a8)),this[_0x1290de(0x637)]=Array['from'](_0x6451a8)):this[_0x1290de(0x637)]=[],_0x29df6b();}),Je[a0_0x28fd55(0x6a5)](a0_0x28fd55(0x3b5),function(_0x6d9851){const _0x2b8c5e=a0_0x28fd55;let _0x399d20=this['getUpdate']();if(_0x399d20&&typeof _0x399d20==_0x2b8c5e(0x661)&&_0x2b8c5e(0x499)in _0x399d20){let _0x592866=_0x399d20[_0x2b8c5e(0x499)];if(_0x592866){let _0x28fcae=new Set(),_0x209411=new Set(_0x592866[_0x2b8c5e(0x112)]?.[_0x2b8c5e(0x3ef)](_0x25c453=>_0x25c453[_0x2b8c5e(0x616)])),_0x2675d0=JSON['stringify'](_0x592866),_0x33bb13=/{{(?!_)([^}]*)}}/g,_0xa0a35c;for(;(_0xa0a35c=_0x33bb13[_0x2b8c5e(0x39a)](_0x2675d0))!==null;)_0x209411[_0x2b8c5e(0x268)](_0xa0a35c[0x1])||_0x28fcae[_0x2b8c5e(0x6c9)](_0xa0a35c[0x1]);_0x28fcae[_0x2b8c5e(0x1ad)]>0x0?(console['warn'](_0x2b8c5e(0x1dd),Array[_0x2b8c5e(0x656)](_0x28fcae)),_0x592866[_0x2b8c5e(0x637)]=Array[_0x2b8c5e(0x656)](_0x28fcae)):_0x592866[_0x2b8c5e(0x637)]=[],this[_0x2b8c5e(0x1bc)]({'$set':_0x592866});}}_0x6d9851();});var ga=_0x460ee4=>{const _0x96bb35=a0_0x28fd55;let _0x4a72e1='z_'+_0x460ee4+_0x96bb35(0x39e);return T?.[_0x96bb35(0x370)](_0x96bb35(0x6ac),Je,_0x4a72e1);},ma=T?.[a0_0x28fd55(0x370)](ms[a0_0x28fd55(0x616)],Je,a0_0x28fd55(0x364)),li=new k[(a0_0x28fd55(0x621))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[bs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ci]},{'_id':!0x1}),fs=class{},fa=new k['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[bs],'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ha],'replyOptions':{'type':[gs],'default':[]},'chatLog':li,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x28fd55(0x19f)},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),wa=_0xdc722f=>{const _0x2c17da=a0_0x28fd55;let _0x406eef='z_'+_0xdc722f+'_FlowHistorico';return T?.[_0x2c17da(0x370)](_0x2c17da(0x6cc),fa,_0x406eef);},ya=T?.[a0_0x28fd55(0x370)](fs[a0_0x28fd55(0x616)],fa,'flowConversation'),ws=class{},ui=new k[(a0_0x28fd55(0x621))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),di=new k[(a0_0x28fd55(0x621))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ba=new k['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x28fd55(0x119)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':di,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ui],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),Sa=_0x23167e=>{const _0x4cddb0=a0_0x28fd55;let _0x31dc61='z_'+_0x23167e+_0x4cddb0(0x626);return T?.[_0x4cddb0(0x370)](_0x4cddb0(0x28a),ba,_0x31dc61);},Ma=T?.[a0_0x28fd55(0x370)](ws['name'],ba,a0_0x28fd55(0x494)),ys=class{},pi=new k[(a0_0x28fd55(0x621))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'command':{'type':String,'unique':!0x0},'message':{'type':String}}),hi=new k[(a0_0x28fd55(0x621))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),gi=new k[(a0_0x28fd55(0x621))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),mi=new k[(a0_0x28fd55(0x621))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),fi=new k[(a0_0x28fd55(0x621))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[mi]},'customFields':{'type':[hi]},'flowConfig':{'type':gi,'default':{}},'autoCompleteMessages':{'type':[pi],'default':[]}}),Ce=T?.[a0_0x28fd55(0x370)](ys[a0_0x28fd55(0x616)],fi,a0_0x28fd55(0x44a)),Ca=require(a0_0x28fd55(0x3f9)),wi=new Ca[(a0_0x28fd55(0x621))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0x35b5d5=>{const _0x38389a=a0_0x28fd55;let _0x4132da='z_'+_0x35b5d5+'_Labels';return T?.[_0x38389a(0x370)](_0x38389a(0x164),wi,_0x4132da);},x=class{constructor(_0x5d6a5e){const _0x129209=a0_0x28fd55;this[_0x129209(0x5b5)]=_0x5d6a5e[_0x129209(0x72c)](_0x129209(0x228));}};function A(_0x604c49){const _0x53e668=a0_0x28fd55;let _0x2aa50c={};for(let [_0x476e44,_0x47a92e]of Object[_0x53e668(0x55c)](_0x604c49))if(typeof _0x47a92e=='object'&&!Array[_0x53e668(0x560)](_0x47a92e)){for(let [_0x2305ea,_0x42f3a0]of Object[_0x53e668(0x55c)](_0x47a92e))_0x2aa50c[_0x476e44+'.'+_0x2305ea]=_0x42f3a0;}else _0x2aa50c[_0x476e44]=_0x47a92e;return _0x2aa50c;}var Ue=class{constructor(_0x1ad14b,_0x4ac15e,_0x20384c,_0xb70765,_0xe24eb8,_0x5419ec,_0x486c9b,_0x1a4b44,_0x4d7e76,_0x2ef028,_0x197ab0,_0x3811f8){const _0x233aff=a0_0x28fd55;this[_0x233aff(0x559)]=_0x1ad14b,this[_0x233aff(0x17e)]=_0x4ac15e,this[_0x233aff(0x18d)]=_0x20384c,this['cacheContact']=_0xb70765,this[_0x233aff(0x299)]=_0xe24eb8,this[_0x233aff(0x15b)]=_0x5419ec,this['flow']=_0x486c9b,this[_0x233aff(0x42b)]=_0x1a4b44,this['label']=_0x4d7e76,this[_0x233aff(0x22e)]=_0x2ef028,this[_0x233aff(0x59e)]=_0x197ab0,this[_0x233aff(0x113)]=_0x3811f8;}get[a0_0x28fd55(0x60b)](){const _0x2df1d7=a0_0x28fd55;return this[_0x2df1d7(0x113)];}},qe=class{},Ve=class extends x{[a0_0x28fd55(0x5bc)](_0x278e46){return aa(_0x278e46);}async[a0_0x28fd55(0x278)](_0x3d084d,_0x2263bb){const _0x37d1a2=a0_0x28fd55;if(_0x3d084d[_0x37d1a2(0x479)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x37d1a2(0x5bc)](_0x2263bb)['insertMany']([..._0x3d084d]))[_0x37d1a2(0x479)]};}catch(_0x40f3da){return _0x40f3da;}}async[a0_0x28fd55(0x167)](_0x46224e,_0x427f24){const _0x3f9b01=a0_0x28fd55;try{let _0x5c1c0b=this[_0x3f9b01(0x5bc)](_0x427f24),_0x3bccb3=A(_0x46224e[_0x3f9b01(0x33b)]);return await _0x5c1c0b[_0x3f9b01(0x167)](_0x3bccb3)['sort']({'messageTimestamp':-0x1})[_0x3f9b01(0x771)](_0x46224e?.[_0x3f9b01(0x771)]??0x0)[_0x3f9b01(0x483)]();}catch{return[];}}async[a0_0x28fd55(0x71f)](_0x229125,_0x3e205a){const _0x1eaf82=a0_0x28fd55;try{let _0x4ee6ec=this[_0x1eaf82(0x5bc)](_0x3e205a),_0x5bfd3a=A(_0x229125[_0x1eaf82(0x33b)]);await _0x4ee6ec['deleteMany'](_0x5bfd3a);}catch(_0x322a9f){console[_0x1eaf82(0xbc)](_0x322a9f);}}async[a0_0x28fd55(0x74b)](_0x364393,_0x35c729,_0x3e971c){const _0x16c928=a0_0x28fd55;try{let _0x25c28b=this[_0x16c928(0x5bc)](_0x3e971c),_0x511a5f=A(_0x364393[_0x16c928(0x33b)]);return await _0x25c28b[_0x16c928(0x3b5)](_0x511a5f,{'$set':_0x35c729},{'new':!0x0});}catch(_0x6f3ff3){throw console[_0x16c928(0xbc)](_0x6f3ff3),_0x6f3ff3;}}async['insertMany'](_0x23754b,_0x20d285){const _0x3a8c11=a0_0x28fd55;if(_0x23754b['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x3a8c11(0x5bc)](_0x20d285)['insertMany']([..._0x23754b]))[_0x3a8c11(0x479)]};}catch(_0x43cbb2){return console[_0x3a8c11(0x125)](_0x3a8c11(0x5c1),_0x43cbb2),_0x43cbb2;}}async[a0_0x28fd55(0x4a3)](_0x2ce4dd){const _0x39cb49=a0_0x28fd55;try{return await this[_0x39cb49(0x5bc)](_0x2ce4dd)[_0x39cb49(0x1f8)][_0x39cb49(0x6b9)](),{'success':!0x0};}catch(_0x4cb367){return console[_0x39cb49(0xbc)](_0x4cb367),{'success':!0x1,'error':_0x4cb367};}}},As=O(require(a0_0x28fd55(0x6b6))),f=O(require(a0_0x28fd55(0x5dc))),Oe=require('fs'),F=O(require(a0_0x28fd55(0x23e))),K=O(require('axios')),Or=require(a0_0x28fd55(0x609)),Ar=O(require(a0_0x28fd55(0x1be))),$r=O(require('qrcode-terminal')),va=[a0_0x28fd55(0x443),a0_0x28fd55(0x5bd),a0_0x28fd55(0x445),'videoMessage','stickerMessage'],Na=[a0_0x28fd55(0x650),a0_0x28fd55(0x195),'viewOnceMessage','viewOnceMessageV2'],$s=require('os'),Pt=O(require(a0_0x28fd55(0x6ef))),Ae=require(a0_0x28fd55(0x794)),kt=require(a0_0x28fd55(0x2a2)),re=O(require(a0_0x28fd55(0x3f9))),P=require('class-validator'),we=class{constructor(_0x12abbe,_0xf5219d,_0x127828){const _0x3ec1c1=a0_0x28fd55;this[_0x3ec1c1(0x39c)]=_0x12abbe,this[_0x3ec1c1(0x78f)]=_0xf5219d,this[_0x3ec1c1(0x616)]=_0x127828;}},Ge=class{},Be=class{},Ee=class{},We=class{},ze=class{},ye=class{},He=class{},Ke=class{},Qe=class{},Ye=class{},At=O(require(a0_0x28fd55(0x668))),Ra=require('fs'),Ta=require(a0_0x28fd55(0x23e));async function Xe(_0x1a21d9){const _0x291d84=a0_0x28fd55;let _0x1726fb=G[_0x291d84(0x130)][_0x1a21d9];if(L[_0x291d84(0x15d)]){let _0x2bf398=T['getClient']()['db'](L[_0x291d84(0x52d)][_0x291d84(0x337)]+_0x291d84(0x36b))[_0x291d84(0x1f8)](_0x1a21d9);return _0x1726fb||(await _0x2bf398['find']({})['toArray']())[_0x291d84(0x479)]>0x0;}return _0x1726fb||(0x0,Ra['existsSync'])((0x0,Ta[_0x291d84(0x597)])(ge,_0x1a21d9));}async function Oa(_0x371d36,_0x528e6e,_0x358a12){const _0x1e82e0=a0_0x28fd55;if(_0x371d36['originalUrl']['includes'](_0x1e82e0(0x65f))||_0x371d36[_0x1e82e0(0x336)]['includes'](_0x1e82e0(0x33f))||_0x371d36[_0x1e82e0(0x336)][_0x1e82e0(0x4d2)](_0x1e82e0(0xd3))||_0x371d36[_0x1e82e0(0x336)][_0x1e82e0(0x4d2)](_0x1e82e0(0x2dd))||_0x371d36[_0x1e82e0(0x336)][_0x1e82e0(0x4d2)](_0x1e82e0(0x34a))||_0x371d36[_0x1e82e0(0x336)][_0x1e82e0(0x4d2)](_0x1e82e0(0x43c))||_0x371d36[_0x1e82e0(0x336)][_0x1e82e0(0x4d2)](_0x1e82e0(0x1d3)))return _0x358a12();let _0x37c81d=_0x371d36[_0x1e82e0(0x159)];if(!_0x37c81d?.[_0x1e82e0(0x1e9)])throw new m(_0x1e82e0(0x73a));if(!await Xe(_0x37c81d[_0x1e82e0(0x1e9)]))throw new U(_0x1e82e0(0x480)+_0x37c81d[_0x1e82e0(0x1e9)]+_0x1e82e0(0x3e9));_0x358a12();}async function Aa(_0x2c9d16,_0xd39df6,_0x34cdce){const _0x3b55fa=a0_0x28fd55;if(_0x2c9d16[_0x3b55fa(0x336)][_0x3b55fa(0x4d2)](_0x3b55fa(0x65f))){let _0x3f00f4=_0x2c9d16['body'];if(await Xe(_0x3f00f4[_0x3b55fa(0x1e9)]))throw new Q('This\x20name\x20'+_0x3f00f4[_0x3b55fa(0x1e9)]+_0x3b55fa(0x27b));G['waInstances'][_0x3f00f4[_0x3b55fa(0x1e9)]]&&delete G[_0x3b55fa(0x130)][_0x3f00f4[_0x3b55fa(0x1e9)]];}_0x34cdce();}var $a=require(a0_0x28fd55(0xe3)),Ia=O(require('jsonwebtoken')),Ze=a0_0x28fd55(0xc0),bi=new R(a0_0x28fd55(0x576));async function Si(_0x237bed,_0x26668e,_0x31efb8){const _0x70cd1b=a0_0x28fd55;let _0x58148e=_0x237bed[_0x70cd1b(0x72c)](_0x70cd1b(0x36a));if(_0x58148e&&b[_0x70cd1b(0x72c)](_0x70cd1b(0x213))[_0x70cd1b(0x25d)][_0x70cd1b(0x72b)]!==_0x58148e)throw new te();if(b['get']('AUTHENTICATION')['API_KEY'][_0x70cd1b(0x72b)]===_0x58148e)return _0x31efb8();if((_0x237bed[_0x70cd1b(0x336)]['includes']('/instance/create')||_0x237bed[_0x70cd1b(0x336)][_0x70cd1b(0x4d2)](_0x70cd1b(0x33f)))&&!_0x58148e)throw new Q(_0x70cd1b(0x3c4),_0x70cd1b(0x449));let _0x159f9d=b[_0x70cd1b(0x72c)](_0x70cd1b(0x213))['JWT'];try{let [_0x1a5ed8,_0x328f48]=_0x237bed['get'](_0x70cd1b(0x56c))['split']('\x20');if(_0x1a5ed8[_0x70cd1b(0x1d7)]()!=='bearer')throw new te();if(!(0x0,$a[_0x70cd1b(0x5f9)])(_0x328f48))throw new te();let _0x14805b=_0x237bed[_0x70cd1b(0x159)],_0x568213=Ia[_0x70cd1b(0x446)][_0x70cd1b(0x47f)](_0x328f48,_0x159f9d['SECRET'],{'ignoreExpiration':_0x159f9d[_0x70cd1b(0x27e)]===0x0});if(_0x14805b[_0x70cd1b(0x1e9)]!==_0x568213['instanceName']||Ze!==_0x568213[_0x70cd1b(0x5b4)])throw new te();return _0x31efb8();}catch(_0x50e399){throw bi[_0x70cd1b(0xbc)](_0x50e399),new te();}}async function Mi(_0x2c4f00,_0x4af904,_0x27491e){const _0xfa0733=a0_0x28fd55;let _0x4d418e=b[_0xfa0733(0x72c)]('AUTHENTICATION')[_0xfa0733(0x25d)],_0x4e55da=_0x2c4f00[_0xfa0733(0x72c)]('apikey');if(_0x4d418e[_0xfa0733(0x72b)]===_0x4e55da)return _0x27491e();if(_0x2c4f00[_0xfa0733(0x336)]['includes'](_0xfa0733(0x65f))){let _0x4771e5=et,_0x4489e5=_0x2c4f00[_0xfa0733(0x26f)]['instanceName'];if(_0x4771e5&&_0x4489e5[_0xfa0733(0x1d7)]()[_0xfa0733(0x417)](_0x4771e5[_0xfa0733(0x1d7)]()))return _0x27491e();if(!_0x4e55da)throw new Q(_0xfa0733(0x3c4),'The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x2c4f00['originalUrl'][_0xfa0733(0x4d2)]('/instance/fetchInstances')&&!_0x4e55da)throw new Q(_0xfa0733(0x3c4),_0xfa0733(0x449));if(_0x2c4f00['originalUrl']['includes'](_0xfa0733(0xd3))&&!_0x4e55da)throw new Q(_0xfa0733(0x3c4),_0xfa0733(0x449));if(_0x2c4f00[_0xfa0733(0x336)][_0xfa0733(0x4d2)]('/config')&&!_0x4e55da)throw new Q(_0xfa0733(0x3c4),_0xfa0733(0x449));try{let _0x12ba3c=_0x2c4f00[_0xfa0733(0x159)],_0x42b519=await ue[_0xfa0733(0x15b)][_0xfa0733(0x167)](_0x12ba3c[_0xfa0733(0x1e9)]);if(_0x42b519&&_0x42b519[_0xfa0733(0x36a)]===_0x4e55da)return _0x27491e();}catch{}throw new te();}var xa={'jwt':Si,'apikey':Mi},pr=require(a0_0x28fd55(0x668)),v=require(a0_0x28fd55(0x609)),E=(..._0x2eb7ed)=>{const _0x503b98=a0_0x28fd55;let _0xfc184b={};return _0x2eb7ed[_0x503b98(0x32d)](_0x436bb2=>_0xfc184b[_0x436bb2]={'minLength':0x1,'description':'The\x20\x22'+_0x436bb2+_0x503b98(0x3c2)}),{'if':{'propertyNames':{'enum':[..._0x2eb7ed]}},'then':{'properties':_0xfc184b}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'instanceName':{'type':a0_0x28fd55(0x660)}},...E(a0_0x28fd55(0x1e9))},dc={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'oldToken':{'type':a0_0x28fd55(0x660)}},'required':[a0_0x28fd55(0x551)],...E(a0_0x28fd55(0x551))},pc={'properties':{'key':{'type':a0_0x28fd55(0x661),'properties':{'id':{'type':a0_0x28fd55(0x660)},'remoteJid':{'type':a0_0x28fd55(0x660)},'fromMe':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]}},'required':['id',a0_0x28fd55(0x5dd),a0_0x28fd55(0x602)],...E('id',a0_0x28fd55(0x5dd))},'message':{'type':a0_0x28fd55(0x661)}}},Y={'properties':{'delay':{'type':a0_0x28fd55(0x786),'description':a0_0x28fd55(0x74f)},'presence':{'type':a0_0x28fd55(0x660),'enum':[a0_0x28fd55(0x69e),a0_0x28fd55(0x732),'composing',a0_0x28fd55(0x13e),'paused']}}},z={'type':a0_0x28fd55(0x660),'pattern':'^\x5cd+[\x5c.@\x5cw-]+','description':a0_0x28fd55(0x290)},Da={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'textMessage':{'type':a0_0x28fd55(0x661),'properties':{'text':{'type':a0_0x28fd55(0x660)}},'required':[a0_0x28fd55(0xdd)],...E('text')}},'required':['textMessage',a0_0x28fd55(0x461)]},_a={'type':'string','pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':'Invalid\x20format'},hc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{..._a},'options':{...Y},'textMessage':{'type':a0_0x28fd55(0x661),'properties':{'text':{'type':'string'}},'required':[a0_0x28fd55(0xdd)],...E('text')}},'required':['textMessage',a0_0x28fd55(0x461)]},gc={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'number':{..._a},'options':{...Y},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x28fd55(0x660),'enum':['image',a0_0x28fd55(0x533),'video','audio']},'media':{'type':a0_0x28fd55(0x660)},'fileName':{'type':a0_0x28fd55(0x660)},'caption':{'type':a0_0x28fd55(0x660)}},'required':['mediatype','media'],...E('fileName',a0_0x28fd55(0x372),'media')}},'required':['mediaMessage',a0_0x28fd55(0x461)]},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x28fd55(0x661),'properties':{'image':{'type':a0_0x28fd55(0x660)}},'required':['image'],...E(a0_0x28fd55(0x76a))}},'required':['stickerMessage','number']},ka={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'statusMessage':{'type':a0_0x28fd55(0x661),'properties':{'type':{'type':a0_0x28fd55(0x660),'enum':[a0_0x28fd55(0xdd),a0_0x28fd55(0x76a),a0_0x28fd55(0x6c8),a0_0x28fd55(0x1d5)]},'content':{'type':a0_0x28fd55(0x660)},'caption':{'type':a0_0x28fd55(0x660)},'backgroundColor':{'type':a0_0x28fd55(0x660)},'font':{'type':a0_0x28fd55(0x786),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x28fd55(0xc7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28fd55(0x660),'pattern':a0_0x28fd55(0x1bf),'description':a0_0x28fd55(0x3d1)}},'allContacts':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]}},'required':[a0_0x28fd55(0x68c),a0_0x28fd55(0x4b5)],...E(a0_0x28fd55(0x68c),a0_0x28fd55(0x4b5))}},'required':[a0_0x28fd55(0x6ae)]},ja={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0x28fd55(0x661),'properties':{'mediatype':{'type':a0_0x28fd55(0x660),'enum':[a0_0x28fd55(0x76a),a0_0x28fd55(0x533),a0_0x28fd55(0x1d5),a0_0x28fd55(0x6c8)]},'media':{'type':a0_0x28fd55(0x660)},'fileName':{'type':'string'},'caption':{'type':a0_0x28fd55(0x660)}},'required':[a0_0x28fd55(0x70d),a0_0x28fd55(0x5f7)],...E(a0_0x28fd55(0x6d2),a0_0x28fd55(0x372),a0_0x28fd55(0x5f7))}},'required':[a0_0x28fd55(0x4a1),a0_0x28fd55(0x461)]},La={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x28fd55(0x660)}},'required':[a0_0x28fd55(0x6c8)],...E(a0_0x28fd55(0x6c8))}},'required':[a0_0x28fd55(0x445),'number']},Fa={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'number':{...z},'pollMessage':{'type':a0_0x28fd55(0x661),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x28fd55(0x461)},'values':{'type':a0_0x28fd55(0xc7),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x28fd55(0x244),a0_0x28fd55(0x509)],...E(a0_0x28fd55(0x616),a0_0x28fd55(0x244),'values')}},'required':[a0_0x28fd55(0x461),a0_0x28fd55(0x356)]},Ja={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'number':{...z},'menuMessage':{'type':a0_0x28fd55(0x661),'properties':{'text':{'type':a0_0x28fd55(0x660)},'choices':{'type':a0_0x28fd55(0xc7),'minItems':0x2,'uniqueItems':!0x0}},'required':['text','choices'],...E('text',a0_0x28fd55(0xee))}},'required':[a0_0x28fd55(0x461),a0_0x28fd55(0x588)]},Ua={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x28fd55(0x661),'properties':{'title':{'type':a0_0x28fd55(0x660)},'description':{'type':a0_0x28fd55(0x660)},'footerText':{'type':a0_0x28fd55(0x660)},'buttons':{'type':a0_0x28fd55(0xc7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28fd55(0x661),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x28fd55(0x660)}},'required':[a0_0x28fd55(0x451),a0_0x28fd55(0x198)],...E(a0_0x28fd55(0x451),a0_0x28fd55(0x198))}},'mediaMessage':{'type':a0_0x28fd55(0x661),'properties':{'media':{'type':a0_0x28fd55(0x660)},'fileName':{'type':a0_0x28fd55(0x660)},'mediatype':{'type':a0_0x28fd55(0x660),'enum':['image','document',a0_0x28fd55(0x1d5)]}},'required':['media','mediatype'],...E(a0_0x28fd55(0x5f7),a0_0x28fd55(0x6d2))}},'required':[a0_0x28fd55(0x618),a0_0x28fd55(0xb0)],...E(a0_0x28fd55(0x618),a0_0x28fd55(0x6ab))}},'required':[a0_0x28fd55(0x461),a0_0x28fd55(0x2e4)]},qa={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':a0_0x28fd55(0x661),'properties':{'latitude':{'type':a0_0x28fd55(0x461)},'longitude':{'type':'number'},'name':{'type':'string'},'address':{'type':a0_0x28fd55(0x660)}},'required':[a0_0x28fd55(0x4b9),a0_0x28fd55(0x172)],...E(a0_0x28fd55(0x616),a0_0x28fd55(0x629))}},'required':[a0_0x28fd55(0x461),a0_0x28fd55(0x363)]},Va={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'number':{...z},'options':{...Y},'listMessage':{'type':a0_0x28fd55(0x661),'properties':{'title':{'type':a0_0x28fd55(0x660)},'description':{'type':'string'},'footerText':{'type':a0_0x28fd55(0x660)},'buttonText':{'type':a0_0x28fd55(0x660)},'sections':{'type':a0_0x28fd55(0xc7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'rows':{'type':a0_0x28fd55(0xc7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28fd55(0x661),'properties':{'title':{'type':a0_0x28fd55(0x660)},'description':{'type':a0_0x28fd55(0x660)},'rowId':{'type':a0_0x28fd55(0x660)}},'required':[a0_0x28fd55(0x618),a0_0x28fd55(0x784)],...E(a0_0x28fd55(0x618),a0_0x28fd55(0x784))}}},'required':[a0_0x28fd55(0x618),a0_0x28fd55(0xb3)],...E(a0_0x28fd55(0x618))}}},'required':['title','description','buttonText',a0_0x28fd55(0x54b)],...E(a0_0x28fd55(0x618),'description',a0_0x28fd55(0x451),a0_0x28fd55(0x76f))}},'required':[a0_0x28fd55(0x461),a0_0x28fd55(0x314)]},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':a0_0x28fd55(0xc7),'items':{'type':'object','properties':{'fullName':{'type':a0_0x28fd55(0x660)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x28fd55(0x42d),a0_0x28fd55(0x147)],...E(a0_0x28fd55(0x42d))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number','contactMessage']},Ba={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x28fd55(0x661),'properties':{'id':{'type':a0_0x28fd55(0x660)},'remoteJid':{'type':a0_0x28fd55(0x660)},'fromMe':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]}},'required':['id',a0_0x28fd55(0x5dd),a0_0x28fd55(0x602)],...E('id',a0_0x28fd55(0x5dd))},'reaction':{'type':a0_0x28fd55(0x660)}},'required':[a0_0x28fd55(0x475),a0_0x28fd55(0x19e)],...E(a0_0x28fd55(0x19e))}},'required':[a0_0x28fd55(0x1d8)]},Wa={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28fd55(0x660),'pattern':a0_0x28fd55(0x1bf),'description':a0_0x28fd55(0x11d)}}}},za={'$id':(0x0,v['v4'])(),'type':'object','properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x28fd55(0x660)},'fromMe':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x28fd55(0x660)}},'required':['id',a0_0x28fd55(0x602),a0_0x28fd55(0x5dd)],...E('id','remoteJid')}}},'required':[a0_0x28fd55(0x49d)]},Ha={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'privacySettings':{'type':a0_0x28fd55(0x661),'properties':{'readreceipts':{'type':'string','enum':[a0_0x28fd55(0x45f),'none']},'profile':{'type':a0_0x28fd55(0x660),'enum':[a0_0x28fd55(0x45f),a0_0x28fd55(0x77d),a0_0x28fd55(0x700),'none']},'status':{'type':'string','enum':[a0_0x28fd55(0x45f),a0_0x28fd55(0x77d),'contact_blacklist','none']},'online':{'type':'string','enum':[a0_0x28fd55(0x45f),a0_0x28fd55(0x5ea)]},'last':{'type':'string','enum':[a0_0x28fd55(0x45f),'contacts',a0_0x28fd55(0x700),a0_0x28fd55(0x689)]},'groupadd':{'type':a0_0x28fd55(0x660),'enum':[a0_0x28fd55(0x45f),a0_0x28fd55(0x77d),'contact_blacklist',a0_0x28fd55(0x689)]}},'required':[a0_0x28fd55(0x31e),a0_0x28fd55(0x636),a0_0x28fd55(0x180),a0_0x28fd55(0x45e),a0_0x28fd55(0x6bc),a0_0x28fd55(0x197)],...E('readreceipts',a0_0x28fd55(0x636),a0_0x28fd55(0x180),a0_0x28fd55(0x45e),a0_0x28fd55(0x6bc),a0_0x28fd55(0x197))}},'required':[a0_0x28fd55(0x11e)]},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'lastMessage':{'type':a0_0x28fd55(0x661),'properties':{'key':{'type':a0_0x28fd55(0x661),'properties':{'id':{'type':a0_0x28fd55(0x660)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]}},'required':['id',a0_0x28fd55(0x602),a0_0x28fd55(0x5dd)],...E('id',a0_0x28fd55(0x5dd))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':['key'],...E(a0_0x28fd55(0x259))},'archive':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]}},'required':[a0_0x28fd55(0x6bb),a0_0x28fd55(0x706)]},Qa={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'id':{'type':a0_0x28fd55(0x660)},'fromMe':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x28fd55(0x660)},'participant':{'type':'string'}},'required':['id','fromMe',a0_0x28fd55(0x5dd)],...E('id','remoteJid',a0_0x28fd55(0x555))},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':a0_0x28fd55(0x660),'minLength':0x1}},...E(a0_0x28fd55(0x53b),'id',a0_0x28fd55(0x6ff))}}},Xa={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'name':{'type':a0_0x28fd55(0x660)}},...E('name')},Za={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'status':{'type':'string'}},...E(a0_0x28fd55(0x180))},ve={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{'type':a0_0x28fd55(0x660)},'picture':{'type':a0_0x28fd55(0x660)}}},er={'type':a0_0x28fd55(0x661),'properties':{'wuid':{'type':a0_0x28fd55(0x660)},'name':{'type':a0_0x28fd55(0x660)},'picture':{'type':a0_0x28fd55(0x660)},'status':{'type':a0_0x28fd55(0x660)},'isBusiness':{'type':a0_0x28fd55(0x2a6)}}},tr={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'where':{'type':a0_0x28fd55(0x661),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x28fd55(0x602),a0_0x28fd55(0x5dd),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x28fd55(0x660),'minLength':0x1,'description':a0_0x28fd55(0x6ad)},'id':{'type':a0_0x28fd55(0x660),'minLength':0x1,'description':a0_0x28fd55(0x6ad)},'fromMe':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x28fd55(0x661)}},...E(a0_0x28fd55(0x53b))},'limit':{'type':a0_0x28fd55(0x786)}}},mc={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'where':{'type':a0_0x28fd55(0x661),'properties':{'_id':{'type':a0_0x28fd55(0x660)},'remoteJid':{'type':'string'},'id':{'type':'string'},'fromMe':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x28fd55(0x660)},'status':{'type':a0_0x28fd55(0x660),'enum':[a0_0x28fd55(0x2a0),a0_0x28fd55(0x6f8),a0_0x28fd55(0x5d4),a0_0x28fd55(0x77c),'READ',a0_0x28fd55(0xad)]}},...E(a0_0x28fd55(0x53b),'remoteJid','id',a0_0x28fd55(0x180))},'limit':{'type':a0_0x28fd55(0x786)}}},sr={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'number':{...z},'presence':{'type':a0_0x28fd55(0x660),'enum':[a0_0x28fd55(0x69e),a0_0x28fd55(0x732),a0_0x28fd55(0x595),a0_0x28fd55(0x13e),'paused']}},'required':[a0_0x28fd55(0x1c5),a0_0x28fd55(0x461)]},ar={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'subject':{'type':a0_0x28fd55(0x660)},'description':{'type':a0_0x28fd55(0x660)},'profilePicture':{'type':a0_0x28fd55(0x660)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28fd55(0x660),'minLength':0xa,'pattern':a0_0x28fd55(0x502),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x28fd55(0x701),'participants'],...E('subject',a0_0x28fd55(0x6ab),a0_0x28fd55(0x2ab))},Ne={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'groupJid':{'type':'string','pattern':a0_0x28fd55(0x663)}},'required':[a0_0x28fd55(0x6f4)],...E(a0_0x28fd55(0x6f4))},rr={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x28fd55(0x660),'enum':[a0_0x28fd55(0x6c9),a0_0x28fd55(0x2cd),a0_0x28fd55(0x615),a0_0x28fd55(0x3ff),a0_0x28fd55(0x596),a0_0x28fd55(0x257)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x28fd55(0x660),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x28fd55(0x23c)}}},'required':[a0_0x28fd55(0x6f4),'action',a0_0x28fd55(0x463)],...E(a0_0x28fd55(0x6f4),a0_0x28fd55(0x2ec))},ir={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x28fd55(0x461),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid','expiration'],...E('groupJid',a0_0x28fd55(0x457))},or={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'groupJid':{'type':a0_0x28fd55(0x660)},'image':{'type':'string'}},'required':['groupJid','image'],...E(a0_0x28fd55(0x6f4),a0_0x28fd55(0x76a))},nr={'$id':(0x0,v['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x28fd55(0x660)},'description':{'type':'string'}},'required':[a0_0x28fd55(0x6f4),a0_0x28fd55(0x6ab)],...E(a0_0x28fd55(0x6f4),a0_0x28fd55(0x6ab))},cr={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x28fd55(0x660)}},'required':['groupJid',a0_0x28fd55(0x616)],...E(a0_0x28fd55(0x6f4),a0_0x28fd55(0x616))},lr={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'groupJid':{'type':'string'},'setting':{'type':'string','enum':[a0_0x28fd55(0x27d),a0_0x28fd55(0x2b4),a0_0x28fd55(0x572),'locked']}},'required':[a0_0x28fd55(0x6f4),a0_0x28fd55(0x23a)],...E(a0_0x28fd55(0x6f4),a0_0x28fd55(0x23a))},ur={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'groupJid':{'type':a0_0x28fd55(0x660)},'restrict':{'type':a0_0x28fd55(0x2a6)},'announce':{'type':'boolean'},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0x28fd55(0x786),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x28fd55(0x660)},'description':{'type':'string'},'image':{'type':a0_0x28fd55(0x660)}}},Ss={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'inviteCode':{'type':a0_0x28fd55(0x660)}},'required':[a0_0x28fd55(0x75a)],...E(a0_0x28fd55(0x75a))},dr={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'url':{'type':'string'},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['url',a0_0x28fd55(0x690)]},fc={'$id':(0x0,v['v4'])(),'type':a0_0x28fd55(0x661),'properties':{'local_map':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x28fd55(0x2a6),'enum':[!0x0,!0x1]}},'required':[a0_0x28fd55(0x4e4),a0_0x28fd55(0x460),a0_0x28fd55(0x770),a0_0x28fd55(0xa9),a0_0x28fd55(0x414),'MESSAGES_UPSERT','SEND_MESSAGE',a0_0x28fd55(0x359),a0_0x28fd55(0xdf),a0_0x28fd55(0x515),a0_0x28fd55(0x62c),a0_0x28fd55(0x66a),a0_0x28fd55(0x293),a0_0x28fd55(0x287),'CHATS_DELETE',a0_0x28fd55(0x382),'GROUPS_UPSERT',a0_0x28fd55(0x712),a0_0x28fd55(0x521)],...E(a0_0x28fd55(0x4e4),a0_0x28fd55(0x460),a0_0x28fd55(0x770),'MESSAGES_SET',a0_0x28fd55(0x414),'MESSAGES_UPSERT','SEND_MESSAGE',a0_0x28fd55(0x359),a0_0x28fd55(0xdf),a0_0x28fd55(0x515),a0_0x28fd55(0x62c),a0_0x28fd55(0x66a),a0_0x28fd55(0x293),'CHATS_UPDATE',a0_0x28fd55(0x28d),a0_0x28fd55(0x382),'GROUPS_UPSERT',a0_0x28fd55(0x712),'GROUP_PARTICIPANTS_UPDATE')},tt=class{},st=class extends x{[a0_0x28fd55(0x422)](_0x10e27e){return Zs(_0x10e27e);}async[a0_0x28fd55(0x278)](_0x4e9dee){const _0x5ef317=a0_0x28fd55;if(_0x4e9dee['length']!==0x0)try{return{'insertCount':(await this[_0x5ef317(0x422)](_0x4e9dee[0x0]['owner'])[_0x5ef317(0x496)]([..._0x4e9dee]))[_0x5ef317(0x479)]};}catch(_0x5cded1){return _0x5cded1;}}async['delete'](_0x41e364,_0x514618){const _0x48e6d1=a0_0x28fd55;try{return{'deletedCount':(await this[_0x48e6d1(0x422)](_0x514618)[_0x48e6d1(0xbd)]({..._0x41e364['where']}))[_0x48e6d1(0x342)]};}catch(_0x59ed76){return{'error':_0x59ed76?.['toString']()};}}async[a0_0x28fd55(0x74b)](_0x2d97a1,_0x38483e){const _0x1ef329=a0_0x28fd55;try{if(_0x2d97a1[_0x1ef329(0x479)]===0x0)return;let _0x5c461b=this['getContactModelForOwner'](_0x38483e),_0x4a5fed=_0x2d97a1['map'](_0x1f86b3=>({'updateOne':{'filter':{'_id':_0x1f86b3[_0x1ef329(0x53b)],'owner':_0x38483e},'update':{..._0x1f86b3}}})),{modifiedCount:_0x744fcd}=await _0x5c461b[_0x1ef329(0x68a)](_0x4a5fed);return{'insertCount':_0x744fcd};}catch{return;}}async[a0_0x28fd55(0x167)](_0x5e69c2,_0x2f9c5f){const _0x37e426=a0_0x28fd55;try{let _0x1f222a=this[_0x37e426(0x422)](_0x2f9c5f),_0xaf00d6=A(_0x5e69c2[_0x37e426(0x33b)]);return await _0x1f222a[_0x37e426(0x167)](_0xaf00d6)['limit'](_0x5e69c2?.[_0x37e426(0x771)]??0x0)[_0x37e426(0x483)]();}catch{return[];}}async[a0_0x28fd55(0x267)](_0x8e98e9,_0x2638ba){const _0x34641e=a0_0x28fd55;try{let _0x1e4630=this[_0x34641e(0x422)](_0x2638ba),_0xabfad9=A(_0x8e98e9['where']);return await _0x1e4630[_0x34641e(0x267)](_0xabfad9)['lean']();}catch{return null;}}async['deleteAll'](_0x464c15){const _0x583cb9=a0_0x28fd55;try{return await this[_0x583cb9(0x422)](_0x464c15)[_0x583cb9(0x1f8)]['drop'](),{'success':!0x0};}catch(_0x2319c6){return console[_0x583cb9(0xbc)](_0x2319c6),{'success':!0x1,'error':_0x2319c6};}}},at=require(a0_0x28fd55(0x15c)),Nc=require(a0_0x28fd55(0x6ed)),Ms=new R(a0_0x28fd55(0x554)),V=class{[a0_0x28fd55(0x5f3)](_0x2d806f,_0x26e209=!0x0){const _0x25e2a7=a0_0x28fd55;let _0xe98fb6='/'+_0x2d806f;return _0x26e209&&(_0xe98fb6+=_0x25e2a7(0x2aa)),_0xe98fb6;}async['dataValidate'](_0x462ad0){const _0x2362f3=a0_0x28fd55;let {request:_0x37531a,schema:_0x4ad91b,ClassRef:_0x27ab48,execute:_0x32b6a7}=_0x462ad0,_0x21fc72=new _0x27ab48(),_0x51d289=_0x37531a[_0x2362f3(0x26f)],_0x1f63e3=_0x37531a['params'];_0x37531a?.[_0x2362f3(0x4db)]&&Object[_0x2362f3(0x14d)](_0x37531a[_0x2362f3(0x4db)])[_0x2362f3(0x479)]>0x0&&Object[_0x2362f3(0x5ae)](_0x1f63e3,_0x37531a[_0x2362f3(0x4db)]),_0x37531a['originalUrl'][_0x2362f3(0x4d2)](_0x2362f3(0x65f))&&Object[_0x2362f3(0x5ae)](_0x1f63e3,_0x51d289),Object['assign'](_0x21fc72,_0x51d289);let _0x44f27d=_0x4ad91b?(0x0,at[_0x2362f3(0x229)])(_0x21fc72,_0x4ad91b):{'valid':!0x0,'errors':[]};if(!_0x44f27d[_0x2362f3(0x29c)]){let _0x3cf3b1=_0x44f27d[_0x2362f3(0xa5)][_0x2362f3(0x3ef)](({property:_0x211a9b,stack:_0x3e0148,schema:_0x529a44})=>{const _0x1bf0fd=_0x2362f3;let _0x25989f;return _0x529a44['description']?_0x25989f=_0x529a44[_0x1bf0fd(0x6ab)]:_0x25989f=_0x3e0148['replace'](_0x1bf0fd(0x1ec),''),{'property':_0x211a9b[_0x1bf0fd(0x4b8)](_0x1bf0fd(0x1ec),''),'message':_0x25989f};});throw Ms[_0x2362f3(0xbc)]([..._0x3cf3b1]),new m(..._0x3cf3b1);}return await _0x32b6a7(_0x1f63e3,_0x21fc72);}async[a0_0x28fd55(0x542)](_0x266f73){const _0x30f2a8=a0_0x28fd55;let {request:_0x4c0ecd,ClassRef:_0x28413b,schema:_0x51e507,execute:_0x2dd972}=_0x266f73,_0x272630=_0x4c0ecd[_0x30f2a8(0x4db)];if(!_0x272630?.[_0x30f2a8(0x6f4)])throw new m(_0x30f2a8(0x6f5),_0x30f2a8(0x4a9));let _0x2da88d=_0x4c0ecd[_0x30f2a8(0x159)],_0xae7c76=_0x4c0ecd[_0x30f2a8(0x26f)],_0x188bda=new _0x28413b();Object['assign'](_0xae7c76,_0x272630),Object[_0x30f2a8(0x5ae)](_0x188bda,_0xae7c76);let _0x52cb69=(0x0,at[_0x30f2a8(0x229)])(_0x188bda,_0x51e507);if(!_0x52cb69[_0x30f2a8(0x29c)]){let _0x2964d3=_0x52cb69[_0x30f2a8(0xa5)]['map'](({property:_0x192962,stack:_0x5ee6a0,schema:_0x28f4ef})=>{const _0x4c81b5=_0x30f2a8;let _0x55a72d;return _0x28f4ef[_0x4c81b5(0x6ab)]?_0x55a72d=_0x28f4ef[_0x4c81b5(0x6ab)]:_0x55a72d=_0x5ee6a0[_0x4c81b5(0x4b8)]('instance.',''),{'property':_0x192962[_0x4c81b5(0x4b8)]('instance.',''),'message':_0x55a72d};});throw Ms[_0x30f2a8(0xbc)]([..._0x2964d3]),new m(..._0x2964d3);}return await _0x2dd972(_0x2da88d,_0x188bda);}async['joinGroupValidate'](_0x2a7d55){const _0x57a705=a0_0x28fd55;let {request:_0x1ce79b,ClassRef:_0x54ab28,schema:_0xa7e1bb,execute:_0x21bf87}=_0x2a7d55,_0x4932fe=_0x1ce79b[_0x57a705(0x26f)];if(!_0x4932fe?.['inviteCode'])throw new m(_0x57a705(0x182),_0x57a705(0x4ed));let _0x35a1ec=_0x1ce79b[_0x57a705(0x159)],_0x5abb4e=_0x1ce79b[_0x57a705(0x26f)],_0x3826af=new _0x54ab28();Object[_0x57a705(0x5ae)](_0x5abb4e,_0x4932fe),Object[_0x57a705(0x5ae)](_0x3826af,_0x5abb4e);let _0x35dec8=(0x0,at[_0x57a705(0x229)])(_0x3826af,_0xa7e1bb);if(!_0x35dec8['valid']){let _0x1aba3a=_0x35dec8['errors']['map'](({property:_0x4f0fe9,stack:_0x54c885,schema:_0x47fed7})=>{const _0x290adc=_0x57a705;let _0x334438;return _0x47fed7['description']?_0x334438=_0x47fed7['description']:_0x334438=_0x54c885[_0x290adc(0x4b8)](_0x290adc(0x1ec),''),{'property':_0x4f0fe9[_0x290adc(0x4b8)](_0x290adc(0x1ec),''),'message':_0x334438};});throw Ms[_0x57a705(0xbc)]([..._0x1aba3a]),new m(..._0x1aba3a);}return await _0x21bf87(_0x35a1ec,_0x3826af);}},C=class{},Jc=new R(a0_0x28fd55(0x2b2)),rt=class extends V{constructor(..._0x4004e0){const _0x1808bc=a0_0x28fd55;super(),this[_0x1808bc(0x401)]=(0x0,pr['Router'])(),this['router'][_0x1808bc(0xb5)](this[_0x1808bc(0x5f3)]('updatePresence'),..._0x4004e0,async(_0x189525,_0x2575d7)=>{const _0x4c0ee0=_0x1808bc;let _0x327659=await this['dataValidate']({'request':_0x189525,'schema':sr,'ClassRef':Ge,'execute':(_0x28a591,_0x47b10d)=>_[_0x4c0ee0(0x694)](_0x28a591,_0x47b10d)});return _0x2575d7['status'](0xc9)[_0x4c0ee0(0x216)](_0x327659);})['post'](this[_0x1808bc(0x5f3)](_0x1808bc(0x418)),..._0x4004e0,async(_0x57a232,_0x223a23)=>{const _0x59608c=_0x1808bc;let _0x3cacb0=await this['dataValidate']({'request':_0x57a232,'schema':Wa,'ClassRef':Be,'execute':(_0x5287dd,_0x5ea935)=>_[_0x59608c(0x3df)](_0x5287dd,_0x5ea935)});return _0x223a23[_0x59608c(0x180)](0xc9)[_0x59608c(0x216)](_0x3cacb0);})[_0x1808bc(0xb5)](this[_0x1808bc(0x5f3)](_0x1808bc(0x787)),..._0x4004e0,async(_0x1c1cbf,_0x2534ad)=>{const _0x518610=_0x1808bc;let _0x32c236=await this[_0x518610(0x1f7)]({'request':_0x1c1cbf,'schema':N,'ClassRef':C,'execute':(_0x180e9a,_0x128870)=>_[_0x518610(0x787)](_0x180e9a,_0x128870)});return _0x2534ad[_0x518610(0x180)](0xc9)[_0x518610(0x216)](_0x32c236);})['put'](this[_0x1808bc(0x5f3)](_0x1808bc(0x329)),..._0x4004e0,async(_0x3f2ad0,_0x27103f)=>{const _0x433f89=_0x1808bc;let _0x249408=await this[_0x433f89(0x1f7)]({'request':_0x3f2ad0,'schema':za,'ClassRef':He,'execute':(_0x26a692,_0x7724b3)=>_[_0x433f89(0x655)](_0x26a692,_0x7724b3)});return _0x27103f[_0x433f89(0x180)](0xc9)[_0x433f89(0x216)](_0x249408);})['put'](this[_0x1808bc(0x5f3)](_0x1808bc(0x3bf)),..._0x4004e0,async(_0x41328a,_0x2920dc)=>{const _0x516709=_0x1808bc;let _0x2931bd=await this['dataValidate']({'request':_0x41328a,'schema':Ka,'ClassRef':Ke,'execute':(_0x1c57b1,_0x26b5f8)=>_[_0x516709(0x3bf)](_0x1c57b1,_0x26b5f8)});return _0x2920dc[_0x516709(0x180)](0xc9)[_0x516709(0x216)](_0x2931bd);})[_0x1808bc(0x71f)](this['routerPath'](_0x1808bc(0x5e4)),..._0x4004e0,async(_0x3f774c,_0x1bcaab)=>{const _0x4762f1=_0x1808bc;let _0x1fce64=await this[_0x4762f1(0x1f7)]({'request':_0x3f774c,'schema':Qa,'ClassRef':Ye,'execute':(_0x488b5e,_0x428642)=>_['deleteMessage'](_0x488b5e,_0x428642)});return _0x1bcaab[_0x4762f1(0x180)](0xc9)[_0x4762f1(0x216)](_0x1fce64);})[_0x1808bc(0xb5)](this['routerPath'](_0x1808bc(0x756)),..._0x4004e0,async(_0x32989d,_0x4cc37b)=>{const _0x403449=_0x1808bc;let _0x18ad66=await this['dataValidate']({'request':_0x32989d,'schema':ve,'ClassRef':Ee,'execute':(_0x3d9e6d,_0x41e565)=>_[_0x403449(0x411)](_0x3d9e6d,_0x41e565)});return _0x4cc37b[_0x403449(0x180)](0xc8)[_0x403449(0x216)](_0x18ad66);})[_0x1808bc(0xb5)](this[_0x1808bc(0x5f3)](_0x1808bc(0x2f5)),..._0x4004e0,async(_0x2df670,_0x329c90)=>{const _0x280217=_0x1808bc;let _0x3bfe54=await this[_0x280217(0x1f7)]({'request':_0x2df670,'schema':er,'ClassRef':Ee,'execute':(_0x48a74f,_0x2e418b)=>_['fetchProfile'](_0x48a74f,_0x2e418b)});return _0x329c90[_0x280217(0x180)](0xc8)['json'](_0x3bfe54);})[_0x1808bc(0xb5)](this[_0x1808bc(0x5f3)]('findContacts'),..._0x4004e0,async(_0x109571,_0x1a5967)=>{const _0x584c10=_0x1808bc;let _0x37c7d6=await this[_0x584c10(0x1f7)]({'request':_0x109571,'schema':Ya,'ClassRef':tt,'execute':(_0x585cec,_0x37c21e)=>_['fetchContacts'](_0x585cec,_0x37c21e)});return _0x1a5967[_0x584c10(0x180)](0xc8)[_0x584c10(0x216)](_0x37c7d6);})[_0x1808bc(0xb5)](this[_0x1808bc(0x5f3)]('getBase64FromMediaMessage'),..._0x4004e0,async(_0x391d4e,_0x587a44)=>{const _0x39e03b=_0x1808bc;let _0x56219d=await this[_0x39e03b(0x1f7)]({'request':_0x391d4e,'schema':null,'ClassRef':Object,'execute':(_0x5154e9,_0x4a5d0e)=>_[_0x39e03b(0x42c)](_0x5154e9,_0x4a5d0e)});return _0x587a44[_0x39e03b(0x180)](0xc9)[_0x39e03b(0x216)](_0x56219d);})[_0x1808bc(0xb5)](this[_0x1808bc(0x5f3)](_0x1808bc(0x37e)),..._0x4004e0,async(_0x5c0747,_0x270b5a)=>{const _0x42e8d7=_0x1808bc;let _0x2cc2e4=await this[_0x42e8d7(0x1f7)]({'request':_0x5c0747,'schema':tr,'ClassRef':qe,'execute':(_0x45e4b0,_0x306668)=>_[_0x42e8d7(0x204)](_0x45e4b0,_0x306668)});return _0x270b5a[_0x42e8d7(0x180)](0xc8)[_0x42e8d7(0x216)](_0x2cc2e4);})['get'](this[_0x1808bc(0x5f3)]('findChats'),..._0x4004e0,async(_0x2a0717,_0x192170)=>{const _0x1798b4=_0x1808bc;let _0x1b08f2=await this[_0x1798b4(0x1f7)]({'request':_0x2a0717,'schema':null,'ClassRef':C,'execute':_0x3b0c4d=>_[_0x1798b4(0x406)](_0x3b0c4d)});return _0x192170[_0x1798b4(0x180)](0xc8)['json'](_0x1b08f2);})[_0x1808bc(0x72c)](this['routerPath'](_0x1808bc(0x1b0)),..._0x4004e0,async(_0x22c492,_0x2c45f8)=>{const _0x360ee1=_0x1808bc;let _0xef9c65=await this['dataValidate']({'request':_0x22c492,'schema':null,'ClassRef':C,'execute':_0x1ec39c=>_[_0x360ee1(0x731)](_0x1ec39c)});return _0x2c45f8[_0x360ee1(0x180)](0xc8)[_0x360ee1(0x216)](_0xef9c65);})[_0x1808bc(0x2c8)](this[_0x1808bc(0x5f3)](_0x1808bc(0x385)),..._0x4004e0,async(_0x3e44ac,_0x1499ed)=>{const _0x5a9908=_0x1808bc;let _0x3d0469=await this['dataValidate']({'request':_0x3e44ac,'schema':null,'ClassRef':Array,'execute':(_0x3bbde7,_0x5baaa6)=>_['importChats'](_0x3bbde7,_0x5baaa6)});return _0x1499ed[_0x5a9908(0x180)](0xc8)[_0x5a9908(0x216)](_0x3d0469);})['get'](this[_0x1808bc(0x5f3)](_0x1808bc(0x45d)),..._0x4004e0,async(_0x4bd250,_0x26358a)=>{const _0x24b37d=_0x1808bc;let _0x4332b8=await this[_0x24b37d(0x1f7)]({'request':_0x4bd250,'schema':null,'ClassRef':C,'execute':_0xbd1509=>_[_0x24b37d(0x45d)](_0xbd1509)});return _0x26358a[_0x24b37d(0x180)](0xc8)[_0x24b37d(0x216)](_0x4332b8);})[_0x1808bc(0x2c8)](this[_0x1808bc(0x5f3)](_0x1808bc(0x433)),..._0x4004e0,async(_0x96adbb,_0x34be7d)=>{const _0xde9a=_0x1808bc;let _0x24eda0=await this['dataValidate']({'request':_0x96adbb,'schema':Ha,'ClassRef':Qe,'execute':(_0x55580f,_0x5da53b)=>_[_0xde9a(0x433)](_0x55580f,_0x5da53b)});return _0x34be7d[_0xde9a(0x180)](0xc9)['json'](_0x24eda0);})[_0x1808bc(0xb5)](this[_0x1808bc(0x5f3)](_0x1808bc(0x4f3)),..._0x4004e0,async(_0x54aca3,_0x251dbb)=>{const _0x59e96a=_0x1808bc;let _0x3f9c10=await this[_0x59e96a(0x1f7)]({'request':_0x54aca3,'schema':ve,'ClassRef':ye,'execute':(_0x2068ef,_0x4a14d2)=>_['fetchBusinessProfile'](_0x2068ef,_0x4a14d2)});return _0x251dbb['status'](0xc8)[_0x59e96a(0x216)](_0x3f9c10);})[_0x1808bc(0xb5)](this['routerPath'](_0x1808bc(0x2b5)),..._0x4004e0,async(_0x3f4918,_0x1782e8)=>{const _0x530a1f=_0x1808bc;let _0x315b0e=await this[_0x530a1f(0x1f7)]({'request':_0x3f4918,'schema':Xa,'ClassRef':We,'execute':(_0x3dc65a,_0xe89811)=>_['updateProfileName'](_0x3dc65a,_0xe89811)});return _0x1782e8['status'](0xc8)[_0x530a1f(0x216)](_0x315b0e);})[_0x1808bc(0xb5)](this['routerPath'](_0x1808bc(0x512)),..._0x4004e0,async(_0xaf35bf,_0x19efee)=>{const _0x580b1c=_0x1808bc;let _0xd2f2a7=await this[_0x580b1c(0x1f7)]({'request':_0xaf35bf,'schema':Za,'ClassRef':ze,'execute':(_0x17c1dc,_0x2982c8)=>_['updateProfileStatus'](_0x17c1dc,_0x2982c8)});return _0x19efee[_0x580b1c(0x180)](0xc8)[_0x580b1c(0x216)](_0xd2f2a7);})[_0x1808bc(0x2c8)](this[_0x1808bc(0x5f3)](_0x1808bc(0x2b8)),..._0x4004e0,async(_0x5231b2,_0x1f1072)=>{const _0x2100c2=_0x1808bc;let _0x4fc174=await this[_0x2100c2(0x1f7)]({'request':_0x5231b2,'schema':ve,'ClassRef':ye,'execute':(_0x5d3f8b,_0x56947c)=>_[_0x2100c2(0x2b8)](_0x5d3f8b,_0x56947c)});return _0x1f1072[_0x2100c2(0x180)](0xc8)['json'](_0x4fc174);})[_0x1808bc(0x71f)](this[_0x1808bc(0x5f3)](_0x1808bc(0x40e)),..._0x4004e0,async(_0x4752a9,_0x449411)=>{const _0x5d113e=_0x1808bc;let _0x4bfab7=await this[_0x5d113e(0x1f7)]({'request':_0x4752a9,'schema':ve,'ClassRef':ye,'execute':(_0x842f34,_0x641a3b)=>_['removeProfilePicture'](_0x842f34,_0x641a3b)});return _0x449411[_0x5d113e(0x180)](0xc8)[_0x5d113e(0x216)](_0x4bfab7);});}},hr=require(a0_0x28fd55(0x668)),it=class{},ot=class{},nt=class{},ct=class{},lt=class{},ut=class{},X=class{},Re=class{},dt=class extends X{},pt=class extends X{},ht=class extends V{constructor(..._0x4cce75){const _0x58bd0b=a0_0x28fd55;super(),this[_0x58bd0b(0x401)]=(0x0,hr[_0x58bd0b(0x670)])(),this[_0x58bd0b(0x401)]['post'](this[_0x58bd0b(0x5f3)](_0x58bd0b(0x2f7)),..._0x4cce75,async(_0x3eecef,_0x3b0466)=>{const _0x24038f=_0x58bd0b;let _0x249045=await this[_0x24038f(0x1f7)]({'request':_0x3eecef,'schema':ar,'ClassRef':it,'execute':(_0x278f11,_0x248c96)=>q['createGroup'](_0x278f11,_0x248c96)});_0x3b0466[_0x24038f(0x180)](0xc9)[_0x24038f(0x216)](_0x249045);})[_0x58bd0b(0x2c8)](this[_0x58bd0b(0x5f3)]('updateGroupPicture'),..._0x4cce75,async(_0x20bafd,_0x23386a)=>{const _0x37378d=_0x58bd0b;let _0x39ac99=await this[_0x37378d(0x542)]({'request':_0x20bafd,'schema':or,'ClassRef':ot,'execute':(_0x444eeb,_0x4fe7c6)=>q[_0x37378d(0x21e)](_0x444eeb,_0x4fe7c6)});_0x23386a[_0x37378d(0x180)](0xc9)[_0x37378d(0x216)](_0x39ac99);})['put'](this[_0x58bd0b(0x5f3)](_0x58bd0b(0x736)),..._0x4cce75,async(_0x2bf93b,_0x1deaa6)=>{const _0x591b8a=_0x58bd0b;let _0x48e44e=await this['groupValidate']({'request':_0x2bf93b,'schema':nr,'ClassRef':nt,'execute':(_0x234065,_0x19f628)=>q['groupDesc'](_0x234065,_0x19f628)});_0x1deaa6[_0x591b8a(0x180)](0xc9)[_0x591b8a(0x216)](_0x48e44e);})['put'](this[_0x58bd0b(0x5f3)](_0x58bd0b(0x17d)),..._0x4cce75,async(_0x562ac3,_0x2eec21)=>{const _0x19c555=_0x58bd0b;let _0x548d63=await this[_0x19c555(0x542)]({'request':_0x562ac3,'schema':cr,'ClassRef':ct,'execute':(_0x27535,_0x893ea0)=>q[_0x19c555(0x17d)](_0x27535,_0x893ea0)});_0x2eec21['status'](0xc9)[_0x19c555(0x216)](_0x548d63);})[_0x58bd0b(0x2c8)](this[_0x58bd0b(0x5f3)](_0x58bd0b(0x467)),..._0x4cce75,async(_0x5b56b7,_0x2bb6cd)=>{const _0x34c9e7=_0x58bd0b;let _0x2b744c=await this['groupValidate']({'request':_0x5b56b7,'schema':ur,'ClassRef':ut,'execute':(_0x4628f2,_0x2d74b4)=>q['groupBetterSetting'](_0x4628f2,_0x2d74b4)});_0x2bb6cd['status'](0xc9)[_0x34c9e7(0x216)](_0x2b744c);})['put'](this['routerPath'](_0x58bd0b(0x25b)),..._0x4cce75,async(_0x1f7cde,_0x2bfe72)=>{const _0x2cbb32=_0x58bd0b;let _0x57ef5a=await this[_0x2cbb32(0x542)]({'request':_0x1f7cde,'schema':lr,'ClassRef':lt,'execute':(_0x28bd65,_0x3abca0)=>q[_0x2cbb32(0x25b)](_0x28bd65,_0x3abca0)});_0x2bfe72['status'](0xc9)[_0x2cbb32(0x216)](_0x57ef5a);})[_0x58bd0b(0x2c8)](this[_0x58bd0b(0x5f3)](_0x58bd0b(0x6eb)),..._0x4cce75,async(_0x2b079e,_0x5e5dc7)=>{const _0x35e7f0=_0x58bd0b;let _0x3f4434=await this[_0x35e7f0(0x542)]({'request':_0x2b079e,'schema':ir,'ClassRef':pt,'execute':(_0x4ec1de,_0x43c1ac)=>q[_0x35e7f0(0x6eb)](_0x4ec1de,_0x43c1ac)});_0x5e5dc7[_0x35e7f0(0x180)](0xc9)[_0x35e7f0(0x216)](_0x3f4434);})[_0x58bd0b(0x72c)](this['routerPath'](_0x58bd0b(0x58a)),..._0x4cce75,async(_0x846424,_0x537524)=>{const _0x1025e6=_0x58bd0b;let _0x2df3ae=await this[_0x1025e6(0x542)]({'request':_0x846424,'schema':Ne,'ClassRef':X,'execute':(_0x1db861,_0x46fda8)=>q[_0x1025e6(0x641)](_0x1db861,_0x46fda8)});_0x537524[_0x1025e6(0x180)](0xc8)[_0x1025e6(0x216)](_0x2df3ae);})[_0x58bd0b(0x72c)](this[_0x58bd0b(0x5f3)](_0x58bd0b(0x4de)),..._0x4cce75,async(_0x48cb0f,_0x568c6b)=>{const _0x3cbe0e=_0x58bd0b;let _0x56bfb6=await this[_0x3cbe0e(0x1f7)]({'request':_0x48cb0f,'schema':N,'ClassRef':C,'execute':_0x516f3e=>q['findGroups'](_0x516f3e)});_0x568c6b[_0x3cbe0e(0x180)](0xc8)['json'](_0x56bfb6);})[_0x58bd0b(0x72c)](this[_0x58bd0b(0x5f3)](_0x58bd0b(0x463)),..._0x4cce75,async(_0x2d6a95,_0x17f0bd)=>{const _0x73cbac=_0x58bd0b;let _0xcc015c=await this[_0x73cbac(0x542)]({'request':_0x2d6a95,'schema':Ne,'ClassRef':X,'execute':(_0x22481e,_0x3b190b)=>q[_0x73cbac(0x247)](_0x22481e,_0x3b190b)});_0x17f0bd[_0x73cbac(0x180)](0xc8)[_0x73cbac(0x216)](_0xcc015c);})[_0x58bd0b(0x72c)](this[_0x58bd0b(0x5f3)](_0x58bd0b(0x75a)),..._0x4cce75,async(_0xbf36a0,_0x55442b)=>{const _0x21b30e=_0x58bd0b;let _0x4955ef=await this['groupValidate']({'request':_0xbf36a0,'schema':Ne,'ClassRef':X,'execute':(_0x20c36f,_0x39b215)=>q[_0x21b30e(0x75a)](_0x20c36f,_0x39b215)});_0x55442b[_0x21b30e(0x180)](0xc8)['json'](_0x4955ef);})[_0x58bd0b(0xb5)](this[_0x58bd0b(0x5f3)](_0x58bd0b(0x13c)),..._0x4cce75,async(_0xdc2f9,_0x16837d)=>{const _0x1e6923=_0x58bd0b;let _0x267fed=await this[_0x1e6923(0xbe)]({'request':_0xdc2f9,'schema':Ss,'ClassRef':Re,'execute':(_0x1b08e9,_0x4ce926)=>q[_0x1e6923(0x1df)](_0x1b08e9,_0x4ce926)});_0x16837d[_0x1e6923(0x180)](0xc9)['json'](_0x267fed);})[_0x58bd0b(0x2c8)](this[_0x58bd0b(0x5f3)](_0x58bd0b(0xe7)),..._0x4cce75,async(_0x20f0cf,_0x3e16c3)=>{const _0x27f4ff=_0x58bd0b;let _0x1c0de9=await this['joinGroupValidate']({'request':_0x20f0cf,'schema':Ss,'ClassRef':Re,'execute':(_0x18ea49,_0x2749ca)=>q['joinGroup'](_0x18ea49,_0x2749ca)});_0x3e16c3[_0x27f4ff(0x180)](0xc9)[_0x27f4ff(0x216)](_0x1c0de9);})[_0x58bd0b(0x2c8)](this[_0x58bd0b(0x5f3)](_0x58bd0b(0x366)),..._0x4cce75,async(_0x53ba1e,_0x348abc)=>{const _0x229c70=_0x58bd0b;let _0x12b9c7=await this[_0x229c70(0x542)]({'request':_0x53ba1e,'schema':Ne,'ClassRef':X,'execute':(_0x5c4a4c,_0x28666d)=>q[_0x229c70(0x366)](_0x5c4a4c,_0x28666d)});_0x348abc[_0x229c70(0x180)](0xc9)[_0x229c70(0x216)](_0x12b9c7);})[_0x58bd0b(0x2c8)](this['routerPath'](_0x58bd0b(0x448)),..._0x4cce75,async(_0xbcedff,_0x2e875e)=>{const _0x28f794=_0x58bd0b;let _0x8082f3=await this[_0x28f794(0x542)]({'request':_0xbcedff,'schema':rr,'ClassRef':dt,'execute':(_0x3dde6b,_0x1e116d)=>q[_0x28f794(0x51c)](_0x3dde6b,_0x1e116d)});_0x2e875e[_0x28f794(0x180)](0xc9)[_0x28f794(0x216)](_0x8082f3);})[_0x58bd0b(0x71f)](this[_0x58bd0b(0x5f3)](_0x58bd0b(0x3ab)),..._0x4cce75,async(_0x52490a,_0x23b581)=>{const _0x3a19e4=_0x58bd0b;let _0x2476e8=await this[_0x3a19e4(0x542)]({'request':_0x52490a,'schema':{},'ClassRef':X,'execute':(_0x4d0e43,_0x42a05)=>q[_0x3a19e4(0x3ab)](_0x4d0e43,_0x42a05)});_0x23b581[_0x3a19e4(0x180)](0xc8)['json'](_0x2476e8);});}},gr=require('express'),gt=class extends V{constructor(_0x4427e4,..._0x1d0054){const _0x1724fd=a0_0x28fd55;super(),this[_0x1724fd(0x58f)]=_0x4427e4,this['router']=(0x0,gr[_0x1724fd(0x670)])();let _0x6ef073=_0x4427e4[_0x1724fd(0x72c)]('AUTHENTICATION');this[_0x1724fd(0x401)][_0x1724fd(0xb5)](_0x1724fd(0x604),..._0x1d0054,async(_0x5327ba,_0x24b5f4)=>{const _0x25c71f=_0x1724fd;let {instanceName:_0x7b07b2,apikey:_0x395971,number:_0x341c9b}=_0x5327ba[_0x25c71f(0x26f)],_0x365a80=await ne[_0x25c71f(0x741)]({'instanceName':_0x7b07b2,'apikey':_0x395971,'number':_0x341c9b});return _0x24b5f4[_0x25c71f(0x180)](0xc9)[_0x25c71f(0x216)](_0x365a80);})[_0x1724fd(0x2c8)](this[_0x1724fd(0x5f3)]('restart'),..._0x1d0054,async(_0x49818e,_0x322b34)=>{const _0x430781=_0x1724fd;let _0x22a791=await this[_0x430781(0x1f7)]({'request':_0x49818e,'schema':N,'ClassRef':C,'execute':_0x7d9c90=>ne[_0x430781(0x53d)](_0x7d9c90)});return _0x322b34[_0x430781(0x180)](0xc8)['json'](_0x22a791);})[_0x1724fd(0x72c)](this[_0x1724fd(0x5f3)]('connect'),..._0x1d0054,async(_0x23df2f,_0x293a57)=>{const _0x3af3b7=_0x1724fd;let _0x47e39c=await this[_0x3af3b7(0x1f7)]({'request':_0x23df2f,'schema':N,'ClassRef':C,'execute':_0x505017=>ne[_0x3af3b7(0x2be)](_0x505017)});return _0x293a57[_0x3af3b7(0x180)](0xc8)[_0x3af3b7(0x216)](_0x47e39c);})[_0x1724fd(0x72c)](this[_0x1724fd(0x5f3)](_0x1724fd(0x245)),..._0x1d0054,async(_0x54eb5b,_0x57ab3c)=>{const _0x3879b6=_0x1724fd;let _0x4b4de5=await this['dataValidate']({'request':_0x54eb5b,'schema':N,'ClassRef':C,'execute':_0x357b6f=>ne[_0x3879b6(0x245)](_0x357b6f)});return _0x57ab3c[_0x3879b6(0x180)](0xc8)[_0x3879b6(0x216)](_0x4b4de5);})[_0x1724fd(0x72c)](this[_0x1724fd(0x5f3)](_0x1724fd(0x6fc),!0x1),..._0x1d0054,async(_0xbc8e01,_0x5b4fef)=>{const _0x5d9334=_0x1724fd;let _0x4ab2f5=await this[_0x5d9334(0x1f7)]({'request':_0xbc8e01,'schema':null,'ClassRef':C,'execute':_0x3d7cd0=>ne[_0x5d9334(0x6fc)](_0x3d7cd0)});return _0x5b4fef[_0x5d9334(0x180)](0xc8)[_0x5d9334(0x216)](_0x4ab2f5);})[_0x1724fd(0x71f)](this[_0x1724fd(0x5f3)](_0x1724fd(0x613)),..._0x1d0054,async(_0x2d6803,_0x2b659d)=>{const _0x39860a=_0x1724fd;let _0x3c2696=await this['dataValidate']({'request':_0x2d6803,'schema':N,'ClassRef':C,'execute':_0x4b2d23=>ne['logout'](_0x4b2d23)});return _0x2b659d[_0x39860a(0x180)](0xc8)['json'](_0x3c2696);})[_0x1724fd(0x71f)](this[_0x1724fd(0x5f3)]('delete'),..._0x1d0054,async(_0x4445c5,_0x4a7c13)=>{const _0x54b7ef=_0x1724fd;let _0x174774=await this[_0x54b7ef(0x1f7)]({'request':_0x4445c5,'schema':N,'ClassRef':C,'execute':_0x3dcf86=>ne['deleteInstance'](_0x3dcf86)});return _0x4a7c13[_0x54b7ef(0x180)](0xc8)[_0x54b7ef(0x216)](_0x174774);});}},mr=require(a0_0x28fd55(0x668)),Cs=class{},W=class extends Cs{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},Te=class extends W{},bt=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class{},Nt=class extends V{constructor(..._0x521823){const _0x400f5b=a0_0x28fd55;super(),this[_0x400f5b(0x401)]=(0x0,mr['Router'])(),this['router']['post'](this[_0x400f5b(0x5f3)]('sendText'),..._0x521823,async(_0x302663,_0xf743f6)=>{const _0x1753a8=_0x400f5b;let _0x22b6b1=await this['dataValidate']({'request':_0x302663,'schema':Da,'ClassRef':mt,'execute':(_0x495443,_0x5302fd)=>B['sendText'](_0x495443,_0x5302fd)});return _0xf743f6['status'](0xc9)[_0x1753a8(0x216)](_0x22b6b1);})[_0x400f5b(0xb5)](this[_0x400f5b(0x5f3)]('sendMedia'),..._0x521823,async(_0x410bb1,_0x116850)=>{const _0x1d9709=_0x400f5b;let _0x55dbb4=await this[_0x1d9709(0x1f7)]({'request':_0x410bb1,'schema':ja,'ClassRef':Te,'execute':(_0x4ad09d,_0x5346e8)=>B[_0x1d9709(0x11c)](_0x4ad09d,_0x5346e8)});return _0x116850[_0x1d9709(0x180)](0xc9)[_0x1d9709(0x216)](_0x55dbb4);})[_0x400f5b(0xb5)](this[_0x400f5b(0x5f3)](_0x400f5b(0x6a1)),..._0x521823,async(_0x58cdac,_0x5d3e48)=>{const _0x19ec3d=_0x400f5b;let _0x554ec7=await this[_0x19ec3d(0x1f7)]({'request':_0x58cdac,'schema':Ja,'ClassRef':yt,'execute':(_0x467649,_0x27ae40)=>B['sendMenu'](_0x467649,_0x27ae40)});return _0x5d3e48[_0x19ec3d(0x180)](0xc9)[_0x19ec3d(0x216)](_0x554ec7);})['post'](this[_0x400f5b(0x5f3)](_0x400f5b(0x3b1)),..._0x521823,async(_0x4e2a03,_0x2d32b4)=>{const _0x227b91=_0x400f5b;let _0x2812fc=await this[_0x227b91(0x1f7)]({'request':_0x4e2a03,'schema':La,'ClassRef':Te,'execute':(_0x59922e,_0x5d3319)=>B[_0x227b91(0x3b1)](_0x59922e,_0x5d3319)});return _0x2d32b4[_0x227b91(0x180)](0xc9)[_0x227b91(0x216)](_0x2812fc);})[_0x400f5b(0xb5)](this['routerPath'](_0x400f5b(0x2f0)),..._0x521823,async(_0x3dd23f,_0x4a2526)=>{const _0x203fec=_0x400f5b;let _0x174b48=await this[_0x203fec(0x1f7)]({'request':_0x3dd23f,'schema':Ua,'ClassRef':St,'execute':(_0x5b4d0a,_0x232d8e)=>B[_0x203fec(0x2f0)](_0x5b4d0a,_0x232d8e)});return _0x4a2526['status'](0xc9)[_0x203fec(0x216)](_0x174b48);})[_0x400f5b(0xb5)](this['routerPath'](_0x400f5b(0x4cc)),..._0x521823,async(_0x493d3a,_0x1fc8db)=>{const _0x52bd59=_0x400f5b;let _0x4d165f=await this['dataValidate']({'request':_0x493d3a,'schema':qa,'ClassRef':Mt,'execute':(_0x3334b9,_0x542bdd)=>B[_0x52bd59(0x4cc)](_0x3334b9,_0x542bdd)});return _0x1fc8db[_0x52bd59(0x180)](0xc9)['json'](_0x4d165f);})[_0x400f5b(0xb5)](this['routerPath'](_0x400f5b(0xdb)),..._0x521823,async(_0x39c13f,_0x123f6b)=>{const _0x5b2c3d=_0x400f5b;let _0x2d1ff0=await this[_0x5b2c3d(0x1f7)]({'request':_0x39c13f,'schema':Va,'ClassRef':Ct,'execute':(_0x57d214,_0x1c42d1)=>B[_0x5b2c3d(0xdb)](_0x57d214,_0x1c42d1)});return _0x123f6b[_0x5b2c3d(0x180)](0xc9)[_0x5b2c3d(0x216)](_0x2d1ff0);})['post'](this[_0x400f5b(0x5f3)](_0x400f5b(0x44d)),..._0x521823,async(_0x40926c,_0x3503a6)=>{const _0x32c4df=_0x400f5b;let _0x318a79=await this['dataValidate']({'request':_0x40926c,'schema':Ga,'ClassRef':Et,'execute':(_0x50fec8,_0x11a581)=>B['sendContact'](_0x50fec8,_0x11a581)});return _0x3503a6[_0x32c4df(0x180)](0xc9)['json'](_0x318a79);})['post'](this['routerPath'](_0x400f5b(0x584)),..._0x521823,async(_0x3383f0,_0x7f4b58)=>{const _0x3f79cd=_0x400f5b;let _0x2b5cbe=await this['dataValidate']({'request':_0x3383f0,'schema':Ba,'ClassRef':vt,'execute':(_0x152130,_0x19a192)=>B[_0x3f79cd(0x584)](_0x152130,_0x19a192)});return _0x7f4b58[_0x3f79cd(0x180)](0xc9)['json'](_0x2b5cbe);})[_0x400f5b(0xb5)](this[_0x400f5b(0x5f3)](_0x400f5b(0x2fe)),..._0x521823,async(_0x2b34a2,_0x20d52f)=>{const _0x2f9b99=_0x400f5b;let _0xeebdce=await this['dataValidate']({'request':_0x2b34a2,'schema':Fa,'ClassRef':wt,'execute':(_0x5605f1,_0x3a8f3b)=>B[_0x2f9b99(0x2fe)](_0x5605f1,_0x3a8f3b)});return _0x20d52f[_0x2f9b99(0x180)](0xc9)[_0x2f9b99(0x216)](_0xeebdce);})[_0x400f5b(0xb5)](this[_0x400f5b(0x5f3)](_0x400f5b(0x4a5)),..._0x521823,async(_0x3467a0,_0x1bbd72)=>{const _0x2c818e=_0x400f5b;let _0x53d21a=await this[_0x2c818e(0x1f7)]({'request':_0x3467a0,'schema':ka,'ClassRef':ft,'execute':(_0x18c6e3,_0x3184fa)=>B['sendStatus'](_0x18c6e3,_0x3184fa)});return _0x1bbd72[_0x2c818e(0x180)](0xc9)[_0x2c818e(0x216)](_0x53d21a);})[_0x400f5b(0xb5)](this['routerPath'](_0x400f5b(0x24f)),..._0x521823,async(_0x199ce9,_0x462073)=>{const _0x22dd48=_0x400f5b;let _0x598d31=await this[_0x22dd48(0x1f7)]({'request':_0x199ce9,'schema':Pa,'ClassRef':bt,'execute':(_0x1ddc23,_0x53f7a2)=>B[_0x22dd48(0x24f)](_0x1ddc23,_0x53f7a2)});return _0x462073[_0x22dd48(0x180)](0xc9)['json'](_0x598d31);});}},fr=require(a0_0x28fd55(0x668)),Rt=class{},Tt=class extends V{constructor(..._0xb02c0b){const _0x4cccfb=a0_0x28fd55;super(),this[_0x4cccfb(0x401)]=(0x0,fr[_0x4cccfb(0x670)])(),this[_0x4cccfb(0x401)][_0x4cccfb(0xb5)](this['routerPath'](_0x4cccfb(0x184)),..._0xb02c0b,async(_0x1b2adb,_0x457aa3)=>{const _0x36bf1c=_0x4cccfb;let _0x4e7dec=await this[_0x36bf1c(0x1f7)]({'request':_0x1b2adb,'schema':dr,'ClassRef':Rt,'execute':(_0x341a63,_0x2ccc91)=>Es[_0x36bf1c(0x2c3)](_0x341a63,_0x2ccc91)});_0x457aa3[_0x36bf1c(0x180)](0xc9)['json'](_0x4e7dec);})[_0x4cccfb(0x72c)](this['routerPath'](_0x4cccfb(0x167)),..._0xb02c0b,async(_0xf554f9,_0x32ac22)=>{const _0x2f2690=_0x4cccfb;let _0x24b3a8=await this[_0x2f2690(0x1f7)]({'request':_0xf554f9,'schema':N,'ClassRef':C,'execute':_0xb8deb4=>Es[_0x2f2690(0x6c6)](_0xb8deb4)});_0x32ac22[_0x2f2690(0x180)](0xc8)[_0x2f2690(0x216)](_0x24b3a8);});}},wr=require(a0_0x28fd55(0x668)),y=new R(a0_0x28fd55(0x3f6)),Ot=class extends V{constructor(..._0x530d7a){const _0x1f805b=a0_0x28fd55;super(),this[_0x1f805b(0x401)]=(0x0,wr['Router'])(),this[_0x1f805b(0x401)][_0x1f805b(0xb5)](this[_0x1f805b(0x5f3)]('scheduleMessage'),..._0x530d7a,async(_0x51f894,_0x2c1c71)=>{const _0x34d63e=_0x1f805b;let _0x5a3bd9=_0x51f894[_0x34d63e(0x26f)];y[_0x34d63e(0x77f)](_0x34d63e(0x5fc)),y['verbose']('request\x20body:\x20'),y[_0x34d63e(0x77f)](_0x51f894[_0x34d63e(0x26f)]);let _0x32cf4b=await this[_0x34d63e(0x1f7)]({'request':_0x51f894,'schema':N,'ClassRef':C,'execute':_0x4ea262=>$[_0x34d63e(0x224)](_0x4ea262,_0x5a3bd9)});_0x2c1c71[_0x34d63e(0x180)](0xc8)[_0x34d63e(0x216)](_0x32cf4b);})['get'](this[_0x1f805b(0x5f3)](_0x1f805b(0x22e)),..._0x530d7a,async(_0x3182f2,_0x48bad3)=>{const _0x41eb8f=_0x1f805b;let _0x174372=await this[_0x41eb8f(0x1f7)]({'request':_0x3182f2,'schema':N,'ClassRef':C,'execute':_0x417c55=>$[_0x41eb8f(0x12b)](_0x417c55)});_0x48bad3[_0x41eb8f(0x180)](0xc8)['json'](_0x174372);})['delete'](this[_0x1f805b(0x5f3)](_0x1f805b(0x211)),..._0x530d7a,async(_0x46d1de,_0x35b737)=>{const _0x46575a=_0x1f805b;y[_0x46575a(0x77f)](_0x46575a(0x5c2));let _0x46a9af=await this[_0x46575a(0x1f7)]({'request':_0x46d1de,'schema':N,'ClassRef':C,'execute':_0x1810c8=>$['deleteDoneMessages'](_0x1810c8)});_0x35b737[_0x46575a(0x180)](0xc8)[_0x46575a(0x216)](_0x46a9af);})[_0x1f805b(0xb5)](this[_0x1f805b(0x5f3)](_0x1f805b(0x680)),..._0x530d7a,async(_0xfb0006,_0x4b82a7)=>{const _0x3c98fd=_0x1f805b;let _0x19b267=_0xfb0006['body'];y[_0x3c98fd(0x77f)](_0x3c98fd(0x1d1)),y[_0x3c98fd(0x77f)](_0x3c98fd(0x323)),y[_0x3c98fd(0x77f)](_0xfb0006[_0x3c98fd(0x26f)]);let _0x48441e=await this[_0x3c98fd(0x1f7)]({'request':_0xfb0006,'schema':N,'ClassRef':C,'execute':_0x34d309=>$[_0x3c98fd(0x680)](_0x34d309,_0x19b267)});_0x4b82a7[_0x3c98fd(0x180)](0xc8)[_0x3c98fd(0x216)](_0x48441e);})['get'](this[_0x1f805b(0x5f3)](_0x1f805b(0x2e5)),..._0x530d7a,async(_0x1a15b6,_0x373fd5)=>{const _0x274098=_0x1f805b;y['verbose'](_0x274098(0x71d));let _0xb50195=await this['dataValidate']({'request':_0x1a15b6,'schema':N,'ClassRef':C,'execute':_0x4b7848=>$[_0x274098(0x2e5)](_0x4b7848)});_0x373fd5[_0x274098(0x180)](0xc8)['json'](_0xb50195);})[_0x1f805b(0x72c)](this[_0x1f805b(0x5f3)](_0x1f805b(0x62e)),..._0x530d7a,async(_0x2a0843,_0x444700)=>{const _0x126d64=_0x1f805b;y[_0x126d64(0x77f)](_0x126d64(0x390));let _0x3faa6b=await this[_0x126d64(0x1f7)]({'request':_0x2a0843,'schema':N,'ClassRef':C,'execute':_0x238ba8=>$[_0x126d64(0x2e5)](_0x238ba8)});_0x444700['status'](0xc8)[_0x126d64(0x216)](_0x3faa6b);})[_0x1f805b(0xb5)](this['routerPath'](_0x1f805b(0x4eb)),..._0x530d7a,async(_0x4cc581,_0x470720)=>{const _0x2a5d54=_0x1f805b;let _0x37834f=_0x4cc581[_0x2a5d54(0x26f)];y['verbose'](_0x2a5d54(0x2f1)),y[_0x2a5d54(0x77f)](_0x2a5d54(0x323)),y[_0x2a5d54(0x77f)](_0x4cc581['body']);let _0x35ff89=await this[_0x2a5d54(0x1f7)]({'request':_0x4cc581,'schema':N,'ClassRef':C,'execute':_0x34ae81=>$[_0x2a5d54(0x4eb)](_0x34ae81,_0x37834f)});_0x470720[_0x2a5d54(0x180)](0xc8)[_0x2a5d54(0x216)](_0x35ff89);})[_0x1f805b(0xb5)](this['routerPath'](_0x1f805b(0xa4)),..._0x530d7a,async(_0x4bc62f,_0x200c0c)=>{const _0x305fa4=_0x1f805b;let _0x91d995=_0x4bc62f[_0x305fa4(0x26f)];y[_0x305fa4(0x77f)](_0x305fa4(0x4a0)),y[_0x305fa4(0x77f)](_0x305fa4(0x323)),y['verbose'](_0x4bc62f[_0x305fa4(0x26f)]);let _0x40790e=await this[_0x305fa4(0x1f7)]({'request':_0x4bc62f,'schema':N,'ClassRef':C,'execute':_0x1153d8=>$[_0x305fa4(0xa4)](_0x1153d8,_0x91d995)});_0x200c0c[_0x305fa4(0x180)](0xc8)[_0x305fa4(0x216)](_0x40790e);})[_0x1f805b(0xb5)](this[_0x1f805b(0x5f3)](_0x1f805b(0x671)),..._0x530d7a,async(_0x30c797,_0x226579)=>{const _0x538d5d=_0x1f805b;let _0xf72d34=_0x30c797['body'];y['verbose'](_0x538d5d(0x4e8)),y[_0x538d5d(0x77f)](_0x538d5d(0x323)),y[_0x538d5d(0x77f)](_0x30c797['body']);let _0x19c8ee=await this['dataValidate']({'request':_0x30c797,'schema':N,'ClassRef':C,'execute':_0x20ad32=>$['updateAutoCompleteMessages'](_0x20ad32,_0xf72d34)});_0x226579[_0x538d5d(0x180)](0xc8)[_0x538d5d(0x216)](_0x19c8ee);})[_0x1f805b(0xb5)](this[_0x1f805b(0x5f3)](_0x1f805b(0x10a)),..._0x530d7a,async(_0x4b3007,_0xd26bd0)=>{const _0x4a2998=_0x1f805b;let _0x94f1a2=_0x4b3007[_0x4a2998(0x26f)];y['verbose'](_0x4a2998(0xc3)),y['verbose']('request\x20body:\x20'),y[_0x4a2998(0x77f)](_0x4b3007[_0x4a2998(0x26f)]);let _0xb1c0e8=await this[_0x4a2998(0x1f7)]({'request':_0x4b3007,'schema':N,'ClassRef':C,'execute':_0x2f7a02=>$[_0x4a2998(0x10a)](_0x2f7a02,_0x94f1a2)});_0xd26bd0[_0x4a2998(0x180)](0xc8)[_0x4a2998(0x216)](_0xb1c0e8);})[_0x1f805b(0xb5)](this['routerPath']('getConversation'),..._0x530d7a,async(_0x53db8c,_0x5b39ce)=>{const _0xa0069b=_0x1f805b;let _0x528ae2=_0x53db8c[_0xa0069b(0x26f)];y[_0xa0069b(0x77f)](_0xa0069b(0x5ed)),y[_0xa0069b(0x77f)](_0xa0069b(0x323)),y['verbose'](_0x53db8c['body']);let _0x42ffd8=await this[_0xa0069b(0x1f7)]({'request':_0x53db8c,'schema':N,'ClassRef':C,'execute':_0x2b81f5=>$[_0xa0069b(0x312)](_0x2b81f5,_0x528ae2)});_0x5b39ce[_0xa0069b(0x180)](0xc8)['json'](_0x42ffd8);})['post'](this[_0x1f805b(0x5f3)]('fetchConversation'),..._0x530d7a,async(_0xe82548,_0x6a60e)=>{const _0x25b5b2=_0x1f805b;let _0x8d303b=_0xe82548[_0x25b5b2(0x26f)];y[_0x25b5b2(0x77f)](_0x25b5b2(0x643)),y[_0x25b5b2(0x77f)](_0x25b5b2(0x323)),y['verbose'](_0xe82548[_0x25b5b2(0x26f)]);let _0x26f4bd=await this[_0x25b5b2(0x1f7)]({'request':_0xe82548,'schema':N,'ClassRef':C,'execute':_0x44259a=>$[_0x25b5b2(0x409)](_0x44259a,_0x8d303b)});_0x6a60e[_0x25b5b2(0x180)](0xc8)[_0x25b5b2(0x216)](_0x26f4bd);})['post'](this[_0x1f805b(0x5f3)](_0x1f805b(0x16d)),..._0x530d7a,async(_0x2bb20c,_0x28e3f6)=>{const _0x178649=_0x1f805b;let _0x580c61=_0x2bb20c[_0x178649(0x26f)];y[_0x178649(0x77f)](_0x178649(0x605)),y[_0x178649(0x77f)](_0x178649(0x323)),y[_0x178649(0x77f)](_0x2bb20c[_0x178649(0x26f)]);let _0x4b521e=await this[_0x178649(0x1f7)]({'request':_0x2bb20c,'schema':N,'ClassRef':C,'execute':_0x2cc41a=>$[_0x178649(0x16d)](_0x2cc41a,_0x580c61)});_0x28e3f6[_0x178649(0x180)](0xc8)[_0x178649(0x216)](_0x4b521e);})[_0x1f805b(0x71f)](this[_0x1f805b(0x5f3)]('deleteConversation'),..._0x530d7a,async(_0x534ef4,_0x4353b2)=>{const _0x1d2f87=_0x1f805b;let _0x46e1ba=_0x534ef4[_0x1d2f87(0x26f)];y[_0x1d2f87(0x77f)](_0x1d2f87(0xc1)),y['verbose']('request\x20body:\x20'),y[_0x1d2f87(0x77f)](_0x534ef4[_0x1d2f87(0x26f)]);let _0x35a0fd=await this[_0x1d2f87(0x1f7)]({'request':_0x534ef4,'schema':N,'ClassRef':C,'execute':_0x1eba38=>$[_0x1d2f87(0x6ba)](_0x1eba38,_0x46e1ba)});_0x4353b2[_0x1d2f87(0x180)](0xc8)[_0x1d2f87(0x216)](_0x35a0fd);})[_0x1f805b(0xb5)](this['routerPath']('createflow'),..._0x530d7a,async(_0x39dfce,_0x4155a3)=>{const _0x3174d5=_0x1f805b;let _0x38f977=_0x39dfce[_0x3174d5(0x26f)];y[_0x3174d5(0x77f)](_0x3174d5(0x682)),y[_0x3174d5(0x77f)]('request\x20body:\x20'),y['verbose'](_0x39dfce[_0x3174d5(0x26f)]);let _0x157fdf=await this[_0x3174d5(0x1f7)]({'request':_0x39dfce,'schema':N,'ClassRef':C,'execute':_0x392f3f=>$[_0x3174d5(0x20d)](_0x392f3f,_0x38f977)});_0x4155a3[_0x3174d5(0x180)](0xc8)[_0x3174d5(0x216)](_0x157fdf);})[_0x1f805b(0xb5)](this[_0x1f805b(0x5f3)](_0x1f805b(0x4f5)),..._0x530d7a,async(_0x39224c,_0x128460)=>{const _0x7092c0=_0x1f805b;let _0x421200=_0x39224c['body'];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x7092c0(0x77f)](_0x7092c0(0x323)),y[_0x7092c0(0x77f)](_0x39224c[_0x7092c0(0x26f)]),delete _0x421200['blocks'],delete _0x421200[_0x7092c0(0x112)],delete _0x421200[_0x7092c0(0x6cd)],delete _0x421200[_0x7092c0(0x3bc)];let _0x5e769c=await this[_0x7092c0(0x1f7)]({'request':_0x39224c,'schema':N,'ClassRef':C,'execute':_0x3fc4bf=>$['editFlow'](_0x3fc4bf,_0x421200)});_0x128460[_0x7092c0(0x180)](0xc8)[_0x7092c0(0x216)](_0x5e769c);})[_0x1f805b(0xb5)](this['routerPath'](_0x1f805b(0x26c)),..._0x530d7a,async(_0x1d0e52,_0x526307)=>{const _0x2659f0=_0x1f805b;let _0x4d61b2=_0x1d0e52['body'];y[_0x2659f0(0x77f)](_0x2659f0(0x18b)),y[_0x2659f0(0x77f)](_0x2659f0(0x323)),y[_0x2659f0(0x77f)](_0x1d0e52[_0x2659f0(0x26f)]);let _0xf58a14=await this[_0x2659f0(0x1f7)]({'request':_0x1d0e52,'schema':N,'ClassRef':C,'execute':_0x2cca0a=>$[_0x2659f0(0xf9)](_0x2cca0a,_0x4d61b2)});_0x526307[_0x2659f0(0x180)](0xc8)[_0x2659f0(0x216)](_0xf58a14);})[_0x1f805b(0xb5)](this[_0x1f805b(0x5f3)](_0x1f805b(0x5e3)),..._0x530d7a,async(_0x375673,_0x466a55)=>{const _0x5e25da=_0x1f805b;let _0x4d72c6=_0x375673['body'];y[_0x5e25da(0x77f)](_0x5e25da(0x18b)),y[_0x5e25da(0x77f)](_0x5e25da(0x323)),y['verbose'](_0x375673[_0x5e25da(0x26f)]);let _0x2d0fc4=await this[_0x5e25da(0x1f7)]({'request':_0x375673,'schema':N,'ClassRef':C,'execute':_0x3de39e=>$[_0x5e25da(0x29d)](_0x3de39e,_0x4d72c6)});_0x466a55[_0x5e25da(0x180)](0xc8)[_0x5e25da(0x216)](_0x2d0fc4);})['post'](this['routerPath'](_0x1f805b(0x2d5)),..._0x530d7a,async(_0x37c613,_0x272f92)=>{const _0x1630cb=_0x1f805b;let _0x1fa70a=_0x37c613['body'];y[_0x1630cb(0x77f)]('request\x20received\x20in\x20editFlow'),y[_0x1630cb(0x77f)]('request\x20body:\x20'),y[_0x1630cb(0x77f)](_0x37c613[_0x1630cb(0x26f)]);let _0x362689=await this[_0x1630cb(0x1f7)]({'request':_0x37c613,'schema':N,'ClassRef':C,'execute':_0x50d402=>$[_0x1630cb(0x74a)](_0x50d402,_0x1fa70a)});_0x272f92[_0x1630cb(0x180)](0xc8)[_0x1630cb(0x216)](_0x362689);})[_0x1f805b(0xb5)](this['routerPath'](_0x1f805b(0x286)),..._0x530d7a,async(_0x32d095,_0x28201b)=>{const _0x43924f=_0x1f805b;let _0x4331d5=_0x32d095[_0x43924f(0x26f)];y[_0x43924f(0x77f)](_0x43924f(0x579)),y[_0x43924f(0x77f)](_0x43924f(0x323)),y['verbose'](_0x32d095[_0x43924f(0x26f)]);let _0x2ba24f=await this[_0x43924f(0x1f7)]({'request':_0x32d095,'schema':N,'ClassRef':C,'execute':_0x1c2a0a=>$[_0x43924f(0x49f)](_0x1c2a0a,_0x4331d5)});_0x28201b[_0x43924f(0x180)](0xc8)[_0x43924f(0x216)](_0x2ba24f);})['post'](this['routerPath']('editflowcondition'),..._0x530d7a,async(_0x31ba7a,_0x2b41dd)=>{const _0x567340=_0x1f805b;let _0x5f0ac0=_0x31ba7a[_0x567340(0x26f)];y[_0x567340(0x77f)](_0x567340(0x4fb)),y[_0x567340(0x77f)](_0x567340(0x323)),y[_0x567340(0x77f)](_0x31ba7a[_0x567340(0x26f)]);let _0x5f05b5=await this[_0x567340(0x1f7)]({'request':_0x31ba7a,'schema':N,'ClassRef':C,'execute':_0x35e1f0=>$[_0x567340(0x6fd)](_0x35e1f0,_0x5f0ac0)});_0x2b41dd['status'](0xc8)[_0x567340(0x216)](_0x5f05b5);})['post'](this[_0x1f805b(0x5f3)](_0x1f805b(0x4bc)),..._0x530d7a,async(_0x465f58,_0x3344e4)=>{const _0xfcbe1d=_0x1f805b;let _0x313573=_0x465f58['body'];y[_0xfcbe1d(0x77f)](_0xfcbe1d(0x108)),y[_0xfcbe1d(0x77f)](_0xfcbe1d(0x323)),y['verbose'](_0x465f58[_0xfcbe1d(0x26f)]);let _0x343f7f=await this['dataValidate']({'request':_0x465f58,'schema':N,'ClassRef':C,'execute':_0x4417ed=>$[_0xfcbe1d(0x31a)](_0x4417ed,_0x313573)});_0x3344e4[_0xfcbe1d(0x180)](0xc8)[_0xfcbe1d(0x216)](_0x343f7f);})[_0x1f805b(0xb5)](this[_0x1f805b(0x5f3)](_0x1f805b(0x519)),..._0x530d7a,async(_0x33f8ca,_0x308793)=>{const _0x508eee=_0x1f805b;let _0x4eb52a=_0x33f8ca[_0x508eee(0x26f)];y['verbose'](_0x508eee(0xef)),y[_0x508eee(0x77f)](_0x508eee(0x323)),y[_0x508eee(0x77f)](_0x33f8ca[_0x508eee(0x26f)]);let _0x3004fb=await this[_0x508eee(0x1f7)]({'request':_0x33f8ca,'schema':N,'ClassRef':C,'execute':_0x2c4fec=>$[_0x508eee(0x136)](_0x2c4fec,_0x4eb52a)});_0x308793['status'](0xc8)[_0x508eee(0x216)](_0x3004fb);})[_0x1f805b(0x71f)](this[_0x1f805b(0x5f3)](_0x1f805b(0x4af)),..._0x530d7a,async(_0x4582b2,_0x4ade5a)=>{const _0x395a53=_0x1f805b;let _0x476a99=_0x4582b2[_0x395a53(0x26f)];y[_0x395a53(0x77f)](_0x395a53(0x156)),y[_0x395a53(0x77f)](_0x395a53(0x323)),y['verbose'](_0x4582b2[_0x395a53(0x26f)]);let _0x4b64a9=await this['dataValidate']({'request':_0x4582b2,'schema':N,'ClassRef':C,'execute':_0x18e9a6=>$['deleteFlow'](_0x18e9a6,_0x476a99)});_0x4ade5a[_0x395a53(0x180)](0xc8)[_0x395a53(0x216)](_0x4b64a9);})[_0x1f805b(0x72c)](this['routerPath'](_0x1f805b(0x146)),..._0x530d7a,async(_0x780e03,_0xf08cdc)=>{const _0x1e114b=_0x1f805b;y[_0x1e114b(0x77f)](_0x1e114b(0x581));let _0xa3c11b=await this['dataValidate']({'request':_0x780e03,'schema':N,'ClassRef':C,'execute':_0x37a5b5=>$[_0x1e114b(0x36d)](_0x37a5b5)});_0xf08cdc[_0x1e114b(0x180)](0xc8)[_0x1e114b(0x216)](_0xa3c11b);});}},Mr=O(require(a0_0x28fd55(0x23e))),Z={};function yr(_0xb6c861,_0x1a4068,_0x5a4990,_0xa62e4e){Z[_0xb6c861]||(Z[_0xb6c861]={}),Z[_0xb6c861][_0x1a4068]={'id':_0x1a4068,'response':_0x5a4990,'events':_0xa62e4e};}function br(_0x3cb43b,_0x553cd4){!Z[_0x3cb43b]||!Z[_0x3cb43b][_0x553cd4]||delete Z[_0x3cb43b][_0x553cd4];}function J(_0x5ee29a,_0x313ff6,_0x2ee6f3){const _0x598390=a0_0x28fd55;if(!Z[_0x5ee29a])return;let _0x36c7f1=_0x598390(0x131)+JSON[_0x598390(0x431)](_0x2ee6f3)+'\x0a\x0a';Object[_0x598390(0x509)](Z[_0x5ee29a])[_0x598390(0x32d)](_0x1647bd=>{const _0x4e5df8=_0x598390;_0x1647bd[_0x4e5df8(0x583)]['includes'](_0x313ff6)&&_0x1647bd[_0x4e5df8(0xb9)][_0x4e5df8(0x755)](_0x36c7f1);});}function Sr(){const _0x24c659=a0_0x28fd55;let _0x1e1a21={};for(let _0x3a33a8 in Z)_0x1e1a21[_0x3a33a8]=Object['values'](Z[_0x3a33a8])[_0x24c659(0x3ef)](_0x2af168=>({'id':_0x2af168['id'],'events':_0x2af168[_0x24c659(0x583)]}));return _0x1e1a21;}var Cr=require(a0_0x28fd55(0x609)),Ns=require(a0_0x28fd55(0x3f9)),vs=class{},Ci=new Ns[(a0_0x28fd55(0x621))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Ei=new Ns[(a0_0x28fd55(0x621))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':Ci},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),be=T?.[a0_0x28fd55(0x370)](vs[a0_0x28fd55(0x616)],Ei,a0_0x28fd55(0x2c2)),vi=Mr[a0_0x28fd55(0x446)][a0_0x28fd55(0x597)](__dirname,'downloads'),$t=(0x0,At[a0_0x28fd55(0x670)])(),Ni=b[a0_0x28fd55(0x72c)](a0_0x28fd55(0x213))[a0_0x28fd55(0x5e7)],se=[Oa,Aa,xa[Ni]];$t[a0_0x28fd55(0x429)](a0_0x28fd55(0x98),At[a0_0x28fd55(0x446)][a0_0x28fd55(0x2de)](vi))[a0_0x28fd55(0x72c)](a0_0x28fd55(0x435),async(_0x54e916,_0x14c50a)=>{const _0x4bcf3d=a0_0x28fd55;console[_0x4bcf3d(0x125)](_0x4bcf3d(0x4dc));let _0x1d1782=_0x54e916[_0x4bcf3d(0x159)]['instance'],_0x3bf8b2=(_0x54e916['query'][_0x4bcf3d(0x583)]||'')[_0x4bcf3d(0x5c6)](','),_0x5547fd=(0x0,Cr['v4'])();console[_0x4bcf3d(0x125)]('Instance\x20ID:',_0x1d1782),console[_0x4bcf3d(0x125)](_0x4bcf3d(0x41a),_0x3bf8b2);let _0x2e6df7=b[_0x4bcf3d(0x72c)](_0x4bcf3d(0x213))['API_KEY'],_0x1da23e=_0x54e916[_0x4bcf3d(0x4db)]['apikey'];if(console[_0x4bcf3d(0x125)](_0x4bcf3d(0x3da),_0x1da23e),_0x2e6df7[_0x4bcf3d(0x72b)]!==_0x1da23e){console[_0x4bcf3d(0x125)]('env.KEY\x20!==\x20key');try{let _0x464a4a=await ue[_0x4bcf3d(0x15b)]['find'](_0x1d1782);if(console[_0x4bcf3d(0x125)](_0x4bcf3d(0x4ae),_0x464a4a),!_0x464a4a||_0x464a4a[_0x4bcf3d(0x36a)]!==_0x1da23e)return console[_0x4bcf3d(0x125)](_0x4bcf3d(0x393)),_0x14c50a['status'](0x191)['send'](_0x4bcf3d(0x664));}catch(_0x4210d8){return console[_0x4bcf3d(0xbc)](_0x4bcf3d(0x5c0),_0x4210d8),_0x14c50a['status'](0x191)['send']('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Xe(_0x1d1782))return _0x14c50a['status'](0x194)[_0x4bcf3d(0x3d0)]('Instância\x20não\x20encontrada.');_0x14c50a[_0x4bcf3d(0x2f3)](_0x4bcf3d(0x404),_0x4bcf3d(0xcf)),_0x14c50a[_0x4bcf3d(0x2f3)](_0x4bcf3d(0x16c),'no-cache'),_0x14c50a['setHeader'](_0x4bcf3d(0x692),_0x4bcf3d(0x32b)),_0x14c50a[_0x4bcf3d(0x4ec)]();let _0x40ff83=_0x4bcf3d(0x131)+JSON[_0x4bcf3d(0x431)]({'info':_0x4bcf3d(0x2dc)})+'\x0a\x0a';_0x14c50a[_0x4bcf3d(0x755)](_0x40ff83),yr(_0x1d1782,_0x5547fd,_0x14c50a,_0x3bf8b2),_0x54e916['on'](_0x4bcf3d(0x575),()=>{const _0x8dc4f5=_0x4bcf3d;console['log'](_0x8dc4f5(0x46e)+_0x1d1782),br(_0x1d1782,_0x5547fd);});}),$t[a0_0x28fd55(0x72c)](a0_0x28fd55(0x4ca),(_0x280e10,_0x3b96cc)=>{let _0x2f45c2=Sr();_0x3b96cc['json'](_0x2f45c2);})[a0_0x28fd55(0x72c)]('/',(_0x78dd60,_0x450f41)=>{const _0x7e0609=a0_0x28fd55;let _0x12c1ca=b[_0x7e0609(0x72c)](_0x7e0609(0x473))['URL'];if(_0x12c1ca){let _0x1808e3=encodeURIComponent(''+_0x12c1ca);_0x450f41['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x1808e3);return;}let _0x30db3a=b[_0x7e0609(0x72c)](_0x7e0609(0x513)),_0x3bbd36=_0x30db3a&&_0x30db3a[_0x7e0609(0x2c6)]['split']('/')[0x4];if(_0x3bbd36){let _0x1c0f60=encodeURIComponent(_0x7e0609(0x75c)+_0x3bbd36);_0x450f41[_0x7e0609(0x517)](_0x7e0609(0x1fc)+_0x1c0f60);}else _0x450f41[_0x7e0609(0x517)](_0x7e0609(0x54d));})['put'](a0_0x28fd55(0xd3),...se,async(_0x2ab12a,_0x325842)=>{const _0x2b4a4d=a0_0x28fd55;try{console[_0x2b4a4d(0x125)](_0x2b4a4d(0x3e6)),_0x325842['status'](0xc8)['json']({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x325842['on'](_0x2b4a4d(0x162),()=>process[_0x2b4a4d(0x3c8)](0x0));}catch(_0x2436a7){console[_0x2b4a4d(0xbc)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x2436a7),_0x325842[_0x2b4a4d(0x180)](0x1f4)[_0x2b4a4d(0x216)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x28fd55(0x2c8)]('/config',...se,async(_0x500e11,_0x4c4f48)=>{const _0x58e177=a0_0x28fd55;try{let _0x268264=_0x500e11[_0x58e177(0x26f)];await be[_0x58e177(0x1b5)]({},{'$set':_0x268264},{'upsert':!0x0});let _0x4c8ad3=await be[_0x58e177(0x267)]();_0x4c4f48[_0x58e177(0x216)](_0x4c8ad3);}catch(_0x59f338){_0x4c4f48[_0x58e177(0x180)](0x190)['send'](_0x59f338[_0x58e177(0x559)]);}})[a0_0x28fd55(0x72c)](a0_0x28fd55(0x2dd),...se,async(_0x4eeb79,_0xa34587)=>{const _0x3caa32=a0_0x28fd55;try{let _0x43d976=await be[_0x3caa32(0x267)]();if(!_0x43d976)return _0xa34587[_0x3caa32(0x216)]({});_0xa34587[_0x3caa32(0x216)](_0x43d976);}catch(_0x2e0def){_0xa34587['status'](0x1f4)[_0x3caa32(0x3d0)](_0x2e0def[_0x3caa32(0x559)]);}})[a0_0x28fd55(0x429)]('/instance',new gt(b,...se)['router'])[a0_0x28fd55(0x429)](a0_0x28fd55(0x51a),new Nt(...se)[a0_0x28fd55(0x401)])[a0_0x28fd55(0x429)]('/chat',new rt(...se)[a0_0x28fd55(0x401)])[a0_0x28fd55(0x429)]('/group',new ht(...se)[a0_0x28fd55(0x401)])[a0_0x28fd55(0x429)](a0_0x28fd55(0x30f),new Tt(...se)[a0_0x28fd55(0x401)])[a0_0x28fd55(0x429)](a0_0x28fd55(0x387),new Ot(...se)['router']);var m=class{constructor(..._0x680d2e){const _0x506add=a0_0x28fd55;throw{'status':0x190,'error':_0x506add(0x200),'message':_0x680d2e[_0x506add(0x479)]>0x0?_0x680d2e:void 0x0};}},te=class{constructor(..._0x52ee06){const _0x2de419=a0_0x28fd55;throw{'status':0x191,'error':_0x2de419(0x120),'message':_0x52ee06[_0x2de419(0x479)]>0x0?_0x52ee06:void 0x0};}},Q=class{constructor(..._0x28507d){const _0x1e5585=a0_0x28fd55;throw{'status':0x193,'error':_0x1e5585(0x780),'message':_0x28507d['length']>0x0?_0x28507d:void 0x0};}},U=class{constructor(..._0x2b7032){const _0x158269=a0_0x28fd55;throw{'status':0x194,'error':_0x158269(0x340),'message':_0x2b7032[_0x158269(0x479)]>0x0?_0x2b7032:void 0x0};}},I=class{constructor(..._0x430c30){const _0x25beea=a0_0x28fd55;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x430c30[_0x25beea(0x479)]>0x0?_0x430c30:void 0x0};}},de=require('@whiskeysockets/baileys');async function Rs(_0x458bb7){const _0x8ca7a6=a0_0x28fd55;let _0x318c88=new R(Rs[_0x8ca7a6(0x616)]),_0x3face0=T['getClient'](),_0x9b7ab7=_0x3face0['db'](b[_0x8ca7a6(0x72c)]('DATABASE')['CONNECTION']['DB_PREFIX_NAME']+'-instances')['collection'](_0x458bb7),_0x59e883=async(_0x2835b2,_0x5b87b9)=>{const _0x527ec1=_0x8ca7a6;try{return await _0x3face0['connect'](),await _0x9b7ab7['replaceOne']({'_id':_0x5b87b9},JSON[_0x527ec1(0x3a4)](JSON[_0x527ec1(0x431)](_0x2835b2,de[_0x527ec1(0x76b)][_0x527ec1(0x1e2)])),{'upsert':!0x0});}catch{}},_0x511d29=async _0x1d4f89=>{const _0x5af04c=_0x8ca7a6;try{await _0x3face0[_0x5af04c(0x589)]();let _0x174969=await _0x9b7ab7['findOne']({'_id':_0x1d4f89}),_0x2c4175=JSON[_0x5af04c(0x431)](_0x174969);return JSON[_0x5af04c(0x3a4)](_0x2c4175,de[_0x5af04c(0x76b)]['reviver']);}catch{}},_0x23e978=async _0xc2b869=>{const _0x56233a=_0x8ca7a6;try{return await _0x3face0[_0x56233a(0x589)](),await _0x9b7ab7[_0x56233a(0x341)]({'_id':_0xc2b869});}catch{}},_0x7d22c6=await _0x511d29(_0x8ca7a6(0x57f))||(0x0,de['initAuthCreds'])();return{'state':{'creds':_0x7d22c6,'keys':{'get':async(_0x51de72,_0x2daf98)=>{let _0x2c3058={};return await Promise['all'](_0x2daf98['map'](async _0x600ff6=>{const _0x22f5ab=a0_0x472e;let _0x4fc728=await _0x511d29(_0x51de72+'-'+_0x600ff6);_0x51de72==='app-state-sync-key'&&_0x4fc728&&(_0x4fc728=de[_0x22f5ab(0x4cd)][_0x22f5ab(0x4ef)][_0x22f5ab(0x25f)][_0x22f5ab(0x424)](_0x4fc728)),_0x2c3058[_0x600ff6]=_0x4fc728;})),_0x2c3058;},'set':async _0x5edb16=>{const _0xfbc47d=_0x8ca7a6;let _0xafb8b1=[];for(let _0x3c42e in _0x5edb16)for(let _0x2e72f3 in _0x5edb16[_0x3c42e]){let _0x529f2c=_0x5edb16[_0x3c42e][_0x2e72f3],_0x1f0f95=_0x3c42e+'-'+_0x2e72f3;_0xafb8b1[_0xfbc47d(0x474)](_0x529f2c?_0x59e883(_0x529f2c,_0x1f0f95):_0x23e978(_0x1f0f95));}await Promise[_0xfbc47d(0x45f)](_0xafb8b1);}}},'saveCreds':async()=>_0x59e883(_0x7d22c6,'creds')};}var Is=O(require(a0_0x28fd55(0x53a))),xs=O(require(a0_0x28fd55(0x123))),Dt=require(a0_0x28fd55(0x5dc)),Er=require(a0_0x28fd55(0xd2)),xt=require('@whiskeysockets/baileys'),It;function Ri(_0x68bd83){const _0x1d0388=a0_0x28fd55;return It||(It=(0x0,Er['createClient'])({'url':_0x68bd83['URI']}),It[_0x1d0388(0x589)]()),It;}var ce=class c{constructor(_0x1e75ca,_0x2d5d25){const _0x4f3840=a0_0x28fd55;this['redisEnv']=_0x1e75ca,this[_0x4f3840(0x1e9)]=_0x2d5d25,this[_0x4f3840(0x2ca)]=new R(c[_0x4f3840(0x616)]),this[_0x4f3840(0x1f2)]=Ri(_0x1e75ca);}set[a0_0x28fd55(0x72a)](_0x39fc76){const _0x1642ae=a0_0x28fd55;this[_0x1642ae(0x1e9)]=_0x39fc76;}async['instanceKeys'](){const _0x1cf467=a0_0x28fd55;try{return await this[_0x1cf467(0x1f2)]['sendCommand']([_0x1cf467(0x14d),this[_0x1cf467(0x343)][_0x1cf467(0x3a1)]+':*']);}catch(_0x247a67){this['logger'][_0x1cf467(0xbc)](_0x247a67);}}async[a0_0x28fd55(0x2c7)](_0x36fcba,_0x524948){const _0x144c75=a0_0x28fd55;try{let _0x214bee=JSON[_0x144c75(0x431)](_0x524948,xt[_0x144c75(0x76b)]['replacer']);return await this[_0x144c75(0x1f2)][_0x144c75(0x1ae)](this[_0x144c75(0x343)]['PREFIX_KEY']+':'+this[_0x144c75(0x1e9)],_0x36fcba,_0x214bee);}catch(_0x428ee5){this[_0x144c75(0x2ca)]['error'](_0x428ee5);}}async['getAllData'](){const _0x38edca=a0_0x28fd55;try{let _0x41b364=await this[_0x38edca(0x1f2)][_0x38edca(0xf6)](this[_0x38edca(0x343)][_0x38edca(0x3a1)]+':'+this[_0x38edca(0x1e9)]);if(_0x41b364){for(let _0xc02d0c in _0x41b364)Object[_0x38edca(0x102)][_0x38edca(0x508)]['call'](_0x41b364,_0xc02d0c)&&(_0x41b364[_0xc02d0c]=JSON[_0x38edca(0x3a4)](_0x41b364[_0xc02d0c],xt[_0x38edca(0x76b)][_0x38edca(0x2c4)]));return _0x41b364;}}catch(_0x22a21){this[_0x38edca(0x2ca)][_0x38edca(0xbc)](_0x22a21);}}async[a0_0x28fd55(0x18a)](_0x3d3941){const _0xa4e683=a0_0x28fd55;try{let _0x4537ae=await this[_0xa4e683(0x1f2)][_0xa4e683(0x235)](this[_0xa4e683(0x343)][_0xa4e683(0x3a1)]+':'+this[_0xa4e683(0x1e9)],_0x3d3941);if(_0x4537ae)return JSON['parse'](_0x4537ae,xt['BufferJSON'][_0xa4e683(0x2c4)]);}catch(_0x28c3ab){this[_0xa4e683(0x2ca)][_0xa4e683(0xbc)](_0x28c3ab);}}async[a0_0x28fd55(0x662)](_0x1cf74f){const _0x81674f=a0_0x28fd55;try{return await this[_0x81674f(0x1f2)][_0x81674f(0x101)](this[_0x81674f(0x343)][_0x81674f(0x3a1)]+':'+this[_0x81674f(0x1e9)],_0x1cf74f);}catch(_0xe0f459){this[_0x81674f(0x2ca)][_0x81674f(0xbc)](_0xe0f459);}}async[a0_0x28fd55(0x657)](_0x5b46d8){const _0x2df597=a0_0x28fd55;try{return await this['client'][_0x2df597(0x78a)](_0x5b46d8||this['redisEnv'][_0x2df597(0x3a1)]+':'+this[_0x2df597(0x1e9)]);}catch(_0x5de7f8){this['logger'][_0x2df597(0xbc)](_0x5de7f8);}}};async function Ts(_0x1cb190,_0x5794cd){const _0x1cf140=a0_0x28fd55;let _0x558f8b=new R(Ts[_0x1cf140(0x616)]),_0x1cde51=new ce(_0x1cb190,_0x5794cd),_0x1d39b7=async(_0x23f911,_0xe6556b)=>{const _0x1beb7c=_0x1cf140;try{return await _0x1cde51['writeData'](_0xe6556b,_0x23f911);}catch(_0x4d201b){return _0x558f8b[_0x1beb7c(0xbc)]({'localError':_0x1beb7c(0x2c7),'error':_0x4d201b});}},_0x29f7a9=async _0x30eb30=>{const _0x546e75=_0x1cf140;try{return await _0x1cde51['readData'](_0x30eb30);}catch(_0x52da05){_0x558f8b[_0x546e75(0xbc)]({'readData':_0x546e75(0x2c7),'error':_0x52da05});return;}},_0x4b03f3=async _0x54b53b=>{const _0x465971=_0x1cf140;try{return await _0x1cde51[_0x465971(0x662)](_0x54b53b);}catch(_0x18755a){_0x558f8b[_0x465971(0xbc)]({'readData':_0x465971(0x662),'error':_0x18755a});}},_0x299af2=await _0x29f7a9(_0x1cf140(0x57f))||(0x0,Dt[_0x1cf140(0x218)])();return{'state':{'creds':_0x299af2,'keys':{'get':async(_0xf56950,_0x18b145)=>{const _0x4111ce=_0x1cf140;let _0x523286={};return await Promise['all'](_0x18b145[_0x4111ce(0x3ef)](async _0x5c0c28=>{const _0x4f57b7=_0x4111ce;let _0xa8505a=await _0x29f7a9(_0xf56950+'-'+_0x5c0c28);_0xf56950===_0x4f57b7(0x408)&&_0xa8505a&&(_0xa8505a=Dt[_0x4f57b7(0x4cd)][_0x4f57b7(0x4ef)][_0x4f57b7(0x25f)][_0x4f57b7(0x424)](_0xa8505a)),_0x523286[_0x5c0c28]=_0xa8505a;})),_0x523286;},'set':async _0x235e37=>{const _0x1d688a=_0x1cf140;let _0x44a183=[];for(let _0x2d31c9 in _0x235e37)for(let _0x981870 in _0x235e37[_0x2d31c9]){let _0x481061=_0x235e37[_0x2d31c9][_0x981870],_0x33d691=_0x2d31c9+'-'+_0x981870;_0x44a183[_0x1d688a(0x474)](_0x481061?await _0x1d39b7(_0x481061,_0x33d691):await _0x4b03f3(_0x33d691));}await Promise[_0x1d688a(0x45f)](_0x44a183);}}},'saveCreds':async()=>await _0x1d39b7(_0x299af2,'creds')};}var j=O(require('fs')),jt=require('uuid'),Lt=O(require(a0_0x28fd55(0x478))),Ft=require(a0_0x28fd55(0x110)),Ti='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'[a0_0x28fd55(0x61e)](),_t=Ti[a0_0x28fd55(0x5c6)]('\x0a')[a0_0x28fd55(0x3ef)](_0x14a141=>{const _0x1ace9d=a0_0x28fd55;let _0x52569b=_0x14a141[_0x1ace9d(0x5c6)](':'),_0x27efe2={'host':_0x52569b[0x0],'port':_0x52569b[0x1],'protocol':'http'};return _0x52569b['length']===0x4&&(_0x27efe2[_0x1ace9d(0x3ba)]=_0x52569b[0x2],_0x27efe2['password']=_0x52569b[0x3]),_0x27efe2;});function vr(_0x107d1c){const _0x231b17=a0_0x28fd55;return _t['find'](_0x2e60be=>_0x2e60be[_0x231b17(0x223)]===_0x107d1c)||null;}function Nr(){const _0x3ef97a=a0_0x28fd55;if(_t[_0x3ef97a(0x479)]===0x0)return null;let _0x163ceb=Math[_0x3ef97a(0x452)](Math[_0x3ef97a(0x255)]()*_t[_0x3ef97a(0x479)]);return _t[_0x163ceb];}function Os(_0x3d5267){const _0x449bfe=a0_0x28fd55;let _0xf2991b=_0x5a1717=>typeof _0x5a1717==_0x449bfe(0x660)&&_0x5a1717[_0x449bfe(0x479)]>0x0,_0x2dc0ab=_0x39fa9f=>{let _0x31c560=parseInt(_0x39fa9f,0xa);return!isNaN(_0x31c560)&&_0x31c560>0x0&&_0x31c560<=0xffff;},_0x56fdbf=_0x24665d=>typeof _0x24665d==_0x449bfe(0x660)&&_0x24665d[_0x449bfe(0x479)]>0x0;return _0x3d5267&&_0xf2991b(_0x3d5267[_0x449bfe(0x223)])&&_0x2dc0ab(_0x3d5267[_0x449bfe(0x3f3)])&&(!_0x3d5267[_0x449bfe(0x3ba)]||_0x56fdbf(_0x3d5267[_0x449bfe(0x3ba)]))&&(!_0x3d5267[_0x449bfe(0x392)]||_0x56fdbf(_0x3d5267[_0x449bfe(0x392)]))&&(_0x3d5267[_0x449bfe(0x34d)]===_0x449bfe(0x3d5)||_0x3d5267[_0x449bfe(0x34d)]===_0x449bfe(0x13a));}var Jt=require(a0_0x28fd55(0x308)),Ds='Safari',Ir,le=null,Rr=null,et=null,Oi=0x3,Ai=null;async function $i(){const _0x209e7a=a0_0x28fd55;let _0x4220a5=await be['findOne']();le=_0x4220a5?.[_0x209e7a(0x168)]??null,Ai=_0x4220a5?.[_0x209e7a(0xe9)]??null,Ds=_0x4220a5?.[_0x209e7a(0x50c)]??_0x209e7a(0x599),Ir=_0x4220a5?.[_0x209e7a(0x3a0)]??_s??_0x209e7a(0xc0),console[_0x209e7a(0x125)](_0x209e7a(0x4b1)),console[_0x209e7a(0x125)](_0x4220a5);}async function Ii(){await $i();}function a0_0x472e(_0x3ec149,_0x32b146){const _0x222688=a0_0x2226();return a0_0x472e=function(_0x472e61,_0x6c7801){_0x472e61=_0x472e61-0x94;let _0x8aa3ef=_0x222688[_0x472e61];return _0x8aa3ef;},a0_0x472e(_0x3ec149,_0x32b146);}Ii();var Tr={},ae={},Se=class c{constructor(_0x3d7664,_0x338a27,_0x3ed191){const _0x3f3830=a0_0x28fd55;this[_0x3f3830(0x58f)]=_0x3d7664,this[_0x3f3830(0x19d)]=_0x338a27,this['repository']=_0x3ed191,this[_0x3f3830(0x44a)]=null,this['logger']=new R(c['name']),this[_0x3f3830(0x219)]={},this[_0x3f3830(0x5de)]={},this['stateConnection']={'state':_0x3f3830(0x575)},this['storePath']=(0x0,F[_0x3f3830(0x597)])(oe,'downloads'),this[_0x3f3830(0x489)]=new xs[(_0x3f3830(0x446))](),this[_0x3f3830(0x58c)]=new xs['default'](),this[_0x3f3830(0x2a5)]=!0x1,this['webhookMap']={'status.instance':_0x3f3830(0x192),'connection.update':_0x3f3830(0x192),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x3f3830(0x44e),'send.message':_0x3f3830(0x44e),'messages.update':_0x3f3830(0x60e),'group.upsert':_0x3f3830(0x577),'group.update':_0x3f3830(0x577),'group-participants.update':'/wa-groups','messages.set':_0x3f3830(0x37d),'contacts.set':'/wa-contacts','contacts.upsert':'/wa-contacts','contacts.update':_0x3f3830(0x651),'presence.update':_0x3f3830(0x6ee),'chats.set':_0x3f3830(0x350),'chats.update':'/wa-chats','chats.upsert':_0x3f3830(0x350),'chats.delete':_0x3f3830(0x350)},this[_0x3f3830(0x4f0)]=0x0,this[_0x3f3830(0x730)]=[],this[_0x3f3830(0x5da)]=0xa,this[_0x3f3830(0x578)]=0xea60,this[_0x3f3830(0xe4)]=!0x1,this[_0x3f3830(0x735)]={'chats.upsert':async(_0xceda25,_0x6f9cb5)=>{const _0x5775a4=_0x3f3830;let _0x26d018=[];for await(let _0x59900a of _0xceda25)_0x26d018['push']({'_id':_0x59900a['id'],'owner':this['instance'][_0x5775a4(0x415)],'group':_0x59900a['id'][_0x5775a4(0x354)](_0x5775a4(0x43a)),'name':_0x59900a[_0x5775a4(0x616)]||_0x59900a[_0x5775a4(0x29f)]||null,'contactname':null,'lastmsg':_0x59900a['conversationTimestamp']&&_0x59900a[_0x5775a4(0x5f2)][_0x5775a4(0x6dd)]()[_0x5775a4(0x479)]<0xd?_0x59900a['conversationTimestamp']*0x3e8:_0x59900a[_0x5775a4(0x5f2)]||null,'archived':_0x59900a[_0x5775a4(0x40b)]||!0x1,'unreadcount':_0x59900a[_0x5775a4(0x649)]||0x0,'ephemeralExpiration':_0x59900a[_0x5775a4(0x746)]||0x0});this[_0x5775a4(0x2a1)](_0x5775a4(0x34e),_0x26d018);},'chats.update':async(_0xa1ca75,_0x201f58)=>{const _0x245c32=_0x3f3830;for(let _0x4f24f4 of _0xa1ca75){let _0x2a0c73={'_id':_0x4f24f4['id'],'owner':this['instance']['wuid'],'archived':_0x4f24f4[_0x245c32(0x40b)],'muteEndTime':_0x4f24f4[_0x245c32(0x6be)],'ephemeralExpiration':_0x4f24f4[_0x245c32(0x746)]},_0x2771be=!0x1,_0x28f10f={};_0x2a0c73['archived']!=null&&(this['logger']['verbose'](this[_0x245c32(0x1e9)]+'\x20('+this['instance'][_0x245c32(0x415)]+_0x245c32(0x251)+_0x4f24f4['id']+_0x245c32(0x24a)+_0x4f24f4['archived']),_0x2771be=!0x0,_0x28f10f[_0x245c32(0x40b)]=_0x4f24f4[_0x245c32(0x40b)]),_0x245c32(0x6be)in _0x4f24f4&&(this[_0x245c32(0x2ca)][_0x245c32(0x77f)](this[_0x245c32(0x1e9)]+'\x20('+this[_0x245c32(0x219)][_0x245c32(0x415)]+_0x245c32(0x10f)+_0x4f24f4['id']+_0x245c32(0x24a)+(_0x4f24f4[_0x245c32(0x6be)]??'0')),_0x2771be=!0x0,_0x28f10f[_0x245c32(0x6be)]=_0x4f24f4['muteEndTime']??0x0),_0x245c32(0x746)in _0x4f24f4&&(this['logger']['verbose'](this[_0x245c32(0x1e9)]+'\x20('+this['instance'][_0x245c32(0x415)]+_0x245c32(0x264)+_0x4f24f4['id']+_0x245c32(0x24a)+(_0x4f24f4[_0x245c32(0x746)]!==void 0x0?_0x4f24f4[_0x245c32(0x746)]:_0x245c32(0x315))),_0x28f10f[_0x245c32(0x746)]=_0x4f24f4['ephemeralExpiration']===null?0x0:_0x4f24f4[_0x245c32(0x746)],_0x2771be=!0x0);let _0x49b29e;_0x2771be&&(_0x49b29e=await this[_0x245c32(0xf1)]['chat']['updateOne']({'where':{'_id':_0x4f24f4['id']}},_0x28f10f,this[_0x245c32(0x219)][_0x245c32(0x415)])),_0x49b29e&&J(this[_0x245c32(0x1e9)],'chats',{'chat':_0x49b29e});}},'chats.delete':async _0x212278=>{const _0x144fcc=_0x3f3830;for(let _0x724bc of _0x212278)if(_0x724bc['endsWith'](_0x144fcc(0x43a))){await this[_0x144fcc(0xf1)][_0x144fcc(0x17e)]['delete']({'where':{'_id':_0x724bc}},this[_0x144fcc(0x219)][_0x144fcc(0x415)]);let _0x33321d={'where':{'key':{'remoteJid':_0x724bc}}};await this[_0x144fcc(0xf1)][_0x144fcc(0x559)][_0x144fcc(0x71f)](_0x33321d,this['instance']['wuid']);}else{await this[_0x144fcc(0xf1)][_0x144fcc(0x17e)][_0x144fcc(0x1b5)]({'where':{'_id':_0x724bc}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x144fcc(0x219)][_0x144fcc(0x415)]);let _0x4d9094={'where':{'key':{'remoteJid':_0x724bc}}};await this[_0x144fcc(0xf1)][_0x144fcc(0x559)][_0x144fcc(0x71f)](_0x4d9094,this['instance'][_0x144fcc(0x415)]);}this[_0x144fcc(0x2a1)](_0x144fcc(0x38f),[..._0x212278]);}},this[_0x3f3830(0xe2)]={'contacts.upsert':async(_0x41982b,_0x528970)=>{const _0x2db666=_0x3f3830;let _0x2a90c6=await this[_0x2db666(0xf1)][_0x2db666(0x18d)][_0x2db666(0x167)]({'where':{}},this[_0x2db666(0x219)][_0x2db666(0x415)]),_0x3128b7=[];for await(let _0x163702 of _0x41982b)_0x2a90c6[_0x2db666(0x167)](_0x331f77=>_0x331f77[_0x2db666(0x53b)]===_0x163702['id'])||_0x3128b7[_0x2db666(0x474)]({'_id':_0x163702['id'],'pushName':_0x163702?.[_0x2db666(0x616)]||_0x163702?.[_0x2db666(0x1cd)],'owner':this[_0x2db666(0x219)][_0x2db666(0x415)]});this[_0x2db666(0x2a1)](_0x2db666(0xfa),_0x3128b7),await this[_0x2db666(0xf1)][_0x2db666(0x18d)][_0x2db666(0x278)](_0x3128b7);},'contacts.update':async(_0x3422b3,_0x43e539)=>{const _0x298cc5=_0x3f3830;let _0x5ad1bb=[];for await(let _0x3871c0 of _0x3422b3)_0x5ad1bb['push']({'_id':_0x3871c0['id'],'pushName':_0x3871c0?.['name']??_0x3871c0?.['verifiedName'],'owner':this[_0x298cc5(0x219)]['wuid']});this[_0x298cc5(0x2a1)](_0x298cc5(0x48c),_0x5ad1bb);}},this['messageHandle']={'messaging-history.set':async({messages:_0x2d38c9,chats:_0x3bd51c,isLatest:_0x59b6c7},_0x2274de)=>{const _0x3047a9=_0x3f3830;if(_0x59b6c7){let _0x36e7c3=await Promise[_0x3047a9(0x45f)](_0x3bd51c[_0x3047a9(0x3ef)](async _0x41f1f0=>({'_id':_0x41f1f0['id'],'owner':this[_0x3047a9(0x219)][_0x3047a9(0x415)],'group':_0x41f1f0['id'][_0x3047a9(0x354)](_0x3047a9(0x43a)),'name':_0x41f1f0[_0x3047a9(0x616)]||_0x41f1f0[_0x3047a9(0x29f)]||_0x41f1f0['username']||null,'contactname':null,'lastmsg':_0x41f1f0[_0x3047a9(0x5f2)]&&_0x41f1f0[_0x3047a9(0x5f2)][_0x3047a9(0x6dd)]()[_0x3047a9(0x479)]<0xd?_0x41f1f0[_0x3047a9(0x5f2)]*0x3e8:_0x41f1f0[_0x3047a9(0x5f2)]||null,'archived':_0x41f1f0['archived']||!0x1,'unreadcount':_0x41f1f0[_0x3047a9(0x649)]||0x0,'ephemeralExpiration':_0x41f1f0[_0x3047a9(0x746)]||0x0,'muteEndTime':_0x41f1f0[_0x3047a9(0x6be)]||0x0})));this[_0x3047a9(0x2a1)](_0x3047a9(0x4b0),_0x36e7c3),await this[_0x3047a9(0x69b)](_0x36e7c3,_0x2274de);}let _0x28a6a0=[],_0x36e018=Date[_0x3047a9(0x717)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x1dc5ab]of Object[_0x3047a9(0x55c)](_0x2d38c9)){if(_0x1dc5ab[_0x3047a9(0x559)]?.['protocolMessage']||_0x1dc5ab['message']?.[_0x3047a9(0x20a)]||!_0x1dc5ab[_0x3047a9(0x559)]||_0x1dc5ab['key']['remoteJid']===_0x3047a9(0x623)||(Is[_0x3047a9(0x446)]['isLong'](_0x1dc5ab?.[_0x3047a9(0x259)])&&(_0x1dc5ab['messageTimestamp']=_0x1dc5ab[_0x3047a9(0x259)]?.[_0x3047a9(0x426)]()),_0x1dc5ab[_0x3047a9(0x259)]&&_0x1dc5ab[_0x3047a9(0x259)][_0x3047a9(0x6dd)]()[_0x3047a9(0x479)]<0xd&&(_0x1dc5ab[_0x3047a9(0x259)]=_0x1dc5ab['messageTimestamp']*0x3e8),_0x1dc5ab['messageTimestamp']<_0x36e018))continue;let _0x4976e6=(0x0,f[_0x3047a9(0x3ed)])(_0x1dc5ab[_0x3047a9(0x559)]),_0xef11eb=(0x0,f[_0x3047a9(0x59d)])(_0x4976e6),{message_normalized:_0x385107}=this[_0x3047a9(0x3c9)](_0x4976e6,_0xef11eb,null);Object[_0x3047a9(0x14d)](_0x385107)[_0x3047a9(0x479)]>0x0&&_0x28a6a0['push']({'_id':_0x1dc5ab[_0x3047a9(0x475)]['id'],'key':_0x1dc5ab['key'],'pushName':_0x1dc5ab[_0x3047a9(0x6ff)],'participant':_0x1dc5ab[_0x3047a9(0x555)],'message':_0x4976e6,'messageType':_0xef11eb,'message_normalized':{'key':_0x1dc5ab['key'],'pushName':_0x1dc5ab[_0x3047a9(0x6ff)],'messageTimestamp':_0x1dc5ab[_0x3047a9(0x259)],..._0x385107},'messageTimestamp':_0x1dc5ab[_0x3047a9(0x259)],'owner':this[_0x3047a9(0x219)][_0x3047a9(0x415)]});}_0x2274de[_0x3047a9(0x15d)]&&_0x28a6a0[_0x3047a9(0x479)]>0x0&&(this[_0x3047a9(0x2ca)][_0x3047a9(0x77f)](this[_0x3047a9(0x1e9)]+'\x20('+this['instance'][_0x3047a9(0x415)]+_0x3047a9(0x48e)+_0x28a6a0[_0x3047a9(0x479)]+'\x20mensagens\x20de\x20'+this[_0x3047a9(0x219)][_0x3047a9(0x415)]+_0x3047a9(0x3ca)),await this[_0x3047a9(0xf1)][_0x3047a9(0x559)][_0x3047a9(0x278)]([..._0x28a6a0],this[_0x3047a9(0x219)][_0x3047a9(0x415)])),this[_0x3047a9(0x2a1)](_0x3047a9(0x54a),[..._0x28a6a0]),_0x2d38c9=void 0x0;},'messages.upsert':async({messages:_0x5bf878,type:_0x2c3f26},_0x6e1696)=>{const _0x330259=_0x3f3830;let _0x38801d=_0x5bf878[0x0],_0xd07926=_0x38801d[_0x330259(0x475)]['id'],_0x344fcf=_0x38801d[_0x330259(0x666)]===0x2,_0x11a9af=0xb;if(this[_0x330259(0x5de)]?.[_0x330259(0x3b9)]&&_0x38801d[_0x330259(0x475)]['remoteJid']['includes'](_0x330259(0x43a))){this[_0x330259(0x2ca)][_0x330259(0x77f)](this[_0x330259(0x1e9)]+'\x20('+this[_0x330259(0x219)][_0x330259(0x415)]+_0x330259(0x423));return;}if(_0x344fcf){if(ae[_0xd07926]||(ae[_0xd07926]=0x0),ae[_0xd07926]++,this[_0x330259(0x2ca)][_0x330259(0xbc)](this[_0x330259(0x1e9)]+'\x20('+this[_0x330259(0x219)][_0x330259(0x415)]+_0x330259(0x3d9)+_0x38801d[_0x330259(0x475)]['remoteJid']+_0x330259(0x5e2)+_0xd07926+':\x20'+ae[_0xd07926]+'/'+_0x11a9af),ae[_0xd07926]>=_0x11a9af){this[_0x330259(0x2ca)][_0x330259(0xbc)](this[_0x330259(0x1e9)]+'\x20('+this['instance']['wuid']+'):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x38801d['key']['remoteJid']+'\x20e\x20ID='+_0xd07926+'.');let _0x4bfaef={'key':{..._0x38801d[_0x330259(0x475)]},'message':{'conversation':_0x330259(0xc2)+_0xd07926+_0x330259(0x20e)}};this['client']['ev']['emit'](_0x330259(0x59f),{'messages':[_0x4bfaef],'type':_0x330259(0x3be)}),delete ae[_0xd07926];}}else ae[_0xd07926]&&(this['logger'][_0x330259(0x5ba)](_0x330259(0x1ac)+ae[_0xd07926]+'\x20tentativas:\x20remotejid='+_0x38801d[_0x330259(0x475)][_0x330259(0x5dd)]+_0x330259(0x5e2)+_0xd07926),delete ae[_0xd07926]);if(_0x2c3f26!==_0x330259(0x3be)||!_0x38801d?.['message']||_0x38801d[_0x330259(0x559)]?.['protocolMessage']||_0x38801d[_0x330259(0x559)]['senderKeyDistributionMessage']||_0x38801d[_0x330259(0x475)][_0x330259(0x5dd)]==='status@broadcast')return;let _0xd25915=null,_0x6e4a95=null;try{_0xd25915=await this['processPollUpdateMessage'](_0x38801d),_0x6e4a95=_0xd25915?_0xd25915[_0x330259(0x597)](','):null;}catch(_0x123215){this[_0x330259(0x2ca)][_0x330259(0x77f)](this[_0x330259(0x1e9)]+'\x20('+this[_0x330259(0x219)][_0x330259(0x415)]+_0x330259(0x48e)+(_0x123215 instanceof Error?_0x123215[_0x330259(0x559)]:JSON[_0x330259(0x431)](_0x123215,null,0x2))),_0x6e4a95=_0x330259(0x4e7);}this['client'][_0x330259(0x675)](_0x330259(0x69e)),Is[_0x330259(0x446)]['isLong'](_0x38801d[_0x330259(0x259)])&&(_0x38801d['messageTimestamp']=_0x38801d[_0x330259(0x259)]?.['toNumber']()),_0x38801d[_0x330259(0x259)]&&_0x38801d[_0x330259(0x259)][_0x330259(0x6dd)]()[_0x330259(0x479)]<0xd&&(_0x38801d['messageTimestamp']=_0x38801d[_0x330259(0x259)]*0x3e8);let _0x50919d=_0x38801d[_0x330259(0x559)],_0x141f76=(0x0,f['normalizeMessageContent'])(_0x50919d),_0x139c2e=(0x0,f[_0x330259(0x59d)])(_0x141f76),{messageContent:_0x19165a,message_normalized:_0x3f8f4b}=this[_0x330259(0x3c9)](_0x141f76,_0x139c2e,_0x6e4a95);_0x139c2e==='protocolMessage'&&_0x19165a?.[_0x330259(0x696)]&&(_0x139c2e=_0x330259(0x696));let _0x2026fa,_0x174f56=_0x38801d[_0x330259(0x475)][_0x330259(0x5dd)]['endsWith'](_0x330259(0x43a));if(_0x38801d['key']['fromMe'])_0x2026fa=this['instance'][_0x330259(0x379)];else{let _0x54c083=_0x174f56?_0x38801d[_0x330259(0x475)][_0x330259(0x555)]:_0x38801d[_0x330259(0x475)][_0x330259(0x5dd)];_0x2026fa=(await this[_0x330259(0x317)](_0x54c083,_0x38801d[_0x330259(0x6ff)],!0x1))['cachedContact'][_0x330259(0x49e)];}let _0x471861={'_id':_0x38801d[_0x330259(0x475)]['id'],'key':_0x38801d[_0x330259(0x475)],'isGroup':_0x174f56,'profilePictureUrl':_0x2026fa,'pushName':_0x38801d[_0x330259(0x6ff)],'message':_0x141f76,'messageType':_0x139c2e,'message_normalized':{'key':_0x38801d[_0x330259(0x475)],'pushName':_0x38801d[_0x330259(0x6ff)],'messageTimestamp':_0x38801d['messageTimestamp'],'source':(0x0,f[_0x330259(0x220)])(_0x38801d[_0x330259(0x475)]['id']),..._0x3f8f4b},'messageTimestamp':_0x38801d[_0x330259(0x259)],'owner':this[_0x330259(0x219)][_0x330259(0x415)],'source':(0x0,f['getDevice'])(_0x38801d['key']['id']),'expiration':_0x19165a?.[_0x330259(0x13f)]?.[_0x330259(0x457)]||0x0};_0x19165a||(console[_0x330259(0xbc)]('Mensagem\x20não\x20suportada'),this[_0x330259(0x2ca)]['error'](_0x471861)),this['logger'][_0x330259(0x125)](this[_0x330259(0x1e9)]+'\x20('+this['instance']['wuid']+_0x330259(0x48e)+(_0x471861[_0x330259(0x475)]?.[_0x330259(0x602)]?_0x330259(0x10e):_0x330259(0x330))+'\x20['+_0x471861[_0x330259(0x475)]?.[_0x330259(0x5dd)][_0x330259(0x4b8)](_0x330259(0x6fb),'')+_0x330259(0x186)+_0x471861[_0x330259(0x6d8)]+')'),_0x471861[_0x330259(0x50e)]?.[_0x330259(0xdd)]&&this[_0x330259(0x2ca)][_0x330259(0x125)](_0xd07926+':\x20'+_0x471861['message_normalized']?.[_0x330259(0xdd)]),await this[_0x330259(0xf1)][_0x330259(0x559)]['insert']([_0x471861],this['instance'][_0x330259(0x415)]),this[_0x330259(0x2a1)](_0x330259(0x59f),_0x471861),J(this[_0x330259(0x1e9)],_0x330259(0x171),{'message':_0x471861}),_0x38801d['key']['remoteJid']!==_0x330259(0x623)&&await this[_0x330259(0x19a)](_0x6e1696,_0x471861,'MESSAGES_UPSERT');},'messages.update':async(_0x251aa4,_0x5dd2b6)=>{const _0x3c9dcf=_0x3f3830;let _0x502604={0x0:'ERROR',0x1:'PENDING',0x2:_0x3c9dcf(0x5d4),0x3:_0x3c9dcf(0x77c),0x4:'READ',0x5:_0x3c9dcf(0xad)};for await(let {key:_0x3ef6c2,update:_0x5938f7}of _0x251aa4){if(this[_0x3c9dcf(0x5de)]?.['groups_ignore']&&_0x3ef6c2[_0x3c9dcf(0x5dd)][_0x3c9dcf(0x4d2)](_0x3c9dcf(0x43a))){this[_0x3c9dcf(0x2ca)][_0x3c9dcf(0x77f)](this[_0x3c9dcf(0x1e9)]+'\x20('+this['instance']['wuid']+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0x3ef6c2[_0x3c9dcf(0x5dd)]!=='status@broadcast'){let _0x150398=Date[_0x3c9dcf(0x717)](),_0x5067d3;_0x5938f7[_0x3c9dcf(0x559)]===null&&_0x5938f7['status']===void 0x0?_0x5067d3=_0x3c9dcf(0x77e):_0x5067d3=_0x502604[_0x5938f7['status']];let _0x1e1b84=_0x3ef6c2['remoteJid'][_0x3c9dcf(0x4b8)](/:\d{1,2}@/g,'@'),_0x53bfcf={..._0x3ef6c2,'remoteJid':_0x1e1b84,'status':_0x5067d3,'datetime':_0x150398,'owner':this['instance'][_0x3c9dcf(0x415)]};this[_0x3c9dcf(0x2a1)](_0x3c9dcf(0x2b0),_0x53bfcf),await this[_0x3c9dcf(0x520)](_0x3ef6c2,_0x53bfcf);}}},'labels.association':async({type:_0x312750,association:_0x29604d})=>{const _0x270ad1=_0x3f3830;if(_0x29604d[_0x270ad1(0x68c)]===_0x270ad1(0x6da)){let _0x154e54,_0x4c6dbd=0x0;for(;!_0x154e54&&_0x4c6dbd<this[_0x270ad1(0x722)];)_0x154e54=await this[_0x270ad1(0xf1)]['chat'][_0x270ad1(0x267)]({'where':{'_id':_0x29604d[_0x270ad1(0x5c9)]}},this[_0x270ad1(0x219)][_0x270ad1(0x415)]),_0x154e54||(_0x4c6dbd++,console[_0x270ad1(0x125)]('Chat\x20'+_0x29604d[_0x270ad1(0x5c9)]+_0x270ad1(0x4e9)+this[_0x270ad1(0xff)]+'ms\x20(Attempt\x20'+_0x4c6dbd+'/'+this[_0x270ad1(0x722)]+')'),await this[_0x270ad1(0x1b8)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x154e54){console[_0x270ad1(0xbc)]('Failed\x20to\x20find\x20chat\x20'+_0x29604d[_0x270ad1(0x5c9)]+_0x270ad1(0x6d9)+this[_0x270ad1(0x722)]+_0x270ad1(0x1f4));return;}switch(_0x312750){case _0x270ad1(0x6c9):console[_0x270ad1(0x125)](_0x29604d),await this[_0x270ad1(0xf1)][_0x270ad1(0x17e)][_0x270ad1(0x1b5)]({'where':{'_id':_0x29604d['chatId']}},{'leadInfo.etiquetas':_0x29604d['labelId']},this['instance']['wuid'],void 0x0,_0x270ad1(0x5e6));break;case _0x270ad1(0x2cd):console['log'](_0x29604d),await this[_0x270ad1(0xf1)][_0x270ad1(0x17e)][_0x270ad1(0x1b5)]({'where':{'_id':_0x29604d['chatId']}},{'leadInfo.etiquetas':_0x29604d[_0x270ad1(0x3b7)]},this[_0x270ad1(0x219)][_0x270ad1(0x415)],void 0x0,_0x270ad1(0xd9));break;default:console[_0x270ad1(0xbc)](_0x270ad1(0x25e)+_0x312750+']');}}},'labels.edit':async _0x55ab3d=>{const _0x3eca4b=_0x3f3830;if(!_0x55ab3d||!_0x55ab3d['id']){console[_0x3eca4b(0xbc)](_0x3eca4b(0x49a));return;}if(!_0x55ab3d[_0x3eca4b(0x395)]){let _0x348edc=[_0x3eca4b(0x6cf),_0x3eca4b(0x2ed),_0x3eca4b(0x501),_0x3eca4b(0x2d6),_0x3eca4b(0x781),_0x3eca4b(0x72f),_0x3eca4b(0x17b),_0x3eca4b(0x400),_0x3eca4b(0x455),_0x3eca4b(0x3dd),'#01d0e2',_0x3eca4b(0x232),_0x3eca4b(0xde),_0x3eca4b(0x402),_0x3eca4b(0x4ce),_0x3eca4b(0x1fa),_0x3eca4b(0x676),_0x3eca4b(0x380),_0x3eca4b(0x6b3),_0x3eca4b(0x5cf)],_0x18609f;typeof _0x55ab3d[_0x3eca4b(0x568)]==_0x3eca4b(0x461)&&_0x55ab3d[_0x3eca4b(0x568)]>=0x0&&_0x55ab3d[_0x3eca4b(0x568)]<_0x348edc['length']?_0x18609f=_0x348edc[_0x55ab3d['color']]:(console['error'](_0x3eca4b(0x40c),_0x55ab3d['color']),_0x18609f=_0x3eca4b(0xfd));let _0x18d56f={'_id':_0x55ab3d['id'],'colorHex':_0x18609f,'color':_0x55ab3d?.[_0x3eca4b(0x568)],'name':_0x55ab3d?.[_0x3eca4b(0x616)],'owner':this[_0x3eca4b(0x219)][_0x3eca4b(0x415)]};await this['repository'][_0x3eca4b(0x309)][_0x3eca4b(0x1b5)]({'where':{'_id':_0x55ab3d['id']}},_0x18d56f,this[_0x3eca4b(0x219)][_0x3eca4b(0x415)]),console[_0x3eca4b(0x125)](_0x3eca4b(0x1bb),_0x55ab3d);}_0x55ab3d['deleted']&&(await this[_0x3eca4b(0xf1)][_0x3eca4b(0x309)][_0x3eca4b(0x71f)]({'where':{'_id':_0x55ab3d['id']}},this[_0x3eca4b(0x219)][_0x3eca4b(0x415)]),console[_0x3eca4b(0x125)]('Rótulo\x20deletado:',_0x55ab3d['id']));}},this['groupHandler']={'groups.upsert':async _0x1bd8f7=>{const _0x559347=_0x3f3830;this[_0x559347(0x5de)]?.[_0x559347(0x3b9)]||this[_0x559347(0x2a1)](_0x559347(0x25c),_0x1bd8f7),console[_0x559347(0x125)]('groups.upsert:',_0x1bd8f7);for(let _0x250451 of _0x1bd8f7)await this['updateGroupWebhook'](_0x250451);},'groups.update':async _0x3705b6=>{const _0xf742ec=_0x3f3830;this[_0xf742ec(0x5de)]?.[_0xf742ec(0x3b9)]||this[_0xf742ec(0x2a1)](_0xf742ec(0x285),_0x3705b6),console[_0xf742ec(0x125)](_0xf742ec(0x1f0),_0x3705b6);for(let _0x58e4c8 of _0x3705b6)await this[_0xf742ec(0x785)](_0x58e4c8);},'group-participants.update':async _0x4e3619=>{const _0x59b320=_0x3f3830;this['localWebhook']?.['groups_ignore']||this[_0x59b320(0x2a1)](_0x59b320(0x63f),_0x4e3619),console[_0x59b320(0x125)](_0x59b320(0x627),_0x4e3619),await this[_0x59b320(0x669)](_0x4e3619);}},this[_0x3f3830(0x722)]=0x5,this[_0x3f3830(0xff)]=0x1388,this[_0x3f3830(0x326)]=async _0x48b26b=>{const _0x5a8dee=_0x3f3830;if(_0x48b26b['message']?.[_0x5a8dee(0x563)]){let _0x22485a=await this[_0x5a8dee(0x2f8)](_0x48b26b['message']['pollUpdateMessage'][_0x5a8dee(0x1b4)],!0x0);if(_0x22485a){let _0x5d4feb=_0x22485a[_0x5a8dee(0x475)]['fromMe']?this[_0x5a8dee(0x219)][_0x5a8dee(0x415)]+_0x5a8dee(0x6fb):_0x22485a[_0x5a8dee(0x475)][_0x5a8dee(0x555)]||_0x22485a['key'][_0x5a8dee(0x5dd)],_0x384653=_0x22485a['key']['id'],_0x5fc09e=_0x22485a[_0x5a8dee(0x559)],_0x4013ef=Buffer[_0x5a8dee(0x656)](_0x5fc09e[_0x5a8dee(0x1d4)][_0x5a8dee(0x543)][_0x5a8dee(0x6dd)](_0x5a8dee(0x1d9)),'hex'),_0x5b6591=(0x0,f[_0x5a8dee(0x66c)])(_0x48b26b[_0x5a8dee(0x559)][_0x5a8dee(0x563)][_0x5a8dee(0x26a)],{'pollCreatorJid':_0x5d4feb,'pollMsgId':_0x384653,'pollEncKey':_0x4013ef,'voterJid':_0x48b26b['key'][_0x5a8dee(0x602)]?this[_0x5a8dee(0x219)][_0x5a8dee(0x415)]+_0x5a8dee(0x6fb):_0x48b26b[_0x5a8dee(0x475)][_0x5a8dee(0x5dd)][_0x5a8dee(0x354)](_0x5a8dee(0x1eb))?_0x48b26b['key'][_0x5a8dee(0x555)]:_0x48b26b[_0x5a8dee(0x475)]['remoteJid']}),_0x1712f5=[],_0x4b8efa=_0x5b6591['selectedOptions']['map'](_0x1b8588=>Buffer[_0x5a8dee(0x656)](_0x1b8588)[_0x5a8dee(0x6dd)]('hex'));for(let {optionName:_0x3924fa}of _0x5fc09e[_0x5a8dee(0x298)]?.[_0x5a8dee(0x313)]||_0x5fc09e[_0x5a8dee(0x734)]?.['options']||_0x5fc09e[_0x5a8dee(0x587)]?.[_0x5a8dee(0x313)])_0x4b8efa[_0x5a8dee(0x18c)]((0x0,f[_0x5a8dee(0x6c4)])(Buffer[_0x5a8dee(0x656)](_0x3924fa))[_0x5a8dee(0x6dd)]('hex'))>-0x1&&_0x1712f5[_0x5a8dee(0x474)](_0x3924fa);return _0x1712f5;}}return null;},this[_0x3f3830(0x3c9)]=(_0x5d104b,_0x428bae,_0x1e9aa5)=>{const _0x3bf6cd=_0x3f3830;try{let _0x21082f=_0x5d104b?(0x0,f[_0x3bf6cd(0x4a4)])(_0x5d104b)[_0x428bae]:void 0x0,_0x55e1ba={},_0x1ab964=null,_0x1d3a01=null,_0xffb1a0=null;_0x428bae===_0x3bf6cd(0x11f)&&_0x21082f?.[_0x3bf6cd(0x696)]&&(_0x428bae=(0x0,f[_0x3bf6cd(0x59d)])(_0x21082f[_0x3bf6cd(0x696)]),_0x1ab964=_0x5d104b[_0x3bf6cd(0x11f)][_0x3bf6cd(0x475)]['id'],_0x21082f=_0x5d104b[_0x3bf6cd(0x11f)][_0x3bf6cd(0x696)][_0x428bae]),_0x5d104b[_0x428bae]?.[_0x3bf6cd(0x13f)]?.[_0x3bf6cd(0x243)]&&_0x5d104b[_0x428bae]?.[_0x3bf6cd(0x13f)]?.[_0x3bf6cd(0x619)]&&(_0x1d3a01=_0x5d104b[_0x428bae][_0x3bf6cd(0x13f)]['stanzaId']),_0x5d104b[_0x3bf6cd(0x1d8)]&&(_0xffb1a0=_0x5d104b[_0x3bf6cd(0x1d8)][_0x3bf6cd(0x475)]['id']);let _0x525176;if(_0x21082f&&typeof _0x21082f==_0x3bf6cd(0x661)&&_0x3bf6cd(0x1b4)in _0x21082f&&({pollCreationMessageKey:_0x525176}=_0x21082f),_0x428bae===_0x3bf6cd(0x298)||_0x428bae===_0x3bf6cd(0x587)||_0x428bae===_0x3bf6cd(0x734)){let _0x34972f=_0x21082f['options']['map'](_0x2ad2ab=>_0x2ad2ab['optionName'])[_0x3bf6cd(0x597)]('|');_0x55e1ba[_0x3bf6cd(0x772)]=_0x34972f;}let _0xc992c8='';if(_0x21082f&&(_0xc992c8+=_0x21082f[_0x3bf6cd(0x616)]?_0x21082f['name']:'',_0xc992c8+=_0x21082f[_0x3bf6cd(0x372)]?'\x20'+_0x21082f['caption']:'',_0xc992c8+=_0x21082f[_0x3bf6cd(0x633)]?'\x20'+_0x21082f[_0x3bf6cd(0x633)]:'',_0xc992c8+=_0x21082f[_0x3bf6cd(0x29f)]?'\x20'+_0x21082f[_0x3bf6cd(0x29f)]:''),_0x428bae==='listMessage'){_0xc992c8=(_0x21082f[_0x3bf6cd(0x618)]||'')+'\x0a'+(_0x21082f[_0x3bf6cd(0x6ab)]||'')+'\x0a'+(_0x21082f[_0x3bf6cd(0x76f)]||'');let _0x461544=this[_0x3bf6cd(0x4b4)](_0x21082f[_0x3bf6cd(0x54b)]);_0x55e1ba[_0x3bf6cd(0x772)]=_0x461544;}if(_0x428bae===_0x3bf6cd(0x522)&&(_0x1e9aa5=_0x21082f[_0x3bf6cd(0x618)]),_0x21082f&&_0x21082f['vcard']){let _0x4160a1=this['formatVCard'](JSON[_0x3bf6cd(0x431)](_0x21082f[_0x3bf6cd(0x301)],null,0x2));_0xc992c8=_0xc992c8+'\x0a'+_0x4160a1;}if(_0x21082f){let {sections:_0x26fcd8,listType:_0x1db110,displayName:_0xe817a2,vcard:_0x2cafbb,contactVcard:_0x492eae,name:_0x420ec0,caption:_0x2141ce,conversation:_0x52b84c,pollCreationMessageKey:_0x208a00,footerText:_0x2962ee,contentText:_0x49f3ec,pageCount:_0x2ee888,headerType:_0x4e6779,isAvatar:_0x5441f7,isAnimated:_0x153db0,fallbackLc:_0x80a58c,fallbackLg:_0x52d4ee,namespace:_0x12cfbb,elementName:_0xfceed5,localizableParams:_0x1e4ac2,viewOnce:_0x47f152,height:_0x3c45bf,width:_0x43de6d,key:_0x50a504,firstScanLength:_0x1a747b,firstScanSidecar:_0x1f2ab7,gifPlayback:_0x2bb297,gifAttribution:_0xc555ea,midQualityFileSha256:_0x199c9b,scansSidecar:_0xa1c798,streamingSidecar:_0x4ddf5e,thumbnailHeight:_0x29ff38,thumbnailWidth:_0x1629a0,thumbnailEncSha256:_0xf0fa68,thumbnailDirectPath:_0x3b7da1,canonicalUrl:_0x29206a,matchedText:_0x149274,previewType:_0xb74b9f,thumbnailSha256:_0x1b9668,deviceListMetadataVersion:_0x7d5612,inviteLinkGroupTypeV2:_0xebd40,interactiveAnnotations:_0x5ae554,scanLengths:_0x3b8877,jpegThumbnail:_0x30e9d5,url:_0x156ae4,mediaKeyTimestamp:_0x5a52ad,waveform:_0xdb7cbd,stickerSentTs:_0x72c1d5,firstFrameLength:_0x50a93a,fileEncSha256:_0x3820db,contextInfo:_0x21ea24,firstFrameSidecar:_0x84ca28,directPath:_0x486f9a,fileSha256:_0x248131,mediaKey:_0x3daa4b,senderTimestampMs:_0x431b6a,..._0x10aa9c}=_0x21082f;(_0x428bae===_0x3bf6cd(0x314)||_0x428bae===_0x3bf6cd(0x522))&&(delete _0x10aa9c[_0x3bf6cd(0x618)],delete _0x10aa9c['description']),typeof _0x21082f==_0x3bf6cd(0x660)?_0x55e1ba={'text':_0x21082f,'type':_0x428bae||_0x3bf6cd(0x633),..._0x1ab964&&{'edited':_0x1ab964},..._0x1d3a01&&{'quoted':_0x1d3a01},..._0xffb1a0&&{'reaction':_0xffb1a0}}:_0x55e1ba={'text':_0xc992c8,..._0x10aa9c,..._0x428bae===_0x3bf6cd(0x563)?{'poll_id':_0x21082f['pollCreationMessageKey']['id'],'quoted':_0x21082f['pollCreationMessageKey']['id'],'vote':_0x1e9aa5}:{},..._0x428bae===_0x3bf6cd(0x522)?{'vote':_0x1e9aa5}:{},'type':_0x428bae,..._0x1ab964&&{'edited':_0x1ab964},..._0x1d3a01&&{'quoted':_0x1d3a01},..._0xffb1a0&&{'reaction':_0xffb1a0},...(_0x428bae==='pollCreationMessage'||_0x428bae===_0x3bf6cd(0x587)||_0x428bae===_0x3bf6cd(0x734)||_0x428bae===_0x3bf6cd(0x314))&&{'convertedOptions':_0x55e1ba[_0x3bf6cd(0x772)]}};}return{'messageType':_0x428bae,'messageContent':_0x21082f,'message_normalized':_0x55e1ba};}catch(_0x1e8e3f){return console[_0x3bf6cd(0xbc)](_0x3bf6cd(0x1c8),_0x1e8e3f),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this['cleanStore'](),this['instance'][_0x3f3830(0x1be)]={'count':0x0},this[_0x3f3830(0x219)][_0x3f3830(0x275)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x28fd55(0x1e9)](_0x156d88){const _0x4e6de7=a0_0x28fd55;if(!_0x156d88){this['instance']['name']=(0x0,Or['v4'])();return;}this[_0x4e6de7(0x219)][_0x4e6de7(0x616)]=_0x156d88,this['sendDataWebhook'](_0x4e6de7(0x737),{'instance':this[_0x4e6de7(0x219)]['name'],'status':_0x4e6de7(0x646)});}get[a0_0x28fd55(0x1e9)](){const _0x3451d1=a0_0x28fd55;return this[_0x3451d1(0x219)]['name'];}get[a0_0x28fd55(0x415)](){const _0x441ca5=a0_0x28fd55;return this[_0x441ca5(0x219)][_0x441ca5(0x415)];}async[a0_0x28fd55(0x45b)](){const _0x245e13=a0_0x28fd55;let _0x28348a=this[_0x245e13(0x1f2)]['user']?.['name']??this['client'][_0x245e13(0x199)]?.[_0x245e13(0x1cd)];if(!_0x28348a){if(this[_0x245e13(0x58f)][_0x245e13(0x72c)](_0x245e13(0x228))[_0x245e13(0x15d)]){let _0x287649=await T[_0x245e13(0x5af)]()['db'](this['configService'][_0x245e13(0x72c)](_0x245e13(0x228))[_0x245e13(0x52d)][_0x245e13(0x337)]+_0x245e13(0x36b))[_0x245e13(0x1f8)](this[_0x245e13(0x1e9)])[_0x245e13(0x267)]({'_id':_0x245e13(0x57f)});if(_0x287649){let _0x515964=JSON['parse'](JSON[_0x245e13(0x431)](_0x287649),f['BufferJSON'][_0x245e13(0x2c4)]);_0x28348a=_0x515964['me']?.[_0x245e13(0x616)]||_0x515964['me']?.[_0x245e13(0x1cd)];}}else{if((0x0,Oe[_0x245e13(0x6b4)])((0x0,F[_0x245e13(0x597)])(ge,this[_0x245e13(0x1e9)],'creds.json'))){let _0x5ad2ed=JSON[_0x245e13(0x3a4)]((0x0,Oe[_0x245e13(0x510)])((0x0,F['join'])(ge,this['instanceName'],_0x245e13(0x2ba)),{'encoding':_0x245e13(0x673)}));_0x28348a=_0x5ad2ed['me']?.[_0x245e13(0x616)]||_0x5ad2ed['me']?.[_0x245e13(0x1cd)];}}}return _0x28348a;}get[a0_0x28fd55(0x379)](){const _0x21c3e6=a0_0x28fd55;return this[_0x21c3e6(0x219)][_0x21c3e6(0x379)];}get[a0_0x28fd55(0x1b3)](){const _0x423347=a0_0x28fd55;return this[_0x423347(0x219)][_0x423347(0x1be)]?.['pairingCode']?{'pairingCode':this[_0x423347(0x219)]['qrcode']?.[_0x423347(0x567)]}:{'code':this[_0x423347(0x219)][_0x423347(0x1be)]?.[_0x423347(0x2e7)],'base64':this['instance'][_0x423347(0x1be)]?.[_0x423347(0x782)]};}async[a0_0x28fd55(0x6d0)](){const _0x5137f2=a0_0x28fd55;let _0x113c82=await this[_0x5137f2(0xf1)][_0x5137f2(0x299)]['find'](this['instanceName']);this[_0x5137f2(0x5de)][_0x5137f2(0x237)]=_0x113c82?.['url'],this[_0x5137f2(0x5de)][_0x5137f2(0x690)]=_0x113c82?.['enabled'],this[_0x5137f2(0x5de)][_0x5137f2(0x4e4)]=_0x113c82?.[_0x5137f2(0x4e4)],this['localWebhook'][_0x5137f2(0x460)]=_0x113c82?.[_0x5137f2(0x460)],this[_0x5137f2(0x5de)][_0x5137f2(0x770)]=_0x113c82?.[_0x5137f2(0x770)],this[_0x5137f2(0x5de)][_0x5137f2(0x6e5)]=_0x113c82?.[_0x5137f2(0x6e5)],this[_0x5137f2(0x5de)]['MESSAGES_UPSERT']=_0x113c82?.['MESSAGES_UPSERT'],this[_0x5137f2(0x5de)]['MESSAGES_UPDATE']=_0x113c82?.['MESSAGES_UPDATE'],this[_0x5137f2(0x5de)][_0x5137f2(0x614)]=_0x113c82?.[_0x5137f2(0x614)],this['localWebhook']['GROUPS_UPDATE']=_0x113c82?.[_0x5137f2(0x712)],this['localWebhook'][_0x5137f2(0x521)]=_0x113c82?.[_0x5137f2(0x521)],this[_0x5137f2(0x5de)][_0x5137f2(0x66a)]=_0x113c82?.[_0x5137f2(0x66a)],this[_0x5137f2(0x5de)][_0x5137f2(0x293)]=_0x113c82?.[_0x5137f2(0x293)],this[_0x5137f2(0x5de)][_0x5137f2(0x287)]=_0x113c82?.['CHATS_UPDATE'],this[_0x5137f2(0x5de)]['CHATS_DELETE']=_0x113c82?.['CHATS_DELETE'],this['localWebhook'][_0x5137f2(0x359)]=_0x113c82?.['CONTACTS_SET'],this[_0x5137f2(0x5de)]['CONTACTS_UPSERT']=_0x113c82?.[_0x5137f2(0xdf)],this['localWebhook']['CONTACTS_UPDATE']=_0x113c82?.[_0x5137f2(0x515)],this['localWebhook']['PRESENCE_UPDATE']=_0x113c82?.[_0x5137f2(0x62c)],this[_0x5137f2(0x5de)][_0x5137f2(0xa9)]=_0x113c82?.[_0x5137f2(0xa9)],this[_0x5137f2(0x5de)]['CONNECTION_UPDATE']=_0x113c82?.[_0x5137f2(0x382)],this[_0x5137f2(0x5de)]['groups_ignore']=_0x113c82?.[_0x5137f2(0x3b9)];}async[a0_0x28fd55(0x9b)](_0x4f86c1){const _0x478d3c=a0_0x28fd55;let _0x2a6323=[_0x478d3c(0x53b),_0x478d3c(0x237),_0x478d3c(0x690),_0x478d3c(0x4e4),'STATUS_INSTANCE',_0x478d3c(0x770),_0x478d3c(0x414),_0x478d3c(0x487),_0x478d3c(0x6e5),_0x478d3c(0x614),_0x478d3c(0x712),_0x478d3c(0x521),'CHATS_SET',_0x478d3c(0x293),_0x478d3c(0x287),_0x478d3c(0x28d),'CONTACTS_SET','CONTACTS_UPSERT','CONTACTS_UPDATE','PRESENCE_UPDATE','MESSAGES_SET',_0x478d3c(0x382),_0x478d3c(0x3b9)],_0x16b530={};return _0x2a6323['forEach'](_0x54a05e=>{_0x4f86c1[_0x54a05e]!==void 0x0&&(_0x16b530[_0x54a05e]=_0x4f86c1[_0x54a05e]);}),_0x16b530['url']&&(_0x16b530[_0x478d3c(0x237)]=_0x16b530[_0x478d3c(0x237)][_0x478d3c(0x61e)]()),await this[_0x478d3c(0xf1)][_0x478d3c(0x299)]['create'](_0x16b530,this['instanceName']),Object['assign'](this[_0x478d3c(0x5de)],_0x16b530),await this['repository'][_0x478d3c(0x299)][_0x478d3c(0x167)](this[_0x478d3c(0x1e9)]);}async[a0_0x28fd55(0x6c6)](){const _0x15fce9=a0_0x28fd55;return await this[_0x15fce9(0xf1)]['webhook'][_0x15fce9(0x167)](this['instanceName']);}async['sendDataWebhook'](_0x5cb134,_0x532f5){const _0x14d151=a0_0x28fd55;let _0x5cf5a9=_0x5cb134['replace'](/[\.-]/gm,'_')['toUpperCase'](),_0x19e581=this[_0x14d151(0x5de)][_0x14d151(0x690)]&&(0x0,P[_0x14d151(0x774)])(this[_0x14d151(0x5de)][_0x14d151(0x237)])?this[_0x14d151(0x5de)][_0x14d151(0x237)]+(this['localWebhook'][_0x14d151(0x4e4)]?this['webhookMap'][_0x5cb134]:''):null,_0x6be9ba=this[_0x14d151(0x5de)][_0x5cf5a9],_0x55ac97=le&&le['enabled']&&(0x0,P['isURL'])(le[_0x14d151(0x237)])?le[_0x14d151(0x237)]+(le[_0x14d151(0x4e4)]?this[_0x14d151(0x4d6)][_0x5cb134]:''):null,_0x7ca3aa=le?le[_0x5cf5a9]:null;if(_0x6be9ba&&_0x19e581)try{await K['default'][_0x14d151(0x2f7)]({'baseURL':_0x19e581})[_0x14d151(0xb5)]('',{'event':_0x5cb134,'instance':this[_0x14d151(0x219)][_0x14d151(0x616)],'apikey':this[_0x14d151(0x219)][_0x14d151(0x36a)],'data':_0x532f5}),this[_0x14d151(0x2ca)][_0x14d151(0x125)](this[_0x14d151(0x1e9)]+'\x20('+this['instance'][_0x14d151(0x415)]+_0x14d151(0x1ce)+_0x5cb134+':\x20'+_0x19e581);}catch{this[_0x14d151(0x2ca)]['error'](this[_0x14d151(0x1e9)]+'\x20('+this[_0x14d151(0x219)][_0x14d151(0x415)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x5cb134+':\x20'+_0x19e581);}if(_0x7ca3aa&&_0x55ac97)try{await K[_0x14d151(0x446)]['create']({'baseURL':_0x55ac97})[_0x14d151(0xb5)]('',{'event':_0x5cb134,'instance':this[_0x14d151(0x219)][_0x14d151(0x616)],'apikey':this[_0x14d151(0x219)][_0x14d151(0x36a)],'data':_0x532f5}),this[_0x14d151(0x2ca)][_0x14d151(0x125)](this[_0x14d151(0x1e9)]+'\x20('+this[_0x14d151(0x219)][_0x14d151(0x415)]+_0x14d151(0x5e9)+_0x5cb134+':\x20'+_0x55ac97);}catch{this[_0x14d151(0x2ca)][_0x14d151(0xbc)](this[_0x14d151(0x1e9)]+'\x20('+this['instance'][_0x14d151(0x415)]+_0x14d151(0x582)+_0x5cb134+':\x20'+_0x55ac97);}}async['connectionUpdate']({qr:_0x5b57c9,connection:_0x57a46d,lastDisconnect:_0x4b297c}){const _0x83b9e8=a0_0x28fd55;if(_0x5b57c9){if(this['instance']['qrcode']['count']===Oi)return this[_0x83b9e8(0x2a1)](_0x83b9e8(0x212),{'message':_0x83b9e8(0x201),'statusCode':f['DisconnectReason'][_0x83b9e8(0xac)]}),this['stateConnection']={'state':_0x83b9e8(0x133),'statusReason':f['DisconnectReason'][_0x83b9e8(0x6a2)]},this[_0x83b9e8(0x2a1)](_0x83b9e8(0x65a),{'instance':this[_0x83b9e8(0x219)][_0x83b9e8(0x616)],...this['stateConnection']}),this[_0x83b9e8(0x2a1)]('status.instance',{'instance':this[_0x83b9e8(0x219)][_0x83b9e8(0x616)],'status':_0x83b9e8(0x674)}),this[_0x83b9e8(0xf1)][_0x83b9e8(0x15b)][_0x83b9e8(0x2f7)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x83b9e8(0x717)]()},this[_0x83b9e8(0x219)][_0x83b9e8(0x616)]),this['endSession']=!0x0,this[_0x83b9e8(0x19d)][_0x83b9e8(0x311)](_0x83b9e8(0x333),this['instance'][_0x83b9e8(0x616)]);this[_0x83b9e8(0x219)]['qrcode'][_0x83b9e8(0x2eb)]++;let _0x12f852={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x83b9e8(0x28f),'dark':_0x83b9e8(0xfd)}};Ar[_0x83b9e8(0x446)][_0x83b9e8(0x35c)](_0x5b57c9,_0x12f852,(_0x212434,_0x960157)=>{const _0x3b1610=_0x83b9e8;if(_0x212434){this[_0x3b1610(0x2ca)][_0x3b1610(0xbc)](this[_0x3b1610(0x1e9)]+'\x20('+this['instance'][_0x3b1610(0x415)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x212434 instanceof Error?_0x212434[_0x3b1610(0x559)]:JSON['stringify'](_0x212434,null,0x2)));return;}this[_0x3b1610(0x219)][_0x3b1610(0x1be)][_0x3b1610(0x782)]=_0x960157,this[_0x3b1610(0x219)][_0x3b1610(0x1be)][_0x3b1610(0x2e7)]=_0x5b57c9,!this[_0x3b1610(0x147)]&&this['sendDataWebhook'](_0x3b1610(0x212),{'qrcode':{'instance':this[_0x3b1610(0x219)][_0x3b1610(0x616)],'pairingCode':this[_0x3b1610(0x219)][_0x3b1610(0x1be)][_0x3b1610(0x567)],'code':_0x5b57c9,'base64':_0x960157}});}),this[_0x83b9e8(0x147)]?this[_0x83b9e8(0x219)]['qrcode']['pairingCode']||(await(0x0,f[_0x83b9e8(0x3cb)])(0x7d0),this['instance']['qrcode'][_0x83b9e8(0x567)]=await this[_0x83b9e8(0x1f2)][_0x83b9e8(0x5d7)](this['phoneNumber'])):this['instance']['qrcode'][_0x83b9e8(0x567)]=null,$r['default'][_0x83b9e8(0x46f)](_0x5b57c9,{'small':!0x0},_0x51106a=>this[_0x83b9e8(0x2ca)][_0x83b9e8(0x125)]('\x0a{\x20instance:\x20'+this[_0x83b9e8(0x219)]['name']+_0x83b9e8(0x2ff)+this[_0x83b9e8(0x219)][_0x83b9e8(0x1be)]['count']+_0x83b9e8(0x5aa)+this[_0x83b9e8(0x219)][_0x83b9e8(0x1be)][_0x83b9e8(0x567)]+'\x20}\x0a'+_0x51106a));}if(_0x57a46d&&(this[_0x83b9e8(0x2b3)]={'state':_0x57a46d,'statusReason':_0x4b297c?.[_0x83b9e8(0xbc)]?.[_0x83b9e8(0x3c7)]?.[_0x83b9e8(0x1f9)]??0xc8},this[_0x83b9e8(0x2a1)](_0x83b9e8(0x65a),{'instance':this['instance'][_0x83b9e8(0x616)],...this['stateConnection']})),_0x57a46d===_0x83b9e8(0x575)){if(this[_0x83b9e8(0x4f0)]++,this[_0x83b9e8(0x730)][_0x83b9e8(0x474)](Date['now']()),this[_0x83b9e8(0x730)]=this[_0x83b9e8(0x730)][_0x83b9e8(0x586)](_0x59db4c=>Date[_0x83b9e8(0x717)]()-_0x59db4c<this[_0x83b9e8(0x578)]),_0x4b297c[_0x83b9e8(0xbc)]?.[_0x83b9e8(0x3c7)]?.[_0x83b9e8(0x1f9)]!==f[_0x83b9e8(0x5b0)][_0x83b9e8(0x6a7)]&&this['reconnectTimestamps'][_0x83b9e8(0x479)]<=this[_0x83b9e8(0x5da)])console['log'](this[_0x83b9e8(0x1e9)]+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0x83b9e8(0x4f0)]+'/'+this[_0x83b9e8(0x5da)]+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console[_0x83b9e8(0x125)]('Tentando\x20reconectar...'),await this[_0x83b9e8(0x46d)]();else{this['sendDataWebhook']('status.instance',{'instance':this[_0x83b9e8(0x219)][_0x83b9e8(0x616)],'status':'removed'}),this['instance'][_0x83b9e8(0x275)][_0x83b9e8(0x33c)]=!0x1,this['repository'][_0x83b9e8(0x299)][_0x83b9e8(0x71f)](this['instanceName']),this[_0x83b9e8(0xf1)][_0x83b9e8(0x15b)][_0x83b9e8(0x2f7)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x83b9e8(0x219)][_0x83b9e8(0x616)]);try{this[_0x83b9e8(0x2ca)]['verbose'](this[_0x83b9e8(0x1e9)]+'\x20('+this[_0x83b9e8(0x219)][_0x83b9e8(0x415)]+_0x83b9e8(0x3fb));let _0xb9be95=await this[_0x83b9e8(0xf1)][_0x83b9e8(0x559)]['deleteAll'](this['instance'][_0x83b9e8(0x415)]);_0xb9be95[_0x83b9e8(0x683)]?this[_0x83b9e8(0x2ca)][_0x83b9e8(0x77f)](this['instanceName']+'\x20('+this[_0x83b9e8(0x219)][_0x83b9e8(0x415)]+_0x83b9e8(0x39d)):console['error'](_0x83b9e8(0x766),_0xb9be95['error']);}catch(_0x328da5){console[_0x83b9e8(0xbc)](_0x83b9e8(0x16f),_0x328da5['message']);}this[_0x83b9e8(0x219)][_0x83b9e8(0x275)][_0x83b9e8(0x282)]!==null&&(this[_0x83b9e8(0x2ca)][_0x83b9e8(0x77f)](this[_0x83b9e8(0x1e9)]+'\x20('+this[_0x83b9e8(0x219)]['wuid']+_0x83b9e8(0xe5)),clearInterval(this[_0x83b9e8(0x219)][_0x83b9e8(0x275)]['delayMessage']),this['instance'][_0x83b9e8(0x275)][_0x83b9e8(0x282)]=null),this[_0x83b9e8(0x2ca)]['verbose'](this[_0x83b9e8(0x1e9)]+'\x20('+this[_0x83b9e8(0x219)][_0x83b9e8(0x415)]+_0x83b9e8(0x67c)),this['AutomateSystem']=null,this[_0x83b9e8(0x19d)][_0x83b9e8(0x311)]('remove.instance',this['instance'][_0x83b9e8(0x616)],_0x83b9e8(0x648)),this['client']?.['ws']?.['close'](),this['client'][_0x83b9e8(0x1a5)](new Error(_0x83b9e8(0x507)));}}if(_0x57a46d===_0x83b9e8(0x170)){this[_0x83b9e8(0x1f2)]['ev'][_0x83b9e8(0x2db)](),this[_0x83b9e8(0x3f2)],this['instance'][_0x83b9e8(0x415)]=this[_0x83b9e8(0x1f2)]['user']['id'][_0x83b9e8(0x4b8)](/:\d+/,'')[_0x83b9e8(0x4b8)]('@s.whatsapp.net',''),this[_0x83b9e8(0x219)][_0x83b9e8(0x379)]=(await this['profilePicture'](this['instance'][_0x83b9e8(0x415)]+_0x83b9e8(0x6fb)))[_0x83b9e8(0x379)],this[_0x83b9e8(0xf1)]['auth'][_0x83b9e8(0x2f7)]({'online':!0x0,'owner':this[_0x83b9e8(0x219)]['wuid'],'lastDisconnect':null},this[_0x83b9e8(0x219)][_0x83b9e8(0x616)]);let _0x519f31=_0x83b9e8(0x5c3)+this[_0x83b9e8(0x219)][_0x83b9e8(0x415)],_0x435daa=0x28,_0x20b91a=Math['floor']((_0x435daa-_0x519f31[_0x83b9e8(0x479)])/0x2),_0x7b9180='\x20'[_0x83b9e8(0x434)](_0x20b91a),_0x429570=_0x83b9e8(0x367),_0x2aae27=_0x83b9e8(0x745)+this['instance'][_0x83b9e8(0x616)],_0x56caaf=(''+_0x7b9180+_0x519f31+_0x7b9180)['padEnd'](_0x435daa,'\x20'),_0x18df11=(''+_0x7b9180+_0x429570+_0x7b9180)['padEnd'](_0x435daa,'\x20'),_0x363666=(''+_0x7b9180+_0x2aae27+_0x7b9180)[_0x83b9e8(0x4a7)](_0x435daa,'\x20'),_0x99e14d=Math[_0x83b9e8(0xc6)](_0x56caaf[_0x83b9e8(0x479)],_0x18df11[_0x83b9e8(0x479)],_0x363666[_0x83b9e8(0x479)]),_0x15c27b=_0x56caaf[_0x83b9e8(0x4a7)](_0x99e14d,'\x20'),_0x7a2a04=_0x18df11['padEnd'](_0x99e14d,'\x20'),_0x5367d4=_0x363666[_0x83b9e8(0x4a7)](_0x99e14d,'\x20');this['logger'][_0x83b9e8(0x10d)]((_0x83b9e8(0x5d9)+'─'['repeat'](_0x99e14d)+_0x83b9e8(0x1aa)+_0x7a2a04+_0x83b9e8(0x459)+_0x5367d4+_0x83b9e8(0x459)+_0x15c27b+_0x83b9e8(0x316)+'─'[_0x83b9e8(0x434)](_0x99e14d)+'┘')[_0x83b9e8(0x4b8)](/^ +/gm,'\x20\x20')),this[_0x83b9e8(0x68f)](),this[_0x83b9e8(0x219)][_0x83b9e8(0x275)]['isConnected']=!0x0;}}[a0_0x28fd55(0x3f2)](){const _0x1b4ebe=a0_0x28fd55;this[_0x1b4ebe(0x4f0)]=0x0,this[_0x1b4ebe(0x730)]=[];}async['getMessage'](_0x1c44ae,_0x4cd3e2=!0x1){const _0x1fd4f4=a0_0x28fd55;try{let _0xea7b44=await this[_0x1fd4f4(0xf1)][_0x1fd4f4(0x559)]['find']({'where':{'_id':_0x1c44ae['id']}},this['instance'][_0x1fd4f4(0x415)]);return _0x4cd3e2?_0xea7b44[0x0]:_0xea7b44[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x28fd55(0x154)](){const _0x4a7e71=a0_0x28fd55;let _0x1eea12=this[_0x4a7e71(0x58f)][_0x4a7e71(0x72c)](_0x4a7e71(0x127)),_0x5dfbbb=this[_0x4a7e71(0x58f)]['get'](_0x4a7e71(0x228));_0x1eea12?.['CLEANING_INTERVAL']&&!_0x5dfbbb[_0x4a7e71(0x15d)]&&setInterval(()=>{const _0x2a401d=_0x4a7e71;try{for(let [_0x4454b2,_0x240831]of Object[_0x2a401d(0x55c)](_0x1eea12))_0x240831===!0x0&&(0x0,Ae[_0x2a401d(0x525)])('rm\x20-rf\x20'+(0x0,F[_0x2a401d(0x597)])(this[_0x2a401d(0x654)],_0x4454b2['toLowerCase'](),this['instance'][_0x2a401d(0x415)])+_0x2a401d(0x5bb));}catch{}},(_0x1eea12?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async['defineAuthState'](){const _0x50297e=a0_0x28fd55;let _0x5bcf36=this[_0x50297e(0x58f)][_0x50297e(0x72c)](_0x50297e(0x228)),_0x1d66f3=this[_0x50297e(0x58f)][_0x50297e(0x72c)](_0x50297e(0x779));return _0x1d66f3?.['ENABLED']?await Ts(_0x1d66f3,this['instance']['name']):_0x5bcf36[_0x50297e(0x15d)]?await Rs(this[_0x50297e(0x219)][_0x50297e(0x616)]):await(0x0,f[_0x50297e(0x276)])((0x0,F[_0x50297e(0x597)])(ge,this['instance'][_0x50297e(0x616)]));}async['AutomateFunctions'](){const _0x5ae3a2=a0_0x28fd55;let _0xd2aefe=()=>Math[_0x5ae3a2(0x452)](Math['random']()*0x2711)+0x7d0,_0x2a7ef3=async()=>{const _0x18bc10=_0x5ae3a2;if(!this[_0x18bc10(0x219)][_0x18bc10(0x275)][_0x18bc10(0x33c)]){this[_0x18bc10(0x2ca)]['verbose'](_0x18bc10(0x261)),this[_0x18bc10(0xe4)]=!0x1;return;}if(this[_0x18bc10(0x219)][_0x18bc10(0x415)]&&this[_0x18bc10(0x44a)]&&this[_0x18bc10(0x219)]['ScheduleMessage'][_0x18bc10(0x282)]!==null&&this[_0x18bc10(0x219)][_0x18bc10(0x275)][_0x18bc10(0x282)]!==void 0x0){let _0x2f6aec=Math[_0x18bc10(0x9a)](this[_0x18bc10(0x219)]['ScheduleMessage']['delayMessage']/0xea60);this[_0x18bc10(0x2ca)][_0x18bc10(0x77f)](this['instanceName']+'\x20('+this[_0x18bc10(0x219)][_0x18bc10(0x415)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x2f6aec+_0x18bc10(0x4fd)),this[_0x18bc10(0xe4)]=!0x1;return;}else this[_0x18bc10(0x219)]['wuid']&&(this[_0x18bc10(0x2ca)][_0x18bc10(0x77f)](this['instanceName']+'\x20('+this[_0x18bc10(0x219)][_0x18bc10(0x415)]+_0x18bc10(0x20b)),this['AutomateSystem']||(await this[_0x18bc10(0x2e5)](),this[_0x18bc10(0x4de)]()),(this[_0x18bc10(0x219)]['ScheduleMessage'][_0x18bc10(0x282)]===null||this[_0x18bc10(0x219)]['ScheduleMessage'][_0x18bc10(0x282)]===void 0x0)&&await this[_0x18bc10(0x66f)]());if(this['isRunning']){let _0x1ee8aa=_0xd2aefe();this[_0x18bc10(0x2ca)][_0x18bc10(0x77f)](this['instanceName']+_0x18bc10(0x2a7)+_0x1ee8aa/0x3e8+_0x18bc10(0x437)),setTimeout(_0x2a7ef3,_0x1ee8aa);}};if(this[_0x5ae3a2(0xe4)])return;this[_0x5ae3a2(0xe4)]=!0x0;let _0x3d70c1=_0xd2aefe();setTimeout(_0x2a7ef3,_0x3d70c1);}async['loadproxy'](_0x1caf90=0x0,_0x1b977a=!0x1){const _0x15d740=a0_0x28fd55;try{let _0x59ab43=this['configService'][_0x15d740(0x72c)]('PROXY');if(_0x59ab43!==0x1||typeof _0x59ab43>'u'||_0x1caf90>=0x5)return this[_0x15d740(0x2ca)][_0x15d740(0x5ba)]('Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.'),this[_0x15d740(0xf1)][_0x15d740(0x15b)][_0x15d740(0x2f7)]({'ip':null},this[_0x15d740(0x219)][_0x15d740(0x616)]),{};this[_0x15d740(0x2ca)][_0x15d740(0x77f)](this[_0x15d740(0x1e9)]+_0x15d740(0x1ba)+(_0x1caf90+0x1)+_0x15d740(0x306));let _0x2290ef;if(!_0x1b977a){let _0x2b523a=await this[_0x15d740(0xf1)][_0x15d740(0x15b)][_0x15d740(0x167)](this[_0x15d740(0x1e9)]);_0x2b523a&&_0x2b523a['ip']&&(_0x2290ef=vr(_0x2b523a['ip']));}if((!_0x2290ef||!Os(_0x2290ef))&&(this[_0x15d740(0x2ca)][_0x15d740(0x5ba)](this[_0x15d740(0x1e9)]+_0x15d740(0x4cf)),_0x2290ef=Nr()),_0x2290ef&&Os(_0x2290ef)){let _0x618270=_0x2290ef[_0x15d740(0x3ba)]&&_0x2290ef[_0x15d740(0x392)]?_0x2290ef[_0x15d740(0x34d)]+'://'+_0x2290ef[_0x15d740(0x3ba)]+':'+_0x2290ef[_0x15d740(0x392)]+'@'+_0x2290ef[_0x15d740(0x223)]+':'+_0x2290ef[_0x15d740(0x3f3)]:_0x2290ef[_0x15d740(0x34d)]+_0x15d740(0x1cc)+_0x2290ef[_0x15d740(0x223)]+':'+_0x2290ef[_0x15d740(0x3f3)];return await this[_0x15d740(0x3a6)](_0x618270,_0x2290ef[_0x15d740(0x223)])?(this['logger'][_0x15d740(0x77f)](this[_0x15d740(0x1e9)]+':\x20IP\x20funcionando!'),this[_0x15d740(0xf1)][_0x15d740(0x15b)][_0x15d740(0x2f7)]({'ip':_0x2290ef[_0x15d740(0x223)]},this['instance'][_0x15d740(0x616)]),{'agent':new Ft[(_0x15d740(0x13d))](_0x618270),'fetchAgent':new Ft[(_0x15d740(0x13d))](_0x618270)}):(this['logger'][_0x15d740(0x5ba)](this[_0x15d740(0x1e9)]+_0x15d740(0x185)),await(0x0,f[_0x15d740(0x3cb)])(0xc8),this[_0x15d740(0x107)](_0x1caf90+0x1,!0x0));}else return this['logger'][_0x15d740(0x5ba)](this[_0x15d740(0x1e9)]+_0x15d740(0x3f1)),await(0x0,f[_0x15d740(0x3cb)])(0xc8),this[_0x15d740(0x107)](_0x1caf90+0x1,!0x0);}catch(_0x3b3774){return this['logger'][_0x15d740(0xbc)](this[_0x15d740(0x1e9)]+':\x20Erro\x20durante\x20loadproxy\x20-\x20'+_0x3b3774[_0x15d740(0x559)]),{};}}async[a0_0x28fd55(0x3a6)](_0x362252,_0x4b850c){const _0x4bc2ea=a0_0x28fd55;let _0x88a91=new Ft[(_0x4bc2ea(0x13d))](_0x362252),_0x57c1ad=0x1388,_0x41e854=[{'url':_0x4bc2ea(0x493),'parse':_0x3cca1c=>_0x3cca1c['ip']},{'url':_0x4bc2ea(0x3ee),'parse':_0x5528ee=>_0x5528ee['ip']},{'url':_0x4bc2ea(0x685),'parse':_0x33dfd4=>_0x33dfd4['match'](/\d+.\d+.\d+.\d+/)[0x0]},{'url':'https://ipinfo.io/json','parse':_0xa67c86=>_0xa67c86['ip']},{'url':_0x4bc2ea(0x795),'parse':_0x20e8b4=>_0x20e8b4['trim']()},{'url':_0x4bc2ea(0x726),'parse':_0x5c26ef=>_0x5c26ef['trim']()},{'url':'http://ip-api.com/json','parse':_0x4330c3=>_0x4330c3['query']},{'url':_0x4bc2ea(0x624),'parse':_0x562e3d=>_0x562e3d[_0x4bc2ea(0x61e)]()},{'url':_0x4bc2ea(0x4b7),'parse':_0xa051f9=>_0xa051f9[_0x4bc2ea(0x61e)]()}],_0x5f08b3=_0x41e854[Math[_0x4bc2ea(0x452)](Math['random']()*_0x41e854['length'])];try{let _0x3ea8da=await K[_0x4bc2ea(0x446)]['get'](_0x5f08b3[_0x4bc2ea(0x237)],{'httpsAgent':_0x88a91,'timeout':_0x57c1ad}),_0x44b442=_0x5f08b3[_0x4bc2ea(0x3a4)](_0x3ea8da[_0x4bc2ea(0x4d5)]);return _0x44b442===_0x4b850c?(this[_0x4bc2ea(0x2ca)][_0x4bc2ea(0x77f)](this[_0x4bc2ea(0x1e9)]+_0x4bc2ea(0xfb)+_0x4b850c+_0x4bc2ea(0x4ea)+_0x44b442+_0x4bc2ea(0x6df)),!0x0):(this[_0x4bc2ea(0x2ca)]['error'](this[_0x4bc2ea(0x1e9)]+_0x4bc2ea(0xfb)+_0x4b850c+'\x20-\x20retornado:\x20'+_0x44b442+'\x20->\x20NÃO\x20CORRESPONDE.'),!0x1);}catch(_0x10e6d0){return this['logger'][_0x4bc2ea(0xbc)](this[_0x4bc2ea(0x1e9)]+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x5f08b3[_0x4bc2ea(0x237)]+':\x20'+_0x10e6d0[_0x4bc2ea(0x559)]),!0x1;}}async[a0_0x28fd55(0x46d)](_0x7c7fe8){const _0x160834=a0_0x28fd55;try{let _0x162a71=await this[_0x160834(0x107)]();this['loadWebhook'](),this[_0x160834(0x219)][_0x160834(0x36a)]=(await this[_0x160834(0xf1)][_0x160834(0x15b)][_0x160834(0x167)](this[_0x160834(0x219)][_0x160834(0x616)]))['apikey'],this[_0x160834(0x219)][_0x160834(0x652)]=await this[_0x160834(0x5ac)]();let {version:_0x268a02}=await(0x0,f[_0x160834(0x4ac)])(),_0x3a0e35=[Ir,Ds,(0x0,$s['release'])()],_0x16167a={..._0x162a71,'auth':{'creds':this[_0x160834(0x219)][_0x160834(0x652)][_0x160834(0x2b6)][_0x160834(0x57f)],'keys':(0x0,f[_0x160834(0xf0)])(this[_0x160834(0x219)][_0x160834(0x652)][_0x160834(0x2b6)][_0x160834(0x14d)],(0x0,Pt[_0x160834(0x446)])({'level':_0x160834(0xbc)}))},'logger':(0x0,Pt[_0x160834(0x446)])({'level':_0x160834(0xbc)}),'printQRInTerminal':!0x1,'browser':_0x7c7fe8?['Mac\x20OS',Ds,(0x0,$s[_0x160834(0x377)])()]:_0x3a0e35,'version':_0x268a02,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x59dd93=>{const _0x3ba67d=_0x160834;let _0x48bcb3=_0x59dd93[_0x3ba67d(0x354)](_0x3ba67d(0x612)),_0x396dd2=this['localWebhook']?.[_0x3ba67d(0x3b9)]&&_0x59dd93[_0x3ba67d(0x354)]('@g.us');return _0x48bcb3||(0x0,f[_0x3ba67d(0x3ce)])(_0x59dd93)||_0x396dd2;},'msgRetryCounterCache':this[_0x160834(0x489)],'getMessage':async _0x5e79bc=>await this['getMessage'](_0x5e79bc),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x160834(0x58c)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x401018=>(_0x401018[_0x160834(0x314)]?.['listType']==f[_0x160834(0x4cd)][_0x160834(0x4ef)][_0x160834(0x1c2)]['ListType'][_0x160834(0x4ab)]&&(_0x401018=JSON[_0x160834(0x3a4)](JSON['stringify'](_0x401018)),_0x401018[_0x160834(0x314)][_0x160834(0x6e6)]=f['proto'][_0x160834(0x4ef)]['ListMessage'][_0x160834(0x339)][_0x160834(0x711)]),_0x401018)};return this[_0x160834(0x2a5)]=!0x1,this[_0x160834(0x1f2)]=(0x0,f[_0x160834(0x446)])(_0x16167a),this[_0x160834(0x2b1)](),this[_0x160834(0x147)]=_0x7c7fe8,this[_0x160834(0x1f2)];}catch(_0x9fd4f5){let _0x5793c2=_0x160834(0x73d),_0x3616dd=_0x9fd4f5 instanceof Error?_0x9fd4f5[_0x160834(0x559)]:typeof _0x9fd4f5==_0x160834(0x661)?JSON[_0x160834(0x431)](_0x9fd4f5):_0x9fd4f5,_0x214048=_0x5793c2+':\x20'+_0x3616dd;throw this[_0x160834(0x2ca)][_0x160834(0xbc)](this[_0x160834(0x1e9)]+'\x20('+this[_0x160834(0x219)][_0x160834(0x415)]+_0x160834(0x48e)+_0x214048),new I(_0x214048);}}[a0_0x28fd55(0x2b1)](){const _0x3f644f=a0_0x28fd55;this['client']['ev'][_0x3f644f(0xa6)](_0x2469b9=>{const _0x21a31a=_0x3f644f;if(!this[_0x21a31a(0x2a5)]){let _0x558893=this['configService'][_0x21a31a(0x72c)](_0x21a31a(0x228));if(_0x2469b9[_0x21a31a(0x558)]){let _0x3e944e=_0x2469b9[_0x21a31a(0x558)];this[_0x21a31a(0x4f8)][_0x21a31a(0x558)](_0x3e944e);}if(_0x2469b9[_0x21a31a(0x3f4)]){let _0x5ded82=_0x2469b9[_0x21a31a(0x3f4)];this[_0x21a31a(0x4f8)]['labels.association'](_0x5ded82);}if(_0x2469b9[_0x21a31a(0x65a)]&&this[_0x21a31a(0x43d)](_0x2469b9[_0x21a31a(0x65a)]),_0x2469b9['creds.update']&&this['instance'][_0x21a31a(0x652)][_0x21a31a(0xd0)](),_0x2469b9[_0x21a31a(0x23f)]){let _0x5b537f=_0x2469b9['messaging-history.set'];this['messageHandle'][_0x21a31a(0x23f)](_0x5b537f,_0x558893);}if(_0x2469b9['messages.upsert']){let _0x2f9278=_0x2469b9[_0x21a31a(0x59f)];this[_0x21a31a(0x4f8)][_0x21a31a(0x59f)](_0x2f9278,_0x558893);}if(_0x2469b9[_0x21a31a(0x2b0)]){let _0x383681=_0x2469b9[_0x21a31a(0x2b0)];_0x383681[_0x21a31a(0x32d)](_0x58aade=>{const _0x3cafc5=_0x21a31a;if(Tr[_0x58aade[_0x3cafc5(0x475)]['id']]){this[_0x3cafc5(0x1f2)]['ev'][_0x3cafc5(0x311)](_0x3cafc5(0x59f),{'messages':[_0x58aade],'type':'notify'}),delete Tr[_0x58aade[_0x3cafc5(0x475)]['id']];return;}}),this[_0x21a31a(0x4f8)][_0x21a31a(0x2b0)](_0x383681,_0x558893);}if(_0x2469b9['presence.update']){let _0x5825c8=_0x2469b9[_0x21a31a(0x514)];if(this[_0x21a31a(0x5de)]?.['groups_ignore']&&_0x5825c8['id'][_0x21a31a(0x4d2)](_0x21a31a(0x43a)))return;this[_0x21a31a(0x2a1)]('presence.update',_0x5825c8);}if(_0x2469b9[_0x21a31a(0x25c)]){let _0x456fa9=_0x2469b9[_0x21a31a(0x25c)];this[_0x21a31a(0x6e0)][_0x21a31a(0x25c)](_0x456fa9);}if(_0x2469b9[_0x21a31a(0x285)]){let _0x317a14=_0x2469b9[_0x21a31a(0x285)];this['groupHandler']['groups.update'](_0x317a14);}if(_0x2469b9[_0x21a31a(0x63f)]){let _0x19890d=_0x2469b9[_0x21a31a(0x63f)];this[_0x21a31a(0x6e0)][_0x21a31a(0x63f)](_0x19890d);}if(_0x2469b9[_0x21a31a(0x34e)]){let _0x1e8bfb=_0x2469b9['chats.upsert'];this[_0x21a31a(0x735)][_0x21a31a(0x34e)](_0x1e8bfb,_0x558893);}if(_0x2469b9['chats.update']){let _0x5e93cb=_0x2469b9[_0x21a31a(0x2fd)];this[_0x21a31a(0x735)][_0x21a31a(0x2fd)](_0x5e93cb,_0x558893);}if(_0x2469b9[_0x21a31a(0x38f)]){let _0x229215=_0x2469b9['chats.delete'];this[_0x21a31a(0x735)][_0x21a31a(0x38f)](_0x229215);}if(_0x2469b9[_0x21a31a(0xfa)]){let _0x1a2066=_0x2469b9[_0x21a31a(0xfa)];this[_0x21a31a(0xe2)]['contacts.upsert'](_0x1a2066,_0x558893);}if(_0x2469b9[_0x21a31a(0x48c)]){let _0x538977=_0x2469b9[_0x21a31a(0x48c)];this['contactHandle'][_0x21a31a(0x48c)](_0x538977,_0x558893);}}});}[a0_0x28fd55(0x1b8)](_0x45f462){return new Promise(_0x339118=>setTimeout(_0x339118,_0x45f462));}[a0_0x28fd55(0x1cb)](_0x3e12da){const _0x53abbe=a0_0x28fd55;_0x3e12da=_0x3e12da[_0x53abbe(0x4b8)](/\D/g,'');let _0x44fbc2=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x53abbe(0x39a)](_0x3e12da);if(_0x44fbc2&&_0x44fbc2[0x1]==='55'){let _0x35ed9e=_0x44fbc2[0x2],_0x3e0e27=_0x44fbc2[0x3],_0x5cbac3=_0x44fbc2[0x4];if(parseInt(_0x35ed9e)>=0x1f&&_0x3e0e27==='9')return _0x44fbc2[0x1]+_0x35ed9e+_0x5cbac3;}return _0x3e12da;}['createJid'](_0x46600d){const _0x316996=a0_0x28fd55;return _0x46600d[_0x316996(0x4d2)](_0x316996(0x43a))||_0x46600d[_0x316996(0x4d2)]('@s.whatsapp.net')||_0x46600d['includes']('@broadcast')?_0x46600d:(_0x46600d=_0x46600d?.['replace'](/\s/g,'')['replace'](/\+/g,'')['replace'](/\(/g,'')['replace'](/\)/g,'')[_0x316996(0x5c6)](/\:/)[0x0][_0x316996(0x5c6)]('@')[0x0],_0x46600d[_0x316996(0x479)]>=0x12?(_0x46600d=_0x46600d[_0x316996(0x4b8)](/[^\d-]/g,''),_0x46600d+_0x316996(0x43a)):(_0x46600d=_0x46600d[_0x316996(0x4b8)](/\D/g,''),_0x46600d+_0x316996(0x6fb)));}async[a0_0x28fd55(0x694)](_0x2f8535){const _0x590e7b=a0_0x28fd55;let _0x4e245a=(await this[_0x590e7b(0x3df)]({'numbers':[_0x2f8535[_0x590e7b(0x461)]]}))[0x0];if(!_0x4e245a['exists']&&!(0x0,f[_0x590e7b(0x37a)])(_0x4e245a['jid'])&&!_0x4e245a[_0x590e7b(0x39c)]['includes'](_0x590e7b(0x69f)))throw new m(_0x4e245a);let _0x469972=_0x4e245a[_0x590e7b(0x39c)];try{return await this[_0x590e7b(0x1f2)][_0x590e7b(0x552)](_0x469972),await this[_0x590e7b(0x1f2)][_0x590e7b(0x675)](_0x2f8535[_0x590e7b(0x1c5)],_0x469972),{'status':0xc8,'presence':_0x2f8535['presence']};}catch(_0x3b7847){let _0x2fa6ab=_0x590e7b(0x44f),_0x4c6e73=_0x3b7847 instanceof Error?_0x3b7847['message']:typeof _0x3b7847=='object'?JSON[_0x590e7b(0x431)](_0x3b7847):_0x3b7847,_0x4fe469=_0x2fa6ab+':\x20'+_0x4c6e73;throw this[_0x590e7b(0x2ca)][_0x590e7b(0xbc)](this[_0x590e7b(0x1e9)]+'\x20('+this[_0x590e7b(0x219)][_0x590e7b(0x415)]+_0x590e7b(0x48e)+_0x4fe469),new m(_0x4fe469);}}async[a0_0x28fd55(0x317)](_0x119617,_0xe5906f,_0xeb57d8,_0x352b3d=!0x0){const _0x361cce=a0_0x28fd55;let _0x321906=await this[_0x361cce(0xf1)]['cacheContact']['findOne']({'where':{'_id':_0x119617}});if(!_0x321906&&!_0x352b3d)return;let _0x500015={'lastUpdate':Date[_0x361cce(0x717)]()};if(_0xeb57d8||!_0x321906?.['lastUpdate']||Date[_0x361cce(0x717)]()-_0x321906[_0x361cce(0x699)]>0x18*0x3c*0x3c*0x3e8)try{let _0xbbf6de=(await this[_0x361cce(0x2ab)](_0x119617))['profilePictureUrl'];_0x500015[_0x361cce(0x49e)]=_0xbbf6de;}catch(_0x3efcff){let _0x25768=_0x361cce(0x2b9),_0x4025cc=_0x3efcff instanceof Error?_0x3efcff[_0x361cce(0x559)]:typeof _0x3efcff==_0x361cce(0x661)?JSON[_0x361cce(0x431)](_0x3efcff):_0x3efcff,_0x4efed4=_0x25768+':\x20'+_0x4025cc;throw this[_0x361cce(0x2ca)][_0x361cce(0xbc)](this[_0x361cce(0x1e9)]+'\x20('+this[_0x361cce(0x219)]['wuid']+'):\x20'+_0x4efed4),new m(_0x4efed4);}return _0xe5906f&&_0x321906?.['name']!==_0xe5906f&&(_0x500015[_0x361cce(0x616)]=_0xe5906f),Object[_0x361cce(0x14d)](_0x500015)[_0x361cce(0x479)]>0x1&&(_0x321906?await this[_0x361cce(0xf1)][_0x361cce(0x573)][_0x361cce(0x74b)]({'where':{'_id':_0x119617}},_0x500015):await this[_0x361cce(0xf1)]['cacheContact'][_0x361cce(0x278)]([{'_id':_0x119617,..._0x500015}]),_0x321906={..._0x321906,..._0x500015}),{'cachedContact':_0x321906};}async[a0_0x28fd55(0x2ab)](_0x31c50b){const _0x1524f8=a0_0x28fd55;let _0x41177e=this['createJid'](_0x31c50b);try{return{'wuid':_0x41177e,'profilePictureUrl':await this[_0x1524f8(0x1f2)][_0x1524f8(0x379)](_0x41177e,_0x1524f8(0x76a))};}catch{return{'wuid':_0x41177e,'profilePictureUrl':null};}}async[a0_0x28fd55(0x33d)](_0x3e4fe1,_0x313a5c,_0x65a017){const _0x3de686=a0_0x28fd55;_0x65a017||(_0x65a017={});let _0x2d219d=(await this['whatsappNumber']({'numbers':[_0x3e4fe1]}))[0x0];if(!_0x2d219d[_0x3de686(0x78f)]&&!(0x0,f[_0x3de686(0x37a)])(_0x2d219d[_0x3de686(0x39c)])&&!_0x2d219d[_0x3de686(0x39c)][_0x3de686(0x4d2)](_0x3de686(0x69f)))throw new m(_0x2d219d);let _0x135326=_0x2d219d[_0x3de686(0x39c)];try{if(_0x65a017?.['delay']){await this[_0x3de686(0x1f2)][_0x3de686(0x552)](_0x135326),await this[_0x3de686(0x1f2)][_0x3de686(0x675)](_0x65a017?.[_0x3de686(0x1c5)]??_0x3de686(0x595),_0x135326);let _0x34e779=Math['min'](_0x65a017[_0x3de686(0x3cb)],0x2710);await(0x0,f[_0x3de686(0x3cb)])(_0x34e779),await this[_0x3de686(0x1f2)][_0x3de686(0x675)]('paused',_0x135326);}let _0x384b46=_0x65a017?.[_0x3de686(0x361)]!=!0x1?void 0x0:!0x1,_0x5a0b88;if(_0x65a017?.[_0x3de686(0x764)]){let _0x12dad8=_0x65a017?.[_0x3de686(0x764)],_0x13b6c1=_0x12dad8?.[_0x3de686(0x559)]?_0x12dad8:await this[_0x3de686(0x2f8)](_0x12dad8['key'],!0x0);if(!_0x13b6c1)throw _0x3de686(0x686);_0x5a0b88=_0x13b6c1;}let _0x220a79;if((0x0,f[_0x3de686(0x37a)])(_0x135326))try{let _0x517e82=(await this['repository'][_0x3de686(0x17e)][_0x3de686(0x267)]({'where':{'_id':_0x135326}},this[_0x3de686(0x219)]['wuid']))[_0x3de686(0x5f5)];if(!_0x517e82)throw new U(_0x3de686(0x495));_0x65a017?.[_0x3de686(0xf2)]&&(_0x65a017[_0x3de686(0xf2)]?.[_0x3de686(0x41e)]?_0x220a79=_0x517e82[_0x3de686(0x463)][_0x3de686(0x3ef)](_0x4534e6=>_0x4534e6['id']):_0x65a017['mentions']?.['mentioned']?.[_0x3de686(0x479)]&&(_0x220a79=_0x65a017[_0x3de686(0xf2)]['mentioned'][_0x3de686(0x3ef)](_0x39030a=>{const _0x1b5b1f=_0x3de686;let _0x5cc2e9=this[_0x1b5b1f(0x536)](_0x39030a);return(0x0,f['isJidGroup'])(_0x5cc2e9)?null:_0x5cc2e9;})));}catch{throw new U(_0x3de686(0x495));}let _0x1a0ac8=await this[_0x3de686(0xf1)][_0x3de686(0x17e)][_0x3de686(0x267)]({'where':{'_id':_0x135326}},this[_0x3de686(0x219)]['wuid']),_0x26053a=await((async()=>{const _0xfff9a4=_0x3de686;let _0x1379bf={'quoted':_0x5a0b88,'ephemeralExpiration':_0x1a0ac8?.[_0xfff9a4(0x746)]??0x0};if(!_0x313a5c[_0xfff9a4(0x6c8)]&&!_0x313a5c['poll']&&!_0x313a5c[_0xfff9a4(0x15f)]&&!_0x313a5c['conversation']&&_0x135326!==_0xfff9a4(0x623)&&!_0x313a5c[_0xfff9a4(0x6c8)])return await this[_0xfff9a4(0x1f2)][_0xfff9a4(0x5c4)](_0x135326,{'forward':{'key':{'remoteJid':this[_0xfff9a4(0x219)][_0xfff9a4(0x415)],'fromMe':!0x0},'message':_0x313a5c},'mentions':_0x220a79},_0x1379bf);if(_0x313a5c[_0xfff9a4(0x1d8)])return await this['client'][_0xfff9a4(0x5c4)](_0x135326,{'react':{'text':_0x313a5c[_0xfff9a4(0x1d8)][_0xfff9a4(0xdd)],'key':_0x313a5c[_0xfff9a4(0x1d8)]['key']}},_0x1379bf);if(_0x313a5c[_0xfff9a4(0x633)]){let _0x173426=_0x313a5c[_0xfff9a4(0x633)];return _0x65a017?.[_0xfff9a4(0x32e)]&&(_0x173426=await this['replaceVariablesChat'](_0x173426,_0x135326)),await this[_0xfff9a4(0x1f2)][_0xfff9a4(0x5c4)](_0x135326,{'text':_0x173426,'mentions':_0x220a79,'linkPreview':_0x384b46},_0x1379bf);}return _0x135326===_0xfff9a4(0x623)?await this[_0xfff9a4(0x1f2)]['sendMessage'](_0x135326,_0x313a5c['status'][_0xfff9a4(0x4b5)],{'backgroundColor':_0x313a5c[_0xfff9a4(0x180)][_0xfff9a4(0x27c)][_0xfff9a4(0x6d5)],'font':_0x313a5c[_0xfff9a4(0x180)]['option'][_0xfff9a4(0x37c)],'statusJidList':_0x313a5c[_0xfff9a4(0x180)][_0xfff9a4(0x27c)][_0xfff9a4(0x4be)]}):await this[_0xfff9a4(0x1f2)]['sendMessage'](_0x135326,_0x313a5c,_0x1379bf);})()),_0x2c42e3=(0x0,f[_0x3de686(0x3ed)])(_0x26053a[_0x3de686(0x559)]),_0x367aca=(0x0,f[_0x3de686(0x59d)])(_0x2c42e3),{message_normalized:_0x27977f}=this[_0x3de686(0x3c9)](_0x2c42e3,_0x367aca,null),_0x2fd60d={'_id':_0x26053a[_0x3de686(0x475)]['id'],'key':_0x26053a[_0x3de686(0x475)],'pushName':_0x26053a[_0x3de686(0x6ff)],'isGroup':_0x26053a['key'][_0x3de686(0x5dd)][_0x3de686(0x354)](_0x3de686(0x43a)),'profilePictureUrl':this[_0x3de686(0x219)][_0x3de686(0x379)],'message':_0x2c42e3,'messageType':_0x367aca,'message_normalized':{'key':_0x26053a[_0x3de686(0x475)],'pushName':_0x26053a[_0x3de686(0x6ff)],'messageTimestamp':_0x26053a['messageTimestamp']&&_0x26053a['messageTimestamp']['toString']()['length']<0xd?_0x26053a[_0x3de686(0x259)]*0x3e8:_0x26053a[_0x3de686(0x259)]||null,'source':(0x0,f['getDevice'])(_0x26053a['key']['id']),..._0x27977f},'messageTimestamp':_0x26053a['messageTimestamp']&&_0x26053a[_0x3de686(0x259)][_0x3de686(0x6dd)]()['length']<0xd?_0x26053a[_0x3de686(0x259)]*0x3e8:_0x26053a[_0x3de686(0x259)]||null,'owner':this[_0x3de686(0x219)][_0x3de686(0x415)],'source':(0x0,f[_0x3de686(0x220)])(_0x26053a[_0x3de686(0x475)]['id'])};return this['logger'][_0x3de686(0x5ba)](this[_0x3de686(0x1e9)]+'\x20('+this['instance'][_0x3de686(0x415)]+'):\x20enviado\x20para\x20['+_0x2fd60d[_0x3de686(0x475)]?.[_0x3de686(0x5dd)]['replace'](_0x3de686(0x6fb),'')+_0x3de686(0x186)+_0x2fd60d[_0x3de686(0x6d8)]+')'),_0x2fd60d[_0x3de686(0x50e)]?.[_0x3de686(0xdd)]&&this['logger']['warn'](_0x2fd60d['message_normalized']?.[_0x3de686(0xdd)]),this['sendDataWebhook'](_0x3de686(0x705),_0x2fd60d),J(this[_0x3de686(0x1e9)],_0x3de686(0x171),{'message':_0x2fd60d}),this[_0x3de686(0x19a)](this[_0x3de686(0x58f)][_0x3de686(0x72c)](_0x3de686(0x228)),_0x2fd60d,_0x3de686(0x6e5),_0x1a0ac8),await this['repository']['message'][_0x3de686(0x278)]([_0x2fd60d],this[_0x3de686(0x219)]['wuid']),_0x26053a;}catch(_0x524809){let _0x29a54e='Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert',_0x38cbbd=_0x524809 instanceof Error?_0x524809['message']:typeof _0x524809==_0x3de686(0x661)?JSON['stringify'](_0x524809):_0x524809,_0x58873e=_0x29a54e+':\x20'+_0x38cbbd;throw this['logger'][_0x3de686(0xbc)](this['instanceName']+'\x20('+this[_0x3de686(0x219)][_0x3de686(0x415)]+_0x3de686(0x48e)+_0x58873e),new m(_0x58873e);}}get[a0_0x28fd55(0x73e)](){const _0x4f159a=a0_0x28fd55;return this[_0x4f159a(0x2b3)];}async[a0_0x28fd55(0x4b6)](_0xa55ba){const _0x562003=a0_0x28fd55;let _0x1493ac=Rr,_0x30fed1=et;return _0x30fed1&&this[_0x562003(0x1e9)][_0x562003(0x1d7)]()[_0x562003(0x4d2)](_0x30fed1[_0x562003(0x1d7)]())&&(_0xa55ba[_0x562003(0x4b6)][_0x562003(0xdd)]+='\x0a\x0a'+_0x1493ac),await this[_0x562003(0x33d)](_0xa55ba[_0x562003(0x461)],{'conversation':_0xa55ba['textMessage']['text']},_0xa55ba?.[_0x562003(0x313)]);}async['formatStatusMessage'](_0x53b0ee){const _0x5e8b40=a0_0x28fd55;if(!_0x53b0ee[_0x5e8b40(0x68c)])throw new m(_0x5e8b40(0x375));if(!_0x53b0ee[_0x5e8b40(0x4b5)])throw new m('Content\x20is\x20required');if(_0x53b0ee[_0x5e8b40(0xd5)]){let _0x376c56=await this['repository']['contact'][_0x5e8b40(0x167)]({'where':{}},this[_0x5e8b40(0x219)]['wuid']);if(!_0x376c56[_0x5e8b40(0x479)])throw new m(_0x5e8b40(0x56d));_0x53b0ee[_0x5e8b40(0x4be)]=_0x376c56[_0x5e8b40(0x586)](_0x2155eb=>_0x2155eb[_0x5e8b40(0x6ff)])[_0x5e8b40(0x3ef)](_0x1bc97a=>_0x1bc97a[_0x5e8b40(0x53b)]);}if(!_0x53b0ee[_0x5e8b40(0x4be)]?.[_0x5e8b40(0x479)]&&!_0x53b0ee['allContacts'])throw new m('StatusJidList\x20is\x20required');if(_0x53b0ee[_0x5e8b40(0x68c)]===_0x5e8b40(0xdd)){if(!_0x53b0ee[_0x5e8b40(0x6d5)])throw new m(_0x5e8b40(0x3bb));if(!_0x53b0ee[_0x5e8b40(0x37c)])throw new m(_0x5e8b40(0x3eb));return{'content':{'text':_0x53b0ee[_0x5e8b40(0x4b5)]},'option':{'backgroundColor':_0x53b0ee[_0x5e8b40(0x6d5)],'font':_0x53b0ee[_0x5e8b40(0x37c)],'statusJidList':_0x53b0ee[_0x5e8b40(0x4be)]}};}if(_0x53b0ee['type']===_0x5e8b40(0x76a))return{'content':{'image':{'url':_0x53b0ee['content']},'caption':_0x53b0ee[_0x5e8b40(0x372)]},'option':{'statusJidList':_0x53b0ee[_0x5e8b40(0x4be)]}};if(_0x53b0ee[_0x5e8b40(0x68c)]===_0x5e8b40(0x1d5))return{'content':{'video':{'url':_0x53b0ee[_0x5e8b40(0x4b5)]},'caption':_0x53b0ee[_0x5e8b40(0x372)]},'option':{'statusJidList':_0x53b0ee['statusJidList']}};if(_0x53b0ee['type']==='audio'){this[_0x5e8b40(0x2ca)]['verbose'](_0x5e8b40(0x4c5)),this['logger']['verbose'](_0x5e8b40(0x751));let _0x42658f=await this[_0x5e8b40(0xb4)](_0x53b0ee['content']);if(typeof _0x42658f==_0x5e8b40(0x660)){this[_0x5e8b40(0x2ca)][_0x5e8b40(0x77f)](_0x5e8b40(0x1fb));let _0x32e522=j[_0x5e8b40(0x510)](_0x42658f)['toString'](_0x5e8b40(0x782));return{'content':{'audio':Buffer['from'](_0x32e522,'base64'),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x53b0ee[_0x5e8b40(0x4be)]}};}else throw new I(_0x42658f);}throw new m(_0x5e8b40(0x176));}async['statusMessage'](_0xae150e){const _0x400a12=a0_0x28fd55;return await this['sendMessageWithTyping']('status@broadcast',{'status':await this[_0x400a12(0x11a)](_0xae150e[_0x400a12(0x6ae)])});}async['prepareMediaMessage'](_0xf73395){const _0x3e524f=a0_0x28fd55;try{let _0x46a3ed=await(0x0,f[_0x3e524f(0x11b)])({[_0xf73395[_0x3e524f(0x70d)]]:(0x0,P['isURL'])(_0xf73395[_0x3e524f(0x5f7)])?{'url':_0xf73395['media']}:Buffer[_0x3e524f(0x656)](_0xf73395[_0x3e524f(0x5f7)],_0x3e524f(0x782))},{'upload':this[_0x3e524f(0x1f2)]['waUploadToServer']}),_0x6e13e0=_0xf73395[_0x3e524f(0x70d)]+_0x3e524f(0x4ef);if(_0xf73395[_0x3e524f(0x70d)]===_0x3e524f(0x533)&&!_0xf73395[_0x3e524f(0x6d2)]){let _0x488d42=new RegExp(/.*\/(.+?)\./)[_0x3e524f(0x39a)](_0xf73395[_0x3e524f(0x5f7)]);_0xf73395['fileName']=_0x488d42?_0x488d42[0x1]:null;}let _0x5b0c7c=(0x0,P[_0x3e524f(0x774)])(_0xf73395['media'])?_0xf73395[_0x3e524f(0x5f7)][_0x3e524f(0x5c6)]('?')[0x0]:_0xf73395[_0x3e524f(0x5f7)];this[_0x3e524f(0x2ca)][_0x3e524f(0x77f)](_0x3e524f(0x747)+_0x5b0c7c);let _0x19e7d5;(0x0,P['isURL'])(_0xf73395[_0x3e524f(0x5f7)])?_0x19e7d5=(0x0,kt[_0x3e524f(0x43b)])(_0x5b0c7c):_0xf73395[_0x3e524f(0x6d2)]&&_0xf73395['fileName']['includes']('.')?_0x19e7d5=(0x0,kt[_0x3e524f(0x43b)])(_0xf73395[_0x3e524f(0x6d2)]):_0x19e7d5=(0x0,kt['getMIMEType'])(_0xf73395[_0x3e524f(0x5f7)]);let _0x50e465=Rr,_0x219099=et;return _0x219099&&this[_0x3e524f(0x1e9)]['toLowerCase']()[_0x3e524f(0x4d2)](_0x219099[_0x3e524f(0x1d7)]())&&(_0xf73395[_0x3e524f(0x372)]+='\x0a\x0a'+_0x50e465),_0x46a3ed[_0x6e13e0]['caption']=_0xf73395?.['caption'],_0x46a3ed[_0x6e13e0][_0x3e524f(0x465)]=_0x19e7d5,_0x46a3ed[_0x6e13e0]['fileName']=_0xf73395[_0x3e524f(0x6d2)],_0xf73395[_0x3e524f(0x70d)]===_0x3e524f(0x1d5)&&(_0x46a3ed[_0x6e13e0][_0x3e524f(0x544)]=Uint8Array[_0x3e524f(0x656)]((0x0,Oe[_0x3e524f(0x510)])((0x0,F['join'])(process['cwd'](),'video-cover.png'))),_0x46a3ed[_0x6e13e0][_0x3e524f(0x2ea)]=!0x1),(0x0,f[_0x3e524f(0x103)])('',{[_0x6e13e0]:{..._0x46a3ed[_0x6e13e0]}},{'userJid':this[_0x3e524f(0x219)][_0x3e524f(0x415)]});}catch(_0x16e49a){let _0x11cde2=_0x3e524f(0x454),_0x271314=_0x16e49a instanceof Error?_0x16e49a[_0x3e524f(0x559)]:typeof _0x16e49a==_0x3e524f(0x661)?JSON['stringify'](_0x16e49a):_0x16e49a,_0x109d52=_0x11cde2+':\x20'+_0x271314;throw this[_0x3e524f(0x2ca)]['error'](this[_0x3e524f(0x1e9)]+'\x20('+this[_0x3e524f(0x219)][_0x3e524f(0x415)]+_0x3e524f(0x48e)+_0x109d52),new I(_0x109d52);}}async[a0_0x28fd55(0x4a1)](_0x2c884f){const _0x2aa2d7=a0_0x28fd55;let _0x548f23=await this[_0x2aa2d7(0x53c)](_0x2c884f[_0x2aa2d7(0x4a1)]);return await this[_0x2aa2d7(0x33d)](_0x2c884f['number'],{..._0x548f23[_0x2aa2d7(0x559)]},_0x2c884f?.['options']);}async[a0_0x28fd55(0x265)](_0xb0f23f,_0x3642fc){const _0x4b72b4=a0_0x28fd55;try{this[_0x4b72b4(0x2ca)][_0x4b72b4(0x77f)](_0x4b72b4(0x5a3));let _0x3b7322,_0x5ba58b=_0x3642fc+'-'+new Date()['getTime']();this[_0x4b72b4(0x2ca)][_0x4b72b4(0x77f)](_0x4b72b4(0x4c3)+_0x5ba58b);let _0x159814=''+(0x0,F[_0x4b72b4(0x597)])(this['storePath'],_0x5ba58b+_0x4b72b4(0xd8));if(this[_0x4b72b4(0x2ca)][_0x4b72b4(0x77f)](_0x4b72b4(0x332)+_0x159814),(0x0,P['isBase64'])(_0xb0f23f)){this[_0x4b72b4(0x2ca)]['verbose'](_0x4b72b4(0x48b));let _0x1cb1cf=_0xb0f23f[_0x4b72b4(0x4b8)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x5c322a=Buffer['from'](_0x1cb1cf,'base64');_0x3b7322=''+(0x0,F[_0x4b72b4(0x597)])(this[_0x4b72b4(0x654)],_0x4b72b4(0x338)+_0x5ba58b+_0x4b72b4(0x679)),this[_0x4b72b4(0x2ca)][_0x4b72b4(0x77f)](_0x4b72b4(0x273)+_0x3b7322),await(0x0,Lt[_0x4b72b4(0x446)])(_0x5c322a)[_0x4b72b4(0x1cf)](_0x3b7322),this[_0x4b72b4(0x2ca)]['verbose'](_0x4b72b4(0x58e));}else{this[_0x4b72b4(0x2ca)]['verbose']('Image\x20is\x20url');let _0x44b1ee=new Date()[_0x4b72b4(0x59c)](),_0xbf5649=_0xb0f23f+_0x4b72b4(0x6aa)+_0x44b1ee;this[_0x4b72b4(0x2ca)][_0x4b72b4(0x77f)](_0x4b72b4(0x2e2)+_0xbf5649);let _0x3d9e91=await K[_0x4b72b4(0x446)]['get'](_0xbf5649,{'responseType':_0x4b72b4(0x304)});this[_0x4b72b4(0x2ca)][_0x4b72b4(0x77f)](_0x4b72b4(0x5ca));let _0x582bd7=Buffer['from'](_0x3d9e91[_0x4b72b4(0x4d5)],_0x4b72b4(0x1e6));_0x3b7322=''+(0x0,F[_0x4b72b4(0x597)])(this[_0x4b72b4(0x654)],_0x4b72b4(0x338)+_0x5ba58b+_0x4b72b4(0x679)),this[_0x4b72b4(0x2ca)][_0x4b72b4(0x77f)]('Image\x20path:\x20'+_0x3b7322),await(0x0,Lt[_0x4b72b4(0x446)])(_0x582bd7)[_0x4b72b4(0x1cf)](_0x3b7322),this[_0x4b72b4(0x2ca)][_0x4b72b4(0x77f)](_0x4b72b4(0x58e));}return await(0x0,Lt[_0x4b72b4(0x446)])(_0x3b7322)[_0x4b72b4(0x761)]()['toFile'](_0x159814),this[_0x4b72b4(0x2ca)][_0x4b72b4(0x77f)](_0x4b72b4(0x526)),j[_0x4b72b4(0x733)](_0x3b7322),this[_0x4b72b4(0x2ca)][_0x4b72b4(0x77f)](_0x4b72b4(0x5d1)),_0x159814;}catch(_0x4b7227){let _0x55dc28=_0x4b72b4(0x67a),_0x319abb=_0x4b7227 instanceof Error?_0x4b7227[_0x4b72b4(0x559)]:typeof _0x4b7227==_0x4b72b4(0x661)?JSON[_0x4b72b4(0x431)](_0x4b7227):_0x4b7227,_0x50b751=_0x55dc28+':\x20'+_0x319abb;this[_0x4b72b4(0x2ca)][_0x4b72b4(0xbc)](this[_0x4b72b4(0x1e9)]+'\x20('+this[_0x4b72b4(0x219)][_0x4b72b4(0x415)]+_0x4b72b4(0x48e)+_0x50b751);}}async[a0_0x28fd55(0x1c1)](_0x4e36a0){const _0x3c6ffb=a0_0x28fd55;let _0x624821=await this['convertToWebP'](_0x4e36a0[_0x3c6ffb(0x78b)][_0x3c6ffb(0x76a)],_0x4e36a0[_0x3c6ffb(0x461)]),_0x63bab6=await this[_0x3c6ffb(0x33d)](_0x4e36a0[_0x3c6ffb(0x461)],{'sticker':{'url':_0x624821}},_0x4e36a0?.['options']);return j[_0x3c6ffb(0x733)](_0x624821),this['logger']['verbose']('Converted\x20image\x20deleted'),_0x63bab6;}async[a0_0x28fd55(0x438)](_0x39e9cf){const _0x4cdce4=a0_0x28fd55;if(this[_0x4cdce4(0x2ca)][_0x4cdce4(0x77f)]('Sending\x20audio\x20whatsapp'),!_0x39e9cf[_0x4cdce4(0x313)]?.[_0x4cdce4(0x14b)]&&_0x39e9cf['options']?.[_0x4cdce4(0x14b)]!==!0x1&&(_0x39e9cf['options'][_0x4cdce4(0x14b)]=!0x0),_0x39e9cf[_0x4cdce4(0x313)]?.[_0x4cdce4(0x14b)]){let _0x45d91c=await this[_0x4cdce4(0xb4)](_0x39e9cf[_0x4cdce4(0x445)][_0x4cdce4(0x6c8)]);if(typeof _0x45d91c==_0x4cdce4(0x660)){let _0x24f289=j[_0x4cdce4(0x510)](_0x45d91c)[_0x4cdce4(0x6dd)](_0x4cdce4(0x782));return this[_0x4cdce4(0x33d)](_0x39e9cf[_0x4cdce4(0x461)],{'audio':Buffer[_0x4cdce4(0x656)](_0x24f289,_0x4cdce4(0x782)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x4cdce4(0x13e),'delay':_0x39e9cf?.[_0x4cdce4(0x313)]?.[_0x4cdce4(0x3cb)]});}else throw new I(_0x45d91c);}return await this['sendMessageWithTyping'](_0x39e9cf[_0x4cdce4(0x461)],{'audio':(0x0,P[_0x4cdce4(0x774)])(_0x39e9cf['audioMessage'][_0x4cdce4(0x6c8)])?{'url':_0x39e9cf[_0x4cdce4(0x445)][_0x4cdce4(0x6c8)]}:Buffer[_0x4cdce4(0x656)](_0x39e9cf['audioMessage'][_0x4cdce4(0x6c8)],_0x4cdce4(0x782)),'ptt':!0x0,'mimetype':_0x4cdce4(0x55d)},{'presence':_0x4cdce4(0x13e),'delay':_0x39e9cf?.[_0x4cdce4(0x313)]?.[_0x4cdce4(0x3cb)]});}async[a0_0x28fd55(0xb4)](_0x1e736a){const _0x18bd76=a0_0x28fd55;this[_0x18bd76(0x2ca)][_0x18bd76(0x77f)](_0x18bd76(0x751));let _0x2fa312=(0x0,P['isURL'])(_0x1e736a)?(0x0,Jt[_0x18bd76(0x5b7)])(_0x18bd76(0x6c4))[_0x18bd76(0x74b)](_0x1e736a)['digest'](_0x18bd76(0x1d9)):(0x0,Jt[_0x18bd76(0x5b7)])(_0x18bd76(0x6c4))['update'](_0x1e736a)[_0x18bd76(0x284)](_0x18bd76(0x1d9)),_0x341e1d=''+(0x0,F[_0x18bd76(0x597)])(this[_0x18bd76(0x654)],_0x2fa312+'.ogg');if(j[_0x18bd76(0x6b4)](_0x341e1d))return this[_0x18bd76(0x2ca)]['verbose']('Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x341e1d;let _0x2db688=''+(0x0,F['join'])(this[_0x18bd76(0x654)],_0x18bd76(0x338)+(0x0,jt['v4'])()+_0x18bd76(0x60a));if((0x0,P['isURL'])(_0x1e736a)){let _0x437fc8=new Date()[_0x18bd76(0x59c)](),_0x202808=_0x1e736a+_0x18bd76(0x6aa)+_0x437fc8,_0x27e63e=await K[_0x18bd76(0x446)][_0x18bd76(0x72c)](_0x202808,{'responseType':'arraybuffer'});j[_0x18bd76(0x210)](_0x2db688,_0x27e63e['data']);}else{let _0x29ea98=Buffer[_0x18bd76(0x656)](_0x1e736a,_0x18bd76(0x782));j[_0x18bd76(0x210)](_0x2db688,_0x29ea98);}return new Promise((_0x5dab84,_0x583d4b)=>{const _0x1ba72b=_0x18bd76;(0x0,Ae[_0x1ba72b(0x39a)])(As[_0x1ba72b(0x446)][_0x1ba72b(0x23e)]+_0x1ba72b(0x2c9)+_0x2db688+_0x1ba72b(0x4f4)+_0x341e1d+_0x1ba72b(0x151),_0x5aba09=>{const _0x12848a=_0x1ba72b;if(j[_0x12848a(0x733)](_0x2db688),_0x5aba09){this[_0x12848a(0x2ca)]['verbose']('Error\x20in\x20converting\x20audio'),_0x583d4b(_0x5aba09);return;}this['logger'][_0x12848a(0x77f)]('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x5dab84(_0x341e1d);});});}async[a0_0x28fd55(0x600)](_0x5304fa){const _0x497eef=a0_0x28fd55;this[_0x497eef(0x2ca)][_0x497eef(0x77f)](_0x497eef(0x751));let _0x4cd543=(0x0,Jt[_0x497eef(0x5b7)])('sha256')[_0x497eef(0x74b)](_0x5304fa)[_0x497eef(0x284)](_0x497eef(0x1d9)),_0x16cb22=''+(0x0,F['join'])(this['storePath'],_0x4cd543+_0x497eef(0x60a));if(j[_0x497eef(0x6b4)](_0x16cb22))return this['logger'][_0x497eef(0x77f)](_0x497eef(0x678)),F['default'][_0x497eef(0x221)](_0x16cb22);let _0x1d68ca=''+(0x0,F[_0x497eef(0x597)])(this['storePath'],_0x497eef(0x338)+_0x4cd543+_0x497eef(0x254));if((0x0,P['isURL'])(_0x5304fa)){let _0x512715=new Date()['getTime'](),_0x2dce70=_0x5304fa+_0x497eef(0x6aa)+_0x512715,_0x304499=await K['default'][_0x497eef(0x72c)](_0x2dce70,{'responseType':_0x497eef(0x304)});j[_0x497eef(0x210)](_0x1d68ca,_0x304499['data']);}else{let _0x525ca9=Buffer[_0x497eef(0x656)](_0x5304fa,_0x497eef(0x782));j['writeFileSync'](_0x1d68ca,_0x525ca9);}return new Promise((_0x38fd85,_0xab0a26)=>{const _0x38add9=_0x497eef;(0x0,Ae[_0x38add9(0x39a)])(As[_0x38add9(0x446)]['path']+_0x38add9(0x2c9)+_0x1d68ca+_0x38add9(0x397)+_0x16cb22+_0x38add9(0x151),_0xda36a8=>{const _0x92fc3a=_0x38add9;if(j[_0x92fc3a(0x733)](_0x1d68ca),_0xda36a8){this[_0x92fc3a(0x2ca)]['verbose'](_0x92fc3a(0x6e3)),_0xab0a26(_0xda36a8);return;}this[_0x92fc3a(0x2ca)]['verbose'](_0x92fc3a(0x165)),_0x38fd85(F[_0x92fc3a(0x446)][_0x92fc3a(0x221)](_0x16cb22));});});}async[a0_0x28fd55(0x2e4)](_0x1687cc){const _0x590ce8=a0_0x28fd55;let _0x1ee35f={},_0x51355e=_0x590ce8(0x2f2);if(_0x1687cc[_0x590ce8(0x2e4)]?.[_0x590ce8(0x4a1)]){_0x51355e=_0x1687cc[_0x590ce8(0x2e4)][_0x590ce8(0x4a1)]?.['mediatype'][_0x590ce8(0x498)]()??'TEXT',_0x1ee35f[_0x590ce8(0x3e8)]=_0x51355e['toLowerCase']()+'Message';let _0x165845=await this['prepareMediaMessage'](_0x1687cc[_0x590ce8(0x2e4)][_0x590ce8(0x4a1)]);_0x1ee35f[_0x590ce8(0x559)]=_0x165845[_0x590ce8(0x559)][_0x1ee35f['mediaKey']],_0x1ee35f[_0x590ce8(0x6fa)]='*'+_0x1687cc['buttonMessage']['title']+_0x590ce8(0x528)+_0x1687cc[_0x590ce8(0x2e4)][_0x590ce8(0x6ab)];}let _0x4858cd={'text':_0x1687cc[_0x590ce8(0x2e4)][_0x590ce8(0xb0)]['map'](_0x209fbf=>_0x209fbf[_0x590ce8(0x451)]),'ids':_0x1687cc['buttonMessage'][_0x590ce8(0xb0)]['map'](_0x58bcf3=>_0x58bcf3[_0x590ce8(0x198)])};if(!(0x0,P[_0x590ce8(0x1a9)])(_0x4858cd['text'])||!(0x0,P[_0x590ce8(0x1a9)])(_0x4858cd[_0x590ce8(0x231)]))throw new m(_0x590ce8(0x6a9),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x590ce8(0x33d)](_0x1687cc[_0x590ce8(0x461)],{'buttonsMessage':{'text':_0x1ee35f?.['mediaKey']?void 0x0:_0x1687cc[_0x590ce8(0x2e4)][_0x590ce8(0x618)],'contentText':_0x1ee35f?.[_0x590ce8(0x6fa)]??_0x1687cc['buttonMessage'][_0x590ce8(0x6ab)],'footerText':_0x1687cc['buttonMessage']?.['footerText'],'buttons':_0x1687cc[_0x590ce8(0x2e4)]['buttons'][_0x590ce8(0x3ef)](_0x3671a7=>({'buttonText':{'displayText':_0x3671a7[_0x590ce8(0x451)]},'buttonId':_0x3671a7['buttonId'],'type':0x1})),'headerType':f[_0x590ce8(0x4cd)][_0x590ce8(0x4ef)][_0x590ce8(0x2a4)]['HeaderType'][_0x51355e],[_0x1ee35f?.['mediaKey']]:_0x1ee35f?.[_0x590ce8(0x559)]}},_0x1687cc?.[_0x590ce8(0x313)]);}async['locationMessage'](_0x395cdb){const _0x2c80f4=a0_0x28fd55;return await this[_0x2c80f4(0x33d)](_0x395cdb[_0x2c80f4(0x461)],{'locationMessage':{'degreesLatitude':_0x395cdb[_0x2c80f4(0x363)][_0x2c80f4(0x4b9)],'degreesLongitude':_0x395cdb[_0x2c80f4(0x363)][_0x2c80f4(0x172)],'name':_0x395cdb[_0x2c80f4(0x363)]?.[_0x2c80f4(0x616)],'address':_0x395cdb[_0x2c80f4(0x363)]?.[_0x2c80f4(0x606)]}},_0x395cdb?.[_0x2c80f4(0x313)]);}async['contactMessage'](_0x2ac965){const _0xb57727=a0_0x28fd55;let _0x5caf3f={},_0x2ef913=async _0x4d6d49=>{const _0x57880c=a0_0x472e;let _0x284fa8=_0x57880c(0x425)+_0x4d6d49[_0x57880c(0x42d)]+_0x57880c(0x3fa)+_0x4d6d49[_0x57880c(0x42d)]+'\x0a';_0x4d6d49['organization']&&(_0x284fa8+=_0x57880c(0x2f9)+_0x4d6d49['organization']+';\x0a'),_0x4d6d49['email']&&(_0x284fa8+='EMAIL:'+_0x4d6d49[_0x57880c(0x152)]+'\x0a'),_0x4d6d49[_0x57880c(0x237)]&&(_0x284fa8+='URL:'+_0x4d6d49[_0x57880c(0x237)]+'\x0a');let _0xb70809='',_0x200cd5=0x1;if(_0x4d6d49[_0x57880c(0x147)]){let _0x5b2fa5=_0x4d6d49['phoneNumber']['split']('|');for(let _0x4077da of _0x5b2fa5){let _0x57f743=await this[_0x57880c(0x3df)]({'numbers':[_0x4077da]}),_0x5a4f08=(_0x57f743['length']>0x0?_0x57f743[0x0][_0x57880c(0x39c)]:this[_0x57880c(0x536)](_0x4077da))[_0x57880c(0x4b8)](_0x57880c(0x6fb),'');_0xb70809+='item'+_0x200cd5+_0x57880c(0x61d)+_0x5a4f08+':'+_0x4077da+'\x0aitem'+_0x200cd5+_0x57880c(0x1c6),_0x200cd5++;}}return _0x284fa8+=_0xb70809+_0x57880c(0x334),_0x284fa8;};return _0x2ac965['contactMessage']['length']===0x1?_0x5caf3f['contactMessage']={'displayName':_0x2ac965[_0xb57727(0x188)][0x0][_0xb57727(0x42d)],'vcard':await _0x2ef913(_0x2ac965[_0xb57727(0x188)][0x0])}:_0x5caf3f[_0xb57727(0x44c)]={'displayName':_0x2ac965[_0xb57727(0x188)][_0xb57727(0x479)]+_0xb57727(0x788),'contacts':await Promise[_0xb57727(0x45f)](_0x2ac965[_0xb57727(0x188)][_0xb57727(0x3ef)](async _0x6037d0=>({'displayName':_0x6037d0[_0xb57727(0x42d)],'vcard':await _0x2ef913(_0x6037d0)})))},await this[_0xb57727(0x33d)](_0x2ac965['number'],{..._0x5caf3f},_0x2ac965?.['options']);}async['reactionMessage'](_0x32358d){const _0x4752c3=a0_0x28fd55;return await this[_0x4752c3(0x33d)](_0x32358d[_0x4752c3(0x1d8)][_0x4752c3(0x475)]['remoteJid'],{'reactionMessage':{'key':_0x32358d['reactionMessage'][_0x4752c3(0x475)],'text':_0x32358d[_0x4752c3(0x1d8)][_0x4752c3(0x19e)]}});}async[a0_0x28fd55(0x3df)](_0x1171c5){const _0x12bbd3=a0_0x28fd55;let _0x59f525=[];for await(let _0x3ea505 of _0x1171c5[_0x12bbd3(0x6f3)]){let _0x5d1d96=this['createJid'](_0x3ea505),_0x27d4a2=!0x1;try{if((0x0,f['isJidGroup'])(_0x5d1d96)){let _0x14fb8d=(await this[_0x12bbd3(0xf1)][_0x12bbd3(0x17e)][_0x12bbd3(0x267)]({'where':{'_id':_0x5d1d96}},this['instance']['wuid']))['groupdata'];_0x27d4a2=!!_0x14fb8d?.['id']&&!!_0x14fb8d?.[_0x12bbd3(0x718)],_0x59f525[_0x12bbd3(0x474)](new we(_0x14fb8d['id'],_0x27d4a2,_0x14fb8d?.[_0x12bbd3(0x701)]));}else{let _0x2f30c2=(await this[_0x12bbd3(0x1f2)][_0x12bbd3(0x428)](_0x5d1d96))[0x0];_0x27d4a2=_0x2f30c2['exists'],_0x59f525['push'](new we(_0x2f30c2[_0x12bbd3(0x39c)],_0x27d4a2));}}catch{(0x0,f[_0x12bbd3(0x37a)])(_0x5d1d96)||await this[_0x12bbd3(0x490)](_0x5d1d96,_0x27d4a2),_0x59f525[_0x12bbd3(0x474)](new we(_0x3ea505,!0x1));}}return _0x59f525;}async['deleteImportedChat'](_0x4cc69f,_0x55dca0){const _0x567f6a=a0_0x28fd55;try{await this[_0x567f6a(0xf1)]['chat'][_0x567f6a(0x267)]({'where':{'_id':_0x4cc69f,'imported':!0x0}},this[_0x567f6a(0x219)]['wuid'])&&(_0x55dca0||(await this[_0x567f6a(0xf1)][_0x567f6a(0x17e)][_0x567f6a(0x294)](_0x4cc69f,this[_0x567f6a(0x219)][_0x567f6a(0x415)]),console['log'](_0x567f6a(0x16a)+_0x4cc69f+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x34664b){let _0x387e1b=_0x567f6a(0x26b),_0x23153f=_0x34664b instanceof Error?_0x34664b[_0x567f6a(0x559)]:typeof _0x34664b==_0x567f6a(0x661)?JSON[_0x567f6a(0x431)](_0x34664b):_0x34664b,_0x354248=_0x387e1b+':\x20'+_0x23153f;this[_0x567f6a(0x2ca)][_0x567f6a(0xbc)](this[_0x567f6a(0x1e9)]+'\x20('+this[_0x567f6a(0x219)][_0x567f6a(0x415)]+_0x567f6a(0x48e)+_0x354248);}}async['markMessageAsRead'](_0x3594fb){const _0x1ed061=a0_0x28fd55;try{let _0xff1fa3=_0x3594fb['readMessages'][_0x1ed061(0x586)](_0xb08d5=>(0x0,f['isJidGroup'])(_0xb08d5['remoteJid'])||(0x0,f[_0x1ed061(0x78e)])(_0xb08d5['remoteJid']))[_0x1ed061(0x3ef)](_0x398ede=>({'remoteJid':_0x398ede[_0x1ed061(0x5dd)],'fromMe':_0x398ede[_0x1ed061(0x602)],'id':_0x398ede['id']}));await this['client'][_0x1ed061(0x49d)](_0xff1fa3);let _0x32b68a=_0xff1fa3[_0x1ed061(0x3ef)](_0x2d0a93=>this[_0x1ed061(0x520)](_0x2d0a93,{'status':'READ','owner':this['instance'][_0x1ed061(0x415)]})),_0x54cb96=_0xff1fa3[_0x1ed061(0x3ef)](_0x1baf5e=>this[_0x1ed061(0xf1)][_0x1ed061(0x17e)][_0x1ed061(0x1b5)]({'where':{'_id':_0x1baf5e['remoteJid']}},{'unreadcount':0x0},this[_0x1ed061(0x219)][_0x1ed061(0x415)])),[_0x47efb4,_0x3ef43c]=await Promise[_0x1ed061(0x45f)]([Promise[_0x1ed061(0x45f)](_0x32b68a),Promise['all'](_0x54cb96)]);return _0x3ef43c[_0x1ed061(0x586)](_0x36c9d2=>_0x36c9d2!==null)['forEach'](_0x2c548b=>{const _0x122438=_0x1ed061;J(this[_0x122438(0x1e9)],_0x122438(0x77b),{'chat':_0x2c548b});}),{'message':_0x1ed061(0x203),'read':'success'};}catch(_0x2ae064){let _0x54aeb3=_0x1ed061(0x2bd),_0x325aa8=_0x2ae064 instanceof Error?_0x2ae064['message']:typeof _0x2ae064=='object'?JSON[_0x1ed061(0x431)](_0x2ae064):_0x2ae064,_0xf08fb=_0x54aeb3+':\x20'+_0x325aa8;throw this['logger'][_0x1ed061(0xbc)](this[_0x1ed061(0x1e9)]+'\x20('+this[_0x1ed061(0x219)][_0x1ed061(0x415)]+_0x1ed061(0x48e)+_0xf08fb),new I(_0xf08fb);}}async[a0_0x28fd55(0x292)](_0x738db0){const _0x53bd90=a0_0x28fd55;let _0x84a264={'where':{'key':{'remoteJid':_0x738db0}},'limit':0x1},_0x5ec805=await this[_0x53bd90(0x204)](_0x84a264);return _0x5ec805||(console[_0x53bd90(0xbc)](_0x53bd90(0xcc),_0x738db0),null);}async[a0_0x28fd55(0x3bf)](_0x467865){const _0x418fe5=a0_0x28fd55;this['logger'][_0x418fe5(0x77f)](_0x418fe5(0x4bf));try{let _0x51a585=_0x467865['lastMessage'],_0x3d1431=_0x467865[_0x418fe5(0x17e)];if(!_0x51a585&&_0x3d1431?_0x51a585=await this['getLastMessage'](_0x3d1431):(_0x51a585=_0x467865[_0x418fe5(0x6bb)],_0x51a585[_0x418fe5(0x259)]=_0x51a585?.[_0x418fe5(0x259)]??Date[_0x418fe5(0x717)](),_0x3d1431=_0x51a585?.[_0x418fe5(0x475)]?.['remoteJid']),!_0x51a585||Object['keys'](_0x51a585)[_0x418fe5(0x479)]===0x0)throw new U(_0x418fe5(0x29b));this[_0x418fe5(0x2ca)]['verbose'](_0x418fe5(0x3a8)+_0x3d1431);try{await this[_0x418fe5(0x1f2)]['chatModify']({'archive':_0x467865['archive'],'lastMessages':[_0x51a585]},this[_0x418fe5(0x536)](_0x3d1431));}catch(_0x34aa91){let _0x201c32='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x3d1431,_0x5d02c0=_0x34aa91 instanceof Error?_0x34aa91[_0x418fe5(0x559)]:typeof _0x34aa91==_0x418fe5(0x661)?JSON[_0x418fe5(0x431)](_0x34aa91):_0x34aa91,_0x2f081c=_0x201c32+':\x20'+_0x5d02c0;this[_0x418fe5(0x2ca)][_0x418fe5(0xbc)](this['instanceName']+'\x20('+this['instance'][_0x418fe5(0x415)]+_0x418fe5(0x48e)+_0x2f081c);}this[_0x418fe5(0x2ca)]['verbose'](_0x418fe5(0x3de)+_0x3d1431);let _0x22b799=await this['repository'][_0x418fe5(0x17e)][_0x418fe5(0x1b5)]({'where':{'_id':_0x51a585?.[_0x418fe5(0x475)]?.[_0x418fe5(0x5dd)]}},{'archived':_0x467865['archive']},this[_0x418fe5(0x219)][_0x418fe5(0x415)]);return _0x22b799?(this[_0x418fe5(0x2ca)]['verbose'](_0x418fe5(0x141)+JSON[_0x418fe5(0x431)](_0x22b799)),J(this[_0x418fe5(0x1e9)],_0x418fe5(0x77b),{'chat':_0x22b799})):this[_0x418fe5(0x2ca)][_0x418fe5(0xbc)]('Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x3d1431),{'chatId':_0x3d1431,'archived':_0x467865[_0x418fe5(0x706)]};}catch(_0x55d256){let _0x1ebf04=_0x418fe5(0x5a2),_0x508692=_0x55d256 instanceof Error?_0x55d256[_0x418fe5(0x559)]:typeof _0x55d256==_0x418fe5(0x661)?JSON[_0x418fe5(0x431)](_0x55d256):_0x55d256,_0x2346bb=_0x1ebf04+':\x20'+_0x508692;throw this['logger'][_0x418fe5(0xbc)](this['instanceName']+'\x20('+this[_0x418fe5(0x219)][_0x418fe5(0x415)]+_0x418fe5(0x48e)+_0x2346bb),new I(_0x2346bb);}}async[a0_0x28fd55(0x294)](_0x302ee2){const _0x11a51a=a0_0x28fd55;this[_0x11a51a(0x2ca)]['verbose']('Delete\x20chat');try{let _0x55939e=await this[_0x11a51a(0x292)](_0x302ee2);if(!_0x55939e||Object[_0x11a51a(0x14d)](_0x55939e)['length']===0x0)throw new U(_0x11a51a(0x29b));let _0x2d3e65=_0x55939e[0x0];this[_0x11a51a(0x2ca)]['verbose'](_0x11a51a(0x348)+_0x302ee2);try{await this[_0x11a51a(0x1f2)][_0x11a51a(0x54f)]({'delete':!0x0,'lastMessages':[{'key':_0x2d3e65['key'],'messageTimestamp':_0x2d3e65[_0x11a51a(0x259)]}]},this[_0x11a51a(0x536)](_0x302ee2));}catch(_0x50b711){this[_0x11a51a(0x2ca)][_0x11a51a(0xbc)](_0x11a51a(0x687)+_0x302ee2+':\x20'+_0x50b711[_0x11a51a(0x6dd)]());}this['logger'][_0x11a51a(0x77f)](_0x11a51a(0x3de)+_0x302ee2);return;}catch(_0x5731ea){throw this[_0x11a51a(0x2ca)]['error'](_0x11a51a(0x22f)+_0x5731ea[_0x11a51a(0x6dd)]()),new I({'archived':!0x1,'message':[_0x11a51a(0x5b1),_0x5731ea[_0x11a51a(0x6dd)]()]});}}async[a0_0x28fd55(0x3b6)](_0x471374){const _0x27a56d=a0_0x28fd55;try{let _0x4c2d33=await this[_0x27a56d(0x1f2)][_0x27a56d(0x5c4)](_0x471374[_0x27a56d(0x5dd)],{'delete':_0x471374});try{let _0x3eb8e7=await this[_0x27a56d(0x520)](_0x471374,{'status':'DELETED','owner':this[_0x27a56d(0x219)][_0x27a56d(0x415)]});this[_0x27a56d(0x2ca)]['verbose'](this['instanceName']+'\x20('+this[_0x27a56d(0x219)][_0x27a56d(0x415)]+_0x27a56d(0x263)+_0x3eb8e7);}catch(_0x3eac8f){console[_0x27a56d(0xbc)](_0x27a56d(0x531),_0x3eac8f);}return _0x4c2d33;}catch(_0x3e43f8){throw new I('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x3e43f8?.['toString']());}}async[a0_0x28fd55(0x42c)](_0x59a486){const _0x426571=a0_0x28fd55;try{let _0x391d2c=_0x59a486?.[_0x426571(0x559)]?_0x59a486:await this[_0x426571(0x2f8)](_0x59a486[_0x426571(0x475)],!0x0);for(let _0x4c8e5a of Na)_0x391d2c['message'][_0x4c8e5a]&&(_0x391d2c[_0x426571(0x559)]=_0x391d2c['message'][_0x4c8e5a][_0x426571(0x559)]);let _0x301924,_0x573321;for(let _0x1fb7d0 of va)if(_0x301924=_0x391d2c[_0x426571(0x559)][_0x1fb7d0],_0x301924){_0x573321=_0x1fb7d0;break;}if(!_0x301924)throw _0x426571(0x4bb);typeof _0x301924[_0x426571(0x3e8)]=='object'&&(_0x391d2c['message']=JSON[_0x426571(0x3a4)](JSON[_0x426571(0x431)](_0x391d2c[_0x426571(0x559)])));let _0x3795c8=await(0x0,f['downloadMediaMessage'])({'key':_0x391d2c?.[_0x426571(0x475)],'message':_0x391d2c?.['message']},_0x426571(0x628),{},{'logger':(0x0,Pt[_0x426571(0x446)])({'level':_0x426571(0x485)}),'reuploadRequest':this['client']['updateMediaMessage']});if(!(_0x3795c8 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x4eb254=this[_0x426571(0x58f)]['get'](_0x426571(0x228)),_0x27a6d9,_0x194c28;if(_0x301924[_0x426571(0x6d2)])_0x27a6d9=_0x301924[_0x426571(0x6d2)];else{let _0x2e4db9=_0x301924[_0x426571(0x465)]?.[_0x426571(0x4f1)](/\/(\w+)/),_0x2acf66=_0x2e4db9?_0x2e4db9[0x1]:null;if(!_0x2acf66)throw new Error(_0x426571(0x719));_0x27a6d9=(0x0,jt['v4'])()+'.'+_0x2acf66;}_0x573321==='audioMessage'?_0x194c28=_0x426571(0x38c)+await this[_0x426571(0x600)](_0x3795c8[_0x426571(0x6dd)](_0x426571(0x782))):(await this[_0x426571(0x73c)](_0x3795c8,_0x27a6d9),_0x194c28=_0x426571(0x38c)+_0x27a6d9);let _0x435181=this['configService'][_0x426571(0x72c)]('SERVER')[_0x426571(0x723)];if(!_0x435181){let _0x3b069f=this[_0x426571(0x58f)][_0x426571(0x72c)](_0x426571(0x513));_0x435181='https://'+(_0x3b069f&&_0x3b069f[_0x426571(0x2c6)]['split']('/')[0x4]);}_0x194c28=''+_0x435181+_0x194c28;let _0x19a77f=0xc*0x3c*0x3c*0x3e8,_0x4eebd8={'where':{'_id':_0x391d2c[_0x426571(0x475)]['id']}},_0x4ecd1b={'message_normalized.fileUrl':_0x194c28,'message_normalized.expires_fileUrl':Date[_0x426571(0x717)]()+_0x19a77f};try{let _0xc6a6f8=await this[_0x426571(0xf1)][_0x426571(0x559)][_0x426571(0x74b)](_0x4eebd8,_0x4ecd1b,this[_0x426571(0x219)]['wuid']);_0xc6a6f8&&J(this['instanceName'],'messages',{'message':_0xc6a6f8});}catch(_0x2858a1){let _0x3500ed=_0x426571(0x486),_0x390329=_0x2858a1 instanceof Error?_0x2858a1['message']:typeof _0x2858a1==_0x426571(0x661)?JSON['stringify'](_0x2858a1):_0x2858a1,_0x444167=_0x3500ed+':\x20'+_0x390329;this[_0x426571(0x2ca)][_0x426571(0xbc)](this['instanceName']+'\x20('+this[_0x426571(0x219)][_0x426571(0x415)]+'):\x20'+_0x444167);}return{'mediaType':_0x573321,'fileName':_0x301924[_0x426571(0x6d2)],'caption':_0x301924[_0x426571(0x372)],'size':{'fileLength':_0x301924[_0x426571(0x5fb)],'height':_0x301924['height'],'width':_0x301924[_0x426571(0x4d7)]},'mimetype':_0x301924[_0x426571(0x465)],'base64':_0x3795c8[_0x426571(0x6dd)]('base64'),'fileUrl':_0x194c28,'expires_fileUrl':Date[_0x426571(0x717)]()+_0x19a77f};}catch(_0x589719){let _0x909884=_0x426571(0x15e),_0x27e9d8=_0x589719 instanceof Error?_0x589719['message']:typeof _0x589719==_0x426571(0x661)?JSON['stringify'](_0x589719):_0x589719,_0x23e525=_0x909884+':\x20'+_0x27e9d8;throw this[_0x426571(0x2ca)][_0x426571(0xbc)](this[_0x426571(0x1e9)]+'\x20('+this[_0x426571(0x219)][_0x426571(0x415)]+_0x426571(0x48e)+_0x23e525),new m(_0x23e525);}}async[a0_0x28fd55(0x73c)](_0x53313e,_0x42f802){const _0x454627=a0_0x28fd55;let _0x5cb2c9=F['default'][_0x454627(0x597)](__dirname,_0x454627(0xa7));j[_0x454627(0x6b4)](_0x5cb2c9)||j[_0x454627(0x39b)](_0x5cb2c9,{'recursive':!0x0});let _0x13e630=F[_0x454627(0x446)]['join'](_0x5cb2c9,_0x42f802);return new Promise((_0x419fb7,_0x375fb9)=>{j['writeFile'](_0x13e630,_0x53313e,_0x1de87a=>{const _0x392ab1=a0_0x472e;_0x1de87a?(this[_0x392ab1(0x2ca)][_0x392ab1(0xbc)](_0x392ab1(0x1d0)+(_0x1de87a instanceof Error?_0x1de87a[_0x392ab1(0x559)]:JSON['stringify'](_0x1de87a,null,0x2))),_0x375fb9(_0x1de87a)):(this[_0x392ab1(0x2ca)]['log'](_0x392ab1(0x757)+_0x13e630),_0x419fb7(_0x13e630));});});}async['fetchContacts'](_0x2c0dcd){const _0x1e2875=a0_0x28fd55;return await this[_0x1e2875(0xf1)][_0x1e2875(0x18d)][_0x1e2875(0x167)](_0x2c0dcd,this[_0x1e2875(0x219)][_0x1e2875(0x415)]);}async[a0_0x28fd55(0x731)](){const _0x522a93=a0_0x28fd55;return await this[_0x522a93(0xf1)][_0x522a93(0x309)]['find']({'where':{}},this[_0x522a93(0x219)][_0x522a93(0x415)]);}async[a0_0x28fd55(0x204)](_0x49cce3){const _0x20b415=a0_0x28fd55;return await this[_0x20b415(0xf1)][_0x20b415(0x559)]['find'](_0x49cce3,this[_0x20b415(0x219)]['wuid']);}async[a0_0x28fd55(0x406)](){const _0x3ba91b=a0_0x28fd55;return this[_0x3ba91b(0xf1)][_0x3ba91b(0x17e)]['removeUnusedChatFields'](this[_0x3ba91b(0x219)][_0x3ba91b(0x415)]),this[_0x3ba91b(0xf1)]['chat'][_0x3ba91b(0xb7)](this[_0x3ba91b(0x219)]['wuid']),this[_0x3ba91b(0xf1)][_0x3ba91b(0x17e)]['updateMissingTags'](this[_0x3ba91b(0x219)][_0x3ba91b(0x415)]),this[_0x3ba91b(0xf1)][_0x3ba91b(0x17e)][_0x3ba91b(0x740)](this[_0x3ba91b(0x219)][_0x3ba91b(0x415)]),await this['repository']['chat']['find']({'where':{}},this['instance'][_0x3ba91b(0x415)]);}async[a0_0x28fd55(0x52c)](_0x4a3474){const _0x13830e=a0_0x28fd55;try{if(!Array[_0x13830e(0x560)](_0x4a3474)||_0x4a3474[_0x13830e(0x479)]===0x0)throw new Error(_0x13830e(0x253));let _0x2f129c=[],_0x2c75ab=[];for(let _0x1824d2 of _0x4a3474){if(_0x1824d2[_0x13830e(0x53b)])_0x1824d2[_0x13830e(0x53b)]=this[_0x13830e(0x536)](_0x1824d2[_0x13830e(0x53b)]);else continue;await this[_0x13830e(0xf1)]['chat'][_0x13830e(0x267)]({'where':{'_id':_0x1824d2[_0x13830e(0x53b)]}},this['instance'][_0x13830e(0x415)])?_0x2c75ab[_0x13830e(0x474)]({'_id':_0x1824d2[_0x13830e(0x53b)],'leadInfo':_0x1824d2[_0x13830e(0x173)],'owner':this[_0x13830e(0x219)][_0x13830e(0x415)]}):_0x2f129c[_0x13830e(0x474)]({'_id':_0x1824d2[_0x13830e(0x53b)],'owner':this[_0x13830e(0x219)][_0x13830e(0x415)],'leadInfo':_0x1824d2[_0x13830e(0x173)],'imported':!0x0});}return _0x2c75ab[_0x13830e(0x479)]>0x0&&await this[_0x13830e(0xf1)][_0x13830e(0x17e)][_0x13830e(0x40d)](_0x2c75ab[_0x13830e(0x3ef)](_0x3b12ed=>({'query':{'where':{'_id':_0x3b12ed[_0x13830e(0x53b)],'owner':this[_0x13830e(0x219)][_0x13830e(0x415)]}},'update':_0x3b12ed}))),_0x2f129c[_0x13830e(0x479)]>0x0&&await this[_0x13830e(0xf1)][_0x13830e(0x17e)][_0x13830e(0x496)](_0x2f129c,this[_0x13830e(0x219)][_0x13830e(0x415)]),{'updated':_0x2c75ab[_0x13830e(0x479)],'inserted':_0x2f129c[_0x13830e(0x479)]};}catch(_0x264b35){let _0x3c4c97=_0x13830e(0x161),_0x370572=_0x264b35 instanceof Error?_0x264b35[_0x13830e(0x559)]:typeof _0x264b35==_0x13830e(0x661)?JSON[_0x13830e(0x431)](_0x264b35):_0x264b35,_0xc06313=_0x3c4c97+':\x20'+_0x370572;throw this[_0x13830e(0x2ca)][_0x13830e(0xbc)](this[_0x13830e(0x1e9)]+'\x20('+this[_0x13830e(0x219)][_0x13830e(0x415)]+_0x13830e(0x48e)+_0xc06313),new m(_0xc06313);}}async[a0_0x28fd55(0x385)](_0x1f78c7){const _0x525641=a0_0x28fd55;try{if(!Array[_0x525641(0x560)](_0x1f78c7)||_0x1f78c7[_0x525641(0x479)]===0x0)throw new Error(_0x525641(0x253));let _0x822974=0x64,_0x1db7ba=0x0;for(let _0x4cbc5d=0x0;_0x4cbc5d<_0x1f78c7[_0x525641(0x479)];_0x4cbc5d+=_0x822974){let _0x1cc176=_0x1f78c7['slice'](_0x4cbc5d,_0x4cbc5d+_0x822974),{updated:_0x196391}=await this[_0x525641(0x574)](_0x1cc176);_0x1db7ba+=_0x196391;}return{'updated':_0x1db7ba};}catch(_0xa34cb1){let _0x32024e='Erro\x20ao\x20importar\x20chats',_0x3c3d0d=_0xa34cb1 instanceof Error?_0xa34cb1[_0x525641(0x559)]:typeof _0xa34cb1==_0x525641(0x661)?JSON[_0x525641(0x431)](_0xa34cb1):_0xa34cb1,_0x14f6d9=_0x32024e+':\x20'+_0x3c3d0d;throw this['logger'][_0x525641(0xbc)](this[_0x525641(0x1e9)]+'\x20('+this[_0x525641(0x219)]['wuid']+'):\x20'+_0x14f6d9),new m(_0x14f6d9);}}async[a0_0x28fd55(0x574)](_0x5bfee7){const _0x3c8390=a0_0x28fd55;try{let _0x383882=await this['repository'][_0x3c8390(0x309)][_0x3c8390(0x167)]({'where':{}},this[_0x3c8390(0x219)]['wuid']),_0x487510=new Set(_0x383882[_0x3c8390(0x3ef)](_0x23ad00=>_0x23ad00[_0x3c8390(0x53b)])),_0x95687f=[],_0x1ee251=[];for(let _0x45705d of _0x5bfee7){if(!_0x45705d[_0x3c8390(0x53b)])continue;_0x45705d[_0x3c8390(0x53b)]=this['createJid'](_0x45705d[_0x3c8390(0x53b)]);let _0x27036e=await this[_0x3c8390(0xf1)][_0x3c8390(0x17e)][_0x3c8390(0x267)]({'where':{'_id':_0x45705d['_id']}},this[_0x3c8390(0x219)][_0x3c8390(0x415)]),_0x57f863={};if(Object[_0x3c8390(0x55c)](_0x45705d['leadInfo'])[_0x3c8390(0x32d)](([_0x360d58,_0x29f4])=>{const _0x57a303=_0x3c8390;_0x57f863[_0x57a303(0x2f4)+_0x360d58]=_0x29f4;}),_0x27036e&&!_0x27036e['imported']){let _0x101b38=(_0x45705d['leadInfo'][_0x3c8390(0x750)]||[])[_0x3c8390(0x586)](_0x132bbf=>_0x487510[_0x3c8390(0x268)](_0x132bbf)),_0x548e49=new Set(_0x27036e[_0x3c8390(0x173)]['etiquetas']||[]),_0x43e942=_0x101b38[_0x3c8390(0x586)](_0x3d3e66=>!_0x548e49[_0x3c8390(0x268)](_0x3d3e66)),_0xda00b5=[..._0x548e49][_0x3c8390(0x586)](_0x37c84a=>!_0x101b38[_0x3c8390(0x4d2)](_0x37c84a));_0x1ee251[_0x3c8390(0x474)](..._0x43e942[_0x3c8390(0x3ef)](_0x4b1bb6=>this[_0x3c8390(0x4cb)](_0x4b1bb6,_0x45705d[_0x3c8390(0x53b)]))),_0x1ee251['push'](..._0xda00b5['map'](_0x373f57=>this['RemoveChatLabel'](_0x373f57,_0x45705d[_0x3c8390(0x53b)]))),_0x45705d[_0x3c8390(0x173)]['etiquetas']=_0x101b38,_0x95687f[_0x3c8390(0x474)]({'query':{'where':{'_id':_0x45705d[_0x3c8390(0x53b)],'owner':this[_0x3c8390(0x219)][_0x3c8390(0x415)]}},'update':_0x57f863});}else _0x57f863['imported']=!0x0,_0x95687f[_0x3c8390(0x474)]({'query':{'where':{'_id':_0x45705d[_0x3c8390(0x53b)],'owner':this[_0x3c8390(0x219)][_0x3c8390(0x415)]}},'update':_0x57f863});}let _0x4a58ed=await this[_0x3c8390(0xf1)]['chat'][_0x3c8390(0x40d)](_0x95687f);return await Promise[_0x3c8390(0x45f)](_0x1ee251),{'updated':_0x4a58ed};}catch(_0x365ca2){let _0x272c78='Erro\x20ao\x20importar\x20chats',_0x1ab96e=_0x365ca2 instanceof Error?_0x365ca2[_0x3c8390(0x559)]:typeof _0x365ca2==_0x3c8390(0x661)?JSON[_0x3c8390(0x431)](_0x365ca2):_0x365ca2,_0x226af5=_0x272c78+':\x20'+_0x1ab96e;throw this[_0x3c8390(0x2ca)]['error'](this[_0x3c8390(0x1e9)]+'\x20('+this['instance'][_0x3c8390(0x415)]+_0x3c8390(0x48e)+_0x226af5),new m(_0x226af5);}}async[a0_0x28fd55(0x45d)](){const _0x1c5986=a0_0x28fd55;return await this[_0x1c5986(0x1f2)][_0x1c5986(0x45d)]();}async['updatePrivacySettings'](_0x43ecb2){const _0xd3aea8=a0_0x28fd55;try{return await this[_0xd3aea8(0x1f2)][_0xd3aea8(0x5fe)](_0x43ecb2[_0xd3aea8(0x11e)][_0xd3aea8(0x31e)]),await this[_0xd3aea8(0x1f2)][_0xd3aea8(0x57d)](_0x43ecb2['privacySettings'][_0xd3aea8(0x636)]),await this['client'][_0xd3aea8(0x215)](_0x43ecb2[_0xd3aea8(0x11e)]['status']),await this[_0xd3aea8(0x1f2)][_0xd3aea8(0x5b6)](_0x43ecb2[_0xd3aea8(0x11e)][_0xd3aea8(0x45e)]),await this['client'][_0xd3aea8(0x225)](_0x43ecb2['privacySettings']['last']),await this['client'][_0xd3aea8(0x3c5)](_0x43ecb2[_0xd3aea8(0x11e)]['groupadd']),this[_0xd3aea8(0x1f2)]?.['ws']?.['close'](),{'update':_0xd3aea8(0x683),'data':{'readreceipts':_0x43ecb2[_0xd3aea8(0x11e)]['readreceipts'],'profile':_0x43ecb2[_0xd3aea8(0x11e)][_0xd3aea8(0x636)],'status':_0x43ecb2['privacySettings'][_0xd3aea8(0x180)],'online':_0x43ecb2['privacySettings']['online'],'last':_0x43ecb2[_0xd3aea8(0x11e)][_0xd3aea8(0x6bc)],'groupadd':_0x43ecb2[_0xd3aea8(0x11e)]['groupadd']}};}catch(_0x25e922){let _0x5b9c7a=_0xd3aea8(0x713),_0x33ac1e=_0x25e922 instanceof Error?_0x25e922['message']:typeof _0x25e922==_0xd3aea8(0x661)?JSON[_0xd3aea8(0x431)](_0x25e922):_0x25e922,_0x5350d6=_0x5b9c7a+':\x20'+_0x33ac1e;throw this[_0xd3aea8(0x2ca)][_0xd3aea8(0xbc)](this['instanceName']+'\x20('+this[_0xd3aea8(0x219)][_0xd3aea8(0x415)]+_0xd3aea8(0x48e)+_0x5350d6),new m(_0x5350d6);}}async[a0_0x28fd55(0x2f5)](_0xd28fa0){const _0x156350=a0_0x28fd55;let _0x1a66fd=(_0xd28fa0?this[_0x156350(0x536)](_0xd28fa0):this[_0x156350(0x1f2)]?.[_0x156350(0x199)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x156350(0x2ca)][_0x156350(0x77f)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x1a66fd);let _0x5d9669=await this[_0x156350(0xf1)][_0x156350(0x18d)][_0x156350(0x267)]({'where':{'_id':_0x1a66fd}},this[_0x156350(0x219)]['wuid']),_0x268b5b=_0x5d9669?_0x5d9669[_0x156350(0x6ff)]:null;try{let _0x35d4d1=(await this[_0x156350(0x3df)]({'numbers':[_0x1a66fd]}))?.['shift'](),_0x36f007=(await this[_0x156350(0x317)](_0x1a66fd,null,!0x1))[_0x156350(0x6de)][_0x156350(0x49e)],_0x41e62c=await this[_0x156350(0x10c)](_0x35d4d1?.['jid']),_0x10eabb=await this[_0x156350(0x4f3)](_0x35d4d1?.[_0x156350(0x39c)]),_0x390997=(await this[_0x156350(0x317)](_0x1a66fd,null,!0x1))[_0x156350(0x6de)][_0x156350(0x616)],_0x202365=await this[_0x156350(0xf1)]['chat'][_0x156350(0x267)]({'where':{'_id':_0x1a66fd}},this['instance']['wuid']),_0x6fb608={'imagechat':_0x36f007,'contactname':_0x268b5b||null,'pushName':_0x390997,'status':_0x41e62c?.['status'],'isBusiness':_0x10eabb[_0x156350(0x6b7)],'email':_0x10eabb?.[_0x156350(0x152)],'description':_0x10eabb?.[_0x156350(0x6ab)],'website':_0x10eabb?.[_0x156350(0x2df)]?.[_0x156350(0x611)](),'lastcache':Date[_0x156350(0x717)](),'imported':!_0x202365},_0x40f7e3=await this['repository']['chat'][_0x156350(0x1b5)]({'where':{'_id':_0x1a66fd}},_0x6fb608,this[_0x156350(0x219)][_0x156350(0x415)]),_0x2b4ab6={'owner':this[_0x156350(0x219)]['wuid'],'_id':_0x1a66fd,'profilePictureUrl':_0x36f007,'status':_0x41e62c?.['status']};return this[_0x156350(0xf1)][_0x156350(0x18d)]['update']([_0x2b4ab6],this[_0x156350(0x219)][_0x156350(0x415)]),_0x40f7e3&&J(this[_0x156350(0x1e9)],_0x156350(0x77b),{'chat':_0x40f7e3}),{'wuid':_0x35d4d1?.['jid']||_0x1a66fd,'name':_0x35d4d1?.[_0x156350(0x616)],'pushName':_0x390997,'numberExists':_0x35d4d1?.[_0x156350(0x78f)],'picture':_0x36f007,'status':_0x41e62c?.[_0x156350(0x180)],'isBusiness':_0x10eabb[_0x156350(0x6b7)],'email':_0x10eabb?.[_0x156350(0x152)],'description':_0x10eabb?.['description'],'website':_0x10eabb?.[_0x156350(0x2df)]?.[_0x156350(0x611)]()};}catch(_0x3c34bd){return this[_0x156350(0x2ca)][_0x156350(0xbc)](_0x156350(0x1ed)+(_0x3c34bd instanceof Error?_0x3c34bd[_0x156350(0x559)]:JSON['stringify'](_0x3c34bd,null,0x2))),{};}}async[a0_0x28fd55(0x4f3)](_0x511b61){const _0x1a517b=a0_0x28fd55;this['logger'][_0x1a517b(0x77f)](_0x1a517b(0x703));try{let _0x4e0694=_0x511b61?this['createJid'](_0x511b61):this[_0x1a517b(0x219)]['wuid'],_0x3791d6=await this[_0x1a517b(0x1f2)]['getBusinessProfile'](_0x4e0694);return this[_0x1a517b(0x2ca)][_0x1a517b(0x77f)]('Trying\x20to\x20get\x20business\x20profile'),_0x3791d6?(this[_0x1a517b(0x2ca)][_0x1a517b(0x77f)](_0x1a517b(0x51f)),{'isBusiness':!0x0,..._0x3791d6}):{'isBusiness':!0x1,'message':_0x1a517b(0x75f),...(await this[_0x1a517b(0x3df)]({'numbers':[_0x4e0694]}))?.[_0x1a517b(0x611)]()};}catch(_0x1cceb2){let _0x3a0fa1=_0x1a517b(0x738),_0x430dc0=_0x1cceb2 instanceof Error?_0x1cceb2[_0x1a517b(0x559)]:typeof _0x1cceb2==_0x1a517b(0x661)?JSON[_0x1a517b(0x431)](_0x1cceb2):_0x1cceb2,_0x584b09=_0x3a0fa1+':\x20'+_0x430dc0;throw this[_0x1a517b(0x2ca)][_0x1a517b(0xbc)](this['instanceName']+'\x20('+this[_0x1a517b(0x219)][_0x1a517b(0x415)]+_0x1a517b(0x48e)+_0x584b09),new I(_0x584b09);}}async[a0_0x28fd55(0x10c)](_0x1b9043){const _0x315f82=a0_0x28fd55;let _0x197053=this['createJid'](_0x1b9043);try{return{'wuid':_0x197053,'status':(await this[_0x315f82(0x1f2)][_0x315f82(0x345)](_0x197053))?.[_0x315f82(0x180)]};}catch{return{'wuid':_0x197053,'status':null};}}async[a0_0x28fd55(0x2b5)](_0x5805d7){const _0x345fc7=a0_0x28fd55;try{return await this[_0x345fc7(0x1f2)][_0x345fc7(0x2b5)](_0x5805d7),{'update':_0x345fc7(0x683)};}catch(_0x49484d){let _0x5892dd=_0x345fc7(0x20c),_0x3c4eca=_0x49484d instanceof Error?_0x49484d[_0x345fc7(0x559)]:typeof _0x49484d==_0x345fc7(0x661)?JSON[_0x345fc7(0x431)](_0x49484d):_0x49484d,_0x5f1b67=_0x5892dd+':\x20'+_0x3c4eca;throw this[_0x345fc7(0x2ca)][_0x345fc7(0xbc)](this[_0x345fc7(0x1e9)]+'\x20('+this['instance'][_0x345fc7(0x415)]+'):\x20'+_0x5f1b67),new I(_0x5f1b67);}}async['updateProfileStatus'](_0x2b548e){const _0x221546=a0_0x28fd55;try{return await this[_0x221546(0x1f2)][_0x221546(0x512)](_0x2b548e),{'update':'success'};}catch(_0x2c327d){let _0x281460=_0x221546(0x4d8),_0x7168b6=_0x2c327d instanceof Error?_0x2c327d['message']:typeof _0x2c327d=='object'?JSON['stringify'](_0x2c327d):_0x2c327d,_0x4329f7=_0x281460+':\x20'+_0x7168b6;throw this['logger'][_0x221546(0xbc)](this[_0x221546(0x1e9)]+'\x20('+this[_0x221546(0x219)][_0x221546(0x415)]+_0x221546(0x48e)+_0x4329f7),new I(_0x4329f7);}}async[a0_0x28fd55(0x2b8)](_0x244d9b){const _0x590996=a0_0x28fd55;try{let _0x9c490d;if((0x0,P['isURL'])(_0x244d9b)){let _0x29a4a8=new Date()[_0x590996(0x59c)](),_0x4ff979=_0x244d9b+'?timestamp='+_0x29a4a8;_0x9c490d=(await K[_0x590996(0x446)][_0x590996(0x72c)](_0x4ff979,{'responseType':_0x590996(0x304)}))[_0x590996(0x4d5)];}else{if((0x0,P[_0x590996(0x73f)])(_0x244d9b))_0x9c490d=Buffer[_0x590996(0x656)](_0x244d9b,_0x590996(0x782));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x590996(0x1f2)][_0x590996(0x2b8)](this[_0x590996(0x219)]['wuid'],_0x9c490d),{'update':_0x590996(0x683)};}catch(_0x1abe0d){let _0x26b523=_0x590996(0x444),_0xeb49e=_0x1abe0d instanceof Error?_0x1abe0d[_0x590996(0x559)]:typeof _0x1abe0d=='object'?JSON['stringify'](_0x1abe0d):_0x1abe0d,_0x2b2f47=_0x26b523+':\x20'+_0xeb49e;throw this[_0x590996(0x2ca)][_0x590996(0xbc)](this[_0x590996(0x1e9)]+'\x20('+this[_0x590996(0x219)]['wuid']+_0x590996(0x48e)+_0x2b2f47),new I(_0x2b2f47);}}async['removeProfilePicture'](){const _0x7aa5a1=a0_0x28fd55;try{return await this[_0x7aa5a1(0x1f2)][_0x7aa5a1(0x40e)](this[_0x7aa5a1(0x219)][_0x7aa5a1(0x415)]),{'update':_0x7aa5a1(0x683)};}catch(_0x4e3a28){let _0x4249b9=_0x7aa5a1(0x1e0),_0x4b3ed1=_0x4e3a28 instanceof Error?_0x4e3a28[_0x7aa5a1(0x559)]:typeof _0x4e3a28==_0x7aa5a1(0x661)?JSON['stringify'](_0x4e3a28):_0x4e3a28,_0x48ad8b=_0x4249b9+':\x20'+_0x4b3ed1;throw this[_0x7aa5a1(0x2ca)]['error'](this['instanceName']+'\x20('+this[_0x7aa5a1(0x219)][_0x7aa5a1(0x415)]+_0x7aa5a1(0x48e)+_0x48ad8b),new I(_0x48ad8b);}}async[a0_0x28fd55(0x384)](_0x5bc955){const _0x570567=a0_0x28fd55;try{let _0x14f67f=(await this[_0x570567(0x3df)]({'numbers':_0x5bc955[_0x570567(0x463)]}))[_0x570567(0x586)](_0xdad2a=>_0xdad2a[_0x570567(0x78f)])['map'](_0x30d779=>_0x30d779[_0x570567(0x39c)]),{id:_0x1d916c}=await this[_0x570567(0x1f2)][_0x570567(0x1a3)](_0x5bc955[_0x570567(0x701)],_0x14f67f);return _0x5bc955?.[_0x570567(0x6ab)]&&await this[_0x570567(0x1f2)][_0x570567(0x29e)](_0x1d916c,_0x5bc955[_0x570567(0x6ab)]),{'metadata':await this[_0x570567(0x1f2)][_0x570567(0x75d)](_0x1d916c)};}catch(_0x4c504d){let _0x11f3b1=_0x570567(0x59a),_0x1ec926=_0x4c504d instanceof Error?_0x4c504d['message']:typeof _0x4c504d==_0x570567(0x661)?JSON[_0x570567(0x431)](_0x4c504d):_0x4c504d,_0x414087=_0x11f3b1+':\x20'+_0x1ec926;throw this[_0x570567(0x2ca)][_0x570567(0xbc)](this[_0x570567(0x1e9)]+'\x20('+this[_0x570567(0x219)]['wuid']+'):\x20'+_0x414087),new I(_0x414087);}}async['updateGroupPicture'](_0x2e4ad4){const _0x5e8450=a0_0x28fd55;try{let _0x73659c;if((0x0,P['isURL'])(_0x2e4ad4[_0x5e8450(0x76a)])){let _0x441e7b=new Date()[_0x5e8450(0x59c)](),_0x16c6b7=_0x2e4ad4[_0x5e8450(0x76a)]+_0x5e8450(0x6aa)+_0x441e7b;_0x73659c=(await K[_0x5e8450(0x446)][_0x5e8450(0x72c)](_0x16c6b7,{'responseType':_0x5e8450(0x304)}))['data'];}else{if((0x0,P['isBase64'])(_0x2e4ad4[_0x5e8450(0x76a)]))_0x73659c=Buffer[_0x5e8450(0x656)](_0x2e4ad4[_0x5e8450(0x76a)],_0x5e8450(0x782));else throw new m(_0x5e8450(0x4da));}return await this[_0x5e8450(0x1f2)][_0x5e8450(0x2b8)](_0x2e4ad4[_0x5e8450(0x6f4)],_0x73659c),{'update':'success'};}catch(_0x3ebbf2){let _0x4637ee=_0x5e8450(0x765),_0x4578a9=_0x3ebbf2 instanceof Error?_0x3ebbf2[_0x5e8450(0x559)]:typeof _0x3ebbf2==_0x5e8450(0x661)?JSON[_0x5e8450(0x431)](_0x3ebbf2):_0x3ebbf2,_0x3883a4=_0x4637ee+':\x20'+_0x4578a9;throw this[_0x5e8450(0x2ca)][_0x5e8450(0xbc)](this[_0x5e8450(0x1e9)]+'\x20('+this[_0x5e8450(0x219)][_0x5e8450(0x415)]+_0x5e8450(0x48e)+_0x3883a4),new I(_0x3883a4);}}async[a0_0x28fd55(0x736)](_0x1bce79){const _0x48b1f0=a0_0x28fd55;try{return await this[_0x48b1f0(0x1f2)][_0x48b1f0(0x29e)](_0x1bce79[_0x48b1f0(0x6f4)],_0x1bce79[_0x48b1f0(0x6ab)]),{'update':'success'};}catch(_0x3b19a4){let _0x592670=_0x48b1f0(0x222),_0x39ea42=_0x3b19a4 instanceof Error?_0x3b19a4['message']:typeof _0x3b19a4==_0x48b1f0(0x661)?JSON[_0x48b1f0(0x431)](_0x3b19a4):_0x3b19a4,_0x213b1c=_0x592670+':\x20'+_0x39ea42;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x48b1f0(0x219)]['wuid']+_0x48b1f0(0x48e)+_0x213b1c),new I(_0x213b1c);}}async[a0_0x28fd55(0x17d)](_0x1f5479){const _0x1f0238=a0_0x28fd55;try{return await this[_0x1f0238(0x1f2)][_0x1f0238(0x492)](_0x1f5479['groupJid'],_0x1f5479[_0x1f0238(0x616)]),{'update':_0x1f0238(0x683)};}catch(_0x40c7ed){let _0x69ba5=_0x1f0238(0x70e),_0x197e17=_0x40c7ed instanceof Error?_0x40c7ed[_0x1f0238(0x559)]:typeof _0x40c7ed==_0x1f0238(0x661)?JSON['stringify'](_0x40c7ed):_0x40c7ed,_0xbf3c2d=_0x69ba5+':\x20'+_0x197e17;throw this[_0x1f0238(0x2ca)][_0x1f0238(0xbc)](this[_0x1f0238(0x1e9)]+'\x20('+this[_0x1f0238(0x219)][_0x1f0238(0x415)]+'):\x20'+_0xbf3c2d),new I(_0xbf3c2d);}}async[a0_0x28fd55(0x6eb)](_0x13a674){const _0x12858c=a0_0x28fd55;try{let _0x212f49=await this[_0x12858c(0x1f2)][_0x12858c(0x4fa)](_0x13a674['groupJid'],_0x13a674[_0x12858c(0x457)]);return{'success':!0x0};}catch(_0x44d2fe){let _0x1c4151=_0x12858c(0x6ec),_0xc2edc=_0x44d2fe instanceof Error?_0x44d2fe[_0x12858c(0x559)]:typeof _0x44d2fe==_0x12858c(0x661)?JSON['stringify'](_0x44d2fe):_0x44d2fe,_0xb332ae=_0x1c4151+':\x20'+_0xc2edc;throw this['logger'][_0x12858c(0xbc)](this[_0x12858c(0x1e9)]+'\x20('+this[_0x12858c(0x219)][_0x12858c(0x415)]+_0x12858c(0x48e)+_0xb332ae),new I(_0xb332ae);}}async[a0_0x28fd55(0x25b)](_0x322812){const _0x4caf70=a0_0x28fd55;try{return await this[_0x4caf70(0x1f2)][_0x4caf70(0x368)](_0x322812['groupJid'],_0x322812[_0x4caf70(0x23a)]),{'update':'success'};}catch(_0x128110){let _0x4cd610=_0x4caf70(0x5a6),_0x1cebcf=_0x128110 instanceof Error?_0x128110[_0x4caf70(0x559)]:typeof _0x128110==_0x4caf70(0x661)?JSON[_0x4caf70(0x431)](_0x128110):_0x128110,_0x4711b9=_0x4cd610+':\x20'+_0x1cebcf;throw this['logger'][_0x4caf70(0xbc)](this[_0x4caf70(0x1e9)]+'\x20('+this[_0x4caf70(0x219)][_0x4caf70(0x415)]+_0x4caf70(0x48e)+_0x4711b9),new I(_0x4711b9);}}async[a0_0x28fd55(0x467)](_0x187450){const _0x2d6d27=a0_0x28fd55;try{if(_0x187450['restrict']===!0x0&&await this['client'][_0x2d6d27(0x368)](_0x187450['groupJid'],_0x2d6d27(0x153)),_0x187450[_0x2d6d27(0x47e)]===!0x1&&await this[_0x2d6d27(0x1f2)][_0x2d6d27(0x368)](_0x187450[_0x2d6d27(0x6f4)],_0x2d6d27(0x572)),_0x187450[_0x2d6d27(0x571)]===!0x0&&await this[_0x2d6d27(0x1f2)]['groupSettingUpdate'](_0x187450[_0x2d6d27(0x6f4)],_0x2d6d27(0x27d)),_0x187450[_0x2d6d27(0x571)]===!0x1&&await this[_0x2d6d27(0x1f2)][_0x2d6d27(0x368)](_0x187450['groupJid'],'not_announcement'),_0x187450[_0x2d6d27(0x5be)]===!0x0&&await this[_0x2d6d27(0x1f2)][_0x2d6d27(0x6f7)](_0x187450['groupJid'],_0x2d6d27(0x242)),_0x187450['memberAddMode']===!0x1&&await this[_0x2d6d27(0x1f2)][_0x2d6d27(0x6f7)](_0x187450[_0x2d6d27(0x6f4)],_0x2d6d27(0x305)),_0x187450[_0x2d6d27(0x21c)]===!0x0&&await this['client'][_0x2d6d27(0x45a)](_0x187450[_0x2d6d27(0x6f4)],'on'),_0x187450[_0x2d6d27(0x21c)]===!0x1&&await this['client'][_0x2d6d27(0x45a)](_0x187450[_0x2d6d27(0x6f4)],_0x2d6d27(0x27a)),typeof _0x187450[_0x2d6d27(0x457)]<'u'&&_0x187450[_0x2d6d27(0x457)]!==null&&await this[_0x2d6d27(0x1f2)][_0x2d6d27(0x4fa)](_0x187450[_0x2d6d27(0x6f4)],_0x187450[_0x2d6d27(0x457)]),_0x187450[_0x2d6d27(0x616)]&&await this['client']['groupUpdateSubject'](_0x187450[_0x2d6d27(0x6f4)],_0x187450['name']),_0x187450[_0x2d6d27(0x6ab)]&&await this[_0x2d6d27(0x1f2)][_0x2d6d27(0x29e)](_0x187450[_0x2d6d27(0x6f4)],_0x187450['description']),_0x187450['image']){let _0x32b456;if((0x0,P['isURL'])(_0x187450[_0x2d6d27(0x76a)])){let _0x1aa4c3=new Date()[_0x2d6d27(0x59c)](),_0x17f85d=_0x187450['image']+_0x2d6d27(0x6aa)+_0x1aa4c3;_0x32b456=(await K[_0x2d6d27(0x446)][_0x2d6d27(0x72c)](_0x17f85d,{'responseType':_0x2d6d27(0x304)}))['data'];}else{if((0x0,P[_0x2d6d27(0x73f)])(_0x187450[_0x2d6d27(0x76a)]))_0x32b456=Buffer[_0x2d6d27(0x656)](_0x187450[_0x2d6d27(0x76a)],'base64');else throw new m(_0x2d6d27(0x4da));}await this[_0x2d6d27(0x1f2)][_0x2d6d27(0x2b8)](_0x187450[_0x2d6d27(0x6f4)],_0x32b456);}return await this[_0x2d6d27(0x274)]({'groupJid':_0x187450[_0x2d6d27(0x6f4)]});}catch(_0x277ee8){let _0x346347=_0x2d6d27(0x296),_0x529b83=_0x277ee8 instanceof Error?_0x277ee8[_0x2d6d27(0x559)]:typeof _0x277ee8==_0x2d6d27(0x661)?JSON['stringify'](_0x277ee8):_0x277ee8,_0x30181b=_0x346347+':\x20'+_0x529b83;throw this[_0x2d6d27(0x2ca)][_0x2d6d27(0xbc)](this['instanceName']+'\x20('+this[_0x2d6d27(0x219)][_0x2d6d27(0x415)]+_0x2d6d27(0x48e)+_0x30181b),new I(_0x30181b);}}async[a0_0x28fd55(0x6b1)](_0x5e64c9){const _0x16ff89=a0_0x28fd55;try{if(_0x5e64c9['action']==='approve'||_0x5e64c9['action']===_0x16ff89(0x596)){let _0x4f490e=_0x5e64c9[_0x16ff89(0x463)][_0x16ff89(0x3ef)](_0x607d0b=>this[_0x16ff89(0x536)](_0x607d0b));await this[_0x16ff89(0x1f2)]['groupRequestParticipantsUpdate'](_0x5e64c9[_0x16ff89(0x6f4)],_0x4f490e,_0x5e64c9[_0x16ff89(0x2ec)]);}else{if(_0x5e64c9[_0x16ff89(0x2ec)]==='add'){let _0x3220a7=(await this[_0x16ff89(0x3df)]({'numbers':_0x5e64c9[_0x16ff89(0x463)]}))[_0x16ff89(0x586)](_0x5b4730=>_0x5b4730[_0x16ff89(0x78f)])[_0x16ff89(0x3ef)](_0x129e84=>this[_0x16ff89(0x536)](_0x129e84['jid']));if(_0x3220a7[_0x16ff89(0x479)]===0x0)throw new m(_0x16ff89(0x775));await this['client'][_0x16ff89(0x57c)](_0x5e64c9[_0x16ff89(0x6f4)],_0x3220a7,_0x16ff89(0x6c9));}else{let _0x164df1=_0x5e64c9[_0x16ff89(0x463)][_0x16ff89(0x3ef)](_0x9fb98=>this['createJid'](_0x9fb98));await this['client'][_0x16ff89(0x57c)](_0x5e64c9[_0x16ff89(0x6f4)],_0x164df1,_0x5e64c9['action']);}}return await this[_0x16ff89(0x274)]({'groupJid':_0x5e64c9['groupJid']});}catch(_0x3b53b3){let _0x473e38=_0x16ff89(0x31f),_0x54c5d1=_0x3b53b3 instanceof Error?_0x3b53b3[_0x16ff89(0x559)]:typeof _0x3b53b3=='object'?JSON[_0x16ff89(0x431)](_0x3b53b3):_0x3b53b3,_0x1220c6=_0x473e38+':\x20'+_0x54c5d1;throw this[_0x16ff89(0x2ca)]['error'](this[_0x16ff89(0x1e9)]+'\x20('+this[_0x16ff89(0x219)][_0x16ff89(0x415)]+_0x16ff89(0x48e)+_0x1220c6),new m(_0x1220c6);}}async[a0_0x28fd55(0x1df)](_0x4e9f62){const _0x1fe16d=a0_0x28fd55;try{return await this['client'][_0x1fe16d(0x1df)](_0x4e9f62[_0x1fe16d(0x75a)]);}catch(_0x32bffa){let _0x7d1a00=_0x1fe16d(0x5e0),_0x1726f4=_0x32bffa instanceof Error?_0x32bffa[_0x1fe16d(0x559)]:typeof _0x32bffa==_0x1fe16d(0x661)?JSON[_0x1fe16d(0x431)](_0x32bffa):_0x32bffa,_0x4b6376=_0x7d1a00+':\x20'+_0x1726f4;throw this[_0x1fe16d(0x2ca)][_0x1fe16d(0xbc)](this['instanceName']+'\x20('+this[_0x1fe16d(0x219)][_0x1fe16d(0x415)]+'):\x20'+_0x4b6376),new m(_0x4b6376);}}async[a0_0x28fd55(0x274)](_0x465298,_0x2dc5cc=a0_0x28fd55(0x105)){const _0x1cc5db=a0_0x28fd55;try{let _0x2d62de=await this[_0x1cc5db(0xf1)][_0x1cc5db(0x17e)][_0x1cc5db(0x267)]({'where':{'_id':_0x465298[_0x1cc5db(0x6f4)]}},this['instance'][_0x1cc5db(0x415)]),_0x228611=_0x2d62de?_0x2d62de['groupdata']:null,_0x44d7ee=0x18*0x3c*0x3c*0x3e8;if(!_0x228611||_0x228611['lastUpdate']&&Date[_0x1cc5db(0x717)]()-_0x228611[_0x1cc5db(0x699)]>_0x44d7ee){let _0x31988d=await this['client'][_0x1cc5db(0x75d)](_0x465298[_0x1cc5db(0x6f4)]);if(_0x31988d[_0x1cc5db(0x5e5)]=_0x31988d?.[_0x1cc5db(0x5e5)]&&_0x31988d['subjectTime'][_0x1cc5db(0x6dd)]()['length']<0xd?_0x31988d?.[_0x1cc5db(0x5e5)]*0x3e8:_0x31988d?.['subjectTime']||null,_0x31988d[_0x1cc5db(0x1e3)]=_0x31988d?.[_0x1cc5db(0x1e3)]&&_0x31988d[_0x1cc5db(0x1e3)][_0x1cc5db(0x6dd)]()['length']<0xd?_0x31988d?.[_0x1cc5db(0x1e3)]*0x3e8:_0x31988d?.[_0x1cc5db(0x1e3)]||null,_0x228611={..._0x31988d,'lastUpdate':Date['now']()},!_0x31988d)return;}let _0x269e0e=_0x228611[_0x1cc5db(0x463)][_0x1cc5db(0x3c0)](_0x15d832=>_0x15d832['id']===this['instance']['wuid']+'@s.whatsapp.net'&&_0x15d832['admin']!=null);!_0x228611['inviteCode']&&_0x269e0e&&(_0x228611[_0x1cc5db(0x75a)]=(await this['inviteCode'](_0x465298,!0x1))[_0x1cc5db(0x716)]);let _0x59edc2=(!_0x228611[_0x1cc5db(0x571)]||_0x269e0e)&&(!_0x228611[_0x1cc5db(0x4d1)]||_0x228611[_0x1cc5db(0x4d1)]&&_0x228611[_0x1cc5db(0x4d4)]&&_0x269e0e);_0x228611['isAdmin']=_0x269e0e,_0x228611[_0x1cc5db(0x718)]=_0x59edc2;let _0x3f1dda=[];try{_0x3f1dda=await this['client'][_0x1cc5db(0x1f6)](_0x465298['groupJid']),_0x228611[_0x1cc5db(0x5a4)]=Date['now']();}catch(_0x51321f){this[_0x1cc5db(0x2ca)][_0x1cc5db(0x77f)](this[_0x1cc5db(0x1e9)]+'\x20('+this[_0x1cc5db(0x219)][_0x1cc5db(0x415)]+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x465298['groupJid']+':\x20'+(_0x51321f instanceof Error?_0x51321f['message']:JSON[_0x1cc5db(0x431)](_0x51321f,null,0x2)));}try{_0x228611[_0x1cc5db(0x76a)]=(await this[_0x1cc5db(0x317)](_0x465298[_0x1cc5db(0x6f4)],null,!0x0))['cachedContact'][_0x1cc5db(0x49e)];}catch(_0x51da6f){this[_0x1cc5db(0x2ca)][_0x1cc5db(0x77f)](this[_0x1cc5db(0x1e9)]+'\x20('+this[_0x1cc5db(0x219)][_0x1cc5db(0x415)]+_0x1cc5db(0xfe)+_0x465298[_0x1cc5db(0x6f4)]+':\x20'+(_0x51da6f instanceof Error?_0x51da6f[_0x1cc5db(0x559)]:JSON[_0x1cc5db(0x431)](_0x51da6f,null,0x2)));}let _0x47c442=_0x228611[_0x1cc5db(0x463)]['map'](_0x310bf4=>_0x310bf4['id']),_0x4c1fb4=_0x3f1dda[_0x1cc5db(0x3ef)](_0x171dc4=>_0x171dc4[_0x1cc5db(0x39c)]),_0x30996f=await this[_0x1cc5db(0xf1)][_0x1cc5db(0x573)][_0x1cc5db(0x527)]([..._0x47c442,..._0x4c1fb4]);_0x228611[_0x1cc5db(0x463)]=_0x228611[_0x1cc5db(0x463)][_0x1cc5db(0x3ef)](_0x197f47=>{const _0x4747e4=_0x1cc5db;let _0x2e14cf=_0x30996f[_0x4747e4(0x167)](_0x33637c=>_0x33637c[_0x4747e4(0x53b)]===_0x197f47['id']);return{'id':_0x197f47['id'],'isAdmin':[_0x4747e4(0x6a8),_0x4747e4(0xce)][_0x4747e4(0x4d2)](_0x197f47['admin']),'admin':_0x197f47[_0x4747e4(0x6a8)],'pushName':_0x2e14cf?.[_0x4747e4(0x616)],'profilePictureUrl':_0x2e14cf?.['pictureUrl']};}),_0x228611['awaitingApproval']=_0x3f1dda[_0x1cc5db(0x3ef)](_0xc9e1b8=>{const _0x275c23=_0x1cc5db;let _0x1df522=_0x30996f['find'](_0x44964c=>_0x44964c[_0x275c23(0x53b)]===_0xc9e1b8[_0x275c23(0x39c)]);return{'id':_0xc9e1b8[_0x275c23(0x39c)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x1df522?.[_0x275c23(0x616)],'profilePictureUrl':_0x1df522?.[_0x275c23(0x49e)],'request_method':_0xc9e1b8[_0x275c23(0x693)],'request_time':_0xc9e1b8['request_time']};});let _0x2558d1=await this[_0x1cc5db(0xf1)][_0x1cc5db(0x17e)][_0x1cc5db(0x1b5)]({'where':{'_id':_0x465298[_0x1cc5db(0x6f4)]}},{'imagechat':_0x228611['image'],'name':_0x228611[_0x1cc5db(0x701)],'lastcache':Date[_0x1cc5db(0x717)](),'groupdata':_0x228611},this[_0x1cc5db(0x219)][_0x1cc5db(0x415)]);return J(this['instanceName'],_0x1cc5db(0x77b),{'chat':_0x2558d1}),{'metadata':_0x228611};}catch(_0x8d2fce){if(_0x2dc5cc==='inner')return;throw new U(_0x1cc5db(0x62f),_0x8d2fce[_0x1cc5db(0x559)][_0x1cc5db(0x6dd)]());}}async[a0_0x28fd55(0x4de)](){const _0x241005=a0_0x28fd55;try{let _0x5d72a7=[],_0x93022e=await this['client']['groupFetchAllParticipating'](),_0x19d792=Object[_0x241005(0x509)](_0x93022e),_0x31209f=_0x19d792['filter'](_0x47839e=>(0x0,f[_0x241005(0x37a)])(_0x47839e?.['id']))[_0x241005(0x3ef)](async _0x195da5=>{const _0x4dcdf2=_0x241005;try{return await this['client'][_0x4dcdf2(0x379)](_0x195da5['id'],_0x4dcdf2(0x40a));}catch(_0x36d09){return this[_0x4dcdf2(0x2ca)][_0x4dcdf2(0x77f)](this[_0x4dcdf2(0x1e9)]+'\x20('+this[_0x4dcdf2(0x219)][_0x4dcdf2(0x415)]+_0x4dcdf2(0xfe)+_0x195da5['id']+':\x20'+(_0x36d09 instanceof Error?_0x36d09[_0x4dcdf2(0x559)]:JSON[_0x4dcdf2(0x431)](_0x36d09,null,0x2))),null;}}),_0xab631e=await Promise[_0x241005(0x45f)](_0x31209f);for(let _0x465243=0x0;_0x465243<_0x19d792[_0x241005(0x479)];_0x465243++){let _0x11ab1e=_0x19d792[_0x465243];(0x0,f[_0x241005(0x37a)])(_0x11ab1e?.['id'])&&(_0x5d72a7[_0x241005(0x474)]({'groupJid':_0x11ab1e?.['id'],'subject':_0x11ab1e?.['subject'],'subjectOwner':_0x11ab1e?.['subjectOwner']?.['split']('@')[0x0],'subjectTime':_0x11ab1e?.[_0x241005(0x5e5)],'creation':_0x11ab1e?.[_0x241005(0x1e3)],'size':_0x11ab1e?.[_0x241005(0x463)]?.[_0x241005(0x479)],'owner':_0x11ab1e?.[_0x241005(0x178)]?.[_0x241005(0x5c6)]('@')[0x0],'desc':_0x11ab1e?.[_0x241005(0x630)],'restrict':_0x11ab1e?.[_0x241005(0x47e)],'announce':_0x11ab1e?.['announce'],'image':_0xab631e[_0x465243],'isCommunity':_0x11ab1e?.['isCommunity'],'joinApprovalMode':_0x11ab1e?.[_0x241005(0x21c)],'memberCanAddParticipant':_0x11ab1e?.[_0x241005(0x5be)],'participants':_0x11ab1e?.[_0x241005(0x463)],'descOwner':_0x11ab1e?.[_0x241005(0x553)],'descId':_0x11ab1e?.['descId'],'memberAddMode':_0x11ab1e?.[_0x241005(0x5be)],'isCommunityAnnounce':_0x11ab1e?.[_0x241005(0x4d4)],'ephemeralDuration':_0x11ab1e?.[_0x241005(0x16e)]||0x0,'author':_0x11ab1e?.['author']}),this[_0x241005(0x458)](_0x19d792[_0x465243]));}return _0x5d72a7;}catch(_0x309ee2){let _0x3bc1f5=_0x241005(0x2d9),_0x15d389=_0x309ee2 instanceof Error?_0x309ee2[_0x241005(0x559)]:typeof _0x309ee2==_0x241005(0x661)?JSON[_0x241005(0x431)](_0x309ee2):_0x309ee2,_0x37bdf4=_0x3bc1f5+':\x20'+_0x15d389;throw this['logger'][_0x241005(0xbc)](this[_0x241005(0x1e9)]+'\x20('+this['instance'][_0x241005(0x415)]+_0x241005(0x48e)+_0x37bdf4),new U(_0x37bdf4);}}async[a0_0x28fd55(0x458)](_0xb90e32){const _0x2d022f=a0_0x28fd55;let _0x583931=await this[_0x2d022f(0xf1)]['chat'][_0x2d022f(0x267)]({'where':{'_id':_0xb90e32['id']}},this[_0x2d022f(0x219)][_0x2d022f(0x415)]);_0xb90e32[_0x2d022f(0x5e5)]=_0xb90e32?.[_0x2d022f(0x5e5)]&&_0xb90e32[_0x2d022f(0x5e5)]['toString']()['length']<0xd?_0xb90e32?.['subjectTime']*0x3e8:_0xb90e32?.[_0x2d022f(0x5e5)]||null,_0xb90e32['creation']=_0xb90e32?.[_0x2d022f(0x1e3)]&&_0xb90e32[_0x2d022f(0x1e3)][_0x2d022f(0x6dd)]()[_0x2d022f(0x479)]<0xd?_0xb90e32?.[_0x2d022f(0x1e3)]*0x3e8:_0xb90e32?.[_0x2d022f(0x1e3)]||null;let _0x523176=_0x583931?.['groupdata']?.[_0x2d022f(0x570)]||[],_0x973ddf=_0x583931?.['groupdata']?.[_0x2d022f(0x5a4)],_0x4bf6ff=_0xb90e32[_0x2d022f(0x463)][_0x2d022f(0x3ef)](_0x453027=>{const _0x5ec12e=_0x2d022f;let _0x4b4ecc=_0x583931?.['groupdata']?.['participants'][_0x5ec12e(0x167)](_0x8658f9=>_0x8658f9['id']===_0x453027['id']);return{..._0x453027,'isAdmin':[_0x5ec12e(0x6a8),_0x5ec12e(0xce)][_0x5ec12e(0x4d2)](_0x453027[_0x5ec12e(0x6a8)]),'admin':_0x453027[_0x5ec12e(0x6a8)],'name':_0x4b4ecc?.[_0x5ec12e(0x616)]||_0x453027['name'],'imgUrl':_0x4b4ecc?.[_0x5ec12e(0x5ff)]||_0x453027[_0x5ec12e(0x5ff)]};}),_0xc22f45=_0x4bf6ff[_0x2d022f(0x3c0)](_0x2098c4=>_0x2098c4['id']===this['instance'][_0x2d022f(0x415)]+_0x2d022f(0x6fb)&&_0x2098c4[_0x2d022f(0x416)]),_0x2fde3e=(!_0xb90e32[_0x2d022f(0x571)]||_0xc22f45)&&(!_0xb90e32[_0x2d022f(0x4d1)]||_0xb90e32[_0x2d022f(0x4d1)]&&_0xb90e32['isCommunityAnnounce']&&_0xc22f45),_0x26929e={..._0xb90e32,'participants':_0x4bf6ff,'awaitingApproval':_0x523176,'lastFetchAwaitingApproval':_0x973ddf,'isAdmin':_0xc22f45,'canSendMessage':_0x2fde3e,'lastUpdate':Date[_0x2d022f(0x717)]()};await this['repository'][_0x2d022f(0x17e)][_0x2d022f(0x1b5)]({'where':{'_id':_0xb90e32['id']}},{'name':_0xb90e32[_0x2d022f(0x701)],'group':!0x0,'groupdata':_0x26929e,'lastcache':Date[_0x2d022f(0x717)]()},this[_0x2d022f(0x219)][_0x2d022f(0x415)]),J(this[_0x2d022f(0x1e9)],_0x2d022f(0x77b),{'chat':_0xb90e32});}async[a0_0x28fd55(0x785)](_0x54a1e8){const _0x2a9feb=a0_0x28fd55;let _0x474588=await this[_0x2a9feb(0xf1)]['chat'][_0x2a9feb(0x267)]({'where':{'_id':_0x54a1e8['id']}},this[_0x2a9feb(0x219)]['wuid']);_0x54a1e8[_0x2a9feb(0x5e5)]=_0x54a1e8?.[_0x2a9feb(0x5e5)]&&_0x54a1e8[_0x2a9feb(0x5e5)][_0x2a9feb(0x6dd)]()[_0x2a9feb(0x479)]<0xd?_0x54a1e8?.[_0x2a9feb(0x5e5)]*0x3e8:_0x54a1e8?.['subjectTime']||null,_0x54a1e8[_0x2a9feb(0x1e3)]=_0x54a1e8?.['creation']&&_0x54a1e8[_0x2a9feb(0x1e3)][_0x2a9feb(0x6dd)]()[_0x2a9feb(0x479)]<0xd?_0x54a1e8?.['creation']*0x3e8:_0x54a1e8?.[_0x2a9feb(0x1e3)]||null,_0x54a1e8['inviteCode']&&(_0x54a1e8[_0x2a9feb(0x75a)]=_0x2a9feb(0x250)+_0x54a1e8[_0x2a9feb(0x75a)]);let _0x19d630=_0x474588?.[_0x2a9feb(0x5f5)]?{..._0x474588[_0x2a9feb(0x5f5)]}:{};Object[_0x2a9feb(0x14d)](_0x54a1e8)[_0x2a9feb(0x32d)](_0x4b2500=>{_0x4b2500!=='id'&&(_0x19d630[_0x4b2500]=_0x54a1e8[_0x4b2500]);});let _0x4e2fb4=_0x19d630['participants']?.[_0x2a9feb(0x3c0)](_0x273b23=>_0x273b23['id']===this[_0x2a9feb(0x219)]['wuid']+_0x2a9feb(0x6fb)&&_0x273b23['isAdmin'])||!0x1;_0x19d630[_0x2a9feb(0x416)]=_0x4e2fb4;let _0x4c3dc4=(!_0x19d630[_0x2a9feb(0x571)]||_0x4e2fb4)&&(!_0x19d630[_0x2a9feb(0x4d1)]||_0x19d630['isCommunity']&&_0x19d630[_0x2a9feb(0x4d4)]&&_0x4e2fb4);_0x19d630[_0x2a9feb(0x718)]=_0x4c3dc4;let _0x3097b0={'group':!0x0,'groupdata':_0x19d630};_0x54a1e8['subject']&&(_0x3097b0[_0x2a9feb(0x616)]=_0x54a1e8[_0x2a9feb(0x701)]),await this['repository']['chat']['updateOne']({'where':{'_id':_0x54a1e8['id']}},_0x3097b0,this[_0x2a9feb(0x219)]['wuid'],{'upsert':!0x0}),J(this[_0x2a9feb(0x1e9)],'chats',{'chat':_0x3097b0});}async[a0_0x28fd55(0x669)](_0x37ca84){const _0x5caa8e=a0_0x28fd55;let _0x5bc134=await this[_0x5caa8e(0xf1)][_0x5caa8e(0x17e)][_0x5caa8e(0x267)]({'where':{'_id':_0x37ca84['id']}},this['instance'][_0x5caa8e(0x415)]);if(!_0x5bc134||!_0x5bc134[_0x5caa8e(0x5f5)]){console[_0x5caa8e(0x125)](_0x5caa8e(0x344),_0x37ca84['id']);return;}let _0x5e682f=await this['repository'][_0x5caa8e(0x573)][_0x5caa8e(0x527)](_0x37ca84[_0x5caa8e(0x463)]),_0x1c1d35=[..._0x5bc134['groupdata']?.[_0x5caa8e(0x463)]];switch(_0x37ca84['action']){case _0x5caa8e(0x6c9):let _0x49ff14=_0x5e682f[_0x5caa8e(0x3ef)](_0x1108a7=>({'id':_0x1108a7[_0x5caa8e(0x53b)],'isAdmin':!0x1,'name':_0x1108a7[_0x5caa8e(0x616)],'imgUrl':_0x1108a7[_0x5caa8e(0x49e)]}));_0x1c1d35=[..._0x1c1d35,..._0x49ff14];break;case'remove':_0x1c1d35=_0x1c1d35['filter'](_0x44592d=>!_0x37ca84['participants'][_0x5caa8e(0x4d2)](_0x44592d['id']));break;case _0x5caa8e(0x615):case _0x5caa8e(0x3ff):_0x1c1d35=_0x1c1d35[_0x5caa8e(0x3ef)](_0x18e6b9=>_0x37ca84[_0x5caa8e(0x463)][_0x5caa8e(0x4d2)](_0x18e6b9['id'])?{..._0x18e6b9,'isAdmin':_0x37ca84[_0x5caa8e(0x2ec)]===_0x5caa8e(0x615)}:_0x18e6b9);break;}let _0xde8765=_0x1c1d35[_0x5caa8e(0x479)],_0x3e045f=_0x1c1d35['some'](_0x11f455=>_0x11f455['id']===this['instance']['wuid']+_0x5caa8e(0x6fb)),_0x4ec585=_0x3e045f&&_0x1c1d35[_0x5caa8e(0x3c0)](_0x427554=>_0x427554['id']===this[_0x5caa8e(0x219)][_0x5caa8e(0x415)]+'@s.whatsapp.net'&&_0x427554[_0x5caa8e(0x416)]),_0x201e1f=_0x3e045f&&(!_0x5bc134[_0x5caa8e(0x5f5)][_0x5caa8e(0x571)]||_0x4ec585)&&(!_0x5bc134['groupdata'][_0x5caa8e(0x4d1)]||_0x5bc134['groupdata'][_0x5caa8e(0x4d1)]&&_0x4ec585);await this[_0x5caa8e(0xf1)][_0x5caa8e(0x17e)]['updateOne']({'where':{'_id':_0x37ca84['id']}},{'groupdata':{..._0x5bc134[_0x5caa8e(0x5f5)],'participants':_0x1c1d35,'size':_0xde8765,'isAdmin':_0x4ec585,'canSendMessage':_0x201e1f}},this[_0x5caa8e(0x219)][_0x5caa8e(0x415)]),console[_0x5caa8e(0x125)]('Grupo\x20'+_0x37ca84['id']+'\x20atualizado\x20com\x20sucesso.\x20Ação:\x20'+_0x37ca84[_0x5caa8e(0x2ec)]+_0x5caa8e(0x4fe)+_0xde8765+_0x5caa8e(0x541)+_0x4ec585+_0x5caa8e(0x410)+_0x201e1f);}async[a0_0x28fd55(0x75a)](_0x424a47,_0x393dfd=!0x0){const _0x89dd1c=a0_0x28fd55;try{let _0x264c2e=await this[_0x89dd1c(0x1f2)][_0x89dd1c(0x78d)](_0x424a47[_0x89dd1c(0x6f4)]),_0x23cff8={'groupdata.inviteCode':_0x89dd1c(0x250)+_0x264c2e};if(_0x393dfd){let _0x4e3c2a=await this[_0x89dd1c(0xf1)]['chat']['updateOne']({'where':{'_id':_0x424a47[_0x89dd1c(0x6f4)]}},_0x23cff8,this[_0x89dd1c(0x219)]['wuid']);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x264c2e,'inviteCode':_0x264c2e};}catch(_0x4575d8){let _0x335623=_0x89dd1c(0x2a9),_0x32b780=_0x4575d8 instanceof Error?_0x4575d8[_0x89dd1c(0x559)]:typeof _0x4575d8=='object'?JSON['stringify'](_0x4575d8):_0x4575d8,_0x40f185=_0x335623+':\x20'+_0x32b780;throw this[_0x89dd1c(0x2ca)]['error'](this[_0x89dd1c(0x1e9)]+'\x20('+this[_0x89dd1c(0x219)]['wuid']+_0x89dd1c(0x48e)+_0x40f185),new U(_0x40f185);}}async['revokeInviteCode'](_0x54c2d5){const _0x2fae28=a0_0x28fd55;try{let _0x3774cb=await this[_0x2fae28(0x1f2)][_0x2fae28(0x504)](_0x54c2d5[_0x2fae28(0x6f4)]);return{'revoked':!0x0,'inviteUrl':_0x2fae28(0x250)+_0x3774cb,'inviteCode':_0x3774cb};}catch(_0x841fe0){let _0x5e8f81='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x582fbf=_0x841fe0 instanceof Error?_0x841fe0[_0x2fae28(0x559)]:typeof _0x841fe0==_0x2fae28(0x661)?JSON[_0x2fae28(0x431)](_0x841fe0):_0x841fe0,_0x32433b=_0x5e8f81+':\x20'+_0x582fbf;throw this[_0x2fae28(0x2ca)]['error'](this[_0x2fae28(0x1e9)]+'\x20('+this[_0x2fae28(0x219)][_0x2fae28(0x415)]+'):\x20'+_0x32433b),new U(_0x32433b);}}async[a0_0x28fd55(0xe7)](_0xf0c1f8){const _0x19d8a1=a0_0x28fd55;try{if((0x0,P[_0x19d8a1(0x774)])(_0xf0c1f8['inviteCode']))var _0x1aff3c=_0xf0c1f8['inviteCode'][_0x19d8a1(0x5c6)]('/')[0x3];else var _0x1aff3c=_0xf0c1f8[_0x19d8a1(0x75a)];let _0x4002c6=await this['client']['groupAcceptInvite'](_0x1aff3c);return this[_0x19d8a1(0x2ca)][_0x19d8a1(0x77f)](this['instanceName']+'\x20('+this[_0x19d8a1(0x219)][_0x19d8a1(0x415)]+_0x19d8a1(0x48e)+_0x4002c6),{'join':!0x0,'inviteCode':_0x1aff3c,'groupJid':_0x4002c6};}catch(_0x45e71a){let _0x3457a7=_0x19d8a1(0x236),_0x5b0179=_0x45e71a instanceof Error?_0x45e71a['message']:typeof _0x45e71a=='object'?JSON[_0x19d8a1(0x431)](_0x45e71a):_0x45e71a,_0x23b455=_0x3457a7+':\x20'+_0x5b0179;throw this[_0x19d8a1(0x2ca)][_0x19d8a1(0xbc)](this[_0x19d8a1(0x1e9)]+'\x20('+this[_0x19d8a1(0x219)][_0x19d8a1(0x415)]+_0x19d8a1(0x48e)+_0x23b455),new U(_0x23b455);}}async[a0_0x28fd55(0x247)](_0x319379){const _0x4668fa=a0_0x28fd55;try{return{'participants':(await this[_0x4668fa(0x1f2)][_0x4668fa(0x75d)](_0x319379[_0x4668fa(0x6f4)]))[_0x4668fa(0x463)]};}catch(_0x4594fd){let _0x39261c=_0x4668fa(0x39f),_0x355d1d=_0x4594fd instanceof Error?_0x4594fd[_0x4668fa(0x559)]:typeof _0x4594fd==_0x4668fa(0x661)?JSON[_0x4668fa(0x431)](_0x4594fd):_0x4594fd,_0x32579a=_0x39261c+':\x20'+_0x355d1d;throw this[_0x4668fa(0x2ca)][_0x4668fa(0xbc)](this[_0x4668fa(0x1e9)]+'\x20('+this[_0x4668fa(0x219)][_0x4668fa(0x415)]+_0x4668fa(0x48e)+_0x32579a),new U(_0x32579a);}}async[a0_0x28fd55(0x3ab)](_0x5c5b86){const _0x4e3674=a0_0x28fd55;try{return await this[_0x4e3674(0x1f2)][_0x4e3674(0x262)](_0x5c5b86[_0x4e3674(0x6f4)]),{'groupJid':_0x5c5b86[_0x4e3674(0x6f4)],'leave':!0x0};}catch(_0xd81daa){let _0x56e7f6=_0x4e3674(0xf4),_0x17f604=_0xd81daa instanceof Error?_0xd81daa[_0x4e3674(0x559)]:typeof _0xd81daa==_0x4e3674(0x661)?JSON['stringify'](_0xd81daa):_0xd81daa,_0x43b891=_0x56e7f6+':\x20'+_0x17f604;throw this['logger']['error'](this[_0x4e3674(0x1e9)]+'\x20('+this[_0x4e3674(0x219)][_0x4e3674(0x415)]+_0x4e3674(0x48e)+_0x43b891),new m(_0x43b891);}}async[a0_0x28fd55(0x356)](_0x44d99e){const _0x1ca5fc=a0_0x28fd55;return await this['sendMessageWithTyping'](_0x44d99e[_0x1ca5fc(0x461)],{'poll':{'name':_0x44d99e['pollMessage']?.['name'],'selectableCount':_0x44d99e[_0x1ca5fc(0x356)][_0x1ca5fc(0x244)],'values':_0x44d99e[_0x1ca5fc(0x356)][_0x1ca5fc(0x509)]}},_0x44d99e?.[_0x1ca5fc(0x313)]);}async[a0_0x28fd55(0x314)](_0x33e428){const _0x213b68=a0_0x28fd55;return await this[_0x213b68(0x33d)](_0x33e428[_0x213b68(0x461)],{'listMessage':{'title':_0x33e428[_0x213b68(0x314)][_0x213b68(0x618)],'description':_0x33e428[_0x213b68(0x314)]['description'],'buttonText':_0x33e428[_0x213b68(0x314)]?.['buttonText'],'footerText':_0x33e428[_0x213b68(0x314)]?.['footerText'],'sections':_0x33e428[_0x213b68(0x314)][_0x213b68(0x54b)],'listType':0x2}},_0x33e428?.[_0x213b68(0x313)]);}async[a0_0x28fd55(0x588)](_0x1907ad){const _0x27c491=a0_0x28fd55;let _0x3bfdc0;if(_0x1907ad[_0x27c491(0x588)][_0x27c491(0x68c)]==='list'){let _0x39c01c=_0x1907ad[_0x27c491(0x588)][_0x27c491(0xdd)][_0x27c491(0x18c)]('\x0a'),_0x3e9c4a='',_0x108c5e='';_0x39c01c!==-0x1?(_0x3e9c4a=_0x1907ad[_0x27c491(0x588)][_0x27c491(0xdd)]['substring'](0x0,_0x39c01c)[_0x27c491(0x61e)](),_0x108c5e=_0x1907ad[_0x27c491(0x588)][_0x27c491(0xdd)][_0x27c491(0x742)](_0x39c01c+0x1)):_0x108c5e=_0x1907ad[_0x27c491(0x588)]['text'];let _0x4ad536=_0x1907ad['menuMessage'][_0x27c491(0xee)][_0x27c491(0x586)](_0x431fd7=>_0x431fd7[_0x27c491(0x61e)]()!==''),_0x17116b=this[_0x27c491(0x351)](_0x4ad536);_0x3bfdc0={'listMessage':{'title':_0x3e9c4a,'description':_0x108c5e,'buttonText':_0x1907ad[_0x27c491(0x588)][_0x27c491(0x451)]||_0x27c491(0x6ea),'footerText':_0x1907ad[_0x27c491(0x588)][_0x27c491(0x76f)],'sections':_0x17116b,'listType':0x2}};}else{if(_0x1907ad[_0x27c491(0x588)][_0x27c491(0x68c)]==='poll'){let _0x43b279=_0x1907ad[_0x27c491(0x588)][_0x27c491(0xee)][_0x27c491(0x586)](_0x3543d0=>!(_0x3543d0[_0x27c491(0x417)]('[')&&_0x3543d0['endsWith'](']'))&&_0x3543d0[_0x27c491(0x61e)]()!=='')['map'](_0x260942=>_0x260942['split']('\x0a')[0x0]);_0x3bfdc0={'poll':{'name':_0x1907ad[_0x27c491(0x588)][_0x27c491(0xdd)],'selectableCount':_0x1907ad[_0x27c491(0x588)]['selectableCount']||0x1,'values':_0x43b279}};}}return await this[_0x27c491(0x33d)](_0x1907ad['number'],_0x3bfdc0,_0x1907ad?.[_0x27c491(0x313)]);}[a0_0x28fd55(0x351)](_0x2f450b){const _0x5f2001=a0_0x28fd55;let _0x384831=[],_0x4de80d={'rows':[]};return _0x2f450b[_0x5f2001(0x32d)](_0x4f7a03=>{const _0x4ab622=_0x5f2001;if(_0x4f7a03['startsWith']('[')&&_0x4f7a03[_0x4ab622(0x354)](']'))_0x4de80d['rows'][_0x4ab622(0x479)]>0x0&&_0x384831[_0x4ab622(0x474)](_0x4de80d),_0x4de80d={'title':_0x4f7a03[_0x4ab622(0x403)](0x1,-0x1),'rows':[]};else{let _0x14d818=_0x4f7a03[_0x4ab622(0x5c6)]('\x0a')[_0x4ab622(0x3ef)](_0x46268f=>_0x46268f[_0x4ab622(0x61e)]()),_0x66f0ed=_0x14d818[0x0],_0x3715fd=_0x14d818[0x1]||null,_0x558159=_0x14d818[0x2]||_0x66f0ed;_0x4de80d[_0x4ab622(0xb3)][_0x4ab622(0x474)]({'title':_0x66f0ed,'description':_0x3715fd,'rowId':_0x558159});}}),_0x4de80d[_0x5f2001(0xb3)][_0x5f2001(0x479)]>0x0&&_0x384831[_0x5f2001(0x474)](_0x4de80d),_0x384831;}async['updateMessage'](_0x3c6069,_0xe7537b){const _0x2087ab=a0_0x28fd55;if(await this[_0x2087ab(0x2f8)](_0x3c6069,!0x0)){let _0x1a5929={'where':{'_id':_0x3c6069['id']}},_0x4d63ce={'status':[_0xe7537b[_0x2087ab(0x180)]][0x0]};try{let _0xe400f1=await this[_0x2087ab(0xf1)][_0x2087ab(0x559)][_0x2087ab(0x74b)](_0x1a5929,_0x4d63ce,this[_0x2087ab(0x219)][_0x2087ab(0x415)]);_0xe400f1&&J(this[_0x2087ab(0x1e9)],_0x2087ab(0x171),{'message':_0xe400f1});}catch{}}}['sectionsToString'](_0x2655bf){const _0x56c4ea=a0_0x28fd55;let _0x43314c=[];return _0x2655bf[_0x56c4ea(0x32d)](_0x5903cc=>{const _0x5e68b4=_0x56c4ea;_0x5903cc['title']&&_0x43314c[_0x5e68b4(0x474)]('['+_0x5903cc[_0x5e68b4(0x618)]+']'),_0x5903cc[_0x5e68b4(0xb3)][_0x5e68b4(0x32d)](_0x3617a5=>{const _0x6bff18=_0x5e68b4;_0x43314c[_0x6bff18(0x474)](_0x3617a5[_0x6bff18(0x618)]);});}),_0x43314c[_0x56c4ea(0x597)]('|');}[a0_0x28fd55(0x19c)](_0x5d4c6a){const _0x2c4080=a0_0x28fd55;let _0x393df1=_0x5d4c6a[_0x2c4080(0x4b8)](/\\n/g,'\x0a')[_0x2c4080(0x5c6)]('\x0a')['filter'](_0x18bc00=>_0x18bc00[_0x2c4080(0x4d2)](_0x2c4080(0x4d0))||_0x18bc00[_0x2c4080(0x4d2)](_0x2c4080(0x360))),_0x745c8f='';return _0x393df1[_0x2c4080(0x32d)](_0x19048b=>{const _0x594709=_0x2c4080;let _0x5cc5de=/TEL(?:.*):(.+)/,_0x4f8486=/EMAIL(?:.*):(.+)/,_0x3a6f82=_0x19048b['match'](_0x5cc5de),_0x4c033e=_0x19048b[_0x594709(0x4f1)](_0x4f8486);if(_0x3a6f82){let _0x4b15a5=_0x3a6f82[0x1][_0x594709(0x4b8)](/-| |\+|\(|\)/g,'')[_0x594709(0x61e)]();_0x745c8f+=_0x594709(0x65d)+_0x4b15a5+'\x0a';}else{if(_0x4c033e){let _0x2f04=_0x4c033e[0x1][_0x594709(0x61e)]();_0x745c8f+=_0x594709(0xc8)+_0x2f04+'\x0a';}}}),_0x745c8f['trim']();}async[a0_0x28fd55(0x19a)](_0x13cf08,_0x370b4a,_0x10a965,_0x3056c2=null){const _0x3fae00=a0_0x28fd55;if(!_0x13cf08[_0x3fae00(0x15d)])return;let _0x11077e=_0x370b4a['key'][_0x3fae00(0x5dd)][_0x3fae00(0x4b8)](/:\d{1,2}@/g,'@'),_0x3a1cab=_0x370b4a['key'][_0x3fae00(0x602)],_0x1c4a11=_0x11077e[_0x3fae00(0x354)]('@g.us'),_0x1c62dc=_0x370b4a[_0x3fae00(0x555)]?.['replace'](/:\d{1,2}@/g,'@')||'',_0x3e114b=_0x370b4a[_0x3fae00(0x50e)]?.[_0x3fae00(0xdd)]||_0x370b4a[_0x3fae00(0x50e)]?.[_0x3fae00(0x372)]||_0x370b4a['message_normalized']?.['vote']||_0x370b4a['message_normalized']?.[_0x3fae00(0x616)],_0x3b35c9={'_id':_0x370b4a['_id'],'remoteJid':_0x3a1cab?this['instance'][_0x3fae00(0x415)]:_0x1c4a11?_0x1c62dc:_0x11077e,'pushName':_0x3a1cab?this['instance']['profileName']||'Eu':_0x370b4a['pushName'],'text':_0x3e114b,'type':_0x370b4a[_0x3fae00(0x6d8)],'when':_0x370b4a['messageTimestamp']||Date['now']()};_0x3056c2||(_0x3056c2=await this[_0x3fae00(0xf1)][_0x3fae00(0x17e)][_0x3fae00(0x267)]({'where':{'_id':_0x11077e}},this[_0x3fae00(0x219)][_0x3fae00(0x415)]));let _0x117f15=0x0;_0x3056c2&&(_0x117f15=_0x3a1cab?0x0:(_0x3056c2[_0x3fae00(0x594)]||0x0)+0x1);let _0xaf09bf={'lastmsg':_0x370b4a[_0x3fae00(0x259)]||Date['now'](),'ephemeralExpiration':_0x370b4a[_0x3fae00(0x457)],'lastMessage':_0x3b35c9,'unreadcount':_0x117f15,..._0x3a1cab||_0x1c4a11?{}:{'name':_0x370b4a[_0x3fae00(0x6ff)]},..._0x1c4a11?{'group':_0x1c4a11}:{},...!_0x3a1cab&&!_0x1c4a11&&_0x370b4a[_0x3fae00(0x379)]?{'imagechat':_0x370b4a[_0x3fae00(0x379)]}:{}};if(!_0x1c4a11&&(!_0x3056c2?.[_0x3fae00(0x173)]||!_0x3056c2['leadInfo'][_0x3fae00(0x369)])&&_0x370b4a['pushName']&&!_0x3a1cab&&(_0xaf09bf={..._0xaf09bf,'leadInfo.nome':_0x370b4a[_0x3fae00(0x6ff)]}),_0x3056c2[_0x3fae00(0x190)]){let _0x14c3b2=await this[_0x3fae00(0xf1)]['label'][_0x3fae00(0x167)]({'where':{}},this['instance'][_0x3fae00(0x415)]),_0x174a71=new Set(_0x14c3b2['map'](_0x368b4e=>_0x368b4e[_0x3fae00(0x53b)])),_0x18ab89=(_0x3056c2['leadInfo']?.['etiquetas']||[])[_0x3fae00(0x586)](_0x46cdc9=>_0x174a71['has'](_0x46cdc9));_0xaf09bf={..._0xaf09bf,'imported':!0x1,'leadInfo.etiquetas':_0x18ab89};for(let _0x5db72d of _0x18ab89)await this[_0x3fae00(0x4cb)](_0x5db72d,_0x11077e);}if(_0x10a965===_0x3fae00(0x487)&&_0x3a1cab&&this[_0x3fae00(0x44a)]?.['flowConfig'][_0x3fae00(0x690)]&&!_0x3e114b[_0x3fae00(0x417)](this[_0x3fae00(0x44a)]?.[_0x3fae00(0x569)]['prefixCommand'])){let _0x2f8443=(this[_0x3fae00(0x44a)]?.[_0x3fae00(0x569)]['stopWhenYouSendMsg']||0x5)*0xea60,_0x117b3a=Date[_0x3fae00(0x717)]()+_0x2f8443;_0x3056c2?.['leadInfo']?.[_0x3fae00(0x37f)]===0x0||(_0xaf09bf={..._0xaf09bf,'leadInfo.desativadoFluxoAte':_0x117b3a},this[_0x3fae00(0x2ca)][_0x3fae00(0x77f)](this[_0x3fae00(0x1e9)]+'\x20('+this[_0x3fae00(0x219)][_0x3fae00(0x415)]+_0x3fae00(0x631)+_0x117b3a+'.'));}if(_0x3056c2=await this[_0x3fae00(0xf1)][_0x3fae00(0x17e)][_0x3fae00(0x1b5)]({'where':{'_id':_0x11077e}},_0xaf09bf,this[_0x3fae00(0x219)][_0x3fae00(0x415)],{'new':!0x0,'upsert':!0x0}),_0x3056c2)J(this[_0x3fae00(0x1e9)],_0x3fae00(0x77b),{'chat':_0x3056c2});else{this[_0x3fae00(0x2ca)]['error'](this['instanceName']+'\x20('+this[_0x3fae00(0x219)][_0x3fae00(0x415)]+_0x3fae00(0x28e));return;}if(!this[_0x3fae00(0x44a)]?.[_0x3fae00(0x569)][_0x3fae00(0x690)])return this[_0x3fae00(0x2ca)][_0x3fae00(0x77f)](this[_0x3fae00(0x1e9)]+'\x20('+this[_0x3fae00(0x219)][_0x3fae00(0x415)]+'):\x20Flow\x20desativado'),null;if(_0x3056c2['_id'][_0x3fae00(0x4d2)]('@g.us')&&this[_0x3fae00(0x44a)]?.[_0x3fae00(0x569)][_0x3fae00(0x256)]===!0x0)return this[_0x3fae00(0x2ca)]['verbose'](this['instanceName']+'\x20('+this[_0x3fae00(0x219)][_0x3fae00(0x415)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x3056c2['leadInfo']){if(_0x3056c2['leadInfo']['desativadoFluxoAte']===0x0||_0x3056c2['leadInfo'][_0x3fae00(0x68b)])return this[_0x3fae00(0x2ca)][_0x3fae00(0x77f)](this[_0x3fae00(0x1e9)]+'\x20('+this[_0x3fae00(0x219)][_0x3fae00(0x415)]+_0x3fae00(0x371)+_0x11077e+_0x3fae00(0x288)),null;if(_0x3056c2['leadInfo']['desativadoFluxoAte']>Date[_0x3fae00(0x717)]()&&!_0x370b4a[_0x3fae00(0x50e)]?.[_0x3fae00(0x26a)])return this[_0x3fae00(0x2ca)][_0x3fae00(0x77f)](this[_0x3fae00(0x1e9)]+'\x20('+this[_0x3fae00(0x219)][_0x3fae00(0x415)]+_0x3fae00(0x148)+new Date(_0x3056c2[_0x3fae00(0x173)][_0x3fae00(0x37f)])[_0x3fae00(0x3f8)]()+_0x3fae00(0x288)),null;}this[_0x3fae00(0x2ca)]['verbose'](this[_0x3fae00(0x1e9)]+'\x20('+this[_0x3fae00(0x219)]['wuid']+_0x3fae00(0x291)),this['StartBot'](_0x10a965,_0x370b4a);}async['upsertChats'](_0x35eaa6,_0x10ccb7){const _0x256e65=a0_0x28fd55;if(_0x10ccb7['ENABLED']){let _0x6a79f7=_0x35eaa6['map'](async _0x1a29d1=>{const _0x1ef844=a0_0x472e;try{let _0x474ead={'_id':_0x1a29d1['_id'],'owner':_0x1a29d1[_0x1ef844(0x178)],'lastcache':0x0};if(Object[_0x1ef844(0x14d)](_0x1a29d1)['forEach'](_0x1f0e68=>{_0x1a29d1[_0x1f0e68]!==null&&(_0x474ead[_0x1f0e68]=_0x1a29d1[_0x1f0e68]);}),_0x474ead[_0x1ef844(0x3c3)]===null&&(_0x474ead[_0x1ef844(0x3c3)]=_0x1ef844(0x50d)),Object[_0x1ef844(0x14d)](_0x474ead)[_0x1ef844(0x479)]>0x0)return await this[_0x1ef844(0xf1)]['chat'][_0x1ef844(0x1b5)]({'where':{'_id':_0x1a29d1['_id']}},_0x474ead,this['instance']['wuid']);}catch(_0x3288fc){let _0x359b57=_0x1ef844(0x749)+_0x1a29d1[_0x1ef844(0x53b)],_0x2bc82a=_0x3288fc instanceof Error?_0x3288fc['message']:typeof _0x3288fc=='object'?JSON['stringify'](_0x3288fc):_0x3288fc,_0x14d5c9=_0x359b57+':\x20'+_0x2bc82a;return this[_0x1ef844(0x2ca)][_0x1ef844(0xbc)](this[_0x1ef844(0x1e9)]+'\x20('+this['instance'][_0x1ef844(0x415)]+_0x1ef844(0x48e)+_0x14d5c9),null;}}),_0x531f27=(await Promise[_0x256e65(0x45f)](_0x6a79f7))[_0x256e65(0x586)](_0x463449=>_0x463449!==null)[_0x256e65(0x479)];this[_0x256e65(0x2ca)][_0x256e65(0x77f)](this['instanceName']+'\x20('+this[_0x256e65(0x219)][_0x256e65(0x415)]+'):\x20'+_0x531f27+_0x256e65(0x5b2)+this[_0x256e65(0x219)]['wuid']+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async['readMessageBot'](_0x31fba0){const _0x436ce6=a0_0x28fd55;this[_0x436ce6(0x2ca)][_0x436ce6(0x77f)](this[_0x436ce6(0x1e9)]+'\x20('+this[_0x436ce6(0x219)]['wuid']+_0x436ce6(0x2d4));let _0x20ee52={'readMessages':[{'remoteJid':_0x31fba0[_0x436ce6(0x4e0)]['lastReceivedMessage'][_0x436ce6(0x475)][_0x436ce6(0x5dd)],'fromMe':_0x31fba0[_0x436ce6(0x4e0)]['lastReceivedMessage']['key'][_0x436ce6(0x602)],'id':_0x31fba0['chatLog'][_0x436ce6(0x35f)][_0x436ce6(0x475)]['id']}]};await this[_0x436ce6(0x329)](_0x20ee52);}async[a0_0x28fd55(0x5a9)](_0xb5d507,_0x4de3e3){const _0x250736=a0_0x28fd55;try{let {key:_0x28d057,message_normalized:_0x56b853}=_0x4de3e3,_0x1fba95=_0x56b853,_0x53bd1d=_0x56b853['text']||_0x56b853[_0x250736(0x372)]||_0x56b853[_0x250736(0x26a)]||_0x56b853[_0x250736(0x616)],_0x22e378=_0x28d057[_0x250736(0x5dd)],_0x4e101e;if(_0x1fba95[_0x250736(0x475)][_0x250736(0x602)]&&_0x53bd1d[_0x250736(0x61e)]()!==this[_0x250736(0x44a)]?.[_0x250736(0x569)]['stopConversation']['trim']())return this[_0x250736(0x2ca)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x250736(0x415)]+_0x250736(0x776)),null;if(_0x1fba95[_0x250736(0x475)][_0x250736(0x602)]&&_0x53bd1d[_0x250736(0x61e)]()===this[_0x250736(0x44a)]?.['flowConfig'][_0x250736(0x4df)][_0x250736(0x61e)]()){this[_0x250736(0x2ca)][_0x250736(0x77f)](this['instanceName']+'\x20('+this[_0x250736(0x219)][_0x250736(0x415)]+_0x250736(0x537));let _0x51207f=await this[_0x250736(0xf1)][_0x250736(0x42b)][_0x250736(0x167)]({'remoteJid':_0x22e378,'status':'open'},this[_0x250736(0x219)][_0x250736(0x415)]);this[_0x250736(0x2ca)][_0x250736(0x77f)](this['instanceName']+'\x20('+this[_0x250736(0x219)][_0x250736(0x415)]+_0x250736(0x3b3)+_0x51207f);let _0xbcd70a=Date[_0x250736(0x717)](),_0x2a0164;return this['AutomateSystem']?.['flowConfig'][_0x250736(0x3fc)]===0x0?_0x2a0164={'stoppedUntil':_0xbcd70a+0x7591f6200}:_0x2a0164={'stoppedUntil':_0xbcd70a+this[_0x250736(0x44a)]?.[_0x250736(0x569)]['stopMinutes']*0x3c*0x3e8},this[_0x250736(0x2ca)][_0x250736(0x77f)](this[_0x250736(0x1e9)]+'\x20('+this['instance'][_0x250736(0x415)]+_0x250736(0x42e)+_0x2a0164),this['updateStopChat'](_0x4e101e,_0x2a0164['stoppedUntil']),null;}if(_0x53bd1d&&_0x53bd1d[_0x250736(0x417)](this['AutomateSystem']?.[_0x250736(0x569)][_0x250736(0x645)])&&_0x53bd1d[_0x250736(0x479)]>0x4){let _0x47ddb7=await this[_0x250736(0xf1)][_0x250736(0x364)][_0x250736(0x267)]({'where':{'startCommandWord':_0x53bd1d}},this[_0x250736(0x219)][_0x250736(0x415)]);if(this[_0x250736(0x2ca)][_0x250736(0x77f)](this[_0x250736(0x1e9)]+'\x20('+this[_0x250736(0x219)][_0x250736(0x415)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x47ddb7)_0x4e101e=await this[_0x250736(0x5d3)](_0x47ddb7,_0x1fba95[_0x250736(0x475)],_0x1fba95);else return this['logger'][_0x250736(0x77f)](this[_0x250736(0x1e9)]+'\x20('+this['instance'][_0x250736(0x415)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x4e101e=await this[_0x250736(0x3cd)](_0x22e378,_0x1fba95);if(_0x4e101e){this[_0x250736(0x2ca)]['verbose'](this[_0x250736(0x1e9)]+'\x20('+this[_0x250736(0x219)]['wuid']+_0x250736(0x5cd)),!_0x28d057[_0x250736(0x602)]&&_0x4e101e[_0x250736(0x49d)]&&this[_0x250736(0x405)](_0x4e101e);let _0x57b5e2=await this[_0x250736(0x580)](_0x4e101e);_0x57b5e2&&await this[_0x250736(0x56b)](_0x4e101e,_0x57b5e2);}}catch(_0x2e8ce5){this[_0x250736(0x2ca)][_0x250736(0xbc)](this[_0x250736(0x1e9)]+'\x20('+this[_0x250736(0x219)][_0x250736(0x415)]+_0x250736(0xdc)+(_0x2e8ce5 instanceof Error?_0x2e8ce5[_0x250736(0x559)]:JSON[_0x250736(0x431)](_0x2e8ce5,null,0x2)));}}[a0_0x28fd55(0x376)](_0x454cd6,_0x2c5a6a='',_0x16818={}){const _0x205c6e=a0_0x28fd55;return typeof _0x454cd6!=_0x205c6e(0x661)||_0x454cd6===null?(_0x2c5a6a&&(_0x16818[_0x2c5a6a]=_0x454cd6),_0x16818):(Object[_0x205c6e(0x55c)](_0x454cd6)['forEach'](([_0x3e8d3d,_0x30a38e])=>{const _0x25f42b=_0x205c6e;let _0x1b28b5=_0x2c5a6a?_0x2c5a6a+'.'+_0x3e8d3d:'_'+_0x3e8d3d;Array[_0x25f42b(0x560)](_0x30a38e)?_0x30a38e['forEach']((_0x411e8e,_0x401096)=>{const _0x2a4e03=_0x25f42b;this[_0x2a4e03(0x376)](_0x411e8e,_0x1b28b5+'['+_0x401096+']',_0x16818);}):typeof _0x30a38e==_0x25f42b(0x661)&&_0x30a38e!==null?this[_0x25f42b(0x376)](_0x30a38e,_0x1b28b5,_0x16818):_0x16818[_0x1b28b5]=String(_0x30a38e);}),console['log'](_0x205c6e(0x335),_0x16818),_0x16818);}[a0_0x28fd55(0x126)](_0x598697){const _0x1a7db6=a0_0x28fd55;let _0x787019={};for(let _0x75b2ae of _0x598697)typeof _0x75b2ae['name']==_0x1a7db6(0x660)&&typeof _0x75b2ae['value']==_0x1a7db6(0x660)&&(_0x787019[_0x75b2ae[_0x1a7db6(0x616)]]=_0x75b2ae[_0x1a7db6(0x24b)]);return _0x787019;}async['NextBlock'](_0x14e3b8){const _0x2cc4d6=a0_0x28fd55;if(!this[_0x2cc4d6(0x44a)]?.[_0x2cc4d6(0x569)]['enabled']||_0x14e3b8['status']!=='open'&&_0x14e3b8[_0x2cc4d6(0x320)]==='')return null;let _0x5c7dbf=_0x14e3b8[_0x2cc4d6(0x4e0)][_0x2cc4d6(0x26e)]||_0x2cc4d6(0x1ea);typeof _0x14e3b8[_0x2cc4d6(0x4e0)][_0x2cc4d6(0x271)]>'u'&&(_0x14e3b8['chatLog'][_0x2cc4d6(0x271)]=!0x0);let _0x185f03=_0x14e3b8['chatLog'][_0x2cc4d6(0x271)];this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2cc4d6(0x219)][_0x2cc4d6(0x415)]+'):\x20lastBlockId:\x20'+_0x5c7dbf+',\x20lastCondition:\x20'+_0x185f03);let _0xcc7d14=_0x5c7dbf===_0x2cc4d6(0x1ea)?_0x14e3b8['blocks'][_0x2cc4d6(0x167)](_0x2655af=>_0x2655af[_0x2cc4d6(0x68c)]===_0x2cc4d6(0x1ea)):_0x14e3b8[_0x2cc4d6(0x23b)]['find'](_0x57d5dd=>_0x57d5dd[_0x2cc4d6(0x53b)]['toString']()===_0x5c7dbf[_0x2cc4d6(0x6dd)]());if(!_0xcc7d14)return this[_0x2cc4d6(0x2ca)][_0x2cc4d6(0xbc)](this[_0x2cc4d6(0x1e9)]+'\x20('+this[_0x2cc4d6(0x219)][_0x2cc4d6(0x415)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x5c7dbf),null;let _0x1fcd1e={'_pushName':_0x14e3b8[_0x2cc4d6(0x4e0)][_0x2cc4d6(0x35f)][_0x2cc4d6(0x6ff)],..._0x14e3b8[_0x2cc4d6(0x4e0)][_0x2cc4d6(0x4f2)]},_0x2ed26a=null;if(_0x14e3b8['waitingMenu_id']){let _0x58fb8b=_0x14e3b8['chatLog']['lastReceivedMessage'][_0x2cc4d6(0x26a)],_0x10382b=_0x14e3b8[_0x2cc4d6(0x68d)][_0x2cc4d6(0x167)](_0x454abe=>_0x454abe[_0x2cc4d6(0x27c)]===_0x58fb8b);if(_0x10382b){let _0x3bdc94=_0x10382b[_0x2cc4d6(0xab)];if(_0x2ed26a=_0x14e3b8[_0x2cc4d6(0x23b)]['find'](_0x44299f=>_0x44299f[_0x2cc4d6(0x1c9)]===_0x3bdc94&&_0x44299f[_0x2cc4d6(0x67b)]===0x1),_0xcc7d14[_0x2cc4d6(0xc0)][_0x2cc4d6(0x598)]){let _0x56a115={'id':_0x14e3b8['waitingMenu_id'],'remoteJid':_0x14e3b8[_0x2cc4d6(0x5dd)],'fromMe':!0x0};await this[_0x2cc4d6(0x3b6)](_0x56a115);}if(_0xcc7d14[_0x2cc4d6(0xc0)][_0x2cc4d6(0x598)]&&_0xcc7d14[_0x2cc4d6(0xc0)][_0x2cc4d6(0x63c)]&&_0xcc7d14[_0x2cc4d6(0xc0)][_0x2cc4d6(0x12f)]===_0x2cc4d6(0x30c)){let _0x39473a={'number':_0x14e3b8[_0x2cc4d6(0x5dd)],'options':{'delay':0x0},'textMessage':{'text':_0x2cc4d6(0x5d8)+_0x14e3b8[_0x2cc4d6(0x456)]+_0x2cc4d6(0x3f5)+_0x58fb8b}};await this['textMessage'](_0x39473a);}_0x14e3b8[_0x2cc4d6(0x180)]=_0x2cc4d6(0x170),_0x14e3b8[_0x2cc4d6(0x320)]='',_0x14e3b8['waitingMenu_text']='',_0x14e3b8[_0x2cc4d6(0x68d)]=[];}else{this[_0x2cc4d6(0x2ca)][_0x2cc4d6(0x77f)](this['instanceName']+'\x20('+this[_0x2cc4d6(0x219)][_0x2cc4d6(0x415)]+_0x2cc4d6(0x76c));let _0x19814f={'activatedCount':_0x14e3b8[_0x2cc4d6(0x4e0)][_0x2cc4d6(0x497)][_0x2cc4d6(0x586)](_0x4f0776=>String(_0x4f0776[_0x2cc4d6(0x5cc)])===String(_0x5c7dbf))[_0x2cc4d6(0x479)],'moreLogs':[_0x2cc4d6(0x6a0)]};if(_0xcc7d14[_0x2cc4d6(0xc0)]['pollErrorMessage']){let _0x3e2299={'number':_0x14e3b8[_0x2cc4d6(0x5dd)],'options':{'delay':0x0},'textMessage':{'text':_0xcc7d14[_0x2cc4d6(0xc0)][_0x2cc4d6(0x789)]}};await this['textMessage'](_0x3e2299);}if(_0xcc7d14[_0x2cc4d6(0xc9)]!==void 0x0&&_0x19814f[_0x2cc4d6(0x534)]>=_0xcc7d14['maxActives']){let _0x56f5b1=Date[_0x2cc4d6(0x717)](),_0x4063d3=_0xcc7d14['stopMinutesMaxActives']??0xa;isNaN(_0x4063d3)&&(_0x4063d3=0xa);let _0x2f0d51=_0x56f5b1+_0x4063d3*0x3c*0x3e8;_0x19814f[_0x2cc4d6(0x77a)]=_0x2f0d51,_0x19814f[_0x2cc4d6(0x4ba)][_0x2cc4d6(0x474)](_0x2cc4d6(0x4c9)),this[_0x2cc4d6(0x50a)](_0x14e3b8,_0x2f0d51),_0x14e3b8[_0x2cc4d6(0x320)]='',_0x14e3b8['waitingMenu_text']='',_0x14e3b8[_0x2cc4d6(0x68d)]=[];}return this[_0x2cc4d6(0x319)](_0x14e3b8,_0xcc7d14,_0x19814f,!0x0),null;}}if(_0x185f03&&_0xcc7d14[_0x2cc4d6(0xab)]&&!_0x14e3b8[_0x2cc4d6(0x320)]){let _0x33286f=_0x14e3b8[_0x2cc4d6(0x23b)]['filter'](_0x50e3b0=>_0x50e3b0[_0x2cc4d6(0x1c9)][_0x2cc4d6(0x6dd)]()===_0xcc7d14[_0x2cc4d6(0xab)][_0x2cc4d6(0x6dd)]())[_0x2cc4d6(0x62a)]((_0x53b493,_0xf1eaeb)=>_0x53b493[_0x2cc4d6(0x67b)]-_0xf1eaeb[_0x2cc4d6(0x67b)]);_0x33286f['length']>0x0&&(_0x2ed26a=_0x33286f[0x0]);}if(!_0x2ed26a){let _0x56c50a=_0xcc7d14[_0x2cc4d6(0x1c9)],_0x17dd14=_0x14e3b8[_0x2cc4d6(0x23b)][_0x2cc4d6(0x586)](_0x5cef9f=>_0x5cef9f['groupId']===_0x56c50a&&_0x5cef9f['order']>_0xcc7d14[_0x2cc4d6(0x67b)])[_0x2cc4d6(0x62a)]((_0x55d59c,_0x46e59e)=>_0x55d59c[_0x2cc4d6(0x67b)]-_0x46e59e['order']);_0x17dd14[_0x2cc4d6(0x479)]>0x0&&(_0x2ed26a=_0x17dd14[0x0]);}if(!_0x2ed26a)return _0x14e3b8[_0x2cc4d6(0x180)]=_0x2cc4d6(0x471),null;_0x14e3b8[_0x2cc4d6(0x4e0)][_0x2cc4d6(0x4f2)]=_0x1fcd1e;let _0x5a854f=JSON[_0x2cc4d6(0x3a4)](JSON[_0x2cc4d6(0x431)](_0x2ed26a));return this[_0x2cc4d6(0x56e)](_0x5a854f,_0x14e3b8['chatLog'][_0x2cc4d6(0x4f2)]),_0x14e3b8['chatLog']['lastBlockId']=_0x5a854f['_id'],_0x14e3b8[_0x2cc4d6(0x4e0)][_0x2cc4d6(0x271)]=!0x0,_0x5a854f;}[a0_0x28fd55(0x9c)](_0x2155b1,_0x61c56e){return _0x2155b1['replace'](/\{\{([^}]+)\}\}/g,(_0x15d1d5,_0x4f8778)=>_0x61c56e[_0x4f8778]||'');}[a0_0x28fd55(0x56e)](_0xd2bc68,_0x3c859a){const _0x4ecc99=a0_0x28fd55;for(let _0x15c2a8 in _0xd2bc68)typeof _0xd2bc68[_0x15c2a8]==_0x4ecc99(0x660)?_0xd2bc68[_0x15c2a8]=this[_0x4ecc99(0x9c)](_0xd2bc68[_0x15c2a8],_0x3c859a):typeof _0xd2bc68[_0x15c2a8]==_0x4ecc99(0x661)&&this[_0x4ecc99(0x56e)](_0xd2bc68[_0x15c2a8],_0x3c859a);}async['goNextblock'](_0x19beb8,_0x43af11){const _0x2d8263=a0_0x28fd55;let _0x4b3bf5=_0x43af11[_0x2d8263(0x53b)];if(_0x19beb8[_0x2d8263(0x4e0)]&&_0x19beb8[_0x2d8263(0x4e0)][_0x2d8263(0x497)]){let _0x3246c6=_0x19beb8[_0x2d8263(0x4e0)][_0x2d8263(0x497)][_0x2d8263(0x586)](_0x3bbb5c=>String(_0x3bbb5c[_0x2d8263(0x5cc)])===String(_0x4b3bf5))[_0x2d8263(0x540)]();if(_0x3246c6&&_0x3246c6[_0x2d8263(0xbc)]&&_0x43af11[_0x2d8263(0x592)])return _0x19beb8['status']='closed',await this[_0x2d8263(0x562)](_0x19beb8),null;}if(_0x43af11[_0x2d8263(0x68c)]===_0x2d8263(0xc0)&&_0x43af11[_0x2d8263(0xc0)]['command']==='sendPoll'&&_0x19beb8[_0x2d8263(0x320)])return _0x19beb8['chatLog'][_0x2d8263(0x26e)]=_0x4b3bf5,await this[_0x2d8263(0x562)](_0x19beb8),null;let _0x3218c1=await this[_0x2d8263(0x580)](_0x19beb8);if(_0x19beb8[_0x2d8263(0x4e0)]&&_0x19beb8[_0x2d8263(0x4e0)]['blockLogs']){let _0x517456=_0x19beb8[_0x2d8263(0x4e0)][_0x2d8263(0x497)][_0x2d8263(0x586)](_0x2f508c=>String(_0x2f508c[_0x2d8263(0x5cc)])===String(_0x4b3bf5))[_0x2d8263(0x479)];if(_0x43af11['maxActives']!==void 0x0&&_0x517456>=_0x43af11['maxActives']){let _0xf839ea=Date['now'](),_0x5d993a=_0x43af11[_0x2d8263(0x6dc)]??0xa;isNaN(_0x5d993a)&&(_0x5d993a=0xa);let _0x1c9a92=_0xf839ea+_0x5d993a*0x3c*0x3e8,_0x437b6f={'newStoppedUntil':_0x1c9a92};return this[_0x2d8263(0x50a)](_0x19beb8,_0x1c9a92),this['updateConversation'](_0x19beb8,_0x43af11,_0x437b6f,!0x0),null;}}_0x3218c1&&_0x3218c1['type']!==_0x2d8263(0x792)&&await this[_0x2d8263(0x56b)](_0x19beb8,_0x3218c1),_0x3218c1||await this['saveConversationToDatabase'](_0x19beb8),_0x3218c1&&_0x3218c1[_0x2d8263(0x68c)]==='save'&&(_0x19beb8[_0x2d8263(0x4e0)]['lastBlockId']=_0x4b3bf5,await this[_0x2d8263(0x562)](_0x19beb8));}async[a0_0x28fd55(0x56b)](_0x28550c,_0x552b2d){const _0x5e086d=a0_0x28fd55;try{let _0x18d6eb=_0x552b2d[_0x5e086d(0x68c)];this[_0x5e086d(0x2ca)]['verbose'](this['instanceName']+'\x20('+this[_0x5e086d(0x219)][_0x5e086d(0x415)]+'):\x20Going\x20to\x20'+_0x18d6eb);let _0x156579={'uazapi':()=>this[_0x5e086d(0x420)](_0x28550c,_0x552b2d),'save':()=>this[_0x5e086d(0x472)](_0x28550c,_0x552b2d),'stop':()=>this[_0x5e086d(0x4df)](_0x28550c,_0x552b2d),'condition':()=>this['processConditions'](_0x28550c,_0x552b2d),'varedit':()=>this[_0x5e086d(0x94)](_0x28550c,_0x552b2d),'apirequest':()=>this[_0x5e086d(0x70b)](_0x28550c,_0x552b2d),'goToFlow':()=>this['processgoToFlow'](_0x28550c,_0x552b2d),'awaitSeconds':()=>this[_0x5e086d(0x5cb)](_0x28550c,_0x552b2d),'clearVariables':()=>this['processclearVariables'](_0x28550c,_0x552b2d)}[_0x18d6eb];_0x156579&&await _0x156579();}catch(_0xf714b9){this['logger'][_0x5e086d(0xbc)](this[_0x5e086d(0x1e9)]+'\x20('+this[_0x5e086d(0x219)][_0x5e086d(0x415)]+_0x5e086d(0x5a5)+(_0xf714b9 instanceof Error?_0xf714b9[_0x5e086d(0x559)]:JSON[_0x5e086d(0x431)](_0xf714b9,null,0x2)));}}async[a0_0x28fd55(0x5cb)](_0x322ef0,_0x48e3e7){const _0x5d9c47=a0_0x28fd55;if(this['logger'][_0x5d9c47(0x77f)](this[_0x5d9c47(0x1e9)]+'\x20('+this[_0x5d9c47(0x219)][_0x5d9c47(0x415)]+_0x5d9c47(0x6ca)),!_0x322ef0||!_0x48e3e7)return this[_0x5d9c47(0x2ca)]['error'](this[_0x5d9c47(0x1e9)]+'\x20('+this[_0x5d9c47(0x219)][_0x5d9c47(0x415)]+_0x5d9c47(0x129)),null;let _0x1a71e8=+_0x48e3e7[_0x5d9c47(0x22b)];isNaN(_0x1a71e8)&&(_0x1a71e8=0x0),_0x1a71e8=Math['min'](_0x1a71e8,0x3c),await(0x0,f[_0x5d9c47(0x3cb)])(_0x1a71e8*0x3e8);let _0x86613e={'moreLogs':[_0x5d9c47(0x518)+_0x1a71e8+_0x5d9c47(0x437)]};return await this[_0x5d9c47(0x319)](_0x322ef0,_0x48e3e7,_0x86613e),_0x1a71e8;}async[a0_0x28fd55(0x430)](_0x5eb046,_0x374a06){const _0x46364c=a0_0x28fd55;if(this[_0x46364c(0x2ca)][_0x46364c(0x77f)](this[_0x46364c(0x1e9)]+'\x20('+this[_0x46364c(0x219)]['wuid']+_0x46364c(0xaa)),!_0x5eb046||!_0x374a06)return this[_0x46364c(0x2ca)][_0x46364c(0xbc)](this[_0x46364c(0x1e9)]+'\x20('+this[_0x46364c(0x219)][_0x46364c(0x415)]+_0x46364c(0x129)),null;let _0x5cda33=[];if(_0x374a06['clearVariables'][_0x46364c(0x61e)]()===_0x46364c(0x260)){let _0x561f39=[_0x46364c(0x27f),_0x46364c(0x6d1),'_activedCount',_0x46364c(0x258),_0x46364c(0x53b),_0x46364c(0x63e)];_0x5cda33=Object[_0x46364c(0x14d)](_0x5eb046['chatLog'][_0x46364c(0x4f2)])[_0x46364c(0x586)](_0x50bb37=>_0x50bb37[_0x46364c(0x417)]('_')&&!_0x561f39[_0x46364c(0x4d2)](_0x50bb37));}else _0x5cda33=_0x374a06['clearVariables'][_0x46364c(0x5c6)]('|')[_0x46364c(0x3ef)](_0x462c74=>(_0x462c74=_0x462c74[_0x46364c(0x4b8)](/[{}]/g,'')[_0x46364c(0x61e)](),_0x462c74['startsWith']('_')?_0x462c74:'_'+_0x462c74));let _0x34b439=[];_0x5cda33[_0x46364c(0x32d)](_0x26d783=>{const _0x118548=_0x46364c;_0x26d783 in _0x5eb046['chatLog']['realVariables']&&(delete _0x5eb046[_0x118548(0x4e0)][_0x118548(0x4f2)][_0x26d783],_0x34b439[_0x118548(0x474)](_0x26d783));}),_0x34b439['length']>0x0?this[_0x46364c(0x2ca)][_0x46364c(0x77f)](this[_0x46364c(0x1e9)]+'\x20('+this[_0x46364c(0x219)][_0x46364c(0x415)]+_0x46364c(0x75b)+_0x34b439[_0x46364c(0x597)](',\x20')):this[_0x46364c(0x2ca)]['verbose'](this['instanceName']+'\x20('+this[_0x46364c(0x219)][_0x46364c(0x415)]+_0x46364c(0x1a8));let _0x32577={'moreLogs':['Removidas\x20as\x20variáveis:\x20'+_0x34b439['join'](',\x20')]};return await this[_0x46364c(0x319)](_0x5eb046,_0x374a06,_0x32577),null;}async['processgoToFlow'](_0x3c3ddd,_0xdb1bf){const _0x1d5118=a0_0x28fd55;if(this[_0x1d5118(0x2ca)]['verbose'](this[_0x1d5118(0x1e9)]+'\x20('+this[_0x1d5118(0x219)][_0x1d5118(0x415)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x3c3ddd||!_0xdb1bf)return this['logger'][_0x1d5118(0xbc)](this['instanceName']+'\x20('+this[_0x1d5118(0x219)][_0x1d5118(0x415)]+_0x1d5118(0x129)),null;await this['updateConversation'](_0x3c3ddd,_0xdb1bf,{},!0x0,!0x0),console['log'](_0x1d5118(0x4e2)),console[_0x1d5118(0x125)](_0xdb1bf);let _0x2f576c=_0xdb1bf[_0x1d5118(0x13b)];console['log'](_0x1d5118(0xb2),_0x2f576c),_0x3c3ddd=await this[_0x1d5118(0x30e)](_0x2f576c,_0x3c3ddd[_0x1d5118(0x5dd)],_0x3c3ddd['chatLog'][_0x1d5118(0x4f2)]),this['logger'][_0x1d5118(0x77f)](this['instanceName']+'\x20('+this[_0x1d5118(0x219)][_0x1d5118(0x415)]+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x401708=await this['NextBlock'](_0x3c3ddd);_0x401708&&await this[_0x1d5118(0x56b)](_0x3c3ddd,_0x401708);}async[a0_0x28fd55(0x30e)](_0x5b1e29,_0x2c5be6,_0x335703){const _0x279f65=a0_0x28fd55;this['logger']['verbose'](this[_0x279f65(0x1e9)]+'\x20('+this[_0x279f65(0x219)]['wuid']+_0x279f65(0x2ac));try{if(_0x5b1e29=await this[_0x279f65(0xf1)][_0x279f65(0x364)][_0x279f65(0x267)]({'where':{'name':_0x5b1e29}},this['instance'][_0x279f65(0x415)]),!_0x5b1e29)return this['logger']['error'](this[_0x279f65(0x1e9)]+'\x20('+this[_0x279f65(0x219)][_0x279f65(0x415)]+_0x279f65(0x3b4)),null;let _0x3494f1=require(_0x279f65(0x511))['ObjectId'],_0x52aa32=Date[_0x279f65(0x717)](),_0x35ff3c=_0x279f65(0x1ea),_0xfc81dc={},_0x483834={},_0x36df92={..._0x5b1e29,'chatLog':null},_0x301c9e={'lastReceivedMessage':_0xfc81dc,'lastSendMessage':_0x483834,'lastBlockId':_0x35ff3c,'lastCondition':!0x0,'realVariables':_0x335703};_0x36df92[_0x279f65(0x4e0)]=_0x301c9e,_0x36df92[_0x279f65(0x4e0)][_0x279f65(0x4f2)]={..._0x335703},delete _0x36df92[_0x279f65(0x53b)],_0x36df92[_0x279f65(0x53b)]=new _0x3494f1(),_0x36df92[_0x279f65(0x277)]=_0x52aa32,_0x36df92[_0x279f65(0x180)]=_0x279f65(0x170),_0x36df92['remoteJid']=_0x2c5be6;let _0x5a2644=await this[_0x279f65(0xf1)][_0x279f65(0x42b)][_0x279f65(0x1b5)](_0x36df92[_0x279f65(0x53b)],_0x36df92,this[_0x279f65(0x219)][_0x279f65(0x415)]);return this[_0x279f65(0x2ca)][_0x279f65(0x77f)](this[_0x279f65(0x1e9)]+'\x20('+this['instance'][_0x279f65(0x415)]+_0x279f65(0x266)),_0x5a2644?_0x36df92:null;}catch(_0xe1999a){let _0x4754d4=_0x279f65(0x1f3),_0x3eb56a=_0xe1999a instanceof Error?_0xe1999a['message']:typeof _0xe1999a==_0x279f65(0x661)?JSON[_0x279f65(0x431)](_0xe1999a):_0xe1999a,_0x59a625=_0x4754d4+':\x20'+_0x3eb56a;throw this[_0x279f65(0x2ca)]['error'](this[_0x279f65(0x1e9)]+'\x20('+this[_0x279f65(0x219)][_0x279f65(0x415)]+_0x279f65(0x48e)+_0x59a625),new m(_0x59a625);}}async[a0_0x28fd55(0x70b)](_0x3c7dfc,_0x233158){const _0x3c3b36=a0_0x28fd55;let _0x2a501e,_0x55735e;try{let _0x46a5d2=_0x233158['apirequest'];if(!_0x46a5d2||!_0x46a5d2[_0x3c3b36(0x237)]||!_0x46a5d2[_0x3c3b36(0x1de)])throw new Error(_0x3c3b36(0x715));let _0x4f200a;([_0x3c3b36(0x441),'https://api.openai.com/v1/images/generations',_0x3c3b36(0x289)][_0x3c3b36(0x3c0)](_0x1b7a4d=>_0x46a5d2[_0x3c3b36(0x237)][_0x3c3b36(0x4d2)](_0x1b7a4d))||_0x46a5d2[_0x3c3b36(0x2e1)])&&(_0x4f200a=_0x3c3b36(0x304));let _0x1ae018='\u205f',_0x2e4707;try{_0x2e4707=JSON[_0x3c3b36(0x3a4)](_0x46a5d2[_0x3c3b36(0x230)][_0x3c3b36(0x4b8)](new RegExp(_0x1ae018,'g'),''));}catch(_0x1f80fe){throw _0x1f80fe;}let _0x34f7c4={'method':_0x46a5d2['method'],'url':_0x46a5d2[_0x3c3b36(0x237)],'headers':_0x46a5d2[_0x3c3b36(0x386)]||{},..._0x46a5d2['method'][_0x3c3b36(0x498)]()!==_0x3c3b36(0x2cc)&&_0x46a5d2[_0x3c3b36(0x230)]?{'data':JSON['parse'](_0x46a5d2[_0x3c3b36(0x230)][_0x3c3b36(0x4b8)](new RegExp(_0x1ae018,'g'),''))}:{},..._0x4f200a&&{'responseType':_0x4f200a}},_0x1da1e9=await(0x0,K[_0x3c3b36(0x446)])(_0x34f7c4),_0x263a48=_0x1da1e9[_0x3c3b36(0x3d6)][_0x3c3b36(0x64b)];if(_0x263a48&&_0x263a48[_0x3c3b36(0x4d2)](_0x3c3b36(0x399))||typeof _0x1da1e9[_0x3c3b36(0x4d5)]=='string'){if(typeof _0x1da1e9[_0x3c3b36(0x4d5)]==_0x3c3b36(0x660)){let _0xfab0b0=_0x1da1e9[_0x3c3b36(0x4d5)][_0x3c3b36(0x4b8)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x2a501e=JSON[_0x3c3b36(0x3a4)](_0xfab0b0);}catch(_0x2cc7ae){console[_0x3c3b36(0xbc)](_0x3c3b36(0x63d)+_0x2cc7ae[_0x3c3b36(0x559)]),_0x2a501e={'_apiResponse':_0x1da1e9[_0x3c3b36(0x4d5)]};}}else _0x2a501e=_0x1da1e9['data'];let _0x1a2da3=_0x3c7dfc['chatLog'][_0x3c3b36(0x4f2)],_0x457305=this[_0x3c3b36(0x376)](_0x2a501e);return Object[_0x3c3b36(0x5ae)](_0x1a2da3,_0x457305),_0x3c7dfc['chatLog']['realVariables']=_0x1a2da3,_0x55735e={'error':!0x1,'apiResponse':_0x2a501e},this['updateConversation'](_0x3c7dfc,_0x233158,_0x55735e),_0x2a501e;}if(_0x263a48&&(_0x263a48['includes'](_0x3c3b36(0x217))||_0x263a48['includes'](_0x3c3b36(0x76a))||_0x263a48[_0x3c3b36(0x4d2)]('audio')||_0x263a48[_0x3c3b36(0x4d2)](_0x3c3b36(0x1d5)))){this[_0x3c3b36(0x2ca)]['verbose'](this[_0x3c3b36(0x1e9)]+'\x20('+this[_0x3c3b36(0x219)][_0x3c3b36(0x415)]+_0x3c3b36(0x724)+_0x263a48);let _0xe76783=(0x0,jt['v4'])(),_0x4ca6a6='',_0x5a4340={'image/jpeg':'.jpg','image/png':'.png','image/gif':_0x3c3b36(0x134),'image/webp':_0x3c3b36(0xd8),'image/svg+xml':_0x3c3b36(0x2c5),'audio/mpeg':_0x3c3b36(0x60a),'audio/ogg':_0x3c3b36(0x254),'audio/wav':'.wav','video/mp4':_0x3c3b36(0x5c7),'video/webm':_0x3c3b36(0x6f1),'video/ogg':'.ogv','text/plain':_0x3c3b36(0x1fd),'application/pdf':_0x3c3b36(0x1db),'application/msword':_0x3c3b36(0x3cc),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x3c3b36(0xea),'application/vnd.ms-excel':_0x3c3b36(0x202),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x3c3b36(0x122)};_0x5a4340[_0x263a48]?(_0x4ca6a6=_0x5a4340[_0x263a48],this[_0x3c3b36(0x2ca)]['verbose'](this[_0x3c3b36(0x1e9)]+'\x20('+this[_0x3c3b36(0x219)][_0x3c3b36(0x415)]+_0x3c3b36(0xda)+_0x4ca6a6)):(_0x4ca6a6=_0x3c3b36(0x585),this[_0x3c3b36(0x2ca)][_0x3c3b36(0x77f)](this[_0x3c3b36(0x1e9)]+'\x20('+this['instance'][_0x3c3b36(0x415)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x4ca6a6)),_0xe76783+=_0x4ca6a6,this[_0x3c3b36(0x2ca)][_0x3c3b36(0x77f)](this[_0x3c3b36(0x1e9)]+'\x20('+this[_0x3c3b36(0x219)][_0x3c3b36(0x415)]+_0x3c3b36(0x748)+_0xe76783);let _0x48a678=this[_0x3c3b36(0x58f)][_0x3c3b36(0x72c)](_0x3c3b36(0x473))['URL'];if(!_0x48a678){let _0x427cf1=this[_0x3c3b36(0x58f)]['get']('SSL_CONF');_0x48a678='https://'+(_0x427cf1&&_0x427cf1['FULLCHAIN'][_0x3c3b36(0x5c6)]('/')[0x4]);}let _0xf119e1=Buffer['from'](_0x1da1e9[_0x3c3b36(0x4d5)]);await this[_0x3c3b36(0x73c)](_0xf119e1,_0xe76783);let _0x4be00e=_0x3c3b36(0x38c)+_0xe76783;_0x4be00e=''+_0x48a678+_0x4be00e,_0x2a501e={'fileUrl':_0x4be00e},_0x3c7dfc[_0x3c3b36(0x4e0)][_0x3c3b36(0x4f2)][_0x3c3b36(0x111)]=_0x4be00e;let _0x56e3dc=_0x3c7dfc[_0x3c3b36(0x4e0)][_0x3c3b36(0x4f2)],_0x134319=this[_0x3c3b36(0x376)](_0x2a501e);return Object[_0x3c3b36(0x5ae)](_0x56e3dc,_0x134319),_0x3c7dfc['chatLog'][_0x3c3b36(0x4f2)]=_0x56e3dc,_0x55735e={'error':!0x1,'apiResponse':{'fileUrl':_0x4be00e}},this['updateConversation'](_0x3c7dfc,_0x233158,_0x55735e),_0x2a501e;}}catch(_0x5830a1){console[_0x3c3b36(0xbc)](_0x3c3b36(0x721),_0x5830a1['message']),_0x5830a1[_0x3c3b36(0xb9)]&&(_0x2a501e=_0x5830a1[_0x3c3b36(0xb9)][_0x3c3b36(0x4d5)]);let _0x1e5955=_0x3c7dfc[_0x3c3b36(0x4e0)][_0x3c3b36(0x4f2)],_0x4d2ce6=this['flattenObject'](_0x2a501e);return Object[_0x3c3b36(0x5ae)](_0x1e5955,_0x4d2ce6),_0x3c7dfc['chatLog'][_0x3c3b36(0x4f2)]=_0x1e5955,_0x55735e={'error':!0x0,'errorLog':_0x5830a1[_0x3c3b36(0x6dd)](),'apiResponse':_0x2a501e},this[_0x3c3b36(0x319)](_0x3c7dfc,_0x233158,_0x55735e),{'success':!0x1};}}[a0_0x28fd55(0x1a2)](_0x4d98b7,_0x192151){const _0x453cd7=a0_0x28fd55;let _0x19dc9c=_0x41ff18=>{const _0x1b75d4=a0_0x472e;let _0x25416b=_0x41ff18[_0x1b75d4(0x4b8)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x14a34d=parseFloat(_0x25416b);return isNaN(_0x14a34d)?null:_0x14a34d;},_0x319345=_0x192151['firstValue'],_0x2d674a=_0x192151[_0x453cd7(0x175)];typeof _0x319345==_0x453cd7(0x660)&&(_0x319345=this['replaceVariables'](_0x319345,_0x4d98b7[_0x453cd7(0x4e0)][_0x453cd7(0x4f2)])??''),typeof _0x2d674a==_0x453cd7(0x660)&&(_0x2d674a=this[_0x453cd7(0x9c)](_0x2d674a,_0x4d98b7[_0x453cd7(0x4e0)]['realVariables'])??'');let _0x5df03f=null;if(!_0x192151[_0x453cd7(0x6bd)])return null;switch(this[_0x453cd7(0x2ca)]['verbose'](this[_0x453cd7(0x1e9)]+'\x20('+this[_0x453cd7(0x219)][_0x453cd7(0x415)]+_0x453cd7(0x5a0)+_0x319345),this['logger'][_0x453cd7(0x77f)](this[_0x453cd7(0x1e9)]+'\x20('+this[_0x453cd7(0x219)][_0x453cd7(0x415)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x2d674a),_0x192151[_0x453cd7(0x6bd)]){case'+':case'-':case'*':case'/':let _0x4aad53=_0x19dc9c(_0x319345||'0'),_0x415c54=_0x19dc9c(_0x2d674a||'0');if(_0x4aad53===null)return null;switch(_0x192151[_0x453cd7(0x6bd)]){case'+':_0x5df03f=_0x4aad53+(_0x415c54??0x0);break;case'-':_0x5df03f=_0x4aad53-(_0x415c54??0x0);break;case'*':_0x5df03f=_0x4aad53*(_0x415c54??0x1);break;case'/':_0x415c54!==0x0&&(_0x5df03f=_0x4aad53/(_0x415c54??0x1));break;}break;case'findAndReplace':case _0x453cd7(0x54e):let _0x3741f9=_0x2d674a,_0x40ba1c=_0x192151[_0x453cd7(0x1b1)];if(typeof _0x40ba1c==_0x453cd7(0x660)&&(_0x40ba1c=this[_0x453cd7(0x9c)](_0x40ba1c,_0x4d98b7[_0x453cd7(0x4e0)]['realVariables'])??''),_0x3741f9&&_0x40ba1c!==void 0x0){let _0xc329e=_0x192151[_0x453cd7(0x6bd)]===_0x453cd7(0x75e)?new RegExp(_0x3741f9[_0x453cd7(0x4b8)](/[-\/\\^$*+?.()|[\]{}]/g,_0x453cd7(0x22a)),'g'):new RegExp(_0x3741f9,'g');_0x5df03f=_0x319345['replace'](_0xc329e,_0x40ba1c);}else console[_0x453cd7(0x5ba)](_0x453cd7(0x3a7));break;case'setNewValue':_0x5df03f=_0x2d674a;break;case _0x453cd7(0x9e):let _0x17d995=_0x319345['match'](new RegExp(_0x2d674a||''));_0x5df03f=_0x17d995?_0x17d995[0x0]:'';break;case'truncatedto':_0x5df03f=_0x319345[_0x453cd7(0x403)](0x0,parseInt(_0x2d674a||'0'));break;case _0x453cd7(0x6d6):let _0x4f301c=parseInt(_0x2d674a||'0');_0x5df03f=_0x319345[_0x453cd7(0x403)](_0x319345[_0x453cd7(0x479)]-_0x4f301c);break;case'toBrazilianNumberFormat':let _0x25cada=_0x19dc9c(_0x319345),_0x4c65e8=parseInt(_0x2d674a||'0');_0x4c65e8=Math[_0x453cd7(0x394)](_0x4c65e8),_0x25cada!==null?_0x5df03f=_0x25cada['toLocaleString']('pt-BR',{'minimumFractionDigits':_0x4c65e8,'maximumFractionDigits':_0x4c65e8}):(console[_0x453cd7(0x5ba)](_0x453cd7(0x3a9)+_0x319345),_0x5df03f=null);break;case _0x453cd7(0x70a):let _0x32ada4=_0x19dc9c(_0x319345);_0x32ada4!==null?_0x5df03f=_0x32ada4['toLocaleString']('pt-BR',{'style':_0x453cd7(0x659),'currency':'BRL'}):(console['warn']('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x319345),_0x5df03f=null);break;case _0x453cd7(0x9f):_0x5df03f=_0x319345[_0x453cd7(0x498)]();break;case _0x453cd7(0x3ec):_0x5df03f=_0x319345[_0x453cd7(0x1d7)]();break;case _0x453cd7(0x6b0):_0x5df03f=_0x319345[_0x453cd7(0x5c6)]('\x20')[_0x453cd7(0x3ef)](_0x60091f=>_0x60091f['charAt'](0x0)[_0x453cd7(0x498)]()+_0x60091f[_0x453cd7(0x403)](0x1)[_0x453cd7(0x1d7)]())[_0x453cd7(0x597)]('\x20');break;case _0x453cd7(0x3d2):_0x5df03f=_0x319345['trim']();break;default:_0x5df03f=_0x319345;}return _0x5df03f!==null?_0x5df03f[_0x453cd7(0x6dd)]():null;}async[a0_0x28fd55(0x94)](_0x39d429,_0x4bfbfd){const _0x355ae0=a0_0x28fd55;try{let _0x1b0180=_0x39d429[_0x355ae0(0x505)]?.[_0x355ae0(0x586)](_0x588e86=>_0x588e86['blockId']===_0x4bfbfd['_id']?.[_0x355ae0(0x6dd)]())||[],_0xd8ee54=_0x4bfbfd[_0x355ae0(0x12e)],_0x282e17=null,_0x39ec7c=[],_0x3a2c02=_0x39d429[_0x355ae0(0x4e0)][_0x355ae0(0x4f2)][_0xd8ee54];_0x39ec7c[_0x355ae0(0x474)]('Valor\x20inicial:\x20\x22'+_0x3a2c02+'\x22');for(let _0x5d6187 of _0x1b0180){_0x5d6187[_0x355ae0(0x653)]=_0x3a2c02,_0x282e17=_0x5d6187[_0x355ae0(0x653)];let _0x49543d;try{_0x49543d=this[_0x355ae0(0x1a2)](_0x39d429,_0x5d6187);}catch(_0x48afc8){console[_0x355ae0(0xbc)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x48afc8[_0x355ae0(0x559)]);continue;}if(_0x49543d!==null){let _0xb76eb5=_0x355ae0(0x4fc)+_0x5d6187['editOperator']+'\x22',_0x5ba8e2=[_0x355ae0(0x70a),_0x355ae0(0x9f),_0x355ae0(0x3ec),_0x355ae0(0x6b0),_0x355ae0(0x3d2)];_0x5d6187[_0x355ae0(0x6bd)]===_0x355ae0(0x75e)||_0x5d6187['editOperator']==='findAndReplaceRegex'?_0xb76eb5+=_0x355ae0(0x66d)+_0x5d6187[_0x355ae0(0x175)]+_0x355ae0(0x14a)+_0x5d6187['replaceValue']+'\x22':!_0x5ba8e2[_0x355ae0(0x4d2)](_0x5d6187[_0x355ae0(0x6bd)])&&_0x5d6187[_0x355ae0(0x175)]!==null&&_0x5d6187[_0x355ae0(0x175)]!==void 0x0&&(_0xb76eb5+=_0x355ae0(0x1af)+_0x5d6187[_0x355ae0(0x175)]+'\x22'),_0xb76eb5+=_0x355ae0(0x739)+_0x49543d+'.',_0x39ec7c[_0x355ae0(0x474)](_0xb76eb5);}_0x49543d!==null&&(_0x3a2c02=_0x49543d);}if(_0x39d429['chatLog'][_0x355ae0(0x4f2)]&&_0x4bfbfd[_0x355ae0(0x12e)]){_0x39d429[_0x355ae0(0x4e0)][_0x355ae0(0x4f2)][_0x4bfbfd[_0x355ae0(0x12e)]]=_0x3a2c02;let _0x5f3527={'variable':_0x4bfbfd['saveVariable'],'oldValue':_0x282e17,'newValue':_0x3a2c02,'moreLogs':_0x39ec7c};try{this[_0x355ae0(0x319)](_0x39d429,_0x4bfbfd,_0x5f3527);}catch(_0xbd73e4){console[_0x355ae0(0xbc)](_0x355ae0(0x353)+_0xbd73e4[_0x355ae0(0x559)]);}}return _0xd8ee54;}catch(_0x5e8106){return console[_0x355ae0(0xbc)](_0x355ae0(0x206)+_0x5e8106[_0x355ae0(0x559)]),null;}}async[a0_0x28fd55(0x728)](_0x19d5b7,_0x539a22){const _0x3272b6=a0_0x28fd55;try{let _0x338210=[],_0x3f56f9=_0x19d5b7['conditions']['filter'](_0x11935b=>_0x11935b['blockId']===_0x539a22['_id'][_0x3272b6(0x6dd)]()),_0x1a57c2=null,_0x426d28=!0x1;for(let _0x4b4181 of _0x3f56f9){let _0x7b9b93=this[_0x3272b6(0x104)](_0x19d5b7,_0x4b4181);_0x338210[_0x3272b6(0x474)](_0x3272b6(0x2bc)+_0x4b4181[_0x3272b6(0x653)]+_0x3272b6(0x300)+_0x4b4181[_0x3272b6(0x773)]+_0x3272b6(0x4bd)+_0x4b4181[_0x3272b6(0x175)]+_0x3272b6(0x248)+_0x7b9b93),_0x1a57c2===null?_0x1a57c2=_0x7b9b93:_0x4b4181['OrAnd']===_0x3272b6(0x20f)?(_0x1a57c2=_0x1a57c2&&_0x7b9b93,_0x7b9b93||(_0x426d28=!0x0)):_0x4b4181[_0x3272b6(0x322)]==='or'&&(_0x426d28||(_0x1a57c2=_0x1a57c2||_0x7b9b93));}_0x1a57c2===null&&(_0x1a57c2=!0x0);let _0x916725={'moreLogs':_0x338210};_0x19d5b7[_0x3272b6(0x4e0)]['lastCondition']=_0x1a57c2,await this[_0x3272b6(0x319)](_0x19d5b7,_0x539a22,_0x916725);}catch(_0x26c67b){this[_0x3272b6(0x2ca)][_0x3272b6(0xbc)](this['instanceName']+'\x20('+this[_0x3272b6(0x219)]['wuid']+_0x3272b6(0x193)+(_0x26c67b instanceof Error?_0x26c67b[_0x3272b6(0x559)]:JSON[_0x3272b6(0x431)](_0x26c67b,null,0x2)));}}['evaluateCondition'](_0x39caed,_0x3c8101){const _0x21845a=a0_0x28fd55;let _0x5dde6d=_0x3c8101[_0x21845a(0x653)],_0xcd83b3=_0x3c8101['secondValue'];typeof _0x5dde6d==_0x21845a(0x660)&&(_0x5dde6d=this[_0x21845a(0x9c)](_0x5dde6d,_0x39caed[_0x21845a(0x4e0)][_0x21845a(0x4f2)])??''),typeof _0xcd83b3==_0x21845a(0x660)&&(_0xcd83b3=this[_0x21845a(0x9c)](_0xcd83b3,_0x39caed[_0x21845a(0x4e0)]['realVariables'])??'');try{switch(_0x3c8101[_0x21845a(0x773)]){case'equal':return _0x5dde6d===_0xcd83b3;case _0x21845a(0x47a):return _0x5dde6d!==_0xcd83b3;case'contains':return this['contains'](_0x5dde6d,_0xcd83b3);case _0x21845a(0x421):return!this[_0x21845a(0x634)](_0x5dde6d,_0xcd83b3);case'greater':return parseFloat(_0x5dde6d)>parseFloat(_0xcd83b3);case _0x21845a(0x5f1):return parseFloat(_0x5dde6d)<parseFloat(_0xcd83b3);case _0x21845a(0xf3):return _0x5dde6d!=='';case _0x21845a(0x100):return _0x5dde6d==='';case _0x21845a(0x160):return new RegExp(_0xcd83b3)[_0x21845a(0x143)](_0x5dde6d);case _0x21845a(0x1d2):return!new RegExp(_0xcd83b3)[_0x21845a(0x143)](_0x5dde6d);default:return!0x1;}}catch(_0x372e7a){return console[_0x21845a(0xbc)](_0x21845a(0x65e)+_0x372e7a),!0x1;}}['contains'](_0x5896d8,_0x55ec9e){const _0x20cf13=a0_0x28fd55;if(_0x5896d8===_0x55ec9e&&/^\d+$/[_0x20cf13(0x143)](_0x5896d8))return!0x0;if(this[_0x20cf13(0x2ee)](_0x5896d8)&&/^\d+$/[_0x20cf13(0x143)](_0x55ec9e)){let _0x1811a8=_0x5896d8[_0x20cf13(0x5c6)](',')['map'](_0x5459e0=>parseInt(_0x5459e0[_0x20cf13(0x61e)]())),_0x351e4a=parseInt(_0x55ec9e);return _0x1811a8['includes'](_0x351e4a);}return _0x5896d8[_0x20cf13(0x4d2)](_0x55ec9e);}[a0_0x28fd55(0x2ee)](_0x57b6f2){const _0x54b558=a0_0x28fd55;return/^\d+(,\d+)*$/[_0x54b558(0x143)](_0x57b6f2);}[a0_0x28fd55(0x22d)](_0x403d94){const _0x5b7200=a0_0x28fd55;let _0xa616d4=!0x0,_0x18e722=null;for(let _0x4ea405 of _0x403d94){let _0xfca288=this[_0x5b7200(0x691)](_0x4ea405);if(_0x18e722==='or'&&_0xfca288){_0xa616d4=!0x0;break;}if(_0x18e722===_0x5b7200(0x20f)&&!_0xfca288){_0xa616d4=!0x1;break;}_0x18e722=_0x4ea405[_0x5b7200(0x322)];}return _0xa616d4;}[a0_0x28fd55(0x691)](_0x53a69f){const _0x1427b0=a0_0x28fd55;let _0x170143=_0x53a69f[_0x1427b0(0x653)],_0x442644=_0x53a69f['secondValue'];try{switch(_0x53a69f[_0x1427b0(0x773)]){case _0x1427b0(0x241):return String(_0x170143)===String(_0x442644);case _0x1427b0(0x47a):return String(_0x170143)!==String(_0x442644);case _0x1427b0(0x634):return String(_0x170143)[_0x1427b0(0x4d2)](String(_0x442644));case _0x1427b0(0x421):return!String(_0x170143)['includes'](String(_0x442644));case _0x1427b0(0x419):return parseFloat(String(_0x170143))>parseFloat(String(_0x442644));case'less':return parseFloat(String(_0x170143))<parseFloat(String(_0x442644));case _0x1427b0(0xf3):return String(_0x170143)!=='';case _0x1427b0(0x100):return String(_0x170143)==='';case _0x1427b0(0x160):return new RegExp(String(_0x442644))['test'](String(_0x170143));case'notMatchRegex':return!new RegExp(String(_0x442644))[_0x1427b0(0x143)](String(_0x170143));default:return!0x1;}}catch(_0x493117){return console[_0x1427b0(0xbc)](_0x1427b0(0x65e)+_0x493117),!0x1;}}async[a0_0x28fd55(0x472)](_0x541e23,_0x436059){const _0x59e7d2=a0_0x28fd55;if(this['logger'][_0x59e7d2(0x77f)](this[_0x59e7d2(0x1e9)]+'\x20('+this[_0x59e7d2(0x219)][_0x59e7d2(0x415)]+_0x59e7d2(0x6b2)),!_0x541e23||!_0x436059)return this[_0x59e7d2(0x2ca)][_0x59e7d2(0xbc)](this[_0x59e7d2(0x1e9)]+'\x20('+this[_0x59e7d2(0x219)][_0x59e7d2(0x415)]+_0x59e7d2(0x129)),null;let _0x1040c1=_0x541e23[_0x59e7d2(0x4e0)][_0x59e7d2(0x35f)][_0x59e7d2(0x475)]['id'];this[_0x59e7d2(0x2ca)][_0x59e7d2(0x77f)](this[_0x59e7d2(0x1e9)]+'\x20('+this[_0x59e7d2(0x219)][_0x59e7d2(0x415)]+_0x59e7d2(0x6b5)+_0x1040c1);let _0x17c8aa={'key':{'id':_0x1040c1}},_0x38e547=_0x436059[_0x59e7d2(0x12e)];_0x541e23[_0x59e7d2(0x4e0)][_0x59e7d2(0x4f2)]['_'+_0x38e547+_0x59e7d2(0x66b)]=null,_0x541e23[_0x59e7d2(0x4e0)]['realVariables']['_'+_0x38e547+_0x59e7d2(0x720)]=null,_0x541e23[_0x59e7d2(0x4e0)][_0x59e7d2(0x4f2)]['_'+_0x38e547+_0x59e7d2(0x548)]=null,_0x541e23['chatLog']['realVariables']['_'+_0x38e547+'.type']=_0x541e23[_0x59e7d2(0x4e0)]['lastReceivedMessage']['type'];try{let _0x2545ad=await this[_0x59e7d2(0x42c)](_0x17c8aa);this[_0x59e7d2(0x2ca)][_0x59e7d2(0x77f)](this[_0x59e7d2(0x1e9)]+'\x20('+this[_0x59e7d2(0x219)][_0x59e7d2(0x415)]+'):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.'),_0x541e23[_0x59e7d2(0x4e0)]['realVariables']['_'+_0x38e547+_0x59e7d2(0x381)]=_0x2545ad['fileUrl'],_0x541e23[_0x59e7d2(0x4e0)][_0x59e7d2(0x4f2)]['_'+_0x38e547+'.mimetype']=_0x2545ad[_0x59e7d2(0x465)];let _0x84d47e=_0x2545ad['mimetype'][_0x59e7d2(0x4f1)](/\/(\w+)$/),_0x490d86=_0x84d47e?_0x84d47e[0x1]:null;_0x541e23[_0x59e7d2(0x4e0)][_0x59e7d2(0x4f2)]['_'+_0x38e547+'.extension']=_0x490d86,this[_0x59e7d2(0x2ca)]['verbose'](this[_0x59e7d2(0x1e9)]+'\x20('+this[_0x59e7d2(0x219)][_0x59e7d2(0x415)]+_0x59e7d2(0x6c1)+_0x38e547+'\x27.');}catch(_0x15baea){this['logger']['error'](this[_0x59e7d2(0x1e9)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20'+_0x15baea);}let _0x3b1d5a=_0x541e23[_0x59e7d2(0x4e0)][_0x59e7d2(0x35f)][_0x59e7d2(0xdd)]||_0x541e23[_0x59e7d2(0x4e0)][_0x59e7d2(0x35f)]['caption']||_0x541e23[_0x59e7d2(0x4e0)][_0x59e7d2(0x35f)][_0x59e7d2(0x26a)];try{_0x541e23[_0x59e7d2(0x4e0)][_0x59e7d2(0x4f2)]||(_0x541e23[_0x59e7d2(0x4e0)][_0x59e7d2(0x4f2)]={});let _0x21efef=_0x541e23[_0x59e7d2(0x4e0)][_0x59e7d2(0x4f2)][_0x38e547];_0x541e23[_0x59e7d2(0x4e0)][_0x59e7d2(0x4f2)][_0x38e547]=_0x3b1d5a;let _0x271e52={'variable':_0x38e547,'oldValue':_0x21efef,'newValue':_0x3b1d5a};this[_0x59e7d2(0x319)](_0x541e23,_0x436059,_0x271e52),this['logger'][_0x59e7d2(0x77f)](this[_0x59e7d2(0x1e9)]+'\x20('+this[_0x59e7d2(0x219)]['wuid']+_0x59e7d2(0x535));}catch(_0x2dc10b){let _0x44582b={'error':!0x0,'errorLog':_0x2dc10b[_0x59e7d2(0x6dd)]()};return this[_0x59e7d2(0x319)](_0x541e23,_0x436059,_0x44582b),this['logger'][_0x59e7d2(0xbc)](this['instanceName']+'\x20('+this[_0x59e7d2(0x219)][_0x59e7d2(0x415)]+_0x59e7d2(0x769)+(_0x2dc10b instanceof Error?_0x2dc10b[_0x59e7d2(0x559)]:JSON['stringify'](_0x2dc10b,null,0x2))),null;}}async[a0_0x28fd55(0x4df)](_0x492875,_0x449fe4){const _0x496f49=a0_0x28fd55;if(this[_0x496f49(0x2ca)][_0x496f49(0x77f)](this[_0x496f49(0x1e9)]+'\x20('+this['instance'][_0x496f49(0x415)]+_0x496f49(0xb6)),!_0x492875||!_0x449fe4)return this['logger'][_0x496f49(0xbc)](this[_0x496f49(0x1e9)]+'\x20('+this[_0x496f49(0x219)][_0x496f49(0x415)]+_0x496f49(0x129)),null;let _0x4c3d21=Date[_0x496f49(0x717)](),_0x5cfa60=parseInt(_0x449fe4['stopMinutes'],0xa);if(isNaN(_0x5cfa60))return this['logger']['error'](this['instanceName']+'\x20('+this[_0x496f49(0x219)][_0x496f49(0x415)]+_0x496f49(0x5eb)),null;let _0xc51cd5={'newStoppedUntil':_0x4c3d21+_0x5cfa60*0x3c*0x3e8};return await this[_0x496f49(0x319)](_0x492875,_0x449fe4,_0xc51cd5,!0x0),null;}async['processUazapi'](_0x3e6baa,_0x4e9d73){const _0x76d580=a0_0x28fd55;try{switch(_0x4e9d73[_0x76d580(0xc0)]['command']){case _0x76d580(0xa3):await this[_0x76d580(0x144)](_0x3e6baa,_0x4e9d73);break;case _0x76d580(0x11c):await this['uazapiSendMedia'](_0x3e6baa,_0x4e9d73);break;case _0x76d580(0x4cc):await this[_0x76d580(0x209)](_0x3e6baa,_0x4e9d73);break;case'sendAudio':await this[_0x76d580(0x96)](_0x3e6baa,_0x4e9d73);break;case _0x76d580(0x44d):await this['uazapiSendContact'](_0x3e6baa,_0x4e9d73);break;case _0x76d580(0x2fe):await this[_0x76d580(0x177)](_0x3e6baa,_0x4e9d73);break;case _0x76d580(0x6a1):await this['uazapiSendMenu'](_0x3e6baa,_0x4e9d73);break;case _0x76d580(0x3b6):await this[_0x76d580(0x727)](_0x3e6baa,_0x4e9d73);break;default:this['logger'][_0x76d580(0xbc)](this[_0x76d580(0x1e9)]+'\x20('+this[_0x76d580(0x219)]['wuid']+_0x76d580(0x60f)+_0x4e9d73['uazapi'][_0x76d580(0x35b)]);}}catch(_0x2e50e5){this[_0x76d580(0x2ca)][_0x76d580(0xbc)](this[_0x76d580(0x1e9)]+'\x20('+this['instance'][_0x76d580(0x415)]+_0x76d580(0x19b)+(_0x2e50e5 instanceof Error?_0x2e50e5[_0x76d580(0x559)]:JSON[_0x76d580(0x431)](_0x2e50e5,null,0x2)));}}async[a0_0x28fd55(0x319)](_0x40ada0,_0x7a94f3,_0xc493ab,_0x2c6bd1=!0x1,_0xf025b=!0x1){const _0x2ec897=a0_0x28fd55;_0x40ada0[_0x2ec897(0x4e0)][_0x2ec897(0x497)]||(_0x40ada0[_0x2ec897(0x4e0)]['blockLogs']=[]);let _0x572bf3=(_0x40ada0[_0x2ec897(0x4e0)][_0x2ec897(0x497)]?.[_0x2ec897(0x479)]??0x0)+0x1,_0x1c0a37=_0x40ada0[_0x2ec897(0x4e0)]['blockLogs'][_0x2ec897(0x586)](_0x3a18d4=>String(_0x3a18d4[_0x2ec897(0x5cc)])===String(_0x7a94f3[_0x2ec897(0x53b)]))['length']+0x1,_0x755b8a=_0xc493ab?.[_0x2ec897(0x24e)]??Date[_0x2ec897(0x717)](),_0x187120=_0xc493ab?.[_0x2ec897(0xbc)]?_0xc493ab[_0x2ec897(0xe1)]??_0xc493ab[_0x2ec897(0xbc)][_0x2ec897(0x6dd)]():void 0x0,_0x2f895d={'onTime':_0x755b8a,'blockId':_0x7a94f3[_0x2ec897(0x53b)],'order':_0x572bf3,'activatedCount':_0x1c0a37,'error':_0xc493ab?.[_0x2ec897(0xbc)]??!0x1,'messageId':_0xc493ab?.['messageId'],'apiResponse':_0xc493ab?.[_0x2ec897(0x550)],'apiResponseString':_0xc493ab?.[_0x2ec897(0x550)]?JSON['stringify'](_0xc493ab?.[_0x2ec897(0x550)]):void 0x0,'variable':_0xc493ab?.['variable'],'oldValue':_0xc493ab?.['oldValue'],'newValue':_0xc493ab?.[_0x2ec897(0xcd)],'newStoppedUntil':_0xc493ab?.[_0x2ec897(0x77a)],'moreLogs':_0xc493ab?.[_0x2ec897(0x4ba)],'errorLog':_0x187120};if(_0xc493ab[_0x2ec897(0x4ba)]&&_0xc493ab[_0x2ec897(0x4ba)][_0x2ec897(0x479)]>0x0){let _0x150549=_0xc493ab[_0x2ec897(0x4ba)][_0x2ec897(0x3ef)](_0x1eb3db=>this[_0x2ec897(0x95)](_0x1eb3db,_0x40ada0['chatLog'][_0x2ec897(0x4f2)]));_0x2f895d[_0x2ec897(0x4ba)]=_0x150549;}_0x40ada0['chatLog'][_0x2ec897(0x4f2)]||(_0x40ada0[_0x2ec897(0x4e0)][_0x2ec897(0x4f2)]={}),_0x40ada0[_0x2ec897(0x4e0)][_0x2ec897(0x4f2)][_0x2ec897(0xfc)]=String(_0x1c0a37),_0x40ada0['chatLog'][_0x2ec897(0x4f2)][_0x2ec897(0x6d1)]=String(_0xc493ab[_0x2ec897(0xbc)]??!0x1),_0x40ada0[_0x2ec897(0x4e0)][_0x2ec897(0x497)][_0x2ec897(0x474)](_0x2f895d),_0x40ada0[_0x2ec897(0x4e0)][_0x2ec897(0x26e)]=_0x7a94f3['_id'][_0x2ec897(0x6dd)](),_0x40ada0[_0x2ec897(0x4e0)][_0x2ec897(0x1c4)]&&(_0x40ada0[_0x2ec897(0x4e0)][_0x2ec897(0x1c4)]=_0x40ada0[_0x2ec897(0x4e0)][_0x2ec897(0x1c4)]),_0x40ada0['chatLog']['lastReceivedMessage']&&(_0x40ada0[_0x2ec897(0x4e0)][_0x2ec897(0x35f)]=_0x40ada0[_0x2ec897(0x4e0)][_0x2ec897(0x35f)]),_0x40ada0[_0x2ec897(0x4e0)][_0x2ec897(0x271)]&&(_0x40ada0[_0x2ec897(0x4e0)][_0x2ec897(0x271)]=_0x40ada0[_0x2ec897(0x4e0)]['lastCondition']),_0xf025b&&(_0x40ada0[_0x2ec897(0x180)]='closed'),_0x2c6bd1?this[_0x2ec897(0x562)](_0x40ada0):this[_0x2ec897(0x5fd)](_0x40ada0,_0x7a94f3);}[a0_0x28fd55(0x95)](_0x9f28ae,_0x216c49){const _0x316769=a0_0x28fd55;return _0x9f28ae[_0x316769(0x4b8)](/\{\{([^}]+)\}\}/g,(_0x1dbfb1,_0x4553d4)=>_0x216c49[_0x4553d4]?'{{'+_0x4553d4+_0x316769(0x783)+_0x216c49[_0x4553d4]+'\x22':'{{'+_0x4553d4+_0x316769(0x468));}async[a0_0x28fd55(0x562)](_0x18a179){const _0x378da6=a0_0x28fd55;try{let _0x2b49a5=Object[_0x378da6(0x55c)](_0x18a179['chatLog'][_0x378da6(0x4f2)])[_0x378da6(0x3ef)](([_0x46fc44,_0x3dc6a7])=>({'name':_0x46fc44,'value':_0x3dc6a7})),_0x3a97df={'status':_0x18a179['status'],'blocks':_0x18a179['blocks'],'waitingMenu_id':_0x18a179['waitingMenu_id'],'waitingMenu_text':_0x18a179[_0x378da6(0x456)],'waitingMenu_replyOptions':_0x18a179[_0x378da6(0x68d)],'chatLog':{'lastBlockId':_0x18a179[_0x378da6(0x4e0)][_0x378da6(0x26e)],'lastSendMessage':_0x18a179[_0x378da6(0x4e0)][_0x378da6(0x1c4)],'lastReceivedMessage':_0x18a179['chatLog']['lastReceivedMessage'],'lastCondition':_0x18a179[_0x378da6(0x4e0)][_0x378da6(0x271)],'chatVariables':_0x2b49a5,'realVariables':_0x18a179[_0x378da6(0x4e0)][_0x378da6(0x4f2)],'blockLogs':_0x18a179[_0x378da6(0x4e0)][_0x378da6(0x497)]}},_0x54f212=await this[_0x378da6(0xf1)]['flowConversation'][_0x378da6(0x1b5)](_0x18a179['_id'],_0x3a97df,this[_0x378da6(0x219)][_0x378da6(0x415)]);if(_0x54f212){this['logger']['verbose'](this[_0x378da6(0x1e9)]+'\x20('+this[_0x378da6(0x219)][_0x378da6(0x415)]+_0x378da6(0x2bf)+_0x54f212[_0x378da6(0x53b)]);try{let _0x21bfc8=[_0x378da6(0x369),_0x378da6(0x327),_0x378da6(0x152),_0x378da6(0x325),_0x378da6(0x180),'notas','responsavelid',_0x378da6(0x491),_0x378da6(0x750)];if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x378da6(0x44a)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x4afeb1=this[_0x378da6(0x44a)]?.[_0x378da6(0x196)][_0x378da6(0x3ef)](_0x219238=>_0x219238[_0x378da6(0x616)]),_0x19e9d5={};Object[_0x378da6(0x55c)](_0x18a179[_0x378da6(0x4e0)]['realVariables'])['forEach'](([_0x2daa7a,_0x11c620])=>{const _0x3b81b2=_0x378da6;_0x21bfc8[_0x3b81b2(0x4d2)](_0x2daa7a)&&(_0x2daa7a===_0x3b81b2(0x491)&&typeof _0x11c620==_0x3b81b2(0x660)?_0x19e9d5[_0x2daa7a]=_0x11c620['split'](',')['map'](_0x3bb57f=>_0x3bb57f[_0x3b81b2(0x61e)]())['filter'](_0xec9acf=>_0xec9acf!==''):_0x2daa7a===_0x3b81b2(0x750)&&typeof _0x11c620==_0x3b81b2(0x660)?_0x19e9d5[_0x2daa7a]=_0x11c620[_0x3b81b2(0x5c6)](',')[_0x3b81b2(0x3ef)](_0x5839a1=>_0x5839a1[_0x3b81b2(0x61e)]())[_0x3b81b2(0x586)](_0x54e983=>_0x54e983!==''):_0x19e9d5[_0x2daa7a]=_0x11c620);});let _0xa75676=_0x18a179['chatLog'][_0x378da6(0x497)][_0x18a179[_0x378da6(0x4e0)][_0x378da6(0x497)][_0x378da6(0x479)]-0x1];if(_0xa75676){let _0x1a0bc8=_0xa75676[_0x378da6(0x77a)];_0x1a0bc8!==void 0x0&&(_0x19e9d5[_0x378da6(0x37f)]=_0x1a0bc8[_0x378da6(0x6dd)]());}let _0x30af06=_0x2b49a5[_0x378da6(0x586)](_0x21e2a7=>_0x4afeb1[_0x378da6(0x4d2)](_0x21e2a7[_0x378da6(0x616)]));this['logger'][_0x378da6(0x77f)](this['instanceName']+'\x20('+this[_0x378da6(0x219)]['wuid']+_0x378da6(0x2ae)),this[_0x378da6(0x2ca)][_0x378da6(0x77f)](_0x19e9d5),this['logger']['verbose'](this[_0x378da6(0x1e9)]+'\x20('+this[_0x378da6(0x219)][_0x378da6(0x415)]+_0x378da6(0x139)),this[_0x378da6(0x2ca)]['verbose'](_0x30af06);let _0x3ce4dd=_0x30af06['map'](_0x1896f9=>{const _0x1f96d7=_0x378da6;let _0x27f5bd=this['AutomateSystem']?.['customFields'][_0x1f96d7(0x167)](_0x299395=>_0x299395[_0x1f96d7(0x616)]===_0x1896f9['name']);if(!_0x27f5bd)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x1896f9[_0x1f96d7(0x616)]);return{'_id':_0x27f5bd['_id'],'value':_0x1896f9[_0x1f96d7(0x24b)]};});this['logger'][_0x378da6(0x77f)](this['instanceName']+'\x20('+this[_0x378da6(0x219)]['wuid']+_0x378da6(0x70f)),this[_0x378da6(0x2ca)][_0x378da6(0x77f)](_0x3ce4dd),await this['saveChatVariables'](_0x18a179[_0x378da6(0x5dd)],_0x19e9d5,_0x3ce4dd);}catch(_0x3c6118){this[_0x378da6(0x2ca)][_0x378da6(0xbc)](this['instanceName']+'\x20('+this['instance'][_0x378da6(0x415)]+_0x378da6(0x1ff)+(_0x3c6118 instanceof Error?_0x3c6118[_0x378da6(0x559)]:JSON[_0x378da6(0x431)](_0x3c6118,null,0x2)));}}else this[_0x378da6(0x2ca)][_0x378da6(0xbc)](this[_0x378da6(0x1e9)]+'\x20('+this[_0x378da6(0x219)][_0x378da6(0x415)]+_0x378da6(0x12a));}catch(_0x37c62f){this[_0x378da6(0x2ca)][_0x378da6(0xbc)](this[_0x378da6(0x1e9)]+'\x20('+this['instance'][_0x378da6(0x415)]+_0x378da6(0x21d)+(_0x37c62f instanceof Error?_0x37c62f['message']:JSON[_0x378da6(0x431)](_0x37c62f,null,0x2)));}}async[a0_0x28fd55(0x6f6)](_0xc54871,_0x389c1b,_0x28f66a){const _0x55178b=a0_0x28fd55;try{let _0x401884={'leadInfo.leadnome':_0x389c1b[_0x55178b(0x369)],'leadInfo.nomecompleto':_0x389c1b['nomecompleto'],'leadInfo.email':_0x389c1b[_0x55178b(0x152)],'leadInfo.cpf':_0x389c1b[_0x55178b(0x325)],'leadInfo.status':_0x389c1b[_0x55178b(0x180)],'leadInfo.notas':_0x389c1b[_0x55178b(0x358)],'leadInfo.responsavelid':_0x389c1b['responsavelid'],'leadInfo.tags':_0x389c1b[_0x55178b(0x491)],'leadInfo.etiquetas':_0x389c1b[_0x55178b(0x750)],'leadInfo.customFields':_0x28f66a},_0x33590f=await this[_0x55178b(0xf1)]['chat'][_0x55178b(0x267)]({'where':{'_id':_0xc54871}},this['instance'][_0x55178b(0x415)]),_0x441b4e=new Set(_0x33590f[_0x55178b(0x173)]['etiquetas']||[]),_0x22c84f=new Set(_0x389c1b[_0x55178b(0x750)]||[]),_0x1d3a18=await this[_0x55178b(0xf1)][_0x55178b(0x309)][_0x55178b(0x167)]({'where':{}},this[_0x55178b(0x219)][_0x55178b(0x415)]),_0x51e5d=new Set(_0x1d3a18[_0x55178b(0x3ef)](_0x36752b=>_0x36752b[_0x55178b(0x53b)])),_0x505f76=[..._0x22c84f]['filter'](_0x2534e0=>!_0x441b4e[_0x55178b(0x268)](_0x2534e0)&&_0x51e5d[_0x55178b(0x268)](_0x2534e0)),_0x17c9bd=[..._0x441b4e]['filter'](_0x5cd400=>!_0x22c84f['has'](_0x5cd400));for(let _0x47c519 of _0x505f76)await this[_0x55178b(0x4cb)](_0x47c519,_0x33590f[_0x55178b(0x53b)]),_0x441b4e[_0x55178b(0x6c9)](_0x47c519);for(let _0x33dd6a of _0x17c9bd)await this[_0x55178b(0x440)](_0x33dd6a,_0x33590f[_0x55178b(0x53b)]),_0x441b4e[_0x55178b(0x71f)](_0x33dd6a);if('desativadoFluxoAte'in _0x389c1b){let _0x4e85be=_0x389c1b[_0x55178b(0x37f)];_0x401884[_0x55178b(0x1ee)]=_0x4e85be?Number(_0x4e85be):null;}let _0x37e119=await this[_0x55178b(0xf1)][_0x55178b(0x17e)][_0x55178b(0x1b5)]({'where':{'_id':_0xc54871}},_0x401884,this['instance'][_0x55178b(0x415)]);_0x37e119?(this['logger'][_0x55178b(0x77f)](this[_0x55178b(0x1e9)]+'\x20('+this[_0x55178b(0x219)][_0x55178b(0x415)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x37e119[_0x55178b(0x53b)]),J(this[_0x55178b(0x1e9)],_0x55178b(0x77b),{'chat':_0x37e119})):this['logger'][_0x55178b(0xbc)](this[_0x55178b(0x1e9)]+'\x20('+this[_0x55178b(0x219)][_0x55178b(0x415)]+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x51b6c3){this[_0x55178b(0x2ca)][_0x55178b(0xbc)](this[_0x55178b(0x1e9)]+'\x20('+this[_0x55178b(0x219)]['wuid']+_0x55178b(0x378)+(_0x51b6c3 instanceof Error?_0x51b6c3[_0x55178b(0x559)]:JSON[_0x55178b(0x431)](_0x51b6c3,null,0x2)));}}async['updateStopChat'](_0x23c752,_0x8ee9ee){const _0x4ab57e=a0_0x28fd55;this['logger'][_0x4ab57e(0x77f)](this['instanceName']+'\x20('+this[_0x4ab57e(0x219)][_0x4ab57e(0x415)]+'):\x20atualização\x20chat:\x20'+_0x8ee9ee);try{let _0x3698ad=await this['repository'][_0x4ab57e(0x17e)][_0x4ab57e(0x1b5)]({'where':{'_id':_0x23c752[_0x4ab57e(0x5dd)]}},{'leadInfo.desativadoFluxoAte':_0x8ee9ee},this[_0x4ab57e(0x219)]['wuid']);this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4ab57e(0x219)][_0x4ab57e(0x415)]+_0x4ab57e(0x69d)+_0x23c752['_id']),this['logger'][_0x4ab57e(0x77f)](this[_0x4ab57e(0x1e9)]+'\x20('+this[_0x4ab57e(0x219)][_0x4ab57e(0x415)]+'):\x20atualização\x20chat:\x20'+JSON[_0x4ab57e(0x431)](_0x3698ad,null,0x2)),_0x3698ad&&J(this[_0x4ab57e(0x1e9)],'chats',{'chat':_0x3698ad});}catch(_0x53df34){this['logger'][_0x4ab57e(0xbc)](this[_0x4ab57e(0x1e9)]+'\x20('+this[_0x4ab57e(0x219)]['wuid']+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x53df34 instanceof Error?_0x53df34[_0x4ab57e(0x559)]:JSON[_0x4ab57e(0x431)](_0x53df34,null,0x2)));}}async[a0_0x28fd55(0x57b)](_0x1245c0){const _0x55974a=a0_0x28fd55;try{this[_0x55974a(0x2ca)][_0x55974a(0x77f)](this[_0x55974a(0x1e9)]+'\x20('+this[_0x55974a(0x219)]['wuid']+'):\x20Buscando\x20flow...');let _0x4cc15b=_0x1245c0[_0x55974a(0x4b8)](/\D/g,''),_0x1734f9=await this[_0x55974a(0xf1)][_0x55974a(0x364)][_0x55974a(0x267)]({'where':{'testingWith':_0x4cc15b}},this[_0x55974a(0x219)]['wuid']);return _0x1734f9||(this[_0x55974a(0x2ca)]['verbose'](this[_0x55974a(0x1e9)]+'\x20('+this[_0x55974a(0x219)]['wuid']+_0x55974a(0x620)),_0x1734f9=await this['repository'][_0x55974a(0x364)][_0x55974a(0x267)]({'where':{'default':!0x0}},this[_0x55974a(0x219)][_0x55974a(0x415)])),_0x1734f9||(this[_0x55974a(0x2ca)][_0x55974a(0x77f)](this[_0x55974a(0x1e9)]+'\x20('+this[_0x55974a(0x219)]['wuid']+_0x55974a(0x1b9)),null);}catch(_0x109cb7){return this[_0x55974a(0x2ca)][_0x55974a(0xbc)](this[_0x55974a(0x1e9)]+'\x20('+this['instance'][_0x55974a(0x415)]+_0x55974a(0x41b)+(_0x109cb7 instanceof Error?_0x109cb7['message']:JSON[_0x55974a(0x431)](_0x109cb7,null,0x2))),null;}}async[a0_0x28fd55(0x3cd)](_0x3f7ac5,_0x350934){const _0x513869=a0_0x28fd55;try{let _0x3d2d34=!!_0x350934[_0x513869(0x26a)],_0x288a60=_0x350934[_0x513869(0x764)],_0x2a012f=null;if(this[_0x513869(0x2ca)]['verbose'](this[_0x513869(0x1e9)]+'\x20('+this[_0x513869(0x219)]['wuid']+_0x513869(0x1dc)+_0x3d2d34+'\x20quoted:\x20'+_0x288a60),_0x3d2d34){this[_0x513869(0x2ca)]['verbose'](this[_0x513869(0x1e9)]+'\x20('+this[_0x513869(0x219)][_0x513869(0x415)]+_0x513869(0x2cb));let _0x273090={'where':{'remoteJid':_0x3f7ac5,'waitingMenu_id':_0x288a60}};if(_0x2a012f=await this[_0x513869(0xf1)][_0x513869(0x42b)][_0x513869(0x267)](_0x273090,this[_0x513869(0x219)][_0x513869(0x415)]),!_0x2a012f)return this['logger'][_0x513869(0x77f)](this[_0x513869(0x1e9)]+'\x20('+this[_0x513869(0x219)][_0x513869(0x415)]+'):\x20não\x20encontrou'),null;let _0x3a68ca=Date[_0x513869(0x717)](),_0x1ba128=_0x2a012f?.[_0x513869(0x55a)]||0x0,_0x173f7f=_0x3a68ca-_0x1ba128*0x3c*0x3e8;if(_0x2a012f['lastInteraction']<_0x173f7f){this[_0x513869(0x2ca)][_0x513869(0x77f)](this[_0x513869(0x1e9)]+'\x20('+this[_0x513869(0x219)]['wuid']+_0x513869(0x38e));let _0x4e34a8={'number':_0x2a012f[_0x513869(0x5dd)],'options':{'delay':0x0},'textMessage':{'text':_0x2a012f[_0x513869(0x5a8)]}};await this[_0x513869(0x4b6)](_0x4e34a8);let _0xe30dac={'status':_0x513869(0x471),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x513869(0xf1)][_0x513869(0x42b)][_0x513869(0x1b5)](_0x2a012f[_0x513869(0x53b)],_0xe30dac,this[_0x513869(0x219)][_0x513869(0x415)]),null;}return _0x2a012f['lastInteraction']=Date[_0x513869(0x717)](),_0x2a012f['chatLog'][_0x513869(0x35f)]=_0x350934,_0x2a012f;}else{this[_0x513869(0x2ca)][_0x513869(0x77f)](this[_0x513869(0x1e9)]+'\x20('+this[_0x513869(0x219)][_0x513869(0x415)]+_0x513869(0x48e)+this['instance']['wuid']+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x513869(0x2ca)][_0x513869(0x77f)](this[_0x513869(0x1e9)]+'\x20('+this[_0x513869(0x219)][_0x513869(0x415)]+_0x513869(0x3e7));let _0x25e985={'where':{'remoteJid':_0x3f7ac5,'status':_0x513869(0x170)}};if(_0x2a012f=await this[_0x513869(0xf1)][_0x513869(0x42b)][_0x513869(0x267)](_0x25e985,this[_0x513869(0x219)][_0x513869(0x415)]),!_0x2a012f){let _0x31cdc0=await this[_0x513869(0x57b)](_0x3f7ac5);if(_0x31cdc0&&(_0x2a012f=await this[_0x513869(0x5d3)](_0x31cdc0,_0x350934[_0x513869(0x475)],_0x350934)),!_0x2a012f)return null;}let _0x571def=Date[_0x513869(0x717)](),_0x11bf82=_0x2a012f?.[_0x513869(0x55a)]||0x0,_0x227b5d=_0x571def-_0x11bf82*0x3c*0x3e8;if(this['logger'][_0x513869(0x77f)](this[_0x513869(0x1e9)]+'\x20('+this[_0x513869(0x219)][_0x513869(0x415)]+_0x513869(0x270)+_0x571def+_0x513869(0x591)+_0x11bf82+_0x513869(0xbb)+_0x227b5d),this['logger'][_0x513869(0x77f)](this[_0x513869(0x1e9)]+'\x20('+this[_0x513869(0x219)][_0x513869(0x415)]+_0x513869(0xca)),this['logger'][_0x513869(0x77f)](this[_0x513869(0x1e9)]+'\x20('+this[_0x513869(0x219)]['wuid']+'):\x20conversation.lastInteraction:\x20'+_0x2a012f[_0x513869(0x277)]),this[_0x513869(0x2ca)][_0x513869(0x77f)](this[_0x513869(0x1e9)]+'\x20('+this[_0x513869(0x219)]['wuid']+_0x513869(0x710)+_0x227b5d),_0x2a012f[_0x513869(0x277)]<_0x227b5d){this[_0x513869(0x2ca)][_0x513869(0x77f)](this[_0x513869(0x1e9)]+'\x20('+this[_0x513869(0x219)][_0x513869(0x415)]+_0x513869(0x677));let _0xa8a3d4=await this[_0x513869(0x57b)](_0x3f7ac5);if(_0xa8a3d4===null)return null;_0x2a012f&&await this[_0x513869(0xf1)]['flowConversation'][_0x513869(0x1b5)](_0x2a012f['_id'],{'status':_0x513869(0x471)},this[_0x513869(0x219)][_0x513869(0x415)]),_0x2a012f=await this[_0x513869(0x5d3)](_0xa8a3d4,_0x350934[_0x513869(0x475)],_0x350934);}return _0x2a012f[_0x513869(0x277)]=_0x571def,_0x2a012f[_0x513869(0x4e0)][_0x513869(0x35f)]=_0x350934,_0x2a012f;}}catch(_0x8a70ab){return this[_0x513869(0x2ca)][_0x513869(0xbc)](this[_0x513869(0x1e9)]+'\x20('+this[_0x513869(0x219)][_0x513869(0x415)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x8a70ab instanceof Error?_0x8a70ab[_0x513869(0x559)]:JSON[_0x513869(0x431)](_0x8a70ab,null,0x2))),null;}}async['createNewConversation'](_0x86f8e2,_0x10cd65,_0x2bd377){const _0x348936=a0_0x28fd55;this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x348936(0x415)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x1f9252=require(_0x348936(0x511))['ObjectId'],_0xb66d67=Date[_0x348936(0x717)](),_0x3cb17f=_0x348936(0x1ea),_0x2e5a44=_0x10cd65[_0x348936(0x602)]?null:_0x2bd377,_0xf82f4a=_0x10cd65['fromMe']?_0x2bd377:null,_0x2ed9ba=_0x10cd65[_0x348936(0x5dd)];await this['closeExistingConversations'](_0x2ed9ba);let _0x49ace4={..._0x86f8e2,'chatLog':null},_0x28f90d=await this[_0x348936(0x126)](_0x49ace4[_0x348936(0x112)]),_0x14923e=await this['getVariablesChat'](_0x2ed9ba),_0x1e8f38={..._0x28f90d,..._0x14923e,'_remoteJid':_0x2ed9ba},_0x5c5d39={'lastReceivedMessage':_0x2e5a44,'lastSendMessage':_0xf82f4a,'lastBlockId':_0x3cb17f,'lastCondition':!0x0,'realVariables':_0x1e8f38};_0x49ace4[_0x348936(0x4e0)]=_0x5c5d39,delete _0x49ace4[_0x348936(0x53b)],_0x49ace4[_0x348936(0x53b)]=new _0x1f9252(),_0x49ace4['lastInteraction']=_0xb66d67,_0x49ace4[_0x348936(0x180)]='open',_0x49ace4[_0x348936(0x5dd)]=_0x2ed9ba;let _0x1f2d44=await this[_0x348936(0xf1)]['flowConversation'][_0x348936(0x1b5)](_0x49ace4[_0x348936(0x53b)],_0x49ace4,this[_0x348936(0x219)][_0x348936(0x415)]);return this['logger'][_0x348936(0x77f)](this['instanceName']+'\x20('+this['instance'][_0x348936(0x415)]+_0x348936(0x266)),_0x1f2d44?_0x49ace4:null;}catch(_0x1e1b31){return this[_0x348936(0x2ca)]['error'](this[_0x348936(0x1e9)]+'\x20('+this[_0x348936(0x219)][_0x348936(0x415)]+_0x348936(0xb8)+(_0x1e1b31 instanceof Error?_0x1e1b31['message']:JSON[_0x348936(0x431)](_0x1e1b31,null,0x2))),_0x1e1b31;}}async[a0_0x28fd55(0x144)](_0x26787d,_0x4f2115){const _0x543cf2=a0_0x28fd55;let _0x5aad44=_0x26787d[_0x543cf2(0x5dd)];_0x4f2115[_0x543cf2(0xc0)]['remoteJid']&&_0x4f2115['uazapi']['remoteJid']['trim']()!==''&&(_0x5aad44=_0x4f2115[_0x543cf2(0xc0)]['remoteJid'][_0x543cf2(0x61e)]()),this[_0x543cf2(0x2ca)][_0x543cf2(0x77f)](this['instanceName']+'\x20('+this[_0x543cf2(0x219)][_0x543cf2(0x415)]+_0x543cf2(0x6e8));let _0x5a3d39={'number':_0x5aad44,'options':{'delay':_0x4f2115['uazapi'][_0x543cf2(0x3cb)],'linkPreview':_0x4f2115[_0x543cf2(0xc0)][_0x543cf2(0x361)]},'textMessage':{'text':_0x4f2115[_0x543cf2(0xc0)]['text']}};try{let _0xdd2463=await this[_0x543cf2(0x4b6)](_0x5a3d39);if(_0xdd2463){let _0x3d88f5={'_id':_0xdd2463[_0x543cf2(0x475)]['id'],'_fromMe':_0xdd2463['key']['fromMe'],'_remoteJid':_0xdd2463[_0x543cf2(0x475)][_0x543cf2(0x5dd)]},_0x9110ec=(0x0,f['normalizeMessageContent'])(_0xdd2463['message']),_0x1ab0f8=(0x0,f['getContentType'])(_0x9110ec);_0x26787d[_0x543cf2(0x4e0)][_0x543cf2(0x26e)]=_0x4f2115[_0x543cf2(0x53b)][_0x543cf2(0x6dd)]();let {message_normalized:_0x50213c}=this['normalizeMessage'](_0x9110ec,_0x1ab0f8,null);_0x26787d['chatLog'][_0x543cf2(0x1c4)]=await _0x50213c;let _0x33f1d4={'messageId':_0xdd2463[_0x543cf2(0x475)]['id']},_0x867c89=_0x26787d[_0x543cf2(0x4e0)]['realVariables'];Object['assign'](_0x867c89,_0x3d88f5),_0x26787d['chatLog'][_0x543cf2(0x4f2)]=_0x867c89,this[_0x543cf2(0x319)](_0x26787d,_0x4f2115,_0x33f1d4);}else{let _0x7bb6ff={'error':!0x0};this[_0x543cf2(0x319)](_0x26787d,_0x4f2115,_0x7bb6ff),this[_0x543cf2(0x2ca)][_0x543cf2(0xbc)](this['instanceName']+'\x20('+this[_0x543cf2(0x219)][_0x543cf2(0x415)]+_0x543cf2(0x65b));}}catch(_0x14b637){let _0x4ec65b={'error':!0x0,'errorLog':_0x14b637[_0x543cf2(0x6dd)]()};this[_0x543cf2(0x319)](_0x26787d,_0x4f2115,_0x4ec65b),this[_0x543cf2(0x2ca)]['error'](this[_0x543cf2(0x1e9)]+'\x20('+this[_0x543cf2(0x219)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x14b637 instanceof Error?_0x14b637[_0x543cf2(0x559)]:JSON['stringify'](_0x14b637,null,0x2)));}}async[a0_0x28fd55(0x4b2)](_0x3c0b2c,_0x59b80e){const _0x3d2780=a0_0x28fd55;let _0x7cab16=_0x3c0b2c['remoteJid'];_0x59b80e[_0x3d2780(0xc0)][_0x3d2780(0x5dd)]&&_0x59b80e['uazapi'][_0x3d2780(0x5dd)]['trim']()!==''&&(_0x7cab16=_0x59b80e[_0x3d2780(0xc0)][_0x3d2780(0x5dd)][_0x3d2780(0x61e)]()),this[_0x3d2780(0x2ca)][_0x3d2780(0x77f)](this[_0x3d2780(0x1e9)]+'\x20('+this[_0x3d2780(0x219)][_0x3d2780(0x415)]+_0x3d2780(0x743));let _0x45d856={'number':_0x7cab16,'options':{'delay':_0x59b80e[_0x3d2780(0xc0)][_0x3d2780(0x3cb)],'linkPreview':_0x59b80e[_0x3d2780(0xc0)][_0x3d2780(0x361)]},'mediaMessage':{'mediatype':_0x59b80e[_0x3d2780(0xc0)]['mediatype'],'caption':_0x59b80e['uazapi']['caption'],'media':_0x59b80e['uazapi'][_0x3d2780(0x5f7)],'fileName':_0x59b80e[_0x3d2780(0xc0)][_0x3d2780(0x6d2)]}};try{let _0x33e705=await this[_0x3d2780(0x4a1)](_0x45d856);if(_0x33e705){let _0xc9b332={'_id':_0x33e705['key']['id'],'_fromMe':_0x33e705[_0x3d2780(0x475)][_0x3d2780(0x602)],'_remoteJid':_0x33e705[_0x3d2780(0x475)]['remoteJid']},_0x16b979=(0x0,f[_0x3d2780(0x3ed)])(_0x33e705['message']),_0x5ed926=(0x0,f['getContentType'])(_0x16b979);_0x3c0b2c[_0x3d2780(0x4e0)][_0x3d2780(0x26e)]=_0x59b80e[_0x3d2780(0x53b)]['toString']();let {message_normalized:_0x3647e6}=this['normalizeMessage'](_0x16b979,_0x5ed926,null);_0x3c0b2c['chatLog'][_0x3d2780(0x1c4)]=await _0x3647e6;let _0x1949bb={'messageId':_0x33e705['key']['id']},_0xd9b34d=_0x3c0b2c[_0x3d2780(0x4e0)]['realVariables'];Object[_0x3d2780(0x5ae)](_0xd9b34d,_0xc9b332),_0x3c0b2c[_0x3d2780(0x4e0)][_0x3d2780(0x4f2)]=_0xd9b34d,this[_0x3d2780(0x319)](_0x3c0b2c,_0x59b80e,_0x1949bb);}else{let _0x6ad662={'error':!0x0};this['updateConversation'](_0x3c0b2c,_0x59b80e,_0x6ad662),this[_0x3d2780(0x2ca)]['error'](this[_0x3d2780(0x1e9)]+'\x20('+this['instance']['wuid']+_0x3d2780(0x4dd));}}catch(_0x31adea){let _0x564c70={'error':!0x0,'errorLog':_0x31adea[_0x3d2780(0x6dd)]()};this[_0x3d2780(0x319)](_0x3c0b2c,_0x59b80e,_0x564c70),this[_0x3d2780(0x2ca)][_0x3d2780(0xbc)](this[_0x3d2780(0x1e9)]+'\x20('+this['instance'][_0x3d2780(0x415)]+_0x3d2780(0x5c8)+(_0x31adea instanceof Error?_0x31adea['message']:JSON[_0x3d2780(0x431)](_0x31adea,null,0x2)));}}async[a0_0x28fd55(0x209)](_0x365de9,_0x4943c1){const _0x468142=a0_0x28fd55;let _0x545655=_0x365de9[_0x468142(0x5dd)];_0x4943c1[_0x468142(0xc0)]['remoteJid']&&_0x4943c1[_0x468142(0xc0)]['remoteJid']['trim']()!==''&&(_0x545655=_0x4943c1[_0x468142(0xc0)][_0x468142(0x5dd)][_0x468142(0x61e)]()),this[_0x468142(0x2ca)]['verbose'](this['instanceName']+'\x20('+this[_0x468142(0x219)]['wuid']+_0x468142(0x453));let _0x119511={'number':_0x545655,'options':{'delay':_0x4943c1[_0x468142(0xc0)][_0x468142(0x3cb)]},'locationMessage':{'name':_0x4943c1['uazapi'][_0x468142(0x616)],'address':_0x4943c1[_0x468142(0xc0)][_0x468142(0x606)],'latitude':_0x4943c1[_0x468142(0xc0)][_0x468142(0x4b9)],'longitude':_0x4943c1[_0x468142(0xc0)][_0x468142(0x172)]}};try{let _0x5077fe=await this[_0x468142(0x363)](_0x119511);if(_0x5077fe){let _0x3cf8ba={'_id':_0x5077fe[_0x468142(0x475)]['id'],'_fromMe':_0x5077fe[_0x468142(0x475)]['fromMe'],'_remoteJid':_0x5077fe[_0x468142(0x475)][_0x468142(0x5dd)]},_0x145b52=(0x0,f[_0x468142(0x3ed)])(_0x5077fe[_0x468142(0x559)]),_0x134782=(0x0,f['getContentType'])(_0x145b52);_0x365de9[_0x468142(0x4e0)][_0x468142(0x26e)]=_0x4943c1[_0x468142(0x53b)][_0x468142(0x6dd)]();let {message_normalized:_0xd6d502}=this['normalizeMessage'](_0x145b52,_0x134782,null);_0x365de9[_0x468142(0x4e0)]['lastSendMessage']=await _0xd6d502;let _0x2e0b0c={'messageId':_0x5077fe[_0x468142(0x475)]['id']},_0x11dfe2=_0x365de9[_0x468142(0x4e0)]['realVariables'];Object['assign'](_0x11dfe2,_0x3cf8ba),_0x365de9['chatLog'][_0x468142(0x4f2)]=_0x11dfe2,this[_0x468142(0x319)](_0x365de9,_0x4943c1,_0x2e0b0c);}else{let _0x28d58f={'error':!0x0};this[_0x468142(0x319)](_0x365de9,_0x4943c1,_0x28d58f),this[_0x468142(0x2ca)][_0x468142(0xbc)](this[_0x468142(0x1e9)]+'\x20('+this[_0x468142(0x219)][_0x468142(0x415)]+_0x468142(0x76d));}}catch(_0x481cae){let _0x13a0a9={'error':!0x0,'errorLog':_0x481cae[_0x468142(0x6dd)]()};this[_0x468142(0x319)](_0x365de9,_0x4943c1,_0x13a0a9),this['logger'][_0x468142(0xbc)](this['instanceName']+'\x20('+this['instance'][_0x468142(0x415)]+_0x468142(0x3a2)+(_0x481cae instanceof Error?_0x481cae[_0x468142(0x559)]:JSON[_0x468142(0x431)](_0x481cae,null,0x2)));}}async['uazapiSendAudio'](_0x55a191,_0x3d821e){const _0x237111=a0_0x28fd55;let _0x23a4db=_0x55a191['remoteJid'];_0x3d821e[_0x237111(0xc0)][_0x237111(0x5dd)]&&_0x3d821e[_0x237111(0xc0)][_0x237111(0x5dd)][_0x237111(0x61e)]()!==''&&(_0x23a4db=_0x3d821e[_0x237111(0xc0)][_0x237111(0x5dd)]['trim']()),this[_0x237111(0x2ca)][_0x237111(0x77f)](this[_0x237111(0x1e9)]+'\x20('+this['instance'][_0x237111(0x415)]+_0x237111(0x214));let _0xd51307={'number':_0x23a4db,'options':{'delay':_0x3d821e[_0x237111(0xc0)]['delay']},'audioMessage':{'audio':_0x3d821e[_0x237111(0xc0)][_0x237111(0x6c8)]}};try{let _0x4bd63a=await this[_0x237111(0x438)](_0xd51307);if(_0x4bd63a){let _0x1e5bbf={'_id':_0x4bd63a[_0x237111(0x475)]['id'],'_fromMe':_0x4bd63a[_0x237111(0x475)][_0x237111(0x602)],'_remoteJid':_0x4bd63a['key']['remoteJid']},_0x2d6eda=(0x0,f['normalizeMessageContent'])(_0x4bd63a[_0x237111(0x559)]),_0x48acfc=(0x0,f[_0x237111(0x59d)])(_0x2d6eda);_0x55a191[_0x237111(0x4e0)][_0x237111(0x26e)]=_0x3d821e[_0x237111(0x53b)][_0x237111(0x6dd)]();let {message_normalized:_0x40c85b}=this[_0x237111(0x3c9)](_0x2d6eda,_0x48acfc,null);_0x55a191[_0x237111(0x4e0)][_0x237111(0x1c4)]=await _0x40c85b;let _0x5108df={'messageId':_0x4bd63a[_0x237111(0x475)]['id']},_0x579100=_0x55a191[_0x237111(0x4e0)][_0x237111(0x4f2)];Object[_0x237111(0x5ae)](_0x579100,_0x1e5bbf),_0x55a191[_0x237111(0x4e0)][_0x237111(0x4f2)]=_0x579100,this[_0x237111(0x319)](_0x55a191,_0x3d821e,_0x5108df);}else{let _0x122b60={'error':!0x0};this[_0x237111(0x319)](_0x55a191,_0x3d821e,_0x122b60),this[_0x237111(0x2ca)]['error'](this[_0x237111(0x1e9)]+'\x20('+this[_0x237111(0x219)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x379a91){let _0x17cb2e={'error':!0x0,'errorLog':_0x379a91[_0x237111(0x6dd)]()};this['updateConversation'](_0x55a191,_0x3d821e,_0x17cb2e),this['logger'][_0x237111(0xbc)](this[_0x237111(0x1e9)]+'\x20('+this[_0x237111(0x219)][_0x237111(0x415)]+_0x237111(0x49c)+(_0x379a91 instanceof Error?_0x379a91[_0x237111(0x559)]:JSON[_0x237111(0x431)](_0x379a91,null,0x2)));}}async[a0_0x28fd55(0x117)](_0x235795,_0x65d408){const _0x447894=a0_0x28fd55;let _0x271120=_0x235795[_0x447894(0x5dd)];_0x65d408[_0x447894(0xc0)]['remoteJid']&&_0x65d408[_0x447894(0xc0)]['remoteJid'][_0x447894(0x61e)]()!==''&&(_0x271120=_0x65d408['uazapi']['remoteJid']['trim']()),this[_0x447894(0x2ca)][_0x447894(0x77f)](this['instanceName']+'\x20('+this[_0x447894(0x219)][_0x447894(0x415)]+_0x447894(0x5b9));let _0xe5d0c1={'number':_0x271120,'options':{'delay':_0x65d408['uazapi'][_0x447894(0x3cb)]},'contactMessage':[{'fullName':_0x65d408[_0x447894(0xc0)][_0x447894(0x42d)],'phoneNumber':_0x65d408[_0x447894(0xc0)][_0x447894(0x147)]}]};try{let _0x2b045e=await this[_0x447894(0x188)](_0xe5d0c1);if(_0x2b045e){let _0x1b3938={'_id':_0x2b045e['key']['id'],'_fromMe':_0x2b045e[_0x447894(0x475)][_0x447894(0x602)],'_remoteJid':_0x2b045e[_0x447894(0x475)][_0x447894(0x5dd)]},_0x54b051=(0x0,f[_0x447894(0x3ed)])(_0x2b045e[_0x447894(0x559)]),_0x56c1ea=(0x0,f[_0x447894(0x59d)])(_0x54b051);_0x235795[_0x447894(0x4e0)][_0x447894(0x26e)]=_0x65d408[_0x447894(0x53b)]['toString']();let {message_normalized:_0x4940fb}=this[_0x447894(0x3c9)](_0x54b051,_0x56c1ea,null);_0x235795['chatLog']['lastSendMessage']=await _0x4940fb;let _0x4951e8={'messageId':_0x2b045e[_0x447894(0x475)]['id']},_0x12f97b=_0x235795[_0x447894(0x4e0)][_0x447894(0x4f2)];Object[_0x447894(0x5ae)](_0x12f97b,_0x1b3938),_0x235795[_0x447894(0x4e0)][_0x447894(0x4f2)]=_0x12f97b,this[_0x447894(0x319)](_0x235795,_0x65d408,_0x4951e8);}else{let _0x491385={'error':!0x0};this[_0x447894(0x319)](_0x235795,_0x65d408,_0x491385),this['logger'][_0x447894(0xbc)](this[_0x447894(0x1e9)]+'\x20('+this[_0x447894(0x219)][_0x447894(0x415)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x5de461){let _0x5e34ab={'error':!0x0,'errorLog':_0x5de461['toString']()};this[_0x447894(0x319)](_0x235795,_0x65d408,_0x5e34ab),this[_0x447894(0x2ca)][_0x447894(0xbc)](this['instanceName']+'\x20('+this[_0x447894(0x219)][_0x447894(0x415)]+_0x447894(0x124)+(_0x5de461 instanceof Error?_0x5de461[_0x447894(0x559)]:JSON[_0x447894(0x431)](_0x5de461,null,0x2)));}}[a0_0x28fd55(0x50f)](_0x41644e,_0x4ad4c1){const _0x2f5431=a0_0x28fd55;for(let _0x507083 of _0x41644e)_0x507083[_0x2f5431(0x27c)]&&(_0x507083[_0x2f5431(0x27c)]=this[_0x2f5431(0x9c)](_0x507083[_0x2f5431(0x27c)],_0x4ad4c1)),_0x507083[_0x2f5431(0xd4)]&&(_0x507083[_0x2f5431(0xd4)]=this[_0x2f5431(0x9c)](_0x507083[_0x2f5431(0xd4)],_0x4ad4c1));}async[a0_0x28fd55(0x177)](_0x392822,_0x550c02){const _0x546d00=a0_0x28fd55;let _0x1e268e=_0x392822[_0x546d00(0x5dd)];_0x550c02[_0x546d00(0xc0)][_0x546d00(0x5dd)]&&_0x550c02[_0x546d00(0xc0)][_0x546d00(0x5dd)][_0x546d00(0x61e)]()!==''&&(_0x1e268e=_0x550c02['uazapi'][_0x546d00(0x5dd)][_0x546d00(0x61e)]()),this[_0x546d00(0x2ca)][_0x546d00(0x77f)](this[_0x546d00(0x1e9)]+'\x20('+this['instance'][_0x546d00(0x415)]+'):\x20Enviando\x20enquete');let _0x1fb00c=_0x392822[_0x546d00(0x22c)]['filter'](_0x3d4c60=>_0x3d4c60[_0x546d00(0x5cc)]===_0x550c02[_0x546d00(0x53b)])[_0x546d00(0x62a)]((_0x36aa2a,_0x2e1944)=>_0x36aa2a[_0x546d00(0x67b)]-_0x2e1944[_0x546d00(0x67b)]);this[_0x546d00(0x50f)](_0x1fb00c,_0x392822[_0x546d00(0x4e0)][_0x546d00(0x4f2)]);let _0x41a609=_0x1fb00c['map'](_0x354abb=>_0x354abb[_0x546d00(0x27c)]),_0x2ad17a={'number':_0x1e268e,'menuMessage':{'type':_0x550c02[_0x546d00(0xc0)]['menuType']||'poll','text':_0x550c02[_0x546d00(0xc0)][_0x546d00(0xdd)]||_0x550c02[_0x546d00(0xc0)]['name'],'footerText':_0x550c02[_0x546d00(0xc0)][_0x546d00(0x76f)],'buttonText':_0x550c02[_0x546d00(0xc0)][_0x546d00(0x451)],'selectableCount':0x1,'choices':_0x41a609},'options':{'delay':_0x550c02[_0x546d00(0xc0)][_0x546d00(0x3cb)]}};try{let _0x485645=await this[_0x546d00(0x588)](_0x2ad17a);if(_0x485645){let _0xb75c5a={'_id':_0x485645['key']['id'],'_fromMe':_0x485645['key']['fromMe'],'_remoteJid':_0x485645[_0x546d00(0x475)][_0x546d00(0x5dd)]};_0x550c02[_0x546d00(0xc0)]['menuIgnoreNonVotes']===!0x0&&(_0x392822[_0x546d00(0x180)]=_0x546d00(0x60d),this[_0x546d00(0x2ca)][_0x546d00(0x77f)](this[_0x546d00(0x1e9)]+'\x20('+this[_0x546d00(0x219)][_0x546d00(0x415)]+_0x546d00(0x482)+_0x392822[_0x546d00(0x180)])),this['logger'][_0x546d00(0x77f)](this['instanceName']+'\x20('+this[_0x546d00(0x219)][_0x546d00(0x415)]+_0x546d00(0x53f)+(_0x550c02[_0x546d00(0xc0)]['name']||_0x550c02[_0x546d00(0xc0)][_0x546d00(0xdd)])),_0x392822[_0x546d00(0x320)]=_0x485645[_0x546d00(0x475)]['id'],_0x392822[_0x546d00(0x456)]=_0x550c02[_0x546d00(0xc0)][_0x546d00(0x616)]||_0x550c02['uazapi'][_0x546d00(0xdd)],_0x392822['waitingMenu_replyOptions']=_0x1fb00c,_0x550c02[_0x546d00(0xc0)][_0x546d00(0x52f)]&&(_0x392822[_0x546d00(0x5a8)]=_0x550c02['uazapi'][_0x546d00(0x52f)]),this['logger']['verbose'](this[_0x546d00(0x1e9)]+'\x20('+this[_0x546d00(0x219)][_0x546d00(0x415)]+_0x546d00(0x3d8)+_0x392822[_0x546d00(0x456)]);let _0x345ab6=(0x0,f[_0x546d00(0x3ed)])(_0x485645[_0x546d00(0x559)]),_0x1ed51d=(0x0,f[_0x546d00(0x59d)])(_0x345ab6);_0x392822[_0x546d00(0x4e0)]['lastBlockId']=_0x550c02[_0x546d00(0x53b)][_0x546d00(0x6dd)]();let {message_normalized:_0x2ec450}=this[_0x546d00(0x3c9)](_0x345ab6,_0x1ed51d,null);_0x392822['chatLog'][_0x546d00(0x1c4)]=await _0x2ec450;let _0x441f1b={'messageId':_0x485645[_0x546d00(0x475)]['id']},_0x3f8183=_0x392822[_0x546d00(0x4e0)]['realVariables'];Object['assign'](_0x3f8183,_0xb75c5a),_0x392822['chatLog'][_0x546d00(0x4f2)]=_0x3f8183,this[_0x546d00(0x319)](_0x392822,_0x550c02,_0x441f1b);}else{let _0x3b28c2={'error':!0x0};this[_0x546d00(0x319)](_0x392822,_0x550c02,_0x3b28c2),this[_0x546d00(0x2ca)][_0x546d00(0xbc)](this[_0x546d00(0x1e9)]+'\x20('+this[_0x546d00(0x219)][_0x546d00(0x415)]+_0x546d00(0x194));}}catch(_0x7ed0b7){let _0x27b2a2={'error':!0x0,'errorLog':_0x7ed0b7 instanceof Error?_0x7ed0b7['message']:JSON[_0x546d00(0x431)](_0x7ed0b7,null,0x2)};this[_0x546d00(0x319)](_0x392822,_0x550c02,_0x27b2a2),this[_0x546d00(0x2ca)][_0x546d00(0xbc)](this['instanceName']+'\x20('+this[_0x546d00(0x219)]['wuid']+_0x546d00(0x283)+(_0x7ed0b7 instanceof Error?_0x7ed0b7[_0x546d00(0x559)]:JSON[_0x546d00(0x431)](_0x7ed0b7,null,0x2)));}}async[a0_0x28fd55(0x727)](_0x10ab1a,_0x3eb943){const _0x491f40=a0_0x28fd55;this['logger'][_0x491f40(0x77f)](this[_0x491f40(0x1e9)]+'\x20('+this[_0x491f40(0x219)][_0x491f40(0x415)]+_0x491f40(0x3f7));let _0x5b1d8d=_0x10ab1a['chatLog']['blockLogs']['find'](_0x535aac=>_0x535aac[_0x491f40(0x5cc)][_0x491f40(0x6dd)]()===_0x3eb943['uazapi']['blockId']['toString']()),_0x2bd43f={'id':_0x5b1d8d[_0x491f40(0x6e2)],'remoteJid':_0x5b1d8d[_0x491f40(0x5dd)],'fromMe':_0x5b1d8d['fromMe']};try{let _0x29e72d=await this[_0x491f40(0x3b6)](_0x2bd43f);if(_0x29e72d){let _0x406bec=(0x0,f['normalizeMessageContent'])(_0x29e72d[_0x491f40(0x559)]),_0x3c6ede=(0x0,f[_0x491f40(0x59d)])(_0x406bec);_0x10ab1a[_0x491f40(0x4e0)][_0x491f40(0x26e)]=_0x3eb943[_0x491f40(0x53b)][_0x491f40(0x6dd)]();let {message_normalized:_0x403a25}=this[_0x491f40(0x3c9)](_0x406bec,_0x3c6ede,null);_0x10ab1a[_0x491f40(0x4e0)][_0x491f40(0x1c4)]=await _0x403a25;let _0x3bcf20={};this['updateConversation'](_0x10ab1a,_0x3eb943,_0x3bcf20);}else{let _0x29ece6={'error':!0x0};this[_0x491f40(0x319)](_0x10ab1a,_0x3eb943,_0x29ece6),this[_0x491f40(0x2ca)][_0x491f40(0xbc)](this['instanceName']+'\x20('+this[_0x491f40(0x219)][_0x491f40(0x415)]+_0x491f40(0x6f2));}}catch(_0xb55319){let _0x680199={'error':!0x0,'errorLog':_0xb55319 instanceof Error?_0xb55319[_0x491f40(0x559)]:JSON[_0x491f40(0x431)](_0xb55319,null,0x2)};this['updateConversation'](_0x10ab1a,_0x3eb943,_0x680199),this[_0x491f40(0x2ca)][_0x491f40(0xbc)](this[_0x491f40(0x1e9)]+'\x20('+this[_0x491f40(0x219)][_0x491f40(0x415)]+_0x491f40(0x6b8)+(_0xb55319 instanceof Error?_0xb55319['message']:JSON['stringify'](_0xb55319,null,0x2)));}}async[a0_0x28fd55(0x20d)](_0x5f3cdf){const _0x4e2692=a0_0x28fd55;if(!_0x5f3cdf[_0x4e2692(0x616)])throw new m(_0x4e2692(0x4c2));if(await this['repository'][_0x4e2692(0x364)][_0x4e2692(0x267)]({'where':{'name':_0x5f3cdf[_0x4e2692(0x616)]}},this[_0x4e2692(0x219)]['wuid']))throw new m(_0x4e2692(0x2c0));return _0x4e2692(0x616)in _0x5f3cdf&&_0x4e2692(0x4ee)in _0x5f3cdf&&_0x4e2692(0x178)in _0x5f3cdf&&Object[_0x4e2692(0x14d)](_0x5f3cdf)[_0x4e2692(0x479)]===0x3?this['createSharedFlow'](_0x5f3cdf[_0x4e2692(0x178)],_0x5f3cdf[_0x4e2692(0x4ee)],_0x5f3cdf[_0x4e2692(0x616)]):this[_0x4e2692(0x21f)](_0x5f3cdf);}async[a0_0x28fd55(0x74e)](_0x335e9e,_0x309894,_0x592a76){const _0x20070d=a0_0x28fd55;try{this[_0x20070d(0x2ca)][_0x20070d(0x77f)](this['instanceName']+'\x20('+this[_0x20070d(0x219)][_0x20070d(0x415)]+_0x20070d(0x56f));let _0x19f9e8=await this[_0x20070d(0xf1)][_0x20070d(0x364)][_0x20070d(0x267)]({'where':{'name':_0x592a76,'sharePass':_0x309894}},_0x335e9e);if(!_0x19f9e8)throw new m(_0x20070d(0x3ac));let _0x2c675d={..._0x19f9e8};return _0x2c675d[_0x20070d(0x178)]=this[_0x20070d(0x219)][_0x20070d(0x415)],_0x2c675d['shareOwners']=Array['from'](new Set([..._0x19f9e8[_0x20070d(0x556)]||[],_0x19f9e8[_0x20070d(0x178)],this[_0x20070d(0x219)]['wuid']])),_0x19f9e8['shareOwners']=_0x2c675d['shareOwners'],await this['repository'][_0x20070d(0x364)][_0x20070d(0x1b5)](_0x19f9e8[_0x20070d(0x53b)],{'shareOwners':_0x19f9e8[_0x20070d(0x556)]},_0x19f9e8['owner']),_0x19f9e8[_0x20070d(0x446)]===!0x0&&await this[_0x20070d(0xf1)]['flow']['updateMany']({},{'default':!0x1},this[_0x20070d(0x219)][_0x20070d(0x415)]),await this[_0x20070d(0xf1)]['flow'][_0x20070d(0x5ce)](_0x2c675d,this['instance'][_0x20070d(0x415)]);}catch(_0x6e1739){let _0x569333=_0x20070d(0x374),_0x57132e=_0x6e1739 instanceof Error?_0x6e1739[_0x20070d(0x559)]:typeof _0x6e1739==_0x20070d(0x661)?JSON['stringify'](_0x6e1739):_0x6e1739,_0xe7156a=_0x569333+':\x20'+_0x57132e;throw this[_0x20070d(0x2ca)]['error'](this[_0x20070d(0x1e9)]+'\x20('+this[_0x20070d(0x219)][_0x20070d(0x415)]+_0x20070d(0x48e)+_0xe7156a),new m(_0xe7156a);}}async[a0_0x28fd55(0x21f)](_0xcb6f8d){const _0x32a503=a0_0x28fd55;try{this[_0x32a503(0x2ca)][_0x32a503(0x77f)](this[_0x32a503(0x1e9)]+'\x20('+this[_0x32a503(0x219)]['wuid']+'):\x20Criando\x20fluxo\x20regular...'),delete _0xcb6f8d[_0x32a503(0x556)],delete _0xcb6f8d['sharePass'],delete _0xcb6f8d[_0x32a503(0x178)],_0xcb6f8d[_0x32a503(0x446)]===!0x0&&await this['repository']['flow'][_0x32a503(0x40d)]({},{'default':!0x1},this[_0x32a503(0x219)]['wuid']);let _0x4b0cda=new re['Types']['ObjectId'](),_0x2568c9={'_id':_0x4b0cda,'default':!0x0,'title':_0x32a503(0x3e0),'x':0x0,'y':0x0},_0x1e0b60={'_id':new re[(_0x32a503(0xb1))][(_0x32a503(0x725))](),'order':0x1,'groupId':_0x4b0cda[_0x32a503(0x6dd)](),'type':_0x32a503(0x1ea)},_0x435bf2={'_id':new re[(_0x32a503(0xb1))][(_0x32a503(0x725))](),'owner':this[_0x32a503(0x219)][_0x32a503(0x415)],'name':_0xcb6f8d['name'],'groups':[_0x2568c9],'blocks':[_0x1e0b60],..._0xcb6f8d};return await this[_0x32a503(0xf1)][_0x32a503(0x364)][_0x32a503(0x5ce)](_0x435bf2,this[_0x32a503(0x219)][_0x32a503(0x415)]);}catch(_0x331ea0){let _0x27d44a='Erro\x20ao\x20criar\x20fluxo\x20regular',_0x4bbc85=_0x331ea0 instanceof Error?_0x331ea0[_0x32a503(0x559)]:typeof _0x331ea0==_0x32a503(0x661)?JSON[_0x32a503(0x431)](_0x331ea0):_0x331ea0,_0x16e2c6=_0x27d44a+':\x20'+_0x4bbc85;throw this[_0x32a503(0x2ca)]['error'](this[_0x32a503(0x1e9)]+'\x20('+this[_0x32a503(0x219)][_0x32a503(0x415)]+_0x32a503(0x48e)+_0x16e2c6),new m(_0x16e2c6);}}async[a0_0x28fd55(0x5f8)](_0x1facaf,_0x4d832c){const _0x3ce355=a0_0x28fd55;try{let _0x34eb50=await this[_0x3ce355(0xf1)][_0x3ce355(0x364)][_0x3ce355(0x267)]({'where':{'_id':_0x1facaf}},_0x4d832c);if(_0x34eb50&&_0x34eb50[_0x3ce355(0x556)]){for(let _0xdc42fe of _0x34eb50[_0x3ce355(0x556)])if(_0xdc42fe!==_0x4d832c){let _0x39eb3e={..._0x34eb50,'owner':_0xdc42fe};await this[_0x3ce355(0xf1)][_0x3ce355(0x364)][_0x3ce355(0x66e)](_0x1facaf,_0x39eb3e,_0xdc42fe);}}}catch(_0x3ac5bc){this['logger'][_0x3ce355(0xbc)](_0x3ce355(0x55b)+_0x3ac5bc);}}async['deleteFlow'](_0x1ef088){const _0x1840e5=a0_0x28fd55;try{this[_0x1840e5(0x2ca)][_0x1840e5(0x77f)](this[_0x1840e5(0x1e9)]+'\x20('+this[_0x1840e5(0x219)][_0x1840e5(0x415)]+'):\x20Deletando\x20fluxo...');let _0x8a45cd=await this[_0x1840e5(0xf1)][_0x1840e5(0x364)][_0x1840e5(0x267)]({'where':{'name':_0x1ef088}},this[_0x1840e5(0x219)][_0x1840e5(0x415)]);if(_0x8a45cd&&_0x8a45cd[_0x1840e5(0x556)]&&_0x8a45cd[_0x1840e5(0x556)][_0x1840e5(0x479)]>0x1){for(let _0x30e94d of _0x8a45cd[_0x1840e5(0x556)])if(_0x30e94d!==this[_0x1840e5(0x219)][_0x1840e5(0x415)]){let _0x370571=await this[_0x1840e5(0xf1)][_0x1840e5(0x364)][_0x1840e5(0x267)]({'where':{'sharePass':_0x8a45cd[_0x1840e5(0x4ee)]}},_0x30e94d);_0x370571&&(_0x370571['shareOwners']=_0x370571[_0x1840e5(0x556)][_0x1840e5(0x586)](_0x378ffe=>_0x378ffe!==_0x8a45cd[_0x1840e5(0x178)]),await this[_0x1840e5(0xf1)]['flow'][_0x1840e5(0x1b5)](_0x370571[_0x1840e5(0x53b)],{'shareOwners':_0x370571[_0x1840e5(0x556)]},_0x30e94d));}}return await this['repository'][_0x1840e5(0x364)][_0x1840e5(0x341)]({'where':{'name':_0x1ef088}},this[_0x1840e5(0x219)][_0x1840e5(0x415)]);}catch(_0x1007f9){return this[_0x1840e5(0x2ca)]['error'](this[_0x1840e5(0x1e9)]+'\x20('+this[_0x1840e5(0x219)][_0x1840e5(0x415)]+_0x1840e5(0x697)+(_0x1007f9 instanceof Error?_0x1007f9[_0x1840e5(0x559)]:JSON['stringify'](_0x1007f9,null,0x2))),{'message':_0x1840e5(0x24d)+_0x1007f9[_0x1840e5(0x559)]};}}async['getFlow'](_0xd19615){const _0x2dd801=a0_0x28fd55;try{this[_0x2dd801(0x2ca)][_0x2dd801(0x77f)](this[_0x2dd801(0x1e9)]+'\x20('+this[_0x2dd801(0x219)][_0x2dd801(0x415)]+'):\x20Buscando\x20flow...');let _0x1d0ed7=await this[_0x2dd801(0xf1)][_0x2dd801(0x364)][_0x2dd801(0x267)]({'where':{'name':_0xd19615}},this['instance']['wuid']);if(!_0x1d0ed7)throw new Error(_0x2dd801(0x639));if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this[_0x2dd801(0x44a)]))return null;let _0x1b439a=this[_0x2dd801(0x44a)]?.[_0x2dd801(0x196)]['map'](_0x3116e3=>_0x3116e3[_0x2dd801(0x616)]),_0x22f591=[_0x2dd801(0x369),_0x2dd801(0x327),_0x2dd801(0x152),_0x2dd801(0x325),_0x2dd801(0x180),_0x2dd801(0x358),_0x2dd801(0x35a),'tags',_0x2dd801(0x750)];_0x1d0ed7[_0x2dd801(0x112)]=_0x1d0ed7[_0x2dd801(0x112)][_0x2dd801(0x586)](_0x26f8a5=>!(_0x26f8a5[_0x2dd801(0x658)]===_0x2dd801(0x173)||_0x26f8a5['leadInfo'])),_0x22f591[_0x2dd801(0x32d)](_0x53000b=>{const _0x32ff80=_0x2dd801;_0x1d0ed7[_0x32ff80(0x112)][_0x32ff80(0x474)]({'folder':_0x32ff80(0x173),'name':_0x53000b,'value':'','doc':'','leadInfo':!0x0});}),_0x1b439a[_0x2dd801(0x32d)](_0x1325ad=>{const _0x49d69f=_0x2dd801;let _0x4dc87a=_0x1d0ed7[_0x49d69f(0x112)][_0x49d69f(0x565)](_0x2f2a46=>_0x2f2a46[_0x49d69f(0x616)]===_0x1325ad);_0x4dc87a===-0x1?_0x1d0ed7[_0x49d69f(0x112)][_0x49d69f(0x474)]({'folder':_0x49d69f(0x173),'name':_0x1325ad,'value':'','doc':'','leadInfo':!0x0}):(_0x1d0ed7[_0x49d69f(0x112)][_0x4dc87a][_0x49d69f(0x658)]=_0x49d69f(0x173),_0x1d0ed7[_0x49d69f(0x112)][_0x4dc87a][_0x49d69f(0x173)]=!0x0);}),_0x1d0ed7[_0x2dd801(0x23b)]&&_0x1d0ed7[_0x2dd801(0x23b)][_0x2dd801(0x479)]>0x0&&_0x1d0ed7[_0x2dd801(0x23b)][_0x2dd801(0x32d)](_0x2dd593=>{const _0x862532=_0x2dd801;_0x2dd593[_0x862532(0x1c9)]&&_0x2dd593['next_groupId']&&_0x2dd593[_0x862532(0x1c9)]===_0x2dd593[_0x862532(0xab)]&&(_0x2dd593[_0x862532(0xab)]=null);});let _0xab8272=await this[_0x2dd801(0xf1)][_0x2dd801(0x364)][_0x2dd801(0x1b5)](_0x1d0ed7[_0x2dd801(0x53b)],_0x1d0ed7,this[_0x2dd801(0x219)][_0x2dd801(0x415)]);if(!_0xab8272)throw new Error(_0x2dd801(0x2e0));return _0xab8272;}catch(_0x1963d9){let _0x4cc255='Erro\x20ao\x20buscar\x20o\x20fluxo',_0x229870=_0x1963d9 instanceof Error?_0x1963d9['message']:typeof _0x1963d9==_0x2dd801(0x661)?JSON[_0x2dd801(0x431)](_0x1963d9):_0x1963d9,_0x28444b=_0x4cc255+':\x20'+_0x229870;throw this[_0x2dd801(0x2ca)]['error'](this['instanceName']+'\x20('+this[_0x2dd801(0x219)][_0x2dd801(0x415)]+_0x2dd801(0x48e)+_0x28444b),new m(_0x28444b);}}async[a0_0x28fd55(0x36d)](){const _0x9ae119=a0_0x28fd55;try{return this[_0x9ae119(0x2ca)]['verbose'](this[_0x9ae119(0x1e9)]+'\x20('+this[_0x9ae119(0x219)][_0x9ae119(0x415)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x9ae119(0xf1)][_0x9ae119(0x364)][_0x9ae119(0x3fe)](this[_0x9ae119(0x219)][_0x9ae119(0x415)]),await this[_0x9ae119(0xf1)][_0x9ae119(0x364)][_0x9ae119(0x6bf)]({'where':{}},this[_0x9ae119(0x219)]['wuid']);}catch(_0x4156db){return this[_0x9ae119(0x2ca)][_0x9ae119(0xbc)](this[_0x9ae119(0x1e9)]+'\x20('+this[_0x9ae119(0x219)][_0x9ae119(0x415)]+_0x9ae119(0x530)+(_0x4156db instanceof Error?_0x4156db[_0x9ae119(0x559)]:JSON[_0x9ae119(0x431)](_0x4156db,null,0x2))),{'message':_0x9ae119(0x5df)+_0x4156db[_0x9ae119(0x559)]};}}async[a0_0x28fd55(0x30b)](_0x1d9cc7){const _0x19ceb5=a0_0x28fd55;try{this[_0x19ceb5(0x2ca)][_0x19ceb5(0x77f)](this[_0x19ceb5(0x1e9)]+'\x20('+this['instance']['wuid']+'):\x20Alterando\x20fluxo...');let _0x1a53df=await this[_0x19ceb5(0xf1)][_0x19ceb5(0x364)][_0x19ceb5(0x267)]({'where':{'name':_0x1d9cc7['name']}},this['instance']['wuid']);if(!_0x1a53df)return{'message':_0x19ceb5(0x688)};_0x1d9cc7[_0x19ceb5(0x446)]===!0x0&&await this[_0x19ceb5(0xf1)][_0x19ceb5(0x364)][_0x19ceb5(0x40d)]({},{'default':!0x1},this[_0x19ceb5(0x219)][_0x19ceb5(0x415)]),delete _0x1d9cc7[_0x19ceb5(0x556)],delete _0x1d9cc7[_0x19ceb5(0x4ee)];let _0x15bc70=await this[_0x19ceb5(0xf1)]['flow'][_0x19ceb5(0x1b5)](_0x1a53df[_0x19ceb5(0x53b)],_0x1d9cc7,this[_0x19ceb5(0x219)][_0x19ceb5(0x415)]);return _0x15bc70&&_0x15bc70[_0x19ceb5(0x556)]&&_0x15bc70['shareOwners'][_0x19ceb5(0x479)]>0x1&&this[_0x19ceb5(0x5f8)](_0x15bc70[_0x19ceb5(0x53b)],this[_0x19ceb5(0x219)][_0x19ceb5(0x415)]),_0x15bc70;}catch(_0x3efa2c){let _0x440b4e='Erro\x20ao\x20alterar\x20fluxo',_0x49fb18=_0x3efa2c instanceof Error?_0x3efa2c[_0x19ceb5(0x559)]:typeof _0x3efa2c==_0x19ceb5(0x661)?JSON['stringify'](_0x3efa2c):_0x3efa2c,_0x5652ba=_0x440b4e+':\x20'+_0x49fb18;throw this[_0x19ceb5(0x2ca)][_0x19ceb5(0xbc)](this[_0x19ceb5(0x1e9)]+'\x20('+this[_0x19ceb5(0x219)][_0x19ceb5(0x415)]+'):\x20'+_0x5652ba),new m(_0x5652ba);}}async[a0_0x28fd55(0xf9)](_0x1e3166){const _0x293bc5=a0_0x28fd55;try{this[_0x293bc5(0x2ca)][_0x293bc5(0x77f)](this[_0x293bc5(0x1e9)]+'\x20('+this[_0x293bc5(0x219)]['wuid']+'):\x20Editando\x20bloco...');let _0x15bae0=await this[_0x293bc5(0xf1)][_0x293bc5(0x364)][_0x293bc5(0x267)]({'where':{'name':_0x1e3166['name']}},this[_0x293bc5(0x219)][_0x293bc5(0x415)]);_0x15bae0||this[_0x293bc5(0x55f)]('Flow\x20não\x20encontrado');let {block:_0x532edc}=_0x1e3166;_0x532edc?.[_0x293bc5(0x3dc)]?this[_0x293bc5(0x753)](_0x15bae0,_0x1e3166):_0x532edc?.[_0x293bc5(0x71f)]?this[_0x293bc5(0x12d)](_0x15bae0,_0x1e3166):_0x532edc['_id']?await this['updateBlock'](_0x15bae0,_0x1e3166):this[_0x293bc5(0x46a)](_0x15bae0,_0x1e3166);let _0x33a0ed=await this[_0x293bc5(0xf1)][_0x293bc5(0x364)]['updateOne'](_0x15bae0[_0x293bc5(0x53b)],_0x15bae0,this[_0x293bc5(0x219)][_0x293bc5(0x415)]);if(_0x33a0ed&&_0x33a0ed['shareOwners']&&_0x33a0ed[_0x293bc5(0x556)][_0x293bc5(0x479)]>0x1&&this[_0x293bc5(0x5f8)](_0x33a0ed[_0x293bc5(0x53b)],this[_0x293bc5(0x219)][_0x293bc5(0x415)]),!_0x33a0ed)throw new Error(_0x293bc5(0x2e0));return _0x33a0ed;}catch(_0x3b758f){this[_0x293bc5(0x55f)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x3b758f);}}async[a0_0x28fd55(0x753)](_0x1b3d1f,_0x307e24){const _0x284331=a0_0x28fd55;let _0x4dc2ac=_0x307e24[_0x284331(0x67f)][_0x284331(0x53b)],_0x39b311=_0x1b3d1f[_0x284331(0x23b)][_0x284331(0x167)](_0x428124=>_0x428124[_0x284331(0x53b)]['toString']()===_0x4dc2ac);if(!_0x39b311){this[_0x284331(0x2ca)][_0x284331(0xbc)](this[_0x284331(0x1e9)]+'\x20('+this[_0x284331(0x219)]['wuid']+_0x284331(0x3e2)+_0x4dc2ac+_0x284331(0x57e));return;}this[_0x284331(0x2ca)][_0x284331(0x77f)](this['instanceName']+'\x20('+this['instance'][_0x284331(0x415)]+_0x284331(0x128)+JSON[_0x284331(0x431)](_0x39b311));let _0x1a3a9a=JSON[_0x284331(0x3a4)](JSON[_0x284331(0x431)](_0x39b311));_0x1a3a9a[_0x284331(0x53b)]=new re['default'][(_0x284331(0xb1))]['ObjectId'](),this[_0x284331(0x2ca)][_0x284331(0x77f)](this[_0x284331(0x1e9)]+'\x20('+this[_0x284331(0x219)][_0x284331(0x415)]+_0x284331(0x48d)+JSON[_0x284331(0x431)](_0x1a3a9a)),_0x1b3d1f[_0x284331(0x23b)][_0x284331(0x474)](_0x1a3a9a),this[_0x284331(0x30a)](_0x1b3d1f[_0x284331(0x23b)],_0x1a3a9a[_0x284331(0x1c9)]);}['throwAndLogError'](_0x492adc){const _0x33c25a=a0_0x28fd55;throw this['logger']['error'](this[_0x33c25a(0x1e9)]+'\x20('+this['instance'][_0x33c25a(0x415)]+'):\x20'+_0x492adc),new m(_0x492adc);}[a0_0x28fd55(0x12d)](_0x5ebe4c,_0x5c2d58){const _0x1cddc9=a0_0x28fd55;let {block:_0x2ff69c}=_0x5c2d58;if(_0x2ff69c[_0x1cddc9(0x68c)]==='start'){this[_0x1cddc9(0x55f)](_0x1cddc9(0x35d));return;}if(!_0x2ff69c[_0x1cddc9(0x53b)]){this['throwAndLogError'](_0x1cddc9(0x1c0));return;}let _0x4bfd28=_0x5ebe4c[_0x1cddc9(0x23b)][_0x1cddc9(0x167)](_0x46260e=>_0x46260e[_0x1cddc9(0x53b)][_0x1cddc9(0x6dd)]()===_0x5c2d58[_0x1cddc9(0x67f)][_0x1cddc9(0x53b)]['toString']());if(!_0x4bfd28){this['throwAndLogError'](_0x1cddc9(0x48f)+_0x2ff69c[_0x1cddc9(0x53b)]+'\x20não\x20encontrado');return;}_0x5ebe4c[_0x1cddc9(0x23b)]=_0x5ebe4c[_0x1cddc9(0x23b)][_0x1cddc9(0x586)](_0x43e19c=>_0x43e19c[_0x1cddc9(0x53b)][_0x1cddc9(0x6dd)]()!==_0x5c2d58[_0x1cddc9(0x67f)][_0x1cddc9(0x53b)][_0x1cddc9(0x6dd)]()),_0x5ebe4c[_0x1cddc9(0x3bc)]=_0x5ebe4c[_0x1cddc9(0x3bc)]['filter'](_0x2da725=>_0x2da725[_0x1cddc9(0x5cc)]!==_0x2ff69c[_0x1cddc9(0x53b)]['toString']()),_0x5ebe4c[_0x1cddc9(0x505)]=_0x5ebe4c[_0x1cddc9(0x505)][_0x1cddc9(0x586)](_0x14c666=>_0x14c666['blockId']!==_0x2ff69c['_id']['toString']()),_0x5ebe4c['replyOptions']=_0x5ebe4c['replyOptions'][_0x1cddc9(0x586)](_0x2b8c50=>_0x2b8c50[_0x1cddc9(0x5cc)]!==_0x2ff69c[_0x1cddc9(0x53b)]['toString']()),this[_0x1cddc9(0x30a)](_0x5ebe4c[_0x1cddc9(0x23b)],_0x4bfd28['groupId']);}async[a0_0x28fd55(0x64c)](_0x24eccc,_0x3e71ad){const _0x77a3ce=a0_0x28fd55;let _0x595428=_0x24eccc[_0x77a3ce(0x23b)][_0x77a3ce(0x565)](_0x2886f3=>_0x2886f3[_0x77a3ce(0x53b)][_0x77a3ce(0x6dd)]()===_0x3e71ad['block'][_0x77a3ce(0x53b)][_0x77a3ce(0x6dd)]());if(this['logger']['verbose'](this[_0x77a3ce(0x1e9)]+'\x20('+this['instance'][_0x77a3ce(0x415)]+_0x77a3ce(0x36e)+_0x595428),_0x595428===-0x1){this[_0x77a3ce(0x2ca)]['verbose'](_0x77a3ce(0x48f)+_0x3e71ad[_0x77a3ce(0x67f)]['_id']+_0x77a3ce(0x4a2));return;}if(_0x24eccc[_0x77a3ce(0x23b)][_0x595428][_0x77a3ce(0x68c)]==='start'){let _0x168500=Object[_0x77a3ce(0x14d)](_0x3e71ad[_0x77a3ce(0x67f)]);if(_0x168500['length']>0x2||_0x168500[_0x77a3ce(0x479)]===0x2&&!_0x168500[_0x77a3ce(0x4d2)]('next_groupId')){this[_0x77a3ce(0x55f)](_0x77a3ce(0x684));return;}}let _0x2e228b=_0x24eccc[_0x77a3ce(0x23b)][_0x595428]['groupId'];for(let _0x2b7e51 in _0x3e71ad['block'])_0x3e71ad['block']['hasOwnProperty'](_0x2b7e51)&&(_0x24eccc[_0x77a3ce(0x23b)][_0x595428][_0x2b7e51]=_0x3e71ad[_0x77a3ce(0x67f)][_0x2b7e51]);if(this['logger'][_0x77a3ce(0x77f)](this[_0x77a3ce(0x1e9)]+'\x20('+this[_0x77a3ce(0x219)][_0x77a3ce(0x415)]+_0x77a3ce(0x347)+JSON[_0x77a3ce(0x431)](_0x24eccc['blocks'][_0x595428])),_0x24eccc[_0x77a3ce(0x23b)][_0x595428][_0x77a3ce(0x2fa)]&&_0x77a3ce(0x386)in _0x24eccc['blocks'][_0x595428]['apirequest']){this[_0x77a3ce(0x2ca)]['verbose'](this[_0x77a3ce(0x1e9)]+'\x20('+this[_0x77a3ce(0x219)][_0x77a3ce(0x415)]+_0x77a3ce(0x55e));let _0x328e52=JSON['stringify'](_0x24eccc[_0x77a3ce(0x23b)][_0x595428][_0x77a3ce(0x2fa)]['header'],null,0x1);_0x328e52[_0x77a3ce(0x479)]>0x2&&(_0x328e52=_0x328e52['substring'](0x1,_0x328e52[_0x77a3ce(0x479)]-0x1)['trim']()),_0x24eccc[_0x77a3ce(0x23b)][_0x595428][_0x77a3ce(0x2fa)][_0x77a3ce(0x5a1)]=_0x328e52;}if(_0x24eccc[_0x77a3ce(0x23b)][_0x595428]['apirequest']&&_0x77a3ce(0x26f)in _0x24eccc[_0x77a3ce(0x23b)][_0x595428][_0x77a3ce(0x2fa)]&&!(_0x77a3ce(0x230)in _0x24eccc[_0x77a3ce(0x23b)][_0x595428][_0x77a3ce(0x2fa)])){this['logger'][_0x77a3ce(0x77f)](this[_0x77a3ce(0x1e9)]+'\x20('+this[_0x77a3ce(0x219)][_0x77a3ce(0x415)]+_0x77a3ce(0xe6)),_0x24eccc[_0x77a3ce(0x23b)][_0x595428][_0x77a3ce(0x2fa)][_0x77a3ce(0x17c)]=!0x1;let _0x5b5a46=JSON[_0x77a3ce(0x431)](_0x24eccc['blocks'][_0x595428][_0x77a3ce(0x2fa)][_0x77a3ce(0x26f)],null,0x2);_0x24eccc['blocks'][_0x595428][_0x77a3ce(0x2fa)][_0x77a3ce(0x230)]=_0x5b5a46;}if(_0x24eccc[_0x77a3ce(0x23b)][_0x595428][_0x77a3ce(0x2fa)]&&'bodyString'in _0x24eccc['blocks'][_0x595428][_0x77a3ce(0x2fa)]){_0x24eccc[_0x77a3ce(0x23b)][_0x595428][_0x77a3ce(0x2fa)]['bodyStringErrorParse']=!0x1;let _0x482bf7=_0x24eccc[_0x77a3ce(0x23b)][_0x595428][_0x77a3ce(0x2fa)][_0x77a3ce(0x230)],_0x5de2d=this[_0x77a3ce(0x4f6)](_0x482bf7);_0x24eccc['blocks'][_0x595428][_0x77a3ce(0x2fa)][_0x77a3ce(0x230)]=_0x5de2d['result'],_0x24eccc[_0x77a3ce(0x23b)][_0x595428][_0x77a3ce(0x2fa)][_0x77a3ce(0x17c)]=_0x5de2d['error'];}let _0x7b460c=_0x24eccc[_0x77a3ce(0x23b)][_0x595428]['groupId'];_0x2e228b!==_0x7b460c?(this[_0x77a3ce(0x30a)](_0x24eccc[_0x77a3ce(0x23b)],_0x2e228b),this[_0x77a3ce(0x30a)](_0x24eccc['blocks'],_0x7b460c)):this['reorderBlocks'](_0x24eccc['blocks'],_0x2e228b);}['beautifyWithPlaceholders'](_0x52bce4){const _0x232ba9=a0_0x28fd55;let _0x2cd0f8='\u205f',_0x551660=!0x1,_0x175b11='';for(let _0x12f5dd=0x0;_0x12f5dd<_0x52bce4[_0x232ba9(0x479)];_0x12f5dd++){let _0x582e12=_0x52bce4[_0x12f5dd];_0x582e12==='\x22'&&(_0x12f5dd===0x0||_0x52bce4[_0x12f5dd-0x1]!=='\x5c')&&(_0x551660=!_0x551660),!(!_0x551660&&(_0x582e12==='\x0a'||_0x582e12==='\x20'||_0x582e12===_0x2cd0f8))&&(_0x175b11+=_0x582e12);}let _0x279e99={},_0x1cb947=9876543210.1234,_0x3350ac=_0x175b11['replace'](/\{\{([^}]+)\}\}/g,_0x263815=>{let _0x17bff1=_0x263815,_0x40910a=''+_0x1cb947;return _0x279e99[_0x40910a]=_0x17bff1,_0x1cb947+=0.0001,_0x40910a;}),_0x31d40b='',_0x408580=!0x1;try{let _0x1bcf87=JSON[_0x232ba9(0x3a4)](_0x3350ac);_0x31d40b=JSON[_0x232ba9(0x431)](_0x1bcf87,null,0x2),_0x31d40b=_0x31d40b[_0x232ba9(0x4b8)](/\n( +)/g,(_0x5dff16,_0x118388)=>{const _0x1d33f5=_0x232ba9;let _0x213614=_0x118388[_0x1d33f5(0x479)];return'\x0a'+_0x2cd0f8[_0x1d33f5(0x434)](_0x213614*0x2);}),_0x31d40b=_0x31d40b[_0x232ba9(0x4b8)](/(\d{10,}\.\d+)/g,_0x88fcae=>_0x279e99[_0x88fcae]||_0x88fcae);}catch(_0x932f24){console['error'](_0x232ba9(0x31c),_0x932f24),_0x31d40b=_0x52bce4,_0x408580=!0x0;}return{'result':_0x31d40b,'error':_0x408580};}['addBlock'](_0x4ed793,_0x35d509){const _0x43f850=a0_0x28fd55;if(_0x35d509[_0x43f850(0x67f)][_0x43f850(0x68c)]==='start'){this[_0x43f850(0x55f)](_0x43f850(0x46b));return;}if(_0x35d509[_0x43f850(0x67f)][_0x43f850(0x2fa)]&&_0x43f850(0x386)in _0x35d509[_0x43f850(0x67f)]['apirequest']){this[_0x43f850(0x2ca)]['verbose'](this['instanceName']+'\x20('+this[_0x43f850(0x219)][_0x43f850(0x415)]+_0x43f850(0x55e));let _0x13c405=JSON[_0x43f850(0x431)](_0x35d509[_0x43f850(0x67f)][_0x43f850(0x2fa)][_0x43f850(0x386)],null,0x1);_0x13c405[_0x43f850(0x479)]>0x2&&(_0x13c405=_0x13c405[_0x43f850(0x742)](0x1,_0x13c405[_0x43f850(0x479)]-0x1)[_0x43f850(0x61e)]()),_0x35d509[_0x43f850(0x67f)][_0x43f850(0x2fa)][_0x43f850(0x5a1)]=_0x13c405;}_0x35d509[_0x43f850(0x67f)][_0x43f850(0x2fa)]&&_0x43f850(0x26f)in _0x35d509[_0x43f850(0x67f)]['apirequest']&&(this[_0x43f850(0x2ca)][_0x43f850(0x77f)](this[_0x43f850(0x1e9)]+'\x20('+this['instance'][_0x43f850(0x415)]+_0x43f850(0xe6)),_0x35d509[_0x43f850(0x67f)][_0x43f850(0x2fa)][_0x43f850(0x230)]=JSON[_0x43f850(0x431)](_0x35d509[_0x43f850(0x67f)]['apirequest']['body'],null,0x1)[_0x43f850(0x61e)]()),_0x4ed793[_0x43f850(0x23b)][_0x43f850(0x474)](_0x35d509[_0x43f850(0x67f)]),this['reorderBlocks'](_0x4ed793['blocks'],_0x35d509['block'][_0x43f850(0x1c9)]);}[a0_0x28fd55(0x30a)](_0x1e2c3c,_0x4fa21d){const _0x3fd1f1=a0_0x28fd55;let _0xc92a78=_0x1e2c3c['filter'](_0x5f1725=>_0x5f1725[_0x3fd1f1(0x1c9)]===_0x4fa21d);_0xc92a78[_0x3fd1f1(0x62a)]((_0x1b56c6,_0x385b0e)=>_0x1b56c6[_0x3fd1f1(0x67b)]-_0x385b0e[_0x3fd1f1(0x67b)]),_0xc92a78[_0x3fd1f1(0x32d)]((_0x291560,_0x30718a)=>_0x291560[_0x3fd1f1(0x67b)]=_0x30718a+0x1);}async[a0_0x28fd55(0x29d)](_0x2e064f){const _0x2f3517=a0_0x28fd55;try{if(this[_0x2f3517(0x2ca)]['verbose'](this[_0x2f3517(0x1e9)]+'\x20('+this[_0x2f3517(0x219)][_0x2f3517(0x415)]+_0x2f3517(0x6c7)),!_0x2e064f||!_0x2e064f['replyOption']){this[_0x2f3517(0x55f)]('Data\x20inválida\x20fornecida');return;}let _0x29df45=await this['repository'][_0x2f3517(0x364)][_0x2f3517(0x267)]({'where':{'name':_0x2e064f[_0x2f3517(0x616)]}},this[_0x2f3517(0x219)][_0x2f3517(0x415)]);_0x29df45||this[_0x2f3517(0x55f)]('Flow\x20não\x20encontrado');let {replyOption:_0x319a17}=_0x2e064f;_0x319a17?.[_0x2f3517(0x71f)]?(this[_0x2f3517(0x4e3)](_0x29df45,_0x2e064f),this[_0x2f3517(0x470)](_0x29df45[_0x2f3517(0x22c)],_0x2e064f['replyOption'][_0x2f3517(0x5cc)])):_0x319a17[_0x2f3517(0x53b)]?(await this[_0x2f3517(0x3b2)](_0x29df45,_0x2e064f),this['reorderReplyOptions'](_0x29df45[_0x2f3517(0x22c)],_0x2e064f['replyOption'][_0x2f3517(0x5cc)])):(this['addReplyOption'](_0x29df45,_0x2e064f),this['reorderReplyOptions'](_0x29df45[_0x2f3517(0x22c)],_0x2e064f[_0x2f3517(0x702)][_0x2f3517(0x5cc)]));let _0x37848f=await this[_0x2f3517(0xf1)]['flow']['updateOne'](_0x29df45[_0x2f3517(0x53b)],_0x29df45,this[_0x2f3517(0x219)]['wuid']);if(_0x37848f&&_0x37848f[_0x2f3517(0x556)]&&_0x37848f['shareOwners'][_0x2f3517(0x479)]>0x1&&this[_0x2f3517(0x5f8)](_0x37848f[_0x2f3517(0x53b)],this[_0x2f3517(0x219)][_0x2f3517(0x415)]),!_0x37848f)throw new Error(_0x2f3517(0x2e0));return _0x37848f;}catch(_0x4672c6){this[_0x2f3517(0x55f)](_0x2f3517(0x6cb)+_0x4672c6);}}['reorderReplyOptions'](_0x2563ca,_0x1388c3){const _0x4daebd=a0_0x28fd55;console['log']('Reordenando\x20replyOptions\x20para\x20o\x20blockId:',_0x1388c3),_0x2563ca['forEach'](_0x245bfc=>{const _0x41516c=a0_0x472e;_0x245bfc[_0x41516c(0x5cc)]===_0x1388c3&&_0x245bfc[_0x41516c(0x67b)]===void 0x0&&(_0x245bfc[_0x41516c(0x67b)]=0x270f);});let _0x44640f=_0x2563ca['filter'](_0x55d8ad=>_0x55d8ad['blockId']===_0x1388c3);_0x44640f[_0x4daebd(0x62a)]((_0x4c1bd7,_0x30accf)=>_0x4c1bd7[_0x4daebd(0x67b)]-_0x30accf[_0x4daebd(0x67b)]),_0x44640f[_0x4daebd(0x32d)]((_0x2e9ef1,_0x350f6b)=>{const _0x1d69cf=_0x4daebd;_0x2e9ef1[_0x1d69cf(0x67b)]=_0x350f6b+0x1;}),_0x2563ca[_0x4daebd(0x32d)](_0x1e31dd=>{const _0x7f516e=_0x4daebd;if(_0x1e31dd[_0x7f516e(0x5cc)]===_0x1388c3){let _0x497c6d=_0x44640f[_0x7f516e(0x167)](_0x1b7dcf=>_0x1b7dcf[_0x7f516e(0x53b)]&&_0x1e31dd[_0x7f516e(0x53b)]&&_0x1b7dcf['_id']['toString']()===_0x1e31dd['_id']['toString']());_0x497c6d&&(_0x1e31dd[_0x7f516e(0x67b)]=_0x497c6d[_0x7f516e(0x67b)]);}}),console[_0x4daebd(0x125)](_0x4daebd(0x2a3),_0x2563ca);}[a0_0x28fd55(0x4e3)](_0xa7370c,_0x69893b){const _0x440ca2=a0_0x28fd55;let {replyOption:_0x4bd784}=_0x69893b;if(!_0x4bd784[_0x440ca2(0x53b)]){this[_0x440ca2(0x55f)](_0x440ca2(0x61f));return;}if(!_0xa7370c[_0x440ca2(0x22c)][_0x440ca2(0x167)](_0x230ef7=>_0x230ef7[_0x440ca2(0x53b)][_0x440ca2(0x6dd)]()===_0x69893b[_0x440ca2(0x702)][_0x440ca2(0x53b)][_0x440ca2(0x6dd)]())){this['throwAndLogError'](_0x440ca2(0x42a)+_0x4bd784[_0x440ca2(0x53b)]+_0x440ca2(0x183));return;}_0xa7370c['replyOptions']=_0xa7370c[_0x440ca2(0x22c)]['filter'](_0x5c1ad4=>_0x5c1ad4['_id']['toString']()!==_0x69893b[_0x440ca2(0x702)][_0x440ca2(0x53b)][_0x440ca2(0x6dd)]());}async['updateReplyOption'](_0x2697ba,_0x496a6e){const _0x3fc2b2=a0_0x28fd55;let _0x341261=_0x2697ba[_0x3fc2b2(0x22c)]['findIndex'](_0x57ccc6=>_0x57ccc6[_0x3fc2b2(0x53b)][_0x3fc2b2(0x6dd)]()===_0x496a6e['replyOption'][_0x3fc2b2(0x53b)]['toString']());if(_0x341261===-0x1){this[_0x3fc2b2(0x55f)](_0x3fc2b2(0x42a)+_0x496a6e['replyOption'][_0x3fc2b2(0x53b)]+_0x3fc2b2(0x4a2));return;}for(let _0x2d4465 in _0x496a6e[_0x3fc2b2(0x702)])_0x496a6e[_0x3fc2b2(0x702)][_0x3fc2b2(0x508)](_0x2d4465)&&(_0x2697ba[_0x3fc2b2(0x22c)][_0x341261][_0x2d4465]=_0x496a6e[_0x3fc2b2(0x702)][_0x2d4465]);}[a0_0x28fd55(0x38b)](_0x481d71,_0x217da0){const _0x198af7=a0_0x28fd55;_0x481d71['replyOptions']['push'](_0x217da0[_0x198af7(0x702)]);}async[a0_0x28fd55(0x49f)](_0x24edca){const _0x5b0d2b=a0_0x28fd55;this[_0x5b0d2b(0x2ca)][_0x5b0d2b(0x77f)](this[_0x5b0d2b(0x1e9)]+'\x20('+this[_0x5b0d2b(0x219)][_0x5b0d2b(0x415)]+_0x5b0d2b(0x704)+_0x24edca);try{this[_0x5b0d2b(0x2ca)][_0x5b0d2b(0x77f)](this['instanceName']+'\x20('+this['instance'][_0x5b0d2b(0x415)]+_0x5b0d2b(0x396));let _0x48b6a7=await this['repository'][_0x5b0d2b(0x364)][_0x5b0d2b(0x267)]({'where':{'name':_0x24edca[_0x5b0d2b(0x616)]}},this[_0x5b0d2b(0x219)]['wuid']);if(!_0x48b6a7)throw new Error(_0x5b0d2b(0x639));if(_0x24edca['group']&&_0x24edca[_0x5b0d2b(0x29a)]?.[_0x5b0d2b(0x71f)]===!0x0){if(this[_0x5b0d2b(0x2ca)]['verbose'](this[_0x5b0d2b(0x1e9)]+'\x20('+this[_0x5b0d2b(0x219)][_0x5b0d2b(0x415)]+_0x5b0d2b(0x5a7)),_0x24edca['group'][_0x5b0d2b(0x446)]===!0x0)return{'message':_0x5b0d2b(0x5d0)};if(_0x48b6a7[_0x5b0d2b(0x23b)]['some'](_0x39a3d0=>_0x39a3d0[_0x5b0d2b(0x1c9)][_0x5b0d2b(0x6dd)]()===_0x24edca[_0x5b0d2b(0x29a)][_0x5b0d2b(0x53b)]))return this[_0x5b0d2b(0x2ca)][_0x5b0d2b(0x77f)](this[_0x5b0d2b(0x1e9)]+'\x20('+this[_0x5b0d2b(0x219)][_0x5b0d2b(0x415)]+_0x5b0d2b(0x3c6)),{'message':_0x5b0d2b(0x1a7)};_0x48b6a7['groups']=_0x48b6a7[_0x5b0d2b(0x6cd)][_0x5b0d2b(0x586)](_0x458cd7=>_0x458cd7[_0x5b0d2b(0x53b)][_0x5b0d2b(0x6dd)]()!==_0x24edca['group'][_0x5b0d2b(0x53b)]);}else{if(_0x24edca[_0x5b0d2b(0x29a)]){if(_0x24edca[_0x5b0d2b(0x29a)][_0x5b0d2b(0x446)]===!0x0)return{'message':_0x5b0d2b(0x191)};if(_0x24edca[_0x5b0d2b(0x29a)][_0x5b0d2b(0x53b)]){let _0x3b896c=_0x48b6a7['groups'][_0x5b0d2b(0x167)](_0x5c380b=>_0x5c380b['_id'][_0x5b0d2b(0x6dd)]()===_0x24edca[_0x5b0d2b(0x29a)][_0x5b0d2b(0x53b)]);_0x3b896c&&(_0x24edca[_0x5b0d2b(0x29a)]['x']<0x0&&(_0x24edca[_0x5b0d2b(0x29a)]['x']=0x0),_0x24edca[_0x5b0d2b(0x29a)]['y']<0x0&&(_0x24edca[_0x5b0d2b(0x29a)]['y']=0x0),Object['assign'](_0x3b896c,_0x24edca[_0x5b0d2b(0x29a)]));}else _0x48b6a7[_0x5b0d2b(0x6cd)][_0x5b0d2b(0x474)](_0x24edca[_0x5b0d2b(0x29a)]);}}let _0x5ed01e=await this['repository']['flow']['updateOne'](_0x48b6a7[_0x5b0d2b(0x53b)],_0x48b6a7,this['instance'][_0x5b0d2b(0x415)]);if(_0x5ed01e&&_0x5ed01e[_0x5b0d2b(0x556)]&&_0x5ed01e[_0x5b0d2b(0x556)][_0x5b0d2b(0x479)]>0x1&&this[_0x5b0d2b(0x5f8)](_0x5ed01e['_id'],this[_0x5b0d2b(0x219)][_0x5b0d2b(0x415)]),!_0x5ed01e)throw new Error(_0x5b0d2b(0x2e0));return _0x5ed01e;}catch(_0x9f554d){let _0xeb542f=_0x5b0d2b(0x240),_0x5d5bce=_0x9f554d instanceof Error?_0x9f554d['message']:typeof _0x9f554d=='object'?JSON[_0x5b0d2b(0x431)](_0x9f554d):_0x9f554d,_0x464527=_0xeb542f+':\x20'+_0x5d5bce;throw this[_0x5b0d2b(0x2ca)]['error'](this[_0x5b0d2b(0x1e9)]+'\x20('+this[_0x5b0d2b(0x219)][_0x5b0d2b(0x415)]+_0x5b0d2b(0x48e)+_0x464527),new m(_0x464527);}}async[a0_0x28fd55(0x6fd)](_0x545ee9){const _0x441cb6=a0_0x28fd55;try{this[_0x441cb6(0x2ca)][_0x441cb6(0x77f)](this['instanceName']+'\x20('+this[_0x441cb6(0x219)][_0x441cb6(0x415)]+_0x441cb6(0x38a));let _0x5e3c38=await this[_0x441cb6(0xf1)][_0x441cb6(0x364)][_0x441cb6(0x267)]({'where':{'name':_0x545ee9[_0x441cb6(0x616)]}},this['instance'][_0x441cb6(0x415)]);if(!_0x5e3c38)throw new Error(_0x441cb6(0x639));let _0x4f151f=!0x1;if(_0x545ee9[_0x441cb6(0xd7)]?.[_0x441cb6(0x71f)]===!0x0)_0x5e3c38['conditions']=_0x5e3c38['conditions'][_0x441cb6(0x586)](_0x58f7cb=>_0x58f7cb&&_0x545ee9[_0x441cb6(0xd7)]&&_0x58f7cb['_id']&&_0x545ee9['condition'][_0x441cb6(0x53b)]&&_0x58f7cb[_0x441cb6(0x53b)][_0x441cb6(0x6dd)]()!==_0x545ee9[_0x441cb6(0xd7)][_0x441cb6(0x53b)][_0x441cb6(0x6dd)]()),_0x4f151f=!0x0;else{let _0x5ee574=_0x5e3c38[_0x441cb6(0x3bc)][_0x441cb6(0x167)](_0xd08f45=>_0xd08f45&&_0x545ee9[_0x441cb6(0xd7)]&&_0xd08f45[_0x441cb6(0x53b)]&&_0x545ee9[_0x441cb6(0xd7)][_0x441cb6(0x53b)]&&_0xd08f45['_id'][_0x441cb6(0x6dd)]()===_0x545ee9['condition'][_0x441cb6(0x53b)]['toString']());_0x5ee574?(_0x4f151f=_0x5ee574[_0x441cb6(0x67b)]!==_0x545ee9[_0x441cb6(0xd7)][_0x441cb6(0x67b)],Object['assign'](_0x5ee574,_0x545ee9[_0x441cb6(0xd7)])):(_0x5e3c38['conditions'][_0x441cb6(0x474)](_0x545ee9['condition']),_0x4f151f=!0x0);}if(_0x4f151f){_0x5e3c38['conditions'][_0x441cb6(0x62a)]((_0x44c00d,_0x586e01)=>_0x44c00d[_0x441cb6(0x67b)]>_0x586e01[_0x441cb6(0x67b)]?0x1:_0x586e01[_0x441cb6(0x67b)]>_0x44c00d[_0x441cb6(0x67b)]?-0x1:0x0);for(let _0x301c7b=0x0;_0x301c7b<_0x5e3c38[_0x441cb6(0x3bc)]['length'];_0x301c7b++)_0x5e3c38[_0x441cb6(0x3bc)][_0x301c7b][_0x441cb6(0x67b)]=_0x301c7b+0x1;_0x5e3c38[_0x441cb6(0x3bc)][_0x441cb6(0x479)]>0x0&&(_0x5e3c38[_0x441cb6(0x3bc)][0x0][_0x441cb6(0x322)]=_0x441cb6(0x20f));}let _0x4fce6e=await this[_0x441cb6(0xf1)][_0x441cb6(0x364)]['updateOne'](_0x5e3c38['_id'],_0x5e3c38,this[_0x441cb6(0x219)][_0x441cb6(0x415)]);if(_0x4fce6e&&_0x4fce6e[_0x441cb6(0x556)]&&_0x4fce6e[_0x441cb6(0x556)]['length']>0x1&&this['synchronizeFlows'](_0x4fce6e[_0x441cb6(0x53b)],this[_0x441cb6(0x219)][_0x441cb6(0x415)]),!_0x4fce6e)throw new Error(_0x441cb6(0x2e0));return _0x4fce6e;}catch(_0x51292b){let _0x40d502=_0x441cb6(0x758),_0x1adec3=_0x51292b instanceof Error?_0x51292b[_0x441cb6(0x559)]:typeof _0x51292b==_0x441cb6(0x661)?JSON['stringify'](_0x51292b):_0x51292b,_0x31df1c=_0x40d502+':\x20'+_0x1adec3;throw this[_0x441cb6(0x2ca)][_0x441cb6(0xbc)](this['instanceName']+'\x20('+this[_0x441cb6(0x219)][_0x441cb6(0x415)]+_0x441cb6(0x48e)+_0x31df1c),new m(_0x31df1c);}}async[a0_0x28fd55(0x74a)](_0x5de088){const _0x53c902=a0_0x28fd55;try{this[_0x53c902(0x2ca)]['verbose'](this[_0x53c902(0x1e9)]+'\x20('+this['instance'][_0x53c902(0x415)]+_0x53c902(0x38d));let _0x118f89=await this[_0x53c902(0xf1)][_0x53c902(0x364)][_0x53c902(0x267)]({'where':{'name':_0x5de088['name']}},this[_0x53c902(0x219)]['wuid']);if(!_0x118f89)throw new Error('Flow\x20não\x20encontrado');let _0x4b853d=!0x1;if(_0x5de088[_0x53c902(0x506)]?.[_0x53c902(0x71f)]===!0x0)_0x118f89[_0x53c902(0x505)]=_0x118f89[_0x53c902(0x505)][_0x53c902(0x586)](_0x101840=>_0x101840&&_0x5de088['varedit']&&_0x101840[_0x53c902(0x53b)]&&_0x5de088[_0x53c902(0x506)][_0x53c902(0x53b)]&&_0x101840[_0x53c902(0x53b)][_0x53c902(0x6dd)]()!==_0x5de088[_0x53c902(0x506)][_0x53c902(0x53b)][_0x53c902(0x6dd)]()),_0x4b853d=!0x0;else{let _0x4ce042=_0x118f89[_0x53c902(0x505)][_0x53c902(0x167)](_0x217808=>_0x217808&&_0x5de088['varedit']&&_0x217808[_0x53c902(0x53b)]&&_0x5de088[_0x53c902(0x506)][_0x53c902(0x53b)]&&_0x217808[_0x53c902(0x53b)][_0x53c902(0x6dd)]()===_0x5de088[_0x53c902(0x506)]['_id']['toString']());_0x4ce042?(_0x4b853d=_0x4ce042[_0x53c902(0x67b)]!==_0x5de088[_0x53c902(0x506)]['order'],Object[_0x53c902(0x5ae)](_0x4ce042,_0x5de088[_0x53c902(0x506)])):(_0x118f89[_0x53c902(0x505)]['push'](_0x5de088['varedit']),_0x4b853d=!0x0);}if(_0x4b853d){_0x118f89[_0x53c902(0x505)]['sort']((_0x4915dc,_0x1423e1)=>_0x4915dc[_0x53c902(0x67b)]>_0x1423e1[_0x53c902(0x67b)]?0x1:_0x1423e1['order']>_0x4915dc[_0x53c902(0x67b)]?-0x1:0x0);for(let _0x30a081=0x0;_0x30a081<_0x118f89[_0x53c902(0x505)][_0x53c902(0x479)];_0x30a081++)_0x118f89[_0x53c902(0x505)][_0x30a081][_0x53c902(0x67b)]=_0x30a081+0x1;}let _0x4b1170=await this['repository']['flow'][_0x53c902(0x1b5)](_0x118f89[_0x53c902(0x53b)],_0x118f89,this[_0x53c902(0x219)][_0x53c902(0x415)]);if(_0x4b1170&&_0x4b1170[_0x53c902(0x556)]&&_0x4b1170[_0x53c902(0x556)][_0x53c902(0x479)]>0x1&&this[_0x53c902(0x5f8)](_0x4b1170[_0x53c902(0x53b)],this['instance'][_0x53c902(0x415)]),!_0x4b1170)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x4b1170;}catch(_0x253db1){let _0x5bd364='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0xda41ec=_0x253db1 instanceof Error?_0x253db1['message']:typeof _0x253db1==_0x53c902(0x661)?JSON[_0x53c902(0x431)](_0x253db1):_0x253db1,_0x340697=_0x5bd364+':\x20'+_0xda41ec;throw this['logger'][_0x53c902(0xbc)](this[_0x53c902(0x1e9)]+'\x20('+this[_0x53c902(0x219)][_0x53c902(0x415)]+_0x53c902(0x48e)+_0x340697),new m(_0x340697);}}async[a0_0x28fd55(0x31a)](_0x7e15fa){const _0xa5d49c=a0_0x28fd55;try{this[_0xa5d49c(0x2ca)][_0xa5d49c(0x77f)](this[_0xa5d49c(0x1e9)]+'\x20('+this[_0xa5d49c(0x219)][_0xa5d49c(0x415)]+_0xa5d49c(0x99));let _0x2e99e8=await this[_0xa5d49c(0xf1)][_0xa5d49c(0x364)][_0xa5d49c(0x267)]({'where':{'name':_0x7e15fa[_0xa5d49c(0x616)]}},this[_0xa5d49c(0x219)]['wuid']);if(!_0x2e99e8)throw new Error(_0xa5d49c(0x639));_0x7e15fa[_0xa5d49c(0x481)][_0xa5d49c(0x616)]=_0x7e15fa[_0xa5d49c(0x481)][_0xa5d49c(0x616)]['trim'](),_0x7e15fa[_0xa5d49c(0x481)][_0xa5d49c(0x616)][_0xa5d49c(0x417)]('_')&&(_0x7e15fa['variable'][_0xa5d49c(0x616)]=_0x7e15fa['variable'][_0xa5d49c(0x616)][_0xa5d49c(0x742)](0x1)),_0x7e15fa[_0xa5d49c(0x481)]['name']=_0x7e15fa['variable'][_0xa5d49c(0x616)][_0xa5d49c(0x61e)]();let _0x594d9f=_0x2e99e8['variables'][_0xa5d49c(0x167)](_0x29bd5e=>_0x29bd5e['name']===_0x7e15fa[_0xa5d49c(0x481)][_0xa5d49c(0x616)]);if(_0x594d9f?.['leadInfo']===!0x0)throw new Error(_0xa5d49c(0x71a));if(_0x7e15fa[_0xa5d49c(0x481)]?.[_0xa5d49c(0x71f)]===!0x0){if(!_0x594d9f)return{'message':'Variável\x20não\x20encontrada!'};_0x2e99e8[_0xa5d49c(0x112)]=_0x2e99e8[_0xa5d49c(0x112)]['filter'](_0x134de2=>_0x134de2['name']!==_0x7e15fa[_0xa5d49c(0x481)][_0xa5d49c(0x616)]);}else _0x594d9f?Object[_0xa5d49c(0x5ae)](_0x594d9f,_0x7e15fa[_0xa5d49c(0x481)]):_0x2e99e8['variables']['push'](_0x7e15fa[_0xa5d49c(0x481)]);let _0x5bb502=await this[_0xa5d49c(0xf1)][_0xa5d49c(0x364)]['updateOne'](_0x2e99e8['_id'],_0x2e99e8,this[_0xa5d49c(0x219)][_0xa5d49c(0x415)]);if(_0x5bb502&&_0x5bb502[_0xa5d49c(0x556)]&&_0x5bb502[_0xa5d49c(0x556)][_0xa5d49c(0x479)]>0x1&&this['synchronizeFlows'](_0x5bb502[_0xa5d49c(0x53b)],this[_0xa5d49c(0x219)][_0xa5d49c(0x415)]),!_0x5bb502)throw new Error(_0xa5d49c(0x2e0));return _0x5bb502;}catch(_0x244793){let _0x1dd274=_0xa5d49c(0x67e),_0x2695a3=_0x244793 instanceof Error?_0x244793[_0xa5d49c(0x559)]:typeof _0x244793=='object'?JSON[_0xa5d49c(0x431)](_0x244793):_0x244793,_0x168e80=_0x1dd274+':\x20'+_0x2695a3;throw this[_0xa5d49c(0x2ca)][_0xa5d49c(0xbc)](this[_0xa5d49c(0x1e9)]+'\x20('+this[_0xa5d49c(0x219)][_0xa5d49c(0x415)]+_0xa5d49c(0x48e)+_0x168e80),new m(_0x168e80);}}async[a0_0x28fd55(0x680)](_0x25fa57){const _0x229402=a0_0x28fd55;let _0x4f0bbf=null;try{if(!this['AutomateSystem']?.[_0x229402(0x569)][_0x229402(0x690)])throw new m('Fluxos\x20não\x20estão\x20ativados');this[_0x229402(0x2ca)]['verbose'](this[_0x229402(0x1e9)]+'\x20('+this['instance'][_0x229402(0x415)]+'):\x20Iniciando\x20bot...');let _0x1cf163=(await this[_0x229402(0x3df)]({'numbers':[_0x25fa57[_0x229402(0x5dd)]]}))[0x0];if(!_0x1cf163[_0x229402(0x78f)]&&!(0x0,f[_0x229402(0x37a)])(_0x1cf163[_0x229402(0x39c)])&&!_0x1cf163[_0x229402(0x39c)]['includes'](_0x229402(0x69f)))throw _0x4f0bbf=JSON[_0x229402(0x431)](_0x1cf163,null,0x2),new m(_0x1cf163);let _0x59f44b=await this[_0x229402(0xf1)][_0x229402(0x364)]['findOne']({'where':{'name':_0x25fa57['name']}},this[_0x229402(0x219)]['wuid']);if(!_0x59f44b)return this[_0x229402(0x2ca)][_0x229402(0xbc)](this[_0x229402(0x1e9)]+'\x20('+this[_0x229402(0x219)][_0x229402(0x415)]+_0x229402(0x3b4)),{'message':_0x229402(0x639)};let _0x34a5f9=await this['createConversationforStartFlow'](_0x59f44b,_0x1cf163[_0x229402(0x39c)],_0x25fa57[_0x229402(0x32e)]);if(_0x34a5f9){this[_0x229402(0x2ca)][_0x229402(0x77f)](this['instanceName']+'\x20('+this[_0x229402(0x219)][_0x229402(0x415)]+_0x229402(0x14f));let _0xbd9340=await this['NextBlock'](_0x34a5f9);return _0xbd9340&&await this['processblock'](_0x34a5f9,_0xbd9340),{'message':_0x229402(0x4c7)+_0x25fa57[_0x229402(0x5dd)]};}}catch(_0x488f89){if(this['logger'][_0x229402(0xbc)](this[_0x229402(0x1e9)]+'\x20('+this[_0x229402(0x219)][_0x229402(0x415)]+_0x229402(0x50b)+(_0x488f89 instanceof Error?_0x488f89[_0x229402(0x559)]:JSON[_0x229402(0x431)](_0x488f89,null,0x2))),_0x4f0bbf=_0x488f89 instanceof Error?_0x488f89[_0x229402(0x559)]:JSON[_0x229402(0x431)](_0x488f89,null,0x2),_0x4f0bbf)throw new m(_0x229402(0x26d)+_0x4f0bbf);}}async[a0_0x28fd55(0x632)](_0x221502){const _0xd6d4af=a0_0x28fd55;try{let _0x972097={'remoteJid':_0x221502,'status':'open'},_0x110410={'status':_0xd6d4af(0x471)},_0x4b3170=await this['repository']['flowConversation']['updateMany'](_0x972097,_0x110410,this[_0xd6d4af(0x219)][_0xd6d4af(0x415)]);return this['logger'][_0xd6d4af(0x77f)](this[_0xd6d4af(0x1e9)]+'\x20('+this['instance']['wuid']+_0xd6d4af(0x67d)),_0x4b3170;}catch(_0x4cae62){throw this[_0xd6d4af(0x2ca)]['error'](this[_0xd6d4af(0x1e9)]+'\x20('+this[_0xd6d4af(0x219)][_0xd6d4af(0x415)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x4cae62[_0xd6d4af(0x559)]),_0x4cae62;}}async[a0_0x28fd55(0x47d)](_0x22f58b,_0x55538a,_0x68653a){const _0x14e04c=a0_0x28fd55;this['logger'][_0x14e04c(0x77f)](this[_0x14e04c(0x1e9)]+'\x20('+this['instance'][_0x14e04c(0x415)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x14e04c(0x632)](_0x55538a);try{let _0x4775d6=require(_0x14e04c(0x511))['ObjectId'],_0x3bfe20=Date['now'](),_0x8ac1cf=_0x14e04c(0x1ea),_0x48a1f8={},_0x35da57={},_0x50c25c={..._0x22f58b,'chatLog':null},_0x51d5f3=await this[_0x14e04c(0x126)](_0x50c25c[_0x14e04c(0x112)]),_0x174dfb=await this[_0x14e04c(0x115)](_0x55538a),_0x3c3b83={..._0x51d5f3,..._0x174dfb,'_remoteJid':_0x55538a},_0x59da11={'lastReceivedMessage':_0x48a1f8,'lastSendMessage':_0x35da57,'lastBlockId':_0x8ac1cf,'lastCondition':!0x0,'realVariables':_0x3c3b83};_0x50c25c[_0x14e04c(0x4e0)]=_0x59da11,_0x50c25c[_0x14e04c(0x4e0)][_0x14e04c(0x4f2)]={..._0x3c3b83,..._0x68653a},delete _0x50c25c[_0x14e04c(0x53b)],_0x50c25c[_0x14e04c(0x53b)]=new _0x4775d6(),_0x50c25c[_0x14e04c(0x277)]=_0x3bfe20,_0x50c25c[_0x14e04c(0x180)]=_0x14e04c(0x170),_0x50c25c['remoteJid']=_0x55538a;let _0x5c108b=await this[_0x14e04c(0xf1)]['flowConversation'][_0x14e04c(0x1b5)](_0x50c25c['_id'],_0x50c25c,this[_0x14e04c(0x219)][_0x14e04c(0x415)]);return this[_0x14e04c(0x2ca)][_0x14e04c(0x77f)](this[_0x14e04c(0x1e9)]+'\x20('+this['instance'][_0x14e04c(0x415)]+_0x14e04c(0x266)),_0x5c108b?_0x50c25c:null;}catch(_0x183069){let _0xd75025=_0x14e04c(0x1f3),_0x506991=_0x183069 instanceof Error?_0x183069[_0x14e04c(0x559)]:typeof _0x183069==_0x14e04c(0x661)?JSON['stringify'](_0x183069):_0x183069,_0xa574ea=_0xd75025+':\x20'+_0x506991;throw this[_0x14e04c(0x2ca)][_0x14e04c(0xbc)](this['instanceName']+'\x20('+this[_0x14e04c(0x219)][_0x14e04c(0x415)]+_0x14e04c(0x48e)+_0xa574ea),new m(_0xa574ea);}}async[a0_0x28fd55(0x312)](_0x50c062){const _0x351bc7=a0_0x28fd55;try{this[_0x351bc7(0x2ca)]['verbose'](this[_0x351bc7(0x1e9)]+'\x20('+this['instance'][_0x351bc7(0x415)]+_0x351bc7(0xcb)),this[_0x351bc7(0x2ca)]['verbose'](this[_0x351bc7(0x1e9)]+'\x20('+this[_0x351bc7(0x219)]['wuid']+_0x351bc7(0x3bd)+_0x50c062);let _0x31bcd5={'where':{'_id':_0x50c062}};return await this['repository'][_0x351bc7(0x42b)][_0x351bc7(0x267)](_0x31bcd5,this[_0x351bc7(0x219)]['wuid']);}catch(_0x1b68b0){let _0x2433c7=_0x351bc7(0x49b),_0x224197=_0x1b68b0 instanceof Error?_0x1b68b0[_0x351bc7(0x559)]:typeof _0x1b68b0==_0x351bc7(0x661)?JSON[_0x351bc7(0x431)](_0x1b68b0):_0x1b68b0,_0x4f3b25=_0x2433c7+':\x20'+_0x224197;throw this[_0x351bc7(0x2ca)]['error'](this[_0x351bc7(0x1e9)]+'\x20('+this[_0x351bc7(0x219)]['wuid']+_0x351bc7(0x48e)+_0x4f3b25),new m(_0x4f3b25);}}async['fetchConversation'](_0x2b8028){const _0xe1c008=a0_0x28fd55;try{return this[_0xe1c008(0x2ca)][_0xe1c008(0x77f)](this['instanceName']+'\x20('+this[_0xe1c008(0x219)][_0xe1c008(0x415)]+_0xe1c008(0x6f0)),await this[_0xe1c008(0xf1)]['flowConversation']['find'](_0x2b8028,this[_0xe1c008(0x219)]['wuid']);}catch(_0x201a10){let _0x126b8d=_0xe1c008(0x234),_0x3349ec=_0x201a10 instanceof Error?_0x201a10['message']:typeof _0x201a10=='object'?JSON['stringify'](_0x201a10):_0x201a10,_0x4ef2b5=_0x126b8d+':\x20'+_0x3349ec;throw this['logger'][_0xe1c008(0xbc)](this[_0xe1c008(0x1e9)]+'\x20('+this[_0xe1c008(0x219)]['wuid']+_0xe1c008(0x48e)+_0x4ef2b5),new m(_0x4ef2b5);}}async[a0_0x28fd55(0x6ba)](_0xf134ae){const _0x4ad7e5=a0_0x28fd55;try{return this[_0x4ad7e5(0x2ca)][_0x4ad7e5(0x77f)](this[_0x4ad7e5(0x1e9)]+'\x20('+this[_0x4ad7e5(0x219)]['wuid']+'):\x20Deletando\x20conversa...'),this[_0x4ad7e5(0x2ca)]['verbose'](this[_0x4ad7e5(0x1e9)]+'\x20('+this[_0x4ad7e5(0x219)][_0x4ad7e5(0x415)]+_0x4ad7e5(0x3fd)+_0xf134ae),(await this[_0x4ad7e5(0xf1)][_0x4ad7e5(0x42b)][_0x4ad7e5(0x341)]({'where':{'_id':_0xf134ae}},this[_0x4ad7e5(0x219)][_0x4ad7e5(0x415)]))[_0x4ad7e5(0x342)]===0x0?{'message':_0x4ad7e5(0x707)}:{'message':'Conversa\x20deletada\x20com\x20sucesso.'};}catch(_0x2c8412){let _0x12c1df=_0x4ad7e5(0x34c),_0x8aa174=_0x2c8412 instanceof Error?_0x2c8412['message']:typeof _0x2c8412=='object'?JSON[_0x4ad7e5(0x431)](_0x2c8412):_0x2c8412,_0x173eee=_0x12c1df+':\x20'+_0x8aa174;throw this['logger']['error'](this[_0x4ad7e5(0x1e9)]+'\x20('+this['instance'][_0x4ad7e5(0x415)]+'):\x20'+_0x173eee),new m(_0x173eee);}}async['editConversation'](_0x426a2a){const _0x5e51d3=a0_0x28fd55;try{let {_id:_0x55e941,chatLog:_0x33b316,status:_0x26de01}=_0x426a2a;if(!_0x55e941)return{'message':_0x5e51d3(0x4c0)};let _0x5e45be={};if(_0x26de01!==void 0x0&&(_0x5e45be['status']=_0x26de01),Object[_0x5e51d3(0x14d)](_0x5e45be)['length']===0x0)return{'message':_0x5e51d3(0x25a)};let _0xd9fec5=await this['repository']['flowConversation'][_0x5e51d3(0x1b5)](_0x55e941,_0x5e45be,this['instance'][_0x5e51d3(0x415)]);return _0xd9fec5||{'message':_0x5e51d3(0x413)};}catch(_0x3a0f08){let _0x13c7ef=_0x5e51d3(0x1e7),_0x3c2be5=_0x3a0f08 instanceof Error?_0x3a0f08[_0x5e51d3(0x559)]:typeof _0x3a0f08==_0x5e51d3(0x661)?JSON['stringify'](_0x3a0f08):_0x3a0f08,_0x33ff2b=_0x13c7ef+':\x20'+_0x3c2be5;throw this[_0x5e51d3(0x2ca)][_0x5e51d3(0xbc)](this[_0x5e51d3(0x1e9)]+'\x20('+this[_0x5e51d3(0x219)][_0x5e51d3(0x415)]+'):\x20'+_0x33ff2b),new m(_0x33ff2b);}}async[a0_0x28fd55(0x787)](_0x3636b1){const _0x128a59=a0_0x28fd55;console['log'](_0x3636b1);try{_0x3636b1[_0x128a59(0x53b)]=this[_0x128a59(0x536)](_0x3636b1[_0x128a59(0x53b)]);let _0x1c3e4c=await this['repository'][_0x128a59(0x17e)]['findOne']({'where':{'_id':_0x3636b1[_0x128a59(0x53b)]}},this[_0x128a59(0x219)]['wuid']);if(!_0x1c3e4c)throw new m(_0x128a59(0x790));let {_id:_0x45df35,leadInfo:_0x3e399c}=_0x3636b1;if(!_0x45df35)throw new Error(_0x128a59(0x791));if(_0x3636b1[_0x128a59(0x71f)]===_0x128a59(0x45f))return await this[_0x128a59(0x294)](_0x3636b1[_0x128a59(0x53b)]),await this[_0x128a59(0xf1)]['chat'][_0x128a59(0x71f)]({'where':{'_id':_0x3636b1['_id']}},this[_0x128a59(0x219)][_0x128a59(0x415)]),await this[_0x128a59(0xf1)][_0x128a59(0x559)]['delete']({'where':{'key':{'remoteJid':_0x3636b1['_id']}}},this[_0x128a59(0x219)][_0x128a59(0x415)]),_0x3636b1=await this[_0x128a59(0xf1)][_0x128a59(0x17e)][_0x128a59(0x1b5)]({'where':{'_id':_0x3636b1[_0x128a59(0x53b)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x128a59(0x219)]['wuid']),J(this[_0x128a59(0x1e9)],_0x128a59(0x77b),{'chat':_0x3636b1}),{'message':_0x128a59(0x1a1)};if(_0x3636b1[_0x128a59(0x71f)]==='messages')return await this[_0x128a59(0xf1)][_0x128a59(0x559)]['delete']({'where':{'key':{'remoteJid':_0x3636b1[_0x128a59(0x53b)]}}},this[_0x128a59(0x219)][_0x128a59(0x415)]),_0x3636b1=await this[_0x128a59(0xf1)][_0x128a59(0x17e)]['updateOne']({'where':{'_id':_0x3636b1[_0x128a59(0x53b)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x128a59(0x219)]['wuid']),J(this[_0x128a59(0x1e9)],_0x128a59(0x77b),{'chat':_0x3636b1}),{'message':_0x128a59(0x2ce)};let _0x55cc5a=(_0x2f0b68,_0x264730,_0x4119d9)=>{const _0x128c84=_0x128a59;_0x2f0b68&&_0x4119d9[_0x128c84(0x32d)](_0x48a581=>{const _0x4c3406=_0x128c84;_0x2f0b68[_0x48a581]!==void 0x0&&(_0x264730[_0x4c3406(0x2f4)+_0x48a581]=_0x2f0b68[_0x48a581]);});},_0x47802b={};if(_0x128a59(0x6be)in _0x3636b1&&(this[_0x128a59(0x2ca)]['verbose'](_0x128a59(0x158)+_0x3636b1[_0x128a59(0x53b)]),_0x3636b1[_0x128a59(0x6be)]=_0x3636b1[_0x128a59(0x6be)]===0x0?null:-0x1,await this[_0x128a59(0x1f2)][_0x128a59(0x54f)]({'mute':_0x3636b1[_0x128a59(0x6be)]},_0x3636b1[_0x128a59(0x53b)]),_0x47802b[_0x128a59(0x6be)]=Number(_0x3636b1['muteEndTime'])),_0x3e399c&&(_0x55cc5a(_0x3e399c,_0x47802b,[_0x128a59(0x369),'nomecompleto',_0x128a59(0x152),_0x128a59(0x325),_0x128a59(0x180),_0x128a59(0x358),'tags',_0x128a59(0x68b),'responsavelid','etiquetas']),Array[_0x128a59(0x560)](_0x3e399c[_0x128a59(0x196)])&&(_0x47802b[_0x128a59(0x2e8)]=_0x3e399c['customFields'][_0x128a59(0x3ef)](_0xb24b90=>({'_id':_0xb24b90[_0x128a59(0x53b)],'value':_0xb24b90['value']}))),_0x3636b1['leadInfo']['etiquetas']!==void 0x0)){let _0x38a918=await this[_0x128a59(0xf1)]['label'][_0x128a59(0x167)]({'where':{}},this[_0x128a59(0x219)][_0x128a59(0x415)]),_0x363c48=new Set(_0x3636b1[_0x128a59(0x173)][_0x128a59(0x750)]||[]),_0x57a4be=new Set(_0x3636b1[_0x128a59(0x173)][_0x128a59(0x750)]),_0x385386=new Set(_0x38a918[_0x128a59(0x3ef)](_0x28b81c=>_0x28b81c['_id'])),_0x5d5e5f=[..._0x57a4be]['filter'](_0x50a0b5=>!_0x363c48[_0x128a59(0x268)](_0x50a0b5)&&_0x385386[_0x128a59(0x268)](_0x50a0b5)),_0x4523c8=[..._0x363c48][_0x128a59(0x586)](_0x29be3f=>!_0x57a4be[_0x128a59(0x268)](_0x29be3f));if(_0x47802b[_0x128a59(0x21b)]=[..._0x363c48],_0x1c3e4c&&!_0x1c3e4c[_0x128a59(0x190)]){for(let _0x44dceb of _0x5d5e5f)await this[_0x128a59(0x4cb)](_0x44dceb,_0x3636b1[_0x128a59(0x53b)]),_0x363c48[_0x128a59(0x6c9)](_0x44dceb);for(let _0x2fae48 of _0x4523c8)await this[_0x128a59(0x440)](_0x2fae48,_0x3636b1[_0x128a59(0x53b)]),_0x363c48[_0x128a59(0x71f)](_0x2fae48);}}if(_0x3636b1[_0x128a59(0x594)]!==void 0x0&&(_0x47802b[_0x128a59(0x594)]=Number(_0x3636b1[_0x128a59(0x594)])),Object[_0x128a59(0x14d)](_0x47802b)['length']===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x14f54f=await this['repository'][_0x128a59(0x17e)][_0x128a59(0x1b5)]({'where':{'_id':_0x3636b1[_0x128a59(0x53b)]}},_0x47802b,this['instance']['wuid']);return _0x14f54f&&J(this[_0x128a59(0x1e9)],_0x128a59(0x77b),{'chat':_0x14f54f}),_0x14f54f?(this[_0x128a59(0x2ca)][_0x128a59(0x77f)](this['instanceName']+'\x20('+this[_0x128a59(0x219)][_0x128a59(0x415)]+_0x128a59(0x48e)+JSON[_0x128a59(0x431)](_0x14f54f,null,0x2)),_0x14f54f):{'message':_0x128a59(0x5d6)};}catch(_0x41d2e7){let _0x3b49a1=_0x128a59(0x163),_0x3824b3=_0x41d2e7 instanceof Error?_0x41d2e7[_0x128a59(0x559)]:typeof _0x41d2e7==_0x128a59(0x661)?JSON[_0x128a59(0x431)](_0x41d2e7):_0x41d2e7,_0x3525af=_0x3b49a1+':\x20'+_0x3824b3;throw this[_0x128a59(0x2ca)][_0x128a59(0xbc)](this[_0x128a59(0x1e9)]+'\x20('+this[_0x128a59(0x219)][_0x128a59(0x415)]+_0x128a59(0x48e)+_0x3525af),new m(_0x3525af);}}async['AddChatLabel'](_0x47e40a,_0x10236b){const _0x8241a3=a0_0x28fd55;try{await this[_0x8241a3(0x1f2)][_0x8241a3(0x135)](_0x10236b,_0x47e40a),console[_0x8241a3(0x125)]('Label\x20'+_0x47e40a+_0x8241a3(0x352)+_0x10236b+'\x20com\x20sucesso.');}catch(_0x5d1f2d){console['error'](_0x8241a3(0x4b3)+_0x47e40a+_0x8241a3(0x208)+_0x10236b+':',_0x5d1f2d);}}async[a0_0x28fd55(0x440)](_0x1ec3f8,_0x54052f){const _0x3a8906=a0_0x28fd55;try{await this[_0x3a8906(0x1f2)][_0x3a8906(0x601)](_0x54052f,_0x1ec3f8),console[_0x3a8906(0x125)](_0x3a8906(0x6c2)+_0x1ec3f8+_0x3a8906(0x391)+_0x54052f+'\x20com\x20sucesso.');}catch(_0x30d819){console[_0x3a8906(0xbc)]('Erro\x20ao\x20remover\x20label\x20'+_0x1ec3f8+_0x3a8906(0x121)+_0x54052f+':',_0x30d819);}}async[a0_0x28fd55(0x4eb)](_0x494e84){const _0x5147cc=a0_0x28fd55;try{let _0x4a125f=await this[_0x5147cc(0xf1)]['automateSystem'][_0x5147cc(0x622)](this['instance']['wuid']),_0x2b320d=_0x494e84[_0x5147cc(0x53b)]?_0x4a125f['agents']['findIndex'](_0x4d4292=>_0x4d4292['_id']===_0x494e84[_0x5147cc(0x53b)]):-0x1;if(_0x494e84[_0x5147cc(0x71f)]&&_0x2b320d>-0x1)_0x4a125f['agents'][_0x5147cc(0x2b7)](_0x2b320d,0x1);else{if(_0x2b320d>-0x1){let _0x1a57e3=_0x4a125f[_0x5147cc(0x57a)][_0x2b320d];_0x494e84[_0x5147cc(0x778)]&&(_0x1a57e3[_0x5147cc(0x778)]=_0x494e84[_0x5147cc(0x778)]),_0x494e84[_0x5147cc(0x616)]&&(_0x1a57e3[_0x5147cc(0x616)]=_0x494e84[_0x5147cc(0x616)]),_0x494e84[_0x5147cc(0x152)]&&(_0x1a57e3[_0x5147cc(0x152)]=_0x494e84[_0x5147cc(0x152)]),_0x494e84[_0x5147cc(0x1a4)]&&(_0x1a57e3[_0x5147cc(0x1a4)]=_0x494e84['role']);}else _0x4a125f[_0x5147cc(0x57a)][_0x5147cc(0x474)]({'_id':_0x494e84['_id']||new re[(_0x5147cc(0x446))][(_0x5147cc(0xb1))][(_0x5147cc(0x725))]()[_0x5147cc(0x6dd)](),'fone':_0x494e84[_0x5147cc(0x778)],'name':_0x494e84[_0x5147cc(0x616)],'email':_0x494e84['email'],'role':_0x494e84[_0x5147cc(0x1a4)]});}let _0x4aa603={'agents':_0x4a125f['agents']},_0x5b1793=await this[_0x5147cc(0xf1)][_0x5147cc(0x59e)][_0x5147cc(0x74b)](_0x4aa603,this['instance'][_0x5147cc(0x415)]);return this[_0x5147cc(0x44a)]=_0x5b1793,this['logger'][_0x5147cc(0x77f)](this[_0x5147cc(0x1e9)]+'\x20('+this['instance'][_0x5147cc(0x415)]+_0x5147cc(0x5ab)),this[_0x5147cc(0x2ca)][_0x5147cc(0x77f)](this[_0x5147cc(0x1e9)]+'\x20('+this[_0x5147cc(0x219)]['wuid']+_0x5147cc(0x48e)+this['AutomateSystem']),_0x5b1793;}catch(_0x346207){let _0x1a133a=_0x5147cc(0x114),_0xa8104b=_0x346207 instanceof Error?_0x346207[_0x5147cc(0x559)]:typeof _0x346207==_0x5147cc(0x661)?JSON[_0x5147cc(0x431)](_0x346207):_0x346207,_0x2b2edd=_0x1a133a+':\x20'+_0xa8104b;throw this[_0x5147cc(0x2ca)][_0x5147cc(0xbc)](this[_0x5147cc(0x1e9)]+'\x20('+this[_0x5147cc(0x219)]['wuid']+_0x5147cc(0x48e)+_0x2b2edd),new m(_0x2b2edd);}}async['updateCustomFields'](_0x333393){const _0x365b4f=a0_0x28fd55;try{let _0x5b30af=await this[_0x365b4f(0xf1)]['automateSystem'][_0x365b4f(0x622)](this[_0x365b4f(0x219)][_0x365b4f(0x415)]),_0x2e7436=_0x333393['_id']?_0x5b30af['customFields'][_0x365b4f(0x565)](_0x9eb2f=>_0x9eb2f[_0x365b4f(0x53b)]===_0x333393['_id']):-0x1,_0x40e15f=!0x1,_0x5084ee=_0x5b30af[_0x365b4f(0x196)]['some'](_0x1a77a6=>_0x1a77a6[_0x365b4f(0x67b)]===_0x333393[_0x365b4f(0x67b)]);if(_0x333393['delete']&&_0x2e7436>-0x1)_0x5b30af[_0x365b4f(0x196)][_0x365b4f(0x2b7)](_0x2e7436,0x1),_0x40e15f=!0x0;else{if(_0x2e7436>-0x1){if(_0x5b30af['customFields']['some'](_0x32c9de=>_0x32c9de[_0x365b4f(0x616)]===_0x333393['name']&&_0x32c9de[_0x365b4f(0x53b)]!==_0x333393[_0x365b4f(0x53b)]))throw new Error(_0x365b4f(0x6ce));let _0x5dfeac=_0x5b30af[_0x365b4f(0x196)][_0x2e7436];_0x333393[_0x365b4f(0x67b)]&&(_0x5084ee||!Number['isInteger'](_0x333393['order']))&&(_0x5dfeac[_0x365b4f(0x67b)]=_0x333393['order'],_0x40e15f=!0x0),_0x333393[_0x365b4f(0x616)]&&(_0x5dfeac[_0x365b4f(0x616)]=_0x333393[_0x365b4f(0x616)]);}else{if(_0x5b30af[_0x365b4f(0x196)][_0x365b4f(0x3c0)](_0x4fb1da=>_0x4fb1da['name']===_0x333393[_0x365b4f(0x616)]&&_0x4fb1da[_0x365b4f(0x53b)]!==_0x333393['_id']))throw new Error(_0x365b4f(0x6ce));_0x5b30af[_0x365b4f(0x196)][_0x365b4f(0x474)]({'_id':_0x333393[_0x365b4f(0x53b)]||new re['default'][(_0x365b4f(0xb1))][(_0x365b4f(0x725))]()[_0x365b4f(0x6dd)](),'order':_0x333393[_0x365b4f(0x67b)],'name':_0x333393[_0x365b4f(0x616)]}),_0x40e15f=!0x0;}}if(_0x40e15f){_0x5b30af['customFields'][_0x365b4f(0x62a)]((_0x59f45b,_0x2a0d3c)=>_0x59f45b[_0x365b4f(0x67b)]>_0x2a0d3c[_0x365b4f(0x67b)]?0x1:_0x2a0d3c[_0x365b4f(0x67b)]>_0x59f45b[_0x365b4f(0x67b)]?-0x1:0x0);for(let _0x2835b5=0x0;_0x2835b5<_0x5b30af[_0x365b4f(0x196)][_0x365b4f(0x479)];_0x2835b5++)_0x5b30af[_0x365b4f(0x196)][_0x2835b5][_0x365b4f(0x67b)]=_0x2835b5+0x1;}let _0x359ba4=await this[_0x365b4f(0xf1)][_0x365b4f(0x59e)][_0x365b4f(0x74b)](_0x5b30af,this[_0x365b4f(0x219)]['wuid']);return this[_0x365b4f(0x44a)]=_0x359ba4,this[_0x365b4f(0x2ca)][_0x365b4f(0x77f)](this[_0x365b4f(0x1e9)]+'\x20('+this[_0x365b4f(0x219)][_0x365b4f(0x415)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x365b4f(0x2ca)]['verbose'](this['instanceName']+'\x20('+this[_0x365b4f(0x219)][_0x365b4f(0x415)]+_0x365b4f(0x48e)+this[_0x365b4f(0x44a)]),_0x359ba4;}catch(_0x313a9c){let _0x46c272=_0x365b4f(0x5bf),_0x16d946=_0x313a9c instanceof Error?_0x313a9c[_0x365b4f(0x559)]:typeof _0x313a9c==_0x365b4f(0x661)?JSON[_0x365b4f(0x431)](_0x313a9c):_0x313a9c,_0x5d3f78=_0x46c272+':\x20'+_0x16d946;throw this[_0x365b4f(0x2ca)]['error'](this[_0x365b4f(0x1e9)]+'\x20('+this[_0x365b4f(0x219)][_0x365b4f(0x415)]+'):\x20'+_0x5d3f78),new m(_0x5d3f78);}}async['updateAutoCompleteMessages'](_0x64fd8e){const _0x16b414=a0_0x28fd55;try{let _0x4c5950=await this['repository'][_0x16b414(0x59e)][_0x16b414(0x622)](this[_0x16b414(0x219)][_0x16b414(0x415)]),_0xb951aa=_0x4c5950['autoCompleteMessages'][_0x16b414(0x565)](_0x2ec896=>_0x2ec896[_0x16b414(0x53b)]===_0x64fd8e[_0x16b414(0x53b)]);if(_0x64fd8e[_0x16b414(0x71f)])_0xb951aa>-0x1&&_0x4c5950['autoCompleteMessages'][_0x16b414(0x2b7)](_0xb951aa,0x1);else{if(_0xb951aa>-0x1){let _0xf4ee02=_0x4c5950['autoCompleteMessages'][_0xb951aa];_0xf4ee02[_0x16b414(0x67b)]=_0x64fd8e[_0x16b414(0x67b)]||_0xf4ee02[_0x16b414(0x67b)],_0xf4ee02[_0x16b414(0x35b)]=_0x64fd8e[_0x16b414(0x35b)]||_0xf4ee02['command'],_0xf4ee02[_0x16b414(0x559)]=_0x64fd8e[_0x16b414(0x559)]||_0xf4ee02[_0x16b414(0x559)];}else{let _0x3208be={'_id':_0x64fd8e[_0x16b414(0x53b)]||new re[(_0x16b414(0x446))][(_0x16b414(0xb1))][(_0x16b414(0x725))]()[_0x16b414(0x6dd)](),'order':_0x64fd8e[_0x16b414(0x67b)],'command':_0x64fd8e[_0x16b414(0x35b)],'message':_0x64fd8e[_0x16b414(0x559)]};_0x4c5950[_0x16b414(0x3ea)][_0x16b414(0x474)](_0x3208be);}}_0x4c5950['autoCompleteMessages'][_0x16b414(0x62a)]((_0x11cae6,_0xddf9eb)=>_0x11cae6[_0x16b414(0x67b)]-_0xddf9eb[_0x16b414(0x67b)]);let _0x2f0f3d=await this[_0x16b414(0xf1)][_0x16b414(0x59e)][_0x16b414(0x74b)](_0x4c5950,this[_0x16b414(0x219)][_0x16b414(0x415)]);return this[_0x16b414(0x44a)]=_0x2f0f3d,this[_0x16b414(0x2ca)][_0x16b414(0x77f)](this[_0x16b414(0x1e9)]+'\x20('+this[_0x16b414(0x219)]['wuid']+_0x16b414(0x3cf)),_0x2f0f3d;}catch(_0x17ba64){let _0x42ce17=_0x16b414(0x1f1),_0x36c6b0=_0x17ba64 instanceof Error?_0x17ba64[_0x16b414(0x559)]:typeof _0x17ba64=='object'?JSON['stringify'](_0x17ba64):_0x17ba64,_0x5af6aa=_0x42ce17+':\x20'+_0x36c6b0;throw this[_0x16b414(0x2ca)][_0x16b414(0xbc)](this[_0x16b414(0x1e9)]+'\x20('+this[_0x16b414(0x219)][_0x16b414(0x415)]+_0x16b414(0x48e)+_0x5af6aa),new m(_0x5af6aa);}}async['updateFlowConfig'](_0x16760c){const _0xe11e59=a0_0x28fd55;try{let _0x2c8963=await this['repository'][_0xe11e59(0x59e)][_0xe11e59(0x622)](this[_0xe11e59(0x219)][_0xe11e59(0x415)]);if(!_0x2c8963)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x36caf4={'_id':_0x2c8963[_0xe11e59(0x53b)],'flowConfig':{'enabled':_0x16760c['enabled']??_0x2c8963[_0xe11e59(0x569)][_0xe11e59(0x690)],'ignoreGroups':_0x16760c[_0xe11e59(0x256)]??_0x2c8963['flowConfig'][_0xe11e59(0x256)],'prefixCommand':_0x16760c[_0xe11e59(0x645)]??_0x2c8963[_0xe11e59(0x569)][_0xe11e59(0x645)],'stopConversation':_0x16760c['stopConversation']??_0x2c8963['flowConfig'][_0xe11e59(0x4df)],'stopMinutes':_0x16760c[_0xe11e59(0x3fc)]??_0x2c8963['flowConfig']['stopMinutes'],'stopWhenYouSendMsg':_0x16760c[_0xe11e59(0x1c3)]??_0x2c8963[_0xe11e59(0x569)][_0xe11e59(0x1c3)]}},_0x4d8fd3=await this[_0xe11e59(0xf1)][_0xe11e59(0x59e)][_0xe11e59(0x74b)](_0x36caf4,this[_0xe11e59(0x219)][_0xe11e59(0x415)]);return this[_0xe11e59(0x44a)]=_0x4d8fd3,this[_0xe11e59(0x2ca)][_0xe11e59(0x77f)](this[_0xe11e59(0x1e9)]+'\x20('+this[_0xe11e59(0x219)][_0xe11e59(0x415)]+_0xe11e59(0x5ab)),this['logger'][_0xe11e59(0x77f)](this[_0xe11e59(0x1e9)]+'\x20('+this[_0xe11e59(0x219)][_0xe11e59(0x415)]+_0xe11e59(0x48e)+this[_0xe11e59(0x44a)]),setTimeout(()=>this[_0xe11e59(0x66f)](),0x7d0),_0x4d8fd3;}catch(_0xad748d){let _0x54edc6=_0xe11e59(0x32f),_0x12eb26=_0xad748d instanceof Error?_0xad748d[_0xe11e59(0x559)]:typeof _0xad748d==_0xe11e59(0x661)?JSON[_0xe11e59(0x431)](_0xad748d):_0xad748d,_0x3f66d0=_0x54edc6+':\x20'+_0x12eb26;throw this[_0xe11e59(0x2ca)][_0xe11e59(0xbc)](this[_0xe11e59(0x1e9)]+'\x20('+this[_0xe11e59(0x219)][_0xe11e59(0x415)]+_0xe11e59(0x48e)+_0x3f66d0),new m(_0x3f66d0);}}async[a0_0x28fd55(0x2e5)](){const _0x1de6f9=a0_0x28fd55;try{let _0x27d0e9=await this[_0x1de6f9(0xf1)][_0x1de6f9(0x59e)]['findOrCreate'](this['instance'][_0x1de6f9(0x415)]);return this['repository'][_0x1de6f9(0x59e)]['updateMany']({'autoCompleteMessages':{'$exists':!0x1}},{'autoCompleteMessages':[]}),this[_0x1de6f9(0x44a)]=_0x27d0e9,this[_0x1de6f9(0x2ca)][_0x1de6f9(0x77f)](this[_0x1de6f9(0x1e9)]+'\x20('+this[_0x1de6f9(0x219)]['wuid']+_0x1de6f9(0x500)),this[_0x1de6f9(0x2ca)][_0x1de6f9(0x77f)](this[_0x1de6f9(0x44a)]),_0x27d0e9;}catch(_0x203179){let _0x38f099=_0x1de6f9(0x466),_0x418ab1=_0x203179 instanceof Error?_0x203179['message']:typeof _0x203179==_0x1de6f9(0x661)?JSON[_0x1de6f9(0x431)](_0x203179):_0x203179,_0x17166a=_0x38f099+':\x20'+_0x418ab1;throw this['logger'][_0x1de6f9(0xbc)](this[_0x1de6f9(0x1e9)]+'\x20('+this['instance']['wuid']+_0x1de6f9(0x48e)+_0x17166a),new m(_0x17166a);}}async[a0_0x28fd55(0x642)](){const _0x1ac7a7=a0_0x28fd55;this[_0x1ac7a7(0x219)][_0x1ac7a7(0x275)][_0x1ac7a7(0x1e1)]&&clearTimeout(this[_0x1ac7a7(0x219)][_0x1ac7a7(0x275)][_0x1ac7a7(0x1e1)]),this[_0x1ac7a7(0x219)][_0x1ac7a7(0x275)][_0x1ac7a7(0x1e1)]=setTimeout(()=>{const _0x2b8945=_0x1ac7a7;this[_0x2b8945(0x3b8)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x28fd55(0x3b8)](){const _0x3d6fc7=a0_0x28fd55;Date[_0x3d6fc7(0x717)]()-this[_0x3d6fc7(0x219)][_0x3d6fc7(0x275)][_0x3d6fc7(0x6c3)]>=0x1d4c0&&(this[_0x3d6fc7(0x2ca)][_0x3d6fc7(0x77f)](this[_0x3d6fc7(0x1e9)]+'\x20('+this['instance'][_0x3d6fc7(0x415)]+_0x3d6fc7(0x97)),this[_0x3d6fc7(0x219)][_0x3d6fc7(0x275)][_0x3d6fc7(0x1fe)]=null,this['instance']['ScheduleMessage'][_0x3d6fc7(0x6c3)]=0x0,this[_0x3d6fc7(0x219)][_0x3d6fc7(0x275)][_0x3d6fc7(0x282)]=0x0,await this[_0x3d6fc7(0x66f)]());}async['scheduleNextCheck'](){const _0xcf02a=a0_0x28fd55;let _0x82627d=()=>{const _0x546afb=a0_0x472e;this[_0x546afb(0x2ca)][_0x546afb(0x77f)](this[_0x546afb(0x1e9)]+'\x20('+this[_0x546afb(0x219)][_0x546afb(0x415)]+_0x546afb(0xa8)+this[_0x546afb(0x219)][_0x546afb(0x275)][_0x546afb(0x1fe)]+'\x20saindo\x20da\x20função');},_0x28b74d=async()=>{const _0x1779d3=a0_0x472e;this[_0x1779d3(0x2ca)]['verbose'](this[_0x1779d3(0x1e9)]+'\x20('+this[_0x1779d3(0x219)]['wuid']+_0x1779d3(0x5fa));let _0xd0f5e=Date[_0x1779d3(0x717)]()-0xc*0x3c*0x3c*0x3e8,_0x17390f={'where':{'status':{'$in':[_0x1779d3(0x119),_0x1779d3(0x450)]},'$or':[{'when':{'$lte':Date[_0x1779d3(0x717)](),'$gte':_0xd0f5e}},{'when':0x0}]}};return await this[_0x1779d3(0xf1)][_0x1779d3(0x22e)]['find'](_0x17390f,this['instance']['wuid']);},_0x137222=async _0x2f8d04=>{const _0xa9de05=a0_0x472e;for(let _0xceacd8 of _0x2f8d04){let _0x1dde77={'_id':_0xceacd8[_0xa9de05(0x53b)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0xa9de05(0x717)]()-0x1770}}]},_0x2d50d9={'startSend':Date['now']()};if(!await this['repository'][_0xa9de05(0x22e)][_0xa9de05(0x1b5)](_0x1dde77,_0x2d50d9,this[_0xa9de05(0x219)][_0xa9de05(0x415)]))return;if(!this['instance'][_0xa9de05(0x275)][_0xa9de05(0x33c)]){this[_0xa9de05(0x2ca)][_0xa9de05(0x77f)](this[_0xa9de05(0x1e9)]+'\x20('+this[_0xa9de05(0x219)][_0xa9de05(0x415)]+_0xa9de05(0x45c));break;}if(_0xceacd8['type']===_0xa9de05(0x364)&&!this['AutomateSystem']?.[_0xa9de05(0x569)][_0xa9de05(0x690)]){this[_0xa9de05(0x2ca)][_0xa9de05(0xbc)](this[_0xa9de05(0x1e9)]+'\x20('+this[_0xa9de05(0x219)][_0xa9de05(0x415)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0xceacd8[_0xa9de05(0x5db)]||_0xceacd8[_0xa9de05(0x5db)][_0xa9de05(0x479)]===0x0)&&(_0xceacd8=await this['repository'][_0xa9de05(0x22e)]['updateOneById'](_0xceacd8[_0xa9de05(0x53b)],{'status':_0xa9de05(0x450),'remoteJidsRemaining':[..._0xceacd8[_0xa9de05(0x118)]]},this[_0xa9de05(0x219)][_0xa9de05(0x415)]));for(let _0x4afc61 of _0xceacd8[_0xa9de05(0x5db)]){if(await this[_0xa9de05(0x642)](),this[_0xa9de05(0x219)]['ScheduleMessage'][_0xa9de05(0x6c3)]=Date[_0xa9de05(0x717)](),this['instance'][_0xa9de05(0x275)][_0xa9de05(0x2d3)]===_0x4afc61){this[_0xa9de05(0x2ca)][_0xa9de05(0xbc)](this[_0xa9de05(0x1e9)]+'\x20('+this[_0xa9de05(0x219)][_0xa9de05(0x415)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20'+_0x4afc61+_0xa9de05(0x442));let _0x353250={'$push':{'messagesSend':{'remoteJid':_0x4afc61,'error':!0x0,'id':null,'error_log':_0xa9de05(0x1bd),'log_timestamp':Date[_0xa9de05(0x717)]()}},'$pull':{'remoteJidsRemaining':_0x4afc61}};await this[_0xa9de05(0xf1)][_0xa9de05(0x22e)][_0xa9de05(0x331)](_0xceacd8[_0xa9de05(0x53b)],_0x353250,this[_0xa9de05(0x219)][_0xa9de05(0x415)]);continue;}if(this[_0xa9de05(0x219)][_0xa9de05(0x275)][_0xa9de05(0x2d3)]=_0x4afc61,_0xceacd8[_0xa9de05(0x33a)][_0xa9de05(0x3c0)](_0x1a3add=>_0x1a3add['remoteJid']===_0x4afc61)){this['logger'][_0xa9de05(0x77f)](this[_0xa9de05(0x1e9)]+'\x20('+this[_0xa9de05(0x219)][_0xa9de05(0x415)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x4afc61+_0xa9de05(0x5f0));continue;}if(!this['instance'][_0xa9de05(0x275)][_0xa9de05(0x33c)]){this[_0xa9de05(0x2ca)]['verbose'](this[_0xa9de05(0x1e9)]+'\x20('+this[_0xa9de05(0x219)]['wuid']+_0xa9de05(0x469));break;}if(!this[_0xa9de05(0x219)][_0xa9de05(0x275)][_0xa9de05(0x1fe)]){this['logger']['verbose'](this[_0xa9de05(0x1e9)]+'\x20('+this[_0xa9de05(0x219)]['wuid']+_0xa9de05(0x78c)+_0xceacd8[_0xa9de05(0x53b)]+_0xa9de05(0xa1));break;}if(_0xceacd8[_0xa9de05(0x68c)]===_0xa9de05(0x364)&&!this[_0xa9de05(0x44a)]?.['flowConfig'][_0xa9de05(0x690)]){this[_0xa9de05(0x2ca)][_0xa9de05(0xbc)](this['instanceName']+'\x20('+this[_0xa9de05(0x219)]['wuid']+_0xa9de05(0x31b));break;}let _0xca56b0={'remoteJid':_0x4afc61,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x100d33=null;try{let _0x59b6e5=await this[_0xa9de05(0x759)](_0x4afc61,_0xceacd8);_0xca56b0[_0xa9de05(0xbc)]=_0x59b6e5[_0xa9de05(0xbc)],_0xca56b0['id']=_0x59b6e5[_0xa9de05(0xbc)]?null:_0x59b6e5['id'],_0xca56b0['error_log']=_0x59b6e5[_0xa9de05(0xbc)]?_0x59b6e5[_0xa9de05(0x35e)]?_0x59b6e5[_0xa9de05(0x35e)][_0xa9de05(0x6dd)]():'':null;let _0x5d1295={'$push':{'messagesSend':_0xca56b0},'$pull':{'remoteJidsRemaining':_0x4afc61}},_0x215147=_0xceacd8['_id'];if(_0x100d33=await this['repository'][_0xa9de05(0x22e)][_0xa9de05(0x331)](_0x215147,_0x5d1295,this[_0xa9de05(0x219)][_0xa9de05(0x415)]),_0x59b6e5['error'])continue;let _0x25ae83=this['getDelay'](_0xceacd8[_0xa9de05(0x297)],_0xceacd8['delaySecMax']);await this['sleep'](_0x25ae83);}catch(_0x41e2f7){this[_0xa9de05(0x2ca)][_0xa9de05(0xbc)](this[_0xa9de05(0x1e9)]+'\x20('+this[_0xa9de05(0x219)][_0xa9de05(0x415)]+_0xa9de05(0x6af)+_0x4afc61+':\x20'+(_0x41e2f7 instanceof Error?_0x41e2f7[_0xa9de05(0x559)]:JSON[_0xa9de05(0x431)](_0x41e2f7,null,0x2))),_0xca56b0[_0xa9de05(0xbc)]=!0x0,_0xca56b0[_0xa9de05(0x41c)]=_0x41e2f7['message'];let _0x98f842={'$push':{'messagesSend':_0xca56b0},'$pull':{'remoteJidsRemaining':_0x4afc61}},_0x956b7f=_0xceacd8[_0xa9de05(0x53b)];_0x100d33=await this['repository'][_0xa9de05(0x22e)][_0xa9de05(0x331)](_0x956b7f,_0x98f842,this[_0xa9de05(0x219)][_0xa9de05(0x415)]);}finally{if(_0x100d33&&_0x100d33[_0xa9de05(0x180)]===_0xa9de05(0xe8)){this[_0xa9de05(0x2ca)][_0xa9de05(0x77f)](this['instanceName']+'\x20('+this[_0xa9de05(0x219)][_0xa9de05(0x415)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0xceacd8[_0xa9de05(0x53b)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}}}let _0x3a2cb9=await this[_0xa9de05(0xf1)][_0xa9de05(0x22e)][_0xa9de05(0x42f)](_0xceacd8['_id'],this[_0xa9de05(0x219)][_0xa9de05(0x415)]);if(_0x3a2cb9[_0xa9de05(0x5db)]['length']===0x0&&_0x3a2cb9['status']!==_0xa9de05(0xe8)){this[_0xa9de05(0x219)][_0xa9de05(0x275)][_0xa9de05(0x2d3)]=null;let _0x23546f={'$set':{'status':'done'}},_0x58634a=_0x3a2cb9[_0xa9de05(0x53b)];await this[_0xa9de05(0xf1)]['scheduleMessage'][_0xa9de05(0x331)](_0x58634a,_0x23546f,this['instance'][_0xa9de05(0x415)]);}await new Promise(_0x559140=>setTimeout(_0x559140,0x1388));}},_0xf7c297=async()=>{const _0x298f08=a0_0x472e;let _0x23600a={'where':{'status':_0x298f08(0x119),'when':{'$gt':Date['now']()}}},_0x5e0e44=await this['repository']['scheduleMessage']['findOne'](_0x23600a,this[_0x298f08(0x219)][_0x298f08(0x415)]);_0x5e0e44&&_0x5e0e44['when']-Date[_0x298f08(0x717)]()<=0x5265c00?this[_0x298f08(0x219)][_0x298f08(0x275)][_0x298f08(0x282)]=_0x5e0e44[_0x298f08(0x24c)]-Date[_0x298f08(0x717)]():this['instance'][_0x298f08(0x275)][_0x298f08(0x282)]=(0x3c+Math[_0x298f08(0x452)](Math[_0x298f08(0x255)]()*0x3c))*0x3c*0x3e8,this[_0x298f08(0x219)][_0x298f08(0x275)]['delayMessage']=Math[_0x298f08(0xc6)](this[_0x298f08(0x219)][_0x298f08(0x275)]['delayMessage'],0x7d0);let _0x3fe768=Math[_0x298f08(0x9a)](this[_0x298f08(0x219)][_0x298f08(0x275)][_0x298f08(0x282)]/0xea60);if(_0x5e0e44){let _0x33619b=new Date(_0x5e0e44[_0x298f08(0x24c)])['toLocaleString']();this[_0x298f08(0x2ca)]['verbose'](this['instanceName']+'\x20('+this[_0x298f08(0x219)]['wuid']+_0x298f08(0xbf)+_0x33619b+_0x298f08(0x4aa)+_0x3fe768+_0x298f08(0x4a8));}else this[_0x298f08(0x2ca)]['verbose'](this[_0x298f08(0x1e9)]+'\x20('+this['instance']['wuid']+_0x298f08(0x484)+_0x3fe768+_0x298f08(0x4a8));setTimeout(()=>this['scheduleNextCheck'](),this[_0x298f08(0x219)][_0x298f08(0x275)][_0x298f08(0x282)]);};if(this[_0xcf02a(0x219)][_0xcf02a(0x275)]['processing_id']){await this[_0xcf02a(0x642)](),_0x82627d();return;}if(!this[_0xcf02a(0x219)][_0xcf02a(0x275)][_0xcf02a(0x33c)]){this[_0xcf02a(0x2ca)][_0xcf02a(0x77f)](this[_0xcf02a(0x1e9)]+'\x20('+this['instance'][_0xcf02a(0x415)]+_0xcf02a(0x76e)),this[_0xcf02a(0x219)][_0xcf02a(0x275)][_0xcf02a(0x1fe)]=null,this[_0xcf02a(0x219)][_0xcf02a(0x275)][_0xcf02a(0x6c3)]=0x0,this[_0xcf02a(0x219)][_0xcf02a(0x275)][_0xcf02a(0x282)]=0x0,this['instance']['ScheduleMessage'][_0xcf02a(0x2d3)]=null;return;}try{let _0x378a0e=await _0x28b74d();_0x378a0e[_0xcf02a(0x479)]===0x0?this[_0xcf02a(0x2ca)]['verbose'](this[_0xcf02a(0x1e9)]+'\x20('+this[_0xcf02a(0x219)][_0xcf02a(0x415)]+_0xcf02a(0x2a8)):(this[_0xcf02a(0x219)][_0xcf02a(0x275)][_0xcf02a(0x1fe)]=_0x378a0e[0x0]['_id'],await _0x137222(_0x378a0e)),await _0xf7c297(),this[_0xcf02a(0x219)][_0xcf02a(0x275)]['processing_id']=null,this[_0xcf02a(0x219)][_0xcf02a(0x275)][_0xcf02a(0x2d3)]=null;}catch(_0x17bace){this[_0xcf02a(0x2ca)][_0xcf02a(0xbc)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x17bace instanceof Error?_0x17bace[_0xcf02a(0x559)]:JSON[_0xcf02a(0x431)](_0x17bace,null,0x2)));}}['getDelay'](_0x1a9560,_0x5a1160){const _0x3fc1c7=a0_0x28fd55;return _0x1a9560=Math['max'](0.5,_0x1a9560),_0x5a1160=Math['min'](Math[_0x3fc1c7(0xc6)](0x3,_0x5a1160),0x78),Math[_0x3fc1c7(0x452)](Math[_0x3fc1c7(0x255)]()*(_0x5a1160-_0x1a9560+0x1)+_0x1a9560)*0x3e8;}[a0_0x28fd55(0x15a)](_0x2616b4){return new Promise(_0x107de7=>setTimeout(_0x107de7,_0x2616b4));}async['getVariablesChat'](_0x10f490){const _0x52e808=a0_0x28fd55;if(!this[_0x52e808(0x44a)]&&(await this[_0x52e808(0x2e5)](),!this[_0x52e808(0x44a)]))return null;_0x10f490=this[_0x52e808(0x536)](_0x10f490);let _0xba71ea=await this[_0x52e808(0xf1)]['chat'][_0x52e808(0x267)]({'where':{'_id':_0x10f490}},this[_0x52e808(0x219)][_0x52e808(0x415)]),_0x127872={};if(_0xba71ea&&_0xba71ea[_0x52e808(0x173)]){let _0x224193=_0xba71ea['leadInfo'];typeof _0x224193[_0x52e808(0x369)]==_0x52e808(0x660)&&(_0x127872[_0x52e808(0x369)]=_0x224193['nome']),typeof _0x224193[_0x52e808(0x327)]==_0x52e808(0x660)&&(_0x127872[_0x52e808(0x327)]=_0x224193[_0x52e808(0x327)]),typeof _0x224193[_0x52e808(0x152)]==_0x52e808(0x660)&&(_0x127872['email']=_0x224193[_0x52e808(0x152)]),typeof _0x224193[_0x52e808(0x325)]==_0x52e808(0x660)&&(_0x127872[_0x52e808(0x325)]=_0x224193['cpf']),typeof _0x224193['status']==_0x52e808(0x660)&&(_0x127872[_0x52e808(0x180)]=_0x224193[_0x52e808(0x180)]),typeof _0x224193[_0x52e808(0x358)]==_0x52e808(0x660)&&(_0x127872[_0x52e808(0x358)]=_0x224193[_0x52e808(0x358)]),typeof _0x224193[_0x52e808(0x35a)]==_0x52e808(0x660)&&(_0x127872[_0x52e808(0x35a)]=_0x224193['responsavelid']),Array[_0x52e808(0x560)](_0x224193[_0x52e808(0x491)])&&(_0x127872[_0x52e808(0x491)]=_0x224193['tags']['join'](',\x20')),Array['isArray'](_0x224193['etiquetas'])&&(_0x127872[_0x52e808(0x750)]=_0x224193[_0x52e808(0x750)][_0x52e808(0x597)](',\x20'));}return _0xba71ea&&_0xba71ea['leadInfo']&&_0xba71ea[_0x52e808(0x173)][_0x52e808(0x196)]&&_0xba71ea[_0x52e808(0x173)][_0x52e808(0x196)][_0x52e808(0x32d)](_0xedb256=>{const _0x29e655=_0x52e808;let _0x30c36b=this[_0x29e655(0x44a)]?.[_0x29e655(0x196)][_0x29e655(0x167)](_0x40110f=>_0x40110f[_0x29e655(0x53b)]===_0xedb256[_0x29e655(0x53b)]);_0x30c36b&&(_0x127872[_0x30c36b[_0x29e655(0x616)]]=_0xedb256[_0x29e655(0x24b)]);}),_0x127872;}async[a0_0x28fd55(0x69a)](_0x3b4d97,_0x365dca){const _0x34f830=a0_0x28fd55;try{let _0x1fe723=await this['getVariablesChat'](_0x365dca);return this[_0x34f830(0x9c)](_0x3b4d97,_0x1fe723);}catch(_0x3c72db){return this[_0x34f830(0x2ca)][_0x34f830(0xbc)](_0x34f830(0x3c1)+_0x365dca+':\x20'+_0x3c72db),_0x3b4d97;}}async[a0_0x28fd55(0x224)](_0x4602d7){const _0x345d0b=a0_0x28fd55;try{if(this[_0x345d0b(0x2ca)][_0x345d0b(0x77f)](this[_0x345d0b(0x1e9)]+'\x20('+this[_0x345d0b(0x219)][_0x345d0b(0x415)]+_0x345d0b(0x5d2)),_0x4602d7[_0x345d0b(0x71f)]&&_0x4602d7['_id']){if(this[_0x345d0b(0x219)][_0x345d0b(0x275)][_0x345d0b(0x1fe)]===_0x4602d7[_0x345d0b(0x53b)][_0x345d0b(0x6dd)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x49ca4b=await this['repository'][_0x345d0b(0x22e)][_0x345d0b(0x341)](_0x4602d7[_0x345d0b(0x53b)],this[_0x345d0b(0x219)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x49ca4b;}let _0x4509ad;if(_0x4602d7['_id']&&(_0x4509ad=await this['repository']['scheduleMessage'][_0x345d0b(0x42f)](_0x4602d7[_0x345d0b(0x53b)],this['instance']['wuid'])),_0x4509ad){let _0x573953;if(this['instance'][_0x345d0b(0x275)]['processing_id']===_0x4509ad[_0x345d0b(0x53b)]['toString']())_0x573953={'$set':{'status':_0x4602d7[_0x345d0b(0x180)]}};else{let {_id:_0x1f9236,..._0x318ae8}=_0x4602d7;_0x573953={'$set':_0x318ae8};}let _0x538d44=await this[_0x345d0b(0xf1)]['scheduleMessage'][_0x345d0b(0x331)](_0x4602d7[_0x345d0b(0x53b)],_0x573953,this[_0x345d0b(0x219)]['wuid']);return setTimeout(()=>this[_0x345d0b(0x66f)](),0x7d0),_0x538d44;}else{_0x4602d7[_0x345d0b(0x178)]=this[_0x345d0b(0x219)][_0x345d0b(0x415)];let _0x218599=await this[_0x345d0b(0xf1)][_0x345d0b(0x22e)]['createAndSave'](_0x4602d7,this['instance'][_0x345d0b(0x415)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x218599;}}catch(_0x368dc9){let _0x5576d='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message',_0x3e2598=_0x368dc9 instanceof Error?_0x368dc9[_0x345d0b(0x559)]:typeof _0x368dc9==_0x345d0b(0x661)?JSON[_0x345d0b(0x431)](_0x368dc9):_0x368dc9,_0x4517e0=_0x5576d+':\x20'+_0x3e2598;throw this[_0x345d0b(0x2ca)][_0x345d0b(0xbc)](this[_0x345d0b(0x1e9)]+'\x20('+this['instance'][_0x345d0b(0x415)]+_0x345d0b(0x48e)+_0x4517e0),new m(_0x4517e0);}}async[a0_0x28fd55(0x12b)](){const _0x4501fd=a0_0x28fd55;try{return await this['repository'][_0x4501fd(0x22e)][_0x4501fd(0x167)]({'where':{}},this[_0x4501fd(0x219)][_0x4501fd(0x415)]);}catch(_0x3628c8){let _0xcc4b8c='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x51f469=_0x3628c8 instanceof Error?_0x3628c8[_0x4501fd(0x559)]:typeof _0x3628c8==_0x4501fd(0x661)?JSON[_0x4501fd(0x431)](_0x3628c8):_0x3628c8,_0x55ff2d=_0xcc4b8c+':\x20'+_0x51f469;throw this[_0x4501fd(0x2ca)]['error'](this[_0x4501fd(0x1e9)]+'\x20('+this['instance'][_0x4501fd(0x415)]+'):\x20'+_0x55ff2d),new m(_0x55ff2d);}}async[a0_0x28fd55(0x211)](){const _0x1bb186=a0_0x28fd55;try{let _0x2918c2={'status':_0x1bb186(0x4ff)},_0x376db5=await this[_0x1bb186(0xf1)][_0x1bb186(0x22e)]['deleteMany'](_0x2918c2,this[_0x1bb186(0x219)][_0x1bb186(0x415)]);if(!_0x376db5[_0x1bb186(0xbc)])this['logger']['verbose'](this[_0x1bb186(0x1e9)]+'\x20('+this[_0x1bb186(0x219)]['wuid']+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x376db5[_0x1bb186(0xbc)][_0x1bb186(0x559)]||_0x1bb186(0x3e4));return this['getScheduleMessage']();}catch(_0x1986d2){let _0x39a4d0=_0x1bb186(0x665),_0x1badde=_0x1986d2 instanceof Error?_0x1986d2[_0x1bb186(0x559)]:typeof _0x1986d2==_0x1bb186(0x661)?JSON[_0x1bb186(0x431)](_0x1986d2):_0x1986d2,_0x377af9=_0x39a4d0+':\x20'+_0x1badde;throw this[_0x1bb186(0x2ca)][_0x1bb186(0xbc)](this[_0x1bb186(0x1e9)]+'\x20('+this[_0x1bb186(0x219)][_0x1bb186(0x415)]+_0x1bb186(0x48e)+_0x377af9),new m(_0x377af9);}}async[a0_0x28fd55(0x759)](_0xb11f1c,_0x5dca0f){const _0x30df04=a0_0x28fd55;try{if(_0x5dca0f[_0x30df04(0x68c)]==='flow'&&!this[_0x30df04(0x44a)]?.[_0x30df04(0x569)][_0x30df04(0x690)])return this[_0x30df04(0x2ca)][_0x30df04(0xbc)](this[_0x30df04(0x1e9)]+'\x20('+this[_0x30df04(0x219)][_0x30df04(0x415)]+_0x30df04(0x71b)),{'error':!0x0,'detail':_0x30df04(0x566)};switch(_0x5dca0f[_0x30df04(0x68c)]){case _0x30df04(0xdd):return await this[_0x30df04(0x65c)](_0x5dca0f,_0xb11f1c);case _0x30df04(0x5f7):return await this[_0x30df04(0x729)](_0x5dca0f,_0xb11f1c);case _0x30df04(0x6c8):return await this[_0x30df04(0x226)](_0x5dca0f,_0xb11f1c);case _0x30df04(0x364):let _0x3b9e1e=new Fe();return _0x3b9e1e[_0x30df04(0x616)]=_0x5dca0f[_0x30df04(0x2e6)],_0x3b9e1e['remoteJid']=_0xb11f1c,await this[_0x30df04(0x680)](_0x3b9e1e);break;default:return this[_0x30df04(0x2ca)]['error'](this['instanceName']+'\x20('+this[_0x30df04(0x219)][_0x30df04(0x415)]+_0x30df04(0x60f)+_0x5dca0f['type']),{'error':!0x0,'detail':_0x30df04(0x32a)};}}catch(_0x3c21d9){return this[_0x30df04(0x2ca)][_0x30df04(0xbc)](this[_0x30df04(0x1e9)]+'\x20('+this[_0x30df04(0x219)][_0x30df04(0x415)]+_0x30df04(0x62b)+(_0x3c21d9 instanceof Error?_0x3c21d9[_0x30df04(0x559)]:JSON['stringify'](_0x3c21d9,null,0x2))),{'error':!0x0,'detail':_0x3c21d9[_0x30df04(0x559)]};}}[a0_0x28fd55(0x590)](_0x4d6ede){const _0x445e3e=a0_0x28fd55;let _0x5e033a=_0x4d6ede['split']('|'),_0x1bcc29=Math['floor'](Math[_0x445e3e(0x255)]()*_0x5e033a[_0x445e3e(0x479)]);return _0x5e033a[_0x1bcc29][_0x445e3e(0x61e)]();}async['scheduleSendText'](_0x597d1a,_0x591157){const _0x263240=a0_0x28fd55;if(this['logger'][_0x263240(0x77f)](this[_0x263240(0x1e9)]+'\x20('+this[_0x263240(0x219)][_0x263240(0x415)]+_0x263240(0x6e8)),!_0x597d1a['message'][_0x263240(0xdd)]||_0x597d1a[_0x263240(0x559)]['text'][_0x263240(0x479)]===0x0)return{'error':!0x0,'detail':_0x263240(0x37b)};let _0x274bce=this[_0x263240(0x590)](_0x597d1a[_0x263240(0x559)][_0x263240(0xdd)]),_0x279329=await this[_0x263240(0x69a)](_0x274bce,_0x591157),_0x1bdf60={'number':_0x591157,'options':{'delay':_0x597d1a[_0x263240(0x559)][_0x263240(0x3cb)],'linkPreview':_0x597d1a[_0x263240(0x559)]['linkPreview']},'textMessage':{'text':_0x279329}},_0x3f8aff=null;try{let _0xa70e16=await this['textMessage'](_0x1bdf60);if(_0xa70e16&&_0xa70e16[_0x263240(0x180)])return{'error':!0x1,'id':_0xa70e16[_0x263240(0x475)]['id']};_0x3f8aff=JSON['stringify'](_0xa70e16),this[_0x263240(0x2ca)]['verbose'](this['instanceName']+'\x20('+this[_0x263240(0x219)][_0x263240(0x415)]+_0x263240(0x48e)+_0x3f8aff);}catch(_0x16391d){this[_0x263240(0x2ca)][_0x263240(0xbc)](this[_0x263240(0x1e9)]+'\x20('+this[_0x263240(0x219)]['wuid']+_0x263240(0x1a6)+(_0x16391d instanceof Error?_0x16391d['message']:JSON[_0x263240(0x431)](_0x16391d,null,0x2))),_0x3f8aff=_0x16391d[_0x263240(0x559)];}if(_0x3f8aff)return{'error':!0x0,'detail':(typeof _0x3f8aff==_0x263240(0x661)?JSON[_0x263240(0x431)](_0x3f8aff,null,0x2):_0x3f8aff)[_0x263240(0x4b8)](/[\[\]{}\n]/g,'\x20')[_0x263240(0x4b8)](/  +/g,'\x20')};}async[a0_0x28fd55(0x729)](_0x4136b9,_0xe309c4){const _0x2c0811=a0_0x28fd55;this[_0x2c0811(0x2ca)][_0x2c0811(0x77f)](this[_0x2c0811(0x1e9)]+'\x20('+this['instance'][_0x2c0811(0x415)]+'):\x20Enviando\x20mídia');let _0x5fb7a3;if(_0x4136b9['message']['text']&&_0x4136b9[_0x2c0811(0x559)]['text'][_0x2c0811(0x479)]>0x0){let _0xe80cc2=this[_0x2c0811(0x590)](_0x4136b9[_0x2c0811(0x559)][_0x2c0811(0xdd)]);_0x5fb7a3=await this[_0x2c0811(0x69a)](_0xe80cc2,_0xe309c4);}let _0x20c651={'number':_0xe309c4,'options':{'delay':_0x4136b9[_0x2c0811(0x559)]['delay'],'linkPreview':_0x4136b9[_0x2c0811(0x559)][_0x2c0811(0x361)]},'mediaMessage':{'mediatype':_0x4136b9[_0x2c0811(0x559)][_0x2c0811(0x70d)],'caption':_0x5fb7a3,'media':_0x4136b9[_0x2c0811(0x559)][_0x2c0811(0xd6)]}},_0x47f309=null;try{let _0x23fadc=await this[_0x2c0811(0x4a1)](_0x20c651);if(_0x23fadc&&_0x23fadc['status'])return{'error':!0x1,'id':_0x23fadc[_0x2c0811(0x475)]['id']};_0x47f309=JSON[_0x2c0811(0x431)](_0x23fadc),this['logger']['verbose'](this[_0x2c0811(0x1e9)]+'\x20('+this[_0x2c0811(0x219)][_0x2c0811(0x415)]+_0x2c0811(0x48e)+_0x47f309);}catch(_0x55d8f7){this['logger'][_0x2c0811(0xbc)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2c0811(0x4d9)+(_0x55d8f7 instanceof Error?_0x55d8f7[_0x2c0811(0x559)]:JSON[_0x2c0811(0x431)](_0x55d8f7,null,0x2))),_0x47f309=_0x55d8f7['message'];}if(_0x47f309)return{'error':!0x0,'detail':(typeof _0x47f309=='object'?JSON['stringify'](_0x47f309,null,0x2):_0x47f309)[_0x2c0811(0x4b8)](/[\[\]{}\n]/g,'\x20')[_0x2c0811(0x4b8)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x1856f0,_0x26f067){const _0x437252=a0_0x28fd55;this[_0x437252(0x2ca)][_0x437252(0x77f)](this['instanceName']+'\x20('+this[_0x437252(0x219)][_0x437252(0x415)]+'):\x20Enviando\x20áudio');let _0x3a9d65={'number':_0x26f067,'options':{'delay':_0x1856f0[_0x437252(0x559)]['delay']},'audioMessage':{'audio':_0x1856f0[_0x437252(0x559)][_0x437252(0xd6)]}},_0x10d1b7=null;try{let _0x4214eb=await this[_0x437252(0x438)](_0x3a9d65);if(_0x4214eb&&_0x4214eb[_0x437252(0x180)])return{'error':!0x1,'id':_0x4214eb[_0x437252(0x475)]['id']};_0x10d1b7=JSON[_0x437252(0x431)](_0x4214eb),this['logger'][_0x437252(0x77f)](this[_0x437252(0x1e9)]+'\x20('+this[_0x437252(0x219)]['wuid']+_0x437252(0x48e)+_0x10d1b7);}catch(_0x36bcd0){this[_0x437252(0x2ca)]['error'](this['instanceName']+'\x20('+this['instance'][_0x437252(0x415)]+_0x437252(0x41d)+(_0x36bcd0 instanceof Error?_0x36bcd0[_0x437252(0x559)]:JSON[_0x437252(0x431)](_0x36bcd0,null,0x2))),_0x10d1b7=_0x36bcd0[_0x437252(0x559)];}if(_0x10d1b7)return{'error':!0x0,'detail':(typeof _0x10d1b7=='object'?JSON[_0x437252(0x431)](_0x10d1b7,null,0x2):_0x10d1b7)[_0x437252(0x4b8)](/[\[\]{}\n]/g,'\x20')[_0x437252(0x4b8)](/  +/g,'\x20')};}},Ut=class c{constructor(_0x598402,_0x5e170f,_0x3c5ca7){const _0x1c89fd=a0_0x28fd55;this[_0x1c89fd(0x19d)]=_0x598402,this['configService']=_0x5e170f,this[_0x1c89fd(0xf1)]=_0x3c5ca7,this['db']={},this[_0x1c89fd(0x14e)]={},this[_0x1c89fd(0x2ca)]=new R(c[_0x1c89fd(0x616)]),this[_0x1c89fd(0x130)]={},(this['removeInstance'](),this[_0x1c89fd(0x1e5)](),Object[_0x1c89fd(0x5ae)](this['db'],_0x5e170f[_0x1c89fd(0x72c)](_0x1c89fd(0x228))),Object[_0x1c89fd(0x5ae)](this[_0x1c89fd(0x14e)],_0x5e170f[_0x1c89fd(0x72c)](_0x1c89fd(0x779))),this[_0x1c89fd(0x2da)]=this['db'][_0x1c89fd(0x15d)]?this[_0x1c89fd(0xf1)][_0x1c89fd(0x60b)]?.['db'](this['db'][_0x1c89fd(0x52d)][_0x1c89fd(0x337)]+_0x1c89fd(0x36b)):void 0x0,this[_0x1c89fd(0x3af)]=this[_0x1c89fd(0x14e)][_0x1c89fd(0x15d)]?new ce(this['redis']):void 0x0);}async['instanceInfo'](_0x434bd3){const _0x18a92f=a0_0x28fd55;if(_0x434bd3&&!this[_0x18a92f(0x130)][_0x434bd3])throw new U(_0x18a92f(0x249)+_0x434bd3+_0x18a92f(0x116));let _0x5b204b=[];for await(let [_0x16d2d4,_0x58b4da]of Object[_0x18a92f(0x55c)](this[_0x18a92f(0x130)]))if(_0x58b4da&&_0x58b4da[_0x18a92f(0x73e)][_0x18a92f(0x2b6)]===_0x18a92f(0x170)){let _0x2c596a=await this['repository'][_0x18a92f(0x15b)]['find'](_0x16d2d4);_0x5b204b[_0x18a92f(0x474)]({'instance':{'instanceName':_0x16d2d4,'apikey':_0x2c596a[_0x18a92f(0x36a)],'owner':_0x58b4da[_0x18a92f(0x415)],'profileName':await _0x58b4da[_0x18a92f(0x45b)]()||'not\x20loaded','profilePictureUrl':_0x58b4da[_0x18a92f(0x379)]}});}return _0x5b204b[_0x18a92f(0x167)](_0x3b1368=>_0x3b1368[_0x18a92f(0x219)][_0x18a92f(0x1e9)]===_0x434bd3)??_0x5b204b;}async[a0_0x28fd55(0x695)](_0x12b69c){const _0x1ee516=a0_0x28fd55;if(this['db'][_0x1ee516(0x15d)]&&(await this['repository'][_0x1ee516(0x60b)]['connect'](),(await this[_0x1ee516(0x2da)][_0x1ee516(0x436)]())[_0x1ee516(0x479)]>0x0&&await this[_0x1ee516(0x2da)]['dropCollection'](_0x12b69c)),this['redis'][_0x1ee516(0x15d)]){this[_0x1ee516(0x3af)][_0x1ee516(0x72a)]=_0x12b69c,await this[_0x1ee516(0x3af)][_0x1ee516(0x657)]();return;}}async[a0_0x28fd55(0x2d0)](){const _0x217d06=a0_0x28fd55;await this['InstancesAlterarTodas']();let _0x15f75c=async _0x96feff=>{const _0x5a1f75=a0_0x472e;let _0x5071be=new Se(this[_0x5a1f75(0x58f)],this[_0x5a1f75(0x19d)],this[_0x5a1f75(0xf1)]);_0x5071be[_0x5a1f75(0x1e9)]=_0x96feff,await _0x5071be[_0x5a1f75(0x46d)](),this[_0x5a1f75(0x130)][_0x96feff]=_0x5071be;};try{if(this[_0x217d06(0x14e)][_0x217d06(0x15d)]){let _0x1857e0=await this[_0x217d06(0x3af)][_0x217d06(0x61a)]();_0x1857e0?.['length']>0x0&&_0x1857e0[_0x217d06(0x32d)](async _0x416e08=>await _0x15f75c(_0x416e08[_0x217d06(0x5c6)](':')[0x1]));return;}if(this['db'][_0x217d06(0x15d)]){await this[_0x217d06(0xf1)][_0x217d06(0x60b)][_0x217d06(0x589)]();let _0xd7e05f=await this[_0x217d06(0x2da)][_0x217d06(0x436)]();_0xd7e05f[_0x217d06(0x479)]>0x0&&_0xd7e05f['forEach'](async _0x4020d6=>await _0x15f75c(_0x4020d6['namespace'][_0x217d06(0x4b8)](/^[\w-]+\./,'')));return;}}catch(_0x2cfe8e){this[_0x217d06(0x2ca)][_0x217d06(0xbc)](_0x2cfe8e);}}async['InstancesAsDisconnectedX'](){const _0x315476=a0_0x28fd55;let _0x3716c8=await this[_0x315476(0xf1)][_0x315476(0x15b)][_0x315476(0x6bf)](),_0x33bdc9=_0x3716c8[_0x315476(0x586)](_0x59fb95=>!this[_0x315476(0x130)][_0x59fb95[_0x315476(0x53b)]]&&(_0x59fb95['online']||typeof _0x59fb95[_0x315476(0x45e)]>'u'));_0x33bdc9[_0x315476(0x479)]>0x0&&await Promise[_0x315476(0x45f)](_0x33bdc9['map'](async _0xdd49e0=>{const _0x1ac5bf=_0x315476;let _0xe7cf0f={'online':!0x1,'lastDisconnect':Date[_0x1ac5bf(0x717)]()};await this[_0x1ac5bf(0xf1)]['auth'][_0x1ac5bf(0x2f7)](_0xe7cf0f,_0xdd49e0[_0x1ac5bf(0x53b)]);}));let _0x48d473=Date[_0x315476(0x717)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x5ed6b2=_0x3716c8[_0x315476(0x586)](_0x41990b=>!this[_0x315476(0x130)][_0x41990b[_0x315476(0x53b)]]&&typeof _0x41990b['lastDisconnect']<'u'&&_0x41990b[_0x315476(0x281)]<_0x48d473);_0x5ed6b2[_0x315476(0x479)]>0x0&&await Promise[_0x315476(0x45f)](_0x5ed6b2[_0x315476(0x3ef)](async _0x51a3c5=>{}));}async[a0_0x28fd55(0x709)](){const _0x1c7523=a0_0x28fd55;try{let _0x4eb316={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x172248={'online':!0x1,'lastDisconnect':Date[_0x1c7523(0x717)]()},_0x42fd5e=await this[_0x1c7523(0xf1)][_0x1c7523(0x15b)][_0x1c7523(0xaf)](_0x4eb316,_0x172248);console['log'](_0x1c7523(0x3db)+_0x42fd5e[_0x1c7523(0x4c6)]),await this[_0x1c7523(0x3a5)]();}catch(_0x322608){console['error'](_0x1c7523(0x752),_0x322608);}}async[a0_0x28fd55(0x3a5)](){const _0x502477=a0_0x28fd55;try{let _0x422a24={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x512d6b=await this[_0x502477(0xf1)]['auth'][_0x502477(0xbd)](_0x422a24);console[_0x502477(0x125)](_0x502477(0x1ef)+_0x512d6b[_0x502477(0x4c6)]);}catch(_0xa84ff3){console[_0x502477(0xbc)](_0x502477(0xd1),_0xa84ff3);}}[a0_0x28fd55(0x23d)](){const _0x47ddf6=a0_0x28fd55;this[_0x47ddf6(0x19d)]['on'](_0x47ddf6(0x603),async _0x11ed50=>{const _0x59515d=_0x47ddf6;try{this[_0x59515d(0x130)][_0x11ed50]=void 0x0;}catch{}try{this[_0x59515d(0x695)](_0x11ed50);}finally{this[_0x59515d(0x2ca)][_0x59515d(0x5ba)](_0x59515d(0x249)+_0x11ed50+_0x59515d(0x432));}});}[a0_0x28fd55(0x1e5)](){const _0x165b46=a0_0x28fd55;this[_0x165b46(0x19d)]['on'](_0x165b46(0x333),async _0x531861=>{const _0x12978a=_0x165b46;try{this['waInstances'][_0x531861]=void 0x0;}catch{}try{this[_0x12978a(0x695)](_0x531861);}finally{this['logger']['warn'](_0x12978a(0x249)+_0x531861+_0x12978a(0x155));}});}},qt=class extends x{[a0_0x28fd55(0x54c)](_0x47d19f){return Ys(_0x47d19f);}async[a0_0x28fd55(0x278)](_0x4f134b){const _0x389fce=a0_0x28fd55;if(_0x4f134b[_0x389fce(0x479)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x4f134b[0x0]['owner'])[_0x389fce(0x496)]([..._0x4f134b]))[_0x389fce(0x479)]};}catch(_0x54b78b){return _0x54b78b;}}async[a0_0x28fd55(0x167)](_0xb05ff,_0x5ddb17){const _0x401b8f=a0_0x28fd55;try{let _0x5d6906=this['getChatModelForOwner'](_0x5ddb17),_0x4cba65=A(_0xb05ff[_0x401b8f(0x33b)]);return await _0x5d6906[_0x401b8f(0x167)](_0x4cba65)[_0x401b8f(0x62a)]({'lastmsg':-0x1})['limit'](_0xb05ff?.[_0x401b8f(0x771)]??0x0)[_0x401b8f(0x483)]();}catch{return[];}}async[a0_0x28fd55(0x71f)](_0x15e11d,_0x516414){const _0x40f3dd=a0_0x28fd55;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x516414)[_0x40f3dd(0xbd)]({..._0x15e11d[_0x40f3dd(0x33b)]}))[_0x40f3dd(0x342)]};}catch(_0x13fc4f){return{'error':_0x13fc4f?.[_0x40f3dd(0x6dd)]()};}}async[a0_0x28fd55(0x4a3)](_0x43bf62,_0x113baf){const _0x1c2b41=a0_0x28fd55;try{return await this[_0x1c2b41(0x54c)](_0x113baf)[_0x1c2b41(0xbd)]({..._0x43bf62[_0x1c2b41(0x33b)]}),[];}catch(_0x17d2d0){return{'error':_0x17d2d0?.[_0x1c2b41(0x6dd)]()};}}async[a0_0x28fd55(0x267)](_0x440d6d,_0x5c1b0a){const _0x348733=a0_0x28fd55;try{let _0x3fa83f=this['getChatModelForOwner'](_0x5c1b0a),_0x34d86f=A(_0x440d6d[_0x348733(0x33b)]);return await _0x3fa83f[_0x348733(0x267)](_0x34d86f)['lean']();}catch{return null;}}async[a0_0x28fd55(0x1b5)](_0x1e37de,_0x573aab,_0x7ade65,_0x32bb4e,_0x3b70b7=a0_0x28fd55(0x499)){const _0x529395=a0_0x28fd55;try{let _0x30052b={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x32bb4e},_0x53212d=this[_0x529395(0x54c)](_0x7ade65),_0xee6594=A(_0x1e37de[_0x529395(0x33b)]);Object[_0x529395(0x14d)](_0x573aab)[_0x529395(0x32d)](_0x5aea87=>{_0x573aab[_0x5aea87]==null&&delete _0x573aab[_0x5aea87];});let _0x505f23={};return _0x505f23[_0x3b70b7]=_0x573aab,await _0x53212d[_0x529395(0x3b5)](_0xee6594,_0x505f23,_0x30052b);}catch(_0x1d2020){return console[_0x529395(0xbc)](_0x1d2020),null;}}async[a0_0x28fd55(0x40d)](_0x463e15){const _0x4fd256=a0_0x28fd55;try{let _0xbc451d=this[_0x4fd256(0x54c)](_0x463e15[0x0][_0x4fd256(0x4db)]['where'][_0x4fd256(0x178)]),_0x4f709b=_0x463e15[_0x4fd256(0x3ef)](_0x3bca4c=>({'updateOne':{'filter':{..._0x3bca4c[_0x4fd256(0x4db)][_0x4fd256(0x33b)]},'update':{'$set':_0x3bca4c[_0x4fd256(0x74b)]},'upsert':!0x0}})),_0x4eb334=await _0xbc451d[_0x4fd256(0x68a)](_0x4f709b);return _0x4eb334['modifiedCount']+_0x4eb334[_0x4fd256(0x149)];}catch(_0x42d5d7){return console[_0x4fd256(0xbc)](_0x42d5d7),0x0;}}async[a0_0x28fd55(0x357)](_0x5354d9){const _0x3bb274=a0_0x28fd55;try{let _0x480a16={'group_isCommunity':'','group_announce':'','group_size':''},_0x14b120={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x58c527={'$unset':_0x480a16};return(await this[_0x3bb274(0x54c)](_0x5354d9)[_0x3bb274(0x40d)](_0x14b120,_0x58c527))['modifiedCount'];}catch(_0x27f923){return console[_0x3bb274(0xbc)](_0x3bb274(0x5b3),_0x27f923),0x0;}}async[a0_0x28fd55(0xb7)](_0x346dd1){const _0x205ef0=a0_0x28fd55;try{let _0x1f9796=this[_0x205ef0(0x54c)](_0x346dd1),_0x2daefe={'leadInfo.etiquetas':{'$exists':!0x1}},_0x116157={'$set':{'leadInfo.etiquetas':[]}};return(await _0x1f9796[_0x205ef0(0x40d)](_0x2daefe,_0x116157))[_0x205ef0(0x362)];}catch(_0x3f078e){return console[_0x205ef0(0xbc)](_0x3f078e),0x0;}}async[a0_0x28fd55(0x398)](_0x7342b7){const _0x5ba8e5=a0_0x28fd55;try{let _0x3cb7f1=this[_0x5ba8e5(0x54c)](_0x7342b7),_0x2cd550={'leadInfo.tags':{'$exists':!0x1}},_0x375998={'$set':{'leadInfo.tags':[]}};return(await _0x3cb7f1[_0x5ba8e5(0x40d)](_0x2cd550,_0x375998))[_0x5ba8e5(0x362)];}catch(_0x571206){return console[_0x5ba8e5(0xbc)](_0x571206),0x0;}}async[a0_0x28fd55(0x740)](_0x48b2ad){const _0x3d1f58=a0_0x28fd55;try{let _0x5a78e1=this['getChatModelForOwner'](_0x48b2ad),_0x846b2c={'leadInfo.customFields':{'$exists':!0x1}},_0x1447b6={'$set':{'leadInfo.customFields':[]}};return(await _0x5a78e1[_0x3d1f58(0x40d)](_0x846b2c,_0x1447b6))[_0x3d1f58(0x362)];}catch(_0x4b3b83){return console[_0x3d1f58(0xbc)](_0x4b3b83),0x0;}}async['insertMany'](_0x15f314,_0x5f2332){const _0x470891=a0_0x28fd55;if(!Array[_0x470891(0x560)](_0x15f314)||_0x15f314[_0x470891(0x479)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this[_0x470891(0x54c)](_0x5f2332)[_0x470891(0x496)](_0x15f314))['length'];}catch(_0x1fff2e){throw console[_0x470891(0xbc)](_0x470891(0x681),_0x1fff2e),_0x1fff2e;}}async[a0_0x28fd55(0x294)](_0xa93e79,_0x501bf7){const _0x441869=a0_0x28fd55;try{await this[_0x441869(0x54c)](_0x501bf7)[_0x441869(0x341)]({'_id':_0xa93e79});}catch(_0x414977){throw console[_0x441869(0xbc)](_0x441869(0x51e),_0x414977),_0x414977;}}},Vt=class extends x{constructor(_0xdf00d2,_0x1aa55e,_0x9796df){const _0x56ec76=a0_0x28fd55;super(_0x1aa55e),this[_0x56ec76(0x760)]=_0xdf00d2,this[_0x56ec76(0x58f)]=_0x1aa55e,this[_0x56ec76(0x647)]=_0x9796df;}async[a0_0x28fd55(0x278)](_0xb8ee2d){const _0x34ef18=a0_0x28fd55;if(_0xb8ee2d[_0x34ef18(0x479)]!==0x0)try{return{'insertCount':(await this[_0x34ef18(0x760)][_0x34ef18(0x496)]([..._0xb8ee2d]))['length']};}catch(_0x4e393d){return _0x4e393d;}}async['update'](_0x418734,_0x3e825a){const _0x3dec98=a0_0x28fd55;try{let _0x121d2a=A(_0x418734['where']);return{'updatedCount':(await this['cacheContactModel']['updateMany'](_0x121d2a,{'$set':_0x3e825a}))['modifiedCount']};}catch(_0x39b2fd){return console[_0x3dec98(0xbc)](_0x3dec98(0x439),_0x39b2fd),{'error':_0x39b2fd[_0x3dec98(0x6dd)]()};}}async[a0_0x28fd55(0x527)](_0x173286){const _0x2389cd=a0_0x28fd55;try{let _0x68aee1={'_id':{'$in':_0x173286}};return await this[_0x2389cd(0x760)][_0x2389cd(0x167)](_0x68aee1)['lean']();}catch(_0x1148b7){return console[_0x2389cd(0xbc)](_0x2389cd(0x3d7),_0x1148b7),[];}}async[a0_0x28fd55(0x71f)](_0x7f02f8){const _0x34536c=a0_0x28fd55;try{return{'deletedCount':(await this['cacheContactModel'][_0x34536c(0xbd)]({..._0x7f02f8[_0x34536c(0x33b)]}))[_0x34536c(0x342)]};}catch(_0x204536){return{'error':_0x204536?.['toString']()};}}async['find'](_0x54fc5c){const _0x1856ee=a0_0x28fd55;try{let _0x2c0602=A(_0x54fc5c[_0x1856ee(0x33b)]);return await this[_0x1856ee(0x760)]['find'](_0x2c0602)['limit'](_0x54fc5c?.[_0x1856ee(0x771)]??0x0)[_0x1856ee(0x483)]();}catch{return[];}}async['findOne'](_0x2e12f9){const _0x7cdb35=a0_0x28fd55;try{let _0x22eb6b=A(_0x2e12f9['where']);return await this[_0x7cdb35(0x760)][_0x7cdb35(0x267)](_0x22eb6b)[_0x7cdb35(0x483)]();}catch{return null;}}},Gt=class extends x{[a0_0x28fd55(0x17a)](_0x1ba332){return Ea(_0x1ba332);}async[a0_0x28fd55(0x1b5)](_0x2f3e88,_0x180430,_0x260e02,_0xab7089){const _0x5033c8=a0_0x28fd55;try{let _0x3a0b19={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0xab7089},_0x93cd65=this[_0x5033c8(0x17a)](_0x260e02),_0x1c90d1=A(_0x2f3e88[_0x5033c8(0x33b)]);return await _0x93cd65[_0x5033c8(0x3b5)](_0x1c90d1,{'$set':_0x180430},_0x3a0b19);}catch(_0x3d79d1){return console[_0x5033c8(0xbc)](_0x3d79d1),null;}}async[a0_0x28fd55(0x167)](_0xe3cc9a,_0x15b82c){const _0x5ad85f=a0_0x28fd55;try{let _0x1c116d=this[_0x5ad85f(0x17a)](_0x15b82c),_0x366b1f=A(_0xe3cc9a[_0x5ad85f(0x33b)]);return await _0x1c116d[_0x5ad85f(0x167)](_0x366b1f);}catch(_0x3ba8b5){console[_0x5ad85f(0xbc)](_0x3ba8b5);}}async[a0_0x28fd55(0x71f)](_0x41ce3c,_0x2715f4){const _0x197292=a0_0x28fd55;try{let _0x35b85c=this['getLabelModelForOwner'](_0x2715f4),_0xfaa4a6=A(_0x41ce3c[_0x197292(0x33b)]);await _0x35b85c[_0x197292(0xbd)](_0xfaa4a6);}catch(_0x127dc9){console[_0x197292(0xbc)](_0x127dc9);}}async[a0_0x28fd55(0x4a3)](_0x113565){const _0x298150=a0_0x28fd55;try{return await this[_0x298150(0x17a)](_0x113565)[_0x298150(0x1f8)]['drop'](),{'success':!0x0};}catch(_0x6eaf73){return console[_0x298150(0xbc)](_0x6eaf73),{'success':!0x1,'error':_0x6eaf73};}}},Bt=class{constructor(_0x553e49){this['waMonitor']=_0x553e49;}async[a0_0x28fd55(0x787)]({instanceName:_0xb90454},_0x3a1c4b){const _0x2cfc5e=a0_0x28fd55;return await this['waMonitor'][_0x2cfc5e(0x130)][_0xb90454][_0x2cfc5e(0x787)](_0x3a1c4b);}async['whatsappNumber']({instanceName:_0x4aa00e},_0x139a0a){const _0x20d480=a0_0x28fd55;return await this[_0x20d480(0x547)][_0x20d480(0x130)][_0x4aa00e][_0x20d480(0x3df)](_0x139a0a);}async[a0_0x28fd55(0x385)]({instanceName:_0x124f88},_0x36e7be){const _0x32a183=a0_0x28fd55;return await this['waMonitor'][_0x32a183(0x130)][_0x124f88][_0x32a183(0x385)](_0x36e7be);}async['readMessage']({instanceName:_0x2d3280},_0x18cf54){const _0x915a2f=a0_0x28fd55;return await this[_0x915a2f(0x547)]['waInstances'][_0x2d3280][_0x915a2f(0x329)](_0x18cf54);}async[a0_0x28fd55(0x3bf)]({instanceName:_0x3aaedc},_0x39cfc7){const _0xa04888=a0_0x28fd55;return await this[_0xa04888(0x547)][_0xa04888(0x130)][_0x3aaedc][_0xa04888(0x3bf)](_0x39cfc7);}async['deleteMessage']({instanceName:_0x1c6cc2},_0x239715){const _0x3cb294=a0_0x28fd55;return await this[_0x3cb294(0x547)][_0x3cb294(0x130)][_0x1c6cc2][_0x3cb294(0x3b6)](_0x239715);}async[a0_0x28fd55(0x411)]({instanceName:_0x2aeb2a},_0x196cb3){const _0x127ae1=a0_0x28fd55;return await this[_0x127ae1(0x547)][_0x127ae1(0x130)][_0x2aeb2a][_0x127ae1(0x2ab)](_0x196cb3[_0x127ae1(0x461)]);}async[a0_0x28fd55(0x2f5)]({instanceName:_0x44d1f8},_0xcf7cd3){const _0x3be168=a0_0x28fd55;return await this['waMonitor']['waInstances'][_0x44d1f8]['fetchProfile'](_0xcf7cd3[_0x3be168(0x461)]);}async['updatePresence']({instanceName:_0x1bf1fc},_0x41af1a){const _0x4cdb02=a0_0x28fd55;return await this[_0x4cdb02(0x547)][_0x4cdb02(0x130)][_0x1bf1fc][_0x4cdb02(0x694)](_0x41af1a);}async['fetchContacts']({instanceName:_0x43f5ff},_0x221046){const _0x1683e0=a0_0x28fd55;return await this[_0x1683e0(0x547)]['waInstances'][_0x43f5ff][_0x1683e0(0x355)](_0x221046);}async[a0_0x28fd55(0x42c)]({instanceName:_0x3ada6b},_0x32e4d9){const _0x12c729=a0_0x28fd55;return await this[_0x12c729(0x547)][_0x12c729(0x130)][_0x3ada6b][_0x12c729(0x42c)](_0x32e4d9);}async[a0_0x28fd55(0x204)]({instanceName:_0x328e6f},_0x154970){const _0x233676=a0_0x28fd55;return await this[_0x233676(0x547)][_0x233676(0x130)][_0x328e6f][_0x233676(0x204)](_0x154970);}async['fetchLabels']({instanceName:_0x4006cc}){const _0x56658a=a0_0x28fd55;return await this['waMonitor'][_0x56658a(0x130)][_0x4006cc][_0x56658a(0x731)]();}async[a0_0x28fd55(0x406)]({instanceName:_0x4d10e6}){const _0x4cdc7a=a0_0x28fd55;return await this['waMonitor']['waInstances'][_0x4d10e6][_0x4cdc7a(0x406)]();}async[a0_0x28fd55(0x45d)]({instanceName:_0x3c6c89}){const _0x2b45f1=a0_0x28fd55;return await this[_0x2b45f1(0x547)][_0x2b45f1(0x130)][_0x3c6c89]['fetchPrivacySettings']();}async[a0_0x28fd55(0x433)]({instanceName:_0x5f55f0},_0x512cc9){const _0x17ca88=a0_0x28fd55;return await this[_0x17ca88(0x547)][_0x17ca88(0x130)][_0x5f55f0][_0x17ca88(0x433)](_0x512cc9);}async['fetchBusinessProfile']({instanceName:_0x24b223},_0x487918){const _0x4c1d48=a0_0x28fd55;return await this[_0x4c1d48(0x547)][_0x4c1d48(0x130)][_0x24b223]['fetchBusinessProfile'](_0x487918[_0x4c1d48(0x461)]);}async['updateProfileName']({instanceName:_0x3d3d2f},_0x25eaac){const _0x37d386=a0_0x28fd55;return await this[_0x37d386(0x547)]['waInstances'][_0x3d3d2f][_0x37d386(0x2b5)](_0x25eaac[_0x37d386(0x616)]);}async[a0_0x28fd55(0x512)]({instanceName:_0x28ec5f},_0x3a0d0f){const _0x4bb7c8=a0_0x28fd55;return await this[_0x4bb7c8(0x547)][_0x4bb7c8(0x130)][_0x28ec5f][_0x4bb7c8(0x512)](_0x3a0d0f[_0x4bb7c8(0x180)]);}async['updateProfilePicture']({instanceName:_0x2a0068},_0x337a21){const _0x44b8bd=a0_0x28fd55;return await this[_0x44b8bd(0x547)][_0x44b8bd(0x130)][_0x2a0068][_0x44b8bd(0x2b8)](_0x337a21[_0x44b8bd(0x346)]);}async[a0_0x28fd55(0x40e)]({instanceName:_0x530095},_0x477601){const _0x5e3a5d=a0_0x28fd55;return await this[_0x5e3a5d(0x547)][_0x5e3a5d(0x130)][_0x530095]['removeProfilePicture']();}},Ps=require(a0_0x28fd55(0x5dc)),Wt=class c{constructor(_0x3e47ab,_0x44afb9,_0x548e1d,_0x35d0e4,_0x19c00d){const _0x523e96=a0_0x28fd55;this[_0x523e96(0x547)]=_0x3e47ab,this[_0x523e96(0x58f)]=_0x44afb9,this['repository']=_0x548e1d,this[_0x523e96(0x19d)]=_0x35d0e4,this[_0x523e96(0x181)]=_0x19c00d,this[_0x523e96(0x2ca)]=new R(c[_0x523e96(0x616)]);}async[a0_0x28fd55(0x741)]({instanceName:_0xa39d2d,apikey:_0x24bb6f,number:_0x1986bf,proxy:_0x537bb0=!0x0}){const _0x6704fc=a0_0x28fd55;try{let _0x2f4c9f=new Se(this[_0x6704fc(0x58f)],this['eventEmitter'],this[_0x6704fc(0xf1)]);_0x2f4c9f[_0x6704fc(0x1e9)]=_0xa39d2d,this[_0x6704fc(0x547)][_0x6704fc(0x130)][_0x2f4c9f[_0x6704fc(0x1e9)]]=_0x2f4c9f;let _0xc50032={};_0x24bb6f?(await this[_0x6704fc(0xf1)][_0x6704fc(0x15b)][_0x6704fc(0x2f7)]({'apikey':_0x24bb6f},_0xa39d2d),_0xc50032[_0x6704fc(0x36a)]=_0x24bb6f):_0xc50032=await this[_0x6704fc(0x181)][_0x6704fc(0x762)]({'instanceName':_0x2f4c9f['instanceName']});let _0x75b626;if(_0x1986bf){if(_0x75b626=await this[_0x6704fc(0x142)](_0x1986bf),_0x75b626[_0x6704fc(0xbc)])throw new I(_0x75b626['error'][_0x6704fc(0x6dd)]());_0x1986bf=_0x75b626[_0x6704fc(0x461)];}let _0x5e5042;return await _0x2f4c9f[_0x6704fc(0x46d)](_0x1986bf),await(0x0,Ps[_0x6704fc(0x3cb)])(0x7d0),_0x5e5042=_0x2f4c9f[_0x6704fc(0x1b3)],{'instance':{'instanceName':_0x2f4c9f[_0x6704fc(0x1e9)],'status':'created'},'hash':_0xc50032,'qrcode':_0x5e5042};}catch(_0xf775dd){throw this[_0x6704fc(0x2ca)][_0x6704fc(0xbc)](_0xf775dd),_0xf775dd;}}async[a0_0x28fd55(0x2be)]({instanceName:_0x375c8b,number:_0x377c2c=null}){const _0x2a2282=a0_0x28fd55;try{let _0xddc17c=this['waMonitor']['waInstances'][_0x375c8b];switch(_0xddc17c?.['connectionStatus']?.['state']){case _0x2a2282(0x575):return await _0xddc17c['connectToWhatsapp'](_0x377c2c),await(0x0,Ps['delay'])(0x7d0),_0xddc17c[_0x2a2282(0x1b3)];case _0x2a2282(0x549):return _0xddc17c[_0x2a2282(0x1b3)];default:return await this[_0x2a2282(0x245)]({'instanceName':_0x375c8b});}}catch(_0x225670){this['logger'][_0x2a2282(0x125)](_0x225670);}}async[a0_0x28fd55(0x245)]({instanceName:_0x293601}){const _0x2d909f=a0_0x28fd55;let _0x4a6eeb=this[_0x2d909f(0x547)][_0x2d909f(0x130)][_0x293601][_0x2d909f(0x73e)],_0x9d27ab=null;_0x4a6eeb['state']===_0x2d909f(0x170)&&_0x293601&&(_0x9d27ab=await this['waMonitor'][_0x2d909f(0x6d7)](_0x293601));let _0x363d52=null;return _0x4a6eeb[_0x2d909f(0x2b6)]===_0x2d909f(0x549)&&_0x293601&&(_0x363d52=this[_0x2d909f(0x547)][_0x2d909f(0x130)][_0x293601][_0x2d909f(0x1b3)]),{'instance':_0x293601,'connectionStatus':_0x4a6eeb,'instanceInfo':_0x9d27ab,'qrcode':_0x363d52};}async[a0_0x28fd55(0x142)](_0x24321c){const _0xce6fe7=a0_0x28fd55;_0x24321c=_0x24321c['replace'](/\D/g,'');let _0x7cb5d9=Object['keys'](this[_0xce6fe7(0x547)][_0xce6fe7(0x130)])[_0xce6fe7(0x586)](_0x3cdfae=>{const _0xc1ca7b=_0xce6fe7;let _0xdd81f7=this['waMonitor'][_0xc1ca7b(0x130)][_0x3cdfae];return _0xdd81f7&&_0xdd81f7[_0xc1ca7b(0x73e)]&&_0xdd81f7['connectionStatus']['state']===_0xc1ca7b(0x170);});if(_0x7cb5d9[_0xce6fe7(0x479)]===0x0)return{'number':this[_0xce6fe7(0x1cb)](_0x24321c)};let _0x5909b0=Math[_0xce6fe7(0x452)](Math[_0xce6fe7(0x255)]()*_0x7cb5d9['length']),_0x738c80=_0x7cb5d9[_0x5909b0];try{let _0x5ccbc3=(await this[_0xce6fe7(0x547)][_0xce6fe7(0x130)][_0x738c80]['whatsappNumber']({'numbers':[_0x24321c]}))['shift']();return _0x5ccbc3['exists']?{'number':_0x5ccbc3[_0xce6fe7(0x39c)][_0xce6fe7(0x4b8)](_0xce6fe7(0x6fb),'')}:{'number':_0x24321c,'error':_0xce6fe7(0x205)};}catch(_0x5e5910){return this[_0xce6fe7(0x2ca)]['error']('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x5e5910),{'number':_0x24321c,'error':_0xce6fe7(0x2fb)};}}[a0_0x28fd55(0x1cb)](_0x7b2244){const _0x7d54c0=a0_0x28fd55;let _0xb37a70=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x7d54c0(0x39a)](_0x7b2244);if(_0xb37a70&&_0xb37a70[0x1]==='55'){let _0x4028c0=_0xb37a70[0x2],_0x2165d0=_0xb37a70[0x3],_0x386768=_0xb37a70[0x4];if(parseInt(_0x4028c0)>=0x1f&&_0x2165d0==='9')return _0xb37a70[0x1]+_0x4028c0+_0x386768;}return _0x7b2244;}async[a0_0x28fd55(0x53d)]({instanceName:_0x1b4fe9}){const _0x7dd497=a0_0x28fd55;try{return this[_0x7dd497(0x547)][_0x7dd497(0x130)][_0x1b4fe9]?.['client']?.['ws']?.['close'](),{'status':_0x7dd497(0x58b),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x5baad0){this['logger'][_0x7dd497(0xbc)](_0x5baad0);}}async['fetchInstances']({instanceName:_0x542ab9}){const _0x162697=a0_0x28fd55;return _0x542ab9?this[_0x162697(0x547)][_0x162697(0x6d7)](_0x542ab9):this[_0x162697(0x547)][_0x162697(0x6d7)]();}async[a0_0x28fd55(0x613)]({instanceName:_0x2328ac}){const _0xe2432b=a0_0x28fd55;try{return await this[_0xe2432b(0x547)][_0xe2432b(0x130)][_0x2328ac]?.['client']?.[_0xe2432b(0x613)](_0xe2432b(0x464)+_0x2328ac),{'error':!0x1,'message':_0xe2432b(0x532)};}catch(_0x39c1b1){throw new I(_0x39c1b1[_0xe2432b(0x6dd)]());}}async['deleteInstance']({instanceName:_0x3de901}){const _0x40276c=a0_0x28fd55;if((await this[_0x40276c(0x245)]({'instanceName':_0x3de901}))[_0x40276c(0x73e)][_0x40276c(0x2b6)]===_0x40276c(0x170))throw new m(['Deletion\x20failed',_0x40276c(0xeb)]);try{return delete this[_0x40276c(0x547)][_0x40276c(0x130)][_0x3de901],{'error':!0x1,'message':_0x40276c(0x5ee)};}catch(_0x23b79a){throw new m(_0x23b79a[_0x40276c(0x6dd)]());}}},ee=require(a0_0x28fd55(0xe3)),zt=class{constructor(_0x3b05ab){const _0x17d575=a0_0x28fd55;this[_0x17d575(0x547)]=_0x3b05ab;}async['sendText']({instanceName:_0x2ced5b},_0x432631){const _0x3fd346=a0_0x28fd55;return await this[_0x3fd346(0x547)]['waInstances'][_0x2ced5b][_0x3fd346(0x4b6)](_0x432631);}async[a0_0x28fd55(0x6a1)]({instanceName:_0x596b05},_0x20bf5e){const _0x5ee17b=a0_0x28fd55;return await this['waMonitor']['waInstances'][_0x596b05][_0x5ee17b(0x588)](_0x20bf5e);}async[a0_0x28fd55(0x11c)]({instanceName:_0xe6ff14},_0x4b4980){const _0x495f52=a0_0x28fd55;if((0x0,ee[_0x495f52(0x73f)])(_0x4b4980?.['mediaMessage']?.[_0x495f52(0x5f7)])&&!_0x4b4980?.[_0x495f52(0x4a1)]?.['fileName'])throw new m(_0x495f52(0x318));if((0x0,ee[_0x495f52(0x774)])(_0x4b4980?.[_0x495f52(0x4a1)]?.['media'])||(0x0,ee[_0x495f52(0x73f)])(_0x4b4980?.[_0x495f52(0x4a1)]?.[_0x495f52(0x5f7)]))return await this[_0x495f52(0x547)][_0x495f52(0x130)][_0xe6ff14][_0x495f52(0x4a1)](_0x4b4980);throw new m(_0x495f52(0xed));}async[a0_0x28fd55(0x24f)]({instanceName:_0x2429c5},_0x3756b3){const _0x13a5c1=a0_0x28fd55;if((0x0,ee[_0x13a5c1(0x774)])(_0x3756b3[_0x13a5c1(0x78b)][_0x13a5c1(0x76a)])||(0x0,ee['isBase64'])(_0x3756b3[_0x13a5c1(0x78b)][_0x13a5c1(0x76a)]))return await this['waMonitor'][_0x13a5c1(0x130)][_0x2429c5][_0x13a5c1(0x1c1)](_0x3756b3);throw new m(_0x13a5c1(0xed));}async[a0_0x28fd55(0x3b1)]({instanceName:_0x295282},_0x20dd6e){const _0x50954a=a0_0x28fd55;if((0x0,ee[_0x50954a(0x774)])(_0x20dd6e[_0x50954a(0x445)][_0x50954a(0x6c8)])||(0x0,ee[_0x50954a(0x73f)])(_0x20dd6e[_0x50954a(0x445)][_0x50954a(0x6c8)]))return await this[_0x50954a(0x547)]['waInstances'][_0x295282][_0x50954a(0x438)](_0x20dd6e);throw new m(_0x50954a(0xed));}async['sendButtons']({instanceName:_0x24f0f1},_0x338ef3){const _0x537d13=a0_0x28fd55;if((0x0,ee['isBase64'])(_0x338ef3[_0x537d13(0x2e4)]['mediaMessage']?.[_0x537d13(0x5f7)])&&!_0x338ef3['buttonMessage'][_0x537d13(0x4a1)]?.['fileName'])throw new m(_0x537d13(0x318));return await this[_0x537d13(0x547)][_0x537d13(0x130)][_0x24f0f1][_0x537d13(0x2e4)](_0x338ef3);}async[a0_0x28fd55(0x4cc)]({instanceName:_0x3b87cf},_0x566c75){const _0x2342f4=a0_0x28fd55;return await this[_0x2342f4(0x547)][_0x2342f4(0x130)][_0x3b87cf][_0x2342f4(0x363)](_0x566c75);}async['sendPoll']({instanceName:_0xbeb0b9},_0x43bd7c){const _0x292141=a0_0x28fd55;return await this[_0x292141(0x547)][_0x292141(0x130)][_0xbeb0b9]['pollMessage'](_0x43bd7c);}async['sendList']({instanceName:_0x3b7d05},_0x20e10d){const _0x342421=a0_0x28fd55;return await this['waMonitor'][_0x342421(0x130)][_0x3b7d05][_0x342421(0x314)](_0x20e10d);}async['sendContact']({instanceName:_0x340ad7},_0x4209d5){const _0x5a1e1b=a0_0x28fd55;return await this[_0x5a1e1b(0x547)]['waInstances'][_0x340ad7][_0x5a1e1b(0x188)](_0x4209d5);}async['sendReaction']({instanceName:_0x42a709},_0x1014e2){const _0x2e30d1=a0_0x28fd55;if(!_0x1014e2[_0x2e30d1(0x1d8)][_0x2e30d1(0x19e)][_0x2e30d1(0x4f1)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x2e30d1(0x2e3));return await this[_0x2e30d1(0x547)][_0x2e30d1(0x130)][_0x42a709][_0x2e30d1(0x1d8)](_0x1014e2);}async[a0_0x28fd55(0x4a5)]({instanceName:_0x2dcaea},_0x5904b9){const _0x3c7aa4=a0_0x28fd55;return await this[_0x3c7aa4(0x547)][_0x3c7aa4(0x130)][_0x2dcaea]['statusMessage'](_0x5904b9);}},xr=require(a0_0x28fd55(0x1b2)),ks=require(a0_0x28fd55(0x609)),Ht=class c{constructor(_0x5ab402,_0x41ef84,_0x3925a8){const _0x51d7ba=a0_0x28fd55;this[_0x51d7ba(0x58f)]=_0x5ab402,this['waMonitor']=_0x41ef84,this[_0x51d7ba(0xf1)]=_0x3925a8,this[_0x51d7ba(0x2ca)]=new R(c[_0x51d7ba(0x616)]);}async[a0_0x28fd55(0x524)](_0x2c782d){const _0x2521dc=a0_0x28fd55;let _0x539362=this[_0x2521dc(0x58f)][_0x2521dc(0x72c)](_0x2521dc(0x213))[_0x2521dc(0x3a3)],_0x3a7ac6=(0x0,xr[_0x2521dc(0x5e8)])({'instanceName':_0x2c782d['instanceName'],'apiName':Ze,'tokenId':(0x0,ks['v4'])()},_0x539362['SECRET'],{'expiresIn':_0x539362['EXPIRIN_IN'],'encoding':_0x2521dc(0x546),'subject':_0x2521dc(0xf8)}),_0x32c3d0=await this[_0x2521dc(0xf1)][_0x2521dc(0x15b)]['create']({'jwt':_0x3a7ac6},_0x2c782d[_0x2521dc(0x1e9)]);if(_0x32c3d0[_0x2521dc(0xbc)])throw this[_0x2521dc(0x2ca)][_0x2521dc(0xbc)]({'localError':c['name']+_0x2521dc(0x503),'error':_0x32c3d0[_0x2521dc(0xbc)]}),new m(_0x2521dc(0x1a0),_0x32c3d0[_0x2521dc(0xbc)]?.['toString']());return{'jwt':_0x3a7ac6};}async[a0_0x28fd55(0x36a)](_0x2bf1ea){const _0x471a22=a0_0x28fd55;let _0xa1a09a=(0x0,ks['v4'])()[_0x471a22(0x498)](),_0x22e28e=await this[_0x471a22(0xf1)]['auth']['create']({'apikey':_0xa1a09a},_0x2bf1ea['instanceName']);if(_0x22e28e[_0x471a22(0xbc)])throw this[_0x471a22(0x2ca)][_0x471a22(0xbc)]({'localError':c[_0x471a22(0x616)]+_0x471a22(0x503),'error':_0x22e28e[_0x471a22(0xbc)]}),new m(_0x471a22(0x1a0),_0x22e28e[_0x471a22(0xbc)]?.[_0x471a22(0x6dd)]());return{'apikey':_0xa1a09a};}async['generateHash'](_0xcde341){const _0x235458=a0_0x28fd55;let _0x2d2312=this[_0x235458(0x58f)][_0x235458(0x72c)]('AUTHENTICATION');return await this[_0x2d2312[_0x235458(0x5e7)]](_0xcde341);}},Kt=class{constructor(_0x5f15d4){const _0x397781=a0_0x28fd55;this[_0x397781(0x547)]=_0x5f15d4;}async[a0_0x28fd55(0x384)](_0x49529c,_0x180134){const _0x397c5b=a0_0x28fd55;return await this[_0x397c5b(0x547)][_0x397c5b(0x130)][_0x49529c['instanceName']][_0x397c5b(0x384)](_0x180134);}async[a0_0x28fd55(0x21e)](_0x30d144,_0x4c0067){const _0x5f5c91=a0_0x28fd55;return await this[_0x5f5c91(0x547)][_0x5f5c91(0x130)][_0x30d144['instanceName']][_0x5f5c91(0x21e)](_0x4c0067);}async['groupDesc'](_0x8c04a7,_0x1f3900){const _0x19d86a=a0_0x28fd55;return await this['waMonitor'][_0x19d86a(0x130)][_0x8c04a7[_0x19d86a(0x1e9)]][_0x19d86a(0x736)](_0x1f3900);}async['groupName'](_0x5a0a8d,_0x51f904){const _0x453b03=a0_0x28fd55;return await this[_0x453b03(0x547)][_0x453b03(0x130)][_0x5a0a8d[_0x453b03(0x1e9)]]['groupName'](_0x51f904);}async[a0_0x28fd55(0x467)](_0x26ff84,_0x2c8896){const _0x1d8d1f=a0_0x28fd55;return await this[_0x1d8d1f(0x547)][_0x1d8d1f(0x130)][_0x26ff84[_0x1d8d1f(0x1e9)]][_0x1d8d1f(0x467)](_0x2c8896);}async[a0_0x28fd55(0x25b)](_0x18b9f1,_0x3b86a7){const _0x369ff6=a0_0x28fd55;return await this[_0x369ff6(0x547)][_0x369ff6(0x130)][_0x18b9f1['instanceName']][_0x369ff6(0x25b)](_0x3b86a7);}async['findGroupInfo'](_0x272481,_0x437e9f){const _0xaac07=a0_0x28fd55;return await this['waMonitor'][_0xaac07(0x130)][_0x272481[_0xaac07(0x1e9)]][_0xaac07(0x274)](_0x437e9f);}async[a0_0x28fd55(0x4de)](_0x222fb4){const _0x37b74e=a0_0x28fd55;return await this[_0x37b74e(0x547)][_0x37b74e(0x130)][_0x222fb4[_0x37b74e(0x1e9)]][_0x37b74e(0x4de)]();}async['inviteCode'](_0x53cea8,_0x327866){const _0x26429c=a0_0x28fd55;return await this[_0x26429c(0x547)][_0x26429c(0x130)][_0x53cea8[_0x26429c(0x1e9)]][_0x26429c(0x75a)](_0x327866);}async[a0_0x28fd55(0xe7)](_0x160584,_0x5a9582){const _0x1f618d=a0_0x28fd55;return await this[_0x1f618d(0x547)][_0x1f618d(0x130)][_0x160584[_0x1f618d(0x1e9)]][_0x1f618d(0xe7)](_0x5a9582);}async[a0_0x28fd55(0x1df)](_0x5a7e3a,_0x4f437a){const _0x2739d8=a0_0x28fd55;return await this[_0x2739d8(0x547)][_0x2739d8(0x130)][_0x5a7e3a[_0x2739d8(0x1e9)]][_0x2739d8(0x1df)](_0x4f437a);}async['revokeInviteCode'](_0x4d8e17,_0x4de90f){const _0x4c8eec=a0_0x28fd55;return await this['waMonitor'][_0x4c8eec(0x130)][_0x4d8e17[_0x4c8eec(0x1e9)]][_0x4c8eec(0x366)](_0x4de90f);}async[a0_0x28fd55(0x247)](_0x69b6d3,_0x66beb8){const _0x57168e=a0_0x28fd55;return await this[_0x57168e(0x547)][_0x57168e(0x130)][_0x69b6d3[_0x57168e(0x1e9)]]['findParticipants'](_0x66beb8);}async[a0_0x28fd55(0x51c)](_0xfb0bc9,_0x5d4087){const _0x4fd8f9=a0_0x28fd55;return await this[_0x4fd8f9(0x547)][_0x4fd8f9(0x130)][_0xfb0bc9[_0x4fd8f9(0x1e9)]][_0x4fd8f9(0x6b1)](_0x5d4087);}async[a0_0x28fd55(0x6eb)](_0x1ca7d9,_0x30b123){const _0x29a225=a0_0x28fd55;return await this[_0x29a225(0x547)][_0x29a225(0x130)][_0x1ca7d9[_0x29a225(0x1e9)]]['toggleEphemeral'](_0x30b123);}async[a0_0x28fd55(0x3ab)](_0x335580,_0x2dc0f8){const _0xcc15d9=a0_0x28fd55;return await this['waMonitor']['waInstances'][_0x335580[_0xcc15d9(0x1e9)]][_0xcc15d9(0x3ab)](_0x2dc0f8);}},Qt=class{constructor(_0x44c500){this['waMonitor']=_0x44c500;}['create'](_0x639891,_0x270d8d){const _0x14becf=a0_0x28fd55;return this[_0x14becf(0x547)][_0x14becf(0x130)][_0x639891['instanceName']][_0x14becf(0x9b)](_0x270d8d);}async['find'](_0x2dbcca){const _0x36b0e8=a0_0x28fd55;try{return await this['waMonitor'][_0x36b0e8(0x130)][_0x2dbcca[_0x36b0e8(0x1e9)]][_0x36b0e8(0x6c6)]();}catch{return{'enabled':null,'url':''};}}},Sp=new R(a0_0x28fd55(0x179)),Yt=class{constructor(_0x5ee942){const _0x22bfd4=a0_0x28fd55;this[_0x22bfd4(0x547)]=_0x5ee942;}async[a0_0x28fd55(0x224)](_0x28bf41,_0x40e0e2){const _0x6899bf=a0_0x28fd55;return await this['waMonitor'][_0x6899bf(0x130)][_0x28bf41[_0x6899bf(0x1e9)]][_0x6899bf(0x224)](_0x40e0e2);}async[a0_0x28fd55(0x12b)](_0x5278c0){const _0x54fd68=a0_0x28fd55;return await this[_0x54fd68(0x547)][_0x54fd68(0x130)][_0x5278c0[_0x54fd68(0x1e9)]]['getScheduleMessage']();}async[a0_0x28fd55(0x211)](_0x29ce56){const _0x5c787e=a0_0x28fd55;return await this[_0x5c787e(0x547)]['waInstances'][_0x29ce56['instanceName']][_0x5c787e(0x211)]();}async[a0_0x28fd55(0x2e5)](_0x4825dd){const _0x105a9a=a0_0x28fd55;return await this['waMonitor'][_0x105a9a(0x130)][_0x4825dd[_0x105a9a(0x1e9)]][_0x105a9a(0x2e5)]();}async[a0_0x28fd55(0x4eb)](_0x5d054f,_0x61218e){const _0x47e084=a0_0x28fd55;return await this[_0x47e084(0x547)][_0x47e084(0x130)][_0x5d054f['instanceName']]['updateAgent'](_0x61218e);}async[a0_0x28fd55(0xa4)](_0x2cac50,_0x18d129){const _0x129b19=a0_0x28fd55;return await this[_0x129b19(0x547)]['waInstances'][_0x2cac50[_0x129b19(0x1e9)]]['updateCustomFields'](_0x18d129);}async[a0_0x28fd55(0x671)](_0xa22fa,_0x3190c3){const _0x5a40f6=a0_0x28fd55;return await this[_0x5a40f6(0x547)]['waInstances'][_0xa22fa['instanceName']][_0x5a40f6(0x671)](_0x3190c3);}async[a0_0x28fd55(0x10a)](_0x13c2fb,_0x8ea530){const _0x56c513=a0_0x28fd55;return await this[_0x56c513(0x547)][_0x56c513(0x130)][_0x13c2fb[_0x56c513(0x1e9)]][_0x56c513(0x10a)](_0x8ea530);}async['startFlow'](_0x460a2e,_0x5c13e3){const _0x10e7ec=a0_0x28fd55;return await this[_0x10e7ec(0x547)][_0x10e7ec(0x130)][_0x460a2e[_0x10e7ec(0x1e9)]]['startFlow'](_0x5c13e3);}async[a0_0x28fd55(0x312)](_0x2e3473,_0x13abbc){const _0x45af9f=a0_0x28fd55;return await this[_0x45af9f(0x547)][_0x45af9f(0x130)][_0x2e3473[_0x45af9f(0x1e9)]]['getConversation'](_0x13abbc);}async[a0_0x28fd55(0x409)](_0x1ab230,_0x54d770){const _0x3d9e2d=a0_0x28fd55;return await this[_0x3d9e2d(0x547)][_0x3d9e2d(0x130)][_0x1ab230['instanceName']]['fetchConversation'](_0x54d770);}async[a0_0x28fd55(0x16d)](_0x2cfc27,_0x10c0a5){const _0x696e05=a0_0x28fd55;return await this[_0x696e05(0x547)][_0x696e05(0x130)][_0x2cfc27['instanceName']]['editConversation'](_0x10c0a5);}async[a0_0x28fd55(0x6ba)](_0x3ceadc,_0x40d51a){const _0x26f566=a0_0x28fd55;return await this[_0x26f566(0x547)][_0x26f566(0x130)][_0x3ceadc[_0x26f566(0x1e9)]][_0x26f566(0x6ba)](_0x40d51a);}async[a0_0x28fd55(0x136)](_0x31fd17,_0x52ca3e){const _0x5e42bc=a0_0x28fd55;return await this[_0x5e42bc(0x547)][_0x5e42bc(0x130)][_0x31fd17[_0x5e42bc(0x1e9)]][_0x5e42bc(0x136)](_0x52ca3e[_0x5e42bc(0x616)]);}async[a0_0x28fd55(0x20d)](_0x404d54,_0x15cbf1){const _0x3ff3d9=a0_0x28fd55;return await this[_0x3ff3d9(0x547)][_0x3ff3d9(0x130)][_0x404d54[_0x3ff3d9(0x1e9)]][_0x3ff3d9(0x20d)](_0x15cbf1);}async[a0_0x28fd55(0x30b)](_0x44b191,_0x3abef9){const _0x3a4623=a0_0x28fd55;return await this[_0x3a4623(0x547)]['waInstances'][_0x44b191['instanceName']][_0x3a4623(0x30b)](_0x3abef9);}async[a0_0x28fd55(0xf9)](_0x338aca,_0x12132f){const _0x15fd8c=a0_0x28fd55;return await this[_0x15fd8c(0x547)][_0x15fd8c(0x130)][_0x338aca[_0x15fd8c(0x1e9)]][_0x15fd8c(0xf9)](_0x12132f);}async[a0_0x28fd55(0x29d)](_0x465b98,_0x3fd0b5){const _0xed86e6=a0_0x28fd55;return await this['waMonitor'][_0xed86e6(0x130)][_0x465b98[_0xed86e6(0x1e9)]][_0xed86e6(0x29d)](_0x3fd0b5);}async['editFlowGroup'](_0x589dc3,_0x548ea2){const _0x11a277=a0_0x28fd55;return await this['waMonitor'][_0x11a277(0x130)][_0x589dc3[_0x11a277(0x1e9)]][_0x11a277(0x49f)](_0x548ea2);}async[a0_0x28fd55(0x6fd)](_0x22faf6,_0x57087d){const _0x120702=a0_0x28fd55;return await this[_0x120702(0x547)][_0x120702(0x130)][_0x22faf6['instanceName']][_0x120702(0x6fd)](_0x57087d);}async[a0_0x28fd55(0x74a)](_0x39c69b,_0x4f6d59){const _0x741853=a0_0x28fd55;return await this[_0x741853(0x547)][_0x741853(0x130)][_0x39c69b[_0x741853(0x1e9)]]['editFlowVaredit'](_0x4f6d59);}async[a0_0x28fd55(0x31a)](_0x29b85,_0x11fe9b){const _0x2e5c28=a0_0x28fd55;return await this[_0x2e5c28(0x547)][_0x2e5c28(0x130)][_0x29b85[_0x2e5c28(0x1e9)]]['editFlowVariable'](_0x11fe9b);}async['deleteFlow'](_0x35d19a,_0x5e8c71){const _0x58314c=a0_0x28fd55;return await this[_0x58314c(0x547)][_0x58314c(0x130)][_0x35d19a[_0x58314c(0x1e9)]]['deleteFlow'](_0x5e8c71[_0x58314c(0x616)]);}async[a0_0x28fd55(0x36d)](_0xcfa792){const _0x59a6f4=a0_0x28fd55;return await this[_0x59a6f4(0x547)][_0x59a6f4(0x130)][_0xcfa792[_0x59a6f4(0x1e9)]][_0x59a6f4(0x36d)]();}},Xt=class{constructor(_0x247aec){const _0x1fdea5=a0_0x28fd55;this[_0x1fdea5(0x52a)]=_0x247aec;}async[a0_0x28fd55(0x2c3)](_0x4596d7,_0x587488){const _0x3fe5f9=a0_0x28fd55;return this[_0x3fe5f9(0x52a)][_0x3fe5f9(0x2f7)](_0x4596d7,_0x587488);}async[a0_0x28fd55(0x6c6)](_0x560bac){const _0x4b6ef7=a0_0x28fd55;return this[_0x4b6ef7(0x52a)][_0x4b6ef7(0x167)](_0x560bac);}},Zt=class extends x{constructor(_0x104576,_0x1e2b29){const _0x184c51=a0_0x28fd55;super(_0x1e2b29),this[_0x184c51(0x365)]=_0x104576,this[_0x184c51(0x58f)]=_0x1e2b29;}async['create'](_0x219e37,_0x52560a){const _0x448144=a0_0x28fd55;try{return this[_0x448144(0x5b5)][_0x448144(0x15d)]?{'insertCount':(await this[_0x448144(0x365)][_0x448144(0x66e)]({'_id':_0x52560a},{..._0x219e37},{'upsert':!0x0}))[_0x448144(0x362)]}:{'insertCount':0x1};}catch(_0x588abf){return _0x588abf;}}async[a0_0x28fd55(0x71f)](_0x412811){const _0x2c9033=a0_0x28fd55;try{if(this[_0x2c9033(0x5b5)][_0x2c9033(0x15d)]){await this[_0x2c9033(0x365)][_0x2c9033(0x341)]({'_id':_0x412811});return;}}catch(_0xec8cb2){return{'error':_0xec8cb2};}}async[a0_0x28fd55(0x167)](_0x2f75f4){const _0x3e175e=a0_0x28fd55;try{if(this['dbSettings']['ENABLED'])return await this[_0x3e175e(0x365)][_0x3e175e(0x267)]({'_id':_0x2f75f4});}catch{return{};}}},es=class extends x{constructor(_0x4363bb,_0x1f4ede){const _0x444b74=a0_0x28fd55;super(_0x1f4ede),this[_0x444b74(0x2bb)]=_0x4363bb,this['configService']=_0x1f4ede,this[_0x444b74(0x15b)]=_0x1f4ede['get'](_0x444b74(0x213));}async[a0_0x28fd55(0x2f7)](_0x5c2ea8,_0x4b7862){const _0xf2c5bc=a0_0x28fd55;try{if(this[_0xf2c5bc(0x5b5)][_0xf2c5bc(0x15d)])return{'insertCount':(await this[_0xf2c5bc(0x2bb)][_0xf2c5bc(0x1b5)]({'_id':_0x4b7862},{'$set':{..._0x5c2ea8}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x266016){return{'error':_0x266016};}}async[a0_0x28fd55(0xaf)](_0x5d8acb,_0x37673a){const _0x4f5ef8=a0_0x28fd55;try{if(this[_0x4f5ef8(0x5b5)][_0x4f5ef8(0x15d)])return{'insertCount':(await this['authModel'][_0x4f5ef8(0x40d)](_0x5d8acb,{'$set':_0x37673a},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x4f5ef8(0x754));}catch(_0x1e9316){return{'error':_0x1e9316};}}async['deleteMany'](_0x3656da){const _0x55e364=a0_0x28fd55;try{if(this[_0x55e364(0x5b5)]['ENABLED'])return{'insertCount':(await this['authModel'][_0x55e364(0xbd)](_0x3656da))[_0x55e364(0x342)]};throw new Error(_0x55e364(0x754));}catch(_0x433bb3){return{'error':_0x433bb3};}}async['delete'](_0x5b8087){const _0x38e469=a0_0x28fd55;try{if(this[_0x38e469(0x5b5)]['ENABLED']){await this[_0x38e469(0x2bb)][_0x38e469(0x341)]({'_id':_0x5b8087});return;}}catch(_0x6e083f){return{'error':_0x6e083f};}}async['find'](_0x57bb56){const _0x15c6a9=a0_0x28fd55;try{if(this[_0x15c6a9(0x5b5)][_0x15c6a9(0x15d)])return await this[_0x15c6a9(0x2bb)]['findOne']({'_id':_0x57bb56});}catch{return{};}}async['findAll'](){const _0x2180d5=a0_0x28fd55;try{if(this[_0x2180d5(0x5b5)][_0x2180d5(0x15d)])return await this[_0x2180d5(0x2bb)][_0x2180d5(0x167)]();}catch{return[];}}},ts=class extends x{[a0_0x28fd55(0x279)](_0x19d23a){return ga(_0x19d23a);}async['copyDataToNewModel'](_0x596e63){const _0x1c5c4e=a0_0x28fd55;try{let _0x4e3e31=ma,_0x356016=this[_0x1c5c4e(0x279)](_0x596e63),_0x3dad04=await _0x4e3e31[_0x1c5c4e(0x167)]({'owner':_0x596e63})[_0x1c5c4e(0x483)](),_0x1de251=[],_0x23e7d0=[];for(let _0xa087f8 of _0x3dad04)await _0x356016[_0x1c5c4e(0x42f)](_0xa087f8[_0x1c5c4e(0x53b)])['lean']()||(_0x1de251[_0x1c5c4e(0x474)](_0xa087f8),_0x23e7d0[_0x1c5c4e(0x474)](_0xa087f8['_id']));return _0x1de251[_0x1c5c4e(0x479)]>0x0&&await _0x356016[_0x1c5c4e(0x496)](_0x1de251,{'ordered':!0x1}),{'success':!0x0};}catch(_0x1bae44){return console[_0x1c5c4e(0xbc)](_0x1c5c4e(0x60c),_0x1bae44),{'success':!0x1,'error':_0x1bae44};}}async[a0_0x28fd55(0x71f)](_0x2b7e8a,_0x22cdf4){const _0x36b4f1=a0_0x28fd55;try{let _0x5dc9b2=this['getFlowModelForOwner'](_0x22cdf4),_0x3961ca=A(_0x2b7e8a[_0x36b4f1(0x33b)]);return{'deletedCount':(await _0x5dc9b2[_0x36b4f1(0xbd)](_0x3961ca))[_0x36b4f1(0x342)]};}catch(_0x59a5bb){return{'error':_0x59a5bb?.['toString']()};}}async[a0_0x28fd55(0x341)](_0x4cd6a3,_0x24daa0){const _0x239e6e=a0_0x28fd55;try{let _0x37ac30=this[_0x239e6e(0x279)](_0x24daa0),_0x21d049=A(_0x4cd6a3[_0x239e6e(0x33b)]);return{'deletedCount':(await _0x37ac30[_0x239e6e(0x341)](_0x21d049))[_0x239e6e(0x342)]};}catch(_0x5b6266){return{'error':_0x5b6266?.[_0x239e6e(0x6dd)]()};}}async[a0_0x28fd55(0x66e)](_0x1e292e,_0x38e742,_0x49c3f3){const _0x228298=a0_0x28fd55;try{let _0x113963=await this[_0x228298(0x279)](_0x49c3f3)[_0x228298(0x6db)](_0x1e292e,_0x38e742,{'overwrite':!0x0,'new':!0x0});return _0x113963||(console[_0x228298(0xbc)](_0x228298(0x74d),_0x1e292e),null);}catch(_0x4c9d01){return console[_0x228298(0xbc)](_0x228298(0x767),_0x4c9d01),null;}}async[a0_0x28fd55(0x1b5)](_0x1713bb,_0x5b70bc,_0x31b365){const _0x49e82d=a0_0x28fd55;try{let _0x58fb39=await this[_0x49e82d(0x279)](_0x31b365)[_0x49e82d(0x42f)](_0x1713bb);return _0x58fb39?(Object['assign'](_0x58fb39,_0x5b70bc),await _0x58fb39[_0x49e82d(0x792)]()):(console[_0x49e82d(0xbc)](_0x49e82d(0x1ab),_0x1713bb),null);}catch(_0x5a4413){return console['error']('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x5a4413),null;}}async['updateMissingShareOwners'](_0x2f8af0){const _0x52619c=a0_0x28fd55;try{let _0x1a7c5d=this['getFlowModelForOwner'](_0x2f8af0),_0x17cf75={'shareOwners':{'$exists':!0x1}},_0x5e4186={'$set':{'shareOwners':[]}};return(await _0x1a7c5d[_0x52619c(0x40d)](_0x17cf75,_0x5e4186))[_0x52619c(0x362)];}catch(_0x1ccae8){return console[_0x52619c(0xbc)](_0x1ccae8),0x0;}}async[a0_0x28fd55(0x5ce)](_0x11dd25,_0x4f364b){const _0x3901fa=a0_0x28fd55;try{let _0x58a51a=this[_0x3901fa(0x279)](_0x4f364b);return await new _0x58a51a(_0x11dd25)[_0x3901fa(0x792)]();}catch(_0x205c89){return console[_0x3901fa(0xbc)](_0x3901fa(0x6d3),_0x205c89),null;}}async[a0_0x28fd55(0x40d)](_0x436cab,_0x1d9f40,_0x27e9d3){const _0x890a94=a0_0x28fd55;try{return{'modifiedCount':(await this[_0x890a94(0x279)](_0x27e9d3)['updateMany'](_0x436cab,{'$set':_0x1d9f40}))[_0x890a94(0x362)]};}catch(_0x269276){return console['error'](_0x890a94(0x4ad),_0x269276),{'error':_0x269276};}}async[a0_0x28fd55(0x6bf)](_0xbd67e9,_0x5b8e3b){const _0x5cd785=a0_0x28fd55;try{let _0x2ab311=this[_0x5cd785(0x279)](_0x5b8e3b),_0x33bbc2=A(_0xbd67e9[_0x5cd785(0x33b)]);return await _0x2ab311[_0x5cd785(0x167)](_0x33bbc2)['limit'](_0xbd67e9?.[_0x5cd785(0x771)]??0x0)[_0x5cd785(0x483)]();}catch{return[];}}async[a0_0x28fd55(0x267)](_0x520ffe,_0x5d19b5){const _0x24cd7f=a0_0x28fd55;try{let _0x58eab8=this[_0x24cd7f(0x279)](_0x5d19b5),_0x22e180=A(_0x520ffe[_0x24cd7f(0x33b)]);return await _0x58eab8[_0x24cd7f(0x267)](_0x22e180)[_0x24cd7f(0x483)]();}catch{return null;}}async['deleteAll'](_0x10874e){const _0x23f55d=a0_0x28fd55;try{return await this[_0x23f55d(0x279)](_0x10874e)['collection'][_0x23f55d(0x6b9)](),{'success':!0x0};}catch(_0x14ef67){return console[_0x23f55d(0xbc)](_0x14ef67),{'success':!0x1,'error':_0x14ef67};}}},ss=class extends x{[a0_0x28fd55(0x1c7)](_0x4f091d){return wa(_0x4f091d);}async[a0_0x28fd55(0x793)](_0x3385d4){const _0xf0d2b9=a0_0x28fd55;try{let _0x558ec4=ya,_0x4c153c=this['getConversationModelForOwner'](_0x3385d4),_0x1a6862=await _0x558ec4['find']({'owner':_0x3385d4})[_0xf0d2b9(0x483)](),_0x3232cb=[],_0x1a9472=[];for(let _0x3b5355 of _0x1a6862)await _0x4c153c[_0xf0d2b9(0x42f)](_0x3b5355['_id'])[_0xf0d2b9(0x483)]()||(_0x3232cb['push'](_0x3b5355),_0x1a9472['push'](_0x3b5355[_0xf0d2b9(0x53b)]));return _0x3232cb[_0xf0d2b9(0x479)]>0x0&&await _0x4c153c['insertMany'](_0x3232cb,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4465a2){return console[_0xf0d2b9(0xbc)]('Erro\x20ao\x20copiar\x20dados:',_0x4465a2),{'success':!0x1,'error':_0x4465a2};}}async[a0_0x28fd55(0x278)](_0x32e895){const _0x44dcf6=a0_0x28fd55;if(_0x32e895[_0x44dcf6(0x479)]!==0x0)try{return{'insertCount':(await this[_0x44dcf6(0x1c7)](_0x32e895[0x0]['owner'])[_0x44dcf6(0x496)]([..._0x32e895]))[_0x44dcf6(0x479)]};}catch(_0x2bb04a){return _0x2bb04a;}}async[a0_0x28fd55(0x71f)](_0x320a51,_0x18d164){const _0x2203e8=a0_0x28fd55;try{let _0x4216ce=this[_0x2203e8(0x1c7)](_0x18d164),_0x4dc79e=A(_0x320a51['where']);return{'deletedCount':(await _0x4216ce[_0x2203e8(0xbd)](_0x4dc79e))[_0x2203e8(0x342)]};}catch(_0x58da2c){return{'error':_0x58da2c?.[_0x2203e8(0x6dd)]()};}}async[a0_0x28fd55(0x341)](_0x55a31b,_0x36f7ad){const _0x464551=a0_0x28fd55;try{let _0x1bdaa9=this[_0x464551(0x1c7)](_0x36f7ad),_0x1fad54=A(_0x55a31b[_0x464551(0x33b)]);return{'deletedCount':(await _0x1bdaa9[_0x464551(0x341)](_0x1fad54))[_0x464551(0x342)]};}catch(_0x508b5e){return{'error':_0x508b5e?.[_0x464551(0x6dd)]()};}}async[a0_0x28fd55(0x74b)](_0x5bbf56,_0x9545af){const _0x50cdef=a0_0x28fd55;try{if(_0x5bbf56[_0x50cdef(0x479)]===0x0)return;let _0xe2d10a=this[_0x50cdef(0x1c7)](_0x9545af),_0x5a682c=_0x5bbf56['map'](_0x2aff61=>({'updateOne':{'filter':{'name':_0x2aff61['name'],'owner':_0x9545af},'update':{..._0x2aff61}}})),{modifiedCount:_0x56e4db}=await _0xe2d10a[_0x50cdef(0x68a)](_0x5a682c);return{'insertCount':_0x56e4db};}catch{return;}}async['updateMany'](_0xba8f1e,_0x3b471d,_0x4bd511){const _0x3b3c37=a0_0x28fd55;try{return{'modifiedCount':(await this[_0x3b3c37(0x1c7)](_0x4bd511)[_0x3b3c37(0x40d)](_0xba8f1e,{'$set':_0x3b471d}))[_0x3b3c37(0x362)]};}catch(_0x32f654){return console[_0x3b3c37(0xbc)](_0x3b3c37(0x52e),_0x32f654),{'error':_0x32f654};}}async[a0_0x28fd55(0x1b5)](_0x5ad7bb,_0x5164f8,_0x1c9bcb){const _0x3d27fe=a0_0x28fd55;try{return await this['getConversationModelForOwner'](_0x1c9bcb)['findOneAndUpdate']({'_id':_0x5ad7bb},{'$set':_0x5164f8},{'new':!0x0,'upsert':!0x0})[_0x3d27fe(0x483)]();}catch(_0x3a536d){return console[_0x3d27fe(0xbc)](_0x3a536d),null;}}async[a0_0x28fd55(0x167)](_0x13434e,_0x42bc1a){const _0x91880d=a0_0x28fd55;try{return await this[_0x91880d(0x1c7)](_0x42bc1a)[_0x91880d(0x167)](_0x13434e)[_0x91880d(0x62a)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x28fd55(0x267)](_0x3fe62f,_0x47f940){const _0x4a00c4=a0_0x28fd55;try{return await this['getConversationModelForOwner'](_0x47f940)['findOne']({..._0x3fe62f[_0x4a00c4(0x33b)]})[_0x4a00c4(0x483)]();}catch{return null;}}async[a0_0x28fd55(0x4a3)](_0x1631e8){const _0x175a25=a0_0x28fd55;try{return await this[_0x175a25(0x1c7)](_0x1631e8)[_0x175a25(0x1f8)]['drop'](),{'success':!0x0};}catch(_0x7b0217){return console['error'](_0x7b0217),{'success':!0x1,'error':_0x7b0217};}}},as=class extends x{[a0_0x28fd55(0x2cf)](_0x383978){return Sa(_0x383978);}async[a0_0x28fd55(0x793)](_0x5b75e8){const _0x97eeac=a0_0x28fd55;try{let _0x3823de=Ma,_0x190784=this['getScheduleMessageModelForOwner'](_0x5b75e8),_0x3c93f7=await _0x3823de[_0x97eeac(0x167)]({'owner':_0x5b75e8})[_0x97eeac(0x483)](),_0x1a5537=[],_0x155ac7=[];for(let _0xe2bf9e of _0x3c93f7)await _0x190784[_0x97eeac(0x42f)](_0xe2bf9e[_0x97eeac(0x53b)])[_0x97eeac(0x483)]()||(_0x1a5537['push'](_0xe2bf9e),_0x155ac7[_0x97eeac(0x474)](_0xe2bf9e[_0x97eeac(0x53b)]));return _0x1a5537[_0x97eeac(0x479)]>0x0&&await _0x190784[_0x97eeac(0x496)](_0x1a5537,{'ordered':!0x1}),{'success':!0x0};}catch(_0x27d59c){return console['error']('Erro\x20ao\x20copiar\x20dados:',_0x27d59c),{'success':!0x1,'error':_0x27d59c};}}async[a0_0x28fd55(0x5ce)](_0x560b86,_0x443ce3){const _0x6724d=a0_0x28fd55;try{let _0x16ca85=this[_0x6724d(0x2cf)](_0x443ce3);return await new _0x16ca85(_0x560b86)[_0x6724d(0x792)]();}catch(_0x30da04){return console['error'](_0x6724d(0x6d3),_0x30da04),null;}}async[a0_0x28fd55(0x341)](_0x45156f,_0x19bcda){const _0x2acc66=a0_0x28fd55;try{return await this[_0x2acc66(0x2cf)](_0x19bcda)[_0x2acc66(0x698)](_0x45156f),{};}catch(_0x4c5f20){return{'error':_0x4c5f20?.[_0x2acc66(0x6dd)]()};}}async[a0_0x28fd55(0x1b5)](_0x59b26f,_0x2d74cc,_0x2dc96b){const _0xd1160a=a0_0x28fd55;try{return await this[_0xd1160a(0x2cf)](_0x2dc96b)['findOneAndUpdate'](_0x59b26f,{'$set':_0x2d74cc},{'new':!0x0})[_0xd1160a(0x483)]();}catch(_0x42813c){return console[_0xd1160a(0xbc)](_0xd1160a(0x2c1),_0x42813c),null;}}async[a0_0x28fd55(0x331)](_0x6da24f,_0x1ac003,_0x3d6b40){const _0x46a371=a0_0x28fd55;try{return await this[_0x46a371(0x2cf)](_0x3d6b40)[_0x46a371(0x6db)](_0x6da24f,_0x1ac003,{'new':!0x0})[_0x46a371(0x483)]();}catch(_0x8bdc5b){return console[_0x46a371(0xbc)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x8bdc5b),null;}}async[a0_0x28fd55(0x167)](_0x2bd8b7,_0x2a61b2){const _0x14d34b=a0_0x28fd55;try{return await this['getScheduleMessageModelForOwner'](_0x2a61b2)[_0x14d34b(0x167)](_0x2bd8b7[_0x14d34b(0x33b)])[_0x14d34b(0x771)](_0x2bd8b7?.[_0x14d34b(0x771)]??0x0)[_0x14d34b(0x62a)]({'when':0x1})[_0x14d34b(0x483)]();}catch{return[];}}async[a0_0x28fd55(0x267)](_0x3b8998,_0x3c72f3){const _0x5bafe0=a0_0x28fd55;try{return await this[_0x5bafe0(0x2cf)](_0x3c72f3)['findOne'](_0x3b8998['where'])[_0x5bafe0(0x62a)]({'when':0x1})[_0x5bafe0(0x483)]();}catch{return null;}}async[a0_0x28fd55(0x42f)](_0xeb7421,_0x5aeffb){const _0x15b57e=a0_0x28fd55;try{return await this[_0x15b57e(0x2cf)](_0x5aeffb)[_0x15b57e(0x42f)](_0xeb7421)[_0x15b57e(0x483)]();}catch{return null;}}async['deleteMany'](_0x46d5af,_0x176f41){const _0x25091c=a0_0x28fd55;try{return{'deletedCount':(await this[_0x25091c(0x2cf)](_0x176f41)[_0x25091c(0xbd)](_0x46d5af))[_0x25091c(0x342)]};}catch(_0x14b2f0){return console[_0x25091c(0xbc)](_0x25091c(0x252),_0x14b2f0),{'error':_0x14b2f0};}}async[a0_0x28fd55(0x4a3)](_0x1d5dbe){const _0x454ea2=a0_0x28fd55;try{return await this[_0x454ea2(0x2cf)](_0x1d5dbe)['collection']['drop'](),{'success':!0x0};}catch(_0x5f07a0){return console[_0x454ea2(0xbc)](_0x5f07a0),{'success':!0x1,'error':_0x5f07a0};}}},rs=class extends x{async[a0_0x28fd55(0x74b)](_0x285c27,_0x11d012){const _0x2080ee=a0_0x28fd55;try{if(this[_0x2080ee(0x5b5)][_0x2080ee(0x15d)]){let _0x8b796e=await Ce[_0x2080ee(0x3b5)]({'_id':_0x11d012},{'$set':_0x285c27},{'new':!0x0});return console[_0x2080ee(0x125)](_0x2080ee(0x16b),_0x8b796e),_0x8b796e;}}catch(_0x35a2a4){throw console[_0x2080ee(0xbc)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x35a2a4),_0x35a2a4;}}async['findOrCreate'](_0xda138e){const _0x19c5a6=a0_0x28fd55;try{let _0x417dc2=await Ce[_0x19c5a6(0x42f)](_0xda138e);return _0x417dc2||(_0x417dc2=new Ce({'_id':_0xda138e,'autoCompleteMessages':[]}),await _0x417dc2[_0x19c5a6(0x792)]()),_0x417dc2;}catch(_0x28f090){return console[_0x19c5a6(0xbc)](_0x19c5a6(0x2d8),_0x28f090),null;}}async[a0_0x28fd55(0x40d)](_0x2022e6,_0x563794){const _0x573892=a0_0x28fd55;try{if(this[_0x573892(0x5b5)][_0x573892(0x15d)]){let _0x27508b=await Ce[_0x573892(0x40d)](_0x2022e6,{'$set':_0x563794})[_0x573892(0x39a)]();return console[_0x573892(0x125)]('Resultado\x20da\x20atualização\x20em\x20massa:',_0x27508b),{'changes':_0x27508b[_0x573892(0x362)]};}return{'changes':0x0};}catch(_0x32b6ed){throw console['error'](_0x573892(0x272),_0x32b6ed),_0x32b6ed;}}},xi=new R('WA\x20MODULE'),Di=new Ve(b),_i=new qt(b),Pi=new st(b),ki=new Vt(ta,b),ji=new Zt(ca,b),Li=new es(ia,b),Fi=new ts(b),Ji=new Gt(b),Ui=new ss(b),qi=new as(b),Vi=new rs(b),ue=new Ue(Di,_i,Pi,ki,ji,Li,Fi,Ui,Ji,qi,Vi,T?.[a0_0x28fd55(0x5af)]()),G=new Ut(us,b,ue),Gi=new Ht(b,G,ue),Bi=new Qt(G),Es=new Xt(Bi),$=new Yt(G),ne=new Wt(G,b,ue,us,Gi),B=new zt(G),_=new Bt(G),q=new Kt(G);xi[a0_0x28fd55(0x10d)](a0_0x28fd55(0x40f));var jh=require(a0_0x28fd55(0x6ed)),js=require('fs'),Dr=O(require(a0_0x28fd55(0x13a))),_r=O(require(a0_0x28fd55(0x3d5))),$e=class c{static #e;static set[a0_0x28fd55(0x635)](_0xb484c5){this.#e=_0xb484c5;}static get[a0_0x28fd55(0x13a)](){const _0x389281=a0_0x28fd55;let {FULLCHAIN:_0x12c529,PRIVKEY:_0x4ab4bc}=b['get'](_0x389281(0x513));return Dr[_0x389281(0x328)]({'cert':(0x0,js[_0x389281(0x510)])(_0x12c529),'key':(0x0,js[_0x389281(0x510)])(_0x4ab4bc)},c.#e);}static get[a0_0x28fd55(0x3d5)](){const _0x22c062=a0_0x28fd55;return _r[_0x22c062(0x328)](c.#e);}},pe=O(require('fs')),Jr=O(require(a0_0x28fd55(0x6c0))),Ie=O(require(a0_0x28fd55(0x1b7))),De=O(require(a0_0x28fd55(0x23e))),_e=require(a0_0x28fd55(0x794));function Wi(){const _0x291b78=a0_0x28fd55;G[_0x291b78(0x2d0)]();let _0x50d623=De[_0x291b78(0x446)][_0x291b78(0x597)](__dirname,_0x291b78(0xa7));Fr(_0x50d623);}var Fr=_0x441500=>{const _0x5981a1=a0_0x28fd55;let _0x3380aa=pe[_0x5981a1(0x446)][_0x5981a1(0x280)](_0x441500),_0x3f5e04=0xc*0x3c*0x3c*0x3e8,_0x4160a2=0x2*0x3c*0x3c*0x3e8,_0x1a5872=new Date()[_0x5981a1(0x59c)]();_0x3380aa[_0x5981a1(0x32d)](_0x5ca019=>{const _0x2cc8e1=_0x5981a1;let _0x2a9a42=De[_0x2cc8e1(0x446)][_0x2cc8e1(0x597)](_0x441500,_0x5ca019),_0x3e3d7d=pe['default'][_0x2cc8e1(0x71c)](_0x2a9a42)['birthtime'][_0x2cc8e1(0x59c)]();_0x1a5872-_0x3e3d7d>_0x3f5e04&&(pe['default'][_0x2cc8e1(0x733)](_0x2a9a42),console[_0x2cc8e1(0x125)]('Deleted\x20'+_0x5ca019));}),setTimeout(()=>Fr(_0x441500),_0x4160a2);};function zi(){const _0x3cc4e2=a0_0x28fd55;let _0x25c876=new R(_0x3cc4e2(0x473)),_0x4fcf6b=(0x0,he[_0x3cc4e2(0x446)])();_0x4fcf6b[_0x3cc4e2(0x429)]((0x0,Lr[_0x3cc4e2(0x446)])({'origin'(_0x150abe,_0x1f2f52){const _0x1cd012=_0x3cc4e2;let {ORIGIN:_0x25b615}=b[_0x1cd012(0x72c)](_0x1cd012(0x64a));return _0x150abe||(_0x150abe='*'),_0x25b615['indexOf']('*')!==-0x1||_0x25b615['indexOf'](_0x150abe)!==-0x1?_0x1f2f52(null,!0x0):_0x1f2f52(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b['get'](_0x3cc4e2(0x64a))[_0x3cc4e2(0x72e)]],'credentials':b[_0x3cc4e2(0x72c)](_0x3cc4e2(0x64a))[_0x3cc4e2(0x617)]}),(0x0,he[_0x3cc4e2(0x5f4)])({'extended':!0x0,'limit':_0x3cc4e2(0x2d2)}),(0x0,he['json'])({'limit':_0x3cc4e2(0x2d2)})),_0x4fcf6b[_0x3cc4e2(0x429)]((_0xa356c5,_0x5cd91a,_0x563e20)=>{const _0x3907b9=_0x3cc4e2;_0xa356c5[_0x3907b9(0x23e)][_0x3907b9(0x417)](_0x3907b9(0x5d5))?_0x563e20():(0x0,jr[_0x3907b9(0x446)])()(_0xa356c5,_0x5cd91a,_0x563e20);}),_0x4fcf6b['set'](_0x3cc4e2(0x6e1),'hbs'),_0x4fcf6b[_0x3cc4e2(0x184)](_0x3cc4e2(0x18f),(0x0,Fs['join'])(oe,'views')),_0x4fcf6b[_0x3cc4e2(0x429)](he[_0x3cc4e2(0x446)][_0x3cc4e2(0x2de)]((0x0,Fs[_0x3cc4e2(0x597)])(oe,'public'))),_0x4fcf6b[_0x3cc4e2(0x429)]((_0x47c2d2,_0x1ddb7e,_0x817b9)=>{const _0x5d83be=_0x3cc4e2;let _0x58010c=_0x1ddb7e[_0x5d83be(0x3d0)];_0x1ddb7e['send']=function(_0x16d846){const _0xe70868=_0x5d83be;if(_0x47c2d2['query'][_0xe70868(0x529)]==='true'||_0x47c2d2[_0xe70868(0x3d6)]['uazapi']===_0xe70868(0x3e1)){let _0x58ad25=JSON['parse'](_0x16d846);_0x16d846=JSON[_0xe70868(0x431)](_0x5b7a76(_0x58ad25));}return _0x58010c[_0xe70868(0x608)](_0x1ddb7e,[_0x16d846]);},_0x817b9();}),_0x4fcf6b[_0x3cc4e2(0x429)]('/',$t),_0x4fcf6b[_0x3cc4e2(0x429)]((_0x50bcdd,_0x51fa62,_0x47c20a,_0x2b6e84)=>{const _0x351b14=_0x3cc4e2;if(_0x50bcdd)return _0x47c20a[_0x351b14(0x180)](_0x50bcdd['status']||0x1f4)['json'](_0x50bcdd);},(_0x9d8c6f,_0x206474,_0x28902b)=>{const _0x438f40=_0x3cc4e2;let {method:_0x2be3b6,url:_0x293b8b}=_0x9d8c6f;_0x206474[_0x438f40(0x180)](0x194)[_0x438f40(0x216)]({'status':0x194,'message':_0x438f40(0x238)+_0x2be3b6[_0x438f40(0x498)]()+'\x20'+_0x293b8b,'error':_0x438f40(0x340)}),_0x28902b();});let _0x5b7a76=(_0x4c670e,_0x12950a=_0x3cc4e2(0x5c5))=>{const _0x247c99=_0x3cc4e2;let _0x1548aa=(_0x18e875,_0x407f6f=null,_0x5c9c95=!0x1)=>{const _0x1ce614=a0_0x472e;let _0x160fb0={};return Object[_0x1ce614(0x14d)](_0x18e875)[_0x1ce614(0x32d)](_0x1effa6=>{const _0x516293=_0x1ce614;let _0x12733b=_0x18e875[_0x1effa6],_0x2ff959=''+_0x12950a+_0x1effa6;_0x407f6f&&!_0x5c9c95&&(_0x2ff959=_0x407f6f+'.'+_0x1effa6),!_0x12733b&&_0x12733b!==0x0&&_0x12733b!==!0x1||typeof _0x12733b>'u'?_0x160fb0[_0x2ff959]=null:typeof _0x12733b!=_0x516293(0x661)&&!Array[_0x516293(0x560)](_0x12733b)?_0x160fb0[_0x2ff959]=_0x12733b:typeof _0x12733b==_0x516293(0x661)&&!Array[_0x516293(0x560)](_0x12733b)?_0x160fb0=Object[_0x516293(0x5ae)](_0x160fb0,_0x1548aa(_0x12733b,_0x2ff959)):Array[_0x516293(0x560)](_0x12733b)&&(typeof _0x12733b[0x0]==_0x516293(0x661)?(_0x160fb0[_0x2ff959]=[],_0x12733b['forEach'](_0x13d55e=>{_0x160fb0[_0x2ff959]['push'](_0x1548aa(_0x13d55e,_0x2ff959,!0x0));})):_0x160fb0[_0x2ff959]=_0x12733b);}),_0x160fb0;};return Array[_0x247c99(0x560)](_0x4c670e)?_0x4c670e[_0x247c99(0x3ef)](_0x2e2fed=>_0x1548aa(_0x2e2fed)):typeof _0x4c670e=='object'&&_0x4c670e!==null?_0x1548aa(_0x4c670e):{};},_0x259811=b[_0x3cc4e2(0x72c)](_0x3cc4e2(0x473));$e[_0x3cc4e2(0x635)]=_0x4fcf6b;let _0x59f11d=$e[_0x259811[_0x3cc4e2(0x5e7)]],_0x216cb2=_0x3cc4e2(0x61c);_0x59f11d[_0x3cc4e2(0x3e5)](_0x259811['PORT'],()=>{const _0x24e031=_0x3cc4e2;_0x25c876[_0x24e031(0x125)](_0x216cb2),_0x25c876[_0x24e031(0x125)](_0x259811[_0x24e031(0x5e7)][_0x24e031(0x498)]()+'\x20-\x20ON:\x20'+_0x259811[_0x24e031(0xc4)]);}),Wi(),Ks();}var Hi='https://github.com/uazapi/uazapi.git',Ki=De[a0_0x28fd55(0x446)][a0_0x28fd55(0x597)](__dirname,a0_0x28fd55(0x714)),xe=null;function Qi(){return new Promise((_0x1d2b6c,_0x4d7dca)=>{const _0x1b2e3b=a0_0x472e;pe[_0x1b2e3b(0x446)][_0x1b2e3b(0x561)](Ki,_0x1b2e3b(0x673),(_0x39d76f,_0x9a07f6)=>{const _0x5471ef=_0x1b2e3b;if(_0x39d76f){xe=_0x39d76f,_0x1d2b6c();return;}Jr[_0x5471ef(0x446)][_0x5471ef(0x3a4)](_0x9a07f6)[_0x5471ef(0x744)][_0x5471ef(0x237)]===Hi?(xe=null,_0x1d2b6c()):(xe=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x1d2b6c());});});}async function Yi(){const _0x3f0464=a0_0x28fd55;try{await Qi(),await Js();}catch(_0x5a287b){console[_0x3f0464(0xbc)](_0x3f0464(0x53e)+_0x5a287b),process[_0x3f0464(0x3c8)](0x1);}}Yi();async function Ur(){const _0x54d40a=a0_0x28fd55;let _0x91ce16;try{_0x91ce16=(await Ie[_0x54d40a(0x446)][_0x54d40a(0x72c)](_0x54d40a(0x493)))[_0x54d40a(0x4d5)]['ip'];}catch(_0x41af80){console['error'](_0x41af80);try{_0x91ce16=(await Ie[_0x54d40a(0x446)][_0x54d40a(0x72c)](_0x54d40a(0x3ee)))['data']['ip'];}catch(_0x42011e){console['error'](_0x42011e);try{_0x91ce16=(await Ie['default']['get'](_0x54d40a(0x685)))[_0x54d40a(0x4d5)][_0x54d40a(0x4f1)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x269292){return console[_0x54d40a(0xbc)](_0x269292),!0x1;}}}return _0x91ce16;}var Pr=0x0;async function Xi(){const _0x586551=a0_0x28fd55;let _0x17d540=await new ce(b[_0x586551(0x72c)](_0x586551(0x779)))[_0x586551(0x61a)]();return console[_0x586551(0x125)]('instancias:\x20',_0x17d540[_0x586551(0x479)]),_0x17d540['length'];}function a0_0x2226(){const _0x397907=['METHODS','#56ccb4','reconnectTimestamps','fetchLabels','available','unlinkSync','pollCreationMessageV3','chatHandle','groupDesc','status.instance','Falha\x20ao\x20processar\x20fetchBusinessProfile',',\x20resultado:\x20','instanceName\x20not\x20provided.','\x1b[41m','saveMediaToFile','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','connectionStatus','isBase64','updateMissingCustomFields','createInstance','substring','):\x20Enviando\x20mídia','remote\x20\x22origin\x22','Instância:\x20','ephemeralExpiration','URL\x20limpa:\x20','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','editFlowVaredit','update','Atualização:\x20','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','createSharedFlow','Enter\x20a\x20value\x20in\x20milliseconds','etiquetas','Processing\x20audio','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','copyBlock','Database\x20is\x20not\x20enabled','write','fetchProfilePictureUrl','File\x20written\x20to\x20path:\x20','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','SendScheduleMessage','inviteCode','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','https://','groupMetadata','findAndReplace','Not\x20is\x20business\x20profile','cacheContactModel','webp','generateHash','DARK','quoted','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','Erro\x20ao\x20atualizar\x20o\x20fluxo:','HOST','):\x20Erro\x20durante\x20a\x20atualização:\x20','image','BufferJSON','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','footerText','QRCODE_UPDATED','limit','convertedOptions','expression','isURL','Nenhum\x20participante\x20válido\x20encontrado.','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','Erro\x20de\x20atualização:\x20','fone','REDIS','newStoppedUntil','chats','DELIVERY_ACK','contacts','DELETED','verbose','Forbidden','#9ab6c1','base64','}}\x20->\x20\x22','rowId','updateGroupWebhook','integer','editChat','\x20contacts','pollErrorMessage','del','stickerMessage','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','groupInviteCode','isJidUser','exists','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','save','copyDataToNewModel','child_process','http://ifconfig.me/ip','processvaredits','replaceVariablesLogs','uazapiSendAudio','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','/media','):\x20Editando\x20variável\x20do\x20fluxo...','round','setWebhook','replaceVariables','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','extractRegex','upperCase','ip:\x20','\x20foi\x20interrompido\x20pelo\x20usuário.','267790cEByUi','sendText','updateCustomFields','errors','process','downloads','):\x20this.processing_id:\x20','MESSAGES_SET','):\x20Entrou\x20na\x20função\x20clearVariables','next_groupId','badSession','PLAYED','\x1b[42m','updateAll','buttons','Types','flowname:\x20','rows','convertaudio','post','):\x20Entrou\x20na\x20função\x20stop','updateMissingEtiquetas','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','response','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.',',\x20Expiration\x20Time:\x20','error','deleteMany','joinGroupValidate','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','uazapi','request\x20received\x20in\x20deleteConversation','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','request\x20received\x20in\x20updateFlowConfig','PORT','format','max','array','E-mail:\x20','maxActives','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','):\x20Buscando\x20conversa...','Last\x20message\x20not\x20found\x20for\x20number:','newValue','superadmin','text/event-stream','saveCreds','Erro\x20ao\x20remover\x20instâncias\x20antigas:','@redis/client','/exit','optionDescription','allContacts','urlOrBase64','condition','.webp','$pull','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','sendList','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','text','#92ceac','CONTACTS_UPSERT','NO_IP','errorLog','contactHandle','class-validator','isRunning','):\x20Limpando\x20delayMessage','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','joinGroup','stopped','DaysToDelete','.docx','The\x20instance\x20needs\x20to\x20be\x20disconnected','getOwnPropertyNames','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','choices','request\x20received\x20in\x20getFlow','makeCacheableSignalKeyStore','repository','mentions','notEmpty','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','cors','hGetAll','DATABASE_CONNECTION_HOST','g-t','editFlowBlock','contacts.upsert',':\x20IP\x20configurado:\x20','_activatedCount','#000000','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','delayChatLabel_RETRY_DELAY_MS','empty','hDel','prototype','generateWAMessageFromContent','evaluateCondition','out','\x1b[36m','loadproxy','request\x20received\x20in\x20editFlowvariable','?authSource=admin&readPreference=primary&directConnection=true','updateFlowConfig','parseInt','getStatus','info','enviado\x20para','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','https-proxy-agent','fileUrl','variables','dbClient','Erro\x20ao\x20editar\x20agentes','getVariablesChat','\x22\x20not\x20found','uazapiSendContact','remoteJids','scheduled','formatStatusMessage','prepareWAMessageMedia','sendMedia','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','privacySettings','protocolMessage','Unauthorized','\x20do\x20chat\x20','.pptx','node-cache','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','log','variablesToObject','STORE','):\x20Bloco\x20original\x20para\x20cópia:\x20','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','getScheduleMessage','getMinutes','deleteBlock','saveVariable','menuType','waInstances','data:\x20','\x1b[37m','refused','.gif','addChatLabel','getFlow','\x1b[31m','USER','):\x20customFieldVariables','https','goToFlow','inviteCodeDetails','HttpsProxyAgent','recording','contextInfo','store','Notifying\x20clients\x20for\x20chat:\x20','verifyWhatsAppNumber','test','uazapiSendText','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','allflows','phoneNumber','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','upsertedCount','\x22,\x20valor\x20a\x20substituir:\x20\x22','encoding','DEBUG','keys','redis','):\x20Criou\x20conversa\x20no\x20startFlow:','list','\x20-y','email','locked','cleanStore','\x22\x20-\x20NOT\x20CONNECTION','request\x20received\x20in\x20deleteFlow','DATABASE_CONNECTION_URI','Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','params','sleep','auth','jsonschema','ENABLED','Falha\x20ao\x20processar\x20a\x20solicitação','sticker','matchRegex','Erro\x20ao\x20importar\x20chats','finish','Erro\x20ao\x20editar\x20o\x20chat','LabelModel','Audio\x20converted\x20and\x20stored\x20in\x20cache','DATABASE_ENABLED','find','WebhookGlobal','183738MenHvW','Chat\x20com\x20ID\x20','Resultado\x20da\x20atualização:','Cache-Control','editConversation','ephemeralDuration','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','open','messages','longitude','leadInfo','14fvWYNj','secondValue','Type\x20not\x20found','uazapiSendMenu','owner','FlowController','getLabelModelForOwner','#fe9dfe','bodyStringErrorParse','groupName','chat','getHours','status','authService','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','\x20não\x20encontrado','set',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...',']\x20(','DATABASE_CONNECTION_USER','contactMessage','DOCKER_ENV','readData','request\x20received\x20in\x20editFlow','indexOf','contact','isInteger','views','imported','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','/wa-connection-update','):\x20Error\x20processing\x20conditions:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','documentWithCaptionMessage','customFields','groupadd','buttonId','user','updateChatWithMessage','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','formatVCard','eventEmitter','reaction','Esse\x20fluxo\x20expirou','Authentication\x20error','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','applyvaredit','groupCreate','role','end','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','arrayUnique','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','size','hSet',',\x20valor\x20passado:\x20\x22','findLabels','replaceValue','jsonwebtoken','qrCode','pollCreationMessageKey','updateOne','interval\x20não\x20é\x20um\x20número','axios','delayChatLabel','):\x20Não\x20achou\x20nenhum\x20flow',':\x20Tentativa\x20','Rótulo\x20atualizado:','setUpdate','Falha\x20após\x20várias\x20tentativas.','qrcode','^\x5cd+','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','mediaSticker','ListMessage','stopWhenYouSendMsg','lastSendMessage','presence','.X-ABLabel:Celular\x0a','getConversationModelForOwner','Erro\x20ao\x20normalizar\x20a\x20mensagem:','groupId','dark','formatBRNumber','://','verifiedName','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','toFile','Error\x20writing\x20file:\x20','request\x20received\x20in\x20starFlow','notMatchRegex','/instance/delete','messageContextInfo','video','PRIVKEY','toLowerCase','reactionMessage','hex','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','.pdf','):\x20isVote:\x20','Variáveis\x20não\x20encontradas:','method','groupGetInviteInfo','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','timeout','replacer','creation','__esModule','noConnection','binary','Erro\x20ao\x20editar\x20a\x20conversa','Parando\x20aplicação...','instanceName','start','g.us','instance.','Error\x20fetching\x20and\x20updating\x20profile:\x20','leadInfo.desativadoFluxoAte','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','groups.update:','Erro\x20ao\x20tentar\x20autoCompleteMessages','client','Erro\x20ao\x20copiar\x20o\x20documento','\x20attempts.','\x20horas\x20e\x20','groupRequestParticipantsList','dataValidate','collection','statusCode','#83e421','Audio\x20processed','https://uazapi-plugin.bubbleapps.io/?url=','.txt','processing_id','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','Bad\x20Request','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','.xls','Read\x20messages','fetchMessages','Número\x20não\x20possui\x20WhatsApp.','Erro\x20inesperado\x20em\x20processvaredits:\x20','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','\x20ao\x20chat\x20','uazapiSendLocation','senderKeyDistributionMessage','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','createFlow','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','and','writeFileSync','deleteDoneMessages','qrcode.updated','AUTHENTICATION','):\x20Enviando\x20áudio','updateStatusPrivacy','json','application/octet-stream','initAuthCreds','instance','\x1b[1m','leadInfo.etiquetas','joinApprovalMode','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','updateGroupPicture','createRegularFlow','getDevice','basename','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','host','editScheduleMessage','updateLastSeenPrivacy','scheduleSendAudio','STORE_CHATS','DATABASE','validate','\x5c$&','awaitSeconds','replyOptions','processConditionsTest','scheduleMessage','Error\x20occurred\x20while\x20archiving\x20chat:\x20','bodyString','ids','#ffc5c7','\x1b[37m%s\x1b[0m','Erro\x20ao\x20buscar\x20conversas','hGet','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','url','Cannot\x20','-whatsapp-api','setting','blocks','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','removeInstance','path','messaging-history.set','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','equal','all_member_add','stanzaId','selectableCount','connectionState','env.yml','findParticipants',',\x20Resultado:\x20','Instance\x20\x22','\x20:\x20','value','when','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','onTime','sendSticker','https://chat.whatsapp.com/','):\x20teve\x20mudanças\x20chat.archived:\x20','Erro\x20ao\x20deletar\x20mensagens:','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','.ogg','random','ignoreGroups','approve','_remoteJid','messageTimestamp','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','groupSetting','groups.upsert','API_KEY','unknown\x20operation\x20type\x20[','AppStateSyncKeyData','[all]','Desconectado,\x20parando\x20execução.','groupLeave','):\x20updateResult:','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','convertToWebP','):\x20Conversa\x20inserida\x20com\x20sucesso.','findOne','has','eventemitter2','vote','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','editflowblock','Erro\x20ao\x20iniciar\x20fluxo:\x20','lastBlockId','body','):\x20Current\x20Time:\x20','lastCondition','Erro\x20ao\x20atualizar\x20múltiplos\x20AutomateSystem:','Image\x20path:\x20','findGroup','ScheduleMessage','useMultiFileAuthState','lastInteraction','insert','getFlowModelForOwner','off','\x20is\x20already\x20in\x20use.','option','announcement','EXPIRIN_IN','_pushName','readdirSync','lastDisconnect','delayMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','digest','groups.update','editflowgroup','CHATS_UPDATE',',\x20saindo.','https://api.elevenlabs.io/v1/text-to-speech/','ScheduleMessageModel','\x1b[33m\x1b[1m','CORS_ORIGIN','CHATS_DELETE','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','#ffffff','Invalid\x20format','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','getLastMessage','CHATS_UPSERT','deleteChat','subdomain','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','delaySecMin','pollCreationMessage','webhook','group','Last\x20message\x20not\x20found','valid','editFlowReply','groupUpdateDescription','displayName','ERROR','sendDataWebhook','node-mime-types','ReplyOptions\x20finais\x20após\x20reordenação:','ButtonsMessage','endSession','boolean',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','/:instanceName','profilePicture','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','call','):\x20leadInfoVariables','CORS_METHODS','messages.update','eventHandler','ChatRouter','stateConnection','not_announcement','updateProfileName','state','splice','updateProfilePicture','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','creds.json','authModel','Primeiro\x20Valor:\x20','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','connectToWhatsappController','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','All_Instances_Config','createWebhook','reviver','.svg','FULLCHAIN','writeData','put','\x20-i\x20','logger','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','GET','remove','Mensagens\x20deletadas\x20com\x20sucesso.','getScheduleMessageModelForOwner','loadInstance','LOG','50mb','ultimaTentativaRemoteJid','):\x20Ler\x20mensagem','editflowvaredit','#dfaef0','\x1b[47m','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','dbInstance','flush','Conexão\x20estabelecida','/config','static','website','Erro\x20ao\x20atualizar\x20o\x20flow.','requestFile','including\x20timestamp\x20in\x20url:\x20','\x22reaction\x22\x20must\x20be\x20an\x20emoji','buttonMessage','getAutomateSystem','flowName','code','leadInfo.customFields','context','gifPlayback','count','action','#64c4ff','isListOfNumbers','.uazapi.dev','sendButtons','request\x20received\x20in\x20updateAgent','TEXT','setHeader','leadInfo.','fetchProfile','cwd','create','getMessage','ORG:','apirequest','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','Certbot\x20executado\x20com\x20sucesso.','chats.update','sendPoll',',\x20qrcodeCount:\x20',',\x20Comparador:\x20','vcard','VERBOSE','licenca','arraybuffer','admin_add','\x20de\x20conectar\x20com\x20IP\x20extra.','flowActive','crypto','label','reorderBlocks','editFlow','poll','WARN','createConversationforgoToFlow','/webhook','_Messages','emit','getConversation','options','listMessage','undefined','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','findAndUpdateCacheContact','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','updateConversation','editFlowVariable','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','Error\x20parsing\x20JSON:','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','readreceipts','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','waitingMenu_id','\x20minutos...','OrAnd','request\x20body:\x20','Certbot:\x20','cpf','processPollUpdateMessage','nomecompleto','createServer','markMessageAsRead','Comando\x20desconhecido','keep-alive','AUTHENTICATION_JWT_SECRET','forEach','changeVariables','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','recebido\x20de','updateOneById','Output\x20path:\x20','no.connection','END:VCARD','FlattenObject\x20result:','originalUrl','DB_PREFIX_NAME','temp-','ListType','messagesSend','where','isConnected','sendMessageWithTyping','\x1b[44m','/instance/fetchInstances','Not\x20Found','deleteOne','deletedCount','redisEnv','Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:','fetchStatus','picture','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','Delete\x20chat\x20in\x20client\x20for\x20number:\x20','stdout','/instance/connect','--agree-tos','Erro\x20ao\x20deletar\x20a\x20conversa','protocol','chats.upsert','Logger','/wa-chats','createSectionsFromValues','\x20adicionado\x20ao\x20chat\x20','Erro\x20ao\x20atualizar\x20conversa:\x20','endsWith','fetchContacts','pollMessage','removeUnusedChatFields','notas','CONTACTS_SET','responsavelid','command','toDataURL','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','detail','lastReceivedMessage','EMAIL','linkPreview','modifiedCount','locationMessage','flow','webhookModel','revokeInviteCode','CONECTADO\x20À\x20UAZAPI','groupSettingUpdate','nome','apikey','-instances','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','allFlows','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','Sistema\x20atualizado\x20com\x20sucesso!','model','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','caption','exports','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','Type\x20is\x20required','flattenObject','release','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','profilePictureUrl','isJidGroup','sem\x20texto\x20na\x20mensagem','font','/wa-all-message','findMessages','desativadoFluxoAte','#b4ebff','.url','CONNECTION_UPDATE','STORE_CONTACTS','createGroup','importChats','header','/automate','DATABASE_CONNECTION_DB_PREFIX_NAME','PROXY','):\x20Editando\x20condição\x20do\x20fluxo...','addReplyOption','/media/','):\x20Editando\x20edição\x20do\x20fluxo...','):\x20Conversa\x20está\x20expirada\x20-\x20voto','chats.delete','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','\x20removido\x20do\x20chat\x20','password','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','abs','deleted','):\x20Editando\x20grupo\x20do\x20fluxo...','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','updateMissingTags','application/json','exec','mkdirSync','jid','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','_Flows','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','connectedName','PREFIX_KEY','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','JWT','parse','removeOlderDisconnectedInstances','testProxy','Valor\x20de\x20find\x20ou\x20replace\x20ausente','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','flowStopMinutes','leaveGroup','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','console','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','cache','\x1b[32m','sendWhatsAppAudio','updateReplyOption','):\x20Conversas\x20encontradas:','):\x20Flow\x20não\x20encontrado','findOneAndUpdate','deleteMessage','labelId','checkAndRestartProcess','groups_ignore','username','Background\x20color\x20is\x20required','conditions','):\x20Query\x20params:\x20','notify','archiveChat','some','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','\x22\x20cannot\x20be\x20empty','imagechat','Missing\x20global\x20api\x20key','updateGroupsAddPrivacy','):\x20tem\x20blocks','output','exit','normalizeMessage','\x20inseridas\x20no\x20banco\x20de\x20dados...','delay','.doc','findConversation','isJidBroadcast','):\x20debug\x20alterando\x20this.AutomateSystem','send','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','trimmed','debug','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','http','headers','Error\x20finding\x20many\x20contacts:','):\x20conversation.waitingMenu_name','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','API\x20Key\x20from\x20Request:','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','copy','#d8e651','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','whatsappNumber','Início','true','):\x20Bloco\x20com\x20ID\x20','8080','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','listen','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','):\x20Procurando\x20conversa','mediaKey','\x20instance\x20does\x20not\x20exist','autoCompleteMessages','Font\x20is\x20required','lowerCase','normalizeMessageContent','https://api.ipify.org?format=json','map','instanceCount',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','resetReconnectionVariables','port','labels.association','\x0a*Você\x20respondeu*:\x0a','FlowRouter','):\x20Deletando\x20mensagem','toLocaleString','mongoose','\x0aFN:','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','stopMinutes','):\x20Query\x20params:','updateMissingShareOwners','demote','#d3a91f','router','#f64847','slice','Content-Type','readMessageBot','fetchChats','src','app-state-sync-key','fetchConversation','preview','archived','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','updateMany','removeProfilePicture','Module\x20-\x20ON',',\x20canSendMessage:\x20','fetchProfilePicture','beforeExit','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','MESSAGES_UPDATE','wuid','isAdmin','startsWith','whatsappNumbers','greater','Subscribed\x20Events:','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','error_log','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','everyOne','\x20\x1b[0m','processUazapi','notContains','getContactModelForOwner','):\x20[messages.upsert]\x20group\x20ignored','fromObject','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','toNumber','12269616tboaNH','onWhatsApp','use','ReplyOption\x20com\x20ID\x20','flowConversation','getBase64FromMediaMessage','fullName','):\x20Campos\x20a\x20serem\x20atualizados:','findById','processclearVariables','stringify','\x22\x20-\x20REMOVED','updatePrivacySettings','repeat','/events/:instance','collections','\x20segundos','audioWhatsapp','Error\x20updating\x20cache\x20contact:','@g.us','getMIMEType','/instance/connectionState','connectionUpdate','\x1b[33m%s\x1b[0m','_Chats','RemoveChatLabel','https://api.openai.com/v1/audio/speech','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','imageMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','audioMessage','default','DD/MM\x20HH:mm:ss','updateParticipant','The\x20global\x20api\x20key\x20must\x20be\x20set','AutomateSystem','envProcess','contactsArrayMessage','sendContact','/wa-message','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','sending','buttonText','floor','):\x20Enviando\x20localização','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','#6f7bcf','waitingMenu_text','expiration','updateChatGroupData','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','groupJoinApprovalMode','getProfileName','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','fetchPrivacySettings','online','all','STATUS_INSTANCE','number','function','participants','Log\x20out\x20instance:\x20','mimetype','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','groupBetterSetting','}}\x20->\x20valor\x20não\x20encontrado','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','addBlock','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','Db\x20Connection','connectToWhatsapp','Connection\x20closed\x20for\x20instance:\x20','generate','reorderReplyOptions','closed','saveTextReply','SERVER','push','key','\x1b[1m\x1b[37m','cachedData-whatsapp','sharp','length','notEqual','charAt','\x1b[40m','createConversationforStartFlow','restrict','verify','The\x20','variable','):\x20conversation.status:\x20','lean','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','silent','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','MESSAGES_UPSERT','\x20minutos.\x20Será\x20às\x20','msgRetryCounterCache','COLOR','Image\x20is\x20base64','contacts.update','):\x20Bloco\x20copiado:\x20','):\x20','Bloco\x20com\x20ID\x20','deleteImportedChat','tags','groupUpdateSubject','https://jsonip.com','scheduleMessages','Group\x20not\x20found','insertMany','blockLogs','toUpperCase','$set','Rótulo\x20inválido\x20ou\x20sem\x20ID.','Erro\x20ao\x20buscar\x20a\x20conversa','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','readMessages','pictureUrl','editFlowGroup','request\x20received\x20in\x20updateCustomFields','mediaMessage','\x20não\x20encontrado\x20para\x20atualização.','deleteAll','extractMessageContent','sendStatus','REDIS_ENABLED','padEnd','\x20minutos','ex:\x20\x22groupJid=120362@g.us\x22',',\x20fará\x20nova\x20verificação\x20em\x20','PRODUCT_LIST','fetchLatestBaileysVersion','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','Instance\x20Key\x20from\x20DB:','deleteflow','chats.set','CONFIGURAÇÃO\x20GERAL:','uazapiSendMedia','Erro\x20ao\x20adicionar\x20label\x20','sectionsToString','content','textMessage','http://icanhazip.com/','replace','latitude','moreLogs','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','editflowvariable',',\x20Segundo\x20Valor:\x20','statusJidList','Archiving\x20chat','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','compression','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','Hash\x20to\x20image\x20name:\x20','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','Type\x20defined\x20as\x20audio','insertCount','Flow\x20iniciado\x20com\x20','getPrototypeOf','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','/clients-info','AddChatLabel','sendLocation','proto','#00a1f2',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','TEL','isCommunity','includes','shutdown\x20-r\x20now','isCommunityAnnounce','data','webhookMap','width','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','query','bateu\x20events','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','findGroups','stopConversation','chatLog','augusto.fcs@gmail.com','nextBlock:','deleteReplyOption','local_map','ContactModel','\x1b[43m','error\x20get\x20vote','request\x20received\x20in\x20updateAutoCompleteMessages','\x20not\x20found,\x20retrying\x20in\x20','\x20-\x20retornado:\x20','updateAgent','flushHeaders','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','sharePass','Message','reconnectAttempts','match','realVariables','fetchBusinessProfile','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','editflow','beautifyWithPlaceholders','$dbName','messageHandle','REDIS_PREFIX_KEY','groupToggleEphemeral','request\x20received\x20in\x20editFlowcondition','Operador:\x20\x22','\x20minutos\x20verificará\x20novas\x20mensagens',',\x20Novo\x20tamanho:\x20','done','):\x20Visualizando\x20AutomateSystem','#fed428','\x5cd+','.jwt','groupRevokeInvite','varedits','varedit','Close\x20connection','hasOwnProperty','values','updateStopChat','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','connectedClient','Imagem\x20não\x20encontrada','message_normalized','replaceVariablesInReplyOptions','readFileSync','mongodb','updateProfileStatus','SSL_CONF','presence.update','CONTACTS_UPDATE','<subdomain>','redirect','Pausado\x20por\x20','getflow','/message','2153160oaPqzq','updateGParticipate','certbot','Erro\x20ao\x20deletar\x20chat:','Business\x20profile\x20fetched','updateMessage','GROUP_PARTICIPANTS_UPDATE','listResponseMessage','defineProperty','jwt','execSync','Image\x20converted\x20to\x20WebP','findManyByIds','*\x0a\x0a','convert','webhookService','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','importChatsAntigo','CONNECTION','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','menuExpiredMessage','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','Error\x20updating\x20message\x20status:','Instance\x20logged\x20out','document','activatedCount','):\x20Conversa\x20atualizada\x20em\x20memória','createJid','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','mongodb://','\x1b[0m','long','_id','prepareMediaMessage','restartInstance','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','):\x20nextBlock.uazapi.name','pop',',\x20isAdmin:\x20','groupValidate','messageSecret','jpegThumbnail','SERVER_TYPE','utf8','waMonitor','.extension','connecting','messages.set','sections','getChatModelForOwner','https://uazapi-plugin.bubbleapps.io/','findAndReplaceRegex','chatModify','apiResponse','oldToken','presenceSubscribe','descOwner','Validate','participant','shareOwners','ON\x20-\x20dbName:\x20','labels.edit','message','minutesToClose','Erro\x20ao\x20sincronizar\x20fluxos:\x20','entries','audio/ogg;\x20codecs=opus','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','throwAndLogError','isArray','readFile','saveConversationToDatabase','pollUpdateMessage','envYaml','findIndex','Fluxos\x20não\x20estão\x20ativados','pairingCode','color','flowConfig','41746shhjyO','processblock','authorization','Contacts\x20not\x20found','replaceVariablesInObject','):\x20Criando\x20fluxo\x20compartilhado...','awaitingApproval','announce','unlocked','cacheContact','importChatsBatch','close','GUARD','/wa-groups','RECONNECT_TIME_FRAME','request\x20received\x20in\x20editFlowgroup','agents','findFlow','groupParticipantsUpdate','updateProfilePicturePrivacy','\x20não\x20encontrado\x20para\x20cópia','creds','NextBlock','request\x20received\x20in\x20allFlows','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','events','sendReaction','.error','filter','pollCreationMessageV2','menuMessage','connect','findGroupInfos','SUCCESS','userDevicesCache','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','Image\x20created','configService','getRandomText',',\x20Minutes\x20to\x20Close:\x20','stopIfLastReturnedError','URI','unreadcount','composing','reject','join','pollOnReplyDelete','Safari','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','MessageModel','getTime','getContentType','automateSystem','messages.upsert','):\x20newFirstValue\x20após\x20replaceVariables:','headerString','Erro\x20ao\x20arquivar\x20chat','Converting\x20image\x20to\x20WebP\x20to\x20sticker','lastFetchAwaitingApproval','):\x20Error\x20processing\x20the\x20block:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','):\x20delete\x20=\x20true','waitingMenu_ExpiredMessage','StartBot',',\x20pairCode:\x20','):\x20alterando\x20this.AutomateSystem','defineAuthState','loadEnv','assign','getClient','DisconnectReason','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','\x20chats\x20de\x20','Error\x20removing\x20unused\x20chat\x20fields:','apiName','dbSettings','updateOnlinePrivacy','createHash','STORE_MESSAGE','):\x20Enviando\x20contato','warn','/*.json','getMessageModelForOwner','documentMessage','memberAddMode','Erro\x20ao\x20tentar\x20updateCustomFields','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','ERROR:\x20','request\x20received\x20in\x20deleteDoneMessages','Número:\x20','sendMessage','_p_','split','.mp4','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','chatId','Getting\x20image\x20from\x20url','processawaitSeconds','blockId','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','createAndSave','#9568cf','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','Temp\x20image\x20deleted','):\x20Edit\x20schedule\x20message...','createNewConversation','SERVER_ACK','/events','Nenhum\x20chat\x20encontrado\x20para\x20editar.','requestPairingCode','*Pergunta*:\x20\x0a','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','MAX_RECONNECT_ATTEMPTS','remoteJidsRemaining','@whiskeysockets/baileys','remoteJid','localWebhook','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','authentication','\x20e\x20ID=','editflowreply','deleteMessageForEveryone','subjectTime','$addToSet','TYPE','sign','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','match_last_seen','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','env','request\x20received\x20in\x20getConversation','Instance\x20deleted','SSL_CONF_FULLCHAIN','.\x20Pulando.','less','conversationTimestamp','routerPath','urlencoded','groupdata','instances','media','synchronizeFlows','isJWT','):\x20Procurando\x20mensagens\x20para\x20envio','fileLength','request\x20received\x20in\x20scheduleMessage','goNextblock','updateReadReceiptsPrivacy','imgUrl','convertaudioMP3','removeChatLabel','fromMe','remove.instance','/create','request\x20received\x20in\x20editConversation','address','SERVER_URL','apply','uuid','.mp3','dbServer','Erro\x20ao\x20copiar\x20dados:','waitingForReplyMenu','/wa-message-update','):\x20Comando\x20desconhecido:\x20','\x1b[34m%s\x1b[0m','shift','@newsletter','logout','GROUPS_UPSERT','promote','name','CREDENTIALS','title','quotedMessage','instanceKeys','Database\x20connection\x20closed.','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','.TEL;waid=','trim','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','Schema','findOrCreate','status@broadcast','http://myexternalip.com/raw','PASSWORD','_ScheduleMessages','group-participants.update:','buffer','addresss','sort','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','PRESENCE_UPDATE','CORS_CREDENTIALS','getTicketSystem','Error\x20fetching\x20group','desc','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','closeExistingConversations','conversation','contains','app','profile','variablesNotFound','createConnection','Flow\x20não\x20encontrado','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','../env.yml','pollMessageOnDelete','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','_fromMe','group-participants.update','Reinicialização\x20iniciada:\x20','findGroupInfo','setRestartTimeout','request\x20received\x20in\x20fetchConversation','\x1b[33m','prefixCommand','created','dbConnection','inner','unreadCount','CORS','content-type','updateBlock','Erro\x20de\x20reinicialização:\x20','ContactsAndGroups','3536220VkZgzt','ephemeralMessage','/wa-contacts','authState','firstValue','storePath','readMessage','from','delAll','folder','currency','connection.update','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','scheduleSendText','Telefone:\x20','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','/instance/create','string','object','removeData','^\x5cd+([-]\x5cd+)*@g.us$','API\x20Key\x20inválida.','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','messageStubType','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','express','updateGroupParticipantsWebhook','CHATS_SET','.fileUrl','decryptPollVote',',\x20valor\x20a\x20encontrar:\x20\x22','replaceOne','scheduleNextCheck','Router','updateAutoCompleteMessages','SERVER_PORT','utf-8','removed','sendPresenceUpdate','#ffae04','):\x20Conversa\x20está\x20expirada','Cached\x20audio\x20found,\x20returning\x20existing\x20file','.png','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','order','):\x20Limpando\x20AutomateSystem','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','block','startFlow','Erro\x20ao\x20inserir\x20chats:','request\x20received\x20in\x20createFlow','success','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','http://checkip.dyndns.org','Message\x20not\x20found','Error\x20in\x20chatModify\x20for\x20number\x20','Fluxo\x20não\x20encontrado','none','bulkWrite','atendimentoAberto','type','waitingMenu_replyOptions','stderr','AutomateFunctions','enabled','evaluateConditionTest','Connection','request_method','updatePresence','cleaningUp','editedMessage','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','findByIdAndDelete','lastUpdate','replaceVariablesChat','upsertChats','_Contacts','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','unavailable','@broadcast','Não\x20respondeu\x20com\x20a\x20enquete.','sendMenu','connectionClosed','--standalone','2044404hmCeXJ','pre','padStart','loggedOut','admin','Button\x20texts\x20cannot\x20be\x20repeated','?timestamp=','description','FlowModel','The\x20property\x20cannot\x20be\x20empty','statusMessage','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','capitalizedWords','updateGParticipant','):\x20Entrou\x20na\x20função\x20saveReply','#9ba6ff','existsSync','):\x20mediaMessageInfoId\x20:\x20','@ffmpeg-installer/ffmpeg','isBusiness','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','drop','deleteConversation','lastMessage','last','editOperator','muteEndTime','findAll','ini','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','Label\x20','lastSend','sha256','segundos','findWebhook','):\x20Editando\x20replyOption...','audio','add','):\x20Entrou\x20na\x20função\x20processawaitSeconds','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','ConversationModel','groups','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','#ff9484','loadWebhook','_error','fileName','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','backgroundColor','truncatedtoEnd','instanceInfo','messageType','\x20after\x20','label_jid','findByIdAndUpdate','stopMinutesMaxActives','toString','cachedContact','\x20->\x20CONFIRMADO.','groupHandler','view\x20engine','messageId','Error\x20in\x20converting\x20audio','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','SEND_MESSAGE','listType','SSL_CONF_PRIVKEY','):\x20Enviando\x20texto','AUTHENTICATION_JWT_EXPIRIN_IN','Selecione','toggleEphemeral','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','express-async-errors','/wa-presence','pino','):\x20Buscando\x20conversas...','.webm','):\x20Falha\x20ao\x20deletar\x20mensagem.','numbers','groupJid','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','saveChatVariables','groupMemberAddMode','PENDING','js-yaml','contentText','@s.whatsapp.net','fetchInstances','editFlowCondition','\x1b[34m','pushName','contact_blacklist','subject','replyOption','Fetching\x20business\x20profile','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','send.message','archive','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','INFO','InstancesAlterarTodas','toBRL','processApiRequest','\x1b[46m','mediatype','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','):\x20transformedCustomFieldVariables','):\x20expirationTime:\x20','SINGLE_SELECT','GROUPS_UPDATE','Erro\x20ao\x20alterar\x20privacidade','./.git/config','Falta\x20informação\x20para\x20a\x20chamada\x20API','inviteUrl','now','canSendMessage','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','):\x20Fluxos\x20não\x20estão\x20ativados','statSync','request\x20received\x20in\x20getAutomateSystem','unhandledRejection','delete','.mimetype','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','delayChatLabel_MAX_RETRIES','URL','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','ObjectId','http://ipecho.net/plain','uazapiDeleteMessage','processConditions','scheduleSendMedia','reference','KEY','get','uncaughtException'];a0_0x2226=function(){return _0x397907;};return a0_0x2226();}function Zi(_0x525215){const _0x31885b=a0_0x28fd55;let _0x1291a1=_0x525215[_0x31885b(0x72c)]('SERVER')[_0x31885b(0x723)],_0x4bf0e0=_0x525215[_0x31885b(0x72c)](_0x31885b(0x513)),_0x1f7132;if(_0x1291a1){let _0x4b2de5=_0x1291a1['match'](/\/\/(.*?)\./);_0x4b2de5&&_0x4b2de5[0x1]&&(_0x1f7132=_0x4b2de5[0x1]);}if(!_0x1f7132&&_0x4bf0e0&&_0x4bf0e0['FULLCHAIN']){let _0x356363=_0x4bf0e0['FULLCHAIN']['split']('/'),_0x2c0b50=_0x356363[_0x356363[_0x31885b(0x479)]-0x2];if(_0x2c0b50){let _0x3b3b12=_0x2c0b50[_0x31885b(0x5c6)]('.');_0x3b3b12['length']>0x2&&(_0x1f7132=_0x3b3b12[0x0]);}}return _0x1f7132;}var _s=Zi(b);async function eo(){const _0xcec81a=a0_0x28fd55;let _0x3f6165=b[_0xcec81a(0x72c)](_0xcec81a(0x779)),_0x4d6ef5=b[_0xcec81a(0x72c)](_0xcec81a(0x213))[_0xcec81a(0x25d)][_0xcec81a(0x72b)],_0x87eae9=b[_0xcec81a(0x72c)]('SSL_CONF'),_0xbed32=await Ur(),_0x3dedbc=b[_0xcec81a(0x72c)](_0xcec81a(0x473))[_0xcec81a(0xc4)],_0x384b15=b[_0xcec81a(0x72c)](_0xcec81a(0x473))['URL'];try{let _0x11de31={'ip':_0xbed32||null,'redis_enable':_0x3f6165?.[_0xcec81a(0x15d)]||null,'apikey':_0x4d6ef5||null,'ssl':_0x87eae9?.[_0xcec81a(0x1d6)]||null,'lastupdate':qr||null,'port':_0x3dedbc||null,'gitInstallError':xe?.[_0xcec81a(0x559)]||null,'url':_0x384b15||null};if(console['log'](_0xcec81a(0xa0),_0x11de31['ip']),_0x3f6165&&_0x3f6165[_0xcec81a(0x15d)]){let _0x415596=await Xi();_0x11de31[_0xcec81a(0x3f0)]=_0x415596||null;}for(let _0x547fb6 in _0x11de31)_0x11de31[_0xcec81a(0x508)](_0x547fb6)&&_0x547fb6!=='ip'&&(_0x11de31[_0x547fb6]=JSON[_0xcec81a(0x431)](_0x11de31[_0x547fb6]));return(await Ie[_0xcec81a(0x446)][_0xcec81a(0xb5)](_0xcec81a(0x1da),_0x11de31))['data'];}catch(_0x3cbd80){return console[_0xcec81a(0xbc)](_0x3cbd80),!0x1;}}var Ls=!0x1,qr=0x23c,to=0x3,kr=0x1b7740;async function Js(){const _0x5f47be=a0_0x28fd55;if(!await Ur())return console[_0x5f47be(0xbc)](_0x5f47be(0x63a)),_0x5f47be(0xe0);let _0x4d59c2=await eo();if(_0x4d59c2){if(_0x4d59c2[_0x5f47be(0xb9)][_0x5f47be(0x303)]===!0x0){let _0x4a3418=b['get'](_0x5f47be(0x513)),_0x2cb5e8=b[_0x5f47be(0x72c)]('SERVER')['URL'];_0x4a3418&&_0x4a3418?.['PRIVKEY']?.[_0x5f47be(0x4d2)](_0x5f47be(0x516))&&_0x4d59c2[_0x5f47be(0xb9)]['subdomain']&&!_0x2cb5e8&&(await ro(_0x4d59c2['response'][_0x5f47be(0x295)],ao),await io(_0x5f47be(0x4e1),_0x4d59c2[_0x5f47be(0xb9)]['subdomain']),console[_0x5f47be(0x125)](_0x5f47be(0x6e4)),setTimeout(()=>no(),0x2710)),xe===null&&_0x4d59c2[_0x5f47be(0xb9)]['last_update']-qr>0x0&&await so(),Ls||(Ls=!0x0,zi());let _0x437d00=0x24*0x3c*0x3c,_0x15d406=_0x4d59c2[_0x5f47be(0xb9)][_0x5f47be(0x6c5)]>_0x437d00?_0x437d00:_0x4d59c2[_0x5f47be(0xb9)][_0x5f47be(0x6c5)],_0x570f06=Number(_0x15d406);if(isNaN(_0x570f06)){console['error'](_0x5f47be(0x1b6));return;}let _0x44201d=Math[_0x5f47be(0x452)](_0x570f06/0xe10),_0x210410=Math[_0x5f47be(0x452)](_0x570f06%0xe10/0x3c),_0xaa7f80=new Date(Date[_0x5f47be(0x717)]()+_0x570f06*0x3e8);setTimeout(Js,_0x570f06*0x3e8);let _0x3b2e88=_0x25ec78=>_0x25ec78[_0x5f47be(0x6dd)]()[_0x5f47be(0x6a6)](0x2,'0'),_0x557914=_0x5f47be(0x4c4)+_0x3b2e88(_0x44201d)+_0x5f47be(0x1f5)+_0x3b2e88(_0x210410)+_0x5f47be(0x488)+_0x3b2e88(_0xaa7f80[_0x5f47be(0x17f)]())+':'+_0x3b2e88(_0xaa7f80[_0x5f47be(0x12c)]())+'.';console[_0x5f47be(0x125)](_0x557914);}else return console[_0x5f47be(0x125)](_0x5f47be(0x58d)),Ls&&(console['log'](_0x5f47be(0x31d)),process['exit']()),'LICENSE_INVALID';}else{if(Pr++,Pr<to)console[_0x5f47be(0x125)](_0x5f47be(0x9d)+kr/0xea60+_0x5f47be(0x321)),setTimeout(Js,kr);else return console['error'](_0x5f47be(0x52b)),'SERVER_OFFLINE';}}async function so(){const _0x49df2d=a0_0x28fd55;console[_0x49df2d(0x125)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x27d381=(0x0,_e['spawn'])(_0x49df2d(0x6d4),{'shell':!0x0});_0x27d381['stdout']['on'](_0x49df2d(0x4d5),_0xdbebda=>{const _0x4fc012=_0x49df2d;console[_0x4fc012(0x125)](_0x4fc012(0x74c)+_0xdbebda);}),_0x27d381['stderr']['on'](_0x49df2d(0x4d5),_0x27d27e=>{const _0x3ffb90=_0x49df2d;console['error'](_0x3ffb90(0x777)+_0x27d27e);}),_0x27d381['on'](_0x49df2d(0x3c8),_0x273564=>{const _0x3b0825=_0x49df2d;_0x273564!==0x0?console['error'](_0x3b0825(0x207)+_0x273564):console[_0x3b0825(0x125)](_0x3b0825(0x36f)),console['log'](_0x3b0825(0x1e8)),setTimeout(()=>process[_0x3b0825(0x3c8)](),0x2710);});}var ao=De[a0_0x28fd55(0x446)][a0_0x28fd55(0x597)](__dirname,a0_0x28fd55(0x246));async function ro(_0x21881b,_0x49bca6){const _0x153d59=a0_0x28fd55;let _0xda7a1d=oo();_0x21881b=_0x21881b[_0x153d59(0x4b8)](_0x153d59(0x2ef),'');try{let _0x5315f8=pe['default'][_0x153d59(0x510)](_0x49bca6,_0x153d59(0x546));_0x5315f8=_0x5315f8[_0x153d59(0x4b8)](/<apikey>/,_0xda7a1d),_0x5315f8=_0x5315f8[_0x153d59(0x4b8)](/<subdomain>/g,_0x21881b),pe[_0x153d59(0x446)]['writeFileSync'](_0x49bca6,_0x5315f8,'utf8'),console[_0x153d59(0x125)](_0x153d59(0x3ae));}catch(_0x2df58d){console[_0x153d59(0xbc)](_0x153d59(0x3d4),_0x2df58d);}}function io(_0x33ea43,_0x5262f1){return new Promise((_0x38a7f7,_0x406c8b)=>{const _0x3be0d4=a0_0x472e;let _0x285525=(0x0,_e['spawn'])(_0x3be0d4(0x51d),['certonly',_0x3be0d4(0x6a3),'-m',_0x33ea43,_0x3be0d4(0x34b),'-d',_0x5262f1]);_0x285525[_0x3be0d4(0x349)]['on'](_0x3be0d4(0x4d5),_0x5efb36=>{const _0x1bf267=_0x3be0d4;console['log'](_0x1bf267(0x324)+_0x5efb36[_0x1bf267(0x6dd)]());}),_0x285525['stderr']['on'](_0x3be0d4(0x4d5),_0x567d36=>{console['error']('Erro\x20do\x20Certbot:\x20'+_0x567d36['toString']());}),_0x285525['on'](_0x3be0d4(0x575),_0x43955c=>{const _0x104e32=_0x3be0d4;_0x43955c!==0x0?(console[_0x104e32(0xbc)](_0x104e32(0x36c)+_0x43955c),_0x406c8b('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x43955c)):(console['log'](_0x104e32(0x2fc)),_0x38a7f7());});});}function oo(_0x235d70=0x32){const _0x42bf0e=a0_0x28fd55;let _0x48c119=_0x42bf0e(0x145),_0x10836b='';for(let _0x4c201f=0x0;_0x4c201f<_0x235d70;_0x4c201f++)_0x10836b+=_0x48c119[_0x42bf0e(0x47b)](Math[_0x42bf0e(0x452)](Math[_0x42bf0e(0x255)]()*_0x48c119[_0x42bf0e(0x479)]));return _0x10836b;}function no(){const _0x4e28ac=a0_0x28fd55;(0x0,_e[_0x4e28ac(0x39a)])(_0x4e28ac(0x4d3),(_0x1a2b6e,_0x15a345,_0x39edb8)=>{const _0x2d68fd=_0x4e28ac;if(_0x1a2b6e){console[_0x2d68fd(0xbc)](_0x2d68fd(0x667)+_0x1a2b6e);return;}if(_0x39edb8){console[_0x2d68fd(0xbc)](_0x2d68fd(0x64d)+_0x39edb8);return;}console['log'](_0x2d68fd(0x640)+_0x15a345);});}0x0&&(module[a0_0x28fd55(0x373)]={'subdomain':subdomain});