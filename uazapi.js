const a0_0x13f4c8=a0_0x2b73;(function(_0x1787a5,_0xfbdda4){const _0x41d5c6=a0_0x2b73,_0x3d7ab7=_0x1787a5();while(!![]){try{const _0x1a1483=-parseInt(_0x41d5c6(0xd6))/0x1+parseInt(_0x41d5c6(0x196))/0x2*(parseInt(_0x41d5c6(0x414))/0x3)+parseInt(_0x41d5c6(0x5d0))/0x4*(-parseInt(_0x41d5c6(0x689))/0x5)+-parseInt(_0x41d5c6(0x3fb))/0x6*(-parseInt(_0x41d5c6(0x4c3))/0x7)+-parseInt(_0x41d5c6(0x6bf))/0x8+parseInt(_0x41d5c6(0x4cc))/0x9+parseInt(_0x41d5c6(0x2e6))/0xa;if(_0x1a1483===_0xfbdda4)break;else _0x3d7ab7['push'](_0x3d7ab7['shift']());}catch(_0x28ac85){_0x3d7ab7['push'](_0x3d7ab7['shift']());}}}(a0_0x3cef,0x6dfeb));var Dr=Object['create'],Ie=Object[a0_0x13f4c8(0xf8)],_r=Object['getOwnPropertyDescriptor'],Pr=Object['getOwnPropertyNames'],$r=Object['getPrototypeOf'],kr=Object[a0_0x13f4c8(0x8e)][a0_0x13f4c8(0x3c4)],Lr=(_0xe75f0e,_0x335806)=>{for(var _0x1fb19a in _0x335806)Ie(_0xe75f0e,_0x1fb19a,{'get':_0x335806[_0x1fb19a],'enumerable':!0x0});},Ds=(_0xc820f5,_0x4d1e0e,_0xc9c6e6,_0x3581ac)=>{const _0xc19640=a0_0x13f4c8;if(_0x4d1e0e&&typeof _0x4d1e0e=='object'||typeof _0x4d1e0e==_0xc19640(0x1a9)){for(let _0x36e218 of Pr(_0x4d1e0e))!kr[_0xc19640(0x146)](_0xc820f5,_0x36e218)&&_0x36e218!==_0xc9c6e6&&Ie(_0xc820f5,_0x36e218,{'get':()=>_0x4d1e0e[_0x36e218],'enumerable':!(_0x3581ac=_r(_0x4d1e0e,_0x36e218))||_0x3581ac[_0xc19640(0x386)]});}return _0xc820f5;},R=(_0x2f419d,_0xbc168,_0x578c90)=>(_0x578c90=_0x2f419d!=null?Dr($r(_0x2f419d)):{},Ds(_0xbc168||!_0x2f419d||!_0x2f419d[a0_0x13f4c8(0x321)]?Ie(_0x578c90,a0_0x13f4c8(0x29d),{'value':_0x2f419d,'enumerable':!0x0}):_0x578c90,_0x2f419d)),jr=_0x5cdd11=>Ds(Ie({},a0_0x13f4c8(0x321),{'value':!0x0}),_0x5cdd11),zo={};Lr(zo,{'subdomain':()=>Ns}),module['exports']=jr(zo);var Rr=R(require('compression')),Ps=require('fs'),$s=require(a0_0x13f4c8(0xf6)),ks=require('path'),xe=require('path'),ae=process[a0_0x13f4c8(0x257)](),he=(0x0,xe[a0_0x13f4c8(0x40c)])(ae,a0_0x13f4c8(0x239)),_s=(0x0,xe[a0_0x13f4c8(0x40c)])(ae,a0_0x13f4c8(0x58f)),Ui=(0x0,xe[a0_0x13f4c8(0x40c)])(ae,a0_0x13f4c8(0x61d),a0_0x13f4c8(0x206)),Xt=class{constructor(){const _0x14c50a=a0_0x13f4c8;this[_0x14c50a(0x53f)]();}[a0_0x13f4c8(0x208)](_0x2ba3c3){const _0x3aac73=a0_0x13f4c8;return this[_0x3aac73(0x76)][_0x2ba3c3];}[a0_0x13f4c8(0x53f)](){const _0x369fd5=a0_0x13f4c8;this[_0x369fd5(0x76)]=process[_0x369fd5(0x76)]?.[_0x369fd5(0x18c)]!==_0x369fd5(0x337)?this[_0x369fd5(0x163)]():this[_0x369fd5(0x5b9)](),process[_0x369fd5(0x76)]?.['DOCKER_ENV']===_0x369fd5(0x337)&&(this['env'][_0x369fd5(0x322)]['TYPE']=_0x369fd5(0x691),this[_0x369fd5(0x76)]['SERVER'][_0x369fd5(0x43b)]=Number[_0x369fd5(0x5aa)](process[_0x369fd5(0x76)]?.[_0x369fd5(0x21e)]??_0x369fd5(0x1e2)));}[a0_0x13f4c8(0x163)](){const _0x242c7a=a0_0x13f4c8;return(0x0,$s['load'])((0x0,Ps[_0x242c7a(0x3e3)])((0x0,ks[_0x242c7a(0x40c)])(_s,_0x242c7a(0x69e)),{'encoding':_0x242c7a(0x7a)}));}[a0_0x13f4c8(0x5b9)](){const _0x3c2dd1=a0_0x13f4c8;return{'SERVER':{'TYPE':process['env'][_0x3c2dd1(0x71)],'PORT':Number[_0x3c2dd1(0x5aa)](process['env'][_0x3c2dd1(0x21e)]),'URL':process[_0x3c2dd1(0x76)][_0x3c2dd1(0x628)]},'CORS':{'ORIGIN':process[_0x3c2dd1(0x76)][_0x3c2dd1(0x44d)][_0x3c2dd1(0x545)](','),'METHODS':process['env'][_0x3c2dd1(0x6a)][_0x3c2dd1(0x545)](','),'CREDENTIALS':process['env']?.['CORS_CREDENTIALS']==='true'},'SSL_CONF':{'PRIVKEY':process[_0x3c2dd1(0x76)]?.[_0x3c2dd1(0x35e)],'FULLCHAIN':process[_0x3c2dd1(0x76)]?.[_0x3c2dd1(0x513)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x3c2dd1(0x76)]?.[_0x3c2dd1(0x5c8)])?Number[_0x3c2dd1(0x5aa)](process[_0x3c2dd1(0x76)][_0x3c2dd1(0x5c8)]):void 0x0,'MESSAGES':process[_0x3c2dd1(0x76)]?.[_0x3c2dd1(0x34d)]===_0x3c2dd1(0x337),'CONTACTS':process[_0x3c2dd1(0x76)]?.[_0x3c2dd1(0x6a8)]===_0x3c2dd1(0x337),'CHATS':process[_0x3c2dd1(0x76)]?.[_0x3c2dd1(0x57b)]===_0x3c2dd1(0x337)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x3c2dd1(0x1c0)],'PORT':Number[_0x3c2dd1(0x5aa)](process['env']?.[_0x3c2dd1(0x1c0)]),'USER':process[_0x3c2dd1(0x76)][_0x3c2dd1(0x2e0)],'PASSWORD':process['env']['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x3c2dd1(0x76)][_0x3c2dd1(0x4e0)],'DB_PREFIX_NAME':process[_0x3c2dd1(0x76)][_0x3c2dd1(0x5a9)]},'ENABLED':process[_0x3c2dd1(0x76)]?.[_0x3c2dd1(0x18d)]===_0x3c2dd1(0x337)},'REDIS':{'ENABLED':process[_0x3c2dd1(0x76)]?.[_0x3c2dd1(0x467)]==='true','URI':process['env'][_0x3c2dd1(0x20a)]||_0x3c2dd1(0x118),'PREFIX_KEY':process[_0x3c2dd1(0x76)][_0x3c2dd1(0x697)]||_0x3c2dd1(0x330)},'LOG':{'LEVEL':process['env']?.[_0x3c2dd1(0x615)][_0x3c2dd1(0x545)](','),'COLOR':process[_0x3c2dd1(0x76)]?.[_0x3c2dd1(0x4bd)]==='true'},'PROXY':process['env']?.[_0x3c2dd1(0x121)]===_0x3c2dd1(0x337),'AUTHENTICATION':{'TYPE':process[_0x3c2dd1(0x76)][_0x3c2dd1(0x66e)],'API_KEY':{'KEY':process[_0x3c2dd1(0x76)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x3c2dd1(0x687)](process[_0x3c2dd1(0x76)]?.[_0x3c2dd1(0x451)])?Number[_0x3c2dd1(0x5aa)](process[_0x3c2dd1(0x76)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x3c2dd1(0x76)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new Xt(),Tr=R(require(a0_0x13f4c8(0x5b2))),pe=R(require(a0_0x13f4c8(0x2cb))),Is=require(a0_0x13f4c8(0x22f)),Zt=R(require('dayjs')),es=(_0x10999e=>(_0x10999e[a0_0x13f4c8(0x136)]='\x1b[32m',_0x10999e['INFO']=a0_0x13f4c8(0x573),_0x10999e[a0_0x13f4c8(0x621)]=a0_0x13f4c8(0x671),_0x10999e[a0_0x13f4c8(0x88)]='\x1b[31m',_0x10999e[a0_0x13f4c8(0x42f)]='\x1b[36m',_0x10999e[a0_0x13f4c8(0x53a)]=a0_0x13f4c8(0x4bf),_0x10999e[a0_0x13f4c8(0x229)]=a0_0x13f4c8(0x69f),_0x10999e))(es||{}),Ls=(_0x3fa6c6=>(_0x3fa6c6[a0_0x13f4c8(0x136)]='\x1b[32m%s\x1b[0m',_0x3fa6c6['DARK']=a0_0x13f4c8(0xc3),_0x3fa6c6[a0_0x13f4c8(0x612)]=a0_0x13f4c8(0x137),_0x3fa6c6['WARN']=a0_0x13f4c8(0x4e4),_0x3fa6c6[a0_0x13f4c8(0x88)]=a0_0x13f4c8(0x2a5),_0x3fa6c6[a0_0x13f4c8(0x42f)]=a0_0x13f4c8(0x1d8),_0x3fa6c6['VERBOSE']=a0_0x13f4c8(0x375),_0x3fa6c6))(Ls||{}),js=(_0x50f0e2=>(_0x50f0e2['LOG']=a0_0x13f4c8(0x136),_0x50f0e2[a0_0x13f4c8(0x621)]=a0_0x13f4c8(0x621),_0x50f0e2[a0_0x13f4c8(0x612)]=a0_0x13f4c8(0x612),_0x50f0e2['DARK']=a0_0x13f4c8(0x229),_0x50f0e2[a0_0x13f4c8(0x88)]=a0_0x13f4c8(0x88),_0x50f0e2[a0_0x13f4c8(0x42f)]=a0_0x13f4c8(0x42f),_0x50f0e2['VERBOSE']=a0_0x13f4c8(0x53a),_0x50f0e2))(js||{}),Fs=(_0x52d121=>(_0x52d121[a0_0x13f4c8(0x136)]=a0_0x13f4c8(0x1ef),_0x52d121[a0_0x13f4c8(0x612)]=a0_0x13f4c8(0x462),_0x52d121[a0_0x13f4c8(0x621)]=a0_0x13f4c8(0x2ae),_0x52d121[a0_0x13f4c8(0x229)]=a0_0x13f4c8(0x31a),_0x52d121[a0_0x13f4c8(0x88)]='\x1b[41m',_0x52d121[a0_0x13f4c8(0x42f)]=a0_0x13f4c8(0x3a5),_0x52d121[a0_0x13f4c8(0x53a)]=a0_0x13f4c8(0xce),_0x52d121))(Fs||{}),v=class{constructor(_0x4eac6a=a0_0x13f4c8(0x56e)){const _0x103902=a0_0x13f4c8;this[_0x103902(0x2e8)]=_0x4eac6a,this[_0x103902(0x5af)]=b;}[a0_0x13f4c8(0x661)](_0x13fb74){const _0x257d12=a0_0x13f4c8;this[_0x257d12(0x2e8)]=_0x13fb74;}[a0_0x13f4c8(0x457)](_0x5bf033,_0x11cf3f){const _0x226fb4=a0_0x13f4c8;let _0x21094a=[];this[_0x226fb4(0x5af)][_0x226fb4(0x208)]('LOG')['LEVEL'][_0x226fb4(0x543)](_0x36a530=>_0x21094a['push'](js[_0x36a530]));let _0x563c08=typeof _0x5bf033;_0x21094a[_0x226fb4(0x542)](_0x11cf3f)&&(b[_0x226fb4(0x208)](_0x226fb4(0x136))[_0x226fb4(0x12b)]?(console[_0x226fb4(0x4e2)](_0x226fb4(0x3f3)+Ls[_0x11cf3f],_0x226fb4(0x2a6),(0x0,Zt['default'])()[_0x226fb4(0x426)](_0x226fb4(0x19c)),_0x226fb4(0x640),es[_0x11cf3f]+Fs[_0x11cf3f]+_0x226fb4(0x3f3),_0x11cf3f+'\x20\x1b[0m','\x1b[33m\x1b[1m',this[_0x226fb4(0x2e8)]+'\x1b[0m',es[_0x11cf3f],_0x563c08!==_0x226fb4(0x5ea)?_0x5bf033:'',_0x226fb4(0x640)),_0x563c08===_0x226fb4(0x5ea)&&console[_0x226fb4(0x4e2)](_0x5bf033,'\x0a')):console[_0x226fb4(0x4e2)]((0x0,Zt['default'])()[_0x226fb4(0x426)]('HH:mm:ss'),_0x11cf3f+'\x20',''+this[_0x226fb4(0x2e8)],_0x5bf033));}[a0_0x13f4c8(0x4e2)](_0x5a6651){const _0x1fdba1=a0_0x13f4c8;this[_0x1fdba1(0x457)](_0x5a6651,_0x1fdba1(0x136));}[a0_0x13f4c8(0x629)](_0x19f4b7){const _0x53a66c=a0_0x13f4c8;this[_0x53a66c(0x457)](_0x19f4b7,_0x53a66c(0x612));}['warn'](_0x308c95){const _0x54c0fe=a0_0x13f4c8;this[_0x54c0fe(0x457)](_0x308c95,_0x54c0fe(0x621));}[a0_0x13f4c8(0x3d5)](_0x10c645){const _0x4b8d6f=a0_0x13f4c8;this[_0x4b8d6f(0x457)](_0x10c645,_0x4b8d6f(0x88));}['verbose'](_0x4ebd25){const _0x1bb2ee=a0_0x13f4c8;this[_0x1bb2ee(0x457)](_0x4ebd25,_0x1bb2ee(0x53a));}[a0_0x13f4c8(0x27b)](_0x2b352a){const _0x4d482a=a0_0x13f4c8;this[_0x4d482a(0x457)](_0x2b352a,_0x4d482a(0x42f));}[a0_0x13f4c8(0x291)](_0x50e43c){const _0xd75fc7=a0_0x13f4c8;this[_0xd75fc7(0x457)](_0x50e43c,_0xd75fc7(0x229));}};function qs(){const _0x22f168=a0_0x13f4c8;process['on'](_0x22f168(0x525),(_0x13de3b,_0x3df26f)=>{const _0x3c4f70=_0x22f168;new v('uncaughtException')[_0x3c4f70(0x3d5)]({'origin':_0x3df26f,'stderr':process[_0x3c4f70(0x108)]['fd'],'error':_0x13de3b});}),process['on'](_0x22f168(0x22b),(_0x2729cc,_0x4b5b9e)=>{const _0x106c56=_0x22f168;new v(_0x106c56(0x22b))['error']({'origin':_0x4b5b9e,'stderr':process[_0x106c56(0x108)]['fd'],'error':_0x2729cc});});}var Us=R(require('eventemitter2')),ts=new Us['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),De=require(a0_0x13f4c8(0x65b)),ss=R(require('mongoose')),Fr=new v(a0_0x13f4c8(0x5ba)),V=b[a0_0x13f4c8(0x208)]('DATABASE'),N=V[a0_0x13f4c8(0x4d0)]?V['CONNECTION'][a0_0x13f4c8(0xad)]?ss['default']['createConnection'](V[a0_0x13f4c8(0x3f2)][a0_0x13f4c8(0xad)],{'dbName':V[a0_0x13f4c8(0x3f2)][a0_0x13f4c8(0x4ee)]+'-whatsapp-api'}):ss[a0_0x13f4c8(0x29d)][a0_0x13f4c8(0x4e8)](a0_0x13f4c8(0x360)+V[a0_0x13f4c8(0x3f2)][a0_0x13f4c8(0x255)]+':'+V[a0_0x13f4c8(0x3f2)][a0_0x13f4c8(0x43b)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':V[a0_0x13f4c8(0x3f2)][a0_0x13f4c8(0x2a1)],'pass':V['CONNECTION']['PASSWORD'],'dbName':V[a0_0x13f4c8(0x3f2)][a0_0x13f4c8(0x4ee)]+a0_0x13f4c8(0x3b0)}):null;V[a0_0x13f4c8(0x4d0)]&&Fr[a0_0x13f4c8(0x629)]('ON\x20-\x20dbName:\x20'+N['$dbName']);var qr=new De[(a0_0x13f4c8(0x1fe))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Ur=new De['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Jr=new De[(a0_0x13f4c8(0x1fe))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ur,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Js=_0xdaad16=>{const _0x4927a5=a0_0x13f4c8;let _0x55025a='z_'+_0xdaad16+_0x4927a5(0x92);return N?.[_0x4927a5(0x5ec)](_0x4927a5(0x4fb),Jr,_0x55025a);},Vs=require(a0_0x13f4c8(0x65b)),Vr=new Vs[(a0_0x13f4c8(0x1fe))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Bs=_0x24ed97=>{const _0x1706bb=a0_0x13f4c8;let _0x59c88c='z_'+_0x24ed97+_0x1706bb(0x198);return N?.[_0x1706bb(0x5ec)](_0x1706bb(0x2a3),Vr,_0x59c88c);},Gs=require(a0_0x13f4c8(0x65b)),Br=new Gs[(a0_0x13f4c8(0x1fe))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Ws=_0x8bdd5c=>{const _0x4ea941=a0_0x13f4c8;let _0x1eedc5='z_'+_0x8bdd5c+_0x4ea941(0x9d);return N?.['model'](_0x4ea941(0xe8),Br,_0x1eedc5);},zs=require(a0_0x13f4c8(0x65b)),as=class{},Gr=new zs[(a0_0x13f4c8(0x1fe))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),Hs=N?.[a0_0x13f4c8(0x5ec)](as[a0_0x13f4c8(0x5e2)],Gr,a0_0x13f4c8(0x195)),Ks=require(a0_0x13f4c8(0x65b)),rs=class{},Qs=new Ks['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});function a0_0x3cef(){const _0x1650c0=['STORE','hex','object','initAuthCreds','model','convertToWebP','updateMediaMessage','toUpperCase','updateProfilePicturePrivacy','.error','charAt','.jwt','optionName','del','expression','):\x20Criando\x20fluxo...','CREDENTIALS','groupUpdateSubject','vcard','createServer','):\x20expirationTime:\x20','syscall','pino','qrcode-terminal','originalUrl','success','routerPath','toString','getLabelModelForOwner','fetchChats','\x22\x20-\x20REMOVED','upperCase','mentions','public','blockLogs','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','/chat','subjectOwner','importChatsBatch','processPollUpdateMessage','FULLCHAIN','Valor\x20de\x20find\x20ou\x20replace\x20ausente','INFO','ProxyAgent','/webhook','LOG_LEVEL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','TEXT','The\x20','markMessageAsRead','https://api.elevenlabs.io/v1/text-to-speech/','Types','Error\x20updating\x20message\x20status:','store','status.instance','findById','jpegThumbnail','WARN','website','addReplyOption','values','padEnd','}}\x20->\x20\x22','picture','SERVER_URL','info','from','lean','Output\x20path:\x20','round','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','close','groupadd','\x20segundos','):\x20Editando\x20condição\x20do\x20fluxo...','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','CHATS_SET','):\x20nextBlock.uazapi.name','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','waitingMenu_id','editFlowBlock','getFlowModelForOwner','PRESENCE_UPDATE','saveChatVariables','refused','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','stanzaId','\x1b[0m','and','ms\x20(Attempt\x20','convertedOptions','https://uazapi-plugin.bubbleapps.io/','setNewValue','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','DATABASE','Error\x20updating\x20participants','FlowController','deleteMessage','request\x20received\x20in\x20deleteDoneMessages','flushHeaders','endSession','Connection\x20closed\x20for\x20instance:\x20','request\x20received\x20in\x20getAutomateSystem','delAll','updateGParticipant','now','fetchInstances','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','_error','createProxyConfig','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','indexOf','https','SSL_CONF','mongoose','repository','updateMissingEtiquetas','\x22reaction\x22\x20must\x20be\x20an\x20emoji','stopped','Hash\x20to\x20image\x20name:\x20','setContext','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20this.processingScheduleMessageId:\x20','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','importChats','working','STATUS_INSTANCE','CORS','):\x20Error\x20processing\x20conditions:\x20','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','viewOnceMessage','groups.upsert','.txt','AUTHENTICATION_TYPE','desativadoFluxoAte','sem\x20texto\x20na\x20mensagem','\x1b[33m','editFlowVariable','updateGroupPicture','DELETED','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','):\x20teve\x20mudanças\x20chat.name:\x20','capitalizedWords','#64c4ff','createSectionsFromValues','Atualização:\x20','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','):\x20Entrou\x20na\x20função\x20stop','string','fetchBusinessProfile','request\x20received\x20in\x20fetchConversation','none','pollCreationMessageV3','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','count','deleteflow','isInteger','writeData','5aNJRPy','Archiving\x20chat','@s.whatsapp.net','errno','menuType','delaySecMin','content','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','http','Início','flow','label','minutesToClose','base64','REDIS_PREFIX_KEY','LabelModel','text','fetchStatus','remove','storePath','):\x20leadInfoVariables','../env.yml','\x1b[30m','send','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','remote\x20\x22origin\x22','):\x20Comando\x20desconhecido:\x20','importChatsAntigo','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','\x5c$&','AutomateSystem','STORE_CONTACTS','request','connectionClosed','Business\x20profile\x20fetched','add','removeChatLabel','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','longitude','contact','ReplyOption\x20com\x20ID\x20','linkPreview','groupJid','Número:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','block','EXPIRIN_IN','messages.set','API\x20Key\x20from\x20Request:','processgoToFlow','The\x20property\x20cannot\x20be\x20empty','DaysToDelete','collections','findWebhook','388336glKZGi','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','moreLogs','Type\x20defined\x20as\x20audio','Desconectado,\x20parando\x20execução.','messages.update','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','):\x20tem\x20blocks','#56ccb4','Formato\x20inválido\x20de\x20proxy','endsWith','CORS_METHODS','email','connectToWhatsappController',',\x20pairCode:\x20','blockId','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','No\x20join\x20group\x20invite\x20code\x20or\x20url','SERVER_TYPE','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a',',\x20Expiration\x20Time:\x20','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','Not\x20Found','env','conditions','stopMinutesMaxActives','prepareMediaMessage','utf-8',',\x20Minutes\x20to\x20Close:\x20','flowname:\x20','Esse\x20fluxo\x20expirou','groups.update','getProfileName','getStatus','reorderReplyOptions','restart','errorLog','fromObject','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','replaceValue','.xls','ERROR','atendimentoAberto','):\x20newFirstValue\x20após\x20replaceVariables:','50mb','color','pt-BR','prototype','nome','activatedCount','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','_Chats','local_map','Error\x20fetching\x20group','validate','):\x20atualização\x20chat:\x20','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','DELIVERY_ACK','Cannot\x20','\x20quoted:\x20','*Pergunta*:\x20\x0a','_Messages','requested\x20testProxy','poll','updateReplyOption','):\x20Enviando\x20contato','joinGroup','length','sendMenu','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','pre','greater','):\x20Procurando\x20mensagens\x20para\x20envio','groups_ignore','Fetching\x20business\x20profile','lastSendMessage','URI','etiquetas','params','updateProfileName','truncatedtoEnd','splice','video-cover.png','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','No\x20invite\x20code','cleanStore','getAutomateSystem','maxActives','findOneAndUpdate','mentioned','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','):\x20Query\x20params:','BufferJSON','last','archiveChat','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','owner','createflow','\x1b[30m%s\x1b[0m','?timestamp=','findLabels','substring','variablesToObject','uazapiSendContact','body','ChatRouter','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','Rótulo\x20atualizado:','delaySecMax','\x1b[47m','key','Error\x20fetching\x20and\x20updating\x20profile:\x20','jwt','\x20instance\x20does\x20not\x20exist','ERROR:\x20','\x5cd+','getScheduleMessage','249038iyEeJG','):\x20Current\x20Time:\x20','updateStopChat','getFlow','reference','File\x20written\x20to\x20path:\x20','scheduled','quotedMessage','verifiedName','flattenObject','protocol','#01d0e2','apikey','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','createJid','Unknown\x20message\x20type\x20or\x20empty\x20message','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','Fluxos\x20não\x20estão\x20ativados','MessageModel','\x0aFN:','out','groupDesc','array','optionDescription','Selecione','archived','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','exists','messageSecret','message_normalized','deleteDoneMessages','application/json','js-yaml','documentMessage','defineProperty','toBRL','stopMinutes','delayChatLabel','chats.update','reconnectTimestamps','audio','FlowModel','.webp','last_update','Erro\x20ao\x20copiar\x20dados:','state','updateOneById','groupSetting','cache','deleteFlow','stderr','listen','#000000','updateConversation','isConnected','Instance\x20Key\x20from\x20DB:','filter','ephemeralMessage','deleteOne','getChatModelForOwner','Erro\x20ao\x20aplicar\x20varedit:\x20','cpf','API_KEY','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','removeProfilePicture','Conexão\x20estabelecida','redis://127.0.0.1:6379','contextInfo','everyOne','copyDataToNewModel','createGroup','quoted','waUploadToServer','RemoveChatLabel','request\x20received\x20in\x20editFlow','PROXY','menuIgnoreNonVotes','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','toDataURL','findGroup','MESSAGES_SET','Erro:','connectionUpdate','execSync','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','COLOR','authService','stopIfLastReturnedError','!cmd_','HeaderType','locked','):\x20Flow\x20não\x20encontrado','inviteCode','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','app-state-sync-key','URL\x20limpa:\x20','LOG','\x1b[34m%s\x1b[0m','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','getMIMEType','badSession','shift','open','integer','ObjectId','waitingMenu_ExpiredMessage','groupId','sendSticker','groupName','scheduleNextCheck','mkdirSync','waitingMenu_replyOptions','call','client','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','\x20do\x20chat\x20','realVariables','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','findAndReplaceRegex','loggedOut','ini','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','groupRevokeInvite','groups','updateGParticipate','):\x20Alterando\x20fluxo...','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','\x20-\x20ON:\x20','updateFlowConfig','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','editScheduleMessage','licenca','Audio\x20converted\x20to\x20mp4','chatModify','/group','protocolMessage','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','getDevice','Module\x20-\x20ON','envYaml','fetchMessages','groupMetadata','options','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','archive','valid','Error\x20updating\x20profile\x20name','#ffae04','apiResponse','InstancesAlterarTodas','flowPrefixCommand','):\x20Criou\x20conversa\x20no\x20startFlow:','whatsappNumber','contains','segundos','sendPoll','pollCreationMessageV2','updateMany','hostname','audio/aac','statusJidList','pollOnReplyDelete','Certbot:\x20','CHATS_UPSERT','MESSAGES_UPDATE','toLocaleString','findFlow','NextBlock','Error\x20updating\x20setting','Operador:\x20\x22','getClient','https://jsonip.com','SUCCESS','findConversation','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','authModel','):\x20Conversa\x20inserida\x20com\x20sucesso.','getHours','toggleEphemeral','DOCKER_ENV','DATABASE_ENABLED','size','):\x20conversation.waitingMenu_name','deleteMany','message','Erro\x20ao\x20remover\x20label\x20','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','editflowcondition','authentication','94rAnCNv','\x20com\x20sucesso.','_Contacts','$addToSet','logger','fromMe','DD/MM\x20HH:mm:ss','\x20minutos\x20verificará\x20novas\x20mensagens','padStart','\x20ao\x20chat\x20','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','query','lastMessage','GROUPS_UPSERT','contactHandle','class-validator','Read\x20messages','Comando\x20desconhecido','getMinutes','function','AddChatLabel','\x20-y','footerText','upsertedCount','getBusinessProfile','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','MESSAGES_UPSERT','subject','CHATS_DELETE','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','joinGroupValidate','mediatype','audioMessage','view\x20engine','$set','getTime','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','use','.gif','noConnection',',\x20saindo.','messages','DATABASE_CONNECTION_HOST','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','\x20não\x20encontrado','The\x20global\x20api\x20key\x20must\x20be\x20set','customFields','QRCODE_UPDATED','pollCreationMessage','CONTACTS_UPDATE','toLowerCase','uazapiSendMedia','mongodb','changeVariables','\x20after\x20','node-cache','_p_','):\x20Ignoring\x20group\x20messages.','composing','exit','url','Getting\x20profile\x20info','.png','including\x20timestamp\x20in\x20url:\x20','closeExistingConversations','Unauthorized','\x1b[36m%s\x1b[0m','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','/instance','getContactModelForOwner','listResponseMessage','SERVER_ACK','writeFile','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','profilePictureUrl','goToFlow','8080','OrAnd','Instância\x20não\x20encontrada.','./.git/config','--agree-tos','Erro\x20ao\x20configurar\x20proxy:\x20','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','fetchLabels','messageContextInfo','waMonitor','removeInstance','replyOptions','}}\x20->\x20valor\x20não\x20encontrado','\x1b[42m','urlOrBase64','_id','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','getBase64FromMediaMessage','READ','\x0a*Você\x20respondeu*:\x0a','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','leaveGroup','request\x20received\x20in\x20editConversation','viewOnceMessageV2Extension','expiration','#fe9dfe','preview','utf8','Schema','modifiedCount','/wa-message','\x20is\x20already\x20in\x20use.','createFlow','stdout','URL','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','auth','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','get','insert','REDIS_URI','\x20minutos','waitingForReplyMenu','Erro\x20ao\x20adicionar\x20label\x20','\x20minutos...','webhook','remove.instance','$pull','#dfaef0','responsavelid','processingScheduleMessageId','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','authorization','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','loadWebhook','flowStopMinutes','latitude','connectionState','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','getConversation','SERVER_PORT','):\x20Entrou\x20na\x20função\x20goToFlow','!stop','trimmed','convert','Falta\x20informação\x20para\x20a\x20chamada\x20API','sendCommand','Deleted\x20','editConversation','node-mime-types','editflowvariable','DARK','requestFile','unhandledRejection','.sendDataWebhook-local','updatePresence','content-type','path','selectedOptions','connection.update','generateWAMessageFromContent','MAX_RECONNECT_ATTEMPTS','createInstance','scheduleSendMedia','dbClient','Error\x20status:','available','instances','Error\x20while\x20deleting\x20message\x20for\x20everyone','replaceOne','Instance\x20ID:','.sendDataWebhook-global','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','unreadcount','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','has','findGroupInfo','agents','hSet','URL:','header','groupCreate','conversationTimestamp','pollCreationMessageKey','certonly','restartInstance','Rótulo\x20deletado:','hDel','timerId','textMessage','errors','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','addBlock','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','status','HOST','truncatedto','cwd','\x20horas\x20e\x20','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','SECRET','newStoppedUntil','lastSend','replacer','unknown\x20operation\x20type\x20[','arraybuffer','msgRetryCounterCache','getMessage','privacySettings','namespace','events','copyBlock','Erro\x20ao\x20atualizar\x20AutomateSystem:','mediaMessage','creation','):\x20customFieldVariables','not_announcement','):\x20Falha\x20ao\x20deletar\x20mensagem.','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','item','send.message','AutomateSystem\x20não\x20foi\x20inicializado','resetReconnectionVariables','env.yml','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','delay','pushName','isBusiness','PLAYED','stateConnection','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','http://checkip.dyndns.org','debug','waitingMenu_text','Last\x20message\x20not\x20found\x20for\x20number:','editedMessage','role','pollMessage','Temp\x20audio\x20created','updateAll','\x20adicionado\x20ao\x20chat\x20','phoneNumber','REDIS','sleep','WebhookGlobal','leadInfo','updateMissingCustomFields','deleteAll','FlowRouter','):\x20Erro\x20ao\x20criar\x20fluxo\x20','sign','connect','value','remoteJidsRemaining','dark','ignoreGroups','SERVER_OFFLINE','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','\x0a{\x20instance:\x20','existsSync','sections','instanceCount','processConditions','Erro\x20ao\x20importar\x20chats:','newValue','sendMessageWithTyping','default','sort','messages.upsert','SendScheduleMessage','USER','testProxy\x20error:\x20','ContactModel','labels.edit','\x1b[31m%s\x1b[0m','\x1b[1m\x1b[37m','replaceVariablesChat','limit','profile','findMessages','listMessage','):\x20debug\x20alterando\x20this.AutomateSystem','reconnectAttempts','\x1b[43m','scheduleSendAudio','spawn','The\x20\x22','):\x20Flow\x20desativado','findByIdAndUpdate','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','isListOfNumbers','Error\x20in\x20markMessageAsRead:','getScheduleMessageModelForOwner','urlencoded','):\x20Editando\x20grupo\x20do\x20fluxo...','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','processblock','stopConversation','deleted','.wav','removed','fileUrl','toNumber','flowActive','nomecompleto','createConversationforStartFlow','evaluateConditionTest','document','secondValue','promote','mimetype','readMessageBot','express','random','groupInviteCode','warn','scheduleSendText','apirequest','lastmsg','Chrome','saveMediaToFile','AppStateSyncKeyData','fetchPrivacySettings','):\x20Deletando\x20conversa...','findIndex','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','Converting\x20audio\x20to\x20mp4','sending','media','createClient','updateProfilePicture','notEmpty','Error\x20in\x20chatModify\x20for\x20number\x20','DATABASE_CONNECTION_USER','):\x20Editando\x20variável\x20do\x20fluxo...','GROUP_PARTICIPANTS_UPDATE','normalizeMessage','Including\x20timestamp\x20in\x20url:\x20','https://','9878610eMKwpS','\x20foi\x20interrompido\x20pelo\x20usuário.','context','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','action','Converting\x20image\x20to\x20WebP\x20to\x20sticker','keys',',\x20resultado:\x20','.ogg','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','eventHandler','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',',\x20Segundo\x20Valor:\x20','.mp4','tags','instance.','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','dataValidate','Erro\x20ao\x20iniciar\x20fluxo:\x20','/wa-groups','editflowgroup','creds.json','unlinkSync','editflowvaredit','notEqual','hGet','Erro\x20ao\x20editar\x20a\x20conversa:\x20','findOrCreate','contactMessage','status@broadcast','Nenhum\x20chat\x20encontrado\x20para\x20editar.','#9ba6ff','):\x20Enviando\x20áudio','@broadcast','height','unavailable','recording','Deletion\x20failed','output','pollMessageOnDelete',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','Error\x20in\x20scheduleNextCheck:\x20','emit','TEL','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','findOne','ephemeralExpiration','fileName','currency','Failed\x20to\x20get\x20IP\x20from\x20','dbServer','\x1b[40m','):\x20lastBlockId:\x20','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','repeat','No\x20participants','type','throwAndLogError','__esModule','SERVER','reactionMessage','automateSystem','):\x20Going\x20to\x20','sendText','buttonMessage','instanceKeys','Connection','#d8e651','fetchProfilePicture','Instance\x20deleted','messageHandle','contentText','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','uazapi','sendReaction','isRunning','setRestartTimer','/clients-info','Erro\x20ao\x20remover\x20instâncias\x20antigas:','Missing\x20global\x20api\x20key','true','CONTACTS_SET','assign','stoppedUntil','command','stringify','):\x20Bloco\x20original\x20para\x20cópia:\x20','notas','readreceipts','image','@g.us','start','groupToggleEphemeral','drop','.ogv','Message','):\x20conversation.lastInteraction:\x20','#ffc5c7','):\x20Error\x20processing\x20the\x20block:\x20','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','binary','findAndReplace','STORE_MESSAGE','\x22\x20cannot\x20be\x20empty','\x20}\x0a','Conversa\x20deletada\x20com\x20sucesso.','Error\x20updating\x20privacy\x20settings','organization','groupAcceptInvite','interval\x20não\x20é\x20um\x20número','RECONNECT_TIME_FRAME','replaceVariablesInObject','fetchContacts','replyOption','Instância:\x20','env.KEY\x20!==\x20key','map','entries','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','SSL_CONF_PRIVKEY','updateMissingTags','mongodb://','Erro\x20de\x20reinicialização:\x20','*\x0a\x0a','end','chats','SEND_MESSAGE','Variáveis\x20não\x20encontradas:','PRIVKEY','):\x20Editando\x20edição\x20do\x20fluxo...','lastCondition','imagechat','writeFileSync','choices','convertaudio','port','match_last_seen','Log\x20out\x20instance:\x20','Error\x20writing\x20file:\x20','Erro\x20ao\x20inserir\x20chats:','#9568cf','app','\x1b[37m%s\x1b[0m','/instance/connectionState','connectionStatus','Hash\x20to\x20audio\x20name:\x20','pairingCode','groupParticipantsUpdate','Image\x20created','next_groupId','test','evaluateCondition','editChat','blocks','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','fileLength','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','groupFetchAllParticipating','enumerable','buttonText','fetchConversation','):\x20Buscando\x20flow...','enabled','Contacts\x20not\x20found','InstancesAsDisconnectedX','chats.set','editflow','Flow\x20não\x20encontrado','downloads','online','getVariablesChat','/wa-connection-update','slice','Error\x20creating\x20group','Image\x20is\x20base64','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','leadInfo.customFields','onTime','processvaredits','connectedName','):\x20Buscando\x20todos\x20os\x20fluxos...','find','desc',',\x20valor\x20a\x20encontrar:\x20\x22','sendContact','response','checkAndUpdateChatStatus','matchRegex','express-async-errors','\x1b[46m','):\x20Enviando\x20texto','instanceName','uazapiSendLocation','/exit','.doc','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','text/event-stream','lastInteraction','no.connection','-whatsapp-api','isURL','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','remoteJids','presence.update','updateCustomFields','verify','\x22,\x20valor\x20a\x20substituir:\x20\x22','defineAuthState','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Font\x20is\x20required','AUTHENTICATION','findParticipants','replaceVariablesLogs','creds','announcement','.webm','KEY','updateMissingLabels','@whiskeysockets/baileys','hasOwnProperty','):\x20Erro\x20durante\x20a\x20atualização:\x20','deletedCount','deleteMessageForEveryone','/config','Valor\x20inicial:\x20\x22','checkAndRestartProcess','address','):\x20alterando\x20this.AutomateSystem','write','where','getAllData','_activatedCount','#92ceac','localWebhook','reorderBlocks','code','error','proto','updateChatWithMessage','views','StatusJidList\x20is\x20required','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','certbot','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','Instance\x20\x22','Output\x20audio\x20path:\x20','jid','readMessage','/create','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','readFileSync','findGroups','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','editflowblock','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','cleaningUp','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','Primeiro\x20Valor:\x20','condition','sendMedia','setWebhook','GROUPS_UPDATE','https://api.openai.com/v1/audio/speech','replace','editFlowVaredit','CONNECTION','\x1b[1m','onWhatsApp','):\x20Fluxos\x20não\x20estão\x20ativados','#ff9484','birthtime','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','request\x20received\x20in\x20editFlowgroup','request\x20received\x20in\x20scheduleMessage','84Swugof','Resultado\x20da\x20atualização:','deleteConversation','varedit','eventEmitter','release','scheduleMessages','variable','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','^\x5cd+[\x5c.@\x5cw-]+','updateOne','sendWhatsAppAudio','closed','dbSettings','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','editFlowCondition','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','join','title','):\x20','CONTACTS_UPSERT','BRL','redis','isJidUser','documentWithCaptionMessage','57GWRhUs','variables','#f64847','arrayUnique','exports','create','verbose','createWebhook','chats.delete','number','addChatLabel','Chrome\x20(Linux)','editflowreply','uazapiSendText','qrcode.updated','deleteInstance','setting','ListType','format','mediaSticker','Last\x20message\x20not\x20found','user','Type\x20not\x20found','silent','Error\x20updating\x20profile\x20status','password','uazapiSendMenu','DEBUG','CHATS_UPDATE','/instance/fetchInstances','notMatchRegex','sendLocation','menuExpiredMessage','Error\x20removing\x20profile\x20picture','getConversationModelForOwner','bateu\x20events','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','json','updateLastSeenPrivacy','PORT','Content\x20is\x20required','createConversationforgoToFlow','editFlowReply','https://chat.whatsapp.com/','Nenhum\x20proxy\x20funcional\x20encontrado\x20após\x203\x20tentativas.\x20Prosseguindo\x20sem\x20proxy.','request\x20body:\x20','toFile','StartBot','Instance\x20logged\x20out','mediaKey','saveVariable','created','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','generateHash','Converted\x20image\x20deleted','lastBlockId','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','CORS_ORIGIN','.xlsx','sectionsToString','TYPE','AUTHENTICATION_JWT_EXPIRIN_IN','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','static','-instances','/media/','console','pollErrorMessage','/wa-chats','/instance/create','method','menuMessage','deleteBlock','uazapiSendAudio','qrcode','Erro\x20ao\x20atualizar\x20o\x20fluxo:','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','\x1b[44m','Audio\x20is\x20url','varedits','stopWhenYouSendMsg','collection','REDIS_ENABLED','Read\x20messages\x20fail','statusMessage','wuid','):\x20teve\x20mudanças\x20chat.archived:\x20','instanceInfo','paused','logout','startFlow','Group\x20not\x20found','.\x20Pulando.','request\x20received\x20in\x20deleteFlow','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','no-cache','lastDisconnect','Label\x20','notify','updateMessage','stack','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','DisconnectReason','metadata','decryptPollVote','shutdown\x20-r\x20now','application/octet-stream','keep-alive','lastReceivedMessage','tryProxy','host','redisEnv','labelId','readData','delayChatLabel_RETRY_DELAY_MS','):\x20Edit\x20schedule\x20message...','rowId','request\x20received\x20in\x20deleteConversation','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','getflow','Telefone:\x20','put','groupHandler','isJidGroup','label_jid','/automate','):\x20Conversas\x20encontradas:','headerString','sendList','router','Converted\x20audio\x20deleted','readMessages','chatLog','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','ConversationModel','jsonwebtoken','fone','conversation','proxy-agent','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','processConditionsTest','variablesNotFound','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20',',\x20valor\x20passado:\x20\x22','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','error_log','fetchProfile','replaceVariablesInReplyOptions','unreadCount','Erro\x20inesperado\x20em\x20processvaredits:\x20','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','Erro\x20ao\x20deletar\x20mensagens:','webhookMap','Erro\x20ao\x20editar\x20o\x20bloco:\x20','push','ScheduleMessageModel','trim','toBrazilianNumberFormat','audioWhatsapp','):\x20Mensagem\x20já\x20enviada\x20para\x20','PENDING','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','contactname','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','exec','group','LOG_COLOR','description','\x1b[37m','WA\x20MODULE','Processing\x20audio','startsWith','143885kmAtzR','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','chat','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','sendButtons','lowerCase','prefixCommand','insertCount','formatBRNumber','1631214jXExta','backgroundColor','floor','augusto.fcs@gmail.com','ENABLED','reviver','some','Enter\x20a\x20value\x20in\x20milliseconds','editFlowGroup','Image\x20path:\x20','set','bearer','Chat\x20com\x20ID\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','.pptx','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','group-participants.update','oldToken','findChats','updateAgent','DATABASE_CONNECTION_URI','dbInstance','log','request\x20received\x20in\x20starFlow','\x1b[33m%s\x1b[0m','ListMessage','flowConfig','uuid','createConnection','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','getDelay','findAll','DB_PREFIX_NAME','toArray','reaction','delayMessage','data','):\x20Limpando\x20AutomateSystem','list','caption','--standalone','://','buffer','data:\x20','editFlow','ChatModel','jsonip.com','Bloco\x20com\x20ID\x20','width','/media','\x20minutos.\x20Será\x20às\x20','statusCode','nextBlock:','Erro\x20ao\x20atualizar\x20o\x20flow.','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','webhookService','Temp\x20audio\x20deleted','boolean','statSync','formatVCard','Flow\x20iniciado\x20com\x20','firstValue','sendDataWebhook','sendPresenceUpdate','Authentication\x20error','messageTimestamp','post','\x20não\x20encontrado\x20para\x20atualização.','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','SSL_CONF_FULLCHAIN','makeCacheableSignalKeyStore','authState','displayName','allFlows','bulkWrite','):\x20delete\x20=\x20true','AutomateFunctions',',\x20lastCondition:\x20','option','not\x20loaded','whatsappNumbers','\x22\x20not\x20found','redirect','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','goNextblock','):\x20Enviando\x20mídia','request\x20received\x20in\x20getFlow','uncaughtException','updatePrivacySettings','buttonId','allContacts','Getting\x20audio\x20from\x20url','remoteJid','headers','chatId','done','sendMessage','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','deleteChat','Temp\x20audio\x20path:\x20','CONNECTION_UPDATE','subdomain','profilePicture','loadInstance','Não\x20respondeu\x20com\x20a\x20enquete.','userDevicesCache','@ffmpeg-installer/ffmpeg','chats.upsert','VERBOSE','getRandomText','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','setHeader','loadEnv','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','unlocked','includes','forEach','isBase64','split','save','contact_blacklist','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','webhookModel','.uazapi.dev','flowIgnoreGroups','/instance/connect','#00a1f2','chatHandle','ipify.org','):\x20Editando\x20bloco...','g-t','CLEANING_INTERVAL','insertMany','max','Error\x20change\x20group\x20description','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','saveConversationToDatabase','formatStatusMessage','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','participants','contacts','video','waInstances','\x20attempts.','processApiRequest','g.us','/instance/delete','rows','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','updateStatusPrivacy','isJWT','removeOlderDisconnectedInstances','temp-','audio/mp4','contacts.upsert','EMAIL:','axios','inner','Logger','encoding','presence','instance','updateBlock','\x1b[34m','):\x20Conversa\x20está\x20expirada\x20-\x20voto','Erro\x20ao\x20buscar\x20conversa:\x20','config','flowConversation','Erro\x20do\x20Certbot:\x20','update','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','STORE_CHATS','labels.association','Profile\x20not\x20found','sendStatus','/wa-contacts','getMessageModelForOwner',',\x20fará\x20nova\x20verificação\x20em\x20','bodyString','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','hGetAll','useMultiFileAuthState','Invalid\x20format','connectToWhatsapp','readFile','getTicketSystem','generate','buttons','ButtonsMessage','fullName','selectableCount','src','revokeInviteCode','messageId','detail','Image\x20converted\x20to\x20WebP','Error\x20change\x20group\x20name','sticker','request\x20received\x20in\x20getConversation','#fed428','scheduleMessage','viewOnceMessageV2','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','/wa-qrcode','presenceSubscribe','when','createNewConversation','.ppt','all','imported','announce','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','readdirSync','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','contacts.update','qrCode','_FlowHistorico','DATABASE_CONNECTION_DB_PREFIX_NAME','parseInt','Data\x20inválida\x20fornecida','delayChatLabel_MAX_RETRIES','):\x20Não\x20achou\x20nenhum\x20flow','locationMessage','configService','deleteReplyOption','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','cors','):\x20Usando\x20extensão\x20padrão:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','groupUpdateDescription','messaging-history.set','pollUpdateMessage','Database\x20is\x20not\x20enabled','envProcess','Db\x20Connection','):\x20Erro\x20ao\x20buscar\x20conversas\x20','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','/events/:instance','stickerMessage','username','https://api.ipify.org?format=json','The\x20instance\x20needs\x20to\x20be\x20disconnected','Revoke\x20error','delete','replaceVariables','Variável\x20não\x20encontrada!','Forbidden','match','STORE_CLEANING_TERMINAL','saveTextReply','vote','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','isLong','groupValidate','audio/ogg','PREFIX_KEY','2838604kOeKbc','group\x20ignored','downloadMediaMessage','participant','order','editOperator','\x20removido\x20do\x20chat\x20','child_process','parse','Router','font','):\x20Buscando\x20conversa...','createAndSave','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','updateProfileStatus','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','.mp3','\x20não\x20encontrado\x20para\x20cópia','name','isArray','request\x20received\x20in\x20allFlows','.X-ABLabel:Celular\x0a','leadInfo.','Sending\x20audio\x20whatsapp'];a0_0x3cef=function(){return _0x1650c0;};return a0_0x3cef();}Qs['pre'](a0_0x13f4c8(0x546),function(_0x33a77e){const _0x5d983d=a0_0x13f4c8;delete this[_0x5d983d(0x2c2)],delete this[_0x5d983d(0x54c)],delete this[_0x5d983d(0x16e)],delete this['flowStopConversation'],delete this[_0x5d983d(0x219)],_0x33a77e();});var Ys=N?.[a0_0x13f4c8(0x5ec)](rs['name'],Qs,a0_0x13f4c8(0x20f)),_=require('mongoose'),_e=class{},Xs=new _[(a0_0x13f4c8(0x1fe))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),os=new _['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Wr=new _[(a0_0x13f4c8(0x1fe))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x13f4c8(0x4f4)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x13f4c8(0xee)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x13f4c8(0x7d)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Zs=new _[(a0_0x13f4c8(0x1fe))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),zr=new _[(a0_0x13f4c8(0x1fe))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),Hr=new _['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ea=new _['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Wr},'apirequest':zr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),us=new _['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ta=new _['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),is=class{},ds=new _['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x5a4636=a0_0x13f4c8;return _0x5a4636(0x12e)+Math[_0x5a4636(0x2cc)]()[_0x5a4636(0x603)](0x24)[_0x5a4636(0x394)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[us],'variablesNotFound':{'type':[String]},'blocks':[ea],'groups':[Xs],'conditions':[Zs],'varedits':[ta],'replyOptions':{'type':[os],'default':[]}});ds[a0_0x13f4c8(0xa7)](a0_0x13f4c8(0x546),function(_0x27c0b3){const _0x1ae855=a0_0x13f4c8;let _0x112e5f=new Set(),_0x1f9030=new Set(this[_0x1ae855(0x415)]?.[_0x1ae855(0x35b)](_0x11bf7a=>_0x11bf7a[_0x1ae855(0x5e2)])),_0x52b17b=JSON[_0x1ae855(0x33c)](this),_0x33ef74=/{{(?!_)([^}]*)}}/g,_0x50b7ef;for(;(_0x50b7ef=_0x33ef74['exec'](_0x52b17b))!==null;)_0x1f9030[_0x1ae855(0x241)](_0x50b7ef[0x1])||_0x112e5f[_0x1ae855(0x6ac)](_0x50b7ef[0x1]);_0x112e5f[_0x1ae855(0x18e)]>0x0?(console[_0x1ae855(0x2ce)](_0x1ae855(0x366),Array['from'](_0x112e5f)),this[_0x1ae855(0x4a3)]=Array[_0x1ae855(0x62a)](_0x112e5f)):this[_0x1ae855(0x4a3)]=[],_0x27c0b3();});var sa=_0x4ff814=>{const _0x8e4b5e=a0_0x13f4c8;let _0x1f528c='z_'+_0x4ff814+'_Flows';return N?.[_0x8e4b5e(0x5ec)](_0x8e4b5e(0xff),ds,_0x1f528c);},aa=N?.[a0_0x13f4c8(0x5ec)](is[a0_0x13f4c8(0x5e2)],ds,a0_0x13f4c8(0x693)),Kr=new _[(a0_0x13f4c8(0x1fe))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[us],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[Hr]},{'_id':!0x1}),ns=class{},ra=new _['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[us],'blocks':[ea],'groups':[Xs],'conditions':[Zs],'varedits':[ta],'replyOptions':{'type':[os],'default':[]},'chatLog':Kr,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x13f4c8(0x7d)},'waitingMenu_replyOptions':{'type':[os],'default':[]}}),oa=_0x5307f1=>{const _0x471a56=a0_0x13f4c8;let _0x49a2b6='z_'+_0x5307f1+_0x471a56(0x5a8);return N?.[_0x471a56(0x5ec)](_0x471a56(0x49c),ra,_0x49a2b6);},ia=N?.['model'](ns[a0_0x13f4c8(0x5e2)],ra,a0_0x13f4c8(0x577)),cs=class{},Qr=new _['Schema']({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),Yr=new _[(a0_0x13f4c8(0x1fe))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),na=new _[(a0_0x13f4c8(0x1fe))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x13f4c8(0xdc)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Yr,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Qr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ca=_0x5a64d8=>{const _0x186368=a0_0x13f4c8;let _0x372bd9='z_'+_0x5a64d8+'_ScheduleMessages';return N?.[_0x186368(0x5ec)](_0x186368(0x4b2),na,_0x372bd9);},la=N?.[a0_0x13f4c8(0x5ec)](cs['name'],na,a0_0x13f4c8(0x401)),ls=class{},Xr=new _[(a0_0x13f4c8(0x1fe))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Zr=new _[(a0_0x13f4c8(0x1fe))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x13f4c8(0x220)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),eo=new _[(a0_0x13f4c8(0x1fe))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),to=new _[(a0_0x13f4c8(0x1fe))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[eo]},'customFields':{'type':[Xr]},'flowConfig':{'type':Zr,'default':{}}}),Pe=N?.[a0_0x13f4c8(0x5ec)](ls[a0_0x13f4c8(0x5e2)],to,'AutomateSystem'),ua=require(a0_0x13f4c8(0x65b)),so=new ua['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),da=_0x2b9728=>{const _0x460692=a0_0x13f4c8;let _0x4bc229='z_'+_0x2b9728+'_Labels';return N?.['model'](_0x460692(0x698),so,_0x4bc229);},I=class{constructor(_0x5794e5){const _0x2aeaf0=a0_0x13f4c8;this[_0x2aeaf0(0x408)]=_0x5794e5[_0x2aeaf0(0x208)](_0x2aeaf0(0x647));}};function A(_0x8d470d){const _0x4cabb4=a0_0x13f4c8;let _0x4bc47c={};for(let [_0x32b855,_0x22459d]of Object[_0x4cabb4(0x35c)](_0x8d470d))if(typeof _0x22459d==_0x4cabb4(0x5ea)&&!Array[_0x4cabb4(0x5e3)](_0x22459d)){for(let [_0x2532b8,_0xc536c6]of Object[_0x4cabb4(0x35c)](_0x22459d))_0x4bc47c[_0x32b855+'.'+_0x2532b8]=_0xc536c6;}else _0x4bc47c[_0x32b855]=_0x22459d;return _0x4bc47c;}function a0_0x2b73(_0x378dd1,_0x5c7b85){const _0x3cefcc=a0_0x3cef();return a0_0x2b73=function(_0x2b7373,_0x94d8b1){_0x2b7373=_0x2b7373-0x68;let _0x315f16=_0x3cefcc[_0x2b7373];return _0x315f16;},a0_0x2b73(_0x378dd1,_0x5c7b85);}var $e=class{constructor(_0x178c22,_0x401988,_0x327d85,_0x1ab184,_0x3841c3,_0x4f3415,_0x1e32cb,_0x4ece21,_0x1dd058,_0x74edd,_0x363ac5){const _0x1466ae=a0_0x13f4c8;this[_0x1466ae(0x191)]=_0x178c22,this[_0x1466ae(0x4c5)]=_0x401988,this[_0x1466ae(0x6b0)]=_0x327d85,this[_0x1466ae(0x20f)]=_0x1ab184,this[_0x1466ae(0x206)]=_0x3841c3,this[_0x1466ae(0x693)]=_0x4f3415,this[_0x1466ae(0x577)]=_0x1e32cb,this[_0x1466ae(0x694)]=_0x4ece21,this['scheduleMessage']=_0x1dd058,this[_0x1466ae(0x324)]=_0x74edd,this[_0x1466ae(0x236)]=_0x363ac5;}get['dbServer'](){return this['dbClient'];}},ke=class{},Le=class extends I{[a0_0x13f4c8(0x580)](_0x335f71){return Ws(_0x335f71);}async[a0_0x13f4c8(0x209)](_0x429b2a,_0x2937ac){const _0x3d85aa=a0_0x13f4c8;if(_0x429b2a[_0x3d85aa(0xa3)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x3d85aa(0x580)](_0x2937ac)['insertMany']([..._0x429b2a]))['length']};}catch(_0x4103e4){return _0x4103e4;}}async[a0_0x13f4c8(0x39d)](_0x202580,_0x18962b){const _0x586053=a0_0x13f4c8;try{let _0x546901=this[_0x586053(0x580)](_0x18962b),_0x39c8a6=A(_0x202580[_0x586053(0x3ce)]);return await _0x546901[_0x586053(0x39d)](_0x39c8a6)['sort']({'messageTimestamp':-0x1})[_0x586053(0x2a8)](_0x202580?.[_0x586053(0x2a8)]??0x0)[_0x586053(0x62b)]();}catch{return[];}}async[a0_0x13f4c8(0x5c3)](_0x4be75d,_0x3e8a8c){const _0x1f57ff=a0_0x13f4c8;try{let _0xa057e2=this['getMessageModelForOwner'](_0x3e8a8c),_0x2b9df8=A(_0x4be75d[_0x1f57ff(0x3ce)]);await _0xa057e2[_0x1f57ff(0x190)](_0x2b9df8);}catch(_0x14e7c3){console[_0x1f57ff(0x3d5)](_0x14e7c3);}}async['update'](_0x90455c,_0x461669,_0x5707fb){const _0x4c208b=a0_0x13f4c8;try{let _0x4df8db=this['getMessageModelForOwner'](_0x5707fb),_0x43de73=A(_0x90455c['where']);return await _0x4df8db[_0x4c208b(0xb9)](_0x43de73,{'$set':_0x461669},{'new':!0x0});}catch(_0x4c0361){throw console[_0x4c208b(0x3d5)](_0x4c0361),_0x4c0361;}}async[a0_0x13f4c8(0x554)](_0x22d75e,_0x1730bd){const _0x2f0f3c=a0_0x13f4c8;if(_0x22d75e[_0x2f0f3c(0xa3)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2f0f3c(0x580)](_0x1730bd)[_0x2f0f3c(0x554)]([..._0x22d75e]))['length']};}catch(_0x1e6fb1){return console[_0x2f0f3c(0x4e2)](_0x2f0f3c(0xd3),_0x1e6fb1),_0x1e6fb1;}}async[a0_0x13f4c8(0x28a)](_0x24d10){const _0x3a0b26=a0_0x13f4c8;try{return await this['getMessageModelForOwner'](_0x24d10)['collection'][_0x3a0b26(0x344)](),{'success':!0x0};}catch(_0x1bed2c){return console[_0x3a0b26(0x3d5)](_0x1bed2c),{'success':!0x1,'error':_0x1bed2c};}}},mr=R(require(a0_0x13f4c8(0x538))),y=R(require('@whiskeysockets/baileys')),ve=require('fs'),F=R(require(a0_0x13f4c8(0x22f))),se=R(require(a0_0x13f4c8(0x56c))),fr=require(a0_0x13f4c8(0x4e7)),wr=R(require(a0_0x13f4c8(0x45f))),yr=R(require(a0_0x13f4c8(0x5ff))),pa=['imageMessage',a0_0x13f4c8(0xf7),'audioMessage','videoMessage',a0_0x13f4c8(0x5be)],ga=[a0_0x13f4c8(0x10f),'documentWithCaptionMessage',a0_0x13f4c8(0x66b),a0_0x13f4c8(0x599)],Es=require('os'),Ot=R(require(a0_0x13f4c8(0x5fe))),Dt=require('child_process'),It=require(a0_0x13f4c8(0x227)),ie=R(require(a0_0x13f4c8(0x65b))),k=require(a0_0x13f4c8(0x1a5)),me=class{constructor(_0x4ed5b5,_0x55cff4,_0x167ed9){const _0x999bef=a0_0x13f4c8;this[_0x999bef(0x3df)]=_0x4ed5b5,this['exists']=_0x55cff4,this[_0x999bef(0x5e2)]=_0x167ed9;}},je=class{},Fe=class{},be=class{},qe=class{},Ue=class{},fe=class{},Je=class{},Ve=class{},Be=class{},Ge=class{},Mt=R(require(a0_0x13f4c8(0x2cb))),ha=require('fs'),ma=require(a0_0x13f4c8(0x22f));async function We(_0x4a4298){const _0x4b20b0=a0_0x13f4c8;let _0x1e89eb=B['waInstances'][_0x4a4298];if(V[_0x4b20b0(0x4d0)]){let _0x108285=N['getClient']()['db'](V[_0x4b20b0(0x3f2)][_0x4b20b0(0x4ee)]+_0x4b20b0(0x455))[_0x4b20b0(0x466)](_0x4a4298);return _0x1e89eb||(await _0x108285[_0x4b20b0(0x39d)]({})[_0x4b20b0(0x4ef)]())[_0x4b20b0(0xa3)]>0x0;}return _0x1e89eb||(0x0,ha['existsSync'])((0x0,ma['join'])(he,_0x4a4298));}async function fa(_0x1c9cea,_0x3980fd,_0xef60cb){const _0x33c8ed=a0_0x13f4c8;if(_0x1c9cea[_0x33c8ed(0x600)][_0x33c8ed(0x542)](_0x33c8ed(0x45a))||_0x1c9cea[_0x33c8ed(0x600)][_0x33c8ed(0x542)](_0x33c8ed(0x431))||_0x1c9cea['originalUrl'][_0x33c8ed(0x542)](_0x33c8ed(0x3a9))||_0x1c9cea[_0x33c8ed(0x600)][_0x33c8ed(0x542)]('/config')||_0x1c9cea['originalUrl'][_0x33c8ed(0x542)](_0x33c8ed(0x54d))||_0x1c9cea[_0x33c8ed(0x600)][_0x33c8ed(0x542)](_0x33c8ed(0x376))||_0x1c9cea[_0x33c8ed(0x600)][_0x33c8ed(0x542)](_0x33c8ed(0x562)))return _0xef60cb();let _0x29bb43=_0x1c9cea[_0x33c8ed(0xaf)];if(!_0x29bb43?.[_0x33c8ed(0x3a7)])throw new m('instanceName\x20not\x20provided.');if(!await We(_0x29bb43[_0x33c8ed(0x3a7)]))throw new j(_0x33c8ed(0x618)+_0x29bb43['instanceName']+_0x33c8ed(0xd2));_0xef60cb();}async function wa(_0x5808ff,_0x1a7a62,_0x32f05b){const _0x460d86=a0_0x13f4c8;if(_0x5808ff[_0x460d86(0x600)]['includes'](_0x460d86(0x45a))){let _0x3c622e=_0x5808ff[_0x460d86(0xc9)];if(await We(_0x3c622e['instanceName']))throw new K('This\x20name\x20'+_0x3c622e[_0x460d86(0x3a7)]+_0x460d86(0x201));B['waInstances'][_0x3c622e[_0x460d86(0x3a7)]]&&delete B[_0x460d86(0x55e)][_0x3c622e[_0x460d86(0x3a7)]];}_0x32f05b();}var ya=require(a0_0x13f4c8(0x1a5)),ba=R(require('jsonwebtoken')),ze=a0_0x13f4c8(0x330),ro=new v('GUARD');async function oo(_0x1aefb1,_0x386b1a,_0x33b555){const _0x5f2624=a0_0x13f4c8;let _0x11b043=_0x1aefb1[_0x5f2624(0x208)]('apikey');if(_0x11b043&&b[_0x5f2624(0x208)](_0x5f2624(0x3bb))[_0x5f2624(0x114)][_0x5f2624(0x3c1)]!==_0x11b043)throw new ee();if(b[_0x5f2624(0x208)](_0x5f2624(0x3bb))['API_KEY'][_0x5f2624(0x3c1)]===_0x11b043)return _0x33b555();if((_0x1aefb1['originalUrl'][_0x5f2624(0x542)](_0x5f2624(0x45a))||_0x1aefb1[_0x5f2624(0x600)][_0x5f2624(0x542)]('/instance/fetchInstances'))&&!_0x11b043)throw new K(_0x5f2624(0x336),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x56c4c4=b[_0x5f2624(0x208)](_0x5f2624(0x3bb))['JWT'];try{let [_0x1c2a64,_0x4863b3]=_0x1aefb1[_0x5f2624(0x208)](_0x5f2624(0x216))[_0x5f2624(0x545)]('\x20');if(_0x1c2a64[_0x5f2624(0x1c8)]()!==_0x5f2624(0x4d7))throw new ee();if(!(0x0,ya[_0x5f2624(0x566)])(_0x4863b3))throw new ee();let _0x2b71df=_0x1aefb1[_0x5f2624(0xaf)],_0x5ccfa8=ba[_0x5f2624(0x29d)][_0x5f2624(0x3b6)](_0x4863b3,_0x56c4c4[_0x5f2624(0x25a)],{'ignoreExpiration':_0x56c4c4[_0x5f2624(0x6b7)]===0x0});if(_0x2b71df[_0x5f2624(0x3a7)]!==_0x5ccfa8[_0x5f2624(0x3a7)]||ze!==_0x5ccfa8['apiName'])throw new ee();return _0x33b555();}catch(_0x191e3c){throw ro[_0x5f2624(0x3d5)](_0x191e3c),new ee();}}async function io(_0x21fadf,_0x32b6de,_0x1040b1){const _0x44e0fd=a0_0x13f4c8;let _0x1cf533=b[_0x44e0fd(0x208)](_0x44e0fd(0x3bb))[_0x44e0fd(0x114)],_0xadd06b=_0x21fadf['get']('apikey');if(_0x1cf533['KEY']===_0xadd06b)return _0x1040b1();if(_0x21fadf[_0x44e0fd(0x600)]['includes'](_0x44e0fd(0x45a))){let _0x2d511d=He,_0x38302f=_0x21fadf[_0x44e0fd(0xc9)]['instanceName'];if(_0x2d511d&&_0x38302f['toLowerCase']()[_0x44e0fd(0x4c2)](_0x2d511d[_0x44e0fd(0x1c8)]()))return _0x1040b1();if(!_0xadd06b)throw new K('Missing\x20global\x20api\x20key',_0x44e0fd(0x1c3));}if(_0x21fadf[_0x44e0fd(0x600)]['includes']('/instance/fetchInstances')&&!_0xadd06b)throw new K('Missing\x20global\x20api\x20key',_0x44e0fd(0x1c3));if(_0x21fadf[_0x44e0fd(0x600)][_0x44e0fd(0x542)](_0x44e0fd(0x3a9))&&!_0xadd06b)throw new K(_0x44e0fd(0x336),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x21fadf[_0x44e0fd(0x600)][_0x44e0fd(0x542)](_0x44e0fd(0x3c8))&&!_0xadd06b)throw new K('Missing\x20global\x20api\x20key',_0x44e0fd(0x1c3));try{let _0x33b1c0=_0x21fadf['params'];if((await ce[_0x44e0fd(0x206)][_0x44e0fd(0x39d)](_0x33b1c0['instanceName']))[_0x44e0fd(0xe2)]===_0xadd06b)return _0x1040b1();}catch{}throw new ee();}var Sa={'jwt':oo,'apikey':io},er=require(a0_0x13f4c8(0x2cb)),C=require(a0_0x13f4c8(0x4e7)),S=(..._0x31820a)=>{const _0x5a3ec4=a0_0x13f4c8;let _0x541766={};return _0x31820a[_0x5a3ec4(0x543)](_0x13a88b=>_0x541766[_0x13a88b]={'minLength':0x1,'description':_0x5a3ec4(0x2b1)+_0x13a88b+_0x5a3ec4(0x34e)}),{'if':{'propertyNames':{'enum':[..._0x31820a]}},'then':{'properties':_0x541766}};},M={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'instanceName':{'type':'string'}},...S(a0_0x13f4c8(0x3a7))},Hn={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'oldToken':{'type':a0_0x13f4c8(0x67e)}},'required':[a0_0x13f4c8(0x4dd)],...S('oldToken')},Kn={'properties':{'key':{'type':a0_0x13f4c8(0x5ea),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x13f4c8(0x19b)],...S('id',a0_0x13f4c8(0x52a))},'message':{'type':a0_0x13f4c8(0x5ea)}}},Q={'properties':{'delay':{'type':a0_0x13f4c8(0x13d),'description':a0_0x13f4c8(0x4d3)},'presence':{'type':a0_0x13f4c8(0x67e),'enum':['unavailable',a0_0x13f4c8(0x238),'composing',a0_0x13f4c8(0x30b),'paused']}}},z={'type':a0_0x13f4c8(0x67e),'pattern':a0_0x13f4c8(0x404),'description':a0_0x13f4c8(0x586)},Ea={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x13f4c8(0x67e)}},'required':[a0_0x13f4c8(0x699)],...S(a0_0x13f4c8(0x699))}},'required':['textMessage','number']},Ca={'type':'string','pattern':a0_0x13f4c8(0x540),'description':'Invalid\x20format'},Qn={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'number':{...Ca},'options':{...Q},'textMessage':{'type':a0_0x13f4c8(0x5ea),'properties':{'text':{'type':a0_0x13f4c8(0x67e)}},'required':[a0_0x13f4c8(0x699)],...S(a0_0x13f4c8(0x699))}},'required':[a0_0x13f4c8(0x24f),a0_0x13f4c8(0x41d)]},Yn={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'number':{...Ca},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x13f4c8(0x67e),'enum':['image',a0_0x13f4c8(0x2c6),a0_0x13f4c8(0x55d),a0_0x13f4c8(0xfe)]},'media':{'type':a0_0x13f4c8(0x67e)},'fileName':{'type':a0_0x13f4c8(0x67e)},'caption':{'type':a0_0x13f4c8(0x67e)}},'required':[a0_0x13f4c8(0x1b5),a0_0x13f4c8(0x2db)],...S('fileName',a0_0x13f4c8(0x4f5),a0_0x13f4c8(0x2db))}},'required':['mediaMessage',a0_0x13f4c8(0x41d)]},Ma={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x13f4c8(0x5ea),'properties':{'image':{'type':a0_0x13f4c8(0x67e)}},'required':[a0_0x13f4c8(0x340)],...S(a0_0x13f4c8(0x340))}},'required':['stickerMessage','number']},va={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'statusMessage':{'type':a0_0x13f4c8(0x5ea),'properties':{'type':{'type':'string','enum':['text',a0_0x13f4c8(0x340),a0_0x13f4c8(0xfe),a0_0x13f4c8(0x55d)]},'content':{'type':a0_0x13f4c8(0x67e)},'caption':{'type':a0_0x13f4c8(0x67e)},'backgroundColor':{'type':a0_0x13f4c8(0x67e)},'font':{'type':a0_0x13f4c8(0x13d),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x13f4c8(0xec),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x13f4c8(0x67e),'pattern':'^\x5cd+','description':a0_0x13f4c8(0x564)}},'allContacts':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]}},'required':[a0_0x13f4c8(0x31f),a0_0x13f4c8(0x68f)],...S(a0_0x13f4c8(0x31f),a0_0x13f4c8(0x68f))}},'required':[a0_0x13f4c8(0x469)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x13f4c8(0x5ea),'properties':{'mediatype':{'type':a0_0x13f4c8(0x67e),'enum':[a0_0x13f4c8(0x340),a0_0x13f4c8(0x2c6),a0_0x13f4c8(0x55d),'audio']},'media':{'type':a0_0x13f4c8(0x67e)},'fileName':{'type':a0_0x13f4c8(0x67e)},'caption':{'type':a0_0x13f4c8(0x67e)}},'required':[a0_0x13f4c8(0x1b5),'media'],...S(a0_0x13f4c8(0x316),a0_0x13f4c8(0x4f5),a0_0x13f4c8(0x2db))}},'required':['mediaMessage','number']},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x13f4c8(0x5ea),'properties':{'audio':{'type':a0_0x13f4c8(0x67e)}},'required':[a0_0x13f4c8(0xfe)],...S(a0_0x13f4c8(0xfe))}},'required':[a0_0x13f4c8(0x1b6),a0_0x13f4c8(0x41d)]},Ta={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...z},'pollMessage':{'type':a0_0x13f4c8(0x5ea),'properties':{'name':{'type':a0_0x13f4c8(0x67e)},'selectableCount':{'type':a0_0x13f4c8(0x41d)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x13f4c8(0x58e),a0_0x13f4c8(0x624)],...S(a0_0x13f4c8(0x5e2),'selectableCount',a0_0x13f4c8(0x624))}},'required':[a0_0x13f4c8(0x41d),a0_0x13f4c8(0x280)]},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'number':{...z},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x13f4c8(0x67e)},'choices':{'type':a0_0x13f4c8(0xec),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x13f4c8(0x699),a0_0x13f4c8(0x36c)],...S(a0_0x13f4c8(0x699),a0_0x13f4c8(0x36c))}},'required':[a0_0x13f4c8(0x41d),a0_0x13f4c8(0x45c)]},Oa={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x13f4c8(0x5ea),'properties':{'title':{'type':a0_0x13f4c8(0x67e)},'description':{'type':a0_0x13f4c8(0x67e)},'footerText':{'type':a0_0x13f4c8(0x67e)},'buttons':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x13f4c8(0x5ea),'properties':{'buttonText':{'type':'string'},'buttonId':{'type':a0_0x13f4c8(0x67e)}},'required':[a0_0x13f4c8(0x387),a0_0x13f4c8(0x527)],...S('buttonText',a0_0x13f4c8(0x527))}},'mediaMessage':{'type':a0_0x13f4c8(0x5ea),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x13f4c8(0x67e)},'mediatype':{'type':a0_0x13f4c8(0x67e),'enum':[a0_0x13f4c8(0x340),a0_0x13f4c8(0x2c6),a0_0x13f4c8(0x55d)]}},'required':['media',a0_0x13f4c8(0x1b5)],...S(a0_0x13f4c8(0x2db),'fileName')}},'required':[a0_0x13f4c8(0x40d),a0_0x13f4c8(0x58b)],...S(a0_0x13f4c8(0x40d),a0_0x13f4c8(0x4be))}},'required':[a0_0x13f4c8(0x41d),'buttonMessage']},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x13f4c8(0x5ea),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x13f4c8(0x41d)},'name':{'type':'string'},'address':{'type':a0_0x13f4c8(0x67e)}},'required':[a0_0x13f4c8(0x21a),a0_0x13f4c8(0x6af)],...S(a0_0x13f4c8(0x5e2),'addresss')}},'required':[a0_0x13f4c8(0x41d),a0_0x13f4c8(0x5ae)]},xa={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x13f4c8(0x5ea),'properties':{'title':{'type':a0_0x13f4c8(0x67e)},'description':{'type':a0_0x13f4c8(0x67e)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x13f4c8(0x67e)},'sections':{'type':a0_0x13f4c8(0xec),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x13f4c8(0x5ea),'properties':{'title':{'type':a0_0x13f4c8(0x67e)},'rows':{'type':a0_0x13f4c8(0xec),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x13f4c8(0x67e)},'rowId':{'type':a0_0x13f4c8(0x67e)}},'required':[a0_0x13f4c8(0x40d),'rowId'],...S(a0_0x13f4c8(0x40d),a0_0x13f4c8(0x48a))}}},'required':[a0_0x13f4c8(0x40d),a0_0x13f4c8(0x563)],...S(a0_0x13f4c8(0x40d))}}},'required':['title','description',a0_0x13f4c8(0x387),a0_0x13f4c8(0x297)],...S(a0_0x13f4c8(0x40d),a0_0x13f4c8(0x4be),a0_0x13f4c8(0x387),a0_0x13f4c8(0x1ac))}},'required':[a0_0x13f4c8(0x41d),a0_0x13f4c8(0x2ab)]},Da={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x13f4c8(0xec),'items':{'type':a0_0x13f4c8(0x5ea),'properties':{'fullName':{'type':a0_0x13f4c8(0x67e)},'phoneNumber':{'type':a0_0x13f4c8(0x67e),'minLength':0xa}},'required':[a0_0x13f4c8(0x58d),a0_0x13f4c8(0x284)],...S(a0_0x13f4c8(0x58d))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x13f4c8(0x41d),a0_0x13f4c8(0x303)]},_a={'$id':(0x0,C['v4'])(),'type':'object','properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x13f4c8(0x5ea),'properties':{'id':{'type':a0_0x13f4c8(0x67e)},'remoteJid':{'type':a0_0x13f4c8(0x67e)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x13f4c8(0x19b)],...S('id',a0_0x13f4c8(0x52a))},'reaction':{'type':a0_0x13f4c8(0x67e)}},'required':[a0_0x13f4c8(0xcf),'reaction'],...S(a0_0x13f4c8(0x4f0))}},'required':['reactionMessage']},Pa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x13f4c8(0x67e),'pattern':'^\x5cd+','description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},$a={'$id':(0x0,C['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x13f4c8(0xec),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x13f4c8(0x67e)},'fromMe':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x13f4c8(0x67e)}},'required':['id',a0_0x13f4c8(0x19b),a0_0x13f4c8(0x52a)],...S('id',a0_0x13f4c8(0x52a))}}},'required':[a0_0x13f4c8(0x499)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'privacySettings':{'type':a0_0x13f4c8(0x5ea),'properties':{'readreceipts':{'type':a0_0x13f4c8(0x67e),'enum':['all',a0_0x13f4c8(0x681)]},'profile':{'type':'string','enum':['all',a0_0x13f4c8(0x55c),a0_0x13f4c8(0x547),a0_0x13f4c8(0x681)]},'status':{'type':a0_0x13f4c8(0x67e),'enum':[a0_0x13f4c8(0x5a0),'contacts',a0_0x13f4c8(0x547),'none']},'online':{'type':a0_0x13f4c8(0x67e),'enum':[a0_0x13f4c8(0x5a0),a0_0x13f4c8(0x36f)]},'last':{'type':a0_0x13f4c8(0x67e),'enum':[a0_0x13f4c8(0x5a0),a0_0x13f4c8(0x55c),a0_0x13f4c8(0x547),a0_0x13f4c8(0x681)]},'groupadd':{'type':a0_0x13f4c8(0x67e),'enum':[a0_0x13f4c8(0x5a0),'contacts','contact_blacklist',a0_0x13f4c8(0x681)]}},'required':[a0_0x13f4c8(0x33f),a0_0x13f4c8(0x2a9),'status',a0_0x13f4c8(0x391),a0_0x13f4c8(0xbe),'groupadd'],...S(a0_0x13f4c8(0x33f),a0_0x13f4c8(0x2a9),a0_0x13f4c8(0x254),'online','last',a0_0x13f4c8(0x630))}},'required':[a0_0x13f4c8(0x262)]},La={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x13f4c8(0x5ea),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x13f4c8(0x52a)],...S('id',a0_0x13f4c8(0x52a))},'messageTimestamp':{'type':a0_0x13f4c8(0x13d),'minLength':0x1}},'required':[a0_0x13f4c8(0xcf)],...S(a0_0x13f4c8(0x50f))},'archive':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]}},'required':[a0_0x13f4c8(0x1a2),'archive']},ja={'$id':(0x0,C['v4'])(),'type':'object','properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x13f4c8(0x67e)},'participant':{'type':a0_0x13f4c8(0x67e)}},'required':['id',a0_0x13f4c8(0x19b),'remoteJid'],...S('id','remoteJid',a0_0x13f4c8(0x5d3))},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'where':{'type':a0_0x13f4c8(0x5ea),'properties':{'_id':{'type':a0_0x13f4c8(0x67e),'minLength':0x1},'pushName':{'type':a0_0x13f4c8(0x67e),'minLength':0x1},'id':{'type':a0_0x13f4c8(0x67e),'minLength':0x1}},...S(a0_0x13f4c8(0x1f1),'id',a0_0x13f4c8(0x275))}}},qa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':'string'}},...S(a0_0x13f4c8(0x5e2))},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'status':{'type':'string'}},...S(a0_0x13f4c8(0x254))},Se={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'number':{'type':a0_0x13f4c8(0x67e)},'picture':{'type':a0_0x13f4c8(0x67e)}}},Ja={'type':a0_0x13f4c8(0x5ea),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x13f4c8(0x67e)},'picture':{'type':a0_0x13f4c8(0x67e)},'status':{'type':a0_0x13f4c8(0x67e)},'isBusiness':{'type':a0_0x13f4c8(0x507)}}},Va={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x13f4c8(0x67e),'minLength':0x1},'key':{'type':a0_0x13f4c8(0x5ea),'if':{'propertyNames':{'enum':[a0_0x13f4c8(0x19b),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x13f4c8(0x67e),'minLength':0x1,'description':a0_0x13f4c8(0x6bb)},'id':{'type':'string','minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x13f4c8(0x5ea)}},...S(a0_0x13f4c8(0x1f1))},'limit':{'type':a0_0x13f4c8(0x13d)}}},Xn={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'where':{'type':a0_0x13f4c8(0x5ea),'properties':{'_id':{'type':a0_0x13f4c8(0x67e)},'remoteJid':{'type':'string'},'id':{'type':a0_0x13f4c8(0x67e)},'fromMe':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x13f4c8(0x67e)},'status':{'type':a0_0x13f4c8(0x67e),'enum':[a0_0x13f4c8(0x88),a0_0x13f4c8(0x4b7),a0_0x13f4c8(0x1dd),a0_0x13f4c8(0x99),a0_0x13f4c8(0x1f4),a0_0x13f4c8(0x277)]}},...S('_id',a0_0x13f4c8(0x52a),'id',a0_0x13f4c8(0x254))},'limit':{'type':a0_0x13f4c8(0x13d)}}},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'number':{...z},'presence':{'type':a0_0x13f4c8(0x67e),'enum':[a0_0x13f4c8(0x30a),a0_0x13f4c8(0x238),a0_0x13f4c8(0x1d0),a0_0x13f4c8(0x30b),a0_0x13f4c8(0x46d)]}},'required':[a0_0x13f4c8(0x570),a0_0x13f4c8(0x41d)]},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x13f4c8(0x67e)},'profilePicture':{'type':a0_0x13f4c8(0x67e)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x13f4c8(0x67e),'minLength':0xa,'pattern':a0_0x13f4c8(0xd4),'description':a0_0x13f4c8(0x662)}}},'required':[a0_0x13f4c8(0x1b1),a0_0x13f4c8(0x55b)],...S('subject',a0_0x13f4c8(0x4be),'profilePicture')},Ee={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'groupJid':{'type':a0_0x13f4c8(0x67e),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x13f4c8(0x6b3)],...S(a0_0x13f4c8(0x6b3))},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'groupJid':{'type':a0_0x13f4c8(0x67e)},'action':{'type':a0_0x13f4c8(0x67e),'enum':[a0_0x13f4c8(0x6ac),a0_0x13f4c8(0x69b),a0_0x13f4c8(0x2c8),'demote']},'participants':{'type':a0_0x13f4c8(0xec),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x13f4c8(0x67e),'minLength':0xa,'pattern':a0_0x13f4c8(0xd4),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x13f4c8(0x6b3),a0_0x13f4c8(0x2ea),a0_0x13f4c8(0x55b)],...S(a0_0x13f4c8(0x6b3),a0_0x13f4c8(0x2ea))},za={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x13f4c8(0x41d),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x13f4c8(0x1fa)],...S(a0_0x13f4c8(0x6b3),a0_0x13f4c8(0x1fa))},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x13f4c8(0x67e)}},'required':['groupJid',a0_0x13f4c8(0x340)],...S(a0_0x13f4c8(0x6b3),a0_0x13f4c8(0x340))},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'groupJid':{'type':a0_0x13f4c8(0x67e)},'description':{'type':a0_0x13f4c8(0x67e)}},'required':[a0_0x13f4c8(0x6b3),a0_0x13f4c8(0x4be)],...S(a0_0x13f4c8(0x6b3),a0_0x13f4c8(0x4be))},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'groupJid':{'type':'string'},'name':{'type':'string'}},'required':[a0_0x13f4c8(0x6b3),a0_0x13f4c8(0x5e2)],...S(a0_0x13f4c8(0x6b3),a0_0x13f4c8(0x5e2))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'groupJid':{'type':'string'},'setting':{'type':'string','enum':[a0_0x13f4c8(0x3bf),a0_0x13f4c8(0x26a),a0_0x13f4c8(0x541),a0_0x13f4c8(0x130)]}},'required':['groupJid',a0_0x13f4c8(0x424)],...S(a0_0x13f4c8(0x6b3),a0_0x13f4c8(0x424))},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'inviteCode':{'type':a0_0x13f4c8(0x67e)}},'required':['inviteCode'],...S('inviteCode')},Za={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'url':{'type':a0_0x13f4c8(0x67e)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x13f4c8(0x1d2),a0_0x13f4c8(0x38a)]},Zn={'$id':(0x0,C['v4'])(),'type':a0_0x13f4c8(0x5ea),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x13f4c8(0x507),'enum':[!0x0,!0x1]}},'required':[a0_0x13f4c8(0x93),'STATUS_INSTANCE','QRCODE_UPDATED',a0_0x13f4c8(0x126),'MESSAGES_UPDATE',a0_0x13f4c8(0x1b0),a0_0x13f4c8(0x365),a0_0x13f4c8(0x338),a0_0x13f4c8(0x40f),a0_0x13f4c8(0x1c7),a0_0x13f4c8(0x63a),a0_0x13f4c8(0x634),'CHATS_UPSERT',a0_0x13f4c8(0x430),a0_0x13f4c8(0x1b2),a0_0x13f4c8(0x532),'GROUPS_UPSERT',a0_0x13f4c8(0x3ee),a0_0x13f4c8(0x2e2)],...S('local_map',a0_0x13f4c8(0x667),'QRCODE_UPDATED',a0_0x13f4c8(0x126),'MESSAGES_UPDATE',a0_0x13f4c8(0x1b0),a0_0x13f4c8(0x365),'CONTACTS_SET',a0_0x13f4c8(0x40f),'CONTACTS_UPDATE',a0_0x13f4c8(0x63a),a0_0x13f4c8(0x634),a0_0x13f4c8(0x17b),'CHATS_UPDATE',a0_0x13f4c8(0x1b2),a0_0x13f4c8(0x532),'GROUPS_UPSERT',a0_0x13f4c8(0x3ee),a0_0x13f4c8(0x2e2))},Ke=class{},Qe=class extends I{['getContactModelForOwner'](_0x313f56){return Bs(_0x313f56);}async[a0_0x13f4c8(0x209)](_0x2c3961){const _0x85c21e=a0_0x13f4c8;if(_0x2c3961[_0x85c21e(0xa3)]!==0x0)try{return{'insertCount':(await this[_0x85c21e(0x1db)](_0x2c3961[0x0][_0x85c21e(0xc1)])[_0x85c21e(0x554)]([..._0x2c3961]))[_0x85c21e(0xa3)]};}catch(_0x376993){return _0x376993;}}async[a0_0x13f4c8(0x5c3)](_0x515181,_0x36d33b){const _0x23a5c4=a0_0x13f4c8;try{return{'deletedCount':(await this[_0x23a5c4(0x1db)](_0x36d33b)[_0x23a5c4(0x190)]({..._0x515181['where']}))['deletedCount']};}catch(_0x563de6){return{'error':_0x563de6?.[_0x23a5c4(0x603)]()};}}async[a0_0x13f4c8(0x579)](_0x51cb4e,_0x580cec){const _0x418d0a=a0_0x13f4c8;try{if(_0x51cb4e[_0x418d0a(0xa3)]===0x0)return;let _0x4bb99d=this[_0x418d0a(0x1db)](_0x580cec),_0x57a5ef=_0x51cb4e['map'](_0x2365d5=>({'updateOne':{'filter':{'_id':_0x2365d5[_0x418d0a(0x1f1)],'owner':_0x580cec},'update':{..._0x2365d5}}})),{modifiedCount:_0x415e82}=await _0x4bb99d[_0x418d0a(0x518)](_0x57a5ef);return{'insertCount':_0x415e82};}catch{return;}}async['find'](_0x4c889e,_0x34c12b){const _0x1c5a2d=a0_0x13f4c8;try{let _0x2b7fd8=this['getContactModelForOwner'](_0x34c12b),_0x2143d9=A(_0x4c889e[_0x1c5a2d(0x3ce)]);return await _0x2b7fd8[_0x1c5a2d(0x39d)](_0x2143d9)[_0x1c5a2d(0x2a8)](_0x4c889e?.['limit']??0x0)['lean']();}catch{return[];}}async['findOne'](_0x342204,_0x2eb906){const _0x4a5a61=a0_0x13f4c8;try{let _0x4a9c42=this[_0x4a5a61(0x1db)](_0x2eb906),_0x134dbc=A(_0x342204['where']);return await _0x4a9c42[_0x4a5a61(0x314)](_0x134dbc)[_0x4a5a61(0x62b)]();}catch{return null;}}async[a0_0x13f4c8(0x28a)](_0x4331de){const _0x1ae60e=a0_0x13f4c8;try{return await this[_0x1ae60e(0x1db)](_0x4331de)[_0x1ae60e(0x466)][_0x1ae60e(0x344)](),{'success':!0x0};}catch(_0x18c0af){return console[_0x1ae60e(0x3d5)](_0x18c0af),{'success':!0x1,'error':_0x18c0af};}}},Ye=require('jsonschema'),cc=require(a0_0x13f4c8(0x3a4)),ps=new v('Validate'),U=class{['routerPath'](_0x309deb,_0x1e22b1=!0x0){let _0x5d33c5='/'+_0x309deb;return _0x1e22b1&&(_0x5d33c5+='/:instanceName'),_0x5d33c5;}async[a0_0x13f4c8(0x2f8)](_0x26bc74){const _0x150173=a0_0x13f4c8;let {request:_0x993d6f,schema:_0x58da8d,ClassRef:_0x500d13,execute:_0x7a931d}=_0x26bc74,_0x58b3c6=new _0x500d13(),_0x27a001=_0x993d6f[_0x150173(0xc9)],_0x11b5a=_0x993d6f[_0x150173(0xaf)];_0x993d6f?.[_0x150173(0x1a1)]&&Object['keys'](_0x993d6f[_0x150173(0x1a1)])[_0x150173(0xa3)]>0x0&&Object[_0x150173(0x339)](_0x11b5a,_0x993d6f[_0x150173(0x1a1)]),_0x993d6f['originalUrl'][_0x150173(0x542)](_0x150173(0x45a))&&Object[_0x150173(0x339)](_0x11b5a,_0x27a001),Object[_0x150173(0x339)](_0x58b3c6,_0x27a001);let _0x27aed5=_0x58da8d?(0x0,Ye[_0x150173(0x95)])(_0x58b3c6,_0x58da8d):{'valid':!0x0,'errors':[]};if(!_0x27aed5[_0x150173(0x169)]){let _0x3f9d19=_0x27aed5[_0x150173(0x250)]['map'](({property:_0x25293b,stack:_0x3adfd3,schema:_0x55d1af})=>{const _0x96dc90=_0x150173;let _0x43eedf;return _0x55d1af[_0x96dc90(0x4be)]?_0x43eedf=_0x55d1af[_0x96dc90(0x4be)]:_0x43eedf=_0x3adfd3['replace'](_0x96dc90(0x2f6),''),{'property':_0x25293b['replace'](_0x96dc90(0x2f6),''),'message':_0x43eedf};});throw ps[_0x150173(0x3d5)]([..._0x3f9d19]),new m(..._0x3f9d19);}return await _0x7a931d(_0x11b5a,_0x58b3c6);}async['groupValidate'](_0x1441d8){const _0x192122=a0_0x13f4c8;let {request:_0xaf8b57,ClassRef:_0x4e1438,schema:_0x3f855b,execute:_0x21873b}=_0x1441d8,_0x3ada72=_0xaf8b57[_0x192122(0x1a1)];if(!_0x3ada72?.['groupJid'])throw new m(_0x192122(0x148),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x54b662=_0xaf8b57[_0x192122(0xaf)],_0x1f81a9=_0xaf8b57[_0x192122(0xc9)],_0xc47104=new _0x4e1438();Object[_0x192122(0x339)](_0x1f81a9,_0x3ada72),Object[_0x192122(0x339)](_0xc47104,_0x1f81a9);let _0x24ead3=(0x0,Ye[_0x192122(0x95)])(_0xc47104,_0x3f855b);if(!_0x24ead3['valid']){let _0x27fbcb=_0x24ead3['errors'][_0x192122(0x35b)](({property:_0x2f9e70,stack:_0x9b1917,schema:_0x5e8ff1})=>{const _0x192e9a=_0x192122;let _0x36c647;return _0x5e8ff1[_0x192e9a(0x4be)]?_0x36c647=_0x5e8ff1[_0x192e9a(0x4be)]:_0x36c647=_0x9b1917[_0x192e9a(0x3f0)]('instance.',''),{'property':_0x2f9e70[_0x192e9a(0x3f0)](_0x192e9a(0x2f6),''),'message':_0x36c647};});throw ps[_0x192122(0x3d5)]([..._0x27fbcb]),new m(..._0x27fbcb);}return await _0x21873b(_0x54b662,_0xc47104);}async[a0_0x13f4c8(0x1b4)](_0x324ed9){const _0x3ebcf2=a0_0x13f4c8;let {request:_0x505528,ClassRef:_0x333bd3,schema:_0x445039,execute:_0x2114a2}=_0x324ed9,_0x2fe235=_0x505528[_0x3ebcf2(0xc9)];if(!_0x2fe235?.[_0x3ebcf2(0x132)])throw new m(_0x3ebcf2(0x2f2),_0x3ebcf2(0x313));let _0x2502f8=_0x505528['params'],_0x522aea=_0x505528[_0x3ebcf2(0xc9)],_0x5c3d20=new _0x333bd3();Object[_0x3ebcf2(0x339)](_0x522aea,_0x2fe235),Object[_0x3ebcf2(0x339)](_0x5c3d20,_0x522aea);let _0x1304d0=(0x0,Ye[_0x3ebcf2(0x95)])(_0x5c3d20,_0x445039);if(!_0x1304d0[_0x3ebcf2(0x169)]){let _0xf2fab1=_0x1304d0[_0x3ebcf2(0x250)][_0x3ebcf2(0x35b)](({property:_0x267e14,stack:_0x5ee8e7,schema:_0x55b1f4})=>{const _0x4f0ee3=_0x3ebcf2;let _0x57e855;return _0x55b1f4[_0x4f0ee3(0x4be)]?_0x57e855=_0x55b1f4[_0x4f0ee3(0x4be)]:_0x57e855=_0x5ee8e7['replace']('instance.',''),{'property':_0x267e14[_0x4f0ee3(0x3f0)](_0x4f0ee3(0x2f6),''),'message':_0x57e855};});throw ps[_0x3ebcf2(0x3d5)]([..._0xf2fab1]),new m(..._0xf2fab1);}return await _0x2114a2(_0x2502f8,_0x5c3d20);}},E=class{},Mc=new v(a0_0x13f4c8(0xca)),Xe=class extends U{constructor(..._0x23377c){const _0x3b14bb=a0_0x13f4c8;super(),this['router']=(0x0,er[_0x3b14bb(0x5d9)])(),this['router'][_0x3b14bb(0x510)](this['routerPath'](_0x3b14bb(0x22d)),..._0x23377c,async(_0x361cf1,_0x237d35)=>{const _0xd2b74=_0x3b14bb;let _0x9d6ae9=await this[_0xd2b74(0x2f8)]({'request':_0x361cf1,'schema':Ba,'ClassRef':je,'execute':(_0x5244b0,_0x2c097e)=>x[_0xd2b74(0x22d)](_0x5244b0,_0x2c097e)});return _0x237d35['status'](0xc9)[_0xd2b74(0x439)](_0x9d6ae9);})[_0x3b14bb(0x510)](this[_0x3b14bb(0x602)](_0x3b14bb(0x51e)),..._0x23377c,async(_0x373a4b,_0x488509)=>{const _0x4ef9d0=_0x3b14bb;let _0x1fda03=await this[_0x4ef9d0(0x2f8)]({'request':_0x373a4b,'schema':Pa,'ClassRef':Fe,'execute':(_0x528092,_0x2262d6)=>x[_0x4ef9d0(0x170)](_0x528092,_0x2262d6)});return _0x488509[_0x4ef9d0(0x254)](0xc9)['json'](_0x1fda03);})[_0x3b14bb(0x510)](this[_0x3b14bb(0x602)]('editChat'),..._0x23377c,async(_0x331747,_0x2bfe9b)=>{const _0x528e92=_0x3b14bb;let _0x205236=await this[_0x528e92(0x2f8)]({'request':_0x331747,'schema':M,'ClassRef':E,'execute':(_0x475bdd,_0x872da0)=>x[_0x528e92(0x37f)](_0x475bdd,_0x872da0)});return _0x2bfe9b['status'](0xc9)[_0x528e92(0x439)](_0x205236);})['put'](this[_0x3b14bb(0x602)](_0x3b14bb(0x619)),..._0x23377c,async(_0x46b50d,_0x4bc583)=>{const _0xfd2459=_0x3b14bb;let _0x1ad852=await this[_0xfd2459(0x2f8)]({'request':_0x46b50d,'schema':$a,'ClassRef':Je,'execute':(_0xa8a2e3,_0xe7250c)=>x[_0xfd2459(0x3e0)](_0xa8a2e3,_0xe7250c)});return _0x4bc583[_0xfd2459(0x254)](0xc9)[_0xfd2459(0x439)](_0x1ad852);})[_0x3b14bb(0x48f)](this[_0x3b14bb(0x602)](_0x3b14bb(0xbf)),..._0x23377c,async(_0x251e37,_0x378658)=>{const _0x30bce0=_0x3b14bb;let _0x3b96a3=await this[_0x30bce0(0x2f8)]({'request':_0x251e37,'schema':La,'ClassRef':Ve,'execute':(_0x17f9a0,_0x5be894)=>x[_0x30bce0(0xbf)](_0x17f9a0,_0x5be894)});return _0x378658[_0x30bce0(0x254)](0xc9)[_0x30bce0(0x439)](_0x3b96a3);})[_0x3b14bb(0x5c3)](this['routerPath'](_0x3b14bb(0x3c7)),..._0x23377c,async(_0x42bb0c,_0x41819d)=>{const _0x11fad5=_0x3b14bb;let _0x2efa80=await this[_0x11fad5(0x2f8)]({'request':_0x42bb0c,'schema':ja,'ClassRef':Ge,'execute':(_0x10cd05,_0x3a3c8e)=>x[_0x11fad5(0x64a)](_0x10cd05,_0x3a3c8e)});return _0x41819d[_0x11fad5(0x254)](0xc9)[_0x11fad5(0x439)](_0x2efa80);})[_0x3b14bb(0x510)](this[_0x3b14bb(0x602)]('fetchProfilePictureUrl'),..._0x23377c,async(_0x40dd50,_0x5cb5a8)=>{const _0x16067f=_0x3b14bb;let _0x9d013e=await this[_0x16067f(0x2f8)]({'request':_0x40dd50,'schema':Se,'ClassRef':be,'execute':(_0x2c2090,_0x590323)=>x[_0x16067f(0x32b)](_0x2c2090,_0x590323)});return _0x5cb5a8[_0x16067f(0x254)](0xc8)['json'](_0x9d013e);})[_0x3b14bb(0x510)](this[_0x3b14bb(0x602)](_0x3b14bb(0x4a9)),..._0x23377c,async(_0x1fb625,_0x4d5fbe)=>{const _0x2f6379=_0x3b14bb;let _0x45d076=await this[_0x2f6379(0x2f8)]({'request':_0x1fb625,'schema':Ja,'ClassRef':be,'execute':(_0x22b257,_0x16894b)=>x['fetchProfile'](_0x22b257,_0x16894b)});return _0x4d5fbe[_0x2f6379(0x254)](0xc8)[_0x2f6379(0x439)](_0x45d076);})[_0x3b14bb(0x510)](this['routerPath']('findContacts'),..._0x23377c,async(_0x4b9a8e,_0x4289fe)=>{const _0x4ffd22=_0x3b14bb;let _0x1f4f87=await this[_0x4ffd22(0x2f8)]({'request':_0x4b9a8e,'schema':Fa,'ClassRef':Ke,'execute':(_0x24c2d8,_0x4bc16b)=>x[_0x4ffd22(0x357)](_0x24c2d8,_0x4bc16b)});return _0x4289fe['status'](0xc8)[_0x4ffd22(0x439)](_0x1f4f87);})[_0x3b14bb(0x510)](this[_0x3b14bb(0x602)]('getBase64FromMediaMessage'),..._0x23377c,async(_0x2db1d9,_0x292a90)=>{const _0x4c1a5c=_0x3b14bb;let _0x4152af=await this[_0x4c1a5c(0x2f8)]({'request':_0x2db1d9,'schema':null,'ClassRef':Object,'execute':(_0x273a75,_0x522d7a)=>x[_0x4c1a5c(0x1f3)](_0x273a75,_0x522d7a)});return _0x292a90[_0x4c1a5c(0x254)](0xc9)['json'](_0x4152af);})[_0x3b14bb(0x510)](this[_0x3b14bb(0x602)](_0x3b14bb(0x2aa)),..._0x23377c,async(_0x1d7ec3,_0x34d8e9)=>{const _0x369166=_0x3b14bb;let _0x194a7e=await this[_0x369166(0x2f8)]({'request':_0x1d7ec3,'schema':Va,'ClassRef':ke,'execute':(_0x352b38,_0x102bb2)=>x[_0x369166(0x164)](_0x352b38,_0x102bb2)});return _0x34d8e9['status'](0xc8)[_0x369166(0x439)](_0x194a7e);})[_0x3b14bb(0x208)](this['routerPath'](_0x3b14bb(0x4de)),..._0x23377c,async(_0x548b43,_0x5db1df)=>{const _0x4ae626=_0x3b14bb;let _0x55f341=await this[_0x4ae626(0x2f8)]({'request':_0x548b43,'schema':null,'ClassRef':E,'execute':_0xcfd6a4=>x[_0x4ae626(0x605)](_0xcfd6a4)});return _0x5db1df['status'](0xc8)[_0x4ae626(0x439)](_0x55f341);})['get'](this[_0x3b14bb(0x602)](_0x3b14bb(0xc5)),..._0x23377c,async(_0x6f46e,_0x156a0e)=>{const _0x2b42ed=_0x3b14bb;let _0x2bb7ee=await this[_0x2b42ed(0x2f8)]({'request':_0x6f46e,'schema':null,'ClassRef':E,'execute':_0x45bcc7=>x[_0x2b42ed(0x1e9)](_0x45bcc7)});return _0x156a0e['status'](0xc8)['json'](_0x2bb7ee);})['put'](this[_0x3b14bb(0x602)](_0x3b14bb(0x665)),..._0x23377c,async(_0x19f250,_0x309adb)=>{const _0xa7741e=_0x3b14bb;let _0x1ab2ad=await this[_0xa7741e(0x2f8)]({'request':_0x19f250,'schema':null,'ClassRef':Array,'execute':(_0x3b2f3c,_0x185d7c)=>x[_0xa7741e(0x665)](_0x3b2f3c,_0x185d7c)});return _0x309adb[_0xa7741e(0x254)](0xc8)[_0xa7741e(0x439)](_0x1ab2ad);})['get'](this[_0x3b14bb(0x602)](_0x3b14bb(0x2d5)),..._0x23377c,async(_0x1a7019,_0x20f378)=>{const _0x26055f=_0x3b14bb;let _0x5b61b6=await this[_0x26055f(0x2f8)]({'request':_0x1a7019,'schema':null,'ClassRef':E,'execute':_0x254bed=>x[_0x26055f(0x2d5)](_0x254bed)});return _0x20f378['status'](0xc8)[_0x26055f(0x439)](_0x5b61b6);})['put'](this['routerPath'](_0x3b14bb(0x526)),..._0x23377c,async(_0x3f4333,_0x1c8da7)=>{const _0x323dfd=_0x3b14bb;let _0x5d5fcf=await this[_0x323dfd(0x2f8)]({'request':_0x3f4333,'schema':ka,'ClassRef':Be,'execute':(_0x56cd16,_0x5884c7)=>x[_0x323dfd(0x526)](_0x56cd16,_0x5884c7)});return _0x1c8da7[_0x323dfd(0x254)](0xc9)[_0x323dfd(0x439)](_0x5d5fcf);})[_0x3b14bb(0x510)](this[_0x3b14bb(0x602)](_0x3b14bb(0x67f)),..._0x23377c,async(_0x18097e,_0x391536)=>{const _0x1c947c=_0x3b14bb;let _0x43251a=await this[_0x1c947c(0x2f8)]({'request':_0x18097e,'schema':Se,'ClassRef':fe,'execute':(_0x46ce6f,_0x2b49f5)=>x[_0x1c947c(0x67f)](_0x46ce6f,_0x2b49f5)});return _0x391536[_0x1c947c(0x254)](0xc8)['json'](_0x43251a);})[_0x3b14bb(0x510)](this['routerPath']('updateProfileName'),..._0x23377c,async(_0x354eb4,_0x56a475)=>{const _0x1740bb=_0x3b14bb;let _0x5032d5=await this[_0x1740bb(0x2f8)]({'request':_0x354eb4,'schema':qa,'ClassRef':qe,'execute':(_0x5b4fc3,_0x25c47d)=>x[_0x1740bb(0xb0)](_0x5b4fc3,_0x25c47d)});return _0x56a475[_0x1740bb(0x254)](0xc8)[_0x1740bb(0x439)](_0x5032d5);})[_0x3b14bb(0x510)](this[_0x3b14bb(0x602)](_0x3b14bb(0x5de)),..._0x23377c,async(_0x2b825c,_0x8fd703)=>{const _0x27af1a=_0x3b14bb;let _0x45169c=await this['dataValidate']({'request':_0x2b825c,'schema':Ua,'ClassRef':Ue,'execute':(_0x1e7fff,_0x12ab95)=>x['updateProfileStatus'](_0x1e7fff,_0x12ab95)});return _0x8fd703[_0x27af1a(0x254)](0xc8)[_0x27af1a(0x439)](_0x45169c);})['put'](this[_0x3b14bb(0x602)]('updateProfilePicture'),..._0x23377c,async(_0xde9b84,_0xa57b95)=>{const _0x526db4=_0x3b14bb;let _0x1362c0=await this[_0x526db4(0x2f8)]({'request':_0xde9b84,'schema':Se,'ClassRef':fe,'execute':(_0x13463f,_0x417786)=>x['updateProfilePicture'](_0x13463f,_0x417786)});return _0xa57b95[_0x526db4(0x254)](0xc8)[_0x526db4(0x439)](_0x1362c0);})[_0x3b14bb(0x5c3)](this[_0x3b14bb(0x602)](_0x3b14bb(0x116)),..._0x23377c,async(_0x4cd4ff,_0x3a5616)=>{const _0x3afdb1=_0x3b14bb;let _0x34288d=await this[_0x3afdb1(0x2f8)]({'request':_0x4cd4ff,'schema':Se,'ClassRef':fe,'execute':(_0x46749d,_0x3bc653)=>x[_0x3afdb1(0x116)](_0x46749d,_0x3bc653)});return _0x3a5616[_0x3afdb1(0x254)](0xc8)[_0x3afdb1(0x439)](_0x34288d);});}},tr=require('express'),Ze=class{},et=class{},tt=class{},st=class{},at=class{},Y=class{},rt=class{},ot=class extends Y{},it=class extends Y{},nt=class extends U{constructor(..._0x508f98){const _0x5baf4e=a0_0x13f4c8;super(),this[_0x5baf4e(0x497)]=(0x0,tr[_0x5baf4e(0x5d9)])(),this[_0x5baf4e(0x497)][_0x5baf4e(0x510)](this[_0x5baf4e(0x602)](_0x5baf4e(0x419)),..._0x508f98,async(_0x3165a,_0x35ebfd)=>{const _0x118aee=_0x5baf4e;let _0x2766af=await this['dataValidate']({'request':_0x3165a,'schema':Ga,'ClassRef':Ze,'execute':(_0x2ed4f8,_0x4cba6e)=>q['createGroup'](_0x2ed4f8,_0x4cba6e)});_0x35ebfd[_0x118aee(0x254)](0xc9)[_0x118aee(0x439)](_0x2766af);})[_0x5baf4e(0x48f)](this[_0x5baf4e(0x602)]('updateGroupPicture'),..._0x508f98,async(_0x5f65a8,_0x26f503)=>{const _0x4bc4e6=_0x5baf4e;let _0x1d52b5=await this[_0x4bc4e6(0x5cd)]({'request':_0x5f65a8,'schema':Ha,'ClassRef':et,'execute':(_0x21a76e,_0x22a262)=>q[_0x4bc4e6(0x673)](_0x21a76e,_0x22a262)});_0x26f503['status'](0xc9)['json'](_0x1d52b5);})['put'](this[_0x5baf4e(0x602)](_0x5baf4e(0xeb)),..._0x508f98,async(_0x55f029,_0x3f91b4)=>{const _0x88c10c=_0x5baf4e;let _0x55c54b=await this['groupValidate']({'request':_0x55f029,'schema':Ka,'ClassRef':tt,'execute':(_0x2615ff,_0x59a6ab)=>q[_0x88c10c(0xeb)](_0x2615ff,_0x59a6ab)});_0x3f91b4[_0x88c10c(0x254)](0xc9)[_0x88c10c(0x439)](_0x55c54b);})[_0x5baf4e(0x48f)](this[_0x5baf4e(0x602)]('groupName'),..._0x508f98,async(_0x53b345,_0x4b0355)=>{const _0x1cba89=_0x5baf4e;let _0x21b658=await this[_0x1cba89(0x5cd)]({'request':_0x53b345,'schema':Qa,'ClassRef':st,'execute':(_0x15cbb2,_0x5f2f3c)=>q[_0x1cba89(0x142)](_0x15cbb2,_0x5f2f3c)});_0x4b0355[_0x1cba89(0x254)](0xc9)['json'](_0x21b658);})[_0x5baf4e(0x48f)](this[_0x5baf4e(0x602)](_0x5baf4e(0x105)),..._0x508f98,async(_0x164454,_0xeea540)=>{const _0x3e3380=_0x5baf4e;let _0x136a71=await this['groupValidate']({'request':_0x164454,'schema':Ya,'ClassRef':at,'execute':(_0x5e6d3d,_0x13b5fa)=>q['groupSetting'](_0x5e6d3d,_0x13b5fa)});_0xeea540[_0x3e3380(0x254)](0xc9)[_0x3e3380(0x439)](_0x136a71);})[_0x5baf4e(0x48f)](this[_0x5baf4e(0x602)](_0x5baf4e(0x18b)),..._0x508f98,async(_0x18691c,_0x3aacfd)=>{const _0x303e25=_0x5baf4e;let _0x47f8e4=await this[_0x303e25(0x5cd)]({'request':_0x18691c,'schema':za,'ClassRef':it,'execute':(_0x4126fe,_0xcf61c2)=>q[_0x303e25(0x18b)](_0x4126fe,_0xcf61c2)});_0x3aacfd['status'](0xc9)[_0x303e25(0x439)](_0x47f8e4);})[_0x5baf4e(0x208)](this[_0x5baf4e(0x602)]('findGroupInfos'),..._0x508f98,async(_0x21b1c1,_0x4b8de1)=>{const _0x4098e3=_0x5baf4e;let _0x3bf85e=await this[_0x4098e3(0x5cd)]({'request':_0x21b1c1,'schema':Ee,'ClassRef':Y,'execute':(_0x4c1e9b,_0x469c5a)=>q[_0x4098e3(0x242)](_0x4c1e9b,_0x469c5a)});_0x4b8de1['status'](0xc8)[_0x4098e3(0x439)](_0x3bf85e);})[_0x5baf4e(0x208)](this[_0x5baf4e(0x602)](_0x5baf4e(0x3e4)),..._0x508f98,async(_0x19bc2a,_0x269535)=>{const _0xb8a84e=_0x5baf4e;let _0x16b346=await this[_0xb8a84e(0x2f8)]({'request':_0x19bc2a,'schema':M,'ClassRef':E,'execute':_0x2423fe=>q[_0xb8a84e(0x3e4)](_0x2423fe)});_0x269535[_0xb8a84e(0x254)](0xc8)['json'](_0x16b346);})[_0x5baf4e(0x208)](this[_0x5baf4e(0x602)](_0x5baf4e(0x55b)),..._0x508f98,async(_0x4df975,_0x21f3a8)=>{const _0x42c0ad=_0x5baf4e;let _0x4477e9=await this[_0x42c0ad(0x5cd)]({'request':_0x4df975,'schema':Ee,'ClassRef':Y,'execute':(_0x4fc420,_0x1b3d18)=>q['findParticipants'](_0x4fc420,_0x1b3d18)});_0x21f3a8[_0x42c0ad(0x254)](0xc8)[_0x42c0ad(0x439)](_0x4477e9);})['get'](this[_0x5baf4e(0x602)]('inviteCode'),..._0x508f98,async(_0x2d666e,_0x135c93)=>{const _0x1b5ef6=_0x5baf4e;let _0x5d4662=await this[_0x1b5ef6(0x5cd)]({'request':_0x2d666e,'schema':Ee,'ClassRef':Y,'execute':(_0xa9ab18,_0x5fb3f1)=>q['inviteCode'](_0xa9ab18,_0x5fb3f1)});_0x135c93[_0x1b5ef6(0x254)](0xc8)[_0x1b5ef6(0x439)](_0x5d4662);})[_0x5baf4e(0x48f)](this[_0x5baf4e(0x602)](_0x5baf4e(0xa2)),..._0x508f98,async(_0x55e523,_0x41cc62)=>{const _0x59c9cb=_0x5baf4e;let _0x15429b=await this[_0x59c9cb(0x1b4)]({'request':_0x55e523,'schema':Xa,'ClassRef':rt,'execute':(_0x270194,_0x34aa40)=>q[_0x59c9cb(0xa2)](_0x270194,_0x34aa40)});_0x41cc62[_0x59c9cb(0x254)](0xc9)['json'](_0x15429b);})[_0x5baf4e(0x48f)](this[_0x5baf4e(0x602)](_0x5baf4e(0x590)),..._0x508f98,async(_0x32ae63,_0x44e99e)=>{const _0x24cf55=_0x5baf4e;let _0x3ecc70=await this['groupValidate']({'request':_0x32ae63,'schema':Ee,'ClassRef':Y,'execute':(_0x3e745b,_0x185480)=>q[_0x24cf55(0x590)](_0x3e745b,_0x185480)});_0x44e99e['status'](0xc9)[_0x24cf55(0x439)](_0x3ecc70);})[_0x5baf4e(0x48f)](this[_0x5baf4e(0x602)]('updateParticipant'),..._0x508f98,async(_0x4632a0,_0xce71c5)=>{const _0x2ea845=_0x5baf4e;let _0x11ccf4=await this['groupValidate']({'request':_0x4632a0,'schema':Wa,'ClassRef':ot,'execute':(_0x2857ae,_0x4bac17)=>q[_0x2ea845(0x153)](_0x2857ae,_0x4bac17)});_0xce71c5[_0x2ea845(0x254)](0xc9)[_0x2ea845(0x439)](_0x11ccf4);})[_0x5baf4e(0x5c3)](this[_0x5baf4e(0x602)](_0x5baf4e(0x1f7)),..._0x508f98,async(_0x1ef119,_0x77cadc)=>{const _0x4c9956=_0x5baf4e;let _0x2eb3e9=await this[_0x4c9956(0x5cd)]({'request':_0x1ef119,'schema':{},'ClassRef':Y,'execute':(_0x36c56e,_0x259dbb)=>q[_0x4c9956(0x1f7)](_0x36c56e,_0x259dbb)});_0x77cadc[_0x4c9956(0x254)](0xc8)[_0x4c9956(0x439)](_0x2eb3e9);});}},sr=require(a0_0x13f4c8(0x2cb)),ct=class extends U{constructor(_0xbf82fa,..._0x25603e){const _0x3b5231=a0_0x13f4c8;super(),this[_0x3b5231(0x5af)]=_0xbf82fa,this['router']=(0x0,sr[_0x3b5231(0x5d9)])();let _0x3612ec=_0xbf82fa[_0x3b5231(0x208)]('AUTHENTICATION');this[_0x3b5231(0x497)]['post'](_0x3b5231(0x3e1),..._0x25603e,async(_0x6021e5,_0x364236)=>{const _0x484bcb=_0x3b5231;let {instanceName:_0x418e3a,apikey:_0x5034ed,number:_0x4bb462}=_0x6021e5['body'],_0x1f058c=await le['createInstance']({'instanceName':_0x418e3a,'apikey':_0x5034ed,'number':_0x4bb462});return _0x364236[_0x484bcb(0x254)](0xc9)[_0x484bcb(0x439)](_0x1f058c);})[_0x3b5231(0x48f)](this[_0x3b5231(0x602)](_0x3b5231(0x82)),..._0x25603e,async(_0x32fd60,_0x58220a)=>{const _0x3b78cc=_0x3b5231;let _0x338d0d=await this[_0x3b78cc(0x2f8)]({'request':_0x32fd60,'schema':M,'ClassRef':E,'execute':_0x1d40e3=>le[_0x3b78cc(0x24b)](_0x1d40e3)});return _0x58220a[_0x3b78cc(0x254)](0xc8)['json'](_0x338d0d);})[_0x3b5231(0x208)](this['routerPath'](_0x3b5231(0x21b)),..._0x25603e,async(_0x2a7723,_0x3a3b49)=>{const _0x2bf867=_0x3b5231;let _0x467bbb=await this[_0x2bf867(0x2f8)]({'request':_0x2a7723,'schema':M,'ClassRef':E,'execute':_0x51e2ba=>le['connectionState'](_0x51e2ba)});return _0x3a3b49[_0x2bf867(0x254)](0xc8)[_0x2bf867(0x439)](_0x467bbb);})['get'](this[_0x3b5231(0x602)](_0x3b5231(0x653),!0x1),..._0x25603e,async(_0x18ec54,_0x585157)=>{const _0x372484=_0x3b5231;let _0x2e1cd4=await this['dataValidate']({'request':_0x18ec54,'schema':null,'ClassRef':E,'execute':_0x4bd804=>le[_0x372484(0x653)](_0x4bd804)});return _0x585157[_0x372484(0x254)](0xc8)['json'](_0x2e1cd4);})[_0x3b5231(0x5c3)](this[_0x3b5231(0x602)]('logout'),..._0x25603e,async(_0x4dbc7d,_0x23d33d)=>{const _0x2c6845=_0x3b5231;let _0x38be27=await this[_0x2c6845(0x2f8)]({'request':_0x4dbc7d,'schema':M,'ClassRef':E,'execute':_0x307278=>le['logout'](_0x307278)});return _0x23d33d['status'](0xc8)['json'](_0x38be27);})[_0x3b5231(0x5c3)](this[_0x3b5231(0x602)](_0x3b5231(0x5c3)),..._0x25603e,async(_0x532627,_0x24be76)=>{const _0x4fec83=_0x3b5231;let _0x31fc86=await this[_0x4fec83(0x2f8)]({'request':_0x532627,'schema':M,'ClassRef':E,'execute':_0x326bf8=>le['deleteInstance'](_0x326bf8)});return _0x24be76[_0x4fec83(0x254)](0xc8)[_0x4fec83(0x439)](_0x31fc86);});}},ar=require(a0_0x13f4c8(0x2cb)),gs=class{},W=class extends gs{},lt=class extends W{},ut=class extends W{},dt=class extends W{},pt=class extends W{},Ce=class extends W{},gt=class extends W{},ht=class extends W{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class{},bt=class extends U{constructor(..._0x3a523d){const _0x4b66bf=a0_0x13f4c8;super(),this['router']=(0x0,ar['Router'])(),this[_0x4b66bf(0x497)][_0x4b66bf(0x510)](this['routerPath'](_0x4b66bf(0x326)),..._0x3a523d,async(_0x56daaa,_0x2a2dd0)=>{const _0x4374aa=_0x4b66bf;let _0xdba483=await this[_0x4374aa(0x2f8)]({'request':_0x56daaa,'schema':Ea,'ClassRef':lt,'execute':(_0x5da461,_0x30e920)=>G[_0x4374aa(0x326)](_0x5da461,_0x30e920)});return _0x2a2dd0['status'](0xc9)[_0x4374aa(0x439)](_0xdba483);})[_0x4b66bf(0x510)](this[_0x4b66bf(0x602)]('sendMedia'),..._0x3a523d,async(_0x415de3,_0x41e2e3)=>{const _0x5503d4=_0x4b66bf;let _0xa04406=await this[_0x5503d4(0x2f8)]({'request':_0x415de3,'schema':Na,'ClassRef':Ce,'execute':(_0x1ba609,_0x25995a)=>G[_0x5503d4(0x3ec)](_0x1ba609,_0x25995a)});return _0x41e2e3[_0x5503d4(0x254)](0xc9)[_0x5503d4(0x439)](_0xa04406);})['post'](this['routerPath'](_0x4b66bf(0xa4)),..._0x3a523d,async(_0x1e44a9,_0x3e1065)=>{const _0x2e71e1=_0x4b66bf;let _0xabe273=await this[_0x2e71e1(0x2f8)]({'request':_0x1e44a9,'schema':Aa,'ClassRef':pt,'execute':(_0x446ac0,_0x1d3685)=>G[_0x2e71e1(0xa4)](_0x446ac0,_0x1d3685)});return _0x3e1065[_0x2e71e1(0x254)](0xc9)[_0x2e71e1(0x439)](_0xabe273);})[_0x4b66bf(0x510)](this['routerPath']('sendWhatsAppAudio'),..._0x3a523d,async(_0x3c7b0e,_0x1d9391)=>{const _0x292576=_0x4b66bf;let _0x55e0a4=await this[_0x292576(0x2f8)]({'request':_0x3c7b0e,'schema':Ra,'ClassRef':Ce,'execute':(_0x58da62,_0x9c7876)=>G[_0x292576(0x406)](_0x58da62,_0x9c7876)});return _0x1d9391[_0x292576(0x254)](0xc9)[_0x292576(0x439)](_0x55e0a4);})['post'](this[_0x4b66bf(0x602)](_0x4b66bf(0x4c7)),..._0x3a523d,async(_0x36f71d,_0x395804)=>{const _0x2ef48c=_0x4b66bf;let _0x22b348=await this[_0x2ef48c(0x2f8)]({'request':_0x36f71d,'schema':Oa,'ClassRef':ht,'execute':(_0x59693f,_0x20866f)=>G['sendButtons'](_0x59693f,_0x20866f)});return _0x395804[_0x2ef48c(0x254)](0xc9)['json'](_0x22b348);})[_0x4b66bf(0x510)](this['routerPath'](_0x4b66bf(0x433)),..._0x3a523d,async(_0x1c7258,_0x59ae29)=>{const _0x3d7e50=_0x4b66bf;let _0x4bd53f=await this[_0x3d7e50(0x2f8)]({'request':_0x1c7258,'schema':Ia,'ClassRef':mt,'execute':(_0x1dbe90,_0x147904)=>G['sendLocation'](_0x1dbe90,_0x147904)});return _0x59ae29['status'](0xc9)[_0x3d7e50(0x439)](_0x4bd53f);})['post'](this[_0x4b66bf(0x602)]('sendList'),..._0x3a523d,async(_0x218d10,_0x42998e)=>{const _0x4c94bd=_0x4b66bf;let _0x1a7664=await this['dataValidate']({'request':_0x218d10,'schema':xa,'ClassRef':ft,'execute':(_0x3db038,_0x149d1a)=>G[_0x4c94bd(0x496)](_0x3db038,_0x149d1a)});return _0x42998e[_0x4c94bd(0x254)](0xc9)[_0x4c94bd(0x439)](_0x1a7664);})[_0x4b66bf(0x510)](this['routerPath']('sendContact'),..._0x3a523d,async(_0xb98db0,_0x359c1d)=>{const _0x4c1114=_0x4b66bf;let _0x5b6b8b=await this[_0x4c1114(0x2f8)]({'request':_0xb98db0,'schema':Da,'ClassRef':wt,'execute':(_0x28b5e2,_0x367b92)=>G['sendContact'](_0x28b5e2,_0x367b92)});return _0x359c1d['status'](0xc9)[_0x4c1114(0x439)](_0x5b6b8b);})[_0x4b66bf(0x510)](this[_0x4b66bf(0x602)]('sendReaction'),..._0x3a523d,async(_0x4813ac,_0x23d453)=>{const _0x160249=_0x4b66bf;let _0xc4a040=await this['dataValidate']({'request':_0x4813ac,'schema':_a,'ClassRef':yt,'execute':(_0x1a18b8,_0xc67bb1)=>G[_0x160249(0x331)](_0x1a18b8,_0xc67bb1)});return _0x23d453[_0x160249(0x254)](0xc9)[_0x160249(0x439)](_0xc4a040);})[_0x4b66bf(0x510)](this[_0x4b66bf(0x602)](_0x4b66bf(0x173)),..._0x3a523d,async(_0x2980f4,_0x546e9e)=>{const _0xd4e52e=_0x4b66bf;let _0x125ae2=await this[_0xd4e52e(0x2f8)]({'request':_0x2980f4,'schema':Ta,'ClassRef':dt,'execute':(_0x214357,_0x454d45)=>G[_0xd4e52e(0x173)](_0x214357,_0x454d45)});return _0x546e9e[_0xd4e52e(0x254)](0xc9)['json'](_0x125ae2);})[_0x4b66bf(0x510)](this[_0x4b66bf(0x602)](_0x4b66bf(0x57e)),..._0x3a523d,async(_0xa6e661,_0xea2d39)=>{const _0x3dd4fa=_0x4b66bf;let _0x324208=await this[_0x3dd4fa(0x2f8)]({'request':_0xa6e661,'schema':va,'ClassRef':ut,'execute':(_0x2c99a4,_0x123e26)=>G[_0x3dd4fa(0x57e)](_0x2c99a4,_0x123e26)});return _0xea2d39['status'](0xc9)[_0x3dd4fa(0x439)](_0x324208);})[_0x4b66bf(0x510)](this[_0x4b66bf(0x602)](_0x4b66bf(0x141)),..._0x3a523d,async(_0x2d2e87,_0x3592f5)=>{const _0x27c434=_0x4b66bf;let _0x364502=await this['dataValidate']({'request':_0x2d2e87,'schema':Ma,'ClassRef':gt,'execute':(_0x4ab4bb,_0x418e43)=>G[_0x27c434(0x141)](_0x4ab4bb,_0x418e43)});return _0x3592f5['status'](0xc9)[_0x27c434(0x439)](_0x364502);});}},rr=require(a0_0x13f4c8(0x2cb)),St=class{},Et=class extends U{constructor(..._0x8f7b59){const _0x43b4bf=a0_0x13f4c8;super(),this[_0x43b4bf(0x497)]=(0x0,rr[_0x43b4bf(0x5d9)])(),this[_0x43b4bf(0x497)][_0x43b4bf(0x510)](this[_0x43b4bf(0x602)]('set'),..._0x8f7b59,async(_0x488ba9,_0x59233b)=>{const _0x484eab=_0x43b4bf;let _0x39112f=await this[_0x484eab(0x2f8)]({'request':_0x488ba9,'schema':Za,'ClassRef':St,'execute':(_0x11cbf1,_0x3ef8d8)=>hs[_0x484eab(0x41b)](_0x11cbf1,_0x3ef8d8)});_0x59233b[_0x484eab(0x254)](0xc9)[_0x484eab(0x439)](_0x39112f);})[_0x43b4bf(0x208)](this['routerPath'](_0x43b4bf(0x39d)),..._0x8f7b59,async(_0x9ccc6,_0x1ca4ab)=>{const _0xff2bf8=_0x43b4bf;let _0x279662=await this[_0xff2bf8(0x2f8)]({'request':_0x9ccc6,'schema':M,'ClassRef':E,'execute':_0xe4cc27=>hs['findWebhook'](_0xe4cc27)});_0x1ca4ab['status'](0xc8)[_0xff2bf8(0x439)](_0x279662);});}},or=require(a0_0x13f4c8(0x2cb)),f=new v(a0_0x13f4c8(0x28b)),Ct=class extends U{constructor(..._0x2c999d){const _0x433479=a0_0x13f4c8;super(),this[_0x433479(0x497)]=(0x0,or[_0x433479(0x5d9)])(),this['router']['post'](this[_0x433479(0x602)]('scheduleMessage'),..._0x2c999d,async(_0x482e3b,_0xc55ad4)=>{const _0xb47b3d=_0x433479;let _0x3c7006=_0x482e3b[_0xb47b3d(0xc9)];f[_0xb47b3d(0x41a)](_0xb47b3d(0x3fa)),f['verbose'](_0xb47b3d(0x441)),f['verbose'](_0x482e3b[_0xb47b3d(0xc9)]);let _0x13c972=await this[_0xb47b3d(0x2f8)]({'request':_0x482e3b,'schema':M,'ClassRef':E,'execute':_0xec4c97=>T['editScheduleMessage'](_0xec4c97,_0x3c7006)});_0xc55ad4['status'](0xc8)[_0xb47b3d(0x439)](_0x13c972);})[_0x433479(0x208)](this[_0x433479(0x602)]('scheduleMessage'),..._0x2c999d,async(_0x134c14,_0x3bf8b9)=>{const _0x5796af=_0x433479;let _0x5d5824=await this[_0x5796af(0x2f8)]({'request':_0x134c14,'schema':M,'ClassRef':E,'execute':_0x1c1218=>T[_0x5796af(0xd5)](_0x1c1218)});_0x3bf8b9[_0x5796af(0x254)](0xc8)['json'](_0x5d5824);})[_0x433479(0x5c3)](this[_0x433479(0x602)]('deleteDoneMessages'),..._0x2c999d,async(_0x208bd7,_0x4f1a34)=>{const _0xba5ce0=_0x433479;f['verbose'](_0xba5ce0(0x64b));let _0x11e608=await this[_0xba5ce0(0x2f8)]({'request':_0x208bd7,'schema':M,'ClassRef':E,'execute':_0x486b93=>T['deleteDoneMessages'](_0x486b93)});_0x4f1a34[_0xba5ce0(0x254)](0xc8)['json'](_0x11e608);})[_0x433479(0x510)](this[_0x433479(0x602)](_0x433479(0x46f)),..._0x2c999d,async(_0x202791,_0x22b95e)=>{const _0x2a291b=_0x433479;let _0x4fa56e=_0x202791[_0x2a291b(0xc9)];f[_0x2a291b(0x41a)](_0x2a291b(0x4e3)),f['verbose'](_0x2a291b(0x441)),f['verbose'](_0x202791[_0x2a291b(0xc9)]);let _0x181c75=await this[_0x2a291b(0x2f8)]({'request':_0x202791,'schema':M,'ClassRef':E,'execute':_0x5e459e=>T['startFlow'](_0x5e459e,_0x4fa56e)});_0x22b95e['status'](0xc8)['json'](_0x181c75);})[_0x433479(0x208)](this[_0x433479(0x602)](_0x433479(0xb7)),..._0x2c999d,async(_0x4b1620,_0x370c90)=>{const _0x2dcbb4=_0x433479;f[_0x2dcbb4(0x41a)](_0x2dcbb4(0x64f));let _0x3bc272=await this[_0x2dcbb4(0x2f8)]({'request':_0x4b1620,'schema':M,'ClassRef':E,'execute':_0x709c0b=>T[_0x2dcbb4(0xb7)](_0x709c0b)});_0x370c90[_0x2dcbb4(0x254)](0xc8)[_0x2dcbb4(0x439)](_0x3bc272);})['get'](this[_0x433479(0x602)](_0x433479(0x589)),..._0x2c999d,async(_0x4e6e7c,_0x3a8e6c)=>{const _0x5da22e=_0x433479;f[_0x5da22e(0x41a)](_0x5da22e(0x6ae));let _0x1f4324=await this[_0x5da22e(0x2f8)]({'request':_0x4e6e7c,'schema':M,'ClassRef':E,'execute':_0x115eb4=>T[_0x5da22e(0xb7)](_0x115eb4)});_0x3a8e6c['status'](0xc8)[_0x5da22e(0x439)](_0x1f4324);})[_0x433479(0x510)](this[_0x433479(0x602)](_0x433479(0x4df)),..._0x2c999d,async(_0x23d36a,_0x2ba272)=>{const _0xd03091=_0x433479;let _0x52e5cd=_0x23d36a[_0xd03091(0xc9)];f['verbose']('request\x20received\x20in\x20updateAgent'),f['verbose'](_0xd03091(0x441)),f[_0xd03091(0x41a)](_0x23d36a[_0xd03091(0xc9)]);let _0x4f79a9=await this[_0xd03091(0x2f8)]({'request':_0x23d36a,'schema':M,'ClassRef':E,'execute':_0x4eaabe=>T[_0xd03091(0x4df)](_0x4eaabe,_0x52e5cd)});_0x2ba272[_0xd03091(0x254)](0xc8)[_0xd03091(0x439)](_0x4f79a9);})[_0x433479(0x510)](this[_0x433479(0x602)](_0x433479(0x3b5)),..._0x2c999d,async(_0x321b7e,_0x16eb9c)=>{const _0x5f4d66=_0x433479;let _0x5e0a54=_0x321b7e['body'];f[_0x5f4d66(0x41a)]('request\x20received\x20in\x20updateCustomFields'),f[_0x5f4d66(0x41a)](_0x5f4d66(0x441)),f[_0x5f4d66(0x41a)](_0x321b7e['body']);let _0x5be8af=await this[_0x5f4d66(0x2f8)]({'request':_0x321b7e,'schema':M,'ClassRef':E,'execute':_0x3cb465=>T[_0x5f4d66(0x3b5)](_0x3cb465,_0x5e0a54)});_0x16eb9c[_0x5f4d66(0x254)](0xc8)[_0x5f4d66(0x439)](_0x5be8af);})[_0x433479(0x510)](this[_0x433479(0x602)](_0x433479(0x157)),..._0x2c999d,async(_0x4aefcb,_0x1c0d6d)=>{const _0x3fe270=_0x433479;let _0xe7f2a1=_0x4aefcb[_0x3fe270(0xc9)];f[_0x3fe270(0x41a)]('request\x20received\x20in\x20updateFlowConfig'),f['verbose'](_0x3fe270(0x441)),f[_0x3fe270(0x41a)](_0x4aefcb[_0x3fe270(0xc9)]);let _0x3697e7=await this['dataValidate']({'request':_0x4aefcb,'schema':M,'ClassRef':E,'execute':_0x55bf3f=>T[_0x3fe270(0x157)](_0x55bf3f,_0xe7f2a1)});_0x1c0d6d[_0x3fe270(0x254)](0xc8)['json'](_0x3697e7);})[_0x433479(0x510)](this[_0x433479(0x602)](_0x433479(0x21d)),..._0x2c999d,async(_0x46059c,_0x1b2afa)=>{const _0x48ac0e=_0x433479;let _0x361b04=_0x46059c['body'];f['verbose'](_0x48ac0e(0x596)),f[_0x48ac0e(0x41a)](_0x48ac0e(0x441)),f[_0x48ac0e(0x41a)](_0x46059c[_0x48ac0e(0xc9)]);let _0x191e2a=await this[_0x48ac0e(0x2f8)]({'request':_0x46059c,'schema':M,'ClassRef':E,'execute':_0x1f4f31=>T[_0x48ac0e(0x21d)](_0x1f4f31,_0x361b04)});_0x1b2afa[_0x48ac0e(0x254)](0xc8)['json'](_0x191e2a);})[_0x433479(0x510)](this[_0x433479(0x602)](_0x433479(0x388)),..._0x2c999d,async(_0x108e87,_0x25d771)=>{const _0x1b62b1=_0x433479;let _0x419e62=_0x108e87['body'];f[_0x1b62b1(0x41a)](_0x1b62b1(0x680)),f['verbose'](_0x1b62b1(0x441)),f[_0x1b62b1(0x41a)](_0x108e87[_0x1b62b1(0xc9)]);let _0x48ad01=await this[_0x1b62b1(0x2f8)]({'request':_0x108e87,'schema':M,'ClassRef':E,'execute':_0x5ce9e9=>T['fetchConversation'](_0x5ce9e9,_0x419e62)});_0x25d771[_0x1b62b1(0x254)](0xc8)[_0x1b62b1(0x439)](_0x48ad01);})[_0x433479(0x510)](this[_0x433479(0x602)](_0x433479(0x226)),..._0x2c999d,async(_0x7281aa,_0x28903c)=>{const _0x44e339=_0x433479;let _0x269dde=_0x7281aa[_0x44e339(0xc9)];f[_0x44e339(0x41a)](_0x44e339(0x1f8)),f['verbose'](_0x44e339(0x441)),f[_0x44e339(0x41a)](_0x7281aa[_0x44e339(0xc9)]);let _0x1881b3=await this[_0x44e339(0x2f8)]({'request':_0x7281aa,'schema':M,'ClassRef':E,'execute':_0x548ab8=>T['editConversation'](_0x548ab8,_0x269dde)});_0x28903c[_0x44e339(0x254)](0xc8)['json'](_0x1881b3);})[_0x433479(0x5c3)](this[_0x433479(0x602)]('deleteConversation'),..._0x2c999d,async(_0x2300ab,_0x4368ff)=>{const _0x3c6578=_0x433479;let _0x254528=_0x2300ab[_0x3c6578(0xc9)];f[_0x3c6578(0x41a)](_0x3c6578(0x48b)),f['verbose']('request\x20body:\x20'),f[_0x3c6578(0x41a)](_0x2300ab['body']);let _0x34a496=await this[_0x3c6578(0x2f8)]({'request':_0x2300ab,'schema':M,'ClassRef':E,'execute':_0x5dfa4c=>T[_0x3c6578(0x3fd)](_0x5dfa4c,_0x254528)});_0x4368ff[_0x3c6578(0x254)](0xc8)[_0x3c6578(0x439)](_0x34a496);})[_0x433479(0x510)](this[_0x433479(0x602)](_0x433479(0xc2)),..._0x2c999d,async(_0x34eb67,_0x5dc66c)=>{const _0x4b149c=_0x433479;let _0x2fbf42=_0x34eb67[_0x4b149c(0xc9)];f[_0x4b149c(0x41a)]('request\x20received\x20in\x20createFlow'),f[_0x4b149c(0x41a)](_0x4b149c(0x441)),f[_0x4b149c(0x41a)](_0x34eb67[_0x4b149c(0xc9)]);let _0xbb9c84=await this[_0x4b149c(0x2f8)]({'request':_0x34eb67,'schema':M,'ClassRef':E,'execute':_0x1c716e=>T[_0x4b149c(0x202)](_0x1c716e,_0x2fbf42)});_0x5dc66c['status'](0xc8)[_0x4b149c(0x439)](_0xbb9c84);})[_0x433479(0x510)](this[_0x433479(0x602)](_0x433479(0x38e)),..._0x2c999d,async(_0x1f6bd5,_0x3c17d9)=>{const _0x3bf837=_0x433479;let _0x1bf61c=_0x1f6bd5[_0x3bf837(0xc9)];f['verbose']('request\x20received\x20in\x20editFlow'),f['verbose']('request\x20body:\x20'),f[_0x3bf837(0x41a)](_0x1f6bd5[_0x3bf837(0xc9)]),delete _0x1bf61c[_0x3bf837(0x380)],delete _0x1bf61c[_0x3bf837(0x415)],delete _0x1bf61c['groups'],delete _0x1bf61c[_0x3bf837(0x77)];let _0x2861fc=await this[_0x3bf837(0x2f8)]({'request':_0x1f6bd5,'schema':M,'ClassRef':E,'execute':_0x22cc7c=>T[_0x3bf837(0x4fa)](_0x22cc7c,_0x1bf61c)});_0x3c17d9[_0x3bf837(0x254)](0xc8)['json'](_0x2861fc);})['post'](this[_0x433479(0x602)](_0x433479(0x3e6)),..._0x2c999d,async(_0x19bc5a,_0x4b8817)=>{const _0x3c70f1=_0x433479;let _0x510499=_0x19bc5a['body'];f[_0x3c70f1(0x41a)]('request\x20received\x20in\x20editFlow'),f[_0x3c70f1(0x41a)](_0x3c70f1(0x441)),f[_0x3c70f1(0x41a)](_0x19bc5a['body']);let _0x1dac7c=await this[_0x3c70f1(0x2f8)]({'request':_0x19bc5a,'schema':M,'ClassRef':E,'execute':_0x3d4492=>T['editFlowBlock'](_0x3d4492,_0x510499)});_0x4b8817['status'](0xc8)['json'](_0x1dac7c);})['post'](this[_0x433479(0x602)](_0x433479(0x420)),..._0x2c999d,async(_0x4dde8b,_0x33617b)=>{const _0x55ce56=_0x433479;let _0x3264f0=_0x4dde8b['body'];f[_0x55ce56(0x41a)](_0x55ce56(0x120)),f[_0x55ce56(0x41a)](_0x55ce56(0x441)),f[_0x55ce56(0x41a)](_0x4dde8b[_0x55ce56(0xc9)]);let _0x13e1b5=await this[_0x55ce56(0x2f8)]({'request':_0x4dde8b,'schema':M,'ClassRef':E,'execute':_0x2a15ac=>T['editFlowReply'](_0x2a15ac,_0x3264f0)});_0x33617b[_0x55ce56(0x254)](0xc8)[_0x55ce56(0x439)](_0x13e1b5);})[_0x433479(0x510)](this[_0x433479(0x602)](_0x433479(0x2fe)),..._0x2c999d,async(_0x177d4b,_0x116985)=>{const _0x1ff030=_0x433479;let _0x6afdbe=_0x177d4b[_0x1ff030(0xc9)];f[_0x1ff030(0x41a)](_0x1ff030(0x120)),f[_0x1ff030(0x41a)](_0x1ff030(0x441)),f['verbose'](_0x177d4b[_0x1ff030(0xc9)]);let _0xaf650e=await this[_0x1ff030(0x2f8)]({'request':_0x177d4b,'schema':M,'ClassRef':E,'execute':_0xabc2ca=>T['editFlowVaredit'](_0xabc2ca,_0x6afdbe)});_0x116985['status'](0xc8)[_0x1ff030(0x439)](_0xaf650e);})['post'](this[_0x433479(0x602)](_0x433479(0x2fb)),..._0x2c999d,async(_0x209cc6,_0x166f53)=>{const _0x2c62c1=_0x433479;let _0x5e6276=_0x209cc6[_0x2c62c1(0xc9)];f['verbose'](_0x2c62c1(0x3f9)),f[_0x2c62c1(0x41a)]('request\x20body:\x20'),f[_0x2c62c1(0x41a)](_0x209cc6[_0x2c62c1(0xc9)]);let _0x1369d2=await this[_0x2c62c1(0x2f8)]({'request':_0x209cc6,'schema':M,'ClassRef':E,'execute':_0x135ceb=>T[_0x2c62c1(0x4d4)](_0x135ceb,_0x5e6276)});_0x166f53[_0x2c62c1(0x254)](0xc8)[_0x2c62c1(0x439)](_0x1369d2);})[_0x433479(0x510)](this[_0x433479(0x602)](_0x433479(0x194)),..._0x2c999d,async(_0x36e361,_0x5f2aa5)=>{const _0x3d1887=_0x433479;let _0x50ba51=_0x36e361[_0x3d1887(0xc9)];f['verbose']('request\x20received\x20in\x20editFlowcondition'),f[_0x3d1887(0x41a)](_0x3d1887(0x441)),f[_0x3d1887(0x41a)](_0x36e361['body']);let _0x169cdd=await this['dataValidate']({'request':_0x36e361,'schema':M,'ClassRef':E,'execute':_0x40f27a=>T[_0x3d1887(0x40a)](_0x40f27a,_0x50ba51)});_0x5f2aa5[_0x3d1887(0x254)](0xc8)['json'](_0x169cdd);})[_0x433479(0x510)](this['routerPath'](_0x433479(0x228)),..._0x2c999d,async(_0x4c7863,_0x50df68)=>{const _0x1be064=_0x433479;let _0x68357a=_0x4c7863[_0x1be064(0xc9)];f[_0x1be064(0x41a)]('request\x20received\x20in\x20editFlowvariable'),f[_0x1be064(0x41a)](_0x1be064(0x441)),f[_0x1be064(0x41a)](_0x4c7863[_0x1be064(0xc9)]);let _0x3f8a5a=await this[_0x1be064(0x2f8)]({'request':_0x4c7863,'schema':M,'ClassRef':E,'execute':_0x4187f9=>T[_0x1be064(0x672)](_0x4187f9,_0x68357a)});_0x50df68[_0x1be064(0x254)](0xc8)[_0x1be064(0x439)](_0x3f8a5a);})[_0x433479(0x510)](this[_0x433479(0x602)](_0x433479(0x48d)),..._0x2c999d,async(_0x3e20df,_0x1eec15)=>{const _0xeb4bc0=_0x433479;let _0x2a2a31=_0x3e20df['body'];f[_0xeb4bc0(0x41a)](_0xeb4bc0(0x524)),f[_0xeb4bc0(0x41a)](_0xeb4bc0(0x441)),f[_0xeb4bc0(0x41a)](_0x3e20df[_0xeb4bc0(0xc9)]);let _0x21be25=await this[_0xeb4bc0(0x2f8)]({'request':_0x3e20df,'schema':M,'ClassRef':E,'execute':_0x422f74=>T['getFlow'](_0x422f74,_0x2a2a31)});_0x1eec15[_0xeb4bc0(0x254)](0xc8)[_0xeb4bc0(0x439)](_0x21be25);})[_0x433479(0x5c3)](this[_0x433479(0x602)](_0x433479(0x686)),..._0x2c999d,async(_0x1734e0,_0x4d2195)=>{const _0x28ea85=_0x433479;let _0x18b4aa=_0x1734e0[_0x28ea85(0xc9)];f[_0x28ea85(0x41a)](_0x28ea85(0x472)),f[_0x28ea85(0x41a)](_0x28ea85(0x441)),f['verbose'](_0x1734e0[_0x28ea85(0xc9)]);let _0x4bb44b=await this['dataValidate']({'request':_0x1734e0,'schema':M,'ClassRef':E,'execute':_0x288a86=>T[_0x28ea85(0x107)](_0x288a86,_0x18b4aa)});_0x4d2195['status'](0xc8)[_0x28ea85(0x439)](_0x4bb44b);})[_0x433479(0x208)](this[_0x433479(0x602)]('allflows'),..._0x2c999d,async(_0x2da47b,_0x49df55)=>{const _0x3256ef=_0x433479;f[_0x3256ef(0x41a)](_0x3256ef(0x5e4));let _0x1f4436=await this[_0x3256ef(0x2f8)]({'request':_0x2da47b,'schema':M,'ClassRef':E,'execute':_0x1626d3=>T[_0x3256ef(0x517)](_0x1626d3)});_0x49df55['status'](0xc8)[_0x3256ef(0x439)](_0x1f4436);});}},lr=R(require(a0_0x13f4c8(0x22f))),X={};function ir(_0x5d5b02,_0x49aca4,_0x228b54,_0x2b818c){X[_0x5d5b02]||(X[_0x5d5b02]={}),X[_0x5d5b02][_0x49aca4]={'id':_0x49aca4,'response':_0x228b54,'events':_0x2b818c};}function nr(_0x364c9d,_0x50275f){!X[_0x364c9d]||!X[_0x364c9d][_0x50275f]||delete X[_0x364c9d][_0x50275f];}function J(_0x57c805,_0x5127bc,_0xf95fc){const _0x4f7aee=a0_0x13f4c8;if(!X[_0x57c805])return;let _0x353be0='data:\x20'+JSON['stringify'](_0xf95fc)+'\x0a\x0a';Object[_0x4f7aee(0x624)](X[_0x57c805])[_0x4f7aee(0x543)](_0x419e33=>{const _0x458f57=_0x4f7aee;_0x419e33[_0x458f57(0x264)][_0x458f57(0x542)](_0x5127bc)&&_0x419e33['response']['write'](_0x353be0);});}function cr(){const _0x13ea01=a0_0x13f4c8;let _0x5da872={};for(let _0x2ab501 in X)_0x5da872[_0x2ab501]=Object[_0x13ea01(0x624)](X[_0x2ab501])[_0x13ea01(0x35b)](_0x57694b=>({'id':_0x57694b['id'],'events':_0x57694b[_0x13ea01(0x264)]}));return _0x5da872;}var ur=require('uuid'),fs=require(a0_0x13f4c8(0x65b)),ms=class{},no=new fs[(a0_0x13f4c8(0x1fe))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),co=new fs[(a0_0x13f4c8(0x1fe))]({'_id':{'type':String,'default':a0_0x13f4c8(0x576)},'WebhookGlobal':{'type':no},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),we=N?.[a0_0x13f4c8(0x5ec)](ms[a0_0x13f4c8(0x5e2)],co,'All_Instances_Config'),lo=lr[a0_0x13f4c8(0x29d)]['join'](__dirname,a0_0x13f4c8(0x390)),vt=(0x0,Mt[a0_0x13f4c8(0x5d9)])(),uo=b[a0_0x13f4c8(0x208)](a0_0x13f4c8(0x3bb))['TYPE'],te=[fa,wa,Sa[uo]];vt[a0_0x13f4c8(0x1bb)](a0_0x13f4c8(0x4ff),Mt[a0_0x13f4c8(0x29d)][a0_0x13f4c8(0x454)](lo))['get'](a0_0x13f4c8(0x5bd),async(_0x4f71fe,_0x2efd62)=>{const _0x2d691b=a0_0x13f4c8;console[_0x2d691b(0x4e2)](_0x2d691b(0x437));let _0x504f5e=_0x4f71fe[_0x2d691b(0xaf)][_0x2d691b(0x571)],_0x35e318=(_0x4f71fe[_0x2d691b(0x1a1)][_0x2d691b(0x264)]||'')[_0x2d691b(0x545)](','),_0x1b4ef8=(0x0,ur['v4'])();console[_0x2d691b(0x4e2)](_0x2d691b(0x23c),_0x504f5e),console[_0x2d691b(0x4e2)]('Subscribed\x20Events:',_0x35e318);let _0xc9fd4b=b[_0x2d691b(0x208)]('AUTHENTICATION')[_0x2d691b(0x114)],_0x44b02d=_0x4f71fe[_0x2d691b(0x1a1)]['apikey'];if(console['log'](_0x2d691b(0x6b9),_0x44b02d),_0xc9fd4b['KEY']!==_0x44b02d){console[_0x2d691b(0x4e2)](_0x2d691b(0x35a));try{let _0x41bbe7=await ce[_0x2d691b(0x206)][_0x2d691b(0x39d)](_0x504f5e);if(console[_0x2d691b(0x4e2)](_0x2d691b(0x10d),_0x41bbe7),!_0x41bbe7||_0x41bbe7[_0x2d691b(0xe2)]!==_0x44b02d)return console[_0x2d691b(0x4e2)](_0x2d691b(0x512)),_0x2efd62[_0x2d691b(0x254)](0x191)['send']('API\x20Key\x20inválida.');}catch(_0x541833){return console[_0x2d691b(0x3d5)](_0x2d691b(0x66a),_0x541833),_0x2efd62[_0x2d691b(0x254)](0x191)['send'](_0x2d691b(0x5df));}}if(!await We(_0x504f5e))return _0x2efd62[_0x2d691b(0x254)](0x194)[_0x2d691b(0x6a0)](_0x2d691b(0x1e4));_0x2efd62[_0x2d691b(0x53e)]('Content-Type',_0x2d691b(0x3ad)),_0x2efd62[_0x2d691b(0x53e)]('Cache-Control',_0x2d691b(0x474)),_0x2efd62[_0x2d691b(0x53e)](_0x2d691b(0x329),_0x2d691b(0x481)),_0x2efd62[_0x2d691b(0x64c)]();let _0x527001=_0x2d691b(0x4f9)+JSON[_0x2d691b(0x33c)]({'info':_0x2d691b(0x117)})+'\x0a\x0a';_0x2efd62[_0x2d691b(0x3cd)](_0x527001),ir(_0x504f5e,_0x1b4ef8,_0x2efd62,_0x35e318),_0x4f71fe['on'](_0x2d691b(0x62f),()=>{const _0x4a134=_0x2d691b;console[_0x4a134(0x4e2)](_0x4a134(0x64e)+_0x504f5e),nr(_0x504f5e,_0x1b4ef8);});}),vt[a0_0x13f4c8(0x208)](a0_0x13f4c8(0x334),(_0x2950db,_0x54ea05)=>{const _0x47ea59=a0_0x13f4c8;let _0x44728c=cr();_0x54ea05[_0x47ea59(0x439)](_0x44728c);})['get']('/',(_0x5ac16b,_0x3d8fc9)=>{const _0x2b63e8=a0_0x13f4c8;let _0x51b986=b[_0x2b63e8(0x208)](_0x2b63e8(0x65a)),_0x40b969=_0x51b986&&_0x51b986[_0x2b63e8(0x610)][_0x2b63e8(0x545)]('/')[0x4];if(_0x40b969){let _0x487061=encodeURIComponent(_0x2b63e8(0x2e5)+_0x40b969);_0x3d8fc9['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x487061);}else _0x3d8fc9[_0x2b63e8(0x520)](_0x2b63e8(0x644));})[a0_0x13f4c8(0x48f)](a0_0x13f4c8(0x3a9),...te,async(_0x405a07,_0x47b751)=>{const _0x4c7b98=a0_0x13f4c8;try{console['log'](_0x4c7b98(0x85)),_0x47b751[_0x4c7b98(0x254)](0xc8)[_0x4c7b98(0x439)]({'message':_0x4c7b98(0x1df)}),_0x47b751['on']('finish',()=>process[_0x4c7b98(0x1d1)](0x0));}catch(_0x333fe9){console[_0x4c7b98(0x3d5)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x333fe9),_0x47b751['status'](0x1f4)[_0x4c7b98(0x439)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x13f4c8(0x48f)](a0_0x13f4c8(0x3c8),...te,async(_0x42f81a,_0x333746)=>{const _0x207146=a0_0x13f4c8;try{let _0x47de6b=_0x42f81a[_0x207146(0xc9)];await we[_0x207146(0x405)]({},{'$set':_0x47de6b},{'upsert':!0x0});let _0x5bc0bf=await we['findOne']();_0x333746[_0x207146(0x439)](_0x5bc0bf);}catch(_0x1c33f3){_0x333746['status'](0x190)[_0x207146(0x6a0)](_0x1c33f3[_0x207146(0x191)]);}})['get'](a0_0x13f4c8(0x3c8),...te,async(_0xc78f3d,_0x57b257)=>{const _0x288574=a0_0x13f4c8;try{let _0x41ea0a=await we[_0x288574(0x314)]();if(!_0x41ea0a)return _0x57b257['json']({});_0x57b257[_0x288574(0x439)](_0x41ea0a);}catch(_0x588408){_0x57b257[_0x288574(0x254)](0x1f4)[_0x288574(0x6a0)](_0x588408[_0x288574(0x191)]);}})[a0_0x13f4c8(0x1bb)](a0_0x13f4c8(0x1da),new ct(b,...te)[a0_0x13f4c8(0x497)])[a0_0x13f4c8(0x1bb)]('/message',new bt(...te)[a0_0x13f4c8(0x497)])[a0_0x13f4c8(0x1bb)](a0_0x13f4c8(0x60c),new Xe(...te)['router'])[a0_0x13f4c8(0x1bb)](a0_0x13f4c8(0x15d),new nt(...te)[a0_0x13f4c8(0x497)])[a0_0x13f4c8(0x1bb)](a0_0x13f4c8(0x614),new Et(...te)[a0_0x13f4c8(0x497)])[a0_0x13f4c8(0x1bb)](a0_0x13f4c8(0x493),new Ct(...te)['router']);var m=class{constructor(..._0x55f7ee){const _0x4e0afe=a0_0x13f4c8;throw{'status':0x190,'error':'Bad\x20Request','message':_0x55f7ee[_0x4e0afe(0xa3)]>0x0?_0x55f7ee:void 0x0};}},ee=class{constructor(..._0x36febf){const _0x414fb0=a0_0x13f4c8;throw{'status':0x191,'error':_0x414fb0(0x1d7),'message':_0x36febf[_0x414fb0(0xa3)]>0x0?_0x36febf:void 0x0};}},K=class{constructor(..._0x509d9b){const _0xdcd904=a0_0x13f4c8;throw{'status':0x193,'error':_0xdcd904(0x5c6),'message':_0x509d9b['length']>0x0?_0x509d9b:void 0x0};}},j=class{constructor(..._0x22b3aa){const _0xea0dd6=a0_0x13f4c8;throw{'status':0x194,'error':_0xea0dd6(0x75),'message':_0x22b3aa[_0xea0dd6(0xa3)]>0x0?_0x22b3aa:void 0x0};}},O=class{constructor(..._0x5e4d49){const _0x1d2881=a0_0x13f4c8;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x5e4d49[_0x1d2881(0xa3)]>0x0?_0x5e4d49:void 0x0};}},ue=require(a0_0x13f4c8(0x3c3));async function ws(_0x2490b6){const _0x2713c2=a0_0x13f4c8;let _0x2c5fbd=new v(ws['name']),_0x5e8f22=N['getClient'](),_0x3e87d3=_0x5e8f22['db'](b['get'](_0x2713c2(0x647))[_0x2713c2(0x3f2)][_0x2713c2(0x4ee)]+_0x2713c2(0x455))[_0x2713c2(0x466)](_0x2490b6),_0x5b11a0=async(_0x29d8d1,_0x3ad4b7)=>{const _0x4499ca=_0x2713c2;try{return await _0x5e8f22[_0x4499ca(0x28e)](),await _0x3e87d3[_0x4499ca(0x23b)]({'_id':_0x3ad4b7},JSON['parse'](JSON['stringify'](_0x29d8d1,ue[_0x4499ca(0xbd)][_0x4499ca(0x25d)])),{'upsert':!0x0});}catch{}},_0x29c137=async _0x1c2cda=>{const _0x53c833=_0x2713c2;try{await _0x5e8f22[_0x53c833(0x28e)]();let _0xe48461=await _0x3e87d3[_0x53c833(0x314)]({'_id':_0x1c2cda}),_0x5af397=JSON[_0x53c833(0x33c)](_0xe48461);return JSON['parse'](_0x5af397,ue[_0x53c833(0xbd)][_0x53c833(0x4d1)]);}catch{}},_0x2952a4=async _0x38c19b=>{const _0x56df4a=_0x2713c2;try{return await _0x5e8f22[_0x56df4a(0x28e)](),await _0x3e87d3['deleteOne']({'_id':_0x38c19b});}catch{}},_0x3da146=await _0x29c137('creds')||(0x0,ue[_0x2713c2(0x5eb)])();return{'state':{'creds':_0x3da146,'keys':{'get':async(_0x54420d,_0x2875db)=>{let _0x1e8727={};return await Promise['all'](_0x2875db['map'](async _0x260e12=>{const _0x21785c=a0_0x2b73;let _0x4355d7=await _0x29c137(_0x54420d+'-'+_0x260e12);_0x54420d===_0x21785c(0x134)&&_0x4355d7&&(_0x4355d7=ue['proto'][_0x21785c(0x346)][_0x21785c(0x2d4)][_0x21785c(0x84)](_0x4355d7)),_0x1e8727[_0x260e12]=_0x4355d7;})),_0x1e8727;},'set':async _0x5f1925=>{const _0x49e326=_0x2713c2;let _0x2e9e4a=[];for(let _0x57c765 in _0x5f1925)for(let _0xa0e4e1 in _0x5f1925[_0x57c765]){let _0x20ce1f=_0x5f1925[_0x57c765][_0xa0e4e1],_0x576ec2=_0x57c765+'-'+_0xa0e4e1;_0x2e9e4a['push'](_0x20ce1f?_0x5b11a0(_0x20ce1f,_0x576ec2):_0x2952a4(_0x576ec2));}await Promise[_0x49e326(0x5a0)](_0x2e9e4a);}}},'saveCreds':async()=>_0x5b11a0(_0x3da146,_0x2713c2(0x3be))};}var Cs=R(require('long')),Ms=R(require(a0_0x13f4c8(0x1cd))),Tt=require(a0_0x13f4c8(0x3c3)),dr=require('@redis/client'),Rt=require('@whiskeysockets/baileys'),Nt;function po(_0x108af1){const _0x23f93d=a0_0x13f4c8;return Nt||(Nt=(0x0,dr[_0x23f93d(0x2dc)])({'url':_0x108af1['URI']}),Nt[_0x23f93d(0x28e)]()),Nt;}var re=class c{constructor(_0x183cb1,_0x1ba574){const _0x269b37=a0_0x13f4c8;this[_0x269b37(0x485)]=_0x183cb1,this[_0x269b37(0x3a7)]=_0x1ba574,this[_0x269b37(0x19a)]=new v(c[_0x269b37(0x5e2)]),this[_0x269b37(0x147)]=po(_0x183cb1);}set[a0_0x13f4c8(0xda)](_0x147b4e){this['instanceName']=_0x147b4e;}async[a0_0x13f4c8(0x328)](){const _0x583253=a0_0x13f4c8;try{return await this[_0x583253(0x147)][_0x583253(0x224)]([_0x583253(0x2ec),this['redisEnv'][_0x583253(0x5cf)]+':*']);}catch(_0x2804ff){this[_0x583253(0x19a)]['error'](_0x2804ff);}}async['writeData'](_0x9ac7a1,_0x47b5eb){const _0x361d78=a0_0x13f4c8;try{let _0x5dc19c=JSON['stringify'](_0x47b5eb,Rt[_0x361d78(0xbd)][_0x361d78(0x25d)]);return await this[_0x361d78(0x147)][_0x361d78(0x244)](this['redisEnv'][_0x361d78(0x5cf)]+':'+this[_0x361d78(0x3a7)],_0x9ac7a1,_0x5dc19c);}catch(_0x533ba5){this[_0x361d78(0x19a)][_0x361d78(0x3d5)](_0x533ba5);}}async[a0_0x13f4c8(0x3cf)](){const _0x3b3d04=a0_0x13f4c8;try{let _0xb17f83=await this[_0x3b3d04(0x147)][_0x3b3d04(0x584)](this[_0x3b3d04(0x485)]['PREFIX_KEY']+':'+this[_0x3b3d04(0x3a7)]);if(_0xb17f83){for(let _0x210fc8 in _0xb17f83)Object[_0x3b3d04(0x8e)][_0x3b3d04(0x3c4)]['call'](_0xb17f83,_0x210fc8)&&(_0xb17f83[_0x210fc8]=JSON[_0x3b3d04(0x5d8)](_0xb17f83[_0x210fc8],Rt[_0x3b3d04(0xbd)][_0x3b3d04(0x4d1)]));return _0xb17f83;}}catch(_0x510044){this['logger'][_0x3b3d04(0x3d5)](_0x510044);}}async[a0_0x13f4c8(0x487)](_0x2a48f1){const _0x44ed8d=a0_0x13f4c8;try{let _0x579891=await this['client'][_0x44ed8d(0x300)](this[_0x44ed8d(0x485)]['PREFIX_KEY']+':'+this[_0x44ed8d(0x3a7)],_0x2a48f1);if(_0x579891)return JSON[_0x44ed8d(0x5d8)](_0x579891,Rt[_0x44ed8d(0xbd)][_0x44ed8d(0x4d1)]);}catch(_0x33a75a){this[_0x44ed8d(0x19a)]['error'](_0x33a75a);}}async['removeData'](_0xe69ddb){const _0x20f52b=a0_0x13f4c8;try{return await this[_0x20f52b(0x147)][_0x20f52b(0x24d)](this[_0x20f52b(0x485)][_0x20f52b(0x5cf)]+':'+this['instanceName'],_0xe69ddb);}catch(_0x2240f5){this[_0x20f52b(0x19a)][_0x20f52b(0x3d5)](_0x2240f5);}}async[a0_0x13f4c8(0x650)](_0x5a67f1){const _0x5af827=a0_0x13f4c8;try{return await this[_0x5af827(0x147)][_0x5af827(0x5f5)](_0x5a67f1||this[_0x5af827(0x485)][_0x5af827(0x5cf)]+':'+this[_0x5af827(0x3a7)]);}catch(_0x4934cc){this[_0x5af827(0x19a)][_0x5af827(0x3d5)](_0x4934cc);}}};async function ys(_0x5920e6,_0x176717){const _0x5d3c99=a0_0x13f4c8;let _0x12cc3d=new v(ys[_0x5d3c99(0x5e2)]),_0x6033a9=new re(_0x5920e6,_0x176717),_0x2f3cc8=async(_0x406bda,_0x2f017d)=>{const _0xf5b14e=_0x5d3c99;try{return await _0x6033a9['writeData'](_0x2f017d,_0x406bda);}catch(_0x3a463f){return _0x12cc3d[_0xf5b14e(0x3d5)]({'localError':_0xf5b14e(0x688),'error':_0x3a463f});}},_0x25719a=async _0x3e4a4f=>{const _0x419ee3=_0x5d3c99;try{return await _0x6033a9[_0x419ee3(0x487)](_0x3e4a4f);}catch(_0xd076be){_0x12cc3d[_0x419ee3(0x3d5)]({'readData':_0x419ee3(0x688),'error':_0xd076be});return;}},_0x1d31ac=async _0x16f30a=>{const _0xe3bf50=_0x5d3c99;try{return await _0x6033a9['removeData'](_0x16f30a);}catch(_0x3a15a8){_0x12cc3d[_0xe3bf50(0x3d5)]({'readData':'removeData','error':_0x3a15a8});}},_0x28d6d8=await _0x25719a(_0x5d3c99(0x3be))||(0x0,Tt[_0x5d3c99(0x5eb)])();return{'state':{'creds':_0x28d6d8,'keys':{'get':async(_0x316cde,_0x39448f)=>{const _0x528e7d=_0x5d3c99;let _0x5b1ecb={};return await Promise[_0x528e7d(0x5a0)](_0x39448f['map'](async _0x3f2c7a=>{const _0x34d2b5=_0x528e7d;let _0x573425=await _0x25719a(_0x316cde+'-'+_0x3f2c7a);_0x316cde===_0x34d2b5(0x134)&&_0x573425&&(_0x573425=Tt[_0x34d2b5(0x3d6)][_0x34d2b5(0x346)][_0x34d2b5(0x2d4)][_0x34d2b5(0x84)](_0x573425)),_0x5b1ecb[_0x3f2c7a]=_0x573425;})),_0x5b1ecb;},'set':async _0x481c44=>{const _0x21f996=_0x5d3c99;let _0x56b457=[];for(let _0x506c03 in _0x481c44)for(let _0x430f23 in _0x481c44[_0x506c03]){let _0x3d17da=_0x481c44[_0x506c03][_0x430f23],_0x5ba6e6=_0x506c03+'-'+_0x430f23;_0x56b457[_0x21f996(0x4b1)](_0x3d17da?await _0x2f3cc8(_0x3d17da,_0x5ba6e6):await _0x1d31ac(_0x5ba6e6));}await Promise['all'](_0x56b457);}}},'saveCreds':async()=>await _0x2f3cc8(_0x28d6d8,_0x5d3c99(0x3be))};}var L=R(require('fs')),Me=require(a0_0x13f4c8(0x4e7)),xt=R(require('sharp')),br=require(a0_0x13f4c8(0x4a0)),go=a0_0x13f4c8(0x72)[a0_0x13f4c8(0x4b3)](),At=go[a0_0x13f4c8(0x545)]('\x0a')[a0_0x13f4c8(0x35b)](_0x1628bd=>{const _0x2d94b0=a0_0x13f4c8;let _0x166c21=_0x1628bd[_0x2d94b0(0x545)](':');return{'host':_0x166c21[0x0],'port':_0x166c21[0x1],'username':_0x166c21[0x2],'password':_0x166c21[0x3],'protocol':_0x2d94b0(0x691)};});function pr(_0x2d3c52){const _0x36a78c=a0_0x13f4c8;let _0x2a3f5c=At[_0x36a78c(0x39d)](_0x518da4=>_0x518da4[_0x36a78c(0x484)]===_0x2d3c52);return _0x2a3f5c||null;}function bs(){const _0x56706b=a0_0x13f4c8;if(At['length']===0x0)return null;let _0x1e4f71=Math['floor'](Math[_0x56706b(0x2cc)]()*At[_0x56706b(0xa3)]);return At[_0x1e4f71];}function Ss(_0x51cb4b){const _0x588196=a0_0x13f4c8;return _0x51cb4b&&_0x51cb4b[_0x588196(0x484)]&&_0x51cb4b[_0x588196(0x36e)]&&_0x51cb4b[_0x588196(0x5bf)]&&_0x51cb4b[_0x588196(0x42d)];}var Sr=a0_0x13f4c8(0x2d2),vs,oe=null,gr=null,He=null,ho=0x3,mo=null;async function fo(){const _0x4bc1c1=a0_0x13f4c8;let _0x5c6025=await we[_0x4bc1c1(0x314)]();oe=_0x5c6025?.[_0x4bc1c1(0x287)]??null,mo=_0x5c6025?.[_0x4bc1c1(0x6bc)]??null,Sr=_0x5c6025?.['connectedClient']??_0x4bc1c1(0x2d2),vs=_0x5c6025?.[_0x4bc1c1(0x39b)]??Ns??_0x4bc1c1(0x330),console[_0x4bc1c1(0x4e2)]('CONFIGURAÇÃO\x20GERAL:'),console[_0x4bc1c1(0x4e2)](_0x5c6025);}async function wo(){await fo();}wo();function $(_0x2d88be){const _0x1ad3c5=a0_0x13f4c8;if(_0x2d88be[_0x1ad3c5(0x66b)]||_0x2d88be['viewOnceMessageV2']){let _0x3fc673=_0x2d88be[_0x1ad3c5(0x66b)]?_0x2d88be[_0x1ad3c5(0x66b)][_0x1ad3c5(0x191)]:_0x2d88be[_0x1ad3c5(0x599)][_0x1ad3c5(0x191)];return(0x0,y['getContentType'])(_0x3fc673);}return _0x2d88be[_0x1ad3c5(0x682)]?_0x1ad3c5(0x682):_0x2d88be[_0x1ad3c5(0x174)]?_0x1ad3c5(0x174):_0x2d88be[_0x1ad3c5(0x1f9)]?'viewOnceMessageV2Extension':(0x0,y['getContentType'])(_0x2d88be);}var hr={},ye=class c{constructor(_0x131b05,_0xd81c67,_0x430b23){const _0x280df4=a0_0x13f4c8;this[_0x280df4(0x5af)]=_0x131b05,this[_0x280df4(0x3ff)]=_0xd81c67,this[_0x280df4(0x65c)]=_0x430b23,this[_0x280df4(0x6a7)]=null,this[_0x280df4(0x19a)]=new v(c[_0x280df4(0x5e2)]),this[_0x280df4(0x571)]={},this[_0x280df4(0x3d2)]={},this[_0x280df4(0x278)]={'state':'close'},this['storePath']=(0x0,F[_0x280df4(0x40c)])(ae,_0x280df4(0x390)),this[_0x280df4(0x260)]=new Ms[(_0x280df4(0x29d))](),this[_0x280df4(0x537)]=new Ms[(_0x280df4(0x29d))](),this[_0x280df4(0x64d)]=!0x1,this[_0x280df4(0x4af)]={'status.instance':_0x280df4(0x393),'qrcode.updated':_0x280df4(0x59b),'messages.upsert':_0x280df4(0x200),'messages.update':'/wa-message-update','send.message':_0x280df4(0x200),'group.upsert':'/wa-groups','group.update':'/wa-groups','group-participants.update':_0x280df4(0x2fa),'connection.update':_0x280df4(0x393),'messages.set':_0x280df4(0x200),'contacts.set':'/wa-contacts','contacts.upsert':_0x280df4(0x57f),'contacts.update':_0x280df4(0x57f),'presence.update':'/wa-presence','chats.set':'/wa-chats','chats.update':_0x280df4(0x459),'chats.upsert':_0x280df4(0x459),'chats.delete':_0x280df4(0x459)},this[_0x280df4(0x2ad)]=0x0,this[_0x280df4(0xfd)]=[],this[_0x280df4(0x233)]=0xf,this[_0x280df4(0x355)]=0x7530,this[_0x280df4(0x332)]=!0x1,this[_0x280df4(0x54f)]={'chats.upsert':async(_0xf657fa,_0x3d759a)=>{const _0x1c0a9e=_0x280df4;let _0x19d45c=[];for await(let _0x16b907 of _0xf657fa)_0x19d45c['push']({'_id':_0x16b907['id'],'owner':this[_0x1c0a9e(0x571)][_0x1c0a9e(0x46a)],'group':_0x16b907['id'][_0x1c0a9e(0x69)](_0x1c0a9e(0x341)),'name':_0x16b907[_0x1c0a9e(0x5e2)]||_0x16b907[_0x1c0a9e(0x516)]||null,'contactname':null,'lastmsg':_0x16b907[_0x1c0a9e(0x248)]&&_0x16b907['conversationTimestamp']['toString']()['length']<0xd?_0x16b907[_0x1c0a9e(0x248)]*0x3e8:_0x16b907['conversationTimestamp']||null,'archived':_0x16b907[_0x1c0a9e(0xef)]||!0x1,'unreadcount':_0x16b907['unreadCount']||0x0});this[_0x1c0a9e(0x50c)](_0x1c0a9e(0x539),_0x19d45c);},'chats.update':async(_0x8bec2e,_0x2732e0)=>{const _0x1d4053=_0x280df4;for(let _0x538f94 of _0x8bec2e){let _0x47dee7={'_id':_0x538f94['id'],'owner':this['instance'][_0x1d4053(0x46a)],'group':_0x538f94['id'][_0x1d4053(0x69)]('@g.us'),'name':_0x538f94[_0x1d4053(0x5e2)]||_0x538f94[_0x1d4053(0x516)],'archived':_0x538f94['archived'],'ephemeralExpiration':_0x538f94[_0x1d4053(0x315)]},_0x4c585b=!0x1,_0xab6450={};_0x47dee7[_0x1d4053(0xef)]!=null&&(this[_0x1d4053(0x19a)][_0x1d4053(0x41a)](this[_0x1d4053(0x3a7)]+'\x20('+this[_0x1d4053(0x571)]['wuid']+_0x1d4053(0x46b)+_0x538f94[_0x1d4053(0xef)]),_0x4c585b=!0x0,_0xab6450[_0x1d4053(0xef)]=_0x538f94['archived']),_0x538f94[_0x1d4053(0x5e2)]!=null&&(this['logger']['verbose'](this[_0x1d4053(0x3a7)]+'\x20('+this['instance']['wuid']+_0x1d4053(0x677)+_0x538f94[_0x1d4053(0x5e2)]),_0x4c585b=!0x0,_0xab6450[_0x1d4053(0x5e2)]=_0x538f94[_0x1d4053(0x5e2)]),_0x538f94[_0x1d4053(0x516)]!=null&&(this[_0x1d4053(0x19a)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1d4053(0x46a)]+'):\x20teve\x20mudanças\x20chat.displayName:\x20'+_0x538f94[_0x1d4053(0x516)]),_0x4c585b=!0x0,_0xab6450['name']=_0x538f94[_0x1d4053(0x516)]);let _0xd6400d;_0x4c585b&&(_0xd6400d=await this[_0x1d4053(0x65c)][_0x1d4053(0x4c5)][_0x1d4053(0x405)]({'where':{'_id':_0x538f94['id']}},_0xab6450,this[_0x1d4053(0x571)][_0x1d4053(0x46a)])),_0xd6400d&&J(this[_0x1d4053(0x3a7)],_0x1d4053(0x364),{'chat':_0xd6400d});}},'chats.delete':async _0x1b7a34=>{const _0x1262a5=_0x280df4;this[_0x1262a5(0x50c)](_0x1262a5(0x41c),[..._0x1b7a34]);}},this[_0x280df4(0x1a4)]={'contacts.upsert':async(_0x564d39,_0x19267d)=>{const _0x3a5fd4=_0x280df4;let _0x5ca38e=await this[_0x3a5fd4(0x65c)]['contact'][_0x3a5fd4(0x39d)]({'where':{}},this[_0x3a5fd4(0x571)][_0x3a5fd4(0x46a)]),_0x14653e=[];for await(let _0x398c59 of _0x564d39)_0x5ca38e[_0x3a5fd4(0x39d)](_0x310297=>_0x310297[_0x3a5fd4(0x1f1)]===_0x398c59['id'])||_0x14653e[_0x3a5fd4(0x4b1)]({'_id':_0x398c59['id'],'pushName':_0x398c59?.[_0x3a5fd4(0x5e2)]||_0x398c59?.['verifiedName'],'owner':this[_0x3a5fd4(0x571)][_0x3a5fd4(0x46a)]});this[_0x3a5fd4(0x50c)](_0x3a5fd4(0x56a),_0x14653e),await this['repository'][_0x3a5fd4(0x6b0)][_0x3a5fd4(0x209)](_0x14653e);},'contacts.update':async(_0xcaa545,_0x12039e)=>{const _0x223cdc=_0x280df4;let _0x8d23ec=[];for await(let _0x2dcced of _0xcaa545)_0x8d23ec[_0x223cdc(0x4b1)]({'_id':_0x2dcced['id'],'pushName':_0x2dcced?.[_0x223cdc(0x5e2)]??_0x2dcced?.[_0x223cdc(0xde)],'owner':this[_0x223cdc(0x571)][_0x223cdc(0x46a)]});this['sendDataWebhook'](_0x223cdc(0x5a6),_0x8d23ec);}},this[_0x280df4(0x32d)]={'messaging-history.set':async({messages:_0x881f6e,chats:_0x923c9e,isLatest:_0xf0f0d1},_0x5edaf6)=>{const _0x3e42a4=_0x280df4;if(_0xf0f0d1){let _0x58cf46=await Promise[_0x3e42a4(0x5a0)](_0x923c9e[_0x3e42a4(0x35b)](async _0x1b8877=>({'_id':_0x1b8877['id'],'owner':this[_0x3e42a4(0x571)]['wuid'],'group':_0x1b8877['id'][_0x3e42a4(0x69)](_0x3e42a4(0x341)),'name':_0x1b8877[_0x3e42a4(0x5e2)]||_0x1b8877[_0x3e42a4(0x516)]||null,'contactname':null,'lastmsg':_0x1b8877[_0x3e42a4(0x248)]&&_0x1b8877[_0x3e42a4(0x248)][_0x3e42a4(0x603)]()[_0x3e42a4(0xa3)]<0xd?_0x1b8877[_0x3e42a4(0x248)]*0x3e8:_0x1b8877[_0x3e42a4(0x248)]||null,'archived':_0x1b8877['archived']||!0x1,'unreadcount':_0x1b8877[_0x3e42a4(0x4ab)]||0x0})));this[_0x3e42a4(0x50c)](_0x3e42a4(0x38d),_0x58cf46),await this['upsertChats'](_0x58cf46,_0x5edaf6);}let _0x119e53=[],_0x2e49ac=Date[_0x3e42a4(0x652)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x4787b3]of Object[_0x3e42a4(0x35c)](_0x881f6e)){if(_0x4787b3[_0x3e42a4(0x191)]?.[_0x3e42a4(0x15e)]||_0x4787b3[_0x3e42a4(0x191)]?.['senderKeyDistributionMessage']||!_0x4787b3[_0x3e42a4(0x191)]||_0x4787b3['key'][_0x3e42a4(0x52a)]==='status@broadcast'||(Cs['default'][_0x3e42a4(0x5cc)](_0x4787b3?.['messageTimestamp'])&&(_0x4787b3[_0x3e42a4(0x50f)]=_0x4787b3[_0x3e42a4(0x50f)]?.[_0x3e42a4(0x2c1)]()),_0x4787b3[_0x3e42a4(0x50f)]&&_0x4787b3[_0x3e42a4(0x50f)][_0x3e42a4(0x603)]()['length']<0xd&&(_0x4787b3[_0x3e42a4(0x50f)]=_0x4787b3[_0x3e42a4(0x50f)]*0x3e8),_0x4787b3['messageTimestamp']<_0x2e49ac))continue;let {message_normalized:_0x5e3261}=this[_0x3e42a4(0x2e3)](_0x4787b3[_0x3e42a4(0x191)],$(_0x4787b3[_0x3e42a4(0x191)]),null);Object['keys'](_0x5e3261)[_0x3e42a4(0xa3)]>0x0&&_0x119e53[_0x3e42a4(0x4b1)]({'_id':_0x4787b3[_0x3e42a4(0xcf)]['id'],'key':_0x4787b3['key'],'pushName':_0x4787b3[_0x3e42a4(0x275)],'participant':_0x4787b3['participant'],'message':{..._0x4787b3['message']},'messageType':$(_0x4787b3[_0x3e42a4(0x191)]),'message_normalized':{'key':_0x4787b3[_0x3e42a4(0xcf)],'pushName':_0x4787b3[_0x3e42a4(0x275)],'messageTimestamp':_0x4787b3[_0x3e42a4(0x50f)],..._0x5e3261},'messageTimestamp':_0x4787b3[_0x3e42a4(0x50f)],'owner':this['instance']['wuid']});}_0x5edaf6['ENABLED']&&_0x119e53[_0x3e42a4(0xa3)]>0x0&&(this[_0x3e42a4(0x19a)][_0x3e42a4(0x41a)](this[_0x3e42a4(0x3a7)]+'\x20('+this[_0x3e42a4(0x571)][_0x3e42a4(0x46a)]+_0x3e42a4(0x40e)+_0x119e53[_0x3e42a4(0xa3)]+'\x20mensagens\x20de\x20'+this['instance'][_0x3e42a4(0x46a)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this['repository'][_0x3e42a4(0x191)][_0x3e42a4(0x209)]([..._0x119e53],this[_0x3e42a4(0x571)][_0x3e42a4(0x46a)])),this[_0x3e42a4(0x50c)](_0x3e42a4(0x6b8),[..._0x119e53]),_0x881f6e=void 0x0;},'messages.upsert':async({messages:_0x29a59b,type:_0x202ff8},_0x290c54)=>{const _0x571cc9=_0x280df4;let _0x80d207=_0x29a59b[0x0];if(_0x202ff8!==_0x571cc9(0x477)||!_0x80d207?.[_0x571cc9(0x191)]||_0x80d207[_0x571cc9(0x191)]?.['protocolMessage']||_0x80d207[_0x571cc9(0x191)]['senderKeyDistributionMessage']||_0x80d207['key'][_0x571cc9(0x52a)]===_0x571cc9(0x304))return;let _0x3c5831=null,_0x92b08c=null;try{_0x3c5831=await this[_0x571cc9(0x60f)](_0x80d207),_0x92b08c=_0x3c5831?_0x3c5831[_0x571cc9(0x40c)](','):null;}catch(_0x2f4d3a){this[_0x571cc9(0x19a)]['verbose'](this['instanceName']+'\x20('+this[_0x571cc9(0x571)]['wuid']+_0x571cc9(0x40e)+(_0x2f4d3a instanceof Error?_0x2f4d3a[_0x571cc9(0x191)]:JSON['stringify'](_0x2f4d3a,null,0x2))),_0x92b08c='error\x20get\x20vote';}if(this[_0x571cc9(0x147)][_0x571cc9(0x50d)](_0x571cc9(0x30a)),Cs[_0x571cc9(0x29d)][_0x571cc9(0x5cc)](_0x80d207[_0x571cc9(0x50f)])&&(_0x80d207[_0x571cc9(0x50f)]=_0x80d207[_0x571cc9(0x50f)]?.['toNumber']()),this[_0x571cc9(0x3d2)]?.[_0x571cc9(0xaa)]&&_0x80d207['key'][_0x571cc9(0x52a)][_0x571cc9(0x542)](_0x571cc9(0x341))){this[_0x571cc9(0x19a)][_0x571cc9(0x41a)]('group\x20ignored');return;}_0x80d207[_0x571cc9(0x50f)]&&_0x80d207[_0x571cc9(0x50f)][_0x571cc9(0x603)]()['length']<0xd&&(_0x80d207[_0x571cc9(0x50f)]=_0x80d207[_0x571cc9(0x50f)]*0x3e8);let _0x40fce1=_0x80d207[_0x571cc9(0x191)],{messageContent:_0x2b7709,message_normalized:_0x11839b}=this[_0x571cc9(0x2e3)](_0x40fce1,$(_0x80d207[_0x571cc9(0x191)]),_0x92b08c);_0x2b7709||console[_0x571cc9(0x3d5)]('Mensagem\x20não\x20suportada');let _0x5db8ee={'_id':_0x80d207['key']['id'],'key':_0x80d207[_0x571cc9(0xcf)],'pushName':_0x80d207[_0x571cc9(0x275)],'message':{..._0x80d207['message']},'messageType':$(_0x80d207[_0x571cc9(0x191)]),'message_normalized':{'key':_0x80d207['key'],'pushName':_0x80d207[_0x571cc9(0x275)],'messageTimestamp':_0x80d207[_0x571cc9(0x50f)],'source':(0x0,y[_0x571cc9(0x161)])(_0x80d207[_0x571cc9(0xcf)]['id']),..._0x11839b},'messageTimestamp':_0x80d207[_0x571cc9(0x50f)],'owner':this[_0x571cc9(0x571)][_0x571cc9(0x46a)],'source':(0x0,y[_0x571cc9(0x161)])(_0x80d207[_0x571cc9(0xcf)]['id'])};this[_0x571cc9(0x19a)][_0x571cc9(0x4e2)](_0x5db8ee),await this[_0x571cc9(0x65c)]['message'][_0x571cc9(0x209)]([_0x5db8ee],this['instance']['wuid']),this['sendDataWebhook'](_0x571cc9(0x29f),_0x5db8ee),J(this[_0x571cc9(0x3a7)],'messages',{'message':_0x5db8ee}),_0x80d207[_0x571cc9(0xcf)][_0x571cc9(0x52a)]!=='status@broadcast'&&await this['updateChatWithMessage'](_0x290c54,_0x5db8ee,'MESSAGES_UPSERT');},'messages.update':async(_0x4a506c,_0x4e7b38)=>{const _0xdc1bac=_0x280df4;let _0x3295f8={0x0:_0xdc1bac(0x88),0x1:'PENDING',0x2:'SERVER_ACK',0x3:_0xdc1bac(0x99),0x4:_0xdc1bac(0x1f4),0x5:'PLAYED'};for await(let {key:_0x947f31,update:_0x191e39}of _0x4a506c){if(this[_0xdc1bac(0x3d2)]?.[_0xdc1bac(0xaa)]&&_0x947f31[_0xdc1bac(0x52a)][_0xdc1bac(0x542)](_0xdc1bac(0x341))){this['logger'][_0xdc1bac(0x41a)](_0xdc1bac(0x5d1));return;}if(_0x947f31[_0xdc1bac(0x52a)]!==_0xdc1bac(0x304)){let _0x24be19=Date['now'](),_0x55b2e1;_0x191e39[_0xdc1bac(0x191)]===null&&_0x191e39[_0xdc1bac(0x254)]===void 0x0?_0x55b2e1='DELETED':_0x55b2e1=_0x3295f8[_0x191e39[_0xdc1bac(0x254)]];let _0x105475=_0x947f31['remoteJid'][_0xdc1bac(0x3f0)](/:\d{1,2}@/g,'@'),_0x170cc0={..._0x947f31,'remoteJid':_0x105475,'status':_0x55b2e1,'datetime':_0x24be19,'owner':this['instance']['wuid']};this[_0xdc1bac(0x50c)](_0xdc1bac(0x6c4),_0x170cc0),await this[_0xdc1bac(0x478)](_0x947f31,_0x170cc0);}}},'labels.association':async({type:_0xd65de2,association:_0x345476})=>{const _0x5aafee=_0x280df4;if(_0x345476[_0x5aafee(0x31f)]===_0x5aafee(0x492)){let _0x135089,_0x5f24c7=0x0;for(;!_0x135089&&_0x5f24c7<this[_0x5aafee(0x5ac)];)_0x135089=await this[_0x5aafee(0x65c)][_0x5aafee(0x4c5)]['findOne']({'where':{'_id':_0x345476[_0x5aafee(0x52c)]}},this[_0x5aafee(0x571)][_0x5aafee(0x46a)]),_0x135089||(_0x5f24c7++,console['log']('Chat\x20'+_0x345476[_0x5aafee(0x52c)]+'\x20not\x20found,\x20retrying\x20in\x20'+this['delayChatLabel_RETRY_DELAY_MS']+_0x5aafee(0x642)+_0x5f24c7+'/'+this[_0x5aafee(0x5ac)]+')'),await this[_0x5aafee(0xfb)](this[_0x5aafee(0x488)]));if(!_0x135089){console[_0x5aafee(0x3d5)]('Failed\x20to\x20find\x20chat\x20'+_0x345476[_0x5aafee(0x52c)]+_0x5aafee(0x1cc)+this['delayChatLabel_MAX_RETRIES']+_0x5aafee(0x55f));return;}switch(_0xd65de2){case'add':console[_0x5aafee(0x4e2)](_0x345476),await this[_0x5aafee(0x65c)]['chat']['updateOne']({'where':{'_id':_0x345476[_0x5aafee(0x52c)]}},{'leadInfo.etiquetas':_0x345476[_0x5aafee(0x486)]},this[_0x5aafee(0x571)]['wuid'],void 0x0,_0x5aafee(0x199));break;case _0x5aafee(0x69b):console[_0x5aafee(0x4e2)](_0x345476),await this['repository'][_0x5aafee(0x4c5)][_0x5aafee(0x405)]({'where':{'_id':_0x345476['chatId']}},{'leadInfo.etiquetas':_0x345476[_0x5aafee(0x486)]},this['instance'][_0x5aafee(0x46a)],void 0x0,_0x5aafee(0x211));break;default:console[_0x5aafee(0x3d5)](_0x5aafee(0x25e)+_0xd65de2+']');}}},'labels.edit':async _0x186f93=>{const _0x34c6ef=_0x280df4;if(!_0x186f93||!_0x186f93['id']){console[_0x34c6ef(0x3d5)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x186f93[_0x34c6ef(0x2bd)]){let _0x3970bd=[_0x34c6ef(0x3f6),_0x34c6ef(0x679),_0x34c6ef(0x597),_0x34c6ef(0x212),'#9ab6c1',_0x34c6ef(0x6c7),_0x34c6ef(0x1fb),'#d3a91f','#6f7bcf',_0x34c6ef(0x32a),_0x34c6ef(0xe1),_0x34c6ef(0x348),_0x34c6ef(0x3d1),_0x34c6ef(0x416),_0x34c6ef(0x54e),'#83e421',_0x34c6ef(0x16b),'#b4ebff',_0x34c6ef(0x306),_0x34c6ef(0x373)],_0x4d5aee;typeof _0x186f93[_0x34c6ef(0x8c)]=='number'&&_0x186f93['color']>=0x0&&_0x186f93[_0x34c6ef(0x8c)]<_0x3970bd[_0x34c6ef(0xa3)]?_0x4d5aee=_0x3970bd[_0x186f93[_0x34c6ef(0x8c)]]:(console[_0x34c6ef(0x3d5)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:',_0x186f93[_0x34c6ef(0x8c)]),_0x4d5aee=_0x34c6ef(0x10a));let _0x18ed78={'_id':_0x186f93['id'],'colorHex':_0x4d5aee,'color':_0x186f93?.[_0x34c6ef(0x8c)],'name':_0x186f93?.[_0x34c6ef(0x5e2)],'owner':this[_0x34c6ef(0x571)][_0x34c6ef(0x46a)]};await this[_0x34c6ef(0x65c)][_0x34c6ef(0x694)]['updateOne']({'where':{'_id':_0x186f93['id']}},_0x18ed78,this[_0x34c6ef(0x571)]['wuid']),console[_0x34c6ef(0x4e2)](_0x34c6ef(0xcc),_0x186f93);}_0x186f93['deleted']&&(await this[_0x34c6ef(0x65c)][_0x34c6ef(0x694)][_0x34c6ef(0x5c3)]({'where':{'_id':_0x186f93['id']}},this[_0x34c6ef(0x571)][_0x34c6ef(0x46a)]),console[_0x34c6ef(0x4e2)](_0x34c6ef(0x24c),_0x186f93['id']));}},this[_0x280df4(0x490)]={'groups.upsert':_0x55cb9b=>{const _0x3da3c8=_0x280df4;this[_0x3da3c8(0x50c)](_0x3da3c8(0x66c),_0x55cb9b);},'groups.update':_0xb9bfea=>{const _0x13dc16=_0x280df4;this[_0x13dc16(0x50c)]('groups.update',_0xb9bfea);},'group-participants.update':_0x1cac61=>{const _0x4cf3c2=_0x280df4;this[_0x4cf3c2(0x50c)]('group-participants.update',_0x1cac61);}},this[_0x280df4(0x5ac)]=0x5,this[_0x280df4(0x488)]=0x7d0,this[_0x280df4(0x60f)]=async _0x2f986a=>{const _0xbafd5d=_0x280df4;if(_0x2f986a['message']?.[_0xbafd5d(0x5b7)]){let _0x4a995e=await this[_0xbafd5d(0x261)](_0x2f986a[_0xbafd5d(0x191)][_0xbafd5d(0x5b7)]['pollCreationMessageKey'],!0x0);if(_0x4a995e){let _0x40b6eb=_0x4a995e['key'][_0xbafd5d(0x19b)]?this[_0xbafd5d(0x571)][_0xbafd5d(0x46a)]+_0xbafd5d(0x68b):_0x4a995e[_0xbafd5d(0xcf)]['participant']||_0x4a995e[_0xbafd5d(0xcf)][_0xbafd5d(0x52a)],_0x434a42=_0x4a995e[_0xbafd5d(0xcf)]['id'],_0x3224d8=_0x4a995e[_0xbafd5d(0x191)],_0x671b21=Buffer[_0xbafd5d(0x62a)](_0x3224d8[_0xbafd5d(0x1ea)][_0xbafd5d(0xf2)][_0xbafd5d(0x603)](_0xbafd5d(0x5e9)),_0xbafd5d(0x5e9)),_0x2e4af9=(0x0,y[_0xbafd5d(0x47e)])(_0x2f986a[_0xbafd5d(0x191)][_0xbafd5d(0x5b7)][_0xbafd5d(0x5ca)],{'pollCreatorJid':_0x40b6eb,'pollMsgId':_0x434a42,'pollEncKey':_0x671b21,'voterJid':_0x2f986a[_0xbafd5d(0xcf)][_0xbafd5d(0x19b)]?this[_0xbafd5d(0x571)][_0xbafd5d(0x46a)]+_0xbafd5d(0x68b):_0x2f986a[_0xbafd5d(0xcf)][_0xbafd5d(0x52a)][_0xbafd5d(0x69)](_0xbafd5d(0x561))?_0x2f986a[_0xbafd5d(0xcf)][_0xbafd5d(0x5d3)]:_0x2f986a[_0xbafd5d(0xcf)][_0xbafd5d(0x52a)]}),_0x2a6188=[],_0x1e2fc4=_0x2e4af9[_0xbafd5d(0x230)][_0xbafd5d(0x35b)](_0x2b7a06=>Buffer['from'](_0x2b7a06)[_0xbafd5d(0x603)](_0xbafd5d(0x5e9)));for(let {optionName:_0x3bf311}of _0x3224d8['pollCreationMessage']?.[_0xbafd5d(0x166)]||_0x3224d8[_0xbafd5d(0x682)]?.[_0xbafd5d(0x166)]||_0x3224d8[_0xbafd5d(0x174)]?.[_0xbafd5d(0x166)])_0x1e2fc4[_0xbafd5d(0x658)]((0x0,y['sha256'])(Buffer[_0xbafd5d(0x62a)](_0x3bf311))[_0xbafd5d(0x603)](_0xbafd5d(0x5e9)))>-0x1&&_0x2a6188[_0xbafd5d(0x4b1)](_0x3bf311);return _0x2a6188;}}return null;},this[_0x280df4(0x2e3)]=(_0x34207f,_0x3a31b0,_0x2ab5d3)=>{const _0x16b93d=_0x280df4;try{let _0x3244a1=_0x3a31b0?_0x34207f[_0x3a31b0]:void 0x0,_0x5360be={},_0x223fce=null,_0x108e15=null,_0x1a0f9c=null;if(_0x34207f[_0x16b93d(0x599)]?(_0x3a31b0=$(_0x34207f[_0x16b93d(0x599)]['message']),_0x3244a1=_0x34207f[_0x16b93d(0x599)][_0x16b93d(0x191)][_0x3a31b0]):_0x34207f[_0x16b93d(0x1f9)]?(_0x3a31b0=$(_0x34207f[_0x16b93d(0x1f9)][_0x16b93d(0x191)]),_0x3244a1=_0x34207f[_0x16b93d(0x1f9)]['message'][_0x3a31b0]):_0x34207f[_0x16b93d(0x66b)]?(_0x3a31b0=$(_0x34207f[_0x16b93d(0x66b)][_0x16b93d(0x191)]),_0x3244a1=_0x34207f[_0x16b93d(0x66b)]['message'][_0x3a31b0]):_0x34207f['ephemeralMessage']?(_0x3a31b0=$(_0x34207f[_0x16b93d(0x191)][_0x16b93d(0x10f)][_0x16b93d(0x191)]),_0x3244a1=_0x34207f['message'][_0x16b93d(0x10f)]['message'][_0x3a31b0]):_0x34207f[_0x16b93d(0x27e)]?.[_0x16b93d(0x191)]?.[_0x16b93d(0x15e)]?.[_0x16b93d(0x27e)]?(_0x3a31b0=$(_0x34207f['editedMessage']['message']['protocolMessage'][_0x16b93d(0x27e)]),_0x223fce=_0x34207f[_0x16b93d(0x27e)]['message'][_0x16b93d(0x15e)][_0x16b93d(0xcf)]['id'],_0x3244a1=_0x34207f[_0x16b93d(0x27e)][_0x16b93d(0x191)][_0x16b93d(0x15e)][_0x16b93d(0x27e)][_0x3a31b0]):_0x3244a1=_0x34207f[_0x3a31b0],!_0x3a31b0||!_0x3244a1)return console[_0x16b93d(0x3d5)](_0x16b93d(0xe5),_0x34207f),{'messageType':_0x3a31b0,'messageContent':_0x3244a1,'message_normalized':{}};_0x34207f[_0x3a31b0]?.[_0x16b93d(0x119)]?.[_0x16b93d(0x63f)]&&_0x34207f[_0x3a31b0]?.[_0x16b93d(0x119)]?.[_0x16b93d(0xdd)]&&(_0x108e15=_0x34207f[_0x3a31b0][_0x16b93d(0x119)]['stanzaId']),_0x34207f['reactionMessage']&&(_0x1a0f9c=_0x34207f[_0x16b93d(0x323)][_0x16b93d(0xcf)]['id']);let _0xa46456;if(_0x3244a1&&typeof _0x3244a1==_0x16b93d(0x5ea)&&'pollCreationMessageKey'in _0x3244a1&&({pollCreationMessageKey:_0xa46456}=_0x3244a1),_0x3a31b0===_0x16b93d(0x413)){let _0x5640d0=_0x3244a1?.['message']?.[_0x16b93d(0xf7)];_0x5640d0&&(_0x3244a1=_0x5640d0);}if(_0x3a31b0===_0x16b93d(0x1c6)||_0x3a31b0===_0x16b93d(0x174)||_0x3a31b0==='pollCreationMessageV3'){let _0x3ad5b3=_0x3244a1[_0x16b93d(0x166)][_0x16b93d(0x35b)](_0x56e817=>_0x56e817[_0x16b93d(0x5f4)])['join']('|');_0x5360be[_0x16b93d(0x643)]=_0x3ad5b3;}let _0x5c52a7=_0x3244a1[_0x16b93d(0x5e2)]||_0x3244a1['caption']||_0x3244a1[_0x16b93d(0x49f)]||_0x3244a1['displayName'];if(_0x3a31b0===_0x16b93d(0x2ab)){_0x5c52a7=(_0x3244a1[_0x16b93d(0x40d)]||'')+'\x0a'+(_0x3244a1[_0x16b93d(0x4be)]||'')+'\x0a'+(_0x3244a1[_0x16b93d(0x1ac)]||'');let _0x3a45e0=this[_0x16b93d(0x44f)](_0x3244a1[_0x16b93d(0x297)]);_0x5360be[_0x16b93d(0x643)]=_0x3a45e0;}if(_0x3a31b0===_0x16b93d(0x1dc)&&(_0x2ab5d3=_0x3244a1[_0x16b93d(0x40d)]),_0x3244a1['vcard']){let _0x52c8d0=this['formatVCard'](JSON['stringify'](_0x3244a1[_0x16b93d(0x5fa)],null,0x2));_0x5c52a7=_0x5c52a7+'\x0a'+_0x52c8d0;}if(_0x3244a1){let {sections:_0x317dd6,listType:_0x464edc,displayName:_0x5ec02b,vcard:_0x34b4dd,contactVcard:_0x108377,name:_0x3898f6,caption:_0x1207b3,conversation:_0x4ee3cf,pollCreationMessageKey:_0x133bb3,footerText:_0x52b42c,contentText:_0x5a2e4f,pageCount:_0x19d998,headerType:_0x330205,isAvatar:_0xc7c10f,isAnimated:_0x48e229,fallbackLc:_0x17b10d,fallbackLg:_0x2c50c8,namespace:_0x103828,elementName:_0x4b3da4,localizableParams:_0x35fc61,viewOnce:_0x57dba5,height:_0x3de924,width:_0x45cfaa,key:_0x3f94e9,firstScanLength:_0x366665,firstScanSidecar:_0x143c69,gifPlayback:_0x1e695a,gifAttribution:_0x6a4397,midQualityFileSha256:_0x2ad4cb,scansSidecar:_0x396323,streamingSidecar:_0x3f18ff,thumbnailHeight:_0x23e45a,thumbnailWidth:_0x368494,thumbnailEncSha256:_0x3f185a,thumbnailDirectPath:_0x5483ff,canonicalUrl:_0x4c5a19,matchedText:_0x42cd31,previewType:_0x169dea,thumbnailSha256:_0x148fef,deviceListMetadataVersion:_0x33d3d9,inviteLinkGroupTypeV2:_0x100698,interactiveAnnotations:_0x3e122d,scanLengths:_0x5d25df,jpegThumbnail:_0x2594c7,url:_0x1dbc29,mediaKeyTimestamp:_0x4f83c4,waveform:_0x509cd1,stickerSentTs:_0x3701c8,firstFrameLength:_0x5f3b40,fileEncSha256:_0x543692,contextInfo:_0x376bb9,firstFrameSidecar:_0x432493,directPath:_0x570d1e,fileSha256:_0x1af9f2,mediaKey:_0xa4c62a,senderTimestampMs:_0x2a0632,..._0x20a89e}=_0x3244a1;(_0x3a31b0===_0x16b93d(0x2ab)||_0x3a31b0===_0x16b93d(0x1dc))&&(delete _0x20a89e['title'],delete _0x20a89e[_0x16b93d(0x4be)]),typeof _0x3244a1==_0x16b93d(0x67e)?_0x5360be={'text':_0x3244a1,'type':_0x3a31b0||_0x16b93d(0x49f),..._0x223fce&&{'edited':_0x223fce},..._0x108e15&&{'quoted':_0x108e15},..._0x1a0f9c&&{'reaction':_0x1a0f9c}}:_0x5360be={'text':_0x5c52a7,..._0x20a89e,..._0x3a31b0===_0x16b93d(0x5b7)?{'poll_id':_0x3244a1[_0x16b93d(0x249)]['id'],'quoted':_0x3244a1[_0x16b93d(0x249)]['id'],'vote':_0x2ab5d3}:{},..._0x3a31b0==='listResponseMessage'?{'vote':_0x2ab5d3}:{},'type':_0x3a31b0,..._0x223fce&&{'edited':_0x223fce},..._0x108e15&&{'quoted':_0x108e15},..._0x1a0f9c&&{'reaction':_0x1a0f9c},...(_0x3a31b0===_0x16b93d(0x1c6)||_0x3a31b0===_0x16b93d(0x174)||_0x3a31b0===_0x16b93d(0x682)||_0x3a31b0===_0x16b93d(0x2ab))&&{'convertedOptions':_0x5360be[_0x16b93d(0x643)]}};}return{'messageType':_0x3a31b0,'messageContent':_0x3244a1,'message_normalized':_0x5360be};}catch(_0x3b46ec){console[_0x16b93d(0x3d5)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x3b46ec);}},this[_0x280df4(0x214)]=null,this[_0x280df4(0x25c)]=0x0,this[_0x280df4(0x24e)]=null,(this['cleanStore'](),this[_0x280df4(0x571)][_0x280df4(0x45f)]={'count':0x0});}set[a0_0x13f4c8(0x3a7)](_0x2a151f){const _0x498103=a0_0x13f4c8;if(!_0x2a151f){this[_0x498103(0x571)][_0x498103(0x5e2)]=(0x0,fr['v4'])();return;}this[_0x498103(0x571)][_0x498103(0x5e2)]=_0x2a151f,this[_0x498103(0x50c)]('status.instance',{'instance':this['instance'][_0x498103(0x5e2)],'status':_0x498103(0x447)});}get[a0_0x13f4c8(0x3a7)](){const _0x76162e=a0_0x13f4c8;return this[_0x76162e(0x571)][_0x76162e(0x5e2)];}get[a0_0x13f4c8(0x46a)](){const _0x4364dc=a0_0x13f4c8;return this[_0x4364dc(0x571)][_0x4364dc(0x46a)];}async['getProfileName'](){const _0x5ca80c=a0_0x13f4c8;let _0xdfb5da=this[_0x5ca80c(0x147)]['user']?.[_0x5ca80c(0x5e2)]??this['client'][_0x5ca80c(0x429)]?.[_0x5ca80c(0xde)];if(!_0xdfb5da){if(this[_0x5ca80c(0x5af)]['get'](_0x5ca80c(0x647))['ENABLED']){let _0x3e21f3=await N[_0x5ca80c(0x182)]()['db'](this[_0x5ca80c(0x5af)][_0x5ca80c(0x208)](_0x5ca80c(0x647))[_0x5ca80c(0x3f2)][_0x5ca80c(0x4ee)]+_0x5ca80c(0x455))[_0x5ca80c(0x466)](this[_0x5ca80c(0x3a7)])[_0x5ca80c(0x314)]({'_id':'creds'});if(_0x3e21f3){let _0x9dd0b6=JSON[_0x5ca80c(0x5d8)](JSON[_0x5ca80c(0x33c)](_0x3e21f3),y[_0x5ca80c(0xbd)]['reviver']);_0xdfb5da=_0x9dd0b6['me']?.['name']||_0x9dd0b6['me']?.[_0x5ca80c(0xde)];}}else{if((0x0,ve[_0x5ca80c(0x296)])((0x0,F[_0x5ca80c(0x40c)])(he,this[_0x5ca80c(0x3a7)],_0x5ca80c(0x2fc)))){let _0x4bc392=JSON[_0x5ca80c(0x5d8)]((0x0,ve[_0x5ca80c(0x3e3)])((0x0,F[_0x5ca80c(0x40c)])(he,this[_0x5ca80c(0x3a7)],_0x5ca80c(0x2fc)),{'encoding':'utf-8'}));_0xdfb5da=_0x4bc392['me']?.[_0x5ca80c(0x5e2)]||_0x4bc392['me']?.[_0x5ca80c(0xde)];}}}return _0xdfb5da;}get['profilePictureUrl'](){const _0x4cf418=a0_0x13f4c8;return this['instance'][_0x4cf418(0x1e0)];}get['qrCode'](){const _0x2e73a4=a0_0x13f4c8;return{'pairingCode':this[_0x2e73a4(0x571)][_0x2e73a4(0x45f)]?.[_0x2e73a4(0x379)],'code':this[_0x2e73a4(0x571)][_0x2e73a4(0x45f)]?.[_0x2e73a4(0x3d4)],'base64':this[_0x2e73a4(0x571)][_0x2e73a4(0x45f)]?.[_0x2e73a4(0x696)]};}async[a0_0x13f4c8(0x218)](){const _0x1af176=a0_0x13f4c8;let _0x479033=await this[_0x1af176(0x65c)][_0x1af176(0x20f)][_0x1af176(0x39d)](this[_0x1af176(0x3a7)]);this[_0x1af176(0x3d2)]['url']=_0x479033?.['url'],this[_0x1af176(0x3d2)]['enabled']=_0x479033?.[_0x1af176(0x38a)],this[_0x1af176(0x3d2)][_0x1af176(0x93)]=_0x479033?.[_0x1af176(0x93)],this['localWebhook']['STATUS_INSTANCE']=_0x479033?.[_0x1af176(0x667)],this[_0x1af176(0x3d2)][_0x1af176(0x1c5)]=_0x479033?.[_0x1af176(0x1c5)],this[_0x1af176(0x3d2)][_0x1af176(0x365)]=_0x479033?.[_0x1af176(0x365)],this['localWebhook']['MESSAGES_UPSERT']=_0x479033?.['MESSAGES_UPSERT'],this[_0x1af176(0x3d2)]['MESSAGES_UPDATE']=_0x479033?.[_0x1af176(0x17c)],this[_0x1af176(0x3d2)]['GROUPS_UPSERT']=_0x479033?.['GROUPS_UPSERT'],this[_0x1af176(0x3d2)][_0x1af176(0x3ee)]=_0x479033?.[_0x1af176(0x3ee)],this[_0x1af176(0x3d2)]['GROUP_PARTICIPANTS_UPDATE']=_0x479033?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x1af176(0x3d2)][_0x1af176(0x634)]=_0x479033?.['CHATS_SET'],this[_0x1af176(0x3d2)]['CHATS_UPSERT']=_0x479033?.['CHATS_UPSERT'],this[_0x1af176(0x3d2)][_0x1af176(0x430)]=_0x479033?.[_0x1af176(0x430)],this['localWebhook'][_0x1af176(0x1b2)]=_0x479033?.['CHATS_DELETE'],this[_0x1af176(0x3d2)][_0x1af176(0x338)]=_0x479033?.['CONTACTS_SET'],this['localWebhook']['CONTACTS_UPSERT']=_0x479033?.[_0x1af176(0x40f)],this['localWebhook'][_0x1af176(0x1c7)]=_0x479033?.[_0x1af176(0x1c7)],this['localWebhook'][_0x1af176(0x63a)]=_0x479033?.[_0x1af176(0x63a)],this[_0x1af176(0x3d2)]['MESSAGES_SET']=_0x479033?.[_0x1af176(0x126)],this['localWebhook'][_0x1af176(0x532)]=_0x479033?.[_0x1af176(0x532)],this['localWebhook'][_0x1af176(0xaa)]=_0x479033?.[_0x1af176(0xaa)];}async[a0_0x13f4c8(0x3ed)](_0x378663){const _0x421509=a0_0x13f4c8;let _0x29227f=[_0x421509(0x1f1),_0x421509(0x1d2),_0x421509(0x38a),_0x421509(0x93),_0x421509(0x667),_0x421509(0x1c5),_0x421509(0x17c),_0x421509(0x1b0),_0x421509(0x365),_0x421509(0x1a3),_0x421509(0x3ee),_0x421509(0x2e2),_0x421509(0x634),'CHATS_UPSERT',_0x421509(0x430),_0x421509(0x1b2),_0x421509(0x338),'CONTACTS_UPSERT',_0x421509(0x1c7),_0x421509(0x63a),_0x421509(0x126),_0x421509(0x532),_0x421509(0xaa)],_0x38b23d={};return _0x29227f[_0x421509(0x543)](_0x26c344=>{_0x378663[_0x26c344]!==void 0x0&&(_0x38b23d[_0x26c344]=_0x378663[_0x26c344]);}),await this[_0x421509(0x65c)]['webhook']['create'](_0x38b23d,this['instanceName']),Object['assign'](this['localWebhook'],_0x38b23d),await this[_0x421509(0x65c)][_0x421509(0x20f)]['find'](this[_0x421509(0x3a7)]);}async[a0_0x13f4c8(0x6be)](){const _0x2caaeb=a0_0x13f4c8;return await this[_0x2caaeb(0x65c)][_0x2caaeb(0x20f)][_0x2caaeb(0x39d)](this[_0x2caaeb(0x3a7)]);}async[a0_0x13f4c8(0x50c)](_0x5af5c3,_0x5b9cb9){const _0x2b7a32=a0_0x13f4c8;let _0x2c931f=_0x5af5c3[_0x2b7a32(0x3f0)](/[\.-]/gm,'_')[_0x2b7a32(0x5ef)](),_0x8ed1a3=this[_0x2b7a32(0x3d2)]['enabled']&&(0x0,k[_0x2b7a32(0x3b1)])(this['localWebhook'][_0x2b7a32(0x1d2)])?this[_0x2b7a32(0x3d2)]['url']+(this[_0x2b7a32(0x3d2)][_0x2b7a32(0x93)]?this[_0x2b7a32(0x4af)][_0x5af5c3]:''):null,_0x154b0b=this['localWebhook'][_0x2c931f],_0xb7e524=oe&&oe[_0x2b7a32(0x38a)]&&(0x0,k[_0x2b7a32(0x3b1)])(oe[_0x2b7a32(0x1d2)])?oe[_0x2b7a32(0x1d2)]+(oe[_0x2b7a32(0x93)]?this['webhookMap'][_0x5af5c3]:''):null,_0x4ede7f=oe?oe[_0x2c931f]:null;if(_0x154b0b&&_0x8ed1a3)try{await se[_0x2b7a32(0x29d)][_0x2b7a32(0x419)]({'baseURL':_0x8ed1a3})['post']('',{'event':_0x5af5c3,'instance':this[_0x2b7a32(0x571)][_0x2b7a32(0x5e2)],'data':_0x5b9cb9}),this['logger'][_0x2b7a32(0x4e2)](_0x2b7a32(0x3f8)+_0x5af5c3+':\x20'+_0x8ed1a3);}catch(_0x3e9016){this[_0x2b7a32(0x19a)][_0x2b7a32(0x3d5)](this[_0x2b7a32(0x3a7)]+'\x20('+this[_0x2b7a32(0x571)][_0x2b7a32(0x46a)]+_0x2b7a32(0x40e)+{'local':c['name']+_0x2b7a32(0x22c),'message':_0x3e9016?.[_0x2b7a32(0x191)],'hostName':_0x3e9016?.[_0x2b7a32(0x176)],'syscall':_0x3e9016?.[_0x2b7a32(0x5fd)],'code':_0x3e9016?.[_0x2b7a32(0x3d4)],'error':_0x3e9016?.['errno'],'stack':_0x3e9016?.[_0x2b7a32(0x479)],'name':_0x3e9016?.['name']});}if(_0x4ede7f&&_0xb7e524)try{await se['default']['create']({'baseURL':_0xb7e524})[_0x2b7a32(0x510)]('',{'event':_0x5af5c3,'instance':this[_0x2b7a32(0x571)][_0x2b7a32(0x5e2)],'data':_0x5b9cb9}),this[_0x2b7a32(0x19a)][_0x2b7a32(0x4e2)](_0x2b7a32(0xa6)+_0x5af5c3+':\x20'+_0xb7e524);}catch(_0x39551a){this[_0x2b7a32(0x19a)]['error'](this[_0x2b7a32(0x3a7)]+'\x20('+this['instance'][_0x2b7a32(0x46a)]+'):\x20'+{'local':c[_0x2b7a32(0x5e2)]+_0x2b7a32(0x23d),'message':_0x39551a?.['message'],'hostName':_0x39551a?.['hostname'],'syscall':_0x39551a?.[_0x2b7a32(0x5fd)],'code':_0x39551a?.[_0x2b7a32(0x3d4)],'error':_0x39551a?.[_0x2b7a32(0x68c)],'stack':_0x39551a?.[_0x2b7a32(0x479)],'name':_0x39551a?.[_0x2b7a32(0x5e2)]});}}async[a0_0x13f4c8(0x128)]({qr:_0x2a3902,connection:_0x1fcb7a,lastDisconnect:_0x5e9700}){const _0x633e68=a0_0x13f4c8;if(_0x2a3902){if(this[_0x633e68(0x571)][_0x633e68(0x45f)][_0x633e68(0x685)]===ho)return this[_0x633e68(0x50c)](_0x633e68(0x422),{'message':_0x633e68(0x67c),'statusCode':y[_0x633e68(0x47c)][_0x633e68(0x13a)]}),this[_0x633e68(0x278)]={'state':_0x633e68(0x63c),'statusReason':y[_0x633e68(0x47c)][_0x633e68(0x6aa)]},this[_0x633e68(0x50c)](_0x633e68(0x231),{'instance':this[_0x633e68(0x571)][_0x633e68(0x5e2)],...this['stateConnection']}),this[_0x633e68(0x50c)](_0x633e68(0x61e),{'instance':this[_0x633e68(0x571)][_0x633e68(0x5e2)],'status':_0x633e68(0x2bf)}),this[_0x633e68(0x65c)]['auth'][_0x633e68(0x419)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x633e68(0x652)]()},this[_0x633e68(0x571)][_0x633e68(0x5e2)]),this['endSession']=!0x0,this['eventEmitter'][_0x633e68(0x311)](_0x633e68(0x3af),this['instance'][_0x633e68(0x5e2)]);this[_0x633e68(0x571)][_0x633e68(0x45f)][_0x633e68(0x685)]++;let _0x1af5fb={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x633e68(0x10a)}};wr[_0x633e68(0x29d)][_0x633e68(0x124)](_0x2a3902,_0x1af5fb,(_0x325dd5,_0x3a2a8a)=>{const _0xd05110=_0x633e68;if(_0x325dd5){this[_0xd05110(0x19a)][_0xd05110(0x3d5)](this['instanceName']+'\x20('+this['instance'][_0xd05110(0x46a)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x325dd5 instanceof Error?_0x325dd5[_0xd05110(0x191)]:JSON[_0xd05110(0x33c)](_0x325dd5,null,0x2)));return;}this[_0xd05110(0x571)][_0xd05110(0x45f)][_0xd05110(0x696)]=_0x3a2a8a,this[_0xd05110(0x571)]['qrcode'][_0xd05110(0x3d4)]=_0x2a3902,this[_0xd05110(0x50c)](_0xd05110(0x422),{'qrcode':{'instance':this[_0xd05110(0x571)][_0xd05110(0x5e2)],'pairingCode':this[_0xd05110(0x571)]['qrcode'][_0xd05110(0x379)],'code':_0x2a3902,'base64':_0x3a2a8a}});}),this[_0x633e68(0x284)]?this[_0x633e68(0x571)][_0x633e68(0x45f)][_0x633e68(0x379)]=await this['client']['requestPairingCode'](this[_0x633e68(0x284)]):this[_0x633e68(0x571)][_0x633e68(0x45f)][_0x633e68(0x379)]=null,yr[_0x633e68(0x29d)][_0x633e68(0x58a)](_0x2a3902,{'small':!0x0},_0xddd523=>this[_0x633e68(0x19a)]['log'](_0x633e68(0x295)+this[_0x633e68(0x571)]['name']+',\x20qrcodeCount:\x20'+this[_0x633e68(0x571)][_0x633e68(0x45f)][_0x633e68(0x685)]+_0x633e68(0x6d)+this['instance'][_0x633e68(0x45f)][_0x633e68(0x379)]+_0x633e68(0x34f)+_0xddd523));}if(_0x1fcb7a&&(this[_0x633e68(0x278)]={'state':_0x1fcb7a,'statusReason':_0x5e9700?.[_0x633e68(0x3d5)]?.[_0x633e68(0x30d)]?.['statusCode']??0xc8},this[_0x633e68(0x50c)]('connection.update',{'instance':this['instance'][_0x633e68(0x5e2)],...this[_0x633e68(0x278)]})),_0x1fcb7a===_0x633e68(0x62f)){if(this[_0x633e68(0x2ad)]++,this[_0x633e68(0xfd)]['push'](Date[_0x633e68(0x652)]()),this[_0x633e68(0xfd)]=this[_0x633e68(0xfd)][_0x633e68(0x10e)](_0x823984=>Date['now']()-_0x823984<this[_0x633e68(0x355)]),_0x5e9700[_0x633e68(0x3d5)]?.['output']?.[_0x633e68(0x501)]!==y[_0x633e68(0x47c)][_0x633e68(0x14e)]&&this[_0x633e68(0xfd)]['length']<=this[_0x633e68(0x233)])await this[_0x633e68(0x587)]();else{this[_0x633e68(0x50c)](_0x633e68(0x61e),{'instance':this[_0x633e68(0x571)][_0x633e68(0x5e2)],'status':'removed'}),this[_0x633e68(0x10c)]=!0x1,this[_0x633e68(0x65c)][_0x633e68(0x20f)][_0x633e68(0x5c3)](this[_0x633e68(0x3a7)]),this[_0x633e68(0x65c)][_0x633e68(0x206)][_0x633e68(0x419)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x633e68(0x652)]()},this[_0x633e68(0x571)][_0x633e68(0x5e2)]);try{this['logger'][_0x633e68(0x41a)](this[_0x633e68(0x3a7)]+'\x20('+this['instance'][_0x633e68(0x46a)]+_0x633e68(0x133));let _0x59c710=await this['repository']['message']['deleteAll'](this[_0x633e68(0x571)][_0x633e68(0x46a)]);_0x59c710[_0x633e68(0x601)]?this[_0x633e68(0x19a)][_0x633e68(0x41a)](this[_0x633e68(0x3a7)]+'\x20('+this[_0x633e68(0x571)][_0x633e68(0x46a)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x633e68(0x3d5)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x59c710[_0x633e68(0x3d5)]);}catch(_0x4251d2){console['error'](_0x633e68(0x676),_0x4251d2);}this['delayMessage']!==null&&(this[_0x633e68(0x19a)][_0x633e68(0x41a)](this[_0x633e68(0x3a7)]+'\x20('+this[_0x633e68(0x571)]['wuid']+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x633e68(0x4f1)]),this[_0x633e68(0x4f1)]=null),this['logger'][_0x633e68(0x41a)](this[_0x633e68(0x3a7)]+'\x20('+this[_0x633e68(0x571)]['wuid']+_0x633e68(0x4f3)),this[_0x633e68(0x6a7)]=null,this[_0x633e68(0x3ff)]['emit'](_0x633e68(0x210),this['instance'][_0x633e68(0x5e2)],_0x633e68(0x56d)),this['client']?.['ws']?.['close'](),this[_0x633e68(0x147)][_0x633e68(0x363)](new Error('Close\x20connection'));}}if(_0x1fcb7a==='open'){this[_0x633e68(0x271)],this['instance'][_0x633e68(0x46a)]=this[_0x633e68(0x147)][_0x633e68(0x429)]['id'][_0x633e68(0x3f0)](/:\d+/,'')[_0x633e68(0x3f0)](_0x633e68(0x68b),''),this['instance']['profilePictureUrl']=(await this[_0x633e68(0x534)](this[_0x633e68(0x571)]['wuid']+_0x633e68(0x68b)))[_0x633e68(0x1e0)],this[_0x633e68(0x65c)]['auth'][_0x633e68(0x419)]({'online':!0x0,'owner':this['instance'][_0x633e68(0x46a)],'lastDisconnect':null},this[_0x633e68(0x571)][_0x633e68(0x5e2)]);let _0x45c467=_0x633e68(0x6b4)+this[_0x633e68(0x571)][_0x633e68(0x46a)],_0x4e738b=0x28,_0x1f6d22=Math[_0x633e68(0x4ce)]((_0x4e738b-_0x45c467[_0x633e68(0xa3)])/0x2),_0x349990='\x20'[_0x633e68(0x31d)](_0x1f6d22),_0x5e7029='CONECTADO\x20À\x20UAZAPI',_0x28b525=_0x633e68(0x359)+this[_0x633e68(0x571)]['name'],_0x4d8b65=(''+_0x349990+_0x45c467+_0x349990)[_0x633e68(0x625)](_0x4e738b,'\x20'),_0x2b73b0=(''+_0x349990+_0x5e7029+_0x349990)['padEnd'](_0x4e738b,'\x20'),_0x188c72=(''+_0x349990+_0x28b525+_0x349990)[_0x633e68(0x625)](_0x4e738b,'\x20'),_0x3ced76=Math[_0x633e68(0x555)](_0x4d8b65[_0x633e68(0xa3)],_0x2b73b0[_0x633e68(0xa3)],_0x188c72[_0x633e68(0xa3)]),_0x368ce1=_0x4d8b65[_0x633e68(0x625)](_0x3ced76,'\x20'),_0x126392=_0x2b73b0[_0x633e68(0x625)](_0x3ced76,'\x20'),_0x3c6a54=_0x188c72['padEnd'](_0x3ced76,'\x20');this[_0x633e68(0x19a)][_0x633e68(0x629)]((_0x633e68(0x616)+'─'[_0x633e68(0x31d)](_0x3ced76)+_0x633e68(0x3b9)+_0x126392+_0x633e68(0x251)+_0x3c6a54+_0x633e68(0x251)+_0x368ce1+_0x633e68(0x2f1)+'─'['repeat'](_0x3ced76)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x633e68(0x51a)](),this[_0x633e68(0x10c)]=!0x0;}}[a0_0x13f4c8(0x271)](){const _0x48566a=a0_0x13f4c8;this[_0x48566a(0x2ad)]=0x0,this[_0x48566a(0xfd)]=[];}async[a0_0x13f4c8(0x261)](_0x10511c,_0x25c881=!0x1){const _0x26b4f1=a0_0x13f4c8;try{let _0x381251=await this[_0x26b4f1(0x65c)][_0x26b4f1(0x191)]['find']({'where':{'_id':_0x10511c['id']}},this[_0x26b4f1(0x571)][_0x26b4f1(0x46a)]);return _0x25c881?_0x381251[0x0]:_0x381251[0x0][_0x26b4f1(0x191)];}catch{return{'conversation':''};}}[a0_0x13f4c8(0xb6)](){const _0x301391=a0_0x13f4c8;let _0x310a3e=this['configService'][_0x301391(0x208)](_0x301391(0x5e8)),_0x4e91f5=this[_0x301391(0x5af)][_0x301391(0x208)](_0x301391(0x647));_0x310a3e?.['CLEANING_INTERVAL']&&!_0x4e91f5['ENABLED']&&setInterval(()=>{const _0x2b109f=_0x301391;try{for(let [_0x1aa25e,_0x101786]of Object[_0x2b109f(0x35c)](_0x310a3e))_0x101786===!0x0&&(0x0,Dt[_0x2b109f(0x129)])('rm\x20-rf\x20'+(0x0,F[_0x2b109f(0x40c)])(this[_0x2b109f(0x69c)],_0x1aa25e[_0x2b109f(0x1c8)](),this['instance'][_0x2b109f(0x46a)])+'/*.json');}catch{}},(_0x310a3e?.[_0x301391(0x553)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x21e2d7=a0_0x13f4c8;let _0x11ef93=this['configService'][_0x21e2d7(0x208)](_0x21e2d7(0x647)),_0x427acf=this['configService'][_0x21e2d7(0x208)](_0x21e2d7(0x285));return _0x427acf?.[_0x21e2d7(0x4d0)]?await ys(_0x427acf,this[_0x21e2d7(0x571)][_0x21e2d7(0x5e2)]):_0x11ef93[_0x21e2d7(0x4d0)]?await ws(this['instance']['name']):await(0x0,y[_0x21e2d7(0x585)])((0x0,F[_0x21e2d7(0x40c)])(he,this['instance'][_0x21e2d7(0x5e2)]));}async[a0_0x13f4c8(0x51a)](){const _0x490bc9=a0_0x13f4c8;let _0x3e7b6b=()=>Math[_0x490bc9(0x4ce)](Math['random']()*0x2711)+0x7d0,_0x19e6ca=async()=>{const _0x1d3fec=_0x490bc9;if(!this['isConnected']){this['logger']['verbose'](_0x1d3fec(0x6c3)),this['isRunning']=!0x1;return;}if(this[_0x1d3fec(0x571)][_0x1d3fec(0x46a)]&&this[_0x1d3fec(0x6a7)]&&this[_0x1d3fec(0x4f1)]!==null&&this['delayMessage']!==void 0x0){let _0x3d7747=Math[_0x1d3fec(0x62d)](this['delayMessage']/0xea60);this['logger']['verbose'](this[_0x1d3fec(0x3a7)]+'\x20('+this[_0x1d3fec(0x571)][_0x1d3fec(0x46a)]+_0x1d3fec(0x438)+_0x3d7747+_0x1d3fec(0x19d)),this[_0x1d3fec(0x332)]=!0x1;return;}else this[_0x1d3fec(0x571)]['wuid']&&(this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1d3fec(0x46a)]+_0x1d3fec(0x4ad)),this[_0x1d3fec(0x19a)][_0x1d3fec(0x41a)](this[_0x1d3fec(0x3a7)]+'\x20('+this['instance'][_0x1d3fec(0x46a)]+'):\x20Dados\x20migrados\x20com\x20sucesso'),this[_0x1d3fec(0x6a7)]||await this[_0x1d3fec(0xb7)](),(this[_0x1d3fec(0x4f1)]===null||this[_0x1d3fec(0x4f1)]===void 0x0)&&await this['scheduleNextCheck']());if(this['isRunning']){let _0x3d4109=_0x3e7b6b();this[_0x1d3fec(0x19a)][_0x1d3fec(0x41a)](this[_0x1d3fec(0x3a7)]+_0x1d3fec(0x30f)+_0x3d4109/0x3e8+_0x1d3fec(0x631)),setTimeout(_0x19e6ca,_0x3d4109);}};if(this[_0x490bc9(0x332)])return;this[_0x490bc9(0x332)]=!0x0;let _0xa68676=_0x3e7b6b();setTimeout(_0x19e6ca,_0xa68676);}async['testProxy'](_0x1639d5,_0x330fe1,_0x431db2,_0x217584,_0x8762b9){const _0x4dc7a5=a0_0x13f4c8;this['logger']['verbose'](_0x4dc7a5(0x9e));try{let _0x426d58={'host':_0x1639d5,'port':parseInt(_0x330fe1),'protocol':_0x431db2};_0x217584&&_0x8762b9&&(_0x426d58={..._0x426d58,'auth':{'username':_0x217584,'password':_0x8762b9}});let _0x4d64a9=[_0x4dc7a5(0x183),_0x4dc7a5(0x5c0),'http://checkip.dyndns.org'];for(let _0x1563bc of _0x4d64a9)try{let _0x165bf7=await se[_0x4dc7a5(0x29d)]['get'](_0x1563bc,{'proxy':_0x426d58}),_0x4ca396;return _0x1563bc[_0x4dc7a5(0x542)](_0x4dc7a5(0x4fc))||_0x1563bc[_0x4dc7a5(0x542)](_0x4dc7a5(0x550))?_0x4ca396=_0x165bf7[_0x4dc7a5(0x4f2)]['ip']:_0x1563bc[_0x4dc7a5(0x542)]('dyndns.org')&&(_0x4ca396=_0x165bf7[_0x4dc7a5(0x4f2)][_0x4dc7a5(0x5c7)](/\d+\.\d+\.\d+\.\d+/)[0x0]),this['logger'][_0x4dc7a5(0x41a)]('testProxy\x20response\x20from\x20'+_0x1563bc+':\x20'+_0x4ca396),!0x0;}catch(_0x356815){this['logger'][_0x4dc7a5(0x3d5)](_0x4dc7a5(0x318)+_0x1563bc+'\x20using\x20the\x20proxy:'+_0x356815);}return!0x1;}catch(_0x5065c7){return this[_0x4dc7a5(0x19a)][_0x4dc7a5(0x3d5)](_0x4dc7a5(0x2a2)+_0x5065c7),_0x5065c7[_0x4dc7a5(0x3a1)]?(this['logger'][_0x4dc7a5(0x3d5)]('Error\x20data:'+_0x5065c7[_0x4dc7a5(0x3a1)]['data']),this[_0x4dc7a5(0x19a)][_0x4dc7a5(0x3d5)](_0x4dc7a5(0x237)+_0x5065c7['response']['status']),this['logger'][_0x4dc7a5(0x3d5)]('Error\x20headers:'+_0x5065c7[_0x4dc7a5(0x3a1)][_0x4dc7a5(0x52b)])):_0x5065c7[_0x4dc7a5(0x6a9)]?this[_0x4dc7a5(0x19a)]['error']('No\x20response\x20received:'+_0x5065c7[_0x4dc7a5(0x6a9)]):this['logger'][_0x4dc7a5(0x3d5)]('Error\x20message:'+_0x5065c7[_0x4dc7a5(0x191)]),!0x1;}}async['tryProxy'](_0x50b3c9){const _0x402278=a0_0x13f4c8;if(console[_0x402278(0x4e2)](_0x402278(0x483)),await this['testProxy'](_0x50b3c9[_0x402278(0x484)],_0x50b3c9[_0x402278(0x36e)],_0x50b3c9[_0x402278(0xe0)],_0x50b3c9[_0x402278(0x5bf)],_0x50b3c9[_0x402278(0x42d)])){console[_0x402278(0x4e2)](_0x402278(0x666));let _0x5c7b71=_0x50b3c9[_0x402278(0xe0)]+_0x402278(0x4f7)+_0x50b3c9['host']+':'+_0x50b3c9['port'];return _0x50b3c9[_0x402278(0x5bf)]&&_0x50b3c9[_0x402278(0x42d)]&&(_0x5c7b71=_0x50b3c9[_0x402278(0x5bf)]+':'+_0x50b3c9[_0x402278(0x42d)]+'@'+_0x5c7b71),this[_0x402278(0x65c)][_0x402278(0x206)][_0x402278(0x419)]({'ip':_0x50b3c9[_0x402278(0x484)]},this[_0x402278(0x571)][_0x402278(0x5e2)]),{'agent':new br[(_0x402278(0x613))](_0x5c7b71)};}return null;}['createProxyConfig'](_0x4a62aa){const _0x46a625=a0_0x13f4c8;let _0x870a94=_0x4a62aa[_0x46a625(0x545)](':');if(_0x870a94[_0x46a625(0xa3)]!==0x4)throw new Error(_0x46a625(0x68));return{'host':_0x870a94[0x0],'port':_0x870a94[0x1],'username':_0x870a94[0x2],'password':_0x870a94[0x3],'protocol':'http'};}async[a0_0x13f4c8(0x587)](_0x21303e,_0x1f4685=!0x0){const _0x32ada3=a0_0x13f4c8;try{let _0x21707b={},_0x1bb16f=0x0,_0x5c228e=this[_0x32ada3(0x5af)][_0x32ada3(0x208)](_0x32ada3(0x121))||!0x1;if(console[_0x32ada3(0x4e2)]('AllProxy\x20ligado:\x20',_0x5c228e),_0x5c228e){let _0x470a19;try{let _0x140057=(await this[_0x32ada3(0x65c)][_0x32ada3(0x206)][_0x32ada3(0x39d)](this['instanceName']))['ip'];for(_0x140057?_0x470a19=pr(_0x140057):_0x470a19=bs(),_0x470a19&&Ss(_0x470a19)&&(_0x21707b=await this['tryProxy'](_0x470a19),_0x21707b&&_0x1bb16f++);!_0x21707b&&_0x1bb16f<0x3;){let _0x4a0f9d=bs();if(_0x4a0f9d){if(_0x470a19=this[_0x32ada3(0x656)](_0x4a0f9d[_0x32ada3(0x484)]+':'+_0x4a0f9d[_0x32ada3(0x36e)]+':'+_0x4a0f9d['username']+':'+_0x4a0f9d[_0x32ada3(0x42d)]),Ss(_0x470a19)){if(_0x21707b=await this[_0x32ada3(0x483)](_0x470a19),_0x21707b)break;}else this[_0x32ada3(0x19a)][_0x32ada3(0x3d5)]('Configuração\x20de\x20proxy\x20inválida\x20gerada.');}_0x1bb16f++;}}catch(_0x3c205a){this[_0x32ada3(0x19a)]['error'](_0x32ada3(0x1e7)+_0x3c205a),_0x21707b={};}!_0x21707b&&_0x1bb16f>=0x3&&(this['logger'][_0x32ada3(0x2ce)](_0x32ada3(0x440)),_0x21707b={});}this[_0x32ada3(0x218)](),this[_0x32ada3(0x571)][_0x32ada3(0x515)]=await this[_0x32ada3(0x3b8)]();let {version:_0x4356c3}=await(0x0,y['fetchLatestBaileysVersion'])(),_0x21e01f=[vs,Sr,(0x0,Es[_0x32ada3(0x400)])()],_0x10473c={..._0x21707b,'auth':{'creds':this[_0x32ada3(0x571)]['authState'][_0x32ada3(0x103)][_0x32ada3(0x3be)],'keys':(0x0,y[_0x32ada3(0x514)])(this['instance'][_0x32ada3(0x515)][_0x32ada3(0x103)]['keys'],(0x0,Ot[_0x32ada3(0x29d)])({'level':_0x32ada3(0x3d5)}))},'logger':(0x0,Ot[_0x32ada3(0x29d)])({'level':_0x32ada3(0x3d5)}),'printQRInTerminal':!0x1,'browser':_0x21303e?[_0x32ada3(0x41f),vs,(0x0,Es[_0x32ada3(0x400)])()]:_0x21e01f,'version':_0x4356c3,'retryRequestDelayMs':0xfa,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x32ada3(0x260)],'getMessage':async _0x4c26c0=>await this[_0x32ada3(0x261)](_0x4c26c0),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x6b44ce=>(_0x6b44ce[_0x32ada3(0x2ab)]?.['listType']==y[_0x32ada3(0x3d6)]['Message'][_0x32ada3(0x4e5)][_0x32ada3(0x425)]['PRODUCT_LIST']&&(_0x6b44ce=JSON[_0x32ada3(0x5d8)](JSON[_0x32ada3(0x33c)](_0x6b44ce)),_0x6b44ce[_0x32ada3(0x2ab)]['listType']=y[_0x32ada3(0x3d6)][_0x32ada3(0x346)][_0x32ada3(0x4e5)][_0x32ada3(0x425)]['SINGLE_SELECT']),_0x6b44ce)};return this[_0x32ada3(0x64d)]=!0x1,this[_0x32ada3(0x147)]=(0x0,y['default'])(_0x10473c),this[_0x32ada3(0x2f0)](),this[_0x32ada3(0x284)]=_0x21303e,this[_0x32ada3(0x147)];}catch(_0x27db5f){throw this[_0x32ada3(0x19a)][_0x32ada3(0x3d5)](this[_0x32ada3(0x3a7)]+'\x20('+this[_0x32ada3(0x571)][_0x32ada3(0x46a)]+_0x32ada3(0x40e)+(_0x27db5f instanceof Error?_0x27db5f[_0x32ada3(0x191)]:JSON[_0x32ada3(0x33c)](_0x27db5f,null,0x2))),new O(_0x27db5f?.[_0x32ada3(0x603)]());}}[a0_0x13f4c8(0x2f0)](){const _0x417850=a0_0x13f4c8;this[_0x417850(0x147)]['ev']['process'](_0x3e5fc4=>{const _0x42331a=_0x417850;if(!this['endSession']){let _0x33df21=this[_0x42331a(0x5af)][_0x42331a(0x208)]('DATABASE');if(_0x3e5fc4[_0x42331a(0x2a4)]){let _0x3f7fe9=_0x3e5fc4[_0x42331a(0x2a4)];this['messageHandle']['labels.edit'](_0x3f7fe9);}if(_0x3e5fc4[_0x42331a(0x57c)]){let _0x42c79f=_0x3e5fc4[_0x42331a(0x57c)];this[_0x42331a(0x32d)]['labels.association'](_0x42c79f);}if(_0x3e5fc4[_0x42331a(0x231)]&&this[_0x42331a(0x128)](_0x3e5fc4[_0x42331a(0x231)]),_0x3e5fc4['creds.update']&&this[_0x42331a(0x571)][_0x42331a(0x515)]['saveCreds'](),_0x3e5fc4[_0x42331a(0x5b6)]){let _0x487017=_0x3e5fc4[_0x42331a(0x5b6)];this['messageHandle']['messaging-history.set'](_0x487017,_0x33df21);}if(_0x3e5fc4[_0x42331a(0x29f)]){let _0x1c95d7=_0x3e5fc4['messages.upsert'];this['messageHandle'][_0x42331a(0x29f)](_0x1c95d7,_0x33df21);}if(_0x3e5fc4[_0x42331a(0x6c4)]){let _0x59dc44=_0x3e5fc4[_0x42331a(0x6c4)];_0x59dc44[_0x42331a(0x543)](_0x4fe99e=>{const _0x8bae4d=_0x42331a;if(hr[_0x4fe99e['key']['id']]){this[_0x8bae4d(0x147)]['ev'][_0x8bae4d(0x311)](_0x8bae4d(0x29f),{'messages':[_0x4fe99e],'type':_0x8bae4d(0x477)}),delete hr[_0x4fe99e[_0x8bae4d(0xcf)]['id']];return;}}),this[_0x42331a(0x32d)][_0x42331a(0x6c4)](_0x59dc44,_0x33df21);}if(_0x3e5fc4[_0x42331a(0x3b4)]){let _0x4caa10=_0x3e5fc4['presence.update'];if(this['localWebhook']?.[_0x42331a(0xaa)]&&_0x4caa10['id'][_0x42331a(0x542)](_0x42331a(0x341)))return;this['sendDataWebhook'](_0x42331a(0x3b4),_0x4caa10);}if(!this[_0x42331a(0x3d2)]?.['groups_ignore']){if(_0x3e5fc4[_0x42331a(0x66c)]){let _0x207489=_0x3e5fc4[_0x42331a(0x66c)];this['groupHandler'][_0x42331a(0x66c)](_0x207489);}if(_0x3e5fc4[_0x42331a(0x7e)]){let _0x944b44=_0x3e5fc4[_0x42331a(0x7e)];this[_0x42331a(0x490)][_0x42331a(0x7e)](_0x944b44);}if(_0x3e5fc4[_0x42331a(0x4dc)]){let _0xc17a57=_0x3e5fc4['group-participants.update'];this[_0x42331a(0x490)][_0x42331a(0x4dc)](_0xc17a57);}}if(_0x3e5fc4[_0x42331a(0x539)]){let _0x272446=_0x3e5fc4['chats.upsert'];this[_0x42331a(0x54f)][_0x42331a(0x539)](_0x272446,_0x33df21);}if(_0x3e5fc4[_0x42331a(0xfc)]){let _0x3e328e=_0x3e5fc4[_0x42331a(0xfc)];this[_0x42331a(0x54f)][_0x42331a(0xfc)](_0x3e328e,_0x33df21);}if(_0x3e5fc4['chats.delete']){let _0x24d09c=_0x3e5fc4[_0x42331a(0x41c)];this[_0x42331a(0x54f)][_0x42331a(0x41c)](_0x24d09c);}if(_0x3e5fc4['contacts.upsert']){let _0x1b795b=_0x3e5fc4[_0x42331a(0x56a)];this['contactHandle'][_0x42331a(0x56a)](_0x1b795b,_0x33df21);}if(_0x3e5fc4[_0x42331a(0x5a6)]){let _0x1a8d4a=_0x3e5fc4['contacts.update'];this[_0x42331a(0x1a4)]['contacts.update'](_0x1a8d4a,_0x33df21);}}});}[a0_0x13f4c8(0xfb)](_0x42ea2d){return new Promise(_0x1b9228=>setTimeout(_0x1b9228,_0x42ea2d));}[a0_0x13f4c8(0x4cb)](_0x2eab42){const _0x1019d5=a0_0x13f4c8;let _0xa708c9=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x1019d5(0x4bb)](_0x2eab42);if(_0xa708c9&&_0xa708c9[0x1]==='55'){let _0x1f3d04=_0xa708c9[0x2],_0x1c3ec7=_0xa708c9[0x3],_0x31ba9d=_0xa708c9[0x4];if(_0x1f3d04>='31'&&_0x1c3ec7==='9')return _0xa708c9[0x1]+_0x1f3d04+_0x31ba9d;}return _0x2eab42;}[a0_0x13f4c8(0xe4)](_0x52a469){const _0x377161=a0_0x13f4c8;return _0x52a469[_0x377161(0x542)](_0x377161(0x341))||_0x52a469['includes'](_0x377161(0x68b))||_0x52a469[_0x377161(0x542)](_0x377161(0x308))?_0x52a469:(_0x52a469=_0x52a469?.[_0x377161(0x3f0)](/\s/g,'')[_0x377161(0x3f0)](/\+/g,'')[_0x377161(0x3f0)](/\(/g,'')[_0x377161(0x3f0)](/\)/g,'')[_0x377161(0x545)](/\:/)[0x0][_0x377161(0x545)]('@')[0x0],_0x52a469[_0x377161(0xa3)]>=0x12?(_0x52a469=_0x52a469[_0x377161(0x3f0)](/[^\d-]/g,''),_0x52a469+_0x377161(0x341)):(_0x52a469=_0x52a469[_0x377161(0x3f0)](/\D/g,''),this[_0x377161(0x4cb)](_0x52a469)+_0x377161(0x68b)));}async['updatePresence'](_0x32aad5){const _0x3b719e=a0_0x13f4c8;let _0x48615c=this[_0x3b719e(0xe4)](_0x32aad5[_0x3b719e(0x41d)]),_0x95fbc9=(await this[_0x3b719e(0x170)]({'numbers':[_0x48615c]}))[0x0];if(!_0x95fbc9['exists']&&!(0x0,y[_0x3b719e(0x491)])(_0x95fbc9['jid']))throw new m(_0x95fbc9);let _0x4fefb0=(0x0,y[_0x3b719e(0x491)])(_0x48615c)?_0x48615c:_0x95fbc9[_0x3b719e(0x3df)];if((0x0,y['isJidGroup'])(_0x4fefb0))try{await this[_0x3b719e(0x147)]['groupMetadata'](_0x4fefb0);}catch{throw new j('Group\x20not\x20found');}try{return await this[_0x3b719e(0x147)][_0x3b719e(0x59c)](_0x4fefb0),await this[_0x3b719e(0x147)][_0x3b719e(0x50d)](_0x32aad5['presence'],_0x48615c),{'status':0xc8,'presence':_0x32aad5['presence']};}catch(_0x48a8b7){throw new m(_0x48a8b7[_0x3b719e(0x603)]());}}async[a0_0x13f4c8(0x534)](_0x2c4de9){const _0x34a4be=a0_0x13f4c8;let _0x4959e3=this[_0x34a4be(0xe4)](_0x2c4de9);try{return{'wuid':_0x4959e3,'profilePictureUrl':await this[_0x34a4be(0x147)][_0x34a4be(0x1e0)](_0x4959e3,'image')};}catch{return{'wuid':_0x4959e3,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x5c73b4,_0x47805a,_0x2eebff){const _0x3758b1=a0_0x13f4c8;_0x2eebff||(_0x2eebff={});let _0xb608ff=(await this['whatsappNumber']({'numbers':[_0x5c73b4]}))[0x0];if(!_0xb608ff['exists']&&!(0x0,y[_0x3758b1(0x491)])(_0xb608ff[_0x3758b1(0x3df)])&&!_0xb608ff[_0x3758b1(0x3df)][_0x3758b1(0x542)](_0x3758b1(0x308)))throw new m(_0xb608ff);let _0x304c71=_0xb608ff[_0x3758b1(0x3df)];try{_0x2eebff?.[_0x3758b1(0x274)]&&(await this['client']['presenceSubscribe'](_0x304c71),await this[_0x3758b1(0x147)]['sendPresenceUpdate'](_0x2eebff?.[_0x3758b1(0x570)]??_0x3758b1(0x1d0),_0x304c71),await(0x0,y['delay'])(_0x2eebff['delay']),await this['client']['sendPresenceUpdate']('paused',_0x304c71));let _0x4da65a=_0x2eebff?.[_0x3758b1(0x6b2)]!=!0x1?void 0x0:!0x1,_0xf9980b;if(_0x2eebff?.['quoted']){let _0x5659b6=_0x2eebff?.['quoted'],_0x266a53=_0x5659b6?.['message']?_0x5659b6:await this[_0x3758b1(0x261)](_0x5659b6[_0x3758b1(0xcf)],!0x0);if(!_0x266a53)throw'Message\x20not\x20found';_0xf9980b=_0x266a53;}let _0x2e0470;if((0x0,y[_0x3758b1(0x491)])(_0x304c71))try{let _0x811df9=await this[_0x3758b1(0x147)][_0x3758b1(0x165)](_0x304c71);if(!_0x811df9)throw new j(_0x3758b1(0x470));_0x2eebff?.[_0x3758b1(0x608)]&&(_0x2eebff[_0x3758b1(0x608)]?.[_0x3758b1(0x11a)]?_0x2e0470=_0x811df9[_0x3758b1(0x55b)][_0x3758b1(0x35b)](_0x23c45e=>_0x23c45e['id']):_0x2eebff[_0x3758b1(0x608)]?.[_0x3758b1(0xba)]?.['length']&&(_0x2e0470=_0x2eebff[_0x3758b1(0x608)][_0x3758b1(0xba)]['map'](_0x11dabb=>{const _0x14bee5=_0x3758b1;let _0x9726d2=this[_0x14bee5(0xe4)](_0x11dabb);return(0x0,y[_0x14bee5(0x491)])(_0x9726d2)?null:_0x9726d2;})));}catch{throw new j(_0x3758b1(0x470));}let _0x507591=await((async()=>{const _0x498fc6=_0x3758b1;let _0x234227={'quoted':_0xf9980b};if(!_0x47805a[_0x498fc6(0xfe)]&&!_0x47805a[_0x498fc6(0x9f)]&&!_0x47805a[_0x498fc6(0x595)]&&!_0x47805a[_0x498fc6(0x49f)]&&_0x304c71!==_0x498fc6(0x304)&&!_0x47805a[_0x498fc6(0xfe)])return await this[_0x498fc6(0x147)][_0x498fc6(0x52e)](_0x304c71,{'forward':{'key':{'remoteJid':this[_0x498fc6(0x571)][_0x498fc6(0x46a)],'fromMe':!0x0},'message':_0x47805a},'mentions':_0x2e0470},_0x234227);if(_0x47805a[_0x498fc6(0x49f)]){let _0x5ed05a=_0x47805a[_0x498fc6(0x49f)];return _0x2eebff?.[_0x498fc6(0x1cb)]&&(_0x5ed05a=await this[_0x498fc6(0x2a7)](_0x5ed05a,_0x304c71)),await this[_0x498fc6(0x147)][_0x498fc6(0x52e)](_0x304c71,{'text':_0x5ed05a,'mentions':_0x2e0470,'linkPreview':_0x4da65a},_0x234227);}return _0x304c71===_0x498fc6(0x304)?await this[_0x498fc6(0x147)][_0x498fc6(0x52e)](_0x304c71,_0x47805a[_0x498fc6(0x254)][_0x498fc6(0x68f)],{'backgroundColor':_0x47805a[_0x498fc6(0x254)]['option'][_0x498fc6(0x4cd)],'font':_0x47805a['status']['option'][_0x498fc6(0x5da)],'statusJidList':_0x47805a[_0x498fc6(0x254)][_0x498fc6(0x51c)][_0x498fc6(0x178)]}):await this['client'][_0x498fc6(0x52e)](_0x304c71,_0x47805a,_0x234227);})()),{message_normalized:_0x3809ec}=this['normalizeMessage'](_0x507591['message'],$(_0x507591[_0x3758b1(0x191)]),null),_0x335f65={'_id':_0x507591[_0x3758b1(0xcf)]['id'],'key':_0x507591[_0x3758b1(0xcf)],'pushName':_0x507591[_0x3758b1(0x275)],'message':{..._0x507591[_0x3758b1(0x191)]},'messageType':$(_0x507591[_0x3758b1(0x191)]),'message_normalized':{'key':_0x507591['key'],'pushName':_0x507591[_0x3758b1(0x275)],'messageTimestamp':_0x507591[_0x3758b1(0x50f)]&&_0x507591['messageTimestamp'][_0x3758b1(0x603)]()['length']<0xd?_0x507591[_0x3758b1(0x50f)]*0x3e8:_0x507591['messageTimestamp']||null,'source':(0x0,y[_0x3758b1(0x161)])(_0x507591[_0x3758b1(0xcf)]['id']),..._0x3809ec},'messageTimestamp':_0x507591['messageTimestamp']&&_0x507591[_0x3758b1(0x50f)][_0x3758b1(0x603)]()['length']<0xd?_0x507591['messageTimestamp']*0x3e8:_0x507591[_0x3758b1(0x50f)]||null,'owner':this['instance'][_0x3758b1(0x46a)],'source':(0x0,y[_0x3758b1(0x161)])(_0x507591[_0x3758b1(0xcf)]['id'])};return this[_0x3758b1(0x19a)][_0x3758b1(0x4e2)](_0x335f65),this[_0x3758b1(0x50c)](_0x3758b1(0x26f),_0x335f65),J(this[_0x3758b1(0x3a7)],_0x3758b1(0x1bf),{'message':_0x335f65}),this[_0x3758b1(0x3d7)](this[_0x3758b1(0x5af)]['get']('DATABASE'),_0x335f65,_0x3758b1(0x365)),await this['repository']['message']['insert']([_0x335f65],this[_0x3758b1(0x571)]['wuid']),_0x507591;}catch(_0x371f92){throw this[_0x3758b1(0x19a)][_0x3758b1(0x3d5)](this['instanceName']+'\x20('+this[_0x3758b1(0x571)][_0x3758b1(0x46a)]+_0x3758b1(0x40e)+_0x371f92[_0x3758b1(0x603)]()),new m(_0x371f92[_0x3758b1(0x603)]());}}get['connectionStatus'](){const _0x5a9a12=a0_0x13f4c8;return this[_0x5a9a12(0x278)];}async['textMessage'](_0x51e147){const _0x507746=a0_0x13f4c8;let _0x489af8=gr,_0x43e3f2=He;return _0x43e3f2&&this[_0x507746(0x3a7)][_0x507746(0x1c8)]()['includes'](_0x43e3f2['toLowerCase']())&&(_0x51e147['textMessage'][_0x507746(0x699)]+='\x0a\x0a'+_0x489af8),await this[_0x507746(0x29c)](_0x51e147[_0x507746(0x41d)],{'conversation':_0x51e147[_0x507746(0x24f)]['text']},_0x51e147?.[_0x507746(0x166)]);}async[a0_0x13f4c8(0x559)](_0xf2db67){const _0x24c0d6=a0_0x13f4c8;if(!_0xf2db67[_0x24c0d6(0x31f)])throw new m('Type\x20is\x20required');if(!_0xf2db67['content'])throw new m(_0x24c0d6(0x43c));if(_0xf2db67[_0x24c0d6(0x528)]){let _0x4765a2=await this[_0x24c0d6(0x65c)]['contact']['find']({'where':{}},this[_0x24c0d6(0x571)][_0x24c0d6(0x46a)]);if(!_0x4765a2[_0x24c0d6(0xa3)])throw new m(_0x24c0d6(0x38b));_0xf2db67[_0x24c0d6(0x178)]=_0x4765a2[_0x24c0d6(0x10e)](_0x136e5e=>_0x136e5e[_0x24c0d6(0x275)])[_0x24c0d6(0x35b)](_0x518bb1=>_0x518bb1[_0x24c0d6(0x1f1)]);}if(!_0xf2db67[_0x24c0d6(0x178)]?.[_0x24c0d6(0xa3)]&&!_0xf2db67[_0x24c0d6(0x528)])throw new m(_0x24c0d6(0x3d9));if(_0xf2db67['type']===_0x24c0d6(0x699)){if(!_0xf2db67['backgroundColor'])throw new m('Background\x20color\x20is\x20required');if(!_0xf2db67['font'])throw new m(_0x24c0d6(0x3ba));return{'content':{'text':_0xf2db67[_0x24c0d6(0x68f)]},'option':{'backgroundColor':_0xf2db67[_0x24c0d6(0x4cd)],'font':_0xf2db67['font'],'statusJidList':_0xf2db67[_0x24c0d6(0x178)]}};}if(_0xf2db67[_0x24c0d6(0x31f)]==='image')return{'content':{'image':{'url':_0xf2db67['content']},'caption':_0xf2db67['caption']},'option':{'statusJidList':_0xf2db67['statusJidList']}};if(_0xf2db67[_0x24c0d6(0x31f)]===_0x24c0d6(0x55d))return{'content':{'video':{'url':_0xf2db67[_0x24c0d6(0x68f)]},'caption':_0xf2db67['caption']},'option':{'statusJidList':_0xf2db67[_0x24c0d6(0x178)]}};if(_0xf2db67['type']===_0x24c0d6(0xfe)){this[_0x24c0d6(0x19a)][_0x24c0d6(0x41a)](_0x24c0d6(0x6c2)),this[_0x24c0d6(0x19a)]['verbose'](_0x24c0d6(0x4c1));let _0x1d0128=await this['convertaudio'](_0xf2db67[_0x24c0d6(0x68f)]);if(typeof _0x1d0128=='string'){this[_0x24c0d6(0x19a)][_0x24c0d6(0x41a)]('Audio\x20processed');let _0x96d06c=L[_0x24c0d6(0x3e3)](_0x1d0128)[_0x24c0d6(0x603)](_0x24c0d6(0x696)),_0x5198db={'content':{'audio':Buffer['from'](_0x96d06c,_0x24c0d6(0x696)),'ptt':!0x0,'mimetype':_0x24c0d6(0x569)},'option':{'statusJidList':_0xf2db67[_0x24c0d6(0x178)]}};return L[_0x24c0d6(0x2fd)](_0x1d0128),_0x5198db;}else throw new O(_0x1d0128);}throw new m(_0x24c0d6(0x42a));}async[a0_0x13f4c8(0x469)](_0x497f95){const _0x54cba8=a0_0x13f4c8;return await this[_0x54cba8(0x29c)](_0x54cba8(0x304),{'status':await this['formatStatusMessage'](_0x497f95['statusMessage'])});}async[a0_0x13f4c8(0x79)](_0x5650b9){const _0x3cbb82=a0_0x13f4c8;try{let _0x5699df=await(0x0,y['prepareWAMessageMedia'])({[_0x5650b9[_0x3cbb82(0x1b5)]]:(0x0,k[_0x3cbb82(0x3b1)])(_0x5650b9[_0x3cbb82(0x2db)])?{'url':_0x5650b9[_0x3cbb82(0x2db)]}:Buffer[_0x3cbb82(0x62a)](_0x5650b9['media'],_0x3cbb82(0x696))},{'upload':this[_0x3cbb82(0x147)][_0x3cbb82(0x11e)]}),_0x1fdc2c=_0x5650b9[_0x3cbb82(0x1b5)]+_0x3cbb82(0x346);if(_0x5650b9[_0x3cbb82(0x1b5)]===_0x3cbb82(0x2c6)&&!_0x5650b9[_0x3cbb82(0x316)]){let _0x25e13c=new RegExp(/.*\/(.+?)\./)[_0x3cbb82(0x4bb)](_0x5650b9[_0x3cbb82(0x2db)]);_0x5650b9[_0x3cbb82(0x316)]=_0x25e13c?_0x25e13c[0x1]:null;}let _0x108abf=(0x0,k[_0x3cbb82(0x3b1)])(_0x5650b9['media'])?_0x5650b9[_0x3cbb82(0x2db)]['split']('?')[0x0]:_0x5650b9['media'];this[_0x3cbb82(0x19a)]['verbose'](_0x3cbb82(0x135)+_0x108abf);let _0x43aefa;(0x0,k['isURL'])(_0x5650b9[_0x3cbb82(0x2db)])?_0x43aefa=(0x0,It[_0x3cbb82(0x139)])(_0x108abf):_0x5650b9['fileName']&&_0x5650b9['fileName']['includes']('.')?_0x43aefa=(0x0,It['getMIMEType'])(_0x5650b9[_0x3cbb82(0x316)]):_0x43aefa=(0x0,It[_0x3cbb82(0x139)])(_0x5650b9[_0x3cbb82(0x2db)]);let _0xbb5578=gr,_0x4a7d83=He;return _0x4a7d83&&this[_0x3cbb82(0x3a7)][_0x3cbb82(0x1c8)]()[_0x3cbb82(0x542)](_0x4a7d83[_0x3cbb82(0x1c8)]())&&(_0x5650b9['caption']+='\x0a\x0a'+_0xbb5578),_0x5699df[_0x1fdc2c][_0x3cbb82(0x4f5)]=_0x5650b9?.[_0x3cbb82(0x4f5)],_0x5699df[_0x1fdc2c][_0x3cbb82(0x2c9)]=_0x43aefa,_0x5699df[_0x1fdc2c][_0x3cbb82(0x316)]=_0x5650b9[_0x3cbb82(0x316)],_0x5650b9[_0x3cbb82(0x1b5)]===_0x3cbb82(0x55d)&&(_0x5699df[_0x1fdc2c][_0x3cbb82(0x620)]=Uint8Array[_0x3cbb82(0x62a)]((0x0,ve[_0x3cbb82(0x3e3)])((0x0,F[_0x3cbb82(0x40c)])(process['cwd'](),_0x3cbb82(0xb3)))),_0x5699df[_0x1fdc2c]['gifPlayback']=!0x1),(0x0,y[_0x3cbb82(0x232)])('',{[_0x1fdc2c]:{..._0x5699df[_0x1fdc2c]}},{'userJid':this['instance'][_0x3cbb82(0x46a)]});}catch(_0x289c22){throw this[_0x3cbb82(0x19a)][_0x3cbb82(0x3d5)](this[_0x3cbb82(0x3a7)]+'\x20('+this[_0x3cbb82(0x571)][_0x3cbb82(0x46a)]+'):\x20'+(_0x289c22 instanceof Error?_0x289c22[_0x3cbb82(0x191)]:JSON[_0x3cbb82(0x33c)](_0x289c22,null,0x2))),new O(_0x289c22?.[_0x3cbb82(0x603)]()||_0x289c22);}}async[a0_0x13f4c8(0x267)](_0x590a41){const _0x26586d=a0_0x13f4c8;let _0x4e473c=await this[_0x26586d(0x79)](_0x590a41[_0x26586d(0x267)]);return await this[_0x26586d(0x29c)](_0x590a41[_0x26586d(0x41d)],{..._0x4e473c[_0x26586d(0x191)]},_0x590a41?.[_0x26586d(0x166)]);}async['convertToWebP'](_0x34219c,_0x4bf6fa){const _0x340bc1=a0_0x13f4c8;try{this[_0x340bc1(0x19a)][_0x340bc1(0x41a)](_0x340bc1(0x2eb));let _0x20be9a,_0x534b5a=_0x4bf6fa+'-'+new Date()['getTime']();this[_0x340bc1(0x19a)]['verbose'](_0x340bc1(0x660)+_0x534b5a);let _0x25a9cd=''+(0x0,F[_0x340bc1(0x40c)])(this[_0x340bc1(0x69c)],_0x534b5a+_0x340bc1(0x100));if(this[_0x340bc1(0x19a)][_0x340bc1(0x41a)](_0x340bc1(0x62c)+_0x25a9cd),(0x0,k['isBase64'])(_0x34219c)){this[_0x340bc1(0x19a)]['verbose'](_0x340bc1(0x396));let _0x52c927=_0x34219c[_0x340bc1(0x3f0)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x3bc30e=Buffer[_0x340bc1(0x62a)](_0x52c927,_0x340bc1(0x696));_0x20be9a=''+(0x0,F[_0x340bc1(0x40c)])(this[_0x340bc1(0x69c)],_0x340bc1(0x568)+_0x534b5a+'.png'),this[_0x340bc1(0x19a)][_0x340bc1(0x41a)](_0x340bc1(0x4d5)+_0x20be9a),await(0x0,xt[_0x340bc1(0x29d)])(_0x3bc30e)[_0x340bc1(0x442)](_0x20be9a),this['logger'][_0x340bc1(0x41a)]('Image\x20created');}else{this[_0x340bc1(0x19a)][_0x340bc1(0x41a)]('Image\x20is\x20url');let _0x4897de=new Date()[_0x340bc1(0x1b9)](),_0x31bf81=_0x34219c+_0x340bc1(0xc4)+_0x4897de;this[_0x340bc1(0x19a)][_0x340bc1(0x41a)](_0x340bc1(0x1d5)+_0x31bf81);let _0x21ce7e=await se['default'][_0x340bc1(0x208)](_0x31bf81,{'responseType':_0x340bc1(0x25f)});this[_0x340bc1(0x19a)][_0x340bc1(0x41a)]('Getting\x20image\x20from\x20url');let _0x5b47e7=Buffer[_0x340bc1(0x62a)](_0x21ce7e[_0x340bc1(0x4f2)],_0x340bc1(0x34b));_0x20be9a=''+(0x0,F[_0x340bc1(0x40c)])(this[_0x340bc1(0x69c)],'temp-'+_0x534b5a+_0x340bc1(0x1d4)),this[_0x340bc1(0x19a)][_0x340bc1(0x41a)](_0x340bc1(0x4d5)+_0x20be9a),await(0x0,xt[_0x340bc1(0x29d)])(_0x5b47e7)[_0x340bc1(0x442)](_0x20be9a),this[_0x340bc1(0x19a)][_0x340bc1(0x41a)](_0x340bc1(0x37b));}return await(0x0,xt[_0x340bc1(0x29d)])(_0x20be9a)['webp']()[_0x340bc1(0x442)](_0x25a9cd),this['logger'][_0x340bc1(0x41a)](_0x340bc1(0x593)),L[_0x340bc1(0x2fd)](_0x20be9a),this[_0x340bc1(0x19a)][_0x340bc1(0x41a)]('Temp\x20image\x20deleted'),_0x25a9cd;}catch(_0x3e0017){console[_0x340bc1(0x3d5)](_0x340bc1(0x63d),_0x3e0017 instanceof Error?_0x3e0017[_0x340bc1(0x191)]:JSON['stringify'](_0x3e0017,null,0x2));}}async[a0_0x13f4c8(0x427)](_0x18a58d){const _0x28562d=a0_0x13f4c8;let _0x7d3808=await this[_0x28562d(0x5ed)](_0x18a58d['stickerMessage'][_0x28562d(0x340)],_0x18a58d[_0x28562d(0x41d)]),_0x2c51d8=await this[_0x28562d(0x29c)](_0x18a58d[_0x28562d(0x41d)],{'sticker':{'url':_0x7d3808}},_0x18a58d?.['options']);return L[_0x28562d(0x2fd)](_0x7d3808),this[_0x28562d(0x19a)]['verbose'](_0x28562d(0x44a)),_0x2c51d8;}async[a0_0x13f4c8(0x4b5)](_0x7e9a55){const _0x360b6c=a0_0x13f4c8;if(this[_0x360b6c(0x19a)]['verbose'](_0x360b6c(0x5e7)),!_0x7e9a55[_0x360b6c(0x166)]?.[_0x360b6c(0x56f)]&&_0x7e9a55['options']?.['encoding']!==!0x1&&(_0x7e9a55[_0x360b6c(0x166)][_0x360b6c(0x56f)]=!0x0),_0x7e9a55[_0x360b6c(0x166)]?.[_0x360b6c(0x56f)]){let _0x4152db=await this[_0x360b6c(0x36d)](_0x7e9a55[_0x360b6c(0x1b6)][_0x360b6c(0xfe)]);if(typeof _0x4152db==_0x360b6c(0x67e)){let _0x2b8585=L[_0x360b6c(0x3e3)](_0x4152db)[_0x360b6c(0x603)](_0x360b6c(0x696)),_0x575d61=this['sendMessageWithTyping'](_0x7e9a55[_0x360b6c(0x41d)],{'audio':Buffer[_0x360b6c(0x62a)](_0x2b8585,'base64'),'ptt':!0x0,'mimetype':_0x360b6c(0x569)},{'presence':_0x360b6c(0x30b),'delay':_0x7e9a55?.['options']?.[_0x360b6c(0x274)]});return L['unlinkSync'](_0x4152db),this[_0x360b6c(0x19a)]['verbose'](_0x360b6c(0x498)),_0x575d61;}else throw new O(_0x4152db);}return await this[_0x360b6c(0x29c)](_0x7e9a55[_0x360b6c(0x41d)],{'audio':(0x0,k[_0x360b6c(0x3b1)])(_0x7e9a55[_0x360b6c(0x1b6)][_0x360b6c(0xfe)])?{'url':_0x7e9a55[_0x360b6c(0x1b6)][_0x360b6c(0xfe)]}:Buffer[_0x360b6c(0x62a)](_0x7e9a55[_0x360b6c(0x1b6)][_0x360b6c(0xfe)],_0x360b6c(0x696)),'ptt':!0x0,'mimetype':_0x360b6c(0x177)},{'presence':_0x360b6c(0x30b),'delay':_0x7e9a55?.[_0x360b6c(0x166)]?.['delay']});}async[a0_0x13f4c8(0x36d)](_0x48230d){const _0x3451da=a0_0x13f4c8;this[_0x3451da(0x19a)][_0x3451da(0x41a)](_0x3451da(0x4c1));let _0x28a9a1,_0x541afc,_0x29c337=(0x0,Me['v4'])();if(this['logger']['verbose'](_0x3451da(0x378)+_0x29c337),(0x0,k[_0x3451da(0x3b1)])(_0x48230d)){this['logger'][_0x3451da(0x41a)](_0x3451da(0x463)),_0x541afc=''+(0x0,F[_0x3451da(0x40c)])(this[_0x3451da(0x69c)],_0x29c337+'.mp4'),_0x28a9a1=''+(0x0,F[_0x3451da(0x40c)])(this[_0x3451da(0x69c)],_0x3451da(0x568)+_0x29c337+_0x3451da(0x5e0)),this['logger'][_0x3451da(0x41a)](_0x3451da(0x3de)+_0x541afc),this[_0x3451da(0x19a)][_0x3451da(0x41a)](_0x3451da(0x531)+_0x28a9a1);let _0x4643ac=new Date()[_0x3451da(0x1b9)](),_0x475c20=_0x48230d+'?timestamp='+_0x4643ac;this['logger']['verbose'](_0x3451da(0x2e4)+_0x475c20);let _0x3bb7a0=await se[_0x3451da(0x29d)]['get'](_0x475c20,{'responseType':_0x3451da(0x25f)});this[_0x3451da(0x19a)][_0x3451da(0x41a)](_0x3451da(0x529)),L[_0x3451da(0x36b)](_0x28a9a1,_0x3bb7a0[_0x3451da(0x4f2)]);}else{this['logger'][_0x3451da(0x41a)]('Audio\x20is\x20base64'),_0x541afc=''+(0x0,F[_0x3451da(0x40c)])(this[_0x3451da(0x69c)],_0x29c337+_0x3451da(0x2f4)),_0x28a9a1=''+(0x0,F['join'])(this[_0x3451da(0x69c)],'temp-'+_0x29c337+'.mp3'),this['logger'][_0x3451da(0x41a)](_0x3451da(0x3de)+_0x541afc),this[_0x3451da(0x19a)][_0x3451da(0x41a)]('Temp\x20audio\x20path:\x20'+_0x28a9a1);let _0x533484=Buffer['from'](_0x48230d,_0x3451da(0x696));L[_0x3451da(0x36b)](_0x28a9a1,_0x533484),this[_0x3451da(0x19a)][_0x3451da(0x41a)](_0x3451da(0x281));}return this[_0x3451da(0x19a)][_0x3451da(0x41a)](_0x3451da(0x2d9)),new Promise((_0x3f96ae,_0x56e393)=>{const _0x529814=_0x3451da;(0x0,Dt[_0x529814(0x4bb)])(mr['default'][_0x529814(0x22f)]+'\x20-i\x20'+_0x28a9a1+_0x529814(0x32f)+_0x541afc+_0x529814(0x1ab),_0x552c17=>{const _0x1c3e1b=_0x529814;L[_0x1c3e1b(0x2fd)](_0x28a9a1),this[_0x1c3e1b(0x19a)][_0x1c3e1b(0x41a)](_0x1c3e1b(0x506)),_0x552c17&&_0x56e393(_0x552c17),this[_0x1c3e1b(0x19a)]['verbose'](_0x1c3e1b(0x15b)),_0x3f96ae(_0x541afc);});});}async[a0_0x13f4c8(0x327)](_0x14bc27){const _0x22532f=a0_0x13f4c8;let _0x2cd32e={},_0x1006ec=_0x22532f(0x617);if(_0x14bc27[_0x22532f(0x327)]?.[_0x22532f(0x267)]){_0x1006ec=_0x14bc27[_0x22532f(0x327)][_0x22532f(0x267)]?.['mediatype']['toUpperCase']()??_0x22532f(0x617),_0x2cd32e[_0x22532f(0x445)]=_0x1006ec['toLowerCase']()+_0x22532f(0x346);let _0x4efa7f=await this[_0x22532f(0x79)](_0x14bc27[_0x22532f(0x327)][_0x22532f(0x267)]);_0x2cd32e[_0x22532f(0x191)]=_0x4efa7f[_0x22532f(0x191)][_0x2cd32e[_0x22532f(0x445)]],_0x2cd32e['contentText']='*'+_0x14bc27['buttonMessage']['title']+_0x22532f(0x362)+_0x14bc27[_0x22532f(0x327)][_0x22532f(0x4be)];}let _0x48b4d3={'text':_0x14bc27[_0x22532f(0x327)][_0x22532f(0x58b)][_0x22532f(0x35b)](_0x4ea609=>_0x4ea609[_0x22532f(0x387)]),'ids':_0x14bc27[_0x22532f(0x327)]['buttons'][_0x22532f(0x35b)](_0x2952b2=>_0x2952b2[_0x22532f(0x527)])};if(!(0x0,k['arrayUnique'])(_0x48b4d3[_0x22532f(0x699)])||!(0x0,k[_0x22532f(0x417)])(_0x48b4d3['ids']))throw new m('Button\x20texts\x20cannot\x20be\x20repeated','Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x22532f(0x29c)](_0x14bc27['number'],{'buttonsMessage':{'text':_0x2cd32e?.[_0x22532f(0x445)]?void 0x0:_0x14bc27[_0x22532f(0x327)][_0x22532f(0x40d)],'contentText':_0x2cd32e?.[_0x22532f(0x32e)]??_0x14bc27[_0x22532f(0x327)]['description'],'footerText':_0x14bc27['buttonMessage']?.[_0x22532f(0x1ac)],'buttons':_0x14bc27['buttonMessage']['buttons']['map'](_0x21404f=>({'buttonText':{'displayText':_0x21404f['buttonText']},'buttonId':_0x21404f[_0x22532f(0x527)],'type':0x1})),'headerType':y[_0x22532f(0x3d6)][_0x22532f(0x346)][_0x22532f(0x58c)][_0x22532f(0x12f)][_0x1006ec],[_0x2cd32e?.[_0x22532f(0x445)]]:_0x2cd32e?.['message']}},_0x14bc27?.[_0x22532f(0x166)]);}async[a0_0x13f4c8(0x5ae)](_0x221273){const _0x565c7e=a0_0x13f4c8;return await this[_0x565c7e(0x29c)](_0x221273[_0x565c7e(0x41d)],{'locationMessage':{'degreesLatitude':_0x221273[_0x565c7e(0x5ae)][_0x565c7e(0x21a)],'degreesLongitude':_0x221273[_0x565c7e(0x5ae)][_0x565c7e(0x6af)],'name':_0x221273[_0x565c7e(0x5ae)]?.[_0x565c7e(0x5e2)],'address':_0x221273['locationMessage']?.[_0x565c7e(0x3cb)]}},_0x221273?.[_0x565c7e(0x166)]);}async[a0_0x13f4c8(0x303)](_0x341490){const _0x495d1c=a0_0x13f4c8;let _0x5606c7={},_0x3a1af1=_0x3c56ef=>{const _0x265be2=a0_0x2b73;let _0x20e0b0=_0x265be2(0x6c5)+_0x3c56ef[_0x265be2(0x58d)]+_0x265be2(0xe9)+_0x3c56ef[_0x265be2(0x58d)]+'\x0a';_0x3c56ef[_0x265be2(0x352)]&&(_0x20e0b0+='ORG:'+_0x3c56ef[_0x265be2(0x352)]+';\x0a'),_0x3c56ef[_0x265be2(0x6b)]&&(_0x20e0b0+=_0x265be2(0x56b)+_0x3c56ef[_0x265be2(0x6b)]+'\x0a'),_0x3c56ef[_0x265be2(0x1d2)]&&(_0x20e0b0+=_0x265be2(0x245)+_0x3c56ef[_0x265be2(0x1d2)]+'\x0a');let _0x16cc01='';return _0x3c56ef[_0x265be2(0x284)]&&_0x3c56ef[_0x265be2(0x284)]['split']('|')[_0x265be2(0x543)]((_0x12f3d0,_0x1670c1)=>{const _0xd82960=_0x265be2;let _0x290992=this['createJid'](_0x12f3d0)[_0xd82960(0x3f0)]('@s.whatsapp.net','');_0x16cc01+=_0xd82960(0x26e)+(_0x1670c1+0x1)+'.TEL;waid='+_0x290992+':'+_0x12f3d0+'\x0aitem'+(_0x1670c1+0x1)+_0xd82960(0x5e5);}),_0x20e0b0+=_0x16cc01+'END:VCARD',_0x20e0b0;};return _0x341490['contactMessage'][_0x495d1c(0xa3)]===0x1?_0x5606c7[_0x495d1c(0x303)]={'displayName':_0x341490[_0x495d1c(0x303)][0x0][_0x495d1c(0x58d)],'vcard':_0x3a1af1(_0x341490[_0x495d1c(0x303)][0x0])}:_0x5606c7['contactsArrayMessage']={'displayName':_0x341490[_0x495d1c(0x303)][_0x495d1c(0xa3)]+'\x20contacts','contacts':_0x341490[_0x495d1c(0x303)][_0x495d1c(0x35b)](_0xbfab4d=>({'displayName':_0xbfab4d[_0x495d1c(0x58d)],'vcard':_0x3a1af1(_0xbfab4d)}))},await this['sendMessageWithTyping'](_0x341490['number'],{..._0x5606c7},_0x341490?.[_0x495d1c(0x166)]);}async['reactionMessage'](_0x4de0f5){const _0x4eb90e=a0_0x13f4c8;return await this[_0x4eb90e(0x29c)](_0x4de0f5['reactionMessage'][_0x4eb90e(0xcf)]['remoteJid'],{'reactionMessage':{'key':_0x4de0f5[_0x4eb90e(0x323)][_0x4eb90e(0xcf)],'text':_0x4de0f5[_0x4eb90e(0x323)][_0x4eb90e(0x4f0)]}});}async[a0_0x13f4c8(0x170)](_0x560484){const _0x1cf521=a0_0x13f4c8;let _0x54a5ee=[];for await(let _0xeadc68 of _0x560484['numbers']){let _0x1a50e0=this[_0x1cf521(0xe4)](_0xeadc68),_0x667d9b=!0x1;try{if((0x0,y['isJidGroup'])(_0x1a50e0)){let _0x169d6a=await this['findGroup']({'groupJid':_0x1a50e0},'inner');_0x54a5ee[_0x1cf521(0x4b1)](new me(_0x169d6a[_0x1cf521(0x47d)]['id'],!!_0x169d6a?.[_0x1cf521(0x47d)]['id'],_0x169d6a?.[_0x1cf521(0x47d)][_0x1cf521(0x1b1)])),_0x667d9b=!!_0x169d6a?.[_0x1cf521(0x47d)]['id'];}else{let _0x32fe3a=(await this[_0x1cf521(0x147)][_0x1cf521(0x3f4)](_0x1a50e0))[0x0];_0x54a5ee['push'](new me(_0x32fe3a['jid'],_0x32fe3a[_0x1cf521(0xf1)])),_0x667d9b=_0x32fe3a['exists'];}}catch{await this[_0x1cf521(0x3a2)](_0x1a50e0,_0x667d9b),_0x54a5ee['push'](new me(_0xeadc68,!0x1));}}return _0x54a5ee;}async[a0_0x13f4c8(0x3a2)](_0x5d0768,_0x500762){const _0x2ae179=a0_0x13f4c8;try{await this[_0x2ae179(0x65c)][_0x2ae179(0x4c5)]['findOne']({'where':{'_id':_0x5d0768,'imported':!0x0}},this[_0x2ae179(0x571)][_0x2ae179(0x46a)])&&(_0x500762||(await this[_0x2ae179(0x65c)][_0x2ae179(0x4c5)][_0x2ae179(0x530)](_0x5d0768,this['instance'][_0x2ae179(0x46a)]),console[_0x2ae179(0x4e2)](_0x2ae179(0x4d8)+_0x5d0768+_0x2ae179(0x91))));}catch(_0x167f3e){console[_0x2ae179(0x3d5)](_0x2ae179(0x167),_0x167f3e);}}async[a0_0x13f4c8(0x619)](_0xedde99){const _0x252260=a0_0x13f4c8;try{let _0x322824=_0xedde99[_0x252260(0x499)][_0x252260(0x10e)](_0x537ba1=>(0x0,y[_0x252260(0x491)])(_0x537ba1[_0x252260(0x52a)])||(0x0,y[_0x252260(0x412)])(_0x537ba1[_0x252260(0x52a)]))['map'](_0x66eaff=>({'remoteJid':_0x66eaff[_0x252260(0x52a)],'fromMe':_0x66eaff[_0x252260(0x19b)],'id':_0x66eaff['id']}));await this[_0x252260(0x147)][_0x252260(0x499)](_0x322824);let _0x37f5e6=_0x322824[_0x252260(0x35b)](_0x65b119=>this[_0x252260(0x478)](_0x65b119,{'status':_0x252260(0x1f4),'owner':this[_0x252260(0x571)][_0x252260(0x46a)]})),_0x39a5bf=_0x322824['map'](_0x5f3613=>this['repository']['chat'][_0x252260(0x405)]({'where':{'_id':_0x5f3613['remoteJid']}},{'unreadcount':0x0},this[_0x252260(0x571)][_0x252260(0x46a)])),[_0x4be0ef,_0x48d587]=await Promise[_0x252260(0x5a0)]([Promise['all'](_0x37f5e6),Promise['all'](_0x39a5bf)]);return _0x48d587[_0x252260(0x10e)](_0x504791=>_0x504791!==null)[_0x252260(0x543)](_0x360215=>{const _0x2ccd05=_0x252260;J(this[_0x2ccd05(0x3a7)],'chats',{'chat':_0x360215});}),{'message':_0x252260(0x1a6),'read':'success'};}catch(_0x49542a){throw console['error'](_0x252260(0x2b6),_0x49542a),new O(_0x252260(0x468),_0x49542a[_0x252260(0x603)]());}}async['getLastMessage'](_0x59bbff){const _0x207490=a0_0x13f4c8;let _0x3cd55b={'where':{'key':{'remoteJid':_0x59bbff}},'limit':0x1},_0x403476=await this[_0x207490(0x164)](_0x3cd55b);return _0x403476||(console['error'](_0x207490(0x27d),_0x59bbff),null);}async[a0_0x13f4c8(0xbf)](_0x4e8bd0){const _0x4fa13f=a0_0x13f4c8;this['logger'][_0x4fa13f(0x41a)](_0x4fa13f(0x68a));try{let _0x5703bc=_0x4e8bd0[_0x4fa13f(0x1a2)],_0x58633c=_0x4e8bd0[_0x4fa13f(0x4c5)];if(!_0x5703bc&&_0x58633c?_0x5703bc=await this['getLastMessage'](_0x58633c):(_0x5703bc=_0x4e8bd0['lastMessage'],_0x5703bc[_0x4fa13f(0x50f)]=_0x5703bc?.[_0x4fa13f(0x50f)]??Date['now'](),_0x58633c=_0x5703bc?.[_0x4fa13f(0xcf)]?.['remoteJid']),!_0x5703bc||Object[_0x4fa13f(0x2ec)](_0x5703bc)[_0x4fa13f(0xa3)]===0x0)throw new j(_0x4fa13f(0x428));this[_0x4fa13f(0x19a)][_0x4fa13f(0x41a)](_0x4fa13f(0x3e5)+_0x58633c);try{await this[_0x4fa13f(0x147)][_0x4fa13f(0x15c)]({'archive':_0x4e8bd0[_0x4fa13f(0x168)],'lastMessages':[_0x5703bc]},this['createJid'](_0x58633c));}catch(_0x10c7a1){this[_0x4fa13f(0x19a)][_0x4fa13f(0x3d5)](_0x4fa13f(0x2df)+_0x58633c+':\x20'+_0x10c7a1['toString']());}this[_0x4fa13f(0x19a)][_0x4fa13f(0x41a)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x58633c);let _0x4f2a45=await this['repository'][_0x4fa13f(0x4c5)][_0x4fa13f(0x405)]({'where':{'_id':_0x5703bc?.[_0x4fa13f(0xcf)]?.[_0x4fa13f(0x52a)]}},{'archived':_0x4e8bd0[_0x4fa13f(0x168)]},this[_0x4fa13f(0x571)][_0x4fa13f(0x46a)]);return _0x4f2a45?(this[_0x4fa13f(0x19a)]['verbose']('Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x4fa13f(0x33c)](_0x4f2a45)),J(this[_0x4fa13f(0x3a7)],_0x4fa13f(0x364),{'chat':_0x4f2a45})):this['logger']['error'](_0x4fa13f(0x403)+_0x58633c),{'chatId':_0x58633c,'archived':_0x4e8bd0[_0x4fa13f(0x168)]};}catch(_0x2ec979){throw this[_0x4fa13f(0x19a)][_0x4fa13f(0x3d5)]('Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x2ec979[_0x4fa13f(0x603)]()),new O({'archived':!0x1,'message':[_0x4fa13f(0x160),_0x2ec979[_0x4fa13f(0x603)]()]});}}async['deleteMessage'](_0x520033){const _0x179f41=a0_0x13f4c8;try{let _0x5c7eb9=await this[_0x179f41(0x147)][_0x179f41(0x52e)](_0x520033[_0x179f41(0x52a)],{'delete':_0x520033});try{let _0x108bea=await this['updateMessage'](_0x520033,{'status':_0x179f41(0x674),'owner':this[_0x179f41(0x571)][_0x179f41(0x46a)]});this['logger'][_0x179f41(0x41a)](this[_0x179f41(0x3a7)]+'\x20('+this[_0x179f41(0x571)][_0x179f41(0x46a)]+'):\x20updateResult:'+_0x108bea);}catch(_0xfa76fd){console[_0x179f41(0x3d5)](_0x179f41(0x61c),_0xfa76fd);}return _0x5c7eb9;}catch(_0x2181b0){throw new O(_0x179f41(0x23a),_0x2181b0?.[_0x179f41(0x603)]());}}async[a0_0x13f4c8(0x1f3)](_0x51834b){const _0x23f6e3=a0_0x13f4c8;try{let _0x408e87=_0x51834b?.[_0x23f6e3(0x191)]?_0x51834b:await this[_0x23f6e3(0x261)](_0x51834b[_0x23f6e3(0xcf)],!0x0);for(let _0x523c0f of ga)_0x408e87['message'][_0x523c0f]&&(_0x408e87[_0x23f6e3(0x191)]=_0x408e87[_0x23f6e3(0x191)][_0x523c0f][_0x23f6e3(0x191)]);let _0x2acd57,_0x3343a4;for(let _0x25bbb8 of pa)if(_0x2acd57=_0x408e87[_0x23f6e3(0x191)][_0x25bbb8],_0x2acd57){_0x3343a4=_0x25bbb8;break;}if(!_0x2acd57)throw _0x23f6e3(0x1a0);typeof _0x2acd57[_0x23f6e3(0x445)]=='object'&&(_0x408e87[_0x23f6e3(0x191)]=JSON[_0x23f6e3(0x5d8)](JSON[_0x23f6e3(0x33c)](_0x408e87[_0x23f6e3(0x191)])));let _0x12ea74=await(0x0,y[_0x23f6e3(0x5d2)])({'key':_0x408e87?.[_0x23f6e3(0xcf)],'message':_0x408e87?.['message']},_0x23f6e3(0x4f8),{},{'logger':(0x0,Ot['default'])({'level':_0x23f6e3(0x42b)}),'reuploadRequest':this['client'][_0x23f6e3(0x5ee)]});if(!(_0x12ea74 instanceof Buffer))throw new Error(_0x23f6e3(0x52f));let _0xf460d7=this[_0x23f6e3(0x5af)][_0x23f6e3(0x208)]('DATABASE'),_0x3e6ffd,_0x2b58cc;if(_0x2acd57['fileName'])_0x3e6ffd=_0x2acd57[_0x23f6e3(0x316)];else{let _0x514619=_0x2acd57[_0x23f6e3(0x2c9)]?.[_0x23f6e3(0x5c7)](/\/(\w+)/),_0x1714b8=_0x514619?_0x514619[0x1]:null;if(!_0x1714b8)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x3e6ffd=(0x0,Me['v4'])()+'.'+_0x1714b8;}_0x3343a4===_0x23f6e3(0x1b6)&&_0x2acd57[_0x23f6e3(0x2c9)]===_0x23f6e3(0x5ce)?(_0x3e6ffd=(0x0,Me['v4'])()+_0x23f6e3(0x2ee),_0x2b58cc=_0x23f6e3(0x456)+await this[_0x23f6e3(0x36d)](_0x12ea74['toString'](_0x23f6e3(0x696)))):(await this[_0x23f6e3(0x2d3)](_0x12ea74,_0x3e6ffd),_0x2b58cc='/media/'+_0x3e6ffd);let _0x51ae9a=this['configService'][_0x23f6e3(0x208)](_0x23f6e3(0x322))['URL'];if(!_0x51ae9a){let _0x308e3b=this[_0x23f6e3(0x5af)][_0x23f6e3(0x208)](_0x23f6e3(0x65a));_0x51ae9a='https://'+(_0x308e3b&&_0x308e3b[_0x23f6e3(0x610)][_0x23f6e3(0x545)]('/')[0x4]);}_0x2b58cc=''+_0x51ae9a+_0x2b58cc;let _0x524706=0xc*0x3c*0x3c*0x3e8,_0x18ffdd={'where':{'_id':_0x408e87['key']['id']}},_0x2dbbfe={'message_normalized.fileUrl':_0x2b58cc,'message_normalized.expires_fileUrl':Date[_0x23f6e3(0x652)]()+_0x524706};try{let _0x5852fa=await this[_0x23f6e3(0x65c)][_0x23f6e3(0x191)][_0x23f6e3(0x579)](_0x18ffdd,_0x2dbbfe,this[_0x23f6e3(0x571)]['wuid']);_0x5852fa&&J(this[_0x23f6e3(0x3a7)],_0x23f6e3(0x1bf),{'message':_0x5852fa});}catch(_0x5b2c65){this[_0x23f6e3(0x19a)][_0x23f6e3(0x3d5)](this[_0x23f6e3(0x3a7)]+'\x20('+this[_0x23f6e3(0x571)]['wuid']+'):\x20'+(_0x5b2c65 instanceof Error?_0x5b2c65[_0x23f6e3(0x191)]:JSON[_0x23f6e3(0x33c)](_0x5b2c65,null,0x2)));}return{'mediaType':_0x3343a4,'fileName':_0x2acd57[_0x23f6e3(0x316)],'caption':_0x2acd57[_0x23f6e3(0x4f5)],'size':{'fileLength':_0x2acd57[_0x23f6e3(0x383)],'height':_0x2acd57[_0x23f6e3(0x309)],'width':_0x2acd57[_0x23f6e3(0x4fe)]},'mimetype':_0x2acd57[_0x23f6e3(0x2c9)],'base64':_0x12ea74[_0x23f6e3(0x603)](_0x23f6e3(0x696)),'fileUrl':_0x2b58cc,'expires_fileUrl':Date[_0x23f6e3(0x652)]()+_0x524706};}catch(_0x5c6445){throw this[_0x23f6e3(0x19a)][_0x23f6e3(0x3d5)](this[_0x23f6e3(0x3a7)]+'\x20('+this['instance'][_0x23f6e3(0x46a)]+'):\x20'+(_0x5c6445 instanceof Error?_0x5c6445[_0x23f6e3(0x191)]:JSON[_0x23f6e3(0x33c)](_0x5c6445,null,0x2))),new m(_0x5c6445[_0x23f6e3(0x603)]());}}async['saveMediaToFile'](_0xfbfb76,_0x226bd1){const _0x5d5578=a0_0x13f4c8;let _0x374f1d=F[_0x5d5578(0x29d)]['join'](__dirname,_0x5d5578(0x390));L['existsSync'](_0x374f1d)||L[_0x5d5578(0x144)](_0x374f1d,{'recursive':!0x0});let _0x417ac9=F[_0x5d5578(0x29d)][_0x5d5578(0x40c)](_0x374f1d,_0x226bd1);return new Promise((_0x1bd9a7,_0x342991)=>{const _0x2d247f=_0x5d5578;L[_0x2d247f(0x1de)](_0x417ac9,_0xfbfb76,_0x3e538e=>{const _0x46221f=_0x2d247f;_0x3e538e?(this[_0x46221f(0x19a)][_0x46221f(0x3d5)](_0x46221f(0x371)+(_0x3e538e instanceof Error?_0x3e538e[_0x46221f(0x191)]:JSON[_0x46221f(0x33c)](_0x3e538e,null,0x2))),_0x342991(_0x3e538e)):(this[_0x46221f(0x19a)][_0x46221f(0x4e2)](_0x46221f(0xdb)+_0x417ac9),_0x1bd9a7(_0x417ac9));});});}async[a0_0x13f4c8(0x357)](_0x444daf){const _0x4fef30=a0_0x13f4c8;return await this[_0x4fef30(0x65c)][_0x4fef30(0x6b0)][_0x4fef30(0x39d)](_0x444daf,this[_0x4fef30(0x571)][_0x4fef30(0x46a)]);}async[a0_0x13f4c8(0x1e9)](){const _0x4b2212=a0_0x13f4c8;return await this[_0x4b2212(0x65c)]['label'][_0x4b2212(0x39d)]({'where':{}},this[_0x4b2212(0x571)][_0x4b2212(0x46a)]);}async[a0_0x13f4c8(0x164)](_0x1d984f){const _0x4d83bf=a0_0x13f4c8;return await this[_0x4d83bf(0x65c)][_0x4d83bf(0x191)][_0x4d83bf(0x39d)](_0x1d984f,this[_0x4d83bf(0x571)][_0x4d83bf(0x46a)]);}async['fetchChats'](){const _0xd0e7fd=a0_0x13f4c8;return this['repository'][_0xd0e7fd(0x4c5)][_0xd0e7fd(0x3c2)](this[_0xd0e7fd(0x571)][_0xd0e7fd(0x46a)]),this[_0xd0e7fd(0x65c)][_0xd0e7fd(0x4c5)][_0xd0e7fd(0x65d)](this[_0xd0e7fd(0x571)]['wuid']),this[_0xd0e7fd(0x65c)]['chat'][_0xd0e7fd(0x35f)](this[_0xd0e7fd(0x571)][_0xd0e7fd(0x46a)]),this[_0xd0e7fd(0x65c)][_0xd0e7fd(0x4c5)]['updateMissingCustomFields'](this[_0xd0e7fd(0x571)][_0xd0e7fd(0x46a)]),await this['repository'][_0xd0e7fd(0x4c5)][_0xd0e7fd(0x39d)]({'where':{}},this[_0xd0e7fd(0x571)][_0xd0e7fd(0x46a)]);}async[a0_0x13f4c8(0x6a4)](_0x5e4cd3){const _0x12a583=a0_0x13f4c8;try{if(!Array[_0x12a583(0x5e3)](_0x5e4cd3)||_0x5e4cd3['length']===0x0)throw new Error(_0x12a583(0x1b3));let _0x340287=[],_0x54313f=[];for(let _0x256bac of _0x5e4cd3){if(_0x256bac[_0x12a583(0x1f1)])_0x256bac[_0x12a583(0x1f1)]=this[_0x12a583(0xe4)](_0x256bac[_0x12a583(0x1f1)]);else continue;await this[_0x12a583(0x65c)]['chat'][_0x12a583(0x314)]({'where':{'_id':_0x256bac['_id']}},this[_0x12a583(0x571)][_0x12a583(0x46a)])?_0x54313f[_0x12a583(0x4b1)]({'_id':_0x256bac[_0x12a583(0x1f1)],'leadInfo':_0x256bac[_0x12a583(0x288)],'owner':this[_0x12a583(0x571)][_0x12a583(0x46a)]}):_0x340287[_0x12a583(0x4b1)]({'_id':_0x256bac[_0x12a583(0x1f1)],'owner':this[_0x12a583(0x571)][_0x12a583(0x46a)],'leadInfo':_0x256bac[_0x12a583(0x288)],'imported':!0x0});}return _0x54313f['length']>0x0&&await this['repository'][_0x12a583(0x4c5)][_0x12a583(0x175)](_0x54313f[_0x12a583(0x35b)](_0x2b7e5d=>({'query':{'where':{'_id':_0x2b7e5d[_0x12a583(0x1f1)],'owner':this[_0x12a583(0x571)][_0x12a583(0x46a)]}},'update':_0x2b7e5d}))),_0x340287[_0x12a583(0xa3)]>0x0&&await this[_0x12a583(0x65c)][_0x12a583(0x4c5)][_0x12a583(0x554)](_0x340287,this[_0x12a583(0x571)][_0x12a583(0x46a)]),{'updated':_0x54313f[_0x12a583(0xa3)],'inserted':_0x340287[_0x12a583(0xa3)]};}catch(_0x2acaca){throw console[_0x12a583(0x3d5)]('Erro\x20ao\x20importar\x20chats:',_0x2acaca),_0x2acaca;}}async[a0_0x13f4c8(0x665)](_0xe3c260){const _0x3ad1d5=a0_0x13f4c8;try{if(!Array[_0x3ad1d5(0x5e3)](_0xe3c260)||_0xe3c260[_0x3ad1d5(0xa3)]===0x0)throw new Error(_0x3ad1d5(0x1b3));let _0x3be1df=0x64,_0x4f66a9=0x0;for(let _0x3fe0d9=0x0;_0x3fe0d9<_0xe3c260['length'];_0x3fe0d9+=_0x3be1df){let _0x442f2d=_0xe3c260['slice'](_0x3fe0d9,_0x3fe0d9+_0x3be1df),{updated:_0x37bb93}=await this[_0x3ad1d5(0x60e)](_0x442f2d);_0x4f66a9+=_0x37bb93;}return{'updated':_0x4f66a9};}catch(_0x41fc57){throw console[_0x3ad1d5(0x3d5)](_0x3ad1d5(0x29a),_0x41fc57),_0x41fc57;}}async[a0_0x13f4c8(0x60e)](_0x7959ae){const _0xe9dfc0=a0_0x13f4c8;try{let _0x424a14=await this[_0xe9dfc0(0x65c)][_0xe9dfc0(0x694)][_0xe9dfc0(0x39d)]({'where':{}},this[_0xe9dfc0(0x571)][_0xe9dfc0(0x46a)]),_0x22a098=new Set(_0x424a14[_0xe9dfc0(0x35b)](_0x34a1bf=>_0x34a1bf['_id'])),_0x3d3f94=[],_0x5efd07=[];for(let _0x3a279f of _0x7959ae){if(!_0x3a279f['_id'])continue;_0x3a279f[_0xe9dfc0(0x1f1)]=this[_0xe9dfc0(0xe4)](_0x3a279f[_0xe9dfc0(0x1f1)]);let _0x22ac49=await this[_0xe9dfc0(0x65c)][_0xe9dfc0(0x4c5)][_0xe9dfc0(0x314)]({'where':{'_id':_0x3a279f[_0xe9dfc0(0x1f1)]}},this[_0xe9dfc0(0x571)]['wuid']),_0x444745={};if(Object[_0xe9dfc0(0x35c)](_0x3a279f['leadInfo'])[_0xe9dfc0(0x543)](([_0xf918a3,_0x1c6666])=>{const _0x430739=_0xe9dfc0;_0x444745[_0x430739(0x5e6)+_0xf918a3]=_0x1c6666;}),_0x22ac49&&!_0x22ac49['imported']){let _0x3acc3a=(_0x3a279f[_0xe9dfc0(0x288)][_0xe9dfc0(0xae)]||[])[_0xe9dfc0(0x10e)](_0x5af4b7=>_0x22a098['has'](_0x5af4b7)),_0x1d7d08=new Set(_0x22ac49[_0xe9dfc0(0x288)][_0xe9dfc0(0xae)]||[]),_0x1efad1=_0x3acc3a[_0xe9dfc0(0x10e)](_0xe8770d=>!_0x1d7d08['has'](_0xe8770d)),_0x6d7aaa=[..._0x1d7d08][_0xe9dfc0(0x10e)](_0x53d169=>!_0x3acc3a[_0xe9dfc0(0x542)](_0x53d169));_0x5efd07[_0xe9dfc0(0x4b1)](..._0x1efad1[_0xe9dfc0(0x35b)](_0x262ce7=>this[_0xe9dfc0(0x1aa)](_0x262ce7,_0x3a279f[_0xe9dfc0(0x1f1)]))),_0x5efd07[_0xe9dfc0(0x4b1)](..._0x6d7aaa[_0xe9dfc0(0x35b)](_0x49f158=>this[_0xe9dfc0(0x11f)](_0x49f158,_0x3a279f[_0xe9dfc0(0x1f1)]))),_0x3a279f[_0xe9dfc0(0x288)][_0xe9dfc0(0xae)]=_0x3acc3a,_0x3d3f94[_0xe9dfc0(0x4b1)]({'query':{'where':{'_id':_0x3a279f['_id'],'owner':this[_0xe9dfc0(0x571)][_0xe9dfc0(0x46a)]}},'update':_0x444745});}else _0x444745[_0xe9dfc0(0x5a1)]=!0x0,_0x3d3f94['push']({'query':{'where':{'_id':_0x3a279f[_0xe9dfc0(0x1f1)],'owner':this[_0xe9dfc0(0x571)][_0xe9dfc0(0x46a)]}},'update':_0x444745});}let _0x40213e=await this[_0xe9dfc0(0x65c)][_0xe9dfc0(0x4c5)][_0xe9dfc0(0x175)](_0x3d3f94);return await Promise[_0xe9dfc0(0x5a0)](_0x5efd07),{'updated':_0x40213e};}catch(_0x376f4d){throw console[_0xe9dfc0(0x3d5)](_0xe9dfc0(0x29a),_0x376f4d),_0x376f4d;}}async['fetchPrivacySettings'](){const _0x7c9ebc=a0_0x13f4c8;return await this['client'][_0x7c9ebc(0x2d5)]();}async[a0_0x13f4c8(0x526)](_0x48c6fa){const _0x38579d=a0_0x13f4c8;try{return await this[_0x38579d(0x147)]['updateReadReceiptsPrivacy'](_0x48c6fa[_0x38579d(0x262)]['readreceipts']),await this['client'][_0x38579d(0x5f0)](_0x48c6fa[_0x38579d(0x262)][_0x38579d(0x2a9)]),await this['client'][_0x38579d(0x565)](_0x48c6fa[_0x38579d(0x262)][_0x38579d(0x254)]),await this[_0x38579d(0x147)]['updateOnlinePrivacy'](_0x48c6fa[_0x38579d(0x262)][_0x38579d(0x391)]),await this['client'][_0x38579d(0x43a)](_0x48c6fa[_0x38579d(0x262)][_0x38579d(0xbe)]),await this['client']['updateGroupsAddPrivacy'](_0x48c6fa[_0x38579d(0x262)]['groupadd']),this[_0x38579d(0x147)]?.['ws']?.['close'](),{'update':_0x38579d(0x601),'data':{'readreceipts':_0x48c6fa[_0x38579d(0x262)][_0x38579d(0x33f)],'profile':_0x48c6fa[_0x38579d(0x262)]['profile'],'status':_0x48c6fa[_0x38579d(0x262)][_0x38579d(0x254)],'online':_0x48c6fa[_0x38579d(0x262)][_0x38579d(0x391)],'last':_0x48c6fa[_0x38579d(0x262)][_0x38579d(0xbe)],'groupadd':_0x48c6fa[_0x38579d(0x262)][_0x38579d(0x630)]}};}catch(_0x21ca57){throw new O(_0x38579d(0x351),_0x21ca57[_0x38579d(0x603)]());}}async['fetchProfile2'](_0x4ca9c0){const _0x3bf0f5=a0_0x13f4c8;let _0x454cb6=_0x4ca9c0?this[_0x3bf0f5(0xe4)](_0x4ca9c0):this[_0x3bf0f5(0x147)]?.[_0x3bf0f5(0x429)]?.['id'];this['logger'][_0x3bf0f5(0x41a)]('Getting\x20profile\x20with\x20jid:\x20'+_0x454cb6);try{if(this['logger'][_0x3bf0f5(0x41a)](_0x3bf0f5(0x1d3)),_0x4ca9c0){let _0x2030db=(await this['whatsappNumber']({'numbers':[_0x454cb6]}))?.[_0x3bf0f5(0x13b)](),_0x2f86f2=await this[_0x3bf0f5(0x534)](_0x2030db?.[_0x3bf0f5(0x3df)]),_0x5eb5e1=await this['getStatus'](_0x2030db?.['jid']),_0x586aad=await this[_0x3bf0f5(0x67f)](_0x2030db?.[_0x3bf0f5(0x3df)]);return{'wuid':_0x2030db?.[_0x3bf0f5(0x3df)]||_0x454cb6,'name':_0x2030db?.[_0x3bf0f5(0x5e2)],'numberExists':_0x2030db?.[_0x3bf0f5(0xf1)],'picture':_0x2f86f2?.[_0x3bf0f5(0x1e0)],'status':_0x5eb5e1?.['status'],'isBusiness':_0x586aad['isBusiness'],'email':_0x586aad?.['email'],'description':_0x586aad?.[_0x3bf0f5(0x4be)],'website':_0x586aad?.[_0x3bf0f5(0x622)]?.[_0x3bf0f5(0x13b)]()};}}catch{return this[_0x3bf0f5(0x19a)][_0x3bf0f5(0x41a)](_0x3bf0f5(0x57d)),{'wuid':_0x454cb6,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x13f4c8(0x4a9)](_0xa93119){const _0x324504=a0_0x13f4c8;let _0x44c0dd=(_0xa93119?this[_0x324504(0xe4)](_0xa93119):this[_0x324504(0x147)]?.[_0x324504(0x429)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this['logger'][_0x324504(0x41a)]('Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x44c0dd);let _0x325820=await this[_0x324504(0x65c)][_0x324504(0x6b0)][_0x324504(0x314)]({'where':{'_id':_0x44c0dd}},this[_0x324504(0x571)]['wuid']),_0x5572e4=_0x325820?_0x325820[_0x324504(0x275)]:null;try{let _0x16dd5e=(await this[_0x324504(0x170)]({'numbers':[_0x44c0dd]}))?.[_0x324504(0x13b)](),_0x328185=await this['profilePicture'](_0x16dd5e?.[_0x324504(0x3df)]),_0x234546=await this[_0x324504(0x80)](_0x16dd5e?.[_0x324504(0x3df)]),_0x55c1a4=await this[_0x324504(0x67f)](_0x16dd5e?.[_0x324504(0x3df)]),_0x16adad=await this[_0x324504(0x65c)][_0x324504(0x4c5)][_0x324504(0x314)]({'where':{'_id':_0x44c0dd}},this['instance'][_0x324504(0x46a)]),_0x283c27={'imagechat':_0x328185?.[_0x324504(0x1e0)],'contactname':_0x5572e4||null,'status':_0x234546?.[_0x324504(0x254)],'isBusiness':_0x55c1a4[_0x324504(0x276)],'email':_0x55c1a4?.[_0x324504(0x6b)],'description':_0x55c1a4?.[_0x324504(0x4be)],'website':_0x55c1a4?.[_0x324504(0x622)]?.['shift'](),'lastcache':Date['now'](),'imported':!_0x16adad},_0x41b51d=await this[_0x324504(0x65c)][_0x324504(0x4c5)][_0x324504(0x405)]({'where':{'_id':_0x44c0dd}},_0x283c27,this[_0x324504(0x571)]['wuid']),_0x44b869={'owner':this[_0x324504(0x571)]['wuid'],'_id':_0x44c0dd,'profilePictureUrl':_0x328185?.['profilePictureUrl'],'status':_0x234546?.[_0x324504(0x254)]};return this[_0x324504(0x65c)][_0x324504(0x6b0)][_0x324504(0x579)]([_0x44b869],this['instance'][_0x324504(0x46a)]),_0x41b51d&&J(this[_0x324504(0x3a7)],_0x324504(0x364),{'chat':_0x41b51d}),{'wuid':_0x16dd5e?.[_0x324504(0x3df)]||_0x44c0dd,'name':_0x16dd5e?.[_0x324504(0x5e2)],'numberExists':_0x16dd5e?.[_0x324504(0xf1)],'picture':_0x328185?.['profilePictureUrl'],'status':_0x234546?.[_0x324504(0x254)],'isBusiness':_0x55c1a4[_0x324504(0x276)],'email':_0x55c1a4?.[_0x324504(0x6b)],'description':_0x55c1a4?.[_0x324504(0x4be)],'website':_0x55c1a4?.[_0x324504(0x622)]?.['shift']()};}catch(_0x4e8fe7){return this[_0x324504(0x19a)]['error'](_0x324504(0xd0)+(_0x4e8fe7 instanceof Error?_0x4e8fe7[_0x324504(0x191)]:JSON['stringify'](_0x4e8fe7,null,0x2))),{};}}async[a0_0x13f4c8(0x67f)](_0x4813ab){const _0x5c9fa2=a0_0x13f4c8;this[_0x5c9fa2(0x19a)]['verbose'](_0x5c9fa2(0xab));try{let _0x25f290=_0x4813ab?this[_0x5c9fa2(0xe4)](_0x4813ab):this[_0x5c9fa2(0x571)]['wuid'],_0xf1c0f9=await this[_0x5c9fa2(0x147)][_0x5c9fa2(0x1ae)](_0x25f290);return this[_0x5c9fa2(0x19a)][_0x5c9fa2(0x41a)]('Trying\x20to\x20get\x20business\x20profile'),_0xf1c0f9?(this['logger'][_0x5c9fa2(0x41a)](_0x5c9fa2(0x6ab)),{'isBusiness':!0x0,..._0xf1c0f9}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x5c9fa2(0x170)]({'numbers':[_0x25f290]}))?.[_0x5c9fa2(0x13b)]()};}catch(_0x19edcb){throw new O(_0x5c9fa2(0x16a),_0x19edcb[_0x5c9fa2(0x603)]());}}async['getStatus'](_0x3eefbd){const _0x107988=a0_0x13f4c8;let _0x29f5e8=this[_0x107988(0xe4)](_0x3eefbd);try{return{'wuid':_0x29f5e8,'status':(await this[_0x107988(0x147)][_0x107988(0x69a)](_0x29f5e8))?.[_0x107988(0x254)]};}catch{return{'wuid':_0x29f5e8,'status':null};}}async[a0_0x13f4c8(0xb0)](_0x5b722a){const _0x4c6e99=a0_0x13f4c8;try{return await this['client']['updateProfileName'](_0x5b722a),{'update':_0x4c6e99(0x601)};}catch(_0x22de8f){throw new O('Error\x20updating\x20profile\x20name',_0x22de8f[_0x4c6e99(0x603)]());}}async['updateProfileStatus'](_0x24b829){const _0x149e00=a0_0x13f4c8;try{return await this[_0x149e00(0x147)][_0x149e00(0x5de)](_0x24b829),{'update':_0x149e00(0x601)};}catch(_0x1c0a29){throw new O(_0x149e00(0x42c),_0x1c0a29['toString']());}}async['updateProfilePicture'](_0x236dc2){const _0x11aad9=a0_0x13f4c8;try{let _0x481f03;if((0x0,k[_0x11aad9(0x3b1)])(_0x236dc2)){let _0x3d70e5=new Date()[_0x11aad9(0x1b9)](),_0x37b6b6=_0x236dc2+_0x11aad9(0xc4)+_0x3d70e5;_0x481f03=(await se['default'][_0x11aad9(0x208)](_0x37b6b6,{'responseType':_0x11aad9(0x25f)}))[_0x11aad9(0x4f2)];}else{if((0x0,k[_0x11aad9(0x544)])(_0x236dc2))_0x481f03=Buffer['from'](_0x236dc2,_0x11aad9(0x696));else throw new m(_0x11aad9(0x4c4));}return await this[_0x11aad9(0x147)]['updateProfilePicture'](this[_0x11aad9(0x571)][_0x11aad9(0x46a)],_0x481f03),{'update':_0x11aad9(0x601)};}catch(_0x5c093e){throw new O('Error\x20updating\x20profile\x20picture',_0x5c093e[_0x11aad9(0x603)]());}}async[a0_0x13f4c8(0x116)](){const _0x98e449=a0_0x13f4c8;try{return await this[_0x98e449(0x147)][_0x98e449(0x116)](this[_0x98e449(0x571)][_0x98e449(0x46a)]),{'update':_0x98e449(0x601)};}catch(_0xe45a67){throw new O(_0x98e449(0x435),_0xe45a67[_0x98e449(0x603)]());}}async[a0_0x13f4c8(0x11c)](_0x6111f4){const _0x19ad46=a0_0x13f4c8;try{let _0x28fe0b=_0x6111f4[_0x19ad46(0x55b)]['map'](_0x54761f=>this[_0x19ad46(0xe4)](_0x54761f)),{id:_0x5c2b4c}=await this[_0x19ad46(0x147)][_0x19ad46(0x247)](_0x6111f4[_0x19ad46(0x1b1)],_0x28fe0b);return _0x6111f4?.['description']&&await this['client']['groupUpdateDescription'](_0x5c2b4c,_0x6111f4['description']),{'metadata':await this[_0x19ad46(0x147)]['groupMetadata'](_0x5c2b4c)};}catch(_0xc73eca){throw this['logger'][_0x19ad46(0x3d5)](this[_0x19ad46(0x3a7)]+'\x20('+this[_0x19ad46(0x571)]['wuid']+_0x19ad46(0x40e)+(_0xc73eca instanceof Error?_0xc73eca[_0x19ad46(0x191)]:JSON[_0x19ad46(0x33c)](_0xc73eca,null,0x2))),new O(_0x19ad46(0x395),_0xc73eca[_0x19ad46(0x603)]());}}async[a0_0x13f4c8(0x673)](_0x2e422f){const _0x22469f=a0_0x13f4c8;try{let _0x58a9ec;if((0x0,k['isURL'])(_0x2e422f['image'])){let _0x118193=new Date()[_0x22469f(0x1b9)](),_0x421e40=_0x2e422f['image']+_0x22469f(0xc4)+_0x118193;_0x58a9ec=(await se['default'][_0x22469f(0x208)](_0x421e40,{'responseType':_0x22469f(0x25f)}))[_0x22469f(0x4f2)];}else{if((0x0,k[_0x22469f(0x544)])(_0x2e422f[_0x22469f(0x340)]))_0x58a9ec=Buffer[_0x22469f(0x62a)](_0x2e422f[_0x22469f(0x340)],_0x22469f(0x696));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x22469f(0x147)]['updateProfilePicture'](_0x2e422f[_0x22469f(0x6b3)],_0x58a9ec),{'update':_0x22469f(0x601)};}catch(_0x548833){throw new O('Error\x20update\x20group\x20picture',_0x548833[_0x22469f(0x603)]());}}async[a0_0x13f4c8(0x125)](_0x45425c,_0x152793=a0_0x13f4c8(0xea)){const _0x2a1d40=a0_0x13f4c8;try{let _0xbb6025=await this[_0x2a1d40(0x147)][_0x2a1d40(0x165)](_0x45425c[_0x2a1d40(0x6b3)]),_0x24b5c1=null;try{_0x24b5c1=(await this[_0x2a1d40(0x534)](_0x45425c['groupJid']))[_0x2a1d40(0x1e0)];}catch(_0x4a61fa){this[_0x2a1d40(0x19a)][_0x2a1d40(0x41a)](this[_0x2a1d40(0x3a7)]+'\x20('+this['instance']['wuid']+_0x2a1d40(0x155)+_0x45425c[_0x2a1d40(0x6b3)]+':\x20'+(_0x4a61fa instanceof Error?_0x4a61fa[_0x2a1d40(0x191)]:JSON[_0x2a1d40(0x33c)](_0x4a61fa,null,0x2)));}let _0xeeaefe=await this[_0x2a1d40(0x65c)]['chat'][_0x2a1d40(0x405)]({'where':{'_id':_0x45425c['groupJid']}},{'imagechat':_0x24b5c1,'name':_0xbb6025[_0x2a1d40(0x1b1)],'group_size':_0xbb6025[_0x2a1d40(0x18e)],'group_announce':_0xbb6025[_0x2a1d40(0x5a2)],'lastcache':Date[_0x2a1d40(0x652)]()},this[_0x2a1d40(0x571)]['wuid']);return _0xeeaefe&&J(this[_0x2a1d40(0x3a7)],'chats',{'chat':_0xeeaefe}),{'metadata':_0xbb6025,'image':_0x24b5c1};}catch(_0x491aa6){if(_0x152793===_0x2a1d40(0x56d))return;throw new j('Error\x20fetching\x20group',_0x491aa6[_0x2a1d40(0x603)]());}}async['groupDesc'](_0x2a6a19){const _0x2bf85e=a0_0x13f4c8;try{return await this[_0x2bf85e(0x147)][_0x2bf85e(0x5b5)](_0x2a6a19[_0x2bf85e(0x6b3)],_0x2a6a19[_0x2bf85e(0x4be)]),{'update':'success'};}catch(_0x563c00){throw new O(_0x2bf85e(0x556),_0x563c00[_0x2bf85e(0x603)]());}}async[a0_0x13f4c8(0x142)](_0x1adea6){const _0x43f708=a0_0x13f4c8;try{return await this['client'][_0x43f708(0x5f9)](_0x1adea6[_0x43f708(0x6b3)],_0x1adea6[_0x43f708(0x5e2)]),{'update':_0x43f708(0x601)};}catch(_0x44e5ea){throw new O(_0x43f708(0x594),_0x44e5ea[_0x43f708(0x603)]());}}async['groupSetting'](_0x265c63){const _0x696197=a0_0x13f4c8;try{return await this['client']['groupSettingUpdate'](_0x265c63[_0x696197(0x6b3)],_0x265c63[_0x696197(0x424)]),{'update':_0x696197(0x601)};}catch(_0x43967a){throw new O('Error\x20change\x20group\x20setting',_0x43967a[_0x696197(0x603)]());}}async['findGroups'](){const _0x2aebbd=a0_0x13f4c8;try{let _0x52c99=[],_0x1f8971=await this[_0x2aebbd(0x147)][_0x2aebbd(0x385)](),_0x14811e=Object['values'](_0x1f8971),_0x4a12f3=_0x14811e[_0x2aebbd(0x10e)](_0xa0e4d6=>(0x0,y['isJidGroup'])(_0xa0e4d6?.['id']))[_0x2aebbd(0x35b)](async _0x3c132b=>{const _0x3c8809=_0x2aebbd;try{return await this[_0x3c8809(0x147)][_0x3c8809(0x1e0)](_0x3c132b['id'],_0x3c8809(0x1fc));}catch(_0x32845c){return this['logger'][_0x3c8809(0x41a)](this[_0x3c8809(0x3a7)]+'\x20('+this['instance'][_0x3c8809(0x46a)]+_0x3c8809(0x155)+_0x3c132b['id']+':\x20'+(_0x32845c instanceof Error?_0x32845c[_0x3c8809(0x191)]:JSON[_0x3c8809(0x33c)](_0x32845c,null,0x2))),null;}}),_0x1ce140=await Promise[_0x2aebbd(0x5a0)](_0x4a12f3);for(let _0x6c2004=0x0;_0x6c2004<_0x14811e[_0x2aebbd(0xa3)];_0x6c2004++){let _0x313fe3=_0x14811e[_0x6c2004];(0x0,y[_0x2aebbd(0x491)])(_0x313fe3?.['id'])&&_0x52c99[_0x2aebbd(0x4b1)]({'groupJid':_0x313fe3?.['id'],'subject':_0x313fe3?.[_0x2aebbd(0x1b1)],'subjectOwner':_0x313fe3?.[_0x2aebbd(0x60d)]?.['split']('@')[0x0],'subjectTime':_0x313fe3?.['subjectTime'],'size':_0x313fe3?.[_0x2aebbd(0x55b)]?.[_0x2aebbd(0xa3)],'owner':_0x313fe3?.[_0x2aebbd(0xc1)]?.[_0x2aebbd(0x545)]('@')[0x0],'creation':_0x313fe3?.[_0x2aebbd(0x268)],'desc':_0x313fe3?.[_0x2aebbd(0x39e)],'restrict':_0x313fe3?.['restrict'],'announce':_0x313fe3?.[_0x2aebbd(0x5a2)],'image':_0x1ce140[_0x6c2004]});}return _0x52c99;}catch(_0xfc6ef8){throw new j(_0x2aebbd(0x94),_0xfc6ef8[_0x2aebbd(0x603)]());}}async[a0_0x13f4c8(0x132)](_0xb3ea59){const _0x1bf292=a0_0x13f4c8;try{let _0x4a2fbc=await this[_0x1bf292(0x147)][_0x1bf292(0x2cd)](_0xb3ea59[_0x1bf292(0x6b3)]);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x4a2fbc,'inviteCode':_0x4a2fbc};}catch(_0x1b2d71){throw new j(_0x1bf292(0xb5),_0x1b2d71[_0x1bf292(0x603)]());}}async['revokeInviteCode'](_0x19c67f){const _0x5d3729=a0_0x13f4c8;try{let _0x5b1d4b=await this[_0x5d3729(0x147)][_0x5d3729(0x151)](_0x19c67f[_0x5d3729(0x6b3)]);return{'revoked':!0x0,'inviteUrl':_0x5d3729(0x43f)+_0x5b1d4b,'inviteCode':_0x5b1d4b};}catch(_0x5a1546){throw new j(_0x5d3729(0x5c2),_0x5a1546[_0x5d3729(0x603)]());}}async['joinGroup'](_0x18196b){const _0x5bbbb8=a0_0x13f4c8;try{if((0x0,k[_0x5bbbb8(0x3b1)])(_0x18196b['inviteCode']))var _0x3582f9=_0x18196b[_0x5bbbb8(0x132)]['split']('/')[0x3];else var _0x3582f9=_0x18196b[_0x5bbbb8(0x132)];let _0x3a845e=await this[_0x5bbbb8(0x147)][_0x5bbbb8(0x353)](_0x3582f9);return this[_0x5bbbb8(0x19a)]['verbose'](this['instanceName']+'\x20('+this[_0x5bbbb8(0x571)]['wuid']+_0x5bbbb8(0x40e)+_0x3a845e),{'join':!0x0,'inviteCode':_0x3582f9,'groupJid':_0x3a845e};}catch(_0x4eaea2){throw new j(_0x5bbbb8(0x70),_0x4eaea2[_0x5bbbb8(0x603)]());}}async[a0_0x13f4c8(0x3bc)](_0x39c798){const _0x4df988=a0_0x13f4c8;try{return{'participants':(await this[_0x4df988(0x147)][_0x4df988(0x165)](_0x39c798[_0x4df988(0x6b3)]))['participants']};}catch(_0x28489f){throw new j(_0x4df988(0x31e),_0x28489f[_0x4df988(0x603)]());}}async[a0_0x13f4c8(0x651)](_0x4c8602){const _0x31dfee=a0_0x13f4c8;try{let _0xb53c94=_0x4c8602[_0x31dfee(0x55b)][_0x31dfee(0x35b)](_0xbc3e16=>this['createJid'](_0xbc3e16));return{'updateParticipants':await this[_0x31dfee(0x147)][_0x31dfee(0x37a)](_0x4c8602[_0x31dfee(0x6b3)],_0xb53c94,_0x4c8602['action'])};}catch(_0x382dc8){throw new m(_0x31dfee(0x648),_0x382dc8[_0x31dfee(0x603)]());}}async[a0_0x13f4c8(0x18b)](_0x5d0d43){const _0x2e2349=a0_0x13f4c8;try{let _0x41bea5=await this['client'][_0x2e2349(0x343)](_0x5d0d43[_0x2e2349(0x6b3)],_0x5d0d43[_0x2e2349(0x1fa)]);return{'success':!0x0};}catch(_0xe37d4e){throw new m(_0x2e2349(0x180),_0xe37d4e[_0x2e2349(0x603)]());}}async[a0_0x13f4c8(0x1f7)](_0x137718){const _0x4bec86=a0_0x13f4c8;try{return await this[_0x4bec86(0x147)]['groupLeave'](_0x137718['groupJid']),{'groupJid':_0x137718[_0x4bec86(0x6b3)],'leave':!0x0};}catch(_0x3ce0c0){throw new m('Unable\x20to\x20leave\x20the\x20group',_0x3ce0c0['toString']());}}async[a0_0x13f4c8(0x280)](_0x158b73){const _0x1de8e0=a0_0x13f4c8;return await this[_0x1de8e0(0x29c)](_0x158b73['number'],{'poll':{'name':_0x158b73[_0x1de8e0(0x280)]?.[_0x1de8e0(0x5e2)],'selectableCount':_0x158b73['pollMessage']['selectableCount'],'values':_0x158b73['pollMessage'][_0x1de8e0(0x624)]}},_0x158b73?.[_0x1de8e0(0x166)]);}async[a0_0x13f4c8(0x2ab)](_0x830d68){const _0x5aab53=a0_0x13f4c8;return await this[_0x5aab53(0x29c)](_0x830d68[_0x5aab53(0x41d)],{'listMessage':{'title':_0x830d68['listMessage'][_0x5aab53(0x40d)],'description':_0x830d68[_0x5aab53(0x2ab)][_0x5aab53(0x4be)],'buttonText':_0x830d68['listMessage']?.['buttonText'],'footerText':_0x830d68[_0x5aab53(0x2ab)]?.[_0x5aab53(0x1ac)],'sections':_0x830d68[_0x5aab53(0x2ab)]['sections'],'listType':0x2}},_0x830d68?.[_0x5aab53(0x166)]);}async[a0_0x13f4c8(0x45c)](_0x35f206){const _0x41cee4=a0_0x13f4c8;let _0x334408;if(_0x35f206[_0x41cee4(0x45c)][_0x41cee4(0x31f)]===_0x41cee4(0x4f4)){let _0x3e6961=_0x35f206[_0x41cee4(0x45c)][_0x41cee4(0x699)]['indexOf']('\x0a'),_0x55a179='',_0x57f8b3='';_0x3e6961!==-0x1?(_0x55a179=_0x35f206[_0x41cee4(0x45c)]['text'][_0x41cee4(0xc6)](0x0,_0x3e6961)[_0x41cee4(0x4b3)](),_0x57f8b3=_0x35f206[_0x41cee4(0x45c)]['text']['substring'](_0x3e6961+0x1)):_0x57f8b3=_0x35f206['menuMessage'][_0x41cee4(0x699)];let _0x38f573=this['createSectionsFromValues'](_0x35f206['menuMessage'][_0x41cee4(0x36c)]);_0x334408={'listMessage':{'title':_0x55a179,'description':_0x57f8b3,'buttonText':_0x35f206[_0x41cee4(0x45c)][_0x41cee4(0x387)]||_0x41cee4(0xee),'footerText':_0x35f206[_0x41cee4(0x45c)]['footerText'],'sections':_0x38f573,'listType':0x2}};}else{if(_0x35f206[_0x41cee4(0x45c)][_0x41cee4(0x31f)]==='poll'){let _0x2972bf=_0x35f206[_0x41cee4(0x45c)][_0x41cee4(0x36c)][_0x41cee4(0x10e)](_0x5462d1=>!(_0x5462d1[_0x41cee4(0x4c2)]('[')&&_0x5462d1['endsWith'](']')))[_0x41cee4(0x35b)](_0xc66692=>_0xc66692[_0x41cee4(0x545)]('\x0a')[0x0]);_0x334408={'poll':{'name':_0x35f206[_0x41cee4(0x45c)]['text'],'selectableCount':_0x35f206[_0x41cee4(0x45c)][_0x41cee4(0x58e)]||0x1,'values':_0x2972bf}};}}return await this[_0x41cee4(0x29c)](_0x35f206[_0x41cee4(0x41d)],_0x334408,_0x35f206?.['options']);}[a0_0x13f4c8(0x67a)](_0x31554e){const _0x22845e=a0_0x13f4c8;let _0x3bfe88=[],_0x44d34b={'rows':[]};return _0x31554e[_0x22845e(0x543)](_0x4f2d22=>{const _0x8efc0c=_0x22845e;if(_0x4f2d22[_0x8efc0c(0x4c2)]('[')&&_0x4f2d22[_0x8efc0c(0x69)](']'))_0x44d34b['rows']['length']>0x0&&_0x3bfe88[_0x8efc0c(0x4b1)](_0x44d34b),_0x44d34b={'title':_0x4f2d22['slice'](0x1,-0x1),'rows':[]};else{let _0x3ff3c0=_0x4f2d22[_0x8efc0c(0x545)]('\x0a')[_0x8efc0c(0x35b)](_0x3c7cf4=>_0x3c7cf4[_0x8efc0c(0x4b3)]()),_0xcd44bb=_0x3ff3c0[0x0],_0xe3bab2=_0x3ff3c0[0x1]||null,_0xb025d7=_0x3ff3c0[0x2]||_0xcd44bb;_0x44d34b[_0x8efc0c(0x563)][_0x8efc0c(0x4b1)]({'title':_0xcd44bb,'description':_0xe3bab2,'rowId':_0xb025d7});}}),_0x44d34b[_0x22845e(0x563)][_0x22845e(0xa3)]>0x0&&_0x3bfe88['push'](_0x44d34b),_0x3bfe88;}async[a0_0x13f4c8(0x478)](_0x3e25a8,_0x509430){const _0x2d9aae=a0_0x13f4c8;if(await this[_0x2d9aae(0x261)](_0x3e25a8,!0x0)){let _0x36f922={'where':{'_id':_0x3e25a8['id']}},_0x19cbf1={'status':[_0x509430[_0x2d9aae(0x254)]][0x0]};try{let _0x3f999f=await this['repository'][_0x2d9aae(0x191)]['update'](_0x36f922,_0x19cbf1,this['instance'][_0x2d9aae(0x46a)]);_0x3f999f&&J(this[_0x2d9aae(0x3a7)],_0x2d9aae(0x1bf),{'message':_0x3f999f});}catch{}}}[a0_0x13f4c8(0x44f)](_0x15b209){const _0x36a662=a0_0x13f4c8;let _0x116c66=[];return _0x15b209[_0x36a662(0x543)](_0x50a8fb=>{const _0x1a20e3=_0x36a662;_0x50a8fb[_0x1a20e3(0x40d)]&&_0x116c66[_0x1a20e3(0x4b1)]('['+_0x50a8fb[_0x1a20e3(0x40d)]+']'),_0x50a8fb[_0x1a20e3(0x563)][_0x1a20e3(0x543)](_0x4015a5=>{const _0xe6f10e=_0x1a20e3;_0x116c66[_0xe6f10e(0x4b1)](_0x4015a5[_0xe6f10e(0x40d)]);});}),_0x116c66['join']('|');}[a0_0x13f4c8(0x509)](_0x1c67bc){const _0x170d2f=a0_0x13f4c8;let _0x57abd1=_0x1c67bc['replace'](/\\n/g,'\x0a')[_0x170d2f(0x545)]('\x0a')[_0x170d2f(0x10e)](_0x259b4a=>_0x259b4a[_0x170d2f(0x542)](_0x170d2f(0x312))||_0x259b4a[_0x170d2f(0x542)]('EMAIL')),_0x2bf7df='';return _0x57abd1[_0x170d2f(0x543)](_0x119398=>{const _0x7fc925=_0x170d2f;let _0x574beb=/TEL(?:.*):(.+)/,_0x4df733=/EMAIL(?:.*):(.+)/,_0xee19d7=_0x119398[_0x7fc925(0x5c7)](_0x574beb),_0x137f62=_0x119398[_0x7fc925(0x5c7)](_0x4df733);if(_0xee19d7){let _0x3f7011=_0xee19d7[0x1][_0x7fc925(0x3f0)](/-| |\+|\(|\)/g,'')[_0x7fc925(0x4b3)]();_0x2bf7df+=_0x7fc925(0x48e)+_0x3f7011+'\x0a';}else{if(_0x137f62){let _0x1ddf54=_0x137f62[0x1][_0x7fc925(0x4b3)]();_0x2bf7df+='E-mail:\x20'+_0x1ddf54+'\x0a';}}}),_0x2bf7df[_0x170d2f(0x4b3)]();}async[a0_0x13f4c8(0x3d7)](_0x7f56a7,_0x20483a,_0x37d03a){const _0x3c26de=a0_0x13f4c8;if(!_0x7f56a7[_0x3c26de(0x4d0)])return;let _0x22f194=_0x20483a['key']['remoteJid'][_0x3c26de(0x3f0)](/:\d{1,2}@/g,'@'),_0x47e3f3=_0x20483a[_0x3c26de(0xcf)]['fromMe'],_0x13ea6b=_0x22f194['endsWith'](_0x3c26de(0x341)),_0x12a325=_0x20483a['message_normalized']?.[_0x3c26de(0x699)]||_0x20483a[_0x3c26de(0xf3)]?.[_0x3c26de(0x4f5)]||_0x20483a[_0x3c26de(0xf3)]?.[_0x3c26de(0x5ca)]||_0x20483a['message_normalized']?.[_0x3c26de(0x5e2)],_0x2f3bfd={'lastmsg':_0x20483a[_0x3c26de(0x50f)]||Date[_0x3c26de(0x652)](),'unreadcount':_0x47e3f3?0x0:0x1,..._0x47e3f3||_0x13ea6b?{}:{'name':_0x20483a['pushName']},..._0x13ea6b?{'group':_0x13ea6b}:{}},_0x2eefee=await this['repository'][_0x3c26de(0x4c5)]['updateOne']({'where':{'_id':_0x22f194}},_0x2f3bfd,this[_0x3c26de(0x571)][_0x3c26de(0x46a)],{'new':!0x0,'upsert':!0x0});if(_0x2eefee['imported']){let _0x2b285a=await this[_0x3c26de(0x65c)]['label'][_0x3c26de(0x39d)]({'where':{}},this[_0x3c26de(0x571)]['wuid']),_0x5bc775=new Set(_0x2b285a[_0x3c26de(0x35b)](_0x56f2cd=>_0x56f2cd['_id'])),_0x3ab7a1=(_0x2eefee[_0x3c26de(0x288)]?.[_0x3c26de(0xae)]||[])[_0x3c26de(0x10e)](_0x36420d=>_0x5bc775[_0x3c26de(0x241)](_0x36420d)),_0x572c4c={'leadInfo.etiquetas':_0x3ab7a1,'imported':!0x1};_0x2eefee=await this[_0x3c26de(0x65c)][_0x3c26de(0x4c5)]['updateOne']({'where':{'_id':_0x22f194}},_0x572c4c,this[_0x3c26de(0x571)][_0x3c26de(0x46a)]);for(let _0x40fc93 of _0x3ab7a1)await this[_0x3c26de(0x1aa)](_0x40fc93,_0x22f194);}if(!_0x13ea6b&&(!_0x2eefee?.[_0x3c26de(0x288)]||!_0x2eefee[_0x3c26de(0x288)][_0x3c26de(0x8f)])&&_0x20483a[_0x3c26de(0x275)]&&!_0x47e3f3&&(_0x2eefee=await this[_0x3c26de(0x65c)]['chat'][_0x3c26de(0x405)]({'where':{'_id':_0x22f194}},{'leadInfo.nome':_0x20483a[_0x3c26de(0x275)]},this['instance'][_0x3c26de(0x46a)],{'new':!0x0,'upsert':!0x0})),_0x37d03a===_0x3c26de(0x1b0)&&_0x47e3f3&&this['AutomateSystem']?.[_0x3c26de(0x4e6)][_0x3c26de(0x38a)]&&!_0x12a325[_0x3c26de(0x4c2)](this[_0x3c26de(0x6a7)]?.[_0x3c26de(0x4e6)]['prefixCommand'])){let _0x11526d=(this[_0x3c26de(0x6a7)]?.[_0x3c26de(0x4e6)][_0x3c26de(0x465)]||0x5)*0xea60,_0x49bbe6=Date['now']()+_0x11526d;_0x2eefee?.[_0x3c26de(0x288)]?.[_0x3c26de(0x66f)]===0x0||(await this[_0x3c26de(0x65c)][_0x3c26de(0x4c5)][_0x3c26de(0x405)]({'where':{'_id':_0x22f194}},{'leadInfo.desativadoFluxoAte':_0x49bbe6},this[_0x3c26de(0x571)][_0x3c26de(0x46a)],{'new':!0x0,'upsert':!0x1}),this[_0x3c26de(0x19a)]['verbose'](this[_0x3c26de(0x3a7)]+'\x20('+this[_0x3c26de(0x571)]['wuid']+_0x3c26de(0x21c)+_0x49bbe6+'.'));}if(_0x2eefee)J(this[_0x3c26de(0x3a7)],_0x3c26de(0x364),{'chat':_0x2eefee});else{this[_0x3c26de(0x19a)][_0x3c26de(0x3d5)](this[_0x3c26de(0x3a7)]+'\x20('+this['instance'][_0x3c26de(0x46a)]+_0x3c26de(0x1f2));return;}if(!this['AutomateSystem']?.['flowConfig'][_0x3c26de(0x38a)])return this[_0x3c26de(0x19a)][_0x3c26de(0x41a)](this[_0x3c26de(0x3a7)]+'\x20('+this[_0x3c26de(0x571)][_0x3c26de(0x46a)]+_0x3c26de(0x2b2)),null;if(_0x2eefee[_0x3c26de(0x1f1)][_0x3c26de(0x542)](_0x3c26de(0x341))&&this['AutomateSystem']?.[_0x3c26de(0x4e6)][_0x3c26de(0x292)]===!0x0)return this[_0x3c26de(0x19a)][_0x3c26de(0x41a)](this[_0x3c26de(0x3a7)]+'\x20('+this[_0x3c26de(0x571)][_0x3c26de(0x46a)]+_0x3c26de(0x1cf)),null;if(_0x2eefee['leadInfo']){if(_0x2eefee[_0x3c26de(0x288)][_0x3c26de(0x66f)]===0x0||_0x2eefee[_0x3c26de(0x288)][_0x3c26de(0x89)])return this[_0x3c26de(0x19a)][_0x3c26de(0x41a)](this[_0x3c26de(0x3a7)]+'\x20('+this[_0x3c26de(0x571)][_0x3c26de(0x46a)]+_0x3c26de(0x1e8)+_0x22f194+_0x3c26de(0x1be)),null;if(_0x2eefee[_0x3c26de(0x288)]['desativadoFluxoAte']>Date[_0x3c26de(0x652)]()&&!_0x20483a[_0x3c26de(0xf3)]?.['vote'])return this[_0x3c26de(0x19a)][_0x3c26de(0x41a)](this[_0x3c26de(0x3a7)]+'\x20('+this[_0x3c26de(0x571)]['wuid']+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x2eefee[_0x3c26de(0x288)]['desativadoFluxoAte'])[_0x3c26de(0x17d)]()+_0x3c26de(0x1be)),null;}this['logger']['verbose'](this[_0x3c26de(0x3a7)]+'\x20('+this[_0x3c26de(0x571)][_0x3c26de(0x46a)]+_0x3c26de(0x259)),this[_0x3c26de(0x443)](_0x37d03a,_0x20483a);}async['upsertChats'](_0x1bbf24,_0x55cfa7){const _0x3f9c0f=a0_0x13f4c8;if(_0x55cfa7[_0x3f9c0f(0x4d0)]){let _0x32edc2=_0x1bbf24[_0x3f9c0f(0x35b)](async _0x3606c2=>{const _0x1934be=_0x3f9c0f;try{let _0x1b03d4={'_id':_0x3606c2[_0x1934be(0x1f1)],'owner':_0x3606c2[_0x1934be(0xc1)],'lastcache':0x0};if(_0x3606c2[_0x1934be(0x4bc)]!==null&&(_0x1b03d4[_0x1934be(0x4bc)]=_0x3606c2['group']),_0x3606c2['name']!==null&&(_0x1b03d4[_0x1934be(0x5e2)]=_0x3606c2[_0x1934be(0x5e2)]),_0x3606c2['contactname']!==null&&(_0x1b03d4[_0x1934be(0x4b9)]=_0x3606c2['contactname']),_0x3606c2[_0x1934be(0x36a)]!==null&&(_0x1b03d4[_0x1934be(0x36a)]=_0x3606c2[_0x1934be(0x36a)]),_0x3606c2['imagechat']===null&&(_0x1b03d4[_0x1934be(0x36a)]='Imagem\x20não\x20encontrada'),_0x3606c2[_0x1934be(0x2d1)]!==null&&(_0x1b03d4['lastmsg']=_0x3606c2[_0x1934be(0x2d1)]),_0x3606c2[_0x1934be(0xef)]!==null&&(_0x1b03d4[_0x1934be(0xef)]=_0x3606c2[_0x1934be(0xef)]),_0x3606c2[_0x1934be(0x23f)]!==null&&(_0x1b03d4[_0x1934be(0x23f)]=_0x3606c2[_0x1934be(0x23f)]),Object[_0x1934be(0x2ec)](_0x1b03d4)[_0x1934be(0xa3)]>0x0)return await this[_0x1934be(0x65c)][_0x1934be(0x4c5)][_0x1934be(0x405)]({'where':{'_id':_0x3606c2['_id']}},_0x1b03d4,this[_0x1934be(0x571)]['wuid']);}catch(_0x15ea7f){return console[_0x1934be(0x3d5)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x3606c2['_id']+':',_0x15ea7f),null;}}),_0x12f21e=(await Promise[_0x3f9c0f(0x5a0)](_0x32edc2))[_0x3f9c0f(0x10e)](_0x5da413=>_0x5da413!==null)[_0x3f9c0f(0xa3)];this[_0x3f9c0f(0x19a)][_0x3f9c0f(0x41a)](this[_0x3f9c0f(0x3a7)]+'\x20('+this[_0x3f9c0f(0x571)]['wuid']+_0x3f9c0f(0x40e)+_0x12f21e+'\x20chats\x20de\x20'+this[_0x3f9c0f(0x571)][_0x3f9c0f(0x46a)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0x13f4c8(0x2ca)](_0x138615){const _0x8b07fe=a0_0x13f4c8;this[_0x8b07fe(0x19a)][_0x8b07fe(0x41a)](this[_0x8b07fe(0x3a7)]+'\x20('+this[_0x8b07fe(0x571)][_0x8b07fe(0x46a)]+'):\x20Ler\x20mensagem');let _0x4824d2={'readMessages':[{'remoteJid':_0x138615['chatLog']['lastReceivedMessage']['key'][_0x8b07fe(0x52a)],'fromMe':_0x138615[_0x8b07fe(0x49a)][_0x8b07fe(0x482)]['key'][_0x8b07fe(0x19b)],'id':_0x138615[_0x8b07fe(0x49a)][_0x8b07fe(0x482)][_0x8b07fe(0xcf)]['id']}]};await this[_0x8b07fe(0x619)](_0x4824d2);}async[a0_0x13f4c8(0x443)](_0xb62504,_0x3741e9){const _0x1b03cd=a0_0x13f4c8;try{let {key:_0x2652e9,message_normalized:_0x1be467}=_0x3741e9,_0x450e25=_0x1be467,_0x4bb921=_0x1be467[_0x1b03cd(0x699)]||_0x1be467['caption']||_0x1be467[_0x1b03cd(0x5ca)]||_0x1be467[_0x1b03cd(0x5e2)],_0x4a83b7=_0x2652e9[_0x1b03cd(0x52a)],_0x115aa9;if(_0x450e25['key'][_0x1b03cd(0x19b)]&&_0x4bb921[_0x1b03cd(0x4b3)]()!==this[_0x1b03cd(0x6a7)]?.[_0x1b03cd(0x4e6)][_0x1b03cd(0x2bc)][_0x1b03cd(0x4b3)]())return this[_0x1b03cd(0x19a)][_0x1b03cd(0x41a)](this[_0x1b03cd(0x3a7)]+'\x20('+this[_0x1b03cd(0x571)]['wuid']+_0x1b03cd(0x633)),null;if(_0x450e25[_0x1b03cd(0xcf)][_0x1b03cd(0x19b)]&&_0x4bb921[_0x1b03cd(0x4b3)]()===this[_0x1b03cd(0x6a7)]?.[_0x1b03cd(0x4e6)]['stopConversation'][_0x1b03cd(0x4b3)]()){this[_0x1b03cd(0x19a)][_0x1b03cd(0x41a)](this[_0x1b03cd(0x3a7)]+'\x20('+this[_0x1b03cd(0x571)][_0x1b03cd(0x46a)]+_0x1b03cd(0x34a));let _0x51fa92=await this['repository']['flowConversation'][_0x1b03cd(0x39d)]({'remoteJid':_0x4a83b7,'status':_0x1b03cd(0x13c)},this['instance'][_0x1b03cd(0x46a)]);this[_0x1b03cd(0x19a)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x1b03cd(0x46a)]+_0x1b03cd(0x494)+_0x51fa92);let _0x59b93d=Date[_0x1b03cd(0x652)](),_0x6464b9;return this[_0x1b03cd(0x6a7)]?.['flowConfig'][_0x1b03cd(0xfa)]===0x0?_0x6464b9={'stoppedUntil':_0x59b93d+0x7591f6200}:_0x6464b9={'stoppedUntil':_0x59b93d+this['AutomateSystem']?.[_0x1b03cd(0x4e6)]['stopMinutes']*0x3c*0x3e8},this['logger']['verbose'](this[_0x1b03cd(0x3a7)]+'\x20('+this['instance'][_0x1b03cd(0x46a)]+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x6464b9),this[_0x1b03cd(0xd8)](_0x115aa9,_0x6464b9[_0x1b03cd(0x33a)]),null;}if(_0x4bb921&&_0x4bb921['startsWith'](this['AutomateSystem']?.['flowConfig'][_0x1b03cd(0x4c9)])&&_0x4bb921['length']>0x4){let _0xe589a=await this['repository'][_0x1b03cd(0x693)]['findOne']({'where':{'startCommandWord':_0x4bb921}},this[_0x1b03cd(0x571)][_0x1b03cd(0x46a)]);if(this['logger'][_0x1b03cd(0x41a)](this['instanceName']+'\x20('+this[_0x1b03cd(0x571)]['wuid']+_0x1b03cd(0x3e2)),_0xe589a)_0x115aa9=await this[_0x1b03cd(0x59e)](_0xe589a,_0x450e25[_0x1b03cd(0xcf)],_0x450e25);else return this[_0x1b03cd(0x19a)][_0x1b03cd(0x41a)](this[_0x1b03cd(0x3a7)]+'\x20('+this['instance']['wuid']+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x115aa9=await this[_0x1b03cd(0x185)](_0x4a83b7,_0x450e25);if(_0x115aa9){this['logger']['verbose'](this[_0x1b03cd(0x3a7)]+'\x20('+this[_0x1b03cd(0x571)][_0x1b03cd(0x46a)]+_0x1b03cd(0x4e9)),!_0x2652e9[_0x1b03cd(0x19b)]&&_0x115aa9[_0x1b03cd(0x499)]&&this['readMessageBot'](_0x115aa9);let _0x168a86=await this[_0x1b03cd(0x17f)](_0x115aa9);_0x168a86&&await this['processblock'](_0x115aa9,_0x168a86);}}catch(_0x2ba98e){this['logger'][_0x1b03cd(0x3d5)](this[_0x1b03cd(0x3a7)]+'\x20('+this['instance'][_0x1b03cd(0x46a)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x2ba98e instanceof Error?_0x2ba98e[_0x1b03cd(0x191)]:JSON['stringify'](_0x2ba98e,null,0x2)));}}[a0_0x13f4c8(0xdf)](_0x15f5fe,_0x40a6da='',_0x9ce1ac={},_0x4856d3=!0x0){const _0xe7602=a0_0x13f4c8;for(let _0x5a0f9b in _0x15f5fe){let _0x334039=_0x4856d3?'_'+_0x5a0f9b:''+_0x40a6da+_0x5a0f9b;typeof _0x15f5fe[_0x5a0f9b]==_0xe7602(0x5ea)&&_0x15f5fe[_0x5a0f9b]!==null?this['flattenObject'](_0x15f5fe[_0x5a0f9b],_0x334039+'.',_0x9ce1ac,!0x1):_0x9ce1ac[_0x334039]=String(_0x15f5fe[_0x5a0f9b]);}return _0x9ce1ac;}[a0_0x13f4c8(0xc7)](_0x10f70c){const _0x55c388=a0_0x13f4c8;let _0x43ab52={};for(let _0x4c10e9 of _0x10f70c)typeof _0x4c10e9[_0x55c388(0x5e2)]==_0x55c388(0x67e)&&typeof _0x4c10e9[_0x55c388(0x28f)]==_0x55c388(0x67e)&&(_0x43ab52[_0x4c10e9['name']]=_0x4c10e9['value']);return _0x43ab52;}async['NextBlock'](_0xf580f8){const _0x48f7e2=a0_0x13f4c8;if(!this['AutomateSystem']?.[_0x48f7e2(0x4e6)]['enabled']||_0xf580f8[_0x48f7e2(0x254)]!==_0x48f7e2(0x13c)&&_0xf580f8[_0x48f7e2(0x637)]==='')return null;let _0x2ee592=_0xf580f8[_0x48f7e2(0x49a)][_0x48f7e2(0x44b)]||_0x48f7e2(0x342);typeof _0xf580f8['chatLog'][_0x48f7e2(0x369)]>'u'&&(_0xf580f8['chatLog'][_0x48f7e2(0x369)]=!0x0);let _0x4ea0d3=_0xf580f8[_0x48f7e2(0x49a)][_0x48f7e2(0x369)];this[_0x48f7e2(0x19a)][_0x48f7e2(0x41a)](this[_0x48f7e2(0x3a7)]+'\x20('+this[_0x48f7e2(0x571)]['wuid']+_0x48f7e2(0x31b)+_0x2ee592+_0x48f7e2(0x51b)+_0x4ea0d3);let _0x1df686=_0x2ee592===_0x48f7e2(0x342)?_0xf580f8[_0x48f7e2(0x380)][_0x48f7e2(0x39d)](_0xda5d3d=>_0xda5d3d['type']==='start'):_0xf580f8[_0x48f7e2(0x380)][_0x48f7e2(0x39d)](_0x25c699=>_0x25c699['_id'][_0x48f7e2(0x603)]()===_0x2ee592['toString']());if(!_0x1df686)return this[_0x48f7e2(0x19a)]['error'](this[_0x48f7e2(0x3a7)]+'\x20('+this[_0x48f7e2(0x571)][_0x48f7e2(0x46a)]+_0x48f7e2(0x1ba)+_0x2ee592),null;let _0x1421f4={'_pushName':_0xf580f8['chatLog'][_0x48f7e2(0x482)][_0x48f7e2(0x275)],..._0xf580f8['chatLog']['realVariables']},_0xd72161=null;if(_0xf580f8[_0x48f7e2(0x637)]){let _0x3a5f9d=_0xf580f8[_0x48f7e2(0x49a)][_0x48f7e2(0x482)][_0x48f7e2(0x5ca)],_0x8901c8=_0xf580f8[_0x48f7e2(0x145)]['find'](_0x1a4664=>_0x1a4664[_0x48f7e2(0x51c)]===_0x3a5f9d);if(_0x8901c8){let _0x42e388=_0x8901c8[_0x48f7e2(0x37c)];if(_0xd72161=_0xf580f8[_0x48f7e2(0x380)][_0x48f7e2(0x39d)](_0x584a2a=>_0x584a2a[_0x48f7e2(0x140)]===_0x42e388&&_0x584a2a['order']===0x1),_0x1df686[_0x48f7e2(0x330)][_0x48f7e2(0x179)]){let _0x125237={'id':_0xf580f8[_0x48f7e2(0x637)],'remoteJid':_0xf580f8['remoteJid'],'fromMe':!0x0};await this[_0x48f7e2(0x64a)](_0x125237);}if(_0x1df686[_0x48f7e2(0x330)][_0x48f7e2(0x179)]&&_0x1df686[_0x48f7e2(0x330)][_0x48f7e2(0x30e)]&&_0x1df686['uazapi'][_0x48f7e2(0x68d)]==='poll'){let _0x52b27d={'number':_0xf580f8[_0x48f7e2(0x52a)],'options':{'delay':0x0},'textMessage':{'text':_0x48f7e2(0x9c)+_0xf580f8[_0x48f7e2(0x27c)]+_0x48f7e2(0x1f5)+_0x3a5f9d}};await this[_0x48f7e2(0x24f)](_0x52b27d);}_0xf580f8[_0x48f7e2(0x254)]=_0x48f7e2(0x13c),_0xf580f8['waitingMenu_id']='',_0xf580f8[_0x48f7e2(0x27c)]='',_0xf580f8['waitingMenu_replyOptions']=[];}else{this[_0x48f7e2(0x19a)][_0x48f7e2(0x41a)](this[_0x48f7e2(0x3a7)]+'\x20('+this[_0x48f7e2(0x571)][_0x48f7e2(0x46a)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x3019ff={'activatedCount':_0xf580f8[_0x48f7e2(0x49a)][_0x48f7e2(0x60a)][_0x48f7e2(0x10e)](_0xa6e5a5=>String(_0xa6e5a5[_0x48f7e2(0x6e)])===String(_0x2ee592))[_0x48f7e2(0xa3)],'moreLogs':[_0x48f7e2(0x536)]};if(_0x1df686[_0x48f7e2(0x330)][_0x48f7e2(0x458)]){let _0x5074c1={'number':_0xf580f8['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x1df686[_0x48f7e2(0x330)][_0x48f7e2(0x458)]}};await this[_0x48f7e2(0x24f)](_0x5074c1);}if(_0x1df686[_0x48f7e2(0xb8)]!==void 0x0&&_0x3019ff[_0x48f7e2(0x90)]>=_0x1df686[_0x48f7e2(0xb8)]){let _0x330a48=Date['now'](),_0x2b68ce=_0x1df686[_0x48f7e2(0x78)]??0xa;isNaN(_0x2b68ce)&&(_0x2b68ce=0xa);let _0x4e1fd4=_0x330a48+_0x2b68ce*0x3c*0x3e8;_0x3019ff[_0x48f7e2(0x25b)]=_0x4e1fd4,_0x3019ff['moreLogs']['push']('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x48f7e2(0xd8)](_0xf580f8,_0x4e1fd4),_0xf580f8[_0x48f7e2(0x637)]='',_0xf580f8[_0x48f7e2(0x27c)]='',_0xf580f8[_0x48f7e2(0x145)]=[];}return this[_0x48f7e2(0x10b)](_0xf580f8,_0x1df686,_0x3019ff,!0x0),null;}}if(_0x4ea0d3&&_0x1df686['next_groupId']&&!_0xf580f8['waitingMenu_id']){let _0x1b1215=_0xf580f8[_0x48f7e2(0x380)][_0x48f7e2(0x10e)](_0x316004=>_0x316004[_0x48f7e2(0x140)]['toString']()===_0x1df686['next_groupId']['toString']())['sort']((_0x3af786,_0x3314d5)=>_0x3af786[_0x48f7e2(0x5d4)]-_0x3314d5['order']);_0x1b1215[_0x48f7e2(0xa3)]>0x0&&(_0xd72161=_0x1b1215[0x0]);}if(!_0xd72161){let _0x32bd5f=_0x1df686[_0x48f7e2(0x140)],_0x154cb7=_0xf580f8[_0x48f7e2(0x380)][_0x48f7e2(0x10e)](_0x2f33f8=>_0x2f33f8[_0x48f7e2(0x140)]===_0x32bd5f&&_0x2f33f8[_0x48f7e2(0x5d4)]>_0x1df686[_0x48f7e2(0x5d4)])[_0x48f7e2(0x29e)]((_0x2efc34,_0x1b82ea)=>_0x2efc34[_0x48f7e2(0x5d4)]-_0x1b82ea[_0x48f7e2(0x5d4)]);_0x154cb7[_0x48f7e2(0xa3)]>0x0&&(_0xd72161=_0x154cb7[0x0]);}if(!_0xd72161)return _0xf580f8[_0x48f7e2(0x254)]=_0x48f7e2(0x407),null;_0xf580f8[_0x48f7e2(0x49a)][_0x48f7e2(0x14b)]=_0x1421f4;let _0x481047=JSON[_0x48f7e2(0x5d8)](JSON[_0x48f7e2(0x33c)](_0xd72161));return this[_0x48f7e2(0x356)](_0x481047,_0xf580f8[_0x48f7e2(0x49a)][_0x48f7e2(0x14b)]),_0xf580f8['chatLog'][_0x48f7e2(0x44b)]=_0x481047[_0x48f7e2(0x1f1)],_0xf580f8[_0x48f7e2(0x49a)][_0x48f7e2(0x369)]=!0x0,_0x481047;}[a0_0x13f4c8(0x5c4)](_0x1e09e3,_0x3b9a39){const _0x5f1a7f=a0_0x13f4c8;return _0x1e09e3[_0x5f1a7f(0x3f0)](/\{\{([^}]+)\}\}/g,(_0x3b63b5,_0x5cd246)=>_0x3b9a39[_0x5cd246]||'');}['replaceVariablesInObject'](_0x3602a1,_0x22c83d){const _0x3d06ae=a0_0x13f4c8;for(let _0x2ac72e in _0x3602a1)typeof _0x3602a1[_0x2ac72e]==_0x3d06ae(0x67e)?_0x3602a1[_0x2ac72e]=this[_0x3d06ae(0x5c4)](_0x3602a1[_0x2ac72e],_0x22c83d):typeof _0x3602a1[_0x2ac72e]==_0x3d06ae(0x5ea)&&this[_0x3d06ae(0x356)](_0x3602a1[_0x2ac72e],_0x22c83d);}async[a0_0x13f4c8(0x522)](_0x4548da,_0x5c68a0){const _0x3c03c4=a0_0x13f4c8;let _0x52ccec=_0x5c68a0[_0x3c03c4(0x1f1)];if(_0x4548da[_0x3c03c4(0x49a)]&&_0x4548da['chatLog'][_0x3c03c4(0x60a)]){let _0x4397be=_0x4548da[_0x3c03c4(0x49a)][_0x3c03c4(0x60a)][_0x3c03c4(0x10e)](_0x487ba=>String(_0x487ba['blockId'])===String(_0x52ccec))['pop']();if(_0x4397be&&_0x4397be[_0x3c03c4(0x3d5)]&&_0x5c68a0[_0x3c03c4(0x12d)])return _0x4548da[_0x3c03c4(0x254)]=_0x3c03c4(0x407),await this['saveConversationToDatabase'](_0x4548da),null;}if(_0x5c68a0[_0x3c03c4(0x31f)]===_0x3c03c4(0x330)&&_0x5c68a0['uazapi'][_0x3c03c4(0x33b)]==='sendPoll'&&_0x4548da[_0x3c03c4(0x637)])return _0x4548da['chatLog']['lastBlockId']=_0x52ccec,await this[_0x3c03c4(0x558)](_0x4548da),null;let _0x101553=await this[_0x3c03c4(0x17f)](_0x4548da);if(_0x4548da[_0x3c03c4(0x49a)]&&_0x4548da[_0x3c03c4(0x49a)][_0x3c03c4(0x60a)]){let _0x4cc50a=_0x4548da['chatLog'][_0x3c03c4(0x60a)][_0x3c03c4(0x10e)](_0x501e75=>String(_0x501e75[_0x3c03c4(0x6e)])===String(_0x52ccec))[_0x3c03c4(0xa3)];if(_0x5c68a0[_0x3c03c4(0xb8)]!==void 0x0&&_0x4cc50a>=_0x5c68a0[_0x3c03c4(0xb8)]){let _0x9a522a=Date['now'](),_0x414f61=_0x5c68a0[_0x3c03c4(0x78)]??0xa;isNaN(_0x414f61)&&(_0x414f61=0xa);let _0xc342e8=_0x9a522a+_0x414f61*0x3c*0x3e8,_0x59aa18={'newStoppedUntil':_0xc342e8};return this[_0x3c03c4(0xd8)](_0x4548da,_0xc342e8),this[_0x3c03c4(0x10b)](_0x4548da,_0x5c68a0,_0x59aa18,!0x0),null;}}_0x101553&&_0x101553[_0x3c03c4(0x31f)]!==_0x3c03c4(0x546)&&await this['processblock'](_0x4548da,_0x101553),_0x101553||await this['saveConversationToDatabase'](_0x4548da),_0x101553&&_0x101553[_0x3c03c4(0x31f)]===_0x3c03c4(0x546)&&(_0x4548da[_0x3c03c4(0x49a)][_0x3c03c4(0x44b)]=_0x52ccec,await this['saveConversationToDatabase'](_0x4548da));}async['processblock'](_0x6bfd43,_0x4473d6){const _0x2a8a81=a0_0x13f4c8;try{let _0x176914=_0x4473d6['type'];this[_0x2a8a81(0x19a)][_0x2a8a81(0x41a)](this[_0x2a8a81(0x3a7)]+'\x20('+this[_0x2a8a81(0x571)][_0x2a8a81(0x46a)]+_0x2a8a81(0x325)+_0x176914);let _0x2e9ef2={'uazapi':()=>this['processUazapi'](_0x6bfd43,_0x4473d6),'save':()=>this['saveTextReply'](_0x6bfd43,_0x4473d6),'stop':()=>this[_0x2a8a81(0x2bc)](_0x6bfd43,_0x4473d6),'condition':()=>this['processConditions'](_0x6bfd43,_0x4473d6),'varedit':()=>this[_0x2a8a81(0x39a)](_0x6bfd43,_0x4473d6),'apirequest':()=>this['processApiRequest'](_0x6bfd43,_0x4473d6),'goToFlow':()=>this[_0x2a8a81(0x6ba)](_0x6bfd43,_0x4473d6)}[_0x176914];_0x2e9ef2&&await _0x2e9ef2();}catch(_0x10c7fd){this[_0x2a8a81(0x19a)][_0x2a8a81(0x3d5)](this[_0x2a8a81(0x3a7)]+'\x20('+this[_0x2a8a81(0x571)][_0x2a8a81(0x46a)]+_0x2a8a81(0x349)+(_0x10c7fd instanceof Error?_0x10c7fd[_0x2a8a81(0x191)]:JSON['stringify'](_0x10c7fd,null,0x2)));}}async[a0_0x13f4c8(0x6ba)](_0x4ce2b3,_0x5ea2f2){const _0xe41e75=a0_0x13f4c8;if(this['logger']['verbose'](this[_0xe41e75(0x3a7)]+'\x20('+this[_0xe41e75(0x571)][_0xe41e75(0x46a)]+_0xe41e75(0x21f)),!_0x4ce2b3||!_0x5ea2f2)return this['logger'][_0xe41e75(0x3d5)](this[_0xe41e75(0x3a7)]+'\x20('+this[_0xe41e75(0x571)][_0xe41e75(0x46a)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0xe41e75(0x10b)](_0x4ce2b3,_0x5ea2f2,{},!0x0,!0x0),console[_0xe41e75(0x4e2)](_0xe41e75(0x502)),console[_0xe41e75(0x4e2)](_0x5ea2f2);let _0x428787=_0x5ea2f2[_0xe41e75(0x1e1)];console[_0xe41e75(0x4e2)](_0xe41e75(0x7c),_0x428787),_0x4ce2b3=await this[_0xe41e75(0x43d)](_0x428787,_0x4ce2b3[_0xe41e75(0x52a)],_0x4ce2b3[_0xe41e75(0x49a)]['realVariables']),this[_0xe41e75(0x19a)][_0xe41e75(0x41a)](this['instanceName']+'\x20('+this[_0xe41e75(0x571)]['wuid']+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x34128e=await this[_0xe41e75(0x17f)](_0x4ce2b3);_0x34128e&&await this['processblock'](_0x4ce2b3,_0x34128e);}async['createConversationforgoToFlow'](_0x3142d8,_0x39431c,_0x59f639){const _0x309cf6=a0_0x13f4c8;this[_0x309cf6(0x19a)]['verbose'](this[_0x309cf6(0x3a7)]+'\x20('+this['instance'][_0x309cf6(0x46a)]+_0x309cf6(0x47a));try{if(_0x3142d8=await this[_0x309cf6(0x65c)][_0x309cf6(0x693)][_0x309cf6(0x314)]({'where':{'name':_0x3142d8}},this[_0x309cf6(0x571)][_0x309cf6(0x46a)]),!_0x3142d8)return this['logger'][_0x309cf6(0x3d5)](this[_0x309cf6(0x3a7)]+'\x20('+this[_0x309cf6(0x571)]['wuid']+_0x309cf6(0x131)),null;let _0x494740=require(_0x309cf6(0x1ca))[_0x309cf6(0x13e)],_0x2b7423=Date[_0x309cf6(0x652)](),_0x210a5e='start',_0x303ed6={},_0x5bf8a5={},_0x177040={..._0x3142d8,'chatLog':null},_0x4c8ff2={'lastReceivedMessage':_0x303ed6,'lastSendMessage':_0x5bf8a5,'lastBlockId':_0x210a5e,'lastCondition':!0x0,'realVariables':_0x59f639};_0x177040['chatLog']=_0x4c8ff2,_0x177040[_0x309cf6(0x49a)][_0x309cf6(0x14b)]={..._0x59f639},delete _0x177040[_0x309cf6(0x1f1)],_0x177040[_0x309cf6(0x1f1)]=new _0x494740(),_0x177040['lastInteraction']=_0x2b7423,_0x177040[_0x309cf6(0x254)]=_0x309cf6(0x13c),_0x177040['remoteJid']=_0x39431c;let _0x29c8e7=await this[_0x309cf6(0x65c)]['flowConversation'][_0x309cf6(0x405)](_0x177040[_0x309cf6(0x1f1)],_0x177040,this['instance'][_0x309cf6(0x46a)]);return this[_0x309cf6(0x19a)][_0x309cf6(0x41a)](this[_0x309cf6(0x3a7)]+'\x20('+this[_0x309cf6(0x571)]['wuid']+_0x309cf6(0x189)),_0x29c8e7?_0x177040:null;}catch(_0x2c3c77){throw this[_0x309cf6(0x19a)][_0x309cf6(0x3d5)](this[_0x309cf6(0x3a7)]+'\x20('+this[_0x309cf6(0x571)][_0x309cf6(0x46a)]+_0x309cf6(0x193)+(_0x2c3c77 instanceof Error?_0x2c3c77[_0x309cf6(0x191)]:JSON[_0x309cf6(0x33c)](_0x2c3c77,null,0x2))),new m(_0x2c3c77[_0x309cf6(0x191)]);}}async[a0_0x13f4c8(0x560)](_0x55f028,_0x2440b9){const _0x430bd8=a0_0x13f4c8;let _0x4d6a97,_0x3ccacf;try{let _0x581814=_0x2440b9[_0x430bd8(0x2d0)];if(!_0x581814||!_0x581814[_0x430bd8(0x1d2)]||!_0x581814[_0x430bd8(0x45b)])throw new Error(_0x430bd8(0x223));let _0x50c0b7;([_0x430bd8(0x3ef),'https://api.openai.com/v1/images/generations',_0x430bd8(0x61a)][_0x430bd8(0x4d2)](_0x1e8dae=>_0x581814[_0x430bd8(0x1d2)][_0x430bd8(0x542)](_0x1e8dae))||_0x581814[_0x430bd8(0x22a)])&&(_0x50c0b7=_0x430bd8(0x25f));let _0x3ccd5a={'method':_0x581814[_0x430bd8(0x45b)],'url':_0x581814[_0x430bd8(0x1d2)],'headers':_0x581814[_0x430bd8(0x246)]||{},'data':_0x581814['body']||{},..._0x50c0b7&&{'responseType':_0x50c0b7}},_0x42775c=await(0x0,se['default'])(_0x3ccd5a),_0x588f6d=_0x42775c['headers'][_0x430bd8(0x22e)];if(_0x588f6d&&_0x588f6d['includes'](_0x430bd8(0xf5))){_0x4d6a97=_0x42775c[_0x430bd8(0x4f2)];let _0x2d73b7=_0x55f028[_0x430bd8(0x49a)][_0x430bd8(0x14b)],_0x2e71c4=this[_0x430bd8(0xdf)](_0x4d6a97);return Object[_0x430bd8(0x339)](_0x2d73b7,_0x2e71c4),_0x55f028[_0x430bd8(0x49a)]['realVariables']=_0x2d73b7,_0x3ccacf={'error':!0x1,'apiResponse':_0x4d6a97},this[_0x430bd8(0x10b)](_0x55f028,_0x2440b9,_0x3ccacf),_0x4d6a97;}if(_0x588f6d&&(_0x588f6d[_0x430bd8(0x542)](_0x430bd8(0x480))||_0x588f6d[_0x430bd8(0x542)]('image')||_0x588f6d[_0x430bd8(0x542)]('audio')||_0x588f6d[_0x430bd8(0x542)](_0x430bd8(0x55d)))){this[_0x430bd8(0x19a)][_0x430bd8(0x41a)](this[_0x430bd8(0x3a7)]+'\x20('+this[_0x430bd8(0x571)][_0x430bd8(0x46a)]+_0x430bd8(0xf0)+_0x588f6d);let _0x2bf73f=(0x0,Me['v4'])(),_0x5a1d11='',_0xa355d1={'image/jpeg':'.jpg','image/png':_0x430bd8(0x1d4),'image/gif':_0x430bd8(0x1bc),'image/webp':_0x430bd8(0x100),'image/svg+xml':'.svg','audio/mpeg':_0x430bd8(0x5e0),'audio/ogg':'.ogg','audio/wav':_0x430bd8(0x2be),'video/mp4':_0x430bd8(0x2f4),'video/webm':_0x430bd8(0x3c0),'video/ogg':_0x430bd8(0x345),'text/plain':_0x430bd8(0x66d),'application/pdf':'.pdf','application/msword':_0x430bd8(0x3aa),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':_0x430bd8(0x87),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x430bd8(0x44e),'application/vnd.ms-powerpoint':_0x430bd8(0x59f),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x430bd8(0x4da)};_0xa355d1[_0x588f6d]?(_0x5a1d11=_0xa355d1[_0x588f6d],this[_0x430bd8(0x19a)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x430bd8(0x294)+_0x5a1d11)):(_0x5a1d11=_0x430bd8(0x5f1),this[_0x430bd8(0x19a)][_0x430bd8(0x41a)](this[_0x430bd8(0x3a7)]+'\x20('+this[_0x430bd8(0x571)][_0x430bd8(0x46a)]+_0x430bd8(0x5b3)+_0x5a1d11)),_0x2bf73f+=_0x5a1d11,this[_0x430bd8(0x19a)][_0x430bd8(0x41a)](this['instanceName']+'\x20('+this[_0x430bd8(0x571)][_0x430bd8(0x46a)]+_0x430bd8(0x6a1)+_0x2bf73f);let _0x7dd01b=this[_0x430bd8(0x5af)][_0x430bd8(0x208)](_0x430bd8(0x322))['URL'];if(!_0x7dd01b){let _0x310a52=this[_0x430bd8(0x5af)][_0x430bd8(0x208)](_0x430bd8(0x65a));_0x7dd01b=_0x430bd8(0x2e5)+(_0x310a52&&_0x310a52[_0x430bd8(0x610)][_0x430bd8(0x545)]('/')[0x4]);}let _0x5d2cd2=Buffer[_0x430bd8(0x62a)](_0x42775c[_0x430bd8(0x4f2)]);await this[_0x430bd8(0x2d3)](_0x5d2cd2,_0x2bf73f);let _0xa53764=_0x430bd8(0x456)+_0x2bf73f;_0xa53764=''+_0x7dd01b+_0xa53764,_0x4d6a97={'fileUrl':_0xa53764},_0x55f028[_0x430bd8(0x49a)][_0x430bd8(0x14b)][_0x430bd8(0x2c0)]=_0xa53764;let _0x5b4a7a=_0x55f028[_0x430bd8(0x49a)][_0x430bd8(0x14b)],_0x2aeb10=this[_0x430bd8(0xdf)](_0x4d6a97);return Object[_0x430bd8(0x339)](_0x5b4a7a,_0x2aeb10),_0x55f028['chatLog'][_0x430bd8(0x14b)]=_0x5b4a7a,_0x3ccacf={'error':!0x1,'apiResponse':{'fileUrl':_0xa53764}},this['updateConversation'](_0x55f028,_0x2440b9,_0x3ccacf),_0x4d6a97;}}catch(_0x28f6d0){console[_0x430bd8(0x3d5)](_0x430bd8(0x187),_0x28f6d0),_0x28f6d0[_0x430bd8(0x3a1)]&&(_0x4d6a97=_0x28f6d0[_0x430bd8(0x3a1)][_0x430bd8(0x4f2)]);let _0x42ffe4=_0x55f028[_0x430bd8(0x49a)][_0x430bd8(0x14b)],_0xd88659=this[_0x430bd8(0xdf)](_0x4d6a97);return Object[_0x430bd8(0x339)](_0x42ffe4,_0xd88659),_0x55f028[_0x430bd8(0x49a)][_0x430bd8(0x14b)]=_0x42ffe4,_0x3ccacf={'error':!0x0,'errorLog':_0x28f6d0[_0x430bd8(0x603)](),'apiResponse':_0x4d6a97},this['updateConversation'](_0x55f028,_0x2440b9,_0x3ccacf),{'success':!0x1};}}['applyvaredit'](_0x536df2,_0x2aeb54){const _0x51ba4c=a0_0x13f4c8;let _0x41013=_0x21e3de=>{let _0x4e35ec=_0x21e3de['replace'](/[^0-9.,-]/g,'')['replace'](',','.'),_0x148a15=parseFloat(_0x4e35ec);return isNaN(_0x148a15)?null:_0x148a15;},_0x3f28e9=_0x2aeb54['firstValue'],_0x408cfa=_0x2aeb54['secondValue'];typeof _0x3f28e9==_0x51ba4c(0x67e)&&(_0x3f28e9=this[_0x51ba4c(0x5c4)](_0x3f28e9,_0x536df2[_0x51ba4c(0x49a)][_0x51ba4c(0x14b)])??''),typeof _0x408cfa==_0x51ba4c(0x67e)&&(_0x408cfa=this[_0x51ba4c(0x5c4)](_0x408cfa,_0x536df2[_0x51ba4c(0x49a)][_0x51ba4c(0x14b)])??'');let _0x20e70c=null;if(!_0x2aeb54[_0x51ba4c(0x5d5)])return null;switch(this[_0x51ba4c(0x19a)]['verbose'](this[_0x51ba4c(0x3a7)]+'\x20('+this[_0x51ba4c(0x571)]['wuid']+_0x51ba4c(0x8a)+_0x3f28e9),this[_0x51ba4c(0x19a)]['verbose'](this[_0x51ba4c(0x3a7)]+'\x20('+this[_0x51ba4c(0x571)][_0x51ba4c(0x46a)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x408cfa),_0x2aeb54[_0x51ba4c(0x5d5)]){case'+':case'-':case'*':case'/':let _0x1a8e6e=_0x41013(_0x3f28e9||'0'),_0x1d25ca=_0x41013(_0x408cfa||'0');if(_0x1a8e6e===null)return null;switch(_0x2aeb54[_0x51ba4c(0x5d5)]){case'+':_0x20e70c=_0x1a8e6e+(_0x1d25ca??0x0);break;case'-':_0x20e70c=_0x1a8e6e-(_0x1d25ca??0x0);break;case'*':_0x20e70c=_0x1a8e6e*(_0x1d25ca??0x1);break;case'/':_0x1d25ca!==0x0&&(_0x20e70c=_0x1a8e6e/(_0x1d25ca??0x1));break;}break;case _0x51ba4c(0x34c):case _0x51ba4c(0x14d):let _0xfce6d1=_0x408cfa,_0x3ed4e6=_0x2aeb54[_0x51ba4c(0x86)];if(typeof _0x3ed4e6==_0x51ba4c(0x67e)&&(_0x3ed4e6=this[_0x51ba4c(0x5c4)](_0x3ed4e6,_0x536df2['chatLog'][_0x51ba4c(0x14b)])??''),_0xfce6d1&&_0x3ed4e6!==void 0x0){let _0x2ca9b5=_0x2aeb54[_0x51ba4c(0x5d5)]===_0x51ba4c(0x34c)?new RegExp(_0xfce6d1[_0x51ba4c(0x3f0)](/[-\/\\^$*+?.()|[\]{}]/g,_0x51ba4c(0x6a6)),'g'):new RegExp(_0xfce6d1,'g');_0x20e70c=_0x3f28e9[_0x51ba4c(0x3f0)](_0x2ca9b5,_0x3ed4e6);}else console['warn'](_0x51ba4c(0x611));break;case _0x51ba4c(0x645):_0x20e70c=_0x408cfa;break;case'extractRegex':let _0x2cb76a=_0x3f28e9[_0x51ba4c(0x5c7)](new RegExp(_0x408cfa||''));_0x20e70c=_0x2cb76a?_0x2cb76a[0x0]:'';break;case _0x51ba4c(0x256):_0x20e70c=_0x3f28e9[_0x51ba4c(0x394)](0x0,parseInt(_0x408cfa||'0'));break;case _0x51ba4c(0xb1):let _0x301bf5=parseInt(_0x408cfa||'0');_0x20e70c=_0x3f28e9[_0x51ba4c(0x394)](_0x3f28e9['length']-_0x301bf5);break;case _0x51ba4c(0x4b4):let _0x3c35f1=_0x41013(_0x3f28e9),_0x3a5fa6=parseInt(_0x408cfa||'0');_0x3a5fa6=Math['abs'](_0x3a5fa6),_0x3c35f1!==null?_0x20e70c=_0x3c35f1[_0x51ba4c(0x17d)](_0x51ba4c(0x8d),{'minimumFractionDigits':_0x3a5fa6,'maximumFractionDigits':_0x3a5fa6}):(console[_0x51ba4c(0x2ce)](_0x51ba4c(0xcb)+_0x3f28e9),_0x20e70c=null);break;case _0x51ba4c(0xf9):let _0x10cdd4=_0x41013(_0x3f28e9);_0x10cdd4!==null?_0x20e70c=_0x10cdd4[_0x51ba4c(0x17d)](_0x51ba4c(0x8d),{'style':_0x51ba4c(0x317),'currency':_0x51ba4c(0x410)}):(console[_0x51ba4c(0x2ce)](_0x51ba4c(0x5a3)+_0x3f28e9),_0x20e70c=null);break;case'upperCase':_0x20e70c=_0x3f28e9['toUpperCase']();break;case _0x51ba4c(0x4c8):_0x20e70c=_0x3f28e9['toLowerCase']();break;case _0x51ba4c(0x678):_0x20e70c=_0x3f28e9[_0x51ba4c(0x545)]('\x20')[_0x51ba4c(0x35b)](_0x56be22=>_0x56be22[_0x51ba4c(0x5f2)](0x0)[_0x51ba4c(0x5ef)]()+_0x56be22[_0x51ba4c(0x394)](0x1)[_0x51ba4c(0x1c8)]())['join']('\x20');break;case _0x51ba4c(0x221):_0x20e70c=_0x3f28e9[_0x51ba4c(0x4b3)]();break;default:_0x20e70c=_0x3f28e9;}return _0x20e70c!==null?_0x20e70c[_0x51ba4c(0x603)]():null;}async[a0_0x13f4c8(0x39a)](_0x3727d8,_0x1221c2){const _0xd37d06=a0_0x13f4c8;try{let _0x5c7162=_0x3727d8[_0xd37d06(0x464)]?.[_0xd37d06(0x10e)](_0x5aa280=>_0x5aa280['blockId']===_0x1221c2[_0xd37d06(0x1f1)]?.[_0xd37d06(0x603)]())||[],_0x33599e=_0x1221c2[_0xd37d06(0x446)],_0x469d2e=null,_0x16faf8=[],_0x12bf2c=_0x3727d8[_0xd37d06(0x49a)][_0xd37d06(0x14b)][_0x33599e];_0x16faf8[_0xd37d06(0x4b1)](_0xd37d06(0x3c9)+_0x12bf2c+'\x22');for(let _0x6246b6 of _0x5c7162){_0x6246b6[_0xd37d06(0x50b)]=_0x12bf2c,_0x469d2e=_0x6246b6[_0xd37d06(0x50b)];let _0x543ce4;try{_0x543ce4=this['applyvaredit'](_0x3727d8,_0x6246b6);}catch(_0x44ae5b){console['error'](_0xd37d06(0x112)+_0x44ae5b[_0xd37d06(0x191)]);continue;}if(_0x543ce4!==null){let _0x4b0d93=_0xd37d06(0x181)+_0x6246b6[_0xd37d06(0x5d5)]+'\x22',_0x23706e=[_0xd37d06(0xf9),_0xd37d06(0x607),_0xd37d06(0x4c8),'capitalizedWords','trimmed'];_0x6246b6[_0xd37d06(0x5d5)]===_0xd37d06(0x34c)||_0x6246b6[_0xd37d06(0x5d5)]===_0xd37d06(0x14d)?_0x4b0d93+=_0xd37d06(0x39f)+_0x6246b6[_0xd37d06(0x2c7)]+_0xd37d06(0x3b7)+_0x6246b6[_0xd37d06(0x86)]+'\x22':!_0x23706e[_0xd37d06(0x542)](_0x6246b6['editOperator'])&&_0x6246b6[_0xd37d06(0x2c7)]!==null&&_0x6246b6['secondValue']!==void 0x0&&(_0x4b0d93+=_0xd37d06(0x4a5)+_0x6246b6[_0xd37d06(0x2c7)]+'\x22'),_0x4b0d93+=_0xd37d06(0x2ed)+_0x543ce4+'.',_0x16faf8['push'](_0x4b0d93);}_0x543ce4!==null&&(_0x12bf2c=_0x543ce4);}if(_0x3727d8[_0xd37d06(0x49a)]['realVariables']&&_0x1221c2['saveVariable']){_0x3727d8[_0xd37d06(0x49a)][_0xd37d06(0x14b)][_0x1221c2[_0xd37d06(0x446)]]=_0x12bf2c;let _0x227eb1={'variable':_0x1221c2[_0xd37d06(0x446)],'oldValue':_0x469d2e,'newValue':_0x12bf2c,'moreLogs':_0x16faf8};try{this[_0xd37d06(0x10b)](_0x3727d8,_0x1221c2,_0x227eb1);}catch(_0x23e3fa){console['error']('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x23e3fa[_0xd37d06(0x191)]);}}return _0x33599e;}catch(_0x113ccd){return console['error'](_0xd37d06(0x4ac)+_0x113ccd['message']),null;}}async[a0_0x13f4c8(0x299)](_0x2607a8,_0x26814f){const _0x5b8154=a0_0x13f4c8;try{let _0x31cff8=[],_0x484be3=_0x2607a8['conditions'][_0x5b8154(0x10e)](_0xba2a98=>_0xba2a98['blockId']===_0x26814f[_0x5b8154(0x1f1)][_0x5b8154(0x603)]()),_0x2532fd=null,_0x472020=!0x1;for(let _0x41304b of _0x484be3){let _0x47aed8=this[_0x5b8154(0x37e)](_0x2607a8,_0x41304b);_0x31cff8[_0x5b8154(0x4b1)](_0x5b8154(0x3ea)+_0x41304b[_0x5b8154(0x50b)]+',\x20Comparador:\x20'+_0x41304b[_0x5b8154(0x5f6)]+_0x5b8154(0x2f3)+_0x41304b[_0x5b8154(0x2c7)]+',\x20Resultado:\x20'+_0x47aed8),_0x2532fd===null?_0x2532fd=_0x47aed8:_0x41304b[_0x5b8154(0x1e3)]===_0x5b8154(0x641)?(_0x2532fd=_0x2532fd&&_0x47aed8,_0x47aed8||(_0x472020=!0x0)):_0x41304b[_0x5b8154(0x1e3)]==='or'&&(_0x472020||(_0x2532fd=_0x2532fd||_0x47aed8));}_0x2532fd===null&&(_0x2532fd=!0x0);let _0x357511={'moreLogs':_0x31cff8};_0x2607a8[_0x5b8154(0x49a)]['lastCondition']=_0x2532fd,await this[_0x5b8154(0x10b)](_0x2607a8,_0x26814f,_0x357511);}catch(_0x2b056a){this[_0x5b8154(0x19a)][_0x5b8154(0x3d5)](this['instanceName']+'\x20('+this[_0x5b8154(0x571)][_0x5b8154(0x46a)]+_0x5b8154(0x669)+(_0x2b056a instanceof Error?_0x2b056a['message']:JSON[_0x5b8154(0x33c)](_0x2b056a,null,0x2)));}}[a0_0x13f4c8(0x37e)](_0x4c7636,_0x5905b8){const _0xf35edb=a0_0x13f4c8;let _0x8b4331=_0x5905b8['firstValue'],_0xa721fb=_0x5905b8[_0xf35edb(0x2c7)];typeof _0x8b4331==_0xf35edb(0x67e)&&(_0x8b4331=this[_0xf35edb(0x5c4)](_0x8b4331,_0x4c7636[_0xf35edb(0x49a)][_0xf35edb(0x14b)])??''),typeof _0xa721fb=='string'&&(_0xa721fb=this[_0xf35edb(0x5c4)](_0xa721fb,_0x4c7636[_0xf35edb(0x49a)][_0xf35edb(0x14b)])??'');try{switch(_0x5905b8['expression']){case'equal':return _0x8b4331===_0xa721fb;case _0xf35edb(0x2ff):return _0x8b4331!==_0xa721fb;case _0xf35edb(0x171):return this[_0xf35edb(0x171)](_0x8b4331,_0xa721fb);case'notContains':return!this['contains'](_0x8b4331,_0xa721fb);case _0xf35edb(0xa8):return parseFloat(_0x8b4331)>parseFloat(_0xa721fb);case'less':return parseFloat(_0x8b4331)<parseFloat(_0xa721fb);case'notEmpty':return _0x8b4331!=='';case'empty':return _0x8b4331==='';case _0xf35edb(0x3a3):return new RegExp(_0xa721fb)['test'](_0x8b4331);case _0xf35edb(0x432):return!new RegExp(_0xa721fb)[_0xf35edb(0x37d)](_0x8b4331);default:return!0x1;}}catch(_0x33254c){return console[_0xf35edb(0x3d5)](_0xf35edb(0x3b2)+_0x33254c),!0x1;}}[a0_0x13f4c8(0x171)](_0x17bad4,_0x143844){const _0x34977d=a0_0x13f4c8;if(_0x17bad4===_0x143844&&/^\d+$/['test'](_0x17bad4))return!0x0;if(this[_0x34977d(0x2b5)](_0x17bad4)&&/^\d+$/[_0x34977d(0x37d)](_0x143844)){let _0x98cd69=_0x17bad4[_0x34977d(0x545)](',')[_0x34977d(0x35b)](_0x287ac5=>parseInt(_0x287ac5[_0x34977d(0x4b3)]())),_0x4f225b=parseInt(_0x143844);return _0x98cd69[_0x34977d(0x542)](_0x4f225b);}return _0x17bad4[_0x34977d(0x542)](_0x143844);}['isListOfNumbers'](_0x42af45){return/^\d+(,\d+)*$/['test'](_0x42af45);}[a0_0x13f4c8(0x4a2)](_0x5cf1a9){const _0x2cde5a=a0_0x13f4c8;let _0x5cac54=!0x0,_0x44afdb=null;for(let _0x8ab8ec of _0x5cf1a9){let _0x4c4d89=this[_0x2cde5a(0x2c5)](_0x8ab8ec);if(_0x44afdb==='or'&&_0x4c4d89){_0x5cac54=!0x0;break;}if(_0x44afdb==='and'&&!_0x4c4d89){_0x5cac54=!0x1;break;}_0x44afdb=_0x8ab8ec[_0x2cde5a(0x1e3)];}return _0x5cac54;}[a0_0x13f4c8(0x2c5)](_0xf6c7e7){const _0x36c39f=a0_0x13f4c8;let _0x93a38c=_0xf6c7e7[_0x36c39f(0x50b)],_0x3cdd5f=_0xf6c7e7[_0x36c39f(0x2c7)];try{switch(_0xf6c7e7[_0x36c39f(0x5f6)]){case'equal':return String(_0x93a38c)===String(_0x3cdd5f);case _0x36c39f(0x2ff):return String(_0x93a38c)!==String(_0x3cdd5f);case _0x36c39f(0x171):return String(_0x93a38c)[_0x36c39f(0x542)](String(_0x3cdd5f));case'notContains':return!String(_0x93a38c)[_0x36c39f(0x542)](String(_0x3cdd5f));case _0x36c39f(0xa8):return parseFloat(String(_0x93a38c))>parseFloat(String(_0x3cdd5f));case'less':return parseFloat(String(_0x93a38c))<parseFloat(String(_0x3cdd5f));case _0x36c39f(0x2de):return String(_0x93a38c)!=='';case'empty':return String(_0x93a38c)==='';case'matchRegex':return new RegExp(String(_0x3cdd5f))['test'](String(_0x93a38c));case _0x36c39f(0x432):return!new RegExp(String(_0x3cdd5f))['test'](String(_0x93a38c));default:return!0x1;}}catch(_0x4abbd9){return console[_0x36c39f(0x3d5)](_0x36c39f(0x3b2)+_0x4abbd9),!0x1;}}async[a0_0x13f4c8(0x5c9)](_0x438328,_0x2c4f40){const _0x3c3c5d=a0_0x13f4c8;if(this['logger'][_0x3c3c5d(0x41a)](this['instanceName']+'\x20('+this[_0x3c3c5d(0x571)][_0x3c3c5d(0x46a)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x438328||!_0x2c4f40)return this[_0x3c3c5d(0x19a)]['error'](this[_0x3c3c5d(0x3a7)]+'\x20('+this[_0x3c3c5d(0x571)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x30296c=_0x2c4f40['saveVariable'],_0x4b600f=_0x438328[_0x3c3c5d(0x49a)][_0x3c3c5d(0x482)][_0x3c3c5d(0x699)]||_0x438328[_0x3c3c5d(0x49a)]['lastReceivedMessage']['caption']||_0x438328[_0x3c3c5d(0x49a)][_0x3c3c5d(0x482)][_0x3c3c5d(0x5ca)];try{_0x438328[_0x3c3c5d(0x49a)]['realVariables']||(_0x438328[_0x3c3c5d(0x49a)][_0x3c3c5d(0x14b)]={});let _0x5c5e7c=_0x438328[_0x3c3c5d(0x49a)]['realVariables'][_0x30296c];_0x438328[_0x3c3c5d(0x49a)][_0x3c3c5d(0x14b)][_0x30296c]=_0x4b600f;let _0x5f2b95={'variable':_0x30296c,'oldValue':_0x5c5e7c,'newValue':_0x4b600f};this[_0x3c3c5d(0x10b)](_0x438328,_0x2c4f40,_0x5f2b95),this[_0x3c3c5d(0x19a)][_0x3c3c5d(0x41a)](this[_0x3c3c5d(0x3a7)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x24d97a){let _0xeeaf68={'error':!0x0,'errorLog':_0x24d97a[_0x3c3c5d(0x603)]()};return this[_0x3c3c5d(0x10b)](_0x438328,_0x2c4f40,_0xeeaf68),this['logger'][_0x3c3c5d(0x3d5)](this[_0x3c3c5d(0x3a7)]+'\x20('+this[_0x3c3c5d(0x571)][_0x3c3c5d(0x46a)]+_0x3c3c5d(0x3c5)+(_0x24d97a instanceof Error?_0x24d97a[_0x3c3c5d(0x191)]:JSON['stringify'](_0x24d97a,null,0x2))),null;}}async[a0_0x13f4c8(0x2bc)](_0x53b5ac,_0x567485){const _0x49edbe=a0_0x13f4c8;if(this[_0x49edbe(0x19a)][_0x49edbe(0x41a)](this[_0x49edbe(0x3a7)]+'\x20('+this[_0x49edbe(0x571)][_0x49edbe(0x46a)]+_0x49edbe(0x67d)),!_0x53b5ac||!_0x567485)return this[_0x49edbe(0x19a)][_0x49edbe(0x3d5)](this[_0x49edbe(0x3a7)]+'\x20('+this[_0x49edbe(0x571)][_0x49edbe(0x46a)]+_0x49edbe(0x49b)),null;let _0x5da37f=Date[_0x49edbe(0x652)](),_0x205525=parseInt(_0x567485[_0x49edbe(0xfa)],0xa);if(isNaN(_0x205525))return this[_0x49edbe(0x19a)][_0x49edbe(0x3d5)](this[_0x49edbe(0x3a7)]+'\x20('+this[_0x49edbe(0x571)][_0x49edbe(0x46a)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x4951b9={'newStoppedUntil':_0x5da37f+_0x205525*0x3c*0x3e8};return await this[_0x49edbe(0x10b)](_0x53b5ac,_0x567485,_0x4951b9,!0x0),null;}async['processUazapi'](_0x151131,_0x163bf7){const _0x4c586b=a0_0x13f4c8;try{switch(_0x163bf7[_0x4c586b(0x330)][_0x4c586b(0x33b)]){case'sendText':await this[_0x4c586b(0x421)](_0x151131,_0x163bf7);break;case _0x4c586b(0x3ec):await this[_0x4c586b(0x1c9)](_0x151131,_0x163bf7);break;case _0x4c586b(0x433):await this['uazapiSendLocation'](_0x151131,_0x163bf7);break;case'sendAudio':await this[_0x4c586b(0x45e)](_0x151131,_0x163bf7);break;case _0x4c586b(0x3a0):await this['uazapiSendContact'](_0x151131,_0x163bf7);break;case _0x4c586b(0x173):await this[_0x4c586b(0x42e)](_0x151131,_0x163bf7);break;case _0x4c586b(0xa4):await this[_0x4c586b(0x42e)](_0x151131,_0x163bf7);break;case _0x4c586b(0x64a):await this['uazapiDeleteMessage'](_0x151131,_0x163bf7);break;default:this['logger'][_0x4c586b(0x3d5)](this[_0x4c586b(0x3a7)]+'\x20('+this[_0x4c586b(0x571)][_0x4c586b(0x46a)]+'):\x20Comando\x20desconhecido:\x20'+_0x163bf7[_0x4c586b(0x330)][_0x4c586b(0x33b)]);}}catch(_0x41dd09){this[_0x4c586b(0x19a)][_0x4c586b(0x3d5)](this[_0x4c586b(0x3a7)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x41dd09 instanceof Error?_0x41dd09['message']:JSON['stringify'](_0x41dd09,null,0x2)));}}async[a0_0x13f4c8(0x10b)](_0xed57bf,_0x409daf,_0x384082,_0x270da1=!0x1,_0x23cd4f=!0x1){const _0x282214=a0_0x13f4c8;_0xed57bf['chatLog'][_0x282214(0x60a)]||(_0xed57bf['chatLog'][_0x282214(0x60a)]=[]);let _0x56273d=(_0xed57bf[_0x282214(0x49a)]['blockLogs']?.['length']??0x0)+0x1,_0x2785c0=_0xed57bf[_0x282214(0x49a)]['blockLogs'][_0x282214(0x10e)](_0xd33426=>String(_0xd33426[_0x282214(0x6e)])===String(_0x409daf['_id']))[_0x282214(0xa3)]+0x1,_0x3061fe=_0x384082?.[_0x282214(0x399)]??Date['now'](),_0x51d666=_0x384082?.['error']?_0x384082[_0x282214(0x83)]??_0x384082[_0x282214(0x3d5)]['toString']():void 0x0,_0x330da6={'onTime':_0x3061fe,'blockId':_0x409daf[_0x282214(0x1f1)],'order':_0x56273d,'activatedCount':_0x2785c0,'error':_0x384082?.['error']??!0x1,'messageId':_0x384082?.[_0x282214(0x591)],'apiResponse':_0x384082?.[_0x282214(0x16c)],'apiResponseString':_0x384082?.[_0x282214(0x16c)]?JSON[_0x282214(0x33c)](_0x384082?.['apiResponse']):void 0x0,'variable':_0x384082?.['variable'],'oldValue':_0x384082?.['oldValue'],'newValue':_0x384082?.[_0x282214(0x29b)],'newStoppedUntil':_0x384082?.[_0x282214(0x25b)],'moreLogs':_0x384082?.['moreLogs'],'errorLog':_0x51d666};if(_0x384082[_0x282214(0x6c1)]&&_0x384082['moreLogs'][_0x282214(0xa3)]>0x0){let _0x173e7e=_0x384082[_0x282214(0x6c1)][_0x282214(0x35b)](_0x470e56=>this[_0x282214(0x3bd)](_0x470e56,_0xed57bf['chatLog']['realVariables']));_0x330da6[_0x282214(0x6c1)]=_0x173e7e;}_0xed57bf[_0x282214(0x49a)]['realVariables']||(_0xed57bf['chatLog'][_0x282214(0x14b)]={}),_0xed57bf[_0x282214(0x49a)][_0x282214(0x14b)][_0x282214(0x3d0)]=String(_0x2785c0),_0xed57bf[_0x282214(0x49a)][_0x282214(0x14b)][_0x282214(0x655)]=String(_0x384082[_0x282214(0x3d5)]??!0x1),_0xed57bf['chatLog']['blockLogs']['push'](_0x330da6),_0xed57bf[_0x282214(0x49a)][_0x282214(0x44b)]=_0x409daf[_0x282214(0x1f1)][_0x282214(0x603)](),_0xed57bf[_0x282214(0x49a)]['lastSendMessage']&&(_0xed57bf[_0x282214(0x49a)][_0x282214(0xac)]=_0xed57bf[_0x282214(0x49a)]['lastSendMessage']),_0xed57bf[_0x282214(0x49a)][_0x282214(0x482)]&&(_0xed57bf[_0x282214(0x49a)][_0x282214(0x482)]=_0xed57bf[_0x282214(0x49a)][_0x282214(0x482)]),_0xed57bf[_0x282214(0x49a)][_0x282214(0x369)]&&(_0xed57bf[_0x282214(0x49a)][_0x282214(0x369)]=_0xed57bf[_0x282214(0x49a)]['lastCondition']),_0x23cd4f&&(_0xed57bf['status']=_0x282214(0x407)),_0x270da1?this[_0x282214(0x558)](_0xed57bf):this[_0x282214(0x522)](_0xed57bf,_0x409daf);}[a0_0x13f4c8(0x3bd)](_0x381074,_0x1129c1){const _0x5e06de=a0_0x13f4c8;return _0x381074[_0x5e06de(0x3f0)](/\{\{([^}]+)\}\}/g,(_0x6236df,_0x1cf7f0)=>_0x1129c1[_0x1cf7f0]?'{{'+_0x1cf7f0+_0x5e06de(0x626)+_0x1129c1[_0x1cf7f0]+'\x22':'{{'+_0x1cf7f0+_0x5e06de(0x1ee));}async[a0_0x13f4c8(0x558)](_0xef4465){const _0x39b071=a0_0x13f4c8;try{let _0x1595a7=Object[_0x39b071(0x35c)](_0xef4465['chatLog'][_0x39b071(0x14b)])[_0x39b071(0x35b)](([_0x4618aa,_0x1849a2])=>({'name':_0x4618aa,'value':_0x1849a2})),_0x2a73a1={'status':_0xef4465[_0x39b071(0x254)],'blocks':_0xef4465[_0x39b071(0x380)],'waitingMenu_id':_0xef4465[_0x39b071(0x637)],'waitingMenu_text':_0xef4465['waitingMenu_text'],'waitingMenu_replyOptions':_0xef4465['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0xef4465['chatLog'][_0x39b071(0x44b)],'lastSendMessage':_0xef4465[_0x39b071(0x49a)][_0x39b071(0xac)],'lastReceivedMessage':_0xef4465[_0x39b071(0x49a)][_0x39b071(0x482)],'lastCondition':_0xef4465['chatLog']['lastCondition'],'chatVariables':_0x1595a7,'realVariables':_0xef4465['chatLog'][_0x39b071(0x14b)],'blockLogs':_0xef4465[_0x39b071(0x49a)]['blockLogs']}},_0x4875d5=await this['repository'][_0x39b071(0x577)]['updateOne'](_0xef4465[_0x39b071(0x1f1)],_0x2a73a1,this[_0x39b071(0x571)][_0x39b071(0x46a)]);if(_0x4875d5){this['logger']['verbose'](this[_0x39b071(0x3a7)]+'\x20('+this[_0x39b071(0x571)]['wuid']+_0x39b071(0x548)+_0x4875d5['_id']);try{let _0x529504=[_0x39b071(0x8f),_0x39b071(0x2c3),_0x39b071(0x6b),_0x39b071(0x113),'status',_0x39b071(0x33e),_0x39b071(0x213),'tags','etiquetas'];if(!this[_0x39b071(0x6a7)]&&(await this[_0x39b071(0xb7)](),!this['AutomateSystem']))throw new Error(_0x39b071(0x270));let _0x10cb53=this[_0x39b071(0x6a7)]?.[_0x39b071(0x1c4)][_0x39b071(0x35b)](_0x31d994=>_0x31d994[_0x39b071(0x5e2)]),_0x2409e7={};Object[_0x39b071(0x35c)](_0xef4465['chatLog'][_0x39b071(0x14b)])[_0x39b071(0x543)](([_0x2ff9cf,_0x5e1418])=>{const _0x3eba04=_0x39b071;_0x529504[_0x3eba04(0x542)](_0x2ff9cf)&&(_0x2ff9cf===_0x3eba04(0x2f5)&&typeof _0x5e1418==_0x3eba04(0x67e)?_0x2409e7[_0x2ff9cf]=_0x5e1418['split'](',')[_0x3eba04(0x35b)](_0x490ad1=>_0x490ad1['trim']())[_0x3eba04(0x10e)](_0x1e978f=>_0x1e978f!==''):_0x2ff9cf==='etiquetas'&&typeof _0x5e1418=='string'?_0x2409e7[_0x2ff9cf]=_0x5e1418[_0x3eba04(0x545)](',')[_0x3eba04(0x35b)](_0x37563e=>_0x37563e[_0x3eba04(0x4b3)]())[_0x3eba04(0x10e)](_0x1a68ac=>_0x1a68ac!==''):_0x2409e7[_0x2ff9cf]=_0x5e1418);});let _0x6f1ca7=_0xef4465[_0x39b071(0x49a)][_0x39b071(0x60a)][_0xef4465[_0x39b071(0x49a)][_0x39b071(0x60a)]['length']-0x1];if(_0x6f1ca7){let _0x2c83d1=_0x6f1ca7[_0x39b071(0x25b)];_0x2c83d1!==void 0x0&&(_0x2409e7[_0x39b071(0x66f)]=_0x2c83d1[_0x39b071(0x603)]());}let _0x43fb7a=_0x1595a7[_0x39b071(0x10e)](_0x2a1c34=>_0x10cb53[_0x39b071(0x542)](_0x2a1c34[_0x39b071(0x5e2)]));this[_0x39b071(0x19a)][_0x39b071(0x41a)](this[_0x39b071(0x3a7)]+'\x20('+this[_0x39b071(0x571)][_0x39b071(0x46a)]+_0x39b071(0x69d)),this[_0x39b071(0x19a)][_0x39b071(0x41a)](_0x2409e7),this[_0x39b071(0x19a)][_0x39b071(0x41a)](this[_0x39b071(0x3a7)]+'\x20('+this[_0x39b071(0x571)][_0x39b071(0x46a)]+_0x39b071(0x269)),this['logger'][_0x39b071(0x41a)](_0x43fb7a);let _0x29fe78=_0x43fb7a['map'](_0x229215=>{const _0x578b70=_0x39b071;let _0x1deed1=this['AutomateSystem']?.['customFields'][_0x578b70(0x39d)](_0x259c42=>_0x259c42['name']===_0x229215[_0x578b70(0x5e2)]);if(!_0x1deed1)throw new Error(_0x578b70(0x2ef)+_0x229215[_0x578b70(0x5e2)]);return{'_id':_0x1deed1[_0x578b70(0x1f1)],'value':_0x229215[_0x578b70(0x28f)]};});this['logger'][_0x39b071(0x41a)](this[_0x39b071(0x3a7)]+'\x20('+this['instance'][_0x39b071(0x46a)]+'):\x20transformedCustomFieldVariables'),this[_0x39b071(0x19a)][_0x39b071(0x41a)](_0x29fe78),await this[_0x39b071(0x63b)](_0xef4465[_0x39b071(0x52a)],_0x2409e7,_0x29fe78);}catch(_0x139996){this[_0x39b071(0x19a)][_0x39b071(0x3d5)](this[_0x39b071(0x3a7)]+'\x20('+this[_0x39b071(0x571)][_0x39b071(0x46a)]+_0x39b071(0x273)+(_0x139996 instanceof Error?_0x139996[_0x39b071(0x191)]:JSON[_0x39b071(0x33c)](_0x139996,null,0x2)));}}else this[_0x39b071(0x19a)][_0x39b071(0x3d5)](this['instanceName']+'\x20('+this['instance'][_0x39b071(0x46a)]+_0x39b071(0x3ab));}catch(_0x4a7b49){this[_0x39b071(0x19a)]['error'](this['instanceName']+'\x20('+this[_0x39b071(0x571)][_0x39b071(0x46a)]+_0x39b071(0x74)+(_0x4a7b49 instanceof Error?_0x4a7b49[_0x39b071(0x191)]:JSON['stringify'](_0x4a7b49,null,0x2)));}}async[a0_0x13f4c8(0x63b)](_0x1c2172,_0x1cf510,_0x5dc6ad){const _0x1bcda7=a0_0x13f4c8;try{let _0x8a5f95={'leadInfo.leadnome':_0x1cf510[_0x1bcda7(0x8f)],'leadInfo.nomecompleto':_0x1cf510[_0x1bcda7(0x2c3)],'leadInfo.email':_0x1cf510['email'],'leadInfo.cpf':_0x1cf510[_0x1bcda7(0x113)],'leadInfo.status':_0x1cf510[_0x1bcda7(0x254)],'leadInfo.notas':_0x1cf510[_0x1bcda7(0x33e)],'leadInfo.responsavelid':_0x1cf510['responsavelid'],'leadInfo.tags':_0x1cf510[_0x1bcda7(0x2f5)],'leadInfo.etiquetas':_0x1cf510[_0x1bcda7(0xae)],'leadInfo.customFields':_0x5dc6ad},_0x547e7b=await this['repository'][_0x1bcda7(0x4c5)][_0x1bcda7(0x314)]({'where':{'_id':_0x1c2172}},this[_0x1bcda7(0x571)][_0x1bcda7(0x46a)]),_0x38570c=new Set(_0x547e7b[_0x1bcda7(0x288)][_0x1bcda7(0xae)]||[]),_0x3fd011=new Set(_0x1cf510[_0x1bcda7(0xae)]||[]),_0x25d23b=await this[_0x1bcda7(0x65c)]['label'][_0x1bcda7(0x39d)]({'where':{}},this[_0x1bcda7(0x571)]['wuid']),_0x5f1a57=new Set(_0x25d23b[_0x1bcda7(0x35b)](_0x2197ee=>_0x2197ee['_id'])),_0x1203d6=[..._0x3fd011][_0x1bcda7(0x10e)](_0x58712f=>!_0x38570c[_0x1bcda7(0x241)](_0x58712f)&&_0x5f1a57[_0x1bcda7(0x241)](_0x58712f)),_0x3a7dd6=[..._0x38570c][_0x1bcda7(0x10e)](_0x130c4a=>!_0x3fd011[_0x1bcda7(0x241)](_0x130c4a));for(let _0x4adc2c of _0x1203d6)await this[_0x1bcda7(0x1aa)](_0x4adc2c,_0x547e7b[_0x1bcda7(0x1f1)]),_0x38570c[_0x1bcda7(0x6ac)](_0x4adc2c);for(let _0x28aaea of _0x3a7dd6)await this[_0x1bcda7(0x11f)](_0x28aaea,_0x547e7b[_0x1bcda7(0x1f1)]),_0x38570c[_0x1bcda7(0x5c3)](_0x28aaea);if(_0x1bcda7(0x66f)in _0x1cf510){let _0x2e4530=_0x1cf510[_0x1bcda7(0x66f)];_0x8a5f95['leadInfo.desativadoFluxoAte']=_0x2e4530?Number(_0x2e4530):null;}let _0x425222=await this[_0x1bcda7(0x65c)]['chat']['updateOne']({'where':{'_id':_0x1c2172}},_0x8a5f95,this[_0x1bcda7(0x571)]['wuid']);_0x425222?(this[_0x1bcda7(0x19a)][_0x1bcda7(0x41a)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1bcda7(0x62e)+_0x425222[_0x1bcda7(0x1f1)]),J(this[_0x1bcda7(0x3a7)],_0x1bcda7(0x364),{'chat':_0x425222})):this['logger']['error'](this[_0x1bcda7(0x3a7)]+'\x20('+this[_0x1bcda7(0x571)][_0x1bcda7(0x46a)]+_0x1bcda7(0x149));}catch(_0x307d27){this[_0x1bcda7(0x19a)]['error'](this[_0x1bcda7(0x3a7)]+'\x20('+this[_0x1bcda7(0x571)][_0x1bcda7(0x46a)]+_0x1bcda7(0x63e)+(_0x307d27 instanceof Error?_0x307d27[_0x1bcda7(0x191)]:JSON[_0x1bcda7(0x33c)](_0x307d27,null,0x2)));}}async['updateStopChat'](_0x2e7e1c,_0x1840f0){const _0xbfc93e=a0_0x13f4c8;this[_0xbfc93e(0x19a)][_0xbfc93e(0x41a)](this['instanceName']+'\x20('+this[_0xbfc93e(0x571)][_0xbfc93e(0x46a)]+_0xbfc93e(0x96)+_0x1840f0);try{let _0x153b82=await this[_0xbfc93e(0x65c)][_0xbfc93e(0x4c5)][_0xbfc93e(0x405)]({'where':{'_id':_0x2e7e1c[_0xbfc93e(0x52a)]}},{'leadInfo.desativadoFluxoAte':_0x1840f0},this[_0xbfc93e(0x571)][_0xbfc93e(0x46a)]);this[_0xbfc93e(0x19a)][_0xbfc93e(0x41a)](this[_0xbfc93e(0x3a7)]+'\x20('+this[_0xbfc93e(0x571)][_0xbfc93e(0x46a)]+_0xbfc93e(0x409)+_0x2e7e1c[_0xbfc93e(0x1f1)]),this['logger'][_0xbfc93e(0x41a)](this[_0xbfc93e(0x3a7)]+'\x20('+this[_0xbfc93e(0x571)][_0xbfc93e(0x46a)]+_0xbfc93e(0x96)+JSON[_0xbfc93e(0x33c)](_0x153b82,null,0x2)),_0x153b82&&J(this['instanceName'],_0xbfc93e(0x364),{'chat':_0x153b82});}catch(_0x1839ed){this['logger'][_0xbfc93e(0x3d5)](this['instanceName']+'\x20('+this[_0xbfc93e(0x571)][_0xbfc93e(0x46a)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x1839ed instanceof Error?_0x1839ed[_0xbfc93e(0x191)]:JSON[_0xbfc93e(0x33c)](_0x1839ed,null,0x2)));}}async[a0_0x13f4c8(0x17e)](_0x376916){const _0x3f2388=a0_0x13f4c8;try{this[_0x3f2388(0x19a)][_0x3f2388(0x41a)](this[_0x3f2388(0x3a7)]+'\x20('+this[_0x3f2388(0x571)][_0x3f2388(0x46a)]+_0x3f2388(0x389));let _0x4e18f8=_0x376916['replace'](/\D/g,''),_0x3d2355=await this[_0x3f2388(0x65c)]['flow'][_0x3f2388(0x314)]({'where':{'testingWith':_0x4e18f8}},this[_0x3f2388(0x571)][_0x3f2388(0x46a)]);return _0x3d2355||(this[_0x3f2388(0x19a)][_0x3f2388(0x41a)](this[_0x3f2388(0x3a7)]+'\x20('+this['instance'][_0x3f2388(0x46a)]+_0x3f2388(0x504)),_0x3d2355=await this[_0x3f2388(0x65c)][_0x3f2388(0x693)][_0x3f2388(0x314)]({'where':{'default':!0x0}},this['instance'][_0x3f2388(0x46a)])),_0x3d2355||(this[_0x3f2388(0x19a)][_0x3f2388(0x41a)](this[_0x3f2388(0x3a7)]+'\x20('+this[_0x3f2388(0x571)][_0x3f2388(0x46a)]+_0x3f2388(0x5ad)),null);}catch(_0x19cf5d){return this[_0x3f2388(0x19a)][_0x3f2388(0x3d5)](this['instanceName']+'\x20('+this[_0x3f2388(0x571)][_0x3f2388(0x46a)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x19cf5d instanceof Error?_0x19cf5d['message']:JSON[_0x3f2388(0x33c)](_0x19cf5d,null,0x2))),null;}}async[a0_0x13f4c8(0x185)](_0x445c31,_0xac3b19){const _0x9e7457=a0_0x13f4c8;try{let _0xa0816=!!_0xac3b19[_0x9e7457(0x5ca)],_0x434398=_0xac3b19[_0x9e7457(0x11d)],_0x3ddc4f=null;if(this[_0x9e7457(0x19a)][_0x9e7457(0x41a)](this[_0x9e7457(0x3a7)]+'\x20('+this[_0x9e7457(0x571)][_0x9e7457(0x46a)]+'):\x20isVote:\x20'+_0xa0816+_0x9e7457(0x9b)+_0x434398),_0xa0816){this[_0x9e7457(0x19a)][_0x9e7457(0x41a)](this['instanceName']+'\x20('+this[_0x9e7457(0x571)][_0x9e7457(0x46a)]+_0x9e7457(0x5b1));let _0x4990a5={'where':{'remoteJid':_0x445c31,'waitingMenu_id':_0x434398}};if(_0x3ddc4f=await this[_0x9e7457(0x65c)]['flowConversation'][_0x9e7457(0x314)](_0x4990a5,this[_0x9e7457(0x571)]['wuid']),!_0x3ddc4f)return this[_0x9e7457(0x19a)][_0x9e7457(0x41a)](this[_0x9e7457(0x3a7)]+'\x20('+this[_0x9e7457(0x571)][_0x9e7457(0x46a)]+'):\x20não\x20encontrou'),null;let _0x5bd07f=Date[_0x9e7457(0x652)](),_0x39be4a=_0x3ddc4f?.['minutesToClose']||0x0,_0x4a9aad=_0x5bd07f-_0x39be4a*0x3c*0x3e8;if(_0x3ddc4f[_0x9e7457(0x3ae)]<_0x4a9aad){this[_0x9e7457(0x19a)]['verbose'](this[_0x9e7457(0x3a7)]+'\x20('+this['instance'][_0x9e7457(0x46a)]+_0x9e7457(0x574));let _0x44972d={'number':_0x3ddc4f[_0x9e7457(0x52a)],'options':{'delay':0x0},'textMessage':{'text':_0x3ddc4f[_0x9e7457(0x13f)]}};await this[_0x9e7457(0x24f)](_0x44972d);let _0x4a5546={'status':_0x9e7457(0x407),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x9e7457(0x65c)][_0x9e7457(0x577)]['updateOne'](_0x3ddc4f[_0x9e7457(0x1f1)],_0x4a5546,this[_0x9e7457(0x571)]['wuid']),null;}return _0x3ddc4f['lastInteraction']=Date[_0x9e7457(0x652)](),_0x3ddc4f[_0x9e7457(0x49a)][_0x9e7457(0x482)]=_0xac3b19,_0x3ddc4f;}else{this[_0x9e7457(0x19a)]['verbose'](this[_0x9e7457(0x3a7)]+'\x20('+this['instance'][_0x9e7457(0x46a)]+_0x9e7457(0x40e)+this['instance'][_0x9e7457(0x46a)]+_0x9e7457(0x3ac)),this[_0x9e7457(0x19a)][_0x9e7457(0x41a)](this[_0x9e7457(0x3a7)]+'\x20('+this[_0x9e7457(0x571)]['wuid']+'):\x20Procurando\x20conversa');let _0x205e5a={'where':{'remoteJid':_0x445c31,'status':_0x9e7457(0x13c)}};if(_0x3ddc4f=await this['repository']['flowConversation'][_0x9e7457(0x314)](_0x205e5a,this[_0x9e7457(0x571)]['wuid']),!_0x3ddc4f){let _0x2a6ee6=await this[_0x9e7457(0x17e)](_0x445c31);if(_0x2a6ee6&&(_0x3ddc4f=await this[_0x9e7457(0x59e)](_0x2a6ee6,_0xac3b19['key'],_0xac3b19)),!_0x3ddc4f)return null;}let _0x37ff4a=Date[_0x9e7457(0x652)](),_0x2b8ae9=_0x3ddc4f?.[_0x9e7457(0x695)]||0x0,_0xe12333=_0x37ff4a-_0x2b8ae9*0x3c*0x3e8;if(this[_0x9e7457(0x19a)]['verbose'](this[_0x9e7457(0x3a7)]+'\x20('+this[_0x9e7457(0x571)][_0x9e7457(0x46a)]+_0x9e7457(0xd7)+_0x37ff4a+_0x9e7457(0x7b)+_0x2b8ae9+_0x9e7457(0x73)+_0xe12333),this[_0x9e7457(0x19a)][_0x9e7457(0x41a)](this[_0x9e7457(0x3a7)]+'\x20('+this['instance'][_0x9e7457(0x46a)]+_0x9e7457(0x5bc)),this[_0x9e7457(0x19a)][_0x9e7457(0x41a)](this[_0x9e7457(0x3a7)]+'\x20('+this[_0x9e7457(0x571)][_0x9e7457(0x46a)]+_0x9e7457(0x347)+_0x3ddc4f['lastInteraction']),this[_0x9e7457(0x19a)][_0x9e7457(0x41a)](this[_0x9e7457(0x3a7)]+'\x20('+this[_0x9e7457(0x571)]['wuid']+_0x9e7457(0x5fc)+_0xe12333),_0x3ddc4f[_0x9e7457(0x3ae)]<_0xe12333){this[_0x9e7457(0x19a)][_0x9e7457(0x41a)](this[_0x9e7457(0x3a7)]+'\x20('+this['instance'][_0x9e7457(0x46a)]+'):\x20Conversa\x20está\x20expirada');let _0x1429ff=await this[_0x9e7457(0x17e)](_0x445c31);if(_0x1429ff===null)return null;_0x3ddc4f&&await this[_0x9e7457(0x65c)]['flowConversation']['updateOne'](_0x3ddc4f['_id'],{'status':_0x9e7457(0x407)},this[_0x9e7457(0x571)][_0x9e7457(0x46a)]),_0x3ddc4f=await this[_0x9e7457(0x59e)](_0x1429ff,_0xac3b19[_0x9e7457(0xcf)],_0xac3b19);}return _0x3ddc4f[_0x9e7457(0x3ae)]=_0x37ff4a,_0x3ddc4f[_0x9e7457(0x49a)]['lastReceivedMessage']=_0xac3b19,_0x3ddc4f;}}catch(_0x2b5dd2){return this[_0x9e7457(0x19a)]['error'](this[_0x9e7457(0x3a7)]+'\x20('+this[_0x9e7457(0x571)][_0x9e7457(0x46a)]+_0x9e7457(0x207)+(_0x2b5dd2 instanceof Error?_0x2b5dd2['message']:JSON[_0x9e7457(0x33c)](_0x2b5dd2,null,0x2))),null;}}async[a0_0x13f4c8(0x59e)](_0x24330a,_0x2d8348,_0x2666e0){const _0x5aa3bf=a0_0x13f4c8;this['logger'][_0x5aa3bf(0x41a)](this['instanceName']+'\x20('+this[_0x5aa3bf(0x571)][_0x5aa3bf(0x46a)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x34c2fc=require(_0x5aa3bf(0x1ca))[_0x5aa3bf(0x13e)],_0x2d2ddc=Date['now'](),_0xad7126=_0x5aa3bf(0x342),_0x5433ba=_0x2d8348[_0x5aa3bf(0x19b)]?null:_0x2666e0,_0x960c3b=_0x2d8348[_0x5aa3bf(0x19b)]?_0x2666e0:null,_0x367995=_0x2d8348[_0x5aa3bf(0x52a)];await this[_0x5aa3bf(0x1d6)](_0x367995);let _0x58ba4d={..._0x24330a,'chatLog':null},_0x43e01e=await this['variablesToObject'](_0x58ba4d[_0x5aa3bf(0x415)]),_0x2c579b=await this[_0x5aa3bf(0x392)](_0x367995),_0x5f23f2={..._0x43e01e,..._0x2c579b,'_remoteJid':_0x367995},_0x41b674={'lastReceivedMessage':_0x5433ba,'lastSendMessage':_0x960c3b,'lastBlockId':_0xad7126,'lastCondition':!0x0,'realVariables':_0x5f23f2};_0x58ba4d['chatLog']=_0x41b674,delete _0x58ba4d[_0x5aa3bf(0x1f1)],_0x58ba4d[_0x5aa3bf(0x1f1)]=new _0x34c2fc(),_0x58ba4d[_0x5aa3bf(0x3ae)]=_0x2d2ddc,_0x58ba4d[_0x5aa3bf(0x254)]=_0x5aa3bf(0x13c),_0x58ba4d['remoteJid']=_0x367995;let _0x45db1f=await this[_0x5aa3bf(0x65c)][_0x5aa3bf(0x577)]['updateOne'](_0x58ba4d[_0x5aa3bf(0x1f1)],_0x58ba4d,this[_0x5aa3bf(0x571)][_0x5aa3bf(0x46a)]);return this['logger'][_0x5aa3bf(0x41a)](this[_0x5aa3bf(0x3a7)]+'\x20('+this[_0x5aa3bf(0x571)]['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x45db1f?_0x58ba4d:null;}catch(_0xfc96cb){return this[_0x5aa3bf(0x19a)]['error'](this['instanceName']+'\x20('+this[_0x5aa3bf(0x571)]['wuid']+_0x5aa3bf(0x193)+(_0xfc96cb instanceof Error?_0xfc96cb[_0x5aa3bf(0x191)]:JSON[_0x5aa3bf(0x33c)](_0xfc96cb,null,0x2))),_0xfc96cb;}}async[a0_0x13f4c8(0x421)](_0x1ed8ac,_0x58484d){const _0x1c8da5=a0_0x13f4c8;let _0x2441da=_0x1ed8ac[_0x1c8da5(0x52a)];_0x58484d[_0x1c8da5(0x330)][_0x1c8da5(0x52a)]&&_0x58484d[_0x1c8da5(0x330)][_0x1c8da5(0x52a)][_0x1c8da5(0x4b3)]()!==''&&(_0x2441da=_0x58484d[_0x1c8da5(0x330)][_0x1c8da5(0x52a)][_0x1c8da5(0x4b3)]()),this[_0x1c8da5(0x19a)]['verbose'](this[_0x1c8da5(0x3a7)]+'\x20('+this[_0x1c8da5(0x571)]['wuid']+_0x1c8da5(0x3a6));let _0x41f3a4={'number':_0x2441da,'options':{'delay':_0x58484d[_0x1c8da5(0x330)]['delay']},'textMessage':{'text':_0x58484d[_0x1c8da5(0x330)][_0x1c8da5(0x699)]}};try{let _0x3f1f9f=await this['textMessage'](_0x41f3a4);if(_0x3f1f9f){let _0xef9587={'_id':_0x3f1f9f[_0x1c8da5(0xcf)]['id'],'_fromMe':_0x3f1f9f[_0x1c8da5(0xcf)][_0x1c8da5(0x19b)],'_remoteJid':_0x3f1f9f[_0x1c8da5(0xcf)][_0x1c8da5(0x52a)]};_0x1ed8ac[_0x1c8da5(0x49a)][_0x1c8da5(0x44b)]=_0x58484d[_0x1c8da5(0x1f1)][_0x1c8da5(0x603)]();let {message_normalized:_0x45c695}=this['normalizeMessage'](_0x3f1f9f[_0x1c8da5(0x191)],$(_0x3f1f9f['message']),null);_0x1ed8ac[_0x1c8da5(0x49a)][_0x1c8da5(0xac)]=await _0x45c695;let _0x489abf={'messageId':_0x3f1f9f['key']['id']},_0x4b31af=_0x1ed8ac[_0x1c8da5(0x49a)][_0x1c8da5(0x14b)];Object[_0x1c8da5(0x339)](_0x4b31af,_0xef9587),_0x1ed8ac[_0x1c8da5(0x49a)][_0x1c8da5(0x14b)]=_0x4b31af,this['updateConversation'](_0x1ed8ac,_0x58484d,_0x489abf);}else{let _0x27ee22={'error':!0x0};this['updateConversation'](_0x1ed8ac,_0x58484d,_0x27ee22),this[_0x1c8da5(0x19a)][_0x1c8da5(0x3d5)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1c8da5(0x6b5));}}catch(_0x1741eb){let _0x917570={'error':!0x0,'errorLog':_0x1741eb['toString']()};this[_0x1c8da5(0x10b)](_0x1ed8ac,_0x58484d,_0x917570),this[_0x1c8da5(0x19a)][_0x1c8da5(0x3d5)](this[_0x1c8da5(0x3a7)]+'\x20('+this[_0x1c8da5(0x571)][_0x1c8da5(0x46a)]+_0x1c8da5(0x382)+(_0x1741eb instanceof Error?_0x1741eb[_0x1c8da5(0x191)]:JSON[_0x1c8da5(0x33c)](_0x1741eb,null,0x2)));}}async['uazapiSendMedia'](_0x5505d7,_0x3416bd){const _0x42d629=a0_0x13f4c8;let _0x1f5f06=_0x5505d7[_0x42d629(0x52a)];_0x3416bd[_0x42d629(0x330)][_0x42d629(0x52a)]&&_0x3416bd[_0x42d629(0x330)][_0x42d629(0x52a)][_0x42d629(0x4b3)]()!==''&&(_0x1f5f06=_0x3416bd[_0x42d629(0x330)][_0x42d629(0x52a)][_0x42d629(0x4b3)]()),this['logger'][_0x42d629(0x41a)](this[_0x42d629(0x3a7)]+'\x20('+this[_0x42d629(0x571)][_0x42d629(0x46a)]+_0x42d629(0x523));let _0x3cb9f4={'number':_0x1f5f06,'options':{'delay':_0x3416bd[_0x42d629(0x330)][_0x42d629(0x274)]},'mediaMessage':{'mediatype':_0x3416bd[_0x42d629(0x330)][_0x42d629(0x1b5)],'caption':_0x3416bd[_0x42d629(0x330)]['caption'],'media':_0x3416bd['uazapi'][_0x42d629(0x2db)],'fileName':_0x3416bd[_0x42d629(0x330)][_0x42d629(0x316)]}};try{let _0x1f186d=await this[_0x42d629(0x267)](_0x3cb9f4);if(_0x1f186d){let _0x2a66e8={'_id':_0x1f186d[_0x42d629(0xcf)]['id'],'_fromMe':_0x1f186d['key'][_0x42d629(0x19b)],'_remoteJid':_0x1f186d['key'][_0x42d629(0x52a)]};_0x5505d7['chatLog'][_0x42d629(0x44b)]=_0x3416bd[_0x42d629(0x1f1)][_0x42d629(0x603)]();let {message_normalized:_0x23419b}=this[_0x42d629(0x2e3)](_0x1f186d['message'],$(_0x1f186d['message']),null);_0x5505d7['chatLog'][_0x42d629(0xac)]=await _0x23419b;let _0x454883={'messageId':_0x1f186d[_0x42d629(0xcf)]['id']},_0x5879be=_0x5505d7[_0x42d629(0x49a)][_0x42d629(0x14b)];Object[_0x42d629(0x339)](_0x5879be,_0x2a66e8),_0x5505d7[_0x42d629(0x49a)][_0x42d629(0x14b)]=_0x5879be,this[_0x42d629(0x10b)](_0x5505d7,_0x3416bd,_0x454883);}else{let _0x43afa3={'error':!0x0};this[_0x42d629(0x10b)](_0x5505d7,_0x3416bd,_0x43afa3),this[_0x42d629(0x19a)][_0x42d629(0x3d5)](this[_0x42d629(0x3a7)]+'\x20('+this[_0x42d629(0x571)][_0x42d629(0x46a)]+_0x42d629(0x1af));}}catch(_0x374f12){let _0x193518={'error':!0x0,'errorLog':_0x374f12['toString']()};this[_0x42d629(0x10b)](_0x5505d7,_0x3416bd,_0x193518),this[_0x42d629(0x19a)]['error'](this['instanceName']+'\x20('+this[_0x42d629(0x571)][_0x42d629(0x46a)]+_0x42d629(0x6a5)+(_0x374f12 instanceof Error?_0x374f12['message']:JSON[_0x42d629(0x33c)](_0x374f12,null,0x2)));}}async[a0_0x13f4c8(0x3a8)](_0x730f04,_0x1a307a){const _0x30bdad=a0_0x13f4c8;let _0x3df15b=_0x730f04[_0x30bdad(0x52a)];_0x1a307a[_0x30bdad(0x330)][_0x30bdad(0x52a)]&&_0x1a307a[_0x30bdad(0x330)][_0x30bdad(0x52a)][_0x30bdad(0x4b3)]()!==''&&(_0x3df15b=_0x1a307a[_0x30bdad(0x330)][_0x30bdad(0x52a)][_0x30bdad(0x4b3)]()),this[_0x30bdad(0x19a)][_0x30bdad(0x41a)](this[_0x30bdad(0x3a7)]+'\x20('+this[_0x30bdad(0x571)]['wuid']+'):\x20Enviando\x20localização');let _0x404c42={'number':_0x3df15b,'options':{'delay':_0x1a307a[_0x30bdad(0x330)][_0x30bdad(0x274)]},'locationMessage':{'name':_0x1a307a[_0x30bdad(0x330)][_0x30bdad(0x5e2)],'address':_0x1a307a[_0x30bdad(0x330)][_0x30bdad(0x3cb)],'latitude':_0x1a307a[_0x30bdad(0x330)][_0x30bdad(0x21a)],'longitude':_0x1a307a[_0x30bdad(0x330)]['longitude']}};try{let _0x36e184=await this[_0x30bdad(0x5ae)](_0x404c42);if(_0x36e184){let _0x20fbf1={'_id':_0x36e184[_0x30bdad(0xcf)]['id'],'_fromMe':_0x36e184[_0x30bdad(0xcf)][_0x30bdad(0x19b)],'_remoteJid':_0x36e184['key'][_0x30bdad(0x52a)]};_0x730f04[_0x30bdad(0x49a)][_0x30bdad(0x44b)]=_0x1a307a[_0x30bdad(0x1f1)][_0x30bdad(0x603)]();let {message_normalized:_0xfdfb11}=this[_0x30bdad(0x2e3)](_0x36e184[_0x30bdad(0x191)],$(_0x36e184[_0x30bdad(0x191)]),null);_0x730f04[_0x30bdad(0x49a)]['lastSendMessage']=await _0xfdfb11;let _0x48abdc={'messageId':_0x36e184[_0x30bdad(0xcf)]['id']},_0x224c8a=_0x730f04[_0x30bdad(0x49a)]['realVariables'];Object['assign'](_0x224c8a,_0x20fbf1),_0x730f04[_0x30bdad(0x49a)][_0x30bdad(0x14b)]=_0x224c8a,this[_0x30bdad(0x10b)](_0x730f04,_0x1a307a,_0x48abdc);}else{let _0x52a8d1={'error':!0x0};this[_0x30bdad(0x10b)](_0x730f04,_0x1a307a,_0x52a8d1),this['logger'][_0x30bdad(0x3d5)](this[_0x30bdad(0x3a7)]+'\x20('+this[_0x30bdad(0x571)][_0x30bdad(0x46a)]+_0x30bdad(0x675));}}catch(_0x113fba){let _0xb78f5c={'error':!0x0,'errorLog':_0x113fba[_0x30bdad(0x603)]()};this['updateConversation'](_0x730f04,_0x1a307a,_0xb78f5c),this[_0x30bdad(0x19a)][_0x30bdad(0x3d5)](this[_0x30bdad(0x3a7)]+'\x20('+this['instance']['wuid']+_0x30bdad(0x59a)+(_0x113fba instanceof Error?_0x113fba[_0x30bdad(0x191)]:JSON[_0x30bdad(0x33c)](_0x113fba,null,0x2)));}}async[a0_0x13f4c8(0x45e)](_0x96c40e,_0x4bd7a){const _0x2ab5fe=a0_0x13f4c8;let _0x5e6cd3=_0x96c40e['remoteJid'];_0x4bd7a[_0x2ab5fe(0x330)][_0x2ab5fe(0x52a)]&&_0x4bd7a[_0x2ab5fe(0x330)]['remoteJid'][_0x2ab5fe(0x4b3)]()!==''&&(_0x5e6cd3=_0x4bd7a[_0x2ab5fe(0x330)][_0x2ab5fe(0x52a)][_0x2ab5fe(0x4b3)]()),this['logger'][_0x2ab5fe(0x41a)](this[_0x2ab5fe(0x3a7)]+'\x20('+this[_0x2ab5fe(0x571)][_0x2ab5fe(0x46a)]+_0x2ab5fe(0x307));let _0x37cd0a={'number':_0x5e6cd3,'options':{'delay':_0x4bd7a[_0x2ab5fe(0x330)]['delay']},'audioMessage':{'audio':_0x4bd7a[_0x2ab5fe(0x330)][_0x2ab5fe(0xfe)]}};try{let _0x1d5156=await this[_0x2ab5fe(0x4b5)](_0x37cd0a);if(_0x1d5156){let _0x245262={'_id':_0x1d5156[_0x2ab5fe(0xcf)]['id'],'_fromMe':_0x1d5156[_0x2ab5fe(0xcf)][_0x2ab5fe(0x19b)],'_remoteJid':_0x1d5156[_0x2ab5fe(0xcf)]['remoteJid']};_0x96c40e[_0x2ab5fe(0x49a)]['lastBlockId']=_0x4bd7a[_0x2ab5fe(0x1f1)]['toString']();let {message_normalized:_0x3fd520}=this[_0x2ab5fe(0x2e3)](_0x1d5156[_0x2ab5fe(0x191)],$(_0x1d5156['message']),null);_0x96c40e[_0x2ab5fe(0x49a)][_0x2ab5fe(0xac)]=await _0x3fd520;let _0x3f1d48={'messageId':_0x1d5156[_0x2ab5fe(0xcf)]['id']},_0xd2061f=_0x96c40e[_0x2ab5fe(0x49a)][_0x2ab5fe(0x14b)];Object[_0x2ab5fe(0x339)](_0xd2061f,_0x245262),_0x96c40e[_0x2ab5fe(0x49a)][_0x2ab5fe(0x14b)]=_0xd2061f,this[_0x2ab5fe(0x10b)](_0x96c40e,_0x4bd7a,_0x3f1d48);}else{let _0x1836b9={'error':!0x0};this['updateConversation'](_0x96c40e,_0x4bd7a,_0x1836b9),this['logger'][_0x2ab5fe(0x3d5)](this[_0x2ab5fe(0x3a7)]+'\x20('+this[_0x2ab5fe(0x571)]['wuid']+_0x2ab5fe(0x35d));}}catch(_0x586519){let _0x4c0cf1={'error':!0x0,'errorLog':_0x586519['toString']()};this[_0x2ab5fe(0x10b)](_0x96c40e,_0x4bd7a,_0x4c0cf1),this['logger'][_0x2ab5fe(0x3d5)](this[_0x2ab5fe(0x3a7)]+'\x20('+this[_0x2ab5fe(0x571)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0x586519 instanceof Error?_0x586519[_0x2ab5fe(0x191)]:JSON[_0x2ab5fe(0x33c)](_0x586519,null,0x2)));}}async[a0_0x13f4c8(0xc8)](_0x417f55,_0x1cd105){const _0x3812f7=a0_0x13f4c8;let _0x4e71ee=_0x417f55[_0x3812f7(0x52a)];_0x1cd105['uazapi'][_0x3812f7(0x52a)]&&_0x1cd105[_0x3812f7(0x330)][_0x3812f7(0x52a)]['trim']()!==''&&(_0x4e71ee=_0x1cd105[_0x3812f7(0x330)][_0x3812f7(0x52a)][_0x3812f7(0x4b3)]()),this['logger'][_0x3812f7(0x41a)](this[_0x3812f7(0x3a7)]+'\x20('+this[_0x3812f7(0x571)][_0x3812f7(0x46a)]+_0x3812f7(0xa1));let _0x36a61b={'number':_0x4e71ee,'options':{'delay':_0x1cd105['uazapi'][_0x3812f7(0x274)]},'contactMessage':[{'fullName':_0x1cd105[_0x3812f7(0x330)][_0x3812f7(0x58d)],'phoneNumber':_0x1cd105[_0x3812f7(0x330)][_0x3812f7(0x284)]}]};try{let _0x1a8c0b=await this[_0x3812f7(0x303)](_0x36a61b);if(_0x1a8c0b){let _0x4c74db={'_id':_0x1a8c0b[_0x3812f7(0xcf)]['id'],'_fromMe':_0x1a8c0b[_0x3812f7(0xcf)]['fromMe'],'_remoteJid':_0x1a8c0b[_0x3812f7(0xcf)]['remoteJid']};_0x417f55[_0x3812f7(0x49a)][_0x3812f7(0x44b)]=_0x1cd105[_0x3812f7(0x1f1)][_0x3812f7(0x603)]();let {message_normalized:_0x1cf567}=this[_0x3812f7(0x2e3)](_0x1a8c0b[_0x3812f7(0x191)],$(_0x1a8c0b['message']),null);_0x417f55[_0x3812f7(0x49a)]['lastSendMessage']=await _0x1cf567;let _0x189cae={'messageId':_0x1a8c0b[_0x3812f7(0xcf)]['id']},_0x1e1413=_0x417f55[_0x3812f7(0x49a)][_0x3812f7(0x14b)];Object[_0x3812f7(0x339)](_0x1e1413,_0x4c74db),_0x417f55[_0x3812f7(0x49a)][_0x3812f7(0x14b)]=_0x1e1413,this[_0x3812f7(0x10b)](_0x417f55,_0x1cd105,_0x189cae);}else{let _0x5c926c={'error':!0x0};this[_0x3812f7(0x10b)](_0x417f55,_0x1cd105,_0x5c926c),this[_0x3812f7(0x19a)][_0x3812f7(0x3d5)](this['instanceName']+'\x20('+this['instance'][_0x3812f7(0x46a)]+_0x3812f7(0x657));}}catch(_0x5860bb){let _0x56511b={'error':!0x0,'errorLog':_0x5860bb[_0x3812f7(0x603)]()};this[_0x3812f7(0x10b)](_0x417f55,_0x1cd105,_0x56511b),this[_0x3812f7(0x19a)][_0x3812f7(0x3d5)](this[_0x3812f7(0x3a7)]+'\x20('+this[_0x3812f7(0x571)][_0x3812f7(0x46a)]+_0x3812f7(0x557)+(_0x5860bb instanceof Error?_0x5860bb[_0x3812f7(0x191)]:JSON[_0x3812f7(0x33c)](_0x5860bb,null,0x2)));}}[a0_0x13f4c8(0x4aa)](_0x468615,_0x137dee){const _0x456f6e=a0_0x13f4c8;for(let _0x42f555 of _0x468615)_0x42f555[_0x456f6e(0x51c)]&&(_0x42f555[_0x456f6e(0x51c)]=this[_0x456f6e(0x5c4)](_0x42f555[_0x456f6e(0x51c)],_0x137dee)),_0x42f555[_0x456f6e(0xed)]&&(_0x42f555[_0x456f6e(0xed)]=this['replaceVariables'](_0x42f555[_0x456f6e(0xed)],_0x137dee));}async[a0_0x13f4c8(0x42e)](_0x2667fa,_0x5a5f74){const _0x18e9c5=a0_0x13f4c8;let _0x12fe0c=_0x2667fa[_0x18e9c5(0x52a)];_0x5a5f74[_0x18e9c5(0x330)][_0x18e9c5(0x52a)]&&_0x5a5f74['uazapi']['remoteJid'][_0x18e9c5(0x4b3)]()!==''&&(_0x12fe0c=_0x5a5f74[_0x18e9c5(0x330)][_0x18e9c5(0x52a)][_0x18e9c5(0x4b3)]()),this[_0x18e9c5(0x19a)][_0x18e9c5(0x41a)](this[_0x18e9c5(0x3a7)]+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20enquete');let _0x63c11d=_0x2667fa[_0x18e9c5(0x1ed)][_0x18e9c5(0x10e)](_0x4a83cd=>_0x4a83cd[_0x18e9c5(0x6e)]===_0x5a5f74[_0x18e9c5(0x1f1)])[_0x18e9c5(0x29e)]((_0x1fdda5,_0x29be17)=>_0x1fdda5[_0x18e9c5(0x5d4)]-_0x29be17[_0x18e9c5(0x5d4)]);this[_0x18e9c5(0x4aa)](_0x63c11d,_0x2667fa['chatLog'][_0x18e9c5(0x14b)]);let _0x4771cd=_0x63c11d[_0x18e9c5(0x35b)](_0x4fb9ad=>_0x4fb9ad[_0x18e9c5(0x51c)]),_0x2b5c0d={'number':_0x12fe0c,'menuMessage':{'type':_0x5a5f74[_0x18e9c5(0x330)][_0x18e9c5(0x68d)]||_0x18e9c5(0x9f),'text':_0x5a5f74[_0x18e9c5(0x330)]['text']||_0x5a5f74[_0x18e9c5(0x330)][_0x18e9c5(0x5e2)],'footerText':_0x5a5f74[_0x18e9c5(0x330)][_0x18e9c5(0x1ac)],'buttonText':_0x5a5f74[_0x18e9c5(0x330)][_0x18e9c5(0x387)],'selectableCount':0x1,'choices':_0x4771cd},'options':{'delay':_0x5a5f74['uazapi']['delay']}};try{let _0x10a087=await this[_0x18e9c5(0x45c)](_0x2b5c0d);if(_0x10a087){let _0x5127b2={'_id':_0x10a087[_0x18e9c5(0xcf)]['id'],'_fromMe':_0x10a087[_0x18e9c5(0xcf)][_0x18e9c5(0x19b)],'_remoteJid':_0x10a087['key']['remoteJid']};_0x5a5f74[_0x18e9c5(0x330)][_0x18e9c5(0x122)]===!0x0&&(_0x2667fa[_0x18e9c5(0x254)]=_0x18e9c5(0x20c),this[_0x18e9c5(0x19a)][_0x18e9c5(0x41a)](this[_0x18e9c5(0x3a7)]+'\x20('+this[_0x18e9c5(0x571)][_0x18e9c5(0x46a)]+'):\x20conversation.status:\x20'+_0x2667fa[_0x18e9c5(0x254)])),this['logger']['verbose'](this[_0x18e9c5(0x3a7)]+'\x20('+this[_0x18e9c5(0x571)]['wuid']+_0x18e9c5(0x635)+(_0x5a5f74[_0x18e9c5(0x330)][_0x18e9c5(0x5e2)]||_0x5a5f74['uazapi'][_0x18e9c5(0x699)])),_0x2667fa[_0x18e9c5(0x637)]=_0x10a087[_0x18e9c5(0xcf)]['id'],_0x2667fa[_0x18e9c5(0x27c)]=_0x5a5f74[_0x18e9c5(0x330)]['name']||_0x5a5f74['uazapi']['text'],_0x2667fa[_0x18e9c5(0x145)]=_0x63c11d,_0x5a5f74[_0x18e9c5(0x330)][_0x18e9c5(0x434)]&&(_0x2667fa[_0x18e9c5(0x13f)]=_0x5a5f74[_0x18e9c5(0x330)][_0x18e9c5(0x434)]),this[_0x18e9c5(0x19a)]['verbose'](this[_0x18e9c5(0x3a7)]+'\x20('+this[_0x18e9c5(0x571)]['wuid']+_0x18e9c5(0x18f)+_0x2667fa[_0x18e9c5(0x27c)]),_0x2667fa[_0x18e9c5(0x49a)][_0x18e9c5(0x44b)]=_0x5a5f74[_0x18e9c5(0x1f1)][_0x18e9c5(0x603)]();let {message_normalized:_0x13e9de}=this[_0x18e9c5(0x2e3)](_0x10a087[_0x18e9c5(0x191)],$(_0x10a087['message']),null);_0x2667fa[_0x18e9c5(0x49a)][_0x18e9c5(0xac)]=await _0x13e9de;let _0x48b5fd={'messageId':_0x10a087[_0x18e9c5(0xcf)]['id']},_0x3cc951=_0x2667fa[_0x18e9c5(0x49a)][_0x18e9c5(0x14b)];Object[_0x18e9c5(0x339)](_0x3cc951,_0x5127b2),_0x2667fa['chatLog'][_0x18e9c5(0x14b)]=_0x3cc951,this[_0x18e9c5(0x10b)](_0x2667fa,_0x5a5f74,_0x48b5fd);}else{let _0x2de3fa={'error':!0x0};this[_0x18e9c5(0x10b)](_0x2667fa,_0x5a5f74,_0x2de3fa),this[_0x18e9c5(0x19a)]['error'](this[_0x18e9c5(0x3a7)]+'\x20('+this['instance'][_0x18e9c5(0x46a)]+_0x18e9c5(0x4d9));}}catch(_0x25c9ca){let _0x8901fa={'error':!0x0,'errorLog':_0x25c9ca instanceof Error?_0x25c9ca[_0x18e9c5(0x191)]:JSON['stringify'](_0x25c9ca,null,0x2)};this[_0x18e9c5(0x10b)](_0x2667fa,_0x5a5f74,_0x8901fa),this[_0x18e9c5(0x19a)][_0x18e9c5(0x3d5)](this[_0x18e9c5(0x3a7)]+'\x20('+this[_0x18e9c5(0x571)][_0x18e9c5(0x46a)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x25c9ca instanceof Error?_0x25c9ca[_0x18e9c5(0x191)]:JSON['stringify'](_0x25c9ca,null,0x2)));}}async['uazapiDeleteMessage'](_0x22b930,_0x27cbf6){const _0x290d9c=a0_0x13f4c8;this[_0x290d9c(0x19a)]['verbose'](this[_0x290d9c(0x3a7)]+'\x20('+this[_0x290d9c(0x571)][_0x290d9c(0x46a)]+'):\x20Deletando\x20mensagem');let _0x132871=_0x22b930[_0x290d9c(0x49a)][_0x290d9c(0x60a)][_0x290d9c(0x39d)](_0x2fa31d=>_0x2fa31d[_0x290d9c(0x6e)][_0x290d9c(0x603)]()===_0x27cbf6['uazapi'][_0x290d9c(0x6e)][_0x290d9c(0x603)]()),_0x1b5588={'id':_0x132871[_0x290d9c(0x591)],'remoteJid':_0x132871[_0x290d9c(0x52a)],'fromMe':_0x132871[_0x290d9c(0x19b)]};try{let _0x125d33=await this['deleteMessage'](_0x1b5588);if(_0x125d33){_0x22b930[_0x290d9c(0x49a)][_0x290d9c(0x44b)]=_0x27cbf6[_0x290d9c(0x1f1)][_0x290d9c(0x603)]();let {message_normalized:_0x305131}=this[_0x290d9c(0x2e3)](_0x125d33[_0x290d9c(0x191)],$(_0x125d33[_0x290d9c(0x191)]),null);_0x22b930['chatLog'][_0x290d9c(0xac)]=await _0x305131;let _0x5a822f={};this[_0x290d9c(0x10b)](_0x22b930,_0x27cbf6,_0x5a822f);}else{let _0x3446b6={'error':!0x0};this[_0x290d9c(0x10b)](_0x22b930,_0x27cbf6,_0x3446b6),this[_0x290d9c(0x19a)]['error'](this[_0x290d9c(0x3a7)]+'\x20('+this['instance'][_0x290d9c(0x46a)]+_0x290d9c(0x26b));}}catch(_0x1c387d){let _0x34837b={'error':!0x0,'errorLog':_0x1c387d instanceof Error?_0x1c387d[_0x290d9c(0x191)]:JSON[_0x290d9c(0x33c)](_0x1c387d,null,0x2)};this[_0x290d9c(0x10b)](_0x22b930,_0x27cbf6,_0x34837b),this[_0x290d9c(0x19a)][_0x290d9c(0x3d5)](this[_0x290d9c(0x3a7)]+'\x20('+this[_0x290d9c(0x571)][_0x290d9c(0x46a)]+_0x290d9c(0x5cb)+(_0x1c387d instanceof Error?_0x1c387d['message']:JSON[_0x290d9c(0x33c)](_0x1c387d,null,0x2)));}}async['createFlow'](_0x34c478){const _0x9ac96b=a0_0x13f4c8;try{if(this[_0x9ac96b(0x19a)][_0x9ac96b(0x41a)](this[_0x9ac96b(0x3a7)]+'\x20('+this[_0x9ac96b(0x571)]['wuid']+_0x9ac96b(0x5f7)),await this[_0x9ac96b(0x65c)][_0x9ac96b(0x693)][_0x9ac96b(0x314)]({'where':{'name':_0x34c478['name']}},this[_0x9ac96b(0x571)][_0x9ac96b(0x46a)]))return{'message':'Flow\x20already\x20exists'};_0x34c478['default']===!0x0&&await this['repository'][_0x9ac96b(0x693)][_0x9ac96b(0x175)]({},{'default':!0x1},this['instance'][_0x9ac96b(0x46a)]);let _0x2289ca=new ie[(_0x9ac96b(0x61b))]['ObjectId'](),_0x3a03b0={'_id':_0x2289ca,'default':!0x0,'title':_0x9ac96b(0x692),'x':0x0,'y':0x0},_0x300bdd={'_id':new ie[(_0x9ac96b(0x61b))]['ObjectId'](),'order':0x1,'groupId':_0x2289ca[_0x9ac96b(0x603)](),'type':_0x9ac96b(0x342)},_0x4aaaf5={'_id':new ie[(_0x9ac96b(0x61b))][(_0x9ac96b(0x13e))](),'owner':this[_0x9ac96b(0x571)][_0x9ac96b(0x46a)],'name':_0x34c478['name'],'groups':[_0x3a03b0],'blocks':[_0x300bdd],..._0x34c478};return _0x4aaaf5=await this[_0x9ac96b(0x65c)][_0x9ac96b(0x693)][_0x9ac96b(0x5dc)](_0x4aaaf5,this[_0x9ac96b(0x571)][_0x9ac96b(0x46a)]),_0x4aaaf5;}catch(_0x10dac0){throw this['logger'][_0x9ac96b(0x3d5)](this[_0x9ac96b(0x3a7)]+'\x20('+this[_0x9ac96b(0x571)][_0x9ac96b(0x46a)]+_0x9ac96b(0x28c)+(_0x10dac0 instanceof Error?_0x10dac0[_0x9ac96b(0x191)]:JSON[_0x9ac96b(0x33c)](_0x10dac0,null,0x2))),new m(_0x9ac96b(0x26d)+_0x10dac0);}}async[a0_0x13f4c8(0x107)](_0x2c2b3c){const _0x263f4e=a0_0x13f4c8;try{return this[_0x263f4e(0x19a)][_0x263f4e(0x41a)](this[_0x263f4e(0x3a7)]+'\x20('+this[_0x263f4e(0x571)][_0x263f4e(0x46a)]+'):\x20Deletando\x20fluxo...'),await this[_0x263f4e(0x65c)][_0x263f4e(0x693)][_0x263f4e(0x110)]({'where':{'name':_0x2c2b3c}},this[_0x263f4e(0x571)]['wuid']);}catch(_0x56dd08){return this[_0x263f4e(0x19a)][_0x263f4e(0x3d5)](this[_0x263f4e(0x3a7)]+'\x20('+this[_0x263f4e(0x571)][_0x263f4e(0x46a)]+_0x263f4e(0x583)+(_0x56dd08 instanceof Error?_0x56dd08['message']:JSON[_0x263f4e(0x33c)](_0x56dd08,null,0x2))),{'message':_0x263f4e(0x240)+_0x56dd08};}}async[a0_0x13f4c8(0xd9)](_0x326733){const _0xa10a12=a0_0x13f4c8;try{this[_0xa10a12(0x19a)][_0xa10a12(0x41a)](this[_0xa10a12(0x3a7)]+'\x20('+this[_0xa10a12(0x571)][_0xa10a12(0x46a)]+_0xa10a12(0x389));let _0x23b5d3=await this[_0xa10a12(0x65c)]['flow'][_0xa10a12(0x314)]({'where':{'name':_0x326733}},this[_0xa10a12(0x571)][_0xa10a12(0x46a)]);if(!_0x23b5d3)throw new Error('Flow\x20não\x20encontrado');if(!this[_0xa10a12(0x6a7)]&&(await this[_0xa10a12(0xb7)](),!this[_0xa10a12(0x6a7)]))return null;let _0x5963da=this[_0xa10a12(0x6a7)]?.['customFields']['map'](_0x5d7ce2=>_0x5d7ce2['name']),_0x268449=[_0xa10a12(0x8f),'nomecompleto',_0xa10a12(0x6b),_0xa10a12(0x113),_0xa10a12(0x254),'notas',_0xa10a12(0x213),'tags',_0xa10a12(0xae)];_0x23b5d3[_0xa10a12(0x415)]=_0x23b5d3[_0xa10a12(0x415)]['filter'](_0x53fb0d=>!(_0x53fb0d['folder']===_0xa10a12(0x288)||_0x53fb0d[_0xa10a12(0x288)])),_0x268449[_0xa10a12(0x543)](_0x524a60=>{_0x23b5d3['variables']['push']({'folder':'leadInfo','name':_0x524a60,'value':'','doc':'','leadInfo':!0x0});}),_0x5963da[_0xa10a12(0x543)](_0x2df378=>{const _0x5d4422=_0xa10a12;let _0x3a9155=_0x23b5d3['variables']['findIndex'](_0x34f868=>_0x34f868[_0x5d4422(0x5e2)]===_0x2df378);_0x3a9155===-0x1?_0x23b5d3[_0x5d4422(0x415)]['push']({'folder':_0x5d4422(0x288),'name':_0x2df378,'value':'','doc':'','leadInfo':!0x0}):(_0x23b5d3[_0x5d4422(0x415)][_0x3a9155]['folder']=_0x5d4422(0x288),_0x23b5d3[_0x5d4422(0x415)][_0x3a9155]['leadInfo']=!0x0);}),_0x23b5d3[_0xa10a12(0x380)]&&_0x23b5d3['blocks']['length']>0x0&&_0x23b5d3['blocks'][_0xa10a12(0x543)](_0x5312c9=>{const _0xc9851a=_0xa10a12;_0x5312c9[_0xc9851a(0x140)]&&_0x5312c9[_0xc9851a(0x37c)]&&_0x5312c9[_0xc9851a(0x140)]===_0x5312c9[_0xc9851a(0x37c)]&&(_0x5312c9['next_groupId']=null);});let _0x3f963b=await this[_0xa10a12(0x65c)][_0xa10a12(0x693)][_0xa10a12(0x405)](_0x23b5d3['_id'],_0x23b5d3,this[_0xa10a12(0x571)][_0xa10a12(0x46a)]);if(!_0x3f963b)throw new Error(_0xa10a12(0x503));return _0x3f963b;}catch(_0x261eb1){throw this[_0xa10a12(0x19a)][_0xa10a12(0x3d5)](this[_0xa10a12(0x3a7)]+'\x20('+this[_0xa10a12(0x571)][_0xa10a12(0x46a)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+(_0x261eb1 instanceof Error?_0x261eb1[_0xa10a12(0x191)]:JSON[_0xa10a12(0x33c)](_0x261eb1,null,0x2))),new m('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x261eb1);}}async[a0_0x13f4c8(0x517)](){const _0x1af796=a0_0x13f4c8;try{return this[_0x1af796(0x19a)][_0x1af796(0x41a)](this[_0x1af796(0x3a7)]+'\x20('+this[_0x1af796(0x571)][_0x1af796(0x46a)]+_0x1af796(0x39c)),await this[_0x1af796(0x65c)][_0x1af796(0x693)][_0x1af796(0x4ed)]({'where':{}},this[_0x1af796(0x571)]['wuid']);}catch(_0x5166e7){return this[_0x1af796(0x19a)][_0x1af796(0x3d5)](this[_0x1af796(0x3a7)]+'\x20('+this[_0x1af796(0x571)][_0x1af796(0x46a)]+_0x1af796(0x57a)+(_0x5166e7 instanceof Error?_0x5166e7[_0x1af796(0x191)]:JSON[_0x1af796(0x33c)](_0x5166e7,null,0x2))),{'message':_0x1af796(0x98)+_0x5166e7};}}async[a0_0x13f4c8(0x4fa)](_0x4a421d){const _0x405c0e=a0_0x13f4c8;try{this['logger'][_0x405c0e(0x41a)](this[_0x405c0e(0x3a7)]+'\x20('+this[_0x405c0e(0x571)][_0x405c0e(0x46a)]+_0x405c0e(0x154));let _0x22135d=await this['repository'][_0x405c0e(0x693)][_0x405c0e(0x314)]({'where':{'name':_0x4a421d['name']}},this[_0x405c0e(0x571)]['wuid']);return _0x22135d?(_0x4a421d['default']===!0x0&&await this['repository'][_0x405c0e(0x693)][_0x405c0e(0x175)]({},{'default':!0x1},this['instance'][_0x405c0e(0x46a)]),await this[_0x405c0e(0x65c)]['flow'][_0x405c0e(0x405)](_0x22135d[_0x405c0e(0x1f1)],_0x4a421d,this['instance']['wuid'])):{'message':'Fluxo\x20não\x20encontrado'};}catch(_0x147772){throw this['logger'][_0x405c0e(0x3d5)](this[_0x405c0e(0x3a7)]+'\x20('+this['instance'][_0x405c0e(0x46a)]+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+(_0x147772 instanceof Error?_0x147772[_0x405c0e(0x191)]:JSON[_0x405c0e(0x33c)](_0x147772,null,0x2))),new m(_0x405c0e(0x3da)+(_0x147772 instanceof Error?_0x147772[_0x405c0e(0x191)]:JSON['stringify'](_0x147772,null,0x2)));}}async[a0_0x13f4c8(0x638)](_0x15692e){const _0x39ca51=a0_0x13f4c8;try{this[_0x39ca51(0x19a)][_0x39ca51(0x41a)](this[_0x39ca51(0x3a7)]+'\x20('+this['instance'][_0x39ca51(0x46a)]+_0x39ca51(0x551));let _0x108235=await this['repository']['flow'][_0x39ca51(0x314)]({'where':{'name':_0x15692e[_0x39ca51(0x5e2)]}},this['instance'][_0x39ca51(0x46a)]);_0x108235||this[_0x39ca51(0x320)](_0x39ca51(0x38f));let {block:_0x4872bf}=_0x15692e;_0x4872bf?.['copy']?this['copyBlock'](_0x108235,_0x15692e):_0x4872bf?.[_0x39ca51(0x5c3)]?this[_0x39ca51(0x45d)](_0x108235,_0x15692e):_0x4872bf['_id']?await this['updateBlock'](_0x108235,_0x15692e):this['addBlock'](_0x108235,_0x15692e);let _0x50b0ad=await this[_0x39ca51(0x65c)]['flow'][_0x39ca51(0x405)](_0x108235[_0x39ca51(0x1f1)],_0x108235,this[_0x39ca51(0x571)][_0x39ca51(0x46a)]);if(!_0x50b0ad)throw new Error(_0x39ca51(0x503));return _0x50b0ad;}catch(_0x42e15c){this[_0x39ca51(0x320)](_0x39ca51(0x4b0)+_0x42e15c);}}async[a0_0x13f4c8(0x265)](_0x278d42,_0x438c9f){const _0x3fe7a4=a0_0x13f4c8;let _0x4db52e=_0x438c9f[_0x3fe7a4(0x6b6)][_0x3fe7a4(0x1f1)],_0x5d7435=_0x278d42[_0x3fe7a4(0x380)][_0x3fe7a4(0x39d)](_0x44d114=>_0x44d114['_id'][_0x3fe7a4(0x603)]()===_0x4db52e);if(!_0x5d7435){this['logger'][_0x3fe7a4(0x3d5)](this['instanceName']+'\x20('+this['instance'][_0x3fe7a4(0x46a)]+'):\x20Bloco\x20com\x20ID\x20'+_0x4db52e+_0x3fe7a4(0x5e1));return;}this[_0x3fe7a4(0x19a)]['verbose'](this['instanceName']+'\x20('+this[_0x3fe7a4(0x571)][_0x3fe7a4(0x46a)]+_0x3fe7a4(0x33d)+JSON[_0x3fe7a4(0x33c)](_0x5d7435));let _0x5c2dc1=JSON['parse'](JSON[_0x3fe7a4(0x33c)](_0x5d7435));_0x5c2dc1[_0x3fe7a4(0x1f1)]=new ie[(_0x3fe7a4(0x29d))][(_0x3fe7a4(0x61b))][(_0x3fe7a4(0x13e))](),this['logger'][_0x3fe7a4(0x41a)](this[_0x3fe7a4(0x3a7)]+'\x20('+this['instance'][_0x3fe7a4(0x46a)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x3fe7a4(0x33c)](_0x5c2dc1)),_0x278d42['blocks']['push'](_0x5c2dc1),this[_0x3fe7a4(0x3d3)](_0x278d42[_0x3fe7a4(0x380)],_0x5c2dc1[_0x3fe7a4(0x140)]);}[a0_0x13f4c8(0x320)](_0x2a42d0){const _0x46be77=a0_0x13f4c8;throw this['logger'][_0x46be77(0x3d5)](this['instanceName']+'\x20('+this[_0x46be77(0x571)]['wuid']+_0x46be77(0x40e)+_0x2a42d0),new m(_0x2a42d0);}['deleteBlock'](_0x17df42,_0x412290){const _0x2b1036=a0_0x13f4c8;let {block:_0x323caa}=_0x412290;if(_0x323caa[_0x2b1036(0x31f)]===_0x2b1036(0x342)){this[_0x2b1036(0x320)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x323caa[_0x2b1036(0x1f1)]){this[_0x2b1036(0x320)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x33de5e=_0x17df42[_0x2b1036(0x380)][_0x2b1036(0x39d)](_0x24c62d=>_0x24c62d[_0x2b1036(0x1f1)]['toString']()===_0x412290['block'][_0x2b1036(0x1f1)][_0x2b1036(0x603)]());if(!_0x33de5e){this[_0x2b1036(0x320)](_0x2b1036(0x4fd)+_0x323caa[_0x2b1036(0x1f1)]+_0x2b1036(0x1c2));return;}_0x17df42['blocks']=_0x17df42[_0x2b1036(0x380)][_0x2b1036(0x10e)](_0x4a3b8f=>_0x4a3b8f[_0x2b1036(0x1f1)][_0x2b1036(0x603)]()!==_0x412290[_0x2b1036(0x6b6)][_0x2b1036(0x1f1)]['toString']()),_0x17df42[_0x2b1036(0x77)]=_0x17df42['conditions']['filter'](_0x58ffaf=>_0x58ffaf['blockId']!==_0x323caa['_id']['toString']()),_0x17df42['varedits']=_0x17df42[_0x2b1036(0x464)][_0x2b1036(0x10e)](_0x19ae55=>_0x19ae55['blockId']!==_0x323caa[_0x2b1036(0x1f1)]['toString']()),_0x17df42[_0x2b1036(0x1ed)]=_0x17df42[_0x2b1036(0x1ed)][_0x2b1036(0x10e)](_0x1b333f=>_0x1b333f[_0x2b1036(0x6e)]!==_0x323caa['_id']['toString']()),this[_0x2b1036(0x3d3)](_0x17df42['blocks'],_0x33de5e['groupId']);}async[a0_0x13f4c8(0x572)](_0x304bcc,_0x260547){const _0x4101d7=a0_0x13f4c8;let _0xa067cd=_0x304bcc[_0x4101d7(0x380)][_0x4101d7(0x2d7)](_0x1d3d66=>_0x1d3d66[_0x4101d7(0x1f1)][_0x4101d7(0x603)]()===_0x260547[_0x4101d7(0x6b6)][_0x4101d7(0x1f1)][_0x4101d7(0x603)]());if(this[_0x4101d7(0x19a)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4101d7(0x46a)]+_0x4101d7(0x150)+_0xa067cd),_0xa067cd===-0x1){this[_0x4101d7(0x19a)][_0x4101d7(0x41a)](_0x4101d7(0x4fd)+_0x260547['block'][_0x4101d7(0x1f1)]+_0x4101d7(0x511));return;}if(_0x304bcc[_0x4101d7(0x380)][_0xa067cd][_0x4101d7(0x31f)]===_0x4101d7(0x342)){let _0x353ec0=Object[_0x4101d7(0x2ec)](_0x260547[_0x4101d7(0x6b6)]);if(_0x353ec0[_0x4101d7(0xa3)]>0x2||_0x353ec0[_0x4101d7(0xa3)]===0x2&&!_0x353ec0['includes'](_0x4101d7(0x37c))){this[_0x4101d7(0x320)](_0x4101d7(0x2f7));return;}}let _0x4e13ff=_0x304bcc['blocks'][_0xa067cd][_0x4101d7(0x140)];for(let _0x44ca75 in _0x260547[_0x4101d7(0x6b6)])_0x260547[_0x4101d7(0x6b6)][_0x4101d7(0x3c4)](_0x44ca75)&&(_0x304bcc[_0x4101d7(0x380)][_0xa067cd][_0x44ca75]=_0x260547[_0x4101d7(0x6b6)][_0x44ca75]);if(this[_0x4101d7(0x19a)][_0x4101d7(0x41a)](this[_0x4101d7(0x3a7)]+'\x20('+this[_0x4101d7(0x571)][_0x4101d7(0x46a)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x4101d7(0x33c)](_0x304bcc[_0x4101d7(0x380)][_0xa067cd])),_0x304bcc[_0x4101d7(0x380)][_0xa067cd]['apirequest']&&_0x4101d7(0x246)in _0x304bcc[_0x4101d7(0x380)][_0xa067cd][_0x4101d7(0x2d0)]){this[_0x4101d7(0x19a)][_0x4101d7(0x41a)](this[_0x4101d7(0x3a7)]+'\x20('+this[_0x4101d7(0x571)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x3ecc50=JSON[_0x4101d7(0x33c)](_0x304bcc['blocks'][_0xa067cd][_0x4101d7(0x2d0)][_0x4101d7(0x246)],null,0x1);_0x3ecc50[_0x4101d7(0xa3)]>0x2&&(_0x3ecc50=_0x3ecc50[_0x4101d7(0xc6)](0x1,_0x3ecc50[_0x4101d7(0xa3)]-0x1)[_0x4101d7(0x4b3)]()),_0x304bcc[_0x4101d7(0x380)][_0xa067cd][_0x4101d7(0x2d0)]['headerString']=_0x3ecc50;}if(_0x304bcc[_0x4101d7(0x380)][_0xa067cd][_0x4101d7(0x2d0)]&&'body'in _0x304bcc['blocks'][_0xa067cd][_0x4101d7(0x2d0)]){this[_0x4101d7(0x19a)][_0x4101d7(0x41a)](this[_0x4101d7(0x3a7)]+'\x20('+this[_0x4101d7(0x571)][_0x4101d7(0x46a)]+_0x4101d7(0x5dd));let _0x3cd35e=JSON['stringify'](_0x304bcc[_0x4101d7(0x380)][_0xa067cd][_0x4101d7(0x2d0)]['body'],null,0x1);_0x3cd35e[_0x4101d7(0xa3)]>0x2&&(_0x3cd35e=_0x3cd35e[_0x4101d7(0xc6)](0x1,_0x3cd35e[_0x4101d7(0xa3)]-0x1)[_0x4101d7(0x4b3)]()),_0x304bcc[_0x4101d7(0x380)][_0xa067cd][_0x4101d7(0x2d0)][_0x4101d7(0x582)]=_0x3cd35e;}let _0x219266=_0x304bcc['blocks'][_0xa067cd]['groupId'];_0x4e13ff!==_0x219266?(this[_0x4101d7(0x3d3)](_0x304bcc[_0x4101d7(0x380)],_0x4e13ff),this['reorderBlocks'](_0x304bcc[_0x4101d7(0x380)],_0x219266)):this[_0x4101d7(0x3d3)](_0x304bcc['blocks'],_0x4e13ff);}[a0_0x13f4c8(0x252)](_0x4f46d0,_0x43a7e9){const _0xceaf80=a0_0x13f4c8;if(_0x43a7e9[_0xceaf80(0x6b6)][_0xceaf80(0x31f)]===_0xceaf80(0x342)){this[_0xceaf80(0x320)](_0xceaf80(0x279));return;}if(_0x43a7e9[_0xceaf80(0x6b6)][_0xceaf80(0x2d0)]&&_0xceaf80(0x246)in _0x43a7e9[_0xceaf80(0x6b6)][_0xceaf80(0x2d0)]){this[_0xceaf80(0x19a)][_0xceaf80(0x41a)](this['instanceName']+'\x20('+this[_0xceaf80(0x571)][_0xceaf80(0x46a)]+_0xceaf80(0x158));let _0x78711f=JSON[_0xceaf80(0x33c)](_0x43a7e9['block'][_0xceaf80(0x2d0)][_0xceaf80(0x246)],null,0x1);_0x78711f[_0xceaf80(0xa3)]>0x2&&(_0x78711f=_0x78711f[_0xceaf80(0xc6)](0x1,_0x78711f[_0xceaf80(0xa3)]-0x1)['trim']()),_0x43a7e9[_0xceaf80(0x6b6)][_0xceaf80(0x2d0)][_0xceaf80(0x495)]=_0x78711f;}_0x43a7e9['block']['apirequest']&&_0xceaf80(0xc9)in _0x43a7e9[_0xceaf80(0x6b6)][_0xceaf80(0x2d0)]&&(this[_0xceaf80(0x19a)][_0xceaf80(0x41a)](this[_0xceaf80(0x3a7)]+'\x20('+this[_0xceaf80(0x571)][_0xceaf80(0x46a)]+_0xceaf80(0x5dd)),_0x43a7e9[_0xceaf80(0x6b6)][_0xceaf80(0x2d0)][_0xceaf80(0x582)]=JSON[_0xceaf80(0x33c)](_0x43a7e9[_0xceaf80(0x6b6)]['apirequest'][_0xceaf80(0xc9)],null,0x1)[_0xceaf80(0x4b3)]()),_0x4f46d0['blocks'][_0xceaf80(0x4b1)](_0x43a7e9[_0xceaf80(0x6b6)]),this['reorderBlocks'](_0x4f46d0[_0xceaf80(0x380)],_0x43a7e9[_0xceaf80(0x6b6)][_0xceaf80(0x140)]);}[a0_0x13f4c8(0x3d3)](_0x53b6a5,_0xbf3084){const _0x50a187=a0_0x13f4c8;let _0x316da6=_0x53b6a5[_0x50a187(0x10e)](_0x4cea43=>_0x4cea43[_0x50a187(0x140)]===_0xbf3084);_0x316da6['sort']((_0x3e1410,_0x16fc13)=>_0x3e1410['order']-_0x16fc13[_0x50a187(0x5d4)]),_0x316da6[_0x50a187(0x543)]((_0x28caf4,_0x20b828)=>_0x28caf4[_0x50a187(0x5d4)]=_0x20b828+0x1);}async[a0_0x13f4c8(0x43e)](_0x96d942){const _0x4ac8a6=a0_0x13f4c8;try{if(this[_0x4ac8a6(0x19a)]['verbose'](this['instanceName']+'\x20('+this[_0x4ac8a6(0x571)][_0x4ac8a6(0x46a)]+'):\x20Editando\x20replyOption...'),!_0x96d942||!_0x96d942[_0x4ac8a6(0x358)]){this[_0x4ac8a6(0x320)](_0x4ac8a6(0x5ab));return;}let _0x58522d=await this[_0x4ac8a6(0x65c)]['flow'][_0x4ac8a6(0x314)]({'where':{'name':_0x96d942['name']}},this[_0x4ac8a6(0x571)][_0x4ac8a6(0x46a)]);_0x58522d||this[_0x4ac8a6(0x320)](_0x4ac8a6(0x38f));let {replyOption:_0x32b6d7}=_0x96d942;_0x32b6d7?.[_0x4ac8a6(0x5c3)]?(this[_0x4ac8a6(0x5b0)](_0x58522d,_0x96d942),this['reorderReplyOptions'](_0x58522d[_0x4ac8a6(0x1ed)],_0x96d942[_0x4ac8a6(0x358)]['blockId'])):_0x32b6d7[_0x4ac8a6(0x1f1)]?(await this[_0x4ac8a6(0xa0)](_0x58522d,_0x96d942),this[_0x4ac8a6(0x81)](_0x58522d[_0x4ac8a6(0x1ed)],_0x96d942[_0x4ac8a6(0x358)][_0x4ac8a6(0x6e)])):(this[_0x4ac8a6(0x623)](_0x58522d,_0x96d942),this[_0x4ac8a6(0x81)](_0x58522d[_0x4ac8a6(0x1ed)],_0x96d942[_0x4ac8a6(0x358)]['blockId']));let _0x2c7178=await this[_0x4ac8a6(0x65c)][_0x4ac8a6(0x693)][_0x4ac8a6(0x405)](_0x58522d['_id'],_0x58522d,this[_0x4ac8a6(0x571)]['wuid']);if(!_0x2c7178)throw new Error(_0x4ac8a6(0x503));return _0x2c7178;}catch(_0x1c977e){this['throwAndLogError'](_0x4ac8a6(0xa5)+_0x1c977e);}}[a0_0x13f4c8(0x81)](_0x51e874,_0x552456){const _0x52f148=a0_0x13f4c8;console[_0x52f148(0x4e2)](_0x52f148(0x53c),_0x552456),_0x51e874['forEach'](_0x3b9219=>{const _0xa514b1=_0x52f148;_0x3b9219[_0xa514b1(0x6e)]===_0x552456&&_0x3b9219[_0xa514b1(0x5d4)]===void 0x0&&(_0x3b9219[_0xa514b1(0x5d4)]=0x270f);});let _0x3ea11c=_0x51e874[_0x52f148(0x10e)](_0x2c9f83=>_0x2c9f83[_0x52f148(0x6e)]===_0x552456);_0x3ea11c[_0x52f148(0x29e)]((_0x4035bf,_0xfe1900)=>_0x4035bf['order']-_0xfe1900[_0x52f148(0x5d4)]),_0x3ea11c['forEach']((_0xf6fc3f,_0x314132)=>{const _0x35fa84=_0x52f148;_0xf6fc3f[_0x35fa84(0x5d4)]=_0x314132+0x1;}),_0x51e874[_0x52f148(0x543)](_0x4556d4=>{const _0x5d1da9=_0x52f148;if(_0x4556d4[_0x5d1da9(0x6e)]===_0x552456){let _0x979ae6=_0x3ea11c[_0x5d1da9(0x39d)](_0x2e445e=>_0x2e445e[_0x5d1da9(0x1f1)]&&_0x4556d4[_0x5d1da9(0x1f1)]&&_0x2e445e[_0x5d1da9(0x1f1)][_0x5d1da9(0x603)]()===_0x4556d4['_id']['toString']());_0x979ae6&&(_0x4556d4[_0x5d1da9(0x5d4)]=_0x979ae6[_0x5d1da9(0x5d4)]);}}),console['log']('ReplyOptions\x20finais\x20após\x20reordenação:',_0x51e874);}[a0_0x13f4c8(0x5b0)](_0x9b3eeb,_0x411178){const _0x4abc58=a0_0x13f4c8;let {replyOption:_0x4bfe25}=_0x411178;if(!_0x4bfe25[_0x4abc58(0x1f1)]){this[_0x4abc58(0x320)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x9b3eeb[_0x4abc58(0x1ed)][_0x4abc58(0x39d)](_0xd155c0=>_0xd155c0[_0x4abc58(0x1f1)]['toString']()===_0x411178[_0x4abc58(0x358)][_0x4abc58(0x1f1)][_0x4abc58(0x603)]())){this['throwAndLogError'](_0x4abc58(0x6b1)+_0x4bfe25[_0x4abc58(0x1f1)]+_0x4abc58(0x1c2));return;}_0x9b3eeb[_0x4abc58(0x1ed)]=_0x9b3eeb[_0x4abc58(0x1ed)][_0x4abc58(0x10e)](_0x1ca620=>_0x1ca620[_0x4abc58(0x1f1)]['toString']()!==_0x411178['replyOption'][_0x4abc58(0x1f1)]['toString']());}async['updateReplyOption'](_0x32015d,_0x4ab773){const _0x2d82d7=a0_0x13f4c8;let _0x33332c=_0x32015d[_0x2d82d7(0x1ed)]['findIndex'](_0x5cfb6c=>_0x5cfb6c[_0x2d82d7(0x1f1)][_0x2d82d7(0x603)]()===_0x4ab773[_0x2d82d7(0x358)][_0x2d82d7(0x1f1)][_0x2d82d7(0x603)]());if(_0x33332c===-0x1){this[_0x2d82d7(0x320)](_0x2d82d7(0x6b1)+_0x4ab773[_0x2d82d7(0x358)]['_id']+_0x2d82d7(0x511));return;}for(let _0x541838 in _0x4ab773[_0x2d82d7(0x358)])_0x4ab773[_0x2d82d7(0x358)]['hasOwnProperty'](_0x541838)&&(_0x32015d[_0x2d82d7(0x1ed)][_0x33332c][_0x541838]=_0x4ab773[_0x2d82d7(0x358)][_0x541838]);}[a0_0x13f4c8(0x623)](_0xa9a693,_0x9d3df0){const _0x4c921a=a0_0x13f4c8;_0xa9a693[_0x4c921a(0x1ed)][_0x4c921a(0x4b1)](_0x9d3df0[_0x4c921a(0x358)]);}async['editFlowGroup'](_0x32d033){const _0x4fcb7b=a0_0x13f4c8;this['logger']['verbose'](this[_0x4fcb7b(0x3a7)]+'\x20('+this['instance']['wuid']+_0x4fcb7b(0x4a6)+_0x32d033);try{this[_0x4fcb7b(0x19a)][_0x4fcb7b(0x41a)](this[_0x4fcb7b(0x3a7)]+'\x20('+this[_0x4fcb7b(0x571)][_0x4fcb7b(0x46a)]+_0x4fcb7b(0x2b9));let _0x16a3d3=await this['repository'][_0x4fcb7b(0x693)][_0x4fcb7b(0x314)]({'where':{'name':_0x32d033[_0x4fcb7b(0x5e2)]}},this[_0x4fcb7b(0x571)][_0x4fcb7b(0x46a)]);if(!_0x16a3d3)throw new Error('Flow\x20não\x20encontrado');if(_0x32d033[_0x4fcb7b(0x4bc)]&&_0x32d033[_0x4fcb7b(0x4bc)]?.[_0x4fcb7b(0x5c3)]===!0x0){if(this['logger']['verbose'](this[_0x4fcb7b(0x3a7)]+'\x20('+this[_0x4fcb7b(0x571)][_0x4fcb7b(0x46a)]+_0x4fcb7b(0x519)),_0x32d033[_0x4fcb7b(0x4bc)][_0x4fcb7b(0x29d)]===!0x0)return{'message':_0x4fcb7b(0x448)};if(_0x16a3d3[_0x4fcb7b(0x380)][_0x4fcb7b(0x4d2)](_0x32c204=>_0x32c204['groupId']['toString']()===_0x32d033['group'][_0x4fcb7b(0x1f1)]))return this[_0x4fcb7b(0x19a)]['verbose'](this['instanceName']+'\x20('+this[_0x4fcb7b(0x571)][_0x4fcb7b(0x46a)]+_0x4fcb7b(0x6c6)),{'message':_0x4fcb7b(0x97)};_0x16a3d3[_0x4fcb7b(0x152)]=_0x16a3d3[_0x4fcb7b(0x152)][_0x4fcb7b(0x10e)](_0xacd13d=>_0xacd13d[_0x4fcb7b(0x1f1)][_0x4fcb7b(0x603)]()!==_0x32d033['group'][_0x4fcb7b(0x1f1)]);}else{if(_0x32d033['group']){if(_0x32d033[_0x4fcb7b(0x4bc)]['default']===!0x0)return{'message':_0x4fcb7b(0x215)};if(_0x32d033['group']['_id']){let _0x2ac2cb=_0x16a3d3['groups'][_0x4fcb7b(0x39d)](_0x154c66=>_0x154c66['_id'][_0x4fcb7b(0x603)]()===_0x32d033[_0x4fcb7b(0x4bc)]['_id']);_0x2ac2cb&&(_0x32d033[_0x4fcb7b(0x4bc)]['x']<0x0&&(_0x32d033[_0x4fcb7b(0x4bc)]['x']=0x0),_0x32d033['group']['y']<0x0&&(_0x32d033[_0x4fcb7b(0x4bc)]['y']=0x0),Object[_0x4fcb7b(0x339)](_0x2ac2cb,_0x32d033[_0x4fcb7b(0x4bc)]));}else _0x16a3d3[_0x4fcb7b(0x152)][_0x4fcb7b(0x4b1)](_0x32d033[_0x4fcb7b(0x4bc)]);}}let _0x40b8f7=await this[_0x4fcb7b(0x65c)][_0x4fcb7b(0x693)][_0x4fcb7b(0x405)](_0x16a3d3['_id'],_0x16a3d3,this[_0x4fcb7b(0x571)]['wuid']);if(!_0x40b8f7)throw new Error(_0x4fcb7b(0x503));return _0x40b8f7;}catch(_0x4605fd){throw this['logger'][_0x4fcb7b(0x3d5)](this['instanceName']+'\x20('+this[_0x4fcb7b(0x571)][_0x4fcb7b(0x46a)]+_0x4fcb7b(0x453)+(_0x4605fd instanceof Error?_0x4605fd[_0x4fcb7b(0x191)]:JSON[_0x4fcb7b(0x33c)](_0x4605fd,null,0x2))),new m('Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x4605fd instanceof Error?_0x4605fd[_0x4fcb7b(0x191)]:JSON['stringify'](_0x4605fd,null,0x2)));}}async['editFlowCondition'](_0x3730d0){const _0x30ca26=a0_0x13f4c8;try{this[_0x30ca26(0x19a)][_0x30ca26(0x41a)](this[_0x30ca26(0x3a7)]+'\x20('+this[_0x30ca26(0x571)][_0x30ca26(0x46a)]+_0x30ca26(0x632));let _0x2d3f2b=await this[_0x30ca26(0x65c)][_0x30ca26(0x693)]['findOne']({'where':{'name':_0x3730d0['name']}},this[_0x30ca26(0x571)][_0x30ca26(0x46a)]);if(!_0x2d3f2b)throw new Error('Flow\x20não\x20encontrado');let _0x2d7f69=!0x1;if(_0x3730d0['condition']?.[_0x30ca26(0x5c3)]===!0x0)_0x2d3f2b['conditions']=_0x2d3f2b[_0x30ca26(0x77)]['filter'](_0x2cd113=>_0x2cd113&&_0x3730d0[_0x30ca26(0x3eb)]&&_0x2cd113['_id']&&_0x3730d0[_0x30ca26(0x3eb)][_0x30ca26(0x1f1)]&&_0x2cd113[_0x30ca26(0x1f1)][_0x30ca26(0x603)]()!==_0x3730d0['condition']['_id'][_0x30ca26(0x603)]()),_0x2d7f69=!0x0;else{let _0xeb4699=_0x2d3f2b[_0x30ca26(0x77)][_0x30ca26(0x39d)](_0x45b673=>_0x45b673&&_0x3730d0[_0x30ca26(0x3eb)]&&_0x45b673[_0x30ca26(0x1f1)]&&_0x3730d0['condition']['_id']&&_0x45b673[_0x30ca26(0x1f1)]['toString']()===_0x3730d0[_0x30ca26(0x3eb)]['_id'][_0x30ca26(0x603)]());_0xeb4699?(_0x2d7f69=_0xeb4699['order']!==_0x3730d0['condition'][_0x30ca26(0x5d4)],Object[_0x30ca26(0x339)](_0xeb4699,_0x3730d0['condition'])):(_0x2d3f2b[_0x30ca26(0x77)][_0x30ca26(0x4b1)](_0x3730d0[_0x30ca26(0x3eb)]),_0x2d7f69=!0x0);}if(_0x2d7f69){_0x2d3f2b[_0x30ca26(0x77)][_0x30ca26(0x29e)]((_0x4feb9f,_0x1c7b89)=>_0x4feb9f[_0x30ca26(0x5d4)]>_0x1c7b89['order']?0x1:_0x1c7b89[_0x30ca26(0x5d4)]>_0x4feb9f[_0x30ca26(0x5d4)]?-0x1:0x0);for(let _0x57c56b=0x0;_0x57c56b<_0x2d3f2b[_0x30ca26(0x77)][_0x30ca26(0xa3)];_0x57c56b++)_0x2d3f2b[_0x30ca26(0x77)][_0x57c56b][_0x30ca26(0x5d4)]=_0x57c56b+0x1;_0x2d3f2b[_0x30ca26(0x77)][_0x30ca26(0xa3)]>0x0&&(_0x2d3f2b[_0x30ca26(0x77)][0x0]['OrAnd']=_0x30ca26(0x641));}let _0x562106=await this[_0x30ca26(0x65c)][_0x30ca26(0x693)][_0x30ca26(0x405)](_0x2d3f2b[_0x30ca26(0x1f1)],_0x2d3f2b,this['instance'][_0x30ca26(0x46a)]);if(!_0x562106)throw new Error(_0x30ca26(0x503));return _0x562106;}catch(_0x40f8ba){throw this[_0x30ca26(0x19a)][_0x30ca26(0x3d5)](this[_0x30ca26(0x3a7)]+'\x20('+this[_0x30ca26(0x571)]['wuid']+_0x30ca26(0x654)+(_0x40f8ba instanceof Error?_0x40f8ba['message']:JSON[_0x30ca26(0x33c)](_0x40f8ba,null,0x2))),new Error('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x40f8ba instanceof Error?_0x40f8ba[_0x30ca26(0x191)]:JSON[_0x30ca26(0x33c)](_0x40f8ba,null,0x2)));}}async[a0_0x13f4c8(0x3f1)](_0x4d8482){const _0x1928fa=a0_0x13f4c8;try{this[_0x1928fa(0x19a)][_0x1928fa(0x41a)](this[_0x1928fa(0x3a7)]+'\x20('+this[_0x1928fa(0x571)][_0x1928fa(0x46a)]+_0x1928fa(0x368));let _0x428e36=await this[_0x1928fa(0x65c)][_0x1928fa(0x693)]['findOne']({'where':{'name':_0x4d8482['name']}},this[_0x1928fa(0x571)]['wuid']);if(!_0x428e36)throw new Error(_0x1928fa(0x38f));let _0x425c55=!0x1;if(_0x4d8482[_0x1928fa(0x3fe)]?.[_0x1928fa(0x5c3)]===!0x0)_0x428e36[_0x1928fa(0x464)]=_0x428e36[_0x1928fa(0x464)][_0x1928fa(0x10e)](_0x45363a=>_0x45363a&&_0x4d8482[_0x1928fa(0x3fe)]&&_0x45363a[_0x1928fa(0x1f1)]&&_0x4d8482[_0x1928fa(0x3fe)][_0x1928fa(0x1f1)]&&_0x45363a[_0x1928fa(0x1f1)]['toString']()!==_0x4d8482[_0x1928fa(0x3fe)][_0x1928fa(0x1f1)][_0x1928fa(0x603)]()),_0x425c55=!0x0;else{let _0x38af28=_0x428e36[_0x1928fa(0x464)][_0x1928fa(0x39d)](_0x2691c1=>_0x2691c1&&_0x4d8482[_0x1928fa(0x3fe)]&&_0x2691c1['_id']&&_0x4d8482[_0x1928fa(0x3fe)][_0x1928fa(0x1f1)]&&_0x2691c1[_0x1928fa(0x1f1)][_0x1928fa(0x603)]()===_0x4d8482['varedit'][_0x1928fa(0x1f1)][_0x1928fa(0x603)]());_0x38af28?(_0x425c55=_0x38af28[_0x1928fa(0x5d4)]!==_0x4d8482['varedit'][_0x1928fa(0x5d4)],Object['assign'](_0x38af28,_0x4d8482[_0x1928fa(0x3fe)])):(_0x428e36[_0x1928fa(0x464)]['push'](_0x4d8482['varedit']),_0x425c55=!0x0);}if(_0x425c55){_0x428e36[_0x1928fa(0x464)][_0x1928fa(0x29e)]((_0x143fd1,_0x557fa6)=>_0x143fd1['order']>_0x557fa6[_0x1928fa(0x5d4)]?0x1:_0x557fa6[_0x1928fa(0x5d4)]>_0x143fd1[_0x1928fa(0x5d4)]?-0x1:0x0);for(let _0x32bbb9=0x0;_0x32bbb9<_0x428e36[_0x1928fa(0x464)][_0x1928fa(0xa3)];_0x32bbb9++)_0x428e36[_0x1928fa(0x464)][_0x32bbb9][_0x1928fa(0x5d4)]=_0x32bbb9+0x1;}let _0x2bb6cf=await this[_0x1928fa(0x65c)]['flow']['updateOne'](_0x428e36['_id'],_0x428e36,this[_0x1928fa(0x571)][_0x1928fa(0x46a)]);if(!_0x2bb6cf)throw new Error(_0x1928fa(0x503));return _0x2bb6cf;}catch(_0x35b2f0){throw this[_0x1928fa(0x19a)][_0x1928fa(0x3d5)](this[_0x1928fa(0x3a7)]+'\x20('+this['instance'][_0x1928fa(0x46a)]+_0x1928fa(0x654)+(_0x35b2f0 instanceof Error?_0x35b2f0[_0x1928fa(0x191)]:JSON[_0x1928fa(0x33c)](_0x35b2f0,null,0x2))),new m('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x35b2f0 instanceof Error?_0x35b2f0['message']:JSON[_0x1928fa(0x33c)](_0x35b2f0,null,0x2)));}}async['editFlowVariable'](_0x26808c){const _0x35422f=a0_0x13f4c8;try{this[_0x35422f(0x19a)][_0x35422f(0x41a)](this[_0x35422f(0x3a7)]+'\x20('+this[_0x35422f(0x571)][_0x35422f(0x46a)]+_0x35422f(0x2e1));let _0x53dce4=await this[_0x35422f(0x65c)]['flow'][_0x35422f(0x314)]({'where':{'name':_0x26808c[_0x35422f(0x5e2)]}},this['instance'][_0x35422f(0x46a)]);if(!_0x53dce4)throw new Error(_0x35422f(0x38f));_0x26808c[_0x35422f(0x402)]['name']=_0x26808c[_0x35422f(0x402)][_0x35422f(0x5e2)][_0x35422f(0x4b3)](),_0x26808c[_0x35422f(0x402)][_0x35422f(0x5e2)][_0x35422f(0x4c2)]('_')&&(_0x26808c[_0x35422f(0x402)][_0x35422f(0x5e2)]=_0x26808c[_0x35422f(0x402)][_0x35422f(0x5e2)][_0x35422f(0xc6)](0x1)),_0x26808c[_0x35422f(0x402)][_0x35422f(0x5e2)]=_0x26808c[_0x35422f(0x402)][_0x35422f(0x5e2)][_0x35422f(0x4b3)]();let _0x168655=_0x53dce4[_0x35422f(0x415)]['find'](_0x39bd67=>_0x39bd67[_0x35422f(0x5e2)]===_0x26808c[_0x35422f(0x402)][_0x35422f(0x5e2)]);if(_0x168655?.[_0x35422f(0x288)]===!0x0)throw new Error(_0x35422f(0x6c0));if(_0x26808c[_0x35422f(0x402)]?.[_0x35422f(0x5c3)]===!0x0){if(!_0x168655)return{'message':_0x35422f(0x5c5)};_0x53dce4['variables']=_0x53dce4[_0x35422f(0x415)]['filter'](_0xf54646=>_0xf54646['name']!==_0x26808c['variable'][_0x35422f(0x5e2)]);}else _0x168655?Object[_0x35422f(0x339)](_0x168655,_0x26808c['variable']):_0x53dce4[_0x35422f(0x415)]['push'](_0x26808c[_0x35422f(0x402)]);let _0x1db548=await this[_0x35422f(0x65c)][_0x35422f(0x693)]['updateOne'](_0x53dce4[_0x35422f(0x1f1)],_0x53dce4,this[_0x35422f(0x571)][_0x35422f(0x46a)]);if(!_0x1db548)throw new Error(_0x35422f(0x503));return _0x1db548;}catch(_0x4be2ea){throw this['logger'][_0x35422f(0x3d5)](this['instanceName']+'\x20('+this['instance'][_0x35422f(0x46a)]+_0x35422f(0x5a5)+(_0x4be2ea instanceof Error?_0x4be2ea[_0x35422f(0x191)]:JSON[_0x35422f(0x33c)](_0x4be2ea,null,0x2))),new m(_0x35422f(0x138)+(_0x4be2ea instanceof Error?_0x4be2ea[_0x35422f(0x191)]:JSON['stringify'](_0x4be2ea,null,0x2)));}}async[a0_0x13f4c8(0x46f)](_0x2117f8){const _0x3db9fd=a0_0x13f4c8;let _0x187da5=null;try{if(!this[_0x3db9fd(0x6a7)]?.[_0x3db9fd(0x4e6)][_0x3db9fd(0x38a)])throw new m(_0x3db9fd(0xe7));this['logger'][_0x3db9fd(0x41a)](this[_0x3db9fd(0x3a7)]+'\x20('+this[_0x3db9fd(0x571)]['wuid']+'):\x20Iniciando\x20bot...');let _0x41977d=(await this[_0x3db9fd(0x170)]({'numbers':[_0x2117f8[_0x3db9fd(0x52a)]]}))[0x0];if(!_0x41977d[_0x3db9fd(0xf1)]&&!(0x0,y['isJidGroup'])(_0x41977d[_0x3db9fd(0x3df)])&&!_0x41977d[_0x3db9fd(0x3df)][_0x3db9fd(0x542)]('@broadcast'))throw _0x187da5=JSON[_0x3db9fd(0x33c)](_0x41977d,null,0x2),new m(_0x41977d);let _0x48e4d9=await this[_0x3db9fd(0x65c)]['flow'][_0x3db9fd(0x314)]({'where':{'name':_0x2117f8[_0x3db9fd(0x5e2)]}},this['instance'][_0x3db9fd(0x46a)]);if(!_0x48e4d9)return this[_0x3db9fd(0x19a)]['error'](this[_0x3db9fd(0x3a7)]+'\x20('+this[_0x3db9fd(0x571)]['wuid']+_0x3db9fd(0x131)),{'message':'Flow\x20não\x20encontrado'};let _0x1a64a7=await this[_0x3db9fd(0x2c4)](_0x48e4d9,_0x41977d[_0x3db9fd(0x3df)],_0x2117f8[_0x3db9fd(0x1cb)]);if(_0x1a64a7){this[_0x3db9fd(0x19a)][_0x3db9fd(0x41a)](this[_0x3db9fd(0x3a7)]+'\x20('+this[_0x3db9fd(0x571)][_0x3db9fd(0x46a)]+_0x3db9fd(0x16f));let _0x5a131f=await this['NextBlock'](_0x1a64a7);return _0x5a131f&&await this[_0x3db9fd(0x2bb)](_0x1a64a7,_0x5a131f),{'message':_0x3db9fd(0x50a)+_0x2117f8[_0x3db9fd(0x52a)]};}}catch(_0x35720a){if(this[_0x3db9fd(0x19a)]['error'](this[_0x3db9fd(0x3a7)]+'\x20('+this[_0x3db9fd(0x571)][_0x3db9fd(0x46a)]+_0x3db9fd(0x384)+(_0x35720a instanceof Error?_0x35720a[_0x3db9fd(0x191)]:JSON[_0x3db9fd(0x33c)](_0x35720a,null,0x2))),_0x187da5=_0x35720a instanceof Error?_0x35720a[_0x3db9fd(0x191)]:JSON[_0x3db9fd(0x33c)](_0x35720a,null,0x2),_0x187da5)throw new m(_0x3db9fd(0x2f9)+_0x187da5);}}async[a0_0x13f4c8(0x1d6)](_0x180fb1){const _0x23bb6a=a0_0x13f4c8;try{let _0x28e1ae={'remoteJid':_0x180fb1,'status':'open'},_0x173d33={'status':_0x23bb6a(0x407)},_0x4db925=await this[_0x23bb6a(0x65c)][_0x23bb6a(0x577)]['updateMany'](_0x28e1ae,_0x173d33,this[_0x23bb6a(0x571)][_0x23bb6a(0x46a)]);return this['logger'][_0x23bb6a(0x41a)](this['instanceName']+'\x20('+this['instance'][_0x23bb6a(0x46a)]+_0x23bb6a(0x4db)),_0x4db925;}catch(_0x24b03d){throw this[_0x23bb6a(0x19a)][_0x23bb6a(0x3d5)](this[_0x23bb6a(0x3a7)]+'\x20('+this[_0x23bb6a(0x571)]['wuid']+_0x23bb6a(0x4ea)+_0x24b03d[_0x23bb6a(0x191)]),_0x24b03d;}}async[a0_0x13f4c8(0x2c4)](_0x3fb604,_0x3a7e4b,_0x4780f7){const _0x6b43=a0_0x13f4c8;this['logger'][_0x6b43(0x41a)](this[_0x6b43(0x3a7)]+'\x20('+this['instance'][_0x6b43(0x46a)]+_0x6b43(0x55a)),await this[_0x6b43(0x1d6)](_0x3a7e4b);try{let _0x58be9f=require(_0x6b43(0x1ca))[_0x6b43(0x13e)],_0x18a5c7=Date[_0x6b43(0x652)](),_0x41e26b=_0x6b43(0x342),_0x3e7a6b={},_0x108eea={},_0x50cfd2={..._0x3fb604,'chatLog':null},_0x2a01fb=await this[_0x6b43(0xc7)](_0x50cfd2[_0x6b43(0x415)]),_0x2607ff=await this[_0x6b43(0x392)](_0x3a7e4b),_0x503771={..._0x2a01fb,..._0x2607ff,'_remoteJid':_0x3a7e4b},_0x36ac58={'lastReceivedMessage':_0x3e7a6b,'lastSendMessage':_0x108eea,'lastBlockId':_0x41e26b,'lastCondition':!0x0,'realVariables':_0x503771};_0x50cfd2[_0x6b43(0x49a)]=_0x36ac58,_0x50cfd2['chatLog']['realVariables']={..._0x503771,..._0x4780f7},delete _0x50cfd2['_id'],_0x50cfd2['_id']=new _0x58be9f(),_0x50cfd2[_0x6b43(0x3ae)]=_0x18a5c7,_0x50cfd2[_0x6b43(0x254)]=_0x6b43(0x13c),_0x50cfd2[_0x6b43(0x52a)]=_0x3a7e4b;let _0x363c61=await this[_0x6b43(0x65c)]['flowConversation'][_0x6b43(0x405)](_0x50cfd2['_id'],_0x50cfd2,this[_0x6b43(0x571)][_0x6b43(0x46a)]);return this[_0x6b43(0x19a)][_0x6b43(0x41a)](this[_0x6b43(0x3a7)]+'\x20('+this[_0x6b43(0x571)][_0x6b43(0x46a)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x363c61?_0x50cfd2:null;}catch(_0x53f410){throw this[_0x6b43(0x19a)][_0x6b43(0x3d5)](this[_0x6b43(0x3a7)]+'\x20('+this[_0x6b43(0x571)][_0x6b43(0x46a)]+_0x6b43(0x193)+(_0x53f410 instanceof Error?_0x53f410[_0x6b43(0x191)]:JSON[_0x6b43(0x33c)](_0x53f410,null,0x2))),new m(_0x53f410[_0x6b43(0x191)]);}}async['getConversation'](_0x5c3039){const _0x29dca8=a0_0x13f4c8;try{this['logger'][_0x29dca8(0x41a)](this[_0x29dca8(0x3a7)]+'\x20('+this['instance'][_0x29dca8(0x46a)]+_0x29dca8(0x5db)),this[_0x29dca8(0x19a)][_0x29dca8(0x41a)](this[_0x29dca8(0x3a7)]+'\x20('+this[_0x29dca8(0x571)][_0x29dca8(0x46a)]+'):\x20Query\x20params:\x20'+_0x5c3039);let _0x21a39b={'where':{'_id':_0x5c3039}};return await this[_0x29dca8(0x65c)][_0x29dca8(0x577)]['findOne'](_0x21a39b,this[_0x29dca8(0x571)]['wuid']);}catch(_0x52a46c){throw this[_0x29dca8(0x19a)][_0x29dca8(0x3d5)](this['instanceName']+'\x20('+this[_0x29dca8(0x571)][_0x29dca8(0x46a)]+_0x29dca8(0x23e)+(_0x52a46c instanceof Error?_0x52a46c[_0x29dca8(0x191)]:JSON[_0x29dca8(0x33c)](_0x52a46c,null,0x2))),new m(_0x29dca8(0x575)+_0x52a46c[_0x29dca8(0x191)]);}}async['fetchConversation'](_0x551de9){const _0x527214=a0_0x13f4c8;try{return this[_0x527214(0x19a)][_0x527214(0x41a)](this[_0x527214(0x3a7)]+'\x20('+this[_0x527214(0x571)][_0x527214(0x46a)]+'):\x20Buscando\x20conversas...'),await this[_0x527214(0x65c)][_0x527214(0x577)][_0x527214(0x39d)](_0x551de9,this[_0x527214(0x571)]['wuid']);}catch(_0x3424aa){throw this[_0x527214(0x19a)][_0x527214(0x3d5)](this[_0x527214(0x3a7)]+'\x20('+this['instance'][_0x527214(0x46a)]+_0x527214(0x5bb)+(_0x3424aa instanceof Error?_0x3424aa[_0x527214(0x191)]:JSON[_0x527214(0x33c)](_0x3424aa,null,0x2))),new m('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x3424aa[_0x527214(0x191)]);}}async[a0_0x13f4c8(0x3fd)](_0x2d4f37){const _0x18d7b8=a0_0x13f4c8;try{return this[_0x18d7b8(0x19a)][_0x18d7b8(0x41a)](this[_0x18d7b8(0x3a7)]+'\x20('+this[_0x18d7b8(0x571)]['wuid']+_0x18d7b8(0x2d6)),this[_0x18d7b8(0x19a)][_0x18d7b8(0x41a)](this[_0x18d7b8(0x3a7)]+'\x20('+this['instance'][_0x18d7b8(0x46a)]+_0x18d7b8(0xbc)+_0x2d4f37),(await this[_0x18d7b8(0x65c)][_0x18d7b8(0x577)][_0x18d7b8(0x110)]({'where':{'_id':_0x2d4f37}},this[_0x18d7b8(0x571)][_0x18d7b8(0x46a)]))[_0x18d7b8(0x3c6)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x18d7b8(0x350)};}catch(_0x4fe854){throw this[_0x18d7b8(0x19a)][_0x18d7b8(0x3d5)](this['instanceName']+'\x20('+this[_0x18d7b8(0x571)][_0x18d7b8(0x46a)]+'):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20'+(_0x4fe854 instanceof Error?_0x4fe854[_0x18d7b8(0x191)]:JSON[_0x18d7b8(0x33c)](_0x4fe854,null,0x2))),new m(_0x18d7b8(0x2e9)+_0x4fe854['message']);}}async[a0_0x13f4c8(0x226)](_0x1ac6a7){const _0x4a909f=a0_0x13f4c8;try{let {_id:_0x53ed06,chatLog:_0x10d640,status:_0x85e9c5}=_0x1ac6a7;if(!_0x53ed06)return{'message':_0x4a909f(0x205)};let _0xee95d9={};if(_0x85e9c5!==void 0x0&&(_0xee95d9[_0x4a909f(0x254)]=_0x85e9c5),Object[_0x4a909f(0x2ec)](_0xee95d9)[_0x4a909f(0xa3)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x1f33be=await this[_0x4a909f(0x65c)][_0x4a909f(0x577)][_0x4a909f(0x405)](_0x53ed06,_0xee95d9,this[_0x4a909f(0x571)][_0x4a909f(0x46a)]);return _0x1f33be||{'message':_0x4a909f(0x44c)};}catch(_0x4f15ec){throw this[_0x4a909f(0x19a)][_0x4a909f(0x3d5)](this[_0x4a909f(0x3a7)]+'\x20('+this[_0x4a909f(0x571)][_0x4a909f(0x46a)]+_0x4a909f(0x684)+(_0x4f15ec instanceof Error?_0x4f15ec[_0x4a909f(0x191)]:JSON['stringify'](_0x4f15ec,null,0x2))),new m(_0x4a909f(0x301)+_0x4f15ec[_0x4a909f(0x191)]);}}async['editChat'](_0x42d141){const _0x2d2a48=a0_0x13f4c8;let _0x467f07=await this[_0x2d2a48(0x65c)]['chat'][_0x2d2a48(0x314)]({'where':{'_id':_0x42d141[_0x2d2a48(0x1f1)]}},this[_0x2d2a48(0x571)][_0x2d2a48(0x46a)]);if(!_0x467f07)throw new m(_0x2d2a48(0x646));console[_0x2d2a48(0x4e2)](_0x42d141);try{_0x42d141[_0x2d2a48(0x1f1)]=this['createJid'](_0x42d141[_0x2d2a48(0x1f1)]);let {_id:_0x4c0991,leadInfo:_0x197a66}=_0x42d141;if(!_0x4c0991)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');let _0x5a7379=(_0x40177e,_0x8579d3,_0x427a2c)=>{const _0x34d2a5=_0x2d2a48;_0x40177e&&_0x427a2c[_0x34d2a5(0x543)](_0x1b7138=>{const _0x44c57a=_0x34d2a5;_0x40177e[_0x1b7138]!==void 0x0&&(_0x8579d3[_0x44c57a(0x5e6)+_0x1b7138]=_0x40177e[_0x1b7138]);});},_0x5ae363={};if(_0x197a66&&(_0x5a7379(_0x197a66,_0x5ae363,[_0x2d2a48(0x8f),_0x2d2a48(0x2c3),_0x2d2a48(0x6b),_0x2d2a48(0x113),_0x2d2a48(0x254),_0x2d2a48(0x33e),'tags',_0x2d2a48(0x89),_0x2d2a48(0x213),_0x2d2a48(0xae)]),Array[_0x2d2a48(0x5e3)](_0x197a66[_0x2d2a48(0x1c4)])&&(_0x5ae363[_0x2d2a48(0x398)]=_0x197a66[_0x2d2a48(0x1c4)][_0x2d2a48(0x35b)](_0x5b43f8=>({'_id':_0x5b43f8[_0x2d2a48(0x1f1)],'value':_0x5b43f8[_0x2d2a48(0x28f)]}))),_0x42d141[_0x2d2a48(0x288)][_0x2d2a48(0xae)]!==void 0x0)){let _0x1b25ae=await this[_0x2d2a48(0x65c)][_0x2d2a48(0x694)][_0x2d2a48(0x39d)]({'where':{}},this[_0x2d2a48(0x571)][_0x2d2a48(0x46a)]),_0x53e7bb=new Set(_0x42d141[_0x2d2a48(0x288)]['etiquetas']||[]),_0xbd619=new Set(_0x42d141[_0x2d2a48(0x288)][_0x2d2a48(0xae)]),_0xe2650a=new Set(_0x1b25ae[_0x2d2a48(0x35b)](_0x3b3e26=>_0x3b3e26[_0x2d2a48(0x1f1)])),_0x468233=[..._0xbd619]['filter'](_0x5df67d=>!_0x53e7bb[_0x2d2a48(0x241)](_0x5df67d)&&_0xe2650a[_0x2d2a48(0x241)](_0x5df67d)),_0x37a348=[..._0x53e7bb][_0x2d2a48(0x10e)](_0x23a37c=>!_0xbd619[_0x2d2a48(0x241)](_0x23a37c));if(_0x5ae363['leadInfo.etiquetas']=[..._0x53e7bb],_0x467f07&&!_0x467f07[_0x2d2a48(0x5a1)]){for(let _0x4436f4 of _0x468233)await this[_0x2d2a48(0x1aa)](_0x4436f4,_0x42d141[_0x2d2a48(0x1f1)]),_0x53e7bb[_0x2d2a48(0x6ac)](_0x4436f4);for(let _0x17d092 of _0x37a348)await this[_0x2d2a48(0x11f)](_0x17d092,_0x42d141[_0x2d2a48(0x1f1)]),_0x53e7bb[_0x2d2a48(0x5c3)](_0x17d092);}}if(_0x42d141[_0x2d2a48(0x23f)]!==void 0x0&&(_0x5ae363[_0x2d2a48(0x23f)]=Number(_0x42d141[_0x2d2a48(0x23f)])),Object[_0x2d2a48(0x2ec)](_0x5ae363)['length']===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0xe97ef1=await this[_0x2d2a48(0x65c)][_0x2d2a48(0x4c5)]['updateOne']({'where':{'_id':_0x42d141[_0x2d2a48(0x1f1)]}},_0x5ae363,this[_0x2d2a48(0x571)][_0x2d2a48(0x46a)]);return _0xe97ef1&&J(this[_0x2d2a48(0x3a7)],_0x2d2a48(0x364),{'chat':_0xe97ef1}),_0xe97ef1?(this[_0x2d2a48(0x19a)][_0x2d2a48(0x41a)](this[_0x2d2a48(0x3a7)]+'\x20('+this['instance'][_0x2d2a48(0x46a)]+_0x2d2a48(0x40e)+JSON['stringify'](_0xe97ef1,null,0x2)),_0xe97ef1):{'message':_0x2d2a48(0x305)};}catch(_0x28a0a1){throw this[_0x2d2a48(0x19a)][_0x2d2a48(0x3d5)](this[_0x2d2a48(0x3a7)]+'\x20('+this[_0x2d2a48(0x571)][_0x2d2a48(0x46a)]+_0x2d2a48(0x4c6)+(_0x28a0a1 instanceof Error?_0x28a0a1[_0x2d2a48(0x191)]:JSON[_0x2d2a48(0x33c)](_0x28a0a1,null,0x2))),new m('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x28a0a1['message']);}}async[a0_0x13f4c8(0x1aa)](_0x204aaa,_0x46ea81){const _0xecfe9c=a0_0x13f4c8;try{await this['client'][_0xecfe9c(0x41e)](_0x46ea81,_0x204aaa),console[_0xecfe9c(0x4e2)](_0xecfe9c(0x476)+_0x204aaa+_0xecfe9c(0x283)+_0x46ea81+_0xecfe9c(0x197));}catch(_0x52072c){console['error'](_0xecfe9c(0x20d)+_0x204aaa+_0xecfe9c(0x19f)+_0x46ea81+':',_0x52072c);}}async[a0_0x13f4c8(0x11f)](_0x884d1a,_0x2e565f){const _0x110dd2=a0_0x13f4c8;try{await this['client'][_0x110dd2(0x6ad)](_0x2e565f,_0x884d1a),console[_0x110dd2(0x4e2)](_0x110dd2(0x476)+_0x884d1a+_0x110dd2(0x5d6)+_0x2e565f+'\x20com\x20sucesso.');}catch(_0x5af755){console['error'](_0x110dd2(0x192)+_0x884d1a+_0x110dd2(0x14a)+_0x2e565f+':',_0x5af755);}}async[a0_0x13f4c8(0x4df)](_0xa646e4){const _0x1f54ce=a0_0x13f4c8;try{let _0x33a19d=await this[_0x1f54ce(0x65c)][_0x1f54ce(0x324)]['findOrCreate'](this[_0x1f54ce(0x571)][_0x1f54ce(0x46a)]),_0x20de6c=_0xa646e4['_id']?_0x33a19d[_0x1f54ce(0x243)][_0x1f54ce(0x2d7)](_0x20587f=>_0x20587f[_0x1f54ce(0x1f1)]===_0xa646e4[_0x1f54ce(0x1f1)]):-0x1;if(_0xa646e4[_0x1f54ce(0x5c3)]&&_0x20de6c>-0x1)_0x33a19d[_0x1f54ce(0x243)][_0x1f54ce(0xb2)](_0x20de6c,0x1);else{if(_0x20de6c>-0x1){let _0x491adf=_0x33a19d['agents'][_0x20de6c];_0xa646e4[_0x1f54ce(0x49e)]&&(_0x491adf[_0x1f54ce(0x49e)]=_0xa646e4[_0x1f54ce(0x49e)]),_0xa646e4['name']&&(_0x491adf[_0x1f54ce(0x5e2)]=_0xa646e4['name']),_0xa646e4[_0x1f54ce(0x6b)]&&(_0x491adf['email']=_0xa646e4[_0x1f54ce(0x6b)]),_0xa646e4[_0x1f54ce(0x27f)]&&(_0x491adf['role']=_0xa646e4[_0x1f54ce(0x27f)]);}else _0x33a19d[_0x1f54ce(0x243)][_0x1f54ce(0x4b1)]({'_id':_0xa646e4['_id']||new ie[(_0x1f54ce(0x29d))]['Types'][(_0x1f54ce(0x13e))]()['toString'](),'fone':_0xa646e4[_0x1f54ce(0x49e)],'name':_0xa646e4[_0x1f54ce(0x5e2)],'email':_0xa646e4[_0x1f54ce(0x6b)],'role':_0xa646e4['role']});}let _0x214ffa={'agents':_0x33a19d[_0x1f54ce(0x243)]},_0x23c0f0=await this[_0x1f54ce(0x65c)][_0x1f54ce(0x324)]['update'](_0x214ffa,this[_0x1f54ce(0x571)][_0x1f54ce(0x46a)]);return this[_0x1f54ce(0x6a7)]=_0x23c0f0,this['logger'][_0x1f54ce(0x41a)](this[_0x1f54ce(0x3a7)]+'\x20('+this['instance']['wuid']+'):\x20alterando\x20this.AutomateSystem'),this[_0x1f54ce(0x19a)]['verbose'](this[_0x1f54ce(0x3a7)]+'\x20('+this[_0x1f54ce(0x571)][_0x1f54ce(0x46a)]+_0x1f54ce(0x40e)+this[_0x1f54ce(0x6a7)]),_0x23c0f0;}catch(_0xbb0499){throw this[_0x1f54ce(0x19a)][_0x1f54ce(0x3d5)](this['instanceName']+'\x20('+this[_0x1f54ce(0x571)]['wuid']+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+(_0xbb0499 instanceof Error?_0xbb0499[_0x1f54ce(0x191)]:JSON[_0x1f54ce(0x33c)](_0xbb0499,null,0x2))),new m('Erro\x20ao\x20editar\x20agentes:\x20'+_0xbb0499['message']);}}async['updateCustomFields'](_0x17ad4e){const _0x4a424d=a0_0x13f4c8;try{let _0xb8ab0b=await this[_0x4a424d(0x65c)][_0x4a424d(0x324)]['findOrCreate'](this[_0x4a424d(0x571)][_0x4a424d(0x46a)]),_0x3011e3=_0x17ad4e[_0x4a424d(0x1f1)]?_0xb8ab0b[_0x4a424d(0x1c4)][_0x4a424d(0x2d7)](_0x2fd14d=>_0x2fd14d[_0x4a424d(0x1f1)]===_0x17ad4e['_id']):-0x1,_0x52df2e=!0x1,_0xb885de=_0xb8ab0b[_0x4a424d(0x1c4)][_0x4a424d(0x4d2)](_0x33a6fe=>_0x33a6fe['order']===_0x17ad4e[_0x4a424d(0x5d4)]);if(_0x17ad4e[_0x4a424d(0x5c3)]&&_0x3011e3>-0x1)_0xb8ab0b[_0x4a424d(0x1c4)]['splice'](_0x3011e3,0x1),_0x52df2e=!0x0;else{if(_0x3011e3>-0x1){if(_0xb8ab0b[_0x4a424d(0x1c4)]['some'](_0x4cc0ed=>_0x4cc0ed[_0x4a424d(0x5e2)]===_0x17ad4e[_0x4a424d(0x5e2)]&&_0x4cc0ed[_0x4a424d(0x1f1)]!==_0x17ad4e[_0x4a424d(0x1f1)]))throw new Error(_0x4a424d(0x26c));let _0x36d9b9=_0xb8ab0b['customFields'][_0x3011e3];_0x17ad4e[_0x4a424d(0x5d4)]&&(_0xb885de||!Number[_0x4a424d(0x687)](_0x17ad4e['order']))&&(_0x36d9b9[_0x4a424d(0x5d4)]=_0x17ad4e[_0x4a424d(0x5d4)],_0x52df2e=!0x0),_0x17ad4e[_0x4a424d(0x5e2)]&&(_0x36d9b9[_0x4a424d(0x5e2)]=_0x17ad4e[_0x4a424d(0x5e2)]);}else{if(_0xb8ab0b['customFields'][_0x4a424d(0x4d2)](_0x27fc62=>_0x27fc62[_0x4a424d(0x5e2)]===_0x17ad4e[_0x4a424d(0x5e2)]&&_0x27fc62[_0x4a424d(0x1f1)]!==_0x17ad4e['_id']))throw new Error(_0x4a424d(0x26c));_0xb8ab0b[_0x4a424d(0x1c4)]['push']({'_id':_0x17ad4e[_0x4a424d(0x1f1)]||new ie['default'][(_0x4a424d(0x61b))][(_0x4a424d(0x13e))]()[_0x4a424d(0x603)](),'order':_0x17ad4e[_0x4a424d(0x5d4)],'name':_0x17ad4e[_0x4a424d(0x5e2)]}),_0x52df2e=!0x0;}}if(_0x52df2e){_0xb8ab0b[_0x4a424d(0x1c4)]['sort']((_0x442e43,_0x349cc9)=>_0x442e43['order']>_0x349cc9['order']?0x1:_0x349cc9['order']>_0x442e43['order']?-0x1:0x0);for(let _0x148178=0x0;_0x148178<_0xb8ab0b[_0x4a424d(0x1c4)][_0x4a424d(0xa3)];_0x148178++)_0xb8ab0b[_0x4a424d(0x1c4)][_0x148178][_0x4a424d(0x5d4)]=_0x148178+0x1;}let _0x1a7e29=await this[_0x4a424d(0x65c)][_0x4a424d(0x324)][_0x4a424d(0x579)](_0xb8ab0b,this[_0x4a424d(0x571)]['wuid']);return this[_0x4a424d(0x6a7)]=_0x1a7e29,this[_0x4a424d(0x19a)][_0x4a424d(0x41a)](this[_0x4a424d(0x3a7)]+'\x20('+this[_0x4a424d(0x571)][_0x4a424d(0x46a)]+_0x4a424d(0x2ac)),this[_0x4a424d(0x19a)]['verbose'](this['instanceName']+'\x20('+this[_0x4a424d(0x571)][_0x4a424d(0x46a)]+_0x4a424d(0x40e)+this['AutomateSystem']),_0x1a7e29;}catch(_0x24d81e){throw this['logger']['error'](this[_0x4a424d(0x3a7)]+'\x20('+this[_0x4a424d(0x571)][_0x4a424d(0x46a)]+_0x4a424d(0x3e7)+(_0x24d81e instanceof Error?_0x24d81e['message']:JSON[_0x4a424d(0x33c)](_0x24d81e,null,0x2))),new m(_0x4a424d(0x115)+_0x24d81e[_0x4a424d(0x191)]);}}async[a0_0x13f4c8(0x157)](_0x5eae39){const _0x385030=a0_0x13f4c8;try{let _0x2b9360=await this[_0x385030(0x65c)][_0x385030(0x324)][_0x385030(0x302)](this[_0x385030(0x571)][_0x385030(0x46a)]);if(!_0x2b9360)throw new Error(_0x385030(0xe6));let _0x3a5cf1={'_id':_0x2b9360[_0x385030(0x1f1)],'flowConfig':{'enabled':_0x5eae39[_0x385030(0x38a)]??_0x2b9360[_0x385030(0x4e6)][_0x385030(0x38a)],'ignoreGroups':_0x5eae39[_0x385030(0x292)]??_0x2b9360[_0x385030(0x4e6)]['ignoreGroups'],'prefixCommand':_0x5eae39['prefixCommand']??_0x2b9360[_0x385030(0x4e6)][_0x385030(0x4c9)],'stopConversation':_0x5eae39[_0x385030(0x2bc)]??_0x2b9360[_0x385030(0x4e6)][_0x385030(0x2bc)],'stopMinutes':_0x5eae39['stopMinutes']??_0x2b9360['flowConfig'][_0x385030(0xfa)],'stopWhenYouSendMsg':_0x5eae39[_0x385030(0x465)]??_0x2b9360[_0x385030(0x4e6)][_0x385030(0x465)]}},_0x5ee6d7=await this[_0x385030(0x65c)][_0x385030(0x324)][_0x385030(0x579)](_0x3a5cf1,this['instance'][_0x385030(0x46a)]);return this[_0x385030(0x6a7)]=_0x5ee6d7,this[_0x385030(0x19a)][_0x385030(0x41a)](this['instanceName']+'\x20('+this[_0x385030(0x571)]['wuid']+_0x385030(0x3cc)),this[_0x385030(0x19a)][_0x385030(0x41a)](this[_0x385030(0x3a7)]+'\x20('+this[_0x385030(0x571)][_0x385030(0x46a)]+_0x385030(0x40e)+this[_0x385030(0x6a7)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x5ee6d7;}catch(_0x1d64ff){throw this[_0x385030(0x19a)][_0x385030(0x3d5)](this[_0x385030(0x3a7)]+'\x20('+this['instance']['wuid']+_0x385030(0x2d8)+(_0x1d64ff instanceof Error?_0x1d64ff[_0x385030(0x191)]:JSON[_0x385030(0x33c)](_0x1d64ff,null,0x2))),new m(_0x385030(0x3e9)+_0x1d64ff[_0x385030(0x191)]);}}async['getAutomateSystem'](){const _0x420297=a0_0x13f4c8;try{let _0x154b85=await this['repository']['automateSystem'][_0x420297(0x302)](this[_0x420297(0x571)]['wuid']);return this[_0x420297(0x6a7)]=_0x154b85,this[_0x420297(0x19a)][_0x420297(0x41a)](this[_0x420297(0x3a7)]+'\x20('+this['instance'][_0x420297(0x46a)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x420297(0x19a)]['verbose'](this['AutomateSystem']),_0x154b85;}catch(_0x576121){throw this['logger'][_0x420297(0x3d5)](this[_0x420297(0x3a7)]+'\x20('+this['instance'][_0x420297(0x46a)]+'):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+(_0x576121 instanceof Error?_0x576121[_0x420297(0x191)]:JSON[_0x420297(0x33c)](_0x576121,null,0x2))),new m(_0x420297(0xb4)+_0x576121[_0x420297(0x191)]);}}async[a0_0x13f4c8(0x333)](){const _0x453a5d=a0_0x13f4c8;this['timerId']&&clearTimeout(this[_0x453a5d(0x24e)]),this[_0x453a5d(0x24e)]=setTimeout(()=>{const _0x198c31=_0x453a5d;this[_0x198c31(0x3ca)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x1e43b2=a0_0x13f4c8;Date[_0x1e43b2(0x652)]()-this[_0x1e43b2(0x25c)]>=0x1d4c0&&(this[_0x1e43b2(0x19a)]['verbose'](this[_0x1e43b2(0x3a7)]+'\x20('+this[_0x1e43b2(0x571)][_0x1e43b2(0x46a)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x1e43b2(0x214)]=null,this[_0x1e43b2(0x25c)]=0x0,this[_0x1e43b2(0x4f1)]=0x0,await this[_0x1e43b2(0x143)]());}async[a0_0x13f4c8(0x143)](){const _0x339f17=a0_0x13f4c8;let _0x515234=()=>{const _0x1733ba=a0_0x2b73;this[_0x1733ba(0x19a)][_0x1733ba(0x41a)](this['instanceName']+'\x20('+this[_0x1733ba(0x571)][_0x1733ba(0x46a)]+_0x1733ba(0x663)+this[_0x1733ba(0x214)]+'\x20saindo\x20da\x20função');},_0x179aba=async()=>{const _0x1e09d2=a0_0x2b73;this[_0x1e09d2(0x19a)][_0x1e09d2(0x41a)](this['instanceName']+'\x20('+this[_0x1e09d2(0x571)][_0x1e09d2(0x46a)]+_0x1e09d2(0xa9));let _0x25a568=Date[_0x1e09d2(0x652)]()-0xc*0x3c*0x3c*0x3e8,_0x3916ae={'where':{'status':{'$in':[_0x1e09d2(0xdc),_0x1e09d2(0x2da)]},'$or':[{'when':{'$lte':Date[_0x1e09d2(0x652)](),'$gte':_0x25a568}},{'when':0x0}]}};return await this[_0x1e09d2(0x65c)][_0x1e09d2(0x598)][_0x1e09d2(0x39d)](_0x3916ae,this[_0x1e09d2(0x571)][_0x1e09d2(0x46a)]);},_0x30dcca=async _0x205767=>{const _0x3461fb=a0_0x2b73;for(let _0x1b60a5 of _0x205767){let _0x62b055={'_id':_0x1b60a5['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x3461fb(0x652)]()-0x1770}}]},_0x139c03={'startSend':Date[_0x3461fb(0x652)]()};if(!await this[_0x3461fb(0x65c)][_0x3461fb(0x598)][_0x3461fb(0x405)](_0x62b055,_0x139c03,this[_0x3461fb(0x571)]['wuid']))return;if(!this[_0x3461fb(0x10c)]){this[_0x3461fb(0x19a)][_0x3461fb(0x41a)](this[_0x3461fb(0x3a7)]+'\x20('+this['instance'][_0x3461fb(0x46a)]+_0x3461fb(0x60b));break;}if(_0x1b60a5['type']===_0x3461fb(0x693)&&!this[_0x3461fb(0x6a7)]?.['flowConfig'][_0x3461fb(0x38a)]){this['logger'][_0x3461fb(0x3d5)](this[_0x3461fb(0x3a7)]+'\x20('+this[_0x3461fb(0x571)][_0x3461fb(0x46a)]+_0x3461fb(0x4ba));continue;}(!_0x1b60a5['remoteJidsRemaining']||_0x1b60a5[_0x3461fb(0x290)][_0x3461fb(0xa3)]===0x0)&&(_0x1b60a5=await this[_0x3461fb(0x65c)][_0x3461fb(0x598)][_0x3461fb(0x104)](_0x1b60a5[_0x3461fb(0x1f1)],{'status':'sending','remoteJidsRemaining':[..._0x1b60a5[_0x3461fb(0x3b3)]]},this[_0x3461fb(0x571)][_0x3461fb(0x46a)]));for(let _0x254cf4 of _0x1b60a5['remoteJidsRemaining']){if(await this[_0x3461fb(0x333)](),this[_0x3461fb(0x25c)]=Date[_0x3461fb(0x652)](),_0x1b60a5['messagesSend'][_0x3461fb(0x4d2)](_0x85d6bd=>_0x85d6bd[_0x3461fb(0x52a)]===_0x254cf4)){this['logger'][_0x3461fb(0x41a)](this[_0x3461fb(0x3a7)]+'\x20('+this[_0x3461fb(0x571)]['wuid']+_0x3461fb(0x4b6)+_0x254cf4+_0x3461fb(0x471));continue;}if(!this[_0x3461fb(0x10c)]){this[_0x3461fb(0x19a)][_0x3461fb(0x41a)](this[_0x3461fb(0x3a7)]+'\x20('+this[_0x3461fb(0x571)]['wuid']+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this['processingScheduleMessageId']){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x3461fb(0x571)][_0x3461fb(0x46a)]+_0x3461fb(0x217)+_0x1b60a5['_id']+_0x3461fb(0x2e7));break;}if(_0x1b60a5[_0x3461fb(0x31f)]===_0x3461fb(0x693)&&!this[_0x3461fb(0x6a7)]?.['flowConfig']['enabled']){this[_0x3461fb(0x19a)][_0x3461fb(0x3d5)](this[_0x3461fb(0x3a7)]+'\x20('+this[_0x3461fb(0x571)][_0x3461fb(0x46a)]+_0x3461fb(0x4ba));break;}let _0x5eed90={'remoteJid':_0x254cf4,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0xf1b683=null;try{let _0x3af823=await this[_0x3461fb(0x2a0)](_0x254cf4,_0x1b60a5);_0x5eed90[_0x3461fb(0x3d5)]=_0x3af823[_0x3461fb(0x3d5)],_0x5eed90['id']=_0x3af823['error']?null:_0x3af823['id'],_0x5eed90[_0x3461fb(0x4a8)]=_0x3af823[_0x3461fb(0x3d5)]?_0x3af823[_0x3461fb(0x592)]?_0x3af823[_0x3461fb(0x592)][_0x3461fb(0x603)]():'':null;let _0x3223ca={'$push':{'messagesSend':_0x5eed90},'$pull':{'remoteJidsRemaining':_0x254cf4}},_0x2dc391=_0x1b60a5['_id'];if(_0xf1b683=await this[_0x3461fb(0x65c)][_0x3461fb(0x598)]['updateOneById'](_0x2dc391,_0x3223ca,this['instance']['wuid']),_0x3af823[_0x3461fb(0x3d5)])continue;let _0x52d6cd=this[_0x3461fb(0x4ec)](_0x1b60a5[_0x3461fb(0x68e)],_0x1b60a5[_0x3461fb(0xcd)]);await this['sleep'](_0x52d6cd);}catch(_0x32cf9d){this[_0x3461fb(0x19a)][_0x3461fb(0x3d5)](this[_0x3461fb(0x3a7)]+'\x20('+this[_0x3461fb(0x571)][_0x3461fb(0x46a)]+_0x3461fb(0x14c)+_0x254cf4+':\x20'+(_0x32cf9d instanceof Error?_0x32cf9d['message']:JSON[_0x3461fb(0x33c)](_0x32cf9d,null,0x2))),_0x5eed90[_0x3461fb(0x3d5)]=!0x0,_0x5eed90[_0x3461fb(0x4a8)]=_0x32cf9d[_0x3461fb(0x191)];let _0xbfde88={'$push':{'messagesSend':_0x5eed90},'$pull':{'remoteJidsRemaining':_0x254cf4}},_0x2a9636=_0x1b60a5[_0x3461fb(0x1f1)];_0xf1b683=await this['repository'][_0x3461fb(0x598)][_0x3461fb(0x104)](_0x2a9636,_0xbfde88,this['instance'][_0x3461fb(0x46a)]);}finally{if(_0xf1b683&&_0xf1b683[_0x3461fb(0x254)]===_0x3461fb(0x65f)){this[_0x3461fb(0x19a)][_0x3461fb(0x41a)](this[_0x3461fb(0x3a7)]+'\x20('+this[_0x3461fb(0x571)][_0x3461fb(0x46a)]+_0x3461fb(0x217)+_0x1b60a5['_id']+_0x3461fb(0x1c1));break;}}}let _0x10d579=await this[_0x3461fb(0x65c)]['scheduleMessage'][_0x3461fb(0x61f)](_0x1b60a5[_0x3461fb(0x1f1)],this[_0x3461fb(0x571)][_0x3461fb(0x46a)]);if(_0x10d579[_0x3461fb(0x290)][_0x3461fb(0xa3)]===0x0&&_0x10d579[_0x3461fb(0x254)]!=='stopped'){let _0x3707d5={'$set':{'status':_0x3461fb(0x52d)}},_0x1b40e6=_0x10d579['_id'];await this[_0x3461fb(0x65c)][_0x3461fb(0x598)]['updateOneById'](_0x1b40e6,_0x3707d5,this[_0x3461fb(0x571)][_0x3461fb(0x46a)]);}await new Promise(_0x4dc5bc=>setTimeout(_0x4dc5bc,0x1388));}},_0x626dcc=async()=>{const _0x5cbc52=a0_0x2b73;let _0x291712={'where':{'status':_0x5cbc52(0xdc),'when':{'$gt':Date[_0x5cbc52(0x652)]()}}},_0x3d14a1=await this['repository'][_0x5cbc52(0x598)][_0x5cbc52(0x314)](_0x291712,this[_0x5cbc52(0x571)]['wuid']);_0x3d14a1&&_0x3d14a1['when']-Date[_0x5cbc52(0x652)]()<=0x5265c00?this[_0x5cbc52(0x4f1)]=_0x3d14a1['when']-Date[_0x5cbc52(0x652)]():this[_0x5cbc52(0x4f1)]=(0x3c+Math[_0x5cbc52(0x4ce)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x5cbc52(0x4f1)]=Math[_0x5cbc52(0x555)](this[_0x5cbc52(0x4f1)],0x7d0);let _0xafbeac=Math[_0x5cbc52(0x62d)](this[_0x5cbc52(0x4f1)]/0xea60);if(_0x3d14a1){let _0x5bcddf=new Date(_0x3d14a1[_0x5cbc52(0x59d)])[_0x5cbc52(0x17d)]();this['logger'][_0x5cbc52(0x41a)](this[_0x5cbc52(0x3a7)]+'\x20('+this[_0x5cbc52(0x571)]['wuid']+_0x5cbc52(0x4eb)+_0x5bcddf+_0x5cbc52(0x581)+_0xafbeac+_0x5cbc52(0x20b));}else this[_0x5cbc52(0x19a)][_0x5cbc52(0x41a)](this[_0x5cbc52(0x3a7)]+'\x20('+this[_0x5cbc52(0x571)][_0x5cbc52(0x46a)]+_0x5cbc52(0x2ba)+_0xafbeac+_0x5cbc52(0x20b));setTimeout(()=>this[_0x5cbc52(0x143)](),this[_0x5cbc52(0x4f1)]);};if(this[_0x339f17(0x214)]){await this[_0x339f17(0x333)](),_0x515234();return;}if(!this[_0x339f17(0x10c)]){this[_0x339f17(0x19a)][_0x339f17(0x41a)](this[_0x339f17(0x3a7)]+'\x20('+this[_0x339f17(0x571)][_0x339f17(0x46a)]+_0x339f17(0xe3)),this[_0x339f17(0x214)]=null,this[_0x339f17(0x25c)]=0x0,this[_0x339f17(0x4f1)]=0x0;return;}try{let _0x187244=await _0x179aba();_0x187244[_0x339f17(0xa3)]===0x0?this[_0x339f17(0x19a)][_0x339f17(0x41a)](this[_0x339f17(0x3a7)]+'\x20('+this[_0x339f17(0x571)][_0x339f17(0x46a)]+_0x339f17(0x452)):(this[_0x339f17(0x214)]=_0x187244[0x0][_0x339f17(0x1f1)],await _0x30dcca(_0x187244)),await _0x626dcc(),this[_0x339f17(0x214)]=null;}catch(_0x22beb5){this[_0x339f17(0x19a)]['error'](_0x339f17(0x310)+(_0x22beb5 instanceof Error?_0x22beb5[_0x339f17(0x191)]:JSON[_0x339f17(0x33c)](_0x22beb5,null,0x2)));}}[a0_0x13f4c8(0x4ec)](_0x35f2da,_0x5c52a9){const _0x182f09=a0_0x13f4c8;return _0x35f2da=Math[_0x182f09(0x555)](0.5,_0x35f2da),_0x5c52a9=Math['min'](Math[_0x182f09(0x555)](0x3,_0x5c52a9),0x78),Math[_0x182f09(0x4ce)](Math[_0x182f09(0x2cc)]()*(_0x5c52a9-_0x35f2da+0x1)+_0x35f2da)*0x3e8;}[a0_0x13f4c8(0x286)](_0x4887a8){return new Promise(_0x2702d6=>setTimeout(_0x2702d6,_0x4887a8));}async['getVariablesChat'](_0x4558c3){const _0x13a330=a0_0x13f4c8;if(!this[_0x13a330(0x6a7)]&&(await this[_0x13a330(0xb7)](),!this[_0x13a330(0x6a7)]))return null;_0x4558c3=this[_0x13a330(0xe4)](_0x4558c3);let _0x24ce95=await this[_0x13a330(0x65c)][_0x13a330(0x4c5)][_0x13a330(0x314)]({'where':{'_id':_0x4558c3}},this[_0x13a330(0x571)]['wuid']),_0x476a46={};if(_0x24ce95&&_0x24ce95[_0x13a330(0x288)]){let _0x1098cc=_0x24ce95[_0x13a330(0x288)];typeof _0x1098cc[_0x13a330(0x8f)]=='string'&&(_0x476a46['nome']=_0x1098cc['nome']),typeof _0x1098cc[_0x13a330(0x2c3)]==_0x13a330(0x67e)&&(_0x476a46['nomecompleto']=_0x1098cc[_0x13a330(0x2c3)]),typeof _0x1098cc[_0x13a330(0x6b)]==_0x13a330(0x67e)&&(_0x476a46[_0x13a330(0x6b)]=_0x1098cc[_0x13a330(0x6b)]),typeof _0x1098cc[_0x13a330(0x113)]==_0x13a330(0x67e)&&(_0x476a46[_0x13a330(0x113)]=_0x1098cc[_0x13a330(0x113)]),typeof _0x1098cc[_0x13a330(0x254)]=='string'&&(_0x476a46['status']=_0x1098cc[_0x13a330(0x254)]),typeof _0x1098cc[_0x13a330(0x33e)]==_0x13a330(0x67e)&&(_0x476a46[_0x13a330(0x33e)]=_0x1098cc['notas']),typeof _0x1098cc['responsavelid']=='string'&&(_0x476a46['responsavelid']=_0x1098cc['responsavelid']),Array[_0x13a330(0x5e3)](_0x1098cc[_0x13a330(0x2f5)])&&(_0x476a46[_0x13a330(0x2f5)]=_0x1098cc['tags'][_0x13a330(0x40c)](',\x20')),Array[_0x13a330(0x5e3)](_0x1098cc[_0x13a330(0xae)])&&(_0x476a46['etiquetas']=_0x1098cc[_0x13a330(0xae)][_0x13a330(0x40c)](',\x20'));}return _0x24ce95&&_0x24ce95[_0x13a330(0x288)]&&_0x24ce95[_0x13a330(0x288)][_0x13a330(0x1c4)]&&_0x24ce95['leadInfo'][_0x13a330(0x1c4)]['forEach'](_0x366ba5=>{const _0x53ddc7=_0x13a330;let _0x2eee0b=this[_0x53ddc7(0x6a7)]?.['customFields'][_0x53ddc7(0x39d)](_0x38f8e5=>_0x38f8e5[_0x53ddc7(0x1f1)]===_0x366ba5[_0x53ddc7(0x1f1)]);_0x2eee0b&&(_0x476a46[_0x2eee0b[_0x53ddc7(0x5e2)]]=_0x366ba5[_0x53ddc7(0x28f)]);}),_0x476a46;}async[a0_0x13f4c8(0x2a7)](_0x386be1,_0xf32f34){const _0x51605e=a0_0x13f4c8;let _0x351578=await this['getVariablesChat'](_0xf32f34);return this[_0x51605e(0x5c4)](_0x386be1,_0x351578);}async['editScheduleMessage'](_0x5acb11){const _0x1048e8=a0_0x13f4c8;try{if(this[_0x1048e8(0x19a)][_0x1048e8(0x41a)](this['instanceName']+'\x20('+this[_0x1048e8(0x571)][_0x1048e8(0x46a)]+_0x1048e8(0x489)),_0x5acb11['delete']&&_0x5acb11[_0x1048e8(0x1f1)]){if(this[_0x1048e8(0x214)]===_0x5acb11['_id'][_0x1048e8(0x603)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x2d0418=await this[_0x1048e8(0x65c)][_0x1048e8(0x598)]['deleteOne'](_0x5acb11[_0x1048e8(0x1f1)],this['instance'][_0x1048e8(0x46a)]);return setTimeout(()=>this[_0x1048e8(0x143)](),0x7d0),_0x2d0418;}let _0x21fd9d;if(_0x5acb11[_0x1048e8(0x1f1)]&&(_0x21fd9d=await this[_0x1048e8(0x65c)]['scheduleMessage'][_0x1048e8(0x61f)](_0x5acb11['_id'],this['instance'][_0x1048e8(0x46a)])),_0x21fd9d){let _0x102fc6;if(this['processingScheduleMessageId']===_0x21fd9d[_0x1048e8(0x1f1)][_0x1048e8(0x603)]())_0x102fc6={'$set':{'status':_0x5acb11[_0x1048e8(0x254)]}};else{let {_id:_0x1be55d,..._0x1fad94}=_0x5acb11;_0x102fc6={'$set':_0x1fad94};}let _0xd9d16d=await this[_0x1048e8(0x65c)][_0x1048e8(0x598)]['updateOneById'](_0x5acb11['_id'],_0x102fc6,this[_0x1048e8(0x571)]['wuid']);return setTimeout(()=>this[_0x1048e8(0x143)](),0x7d0),_0xd9d16d;}else{_0x5acb11['owner']=this[_0x1048e8(0x571)][_0x1048e8(0x46a)];let _0x44ae25=await this[_0x1048e8(0x65c)][_0x1048e8(0x598)][_0x1048e8(0x5dc)](_0x5acb11,this[_0x1048e8(0x571)][_0x1048e8(0x46a)]);return setTimeout(()=>this[_0x1048e8(0x143)](),0x7d0),_0x44ae25;}}catch(_0x20d5b8){throw this[_0x1048e8(0x19a)][_0x1048e8(0x3d5)](this[_0x1048e8(0x3a7)]+'\x20('+this[_0x1048e8(0x571)][_0x1048e8(0x46a)]+_0x1048e8(0x53d)+(_0x20d5b8 instanceof Error?_0x20d5b8['message']:JSON[_0x1048e8(0x33c)](_0x20d5b8,null,0x2))),new m(_0x1048e8(0x127)+_0x20d5b8[_0x1048e8(0x191)]);}}async['getScheduleMessage'](){const _0x644557=a0_0x13f4c8;try{return await this['repository'][_0x644557(0x598)][_0x644557(0x39d)]({'where':{}},this[_0x644557(0x571)][_0x644557(0x46a)]);}catch(_0x2b4031){throw this[_0x644557(0x19a)][_0x644557(0x3d5)](this[_0x644557(0x3a7)]+'\x20('+this[_0x644557(0x571)][_0x644557(0x46a)]+_0x644557(0x397)+(_0x2b4031 instanceof Error?_0x2b4031[_0x644557(0x191)]:JSON[_0x644557(0x33c)](_0x2b4031,null,0x2))),new m(_0x644557(0x127)+_0x2b4031['message']);}}async['deleteDoneMessages'](){const _0x1cb86e=a0_0x13f4c8;try{let _0x6b744e={'status':_0x1cb86e(0x52d)},_0x4dd8e8=await this['repository'][_0x1cb86e(0x598)]['deleteMany'](_0x6b744e,this[_0x1cb86e(0x571)][_0x1cb86e(0x46a)]);if(!_0x4dd8e8['error'])this['logger'][_0x1cb86e(0x41a)](this[_0x1cb86e(0x3a7)]+'\x20('+this[_0x1cb86e(0x571)]['wuid']+_0x1cb86e(0x690));else throw new Error(_0x4dd8e8[_0x1cb86e(0x3d5)][_0x1cb86e(0x191)]||_0x1cb86e(0x381));return this['getScheduleMessage']();}catch(_0x5af677){throw this[_0x1cb86e(0x19a)][_0x1cb86e(0x3d5)](this[_0x1cb86e(0x3a7)]+'\x20('+this[_0x1cb86e(0x571)][_0x1cb86e(0x46a)]+'):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:'+(_0x5af677 instanceof Error?_0x5af677['message']:JSON[_0x1cb86e(0x33c)](_0x5af677,null,0x2))),new m('Erro:'+_0x5af677[_0x1cb86e(0x191)]);}}async[a0_0x13f4c8(0x2a0)](_0x446290,_0x2e4dc4){const _0xa22511=a0_0x13f4c8;try{if(_0x2e4dc4['type']===_0xa22511(0x693)&&!this[_0xa22511(0x6a7)]?.[_0xa22511(0x4e6)][_0xa22511(0x38a)])return this['logger'][_0xa22511(0x3d5)](this[_0xa22511(0x3a7)]+'\x20('+this['instance'][_0xa22511(0x46a)]+_0xa22511(0x3f5)),{'error':!0x0,'detail':_0xa22511(0xe7)};switch(_0x2e4dc4['type']){case _0xa22511(0x699):return await this[_0xa22511(0x2cf)](_0x2e4dc4,_0x446290);case _0xa22511(0x2db):return await this[_0xa22511(0x235)](_0x2e4dc4,_0x446290);case _0xa22511(0xfe):return await this[_0xa22511(0x2af)](_0x2e4dc4,_0x446290);case'flow':let _0x3934eb=new _e();return _0x3934eb[_0xa22511(0x5e2)]=_0x2e4dc4['flowName'],_0x3934eb[_0xa22511(0x52a)]=_0x446290,await this[_0xa22511(0x46f)](_0x3934eb);break;default:return this[_0xa22511(0x19a)][_0xa22511(0x3d5)](this[_0xa22511(0x3a7)]+'\x20('+this[_0xa22511(0x571)][_0xa22511(0x46a)]+_0xa22511(0x6a3)+_0x2e4dc4[_0xa22511(0x31f)]),{'error':!0x0,'detail':_0xa22511(0x1a7)};}}catch(_0x87e450){return this[_0xa22511(0x19a)][_0xa22511(0x3d5)](this[_0xa22511(0x3a7)]+'\x20('+this[_0xa22511(0x571)][_0xa22511(0x46a)]+_0xa22511(0xbb)+(_0x87e450 instanceof Error?_0x87e450[_0xa22511(0x191)]:JSON[_0xa22511(0x33c)](_0x87e450,null,0x2))),{'error':!0x0,'detail':_0x87e450[_0xa22511(0x191)]};}}['getRandomText'](_0x579ad0){const _0x4b9326=a0_0x13f4c8;let _0x34e7a7=_0x579ad0[_0x4b9326(0x545)]('|'),_0x4582bb=Math[_0x4b9326(0x4ce)](Math[_0x4b9326(0x2cc)]()*_0x34e7a7['length']);return _0x34e7a7[_0x4582bb]['trim']();}async[a0_0x13f4c8(0x2cf)](_0x587156,_0x4505f0){const _0x57cd0c=a0_0x13f4c8;if(this[_0x57cd0c(0x19a)][_0x57cd0c(0x41a)](this[_0x57cd0c(0x3a7)]+'\x20('+this['instance']['wuid']+_0x57cd0c(0x3a6)),!_0x587156[_0x57cd0c(0x191)][_0x57cd0c(0x699)]||_0x587156[_0x57cd0c(0x191)][_0x57cd0c(0x699)]['length']===0x0)return{'error':!0x0,'detail':_0x57cd0c(0x670)};let _0x1263a7=this[_0x57cd0c(0x53b)](_0x587156[_0x57cd0c(0x191)][_0x57cd0c(0x699)]),_0x111e34=await this[_0x57cd0c(0x2a7)](_0x1263a7,_0x4505f0),_0x26725c={'number':_0x4505f0,'options':{'delay':_0x587156[_0x57cd0c(0x191)]['delay']},'textMessage':{'text':_0x111e34}},_0x970c22=null;try{let _0x29baf3=await this[_0x57cd0c(0x24f)](_0x26725c);if(_0x29baf3&&_0x29baf3[_0x57cd0c(0x254)])return{'error':!0x1,'id':_0x29baf3[_0x57cd0c(0xcf)]['id']};_0x970c22=JSON[_0x57cd0c(0x33c)](_0x29baf3),this[_0x57cd0c(0x19a)][_0x57cd0c(0x41a)](this[_0x57cd0c(0x3a7)]+'\x20('+this[_0x57cd0c(0x571)][_0x57cd0c(0x46a)]+_0x57cd0c(0x40e)+_0x970c22);}catch(_0x41a519){this[_0x57cd0c(0x19a)][_0x57cd0c(0x3d5)](this['instanceName']+'\x20('+this['instance'][_0x57cd0c(0x46a)]+_0x57cd0c(0xc0)+(_0x41a519 instanceof Error?_0x41a519[_0x57cd0c(0x191)]:JSON[_0x57cd0c(0x33c)](_0x41a519,null,0x2))),_0x970c22=_0x41a519[_0x57cd0c(0x191)];}if(_0x970c22)return{'error':!0x0,'detail':(typeof _0x970c22=='object'?JSON[_0x57cd0c(0x33c)](_0x970c22,null,0x2):_0x970c22)[_0x57cd0c(0x3f0)](/[\[\]{}\n]/g,'\x20')[_0x57cd0c(0x3f0)](/  +/g,'\x20')};}async[a0_0x13f4c8(0x235)](_0x1eef3b,_0x4fc289){const _0x4f6301=a0_0x13f4c8;this[_0x4f6301(0x19a)][_0x4f6301(0x41a)](this['instanceName']+'\x20('+this[_0x4f6301(0x571)][_0x4f6301(0x46a)]+_0x4f6301(0x523));let _0x219e95;if(_0x1eef3b['message']['text']&&_0x1eef3b[_0x4f6301(0x191)]['text'][_0x4f6301(0xa3)]>0x0){let _0x544bfe=this['getRandomText'](_0x1eef3b[_0x4f6301(0x191)][_0x4f6301(0x699)]);_0x219e95=await this[_0x4f6301(0x2a7)](_0x544bfe,_0x4fc289);}let _0x40b289={'number':_0x4fc289,'options':{'delay':_0x1eef3b[_0x4f6301(0x191)][_0x4f6301(0x274)]},'mediaMessage':{'mediatype':_0x1eef3b[_0x4f6301(0x191)][_0x4f6301(0x1b5)],'caption':_0x219e95,'media':_0x1eef3b[_0x4f6301(0x191)][_0x4f6301(0x1f0)]}},_0x1b17dc=null;try{let _0x2f203b=await this[_0x4f6301(0x267)](_0x40b289);if(_0x2f203b&&_0x2f203b['status'])return{'error':!0x1,'id':_0x2f203b['key']['id']};_0x1b17dc=JSON[_0x4f6301(0x33c)](_0x2f203b),this[_0x4f6301(0x19a)]['verbose'](this['instanceName']+'\x20('+this[_0x4f6301(0x571)]['wuid']+_0x4f6301(0x40e)+_0x1b17dc);}catch(_0x21815a){this[_0x4f6301(0x19a)]['error'](this[_0x4f6301(0x3a7)]+'\x20('+this['instance'][_0x4f6301(0x46a)]+_0x4f6301(0x549)+(_0x21815a instanceof Error?_0x21815a[_0x4f6301(0x191)]:JSON[_0x4f6301(0x33c)](_0x21815a,null,0x2))),_0x1b17dc=_0x21815a[_0x4f6301(0x191)];}if(_0x1b17dc)return{'error':!0x0,'detail':(typeof _0x1b17dc==_0x4f6301(0x5ea)?JSON[_0x4f6301(0x33c)](_0x1b17dc,null,0x2):_0x1b17dc)[_0x4f6301(0x3f0)](/[\[\]{}\n]/g,'\x20')[_0x4f6301(0x3f0)](/  +/g,'\x20')};}async[a0_0x13f4c8(0x2af)](_0x175b36,_0x399bdf){const _0x1ffad6=a0_0x13f4c8;this[_0x1ffad6(0x19a)]['verbose'](this[_0x1ffad6(0x3a7)]+'\x20('+this['instance'][_0x1ffad6(0x46a)]+_0x1ffad6(0x307));let _0x4297d2={'number':_0x399bdf,'options':{'delay':_0x175b36[_0x1ffad6(0x191)]['delay']},'audioMessage':{'audio':_0x175b36[_0x1ffad6(0x191)][_0x1ffad6(0x1f0)]}},_0x4c6a5c=null;try{let _0x34be9a=await this[_0x1ffad6(0x4b5)](_0x4297d2);if(_0x34be9a&&_0x34be9a[_0x1ffad6(0x254)])return{'error':!0x1,'id':_0x34be9a[_0x1ffad6(0xcf)]['id']};_0x4c6a5c=JSON[_0x1ffad6(0x33c)](_0x34be9a),this[_0x1ffad6(0x19a)][_0x1ffad6(0x41a)](this[_0x1ffad6(0x3a7)]+'\x20('+this[_0x1ffad6(0x571)][_0x1ffad6(0x46a)]+'):\x20'+_0x4c6a5c);}catch(_0x1ca24c){this[_0x1ffad6(0x19a)][_0x1ffad6(0x3d5)](this[_0x1ffad6(0x3a7)]+'\x20('+this[_0x1ffad6(0x571)]['wuid']+_0x1ffad6(0x5b4)+(_0x1ca24c instanceof Error?_0x1ca24c[_0x1ffad6(0x191)]:JSON[_0x1ffad6(0x33c)](_0x1ca24c,null,0x2))),_0x4c6a5c=_0x1ca24c['message'];}if(_0x4c6a5c)return{'error':!0x0,'detail':(typeof _0x4c6a5c==_0x1ffad6(0x5ea)?JSON[_0x1ffad6(0x33c)](_0x4c6a5c,null,0x2):_0x4c6a5c)[_0x1ffad6(0x3f0)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},_t=class c{constructor(_0x2d96a8,_0x394f44,_0x237460){const _0x3f5ffa=a0_0x13f4c8;this[_0x3f5ffa(0x3ff)]=_0x2d96a8,this[_0x3f5ffa(0x5af)]=_0x394f44,this[_0x3f5ffa(0x65c)]=_0x237460,this['db']={},this[_0x3f5ffa(0x411)]={},this[_0x3f5ffa(0x19a)]=new v(c['name']),this[_0x3f5ffa(0x55e)]={},(this[_0x3f5ffa(0x1ec)](),this[_0x3f5ffa(0x1bd)](),Object['assign'](this['db'],_0x394f44[_0x3f5ffa(0x208)](_0x3f5ffa(0x647))),Object[_0x3f5ffa(0x339)](this[_0x3f5ffa(0x411)],_0x394f44['get'](_0x3f5ffa(0x285))),this[_0x3f5ffa(0x4e1)]=this['db'][_0x3f5ffa(0x4d0)]?this[_0x3f5ffa(0x65c)][_0x3f5ffa(0x319)]?.['db'](this['db'][_0x3f5ffa(0x3f2)][_0x3f5ffa(0x4ee)]+_0x3f5ffa(0x455)):void 0x0,this[_0x3f5ffa(0x106)]=this[_0x3f5ffa(0x411)][_0x3f5ffa(0x4d0)]?new re(this[_0x3f5ffa(0x411)]):void 0x0);}async[a0_0x13f4c8(0x46c)](_0x491a47){const _0x47dc75=a0_0x13f4c8;if(_0x491a47&&!this['waInstances'][_0x491a47])throw new j('Instance\x20\x22'+_0x491a47+_0x47dc75(0x51f));let _0x22b75e=[];for await(let [_0x2b7f3a,_0x309a08]of Object[_0x47dc75(0x35c)](this[_0x47dc75(0x55e)]))if(_0x309a08&&_0x309a08[_0x47dc75(0x377)][_0x47dc75(0x103)]==='open'){let _0x11924c=await this[_0x47dc75(0x65c)][_0x47dc75(0x206)][_0x47dc75(0x39d)](_0x2b7f3a);_0x22b75e[_0x47dc75(0x4b1)]({'instance':{'instanceName':_0x2b7f3a,'apikey':_0x11924c[_0x47dc75(0xe2)],'owner':_0x309a08[_0x47dc75(0x46a)],'profileName':await _0x309a08[_0x47dc75(0x7f)]()||_0x47dc75(0x51d),'profilePictureUrl':_0x309a08[_0x47dc75(0x1e0)]}});}return _0x22b75e[_0x47dc75(0x39d)](_0x114807=>_0x114807[_0x47dc75(0x571)][_0x47dc75(0x3a7)]===_0x491a47)??_0x22b75e;}async[a0_0x13f4c8(0x3e8)](_0x3c0304){const _0x2c34e0=a0_0x13f4c8;if(this['db'][_0x2c34e0(0x4d0)]&&(await this[_0x2c34e0(0x65c)]['dbServer'][_0x2c34e0(0x28e)](),(await this[_0x2c34e0(0x4e1)][_0x2c34e0(0x6bd)]())[_0x2c34e0(0xa3)]>0x0&&await this[_0x2c34e0(0x4e1)]['dropCollection'](_0x3c0304)),this['redis'][_0x2c34e0(0x4d0)]){this[_0x2c34e0(0x106)]['reference']=_0x3c0304,await this[_0x2c34e0(0x106)][_0x2c34e0(0x650)]();return;}}async['loadInstance'](){const _0x371eb7=a0_0x13f4c8;await this[_0x371eb7(0x16d)]();let _0x36f0ca=async _0x5837df=>{const _0x1261ca=_0x371eb7;let _0x48782f=new ye(this[_0x1261ca(0x5af)],this[_0x1261ca(0x3ff)],this['repository']);_0x48782f['instanceName']=_0x5837df,await _0x48782f[_0x1261ca(0x587)](),this[_0x1261ca(0x55e)][_0x5837df]=_0x48782f;};try{if(this[_0x371eb7(0x411)]['ENABLED']){let _0xc191bb=await this[_0x371eb7(0x106)][_0x371eb7(0x328)]();_0xc191bb?.[_0x371eb7(0xa3)]>0x0&&_0xc191bb[_0x371eb7(0x543)](async _0x513281=>await _0x36f0ca(_0x513281[_0x371eb7(0x545)](':')[0x1]));return;}if(this['db'][_0x371eb7(0x4d0)]){await this[_0x371eb7(0x65c)][_0x371eb7(0x319)][_0x371eb7(0x28e)]();let _0x459e5f=await this[_0x371eb7(0x4e1)]['collections']();_0x459e5f[_0x371eb7(0xa3)]>0x0&&_0x459e5f['forEach'](async _0x4e70b1=>await _0x36f0ca(_0x4e70b1[_0x371eb7(0x263)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x3cdc6b){this[_0x371eb7(0x19a)][_0x371eb7(0x3d5)](_0x3cdc6b);}}async[a0_0x13f4c8(0x38c)](){const _0x61871b=a0_0x13f4c8;let _0x5eac54=await this[_0x61871b(0x65c)][_0x61871b(0x206)]['findAll'](),_0x2133e4=_0x5eac54['filter'](_0x13fca9=>!this[_0x61871b(0x55e)][_0x13fca9['_id']]&&(_0x13fca9[_0x61871b(0x391)]||typeof _0x13fca9['online']>'u'));_0x2133e4['length']>0x0&&await Promise['all'](_0x2133e4[_0x61871b(0x35b)](async _0x48f143=>{const _0x37d68a=_0x61871b;let _0x2b2f28={'online':!0x1,'lastDisconnect':Date['now']()};await this[_0x37d68a(0x65c)][_0x37d68a(0x206)][_0x37d68a(0x419)](_0x2b2f28,_0x48f143['_id']);}));let _0x2f66cf=Date[_0x61871b(0x652)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x513164=_0x5eac54[_0x61871b(0x10e)](_0x48be04=>!this[_0x61871b(0x55e)][_0x48be04['_id']]&&typeof _0x48be04[_0x61871b(0x475)]<'u'&&_0x48be04[_0x61871b(0x475)]<_0x2f66cf);_0x513164[_0x61871b(0xa3)]>0x0&&await Promise[_0x61871b(0x5a0)](_0x513164[_0x61871b(0x35b)](async _0x37dd15=>{}));}async[a0_0x13f4c8(0x16d)](){const _0x129e3b=a0_0x13f4c8;try{let _0x5d6ce7={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x5ebd92={'online':!0x1,'lastDisconnect':Date[_0x129e3b(0x652)]()},_0x31bdd4=await this[_0x129e3b(0x65c)][_0x129e3b(0x206)][_0x129e3b(0x282)](_0x5d6ce7,_0x5ebd92);console[_0x129e3b(0x4e2)](_0x129e3b(0x47b)+_0x31bdd4[_0x129e3b(0x4ca)]),await this[_0x129e3b(0x567)]();}catch(_0x4f3c04){console[_0x129e3b(0x3d5)](_0x129e3b(0x31c),_0x4f3c04);}}async['removeOlderDisconnectedInstances'](){const _0x3c0650=a0_0x13f4c8;try{let _0x55ac85={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x2b7a0d=await this['repository']['auth'][_0x3c0650(0x190)](_0x55ac85);console[_0x3c0650(0x4e2)](_0x3c0650(0x473)+_0x2b7a0d[_0x3c0650(0x4ca)]);}catch(_0x2c265d){console[_0x3c0650(0x3d5)](_0x3c0650(0x335),_0x2c265d);}}[a0_0x13f4c8(0x1ec)](){const _0x45c0e2=a0_0x13f4c8;this[_0x45c0e2(0x3ff)]['on'](_0x45c0e2(0x210),async _0x1c756c=>{const _0x268ed8=_0x45c0e2;try{this[_0x268ed8(0x55e)][_0x1c756c]=void 0x0;}catch{}try{this[_0x268ed8(0x3e8)](_0x1c756c);}finally{this[_0x268ed8(0x19a)]['warn'](_0x268ed8(0x3dd)+_0x1c756c+_0x268ed8(0x606));}});}[a0_0x13f4c8(0x1bd)](){const _0x40c398=a0_0x13f4c8;this['eventEmitter']['on'](_0x40c398(0x3af),async _0x1f6aed=>{const _0x5ce57e=_0x40c398;try{this[_0x5ce57e(0x55e)][_0x1f6aed]=void 0x0;}catch{}try{this['cleaningUp'](_0x1f6aed);}finally{this[_0x5ce57e(0x19a)][_0x5ce57e(0x2ce)](_0x5ce57e(0x3dd)+_0x1f6aed+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Pt=class extends I{[a0_0x13f4c8(0x111)](_0x11c7a4){return Js(_0x11c7a4);}async['insert'](_0x5cc624){const _0x5c00fa=a0_0x13f4c8;if(_0x5cc624[_0x5c00fa(0xa3)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x5cc624[0x0][_0x5c00fa(0xc1)])[_0x5c00fa(0x554)]([..._0x5cc624]))['length']};}catch(_0x13cd6a){return _0x13cd6a;}}async[a0_0x13f4c8(0x39d)](_0x2d92fc,_0x3a8d24){const _0x234d94=a0_0x13f4c8;try{let _0xbc595f=this['getChatModelForOwner'](_0x3a8d24),_0x312fa4=A(_0x2d92fc[_0x234d94(0x3ce)]);return await _0xbc595f['find'](_0x312fa4)['sort']({'lastmsg':-0x1})[_0x234d94(0x2a8)](_0x2d92fc?.[_0x234d94(0x2a8)]??0x0)['lean']();}catch{return[];}}async['deleteAll'](_0x3d7796,_0x4f79d1){const _0x1fdd8d=a0_0x13f4c8;try{return await this[_0x1fdd8d(0x111)](_0x4f79d1)[_0x1fdd8d(0x190)]({..._0x3d7796[_0x1fdd8d(0x3ce)]}),[];}catch(_0x4e7987){return{'error':_0x4e7987?.[_0x1fdd8d(0x603)]()};}}async[a0_0x13f4c8(0x314)](_0x54b575,_0x1027e1){const _0x3aef28=a0_0x13f4c8;try{let _0x53518f=this[_0x3aef28(0x111)](_0x1027e1),_0x4b7902=A(_0x54b575[_0x3aef28(0x3ce)]);return await _0x53518f[_0x3aef28(0x314)](_0x4b7902)['lean']();}catch{return null;}}async['updateOne'](_0x2c4fac,_0x5e11fa,_0xcbe317,_0x2d8860,_0x56f2af=a0_0x13f4c8(0x1b8)){const _0x3ec52f=a0_0x13f4c8;try{let _0x1f8ed3={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2d8860},_0xf5ce6f=this['getChatModelForOwner'](_0xcbe317),_0x490c70=A(_0x2c4fac[_0x3ec52f(0x3ce)]);Object[_0x3ec52f(0x2ec)](_0x5e11fa)[_0x3ec52f(0x543)](_0x1387c2=>{_0x5e11fa[_0x1387c2]==null&&delete _0x5e11fa[_0x1387c2];});let _0x58df9e={};return _0x58df9e[_0x56f2af]=_0x5e11fa,await _0xf5ce6f[_0x3ec52f(0xb9)](_0x490c70,_0x58df9e,_0x1f8ed3);}catch(_0x1c1f7c){return console[_0x3ec52f(0x3d5)](_0x1c1f7c),null;}}async['updateMany'](_0x5dc38a){const _0xa84725=a0_0x13f4c8;try{let _0x2b45e4=this[_0xa84725(0x111)](_0x5dc38a[0x0]['query'][_0xa84725(0x3ce)][_0xa84725(0xc1)]),_0x4bf31c=_0x5dc38a[_0xa84725(0x35b)](_0x174346=>({'updateOne':{'filter':{..._0x174346[_0xa84725(0x1a1)][_0xa84725(0x3ce)]},'update':{'$set':_0x174346[_0xa84725(0x579)]},'upsert':!0x0}})),_0x4dcd97=await _0x2b45e4[_0xa84725(0x518)](_0x4bf31c);return _0x4dcd97[_0xa84725(0x1ff)]+_0x4dcd97[_0xa84725(0x1ad)];}catch(_0x4626d8){return console[_0xa84725(0x3d5)](_0x4626d8),0x0;}}async[a0_0x13f4c8(0x3c2)](_0xf10c56){const _0xc1cc95=a0_0x13f4c8;try{let _0x5ac2b0=this[_0xc1cc95(0x111)](_0xf10c56),_0x5de99c={'labels':{'$exists':!0x0}},_0xfdffa6={'$unset':{'labels':''}};return(await _0x5ac2b0[_0xc1cc95(0x175)](_0x5de99c,_0xfdffa6))[_0xc1cc95(0x1ff)];}catch(_0x2ef35e){return console[_0xc1cc95(0x3d5)](_0x2ef35e),0x0;}}async[a0_0x13f4c8(0x65d)](_0x547e1e){const _0x269809=a0_0x13f4c8;try{let _0x4533b8=this[_0x269809(0x111)](_0x547e1e),_0x267157={'leadInfo.etiquetas':{'$exists':!0x1}},_0x4df36f={'$set':{'leadInfo.etiquetas':[]}};return(await _0x4533b8[_0x269809(0x175)](_0x267157,_0x4df36f))[_0x269809(0x1ff)];}catch(_0x39416c){return console[_0x269809(0x3d5)](_0x39416c),0x0;}}async['updateMissingTags'](_0x37ef75){const _0x379b4d=a0_0x13f4c8;try{let _0x10d9f6=this[_0x379b4d(0x111)](_0x37ef75),_0x17b174={'leadInfo.tags':{'$exists':!0x1}},_0x3b80e9={'$set':{'leadInfo.tags':[]}};return(await _0x10d9f6[_0x379b4d(0x175)](_0x17b174,_0x3b80e9))['modifiedCount'];}catch(_0x5cadc3){return console[_0x379b4d(0x3d5)](_0x5cadc3),0x0;}}async[a0_0x13f4c8(0x289)](_0x53ab8f){const _0x440481=a0_0x13f4c8;try{let _0x4746e2=this[_0x440481(0x111)](_0x53ab8f),_0x2934b2={'leadInfo.customFields':{'$exists':!0x1}},_0x2a539a={'$set':{'leadInfo.customFields':[]}};return(await _0x4746e2['updateMany'](_0x2934b2,_0x2a539a))[_0x440481(0x1ff)];}catch(_0x4c6374){return console[_0x440481(0x3d5)](_0x4c6374),0x0;}}async['insertMany'](_0x301703,_0x2f8d61){const _0xe967a0=a0_0x13f4c8;if(!Array[_0xe967a0(0x5e3)](_0x301703)||_0x301703['length']===0x0)throw new Error(_0xe967a0(0x40b));try{return(await this[_0xe967a0(0x111)](_0x2f8d61)[_0xe967a0(0x554)](_0x301703))[_0xe967a0(0xa3)];}catch(_0x8bf530){throw console['error'](_0xe967a0(0x372),_0x8bf530),_0x8bf530;}}async[a0_0x13f4c8(0x530)](_0x16df8a,_0xa2bfe6){const _0x2380b9=a0_0x13f4c8;try{await this[_0x2380b9(0x111)](_0xa2bfe6)[_0x2380b9(0x110)]({'_id':_0x16df8a});}catch(_0xb5382){throw console[_0x2380b9(0x3d5)]('Erro\x20ao\x20deletar\x20chat:',_0xb5382),_0xb5382;}}},$t=class extends I{[a0_0x13f4c8(0x604)](_0x3fe45d){return da(_0x3fe45d);}async[a0_0x13f4c8(0x405)](_0x367ea6,_0x410ed6,_0x5c75e2,_0x21ac7a){const _0x584d63=a0_0x13f4c8;try{let _0x20e520={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x21ac7a},_0x1d9700=this[_0x584d63(0x604)](_0x5c75e2),_0x2d90f9=A(_0x367ea6['where']);return await _0x1d9700['findOneAndUpdate'](_0x2d90f9,{'$set':_0x410ed6},_0x20e520);}catch(_0x1ed5d8){return console[_0x584d63(0x3d5)](_0x1ed5d8),null;}}async[a0_0x13f4c8(0x39d)](_0x3110b8,_0x56e157){const _0x413860=a0_0x13f4c8;try{let _0x5931fb=this[_0x413860(0x604)](_0x56e157),_0x3d1977=A(_0x3110b8[_0x413860(0x3ce)]);return await _0x5931fb[_0x413860(0x39d)](_0x3d1977);}catch(_0x1506b7){console[_0x413860(0x3d5)](_0x1506b7);}}async['delete'](_0x248cb2,_0x345c0d){const _0x638535=a0_0x13f4c8;try{let _0x4267df=this['getLabelModelForOwner'](_0x345c0d),_0x5c7308=A(_0x248cb2['where']);await _0x4267df[_0x638535(0x190)](_0x5c7308);}catch(_0x2f465a){console['error'](_0x2f465a);}}async['deleteAll'](_0x452e58){const _0x2111ba=a0_0x13f4c8;try{return await this['getLabelModelForOwner'](_0x452e58)[_0x2111ba(0x466)][_0x2111ba(0x344)](),{'success':!0x0};}catch(_0x5db10b){return console[_0x2111ba(0x3d5)](_0x5db10b),{'success':!0x1,'error':_0x5db10b};}}},kt=class{constructor(_0x583c8a){const _0x2d560=a0_0x13f4c8;this[_0x2d560(0x1eb)]=_0x583c8a;}async[a0_0x13f4c8(0x37f)]({instanceName:_0x58176c},_0x6bf05d){const _0x10fcd9=a0_0x13f4c8;return await this[_0x10fcd9(0x1eb)][_0x10fcd9(0x55e)][_0x58176c][_0x10fcd9(0x37f)](_0x6bf05d);}async[a0_0x13f4c8(0x170)]({instanceName:_0x221faf},_0x1afe5e){const _0x312824=a0_0x13f4c8;return await this[_0x312824(0x1eb)][_0x312824(0x55e)][_0x221faf][_0x312824(0x170)](_0x1afe5e);}async[a0_0x13f4c8(0x665)]({instanceName:_0x467787},_0xb3e7dd){const _0x43c8ab=a0_0x13f4c8;return await this[_0x43c8ab(0x1eb)][_0x43c8ab(0x55e)][_0x467787][_0x43c8ab(0x665)](_0xb3e7dd);}async[a0_0x13f4c8(0x3e0)]({instanceName:_0x3b5c7c},_0x3ac1a7){const _0x4cdef0=a0_0x13f4c8;return await this[_0x4cdef0(0x1eb)][_0x4cdef0(0x55e)][_0x3b5c7c][_0x4cdef0(0x619)](_0x3ac1a7);}async[a0_0x13f4c8(0xbf)]({instanceName:_0x463572},_0x436239){const _0x1d56d6=a0_0x13f4c8;return await this[_0x1d56d6(0x1eb)][_0x1d56d6(0x55e)][_0x463572][_0x1d56d6(0xbf)](_0x436239);}async[a0_0x13f4c8(0x64a)]({instanceName:_0x22d161},_0x3040fd){const _0x3a861e=a0_0x13f4c8;return await this[_0x3a861e(0x1eb)][_0x3a861e(0x55e)][_0x22d161][_0x3a861e(0x64a)](_0x3040fd);}async[a0_0x13f4c8(0x32b)]({instanceName:_0x200903},_0x388417){const _0x27fe47=a0_0x13f4c8;return await this[_0x27fe47(0x1eb)][_0x27fe47(0x55e)][_0x200903]['profilePicture'](_0x388417[_0x27fe47(0x41d)]);}async['fetchProfile']({instanceName:_0xfbbaf0},_0x38aca0){const _0x49d4cb=a0_0x13f4c8;return await this[_0x49d4cb(0x1eb)][_0x49d4cb(0x55e)][_0xfbbaf0][_0x49d4cb(0x4a9)](_0x38aca0[_0x49d4cb(0x41d)]);}async['updatePresence']({instanceName:_0x465165},_0x1ebe01){const _0x1742eb=a0_0x13f4c8;return await this[_0x1742eb(0x1eb)][_0x1742eb(0x55e)][_0x465165][_0x1742eb(0x22d)](_0x1ebe01);}async[a0_0x13f4c8(0x357)]({instanceName:_0x2ee331},_0x1ce1e0){const _0x112bc3=a0_0x13f4c8;return await this[_0x112bc3(0x1eb)][_0x112bc3(0x55e)][_0x2ee331]['fetchContacts'](_0x1ce1e0);}async['getBase64FromMediaMessage']({instanceName:_0x3a91d2},_0x1ca2a5){const _0x9695=a0_0x13f4c8;return await this[_0x9695(0x1eb)][_0x9695(0x55e)][_0x3a91d2][_0x9695(0x1f3)](_0x1ca2a5);}async['fetchMessages']({instanceName:_0x39a2ac},_0x377dd3){const _0x3208f6=a0_0x13f4c8;return await this[_0x3208f6(0x1eb)]['waInstances'][_0x39a2ac][_0x3208f6(0x164)](_0x377dd3);}async['fetchLabels']({instanceName:_0x38ae29}){const _0x5f32a7=a0_0x13f4c8;return await this[_0x5f32a7(0x1eb)][_0x5f32a7(0x55e)][_0x38ae29]['fetchLabels']();}async[a0_0x13f4c8(0x605)]({instanceName:_0x101c2d}){const _0x441d90=a0_0x13f4c8;return await this['waMonitor'][_0x441d90(0x55e)][_0x101c2d][_0x441d90(0x605)]();}async['fetchPrivacySettings']({instanceName:_0x3002e5}){const _0x2a8ca4=a0_0x13f4c8;return await this['waMonitor'][_0x2a8ca4(0x55e)][_0x3002e5]['fetchPrivacySettings']();}async[a0_0x13f4c8(0x526)]({instanceName:_0x3440f8},_0x5a9fc6){const _0x435272=a0_0x13f4c8;return await this[_0x435272(0x1eb)][_0x435272(0x55e)][_0x3440f8]['updatePrivacySettings'](_0x5a9fc6);}async['fetchBusinessProfile']({instanceName:_0x5a1238},_0x51bf18){const _0x367d25=a0_0x13f4c8;return await this[_0x367d25(0x1eb)]['waInstances'][_0x5a1238][_0x367d25(0x67f)](_0x51bf18['number']);}async[a0_0x13f4c8(0xb0)]({instanceName:_0x24c498},_0x31972b){const _0x488b84=a0_0x13f4c8;return await this[_0x488b84(0x1eb)]['waInstances'][_0x24c498][_0x488b84(0xb0)](_0x31972b[_0x488b84(0x5e2)]);}async['updateProfileStatus']({instanceName:_0x15d1ca},_0x5da2c1){const _0x44d531=a0_0x13f4c8;return await this[_0x44d531(0x1eb)][_0x44d531(0x55e)][_0x15d1ca]['updateProfileStatus'](_0x5da2c1[_0x44d531(0x254)]);}async[a0_0x13f4c8(0x2dd)]({instanceName:_0x259209},_0x2b017f){const _0x3cdce0=a0_0x13f4c8;return await this[_0x3cdce0(0x1eb)][_0x3cdce0(0x55e)][_0x259209]['updateProfilePicture'](_0x2b017f[_0x3cdce0(0x627)]);}async['removeProfilePicture']({instanceName:_0x1d77ab},_0x5b8eb2){const _0x4a1fbb=a0_0x13f4c8;return await this[_0x4a1fbb(0x1eb)]['waInstances'][_0x1d77ab][_0x4a1fbb(0x116)]();}},Rs=require('@whiskeysockets/baileys'),Lt=class c{constructor(_0x420df9,_0x4ee180,_0x145834,_0x1c1d1f,_0x3f7c79){const _0x59dc33=a0_0x13f4c8;this[_0x59dc33(0x1eb)]=_0x420df9,this[_0x59dc33(0x5af)]=_0x4ee180,this[_0x59dc33(0x65c)]=_0x145834,this['eventEmitter']=_0x1c1d1f,this[_0x59dc33(0x12c)]=_0x3f7c79,this['logger']=new v(c[_0x59dc33(0x5e2)]);}async[a0_0x13f4c8(0x234)]({instanceName:_0x4f4ecc,apikey:_0x17c09d,number:_0x3c06a4,proxy:_0x554d94=!0x0}){const _0x148711=a0_0x13f4c8;try{let _0x44d53d=new ye(this[_0x148711(0x5af)],this[_0x148711(0x3ff)],this[_0x148711(0x65c)]);_0x44d53d[_0x148711(0x3a7)]=_0x4f4ecc,this['waMonitor'][_0x148711(0x55e)][_0x44d53d[_0x148711(0x3a7)]]=_0x44d53d;let _0x2af6e7={};_0x17c09d?(await this[_0x148711(0x65c)]['auth']['create']({'apikey':_0x17c09d},_0x4f4ecc),_0x2af6e7[_0x148711(0xe2)]=_0x17c09d):_0x2af6e7=await this[_0x148711(0x12c)][_0x148711(0x449)]({'instanceName':_0x44d53d[_0x148711(0x3a7)]});let _0x4b62db;return await _0x44d53d[_0x148711(0x587)](_0x3c06a4,_0x554d94),await(0x0,Rs[_0x148711(0x274)])(0x7d0),_0x4b62db=_0x44d53d['qrCode'],{'instance':{'instanceName':_0x44d53d['instanceName'],'status':_0x148711(0x447)},'hash':_0x2af6e7,'qrcode':_0x4b62db};}catch(_0x1dbc7f){this[_0x148711(0x19a)]['error'](_0x1dbc7f);}}async[a0_0x13f4c8(0x6c)]({instanceName:_0x3e788c,number:_0x3fd835=null,proxy:_0x5d0dd2=!0x0}){const _0x2d48d0=a0_0x13f4c8;try{let _0x128c15=this[_0x2d48d0(0x1eb)][_0x2d48d0(0x55e)][_0x3e788c];switch(_0x128c15?.[_0x2d48d0(0x377)]?.[_0x2d48d0(0x103)]){case'close':return await _0x128c15[_0x2d48d0(0x587)](_0x3fd835,_0x5d0dd2),await(0x0,Rs['delay'])(0x7d0),_0x128c15[_0x2d48d0(0x5a7)];case'connecting':return _0x128c15[_0x2d48d0(0x5a7)];default:return await this[_0x2d48d0(0x21b)]({'instanceName':_0x3e788c});}}catch(_0x1b80cf){this[_0x2d48d0(0x19a)][_0x2d48d0(0x4e2)](_0x1b80cf);}}async['connectionState']({instanceName:_0x45c1be}){const _0x144d79=a0_0x13f4c8;let _0x491741=this['waMonitor']['waInstances'][_0x45c1be][_0x144d79(0x377)],_0x5bc2c3=null;_0x491741[_0x144d79(0x103)]===_0x144d79(0x13c)&&_0x45c1be&&(_0x5bc2c3=await this[_0x144d79(0x1eb)][_0x144d79(0x46c)](_0x45c1be));let _0x2267b1=null;return _0x491741[_0x144d79(0x103)]==='connecting'&&_0x45c1be&&(_0x2267b1=this['waMonitor']['waInstances'][_0x45c1be]['qrCode']),{'instance':_0x45c1be,'connectionStatus':_0x491741,'instanceInfo':_0x5bc2c3,'qrcode':_0x2267b1};}async['restartInstance']({instanceName:_0x5d9a47}){const _0x161d47=a0_0x13f4c8;try{return this[_0x161d47(0x1eb)][_0x161d47(0x55e)][_0x5d9a47]?.[_0x161d47(0x147)]?.['ws']?.[_0x161d47(0x62f)](),{'status':_0x161d47(0x184),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x576408){this[_0x161d47(0x19a)][_0x161d47(0x3d5)](_0x576408);}}async[a0_0x13f4c8(0x653)]({instanceName:_0xfeee1e}){const _0x15c20f=a0_0x13f4c8;return _0xfeee1e?this[_0x15c20f(0x1eb)][_0x15c20f(0x46c)](_0xfeee1e):this['waMonitor'][_0x15c20f(0x46c)]();}async[a0_0x13f4c8(0x46e)]({instanceName:_0x44fe47}){const _0x188de5=a0_0x13f4c8;try{return await this['waMonitor'][_0x188de5(0x55e)][_0x44fe47]?.[_0x188de5(0x147)]?.[_0x188de5(0x46e)](_0x188de5(0x370)+_0x44fe47),{'error':!0x1,'message':_0x188de5(0x444)};}catch(_0x52a6dd){throw new O(_0x52a6dd[_0x188de5(0x603)]());}}async[a0_0x13f4c8(0x423)]({instanceName:_0x4f9709}){const _0x23e981=a0_0x13f4c8;if((await this['connectionState']({'instanceName':_0x4f9709}))[_0x23e981(0x377)][_0x23e981(0x103)]===_0x23e981(0x13c))throw new m([_0x23e981(0x30c),_0x23e981(0x5c1)]);try{return delete this[_0x23e981(0x1eb)]['waInstances'][_0x4f9709],{'error':!0x1,'message':_0x23e981(0x32c)};}catch(_0x176889){throw new m(_0x176889[_0x23e981(0x603)]());}}},Z=require(a0_0x13f4c8(0x1a5)),jt=class{constructor(_0xf6720f){const _0x3e93dc=a0_0x13f4c8;this[_0x3e93dc(0x1eb)]=_0xf6720f;}async[a0_0x13f4c8(0x326)]({instanceName:_0x17e34e},_0x309795){const _0x584bba=a0_0x13f4c8;return await this[_0x584bba(0x1eb)][_0x584bba(0x55e)][_0x17e34e]['textMessage'](_0x309795);}async[a0_0x13f4c8(0xa4)]({instanceName:_0x5be705},_0x267de0){const _0x5b89=a0_0x13f4c8;return await this[_0x5b89(0x1eb)]['waInstances'][_0x5be705]['menuMessage'](_0x267de0);}async[a0_0x13f4c8(0x3ec)]({instanceName:_0x242686},_0x58674c){const _0xdc5659=a0_0x13f4c8;if((0x0,Z[_0xdc5659(0x544)])(_0x58674c?.[_0xdc5659(0x267)]?.[_0xdc5659(0x2db)])&&!_0x58674c?.[_0xdc5659(0x267)]?.['fileName'])throw new m(_0xdc5659(0x461));if((0x0,Z[_0xdc5659(0x3b1)])(_0x58674c?.[_0xdc5659(0x267)]?.[_0xdc5659(0x2db)])||(0x0,Z[_0xdc5659(0x544)])(_0x58674c?.['mediaMessage']?.[_0xdc5659(0x2db)]))return await this['waMonitor']['waInstances'][_0x242686][_0xdc5659(0x267)](_0x58674c);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x13f4c8(0x141)]({instanceName:_0x2134e8},_0x2ec497){const _0xa3029b=a0_0x13f4c8;if((0x0,Z[_0xa3029b(0x3b1)])(_0x2ec497[_0xa3029b(0x5be)]['image'])||(0x0,Z[_0xa3029b(0x544)])(_0x2ec497[_0xa3029b(0x5be)][_0xa3029b(0x340)]))return await this[_0xa3029b(0x1eb)]['waInstances'][_0x2134e8][_0xa3029b(0x427)](_0x2ec497);throw new m(_0xa3029b(0x123));}async[a0_0x13f4c8(0x406)]({instanceName:_0x50ccdf},_0x1e9a87){const _0x57e206=a0_0x13f4c8;if((0x0,Z[_0x57e206(0x3b1)])(_0x1e9a87[_0x57e206(0x1b6)][_0x57e206(0xfe)])||(0x0,Z[_0x57e206(0x544)])(_0x1e9a87[_0x57e206(0x1b6)][_0x57e206(0xfe)]))return await this['waMonitor'][_0x57e206(0x55e)][_0x50ccdf][_0x57e206(0x4b5)](_0x1e9a87);throw new m(_0x57e206(0x123));}async[a0_0x13f4c8(0x4c7)]({instanceName:_0x2c2a53},_0x39ea34){const _0x1e3cb5=a0_0x13f4c8;if((0x0,Z[_0x1e3cb5(0x544)])(_0x39ea34[_0x1e3cb5(0x327)]['mediaMessage']?.[_0x1e3cb5(0x2db)])&&!_0x39ea34[_0x1e3cb5(0x327)][_0x1e3cb5(0x267)]?.[_0x1e3cb5(0x316)])throw new m(_0x1e3cb5(0x461));return await this[_0x1e3cb5(0x1eb)]['waInstances'][_0x2c2a53][_0x1e3cb5(0x327)](_0x39ea34);}async['sendLocation']({instanceName:_0xc66da5},_0x328753){const _0x2e76c0=a0_0x13f4c8;return await this[_0x2e76c0(0x1eb)][_0x2e76c0(0x55e)][_0xc66da5][_0x2e76c0(0x5ae)](_0x328753);}async[a0_0x13f4c8(0x173)]({instanceName:_0x1afe21},_0x2c9dee){const _0x183c8b=a0_0x13f4c8;return await this[_0x183c8b(0x1eb)][_0x183c8b(0x55e)][_0x1afe21][_0x183c8b(0x280)](_0x2c9dee);}async[a0_0x13f4c8(0x496)]({instanceName:_0x39c56d},_0x176985){const _0x385523=a0_0x13f4c8;return await this[_0x385523(0x1eb)]['waInstances'][_0x39c56d][_0x385523(0x2ab)](_0x176985);}async[a0_0x13f4c8(0x3a0)]({instanceName:_0x328acb},_0x4d534e){const _0x2c7533=a0_0x13f4c8;return await this[_0x2c7533(0x1eb)][_0x2c7533(0x55e)][_0x328acb][_0x2c7533(0x303)](_0x4d534e);}async[a0_0x13f4c8(0x331)]({instanceName:_0x1b9ce2},_0x4286d5){const _0x3d216c=a0_0x13f4c8;if(!_0x4286d5[_0x3d216c(0x323)]['reaction'][_0x3d216c(0x5c7)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x3d216c(0x65e));return await this[_0x3d216c(0x1eb)][_0x3d216c(0x55e)][_0x1b9ce2][_0x3d216c(0x323)](_0x4286d5);}async['sendStatus']({instanceName:_0x344465},_0x537940){const _0xab5a74=a0_0x13f4c8;return await this[_0xab5a74(0x1eb)]['waInstances'][_0x344465]['statusMessage'](_0x537940);}},Er=require(a0_0x13f4c8(0x49d)),Ts=require(a0_0x13f4c8(0x4e7)),Ft=class c{constructor(_0x330fa7,_0x215ce3,_0x517128){const _0x5dd865=a0_0x13f4c8;this[_0x5dd865(0x5af)]=_0x330fa7,this[_0x5dd865(0x1eb)]=_0x215ce3,this['repository']=_0x517128,this[_0x5dd865(0x19a)]=new v(c['name']);}async[a0_0x13f4c8(0xd1)](_0x1eacfc){const _0x61384e=a0_0x13f4c8;let _0x2a6e9c=this[_0x61384e(0x5af)][_0x61384e(0x208)](_0x61384e(0x3bb))['JWT'],_0x5e8cf8=(0x0,Er[_0x61384e(0x28d)])({'instanceName':_0x1eacfc[_0x61384e(0x3a7)],'apiName':ze,'tokenId':(0x0,Ts['v4'])()},_0x2a6e9c[_0x61384e(0x25a)],{'expiresIn':_0x2a6e9c[_0x61384e(0x6b7)],'encoding':_0x61384e(0x1fd),'subject':_0x61384e(0x552)}),_0x8ac9b6=await this[_0x61384e(0x65c)][_0x61384e(0x206)][_0x61384e(0x419)]({'jwt':_0x5e8cf8},_0x1eacfc[_0x61384e(0x3a7)]);if(_0x8ac9b6[_0x61384e(0x3d5)])throw this['logger'][_0x61384e(0x3d5)]({'localError':c[_0x61384e(0x5e2)]+'.jwt','error':_0x8ac9b6[_0x61384e(0x3d5)]}),new m(_0x61384e(0x50e),_0x8ac9b6[_0x61384e(0x3d5)]?.[_0x61384e(0x603)]());return{'jwt':_0x5e8cf8};}async[a0_0x13f4c8(0xe2)](_0x44b0f1){const _0x34d3dd=a0_0x13f4c8;let _0xad1100=(0x0,Ts['v4'])()[_0x34d3dd(0x5ef)](),_0x1fa942=await this[_0x34d3dd(0x65c)][_0x34d3dd(0x206)][_0x34d3dd(0x419)]({'apikey':_0xad1100},_0x44b0f1[_0x34d3dd(0x3a7)]);if(_0x1fa942[_0x34d3dd(0x3d5)])throw this[_0x34d3dd(0x19a)][_0x34d3dd(0x3d5)]({'localError':c[_0x34d3dd(0x5e2)]+_0x34d3dd(0x5f3),'error':_0x1fa942[_0x34d3dd(0x3d5)]}),new m(_0x34d3dd(0x50e),_0x1fa942[_0x34d3dd(0x3d5)]?.[_0x34d3dd(0x603)]());return{'apikey':_0xad1100};}async[a0_0x13f4c8(0x449)](_0x12b2dd){const _0x400094=a0_0x13f4c8;let _0x45f561=this['configService'][_0x400094(0x208)](_0x400094(0x3bb));return await this[_0x45f561[_0x400094(0x450)]](_0x12b2dd);}},qt=class{constructor(_0xd4d5fd){const _0x2d39ae=a0_0x13f4c8;this[_0x2d39ae(0x1eb)]=_0xd4d5fd;}async[a0_0x13f4c8(0x11c)](_0x24e6b0,_0x2ebf86){const _0x382de9=a0_0x13f4c8;return await this[_0x382de9(0x1eb)][_0x382de9(0x55e)][_0x24e6b0[_0x382de9(0x3a7)]]['createGroup'](_0x2ebf86);}async[a0_0x13f4c8(0x673)](_0x13b713,_0x364635){const _0x6dcbb8=a0_0x13f4c8;return await this['waMonitor'][_0x6dcbb8(0x55e)][_0x13b713[_0x6dcbb8(0x3a7)]]['updateGroupPicture'](_0x364635);}async[a0_0x13f4c8(0xeb)](_0x49cafe,_0xc91bb9){const _0x850f06=a0_0x13f4c8;return await this['waMonitor'][_0x850f06(0x55e)][_0x49cafe[_0x850f06(0x3a7)]][_0x850f06(0xeb)](_0xc91bb9);}async[a0_0x13f4c8(0x142)](_0x6f165f,_0x46847c){const _0xd5514e=a0_0x13f4c8;return await this['waMonitor'][_0xd5514e(0x55e)][_0x6f165f[_0xd5514e(0x3a7)]]['groupName'](_0x46847c);}async[a0_0x13f4c8(0x105)](_0x4d735e,_0x1ce376){const _0x27a13f=a0_0x13f4c8;return await this['waMonitor'][_0x27a13f(0x55e)][_0x4d735e['instanceName']][_0x27a13f(0x105)](_0x1ce376);}async[a0_0x13f4c8(0x242)](_0x269db9,_0x240d9e){const _0x54ddd9=a0_0x13f4c8;return await this[_0x54ddd9(0x1eb)][_0x54ddd9(0x55e)][_0x269db9['instanceName']]['findGroup'](_0x240d9e);}async['findGroups'](_0x318dc4){const _0x36052e=a0_0x13f4c8;return await this[_0x36052e(0x1eb)][_0x36052e(0x55e)][_0x318dc4[_0x36052e(0x3a7)]][_0x36052e(0x3e4)]();}async['inviteCode'](_0x495c30,_0x1c3537){const _0x2e163b=a0_0x13f4c8;return await this[_0x2e163b(0x1eb)][_0x2e163b(0x55e)][_0x495c30[_0x2e163b(0x3a7)]][_0x2e163b(0x132)](_0x1c3537);}async['joinGroup'](_0x5b5a84,_0x254a69){const _0x532fb4=a0_0x13f4c8;return await this[_0x532fb4(0x1eb)][_0x532fb4(0x55e)][_0x5b5a84[_0x532fb4(0x3a7)]][_0x532fb4(0xa2)](_0x254a69);}async['revokeInviteCode'](_0x29865b,_0x5d449f){const _0x5d7d20=a0_0x13f4c8;return await this[_0x5d7d20(0x1eb)][_0x5d7d20(0x55e)][_0x29865b['instanceName']][_0x5d7d20(0x590)](_0x5d449f);}async['findParticipants'](_0x5b576b,_0x1437a1){const _0xc594c7=a0_0x13f4c8;return await this['waMonitor'][_0xc594c7(0x55e)][_0x5b576b[_0xc594c7(0x3a7)]][_0xc594c7(0x3bc)](_0x1437a1);}async[a0_0x13f4c8(0x153)](_0x298366,_0x513924){const _0x1d2fce=a0_0x13f4c8;return await this[_0x1d2fce(0x1eb)][_0x1d2fce(0x55e)][_0x298366[_0x1d2fce(0x3a7)]]['updateGParticipant'](_0x513924);}async[a0_0x13f4c8(0x18b)](_0x520db1,_0x13d2fe){const _0x3528b0=a0_0x13f4c8;return await this['waMonitor'][_0x3528b0(0x55e)][_0x520db1[_0x3528b0(0x3a7)]]['toggleEphemeral'](_0x13d2fe);}async[a0_0x13f4c8(0x1f7)](_0x1b246c,_0x4f1424){const _0x492f49=a0_0x13f4c8;return await this[_0x492f49(0x1eb)]['waInstances'][_0x1b246c[_0x492f49(0x3a7)]]['leaveGroup'](_0x4f1424);}},Ut=class{constructor(_0x12d891){const _0x1f9141=a0_0x13f4c8;this[_0x1f9141(0x1eb)]=_0x12d891;}[a0_0x13f4c8(0x419)](_0x13ebe,_0x1c1a3d){const _0x17978c=a0_0x13f4c8;return this[_0x17978c(0x1eb)][_0x17978c(0x55e)][_0x13ebe[_0x17978c(0x3a7)]][_0x17978c(0x3ed)](_0x1c1a3d);}async[a0_0x13f4c8(0x39d)](_0xb4067a){const _0x3cfe3c=a0_0x13f4c8;try{return await this[_0x3cfe3c(0x1eb)][_0x3cfe3c(0x55e)][_0xb4067a['instanceName']][_0x3cfe3c(0x6be)]();}catch{return{'enabled':null,'url':''};}}},Yd=new v(a0_0x13f4c8(0x649)),Jt=class{constructor(_0xdb6fa7){const _0x3fe23c=a0_0x13f4c8;this[_0x3fe23c(0x1eb)]=_0xdb6fa7;}async[a0_0x13f4c8(0x159)](_0x50c542,_0x18fe8f){const _0xee4bf7=a0_0x13f4c8;return await this[_0xee4bf7(0x1eb)][_0xee4bf7(0x55e)][_0x50c542['instanceName']]['editScheduleMessage'](_0x18fe8f);}async['getScheduleMessage'](_0x3dc1fb){const _0x53dd0b=a0_0x13f4c8;return await this['waMonitor']['waInstances'][_0x3dc1fb[_0x53dd0b(0x3a7)]][_0x53dd0b(0xd5)]();}async[a0_0x13f4c8(0xf4)](_0x1878bb){const _0x26516e=a0_0x13f4c8;return await this[_0x26516e(0x1eb)][_0x26516e(0x55e)][_0x1878bb[_0x26516e(0x3a7)]][_0x26516e(0xf4)]();}async[a0_0x13f4c8(0xb7)](_0x339585){const _0x3d5f26=a0_0x13f4c8;return await this['waMonitor'][_0x3d5f26(0x55e)][_0x339585[_0x3d5f26(0x3a7)]][_0x3d5f26(0xb7)]();}async[a0_0x13f4c8(0x4df)](_0x3b98aa,_0x1190c3){const _0x147169=a0_0x13f4c8;return await this[_0x147169(0x1eb)][_0x147169(0x55e)][_0x3b98aa[_0x147169(0x3a7)]][_0x147169(0x4df)](_0x1190c3);}async[a0_0x13f4c8(0x3b5)](_0x164552,_0x2077cb){const _0x38f933=a0_0x13f4c8;return await this[_0x38f933(0x1eb)][_0x38f933(0x55e)][_0x164552[_0x38f933(0x3a7)]][_0x38f933(0x3b5)](_0x2077cb);}async['updateFlowConfig'](_0x3bcde0,_0x43703b){const _0x7bf81c=a0_0x13f4c8;return await this[_0x7bf81c(0x1eb)][_0x7bf81c(0x55e)][_0x3bcde0[_0x7bf81c(0x3a7)]][_0x7bf81c(0x157)](_0x43703b);}async['startFlow'](_0x74d624,_0x1f5885){const _0x9ad893=a0_0x13f4c8;return await this[_0x9ad893(0x1eb)][_0x9ad893(0x55e)][_0x74d624[_0x9ad893(0x3a7)]][_0x9ad893(0x46f)](_0x1f5885);}async[a0_0x13f4c8(0x21d)](_0x21cf48,_0x51557f){const _0x3fdfee=a0_0x13f4c8;return await this['waMonitor'][_0x3fdfee(0x55e)][_0x21cf48[_0x3fdfee(0x3a7)]][_0x3fdfee(0x21d)](_0x51557f);}async['fetchConversation'](_0x1dd553,_0x4bbc7b){const _0x404799=a0_0x13f4c8;return await this[_0x404799(0x1eb)][_0x404799(0x55e)][_0x1dd553[_0x404799(0x3a7)]][_0x404799(0x388)](_0x4bbc7b);}async['editConversation'](_0x1182f0,_0x10dfe3){const _0x3c4b4f=a0_0x13f4c8;return await this[_0x3c4b4f(0x1eb)][_0x3c4b4f(0x55e)][_0x1182f0['instanceName']]['editConversation'](_0x10dfe3);}async[a0_0x13f4c8(0x3fd)](_0x160a04,_0x3d134e){const _0x2e3881=a0_0x13f4c8;return await this[_0x2e3881(0x1eb)]['waInstances'][_0x160a04[_0x2e3881(0x3a7)]][_0x2e3881(0x3fd)](_0x3d134e);}async['getFlow'](_0x3df087,_0x3f2d4b){const _0x2108b6=a0_0x13f4c8;return await this[_0x2108b6(0x1eb)][_0x2108b6(0x55e)][_0x3df087[_0x2108b6(0x3a7)]][_0x2108b6(0xd9)](_0x3f2d4b[_0x2108b6(0x5e2)]);}async['createFlow'](_0x2a968f,_0x47b138){const _0x4c6308=a0_0x13f4c8;return await this['waMonitor'][_0x4c6308(0x55e)][_0x2a968f[_0x4c6308(0x3a7)]][_0x4c6308(0x202)](_0x47b138);}async[a0_0x13f4c8(0x4fa)](_0x12075f,_0x480cb0){const _0x1443bd=a0_0x13f4c8;return await this[_0x1443bd(0x1eb)]['waInstances'][_0x12075f['instanceName']][_0x1443bd(0x4fa)](_0x480cb0);}async['editFlowBlock'](_0x4907ce,_0x5dcf4f){const _0x1bbb25=a0_0x13f4c8;return await this[_0x1bbb25(0x1eb)][_0x1bbb25(0x55e)][_0x4907ce['instanceName']][_0x1bbb25(0x638)](_0x5dcf4f);}async[a0_0x13f4c8(0x43e)](_0x1dbf2c,_0x15a2d0){const _0x38a420=a0_0x13f4c8;return await this['waMonitor']['waInstances'][_0x1dbf2c['instanceName']][_0x38a420(0x43e)](_0x15a2d0);}async[a0_0x13f4c8(0x4d4)](_0x402d41,_0x62a8be){const _0x24c895=a0_0x13f4c8;return await this['waMonitor'][_0x24c895(0x55e)][_0x402d41[_0x24c895(0x3a7)]][_0x24c895(0x4d4)](_0x62a8be);}async[a0_0x13f4c8(0x40a)](_0xa74ed7,_0x5da96b){const _0x481239=a0_0x13f4c8;return await this['waMonitor'][_0x481239(0x55e)][_0xa74ed7[_0x481239(0x3a7)]][_0x481239(0x40a)](_0x5da96b);}async['editFlowVaredit'](_0x21ba36,_0x4e2852){const _0x336fd2=a0_0x13f4c8;return await this[_0x336fd2(0x1eb)][_0x336fd2(0x55e)][_0x21ba36[_0x336fd2(0x3a7)]][_0x336fd2(0x3f1)](_0x4e2852);}async[a0_0x13f4c8(0x672)](_0x486c5d,_0x4bbf22){const _0x31b210=a0_0x13f4c8;return await this[_0x31b210(0x1eb)][_0x31b210(0x55e)][_0x486c5d[_0x31b210(0x3a7)]]['editFlowVariable'](_0x4bbf22);}async[a0_0x13f4c8(0x107)](_0x4960bf,_0x596a8b){const _0x1c433f=a0_0x13f4c8;return await this[_0x1c433f(0x1eb)]['waInstances'][_0x4960bf[_0x1c433f(0x3a7)]][_0x1c433f(0x107)](_0x596a8b[_0x1c433f(0x5e2)]);}async[a0_0x13f4c8(0x517)](_0x1e7ab7){const _0x1993ac=a0_0x13f4c8;return await this['waMonitor']['waInstances'][_0x1e7ab7[_0x1993ac(0x3a7)]][_0x1993ac(0x517)]();}},Vt=class{constructor(_0xaf2e51){const _0x1dc8b0=a0_0x13f4c8;this[_0x1dc8b0(0x505)]=_0xaf2e51;}async[a0_0x13f4c8(0x41b)](_0x2c29c2,_0x545bce){return this['webhookService']['create'](_0x2c29c2,_0x545bce);}async[a0_0x13f4c8(0x6be)](_0x199ece){const _0x3806c6=a0_0x13f4c8;return this['webhookService'][_0x3806c6(0x39d)](_0x199ece);}},Bt=class extends I{constructor(_0x2185ee,_0x4219bc){const _0x17f070=a0_0x13f4c8;super(_0x4219bc),this[_0x17f070(0x54a)]=_0x2185ee,this[_0x17f070(0x5af)]=_0x4219bc;}async['create'](_0x299a47,_0x18da69){const _0x7a7e29=a0_0x13f4c8;try{return this[_0x7a7e29(0x408)][_0x7a7e29(0x4d0)]?{'insertCount':(await this[_0x7a7e29(0x54a)][_0x7a7e29(0x23b)]({'_id':_0x18da69},{..._0x299a47},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x1d454d){return _0x1d454d;}}async[a0_0x13f4c8(0x5c3)](_0x3a0dc8){const _0x1366cc=a0_0x13f4c8;try{if(this['dbSettings'][_0x1366cc(0x4d0)]){await this['webhookModel'][_0x1366cc(0x110)]({'_id':_0x3a0dc8});return;}}catch(_0x36f595){return{'error':_0x36f595};}}async['find'](_0x3b2b52){const _0x303b1b=a0_0x13f4c8;try{if(this['dbSettings'][_0x303b1b(0x4d0)])return await this['webhookModel']['findOne']({'_id':_0x3b2b52});}catch{return{};}}},Gt=class extends I{constructor(_0x59125c,_0x4090f2){const _0x2c2b82=a0_0x13f4c8;super(_0x4090f2),this[_0x2c2b82(0x188)]=_0x59125c,this[_0x2c2b82(0x5af)]=_0x4090f2,this[_0x2c2b82(0x206)]=_0x4090f2[_0x2c2b82(0x208)]('AUTHENTICATION');}async[a0_0x13f4c8(0x419)](_0x5c26ec,_0xdd993c){const _0x420b0e=a0_0x13f4c8;try{if(this[_0x420b0e(0x408)][_0x420b0e(0x4d0)])return{'insertCount':(await this['authModel']['updateOne']({'_id':_0xdd993c},{'$set':{..._0x5c26ec}},{'upsert':!0x0}))[_0x420b0e(0x1ff)]};}catch(_0x1b9941){return{'error':_0x1b9941};}}async['updateAll'](_0x2a25bc,_0x1f2cfc){const _0x5adaf3=a0_0x13f4c8;try{if(this[_0x5adaf3(0x408)][_0x5adaf3(0x4d0)])return{'insertCount':(await this[_0x5adaf3(0x188)][_0x5adaf3(0x175)](_0x2a25bc,{'$set':_0x1f2cfc},{'upsert':!0x1}))[_0x5adaf3(0x1ff)]};throw new Error(_0x5adaf3(0x5b8));}catch(_0x32fcbc){return{'error':_0x32fcbc};}}async[a0_0x13f4c8(0x190)](_0x5566c1){const _0x5da596=a0_0x13f4c8;try{if(this['dbSettings']['ENABLED'])return{'insertCount':(await this[_0x5da596(0x188)][_0x5da596(0x190)](_0x5566c1))['deletedCount']};throw new Error(_0x5da596(0x5b8));}catch(_0x4794f5){return{'error':_0x4794f5};}}async['delete'](_0x157009){const _0x31f6a2=a0_0x13f4c8;try{if(this['dbSettings'][_0x31f6a2(0x4d0)]){await this[_0x31f6a2(0x188)][_0x31f6a2(0x110)]({'_id':_0x157009});return;}}catch(_0x4e280a){return{'error':_0x4e280a};}}async['find'](_0x1c4d55){const _0x1265e4=a0_0x13f4c8;try{if(this[_0x1265e4(0x408)][_0x1265e4(0x4d0)])return await this[_0x1265e4(0x188)][_0x1265e4(0x314)]({'_id':_0x1c4d55});}catch{return{};}}async[a0_0x13f4c8(0x4ed)](){const _0x233617=a0_0x13f4c8;try{if(this['dbSettings']['ENABLED'])return await this['authModel'][_0x233617(0x39d)]();}catch{return[];}}},Wt=class extends I{[a0_0x13f4c8(0x639)](_0x22dd0b){return sa(_0x22dd0b);}async[a0_0x13f4c8(0x11b)](_0x779310){const _0x1c68c1=a0_0x13f4c8;try{let _0x45a629=aa,_0x2eb29a=this['getFlowModelForOwner'](_0x779310),_0x2b64dd=await _0x45a629['find']({'owner':_0x779310})[_0x1c68c1(0x62b)](),_0x13d615=[],_0x1de43d=[];for(let _0x430d64 of _0x2b64dd)await _0x2eb29a[_0x1c68c1(0x61f)](_0x430d64[_0x1c68c1(0x1f1)])[_0x1c68c1(0x62b)]()||(_0x13d615[_0x1c68c1(0x4b1)](_0x430d64),_0x1de43d[_0x1c68c1(0x4b1)](_0x430d64[_0x1c68c1(0x1f1)]));return _0x13d615[_0x1c68c1(0xa3)]>0x0&&await _0x2eb29a[_0x1c68c1(0x554)](_0x13d615,{'ordered':!0x1}),{'success':!0x0};}catch(_0x532d29){return console[_0x1c68c1(0x3d5)]('Erro\x20ao\x20copiar\x20dados:',_0x532d29),{'success':!0x1,'error':_0x532d29};}}async[a0_0x13f4c8(0x5c3)](_0x36f779,_0x20a7de){const _0x4becd3=a0_0x13f4c8;try{let _0x4cc48f=this[_0x4becd3(0x639)](_0x20a7de),_0x539d52=A(_0x36f779[_0x4becd3(0x3ce)]);return{'deletedCount':(await _0x4cc48f['deleteMany'](_0x539d52))[_0x4becd3(0x3c6)]};}catch(_0x2b87ea){return{'error':_0x2b87ea?.[_0x4becd3(0x603)]()};}}async[a0_0x13f4c8(0x110)](_0x5c836b,_0x3de2a8){const _0x578293=a0_0x13f4c8;try{let _0x4db70d=this['getFlowModelForOwner'](_0x3de2a8),_0x1644d6=A(_0x5c836b[_0x578293(0x3ce)]);return{'deletedCount':(await _0x4db70d[_0x578293(0x110)](_0x1644d6))[_0x578293(0x3c6)]};}catch(_0x1c8d8c){return{'error':_0x1c8d8c?.[_0x578293(0x603)]()};}}async[a0_0x13f4c8(0x405)](_0x386ead,_0x381bdf,_0x56c6bd){const _0x20d790=a0_0x13f4c8;try{return await this[_0x20d790(0x639)](_0x56c6bd)['findByIdAndUpdate'](_0x386ead,_0x381bdf,{'new':!0x0});}catch(_0x2826fe){return console['error'](_0x20d790(0x460),_0x2826fe),null;}}async[a0_0x13f4c8(0x5dc)](_0xed0d7,_0x4def1b){const _0x132a48=a0_0x13f4c8;try{let _0x34210b=this[_0x132a48(0x639)](_0x4def1b);return await new _0x34210b(_0xed0d7)[_0x132a48(0x546)]();}catch(_0x333aaa){return console[_0x132a48(0x3d5)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x333aaa),null;}}async[a0_0x13f4c8(0x175)](_0x3faf50,_0x352809,_0x222c0f){const _0x2f1eea=a0_0x13f4c8;try{return{'modifiedCount':(await this[_0x2f1eea(0x639)](_0x222c0f)['updateMany'](_0x3faf50,{'$set':_0x352809}))[_0x2f1eea(0x1ff)]};}catch(_0x2161be){return console['error'](_0x2f1eea(0x4a1),_0x2161be),{'error':_0x2161be};}}async[a0_0x13f4c8(0x4ed)](_0x5f00d4,_0x6eda45){const _0x4ab091=a0_0x13f4c8;try{let _0x74053d=this['getFlowModelForOwner'](_0x6eda45),_0xb25765=A(_0x5f00d4[_0x4ab091(0x3ce)]);return await _0x74053d['find'](_0xb25765)['limit'](_0x5f00d4?.['limit']??0x0)[_0x4ab091(0x62b)]();}catch{return[];}}async[a0_0x13f4c8(0x314)](_0x5e398f,_0x176a58){const _0x1b0e8a=a0_0x13f4c8;try{let _0x243cd5=this[_0x1b0e8a(0x639)](_0x176a58),_0x48cca6=A(_0x5e398f[_0x1b0e8a(0x3ce)]);return await _0x243cd5[_0x1b0e8a(0x314)](_0x48cca6)[_0x1b0e8a(0x62b)]();}catch{return null;}}async[a0_0x13f4c8(0x28a)](_0x498cfc){const _0xe2696c=a0_0x13f4c8;try{return await this['getFlowModelForOwner'](_0x498cfc)[_0xe2696c(0x466)][_0xe2696c(0x344)](),{'success':!0x0};}catch(_0x1fcca4){return console[_0xe2696c(0x3d5)](_0x1fcca4),{'success':!0x1,'error':_0x1fcca4};}}},zt=class extends I{[a0_0x13f4c8(0x436)](_0xa9cf18){return oa(_0xa9cf18);}async[a0_0x13f4c8(0x11b)](_0x157896){const _0x224e6b=a0_0x13f4c8;try{let _0x2d77ff=ia,_0x3ac4b2=this[_0x224e6b(0x436)](_0x157896),_0x3003a8=await _0x2d77ff[_0x224e6b(0x39d)]({'owner':_0x157896})[_0x224e6b(0x62b)](),_0x32a8d0=[],_0x18042a=[];for(let _0x28cbd4 of _0x3003a8)await _0x3ac4b2['findById'](_0x28cbd4[_0x224e6b(0x1f1)])[_0x224e6b(0x62b)]()||(_0x32a8d0[_0x224e6b(0x4b1)](_0x28cbd4),_0x18042a[_0x224e6b(0x4b1)](_0x28cbd4['_id']));return _0x32a8d0[_0x224e6b(0xa3)]>0x0&&await _0x3ac4b2[_0x224e6b(0x554)](_0x32a8d0,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4816b4){return console[_0x224e6b(0x3d5)](_0x224e6b(0x102),_0x4816b4),{'success':!0x1,'error':_0x4816b4};}}async[a0_0x13f4c8(0x209)](_0x8d17b4){const _0x348908=a0_0x13f4c8;if(_0x8d17b4['length']!==0x0)try{return{'insertCount':(await this[_0x348908(0x436)](_0x8d17b4[0x0][_0x348908(0xc1)])[_0x348908(0x554)]([..._0x8d17b4]))['length']};}catch(_0x27f32e){return _0x27f32e;}}async[a0_0x13f4c8(0x5c3)](_0x20f3f0,_0x3743fa){const _0x19e6e1=a0_0x13f4c8;try{let _0x18ba18=this[_0x19e6e1(0x436)](_0x3743fa),_0xbbb96a=A(_0x20f3f0[_0x19e6e1(0x3ce)]);return{'deletedCount':(await _0x18ba18['deleteMany'](_0xbbb96a))[_0x19e6e1(0x3c6)]};}catch(_0x4d533e){return{'error':_0x4d533e?.[_0x19e6e1(0x603)]()};}}async[a0_0x13f4c8(0x110)](_0x1009ba,_0x27b625){const _0x2ba224=a0_0x13f4c8;try{let _0x13d3f6=this[_0x2ba224(0x436)](_0x27b625),_0x3fae8f=A(_0x1009ba[_0x2ba224(0x3ce)]);return{'deletedCount':(await _0x13d3f6[_0x2ba224(0x110)](_0x3fae8f))[_0x2ba224(0x3c6)]};}catch(_0x304f26){return{'error':_0x304f26?.[_0x2ba224(0x603)]()};}}async['update'](_0x125a5a,_0x4c5e6c){const _0x19e8c6=a0_0x13f4c8;try{if(_0x125a5a[_0x19e8c6(0xa3)]===0x0)return;let _0x5dd557=this[_0x19e8c6(0x436)](_0x4c5e6c),_0x210839=_0x125a5a[_0x19e8c6(0x35b)](_0x11aeb5=>({'updateOne':{'filter':{'name':_0x11aeb5[_0x19e8c6(0x5e2)],'owner':_0x4c5e6c},'update':{..._0x11aeb5}}})),{modifiedCount:_0x2c9290}=await _0x5dd557['bulkWrite'](_0x210839);return{'insertCount':_0x2c9290};}catch{return;}}async[a0_0x13f4c8(0x175)](_0x5c4d78,_0x1e25ce,_0x274971){const _0x57df1f=a0_0x13f4c8;try{return{'modifiedCount':(await this[_0x57df1f(0x436)](_0x274971)[_0x57df1f(0x175)](_0x5c4d78,{'$set':_0x1e25ce}))[_0x57df1f(0x1ff)]};}catch(_0xe16896){return console[_0x57df1f(0x3d5)](_0x57df1f(0x4a7),_0xe16896),{'error':_0xe16896};}}async[a0_0x13f4c8(0x405)](_0x4ed8e3,_0x3c4edd,_0x12ab60){const _0x50695a=a0_0x13f4c8;try{return await this[_0x50695a(0x436)](_0x12ab60)[_0x50695a(0xb9)]({'_id':_0x4ed8e3},{'$set':_0x3c4edd},{'new':!0x0,'upsert':!0x0})[_0x50695a(0x62b)]();}catch(_0x4e7a1b){return console[_0x50695a(0x3d5)](_0x4e7a1b),null;}}async[a0_0x13f4c8(0x39d)](_0x115ec1,_0xd50eef){const _0x477312=a0_0x13f4c8;try{return await this[_0x477312(0x436)](_0xd50eef)[_0x477312(0x39d)](_0x115ec1)[_0x477312(0x29e)]({'lastInteraction':-0x1})[_0x477312(0x62b)]();}catch{return[];}}async['findOne'](_0x1b3b7d,_0x522d3c){const _0x28c641=a0_0x13f4c8;try{return await this['getConversationModelForOwner'](_0x522d3c)[_0x28c641(0x314)]({..._0x1b3b7d['where']})[_0x28c641(0x62b)]();}catch{return null;}}async[a0_0x13f4c8(0x28a)](_0x36380e){const _0x1e3137=a0_0x13f4c8;try{return await this[_0x1e3137(0x436)](_0x36380e)['collection'][_0x1e3137(0x344)](),{'success':!0x0};}catch(_0xb4604c){return console[_0x1e3137(0x3d5)](_0xb4604c),{'success':!0x1,'error':_0xb4604c};}}},Ht=class extends I{[a0_0x13f4c8(0x2b7)](_0x8387da){return ca(_0x8387da);}async['copyDataToNewModel'](_0x1b27c3){const _0x1f97a8=a0_0x13f4c8;try{let _0x4a0b7e=la,_0x336792=this[_0x1f97a8(0x2b7)](_0x1b27c3),_0x3d970a=await _0x4a0b7e['find']({'owner':_0x1b27c3})[_0x1f97a8(0x62b)](),_0x526dad=[],_0x3648fa=[];for(let _0x58fcd0 of _0x3d970a)await _0x336792[_0x1f97a8(0x61f)](_0x58fcd0[_0x1f97a8(0x1f1)])[_0x1f97a8(0x62b)]()||(_0x526dad[_0x1f97a8(0x4b1)](_0x58fcd0),_0x3648fa[_0x1f97a8(0x4b1)](_0x58fcd0['_id']));return _0x526dad[_0x1f97a8(0xa3)]>0x0&&await _0x336792[_0x1f97a8(0x554)](_0x526dad,{'ordered':!0x1}),{'success':!0x0};}catch(_0x3cbe3a){return console['error']('Erro\x20ao\x20copiar\x20dados:',_0x3cbe3a),{'success':!0x1,'error':_0x3cbe3a};}}async[a0_0x13f4c8(0x5dc)](_0x44ecea,_0x50a1dc){const _0x4167b3=a0_0x13f4c8;try{let _0x25c09a=this[_0x4167b3(0x2b7)](_0x50a1dc);return await new _0x25c09a(_0x44ecea)[_0x4167b3(0x546)]();}catch(_0x12318b){return console[_0x4167b3(0x3d5)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x12318b),null;}}async['deleteOne'](_0x5064c7,_0xf21ce){const _0x4a91d8=a0_0x13f4c8;try{return await this['getScheduleMessageModelForOwner'](_0xf21ce)['findByIdAndDelete'](_0x5064c7),{};}catch(_0xc0f51a){return{'error':_0xc0f51a?.[_0x4a91d8(0x603)]()};}}async[a0_0x13f4c8(0x405)](_0x2835b1,_0x271b1a,_0x506343){const _0xde1c6b=a0_0x13f4c8;try{return await this[_0xde1c6b(0x2b7)](_0x506343)[_0xde1c6b(0xb9)](_0x2835b1,{'$set':_0x271b1a},{'new':!0x0})[_0xde1c6b(0x62b)]();}catch(_0x2e20f5){return console['error'](_0xde1c6b(0x521),_0x2e20f5),null;}}async['updateOneById'](_0x14b959,_0x37afef,_0x1ea83a){const _0x2cf147=a0_0x13f4c8;try{return await this['getScheduleMessageModelForOwner'](_0x1ea83a)[_0x2cf147(0x2b3)](_0x14b959,_0x37afef,{'new':!0x0})[_0x2cf147(0x62b)]();}catch(_0x5daa7c){return console[_0x2cf147(0x3d5)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x5daa7c),null;}}async[a0_0x13f4c8(0x39d)](_0x75b671,_0x1f198e){const _0x3f2b7f=a0_0x13f4c8;try{return await this[_0x3f2b7f(0x2b7)](_0x1f198e)[_0x3f2b7f(0x39d)](_0x75b671[_0x3f2b7f(0x3ce)])['limit'](_0x75b671?.[_0x3f2b7f(0x2a8)]??0x0)['sort']({'when':0x1})['lean']();}catch{return[];}}async[a0_0x13f4c8(0x314)](_0x1b0c0f,_0x5a87fa){const _0x4d58c0=a0_0x13f4c8;try{return await this[_0x4d58c0(0x2b7)](_0x5a87fa)[_0x4d58c0(0x314)](_0x1b0c0f[_0x4d58c0(0x3ce)])[_0x4d58c0(0x29e)]({'when':0x1})[_0x4d58c0(0x62b)]();}catch{return null;}}async['findById'](_0x54fb03,_0x4e3f51){const _0x2c4385=a0_0x13f4c8;try{return await this['getScheduleMessageModelForOwner'](_0x4e3f51)[_0x2c4385(0x61f)](_0x54fb03)[_0x2c4385(0x62b)]();}catch{return null;}}async[a0_0x13f4c8(0x190)](_0x463a96,_0x5c7d72){const _0x1dde37=a0_0x13f4c8;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x5c7d72)[_0x1dde37(0x190)](_0x463a96))[_0x1dde37(0x3c6)]};}catch(_0x40faa2){return console['error'](_0x1dde37(0x4ae),_0x40faa2),{'error':_0x40faa2};}}async[a0_0x13f4c8(0x28a)](_0x551dc6){const _0x32426f=a0_0x13f4c8;try{return await this[_0x32426f(0x2b7)](_0x551dc6)[_0x32426f(0x466)]['drop'](),{'success':!0x0};}catch(_0x2e0374){return console[_0x32426f(0x3d5)](_0x2e0374),{'success':!0x1,'error':_0x2e0374};}}},Kt=class extends I{async[a0_0x13f4c8(0x579)](_0x5da6b3,_0x2a0628){const _0x52445c=a0_0x13f4c8;try{if(this[_0x52445c(0x408)]['ENABLED']){let _0x5e1982=await Pe[_0x52445c(0xb9)]({'_id':_0x2a0628},{'$set':_0x5da6b3},{'new':!0x0});return console['log'](_0x52445c(0x3fc),_0x5e1982),_0x5e1982;}}catch(_0x3c746c){throw console[_0x52445c(0x3d5)](_0x52445c(0x266),_0x3c746c),_0x3c746c;}}async[a0_0x13f4c8(0x302)](_0x4a386a){const _0x21e638=a0_0x13f4c8;try{let _0x469a2c=await Pe[_0x21e638(0x61f)](_0x4a386a);return _0x469a2c||(_0x469a2c=new Pe({'_id':_0x4a386a}),await _0x469a2c[_0x21e638(0x546)]()),_0x469a2c;}catch(_0x2b68b6){return console[_0x21e638(0x3d5)](_0x21e638(0x15f),_0x2b68b6),null;}}},yo=new v(a0_0x13f4c8(0x4c0)),bo=new Le(b),So=new Pt(b),Eo=new Qe(b),Co=new Bt(Ys,b),Mo=new Gt(Hs,b),vo=new Wt(b),No=new $t(b),Ro=new zt(b),To=new Ht(b),Ao=new Kt(b),ce=new $e(bo,So,Eo,Co,Mo,vo,Ro,No,To,Ao,N?.['getClient']()),B=new _t(ts,b,ce),Oo=new Ft(b,B,ce),Io=new Ut(B),hs=new Vt(Io),T=new Jt(B),le=new Lt(B,b,ce,ts,Oo),G=new jt(B),x=new kt(B),q=new qt(B);yo[a0_0x13f4c8(0x629)](a0_0x13f4c8(0x162));var gg=require('express-async-errors'),As=require('fs'),Cr=R(require(a0_0x13f4c8(0x659))),Mr=R(require('http')),Ne=class c{static #e;static set['app'](_0x113b01){this.#e=_0x113b01;}static get[a0_0x13f4c8(0x659)](){const _0x3bad98=a0_0x13f4c8;let {FULLCHAIN:_0x337f8e,PRIVKEY:_0x274035}=b[_0x3bad98(0x208)](_0x3bad98(0x65a));return Cr[_0x3bad98(0x5fb)]({'cert':(0x0,As[_0x3bad98(0x3e3)])(_0x337f8e),'key':(0x0,As[_0x3bad98(0x3e3)])(_0x274035)},c.#e);}static get[a0_0x13f4c8(0x691)](){return Mr['createServer'](c.#e);}},de=R(require('fs')),Or=R(require(a0_0x13f4c8(0x14f))),Re=R(require(a0_0x13f4c8(0x56c))),Ae=R(require('path')),Oe=require(a0_0x13f4c8(0x5d7));function xo(){const _0x36c095=a0_0x13f4c8;B[_0x36c095(0x535)]();let _0x3b4145=Ae[_0x36c095(0x29d)][_0x36c095(0x40c)](__dirname,_0x36c095(0x390));Ar(_0x3b4145);}var Ar=_0xd972a2=>{const _0x206abb=a0_0x13f4c8;let _0x1e9dad=de[_0x206abb(0x29d)][_0x206abb(0x5a4)](_0xd972a2),_0x2470cd=0xc*0x3c*0x3c*0x3e8,_0x41addf=0x2*0x3c*0x3c*0x3e8,_0x480ce4=new Date()[_0x206abb(0x1b9)]();_0x1e9dad[_0x206abb(0x543)](_0x34ef51=>{const _0x4bb63b=_0x206abb;let _0x2f6bf4=Ae['default']['join'](_0xd972a2,_0x34ef51),_0x4ef4d3=de[_0x4bb63b(0x29d)][_0x4bb63b(0x508)](_0x2f6bf4)[_0x4bb63b(0x3f7)][_0x4bb63b(0x1b9)]();_0x480ce4-_0x4ef4d3>_0x2470cd&&(de[_0x4bb63b(0x29d)][_0x4bb63b(0x2fd)](_0x2f6bf4),console['log'](_0x4bb63b(0x225)+_0x34ef51));}),setTimeout(()=>Ar(_0xd972a2),_0x41addf);};function Do(){const _0x20da73=a0_0x13f4c8;let _0x477588=new v(_0x20da73(0x322)),_0x3f39b6=(0x0,pe[_0x20da73(0x29d)])();_0x3f39b6[_0x20da73(0x1bb)]((0x0,Tr[_0x20da73(0x29d)])({'origin'(_0x12a799,_0x506d95){const _0x3598fc=_0x20da73;let {ORIGIN:_0x371bb4}=b[_0x3598fc(0x208)](_0x3598fc(0x668));return _0x12a799||(_0x12a799='*'),_0x371bb4[_0x3598fc(0x658)]('*')!==-0x1||_0x371bb4[_0x3598fc(0x658)](_0x12a799)!==-0x1?_0x506d95(null,!0x0):_0x506d95(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x20da73(0x208)]('CORS')['METHODS']],'credentials':b[_0x20da73(0x208)](_0x20da73(0x668))[_0x20da73(0x5f8)]}),(0x0,pe[_0x20da73(0x2b8)])({'extended':!0x0,'limit':_0x20da73(0x8b)}),(0x0,pe[_0x20da73(0x439)])({'limit':_0x20da73(0x8b)})),_0x3f39b6[_0x20da73(0x1bb)]((_0x2b44d0,_0x50d3f5,_0x1f3760)=>{const _0x516ebf=_0x20da73;_0x2b44d0[_0x516ebf(0x22f)][_0x516ebf(0x4c2)]('/events')?_0x1f3760():(0x0,Rr[_0x516ebf(0x29d)])()(_0x2b44d0,_0x50d3f5,_0x1f3760);}),_0x3f39b6[_0x20da73(0x4d6)](_0x20da73(0x1b7),'hbs'),_0x3f39b6['set']('views',(0x0,Is[_0x20da73(0x40c)])(ae,_0x20da73(0x3d8))),_0x3f39b6[_0x20da73(0x1bb)](pe[_0x20da73(0x29d)][_0x20da73(0x454)]((0x0,Is[_0x20da73(0x40c)])(ae,_0x20da73(0x609)))),_0x3f39b6[_0x20da73(0x1bb)]((_0x11c4c7,_0x46317a,_0x260205)=>{const _0x25581e=_0x20da73;let _0x4b2797=_0x46317a[_0x25581e(0x6a0)];_0x46317a[_0x25581e(0x6a0)]=function(_0x26354b){const _0x529a85=_0x25581e;if(_0x11c4c7['query'][_0x529a85(0x222)]===_0x529a85(0x337)||_0x11c4c7[_0x529a85(0x52b)][_0x529a85(0x330)]===_0x529a85(0x337)){let _0x4ff653=JSON[_0x529a85(0x5d8)](_0x26354b);_0x26354b=JSON[_0x529a85(0x33c)](_0xcd1287(_0x4ff653));}return _0x4b2797['apply'](_0x46317a,[_0x26354b]);},_0x260205();}),_0x3f39b6[_0x20da73(0x1bb)]('/',vt),_0x3f39b6[_0x20da73(0x1bb)]((_0x2a2334,_0x2c9c9c,_0x31456c,_0x387643)=>{const _0x4b452b=_0x20da73;if(_0x2a2334)return _0x31456c[_0x4b452b(0x254)](_0x2a2334[_0x4b452b(0x254)]||0x1f4)[_0x4b452b(0x439)](_0x2a2334);},(_0x1e501e,_0xed982d,_0x58dbc7)=>{const _0x47ce74=_0x20da73;let {method:_0x565e91,url:_0x1f14b8}=_0x1e501e;_0xed982d[_0x47ce74(0x254)](0x194)[_0x47ce74(0x439)]({'status':0x194,'message':_0x47ce74(0x9a)+_0x565e91[_0x47ce74(0x5ef)]()+'\x20'+_0x1f14b8,'error':_0x47ce74(0x75)}),_0x58dbc7();});let _0xcd1287=(_0x50e896,_0x3541d2=_0x20da73(0x1ce))=>{const _0x755965=_0x20da73;let _0x252633=(_0xbcda8a,_0x4b0861=null,_0x45d21e=!0x1)=>{const _0x164f16=a0_0x2b73;let _0x78ef78={};return Object[_0x164f16(0x2ec)](_0xbcda8a)[_0x164f16(0x543)](_0x55a48b=>{const _0xd28242=_0x164f16;let _0x13cbf9=_0xbcda8a[_0x55a48b],_0x248f21=''+_0x3541d2+_0x55a48b;_0x4b0861&&!_0x45d21e&&(_0x248f21=_0x4b0861+'.'+_0x55a48b),!_0x13cbf9&&_0x13cbf9!==0x0&&_0x13cbf9!==!0x1||typeof _0x13cbf9>'u'?_0x78ef78[_0x248f21]=null:typeof _0x13cbf9!='object'&&!Array[_0xd28242(0x5e3)](_0x13cbf9)?_0x78ef78[_0x248f21]=_0x13cbf9:typeof _0x13cbf9==_0xd28242(0x5ea)&&!Array[_0xd28242(0x5e3)](_0x13cbf9)?_0x78ef78=Object['assign'](_0x78ef78,_0x252633(_0x13cbf9,_0x248f21)):Array[_0xd28242(0x5e3)](_0x13cbf9)&&(typeof _0x13cbf9[0x0]==_0xd28242(0x5ea)?(_0x78ef78[_0x248f21]=[],_0x13cbf9['forEach'](_0x42d4b7=>{_0x78ef78[_0x248f21]['push'](_0x252633(_0x42d4b7,_0x248f21,!0x0));})):_0x78ef78[_0x248f21]=_0x13cbf9);}),_0x78ef78;};return Array['isArray'](_0x50e896)?_0x50e896[_0x755965(0x35b)](_0x27d6c4=>_0x252633(_0x27d6c4)):typeof _0x50e896=='object'&&_0x50e896!==null?_0x252633(_0x50e896):{};},_0x444c45=b[_0x20da73(0x208)]('SERVER');Ne[_0x20da73(0x374)]=_0x3f39b6;let _0x427d3f=Ne[_0x444c45[_0x20da73(0x450)]],_0x54bbef=_0x20da73(0x6f);_0x427d3f[_0x20da73(0x109)](_0x444c45[_0x20da73(0x43b)],()=>{const _0x58c76e=_0x20da73;_0x477588['log'](_0x54bbef),_0x477588[_0x58c76e(0x4e2)](_0x444c45[_0x58c76e(0x450)]['toUpperCase']()+_0x58c76e(0x156)+_0x444c45[_0x58c76e(0x43b)]);}),xo(),qs();}var _o='https://github.com/uazapi/uazapi.git',Po=Ae['default'][a0_0x13f4c8(0x40c)](__dirname,a0_0x13f4c8(0x1e5)),Te=null;function $o(){return new Promise((_0x39cc16,_0x565be8)=>{const _0x49f217=a0_0x2b73;de[_0x49f217(0x29d)][_0x49f217(0x588)](Po,_0x49f217(0x7a),(_0x22ad5d,_0x50a8e9)=>{const _0x46a0a4=_0x49f217;if(_0x22ad5d){Te=_0x22ad5d,_0x39cc16();return;}Or[_0x46a0a4(0x29d)]['parse'](_0x50a8e9)[_0x46a0a4(0x6a2)][_0x46a0a4(0x1d2)]===_o?(Te=null,_0x39cc16()):(Te=new Error(_0x46a0a4(0x664)),_0x39cc16());});});}async function ko(){const _0x4de10a=a0_0x13f4c8;try{await $o(),await xs();}catch(_0x3f5124){console[_0x4de10a(0x3d5)](_0x4de10a(0x48c)+_0x3f5124),process['exit'](0x1);}}ko();async function Ir(){const _0xf363f2=a0_0x13f4c8;let _0x2704d8;try{_0x2704d8=(await Re[_0xf363f2(0x29d)][_0xf363f2(0x208)]('https://jsonip.com'))[_0xf363f2(0x4f2)]['ip'];}catch(_0x5ec14a){console['error'](_0x5ec14a);try{_0x2704d8=(await Re[_0xf363f2(0x29d)]['get']('https://api.ipify.org?format=json'))['data']['ip'];}catch(_0xcaba04){console[_0xf363f2(0x3d5)](_0xcaba04);try{_0x2704d8=(await Re[_0xf363f2(0x29d)][_0xf363f2(0x208)](_0xf363f2(0x27a)))['data'][_0xf363f2(0x5c7)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x2bf748){return console[_0xf363f2(0x3d5)](_0x2bf748),!0x1;}}}return _0x2704d8;}var vr=0x0;async function Lo(){const _0x17a8d8=a0_0x13f4c8;let _0x27218a=await new re(b['get']('REDIS'))[_0x17a8d8(0x328)]();return console[_0x17a8d8(0x4e2)]('instancias:\x20',_0x27218a[_0x17a8d8(0xa3)]),_0x27218a[_0x17a8d8(0xa3)];}function jo(_0x4f98bd){const _0x12c7dc=a0_0x13f4c8;let _0x1fe421=_0x4f98bd[_0x12c7dc(0x208)](_0x12c7dc(0x322))['URL'],_0x247dc1=_0x4f98bd[_0x12c7dc(0x208)](_0x12c7dc(0x65a)),_0x3d4078;if(_0x1fe421){let _0x3fa4db=_0x1fe421[_0x12c7dc(0x5c7)](/\/\/(.*?)\./);_0x3fa4db&&_0x3fa4db[0x1]&&(_0x3d4078=_0x3fa4db[0x1]);}if(!_0x3d4078&&_0x247dc1&&_0x247dc1['FULLCHAIN']){let _0x2c36fc=_0x247dc1['FULLCHAIN'][_0x12c7dc(0x545)]('/'),_0x9c0976=_0x2c36fc[_0x2c36fc[_0x12c7dc(0xa3)]-0x2];if(_0x9c0976){let _0x2fd9dc=_0x9c0976[_0x12c7dc(0x545)]('.');_0x2fd9dc[_0x12c7dc(0xa3)]>0x2&&(_0x3d4078=_0x2fd9dc[0x0]);}}return _0x3d4078;}var Ns=jo(b);async function Fo(){const _0x5694e1=a0_0x13f4c8;let _0x47debe=b[_0x5694e1(0x208)](_0x5694e1(0x285)),_0xa1e6e3=b[_0x5694e1(0x208)](_0x5694e1(0x3bb))[_0x5694e1(0x114)]['KEY'],_0x3c9233=b['get'](_0x5694e1(0x65a)),_0x1b3225=await Ir(),_0xe37f31=b['get'](_0x5694e1(0x322))[_0x5694e1(0x43b)],_0x48a802=b['get'](_0x5694e1(0x322))[_0x5694e1(0x204)];try{let _0x433197={'ip':_0x1b3225||null,'redis_enable':_0x47debe?.[_0x5694e1(0x4d0)]||null,'apikey':_0xa1e6e3||null,'ssl':_0x3c9233?.['PRIVKEY']||null,'lastupdate':xr||null,'port':_0xe37f31||null,'gitInstallError':Te?.[_0x5694e1(0x191)]||null,'url':_0x48a802||null};if(console['log']('ip:\x20',_0x433197['ip']),_0x47debe&&_0x47debe[_0x5694e1(0x4d0)]){let _0x4fc960=await Lo();_0x433197[_0x5694e1(0x298)]=_0x4fc960||null;}for(let _0x4c3bdb in _0x433197)_0x433197['hasOwnProperty'](_0x4c3bdb)&&_0x4c3bdb!=='ip'&&(_0x433197[_0x4c3bdb]=JSON[_0x5694e1(0x33c)](_0x433197[_0x4c3bdb]));return(await Re[_0x5694e1(0x29d)]['post'](_0x5694e1(0x253),_0x433197))[_0x5694e1(0x4f2)];}catch(_0x16c4b8){return console[_0x5694e1(0x3d5)](_0x16c4b8),!0x1;}}var Os=!0x1,xr=0x222,qo=0x3,Nr=0x1b7740;async function xs(){const _0x25024c=a0_0x13f4c8;if(!await Ir())return console['error'](_0x25024c(0x636)),'NO_IP';let _0x5107e3=await Fo();if(_0x5107e3){if(_0x5107e3[_0x25024c(0x3a1)][_0x25024c(0x15a)]===!0x0){b[_0x25024c(0x208)](_0x25024c(0x65a))[_0x25024c(0x367)]['includes']('<subdomain>')&&_0x5107e3['response'][_0x25024c(0x533)]&&(await Vo(_0x5107e3[_0x25024c(0x3a1)][_0x25024c(0x533)],Jo),await Bo(_0x25024c(0x4cf),_0x5107e3[_0x25024c(0x3a1)][_0x25024c(0x533)]),console['log'](_0x25024c(0x683)),setTimeout(()=>Wo(),0x2710)),Te===null&&_0x5107e3['response'][_0x25024c(0x101)]-xr>0x0&&await Uo(),Os||(Os=!0x0,Do());let _0x1be04e=0x24*0x3c*0x3c,_0x4cf4c6=_0x5107e3[_0x25024c(0x3a1)][_0x25024c(0x172)]>_0x1be04e?_0x1be04e:_0x5107e3[_0x25024c(0x3a1)][_0x25024c(0x172)],_0x526be4=Number(_0x4cf4c6);if(isNaN(_0x526be4)){console['error'](_0x25024c(0x354));return;}let _0x253f5a=Math['floor'](_0x526be4/0xe10),_0x289801=Math['floor'](_0x526be4%0xe10/0x3c),_0x4f4534=new Date(Date['now']()+_0x526be4*0x3e8);setTimeout(xs,_0x526be4*0x3e8);let _0x2faf07=_0x4bf0ce=>_0x4bf0ce[_0x25024c(0x603)]()[_0x25024c(0x19e)](0x2,'0'),_0x12b98e=_0x25024c(0x4a4)+_0x2faf07(_0x253f5a)+_0x25024c(0x258)+_0x2faf07(_0x289801)+_0x25024c(0x500)+_0x2faf07(_0x4f4534[_0x25024c(0x18a)]())+':'+_0x2faf07(_0x4f4534[_0x25024c(0x1a8)]())+'.';console['log'](_0x12b98e);}else return console['log'](_0x25024c(0x4b8)),Os&&(console[_0x25024c(0x4e2)](_0x25024c(0x186)),process[_0x25024c(0x1d1)]()),'LICENSE_INVALID';}else{if(vr++,vr<qo)console[_0x25024c(0x4e2)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Nr/0xea60+_0x25024c(0x20e)),setTimeout(xs,Nr);else return console[_0x25024c(0x3d5)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x25024c(0x293);}}async function Uo(){const _0x338c42=a0_0x13f4c8;console[_0x338c42(0x4e2)]('Parando\x20aplicação,\x20atualização\x20recebida');let _0x22a854=(0x0,Oe[_0x338c42(0x2b0)])(_0x338c42(0x3dc),{'shell':!0x0});_0x22a854[_0x338c42(0x203)]['on'](_0x338c42(0x4f2),_0x9ca3c9=>{const _0x2ba1a4=_0x338c42;console[_0x2ba1a4(0x4e2)](_0x2ba1a4(0x67b)+_0x9ca3c9);}),_0x22a854[_0x338c42(0x108)]['on'](_0x338c42(0x4f2),_0x2aec92=>{console['error']('Erro\x20de\x20atualização:\x20'+_0x2aec92);}),_0x22a854['on'](_0x338c42(0x1d1),_0x480fc2=>{const _0xf82c2d=_0x338c42;_0x480fc2!==0x0?console[_0xf82c2d(0x3d5)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x480fc2):console[_0xf82c2d(0x4e2)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0xf82c2d(0x4e2)]('Parando\x20aplicação...'),setTimeout(()=>process[_0xf82c2d(0x1d1)](),0x2710);});}var Jo=Ae[a0_0x13f4c8(0x29d)][a0_0x13f4c8(0x40c)](__dirname,a0_0x13f4c8(0x272));async function Vo(_0x1c4c65,_0x3f182a){const _0x124d98=a0_0x13f4c8;let _0x4c215f=Go();_0x1c4c65=_0x1c4c65[_0x124d98(0x3f0)](_0x124d98(0x54b),'');try{let _0x2ca9fc=de[_0x124d98(0x29d)][_0x124d98(0x3e3)](_0x3f182a,_0x124d98(0x1fd));_0x2ca9fc=_0x2ca9fc[_0x124d98(0x3f0)](/<apikey>/,_0x4c215f),_0x2ca9fc=_0x2ca9fc['replace'](/<subdomain>/g,_0x1c4c65),de['default'][_0x124d98(0x36b)](_0x3f182a,_0x2ca9fc,_0x124d98(0x1fd)),console[_0x124d98(0x4e2)](_0x124d98(0x2b4));}catch(_0x4eff8a){console[_0x124d98(0x3d5)](_0x124d98(0x1f6),_0x4eff8a);}}function Bo(_0x42d3db,_0x2f60fb){return new Promise((_0x5d8327,_0x236d6f)=>{const _0x16a78b=a0_0x2b73;let _0x27b1f7=(0x0,Oe['spawn'])(_0x16a78b(0x3db),[_0x16a78b(0x24a),_0x16a78b(0x4f6),'-m',_0x42d3db,_0x16a78b(0x1e6),'-d',_0x2f60fb]);_0x27b1f7[_0x16a78b(0x203)]['on'](_0x16a78b(0x4f2),_0x207b5b=>{const _0x371a92=_0x16a78b;console['log'](_0x371a92(0x17a)+_0x207b5b[_0x371a92(0x603)]());}),_0x27b1f7[_0x16a78b(0x108)]['on'](_0x16a78b(0x4f2),_0x3fbe7d=>{const _0x4b93e1=_0x16a78b;console[_0x4b93e1(0x3d5)](_0x4b93e1(0x578)+_0x3fbe7d[_0x4b93e1(0x603)]());}),_0x27b1f7['on'](_0x16a78b(0x62f),_0x444cf0=>{const _0xe4b433=_0x16a78b;_0x444cf0!==0x0?(console[_0xe4b433(0x3d5)](_0xe4b433(0x1d9)+_0x444cf0),_0x236d6f('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x444cf0)):(console[_0xe4b433(0x4e2)]('Certbot\x20executado\x20com\x20sucesso.'),_0x5d8327());});});}function Go(_0x69a5fc=0x32){const _0x183f05=a0_0x13f4c8;let _0x348f9c=_0x183f05(0x12a),_0x55a152='';for(let _0x410fc3=0x0;_0x410fc3<_0x69a5fc;_0x410fc3++)_0x55a152+=_0x348f9c[_0x183f05(0x5f2)](Math['floor'](Math[_0x183f05(0x2cc)]()*_0x348f9c[_0x183f05(0xa3)]));return _0x55a152;}function Wo(){const _0x2c0ffb=a0_0x13f4c8;(0x0,Oe['exec'])(_0x2c0ffb(0x47f),(_0x459a2b,_0x34b961,_0x214de4)=>{const _0x1bb4c9=_0x2c0ffb;if(_0x459a2b){console[_0x1bb4c9(0x3d5)]('Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20'+_0x459a2b);return;}if(_0x214de4){console['error'](_0x1bb4c9(0x361)+_0x214de4);return;}console[_0x1bb4c9(0x4e2)]('Reinicialização\x20iniciada:\x20'+_0x34b961);});}0x0&&(module[a0_0x13f4c8(0x418)]={'subdomain':subdomain});