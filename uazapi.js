const a0_0x29b3b7=a0_0x1da8;(function(_0x4d9781,_0x220975){const _0x471208=a0_0x1da8,_0x4e12dc=_0x4d9781();while(!![]){try{const _0x428adc=parseInt(_0x471208(0x3a9))/0x1*(-parseInt(_0x471208(0x439))/0x2)+-parseInt(_0x471208(0x447))/0x3*(-parseInt(_0x471208(0x658))/0x4)+-parseInt(_0x471208(0x37b))/0x5+parseInt(_0x471208(0x6ff))/0x6+-parseInt(_0x471208(0x78a))/0x7*(parseInt(_0x471208(0x34a))/0x8)+parseInt(_0x471208(0x5be))/0x9+-parseInt(_0x471208(0x550))/0xa*(-parseInt(_0x471208(0x43a))/0xb);if(_0x428adc===_0x220975)break;else _0x4e12dc['push'](_0x4e12dc['shift']());}catch(_0x3b0057){_0x4e12dc['push'](_0x4e12dc['shift']());}}}(a0_0x2c4f,0x20ae7));var Gr=Object[a0_0x29b3b7(0x262)],ke=Object[a0_0x29b3b7(0x409)],Br=Object[a0_0x29b3b7(0x394)],Wr=Object['getOwnPropertyNames'],zr=Object['getPrototypeOf'],Hr=Object['prototype'][a0_0x29b3b7(0x608)],Kr=(_0x8d14ae,_0xcdff0e)=>{for(var _0x181664 in _0xcdff0e)ke(_0x8d14ae,_0x181664,{'get':_0xcdff0e[_0x181664],'enumerable':!0x0});},Us=(_0x1e68d6,_0x5c2a16,_0xb9a10e,_0x239ea6)=>{const _0x2a644c=a0_0x29b3b7;if(_0x5c2a16&&typeof _0x5c2a16==_0x2a644c(0x320)||typeof _0x5c2a16=='function'){for(let _0x140569 of Wr(_0x5c2a16))!Hr['call'](_0x1e68d6,_0x140569)&&_0x140569!==_0xb9a10e&&ke(_0x1e68d6,_0x140569,{'get':()=>_0x5c2a16[_0x140569],'enumerable':!(_0x239ea6=Br(_0x5c2a16,_0x140569))||_0x239ea6[_0x2a644c(0x483)]});}return _0x1e68d6;},O=(_0x39ddee,_0x4a4a88,_0x501ff8)=>(_0x501ff8=_0x39ddee!=null?Gr(zr(_0x39ddee)):{},Us(_0x4a4a88||!_0x39ddee||!_0x39ddee['__esModule']?ke(_0x501ff8,a0_0x29b3b7(0x282),{'value':_0x39ddee,'enumerable':!0x0}):_0x501ff8,_0x39ddee)),Qr=_0x2700e7=>Us(ke({},a0_0x29b3b7(0x6d6),{'value':!0x0}),_0x2700e7),co={};Kr(co,{'subdomain':()=>_s}),module[a0_0x29b3b7(0x700)]=Qr(co);var jr=O(require(a0_0x29b3b7(0x242))),Vs=require('fs'),Gs=require(a0_0x29b3b7(0x2be)),Bs=require(a0_0x29b3b7(0x21d)),je=require(a0_0x29b3b7(0x21d)),oe=process[a0_0x29b3b7(0x14d)](),ge=(0x0,je['join'])(oe,a0_0x29b3b7(0x3df)),qs=(0x0,je[a0_0x29b3b7(0x452)])(oe,a0_0x29b3b7(0x42a)),tn=(0x0,je[a0_0x29b3b7(0x452)])(oe,a0_0x29b3b7(0x418),a0_0x29b3b7(0x7c9)),ns=class{constructor(){const _0x594286=a0_0x29b3b7;this[_0x594286(0x1a5)]();}[a0_0x29b3b7(0x1a1)](_0x155fa3){const _0x1a39af=a0_0x29b3b7;return this[_0x1a39af(0x3cd)][_0x155fa3];}['loadEnv'](){const _0x4c3ccc=a0_0x29b3b7;this[_0x4c3ccc(0x3cd)]=process[_0x4c3ccc(0x3cd)]?.['DOCKER_ENV']!=='true'?this['envYaml']():this[_0x4c3ccc(0x268)](),process['env']?.['DOCKER_ENV']===_0x4c3ccc(0x32a)&&(this['env'][_0x4c3ccc(0x12d)][_0x4c3ccc(0x56b)]=_0x4c3ccc(0x696),this['env']['SERVER'][_0x4c3ccc(0x645)]=Number['parseInt'](process[_0x4c3ccc(0x3cd)]?.[_0x4c3ccc(0x616)]??_0x4c3ccc(0x5ed)));}[a0_0x29b3b7(0x59b)](){const _0x3d898a=a0_0x29b3b7;return(0x0,Gs[_0x3d898a(0x712)])((0x0,Vs[_0x3d898a(0x513)])((0x0,Bs['join'])(qs,_0x3d898a(0x492)),{'encoding':_0x3d898a(0x13d)}));}['envProcess'](){const _0x4ba5b0=a0_0x29b3b7;return{'SERVER':{'TYPE':process[_0x4ba5b0(0x3cd)]['SERVER_TYPE'],'PORT':Number['parseInt'](process[_0x4ba5b0(0x3cd)][_0x4ba5b0(0x616)]),'URL':process[_0x4ba5b0(0x3cd)][_0x4ba5b0(0x569)]},'CORS':{'ORIGIN':process[_0x4ba5b0(0x3cd)][_0x4ba5b0(0x4ff)][_0x4ba5b0(0x355)](','),'METHODS':process[_0x4ba5b0(0x3cd)][_0x4ba5b0(0x665)][_0x4ba5b0(0x355)](','),'CREDENTIALS':process[_0x4ba5b0(0x3cd)]?.[_0x4ba5b0(0x680)]===_0x4ba5b0(0x32a)},'SSL_CONF':{'PRIVKEY':process[_0x4ba5b0(0x3cd)]?.[_0x4ba5b0(0x155)],'FULLCHAIN':process[_0x4ba5b0(0x3cd)]?.[_0x4ba5b0(0x43b)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x4ba5b0(0x3cd)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x4ba5b0(0x303)](process[_0x4ba5b0(0x3cd)][_0x4ba5b0(0x327)]):void 0x0,'MESSAGES':process[_0x4ba5b0(0x3cd)]?.[_0x4ba5b0(0x1a6)]==='true','CONTACTS':process['env']?.[_0x4ba5b0(0x146)]===_0x4ba5b0(0x32a),'CHATS':process['env']?.['STORE_CHATS']===_0x4ba5b0(0x32a)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x4ba5b0(0x4f4)],'PORT':Number[_0x4ba5b0(0x303)](process[_0x4ba5b0(0x3cd)]?.[_0x4ba5b0(0x4f4)]),'USER':process[_0x4ba5b0(0x3cd)][_0x4ba5b0(0x475)],'PASSWORD':process['env'][_0x4ba5b0(0x48d)],'URI':process[_0x4ba5b0(0x3cd)][_0x4ba5b0(0x1b9)],'DB_PREFIX_NAME':process[_0x4ba5b0(0x3cd)][_0x4ba5b0(0x72b)]},'ENABLED':process[_0x4ba5b0(0x3cd)]?.[_0x4ba5b0(0x131)]===_0x4ba5b0(0x32a)},'REDIS':{'ENABLED':process['env']?.['REDIS_ENABLED']===_0x4ba5b0(0x32a),'URI':process[_0x4ba5b0(0x3cd)][_0x4ba5b0(0x4a4)]||_0x4ba5b0(0x5b8),'PREFIX_KEY':process[_0x4ba5b0(0x3cd)][_0x4ba5b0(0x21b)]||_0x4ba5b0(0x11e)},'LOG':{'LEVEL':process[_0x4ba5b0(0x3cd)]?.[_0x4ba5b0(0x4f3)][_0x4ba5b0(0x355)](','),'COLOR':process[_0x4ba5b0(0x3cd)]?.[_0x4ba5b0(0x42e)]===_0x4ba5b0(0x32a)},'PROXY':Number['parseInt'](process[_0x4ba5b0(0x3cd)]?.['PROXY']),'AUTHENTICATION':{'TYPE':process[_0x4ba5b0(0x3cd)][_0x4ba5b0(0x621)],'API_KEY':{'KEY':process[_0x4ba5b0(0x3cd)][_0x4ba5b0(0x70b)]},'JWT':{'EXPIRIN_IN':Number[_0x4ba5b0(0x469)](process[_0x4ba5b0(0x3cd)]?.[_0x4ba5b0(0x342)])?Number['parseInt'](process[_0x4ba5b0(0x3cd)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x4ba5b0(0x3cd)][_0x4ba5b0(0x331)]}}};}},b=new ns(),Lr=O(require(a0_0x29b3b7(0x523))),he=O(require(a0_0x29b3b7(0x1ef))),Fs=require(a0_0x29b3b7(0x21d)),cs=O(require('dayjs')),ls=(_0x340efb=>(_0x340efb[a0_0x29b3b7(0x281)]='\x1b[32m',_0x340efb['INFO']=a0_0x29b3b7(0x64d),_0x340efb[a0_0x29b3b7(0x2ea)]='\x1b[33m',_0x340efb[a0_0x29b3b7(0x212)]='\x1b[31m',_0x340efb[a0_0x29b3b7(0x522)]=a0_0x29b3b7(0x614),_0x340efb[a0_0x29b3b7(0x259)]=a0_0x29b3b7(0x323),_0x340efb[a0_0x29b3b7(0x5e6)]='\x1b[30m',_0x340efb))(ls||{}),Ws=(_0x4001c2=>(_0x4001c2[a0_0x29b3b7(0x281)]=a0_0x29b3b7(0x2fd),_0x4001c2[a0_0x29b3b7(0x5e6)]=a0_0x29b3b7(0x536),_0x4001c2[a0_0x29b3b7(0x100)]='\x1b[34m%s\x1b[0m',_0x4001c2[a0_0x29b3b7(0x2ea)]=a0_0x29b3b7(0xed),_0x4001c2[a0_0x29b3b7(0x212)]=a0_0x29b3b7(0x191),_0x4001c2[a0_0x29b3b7(0x522)]=a0_0x29b3b7(0x18e),_0x4001c2[a0_0x29b3b7(0x259)]=a0_0x29b3b7(0x561),_0x4001c2))(Ws||{}),zs=(_0x5c1d98=>(_0x5c1d98['LOG']=a0_0x29b3b7(0x281),_0x5c1d98['WARN']='WARN',_0x5c1d98['INFO']=a0_0x29b3b7(0x100),_0x5c1d98[a0_0x29b3b7(0x5e6)]=a0_0x29b3b7(0x5e6),_0x5c1d98[a0_0x29b3b7(0x212)]=a0_0x29b3b7(0x212),_0x5c1d98[a0_0x29b3b7(0x522)]='DEBUG',_0x5c1d98[a0_0x29b3b7(0x259)]=a0_0x29b3b7(0x259),_0x5c1d98))(zs||{}),Hs=(_0x3dd453=>(_0x3dd453['LOG']=a0_0x29b3b7(0x30a),_0x3dd453[a0_0x29b3b7(0x100)]=a0_0x29b3b7(0x443),_0x3dd453[a0_0x29b3b7(0x2ea)]=a0_0x29b3b7(0x562),_0x3dd453['DARK']=a0_0x29b3b7(0x650),_0x3dd453['ERROR']=a0_0x29b3b7(0x3e8),_0x3dd453['DEBUG']=a0_0x29b3b7(0x451),_0x3dd453[a0_0x29b3b7(0x259)]=a0_0x29b3b7(0x1c7),_0x3dd453))(Hs||{}),R=class{constructor(_0x6894f7=a0_0x29b3b7(0x63b)){this['context']=_0x6894f7,this['configService']=b;}[a0_0x29b3b7(0x390)](_0x34a187){const _0x23b992=a0_0x29b3b7;this[_0x23b992(0x341)]=_0x34a187;}['console'](_0x3dfa52,_0x2ad1f1){const _0x462515=a0_0x29b3b7;let _0x37144f=[];this['configService'][_0x462515(0x1a1)](_0x462515(0x281))[_0x462515(0x67d)][_0x462515(0x693)](_0x43b338=>_0x37144f['push'](zs[_0x43b338]));let _0x44902b=typeof _0x3dfa52;_0x37144f[_0x462515(0x58d)](_0x2ad1f1)&&(b['get'](_0x462515(0x281))[_0x462515(0x314)]?(console[_0x462515(0x6bf)](_0x462515(0x3ba)+Ws[_0x2ad1f1],_0x462515(0x465),(0x0,cs[_0x462515(0x282)])()[_0x462515(0x34c)](_0x462515(0x24c)),_0x462515(0x794),ls[_0x2ad1f1]+Hs[_0x2ad1f1]+_0x462515(0x3ba),_0x2ad1f1+'\x20\x1b[0m',_0x462515(0x159),this[_0x462515(0x341)]+_0x462515(0x794),ls[_0x2ad1f1],_0x44902b!==_0x462515(0x320)?_0x3dfa52:'','\x1b[0m'),_0x44902b==='object'&&console['log'](_0x3dfa52,'\x0a')):console['log']((0x0,cs[_0x462515(0x282)])()[_0x462515(0x34c)]('HH:mm:ss'),_0x2ad1f1+'\x20',''+this['context'],_0x3dfa52));}[a0_0x29b3b7(0x6bf)](_0x3c1de6){const _0x27e287=a0_0x29b3b7;this[_0x27e287(0x135)](_0x3c1de6,_0x27e287(0x281));}[a0_0x29b3b7(0x299)](_0x101ff){const _0x311f93=a0_0x29b3b7;this[_0x311f93(0x135)](_0x101ff,'INFO');}['warn'](_0x357023){const _0x87badf=a0_0x29b3b7;this[_0x87badf(0x135)](_0x357023,_0x87badf(0x2ea));}[a0_0x29b3b7(0x60d)](_0x2257cf){const _0x3b04f3=a0_0x29b3b7;this[_0x3b04f3(0x135)](_0x2257cf,_0x3b04f3(0x212));}['verbose'](_0x50197d){const _0x48a4d5=a0_0x29b3b7;this[_0x48a4d5(0x135)](_0x50197d,'VERBOSE');}[a0_0x29b3b7(0x2e1)](_0x4f2c9b){const _0x57a9df=a0_0x29b3b7;this[_0x57a9df(0x135)](_0x4f2c9b,_0x57a9df(0x522));}[a0_0x29b3b7(0x39d)](_0x7b682a){const _0x23886b=a0_0x29b3b7;this[_0x23886b(0x135)](_0x7b682a,_0x23886b(0x5e6));}};function Ks(){const _0x2fddf3=a0_0x29b3b7;process['on'](_0x2fddf3(0x350),(_0x16c8c7,_0x32a4dd)=>{const _0x1d122d=_0x2fddf3;new R('uncaughtException')[_0x1d122d(0x60d)]({'origin':_0x32a4dd,'stderr':process[_0x1d122d(0x564)]['fd'],'error':_0x16c8c7});}),process['on']('unhandledRejection',(_0x1ec6be,_0x35d008)=>{const _0x227d04=_0x2fddf3;new R(_0x227d04(0x7b6))[_0x227d04(0x60d)]({'origin':_0x35d008,'stderr':process[_0x227d04(0x564)]['fd'],'error':_0x1ec6be});});}var Qs=O(require(a0_0x29b3b7(0x5b5))),us=new Qs[(a0_0x29b3b7(0x282))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),fe=require(a0_0x29b3b7(0x4f8)),Me=O(require(a0_0x29b3b7(0x4f8))),Le=new R('Db\x20Connection'),L=b[a0_0x29b3b7(0x1a1)](a0_0x29b3b7(0x43d)),T=L[a0_0x29b3b7(0x238)]?L[a0_0x29b3b7(0x64f)][a0_0x29b3b7(0xe2)]?Me['default'][a0_0x29b3b7(0x704)](L[a0_0x29b3b7(0x64f)][a0_0x29b3b7(0xe2)],{'dbName':L['CONNECTION'][a0_0x29b3b7(0x416)]+a0_0x29b3b7(0x34f)}):Me[a0_0x29b3b7(0x282)][a0_0x29b3b7(0x704)](a0_0x29b3b7(0x2f4)+L[a0_0x29b3b7(0x64f)][a0_0x29b3b7(0x1a4)]+':'+L[a0_0x29b3b7(0x64f)][a0_0x29b3b7(0x645)]+a0_0x29b3b7(0x2ee),{'user':L['CONNECTION'][a0_0x29b3b7(0x410)],'pass':L[a0_0x29b3b7(0x64f)][a0_0x29b3b7(0x620)],'dbName':L['CONNECTION'][a0_0x29b3b7(0x416)]+'-whatsapp-api'}):null;L[a0_0x29b3b7(0x238)]&&Le[a0_0x29b3b7(0x299)](a0_0x29b3b7(0x1f3)+T[a0_0x29b3b7(0x771)]);var me=L['ENABLED']?L[a0_0x29b3b7(0x64f)]['URI']?Me[a0_0x29b3b7(0x282)]['createConnection'](L[a0_0x29b3b7(0x64f)]['URI'],{'dbName':a0_0x29b3b7(0x392)}):Me['default'][a0_0x29b3b7(0x704)](a0_0x29b3b7(0x2f4)+L[a0_0x29b3b7(0x64f)][a0_0x29b3b7(0x1a4)]+':'+L[a0_0x29b3b7(0x64f)]['PORT']+a0_0x29b3b7(0x2ee),{'user':L[a0_0x29b3b7(0x64f)]['USER'],'pass':L['CONNECTION']['PASSWORD'],'dbName':a0_0x29b3b7(0x347)}):null;me&&Le[a0_0x29b3b7(0x299)]('ON\x20-\x20dbName:\x20'+me['$dbName']),process['on'](a0_0x29b3b7(0x677),()=>{const _0x54d2fa=a0_0x29b3b7;T&&T['close'](()=>{Le['info']('Database\x20connection\x20closed.');}),me&&me[_0x54d2fa(0x10a)](()=>{const _0x5b01f5=_0x54d2fa;Le[_0x5b01f5(0x299)](_0x5b01f5(0x778));});});var Yr=new fe['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xr=new fe['Schema']({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),Zr=new fe[(a0_0x29b3b7(0x3dd))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),ei=new fe[(a0_0x29b3b7(0x3dd))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yr],'default':[]}},{'_id':!0x1}),ti=new fe[(a0_0x29b3b7(0x3dd))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':ei,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Xr},'groupdata':{'type':Zr,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ys=_0x53846e=>{const _0x146e3a=a0_0x29b3b7;let _0x1b99be='z_'+_0x53846e+_0x146e3a(0x61a);return T?.['model'](_0x146e3a(0x2f5),ti,_0x1b99be);},Xs=require(a0_0x29b3b7(0x4f8)),si=new Xs[(a0_0x29b3b7(0x3dd))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=_0x4f73e8=>{const _0x1b8441=a0_0x29b3b7;let _0x247b8='z_'+_0x4f73e8+_0x1b8441(0x785);return T?.[_0x1b8441(0x254)](_0x1b8441(0x753),si,_0x247b8);},ea=require(a0_0x29b3b7(0x4f8)),ds=class{},ai=new ea[(a0_0x29b3b7(0x3dd))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ta=me?.[a0_0x29b3b7(0x254)](ds[a0_0x29b3b7(0x438)],ai,a0_0x29b3b7(0x30d)),sa=require(a0_0x29b3b7(0x4f8)),ri=new sa[(a0_0x29b3b7(0x3dd))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),aa=_0x2e5824=>{const _0x27528c=a0_0x29b3b7;let _0x5b8095='z_'+_0x2e5824+'_Messages';return T?.[_0x27528c(0x254)](_0x27528c(0x3d0),ri,_0x5b8095);},ra=require('mongoose'),ps=class{},ii=new ra['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ia=T?.[a0_0x29b3b7(0x254)](ps[a0_0x29b3b7(0x438)],ii,a0_0x29b3b7(0x1d4)),oa=require(a0_0x29b3b7(0x4f8)),hs=class{},na=new oa[(a0_0x29b3b7(0x3dd))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});na[a0_0x29b3b7(0x632)](a0_0x29b3b7(0x62e),function(_0x5ee68a){const _0x4fedac=a0_0x29b3b7;delete this['flowActive'],delete this[_0x4fedac(0x7af)],delete this[_0x4fedac(0x4a6)],delete this[_0x4fedac(0x6f1)],delete this['flowStopMinutes'],_0x5ee68a();});var ca=T?.[a0_0x29b3b7(0x254)](hs[a0_0x29b3b7(0x438)],na,a0_0x29b3b7(0x18b)),k=require(a0_0x29b3b7(0x4f8)),la=require(a0_0x29b3b7(0x430)),Fe=class{},ua=new k[(a0_0x29b3b7(0x3dd))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new k['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),oi=new k[(a0_0x29b3b7(0x3dd))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x29b3b7(0x364)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),da=new k[(a0_0x29b3b7(0x3dd))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ni=new k['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ci=new k[(a0_0x29b3b7(0x3dd))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),bs=new k[(a0_0x29b3b7(0x3dd))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),pa=new k[(a0_0x29b3b7(0x3dd))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':oi},'apirequest':ni,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ha=new k[(a0_0x29b3b7(0x3dd))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ms=class{},Je=new k[(a0_0x29b3b7(0x3dd))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,la['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x44a022=a0_0x29b3b7;return _0x44a022(0x479)+Math[_0x44a022(0x2b8)]()['toString'](0x24)[_0x44a022(0x754)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[bs],'variablesNotFound':{'type':[String]},'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ha],'replyOptions':{'type':[gs],'default':[]}});Je[a0_0x29b3b7(0x632)](a0_0x29b3b7(0x62e),function(_0x565275){const _0xf5e220=a0_0x29b3b7;let _0x8ff40f=new Set(),_0x2be3ac=new Set(this[_0xf5e220(0x7cc)]?.[_0xf5e220(0x40d)](_0x28ce18=>_0x28ce18[_0xf5e220(0x438)])),_0x5e6e30=JSON['stringify'](this),_0x1ad70c=/{{(?!_)([^}]*)}}/g,_0x5c8820;for(;(_0x5c8820=_0x1ad70c[_0xf5e220(0x51f)](_0x5e6e30))!==null;)_0x2be3ac['has'](_0x5c8820[0x1])||_0x8ff40f['add'](_0x5c8820[0x1]);_0x8ff40f[_0xf5e220(0x6e7)]>0x0?(console[_0xf5e220(0x47a)]('Variáveis\x20não\x20encontradas:',Array['from'](_0x8ff40f)),this['variablesNotFound']=Array[_0xf5e220(0x12c)](_0x8ff40f)):this[_0xf5e220(0x6c8)]=[],_0x565275();}),Je[a0_0x29b3b7(0x632)](a0_0x29b3b7(0x153),function(_0x534c53){const _0x1f9c7b=a0_0x29b3b7;let _0x39899d=this['getUpdate']();if(_0x39899d&&typeof _0x39899d=='object'&&_0x1f9c7b(0x678)in _0x39899d){let _0xec371f=_0x39899d['$set'];if(_0xec371f){let _0x2ee8ba=new Set(),_0xe08d9c=new Set(_0xec371f['variables']?.[_0x1f9c7b(0x40d)](_0x5e777d=>_0x5e777d['name'])),_0x989a37=JSON[_0x1f9c7b(0xfe)](_0xec371f),_0x416d48=/{{(?!_)([^}]*)}}/g,_0x31b390;for(;(_0x31b390=_0x416d48[_0x1f9c7b(0x51f)](_0x989a37))!==null;)_0xe08d9c['has'](_0x31b390[0x1])||_0x2ee8ba[_0x1f9c7b(0x3d5)](_0x31b390[0x1]);_0x2ee8ba[_0x1f9c7b(0x6e7)]>0x0?(console[_0x1f9c7b(0x47a)](_0x1f9c7b(0x2cf),Array[_0x1f9c7b(0x12c)](_0x2ee8ba)),_0xec371f[_0x1f9c7b(0x6c8)]=Array[_0x1f9c7b(0x12c)](_0x2ee8ba)):_0xec371f[_0x1f9c7b(0x6c8)]=[],this[_0x1f9c7b(0x689)]({'$set':_0xec371f});}}_0x534c53();});var ga=_0x246ab9=>{const _0x1b4da1=a0_0x29b3b7;let _0x40b131='z_'+_0x246ab9+_0x1b4da1(0x311);return T?.[_0x1b4da1(0x254)](_0x1b4da1(0x163),Je,_0x40b131);},ma=T?.['model'](ms[a0_0x29b3b7(0x438)],Je,a0_0x29b3b7(0x2d3)),li=new k[(a0_0x29b3b7(0x3dd))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[bs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ci]},{'_id':!0x1}),fs=class{},fa=new k[(a0_0x29b3b7(0x3dd))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[bs],'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ha],'replyOptions':{'type':[gs],'default':[]},'chatLog':li,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x29b3b7(0x444)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),wa=_0x7ca7fa=>{const _0x5a3653=a0_0x29b3b7;let _0x5a2787='z_'+_0x7ca7fa+_0x5a3653(0x72c);return T?.['model'](_0x5a3653(0xe4),fa,_0x5a2787);},ya=T?.[a0_0x29b3b7(0x254)](fs[a0_0x29b3b7(0x438)],fa,a0_0x29b3b7(0x45b)),ws=class{},ui=new k[(a0_0x29b3b7(0x3dd))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),di=new k[(a0_0x29b3b7(0x3dd))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ba=new k['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x29b3b7(0x510)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':di,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ui],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),Sa=_0x199c4f=>{const _0x3b613d=a0_0x29b3b7;let _0x5729a5='z_'+_0x199c4f+_0x3b613d(0x776);return T?.[_0x3b613d(0x254)](_0x3b613d(0x21a),ba,_0x5729a5);},Ma=T?.[a0_0x29b3b7(0x254)](ws[a0_0x29b3b7(0x438)],ba,a0_0x29b3b7(0x169)),ys=class{},pi=new k[(a0_0x29b3b7(0x3dd))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'command':{'type':String,'unique':!0x0},'message':{'type':String}}),hi=new k[(a0_0x29b3b7(0x3dd))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),gi=new k[(a0_0x29b3b7(0x3dd))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),mi=new k[(a0_0x29b3b7(0x3dd))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),fi=new k['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[mi]},'customFields':{'type':[hi]},'flowConfig':{'type':gi,'default':{}},'autoCompleteMessages':{'type':[pi],'default':[]}}),Ce=T?.[a0_0x29b3b7(0x254)](ys['name'],fi,a0_0x29b3b7(0x460)),Ca=require(a0_0x29b3b7(0x4f8)),wi=new Ca[(a0_0x29b3b7(0x3dd))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0x50962b=>{const _0x57f65f=a0_0x29b3b7;let _0x2d4d4e='z_'+_0x50962b+'_Labels';return T?.[_0x57f65f(0x254)]('LabelModel',wi,_0x2d4d4e);},x=class{constructor(_0xe63417){const _0x4e1d63=a0_0x29b3b7;this[_0x4e1d63(0x748)]=_0xe63417['get'](_0x4e1d63(0x43d));}};function A(_0x35ba4d){const _0x2165c2=a0_0x29b3b7;let _0x4413a3={};for(let [_0x30d160,_0x36eee1]of Object[_0x2165c2(0x6ee)](_0x35ba4d))if(typeof _0x36eee1=='object'&&!Array['isArray'](_0x36eee1)){for(let [_0x1aa26d,_0x3c022a]of Object['entries'](_0x36eee1))_0x4413a3[_0x30d160+'.'+_0x1aa26d]=_0x3c022a;}else _0x4413a3[_0x30d160]=_0x36eee1;return _0x4413a3;}var Ue=class{constructor(_0x4597ba,_0x4f44c8,_0x34b82c,_0x5e82e8,_0x40112d,_0x3dff99,_0x5b8589,_0x2ea9e3,_0x1efe69,_0x936364,_0xf359,_0x1287cc){const _0x33291e=a0_0x29b3b7;this[_0x33291e(0x780)]=_0x4597ba,this['chat']=_0x4f44c8,this[_0x33291e(0x15f)]=_0x34b82c,this[_0x33291e(0x313)]=_0x5e82e8,this[_0x33291e(0x18b)]=_0x40112d,this['auth']=_0x3dff99,this[_0x33291e(0x2d3)]=_0x5b8589,this[_0x33291e(0x45b)]=_0x2ea9e3,this[_0x33291e(0x6ac)]=_0x1efe69,this[_0x33291e(0x241)]=_0x936364,this[_0x33291e(0x6e3)]=_0xf359,this['dbClient']=_0x1287cc;}get['dbServer'](){const _0x325b81=a0_0x29b3b7;return this[_0x325b81(0x2ae)];}},qe=class{},Ve=class extends x{[a0_0x29b3b7(0x413)](_0x57c4f3){return aa(_0x57c4f3);}async[a0_0x29b3b7(0x34e)](_0x56b13f,_0x49f71d){const _0x51111d=a0_0x29b3b7;if(_0x56b13f[_0x51111d(0x761)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x51111d(0x413)](_0x49f71d)[_0x51111d(0x29b)]([..._0x56b13f]))['length']};}catch(_0x1f786c){return _0x1f786c;}}async[a0_0x29b3b7(0x61d)](_0x3de448,_0x2a8721){const _0x10af8f=a0_0x29b3b7;try{let _0x1d238a=this[_0x10af8f(0x413)](_0x2a8721),_0x2fc2a7=A(_0x3de448[_0x10af8f(0x414)]);return await _0x1d238a[_0x10af8f(0x61d)](_0x2fc2a7)['sort']({'messageTimestamp':-0x1})['limit'](_0x3de448?.[_0x10af8f(0x3c9)]??0x0)[_0x10af8f(0x363)]();}catch{return[];}}async[a0_0x29b3b7(0x5a1)](_0x1d09a9,_0x25ca1e){const _0x4832bd=a0_0x29b3b7;try{let _0x2094b1=this['getMessageModelForOwner'](_0x25ca1e),_0x40e947=A(_0x1d09a9[_0x4832bd(0x414)]);await _0x2094b1[_0x4832bd(0x4cb)](_0x40e947);}catch(_0x2e3570){console[_0x4832bd(0x60d)](_0x2e3570);}}async[a0_0x29b3b7(0x5ca)](_0x3e3884,_0xe59135,_0x28a9d8){const _0x31dc2b=a0_0x29b3b7;try{let _0x3eab42=this['getMessageModelForOwner'](_0x28a9d8),_0xa43c7a=A(_0x3e3884[_0x31dc2b(0x414)]);return await _0x3eab42[_0x31dc2b(0x153)](_0xa43c7a,{'$set':_0xe59135},{'new':!0x0});}catch(_0x49d46b){throw console['error'](_0x49d46b),_0x49d46b;}}async[a0_0x29b3b7(0x29b)](_0x5336ad,_0x170f10){const _0x2041da=a0_0x29b3b7;if(_0x5336ad[_0x2041da(0x761)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2041da(0x413)](_0x170f10)[_0x2041da(0x29b)]([..._0x5336ad]))[_0x2041da(0x761)]};}catch(_0x3f03d0){return console['log']('ERROR:\x20',_0x3f03d0),_0x3f03d0;}}async[a0_0x29b3b7(0x1bf)](_0x4b7aae){const _0xc1a0dc=a0_0x29b3b7;try{return await this['getMessageModelForOwner'](_0x4b7aae)[_0xc1a0dc(0x6eb)]['drop'](),{'success':!0x0};}catch(_0x6ca68f){return console[_0xc1a0dc(0x60d)](_0x6ca68f),{'success':!0x1,'error':_0x6ca68f};}}},As=O(require(a0_0x29b3b7(0x117))),f=O(require(a0_0x29b3b7(0x35e))),Oe=require('fs'),F=O(require('path')),K=O(require('axios')),Or=require(a0_0x29b3b7(0x430)),Ar=O(require(a0_0x29b3b7(0x511))),$r=O(require(a0_0x29b3b7(0x367))),va=[a0_0x29b3b7(0x2a4),a0_0x29b3b7(0x79a),a0_0x29b3b7(0x6fe),'videoMessage',a0_0x29b3b7(0x655)],Na=['ephemeralMessage',a0_0x29b3b7(0x726),a0_0x29b3b7(0x3d8),a0_0x29b3b7(0x6ab)],$s=require('os'),Pt=O(require(a0_0x29b3b7(0x74c))),Ae=require(a0_0x29b3b7(0x3f8)),kt=require(a0_0x29b3b7(0x51b)),re=O(require(a0_0x29b3b7(0x4f8))),P=require('class-validator'),we=class{constructor(_0x2b101f,_0x35eb3e,_0x2b620e){const _0x53229a=a0_0x29b3b7;this[_0x53229a(0x31d)]=_0x2b101f,this['exists']=_0x35eb3e,this[_0x53229a(0x438)]=_0x2b620e;}},Ge=class{},Be=class{},Ee=class{},We=class{},ze=class{},ye=class{},He=class{},Ke=class{},Qe=class{},Ye=class{},At=O(require(a0_0x29b3b7(0x1ef))),Ra=require('fs'),Ta=require(a0_0x29b3b7(0x21d));async function Xe(_0x56231b){const _0x67def1=a0_0x29b3b7;let _0x13d16d=G[_0x67def1(0x741)][_0x56231b];if(L[_0x67def1(0x238)]){let _0x3b38f5=T[_0x67def1(0x412)]()['db'](L[_0x67def1(0x64f)][_0x67def1(0x416)]+_0x67def1(0x47b))[_0x67def1(0x6eb)](_0x56231b);return _0x13d16d||(await _0x3b38f5[_0x67def1(0x61d)]({})[_0x67def1(0x3e5)]())[_0x67def1(0x761)]>0x0;}return _0x13d16d||(0x0,Ra['existsSync'])((0x0,Ta[_0x67def1(0x452)])(ge,_0x56231b));}function a0_0x1da8(_0x5005bf,_0x3cac64){const _0x2c4f67=a0_0x2c4f();return a0_0x1da8=function(_0x1da812,_0x3d48e6){_0x1da812=_0x1da812-0xe2;let _0x1ed1ad=_0x2c4f67[_0x1da812];return _0x1ed1ad;},a0_0x1da8(_0x5005bf,_0x3cac64);}async function Oa(_0xfa09a7,_0x4f702a,_0x18f102){const _0x2ede59=a0_0x29b3b7;if(_0xfa09a7[_0x2ede59(0x210)][_0x2ede59(0x58d)](_0x2ede59(0x165))||_0xfa09a7[_0x2ede59(0x210)][_0x2ede59(0x58d)](_0x2ede59(0x382))||_0xfa09a7[_0x2ede59(0x210)]['includes'](_0x2ede59(0x417))||_0xfa09a7[_0x2ede59(0x210)][_0x2ede59(0x58d)](_0x2ede59(0x340))||_0xfa09a7[_0x2ede59(0x210)]['includes']('/instance/connect')||_0xfa09a7[_0x2ede59(0x210)][_0x2ede59(0x58d)]('/instance/connectionState')||_0xfa09a7[_0x2ede59(0x210)]['includes'](_0x2ede59(0x1e7)))return _0x18f102();let _0x57fcbb=_0xfa09a7[_0x2ede59(0x300)];if(!_0x57fcbb?.[_0x2ede59(0x770)])throw new m(_0x2ede59(0x1aa));if(!await Xe(_0x57fcbb[_0x2ede59(0x770)]))throw new U(_0x2ede59(0x461)+_0x57fcbb[_0x2ede59(0x770)]+_0x2ede59(0x570));_0x18f102();}async function Aa(_0x1b3d5a,_0x9c1732,_0x3a4c19){const _0x254e1b=a0_0x29b3b7;if(_0x1b3d5a[_0x254e1b(0x210)][_0x254e1b(0x58d)](_0x254e1b(0x165))){let _0x4511b2=_0x1b3d5a[_0x254e1b(0x4fe)];if(await Xe(_0x4511b2[_0x254e1b(0x770)]))throw new Q(_0x254e1b(0x1ff)+_0x4511b2[_0x254e1b(0x770)]+_0x254e1b(0x4ea));G['waInstances'][_0x4511b2[_0x254e1b(0x770)]]&&delete G[_0x254e1b(0x741)][_0x4511b2[_0x254e1b(0x770)]];}_0x3a4c19();}var $a=require(a0_0x29b3b7(0x4d4)),Ia=O(require('jsonwebtoken')),Ze=a0_0x29b3b7(0x11e),bi=new R(a0_0x29b3b7(0x11b));async function Si(_0x1b3b5d,_0x5cdd18,_0x2957e6){const _0x5f49eb=a0_0x29b3b7;let _0x3bf27f=_0x1b3b5d[_0x5f49eb(0x1a1)](_0x5f49eb(0x54e));if(_0x3bf27f&&b[_0x5f49eb(0x1a1)](_0x5f49eb(0x786))['API_KEY']['KEY']!==_0x3bf27f)throw new te();if(b['get'](_0x5f49eb(0x786))[_0x5f49eb(0x4df)]['KEY']===_0x3bf27f)return _0x2957e6();if((_0x1b3b5d[_0x5f49eb(0x210)][_0x5f49eb(0x58d)](_0x5f49eb(0x165))||_0x1b3b5d[_0x5f49eb(0x210)][_0x5f49eb(0x58d)](_0x5f49eb(0x382)))&&!_0x3bf27f)throw new Q(_0x5f49eb(0x743),_0x5f49eb(0x5f2));let _0x219142=b['get'](_0x5f49eb(0x786))[_0x5f49eb(0x1d1)];try{let [_0x52659d,_0x39cd41]=_0x1b3b5d[_0x5f49eb(0x1a1)](_0x5f49eb(0x671))[_0x5f49eb(0x355)]('\x20');if(_0x52659d[_0x5f49eb(0x4d0)]()!==_0x5f49eb(0x493))throw new te();if(!(0x0,$a['isJWT'])(_0x39cd41))throw new te();let _0xb84779=_0x1b3b5d[_0x5f49eb(0x300)],_0x855e9a=Ia['default'][_0x5f49eb(0x3de)](_0x39cd41,_0x219142[_0x5f49eb(0x7cf)],{'ignoreExpiration':_0x219142['EXPIRIN_IN']===0x0});if(_0xb84779[_0x5f49eb(0x770)]!==_0x855e9a['instanceName']||Ze!==_0x855e9a['apiName'])throw new te();return _0x2957e6();}catch(_0x51cbe2){throw bi[_0x5f49eb(0x60d)](_0x51cbe2),new te();}}async function Mi(_0x35925f,_0x53e5d1,_0x55282f){const _0x25ebd9=a0_0x29b3b7;let _0x2e00ed=b[_0x25ebd9(0x1a1)](_0x25ebd9(0x786))['API_KEY'],_0x52bd1c=_0x35925f[_0x25ebd9(0x1a1)](_0x25ebd9(0x54e));if(_0x2e00ed['KEY']===_0x52bd1c)return _0x55282f();if(_0x35925f[_0x25ebd9(0x210)][_0x25ebd9(0x58d)](_0x25ebd9(0x165))){let _0x89d2fc=et,_0x532a14=_0x35925f[_0x25ebd9(0x4fe)][_0x25ebd9(0x770)];if(_0x89d2fc&&_0x532a14[_0x25ebd9(0x4d0)]()[_0x25ebd9(0x7bb)](_0x89d2fc[_0x25ebd9(0x4d0)]()))return _0x55282f();if(!_0x52bd1c)throw new Q('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x35925f[_0x25ebd9(0x210)][_0x25ebd9(0x58d)](_0x25ebd9(0x382))&&!_0x52bd1c)throw new Q('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x35925f[_0x25ebd9(0x210)][_0x25ebd9(0x58d)](_0x25ebd9(0x417))&&!_0x52bd1c)throw new Q(_0x25ebd9(0x743),_0x25ebd9(0x5f2));if(_0x35925f[_0x25ebd9(0x210)][_0x25ebd9(0x58d)](_0x25ebd9(0x340))&&!_0x52bd1c)throw new Q(_0x25ebd9(0x743),_0x25ebd9(0x5f2));try{let _0x506c55=_0x35925f[_0x25ebd9(0x300)],_0x5299fa=await ue[_0x25ebd9(0x7c9)][_0x25ebd9(0x61d)](_0x506c55['instanceName']);if(_0x5299fa&&_0x5299fa[_0x25ebd9(0x54e)]===_0x52bd1c)return _0x55282f();}catch{}throw new te();}var xa={'jwt':Si,'apikey':Mi},pr=require(a0_0x29b3b7(0x1ef)),v=require(a0_0x29b3b7(0x430)),E=(..._0x4a3a34)=>{const _0x54bcb2=a0_0x29b3b7;let _0x431ead={};return _0x4a3a34['forEach'](_0x21d1cd=>_0x431ead[_0x21d1cd]={'minLength':0x1,'description':'The\x20\x22'+_0x21d1cd+_0x54bcb2(0x498)}),{'if':{'propertyNames':{'enum':[..._0x4a3a34]}},'then':{'properties':_0x431ead}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'instanceName':{'type':a0_0x29b3b7(0x162)}},...E(a0_0x29b3b7(0x770))},dc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x29b3b7(0x162)}},'required':[a0_0x29b3b7(0x5b3)],...E(a0_0x29b3b7(0x5b3))},pc={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x29b3b7(0x162)},'remoteJid':{'type':a0_0x29b3b7(0x162)},'fromMe':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]}},'required':['id','remoteJid','fromMe'],...E('id',a0_0x29b3b7(0x4b0))},'message':{'type':a0_0x29b3b7(0x320)}}},Y={'properties':{'delay':{'type':a0_0x29b3b7(0x787),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x29b3b7(0x162),'enum':[a0_0x29b3b7(0x198),a0_0x29b3b7(0x337),a0_0x29b3b7(0x289),a0_0x29b3b7(0x60c),'paused']}}},z={'type':a0_0x29b3b7(0x162),'description':a0_0x29b3b7(0x4bf)},Da={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'number':{...z},'options':{...Y},'textMessage':{'type':'object','properties':{'text':{'type':'string'}},'required':[a0_0x29b3b7(0x623)],...E(a0_0x29b3b7(0x623))}},'required':[a0_0x29b3b7(0x10b),a0_0x29b3b7(0x487)]},_a={'type':a0_0x29b3b7(0x162),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x29b3b7(0x4bf)},hc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{..._a},'options':{...Y},'textMessage':{'type':a0_0x29b3b7(0x320),'properties':{'text':{'type':'string'}},'required':[a0_0x29b3b7(0x623)],...E('text')}},'required':[a0_0x29b3b7(0x10b),a0_0x29b3b7(0x487)]},gc={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'number':{..._a},'options':{...Y},'mediaMessage':{'type':a0_0x29b3b7(0x320),'properties':{'mediatype':{'type':a0_0x29b3b7(0x162),'enum':['image',a0_0x29b3b7(0x6b3),a0_0x29b3b7(0x370),'audio']},'media':{'type':'string'},'fileName':{'type':a0_0x29b3b7(0x162)},'caption':{'type':a0_0x29b3b7(0x162)}},'required':[a0_0x29b3b7(0x7c4),a0_0x29b3b7(0x1c9)],...E(a0_0x29b3b7(0x419),a0_0x29b3b7(0x106),a0_0x29b3b7(0x1c9))}},'required':[a0_0x29b3b7(0x4c3),'number']},Pa={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':'object','properties':{'image':{'type':a0_0x29b3b7(0x162)}},'required':[a0_0x29b3b7(0x2b9)],...E(a0_0x29b3b7(0x2b9))}},'required':[a0_0x29b3b7(0x655),'number']},ka={'$id':(0x0,v['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x29b3b7(0x320),'properties':{'type':{'type':a0_0x29b3b7(0x162),'enum':['text',a0_0x29b3b7(0x2b9),a0_0x29b3b7(0x609),a0_0x29b3b7(0x370)]},'content':{'type':a0_0x29b3b7(0x162)},'caption':{'type':a0_0x29b3b7(0x162)},'backgroundColor':{'type':a0_0x29b3b7(0x162)},'font':{'type':a0_0x29b3b7(0x787),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x29b3b7(0x162),'pattern':'^\x5cd+','description':a0_0x29b3b7(0x1e9)}},'allContacts':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]}},'required':['type',a0_0x29b3b7(0x653)],...E(a0_0x29b3b7(0x263),a0_0x29b3b7(0x653))}},'required':[a0_0x29b3b7(0x3fe)]},ja={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0x29b3b7(0x320),'properties':{'mediatype':{'type':a0_0x29b3b7(0x162),'enum':[a0_0x29b3b7(0x2b9),a0_0x29b3b7(0x6b3),a0_0x29b3b7(0x370),a0_0x29b3b7(0x609)]},'media':{'type':a0_0x29b3b7(0x162)},'fileName':{'type':a0_0x29b3b7(0x162)},'caption':{'type':a0_0x29b3b7(0x162)}},'required':[a0_0x29b3b7(0x7c4),a0_0x29b3b7(0x1c9)],...E(a0_0x29b3b7(0x419),a0_0x29b3b7(0x106),'media')}},'required':[a0_0x29b3b7(0x4c3),a0_0x29b3b7(0x487)]},La={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':a0_0x29b3b7(0x320),'properties':{'audio':{'type':a0_0x29b3b7(0x162)}},'required':[a0_0x29b3b7(0x609)],...E(a0_0x29b3b7(0x609))}},'required':[a0_0x29b3b7(0x6fe),a0_0x29b3b7(0x487)]},Fa={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'number':{...z},'pollMessage':{'type':a0_0x29b3b7(0x320),'properties':{'name':{'type':a0_0x29b3b7(0x162)},'selectableCount':{'type':a0_0x29b3b7(0x487)},'values':{'type':a0_0x29b3b7(0x312),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x29b3b7(0x438),a0_0x29b3b7(0x7ae),'values'],...E(a0_0x29b3b7(0x438),a0_0x29b3b7(0x7ae),a0_0x29b3b7(0x103))}},'required':[a0_0x29b3b7(0x487),a0_0x29b3b7(0x516)]},Ja={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'menuMessage':{'type':a0_0x29b3b7(0x320),'properties':{'text':{'type':a0_0x29b3b7(0x162)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x29b3b7(0x623),a0_0x29b3b7(0x3e3)],...E('text',a0_0x29b3b7(0x3e3))}},'required':[a0_0x29b3b7(0x487),a0_0x29b3b7(0x136)]},Ua={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x29b3b7(0x320),'properties':{'title':{'type':'string'},'description':{'type':a0_0x29b3b7(0x162)},'footerText':{'type':a0_0x29b3b7(0x162)},'buttons':{'type':a0_0x29b3b7(0x312),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x29b3b7(0x320),'properties':{'buttonText':{'type':a0_0x29b3b7(0x162)},'buttonId':{'type':a0_0x29b3b7(0x162)}},'required':['buttonText',a0_0x29b3b7(0x49c)],...E(a0_0x29b3b7(0x578),a0_0x29b3b7(0x49c))}},'mediaMessage':{'type':a0_0x29b3b7(0x320),'properties':{'media':{'type':a0_0x29b3b7(0x162)},'fileName':{'type':'string'},'mediatype':{'type':a0_0x29b3b7(0x162),'enum':[a0_0x29b3b7(0x2b9),a0_0x29b3b7(0x6b3),'video']}},'required':[a0_0x29b3b7(0x1c9),'mediatype'],...E(a0_0x29b3b7(0x1c9),'fileName')}},'required':[a0_0x29b3b7(0x200),a0_0x29b3b7(0x3c5)],...E(a0_0x29b3b7(0x200),a0_0x29b3b7(0x13a))}},'required':[a0_0x29b3b7(0x487),a0_0x29b3b7(0x3fc)]},qa={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':a0_0x29b3b7(0x320),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x29b3b7(0x487)},'name':{'type':'string'},'address':{'type':a0_0x29b3b7(0x162)}},'required':['latitude',a0_0x29b3b7(0x71d)],...E('name','addresss')}},'required':[a0_0x29b3b7(0x487),'locationMessage']},Va={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'number':{...z},'options':{...Y},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x29b3b7(0x162)},'description':{'type':a0_0x29b3b7(0x162)},'footerText':{'type':a0_0x29b3b7(0x162)},'buttonText':{'type':a0_0x29b3b7(0x162)},'sections':{'type':a0_0x29b3b7(0x312),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x29b3b7(0x320),'properties':{'title':{'type':a0_0x29b3b7(0x162)},'rows':{'type':a0_0x29b3b7(0x312),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x29b3b7(0x320),'properties':{'title':{'type':a0_0x29b3b7(0x162)},'description':{'type':a0_0x29b3b7(0x162)},'rowId':{'type':'string'}},'required':[a0_0x29b3b7(0x200),a0_0x29b3b7(0xf8)],...E(a0_0x29b3b7(0x200),'rowId')}}},'required':['title',a0_0x29b3b7(0x204)],...E('title')}}},'required':[a0_0x29b3b7(0x200),a0_0x29b3b7(0x13a),a0_0x29b3b7(0x578),'sections'],...E(a0_0x29b3b7(0x200),'description',a0_0x29b3b7(0x578),a0_0x29b3b7(0x19d))}},'required':['number',a0_0x29b3b7(0x79d)]},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':a0_0x29b3b7(0x312),'items':{'type':a0_0x29b3b7(0x320),'properties':{'fullName':{'type':a0_0x29b3b7(0x162)},'phoneNumber':{'type':a0_0x29b3b7(0x162),'minLength':0xa}},'required':[a0_0x29b3b7(0x7ca),a0_0x29b3b7(0x79f)],...E(a0_0x29b3b7(0x7ca))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x29b3b7(0x487),'contactMessage']},Ba={'$id':(0x0,v['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x29b3b7(0x320),'properties':{'key':{'type':a0_0x29b3b7(0x320),'properties':{'id':{'type':a0_0x29b3b7(0x162)},'remoteJid':{'type':a0_0x29b3b7(0x162)},'fromMe':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]}},'required':['id',a0_0x29b3b7(0x4b0),'fromMe'],...E('id',a0_0x29b3b7(0x4b0))},'reaction':{'type':a0_0x29b3b7(0x162)}},'required':['key',a0_0x29b3b7(0x375)],...E('reaction')}},'required':['reactionMessage']},Wa={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'numbers':{'type':a0_0x29b3b7(0x312),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x29b3b7(0x162),'pattern':a0_0x29b3b7(0x319),'description':a0_0x29b3b7(0x553)}}}},za={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x29b3b7(0x162)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x29b3b7(0x162)}},'required':['id',a0_0x29b3b7(0x245),'remoteJid'],...E('id',a0_0x29b3b7(0x4b0))}}},'required':[a0_0x29b3b7(0x29a)]},Ha={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'privacySettings':{'type':a0_0x29b3b7(0x320),'properties':{'readreceipts':{'type':a0_0x29b3b7(0x162),'enum':[a0_0x29b3b7(0x357),'none']},'profile':{'type':a0_0x29b3b7(0x162),'enum':[a0_0x29b3b7(0x357),a0_0x29b3b7(0x137),a0_0x29b3b7(0x6d9),a0_0x29b3b7(0x46c)]},'status':{'type':'string','enum':[a0_0x29b3b7(0x357),a0_0x29b3b7(0x137),'contact_blacklist',a0_0x29b3b7(0x46c)]},'online':{'type':'string','enum':['all','match_last_seen']},'last':{'type':a0_0x29b3b7(0x162),'enum':[a0_0x29b3b7(0x357),a0_0x29b3b7(0x137),a0_0x29b3b7(0x6d9),a0_0x29b3b7(0x46c)]},'groupadd':{'type':a0_0x29b3b7(0x162),'enum':[a0_0x29b3b7(0x357),a0_0x29b3b7(0x137),a0_0x29b3b7(0x6d9),a0_0x29b3b7(0x46c)]}},'required':[a0_0x29b3b7(0x366),a0_0x29b3b7(0x1bc),a0_0x29b3b7(0x59d),a0_0x29b3b7(0x57a),a0_0x29b3b7(0x166),a0_0x29b3b7(0x2c9)],...E(a0_0x29b3b7(0x366),a0_0x29b3b7(0x1bc),a0_0x29b3b7(0x59d),a0_0x29b3b7(0x57a),a0_0x29b3b7(0x166),a0_0x29b3b7(0x2c9))}},'required':[a0_0x29b3b7(0x789)]},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x29b3b7(0x320),'properties':{'id':{'type':a0_0x29b3b7(0x162)},'remoteJid':{'type':a0_0x29b3b7(0x162)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x29b3b7(0x245),'remoteJid'],...E('id','remoteJid')},'messageTimestamp':{'type':a0_0x29b3b7(0x787),'minLength':0x1}},'required':['key'],...E(a0_0x29b3b7(0x26d))},'archive':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]}},'required':[a0_0x29b3b7(0x4a7),'archive']},Qa={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'id':{'type':a0_0x29b3b7(0x162)},'fromMe':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x29b3b7(0x162)},'participant':{'type':a0_0x29b3b7(0x162)}},'required':['id','fromMe',a0_0x29b3b7(0x4b0)],...E('id',a0_0x29b3b7(0x4b0),a0_0x29b3b7(0x77c))},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'where':{'type':a0_0x29b3b7(0x320),'properties':{'_id':{'type':a0_0x29b3b7(0x162),'minLength':0x1},'pushName':{'type':a0_0x29b3b7(0x162),'minLength':0x1},'id':{'type':a0_0x29b3b7(0x162),'minLength':0x1}},...E(a0_0x29b3b7(0x6a7),'id',a0_0x29b3b7(0x744))}}},Xa={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'name':{'type':a0_0x29b3b7(0x162)}},...E(a0_0x29b3b7(0x438))},Za={'$id':(0x0,v['v4'])(),'type':'object','properties':{'status':{'type':a0_0x29b3b7(0x162)}},...E(a0_0x29b3b7(0x59d))},ve={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{'type':a0_0x29b3b7(0x162)},'picture':{'type':'string'}}},er={'type':a0_0x29b3b7(0x320),'properties':{'wuid':{'type':a0_0x29b3b7(0x162)},'name':{'type':a0_0x29b3b7(0x162)},'picture':{'type':a0_0x29b3b7(0x162)},'status':{'type':a0_0x29b3b7(0x162)},'isBusiness':{'type':a0_0x29b3b7(0x6bc)}}},tr={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'where':{'type':a0_0x29b3b7(0x320),'properties':{'_id':{'type':a0_0x29b3b7(0x162),'minLength':0x1},'key':{'type':a0_0x29b3b7(0x320),'if':{'propertyNames':{'enum':[a0_0x29b3b7(0x245),a0_0x29b3b7(0x4b0),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x29b3b7(0xf0)},'id':{'type':'string','minLength':0x1,'description':a0_0x29b3b7(0xf0)},'fromMe':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x29b3b7(0x320)}},...E(a0_0x29b3b7(0x6a7))},'limit':{'type':a0_0x29b3b7(0x787)}}},mc={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'where':{'type':a0_0x29b3b7(0x320),'properties':{'_id':{'type':a0_0x29b3b7(0x162)},'remoteJid':{'type':a0_0x29b3b7(0x162)},'id':{'type':a0_0x29b3b7(0x162)},'fromMe':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x29b3b7(0x162),'enum':[a0_0x29b3b7(0x212),a0_0x29b3b7(0x72a),'SERVER_ACK','DELIVERY_ACK',a0_0x29b3b7(0x6cc),a0_0x29b3b7(0x518)]}},...E(a0_0x29b3b7(0x6a7),a0_0x29b3b7(0x4b0),'id',a0_0x29b3b7(0x59d))},'limit':{'type':a0_0x29b3b7(0x787)}}},sr={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'number':{...z},'presence':{'type':a0_0x29b3b7(0x162),'enum':[a0_0x29b3b7(0x198),'available',a0_0x29b3b7(0x289),a0_0x29b3b7(0x60c),a0_0x29b3b7(0x196)]}},'required':[a0_0x29b3b7(0x386),'number']},ar={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'subject':{'type':a0_0x29b3b7(0x162)},'description':{'type':a0_0x29b3b7(0x162)},'profilePicture':{'type':a0_0x29b3b7(0x162)},'participants':{'type':a0_0x29b3b7(0x312),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':'\x5cd+','description':a0_0x29b3b7(0x2ca)}}},'required':[a0_0x29b3b7(0x607),'participants'],...E(a0_0x29b3b7(0x607),a0_0x29b3b7(0x13a),a0_0x29b3b7(0x4c7))},Ne={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'groupJid':{'type':a0_0x29b3b7(0x162),'pattern':a0_0x29b3b7(0x555)}},'required':[a0_0x29b3b7(0x546)],...E(a0_0x29b3b7(0x546))},rr={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'groupJid':{'type':a0_0x29b3b7(0x162)},'action':{'type':'string','enum':['add',a0_0x29b3b7(0x286),'promote',a0_0x29b3b7(0x14e),a0_0x29b3b7(0x330),a0_0x29b3b7(0x41e)]},'participants':{'type':a0_0x29b3b7(0x312),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x29b3b7(0x162),'minLength':0xa,'pattern':a0_0x29b3b7(0x42f),'description':a0_0x29b3b7(0x2ca)}}},'required':[a0_0x29b3b7(0x546),a0_0x29b3b7(0x5e5),a0_0x29b3b7(0x1cd)],...E(a0_0x29b3b7(0x546),a0_0x29b3b7(0x5e5))},ir={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'groupJid':{'type':a0_0x29b3b7(0x162)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x29b3b7(0x546),a0_0x29b3b7(0x457)],...E('groupJid',a0_0x29b3b7(0x457))},or={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'groupJid':{'type':a0_0x29b3b7(0x162)},'image':{'type':'string'}},'required':[a0_0x29b3b7(0x546),'image'],...E('groupJid','image')},nr={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'groupJid':{'type':a0_0x29b3b7(0x162)},'description':{'type':a0_0x29b3b7(0x162)}},'required':[a0_0x29b3b7(0x546),'description'],...E('groupJid',a0_0x29b3b7(0x13a))},cr={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'groupJid':{'type':a0_0x29b3b7(0x162)},'name':{'type':'string'}},'required':[a0_0x29b3b7(0x546),a0_0x29b3b7(0x438)],...E(a0_0x29b3b7(0x546),a0_0x29b3b7(0x438))},lr={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'groupJid':{'type':a0_0x29b3b7(0x162)},'setting':{'type':'string','enum':['announcement',a0_0x29b3b7(0x42d),a0_0x29b3b7(0x41c),a0_0x29b3b7(0x68b)]}},'required':[a0_0x29b3b7(0x546),a0_0x29b3b7(0x6e2)],...E('groupJid',a0_0x29b3b7(0x6e2))},ur={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'groupJid':{'type':a0_0x29b3b7(0x162)},'restrict':{'type':'boolean'},'announce':{'type':a0_0x29b3b7(0x6bc)},'memberAddMode':{'type':'boolean'},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x29b3b7(0x162)},'description':{'type':a0_0x29b3b7(0x162)},'image':{'type':a0_0x29b3b7(0x162)}}},Ss={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'inviteCode':{'type':a0_0x29b3b7(0x162)}},'required':[a0_0x29b3b7(0x448)],...E(a0_0x29b3b7(0x448))},dr={'$id':(0x0,v['v4'])(),'type':a0_0x29b3b7(0x320),'properties':{'url':{'type':a0_0x29b3b7(0x162)},'enabled':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]}},'required':['url',a0_0x29b3b7(0x1fd)]},fc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x29b3b7(0x6bc),'enum':[!0x0,!0x1]}},'required':['local_map','STATUS_INSTANCE',a0_0x29b3b7(0x76c),a0_0x29b3b7(0x51c),a0_0x29b3b7(0x380),a0_0x29b3b7(0x450),a0_0x29b3b7(0x5ea),a0_0x29b3b7(0x234),a0_0x29b3b7(0x72e),a0_0x29b3b7(0x6d3),a0_0x29b3b7(0x594),a0_0x29b3b7(0x78e),'CHATS_UPSERT',a0_0x29b3b7(0x25b),a0_0x29b3b7(0x499),a0_0x29b3b7(0x722),a0_0x29b3b7(0x65a),a0_0x29b3b7(0x5d9),a0_0x29b3b7(0x2fc)],...E(a0_0x29b3b7(0x4ee),a0_0x29b3b7(0x5b1),a0_0x29b3b7(0x76c),a0_0x29b3b7(0x51c),'MESSAGES_UPDATE',a0_0x29b3b7(0x450),a0_0x29b3b7(0x5ea),'CONTACTS_SET',a0_0x29b3b7(0x72e),a0_0x29b3b7(0x6d3),'PRESENCE_UPDATE',a0_0x29b3b7(0x78e),a0_0x29b3b7(0x6ae),a0_0x29b3b7(0x25b),a0_0x29b3b7(0x499),'CONNECTION_UPDATE',a0_0x29b3b7(0x65a),a0_0x29b3b7(0x5d9),a0_0x29b3b7(0x2fc))},tt=class{},st=class extends x{[a0_0x29b3b7(0x44c)](_0x1e1ad3){return Zs(_0x1e1ad3);}async[a0_0x29b3b7(0x34e)](_0x32faf9){const _0x3f4395=a0_0x29b3b7;if(_0x32faf9['length']!==0x0)try{return{'insertCount':(await this[_0x3f4395(0x44c)](_0x32faf9[0x0][_0x3f4395(0x328)])['insertMany']([..._0x32faf9]))[_0x3f4395(0x761)]};}catch(_0xf019d2){return _0xf019d2;}}async[a0_0x29b3b7(0x5a1)](_0x36e781,_0x12a70a){const _0x1def71=a0_0x29b3b7;try{return{'deletedCount':(await this[_0x1def71(0x44c)](_0x12a70a)[_0x1def71(0x4cb)]({..._0x36e781[_0x1def71(0x414)]}))[_0x1def71(0x187)]};}catch(_0x2c6a7a){return{'error':_0x2c6a7a?.[_0x1def71(0x4a2)]()};}}async[a0_0x29b3b7(0x5ca)](_0xa0d611,_0x1b1c30){const _0x4bbef7=a0_0x29b3b7;try{if(_0xa0d611[_0x4bbef7(0x761)]===0x0)return;let _0x4c6133=this['getContactModelForOwner'](_0x1b1c30),_0x52643b=_0xa0d611['map'](_0x63fcd2=>({'updateOne':{'filter':{'_id':_0x63fcd2[_0x4bbef7(0x6a7)],'owner':_0x1b1c30},'update':{..._0x63fcd2}}})),{modifiedCount:_0x407a00}=await _0x4c6133['bulkWrite'](_0x52643b);return{'insertCount':_0x407a00};}catch{return;}}async[a0_0x29b3b7(0x61d)](_0x1d3c56,_0x9f0bf9){const _0x38250e=a0_0x29b3b7;try{let _0x52ec4b=this['getContactModelForOwner'](_0x9f0bf9),_0x3d3b0a=A(_0x1d3c56['where']);return await _0x52ec4b['find'](_0x3d3b0a)['limit'](_0x1d3c56?.['limit']??0x0)[_0x38250e(0x363)]();}catch{return[];}}async['findOne'](_0x53094c,_0x56de90){const _0x3ae98b=a0_0x29b3b7;try{let _0x163db2=this['getContactModelForOwner'](_0x56de90),_0x1a681f=A(_0x53094c['where']);return await _0x163db2[_0x3ae98b(0x3b0)](_0x1a681f)[_0x3ae98b(0x363)]();}catch{return null;}}async[a0_0x29b3b7(0x1bf)](_0x46851e){const _0x1655fa=a0_0x29b3b7;try{return await this[_0x1655fa(0x44c)](_0x46851e)[_0x1655fa(0x6eb)][_0x1655fa(0x1ba)](),{'success':!0x0};}catch(_0x4df0b4){return console[_0x1655fa(0x60d)](_0x4df0b4),{'success':!0x1,'error':_0x4df0b4};}}},at=require('jsonschema'),Nc=require(a0_0x29b3b7(0x775)),Ms=new R(a0_0x29b3b7(0x378)),V=class{['routerPath'](_0x2821d5,_0x300b1e=!0x0){const _0x572042=a0_0x29b3b7;let _0x5d7439='/'+_0x2821d5;return _0x300b1e&&(_0x5d7439+=_0x572042(0x612)),_0x5d7439;}async[a0_0x29b3b7(0x32e)](_0x2064cb){const _0x7082b0=a0_0x29b3b7;let {request:_0x1d9d16,schema:_0x534d15,ClassRef:_0x81ca0,execute:_0x749e02}=_0x2064cb,_0xf6ff32=new _0x81ca0(),_0x4c7710=_0x1d9d16['body'],_0x47348a=_0x1d9d16[_0x7082b0(0x300)];_0x1d9d16?.['query']&&Object['keys'](_0x1d9d16[_0x7082b0(0x685)])[_0x7082b0(0x761)]>0x0&&Object[_0x7082b0(0x411)](_0x47348a,_0x1d9d16['query']),_0x1d9d16[_0x7082b0(0x210)][_0x7082b0(0x58d)]('/instance/create')&&Object[_0x7082b0(0x411)](_0x47348a,_0x4c7710),Object[_0x7082b0(0x411)](_0xf6ff32,_0x4c7710);let _0x51cbf8=_0x534d15?(0x0,at[_0x7082b0(0x740)])(_0xf6ff32,_0x534d15):{'valid':!0x0,'errors':[]};if(!_0x51cbf8[_0x7082b0(0x3d9)]){let _0x485e78=_0x51cbf8[_0x7082b0(0x7ad)]['map'](({property:_0x4f9060,stack:_0x4b27c4,schema:_0x454d18})=>{const _0x3f7f6a=_0x7082b0;let _0x19ff12;return _0x454d18[_0x3f7f6a(0x13a)]?_0x19ff12=_0x454d18[_0x3f7f6a(0x13a)]:_0x19ff12=_0x4b27c4['replace'](_0x3f7f6a(0x57e),''),{'property':_0x4f9060[_0x3f7f6a(0x3b1)](_0x3f7f6a(0x57e),''),'message':_0x19ff12};});throw Ms[_0x7082b0(0x60d)]([..._0x485e78]),new m(..._0x485e78);}return await _0x749e02(_0x47348a,_0xf6ff32);}async[a0_0x29b3b7(0x3d3)](_0x8af79f){const _0x2f7004=a0_0x29b3b7;let {request:_0x248115,ClassRef:_0x5658ed,schema:_0xf37631,execute:_0x510c8b}=_0x8af79f,_0x205f14=_0x248115['query'];if(!_0x205f14?.[_0x2f7004(0x546)])throw new m(_0x2f7004(0x171),_0x2f7004(0x12f));let _0x23c3ad=_0x248115[_0x2f7004(0x300)],_0x46ee7f=_0x248115[_0x2f7004(0x4fe)],_0x1b9cb5=new _0x5658ed();Object[_0x2f7004(0x411)](_0x46ee7f,_0x205f14),Object['assign'](_0x1b9cb5,_0x46ee7f);let _0x16c4e5=(0x0,at[_0x2f7004(0x740)])(_0x1b9cb5,_0xf37631);if(!_0x16c4e5[_0x2f7004(0x3d9)]){let _0x2848a2=_0x16c4e5[_0x2f7004(0x7ad)][_0x2f7004(0x40d)](({property:_0x2d352e,stack:_0x52eb05,schema:_0x39ccdc})=>{const _0x3ed1c9=_0x2f7004;let _0x58f562;return _0x39ccdc[_0x3ed1c9(0x13a)]?_0x58f562=_0x39ccdc[_0x3ed1c9(0x13a)]:_0x58f562=_0x52eb05[_0x3ed1c9(0x3b1)](_0x3ed1c9(0x57e),''),{'property':_0x2d352e[_0x3ed1c9(0x3b1)](_0x3ed1c9(0x57e),''),'message':_0x58f562};});throw Ms['error']([..._0x2848a2]),new m(..._0x2848a2);}return await _0x510c8b(_0x23c3ad,_0x1b9cb5);}async[a0_0x29b3b7(0x4cd)](_0x5adb67){const _0x17ac31=a0_0x29b3b7;let {request:_0x3c416f,ClassRef:_0x33fcd4,schema:_0x684f6f,execute:_0x64e60c}=_0x5adb67,_0x21d79c=_0x3c416f[_0x17ac31(0x4fe)];if(!_0x21d79c?.[_0x17ac31(0x448)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x17ac31(0x7c1));let _0x36ed29=_0x3c416f[_0x17ac31(0x300)],_0x2ee36e=_0x3c416f[_0x17ac31(0x4fe)],_0x5b8e4c=new _0x33fcd4();Object[_0x17ac31(0x411)](_0x2ee36e,_0x21d79c),Object[_0x17ac31(0x411)](_0x5b8e4c,_0x2ee36e);let _0x14f918=(0x0,at[_0x17ac31(0x740)])(_0x5b8e4c,_0x684f6f);if(!_0x14f918['valid']){let _0x32e883=_0x14f918[_0x17ac31(0x7ad)]['map'](({property:_0x4e4953,stack:_0x406830,schema:_0x12e99f})=>{const _0x2444b8=_0x17ac31;let _0x44c62c;return _0x12e99f[_0x2444b8(0x13a)]?_0x44c62c=_0x12e99f[_0x2444b8(0x13a)]:_0x44c62c=_0x406830[_0x2444b8(0x3b1)]('instance.',''),{'property':_0x4e4953[_0x2444b8(0x3b1)](_0x2444b8(0x57e),''),'message':_0x44c62c};});throw Ms[_0x17ac31(0x60d)]([..._0x32e883]),new m(..._0x32e883);}return await _0x64e60c(_0x36ed29,_0x5b8e4c);}},C=class{},Jc=new R('ChatRouter'),rt=class extends V{constructor(..._0x3695ef){const _0x4d8a3d=a0_0x29b3b7;super(),this[_0x4d8a3d(0x3c0)]=(0x0,pr[_0x4d8a3d(0x41b)])(),this[_0x4d8a3d(0x3c0)][_0x4d8a3d(0x58f)](this['routerPath'](_0x4d8a3d(0x265)),..._0x3695ef,async(_0x5ac255,_0x416927)=>{const _0x4055df=_0x4d8a3d;let _0x24fec=await this[_0x4055df(0x32e)]({'request':_0x5ac255,'schema':sr,'ClassRef':Ge,'execute':(_0x299aa1,_0x430959)=>_[_0x4055df(0x265)](_0x299aa1,_0x430959)});return _0x416927[_0x4055df(0x59d)](0xc9)[_0x4055df(0x797)](_0x24fec);})['post'](this[_0x4d8a3d(0x45f)]('whatsappNumbers'),..._0x3695ef,async(_0xd00b67,_0x4b56af)=>{const _0x33a9e8=_0x4d8a3d;let _0x1321fc=await this['dataValidate']({'request':_0xd00b67,'schema':Wa,'ClassRef':Be,'execute':(_0x5a691f,_0x2c89f4)=>_['whatsappNumber'](_0x5a691f,_0x2c89f4)});return _0x4b56af[_0x33a9e8(0x59d)](0xc9)[_0x33a9e8(0x797)](_0x1321fc);})[_0x4d8a3d(0x58f)](this[_0x4d8a3d(0x45f)](_0x4d8a3d(0xea)),..._0x3695ef,async(_0x2ee937,_0x2b44d8)=>{const _0x2e668d=_0x4d8a3d;let _0x2c5dda=await this[_0x2e668d(0x32e)]({'request':_0x2ee937,'schema':N,'ClassRef':C,'execute':(_0x253640,_0x151e9d)=>_[_0x2e668d(0xea)](_0x253640,_0x151e9d)});return _0x2b44d8[_0x2e668d(0x59d)](0xc9)['json'](_0x2c5dda);})['put'](this[_0x4d8a3d(0x45f)](_0x4d8a3d(0x190)),..._0x3695ef,async(_0xd4b969,_0x1ed178)=>{const _0x4466d2=_0x4d8a3d;let _0x1a1cb1=await this[_0x4466d2(0x32e)]({'request':_0xd4b969,'schema':za,'ClassRef':He,'execute':(_0xb7b8cc,_0x3bc11c)=>_[_0x4466d2(0x762)](_0xb7b8cc,_0x3bc11c)});return _0x1ed178[_0x4466d2(0x59d)](0xc9)[_0x4466d2(0x797)](_0x1a1cb1);})[_0x4d8a3d(0x11c)](this['routerPath'](_0x4d8a3d(0x586)),..._0x3695ef,async(_0x3eafb7,_0x40b99c)=>{const _0x309989=_0x4d8a3d;let _0x105b20=await this['dataValidate']({'request':_0x3eafb7,'schema':Ka,'ClassRef':Ke,'execute':(_0x9b2a2f,_0x2853e9)=>_['archiveChat'](_0x9b2a2f,_0x2853e9)});return _0x40b99c[_0x309989(0x59d)](0xc9)['json'](_0x105b20);})[_0x4d8a3d(0x5a1)](this[_0x4d8a3d(0x45f)](_0x4d8a3d(0x1c2)),..._0x3695ef,async(_0x5ff61b,_0x3de330)=>{const _0x24996b=_0x4d8a3d;let _0x1b383c=await this['dataValidate']({'request':_0x5ff61b,'schema':Qa,'ClassRef':Ye,'execute':(_0x5568f4,_0x4764e9)=>_[_0x24996b(0x45a)](_0x5568f4,_0x4764e9)});return _0x3de330[_0x24996b(0x59d)](0xc9)['json'](_0x1b383c);})[_0x4d8a3d(0x58f)](this[_0x4d8a3d(0x45f)](_0x4d8a3d(0x3c7)),..._0x3695ef,async(_0x5b9c9b,_0x289846)=>{const _0x3f76fd=_0x4d8a3d;let _0x16734c=await this[_0x3f76fd(0x32e)]({'request':_0x5b9c9b,'schema':ve,'ClassRef':Ee,'execute':(_0x83fb8,_0x2f0ef1)=>_[_0x3f76fd(0x7bf)](_0x83fb8,_0x2f0ef1)});return _0x289846[_0x3f76fd(0x59d)](0xc8)[_0x3f76fd(0x797)](_0x16734c);})[_0x4d8a3d(0x58f)](this[_0x4d8a3d(0x45f)]('fetchProfile'),..._0x3695ef,async(_0x4f1583,_0x18cde3)=>{const _0x5833fe=_0x4d8a3d;let _0x4019a2=await this[_0x5833fe(0x32e)]({'request':_0x4f1583,'schema':er,'ClassRef':Ee,'execute':(_0x44c4be,_0x5a99e9)=>_['fetchProfile'](_0x44c4be,_0x5a99e9)});return _0x18cde3['status'](0xc8)['json'](_0x4019a2);})[_0x4d8a3d(0x58f)](this[_0x4d8a3d(0x45f)](_0x4d8a3d(0x251)),..._0x3695ef,async(_0x400b5e,_0x1ba6df)=>{const _0x284e12=_0x4d8a3d;let _0x23be51=await this[_0x284e12(0x32e)]({'request':_0x400b5e,'schema':Ya,'ClassRef':tt,'execute':(_0x1c7de9,_0xfed475)=>_['fetchContacts'](_0x1c7de9,_0xfed475)});return _0x1ba6df['status'](0xc8)[_0x284e12(0x797)](_0x23be51);})[_0x4d8a3d(0x58f)](this[_0x4d8a3d(0x45f)](_0x4d8a3d(0x716)),..._0x3695ef,async(_0x5e1922,_0x2480db)=>{const _0x33fd39=_0x4d8a3d;let _0x2fb049=await this['dataValidate']({'request':_0x5e1922,'schema':null,'ClassRef':Object,'execute':(_0x5570ba,_0xd11564)=>_[_0x33fd39(0x716)](_0x5570ba,_0xd11564)});return _0x2480db[_0x33fd39(0x59d)](0xc9)[_0x33fd39(0x797)](_0x2fb049);})[_0x4d8a3d(0x58f)](this[_0x4d8a3d(0x45f)]('findMessages'),..._0x3695ef,async(_0x148ca2,_0x3773e2)=>{const _0x34de71=_0x4d8a3d;let _0x446fa0=await this[_0x34de71(0x32e)]({'request':_0x148ca2,'schema':tr,'ClassRef':qe,'execute':(_0x49badb,_0x3473e)=>_[_0x34de71(0x5da)](_0x49badb,_0x3473e)});return _0x3773e2[_0x34de71(0x59d)](0xc8)[_0x34de71(0x797)](_0x446fa0);})[_0x4d8a3d(0x1a1)](this[_0x4d8a3d(0x45f)](_0x4d8a3d(0x2d0)),..._0x3695ef,async(_0x540270,_0x5d6274)=>{const _0x2965d2=_0x4d8a3d;let _0x39b62e=await this[_0x2965d2(0x32e)]({'request':_0x540270,'schema':null,'ClassRef':C,'execute':_0x2eb842=>_['fetchChats'](_0x2eb842)});return _0x5d6274[_0x2965d2(0x59d)](0xc8)[_0x2965d2(0x797)](_0x39b62e);})[_0x4d8a3d(0x1a1)](this['routerPath']('findLabels'),..._0x3695ef,async(_0x1de984,_0x4a6d07)=>{const _0x2396ba=_0x4d8a3d;let _0x49f22e=await this['dataValidate']({'request':_0x1de984,'schema':null,'ClassRef':C,'execute':_0x10a36b=>_[_0x2396ba(0x70f)](_0x10a36b)});return _0x4a6d07[_0x2396ba(0x59d)](0xc8)['json'](_0x49f22e);})[_0x4d8a3d(0x11c)](this['routerPath'](_0x4d8a3d(0x59f)),..._0x3695ef,async(_0x40cd77,_0x5f0b79)=>{const _0x4af2a4=_0x4d8a3d;let _0x3d013f=await this[_0x4af2a4(0x32e)]({'request':_0x40cd77,'schema':null,'ClassRef':Array,'execute':(_0x11296f,_0xf1a622)=>_[_0x4af2a4(0x59f)](_0x11296f,_0xf1a622)});return _0x5f0b79[_0x4af2a4(0x59d)](0xc8)[_0x4af2a4(0x797)](_0x3d013f);})['get'](this['routerPath']('fetchPrivacySettings'),..._0x3695ef,async(_0x41ab65,_0x3a53d1)=>{const _0x152d99=_0x4d8a3d;let _0x4879f7=await this[_0x152d99(0x32e)]({'request':_0x41ab65,'schema':null,'ClassRef':C,'execute':_0x176910=>_[_0x152d99(0x56a)](_0x176910)});return _0x3a53d1[_0x152d99(0x59d)](0xc8)[_0x152d99(0x797)](_0x4879f7);})[_0x4d8a3d(0x11c)](this['routerPath'](_0x4d8a3d(0x318)),..._0x3695ef,async(_0x2eea59,_0x5a5380)=>{const _0x9715f5=_0x4d8a3d;let _0x49ddf5=await this[_0x9715f5(0x32e)]({'request':_0x2eea59,'schema':Ha,'ClassRef':Qe,'execute':(_0x373edc,_0xf0d424)=>_[_0x9715f5(0x318)](_0x373edc,_0xf0d424)});return _0x5a5380[_0x9715f5(0x59d)](0xc9)['json'](_0x49ddf5);})[_0x4d8a3d(0x58f)](this[_0x4d8a3d(0x45f)](_0x4d8a3d(0x109)),..._0x3695ef,async(_0x9ab51b,_0x1a1078)=>{const _0x3373fa=_0x4d8a3d;let _0x5e65a6=await this[_0x3373fa(0x32e)]({'request':_0x9ab51b,'schema':ve,'ClassRef':ye,'execute':(_0x12edc1,_0x3f14f6)=>_['fetchBusinessProfile'](_0x12edc1,_0x3f14f6)});return _0x1a1078[_0x3373fa(0x59d)](0xc8)[_0x3373fa(0x797)](_0x5e65a6);})[_0x4d8a3d(0x58f)](this[_0x4d8a3d(0x45f)](_0x4d8a3d(0x3c2)),..._0x3695ef,async(_0xc0fa62,_0x4aeb38)=>{const _0x2fe120=_0x4d8a3d;let _0x4af7d3=await this['dataValidate']({'request':_0xc0fa62,'schema':Xa,'ClassRef':We,'execute':(_0x4a2f1d,_0x206f38)=>_[_0x2fe120(0x3c2)](_0x4a2f1d,_0x206f38)});return _0x4aeb38[_0x2fe120(0x59d)](0xc8)[_0x2fe120(0x797)](_0x4af7d3);})['post'](this[_0x4d8a3d(0x45f)](_0x4d8a3d(0x588)),..._0x3695ef,async(_0x56a7c2,_0x76a701)=>{const _0x22337c=_0x4d8a3d;let _0x24c1d7=await this[_0x22337c(0x32e)]({'request':_0x56a7c2,'schema':Za,'ClassRef':ze,'execute':(_0x1ee0ed,_0x28af3b)=>_['updateProfileStatus'](_0x1ee0ed,_0x28af3b)});return _0x76a701[_0x22337c(0x59d)](0xc8)[_0x22337c(0x797)](_0x24c1d7);})[_0x4d8a3d(0x11c)](this[_0x4d8a3d(0x45f)](_0x4d8a3d(0x7b5)),..._0x3695ef,async(_0x37e4f1,_0x30e9b7)=>{const _0x17ad4d=_0x4d8a3d;let _0x4deb6d=await this['dataValidate']({'request':_0x37e4f1,'schema':ve,'ClassRef':ye,'execute':(_0x24eaec,_0x29c9b4)=>_['updateProfilePicture'](_0x24eaec,_0x29c9b4)});return _0x30e9b7[_0x17ad4d(0x59d)](0xc8)[_0x17ad4d(0x797)](_0x4deb6d);})[_0x4d8a3d(0x5a1)](this[_0x4d8a3d(0x45f)](_0x4d8a3d(0x467)),..._0x3695ef,async(_0x29e084,_0x2b2525)=>{const _0x19a1e0=_0x4d8a3d;let _0x260866=await this[_0x19a1e0(0x32e)]({'request':_0x29e084,'schema':ve,'ClassRef':ye,'execute':(_0x249e4b,_0x43f681)=>_[_0x19a1e0(0x467)](_0x249e4b,_0x43f681)});return _0x2b2525[_0x19a1e0(0x59d)](0xc8)[_0x19a1e0(0x797)](_0x260866);});}},hr=require(a0_0x29b3b7(0x1ef)),it=class{},ot=class{},nt=class{},ct=class{},lt=class{},ut=class{},X=class{},Re=class{},dt=class extends X{},pt=class extends X{},ht=class extends V{constructor(..._0xd3a954){const _0x1ecdb9=a0_0x29b3b7;super(),this[_0x1ecdb9(0x3c0)]=(0x0,hr[_0x1ecdb9(0x41b)])(),this['router'][_0x1ecdb9(0x58f)](this['routerPath'](_0x1ecdb9(0x262)),..._0xd3a954,async(_0x2b1ed6,_0x23edcd)=>{const _0x59e85b=_0x1ecdb9;let _0x2565a8=await this[_0x59e85b(0x32e)]({'request':_0x2b1ed6,'schema':ar,'ClassRef':it,'execute':(_0x499131,_0x5a656a)=>q[_0x59e85b(0x13b)](_0x499131,_0x5a656a)});_0x23edcd[_0x59e85b(0x59d)](0xc9)[_0x59e85b(0x797)](_0x2565a8);})[_0x1ecdb9(0x11c)](this['routerPath'](_0x1ecdb9(0x5c8)),..._0xd3a954,async(_0x309fb4,_0x330da8)=>{const _0x7ef4=_0x1ecdb9;let _0x419e18=await this[_0x7ef4(0x3d3)]({'request':_0x309fb4,'schema':or,'ClassRef':ot,'execute':(_0x48fd93,_0x1b861c)=>q[_0x7ef4(0x5c8)](_0x48fd93,_0x1b861c)});_0x330da8[_0x7ef4(0x59d)](0xc9)[_0x7ef4(0x797)](_0x419e18);})[_0x1ecdb9(0x11c)](this['routerPath'](_0x1ecdb9(0x7b4)),..._0xd3a954,async(_0x543656,_0x348567)=>{const _0x41a162=_0x1ecdb9;let _0x5cab2a=await this[_0x41a162(0x3d3)]({'request':_0x543656,'schema':nr,'ClassRef':nt,'execute':(_0xb4f362,_0x416f25)=>q[_0x41a162(0x7b4)](_0xb4f362,_0x416f25)});_0x348567[_0x41a162(0x59d)](0xc9)['json'](_0x5cab2a);})[_0x1ecdb9(0x11c)](this['routerPath'](_0x1ecdb9(0x25a)),..._0xd3a954,async(_0x3cf52e,_0x30702c)=>{const _0x302e2f=_0x1ecdb9;let _0x3f715c=await this[_0x302e2f(0x3d3)]({'request':_0x3cf52e,'schema':cr,'ClassRef':ct,'execute':(_0x30a0fd,_0x3839be)=>q[_0x302e2f(0x25a)](_0x30a0fd,_0x3839be)});_0x30702c['status'](0xc9)['json'](_0x3f715c);})['put'](this[_0x1ecdb9(0x45f)](_0x1ecdb9(0x22a)),..._0xd3a954,async(_0xe39624,_0x1ba7bd)=>{const _0x314ad7=_0x1ecdb9;let _0x3701e5=await this[_0x314ad7(0x3d3)]({'request':_0xe39624,'schema':ur,'ClassRef':ut,'execute':(_0x304812,_0x504093)=>q[_0x314ad7(0x22a)](_0x304812,_0x504093)});_0x1ba7bd['status'](0xc9)[_0x314ad7(0x797)](_0x3701e5);})[_0x1ecdb9(0x11c)](this[_0x1ecdb9(0x45f)](_0x1ecdb9(0x6b4)),..._0xd3a954,async(_0x5f4ff0,_0x288cb7)=>{const _0x4a15bb=_0x1ecdb9;let _0x3ce37a=await this[_0x4a15bb(0x3d3)]({'request':_0x5f4ff0,'schema':lr,'ClassRef':lt,'execute':(_0x3805a4,_0x3cd232)=>q['groupSetting'](_0x3805a4,_0x3cd232)});_0x288cb7[_0x4a15bb(0x59d)](0xc9)[_0x4a15bb(0x797)](_0x3ce37a);})[_0x1ecdb9(0x11c)](this[_0x1ecdb9(0x45f)](_0x1ecdb9(0x152)),..._0xd3a954,async(_0x48cf1a,_0x3de695)=>{const _0x456443=_0x1ecdb9;let _0x4dfe5c=await this[_0x456443(0x3d3)]({'request':_0x48cf1a,'schema':ir,'ClassRef':pt,'execute':(_0x5ce9f1,_0x363d8a)=>q[_0x456443(0x152)](_0x5ce9f1,_0x363d8a)});_0x3de695['status'](0xc9)[_0x456443(0x797)](_0x4dfe5c);})['get'](this[_0x1ecdb9(0x45f)](_0x1ecdb9(0x749)),..._0xd3a954,async(_0x28ad18,_0x21ccd2)=>{const _0x23b21d=_0x1ecdb9;let _0x2c4493=await this[_0x23b21d(0x3d3)]({'request':_0x28ad18,'schema':Ne,'ClassRef':X,'execute':(_0x445438,_0x44a53b)=>q[_0x23b21d(0x504)](_0x445438,_0x44a53b)});_0x21ccd2[_0x23b21d(0x59d)](0xc8)[_0x23b21d(0x797)](_0x2c4493);})[_0x1ecdb9(0x1a1)](this[_0x1ecdb9(0x45f)](_0x1ecdb9(0x734)),..._0xd3a954,async(_0x52c1db,_0x2a9259)=>{const _0x5c4d2a=_0x1ecdb9;let _0x9629b3=await this[_0x5c4d2a(0x32e)]({'request':_0x52c1db,'schema':N,'ClassRef':C,'execute':_0x22cb74=>q[_0x5c4d2a(0x734)](_0x22cb74)});_0x2a9259[_0x5c4d2a(0x59d)](0xc8)['json'](_0x9629b3);})['get'](this[_0x1ecdb9(0x45f)](_0x1ecdb9(0x1cd)),..._0xd3a954,async(_0x4dd54d,_0x4894ce)=>{const _0x148d4e=_0x1ecdb9;let _0x469e59=await this[_0x148d4e(0x3d3)]({'request':_0x4dd54d,'schema':Ne,'ClassRef':X,'execute':(_0x2b9c27,_0x2e00ac)=>q[_0x148d4e(0x273)](_0x2b9c27,_0x2e00ac)});_0x4894ce[_0x148d4e(0x59d)](0xc8)[_0x148d4e(0x797)](_0x469e59);})[_0x1ecdb9(0x1a1)](this[_0x1ecdb9(0x45f)](_0x1ecdb9(0x448)),..._0xd3a954,async(_0x3c9998,_0x10c50e)=>{const _0x8cab0d=_0x1ecdb9;let _0x14090e=await this[_0x8cab0d(0x3d3)]({'request':_0x3c9998,'schema':Ne,'ClassRef':X,'execute':(_0x401367,_0x2686e9)=>q[_0x8cab0d(0x448)](_0x401367,_0x2686e9)});_0x10c50e[_0x8cab0d(0x59d)](0xc8)[_0x8cab0d(0x797)](_0x14090e);})[_0x1ecdb9(0x58f)](this[_0x1ecdb9(0x45f)](_0x1ecdb9(0x2e6)),..._0xd3a954,async(_0x234699,_0x43b647)=>{const _0x2056ac=_0x1ecdb9;let _0x39fc8c=await this[_0x2056ac(0x4cd)]({'request':_0x234699,'schema':Ss,'ClassRef':Re,'execute':(_0x4638e8,_0x1f405c)=>q[_0x2056ac(0x59c)](_0x4638e8,_0x1f405c)});_0x43b647[_0x2056ac(0x59d)](0xc9)[_0x2056ac(0x797)](_0x39fc8c);})['put'](this[_0x1ecdb9(0x45f)](_0x1ecdb9(0x1b0)),..._0xd3a954,async(_0x1a9006,_0x2d83ac)=>{const _0x3f94f0=_0x1ecdb9;let _0x249e2f=await this[_0x3f94f0(0x4cd)]({'request':_0x1a9006,'schema':Ss,'ClassRef':Re,'execute':(_0x1074da,_0x41614b)=>q['joinGroup'](_0x1074da,_0x41614b)});_0x2d83ac['status'](0xc9)[_0x3f94f0(0x797)](_0x249e2f);})[_0x1ecdb9(0x11c)](this['routerPath']('revokeInviteCode'),..._0xd3a954,async(_0x1ef97f,_0x28fea9)=>{const _0x59bf83=_0x1ecdb9;let _0x425e8d=await this[_0x59bf83(0x3d3)]({'request':_0x1ef97f,'schema':Ne,'ClassRef':X,'execute':(_0x4c51ac,_0x4241c6)=>q[_0x59bf83(0x2db)](_0x4c51ac,_0x4241c6)});_0x28fea9[_0x59bf83(0x59d)](0xc9)[_0x59bf83(0x797)](_0x425e8d);})[_0x1ecdb9(0x11c)](this['routerPath'](_0x1ecdb9(0x495)),..._0xd3a954,async(_0x52340f,_0x42e7c0)=>{const _0x1351f7=_0x1ecdb9;let _0x47311b=await this[_0x1351f7(0x3d3)]({'request':_0x52340f,'schema':rr,'ClassRef':dt,'execute':(_0x21d388,_0x311158)=>q[_0x1351f7(0x706)](_0x21d388,_0x311158)});_0x42e7c0[_0x1351f7(0x59d)](0xc9)[_0x1351f7(0x797)](_0x47311b);})[_0x1ecdb9(0x5a1)](this[_0x1ecdb9(0x45f)]('leaveGroup'),..._0xd3a954,async(_0x524b15,_0xa9c59f)=>{const _0x17d649=_0x1ecdb9;let _0xf9b18e=await this['groupValidate']({'request':_0x524b15,'schema':{},'ClassRef':X,'execute':(_0x33ba62,_0x1930f2)=>q[_0x17d649(0x292)](_0x33ba62,_0x1930f2)});_0xa9c59f['status'](0xc8)[_0x17d649(0x797)](_0xf9b18e);});}},gr=require('express'),gt=class extends V{constructor(_0x11505e,..._0x10ac1a){const _0x4d25d0=a0_0x29b3b7;super(),this['configService']=_0x11505e,this[_0x4d25d0(0x3c0)]=(0x0,gr[_0x4d25d0(0x41b)])();let _0x525a5e=_0x11505e['get']('AUTHENTICATION');this[_0x4d25d0(0x3c0)]['post'](_0x4d25d0(0x287),..._0x10ac1a,async(_0x543269,_0x2877bf)=>{const _0x4e6fc6=_0x4d25d0;let {instanceName:_0x213f43,apikey:_0x4a2885,number:_0x503455}=_0x543269['body'],_0x2be068=await ne[_0x4e6fc6(0x672)]({'instanceName':_0x213f43,'apikey':_0x4a2885,'number':_0x503455});return _0x2877bf[_0x4e6fc6(0x59d)](0xc9)['json'](_0x2be068);})[_0x4d25d0(0x11c)](this[_0x4d25d0(0x45f)](_0x4d25d0(0x5cd)),..._0x10ac1a,async(_0x16940c,_0x3a3bc6)=>{const _0x459d54=_0x4d25d0;let _0x11e83=await this[_0x459d54(0x32e)]({'request':_0x16940c,'schema':N,'ClassRef':C,'execute':_0x31597e=>ne[_0x459d54(0x188)](_0x31597e)});return _0x3a3bc6[_0x459d54(0x59d)](0xc8)[_0x459d54(0x797)](_0x11e83);})[_0x4d25d0(0x1a1)](this[_0x4d25d0(0x45f)](_0x4d25d0(0x6a5)),..._0x10ac1a,async(_0x16163c,_0x4d54a6)=>{const _0x2d4321=_0x4d25d0;let _0x4d6ee5=await this[_0x2d4321(0x32e)]({'request':_0x16163c,'schema':N,'ClassRef':C,'execute':_0x56210d=>ne[_0x2d4321(0x490)](_0x56210d)});return _0x4d54a6[_0x2d4321(0x59d)](0xc8)[_0x2d4321(0x797)](_0x4d6ee5);})[_0x4d25d0(0x1a1)](this[_0x4d25d0(0x45f)](_0x4d25d0(0x244)),..._0x10ac1a,async(_0x544087,_0xe1b224)=>{const _0x33972f=_0x4d25d0;let _0x47b8d7=await this[_0x33972f(0x32e)]({'request':_0x544087,'schema':N,'ClassRef':C,'execute':_0x39c419=>ne[_0x33972f(0x244)](_0x39c419)});return _0xe1b224['status'](0xc8)[_0x33972f(0x797)](_0x47b8d7);})[_0x4d25d0(0x1a1)](this[_0x4d25d0(0x45f)]('fetchInstances',!0x1),..._0x10ac1a,async(_0x286276,_0xf8966b)=>{const _0x1f5142=_0x4d25d0;let _0x16ac49=await this[_0x1f5142(0x32e)]({'request':_0x286276,'schema':null,'ClassRef':C,'execute':_0x1ae903=>ne['fetchInstances'](_0x1ae903)});return _0xf8966b[_0x1f5142(0x59d)](0xc8)[_0x1f5142(0x797)](_0x16ac49);})[_0x4d25d0(0x5a1)](this[_0x4d25d0(0x45f)]('logout'),..._0x10ac1a,async(_0xabb048,_0x3e4068)=>{const _0x1a5f1f=_0x4d25d0;let _0x439a9f=await this[_0x1a5f1f(0x32e)]({'request':_0xabb048,'schema':N,'ClassRef':C,'execute':_0x3afa23=>ne[_0x1a5f1f(0x20a)](_0x3afa23)});return _0x3e4068['status'](0xc8)['json'](_0x439a9f);})[_0x4d25d0(0x5a1)](this[_0x4d25d0(0x45f)]('delete'),..._0x10ac1a,async(_0x4f4f48,_0x34a05c)=>{const _0x525422=_0x4d25d0;let _0x43aed5=await this[_0x525422(0x32e)]({'request':_0x4f4f48,'schema':N,'ClassRef':C,'execute':_0x2fec19=>ne[_0x525422(0x33a)](_0x2fec19)});return _0x34a05c[_0x525422(0x59d)](0xc8)['json'](_0x43aed5);});}},mr=require(a0_0x29b3b7(0x1ef)),Cs=class{},W=class extends Cs{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},Te=class extends W{},bt=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class{},Nt=class extends V{constructor(..._0x4ded66){const _0x2bec94=a0_0x29b3b7;super(),this['router']=(0x0,mr[_0x2bec94(0x41b)])(),this[_0x2bec94(0x3c0)]['post'](this[_0x2bec94(0x45f)]('sendText'),..._0x4ded66,async(_0x1c4562,_0x563008)=>{const _0x30a1b2=_0x2bec94;let _0x1b45f6=await this[_0x30a1b2(0x32e)]({'request':_0x1c4562,'schema':Da,'ClassRef':mt,'execute':(_0x72acb1,_0x19f499)=>B['sendText'](_0x72acb1,_0x19f499)});return _0x563008['status'](0xc9)[_0x30a1b2(0x797)](_0x1b45f6);})[_0x2bec94(0x58f)](this[_0x2bec94(0x45f)](_0x2bec94(0x71a)),..._0x4ded66,async(_0x44fc44,_0x178d21)=>{const _0x5a3eea=_0x2bec94;let _0x5cdf41=await this[_0x5a3eea(0x32e)]({'request':_0x44fc44,'schema':ja,'ClassRef':Te,'execute':(_0x2652b5,_0x2e8fdf)=>B[_0x5a3eea(0x71a)](_0x2652b5,_0x2e8fdf)});return _0x178d21['status'](0xc9)[_0x5a3eea(0x797)](_0x5cdf41);})[_0x2bec94(0x58f)](this[_0x2bec94(0x45f)](_0x2bec94(0x4c2)),..._0x4ded66,async(_0x44c46e,_0x66cb6c)=>{const _0x1240dc=_0x2bec94;let _0x540d57=await this[_0x1240dc(0x32e)]({'request':_0x44c46e,'schema':Ja,'ClassRef':yt,'execute':(_0x433657,_0x12ef3f)=>B['sendMenu'](_0x433657,_0x12ef3f)});return _0x66cb6c['status'](0xc9)[_0x1240dc(0x797)](_0x540d57);})[_0x2bec94(0x58f)](this[_0x2bec94(0x45f)](_0x2bec94(0x2a8)),..._0x4ded66,async(_0x8ec9e9,_0x5cc15e)=>{const _0x60872a=_0x2bec94;let _0x1cd73f=await this[_0x60872a(0x32e)]({'request':_0x8ec9e9,'schema':La,'ClassRef':Te,'execute':(_0x5d696e,_0xfd7849)=>B[_0x60872a(0x2a8)](_0x5d696e,_0xfd7849)});return _0x5cc15e[_0x60872a(0x59d)](0xc9)[_0x60872a(0x797)](_0x1cd73f);})[_0x2bec94(0x58f)](this[_0x2bec94(0x45f)]('sendButtons'),..._0x4ded66,async(_0x1ec174,_0x241a36)=>{const _0x3c51d3=_0x2bec94;let _0x1f47b3=await this[_0x3c51d3(0x32e)]({'request':_0x1ec174,'schema':Ua,'ClassRef':St,'execute':(_0x386bb0,_0x3259bb)=>B[_0x3c51d3(0x55f)](_0x386bb0,_0x3259bb)});return _0x241a36[_0x3c51d3(0x59d)](0xc9)[_0x3c51d3(0x797)](_0x1f47b3);})[_0x2bec94(0x58f)](this[_0x2bec94(0x45f)](_0x2bec94(0x3fa)),..._0x4ded66,async(_0x3e6153,_0x57cff0)=>{const _0x3615a3=_0x2bec94;let _0xb91394=await this['dataValidate']({'request':_0x3e6153,'schema':qa,'ClassRef':Mt,'execute':(_0x1073bb,_0x6aeee3)=>B['sendLocation'](_0x1073bb,_0x6aeee3)});return _0x57cff0['status'](0xc9)[_0x3615a3(0x797)](_0xb91394);})[_0x2bec94(0x58f)](this[_0x2bec94(0x45f)](_0x2bec94(0xe9)),..._0x4ded66,async(_0x13f2c8,_0x405279)=>{const _0x45b076=_0x2bec94;let _0x70a27d=await this[_0x45b076(0x32e)]({'request':_0x13f2c8,'schema':Va,'ClassRef':Ct,'execute':(_0x4b1916,_0x34ed4b)=>B['sendList'](_0x4b1916,_0x34ed4b)});return _0x405279[_0x45b076(0x59d)](0xc9)['json'](_0x70a27d);})[_0x2bec94(0x58f)](this[_0x2bec94(0x45f)]('sendContact'),..._0x4ded66,async(_0x2cdf63,_0x5dd01a)=>{const _0x165064=_0x2bec94;let _0x51135b=await this[_0x165064(0x32e)]({'request':_0x2cdf63,'schema':Ga,'ClassRef':Et,'execute':(_0x5b8c71,_0x4cd200)=>B[_0x165064(0x4a5)](_0x5b8c71,_0x4cd200)});return _0x5dd01a['status'](0xc9)[_0x165064(0x797)](_0x51135b);})[_0x2bec94(0x58f)](this[_0x2bec94(0x45f)](_0x2bec94(0x1ac)),..._0x4ded66,async(_0x23c5ca,_0x193ad9)=>{const _0x2efb29=_0x2bec94;let _0x48b416=await this[_0x2efb29(0x32e)]({'request':_0x23c5ca,'schema':Ba,'ClassRef':vt,'execute':(_0x598cb4,_0x39f630)=>B[_0x2efb29(0x1ac)](_0x598cb4,_0x39f630)});return _0x193ad9[_0x2efb29(0x59d)](0xc9)[_0x2efb29(0x797)](_0x48b416);})[_0x2bec94(0x58f)](this[_0x2bec94(0x45f)](_0x2bec94(0x40f)),..._0x4ded66,async(_0xf2ed3a,_0x4671bb)=>{const _0x21c3fa=_0x2bec94;let _0x76be13=await this['dataValidate']({'request':_0xf2ed3a,'schema':Fa,'ClassRef':wt,'execute':(_0x7c4b11,_0x1d77dd)=>B['sendPoll'](_0x7c4b11,_0x1d77dd)});return _0x4671bb[_0x21c3fa(0x59d)](0xc9)[_0x21c3fa(0x797)](_0x76be13);})[_0x2bec94(0x58f)](this[_0x2bec94(0x45f)](_0x2bec94(0x46f)),..._0x4ded66,async(_0x5656ec,_0x4268d2)=>{const _0xee44d1=_0x2bec94;let _0x168f7f=await this[_0xee44d1(0x32e)]({'request':_0x5656ec,'schema':ka,'ClassRef':ft,'execute':(_0x483266,_0x762ca)=>B[_0xee44d1(0x46f)](_0x483266,_0x762ca)});return _0x4268d2[_0xee44d1(0x59d)](0xc9)['json'](_0x168f7f);})['post'](this['routerPath'](_0x2bec94(0x27b)),..._0x4ded66,async(_0x509134,_0x446334)=>{const _0x1359d2=_0x2bec94;let _0x4ab065=await this[_0x1359d2(0x32e)]({'request':_0x509134,'schema':Pa,'ClassRef':bt,'execute':(_0x42c108,_0x15fecd)=>B['sendSticker'](_0x42c108,_0x15fecd)});return _0x446334[_0x1359d2(0x59d)](0xc9)[_0x1359d2(0x797)](_0x4ab065);});}},fr=require(a0_0x29b3b7(0x1ef)),Rt=class{},Tt=class extends V{constructor(..._0x512f12){const _0x24ed18=a0_0x29b3b7;super(),this[_0x24ed18(0x3c0)]=(0x0,fr[_0x24ed18(0x41b)])(),this[_0x24ed18(0x3c0)][_0x24ed18(0x58f)](this[_0x24ed18(0x45f)](_0x24ed18(0x597)),..._0x512f12,async(_0x564b99,_0x332a0c)=>{const _0xad09af=_0x24ed18;let _0x125203=await this[_0xad09af(0x32e)]({'request':_0x564b99,'schema':dr,'ClassRef':Rt,'execute':(_0x291f6f,_0x27cc25)=>Es[_0xad09af(0x486)](_0x291f6f,_0x27cc25)});_0x332a0c['status'](0xc9)['json'](_0x125203);})[_0x24ed18(0x1a1)](this[_0x24ed18(0x45f)](_0x24ed18(0x61d)),..._0x512f12,async(_0x33cedb,_0x17e816)=>{const _0x5db013=_0x24ed18;let _0x1a7b15=await this['dataValidate']({'request':_0x33cedb,'schema':N,'ClassRef':C,'execute':_0x3e02d3=>Es['findWebhook'](_0x3e02d3)});_0x17e816[_0x5db013(0x59d)](0xc8)[_0x5db013(0x797)](_0x1a7b15);});}},wr=require(a0_0x29b3b7(0x1ef)),y=new R(a0_0x29b3b7(0x60a)),Ot=class extends V{constructor(..._0x454678){const _0x1db3cb=a0_0x29b3b7;super(),this[_0x1db3cb(0x3c0)]=(0x0,wr['Router'])(),this[_0x1db3cb(0x3c0)][_0x1db3cb(0x58f)](this[_0x1db3cb(0x45f)](_0x1db3cb(0x241)),..._0x454678,async(_0x13e2e1,_0x356fb8)=>{const _0x4122f8=_0x1db3cb;let _0x3b52cf=_0x13e2e1[_0x4122f8(0x4fe)];y[_0x4122f8(0x7a1)]('request\x20received\x20in\x20scheduleMessage'),y[_0x4122f8(0x7a1)](_0x4122f8(0x64e)),y[_0x4122f8(0x7a1)](_0x13e2e1[_0x4122f8(0x4fe)]);let _0x55a995=await this[_0x4122f8(0x32e)]({'request':_0x13e2e1,'schema':N,'ClassRef':C,'execute':_0x5512e0=>$[_0x4122f8(0x368)](_0x5512e0,_0x3b52cf)});_0x356fb8['status'](0xc8)[_0x4122f8(0x797)](_0x55a995);})[_0x1db3cb(0x1a1)](this[_0x1db3cb(0x45f)](_0x1db3cb(0x241)),..._0x454678,async(_0x3b1b96,_0x266d20)=>{const _0x3574c5=_0x1db3cb;let _0x50a39b=await this[_0x3574c5(0x32e)]({'request':_0x3b1b96,'schema':N,'ClassRef':C,'execute':_0x1119fd=>$['getScheduleMessage'](_0x1119fd)});_0x266d20['status'](0xc8)[_0x3574c5(0x797)](_0x50a39b);})[_0x1db3cb(0x5a1)](this['routerPath'](_0x1db3cb(0x28d)),..._0x454678,async(_0x57ea80,_0x287360)=>{const _0x6f3da4=_0x1db3cb;y[_0x6f3da4(0x7a1)](_0x6f3da4(0x76e));let _0x5d83a6=await this['dataValidate']({'request':_0x57ea80,'schema':N,'ClassRef':C,'execute':_0x524b2a=>$[_0x6f3da4(0x28d)](_0x524b2a)});_0x287360[_0x6f3da4(0x59d)](0xc8)['json'](_0x5d83a6);})['post'](this[_0x1db3cb(0x45f)](_0x1db3cb(0x1a9)),..._0x454678,async(_0x40d8f2,_0x236a17)=>{const _0x106c9a=_0x1db3cb;let _0x190ecc=_0x40d8f2[_0x106c9a(0x4fe)];y[_0x106c9a(0x7a1)](_0x106c9a(0x48a)),y[_0x106c9a(0x7a1)](_0x106c9a(0x64e)),y[_0x106c9a(0x7a1)](_0x40d8f2['body']);let _0x51084f=await this[_0x106c9a(0x32e)]({'request':_0x40d8f2,'schema':N,'ClassRef':C,'execute':_0x501228=>$[_0x106c9a(0x1a9)](_0x501228,_0x190ecc)});_0x236a17[_0x106c9a(0x59d)](0xc8)[_0x106c9a(0x797)](_0x51084f);})[_0x1db3cb(0x1a1)](this[_0x1db3cb(0x45f)](_0x1db3cb(0x315)),..._0x454678,async(_0x1545ab,_0x5ef361)=>{const _0x6cb962=_0x1db3cb;y[_0x6cb962(0x7a1)]('request\x20received\x20in\x20getAutomateSystem');let _0x5388b6=await this[_0x6cb962(0x32e)]({'request':_0x1545ab,'schema':N,'ClassRef':C,'execute':_0x1f136b=>$[_0x6cb962(0x315)](_0x1f136b)});_0x5ef361[_0x6cb962(0x59d)](0xc8)[_0x6cb962(0x797)](_0x5388b6);})[_0x1db3cb(0x1a1)](this['routerPath'](_0x1db3cb(0x3c8)),..._0x454678,async(_0x525499,_0x379ba8)=>{const _0x464228=_0x1db3cb;y[_0x464228(0x7a1)](_0x464228(0x6f2));let _0x164967=await this[_0x464228(0x32e)]({'request':_0x525499,'schema':N,'ClassRef':C,'execute':_0x3ac969=>$['getAutomateSystem'](_0x3ac969)});_0x379ba8['status'](0xc8)[_0x464228(0x797)](_0x164967);})[_0x1db3cb(0x58f)](this[_0x1db3cb(0x45f)](_0x1db3cb(0x56e)),..._0x454678,async(_0x1d8616,_0x3aeb1e)=>{const _0x3c36a=_0x1db3cb;let _0x5cdb13=_0x1d8616['body'];y[_0x3c36a(0x7a1)](_0x3c36a(0x14b)),y[_0x3c36a(0x7a1)](_0x3c36a(0x64e)),y[_0x3c36a(0x7a1)](_0x1d8616['body']);let _0x30c144=await this[_0x3c36a(0x32e)]({'request':_0x1d8616,'schema':N,'ClassRef':C,'execute':_0x51cb45=>$[_0x3c36a(0x56e)](_0x51cb45,_0x5cdb13)});_0x3aeb1e[_0x3c36a(0x59d)](0xc8)[_0x3c36a(0x797)](_0x30c144);})[_0x1db3cb(0x58f)](this[_0x1db3cb(0x45f)](_0x1db3cb(0x468)),..._0x454678,async(_0x58b7ba,_0x4e184e)=>{const _0xcd60db=_0x1db3cb;let _0x445b49=_0x58b7ba[_0xcd60db(0x4fe)];y[_0xcd60db(0x7a1)]('request\x20received\x20in\x20updateCustomFields'),y[_0xcd60db(0x7a1)](_0xcd60db(0x64e)),y[_0xcd60db(0x7a1)](_0x58b7ba[_0xcd60db(0x4fe)]);let _0x1fa8ae=await this['dataValidate']({'request':_0x58b7ba,'schema':N,'ClassRef':C,'execute':_0x2d201d=>$[_0xcd60db(0x468)](_0x2d201d,_0x445b49)});_0x4e184e['status'](0xc8)[_0xcd60db(0x797)](_0x1fa8ae);})[_0x1db3cb(0x58f)](this[_0x1db3cb(0x45f)](_0x1db3cb(0x68e)),..._0x454678,async(_0x525e87,_0x3d7b75)=>{const _0x7dcc3d=_0x1db3cb;let _0x573170=_0x525e87['body'];y[_0x7dcc3d(0x7a1)]('request\x20received\x20in\x20updateAutoCompleteMessages'),y[_0x7dcc3d(0x7a1)]('request\x20body:\x20'),y[_0x7dcc3d(0x7a1)](_0x525e87[_0x7dcc3d(0x4fe)]);let _0x40935c=await this['dataValidate']({'request':_0x525e87,'schema':N,'ClassRef':C,'execute':_0x1cd525=>$[_0x7dcc3d(0x68e)](_0x1cd525,_0x573170)});_0x3d7b75[_0x7dcc3d(0x59d)](0xc8)[_0x7dcc3d(0x797)](_0x40935c);})['post'](this[_0x1db3cb(0x45f)](_0x1db3cb(0x358)),..._0x454678,async(_0x84fab1,_0x484d09)=>{const _0x34e5de=_0x1db3cb;let _0x2ba2e4=_0x84fab1[_0x34e5de(0x4fe)];y['verbose'](_0x34e5de(0x5bf)),y['verbose'](_0x34e5de(0x64e)),y['verbose'](_0x84fab1[_0x34e5de(0x4fe)]);let _0x2bcbc0=await this['dataValidate']({'request':_0x84fab1,'schema':N,'ClassRef':C,'execute':_0xba66cb=>$[_0x34e5de(0x358)](_0xba66cb,_0x2ba2e4)});_0x484d09[_0x34e5de(0x59d)](0xc8)[_0x34e5de(0x797)](_0x2bcbc0);})[_0x1db3cb(0x58f)](this[_0x1db3cb(0x45f)](_0x1db3cb(0x657)),..._0x454678,async(_0x2008e5,_0x419366)=>{const _0x2816ab=_0x1db3cb;let _0x505682=_0x2008e5[_0x2816ab(0x4fe)];y[_0x2816ab(0x7a1)](_0x2816ab(0x240)),y[_0x2816ab(0x7a1)]('request\x20body:\x20'),y[_0x2816ab(0x7a1)](_0x2008e5[_0x2816ab(0x4fe)]);let _0x2787fe=await this[_0x2816ab(0x32e)]({'request':_0x2008e5,'schema':N,'ClassRef':C,'execute':_0x2f3ff8=>$['getConversation'](_0x2f3ff8,_0x505682)});_0x419366['status'](0xc8)[_0x2816ab(0x797)](_0x2787fe);})[_0x1db3cb(0x58f)](this[_0x1db3cb(0x45f)](_0x1db3cb(0x3ea)),..._0x454678,async(_0x6dcbf4,_0x9a0196)=>{const _0x20a67e=_0x1db3cb;let _0x1e5089=_0x6dcbf4[_0x20a67e(0x4fe)];y['verbose'](_0x20a67e(0x3da)),y[_0x20a67e(0x7a1)](_0x20a67e(0x64e)),y['verbose'](_0x6dcbf4['body']);let _0x2b760d=await this[_0x20a67e(0x32e)]({'request':_0x6dcbf4,'schema':N,'ClassRef':C,'execute':_0x3607f7=>$[_0x20a67e(0x3ea)](_0x3607f7,_0x1e5089)});_0x9a0196[_0x20a67e(0x59d)](0xc8)[_0x20a67e(0x797)](_0x2b760d);})[_0x1db3cb(0x58f)](this[_0x1db3cb(0x45f)](_0x1db3cb(0x3c4)),..._0x454678,async(_0x3d8816,_0x11ab8b)=>{const _0x1bfc13=_0x1db3cb;let _0x30e80f=_0x3d8816[_0x1bfc13(0x4fe)];y[_0x1bfc13(0x7a1)]('request\x20received\x20in\x20editConversation'),y[_0x1bfc13(0x7a1)](_0x1bfc13(0x64e)),y[_0x1bfc13(0x7a1)](_0x3d8816[_0x1bfc13(0x4fe)]);let _0x5eb0c9=await this[_0x1bfc13(0x32e)]({'request':_0x3d8816,'schema':N,'ClassRef':C,'execute':_0x533b34=>$[_0x1bfc13(0x3c4)](_0x533b34,_0x30e80f)});_0x11ab8b[_0x1bfc13(0x59d)](0xc8)[_0x1bfc13(0x797)](_0x5eb0c9);})['delete'](this[_0x1db3cb(0x45f)](_0x1db3cb(0x528)),..._0x454678,async(_0x18041b,_0x152b46)=>{const _0x13a7f3=_0x1db3cb;let _0x4e7e9d=_0x18041b[_0x13a7f3(0x4fe)];y[_0x13a7f3(0x7a1)](_0x13a7f3(0x2f2)),y[_0x13a7f3(0x7a1)]('request\x20body:\x20'),y['verbose'](_0x18041b[_0x13a7f3(0x4fe)]);let _0xbf4ca1=await this[_0x13a7f3(0x32e)]({'request':_0x18041b,'schema':N,'ClassRef':C,'execute':_0xeab58f=>$[_0x13a7f3(0x528)](_0xeab58f,_0x4e7e9d)});_0x152b46[_0x13a7f3(0x59d)](0xc8)['json'](_0xbf4ca1);})[_0x1db3cb(0x58f)](this['routerPath'](_0x1db3cb(0x66c)),..._0x454678,async(_0x3ffb11,_0x57c933)=>{const _0x12151d=_0x1db3cb;let _0x755611=_0x3ffb11[_0x12151d(0x4fe)];y['verbose'](_0x12151d(0x132)),y['verbose']('request\x20body:\x20'),y[_0x12151d(0x7a1)](_0x3ffb11['body']);let _0x45bd0e=await this['dataValidate']({'request':_0x3ffb11,'schema':N,'ClassRef':C,'execute':_0x301bac=>$['createFlow'](_0x301bac,_0x755611)});_0x57c933[_0x12151d(0x59d)](0xc8)['json'](_0x45bd0e);})[_0x1db3cb(0x58f)](this[_0x1db3cb(0x45f)]('editflow'),..._0x454678,async(_0x484414,_0x20ab04)=>{const _0x106c95=_0x1db3cb;let _0x2aa6cd=_0x484414[_0x106c95(0x4fe)];y[_0x106c95(0x7a1)](_0x106c95(0x322)),y['verbose'](_0x106c95(0x64e)),y['verbose'](_0x484414[_0x106c95(0x4fe)]),delete _0x2aa6cd[_0x106c95(0x63e)],delete _0x2aa6cd[_0x106c95(0x7cc)],delete _0x2aa6cd[_0x106c95(0x104)],delete _0x2aa6cd[_0x106c95(0x471)];let _0x318f09=await this[_0x106c95(0x32e)]({'request':_0x484414,'schema':N,'ClassRef':C,'execute':_0x38b106=>$[_0x106c95(0x3f5)](_0x38b106,_0x2aa6cd)});_0x20ab04[_0x106c95(0x59d)](0xc8)['json'](_0x318f09);})[_0x1db3cb(0x58f)](this[_0x1db3cb(0x45f)]('editflowblock'),..._0x454678,async(_0x270d2c,_0x258c8a)=>{const _0x135c83=_0x1db3cb;let _0x10ebd2=_0x270d2c['body'];y[_0x135c83(0x7a1)](_0x135c83(0x322)),y[_0x135c83(0x7a1)](_0x135c83(0x64e)),y['verbose'](_0x270d2c[_0x135c83(0x4fe)]);let _0xf5dee5=await this['dataValidate']({'request':_0x270d2c,'schema':N,'ClassRef':C,'execute':_0x21aabb=>$['editFlowBlock'](_0x21aabb,_0x10ebd2)});_0x258c8a[_0x135c83(0x59d)](0xc8)[_0x135c83(0x797)](_0xf5dee5);})[_0x1db3cb(0x58f)](this['routerPath'](_0x1db3cb(0x71e)),..._0x454678,async(_0x11d108,_0x5354f1)=>{const _0x4d42a7=_0x1db3cb;let _0x4069c0=_0x11d108['body'];y[_0x4d42a7(0x7a1)]('request\x20received\x20in\x20editFlow'),y[_0x4d42a7(0x7a1)](_0x4d42a7(0x64e)),y[_0x4d42a7(0x7a1)](_0x11d108[_0x4d42a7(0x4fe)]);let _0x10c15c=await this['dataValidate']({'request':_0x11d108,'schema':N,'ClassRef':C,'execute':_0x1ecd46=>$['editFlowReply'](_0x1ecd46,_0x4069c0)});_0x5354f1['status'](0xc8)[_0x4d42a7(0x797)](_0x10c15c);})[_0x1db3cb(0x58f)](this['routerPath'](_0x1db3cb(0x2cb)),..._0x454678,async(_0x497cc1,_0x4e14d6)=>{const _0x45a128=_0x1db3cb;let _0x48bac0=_0x497cc1['body'];y[_0x45a128(0x7a1)](_0x45a128(0x322)),y[_0x45a128(0x7a1)]('request\x20body:\x20'),y[_0x45a128(0x7a1)](_0x497cc1['body']);let _0x1af82f=await this[_0x45a128(0x32e)]({'request':_0x497cc1,'schema':N,'ClassRef':C,'execute':_0x5bb70c=>$['editFlowVaredit'](_0x5bb70c,_0x48bac0)});_0x4e14d6[_0x45a128(0x59d)](0xc8)[_0x45a128(0x797)](_0x1af82f);})[_0x1db3cb(0x58f)](this['routerPath'](_0x1db3cb(0x3cf)),..._0x454678,async(_0x55669c,_0x2861fd)=>{const _0xeb460d=_0x1db3cb;let _0xa695ed=_0x55669c['body'];y['verbose'](_0xeb460d(0x777)),y[_0xeb460d(0x7a1)]('request\x20body:\x20'),y[_0xeb460d(0x7a1)](_0x55669c[_0xeb460d(0x4fe)]);let _0x1507f1=await this['dataValidate']({'request':_0x55669c,'schema':N,'ClassRef':C,'execute':_0x3cb64d=>$[_0xeb460d(0x17e)](_0x3cb64d,_0xa695ed)});_0x2861fd['status'](0xc8)[_0xeb460d(0x797)](_0x1507f1);})['post'](this[_0x1db3cb(0x45f)](_0x1db3cb(0x277)),..._0x454678,async(_0x283d48,_0x2fd5c6)=>{const _0x35b236=_0x1db3cb;let _0xbace43=_0x283d48[_0x35b236(0x4fe)];y[_0x35b236(0x7a1)](_0x35b236(0x40e)),y[_0x35b236(0x7a1)]('request\x20body:\x20'),y[_0x35b236(0x7a1)](_0x283d48['body']);let _0x5c2365=await this['dataValidate']({'request':_0x283d48,'schema':N,'ClassRef':C,'execute':_0x36ab64=>$[_0x35b236(0x514)](_0x36ab64,_0xbace43)});_0x2fd5c6[_0x35b236(0x59d)](0xc8)[_0x35b236(0x797)](_0x5c2365);})[_0x1db3cb(0x58f)](this[_0x1db3cb(0x45f)](_0x1db3cb(0x2e5)),..._0x454678,async(_0x36eca1,_0x56bb4b)=>{const _0x9719ee=_0x1db3cb;let _0x2521e1=_0x36eca1['body'];y[_0x9719ee(0x7a1)](_0x9719ee(0x759)),y['verbose'](_0x9719ee(0x64e)),y[_0x9719ee(0x7a1)](_0x36eca1['body']);let _0x161185=await this[_0x9719ee(0x32e)]({'request':_0x36eca1,'schema':N,'ClassRef':C,'execute':_0x3b15d3=>$[_0x9719ee(0x1bb)](_0x3b15d3,_0x2521e1)});_0x56bb4b['status'](0xc8)[_0x9719ee(0x797)](_0x161185);})[_0x1db3cb(0x58f)](this[_0x1db3cb(0x45f)](_0x1db3cb(0x148)),..._0x454678,async(_0x2f9278,_0x1d69e8)=>{const _0x24aa67=_0x1db3cb;let _0x55a901=_0x2f9278[_0x24aa67(0x4fe)];y[_0x24aa67(0x7a1)](_0x24aa67(0x63f)),y[_0x24aa67(0x7a1)]('request\x20body:\x20'),y[_0x24aa67(0x7a1)](_0x2f9278[_0x24aa67(0x4fe)]);let _0x7c1299=await this[_0x24aa67(0x32e)]({'request':_0x2f9278,'schema':N,'ClassRef':C,'execute':_0x5ca952=>$[_0x24aa67(0x158)](_0x5ca952,_0x55a901)});_0x1d69e8[_0x24aa67(0x59d)](0xc8)[_0x24aa67(0x797)](_0x7c1299);})['delete'](this[_0x1db3cb(0x45f)]('deleteflow'),..._0x454678,async(_0x4d3cdb,_0x1b11a9)=>{const _0x509366=_0x1db3cb;let _0x310ea7=_0x4d3cdb[_0x509366(0x4fe)];y['verbose']('request\x20received\x20in\x20deleteFlow'),y[_0x509366(0x7a1)]('request\x20body:\x20'),y[_0x509366(0x7a1)](_0x4d3cdb['body']);let _0x3b085f=await this[_0x509366(0x32e)]({'request':_0x4d3cdb,'schema':N,'ClassRef':C,'execute':_0x5d3aca=>$[_0x509366(0x51a)](_0x5d3aca,_0x310ea7)});_0x1b11a9[_0x509366(0x59d)](0xc8)[_0x509366(0x797)](_0x3b085f);})[_0x1db3cb(0x1a1)](this[_0x1db3cb(0x45f)](_0x1db3cb(0x20d)),..._0x454678,async(_0x2280c1,_0x33810c)=>{const _0x9c7d41=_0x1db3cb;y[_0x9c7d41(0x7a1)]('request\x20received\x20in\x20allFlows');let _0x5abb22=await this[_0x9c7d41(0x32e)]({'request':_0x2280c1,'schema':N,'ClassRef':C,'execute':_0x2cc1fc=>$[_0x9c7d41(0x615)](_0x2cc1fc)});_0x33810c[_0x9c7d41(0x59d)](0xc8)[_0x9c7d41(0x797)](_0x5abb22);});}},Mr=O(require(a0_0x29b3b7(0x21d))),Z={};function yr(_0x3d4cc0,_0x4b750b,_0x16e399,_0x347657){Z[_0x3d4cc0]||(Z[_0x3d4cc0]={}),Z[_0x3d4cc0][_0x4b750b]={'id':_0x4b750b,'response':_0x16e399,'events':_0x347657};}function br(_0x23506c,_0x49deb8){!Z[_0x23506c]||!Z[_0x23506c][_0x49deb8]||delete Z[_0x23506c][_0x49deb8];}function J(_0xf4a92,_0x4a6518,_0x205977){const _0x5ed12a=a0_0x29b3b7;if(!Z[_0xf4a92])return;let _0x572364=_0x5ed12a(0x3f9)+JSON[_0x5ed12a(0xfe)](_0x205977)+'\x0a\x0a';Object[_0x5ed12a(0x103)](Z[_0xf4a92])[_0x5ed12a(0x693)](_0x828450=>{const _0x28099b=_0x5ed12a;_0x828450[_0x28099b(0x1b6)][_0x28099b(0x58d)](_0x4a6518)&&_0x828450[_0x28099b(0x252)][_0x28099b(0x27a)](_0x572364);});}function Sr(){const _0x3061bc=a0_0x29b3b7;let _0x33d076={};for(let _0x2ed21d in Z)_0x33d076[_0x2ed21d]=Object[_0x3061bc(0x103)](Z[_0x2ed21d])[_0x3061bc(0x40d)](_0x546018=>({'id':_0x546018['id'],'events':_0x546018[_0x3061bc(0x1b6)]}));return _0x33d076;}var Cr=require('uuid'),Ns=require(a0_0x29b3b7(0x4f8)),vs=class{},Ci=new Ns[(a0_0x29b3b7(0x3dd))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Ei=new Ns[(a0_0x29b3b7(0x3dd))]({'_id':{'type':String,'default':a0_0x29b3b7(0x7c2)},'WebhookGlobal':{'type':Ci},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),be=T?.['model'](vs[a0_0x29b3b7(0x438)],Ei,a0_0x29b3b7(0x408)),vi=Mr[a0_0x29b3b7(0x282)][a0_0x29b3b7(0x452)](__dirname,a0_0x29b3b7(0x3a8)),$t=(0x0,At[a0_0x29b3b7(0x41b)])(),Ni=b['get'](a0_0x29b3b7(0x786))[a0_0x29b3b7(0x56b)],se=[Oa,Aa,xa[Ni]];$t[a0_0x29b3b7(0x717)](a0_0x29b3b7(0x6c5),At['default'][a0_0x29b3b7(0x459)](vi))[a0_0x29b3b7(0x1a1)]('/events/:instance',async(_0x149070,_0x5145be)=>{const _0x330060=a0_0x29b3b7;console['log'](_0x330060(0x2bd));let _0x3a9dbc=_0x149070[_0x330060(0x300)][_0x330060(0x1fb)],_0x1f2afd=(_0x149070['query'][_0x330060(0x1b6)]||'')['split'](','),_0x19a4c7=(0x0,Cr['v4'])();console[_0x330060(0x6bf)]('Instance\x20ID:',_0x3a9dbc),console[_0x330060(0x6bf)](_0x330060(0x40a),_0x1f2afd);let _0x18360c=b[_0x330060(0x1a1)](_0x330060(0x786))[_0x330060(0x4df)],_0x54654d=_0x149070['query'][_0x330060(0x54e)];if(console['log'](_0x330060(0x707),_0x54654d),_0x18360c[_0x330060(0x4ca)]!==_0x54654d){console[_0x330060(0x6bf)](_0x330060(0x3bc));try{let _0x1e4eb3=await ue[_0x330060(0x7c9)][_0x330060(0x61d)](_0x3a9dbc);if(console[_0x330060(0x6bf)]('Instance\x20Key\x20from\x20DB:',_0x1e4eb3),!_0x1e4eb3||_0x1e4eb3[_0x330060(0x54e)]!==_0x54654d)return console['log'](_0x330060(0x22c)),_0x5145be['status'](0x191)[_0x330060(0x70c)](_0x330060(0x147));}catch(_0x2a0b89){return console[_0x330060(0x60d)](_0x330060(0x57f),_0x2a0b89),_0x5145be['status'](0x191)[_0x330060(0x70c)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Xe(_0x3a9dbc))return _0x5145be[_0x330060(0x59d)](0x194)[_0x330060(0x70c)](_0x330060(0x33b));_0x5145be[_0x330060(0x7a5)](_0x330060(0x517),_0x330060(0x404)),_0x5145be[_0x330060(0x7a5)]('Cache-Control',_0x330060(0x781)),_0x5145be['setHeader'](_0x330060(0x5a5),_0x330060(0x348)),_0x5145be[_0x330060(0x2bc)]();let _0x5cca8a=_0x330060(0x3f9)+JSON['stringify']({'info':_0x330060(0x46b)})+'\x0a\x0a';_0x5145be[_0x330060(0x27a)](_0x5cca8a),yr(_0x3a9dbc,_0x19a4c7,_0x5145be,_0x1f2afd),_0x149070['on'](_0x330060(0x10a),()=>{const _0x99c728=_0x330060;console[_0x99c728(0x6bf)](_0x99c728(0x489)+_0x3a9dbc),br(_0x3a9dbc,_0x19a4c7);});}),$t[a0_0x29b3b7(0x1a1)](a0_0x29b3b7(0x7a2),(_0x6ca11e,_0x50d354)=>{let _0x8395a=Sr();_0x50d354['json'](_0x8395a);})[a0_0x29b3b7(0x1a1)]('/',(_0x17d773,_0x12ebde)=>{const _0x25c6b0=a0_0x29b3b7;let _0x33e0d4=b[_0x25c6b0(0x1a1)](_0x25c6b0(0x12d))[_0x25c6b0(0x1f2)];if(_0x33e0d4){let _0x42d11f=encodeURIComponent(''+_0x33e0d4);_0x12ebde['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x42d11f);return;}let _0x19971c=b[_0x25c6b0(0x1a1)](_0x25c6b0(0x2d5)),_0x142220=_0x19971c&&_0x19971c['FULLCHAIN'][_0x25c6b0(0x355)]('/')[0x4];if(_0x142220){let _0x18883c=encodeURIComponent(_0x25c6b0(0x3ca)+_0x142220);_0x12ebde['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x18883c);}else _0x12ebde[_0x25c6b0(0x2af)]('https://uazapi-plugin.bubbleapps.io/');})['put'](a0_0x29b3b7(0x417),...se,async(_0x2be03d,_0x588d96)=>{const _0xebf676=a0_0x29b3b7;try{console[_0xebf676(0x6bf)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x588d96[_0xebf676(0x59d)](0xc8)[_0xebf676(0x797)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x588d96['on']('finish',()=>process[_0xebf676(0x420)](0x0));}catch(_0x5e5ace){console['error'](_0xebf676(0x738),_0x5e5ace),_0x588d96[_0xebf676(0x59d)](0x1f4)[_0xebf676(0x797)]({'message':_0xebf676(0x183)});}})[a0_0x29b3b7(0x11c)](a0_0x29b3b7(0x340),...se,async(_0x231a6c,_0x52ff58)=>{const _0x3b3630=a0_0x29b3b7;try{let _0x2f9fd6=_0x231a6c[_0x3b3630(0x4fe)];await be[_0x3b3630(0x7be)]({},{'$set':_0x2f9fd6},{'upsert':!0x0});let _0x22a1da=await be['findOne']();_0x52ff58[_0x3b3630(0x797)](_0x22a1da);}catch(_0x2f98ff){_0x52ff58[_0x3b3630(0x59d)](0x190)[_0x3b3630(0x70c)](_0x2f98ff['message']);}})['get'](a0_0x29b3b7(0x340),...se,async(_0xd2ea94,_0x2524d6)=>{const _0x377259=a0_0x29b3b7;try{let _0x3cf6bb=await be['findOne']();if(!_0x3cf6bb)return _0x2524d6['json']({});_0x2524d6['json'](_0x3cf6bb);}catch(_0x523b3d){_0x2524d6[_0x377259(0x59d)](0x1f4)[_0x377259(0x70c)](_0x523b3d['message']);}})[a0_0x29b3b7(0x717)](a0_0x29b3b7(0x113),new gt(b,...se)[a0_0x29b3b7(0x3c0)])['use']('/message',new Nt(...se)['router'])['use'](a0_0x29b3b7(0x336),new rt(...se)[a0_0x29b3b7(0x3c0)])[a0_0x29b3b7(0x717)](a0_0x29b3b7(0x45e),new ht(...se)['router'])[a0_0x29b3b7(0x717)](a0_0x29b3b7(0x466),new Tt(...se)[a0_0x29b3b7(0x3c0)])[a0_0x29b3b7(0x717)](a0_0x29b3b7(0x5f8),new Ot(...se)['router']);var m=class{constructor(..._0x550e61){const _0x455a35=a0_0x29b3b7;throw{'status':0x190,'error':_0x455a35(0x51e),'message':_0x550e61['length']>0x0?_0x550e61:void 0x0};}},te=class{constructor(..._0x5bcab4){const _0x5b67c7=a0_0x29b3b7;throw{'status':0x191,'error':'Unauthorized','message':_0x5bcab4[_0x5b67c7(0x761)]>0x0?_0x5bcab4:void 0x0};}},Q=class{constructor(..._0x1ee286){const _0x48b4d7=a0_0x29b3b7;throw{'status':0x193,'error':_0x48b4d7(0x520),'message':_0x1ee286['length']>0x0?_0x1ee286:void 0x0};}},U=class{constructor(..._0x262a87){const _0x267efc=a0_0x29b3b7;throw{'status':0x194,'error':_0x267efc(0x1d2),'message':_0x262a87[_0x267efc(0x761)]>0x0?_0x262a87:void 0x0};}},I=class{constructor(..._0x2e359c){const _0x372d57=a0_0x29b3b7;throw{'status':0x1f4,'error':_0x372d57(0x24e),'message':_0x2e359c[_0x372d57(0x761)]>0x0?_0x2e359c:void 0x0};}},de=require(a0_0x29b3b7(0x35e));async function Rs(_0x17e903){const _0x4e2ea5=a0_0x29b3b7;let _0x3c0147=new R(Rs[_0x4e2ea5(0x438)]),_0x3696d5=T[_0x4e2ea5(0x412)](),_0x1ccc5e=_0x3696d5['db'](b[_0x4e2ea5(0x1a1)](_0x4e2ea5(0x43d))[_0x4e2ea5(0x64f)]['DB_PREFIX_NAME']+_0x4e2ea5(0x47b))[_0x4e2ea5(0x6eb)](_0x17e903),_0xaf1ec6=async(_0x3fe0e8,_0x1a7510)=>{const _0x421115=_0x4e2ea5;try{return await _0x3696d5[_0x421115(0x6a5)](),await _0x1ccc5e['replaceOne']({'_id':_0x1a7510},JSON[_0x421115(0x399)](JSON[_0x421115(0xfe)](_0x3fe0e8,de['BufferJSON'][_0x421115(0x20b)])),{'upsert':!0x0});}catch{}},_0x4024d6=async _0x1685cc=>{const _0x4e273d=_0x4e2ea5;try{await _0x3696d5['connect']();let _0x21bc11=await _0x1ccc5e['findOne']({'_id':_0x1685cc}),_0x1e2467=JSON[_0x4e273d(0xfe)](_0x21bc11);return JSON[_0x4e273d(0x399)](_0x1e2467,de[_0x4e273d(0x571)]['reviver']);}catch{}},_0x3c8393=async _0x4855af=>{const _0x1dd801=_0x4e2ea5;try{return await _0x3696d5[_0x1dd801(0x6a5)](),await _0x1ccc5e[_0x1dd801(0x75d)]({'_id':_0x4855af});}catch{}},_0x6f3cfc=await _0x4024d6(_0x4e2ea5(0x4a1))||(0x0,de[_0x4e2ea5(0x2f0)])();return{'state':{'creds':_0x6f3cfc,'keys':{'get':async(_0x42e2a7,_0x45c6c1)=>{const _0x32f783=_0x4e2ea5;let _0x541178={};return await Promise[_0x32f783(0x357)](_0x45c6c1[_0x32f783(0x40d)](async _0x3147bd=>{const _0x38ea9c=_0x32f783;let _0x4d93fb=await _0x4024d6(_0x42e2a7+'-'+_0x3147bd);_0x42e2a7==='app-state-sync-key'&&_0x4d93fb&&(_0x4d93fb=de['proto'][_0x38ea9c(0x44b)][_0x38ea9c(0x1d9)]['fromObject'](_0x4d93fb)),_0x541178[_0x3147bd]=_0x4d93fb;})),_0x541178;},'set':async _0x3c4c0a=>{let _0x50b0ec=[];for(let _0x503702 in _0x3c4c0a)for(let _0x3acc66 in _0x3c4c0a[_0x503702]){let _0x30b016=_0x3c4c0a[_0x503702][_0x3acc66],_0x568aab=_0x503702+'-'+_0x3acc66;_0x50b0ec['push'](_0x30b016?_0xaf1ec6(_0x30b016,_0x568aab):_0x3c8393(_0x568aab));}await Promise['all'](_0x50b0ec);}}},'saveCreds':async()=>_0xaf1ec6(_0x6f3cfc,'creds')};}var Is=O(require(a0_0x29b3b7(0x664))),xs=O(require(a0_0x29b3b7(0x2e2))),Dt=require(a0_0x29b3b7(0x35e)),Er=require(a0_0x29b3b7(0x66e)),xt=require(a0_0x29b3b7(0x35e)),It;function Ri(_0x5b2fa1){return It||(It=(0x0,Er['createClient'])({'url':_0x5b2fa1['URI']}),It['connect']()),It;}var ce=class c{constructor(_0x169487,_0x2aa77d){const _0x5388c0=a0_0x29b3b7;this[_0x5388c0(0x154)]=_0x169487,this[_0x5388c0(0x770)]=_0x2aa77d,this['logger']=new R(c['name']),this[_0x5388c0(0x372)]=Ri(_0x169487);}set[a0_0x29b3b7(0x5c6)](_0x14c639){const _0x3c13ee=a0_0x29b3b7;this[_0x3c13ee(0x770)]=_0x14c639;}async[a0_0x29b3b7(0x583)](){const _0x684521=a0_0x29b3b7;try{return await this[_0x684521(0x372)][_0x684521(0x397)]([_0x684521(0x37a),this[_0x684521(0x154)][_0x684521(0x727)]+':*']);}catch(_0x3b66ef){this[_0x684521(0x1be)]['error'](_0x3b66ef);}}async[a0_0x29b3b7(0x1af)](_0x2b2acc,_0x3749d8){const _0x3ce80b=a0_0x29b3b7;try{let _0x405a99=JSON['stringify'](_0x3749d8,xt[_0x3ce80b(0x571)][_0x3ce80b(0x20b)]);return await this[_0x3ce80b(0x372)]['hSet'](this[_0x3ce80b(0x154)][_0x3ce80b(0x727)]+':'+this[_0x3ce80b(0x770)],_0x2b2acc,_0x405a99);}catch(_0x2481d9){this['logger']['error'](_0x2481d9);}}async['getAllData'](){const _0x472c0c=a0_0x29b3b7;try{let _0x2c7b64=await this[_0x472c0c(0x372)][_0x472c0c(0x5c2)](this[_0x472c0c(0x154)]['PREFIX_KEY']+':'+this[_0x472c0c(0x770)]);if(_0x2c7b64){for(let _0x19b642 in _0x2c7b64)Object[_0x472c0c(0x2b1)][_0x472c0c(0x608)][_0x472c0c(0x3ec)](_0x2c7b64,_0x19b642)&&(_0x2c7b64[_0x19b642]=JSON[_0x472c0c(0x399)](_0x2c7b64[_0x19b642],xt[_0x472c0c(0x571)][_0x472c0c(0x26f)]));return _0x2c7b64;}}catch(_0x2bd5bf){this[_0x472c0c(0x1be)]['error'](_0x2bd5bf);}}async[a0_0x29b3b7(0x125)](_0x4a2d3a){const _0x1f15db=a0_0x29b3b7;try{let _0x378d0b=await this[_0x1f15db(0x372)]['hGet'](this['redisEnv'][_0x1f15db(0x727)]+':'+this[_0x1f15db(0x770)],_0x4a2d3a);if(_0x378d0b)return JSON[_0x1f15db(0x399)](_0x378d0b,xt[_0x1f15db(0x571)]['reviver']);}catch(_0xb3a5d4){this['logger'][_0x1f15db(0x60d)](_0xb3a5d4);}}async[a0_0x29b3b7(0x7cb)](_0x284be9){const _0x1f70f9=a0_0x29b3b7;try{return await this[_0x1f70f9(0x372)][_0x1f70f9(0x1ed)](this['redisEnv'][_0x1f70f9(0x727)]+':'+this[_0x1f70f9(0x770)],_0x284be9);}catch(_0x5db1eb){this[_0x1f70f9(0x1be)][_0x1f70f9(0x60d)](_0x5db1eb);}}async['delAll'](_0x59b4b0){const _0x3b4ce7=a0_0x29b3b7;try{return await this['client'][_0x3b4ce7(0x61b)](_0x59b4b0||this[_0x3b4ce7(0x154)][_0x3b4ce7(0x727)]+':'+this[_0x3b4ce7(0x770)]);}catch(_0x395506){this[_0x3b4ce7(0x1be)][_0x3b4ce7(0x60d)](_0x395506);}}};async function Ts(_0x75b44e,_0x30ab7a){const _0x22133d=a0_0x29b3b7;let _0x30083d=new R(Ts[_0x22133d(0x438)]),_0x5a8b7a=new ce(_0x75b44e,_0x30ab7a),_0x58c9dd=async(_0x30d995,_0x5af88f)=>{const _0x2d84b5=_0x22133d;try{return await _0x5a8b7a[_0x2d84b5(0x1af)](_0x5af88f,_0x30d995);}catch(_0x4a88a7){return _0x30083d['error']({'localError':'writeData','error':_0x4a88a7});}},_0x15b1eb=async _0x3922cf=>{const _0x2d9ad7=_0x22133d;try{return await _0x5a8b7a[_0x2d9ad7(0x125)](_0x3922cf);}catch(_0x10ceb4){_0x30083d[_0x2d9ad7(0x60d)]({'readData':_0x2d9ad7(0x1af),'error':_0x10ceb4});return;}},_0x53d541=async _0x34bf66=>{const _0x106b0d=_0x22133d;try{return await _0x5a8b7a[_0x106b0d(0x7cb)](_0x34bf66);}catch(_0x3d3e68){_0x30083d['error']({'readData':_0x106b0d(0x7cb),'error':_0x3d3e68});}},_0xa34a81=await _0x15b1eb(_0x22133d(0x4a1))||(0x0,Dt['initAuthCreds'])();return{'state':{'creds':_0xa34a81,'keys':{'get':async(_0x527ed7,_0x3af06f)=>{const _0x44eddf=_0x22133d;let _0x421210={};return await Promise['all'](_0x3af06f[_0x44eddf(0x40d)](async _0x19ab6d=>{const _0x13cc5d=_0x44eddf;let _0x54863f=await _0x15b1eb(_0x527ed7+'-'+_0x19ab6d);_0x527ed7===_0x13cc5d(0x42c)&&_0x54863f&&(_0x54863f=Dt[_0x13cc5d(0x2ba)]['Message'][_0x13cc5d(0x1d9)][_0x13cc5d(0x250)](_0x54863f)),_0x421210[_0x19ab6d]=_0x54863f;})),_0x421210;},'set':async _0x436930=>{const _0x1196da=_0x22133d;let _0x52d750=[];for(let _0x14dba8 in _0x436930)for(let _0xd25956 in _0x436930[_0x14dba8]){let _0x3c80ba=_0x436930[_0x14dba8][_0xd25956],_0x50f27e=_0x14dba8+'-'+_0xd25956;_0x52d750[_0x1196da(0x343)](_0x3c80ba?await _0x58c9dd(_0x3c80ba,_0x50f27e):await _0x53d541(_0x50f27e));}await Promise[_0x1196da(0x357)](_0x52d750);}}},'saveCreds':async()=>await _0x58c9dd(_0xa34a81,'creds')};}var j=O(require('fs')),jt=require('uuid'),Lt=O(require('sharp')),Ft=require(a0_0x29b3b7(0x32f)),Ti=a0_0x29b3b7(0x351)[a0_0x29b3b7(0x699)](),_t=Ti[a0_0x29b3b7(0x355)]('\x0a')['map'](_0x5d5479=>{const _0x2b5cab=a0_0x29b3b7;let _0x5c623c=_0x5d5479[_0x2b5cab(0x355)](':'),_0x57439f={'host':_0x5c623c[0x0],'port':_0x5c623c[0x1],'protocol':_0x2b5cab(0x696)};return _0x5c623c[_0x2b5cab(0x761)]===0x4&&(_0x57439f[_0x2b5cab(0x3f2)]=_0x5c623c[0x2],_0x57439f[_0x2b5cab(0x276)]=_0x5c623c[0x3]),_0x57439f;});function vr(_0x3c386b){const _0x48adda=a0_0x29b3b7;return _t[_0x48adda(0x61d)](_0x3cbdca=>_0x3cbdca[_0x48adda(0x782)]===_0x3c386b)||null;}function Nr(){const _0x3461f5=a0_0x29b3b7;if(_t[_0x3461f5(0x761)]===0x0)return null;let _0x23f82d=Math['floor'](Math[_0x3461f5(0x2b8)]()*_t['length']);return _t[_0x23f82d];}function Os(_0x411116){const _0xb08c4a=a0_0x29b3b7;let _0x33f7ac=_0x337257=>typeof _0x337257==_0xb08c4a(0x162)&&_0x337257[_0xb08c4a(0x761)]>0x0,_0x1b91a8=_0x5aa854=>{let _0x53cf44=parseInt(_0x5aa854,0xa);return!isNaN(_0x53cf44)&&_0x53cf44>0x0&&_0x53cf44<=0xffff;},_0x1338d6=_0x43c9bf=>typeof _0x43c9bf==_0xb08c4a(0x162)&&_0x43c9bf[_0xb08c4a(0x761)]>0x0;return _0x411116&&_0x33f7ac(_0x411116['host'])&&_0x1b91a8(_0x411116[_0xb08c4a(0x7ce)])&&(!_0x411116[_0xb08c4a(0x3f2)]||_0x1338d6(_0x411116[_0xb08c4a(0x3f2)]))&&(!_0x411116[_0xb08c4a(0x276)]||_0x1338d6(_0x411116[_0xb08c4a(0x276)]))&&(_0x411116[_0xb08c4a(0x2ed)]==='http'||_0x411116[_0xb08c4a(0x2ed)]===_0xb08c4a(0x269));}var Jt=require(a0_0x29b3b7(0x651)),Ds=a0_0x29b3b7(0x73d),Ir,le=null,Rr=null,et=null,Oi=0x3,Ai=null;async function $i(){const _0x16171a=a0_0x29b3b7;let _0x1f199=await be[_0x16171a(0x3b0)]();le=_0x1f199?.[_0x16171a(0x2f3)]??null,Ai=_0x1f199?.['DaysToDelete']??null,Ds=_0x1f199?.[_0x16171a(0x4b9)]??_0x16171a(0x73d),Ir=_0x1f199?.['connectedName']??_s??_0x16171a(0x11e),console[_0x16171a(0x6bf)](_0x16171a(0x506)),console[_0x16171a(0x6bf)](_0x1f199);}async function Ii(){await $i();}Ii();var Tr={},ae={},Se=class c{constructor(_0x2ac8a2,_0x3fd8c4,_0x43bbcc){const _0x7d2e2d=a0_0x29b3b7;this[_0x7d2e2d(0x667)]=_0x2ac8a2,this['eventEmitter']=_0x3fd8c4,this[_0x7d2e2d(0x68f)]=_0x43bbcc,this[_0x7d2e2d(0x460)]=null,this[_0x7d2e2d(0x1be)]=new R(c['name']),this[_0x7d2e2d(0x1fb)]={},this[_0x7d2e2d(0x321)]={},this[_0x7d2e2d(0x710)]={'state':_0x7d2e2d(0x10a)},this[_0x7d2e2d(0x18d)]=(0x0,F['join'])(oe,_0x7d2e2d(0x3a8)),this['msgRetryCounterCache']=new xs[(_0x7d2e2d(0x282))](),this[_0x7d2e2d(0x297)]=new xs[(_0x7d2e2d(0x282))](),this[_0x7d2e2d(0x67b)]=!0x1,this[_0x7d2e2d(0x161)]={'status.instance':_0x7d2e2d(0x442),'connection.update':_0x7d2e2d(0x442),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x7d2e2d(0x566),'send.message':'/wa-message','messages.update':_0x7d2e2d(0x1db),'group.upsert':_0x7d2e2d(0x7b3),'group.update':_0x7d2e2d(0x7b3),'group-participants.update':_0x7d2e2d(0x7b3),'messages.set':_0x7d2e2d(0x1d8),'contacts.set':_0x7d2e2d(0x535),'contacts.upsert':_0x7d2e2d(0x535),'contacts.update':'/wa-contacts','presence.update':_0x7d2e2d(0x497),'chats.set':_0x7d2e2d(0x472),'chats.update':_0x7d2e2d(0x472),'chats.upsert':_0x7d2e2d(0x472),'chats.delete':'/wa-chats'},this[_0x7d2e2d(0x3cb)]=0x0,this[_0x7d2e2d(0x2ce)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xa,this[_0x7d2e2d(0x1cb)]=0xea60,this[_0x7d2e2d(0x391)]=!0x1,this['chatHandle']={'chats.upsert':async(_0x58d941,_0x27e069)=>{const _0x3c7308=_0x7d2e2d;let _0x294bb5=[];for await(let _0x79b70f of _0x58d941)_0x294bb5[_0x3c7308(0x343)]({'_id':_0x79b70f['id'],'owner':this[_0x3c7308(0x1fb)][_0x3c7308(0xe7)],'group':_0x79b70f['id']['endsWith'](_0x3c7308(0x170)),'name':_0x79b70f[_0x3c7308(0x438)]||_0x79b70f[_0x3c7308(0x6fd)]||null,'contactname':null,'lastmsg':_0x79b70f['conversationTimestamp']&&_0x79b70f[_0x3c7308(0x6d0)][_0x3c7308(0x4a2)]()[_0x3c7308(0x761)]<0xd?_0x79b70f['conversationTimestamp']*0x3e8:_0x79b70f[_0x3c7308(0x6d0)]||null,'archived':_0x79b70f[_0x3c7308(0x61f)]||!0x1,'unreadcount':_0x79b70f[_0x3c7308(0x4b3)]||0x0,'ephemeralExpiration':_0x79b70f[_0x3c7308(0x5dd)]||0x0});this[_0x3c7308(0x383)](_0x3c7308(0x718),_0x294bb5);},'chats.update':async(_0x3b93bf,_0x43541c)=>{const _0x44d73f=_0x7d2e2d;for(let _0x41f0e5 of _0x3b93bf){let _0x50e539={'_id':_0x41f0e5['id'],'owner':this[_0x44d73f(0x1fb)][_0x44d73f(0xe7)],'archived':_0x41f0e5[_0x44d73f(0x61f)],'muteEndTime':_0x41f0e5[_0x44d73f(0x338)],'ephemeralExpiration':_0x41f0e5[_0x44d73f(0x5dd)]},_0x3bce26=!0x1,_0x191b12={};_0x50e539[_0x44d73f(0x61f)]!=null&&(this['logger']['verbose'](this[_0x44d73f(0x770)]+'\x20('+this[_0x44d73f(0x1fb)]['wuid']+_0x44d73f(0xf2)+_0x41f0e5['id']+_0x44d73f(0x180)+_0x41f0e5[_0x44d73f(0x61f)]),_0x3bce26=!0x0,_0x191b12[_0x44d73f(0x61f)]=_0x41f0e5[_0x44d73f(0x61f)]),_0x44d73f(0x338)in _0x41f0e5&&(this[_0x44d73f(0x1be)][_0x44d73f(0x7a1)](this[_0x44d73f(0x770)]+'\x20('+this[_0x44d73f(0x1fb)][_0x44d73f(0xe7)]+_0x44d73f(0x1a7)+_0x41f0e5['id']+_0x44d73f(0x180)+(_0x41f0e5[_0x44d73f(0x338)]??'0')),_0x3bce26=!0x0,_0x191b12[_0x44d73f(0x338)]=_0x41f0e5[_0x44d73f(0x338)]??0x0),_0x44d73f(0x5dd)in _0x41f0e5&&(this[_0x44d73f(0x1be)][_0x44d73f(0x7a1)](this[_0x44d73f(0x770)]+'\x20('+this[_0x44d73f(0x1fb)][_0x44d73f(0xe7)]+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x41f0e5['id']+'\x20:\x20'+(_0x41f0e5['ephemeralExpiration']!==void 0x0?_0x41f0e5[_0x44d73f(0x5dd)]:_0x44d73f(0x59a))),_0x191b12[_0x44d73f(0x5dd)]=_0x41f0e5[_0x44d73f(0x5dd)]===null?0x0:_0x41f0e5[_0x44d73f(0x5dd)],_0x3bce26=!0x0);let _0x30ccde;_0x3bce26&&(_0x30ccde=await this[_0x44d73f(0x68f)][_0x44d73f(0xf1)][_0x44d73f(0x7be)]({'where':{'_id':_0x41f0e5['id']}},_0x191b12,this[_0x44d73f(0x1fb)][_0x44d73f(0xe7)])),_0x30ccde&&J(this[_0x44d73f(0x770)],_0x44d73f(0x61e),{'chat':_0x30ccde});}},'chats.delete':async _0x3d8847=>{const _0x3aedb1=_0x7d2e2d;for(let _0x20c78b of _0x3d8847)if(_0x20c78b[_0x3aedb1(0x325)](_0x3aedb1(0x170))){await this[_0x3aedb1(0x68f)][_0x3aedb1(0xf1)][_0x3aedb1(0x5a1)]({'where':{'_id':_0x20c78b}},this[_0x3aedb1(0x1fb)][_0x3aedb1(0xe7)]);let _0x16dc8a={'where':{'key':{'remoteJid':_0x20c78b}}};await this[_0x3aedb1(0x68f)][_0x3aedb1(0x780)]['delete'](_0x16dc8a,this['instance'][_0x3aedb1(0xe7)]);}else{await this[_0x3aedb1(0x68f)][_0x3aedb1(0xf1)][_0x3aedb1(0x7be)]({'where':{'_id':_0x20c78b}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x3aedb1(0xe7)]);let _0x2fdc10={'where':{'key':{'remoteJid':_0x20c78b}}};await this[_0x3aedb1(0x68f)][_0x3aedb1(0x780)]['delete'](_0x2fdc10,this[_0x3aedb1(0x1fb)][_0x3aedb1(0xe7)]);}this['sendDataWebhook'](_0x3aedb1(0x11f),[..._0x3d8847]);}},this[_0x7d2e2d(0x512)]={'contacts.upsert':async(_0x2578aa,_0x373b4c)=>{const _0x37e09f=_0x7d2e2d;let _0x5afb30=await this[_0x37e09f(0x68f)][_0x37e09f(0x15f)][_0x37e09f(0x61d)]({'where':{}},this[_0x37e09f(0x1fb)][_0x37e09f(0xe7)]),_0xec28e9=[];for await(let _0x27099d of _0x2578aa)_0x5afb30['find'](_0xcb22dd=>_0xcb22dd[_0x37e09f(0x6a7)]===_0x27099d['id'])||_0xec28e9[_0x37e09f(0x343)]({'_id':_0x27099d['id'],'pushName':_0x27099d?.[_0x37e09f(0x438)]||_0x27099d?.[_0x37e09f(0x3ef)],'owner':this[_0x37e09f(0x1fb)][_0x37e09f(0xe7)]});this[_0x37e09f(0x383)](_0x37e09f(0x751),_0xec28e9),await this['repository']['contact'][_0x37e09f(0x34e)](_0xec28e9);},'contacts.update':async(_0x2df361,_0x58debf)=>{const _0x4eee4c=_0x7d2e2d;let _0x522d34=[];for await(let _0x458d46 of _0x2df361)_0x522d34[_0x4eee4c(0x343)]({'_id':_0x458d46['id'],'pushName':_0x458d46?.['name']??_0x458d46?.[_0x4eee4c(0x3ef)],'owner':this[_0x4eee4c(0x1fb)][_0x4eee4c(0xe7)]});this['sendDataWebhook'](_0x4eee4c(0x2ec),_0x522d34);}},this[_0x7d2e2d(0x36f)]={'messaging-history.set':async({messages:_0x10846d,chats:_0x42239c,isLatest:_0x54a250},_0x32b3c8)=>{const _0x540c1d=_0x7d2e2d;if(_0x54a250){let _0x3cd32b=await Promise[_0x540c1d(0x357)](_0x42239c[_0x540c1d(0x40d)](async _0x585cd6=>({'_id':_0x585cd6['id'],'owner':this['instance'][_0x540c1d(0xe7)],'group':_0x585cd6['id'][_0x540c1d(0x325)](_0x540c1d(0x170)),'name':_0x585cd6[_0x540c1d(0x438)]||_0x585cd6[_0x540c1d(0x6fd)]||_0x585cd6[_0x540c1d(0x3f2)]||null,'contactname':null,'lastmsg':_0x585cd6['conversationTimestamp']&&_0x585cd6[_0x540c1d(0x6d0)]['toString']()[_0x540c1d(0x761)]<0xd?_0x585cd6['conversationTimestamp']*0x3e8:_0x585cd6[_0x540c1d(0x6d0)]||null,'archived':_0x585cd6['archived']||!0x1,'unreadcount':_0x585cd6[_0x540c1d(0x4b3)]||0x0,'ephemeralExpiration':_0x585cd6[_0x540c1d(0x5dd)]||0x0,'muteEndTime':_0x585cd6[_0x540c1d(0x338)]||0x0})));this[_0x540c1d(0x383)](_0x540c1d(0x7bc),_0x3cd32b),await this['upsertChats'](_0x3cd32b,_0x32b3c8);}let _0x2cfedb=[],_0x156328=Date[_0x540c1d(0x5aa)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x1d7d3b]of Object[_0x540c1d(0x6ee)](_0x10846d)){if(_0x1d7d3b[_0x540c1d(0x780)]?.[_0x540c1d(0x56f)]||_0x1d7d3b[_0x540c1d(0x780)]?.[_0x540c1d(0x39b)]||!_0x1d7d3b[_0x540c1d(0x780)]||_0x1d7d3b[_0x540c1d(0x5ec)]['remoteJid']===_0x540c1d(0x2d1)||(Is[_0x540c1d(0x282)][_0x540c1d(0x5bd)](_0x1d7d3b?.[_0x540c1d(0x26d)])&&(_0x1d7d3b['messageTimestamp']=_0x1d7d3b[_0x540c1d(0x26d)]?.['toNumber']()),_0x1d7d3b['messageTimestamp']&&_0x1d7d3b[_0x540c1d(0x26d)][_0x540c1d(0x4a2)]()[_0x540c1d(0x761)]<0xd&&(_0x1d7d3b[_0x540c1d(0x26d)]=_0x1d7d3b[_0x540c1d(0x26d)]*0x3e8),_0x1d7d3b['messageTimestamp']<_0x156328))continue;let _0x236941=(0x0,f[_0x540c1d(0x4d6)])(_0x1d7d3b['message']),_0x1a996d=(0x0,f['getContentType'])(_0x236941),{message_normalized:_0x1836d0}=this[_0x540c1d(0x545)](_0x236941,_0x1a996d,null);Object[_0x540c1d(0x37a)](_0x1836d0)[_0x540c1d(0x761)]>0x0&&_0x2cfedb[_0x540c1d(0x343)]({'_id':_0x1d7d3b['key']['id'],'key':_0x1d7d3b[_0x540c1d(0x5ec)],'pushName':_0x1d7d3b['pushName'],'participant':_0x1d7d3b['participant'],'message':_0x236941,'messageType':_0x1a996d,'message_normalized':{'key':_0x1d7d3b[_0x540c1d(0x5ec)],'pushName':_0x1d7d3b[_0x540c1d(0x744)],'messageTimestamp':_0x1d7d3b[_0x540c1d(0x26d)],..._0x1836d0},'messageTimestamp':_0x1d7d3b['messageTimestamp'],'owner':this[_0x540c1d(0x1fb)][_0x540c1d(0xe7)]});}_0x32b3c8['ENABLED']&&_0x2cfedb[_0x540c1d(0x761)]>0x0&&(this[_0x540c1d(0x1be)][_0x540c1d(0x7a1)](this[_0x540c1d(0x770)]+'\x20('+this[_0x540c1d(0x1fb)][_0x540c1d(0xe7)]+'):\x20'+_0x2cfedb['length']+_0x540c1d(0x52e)+this[_0x540c1d(0x1fb)]['wuid']+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x540c1d(0x68f)][_0x540c1d(0x780)][_0x540c1d(0x34e)]([..._0x2cfedb],this['instance'][_0x540c1d(0xe7)])),this[_0x540c1d(0x383)](_0x540c1d(0x455),[..._0x2cfedb]),_0x10846d=void 0x0;},'messages.upsert':async({messages:_0x34c2ff,type:_0x5925c2},_0x37de0f)=>{const _0x5cb5be=_0x7d2e2d;let _0x55fb14=_0x34c2ff[0x0],_0x34b2ac=_0x55fb14[_0x5cb5be(0x5ec)]['id'],_0x4df79d=_0x55fb14[_0x5cb5be(0x4dd)]===0x2,_0x497dd3=0xb;if(this[_0x5cb5be(0x321)]?.[_0x5cb5be(0x683)]&&_0x55fb14[_0x5cb5be(0x5ec)]['remoteJid'][_0x5cb5be(0x58d)]('@g.us')){this[_0x5cb5be(0x1be)][_0x5cb5be(0x7a1)](this[_0x5cb5be(0x770)]+'\x20('+this[_0x5cb5be(0x1fb)][_0x5cb5be(0xe7)]+_0x5cb5be(0x356));return;}if(_0x4df79d){if(ae[_0x34b2ac]||(ae[_0x34b2ac]=0x0),ae[_0x34b2ac]++,this[_0x5cb5be(0x1be)][_0x5cb5be(0x60d)](this['instanceName']+'\x20('+this['instance'][_0x5cb5be(0xe7)]+_0x5cb5be(0x2ab)+_0x55fb14[_0x5cb5be(0x5ec)][_0x5cb5be(0x4b0)]+_0x5cb5be(0x736)+_0x34b2ac+':\x20'+ae[_0x34b2ac]+'/'+_0x497dd3),ae[_0x34b2ac]>=_0x497dd3){this[_0x5cb5be(0x1be)][_0x5cb5be(0x60d)](this[_0x5cb5be(0x770)]+'\x20('+this[_0x5cb5be(0x1fb)][_0x5cb5be(0xe7)]+_0x5cb5be(0x130)+_0x55fb14[_0x5cb5be(0x5ec)][_0x5cb5be(0x4b0)]+_0x5cb5be(0x736)+_0x34b2ac+'.');let _0x4d9060={'key':{..._0x55fb14[_0x5cb5be(0x5ec)]},'message':{'conversation':'[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22'+_0x34b2ac+_0x5cb5be(0x4a8)}};this['client']['ev']['emit'](_0x5cb5be(0x329),{'messages':[_0x4d9060],'type':_0x5cb5be(0x1ab)}),delete ae[_0x34b2ac];}}else ae[_0x34b2ac]&&(this[_0x5cb5be(0x1be)]['warn'](_0x5cb5be(0x371)+ae[_0x34b2ac]+'\x20tentativas:\x20remotejid='+_0x55fb14['key'][_0x5cb5be(0x4b0)]+_0x5cb5be(0x736)+_0x34b2ac),delete ae[_0x34b2ac]);if(_0x5925c2!==_0x5cb5be(0x1ab)||!_0x55fb14?.[_0x5cb5be(0x780)]||_0x55fb14[_0x5cb5be(0x780)]?.['protocolMessage']||_0x55fb14[_0x5cb5be(0x780)][_0x5cb5be(0x39b)]||_0x55fb14[_0x5cb5be(0x5ec)][_0x5cb5be(0x4b0)]==='status@broadcast')return;let _0x159b45=null,_0x4870c0=null;try{_0x159b45=await this[_0x5cb5be(0x2e0)](_0x55fb14),_0x4870c0=_0x159b45?_0x159b45[_0x5cb5be(0x452)](','):null;}catch(_0x125677){this[_0x5cb5be(0x1be)][_0x5cb5be(0x7a1)](this[_0x5cb5be(0x770)]+'\x20('+this[_0x5cb5be(0x1fb)]['wuid']+_0x5cb5be(0x1e5)+(_0x125677 instanceof Error?_0x125677[_0x5cb5be(0x780)]:JSON['stringify'](_0x125677,null,0x2))),_0x4870c0='error\x20get\x20vote';}this[_0x5cb5be(0x372)][_0x5cb5be(0x638)](_0x5cb5be(0x198)),Is[_0x5cb5be(0x282)][_0x5cb5be(0x5bd)](_0x55fb14[_0x5cb5be(0x26d)])&&(_0x55fb14[_0x5cb5be(0x26d)]=_0x55fb14[_0x5cb5be(0x26d)]?.[_0x5cb5be(0x484)]()),_0x55fb14[_0x5cb5be(0x26d)]&&_0x55fb14[_0x5cb5be(0x26d)][_0x5cb5be(0x4a2)]()['length']<0xd&&(_0x55fb14[_0x5cb5be(0x26d)]=_0x55fb14[_0x5cb5be(0x26d)]*0x3e8);let _0x337258=_0x55fb14[_0x5cb5be(0x780)],_0x289fc3=(0x0,f[_0x5cb5be(0x4d6)])(_0x337258),_0x4aa852=(0x0,f[_0x5cb5be(0x6f8)])(_0x289fc3),{messageContent:_0x5cbbdb,message_normalized:_0x3f9bff}=this[_0x5cb5be(0x545)](_0x289fc3,_0x4aa852,_0x4870c0);_0x4aa852===_0x5cb5be(0x56f)&&_0x5cbbdb?.['editedMessage']&&(_0x4aa852=_0x5cb5be(0x733));let _0x21f5d4,_0x5acd5a=_0x55fb14[_0x5cb5be(0x5ec)][_0x5cb5be(0x4b0)]['endsWith']('@g.us');if(_0x55fb14['key'][_0x5cb5be(0x245)])_0x21f5d4=this['instance'][_0x5cb5be(0x507)];else{let _0x6b07f2=_0x5acd5a?_0x55fb14['key']['participant']:_0x55fb14[_0x5cb5be(0x5ec)][_0x5cb5be(0x4b0)];_0x21f5d4=(await this[_0x5cb5be(0x1e6)](_0x6b07f2,_0x55fb14['pushName'],!0x1))['cachedContact']['pictureUrl'];}let _0x59c016={'_id':_0x55fb14['key']['id'],'key':_0x55fb14['key'],'isGroup':_0x5acd5a,'profilePictureUrl':_0x21f5d4,'pushName':_0x55fb14[_0x5cb5be(0x744)],'message':_0x289fc3,'messageType':_0x4aa852,'message_normalized':{'key':_0x55fb14['key'],'pushName':_0x55fb14['pushName'],'messageTimestamp':_0x55fb14[_0x5cb5be(0x26d)],'source':(0x0,f['getDevice'])(_0x55fb14[_0x5cb5be(0x5ec)]['id']),..._0x3f9bff},'messageTimestamp':_0x55fb14[_0x5cb5be(0x26d)],'owner':this[_0x5cb5be(0x1fb)][_0x5cb5be(0xe7)],'source':(0x0,f['getDevice'])(_0x55fb14[_0x5cb5be(0x5ec)]['id']),'expiration':_0x5cbbdb?.[_0x5cb5be(0x57b)]?.['expiration']||0x0};_0x5cbbdb||(console['error'](_0x5cb5be(0x4c1)),this[_0x5cb5be(0x1be)][_0x5cb5be(0x60d)](_0x59c016)),this[_0x5cb5be(0x1be)][_0x5cb5be(0x6bf)](this[_0x5cb5be(0x770)]+'\x20('+this[_0x5cb5be(0x1fb)]['wuid']+_0x5cb5be(0x1e5)+(_0x59c016[_0x5cb5be(0x5ec)]?.[_0x5cb5be(0x245)]?_0x5cb5be(0x70a):_0x5cb5be(0x695))+'\x20['+_0x59c016[_0x5cb5be(0x5ec)]?.[_0x5cb5be(0x4b0)]['replace']('@s.whatsapp.net','')+_0x5cb5be(0x6e5)+_0x59c016[_0x5cb5be(0x58e)]+')'),_0x59c016[_0x5cb5be(0x76f)]?.[_0x5cb5be(0x623)]&&this[_0x5cb5be(0x1be)][_0x5cb5be(0x6bf)](_0x34b2ac+':\x20'+_0x59c016[_0x5cb5be(0x76f)]?.['text']),await this['repository']['message'][_0x5cb5be(0x34e)]([_0x59c016],this[_0x5cb5be(0x1fb)][_0x5cb5be(0xe7)]),this[_0x5cb5be(0x383)](_0x5cb5be(0x329),_0x59c016),J(this['instanceName'],_0x5cb5be(0xec),{'message':_0x59c016}),_0x55fb14[_0x5cb5be(0x5ec)][_0x5cb5be(0x4b0)]!==_0x5cb5be(0x2d1)&&await this[_0x5cb5be(0x74e)](_0x37de0f,_0x59c016,'MESSAGES_UPSERT');},'messages.update':async(_0x1eb509,_0x1ed087)=>{const _0x4e64a3=_0x7d2e2d;let _0x20ed69={0x0:_0x4e64a3(0x212),0x1:_0x4e64a3(0x72a),0x2:'SERVER_ACK',0x3:_0x4e64a3(0x530),0x4:_0x4e64a3(0x6cc),0x5:'PLAYED'};for await(let {key:_0x5d34b2,update:_0x554560}of _0x1eb509){if(this[_0x4e64a3(0x321)]?.[_0x4e64a3(0x683)]&&_0x5d34b2['remoteJid'][_0x4e64a3(0x58d)](_0x4e64a3(0x170))){this['logger'][_0x4e64a3(0x7a1)](this[_0x4e64a3(0x770)]+'\x20('+this[_0x4e64a3(0x1fb)][_0x4e64a3(0xe7)]+_0x4e64a3(0x626));return;}if(_0x5d34b2[_0x4e64a3(0x4b0)]!==_0x4e64a3(0x2d1)){let _0x5c1536=Date['now'](),_0x494015;_0x554560[_0x4e64a3(0x780)]===null&&_0x554560['status']===void 0x0?_0x494015='DELETED':_0x494015=_0x20ed69[_0x554560[_0x4e64a3(0x59d)]];let _0x43ae0a=_0x5d34b2[_0x4e64a3(0x4b0)][_0x4e64a3(0x3b1)](/:\d{1,2}@/g,'@'),_0x52bee4={..._0x5d34b2,'remoteJid':_0x43ae0a,'status':_0x494015,'datetime':_0x5c1536,'owner':this['instance'][_0x4e64a3(0xe7)]};this[_0x4e64a3(0x383)](_0x4e64a3(0x6a4),_0x52bee4),await this['updateMessage'](_0x5d34b2,_0x52bee4);}}},'labels.association':async({type:_0x2ae673,association:_0xf09c6b})=>{const _0x56cd29=_0x7d2e2d;if(_0xf09c6b[_0x56cd29(0x263)]===_0x56cd29(0x4d1)){let _0x344665,_0x502285=0x0;for(;!_0x344665&&_0x502285<this[_0x56cd29(0x629)];)_0x344665=await this[_0x56cd29(0x68f)]['chat']['findOne']({'where':{'_id':_0xf09c6b[_0x56cd29(0x185)]}},this[_0x56cd29(0x1fb)][_0x56cd29(0xe7)]),_0x344665||(_0x502285++,console[_0x56cd29(0x6bf)](_0x56cd29(0x2cd)+_0xf09c6b[_0x56cd29(0x185)]+_0x56cd29(0x23c)+this['delayChatLabel_RETRY_DELAY_MS']+_0x56cd29(0x6aa)+_0x502285+'/'+this[_0x56cd29(0x629)]+')'),await this['delayChatLabel'](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0x344665){console[_0x56cd29(0x60d)](_0x56cd29(0x396)+_0xf09c6b['chatId']+'\x20after\x20'+this[_0x56cd29(0x629)]+_0x56cd29(0x2c8));return;}switch(_0x2ae673){case'add':console['log'](_0xf09c6b),await this[_0x56cd29(0x68f)][_0x56cd29(0xf1)][_0x56cd29(0x7be)]({'where':{'_id':_0xf09c6b['chatId']}},{'leadInfo.etiquetas':_0xf09c6b[_0x56cd29(0x4a9)]},this[_0x56cd29(0x1fb)]['wuid'],void 0x0,'$addToSet');break;case _0x56cd29(0x286):console['log'](_0xf09c6b),await this['repository'][_0x56cd29(0xf1)][_0x56cd29(0x7be)]({'where':{'_id':_0xf09c6b[_0x56cd29(0x185)]}},{'leadInfo.etiquetas':_0xf09c6b[_0x56cd29(0x4a9)]},this[_0x56cd29(0x1fb)][_0x56cd29(0xe7)],void 0x0,_0x56cd29(0x21c));break;default:console[_0x56cd29(0x60d)](_0x56cd29(0x24b)+_0x2ae673+']');}}},'labels.edit':async _0x33c993=>{const _0x46bf0d=_0x7d2e2d;if(!_0x33c993||!_0x33c993['id']){console[_0x46bf0d(0x60d)](_0x46bf0d(0x37c));return;}if(!_0x33c993[_0x46bf0d(0x5ae)]){let _0x27f8ea=[_0x46bf0d(0x488),'#64c4ff',_0x46bf0d(0x69e),'#dfaef0',_0x46bf0d(0x3fd),_0x46bf0d(0x373),_0x46bf0d(0x3fb),_0x46bf0d(0x449),'#6f7bcf','#d8e651',_0x46bf0d(0x25d),_0x46bf0d(0x3e2),_0x46bf0d(0x660),_0x46bf0d(0x4bd),'#00a1f2',_0x46bf0d(0x694),'#ffae04','#b4ebff',_0x46bf0d(0x229),_0x46bf0d(0x63c)],_0x2ac4da;typeof _0x33c993[_0x46bf0d(0x5d7)]==_0x46bf0d(0x487)&&_0x33c993[_0x46bf0d(0x5d7)]>=0x0&&_0x33c993[_0x46bf0d(0x5d7)]<_0x27f8ea[_0x46bf0d(0x761)]?_0x2ac4da=_0x27f8ea[_0x33c993[_0x46bf0d(0x5d7)]]:(console[_0x46bf0d(0x60d)](_0x46bf0d(0x3ff),_0x33c993['color']),_0x2ac4da=_0x46bf0d(0x33c));let _0x417132={'_id':_0x33c993['id'],'colorHex':_0x2ac4da,'color':_0x33c993?.[_0x46bf0d(0x5d7)],'name':_0x33c993?.['name'],'owner':this[_0x46bf0d(0x1fb)][_0x46bf0d(0xe7)]};await this[_0x46bf0d(0x68f)][_0x46bf0d(0x6ac)][_0x46bf0d(0x7be)]({'where':{'_id':_0x33c993['id']}},_0x417132,this[_0x46bf0d(0x1fb)][_0x46bf0d(0xe7)]),console[_0x46bf0d(0x6bf)](_0x46bf0d(0x32c),_0x33c993);}_0x33c993[_0x46bf0d(0x5ae)]&&(await this['repository'][_0x46bf0d(0x6ac)][_0x46bf0d(0x5a1)]({'where':{'_id':_0x33c993['id']}},this[_0x46bf0d(0x1fb)][_0x46bf0d(0xe7)]),console[_0x46bf0d(0x6bf)](_0x46bf0d(0x293),_0x33c993['id']));}},this[_0x7d2e2d(0xfc)]={'groups.upsert':async _0x1b8969=>{const _0x8ed409=_0x7d2e2d;this[_0x8ed409(0x321)]?.[_0x8ed409(0x683)]||this[_0x8ed409(0x383)](_0x8ed409(0x116),_0x1b8969),console['log'](_0x8ed409(0x3aa),_0x1b8969);for(let _0x49b60d of _0x1b8969)await this[_0x8ed409(0x43e)](_0x49b60d);},'groups.update':async _0x21d913=>{const _0x362166=_0x7d2e2d;this['localWebhook']?.['groups_ignore']||this['sendDataWebhook'](_0x362166(0x7a0),_0x21d913),console[_0x362166(0x6bf)](_0x362166(0x435),_0x21d913);for(let _0x535ae9 of _0x21d913)await this[_0x362166(0x43e)](_0x535ae9);},'group-participants.update':async _0x4e0548=>{const _0x104d85=_0x7d2e2d;this['localWebhook']?.[_0x104d85(0x683)]||this['sendDataWebhook']('group-participants.update',_0x4e0548),console[_0x104d85(0x6bf)](_0x104d85(0x77e),_0x4e0548),await this['updateGroupParticipantsWebhook'](_0x4e0548);}},this[_0x7d2e2d(0x629)]=0x5,this[_0x7d2e2d(0x69a)]=0x1388,this[_0x7d2e2d(0x2e0)]=async _0x2cccf1=>{const _0x51eb42=_0x7d2e2d;if(_0x2cccf1['message']?.[_0x51eb42(0x35b)]){let _0x5e9300=await this[_0x51eb42(0x107)](_0x2cccf1[_0x51eb42(0x780)]['pollUpdateMessage'][_0x51eb42(0x228)],!0x0);if(_0x5e9300){let _0x3b8e82=_0x5e9300[_0x51eb42(0x5ec)][_0x51eb42(0x245)]?this['instance'][_0x51eb42(0xe7)]+_0x51eb42(0x3be):_0x5e9300[_0x51eb42(0x5ec)][_0x51eb42(0x77c)]||_0x5e9300[_0x51eb42(0x5ec)][_0x51eb42(0x4b0)],_0x2db392=_0x5e9300['key']['id'],_0x4c5c04=_0x5e9300[_0x51eb42(0x780)],_0x27d886=Buffer['from'](_0x4c5c04['messageContextInfo']['messageSecret'][_0x51eb42(0x4a2)](_0x51eb42(0x1f5)),_0x51eb42(0x1f5)),_0x2b7b25=(0x0,f[_0x51eb42(0x13e)])(_0x2cccf1['message'][_0x51eb42(0x35b)][_0x51eb42(0x4ac)],{'pollCreatorJid':_0x3b8e82,'pollMsgId':_0x2db392,'pollEncKey':_0x27d886,'voterJid':_0x2cccf1[_0x51eb42(0x5ec)][_0x51eb42(0x245)]?this[_0x51eb42(0x1fb)][_0x51eb42(0xe7)]+'@s.whatsapp.net':_0x2cccf1[_0x51eb42(0x5ec)][_0x51eb42(0x4b0)][_0x51eb42(0x325)](_0x51eb42(0x219))?_0x2cccf1[_0x51eb42(0x5ec)][_0x51eb42(0x77c)]:_0x2cccf1[_0x51eb42(0x5ec)][_0x51eb42(0x4b0)]}),_0x20193a=[],_0x96032=_0x2b7b25[_0x51eb42(0x6bd)]['map'](_0x131908=>Buffer['from'](_0x131908)['toString'](_0x51eb42(0x1f5)));for(let {optionName:_0x8fe161}of _0x4c5c04[_0x51eb42(0x4ef)]?.['options']||_0x4c5c04[_0x51eb42(0x6d7)]?.['options']||_0x4c5c04[_0x51eb42(0x783)]?.[_0x51eb42(0x279)])_0x96032[_0x51eb42(0x670)]((0x0,f['sha256'])(Buffer[_0x51eb42(0x12c)](_0x8fe161))[_0x51eb42(0x4a2)](_0x51eb42(0x1f5)))>-0x1&&_0x20193a[_0x51eb42(0x343)](_0x8fe161);return _0x20193a;}}return null;},this[_0x7d2e2d(0x545)]=(_0x49533d,_0x53e07e,_0x2ffbce)=>{const _0x338e1c=_0x7d2e2d;try{let _0x1e8c7f=_0x49533d?(0x0,f[_0x338e1c(0x74d)])(_0x49533d)[_0x53e07e]:void 0x0,_0x14c249={},_0x304bf3=null,_0x374821=null,_0xb4b6c5=null;_0x53e07e===_0x338e1c(0x56f)&&_0x1e8c7f?.['editedMessage']&&(_0x53e07e=(0x0,f[_0x338e1c(0x6f8)])(_0x1e8c7f[_0x338e1c(0x733)]),_0x304bf3=_0x49533d[_0x338e1c(0x56f)][_0x338e1c(0x5ec)]['id'],_0x1e8c7f=_0x49533d[_0x338e1c(0x56f)]['editedMessage'][_0x53e07e]),_0x49533d[_0x53e07e]?.[_0x338e1c(0x57b)]?.[_0x338e1c(0x600)]&&_0x49533d[_0x53e07e]?.[_0x338e1c(0x57b)]?.['quotedMessage']&&(_0x374821=_0x49533d[_0x53e07e]['contextInfo']['stanzaId']),_0x49533d['reactionMessage']&&(_0xb4b6c5=_0x49533d[_0x338e1c(0x133)][_0x338e1c(0x5ec)]['id']);let _0xe13535;if(_0x1e8c7f&&typeof _0x1e8c7f==_0x338e1c(0x320)&&_0x338e1c(0x228)in _0x1e8c7f&&({pollCreationMessageKey:_0xe13535}=_0x1e8c7f),_0x53e07e===_0x338e1c(0x4ef)||_0x53e07e===_0x338e1c(0x783)||_0x53e07e==='pollCreationMessageV3'){let _0x2c997f=_0x1e8c7f[_0x338e1c(0x279)][_0x338e1c(0x40d)](_0xb0dd74=>_0xb0dd74['optionName'])[_0x338e1c(0x452)]('|');_0x14c249['convertedOptions']=_0x2c997f;}let _0x325b62='';if(_0x1e8c7f&&(_0x325b62+=_0x1e8c7f['name']?_0x1e8c7f[_0x338e1c(0x438)]:'',_0x325b62+=_0x1e8c7f[_0x338e1c(0x106)]?'\x20'+_0x1e8c7f[_0x338e1c(0x106)]:'',_0x325b62+=_0x1e8c7f['conversation']?'\x20'+_0x1e8c7f['conversation']:'',_0x325b62+=_0x1e8c7f['displayName']?'\x20'+_0x1e8c7f[_0x338e1c(0x6fd)]:''),_0x53e07e===_0x338e1c(0x79d)){_0x325b62=(_0x1e8c7f[_0x338e1c(0x200)]||'')+'\x0a'+(_0x1e8c7f[_0x338e1c(0x13a)]||'')+'\x0a'+(_0x1e8c7f['footerText']||'');let _0x388e0a=this['sectionsToString'](_0x1e8c7f[_0x338e1c(0x619)]);_0x14c249['convertedOptions']=_0x388e0a;}if(_0x53e07e===_0x338e1c(0x533)&&(_0x2ffbce=_0x1e8c7f[_0x338e1c(0x200)]),_0x1e8c7f&&_0x1e8c7f[_0x338e1c(0x610)]){let _0x121fd3=this[_0x338e1c(0x5fd)](JSON[_0x338e1c(0xfe)](_0x1e8c7f[_0x338e1c(0x610)],null,0x2));_0x325b62=_0x325b62+'\x0a'+_0x121fd3;}if(_0x1e8c7f){let {sections:_0x557800,listType:_0x52ede3,displayName:_0x5ba277,vcard:_0x30fe5e,contactVcard:_0x3badfe,name:_0x3a3783,caption:_0x287d50,conversation:_0x1b5047,pollCreationMessageKey:_0x4c3b66,footerText:_0x5abc3c,contentText:_0x4d8dd5,pageCount:_0x3d20f9,headerType:_0x102eb5,isAvatar:_0x1d64f4,isAnimated:_0x3c4794,fallbackLc:_0x39f6a1,fallbackLg:_0x5bde07,namespace:_0x307149,elementName:_0x41f7f9,localizableParams:_0x5cb058,viewOnce:_0x373f3f,height:_0xfbc937,width:_0x597e6a,key:_0x48cec3,firstScanLength:_0x38404e,firstScanSidecar:_0x571150,gifPlayback:_0x126c6c,gifAttribution:_0xfa8aa8,midQualityFileSha256:_0x128ab2,scansSidecar:_0x55234a,streamingSidecar:_0x1f6a07,thumbnailHeight:_0x3458fc,thumbnailWidth:_0x281fec,thumbnailEncSha256:_0x3797ca,thumbnailDirectPath:_0x3cdf03,canonicalUrl:_0x5e6211,matchedText:_0xb623b9,previewType:_0x584250,thumbnailSha256:_0x4174e8,deviceListMetadataVersion:_0x18a2ae,inviteLinkGroupTypeV2:_0x2f7597,interactiveAnnotations:_0x4fbe99,scanLengths:_0x227d13,jpegThumbnail:_0x1f3ab3,url:_0x24a754,mediaKeyTimestamp:_0x22bf86,waveform:_0x15f0a5,stickerSentTs:_0x3154a8,firstFrameLength:_0x3f9246,fileEncSha256:_0x22b0e7,contextInfo:_0x439b16,firstFrameSidecar:_0x592e8f,directPath:_0x30c591,fileSha256:_0x1e8d7e,mediaKey:_0x49e781,senderTimestampMs:_0x12f8b1,..._0x4f7031}=_0x1e8c7f;(_0x53e07e===_0x338e1c(0x79d)||_0x53e07e===_0x338e1c(0x533))&&(delete _0x4f7031[_0x338e1c(0x200)],delete _0x4f7031[_0x338e1c(0x13a)]),typeof _0x1e8c7f=='string'?_0x14c249={'text':_0x1e8c7f,'type':_0x53e07e||_0x338e1c(0x3ce),..._0x304bf3&&{'edited':_0x304bf3},..._0x374821&&{'quoted':_0x374821},..._0xb4b6c5&&{'reaction':_0xb4b6c5}}:_0x14c249={'text':_0x325b62,..._0x4f7031,..._0x53e07e===_0x338e1c(0x35b)?{'poll_id':_0x1e8c7f[_0x338e1c(0x228)]['id'],'quoted':_0x1e8c7f[_0x338e1c(0x228)]['id'],'vote':_0x2ffbce}:{},..._0x53e07e==='listResponseMessage'?{'vote':_0x2ffbce}:{},'type':_0x53e07e,..._0x304bf3&&{'edited':_0x304bf3},..._0x374821&&{'quoted':_0x374821},..._0xb4b6c5&&{'reaction':_0xb4b6c5},...(_0x53e07e===_0x338e1c(0x4ef)||_0x53e07e===_0x338e1c(0x783)||_0x53e07e===_0x338e1c(0x6d7)||_0x53e07e===_0x338e1c(0x79d))&&{'convertedOptions':_0x14c249[_0x338e1c(0x58b)]}};}return{'messageType':_0x53e07e,'messageContent':_0x1e8c7f,'message_normalized':_0x14c249};}catch(_0x457538){return console[_0x338e1c(0x60d)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x457538),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x7d2e2d(0x769)](),this[_0x7d2e2d(0x1fb)][_0x7d2e2d(0x511)]={'count':0x0},this[_0x7d2e2d(0x1fb)][_0x7d2e2d(0x485)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x29b3b7(0x770)](_0x23b744){const _0x1ed297=a0_0x29b3b7;if(!_0x23b744){this[_0x1ed297(0x1fb)][_0x1ed297(0x438)]=(0x0,Or['v4'])();return;}this[_0x1ed297(0x1fb)]['name']=_0x23b744,this[_0x1ed297(0x383)](_0x1ed297(0x679),{'instance':this[_0x1ed297(0x1fb)][_0x1ed297(0x438)],'status':'created'});}get['instanceName'](){const _0x4a0b02=a0_0x29b3b7;return this[_0x4a0b02(0x1fb)][_0x4a0b02(0x438)];}get[a0_0x29b3b7(0xe7)](){const _0x46a802=a0_0x29b3b7;return this[_0x46a802(0x1fb)][_0x46a802(0xe7)];}async[a0_0x29b3b7(0x306)](){const _0x322af4=a0_0x29b3b7;let _0x279d25=this[_0x322af4(0x372)][_0x322af4(0x34d)]?.[_0x322af4(0x438)]??this[_0x322af4(0x372)][_0x322af4(0x34d)]?.[_0x322af4(0x3ef)];if(!_0x279d25){if(this[_0x322af4(0x667)]['get'](_0x322af4(0x43d))[_0x322af4(0x238)]){let _0x3e1df4=await T[_0x322af4(0x412)]()['db'](this[_0x322af4(0x667)][_0x322af4(0x1a1)]('DATABASE')[_0x322af4(0x64f)][_0x322af4(0x416)]+_0x322af4(0x47b))[_0x322af4(0x6eb)](this['instanceName'])[_0x322af4(0x3b0)]({'_id':_0x322af4(0x4a1)});if(_0x3e1df4){let _0x51812e=JSON[_0x322af4(0x399)](JSON[_0x322af4(0xfe)](_0x3e1df4),f[_0x322af4(0x571)][_0x322af4(0x26f)]);_0x279d25=_0x51812e['me']?.[_0x322af4(0x438)]||_0x51812e['me']?.[_0x322af4(0x3ef)];}}else{if((0x0,Oe[_0x322af4(0x705)])((0x0,F['join'])(ge,this[_0x322af4(0x770)],_0x322af4(0x575)))){let _0x351a21=JSON['parse']((0x0,Oe[_0x322af4(0x513)])((0x0,F['join'])(ge,this['instanceName'],_0x322af4(0x575)),{'encoding':_0x322af4(0x13d)}));_0x279d25=_0x351a21['me']?.[_0x322af4(0x438)]||_0x351a21['me']?.[_0x322af4(0x3ef)];}}}return _0x279d25;}get[a0_0x29b3b7(0x507)](){const _0x5ca7db=a0_0x29b3b7;return this['instance'][_0x5ca7db(0x507)];}get[a0_0x29b3b7(0x6a9)](){const _0xaac4ed=a0_0x29b3b7;return this['instance'][_0xaac4ed(0x511)]?.[_0xaac4ed(0xef)]?{'pairingCode':this[_0xaac4ed(0x1fb)][_0xaac4ed(0x511)]?.[_0xaac4ed(0xef)]}:{'code':this[_0xaac4ed(0x1fb)][_0xaac4ed(0x511)]?.[_0xaac4ed(0x1de)],'base64':this[_0xaac4ed(0x1fb)][_0xaac4ed(0x511)]?.[_0xaac4ed(0x3a5)]};}async[a0_0x29b3b7(0x1ae)](){const _0x39cc53=a0_0x29b3b7;let _0x4ec0b2=await this['repository']['webhook'][_0x39cc53(0x61d)](this['instanceName']);this[_0x39cc53(0x321)][_0x39cc53(0x496)]=_0x4ec0b2?.[_0x39cc53(0x496)],this[_0x39cc53(0x321)][_0x39cc53(0x1fd)]=_0x4ec0b2?.[_0x39cc53(0x1fd)],this[_0x39cc53(0x321)][_0x39cc53(0x4ee)]=_0x4ec0b2?.['local_map'],this['localWebhook']['STATUS_INSTANCE']=_0x4ec0b2?.[_0x39cc53(0x5b1)],this['localWebhook'][_0x39cc53(0x76c)]=_0x4ec0b2?.[_0x39cc53(0x76c)],this[_0x39cc53(0x321)][_0x39cc53(0x5ea)]=_0x4ec0b2?.[_0x39cc53(0x5ea)],this['localWebhook'][_0x39cc53(0x450)]=_0x4ec0b2?.[_0x39cc53(0x450)],this['localWebhook'][_0x39cc53(0x380)]=_0x4ec0b2?.[_0x39cc53(0x380)],this[_0x39cc53(0x321)][_0x39cc53(0x65a)]=_0x4ec0b2?.[_0x39cc53(0x65a)],this['localWebhook'][_0x39cc53(0x5d9)]=_0x4ec0b2?.['GROUPS_UPDATE'],this['localWebhook'][_0x39cc53(0x2fc)]=_0x4ec0b2?.[_0x39cc53(0x2fc)],this[_0x39cc53(0x321)][_0x39cc53(0x78e)]=_0x4ec0b2?.[_0x39cc53(0x78e)],this['localWebhook']['CHATS_UPSERT']=_0x4ec0b2?.[_0x39cc53(0x6ae)],this[_0x39cc53(0x321)][_0x39cc53(0x25b)]=_0x4ec0b2?.[_0x39cc53(0x25b)],this['localWebhook'][_0x39cc53(0x499)]=_0x4ec0b2?.[_0x39cc53(0x499)],this['localWebhook'][_0x39cc53(0x234)]=_0x4ec0b2?.[_0x39cc53(0x234)],this[_0x39cc53(0x321)][_0x39cc53(0x72e)]=_0x4ec0b2?.[_0x39cc53(0x72e)],this[_0x39cc53(0x321)]['CONTACTS_UPDATE']=_0x4ec0b2?.[_0x39cc53(0x6d3)],this[_0x39cc53(0x321)][_0x39cc53(0x594)]=_0x4ec0b2?.[_0x39cc53(0x594)],this[_0x39cc53(0x321)][_0x39cc53(0x51c)]=_0x4ec0b2?.[_0x39cc53(0x51c)],this[_0x39cc53(0x321)]['CONNECTION_UPDATE']=_0x4ec0b2?.['CONNECTION_UPDATE'],this[_0x39cc53(0x321)][_0x39cc53(0x683)]=_0x4ec0b2?.[_0x39cc53(0x683)];}async[a0_0x29b3b7(0x217)](_0x5bed25){const _0x5361d8=a0_0x29b3b7;let _0x560fc5=['_id',_0x5361d8(0x496),_0x5361d8(0x1fd),_0x5361d8(0x4ee),'STATUS_INSTANCE',_0x5361d8(0x76c),_0x5361d8(0x380),_0x5361d8(0x450),'SEND_MESSAGE','GROUPS_UPSERT',_0x5361d8(0x5d9),_0x5361d8(0x2fc),_0x5361d8(0x78e),'CHATS_UPSERT','CHATS_UPDATE',_0x5361d8(0x499),_0x5361d8(0x234),_0x5361d8(0x72e),_0x5361d8(0x6d3),_0x5361d8(0x594),_0x5361d8(0x51c),_0x5361d8(0x722),_0x5361d8(0x683)],_0x8c703a={};return _0x560fc5['forEach'](_0x4d4aec=>{_0x5bed25[_0x4d4aec]!==void 0x0&&(_0x8c703a[_0x4d4aec]=_0x5bed25[_0x4d4aec]);}),_0x8c703a[_0x5361d8(0x496)]&&(_0x8c703a[_0x5361d8(0x496)]=_0x8c703a[_0x5361d8(0x496)][_0x5361d8(0x699)]()),await this['repository'][_0x5361d8(0x18b)]['create'](_0x8c703a,this['instanceName']),Object['assign'](this[_0x5361d8(0x321)],_0x8c703a),await this[_0x5361d8(0x68f)][_0x5361d8(0x18b)][_0x5361d8(0x61d)](this[_0x5361d8(0x770)]);}async['findWebhook'](){const _0x1bc57f=a0_0x29b3b7;return await this[_0x1bc57f(0x68f)][_0x1bc57f(0x18b)]['find'](this[_0x1bc57f(0x770)]);}async[a0_0x29b3b7(0x383)](_0x49fb78,_0x2388d6){const _0x15203d=a0_0x29b3b7;let _0x2579ed=_0x49fb78[_0x15203d(0x3b1)](/[\.-]/gm,'_')[_0x15203d(0x393)](),_0x2cc2ed=this[_0x15203d(0x321)][_0x15203d(0x1fd)]&&(0x0,P[_0x15203d(0x6b1)])(this['localWebhook'][_0x15203d(0x496)])?this[_0x15203d(0x321)][_0x15203d(0x496)]+(this[_0x15203d(0x321)][_0x15203d(0x4ee)]?this[_0x15203d(0x161)][_0x49fb78]:''):null,_0x2b5464=this[_0x15203d(0x321)][_0x2579ed],_0xb70000=le&&le['enabled']&&(0x0,P[_0x15203d(0x6b1)])(le[_0x15203d(0x496)])?le['url']+(le[_0x15203d(0x4ee)]?this[_0x15203d(0x161)][_0x49fb78]:''):null,_0x1c0ac7=le?le[_0x2579ed]:null;if(_0x2b5464&&_0x2cc2ed)try{await K[_0x15203d(0x282)]['create']({'baseURL':_0x2cc2ed})[_0x15203d(0x58f)]('',{'event':_0x49fb78,'instance':this[_0x15203d(0x1fb)][_0x15203d(0x438)],'apikey':this[_0x15203d(0x1fb)][_0x15203d(0x54e)],'data':_0x2388d6}),this[_0x15203d(0x1be)]['log'](this['instanceName']+'\x20('+this[_0x15203d(0x1fb)][_0x15203d(0xe7)]+_0x15203d(0x2a1)+_0x49fb78+':\x20'+_0x2cc2ed);}catch{this[_0x15203d(0x1be)][_0x15203d(0x60d)](this['instanceName']+'\x20('+this[_0x15203d(0x1fb)][_0x15203d(0xe7)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x49fb78+':\x20'+_0x2cc2ed);}if(_0x1c0ac7&&_0xb70000)try{await K[_0x15203d(0x282)][_0x15203d(0x262)]({'baseURL':_0xb70000})[_0x15203d(0x58f)]('',{'event':_0x49fb78,'instance':this[_0x15203d(0x1fb)][_0x15203d(0x438)],'apikey':this['instance'][_0x15203d(0x54e)],'data':_0x2388d6}),this[_0x15203d(0x1be)][_0x15203d(0x6bf)](this[_0x15203d(0x770)]+'\x20('+this[_0x15203d(0x1fb)]['wuid']+_0x15203d(0x5eb)+_0x49fb78+':\x20'+_0xb70000);}catch{this['logger'][_0x15203d(0x60d)](this['instanceName']+'\x20('+this[_0x15203d(0x1fb)]['wuid']+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x49fb78+':\x20'+_0xb70000);}}async['connectionUpdate']({qr:_0xbd13d3,connection:_0x53fdc6,lastDisconnect:_0x3b06a}){const _0x2219f1=a0_0x29b3b7;if(_0xbd13d3){if(this[_0x2219f1(0x1fb)][_0x2219f1(0x511)][_0x2219f1(0x4a0)]===Oi)return this['sendDataWebhook'](_0x2219f1(0x2dc),{'message':_0x2219f1(0x122),'statusCode':f[_0x2219f1(0x5d0)][_0x2219f1(0x6a1)]}),this['stateConnection']={'state':_0x2219f1(0x5d4),'statusReason':f[_0x2219f1(0x5d0)][_0x2219f1(0x290)]},this[_0x2219f1(0x383)](_0x2219f1(0x4e0),{'instance':this[_0x2219f1(0x1fb)][_0x2219f1(0x438)],...this[_0x2219f1(0x710)]}),this[_0x2219f1(0x383)](_0x2219f1(0x679),{'instance':this[_0x2219f1(0x1fb)][_0x2219f1(0x438)],'status':_0x2219f1(0x1c5)}),this[_0x2219f1(0x68f)][_0x2219f1(0x7c9)][_0x2219f1(0x262)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x2219f1(0x5aa)]()},this['instance'][_0x2219f1(0x438)]),this[_0x2219f1(0x67b)]=!0x0,this[_0x2219f1(0x3bb)]['emit'](_0x2219f1(0x60b),this[_0x2219f1(0x1fb)][_0x2219f1(0x438)]);this['instance'][_0x2219f1(0x511)]['count']++;let _0x2cf9be={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x2219f1(0x2e3),'dark':_0x2219f1(0x33c)}};Ar[_0x2219f1(0x282)][_0x2219f1(0x4b6)](_0xbd13d3,_0x2cf9be,(_0x11d3b6,_0x471e47)=>{const _0x56d2b1=_0x2219f1;if(_0x11d3b6){this[_0x56d2b1(0x1be)]['error'](this[_0x56d2b1(0x770)]+'\x20('+this[_0x56d2b1(0x1fb)][_0x56d2b1(0xe7)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x11d3b6 instanceof Error?_0x11d3b6[_0x56d2b1(0x780)]:JSON[_0x56d2b1(0xfe)](_0x11d3b6,null,0x2)));return;}this[_0x56d2b1(0x1fb)][_0x56d2b1(0x511)][_0x56d2b1(0x3a5)]=_0x471e47,this[_0x56d2b1(0x1fb)][_0x56d2b1(0x511)][_0x56d2b1(0x1de)]=_0xbd13d3,!this['phoneNumber']&&this['sendDataWebhook'](_0x56d2b1(0x2dc),{'qrcode':{'instance':this[_0x56d2b1(0x1fb)][_0x56d2b1(0x438)],'pairingCode':this[_0x56d2b1(0x1fb)]['qrcode'][_0x56d2b1(0xef)],'code':_0xbd13d3,'base64':_0x471e47}});}),this['phoneNumber']?this['instance']['qrcode']['pairingCode']||(await(0x0,f[_0x2219f1(0x384)])(0x7d0),this[_0x2219f1(0x1fb)]['qrcode'][_0x2219f1(0xef)]=await this[_0x2219f1(0x372)][_0x2219f1(0x352)](this[_0x2219f1(0x79f)])):this[_0x2219f1(0x1fb)][_0x2219f1(0x511)][_0x2219f1(0xef)]=null,$r[_0x2219f1(0x282)][_0x2219f1(0x76d)](_0xbd13d3,{'small':!0x0},_0x2b1659=>this[_0x2219f1(0x1be)][_0x2219f1(0x6bf)](_0x2219f1(0x20f)+this['instance'][_0x2219f1(0x438)]+_0x2219f1(0x71b)+this[_0x2219f1(0x1fb)]['qrcode'][_0x2219f1(0x4a0)]+_0x2219f1(0x407)+this['instance']['qrcode']['pairingCode']+_0x2219f1(0x31c)+_0x2b1659));}if(_0x53fdc6&&(this['stateConnection']={'state':_0x53fdc6,'statusReason':_0x3b06a?.[_0x2219f1(0x60d)]?.[_0x2219f1(0x1f9)]?.['statusCode']??0xc8},this['sendDataWebhook'](_0x2219f1(0x4e0),{'instance':this[_0x2219f1(0x1fb)][_0x2219f1(0x438)],...this[_0x2219f1(0x710)]})),_0x53fdc6===_0x2219f1(0x10a)){if(this['reconnectAttempts']++,this[_0x2219f1(0x2ce)][_0x2219f1(0x343)](Date['now']()),this[_0x2219f1(0x2ce)]=this[_0x2219f1(0x2ce)][_0x2219f1(0x19c)](_0x59e5a0=>Date[_0x2219f1(0x5aa)]()-_0x59e5a0<this[_0x2219f1(0x1cb)]),_0x3b06a[_0x2219f1(0x60d)]?.[_0x2219f1(0x1f9)]?.[_0x2219f1(0x48b)]!==f[_0x2219f1(0x5d0)][_0x2219f1(0x4d7)]&&this[_0x2219f1(0x2ce)][_0x2219f1(0x761)]<=this['MAX_RECONNECT_ATTEMPTS'])console['log'](this[_0x2219f1(0x770)]+_0x2219f1(0x301)+this['reconnectAttempts']+'/'+this[_0x2219f1(0x156)]+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console['log'](_0x2219f1(0xe6)),await this[_0x2219f1(0x6df)]();else{this['sendDataWebhook'](_0x2219f1(0x679),{'instance':this[_0x2219f1(0x1fb)]['name'],'status':_0x2219f1(0x1c5)}),this['instance'][_0x2219f1(0x485)][_0x2219f1(0x24f)]=!0x1,this[_0x2219f1(0x68f)]['webhook']['delete'](this[_0x2219f1(0x770)]),this['repository'][_0x2219f1(0x7c9)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x2219f1(0x5aa)]()},this['instance'][_0x2219f1(0x438)]);try{this['logger']['verbose'](this[_0x2219f1(0x770)]+'\x20('+this[_0x2219f1(0x1fb)][_0x2219f1(0xe7)]+_0x2219f1(0x4d2));let _0x3a6df7=await this[_0x2219f1(0x68f)]['message'][_0x2219f1(0x1bf)](this[_0x2219f1(0x1fb)][_0x2219f1(0xe7)]);_0x3a6df7[_0x2219f1(0x67f)]?this['logger'][_0x2219f1(0x7a1)](this['instanceName']+'\x20('+this[_0x2219f1(0x1fb)][_0x2219f1(0xe7)]+_0x2219f1(0x2ef)):console[_0x2219f1(0x60d)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x3a6df7[_0x2219f1(0x60d)]);}catch(_0x378606){console['error'](_0x2219f1(0x69d),_0x378606[_0x2219f1(0x780)]);}this[_0x2219f1(0x1fb)]['ScheduleMessage']['delayMessage']!==null&&(this[_0x2219f1(0x1be)][_0x2219f1(0x7a1)](this[_0x2219f1(0x770)]+'\x20('+this['instance']['wuid']+_0x2219f1(0x643)),clearInterval(this[_0x2219f1(0x1fb)][_0x2219f1(0x485)][_0x2219f1(0x423)]),this[_0x2219f1(0x1fb)][_0x2219f1(0x485)][_0x2219f1(0x423)]=null),this['logger']['verbose'](this[_0x2219f1(0x770)]+'\x20('+this[_0x2219f1(0x1fb)][_0x2219f1(0xe7)]+'):\x20Limpando\x20AutomateSystem'),this[_0x2219f1(0x460)]=null,this[_0x2219f1(0x3bb)][_0x2219f1(0x24d)](_0x2219f1(0x15b),this['instance'][_0x2219f1(0x438)],_0x2219f1(0x6f0)),this[_0x2219f1(0x372)]?.['ws']?.[_0x2219f1(0x10a)](),this[_0x2219f1(0x372)]['end'](new Error(_0x2219f1(0x7b1)));}}if(_0x53fdc6===_0x2219f1(0x444)){this[_0x2219f1(0x372)]['ev'][_0x2219f1(0x4c5)](),this[_0x2219f1(0x51d)],this[_0x2219f1(0x1fb)][_0x2219f1(0xe7)]=this['client'][_0x2219f1(0x34d)]['id']['replace'](/:\d+/,'')['replace'](_0x2219f1(0x3be),''),this[_0x2219f1(0x1fb)]['profilePictureUrl']=(await this[_0x2219f1(0x4c7)](this['instance'][_0x2219f1(0xe7)]+_0x2219f1(0x3be)))[_0x2219f1(0x507)],this[_0x2219f1(0x68f)]['auth']['create']({'online':!0x0,'owner':this[_0x2219f1(0x1fb)][_0x2219f1(0xe7)],'lastDisconnect':null},this[_0x2219f1(0x1fb)][_0x2219f1(0x438)]);let _0x2054b0='Número:\x20'+this[_0x2219f1(0x1fb)][_0x2219f1(0xe7)],_0xd466a=0x28,_0x1aa22c=Math[_0x2219f1(0x1a8)]((_0xd466a-_0x2054b0[_0x2219f1(0x761)])/0x2),_0x493b73='\x20'[_0x2219f1(0x19e)](_0x1aa22c),_0xf787f4='CONECTADO\x20À\x20UAZAPI',_0x4d7f17=_0x2219f1(0x28a)+this[_0x2219f1(0x1fb)]['name'],_0xde6ab1=(''+_0x493b73+_0x2054b0+_0x493b73)['padEnd'](_0xd466a,'\x20'),_0x22cbbe=(''+_0x493b73+_0xf787f4+_0x493b73)[_0x2219f1(0x75f)](_0xd466a,'\x20'),_0x1b19c8=(''+_0x493b73+_0x4d7f17+_0x493b73)[_0x2219f1(0x75f)](_0xd466a,'\x20'),_0xbdca42=Math[_0x2219f1(0x102)](_0xde6ab1[_0x2219f1(0x761)],_0x22cbbe[_0x2219f1(0x761)],_0x1b19c8[_0x2219f1(0x761)]),_0x4d0831=_0xde6ab1[_0x2219f1(0x75f)](_0xbdca42,'\x20'),_0x4f2684=_0x22cbbe[_0x2219f1(0x75f)](_0xbdca42,'\x20'),_0x39e243=_0x1b19c8[_0x2219f1(0x75f)](_0xbdca42,'\x20');this[_0x2219f1(0x1be)]['info']((_0x2219f1(0x429)+'─'['repeat'](_0xbdca42)+_0x2219f1(0x509)+_0x4f2684+_0x2219f1(0x3e6)+_0x39e243+_0x2219f1(0x3e6)+_0x4d0831+_0x2219f1(0x62b)+'─'[_0x2219f1(0x19e)](_0xbdca42)+'┘')[_0x2219f1(0x3b1)](/^ +/gm,'\x20\x20')),this[_0x2219f1(0x684)](),this['instance']['ScheduleMessage'][_0x2219f1(0x24f)]=!0x0;}}[a0_0x29b3b7(0x51d)](){const _0xafab61=a0_0x29b3b7;this['reconnectAttempts']=0x0,this[_0xafab61(0x2ce)]=[];}async[a0_0x29b3b7(0x107)](_0x2f27dd,_0x471b02=!0x1){const _0x13ba4e=a0_0x29b3b7;try{let _0x3b59a0=await this['repository'][_0x13ba4e(0x780)]['find']({'where':{'_id':_0x2f27dd['id']}},this[_0x13ba4e(0x1fb)][_0x13ba4e(0xe7)]);return _0x471b02?_0x3b59a0[0x0]:_0x3b59a0[0x0][_0x13ba4e(0x780)];}catch{return{'conversation':''};}}[a0_0x29b3b7(0x769)](){const _0x51ccdd=a0_0x29b3b7;let _0x53dca2=this['configService'][_0x51ccdd(0x1a1)]('STORE'),_0x54bc64=this[_0x51ccdd(0x667)][_0x51ccdd(0x1a1)](_0x51ccdd(0x43d));_0x53dca2?.[_0x51ccdd(0x54f)]&&!_0x54bc64[_0x51ccdd(0x238)]&&setInterval(()=>{const _0x5e8477=_0x51ccdd;try{for(let [_0x136f2f,_0xd7fca7]of Object['entries'](_0x53dca2))_0xd7fca7===!0x0&&(0x0,Ae[_0x5e8477(0x149)])(_0x5e8477(0x6f7)+(0x0,F[_0x5e8477(0x452)])(this['storePath'],_0x136f2f[_0x5e8477(0x4d0)](),this['instance'][_0x5e8477(0xe7)])+_0x5e8477(0x40b));}catch{}},(_0x53dca2?.[_0x51ccdd(0x54f)]??0xe10)*0x3e8);}async[a0_0x29b3b7(0x7bd)](){const _0xfb3a1e=a0_0x29b3b7;let _0x586205=this[_0xfb3a1e(0x667)]['get'](_0xfb3a1e(0x43d)),_0x4aac9c=this[_0xfb3a1e(0x667)][_0xfb3a1e(0x1a1)](_0xfb3a1e(0x5cc));return _0x4aac9c?.[_0xfb3a1e(0x238)]?await Ts(_0x4aac9c,this[_0xfb3a1e(0x1fb)][_0xfb3a1e(0x438)]):_0x586205[_0xfb3a1e(0x238)]?await Rs(this[_0xfb3a1e(0x1fb)]['name']):await(0x0,f['useMultiFileAuthState'])((0x0,F[_0xfb3a1e(0x452)])(ge,this[_0xfb3a1e(0x1fb)][_0xfb3a1e(0x438)]));}async[a0_0x29b3b7(0x684)](){const _0xd93087=a0_0x29b3b7;let _0x418713=()=>Math[_0xd93087(0x1a8)](Math[_0xd93087(0x2b8)]()*0x2711)+0x7d0,_0x5520eb=async()=>{const _0x2b1a6a=_0xd93087;if(!this[_0x2b1a6a(0x1fb)][_0x2b1a6a(0x485)]['isConnected']){this[_0x2b1a6a(0x1be)][_0x2b1a6a(0x7a1)](_0x2b1a6a(0x50b)),this[_0x2b1a6a(0x391)]=!0x1;return;}if(this[_0x2b1a6a(0x1fb)][_0x2b1a6a(0xe7)]&&this[_0x2b1a6a(0x460)]&&this['instance'][_0x2b1a6a(0x485)][_0x2b1a6a(0x423)]!==null&&this[_0x2b1a6a(0x1fb)][_0x2b1a6a(0x485)]['delayMessage']!==void 0x0){let _0x43ed42=Math[_0x2b1a6a(0x35d)](this[_0x2b1a6a(0x1fb)][_0x2b1a6a(0x485)][_0x2b1a6a(0x423)]/0xea60);this['logger']['verbose'](this[_0x2b1a6a(0x770)]+'\x20('+this[_0x2b1a6a(0x1fb)]['wuid']+_0x2b1a6a(0x1d3)+_0x43ed42+_0x2b1a6a(0x1b4)),this[_0x2b1a6a(0x391)]=!0x1;return;}else this[_0x2b1a6a(0x1fb)][_0x2b1a6a(0xe7)]&&(this[_0x2b1a6a(0x1be)][_0x2b1a6a(0x7a1)](this[_0x2b1a6a(0x770)]+'\x20('+this[_0x2b1a6a(0x1fb)][_0x2b1a6a(0xe7)]+_0x2b1a6a(0x5bc)),this['AutomateSystem']||(await this[_0x2b1a6a(0x315)](),this[_0x2b1a6a(0x734)]()),(this[_0x2b1a6a(0x1fb)][_0x2b1a6a(0x485)]['delayMessage']===null||this[_0x2b1a6a(0x1fb)]['ScheduleMessage'][_0x2b1a6a(0x423)]===void 0x0)&&await this['scheduleNextCheck']());if(this['isRunning']){let _0x43d6a9=_0x418713();this[_0x2b1a6a(0x1be)][_0x2b1a6a(0x7a1)](this['instanceName']+_0x2b1a6a(0x3af)+_0x43d6a9/0x3e8+_0x2b1a6a(0x209)),setTimeout(_0x5520eb,_0x43d6a9);}};if(this[_0xd93087(0x391)])return;this[_0xd93087(0x391)]=!0x0;let _0xef9d9f=_0x418713();setTimeout(_0x5520eb,_0xef9d9f);}async[a0_0x29b3b7(0x591)](_0x184e90=0x0,_0x9142e9=!0x1){const _0x457d57=a0_0x29b3b7;try{let _0x1b8487=this[_0x457d57(0x667)][_0x457d57(0x1a1)](_0x457d57(0x7ba));if(_0x1b8487!==0x1||typeof _0x1b8487>'u'||_0x184e90>=0x5)return this['logger'][_0x457d57(0x47a)](_0x457d57(0xf3)),this[_0x457d57(0x68f)][_0x457d57(0x7c9)][_0x457d57(0x262)]({'ip':null},this[_0x457d57(0x1fb)][_0x457d57(0x438)]),{};this[_0x457d57(0x1be)][_0x457d57(0x7a1)](this[_0x457d57(0x770)]+':\x20Tentativa\x20'+(_0x184e90+0x1)+_0x457d57(0x69b));let _0x5b56be;if(!_0x9142e9){let _0x3b2791=await this[_0x457d57(0x68f)][_0x457d57(0x7c9)]['find'](this['instanceName']);_0x3b2791&&_0x3b2791['ip']&&(_0x5b56be=vr(_0x3b2791['ip']));}if((!_0x5b56be||!Os(_0x5b56be))&&(this['logger'][_0x457d57(0x47a)](this['instanceName']+_0x457d57(0x659)),_0x5b56be=Nr()),_0x5b56be&&Os(_0x5b56be)){let _0x514f75=_0x5b56be[_0x457d57(0x3f2)]&&_0x5b56be[_0x457d57(0x276)]?_0x5b56be[_0x457d57(0x2ed)]+_0x457d57(0x36c)+_0x5b56be[_0x457d57(0x3f2)]+':'+_0x5b56be[_0x457d57(0x276)]+'@'+_0x5b56be[_0x457d57(0x782)]+':'+_0x5b56be[_0x457d57(0x7ce)]:_0x5b56be['protocol']+_0x457d57(0x36c)+_0x5b56be[_0x457d57(0x782)]+':'+_0x5b56be[_0x457d57(0x7ce)];return await this[_0x457d57(0x105)](_0x514f75,_0x5b56be[_0x457d57(0x782)])?(this[_0x457d57(0x1be)][_0x457d57(0x7a1)](this[_0x457d57(0x770)]+_0x457d57(0x2d7)),this['repository'][_0x457d57(0x7c9)][_0x457d57(0x262)]({'ip':_0x5b56be[_0x457d57(0x782)]},this[_0x457d57(0x1fb)][_0x457d57(0x438)]),{'agent':new Ft['HttpsProxyAgent'](_0x514f75),'fetchAgent':new Ft['HttpsProxyAgent'](_0x514f75)}):(this[_0x457d57(0x1be)][_0x457d57(0x47a)](this['instanceName']+':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...'),await(0x0,f['delay'])(0xc8),this[_0x457d57(0x591)](_0x184e90+0x1,!0x0));}else return this['logger']['warn'](this[_0x457d57(0x770)]+':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...'),await(0x0,f[_0x457d57(0x384)])(0xc8),this[_0x457d57(0x591)](_0x184e90+0x1,!0x0);}catch(_0x3fec95){return this[_0x457d57(0x1be)]['error'](this[_0x457d57(0x770)]+':\x20Erro\x20durante\x20loadproxy\x20-\x20'+_0x3fec95[_0x457d57(0x780)]),{};}}async[a0_0x29b3b7(0x105)](_0x8d8b31,_0xf73202){const _0x50e8f7=a0_0x29b3b7;let _0x239edb=new Ft[(_0x50e8f7(0x772))](_0x8d8b31),_0x44e089=0x1388,_0xb49411=[{'url':'https://jsonip.com','parse':_0x3237f6=>_0x3237f6['ip']},{'url':_0x50e8f7(0x54c),'parse':_0x316ece=>_0x316ece['ip']},{'url':_0x50e8f7(0x628),'parse':_0x35124a=>_0x35124a['match'](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x50e8f7(0x6dd),'parse':_0x55670c=>_0x55670c['ip']},{'url':_0x50e8f7(0x6ba),'parse':_0x450cbe=>_0x450cbe[_0x50e8f7(0x699)]()},{'url':_0x50e8f7(0x2c6),'parse':_0x387933=>_0x387933['trim']()},{'url':_0x50e8f7(0x48f),'parse':_0x21fa29=>_0x21fa29['query']},{'url':_0x50e8f7(0x675),'parse':_0x16961d=>_0x16961d[_0x50e8f7(0x699)]()},{'url':'http://icanhazip.com/','parse':_0x5b8bc1=>_0x5b8bc1[_0x50e8f7(0x699)]()}],_0x214a18=_0xb49411[Math[_0x50e8f7(0x1a8)](Math[_0x50e8f7(0x2b8)]()*_0xb49411['length'])];try{let _0x3f0fd8=await K['default'][_0x50e8f7(0x1a1)](_0x214a18[_0x50e8f7(0x496)],{'httpsAgent':_0x239edb,'timeout':_0x44e089}),_0x4a8a17=_0x214a18['parse'](_0x3f0fd8[_0x50e8f7(0x2eb)]);return _0x4a8a17===_0xf73202?(this[_0x50e8f7(0x1be)][_0x50e8f7(0x7a1)](this[_0x50e8f7(0x770)]+':\x20IP\x20configurado:\x20'+_0xf73202+_0x50e8f7(0x142)+_0x4a8a17+'\x20->\x20CONFIRMADO.'),!0x0):(this[_0x50e8f7(0x1be)][_0x50e8f7(0x60d)](this[_0x50e8f7(0x770)]+_0x50e8f7(0x602)+_0xf73202+'\x20-\x20retornado:\x20'+_0x4a8a17+_0x50e8f7(0x6da)),!0x1);}catch(_0x25f5f7){return this['logger']['error'](this[_0x50e8f7(0x770)]+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x214a18[_0x50e8f7(0x496)]+':\x20'+_0x25f5f7['message']),!0x1;}}async[a0_0x29b3b7(0x6df)](_0x2ad0b3){const _0x5b2cd6=a0_0x29b3b7;try{let _0x1fd939=await this['loadproxy']();this['loadWebhook'](),this['instance'][_0x5b2cd6(0x54e)]=(await this[_0x5b2cd6(0x68f)][_0x5b2cd6(0x7c9)][_0x5b2cd6(0x61d)](this[_0x5b2cd6(0x1fb)]['name']))[_0x5b2cd6(0x54e)],this[_0x5b2cd6(0x1fb)]['authState']=await this[_0x5b2cd6(0x7bd)]();let {version:_0x5ad06d}=await(0x0,f[_0x5b2cd6(0x534)])(),_0xe1bfba=[Ir,Ds,(0x0,$s[_0x5b2cd6(0x6bb)])()],_0x13e4d8={..._0x1fd939,'auth':{'creds':this[_0x5b2cd6(0x1fb)][_0x5b2cd6(0x747)][_0x5b2cd6(0x296)][_0x5b2cd6(0x4a1)],'keys':(0x0,f[_0x5b2cd6(0x539)])(this[_0x5b2cd6(0x1fb)][_0x5b2cd6(0x747)][_0x5b2cd6(0x296)][_0x5b2cd6(0x37a)],(0x0,Pt[_0x5b2cd6(0x282)])({'level':'error'}))},'logger':(0x0,Pt[_0x5b2cd6(0x282)])({'level':_0x5b2cd6(0x60d)}),'printQRInTerminal':!0x1,'browser':_0x2ad0b3?[_0x5b2cd6(0x577),Ds,(0x0,$s[_0x5b2cd6(0x6bb)])()]:_0xe1bfba,'version':_0x5ad06d,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0xf51b6e=>{const _0x165c8e=_0x5b2cd6;let _0x136582=_0xf51b6e[_0x165c8e(0x325)](_0x165c8e(0x151)),_0x57281f=this[_0x165c8e(0x321)]?.['groups_ignore']&&_0xf51b6e[_0x165c8e(0x325)](_0x165c8e(0x170));return _0x136582||(0x0,f[_0x165c8e(0x1ca)])(_0xf51b6e)||_0x57281f;},'msgRetryCounterCache':this[_0x5b2cd6(0x72d)],'getMessage':async _0x379ca5=>await this[_0x5b2cd6(0x107)](_0x379ca5),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x5b2cd6(0x297)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x4b06cd=>(_0x4b06cd['listMessage']?.[_0x5b2cd6(0x1dc)]==f['proto'][_0x5b2cd6(0x44b)][_0x5b2cd6(0x28e)][_0x5b2cd6(0x709)][_0x5b2cd6(0x77f)]&&(_0x4b06cd=JSON[_0x5b2cd6(0x399)](JSON[_0x5b2cd6(0xfe)](_0x4b06cd)),_0x4b06cd[_0x5b2cd6(0x79d)][_0x5b2cd6(0x1dc)]=f[_0x5b2cd6(0x2ba)][_0x5b2cd6(0x44b)][_0x5b2cd6(0x28e)]['ListType'][_0x5b2cd6(0x2e4)]),_0x4b06cd)};return this[_0x5b2cd6(0x67b)]=!0x1,this[_0x5b2cd6(0x372)]=(0x0,f[_0x5b2cd6(0x282)])(_0x13e4d8),this[_0x5b2cd6(0x1ad)](),this['phoneNumber']=_0x2ad0b3,this[_0x5b2cd6(0x372)];}catch(_0x524aff){let _0x209b17=_0x5b2cd6(0x587),_0x219b13=_0x524aff instanceof Error?_0x524aff[_0x5b2cd6(0x780)]:typeof _0x524aff==_0x5b2cd6(0x320)?JSON[_0x5b2cd6(0xfe)](_0x524aff):_0x524aff,_0x42ca68=_0x209b17+':\x20'+_0x219b13;throw this['logger'][_0x5b2cd6(0x60d)](this['instanceName']+'\x20('+this[_0x5b2cd6(0x1fb)][_0x5b2cd6(0xe7)]+_0x5b2cd6(0x1e5)+_0x42ca68),new I(_0x42ca68);}}[a0_0x29b3b7(0x1ad)](){const _0x5ab1ad=a0_0x29b3b7;this[_0x5ab1ad(0x372)]['ev'][_0x5ab1ad(0x1ee)](_0x5e8b64=>{const _0x3d6b71=_0x5ab1ad;if(!this[_0x3d6b71(0x67b)]){let _0x4bb4ce=this[_0x3d6b71(0x667)][_0x3d6b71(0x1a1)](_0x3d6b71(0x43d));if(_0x5e8b64['labels.edit']){let _0xabfd1d=_0x5e8b64[_0x3d6b71(0x1c6)];this[_0x3d6b71(0x36f)]['labels.edit'](_0xabfd1d);}if(_0x5e8b64[_0x3d6b71(0x1f0)]){let _0x10304f=_0x5e8b64['labels.association'];this[_0x3d6b71(0x36f)][_0x3d6b71(0x1f0)](_0x10304f);}if(_0x5e8b64[_0x3d6b71(0x4e0)]&&this[_0x3d6b71(0x65f)](_0x5e8b64[_0x3d6b71(0x4e0)]),_0x5e8b64[_0x3d6b71(0x6d5)]&&this[_0x3d6b71(0x1fb)][_0x3d6b71(0x747)][_0x3d6b71(0x4cf)](),_0x5e8b64[_0x3d6b71(0x150)]){let _0x1a6798=_0x5e8b64[_0x3d6b71(0x150)];this[_0x3d6b71(0x36f)][_0x3d6b71(0x150)](_0x1a6798,_0x4bb4ce);}if(_0x5e8b64['messages.upsert']){let _0x923b60=_0x5e8b64[_0x3d6b71(0x329)];this[_0x3d6b71(0x36f)][_0x3d6b71(0x329)](_0x923b60,_0x4bb4ce);}if(_0x5e8b64[_0x3d6b71(0x6a4)]){let _0x3870aa=_0x5e8b64['messages.update'];_0x3870aa[_0x3d6b71(0x693)](_0x41fb83=>{const _0x2722aa=_0x3d6b71;if(Tr[_0x41fb83['key']['id']]){this[_0x2722aa(0x372)]['ev']['emit'](_0x2722aa(0x329),{'messages':[_0x41fb83],'type':_0x2722aa(0x1ab)}),delete Tr[_0x41fb83[_0x2722aa(0x5ec)]['id']];return;}}),this[_0x3d6b71(0x36f)][_0x3d6b71(0x6a4)](_0x3870aa,_0x4bb4ce);}if(_0x5e8b64[_0x3d6b71(0x33e)]){let _0x45be15=_0x5e8b64[_0x3d6b71(0x33e)];if(this[_0x3d6b71(0x321)]?.[_0x3d6b71(0x683)]&&_0x45be15['id'][_0x3d6b71(0x58d)](_0x3d6b71(0x170)))return;this[_0x3d6b71(0x383)](_0x3d6b71(0x33e),_0x45be15);}if(_0x5e8b64[_0x3d6b71(0x116)]){let _0x946b33=_0x5e8b64[_0x3d6b71(0x116)];this[_0x3d6b71(0xfc)][_0x3d6b71(0x116)](_0x946b33);}if(_0x5e8b64[_0x3d6b71(0x7a0)]){let _0x262cd9=_0x5e8b64[_0x3d6b71(0x7a0)];this[_0x3d6b71(0xfc)][_0x3d6b71(0x7a0)](_0x262cd9);}if(_0x5e8b64['group-participants.update']){let _0x3f1a77=_0x5e8b64['group-participants.update'];this['groupHandler']['group-participants.update'](_0x3f1a77);}if(_0x5e8b64['chats.upsert']){let _0x2534dd=_0x5e8b64[_0x3d6b71(0x718)];this[_0x3d6b71(0x55c)][_0x3d6b71(0x718)](_0x2534dd,_0x4bb4ce);}if(_0x5e8b64[_0x3d6b71(0x16a)]){let _0x358393=_0x5e8b64[_0x3d6b71(0x16a)];this['chatHandle']['chats.update'](_0x358393,_0x4bb4ce);}if(_0x5e8b64['chats.delete']){let _0x28ec02=_0x5e8b64[_0x3d6b71(0x11f)];this['chatHandle'][_0x3d6b71(0x11f)](_0x28ec02);}if(_0x5e8b64[_0x3d6b71(0x751)]){let _0x1f4a06=_0x5e8b64['contacts.upsert'];this[_0x3d6b71(0x512)]['contacts.upsert'](_0x1f4a06,_0x4bb4ce);}if(_0x5e8b64[_0x3d6b71(0x2ec)]){let _0x4e62a9=_0x5e8b64[_0x3d6b71(0x2ec)];this[_0x3d6b71(0x512)]['contacts.update'](_0x4e62a9,_0x4bb4ce);}}});}['delayChatLabel'](_0x4fbcaf){return new Promise(_0x4b287e=>setTimeout(_0x4b287e,_0x4fbcaf));}[a0_0x29b3b7(0x2bb)](_0x23fa19){const _0x1da4a5=a0_0x29b3b7;_0x23fa19=_0x23fa19[_0x1da4a5(0x3b1)](/\D/g,'');let _0x98c38f=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x23fa19);if(_0x98c38f&&_0x98c38f[0x1]==='55'){let _0x34278e=_0x98c38f[0x2],_0x4c4e29=_0x98c38f[0x3],_0x998e2b=_0x98c38f[0x4];if(parseInt(_0x34278e)>=0x1f&&_0x4c4e29==='9')return _0x98c38f[0x1]+_0x34278e+_0x998e2b;}return _0x23fa19;}[a0_0x29b3b7(0x365)](_0x473aab){const _0x565b2e=a0_0x29b3b7;return _0x473aab[_0x565b2e(0x58d)](_0x565b2e(0x170))||_0x473aab[_0x565b2e(0x58d)](_0x565b2e(0x3be))||_0x473aab[_0x565b2e(0x58d)](_0x565b2e(0x2c2))?_0x473aab:(_0x473aab=_0x473aab?.[_0x565b2e(0x3b1)](/\s/g,'')['replace'](/\+/g,'')[_0x565b2e(0x3b1)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0]['split']('@')[0x0],_0x473aab[_0x565b2e(0x761)]>=0x12?(_0x473aab=_0x473aab['replace'](/[^\d-]/g,''),_0x473aab+_0x565b2e(0x170)):(_0x473aab=_0x473aab[_0x565b2e(0x3b1)](/\D/g,''),_0x473aab+'@s.whatsapp.net'));}async[a0_0x29b3b7(0x265)](_0x2d8f11){const _0x3b1cdd=a0_0x29b3b7;let _0x157145=(await this['whatsappNumber']({'numbers':[_0x2d8f11[_0x3b1cdd(0x487)]]}))[0x0];if(!_0x157145['exists']&&!(0x0,f[_0x3b1cdd(0x256)])(_0x157145[_0x3b1cdd(0x31d)])&&!_0x157145['jid'][_0x3b1cdd(0x58d)](_0x3b1cdd(0x2c2)))throw new m(_0x157145);let _0x168072=_0x157145[_0x3b1cdd(0x31d)];try{return await this['client'][_0x3b1cdd(0x1b5)](_0x168072),await this[_0x3b1cdd(0x372)]['sendPresenceUpdate'](_0x2d8f11[_0x3b1cdd(0x386)],_0x168072),{'status':0xc8,'presence':_0x2d8f11[_0x3b1cdd(0x386)]};}catch(_0x46f7d0){let _0x157946=_0x3b1cdd(0x50e),_0x467869=_0x46f7d0 instanceof Error?_0x46f7d0[_0x3b1cdd(0x780)]:typeof _0x46f7d0==_0x3b1cdd(0x320)?JSON[_0x3b1cdd(0xfe)](_0x46f7d0):_0x46f7d0,_0x3bef49=_0x157946+':\x20'+_0x467869;throw this[_0x3b1cdd(0x1be)]['error'](this[_0x3b1cdd(0x770)]+'\x20('+this[_0x3b1cdd(0x1fb)][_0x3b1cdd(0xe7)]+_0x3b1cdd(0x1e5)+_0x3bef49),new m(_0x3bef49);}}async[a0_0x29b3b7(0x1e6)](_0x20deb1,_0x1befc2,_0x29181a,_0x28f33a=!0x0){const _0x56c473=a0_0x29b3b7;let _0x3b7107=await this[_0x56c473(0x68f)][_0x56c473(0x313)]['findOne']({'where':{'_id':_0x20deb1}});if(!_0x3b7107&&!_0x28f33a)return;let _0x525a11={'lastUpdate':Date[_0x56c473(0x5aa)]()};if(_0x29181a||!_0x3b7107?.['lastUpdate']||Date['now']()-_0x3b7107[_0x56c473(0x4ce)]>0x18*0x3c*0x3c*0x3e8)try{let _0xc2d5b0=(await this[_0x56c473(0x4c7)](_0x20deb1))[_0x56c473(0x507)];_0x525a11[_0x56c473(0x52f)]=_0xc2d5b0;}catch(_0x1191c9){let _0x524771=_0x56c473(0x6b9),_0xc405a5=_0x1191c9 instanceof Error?_0x1191c9[_0x56c473(0x780)]:typeof _0x1191c9==_0x56c473(0x320)?JSON[_0x56c473(0xfe)](_0x1191c9):_0x1191c9,_0x4269d5=_0x524771+':\x20'+_0xc405a5;throw this['logger'][_0x56c473(0x60d)](this[_0x56c473(0x770)]+'\x20('+this[_0x56c473(0x1fb)]['wuid']+_0x56c473(0x1e5)+_0x4269d5),new m(_0x4269d5);}return _0x1befc2&&_0x3b7107?.['name']!==_0x1befc2&&(_0x525a11[_0x56c473(0x438)]=_0x1befc2),Object['keys'](_0x525a11)[_0x56c473(0x761)]>0x1&&(_0x3b7107?await this[_0x56c473(0x68f)][_0x56c473(0x313)][_0x56c473(0x5ca)]({'where':{'_id':_0x20deb1}},_0x525a11):await this[_0x56c473(0x68f)][_0x56c473(0x313)][_0x56c473(0x34e)]([{'_id':_0x20deb1,..._0x525a11}]),_0x3b7107={..._0x3b7107,..._0x525a11}),{'cachedContact':_0x3b7107};}async[a0_0x29b3b7(0x4c7)](_0x5fe9a6){const _0x39d2c7=a0_0x29b3b7;let _0x388f5f=this[_0x39d2c7(0x365)](_0x5fe9a6);try{return{'wuid':_0x388f5f,'profilePictureUrl':await this[_0x39d2c7(0x372)][_0x39d2c7(0x507)](_0x388f5f,_0x39d2c7(0x2b9))};}catch{return{'wuid':_0x388f5f,'profilePictureUrl':null};}}async[a0_0x29b3b7(0x221)](_0x5cfa21,_0x41e72d,_0x52d87f){const _0x431923=a0_0x29b3b7;_0x52d87f||(_0x52d87f={});let _0x44cfa0=(await this[_0x431923(0x580)]({'numbers':[_0x5cfa21]}))[0x0];if(!_0x44cfa0[_0x431923(0x617)]&&!(0x0,f[_0x431923(0x256)])(_0x44cfa0[_0x431923(0x31d)])&&!_0x44cfa0[_0x431923(0x31d)][_0x431923(0x58d)]('@broadcast'))throw new m(_0x44cfa0);let _0x49acd4=_0x44cfa0['jid'];try{if(_0x52d87f?.[_0x431923(0x384)]){await this['client'][_0x431923(0x1b5)](_0x49acd4),await this[_0x431923(0x372)][_0x431923(0x638)](_0x52d87f?.['presence']??'composing',_0x49acd4);let _0x515766=Math['min'](_0x52d87f[_0x431923(0x384)],0x2710);await(0x0,f[_0x431923(0x384)])(_0x515766),await this['client'][_0x431923(0x638)]('paused',_0x49acd4);}let _0x249dca=_0x52d87f?.[_0x431923(0x5e7)]!=!0x1?void 0x0:!0x1,_0x5318a7;if(_0x52d87f?.[_0x431923(0x310)]){let _0x506441=_0x52d87f?.[_0x431923(0x310)],_0x119681=_0x506441?.[_0x431923(0x780)]?_0x506441:await this[_0x431923(0x107)](_0x506441[_0x431923(0x5ec)],!0x0);if(!_0x119681)throw _0x431923(0x572);_0x5318a7=_0x119681;}let _0x355a38;if((0x0,f['isJidGroup'])(_0x49acd4))try{let _0x128440=(await this['repository']['chat']['findOne']({'where':{'_id':_0x49acd4}},this['instance'][_0x431923(0xe7)]))['groupdata'];if(!_0x128440)throw new U(_0x431923(0x2f8));_0x52d87f?.[_0x431923(0xe5)]&&(_0x52d87f[_0x431923(0xe5)]?.[_0x431923(0x3b2)]?_0x355a38=_0x128440[_0x431923(0x1cd)][_0x431923(0x40d)](_0x4defb7=>_0x4defb7['id']):_0x52d87f[_0x431923(0xe5)]?.[_0x431923(0x5a8)]?.[_0x431923(0x761)]&&(_0x355a38=_0x52d87f[_0x431923(0xe5)]['mentioned'][_0x431923(0x40d)](_0xfd69b8=>{const _0x80e6b9=_0x431923;let _0x5c0d1a=this[_0x80e6b9(0x365)](_0xfd69b8);return(0x0,f[_0x80e6b9(0x256)])(_0x5c0d1a)?null:_0x5c0d1a;})));}catch{throw new U(_0x431923(0x2f8));}let _0x3df670=await this[_0x431923(0x68f)][_0x431923(0xf1)]['findOne']({'where':{'_id':_0x49acd4}},this[_0x431923(0x1fb)][_0x431923(0xe7)]),_0x44599f=await((async()=>{const _0x3b563f=_0x431923;let _0x1be42f={'quoted':_0x5318a7,'ephemeralExpiration':_0x3df670?.['ephemeralExpiration']??0x0};if(!_0x41e72d['audio']&&!_0x41e72d[_0x3b563f(0x33f)]&&!_0x41e72d[_0x3b563f(0x757)]&&!_0x41e72d['conversation']&&_0x49acd4!==_0x3b563f(0x2d1)&&!_0x41e72d[_0x3b563f(0x609)])return await this[_0x3b563f(0x372)][_0x3b563f(0x644)](_0x49acd4,{'forward':{'key':{'remoteJid':this['instance'][_0x3b563f(0xe7)],'fromMe':!0x0},'message':_0x41e72d},'mentions':_0x355a38},_0x1be42f);if(_0x41e72d[_0x3b563f(0x133)])return await this[_0x3b563f(0x372)][_0x3b563f(0x644)](_0x49acd4,{'react':{'text':_0x41e72d['reactionMessage'][_0x3b563f(0x623)],'key':_0x41e72d[_0x3b563f(0x133)]['key']}},_0x1be42f);if(_0x41e72d[_0x3b563f(0x3ce)]){let _0x268967=_0x41e72d['conversation'];return _0x52d87f?.[_0x3b563f(0x6fa)]&&(_0x268967=await this[_0x3b563f(0x249)](_0x268967,_0x49acd4)),await this['client'][_0x3b563f(0x644)](_0x49acd4,{'text':_0x268967,'mentions':_0x355a38,'linkPreview':_0x249dca},_0x1be42f);}return _0x49acd4===_0x3b563f(0x2d1)?await this[_0x3b563f(0x372)]['sendMessage'](_0x49acd4,_0x41e72d[_0x3b563f(0x59d)][_0x3b563f(0x653)],{'backgroundColor':_0x41e72d['status'][_0x3b563f(0xf9)]['backgroundColor'],'font':_0x41e72d[_0x3b563f(0x59d)][_0x3b563f(0xf9)][_0x3b563f(0x481)],'statusJidList':_0x41e72d[_0x3b563f(0x59d)][_0x3b563f(0xf9)][_0x3b563f(0x271)]}):await this[_0x3b563f(0x372)][_0x3b563f(0x644)](_0x49acd4,_0x41e72d,_0x1be42f);})()),_0x575ba4=(0x0,f[_0x431923(0x4d6)])(_0x44599f[_0x431923(0x780)]),_0x51e734=(0x0,f[_0x431923(0x6f8)])(_0x575ba4),{message_normalized:_0xc0b962}=this[_0x431923(0x545)](_0x575ba4,_0x51e734,null),_0x1f365d={'_id':_0x44599f[_0x431923(0x5ec)]['id'],'key':_0x44599f[_0x431923(0x5ec)],'pushName':_0x44599f[_0x431923(0x744)],'isGroup':_0x44599f['key'][_0x431923(0x4b0)]['endsWith'](_0x431923(0x170)),'profilePictureUrl':this['instance'][_0x431923(0x507)],'message':_0x575ba4,'messageType':_0x51e734,'message_normalized':{'key':_0x44599f[_0x431923(0x5ec)],'pushName':_0x44599f[_0x431923(0x744)],'messageTimestamp':_0x44599f[_0x431923(0x26d)]&&_0x44599f[_0x431923(0x26d)][_0x431923(0x4a2)]()[_0x431923(0x761)]<0xd?_0x44599f['messageTimestamp']*0x3e8:_0x44599f[_0x431923(0x26d)]||null,'source':(0x0,f[_0x431923(0x5d5)])(_0x44599f[_0x431923(0x5ec)]['id']),..._0xc0b962},'messageTimestamp':_0x44599f[_0x431923(0x26d)]&&_0x44599f['messageTimestamp']['toString']()[_0x431923(0x761)]<0xd?_0x44599f[_0x431923(0x26d)]*0x3e8:_0x44599f[_0x431923(0x26d)]||null,'owner':this['instance'][_0x431923(0xe7)],'source':(0x0,f[_0x431923(0x5d5)])(_0x44599f[_0x431923(0x5ec)]['id'])};return this[_0x431923(0x1be)][_0x431923(0x47a)](this['instanceName']+'\x20('+this['instance'][_0x431923(0xe7)]+'):\x20enviado\x20para\x20['+_0x1f365d[_0x431923(0x5ec)]?.[_0x431923(0x4b0)][_0x431923(0x3b1)](_0x431923(0x3be),'')+_0x431923(0x6e5)+_0x1f365d[_0x431923(0x58e)]+')'),_0x1f365d[_0x431923(0x76f)]?.[_0x431923(0x623)]&&this[_0x431923(0x1be)][_0x431923(0x47a)](_0x1f365d[_0x431923(0x76f)]?.[_0x431923(0x623)]),this[_0x431923(0x383)]('send.message',_0x1f365d),J(this[_0x431923(0x770)],_0x431923(0xec),{'message':_0x1f365d}),this[_0x431923(0x74e)](this[_0x431923(0x667)]['get'](_0x431923(0x43d)),_0x1f365d,_0x431923(0x5ea),_0x3df670),await this[_0x431923(0x68f)][_0x431923(0x780)]['insert']([_0x1f365d],this['instance'][_0x431923(0xe7)]),_0x44599f;}catch(_0x43ab46){let _0x27e526=_0x431923(0x4c9),_0x1036ab=_0x43ab46 instanceof Error?_0x43ab46[_0x431923(0x780)]:typeof _0x43ab46==_0x431923(0x320)?JSON['stringify'](_0x43ab46):_0x43ab46,_0x3a6467=_0x27e526+':\x20'+_0x1036ab;throw this[_0x431923(0x1be)][_0x431923(0x60d)](this['instanceName']+'\x20('+this[_0x431923(0x1fb)][_0x431923(0xe7)]+_0x431923(0x1e5)+_0x3a6467),new m(_0x3a6467);}}get[a0_0x29b3b7(0x641)](){const _0x38f9e9=a0_0x29b3b7;return this[_0x38f9e9(0x710)];}async['textMessage'](_0x4c85bd){const _0x55b416=a0_0x29b3b7;let _0x5979a6=Rr,_0x49b881=et;return _0x49b881&&this[_0x55b416(0x770)][_0x55b416(0x4d0)]()[_0x55b416(0x58d)](_0x49b881[_0x55b416(0x4d0)]())&&(_0x4c85bd[_0x55b416(0x10b)][_0x55b416(0x623)]+='\x0a\x0a'+_0x5979a6),await this[_0x55b416(0x221)](_0x4c85bd['number'],{'conversation':_0x4c85bd['textMessage'][_0x55b416(0x623)]},_0x4c85bd?.['options']);}async[a0_0x29b3b7(0x2a3)](_0x15cf5a){const _0x5f0265=a0_0x29b3b7;if(!_0x15cf5a[_0x5f0265(0x263)])throw new m(_0x5f0265(0x22f));if(!_0x15cf5a[_0x5f0265(0x653)])throw new m('Content\x20is\x20required');if(_0x15cf5a[_0x5f0265(0x29e)]){let _0x563add=await this[_0x5f0265(0x68f)][_0x5f0265(0x15f)]['find']({'where':{}},this['instance'][_0x5f0265(0xe7)]);if(!_0x563add['length'])throw new m(_0x5f0265(0x646));_0x15cf5a[_0x5f0265(0x271)]=_0x563add[_0x5f0265(0x19c)](_0x55d024=>_0x55d024[_0x5f0265(0x744)])[_0x5f0265(0x40d)](_0x47e237=>_0x47e237[_0x5f0265(0x6a7)]);}if(!_0x15cf5a[_0x5f0265(0x271)]?.['length']&&!_0x15cf5a['allContacts'])throw new m(_0x5f0265(0x6e0));if(_0x15cf5a['type']===_0x5f0265(0x623)){if(!_0x15cf5a[_0x5f0265(0x67a)])throw new m(_0x5f0265(0x30e));if(!_0x15cf5a[_0x5f0265(0x481)])throw new m(_0x5f0265(0x284));return{'content':{'text':_0x15cf5a['content']},'option':{'backgroundColor':_0x15cf5a[_0x5f0265(0x67a)],'font':_0x15cf5a[_0x5f0265(0x481)],'statusJidList':_0x15cf5a[_0x5f0265(0x271)]}};}if(_0x15cf5a[_0x5f0265(0x263)]===_0x5f0265(0x2b9))return{'content':{'image':{'url':_0x15cf5a[_0x5f0265(0x653)]},'caption':_0x15cf5a[_0x5f0265(0x106)]},'option':{'statusJidList':_0x15cf5a[_0x5f0265(0x271)]}};if(_0x15cf5a[_0x5f0265(0x263)]==='video')return{'content':{'video':{'url':_0x15cf5a[_0x5f0265(0x653)]},'caption':_0x15cf5a[_0x5f0265(0x106)]},'option':{'statusJidList':_0x15cf5a[_0x5f0265(0x271)]}};if(_0x15cf5a[_0x5f0265(0x263)]===_0x5f0265(0x609)){this[_0x5f0265(0x1be)][_0x5f0265(0x7a1)](_0x5f0265(0x50d)),this['logger'][_0x5f0265(0x7a1)](_0x5f0265(0x63d));let _0x1bd81b=await this[_0x5f0265(0x750)](_0x15cf5a[_0x5f0265(0x653)]);if(typeof _0x1bd81b==_0x5f0265(0x162)){this[_0x5f0265(0x1be)]['verbose'](_0x5f0265(0x14f));let _0x18a038=j[_0x5f0265(0x513)](_0x1bd81b)['toString']('base64');return{'content':{'audio':Buffer['from'](_0x18a038,'base64'),'ptt':!0x0,'mimetype':_0x5f0265(0x755)},'option':{'statusJidList':_0x15cf5a[_0x5f0265(0x271)]}};}else throw new I(_0x1bd81b);}throw new m('Type\x20not\x20found');}async[a0_0x29b3b7(0x3fe)](_0x440389){const _0x5138ab=a0_0x29b3b7;return await this[_0x5138ab(0x221)](_0x5138ab(0x2d1),{'status':await this[_0x5138ab(0x2a3)](_0x440389[_0x5138ab(0x3fe)])});}async[a0_0x29b3b7(0x22d)](_0x51a175){const _0x5ca7f8=a0_0x29b3b7;try{let _0x5f3e78=await(0x0,f[_0x5ca7f8(0x73c)])({[_0x51a175['mediatype']]:(0x0,P['isURL'])(_0x51a175[_0x5ca7f8(0x1c9)])?{'url':_0x51a175['media']}:Buffer[_0x5ca7f8(0x12c)](_0x51a175[_0x5ca7f8(0x1c9)],'base64')},{'upload':this[_0x5ca7f8(0x372)][_0x5ca7f8(0x5c1)]}),_0x8d8138=_0x51a175['mediatype']+_0x5ca7f8(0x44b);if(_0x51a175[_0x5ca7f8(0x7c4)]==='document'&&!_0x51a175['fileName']){let _0x41e300=new RegExp(/.*\/(.+?)\./)[_0x5ca7f8(0x51f)](_0x51a175[_0x5ca7f8(0x1c9)]);_0x51a175[_0x5ca7f8(0x419)]=_0x41e300?_0x41e300[0x1]:null;}let _0x404735=(0x0,P[_0x5ca7f8(0x6b1)])(_0x51a175[_0x5ca7f8(0x1c9)])?_0x51a175[_0x5ca7f8(0x1c9)]['split']('?')[0x0]:_0x51a175[_0x5ca7f8(0x1c9)];this[_0x5ca7f8(0x1be)]['verbose'](_0x5ca7f8(0x21e)+_0x404735);let _0x507c54;(0x0,P[_0x5ca7f8(0x6b1)])(_0x51a175['media'])?_0x507c54=(0x0,kt[_0x5ca7f8(0x222)])(_0x404735):_0x51a175[_0x5ca7f8(0x419)]&&_0x51a175[_0x5ca7f8(0x419)][_0x5ca7f8(0x58d)]('.')?_0x507c54=(0x0,kt['getMIMEType'])(_0x51a175[_0x5ca7f8(0x419)]):_0x507c54=(0x0,kt['getMIMEType'])(_0x51a175['media']);let _0xd45d32=Rr,_0x515082=et;return _0x515082&&this[_0x5ca7f8(0x770)][_0x5ca7f8(0x4d0)]()[_0x5ca7f8(0x58d)](_0x515082[_0x5ca7f8(0x4d0)]())&&(_0x51a175[_0x5ca7f8(0x106)]+='\x0a\x0a'+_0xd45d32),_0x5f3e78[_0x8d8138][_0x5ca7f8(0x106)]=_0x51a175?.[_0x5ca7f8(0x106)],_0x5f3e78[_0x8d8138][_0x5ca7f8(0x22e)]=_0x507c54,_0x5f3e78[_0x8d8138]['fileName']=_0x51a175['fileName'],_0x51a175[_0x5ca7f8(0x7c4)]===_0x5ca7f8(0x370)&&(_0x5f3e78[_0x8d8138][_0x5ca7f8(0x6e8)]=Uint8Array['from']((0x0,Oe['readFileSync'])((0x0,F[_0x5ca7f8(0x452)])(process[_0x5ca7f8(0x14d)](),'video-cover.png'))),_0x5f3e78[_0x8d8138][_0x5ca7f8(0x243)]=!0x1),(0x0,f['generateWAMessageFromContent'])('',{[_0x8d8138]:{..._0x5f3e78[_0x8d8138]}},{'userJid':this['instance'][_0x5ca7f8(0xe7)]});}catch(_0x48399e){let _0x567d4e='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage',_0x13a27d=_0x48399e instanceof Error?_0x48399e[_0x5ca7f8(0x780)]:typeof _0x48399e=='object'?JSON[_0x5ca7f8(0xfe)](_0x48399e):_0x48399e,_0x35f137=_0x567d4e+':\x20'+_0x13a27d;throw this['logger'][_0x5ca7f8(0x60d)](this['instanceName']+'\x20('+this[_0x5ca7f8(0x1fb)][_0x5ca7f8(0xe7)]+'):\x20'+_0x35f137),new I(_0x35f137);}}async[a0_0x29b3b7(0x4c3)](_0x41cd7b){const _0x3d0e6b=a0_0x29b3b7;let _0x26c8b2=await this['prepareMediaMessage'](_0x41cd7b[_0x3d0e6b(0x4c3)]);return await this['sendMessageWithTyping'](_0x41cd7b[_0x3d0e6b(0x487)],{..._0x26c8b2[_0x3d0e6b(0x780)]},_0x41cd7b?.[_0x3d0e6b(0x279)]);}async[a0_0x29b3b7(0x527)](_0x38184b,_0x2f47a1){const _0x45925d=a0_0x29b3b7;try{this[_0x45925d(0x1be)][_0x45925d(0x7a1)](_0x45925d(0x220));let _0xdf9d80,_0x2f208e=_0x2f47a1+'-'+new Date()[_0x45925d(0x3e0)]();this[_0x45925d(0x1be)][_0x45925d(0x7a1)]('Hash\x20to\x20image\x20name:\x20'+_0x2f208e);let _0xd07597=''+(0x0,F[_0x45925d(0x452)])(this[_0x45925d(0x18d)],_0x2f208e+_0x45925d(0x79e));if(this['logger']['verbose'](_0x45925d(0x285)+_0xd07597),(0x0,P[_0x45925d(0x6f9)])(_0x38184b)){this[_0x45925d(0x1be)][_0x45925d(0x7a1)]('Image\x20is\x20base64');let _0x1fc7f9=_0x38184b[_0x45925d(0x3b1)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x46113f=Buffer[_0x45925d(0x12c)](_0x1fc7f9,_0x45925d(0x3a5));_0xdf9d80=''+(0x0,F[_0x45925d(0x452)])(this['storePath'],'temp-'+_0x2f208e+_0x45925d(0x30c)),this[_0x45925d(0x1be)][_0x45925d(0x7a1)](_0x45925d(0x6cb)+_0xdf9d80),await(0x0,Lt[_0x45925d(0x282)])(_0x46113f)[_0x45925d(0x4e6)](_0xdf9d80),this[_0x45925d(0x1be)][_0x45925d(0x7a1)](_0x45925d(0x202));}else{this[_0x45925d(0x1be)][_0x45925d(0x7a1)](_0x45925d(0x129));let _0x3a6a10=new Date()['getTime'](),_0x28ee99=_0x38184b+'?timestamp='+_0x3a6a10;this['logger'][_0x45925d(0x7a1)](_0x45925d(0x1d5)+_0x28ee99);let _0x360e45=await K[_0x45925d(0x282)][_0x45925d(0x1a1)](_0x28ee99,{'responseType':_0x45925d(0x5c3)});this[_0x45925d(0x1be)][_0x45925d(0x7a1)](_0x45925d(0x239));let _0x2a67d8=Buffer[_0x45925d(0x12c)](_0x360e45[_0x45925d(0x2eb)],_0x45925d(0x725));_0xdf9d80=''+(0x0,F[_0x45925d(0x452)])(this[_0x45925d(0x18d)],_0x45925d(0x11a)+_0x2f208e+_0x45925d(0x30c)),this[_0x45925d(0x1be)][_0x45925d(0x7a1)](_0x45925d(0x6cb)+_0xdf9d80),await(0x0,Lt[_0x45925d(0x282)])(_0x2a67d8)['toFile'](_0xdf9d80),this[_0x45925d(0x1be)][_0x45925d(0x7a1)](_0x45925d(0x202));}return await(0x0,Lt[_0x45925d(0x282)])(_0xdf9d80)[_0x45925d(0x5f0)]()['toFile'](_0xd07597),this[_0x45925d(0x1be)][_0x45925d(0x7a1)]('Image\x20converted\x20to\x20WebP'),j[_0x45925d(0x76a)](_0xdf9d80),this[_0x45925d(0x1be)][_0x45925d(0x7a1)](_0x45925d(0x6cd)),_0xd07597;}catch(_0x2cb1cc){let _0x2ad0f5=_0x45925d(0x636),_0x26a73a=_0x2cb1cc instanceof Error?_0x2cb1cc['message']:typeof _0x2cb1cc==_0x45925d(0x320)?JSON[_0x45925d(0xfe)](_0x2cb1cc):_0x2cb1cc,_0x47b7ab=_0x2ad0f5+':\x20'+_0x26a73a;this[_0x45925d(0x1be)][_0x45925d(0x60d)](this[_0x45925d(0x770)]+'\x20('+this[_0x45925d(0x1fb)][_0x45925d(0xe7)]+_0x45925d(0x1e5)+_0x47b7ab);}}async[a0_0x29b3b7(0x7cd)](_0x517406){const _0x5e237d=a0_0x29b3b7;let _0x441648=await this[_0x5e237d(0x527)](_0x517406[_0x5e237d(0x655)][_0x5e237d(0x2b9)],_0x517406['number']),_0xe853d7=await this[_0x5e237d(0x221)](_0x517406['number'],{'sticker':{'url':_0x441648}},_0x517406?.[_0x5e237d(0x279)]);return j[_0x5e237d(0x76a)](_0x441648),this[_0x5e237d(0x1be)][_0x5e237d(0x7a1)](_0x5e237d(0x5b0)),_0xe853d7;}async[a0_0x29b3b7(0x79b)](_0x8a5e70){const _0x46b0fc=a0_0x29b3b7;if(this[_0x46b0fc(0x1be)][_0x46b0fc(0x7a1)](_0x46b0fc(0x574)),!_0x8a5e70['options']?.[_0x46b0fc(0x491)]&&_0x8a5e70[_0x46b0fc(0x279)]?.['encoding']!==!0x1&&(_0x8a5e70[_0x46b0fc(0x279)][_0x46b0fc(0x491)]=!0x0),_0x8a5e70[_0x46b0fc(0x279)]?.[_0x46b0fc(0x491)]){let _0x20e0ca=await this[_0x46b0fc(0x750)](_0x8a5e70[_0x46b0fc(0x6fe)][_0x46b0fc(0x609)]);if(typeof _0x20e0ca=='string'){let _0x1d2747=j[_0x46b0fc(0x513)](_0x20e0ca)[_0x46b0fc(0x4a2)](_0x46b0fc(0x3a5));return this[_0x46b0fc(0x221)](_0x8a5e70[_0x46b0fc(0x487)],{'audio':Buffer['from'](_0x1d2747,_0x46b0fc(0x3a5)),'ptt':!0x0,'mimetype':_0x46b0fc(0x440)},{'presence':_0x46b0fc(0x60c),'delay':_0x8a5e70?.['options']?.[_0x46b0fc(0x384)]});}else throw new I(_0x20e0ca);}return await this[_0x46b0fc(0x221)](_0x8a5e70[_0x46b0fc(0x487)],{'audio':(0x0,P['isURL'])(_0x8a5e70[_0x46b0fc(0x6fe)][_0x46b0fc(0x609)])?{'url':_0x8a5e70[_0x46b0fc(0x6fe)]['audio']}:Buffer[_0x46b0fc(0x12c)](_0x8a5e70['audioMessage'][_0x46b0fc(0x609)],_0x46b0fc(0x3a5)),'ptt':!0x0,'mimetype':_0x46b0fc(0x440)},{'presence':'recording','delay':_0x8a5e70?.[_0x46b0fc(0x279)]?.[_0x46b0fc(0x384)]});}async[a0_0x29b3b7(0x750)](_0x773081){const _0x4501aa=a0_0x29b3b7;this[_0x4501aa(0x1be)][_0x4501aa(0x7a1)]('Processing\x20audio');let _0x391346=(0x0,P[_0x4501aa(0x6b1)])(_0x773081)?(0x0,Jt[_0x4501aa(0xee)])('sha256')[_0x4501aa(0x5ca)](_0x773081)[_0x4501aa(0x1d6)]('hex'):(0x0,Jt[_0x4501aa(0xee)])('sha256')['update'](_0x773081)[_0x4501aa(0x1d6)](_0x4501aa(0x1f5)),_0x383790=''+(0x0,F[_0x4501aa(0x452)])(this['storePath'],_0x391346+_0x4501aa(0x353));if(j['existsSync'](_0x383790))return this[_0x4501aa(0x1be)][_0x4501aa(0x7a1)]('Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x383790;let _0xae6fe7=''+(0x0,F[_0x4501aa(0x452)])(this['storePath'],_0x4501aa(0x11a)+(0x0,jt['v4'])()+_0x4501aa(0x405));if((0x0,P[_0x4501aa(0x6b1)])(_0x773081)){let _0x5aa245=new Date()['getTime'](),_0x5870ab=_0x773081+_0x4501aa(0x557)+_0x5aa245,_0x26c0c8=await K[_0x4501aa(0x282)][_0x4501aa(0x1a1)](_0x5870ab,{'responseType':_0x4501aa(0x5c3)});j[_0x4501aa(0x1d7)](_0xae6fe7,_0x26c0c8[_0x4501aa(0x2eb)]);}else{let _0xbdb577=Buffer[_0x4501aa(0x12c)](_0x773081,_0x4501aa(0x3a5));j[_0x4501aa(0x1d7)](_0xae6fe7,_0xbdb577);}return new Promise((_0x178a76,_0x39df33)=>{const _0x6850bb=_0x4501aa;(0x0,Ae[_0x6850bb(0x51f)])(As[_0x6850bb(0x282)][_0x6850bb(0x21d)]+'\x20-i\x20'+_0xae6fe7+_0x6850bb(0x5de)+_0x383790+_0x6850bb(0x389),_0x4f753c=>{const _0x349c62=_0x6850bb;if(j[_0x349c62(0x76a)](_0xae6fe7),_0x4f753c){this['logger'][_0x349c62(0x7a1)](_0x349c62(0x521)),_0x39df33(_0x4f753c);return;}this[_0x349c62(0x1be)][_0x349c62(0x7a1)](_0x349c62(0x32d)),_0x178a76(_0x383790);});});}async[a0_0x29b3b7(0x563)](_0x2d81c1){const _0x3a005d=a0_0x29b3b7;this['logger'][_0x3a005d(0x7a1)](_0x3a005d(0x63d));let _0x3b180d=(0x0,Jt[_0x3a005d(0xee)])('sha256')[_0x3a005d(0x5ca)](_0x2d81c1)['digest'](_0x3a005d(0x1f5)),_0x36d699=''+(0x0,F[_0x3a005d(0x452)])(this[_0x3a005d(0x18d)],_0x3b180d+_0x3a005d(0x405));if(j[_0x3a005d(0x705)](_0x36d699))return this[_0x3a005d(0x1be)][_0x3a005d(0x7a1)](_0x3a005d(0x5a7)),F[_0x3a005d(0x282)]['basename'](_0x36d699);let _0x22d373=''+(0x0,F[_0x3a005d(0x452)])(this[_0x3a005d(0x18d)],_0x3a005d(0x11a)+_0x3b180d+'.ogg');if((0x0,P[_0x3a005d(0x6b1)])(_0x2d81c1)){let _0x279ef8=new Date()[_0x3a005d(0x3e0)](),_0x14c481=_0x2d81c1+_0x3a005d(0x557)+_0x279ef8,_0x4f3921=await K['default']['get'](_0x14c481,{'responseType':_0x3a005d(0x5c3)});j[_0x3a005d(0x1d7)](_0x22d373,_0x4f3921['data']);}else{let _0x3aa703=Buffer['from'](_0x2d81c1,_0x3a005d(0x3a5));j[_0x3a005d(0x1d7)](_0x22d373,_0x3aa703);}return new Promise((_0x48a456,_0x90f730)=>{const _0x564d40=_0x3a005d;(0x0,Ae['exec'])(As[_0x564d40(0x282)][_0x564d40(0x21d)]+_0x564d40(0x224)+_0x22d373+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x36d699+'\x20-y',_0x454b4c=>{const _0x1a6aaf=_0x564d40;if(j['unlinkSync'](_0x22d373),_0x454b4c){this[_0x1a6aaf(0x1be)]['verbose'](_0x1a6aaf(0x521)),_0x90f730(_0x454b4c);return;}this[_0x1a6aaf(0x1be)]['verbose'](_0x1a6aaf(0x32d)),_0x48a456(F[_0x1a6aaf(0x282)][_0x1a6aaf(0x203)](_0x36d699));});});}async[a0_0x29b3b7(0x3fc)](_0x261226){const _0x1cbf02=a0_0x29b3b7;let _0x1a7a2c={},_0x1c27a6=_0x1cbf02(0x23a);if(_0x261226[_0x1cbf02(0x3fc)]?.[_0x1cbf02(0x4c3)]){_0x1c27a6=_0x261226[_0x1cbf02(0x3fc)][_0x1cbf02(0x4c3)]?.[_0x1cbf02(0x7c4)][_0x1cbf02(0x393)]()??_0x1cbf02(0x23a),_0x1a7a2c['mediaKey']=_0x1c27a6[_0x1cbf02(0x4d0)]()+_0x1cbf02(0x44b);let _0x480be2=await this['prepareMediaMessage'](_0x261226[_0x1cbf02(0x3fc)][_0x1cbf02(0x4c3)]);_0x1a7a2c[_0x1cbf02(0x780)]=_0x480be2['message'][_0x1a7a2c[_0x1cbf02(0x6f5)]],_0x1a7a2c[_0x1cbf02(0x31e)]='*'+_0x261226[_0x1cbf02(0x3fc)][_0x1cbf02(0x200)]+_0x1cbf02(0xfd)+_0x261226[_0x1cbf02(0x3fc)][_0x1cbf02(0x13a)];}let _0x5fb69f={'text':_0x261226[_0x1cbf02(0x3fc)][_0x1cbf02(0x3c5)]['map'](_0x1cd772=>_0x1cd772[_0x1cbf02(0x578)]),'ids':_0x261226[_0x1cbf02(0x3fc)][_0x1cbf02(0x3c5)][_0x1cbf02(0x40d)](_0x1435bc=>_0x1435bc[_0x1cbf02(0x49c)])};if(!(0x0,P[_0x1cbf02(0x4c4)])(_0x5fb69f[_0x1cbf02(0x623)])||!(0x0,P[_0x1cbf02(0x4c4)])(_0x5fb69f[_0x1cbf02(0x3b3)]))throw new m('Button\x20texts\x20cannot\x20be\x20repeated',_0x1cbf02(0x633));return await this[_0x1cbf02(0x221)](_0x261226[_0x1cbf02(0x487)],{'buttonsMessage':{'text':_0x1a7a2c?.[_0x1cbf02(0x6f5)]?void 0x0:_0x261226['buttonMessage'][_0x1cbf02(0x200)],'contentText':_0x1a7a2c?.[_0x1cbf02(0x31e)]??_0x261226[_0x1cbf02(0x3fc)]['description'],'footerText':_0x261226['buttonMessage']?.[_0x1cbf02(0x19d)],'buttons':_0x261226[_0x1cbf02(0x3fc)][_0x1cbf02(0x3c5)][_0x1cbf02(0x40d)](_0x1e60d1=>({'buttonText':{'displayText':_0x1e60d1[_0x1cbf02(0x578)]},'buttonId':_0x1e60d1[_0x1cbf02(0x49c)],'type':0x1})),'headerType':f[_0x1cbf02(0x2ba)][_0x1cbf02(0x44b)][_0x1cbf02(0x111)][_0x1cbf02(0x49e)][_0x1c27a6],[_0x1a7a2c?.[_0x1cbf02(0x6f5)]]:_0x1a7a2c?.['message']}},_0x261226?.[_0x1cbf02(0x279)]);}async[a0_0x29b3b7(0x194)](_0x25745f){const _0x2ef9a0=a0_0x29b3b7;return await this[_0x2ef9a0(0x221)](_0x25745f[_0x2ef9a0(0x487)],{'locationMessage':{'degreesLatitude':_0x25745f[_0x2ef9a0(0x194)]['latitude'],'degreesLongitude':_0x25745f['locationMessage'][_0x2ef9a0(0x71d)],'name':_0x25745f[_0x2ef9a0(0x194)]?.[_0x2ef9a0(0x438)],'address':_0x25745f['locationMessage']?.[_0x2ef9a0(0x767)]}},_0x25745f?.[_0x2ef9a0(0x279)]);}async['contactMessage'](_0x48a376){const _0x26f6a9=a0_0x29b3b7;let _0x395ec8={},_0x3a472e=async _0x12ec73=>{const _0x1f7151=a0_0x1da8;let _0x4dc30f=_0x1f7151(0x6c9)+_0x12ec73['fullName']+_0x1f7151(0x795)+_0x12ec73['fullName']+'\x0a';_0x12ec73[_0x1f7151(0x549)]&&(_0x4dc30f+=_0x1f7151(0x46e)+_0x12ec73[_0x1f7151(0x549)]+';\x0a'),_0x12ec73[_0x1f7151(0x10d)]&&(_0x4dc30f+=_0x1f7151(0x427)+_0x12ec73[_0x1f7151(0x10d)]+'\x0a'),_0x12ec73[_0x1f7151(0x496)]&&(_0x4dc30f+=_0x1f7151(0x7a3)+_0x12ec73['url']+'\x0a');let _0xf4977e='',_0x435c13=0x1;if(_0x12ec73[_0x1f7151(0x79f)]){let _0x5f385e=_0x12ec73[_0x1f7151(0x79f)][_0x1f7151(0x355)]('|');for(let _0x1203f6 of _0x5f385e){let _0x3016e0=await this[_0x1f7151(0x580)]({'numbers':[_0x1203f6]}),_0x597a7d=(_0x3016e0[_0x1f7151(0x761)]>0x0?_0x3016e0[0x0]['jid']:this['createJid'](_0x1203f6))['replace']('@s.whatsapp.net','');_0xf4977e+=_0x1f7151(0x181)+_0x435c13+_0x1f7151(0x283)+_0x597a7d+':'+_0x1203f6+_0x1f7151(0x66f)+_0x435c13+_0x1f7151(0x385),_0x435c13++;}}return _0x4dc30f+=_0xf4977e+_0x1f7151(0x28f),_0x4dc30f;};return _0x48a376[_0x26f6a9(0x46a)][_0x26f6a9(0x761)]===0x1?_0x395ec8[_0x26f6a9(0x46a)]={'displayName':_0x48a376['contactMessage'][0x0][_0x26f6a9(0x7ca)],'vcard':await _0x3a472e(_0x48a376['contactMessage'][0x0])}:_0x395ec8['contactsArrayMessage']={'displayName':_0x48a376['contactMessage']['length']+_0x26f6a9(0x278),'contacts':await Promise[_0x26f6a9(0x357)](_0x48a376['contactMessage'][_0x26f6a9(0x40d)](async _0x564ed1=>({'displayName':_0x564ed1[_0x26f6a9(0x7ca)],'vcard':await _0x3a472e(_0x564ed1)})))},await this['sendMessageWithTyping'](_0x48a376[_0x26f6a9(0x487)],{..._0x395ec8},_0x48a376?.['options']);}async[a0_0x29b3b7(0x133)](_0x3fcc0e){const _0x876a36=a0_0x29b3b7;return await this[_0x876a36(0x221)](_0x3fcc0e[_0x876a36(0x133)][_0x876a36(0x5ec)][_0x876a36(0x4b0)],{'reactionMessage':{'key':_0x3fcc0e[_0x876a36(0x133)]['key'],'text':_0x3fcc0e[_0x876a36(0x133)]['reaction']}});}async[a0_0x29b3b7(0x580)](_0x1ccf3e){const _0x5cd79b=a0_0x29b3b7;let _0x402a6e=[];for await(let _0x8ef466 of _0x1ccf3e[_0x5cd79b(0x63a)]){let _0x48b3b5=this['createJid'](_0x8ef466),_0x1832db=!0x1;try{if((0x0,f['isJidGroup'])(_0x48b3b5)){let _0x3598ef=(await this[_0x5cd79b(0x68f)][_0x5cd79b(0xf1)][_0x5cd79b(0x3b0)]({'where':{'_id':_0x48b3b5}},this['instance'][_0x5cd79b(0xe7)]))[_0x5cd79b(0x524)];_0x1832db=!!_0x3598ef?.['id']&&!!_0x3598ef?.['canSendMessage'],_0x402a6e[_0x5cd79b(0x343)](new we(_0x3598ef['id'],_0x1832db,_0x3598ef?.[_0x5cd79b(0x607)]));}else{let _0x3b5c3d=(await this[_0x5cd79b(0x372)]['onWhatsApp'](_0x48b3b5))[0x0];_0x1832db=_0x3b5c3d[_0x5cd79b(0x617)],_0x402a6e[_0x5cd79b(0x343)](new we(_0x3b5c3d['jid'],_0x1832db));}}catch{(0x0,f['isJidGroup'])(_0x48b3b5)||await this[_0x5cd79b(0x7a9)](_0x48b3b5,_0x1832db),_0x402a6e[_0x5cd79b(0x343)](new we(_0x8ef466,!0x1));}}return _0x402a6e;}async[a0_0x29b3b7(0x7a9)](_0x29a689,_0xb36751){const _0x2d58e8=a0_0x29b3b7;try{await this[_0x2d58e8(0x68f)][_0x2d58e8(0xf1)][_0x2d58e8(0x3b0)]({'where':{'_id':_0x29a689,'imported':!0x0}},this[_0x2d58e8(0x1fb)]['wuid'])&&(_0xb36751||(await this[_0x2d58e8(0x68f)]['chat'][_0x2d58e8(0x441)](_0x29a689,this[_0x2d58e8(0x1fb)][_0x2d58e8(0xe7)]),console[_0x2d58e8(0x6bf)](_0x2d58e8(0x205)+_0x29a689+_0x2d58e8(0x302))));}catch(_0x3c7f45){let _0x220136=_0x2d58e8(0x3a7),_0x782abd=_0x3c7f45 instanceof Error?_0x3c7f45[_0x2d58e8(0x780)]:typeof _0x3c7f45==_0x2d58e8(0x320)?JSON['stringify'](_0x3c7f45):_0x3c7f45,_0xb3562d=_0x220136+':\x20'+_0x782abd;this[_0x2d58e8(0x1be)]['error'](this[_0x2d58e8(0x770)]+'\x20('+this['instance'][_0x2d58e8(0xe7)]+_0x2d58e8(0x1e5)+_0xb3562d);}}async['markMessageAsRead'](_0x3916a8){const _0x32337b=a0_0x29b3b7;try{let _0x458013=_0x3916a8[_0x32337b(0x29a)][_0x32337b(0x19c)](_0x54e9a1=>(0x0,f[_0x32337b(0x256)])(_0x54e9a1[_0x32337b(0x4b0)])||(0x0,f[_0x32337b(0x552)])(_0x54e9a1[_0x32337b(0x4b0)]))[_0x32337b(0x40d)](_0x1b52ba=>({'remoteJid':_0x1b52ba[_0x32337b(0x4b0)],'fromMe':_0x1b52ba['fromMe'],'id':_0x1b52ba['id']}));await this[_0x32337b(0x372)][_0x32337b(0x29a)](_0x458013);let _0x17c201=_0x458013['map'](_0x1899dd=>this['updateMessage'](_0x1899dd,{'status':_0x32337b(0x6cc),'owner':this[_0x32337b(0x1fb)]['wuid']})),_0x2e7bc6=_0x458013['map'](_0x153e05=>this['repository'][_0x32337b(0xf1)][_0x32337b(0x7be)]({'where':{'_id':_0x153e05[_0x32337b(0x4b0)]}},{'unreadcount':0x0},this[_0x32337b(0x1fb)]['wuid'])),[_0x4eac77,_0x345387]=await Promise['all']([Promise['all'](_0x17c201),Promise['all'](_0x2e7bc6)]);return _0x345387[_0x32337b(0x19c)](_0x483d73=>_0x483d73!==null)['forEach'](_0x56d2f0=>{const _0x9390c9=_0x32337b;J(this[_0x9390c9(0x770)],_0x9390c9(0x61e),{'chat':_0x56d2f0});}),{'message':_0x32337b(0x66a),'read':_0x32337b(0x67f)};}catch(_0x623e54){let _0x32a250='Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida',_0x12d10e=_0x623e54 instanceof Error?_0x623e54[_0x32337b(0x780)]:typeof _0x623e54==_0x32337b(0x320)?JSON['stringify'](_0x623e54):_0x623e54,_0x237329=_0x32a250+':\x20'+_0x12d10e;throw this['logger'][_0x32337b(0x60d)](this[_0x32337b(0x770)]+'\x20('+this[_0x32337b(0x1fb)][_0x32337b(0xe7)]+_0x32337b(0x1e5)+_0x237329),new I(_0x237329);}}async[a0_0x29b3b7(0x402)](_0x2ec7e0){const _0x15693c=a0_0x29b3b7;let _0x1516b8={'where':{'key':{'remoteJid':_0x2ec7e0}},'limit':0x1},_0x539019=await this[_0x15693c(0x5da)](_0x1516b8);return _0x539019||(console[_0x15693c(0x60d)](_0x15693c(0x78c),_0x2ec7e0),null);}async['archiveChat'](_0x2edc26){const _0x60bf9d=a0_0x29b3b7;this[_0x60bf9d(0x1be)][_0x60bf9d(0x7a1)](_0x60bf9d(0x15c));try{let _0xf6b06a=_0x2edc26[_0x60bf9d(0x4a7)],_0x2af532=_0x2edc26[_0x60bf9d(0xf1)];if(!_0xf6b06a&&_0x2af532?_0xf6b06a=await this[_0x60bf9d(0x402)](_0x2af532):(_0xf6b06a=_0x2edc26[_0x60bf9d(0x4a7)],_0xf6b06a[_0x60bf9d(0x26d)]=_0xf6b06a?.[_0x60bf9d(0x26d)]??Date['now'](),_0x2af532=_0xf6b06a?.[_0x60bf9d(0x5ec)]?.['remoteJid']),!_0xf6b06a||Object['keys'](_0xf6b06a)['length']===0x0)throw new U(_0x60bf9d(0x5c9));this[_0x60bf9d(0x1be)]['verbose']('Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x2af532);try{await this['client'][_0x60bf9d(0x261)]({'archive':_0x2edc26[_0x60bf9d(0x266)],'lastMessages':[_0xf6b06a]},this['createJid'](_0x2af532));}catch(_0x20fc08){let _0x3264e6=_0x60bf9d(0x4e4)+_0x2af532,_0x270b2b=_0x20fc08 instanceof Error?_0x20fc08[_0x60bf9d(0x780)]:typeof _0x20fc08==_0x60bf9d(0x320)?JSON[_0x60bf9d(0xfe)](_0x20fc08):_0x20fc08,_0x557fbd=_0x3264e6+':\x20'+_0x270b2b;this['logger'][_0x60bf9d(0x60d)](this['instanceName']+'\x20('+this[_0x60bf9d(0x1fb)][_0x60bf9d(0xe7)]+_0x60bf9d(0x1e5)+_0x557fbd);}this[_0x60bf9d(0x1be)][_0x60bf9d(0x7a1)](_0x60bf9d(0x248)+_0x2af532);let _0x19a457=await this[_0x60bf9d(0x68f)]['chat'][_0x60bf9d(0x7be)]({'where':{'_id':_0xf6b06a?.[_0x60bf9d(0x5ec)]?.[_0x60bf9d(0x4b0)]}},{'archived':_0x2edc26['archive']},this[_0x60bf9d(0x1fb)]['wuid']);return _0x19a457?(this[_0x60bf9d(0x1be)][_0x60bf9d(0x7a1)]('Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x60bf9d(0xfe)](_0x19a457)),J(this[_0x60bf9d(0x770)],_0x60bf9d(0x61e),{'chat':_0x19a457})):this[_0x60bf9d(0x1be)]['error'](_0x60bf9d(0x73e)+_0x2af532),{'chatId':_0x2af532,'archived':_0x2edc26['archive']};}catch(_0x3d8e03){let _0x4610c5='Erro\x20ao\x20arquivar\x20chat',_0x135238=_0x3d8e03 instanceof Error?_0x3d8e03[_0x60bf9d(0x780)]:typeof _0x3d8e03==_0x60bf9d(0x320)?JSON[_0x60bf9d(0xfe)](_0x3d8e03):_0x3d8e03,_0x4c46f9=_0x4610c5+':\x20'+_0x135238;throw this[_0x60bf9d(0x1be)][_0x60bf9d(0x60d)](this[_0x60bf9d(0x770)]+'\x20('+this[_0x60bf9d(0x1fb)][_0x60bf9d(0xe7)]+_0x60bf9d(0x1e5)+_0x4c46f9),new I(_0x4c46f9);}}async['deleteChat'](_0x3212ee){const _0x509f05=a0_0x29b3b7;this['logger'][_0x509f05(0x7a1)]('Delete\x20chat');try{let _0x961f03=await this[_0x509f05(0x402)](_0x3212ee);if(!_0x961f03||Object[_0x509f05(0x37a)](_0x961f03)[_0x509f05(0x761)]===0x0)throw new U(_0x509f05(0x5c9));let _0x5b29e2=_0x961f03[0x0];this[_0x509f05(0x1be)][_0x509f05(0x7a1)](_0x509f05(0x732)+_0x3212ee);try{await this[_0x509f05(0x372)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x5b29e2['key'],'messageTimestamp':_0x5b29e2[_0x509f05(0x26d)]}]},this[_0x509f05(0x365)](_0x3212ee));}catch(_0x4d081){this[_0x509f05(0x1be)][_0x509f05(0x60d)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x3212ee+':\x20'+_0x4d081['toString']());}this['logger'][_0x509f05(0x7a1)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x3212ee);return;}catch(_0x3db10b){throw this[_0x509f05(0x1be)][_0x509f05(0x60d)](_0x509f05(0x768)+_0x3db10b[_0x509f05(0x4a2)]()),new I({'archived':!0x1,'message':[_0x509f05(0x4ad),_0x3db10b['toString']()]});}}async[a0_0x29b3b7(0x45a)](_0xb8b42d){const _0x567e9b=a0_0x29b3b7;try{let _0x5431cf=await this[_0x567e9b(0x372)][_0x567e9b(0x644)](_0xb8b42d[_0x567e9b(0x4b0)],{'delete':_0xb8b42d});try{let _0x925bc1=await this[_0x567e9b(0x16e)](_0xb8b42d,{'status':_0x567e9b(0x565),'owner':this[_0x567e9b(0x1fb)]['wuid']});this['logger'][_0x567e9b(0x7a1)](this[_0x567e9b(0x770)]+'\x20('+this[_0x567e9b(0x1fb)][_0x567e9b(0xe7)]+_0x567e9b(0x773)+_0x925bc1);}catch(_0x2696df){console[_0x567e9b(0x60d)]('Error\x20updating\x20message\x20status:',_0x2696df);}return _0x5431cf;}catch(_0x37bd4a){throw new I(_0x567e9b(0x5d8),_0x37bd4a?.['toString']());}}async['getBase64FromMediaMessage'](_0x30b0a4){const _0x19b905=a0_0x29b3b7;try{let _0x3d88b2=_0x30b0a4?.[_0x19b905(0x780)]?_0x30b0a4:await this[_0x19b905(0x107)](_0x30b0a4[_0x19b905(0x5ec)],!0x0);for(let _0x41ffca of Na)_0x3d88b2['message'][_0x41ffca]&&(_0x3d88b2[_0x19b905(0x780)]=_0x3d88b2[_0x19b905(0x780)][_0x41ffca][_0x19b905(0x780)]);let _0x4587f0,_0x5c3240;for(let _0x26e61e of va)if(_0x4587f0=_0x3d88b2[_0x19b905(0x780)][_0x26e61e],_0x4587f0){_0x5c3240=_0x26e61e;break;}if(!_0x4587f0)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x4587f0['mediaKey']=='object'&&(_0x3d88b2[_0x19b905(0x780)]=JSON[_0x19b905(0x399)](JSON[_0x19b905(0xfe)](_0x3d88b2[_0x19b905(0x780)])));let _0x4b44ee=await(0x0,f[_0x19b905(0x697)])({'key':_0x3d88b2?.[_0x19b905(0x5ec)],'message':_0x3d88b2?.[_0x19b905(0x780)]},_0x19b905(0x215),{},{'logger':(0x0,Pt[_0x19b905(0x282)])({'level':_0x19b905(0x4da)}),'reuploadRequest':this[_0x19b905(0x372)]['updateMediaMessage']});if(!(_0x4b44ee instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x1ba66a=this[_0x19b905(0x667)][_0x19b905(0x1a1)](_0x19b905(0x43d)),_0x1eeb4d,_0x35b472;if(_0x4587f0[_0x19b905(0x419)])_0x1eeb4d=_0x4587f0['fileName'];else{let _0xd11926=_0x4587f0[_0x19b905(0x22e)]?.[_0x19b905(0x6b2)](/\/(\w+)/),_0x2c0d11=_0xd11926?_0xd11926[0x1]:null;if(!_0x2c0d11)throw new Error('File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message');_0x1eeb4d=(0x0,jt['v4'])()+'.'+_0x2c0d11;}_0x5c3240===_0x19b905(0x6fe)?_0x35b472=_0x19b905(0x178)+await this[_0x19b905(0x563)](_0x4b44ee[_0x19b905(0x4a2)](_0x19b905(0x3a5))):(await this[_0x19b905(0x456)](_0x4b44ee,_0x1eeb4d),_0x35b472=_0x19b905(0x178)+_0x1eeb4d);let _0x5b7d48=this[_0x19b905(0x667)][_0x19b905(0x1a1)](_0x19b905(0x12d))['URL'];if(!_0x5b7d48){let _0x1fd97d=this[_0x19b905(0x667)][_0x19b905(0x1a1)](_0x19b905(0x2d5));_0x5b7d48='https://'+(_0x1fd97d&&_0x1fd97d[_0x19b905(0x421)][_0x19b905(0x355)]('/')[0x4]);}_0x35b472=''+_0x5b7d48+_0x35b472;let _0x39e291=0xc*0x3c*0x3c*0x3e8,_0x4df5e6={'where':{'_id':_0x3d88b2[_0x19b905(0x5ec)]['id']}},_0xbce4aa={'message_normalized.fileUrl':_0x35b472,'message_normalized.expires_fileUrl':Date['now']()+_0x39e291};try{let _0x4b5997=await this[_0x19b905(0x68f)]['message'][_0x19b905(0x5ca)](_0x4df5e6,_0xbce4aa,this[_0x19b905(0x1fb)][_0x19b905(0xe7)]);_0x4b5997&&J(this[_0x19b905(0x770)],'messages',{'message':_0x4b5997});}catch(_0x30cd73){let _0x3789ab=_0x19b905(0x711),_0x53418b=_0x30cd73 instanceof Error?_0x30cd73[_0x19b905(0x780)]:typeof _0x30cd73=='object'?JSON[_0x19b905(0xfe)](_0x30cd73):_0x30cd73,_0x4b5f08=_0x3789ab+':\x20'+_0x53418b;this[_0x19b905(0x1be)][_0x19b905(0x60d)](this[_0x19b905(0x770)]+'\x20('+this[_0x19b905(0x1fb)]['wuid']+'):\x20'+_0x4b5f08);}return{'mediaType':_0x5c3240,'fileName':_0x4587f0[_0x19b905(0x419)],'caption':_0x4587f0['caption'],'size':{'fileLength':_0x4587f0[_0x19b905(0x756)],'height':_0x4587f0[_0x19b905(0x5ac)],'width':_0x4587f0['width']},'mimetype':_0x4587f0['mimetype'],'base64':_0x4b44ee[_0x19b905(0x4a2)](_0x19b905(0x3a5)),'fileUrl':_0x35b472,'expires_fileUrl':Date['now']()+_0x39e291};}catch(_0x2eb766){let _0x3ef4c7='Falha\x20ao\x20processar\x20a\x20solicitação',_0x3c1f69=_0x2eb766 instanceof Error?_0x2eb766[_0x19b905(0x780)]:typeof _0x2eb766==_0x19b905(0x320)?JSON[_0x19b905(0xfe)](_0x2eb766):_0x2eb766,_0x453ce7=_0x3ef4c7+':\x20'+_0x3c1f69;throw this[_0x19b905(0x1be)][_0x19b905(0x60d)](this[_0x19b905(0x770)]+'\x20('+this[_0x19b905(0x1fb)][_0x19b905(0xe7)]+_0x19b905(0x1e5)+_0x453ce7),new m(_0x453ce7);}}async['saveMediaToFile'](_0x343d97,_0xda6cf){const _0x3a5c53=a0_0x29b3b7;let _0x5155c2=F[_0x3a5c53(0x282)][_0x3a5c53(0x452)](__dirname,_0x3a5c53(0x3a8));j[_0x3a5c53(0x705)](_0x5155c2)||j['mkdirSync'](_0x5155c2,{'recursive':!0x0});let _0x150e65=F[_0x3a5c53(0x282)]['join'](_0x5155c2,_0xda6cf);return new Promise((_0x3ad774,_0x2650f1)=>{const _0x2dcd49=_0x3a5c53;j[_0x2dcd49(0x1fa)](_0x150e65,_0x343d97,_0x505368=>{const _0x38b203=_0x2dcd49;_0x505368?(this[_0x38b203(0x1be)][_0x38b203(0x60d)](_0x38b203(0x304)+(_0x505368 instanceof Error?_0x505368[_0x38b203(0x780)]:JSON[_0x38b203(0xfe)](_0x505368,null,0x2))),_0x2650f1(_0x505368)):(this[_0x38b203(0x1be)][_0x38b203(0x6bf)](_0x38b203(0x2ad)+_0x150e65),_0x3ad774(_0x150e65));});});}async[a0_0x29b3b7(0x225)](_0x210483){const _0x40be41=a0_0x29b3b7;return await this[_0x40be41(0x68f)][_0x40be41(0x15f)][_0x40be41(0x61d)](_0x210483,this['instance']['wuid']);}async['fetchLabels'](){const _0x42c9fd=a0_0x29b3b7;return await this['repository']['label']['find']({'where':{}},this[_0x42c9fd(0x1fb)][_0x42c9fd(0xe7)]);}async[a0_0x29b3b7(0x5da)](_0x864601){const _0x13c95b=a0_0x29b3b7;return await this['repository']['message'][_0x13c95b(0x61d)](_0x864601,this[_0x13c95b(0x1fb)][_0x13c95b(0xe7)]);}async[a0_0x29b3b7(0x525)](){const _0x47f008=a0_0x29b3b7;return this[_0x47f008(0x68f)][_0x47f008(0xf1)][_0x47f008(0x454)](this[_0x47f008(0x1fb)][_0x47f008(0xe7)]),this[_0x47f008(0x68f)][_0x47f008(0xf1)][_0x47f008(0x631)](this['instance'][_0x47f008(0xe7)]),this[_0x47f008(0x68f)]['chat'][_0x47f008(0x47c)](this[_0x47f008(0x1fb)][_0x47f008(0xe7)]),this[_0x47f008(0x68f)][_0x47f008(0xf1)][_0x47f008(0x3b8)](this[_0x47f008(0x1fb)]['wuid']),await this[_0x47f008(0x68f)][_0x47f008(0xf1)][_0x47f008(0x61d)]({'where':{}},this[_0x47f008(0x1fb)][_0x47f008(0xe7)]);}async[a0_0x29b3b7(0x4de)](_0xa6891c){const _0x22ec84=a0_0x29b3b7;try{if(!Array[_0x22ec84(0x4b7)](_0xa6891c)||_0xa6891c[_0x22ec84(0x761)]===0x0)throw new Error(_0x22ec84(0x598));let _0x26d051=[],_0x53641c=[];for(let _0x1df3eb of _0xa6891c){if(_0x1df3eb[_0x22ec84(0x6a7)])_0x1df3eb['_id']=this[_0x22ec84(0x365)](_0x1df3eb[_0x22ec84(0x6a7)]);else continue;await this[_0x22ec84(0x68f)][_0x22ec84(0xf1)][_0x22ec84(0x3b0)]({'where':{'_id':_0x1df3eb[_0x22ec84(0x6a7)]}},this['instance']['wuid'])?_0x53641c[_0x22ec84(0x343)]({'_id':_0x1df3eb[_0x22ec84(0x6a7)],'leadInfo':_0x1df3eb['leadInfo'],'owner':this[_0x22ec84(0x1fb)][_0x22ec84(0xe7)]}):_0x26d051['push']({'_id':_0x1df3eb['_id'],'owner':this[_0x22ec84(0x1fb)][_0x22ec84(0xe7)],'leadInfo':_0x1df3eb[_0x22ec84(0x1a0)],'imported':!0x0});}return _0x53641c[_0x22ec84(0x761)]>0x0&&await this['repository'][_0x22ec84(0xf1)][_0x22ec84(0x398)](_0x53641c[_0x22ec84(0x40d)](_0x2fc04b=>({'query':{'where':{'_id':_0x2fc04b[_0x22ec84(0x6a7)],'owner':this[_0x22ec84(0x1fb)][_0x22ec84(0xe7)]}},'update':_0x2fc04b}))),_0x26d051[_0x22ec84(0x761)]>0x0&&await this[_0x22ec84(0x68f)][_0x22ec84(0xf1)][_0x22ec84(0x29b)](_0x26d051,this['instance'][_0x22ec84(0xe7)]),{'updated':_0x53641c[_0x22ec84(0x761)],'inserted':_0x26d051[_0x22ec84(0x761)]};}catch(_0x381eb9){let _0x834b7=_0x22ec84(0x3b9),_0x30113e=_0x381eb9 instanceof Error?_0x381eb9[_0x22ec84(0x780)]:typeof _0x381eb9==_0x22ec84(0x320)?JSON[_0x22ec84(0xfe)](_0x381eb9):_0x381eb9,_0x2d2e07=_0x834b7+':\x20'+_0x30113e;throw this[_0x22ec84(0x1be)][_0x22ec84(0x60d)](this[_0x22ec84(0x770)]+'\x20('+this[_0x22ec84(0x1fb)][_0x22ec84(0xe7)]+_0x22ec84(0x1e5)+_0x2d2e07),new m(_0x2d2e07);}}async[a0_0x29b3b7(0x59f)](_0x4ab095){const _0x2c87c8=a0_0x29b3b7;try{if(!Array[_0x2c87c8(0x4b7)](_0x4ab095)||_0x4ab095[_0x2c87c8(0x761)]===0x0)throw new Error(_0x2c87c8(0x598));let _0x49cb02=0x64,_0x5bd3ef=0x0;for(let _0x913f00=0x0;_0x913f00<_0x4ab095[_0x2c87c8(0x761)];_0x913f00+=_0x49cb02){let _0x3af1a1=_0x4ab095[_0x2c87c8(0x754)](_0x913f00,_0x913f00+_0x49cb02),{updated:_0x1c8186}=await this[_0x2c87c8(0x52c)](_0x3af1a1);_0x5bd3ef+=_0x1c8186;}return{'updated':_0x5bd3ef};}catch(_0x481b10){let _0x37a9d9=_0x2c87c8(0x3b9),_0x1f2304=_0x481b10 instanceof Error?_0x481b10[_0x2c87c8(0x780)]:typeof _0x481b10==_0x2c87c8(0x320)?JSON[_0x2c87c8(0xfe)](_0x481b10):_0x481b10,_0x247baf=_0x37a9d9+':\x20'+_0x1f2304;throw this[_0x2c87c8(0x1be)]['error'](this['instanceName']+'\x20('+this[_0x2c87c8(0x1fb)][_0x2c87c8(0xe7)]+_0x2c87c8(0x1e5)+_0x247baf),new m(_0x247baf);}}async[a0_0x29b3b7(0x52c)](_0x4d1d25){const _0x47d59a=a0_0x29b3b7;try{let _0x42dc82=await this['repository']['label'][_0x47d59a(0x61d)]({'where':{}},this['instance'][_0x47d59a(0xe7)]),_0x5ac10d=new Set(_0x42dc82[_0x47d59a(0x40d)](_0x456f73=>_0x456f73[_0x47d59a(0x6a7)])),_0x3164ff=[],_0x46f243=[];for(let _0x4c1b9f of _0x4d1d25){if(!_0x4c1b9f[_0x47d59a(0x6a7)])continue;_0x4c1b9f['_id']=this[_0x47d59a(0x365)](_0x4c1b9f[_0x47d59a(0x6a7)]);let _0x884174=await this[_0x47d59a(0x68f)]['chat']['findOne']({'where':{'_id':_0x4c1b9f[_0x47d59a(0x6a7)]}},this[_0x47d59a(0x1fb)][_0x47d59a(0xe7)]),_0x3c76f4={};if(Object[_0x47d59a(0x6ee)](_0x4c1b9f[_0x47d59a(0x1a0)])['forEach'](([_0xf39508,_0x51f1ce])=>{const _0x3637c9=_0x47d59a;_0x3c76f4[_0x3637c9(0x4e1)+_0xf39508]=_0x51f1ce;}),_0x884174&&!_0x884174[_0x47d59a(0x1df)]){let _0x2168cb=(_0x4c1b9f[_0x47d59a(0x1a0)][_0x47d59a(0x445)]||[])['filter'](_0x3732f7=>_0x5ac10d[_0x47d59a(0x38f)](_0x3732f7)),_0x2e3f77=new Set(_0x884174['leadInfo'][_0x47d59a(0x445)]||[]),_0x3f65cc=_0x2168cb[_0x47d59a(0x19c)](_0x463621=>!_0x2e3f77[_0x47d59a(0x38f)](_0x463621)),_0xbcc0db=[..._0x2e3f77]['filter'](_0x580acf=>!_0x2168cb['includes'](_0x580acf));_0x46f243[_0x47d59a(0x343)](..._0x3f65cc[_0x47d59a(0x40d)](_0x36bbd8=>this[_0x47d59a(0x6be)](_0x36bbd8,_0x4c1b9f[_0x47d59a(0x6a7)]))),_0x46f243[_0x47d59a(0x343)](..._0xbcc0db[_0x47d59a(0x40d)](_0x20b9ea=>this[_0x47d59a(0x618)](_0x20b9ea,_0x4c1b9f[_0x47d59a(0x6a7)]))),_0x4c1b9f[_0x47d59a(0x1a0)]['etiquetas']=_0x2168cb,_0x3164ff['push']({'query':{'where':{'_id':_0x4c1b9f['_id'],'owner':this[_0x47d59a(0x1fb)][_0x47d59a(0xe7)]}},'update':_0x3c76f4});}else _0x3c76f4['imported']=!0x0,_0x3164ff[_0x47d59a(0x343)]({'query':{'where':{'_id':_0x4c1b9f[_0x47d59a(0x6a7)],'owner':this['instance'][_0x47d59a(0xe7)]}},'update':_0x3c76f4});}let _0xf3c063=await this[_0x47d59a(0x68f)]['chat'][_0x47d59a(0x398)](_0x3164ff);return await Promise[_0x47d59a(0x357)](_0x46f243),{'updated':_0xf3c063};}catch(_0x4bdc45){let _0x2cb00d=_0x47d59a(0x3b9),_0x11b399=_0x4bdc45 instanceof Error?_0x4bdc45[_0x47d59a(0x780)]:typeof _0x4bdc45=='object'?JSON[_0x47d59a(0xfe)](_0x4bdc45):_0x4bdc45,_0x302b95=_0x2cb00d+':\x20'+_0x11b399;throw this[_0x47d59a(0x1be)][_0x47d59a(0x60d)](this[_0x47d59a(0x770)]+'\x20('+this[_0x47d59a(0x1fb)]['wuid']+_0x47d59a(0x1e5)+_0x302b95),new m(_0x302b95);}}async[a0_0x29b3b7(0x56a)](){const _0x412080=a0_0x29b3b7;return await this['client'][_0x412080(0x56a)]();}async[a0_0x29b3b7(0x318)](_0x46e2d8){const _0x482c67=a0_0x29b3b7;try{return await this['client'][_0x482c67(0x5dc)](_0x46e2d8[_0x482c67(0x789)][_0x482c67(0x366)]),await this['client'][_0x482c67(0x739)](_0x46e2d8[_0x482c67(0x789)][_0x482c67(0x1bc)]),await this[_0x482c67(0x372)][_0x482c67(0x73a)](_0x46e2d8[_0x482c67(0x789)][_0x482c67(0x59d)]),await this[_0x482c67(0x372)]['updateOnlinePrivacy'](_0x46e2d8[_0x482c67(0x789)][_0x482c67(0x57a)]),await this['client'][_0x482c67(0x3d1)](_0x46e2d8[_0x482c67(0x789)]['last']),await this[_0x482c67(0x372)][_0x482c67(0x65b)](_0x46e2d8[_0x482c67(0x789)][_0x482c67(0x2c9)]),this['client']?.['ws']?.[_0x482c67(0x10a)](),{'update':_0x482c67(0x67f),'data':{'readreceipts':_0x46e2d8[_0x482c67(0x789)][_0x482c67(0x366)],'profile':_0x46e2d8['privacySettings'][_0x482c67(0x1bc)],'status':_0x46e2d8[_0x482c67(0x789)]['status'],'online':_0x46e2d8['privacySettings'][_0x482c67(0x57a)],'last':_0x46e2d8[_0x482c67(0x789)][_0x482c67(0x166)],'groupadd':_0x46e2d8[_0x482c67(0x789)]['groupadd']}};}catch(_0x988926){let _0x246fa6=_0x482c67(0x5a4),_0x45f2a0=_0x988926 instanceof Error?_0x988926[_0x482c67(0x780)]:typeof _0x988926=='object'?JSON[_0x482c67(0xfe)](_0x988926):_0x988926,_0x463de0=_0x246fa6+':\x20'+_0x45f2a0;throw this[_0x482c67(0x1be)][_0x482c67(0x60d)](this[_0x482c67(0x770)]+'\x20('+this[_0x482c67(0x1fb)][_0x482c67(0xe7)]+_0x482c67(0x1e5)+_0x463de0),new m(_0x463de0);}}async[a0_0x29b3b7(0x26b)](_0x57c077){const _0x357403=a0_0x29b3b7;let _0x1d9254=(_0x57c077?this['createJid'](_0x57c077):this['client']?.[_0x357403(0x34d)]?.['id'])[_0x357403(0x3b1)](/:\d{1,2}@/g,'@');this[_0x357403(0x1be)][_0x357403(0x7a1)](_0x357403(0x2c7)+_0x1d9254);let _0x10b185=await this[_0x357403(0x68f)][_0x357403(0x15f)][_0x357403(0x3b0)]({'where':{'_id':_0x1d9254}},this[_0x357403(0x1fb)]['wuid']),_0x6f1d12=_0x10b185?_0x10b185['pushName']:null;try{let _0x49b083=(await this[_0x357403(0x580)]({'numbers':[_0x1d9254]}))?.[_0x357403(0x4e9)](),_0x53e51e=(await this[_0x357403(0x1e6)](_0x1d9254,null,!0x1))['cachedContact'][_0x357403(0x52f)],_0xb7be69=await this[_0x357403(0x661)](_0x49b083?.[_0x357403(0x31d)]),_0x1e28ea=await this[_0x357403(0x109)](_0x49b083?.[_0x357403(0x31d)]),_0x3efea5=(await this[_0x357403(0x1e6)](_0x1d9254,null,!0x1))['cachedContact'][_0x357403(0x438)],_0x2448cc=await this[_0x357403(0x68f)]['chat'][_0x357403(0x3b0)]({'where':{'_id':_0x1d9254}},this[_0x357403(0x1fb)][_0x357403(0xe7)]),_0x1e5e33={'imagechat':_0x53e51e,'contactname':_0x6f1d12||null,'pushName':_0x3efea5,'status':_0xb7be69?.[_0x357403(0x59d)],'isBusiness':_0x1e28ea[_0x357403(0x208)],'email':_0x1e28ea?.[_0x357403(0x10d)],'description':_0x1e28ea?.[_0x357403(0x13a)],'website':_0x1e28ea?.[_0x357403(0x2c4)]?.[_0x357403(0x4e9)](),'lastcache':Date[_0x357403(0x5aa)](),'imported':!_0x2448cc},_0x11dd4e=await this[_0x357403(0x68f)][_0x357403(0xf1)]['updateOne']({'where':{'_id':_0x1d9254}},_0x1e5e33,this['instance']['wuid']),_0x333d44={'owner':this[_0x357403(0x1fb)][_0x357403(0xe7)],'_id':_0x1d9254,'profilePictureUrl':_0x53e51e,'status':_0xb7be69?.[_0x357403(0x59d)]};return this[_0x357403(0x68f)][_0x357403(0x15f)][_0x357403(0x5ca)]([_0x333d44],this[_0x357403(0x1fb)][_0x357403(0xe7)]),_0x11dd4e&&J(this[_0x357403(0x770)],_0x357403(0x61e),{'chat':_0x11dd4e}),{'wuid':_0x49b083?.[_0x357403(0x31d)]||_0x1d9254,'name':_0x49b083?.[_0x357403(0x438)],'pushName':_0x3efea5,'numberExists':_0x49b083?.[_0x357403(0x617)],'picture':_0x53e51e,'status':_0xb7be69?.[_0x357403(0x59d)],'isBusiness':_0x1e28ea['isBusiness'],'email':_0x1e28ea?.['email'],'description':_0x1e28ea?.[_0x357403(0x13a)],'website':_0x1e28ea?.[_0x357403(0x2c4)]?.['shift']()};}catch(_0x97222a){return this['logger'][_0x357403(0x60d)](_0x357403(0x627)+(_0x97222a instanceof Error?_0x97222a[_0x357403(0x780)]:JSON[_0x357403(0xfe)](_0x97222a,null,0x2))),{};}}async[a0_0x29b3b7(0x109)](_0x118bfe){const _0x4a6316=a0_0x29b3b7;this['logger'][_0x4a6316(0x7a1)]('Fetching\x20business\x20profile');try{let _0x4b3430=_0x118bfe?this[_0x4a6316(0x365)](_0x118bfe):this['instance'][_0x4a6316(0xe7)],_0x8928b1=await this['client'][_0x4a6316(0x41d)](_0x4b3430);return this[_0x4a6316(0x1be)][_0x4a6316(0x7a1)](_0x4a6316(0x4fa)),_0x8928b1?(this[_0x4a6316(0x1be)]['verbose'](_0x4a6316(0x6ca)),{'isBusiness':!0x0,..._0x8928b1}):{'isBusiness':!0x1,'message':_0x4a6316(0x3ab),...(await this[_0x4a6316(0x580)]({'numbers':[_0x4b3430]}))?.[_0x4a6316(0x4e9)]()};}catch(_0x4d7a05){let _0x58b304=_0x4a6316(0x579),_0x8a3725=_0x4d7a05 instanceof Error?_0x4d7a05[_0x4a6316(0x780)]:typeof _0x4d7a05==_0x4a6316(0x320)?JSON[_0x4a6316(0xfe)](_0x4d7a05):_0x4d7a05,_0x3ebedf=_0x58b304+':\x20'+_0x8a3725;throw this['logger'][_0x4a6316(0x60d)](this[_0x4a6316(0x770)]+'\x20('+this[_0x4a6316(0x1fb)][_0x4a6316(0xe7)]+_0x4a6316(0x1e5)+_0x3ebedf),new I(_0x3ebedf);}}async[a0_0x29b3b7(0x661)](_0x5cae4f){const _0x2a40ad=a0_0x29b3b7;let _0x1aefc0=this[_0x2a40ad(0x365)](_0x5cae4f);try{return{'wuid':_0x1aefc0,'status':(await this[_0x2a40ad(0x372)][_0x2a40ad(0x53d)](_0x1aefc0))?.[_0x2a40ad(0x59d)]};}catch{return{'wuid':_0x1aefc0,'status':null};}}async[a0_0x29b3b7(0x3c2)](_0x305743){const _0x557e20=a0_0x29b3b7;try{return await this['client']['updateProfileName'](_0x305743),{'update':_0x557e20(0x67f)};}catch(_0xeceb50){let _0x44e1d1=_0x557e20(0x4e7),_0x1932c1=_0xeceb50 instanceof Error?_0xeceb50['message']:typeof _0xeceb50=='object'?JSON[_0x557e20(0xfe)](_0xeceb50):_0xeceb50,_0x3f46fc=_0x44e1d1+':\x20'+_0x1932c1;throw this['logger'][_0x557e20(0x60d)](this[_0x557e20(0x770)]+'\x20('+this[_0x557e20(0x1fb)]['wuid']+_0x557e20(0x1e5)+_0x3f46fc),new I(_0x3f46fc);}}async['updateProfileStatus'](_0x42ab73){const _0x21d839=a0_0x29b3b7;try{return await this['client']['updateProfileStatus'](_0x42ab73),{'update':_0x21d839(0x67f)};}catch(_0x2edb1f){let _0x1118a5=_0x21d839(0x120),_0x5bef1e=_0x2edb1f instanceof Error?_0x2edb1f[_0x21d839(0x780)]:typeof _0x2edb1f==_0x21d839(0x320)?JSON[_0x21d839(0xfe)](_0x2edb1f):_0x2edb1f,_0x695520=_0x1118a5+':\x20'+_0x5bef1e;throw this[_0x21d839(0x1be)][_0x21d839(0x60d)](this[_0x21d839(0x770)]+'\x20('+this[_0x21d839(0x1fb)]['wuid']+_0x21d839(0x1e5)+_0x695520),new I(_0x695520);}}async[a0_0x29b3b7(0x7b5)](_0x120d1e){const _0x2f7e52=a0_0x29b3b7;try{let _0x5233b2;if((0x0,P[_0x2f7e52(0x6b1)])(_0x120d1e)){let _0x594951=new Date()['getTime'](),_0x3f7508=_0x120d1e+_0x2f7e52(0x557)+_0x594951;_0x5233b2=(await K[_0x2f7e52(0x282)][_0x2f7e52(0x1a1)](_0x3f7508,{'responseType':_0x2f7e52(0x5c3)}))['data'];}else{if((0x0,P['isBase64'])(_0x120d1e))_0x5233b2=Buffer[_0x2f7e52(0x12c)](_0x120d1e,_0x2f7e52(0x3a5));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x2f7e52(0x372)][_0x2f7e52(0x7b5)](this[_0x2f7e52(0x1fb)][_0x2f7e52(0xe7)],_0x5233b2),{'update':_0x2f7e52(0x67f)};}catch(_0x167ddf){let _0x126940=_0x2f7e52(0x3d6),_0x4d81b0=_0x167ddf instanceof Error?_0x167ddf[_0x2f7e52(0x780)]:typeof _0x167ddf==_0x2f7e52(0x320)?JSON[_0x2f7e52(0xfe)](_0x167ddf):_0x167ddf,_0x25a8ea=_0x126940+':\x20'+_0x4d81b0;throw this[_0x2f7e52(0x1be)][_0x2f7e52(0x60d)](this[_0x2f7e52(0x770)]+'\x20('+this[_0x2f7e52(0x1fb)][_0x2f7e52(0xe7)]+_0x2f7e52(0x1e5)+_0x25a8ea),new I(_0x25a8ea);}}async[a0_0x29b3b7(0x467)](){const _0xef8464=a0_0x29b3b7;try{return await this['client'][_0xef8464(0x467)](this[_0xef8464(0x1fb)][_0xef8464(0xe7)]),{'update':_0xef8464(0x67f)};}catch(_0x2769cd){let _0x3ddc4e=_0xef8464(0x15a),_0x3488be=_0x2769cd instanceof Error?_0x2769cd[_0xef8464(0x780)]:typeof _0x2769cd==_0xef8464(0x320)?JSON['stringify'](_0x2769cd):_0x2769cd,_0x3790f7=_0x3ddc4e+':\x20'+_0x3488be;throw this[_0xef8464(0x1be)][_0xef8464(0x60d)](this['instanceName']+'\x20('+this[_0xef8464(0x1fb)][_0xef8464(0xe7)]+_0xef8464(0x1e5)+_0x3790f7),new I(_0x3790f7);}}async[a0_0x29b3b7(0x13b)](_0x27e036){const _0xb99156=a0_0x29b3b7;try{let _0x501159=(await this['whatsappNumber']({'numbers':_0x27e036['participants']}))['filter'](_0x1de75f=>_0x1de75f[_0xb99156(0x617)])[_0xb99156(0x40d)](_0x57b23e=>_0x57b23e['jid']),{id:_0xbe98d1}=await this[_0xb99156(0x372)][_0xb99156(0x27e)](_0x27e036['subject'],_0x501159);return _0x27e036?.[_0xb99156(0x13a)]&&await this[_0xb99156(0x372)]['groupUpdateDescription'](_0xbe98d1,_0x27e036[_0xb99156(0x13a)]),{'metadata':await this[_0xb99156(0x372)][_0xb99156(0x5ba)](_0xbe98d1)};}catch(_0x1df52c){let _0x1dd633=_0xb99156(0x5ad),_0x220c27=_0x1df52c instanceof Error?_0x1df52c[_0xb99156(0x780)]:typeof _0x1df52c==_0xb99156(0x320)?JSON[_0xb99156(0xfe)](_0x1df52c):_0x1df52c,_0x4099a8=_0x1dd633+':\x20'+_0x220c27;throw this['logger'][_0xb99156(0x60d)](this[_0xb99156(0x770)]+'\x20('+this[_0xb99156(0x1fb)][_0xb99156(0xe7)]+_0xb99156(0x1e5)+_0x4099a8),new I(_0x4099a8);}}async[a0_0x29b3b7(0x5c8)](_0x9e09c3){const _0x13b9a5=a0_0x29b3b7;try{let _0x348f7a;if((0x0,P['isURL'])(_0x9e09c3[_0x13b9a5(0x2b9)])){let _0x454812=new Date()[_0x13b9a5(0x3e0)](),_0x4aafd5=_0x9e09c3[_0x13b9a5(0x2b9)]+'?timestamp='+_0x454812;_0x348f7a=(await K[_0x13b9a5(0x282)]['get'](_0x4aafd5,{'responseType':_0x13b9a5(0x5c3)}))[_0x13b9a5(0x2eb)];}else{if((0x0,P[_0x13b9a5(0x6f9)])(_0x9e09c3[_0x13b9a5(0x2b9)]))_0x348f7a=Buffer['from'](_0x9e09c3['image'],_0x13b9a5(0x3a5));else throw new m(_0x13b9a5(0x12b));}return await this[_0x13b9a5(0x372)][_0x13b9a5(0x7b5)](_0x9e09c3['groupJid'],_0x348f7a),{'update':'success'};}catch(_0x558b97){let _0x2ac795=_0x13b9a5(0x752),_0x33f3a0=_0x558b97 instanceof Error?_0x558b97[_0x13b9a5(0x780)]:typeof _0x558b97==_0x13b9a5(0x320)?JSON['stringify'](_0x558b97):_0x558b97,_0x4f6e31=_0x2ac795+':\x20'+_0x33f3a0;throw this[_0x13b9a5(0x1be)][_0x13b9a5(0x60d)](this[_0x13b9a5(0x770)]+'\x20('+this[_0x13b9a5(0x1fb)][_0x13b9a5(0xe7)]+_0x13b9a5(0x1e5)+_0x4f6e31),new I(_0x4f6e31);}}async[a0_0x29b3b7(0x7b4)](_0x41f216){const _0xbe5504=a0_0x29b3b7;try{return await this['client'][_0xbe5504(0x595)](_0x41f216[_0xbe5504(0x546)],_0x41f216[_0xbe5504(0x13a)]),{'update':'success'};}catch(_0x41b2a7){let _0x35a46b='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc',_0x5c2975=_0x41b2a7 instanceof Error?_0x41b2a7[_0xbe5504(0x780)]:typeof _0x41b2a7=='object'?JSON[_0xbe5504(0xfe)](_0x41b2a7):_0x41b2a7,_0x4ef507=_0x35a46b+':\x20'+_0x5c2975;throw this[_0xbe5504(0x1be)][_0xbe5504(0x60d)](this[_0xbe5504(0x770)]+'\x20('+this[_0xbe5504(0x1fb)]['wuid']+_0xbe5504(0x1e5)+_0x4ef507),new I(_0x4ef507);}}async[a0_0x29b3b7(0x25a)](_0x334f86){const _0x3b3f7f=a0_0x29b3b7;try{return await this[_0x3b3f7f(0x372)][_0x3b3f7f(0x7b7)](_0x334f86['groupJid'],_0x334f86[_0x3b3f7f(0x438)]),{'update':_0x3b3f7f(0x67f)};}catch(_0x2ac517){let _0x363541=_0x3b3f7f(0x2a2),_0x5a4e3a=_0x2ac517 instanceof Error?_0x2ac517[_0x3b3f7f(0x780)]:typeof _0x2ac517==_0x3b3f7f(0x320)?JSON[_0x3b3f7f(0xfe)](_0x2ac517):_0x2ac517,_0x2937f4=_0x363541+':\x20'+_0x5a4e3a;throw this['logger'][_0x3b3f7f(0x60d)](this[_0x3b3f7f(0x770)]+'\x20('+this['instance']['wuid']+_0x3b3f7f(0x1e5)+_0x2937f4),new I(_0x2937f4);}}async[a0_0x29b3b7(0x152)](_0x19b8e0){const _0x1509e7=a0_0x29b3b7;try{let _0x21170b=await this[_0x1509e7(0x372)][_0x1509e7(0x38a)](_0x19b8e0[_0x1509e7(0x546)],_0x19b8e0[_0x1509e7(0x457)]);return{'success':!0x0};}catch(_0x37c50a){let _0x14ca98=_0x1509e7(0x3bd),_0x3495a6=_0x37c50a instanceof Error?_0x37c50a['message']:typeof _0x37c50a=='object'?JSON[_0x1509e7(0xfe)](_0x37c50a):_0x37c50a,_0x12ec2e=_0x14ca98+':\x20'+_0x3495a6;throw this[_0x1509e7(0x1be)][_0x1509e7(0x60d)](this['instanceName']+'\x20('+this[_0x1509e7(0x1fb)]['wuid']+_0x1509e7(0x1e5)+_0x12ec2e),new I(_0x12ec2e);}}async[a0_0x29b3b7(0x6b4)](_0x3d7cd5){const _0x2eaae8=a0_0x29b3b7;try{return await this[_0x2eaae8(0x372)][_0x2eaae8(0x3a4)](_0x3d7cd5[_0x2eaae8(0x546)],_0x3d7cd5[_0x2eaae8(0x6e2)]),{'update':_0x2eaae8(0x67f)};}catch(_0xd4d761){let _0x1bcde2=_0x2eaae8(0x463),_0x5f5cc8=_0xd4d761 instanceof Error?_0xd4d761[_0x2eaae8(0x780)]:typeof _0xd4d761=='object'?JSON[_0x2eaae8(0xfe)](_0xd4d761):_0xd4d761,_0x286bab=_0x1bcde2+':\x20'+_0x5f5cc8;throw this[_0x2eaae8(0x1be)][_0x2eaae8(0x60d)](this[_0x2eaae8(0x770)]+'\x20('+this[_0x2eaae8(0x1fb)]['wuid']+_0x2eaae8(0x1e5)+_0x286bab),new I(_0x286bab);}}async['groupBetterSetting'](_0xb9e209){const _0x1cd0e5=a0_0x29b3b7;try{if(_0xb9e209[_0x1cd0e5(0x3b4)]===!0x0&&await this['client'][_0x1cd0e5(0x3a4)](_0xb9e209[_0x1cd0e5(0x546)],_0x1cd0e5(0x68b)),_0xb9e209[_0x1cd0e5(0x3b4)]===!0x1&&await this['client']['groupSettingUpdate'](_0xb9e209[_0x1cd0e5(0x546)],'unlocked'),_0xb9e209['announce']===!0x0&&await this[_0x1cd0e5(0x372)][_0x1cd0e5(0x3a4)](_0xb9e209['groupJid'],'announcement'),_0xb9e209[_0x1cd0e5(0x4e2)]===!0x1&&await this['client'][_0x1cd0e5(0x3a4)](_0xb9e209[_0x1cd0e5(0x546)],_0x1cd0e5(0x42d)),_0xb9e209[_0x1cd0e5(0x64c)]===!0x0&&await this[_0x1cd0e5(0x372)][_0x1cd0e5(0x2a0)](_0xb9e209[_0x1cd0e5(0x546)],_0x1cd0e5(0xff)),_0xb9e209['memberAddMode']===!0x1&&await this['client']['groupMemberAddMode'](_0xb9e209[_0x1cd0e5(0x546)],'admin_add'),_0xb9e209[_0x1cd0e5(0x3cc)]===!0x0&&await this[_0x1cd0e5(0x372)][_0x1cd0e5(0x2cc)](_0xb9e209[_0x1cd0e5(0x546)],'on'),_0xb9e209['joinApprovalMode']===!0x1&&await this[_0x1cd0e5(0x372)][_0x1cd0e5(0x2cc)](_0xb9e209['groupJid'],'off'),typeof _0xb9e209[_0x1cd0e5(0x457)]<'u'&&_0xb9e209['expiration']!==null&&await this['client']['groupToggleEphemeral'](_0xb9e209[_0x1cd0e5(0x546)],_0xb9e209[_0x1cd0e5(0x457)]),_0xb9e209[_0x1cd0e5(0x438)]&&await this[_0x1cd0e5(0x372)][_0x1cd0e5(0x7b7)](_0xb9e209['groupJid'],_0xb9e209['name']),_0xb9e209['description']&&await this['client'][_0x1cd0e5(0x595)](_0xb9e209[_0x1cd0e5(0x546)],_0xb9e209[_0x1cd0e5(0x13a)]),_0xb9e209['image']){let _0xcf9111;if((0x0,P[_0x1cd0e5(0x6b1)])(_0xb9e209['image'])){let _0x2e46b1=new Date()[_0x1cd0e5(0x3e0)](),_0x46cb3a=_0xb9e209[_0x1cd0e5(0x2b9)]+'?timestamp='+_0x2e46b1;_0xcf9111=(await K[_0x1cd0e5(0x282)][_0x1cd0e5(0x1a1)](_0x46cb3a,{'responseType':_0x1cd0e5(0x5c3)}))['data'];}else{if((0x0,P[_0x1cd0e5(0x6f9)])(_0xb9e209[_0x1cd0e5(0x2b9)]))_0xcf9111=Buffer[_0x1cd0e5(0x12c)](_0xb9e209[_0x1cd0e5(0x2b9)],_0x1cd0e5(0x3a5));else throw new m(_0x1cd0e5(0x12b));}await this[_0x1cd0e5(0x372)][_0x1cd0e5(0x7b5)](_0xb9e209[_0x1cd0e5(0x546)],_0xcf9111);}return await this['findGroup']({'groupJid':_0xb9e209['groupJid']});}catch(_0x4c4d75){let _0x19ae02='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting',_0x107544=_0x4c4d75 instanceof Error?_0x4c4d75['message']:typeof _0x4c4d75==_0x1cd0e5(0x320)?JSON[_0x1cd0e5(0xfe)](_0x4c4d75):_0x4c4d75,_0x13da10=_0x19ae02+':\x20'+_0x107544;throw this[_0x1cd0e5(0x1be)][_0x1cd0e5(0x60d)](this[_0x1cd0e5(0x770)]+'\x20('+this[_0x1cd0e5(0x1fb)]['wuid']+_0x1cd0e5(0x1e5)+_0x13da10),new I(_0x13da10);}}async[a0_0x29b3b7(0x5f6)](_0x192164){const _0x219731=a0_0x29b3b7;try{if(_0x192164[_0x219731(0x5e5)]==='approve'||_0x192164['action']==='reject'){let _0x1bb20a=_0x192164['participants'][_0x219731(0x40d)](_0x53fbb4=>this[_0x219731(0x365)](_0x53fbb4));await this['client']['groupRequestParticipantsUpdate'](_0x192164[_0x219731(0x546)],_0x1bb20a,_0x192164['action']);}else{if(_0x192164['action']==='add'){let _0x58b3f3=(await this['whatsappNumber']({'numbers':_0x192164[_0x219731(0x1cd)]}))[_0x219731(0x19c)](_0x456088=>_0x456088[_0x219731(0x617)])[_0x219731(0x40d)](_0x161e09=>this[_0x219731(0x365)](_0x161e09[_0x219731(0x31d)]));if(_0x58b3f3['length']===0x0)throw new m('Nenhum\x20participante\x20válido\x20encontrado.');await this[_0x219731(0x372)][_0x219731(0x1d0)](_0x192164[_0x219731(0x546)],_0x58b3f3,'add');}else{let _0x3302a3=_0x192164['participants']['map'](_0x306ab1=>this[_0x219731(0x365)](_0x306ab1));await this[_0x219731(0x372)][_0x219731(0x1d0)](_0x192164[_0x219731(0x546)],_0x3302a3,_0x192164['action']);}}return await this['findGroup']({'groupJid':_0x192164[_0x219731(0x546)]});}catch(_0x51ff3c){let _0x182e3a=_0x219731(0x76b),_0x5a0677=_0x51ff3c instanceof Error?_0x51ff3c[_0x219731(0x780)]:typeof _0x51ff3c==_0x219731(0x320)?JSON['stringify'](_0x51ff3c):_0x51ff3c,_0x30e754=_0x182e3a+':\x20'+_0x5a0677;throw this[_0x219731(0x1be)]['error'](this[_0x219731(0x770)]+'\x20('+this[_0x219731(0x1fb)][_0x219731(0xe7)]+_0x219731(0x1e5)+_0x30e754),new m(_0x30e754);}}async[a0_0x29b3b7(0x59c)](_0x4b5ac3){const _0x146557=a0_0x29b3b7;try{return await this[_0x146557(0x372)]['groupGetInviteInfo'](_0x4b5ac3[_0x146557(0x448)]);}catch(_0x10777e){let _0x3101b5='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo',_0x17251b=_0x10777e instanceof Error?_0x10777e[_0x146557(0x780)]:typeof _0x10777e==_0x146557(0x320)?JSON['stringify'](_0x10777e):_0x10777e,_0x590513=_0x3101b5+':\x20'+_0x17251b;throw this[_0x146557(0x1be)][_0x146557(0x60d)](this[_0x146557(0x770)]+'\x20('+this[_0x146557(0x1fb)][_0x146557(0xe7)]+_0x146557(0x1e5)+_0x590513),new m(_0x590513);}}async[a0_0x29b3b7(0x5d3)](_0x448817,_0x5bcc30=a0_0x29b3b7(0x3d7)){const _0x233175=a0_0x29b3b7;try{let _0xc1d13f=await this[_0x233175(0x68f)][_0x233175(0xf1)]['findOne']({'where':{'_id':_0x448817['groupJid']}},this[_0x233175(0x1fb)][_0x233175(0xe7)]),_0x102975=_0xc1d13f?_0xc1d13f[_0x233175(0x524)]:null,_0x200d4d=0x18*0x3c*0x3c*0x3e8;if(!_0x102975||_0x102975['lastUpdate']&&Date[_0x233175(0x5aa)]()-_0x102975['lastUpdate']>_0x200d4d){let _0x31f4a8=await this['client'][_0x233175(0x5ba)](_0x448817[_0x233175(0x546)]);if(_0x31f4a8[_0x233175(0xe3)]=_0x31f4a8?.[_0x233175(0xe3)]&&_0x31f4a8[_0x233175(0xe3)][_0x233175(0x4a2)]()[_0x233175(0x761)]<0xd?_0x31f4a8?.[_0x233175(0xe3)]*0x3e8:_0x31f4a8?.[_0x233175(0xe3)]||null,_0x31f4a8['creation']=_0x31f4a8?.[_0x233175(0x369)]&&_0x31f4a8[_0x233175(0x369)][_0x233175(0x4a2)]()[_0x233175(0x761)]<0xd?_0x31f4a8?.['creation']*0x3e8:_0x31f4a8?.[_0x233175(0x369)]||null,_0x102975={..._0x31f4a8,'lastUpdate':Date[_0x233175(0x5aa)]()},!_0x31f4a8)return;}let _0x1b054c=_0x102975[_0x233175(0x1cd)][_0x233175(0x179)](_0x305e7e=>_0x305e7e['id']===this[_0x233175(0x1fb)][_0x233175(0xe7)]+_0x233175(0x3be)&&_0x305e7e[_0x233175(0x592)]!=null);!_0x102975[_0x233175(0x448)]&&_0x1b054c&&(_0x102975[_0x233175(0x448)]=(await this['inviteCode'](_0x448817,!0x1))[_0x233175(0x36e)]);let _0x4e9508=(!_0x102975[_0x233175(0x4e2)]||_0x1b054c)&&(!_0x102975[_0x233175(0x540)]||_0x102975[_0x233175(0x540)]&&_0x102975['isCommunityAnnounce']&&_0x1b054c);_0x102975[_0x233175(0x5f1)]=_0x1b054c,_0x102975[_0x233175(0x223)]=_0x4e9508;let _0x52798e=[];if(_0x1b054c&&_0x102975[_0x233175(0x3cc)])try{_0x52798e=await this['client'][_0x233175(0x5f5)](_0x448817[_0x233175(0x546)]),_0x102975[_0x233175(0x538)]=Date[_0x233175(0x5aa)]();}catch(_0x13c94d){this[_0x233175(0x1be)]['verbose'](this[_0x233175(0x770)]+'\x20('+this[_0x233175(0x1fb)][_0x233175(0xe7)]+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x448817['groupJid']+':\x20'+(_0x13c94d instanceof Error?_0x13c94d[_0x233175(0x780)]:JSON['stringify'](_0x13c94d,null,0x2)));}try{_0x102975['image']=(await this[_0x233175(0x1e6)](_0x448817[_0x233175(0x546)],null,!0x0))[_0x233175(0x601)][_0x233175(0x52f)];}catch(_0xcaa486){this[_0x233175(0x1be)]['verbose'](this[_0x233175(0x770)]+'\x20('+this[_0x233175(0x1fb)][_0x233175(0xe7)]+_0x233175(0x55b)+_0x448817[_0x233175(0x546)]+':\x20'+(_0xcaa486 instanceof Error?_0xcaa486['message']:JSON['stringify'](_0xcaa486,null,0x2)));}let _0x7fa32=_0x102975[_0x233175(0x1cd)]['map'](_0x1fa95e=>_0x1fa95e['id']),_0x5ad5bf=_0x52798e[_0x233175(0x40d)](_0x5b3991=>_0x5b3991[_0x233175(0x31d)]),_0x36efd5=await this[_0x233175(0x68f)][_0x233175(0x313)][_0x233175(0x669)]([..._0x7fa32,..._0x5ad5bf]);_0x102975[_0x233175(0x1cd)]=_0x102975[_0x233175(0x1cd)][_0x233175(0x40d)](_0x526eec=>{const _0x3fa23b=_0x233175;let _0x388b1e=_0x36efd5['find'](_0x33b4e2=>_0x33b4e2[_0x3fa23b(0x6a7)]===_0x526eec['id']);return{'id':_0x526eec['id'],'isAdmin':[_0x3fa23b(0x592),_0x3fa23b(0x719)][_0x3fa23b(0x58d)](_0x526eec[_0x3fa23b(0x592)]),'admin':_0x526eec[_0x3fa23b(0x592)],'pushName':_0x388b1e?.[_0x3fa23b(0x438)],'profilePictureUrl':_0x388b1e?.[_0x3fa23b(0x52f)]};}),_0x102975[_0x233175(0x737)]=_0x52798e['map'](_0x233f0b=>{const _0x106f9b=_0x233175;let _0x179ac0=_0x36efd5[_0x106f9b(0x61d)](_0x346561=>_0x346561[_0x106f9b(0x6a7)]===_0x233f0b[_0x106f9b(0x31d)]);return{'id':_0x233f0b[_0x106f9b(0x31d)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x179ac0?.['name'],'profilePictureUrl':_0x179ac0?.[_0x106f9b(0x52f)],'request_method':_0x233f0b[_0x106f9b(0x7c8)],'request_time':_0x233f0b[_0x106f9b(0x3db)]};});let _0x65e5d4=await this['repository'][_0x233175(0xf1)][_0x233175(0x7be)]({'where':{'_id':_0x448817[_0x233175(0x546)]}},{'imagechat':_0x102975[_0x233175(0x2b9)],'name':_0x102975['subject'],'lastcache':Date[_0x233175(0x5aa)](),'groupdata':_0x102975},this[_0x233175(0x1fb)][_0x233175(0xe7)]);return J(this[_0x233175(0x770)],_0x233175(0x61e),{'chat':_0x65e5d4}),{'metadata':_0x102975};}catch(_0x27a89b){if(_0x5bcc30===_0x233175(0x6f0))return;throw new U('Error\x20fetching\x20group',_0x27a89b[_0x233175(0x780)]['toString']());}}async[a0_0x29b3b7(0x734)](){const _0x4ad3a3=a0_0x29b3b7;try{let _0x5f49f7=[],_0x17312c=await this['client'][_0x4ad3a3(0x4b2)](),_0x20ed0e=Object[_0x4ad3a3(0x103)](_0x17312c),_0x5743f8=_0x20ed0e['filter'](_0x3eb21e=>(0x0,f['isJidGroup'])(_0x3eb21e?.['id']))['map'](async _0x1cba36=>{const _0x55cffc=_0x4ad3a3;try{return await this[_0x55cffc(0x372)][_0x55cffc(0x507)](_0x1cba36['id'],'preview');}catch(_0x146bbf){return this[_0x55cffc(0x1be)][_0x55cffc(0x7a1)](this[_0x55cffc(0x770)]+'\x20('+this[_0x55cffc(0x1fb)][_0x55cffc(0xe7)]+_0x55cffc(0x55b)+_0x1cba36['id']+':\x20'+(_0x146bbf instanceof Error?_0x146bbf[_0x55cffc(0x780)]:JSON['stringify'](_0x146bbf,null,0x2))),null;}}),_0xf9ae57=await Promise[_0x4ad3a3(0x357)](_0x5743f8);for(let _0x55f01e=0x0;_0x55f01e<_0x20ed0e[_0x4ad3a3(0x761)];_0x55f01e++){let _0x34ad7d=_0x20ed0e[_0x55f01e];(0x0,f[_0x4ad3a3(0x256)])(_0x34ad7d?.['id'])&&(_0x5f49f7['push']({'groupJid':_0x34ad7d?.['id'],'subject':_0x34ad7d?.[_0x4ad3a3(0x607)],'subjectOwner':_0x34ad7d?.[_0x4ad3a3(0x10c)]?.[_0x4ad3a3(0x355)]('@')[0x0],'subjectTime':_0x34ad7d?.[_0x4ad3a3(0xe3)],'creation':_0x34ad7d?.[_0x4ad3a3(0x369)],'size':_0x34ad7d?.['participants']?.['length'],'owner':_0x34ad7d?.[_0x4ad3a3(0x328)]?.[_0x4ad3a3(0x355)]('@')[0x0],'desc':_0x34ad7d?.[_0x4ad3a3(0x15d)],'restrict':_0x34ad7d?.[_0x4ad3a3(0x3b4)],'announce':_0x34ad7d?.[_0x4ad3a3(0x4e2)],'image':_0xf9ae57[_0x55f01e],'isCommunity':_0x34ad7d?.['isCommunity'],'joinApprovalMode':_0x34ad7d?.[_0x4ad3a3(0x3cc)],'memberCanAddParticipant':_0x34ad7d?.[_0x4ad3a3(0x64c)],'participants':_0x34ad7d?.['participants'],'descOwner':_0x34ad7d?.[_0x4ad3a3(0x24a)],'descId':_0x34ad7d?.[_0x4ad3a3(0x2ff)],'memberAddMode':_0x34ad7d?.[_0x4ad3a3(0x64c)],'isCommunityAnnounce':_0x34ad7d?.[_0x4ad3a3(0x5e2)],'ephemeralDuration':_0x34ad7d?.[_0x4ad3a3(0x70e)]||0x0,'author':_0x34ad7d?.[_0x4ad3a3(0x4dc)]}),this[_0x4ad3a3(0x4aa)](_0x20ed0e[_0x55f01e]));}return _0x5f49f7;}catch(_0x25bb0c){let _0x547043=_0x4ad3a3(0x766),_0x1556c0=_0x25bb0c instanceof Error?_0x25bb0c[_0x4ad3a3(0x780)]:typeof _0x25bb0c=='object'?JSON['stringify'](_0x25bb0c):_0x25bb0c,_0x105cfe=_0x547043+':\x20'+_0x1556c0;throw this[_0x4ad3a3(0x1be)]['error'](this[_0x4ad3a3(0x770)]+'\x20('+this['instance'][_0x4ad3a3(0xe7)]+_0x4ad3a3(0x1e5)+_0x105cfe),new U(_0x105cfe);}}async['updateChatGroupData'](_0x35a97d){const _0xacb757=a0_0x29b3b7;let _0x36da2d=await this[_0xacb757(0x68f)][_0xacb757(0xf1)][_0xacb757(0x3b0)]({'where':{'_id':_0x35a97d['id']}},this[_0xacb757(0x1fb)][_0xacb757(0xe7)]);_0x35a97d[_0xacb757(0xe3)]=_0x35a97d?.[_0xacb757(0xe3)]&&_0x35a97d[_0xacb757(0xe3)]['toString']()[_0xacb757(0x761)]<0xd?_0x35a97d?.[_0xacb757(0xe3)]*0x3e8:_0x35a97d?.[_0xacb757(0xe3)]||null,_0x35a97d[_0xacb757(0x369)]=_0x35a97d?.[_0xacb757(0x369)]&&_0x35a97d[_0xacb757(0x369)][_0xacb757(0x4a2)]()[_0xacb757(0x761)]<0xd?_0x35a97d?.['creation']*0x3e8:_0x35a97d?.['creation']||null;let _0x3646da=_0x36da2d?.['groupdata']?.[_0xacb757(0x737)]||[],_0x4a6ac8=_0x36da2d?.['groupdata']?.[_0xacb757(0x538)],_0x5821a4=_0x35a97d[_0xacb757(0x1cd)][_0xacb757(0x40d)](_0x2b7b22=>{const _0x1dd3bb=_0xacb757;let _0x3bc881=_0x36da2d?.[_0x1dd3bb(0x524)]?.['participants'][_0x1dd3bb(0x61d)](_0xa0ffe9=>_0xa0ffe9['id']===_0x2b7b22['id']);return{..._0x2b7b22,'isAdmin':[_0x1dd3bb(0x592),'superadmin']['includes'](_0x2b7b22[_0x1dd3bb(0x592)]),'admin':_0x2b7b22[_0x1dd3bb(0x592)],'name':_0x3bc881?.[_0x1dd3bb(0x438)]||_0x2b7b22[_0x1dd3bb(0x438)],'imgUrl':_0x3bc881?.[_0x1dd3bb(0x13c)]||_0x2b7b22['imgUrl']};}),_0x581a96=_0x5821a4[_0xacb757(0x179)](_0x5a42ca=>_0x5a42ca['id']===this[_0xacb757(0x1fb)][_0xacb757(0xe7)]+'@s.whatsapp.net'&&_0x5a42ca[_0xacb757(0x5f1)]),_0x503850=(!_0x35a97d[_0xacb757(0x4e2)]||_0x581a96)&&(!_0x35a97d['isCommunity']||_0x35a97d[_0xacb757(0x540)]&&_0x35a97d['isCommunityAnnounce']&&_0x581a96),_0x504913={..._0x35a97d,'participants':_0x5821a4,'awaitingApproval':_0x3646da,'lastFetchAwaitingApproval':_0x4a6ac8,'isAdmin':_0x581a96,'canSendMessage':_0x503850,'lastUpdate':Date[_0xacb757(0x5aa)]()};await this['repository'][_0xacb757(0xf1)][_0xacb757(0x7be)]({'where':{'_id':_0x35a97d['id']}},{'name':_0x35a97d[_0xacb757(0x607)],'group':!0x0,'groupdata':_0x504913,'lastcache':Date[_0xacb757(0x5aa)]()},this['instance'][_0xacb757(0xe7)]),J(this['instanceName'],_0xacb757(0x61e),{'chat':_0x35a97d});}async[a0_0x29b3b7(0x43e)](_0x3ea93a){const _0x108bff=a0_0x29b3b7;let _0x42cab9=await this[_0x108bff(0x68f)][_0x108bff(0xf1)][_0x108bff(0x3b0)]({'where':{'_id':_0x3ea93a['id']}},this[_0x108bff(0x1fb)][_0x108bff(0xe7)]);_0x3ea93a['subjectTime']=_0x3ea93a?.[_0x108bff(0xe3)]&&_0x3ea93a['subjectTime'][_0x108bff(0x4a2)]()[_0x108bff(0x761)]<0xd?_0x3ea93a?.[_0x108bff(0xe3)]*0x3e8:_0x3ea93a?.[_0x108bff(0xe3)]||null,_0x3ea93a[_0x108bff(0x369)]=_0x3ea93a?.[_0x108bff(0x369)]&&_0x3ea93a[_0x108bff(0x369)][_0x108bff(0x4a2)]()[_0x108bff(0x761)]<0xd?_0x3ea93a?.['creation']*0x3e8:_0x3ea93a?.['creation']||null,_0x3ea93a['inviteCode']&&(_0x3ea93a[_0x108bff(0x448)]=_0x108bff(0x4b5)+_0x3ea93a[_0x108bff(0x448)]);let _0x3a4246=_0x42cab9?.[_0x108bff(0x524)]?{..._0x42cab9[_0x108bff(0x524)]}:{};Object[_0x108bff(0x37a)](_0x3ea93a)['forEach'](_0x131981=>{_0x131981!=='id'&&(_0x3a4246[_0x131981]=_0x3ea93a[_0x131981]);});let _0x4f5e0b=_0x3a4246[_0x108bff(0x1cd)]?.['some'](_0x14e4c9=>_0x14e4c9['id']===this[_0x108bff(0x1fb)][_0x108bff(0xe7)]+_0x108bff(0x3be)&&_0x14e4c9[_0x108bff(0x5f1)])||!0x1;_0x3a4246[_0x108bff(0x5f1)]=_0x4f5e0b;let _0x33792f=(!_0x3a4246['announce']||_0x4f5e0b)&&(!_0x3a4246['isCommunity']||_0x3a4246[_0x108bff(0x540)]&&_0x3a4246[_0x108bff(0x5e2)]&&_0x4f5e0b);_0x3a4246['canSendMessage']=_0x33792f;let _0x3ef4f8={'group':!0x0,'groupdata':_0x3a4246};_0x3ea93a[_0x108bff(0x607)]&&(_0x3ef4f8[_0x108bff(0x438)]=_0x3ea93a[_0x108bff(0x607)]),await this[_0x108bff(0x68f)][_0x108bff(0xf1)][_0x108bff(0x7be)]({'where':{'_id':_0x3ea93a['id']}},_0x3ef4f8,this['instance']['wuid'],{'upsert':!0x0}),J(this[_0x108bff(0x770)],_0x108bff(0x61e),{'chat':_0x3ef4f8});}async[a0_0x29b3b7(0x584)](_0x22b407){const _0x2df62d=a0_0x29b3b7;let _0x9d3d8a=await this[_0x2df62d(0x68f)][_0x2df62d(0xf1)][_0x2df62d(0x3b0)]({'where':{'_id':_0x22b407['id']}},this[_0x2df62d(0x1fb)][_0x2df62d(0xe7)]);if(!_0x9d3d8a||!_0x9d3d8a[_0x2df62d(0x524)]){console[_0x2df62d(0x6bf)](_0x2df62d(0x482),_0x22b407['id']);return;}let _0xc52965=await this[_0x2df62d(0x68f)][_0x2df62d(0x313)][_0x2df62d(0x669)](_0x22b407['participants']),_0x1b1752=[..._0x9d3d8a['groupdata']?.['participants']];switch(_0x22b407['action']){case _0x2df62d(0x3d5):let _0x26754a=_0xc52965['map'](_0x13a69f=>({'id':_0x13a69f['_id'],'isAdmin':!0x1,'name':_0x13a69f[_0x2df62d(0x438)],'imgUrl':_0x13a69f['pictureUrl']}));_0x1b1752=[..._0x1b1752,..._0x26754a];break;case _0x2df62d(0x286):_0x1b1752=_0x1b1752[_0x2df62d(0x19c)](_0x345af2=>!_0x22b407['participants'][_0x2df62d(0x58d)](_0x345af2['id']));break;case'promote':case'demote':_0x1b1752=_0x1b1752[_0x2df62d(0x40d)](_0x5be535=>_0x22b407['participants'][_0x2df62d(0x58d)](_0x5be535['id'])?{..._0x5be535,'isAdmin':_0x22b407[_0x2df62d(0x5e5)]===_0x2df62d(0x7a8)}:_0x5be535);break;}let _0x2f5acc=_0x1b1752['length'],_0x21b84f=_0x1b1752[_0x2df62d(0x179)](_0x46b775=>_0x46b775['id']===this[_0x2df62d(0x1fb)]['wuid']+_0x2df62d(0x3be)),_0x8782ce=_0x21b84f&&_0x1b1752[_0x2df62d(0x179)](_0x8e42b3=>_0x8e42b3['id']===this[_0x2df62d(0x1fb)][_0x2df62d(0xe7)]+_0x2df62d(0x3be)&&_0x8e42b3[_0x2df62d(0x5f1)]),_0x56dd00=_0x21b84f&&(!_0x9d3d8a[_0x2df62d(0x524)]['announce']||_0x8782ce)&&(!_0x9d3d8a[_0x2df62d(0x524)][_0x2df62d(0x540)]||_0x9d3d8a['groupdata']['isCommunity']&&_0x8782ce);await this[_0x2df62d(0x68f)][_0x2df62d(0xf1)][_0x2df62d(0x7be)]({'where':{'_id':_0x22b407['id']}},{'groupdata':{..._0x9d3d8a['groupdata'],'participants':_0x1b1752,'size':_0x2f5acc,'isAdmin':_0x8782ce,'canSendMessage':_0x56dd00}},this[_0x2df62d(0x1fb)]['wuid']),console[_0x2df62d(0x6bf)](_0x2df62d(0x272)+_0x22b407['id']+_0x2df62d(0x53f)+_0x22b407[_0x2df62d(0x5e5)]+_0x2df62d(0x173)+_0x2f5acc+_0x2df62d(0x19f)+_0x8782ce+_0x2df62d(0x110)+_0x56dd00);}async['inviteCode'](_0x5b4f35,_0x36fd79=!0x0){const _0x9905a4=a0_0x29b3b7;try{let _0x279928=await this[_0x9905a4(0x372)][_0x9905a4(0x2d2)](_0x5b4f35[_0x9905a4(0x546)]),_0xb4d791={'groupdata.inviteCode':_0x9905a4(0x4b5)+_0x279928};if(_0x36fd79){let _0x205c0a=await this[_0x9905a4(0x68f)][_0x9905a4(0xf1)]['updateOne']({'where':{'_id':_0x5b4f35[_0x9905a4(0x546)]}},_0xb4d791,this[_0x9905a4(0x1fb)][_0x9905a4(0xe7)]);}return{'inviteUrl':_0x9905a4(0x4b5)+_0x279928,'inviteCode':_0x279928};}catch(_0xdab6f){let _0x2d924f=_0x9905a4(0x75b),_0x4c86d8=_0xdab6f instanceof Error?_0xdab6f[_0x9905a4(0x780)]:typeof _0xdab6f==_0x9905a4(0x320)?JSON[_0x9905a4(0xfe)](_0xdab6f):_0xdab6f,_0x35e3d6=_0x2d924f+':\x20'+_0x4c86d8;throw this['logger'][_0x9905a4(0x60d)](this[_0x9905a4(0x770)]+'\x20('+this[_0x9905a4(0x1fb)][_0x9905a4(0xe7)]+'):\x20'+_0x35e3d6),new U(_0x35e3d6);}}async[a0_0x29b3b7(0x2db)](_0x491547){const _0x4da02e=a0_0x29b3b7;try{let _0xe2ae5f=await this[_0x4da02e(0x372)][_0x4da02e(0x6ef)](_0x491547['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x4da02e(0x4b5)+_0xe2ae5f,'inviteCode':_0xe2ae5f};}catch(_0x6724b0){let _0x3d61d3=_0x4da02e(0x581),_0x14c5e1=_0x6724b0 instanceof Error?_0x6724b0[_0x4da02e(0x780)]:typeof _0x6724b0=='object'?JSON[_0x4da02e(0xfe)](_0x6724b0):_0x6724b0,_0x55062b=_0x3d61d3+':\x20'+_0x14c5e1;throw this['logger']['error'](this[_0x4da02e(0x770)]+'\x20('+this['instance'][_0x4da02e(0xe7)]+_0x4da02e(0x1e5)+_0x55062b),new U(_0x55062b);}}async['joinGroup'](_0x239065){const _0x3bfca6=a0_0x29b3b7;try{if((0x0,P[_0x3bfca6(0x6b1)])(_0x239065['inviteCode']))var _0x45a890=_0x239065['inviteCode'][_0x3bfca6(0x355)]('/')[0x3];else var _0x45a890=_0x239065[_0x3bfca6(0x448)];let _0x49ab50=await this[_0x3bfca6(0x372)]['groupAcceptInvite'](_0x45a890);return this['logger'][_0x3bfca6(0x7a1)](this[_0x3bfca6(0x770)]+'\x20('+this['instance'][_0x3bfca6(0xe7)]+_0x3bfca6(0x1e5)+_0x49ab50),{'join':!0x0,'inviteCode':_0x45a890,'groupJid':_0x49ab50};}catch(_0x21f57a){let _0x5f3155=_0x3bfca6(0x793),_0xe674de=_0x21f57a instanceof Error?_0x21f57a[_0x3bfca6(0x780)]:typeof _0x21f57a==_0x3bfca6(0x320)?JSON[_0x3bfca6(0xfe)](_0x21f57a):_0x21f57a,_0x124d81=_0x5f3155+':\x20'+_0xe674de;throw this['logger'][_0x3bfca6(0x60d)](this['instanceName']+'\x20('+this[_0x3bfca6(0x1fb)][_0x3bfca6(0xe7)]+_0x3bfca6(0x1e5)+_0x124d81),new U(_0x124d81);}}async[a0_0x29b3b7(0x273)](_0x269b76){const _0x415334=a0_0x29b3b7;try{return{'participants':(await this[_0x415334(0x372)][_0x415334(0x5ba)](_0x269b76['groupJid']))[_0x415334(0x1cd)]};}catch(_0x18244c){let _0x549907='Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants',_0x1a2701=_0x18244c instanceof Error?_0x18244c['message']:typeof _0x18244c==_0x415334(0x320)?JSON['stringify'](_0x18244c):_0x18244c,_0x1783c0=_0x549907+':\x20'+_0x1a2701;throw this['logger'][_0x415334(0x60d)](this[_0x415334(0x770)]+'\x20('+this[_0x415334(0x1fb)][_0x415334(0xe7)]+_0x415334(0x1e5)+_0x1783c0),new U(_0x1783c0);}}async[a0_0x29b3b7(0x292)](_0x916085){const _0x141878=a0_0x29b3b7;try{return await this[_0x141878(0x372)][_0x141878(0x6c3)](_0x916085['groupJid']),{'groupJid':_0x916085[_0x141878(0x546)],'leave':!0x0};}catch(_0x20d6b9){let _0x140969='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x33ca56=_0x20d6b9 instanceof Error?_0x20d6b9['message']:typeof _0x20d6b9=='object'?JSON['stringify'](_0x20d6b9):_0x20d6b9,_0x2a7f85=_0x140969+':\x20'+_0x33ca56;throw this[_0x141878(0x1be)]['error'](this['instanceName']+'\x20('+this[_0x141878(0x1fb)]['wuid']+'):\x20'+_0x2a7f85),new m(_0x2a7f85);}}async[a0_0x29b3b7(0x516)](_0x2c18fd){const _0x56c12c=a0_0x29b3b7;return await this[_0x56c12c(0x221)](_0x2c18fd[_0x56c12c(0x487)],{'poll':{'name':_0x2c18fd[_0x56c12c(0x516)]?.['name'],'selectableCount':_0x2c18fd[_0x56c12c(0x516)][_0x56c12c(0x7ae)],'values':_0x2c18fd[_0x56c12c(0x516)][_0x56c12c(0x103)]}},_0x2c18fd?.[_0x56c12c(0x279)]);}async[a0_0x29b3b7(0x79d)](_0x37a987){const _0x3baebf=a0_0x29b3b7;return await this[_0x3baebf(0x221)](_0x37a987['number'],{'listMessage':{'title':_0x37a987[_0x3baebf(0x79d)][_0x3baebf(0x200)],'description':_0x37a987[_0x3baebf(0x79d)]['description'],'buttonText':_0x37a987['listMessage']?.[_0x3baebf(0x578)],'footerText':_0x37a987[_0x3baebf(0x79d)]?.['footerText'],'sections':_0x37a987[_0x3baebf(0x79d)][_0x3baebf(0x619)],'listType':0x2}},_0x37a987?.[_0x3baebf(0x279)]);}async[a0_0x29b3b7(0x136)](_0x555c36){const _0x390940=a0_0x29b3b7;let _0x488bc6;if(_0x555c36['menuMessage'][_0x390940(0x263)]==='list'){let _0x246dba=_0x555c36[_0x390940(0x136)][_0x390940(0x623)][_0x390940(0x670)]('\x0a'),_0x12c51b='',_0x365494='';_0x246dba!==-0x1?(_0x12c51b=_0x555c36['menuMessage']['text'][_0x390940(0x346)](0x0,_0x246dba)[_0x390940(0x699)](),_0x365494=_0x555c36[_0x390940(0x136)][_0x390940(0x623)]['substring'](_0x246dba+0x1)):_0x365494=_0x555c36[_0x390940(0x136)]['text'];let _0x4e0183=_0x555c36['menuMessage'][_0x390940(0x3e3)]['filter'](_0x4ee48c=>_0x4ee48c[_0x390940(0x699)]()!==''),_0x8335ae=this[_0x390940(0x637)](_0x4e0183);_0x488bc6={'listMessage':{'title':_0x12c51b,'description':_0x365494,'buttonText':_0x555c36[_0x390940(0x136)][_0x390940(0x578)]||_0x390940(0x1cf),'footerText':_0x555c36[_0x390940(0x136)][_0x390940(0x19d)],'sections':_0x8335ae,'listType':0x2}};}else{if(_0x555c36[_0x390940(0x136)][_0x390940(0x263)]===_0x390940(0x33f)){let _0x5ba15a=_0x555c36[_0x390940(0x136)][_0x390940(0x3e3)][_0x390940(0x19c)](_0x5263ef=>!(_0x5263ef['startsWith']('[')&&_0x5263ef[_0x390940(0x325)](']'))&&_0x5263ef[_0x390940(0x699)]()!=='')[_0x390940(0x40d)](_0x5f48dc=>_0x5f48dc['split']('\x0a')[0x0]);_0x488bc6={'poll':{'name':_0x555c36[_0x390940(0x136)]['text'],'selectableCount':_0x555c36[_0x390940(0x136)][_0x390940(0x7ae)]||0x1,'values':_0x5ba15a}};}}return await this[_0x390940(0x221)](_0x555c36[_0x390940(0x487)],_0x488bc6,_0x555c36?.[_0x390940(0x279)]);}[a0_0x29b3b7(0x637)](_0x2ff97d){const _0x4a3201=a0_0x29b3b7;let _0x3518d9=[],_0x3eff59={'rows':[]};return _0x2ff97d['forEach'](_0x214508=>{const _0xa6aa14=a0_0x1da8;if(_0x214508[_0xa6aa14(0x7bb)]('[')&&_0x214508[_0xa6aa14(0x325)](']'))_0x3eff59[_0xa6aa14(0x204)]['length']>0x0&&_0x3518d9[_0xa6aa14(0x343)](_0x3eff59),_0x3eff59={'title':_0x214508[_0xa6aa14(0x754)](0x1,-0x1),'rows':[]};else{let _0x88e63f=_0x214508[_0xa6aa14(0x355)]('\x0a')[_0xa6aa14(0x40d)](_0x5493e4=>_0x5493e4[_0xa6aa14(0x699)]()),_0x728b88=_0x88e63f[0x0],_0x1c4f3e=_0x88e63f[0x1]||null,_0x11986c=_0x88e63f[0x2]||_0x728b88;_0x3eff59[_0xa6aa14(0x204)][_0xa6aa14(0x343)]({'title':_0x728b88,'description':_0x1c4f3e,'rowId':_0x11986c});}}),_0x3eff59['rows'][_0x4a3201(0x761)]>0x0&&_0x3518d9['push'](_0x3eff59),_0x3518d9;}async[a0_0x29b3b7(0x16e)](_0x5b0aab,_0x58d005){const _0x522257=a0_0x29b3b7;if(await this['getMessage'](_0x5b0aab,!0x0)){let _0x31f9e7={'where':{'_id':_0x5b0aab['id']}},_0x7f6bb1={'status':[_0x58d005['status']][0x0]};try{let _0x4845af=await this[_0x522257(0x68f)]['message'][_0x522257(0x5ca)](_0x31f9e7,_0x7f6bb1,this[_0x522257(0x1fb)][_0x522257(0xe7)]);_0x4845af&&J(this[_0x522257(0x770)],_0x522257(0xec),{'message':_0x4845af});}catch{}}}[a0_0x29b3b7(0x30f)](_0x3f3af6){const _0x10e206=a0_0x29b3b7;let _0x5a13f1=[];return _0x3f3af6[_0x10e206(0x693)](_0x12dec1=>{const _0x5dc355=_0x10e206;_0x12dec1[_0x5dc355(0x200)]&&_0x5a13f1['push']('['+_0x12dec1[_0x5dc355(0x200)]+']'),_0x12dec1[_0x5dc355(0x204)][_0x5dc355(0x693)](_0x454923=>{const _0xa37008=_0x5dc355;_0x5a13f1[_0xa37008(0x343)](_0x454923[_0xa37008(0x200)]);});}),_0x5a13f1[_0x10e206(0x452)]('|');}[a0_0x29b3b7(0x5fd)](_0x2be252){const _0x5830b1=a0_0x29b3b7;let _0x54664e=_0x2be252[_0x5830b1(0x3b1)](/\\n/g,'\x0a')['split']('\x0a')[_0x5830b1(0x19c)](_0x5b3fea=>_0x5b3fea[_0x5830b1(0x58d)]('TEL')||_0x5b3fea[_0x5830b1(0x58d)](_0x5830b1(0x745))),_0x26aaa1='';return _0x54664e['forEach'](_0x52ce13=>{const _0x14373c=_0x5830b1;let _0x168741=/TEL(?:.*):(.+)/,_0x3a8ebe=/EMAIL(?:.*):(.+)/,_0xeb3b6f=_0x52ce13[_0x14373c(0x6b2)](_0x168741),_0x3e8d4b=_0x52ce13[_0x14373c(0x6b2)](_0x3a8ebe);if(_0xeb3b6f){let _0x5258f9=_0xeb3b6f[0x1][_0x14373c(0x3b1)](/-| |\+|\(|\)/g,'')[_0x14373c(0x699)]();_0x26aaa1+=_0x14373c(0x478)+_0x5258f9+'\x0a';}else{if(_0x3e8d4b){let _0x417a79=_0x3e8d4b[0x1][_0x14373c(0x699)]();_0x26aaa1+=_0x14373c(0x687)+_0x417a79+'\x0a';}}}),_0x26aaa1[_0x5830b1(0x699)]();}async['updateChatWithMessage'](_0xb370bd,_0x409161,_0x5ea9e6,_0x547da9=null){const _0x42bbfe=a0_0x29b3b7;if(!_0xb370bd[_0x42bbfe(0x238)])return;let _0x293203=_0x409161['key'][_0x42bbfe(0x4b0)][_0x42bbfe(0x3b1)](/:\d{1,2}@/g,'@'),_0x562845=_0x409161[_0x42bbfe(0x5ec)][_0x42bbfe(0x245)],_0x454e79=_0x293203[_0x42bbfe(0x325)]('@g.us'),_0xafffeb=_0x409161[_0x42bbfe(0x77c)]?.[_0x42bbfe(0x3b1)](/:\d{1,2}@/g,'@')||'',_0x507543=_0x409161[_0x42bbfe(0x76f)]?.[_0x42bbfe(0x623)]||_0x409161[_0x42bbfe(0x76f)]?.['caption']||_0x409161[_0x42bbfe(0x76f)]?.['vote']||_0x409161[_0x42bbfe(0x76f)]?.[_0x42bbfe(0x438)],_0x40f072={'_id':_0x409161[_0x42bbfe(0x6a7)],'remoteJid':_0x562845?this[_0x42bbfe(0x1fb)][_0x42bbfe(0xe7)]:_0x454e79?_0xafffeb:_0x293203,'pushName':_0x562845?this[_0x42bbfe(0x1fb)][_0x42bbfe(0x57d)]||'Eu':_0x409161[_0x42bbfe(0x744)],'text':_0x507543,'type':_0x409161[_0x42bbfe(0x58e)],'when':_0x409161[_0x42bbfe(0x26d)]||Date[_0x42bbfe(0x5aa)]()};_0x547da9||(_0x547da9=await this[_0x42bbfe(0x68f)][_0x42bbfe(0xf1)][_0x42bbfe(0x3b0)]({'where':{'_id':_0x293203}},this['instance']['wuid']));let _0x1b7351=_0x547da9?_0x562845?_0x547da9[_0x42bbfe(0x52a)]:(_0x547da9[_0x42bbfe(0x52a)]||0x0)+0x1:_0x562845?0x0:0x1,_0x38a2ec={'lastmsg':_0x409161[_0x42bbfe(0x26d)]||Date[_0x42bbfe(0x5aa)](),'ephemeralExpiration':_0x409161[_0x42bbfe(0x457)],'lastMessage':_0x40f072,'unreadcount':_0x1b7351,..._0x562845||_0x454e79?{}:{'name':_0x409161['pushName']},..._0x454e79?{'group':_0x454e79}:{},...!_0x562845&&!_0x454e79&&_0x409161[_0x42bbfe(0x507)]?{'imagechat':_0x409161[_0x42bbfe(0x507)]}:{}};if(!_0x454e79&&(!_0x547da9?.[_0x42bbfe(0x1a0)]||!_0x547da9[_0x42bbfe(0x1a0)]['nome'])&&_0x409161['pushName']&&!_0x562845&&(_0x38a2ec={..._0x38a2ec,'leadInfo.nome':_0x409161[_0x42bbfe(0x744)]}),_0x547da9?.[_0x42bbfe(0x1a0)][_0x42bbfe(0x445)]||(_0x38a2ec={..._0x38a2ec,'leadInfo.etiquetas':[]}),_0x547da9?.[_0x42bbfe(0x1a0)][_0x42bbfe(0x2fa)]||(_0x38a2ec={..._0x38a2ec,'leadInfo.customFields':[]}),_0x547da9?.[_0x42bbfe(0x1a0)]['tags']||(_0x38a2ec={..._0x38a2ec,'leadInfo.tags':[]}),_0x547da9&&_0x547da9?.[_0x42bbfe(0x1df)]){let _0xfc8456=await this[_0x42bbfe(0x68f)][_0x42bbfe(0x6ac)]['find']({'where':{}},this[_0x42bbfe(0x1fb)][_0x42bbfe(0xe7)]),_0x4ef851=new Set(_0xfc8456['map'](_0x1739c7=>_0x1739c7['_id'])),_0x91a74c=(_0x547da9[_0x42bbfe(0x1a0)]?.[_0x42bbfe(0x445)]||[])[_0x42bbfe(0x19c)](_0x3a3fb3=>_0x4ef851[_0x42bbfe(0x38f)](_0x3a3fb3));_0x38a2ec={..._0x38a2ec,'imported':!0x1,'leadInfo.etiquetas':_0x91a74c};for(let _0x592e29 of _0x91a74c)await this[_0x42bbfe(0x6be)](_0x592e29,_0x293203);}if(_0x5ea9e6===_0x42bbfe(0x450)&&_0x562845&&this[_0x42bbfe(0x460)]?.[_0x42bbfe(0x473)][_0x42bbfe(0x1fd)]&&!_0x507543[_0x42bbfe(0x7bb)](this[_0x42bbfe(0x460)]?.[_0x42bbfe(0x473)][_0x42bbfe(0x6d2)])){let _0x1a6f16=(this['AutomateSystem']?.[_0x42bbfe(0x473)][_0x42bbfe(0x758)]||0x5)*0xea60,_0x3d1a39=Date[_0x42bbfe(0x5aa)]()+_0x1a6f16;_0x547da9?.['leadInfo']?.['desativadoFluxoAte']===0x0||(_0x38a2ec={..._0x38a2ec,'leadInfo.desativadoFluxoAte':_0x3d1a39},this['logger'][_0x42bbfe(0x7a1)](this['instanceName']+'\x20('+this[_0x42bbfe(0x1fb)][_0x42bbfe(0xe7)]+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x3d1a39+'.'));}if(console['log'](_0x38a2ec),_0x547da9=await this[_0x42bbfe(0x68f)][_0x42bbfe(0xf1)]['updateOne']({'where':{'_id':_0x293203}},_0x38a2ec,this[_0x42bbfe(0x1fb)][_0x42bbfe(0xe7)],{'new':!0x0,'upsert':!0x0}),_0x547da9)J(this[_0x42bbfe(0x770)],_0x42bbfe(0x61e),{'chat':_0x547da9});else{this[_0x42bbfe(0x1be)]['error'](this[_0x42bbfe(0x770)]+'\x20('+this[_0x42bbfe(0x1fb)][_0x42bbfe(0xe7)]+_0x42bbfe(0x742));return;}if(!this['AutomateSystem']?.[_0x42bbfe(0x473)][_0x42bbfe(0x1fd)])return this[_0x42bbfe(0x1be)][_0x42bbfe(0x7a1)](this['instanceName']+'\x20('+this[_0x42bbfe(0x1fb)][_0x42bbfe(0xe7)]+_0x42bbfe(0x6f6)),null;if(_0x547da9[_0x42bbfe(0x6a7)]['includes'](_0x42bbfe(0x170))&&this[_0x42bbfe(0x460)]?.['flowConfig']['ignoreGroups']===!0x0)return this[_0x42bbfe(0x1be)][_0x42bbfe(0x7a1)](this[_0x42bbfe(0x770)]+'\x20('+this['instance'][_0x42bbfe(0xe7)]+_0x42bbfe(0x175)),null;if(_0x547da9['leadInfo']){if(_0x547da9[_0x42bbfe(0x1a0)][_0x42bbfe(0xe8)]===0x0||_0x547da9['leadInfo'][_0x42bbfe(0x74b)])return this[_0x42bbfe(0x1be)][_0x42bbfe(0x7a1)](this[_0x42bbfe(0x770)]+'\x20('+this['instance'][_0x42bbfe(0xe7)]+_0x42bbfe(0x721)+_0x293203+_0x42bbfe(0x7ab)),null;if(_0x547da9[_0x42bbfe(0x1a0)][_0x42bbfe(0xe8)]>Date[_0x42bbfe(0x5aa)]()&&!_0x409161[_0x42bbfe(0x76f)]?.[_0x42bbfe(0x4ac)])return this[_0x42bbfe(0x1be)]['verbose'](this['instanceName']+'\x20('+this[_0x42bbfe(0x1fb)][_0x42bbfe(0xe7)]+_0x42bbfe(0x2b3)+new Date(_0x547da9[_0x42bbfe(0x1a0)]['desativadoFluxoAte'])[_0x42bbfe(0x532)]()+',\x20saindo.'),null;}this[_0x42bbfe(0x1be)][_0x42bbfe(0x7a1)](this[_0x42bbfe(0x770)]+'\x20('+this[_0x42bbfe(0x1fb)][_0x42bbfe(0xe7)]+_0x42bbfe(0x19a)),this[_0x42bbfe(0x537)](_0x5ea9e6,_0x409161);}async[a0_0x29b3b7(0x698)](_0x1646e0,_0x38aa45){const _0x46db48=a0_0x29b3b7;if(_0x38aa45[_0x46db48(0x238)]){let _0x36bde6=_0x1646e0[_0x46db48(0x40d)](async _0x416f35=>{const _0x2e0864=_0x46db48;try{let _0x1cc092={'_id':_0x416f35[_0x2e0864(0x6a7)],'owner':_0x416f35['owner'],'lastcache':0x0};if(Object[_0x2e0864(0x37a)](_0x416f35)['forEach'](_0x40008e=>{_0x416f35[_0x40008e]!==null&&(_0x1cc092[_0x40008e]=_0x416f35[_0x40008e]);}),_0x1cc092[_0x2e0864(0x666)]===null&&(_0x1cc092[_0x2e0864(0x666)]='Imagem\x20não\x20encontrada'),Object[_0x2e0864(0x37a)](_0x1cc092)[_0x2e0864(0x761)]>0x0)return await this[_0x2e0864(0x68f)][_0x2e0864(0xf1)][_0x2e0864(0x7be)]({'where':{'_id':_0x416f35[_0x2e0864(0x6a7)]}},_0x1cc092,this[_0x2e0864(0x1fb)][_0x2e0864(0xe7)]);}catch(_0x4db8f2){let _0x472e62='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x416f35[_0x2e0864(0x6a7)],_0x10c0ac=_0x4db8f2 instanceof Error?_0x4db8f2['message']:typeof _0x4db8f2==_0x2e0864(0x320)?JSON[_0x2e0864(0xfe)](_0x4db8f2):_0x4db8f2,_0x3fbe0d=_0x472e62+':\x20'+_0x10c0ac;return this['logger'][_0x2e0864(0x60d)](this[_0x2e0864(0x770)]+'\x20('+this[_0x2e0864(0x1fb)][_0x2e0864(0xe7)]+_0x2e0864(0x1e5)+_0x3fbe0d),null;}}),_0x45adf5=(await Promise['all'](_0x36bde6))[_0x46db48(0x19c)](_0x33c18c=>_0x33c18c!==null)[_0x46db48(0x761)];this[_0x46db48(0x1be)][_0x46db48(0x7a1)](this['instanceName']+'\x20('+this[_0x46db48(0x1fb)][_0x46db48(0xe7)]+_0x46db48(0x1e5)+_0x45adf5+_0x46db48(0x433)+this[_0x46db48(0x1fb)][_0x46db48(0xe7)]+_0x46db48(0x27f));}}async[a0_0x29b3b7(0x3ad)](_0x1e1437){const _0x529ce5=a0_0x29b3b7;this[_0x529ce5(0x1be)][_0x529ce5(0x7a1)](this[_0x529ce5(0x770)]+'\x20('+this['instance'][_0x529ce5(0xe7)]+'):\x20Ler\x20mensagem');let _0x5747d1={'readMessages':[{'remoteJid':_0x1e1437['chatLog']['lastReceivedMessage'][_0x529ce5(0x5ec)][_0x529ce5(0x4b0)],'fromMe':_0x1e1437[_0x529ce5(0x6a0)][_0x529ce5(0x2b4)]['key'][_0x529ce5(0x245)],'id':_0x1e1437['chatLog'][_0x529ce5(0x2b4)][_0x529ce5(0x5ec)]['id']}]};await this[_0x529ce5(0x190)](_0x5747d1);}async[a0_0x29b3b7(0x537)](_0x3b24df,_0x729bd8){const _0x4241f1=a0_0x29b3b7;try{let {key:_0x5d6bf0,message_normalized:_0x3fac6c}=_0x729bd8,_0x6c214c=_0x3fac6c,_0x441f06=_0x3fac6c[_0x4241f1(0x623)]||_0x3fac6c['caption']||_0x3fac6c['vote']||_0x3fac6c[_0x4241f1(0x438)],_0x482004=_0x5d6bf0['remoteJid'],_0xb16b46;if(_0x6c214c[_0x4241f1(0x5ec)]['fromMe']&&_0x441f06[_0x4241f1(0x699)]()!==this['AutomateSystem']?.[_0x4241f1(0x473)][_0x4241f1(0x260)][_0x4241f1(0x699)]())return this[_0x4241f1(0x1be)]['verbose'](this[_0x4241f1(0x770)]+'\x20('+this[_0x4241f1(0x1fb)]['wuid']+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x6c214c[_0x4241f1(0x5ec)][_0x4241f1(0x245)]&&_0x441f06['trim']()===this[_0x4241f1(0x460)]?.[_0x4241f1(0x473)][_0x4241f1(0x260)]['trim']()){this[_0x4241f1(0x1be)][_0x4241f1(0x7a1)](this[_0x4241f1(0x770)]+'\x20('+this['instance'][_0x4241f1(0xe7)]+_0x4241f1(0x5a0));let _0x5389ab=await this['repository'][_0x4241f1(0x45b)]['find']({'remoteJid':_0x482004,'status':_0x4241f1(0x444)},this['instance'][_0x4241f1(0xe7)]);this[_0x4241f1(0x1be)][_0x4241f1(0x7a1)](this[_0x4241f1(0x770)]+'\x20('+this['instance']['wuid']+_0x4241f1(0x58c)+_0x5389ab);let _0x49d1fe=Date[_0x4241f1(0x5aa)](),_0x5b0d7a;return this[_0x4241f1(0x460)]?.[_0x4241f1(0x473)][_0x4241f1(0x197)]===0x0?_0x5b0d7a={'stoppedUntil':_0x49d1fe+0x7591f6200}:_0x5b0d7a={'stoppedUntil':_0x49d1fe+this['AutomateSystem']?.[_0x4241f1(0x473)][_0x4241f1(0x197)]*0x3c*0x3e8},this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4241f1(0x1fb)][_0x4241f1(0xe7)]+_0x4241f1(0x73f)+_0x5b0d7a),this[_0x4241f1(0x75c)](_0xb16b46,_0x5b0d7a['stoppedUntil']),null;}if(_0x441f06&&_0x441f06['startsWith'](this[_0x4241f1(0x460)]?.[_0x4241f1(0x473)][_0x4241f1(0x6d2)])&&_0x441f06[_0x4241f1(0x761)]>0x4){let _0x47ceb6=await this['repository'][_0x4241f1(0x2d3)][_0x4241f1(0x3b0)]({'where':{'startCommandWord':_0x441f06}},this['instance']['wuid']);if(this['logger'][_0x4241f1(0x7a1)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x47ceb6)_0xb16b46=await this[_0x4241f1(0x78f)](_0x47ceb6,_0x6c214c['key'],_0x6c214c);else return this[_0x4241f1(0x1be)][_0x4241f1(0x7a1)](this[_0x4241f1(0x770)]+'\x20('+this[_0x4241f1(0x1fb)][_0x4241f1(0xe7)]+_0x4241f1(0x6ed)),null;}else _0xb16b46=await this[_0x4241f1(0x305)](_0x482004,_0x6c214c);if(_0xb16b46){this['logger']['verbose'](this[_0x4241f1(0x770)]+'\x20('+this[_0x4241f1(0x1fb)][_0x4241f1(0xe7)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x5d6bf0[_0x4241f1(0x245)]&&_0xb16b46[_0x4241f1(0x29a)]&&this[_0x4241f1(0x3ad)](_0xb16b46);let _0x5eba1a=await this[_0x4241f1(0x72f)](_0xb16b46);_0x5eba1a&&await this[_0x4241f1(0x1e2)](_0xb16b46,_0x5eba1a);}}catch(_0x41a0da){this['logger'][_0x4241f1(0x60d)](this[_0x4241f1(0x770)]+'\x20('+this[_0x4241f1(0x1fb)]['wuid']+_0x4241f1(0x65d)+(_0x41a0da instanceof Error?_0x41a0da[_0x4241f1(0x780)]:JSON[_0x4241f1(0xfe)](_0x41a0da,null,0x2)));}}[a0_0x29b3b7(0x349)](_0x488e72,_0x3c1324='',_0x56a50d={}){const _0x461769=a0_0x29b3b7;return typeof _0x488e72!=_0x461769(0x320)||_0x488e72===null?(_0x3c1324&&(_0x56a50d[_0x3c1324]=_0x488e72),_0x56a50d):(Object['entries'](_0x488e72)[_0x461769(0x693)](([_0x2ad162,_0x3a0ad9])=>{const _0x2184ae=_0x461769;let _0x1a9bb3=_0x3c1324?_0x3c1324+'.'+_0x2ad162:'_'+_0x2ad162;Array[_0x2184ae(0x4b7)](_0x3a0ad9)?_0x3a0ad9[_0x2184ae(0x693)]((_0x4a3297,_0x4e5a6e)=>{const _0x47f0ed=_0x2184ae;this[_0x47f0ed(0x349)](_0x4a3297,_0x1a9bb3+'['+_0x4e5a6e+']',_0x56a50d);}):typeof _0x3a0ad9==_0x2184ae(0x320)&&_0x3a0ad9!==null?this[_0x2184ae(0x349)](_0x3a0ad9,_0x1a9bb3,_0x56a50d):_0x56a50d[_0x1a9bb3]=String(_0x3a0ad9);}),console[_0x461769(0x6bf)](_0x461769(0x2e7),_0x56a50d),_0x56a50d);}[a0_0x29b3b7(0x6cf)](_0x319d48){const _0x100f08=a0_0x29b3b7;let _0x4dcc43={};for(let _0x1d823d of _0x319d48)typeof _0x1d823d[_0x100f08(0x438)]=='string'&&typeof _0x1d823d[_0x100f08(0x1fe)]=='string'&&(_0x4dcc43[_0x1d823d['name']]=_0x1d823d[_0x100f08(0x1fe)]);return _0x4dcc43;}async[a0_0x29b3b7(0x72f)](_0x71234e){const _0x4562f8=a0_0x29b3b7;if(!this[_0x4562f8(0x460)]?.[_0x4562f8(0x473)]['enabled']||_0x71234e['status']!==_0x4562f8(0x444)&&_0x71234e[_0x4562f8(0x253)]==='')return null;let _0x195458=_0x71234e[_0x4562f8(0x6a0)][_0x4562f8(0x1fc)]||_0x4562f8(0x140);typeof _0x71234e['chatLog'][_0x4562f8(0x172)]>'u'&&(_0x71234e[_0x4562f8(0x6a0)][_0x4562f8(0x172)]=!0x0);let _0x31639c=_0x71234e[_0x4562f8(0x6a0)]['lastCondition'];this[_0x4562f8(0x1be)][_0x4562f8(0x7a1)](this['instanceName']+'\x20('+this[_0x4562f8(0x1fb)]['wuid']+_0x4562f8(0x6dc)+_0x195458+_0x4562f8(0x590)+_0x31639c);let _0x3afd3a=_0x195458==='start'?_0x71234e[_0x4562f8(0x63e)][_0x4562f8(0x61d)](_0xf779b5=>_0xf779b5[_0x4562f8(0x263)]===_0x4562f8(0x140)):_0x71234e[_0x4562f8(0x63e)][_0x4562f8(0x61d)](_0x3cdf1c=>_0x3cdf1c['_id']['toString']()===_0x195458[_0x4562f8(0x4a2)]());if(!_0x3afd3a)return this[_0x4562f8(0x1be)][_0x4562f8(0x60d)](this[_0x4562f8(0x770)]+'\x20('+this[_0x4562f8(0x1fb)][_0x4562f8(0xe7)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x195458),null;let _0x355cb4={'_pushName':_0x71234e['chatLog'][_0x4562f8(0x2b4)][_0x4562f8(0x744)],..._0x71234e['chatLog'][_0x4562f8(0x4f9)]},_0x18f8ae=null;if(_0x71234e['waitingMenu_id']){let _0x5c0d03=_0x71234e[_0x4562f8(0x6a0)]['lastReceivedMessage'][_0x4562f8(0x4ac)],_0x525817=_0x71234e[_0x4562f8(0x54d)][_0x4562f8(0x61d)](_0x57f6ce=>_0x57f6ce[_0x4562f8(0xf9)]===_0x5c0d03);if(_0x525817){let _0x21a296=_0x525817[_0x4562f8(0x3d4)];if(_0x18f8ae=_0x71234e[_0x4562f8(0x63e)][_0x4562f8(0x61d)](_0x8571ef=>_0x8571ef[_0x4562f8(0x17c)]===_0x21a296&&_0x8571ef['order']===0x1),_0x3afd3a[_0x4562f8(0x11e)]['pollOnReplyDelete']){let _0x38e9b1={'id':_0x71234e[_0x4562f8(0x253)],'remoteJid':_0x71234e[_0x4562f8(0x4b0)],'fromMe':!0x0};await this[_0x4562f8(0x45a)](_0x38e9b1);}if(_0x3afd3a[_0x4562f8(0x11e)][_0x4562f8(0x3c3)]&&_0x3afd3a[_0x4562f8(0x11e)][_0x4562f8(0x558)]&&_0x3afd3a['uazapi'][_0x4562f8(0x4f7)]===_0x4562f8(0x33f)){let _0x115259={'number':_0x71234e[_0x4562f8(0x4b0)],'options':{'delay':0x0},'textMessage':{'text':_0x4562f8(0x1c0)+_0x71234e['waitingMenu_text']+_0x4562f8(0x649)+_0x5c0d03}};await this[_0x4562f8(0x10b)](_0x115259);}_0x71234e[_0x4562f8(0x59d)]=_0x4562f8(0x444),_0x71234e[_0x4562f8(0x253)]='',_0x71234e['waitingMenu_text']='',_0x71234e[_0x4562f8(0x54d)]=[];}else{this[_0x4562f8(0x1be)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4562f8(0x1b1));let _0x2ecc49={'activatedCount':_0x71234e['chatLog'][_0x4562f8(0x1b7)][_0x4562f8(0x19c)](_0x1a6079=>String(_0x1a6079['blockId'])===String(_0x195458))[_0x4562f8(0x761)],'moreLogs':[_0x4562f8(0x3dc)]};if(_0x3afd3a[_0x4562f8(0x11e)][_0x4562f8(0x45c)]){let _0x5bb85a={'number':_0x71234e[_0x4562f8(0x4b0)],'options':{'delay':0x0},'textMessage':{'text':_0x3afd3a['uazapi'][_0x4562f8(0x45c)]}};await this[_0x4562f8(0x10b)](_0x5bb85a);}if(_0x3afd3a[_0x4562f8(0x7b9)]!==void 0x0&&_0x2ecc49[_0x4562f8(0x713)]>=_0x3afd3a[_0x4562f8(0x7b9)]){let _0x48fda8=Date[_0x4562f8(0x5aa)](),_0x4cae7c=_0x3afd3a['stopMinutesMaxActives']??0xa;isNaN(_0x4cae7c)&&(_0x4cae7c=0xa);let _0x40ded5=_0x48fda8+_0x4cae7c*0x3c*0x3e8;_0x2ecc49[_0x4562f8(0x1c3)]=_0x40ded5,_0x2ecc49[_0x4562f8(0x765)][_0x4562f8(0x343)](_0x4562f8(0x2d9)),this['updateStopChat'](_0x71234e,_0x40ded5),_0x71234e['waitingMenu_id']='',_0x71234e[_0x4562f8(0x39c)]='',_0x71234e['waitingMenu_replyOptions']=[];}return this[_0x4562f8(0x324)](_0x71234e,_0x3afd3a,_0x2ecc49,!0x0),null;}}if(_0x31639c&&_0x3afd3a[_0x4562f8(0x3d4)]&&!_0x71234e[_0x4562f8(0x253)]){let _0x36a97b=_0x71234e[_0x4562f8(0x63e)]['filter'](_0x1bb2e0=>_0x1bb2e0[_0x4562f8(0x17c)][_0x4562f8(0x4a2)]()===_0x3afd3a['next_groupId']['toString']())[_0x4562f8(0x4d3)]((_0x5cea4d,_0x197e81)=>_0x5cea4d[_0x4562f8(0x5f9)]-_0x197e81['order']);_0x36a97b[_0x4562f8(0x761)]>0x0&&(_0x18f8ae=_0x36a97b[0x0]);}if(!_0x18f8ae){let _0x5ce032=_0x3afd3a[_0x4562f8(0x17c)],_0xa16ea4=_0x71234e[_0x4562f8(0x63e)]['filter'](_0x5e0bfb=>_0x5e0bfb[_0x4562f8(0x17c)]===_0x5ce032&&_0x5e0bfb[_0x4562f8(0x5f9)]>_0x3afd3a[_0x4562f8(0x5f9)])[_0x4562f8(0x4d3)]((_0x333c76,_0xc4387b)=>_0x333c76[_0x4562f8(0x5f9)]-_0xc4387b[_0x4562f8(0x5f9)]);_0xa16ea4[_0x4562f8(0x761)]>0x0&&(_0x18f8ae=_0xa16ea4[0x0]);}if(!_0x18f8ae)return _0x71234e['status']=_0x4562f8(0x6c0),null;_0x71234e[_0x4562f8(0x6a0)]['realVariables']=_0x355cb4;let _0x385a7e=JSON['parse'](JSON[_0x4562f8(0xfe)](_0x18f8ae));return this[_0x4562f8(0x55d)](_0x385a7e,_0x71234e[_0x4562f8(0x6a0)][_0x4562f8(0x4f9)]),_0x71234e[_0x4562f8(0x6a0)]['lastBlockId']=_0x385a7e[_0x4562f8(0x6a7)],_0x71234e[_0x4562f8(0x6a0)][_0x4562f8(0x172)]=!0x0,_0x385a7e;}['replaceVariables'](_0x46bde5,_0x1520ae){const _0x3d2b39=a0_0x29b3b7;return _0x46bde5[_0x3d2b39(0x3b1)](/\{\{([^}]+)\}\}/g,(_0x257e74,_0x1e0dd7)=>_0x1520ae[_0x1e0dd7]||'');}[a0_0x29b3b7(0x55d)](_0x532438,_0x529c73){const _0x3ec711=a0_0x29b3b7;for(let _0x146153 in _0x532438)typeof _0x532438[_0x146153]=='string'?_0x532438[_0x146153]=this[_0x3ec711(0x547)](_0x532438[_0x146153],_0x529c73):typeof _0x532438[_0x146153]==_0x3ec711(0x320)&&this[_0x3ec711(0x55d)](_0x532438[_0x146153],_0x529c73);}async[a0_0x29b3b7(0x54b)](_0xad2055,_0x4767f5){const _0x5c8e97=a0_0x29b3b7;let _0x2a04a4=_0x4767f5['_id'];if(_0xad2055[_0x5c8e97(0x6a0)]&&_0xad2055['chatLog'][_0x5c8e97(0x1b7)]){let _0x475cd4=_0xad2055['chatLog']['blockLogs'][_0x5c8e97(0x19c)](_0x1136f=>String(_0x1136f[_0x5c8e97(0x77a)])===String(_0x2a04a4))[_0x5c8e97(0x69f)]();if(_0x475cd4&&_0x475cd4[_0x5c8e97(0x60d)]&&_0x4767f5[_0x5c8e97(0x2e9)])return _0xad2055[_0x5c8e97(0x59d)]='closed',await this[_0x5c8e97(0x446)](_0xad2055),null;}if(_0x4767f5[_0x5c8e97(0x263)]===_0x5c8e97(0x11e)&&_0x4767f5['uazapi']['command']==='sendPoll'&&_0xad2055[_0x5c8e97(0x253)])return _0xad2055[_0x5c8e97(0x6a0)][_0x5c8e97(0x1fc)]=_0x2a04a4,await this[_0x5c8e97(0x446)](_0xad2055),null;let _0x18f081=await this[_0x5c8e97(0x72f)](_0xad2055);if(_0xad2055['chatLog']&&_0xad2055[_0x5c8e97(0x6a0)][_0x5c8e97(0x1b7)]){let _0x3cb344=_0xad2055[_0x5c8e97(0x6a0)][_0x5c8e97(0x1b7)][_0x5c8e97(0x19c)](_0x4a7243=>String(_0x4a7243[_0x5c8e97(0x77a)])===String(_0x2a04a4))[_0x5c8e97(0x761)];if(_0x4767f5[_0x5c8e97(0x7b9)]!==void 0x0&&_0x3cb344>=_0x4767f5[_0x5c8e97(0x7b9)]){let _0x1a8ff6=Date['now'](),_0xec2aac=_0x4767f5[_0x5c8e97(0x192)]??0xa;isNaN(_0xec2aac)&&(_0xec2aac=0xa);let _0x4b3fb9=_0x1a8ff6+_0xec2aac*0x3c*0x3e8,_0x31be36={'newStoppedUntil':_0x4b3fb9};return this[_0x5c8e97(0x75c)](_0xad2055,_0x4b3fb9),this['updateConversation'](_0xad2055,_0x4767f5,_0x31be36,!0x0),null;}}_0x18f081&&_0x18f081[_0x5c8e97(0x263)]!==_0x5c8e97(0x62e)&&await this[_0x5c8e97(0x1e2)](_0xad2055,_0x18f081),_0x18f081||await this[_0x5c8e97(0x446)](_0xad2055),_0x18f081&&_0x18f081[_0x5c8e97(0x263)]===_0x5c8e97(0x62e)&&(_0xad2055[_0x5c8e97(0x6a0)][_0x5c8e97(0x1fc)]=_0x2a04a4,await this[_0x5c8e97(0x446)](_0xad2055));}async['processblock'](_0x3e29fc,_0x212613){const _0x582fcc=a0_0x29b3b7;try{let _0x1d7e9f=_0x212613[_0x582fcc(0x263)];this[_0x582fcc(0x1be)][_0x582fcc(0x7a1)](this['instanceName']+'\x20('+this[_0x582fcc(0x1fb)][_0x582fcc(0xe7)]+'):\x20Going\x20to\x20'+_0x1d7e9f);let _0x3dac3d={'uazapi':()=>this[_0x582fcc(0x317)](_0x3e29fc,_0x212613),'save':()=>this[_0x582fcc(0x316)](_0x3e29fc,_0x212613),'stop':()=>this[_0x582fcc(0x260)](_0x3e29fc,_0x212613),'condition':()=>this[_0x582fcc(0x206)](_0x3e29fc,_0x212613),'varedit':()=>this['processvaredits'](_0x3e29fc,_0x212613),'apirequest':()=>this[_0x582fcc(0x4e3)](_0x3e29fc,_0x212613),'goToFlow':()=>this['processgoToFlow'](_0x3e29fc,_0x212613),'awaitSeconds':()=>this['processawaitSeconds'](_0x3e29fc,_0x212613),'clearVariables':()=>this[_0x582fcc(0x3d2)](_0x3e29fc,_0x212613)}[_0x1d7e9f];_0x3dac3d&&await _0x3dac3d();}catch(_0x33e982){this[_0x582fcc(0x1be)][_0x582fcc(0x60d)](this[_0x582fcc(0x770)]+'\x20('+this[_0x582fcc(0x1fb)]['wuid']+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x33e982 instanceof Error?_0x33e982[_0x582fcc(0x780)]:JSON[_0x582fcc(0xfe)](_0x33e982,null,0x2)));}}async[a0_0x29b3b7(0x799)](_0x40a9a3,_0x221f43){const _0x1e2305=a0_0x29b3b7;if(this[_0x1e2305(0x1be)][_0x1e2305(0x7a1)](this[_0x1e2305(0x770)]+'\x20('+this[_0x1e2305(0x1fb)][_0x1e2305(0xe7)]+_0x1e2305(0x6d1)),!_0x40a9a3||!_0x221f43)return this[_0x1e2305(0x1be)][_0x1e2305(0x60d)](this[_0x1e2305(0x770)]+'\x20('+this['instance'][_0x1e2305(0xe7)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x3fe4a2=+_0x221f43['awaitSeconds'];isNaN(_0x3fe4a2)&&(_0x3fe4a2=0x0),_0x3fe4a2=Math['min'](_0x3fe4a2,0x3c),await(0x0,f[_0x1e2305(0x384)])(_0x3fe4a2*0x3e8);let _0x57c89d={'moreLogs':[_0x1e2305(0x17b)+_0x3fe4a2+_0x1e2305(0x209)]};return await this[_0x1e2305(0x324)](_0x40a9a3,_0x221f43,_0x57c89d),_0x3fe4a2;}async[a0_0x29b3b7(0x3d2)](_0x290f5d,_0xb77095){const _0x9314bc=a0_0x29b3b7;if(this[_0x9314bc(0x1be)][_0x9314bc(0x7a1)](this[_0x9314bc(0x770)]+'\x20('+this[_0x9314bc(0x1fb)][_0x9314bc(0xe7)]+_0x9314bc(0x6b6)),!_0x290f5d||!_0xb77095)return this[_0x9314bc(0x1be)][_0x9314bc(0x60d)](this[_0x9314bc(0x770)]+'\x20('+this[_0x9314bc(0x1fb)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x7e8893=[];if(_0xb77095['clearVariables'][_0x9314bc(0x699)]()==='[all]'){let _0x191975=['_pushName',_0x9314bc(0x551),'_activedCount','_remoteJid','_id',_0x9314bc(0x12a)];_0x7e8893=Object[_0x9314bc(0x37a)](_0x290f5d[_0x9314bc(0x6a0)][_0x9314bc(0x4f9)])[_0x9314bc(0x19c)](_0x4e8d02=>_0x4e8d02[_0x9314bc(0x7bb)]('_')&&!_0x191975['includes'](_0x4e8d02));}else _0x7e8893=_0xb77095[_0x9314bc(0x613)]['split']('|')[_0x9314bc(0x40d)](_0x13d6a2=>(_0x13d6a2=_0x13d6a2[_0x9314bc(0x3b1)](/[{}]/g,'')[_0x9314bc(0x699)](),_0x13d6a2['startsWith']('_')?_0x13d6a2:'_'+_0x13d6a2));let _0x3022e5=[];_0x7e8893[_0x9314bc(0x693)](_0x3984ac=>{const _0x2537b8=_0x9314bc;_0x3984ac in _0x290f5d[_0x2537b8(0x6a0)]['realVariables']&&(delete _0x290f5d[_0x2537b8(0x6a0)][_0x2537b8(0x4f9)][_0x3984ac],_0x3022e5['push'](_0x3984ac));}),_0x3022e5[_0x9314bc(0x761)]>0x0?this['logger'][_0x9314bc(0x7a1)](this[_0x9314bc(0x770)]+'\x20('+this['instance']['wuid']+_0x9314bc(0x2fe)+_0x3022e5[_0x9314bc(0x452)](',\x20')):this['logger'][_0x9314bc(0x7a1)](this[_0x9314bc(0x770)]+'\x20('+this[_0x9314bc(0x1fb)][_0x9314bc(0xe7)]+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0x54787a={'moreLogs':[_0x9314bc(0x790)+_0x3022e5[_0x9314bc(0x452)](',\x20')]};return await this[_0x9314bc(0x324)](_0x290f5d,_0xb77095,_0x54787a),null;}async[a0_0x29b3b7(0x255)](_0x44be39,_0x1f183a){const _0x1880b1=a0_0x29b3b7;if(this[_0x1880b1(0x1be)]['verbose'](this[_0x1880b1(0x770)]+'\x20('+this[_0x1880b1(0x1fb)]['wuid']+_0x1880b1(0x66d)),!_0x44be39||!_0x1f183a)return this[_0x1880b1(0x1be)][_0x1880b1(0x60d)](this['instanceName']+'\x20('+this['instance'][_0x1880b1(0xe7)]+_0x1880b1(0x4c6)),null;await this[_0x1880b1(0x324)](_0x44be39,_0x1f183a,{},!0x0,!0x0),console['log']('nextBlock:'),console[_0x1880b1(0x6bf)](_0x1f183a);let _0x5153ad=_0x1f183a[_0x1880b1(0x52b)];console[_0x1880b1(0x6bf)](_0x1880b1(0x73b),_0x5153ad),_0x44be39=await this[_0x1880b1(0x345)](_0x5153ad,_0x44be39['remoteJid'],_0x44be39['chatLog'][_0x1880b1(0x4f9)]),this['logger'][_0x1880b1(0x7a1)](this[_0x1880b1(0x770)]+'\x20('+this['instance'][_0x1880b1(0xe7)]+_0x1880b1(0x4d9));let _0xe87b62=await this[_0x1880b1(0x72f)](_0x44be39);_0xe87b62&&await this[_0x1880b1(0x1e2)](_0x44be39,_0xe87b62);}async[a0_0x29b3b7(0x345)](_0x3e0bc0,_0x3cba15,_0x6c9824){const _0x7d7cc5=a0_0x29b3b7;this['logger'][_0x7d7cc5(0x7a1)](this[_0x7d7cc5(0x770)]+'\x20('+this['instance'][_0x7d7cc5(0xe7)]+_0x7d7cc5(0x6b7));try{if(_0x3e0bc0=await this['repository'][_0x7d7cc5(0x2d3)][_0x7d7cc5(0x3b0)]({'where':{'name':_0x3e0bc0}},this[_0x7d7cc5(0x1fb)]['wuid']),!_0x3e0bc0)return this[_0x7d7cc5(0x1be)][_0x7d7cc5(0x60d)](this[_0x7d7cc5(0x770)]+'\x20('+this[_0x7d7cc5(0x1fb)][_0x7d7cc5(0xe7)]+'):\x20Flow\x20não\x20encontrado'),null;let _0x2f7d9b=require('mongodb')[_0x7d7cc5(0x424)],_0x38965f=Date[_0x7d7cc5(0x5aa)](),_0x3850a2='start',_0x5508ad={},_0x130e86={},_0x20269f={..._0x3e0bc0,'chatLog':null},_0x40ccdc={'lastReceivedMessage':_0x5508ad,'lastSendMessage':_0x130e86,'lastBlockId':_0x3850a2,'lastCondition':!0x0,'realVariables':_0x6c9824};_0x20269f['chatLog']=_0x40ccdc,_0x20269f[_0x7d7cc5(0x6a0)][_0x7d7cc5(0x4f9)]={..._0x6c9824},delete _0x20269f[_0x7d7cc5(0x6a7)],_0x20269f[_0x7d7cc5(0x6a7)]=new _0x2f7d9b(),_0x20269f[_0x7d7cc5(0x505)]=_0x38965f,_0x20269f['status']=_0x7d7cc5(0x444),_0x20269f[_0x7d7cc5(0x4b0)]=_0x3cba15;let _0x92ecd0=await this[_0x7d7cc5(0x68f)][_0x7d7cc5(0x45b)]['updateOne'](_0x20269f[_0x7d7cc5(0x6a7)],_0x20269f,this['instance'][_0x7d7cc5(0xe7)]);return this[_0x7d7cc5(0x1be)][_0x7d7cc5(0x7a1)](this[_0x7d7cc5(0x770)]+'\x20('+this['instance'][_0x7d7cc5(0xe7)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x92ecd0?_0x20269f:null;}catch(_0x379a55){let _0x5040b2=_0x7d7cc5(0x2b7),_0x253822=_0x379a55 instanceof Error?_0x379a55[_0x7d7cc5(0x780)]:typeof _0x379a55==_0x7d7cc5(0x320)?JSON['stringify'](_0x379a55):_0x379a55,_0xa93e4d=_0x5040b2+':\x20'+_0x253822;throw this[_0x7d7cc5(0x1be)][_0x7d7cc5(0x60d)](this['instanceName']+'\x20('+this[_0x7d7cc5(0x1fb)][_0x7d7cc5(0xe7)]+'):\x20'+_0xa93e4d),new m(_0xa93e4d);}}async[a0_0x29b3b7(0x4e3)](_0x2741b6,_0x32905d){const _0x3a79cc=a0_0x29b3b7;let _0x3c8f0b,_0x292d29;try{let _0x86eb64=_0x32905d['apirequest'];if(!_0x86eb64||!_0x86eb64[_0x3a79cc(0x496)]||!_0x86eb64['method'])throw new Error(_0x3a79cc(0x6c2));let _0x80a328;([_0x3a79cc(0x4ae),_0x3a79cc(0x5bb),'https://api.elevenlabs.io/v1/text-to-speech/'][_0x3a79cc(0x179)](_0x669657=>_0x86eb64[_0x3a79cc(0x496)]['includes'](_0x669657))||_0x86eb64[_0x3a79cc(0x4e8)])&&(_0x80a328='arraybuffer');let _0x2264f0='\u205f',_0x6a44cd;try{_0x6a44cd=JSON[_0x3a79cc(0x399)](_0x86eb64[_0x3a79cc(0x25e)][_0x3a79cc(0x3b1)](new RegExp(_0x2264f0,'g'),''));}catch(_0x1ca85c){throw _0x1ca85c;}let _0x1bcd5e={'method':_0x86eb64[_0x3a79cc(0x71c)],'url':_0x86eb64[_0x3a79cc(0x496)],'headers':_0x86eb64[_0x3a79cc(0x121)]||{},..._0x86eb64[_0x3a79cc(0x71c)][_0x3a79cc(0x393)]()!==_0x3a79cc(0x4ec)&&_0x86eb64[_0x3a79cc(0x25e)]?{'data':JSON[_0x3a79cc(0x399)](_0x86eb64[_0x3a79cc(0x25e)][_0x3a79cc(0x3b1)](new RegExp(_0x2264f0,'g'),''))}:{},..._0x80a328&&{'responseType':_0x80a328}},_0x2a1e39=await(0x0,K[_0x3a79cc(0x282)])(_0x1bcd5e),_0x9f3797=_0x2a1e39['headers']['content-type'];if(_0x9f3797&&_0x9f3797[_0x3a79cc(0x58d)]('application/json')||typeof _0x2a1e39[_0x3a79cc(0x2eb)]==_0x3a79cc(0x162)){if(typeof _0x2a1e39[_0x3a79cc(0x2eb)]=='string'){let _0xe6cb94=_0x2a1e39['data'][_0x3a79cc(0x3b1)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x3a79cc(0x699)]();try{_0x3c8f0b=JSON[_0x3a79cc(0x399)](_0xe6cb94);}catch(_0x1402b0){console['error'](_0x3a79cc(0x66b)+_0x1402b0[_0x3a79cc(0x780)]),_0x3c8f0b={'_apiResponse':_0x2a1e39[_0x3a79cc(0x2eb)]};}}else _0x3c8f0b=_0x2a1e39['data'];let _0x5d8798=_0x2741b6[_0x3a79cc(0x6a0)][_0x3a79cc(0x4f9)],_0x176532=this[_0x3a79cc(0x349)](_0x3c8f0b);return Object[_0x3a79cc(0x411)](_0x5d8798,_0x176532),_0x2741b6[_0x3a79cc(0x6a0)][_0x3a79cc(0x4f9)]=_0x5d8798,_0x292d29={'error':!0x1,'apiResponse':_0x3c8f0b},this[_0x3a79cc(0x324)](_0x2741b6,_0x32905d,_0x292d29),_0x3c8f0b;}if(_0x9f3797&&(_0x9f3797['includes']('application/octet-stream')||_0x9f3797['includes'](_0x3a79cc(0x2b9))||_0x9f3797['includes'](_0x3a79cc(0x609))||_0x9f3797[_0x3a79cc(0x58d)](_0x3a79cc(0x370)))){this[_0x3a79cc(0x1be)][_0x3a79cc(0x7a1)](this['instanceName']+'\x20('+this[_0x3a79cc(0x1fb)]['wuid']+_0x3a79cc(0x4e5)+_0x9f3797);let _0x2b3cc4=(0x0,jt['v4'])(),_0x1fc73d='',_0x213a9a={'image/jpeg':'.jpg','image/png':_0x3a79cc(0x30c),'image/gif':_0x3a79cc(0x54a),'image/webp':_0x3a79cc(0x79e),'image/svg+xml':'.svg','audio/mpeg':_0x3a79cc(0x405),'audio/ogg':'.ogg','audio/wav':_0x3a79cc(0x1ce),'video/mp4':_0x3a79cc(0x52d),'video/webm':_0x3a79cc(0x62a),'video/ogg':_0x3a79cc(0x501),'text/plain':'.txt','application/pdf':_0x3a79cc(0x112),'application/msword':_0x3a79cc(0x529),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x3a79cc(0x5c0),'application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x3a79cc(0x688),'application/vnd.ms-powerpoint':_0x3a79cc(0x160),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x213a9a[_0x9f3797]?(_0x1fc73d=_0x213a9a[_0x9f3797],this['logger'][_0x3a79cc(0x7a1)](this['instanceName']+'\x20('+this['instance'][_0x3a79cc(0xe7)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x1fc73d)):(_0x1fc73d=_0x3a79cc(0x75a),this[_0x3a79cc(0x1be)][_0x3a79cc(0x7a1)](this[_0x3a79cc(0x770)]+'\x20('+this[_0x3a79cc(0x1fb)]['wuid']+_0x3a79cc(0xf6)+_0x1fc73d)),_0x2b3cc4+=_0x1fc73d,this[_0x3a79cc(0x1be)]['verbose'](this['instanceName']+'\x20('+this[_0x3a79cc(0x1fb)][_0x3a79cc(0xe7)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x2b3cc4);let _0x561e04=this[_0x3a79cc(0x667)][_0x3a79cc(0x1a1)](_0x3a79cc(0x12d))[_0x3a79cc(0x1f2)];if(!_0x561e04){let _0xf38464=this[_0x3a79cc(0x667)][_0x3a79cc(0x1a1)]('SSL_CONF');_0x561e04=_0x3a79cc(0x3ca)+(_0xf38464&&_0xf38464[_0x3a79cc(0x421)][_0x3a79cc(0x355)]('/')[0x4]);}let _0x410ce6=Buffer[_0x3a79cc(0x12c)](_0x2a1e39[_0x3a79cc(0x2eb)]);await this[_0x3a79cc(0x456)](_0x410ce6,_0x2b3cc4);let _0x2296c4=_0x3a79cc(0x178)+_0x2b3cc4;_0x2296c4=''+_0x561e04+_0x2296c4,_0x3c8f0b={'fileUrl':_0x2296c4},_0x2741b6[_0x3a79cc(0x6a0)][_0x3a79cc(0x4f9)]['fileUrl']=_0x2296c4;let _0x375920=_0x2741b6[_0x3a79cc(0x6a0)][_0x3a79cc(0x4f9)],_0x404031=this[_0x3a79cc(0x349)](_0x3c8f0b);return Object[_0x3a79cc(0x411)](_0x375920,_0x404031),_0x2741b6['chatLog'][_0x3a79cc(0x4f9)]=_0x375920,_0x292d29={'error':!0x1,'apiResponse':{'fileUrl':_0x2296c4}},this[_0x3a79cc(0x324)](_0x2741b6,_0x32905d,_0x292d29),_0x3c8f0b;}}catch(_0x3ef731){console[_0x3a79cc(0x60d)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x3ef731[_0x3a79cc(0x780)]),_0x3ef731[_0x3a79cc(0x252)]&&(_0x3c8f0b=_0x3ef731['response'][_0x3a79cc(0x2eb)]);let _0x3f0c0f=_0x2741b6[_0x3a79cc(0x6a0)][_0x3a79cc(0x4f9)],_0x3ac066=this[_0x3a79cc(0x349)](_0x3c8f0b);return Object['assign'](_0x3f0c0f,_0x3ac066),_0x2741b6[_0x3a79cc(0x6a0)][_0x3a79cc(0x4f9)]=_0x3f0c0f,_0x292d29={'error':!0x0,'errorLog':_0x3ef731['toString'](),'apiResponse':_0x3c8f0b},this[_0x3a79cc(0x324)](_0x2741b6,_0x32905d,_0x292d29),{'success':!0x1};}}[a0_0x29b3b7(0x298)](_0x4d6143,_0x571e6f){const _0x9b0d90=a0_0x29b3b7;let _0x4dd34a=_0x2d4352=>{const _0x57b0ae=a0_0x1da8;let _0xb9209a=_0x2d4352[_0x57b0ae(0x3b1)](/[^0-9.,-]/g,'')[_0x57b0ae(0x3b1)](',','.'),_0x373ee7=parseFloat(_0xb9209a);return isNaN(_0x373ee7)?null:_0x373ee7;},_0x1054ef=_0x571e6f[_0x9b0d90(0x44e)],_0x5489c9=_0x571e6f[_0x9b0d90(0x307)];typeof _0x1054ef=='string'&&(_0x1054ef=this[_0x9b0d90(0x547)](_0x1054ef,_0x4d6143['chatLog'][_0x9b0d90(0x4f9)])??''),typeof _0x5489c9==_0x9b0d90(0x162)&&(_0x5489c9=this['replaceVariables'](_0x5489c9,_0x4d6143[_0x9b0d90(0x6a0)][_0x9b0d90(0x4f9)])??'');let _0x42c724=null;if(!_0x571e6f[_0x9b0d90(0x69c)])return null;switch(this['logger'][_0x9b0d90(0x7a1)](this[_0x9b0d90(0x770)]+'\x20('+this['instance'][_0x9b0d90(0xe7)]+_0x9b0d90(0x39e)+_0x1054ef),this[_0x9b0d90(0x1be)][_0x9b0d90(0x7a1)](this[_0x9b0d90(0x770)]+'\x20('+this[_0x9b0d90(0x1fb)][_0x9b0d90(0xe7)]+_0x9b0d90(0x5a9)+_0x5489c9),_0x571e6f[_0x9b0d90(0x69c)]){case'+':case'-':case'*':case'/':let _0xf03f39=_0x4dd34a(_0x1054ef||'0'),_0x3194dc=_0x4dd34a(_0x5489c9||'0');if(_0xf03f39===null)return null;switch(_0x571e6f[_0x9b0d90(0x69c)]){case'+':_0x42c724=_0xf03f39+(_0x3194dc??0x0);break;case'-':_0x42c724=_0xf03f39-(_0x3194dc??0x0);break;case'*':_0x42c724=_0xf03f39*(_0x3194dc??0x1);break;case'/':_0x3194dc!==0x0&&(_0x42c724=_0xf03f39/(_0x3194dc??0x1));break;}break;case'findAndReplace':case _0x9b0d90(0x3a6):let _0x5e263a=_0x5489c9,_0x4233f3=_0x571e6f[_0x9b0d90(0x2bf)];if(typeof _0x4233f3==_0x9b0d90(0x162)&&(_0x4233f3=this[_0x9b0d90(0x547)](_0x4233f3,_0x4d6143[_0x9b0d90(0x6a0)][_0x9b0d90(0x4f9)])??''),_0x5e263a&&_0x4233f3!==void 0x0){let _0x143841=_0x571e6f[_0x9b0d90(0x69c)]===_0x9b0d90(0xf4)?new RegExp(_0x5e263a[_0x9b0d90(0x3b1)](/[-\/\\^$*+?.()|[\]{}]/g,_0x9b0d90(0x59e)),'g'):new RegExp(_0x5e263a,'g');_0x42c724=_0x1054ef[_0x9b0d90(0x3b1)](_0x143841,_0x4233f3);}else console['warn'](_0x9b0d90(0x3f3));break;case _0x9b0d90(0x3b6):_0x42c724=_0x5489c9;break;case _0x9b0d90(0x2a5):let _0x146172=_0x1054ef[_0x9b0d90(0x6b2)](new RegExp(_0x5489c9||''));_0x42c724=_0x146172?_0x146172[0x0]:'';break;case _0x9b0d90(0x58a):_0x42c724=_0x1054ef[_0x9b0d90(0x754)](0x0,parseInt(_0x5489c9||'0'));break;case _0x9b0d90(0x186):let _0x1a0807=parseInt(_0x5489c9||'0');_0x42c724=_0x1054ef[_0x9b0d90(0x754)](_0x1054ef[_0x9b0d90(0x761)]-_0x1a0807);break;case _0x9b0d90(0x5a2):let _0x508d07=_0x4dd34a(_0x1054ef),_0x1e2dd6=parseInt(_0x5489c9||'0');_0x1e2dd6=Math['abs'](_0x1e2dd6),_0x508d07!==null?_0x42c724=_0x508d07[_0x9b0d90(0x532)](_0x9b0d90(0x381),{'minimumFractionDigits':_0x1e2dd6,'maximumFractionDigits':_0x1e2dd6}):(console[_0x9b0d90(0x47a)](_0x9b0d90(0x4fd)+_0x1054ef),_0x42c724=null);break;case _0x9b0d90(0x3f7):let _0x1adf27=_0x4dd34a(_0x1054ef);_0x1adf27!==null?_0x42c724=_0x1adf27[_0x9b0d90(0x532)](_0x9b0d90(0x381),{'style':_0x9b0d90(0x2d8),'currency':_0x9b0d90(0x23e)}):(console[_0x9b0d90(0x47a)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x1054ef),_0x42c724=null);break;case _0x9b0d90(0x604):_0x42c724=_0x1054ef[_0x9b0d90(0x393)]();break;case _0x9b0d90(0x1a3):_0x42c724=_0x1054ef[_0x9b0d90(0x4d0)]();break;case _0x9b0d90(0x6c4):_0x42c724=_0x1054ef[_0x9b0d90(0x355)]('\x20')[_0x9b0d90(0x40d)](_0x542ede=>_0x542ede['charAt'](0x0)[_0x9b0d90(0x393)]()+_0x542ede[_0x9b0d90(0x754)](0x1)[_0x9b0d90(0x4d0)]())[_0x9b0d90(0x452)]('\x20');break;case'trimmed':_0x42c724=_0x1054ef[_0x9b0d90(0x699)]();break;default:_0x42c724=_0x1054ef;}return _0x42c724!==null?_0x42c724['toString']():null;}async[a0_0x29b3b7(0x4a3)](_0x3e8a96,_0x35ebfa){const _0x57205e=a0_0x29b3b7;try{let _0x494417=_0x3e8a96[_0x57205e(0x233)]?.[_0x57205e(0x19c)](_0x1017ac=>_0x1017ac[_0x57205e(0x77a)]===_0x35ebfa[_0x57205e(0x6a7)]?.[_0x57205e(0x4a2)]())||[],_0x1634cc=_0x35ebfa[_0x57205e(0x692)],_0x4a42fd=null,_0xf82a44=[],_0x199598=_0x3e8a96[_0x57205e(0x6a0)][_0x57205e(0x4f9)][_0x1634cc];_0xf82a44['push']('Valor\x20inicial:\x20\x22'+_0x199598+'\x22');for(let _0x3100a0 of _0x494417){_0x3100a0[_0x57205e(0x44e)]=_0x199598,_0x4a42fd=_0x3100a0[_0x57205e(0x44e)];let _0xb56f0f;try{_0xb56f0f=this[_0x57205e(0x298)](_0x3e8a96,_0x3100a0);}catch(_0x423861){console[_0x57205e(0x60d)](_0x57205e(0x605)+_0x423861['message']);continue;}if(_0xb56f0f!==null){let _0x29db7d=_0x57205e(0x114)+_0x3100a0[_0x57205e(0x69c)]+'\x22',_0x15480f=[_0x57205e(0x3f7),_0x57205e(0x604),_0x57205e(0x1a3),_0x57205e(0x6c4),_0x57205e(0x5e4)];_0x3100a0[_0x57205e(0x69c)]===_0x57205e(0xf4)||_0x3100a0['editOperator']===_0x57205e(0x3a6)?_0x29db7d+=_0x57205e(0x295)+_0x3100a0[_0x57205e(0x307)]+_0x57205e(0x62f)+_0x3100a0[_0x57205e(0x2bf)]+'\x22':!_0x15480f['includes'](_0x3100a0[_0x57205e(0x69c)])&&_0x3100a0[_0x57205e(0x307)]!==null&&_0x3100a0[_0x57205e(0x307)]!==void 0x0&&(_0x29db7d+=_0x57205e(0x611)+_0x3100a0['secondValue']+'\x22'),_0x29db7d+=_0x57205e(0x167)+_0xb56f0f+'.',_0xf82a44['push'](_0x29db7d);}_0xb56f0f!==null&&(_0x199598=_0xb56f0f);}if(_0x3e8a96[_0x57205e(0x6a0)][_0x57205e(0x4f9)]&&_0x35ebfa['saveVariable']){_0x3e8a96[_0x57205e(0x6a0)][_0x57205e(0x4f9)][_0x35ebfa['saveVariable']]=_0x199598;let _0x355735={'variable':_0x35ebfa[_0x57205e(0x692)],'oldValue':_0x4a42fd,'newValue':_0x199598,'moreLogs':_0xf82a44};try{this[_0x57205e(0x324)](_0x3e8a96,_0x35ebfa,_0x355735);}catch(_0x31a546){console[_0x57205e(0x60d)](_0x57205e(0x2ac)+_0x31a546[_0x57205e(0x780)]);}}return _0x1634cc;}catch(_0x4f09c4){return console['error'](_0x57205e(0x432)+_0x4f09c4[_0x57205e(0x780)]),null;}}async[a0_0x29b3b7(0x206)](_0xe57199,_0x57857f){const _0x41c7cc=a0_0x29b3b7;try{let _0x31e612=[],_0x4588c8=_0xe57199[_0x41c7cc(0x471)][_0x41c7cc(0x19c)](_0x4340bd=>_0x4340bd[_0x41c7cc(0x77a)]===_0x57857f[_0x41c7cc(0x6a7)][_0x41c7cc(0x4a2)]()),_0x3db59b=null,_0x52b7ac=!0x1;for(let _0x297fc5 of _0x4588c8){let _0x5985bb=this['evaluateCondition'](_0xe57199,_0x297fc5);_0x31e612[_0x41c7cc(0x343)](_0x41c7cc(0x77d)+_0x297fc5[_0x41c7cc(0x44e)]+',\x20Comparador:\x20'+_0x297fc5[_0x41c7cc(0x4f6)]+_0x41c7cc(0x74a)+_0x297fc5['secondValue']+_0x41c7cc(0x42b)+_0x5985bb),_0x3db59b===null?_0x3db59b=_0x5985bb:_0x297fc5['OrAnd']===_0x41c7cc(0x49a)?(_0x3db59b=_0x3db59b&&_0x5985bb,_0x5985bb||(_0x52b7ac=!0x0)):_0x297fc5[_0x41c7cc(0x458)]==='or'&&(_0x52b7ac||(_0x3db59b=_0x3db59b||_0x5985bb));}_0x3db59b===null&&(_0x3db59b=!0x0);let _0xa78e0e={'moreLogs':_0x31e612};_0xe57199[_0x41c7cc(0x6a0)][_0x41c7cc(0x172)]=_0x3db59b,await this[_0x41c7cc(0x324)](_0xe57199,_0x57857f,_0xa78e0e);}catch(_0x4dc6c8){this[_0x41c7cc(0x1be)][_0x41c7cc(0x60d)](this[_0x41c7cc(0x770)]+'\x20('+this[_0x41c7cc(0x1fb)][_0x41c7cc(0xe7)]+_0x41c7cc(0x3e7)+(_0x4dc6c8 instanceof Error?_0x4dc6c8['message']:JSON['stringify'](_0x4dc6c8,null,0x2)));}}['evaluateCondition'](_0x1d7973,_0x562e00){const _0x2154fc=a0_0x29b3b7;let _0x5987d9=_0x562e00[_0x2154fc(0x44e)],_0x419ae9=_0x562e00['secondValue'];typeof _0x5987d9==_0x2154fc(0x162)&&(_0x5987d9=this['replaceVariables'](_0x5987d9,_0x1d7973[_0x2154fc(0x6a0)][_0x2154fc(0x4f9)])??''),typeof _0x419ae9==_0x2154fc(0x162)&&(_0x419ae9=this[_0x2154fc(0x547)](_0x419ae9,_0x1d7973[_0x2154fc(0x6a0)][_0x2154fc(0x4f9)])??'');try{switch(_0x562e00[_0x2154fc(0x4f6)]){case _0x2154fc(0x6de):return _0x5987d9===_0x419ae9;case _0x2154fc(0x3bf):return _0x5987d9!==_0x419ae9;case'contains':return this[_0x2154fc(0x5b9)](_0x5987d9,_0x419ae9);case'notContains':return!this[_0x2154fc(0x5b9)](_0x5987d9,_0x419ae9);case _0x2154fc(0x2aa):return parseFloat(_0x5987d9)>parseFloat(_0x419ae9);case _0x2154fc(0x359):return parseFloat(_0x5987d9)<parseFloat(_0x419ae9);case _0x2154fc(0x16b):return _0x5987d9!=='';case'empty':return _0x5987d9==='';case'matchRegex':return new RegExp(_0x419ae9)['test'](_0x5987d9);case _0x2154fc(0x123):return!new RegExp(_0x419ae9)[_0x2154fc(0x3e4)](_0x5987d9);default:return!0x1;}}catch(_0x441500){return console[_0x2154fc(0x60d)](_0x2154fc(0x275)+_0x441500),!0x1;}}['contains'](_0x27cbd6,_0x43d5f6){const _0x25533f=a0_0x29b3b7;if(_0x27cbd6===_0x43d5f6&&/^\d+$/[_0x25533f(0x3e4)](_0x27cbd6))return!0x0;if(this[_0x25533f(0x236)](_0x27cbd6)&&/^\d+$/['test'](_0x43d5f6)){let _0x3cc64d=_0x27cbd6['split'](',')[_0x25533f(0x40d)](_0x361cae=>parseInt(_0x361cae['trim']())),_0x30b49a=parseInt(_0x43d5f6);return _0x3cc64d['includes'](_0x30b49a);}return _0x27cbd6[_0x25533f(0x58d)](_0x43d5f6);}[a0_0x29b3b7(0x236)](_0x1aaa5f){const _0x4af0f7=a0_0x29b3b7;return/^\d+(,\d+)*$/[_0x4af0f7(0x3e4)](_0x1aaa5f);}['processConditionsTest'](_0x594efc){const _0x304053=a0_0x29b3b7;let _0x62a158=!0x0,_0x556c40=null;for(let _0x4eaa34 of _0x594efc){let _0x360757=this[_0x304053(0x503)](_0x4eaa34);if(_0x556c40==='or'&&_0x360757){_0x62a158=!0x0;break;}if(_0x556c40===_0x304053(0x49a)&&!_0x360757){_0x62a158=!0x1;break;}_0x556c40=_0x4eaa34[_0x304053(0x458)];}return _0x62a158;}[a0_0x29b3b7(0x503)](_0x4b534d){const _0x23389c=a0_0x29b3b7;let _0x561100=_0x4b534d[_0x23389c(0x44e)],_0x53b47c=_0x4b534d[_0x23389c(0x307)];try{switch(_0x4b534d[_0x23389c(0x4f6)]){case'equal':return String(_0x561100)===String(_0x53b47c);case'notEqual':return String(_0x561100)!==String(_0x53b47c);case'contains':return String(_0x561100)['includes'](String(_0x53b47c));case _0x23389c(0x5e8):return!String(_0x561100)[_0x23389c(0x58d)](String(_0x53b47c));case _0x23389c(0x2aa):return parseFloat(String(_0x561100))>parseFloat(String(_0x53b47c));case'less':return parseFloat(String(_0x561100))<parseFloat(String(_0x53b47c));case _0x23389c(0x16b):return String(_0x561100)!=='';case _0x23389c(0x5f4):return String(_0x561100)==='';case _0x23389c(0x4bb):return new RegExp(String(_0x53b47c))[_0x23389c(0x3e4)](String(_0x561100));case'notMatchRegex':return!new RegExp(String(_0x53b47c))[_0x23389c(0x3e4)](String(_0x561100));default:return!0x1;}}catch(_0x5c2297){return console[_0x23389c(0x60d)](_0x23389c(0x275)+_0x5c2297),!0x1;}}async[a0_0x29b3b7(0x316)](_0x325070,_0x572d57){const _0x43360a=a0_0x29b3b7;if(this[_0x43360a(0x1be)][_0x43360a(0x7a1)](this[_0x43360a(0x770)]+'\x20('+this['instance'][_0x43360a(0xe7)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x325070||!_0x572d57)return this[_0x43360a(0x1be)][_0x43360a(0x60d)](this['instanceName']+'\x20('+this[_0x43360a(0x1fb)][_0x43360a(0xe7)]+_0x43360a(0x4c6)),null;let _0xd28c32=_0x325070['chatLog'][_0x43360a(0x2b4)]['key']['id'];this[_0x43360a(0x1be)]['verbose'](this[_0x43360a(0x770)]+'\x20('+this['instance'][_0x43360a(0xe7)]+_0x43360a(0x174)+_0xd28c32);let _0x477b98={'key':{'id':_0xd28c32}},_0x33ab13=_0x572d57[_0x43360a(0x692)];_0x325070[_0x43360a(0x6a0)]['realVariables']['_'+_0x33ab13+_0x43360a(0x702)]=null,_0x325070[_0x43360a(0x6a0)][_0x43360a(0x4f9)]['_'+_0x33ab13+_0x43360a(0x4cc)]=null,_0x325070['chatLog']['realVariables']['_'+_0x33ab13+_0x43360a(0x1b3)]=null,_0x325070[_0x43360a(0x6a0)][_0x43360a(0x4f9)]['_'+_0x33ab13+_0x43360a(0x232)]=_0x325070['chatLog'][_0x43360a(0x2b4)][_0x43360a(0x263)];try{let _0x586f31=await this[_0x43360a(0x716)](_0x477b98);this['logger'][_0x43360a(0x7a1)](this[_0x43360a(0x770)]+'\x20('+this[_0x43360a(0x1fb)][_0x43360a(0xe7)]+_0x43360a(0x36b)),_0x325070['chatLog'][_0x43360a(0x4f9)]['_'+_0x33ab13+_0x43360a(0x648)]=_0x586f31['fileUrl'],_0x325070['chatLog'][_0x43360a(0x4f9)]['_'+_0x33ab13+_0x43360a(0x4cc)]=_0x586f31['mimetype'];let _0x922aac=_0x586f31['mimetype']['match'](/\/(\w+)$/),_0x2d4362=_0x922aac?_0x922aac[0x1]:null;_0x325070[_0x43360a(0x6a0)][_0x43360a(0x4f9)]['_'+_0x33ab13+_0x43360a(0x1b3)]=_0x2d4362,this[_0x43360a(0x1be)][_0x43360a(0x7a1)](this[_0x43360a(0x770)]+'\x20('+this['instance'][_0x43360a(0xe7)]+_0x43360a(0x2c0)+_0x33ab13+'\x27.');}catch(_0x52062d){this[_0x43360a(0x1be)][_0x43360a(0x60d)](this['instanceName']+'\x20('+this[_0x43360a(0x1fb)][_0x43360a(0xe7)]+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20'+_0x52062d);}let _0x431c02=_0x325070['chatLog'][_0x43360a(0x2b4)][_0x43360a(0x623)]||_0x325070['chatLog'][_0x43360a(0x2b4)][_0x43360a(0x106)]||_0x325070['chatLog'][_0x43360a(0x2b4)][_0x43360a(0x4ac)];try{_0x325070[_0x43360a(0x6a0)]['realVariables']||(_0x325070[_0x43360a(0x6a0)][_0x43360a(0x4f9)]={});let _0x5b13a2=_0x325070['chatLog'][_0x43360a(0x4f9)][_0x33ab13];_0x325070[_0x43360a(0x6a0)][_0x43360a(0x4f9)][_0x33ab13]=_0x431c02;let _0xd5d053={'variable':_0x33ab13,'oldValue':_0x5b13a2,'newValue':_0x431c02};this['updateConversation'](_0x325070,_0x572d57,_0xd5d053),this['logger'][_0x43360a(0x7a1)](this[_0x43360a(0x770)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x2dfcfb){let _0x56ea53={'error':!0x0,'errorLog':_0x2dfcfb[_0x43360a(0x4a2)]()};return this[_0x43360a(0x324)](_0x325070,_0x572d57,_0x56ea53),this[_0x43360a(0x1be)][_0x43360a(0x60d)](this[_0x43360a(0x770)]+'\x20('+this[_0x43360a(0x1fb)][_0x43360a(0xe7)]+_0x43360a(0x17d)+(_0x2dfcfb instanceof Error?_0x2dfcfb[_0x43360a(0x780)]:JSON['stringify'](_0x2dfcfb,null,0x2))),null;}}async['stopConversation'](_0x232b38,_0x297399){const _0x5231a1=a0_0x29b3b7;if(this[_0x5231a1(0x1be)][_0x5231a1(0x7a1)](this['instanceName']+'\x20('+this[_0x5231a1(0x1fb)][_0x5231a1(0xe7)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x232b38||!_0x297399)return this[_0x5231a1(0x1be)]['error'](this[_0x5231a1(0x770)]+'\x20('+this[_0x5231a1(0x1fb)][_0x5231a1(0xe7)]+_0x5231a1(0x4c6)),null;let _0x4fb2a9=Date['now'](),_0x4b0bd2=parseInt(_0x297399[_0x5231a1(0x197)],0xa);if(isNaN(_0x4b0bd2))return this['logger'][_0x5231a1(0x60d)](this[_0x5231a1(0x770)]+'\x20('+this[_0x5231a1(0x1fb)][_0x5231a1(0xe7)]+_0x5231a1(0x502)),null;let _0x4b020c={'newStoppedUntil':_0x4fb2a9+_0x4b0bd2*0x3c*0x3e8};return await this[_0x5231a1(0x324)](_0x232b38,_0x297399,_0x4b020c,!0x0),null;}async[a0_0x29b3b7(0x317)](_0x25a8d7,_0x37f488){const _0x3a4fef=a0_0x29b3b7;try{switch(_0x37f488[_0x3a4fef(0x11e)][_0x3a4fef(0x639)]){case _0x3a4fef(0x401):await this[_0x3a4fef(0x38b)](_0x25a8d7,_0x37f488);break;case _0x3a4fef(0x71a):await this[_0x3a4fef(0x5ef)](_0x25a8d7,_0x37f488);break;case _0x3a4fef(0x3fa):await this['uazapiSendLocation'](_0x25a8d7,_0x37f488);break;case _0x3a4fef(0x640):await this[_0x3a4fef(0x5f3)](_0x25a8d7,_0x37f488);break;case _0x3a4fef(0x4a5):await this['uazapiSendContact'](_0x25a8d7,_0x37f488);break;case'sendPoll':await this[_0x3a4fef(0x453)](_0x25a8d7,_0x37f488);break;case _0x3a4fef(0x4c2):await this['uazapiSendMenu'](_0x25a8d7,_0x37f488);break;case _0x3a4fef(0x45a):await this[_0x3a4fef(0x784)](_0x25a8d7,_0x37f488);break;default:this[_0x3a4fef(0x1be)]['error'](this[_0x3a4fef(0x770)]+'\x20('+this['instance']['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0x37f488[_0x3a4fef(0x11e)]['command']);}}catch(_0x53574e){this[_0x3a4fef(0x1be)][_0x3a4fef(0x60d)](this[_0x3a4fef(0x770)]+'\x20('+this[_0x3a4fef(0x1fb)][_0x3a4fef(0xe7)]+_0x3a4fef(0x5c4)+(_0x53574e instanceof Error?_0x53574e['message']:JSON[_0x3a4fef(0xfe)](_0x53574e,null,0x2)));}}async[a0_0x29b3b7(0x324)](_0xfca75e,_0x30845b,_0x1d56d4,_0x2f23bf=!0x1,_0x1859f4=!0x1){const _0x56f4e2=a0_0x29b3b7;_0xfca75e[_0x56f4e2(0x6a0)][_0x56f4e2(0x1b7)]||(_0xfca75e[_0x56f4e2(0x6a0)]['blockLogs']=[]);let _0x310943=(_0xfca75e[_0x56f4e2(0x6a0)]['blockLogs']?.[_0x56f4e2(0x761)]??0x0)+0x1,_0x29fcc1=_0xfca75e[_0x56f4e2(0x6a0)]['blockLogs'][_0x56f4e2(0x19c)](_0x10e6df=>String(_0x10e6df[_0x56f4e2(0x77a)])===String(_0x30845b[_0x56f4e2(0x6a7)]))[_0x56f4e2(0x761)]+0x1,_0x42a391=_0x1d56d4?.[_0x56f4e2(0x5d6)]??Date[_0x56f4e2(0x5aa)](),_0x6558f0=_0x1d56d4?.['error']?_0x1d56d4[_0x56f4e2(0x3e9)]??_0x1d56d4[_0x56f4e2(0x60d)]['toString']():void 0x0,_0x50b96c={'onTime':_0x42a391,'blockId':_0x30845b[_0x56f4e2(0x6a7)],'order':_0x310943,'activatedCount':_0x29fcc1,'error':_0x1d56d4?.[_0x56f4e2(0x60d)]??!0x1,'messageId':_0x1d56d4?.[_0x56f4e2(0x37e)],'apiResponse':_0x1d56d4?.[_0x56f4e2(0x544)],'apiResponseString':_0x1d56d4?.[_0x56f4e2(0x544)]?JSON[_0x56f4e2(0xfe)](_0x1d56d4?.[_0x56f4e2(0x544)]):void 0x0,'variable':_0x1d56d4?.[_0x56f4e2(0x50a)],'oldValue':_0x1d56d4?.[_0x56f4e2(0x48e)],'newValue':_0x1d56d4?.[_0x56f4e2(0x3c1)],'newStoppedUntil':_0x1d56d4?.['newStoppedUntil'],'moreLogs':_0x1d56d4?.['moreLogs'],'errorLog':_0x6558f0};if(_0x1d56d4[_0x56f4e2(0x765)]&&_0x1d56d4[_0x56f4e2(0x765)][_0x56f4e2(0x761)]>0x0){let _0x38a55d=_0x1d56d4['moreLogs']['map'](_0x5cd307=>this[_0x56f4e2(0x477)](_0x5cd307,_0xfca75e[_0x56f4e2(0x6a0)]['realVariables']));_0x50b96c[_0x56f4e2(0x765)]=_0x38a55d;}_0xfca75e[_0x56f4e2(0x6a0)][_0x56f4e2(0x4f9)]||(_0xfca75e[_0x56f4e2(0x6a0)][_0x56f4e2(0x4f9)]={}),_0xfca75e['chatLog'][_0x56f4e2(0x4f9)][_0x56f4e2(0x582)]=String(_0x29fcc1),_0xfca75e[_0x56f4e2(0x6a0)][_0x56f4e2(0x4f9)]['_error']=String(_0x1d56d4[_0x56f4e2(0x60d)]??!0x1),_0xfca75e['chatLog'][_0x56f4e2(0x1b7)][_0x56f4e2(0x343)](_0x50b96c),_0xfca75e['chatLog']['lastBlockId']=_0x30845b[_0x56f4e2(0x6a7)]['toString'](),_0xfca75e['chatLog'][_0x56f4e2(0x3e1)]&&(_0xfca75e[_0x56f4e2(0x6a0)][_0x56f4e2(0x3e1)]=_0xfca75e['chatLog'][_0x56f4e2(0x3e1)]),_0xfca75e[_0x56f4e2(0x6a0)][_0x56f4e2(0x2b4)]&&(_0xfca75e[_0x56f4e2(0x6a0)]['lastReceivedMessage']=_0xfca75e[_0x56f4e2(0x6a0)]['lastReceivedMessage']),_0xfca75e[_0x56f4e2(0x6a0)]['lastCondition']&&(_0xfca75e[_0x56f4e2(0x6a0)][_0x56f4e2(0x172)]=_0xfca75e[_0x56f4e2(0x6a0)][_0x56f4e2(0x172)]),_0x1859f4&&(_0xfca75e['status']=_0x56f4e2(0x6c0)),_0x2f23bf?this['saveConversationToDatabase'](_0xfca75e):this[_0x56f4e2(0x54b)](_0xfca75e,_0x30845b);}[a0_0x29b3b7(0x477)](_0x58772f,_0x47dc78){const _0xb74457=a0_0x29b3b7;return _0x58772f[_0xb74457(0x3b1)](/\{\{([^}]+)\}\}/g,(_0x404799,_0x35c757)=>_0x47dc78[_0x35c757]?'{{'+_0x35c757+'}}\x20->\x20\x22'+_0x47dc78[_0x35c757]+'\x22':'{{'+_0x35c757+_0xb74457(0x184));}async[a0_0x29b3b7(0x446)](_0x384946){const _0x4440ef=a0_0x29b3b7;try{let _0xa64fb1=Object[_0x4440ef(0x6ee)](_0x384946[_0x4440ef(0x6a0)][_0x4440ef(0x4f9)])['map'](([_0x18ceae,_0x34850a])=>({'name':_0x18ceae,'value':_0x34850a})),_0x25fed8={'status':_0x384946[_0x4440ef(0x59d)],'blocks':_0x384946[_0x4440ef(0x63e)],'waitingMenu_id':_0x384946[_0x4440ef(0x253)],'waitingMenu_text':_0x384946[_0x4440ef(0x39c)],'waitingMenu_replyOptions':_0x384946[_0x4440ef(0x54d)],'chatLog':{'lastBlockId':_0x384946[_0x4440ef(0x6a0)][_0x4440ef(0x1fc)],'lastSendMessage':_0x384946[_0x4440ef(0x6a0)]['lastSendMessage'],'lastReceivedMessage':_0x384946[_0x4440ef(0x6a0)][_0x4440ef(0x2b4)],'lastCondition':_0x384946[_0x4440ef(0x6a0)][_0x4440ef(0x172)],'chatVariables':_0xa64fb1,'realVariables':_0x384946['chatLog'][_0x4440ef(0x4f9)],'blockLogs':_0x384946['chatLog'][_0x4440ef(0x1b7)]}},_0x57c24a=await this[_0x4440ef(0x68f)][_0x4440ef(0x45b)]['updateOne'](_0x384946[_0x4440ef(0x6a7)],_0x25fed8,this[_0x4440ef(0x1fb)]['wuid']);if(_0x57c24a){this[_0x4440ef(0x1be)][_0x4440ef(0x7a1)](this['instanceName']+'\x20('+this[_0x4440ef(0x1fb)][_0x4440ef(0xe7)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x57c24a[_0x4440ef(0x6a7)]);try{let _0x63a76e=[_0x4440ef(0x6a8),_0x4440ef(0x3b5),_0x4440ef(0x10d),_0x4440ef(0x3f1),'status',_0x4440ef(0x291),'responsavelid','tags',_0x4440ef(0x445)];if(!this[_0x4440ef(0x460)]&&(await this['getAutomateSystem'](),!this[_0x4440ef(0x460)]))throw new Error(_0x4440ef(0x5d1));let _0x175963=this[_0x4440ef(0x460)]?.[_0x4440ef(0x2fa)][_0x4440ef(0x40d)](_0x324dfb=>_0x324dfb[_0x4440ef(0x438)]),_0x2726b1={};Object['entries'](_0x384946[_0x4440ef(0x6a0)][_0x4440ef(0x4f9)])[_0x4440ef(0x693)](([_0x7e42f1,_0x8535e1])=>{const _0x390906=_0x4440ef;_0x63a76e[_0x390906(0x58d)](_0x7e42f1)&&(_0x7e42f1===_0x390906(0x218)&&typeof _0x8535e1==_0x390906(0x162)?_0x2726b1[_0x7e42f1]=_0x8535e1[_0x390906(0x355)](',')[_0x390906(0x40d)](_0x101154=>_0x101154[_0x390906(0x699)]())[_0x390906(0x19c)](_0x469547=>_0x469547!==''):_0x7e42f1===_0x390906(0x445)&&typeof _0x8535e1==_0x390906(0x162)?_0x2726b1[_0x7e42f1]=_0x8535e1[_0x390906(0x355)](',')[_0x390906(0x40d)](_0x2665b2=>_0x2665b2[_0x390906(0x699)]())[_0x390906(0x19c)](_0x4c5384=>_0x4c5384!==''):_0x2726b1[_0x7e42f1]=_0x8535e1);});let _0x3fd05f=_0x384946[_0x4440ef(0x6a0)][_0x4440ef(0x1b7)][_0x384946[_0x4440ef(0x6a0)][_0x4440ef(0x1b7)][_0x4440ef(0x761)]-0x1];if(_0x3fd05f){let _0x2547a4=_0x3fd05f['newStoppedUntil'];_0x2547a4!==void 0x0&&(_0x2726b1[_0x4440ef(0xe8)]=_0x2547a4[_0x4440ef(0x4a2)]());}let _0x67399a=_0xa64fb1[_0x4440ef(0x19c)](_0x11b251=>_0x175963[_0x4440ef(0x58d)](_0x11b251['name']));this[_0x4440ef(0x1be)][_0x4440ef(0x7a1)](this[_0x4440ef(0x770)]+'\x20('+this['instance'][_0x4440ef(0xe7)]+_0x4440ef(0x554)),this[_0x4440ef(0x1be)]['verbose'](_0x2726b1),this[_0x4440ef(0x1be)][_0x4440ef(0x7a1)](this[_0x4440ef(0x770)]+'\x20('+this[_0x4440ef(0x1fb)]['wuid']+_0x4440ef(0x139)),this[_0x4440ef(0x1be)]['verbose'](_0x67399a);let _0x1eb3ca=_0x67399a[_0x4440ef(0x40d)](_0xd8194e=>{const _0x4ac188=_0x4440ef;let _0x41eb0d=this['AutomateSystem']?.['customFields']['find'](_0x4801aa=>_0x4801aa['name']===_0xd8194e['name']);if(!_0x41eb0d)throw new Error(_0x4ac188(0x7c7)+_0xd8194e[_0x4ac188(0x438)]);return{'_id':_0x41eb0d['_id'],'value':_0xd8194e[_0x4ac188(0x1fe)]};});this[_0x4440ef(0x1be)]['verbose'](this[_0x4440ef(0x770)]+'\x20('+this[_0x4440ef(0x1fb)][_0x4440ef(0xe7)]+'):\x20transformedCustomFieldVariables'),this[_0x4440ef(0x1be)]['verbose'](_0x1eb3ca),await this['saveChatVariables'](_0x384946['remoteJid'],_0x2726b1,_0x1eb3ca);}catch(_0x254f0d){this[_0x4440ef(0x1be)][_0x4440ef(0x60d)](this['instanceName']+'\x20('+this['instance'][_0x4440ef(0xe7)]+_0x4440ef(0x18a)+(_0x254f0d instanceof Error?_0x254f0d[_0x4440ef(0x780)]:JSON[_0x4440ef(0xfe)](_0x254f0d,null,0x2)));}}else this[_0x4440ef(0x1be)][_0x4440ef(0x60d)](this[_0x4440ef(0x770)]+'\x20('+this['instance'][_0x4440ef(0xe7)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x3b62ff){this[_0x4440ef(0x1be)][_0x4440ef(0x60d)](this[_0x4440ef(0x770)]+'\x20('+this[_0x4440ef(0x1fb)][_0x4440ef(0xe7)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x3b62ff instanceof Error?_0x3b62ff[_0x4440ef(0x780)]:JSON['stringify'](_0x3b62ff,null,0x2)));}}async[a0_0x29b3b7(0x406)](_0x1cf29a,_0x431ef2,_0xeff810){const _0x196b76=a0_0x29b3b7;try{let _0x12a882={'leadInfo.leadnome':_0x431ef2[_0x196b76(0x6a8)],'leadInfo.nomecompleto':_0x431ef2[_0x196b76(0x3b5)],'leadInfo.email':_0x431ef2[_0x196b76(0x10d)],'leadInfo.cpf':_0x431ef2[_0x196b76(0x3f1)],'leadInfo.status':_0x431ef2[_0x196b76(0x59d)],'leadInfo.notas':_0x431ef2['notas'],'leadInfo.responsavelid':_0x431ef2['responsavelid'],'leadInfo.tags':_0x431ef2[_0x196b76(0x218)],'leadInfo.etiquetas':_0x431ef2['etiquetas'],'leadInfo.customFields':_0xeff810},_0x401619=await this['repository'][_0x196b76(0xf1)][_0x196b76(0x3b0)]({'where':{'_id':_0x1cf29a}},this['instance'][_0x196b76(0xe7)]),_0x1f6de0=new Set(_0x401619['leadInfo'][_0x196b76(0x445)]||[]),_0x5fff97=new Set(_0x431ef2[_0x196b76(0x445)]||[]),_0x29c62d=await this[_0x196b76(0x68f)]['label']['find']({'where':{}},this['instance'][_0x196b76(0xe7)]),_0x5645fc=new Set(_0x29c62d[_0x196b76(0x40d)](_0xabbeb1=>_0xabbeb1[_0x196b76(0x6a7)])),_0x35b088=[..._0x5fff97][_0x196b76(0x19c)](_0x20c19d=>!_0x1f6de0[_0x196b76(0x38f)](_0x20c19d)&&_0x5645fc[_0x196b76(0x38f)](_0x20c19d)),_0x5497ba=[..._0x1f6de0][_0x196b76(0x19c)](_0x7f8561=>!_0x5fff97[_0x196b76(0x38f)](_0x7f8561));for(let _0x52ab85 of _0x35b088)await this[_0x196b76(0x6be)](_0x52ab85,_0x401619[_0x196b76(0x6a7)]),_0x1f6de0['add'](_0x52ab85);for(let _0x516bd3 of _0x5497ba)await this[_0x196b76(0x618)](_0x516bd3,_0x401619[_0x196b76(0x6a7)]),_0x1f6de0[_0x196b76(0x5a1)](_0x516bd3);if('desativadoFluxoAte'in _0x431ef2){let _0x500ec3=_0x431ef2['desativadoFluxoAte'];_0x12a882[_0x196b76(0x763)]=_0x500ec3?Number(_0x500ec3):null;}let _0x46ec13=await this['repository'][_0x196b76(0xf1)]['updateOne']({'where':{'_id':_0x1cf29a}},_0x12a882,this['instance'][_0x196b76(0xe7)]);_0x46ec13?(this['logger']['verbose'](this[_0x196b76(0x770)]+'\x20('+this[_0x196b76(0x1fb)][_0x196b76(0xe7)]+_0x196b76(0x690)+_0x46ec13[_0x196b76(0x6a7)]),J(this[_0x196b76(0x770)],'chats',{'chat':_0x46ec13})):this[_0x196b76(0x1be)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x196b76(0x29c));}catch(_0x5e6c9a){this[_0x196b76(0x1be)][_0x196b76(0x60d)](this[_0x196b76(0x770)]+'\x20('+this['instance']['wuid']+_0x196b76(0x7a6)+(_0x5e6c9a instanceof Error?_0x5e6c9a[_0x196b76(0x780)]:JSON[_0x196b76(0xfe)](_0x5e6c9a,null,0x2)));}}async[a0_0x29b3b7(0x75c)](_0x283b03,_0x560a16){const _0x39f049=a0_0x29b3b7;this['logger'][_0x39f049(0x7a1)](this[_0x39f049(0x770)]+'\x20('+this[_0x39f049(0x1fb)][_0x39f049(0xe7)]+_0x39f049(0x211)+_0x560a16);try{let _0x4a845e=await this[_0x39f049(0x68f)][_0x39f049(0xf1)]['updateOne']({'where':{'_id':_0x283b03[_0x39f049(0x4b0)]}},{'leadInfo.desativadoFluxoAte':_0x560a16},this[_0x39f049(0x1fb)][_0x39f049(0xe7)]);this[_0x39f049(0x1be)]['verbose'](this[_0x39f049(0x770)]+'\x20('+this[_0x39f049(0x1fb)][_0x39f049(0xe7)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x283b03[_0x39f049(0x6a7)]),this['logger'][_0x39f049(0x7a1)](this[_0x39f049(0x770)]+'\x20('+this[_0x39f049(0x1fb)][_0x39f049(0xe7)]+'):\x20atualização\x20chat:\x20'+JSON[_0x39f049(0xfe)](_0x4a845e,null,0x2)),_0x4a845e&&J(this['instanceName'],_0x39f049(0x61e),{'chat':_0x4a845e});}catch(_0x39e343){this[_0x39f049(0x1be)][_0x39f049(0x60d)](this[_0x39f049(0x770)]+'\x20('+this[_0x39f049(0x1fb)][_0x39f049(0xe7)]+_0x39f049(0x6d4)+(_0x39e343 instanceof Error?_0x39e343[_0x39f049(0x780)]:JSON[_0x39f049(0xfe)](_0x39e343,null,0x2)));}}async['findFlow'](_0x44ecee){const _0xaff609=a0_0x29b3b7;try{this[_0xaff609(0x1be)]['verbose'](this[_0xaff609(0x770)]+'\x20('+this['instance'][_0xaff609(0xe7)]+_0xaff609(0x6b0));let _0x17f972=_0x44ecee['replace'](/\D/g,''),_0x3a6f47=await this['repository'][_0xaff609(0x2d3)][_0xaff609(0x3b0)]({'where':{'testingWith':_0x17f972}},this[_0xaff609(0x1fb)]['wuid']);return _0x3a6f47||(this['logger'][_0xaff609(0x7a1)](this[_0xaff609(0x770)]+'\x20('+this['instance'][_0xaff609(0xe7)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x3a6f47=await this[_0xaff609(0x68f)][_0xaff609(0x2d3)][_0xaff609(0x3b0)]({'where':{'default':!0x0}},this['instance']['wuid'])),_0x3a6f47||(this[_0xaff609(0x1be)][_0xaff609(0x7a1)](this['instanceName']+'\x20('+this[_0xaff609(0x1fb)][_0xaff609(0xe7)]+_0xaff609(0x39f)),null);}catch(_0x33e182){return this[_0xaff609(0x1be)]['error'](this[_0xaff609(0x770)]+'\x20('+this[_0xaff609(0x1fb)][_0xaff609(0xe7)]+_0xaff609(0x55a)+(_0x33e182 instanceof Error?_0x33e182[_0xaff609(0x780)]:JSON[_0xaff609(0xfe)](_0x33e182,null,0x2))),null;}}async['findConversation'](_0x46707b,_0x148ecc){const _0x5aa662=a0_0x29b3b7;try{let _0x21452e=!!_0x148ecc['vote'],_0x3eb017=_0x148ecc[_0x5aa662(0x310)],_0x5e5174=null;if(this[_0x5aa662(0x1be)][_0x5aa662(0x7a1)](this[_0x5aa662(0x770)]+'\x20('+this['instance'][_0x5aa662(0xe7)]+_0x5aa662(0x681)+_0x21452e+_0x5aa662(0x3a1)+_0x3eb017),_0x21452e){this[_0x5aa662(0x1be)][_0x5aa662(0x7a1)](this[_0x5aa662(0x770)]+'\x20('+this['instance'][_0x5aa662(0xe7)]+_0x5aa662(0x796));let _0xbaa138={'where':{'remoteJid':_0x46707b,'waitingMenu_id':_0x3eb017}};if(_0x5e5174=await this[_0x5aa662(0x68f)][_0x5aa662(0x45b)]['findOne'](_0xbaa138,this[_0x5aa662(0x1fb)][_0x5aa662(0xe7)]),!_0x5e5174)return this['logger']['verbose'](this[_0x5aa662(0x770)]+'\x20('+this[_0x5aa662(0x1fb)][_0x5aa662(0xe7)]+_0x5aa662(0x360)),null;let _0x4c48e4=Date['now'](),_0x2a67f2=_0x5e5174?.[_0x5aa662(0x11d)]||0x0,_0x162b54=_0x4c48e4-_0x2a67f2*0x3c*0x3e8;if(_0x5e5174[_0x5aa662(0x505)]<_0x162b54){this[_0x5aa662(0x1be)]['verbose'](this[_0x5aa662(0x770)]+'\x20('+this[_0x5aa662(0x1fb)][_0x5aa662(0xe7)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x3e40f1={'number':_0x5e5174[_0x5aa662(0x4b0)],'options':{'delay':0x0},'textMessage':{'text':_0x5e5174[_0x5aa662(0x3a2)]}};await this['textMessage'](_0x3e40f1);let _0x35c1df={'status':_0x5aa662(0x6c0),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x5aa662(0x68f)][_0x5aa662(0x45b)][_0x5aa662(0x7be)](_0x5e5174[_0x5aa662(0x6a7)],_0x35c1df,this[_0x5aa662(0x1fb)]['wuid']),null;}return _0x5e5174[_0x5aa662(0x505)]=Date[_0x5aa662(0x5aa)](),_0x5e5174[_0x5aa662(0x6a0)][_0x5aa662(0x2b4)]=_0x148ecc,_0x5e5174;}else{this[_0x5aa662(0x1be)][_0x5aa662(0x7a1)](this[_0x5aa662(0x770)]+'\x20('+this[_0x5aa662(0x1fb)][_0x5aa662(0xe7)]+_0x5aa662(0x1e5)+this[_0x5aa662(0x1fb)][_0x5aa662(0xe7)]+_0x5aa662(0x332)),this[_0x5aa662(0x1be)]['verbose'](this[_0x5aa662(0x770)]+'\x20('+this[_0x5aa662(0x1fb)][_0x5aa662(0xe7)]+_0x5aa662(0x5e0));let _0x5175ac={'where':{'remoteJid':_0x46707b,'status':_0x5aa662(0x444)}};if(_0x5e5174=await this[_0x5aa662(0x68f)]['flowConversation'][_0x5aa662(0x3b0)](_0x5175ac,this[_0x5aa662(0x1fb)]['wuid']),!_0x5e5174){let _0x220e4d=await this[_0x5aa662(0x6b8)](_0x46707b);if(_0x220e4d&&(_0x5e5174=await this[_0x5aa662(0x78f)](_0x220e4d,_0x148ecc[_0x5aa662(0x5ec)],_0x148ecc)),!_0x5e5174)return null;}let _0xb3284b=Date[_0x5aa662(0x5aa)](),_0x41c487=_0x5e5174?.[_0x5aa662(0x11d)]||0x0,_0x1f5029=_0xb3284b-_0x41c487*0x3c*0x3e8;if(this['logger'][_0x5aa662(0x7a1)](this[_0x5aa662(0x770)]+'\x20('+this[_0x5aa662(0x1fb)][_0x5aa662(0xe7)]+_0x5aa662(0x6f4)+_0xb3284b+_0x5aa662(0x6db)+_0x41c487+_0x5aa662(0x464)+_0x1f5029),this[_0x5aa662(0x1be)][_0x5aa662(0x7a1)](this[_0x5aa662(0x770)]+'\x20('+this[_0x5aa662(0x1fb)][_0x5aa662(0xe7)]+_0x5aa662(0x541)),this[_0x5aa662(0x1be)]['verbose'](this[_0x5aa662(0x770)]+'\x20('+this['instance'][_0x5aa662(0xe7)]+_0x5aa662(0x23f)+_0x5e5174[_0x5aa662(0x505)]),this[_0x5aa662(0x1be)][_0x5aa662(0x7a1)](this['instanceName']+'\x20('+this['instance'][_0x5aa662(0xe7)]+_0x5aa662(0x556)+_0x1f5029),_0x5e5174['lastInteraction']<_0x1f5029){this['logger'][_0x5aa662(0x7a1)](this[_0x5aa662(0x770)]+'\x20('+this['instance'][_0x5aa662(0xe7)]+'):\x20Conversa\x20está\x20expirada');let _0x7ee559=await this['findFlow'](_0x46707b);if(_0x7ee559===null)return null;_0x5e5174&&await this[_0x5aa662(0x68f)][_0x5aa662(0x45b)][_0x5aa662(0x7be)](_0x5e5174[_0x5aa662(0x6a7)],{'status':_0x5aa662(0x6c0)},this[_0x5aa662(0x1fb)][_0x5aa662(0xe7)]),_0x5e5174=await this[_0x5aa662(0x78f)](_0x7ee559,_0x148ecc['key'],_0x148ecc);}return _0x5e5174[_0x5aa662(0x505)]=_0xb3284b,_0x5e5174[_0x5aa662(0x6a0)]['lastReceivedMessage']=_0x148ecc,_0x5e5174;}}catch(_0x350c67){return this[_0x5aa662(0x1be)][_0x5aa662(0x60d)](this['instanceName']+'\x20('+this[_0x5aa662(0x1fb)][_0x5aa662(0xe7)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x350c67 instanceof Error?_0x350c67[_0x5aa662(0x780)]:JSON[_0x5aa662(0xfe)](_0x350c67,null,0x2))),null;}}async[a0_0x29b3b7(0x78f)](_0x527952,_0x43cac0,_0xe239ea){const _0x3c2a4f=a0_0x29b3b7;this[_0x3c2a4f(0x1be)][_0x3c2a4f(0x7a1)](this[_0x3c2a4f(0x770)]+'\x20('+this[_0x3c2a4f(0x1fb)][_0x3c2a4f(0xe7)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x5b5b97=require('mongodb')[_0x3c2a4f(0x424)],_0x9a779f=Date['now'](),_0x1b9ea1=_0x3c2a4f(0x140),_0x311012=_0x43cac0[_0x3c2a4f(0x245)]?null:_0xe239ea,_0x12511e=_0x43cac0[_0x3c2a4f(0x245)]?_0xe239ea:null,_0x29c56d=_0x43cac0[_0x3c2a4f(0x4b0)];await this[_0x3c2a4f(0x168)](_0x29c56d);let _0x149a21={..._0x527952,'chatLog':null},_0x1b2a39=await this[_0x3c2a4f(0x6cf)](_0x149a21[_0x3c2a4f(0x7cc)]),_0x1fa76f=await this[_0x3c2a4f(0x3eb)](_0x29c56d),_0x197691={..._0x1b2a39,..._0x1fa76f,'_remoteJid':_0x29c56d},_0xa2893c={'lastReceivedMessage':_0x311012,'lastSendMessage':_0x12511e,'lastBlockId':_0x1b9ea1,'lastCondition':!0x0,'realVariables':_0x197691};_0x149a21[_0x3c2a4f(0x6a0)]=_0xa2893c,delete _0x149a21[_0x3c2a4f(0x6a7)],_0x149a21[_0x3c2a4f(0x6a7)]=new _0x5b5b97(),_0x149a21['lastInteraction']=_0x9a779f,_0x149a21[_0x3c2a4f(0x59d)]=_0x3c2a4f(0x444),_0x149a21[_0x3c2a4f(0x4b0)]=_0x29c56d;let _0x1b5ce5=await this['repository'][_0x3c2a4f(0x45b)]['updateOne'](_0x149a21['_id'],_0x149a21,this[_0x3c2a4f(0x1fb)][_0x3c2a4f(0xe7)]);return this[_0x3c2a4f(0x1be)][_0x3c2a4f(0x7a1)](this[_0x3c2a4f(0x770)]+'\x20('+this[_0x3c2a4f(0x1fb)]['wuid']+_0x3c2a4f(0x6c1)),_0x1b5ce5?_0x149a21:null;}catch(_0x4588a6){return this[_0x3c2a4f(0x1be)][_0x3c2a4f(0x60d)](this[_0x3c2a4f(0x770)]+'\x20('+this['instance'][_0x3c2a4f(0xe7)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x4588a6 instanceof Error?_0x4588a6[_0x3c2a4f(0x780)]:JSON[_0x3c2a4f(0xfe)](_0x4588a6,null,0x2))),_0x4588a6;}}async[a0_0x29b3b7(0x38b)](_0x56af2e,_0x2a7dfa){const _0x108543=a0_0x29b3b7;let _0x5b912e=_0x56af2e[_0x108543(0x4b0)];_0x2a7dfa[_0x108543(0x11e)][_0x108543(0x4b0)]&&_0x2a7dfa[_0x108543(0x11e)][_0x108543(0x4b0)][_0x108543(0x699)]()!==''&&(_0x5b912e=_0x2a7dfa[_0x108543(0x11e)]['remoteJid'][_0x108543(0x699)]()),this[_0x108543(0x1be)][_0x108543(0x7a1)](this[_0x108543(0x770)]+'\x20('+this[_0x108543(0x1fb)][_0x108543(0xe7)]+_0x108543(0x29f));let _0x35f979={'number':_0x5b912e,'options':{'delay':_0x2a7dfa[_0x108543(0x11e)][_0x108543(0x384)],'linkPreview':_0x2a7dfa[_0x108543(0x11e)][_0x108543(0x5e7)]},'textMessage':{'text':_0x2a7dfa[_0x108543(0x11e)][_0x108543(0x623)]}};try{let _0x343ad7=await this[_0x108543(0x10b)](_0x35f979);if(_0x343ad7){let _0x38cf4e={'_id':_0x343ad7[_0x108543(0x5ec)]['id'],'_fromMe':_0x343ad7['key'][_0x108543(0x245)],'_remoteJid':_0x343ad7[_0x108543(0x5ec)][_0x108543(0x4b0)]},_0x3c39db=(0x0,f[_0x108543(0x4d6)])(_0x343ad7[_0x108543(0x780)]),_0x5465b6=(0x0,f[_0x108543(0x6f8)])(_0x3c39db);_0x56af2e['chatLog']['lastBlockId']=_0x2a7dfa['_id']['toString']();let {message_normalized:_0x335ad0}=this[_0x108543(0x545)](_0x3c39db,_0x5465b6,null);_0x56af2e[_0x108543(0x6a0)][_0x108543(0x3e1)]=await _0x335ad0;let _0x12697d={'messageId':_0x343ad7[_0x108543(0x5ec)]['id']},_0x1a08e5=_0x56af2e[_0x108543(0x6a0)][_0x108543(0x4f9)];Object[_0x108543(0x411)](_0x1a08e5,_0x38cf4e),_0x56af2e['chatLog']['realVariables']=_0x1a08e5,this[_0x108543(0x324)](_0x56af2e,_0x2a7dfa,_0x12697d);}else{let _0x5e63fe={'error':!0x0};this['updateConversation'](_0x56af2e,_0x2a7dfa,_0x5e63fe),this[_0x108543(0x1be)][_0x108543(0x60d)](this[_0x108543(0x770)]+'\x20('+this['instance'][_0x108543(0xe7)]+_0x108543(0x37d));}}catch(_0x308b5a){let _0x671ae5={'error':!0x0,'errorLog':_0x308b5a[_0x108543(0x4a2)]()};this[_0x108543(0x324)](_0x56af2e,_0x2a7dfa,_0x671ae5),this[_0x108543(0x1be)][_0x108543(0x60d)](this[_0x108543(0x770)]+'\x20('+this['instance'][_0x108543(0xe7)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x308b5a instanceof Error?_0x308b5a[_0x108543(0x780)]:JSON[_0x108543(0xfe)](_0x308b5a,null,0x2)));}}async[a0_0x29b3b7(0x5ef)](_0xd3e3ef,_0x20b52b){const _0x29eca3=a0_0x29b3b7;let _0x400f57=_0xd3e3ef[_0x29eca3(0x4b0)];_0x20b52b[_0x29eca3(0x11e)][_0x29eca3(0x4b0)]&&_0x20b52b[_0x29eca3(0x11e)]['remoteJid'][_0x29eca3(0x699)]()!==''&&(_0x400f57=_0x20b52b[_0x29eca3(0x11e)][_0x29eca3(0x4b0)][_0x29eca3(0x699)]()),this['logger'][_0x29eca3(0x7a1)](this[_0x29eca3(0x770)]+'\x20('+this['instance'][_0x29eca3(0xe7)]+_0x29eca3(0x138));let _0x1adf38={'number':_0x400f57,'options':{'delay':_0x20b52b[_0x29eca3(0x11e)]['delay'],'linkPreview':_0x20b52b['uazapi'][_0x29eca3(0x5e7)]},'mediaMessage':{'mediatype':_0x20b52b[_0x29eca3(0x11e)][_0x29eca3(0x7c4)],'caption':_0x20b52b[_0x29eca3(0x11e)][_0x29eca3(0x106)],'media':_0x20b52b[_0x29eca3(0x11e)][_0x29eca3(0x1c9)],'fileName':_0x20b52b[_0x29eca3(0x11e)][_0x29eca3(0x419)]}};try{let _0x2e0e95=await this[_0x29eca3(0x4c3)](_0x1adf38);if(_0x2e0e95){let _0x5aa658={'_id':_0x2e0e95[_0x29eca3(0x5ec)]['id'],'_fromMe':_0x2e0e95['key'][_0x29eca3(0x245)],'_remoteJid':_0x2e0e95[_0x29eca3(0x5ec)][_0x29eca3(0x4b0)]},_0x217df2=(0x0,f[_0x29eca3(0x4d6)])(_0x2e0e95['message']),_0x202e0d=(0x0,f[_0x29eca3(0x6f8)])(_0x217df2);_0xd3e3ef[_0x29eca3(0x6a0)]['lastBlockId']=_0x20b52b[_0x29eca3(0x6a7)]['toString']();let {message_normalized:_0x4f9b70}=this['normalizeMessage'](_0x217df2,_0x202e0d,null);_0xd3e3ef[_0x29eca3(0x6a0)][_0x29eca3(0x3e1)]=await _0x4f9b70;let _0x51da32={'messageId':_0x2e0e95[_0x29eca3(0x5ec)]['id']},_0x2449cc=_0xd3e3ef[_0x29eca3(0x6a0)][_0x29eca3(0x4f9)];Object[_0x29eca3(0x411)](_0x2449cc,_0x5aa658),_0xd3e3ef[_0x29eca3(0x6a0)][_0x29eca3(0x4f9)]=_0x2449cc,this['updateConversation'](_0xd3e3ef,_0x20b52b,_0x51da32);}else{let _0x1555d6={'error':!0x0};this[_0x29eca3(0x324)](_0xd3e3ef,_0x20b52b,_0x1555d6),this[_0x29eca3(0x1be)][_0x29eca3(0x60d)](this[_0x29eca3(0x770)]+'\x20('+this[_0x29eca3(0x1fb)][_0x29eca3(0xe7)]+_0x29eca3(0x247));}}catch(_0x1d0df3){let _0xb28a8c={'error':!0x0,'errorLog':_0x1d0df3[_0x29eca3(0x4a2)]()};this[_0x29eca3(0x324)](_0xd3e3ef,_0x20b52b,_0xb28a8c),this[_0x29eca3(0x1be)][_0x29eca3(0x60d)](this['instanceName']+'\x20('+this[_0x29eca3(0x1fb)][_0x29eca3(0xe7)]+_0x29eca3(0x2fb)+(_0x1d0df3 instanceof Error?_0x1d0df3['message']:JSON[_0x29eca3(0xfe)](_0x1d0df3,null,0x2)));}}async[a0_0x29b3b7(0x656)](_0x182c50,_0x2f67a0){const _0x4ad1da=a0_0x29b3b7;let _0x4db615=_0x182c50[_0x4ad1da(0x4b0)];_0x2f67a0[_0x4ad1da(0x11e)]['remoteJid']&&_0x2f67a0['uazapi'][_0x4ad1da(0x4b0)][_0x4ad1da(0x699)]()!==''&&(_0x4db615=_0x2f67a0[_0x4ad1da(0x11e)]['remoteJid'][_0x4ad1da(0x699)]()),this[_0x4ad1da(0x1be)][_0x4ad1da(0x7a1)](this[_0x4ad1da(0x770)]+'\x20('+this[_0x4ad1da(0x1fb)][_0x4ad1da(0xe7)]+_0x4ad1da(0x6c7));let _0x325f32={'number':_0x4db615,'options':{'delay':_0x2f67a0[_0x4ad1da(0x11e)][_0x4ad1da(0x384)]},'locationMessage':{'name':_0x2f67a0[_0x4ad1da(0x11e)][_0x4ad1da(0x438)],'address':_0x2f67a0[_0x4ad1da(0x11e)][_0x4ad1da(0x767)],'latitude':_0x2f67a0[_0x4ad1da(0x11e)][_0x4ad1da(0x56d)],'longitude':_0x2f67a0[_0x4ad1da(0x11e)][_0x4ad1da(0x71d)]}};try{let _0x393b00=await this[_0x4ad1da(0x194)](_0x325f32);if(_0x393b00){let _0x43ff8d={'_id':_0x393b00[_0x4ad1da(0x5ec)]['id'],'_fromMe':_0x393b00[_0x4ad1da(0x5ec)][_0x4ad1da(0x245)],'_remoteJid':_0x393b00['key'][_0x4ad1da(0x4b0)]},_0x87931d=(0x0,f[_0x4ad1da(0x4d6)])(_0x393b00[_0x4ad1da(0x780)]),_0x2c8705=(0x0,f[_0x4ad1da(0x6f8)])(_0x87931d);_0x182c50[_0x4ad1da(0x6a0)][_0x4ad1da(0x1fc)]=_0x2f67a0[_0x4ad1da(0x6a7)][_0x4ad1da(0x4a2)]();let {message_normalized:_0xb814a7}=this['normalizeMessage'](_0x87931d,_0x2c8705,null);_0x182c50[_0x4ad1da(0x6a0)][_0x4ad1da(0x3e1)]=await _0xb814a7;let _0xe5f30d={'messageId':_0x393b00[_0x4ad1da(0x5ec)]['id']},_0x45e5fa=_0x182c50[_0x4ad1da(0x6a0)]['realVariables'];Object[_0x4ad1da(0x411)](_0x45e5fa,_0x43ff8d),_0x182c50[_0x4ad1da(0x6a0)][_0x4ad1da(0x4f9)]=_0x45e5fa,this['updateConversation'](_0x182c50,_0x2f67a0,_0xe5f30d);}else{let _0x1f3a1a={'error':!0x0};this[_0x4ad1da(0x324)](_0x182c50,_0x2f67a0,_0x1f3a1a),this[_0x4ad1da(0x1be)][_0x4ad1da(0x60d)](this[_0x4ad1da(0x770)]+'\x20('+this['instance'][_0x4ad1da(0xe7)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x42c49b){let _0x190cfb={'error':!0x0,'errorLog':_0x42c49b[_0x4ad1da(0x4a2)]()};this[_0x4ad1da(0x324)](_0x182c50,_0x2f67a0,_0x190cfb),this[_0x4ad1da(0x1be)][_0x4ad1da(0x60d)](this[_0x4ad1da(0x770)]+'\x20('+this[_0x4ad1da(0x1fb)][_0x4ad1da(0xe7)]+_0x4ad1da(0x4bc)+(_0x42c49b instanceof Error?_0x42c49b[_0x4ad1da(0x780)]:JSON[_0x4ad1da(0xfe)](_0x42c49b,null,0x2)));}}async[a0_0x29b3b7(0x5f3)](_0x270818,_0x1d99fb){const _0x244a0=a0_0x29b3b7;let _0x5e568b=_0x270818[_0x244a0(0x4b0)];_0x1d99fb[_0x244a0(0x11e)][_0x244a0(0x4b0)]&&_0x1d99fb[_0x244a0(0x11e)][_0x244a0(0x4b0)]['trim']()!==''&&(_0x5e568b=_0x1d99fb[_0x244a0(0x11e)]['remoteJid'][_0x244a0(0x699)]()),this[_0x244a0(0x1be)][_0x244a0(0x7a1)](this['instanceName']+'\x20('+this[_0x244a0(0x1fb)]['wuid']+_0x244a0(0x237));let _0x4fb908={'number':_0x5e568b,'options':{'delay':_0x1d99fb[_0x244a0(0x11e)][_0x244a0(0x384)]},'audioMessage':{'audio':_0x1d99fb[_0x244a0(0x11e)][_0x244a0(0x609)]}};try{let _0x11b724=await this['audioWhatsapp'](_0x4fb908);if(_0x11b724){let _0x38969e={'_id':_0x11b724['key']['id'],'_fromMe':_0x11b724[_0x244a0(0x5ec)][_0x244a0(0x245)],'_remoteJid':_0x11b724[_0x244a0(0x5ec)]['remoteJid']},_0x3f6845=(0x0,f['normalizeMessageContent'])(_0x11b724[_0x244a0(0x780)]),_0x29dbac=(0x0,f[_0x244a0(0x6f8)])(_0x3f6845);_0x270818[_0x244a0(0x6a0)]['lastBlockId']=_0x1d99fb['_id'][_0x244a0(0x4a2)]();let {message_normalized:_0x380238}=this[_0x244a0(0x545)](_0x3f6845,_0x29dbac,null);_0x270818['chatLog'][_0x244a0(0x3e1)]=await _0x380238;let _0x364a78={'messageId':_0x11b724['key']['id']},_0x3313b1=_0x270818['chatLog']['realVariables'];Object[_0x244a0(0x411)](_0x3313b1,_0x38969e),_0x270818['chatLog'][_0x244a0(0x4f9)]=_0x3313b1,this[_0x244a0(0x324)](_0x270818,_0x1d99fb,_0x364a78);}else{let _0x24f8ab={'error':!0x0};this[_0x244a0(0x324)](_0x270818,_0x1d99fb,_0x24f8ab),this[_0x244a0(0x1be)]['error'](this[_0x244a0(0x770)]+'\x20('+this[_0x244a0(0x1fb)]['wuid']+_0x244a0(0x35c));}}catch(_0x143faa){let _0x26ab92={'error':!0x0,'errorLog':_0x143faa[_0x244a0(0x4a2)]()};this[_0x244a0(0x324)](_0x270818,_0x1d99fb,_0x26ab92),this[_0x244a0(0x1be)][_0x244a0(0x60d)](this['instanceName']+'\x20('+this[_0x244a0(0x1fb)][_0x244a0(0xe7)]+_0x244a0(0x642)+(_0x143faa instanceof Error?_0x143faa[_0x244a0(0x780)]:JSON[_0x244a0(0xfe)](_0x143faa,null,0x2)));}}async['uazapiSendContact'](_0x19d23c,_0x24d4ee){const _0x20540d=a0_0x29b3b7;let _0x56f551=_0x19d23c['remoteJid'];_0x24d4ee[_0x20540d(0x11e)][_0x20540d(0x4b0)]&&_0x24d4ee[_0x20540d(0x11e)][_0x20540d(0x4b0)][_0x20540d(0x699)]()!==''&&(_0x56f551=_0x24d4ee['uazapi']['remoteJid']['trim']()),this[_0x20540d(0x1be)][_0x20540d(0x7a1)](this[_0x20540d(0x770)]+'\x20('+this[_0x20540d(0x1fb)][_0x20540d(0xe7)]+_0x20540d(0x334));let _0x5b4ccd={'number':_0x56f551,'options':{'delay':_0x24d4ee[_0x20540d(0x11e)][_0x20540d(0x384)]},'contactMessage':[{'fullName':_0x24d4ee[_0x20540d(0x11e)][_0x20540d(0x7ca)],'phoneNumber':_0x24d4ee[_0x20540d(0x11e)][_0x20540d(0x79f)]}]};try{let _0x4c277b=await this['contactMessage'](_0x5b4ccd);if(_0x4c277b){let _0x1d611b={'_id':_0x4c277b[_0x20540d(0x5ec)]['id'],'_fromMe':_0x4c277b[_0x20540d(0x5ec)][_0x20540d(0x245)],'_remoteJid':_0x4c277b[_0x20540d(0x5ec)][_0x20540d(0x4b0)]},_0x462980=(0x0,f[_0x20540d(0x4d6)])(_0x4c277b[_0x20540d(0x780)]),_0x531645=(0x0,f[_0x20540d(0x6f8)])(_0x462980);_0x19d23c[_0x20540d(0x6a0)][_0x20540d(0x1fc)]=_0x24d4ee['_id'][_0x20540d(0x4a2)]();let {message_normalized:_0xf8cf27}=this[_0x20540d(0x545)](_0x462980,_0x531645,null);_0x19d23c[_0x20540d(0x6a0)][_0x20540d(0x3e1)]=await _0xf8cf27;let _0x177d6a={'messageId':_0x4c277b[_0x20540d(0x5ec)]['id']},_0x4715e7=_0x19d23c[_0x20540d(0x6a0)][_0x20540d(0x4f9)];Object[_0x20540d(0x411)](_0x4715e7,_0x1d611b),_0x19d23c[_0x20540d(0x6a0)]['realVariables']=_0x4715e7,this[_0x20540d(0x324)](_0x19d23c,_0x24d4ee,_0x177d6a);}else{let _0x3d3df6={'error':!0x0};this[_0x20540d(0x324)](_0x19d23c,_0x24d4ee,_0x3d3df6),this[_0x20540d(0x1be)][_0x20540d(0x60d)](this[_0x20540d(0x770)]+'\x20('+this['instance'][_0x20540d(0xe7)]+_0x20540d(0x1e1));}}catch(_0x391cef){let _0xd88bfb={'error':!0x0,'errorLog':_0x391cef[_0x20540d(0x4a2)]()};this[_0x20540d(0x324)](_0x19d23c,_0x24d4ee,_0xd88bfb),this[_0x20540d(0x1be)][_0x20540d(0x60d)](this[_0x20540d(0x770)]+'\x20('+this[_0x20540d(0x1fb)][_0x20540d(0xe7)]+_0x20540d(0x17a)+(_0x391cef instanceof Error?_0x391cef['message']:JSON[_0x20540d(0xfe)](_0x391cef,null,0x2)));}}[a0_0x29b3b7(0x4f2)](_0x4b49d4,_0x1dce56){const _0x48059b=a0_0x29b3b7;for(let _0x37040a of _0x4b49d4)_0x37040a[_0x48059b(0xf9)]&&(_0x37040a[_0x48059b(0xf9)]=this[_0x48059b(0x547)](_0x37040a[_0x48059b(0xf9)],_0x1dce56)),_0x37040a[_0x48059b(0xf7)]&&(_0x37040a[_0x48059b(0xf7)]=this[_0x48059b(0x547)](_0x37040a[_0x48059b(0xf7)],_0x1dce56));}async[a0_0x29b3b7(0x453)](_0xad3ab9,_0x12e402){const _0x216edf=a0_0x29b3b7;let _0xb3963c=_0xad3ab9[_0x216edf(0x4b0)];_0x12e402[_0x216edf(0x11e)][_0x216edf(0x4b0)]&&_0x12e402[_0x216edf(0x11e)][_0x216edf(0x4b0)][_0x216edf(0x699)]()!==''&&(_0xb3963c=_0x12e402[_0x216edf(0x11e)][_0x216edf(0x4b0)][_0x216edf(0x699)]()),this[_0x216edf(0x1be)]['verbose'](this[_0x216edf(0x770)]+'\x20('+this[_0x216edf(0x1fb)]['wuid']+_0x216edf(0x144));let _0x3c1b29=_0xad3ab9[_0x216edf(0x270)][_0x216edf(0x19c)](_0x459c0b=>_0x459c0b['blockId']===_0x12e402[_0x216edf(0x6a7)])[_0x216edf(0x4d3)]((_0x57d2ac,_0x27eb76)=>_0x57d2ac[_0x216edf(0x5f9)]-_0x27eb76['order']);this[_0x216edf(0x4f2)](_0x3c1b29,_0xad3ab9[_0x216edf(0x6a0)][_0x216edf(0x4f9)]);let _0x5eca1d=_0x3c1b29['map'](_0x1a055e=>_0x1a055e[_0x216edf(0xf9)]),_0xd9a240={'number':_0xb3963c,'menuMessage':{'type':_0x12e402[_0x216edf(0x11e)][_0x216edf(0x4f7)]||_0x216edf(0x33f),'text':_0x12e402[_0x216edf(0x11e)][_0x216edf(0x623)]||_0x12e402[_0x216edf(0x11e)][_0x216edf(0x438)],'footerText':_0x12e402['uazapi'][_0x216edf(0x19d)],'buttonText':_0x12e402[_0x216edf(0x11e)][_0x216edf(0x578)],'selectableCount':0x1,'choices':_0x5eca1d},'options':{'delay':_0x12e402[_0x216edf(0x11e)]['delay']}};try{let _0x5d5571=await this[_0x216edf(0x136)](_0xd9a240);if(_0x5d5571){let _0x32f7e7={'_id':_0x5d5571[_0x216edf(0x5ec)]['id'],'_fromMe':_0x5d5571[_0x216edf(0x5ec)][_0x216edf(0x245)],'_remoteJid':_0x5d5571[_0x216edf(0x5ec)]['remoteJid']};_0x12e402['uazapi'][_0x216edf(0x764)]===!0x0&&(_0xad3ab9['status']=_0x216edf(0x400),this['logger'][_0x216edf(0x7a1)](this[_0x216edf(0x770)]+'\x20('+this['instance']['wuid']+'):\x20conversation.status:\x20'+_0xad3ab9[_0x216edf(0x59d)])),this[_0x216edf(0x1be)]['verbose'](this['instanceName']+'\x20('+this[_0x216edf(0x1fb)][_0x216edf(0xe7)]+_0x216edf(0x5df)+(_0x12e402[_0x216edf(0x11e)]['name']||_0x12e402[_0x216edf(0x11e)]['text'])),_0xad3ab9[_0x216edf(0x253)]=_0x5d5571['key']['id'],_0xad3ab9[_0x216edf(0x39c)]=_0x12e402[_0x216edf(0x11e)]['name']||_0x12e402['uazapi'][_0x216edf(0x623)],_0xad3ab9[_0x216edf(0x54d)]=_0x3c1b29,_0x12e402[_0x216edf(0x11e)][_0x216edf(0x723)]&&(_0xad3ab9[_0x216edf(0x3a2)]=_0x12e402[_0x216edf(0x11e)]['menuExpiredMessage']),this[_0x216edf(0x1be)]['verbose'](this[_0x216edf(0x770)]+'\x20('+this[_0x216edf(0x1fb)][_0x216edf(0xe7)]+_0x216edf(0x309)+_0xad3ab9[_0x216edf(0x39c)]);let _0x25ef9b=(0x0,f[_0x216edf(0x4d6)])(_0x5d5571[_0x216edf(0x780)]),_0x38c683=(0x0,f[_0x216edf(0x6f8)])(_0x25ef9b);_0xad3ab9[_0x216edf(0x6a0)][_0x216edf(0x1fc)]=_0x12e402[_0x216edf(0x6a7)][_0x216edf(0x4a2)]();let {message_normalized:_0x20ef94}=this[_0x216edf(0x545)](_0x25ef9b,_0x38c683,null);_0xad3ab9['chatLog'][_0x216edf(0x3e1)]=await _0x20ef94;let _0x2223f={'messageId':_0x5d5571['key']['id']},_0x300ab4=_0xad3ab9[_0x216edf(0x6a0)][_0x216edf(0x4f9)];Object[_0x216edf(0x411)](_0x300ab4,_0x32f7e7),_0xad3ab9[_0x216edf(0x6a0)][_0x216edf(0x4f9)]=_0x300ab4,this[_0x216edf(0x324)](_0xad3ab9,_0x12e402,_0x2223f);}else{let _0x117dcc={'error':!0x0};this[_0x216edf(0x324)](_0xad3ab9,_0x12e402,_0x117dcc),this[_0x216edf(0x1be)][_0x216edf(0x60d)](this[_0x216edf(0x770)]+'\x20('+this[_0x216edf(0x1fb)][_0x216edf(0xe7)]+_0x216edf(0x101));}}catch(_0x28d4d4){let _0xf66663={'error':!0x0,'errorLog':_0x28d4d4 instanceof Error?_0x28d4d4[_0x216edf(0x780)]:JSON['stringify'](_0x28d4d4,null,0x2)};this[_0x216edf(0x324)](_0xad3ab9,_0x12e402,_0xf66663),this[_0x216edf(0x1be)]['error'](this['instanceName']+'\x20('+this[_0x216edf(0x1fb)][_0x216edf(0xe7)]+_0x216edf(0x7a4)+(_0x28d4d4 instanceof Error?_0x28d4d4['message']:JSON[_0x216edf(0xfe)](_0x28d4d4,null,0x2)));}}async[a0_0x29b3b7(0x784)](_0x203d14,_0x25cb1c){const _0x24389f=a0_0x29b3b7;this[_0x24389f(0x1be)][_0x24389f(0x7a1)](this[_0x24389f(0x770)]+'\x20('+this[_0x24389f(0x1fb)][_0x24389f(0xe7)]+'):\x20Deletando\x20mensagem');let _0x19e5ae=_0x203d14[_0x24389f(0x6a0)]['blockLogs'][_0x24389f(0x61d)](_0xdbf7d7=>_0xdbf7d7[_0x24389f(0x77a)][_0x24389f(0x4a2)]()===_0x25cb1c[_0x24389f(0x11e)]['blockId'][_0x24389f(0x4a2)]()),_0x1ae180={'id':_0x19e5ae[_0x24389f(0x37e)],'remoteJid':_0x19e5ae[_0x24389f(0x4b0)],'fromMe':_0x19e5ae['fromMe']};try{let _0x746995=await this[_0x24389f(0x45a)](_0x1ae180);if(_0x746995){let _0x141dbe=(0x0,f[_0x24389f(0x4d6)])(_0x746995[_0x24389f(0x780)]),_0x4247fe=(0x0,f[_0x24389f(0x6f8)])(_0x141dbe);_0x203d14[_0x24389f(0x6a0)][_0x24389f(0x1fc)]=_0x25cb1c['_id'][_0x24389f(0x4a2)]();let {message_normalized:_0x245546}=this[_0x24389f(0x545)](_0x141dbe,_0x4247fe,null);_0x203d14[_0x24389f(0x6a0)][_0x24389f(0x3e1)]=await _0x245546;let _0x1694f5={};this[_0x24389f(0x324)](_0x203d14,_0x25cb1c,_0x1694f5);}else{let _0x3fac31={'error':!0x0};this['updateConversation'](_0x203d14,_0x25cb1c,_0x3fac31),this[_0x24389f(0x1be)][_0x24389f(0x60d)](this[_0x24389f(0x770)]+'\x20('+this[_0x24389f(0x1fb)][_0x24389f(0xe7)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x49474c){let _0xa91323={'error':!0x0,'errorLog':_0x49474c instanceof Error?_0x49474c[_0x24389f(0x780)]:JSON['stringify'](_0x49474c,null,0x2)};this[_0x24389f(0x324)](_0x203d14,_0x25cb1c,_0xa91323),this[_0x24389f(0x1be)][_0x24389f(0x60d)](this['instanceName']+'\x20('+this[_0x24389f(0x1fb)][_0x24389f(0xe7)]+_0x24389f(0x344)+(_0x49474c instanceof Error?_0x49474c[_0x24389f(0x780)]:JSON['stringify'](_0x49474c,null,0x2)));}}async[a0_0x29b3b7(0x647)](_0xa17d12){const _0x55a6bc=a0_0x29b3b7;if(!_0xa17d12[_0x55a6bc(0x438)])throw new m(_0x55a6bc(0x28c));if(await this[_0x55a6bc(0x68f)][_0x55a6bc(0x2d3)][_0x55a6bc(0x3b0)]({'where':{'name':_0xa17d12[_0x55a6bc(0x438)]}},this[_0x55a6bc(0x1fb)][_0x55a6bc(0xe7)]))throw new m(_0x55a6bc(0x333));return'name'in _0xa17d12&&'sharePass'in _0xa17d12&&_0x55a6bc(0x328)in _0xa17d12&&Object[_0x55a6bc(0x37a)](_0xa17d12)[_0x55a6bc(0x761)]===0x3?this['createSharedFlow'](_0xa17d12[_0x55a6bc(0x328)],_0xa17d12[_0x55a6bc(0x2f7)],_0xa17d12[_0x55a6bc(0x438)]):this[_0x55a6bc(0x25f)](_0xa17d12);}async[a0_0x29b3b7(0x729)](_0x5310c2,_0x2ae228,_0x196e99){const _0x854256=a0_0x29b3b7;try{this[_0x854256(0x1be)][_0x854256(0x7a1)](this[_0x854256(0x770)]+'\x20('+this[_0x854256(0x1fb)][_0x854256(0xe7)]+_0x854256(0x728));let _0x777303=await this[_0x854256(0x68f)][_0x854256(0x2d3)][_0x854256(0x3b0)]({'where':{'name':_0x196e99,'sharePass':_0x2ae228}},_0x5310c2);if(!_0x777303)throw new m(_0x854256(0x3ee));let _0x2d84ce={..._0x777303};return _0x2d84ce[_0x854256(0x328)]=this['instance'][_0x854256(0xe7)],_0x2d84ce['shareOwners']=Array[_0x854256(0x12c)](new Set([..._0x777303[_0x854256(0x676)]||[],_0x777303[_0x854256(0x328)],this[_0x854256(0x1fb)][_0x854256(0xe7)]])),_0x777303[_0x854256(0x676)]=_0x2d84ce['shareOwners'],await this[_0x854256(0x68f)]['flow'][_0x854256(0x7be)](_0x777303[_0x854256(0x6a7)],{'shareOwners':_0x777303[_0x854256(0x676)]},_0x777303['owner']),_0x777303['default']===!0x0&&await this[_0x854256(0x68f)][_0x854256(0x2d3)][_0x854256(0x398)]({},{'default':!0x1},this[_0x854256(0x1fb)][_0x854256(0xe7)]),await this['repository'][_0x854256(0x2d3)][_0x854256(0x115)](_0x2d84ce,this['instance'][_0x854256(0xe7)]);}catch(_0x52101a){let _0x18e035=_0x854256(0x29d),_0x544b80=_0x52101a instanceof Error?_0x52101a[_0x854256(0x780)]:typeof _0x52101a=='object'?JSON[_0x854256(0xfe)](_0x52101a):_0x52101a,_0xdbadac=_0x18e035+':\x20'+_0x544b80;throw this[_0x854256(0x1be)]['error'](this[_0x854256(0x770)]+'\x20('+this[_0x854256(0x1fb)][_0x854256(0xe7)]+'):\x20'+_0xdbadac),new m(_0xdbadac);}}async['createRegularFlow'](_0x135587){const _0x413b00=a0_0x29b3b7;try{this['logger'][_0x413b00(0x7a1)](this[_0x413b00(0x770)]+'\x20('+this['instance']['wuid']+_0x413b00(0x701)),delete _0x135587[_0x413b00(0x676)],delete _0x135587['sharePass'],delete _0x135587[_0x413b00(0x328)],_0x135587[_0x413b00(0x282)]===!0x0&&await this[_0x413b00(0x68f)]['flow'][_0x413b00(0x398)]({},{'default':!0x1},this[_0x413b00(0x1fb)][_0x413b00(0xe7)]);let _0x73157f=new re['Types']['ObjectId'](),_0x191058={'_id':_0x73157f,'default':!0x0,'title':_0x413b00(0x395),'x':0x0,'y':0x0},_0x2675db={'_id':new re[(_0x413b00(0x474))]['ObjectId'](),'order':0x1,'groupId':_0x73157f[_0x413b00(0x4a2)](),'type':_0x413b00(0x140)},_0x5a1f64={'_id':new re['Types'][(_0x413b00(0x424))](),'owner':this[_0x413b00(0x1fb)]['wuid'],'name':_0x135587[_0x413b00(0x438)],'groups':[_0x191058],'blocks':[_0x2675db],..._0x135587};return await this['repository'][_0x413b00(0x2d3)][_0x413b00(0x115)](_0x5a1f64,this[_0x413b00(0x1fb)][_0x413b00(0xe7)]);}catch(_0x34e68e){let _0x462e7c=_0x413b00(0x354),_0x28f87c=_0x34e68e instanceof Error?_0x34e68e[_0x413b00(0x780)]:typeof _0x34e68e==_0x413b00(0x320)?JSON['stringify'](_0x34e68e):_0x34e68e,_0x2c6a79=_0x462e7c+':\x20'+_0x28f87c;throw this[_0x413b00(0x1be)][_0x413b00(0x60d)](this[_0x413b00(0x770)]+'\x20('+this[_0x413b00(0x1fb)][_0x413b00(0xe7)]+_0x413b00(0x1e5)+_0x2c6a79),new m(_0x2c6a79);}}async['synchronizeFlows'](_0x3f7c00,_0x521a17){const _0xd7b021=a0_0x29b3b7;try{let _0x9a018e=await this[_0xd7b021(0x68f)]['flow'][_0xd7b021(0x3b0)]({'where':{'_id':_0x3f7c00}},_0x521a17);if(_0x9a018e&&_0x9a018e[_0xd7b021(0x676)]){for(let _0x17d7c7 of _0x9a018e[_0xd7b021(0x676)])if(_0x17d7c7!==_0x521a17){let _0x20c6cf={..._0x9a018e,'owner':_0x17d7c7};await this[_0xd7b021(0x68f)][_0xd7b021(0x2d3)]['replaceOne'](_0x3f7c00,_0x20c6cf,_0x17d7c7);}}}catch(_0x161976){this[_0xd7b021(0x1be)][_0xd7b021(0x60d)](_0xd7b021(0x257)+_0x161976);}}async[a0_0x29b3b7(0x51a)](_0x5de7e2){const _0x18bf25=a0_0x29b3b7;try{this['logger']['verbose'](this[_0x18bf25(0x770)]+'\x20('+this[_0x18bf25(0x1fb)][_0x18bf25(0xe7)]+_0x18bf25(0x193));let _0x7cb2d8=await this[_0x18bf25(0x68f)]['flow'][_0x18bf25(0x3b0)]({'where':{'name':_0x5de7e2}},this[_0x18bf25(0x1fb)][_0x18bf25(0xe7)]);if(_0x7cb2d8&&_0x7cb2d8[_0x18bf25(0x676)]&&_0x7cb2d8[_0x18bf25(0x676)][_0x18bf25(0x761)]>0x1){for(let _0xe13373 of _0x7cb2d8[_0x18bf25(0x676)])if(_0xe13373!==this[_0x18bf25(0x1fb)][_0x18bf25(0xe7)]){let _0x1d957a=await this[_0x18bf25(0x68f)]['flow'][_0x18bf25(0x3b0)]({'where':{'sharePass':_0x7cb2d8[_0x18bf25(0x2f7)]}},_0xe13373);_0x1d957a&&(_0x1d957a[_0x18bf25(0x676)]=_0x1d957a[_0x18bf25(0x676)][_0x18bf25(0x19c)](_0x20f2c9=>_0x20f2c9!==_0x7cb2d8[_0x18bf25(0x328)]),await this['repository']['flow'][_0x18bf25(0x7be)](_0x1d957a[_0x18bf25(0x6a7)],{'shareOwners':_0x1d957a['shareOwners']},_0xe13373));}}return await this[_0x18bf25(0x68f)][_0x18bf25(0x2d3)][_0x18bf25(0x75d)]({'where':{'name':_0x5de7e2}},this[_0x18bf25(0x1fb)]['wuid']);}catch(_0x39beb1){return this['logger'][_0x18bf25(0x60d)](this['instanceName']+'\x20('+this['instance'][_0x18bf25(0xe7)]+_0x18bf25(0x422)+(_0x39beb1 instanceof Error?_0x39beb1[_0x18bf25(0x780)]:JSON[_0x18bf25(0xfe)](_0x39beb1,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+_0x39beb1[_0x18bf25(0x780)]};}}async['getFlow'](_0x40fcb7){const _0x5433cc=a0_0x29b3b7;try{this[_0x5433cc(0x1be)][_0x5433cc(0x7a1)](this[_0x5433cc(0x770)]+'\x20('+this[_0x5433cc(0x1fb)][_0x5433cc(0xe7)]+_0x5433cc(0x6b0));let _0x2da810=await this[_0x5433cc(0x68f)][_0x5433cc(0x2d3)][_0x5433cc(0x3b0)]({'where':{'name':_0x40fcb7}},this['instance'][_0x5433cc(0xe7)]);if(!_0x2da810)throw new Error(_0x5433cc(0x1f4));if(!this[_0x5433cc(0x460)]&&(await this[_0x5433cc(0x315)](),!this['AutomateSystem']))return null;let _0x4ce66f=this['AutomateSystem']?.[_0x5433cc(0x2fa)]['map'](_0x5b0143=>_0x5b0143[_0x5433cc(0x438)]),_0x4894e3=[_0x5433cc(0x6a8),_0x5433cc(0x3b5),_0x5433cc(0x10d),_0x5433cc(0x3f1),_0x5433cc(0x59d),_0x5433cc(0x291),_0x5433cc(0x543),_0x5433cc(0x218),_0x5433cc(0x445)];_0x2da810[_0x5433cc(0x7cc)]=_0x2da810[_0x5433cc(0x7cc)]['filter'](_0x548ff0=>!(_0x548ff0['folder']===_0x5433cc(0x1a0)||_0x548ff0[_0x5433cc(0x1a0)])),_0x4894e3[_0x5433cc(0x693)](_0x3e5058=>{const _0x3214be=_0x5433cc;_0x2da810[_0x3214be(0x7cc)][_0x3214be(0x343)]({'folder':_0x3214be(0x1a0),'name':_0x3e5058,'value':'','doc':'','leadInfo':!0x0});}),_0x4ce66f['forEach'](_0x4c8324=>{const _0xfbfe14=_0x5433cc;let _0x2709df=_0x2da810[_0xfbfe14(0x7cc)][_0xfbfe14(0x14c)](_0x5062b8=>_0x5062b8[_0xfbfe14(0x438)]===_0x4c8324);_0x2709df===-0x1?_0x2da810[_0xfbfe14(0x7cc)]['push']({'folder':_0xfbfe14(0x1a0),'name':_0x4c8324,'value':'','doc':'','leadInfo':!0x0}):(_0x2da810[_0xfbfe14(0x7cc)][_0x2709df][_0xfbfe14(0x46d)]=_0xfbfe14(0x1a0),_0x2da810['variables'][_0x2709df][_0xfbfe14(0x1a0)]=!0x0);}),_0x2da810[_0x5433cc(0x63e)]&&_0x2da810['blocks'][_0x5433cc(0x761)]>0x0&&_0x2da810['blocks']['forEach'](_0x3c4b07=>{const _0x12b137=_0x5433cc;_0x3c4b07[_0x12b137(0x17c)]&&_0x3c4b07[_0x12b137(0x3d4)]&&_0x3c4b07[_0x12b137(0x17c)]===_0x3c4b07[_0x12b137(0x3d4)]&&(_0x3c4b07['next_groupId']=null);});let _0x5b8d05=await this[_0x5433cc(0x68f)][_0x5433cc(0x2d3)]['updateOne'](_0x2da810['_id'],_0x2da810,this[_0x5433cc(0x1fb)][_0x5433cc(0xe7)]);if(!_0x5b8d05)throw new Error(_0x5433cc(0x3ae));return _0x5b8d05;}catch(_0x382d8b){let _0xa2bb36=_0x5433cc(0x2dd),_0x2fc96e=_0x382d8b instanceof Error?_0x382d8b[_0x5433cc(0x780)]:typeof _0x382d8b==_0x5433cc(0x320)?JSON[_0x5433cc(0xfe)](_0x382d8b):_0x382d8b,_0x623148=_0xa2bb36+':\x20'+_0x2fc96e;throw this[_0x5433cc(0x1be)][_0x5433cc(0x60d)](this['instanceName']+'\x20('+this[_0x5433cc(0x1fb)]['wuid']+_0x5433cc(0x1e5)+_0x623148),new m(_0x623148);}}async[a0_0x29b3b7(0x615)](){const _0x1f02df=a0_0x29b3b7;try{return this[_0x1f02df(0x1be)]['verbose'](this[_0x1f02df(0x770)]+'\x20('+this[_0x1f02df(0x1fb)]['wuid']+_0x1f02df(0x7c3)),await this[_0x1f02df(0x68f)][_0x1f02df(0x2d3)][_0x1f02df(0x49f)](this[_0x1f02df(0x1fb)][_0x1f02df(0xe7)]),await this[_0x1f02df(0x68f)][_0x1f02df(0x2d3)]['findAll']({'where':{}},this[_0x1f02df(0x1fb)]['wuid']);}catch(_0x285dd8){return this['logger'][_0x1f02df(0x60d)](this[_0x1f02df(0x770)]+'\x20('+this[_0x1f02df(0x1fb)][_0x1f02df(0xe7)]+_0x1f02df(0x55e)+(_0x285dd8 instanceof Error?_0x285dd8[_0x1f02df(0x780)]:JSON[_0x1f02df(0xfe)](_0x285dd8,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x285dd8[_0x1f02df(0x780)]};}}async[a0_0x29b3b7(0x3f5)](_0x308e06){const _0x14ab37=a0_0x29b3b7;try{this[_0x14ab37(0x1be)][_0x14ab37(0x7a1)](this[_0x14ab37(0x770)]+'\x20('+this['instance'][_0x14ab37(0xe7)]+_0x14ab37(0x18c));let _0x4a68eb=await this['repository'][_0x14ab37(0x2d3)]['findOne']({'where':{'name':_0x308e06[_0x14ab37(0x438)]}},this[_0x14ab37(0x1fb)][_0x14ab37(0xe7)]);if(!_0x4a68eb)return{'message':_0x14ab37(0x5a6)};_0x308e06[_0x14ab37(0x282)]===!0x0&&await this[_0x14ab37(0x68f)][_0x14ab37(0x2d3)][_0x14ab37(0x398)]({},{'default':!0x1},this[_0x14ab37(0x1fb)][_0x14ab37(0xe7)]),delete _0x308e06[_0x14ab37(0x676)],delete _0x308e06[_0x14ab37(0x2f7)];let _0x537925=await this[_0x14ab37(0x68f)][_0x14ab37(0x2d3)][_0x14ab37(0x7be)](_0x4a68eb['_id'],_0x308e06,this[_0x14ab37(0x1fb)][_0x14ab37(0xe7)]);return _0x537925&&_0x537925[_0x14ab37(0x676)]&&_0x537925[_0x14ab37(0x676)][_0x14ab37(0x761)]>0x1&&this['synchronizeFlows'](_0x537925[_0x14ab37(0x6a7)],this[_0x14ab37(0x1fb)]['wuid']),_0x537925;}catch(_0x1c0c33){let _0x2d09a5=_0x14ab37(0x3ed),_0x30559e=_0x1c0c33 instanceof Error?_0x1c0c33[_0x14ab37(0x780)]:typeof _0x1c0c33=='object'?JSON[_0x14ab37(0xfe)](_0x1c0c33):_0x1c0c33,_0xb1667a=_0x2d09a5+':\x20'+_0x30559e;throw this[_0x14ab37(0x1be)][_0x14ab37(0x60d)](this[_0x14ab37(0x770)]+'\x20('+this[_0x14ab37(0x1fb)][_0x14ab37(0xe7)]+_0x14ab37(0x1e5)+_0xb1667a),new m(_0xb1667a);}}async['editFlowBlock'](_0x3f0176){const _0x1c3da0=a0_0x29b3b7;try{this[_0x1c3da0(0x1be)][_0x1c3da0(0x7a1)](this[_0x1c3da0(0x770)]+'\x20('+this[_0x1c3da0(0x1fb)][_0x1c3da0(0xe7)]+_0x1c3da0(0x2de));let _0x1b71dd=await this[_0x1c3da0(0x68f)]['flow'][_0x1c3da0(0x3b0)]({'where':{'name':_0x3f0176['name']}},this[_0x1c3da0(0x1fb)]['wuid']);_0x1b71dd||this[_0x1c3da0(0x6e9)](_0x1c3da0(0x1f4));let {block:_0x57c948}=_0x3f0176;_0x57c948?.['copy']?this[_0x1c3da0(0x746)](_0x1b71dd,_0x3f0176):_0x57c948?.[_0x1c3da0(0x5a1)]?this[_0x1c3da0(0x708)](_0x1b71dd,_0x3f0176):_0x57c948['_id']?await this[_0x1c3da0(0x568)](_0x1b71dd,_0x3f0176):this['addBlock'](_0x1b71dd,_0x3f0176);let _0x3296aa=await this['repository'][_0x1c3da0(0x2d3)][_0x1c3da0(0x7be)](_0x1b71dd[_0x1c3da0(0x6a7)],_0x1b71dd,this['instance'][_0x1c3da0(0xe7)]);if(_0x3296aa&&_0x3296aa[_0x1c3da0(0x676)]&&_0x3296aa[_0x1c3da0(0x676)][_0x1c3da0(0x761)]>0x1&&this[_0x1c3da0(0x32b)](_0x3296aa[_0x1c3da0(0x6a7)],this['instance']['wuid']),!_0x3296aa)throw new Error(_0x1c3da0(0x3ae));return _0x3296aa;}catch(_0x4063d1){this[_0x1c3da0(0x6e9)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x4063d1);}}async[a0_0x29b3b7(0x746)](_0x436549,_0x41efb5){const _0x18f476=a0_0x29b3b7;let _0x7b9fe9=_0x41efb5[_0x18f476(0x376)][_0x18f476(0x6a7)],_0x69b80c=_0x436549[_0x18f476(0x63e)][_0x18f476(0x61d)](_0x383604=>_0x383604['_id'][_0x18f476(0x4a2)]()===_0x7b9fe9);if(!_0x69b80c){this['logger'][_0x18f476(0x60d)](this['instanceName']+'\x20('+this[_0x18f476(0x1fb)]['wuid']+_0x18f476(0x2b2)+_0x7b9fe9+_0x18f476(0x36d));return;}this['logger']['verbose'](this[_0x18f476(0x770)]+'\x20('+this[_0x18f476(0x1fb)][_0x18f476(0xe7)]+_0x18f476(0x362)+JSON[_0x18f476(0xfe)](_0x69b80c));let _0xe23d5e=JSON[_0x18f476(0x399)](JSON[_0x18f476(0xfe)](_0x69b80c));_0xe23d5e[_0x18f476(0x6a7)]=new re[(_0x18f476(0x282))][(_0x18f476(0x474))]['ObjectId'](),this['logger'][_0x18f476(0x7a1)](this[_0x18f476(0x770)]+'\x20('+this['instance'][_0x18f476(0xe7)]+_0x18f476(0x6b5)+JSON['stringify'](_0xe23d5e)),_0x436549['blocks']['push'](_0xe23d5e),this[_0x18f476(0x573)](_0x436549[_0x18f476(0x63e)],_0xe23d5e[_0x18f476(0x17c)]);}[a0_0x29b3b7(0x6e9)](_0x5a595d){const _0x183e8f=a0_0x29b3b7;throw this[_0x183e8f(0x1be)][_0x183e8f(0x60d)](this[_0x183e8f(0x770)]+'\x20('+this[_0x183e8f(0x1fb)][_0x183e8f(0xe7)]+_0x183e8f(0x1e5)+_0x5a595d),new m(_0x5a595d);}['deleteBlock'](_0x2f88ee,_0x533e93){const _0x16a176=a0_0x29b3b7;let {block:_0x41fe8e}=_0x533e93;if(_0x41fe8e[_0x16a176(0x263)]===_0x16a176(0x140)){this['throwAndLogError']('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x41fe8e['_id']){this[_0x16a176(0x6e9)]('blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco');return;}let _0x510030=_0x2f88ee[_0x16a176(0x63e)][_0x16a176(0x61d)](_0xf22805=>_0xf22805[_0x16a176(0x6a7)]['toString']()===_0x533e93[_0x16a176(0x376)][_0x16a176(0x6a7)][_0x16a176(0x4a2)]());if(!_0x510030){this[_0x16a176(0x6e9)](_0x16a176(0x5db)+_0x41fe8e[_0x16a176(0x6a7)]+'\x20não\x20encontrado');return;}_0x2f88ee['blocks']=_0x2f88ee['blocks']['filter'](_0x12617f=>_0x12617f[_0x16a176(0x6a7)]['toString']()!==_0x533e93[_0x16a176(0x376)]['_id'][_0x16a176(0x4a2)]()),_0x2f88ee['conditions']=_0x2f88ee[_0x16a176(0x471)][_0x16a176(0x19c)](_0xd94690=>_0xd94690[_0x16a176(0x77a)]!==_0x41fe8e[_0x16a176(0x6a7)][_0x16a176(0x4a2)]()),_0x2f88ee[_0x16a176(0x233)]=_0x2f88ee[_0x16a176(0x233)][_0x16a176(0x19c)](_0x4339c0=>_0x4339c0['blockId']!==_0x41fe8e['_id'][_0x16a176(0x4a2)]()),_0x2f88ee[_0x16a176(0x270)]=_0x2f88ee[_0x16a176(0x270)]['filter'](_0x1b8fb2=>_0x1b8fb2['blockId']!==_0x41fe8e['_id'][_0x16a176(0x4a2)]()),this['reorderBlocks'](_0x2f88ee['blocks'],_0x510030[_0x16a176(0x17c)]);}async[a0_0x29b3b7(0x568)](_0x132c6c,_0x179d2b){const _0x3675c4=a0_0x29b3b7;let _0x117608=_0x132c6c[_0x3675c4(0x63e)][_0x3675c4(0x14c)](_0x23f2e8=>_0x23f2e8[_0x3675c4(0x6a7)][_0x3675c4(0x4a2)]()===_0x179d2b[_0x3675c4(0x376)][_0x3675c4(0x6a7)]['toString']());if(this[_0x3675c4(0x1be)][_0x3675c4(0x7a1)](this['instanceName']+'\x20('+this[_0x3675c4(0x1fb)][_0x3675c4(0xe7)]+_0x3675c4(0x2b0)+_0x117608),_0x117608===-0x1){this[_0x3675c4(0x1be)][_0x3675c4(0x7a1)](_0x3675c4(0x5db)+_0x179d2b[_0x3675c4(0x376)][_0x3675c4(0x6a7)]+_0x3675c4(0x4c8));return;}if(_0x132c6c[_0x3675c4(0x63e)][_0x117608][_0x3675c4(0x263)]===_0x3675c4(0x140)){let _0x5e96fb=Object[_0x3675c4(0x37a)](_0x179d2b[_0x3675c4(0x376)]);if(_0x5e96fb['length']>0x2||_0x5e96fb[_0x3675c4(0x761)]===0x2&&!_0x5e96fb[_0x3675c4(0x58d)](_0x3675c4(0x3d4))){this['throwAndLogError'](_0x3675c4(0x38d));return;}}let _0x1e57a6=_0x132c6c[_0x3675c4(0x63e)][_0x117608][_0x3675c4(0x17c)];for(let _0x5675f4 in _0x179d2b['block'])_0x179d2b[_0x3675c4(0x376)][_0x3675c4(0x608)](_0x5675f4)&&(_0x132c6c[_0x3675c4(0x63e)][_0x117608][_0x5675f4]=_0x179d2b[_0x3675c4(0x376)][_0x5675f4]);if(this['logger']['verbose'](this[_0x3675c4(0x770)]+'\x20('+this[_0x3675c4(0x1fb)][_0x3675c4(0xe7)]+_0x3675c4(0x20c)+JSON[_0x3675c4(0xfe)](_0x132c6c[_0x3675c4(0x63e)][_0x117608])),_0x132c6c[_0x3675c4(0x63e)][_0x117608]['apirequest']&&'header'in _0x132c6c[_0x3675c4(0x63e)][_0x117608][_0x3675c4(0x22b)]){this['logger'][_0x3675c4(0x7a1)](this[_0x3675c4(0x770)]+'\x20('+this[_0x3675c4(0x1fb)][_0x3675c4(0xe7)]+_0x3675c4(0x2a6));let _0x257e7b=JSON[_0x3675c4(0xfe)](_0x132c6c[_0x3675c4(0x63e)][_0x117608][_0x3675c4(0x22b)][_0x3675c4(0x121)],null,0x1);_0x257e7b[_0x3675c4(0x761)]>0x2&&(_0x257e7b=_0x257e7b[_0x3675c4(0x346)](0x1,_0x257e7b[_0x3675c4(0x761)]-0x1)[_0x3675c4(0x699)]()),_0x132c6c['blocks'][_0x117608][_0x3675c4(0x22b)][_0x3675c4(0x3a3)]=_0x257e7b;}if(_0x132c6c['blocks'][_0x117608][_0x3675c4(0x22b)]&&'body'in _0x132c6c[_0x3675c4(0x63e)][_0x117608][_0x3675c4(0x22b)]&&!(_0x3675c4(0x25e)in _0x132c6c[_0x3675c4(0x63e)][_0x117608][_0x3675c4(0x22b)])){this[_0x3675c4(0x1be)][_0x3675c4(0x7a1)](this[_0x3675c4(0x770)]+'\x20('+this[_0x3675c4(0x1fb)][_0x3675c4(0xe7)]+_0x3675c4(0x3ac)),_0x132c6c[_0x3675c4(0x63e)][_0x117608][_0x3675c4(0x22b)][_0x3675c4(0x16c)]=!0x1;let _0x1c25fd=JSON[_0x3675c4(0xfe)](_0x132c6c['blocks'][_0x117608][_0x3675c4(0x22b)][_0x3675c4(0x4fe)],null,0x2);_0x132c6c[_0x3675c4(0x63e)][_0x117608]['apirequest']['bodyString']=_0x1c25fd;}if(_0x132c6c['blocks'][_0x117608]['apirequest']&&_0x3675c4(0x25e)in _0x132c6c['blocks'][_0x117608][_0x3675c4(0x22b)]){_0x132c6c['blocks'][_0x117608][_0x3675c4(0x22b)][_0x3675c4(0x16c)]=!0x1;let _0x47a597=_0x132c6c[_0x3675c4(0x63e)][_0x117608][_0x3675c4(0x22b)][_0x3675c4(0x25e)],_0x36e2d4=this['beautifyWithPlaceholders'](_0x47a597);_0x132c6c[_0x3675c4(0x63e)][_0x117608][_0x3675c4(0x22b)][_0x3675c4(0x25e)]=_0x36e2d4['result'],_0x132c6c['blocks'][_0x117608][_0x3675c4(0x22b)]['bodyStringErrorParse']=_0x36e2d4[_0x3675c4(0x60d)];}let _0x47fb33=_0x132c6c[_0x3675c4(0x63e)][_0x117608][_0x3675c4(0x17c)];_0x1e57a6!==_0x47fb33?(this[_0x3675c4(0x573)](_0x132c6c[_0x3675c4(0x63e)],_0x1e57a6),this[_0x3675c4(0x573)](_0x132c6c[_0x3675c4(0x63e)],_0x47fb33)):this[_0x3675c4(0x573)](_0x132c6c[_0x3675c4(0x63e)],_0x1e57a6);}['beautifyWithPlaceholders'](_0x30306a){const _0x55c5b5=a0_0x29b3b7;let _0x25fc88='\u205f',_0x3ea891=!0x1,_0x822766='';for(let _0x4bb962=0x0;_0x4bb962<_0x30306a[_0x55c5b5(0x761)];_0x4bb962++){let _0x4330a7=_0x30306a[_0x4bb962];_0x4330a7==='\x22'&&(_0x4bb962===0x0||_0x30306a[_0x4bb962-0x1]!=='\x5c')&&(_0x3ea891=!_0x3ea891),!(!_0x3ea891&&(_0x4330a7==='\x0a'||_0x4330a7==='\x20'||_0x4330a7===_0x25fc88))&&(_0x822766+=_0x4330a7);}let _0x271f6b={},_0x330ef8=9876543210.1234,_0x50f840=_0x822766[_0x55c5b5(0x3b1)](/\{\{([^}]+)\}\}/g,_0x4fff18=>{let _0x2ed73b=_0x4fff18,_0x3aa8c3=''+_0x330ef8;return _0x271f6b[_0x3aa8c3]=_0x2ed73b,_0x330ef8+=0.0001,_0x3aa8c3;}),_0x3fd5fe='',_0x2bb9d1=!0x1;try{let _0x1b2a25=JSON[_0x55c5b5(0x399)](_0x50f840);_0x3fd5fe=JSON['stringify'](_0x1b2a25,null,0x2),_0x3fd5fe=_0x3fd5fe[_0x55c5b5(0x3b1)](/\n( +)/g,(_0xe16b6b,_0x1f1f06)=>{const _0x5412c2=_0x55c5b5;let _0x4cb294=_0x1f1f06['length'];return'\x0a'+_0x25fc88[_0x5412c2(0x19e)](_0x4cb294*0x2);}),_0x3fd5fe=_0x3fd5fe[_0x55c5b5(0x3b1)](/(\d{10,}\.\d+)/g,_0x19aebf=>_0x271f6b[_0x19aebf]||_0x19aebf);}catch(_0xf938e1){console[_0x55c5b5(0x60d)](_0x55c5b5(0x668),_0xf938e1),_0x3fd5fe=_0x30306a,_0x2bb9d1=!0x0;}return{'result':_0x3fd5fe,'error':_0x2bb9d1};}[a0_0x29b3b7(0x735)](_0x6b6bbf,_0x38ab82){const _0x4f3f83=a0_0x29b3b7;if(_0x38ab82['block'][_0x4f3f83(0x263)]===_0x4f3f83(0x140)){this['throwAndLogError'](_0x4f3f83(0x788));return;}if(_0x38ab82[_0x4f3f83(0x376)][_0x4f3f83(0x22b)]&&'header'in _0x38ab82[_0x4f3f83(0x376)][_0x4f3f83(0x22b)]){this[_0x4f3f83(0x1be)]['verbose'](this[_0x4f3f83(0x770)]+'\x20('+this[_0x4f3f83(0x1fb)][_0x4f3f83(0xe7)]+_0x4f3f83(0x2a6));let _0x1d3387=JSON['stringify'](_0x38ab82[_0x4f3f83(0x376)][_0x4f3f83(0x22b)]['header'],null,0x1);_0x1d3387[_0x4f3f83(0x761)]>0x2&&(_0x1d3387=_0x1d3387[_0x4f3f83(0x346)](0x1,_0x1d3387['length']-0x1)[_0x4f3f83(0x699)]()),_0x38ab82[_0x4f3f83(0x376)][_0x4f3f83(0x22b)][_0x4f3f83(0x3a3)]=_0x1d3387;}_0x38ab82['block'][_0x4f3f83(0x22b)]&&_0x4f3f83(0x4fe)in _0x38ab82[_0x4f3f83(0x376)][_0x4f3f83(0x22b)]&&(this[_0x4f3f83(0x1be)][_0x4f3f83(0x7a1)](this[_0x4f3f83(0x770)]+'\x20('+this['instance'][_0x4f3f83(0xe7)]+_0x4f3f83(0x3ac)),_0x38ab82[_0x4f3f83(0x376)][_0x4f3f83(0x22b)]['bodyString']=JSON['stringify'](_0x38ab82[_0x4f3f83(0x376)][_0x4f3f83(0x22b)][_0x4f3f83(0x4fe)],null,0x1)[_0x4f3f83(0x699)]()),_0x6b6bbf['blocks']['push'](_0x38ab82[_0x4f3f83(0x376)]),this[_0x4f3f83(0x573)](_0x6b6bbf[_0x4f3f83(0x63e)],_0x38ab82['block']['groupId']);}[a0_0x29b3b7(0x573)](_0x27590b,_0x573183){const _0x23644a=a0_0x29b3b7;let _0x444d2b=_0x27590b[_0x23644a(0x19c)](_0x3aafbf=>_0x3aafbf[_0x23644a(0x17c)]===_0x573183);_0x444d2b[_0x23644a(0x4d3)]((_0x35e757,_0x42cd41)=>_0x35e757[_0x23644a(0x5f9)]-_0x42cd41['order']),_0x444d2b[_0x23644a(0x693)]((_0x2080bb,_0x229948)=>_0x2080bb[_0x23644a(0x5f9)]=_0x229948+0x1);}async[a0_0x29b3b7(0x7ac)](_0x4316a){const _0x9e0d62=a0_0x29b3b7;try{if(this[_0x9e0d62(0x1be)][_0x9e0d62(0x7a1)](this['instanceName']+'\x20('+this[_0x9e0d62(0x1fb)]['wuid']+'):\x20Editando\x20replyOption...'),!_0x4316a||!_0x4316a['replyOption']){this[_0x9e0d62(0x6e9)]('Data\x20inválida\x20fornecida');return;}let _0x1eda69=await this['repository']['flow']['findOne']({'where':{'name':_0x4316a['name']}},this[_0x9e0d62(0x1fb)][_0x9e0d62(0xe7)]);_0x1eda69||this[_0x9e0d62(0x6e9)](_0x9e0d62(0x1f4));let {replyOption:_0x55c8ff}=_0x4316a;_0x55c8ff?.[_0x9e0d62(0x5a1)]?(this[_0x9e0d62(0x6f3)](_0x1eda69,_0x4316a),this['reorderReplyOptions'](_0x1eda69[_0x9e0d62(0x270)],_0x4316a['replyOption'][_0x9e0d62(0x77a)])):_0x55c8ff['_id']?(await this['updateReplyOption'](_0x1eda69,_0x4316a),this[_0x9e0d62(0x2da)](_0x1eda69['replyOptions'],_0x4316a[_0x9e0d62(0x462)][_0x9e0d62(0x77a)])):(this['addReplyOption'](_0x1eda69,_0x4316a),this[_0x9e0d62(0x2da)](_0x1eda69[_0x9e0d62(0x270)],_0x4316a['replyOption']['blockId']));let _0x43e35f=await this['repository'][_0x9e0d62(0x2d3)]['updateOne'](_0x1eda69[_0x9e0d62(0x6a7)],_0x1eda69,this[_0x9e0d62(0x1fb)][_0x9e0d62(0xe7)]);if(_0x43e35f&&_0x43e35f[_0x9e0d62(0x676)]&&_0x43e35f[_0x9e0d62(0x676)][_0x9e0d62(0x761)]>0x1&&this[_0x9e0d62(0x32b)](_0x43e35f[_0x9e0d62(0x6a7)],this[_0x9e0d62(0x1fb)]['wuid']),!_0x43e35f)throw new Error(_0x9e0d62(0x3ae));return _0x43e35f;}catch(_0x19e55a){this[_0x9e0d62(0x6e9)](_0x9e0d62(0x6fc)+_0x19e55a);}}['reorderReplyOptions'](_0xa6b2b1,_0x3da538){const _0x244f7e=a0_0x29b3b7;console['log'](_0x244f7e(0x5e3),_0x3da538),_0xa6b2b1[_0x244f7e(0x693)](_0x231eda=>{const _0x1b2f1c=_0x244f7e;_0x231eda[_0x1b2f1c(0x77a)]===_0x3da538&&_0x231eda[_0x1b2f1c(0x5f9)]===void 0x0&&(_0x231eda[_0x1b2f1c(0x5f9)]=0x270f);});let _0x4eea52=_0xa6b2b1[_0x244f7e(0x19c)](_0x2fc876=>_0x2fc876[_0x244f7e(0x77a)]===_0x3da538);_0x4eea52[_0x244f7e(0x4d3)]((_0x589436,_0x15c755)=>_0x589436[_0x244f7e(0x5f9)]-_0x15c755[_0x244f7e(0x5f9)]),_0x4eea52['forEach']((_0x4e06ea,_0xf7162a)=>{const _0x45e0e9=_0x244f7e;_0x4e06ea[_0x45e0e9(0x5f9)]=_0xf7162a+0x1;}),_0xa6b2b1['forEach'](_0x29d29c=>{const _0x5b3412=_0x244f7e;if(_0x29d29c[_0x5b3412(0x77a)]===_0x3da538){let _0x308dad=_0x4eea52[_0x5b3412(0x61d)](_0x25bde4=>_0x25bde4[_0x5b3412(0x6a7)]&&_0x29d29c['_id']&&_0x25bde4[_0x5b3412(0x6a7)][_0x5b3412(0x4a2)]()===_0x29d29c[_0x5b3412(0x6a7)][_0x5b3412(0x4a2)]());_0x308dad&&(_0x29d29c['order']=_0x308dad[_0x5b3412(0x5f9)]);}}),console[_0x244f7e(0x6bf)](_0x244f7e(0x48c),_0xa6b2b1);}[a0_0x29b3b7(0x6f3)](_0x21b207,_0x34f4f8){const _0x8ef5f5=a0_0x29b3b7;let {replyOption:_0x38e589}=_0x34f4f8;if(!_0x38e589[_0x8ef5f5(0x6a7)]){this[_0x8ef5f5(0x6e9)](_0x8ef5f5(0x377));return;}if(!_0x21b207['replyOptions'][_0x8ef5f5(0x61d)](_0x4d83cd=>_0x4d83cd['_id'][_0x8ef5f5(0x4a2)]()===_0x34f4f8[_0x8ef5f5(0x462)][_0x8ef5f5(0x6a7)][_0x8ef5f5(0x4a2)]())){this[_0x8ef5f5(0x6e9)](_0x8ef5f5(0x2f9)+_0x38e589[_0x8ef5f5(0x6a7)]+_0x8ef5f5(0x4ab));return;}_0x21b207[_0x8ef5f5(0x270)]=_0x21b207['replyOptions'][_0x8ef5f5(0x19c)](_0x2eeaa8=>_0x2eeaa8[_0x8ef5f5(0x6a7)][_0x8ef5f5(0x4a2)]()!==_0x34f4f8['replyOption'][_0x8ef5f5(0x6a7)][_0x8ef5f5(0x4a2)]());}async[a0_0x29b3b7(0x108)](_0x3c87ac,_0x83708d){const _0x4e0168=a0_0x29b3b7;let _0x182e4b=_0x3c87ac[_0x4e0168(0x270)][_0x4e0168(0x14c)](_0x4a05ea=>_0x4a05ea[_0x4e0168(0x6a7)]['toString']()===_0x83708d[_0x4e0168(0x462)]['_id'][_0x4e0168(0x4a2)]());if(_0x182e4b===-0x1){this[_0x4e0168(0x6e9)](_0x4e0168(0x2f9)+_0x83708d[_0x4e0168(0x462)][_0x4e0168(0x6a7)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x3bdc75 in _0x83708d[_0x4e0168(0x462)])_0x83708d[_0x4e0168(0x462)][_0x4e0168(0x608)](_0x3bdc75)&&(_0x3c87ac[_0x4e0168(0x270)][_0x182e4b][_0x3bdc75]=_0x83708d[_0x4e0168(0x462)][_0x3bdc75]);}[a0_0x29b3b7(0x760)](_0x26c297,_0x127185){const _0x5bee96=a0_0x29b3b7;_0x26c297['replyOptions'][_0x5bee96(0x343)](_0x127185[_0x5bee96(0x462)]);}async[a0_0x29b3b7(0x17e)](_0x17c2e2){const _0x6eab64=a0_0x29b3b7;this[_0x6eab64(0x1be)]['verbose'](this[_0x6eab64(0x770)]+'\x20('+this[_0x6eab64(0x1fb)][_0x6eab64(0xe7)]+_0x6eab64(0x35f)+_0x17c2e2);try{this[_0x6eab64(0x1be)][_0x6eab64(0x7a1)](this[_0x6eab64(0x770)]+'\x20('+this[_0x6eab64(0x1fb)][_0x6eab64(0xe7)]+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x3fc550=await this[_0x6eab64(0x68f)]['flow'][_0x6eab64(0x3b0)]({'where':{'name':_0x17c2e2[_0x6eab64(0x438)]}},this[_0x6eab64(0x1fb)][_0x6eab64(0xe7)]);if(!_0x3fc550)throw new Error(_0x6eab64(0x1f4));if(_0x17c2e2[_0x6eab64(0x16d)]&&_0x17c2e2[_0x6eab64(0x16d)]?.[_0x6eab64(0x5a1)]===!0x0){if(this[_0x6eab64(0x1be)][_0x6eab64(0x7a1)](this[_0x6eab64(0x770)]+'\x20('+this[_0x6eab64(0x1fb)][_0x6eab64(0xe7)]+_0x6eab64(0x68a)),_0x17c2e2[_0x6eab64(0x16d)][_0x6eab64(0x282)]===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x3fc550[_0x6eab64(0x63e)]['some'](_0x4b24bb=>_0x4b24bb[_0x6eab64(0x17c)][_0x6eab64(0x4a2)]()===_0x17c2e2[_0x6eab64(0x16d)][_0x6eab64(0x6a7)]))return this[_0x6eab64(0x1be)][_0x6eab64(0x7a1)](this[_0x6eab64(0x770)]+'\x20('+this[_0x6eab64(0x1fb)][_0x6eab64(0xe7)]+_0x6eab64(0x1c8)),{'message':_0x6eab64(0x77b)};_0x3fc550['groups']=_0x3fc550[_0x6eab64(0x104)][_0x6eab64(0x19c)](_0x37b89f=>_0x37b89f[_0x6eab64(0x6a7)]['toString']()!==_0x17c2e2[_0x6eab64(0x16d)][_0x6eab64(0x6a7)]);}else{if(_0x17c2e2[_0x6eab64(0x16d)]){if(_0x17c2e2[_0x6eab64(0x16d)]['default']===!0x0)return{'message':_0x6eab64(0x634)};if(_0x17c2e2[_0x6eab64(0x16d)][_0x6eab64(0x6a7)]){let _0x538c8a=_0x3fc550[_0x6eab64(0x104)][_0x6eab64(0x61d)](_0x1b2637=>_0x1b2637[_0x6eab64(0x6a7)][_0x6eab64(0x4a2)]()===_0x17c2e2[_0x6eab64(0x16d)][_0x6eab64(0x6a7)]);_0x538c8a&&(_0x17c2e2[_0x6eab64(0x16d)]['x']<0x0&&(_0x17c2e2[_0x6eab64(0x16d)]['x']=0x0),_0x17c2e2[_0x6eab64(0x16d)]['y']<0x0&&(_0x17c2e2[_0x6eab64(0x16d)]['y']=0x0),Object['assign'](_0x538c8a,_0x17c2e2[_0x6eab64(0x16d)]));}else _0x3fc550[_0x6eab64(0x104)][_0x6eab64(0x343)](_0x17c2e2[_0x6eab64(0x16d)]);}}let _0x583701=await this[_0x6eab64(0x68f)]['flow'][_0x6eab64(0x7be)](_0x3fc550[_0x6eab64(0x6a7)],_0x3fc550,this[_0x6eab64(0x1fb)][_0x6eab64(0xe7)]);if(_0x583701&&_0x583701[_0x6eab64(0x676)]&&_0x583701['shareOwners']['length']>0x1&&this[_0x6eab64(0x32b)](_0x583701['_id'],this['instance'][_0x6eab64(0xe7)]),!_0x583701)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x583701;}catch(_0x4b8ce4){let _0x10ab4f=_0x6eab64(0x6e4),_0x3ff29d=_0x4b8ce4 instanceof Error?_0x4b8ce4[_0x6eab64(0x780)]:typeof _0x4b8ce4=='object'?JSON[_0x6eab64(0xfe)](_0x4b8ce4):_0x4b8ce4,_0x1ce741=_0x10ab4f+':\x20'+_0x3ff29d;throw this['logger'][_0x6eab64(0x60d)](this['instanceName']+'\x20('+this['instance'][_0x6eab64(0xe7)]+_0x6eab64(0x1e5)+_0x1ce741),new m(_0x1ce741);}}async[a0_0x29b3b7(0x514)](_0x34a87f){const _0x2ea773=a0_0x29b3b7;try{this[_0x2ea773(0x1be)][_0x2ea773(0x7a1)](this[_0x2ea773(0x770)]+'\x20('+this['instance'][_0x2ea773(0xe7)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x3768d3=await this['repository'][_0x2ea773(0x2d3)][_0x2ea773(0x3b0)]({'where':{'name':_0x34a87f['name']}},this[_0x2ea773(0x1fb)][_0x2ea773(0xe7)]);if(!_0x3768d3)throw new Error(_0x2ea773(0x1f4));let _0x49cf8b=!0x1;if(_0x34a87f[_0x2ea773(0x6ec)]?.['delete']===!0x0)_0x3768d3['conditions']=_0x3768d3[_0x2ea773(0x471)][_0x2ea773(0x19c)](_0x591e45=>_0x591e45&&_0x34a87f['condition']&&_0x591e45[_0x2ea773(0x6a7)]&&_0x34a87f[_0x2ea773(0x6ec)][_0x2ea773(0x6a7)]&&_0x591e45['_id']['toString']()!==_0x34a87f[_0x2ea773(0x6ec)][_0x2ea773(0x6a7)][_0x2ea773(0x4a2)]()),_0x49cf8b=!0x0;else{let _0xd11552=_0x3768d3[_0x2ea773(0x471)]['find'](_0x3594c6=>_0x3594c6&&_0x34a87f[_0x2ea773(0x6ec)]&&_0x3594c6['_id']&&_0x34a87f[_0x2ea773(0x6ec)][_0x2ea773(0x6a7)]&&_0x3594c6[_0x2ea773(0x6a7)][_0x2ea773(0x4a2)]()===_0x34a87f[_0x2ea773(0x6ec)][_0x2ea773(0x6a7)][_0x2ea773(0x4a2)]());_0xd11552?(_0x49cf8b=_0xd11552[_0x2ea773(0x5f9)]!==_0x34a87f[_0x2ea773(0x6ec)][_0x2ea773(0x5f9)],Object[_0x2ea773(0x411)](_0xd11552,_0x34a87f[_0x2ea773(0x6ec)])):(_0x3768d3[_0x2ea773(0x471)]['push'](_0x34a87f[_0x2ea773(0x6ec)]),_0x49cf8b=!0x0);}if(_0x49cf8b){_0x3768d3['conditions'][_0x2ea773(0x4d3)]((_0x7e1d7c,_0x3c7371)=>_0x7e1d7c['order']>_0x3c7371[_0x2ea773(0x5f9)]?0x1:_0x3c7371[_0x2ea773(0x5f9)]>_0x7e1d7c[_0x2ea773(0x5f9)]?-0x1:0x0);for(let _0x53363a=0x0;_0x53363a<_0x3768d3[_0x2ea773(0x471)]['length'];_0x53363a++)_0x3768d3['conditions'][_0x53363a][_0x2ea773(0x5f9)]=_0x53363a+0x1;_0x3768d3[_0x2ea773(0x471)][_0x2ea773(0x761)]>0x0&&(_0x3768d3['conditions'][0x0][_0x2ea773(0x458)]='and');}let _0x462600=await this[_0x2ea773(0x68f)]['flow'][_0x2ea773(0x7be)](_0x3768d3['_id'],_0x3768d3,this[_0x2ea773(0x1fb)][_0x2ea773(0xe7)]);if(_0x462600&&_0x462600[_0x2ea773(0x676)]&&_0x462600[_0x2ea773(0x676)][_0x2ea773(0x761)]>0x1&&this[_0x2ea773(0x32b)](_0x462600[_0x2ea773(0x6a7)],this[_0x2ea773(0x1fb)][_0x2ea773(0xe7)]),!_0x462600)throw new Error(_0x2ea773(0x3ae));return _0x462600;}catch(_0x40b623){let _0x5e145a=_0x2ea773(0x3f4),_0x1151b6=_0x40b623 instanceof Error?_0x40b623['message']:typeof _0x40b623==_0x2ea773(0x320)?JSON[_0x2ea773(0xfe)](_0x40b623):_0x40b623,_0x203e3a=_0x5e145a+':\x20'+_0x1151b6;throw this[_0x2ea773(0x1be)][_0x2ea773(0x60d)](this[_0x2ea773(0x770)]+'\x20('+this[_0x2ea773(0x1fb)][_0x2ea773(0xe7)]+'):\x20'+_0x203e3a),new m(_0x203e3a);}}async[a0_0x29b3b7(0x274)](_0xf3efc4){const _0x1ee93b=a0_0x29b3b7;try{this[_0x1ee93b(0x1be)][_0x1ee93b(0x7a1)](this[_0x1ee93b(0x770)]+'\x20('+this[_0x1ee93b(0x1fb)]['wuid']+_0x1ee93b(0x5fc));let _0x269f45=await this[_0x1ee93b(0x68f)]['flow'][_0x1ee93b(0x3b0)]({'where':{'name':_0xf3efc4[_0x1ee93b(0x438)]}},this[_0x1ee93b(0x1fb)][_0x1ee93b(0xe7)]);if(!_0x269f45)throw new Error(_0x1ee93b(0x1f4));let _0x22f880=!0x1;if(_0xf3efc4[_0x1ee93b(0x2c3)]?.[_0x1ee93b(0x5a1)]===!0x0)_0x269f45[_0x1ee93b(0x233)]=_0x269f45[_0x1ee93b(0x233)]['filter'](_0x32cf53=>_0x32cf53&&_0xf3efc4['varedit']&&_0x32cf53[_0x1ee93b(0x6a7)]&&_0xf3efc4[_0x1ee93b(0x2c3)]['_id']&&_0x32cf53[_0x1ee93b(0x6a7)][_0x1ee93b(0x4a2)]()!==_0xf3efc4[_0x1ee93b(0x2c3)]['_id'][_0x1ee93b(0x4a2)]()),_0x22f880=!0x0;else{let _0x2f8fa2=_0x269f45[_0x1ee93b(0x233)][_0x1ee93b(0x61d)](_0x22943d=>_0x22943d&&_0xf3efc4[_0x1ee93b(0x2c3)]&&_0x22943d['_id']&&_0xf3efc4[_0x1ee93b(0x2c3)]['_id']&&_0x22943d[_0x1ee93b(0x6a7)][_0x1ee93b(0x4a2)]()===_0xf3efc4['varedit']['_id']['toString']());_0x2f8fa2?(_0x22f880=_0x2f8fa2[_0x1ee93b(0x5f9)]!==_0xf3efc4[_0x1ee93b(0x2c3)][_0x1ee93b(0x5f9)],Object[_0x1ee93b(0x411)](_0x2f8fa2,_0xf3efc4['varedit'])):(_0x269f45[_0x1ee93b(0x233)][_0x1ee93b(0x343)](_0xf3efc4[_0x1ee93b(0x2c3)]),_0x22f880=!0x0);}if(_0x22f880){_0x269f45[_0x1ee93b(0x233)]['sort']((_0x37535b,_0x15057e)=>_0x37535b[_0x1ee93b(0x5f9)]>_0x15057e['order']?0x1:_0x15057e[_0x1ee93b(0x5f9)]>_0x37535b[_0x1ee93b(0x5f9)]?-0x1:0x0);for(let _0x323311=0x0;_0x323311<_0x269f45['varedits'][_0x1ee93b(0x761)];_0x323311++)_0x269f45['varedits'][_0x323311][_0x1ee93b(0x5f9)]=_0x323311+0x1;}let _0x3defdb=await this[_0x1ee93b(0x68f)][_0x1ee93b(0x2d3)]['updateOne'](_0x269f45[_0x1ee93b(0x6a7)],_0x269f45,this[_0x1ee93b(0x1fb)][_0x1ee93b(0xe7)]);if(_0x3defdb&&_0x3defdb['shareOwners']&&_0x3defdb[_0x1ee93b(0x676)][_0x1ee93b(0x761)]>0x1&&this[_0x1ee93b(0x32b)](_0x3defdb[_0x1ee93b(0x6a7)],this[_0x1ee93b(0x1fb)][_0x1ee93b(0xe7)]),!_0x3defdb)throw new Error(_0x1ee93b(0x3ae));return _0x3defdb;}catch(_0x5a1bbb){let _0x192d84=_0x1ee93b(0x3f4),_0x2b8b87=_0x5a1bbb instanceof Error?_0x5a1bbb[_0x1ee93b(0x780)]:typeof _0x5a1bbb==_0x1ee93b(0x320)?JSON[_0x1ee93b(0xfe)](_0x5a1bbb):_0x5a1bbb,_0x44551e=_0x192d84+':\x20'+_0x2b8b87;throw this['logger'][_0x1ee93b(0x60d)](this[_0x1ee93b(0x770)]+'\x20('+this[_0x1ee93b(0x1fb)][_0x1ee93b(0xe7)]+'):\x20'+_0x44551e),new m(_0x44551e);}}async[a0_0x29b3b7(0x1bb)](_0x410884){const _0xea1cfc=a0_0x29b3b7;try{this[_0xea1cfc(0x1be)][_0xea1cfc(0x7a1)](this[_0xea1cfc(0x770)]+'\x20('+this['instance'][_0xea1cfc(0xe7)]+_0xea1cfc(0x5fe));let _0x54e92d=await this[_0xea1cfc(0x68f)]['flow'][_0xea1cfc(0x3b0)]({'where':{'name':_0x410884[_0xea1cfc(0x438)]}},this[_0xea1cfc(0x1fb)]['wuid']);if(!_0x54e92d)throw new Error(_0xea1cfc(0x1f4));_0x410884[_0xea1cfc(0x50a)]['name']=_0x410884[_0xea1cfc(0x50a)][_0xea1cfc(0x438)]['trim'](),_0x410884['variable'][_0xea1cfc(0x438)][_0xea1cfc(0x7bb)]('_')&&(_0x410884[_0xea1cfc(0x50a)][_0xea1cfc(0x438)]=_0x410884[_0xea1cfc(0x50a)][_0xea1cfc(0x438)][_0xea1cfc(0x346)](0x1)),_0x410884[_0xea1cfc(0x50a)][_0xea1cfc(0x438)]=_0x410884[_0xea1cfc(0x50a)]['name'][_0xea1cfc(0x699)]();let _0x3e16a9=_0x54e92d[_0xea1cfc(0x7cc)][_0xea1cfc(0x61d)](_0x237d94=>_0x237d94[_0xea1cfc(0x438)]===_0x410884[_0xea1cfc(0x50a)]['name']);if(_0x3e16a9?.['leadInfo']===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x410884[_0xea1cfc(0x50a)]?.[_0xea1cfc(0x5a1)]===!0x0){if(!_0x3e16a9)return{'message':'Variável\x20não\x20encontrada!'};_0x54e92d['variables']=_0x54e92d[_0xea1cfc(0x7cc)]['filter'](_0x334990=>_0x334990['name']!==_0x410884[_0xea1cfc(0x50a)]['name']);}else _0x3e16a9?Object[_0xea1cfc(0x411)](_0x3e16a9,_0x410884[_0xea1cfc(0x50a)]):_0x54e92d[_0xea1cfc(0x7cc)][_0xea1cfc(0x343)](_0x410884[_0xea1cfc(0x50a)]);let _0x10b3cc=await this[_0xea1cfc(0x68f)][_0xea1cfc(0x2d3)][_0xea1cfc(0x7be)](_0x54e92d['_id'],_0x54e92d,this[_0xea1cfc(0x1fb)][_0xea1cfc(0xe7)]);if(_0x10b3cc&&_0x10b3cc['shareOwners']&&_0x10b3cc[_0xea1cfc(0x676)][_0xea1cfc(0x761)]>0x1&&this[_0xea1cfc(0x32b)](_0x10b3cc[_0xea1cfc(0x6a7)],this['instance'][_0xea1cfc(0xe7)]),!_0x10b3cc)throw new Error(_0xea1cfc(0x3ae));return _0x10b3cc;}catch(_0x629e07){let _0x129bf7=_0xea1cfc(0x567),_0x110e4b=_0x629e07 instanceof Error?_0x629e07[_0xea1cfc(0x780)]:typeof _0x629e07==_0xea1cfc(0x320)?JSON[_0xea1cfc(0xfe)](_0x629e07):_0x629e07,_0x54c9b3=_0x129bf7+':\x20'+_0x110e4b;throw this['logger'][_0xea1cfc(0x60d)](this[_0xea1cfc(0x770)]+'\x20('+this[_0xea1cfc(0x1fb)][_0xea1cfc(0xe7)]+_0xea1cfc(0x1e5)+_0x54c9b3),new m(_0x54c9b3);}}async['startFlow'](_0x40a1c6){const _0x54bc81=a0_0x29b3b7;let _0x26746f=null;try{if(!this[_0x54bc81(0x460)]?.[_0x54bc81(0x473)]['enabled'])throw new m(_0x54bc81(0x3f0));this[_0x54bc81(0x1be)]['verbose'](this['instanceName']+'\x20('+this[_0x54bc81(0x1fb)][_0x54bc81(0xe7)]+'):\x20Iniciando\x20bot...');let _0x2c2775=(await this[_0x54bc81(0x580)]({'numbers':[_0x40a1c6[_0x54bc81(0x4b0)]]}))[0x0];if(!_0x2c2775[_0x54bc81(0x617)]&&!(0x0,f[_0x54bc81(0x256)])(_0x2c2775[_0x54bc81(0x31d)])&&!_0x2c2775['jid'][_0x54bc81(0x58d)](_0x54bc81(0x2c2)))throw _0x26746f=JSON['stringify'](_0x2c2775,null,0x2),new m(_0x2c2775);let _0x56c5f5=await this['repository'][_0x54bc81(0x2d3)]['findOne']({'where':{'name':_0x40a1c6['name']}},this[_0x54bc81(0x1fb)]['wuid']);if(!_0x56c5f5)return this[_0x54bc81(0x1be)][_0x54bc81(0x60d)](this[_0x54bc81(0x770)]+'\x20('+this['instance'][_0x54bc81(0xe7)]+_0x54bc81(0x625)),{'message':'Flow\x20não\x20encontrado'};let _0x42e22e=await this[_0x54bc81(0x1b2)](_0x56c5f5,_0x2c2775[_0x54bc81(0x31d)],_0x40a1c6[_0x54bc81(0x6fa)]);if(_0x42e22e){this[_0x54bc81(0x1be)][_0x54bc81(0x7a1)](this[_0x54bc81(0x770)]+'\x20('+this[_0x54bc81(0x1fb)][_0x54bc81(0xe7)]+_0x54bc81(0x2e8));let _0x4d4352=await this[_0x54bc81(0x72f)](_0x42e22e);return _0x4d4352&&await this['processblock'](_0x42e22e,_0x4d4352),{'message':'Flow\x20iniciado\x20com\x20'+_0x40a1c6['remoteJid']};}}catch(_0x158192){if(this['logger'][_0x54bc81(0x60d)](this[_0x54bc81(0x770)]+'\x20('+this[_0x54bc81(0x1fb)][_0x54bc81(0xe7)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20'+(_0x158192 instanceof Error?_0x158192['message']:JSON[_0x54bc81(0xfe)](_0x158192,null,0x2))),_0x26746f=_0x158192 instanceof Error?_0x158192['message']:JSON[_0x54bc81(0xfe)](_0x158192,null,0x2),_0x26746f)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x26746f);}}async['closeExistingConversations'](_0x405dbd){const _0x47e719=a0_0x29b3b7;try{let _0xedef99={'remoteJid':_0x405dbd,'status':_0x47e719(0x444)},_0x1e22ba={'status':_0x47e719(0x6c0)},_0x44513c=await this[_0x47e719(0x68f)][_0x47e719(0x45b)]['updateMany'](_0xedef99,_0x1e22ba,this['instance'][_0x47e719(0xe7)]);return this[_0x47e719(0x1be)]['verbose'](this[_0x47e719(0x770)]+'\x20('+this[_0x47e719(0x1fb)]['wuid']+_0x47e719(0x428)),_0x44513c;}catch(_0x174681){throw this[_0x47e719(0x1be)][_0x47e719(0x60d)](this[_0x47e719(0x770)]+'\x20('+this[_0x47e719(0x1fb)][_0x47e719(0xe7)]+_0x47e719(0x230)+_0x174681['message']),_0x174681;}}async[a0_0x29b3b7(0x1b2)](_0x3e59ef,_0x24dc73,_0x27d6c3){const _0x8d9981=a0_0x29b3b7;this['logger'][_0x8d9981(0x7a1)](this[_0x8d9981(0x770)]+'\x20('+this[_0x8d9981(0x1fb)][_0x8d9981(0xe7)]+_0x8d9981(0x64b)),await this[_0x8d9981(0x168)](_0x24dc73);try{let _0x2a29ae=require(_0x8d9981(0x589))[_0x8d9981(0x424)],_0x1eceb4=Date[_0x8d9981(0x5aa)](),_0x4680c8=_0x8d9981(0x140),_0x583b26={},_0x3de13d={},_0x363b06={..._0x3e59ef,'chatLog':null},_0x2fd94f=await this[_0x8d9981(0x6cf)](_0x363b06[_0x8d9981(0x7cc)]),_0x49590f=await this[_0x8d9981(0x3eb)](_0x24dc73),_0x2a039f={..._0x2fd94f,..._0x49590f,'_remoteJid':_0x24dc73},_0x52e55c={'lastReceivedMessage':_0x583b26,'lastSendMessage':_0x3de13d,'lastBlockId':_0x4680c8,'lastCondition':!0x0,'realVariables':_0x2a039f};_0x363b06['chatLog']=_0x52e55c,_0x363b06['chatLog'][_0x8d9981(0x4f9)]={..._0x2a039f,..._0x27d6c3},delete _0x363b06['_id'],_0x363b06[_0x8d9981(0x6a7)]=new _0x2a29ae(),_0x363b06[_0x8d9981(0x505)]=_0x1eceb4,_0x363b06[_0x8d9981(0x59d)]=_0x8d9981(0x444),_0x363b06['remoteJid']=_0x24dc73;let _0x3d4c83=await this[_0x8d9981(0x68f)][_0x8d9981(0x45b)][_0x8d9981(0x7be)](_0x363b06[_0x8d9981(0x6a7)],_0x363b06,this['instance']['wuid']);return this[_0x8d9981(0x1be)]['verbose'](this[_0x8d9981(0x770)]+'\x20('+this[_0x8d9981(0x1fb)][_0x8d9981(0xe7)]+_0x8d9981(0x6c1)),_0x3d4c83?_0x363b06:null;}catch(_0x4abe57){let _0x777dc=_0x8d9981(0x2b7),_0x1ea9e8=_0x4abe57 instanceof Error?_0x4abe57[_0x8d9981(0x780)]:typeof _0x4abe57==_0x8d9981(0x320)?JSON['stringify'](_0x4abe57):_0x4abe57,_0x408087=_0x777dc+':\x20'+_0x1ea9e8;throw this['logger'][_0x8d9981(0x60d)](this[_0x8d9981(0x770)]+'\x20('+this[_0x8d9981(0x1fb)][_0x8d9981(0xe7)]+'):\x20'+_0x408087),new m(_0x408087);}}async['getConversation'](_0x464aee){const _0x21e94f=a0_0x29b3b7;try{this[_0x21e94f(0x1be)][_0x21e94f(0x7a1)](this[_0x21e94f(0x770)]+'\x20('+this[_0x21e94f(0x1fb)][_0x21e94f(0xe7)]+_0x21e94f(0x585)),this[_0x21e94f(0x1be)][_0x21e94f(0x7a1)](this[_0x21e94f(0x770)]+'\x20('+this[_0x21e94f(0x1fb)][_0x21e94f(0xe7)]+'):\x20Query\x20params:\x20'+_0x464aee);let _0x475d86={'where':{'_id':_0x464aee}};return await this[_0x21e94f(0x68f)][_0x21e94f(0x45b)][_0x21e94f(0x3b0)](_0x475d86,this['instance'][_0x21e94f(0xe7)]);}catch(_0x3a9a84){let _0x567845=_0x21e94f(0x714),_0x2a558e=_0x3a9a84 instanceof Error?_0x3a9a84[_0x21e94f(0x780)]:typeof _0x3a9a84==_0x21e94f(0x320)?JSON[_0x21e94f(0xfe)](_0x3a9a84):_0x3a9a84,_0x479297=_0x567845+':\x20'+_0x2a558e;throw this['logger'][_0x21e94f(0x60d)](this[_0x21e94f(0x770)]+'\x20('+this['instance'][_0x21e94f(0xe7)]+_0x21e94f(0x1e5)+_0x479297),new m(_0x479297);}}async[a0_0x29b3b7(0x3ea)](_0x3858b1){const _0x4dc582=a0_0x29b3b7;try{return this['logger'][_0x4dc582(0x7a1)](this[_0x4dc582(0x770)]+'\x20('+this[_0x4dc582(0x1fb)][_0x4dc582(0xe7)]+_0x4dc582(0x6ad)),await this[_0x4dc582(0x68f)][_0x4dc582(0x45b)][_0x4dc582(0x61d)](_0x3858b1,this[_0x4dc582(0x1fb)][_0x4dc582(0xe7)]);}catch(_0x462607){let _0x3d0bbc=_0x4dc582(0x27c),_0xab540a=_0x462607 instanceof Error?_0x462607[_0x4dc582(0x780)]:typeof _0x462607==_0x4dc582(0x320)?JSON[_0x4dc582(0xfe)](_0x462607):_0x462607,_0x55badf=_0x3d0bbc+':\x20'+_0xab540a;throw this[_0x4dc582(0x1be)][_0x4dc582(0x60d)](this['instanceName']+'\x20('+this[_0x4dc582(0x1fb)][_0x4dc582(0xe7)]+'):\x20'+_0x55badf),new m(_0x55badf);}}async[a0_0x29b3b7(0x528)](_0x3cb1ec){const _0x8b5d7d=a0_0x29b3b7;try{return this[_0x8b5d7d(0x1be)]['verbose'](this[_0x8b5d7d(0x770)]+'\x20('+this[_0x8b5d7d(0x1fb)][_0x8b5d7d(0xe7)]+_0x8b5d7d(0x280)),this['logger'][_0x8b5d7d(0x7a1)](this[_0x8b5d7d(0x770)]+'\x20('+this[_0x8b5d7d(0x1fb)][_0x8b5d7d(0xe7)]+_0x8b5d7d(0x127)+_0x3cb1ec),(await this[_0x8b5d7d(0x68f)]['flowConversation'][_0x8b5d7d(0x75d)]({'where':{'_id':_0x3cb1ec}},this['instance'][_0x8b5d7d(0xe7)]))['deletedCount']===0x0?{'message':_0x8b5d7d(0x606)}:{'message':_0x8b5d7d(0x548)};}catch(_0x35b073){let _0x2dd116=_0x8b5d7d(0x374),_0x15854b=_0x35b073 instanceof Error?_0x35b073[_0x8b5d7d(0x780)]:typeof _0x35b073==_0x8b5d7d(0x320)?JSON['stringify'](_0x35b073):_0x35b073,_0x3620ca=_0x2dd116+':\x20'+_0x15854b;throw this[_0x8b5d7d(0x1be)][_0x8b5d7d(0x60d)](this[_0x8b5d7d(0x770)]+'\x20('+this[_0x8b5d7d(0x1fb)]['wuid']+_0x8b5d7d(0x1e5)+_0x3620ca),new m(_0x3620ca);}}async[a0_0x29b3b7(0x3c4)](_0x2cd95f){const _0x441604=a0_0x29b3b7;try{let {_id:_0x10ea67,chatLog:_0x3398a7,status:_0x38d2e8}=_0x2cd95f;if(!_0x10ea67)return{'message':_0x441604(0x7c0)};let _0x344759={};if(_0x38d2e8!==void 0x0&&(_0x344759[_0x441604(0x59d)]=_0x38d2e8),Object[_0x441604(0x37a)](_0x344759)[_0x441604(0x761)]===0x0)return{'message':_0x441604(0x662)};let _0x3efe76=await this[_0x441604(0x68f)][_0x441604(0x45b)][_0x441604(0x7be)](_0x10ea67,_0x344759,this[_0x441604(0x1fb)][_0x441604(0xe7)]);return _0x3efe76||{'message':_0x441604(0x124)};}catch(_0x43bc78){let _0x1d1d10='Erro\x20ao\x20editar\x20a\x20conversa',_0x1ee4a9=_0x43bc78 instanceof Error?_0x43bc78[_0x441604(0x780)]:typeof _0x43bc78==_0x441604(0x320)?JSON[_0x441604(0xfe)](_0x43bc78):_0x43bc78,_0x42fb31=_0x1d1d10+':\x20'+_0x1ee4a9;throw this[_0x441604(0x1be)][_0x441604(0x60d)](this['instanceName']+'\x20('+this[_0x441604(0x1fb)][_0x441604(0xe7)]+'):\x20'+_0x42fb31),new m(_0x42fb31);}}async[a0_0x29b3b7(0xea)](_0x589ce5){const _0x1c1e0d=a0_0x29b3b7;console[_0x1c1e0d(0x6bf)](_0x589ce5);try{_0x589ce5['_id']=this['createJid'](_0x589ce5['_id']);let _0x1b3d32=await this['repository']['chat'][_0x1c1e0d(0x3b0)]({'where':{'_id':_0x589ce5[_0x1c1e0d(0x6a7)]}},this[_0x1c1e0d(0x1fb)]['wuid']);if(!_0x1b3d32)throw new m(_0x1c1e0d(0x57c));let {_id:_0x4e632a,leadInfo:_0x257fb9}=_0x589ce5;if(!_0x4e632a)throw new Error(_0x1c1e0d(0x5b4));if(_0x589ce5['delete']===_0x1c1e0d(0x357))return await this[_0x1c1e0d(0x441)](_0x589ce5['_id']),await this[_0x1c1e0d(0x68f)][_0x1c1e0d(0xf1)]['delete']({'where':{'_id':_0x589ce5[_0x1c1e0d(0x6a7)]}},this[_0x1c1e0d(0x1fb)][_0x1c1e0d(0xe7)]),await this[_0x1c1e0d(0x68f)][_0x1c1e0d(0x780)]['delete']({'where':{'key':{'remoteJid':_0x589ce5[_0x1c1e0d(0x6a7)]}}},this[_0x1c1e0d(0x1fb)][_0x1c1e0d(0xe7)]),_0x589ce5=await this[_0x1c1e0d(0x68f)][_0x1c1e0d(0xf1)][_0x1c1e0d(0x7be)]({'where':{'_id':_0x589ce5[_0x1c1e0d(0x6a7)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x1c1e0d(0xe7)]),J(this['instanceName'],_0x1c1e0d(0x61e),{'chat':_0x589ce5}),{'message':_0x1c1e0d(0x476)};if(_0x589ce5['delete']===_0x1c1e0d(0xec))return await this[_0x1c1e0d(0x68f)]['message'][_0x1c1e0d(0x5a1)]({'where':{'key':{'remoteJid':_0x589ce5[_0x1c1e0d(0x6a7)]}}},this['instance'][_0x1c1e0d(0xe7)]),_0x589ce5=await this[_0x1c1e0d(0x68f)]['chat'][_0x1c1e0d(0x7be)]({'where':{'_id':_0x589ce5[_0x1c1e0d(0x6a7)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x1c1e0d(0x1fb)][_0x1c1e0d(0xe7)]),J(this[_0x1c1e0d(0x770)],'chats',{'chat':_0x589ce5}),{'message':_0x1c1e0d(0x5ee)};let _0x10cffe=(_0x318733,_0x3f57c3,_0x55a709)=>{const _0x4f97e1=_0x1c1e0d;_0x318733&&_0x55a709[_0x4f97e1(0x693)](_0x52c7b0=>{_0x318733[_0x52c7b0]!==void 0x0&&(_0x3f57c3['leadInfo.'+_0x52c7b0]=_0x318733[_0x52c7b0]);});},_0x4813e1={};if('muteEndTime'in _0x589ce5&&(this[_0x1c1e0d(0x1be)][_0x1c1e0d(0x7a1)]('Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20'+_0x589ce5['_id']),_0x589ce5[_0x1c1e0d(0x338)]=_0x589ce5['muteEndTime']===0x0?null:-0x1,await this[_0x1c1e0d(0x372)][_0x1c1e0d(0x261)]({'mute':_0x589ce5['muteEndTime']},_0x589ce5['_id']),_0x4813e1[_0x1c1e0d(0x338)]=Number(_0x589ce5['muteEndTime'])),_0x257fb9&&(_0x10cffe(_0x257fb9,_0x4813e1,[_0x1c1e0d(0x6a8),_0x1c1e0d(0x3b5),'email',_0x1c1e0d(0x3f1),_0x1c1e0d(0x59d),_0x1c1e0d(0x291),_0x1c1e0d(0x218),_0x1c1e0d(0x74b),'responsavelid','etiquetas']),Array[_0x1c1e0d(0x4b7)](_0x257fb9[_0x1c1e0d(0x2fa)])&&(_0x4813e1[_0x1c1e0d(0x5cb)]=_0x257fb9['customFields'][_0x1c1e0d(0x40d)](_0xe2d227=>({'_id':_0xe2d227[_0x1c1e0d(0x6a7)],'value':_0xe2d227[_0x1c1e0d(0x1fe)]}))),_0x589ce5['leadInfo'][_0x1c1e0d(0x445)]!==void 0x0)){let _0x580594=await this['repository']['label'][_0x1c1e0d(0x61d)]({'where':{}},this[_0x1c1e0d(0x1fb)][_0x1c1e0d(0xe7)]),_0x158d80=new Set(_0x589ce5[_0x1c1e0d(0x1a0)][_0x1c1e0d(0x445)]||[]),_0xdb7cea=new Set(_0x589ce5[_0x1c1e0d(0x1a0)][_0x1c1e0d(0x445)]),_0x1f856f=new Set(_0x580594[_0x1c1e0d(0x40d)](_0x472845=>_0x472845[_0x1c1e0d(0x6a7)])),_0x1782e6=[..._0xdb7cea][_0x1c1e0d(0x19c)](_0x33fc2f=>!_0x158d80[_0x1c1e0d(0x38f)](_0x33fc2f)&&_0x1f856f['has'](_0x33fc2f)),_0x47fec8=[..._0x158d80][_0x1c1e0d(0x19c)](_0x343164=>!_0xdb7cea[_0x1c1e0d(0x38f)](_0x343164));if(_0x4813e1[_0x1c1e0d(0x38c)]=[..._0x158d80],_0x1b3d32&&!_0x1b3d32['imported']){for(let _0x3f35fb of _0x1782e6)await this[_0x1c1e0d(0x6be)](_0x3f35fb,_0x589ce5[_0x1c1e0d(0x6a7)]),_0x158d80[_0x1c1e0d(0x3d5)](_0x3f35fb);for(let _0x4420f3 of _0x47fec8)await this[_0x1c1e0d(0x618)](_0x4420f3,_0x589ce5[_0x1c1e0d(0x6a7)]),_0x158d80['delete'](_0x4420f3);}}if(_0x589ce5[_0x1c1e0d(0x52a)]!==void 0x0&&(_0x4813e1[_0x1c1e0d(0x52a)]=Number(_0x589ce5['unreadcount'])),Object['keys'](_0x4813e1)['length']===0x0)throw new Error(_0x1c1e0d(0x662));let _0x42022c=await this['repository'][_0x1c1e0d(0xf1)][_0x1c1e0d(0x7be)]({'where':{'_id':_0x589ce5[_0x1c1e0d(0x6a7)]}},_0x4813e1,this[_0x1c1e0d(0x1fb)][_0x1c1e0d(0xe7)]);return _0x42022c&&J(this[_0x1c1e0d(0x770)],_0x1c1e0d(0x61e),{'chat':_0x42022c}),_0x42022c?(this[_0x1c1e0d(0x1be)][_0x1c1e0d(0x7a1)](this[_0x1c1e0d(0x770)]+'\x20('+this[_0x1c1e0d(0x1fb)][_0x1c1e0d(0xe7)]+_0x1c1e0d(0x1e5)+JSON[_0x1c1e0d(0xfe)](_0x42022c,null,0x2)),_0x42022c):{'message':_0x1c1e0d(0x6c6)};}catch(_0x20e14a){let _0x244a3a=_0x1c1e0d(0x37f),_0x5b1cf6=_0x20e14a instanceof Error?_0x20e14a[_0x1c1e0d(0x780)]:typeof _0x20e14a==_0x1c1e0d(0x320)?JSON[_0x1c1e0d(0xfe)](_0x20e14a):_0x20e14a,_0x5727ca=_0x244a3a+':\x20'+_0x5b1cf6;throw this[_0x1c1e0d(0x1be)][_0x1c1e0d(0x60d)](this[_0x1c1e0d(0x770)]+'\x20('+this[_0x1c1e0d(0x1fb)][_0x1c1e0d(0xe7)]+'):\x20'+_0x5727ca),new m(_0x5727ca);}}async[a0_0x29b3b7(0x6be)](_0x1ba7e8,_0x12257a){const _0x4585da=a0_0x29b3b7;try{await this[_0x4585da(0x372)][_0x4585da(0x214)](_0x12257a,_0x1ba7e8),console[_0x4585da(0x6bf)](_0x4585da(0x288)+_0x1ba7e8+_0x4585da(0x31b)+_0x12257a+_0x4585da(0x4b1));}catch(_0x24cc73){console[_0x4585da(0x60d)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x1ba7e8+'\x20ao\x20chat\x20'+_0x12257a+':',_0x24cc73);}}async['RemoveChatLabel'](_0x330e33,_0x48eb5a){const _0x5e709d=a0_0x29b3b7;try{await this[_0x5e709d(0x372)]['removeChatLabel'](_0x48eb5a,_0x330e33),console[_0x5e709d(0x6bf)](_0x5e709d(0x288)+_0x330e33+_0x5e709d(0x4d5)+_0x48eb5a+_0x5e709d(0x4b1));}catch(_0x499b52){console[_0x5e709d(0x60d)](_0x5e709d(0x1cc)+_0x330e33+_0x5e709d(0x5f7)+_0x48eb5a+':',_0x499b52);}}async['updateAgent'](_0x4ad398){const _0x3cd123=a0_0x29b3b7;try{let _0x438c48=await this[_0x3cd123(0x68f)][_0x3cd123(0x6e3)][_0x3cd123(0x5e1)](this[_0x3cd123(0x1fb)]['wuid']),_0x38157f=_0x4ad398[_0x3cd123(0x6a7)]?_0x438c48[_0x3cd123(0x500)][_0x3cd123(0x14c)](_0x4af176=>_0x4af176[_0x3cd123(0x6a7)]===_0x4ad398[_0x3cd123(0x6a7)]):-0x1;if(_0x4ad398[_0x3cd123(0x5a1)]&&_0x38157f>-0x1)_0x438c48[_0x3cd123(0x500)][_0x3cd123(0x593)](_0x38157f,0x1);else{if(_0x38157f>-0x1){let _0x556807=_0x438c48[_0x3cd123(0x500)][_0x38157f];_0x4ad398['fone']&&(_0x556807[_0x3cd123(0x44d)]=_0x4ad398[_0x3cd123(0x44d)]),_0x4ad398[_0x3cd123(0x438)]&&(_0x556807[_0x3cd123(0x438)]=_0x4ad398['name']),_0x4ad398[_0x3cd123(0x10d)]&&(_0x556807[_0x3cd123(0x10d)]=_0x4ad398[_0x3cd123(0x10d)]),_0x4ad398[_0x3cd123(0x1e0)]&&(_0x556807[_0x3cd123(0x1e0)]=_0x4ad398[_0x3cd123(0x1e0)]);}else _0x438c48[_0x3cd123(0x500)][_0x3cd123(0x343)]({'_id':_0x4ad398['_id']||new re[(_0x3cd123(0x282))][(_0x3cd123(0x474))][(_0x3cd123(0x424))]()[_0x3cd123(0x4a2)](),'fone':_0x4ad398['fone'],'name':_0x4ad398['name'],'email':_0x4ad398[_0x3cd123(0x10d)],'role':_0x4ad398[_0x3cd123(0x1e0)]});}let _0x10658b={'agents':_0x438c48[_0x3cd123(0x500)]},_0x1693d1=await this['repository'][_0x3cd123(0x6e3)]['update'](_0x10658b,this[_0x3cd123(0x1fb)][_0x3cd123(0xe7)]);return this[_0x3cd123(0x460)]=_0x1693d1,this[_0x3cd123(0x1be)]['verbose'](this[_0x3cd123(0x770)]+'\x20('+this[_0x3cd123(0x1fb)][_0x3cd123(0xe7)]+_0x3cd123(0x31a)),this[_0x3cd123(0x1be)][_0x3cd123(0x7a1)](this[_0x3cd123(0x770)]+'\x20('+this['instance'][_0x3cd123(0xe7)]+_0x3cd123(0x1e5)+this[_0x3cd123(0x460)]),_0x1693d1;}catch(_0x599a1b){let _0x398326=_0x3cd123(0x519),_0x2a44d6=_0x599a1b instanceof Error?_0x599a1b[_0x3cd123(0x780)]:typeof _0x599a1b==_0x3cd123(0x320)?JSON[_0x3cd123(0xfe)](_0x599a1b):_0x599a1b,_0x50dba7=_0x398326+':\x20'+_0x2a44d6;throw this['logger']['error'](this[_0x3cd123(0x770)]+'\x20('+this['instance'][_0x3cd123(0xe7)]+'):\x20'+_0x50dba7),new m(_0x50dba7);}}async[a0_0x29b3b7(0x468)](_0x350324){const _0x4f9e97=a0_0x29b3b7;try{let _0xd9085e=await this[_0x4f9e97(0x68f)]['automateSystem'][_0x4f9e97(0x5e1)](this[_0x4f9e97(0x1fb)][_0x4f9e97(0xe7)]),_0x3ce9d4=_0x350324[_0x4f9e97(0x6a7)]?_0xd9085e[_0x4f9e97(0x2fa)]['findIndex'](_0x1c71ee=>_0x1c71ee[_0x4f9e97(0x6a7)]===_0x350324[_0x4f9e97(0x6a7)]):-0x1,_0x2515c6=!0x1,_0x2da09d=_0xd9085e[_0x4f9e97(0x2fa)][_0x4f9e97(0x179)](_0x417dcc=>_0x417dcc[_0x4f9e97(0x5f9)]===_0x350324[_0x4f9e97(0x5f9)]);if(_0x350324['delete']&&_0x3ce9d4>-0x1)_0xd9085e['customFields']['splice'](_0x3ce9d4,0x1),_0x2515c6=!0x0;else{if(_0x3ce9d4>-0x1){if(_0xd9085e[_0x4f9e97(0x2fa)][_0x4f9e97(0x179)](_0x1b17ee=>_0x1b17ee['name']===_0x350324['name']&&_0x1b17ee[_0x4f9e97(0x6a7)]!==_0x350324[_0x4f9e97(0x6a7)]))throw new Error(_0x4f9e97(0x5ab));let _0x24200d=_0xd9085e[_0x4f9e97(0x2fa)][_0x3ce9d4];_0x350324[_0x4f9e97(0x5f9)]&&(_0x2da09d||!Number['isInteger'](_0x350324[_0x4f9e97(0x5f9)]))&&(_0x24200d['order']=_0x350324['order'],_0x2515c6=!0x0),_0x350324['name']&&(_0x24200d[_0x4f9e97(0x438)]=_0x350324[_0x4f9e97(0x438)]);}else{if(_0xd9085e[_0x4f9e97(0x2fa)][_0x4f9e97(0x179)](_0x10b968=>_0x10b968[_0x4f9e97(0x438)]===_0x350324['name']&&_0x10b968['_id']!==_0x350324[_0x4f9e97(0x6a7)]))throw new Error(_0x4f9e97(0x5ab));_0xd9085e[_0x4f9e97(0x2fa)][_0x4f9e97(0x343)]({'_id':_0x350324[_0x4f9e97(0x6a7)]||new re['default'][(_0x4f9e97(0x474))][(_0x4f9e97(0x424))]()['toString'](),'order':_0x350324[_0x4f9e97(0x5f9)],'name':_0x350324[_0x4f9e97(0x438)]}),_0x2515c6=!0x0;}}if(_0x2515c6){_0xd9085e['customFields']['sort']((_0x17b88f,_0x402b8e)=>_0x17b88f[_0x4f9e97(0x5f9)]>_0x402b8e['order']?0x1:_0x402b8e['order']>_0x17b88f[_0x4f9e97(0x5f9)]?-0x1:0x0);for(let _0x5c926f=0x0;_0x5c926f<_0xd9085e[_0x4f9e97(0x2fa)][_0x4f9e97(0x761)];_0x5c926f++)_0xd9085e[_0x4f9e97(0x2fa)][_0x5c926f][_0x4f9e97(0x5f9)]=_0x5c926f+0x1;}let _0x1f3ed8=await this['repository']['automateSystem'][_0x4f9e97(0x5ca)](_0xd9085e,this[_0x4f9e97(0x1fb)][_0x4f9e97(0xe7)]);return this[_0x4f9e97(0x460)]=_0x1f3ed8,this[_0x4f9e97(0x1be)][_0x4f9e97(0x7a1)](this['instanceName']+'\x20('+this[_0x4f9e97(0x1fb)][_0x4f9e97(0xe7)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this['logger'][_0x4f9e97(0x7a1)](this[_0x4f9e97(0x770)]+'\x20('+this[_0x4f9e97(0x1fb)]['wuid']+_0x4f9e97(0x1e5)+this[_0x4f9e97(0x460)]),_0x1f3ed8;}catch(_0x4ac1ac){let _0x19d824='Erro\x20ao\x20tentar\x20updateCustomFields',_0x175e85=_0x4ac1ac instanceof Error?_0x4ac1ac[_0x4f9e97(0x780)]:typeof _0x4ac1ac==_0x4f9e97(0x320)?JSON[_0x4f9e97(0xfe)](_0x4ac1ac):_0x4ac1ac,_0x194c81=_0x19d824+':\x20'+_0x175e85;throw this[_0x4f9e97(0x1be)][_0x4f9e97(0x60d)](this[_0x4f9e97(0x770)]+'\x20('+this[_0x4f9e97(0x1fb)][_0x4f9e97(0xe7)]+_0x4f9e97(0x1e5)+_0x194c81),new m(_0x194c81);}}async[a0_0x29b3b7(0x68e)](_0x5c334a){const _0x3039fd=a0_0x29b3b7;try{let _0x268793=await this[_0x3039fd(0x68f)][_0x3039fd(0x6e3)][_0x3039fd(0x5e1)](this[_0x3039fd(0x1fb)][_0x3039fd(0xe7)]),_0x1cdb12=_0x268793[_0x3039fd(0x6af)][_0x3039fd(0x14c)](_0x10988a=>_0x10988a[_0x3039fd(0x6a7)]===_0x5c334a[_0x3039fd(0x6a7)]);if(_0x5c334a[_0x3039fd(0x5a1)])_0x1cdb12>-0x1&&_0x268793['autoCompleteMessages'][_0x3039fd(0x593)](_0x1cdb12,0x1);else{if(_0x1cdb12>-0x1){let _0x1ab259=_0x268793[_0x3039fd(0x6af)][_0x1cdb12];_0x1ab259[_0x3039fd(0x5f9)]=_0x5c334a[_0x3039fd(0x5f9)]||_0x1ab259['order'],_0x1ab259[_0x3039fd(0x639)]=_0x5c334a[_0x3039fd(0x639)]||_0x1ab259[_0x3039fd(0x639)],_0x1ab259[_0x3039fd(0x780)]=_0x5c334a[_0x3039fd(0x780)]||_0x1ab259[_0x3039fd(0x780)];}else{let _0x90d367={'_id':_0x5c334a[_0x3039fd(0x6a7)]||new re[(_0x3039fd(0x282))]['Types'][(_0x3039fd(0x424))]()[_0x3039fd(0x4a2)](),'order':_0x5c334a[_0x3039fd(0x5f9)],'command':_0x5c334a[_0x3039fd(0x639)],'message':_0x5c334a[_0x3039fd(0x780)]};_0x268793[_0x3039fd(0x6af)][_0x3039fd(0x343)](_0x90d367);}}_0x268793[_0x3039fd(0x6af)][_0x3039fd(0x4d3)]((_0x21af8c,_0x1e0aa6)=>_0x21af8c[_0x3039fd(0x5f9)]-_0x1e0aa6[_0x3039fd(0x5f9)]);let _0x56ed87=await this[_0x3039fd(0x68f)]['automateSystem'][_0x3039fd(0x5ca)](_0x268793,this[_0x3039fd(0x1fb)][_0x3039fd(0xe7)]);return this[_0x3039fd(0x460)]=_0x56ed87,this[_0x3039fd(0x1be)][_0x3039fd(0x7a1)](this['instanceName']+'\x20('+this['instance'][_0x3039fd(0xe7)]+_0x3039fd(0x67c)),_0x56ed87;}catch(_0xcfb361){let _0x1d9085=_0x3039fd(0x2f1),_0x23b53e=_0xcfb361 instanceof Error?_0xcfb361[_0x3039fd(0x780)]:typeof _0xcfb361==_0x3039fd(0x320)?JSON[_0x3039fd(0xfe)](_0xcfb361):_0xcfb361,_0x2d3a93=_0x1d9085+':\x20'+_0x23b53e;throw this[_0x3039fd(0x1be)]['error'](this['instanceName']+'\x20('+this[_0x3039fd(0x1fb)][_0x3039fd(0xe7)]+_0x3039fd(0x1e5)+_0x2d3a93),new m(_0x2d3a93);}}async[a0_0x29b3b7(0x358)](_0x14c815){const _0xaddb93=a0_0x29b3b7;try{let _0x4e0ab0=await this[_0xaddb93(0x68f)][_0xaddb93(0x6e3)]['findOrCreate'](this[_0xaddb93(0x1fb)][_0xaddb93(0xe7)]);if(!_0x4e0ab0)throw new Error(_0xaddb93(0x5c7));let _0x272c64={'_id':_0x4e0ab0['_id'],'flowConfig':{'enabled':_0x14c815[_0xaddb93(0x1fd)]??_0x4e0ab0['flowConfig']['enabled'],'ignoreGroups':_0x14c815[_0xaddb93(0x56c)]??_0x4e0ab0[_0xaddb93(0x473)][_0xaddb93(0x56c)],'prefixCommand':_0x14c815[_0xaddb93(0x6d2)]??_0x4e0ab0[_0xaddb93(0x473)][_0xaddb93(0x6d2)],'stopConversation':_0x14c815['stopConversation']??_0x4e0ab0[_0xaddb93(0x473)][_0xaddb93(0x260)],'stopMinutes':_0x14c815['stopMinutes']??_0x4e0ab0[_0xaddb93(0x473)][_0xaddb93(0x197)],'stopWhenYouSendMsg':_0x14c815[_0xaddb93(0x758)]??_0x4e0ab0[_0xaddb93(0x473)][_0xaddb93(0x758)]}},_0x4b3c2f=await this['repository'][_0xaddb93(0x6e3)]['update'](_0x272c64,this[_0xaddb93(0x1fb)][_0xaddb93(0xe7)]);return this[_0xaddb93(0x460)]=_0x4b3c2f,this[_0xaddb93(0x1be)][_0xaddb93(0x7a1)](this[_0xaddb93(0x770)]+'\x20('+this[_0xaddb93(0x1fb)][_0xaddb93(0xe7)]+_0xaddb93(0x31a)),this[_0xaddb93(0x1be)][_0xaddb93(0x7a1)](this[_0xaddb93(0x770)]+'\x20('+this[_0xaddb93(0x1fb)][_0xaddb93(0xe7)]+'):\x20'+this[_0xaddb93(0x460)]),setTimeout(()=>this[_0xaddb93(0x23d)](),0x7d0),_0x4b3c2f;}catch(_0x287a51){let _0x4b5192=_0xaddb93(0x308),_0x1f351b=_0x287a51 instanceof Error?_0x287a51[_0xaddb93(0x780)]:typeof _0x287a51==_0xaddb93(0x320)?JSON['stringify'](_0x287a51):_0x287a51,_0x309d27=_0x4b5192+':\x20'+_0x1f351b;throw this['logger'][_0xaddb93(0x60d)](this['instanceName']+'\x20('+this['instance'][_0xaddb93(0xe7)]+_0xaddb93(0x1e5)+_0x309d27),new m(_0x309d27);}}async[a0_0x29b3b7(0x315)](){const _0x4b0caa=a0_0x29b3b7;try{let _0x5a60bc=await this[_0x4b0caa(0x68f)]['automateSystem'][_0x4b0caa(0x5e1)](this[_0x4b0caa(0x1fb)][_0x4b0caa(0xe7)]);return this[_0x4b0caa(0x68f)][_0x4b0caa(0x6e3)][_0x4b0caa(0x398)]({'autoCompleteMessages':{'$exists':!0x1}},{'autoCompleteMessages':[]}),this[_0x4b0caa(0x460)]=_0x5a60bc,this[_0x4b0caa(0x1be)]['verbose'](this['instanceName']+'\x20('+this[_0x4b0caa(0x1fb)][_0x4b0caa(0xe7)]+_0x4b0caa(0x4af)),this[_0x4b0caa(0x1be)][_0x4b0caa(0x7a1)](this[_0x4b0caa(0x460)]),_0x5a60bc;}catch(_0x3850e2){let _0x346c52=_0x4b0caa(0x26c),_0x4a7e10=_0x3850e2 instanceof Error?_0x3850e2[_0x4b0caa(0x780)]:typeof _0x3850e2==_0x4b0caa(0x320)?JSON['stringify'](_0x3850e2):_0x3850e2,_0x503284=_0x346c52+':\x20'+_0x4a7e10;throw this[_0x4b0caa(0x1be)]['error'](this[_0x4b0caa(0x770)]+'\x20('+this[_0x4b0caa(0x1fb)]['wuid']+_0x4b0caa(0x1e5)+_0x503284),new m(_0x503284);}}async[a0_0x29b3b7(0x41f)](){const _0x2e41f2=a0_0x29b3b7;this[_0x2e41f2(0x1fb)][_0x2e41f2(0x485)][_0x2e41f2(0x5ce)]&&clearTimeout(this['instance'][_0x2e41f2(0x485)]['timeout']),this[_0x2e41f2(0x1fb)][_0x2e41f2(0x485)]['timeout']=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x29b3b7(0x4f1)](){const _0x24e43f=a0_0x29b3b7;Date[_0x24e43f(0x5aa)]()-this[_0x24e43f(0x1fb)][_0x24e43f(0x485)][_0x24e43f(0x434)]>=0x1d4c0&&(this[_0x24e43f(0x1be)]['verbose'](this[_0x24e43f(0x770)]+'\x20('+this['instance']['wuid']+_0x24e43f(0x5a3)),this[_0x24e43f(0x1fb)]['ScheduleMessage']['processing_id']=null,this['instance'][_0x24e43f(0x485)][_0x24e43f(0x434)]=0x0,this['instance'][_0x24e43f(0x485)]['delayMessage']=0x0,await this[_0x24e43f(0x23d)]());}async['scheduleNextCheck'](){const _0xd10901=a0_0x29b3b7;let _0x558814=()=>{const _0x543ec6=a0_0x1da8;this['logger'][_0x543ec6(0x7a1)](this[_0x543ec6(0x770)]+'\x20('+this[_0x543ec6(0x1fb)][_0x543ec6(0xe7)]+_0x543ec6(0xfa)+this[_0x543ec6(0x1fb)][_0x543ec6(0x485)][_0x543ec6(0x70d)]+'\x20saindo\x20da\x20função');},_0x2207af=async()=>{const _0x516649=a0_0x1da8;this['logger']['verbose'](this[_0x516649(0x770)]+'\x20('+this['instance']['wuid']+_0x516649(0x176));let _0x48c8ff=Date[_0x516649(0x5aa)]()-0xc*0x3c*0x3c*0x3e8,_0x2e4603={'where':{'status':{'$in':[_0x516649(0x510),_0x516649(0x2c5)]},'$or':[{'when':{'$lte':Date[_0x516649(0x5aa)](),'$gte':_0x48c8ff}},{'when':0x0}]}};return await this[_0x516649(0x68f)][_0x516649(0x241)][_0x516649(0x61d)](_0x2e4603,this[_0x516649(0x1fb)][_0x516649(0xe7)]);},_0x42df40=async _0x22f024=>{const _0x3c632d=a0_0x1da8;for(let _0x4c0b05 of _0x22f024){let _0x33645d={'_id':_0x4c0b05[_0x3c632d(0x6a7)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x3c632d(0x5aa)]()-0x1770}}]},_0x10211c={'startSend':Date[_0x3c632d(0x5aa)]()};if(!await this[_0x3c632d(0x68f)][_0x3c632d(0x241)][_0x3c632d(0x7be)](_0x33645d,_0x10211c,this[_0x3c632d(0x1fb)]['wuid']))return;if(!this[_0x3c632d(0x1fb)][_0x3c632d(0x485)][_0x3c632d(0x24f)]){this[_0x3c632d(0x1be)][_0x3c632d(0x7a1)](this['instanceName']+'\x20('+this[_0x3c632d(0x1fb)]['wuid']+_0x3c632d(0x264));break;}if(_0x4c0b05['type']===_0x3c632d(0x2d3)&&!this['AutomateSystem']?.[_0x3c632d(0x473)][_0x3c632d(0x1fd)]){this[_0x3c632d(0x1be)][_0x3c632d(0x60d)](this[_0x3c632d(0x770)]+'\x20('+this['instance'][_0x3c632d(0xe7)]+_0x3c632d(0xeb));continue;}(!_0x4c0b05[_0x3c632d(0x1ec)]||_0x4c0b05[_0x3c632d(0x1ec)][_0x3c632d(0x761)]===0x0)&&(_0x4c0b05=await this[_0x3c632d(0x68f)]['scheduleMessage'][_0x3c632d(0x19b)](_0x4c0b05[_0x3c632d(0x6a7)],{'status':_0x3c632d(0x2c5),'remoteJidsRemaining':[..._0x4c0b05['remoteJids']]},this[_0x3c632d(0x1fb)]['wuid']));for(let _0x30dafa of _0x4c0b05['remoteJidsRemaining']){if(await this[_0x3c632d(0x41f)](),this[_0x3c632d(0x1fb)][_0x3c632d(0x485)][_0x3c632d(0x434)]=Date['now'](),this[_0x3c632d(0x1fb)][_0x3c632d(0x485)]['ultimaTentativaRemoteJid']===_0x30dafa){this[_0x3c632d(0x1be)][_0x3c632d(0x60d)](this[_0x3c632d(0x770)]+'\x20('+this[_0x3c632d(0x1fb)][_0x3c632d(0xe7)]+_0x3c632d(0x7b8)+_0x30dafa+_0x3c632d(0x68d));let _0x3bfc6b={'$push':{'messagesSend':{'remoteJid':_0x30dafa,'error':!0x0,'id':null,'error_log':_0x3c632d(0x65c),'log_timestamp':Date[_0x3c632d(0x5aa)]()}},'$pull':{'remoteJidsRemaining':_0x30dafa}};await this['repository'][_0x3c632d(0x241)][_0x3c632d(0x19b)](_0x4c0b05[_0x3c632d(0x6a7)],_0x3bfc6b,this[_0x3c632d(0x1fb)]['wuid']);continue;}if(this['instance'][_0x3c632d(0x485)][_0x3c632d(0x4eb)]=_0x30dafa,_0x4c0b05[_0x3c632d(0x119)][_0x3c632d(0x179)](_0x4cb360=>_0x4cb360[_0x3c632d(0x4b0)]===_0x30dafa)){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x3c632d(0x1fb)][_0x3c632d(0xe7)]+_0x3c632d(0x576)+_0x30dafa+'.\x20Pulando.');continue;}if(!this[_0x3c632d(0x1fb)][_0x3c632d(0x485)][_0x3c632d(0x24f)]){this[_0x3c632d(0x1be)][_0x3c632d(0x7a1)](this[_0x3c632d(0x770)]+'\x20('+this[_0x3c632d(0x1fb)][_0x3c632d(0xe7)]+_0x3c632d(0x3a0));break;}if(!this[_0x3c632d(0x1fb)][_0x3c632d(0x485)][_0x3c632d(0x70d)]){this[_0x3c632d(0x1be)][_0x3c632d(0x7a1)](this[_0x3c632d(0x770)]+'\x20('+this[_0x3c632d(0x1fb)]['wuid']+_0x3c632d(0x388)+_0x4c0b05[_0x3c632d(0x6a7)]+_0x3c632d(0x630));break;}if(_0x4c0b05[_0x3c632d(0x263)]===_0x3c632d(0x2d3)&&!this[_0x3c632d(0x460)]?.[_0x3c632d(0x473)][_0x3c632d(0x1fd)]){this[_0x3c632d(0x1be)][_0x3c632d(0x60d)](this['instanceName']+'\x20('+this[_0x3c632d(0x1fb)]['wuid']+_0x3c632d(0xeb));break;}let _0x2a0597={'remoteJid':_0x30dafa,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x3c632d(0x5aa)]()},_0x4e9f0b=null;try{let _0x390dd6=await this[_0x3c632d(0x68c)](_0x30dafa,_0x4c0b05);_0x2a0597['error']=_0x390dd6[_0x3c632d(0x60d)],_0x2a0597['id']=_0x390dd6[_0x3c632d(0x60d)]?null:_0x390dd6['id'],_0x2a0597[_0x3c632d(0x652)]=_0x390dd6[_0x3c632d(0x60d)]?_0x390dd6[_0x3c632d(0x425)]?_0x390dd6[_0x3c632d(0x425)][_0x3c632d(0x4a2)]():'':null;let _0x442777={'$push':{'messagesSend':_0x2a0597},'$pull':{'remoteJidsRemaining':_0x30dafa}},_0xe4957d=_0x4c0b05['_id'];if(_0x4e9f0b=await this['repository'][_0x3c632d(0x241)][_0x3c632d(0x19b)](_0xe4957d,_0x442777,this['instance'][_0x3c632d(0xe7)]),_0x390dd6[_0x3c632d(0x60d)])continue;let _0x316e26=this[_0x3c632d(0x3f6)](_0x4c0b05[_0x3c632d(0x177)],_0x4c0b05[_0x3c632d(0x4fb)]);await this[_0x3c632d(0x43f)](_0x316e26);}catch(_0x1d904b){this['logger'][_0x3c632d(0x60d)](this[_0x3c632d(0x770)]+'\x20('+this[_0x3c632d(0x1fb)][_0x3c632d(0xe7)]+_0x3c632d(0x515)+_0x30dafa+':\x20'+(_0x1d904b instanceof Error?_0x1d904b['message']:JSON[_0x3c632d(0xfe)](_0x1d904b,null,0x2))),_0x2a0597[_0x3c632d(0x60d)]=!0x0,_0x2a0597[_0x3c632d(0x652)]=_0x1d904b[_0x3c632d(0x780)];let _0x55ed46={'$push':{'messagesSend':_0x2a0597},'$pull':{'remoteJidsRemaining':_0x30dafa}},_0x136970=_0x4c0b05[_0x3c632d(0x6a7)];_0x4e9f0b=await this[_0x3c632d(0x68f)]['scheduleMessage'][_0x3c632d(0x19b)](_0x136970,_0x55ed46,this[_0x3c632d(0x1fb)]['wuid']);}finally{if(_0x4e9f0b&&_0x4e9f0b[_0x3c632d(0x59d)]===_0x3c632d(0x6a3)){this[_0x3c632d(0x1be)][_0x3c632d(0x7a1)](this[_0x3c632d(0x770)]+'\x20('+this[_0x3c632d(0x1fb)][_0x3c632d(0xe7)]+_0x3c632d(0x388)+_0x4c0b05[_0x3c632d(0x6a7)]+_0x3c632d(0x6ce));break;}}}let _0x355846=await this[_0x3c632d(0x68f)][_0x3c632d(0x241)][_0x3c632d(0x1e4)](_0x4c0b05[_0x3c632d(0x6a7)],this[_0x3c632d(0x1fb)][_0x3c632d(0xe7)]);if(_0x355846[_0x3c632d(0x1ec)][_0x3c632d(0x761)]===0x0&&_0x355846[_0x3c632d(0x59d)]!==_0x3c632d(0x6a3)){this[_0x3c632d(0x1fb)][_0x3c632d(0x485)][_0x3c632d(0x4eb)]=null;let _0x3d4c12={'$set':{'status':'done'}},_0x4a8061=_0x355846[_0x3c632d(0x6a7)];await this[_0x3c632d(0x68f)][_0x3c632d(0x241)]['updateOneById'](_0x4a8061,_0x3d4c12,this[_0x3c632d(0x1fb)][_0x3c632d(0xe7)]);}await new Promise(_0xcaee5f=>setTimeout(_0xcaee5f,0x1388));}},_0xb0eda8=async()=>{const _0x8d7788=a0_0x1da8;let _0x1d14ba={'where':{'status':_0x8d7788(0x510),'when':{'$gt':Date['now']()}}},_0x8b440f=await this['repository'][_0x8d7788(0x241)][_0x8d7788(0x3b0)](_0x1d14ba,this[_0x8d7788(0x1fb)][_0x8d7788(0xe7)]);_0x8b440f&&_0x8b440f['when']-Date[_0x8d7788(0x5aa)]()<=0x5265c00?this[_0x8d7788(0x1fb)][_0x8d7788(0x485)]['delayMessage']=_0x8b440f[_0x8d7788(0x703)]-Date['now']():this['instance'][_0x8d7788(0x485)][_0x8d7788(0x423)]=(0x3c+Math[_0x8d7788(0x1a8)](Math[_0x8d7788(0x2b8)]()*0x3c))*0x3c*0x3e8,this[_0x8d7788(0x1fb)][_0x8d7788(0x485)]['delayMessage']=Math[_0x8d7788(0x102)](this[_0x8d7788(0x1fb)][_0x8d7788(0x485)][_0x8d7788(0x423)],0x7d0);let _0x426955=Math[_0x8d7788(0x35d)](this[_0x8d7788(0x1fb)][_0x8d7788(0x485)][_0x8d7788(0x423)]/0xea60);if(_0x8b440f){let _0x1561dd=new Date(_0x8b440f[_0x8d7788(0x703)])[_0x8d7788(0x532)]();this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x8d7788(0x1fb)]['wuid']+_0x8d7788(0x1f8)+_0x1561dd+_0x8d7788(0x5af)+_0x426955+_0x8d7788(0x4c0));}else this[_0x8d7788(0x1be)][_0x8d7788(0x7a1)](this['instanceName']+'\x20('+this[_0x8d7788(0x1fb)][_0x8d7788(0xe7)]+_0x8d7788(0x5b6)+_0x426955+_0x8d7788(0x4c0));setTimeout(()=>this[_0x8d7788(0x23d)](),this[_0x8d7788(0x1fb)][_0x8d7788(0x485)][_0x8d7788(0x423)]);};if(this[_0xd10901(0x1fb)][_0xd10901(0x485)][_0xd10901(0x70d)]){await this[_0xd10901(0x41f)](),_0x558814();return;}if(!this[_0xd10901(0x1fb)][_0xd10901(0x485)][_0xd10901(0x24f)]){this[_0xd10901(0x1be)][_0xd10901(0x7a1)](this[_0xd10901(0x770)]+'\x20('+this['instance'][_0xd10901(0xe7)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0xd10901(0x1fb)]['ScheduleMessage']['processing_id']=null,this[_0xd10901(0x1fb)][_0xd10901(0x485)][_0xd10901(0x434)]=0x0,this['instance'][_0xd10901(0x485)]['delayMessage']=0x0,this[_0xd10901(0x1fb)][_0xd10901(0x485)][_0xd10901(0x4eb)]=null;return;}try{let _0xd7340a=await _0x2207af();_0xd7340a[_0xd10901(0x761)]===0x0?this[_0xd10901(0x1be)]['verbose'](this['instanceName']+'\x20('+this[_0xd10901(0x1fb)][_0xd10901(0xe7)]+_0xd10901(0x12e)):(this['instance'][_0xd10901(0x485)][_0xd10901(0x70d)]=_0xd7340a[0x0]['_id'],await _0x42df40(_0xd7340a)),await _0xb0eda8(),this[_0xd10901(0x1fb)][_0xd10901(0x485)][_0xd10901(0x70d)]=null,this[_0xd10901(0x1fb)][_0xd10901(0x485)][_0xd10901(0x4eb)]=null;}catch(_0x47b32a){this[_0xd10901(0x1be)][_0xd10901(0x60d)](_0xd10901(0x157)+(_0x47b32a instanceof Error?_0x47b32a[_0xd10901(0x780)]:JSON[_0xd10901(0xfe)](_0x47b32a,null,0x2)));}}['getDelay'](_0x2e24c7,_0x2442e1){const _0x59dacc=a0_0x29b3b7;return _0x2e24c7=Math['max'](0.5,_0x2e24c7),_0x2442e1=Math['min'](Math[_0x59dacc(0x102)](0x3,_0x2442e1),0x78),Math[_0x59dacc(0x1a8)](Math[_0x59dacc(0x2b8)]()*(_0x2442e1-_0x2e24c7+0x1)+_0x2e24c7)*0x3e8;}[a0_0x29b3b7(0x43f)](_0x8ee088){return new Promise(_0x34c46e=>setTimeout(_0x34c46e,_0x8ee088));}async[a0_0x29b3b7(0x3eb)](_0x1f9fea){const _0x583b88=a0_0x29b3b7;if(!this['AutomateSystem']&&(await this[_0x583b88(0x315)](),!this['AutomateSystem']))return null;_0x1f9fea=this[_0x583b88(0x365)](_0x1f9fea);let _0x32f815=await this[_0x583b88(0x68f)][_0x583b88(0xf1)]['findOne']({'where':{'_id':_0x1f9fea}},this[_0x583b88(0x1fb)]['wuid']),_0x1fc9f1={};if(_0x32f815&&_0x32f815['leadInfo']){let _0x54b822=_0x32f815[_0x583b88(0x1a0)];typeof _0x54b822['nome']=='string'&&(_0x1fc9f1['nome']=_0x54b822[_0x583b88(0x6a8)]),typeof _0x54b822[_0x583b88(0x3b5)]==_0x583b88(0x162)&&(_0x1fc9f1[_0x583b88(0x3b5)]=_0x54b822['nomecompleto']),typeof _0x54b822[_0x583b88(0x10d)]=='string'&&(_0x1fc9f1[_0x583b88(0x10d)]=_0x54b822['email']),typeof _0x54b822['cpf']==_0x583b88(0x162)&&(_0x1fc9f1[_0x583b88(0x3f1)]=_0x54b822['cpf']),typeof _0x54b822['status']==_0x583b88(0x162)&&(_0x1fc9f1['status']=_0x54b822[_0x583b88(0x59d)]),typeof _0x54b822[_0x583b88(0x291)]==_0x583b88(0x162)&&(_0x1fc9f1[_0x583b88(0x291)]=_0x54b822[_0x583b88(0x291)]),typeof _0x54b822[_0x583b88(0x543)]==_0x583b88(0x162)&&(_0x1fc9f1[_0x583b88(0x543)]=_0x54b822[_0x583b88(0x543)]),Array[_0x583b88(0x4b7)](_0x54b822['tags'])&&(_0x1fc9f1[_0x583b88(0x218)]=_0x54b822[_0x583b88(0x218)]['join'](',\x20')),Array[_0x583b88(0x4b7)](_0x54b822[_0x583b88(0x445)])&&(_0x1fc9f1[_0x583b88(0x445)]=_0x54b822[_0x583b88(0x445)][_0x583b88(0x452)](',\x20'));}return _0x32f815&&_0x32f815['leadInfo']&&_0x32f815['leadInfo']['customFields']&&_0x32f815[_0x583b88(0x1a0)][_0x583b88(0x2fa)]['forEach'](_0x207755=>{const _0x5496f3=_0x583b88;let _0x5a3953=this['AutomateSystem']?.['customFields'][_0x5496f3(0x61d)](_0x27d067=>_0x27d067[_0x5496f3(0x6a7)]===_0x207755[_0x5496f3(0x6a7)]);_0x5a3953&&(_0x1fc9f1[_0x5a3953[_0x5496f3(0x438)]]=_0x207755[_0x5496f3(0x1fe)]);}),_0x1fc9f1;}async[a0_0x29b3b7(0x249)](_0x416c9e,_0x5bd7ad){const _0x18675b=a0_0x29b3b7;try{let _0x13d242=await this[_0x18675b(0x3eb)](_0x5bd7ad);return this[_0x18675b(0x547)](_0x416c9e,_0x13d242);}catch(_0x28c81e){return this['logger'][_0x18675b(0x60d)](_0x18675b(0x14a)+_0x5bd7ad+':\x20'+_0x28c81e),_0x416c9e;}}async['editScheduleMessage'](_0x380956){const _0xa35db4=a0_0x29b3b7;try{if(this[_0xa35db4(0x1be)][_0xa35db4(0x7a1)](this[_0xa35db4(0x770)]+'\x20('+this[_0xa35db4(0x1fb)]['wuid']+_0xa35db4(0x2df)),_0x380956[_0xa35db4(0x5a1)]&&_0x380956['_id']){if(this[_0xa35db4(0x1fb)]['ScheduleMessage']['processing_id']===_0x380956['_id'][_0xa35db4(0x4a2)]())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0xb9089d=await this['repository'][_0xa35db4(0x241)][_0xa35db4(0x75d)](_0x380956['_id'],this[_0xa35db4(0x1fb)][_0xa35db4(0xe7)]);return setTimeout(()=>this[_0xa35db4(0x23d)](),0x7d0),_0xb9089d;}let _0x22d66d;if(_0x380956[_0xa35db4(0x6a7)]&&(_0x22d66d=await this[_0xa35db4(0x68f)][_0xa35db4(0x241)][_0xa35db4(0x1e4)](_0x380956[_0xa35db4(0x6a7)],this[_0xa35db4(0x1fb)]['wuid'])),_0x22d66d){let _0x24e8af;if(this[_0xa35db4(0x1fb)][_0xa35db4(0x485)][_0xa35db4(0x70d)]===_0x22d66d[_0xa35db4(0x6a7)][_0xa35db4(0x4a2)]())_0x24e8af={'$set':{'status':_0x380956['status']}};else{let {_id:_0x34f481,..._0x1f7193}=_0x380956;_0x24e8af={'$set':_0x1f7193};}let _0x45c9c6=await this[_0xa35db4(0x68f)][_0xa35db4(0x241)][_0xa35db4(0x19b)](_0x380956['_id'],_0x24e8af,this[_0xa35db4(0x1fb)][_0xa35db4(0xe7)]);return setTimeout(()=>this[_0xa35db4(0x23d)](),0x7d0),_0x45c9c6;}else{_0x380956['owner']=this['instance'][_0xa35db4(0xe7)];let _0x2aeec9=await this[_0xa35db4(0x68f)][_0xa35db4(0x241)]['createAndSave'](_0x380956,this['instance'][_0xa35db4(0xe7)]);return setTimeout(()=>this[_0xa35db4(0x23d)](),0x7d0),_0x2aeec9;}}catch(_0x1ba5c1){let _0x48f7aa=_0xa35db4(0x326),_0x4a2449=_0x1ba5c1 instanceof Error?_0x1ba5c1[_0xa35db4(0x780)]:typeof _0x1ba5c1==_0xa35db4(0x320)?JSON[_0xa35db4(0xfe)](_0x1ba5c1):_0x1ba5c1,_0x47e365=_0x48f7aa+':\x20'+_0x4a2449;throw this[_0xa35db4(0x1be)][_0xa35db4(0x60d)](this['instanceName']+'\x20('+this[_0xa35db4(0x1fb)][_0xa35db4(0xe7)]+_0xa35db4(0x1e5)+_0x47e365),new m(_0x47e365);}}async[a0_0x29b3b7(0x7a7)](){const _0x16aec6=a0_0x29b3b7;try{return await this[_0x16aec6(0x68f)][_0x16aec6(0x241)][_0x16aec6(0x61d)]({'where':{}},this['instance'][_0x16aec6(0xe7)]);}catch(_0x3b9ac8){let _0x10e5e3=_0x16aec6(0x403),_0x34968e=_0x3b9ac8 instanceof Error?_0x3b9ac8[_0x16aec6(0x780)]:typeof _0x3b9ac8==_0x16aec6(0x320)?JSON[_0x16aec6(0xfe)](_0x3b9ac8):_0x3b9ac8,_0x490d25=_0x10e5e3+':\x20'+_0x34968e;throw this[_0x16aec6(0x1be)][_0x16aec6(0x60d)](this[_0x16aec6(0x770)]+'\x20('+this[_0x16aec6(0x1fb)]['wuid']+_0x16aec6(0x1e5)+_0x490d25),new m(_0x490d25);}}async[a0_0x29b3b7(0x28d)](){const _0x109ff5=a0_0x29b3b7;try{let _0x38cb9e={'status':'done'},_0x2260eb=await this[_0x109ff5(0x68f)][_0x109ff5(0x241)]['deleteMany'](_0x38cb9e,this[_0x109ff5(0x1fb)][_0x109ff5(0xe7)]);if(!_0x2260eb[_0x109ff5(0x60d)])this[_0x109ff5(0x1be)]['verbose'](this[_0x109ff5(0x770)]+'\x20('+this[_0x109ff5(0x1fb)][_0x109ff5(0xe7)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x2260eb[_0x109ff5(0x60d)][_0x109ff5(0x780)]||_0x109ff5(0x16f));return this[_0x109ff5(0x7a7)]();}catch(_0x3677b9){let _0x542df4='Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done',_0x591c38=_0x3677b9 instanceof Error?_0x3677b9[_0x109ff5(0x780)]:typeof _0x3677b9==_0x109ff5(0x320)?JSON[_0x109ff5(0xfe)](_0x3677b9):_0x3677b9,_0x5a027e=_0x542df4+':\x20'+_0x591c38;throw this[_0x109ff5(0x1be)]['error'](this[_0x109ff5(0x770)]+'\x20('+this['instance'][_0x109ff5(0xe7)]+'):\x20'+_0x5a027e),new m(_0x5a027e);}}async[a0_0x29b3b7(0x68c)](_0xc64b0a,_0x5612bb){const _0x22c681=a0_0x29b3b7;try{if(_0x5612bb[_0x22c681(0x263)]===_0x22c681(0x2d3)&&!this['AutomateSystem']?.[_0x22c681(0x473)]['enabled'])return this[_0x22c681(0x1be)]['error'](this['instanceName']+'\x20('+this[_0x22c681(0x1fb)]['wuid']+_0x22c681(0x118)),{'error':!0x0,'detail':_0x22c681(0x3f0)};switch(_0x5612bb[_0x22c681(0x263)]){case _0x22c681(0x623):return await this[_0x22c681(0x415)](_0x5612bb,_0xc64b0a);case _0x22c681(0x1c9):return await this[_0x22c681(0x1e8)](_0x5612bb,_0xc64b0a);case _0x22c681(0x609):return await this[_0x22c681(0x10e)](_0x5612bb,_0xc64b0a);case _0x22c681(0x2d3):let _0x3751cf=new Fe();return _0x3751cf[_0x22c681(0x438)]=_0x5612bb[_0x22c681(0x39a)],_0x3751cf[_0x22c681(0x4b0)]=_0xc64b0a,await this[_0x22c681(0x1a9)](_0x3751cf);break;default:return this[_0x22c681(0x1be)][_0x22c681(0x60d)](this['instanceName']+'\x20('+this[_0x22c681(0x1fb)][_0x22c681(0xe7)]+_0x22c681(0x53b)+_0x5612bb['type']),{'error':!0x0,'detail':_0x22c681(0x730)};}}catch(_0x1a98be){return this[_0x22c681(0x1be)][_0x22c681(0x60d)](this[_0x22c681(0x770)]+'\x20('+this['instance']['wuid']+_0x22c681(0x44f)+(_0x1a98be instanceof Error?_0x1a98be[_0x22c681(0x780)]:JSON['stringify'](_0x1a98be,null,0x2))),{'error':!0x0,'detail':_0x1a98be[_0x22c681(0x780)]};}}[a0_0x29b3b7(0x7c6)](_0xb62c5b){const _0x1c75e5=a0_0x29b3b7;let _0x2f894b=_0xb62c5b['split']('|'),_0x59ff3a=Math[_0x1c75e5(0x1a8)](Math[_0x1c75e5(0x2b8)]()*_0x2f894b[_0x1c75e5(0x761)]);return _0x2f894b[_0x59ff3a][_0x1c75e5(0x699)]();}async[a0_0x29b3b7(0x415)](_0x780b38,_0x148a2c){const _0x15c4ec=a0_0x29b3b7;if(this[_0x15c4ec(0x1be)][_0x15c4ec(0x7a1)](this[_0x15c4ec(0x770)]+'\x20('+this['instance'][_0x15c4ec(0xe7)]+'):\x20Enviando\x20texto'),!_0x780b38[_0x15c4ec(0x780)]['text']||_0x780b38[_0x15c4ec(0x780)]['text'][_0x15c4ec(0x761)]===0x0)return{'error':!0x0,'detail':'sem\x20texto\x20na\x20mensagem'};let _0x1ae10e=this['getRandomText'](_0x780b38[_0x15c4ec(0x780)][_0x15c4ec(0x623)]),_0x6846ee=await this[_0x15c4ec(0x249)](_0x1ae10e,_0x148a2c),_0x3b3bc0={'number':_0x148a2c,'options':{'delay':_0x780b38[_0x15c4ec(0x780)][_0x15c4ec(0x384)],'linkPreview':_0x780b38[_0x15c4ec(0x780)]['linkPreview']},'textMessage':{'text':_0x6846ee}},_0x3eb209=null;try{let _0x48e3ed=await this[_0x15c4ec(0x10b)](_0x3b3bc0);if(_0x48e3ed&&_0x48e3ed['status'])return{'error':!0x1,'id':_0x48e3ed[_0x15c4ec(0x5ec)]['id']};_0x3eb209=JSON[_0x15c4ec(0xfe)](_0x48e3ed),this[_0x15c4ec(0x1be)][_0x15c4ec(0x7a1)](this[_0x15c4ec(0x770)]+'\x20('+this[_0x15c4ec(0x1fb)][_0x15c4ec(0xe7)]+_0x15c4ec(0x1e5)+_0x3eb209);}catch(_0xc60843){this[_0x15c4ec(0x1be)][_0x15c4ec(0x60d)](this[_0x15c4ec(0x770)]+'\x20('+this[_0x15c4ec(0x1fb)][_0x15c4ec(0xe7)]+_0x15c4ec(0x75e)+(_0xc60843 instanceof Error?_0xc60843[_0x15c4ec(0x780)]:JSON[_0x15c4ec(0xfe)](_0xc60843,null,0x2))),_0x3eb209=_0xc60843['message'];}if(_0x3eb209)return{'error':!0x0,'detail':(typeof _0x3eb209==_0x15c4ec(0x320)?JSON[_0x15c4ec(0xfe)](_0x3eb209,null,0x2):_0x3eb209)[_0x15c4ec(0x3b1)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x29b3b7(0x1e8)](_0x49336c,_0x40442f){const _0x2c6f00=a0_0x29b3b7;this[_0x2c6f00(0x1be)]['verbose'](this[_0x2c6f00(0x770)]+'\x20('+this[_0x2c6f00(0x1fb)][_0x2c6f00(0xe7)]+_0x2c6f00(0x138));let _0x2096c2;if(_0x49336c[_0x2c6f00(0x780)][_0x2c6f00(0x623)]&&_0x49336c[_0x2c6f00(0x780)][_0x2c6f00(0x623)]['length']>0x0){let _0x23b67f=this['getRandomText'](_0x49336c[_0x2c6f00(0x780)][_0x2c6f00(0x623)]);_0x2096c2=await this['replaceVariablesChat'](_0x23b67f,_0x40442f);}let _0x397e90={'number':_0x40442f,'options':{'delay':_0x49336c[_0x2c6f00(0x780)][_0x2c6f00(0x384)],'linkPreview':_0x49336c['message'][_0x2c6f00(0x5e7)]},'mediaMessage':{'mediatype':_0x49336c['message'][_0x2c6f00(0x7c4)],'caption':_0x2096c2,'media':_0x49336c['message']['urlOrBase64']}},_0x57ea4f=null;try{let _0x16f617=await this['mediaMessage'](_0x397e90);if(_0x16f617&&_0x16f617[_0x2c6f00(0x59d)])return{'error':!0x1,'id':_0x16f617[_0x2c6f00(0x5ec)]['id']};_0x57ea4f=JSON[_0x2c6f00(0xfe)](_0x16f617),this[_0x2c6f00(0x1be)][_0x2c6f00(0x7a1)](this['instanceName']+'\x20('+this[_0x2c6f00(0x1fb)][_0x2c6f00(0xe7)]+_0x2c6f00(0x1e5)+_0x57ea4f);}catch(_0x29e575){this[_0x2c6f00(0x1be)][_0x2c6f00(0x60d)](this[_0x2c6f00(0x770)]+'\x20('+this[_0x2c6f00(0x1fb)][_0x2c6f00(0xe7)]+_0x2c6f00(0x2b5)+(_0x29e575 instanceof Error?_0x29e575[_0x2c6f00(0x780)]:JSON['stringify'](_0x29e575,null,0x2))),_0x57ea4f=_0x29e575[_0x2c6f00(0x780)];}if(_0x57ea4f)return{'error':!0x0,'detail':(typeof _0x57ea4f==_0x2c6f00(0x320)?JSON[_0x2c6f00(0xfe)](_0x57ea4f,null,0x2):_0x57ea4f)[_0x2c6f00(0x3b1)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x29b3b7(0x10e)](_0x2841b4,_0x4e832e){const _0x758038=a0_0x29b3b7;this['logger'][_0x758038(0x7a1)](this[_0x758038(0x770)]+'\x20('+this[_0x758038(0x1fb)][_0x758038(0xe7)]+'):\x20Enviando\x20áudio');let _0x4d323e={'number':_0x4e832e,'options':{'delay':_0x2841b4[_0x758038(0x780)]['delay']},'audioMessage':{'audio':_0x2841b4['message'][_0x758038(0x2a7)]}},_0x55ea79=null;try{let _0x9d8873=await this[_0x758038(0x79b)](_0x4d323e);if(_0x9d8873&&_0x9d8873[_0x758038(0x59d)])return{'error':!0x1,'id':_0x9d8873[_0x758038(0x5ec)]['id']};_0x55ea79=JSON['stringify'](_0x9d8873),this['logger']['verbose'](this[_0x758038(0x770)]+'\x20('+this[_0x758038(0x1fb)][_0x758038(0xe7)]+_0x758038(0x1e5)+_0x55ea79);}catch(_0x518d14){this[_0x758038(0x1be)]['error'](this[_0x758038(0x770)]+'\x20('+this[_0x758038(0x1fb)][_0x758038(0xe7)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x518d14 instanceof Error?_0x518d14[_0x758038(0x780)]:JSON[_0x758038(0xfe)](_0x518d14,null,0x2))),_0x55ea79=_0x518d14[_0x758038(0x780)];}if(_0x55ea79)return{'error':!0x0,'detail':(typeof _0x55ea79==_0x758038(0x320)?JSON[_0x758038(0xfe)](_0x55ea79,null,0x2):_0x55ea79)['replace'](/[\[\]{}\n]/g,'\x20')[_0x758038(0x3b1)](/  +/g,'\x20')};}},Ut=class c{constructor(_0x4c21ce,_0x5e0b86,_0x18cfd4){const _0x5a38c6=a0_0x29b3b7;this['eventEmitter']=_0x4c21ce,this['configService']=_0x5e0b86,this['repository']=_0x18cfd4,this['db']={},this['redis']={},this[_0x5a38c6(0x1be)]=new R(c['name']),this[_0x5a38c6(0x741)]={},(this[_0x5a38c6(0x134)](),this[_0x5a38c6(0x6e6)](),Object[_0x5a38c6(0x411)](this['db'],_0x5e0b86[_0x5a38c6(0x1a1)]('DATABASE')),Object[_0x5a38c6(0x411)](this[_0x5a38c6(0x663)],_0x5e0b86[_0x5a38c6(0x1a1)]('REDIS')),this[_0x5a38c6(0x4b8)]=this['db'][_0x5a38c6(0x238)]?this['repository'][_0x5a38c6(0x40c)]?.['db'](this['db'][_0x5a38c6(0x64f)][_0x5a38c6(0x416)]+_0x5a38c6(0x47b)):void 0x0,this[_0x5a38c6(0x6a6)]=this[_0x5a38c6(0x663)]['ENABLED']?new ce(this[_0x5a38c6(0x663)]):void 0x0);}async[a0_0x29b3b7(0x2d4)](_0x173253){const _0x3c2933=a0_0x29b3b7;if(_0x173253&&!this[_0x3c2933(0x741)][_0x173253])throw new U(_0x3c2933(0x6a2)+_0x173253+_0x3c2933(0x227));let _0x1aac71=[];for await(let [_0x5e2bac,_0xa74cd7]of Object[_0x3c2933(0x6ee)](this['waInstances']))if(_0xa74cd7&&_0xa74cd7[_0x3c2933(0x641)]['state']===_0x3c2933(0x444)){let _0x25c45e=await this[_0x3c2933(0x68f)][_0x3c2933(0x7c9)][_0x3c2933(0x61d)](_0x5e2bac);_0x1aac71['push']({'instance':{'instanceName':_0x5e2bac,'apikey':_0x25c45e[_0x3c2933(0x54e)],'owner':_0xa74cd7[_0x3c2933(0xe7)],'profileName':await _0xa74cd7[_0x3c2933(0x306)]()||_0x3c2933(0x60e),'profilePictureUrl':_0xa74cd7['profilePictureUrl']}});}return _0x1aac71[_0x3c2933(0x61d)](_0x3306d6=>_0x3306d6[_0x3c2933(0x1fb)][_0x3c2933(0x770)]===_0x173253)??_0x1aac71;}async[a0_0x29b3b7(0x4b4)](_0xe78504){const _0x598e62=a0_0x29b3b7;if(this['db'][_0x598e62(0x238)]&&(await this[_0x598e62(0x68f)][_0x598e62(0x40c)]['connect'](),(await this[_0x598e62(0x4b8)]['collections']())[_0x598e62(0x761)]>0x0&&await this[_0x598e62(0x4b8)][_0x598e62(0x731)](_0xe78504)),this[_0x598e62(0x663)][_0x598e62(0x238)]){this['cache'][_0x598e62(0x5c6)]=_0xe78504,await this['cache'][_0x598e62(0x47f)]();return;}}async[a0_0x29b3b7(0x21f)](){const _0x32f260=a0_0x29b3b7;await this[_0x32f260(0x4f0)]();let _0x5d126d=async _0x4c5b89=>{const _0x5f0b53=_0x32f260;let _0x5e66d1=new Se(this[_0x5f0b53(0x667)],this[_0x5f0b53(0x3bb)],this[_0x5f0b53(0x68f)]);_0x5e66d1[_0x5f0b53(0x770)]=_0x4c5b89,await _0x5e66d1['connectToWhatsapp'](),this['waInstances'][_0x4c5b89]=_0x5e66d1;};try{if(this[_0x32f260(0x663)][_0x32f260(0x238)]){let _0x5dc089=await this[_0x32f260(0x6a6)][_0x32f260(0x583)]();_0x5dc089?.[_0x32f260(0x761)]>0x0&&_0x5dc089[_0x32f260(0x693)](async _0x2be2be=>await _0x5d126d(_0x2be2be[_0x32f260(0x355)](':')[0x1]));return;}if(this['db'][_0x32f260(0x238)]){await this['repository'][_0x32f260(0x40c)][_0x32f260(0x6a5)]();let _0x259981=await this[_0x32f260(0x4b8)][_0x32f260(0x2f6)]();_0x259981[_0x32f260(0x761)]>0x0&&_0x259981[_0x32f260(0x693)](async _0x1dafa2=>await _0x5d126d(_0x1dafa2[_0x32f260(0x3b7)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x14553e){this['logger'][_0x32f260(0x60d)](_0x14553e);}}async[a0_0x29b3b7(0x686)](){const _0x23693c=a0_0x29b3b7;let _0x2582ca=await this['repository'][_0x23693c(0x7c9)][_0x23693c(0x1dd)](),_0x1a6abd=_0x2582ca['filter'](_0x1b56a9=>!this[_0x23693c(0x741)][_0x1b56a9[_0x23693c(0x6a7)]]&&(_0x1b56a9[_0x23693c(0x57a)]||typeof _0x1b56a9[_0x23693c(0x57a)]>'u'));_0x1a6abd[_0x23693c(0x761)]>0x0&&await Promise[_0x23693c(0x357)](_0x1a6abd['map'](async _0x52f051=>{const _0x319bf9=_0x23693c;let _0x56e9f2={'online':!0x1,'lastDisconnect':Date['now']()};await this[_0x319bf9(0x68f)][_0x319bf9(0x7c9)][_0x319bf9(0x262)](_0x56e9f2,_0x52f051[_0x319bf9(0x6a7)]);}));let _0x405064=Date[_0x23693c(0x5aa)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0xd050d7=_0x2582ca[_0x23693c(0x19c)](_0x136c21=>!this['waInstances'][_0x136c21['_id']]&&typeof _0x136c21[_0x23693c(0x2b6)]<'u'&&_0x136c21[_0x23693c(0x2b6)]<_0x405064);_0xd050d7[_0x23693c(0x761)]>0x0&&await Promise['all'](_0xd050d7[_0x23693c(0x40d)](async _0x3f208a=>{}));}async['InstancesAlterarTodas'](){const _0x53f036=a0_0x29b3b7;try{let _0x7b6a83={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x5d5027={'online':!0x1,'lastDisconnect':Date[_0x53f036(0x5aa)]()},_0x18c161=await this[_0x53f036(0x68f)][_0x53f036(0x7c9)]['updateAll'](_0x7b6a83,_0x5d5027);console['log'](_0x53f036(0x5fa)+_0x18c161[_0x53f036(0x195)]),await this[_0x53f036(0x4ed)]();}catch(_0x1b7c1c){console[_0x53f036(0x60d)](_0x53f036(0x199),_0x1b7c1c);}}async[a0_0x29b3b7(0x4ed)](){const _0x3930f2=a0_0x29b3b7;try{let _0x5b3427={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x5c1c55=await this['repository'][_0x3930f2(0x7c9)][_0x3930f2(0x4cb)](_0x5b3427);console[_0x3930f2(0x6bf)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x5c1c55[_0x3930f2(0x195)]);}catch(_0x5f534a){console[_0x3930f2(0x60d)](_0x3930f2(0x1c4),_0x5f534a);}}['removeInstance'](){const _0x54b003=a0_0x29b3b7;this[_0x54b003(0x3bb)]['on'](_0x54b003(0x15b),async _0x257a5a=>{const _0x60205e=_0x54b003;try{this[_0x60205e(0x741)][_0x257a5a]=void 0x0;}catch{}try{this[_0x60205e(0x4b4)](_0x257a5a);}finally{this[_0x60205e(0x1be)]['warn']('Instance\x20\x22'+_0x257a5a+_0x60205e(0x5ff));}});}[a0_0x29b3b7(0x6e6)](){const _0x2e9b42=a0_0x29b3b7;this[_0x2e9b42(0x3bb)]['on'](_0x2e9b42(0x60b),async _0x1ac5e1=>{const _0x5c57f8=_0x2e9b42;try{this[_0x5c57f8(0x741)][_0x1ac5e1]=void 0x0;}catch{}try{this[_0x5c57f8(0x4b4)](_0x1ac5e1);}finally{this['logger'][_0x5c57f8(0x47a)](_0x5c57f8(0x6a2)+_0x1ac5e1+_0x5c57f8(0x2d6));}});}},qt=class extends x{['getChatModelForOwner'](_0xbf05a8){return Ys(_0xbf05a8);}async[a0_0x29b3b7(0x34e)](_0x51d922){const _0x24e6a6=a0_0x29b3b7;if(_0x51d922[_0x24e6a6(0x761)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x51d922[0x0][_0x24e6a6(0x328)])['insertMany']([..._0x51d922]))[_0x24e6a6(0x761)]};}catch(_0x4060c9){return _0x4060c9;}}async[a0_0x29b3b7(0x61d)](_0x3a14b0,_0x19d70b){const _0x5ae7bf=a0_0x29b3b7;try{let _0x3b4e84=this[_0x5ae7bf(0x774)](_0x19d70b),_0x18caee=A(_0x3a14b0['where']);return await _0x3b4e84[_0x5ae7bf(0x61d)](_0x18caee)[_0x5ae7bf(0x4d3)]({'lastmsg':-0x1})[_0x5ae7bf(0x3c9)](_0x3a14b0?.[_0x5ae7bf(0x3c9)]??0x0)['lean']();}catch{return[];}}async[a0_0x29b3b7(0x5a1)](_0x2560e6,_0x63bd89){const _0x2c5224=a0_0x29b3b7;try{return{'deletedCount':(await this[_0x2c5224(0x774)](_0x63bd89)[_0x2c5224(0x4cb)]({..._0x2560e6[_0x2c5224(0x414)]}))[_0x2c5224(0x187)]};}catch(_0x473068){return{'error':_0x473068?.[_0x2c5224(0x4a2)]()};}}async[a0_0x29b3b7(0x1bf)](_0x1243eb,_0x8a0889){const _0x43f29e=a0_0x29b3b7;try{return await this[_0x43f29e(0x774)](_0x8a0889)[_0x43f29e(0x4cb)]({..._0x1243eb[_0x43f29e(0x414)]}),[];}catch(_0x22c46f){return{'error':_0x22c46f?.[_0x43f29e(0x4a2)]()};}}async['findOne'](_0x165621,_0x33beae){const _0x1e646b=a0_0x29b3b7;try{let _0x3a28b8=this[_0x1e646b(0x774)](_0x33beae),_0x525bbe=A(_0x165621[_0x1e646b(0x414)]);return await _0x3a28b8[_0x1e646b(0x3b0)](_0x525bbe)[_0x1e646b(0x363)]();}catch{return null;}}async[a0_0x29b3b7(0x7be)](_0x18eb44,_0x4af6f9,_0x1abb78,_0x4959b5,_0x22b9c6=a0_0x29b3b7(0x678)){const _0x36c51c=a0_0x29b3b7;try{let _0x195378={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4959b5},_0x3854f4=this[_0x36c51c(0x774)](_0x1abb78),_0x26de75=A(_0x18eb44[_0x36c51c(0x414)]);Object[_0x36c51c(0x37a)](_0x4af6f9)[_0x36c51c(0x693)](_0x46bc1e=>{_0x4af6f9[_0x46bc1e]==null&&delete _0x4af6f9[_0x46bc1e];});let _0x21fd27={};return _0x21fd27[_0x22b9c6]=_0x4af6f9,await _0x3854f4['findOneAndUpdate'](_0x26de75,_0x21fd27,_0x195378);}catch(_0x3b92d9){return console[_0x36c51c(0x60d)](_0x3b92d9),null;}}async[a0_0x29b3b7(0x398)](_0x5c0ca7){const _0x3d7bb4=a0_0x29b3b7;try{let _0x2b77a3=this[_0x3d7bb4(0x774)](_0x5c0ca7[0x0]['query']['where']['owner']),_0x4aa463=_0x5c0ca7[_0x3d7bb4(0x40d)](_0x2cb85c=>({'updateOne':{'filter':{..._0x2cb85c[_0x3d7bb4(0x685)]['where']},'update':{'$set':_0x2cb85c[_0x3d7bb4(0x5ca)]},'upsert':!0x0}})),_0xccf912=await _0x2b77a3['bulkWrite'](_0x4aa463);return _0xccf912['modifiedCount']+_0xccf912[_0x3d7bb4(0x379)];}catch(_0x1dd3a8){return console['error'](_0x1dd3a8),0x0;}}async[a0_0x29b3b7(0x454)](_0x212e79){const _0x43191d=a0_0x29b3b7;try{let _0x1f066a={'group_isCommunity':'','group_announce':'','group_size':''},_0x3222d8={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x4d0a80={'$unset':_0x1f066a};return(await this[_0x43191d(0x774)](_0x212e79)[_0x43191d(0x398)](_0x3222d8,_0x4d0a80))[_0x43191d(0x1f7)];}catch(_0x528117){return console['error'](_0x43191d(0x53c),_0x528117),0x0;}}async[a0_0x29b3b7(0x631)](_0x21a1b3){const _0x2e9097=a0_0x29b3b7;try{let _0x29b87a=this[_0x2e9097(0x774)](_0x21a1b3),_0x33eac8={'leadInfo.etiquetas':{'$exists':!0x1}},_0x3b2d1a={'$set':{'leadInfo.etiquetas':[]}};return(await _0x29b87a[_0x2e9097(0x398)](_0x33eac8,_0x3b2d1a))['modifiedCount'];}catch(_0x1e85d9){return console[_0x2e9097(0x60d)](_0x1e85d9),0x0;}}async[a0_0x29b3b7(0x47c)](_0x4071b3){const _0x505fff=a0_0x29b3b7;try{let _0x2daf96=this[_0x505fff(0x774)](_0x4071b3),_0x115393={'leadInfo.tags':{'$exists':!0x1}},_0x1b7bd4={'$set':{'leadInfo.tags':[]}};return(await _0x2daf96[_0x505fff(0x398)](_0x115393,_0x1b7bd4))['modifiedCount'];}catch(_0x2bc94b){return console[_0x505fff(0x60d)](_0x2bc94b),0x0;}}async[a0_0x29b3b7(0x3b8)](_0x2bcd6a){const _0xc1ca6a=a0_0x29b3b7;try{let _0x34eb83=this['getChatModelForOwner'](_0x2bcd6a),_0x4df845={'leadInfo.customFields':{'$exists':!0x1}},_0x23d36e={'$set':{'leadInfo.customFields':[]}};return(await _0x34eb83[_0xc1ca6a(0x398)](_0x4df845,_0x23d36e))[_0xc1ca6a(0x1f7)];}catch(_0x28eac7){return console['error'](_0x28eac7),0x0;}}async[a0_0x29b3b7(0x29b)](_0x2fb1b6,_0x517f19){const _0x1006a0=a0_0x29b3b7;if(!Array[_0x1006a0(0x4b7)](_0x2fb1b6)||_0x2fb1b6[_0x1006a0(0x761)]===0x0)throw new Error(_0x1006a0(0xfb));try{return(await this['getChatModelForOwner'](_0x517f19)[_0x1006a0(0x29b)](_0x2fb1b6))[_0x1006a0(0x761)];}catch(_0x424152){throw console[_0x1006a0(0x60d)](_0x1006a0(0x1da),_0x424152),_0x424152;}}async[a0_0x29b3b7(0x441)](_0xbb0c54,_0x1831c3){const _0x17163d=a0_0x29b3b7;try{await this[_0x17163d(0x774)](_0x1831c3)[_0x17163d(0x75d)]({'_id':_0xbb0c54});}catch(_0x20d76d){throw console[_0x17163d(0x60d)](_0x17163d(0x560),_0x20d76d),_0x20d76d;}}},Vt=class extends x{constructor(_0x3e5ede,_0x4c270a,_0x272bc2){const _0x3ac655=a0_0x29b3b7;super(_0x4c270a),this[_0x3ac655(0x1ea)]=_0x3e5ede,this['configService']=_0x4c270a,this[_0x3ac655(0x361)]=_0x272bc2;}async[a0_0x29b3b7(0x34e)](_0x376695){const _0x22e3a2=a0_0x29b3b7;if(_0x376695['length']!==0x0)try{return{'insertCount':(await this[_0x22e3a2(0x1ea)][_0x22e3a2(0x29b)]([..._0x376695]))[_0x22e3a2(0x761)]};}catch(_0x26a250){return _0x26a250;}}async[a0_0x29b3b7(0x5ca)](_0x5624a2,_0x3e5324){const _0x11f9dd=a0_0x29b3b7;try{let _0x1056ab=A(_0x5624a2[_0x11f9dd(0x414)]);return{'updatedCount':(await this[_0x11f9dd(0x1ea)][_0x11f9dd(0x398)](_0x1056ab,{'$set':_0x3e5324}))[_0x11f9dd(0x1f7)]};}catch(_0x36858e){return console[_0x11f9dd(0x60d)](_0x11f9dd(0x3c6),_0x36858e),{'error':_0x36858e['toString']()};}}async[a0_0x29b3b7(0x669)](_0x1fbe0f){const _0x20830=a0_0x29b3b7;try{let _0x1bb29a={'_id':{'$in':_0x1fbe0f}};return await this['cacheContactModel'][_0x20830(0x61d)](_0x1bb29a)[_0x20830(0x363)]();}catch(_0x4509c5){return console['error'](_0x20830(0x1bd),_0x4509c5),[];}}async[a0_0x29b3b7(0x5a1)](_0x197cd4){const _0x273e5e=a0_0x29b3b7;try{return{'deletedCount':(await this[_0x273e5e(0x1ea)][_0x273e5e(0x4cb)]({..._0x197cd4[_0x273e5e(0x414)]}))[_0x273e5e(0x187)]};}catch(_0x5a993e){return{'error':_0x5a993e?.['toString']()};}}async[a0_0x29b3b7(0x61d)](_0x39d7ef){const _0x210169=a0_0x29b3b7;try{let _0x1bf8fa=A(_0x39d7ef['where']);return await this[_0x210169(0x1ea)]['find'](_0x1bf8fa)[_0x210169(0x3c9)](_0x39d7ef?.['limit']??0x0)['lean']();}catch{return[];}}async['findOne'](_0x3fc19a){const _0x436b48=a0_0x29b3b7;try{let _0x484b4c=A(_0x3fc19a[_0x436b48(0x414)]);return await this[_0x436b48(0x1ea)]['findOne'](_0x484b4c)['lean']();}catch{return null;}}},Gt=class extends x{['getLabelModelForOwner'](_0x4c9cbc){return Ea(_0x4c9cbc);}async['updateOne'](_0x51514d,_0x10ba7f,_0x48b8da,_0x4afa78){const _0x112444=a0_0x29b3b7;try{let _0x854d5d={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4afa78},_0x273691=this['getLabelModelForOwner'](_0x48b8da),_0x31c23e=A(_0x51514d['where']);return await _0x273691[_0x112444(0x153)](_0x31c23e,{'$set':_0x10ba7f},_0x854d5d);}catch(_0x35e945){return console[_0x112444(0x60d)](_0x35e945),null;}}async[a0_0x29b3b7(0x61d)](_0x5a0882,_0x31d861){const _0x599ca0=a0_0x29b3b7;try{let _0xb683fb=this[_0x599ca0(0x49d)](_0x31d861),_0x4b0980=A(_0x5a0882[_0x599ca0(0x414)]);return await _0xb683fb[_0x599ca0(0x61d)](_0x4b0980);}catch(_0x2f3499){console[_0x599ca0(0x60d)](_0x2f3499);}}async[a0_0x29b3b7(0x5a1)](_0x45d16d,_0x43d670){const _0x35cc7b=a0_0x29b3b7;try{let _0x200b88=this[_0x35cc7b(0x49d)](_0x43d670),_0x4cdb33=A(_0x45d16d[_0x35cc7b(0x414)]);await _0x200b88['deleteMany'](_0x4cdb33);}catch(_0x3ae258){console[_0x35cc7b(0x60d)](_0x3ae258);}}async[a0_0x29b3b7(0x1bf)](_0x4f8026){const _0x527241=a0_0x29b3b7;try{return await this[_0x527241(0x49d)](_0x4f8026)[_0x527241(0x6eb)][_0x527241(0x1ba)](),{'success':!0x0};}catch(_0x57c128){return console[_0x527241(0x60d)](_0x57c128),{'success':!0x1,'error':_0x57c128};}}},Bt=class{constructor(_0x5e7831){const _0x65ab6a=a0_0x29b3b7;this[_0x65ab6a(0x207)]=_0x5e7831;}async['editChat']({instanceName:_0x4162fd},_0x122e7e){const _0x3356ea=a0_0x29b3b7;return await this[_0x3356ea(0x207)]['waInstances'][_0x4162fd][_0x3356ea(0xea)](_0x122e7e);}async[a0_0x29b3b7(0x580)]({instanceName:_0x48c339},_0x23e94f){const _0x66817b=a0_0x29b3b7;return await this[_0x66817b(0x207)][_0x66817b(0x741)][_0x48c339][_0x66817b(0x580)](_0x23e94f);}async[a0_0x29b3b7(0x59f)]({instanceName:_0x5c4483},_0x58d93a){const _0x1654ad=a0_0x29b3b7;return await this['waMonitor'][_0x1654ad(0x741)][_0x5c4483]['importChats'](_0x58d93a);}async['readMessage']({instanceName:_0x218d7e},_0x49c0cc){const _0x4d5962=a0_0x29b3b7;return await this[_0x4d5962(0x207)][_0x4d5962(0x741)][_0x218d7e][_0x4d5962(0x190)](_0x49c0cc);}async[a0_0x29b3b7(0x586)]({instanceName:_0xcb5685},_0x58b23c){const _0xc1f53f=a0_0x29b3b7;return await this[_0xc1f53f(0x207)]['waInstances'][_0xcb5685][_0xc1f53f(0x586)](_0x58b23c);}async[a0_0x29b3b7(0x45a)]({instanceName:_0xde8064},_0x4fe477){const _0x1eca9c=a0_0x29b3b7;return await this[_0x1eca9c(0x207)][_0x1eca9c(0x741)][_0xde8064]['deleteMessage'](_0x4fe477);}async[a0_0x29b3b7(0x7bf)]({instanceName:_0x5f52ec},_0x1433a2){const _0x496942=a0_0x29b3b7;return await this['waMonitor'][_0x496942(0x741)][_0x5f52ec][_0x496942(0x4c7)](_0x1433a2[_0x496942(0x487)]);}async['fetchProfile']({instanceName:_0xa49dfa},_0x45748c){const _0x2b7fee=a0_0x29b3b7;return await this[_0x2b7fee(0x207)][_0x2b7fee(0x741)][_0xa49dfa][_0x2b7fee(0x26b)](_0x45748c[_0x2b7fee(0x487)]);}async['updatePresence']({instanceName:_0x33905c},_0x26088c){const _0x1dbee4=a0_0x29b3b7;return await this[_0x1dbee4(0x207)]['waInstances'][_0x33905c][_0x1dbee4(0x265)](_0x26088c);}async[a0_0x29b3b7(0x225)]({instanceName:_0x570367},_0x8660e3){return await this['waMonitor']['waInstances'][_0x570367]['fetchContacts'](_0x8660e3);}async[a0_0x29b3b7(0x716)]({instanceName:_0x34dafa},_0x1a4ec0){const _0x624427=a0_0x29b3b7;return await this[_0x624427(0x207)]['waInstances'][_0x34dafa]['getBase64FromMediaMessage'](_0x1a4ec0);}async[a0_0x29b3b7(0x5da)]({instanceName:_0x5d06c8},_0x102671){const _0x34eaa7=a0_0x29b3b7;return await this['waMonitor'][_0x34eaa7(0x741)][_0x5d06c8][_0x34eaa7(0x5da)](_0x102671);}async[a0_0x29b3b7(0x70f)]({instanceName:_0x4c548d}){const _0x421218=a0_0x29b3b7;return await this[_0x421218(0x207)]['waInstances'][_0x4c548d]['fetchLabels']();}async[a0_0x29b3b7(0x525)]({instanceName:_0x4309e0}){const _0x404e12=a0_0x29b3b7;return await this[_0x404e12(0x207)][_0x404e12(0x741)][_0x4309e0][_0x404e12(0x525)]();}async[a0_0x29b3b7(0x56a)]({instanceName:_0x899801}){const _0x4c41b1=a0_0x29b3b7;return await this[_0x4c41b1(0x207)]['waInstances'][_0x899801][_0x4c41b1(0x56a)]();}async[a0_0x29b3b7(0x318)]({instanceName:_0x7bae7},_0x42ad90){const _0x5bc18c=a0_0x29b3b7;return await this[_0x5bc18c(0x207)][_0x5bc18c(0x741)][_0x7bae7][_0x5bc18c(0x318)](_0x42ad90);}async[a0_0x29b3b7(0x109)]({instanceName:_0xbc0e54},_0x4efef9){const _0xb54824=a0_0x29b3b7;return await this[_0xb54824(0x207)][_0xb54824(0x741)][_0xbc0e54][_0xb54824(0x109)](_0x4efef9['number']);}async[a0_0x29b3b7(0x3c2)]({instanceName:_0xc5005d},_0x246766){const _0x109a33=a0_0x29b3b7;return await this['waMonitor'][_0x109a33(0x741)][_0xc5005d][_0x109a33(0x3c2)](_0x246766[_0x109a33(0x438)]);}async[a0_0x29b3b7(0x588)]({instanceName:_0x3e9eaa},_0x47d669){const _0x4473d3=a0_0x29b3b7;return await this[_0x4473d3(0x207)][_0x4473d3(0x741)][_0x3e9eaa][_0x4473d3(0x588)](_0x47d669[_0x4473d3(0x59d)]);}async[a0_0x29b3b7(0x7b5)]({instanceName:_0x2a7ff9},_0x1a83cc){const _0x5c3180=a0_0x29b3b7;return await this[_0x5c3180(0x207)][_0x5c3180(0x741)][_0x2a7ff9]['updateProfilePicture'](_0x1a83cc[_0x5c3180(0x791)]);}async[a0_0x29b3b7(0x467)]({instanceName:_0x4909ea},_0x5ec849){const _0x372776=a0_0x29b3b7;return await this[_0x372776(0x207)][_0x372776(0x741)][_0x4909ea][_0x372776(0x467)]();}},Ps=require(a0_0x29b3b7(0x35e)),Wt=class c{constructor(_0x13d82e,_0x21875f,_0x5a7856,_0x36d020,_0x14c55c){const _0x455dda=a0_0x29b3b7;this[_0x455dda(0x207)]=_0x13d82e,this[_0x455dda(0x667)]=_0x21875f,this[_0x455dda(0x68f)]=_0x5a7856,this[_0x455dda(0x3bb)]=_0x36d020,this['authService']=_0x14c55c,this[_0x455dda(0x1be)]=new R(c[_0x455dda(0x438)]);}async[a0_0x29b3b7(0x672)]({instanceName:_0x540f28,apikey:_0x2ab943,number:_0xef77bc,proxy:_0x15a43e=!0x0}){const _0x263140=a0_0x29b3b7;try{let _0x311d51=new Se(this['configService'],this[_0x263140(0x3bb)],this[_0x263140(0x68f)]);_0x311d51[_0x263140(0x770)]=_0x540f28,this[_0x263140(0x207)][_0x263140(0x741)][_0x311d51[_0x263140(0x770)]]=_0x311d51;let _0x2d4bcc={};_0x2ab943?(await this['repository'][_0x263140(0x7c9)][_0x263140(0x262)]({'apikey':_0x2ab943},_0x540f28),_0x2d4bcc[_0x263140(0x54e)]=_0x2ab943):_0x2d4bcc=await this[_0x263140(0x27d)][_0x263140(0x431)]({'instanceName':_0x311d51['instanceName']});let _0x1a259b;if(_0xef77bc){if(_0x1a259b=await this[_0x263140(0x36a)](_0xef77bc),_0x1a259b[_0x263140(0x60d)])throw new I(_0x1a259b[_0x263140(0x60d)]['toString']());_0xef77bc=_0x1a259b[_0x263140(0x487)];}let _0xce828e;return await _0x311d51['connectToWhatsapp'](_0xef77bc),await(0x0,Ps['delay'])(0x7d0),_0xce828e=_0x311d51[_0x263140(0x6a9)],{'instance':{'instanceName':_0x311d51['instanceName'],'status':_0x263140(0x65e)},'hash':_0x2d4bcc,'qrcode':_0xce828e};}catch(_0xd489bd){throw this[_0x263140(0x1be)][_0x263140(0x60d)](_0xd489bd),_0xd489bd;}}async[a0_0x29b3b7(0x490)]({instanceName:_0x45275d,number:_0x5268c1=null}){const _0x10e836=a0_0x29b3b7;try{let _0x4bee9b=this[_0x10e836(0x207)]['waInstances'][_0x45275d];switch(_0x4bee9b?.[_0x10e836(0x641)]?.['state']){case _0x10e836(0x10a):return await _0x4bee9b['connectToWhatsapp'](_0x5268c1),await(0x0,Ps[_0x10e836(0x384)])(0x7d0),_0x4bee9b['qrCode'];case _0x10e836(0x216):return _0x4bee9b[_0x10e836(0x6a9)];default:return await this['connectionState']({'instanceName':_0x45275d});}}catch(_0x21c88c){this[_0x10e836(0x1be)]['log'](_0x21c88c);}}async['connectionState']({instanceName:_0x11ce3f}){const _0x1fb2f8=a0_0x29b3b7;let _0x16095a=this[_0x1fb2f8(0x207)][_0x1fb2f8(0x741)][_0x11ce3f][_0x1fb2f8(0x641)],_0x3061b0=null;_0x16095a[_0x1fb2f8(0x296)]===_0x1fb2f8(0x444)&&_0x11ce3f&&(_0x3061b0=await this['waMonitor'][_0x1fb2f8(0x2d4)](_0x11ce3f));let _0x456490=null;return _0x16095a['state']===_0x1fb2f8(0x216)&&_0x11ce3f&&(_0x456490=this['waMonitor']['waInstances'][_0x11ce3f]['qrCode']),{'instance':_0x11ce3f,'connectionStatus':_0x16095a,'instanceInfo':_0x3061b0,'qrcode':_0x456490};}async[a0_0x29b3b7(0x36a)](_0x4ed666){const _0x46eebb=a0_0x29b3b7;_0x4ed666=_0x4ed666[_0x46eebb(0x3b1)](/\D/g,'');let _0x5d7c49=Object['keys'](this[_0x46eebb(0x207)]['waInstances'])['filter'](_0xe7153c=>{const _0xfbeff2=_0x46eebb;let _0x571ebe=this[_0xfbeff2(0x207)]['waInstances'][_0xe7153c];return _0x571ebe&&_0x571ebe['connectionStatus']&&_0x571ebe['connectionStatus'][_0xfbeff2(0x296)]==='open';});if(_0x5d7c49[_0x46eebb(0x761)]===0x0)return{'number':this[_0x46eebb(0x2bb)](_0x4ed666)};let _0x54376e=Math[_0x46eebb(0x1a8)](Math[_0x46eebb(0x2b8)]()*_0x5d7c49[_0x46eebb(0x761)]),_0x5ca494=_0x5d7c49[_0x54376e];try{let _0x262134=(await this['waMonitor'][_0x46eebb(0x741)][_0x5ca494][_0x46eebb(0x580)]({'numbers':[_0x4ed666]}))[_0x46eebb(0x4e9)]();return _0x262134[_0x46eebb(0x617)]?{'number':_0x262134[_0x46eebb(0x31d)]['replace']('@s.whatsapp.net','')}:{'number':_0x4ed666,'error':'Número\x20não\x20possui\x20WhatsApp.'};}catch(_0x122135){return this['logger'][_0x46eebb(0x60d)](_0x46eebb(0x4d8)+_0x122135),{'number':_0x4ed666,'error':_0x46eebb(0x189)};}}['formatBRNumber'](_0x5da3ab){const _0x53a7fe=a0_0x29b3b7;let _0x5ed498=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x53a7fe(0x51f)](_0x5da3ab);if(_0x5ed498&&_0x5ed498[0x1]==='55'){let _0x4f307f=_0x5ed498[0x2],_0x592d63=_0x5ed498[0x3],_0x490a63=_0x5ed498[0x4];if(parseInt(_0x4f307f)>=0x1f&&_0x592d63==='9')return _0x5ed498[0x1]+_0x4f307f+_0x490a63;}return _0x5da3ab;}async['restartInstance']({instanceName:_0x45547b}){const _0x45fef9=a0_0x29b3b7;try{return this[_0x45fef9(0x207)][_0x45fef9(0x741)][_0x45547b]?.[_0x45fef9(0x372)]?.['ws']?.[_0x45fef9(0x10a)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x45fef9(0x4fc)}};}catch(_0x3687ca){this[_0x45fef9(0x1be)][_0x45fef9(0x60d)](_0x3687ca);}}async[a0_0x29b3b7(0x779)]({instanceName:_0x4bb1dc}){const _0x4585d2=a0_0x29b3b7;return _0x4bb1dc?this[_0x4585d2(0x207)]['instanceInfo'](_0x4bb1dc):this[_0x4585d2(0x207)][_0x4585d2(0x2d4)]();}async['logout']({instanceName:_0x226d06}){const _0x222317=a0_0x29b3b7;try{return await this[_0x222317(0x207)][_0x222317(0x741)][_0x226d06]?.[_0x222317(0x372)]?.[_0x222317(0x20a)](_0x222317(0x62d)+_0x226d06),{'error':!0x1,'message':_0x222317(0x1f1)};}catch(_0x5bfe05){throw new I(_0x5bfe05[_0x222317(0x4a2)]());}}async[a0_0x29b3b7(0x33a)]({instanceName:_0x1bc1d3}){const _0x19278c=a0_0x29b3b7;if((await this['connectionState']({'instanceName':_0x1bc1d3}))[_0x19278c(0x641)][_0x19278c(0x296)]===_0x19278c(0x444))throw new m([_0x19278c(0x23b),_0x19278c(0x43c)]);try{return delete this[_0x19278c(0x207)][_0x19278c(0x741)][_0x1bc1d3],{'error':!0x1,'message':_0x19278c(0x74f)};}catch(_0x2d99c4){throw new m(_0x2d99c4[_0x19278c(0x4a2)]());}}},ee=require(a0_0x29b3b7(0x4d4)),zt=class{constructor(_0xfbf92d){this['waMonitor']=_0xfbf92d;}async[a0_0x29b3b7(0x401)]({instanceName:_0x5e51d0},_0x465c51){const _0x3efeca=a0_0x29b3b7;return await this[_0x3efeca(0x207)][_0x3efeca(0x741)][_0x5e51d0][_0x3efeca(0x10b)](_0x465c51);}async[a0_0x29b3b7(0x4c2)]({instanceName:_0x895f05},_0x478fb6){const _0x2ed98e=a0_0x29b3b7;return await this[_0x2ed98e(0x207)][_0x2ed98e(0x741)][_0x895f05][_0x2ed98e(0x136)](_0x478fb6);}async[a0_0x29b3b7(0x71a)]({instanceName:_0x57eda4},_0x44e331){const _0x4deed7=a0_0x29b3b7;if((0x0,ee[_0x4deed7(0x6f9)])(_0x44e331?.[_0x4deed7(0x4c3)]?.[_0x4deed7(0x1c9)])&&!_0x44e331?.['mediaMessage']?.[_0x4deed7(0x419)])throw new m(_0x4deed7(0x47e));if((0x0,ee[_0x4deed7(0x6b1)])(_0x44e331?.[_0x4deed7(0x4c3)]?.['media'])||(0x0,ee[_0x4deed7(0x6f9)])(_0x44e331?.[_0x4deed7(0x4c3)]?.[_0x4deed7(0x1c9)]))return await this[_0x4deed7(0x207)][_0x4deed7(0x741)][_0x57eda4][_0x4deed7(0x4c3)](_0x44e331);throw new m(_0x4deed7(0x635));}async['sendSticker']({instanceName:_0xb46f2a},_0x47964f){const _0x260c97=a0_0x29b3b7;if((0x0,ee[_0x260c97(0x6b1)])(_0x47964f['stickerMessage']['image'])||(0x0,ee['isBase64'])(_0x47964f['stickerMessage'][_0x260c97(0x2b9)]))return await this[_0x260c97(0x207)][_0x260c97(0x741)][_0xb46f2a][_0x260c97(0x7cd)](_0x47964f);throw new m(_0x260c97(0x635));}async[a0_0x29b3b7(0x2a8)]({instanceName:_0x15732c},_0x261def){const _0x19b8b1=a0_0x29b3b7;if((0x0,ee[_0x19b8b1(0x6b1)])(_0x261def[_0x19b8b1(0x6fe)][_0x19b8b1(0x609)])||(0x0,ee[_0x19b8b1(0x6f9)])(_0x261def[_0x19b8b1(0x6fe)]['audio']))return await this[_0x19b8b1(0x207)][_0x19b8b1(0x741)][_0x15732c][_0x19b8b1(0x79b)](_0x261def);throw new m(_0x19b8b1(0x635));}async[a0_0x29b3b7(0x55f)]({instanceName:_0x33b9a3},_0x303a2d){const _0x4668a1=a0_0x29b3b7;if((0x0,ee[_0x4668a1(0x6f9)])(_0x303a2d[_0x4668a1(0x3fc)][_0x4668a1(0x4c3)]?.[_0x4668a1(0x1c9)])&&!_0x303a2d[_0x4668a1(0x3fc)]['mediaMessage']?.[_0x4668a1(0x419)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x4668a1(0x207)][_0x4668a1(0x741)][_0x33b9a3][_0x4668a1(0x3fc)](_0x303a2d);}async[a0_0x29b3b7(0x3fa)]({instanceName:_0xffa993},_0x507cc9){const _0x421bbf=a0_0x29b3b7;return await this[_0x421bbf(0x207)][_0x421bbf(0x741)][_0xffa993][_0x421bbf(0x194)](_0x507cc9);}async[a0_0x29b3b7(0x40f)]({instanceName:_0x16a632},_0x4b2b65){const _0x5d4fe1=a0_0x29b3b7;return await this['waMonitor'][_0x5d4fe1(0x741)][_0x16a632][_0x5d4fe1(0x516)](_0x4b2b65);}async[a0_0x29b3b7(0xe9)]({instanceName:_0x55f30b},_0x13d007){const _0x21620b=a0_0x29b3b7;return await this['waMonitor']['waInstances'][_0x55f30b][_0x21620b(0x79d)](_0x13d007);}async[a0_0x29b3b7(0x4a5)]({instanceName:_0x72fa59},_0x439af9){const _0x4e3ec6=a0_0x29b3b7;return await this[_0x4e3ec6(0x207)][_0x4e3ec6(0x741)][_0x72fa59][_0x4e3ec6(0x46a)](_0x439af9);}async[a0_0x29b3b7(0x1ac)]({instanceName:_0x29e0d2},_0x2cb015){const _0x3d440b=a0_0x29b3b7;if(!_0x2cb015[_0x3d440b(0x133)][_0x3d440b(0x375)][_0x3d440b(0x6b2)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x3d440b(0x25c));return await this[_0x3d440b(0x207)][_0x3d440b(0x741)][_0x29e0d2][_0x3d440b(0x133)](_0x2cb015);}async['sendStatus']({instanceName:_0x483fb3},_0x563b7d){const _0x34957e=a0_0x29b3b7;return await this['waMonitor'][_0x34957e(0x741)][_0x483fb3]['statusMessage'](_0x563b7d);}},xr=require(a0_0x29b3b7(0x26a)),ks=require(a0_0x29b3b7(0x430)),Ht=class c{constructor(_0x17e751,_0x9b8afd,_0x1717e0){const _0x4c3594=a0_0x29b3b7;this[_0x4c3594(0x667)]=_0x17e751,this['waMonitor']=_0x9b8afd,this[_0x4c3594(0x68f)]=_0x1717e0,this[_0x4c3594(0x1be)]=new R(c[_0x4c3594(0x438)]);}async[a0_0x29b3b7(0x437)](_0x489031){const _0x45d763=a0_0x29b3b7;let _0x26408d=this[_0x45d763(0x667)]['get']('AUTHENTICATION')[_0x45d763(0x1d1)],_0x1779a6=(0x0,xr['sign'])({'instanceName':_0x489031[_0x45d763(0x770)],'apiName':Ze,'tokenId':(0x0,ks['v4'])()},_0x26408d[_0x45d763(0x7cf)],{'expiresIn':_0x26408d[_0x45d763(0x1b8)],'encoding':_0x45d763(0x13f),'subject':_0x45d763(0x4db)}),_0x2f622c=await this['repository']['auth']['create']({'jwt':_0x1779a6},_0x489031[_0x45d763(0x770)]);if(_0x2f622c[_0x45d763(0x60d)])throw this[_0x45d763(0x1be)][_0x45d763(0x60d)]({'localError':c[_0x45d763(0x438)]+'.jwt','error':_0x2f622c['error']}),new m(_0x45d763(0x5b7),_0x2f622c[_0x45d763(0x60d)]?.[_0x45d763(0x4a2)]());return{'jwt':_0x1779a6};}async[a0_0x29b3b7(0x54e)](_0x33ab6e){const _0x30557=a0_0x29b3b7;let _0x59ae74=(0x0,ks['v4'])()[_0x30557(0x393)](),_0x1d8f13=await this[_0x30557(0x68f)]['auth'][_0x30557(0x262)]({'apikey':_0x59ae74},_0x33ab6e[_0x30557(0x770)]);if(_0x1d8f13[_0x30557(0x60d)])throw this[_0x30557(0x1be)]['error']({'localError':c[_0x30557(0x438)]+_0x30557(0x231),'error':_0x1d8f13[_0x30557(0x60d)]}),new m(_0x30557(0x5b7),_0x1d8f13[_0x30557(0x60d)]?.[_0x30557(0x4a2)]());return{'apikey':_0x59ae74};}async[a0_0x29b3b7(0x431)](_0x5191f5){const _0x41b6b7=a0_0x29b3b7;let _0x458be5=this[_0x41b6b7(0x667)][_0x41b6b7(0x1a1)](_0x41b6b7(0x786));return await this[_0x458be5[_0x41b6b7(0x56b)]](_0x5191f5);}},Kt=class{constructor(_0xaf8926){this['waMonitor']=_0xaf8926;}async[a0_0x29b3b7(0x13b)](_0x3306a5,_0xeb60e2){const _0x3467ca=a0_0x29b3b7;return await this[_0x3467ca(0x207)]['waInstances'][_0x3306a5[_0x3467ca(0x770)]][_0x3467ca(0x13b)](_0xeb60e2);}async[a0_0x29b3b7(0x5c8)](_0x332441,_0x4691a4){const _0x4b288d=a0_0x29b3b7;return await this[_0x4b288d(0x207)]['waInstances'][_0x332441[_0x4b288d(0x770)]][_0x4b288d(0x5c8)](_0x4691a4);}async[a0_0x29b3b7(0x7b4)](_0xa8694b,_0x3ea107){const _0x5e00da=a0_0x29b3b7;return await this['waMonitor'][_0x5e00da(0x741)][_0xa8694b[_0x5e00da(0x770)]][_0x5e00da(0x7b4)](_0x3ea107);}async[a0_0x29b3b7(0x25a)](_0x19067f,_0x3fb1b6){const _0x1108ce=a0_0x29b3b7;return await this[_0x1108ce(0x207)]['waInstances'][_0x19067f['instanceName']][_0x1108ce(0x25a)](_0x3fb1b6);}async[a0_0x29b3b7(0x22a)](_0x9399ad,_0x3870ac){const _0x152697=a0_0x29b3b7;return await this[_0x152697(0x207)]['waInstances'][_0x9399ad['instanceName']]['groupBetterSetting'](_0x3870ac);}async[a0_0x29b3b7(0x6b4)](_0x2387a8,_0x1e0067){const _0x9f6a15=a0_0x29b3b7;return await this[_0x9f6a15(0x207)]['waInstances'][_0x2387a8[_0x9f6a15(0x770)]][_0x9f6a15(0x6b4)](_0x1e0067);}async[a0_0x29b3b7(0x504)](_0x56b38e,_0xf5fbd){const _0x39ec5b=a0_0x29b3b7;return await this['waMonitor'][_0x39ec5b(0x741)][_0x56b38e['instanceName']]['findGroup'](_0xf5fbd);}async[a0_0x29b3b7(0x734)](_0x33b450){const _0x32bf36=a0_0x29b3b7;return await this[_0x32bf36(0x207)][_0x32bf36(0x741)][_0x33b450[_0x32bf36(0x770)]]['findGroups']();}async[a0_0x29b3b7(0x448)](_0x5ae852,_0x46b25c){const _0x371eee=a0_0x29b3b7;return await this[_0x371eee(0x207)]['waInstances'][_0x5ae852[_0x371eee(0x770)]][_0x371eee(0x448)](_0x46b25c);}async[a0_0x29b3b7(0x1b0)](_0x3c1674,_0x5e44e2){const _0x51df79=a0_0x29b3b7;return await this['waMonitor'][_0x51df79(0x741)][_0x3c1674[_0x51df79(0x770)]][_0x51df79(0x1b0)](_0x5e44e2);}async[a0_0x29b3b7(0x59c)](_0x3aa97a,_0x2f4480){const _0x22b52b=a0_0x29b3b7;return await this[_0x22b52b(0x207)][_0x22b52b(0x741)][_0x3aa97a[_0x22b52b(0x770)]][_0x22b52b(0x59c)](_0x2f4480);}async[a0_0x29b3b7(0x2db)](_0x4b8d31,_0x13da00){const _0xbe4ad0=a0_0x29b3b7;return await this[_0xbe4ad0(0x207)][_0xbe4ad0(0x741)][_0x4b8d31['instanceName']]['revokeInviteCode'](_0x13da00);}async[a0_0x29b3b7(0x273)](_0x144a3a,_0x5586c8){const _0x5408ae=a0_0x29b3b7;return await this['waMonitor'][_0x5408ae(0x741)][_0x144a3a['instanceName']][_0x5408ae(0x273)](_0x5586c8);}async[a0_0x29b3b7(0x706)](_0x4a8c30,_0x188bbc){const _0x5d790c=a0_0x29b3b7;return await this[_0x5d790c(0x207)]['waInstances'][_0x4a8c30['instanceName']][_0x5d790c(0x5f6)](_0x188bbc);}async['toggleEphemeral'](_0x50e129,_0x31221b){const _0x241765=a0_0x29b3b7;return await this['waMonitor'][_0x241765(0x741)][_0x50e129[_0x241765(0x770)]][_0x241765(0x152)](_0x31221b);}async[a0_0x29b3b7(0x292)](_0x1928ef,_0x3d841d){const _0x5966af=a0_0x29b3b7;return await this[_0x5966af(0x207)]['waInstances'][_0x1928ef[_0x5966af(0x770)]][_0x5966af(0x292)](_0x3d841d);}},Qt=class{constructor(_0x1ae1d3){const _0x1e063d=a0_0x29b3b7;this[_0x1e063d(0x207)]=_0x1ae1d3;}[a0_0x29b3b7(0x262)](_0x510b95,_0x4b8aa0){const _0xbb0b2b=a0_0x29b3b7;return this['waMonitor'][_0xbb0b2b(0x741)][_0x510b95['instanceName']][_0xbb0b2b(0x217)](_0x4b8aa0);}async[a0_0x29b3b7(0x61d)](_0x5d9c14){const _0x387535=a0_0x29b3b7;try{return await this[_0x387535(0x207)][_0x387535(0x741)][_0x5d9c14[_0x387535(0x770)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Sp=new R(a0_0x29b3b7(0x531)),Yt=class{constructor(_0x4003af){const _0x2ff8b8=a0_0x29b3b7;this[_0x2ff8b8(0x207)]=_0x4003af;}async[a0_0x29b3b7(0x368)](_0x3db379,_0x4b2846){const _0x55246d=a0_0x29b3b7;return await this[_0x55246d(0x207)][_0x55246d(0x741)][_0x3db379[_0x55246d(0x770)]]['editScheduleMessage'](_0x4b2846);}async['getScheduleMessage'](_0x3a1d69){const _0x1f36ac=a0_0x29b3b7;return await this[_0x1f36ac(0x207)][_0x1f36ac(0x741)][_0x3a1d69[_0x1f36ac(0x770)]][_0x1f36ac(0x7a7)]();}async['deleteDoneMessages'](_0x4fe8fe){const _0x199422=a0_0x29b3b7;return await this['waMonitor'][_0x199422(0x741)][_0x4fe8fe['instanceName']]['deleteDoneMessages']();}async[a0_0x29b3b7(0x315)](_0x14ea8c){const _0x10eb72=a0_0x29b3b7;return await this[_0x10eb72(0x207)][_0x10eb72(0x741)][_0x14ea8c[_0x10eb72(0x770)]][_0x10eb72(0x315)]();}async[a0_0x29b3b7(0x56e)](_0x4c8038,_0x16b752){const _0x3dc877=a0_0x29b3b7;return await this[_0x3dc877(0x207)][_0x3dc877(0x741)][_0x4c8038[_0x3dc877(0x770)]][_0x3dc877(0x56e)](_0x16b752);}async[a0_0x29b3b7(0x468)](_0xcceddd,_0x3ea56e){const _0x44a2b2=a0_0x29b3b7;return await this[_0x44a2b2(0x207)][_0x44a2b2(0x741)][_0xcceddd[_0x44a2b2(0x770)]][_0x44a2b2(0x468)](_0x3ea56e);}async[a0_0x29b3b7(0x68e)](_0x4135ba,_0x5a0927){const _0x12d2a3=a0_0x29b3b7;return await this[_0x12d2a3(0x207)][_0x12d2a3(0x741)][_0x4135ba[_0x12d2a3(0x770)]][_0x12d2a3(0x68e)](_0x5a0927);}async['updateFlowConfig'](_0xd7212d,_0xd217ab){const _0x26aebc=a0_0x29b3b7;return await this[_0x26aebc(0x207)][_0x26aebc(0x741)][_0xd7212d[_0x26aebc(0x770)]]['updateFlowConfig'](_0xd217ab);}async[a0_0x29b3b7(0x1a9)](_0x482f38,_0x5ba9c5){const _0x6bed0f=a0_0x29b3b7;return await this[_0x6bed0f(0x207)]['waInstances'][_0x482f38[_0x6bed0f(0x770)]][_0x6bed0f(0x1a9)](_0x5ba9c5);}async[a0_0x29b3b7(0x657)](_0x562695,_0x3f6a44){const _0x41e966=a0_0x29b3b7;return await this[_0x41e966(0x207)]['waInstances'][_0x562695['instanceName']][_0x41e966(0x657)](_0x3f6a44);}async[a0_0x29b3b7(0x3ea)](_0xbafb75,_0x5539f4){const _0x26a775=a0_0x29b3b7;return await this[_0x26a775(0x207)][_0x26a775(0x741)][_0xbafb75['instanceName']]['fetchConversation'](_0x5539f4);}async[a0_0x29b3b7(0x3c4)](_0x1f9aa0,_0x2e5d05){const _0x4025a6=a0_0x29b3b7;return await this[_0x4025a6(0x207)]['waInstances'][_0x1f9aa0[_0x4025a6(0x770)]][_0x4025a6(0x3c4)](_0x2e5d05);}async[a0_0x29b3b7(0x528)](_0x121427,_0x42e984){const _0x4191ad=a0_0x29b3b7;return await this[_0x4191ad(0x207)][_0x4191ad(0x741)][_0x121427[_0x4191ad(0x770)]][_0x4191ad(0x528)](_0x42e984);}async[a0_0x29b3b7(0x158)](_0x510863,_0x39f9fe){const _0x35dc3a=a0_0x29b3b7;return await this[_0x35dc3a(0x207)][_0x35dc3a(0x741)][_0x510863[_0x35dc3a(0x770)]][_0x35dc3a(0x158)](_0x39f9fe[_0x35dc3a(0x438)]);}async[a0_0x29b3b7(0x647)](_0x31cc25,_0x2a5167){const _0x3ab941=a0_0x29b3b7;return await this[_0x3ab941(0x207)][_0x3ab941(0x741)][_0x31cc25[_0x3ab941(0x770)]]['createFlow'](_0x2a5167);}async[a0_0x29b3b7(0x3f5)](_0x532ea3,_0x359649){const _0x5164b1=a0_0x29b3b7;return await this[_0x5164b1(0x207)][_0x5164b1(0x741)][_0x532ea3[_0x5164b1(0x770)]][_0x5164b1(0x3f5)](_0x359649);}async['editFlowBlock'](_0x4d27c8,_0x5a3cf9){const _0xe5e49e=a0_0x29b3b7;return await this['waMonitor'][_0xe5e49e(0x741)][_0x4d27c8[_0xe5e49e(0x770)]]['editFlowBlock'](_0x5a3cf9);}async[a0_0x29b3b7(0x7ac)](_0x54bb49,_0x364e33){const _0x386e7c=a0_0x29b3b7;return await this['waMonitor'][_0x386e7c(0x741)][_0x54bb49[_0x386e7c(0x770)]][_0x386e7c(0x7ac)](_0x364e33);}async[a0_0x29b3b7(0x17e)](_0x37565c,_0x8b76d0){const _0x5ad2de=a0_0x29b3b7;return await this['waMonitor'][_0x5ad2de(0x741)][_0x37565c['instanceName']]['editFlowGroup'](_0x8b76d0);}async[a0_0x29b3b7(0x514)](_0x3db24a,_0x16ed99){const _0x472623=a0_0x29b3b7;return await this['waMonitor'][_0x472623(0x741)][_0x3db24a[_0x472623(0x770)]]['editFlowCondition'](_0x16ed99);}async[a0_0x29b3b7(0x274)](_0x1c73ba,_0x1367c8){const _0x342fec=a0_0x29b3b7;return await this[_0x342fec(0x207)][_0x342fec(0x741)][_0x1c73ba[_0x342fec(0x770)]][_0x342fec(0x274)](_0x1367c8);}async[a0_0x29b3b7(0x1bb)](_0x4faf6a,_0x9165e9){const _0x354beb=a0_0x29b3b7;return await this[_0x354beb(0x207)][_0x354beb(0x741)][_0x4faf6a[_0x354beb(0x770)]][_0x354beb(0x1bb)](_0x9165e9);}async['deleteFlow'](_0x352965,_0x1e59a){const _0x2b1f1a=a0_0x29b3b7;return await this['waMonitor'][_0x2b1f1a(0x741)][_0x352965['instanceName']][_0x2b1f1a(0x51a)](_0x1e59a['name']);}async[a0_0x29b3b7(0x615)](_0x4bdabb){const _0x2551c7=a0_0x29b3b7;return await this['waMonitor'][_0x2551c7(0x741)][_0x4bdabb[_0x2551c7(0x770)]]['allFlows']();}},Xt=class{constructor(_0x2cfe86){const _0x153f19=a0_0x29b3b7;this[_0x153f19(0x7c5)]=_0x2cfe86;}async[a0_0x29b3b7(0x486)](_0x235667,_0xbea8c1){const _0xa7791e=a0_0x29b3b7;return this['webhookService'][_0xa7791e(0x262)](_0x235667,_0xbea8c1);}async[a0_0x29b3b7(0x6d8)](_0x5acfe7){const _0x27942e=a0_0x29b3b7;return this[_0x27942e(0x7c5)]['find'](_0x5acfe7);}},Zt=class extends x{constructor(_0x3bf176,_0x478a51){const _0x41829c=a0_0x29b3b7;super(_0x478a51),this['webhookModel']=_0x3bf176,this[_0x41829c(0x667)]=_0x478a51;}async['create'](_0xc7eeef,_0x574129){const _0x123368=a0_0x29b3b7;try{return this['dbSettings'][_0x123368(0x238)]?{'insertCount':(await this['webhookModel'][_0x123368(0x674)]({'_id':_0x574129},{..._0xc7eeef},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x59422a){return _0x59422a;}}async['delete'](_0x2ccedc){const _0x3edc8c=a0_0x29b3b7;try{if(this[_0x3edc8c(0x748)][_0x3edc8c(0x238)]){await this[_0x3edc8c(0x6fb)]['deleteOne']({'_id':_0x2ccedc});return;}}catch(_0x53f913){return{'error':_0x53f913};}}async[a0_0x29b3b7(0x61d)](_0x511d06){const _0x3813de=a0_0x29b3b7;try{if(this[_0x3813de(0x748)][_0x3813de(0x238)])return await this[_0x3813de(0x6fb)][_0x3813de(0x3b0)]({'_id':_0x511d06});}catch{return{};}}},es=class extends x{constructor(_0x1db83f,_0x2acf86){const _0x3f2a9c=a0_0x29b3b7;super(_0x2acf86),this[_0x3f2a9c(0x41a)]=_0x1db83f,this[_0x3f2a9c(0x667)]=_0x2acf86,this['auth']=_0x2acf86['get'](_0x3f2a9c(0x786));}async[a0_0x29b3b7(0x262)](_0x28381e,_0x40cf20){const _0x61c13e=a0_0x29b3b7;try{if(this['dbSettings']['ENABLED'])return{'insertCount':(await this[_0x61c13e(0x41a)]['updateOne']({'_id':_0x40cf20},{'$set':{..._0x28381e}},{'upsert':!0x0}))[_0x61c13e(0x1f7)]};}catch(_0x50374d){return{'error':_0x50374d};}}async['updateAll'](_0x1fa769,_0x5e4341){const _0x26085c=a0_0x29b3b7;try{if(this['dbSettings'][_0x26085c(0x238)])return{'insertCount':(await this[_0x26085c(0x41a)][_0x26085c(0x398)](_0x1fa769,{'$set':_0x5e4341},{'upsert':!0x1}))[_0x26085c(0x1f7)]};throw new Error(_0x26085c(0x50c));}catch(_0x347b61){return{'error':_0x347b61};}}async[a0_0x29b3b7(0x4cb)](_0x11de87){const _0x352743=a0_0x29b3b7;try{if(this[_0x352743(0x748)][_0x352743(0x238)])return{'insertCount':(await this['authModel'][_0x352743(0x4cb)](_0x11de87))[_0x352743(0x187)]};throw new Error(_0x352743(0x50c));}catch(_0x633d9f){return{'error':_0x633d9f};}}async['delete'](_0x1516c4){const _0x5f4e20=a0_0x29b3b7;try{if(this[_0x5f4e20(0x748)]['ENABLED']){await this[_0x5f4e20(0x41a)][_0x5f4e20(0x75d)]({'_id':_0x1516c4});return;}}catch(_0x348ed0){return{'error':_0x348ed0};}}async[a0_0x29b3b7(0x61d)](_0x497f80){const _0x3fa7d0=a0_0x29b3b7;try{if(this[_0x3fa7d0(0x748)][_0x3fa7d0(0x238)])return await this[_0x3fa7d0(0x41a)][_0x3fa7d0(0x3b0)]({'_id':_0x497f80});}catch{return{};}}async[a0_0x29b3b7(0x1dd)](){const _0x3a3ebd=a0_0x29b3b7;try{if(this['dbSettings'][_0x3a3ebd(0x238)])return await this[_0x3a3ebd(0x41a)][_0x3a3ebd(0x61d)]();}catch{return[];}}},ts=class extends x{[a0_0x29b3b7(0x1f6)](_0x2179bb){return ga(_0x2179bb);}async['copyDataToNewModel'](_0x1c3f72){const _0x2fb19b=a0_0x29b3b7;try{let _0x2e8c3f=ma,_0x253098=this[_0x2fb19b(0x1f6)](_0x1c3f72),_0x2dbb9d=await _0x2e8c3f[_0x2fb19b(0x61d)]({'owner':_0x1c3f72})[_0x2fb19b(0x363)](),_0x1f8786=[],_0x761e22=[];for(let _0x13f296 of _0x2dbb9d)await _0x253098['findById'](_0x13f296['_id'])['lean']()||(_0x1f8786[_0x2fb19b(0x343)](_0x13f296),_0x761e22[_0x2fb19b(0x343)](_0x13f296[_0x2fb19b(0x6a7)]));return _0x1f8786[_0x2fb19b(0x761)]>0x0&&await _0x253098[_0x2fb19b(0x29b)](_0x1f8786,{'ordered':!0x1}),{'success':!0x0};}catch(_0x1ed86b){return console['error'](_0x2fb19b(0x387),_0x1ed86b),{'success':!0x1,'error':_0x1ed86b};}}async[a0_0x29b3b7(0x5a1)](_0x25dd12,_0x4197db){const _0x35ce2b=a0_0x29b3b7;try{let _0x1609d9=this[_0x35ce2b(0x1f6)](_0x4197db),_0x258e11=A(_0x25dd12[_0x35ce2b(0x414)]);return{'deletedCount':(await _0x1609d9['deleteMany'](_0x258e11))[_0x35ce2b(0x187)]};}catch(_0x146eca){return{'error':_0x146eca?.[_0x35ce2b(0x4a2)]()};}}async[a0_0x29b3b7(0x75d)](_0x26a319,_0x2aeefd){const _0x50de52=a0_0x29b3b7;try{let _0x242749=this[_0x50de52(0x1f6)](_0x2aeefd),_0x103955=A(_0x26a319[_0x50de52(0x414)]);return{'deletedCount':(await _0x242749[_0x50de52(0x75d)](_0x103955))['deletedCount']};}catch(_0x585a9c){return{'error':_0x585a9c?.[_0x50de52(0x4a2)]()};}}async['replaceOne'](_0x46370f,_0x4da535,_0x34339e){const _0x481549=a0_0x29b3b7;try{let _0x46bc5f=await this[_0x481549(0x1f6)](_0x34339e)[_0x481549(0x6e1)](_0x46370f,_0x4da535,{'overwrite':!0x0,'new':!0x0});return _0x46bc5f||(console[_0x481549(0x60d)](_0x481549(0x71f),_0x46370f),null);}catch(_0x12e140){return console[_0x481549(0x60d)](_0x481549(0x18f),_0x12e140),null;}}async[a0_0x29b3b7(0x7be)](_0x3bea71,_0x497833,_0x1962a1){const _0x3eda07=a0_0x29b3b7;try{let _0x47b30e=await this['getFlowModelForOwner'](_0x1962a1)['findById'](_0x3bea71);return _0x47b30e?(Object[_0x3eda07(0x411)](_0x47b30e,_0x497833),await _0x47b30e[_0x3eda07(0x62e)]()):(console[_0x3eda07(0x60d)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x3bea71),null);}catch(_0x607539){return console[_0x3eda07(0x60d)](_0x3eda07(0x18f),_0x607539),null;}}async['updateMissingShareOwners'](_0x4770e2){const _0x58a483=a0_0x29b3b7;try{let _0x26e548=this[_0x58a483(0x1f6)](_0x4770e2),_0x4b87ba={'shareOwners':{'$exists':!0x1}},_0x36c162={'$set':{'shareOwners':[]}};return(await _0x26e548[_0x58a483(0x398)](_0x4b87ba,_0x36c162))[_0x58a483(0x1f7)];}catch(_0x245aa8){return console[_0x58a483(0x60d)](_0x245aa8),0x0;}}async[a0_0x29b3b7(0x115)](_0x5b3e26,_0x4f0967){const _0x4bcd47=a0_0x29b3b7;try{let _0x4cc5d7=this[_0x4bcd47(0x1f6)](_0x4f0967);return await new _0x4cc5d7(_0x5b3e26)['save']();}catch(_0x31c786){return console[_0x4bcd47(0x60d)](_0x4bcd47(0x78b),_0x31c786),null;}}async[a0_0x29b3b7(0x398)](_0x525cf3,_0x232ecd,_0x551cfa){const _0x3ba1a3=a0_0x29b3b7;try{return{'modifiedCount':(await this['getFlowModelForOwner'](_0x551cfa)[_0x3ba1a3(0x398)](_0x525cf3,{'$set':_0x232ecd}))['modifiedCount']};}catch(_0x1bdb0a){return console[_0x3ba1a3(0x60d)](_0x3ba1a3(0x7aa),_0x1bdb0a),{'error':_0x1bdb0a};}}async['findAll'](_0x197af5,_0x15a9c7){const _0x24a90d=a0_0x29b3b7;try{let _0x339dff=this[_0x24a90d(0x1f6)](_0x15a9c7),_0x21baed=A(_0x197af5[_0x24a90d(0x414)]);return await _0x339dff[_0x24a90d(0x61d)](_0x21baed)['limit'](_0x197af5?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x29b3b7(0x3b0)](_0x4e0579,_0x39e7e4){const _0x2636b4=a0_0x29b3b7;try{let _0x2b7850=this['getFlowModelForOwner'](_0x39e7e4),_0x44ae8a=A(_0x4e0579['where']);return await _0x2b7850[_0x2636b4(0x3b0)](_0x44ae8a)[_0x2636b4(0x363)]();}catch{return null;}}async[a0_0x29b3b7(0x1bf)](_0x5d8ca2){const _0x565a1e=a0_0x29b3b7;try{return await this[_0x565a1e(0x1f6)](_0x5d8ca2)[_0x565a1e(0x6eb)]['drop'](),{'success':!0x0};}catch(_0xd87aa9){return console[_0x565a1e(0x60d)](_0xd87aa9),{'success':!0x1,'error':_0xd87aa9};}}},ss=class extends x{[a0_0x29b3b7(0x7b2)](_0x309120){return wa(_0x309120);}async[a0_0x29b3b7(0x141)](_0x5dbf72){const _0x288be5=a0_0x29b3b7;try{let _0x570c1b=ya,_0x1e1acd=this[_0x288be5(0x7b2)](_0x5dbf72),_0x14e13c=await _0x570c1b[_0x288be5(0x61d)]({'owner':_0x5dbf72})[_0x288be5(0x363)](),_0x298f88=[],_0x387323=[];for(let _0x2add00 of _0x14e13c)await _0x1e1acd[_0x288be5(0x1e4)](_0x2add00['_id'])[_0x288be5(0x363)]()||(_0x298f88[_0x288be5(0x343)](_0x2add00),_0x387323[_0x288be5(0x343)](_0x2add00[_0x288be5(0x6a7)]));return _0x298f88[_0x288be5(0x761)]>0x0&&await _0x1e1acd[_0x288be5(0x29b)](_0x298f88,{'ordered':!0x1}),{'success':!0x0};}catch(_0x3694fe){return console['error'](_0x288be5(0x387),_0x3694fe),{'success':!0x1,'error':_0x3694fe};}}async[a0_0x29b3b7(0x34e)](_0x539890){const _0x4ebdf8=a0_0x29b3b7;if(_0x539890[_0x4ebdf8(0x761)]!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x539890[0x0][_0x4ebdf8(0x328)])['insertMany']([..._0x539890]))[_0x4ebdf8(0x761)]};}catch(_0x5c1c28){return _0x5c1c28;}}async[a0_0x29b3b7(0x5a1)](_0x5b2894,_0x51d0bf){const _0x555f4f=a0_0x29b3b7;try{let _0x47e9c4=this['getConversationModelForOwner'](_0x51d0bf),_0x134b54=A(_0x5b2894['where']);return{'deletedCount':(await _0x47e9c4[_0x555f4f(0x4cb)](_0x134b54))[_0x555f4f(0x187)]};}catch(_0x5d6301){return{'error':_0x5d6301?.['toString']()};}}async[a0_0x29b3b7(0x75d)](_0x5eb41d,_0x11a4e4){const _0x301d93=a0_0x29b3b7;try{let _0x169459=this[_0x301d93(0x7b2)](_0x11a4e4),_0x4af65c=A(_0x5eb41d[_0x301d93(0x414)]);return{'deletedCount':(await _0x169459[_0x301d93(0x75d)](_0x4af65c))[_0x301d93(0x187)]};}catch(_0x4822c4){return{'error':_0x4822c4?.[_0x301d93(0x4a2)]()};}}async[a0_0x29b3b7(0x5ca)](_0x27a306,_0x2e9907){const _0x543e55=a0_0x29b3b7;try{if(_0x27a306[_0x543e55(0x761)]===0x0)return;let _0x4ddb57=this[_0x543e55(0x7b2)](_0x2e9907),_0xa2a805=_0x27a306['map'](_0x1d8466=>({'updateOne':{'filter':{'name':_0x1d8466[_0x543e55(0x438)],'owner':_0x2e9907},'update':{..._0x1d8466}}})),{modifiedCount:_0x4f647e}=await _0x4ddb57['bulkWrite'](_0xa2a805);return{'insertCount':_0x4f647e};}catch{return;}}async[a0_0x29b3b7(0x398)](_0x5bb07b,_0x222774,_0x481c5a){const _0xdb4bfc=a0_0x29b3b7;try{return{'modifiedCount':(await this[_0xdb4bfc(0x7b2)](_0x481c5a)[_0xdb4bfc(0x398)](_0x5bb07b,{'$set':_0x222774}))[_0xdb4bfc(0x1f7)]};}catch(_0x2f64e2){return console['error'](_0xdb4bfc(0x34b),_0x2f64e2),{'error':_0x2f64e2};}}async['updateOne'](_0x15556d,_0x56a447,_0x51da5a){const _0x3d128b=a0_0x29b3b7;try{return await this['getConversationModelForOwner'](_0x51da5a)['findOneAndUpdate']({'_id':_0x15556d},{'$set':_0x56a447},{'new':!0x0,'upsert':!0x0})[_0x3d128b(0x363)]();}catch(_0x586867){return console[_0x3d128b(0x60d)](_0x586867),null;}}async[a0_0x29b3b7(0x61d)](_0x536d7e,_0x4bba77){const _0x1fa8df=a0_0x29b3b7;try{return await this[_0x1fa8df(0x7b2)](_0x4bba77)[_0x1fa8df(0x61d)](_0x536d7e)[_0x1fa8df(0x4d3)]({'lastInteraction':-0x1})[_0x1fa8df(0x363)]();}catch{return[];}}async[a0_0x29b3b7(0x3b0)](_0x5563fc,_0x235b1d){const _0xdd55cf=a0_0x29b3b7;try{return await this['getConversationModelForOwner'](_0x235b1d)[_0xdd55cf(0x3b0)]({..._0x5563fc[_0xdd55cf(0x414)]})[_0xdd55cf(0x363)]();}catch{return null;}}async[a0_0x29b3b7(0x1bf)](_0x59a17c){const _0x41340d=a0_0x29b3b7;try{return await this[_0x41340d(0x7b2)](_0x59a17c)[_0x41340d(0x6eb)][_0x41340d(0x1ba)](),{'success':!0x0};}catch(_0x4d860b){return console['error'](_0x4d860b),{'success':!0x1,'error':_0x4d860b};}}},as=class extends x{['getScheduleMessageModelForOwner'](_0x2dfa24){return Sa(_0x2dfa24);}async[a0_0x29b3b7(0x141)](_0x5e3a67){const _0x58fa44=a0_0x29b3b7;try{let _0xe8491e=Ma,_0x59deac=this['getScheduleMessageModelForOwner'](_0x5e3a67),_0x86ffd9=await _0xe8491e[_0x58fa44(0x61d)]({'owner':_0x5e3a67})[_0x58fa44(0x363)](),_0x1a62b=[],_0x4ee893=[];for(let _0x50bd6b of _0x86ffd9)await _0x59deac[_0x58fa44(0x1e4)](_0x50bd6b[_0x58fa44(0x6a7)])[_0x58fa44(0x363)]()||(_0x1a62b[_0x58fa44(0x343)](_0x50bd6b),_0x4ee893[_0x58fa44(0x343)](_0x50bd6b['_id']));return _0x1a62b[_0x58fa44(0x761)]>0x0&&await _0x59deac[_0x58fa44(0x29b)](_0x1a62b,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4aca65){return console['error']('Erro\x20ao\x20copiar\x20dados:',_0x4aca65),{'success':!0x1,'error':_0x4aca65};}}async['createAndSave'](_0x5398cf,_0x4cae4a){const _0x14d27d=a0_0x29b3b7;try{let _0x18724c=this[_0x14d27d(0x720)](_0x4cae4a);return await new _0x18724c(_0x5398cf)[_0x14d27d(0x62e)]();}catch(_0x96b4ee){return console[_0x14d27d(0x60d)](_0x14d27d(0x78b),_0x96b4ee),null;}}async[a0_0x29b3b7(0x75d)](_0xc0342b,_0x5374a9){const _0x524e32=a0_0x29b3b7;try{return await this[_0x524e32(0x720)](_0x5374a9)[_0x524e32(0x1a2)](_0xc0342b),{};}catch(_0x3ef09b){return{'error':_0x3ef09b?.[_0x524e32(0x4a2)]()};}}async[a0_0x29b3b7(0x7be)](_0x58158c,_0x3cf5be,_0x24a6d0){const _0x48cc57=a0_0x29b3b7;try{return await this[_0x48cc57(0x720)](_0x24a6d0)[_0x48cc57(0x153)](_0x58158c,{'$set':_0x3cf5be},{'new':!0x0})['lean']();}catch(_0xdfa697){return console[_0x48cc57(0x60d)](_0x48cc57(0x526),_0xdfa697),null;}}async[a0_0x29b3b7(0x19b)](_0x162366,_0x464594,_0x304d8c){const _0x37354d=a0_0x29b3b7;try{return await this[_0x37354d(0x720)](_0x304d8c)[_0x37354d(0x6e1)](_0x162366,_0x464594,{'new':!0x0})[_0x37354d(0x363)]();}catch(_0x1e4bd7){return console['error'](_0x37354d(0x526),_0x1e4bd7),null;}}async['find'](_0x4b6d8f,_0x3e3f77){const _0x288dc7=a0_0x29b3b7;try{return await this[_0x288dc7(0x720)](_0x3e3f77)[_0x288dc7(0x61d)](_0x4b6d8f[_0x288dc7(0x414)])[_0x288dc7(0x3c9)](_0x4b6d8f?.['limit']??0x0)[_0x288dc7(0x4d3)]({'when':0x1})['lean']();}catch{return[];}}async[a0_0x29b3b7(0x3b0)](_0x50bd26,_0x5c0fea){const _0x5498da=a0_0x29b3b7;try{return await this[_0x5498da(0x720)](_0x5c0fea)[_0x5498da(0x3b0)](_0x50bd26[_0x5498da(0x414)])[_0x5498da(0x4d3)]({'when':0x1})[_0x5498da(0x363)]();}catch{return null;}}async[a0_0x29b3b7(0x1e4)](_0x196a64,_0x5bb1f9){const _0x13a83c=a0_0x29b3b7;try{return await this[_0x13a83c(0x720)](_0x5bb1f9)['findById'](_0x196a64)[_0x13a83c(0x363)]();}catch{return null;}}async[a0_0x29b3b7(0x4cb)](_0x4a0b44,_0x2a772e){const _0x23b1c0=a0_0x29b3b7;try{return{'deletedCount':(await this[_0x23b1c0(0x720)](_0x2a772e)[_0x23b1c0(0x4cb)](_0x4a0b44))[_0x23b1c0(0x187)]};}catch(_0x3d0b67){return console[_0x23b1c0(0x60d)](_0x23b1c0(0x126),_0x3d0b67),{'error':_0x3d0b67};}}async['deleteAll'](_0x355cd1){const _0x28000b=a0_0x29b3b7;try{return await this['getScheduleMessageModelForOwner'](_0x355cd1)['collection'][_0x28000b(0x1ba)](),{'success':!0x0};}catch(_0x2df0fd){return console['error'](_0x2df0fd),{'success':!0x1,'error':_0x2df0fd};}}},rs=class extends x{async[a0_0x29b3b7(0x5ca)](_0x180ebb,_0x5d6151){const _0x1110ad=a0_0x29b3b7;try{if(this[_0x1110ad(0x748)][_0x1110ad(0x238)]){let _0x3880b9=await Ce[_0x1110ad(0x153)]({'_id':_0x5d6151},{'$set':_0x180ebb},{'new':!0x0});return console[_0x1110ad(0x6bf)](_0x1110ad(0x335),_0x3880b9),_0x3880b9;}}catch(_0x467012){throw console['error'](_0x1110ad(0x128),_0x467012),_0x467012;}}async[a0_0x29b3b7(0x5e1)](_0x5e51f6){const _0x424f2e=a0_0x29b3b7;try{let _0x4d19a2=await Ce['findById'](_0x5e51f6);return _0x4d19a2||(_0x4d19a2=new Ce({'_id':_0x5e51f6,'autoCompleteMessages':[]}),await _0x4d19a2[_0x424f2e(0x62e)]()),_0x4d19a2;}catch(_0x55c765){return console[_0x424f2e(0x60d)](_0x424f2e(0x5e9),_0x55c765),null;}}async[a0_0x29b3b7(0x398)](_0x923ee1,_0x3bbf6f){const _0x4d965b=a0_0x29b3b7;try{if(this[_0x4d965b(0x748)][_0x4d965b(0x238)]){let _0x80ec30=await Ce[_0x4d965b(0x398)](_0x923ee1,{'$set':_0x3bbf6f})[_0x4d965b(0x51f)]();return console[_0x4d965b(0x6bf)]('Resultado\x20da\x20atualização\x20em\x20massa:',_0x80ec30),{'changes':_0x80ec30[_0x4d965b(0x1f7)]};}return{'changes':0x0};}catch(_0xfc2a91){throw console[_0x4d965b(0x60d)](_0x4d965b(0x45d),_0xfc2a91),_0xfc2a91;}}},xi=new R('WA\x20MODULE'),Di=new Ve(b),_i=new qt(b),Pi=new st(b),ki=new Vt(ta,b),ji=new Zt(ca,b),Li=new es(ia,b),Fi=new ts(b),Ji=new Gt(b),Ui=new ss(b),qi=new as(b),Vi=new rs(b),ue=new Ue(Di,_i,Pi,ki,ji,Li,Fi,Ui,Ji,qi,Vi,T?.[a0_0x29b3b7(0x412)]()),G=new Ut(us,b,ue),Gi=new Ht(b,G,ue),Bi=new Qt(G),Es=new Xt(Bi),$=new Yt(G),ne=new Wt(G,b,ue,us,Gi),B=new zt(G),_=new Bt(G),q=new Kt(G);xi[a0_0x29b3b7(0x299)](a0_0x29b3b7(0xf5));var jh=require(a0_0x29b3b7(0x775)),js=require('fs'),Dr=O(require('https')),_r=O(require(a0_0x29b3b7(0x696))),$e=class c{static #e;static set['app'](_0x57ecf3){this.#e=_0x57ecf3;}static get[a0_0x29b3b7(0x269)](){const _0x5da9aa=a0_0x29b3b7;let {FULLCHAIN:_0x1278e6,PRIVKEY:_0x8707c1}=b[_0x5da9aa(0x1a1)](_0x5da9aa(0x2d5));return Dr['createServer']({'cert':(0x0,js[_0x5da9aa(0x513)])(_0x1278e6),'key':(0x0,js[_0x5da9aa(0x513)])(_0x8707c1)},c.#e);}static get[a0_0x29b3b7(0x696)](){const _0x3a5752=a0_0x29b3b7;return _r[_0x3a5752(0x1c1)](c.#e);}},pe=O(require('fs')),Jr=O(require('ini')),Ie=O(require(a0_0x29b3b7(0x2c1))),De=O(require(a0_0x29b3b7(0x21d))),_e=require(a0_0x29b3b7(0x3f8));function Wi(){const _0x36d691=a0_0x29b3b7;G[_0x36d691(0x21f)]();let _0x5b50e7=De[_0x36d691(0x282)][_0x36d691(0x452)](__dirname,_0x36d691(0x3a8));Fr(_0x5b50e7);}var Fr=_0x3096be=>{const _0x376112=a0_0x29b3b7;let _0x1f5cc5=pe[_0x376112(0x282)][_0x376112(0x624)](_0x3096be),_0x5def45=0xc*0x3c*0x3c*0x3e8,_0x187cc3=0x2*0x3c*0x3c*0x3e8,_0x33338c=new Date()[_0x376112(0x3e0)]();_0x1f5cc5[_0x376112(0x693)](_0x58d65c=>{const _0x20366f=_0x376112;let _0x374c19=De[_0x20366f(0x282)][_0x20366f(0x452)](_0x3096be,_0x58d65c),_0x2a054f=pe[_0x20366f(0x282)][_0x20366f(0x622)](_0x374c19)[_0x20366f(0x559)]['getTime']();_0x33338c-_0x2a054f>_0x5def45&&(pe[_0x20366f(0x282)][_0x20366f(0x76a)](_0x374c19),console[_0x20366f(0x6bf)](_0x20366f(0x33d)+_0x58d65c));}),setTimeout(()=>Fr(_0x3096be),_0x187cc3);};function zi(){const _0x227a1d=a0_0x29b3b7;let _0xa9815b=new R('SERVER'),_0x3457bd=(0x0,he[_0x227a1d(0x282)])();_0x3457bd[_0x227a1d(0x717)]((0x0,Lr[_0x227a1d(0x282)])({'origin'(_0x493a1e,_0x37f7a6){const _0x402c6f=_0x227a1d;let {ORIGIN:_0x69e254}=b[_0x402c6f(0x1a1)](_0x402c6f(0x5c5));return _0x493a1e||(_0x493a1e='*'),_0x69e254[_0x402c6f(0x670)]('*')!==-0x1||_0x69e254[_0x402c6f(0x670)](_0x493a1e)!==-0x1?_0x37f7a6(null,!0x0):_0x37f7a6(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x227a1d(0x1a1)](_0x227a1d(0x5c5))['METHODS']],'credentials':b['get']('CORS')[_0x227a1d(0x44a)]}),(0x0,he[_0x227a1d(0x715)])({'extended':!0x0,'limit':'50mb'}),(0x0,he[_0x227a1d(0x797)])({'limit':'50mb'})),_0x3457bd[_0x227a1d(0x717)]((_0x16bc01,_0x3f989a,_0x3ac7cf)=>{const _0xdda518=_0x227a1d;_0x16bc01[_0xdda518(0x21d)][_0xdda518(0x7bb)]('/events')?_0x3ac7cf():(0x0,jr[_0xdda518(0x282)])()(_0x16bc01,_0x3f989a,_0x3ac7cf);}),_0x3457bd[_0x227a1d(0x597)](_0x227a1d(0x4f5),_0x227a1d(0x267)),_0x3457bd[_0x227a1d(0x597)](_0x227a1d(0x49b),(0x0,Fs[_0x227a1d(0x452)])(oe,_0x227a1d(0x49b))),_0x3457bd['use'](he[_0x227a1d(0x282)]['static']((0x0,Fs[_0x227a1d(0x452)])(oe,_0x227a1d(0x258)))),_0x3457bd[_0x227a1d(0x717)]((_0x194c12,_0x113414,_0x52816a)=>{const _0x42194e=_0x227a1d;let _0x2a278f=_0x113414[_0x42194e(0x70c)];_0x113414['send']=function(_0x41320e){const _0x1bb1be=_0x42194e;if(_0x194c12[_0x1bb1be(0x685)][_0x1bb1be(0x143)]===_0x1bb1be(0x32a)||_0x194c12[_0x1bb1be(0x164)][_0x1bb1be(0x11e)]===_0x1bb1be(0x32a)){let _0x281aab=JSON['parse'](_0x41320e);_0x41320e=JSON['stringify'](_0x5a2bae(_0x281aab));}return _0x2a278f['apply'](_0x113414,[_0x41320e]);},_0x52816a();}),_0x3457bd[_0x227a1d(0x717)]('/',$t),_0x3457bd[_0x227a1d(0x717)]((_0x3e6f96,_0x4cddba,_0xed3a91,_0x415069)=>{const _0x2d3d9a=_0x227a1d;if(_0x3e6f96)return _0xed3a91[_0x2d3d9a(0x59d)](_0x3e6f96[_0x2d3d9a(0x59d)]||0x1f4)[_0x2d3d9a(0x797)](_0x3e6f96);},(_0x1a3761,_0xb8359a,_0x4f24ff)=>{const _0x159356=_0x227a1d;let {method:_0x13abf3,url:_0x5a5593}=_0x1a3761;_0xb8359a[_0x159356(0x59d)](0x194)[_0x159356(0x797)]({'status':0x194,'message':_0x159356(0x47d)+_0x13abf3[_0x159356(0x393)]()+'\x20'+_0x5a5593,'error':_0x159356(0x1d2)}),_0x4f24ff();});let _0x5a2bae=(_0x253ff3,_0xf0ab16=_0x227a1d(0x724))=>{const _0x34a1f1=_0x227a1d;let _0x2315fe=(_0x1df336,_0x11c946=null,_0x3b5d7f=!0x1)=>{const _0x247c32=a0_0x1da8;let _0x2f7814={};return Object[_0x247c32(0x37a)](_0x1df336)['forEach'](_0x1be824=>{const _0x48ac23=_0x247c32;let _0xa70937=_0x1df336[_0x1be824],_0x23a571=''+_0xf0ab16+_0x1be824;_0x11c946&&!_0x3b5d7f&&(_0x23a571=_0x11c946+'.'+_0x1be824),!_0xa70937&&_0xa70937!==0x0&&_0xa70937!==!0x1||typeof _0xa70937>'u'?_0x2f7814[_0x23a571]=null:typeof _0xa70937!=_0x48ac23(0x320)&&!Array['isArray'](_0xa70937)?_0x2f7814[_0x23a571]=_0xa70937:typeof _0xa70937==_0x48ac23(0x320)&&!Array[_0x48ac23(0x4b7)](_0xa70937)?_0x2f7814=Object[_0x48ac23(0x411)](_0x2f7814,_0x2315fe(_0xa70937,_0x23a571)):Array[_0x48ac23(0x4b7)](_0xa70937)&&(typeof _0xa70937[0x0]==_0x48ac23(0x320)?(_0x2f7814[_0x23a571]=[],_0xa70937[_0x48ac23(0x693)](_0x4946af=>{const _0x3d3586=_0x48ac23;_0x2f7814[_0x23a571][_0x3d3586(0x343)](_0x2315fe(_0x4946af,_0x23a571,!0x0));})):_0x2f7814[_0x23a571]=_0xa70937);}),_0x2f7814;};return Array[_0x34a1f1(0x4b7)](_0x253ff3)?_0x253ff3['map'](_0x34ffb3=>_0x2315fe(_0x34ffb3)):typeof _0x253ff3==_0x34a1f1(0x320)&&_0x253ff3!==null?_0x2315fe(_0x253ff3):{};},_0x43ebf3=b[_0x227a1d(0x1a1)]('SERVER');$e[_0x227a1d(0x60f)]=_0x3457bd;let _0x47d379=$e[_0x43ebf3[_0x227a1d(0x56b)]],_0x29d2fa=_0x227a1d(0x67e);_0x47d379[_0x227a1d(0x603)](_0x43ebf3['PORT'],()=>{const _0xc578fe=_0x227a1d;_0xa9815b[_0xc578fe(0x6bf)](_0x29d2fa),_0xa9815b['log'](_0x43ebf3[_0xc578fe(0x56b)]['toUpperCase']()+_0xc578fe(0x470)+_0x43ebf3[_0xc578fe(0x645)]);}),Wi(),Ks();}function a0_0x2c4f(){const _0x5c6a49=['jpegThumbnail','throwAndLogError','last_update','collection','condition','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','entries','groupRevokeInvite','inner','flowStopConversation','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','deleteReplyOption','):\x20Current\x20Time:\x20','mediaKey','):\x20Flow\x20desativado','rm\x20-rf\x20','getContentType','isBase64','changeVariables','webhookModel','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','displayName','audioMessage','1098sWTcOl','exports','):\x20Criando\x20fluxo\x20regular...','.fileUrl','when','createConnection','existsSync','updateGParticipate','API\x20Key\x20from\x20Request:','deleteBlock','ListType','enviado\x20para','AUTHENTICATION_API_KEY','send','processing_id','ephemeralDuration','fetchLabels','stateConnection','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','load','activatedCount','Erro\x20ao\x20buscar\x20a\x20conversa','urlencoded','getBase64FromMediaMessage','use','chats.upsert','superadmin','sendMedia',',\x20qrcodeCount:\x20','method','longitude','editflowreply','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','getScheduleMessageModelForOwner','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','CONNECTION_UPDATE','menuExpiredMessage','_p_','binary','documentWithCaptionMessage','PREFIX_KEY','):\x20Criando\x20fluxo\x20compartilhado...','createSharedFlow','PENDING','DATABASE_CONNECTION_DB_PREFIX_NAME','_FlowHistorico','msgRetryCounterCache','CONTACTS_UPSERT','NextBlock','Comando\x20desconhecido','dropCollection','Delete\x20chat\x20in\x20client\x20for\x20number:\x20','editedMessage','findGroups','addBlock','\x20e\x20ID=','awaitingApproval','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','updateProfilePicturePrivacy','updateStatusPrivacy','flowname:\x20','prepareWAMessageMedia','Safari','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','):\x20Campos\x20a\x20serem\x20atualizados:','validate','waInstances','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','Missing\x20global\x20api\x20key','pushName','EMAIL','copyBlock','authState','dbSettings','findGroupInfos',',\x20Segundo\x20Valor:\x20','atendimentoAberto','pino','extractMessageContent','updateChatWithMessage','Instance\x20deleted','convertaudio','contacts.upsert','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','ContactModel','slice','audio/ogg','fileLength','sticker','stopWhenYouSendMsg','request\x20received\x20in\x20editFlowvariable','.error','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','updateStopChat','deleteOne','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','padEnd','addReplyOption','length','readMessage','leadInfo.desativadoFluxoAte','menuIgnoreNonVotes','moreLogs','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','address','Error\x20occurred\x20while\x20archiving\x20chat:\x20','cleanStore','unlinkSync','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','QRCODE_UPDATED','generate','request\x20received\x20in\x20deleteDoneMessages','message_normalized','instanceName','$dbName','HttpsProxyAgent','):\x20updateResult:','getChatModelForOwner','express-async-errors','_ScheduleMessages','request\x20received\x20in\x20editFlowgroup','CacheContacts\x20database\x20connection\x20closed.','fetchInstances','blockId','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','participant','Primeiro\x20Valor:\x20','group-participants.update:','PRODUCT_LIST','message','no-cache','host','pollCreationMessageV2','uazapiDeleteMessage','_Contacts','AUTHENTICATION','integer','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','privacySettings','56FQhfRm','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','Last\x20message\x20not\x20found\x20for\x20number:','\x20horas\x20e\x20','CHATS_SET','createNewConversation','Removidas\x20as\x20variáveis:\x20','picture','Reinicialização\x20iniciada:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','\x1b[0m','\x0aFN:','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','json','https://github.com/uazapi/uazapi.git','processawaitSeconds','documentMessage','audioWhatsapp','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','listMessage','.webp','phoneNumber','groups.update','verbose','/clients-info','URL:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','setHeader','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','getScheduleMessage','promote','deleteImportedChat','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:',',\x20saindo.','editFlowReply','errors','selectableCount','flowIgnoreGroups','Parando\x20aplicação,\x20atualização\x20recebida','Close\x20connection','getConversationModelForOwner','/wa-groups','groupDesc','updateProfilePicture','unhandledRejection','groupUpdateSubject','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','maxActives','PROXY','startsWith','chats.set','defineAuthState','updateOne','fetchProfilePicture','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','config','):\x20Buscando\x20todos\x20os\x20fluxos...','mediatype','webhookService','getRandomText','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','request_method','auth','fullName','removeData','variables','mediaSticker','port','SECRET','URI','subjectTime','ConversationModel','mentions','Tentando\x20reconectar...','wuid','desativadoFluxoAte','sendList','editChat','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','messages','\x1b[33m%s\x1b[0m','createHash','pairingCode','The\x20property\x20cannot\x20be\x20empty','chat','):\x20teve\x20mudanças\x20chat.archived:\x20','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','findAndReplace','Module\x20-\x20ON','):\x20Usando\x20extensão\x20padrão:\x20','optionDescription','rowId','option','):\x20this.processing_id:\x20','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','groupHandler','*\x0a\x0a','stringify','all_member_add','INFO','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','max','values','groups','testProxy','caption','getMessage','updateReplyOption','fetchBusinessProfile','close','textMessage','subjectOwner','email','scheduleSendAudio','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',',\x20canSendMessage:\x20','ButtonsMessage','.pdf','/instance','Operador:\x20\x22','createAndSave','groups.upsert','@ffmpeg-installer/ffmpeg','):\x20Fluxos\x20não\x20estão\x20ativados','messagesSend','temp-','GUARD','put','minutesToClose','uazapi','chats.delete','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','header','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','notMatchRegex','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','readData','Erro\x20ao\x20deletar\x20mensagens:','):\x20Query\x20params:','Erro\x20ao\x20atualizar\x20AutomateSystem:','Image\x20is\x20url','_fromMe','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','from','SERVER','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','ex:\x20\x22groupJid=120362@g.us\x22','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','DATABASE_ENABLED','request\x20received\x20in\x20createFlow','reactionMessage','removeInstance','console','menuMessage','contacts','):\x20Enviando\x20mídia','):\x20customFieldVariables','description','createGroup','imgUrl','utf-8','decryptPollVote','utf8','start','copyDataToNewModel','\x20-\x20retornado:\x20','convert','):\x20Enviando\x20enquete','segundos','STORE_CONTACTS','API\x20Key\x20inválida.','getflow','execSync','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','request\x20received\x20in\x20updateAgent','findIndex','cwd','demote','Audio\x20processed','messaging-history.set','@newsletter','toggleEphemeral','findOneAndUpdate','redisEnv','SSL_CONF_PRIVKEY','MAX_RECONNECT_ATTEMPTS','Error\x20in\x20scheduleNextCheck:\x20','getFlow','\x1b[33m\x1b[1m','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','remove.instance','Archiving\x20chat','desc','getHours','contact','.ppt','webhookMap','string','FlowModel','headers','/instance/create','last',',\x20resultado:\x20','closeExistingConversations','scheduleMessages','chats.update','notEmpty','bodyStringErrorParse','group','updateMessage','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','@g.us','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','lastCondition',',\x20Novo\x20tamanho:\x20','):\x20mediaMessageInfoId\x20:\x20','):\x20Ignoring\x20group\x20messages.','):\x20Procurando\x20mensagens\x20para\x20envio','delaySecMin','/media/','some','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','Pausado\x20por\x20','groupId','):\x20Erro\x20durante\x20a\x20atualização:\x20','editFlowGroup','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','\x20:\x20','item','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','Erro\x20ao\x20encerrar\x20a\x20API','}}\x20->\x20valor\x20não\x20encontrado','chatId','truncatedtoEnd','deletedCount','restartInstance','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','webhook','):\x20Alterando\x20fluxo...','storePath','\x1b[36m%s\x1b[0m','Erro\x20ao\x20atualizar\x20o\x20fluxo:','markMessageAsRead','\x1b[31m%s\x1b[0m','stopMinutesMaxActives','):\x20Deletando\x20fluxo...','locationMessage','insertCount','paused','stopMinutes','unavailable','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','updateOneById','filter','footerText','repeat',',\x20isAdmin:\x20','leadInfo','get','findByIdAndDelete','lowerCase','HOST','loadEnv','STORE_MESSAGE','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','floor','startFlow','instanceName\x20not\x20provided.','notify','sendReaction','eventHandler','loadWebhook','writeData','joinGroup','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','createConversationforStartFlow','.extension','\x20minutos\x20verificará\x20novas\x20mensagens','presenceSubscribe','events','blockLogs','EXPIRIN_IN','DATABASE_CONNECTION_URI','drop','editFlowVariable','profile','Error\x20finding\x20many\x20contacts:','logger','deleteAll','*Pergunta*:\x20\x0a','createServer','deleteMessageForEveryone','newStoppedUntil','Erro\x20ao\x20remover\x20instâncias\x20antigas:','removed','labels.edit','\x1b[47m','):\x20tem\x20blocks','media','isJidBroadcast','RECONNECT_TIME_FRAME','Erro\x20ao\x20remover\x20label\x20','participants','.wav','Selecione','groupParticipantsUpdate','JWT','Not\x20Found','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','authentication','including\x20timestamp\x20in\x20url:\x20','digest','writeFileSync','/wa-all-message','AppStateSyncKeyData','Erro\x20ao\x20inserir\x20chats:','/wa-message-update','listType','findAll','code','imported','role','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','processblock','Sistema\x20atualizado\x20com\x20sucesso!','findById','):\x20','findAndUpdateCacheContact','/instance/delete','scheduleSendMedia','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','cacheContactModel','NO_IP','remoteJidsRemaining','hDel','process','express','labels.association','Instance\x20logged\x20out','URL','ON\x20-\x20dbName:\x20','Flow\x20não\x20encontrado','hex','getFlowModelForOwner','modifiedCount','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','output','writeFile','instance','lastBlockId','enabled','value','This\x20name\x20','title','https://jsonip.com','Image\x20created','basename','rows','Chat\x20com\x20ID\x20','processConditions','waMonitor','isBusiness','\x20segundos','logout','replacer','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','allflows','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','\x0a{\x20instance:\x20','originalUrl','):\x20atualização\x20chat:\x20','ERROR','readFile','addChatLabel','buffer','connecting','setWebhook','tags','g.us','ScheduleMessageModel','REDIS_PREFIX_KEY','$pull','path','URL\x20limpa:\x20','loadInstance','Converting\x20image\x20to\x20WebP\x20to\x20sticker','sendMessageWithTyping','getMIMEType','canSendMessage','\x20-i\x20','fetchContacts','spawn','\x22\x20not\x20found','pollCreationMessageKey','#9ba6ff','groupBetterSetting','apirequest','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','prepareMediaMessage','mimetype','Type\x20is\x20required','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','.jwt','.type','varedits','CONTACTS_SET','./.git/config','isListOfNumbers','):\x20Enviando\x20áudio','ENABLED','Getting\x20image\x20from\x20url','TEXT','Deletion\x20failed','\x20not\x20found,\x20retrying\x20in\x20','scheduleNextCheck','BRL','):\x20conversation.lastInteraction:\x20','request\x20received\x20in\x20getConversation','scheduleMessage','compression','gifPlayback','connectionState','fromMe','licenca','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','replaceVariablesChat','descOwner','unknown\x20operation\x20type\x20[','DD/MM\x20HH:mm:ss','emit','Internal\x20Server\x20Error','isConnected','fromObject','findContacts','response','waitingMenu_id','model','processgoToFlow','isJidGroup','Erro\x20ao\x20sincronizar\x20fluxos:\x20','public','VERBOSE','groupName','CHATS_UPDATE','\x22reaction\x22\x20must\x20be\x20an\x20emoji','#01d0e2','bodyString','createRegularFlow','stopConversation','chatModify','create','type','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','updatePresence','archive','hbs','envProcess','https','jsonwebtoken','fetchProfile','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','messageTimestamp','<subdomain>','reviver','replyOptions','statusJidList','Grupo\x20','findParticipants','editFlowVaredit','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','password','editflowcondition','\x20contacts','options','write','sendSticker','Erro\x20ao\x20buscar\x20conversas','authService','groupCreate','\x20inseridos\x20no\x20banco\x20de\x20dados...','):\x20Deletando\x20conversa...','LOG','default','.TEL;waid=','Font\x20is\x20required','Output\x20path:\x20','remove','/create','Label\x20','composing','Instância:\x20','augusto.fcs@gmail.com','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','deleteDoneMessages','ListMessage','END:VCARD','connectionClosed','notas','leaveGroup','Rótulo\x20deletado:','charAt',',\x20valor\x20a\x20encontrar:\x20\x22','state','userDevicesCache','applyvaredit','info','readMessages','insertMany','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','allContacts','):\x20Enviando\x20texto','groupMemberAddMode','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','formatStatusMessage','imageMessage','extractRegex','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','urlOrBase64','sendWhatsAppAudio','Certbot\x20executado\x20com\x20sucesso.','greater','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','Erro\x20ao\x20atualizar\x20conversa:\x20','File\x20written\x20to\x20path:\x20','dbClient','redirect','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','prototype','):\x20Bloco\x20com\x20ID\x20','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','lastReceivedMessage','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','lastDisconnect','Erro\x20ao\x20copiar\x20o\x20documento','random','image','proto','formatBRNumber','flushHeaders','bateu\x20events','js-yaml','replaceValue','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','axios','@broadcast','varedit','website','sending','http://ipecho.net/plain','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','\x20attempts.','groupadd','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','editflowvaredit','groupJoinApprovalMode','Chat\x20','reconnectTimestamps','Variáveis\x20não\x20encontradas:','findChats','status@broadcast','groupInviteCode','flow','instanceInfo','SSL_CONF','\x22\x20-\x20NOT\x20CONNECTION',':\x20IP\x20funcionando!','currency','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','reorderReplyOptions','revokeInviteCode','qrcode.updated','Erro\x20ao\x20buscar\x20o\x20fluxo','):\x20Editando\x20bloco...','):\x20Edit\x20schedule\x20message...','processPollUpdateMessage','debug','node-cache','#ffffff','SINGLE_SELECT','editflowvariable','inviteCodeDetails','FlattenObject\x20result:','):\x20Criou\x20conversa\x20no\x20startFlow:','stopIfLastReturnedError','WARN','data','contacts.update','protocol','?authSource=admin&readPreference=primary&directConnection=true','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','initAuthCreds','Erro\x20ao\x20tentar\x20autoCompleteMessages','request\x20received\x20in\x20deleteConversation','WebhookGlobal','mongodb://','ChatModel','collections','sharePass','Group\x20not\x20found','ReplyOption\x20com\x20ID\x20','customFields','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','GROUP_PARTICIPANTS_UPDATE','\x1b[32m%s\x1b[0m','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','descId','params','\x20Tentativa\x20de\x20reconexão\x20','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','parseInt','Error\x20writing\x20file:\x20','findConversation','getProfileName','secondValue','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','):\x20conversation.waitingMenu_name','\x1b[42m','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','.png','ContactsAndGroups','Background\x20color\x20is\x20required','sectionsToString','quoted','_Flows','array','cacheContact','COLOR','getAutomateSystem','saveTextReply','processUazapi','updatePrivacySettings','^\x5cd+','):\x20alterando\x20this.AutomateSystem','\x20adicionado\x20ao\x20chat\x20','\x20}\x0a','jid','contentText','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','object','localWebhook','request\x20received\x20in\x20editFlow','\x1b[37m','updateConversation','endsWith','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message','STORE_CLEANING_TERMINAL','owner','messages.upsert','true','synchronizeFlows','Rótulo\x20atualizado:','Audio\x20converted\x20and\x20stored\x20in\x20cache','dataValidate','https-proxy-agent','reject','AUTHENTICATION_JWT_SECRET','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','):\x20Enviando\x20contato','Resultado\x20da\x20atualização:','/chat','available','muteEndTime','subdomain','deleteInstance','Instância\x20não\x20encontrada.','#000000','Deleted\x20','presence.update','poll','/config','context','AUTHENTICATION_JWT_EXPIRIN_IN','push','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','createConversationforgoToFlow','substring','cachedContacts-whatsapp','keep-alive','flattenObject','123144VWZhiJ','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','format','user','insert','-whatsapp-api','uncaughtException','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','requestPairingCode','.ogg','Erro\x20ao\x20criar\x20fluxo\x20regular','split','):\x20[messages.upsert]\x20group\x20ignored','all','updateFlowConfig','less','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','pollUpdateMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','round','@whiskeysockets/baileys','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','):\x20não\x20encontrou','dbConnection','):\x20Bloco\x20original\x20para\x20cópia:\x20','lean','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','createJid','readreceipts','qrcode-terminal','editScheduleMessage','creation','verifyWhatsAppNumber','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','://','\x20não\x20encontrado\x20para\x20cópia','inviteUrl','messageHandle','video','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','client','#56ccb4','Erro\x20ao\x20deletar\x20a\x20conversa','reaction','block','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','Validate','upsertedCount','keys','207310qTPSzK','Rótulo\x20inválido\x20ou\x20sem\x20ID.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','messageId','Erro\x20ao\x20editar\x20o\x20chat','MESSAGES_UPDATE','pt-BR','/instance/fetchInstances','sendDataWebhook','delay','.X-ABLabel:Celular\x0a','presence','Erro\x20ao\x20copiar\x20dados:','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','\x20-y','groupToggleEphemeral','uazapiSendText','leadInfo.etiquetas','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','padStart','has','setContext','isRunning','cachedData-whatsapp','toUpperCase','getOwnPropertyDescriptor','Início','Failed\x20to\x20find\x20chat\x20','sendCommand','updateMany','parse','flowName','senderKeyDistributionMessage','waitingMenu_text','dark','):\x20newFirstValue\x20após\x20replaceVariables:','):\x20Não\x20achou\x20nenhum\x20flow','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','\x20quoted:\x20','waitingMenu_ExpiredMessage','headerString','groupSettingUpdate','base64','findAndReplaceRegex','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','downloads','2rYpLoD','groups.upsert:','Not\x20is\x20business\x20profile','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','readMessageBot','Erro\x20ao\x20atualizar\x20o\x20flow.',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','findOne','replace','everyOne','ids','restrict','nomecompleto','setNewValue','namespace','updateMissingCustomFields','Erro\x20ao\x20importar\x20chats','\x1b[1m','eventEmitter','env.KEY\x20!==\x20key','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','@s.whatsapp.net','notEqual','router','newValue','updateProfileName','pollOnReplyDelete','editConversation','buttons','Error\x20updating\x20cache\x20contact:','fetchProfilePictureUrl','getTicketSystem','limit','https://','reconnectAttempts','joinApprovalMode','env','conversation','editflowgroup','MessageModel','updateLastSeenPrivacy','processclearVariables','groupValidate','next_groupId','add','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','out','viewOnceMessage','valid','request\x20received\x20in\x20fetchConversation','request_time','Não\x20respondeu\x20com\x20a\x20enquete.','Schema','verify','instances','getTime','lastSendMessage','#ffc5c7','choices','test','toArray','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20Error\x20processing\x20conditions:\x20','\x1b[41m','errorLog','fetchConversation','getVariablesChat','call','Erro\x20ao\x20alterar\x20fluxo','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','verifiedName','Fluxos\x20não\x20estão\x20ativados','cpf','username','Valor\x20de\x20find\x20ou\x20replace\x20ausente','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','editFlow','getDelay','toBRL','child_process','data:\x20','sendLocation','#fe9dfe','buttonMessage','#9ab6c1','statusMessage','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','waitingForReplyMenu','sendText','getLastMessage','Erro\x20ao\x20buscar\x20Schedule\x20Messages','text/event-stream','.mp3','saveChatVariables',',\x20pairCode:\x20','All_Instances_Config','defineProperty','Subscribed\x20Events:','/*.json','dbServer','map','request\x20received\x20in\x20editFlowcondition','sendPoll','USER','assign','getClient','getMessageModelForOwner','where','scheduleSendText','DB_PREFIX_NAME','/exit','store','fileName','authModel','Router','unlocked','getBusinessProfile','approve','setRestartTimeout','exit','FULLCHAIN','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','delayMessage','ObjectId','detail','interval\x20não\x20é\x20um\x20número','EMAIL:','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','src',',\x20Resultado:\x20','app-state-sync-key','not_announcement','LOG_COLOR','\x5cd+','uuid','generateHash','Erro\x20inesperado\x20em\x20processvaredits:\x20','\x20chats\x20de\x20','lastSend','groups.update:','\x20minutos.\x20Será\x20às\x20','jwt','name','176478sTleFH','1540077fBMFRm','SSL_CONF_FULLCHAIN','The\x20instance\x20needs\x20to\x20be\x20disconnected','DATABASE','updateGroupWebhook','sleep','audio/ogg;\x20codecs=opus','deleteChat','/wa-connection-update','\x1b[44m','open','etiquetas','saveConversationToDatabase','83871EtBLti','inviteCode','#d3a91f','CREDENTIALS','Message','getContactModelForOwner','fone','firstValue','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','MESSAGES_UPSERT','\x1b[46m','join','uazapiSendMenu','removeUnusedChatFields','messages.set','saveMediaToFile','expiration','OrAnd','static','deleteMessage','flowConversation','pollErrorMessage','Erro\x20ao\x20atualizar\x20múltiplos\x20AutomateSystem:','/group','routerPath','AutomateSystem','The\x20','replyOption','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',',\x20Expiration\x20Time:\x20','\x1b[1m\x1b[37m','/webhook','removeProfilePicture','updateCustomFields','isInteger','contactMessage','Conexão\x20estabelecida','none','folder','ORG:','sendStatus','\x20-\x20ON:\x20','conditions','/wa-chats','flowConfig','Types','DATABASE_CONNECTION_USER','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','replaceVariablesLogs','Telefone:\x20','!cmd_','warn','-instances','updateMissingTags','Cannot\x20','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','delAll','PRIVKEY','font','Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:','enumerable','toNumber','ScheduleMessage','createWebhook','number','#ff9484','Connection\x20closed\x20for\x20instance:\x20','request\x20received\x20in\x20starFlow','statusCode','ReplyOptions\x20finais\x20após\x20reordenação:','DATABASE_CONNECTION_PASSWORD','oldValue','http://ip-api.com/json','connectToWhatsappController','encoding','../env.yml','bearer','Erro\x20de\x20atualização:\x20','updateParticipant','url','/wa-presence','\x22\x20cannot\x20be\x20empty','CHATS_DELETE','and','views','buttonId','getLabelModelForOwner','HeaderType','updateMissingShareOwners','count','creds','toString','processvaredits','REDIS_URI','sendContact','flowPrefixCommand','lastMessage','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','labelId','updateChatGroupData','\x20não\x20encontrado','vote','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','https://api.openai.com/v1/audio/speech','):\x20Visualizando\x20AutomateSystem','remoteJid','\x20com\x20sucesso.','groupFetchAllParticipating','unreadCount','cleaningUp','https://chat.whatsapp.com/','toDataURL','isArray','dbInstance','connectedClient','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','matchRegex','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','#f64847','--standalone','Invalid\x20format','\x20minutos','Mensagem\x20não\x20suportada','sendMenu','mediaMessage','arrayUnique','flush','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','profilePicture','\x20não\x20encontrado\x20para\x20atualização.','Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert','KEY','deleteMany','.mimetype','joinGroupValidate','lastUpdate','saveCreds','toLowerCase','label_jid','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','sort','class-validator','\x20removido\x20do\x20chat\x20','normalizeMessageContent','loggedOut','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','silent','g-t','author','messageStubType','importChatsAntigo','API_KEY','connection.update','leadInfo.','announce','processApiRequest','Error\x20in\x20chatModify\x20for\x20number\x20','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','toFile','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','requestFile','shift','\x20is\x20already\x20in\x20use.','ultimaTentativaRemoteJid','GET','removeOlderDisconnectedInstances','local_map','pollCreationMessage','InstancesAlterarTodas','checkAndRestartProcess','replaceVariablesInReplyOptions','LOG_LEVEL','DATABASE_CONNECTION_HOST','view\x20engine','expression','menuType','mongoose','realVariables','Trying\x20to\x20get\x20business\x20profile','delaySecMax','Instance\x20restarted','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','body','CORS_ORIGIN','agents','.ogv','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','evaluateConditionTest','findGroupInfo','lastInteraction','CONFIGURAÇÃO\x20GERAL:','profilePictureUrl','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','variable','Desconectado,\x20parando\x20execução.','Database\x20is\x20not\x20enabled','Type\x20defined\x20as\x20audio','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','scheduled','qrcode','contactHandle','readFileSync','editFlowCondition','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','pollMessage','Content-Type','PLAYED','Erro\x20ao\x20editar\x20agentes','deleteFlow','node-mime-types','MESSAGES_SET','resetReconnectionVariables','Bad\x20Request','exec','Forbidden','Error\x20in\x20converting\x20audio','DEBUG','cors','groupdata','fetchChats','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','convertToWebP','deleteConversation','.doc','unreadcount','goToFlow','importChatsBatch','.mp4','\x20mensagens\x20de\x20','pictureUrl','DELIVERY_ACK','FlowController','toLocaleString','listResponseMessage','fetchLatestBaileysVersion','/wa-contacts','\x1b[30m%s\x1b[0m','StartBot','lastFetchAwaitingApproval','makeCacheableSignalKeyStore','shutdown\x20-r\x20now','):\x20Comando\x20desconhecido:\x20','Error\x20removing\x20unused\x20chat\x20fields:','fetchStatus','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','isCommunity','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','ip:\x20','responsavelid','apiResponse','normalizeMessage','groupJid','replaceVariables','Conversa\x20deletada\x20com\x20sucesso.','organization','.gif','goNextblock','https://api.ipify.org?format=json','waitingMenu_replyOptions','apikey','CLEANING_INTERVAL','10KcAETj','_error','isJidUser','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20leadInfoVariables','^\x5cd+([-]\x5cd+)*@g.us$','):\x20expirationTime:\x20','?timestamp=','pollMessageOnDelete','birthtime','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','chatHandle','replaceVariablesInObject','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','sendButtons','Erro\x20ao\x20deletar\x20chat:','\x1b[37m%s\x1b[0m','\x1b[43m','convertaudioMP3','stderr','DELETED','/wa-message','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','updateBlock','SERVER_URL','fetchPrivacySettings','TYPE','ignoreGroups','latitude','updateAgent','protocolMessage','\x20instance\x20does\x20not\x20exist','BufferJSON','Message\x20not\x20found','reorderBlocks','Sending\x20audio\x20whatsapp','creds.json','):\x20Mensagem\x20já\x20enviada\x20para\x20','Mac\x20OS','buttonText','Falha\x20ao\x20processar\x20fetchBusinessProfile','online','contextInfo','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','profileName','instance.','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','whatsappNumber','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','_activatedCount','instanceKeys','updateGroupParticipantsWebhook','):\x20Buscando\x20conversa...','archiveChat','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','updateProfileStatus','mongodb','truncatedto','convertedOptions','):\x20Conversas\x20encontradas:','includes','messageType','post',',\x20lastCondition:\x20','loadproxy','admin','splice','PRESENCE_UPDATE','groupUpdateDescription','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','set','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','instanceCount','undefined','envYaml','groupGetInviteInfo','status','\x5c$&','importChats','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','delete','toBrazilianNumberFormat','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','Erro\x20ao\x20alterar\x20privacidade','Connection','Fluxo\x20não\x20encontrado','Cached\x20audio\x20found,\x20returning\x20existing\x20file','mentioned','):\x20newSecondValue\x20após\x20replaceVariables:','now','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','height','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','deleted',',\x20fará\x20nova\x20verificação\x20em\x20','Converted\x20image\x20deleted','STATUS_INSTANCE','.uazapi.dev','oldToken','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','eventemitter2','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','Authentication\x20error','redis://127.0.0.1:6379','contains','groupMetadata','https://api.openai.com/v1/images/generations','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','isLong','748296sueJkp','request\x20received\x20in\x20updateFlowConfig','.docx','waUploadToServer','hGetAll','arraybuffer','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','CORS','reference','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','updateGroupPicture','Last\x20message\x20not\x20found','update','leadInfo.customFields','REDIS','restart','timeout','LICENSE_INVALID','DisconnectReason','AutomateSystem\x20não\x20foi\x20inicializado','--agree-tos','findGroup','refused','getDevice','onTime','color','Error\x20while\x20deleting\x20message\x20for\x20everyone','GROUPS_UPDATE','fetchMessages','Bloco\x20com\x20ID\x20','updateReadReceiptsPrivacy','ephemeralExpiration','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','):\x20nextBlock.uazapi.name','):\x20Procurando\x20conversa','findOrCreate','isCommunityAnnounce','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','trimmed','action','DARK','linkPreview','notContains','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','SEND_MESSAGE','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','key','8080','Mensagens\x20deletadas\x20com\x20sucesso.','uazapiSendMedia','webp','isAdmin','The\x20global\x20api\x20key\x20must\x20be\x20set','uazapiSendAudio','empty','groupRequestParticipantsList','updateGParticipant','\x20do\x20chat\x20','/automate','order','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','Erro\x20de\x20reinicialização:\x20','):\x20Editando\x20edição\x20do\x20fluxo...','formatVCard','):\x20Editando\x20variável\x20do\x20fluxo...','\x22\x20-\x20REMOVED','stanzaId','cachedContact',':\x20IP\x20configurado:\x20','listen','upperCase','Erro\x20ao\x20aplicar\x20varedit:\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','subject','hasOwnProperty','audio','FlowRouter','no.connection','recording','error','not\x20loaded','app','vcard',',\x20valor\x20passado:\x20\x22','/:instanceName','clearVariables','\x1b[36m','allFlows','SERVER_PORT','exists','RemoveChatLabel','sections','_Chats','del','certonly','find','chats','archived','PASSWORD','AUTHENTICATION_TYPE','statSync','text','readdirSync','):\x20Flow\x20não\x20encontrado','):\x20[messages.update]\x20group\x20ignored','Error\x20fetching\x20and\x20updating\x20profile:\x20','http://checkip.dyndns.org','delayChatLabel_MAX_RETRIES','.webm','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','\x20minutos...','Log\x20out\x20instance:\x20','save','\x22,\x20valor\x20a\x20substituir:\x20\x22','\x20foi\x20interrompido\x20pelo\x20usuário.','updateMissingEtiquetas','pre','Button\x20IDs\x20cannot\x20be\x20repeated.','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','createSectionsFromValues','sendPresenceUpdate','command','numbers','Logger','#9568cf','Processing\x20audio','blocks','request\x20received\x20in\x20getFlow','sendAudio','connectionStatus','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','):\x20Limpando\x20delayMessage','sendMessage','PORT','Contacts\x20not\x20found','createFlow','.url','\x0a*Você\x20respondeu*:\x0a','getMinutes','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','memberAddMode','\x1b[34m','request\x20body:\x20','CONNECTION','\x1b[40m','crypto','error_log','content','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','stickerMessage','uazapiSendLocation','getConversation','36rlncBw',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','GROUPS_UPSERT','updateGroupsAddPrivacy','Falha\x20após\x20várias\x20tentativas.','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','created','connectionUpdate','#92ceac','getStatus','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','redis','long','CORS_METHODS','imagechat','configService','Error\x20parsing\x20JSON:','findManyByIds','Read\x20messages','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','createflow','):\x20Entrou\x20na\x20função\x20goToFlow','@redis/client','\x0aitem','indexOf','authorization','createInstance','Parando\x20aplicação...','replaceOne','http://myexternalip.com/raw','shareOwners','beforeExit','$set','status.instance','backgroundColor','endSession','):\x20debug\x20alterando\x20this.AutomateSystem','LEVEL','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','success','CORS_CREDENTIALS','):\x20isVote:\x20','Certbot:\x20','groups_ignore','AutomateFunctions','query','InstancesAsDisconnectedX','E-mail:\x20','.xlsx','setUpdate','):\x20delete\x20=\x20true','locked','SendScheduleMessage','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','updateAutoCompleteMessages','repository','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','stdout','saveVariable','forEach','#83e421','recebido\x20de','http','downloadMediaMessage','upsertChats','trim','delayChatLabel_RETRY_DELAY_MS','\x20de\x20conectar\x20com\x20IP\x20extra.','editOperator','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','#fed428','pop','chatLog','badSession','Instance\x20\x22','stopped','messages.update','connect','cache','_id','nome','qrCode','ms\x20(Attempt\x20','viewOnceMessageV2','label','):\x20Buscando\x20conversas...','CHATS_UPSERT','autoCompleteMessages','):\x20Buscando\x20flow...','isURL','match','document','groupSetting','):\x20Bloco\x20copiado:\x20','):\x20Entrou\x20na\x20função\x20clearVariables','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','findFlow','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','http://ifconfig.me/ip','release','boolean','selectedOptions','AddChatLabel','log','closed','):\x20Conversa\x20inserida\x20com\x20sucesso.','Falta\x20informação\x20para\x20a\x20chamada\x20API','groupLeave','capitalizedWords','/media','Nenhum\x20chat\x20encontrado\x20para\x20editar.','):\x20Enviando\x20localização','variablesNotFound','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','Business\x20profile\x20fetched','Image\x20path:\x20','READ','Temp\x20image\x20deleted','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','variablesToObject','conversationTimestamp','):\x20Entrou\x20na\x20função\x20processawaitSeconds','prefixCommand','CONTACTS_UPDATE','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','creds.update','__esModule','pollCreationMessageV3','findWebhook','contact_blacklist','\x20->\x20NÃO\x20CORRESPONDE.',',\x20Minutes\x20to\x20Close:\x20','):\x20lastBlockId:\x20','https://ipinfo.io/json','equal','connectToWhatsapp','StatusJidList\x20is\x20required','findByIdAndUpdate','setting','automateSystem','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',']\x20(','noConnection','size'];a0_0x2c4f=function(){return _0x5c6a49;};return a0_0x2c4f();}var Hi=a0_0x29b3b7(0x798),Ki=De['default'][a0_0x29b3b7(0x452)](__dirname,a0_0x29b3b7(0x235)),xe=null;function Qi(){return new Promise((_0x5cf8af,_0x3b2e25)=>{const _0x367648=a0_0x1da8;pe['default'][_0x367648(0x213)](Ki,'utf-8',(_0xbb86fd,_0x3ff2c)=>{const _0x1760dd=_0x367648;if(_0xbb86fd){xe=_0xbb86fd,_0x5cf8af();return;}Jr[_0x1760dd(0x282)][_0x1760dd(0x399)](_0x3ff2c)['remote\x20\x22origin\x22'][_0x1760dd(0x496)]===Hi?(xe=null,_0x5cf8af()):(xe=new Error(_0x1760dd(0x596)),_0x5cf8af());});});}async function Yi(){const _0x52a878=a0_0x29b3b7;try{await Qi(),await Js();}catch(_0x540d1f){console[_0x52a878(0x60d)](_0x52a878(0x79c)+_0x540d1f),process[_0x52a878(0x420)](0x1);}}Yi();async function Ur(){const _0x99831b=a0_0x29b3b7;let _0x35b909;try{_0x35b909=(await Ie[_0x99831b(0x282)]['get'](_0x99831b(0x201)))[_0x99831b(0x2eb)]['ip'];}catch(_0x1d9bb8){console[_0x99831b(0x60d)](_0x1d9bb8);try{_0x35b909=(await Ie[_0x99831b(0x282)][_0x99831b(0x1a1)]('https://api.ipify.org?format=json'))[_0x99831b(0x2eb)]['ip'];}catch(_0x26cbd9){console[_0x99831b(0x60d)](_0x26cbd9);try{_0x35b909=(await Ie[_0x99831b(0x282)][_0x99831b(0x1a1)](_0x99831b(0x628)))[_0x99831b(0x2eb)][_0x99831b(0x6b2)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x351260){return console[_0x99831b(0x60d)](_0x351260),!0x1;}}}return _0x35b909;}var Pr=0x0;async function Xi(){const _0xaf7420=a0_0x29b3b7;let _0x45cbef=await new ce(b[_0xaf7420(0x1a1)]('REDIS'))[_0xaf7420(0x583)]();return console[_0xaf7420(0x6bf)]('instancias:\x20',_0x45cbef['length']),_0x45cbef[_0xaf7420(0x761)];}function Zi(_0x4243df){const _0x552fcc=a0_0x29b3b7;let _0x27bc41=_0x4243df[_0x552fcc(0x1a1)](_0x552fcc(0x12d))['URL'],_0x2aaf14=_0x4243df[_0x552fcc(0x1a1)](_0x552fcc(0x2d5)),_0x24b942;if(_0x27bc41){let _0x10f9d6=_0x27bc41[_0x552fcc(0x6b2)](/\/\/(.*?)\./);_0x10f9d6&&_0x10f9d6[0x1]&&(_0x24b942=_0x10f9d6[0x1]);}if(!_0x24b942&&_0x2aaf14&&_0x2aaf14[_0x552fcc(0x421)]){let _0xc4273d=_0x2aaf14[_0x552fcc(0x421)]['split']('/'),_0x5ca633=_0xc4273d[_0xc4273d[_0x552fcc(0x761)]-0x2];if(_0x5ca633){let _0x37d727=_0x5ca633[_0x552fcc(0x355)]('.');_0x37d727['length']>0x2&&(_0x24b942=_0x37d727[0x0]);}}return _0x24b942;}var _s=Zi(b);async function eo(){const _0x270185=a0_0x29b3b7;let _0x44aa09=b['get'](_0x270185(0x5cc)),_0x22aa04=b['get'](_0x270185(0x786))[_0x270185(0x4df)]['KEY'],_0x494bca=b[_0x270185(0x1a1)](_0x270185(0x2d5)),_0x515046=await Ur(),_0x28a4e5=b['get'](_0x270185(0x12d))[_0x270185(0x645)],_0x4118c6=b[_0x270185(0x1a1)]('SERVER')[_0x270185(0x1f2)];try{let _0xeb4b54={'ip':_0x515046||null,'redis_enable':_0x44aa09?.[_0x270185(0x238)]||null,'apikey':_0x22aa04||null,'ssl':_0x494bca?.[_0x270185(0x480)]||null,'lastupdate':qr||null,'port':_0x28a4e5||null,'gitInstallError':xe?.[_0x270185(0x780)]||null,'url':_0x4118c6||null};if(console[_0x270185(0x6bf)](_0x270185(0x542),_0xeb4b54['ip']),_0x44aa09&&_0x44aa09[_0x270185(0x238)]){let _0x3845ef=await Xi();_0xeb4b54[_0x270185(0x599)]=_0x3845ef||null;}for(let _0x1fc935 in _0xeb4b54)_0xeb4b54[_0x270185(0x608)](_0x1fc935)&&_0x1fc935!=='ip'&&(_0xeb4b54[_0x1fc935]=JSON['stringify'](_0xeb4b54[_0x1fc935]));return(await Ie[_0x270185(0x282)]['post'](_0x270185(0x10f),_0xeb4b54))[_0x270185(0x2eb)];}catch(_0x5bdf60){return console['error'](_0x5bdf60),!0x1;}}var Ls=!0x1,qr=0x23e,to=0x3,kr=0x1b7740;async function Js(){const _0x4d043c=a0_0x29b3b7;if(!await Ur())return console[_0x4d043c(0x60d)](_0x4d043c(0x17f)),_0x4d043c(0x1eb);let _0x11ed26=await eo();if(_0x11ed26){if(_0x11ed26['response'][_0x4d043c(0x246)]===!0x0){let _0x176043=b[_0x4d043c(0x1a1)](_0x4d043c(0x2d5)),_0x4d6786=b[_0x4d043c(0x1a1)]('SERVER')[_0x4d043c(0x1f2)];_0x176043&&_0x176043?.['PRIVKEY']?.[_0x4d043c(0x58d)](_0x4d043c(0x26e))&&_0x11ed26['response'][_0x4d043c(0x339)]&&!_0x4d6786&&(await ro(_0x11ed26['response']['subdomain'],ao),await io(_0x4d043c(0x28b),_0x11ed26[_0x4d043c(0x252)][_0x4d043c(0x339)]),console[_0x4d043c(0x6bf)]('Reiniciando\x20sistema\x20após\x20instalado\x20certificado...'),setTimeout(()=>no(),0x2710)),xe===null&&_0x11ed26['response'][_0x4d043c(0x6ea)]-qr>0x0&&await so(),Ls||(Ls=!0x0,zi());let _0x1ba90c=0x24*0x3c*0x3c,_0x1fd84f=_0x11ed26[_0x4d043c(0x252)][_0x4d043c(0x145)]>_0x1ba90c?_0x1ba90c:_0x11ed26[_0x4d043c(0x252)][_0x4d043c(0x145)],_0xcdc796=Number(_0x1fd84f);if(isNaN(_0xcdc796)){console[_0x4d043c(0x60d)](_0x4d043c(0x426));return;}let _0x3a30b7=Math['floor'](_0xcdc796/0xe10),_0x2c5879=Math[_0x4d043c(0x1a8)](_0xcdc796%0xe10/0x3c),_0x137d0e=new Date(Date[_0x4d043c(0x5aa)]()+_0xcdc796*0x3e8);setTimeout(Js,_0xcdc796*0x3e8);let _0x661ef1=_0x532aa0=>_0x532aa0['toString']()[_0x4d043c(0x38e)](0x2,'0'),_0x5ed9ba=_0x4d043c(0x53e)+_0x661ef1(_0x3a30b7)+_0x4d043c(0x78d)+_0x661ef1(_0x2c5879)+_0x4d043c(0x436)+_0x661ef1(_0x137d0e[_0x4d043c(0x15e)]())+':'+_0x661ef1(_0x137d0e[_0x4d043c(0x64a)]())+'.';console[_0x4d043c(0x6bf)](_0x5ed9ba);}else return console[_0x4d043c(0x6bf)](_0x4d043c(0x508)),Ls&&(console[_0x4d043c(0x6bf)](_0x4d043c(0x20e)),process[_0x4d043c(0x420)]()),_0x4d043c(0x5cf);}else{if(Pr++,Pr<to)console[_0x4d043c(0x6bf)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+kr/0xea60+_0x4d043c(0x62c)),setTimeout(Js,kr);else return console[_0x4d043c(0x60d)](_0x4d043c(0x654)),'SERVER_OFFLINE';}}async function so(){const _0x111483=a0_0x29b3b7;console[_0x111483(0x6bf)](_0x111483(0x7b0));let _0x2dc166=(0x0,_e['spawn'])(_0x111483(0x35a),{'shell':!0x0});_0x2dc166[_0x111483(0x691)]['on'](_0x111483(0x2eb),_0x4d6918=>{const _0x47688c=_0x111483;console[_0x47688c(0x6bf)]('Atualização:\x20'+_0x4d6918);}),_0x2dc166['stderr']['on'](_0x111483(0x2eb),_0x5b97b5=>{const _0xc0c87b=_0x111483;console[_0xc0c87b(0x60d)](_0xc0c87b(0x494)+_0x5b97b5);}),_0x2dc166['on'](_0x111483(0x420),_0x5735cc=>{const _0x14f7ee=_0x111483;_0x5735cc!==0x0?console[_0x14f7ee(0x60d)](_0x14f7ee(0x50f)+_0x5735cc):console[_0x14f7ee(0x6bf)](_0x14f7ee(0x1e3)),console[_0x14f7ee(0x6bf)](_0x14f7ee(0x673)),setTimeout(()=>process[_0x14f7ee(0x420)](),0x2710);});}var ao=De[a0_0x29b3b7(0x282)][a0_0x29b3b7(0x452)](__dirname,'env.yml');async function ro(_0x4c6b80,_0x12e37b){const _0x279cf0=a0_0x29b3b7;let _0x427e0e=oo();_0x4c6b80=_0x4c6b80[_0x279cf0(0x3b1)](_0x279cf0(0x5b2),'');try{let _0x9f48fe=pe[_0x279cf0(0x282)][_0x279cf0(0x513)](_0x12e37b,_0x279cf0(0x13f));_0x9f48fe=_0x9f48fe[_0x279cf0(0x3b1)](/<apikey>/,_0x427e0e),_0x9f48fe=_0x9f48fe['replace'](/<subdomain>/g,_0x4c6b80),pe[_0x279cf0(0x282)]['writeFileSync'](_0x12e37b,_0x9f48fe,_0x279cf0(0x13f)),console[_0x279cf0(0x6bf)](_0x279cf0(0x4ba));}catch(_0x29601d){console['error'](_0x279cf0(0x31f),_0x29601d);}}function io(_0x107c77,_0x5db52f){return new Promise((_0x539364,_0x250cc0)=>{const _0x4ea039=a0_0x1da8;let _0x3b2e4b=(0x0,_e[_0x4ea039(0x226)])('certbot',[_0x4ea039(0x61c),_0x4ea039(0x4be),'-m',_0x107c77,_0x4ea039(0x5d2),'-d',_0x5db52f]);_0x3b2e4b[_0x4ea039(0x691)]['on'](_0x4ea039(0x2eb),_0x3624e3=>{const _0x3bf33f=_0x4ea039;console[_0x3bf33f(0x6bf)](_0x3bf33f(0x682)+_0x3624e3[_0x3bf33f(0x4a2)]());}),_0x3b2e4b[_0x4ea039(0x564)]['on'](_0x4ea039(0x2eb),_0x6b302b=>{const _0x4425d7=_0x4ea039;console['error']('Erro\x20do\x20Certbot:\x20'+_0x6b302b[_0x4425d7(0x4a2)]());}),_0x3b2e4b['on'](_0x4ea039(0x10a),_0x123ecd=>{const _0x2a69b1=_0x4ea039;_0x123ecd!==0x0?(console[_0x2a69b1(0x60d)](_0x2a69b1(0x182)+_0x123ecd),_0x250cc0(_0x2a69b1(0x182)+_0x123ecd)):(console[_0x2a69b1(0x6bf)](_0x2a69b1(0x2a9)),_0x539364());});});}function oo(_0x49c918=0x32){const _0x4aa917=a0_0x29b3b7;let _0x57ad12='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x5cf7e2='';for(let _0x5ae358=0x0;_0x5ae358<_0x49c918;_0x5ae358++)_0x5cf7e2+=_0x57ad12[_0x4aa917(0x294)](Math['floor'](Math['random']()*_0x57ad12['length']));return _0x5cf7e2;}function no(){const _0x5b53df=a0_0x29b3b7;(0x0,_e['exec'])(_0x5b53df(0x53a),(_0x32c621,_0x37b0b2,_0x34ee2f)=>{const _0x2c8f22=_0x5b53df;if(_0x32c621){console[_0x2c8f22(0x60d)](_0x2c8f22(0x30b)+_0x32c621);return;}if(_0x34ee2f){console[_0x2c8f22(0x60d)](_0x2c8f22(0x5fb)+_0x34ee2f);return;}console['log'](_0x2c8f22(0x792)+_0x37b0b2);});}0x0&&(module['exports']={'subdomain':subdomain});