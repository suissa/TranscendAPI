const a0_0x1d7ec3=a0_0x5af0;(function(_0x3f9079,_0x34a949){const _0x28bb23=a0_0x5af0,_0x3e5e6f=_0x3f9079();while(!![]){try{const _0x162503=parseInt(_0x28bb23(0x396))/0x1*(-parseInt(_0x28bb23(0x690))/0x2)+parseInt(_0x28bb23(0x58f))/0x3+parseInt(_0x28bb23(0x7aa))/0x4*(parseInt(_0x28bb23(0x2be))/0x5)+parseInt(_0x28bb23(0x5e6))/0x6*(parseInt(_0x28bb23(0x4a2))/0x7)+-parseInt(_0x28bb23(0x52e))/0x8+parseInt(_0x28bb23(0x12c))/0x9+-parseInt(_0x28bb23(0x75c))/0xa;if(_0x162503===_0x34a949)break;else _0x3e5e6f['push'](_0x3e5e6f['shift']());}catch(_0x148f75){_0x3e5e6f['push'](_0x3e5e6f['shift']());}}}(a0_0x1ed8,0x3b7c0));var Bi=Object['create'],qe=Object['defineProperty'],Wi=Object['getOwnPropertyDescriptor'],zi=Object[a0_0x1d7ec3(0x7a1)],Hi=Object['getPrototypeOf'],Ki=Object['prototype'][a0_0x1d7ec3(0x748)],Qi=(_0x1809a5,_0x1e9759)=>{for(var _0xde755f in _0x1e9759)qe(_0x1809a5,_0xde755f,{'get':_0x1e9759[_0xde755f],'enumerable':!0x0});},Bs=(_0x4f14c5,_0x22d94a,_0x33cf70,_0x16c65a)=>{const _0xe8d0ac=a0_0x1d7ec3;if(_0x22d94a&&typeof _0x22d94a==_0xe8d0ac(0x4b9)||typeof _0x22d94a==_0xe8d0ac(0x1cb)){for(let _0x317eba of zi(_0x22d94a))!Ki[_0xe8d0ac(0x501)](_0x4f14c5,_0x317eba)&&_0x317eba!==_0x33cf70&&qe(_0x4f14c5,_0x317eba,{'get':()=>_0x22d94a[_0x317eba],'enumerable':!(_0x16c65a=Wi(_0x22d94a,_0x317eba))||_0x16c65a[_0xe8d0ac(0x49c)]});}return _0x4f14c5;},T=(_0x39ba36,_0x2c3392,_0xc1294a)=>(_0xc1294a=_0x39ba36!=null?Bi(Hi(_0x39ba36)):{},Bs(_0x2c3392||!_0x39ba36||!_0x39ba36[a0_0x1d7ec3(0x4fa)]?qe(_0xc1294a,'default',{'value':_0x39ba36,'enumerable':!0x0}):_0xc1294a,_0x39ba36)),Yi=_0x114aa6=>Bs(qe({},'__esModule',{'value':!0x0}),_0x114aa6),hr={};Qi(hr,{'fullURL':()=>Gs,'subdomain':()=>B}),module[a0_0x1d7ec3(0x766)]=Yi(hr);var Ui=T(require(a0_0x1d7ec3(0x3f2))),zs=require('fs'),Hs=require(a0_0x1d7ec3(0x3b9)),Ks=require(a0_0x1d7ec3(0x524)),Ve=require(a0_0x1d7ec3(0x524)),le=process[a0_0x1d7ec3(0x768)](),Se=(0x0,Ve[a0_0x1d7ec3(0x7e1)])(le,a0_0x1d7ec3(0x3c1)),Ws=(0x0,Ve[a0_0x1d7ec3(0x7e1)])(le,a0_0x1d7ec3(0x67a)),mn=(0x0,Ve['join'])(le,a0_0x1d7ec3(0x5a9),a0_0x1d7ec3(0x544)),us=class{constructor(){const _0x44f6b9=a0_0x1d7ec3;this[_0x44f6b9(0x1c7)]();}[a0_0x1d7ec3(0x332)](_0x440a18){const _0x26b48c=a0_0x1d7ec3;return this[_0x26b48c(0x3e9)][_0x440a18];}['loadEnv'](){const _0x391483=a0_0x1d7ec3;this[_0x391483(0x3e9)]=process['env']?.[_0x391483(0x1d0)]!==_0x391483(0x39f)?this[_0x391483(0x289)]():this['envProcess'](),process[_0x391483(0x3e9)]?.[_0x391483(0x1d0)]===_0x391483(0x39f)&&(this[_0x391483(0x3e9)]['SERVER'][_0x391483(0x4f8)]=_0x391483(0x550),this[_0x391483(0x3e9)]['SERVER'][_0x391483(0x355)]=Number['parseInt'](process[_0x391483(0x3e9)]?.[_0x391483(0x154)]??_0x391483(0x394)));}[a0_0x1d7ec3(0x289)](){const _0x172ab3=a0_0x1d7ec3;return(0x0,Hs[_0x172ab3(0x1e5)])((0x0,zs[_0x172ab3(0x4ad)])((0x0,Ks[_0x172ab3(0x7e1)])(Ws,_0x172ab3(0x775)),{'encoding':_0x172ab3(0x16e)}));}['envProcess'](){const _0x43b5f0=a0_0x1d7ec3;return{'SERVER':{'TYPE':process['env']['SERVER_TYPE'],'PORT':Number[_0x43b5f0(0xbb)](process[_0x43b5f0(0x3e9)]['SERVER_PORT']),'URL':process[_0x43b5f0(0x3e9)][_0x43b5f0(0x206)]},'CORS':{'ORIGIN':process[_0x43b5f0(0x3e9)]['CORS_ORIGIN'][_0x43b5f0(0x5f3)](','),'METHODS':process[_0x43b5f0(0x3e9)][_0x43b5f0(0x69a)]['split'](','),'CREDENTIALS':process[_0x43b5f0(0x3e9)]?.['CORS_CREDENTIALS']===_0x43b5f0(0x39f)},'SSL_CONF':{'PRIVKEY':process[_0x43b5f0(0x3e9)]?.[_0x43b5f0(0x4fc)],'FULLCHAIN':process[_0x43b5f0(0x3e9)]?.[_0x43b5f0(0x5c4)]},'STORE':{'CLEANING_INTERVAL':Number[_0x43b5f0(0x34b)](process['env']?.[_0x43b5f0(0x45b)])?Number[_0x43b5f0(0xbb)](process[_0x43b5f0(0x3e9)][_0x43b5f0(0x45b)]):void 0x0,'MESSAGES':process['env']?.[_0x43b5f0(0x7f6)]===_0x43b5f0(0x39f),'CONTACTS':process[_0x43b5f0(0x3e9)]?.['STORE_CONTACTS']==='true','CHATS':process[_0x43b5f0(0x3e9)]?.['STORE_CHATS']==='true'},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x43b5f0(0x1cd)],'PORT':Number[_0x43b5f0(0xbb)](process[_0x43b5f0(0x3e9)]?.[_0x43b5f0(0x1cd)]),'USER':process[_0x43b5f0(0x3e9)][_0x43b5f0(0x29a)],'PASSWORD':process['env']['DATABASE_CONNECTION_PASSWORD'],'URI':process[_0x43b5f0(0x3e9)][_0x43b5f0(0x639)],'DB_PREFIX_NAME':process[_0x43b5f0(0x3e9)][_0x43b5f0(0x55a)]},'ENABLED':process[_0x43b5f0(0x3e9)]?.[_0x43b5f0(0x6e9)]==='true'},'REDIS':{'ENABLED':process[_0x43b5f0(0x3e9)]?.[_0x43b5f0(0x190)]===_0x43b5f0(0x39f),'URI':process['env']['REDIS_URI']||_0x43b5f0(0x336),'PREFIX_KEY':process[_0x43b5f0(0x3e9)][_0x43b5f0(0x318)]||'uazapi'},'LOG':{'LEVEL':process['env']?.[_0x43b5f0(0x11b)][_0x43b5f0(0x5f3)](','),'COLOR':process[_0x43b5f0(0x3e9)]?.['LOG_COLOR']===_0x43b5f0(0x39f)},'PROXY':process[_0x43b5f0(0x3e9)]?.[_0x43b5f0(0x624)]===_0x43b5f0(0x39f),'AUTHENTICATION':{'TYPE':process[_0x43b5f0(0x3e9)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x43b5f0(0x3e9)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x43b5f0(0x34b)](process[_0x43b5f0(0x3e9)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x43b5f0(0xbb)](process[_0x43b5f0(0x3e9)][_0x43b5f0(0xe1)]):0xe10,'SECRET':process[_0x43b5f0(0x3e9)][_0x43b5f0(0x6a8)]}}};}},S=new us(),ji=T(require(a0_0x1d7ec3(0x47d))),ye=T(require('express')),qs=require(a0_0x1d7ec3(0x524)),ds=T(require(a0_0x1d7ec3(0x4fb))),ps=(_0x2ec5d1=>(_0x2ec5d1['LOG']=a0_0x1d7ec3(0x3d7),_0x2ec5d1[a0_0x1d7ec3(0x395)]='\x1b[34m',_0x2ec5d1[a0_0x1d7ec3(0x679)]=a0_0x1d7ec3(0x7b9),_0x2ec5d1[a0_0x1d7ec3(0x5d4)]=a0_0x1d7ec3(0x3d8),_0x2ec5d1['DEBUG']=a0_0x1d7ec3(0x2d8),_0x2ec5d1[a0_0x1d7ec3(0x500)]=a0_0x1d7ec3(0x133),_0x2ec5d1[a0_0x1d7ec3(0x426)]=a0_0x1d7ec3(0x200),_0x2ec5d1))(ps||{}),Qs=(_0xd61e7b=>(_0xd61e7b[a0_0x1d7ec3(0x477)]=a0_0x1d7ec3(0x7c2),_0xd61e7b[a0_0x1d7ec3(0x426)]=a0_0x1d7ec3(0x1b1),_0xd61e7b[a0_0x1d7ec3(0x395)]=a0_0x1d7ec3(0x2b7),_0xd61e7b['WARN']='\x1b[33m%s\x1b[0m',_0xd61e7b[a0_0x1d7ec3(0x5d4)]='\x1b[31m%s\x1b[0m',_0xd61e7b[a0_0x1d7ec3(0x7fe)]=a0_0x1d7ec3(0x3da),_0xd61e7b[a0_0x1d7ec3(0x500)]='\x1b[37m%s\x1b[0m',_0xd61e7b))(Qs||{}),Ys=(_0x2ab592=>(_0x2ab592[a0_0x1d7ec3(0x477)]=a0_0x1d7ec3(0x477),_0x2ab592['WARN']=a0_0x1d7ec3(0x679),_0x2ab592[a0_0x1d7ec3(0x395)]=a0_0x1d7ec3(0x395),_0x2ab592['DARK']=a0_0x1d7ec3(0x426),_0x2ab592[a0_0x1d7ec3(0x5d4)]='ERROR',_0x2ab592['DEBUG']=a0_0x1d7ec3(0x7fe),_0x2ab592[a0_0x1d7ec3(0x500)]=a0_0x1d7ec3(0x500),_0x2ab592))(Ys||{}),Xs=(_0x2ae2f7=>(_0x2ae2f7[a0_0x1d7ec3(0x477)]=a0_0x1d7ec3(0x592),_0x2ae2f7[a0_0x1d7ec3(0x395)]='\x1b[44m',_0x2ae2f7[a0_0x1d7ec3(0x679)]=a0_0x1d7ec3(0x2b2),_0x2ae2f7['DARK']=a0_0x1d7ec3(0x49d),_0x2ae2f7[a0_0x1d7ec3(0x5d4)]=a0_0x1d7ec3(0x149),_0x2ae2f7[a0_0x1d7ec3(0x7fe)]=a0_0x1d7ec3(0x460),_0x2ae2f7[a0_0x1d7ec3(0x500)]='\x1b[47m',_0x2ae2f7))(Xs||{}),$=class{constructor(_0x84e7fb=a0_0x1d7ec3(0x7c3)){const _0x568439=a0_0x1d7ec3;this[_0x568439(0x3f0)]=_0x84e7fb,this[_0x568439(0x75a)]=S;}[a0_0x1d7ec3(0x69f)](_0x35b05d){this['context']=_0x35b05d;}['console'](_0x4b9a28,_0x37c415){const _0x538196=a0_0x1d7ec3;let _0x4815d4=[];this[_0x538196(0x75a)][_0x538196(0x332)](_0x538196(0x477))[_0x538196(0xde)][_0x538196(0xb2)](_0x156c9a=>_0x4815d4['push'](Ys[_0x156c9a]));let _0x18689d=typeof _0x4b9a28;_0x4815d4[_0x538196(0x603)](_0x37c415)&&(S[_0x538196(0x332)](_0x538196(0x477))[_0x538196(0x260)]?(console['log']('\x1b[1m'+Qs[_0x37c415],_0x538196(0x4a6),(0x0,ds[_0x538196(0x1af)])()[_0x538196(0x27d)](_0x538196(0x35f)),_0x538196(0x6a0),ps[_0x37c415]+Xs[_0x37c415]+_0x538196(0x2b9),_0x37c415+_0x538196(0x6a1),_0x538196(0x1ee),this[_0x538196(0x3f0)]+_0x538196(0x6a0),ps[_0x37c415],_0x18689d!=='object'?_0x4b9a28:'',_0x538196(0x6a0)),_0x18689d==='object'&&console[_0x538196(0xa6)](_0x4b9a28,'\x0a')):console[_0x538196(0xa6)]((0x0,ds[_0x538196(0x1af)])()[_0x538196(0x27d)](_0x538196(0x346)),_0x37c415+'\x20',''+this[_0x538196(0x3f0)],_0x4b9a28));}[a0_0x1d7ec3(0xa6)](_0x25440b){const _0x348de5=a0_0x1d7ec3;this[_0x348de5(0x1c8)](_0x25440b,_0x348de5(0x477));}[a0_0x1d7ec3(0x696)](_0x197598){const _0x505050=a0_0x1d7ec3;this[_0x505050(0x1c8)](_0x197598,_0x505050(0x395));}['warn'](_0x4678d7){const _0x1bb538=a0_0x1d7ec3;this[_0x1bb538(0x1c8)](_0x4678d7,_0x1bb538(0x679));}[a0_0x1d7ec3(0x6f8)](_0x431583){const _0x54c4c8=a0_0x1d7ec3;this[_0x54c4c8(0x1c8)](_0x431583,'ERROR');}[a0_0x1d7ec3(0x244)](_0x10a3fd){const _0x350679=a0_0x1d7ec3;this['console'](_0x10a3fd,_0x350679(0x500));}['debug'](_0x4946e0){const _0x4924b7=a0_0x1d7ec3;this['console'](_0x4946e0,_0x4924b7(0x7fe));}[a0_0x1d7ec3(0x469)](_0xf67193){const _0x5ae000=a0_0x1d7ec3;this[_0x5ae000(0x1c8)](_0xf67193,_0x5ae000(0x426));}};function Zs(){const _0x35ffb0=a0_0x1d7ec3;process['on'](_0x35ffb0(0x283),(_0x379e90,_0x4fdfb9)=>{const _0x53d098=_0x35ffb0;new $(_0x53d098(0x283))[_0x53d098(0x6f8)]({'origin':_0x4fdfb9,'stderr':process[_0x53d098(0x5fa)]['fd'],'error':_0x379e90});}),process['on'](_0x35ffb0(0x5d5),(_0x15dc14,_0x4d73cb)=>{const _0x542fe5=_0x35ffb0;new $(_0x542fe5(0x5d5))['error']({'origin':_0x4d73cb,'stderr':process[_0x542fe5(0x5fa)]['fd'],'error':_0x15dc14});});}var ea=T(require(a0_0x1d7ec3(0x2aa))),hs=new ea['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Me=require(a0_0x1d7ec3(0x5b5)),Ae=T(require('mongoose')),Ge=new $('Db\x20Connection'),L=S['get'](a0_0x1d7ec3(0x220)),I=L[a0_0x1d7ec3(0x7ff)]?L[a0_0x1d7ec3(0x4f9)][a0_0x1d7ec3(0xc7)]?Ae[a0_0x1d7ec3(0x1af)][a0_0x1d7ec3(0xe2)](L[a0_0x1d7ec3(0x4f9)][a0_0x1d7ec3(0xc7)],{'dbName':L[a0_0x1d7ec3(0x4f9)][a0_0x1d7ec3(0x1a7)]+a0_0x1d7ec3(0xaa)}):Ae['default'][a0_0x1d7ec3(0xe2)]('mongodb://'+L[a0_0x1d7ec3(0x4f9)]['HOST']+':'+L[a0_0x1d7ec3(0x4f9)][a0_0x1d7ec3(0x355)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L[a0_0x1d7ec3(0x4f9)][a0_0x1d7ec3(0x5c9)],'pass':L[a0_0x1d7ec3(0x4f9)][a0_0x1d7ec3(0x34a)],'dbName':L[a0_0x1d7ec3(0x4f9)]['DB_PREFIX_NAME']+'-whatsapp-api'}):null;function a0_0x1ed8(){const _0x28d513=['Erro\x20ao\x20buscar\x20Schedule\x20Messages','restrict','@s.whatsapp.net','splice','findFlow','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','flowConversation','reject','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','groups','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila',',\x20pairCode:\x20','bodyStringErrorParse','):Business\x20profile\x20fetched','name','round','updateMessage','):\x20newSecondValue\x20após\x20replaceVariables:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','buffer','/wa-contacts','updateProfilePicture','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','EXPIRIN_IN','insert','/instance/connectionState','insertCount','Subdomínio\x20final:','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','etiquetas','.extension','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','isAdmin','readMessageBot','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','userDevicesCache','toUpperCase','flowName','_lastVote','restart','boolean','oldToken','):\x20Error\x20processing\x20conditions:\x20','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','Erro\x20ao\x20deletar\x20chat:','queue','#ffc5c7','messageLogs','subjectTime','defineAuthState','segundos','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','E-mail:\x20','color','getTime','writeData','mediatype','crypto','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','/instance','findByIdAndUpdate','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','\x20minutos.\x20Será\x20às\x20','Failed\x20to\x20send\x20buttons\x20message','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','.doc','/wa-all-message','removeChatLabel','updateStopChat','findConversation','result','):\x20Conversa\x20está\x20expirada','hasOwnProperty','groupRevokeInvite','Adicionando\x20novo\x20participante:\x20','Last\x20message\x20not\x20found\x20for\x20number:\x20','#01d0e2','ephemeralExpiration','Router','fetchInstances','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','view\x20engine','createGroup','requestPairingCode','pushName','getLastMessage','util','findRealGroups','scheduleMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','configService','DELETED','1088600nEgOFv','slice','editflowreply','request_time','videoMessage','Botão\x201','localWebhook','user','write','updateOneById','exports','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','cwd','global','templateButtonReplyMessage','\x20não\x20encontrado','):\x20Rótulo\x20atualizado:\x20','updateGroupsAddPrivacy','maxActives','fetchLabels','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','values','Contacts\x20not\x20found','sendWhatsAppAudio','upsertChats','../env.yml','.TEL;waid=','editflowgroup','removeProfilePicture','cachedContacts-whatsapp','updateGroupWebhook','messageSecret','_day','image','globalShow','status','Log\x20out\x20instance:\x20','processvaredits','leaveGroup','cacheContactModel','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','/chat','p-queue','):Archiving\x20chat','options','Parando\x20aplicação,\x20atualização\x20recebida','deletedCount','nativeFlowMessage','removeUnusedChatFields','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.',',\x20resultado:\x20','markMessageAsRead','assign','createHash','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','model','AddChatLabel','/startFlow/:instance/:startID','waMonitor','cacheContact','Erro\x20ao\x20copiar\x20o\x20documento','0123456789ABCDEF','PRIVKEY','generate','/:instanceName','fetchProfile','readreceipts','Imagem\x20não\x20encontrada','footerText','getOwnPropertyNames','flowPrefixCommand','tags','replaceVariablesLogs','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','Removidas\x20as\x20variáveis:\x20','updateChatGroupData','empty','https://api.openai.com/v1/images/generations','892BlqCQd','instanceName','AutomateSystem','notEqual','ip\x20-6\x20addr\x20del\x20','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','pollMessage','Error\x20removing\x20unused\x20chat\x20fields:','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','deleteMany','promote','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','):Image\x20created','groupId','upperCase','\x1b[33m','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','remoteJids','birthtime','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','sleep','BufferJSON','reactionMessage','autoCompleteMessages.command_1','\x1b[32m%s\x1b[0m','Logger','messaging-history.set','FlowController','shareFlow','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','some','type','chatModify','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','scheduleNextCheck','labelId','http://checkip.dyndns.org','_year','findGroupsEspecial','reorderBlocks','hGet','max','):Image\x20is\x20base64','lastMessage','from','groupMetadata','/group','#d8e651','pollCreationMessageV3','save','):\x20teve\x20mudanças\x20chat.archived:\x20','request\x20received\x20in\x20deleteFlow','LabelModel','text','exists','join','CONNECTION_UPDATE','getFullYear','Chat\x20com\x20ID\x20','convertToString','contacts','textMessage','key','updateMissingTags','insertMany','Erro\x20ao\x20alterar\x20fluxo','dropCollection','Esse\x20fluxo\x20expirou','Instância\x20não\x20encontrada.','Instância:\x20','send','inviteCodeDetails','Error\x20updating\x20cache\x20contact:','):\x20Conversa\x20inserida\x20com\x20sucesso.','node-cache','post','STORE_MESSAGE','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','saveCreds','dbInstance','):\x20Buscando\x20flow...','isValidAndUniqueIPv6','fora\x20do\x20git','Font\x20is\x20required','DEBUG','ENABLED','media','unavailable','isRunning','):\x20','deleteDoneMessages','):Getting\x20image\x20from\x20url','File\x20written\x20to\x20path:\x20','autoCompleteMessages.command','):Output\x20path:\x20','listResponseMessage','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','storePath','waitingMenu_id','fetchConversation','getDate','triedToSend','test','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','Error\x20testing\x20IP\x20with\x20','getUniqueFlowName','less','Variáveis\x20não\x20encontradas:','updateLastSeenPrivacy','pt-BR','No\x20suitable\x20network\x20interface\x20found','notas','remoteJid','addMessagesToGroup','processingGroup','getflow','_activedCount','cpf','):\x20Grupo\x20','memberAddMode','temp-','log','conversation','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','audio/ogg;\x20codecs=opus','-whatsapp-api','isArray','):\x20Iniciando\x20bot...','remove','archiveChat','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','open','reorderReplyOptions','forEach','lowerCase','AddUserFlow','CREDENTIALS','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','Falhou\x20ao\x20encontrar\x20chat\x20','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','display_text','groupRequestParticipantsList','parseInt','poll','namespace','gifPlayback','[all]','resetReconnectionVariables','chatHandle','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','integer','Authentication\x20error','):\x20newFirstValue\x20após\x20replaceVariables:','URI','processReadyMessages','messages.set','Erro\x20ao\x20atualizar\x20conversa:\x20','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','\x20-\x20ON:\x20','stopConversation','\x20não\x20encontrado\x20para\x20atualização.','buttonText','testingWith','getDevice','Background\x20color\x20is\x20required','isCommunity','request\x20received\x20in\x20editFlow','mimetype','pollCreationMessageV2','express','deviceSentMessage','):\x20Iniciando\x20processReadyMessages','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','env.KEY\x20!==\x20key','events','LEVEL','createNewConversation','_activatedCount','AUTHENTICATION_JWT_EXPIRIN_IN','createConnection','extractRegex','bulkWrite','/clients-info','now','STATUS_INSTANCE','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','Instance\x20restarted','Types','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','audioMessage','\x20inseridas\x20no\x20banco\x20de\x20dados...','):\x20Editando\x20grupo\x20do\x20fluxo...','_Chats','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','shareOwners','joinGroup','uazapiSendAudio','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','createConversationforgoToFlow','revokeInviteCode','applyvaredit','\x5cd+','):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20','fetchProfilePicture','The\x20global\x20api\x20key\x20must\x20be\x20set','CHATS_UPSERT','groupAcceptInvite','messageTimestamp','eventHandler','/events','formatBRNumber','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','\x20minutos...','fileName','out','[service]\x20request\x20received\x20in\x20sendButtons','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','statusCode','ChatRouter','/create','iniciando\x20fluxo\x20router','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','StartBot','):\x20Chat\x20','Configuração\x20SSL\x20recuperada:','):\x20Flow\x20\x27','choices','stringify','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','newStoppedUntil',',\x20saindo.','fetchBusinessProfile','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','LOG_LEVEL','Erro\x20ao\x20normalizar\x20a\x20mensagem:','qrcode-terminal','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','archived','lastInteraction','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','fromMe','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','toString','stopMinutesMaxActives','Erro\x20de\x20atualização:\x20','connecting','pop','ignoreGroups','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','4166190NAQGsI','uazapiSendText','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','SendScheduleMessage','Operador:\x20\x22','contactMessage','API\x20Key\x20from\x20Request:','\x1b[37m','sendMessageWithTyping','):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','getConversation','getReadyToSendMessages','):\x20Query\x20params:\x20','chatLog','mentioned','waitingForReplyMenu','getValidWhatsAppNumbers','isListOfNumbers','ip\x20-6\x20addr\x20show\x20dev\x20','condition','connectedClient','IP\x20mismatch:\x20configured\x20','):\x20conversation.waitingMenu_name','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','Group\x20not\x20found','onTime','admin_add','then','Erro\x20ao\x20buscar\x20conversas','\x1b[41m','stateConnection','buttonMessage','https://api.openai.com/v1/audio/speech','getBase64FromMediaMessage','not_announcement','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','canSendMessage','send.message','deleteReplyOption','deleteFlow','SERVER_PORT','list','Fluxo\x20\x27','delaySecMax','Erro\x20ao\x20arquivar\x20chat','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','Error\x20in\x20prepareMediaMessage:','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','unlinkSync','):\x20[messages.update]\x20group\x20ignored','instancias:\x20','uazapiSendContact','presenceSubscribe','sectionsToString','Comando\x20desconhecido','findIndex','Falta\x20informação\x20para\x20a\x20chamada\x20API','senderKeyDistributionMessage','startCommand','throwAndLogError','groupJid','):\x20Bloco\x20copiado:\x20','CONTACTS_UPDATE','Erro\x20ao\x20alterar\x20privacidade','editFlowCondition','error_log','utf-8','json','yes','updateOne','upsertedCount','):\x20Criando\x20fluxo\x20compartilhado...','delete','getMinutes','views','#83e421','checkAndRestartProcess','removeIPv6','\x0a*Você\x20respondeu*:\x0a','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','):\x20Limpando\x20delayMessage','username','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','blocks','importChats','padStart','.\x20Pulando.','Not\x20is\x20business\x20profile','Error\x20updating\x20message\x20status:','ip\x20-6\x20addr\x20add\x20','MESSAGES_UPDATE','testIPv6','mongodb','undefined','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','getMIMEType','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','@ffmpeg-installer/ffmpeg','recebido\x20de','isCommunityAnnounce','REDIS_ENABLED','pino','timeInMinutes','createButtonSectionsFromValues','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','whatsappNumbers','replaceOne','recording','ON\x20-\x20dbName:\x20','listMessage','#9ba6ff','unreadcount','StatusJidList\x20is\x20required','):\x20Label\x20','IPv6\x20address\x20configured:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','Error\x20in\x20chatModify\x20for\x20number\x20','messageType','deleteBlock','Erro\x20ao\x20editar\x20a\x20conversa','Connection\x20closed\x20for\x20instance:\x20','collections','exec','DB_PREFIX_NAME','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','long','getUpdate','pollCreationMessage','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','):Audio\x20converted\x20and\x20stored\x20in\x20cache','default','Error\x20writing\x20file:\x20','\x1b[30m%s\x1b[0m','startsWith','Type\x20is\x20required','leadInfo','editScheduleMessage',',\x20Expiration\x20Time:\x20','button','ini','generateRandomIPv6','padEnd','title','reaction','ip\x20-br\x20link\x20show','stopped','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','.error','entries','nome','linkPreview','request\x20received\x20in\x20editFlowcondition','\x27\x20não\x20encontrado','loadEnv','console','IPv6\x20addresses\x20detected:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','function','leadInfo.','DATABASE_CONNECTION_HOST','_month','lastFetchAwaitingApproval','DOCKER_ENV','):\x20Enviando\x20enquete','Error\x20fetching\x20and\x20updating\x20profile:\x20','NextBlock','promisify','XX:XX:XX:XX:XX:XX','editMessagesInGroup','clear','scheduled','flush','delay','.webp','https://uazapi-plugin.bubbleapps.io/','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','Subdomínio\x20não\x20encontrado','messageId','Parando\x20aplicação...','Erro\x20na\x20função\x20updateChatWithMessage:\x20','hDel','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','sendSticker','load','label','PRODUCT_LIST','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','scheduleSendAudio','fetchChats','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','.png','createIPv6','\x1b[33m\x1b[1m','sendMenu','.ogg','unlocked','SERVER','fakeReceived','):\x20delete\x20=\x20true','):\x20Conversa\x20atualizada\x20em\x20memória','activatedCount','updateProfileStatus','):\x20conversation.lastInteraction:\x20','saveConversationToDatabase','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','processConditions','push','secondValue','Invalid\x20format','chatId','\x1b[30m','groupToggleEphemeral','createInstance','Erro\x20ao\x20atualizar\x20o\x20fluxo:','Instance\x20\x22','findGroupInfos','SERVER_URL','convertToWebP','imageMessage','urlOrBase64','--------------------------------------','groupJoinApprovalMode','apiName','spawn','match','copy','mediaMessage','editedMessage','truncatedtoEnd','errors','SEND_MESSAGE','webhookMap','\x27...','):\x20Comando\x20desconhecido:\x20','getContentType','isJidGroup','Flow\x20\x27','connectionStatus','Type\x20not\x20found','Erro\x20ao\x20tentar\x20autoCompleteMessages','idSchedule','sendReaction','DATABASE','_Contacts','ConversationModel','Telefone:\x20','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','stanzaId','Error\x20while\x20deleting\x20message\x20for\x20everyone','\x22\x20cannot\x20be\x20empty','repeat','closeExistingConversations','.svg','createflow','digest','initializeQueue','editflowcondition','imgUrl','sharePass','randomBytes','qrCode','menuExpiredMessage','selectedOptions','updateChatWithMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','lastUpdate','#fe9dfe','$dbName','groupUpdateDescription','@newsletter','replaceVariablesInReplyOptions','noConnection','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','restartInstance','getDelay','messages','AUTHENTICATION','verbose','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','connectToWhatsapp','Subdomínio\x20extraído\x20da\x20URL:','cleaningUp','\x20segundos\x20antes\x20de\x20reconectar...','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','getHours','):\x20Mensagem\x20já\x20enviada\x20para\x20','connectToWhatsappController','findManyByIds','\x20mensagens\x20de\x20','):\x20sender\x20=\x20number:\x20','flow','request\x20body:\x20','editflow','presence','Mensagens\x20deletadas\x20com\x20sucesso.','Error\x20adding\x20IPv6\x20address:\x20','extractPhoneNumber','removeInstance','https://github.com/uazapi/uazapi.git','$pull','toLowerCase',',\x20global:\x20','code','set','connection.update','COLOR','Cannot\x20','CHATS_DELETE','firstValue','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','):\x20Procurando\x20mensagens\x20para\x20envio','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','.jwt','):\x20Buscando\x20conversa...','3EB0','truncatedto','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','messages.upsert','Filtered\x20network\x20interfaces:\x20','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','telefone','Forbidden','updateCustomFields','vote','https','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','STORE','GET','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','validate','GUARD','webhookService','):\x20Fluxos\x20não\x20estão\x20ativados','deleteMessageForEveryone','format','application/octet-stream','):Type\x20defined\x20as\x20audio','email','_sender','process','uncaughtException','config','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','?timestamp=','deleteflow','chats.set','envYaml','*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a','startFlowWebhook','expiration','MessageModel','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','uazapi','@g.us','abs','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','pollOnReplyDelete','getScheduleMessageModelForOwner','isURL','flowStopConversation','Schema','_Messages','fetchPrivacySettings','DATABASE_CONNECTION_USER','keys','Valor\x20de\x20find\x20ou\x20replace\x20ausente','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','groupadd','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','announce','_error','font','menuMessage','uazapiSendLocation','Erro\x20ao\x20adicionar\x20label\x20','ContactModel','^\x5cd+([-]\x5cd+)*@g.us$','replyOption','authentication','eventemitter2','deleteMessage','messageStubParameters','RemoteJid:','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','approve','when','Safari','\x1b[43m','isBusiness','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','Nenhum\x20fluxo\x20correspondente\x20encontrado.','\x1b[34m%s\x1b[0m','sharp','\x1b[1m','header','instance.','sendMedia','Primeiro\x20Valor:\x20','1555QnzMBw','groupMemberAddMode','CORS','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','menuType','updateMediaMessage','output','connectionClosed','URL\x20não\x20disponível','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','api','muteEndTime','Erro\x20ao\x20atualizar\x20cacheInstance:','Stack\x20trace:','statusJidList','retrySendMessage','Erro\x20ao\x20remover\x20label\x20','contains','updateAutoCompleteMessages','repository','_fromMe','closed','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','):\x20Flow\x20desativado','pow','trimmed','\x1b[36m','processgoToFlow','sendPoll',',\x20fará\x20nova\x20verificação\x20em\x20','dbServer','exit','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','instanceInfo','/wa-message','participant','presence.update','):\x20Criou\x20conversa\x20no\x20startFlow','message_normalized','SECRET','selectedDisplayText','string','addChatLabel','updateGParticipant','add','cleanStore','randomMac','getFlow','):\x20Editando\x20bloco...','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','put','sendList','video-cover.png','processScheduleFlow','formatStatusMessage','where','messages.update','lastRealGroupsFetch','connectedName','existsSync','child_process','expression','buttonsResponseMessage','this.reconnectAttempts:\x20','Novo\x20IP\x20criado:\x20','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','#92ceac','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','replacer','arraybuffer','sendLocation','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','OrAnd','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','remote\x20\x22origin\x22','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','changeVariables','Opção\x20Falsa\x20','https://uazapi-plugin.bubbleapps.io/?url=','#00a1f2','goNextblock','newValue','viewOnceMessageV2','fone','pollErrorMessage','matchRegex','addBlock','fetchMessages','REDIS_PREFIX_KEY','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','owner','.xls','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','):\x20Editando\x20mensagens\x20no\x20grupo...','qrcode','updateProfileName','saveChatVariables','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','Erro\x20ao\x20criar\x20fluxo','flowStopMinutes','readFile','getChatModelForOwner','replaceVariables','waitingMenu_replyOptions','profilePictureUrl','chats.delete','convert','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','vir','/wa-qrcode','evaluateConditionTest','licenca','get','routerPath','proxy:\x20','inviteCode','redis://127.0.0.1:6379','waInstances','greater','createJid','Content-Type','authService','Usando\x20IP\x20existente:\x20','lastBlockId','GROUPS_UPSERT','paramsJson','_ScheduleMessages','leadInfo.etiquetas','Valor\x20inicial:\x20\x22','JWT','createAndSave','normalizeMessage','HH:mm:ss','next_groupId','joinGroupValidate','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','PASSWORD','isInteger','delayChatLabel_RETRY_DELAY_MS','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','endsWith','KEY','filter','local_map','Número\x20não\x20possui\x20WhatsApp.','/wa-message-update','Nenhum\x20participante\x20válido\x20encontrado.','PORT','mediaKey','Falha\x20ao\x20recriar\x20IPv6.','lastCondition','\x20removido\x20do\x20chat\x20','delayChatLabel_MAX_RETRIES','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','cleanDisconnectedInstances','DD/MM\x20HH:mm:ss','Error\x20parsing\x20JSON:','Cache-Control','data:\x20','notMatchRegex','lastReceivedMessage','g.us','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','stopMinutes','group-participants.update','\x20com\x20sucesso.','menu_options','/instance/connect','goToFlow','Last\x20message\x20not\x20found','pictureUrl','uuid','blockId','bodyString','sendButtons','content-type','#ff9484','Erro\x20ao\x20atualizar\x20o\x20flow.','capitalizedWords','findByIdAndDelete','params','synchronizeAndMapFlows','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','redis','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','Content\x20is\x20required','Message','silent','documentWithCaptionMessage','order','backgroundColor','Enter\x20a\x20value\x20in\x20milliseconds','The\x20','Not\x20allowed\x20by\x20CORS','/instance/create','length','sendStatus','setWebhook','client','\x20do\x20chat\x20','isLong','PENDING','success','wuid','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','superadmin','deleteImportedChat','ip6eui','8080','INFO','2vSPEoe','verifiedName','redisEnv','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','chat','authModel','drop','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','updateFlowConfig','true','Conexão\x20estabelecida','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','flattenObject','editFlowVaredit','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','):\x20Procurando\x20conversa','isJWT','.gif','):\x20Limpando\x20AutomateSystem','/automate','METHODS','Database\x20connection\x20closed.','all_member_add','myAppStateKeyId','descOwner','dropIndex','optionDescription','Partes\x20do\x20domínio:','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','getScheduleMessage','):\x20Falha\x20ao\x20deletar\x20mensagem.','profile','findOrCreate','Garbage\x20collection\x20não\x20está\x20disponível.','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','js-yaml','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','):\x20Buscando\x20todos\x20os\x20fluxos...','\x20inseridos\x20no\x20banco\x20de\x20dados...','\x20:\x20','longitude','message','request\x20received\x20in\x20allFlows','instances','#d3a91f','axios','dbConnection','):Image\x20path:\x20','IPv6\x20Prefix\x20detected:\x20','startCommandWord','docker','list2','interactiveMessage','):\x20Enviando\x20contato','whoCanUse','sem\x20texto\x20na\x20mensagem','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message',']\x20(','groups.upsert','URL:','sections','jsonwebtoken','sort','delAll','updateMany','\x1b[32m','\x1b[31m','https://','\x1b[36m%s\x1b[0m','):\x20expirationTime:\x20','app-state-sync-key','sendAudio','verifyWhatsAppNumber','.ppt','replaceVariablesInObject','):\x20\x27Enviando\x20texto\x20para\x20\x27','body','\x20is\x20already\x20in\x20use.','cta_url','atendimentoAberto','normalizeMessageContent','redirect','chats.update','env','router','latitude','GROUP_PARTICIPANTS_UPDATE','dbSettings','Erro\x20ao\x20tentar\x20updateCustomFields','FlowRouter','context','MESSAGES_UPSERT','compression','*Pergunta*:\x20\x0a','prepareMediaMessage','.txt','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','minutesToClose','editFlow','connectionState','keep-alive','DisconnectReason','detail','status.instance','Bloco\x20com\x20ID\x20','role','^\x5cd+','/wa-groups','instanceKeys','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','replace','getMessageModelForOwner','pollCreationMessageKey','contact','processclearVariables','composing','replaceVariablesChat','app','ScheduleMessage','Não\x20respondeu\x20com\x20a\x20enquete.','deleteOne','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','groupRequestParticipantsUpdate','toFile','):\x20isVote:\x20','rows','EMAIL:','setNewValue','createSectionsFromValues','CHATS_SET','\x20-y','saveMediaToFile','Erro\x20ao\x20iniciar\x20fluxo:\x20','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','Generated\x20IPv6:\x20','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','https://ifconfig.me/ip','connectionUpdate','phoneNumber','createConversationforStartFlow','Network\x20Interface\x20detected:\x20','selectedId','Erro\x20ao\x20editar\x20o\x20bloco:\x20','getClient','DARK','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','CONTACTS_SET','MAX_SAFE_INTEGER','quick_reply','.mp3','request\x20received\x20in\x20editFlowvariable','\x20and\x20data:','editChat','groups.update','enviado\x20para','Erro\x20ao\x20encerrar\x20a\x20API','isConnected','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','rowId','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','groupName','width','.mimetype','indexOf','verify','pm2\x20flush','):\x20Entrou\x20na\x20função\x20goToFlow','varedits','#dfaef0','groupFetchAllParticipating','reduce','\x20foi\x20interrompido\x20pelo\x20usuário.','readMessage','}}\x20->\x20\x22','.docx','min','lastSendMessage','updateMissingCustomFields','state','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','find','configureIPv6',',\x20valor\x20passado:\x20\x22','processblock','/media/','charAt','groupBetterSetting','):\x20Editando\x20edição\x20do\x20fluxo...','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','\x20chats\x20de\x20','webhookModel','initAuthCreds','):\x20error:\x20','stopIfLastReturnedError','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','STORE_CLEANING_TERMINAL','subjectOwner','\x20quoted:\x20','Failed\x20to\x20prepare\x20media\x20message','groupdata','\x1b[46m','formatVCard','Atualização:\x20','refused','CLEANING_INTERVAL','createClient','CacheContacts\x20database\x20connection\x20closed.','readMessages','buttonOrList_id','dark','creation','del','Not\x20Found','audio/ogg','updateMissingEtiquetas','autoCompleteMessages','data','nomecompleto','editflowvariable','findWebhook','editConversation','application/json','unknown\x20operation\x20type\x20[','LOG','toNumber','updateProfilePicturePrivacy','\x0a{\x20instance:\x20','findGroups','static','cors','RemoveChatLabel','ContactsAndGroups','request\x20received\x20in\x20updateCustomFields','Rótulo\x20deletado:\x27,\x20','Data\x20inválida\x20fornecida','Grupo\x20não\x20encontrado','interval\x20não\x20é\x20um\x20número','connect','groupGetInviteInfo','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','findContacts','Erro\x20inesperado\x20em\x20processvaredits:\x20','\x20minutos','basename','limit','hex','substring','createFlow','value','@whiskeysockets/baileys','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└',',\x20Novo\x20tamanho:\x20','jid','online','sendPresenceUpdate','.wav','delaySecMin','):\x20Editando\x20replyOption...','\x22,\x20valor\x20a\x20substituir:\x20\x22','enumerable','\x1b[40m','bearer','updateGroupParticipantsWebhook','):\x20Atualizando\x20status\x20da\x20mensagem\x20','varedit','132111kbmdtk','):\x20alterando\x20this.AutomateSystem','setHeader','blockLogs','\x1b[1m\x1b[37m','addresss','deleteAll','fileLength','/instance/fetchInstances','caption','createServer','readFileSync','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','Erro\x20ao\x20inserir\x20chats:','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','networkInterface','isBase64','.X-ABLabel:Celular\x0a','[\x20SYSTEM\x20-\x20UAZAPI\x20]\x20-\x20Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','):\x20Editando\x20variável\x20do\x20fluxo...','archive','none','processApiRequest','object','collection','false','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','):\x20Criando\x20nova\x20conversa[createNewConversation]','getConversationModelForOwner','automateSystem','headers','#f64847','request\x20received\x20in\x20getAutomateSystem','SSL_CONF','done','proto','updateGParticipate','listType','query','\x20-i\x20','):\x20Fluxo\x20\x27','\x20segundos','Tentando\x20reconectar...','/config','sha256','request\x20received\x20in\x20updateAutoCompleteMessages','sendContact','waitingMenu_text','warn','):Hash\x20to\x20image\x20name:\x20',',\x20canSendMessage:\x20','isJidBroadcast','getTicketSystem','start','removed','Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo','paused','\x27\x20do\x20banco\x20de\x20dados...','findById','urlencoded','pairingCode','awaitingApproval','URL','\x20Tentativa\x20de\x20reconexão\x20','\x20instance\x20does\x20not\x20exist','fileUrl','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','size','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','flows','_hour','):Image\x20is\x20url','contacts.update','findGroupInfo','importChatsAntigo','apikey','updateReadReceiptsPrivacy','off','unreadCount','base64','beforeExit','all','buttons','TYPE','CONNECTION','__esModule','dayjs','SSL_CONF_PRIVKEY','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','close','modifiedCount','VERBOSE','call','request\x20received\x20in\x20deleteDoneMessages','keyPattern','\x20horas\x20e\x20','admin','):\x20Deletando\x20mensagem','qrcode.updated','Internal\x20Server\x20Error','_remoteJid','whoCanEdit','selectedButtonId','reconnectTimestamps','Resultado\x20da\x20correspondência\x20de\x20URL:','generateHash','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','cachedContact','status@broadcast','leadInfo.atendimentoAberto','request\x20received\x20in\x20updateFlowConfig','ChatModel','SINGLE_SELECT','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','floor','groupHandler','updateGroupPicture','g-t','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','getBusinessProfile','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','uazapiSendMenu','):\x20Não\x20achou\x20nenhum\x20flow','apply','AppStateSyncKeyData','ip:\x20','path','available','reviver','ListType','displayName','allFlows','pre','video','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','getStatus','1668920tanEFO','editFlowVariable','findMany','sending','Conversa\x20deletada\x20com\x20sucesso.','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','ephemeralMessage','vcard','deleted','selectedRowId','deleteInstance','scheduleSendMedia','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','):\x20whoCanEdit\x20before\x20validation:\x20','stdout','findAndReplaceRegex','hbs','setting','createButtonsFromValues','\x20minutos\x20verificará\x20novas\x20mensagens','quoted','interactiveResponseMessage','auth','scheduleFlow','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','findOneAndUpdate','FULLCHAIN','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','loadWebhook','conversationTimestamp','audioWhatsapp','document','uazapiSendMedia','50mb','http','everyOne','groupdata.participants','groupSettingUpdate','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','API_KEY','.xlsx','):\x20Entrou\x20na\x20função\x20scheduleFlow','editflowvaredit','#b4ebff','DATABASE_CONNECTION_DB_PREFIX_NAME','sendText','profilePicture','):Desconectado,\x20parando\x20execução.','desativadoFluxoAte','protocolMessage','.fileUrl','\x27\x20removido\x20do\x20AutomateSystem.','content','pollUpdateMessage','findGroup','fullName','createWebhook','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','addReplyOption','.ogv','):\x20Removendo\x20\x27','thumbnailUrl','sendMessage','importChatsBatch','optionName','responsavelid','SERVER_ACK','error\x20get\x20vote','SERVER_OFFLINE','lean','audio','Bad\x20Request','/exit','chats.upsert','$set','-instances','Instance\x20Key\x20from\x20DB:','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','groups_ignore','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','endSession','leadInfo.customFields','/64\x20dev\x20','mongodb://','startFlow','\x22reaction\x22\x20must\x20be\x20an\x20emoji','delayMessage','create','):\x20nextBlock.uazapi.name','execSync','editFlowGroup','descId','/wa-chats','singleSelectReply','messageHandle','website','scheduleSendText','689667ObQCwF','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','saveVariable','\x1b[42m','ORG:','.pptx','):\x20conversation.status:\x20','downloadMediaMessage','instance','CONECTADO\x20À\x20UAZAPI','):\x20[messages.upsert]\x20group\x20ignored','@broadcast','PREFIX_KEY','utf8','Error\x20removing\x20IPv6\x20address:\x20','number','getVariablesChat','Falha\x20ao\x20criar\x20IPv6.','updateAll','):\x20debug\x20alterando\x20this.AutomateSystem','dbClient','/wa-connection-update','request\x20received\x20in\x20editFlowgroup','node-mime-types','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','store','cacheInstanceModel','WebhookGlobal','variablesToObject','request_method','reconnectAttempts','agents','):\x20enviado\x20para\x20[','\x0aFN:','contact_blacklist','MESSAGES_SET','jpegThumbnail','mongoose','stopWhenYouSendMsg','/wa-presence','class-validator','authorization','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','contextInfo','response','getAutomateSystem','editOperator','API\x20Key\x20inválida.','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','):Delete\x20chat','map','pendingMessages','SSL_CONF_FULLCHAIN','fetchLatestBaileysVersion','):\x20Going\x20to\x20','release','labels.association','USER','evaluateCondition','[AUTH]\x20Database\x20is\x20not\x20enabled','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','ObjectId','apirequest','.url','groupDesc','):\x20Query\x20params:','ephemeralDuration','getMessage','ERROR','unhandledRejection','):\x20Enviando\x20mensagem\x20para\x20','#ffae04','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','writeFileSync','convertedOptions','processUazapi','):\x20Adicionando\x20\x27','Falha\x20ao\x20processar\x20fetchBusinessProfile','Erro\x20ao\x20deletar\x20a\x20conversa','notEmpty','webhook','prepareWAMessageMedia','trim','findAll','enabled','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','30TrSagX','removeIPv6ById','realVariables','processPollUpdateMessage','organization','groupParticipantsUpdate','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','block','Fluxo\x20não\x20encontrado\x20na\x20memória.','getAllData','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','sendMessageWithTypingButtons','split','express-async-errors','setRestartTimeout','):\x20Buscando\x20conversas...','Retornando\x20grupos\x20SEM\x20cache','imported','apiResponse','stderr','lastSend','Database\x20update\x20result:','convertaudio','):\x20não\x20encontrou','locked','stickerMessage','editFlowBlock','transformScheduledMessagesByType','includes','leadInfo.desativadoFluxoAte','BRL','_p_','):\x20Entrou\x20na\x20função\x20processawaitSeconds','eventEmitter','QRCODE_UPDATED','):\x20Error\x20processing\x20the\x20block:\x20','convertaudioMP3','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','sign','contacts.upsert','All_Instances_Config','notify','startID','getContactModelForOwner','):\x20Usando\x20extensão\x20padrão:\x20','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','URL\x20completa:','_Labels','\x20adicionado\x20ao\x20chat\x20','address','Erro\x20ao\x20deletar\x20mensagens:','AutomateFunctions','READ','clearVariables','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','announcement','option','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','toLocaleString','PROXY','encoding','groupLeave','updateConversation','):\x20Editando\x20condição\x20do\x20fluxo...','):\x20atualização\x20chat:\x20','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','):\x20transformedCustomFieldVariables','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','group','PRESENCE_UPDATE','Botão\x202','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','#9568cf','statusMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','demote','flowIgnoreGroups','):\x20Entrou\x20na\x20função\x20saveReply','):\x20Bloco\x20com\x20ID\x20','reorderMessages','DATABASE_CONNECTION_URI','finish','fetchContacts','PLAYED','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Erro\x20ao\x20atualizar\x20agendamento\x20','customFields','command','cacheInstanceRepository','Retornando\x20grupos\x20COM\x20cache','request\x20received\x20in\x20getFlow','request\x20received\x20in\x20scheduleMessage','emit','copyBlock','currency','documentMessage','):\x20\x27Enviando\x20mídia\x20para\x20\x27','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','InstancesAlterarTodas','Missing\x20global\x20api\x20key','RECONNECT_TIME_FRAME','array','match_last_seen','chats','nativeFlowResponseMessage','CHATS_UPDATE','.pdf','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','Erro\x20ao\x20editar\x20o\x20chat','last','request\x20received\x20in\x20starFlow','):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20','@redis/client','editFlowReply','waUploadToServer','):Processing\x20audio','ERROR:\x20','waitingMenu_ExpiredMessage','updateBlock','GROUPS_UPDATE',',\x20received\x20','cache','selectableCount','created','parse','fetchProfilePictureUrl','updatePrivacySettings','privacySettings','):Image\x20converted\x20to\x20WebP','toggleEphemeral','variable','allContacts','ipv6Prefix','}}\x20->\x20valor\x20não\x20encontrado','findParticipants','uazapiDeleteMessage','logger','flowActive','sendDataWebhook','beautifyWithPlaceholders','description','):\x20Conversa\x20está\x20expirada\x20-\x20voto','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','findAndReplace','WARN','src','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','Esse\x20fluxo\x20não\x20permite\x20importação.','method','CONTACTS_UPSERT','Detalhes\x20do\x20erro:','deleteConversation','labels.edit','ListMessage','findMessages','random','variablesNotFound','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','.mp4','getLabelModelForOwner','processConditionsTest','participants','processawaitSeconds','\x20não\x20encontrado\x20para\x20cópia','deleteChat',',\x20isAdmin:\x20','end','295394KluBim','whatsappNumber','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','and','/instance/delete','variables','info','Erro\x20ao\x20buscar\x20o\x20fluxo','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','CORS_METHODS','messageLogsModel','Close\x20connection','mediaSticker','Início','setContext','\x1b[0m','\x20\x1b[0m','logout','equal','creds','action','footer','generateWAMessageFromContent','AUTHENTICATION_JWT_SECRET','request\x20received\x20in\x20createFlow','author','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','has','use','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','badSession','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','webp','joinApprovalMode','text/event-stream','REDIS','imagechat','):\x20whoCanUse\x20before\x20validation:\x20','/media','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','downloads','getSeconds','timeout','request\x20received\x20in\x20getConversation','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','loadInstance','IP\x20confirmed:\x20','valid','sticker','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','update','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','mentions','groupSetting','creds.json','toBRL','dataValidate','groupUpdateSubject','Deleted\x20','):Error\x20in\x20converting\x20audio','ex:\x20\x22groupJid=120362@g.us\x22','readData','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','isJidUser','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','AutomateSystem\x20não\x20foi\x20inicializado','height','shift','Falha\x20ao\x20processar\x20a\x20solicitação','groupValidate',',\x20Segundo\x20Valor:\x20','no.connection','replaceValue','subject','updateReplyOption','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','msgRetryCounterCache','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','headerString','updatePresence','conditions','Instance\x20logged\x20out','groupInviteCode','authState','findAndUpdateCacheContact','DATABASE_ENABLED','updateAgent','flowConfig','Limpando\x20logs\x20do\x20PM2...','\x27\x20não\x20encontrado\x20na\x20memória','_id','originalUrl','findOne','Erro\x20ao\x20executar\x20bulkWrite:','inner','locationMessage','moreLogs','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','Fluxos\x20não\x20estão\x20ativados','ScheduleMessageModel','error','count','url','loggedOut',',\x20Comparador:\x20','replyOptions'];a0_0x1ed8=function(){return _0x28d513;};return a0_0x1ed8();}L['ENABLED']&&Ge['info']('ON\x20-\x20dbName:\x20'+I[a0_0x1d7ec3(0x239)]);var X=L[a0_0x1d7ec3(0x7ff)]?L[a0_0x1d7ec3(0x4f9)][a0_0x1d7ec3(0xc7)]?Ae[a0_0x1d7ec3(0x1af)]['createConnection'](L[a0_0x1d7ec3(0x4f9)]['URI'],{'dbName':'cachedData-whatsapp'}):Ae[a0_0x1d7ec3(0x1af)][a0_0x1d7ec3(0xe2)](a0_0x1d7ec3(0x581)+L[a0_0x1d7ec3(0x4f9)]['HOST']+':'+L['CONNECTION']['PORT']+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L[a0_0x1d7ec3(0x4f9)][a0_0x1d7ec3(0x5c9)],'pass':L[a0_0x1d7ec3(0x4f9)]['PASSWORD'],'dbName':a0_0x1d7ec3(0x779)}):null;X&&Ge[a0_0x1d7ec3(0x696)](a0_0x1d7ec3(0x198)+X[a0_0x1d7ec3(0x239)]),process['on'](a0_0x1d7ec3(0x4f5),()=>{const _0x5dd67d=a0_0x1d7ec3;I&&I[_0x5dd67d(0x4fe)](()=>{const _0x30adb8=_0x5dd67d;Ge[_0x30adb8(0x696)](_0x30adb8(0x3ab));}),X&&X[_0x5dd67d(0x4fe)](()=>{const _0x3caffb=_0x5dd67d;Ge[_0x3caffb(0x696)](_0x3caffb(0x466));});});var Xi=new Me[(a0_0x1d7ec3(0x297))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Zi=new Me[(a0_0x1d7ec3(0x297))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),eo=new Me[(a0_0x1d7ec3(0x297))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),to=new Me[(a0_0x1d7ec3(0x297))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Xi],'default':[]}},{'_id':!0x1}),so=new Me[(a0_0x1d7ec3(0x297))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':to,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Zi},'groupdata':{'type':eo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x5ea109=>{const _0x4b4c29=a0_0x1d7ec3;let _0xa5153f='z_'+_0x5ea109+_0x4b4c29(0xf1);return I?.[_0x4b4c29(0x793)](_0x4b4c29(0x514),so,_0xa5153f);},sa=require('mongoose'),ao=new sa[(a0_0x1d7ec3(0x297))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x259d60=>{const _0x186e4c=a0_0x1d7ec3;let _0x32fd79='z_'+_0x259d60+_0x186e4c(0x221);return I?.[_0x186e4c(0x793)](_0x186e4c(0x2a6),ao,_0x32fd79);},ia=require('mongoose'),gs=class{},io=new ia[(a0_0x1d7ec3(0x297))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=X?.[a0_0x1d7ec3(0x793)](gs[a0_0x1d7ec3(0x70c)],io,a0_0x1d7ec3(0x47f)),ra=require(a0_0x1d7ec3(0x5b5)),ms=class{},oo=new ra[(a0_0x1d7ec3(0x297))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Be=X?.[a0_0x1d7ec3(0x793)](ms[a0_0x1d7ec3(0x70c)],oo,'instances'),ws=require(a0_0x1d7ec3(0x5b5)),fs=class{},ro=new ws[(a0_0x1d7ec3(0x297))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),no=new ws['Schema']({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=X?.['model'](fs[a0_0x1d7ec3(0x70c)],no,'messagesLogs'),ca=_0x2a936d=>{const _0x45d37b=a0_0x1d7ec3;let _0x26ce49='z_'+_0x2a936d+_0x45d37b(0x298);return I?.[_0x45d37b(0x793)](_0x45d37b(0x28d),ro,_0x26ce49);},la=require('mongoose'),ys=class{},co=new la['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=I?.[a0_0x1d7ec3(0x793)](ys[a0_0x1d7ec3(0x70c)],co,a0_0x1d7ec3(0x2a9)),da=require(a0_0x1d7ec3(0x5b5)),bs=class{},pa=new da['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0x1d7ec3(0x52a)](a0_0x1d7ec3(0x7db),function(_0x169148){const _0x429af2=a0_0x1d7ec3;delete this[_0x429af2(0x672)],delete this[_0x429af2(0x635)],delete this[_0x429af2(0x7a2)],delete this[_0x429af2(0x296)],delete this[_0x429af2(0x325)],_0x169148();});var ha=I?.[a0_0x1d7ec3(0x793)](bs['name'],pa,a0_0x1d7ec3(0x5e0)),D=require(a0_0x1d7ec3(0x5b5)),Ss=require(a0_0x1d7ec3(0x36f)),We=class{},Ms=class{},ma=new D[(a0_0x1d7ec3(0x297))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new D[(a0_0x1d7ec3(0x297))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),lo=new D['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x1d7ec3(0x155)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x1d7ec3(0x7ed)},'pollErrorMessage':{'type':String,'default':a0_0x1d7ec3(0x3ba)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new D[(a0_0x1d7ec3(0x297))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),uo=new D[(a0_0x1d7ec3(0x297))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),po=new D['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),vs=new D[(a0_0x1d7ec3(0x297))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ho=new D[(a0_0x1d7ec3(0x297))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new D['Schema']({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':lo},'apirequest':uo,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':ho,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new D[(a0_0x1d7ec3(0x297))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new D[(a0_0x1d7ec3(0x297))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x236303=a0_0x1d7ec3;return'!cmd_'+Math[_0x236303(0x684)]()['toString'](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x1d7ec3(0x4bb)},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba['pre'](a0_0x1d7ec3(0x547),function(_0x47ea51){const _0x40b337=a0_0x1d7ec3;let _0x3b5273=this[_0x40b337(0x1ab)]();if(_0x3b5273&&typeof _0x3b5273=='object'&&'$set'in _0x3b5273){let _0x3efad4=_0x3b5273['$set'];if(_0x3efad4){let _0x243483=new Set(),_0x303743=new Set(_0x3efad4[_0x40b337(0x695)]?.[_0x40b337(0x5c2)](_0x5a2b6b=>_0x5a2b6b[_0x40b337(0x70c)])),_0x3334f1=JSON[_0x40b337(0x115)](_0x3efad4),_0x1f263a=/{{(?!_)([^}]*)}}/g,_0x4dffa8;for(;(_0x4dffa8=_0x1f263a[_0x40b337(0x1a6)](_0x3334f1))!==null;)_0x303743['has'](_0x4dffa8[0x1])||_0x243483['add'](_0x4dffa8[0x1]);_0x243483[_0x40b337(0x4e6)]>0x0?(console[_0x40b337(0x4d3)](_0x40b337(0x98),Array[_0x40b337(0x7d6)](_0x243483)),_0x3efad4[_0x40b337(0x685)]=Array[_0x40b337(0x7d6)](_0x243483)):_0x3efad4[_0x40b337(0x685)]=[],this['setUpdate']({'$set':_0x3efad4});}}_0x47ea51();});function a0_0x5af0(_0x31188c,_0xfca9b7){const _0x1ed8df=a0_0x1ed8();return a0_0x5af0=function(_0x5af0c2,_0x43cd7d){_0x5af0c2=_0x5af0c2-0x83;let _0x5ca214=_0x1ed8df[_0x5af0c2];return _0x5ca214;},a0_0x5af0(_0x31188c,_0xfca9b7);}var Ce=I?.[a0_0x1d7ec3(0x793)](Ms[a0_0x1d7ec3(0x70c)],ba,a0_0x1d7ec3(0x529)),go=new D[(a0_0x1d7ec3(0x297))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[vs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[po]},{'_id':!0x1}),mo=new D[(a0_0x1d7ec3(0x297))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[vs],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':go,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x1d7ec3(0xb0)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x1fb116=>{const _0x488997=a0_0x1d7ec3;let _0x565030='z_'+_0x1fb116+'_FlowHistorico';return I?.['model'](_0x488997(0x222),mo,_0x565030);},fo=new D[(a0_0x1d7ec3(0x297))]({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new D[(a0_0x1d7ec3(0x297))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),wo=new D['Schema']({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x1d7ec3(0x1d8)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[fo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x42e2f4=>{const _0x5f4546=a0_0x1d7ec3;let _0xace377='z_'+_0x42e2f4+_0x5f4546(0x340);return I?.['model'](_0x5f4546(0x6f7),wo,_0xace377);},Es=class{},yo=new D['Schema']({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),bo=new D[(a0_0x1d7ec3(0x297))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),So=new D[(a0_0x1d7ec3(0x297))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Mo=new D['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),Co=new D[(a0_0x1d7ec3(0x297))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new D[(a0_0x1d7ec3(0x297))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Co]},'customFields':{'type':[So]},'flowConfig':{'type':Mo,'default':{}},'flows':{'type':[bo],'default':[]},'autoCompleteMessages':{'type':[yo],'default':[]}}),Ie=I?.['model'](Es['name'],Eo,a0_0x1d7ec3(0x7ac)),Ca=require(a0_0x1d7ec3(0x5b5)),vo=new Ca[(a0_0x1d7ec3(0x297))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0x5262d8=>{const _0x3708ab=a0_0x1d7ec3;let _0x6617f7='z_'+_0x5262d8+_0x3708ab(0x618);return I?.['model'](_0x3708ab(0x7de),vo,_0x6617f7);},_=class{constructor(_0x35e480){const _0x414278=a0_0x1d7ec3;this[_0x414278(0x3ed)]=_0x35e480[_0x414278(0x332)](_0x414278(0x220));}};function A(_0x208d8d){const _0xa5a4c8=a0_0x1d7ec3;let _0x120d08={};for(let [_0x43a514,_0x544377]of Object[_0xa5a4c8(0x1c2)](_0x208d8d))if(typeof _0x544377=='object'&&!Array[_0xa5a4c8(0xab)](_0x544377)){for(let [_0x24cce3,_0x1eed56]of Object[_0xa5a4c8(0x1c2)](_0x544377))_0x120d08[_0x43a514+'.'+_0x24cce3]=_0x1eed56;}else _0x120d08[_0x43a514]=_0x544377;return _0x120d08;}var ze=class{constructor(_0x47898d,_0x57b8b6,_0x129272,_0x1be9b1,_0x2d8607,_0x832efb,_0x56d492,_0x32a47a,_0x2a2ea2,_0x39f741,_0x5a4f2d,_0x259349,_0x511eea,_0x566e79){const _0x4ad892=a0_0x1d7ec3;this['message']=_0x47898d,this[_0x4ad892(0x39a)]=_0x57b8b6,this[_0x4ad892(0x407)]=_0x129272,this[_0x4ad892(0x797)]=_0x1be9b1,this[_0x4ad892(0x72f)]=_0x2d8607,this[_0x4ad892(0x5e0)]=_0x832efb,this[_0x4ad892(0x544)]=_0x56d492,this[_0x4ad892(0x597)]=_0x32a47a,this['flow']=_0x2a2ea2,this['flowConversation']=_0x39f741,this[_0x4ad892(0x1e6)]=_0x5a4f2d,this[_0x4ad892(0x758)]=_0x259349,this[_0x4ad892(0x4c0)]=_0x511eea,this[_0x4ad892(0x5a3)]=_0x566e79;}get['dbServer'](){const _0x592061=a0_0x1d7ec3;return this[_0x592061(0x5a3)];}},He=class{},Ke=class extends _{[a0_0x1d7ec3(0x405)](_0x91b210){return ca(_0x91b210);}async[a0_0x1d7ec3(0x718)](_0x15918,_0x2ea623){const _0x3a47ea=a0_0x1d7ec3;if(_0x15918['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x3a47ea(0x405)](_0x2ea623)[_0x3a47ea(0x7ea)]([..._0x15918]))[_0x3a47ea(0x387)]};}catch(_0x1e3e99){return _0x1e3e99;}}async[a0_0x1d7ec3(0x44c)](_0x10d3d5,_0x259414){const _0x341639=a0_0x1d7ec3;try{let _0x216154=this[_0x341639(0x405)](_0x259414),_0x190361=A(_0x10d3d5[_0x341639(0x2f7)]);return await _0x216154[_0x341639(0x44c)](_0x190361)[_0x341639(0x3d4)]({'messageTimestamp':-0x1})[_0x341639(0x48d)](_0x10d3d5?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x1d7ec3(0x174)](_0x51be61,_0x447b1d){const _0x5075bf=a0_0x1d7ec3;try{let _0x49a161=this[_0x5075bf(0x405)](_0x447b1d),_0x38a612=A(_0x51be61[_0x5075bf(0x2f7)]);await _0x49a161[_0x5075bf(0x7b3)](_0x38a612);}catch(_0x2e3b8e){console['error'](_0x2e3b8e);}}async[a0_0x1d7ec3(0x6c4)](_0x1ad697,_0x18b8d2,_0x3a0260){const _0x5d3d3f=a0_0x1d7ec3;try{let _0x362124=this[_0x5d3d3f(0x405)](_0x3a0260),_0xa77399=A(_0x1ad697['where']);return await _0x362124[_0x5d3d3f(0x547)](_0xa77399,{'$set':_0x18b8d2},{'new':!0x0});}catch(_0x2fa394){throw console[_0x5d3d3f(0x6f8)](_0x2fa394),_0x2fa394;}}async[a0_0x1d7ec3(0x7ea)](_0x2e9a7a,_0x3a7f9a){const _0x40b7dc=a0_0x1d7ec3;if(_0x2e9a7a[_0x40b7dc(0x387)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x40b7dc(0x405)](_0x3a7f9a)[_0x40b7dc(0x7ea)]([..._0x2e9a7a]))[_0x40b7dc(0x387)]};}catch(_0x3d0f60){return console[_0x40b7dc(0xa6)](_0x40b7dc(0x65d),_0x3d0f60),_0x3d0f60;}}async[a0_0x1d7ec3(0x4a8)](_0x3c3871){const _0x610fa6=a0_0x1d7ec3;try{return await this[_0x610fa6(0x405)](_0x3c3871)[_0x610fa6(0x4ba)][_0x610fa6(0x39c)](),{'success':!0x0};}catch(_0x33327d){return console[_0x610fa6(0x6f8)](_0x33327d),{'success':!0x1,'error':_0x33327d};}}},Ds=T(require(a0_0x1d7ec3(0x18d))),w=T(require('@whiskeysockets/baileys')),Le=require('fs'),j=T(require(a0_0x1d7ec3(0x524))),Q=T(require(a0_0x1d7ec3(0x3c3))),Ii=require(a0_0x1d7ec3(0x36f)),Ti=T(require('qrcode')),_i=T(require(a0_0x1d7ec3(0x11d))),va=[a0_0x1d7ec3(0x208),a0_0x1d7ec3(0x648),a0_0x1d7ec3(0xee),a0_0x1d7ec3(0x760),a0_0x1d7ec3(0x600)],Na=[a0_0x1d7ec3(0x534),a0_0x1d7ec3(0x380),'viewOnceMessage',a0_0x1d7ec3(0x312)],Ps=require('os'),Ft=T(require(a0_0x1d7ec3(0x191))),Fe=require('child_process'),Oi=require(a0_0x1d7ec3(0x5a6)),ge=T(require('mongoose')),J=require(a0_0x1d7ec3(0x5b8)),ue=class{constructor(_0x580a98,_0x241446,_0x370063){const _0x82f01d=a0_0x1d7ec3;this[_0x82f01d(0x495)]=_0x580a98,this['exists']=_0x241446,this['name']=_0x370063;}},Qe=class{},Ye=class{},Te=class{},Xe=class{},Ze=class{},Ee=class{},et=class{},tt=class{},st=class{},at=class{},Ot=T(require(a0_0x1d7ec3(0xd7))),$a=require('fs'),Ra=require('path');async function _e(_0x3c49af){const _0x516be6=a0_0x1d7ec3;let _0x22b822=G['waInstances'][_0x3c49af];if(L[_0x516be6(0x7ff)]){let _0x454bac=I[_0x516be6(0x425)]()['db'](L[_0x516be6(0x4f9)][_0x516be6(0x1a7)]+_0x516be6(0x579))[_0x516be6(0x4ba)](_0x3c49af);return _0x22b822||(await _0x454bac[_0x516be6(0x44c)]({})['toArray']())['length']>0x0;}return _0x22b822||(0x0,$a[_0x516be6(0x2fb)])((0x0,Ra[_0x516be6(0x7e1)])(Se,_0x3c49af));}async function Aa(_0x2eacca,_0x440d96,_0x3f6177){const _0x2ffb1e=a0_0x1d7ec3;if(_0x2eacca[_0x2ffb1e(0x6ef)][_0x2ffb1e(0x603)]('/instance/create')||_0x2eacca[_0x2ffb1e(0x6ef)][_0x2ffb1e(0x603)](_0x2ffb1e(0x4aa))||_0x2eacca[_0x2ffb1e(0x6ef)][_0x2ffb1e(0x603)]('/exit')||_0x2eacca[_0x2ffb1e(0x6ef)][_0x2ffb1e(0x603)](_0x2ffb1e(0x4ce))||_0x2eacca['originalUrl'][_0x2ffb1e(0x603)](_0x2ffb1e(0x36b))||_0x2eacca['originalUrl'][_0x2ffb1e(0x603)](_0x2ffb1e(0x719))||_0x2eacca[_0x2ffb1e(0x6ef)][_0x2ffb1e(0x603)](_0x2ffb1e(0x694)))return _0x3f6177();let _0x1f1fcd=_0x2eacca[_0x2ffb1e(0x378)];if(!_0x1f1fcd?.[_0x2ffb1e(0x7ab)])throw new m('instanceName\x20not\x20provided.');if(!await _e(_0x1f1fcd[_0x2ffb1e(0x7ab)]))throw new U(_0x2ffb1e(0x384)+_0x1f1fcd[_0x2ffb1e(0x7ab)]+_0x2ffb1e(0x4e3));_0x3f6177();}async function Ia(_0x54fa20,_0x1670a7,_0x2a9019){const _0xb7bcf4=a0_0x1d7ec3;if(_0x54fa20[_0xb7bcf4(0x6ef)][_0xb7bcf4(0x603)](_0xb7bcf4(0x386))){let _0xd40487=_0x54fa20[_0xb7bcf4(0x3e2)];if(await _e(_0xd40487['instanceName']))throw new Z('This\x20name\x20'+_0xd40487[_0xb7bcf4(0x7ab)]+_0xb7bcf4(0x3e3));G['waInstances'][_0xd40487[_0xb7bcf4(0x7ab)]]&&delete G[_0xb7bcf4(0x337)][_0xd40487[_0xb7bcf4(0x7ab)]];}_0x2a9019();}var Ta=require(a0_0x1d7ec3(0x5b8)),_a=T(require(a0_0x1d7ec3(0x3d3))),it=a0_0x1d7ec3(0x28f),$o=new $(a0_0x1d7ec3(0x279));async function Ro(_0x596c33,_0x30d56e,_0x4d2333){const _0x33b8c0=a0_0x1d7ec3;let _0x14a1c8=_0x596c33[_0x33b8c0(0x332)]('apikey');if(_0x14a1c8&&S['get']('AUTHENTICATION')['API_KEY'][_0x33b8c0(0x34f)]!==_0x14a1c8)throw new ie();if(S[_0x33b8c0(0x332)](_0x33b8c0(0x243))['API_KEY'][_0x33b8c0(0x34f)]===_0x14a1c8)return _0x4d2333();if((_0x596c33[_0x33b8c0(0x6ef)]['includes'](_0x33b8c0(0x386))||_0x596c33[_0x33b8c0(0x6ef)][_0x33b8c0(0x603)]('/instance/fetchInstances'))&&!_0x14a1c8)throw new Z('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x3ef2c3=S[_0x33b8c0(0x332)](_0x33b8c0(0x243))[_0x33b8c0(0x343)];try{let [_0x13ec69,_0x33006e]=_0x596c33['get'](_0x33b8c0(0x5b9))['split']('\x20');if(_0x13ec69[_0x33b8c0(0x25b)]()!==_0x33b8c0(0x49e))throw new ie();if(!(0x0,Ta[_0x33b8c0(0x3a6)])(_0x33006e))throw new ie();let _0x21277b=_0x596c33[_0x33b8c0(0x378)],_0x639368=_a[_0x33b8c0(0x1af)][_0x33b8c0(0x43c)](_0x33006e,_0x3ef2c3[_0x33b8c0(0x2e5)],{'ignoreExpiration':_0x3ef2c3[_0x33b8c0(0x717)]===0x0});if(_0x21277b[_0x33b8c0(0x7ab)]!==_0x639368[_0x33b8c0(0x7ab)]||it!==_0x639368[_0x33b8c0(0x20c)])throw new ie();return _0x4d2333();}catch(_0x55455b){throw $o[_0x33b8c0(0x6f8)](_0x55455b),new ie();}}async function Ao(_0x3e0a58,_0x3ebcb3,_0x1bb5df){const _0x59d747=a0_0x1d7ec3;let _0x469a02=S[_0x59d747(0x332)]('AUTHENTICATION')[_0x59d747(0x555)],_0xd3996e=_0x3e0a58[_0x59d747(0x332)](_0x59d747(0x4f0));if(_0x469a02[_0x59d747(0x34f)]===_0xd3996e)return _0x1bb5df();if(_0x3e0a58['originalUrl'][_0x59d747(0x603)]('/instance/create')){let _0x1ade67=xa,_0x14f140=_0x3e0a58['body']['instanceName'];if(_0x1ade67&&_0x14f140[_0x59d747(0x25b)]()[_0x59d747(0x1b2)](_0x1ade67[_0x59d747(0x25b)]()))return _0x1bb5df();if(!_0xd3996e)throw new Z(_0x59d747(0x64c),_0x59d747(0xfe));}if(_0x3e0a58[_0x59d747(0x6ef)][_0x59d747(0x603)](_0x59d747(0x4aa))&&!_0xd3996e)throw new Z('Missing\x20global\x20api\x20key',_0x59d747(0xfe));if(_0x3e0a58[_0x59d747(0x6ef)][_0x59d747(0x603)](_0x59d747(0x576))&&!_0xd3996e)throw new Z(_0x59d747(0x64c),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x3e0a58[_0x59d747(0x6ef)][_0x59d747(0x603)]('/config')&&!_0xd3996e)throw new Z(_0x59d747(0x64c),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x2a4302=_0x3e0a58['params'],_0x47133b=await fe[_0x59d747(0x544)][_0x59d747(0x44c)](_0x2a4302[_0x59d747(0x7ab)]);if(_0x47133b&&_0x47133b[_0x59d747(0x4f0)]===_0xd3996e)return _0x1bb5df();}catch{}throw new ie();}var Oa={'jwt':Ro,'apikey':Ao},pi=require(a0_0x1d7ec3(0xd7)),C=require(a0_0x1d7ec3(0x36f)),E=(..._0x5aa759)=>{const _0x4f4528=a0_0x1d7ec3;let _0x15a01f={};return _0x5aa759[_0x4f4528(0xb2)](_0x2628ee=>_0x15a01f[_0x2628ee]={'minLength':0x1,'description':'The\x20\x22'+_0x2628ee+_0x4f4528(0x227)}),{'if':{'propertyNames':{'enum':[..._0x5aa759]}},'then':{'properties':_0x15a01f}};},N={'$id':(0x0,C['v4'])(),'type':'object','properties':{'instanceName':{'type':'string'}},...E(a0_0x1d7ec3(0x7ab))},Ac={'$id':(0x0,C['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x1d7ec3(0x2e7)}},'required':['oldToken'],...E(a0_0x1d7ec3(0x729))},Ic={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x1d7ec3(0x2e7)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x1d7ec3(0x9d),'fromMe'],...E('id','remoteJid')},'message':{'type':a0_0x1d7ec3(0x4b9)}}},oe={'properties':{'delay':{'type':'integer','description':a0_0x1d7ec3(0x383)},'presence':{'type':a0_0x1d7ec3(0x2e7),'enum':[a0_0x1d7ec3(0x801),'available',a0_0x1d7ec3(0x409),a0_0x1d7ec3(0x197),a0_0x1d7ec3(0x4db)]}}},ee={'type':a0_0x1d7ec3(0x2e7),'description':a0_0x1d7ec3(0x1fe)},Da={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'number':{...ee},'options':{...oe},'textMessage':{'type':a0_0x1d7ec3(0x4b9),'properties':{'text':{'type':a0_0x1d7ec3(0x2e7)}},'required':[a0_0x1d7ec3(0x7df)],...E(a0_0x1d7ec3(0x7df))}},'required':[a0_0x1d7ec3(0x7e7),a0_0x1d7ec3(0x59e)]},Pa={'type':'string','pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x1d7ec3(0x1fe)},Tc={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'number':{...Pa},'options':{...oe},'textMessage':{'type':a0_0x1d7ec3(0x4b9),'properties':{'text':{'type':a0_0x1d7ec3(0x2e7)}},'required':[a0_0x1d7ec3(0x7df)],...E(a0_0x1d7ec3(0x7df))}},'required':[a0_0x1d7ec3(0x7e7),a0_0x1d7ec3(0x59e)]},_c={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'number':{...Pa},'options':{...oe},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x1d7ec3(0x2e7),'enum':['image',a0_0x1d7ec3(0x54d),a0_0x1d7ec3(0x52b),'audio']},'media':{'type':'string'},'fileName':{'type':a0_0x1d7ec3(0x2e7)},'caption':{'type':a0_0x1d7ec3(0x2e7)}},'required':['mediatype',a0_0x1d7ec3(0x800)],...E(a0_0x1d7ec3(0x107),a0_0x1d7ec3(0x4ab),'media')}},'required':[a0_0x1d7ec3(0x210),a0_0x1d7ec3(0x59e)]},ka={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'number':{...ee},'options':{...oe},'stickerMessage':{'type':a0_0x1d7ec3(0x4b9),'properties':{'image':{'type':'string'}},'required':['image'],...E(a0_0x1d7ec3(0x77d))}},'required':['stickerMessage','number']},La={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x1d7ec3(0x2e7),'enum':[a0_0x1d7ec3(0x7df),'image','audio',a0_0x1d7ec3(0x52b)]},'content':{'type':a0_0x1d7ec3(0x2e7)},'caption':{'type':a0_0x1d7ec3(0x2e7)},'backgroundColor':{'type':a0_0x1d7ec3(0x2e7)},'font':{'type':a0_0x1d7ec3(0xc4),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x1d7ec3(0x7c9),a0_0x1d7ec3(0x562)],...E('type',a0_0x1d7ec3(0x562))}},'required':[a0_0x1d7ec3(0x632)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'number':{...ee},'options':{...oe},'mediaMessage':{'type':a0_0x1d7ec3(0x4b9),'properties':{'mediatype':{'type':a0_0x1d7ec3(0x2e7),'enum':[a0_0x1d7ec3(0x77d),a0_0x1d7ec3(0x54d),a0_0x1d7ec3(0x52b),a0_0x1d7ec3(0x574)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x1d7ec3(0x2e7)}},'required':[a0_0x1d7ec3(0x738),'media'],...E(a0_0x1d7ec3(0x107),a0_0x1d7ec3(0x4ab),a0_0x1d7ec3(0x800))}},'required':[a0_0x1d7ec3(0x210),'number']},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'number':{...ee},'options':{...oe},'audioMessage':{'type':a0_0x1d7ec3(0x4b9),'properties':{'audio':{'type':a0_0x1d7ec3(0x2e7)}},'required':[a0_0x1d7ec3(0x574)],...E(a0_0x1d7ec3(0x574))}},'required':[a0_0x1d7ec3(0xee),'number']},ja={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'number':{...ee},'pollMessage':{'type':'object','properties':{'name':{'type':a0_0x1d7ec3(0x2e7)},'selectableCount':{'type':a0_0x1d7ec3(0x59e)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x1d7ec3(0x70c),a0_0x1d7ec3(0x663),'values'],...E(a0_0x1d7ec3(0x70c),'selectableCount',a0_0x1d7ec3(0x771))}},'required':[a0_0x1d7ec3(0x59e),a0_0x1d7ec3(0x7b0)]},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'number':{...ee},'menuMessage':{'type':a0_0x1d7ec3(0x4b9),'properties':{'text':{'type':a0_0x1d7ec3(0x2e7)},'choices':{'type':a0_0x1d7ec3(0x64e),'uniqueItems':!0x0}},'required':['text',a0_0x1d7ec3(0x114)],...E(a0_0x1d7ec3(0x7df),'choices')}},'required':[a0_0x1d7ec3(0x59e),a0_0x1d7ec3(0x2a3)]},qa={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'number':{...ee},'options':{...oe},'locationMessage':{'type':'object','properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x1d7ec3(0x59e)},'name':{'type':'string'},'address':{'type':a0_0x1d7ec3(0x2e7)}},'required':[a0_0x1d7ec3(0x3eb),a0_0x1d7ec3(0x3be)],...E(a0_0x1d7ec3(0x70c),a0_0x1d7ec3(0x4a7))}},'required':[a0_0x1d7ec3(0x59e),'locationMessage']},Va={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'number':{...ee},'options':{...oe},'listMessage':{'type':a0_0x1d7ec3(0x4b9),'properties':{'title':{'type':a0_0x1d7ec3(0x2e7)},'description':{'type':a0_0x1d7ec3(0x2e7)},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':a0_0x1d7ec3(0x64e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x1d7ec3(0x2e7)},'rows':{'type':a0_0x1d7ec3(0x64e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1d7ec3(0x4b9),'properties':{'title':{'type':a0_0x1d7ec3(0x2e7)},'description':{'type':'string'},'rowId':{'type':a0_0x1d7ec3(0x2e7)}},'required':[a0_0x1d7ec3(0x1bb),a0_0x1d7ec3(0x435)],...E('title','rowId')}}},'required':[a0_0x1d7ec3(0x1bb),a0_0x1d7ec3(0x413)],...E(a0_0x1d7ec3(0x1bb))}}},'required':[a0_0x1d7ec3(0x1bb),'description',a0_0x1d7ec3(0xcf),'sections'],...E(a0_0x1d7ec3(0x1bb),a0_0x1d7ec3(0x675),a0_0x1d7ec3(0xcf),a0_0x1d7ec3(0x7a0))}},'required':['number',a0_0x1d7ec3(0x199)]},Ga={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'number':{...ee},'options':{...oe},'contactMessage':{'type':a0_0x1d7ec3(0x64e),'items':{'type':'object','properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x1d7ec3(0x2e7),'minLength':0xa}},'required':[a0_0x1d7ec3(0x565),a0_0x1d7ec3(0x420)],...E(a0_0x1d7ec3(0x565))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x1d7ec3(0x59e),'contactMessage']},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'reactionMessage':{'type':a0_0x1d7ec3(0x4b9),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x1d7ec3(0x2e7)},'remoteJid':{'type':a0_0x1d7ec3(0x2e7)},'fromMe':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1d7ec3(0x9d),a0_0x1d7ec3(0x123)],...E('id',a0_0x1d7ec3(0x9d))},'reaction':{'type':a0_0x1d7ec3(0x2e7)}},'required':[a0_0x1d7ec3(0x7e8),a0_0x1d7ec3(0x1bc)],...E(a0_0x1d7ec3(0x1bc))}},'required':[a0_0x1d7ec3(0x7c0)]},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'numbers':{'type':a0_0x1d7ec3(0x64e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1d7ec3(0x2e7),'pattern':a0_0x1d7ec3(0x400),'description':a0_0x1d7ec3(0x686)}}}},za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x1d7ec3(0x64e),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x1d7ec3(0x2e7)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x1d7ec3(0x2e7)}},'required':['id',a0_0x1d7ec3(0x123),'remoteJid'],...E('id','remoteJid')}}},'required':['readMessages']},Ha={'$id':(0x0,C['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x1d7ec3(0x4b9),'properties':{'readreceipts':{'type':a0_0x1d7ec3(0x2e7),'enum':['all',a0_0x1d7ec3(0x4b7)]},'profile':{'type':'string','enum':['all','contacts',a0_0x1d7ec3(0x5b2),a0_0x1d7ec3(0x4b7)]},'status':{'type':a0_0x1d7ec3(0x2e7),'enum':[a0_0x1d7ec3(0x4f6),a0_0x1d7ec3(0x7e6),a0_0x1d7ec3(0x5b2),a0_0x1d7ec3(0x4b7)]},'online':{'type':a0_0x1d7ec3(0x2e7),'enum':[a0_0x1d7ec3(0x4f6),a0_0x1d7ec3(0x64f)]},'last':{'type':a0_0x1d7ec3(0x2e7),'enum':[a0_0x1d7ec3(0x4f6),a0_0x1d7ec3(0x7e6),a0_0x1d7ec3(0x5b2),a0_0x1d7ec3(0x4b7)]},'groupadd':{'type':'string','enum':[a0_0x1d7ec3(0x4f6),a0_0x1d7ec3(0x7e6),'contact_blacklist',a0_0x1d7ec3(0x4b7)]}},'required':[a0_0x1d7ec3(0x79e),'profile',a0_0x1d7ec3(0x77f),a0_0x1d7ec3(0x496),a0_0x1d7ec3(0x656),a0_0x1d7ec3(0x29e)],...E(a0_0x1d7ec3(0x79e),a0_0x1d7ec3(0x3b5),'status',a0_0x1d7ec3(0x496),a0_0x1d7ec3(0x656),a0_0x1d7ec3(0x29e))}},'required':['privacySettings']},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'lastMessage':{'type':a0_0x1d7ec3(0x4b9),'properties':{'key':{'type':a0_0x1d7ec3(0x4b9),'properties':{'id':{'type':a0_0x1d7ec3(0x2e7)},'remoteJid':{'type':a0_0x1d7ec3(0x2e7)},'fromMe':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]}},'required':['id',a0_0x1d7ec3(0x123),a0_0x1d7ec3(0x9d)],...E('id',a0_0x1d7ec3(0x9d))},'messageTimestamp':{'type':a0_0x1d7ec3(0xc4),'minLength':0x1}},'required':[a0_0x1d7ec3(0x7e8)],...E(a0_0x1d7ec3(0x101))},'archive':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]}},'required':[a0_0x1d7ec3(0x7d5),a0_0x1d7ec3(0x4b6)]},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'id':{'type':a0_0x1d7ec3(0x2e7)},'fromMe':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'},'participant':{'type':a0_0x1d7ec3(0x2e7)}},'required':['id',a0_0x1d7ec3(0x123),a0_0x1d7ec3(0x9d)],...E('id',a0_0x1d7ec3(0x9d),a0_0x1d7ec3(0x2e1))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'where':{'type':a0_0x1d7ec3(0x4b9),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x1d7ec3(0x2e7),'minLength':0x1},'id':{'type':a0_0x1d7ec3(0x2e7),'minLength':0x1}},...E(a0_0x1d7ec3(0x6ee),'id',a0_0x1d7ec3(0x754))}}},Xa={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'name':{'type':a0_0x1d7ec3(0x2e7)}},...E(a0_0x1d7ec3(0x70c))},Za={'$id':(0x0,C['v4'])(),'type':'object','properties':{'status':{'type':a0_0x1d7ec3(0x2e7)}},...E(a0_0x1d7ec3(0x77f))},Oe={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'number':{'type':a0_0x1d7ec3(0x2e7)},'picture':{'type':a0_0x1d7ec3(0x2e7)}}},ei={'type':a0_0x1d7ec3(0x4b9),'properties':{'wuid':{'type':a0_0x1d7ec3(0x2e7)},'name':{'type':'string'},'picture':{'type':a0_0x1d7ec3(0x2e7)},'status':{'type':a0_0x1d7ec3(0x2e7)},'isBusiness':{'type':a0_0x1d7ec3(0x728)}}},ti={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x1d7ec3(0x2e7),'minLength':0x1},'key':{'type':a0_0x1d7ec3(0x4b9),'if':{'propertyNames':{'enum':[a0_0x1d7ec3(0x123),a0_0x1d7ec3(0x9d),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x1d7ec3(0x2e7),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x1d7ec3(0x2e7),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...E('_id')},'limit':{'type':'integer'}}},Oc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x1d7ec3(0x4b9),'properties':{'_id':{'type':'string'},'remoteJid':{'type':'string'},'id':{'type':'string'},'fromMe':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x1d7ec3(0x2e7)},'status':{'type':a0_0x1d7ec3(0x2e7),'enum':['ERROR',a0_0x1d7ec3(0x38d),a0_0x1d7ec3(0x570),'DELIVERY_ACK','READ','PLAYED']}},...E('_id',a0_0x1d7ec3(0x9d),'id','status')},'limit':{'type':a0_0x1d7ec3(0xc4)}}},si={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'number':{...ee},'presence':{'type':a0_0x1d7ec3(0x2e7),'enum':['unavailable',a0_0x1d7ec3(0x525),a0_0x1d7ec3(0x409),'recording',a0_0x1d7ec3(0x4db)]}},'required':['presence','number']},ai={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x1d7ec3(0x2e7)},'profilePicture':{'type':a0_0x1d7ec3(0x2e7)},'participants':{'type':a0_0x1d7ec3(0x64e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':'\x5cd+','description':a0_0x1d7ec3(0x6ab)}}},'required':[a0_0x1d7ec3(0x6dd),a0_0x1d7ec3(0x68a)],...E(a0_0x1d7ec3(0x6dd),a0_0x1d7ec3(0x675),'profilePicture')},xe={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'groupJid':{'type':a0_0x1d7ec3(0x2e7),'pattern':a0_0x1d7ec3(0x2a7)}},'required':[a0_0x1d7ec3(0x168)],...E(a0_0x1d7ec3(0x168))},ii={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'groupJid':{'type':a0_0x1d7ec3(0x2e7)},'action':{'type':a0_0x1d7ec3(0x2e7),'enum':[a0_0x1d7ec3(0x2ea),a0_0x1d7ec3(0xad),'promote','demote',a0_0x1d7ec3(0x705),'approve']},'participants':{'type':a0_0x1d7ec3(0x64e),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x1d7ec3(0x2e7),'minLength':0xa,'pattern':a0_0x1d7ec3(0xfb),'description':a0_0x1d7ec3(0x6ab)}}},'required':[a0_0x1d7ec3(0x168),'action','participants'],...E(a0_0x1d7ec3(0x168),'action')},oi={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'groupJid':{'type':a0_0x1d7ec3(0x2e7)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x1d7ec3(0x28c)],...E(a0_0x1d7ec3(0x168),a0_0x1d7ec3(0x28c))},ri={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x1d7ec3(0x2e7)}},'required':[a0_0x1d7ec3(0x168),'image'],...E('groupJid',a0_0x1d7ec3(0x77d))},ni={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'groupJid':{'type':a0_0x1d7ec3(0x2e7)},'description':{'type':'string'}},'required':[a0_0x1d7ec3(0x168),a0_0x1d7ec3(0x675)],...E(a0_0x1d7ec3(0x168),a0_0x1d7ec3(0x675))},ci={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'groupJid':{'type':a0_0x1d7ec3(0x2e7)},'name':{'type':a0_0x1d7ec3(0x2e7)}},'required':[a0_0x1d7ec3(0x168),a0_0x1d7ec3(0x70c)],...E('groupJid',a0_0x1d7ec3(0x70c))},li={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'groupJid':{'type':a0_0x1d7ec3(0x2e7)},'setting':{'type':a0_0x1d7ec3(0x2e7),'enum':[a0_0x1d7ec3(0x620),'not_announcement',a0_0x1d7ec3(0x1f1),'locked']}},'required':[a0_0x1d7ec3(0x168),a0_0x1d7ec3(0x53f)],...E(a0_0x1d7ec3(0x168),a0_0x1d7ec3(0x53f))},ui={'$id':(0x0,C['v4'])(),'type':a0_0x1d7ec3(0x4b9),'properties':{'groupJid':{'type':a0_0x1d7ec3(0x2e7)},'restrict':{'type':a0_0x1d7ec3(0x728)},'announce':{'type':a0_0x1d7ec3(0x728)},'memberAddMode':{'type':a0_0x1d7ec3(0x728)},'joinApprovalMode':{'type':a0_0x1d7ec3(0x728)},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x1d7ec3(0x2e7)},'description':{'type':a0_0x1d7ec3(0x2e7)},'image':{'type':a0_0x1d7ec3(0x2e7)}}},Ns={'$id':(0x0,C['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x1d7ec3(0x2e7)}},'required':['inviteCode'],...E('inviteCode')},di={'$id':(0x0,C['v4'])(),'type':'object','properties':{'url':{'type':'string'},'enabled':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]}},'required':[a0_0x1d7ec3(0x6fa),a0_0x1d7ec3(0x5e4)]},xc={'$id':(0x0,C['v4'])(),'type':'object','properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x1d7ec3(0x728),'enum':[!0x0,!0x1]}},'required':['local_map','STATUS_INSTANCE',a0_0x1d7ec3(0x609),a0_0x1d7ec3(0x5b3),a0_0x1d7ec3(0x186),a0_0x1d7ec3(0x3f1),'SEND_MESSAGE','CONTACTS_SET',a0_0x1d7ec3(0x67e),a0_0x1d7ec3(0x16a),a0_0x1d7ec3(0x62e),a0_0x1d7ec3(0x417),'CHATS_UPSERT','CHATS_UPDATE',a0_0x1d7ec3(0x262),a0_0x1d7ec3(0x7e2),a0_0x1d7ec3(0x33e),a0_0x1d7ec3(0x660),'GROUP_PARTICIPANTS_UPDATE'],...E(a0_0x1d7ec3(0x351),'STATUS_INSTANCE',a0_0x1d7ec3(0x609),a0_0x1d7ec3(0x5b3),a0_0x1d7ec3(0x186),'MESSAGES_UPSERT','SEND_MESSAGE',a0_0x1d7ec3(0x428),a0_0x1d7ec3(0x67e),a0_0x1d7ec3(0x16a),a0_0x1d7ec3(0x62e),'CHATS_SET',a0_0x1d7ec3(0xff),'CHATS_UPDATE',a0_0x1d7ec3(0x262),a0_0x1d7ec3(0x7e2),a0_0x1d7ec3(0x33e),a0_0x1d7ec3(0x660),a0_0x1d7ec3(0x3ec))},ot=class{},rt=class extends _{[a0_0x1d7ec3(0x613)](_0x396f86){return aa(_0x396f86);}async[a0_0x1d7ec3(0x718)](_0x289229){const _0x31fb8a=a0_0x1d7ec3;if(_0x289229[_0x31fb8a(0x387)]!==0x0)try{return{'insertCount':(await this[_0x31fb8a(0x613)](_0x289229[0x0]['owner'])[_0x31fb8a(0x7ea)]([..._0x289229]))[_0x31fb8a(0x387)]};}catch(_0x21eb48){return _0x21eb48;}}async[a0_0x1d7ec3(0x174)](_0x55e63e,_0x18d81f){const _0x11a040=a0_0x1d7ec3;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x18d81f)[_0x11a040(0x7b3)]({..._0x55e63e[_0x11a040(0x2f7)]}))[_0x11a040(0x78a)]};}catch(_0x667793){return{'error':_0x667793?.[_0x11a040(0x125)]()};}}async[a0_0x1d7ec3(0x6c4)](_0x3e257e,_0x55f732){const _0x23f033=a0_0x1d7ec3;try{if(_0x3e257e[_0x23f033(0x387)]===0x0)return;let _0x13e076=this[_0x23f033(0x613)](_0x55f732),_0x3331da=_0x3e257e[_0x23f033(0x5c2)](_0x55c67a=>({'updateOne':{'filter':{'_id':_0x55c67a[_0x23f033(0x6ee)],'owner':_0x55f732},'update':{..._0x55c67a}}})),{modifiedCount:_0x503501}=await _0x13e076[_0x23f033(0xe4)](_0x3331da);return{'insertCount':_0x503501};}catch{return;}}async[a0_0x1d7ec3(0x44c)](_0x4c4a3b,_0x43137b){const _0x147987=a0_0x1d7ec3;try{let _0x567e5c=this[_0x147987(0x613)](_0x43137b),_0x4b4c50=A(_0x4c4a3b[_0x147987(0x2f7)]);return await _0x567e5c[_0x147987(0x44c)](_0x4b4c50)[_0x147987(0x48d)](_0x4c4a3b?.[_0x147987(0x48d)]??0x0)[_0x147987(0x573)]();}catch{return[];}}async[a0_0x1d7ec3(0x6f0)](_0x150729,_0x3b0b38){const _0x26a0d9=a0_0x1d7ec3;try{let _0x5aadc1=this[_0x26a0d9(0x613)](_0x3b0b38),_0x58577a=A(_0x150729['where']);return await _0x5aadc1[_0x26a0d9(0x6f0)](_0x58577a)[_0x26a0d9(0x573)]();}catch{return null;}}async[a0_0x1d7ec3(0x4a8)](_0x428ba5){const _0x10fd6a=a0_0x1d7ec3;try{return await this['getContactModelForOwner'](_0x428ba5)[_0x10fd6a(0x4ba)]['drop'](),{'success':!0x0};}catch(_0x1b24fa){return console[_0x10fd6a(0x6f8)](_0x1b24fa),{'success':!0x1,'error':_0x1b24fa};}}},nt=require('jsonschema'),qc=require(a0_0x1d7ec3(0x5f4)),$s=new $('Validate'),V=class{['routerPath'](_0x491303,_0xe69268=!0x0){const _0x1e379a=a0_0x1d7ec3;let _0x1ffaac='/'+_0x491303;return _0xe69268&&(_0x1ffaac+=_0x1e379a(0x79c)),_0x1ffaac;}async['dataValidate'](_0x1f3149){const _0x5101b4=a0_0x1d7ec3;let {request:_0x486293,schema:_0x50c82a,ClassRef:_0x274f3f,execute:_0xde8f0c}=_0x1f3149,_0x228f5d=new _0x274f3f(),_0x2ad125=_0x486293[_0x5101b4(0x3e2)],_0x13da37=_0x486293['params'];_0x486293?.['query']&&Object[_0x5101b4(0x29b)](_0x486293[_0x5101b4(0x4c9)])[_0x5101b4(0x387)]>0x0&&Object[_0x5101b4(0x790)](_0x13da37,_0x486293['query']),_0x486293[_0x5101b4(0x6ef)][_0x5101b4(0x603)](_0x5101b4(0x386))&&Object['assign'](_0x13da37,_0x2ad125),Object[_0x5101b4(0x790)](_0x228f5d,_0x2ad125);let _0x2af3e4=_0x50c82a?(0x0,nt[_0x5101b4(0x278)])(_0x228f5d,_0x50c82a):{'valid':!0x0,'errors':[]};if(!_0x2af3e4['valid']){let _0x57bd1e=_0x2af3e4[_0x5101b4(0x213)][_0x5101b4(0x5c2)](({property:_0x4667a9,stack:_0x98d75,schema:_0x143ea7})=>{const _0x397e63=_0x5101b4;let _0x2a5707;return _0x143ea7['description']?_0x2a5707=_0x143ea7[_0x397e63(0x675)]:_0x2a5707=_0x98d75[_0x397e63(0x404)](_0x397e63(0x2bb),''),{'property':_0x4667a9[_0x397e63(0x404)]('instance.',''),'message':_0x2a5707};});throw $s[_0x5101b4(0x6f8)]([..._0x57bd1e]),new m(..._0x57bd1e);}return await _0xde8f0c(_0x13da37,_0x228f5d);}async[a0_0x1d7ec3(0x6d9)](_0x48729b){const _0x3fa38a=a0_0x1d7ec3;let {request:_0x30c93e,ClassRef:_0x2b96ea,schema:_0x42fa3a,execute:_0x5ae64c}=_0x48729b,_0x3cf7e4=_0x30c93e[_0x3fa38a(0x4c9)];if(!_0x3cf7e4?.[_0x3fa38a(0x168)])throw new m(_0x3fa38a(0x264),_0x3fa38a(0x6cf));let _0x5c1879=_0x30c93e['params'],_0x1151de=_0x30c93e[_0x3fa38a(0x3e2)],_0x22b984=new _0x2b96ea();Object[_0x3fa38a(0x790)](_0x1151de,_0x3cf7e4),Object[_0x3fa38a(0x790)](_0x22b984,_0x1151de);let _0x34315e=(0x0,nt[_0x3fa38a(0x278)])(_0x22b984,_0x42fa3a);if(!_0x34315e[_0x3fa38a(0x6c1)]){let _0x4d17ed=_0x34315e['errors'][_0x3fa38a(0x5c2)](({property:_0x193d9f,stack:_0x48877e,schema:_0x485eb2})=>{const _0x20e30d=_0x3fa38a;let _0x424c82;return _0x485eb2[_0x20e30d(0x675)]?_0x424c82=_0x485eb2[_0x20e30d(0x675)]:_0x424c82=_0x48877e[_0x20e30d(0x404)](_0x20e30d(0x2bb),''),{'property':_0x193d9f[_0x20e30d(0x404)](_0x20e30d(0x2bb),''),'message':_0x424c82};});throw $s[_0x3fa38a(0x6f8)]([..._0x4d17ed]),new m(..._0x4d17ed);}return await _0x5ae64c(_0x5c1879,_0x22b984);}async[a0_0x1d7ec3(0x348)](_0xe4fd04){const _0x45c957=a0_0x1d7ec3;let {request:_0x15e4e8,ClassRef:_0x308a57,schema:_0x1307ca,execute:_0x79a4f9}=_0xe4fd04,_0x3cfaa1=_0x15e4e8[_0x45c957(0x3e2)];if(!_0x3cfaa1?.['inviteCode'])throw new m(_0x45c957(0x703),_0x45c957(0x10a));let _0x46d58b=_0x15e4e8[_0x45c957(0x378)],_0x3f5838=_0x15e4e8['body'],_0x37033c=new _0x308a57();Object[_0x45c957(0x790)](_0x3f5838,_0x3cfaa1),Object[_0x45c957(0x790)](_0x37033c,_0x3f5838);let _0x1980a4=(0x0,nt[_0x45c957(0x278)])(_0x37033c,_0x1307ca);if(!_0x1980a4[_0x45c957(0x6c1)]){let _0x4de568=_0x1980a4[_0x45c957(0x213)][_0x45c957(0x5c2)](({property:_0x545c7c,stack:_0x2f772e,schema:_0xc6ce52})=>{const _0x525231=_0x45c957;let _0x45f70b;return _0xc6ce52[_0x525231(0x675)]?_0x45f70b=_0xc6ce52['description']:_0x45f70b=_0x2f772e[_0x525231(0x404)](_0x525231(0x2bb),''),{'property':_0x545c7c[_0x525231(0x404)](_0x525231(0x2bb),''),'message':_0x45f70b};});throw $s[_0x45c957(0x6f8)]([..._0x4de568]),new m(..._0x4de568);}return await _0x79a4f9(_0x46d58b,_0x37033c);}},M=class{},al=new $(a0_0x1d7ec3(0x10c)),ct=class extends V{constructor(..._0x2b27b8){const _0x332815=a0_0x1d7ec3;super(),this[_0x332815(0x3ea)]=(0x0,pi[_0x332815(0x74e)])(),this[_0x332815(0x3ea)][_0x332815(0x7f5)](this[_0x332815(0x333)](_0x332815(0x6e3)),..._0x2b27b8,async(_0x31f780,_0xdc69ac)=>{const _0x5a229f=_0x332815;let _0x1b5a9d=await this[_0x5a229f(0x6cb)]({'request':_0x31f780,'schema':si,'ClassRef':Qe,'execute':(_0x4fbea0,_0x5d4116)=>P['updatePresence'](_0x4fbea0,_0x5d4116)});return _0xdc69ac[_0x5a229f(0x77f)](0xc9)[_0x5a229f(0x16f)](_0x1b5a9d);})[_0x332815(0x7f5)](this[_0x332815(0x333)](_0x332815(0x195)),..._0x2b27b8,async(_0x4e5e1e,_0x361d0b)=>{const _0x922624=_0x332815;let _0x1f846d=await this[_0x922624(0x6cb)]({'request':_0x4e5e1e,'schema':Wa,'ClassRef':Ye,'execute':(_0x2bcfb1,_0x2c8081)=>P[_0x922624(0x691)](_0x2bcfb1,_0x2c8081)});return _0x361d0b[_0x922624(0x77f)](0xc9)[_0x922624(0x16f)](_0x1f846d);})[_0x332815(0x7f5)](this['routerPath']('editChat'),..._0x2b27b8,async(_0x5b4080,_0x1a6671)=>{const _0x114ed3=_0x332815;let _0x2b6081=await this['dataValidate']({'request':_0x5b4080,'schema':N,'ClassRef':M,'execute':(_0x2279f8,_0x5e4660)=>P[_0x114ed3(0x42e)](_0x2279f8,_0x5e4660)});return _0x1a6671['status'](0xc9)[_0x114ed3(0x16f)](_0x2b6081);})['put'](this[_0x332815(0x333)]('markMessageAsRead'),..._0x2b27b8,async(_0x5e8aab,_0x245d26)=>{const _0x1ff213=_0x332815;let _0x1f9f3d=await this[_0x1ff213(0x6cb)]({'request':_0x5e8aab,'schema':za,'ClassRef':et,'execute':(_0xf840ca,_0x1ade4b)=>P['readMessage'](_0xf840ca,_0x1ade4b)});return _0x245d26[_0x1ff213(0x77f)](0xc9)['json'](_0x1f9f3d);})[_0x332815(0x2f2)](this[_0x332815(0x333)](_0x332815(0xae)),..._0x2b27b8,async(_0x160fce,_0x1ef8e4)=>{const _0x30bdbb=_0x332815;let _0x48ed0e=await this[_0x30bdbb(0x6cb)]({'request':_0x160fce,'schema':Ka,'ClassRef':tt,'execute':(_0x2b8528,_0x11cd63)=>P[_0x30bdbb(0xae)](_0x2b8528,_0x11cd63)});return _0x1ef8e4[_0x30bdbb(0x77f)](0xc9)['json'](_0x48ed0e);})['delete'](this[_0x332815(0x333)](_0x332815(0x27c)),..._0x2b27b8,async(_0x1249d7,_0x4d0e37)=>{const _0x466aa5=_0x332815;let _0x5951a1=await this[_0x466aa5(0x6cb)]({'request':_0x1249d7,'schema':Qa,'ClassRef':at,'execute':(_0x6f0a3f,_0x28bce2)=>P[_0x466aa5(0x2ab)](_0x6f0a3f,_0x28bce2)});return _0x4d0e37['status'](0xc9)[_0x466aa5(0x16f)](_0x5951a1);})[_0x332815(0x7f5)](this[_0x332815(0x333)](_0x332815(0x666)),..._0x2b27b8,async(_0x4a4351,_0x304f8d)=>{const _0xd0b76e=_0x332815;let _0x5ef525=await this['dataValidate']({'request':_0x4a4351,'schema':Oe,'ClassRef':Te,'execute':(_0x4a43fa,_0x59a49b)=>P[_0xd0b76e(0xfd)](_0x4a43fa,_0x59a49b)});return _0x304f8d[_0xd0b76e(0x77f)](0xc8)[_0xd0b76e(0x16f)](_0x5ef525);})[_0x332815(0x7f5)](this[_0x332815(0x333)](_0x332815(0x79d)),..._0x2b27b8,async(_0x254c32,_0x3dd7b3)=>{const _0x14368a=_0x332815;let _0x450f87=await this[_0x14368a(0x6cb)]({'request':_0x254c32,'schema':ei,'ClassRef':Te,'execute':(_0x2a60bb,_0xf1015d)=>P[_0x14368a(0x79d)](_0x2a60bb,_0xf1015d)});return _0x3dd7b3[_0x14368a(0x77f)](0xc8)[_0x14368a(0x16f)](_0x450f87);})[_0x332815(0x7f5)](this[_0x332815(0x333)](_0x332815(0x489)),..._0x2b27b8,async(_0x2cdc65,_0x54b652)=>{const _0x3ddcdc=_0x332815;let _0x2f33bc=await this[_0x3ddcdc(0x6cb)]({'request':_0x2cdc65,'schema':Ya,'ClassRef':ot,'execute':(_0x1c3cf8,_0x1011e2)=>P['fetchContacts'](_0x1c3cf8,_0x1011e2)});return _0x54b652[_0x3ddcdc(0x77f)](0xc8)[_0x3ddcdc(0x16f)](_0x2f33bc);})[_0x332815(0x7f5)](this[_0x332815(0x333)]('getBase64FromMediaMessage'),..._0x2b27b8,async(_0x122c72,_0x474304)=>{const _0x5b84f6=_0x332815;let _0x59bb1f=await this['dataValidate']({'request':_0x122c72,'schema':null,'ClassRef':Object,'execute':(_0x26ba9c,_0x488001)=>P[_0x5b84f6(0x14d)](_0x26ba9c,_0x488001)});return _0x474304[_0x5b84f6(0x77f)](0xc9)[_0x5b84f6(0x16f)](_0x59bb1f);})[_0x332815(0x7f5)](this['routerPath'](_0x332815(0x683)),..._0x2b27b8,async(_0xc1fd59,_0x26fb59)=>{const _0x13d00c=_0x332815;let _0xfb9a4b=await this['dataValidate']({'request':_0xc1fd59,'schema':ti,'ClassRef':He,'execute':(_0x3ef16e,_0x2f1736)=>P[_0x13d00c(0x317)](_0x3ef16e,_0x2f1736)});return _0x26fb59['status'](0xc8)[_0x13d00c(0x16f)](_0xfb9a4b);})[_0x332815(0x332)](this['routerPath']('findChats'),..._0x2b27b8,async(_0x362154,_0x5ddb7b)=>{const _0x108b44=_0x332815;let _0x53b1fc=await this[_0x108b44(0x6cb)]({'request':_0x362154,'schema':null,'ClassRef':M,'execute':_0x32a972=>P[_0x108b44(0x1ea)](_0x32a972)});return _0x5ddb7b[_0x108b44(0x77f)](0xc8)[_0x108b44(0x16f)](_0x53b1fc);})[_0x332815(0x332)](this['routerPath']('findLabels'),..._0x2b27b8,async(_0x41018d,_0x56fa89)=>{const _0x54083d=_0x332815;let _0x370b2c=await this[_0x54083d(0x6cb)]({'request':_0x41018d,'schema':null,'ClassRef':M,'execute':_0x5c8230=>P[_0x54083d(0x76f)](_0x5c8230)});return _0x56fa89[_0x54083d(0x77f)](0xc8)[_0x54083d(0x16f)](_0x370b2c);})[_0x332815(0x2f2)](this[_0x332815(0x333)](_0x332815(0x180)),..._0x2b27b8,async(_0x1f47bd,_0x445d66)=>{const _0x571748=_0x332815;let _0x20cbb4=await this[_0x571748(0x6cb)]({'request':_0x1f47bd,'schema':null,'ClassRef':Array,'execute':(_0x173f62,_0x4109f7)=>P[_0x571748(0x180)](_0x173f62,_0x4109f7)});return _0x445d66[_0x571748(0x77f)](0xc8)[_0x571748(0x16f)](_0x20cbb4);})[_0x332815(0x332)](this[_0x332815(0x333)](_0x332815(0x299)),..._0x2b27b8,async(_0x3fea0f,_0x517960)=>{const _0x482a74=_0x332815;let _0xbd031b=await this[_0x482a74(0x6cb)]({'request':_0x3fea0f,'schema':null,'ClassRef':M,'execute':_0x553655=>P[_0x482a74(0x299)](_0x553655)});return _0x517960[_0x482a74(0x77f)](0xc8)[_0x482a74(0x16f)](_0xbd031b);})['put'](this[_0x332815(0x333)]('updatePrivacySettings'),..._0x2b27b8,async(_0x5e78ae,_0x4471bd)=>{const _0xe2a27b=_0x332815;let _0x130529=await this['dataValidate']({'request':_0x5e78ae,'schema':Ha,'ClassRef':st,'execute':(_0x310831,_0x39f24e)=>P['updatePrivacySettings'](_0x310831,_0x39f24e)});return _0x4471bd[_0xe2a27b(0x77f)](0xc9)[_0xe2a27b(0x16f)](_0x130529);})[_0x332815(0x7f5)](this[_0x332815(0x333)]('fetchBusinessProfile'),..._0x2b27b8,async(_0x867480,_0x45f5f7)=>{const _0x53dfbf=_0x332815;let _0x35c061=await this[_0x53dfbf(0x6cb)]({'request':_0x867480,'schema':Oe,'ClassRef':Ee,'execute':(_0x1446a8,_0x41d2d5)=>P[_0x53dfbf(0x119)](_0x1446a8,_0x41d2d5)});return _0x45f5f7[_0x53dfbf(0x77f)](0xc8)[_0x53dfbf(0x16f)](_0x35c061);})[_0x332815(0x7f5)](this[_0x332815(0x333)](_0x332815(0x321)),..._0x2b27b8,async(_0x2729c3,_0xebb6f7)=>{const _0x45281c=_0x332815;let _0x189d97=await this[_0x45281c(0x6cb)]({'request':_0x2729c3,'schema':Xa,'ClassRef':Xe,'execute':(_0x4a204e,_0x3258db)=>P[_0x45281c(0x321)](_0x4a204e,_0x3258db)});return _0xebb6f7[_0x45281c(0x77f)](0xc8)['json'](_0x189d97);})[_0x332815(0x7f5)](this[_0x332815(0x333)]('updateProfileStatus'),..._0x2b27b8,async(_0x426f08,_0x5be2ba)=>{const _0x5b7b0e=_0x332815;let _0x4aac94=await this[_0x5b7b0e(0x6cb)]({'request':_0x426f08,'schema':Za,'ClassRef':Ze,'execute':(_0x44634b,_0x4d092c)=>P[_0x5b7b0e(0x1f7)](_0x44634b,_0x4d092c)});return _0x5be2ba[_0x5b7b0e(0x77f)](0xc8)['json'](_0x4aac94);})[_0x332815(0x2f2)](this['routerPath']('updateProfilePicture'),..._0x2b27b8,async(_0x15bb71,_0x22dae6)=>{const _0x38023c=_0x332815;let _0x3a4e08=await this[_0x38023c(0x6cb)]({'request':_0x15bb71,'schema':Oe,'ClassRef':Ee,'execute':(_0x23621e,_0x995ecd)=>P[_0x38023c(0x714)](_0x23621e,_0x995ecd)});return _0x22dae6[_0x38023c(0x77f)](0xc8)[_0x38023c(0x16f)](_0x3a4e08);})['delete'](this[_0x332815(0x333)](_0x332815(0x778)),..._0x2b27b8,async(_0x36d60c,_0x5656d8)=>{const _0x1b12bc=_0x332815;let _0x3cb5bd=await this[_0x1b12bc(0x6cb)]({'request':_0x36d60c,'schema':Oe,'ClassRef':Ee,'execute':(_0x430c43,_0x4cc5ab)=>P['removeProfilePicture'](_0x430c43,_0x4cc5ab)});return _0x5656d8[_0x1b12bc(0x77f)](0xc8)[_0x1b12bc(0x16f)](_0x3cb5bd);});}},hi=require('express'),lt=class{},ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},te=class{},De=class{},mt=class extends te{},ft=class extends te{},wt=class extends V{constructor(..._0x489f12){const _0xcdcef3=a0_0x1d7ec3;super(),this['router']=(0x0,hi['Router'])(),this[_0xcdcef3(0x3ea)][_0xcdcef3(0x7f5)](this[_0xcdcef3(0x333)](_0xcdcef3(0x585)),..._0x489f12,async(_0x9284ca,_0x286cbd)=>{const _0x1d53ae=_0xcdcef3;let _0x3d6f5b=await this[_0x1d53ae(0x6cb)]({'request':_0x9284ca,'schema':ai,'ClassRef':lt,'execute':(_0x5bb4db,_0x327d7d)=>q[_0x1d53ae(0x752)](_0x5bb4db,_0x327d7d)});_0x286cbd[_0x1d53ae(0x77f)](0xc9)[_0x1d53ae(0x16f)](_0x3d6f5b);})[_0xcdcef3(0x2f2)](this['routerPath'](_0xcdcef3(0x51a)),..._0x489f12,async(_0x13b08b,_0x398cb0)=>{const _0x280e22=_0xcdcef3;let _0x36a8ee=await this['groupValidate']({'request':_0x13b08b,'schema':ri,'ClassRef':ut,'execute':(_0x1bc292,_0x5a2a8c)=>q[_0x280e22(0x51a)](_0x1bc292,_0x5a2a8c)});_0x398cb0[_0x280e22(0x77f)](0xc9)['json'](_0x36a8ee);})['put'](this[_0xcdcef3(0x333)]('groupDesc'),..._0x489f12,async(_0x4eaa7c,_0x1fc030)=>{const _0x3786eb=_0xcdcef3;let _0x1d79cc=await this[_0x3786eb(0x6d9)]({'request':_0x4eaa7c,'schema':ni,'ClassRef':dt,'execute':(_0x353eea,_0x53a9c3)=>q[_0x3786eb(0x5d0)](_0x353eea,_0x53a9c3)});_0x1fc030[_0x3786eb(0x77f)](0xc9)[_0x3786eb(0x16f)](_0x1d79cc);})[_0xcdcef3(0x2f2)](this['routerPath'](_0xcdcef3(0x438)),..._0x489f12,async(_0x9d03fa,_0x16aa9d)=>{const _0x54c2d3=_0xcdcef3;let _0x385bde=await this[_0x54c2d3(0x6d9)]({'request':_0x9d03fa,'schema':ci,'ClassRef':pt,'execute':(_0x1876c6,_0x3ebf4f)=>q[_0x54c2d3(0x438)](_0x1876c6,_0x3ebf4f)});_0x16aa9d[_0x54c2d3(0x77f)](0xc9)[_0x54c2d3(0x16f)](_0x385bde);})[_0xcdcef3(0x2f2)](this[_0xcdcef3(0x333)](_0xcdcef3(0x452)),..._0x489f12,async(_0x3ea439,_0x106a09)=>{const _0x13384c=_0xcdcef3;let _0x327ad2=await this[_0x13384c(0x6d9)]({'request':_0x3ea439,'schema':ui,'ClassRef':gt,'execute':(_0x3149b7,_0x2f84fb)=>q[_0x13384c(0x452)](_0x3149b7,_0x2f84fb)});_0x106a09[_0x13384c(0x77f)](0xc9)['json'](_0x327ad2);})[_0xcdcef3(0x2f2)](this[_0xcdcef3(0x333)](_0xcdcef3(0x6c8)),..._0x489f12,async(_0x56814e,_0xae3d15)=>{const _0x22624f=_0xcdcef3;let _0x3230a1=await this[_0x22624f(0x6d9)]({'request':_0x56814e,'schema':li,'ClassRef':ht,'execute':(_0x3ba39d,_0x3a0b34)=>q[_0x22624f(0x6c8)](_0x3ba39d,_0x3a0b34)});_0xae3d15[_0x22624f(0x77f)](0xc9)[_0x22624f(0x16f)](_0x3230a1);})['put'](this[_0xcdcef3(0x333)](_0xcdcef3(0x66a)),..._0x489f12,async(_0x3845af,_0x127b4d)=>{const _0x387aee=_0xcdcef3;let _0x4146fe=await this[_0x387aee(0x6d9)]({'request':_0x3845af,'schema':oi,'ClassRef':ft,'execute':(_0x43138c,_0x3b0da6)=>q[_0x387aee(0x66a)](_0x43138c,_0x3b0da6)});_0x127b4d['status'](0xc9)[_0x387aee(0x16f)](_0x4146fe);})[_0xcdcef3(0x332)](this['routerPath'](_0xcdcef3(0x205)),..._0x489f12,async(_0x3a8a22,_0x40b5a3)=>{const _0x5f0144=_0xcdcef3;let _0x357bc2=await this['groupValidate']({'request':_0x3a8a22,'schema':xe,'ClassRef':te,'execute':(_0x5ebdca,_0xd5160a)=>q[_0x5f0144(0x4ee)](_0x5ebdca,_0xd5160a)});_0x40b5a3[_0x5f0144(0x77f)](0xc8)[_0x5f0144(0x16f)](_0x357bc2);})[_0xcdcef3(0x332)](this[_0xcdcef3(0x333)](_0xcdcef3(0x47b)),..._0x489f12,async(_0x1d3cbe,_0x33ec85)=>{const _0x311983=_0xcdcef3;let _0x39aedd=await this[_0x311983(0x6cb)]({'request':_0x1d3cbe,'schema':N,'ClassRef':M,'execute':_0x3a2a3b=>q[_0x311983(0x47b)](_0x3a2a3b)});_0x33ec85[_0x311983(0x77f)](0xc8)['json'](_0x39aedd);})['get'](this[_0xcdcef3(0x333)]('participants'),..._0x489f12,async(_0x39c4ca,_0x4c5d94)=>{const _0x4bd3b1=_0xcdcef3;let _0x140e7e=await this[_0x4bd3b1(0x6d9)]({'request':_0x39c4ca,'schema':xe,'ClassRef':te,'execute':(_0x2b2586,_0x4d1776)=>q[_0x4bd3b1(0x66f)](_0x2b2586,_0x4d1776)});_0x4c5d94['status'](0xc8)[_0x4bd3b1(0x16f)](_0x140e7e);})[_0xcdcef3(0x332)](this[_0xcdcef3(0x333)]('inviteCode'),..._0x489f12,async(_0x5d7b90,_0x5ca5e5)=>{const _0x4ef657=_0xcdcef3;let _0x5d0a3d=await this[_0x4ef657(0x6d9)]({'request':_0x5d7b90,'schema':xe,'ClassRef':te,'execute':(_0x5501a9,_0x1bad4e)=>q[_0x4ef657(0x335)](_0x5501a9,_0x1bad4e)});_0x5ca5e5['status'](0xc8)['json'](_0x5d0a3d);})[_0xcdcef3(0x7f5)](this[_0xcdcef3(0x333)](_0xcdcef3(0x7f1)),..._0x489f12,async(_0x3658de,_0x496497)=>{const _0x2f0559=_0xcdcef3;let _0x395c44=await this[_0x2f0559(0x348)]({'request':_0x3658de,'schema':Ns,'ClassRef':De,'execute':(_0x12d34b,_0x4df015)=>q[_0x2f0559(0x486)](_0x12d34b,_0x4df015)});_0x496497[_0x2f0559(0x77f)](0xc9)[_0x2f0559(0x16f)](_0x395c44);})[_0xcdcef3(0x2f2)](this[_0xcdcef3(0x333)](_0xcdcef3(0xf5)),..._0x489f12,async(_0x504b5f,_0x6e1d78)=>{const _0x520630=_0xcdcef3;let _0xbb3dcf=await this[_0x520630(0x348)]({'request':_0x504b5f,'schema':Ns,'ClassRef':De,'execute':(_0x33b998,_0x4ca9d7)=>q[_0x520630(0xf5)](_0x33b998,_0x4ca9d7)});_0x6e1d78[_0x520630(0x77f)](0xc9)[_0x520630(0x16f)](_0xbb3dcf);})[_0xcdcef3(0x2f2)](this[_0xcdcef3(0x333)](_0xcdcef3(0xf9)),..._0x489f12,async(_0x3e289d,_0x325a2d)=>{const _0x24c629=_0xcdcef3;let _0x242f6f=await this[_0x24c629(0x6d9)]({'request':_0x3e289d,'schema':xe,'ClassRef':te,'execute':(_0x150a79,_0x269a1d)=>q['revokeInviteCode'](_0x150a79,_0x269a1d)});_0x325a2d['status'](0xc9)['json'](_0x242f6f);})['put'](this[_0xcdcef3(0x333)]('updateParticipant'),..._0x489f12,async(_0x5ac008,_0x2ddbb7)=>{const _0x1b3947=_0xcdcef3;let _0x3d6e20=await this[_0x1b3947(0x6d9)]({'request':_0x5ac008,'schema':ii,'ClassRef':mt,'execute':(_0x209e21,_0x2809e3)=>q['updateGParticipate'](_0x209e21,_0x2809e3)});_0x2ddbb7['status'](0xc9)[_0x1b3947(0x16f)](_0x3d6e20);})[_0xcdcef3(0x174)](this['routerPath'](_0xcdcef3(0x782)),..._0x489f12,async(_0x5304c0,_0xbec60b)=>{const _0x3dda10=_0xcdcef3;let _0x4d9156=await this[_0x3dda10(0x6d9)]({'request':_0x5304c0,'schema':{},'ClassRef':te,'execute':(_0x31a189,_0x2b8482)=>q['leaveGroup'](_0x31a189,_0x2b8482)});_0xbec60b[_0x3dda10(0x77f)](0xc8)[_0x3dda10(0x16f)](_0x4d9156);});}},gi=require(a0_0x1d7ec3(0xd7)),yt=class extends V{constructor(_0x36befe,..._0x31a451){const _0x59c535=a0_0x1d7ec3;super(),this[_0x59c535(0x75a)]=_0x36befe,this[_0x59c535(0x3ea)]=(0x0,gi[_0x59c535(0x74e)])();let _0x5cfa69=_0x36befe[_0x59c535(0x332)]('AUTHENTICATION');this[_0x59c535(0x3ea)]['post'](_0x59c535(0x10d),..._0x31a451,async(_0x51b2eb,_0x174ff5)=>{const _0x557ac4=_0x59c535;let {instanceName:_0x52d07a,apikey:_0x1919a8,number:_0xad9967}=_0x51b2eb['body'],_0x5bf176=await de[_0x557ac4(0x202)]({'instanceName':_0x52d07a,'apikey':_0x1919a8,'number':_0xad9967});return _0x174ff5[_0x557ac4(0x77f)](0xc9)[_0x557ac4(0x16f)](_0x5bf176);})[_0x59c535(0x2f2)](this[_0x59c535(0x333)](_0x59c535(0x727)),..._0x31a451,async(_0x4f0e5c,_0x1c0f02)=>{const _0x260fc1=_0x59c535;let _0x352645=await this[_0x260fc1(0x6cb)]({'request':_0x4f0e5c,'schema':N,'ClassRef':M,'execute':_0xbb7c32=>de[_0x260fc1(0x240)](_0xbb7c32)});return _0x1c0f02['status'](0xc8)[_0x260fc1(0x16f)](_0x352645);})[_0x59c535(0x332)](this[_0x59c535(0x333)](_0x59c535(0x485)),..._0x31a451,async(_0x75c91b,_0x1fca8d)=>{const _0x44c916=_0x59c535;let _0x812cd5=await this[_0x44c916(0x6cb)]({'request':_0x75c91b,'schema':N,'ClassRef':M,'execute':_0xaf44e=>de[_0x44c916(0x24d)](_0xaf44e)});return _0x1fca8d[_0x44c916(0x77f)](0xc8)[_0x44c916(0x16f)](_0x812cd5);})[_0x59c535(0x332)](this[_0x59c535(0x333)](_0x59c535(0x3f9)),..._0x31a451,async(_0x21a316,_0x31d119)=>{const _0x352cc0=_0x59c535;let _0x580b7f=await this[_0x352cc0(0x6cb)]({'request':_0x21a316,'schema':N,'ClassRef':M,'execute':_0x3f61a4=>de[_0x352cc0(0x3f9)](_0x3f61a4)});return _0x31d119[_0x352cc0(0x77f)](0xc8)[_0x352cc0(0x16f)](_0x580b7f);})['get'](this[_0x59c535(0x333)]('fetchInstances',!0x1),..._0x31a451,async(_0xfd1754,_0x4efa60)=>{const _0x4483ac=_0x59c535;let _0x355d78=await this[_0x4483ac(0x6cb)]({'request':_0xfd1754,'schema':null,'ClassRef':M,'execute':_0x1c2e06=>de[_0x4483ac(0x74f)](_0x1c2e06)});return _0x4efa60[_0x4483ac(0x77f)](0xc8)[_0x4483ac(0x16f)](_0x355d78);})[_0x59c535(0x174)](this[_0x59c535(0x333)](_0x59c535(0x6a2)),..._0x31a451,async(_0x555716,_0x4f61c8)=>{const _0x5924f2=_0x59c535;let _0x48928f=await this[_0x5924f2(0x6cb)]({'request':_0x555716,'schema':N,'ClassRef':M,'execute':_0x30d960=>de['logout'](_0x30d960)});return _0x4f61c8[_0x5924f2(0x77f)](0xc8)[_0x5924f2(0x16f)](_0x48928f);})['delete'](this[_0x59c535(0x333)](_0x59c535(0x174)),..._0x31a451,async(_0x7c993e,_0x4d3453)=>{const _0x2ca554=_0x59c535;let _0x277a50=await this[_0x2ca554(0x6cb)]({'request':_0x7c993e,'schema':N,'ClassRef':M,'execute':_0x3f995e=>de[_0x2ca554(0x538)](_0x3f995e)});return _0x4d3453[_0x2ca554(0x77f)](0xc8)['json'](_0x277a50);});}},mi=require(a0_0x1d7ec3(0xd7)),Rs=class{},K=class extends Rs{},bt=class extends K{},St=class extends K{},Mt=class extends K{},Ct=class extends K{},Pe=class extends K{},Et=class extends K{},vt=class extends K{},Nt=class extends K{},$t=class extends K{},Rt=class{},At=class extends V{constructor(..._0x198f00){const _0x193dcc=a0_0x1d7ec3;super(),this[_0x193dcc(0x3ea)]=(0x0,mi[_0x193dcc(0x74e)])(),this[_0x193dcc(0x3ea)][_0x193dcc(0x7f5)](this[_0x193dcc(0x333)](_0x193dcc(0x55b)),..._0x198f00,async(_0x2e9591,_0x937895)=>{const _0x81657f=_0x193dcc;let _0x1a42e7=await this[_0x81657f(0x6cb)]({'request':_0x2e9591,'schema':Da,'ClassRef':bt,'execute':(_0x2e4c8d,_0xdd8165)=>W[_0x81657f(0x55b)](_0x2e4c8d,_0xdd8165)});return _0x937895[_0x81657f(0x77f)](0xc9)[_0x81657f(0x16f)](_0x1a42e7);})[_0x193dcc(0x7f5)](this[_0x193dcc(0x333)](_0x193dcc(0x2bc)),..._0x198f00,async(_0x658f51,_0x1954d8)=>{const _0x2c792e=_0x193dcc;let _0x109b93=await this[_0x2c792e(0x6cb)]({'request':_0x658f51,'schema':Fa,'ClassRef':Pe,'execute':(_0x272e89,_0x495edf)=>W['sendMedia'](_0x272e89,_0x495edf)});return _0x1954d8[_0x2c792e(0x77f)](0xc9)['json'](_0x109b93);})[_0x193dcc(0x7f5)](this['routerPath'](_0x193dcc(0x1ef)),..._0x198f00,async(_0x5c5340,_0x579f58)=>{const _0x45f85c=_0x193dcc;let _0x2cf15d=await this['dataValidate']({'request':_0x5c5340,'schema':Ja,'ClassRef':Ct,'execute':(_0x40951f,_0x35e319)=>W[_0x45f85c(0x1ef)](_0x40951f,_0x35e319)});return _0x579f58[_0x45f85c(0x77f)](0xc9)[_0x45f85c(0x16f)](_0x2cf15d);})[_0x193dcc(0x7f5)](this[_0x193dcc(0x333)](_0x193dcc(0x773)),..._0x198f00,async(_0x176188,_0x3c70d1)=>{const _0x2d1534=_0x193dcc;let _0x9fa03c=await this['dataValidate']({'request':_0x176188,'schema':Ua,'ClassRef':Pe,'execute':(_0x3d69ed,_0x20afe5)=>W[_0x2d1534(0x773)](_0x3d69ed,_0x20afe5)});return _0x3c70d1['status'](0xc9)['json'](_0x9fa03c);})['post'](this[_0x193dcc(0x333)](_0x193dcc(0x306)),..._0x198f00,async(_0xbb9869,_0x366d6f)=>{const _0x8b6285=_0x193dcc;let _0x1b9ee4=await this[_0x8b6285(0x6cb)]({'request':_0xbb9869,'schema':qa,'ClassRef':vt,'execute':(_0xb03ea4,_0x205f7a)=>W[_0x8b6285(0x306)](_0xb03ea4,_0x205f7a)});return _0x366d6f[_0x8b6285(0x77f)](0xc9)['json'](_0x1b9ee4);})['post'](this['routerPath'](_0x193dcc(0x2f3)),..._0x198f00,async(_0x4a283d,_0xd8a5c9)=>{const _0x3ddaa7=_0x193dcc;let _0x2eeab8=await this[_0x3ddaa7(0x6cb)]({'request':_0x4a283d,'schema':Va,'ClassRef':Nt,'execute':(_0x23f85c,_0x3de30a)=>W[_0x3ddaa7(0x2f3)](_0x23f85c,_0x3de30a)});return _0xd8a5c9['status'](0xc9)[_0x3ddaa7(0x16f)](_0x2eeab8);})[_0x193dcc(0x7f5)](this['routerPath'](_0x193dcc(0x4d1)),..._0x198f00,async(_0x246632,_0x1268d3)=>{const _0x30c14d=_0x193dcc;let _0x441633=await this['dataValidate']({'request':_0x246632,'schema':Ga,'ClassRef':$t,'execute':(_0x8b912f,_0x28848a)=>W[_0x30c14d(0x4d1)](_0x8b912f,_0x28848a)});return _0x1268d3[_0x30c14d(0x77f)](0xc9)[_0x30c14d(0x16f)](_0x441633);})[_0x193dcc(0x7f5)](this['routerPath'](_0x193dcc(0x21f)),..._0x198f00,async(_0x546cf5,_0x2cef82)=>{const _0x33fd96=_0x193dcc;let _0x1bada3=await this[_0x33fd96(0x6cb)]({'request':_0x546cf5,'schema':Ba,'ClassRef':Rt,'execute':(_0x338210,_0x466606)=>W[_0x33fd96(0x21f)](_0x338210,_0x466606)});return _0x2cef82[_0x33fd96(0x77f)](0xc9)[_0x33fd96(0x16f)](_0x1bada3);})[_0x193dcc(0x7f5)](this[_0x193dcc(0x333)](_0x193dcc(0x2da)),..._0x198f00,async(_0x321804,_0x2849ca)=>{const _0x572cc8=_0x193dcc;let _0x3452fc=await this[_0x572cc8(0x6cb)]({'request':_0x321804,'schema':ja,'ClassRef':Mt,'execute':(_0x5ee04f,_0x410e71)=>W[_0x572cc8(0x2da)](_0x5ee04f,_0x410e71)});return _0x2849ca['status'](0xc9)['json'](_0x3452fc);})['post'](this[_0x193dcc(0x333)](_0x193dcc(0x388)),..._0x198f00,async(_0x1e0f61,_0x24668f)=>{const _0x4103fb=_0x193dcc;let _0x443e45=await this[_0x4103fb(0x6cb)]({'request':_0x1e0f61,'schema':La,'ClassRef':St,'execute':(_0x4d3a01,_0x1e769b)=>W[_0x4103fb(0x388)](_0x4d3a01,_0x1e769b)});return _0x24668f[_0x4103fb(0x77f)](0xc9)['json'](_0x443e45);})['post'](this['routerPath'](_0x193dcc(0x1e4)),..._0x198f00,async(_0x5d874f,_0x302389)=>{const _0x155512=_0x193dcc;let _0x51fb81=await this['dataValidate']({'request':_0x5d874f,'schema':ka,'ClassRef':Et,'execute':(_0x319106,_0x5636f8)=>W[_0x155512(0x1e4)](_0x319106,_0x5636f8)});return _0x302389[_0x155512(0x77f)](0xc9)[_0x155512(0x16f)](_0x51fb81);});}},fi=require('express'),It=class{},Tt=class extends V{constructor(..._0x14270c){const _0x1ffd2d=a0_0x1d7ec3;super(),this[_0x1ffd2d(0x3ea)]=(0x0,fi['Router'])(),this[_0x1ffd2d(0x3ea)][_0x1ffd2d(0x7f5)](this[_0x1ffd2d(0x333)]('set'),..._0x14270c,async(_0x544b5b,_0x4de00e)=>{const _0x35c3b8=_0x1ffd2d;let _0x39b20b=await this[_0x35c3b8(0x6cb)]({'request':_0x544b5b,'schema':di,'ClassRef':It,'execute':(_0x3f9627,_0x4790ad)=>As[_0x35c3b8(0x566)](_0x3f9627,_0x4790ad)});_0x4de00e['status'](0xc9)[_0x35c3b8(0x16f)](_0x39b20b);})[_0x1ffd2d(0x332)](this[_0x1ffd2d(0x333)](_0x1ffd2d(0x44c)),..._0x14270c,async(_0x59abe1,_0x1b296b)=>{const _0xbf34b8=_0x1ffd2d;let _0x439a28=await this[_0xbf34b8(0x6cb)]({'request':_0x59abe1,'schema':N,'ClassRef':M,'execute':_0x2b4e4a=>As['findWebhook'](_0x2b4e4a)});_0x1b296b[_0xbf34b8(0x77f)](0xc8)['json'](_0x439a28);});}},wi=require(a0_0x1d7ec3(0xd7)),y=new $(a0_0x1d7ec3(0x3ef)),_t=class extends V{constructor(..._0x4e94cf){const _0x3030fd=a0_0x1d7ec3;super(),this[_0x3030fd(0x3ea)]=(0x0,wi['Router'])(),this[_0x3030fd(0x3ea)][_0x3030fd(0x7f5)](this[_0x3030fd(0x333)](_0x3030fd(0x758)),..._0x4e94cf,async(_0x1f605d,_0x527a26)=>{const _0x29a7eb=_0x3030fd;let _0xae7525=_0x1f605d[_0x29a7eb(0x3e2)];y[_0x29a7eb(0x244)](_0x29a7eb(0x644)),y[_0x29a7eb(0x244)](_0x29a7eb(0x252)),y[_0x29a7eb(0x244)](_0x1f605d[_0x29a7eb(0x3e2)]);let _0x33fed1=await this[_0x29a7eb(0x6cb)]({'request':_0x1f605d,'schema':N,'ClassRef':M,'execute':_0x4b2d4a=>O[_0x29a7eb(0x1b5)](_0x4b2d4a,_0xae7525)});_0x527a26['status'](0xc8)[_0x29a7eb(0x16f)](_0x33fed1);})[_0x3030fd(0x332)](this[_0x3030fd(0x333)](_0x3030fd(0x758)),..._0x4e94cf,async(_0x4556c1,_0x1f054e)=>{const _0x5f371f=_0x3030fd;let _0x2a84cb=await this[_0x5f371f(0x6cb)]({'request':_0x4556c1,'schema':N,'ClassRef':M,'execute':_0x36222a=>O[_0x5f371f(0x3b3)](_0x36222a)});_0x1f054e['status'](0xc8)[_0x5f371f(0x16f)](_0x2a84cb);})[_0x3030fd(0x174)](this[_0x3030fd(0x333)](_0x3030fd(0x85)),..._0x4e94cf,async(_0x17624a,_0x4caaa6)=>{const _0x35d34c=_0x3030fd;y[_0x35d34c(0x244)](_0x35d34c(0x502));let _0x26f484=await this[_0x35d34c(0x6cb)]({'request':_0x17624a,'schema':N,'ClassRef':M,'execute':_0x14b7c1=>O[_0x35d34c(0x85)](_0x14b7c1)});_0x4caaa6[_0x35d34c(0x77f)](0xc8)[_0x35d34c(0x16f)](_0x26f484);})[_0x3030fd(0x7f5)](this[_0x3030fd(0x333)](_0x3030fd(0x582)),..._0x4e94cf,async(_0x1e350c,_0x219ab6)=>{const _0x3ce8f6=_0x3030fd;let _0x3f2b7c=_0x1e350c['body'];y[_0x3ce8f6(0x244)](_0x3ce8f6(0x657)),y[_0x3ce8f6(0x244)](_0x3ce8f6(0x252)),y['verbose'](_0x1e350c[_0x3ce8f6(0x3e2)]);let _0xac1b24=await this[_0x3ce8f6(0x6cb)]({'request':_0x1e350c,'schema':N,'ClassRef':M,'execute':_0x434702=>O[_0x3ce8f6(0x582)](_0x434702,_0x3f2b7c)});_0x219ab6['status'](0xc8)[_0x3ce8f6(0x16f)](_0xac1b24);})[_0x3030fd(0x332)](this[_0x3030fd(0x333)](_0x3030fd(0x5bd)),..._0x4e94cf,async(_0x5b2b17,_0x192945)=>{const _0x40c945=_0x3030fd;y[_0x40c945(0x244)](_0x40c945(0x4c3));let _0x44c12f=await this[_0x40c945(0x6cb)]({'request':_0x5b2b17,'schema':N,'ClassRef':M,'execute':_0x1b3791=>O[_0x40c945(0x5bd)](_0x1b3791)});_0x192945[_0x40c945(0x77f)](0xc8)[_0x40c945(0x16f)](_0x44c12f);})[_0x3030fd(0x332)](this[_0x3030fd(0x333)](_0x3030fd(0x4d7)),..._0x4e94cf,async(_0xb727c9,_0x24bc08)=>{const _0x590e52=_0x3030fd;y[_0x590e52(0x244)](_0x590e52(0x67b));let _0x37a4b0=await this[_0x590e52(0x6cb)]({'request':_0xb727c9,'schema':N,'ClassRef':M,'execute':_0x2596f9=>O[_0x590e52(0x5bd)](_0x2596f9)});_0x24bc08[_0x590e52(0x77f)](0xc8)['json'](_0x37a4b0);})['post'](this[_0x3030fd(0x333)](_0x3030fd(0x6ea)),..._0x4e94cf,async(_0x48494e,_0x812d06)=>{const _0x4b5364=_0x3030fd;let _0x3d5af4=_0x48494e['body'];y['verbose']('request\x20received\x20in\x20updateAgent'),y[_0x4b5364(0x244)]('request\x20body:\x20'),y[_0x4b5364(0x244)](_0x48494e['body']);let _0x321ab9=await this['dataValidate']({'request':_0x48494e,'schema':N,'ClassRef':M,'execute':_0x3375a5=>O[_0x4b5364(0x6ea)](_0x3375a5,_0x3d5af4)});_0x812d06[_0x4b5364(0x77f)](0xc8)[_0x4b5364(0x16f)](_0x321ab9);})[_0x3030fd(0x7f5)](this[_0x3030fd(0x333)](_0x3030fd(0x271)),..._0x4e94cf,async(_0x10a1ac,_0x24acc5)=>{const _0x35fade=_0x3030fd;let _0x24e123=_0x10a1ac[_0x35fade(0x3e2)];y[_0x35fade(0x244)](_0x35fade(0x480)),y['verbose'](_0x35fade(0x252)),y[_0x35fade(0x244)](_0x10a1ac['body']);let _0xfe16d0=await this[_0x35fade(0x6cb)]({'request':_0x10a1ac,'schema':N,'ClassRef':M,'execute':_0x402fec=>O[_0x35fade(0x271)](_0x402fec,_0x24e123)});_0x24acc5[_0x35fade(0x77f)](0xc8)[_0x35fade(0x16f)](_0xfe16d0);})[_0x3030fd(0x7f5)](this[_0x3030fd(0x333)](_0x3030fd(0x2d0)),..._0x4e94cf,async(_0x46fc59,_0xfaf0a5)=>{const _0x5975dd=_0x3030fd;let _0x4bd7f8=_0x46fc59[_0x5975dd(0x3e2)];y[_0x5975dd(0x244)](_0x5975dd(0x4d0)),y[_0x5975dd(0x244)]('request\x20body:\x20'),y['verbose'](_0x46fc59[_0x5975dd(0x3e2)]);let _0x4a9538=await this['dataValidate']({'request':_0x46fc59,'schema':N,'ClassRef':M,'execute':_0x1c565c=>O['updateAutoCompleteMessages'](_0x1c565c,_0x4bd7f8)});_0xfaf0a5['status'](0xc8)[_0x5975dd(0x16f)](_0x4a9538);})[_0x3030fd(0x7f5)](this[_0x3030fd(0x333)](_0x3030fd(0x39e)),..._0x4e94cf,async(_0x1fac33,_0x56e77c)=>{const _0x760c75=_0x3030fd;let _0x5d217c=_0x1fac33['body'];y['verbose'](_0x760c75(0x513)),y[_0x760c75(0x244)]('request\x20body:\x20'),y[_0x760c75(0x244)](_0x1fac33[_0x760c75(0x3e2)]);let _0x517552=await this[_0x760c75(0x6cb)]({'request':_0x1fac33,'schema':N,'ClassRef':M,'execute':_0x474ac9=>O[_0x760c75(0x39e)](_0x474ac9,_0x5d217c)});_0x56e77c[_0x760c75(0x77f)](0xc8)[_0x760c75(0x16f)](_0x517552);})[_0x3030fd(0x7f5)](this[_0x3030fd(0x333)](_0x3030fd(0x136)),..._0x4e94cf,async(_0x1c0508,_0x5dbfd0)=>{const _0x2100b5=_0x3030fd;let _0x988887=_0x1c0508[_0x2100b5(0x3e2)];y[_0x2100b5(0x244)](_0x2100b5(0x6bc)),y[_0x2100b5(0x244)](_0x2100b5(0x252)),y[_0x2100b5(0x244)](_0x1c0508['body']);let _0x1613ed=await this[_0x2100b5(0x6cb)]({'request':_0x1c0508,'schema':N,'ClassRef':M,'execute':_0x265dbd=>O['getConversation'](_0x265dbd,_0x988887)});_0x5dbfd0['status'](0xc8)[_0x2100b5(0x16f)](_0x1613ed);})['post'](this[_0x3030fd(0x333)](_0x3030fd(0x8e)),..._0x4e94cf,async(_0x210e3a,_0x2ca0c6)=>{const _0x751fff=_0x3030fd;let _0x2ad16d=_0x210e3a[_0x751fff(0x3e2)];y['verbose']('request\x20received\x20in\x20fetchConversation'),y['verbose'](_0x751fff(0x252)),y[_0x751fff(0x244)](_0x210e3a[_0x751fff(0x3e2)]);let _0x55c31f=await this[_0x751fff(0x6cb)]({'request':_0x210e3a,'schema':N,'ClassRef':M,'execute':_0x1849e3=>O[_0x751fff(0x8e)](_0x1849e3,_0x2ad16d)});_0x2ca0c6[_0x751fff(0x77f)](0xc8)[_0x751fff(0x16f)](_0x55c31f);})[_0x3030fd(0x7f5)](this[_0x3030fd(0x333)]('editConversation'),..._0x4e94cf,async(_0x2bef40,_0x1d7971)=>{const _0x2ebcd3=_0x3030fd;let _0x3dfe3a=_0x2bef40[_0x2ebcd3(0x3e2)];y['verbose']('request\x20received\x20in\x20editConversation'),y[_0x2ebcd3(0x244)](_0x2ebcd3(0x252)),y[_0x2ebcd3(0x244)](_0x2bef40[_0x2ebcd3(0x3e2)]);let _0x1c7c15=await this[_0x2ebcd3(0x6cb)]({'request':_0x2bef40,'schema':N,'ClassRef':M,'execute':_0x58414f=>O[_0x2ebcd3(0x474)](_0x58414f,_0x3dfe3a)});_0x1d7971['status'](0xc8)['json'](_0x1c7c15);})['delete'](this[_0x3030fd(0x333)](_0x3030fd(0x680)),..._0x4e94cf,async(_0x39e5df,_0x5a9aad)=>{const _0x1f087a=_0x3030fd;let _0x2fee32=_0x39e5df[_0x1f087a(0x3e2)];y[_0x1f087a(0x244)]('request\x20received\x20in\x20deleteConversation'),y['verbose'](_0x1f087a(0x252)),y[_0x1f087a(0x244)](_0x39e5df['body']);let _0x1f8603=await this[_0x1f087a(0x6cb)]({'request':_0x39e5df,'schema':N,'ClassRef':M,'execute':_0x1f024e=>O[_0x1f087a(0x680)](_0x1f024e,_0x2fee32)});_0x5a9aad['status'](0xc8)[_0x1f087a(0x16f)](_0x1f8603);})[_0x3030fd(0x7f5)](this[_0x3030fd(0x333)](_0x3030fd(0x22b)),..._0x4e94cf,async(_0x4b52f8,_0x395900)=>{const _0x1b4361=_0x3030fd;let _0x12360e=_0x4b52f8[_0x1b4361(0x3e2)],_0x184540=_0x4b52f8['headers'][_0x1b4361(0x4f0)];y[_0x1b4361(0x244)](_0x1b4361(0x6a9)),y[_0x1b4361(0x244)](_0x1b4361(0x252)),y[_0x1b4361(0x244)](_0x4b52f8['body']);let _0x24a75d=await this[_0x1b4361(0x6cb)]({'request':_0x4b52f8,'schema':N,'ClassRef':M,'execute':_0x36d2da=>O[_0x1b4361(0x490)](_0x36d2da,_0x12360e,_0x184540)});_0x395900[_0x1b4361(0x77f)](0xc8)[_0x1b4361(0x16f)](_0x24a75d);})[_0x3030fd(0x7f5)](this[_0x3030fd(0x333)](_0x3030fd(0x253)),..._0x4e94cf,async(_0x2464da,_0x10ebc7)=>{const _0xe691ec=_0x3030fd;let _0x1e7575=_0x2464da[_0xe691ec(0x3e2)],_0x3ded79=_0x2464da['headers'][_0xe691ec(0x4f0)];y[_0xe691ec(0x244)](_0xe691ec(0xd4)),y['verbose'](_0xe691ec(0x252)),y['verbose'](_0x2464da[_0xe691ec(0x3e2)]),delete _0x1e7575['blocks'],delete _0x1e7575[_0xe691ec(0x695)],delete _0x1e7575['groups'],delete _0x1e7575[_0xe691ec(0x6e4)];let _0x3a2d07=await this[_0xe691ec(0x6cb)]({'request':_0x2464da,'schema':N,'ClassRef':M,'execute':_0x4b1945=>O[_0xe691ec(0x3f8)](_0x4b1945,_0x1e7575,_0x3ded79)});_0x10ebc7['status'](0xc8)[_0xe691ec(0x16f)](_0x3a2d07);})[_0x3030fd(0x7f5)](this[_0x3030fd(0x333)]('editflowblock'),..._0x4e94cf,async(_0xb1620b,_0x1ddf61)=>{const _0x13d545=_0x3030fd;let _0x4df612=_0xb1620b[_0x13d545(0x3e2)];y[_0x13d545(0x244)](_0x13d545(0xd4)),y[_0x13d545(0x244)](_0x13d545(0x252)),y[_0x13d545(0x244)](_0xb1620b[_0x13d545(0x3e2)]);let _0x35069a=await this[_0x13d545(0x6cb)]({'request':_0xb1620b,'schema':N,'ClassRef':M,'execute':_0xab2ba5=>O[_0x13d545(0x601)](_0xab2ba5,_0x4df612)});_0x1ddf61[_0x13d545(0x77f)](0xc8)[_0x13d545(0x16f)](_0x35069a);})[_0x3030fd(0x7f5)](this[_0x3030fd(0x333)](_0x3030fd(0x75e)),..._0x4e94cf,async(_0x58ac25,_0x227ee3)=>{const _0x5a7c7a=_0x3030fd;let _0x25005e=_0x58ac25['body'];y[_0x5a7c7a(0x244)]('request\x20received\x20in\x20editFlow'),y[_0x5a7c7a(0x244)](_0x5a7c7a(0x252)),y['verbose'](_0x58ac25[_0x5a7c7a(0x3e2)]);let _0xa297b0=await this[_0x5a7c7a(0x6cb)]({'request':_0x58ac25,'schema':N,'ClassRef':M,'execute':_0x3daf66=>O[_0x5a7c7a(0x65a)](_0x3daf66,_0x25005e)});_0x227ee3[_0x5a7c7a(0x77f)](0xc8)['json'](_0xa297b0);})['post'](this[_0x3030fd(0x333)](_0x3030fd(0x558)),..._0x4e94cf,async(_0xc3bde3,_0xdaaafb)=>{const _0x268c16=_0x3030fd;let _0x27875a=_0xc3bde3['body'];y[_0x268c16(0x244)](_0x268c16(0xd4)),y[_0x268c16(0x244)]('request\x20body:\x20'),y[_0x268c16(0x244)](_0xc3bde3[_0x268c16(0x3e2)]);let _0x53b84c=await this[_0x268c16(0x6cb)]({'request':_0xc3bde3,'schema':N,'ClassRef':M,'execute':_0x3e4d0f=>O[_0x268c16(0x3a3)](_0x3e4d0f,_0x27875a)});_0xdaaafb['status'](0xc8)[_0x268c16(0x16f)](_0x53b84c);})[_0x3030fd(0x7f5)](this[_0x3030fd(0x333)](_0x3030fd(0x777)),..._0x4e94cf,async(_0x54a9c5,_0xd690d9)=>{const _0x3445a8=_0x3030fd;let _0x2a6b96=_0x54a9c5[_0x3445a8(0x3e2)];y['verbose'](_0x3445a8(0x5a5)),y[_0x3445a8(0x244)](_0x3445a8(0x252)),y[_0x3445a8(0x244)](_0x54a9c5[_0x3445a8(0x3e2)]);let _0x5b11da=await this[_0x3445a8(0x6cb)]({'request':_0x54a9c5,'schema':N,'ClassRef':M,'execute':_0x3693cf=>O[_0x3445a8(0x588)](_0x3693cf,_0x2a6b96)});_0xd690d9['status'](0xc8)[_0x3445a8(0x16f)](_0x5b11da);})[_0x3030fd(0x7f5)](this['routerPath'](_0x3030fd(0x22e)),..._0x4e94cf,async(_0x48cf7e,_0x1c6720)=>{const _0x130cb8=_0x3030fd;let _0xec7cd4=_0x48cf7e[_0x130cb8(0x3e2)];y['verbose'](_0x130cb8(0x1c5)),y[_0x130cb8(0x244)](_0x130cb8(0x252)),y[_0x130cb8(0x244)](_0x48cf7e[_0x130cb8(0x3e2)]);let _0x3c3f88=await this[_0x130cb8(0x6cb)]({'request':_0x48cf7e,'schema':N,'ClassRef':M,'execute':_0x5bf351=>O['editFlowCondition'](_0x5bf351,_0xec7cd4)});_0x1c6720[_0x130cb8(0x77f)](0xc8)['json'](_0x3c3f88);})[_0x3030fd(0x7f5)](this['routerPath'](_0x3030fd(0x472)),..._0x4e94cf,async(_0x406eca,_0x3e41c3)=>{const _0x3abac2=_0x3030fd;let _0x2cc1c5=_0x406eca[_0x3abac2(0x3e2)];y[_0x3abac2(0x244)](_0x3abac2(0x42c)),y[_0x3abac2(0x244)](_0x3abac2(0x252)),y[_0x3abac2(0x244)](_0x406eca[_0x3abac2(0x3e2)]);let _0x4d97ab=await this[_0x3abac2(0x6cb)]({'request':_0x406eca,'schema':N,'ClassRef':M,'execute':_0x3607a7=>O['editFlowVariable'](_0x3607a7,_0x2cc1c5)});_0x3e41c3[_0x3abac2(0x77f)](0xc8)['json'](_0x4d97ab);})[_0x3030fd(0x7f5)](this[_0x3030fd(0x333)](_0x3030fd(0xa0)),..._0x4e94cf,async(_0xff52d1,_0x8d5086)=>{const _0x293d54=_0x3030fd;let _0x46e7f9=_0xff52d1[_0x293d54(0x3e2)];y[_0x293d54(0x244)](_0x293d54(0x643)),y[_0x293d54(0x244)](_0x293d54(0x252)),y[_0x293d54(0x244)](_0xff52d1[_0x293d54(0x3e2)]);let _0x5311d4=await this[_0x293d54(0x6cb)]({'request':_0xff52d1,'schema':N,'ClassRef':M,'execute':_0x3073de=>O[_0x293d54(0x2ed)](_0x3073de,_0x46e7f9)});_0x8d5086['status'](0xc8)[_0x293d54(0x16f)](_0x5311d4);})[_0x3030fd(0x174)](this[_0x3030fd(0x333)](_0x3030fd(0x287)),..._0x4e94cf,async(_0x69e420,_0xc6faf6)=>{const _0x3f213a=_0x3030fd;let _0x5d65c2=_0x69e420[_0x3f213a(0x3e2)];y['verbose'](_0x3f213a(0x7dd)),y[_0x3f213a(0x244)]('request\x20body:\x20'),y['verbose'](_0x69e420['body']);let _0x4b6c42=await this[_0x3f213a(0x6cb)]({'request':_0x69e420,'schema':N,'ClassRef':M,'execute':_0x8fed83=>O[_0x3f213a(0x153)](_0x8fed83,_0x5d65c2)});_0xc6faf6[_0x3f213a(0x77f)](0xc8)[_0x3f213a(0x16f)](_0x4b6c42);})[_0x3030fd(0x332)](this[_0x3030fd(0x333)]('allflows'),..._0x4e94cf,async(_0x47e3e3,_0xd34de3)=>{const _0x493052=_0x3030fd;y['verbose'](_0x493052(0x3c0));let _0x3cb215=await this['dataValidate']({'request':_0x47e3e3,'schema':N,'ClassRef':M,'execute':_0x3bf9e9=>O[_0x493052(0x529)](_0x3bf9e9)});_0xd34de3['status'](0xc8)[_0x493052(0x16f)](_0x3cb215);});}},Mi=T(require(a0_0x1d7ec3(0x524))),se={};function yi(_0x4a7489,_0x754f2f,_0x16bb4b,_0x4496ef){se[_0x4a7489]||(se[_0x4a7489]={}),se[_0x4a7489][_0x754f2f]={'id':_0x754f2f,'response':_0x16bb4b,'events':_0x4496ef};}function bi(_0x106e9b,_0x50b331){!se[_0x106e9b]||!se[_0x106e9b][_0x50b331]||delete se[_0x106e9b][_0x50b331];}function F(_0x5184c9,_0x33548c,_0x261864){const _0x31d4e8=a0_0x1d7ec3;if(!se[_0x5184c9])return;let _0x1419c1=_0x31d4e8(0x362)+JSON['stringify'](_0x261864)+'\x0a\x0a';Object[_0x31d4e8(0x771)](se[_0x5184c9])[_0x31d4e8(0xb2)](_0x456196=>{const _0x109857=_0x31d4e8;_0x456196[_0x109857(0xdd)][_0x109857(0x603)](_0x33548c)&&_0x456196['response']['write'](_0x1419c1);});}function Si(){const _0x50157a=a0_0x1d7ec3;let _0x234624={};for(let _0x5b2579 in se)_0x234624[_0x5b2579]=Object[_0x50157a(0x771)](se[_0x5b2579])[_0x50157a(0x5c2)](_0x2b4782=>({'id':_0x2b4782['id'],'events':_0x2b4782['events']}));return _0x234624;}var Ci=require('uuid'),Ts=require(a0_0x1d7ec3(0x5b5)),Is=class{},Io=new Ts[(a0_0x1d7ec3(0x297))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),To=new Ts['Schema']({'_id':{'type':String,'default':a0_0x1d7ec3(0x284)},'WebhookGlobal':{'type':Io},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=I?.[a0_0x1d7ec3(0x793)](Is[a0_0x1d7ec3(0x70c)],To,a0_0x1d7ec3(0x610)),_o=Mi[a0_0x1d7ec3(0x1af)][a0_0x1d7ec3(0x7e1)](__dirname,a0_0x1d7ec3(0x6b9)),ke=(0x0,Ot[a0_0x1d7ec3(0x74e)])(),Oo=S['get'](a0_0x1d7ec3(0x243))['TYPE'],re=[Aa,Ia,Oa[Oo]];ke[a0_0x1d7ec3(0x6ad)](a0_0x1d7ec3(0x6b7),Ot[a0_0x1d7ec3(0x1af)][a0_0x1d7ec3(0x47c)](_o))['get']('/events/:instance',async(_0x32bc15,_0xbea928)=>{const _0x292592=a0_0x1d7ec3;console[_0x292592(0xa6)]('bateu\x20events');let _0xf20d45=_0x32bc15[_0x292592(0x378)][_0x292592(0x597)],_0x1b665d=(_0x32bc15['query'][_0x292592(0xdd)]||'')[_0x292592(0x5f3)](','),_0x178b71=(0x0,Ci['v4'])();console[_0x292592(0xa6)]('Instance\x20ID:',_0xf20d45),console[_0x292592(0xa6)]('Subscribed\x20Events:',_0x1b665d);let _0x2a3638=S[_0x292592(0x332)](_0x292592(0x243))[_0x292592(0x555)],_0x5144ed=_0x32bc15[_0x292592(0x4c9)][_0x292592(0x4f0)];if(console[_0x292592(0xa6)](_0x292592(0x132),_0x5144ed),_0x2a3638[_0x292592(0x34f)]!==_0x5144ed){console[_0x292592(0xa6)](_0x292592(0xdc));try{let _0x5b3b43=await fe['auth'][_0x292592(0x44c)](_0xf20d45);if(console['log'](_0x292592(0x57a),_0x5b3b43),!_0x5b3b43||_0x5b3b43[_0x292592(0x4f0)]!==_0x5144ed)return console[_0x292592(0xa6)](_0x292592(0x301)),_0xbea928[_0x292592(0x77f)](0x191)[_0x292592(0x7f0)](_0x292592(0x5bf));}catch(_0x13723a){return console[_0x292592(0x6f8)](_0x292592(0x4b0),_0x13723a),_0xbea928[_0x292592(0x77f)](0x191)[_0x292592(0x7f0)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await _e(_0xf20d45))return _0xbea928[_0x292592(0x77f)](0x194)['send']('Instância\x20não\x20encontrada.');_0xbea928[_0x292592(0x4a4)](_0x292592(0x33a),_0x292592(0x6b3)),_0xbea928[_0x292592(0x4a4)](_0x292592(0x361),'no-cache'),_0xbea928['setHeader']('Connection',_0x292592(0x3fa)),_0xbea928['flushHeaders']();let _0x5bd3fe=_0x292592(0x362)+JSON['stringify']({'info':_0x292592(0x3a0)})+'\x0a\x0a';_0xbea928[_0x292592(0x764)](_0x5bd3fe),yi(_0xf20d45,_0x178b71,_0xbea928,_0x1b665d),_0x32bc15['on']('close',()=>{const _0x4447f9=_0x292592;console['log'](_0x4447f9(0x1a4)+_0xf20d45),bi(_0xf20d45,_0x178b71);});}),ke[a0_0x1d7ec3(0x7f5)](a0_0x1d7ec3(0x795),async(_0x14ef74,_0x1c638f)=>{const _0x212682=a0_0x1d7ec3;console['log'](_0x212682(0x10e));let _0x226dea=_0x14ef74[_0x212682(0x378)][_0x212682(0x597)],_0x363862=_0x14ef74['params'][_0x212682(0x612)],_0x3f1afe=_0x14ef74[_0x212682(0x4c9)][_0x212682(0x9d)]||'',_0x1fee99=_0x14ef74['body'];console[_0x212682(0xa6)]('Instance\x20Name:',_0x226dea),console[_0x212682(0xa6)]('StartID:',_0x363862),console['log'](_0x212682(0x2ad),_0x3f1afe),console['log']('Request\x20Body:',_0x1fee99);try{if(!await _e(_0x226dea))return _0x1c638f[_0x212682(0x77f)](0x194)['send'](_0x212682(0x7ee));let _0x4d7c95=await O[_0x212682(0x28b)](_0x226dea,_0x363862,_0x3f1afe,_0x1fee99);_0x1c638f[_0x212682(0x7f0)](_0x4d7c95);}catch(_0x4332a2){console[_0x212682(0x6f8)](_0x4332a2),_0x1c638f[_0x212682(0x77f)](0x1f4)[_0x212682(0x7f0)]('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),ke[a0_0x1d7ec3(0x332)](a0_0x1d7ec3(0xe5),(_0x204c74,_0x283be4)=>{const _0xfcbeb=a0_0x1d7ec3;let _0x16a517=Si();_0x283be4[_0xfcbeb(0x16f)](_0x16a517);})['get']('/',(_0xe2cd1d,_0x2bc4c3)=>{const _0x2b2c4b=a0_0x1d7ec3;let _0x3678c9=S[_0x2b2c4b(0x332)](_0x2b2c4b(0x1f2))['URL'];if(_0x3678c9){let _0x489919=encodeURIComponent(''+_0x3678c9);_0x2bc4c3['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x489919);return;}let _0x20fac1=S[_0x2b2c4b(0x332)](_0x2b2c4b(0x4c4)),_0x295fa2=_0x20fac1&&_0x20fac1[_0x2b2c4b(0x548)][_0x2b2c4b(0x5f3)]('/')[0x4];if(_0x295fa2){let _0x4bf96f=encodeURIComponent(_0x2b2c4b(0x3d9)+_0x295fa2);_0x2bc4c3[_0x2b2c4b(0x3e7)](_0x2b2c4b(0x30e)+_0x4bf96f);}else _0x2bc4c3[_0x2b2c4b(0x3e7)](_0x2b2c4b(0x1dc));})['put'](a0_0x1d7ec3(0x576),...re,async(_0x51a705,_0xf30ef5)=>{const _0x10d82e=a0_0x1d7ec3;try{console[_0x10d82e(0xa6)](_0x10d82e(0x3f6)),_0xf30ef5[_0x10d82e(0x77f)](0xc8)[_0x10d82e(0x16f)]({'message':_0x10d82e(0x487)}),_0xf30ef5['on'](_0x10d82e(0x63a),()=>process[_0x10d82e(0x2dd)](0x0));}catch(_0x3a31e9){console[_0x10d82e(0x6f8)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x3a31e9),_0xf30ef5[_0x10d82e(0x77f)](0x1f4)['json']({'message':_0x10d82e(0x431)});}})[a0_0x1d7ec3(0x2f2)](a0_0x1d7ec3(0x4ce),...re,async(_0x3e09d3,_0x17eb17)=>{const _0x597eed=a0_0x1d7ec3;try{let _0x11d3db=_0x3e09d3[_0x597eed(0x3e2)];await ve['updateOne']({},{'$set':_0x11d3db},{'upsert':!0x0});let _0x49c516=await ve[_0x597eed(0x6f0)]();_0x17eb17[_0x597eed(0x16f)](_0x49c516);}catch(_0x3d3b08){_0x17eb17['status'](0x190)[_0x597eed(0x7f0)](_0x3d3b08[_0x597eed(0x3bf)]);}})[a0_0x1d7ec3(0x332)](a0_0x1d7ec3(0x4ce),...re,async(_0x1f8b68,_0x4515bb)=>{const _0x47e49a=a0_0x1d7ec3;try{let _0x5527fd=await ve[_0x47e49a(0x6f0)]();if(!_0x5527fd)return _0x4515bb[_0x47e49a(0x16f)]({});_0x4515bb[_0x47e49a(0x16f)](_0x5527fd);}catch(_0x41af21){_0x4515bb['status'](0x1f4)[_0x47e49a(0x7f0)](_0x41af21[_0x47e49a(0x3bf)]);}})['use'](a0_0x1d7ec3(0x73b),new yt(S,...re)[a0_0x1d7ec3(0x3ea)])[a0_0x1d7ec3(0x6ad)]('/message',new At(...re)[a0_0x1d7ec3(0x3ea)])[a0_0x1d7ec3(0x6ad)](a0_0x1d7ec3(0x785),new ct(...re)['router'])[a0_0x1d7ec3(0x6ad)](a0_0x1d7ec3(0x7d8),new wt(...re)[a0_0x1d7ec3(0x3ea)])[a0_0x1d7ec3(0x6ad)]('/webhook',new Tt(...re)[a0_0x1d7ec3(0x3ea)])['use'](a0_0x1d7ec3(0x3a9),new _t(...re)[a0_0x1d7ec3(0x3ea)]);var m=class{constructor(..._0x49b7ff){const _0x40a180=a0_0x1d7ec3;throw{'status':0x190,'error':_0x40a180(0x575),'message':_0x49b7ff['length']>0x0?_0x49b7ff:void 0x0};}},ie=class{constructor(..._0x109ea9){throw{'status':0x191,'error':'Unauthorized','message':_0x109ea9['length']>0x0?_0x109ea9:void 0x0};}},Z=class{constructor(..._0x2457e3){const _0x5ee6cd=a0_0x1d7ec3;throw{'status':0x193,'error':_0x5ee6cd(0x270),'message':_0x2457e3[_0x5ee6cd(0x387)]>0x0?_0x2457e3:void 0x0};}},U=class{constructor(..._0x74af6e){const _0x37f524=a0_0x1d7ec3;throw{'status':0x194,'error':_0x37f524(0x46c),'message':_0x74af6e[_0x37f524(0x387)]>0x0?_0x74af6e:void 0x0};}},x=class{constructor(..._0x588240){const _0x553ee8=a0_0x1d7ec3;throw{'status':0x1f4,'error':_0x553ee8(0x508),'message':_0x588240[_0x553ee8(0x387)]>0x0?_0x588240:void 0x0};}},we=require(a0_0x1d7ec3(0x492));async function _s(_0x4d2d8f){const _0x4b6455=a0_0x1d7ec3;let _0x995ddf=new $(_s[_0x4b6455(0x70c)]),_0x4bbc1c=I[_0x4b6455(0x425)](),_0x265509=_0x4bbc1c['db'](S['get'](_0x4b6455(0x220))[_0x4b6455(0x4f9)][_0x4b6455(0x1a7)]+'-instances')[_0x4b6455(0x4ba)](_0x4d2d8f),_0x2e8076=async(_0x5ebf36,_0x45a2d4)=>{const _0x27435d=_0x4b6455;try{return await _0x4bbc1c[_0x27435d(0x485)](),await _0x265509[_0x27435d(0x196)]({'_id':_0x45a2d4},JSON[_0x27435d(0x665)](JSON['stringify'](_0x5ebf36,we[_0x27435d(0x7bf)][_0x27435d(0x304)])),{'upsert':!0x0});}catch{}},_0xd322db=async _0x1be074=>{const _0x585126=_0x4b6455;try{await _0x4bbc1c[_0x585126(0x485)]();let _0x53c6d1=await _0x265509[_0x585126(0x6f0)]({'_id':_0x1be074}),_0x3ce488=JSON[_0x585126(0x115)](_0x53c6d1);return JSON[_0x585126(0x665)](_0x3ce488,we[_0x585126(0x7bf)][_0x585126(0x526)]);}catch{}},_0x4da8a6=async _0x4bba52=>{const _0x42697d=_0x4b6455;try{return await _0x4bbc1c[_0x42697d(0x485)](),await _0x265509[_0x42697d(0x40e)]({'_id':_0x4bba52});}catch{}},_0x5d0ebc=await _0xd322db(_0x4b6455(0x6a4))||(0x0,we[_0x4b6455(0x457)])();return{'state':{'creds':_0x5d0ebc,'keys':{'get':async(_0x4e989d,_0x3d935b)=>{const _0xed282a=_0x4b6455;let _0x45e28e={};return await Promise[_0xed282a(0x4f6)](_0x3d935b[_0xed282a(0x5c2)](async _0x12c6ba=>{const _0x2d4c33=_0xed282a;let _0x85f0e=await _0xd322db(_0x4e989d+'-'+_0x12c6ba);_0x4e989d===_0x2d4c33(0x3dc)&&_0x85f0e&&(_0x85f0e=we[_0x2d4c33(0x4c6)][_0x2d4c33(0x37e)][_0x2d4c33(0x522)]['fromObject'](_0x85f0e)),_0x45e28e[_0x12c6ba]=_0x85f0e;})),_0x45e28e;},'set':async _0x4b72e0=>{const _0x56835e=_0x4b6455;let _0x385079=[];for(let _0x15a064 in _0x4b72e0)for(let _0x24f8e9 in _0x4b72e0[_0x15a064]){let _0x377a35=_0x4b72e0[_0x15a064][_0x24f8e9],_0x3a09ab=_0x15a064+'-'+_0x24f8e9;_0x385079['push'](_0x377a35?_0x2e8076(_0x377a35,_0x3a09ab):_0x4da8a6(_0x3a09ab));}await Promise[_0x56835e(0x4f6)](_0x385079);}}},'saveCreds':async()=>_0x2e8076(_0x5d0ebc,_0x4b6455(0x6a4))};}var ks=T(require(a0_0x1d7ec3(0x1aa))),Ls=T(require(a0_0x1d7ec3(0x7f4))),Pt=require(a0_0x1d7ec3(0x492)),Ei=require(a0_0x1d7ec3(0x659)),Dt=require(a0_0x1d7ec3(0x492)),xt;function xo(_0x38d929){const _0x342dc6=a0_0x1d7ec3;return xt||(xt=(0x0,Ei[_0x342dc6(0x465)])({'url':_0x38d929[_0x342dc6(0xc7)]}),xt[_0x342dc6(0x485)]()),xt;}var pe=class u{constructor(_0x17d4fe,_0x3de0a1){const _0x3cf3f1=a0_0x1d7ec3;this[_0x3cf3f1(0x398)]=_0x17d4fe,this['instanceName']=_0x3de0a1,this[_0x3cf3f1(0x671)]=new $(u['name']),this[_0x3cf3f1(0x38a)]=xo(_0x17d4fe);}set['reference'](_0x958a6d){const _0x4bf558=a0_0x1d7ec3;this[_0x4bf558(0x7ab)]=_0x958a6d;}async[a0_0x1d7ec3(0x402)](){const _0x491196=a0_0x1d7ec3;try{return await this[_0x491196(0x38a)]['sendCommand']([_0x491196(0x29b),this[_0x491196(0x398)]['PREFIX_KEY']+':*']);}catch(_0x32f7ff){this['logger'][_0x491196(0x6f8)](_0x32f7ff);}}async[a0_0x1d7ec3(0x737)](_0x28ca61,_0x265fd){const _0x3be6cf=a0_0x1d7ec3;try{let _0xcc75=JSON[_0x3be6cf(0x115)](_0x265fd,Dt[_0x3be6cf(0x7bf)][_0x3be6cf(0x304)]);return await this[_0x3be6cf(0x38a)]['hSet'](this[_0x3be6cf(0x398)]['PREFIX_KEY']+':'+this[_0x3be6cf(0x7ab)],_0x28ca61,_0xcc75);}catch(_0x45b245){this['logger']['error'](_0x45b245);}}async[a0_0x1d7ec3(0x5f0)](){const _0x42f8bb=a0_0x1d7ec3;try{let _0x382fd3=await this[_0x42f8bb(0x38a)]['hGetAll'](this[_0x42f8bb(0x398)][_0x42f8bb(0x59b)]+':'+this[_0x42f8bb(0x7ab)]);if(_0x382fd3){for(let _0x4214cd in _0x382fd3)Object['prototype']['hasOwnProperty']['call'](_0x382fd3,_0x4214cd)&&(_0x382fd3[_0x4214cd]=JSON[_0x42f8bb(0x665)](_0x382fd3[_0x4214cd],Dt[_0x42f8bb(0x7bf)]['reviver']));return _0x382fd3;}}catch(_0x75735b){this[_0x42f8bb(0x671)][_0x42f8bb(0x6f8)](_0x75735b);}}async[a0_0x1d7ec3(0x6d0)](_0x3ed52d){const _0x408513=a0_0x1d7ec3;try{let _0x2dd918=await this['client'][_0x408513(0x7d2)](this[_0x408513(0x398)][_0x408513(0x59b)]+':'+this[_0x408513(0x7ab)],_0x3ed52d);if(_0x2dd918)return JSON[_0x408513(0x665)](_0x2dd918,Dt[_0x408513(0x7bf)][_0x408513(0x526)]);}catch(_0x2e8480){this[_0x408513(0x671)][_0x408513(0x6f8)](_0x2e8480);}}async['removeData'](_0x19d8a8){const _0x4cbfd8=a0_0x1d7ec3;try{return await this[_0x4cbfd8(0x38a)][_0x4cbfd8(0x1e2)](this[_0x4cbfd8(0x398)]['PREFIX_KEY']+':'+this['instanceName'],_0x19d8a8);}catch(_0x3f3291){this[_0x4cbfd8(0x671)][_0x4cbfd8(0x6f8)](_0x3f3291);}}async[a0_0x1d7ec3(0x3d5)](_0x41d2ec){const _0x2edc3b=a0_0x1d7ec3;try{return await this[_0x2edc3b(0x38a)][_0x2edc3b(0x46b)](_0x41d2ec||this[_0x2edc3b(0x398)]['PREFIX_KEY']+':'+this['instanceName']);}catch(_0x17c45d){this[_0x2edc3b(0x671)][_0x2edc3b(0x6f8)](_0x17c45d);}}};async function Os(_0x46d2dd,_0x5a78e){const _0x337582=a0_0x1d7ec3;let _0x8abf4d=new $(Os['name']),_0x34baed=new pe(_0x46d2dd,_0x5a78e),_0x2883ce=async(_0x102ab5,_0x3879ea)=>{const _0x257b45=a0_0x5af0;try{return await _0x34baed[_0x257b45(0x737)](_0x3879ea,_0x102ab5);}catch(_0x283ede){return _0x8abf4d[_0x257b45(0x6f8)]({'localError':_0x257b45(0x737),'error':_0x283ede});}},_0xe51c3d=async _0x571485=>{const _0x1829d7=a0_0x5af0;try{return await _0x34baed['readData'](_0x571485);}catch(_0x2221a7){_0x8abf4d[_0x1829d7(0x6f8)]({'readData':_0x1829d7(0x737),'error':_0x2221a7});return;}},_0x527039=async _0x689e14=>{const _0x557d1d=a0_0x5af0;try{return await _0x34baed['removeData'](_0x689e14);}catch(_0x529818){_0x8abf4d[_0x557d1d(0x6f8)]({'readData':'removeData','error':_0x529818});}},_0x247025=await _0xe51c3d(_0x337582(0x6a4))||(0x0,Pt[_0x337582(0x457)])();return{'state':{'creds':_0x247025,'keys':{'get':async(_0x2197fd,_0x232ee2)=>{const _0x601f38=_0x337582;let _0x2b364e={};return await Promise[_0x601f38(0x4f6)](_0x232ee2['map'](async _0xaa93f9=>{const _0x471b5d=_0x601f38;let _0x4ff2ef=await _0xe51c3d(_0x2197fd+'-'+_0xaa93f9);_0x2197fd===_0x471b5d(0x3dc)&&_0x4ff2ef&&(_0x4ff2ef=Pt[_0x471b5d(0x4c6)][_0x471b5d(0x37e)]['AppStateSyncKeyData']['fromObject'](_0x4ff2ef)),_0x2b364e[_0xaa93f9]=_0x4ff2ef;})),_0x2b364e;},'set':async _0x52ac16=>{const _0x582be3=_0x337582;let _0x47e3bc=[];for(let _0xabdb5f in _0x52ac16)for(let _0x41429a in _0x52ac16[_0xabdb5f]){let _0x18b1ac=_0x52ac16[_0xabdb5f][_0x41429a],_0x207139=_0xabdb5f+'-'+_0x41429a;_0x47e3bc['push'](_0x18b1ac?await _0x2883ce(_0x18b1ac,_0x207139):await _0x527039(_0x207139));}await Promise[_0x582be3(0x4f6)](_0x47e3bc);}}},'saveCreds':async()=>await _0x2883ce(_0x247025,_0x337582(0x6a4))};}var k=T(require('fs')),Y=require(a0_0x1d7ec3(0x36f)),Ut=T(require(a0_0x1d7ec3(0x2b8))),ne=require(a0_0x1d7ec3(0x739)),vi=require(a0_0x1d7ec3(0x2fc)),Ni=require(a0_0x1d7ec3(0x756)),$i=T(require(a0_0x1d7ec3(0x3c3))),Ne=class extends _{constructor(_0x219bff,_0x436237,_0x472577){const _0x5f8b5f=a0_0x1d7ec3;super(_0x436237),this[_0x5f8b5f(0x5aa)]=_0x219bff,this[_0x5f8b5f(0x75a)]=_0x436237,this[_0x5f8b5f(0x3c4)]=_0x472577;}async['createOrUpdate'](_0x13388c,_0x4ac0c7){const _0x51b79b=a0_0x1d7ec3;try{if(this[_0x51b79b(0x3ed)]['ENABLED']){console[_0x51b79b(0xa6)](_0x51b79b(0x5a7)+_0x4ac0c7+_0x51b79b(0x42d),_0x13388c);let _0x1b871b=await this[_0x51b79b(0x5aa)]['findOneAndUpdate']({'_id':_0x4ac0c7},{'$set':_0x13388c},{'new':!0x0,'upsert':!0x0});return console[_0x51b79b(0xa6)](_0x51b79b(0x5fc),_0x1b871b),_0x1b871b;}}catch(_0x3ef149){throw console[_0x51b79b(0x6f8)](_0x51b79b(0x2ca),_0x3ef149),_0x3ef149;}return null;}async[a0_0x1d7ec3(0x40e)](_0x44de6d){const _0x40ced2=a0_0x1d7ec3;try{let _0x3cf5d3=A(_0x44de6d[_0x40ced2(0x2f7)]);return{'deletedCount':(await this[_0x40ced2(0x5aa)][_0x40ced2(0x40e)](_0x3cf5d3))['deletedCount']};}catch(_0x34b5de){return{'error':_0x34b5de?.[_0x40ced2(0x125)]()};}}async['findOne'](_0x59e9d2){const _0x9b8d21=a0_0x1d7ec3;try{let _0x18a052=A(_0x59e9d2['where']);return await this[_0x9b8d21(0x5aa)][_0x9b8d21(0x6f0)](_0x18a052)[_0x9b8d21(0x573)]();}catch{return null;}}},kt=(0x0,Ni[a0_0x1d7ec3(0x1d4)])(vi[a0_0x1d7ec3(0x1a6)]),Do=S['get'](a0_0x1d7ec3(0x624)),xs=class{constructor(){const _0x394ac3=a0_0x1d7ec3;this[_0x394ac3(0x641)]=new Ne(Be,S),(!this[_0x394ac3(0x66d)]||!this[_0x394ac3(0x4b1)])&&Do&&this['detectIPv6PrefixAndInterface']()[_0x394ac3(0x147)](()=>{const _0x696ac8=_0x394ac3;console['log'](_0x696ac8(0x3c6)+this[_0x696ac8(0x66d)]),console[_0x696ac8(0xa6)](_0x696ac8(0x422)+this[_0x696ac8(0x4b1)]);})['catch'](_0x18b672=>{const _0xfd872f=_0x394ac3;console[_0xfd872f(0x6f8)](_0xfd872f(0x6bd)+_0x18b672['message']);});}async['detectIPv6PrefixAndInterface'](){const _0x126454=a0_0x1d7ec3;try{let {stdout:_0x32f23e}=await kt(_0x126454(0x1bd));console[_0x126454(0xa6)]('Network\x20interfaces\x20detected:\x20'+_0x32f23e);let _0x5e7422=_0x32f23e['split']('\x0a')[_0x126454(0x5c2)](_0x1cfa26=>_0x1cfa26['split']('\x20')[0x0])[_0x126454(0x350)](_0x5363c0=>!_0x5363c0[_0x126454(0x603)]('lo')&&!_0x5363c0['includes'](_0x126454(0x3c8))&&!_0x5363c0[_0x126454(0x603)](_0x126454(0x32e))&&!_0x5363c0[_0x126454(0x603)]('wl')&&!_0x5363c0[_0x126454(0x603)]('@'));if(console[_0x126454(0xa6)](_0x126454(0x26d)+_0x5e7422),_0x5e7422[_0x126454(0x387)]===0x0)throw new Error(_0x126454(0x9b));this[_0x126454(0x4b1)]=_0x5e7422[0x0];let {stdout:_0x5d2520}=await kt(_0x126454(0x13e)+this[_0x126454(0x4b1)]);console[_0x126454(0xa6)](_0x126454(0x1c9)+_0x5d2520);let _0x549ea7=_0x5d2520[_0x126454(0x5f3)]('\x0a')[_0x126454(0x44c)](_0x1bd0e8=>_0x1bd0e8['includes']('inet6')&&_0x1bd0e8[_0x126454(0x603)](_0x126454(0x769)));if(!_0x549ea7)throw new Error(_0x126454(0x1ad));let _0x495377=_0x549ea7[_0x126454(0x20e)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x495377)throw new Error(_0x126454(0x26e));let [_0x4ff214,_0x2e6cd5,_0x2ebcfe]=_0x495377,_0x2cb32c=Math[_0x126454(0x518)](Number(_0x2ebcfe)/0x10),_0x4f26f3=Number(_0x2ebcfe)%0x10,_0x1a6615=_0x2e6cd5[_0x126454(0x5f3)](':')[_0x126454(0x75d)](0x0,_0x2cb32c)[_0x126454(0x7e1)](':');if(_0x4f26f3>0x0){let _0x596155=_0x2e6cd5[_0x126454(0x5f3)](':')[_0x2cb32c],_0x431ec3=0xffff<<0x10-_0x4f26f3&0xffff,_0x4a9c0d=(parseInt(_0x596155,0x10)&_0x431ec3)[_0x126454(0x125)](0x10)[_0x126454(0x181)](0x4,'0');_0x1a6615+=':'+_0x4a9c0d;}this[_0x126454(0x66d)]=_0x1a6615+':';}catch(_0x69098){console['error'](_0x126454(0x699),_0x69098);}}async[a0_0x1d7ec3(0x44d)](_0x349202){const _0x31d808=a0_0x1d7ec3;let _0x3c6aa2=_0x31d808(0x185)+_0x349202+_0x31d808(0x580)+this['networkInterface'];try{await kt(_0x3c6aa2),console[_0x31d808(0xa6)](_0x31d808(0x19e)+_0x349202);}catch(_0x52eb99){console[_0x31d808(0x6f8)](_0x31d808(0x256)+_0x52eb99);}}async[a0_0x1d7ec3(0x179)](_0x5d355c){const _0x394ab5=a0_0x1d7ec3;let _0x25015c=_0x394ab5(0x7ae)+_0x5d355c+_0x394ab5(0x580)+this['networkInterface'];try{await kt(_0x25015c),console[_0x394ab5(0xa6)]('IPv6\x20address\x20removed:\x20'+_0x5d355c);}catch(_0x49ed9d){console[_0x394ab5(0x6f8)](_0x394ab5(0x59d)+_0x49ed9d);}}[a0_0x1d7ec3(0x2ec)](){const _0x3cd424=a0_0x1d7ec3;return _0x3cd424(0x1d5)[_0x3cd424(0x404)](/X/g,()=>_0x3cd424(0x799)[_0x3cd424(0x451)](Math['floor'](Math[_0x3cd424(0x684)]()*0x10)));}[a0_0x1d7ec3(0x393)](_0x371436,_0x5d8518){const _0x1354ac=a0_0x1d7ec3;let _0x643fd4=_0x5d8518['split'](':');return _0x643fd4[0x0]=(parseInt(_0x643fd4[0x0],0x10)^0x2)[_0x1354ac(0x125)](0x10)['padStart'](0x2,'0'),''+_0x371436+_0x643fd4[0x0]+_0x643fd4[0x1]+':'+_0x643fd4[0x2]+'ff:fe'+_0x643fd4[0x3]+':'+_0x643fd4[0x4]+_0x643fd4[0x5];}[a0_0x1d7ec3(0x1b9)](){const _0x580cd5=a0_0x1d7ec3;let _0x1b0c1a=this[_0x580cd5(0x66d)];_0x1b0c1a['endsWith'](':')||(_0x1b0c1a+=':');let _0x6a944c=this[_0x580cd5(0x2ec)]();return this[_0x580cd5(0x393)](_0x1b0c1a,_0x6a944c);}['isValidIPv6Config'](_0x3a1b96){const _0x2b3106=a0_0x1d7ec3;return new RegExp(_0x2b3106(0x622))[_0x2b3106(0x91)](_0x3a1b96);}async[a0_0x1d7ec3(0x187)](_0x4eaf8e){const _0x2a0c88=a0_0x1d7ec3;let _0x428d8f=[{'url':'https://ipv6.jsonip.com','parse':_0x21445b=>_0x21445b['ip']},{'url':'https://api64.ipify.org?format=json','parse':_0x296ca1=>_0x296ca1['ip']},{'url':_0x2a0c88(0x41e),'parse':_0xacfae7=>_0xacfae7[_0x2a0c88(0x5e2)]()},{'url':'https://v6.ident.me','parse':_0x21e5e5=>_0x21e5e5[_0x2a0c88(0x5e2)]()}],_0x1030e9=_0x428d8f[Math['floor'](Math[_0x2a0c88(0x684)]()*_0x428d8f[_0x2a0c88(0x387)])];try{let _0x1b72a0=await $i['default'][_0x2a0c88(0x332)](_0x1030e9[_0x2a0c88(0x6fa)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x4eaf8e}}),_0x1957a0=_0x1030e9[_0x2a0c88(0x665)](_0x1b72a0[_0x2a0c88(0x470)]);return _0x1957a0[_0x2a0c88(0x25b)]()===_0x4eaf8e[_0x2a0c88(0x25b)]()?(console['log'](_0x2a0c88(0x6c0)+_0x4eaf8e),!0x0):(console[_0x2a0c88(0x6f8)](_0x2a0c88(0x141)+_0x4eaf8e+_0x2a0c88(0x661)+_0x1957a0),!0x1);}catch(_0x89177a){return console[_0x2a0c88(0x6f8)](_0x2a0c88(0x95)+_0x1030e9['url']+':\x20'+_0x89177a[_0x2a0c88(0x3bf)]),!0x1;}}async['createIPv6'](_0x15aace,_0x128407){const _0x3c155d=a0_0x1d7ec3;if(!this[_0x3c155d(0x66d)]||!this['networkInterface'])return console[_0x3c155d(0x6f8)]('IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.'),null;let _0x1f464a;do _0x1f464a=this[_0x3c155d(0x1b9)](),console[_0x3c155d(0xa6)](_0x3c155d(0x41c)+_0x1f464a);while(!await this['isValidAndUniqueIPv6'](_0x1f464a));await this[_0x3c155d(0x44d)](_0x1f464a),console[_0x3c155d(0xa6)]('Configured\x20IPv6:\x20'+_0x1f464a);let _0x5ca894={'_id':_0x15aace+'-'+_0x128407,'ip':_0x1f464a},_0x34cc9f=await this[_0x3c155d(0x641)]['createOrUpdate'](_0x5ca894,_0x5ca894[_0x3c155d(0x6ee)]);return console[_0x3c155d(0xa6)]('Cache\x20instance\x20update\x20result:\x20'+_0x34cc9f),_0x1f464a;}async[a0_0x1d7ec3(0x7fb)](_0x54a765){const _0x1cd573=a0_0x1d7ec3;return this['isValidIPv6Config'](_0x54a765)?!await this[_0x1cd573(0x641)][_0x1cd573(0x6f0)]({'where':{'ip':_0x54a765}}):!0x1;}async[a0_0x1d7ec3(0x5e7)](_0x203fe7,_0x5f2b23){const _0x21b093=a0_0x1d7ec3;let _0x4fa748=_0x203fe7+'-'+_0x5f2b23,_0x45c0a4=await this['cacheInstanceRepository'][_0x21b093(0x6f0)]({'where':{'_id':_0x4fa748}});_0x45c0a4&&_0x45c0a4['ip']&&(await this['removeIPv6'](_0x45c0a4['ip']),await this['cacheInstanceRepository'][_0x21b093(0x40e)]({'where':{'_id':_0x4fa748}}));}},Po=new xs(),ae=Po,Fs=a0_0x1d7ec3(0x2b1),xi,he=null,xa=null,ko=0x3,Lo=null,Ri=S['get']('AUTHENTICATION')[a0_0x1d7ec3(0x555)][a0_0x1d7ec3(0x34f)],Ai=S[a0_0x1d7ec3(0x332)]('PROXY');async function Fo(){const _0x21a72c=a0_0x1d7ec3;let _0x4a8e7b=await ve[_0x21a72c(0x6f0)]();he=_0x4a8e7b?.[_0x21a72c(0x5ab)]??null,Lo=_0x4a8e7b?.['DaysToDelete']??null,Fs=_0x4a8e7b?.[_0x21a72c(0x140)]??_0x21a72c(0x2b1),xi=_0x4a8e7b?.[_0x21a72c(0x2fa)]??B??'uazapi';}async function Uo(){await Fo();}Uo();var Lt={},$e=class u{constructor(_0x1ed9e1,_0x2aa4fe,_0x336f79){const _0x3768e6=a0_0x1d7ec3;this[_0x3768e6(0x75a)]=_0x1ed9e1,this[_0x3768e6(0x608)]=_0x2aa4fe,this[_0x3768e6(0x2d1)]=_0x336f79,this[_0x3768e6(0x7ac)]=null,this[_0x3768e6(0x671)]=new $(u['name']),this[_0x3768e6(0x597)]={},this[_0x3768e6(0x762)]={},this[_0x3768e6(0x14a)]={'state':_0x3768e6(0x4fe)},this[_0x3768e6(0x8c)]=(0x0,j[_0x3768e6(0x7e1)])(le,'downloads'),this[_0x3768e6(0x6e0)]=new Ls[(_0x3768e6(0x1af))](),this['userDevicesCache']=new Ls[(_0x3768e6(0x1af))](),this[_0x3768e6(0x57e)]=!0x1,this[_0x3768e6(0x215)]={'status.instance':_0x3768e6(0x5a4),'connection.update':'/wa-connection-update','qrcode.updated':_0x3768e6(0x32f),'messages.upsert':_0x3768e6(0x2e0),'send.message':_0x3768e6(0x2e0),'messages.update':_0x3768e6(0x353),'group.upsert':_0x3768e6(0x401),'group.update':_0x3768e6(0x401),'group-participants.update':_0x3768e6(0x401),'messages.set':_0x3768e6(0x742),'contacts.set':_0x3768e6(0x713),'contacts.upsert':_0x3768e6(0x713),'contacts.update':'/wa-contacts','presence.update':_0x3768e6(0x5b7),'chats.set':_0x3768e6(0x58a),'chats.update':_0x3768e6(0x58a),'chats.upsert':_0x3768e6(0x58a),'chats.delete':'/wa-chats'},this[_0x3768e6(0x5ae)]=0x0,this[_0x3768e6(0x50c)]=[],this[_0x3768e6(0x64d)]=0xea60,this[_0x3768e6(0x83)]=!0x1,this[_0x3768e6(0xc1)]={'chats.upsert':async(_0x52b911,_0x1a9a50)=>{const _0x4553fb=_0x3768e6;let _0x217525=[];for await(let _0x451e03 of _0x52b911)_0x217525[_0x4553fb(0x1fc)]({'_id':_0x451e03['id'],'owner':this[_0x4553fb(0x597)][_0x4553fb(0x38f)],'group':_0x451e03['id'][_0x4553fb(0x34e)]('@g.us'),'name':_0x451e03['name']||_0x451e03[_0x4553fb(0x528)]||null,'contactname':null,'lastmsg':_0x451e03[_0x4553fb(0x54b)]&&_0x451e03[_0x4553fb(0x54b)][_0x4553fb(0x125)]()['length']<0xd?_0x451e03[_0x4553fb(0x54b)]*0x3e8:_0x451e03['conversationTimestamp']||null,'archived':_0x451e03[_0x4553fb(0x120)]||!0x1,'unreadcount':_0x451e03[_0x4553fb(0x4f3)]||0x0,'ephemeralExpiration':_0x451e03['ephemeralExpiration']||0x0});this[_0x4553fb(0x673)](_0x4553fb(0x577),_0x217525);},'chats.update':async(_0x9c62af,_0x57cc82)=>{const _0x3ceacc=_0x3768e6;for(let _0x21943d of _0x9c62af){let _0x31bbe7={'_id':_0x21943d['id'],'owner':this[_0x3ceacc(0x597)]['wuid'],'archived':_0x21943d['archived'],'muteEndTime':_0x21943d['muteEndTime'],'ephemeralExpiration':_0x21943d[_0x3ceacc(0x74d)]},_0x202d14=!0x1,_0x23bf5c={};_0x31bbe7[_0x3ceacc(0x120)]!=null&&(this[_0x3ceacc(0x671)]['verbose'](this[_0x3ceacc(0x7ab)]+'\x20('+this[_0x3ceacc(0x597)]['wuid']+_0x3ceacc(0x7dc)+_0x21943d['id']+'\x20:\x20'+_0x21943d['archived']),_0x202d14=!0x0,_0x23bf5c[_0x3ceacc(0x120)]=_0x21943d[_0x3ceacc(0x120)]),_0x3ceacc(0x2c9)in _0x21943d&&(this[_0x3ceacc(0x671)]['verbose'](this[_0x3ceacc(0x7ab)]+'\x20('+this['instance'][_0x3ceacc(0x38f)]+_0x3ceacc(0x546)+_0x21943d['id']+'\x20:\x20'+(_0x21943d[_0x3ceacc(0x2c9)]??'0')),_0x202d14=!0x0,_0x23bf5c[_0x3ceacc(0x2c9)]=_0x21943d[_0x3ceacc(0x2c9)]??0x0),_0x3ceacc(0x74d)in _0x21943d&&(this[_0x3ceacc(0x671)][_0x3ceacc(0x244)](this['instanceName']+'\x20('+this[_0x3ceacc(0x597)][_0x3ceacc(0x38f)]+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x21943d['id']+_0x3ceacc(0x3bd)+(_0x21943d[_0x3ceacc(0x74d)]!==void 0x0?_0x21943d[_0x3ceacc(0x74d)]:_0x3ceacc(0x189))),_0x23bf5c[_0x3ceacc(0x74d)]=_0x21943d[_0x3ceacc(0x74d)]===null?0x0:_0x21943d[_0x3ceacc(0x74d)],_0x202d14=!0x0);let _0x362122;_0x202d14&&(_0x362122=await this[_0x3ceacc(0x2d1)][_0x3ceacc(0x39a)][_0x3ceacc(0x171)]({'where':{'_id':_0x21943d['id']}},_0x23bf5c,this[_0x3ceacc(0x597)][_0x3ceacc(0x38f)])),_0x362122&&F(this[_0x3ceacc(0x7ab)],'chats',{'chat':_0x362122});}},'chats.delete':async _0x3c98ba=>{const _0x186658=_0x3768e6;for(let _0x587043 of _0x3c98ba)if(_0x587043[_0x186658(0x34e)]('@g.us')){await this['repository'][_0x186658(0x39a)][_0x186658(0x174)]({'where':{'_id':_0x587043}},this[_0x186658(0x597)][_0x186658(0x38f)]);let _0x158a2e={'where':{'key':{'remoteJid':_0x587043}}};await this['repository'][_0x186658(0x3bf)][_0x186658(0x174)](_0x158a2e,this['instance']['wuid']);}else{await this[_0x186658(0x2d1)][_0x186658(0x39a)][_0x186658(0x171)]({'where':{'_id':_0x587043}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x186658(0x597)][_0x186658(0x38f)]);let _0x4bf897={'where':{'key':{'remoteJid':_0x587043}}};await this['repository'][_0x186658(0x3bf)][_0x186658(0x174)](_0x4bf897,this[_0x186658(0x597)]['wuid']);}this['sendDataWebhook'](_0x186658(0x32b),[..._0x3c98ba]);}},this['contactHandle']={'contacts.upsert':async(_0x21f131,_0x45e390)=>{const _0x947ac5=_0x3768e6;let _0x3af937=await this[_0x947ac5(0x2d1)][_0x947ac5(0x407)][_0x947ac5(0x44c)]({'where':{}},this[_0x947ac5(0x597)][_0x947ac5(0x38f)]),_0x5ac804=[];for await(let _0x168281 of _0x21f131)_0x3af937[_0x947ac5(0x44c)](_0x35e2ab=>_0x35e2ab[_0x947ac5(0x6ee)]===_0x168281['id'])||_0x5ac804[_0x947ac5(0x1fc)]({'_id':_0x168281['id'],'pushName':_0x168281?.[_0x947ac5(0x70c)]||_0x168281?.[_0x947ac5(0x397)],'owner':this[_0x947ac5(0x597)][_0x947ac5(0x38f)]});this['sendDataWebhook']('contacts.upsert',_0x5ac804),await this[_0x947ac5(0x2d1)][_0x947ac5(0x407)]['insert'](_0x5ac804);},'contacts.update':async(_0x59779d,_0x133159)=>{const _0x4b1f4f=_0x3768e6;let _0x44daef=[];for await(let _0x4d7798 of _0x59779d)_0x44daef[_0x4b1f4f(0x1fc)]({'_id':_0x4d7798['id'],'pushName':_0x4d7798?.[_0x4b1f4f(0x70c)]??_0x4d7798?.[_0x4b1f4f(0x397)],'owner':this[_0x4b1f4f(0x597)][_0x4b1f4f(0x38f)]});this[_0x4b1f4f(0x673)](_0x4b1f4f(0x4ed),_0x44daef);}},this[_0x3768e6(0x58c)]={'messaging-history.set':async({messages:_0x59b369,chats:_0x22a761,isLatest:_0xd43bd3},_0x1e9e5d)=>{const _0x52b452=_0x3768e6;if(_0xd43bd3){let _0x1ef806=await Promise[_0x52b452(0x4f6)](_0x22a761['map'](async _0x58cc2e=>({'_id':_0x58cc2e['id'],'owner':this[_0x52b452(0x597)][_0x52b452(0x38f)],'group':_0x58cc2e['id'][_0x52b452(0x34e)]('@g.us'),'name':_0x58cc2e['name']||_0x58cc2e['displayName']||_0x58cc2e[_0x52b452(0x17d)]||null,'contactname':null,'lastmsg':_0x58cc2e['conversationTimestamp']&&_0x58cc2e['conversationTimestamp'][_0x52b452(0x125)]()['length']<0xd?_0x58cc2e[_0x52b452(0x54b)]*0x3e8:_0x58cc2e[_0x52b452(0x54b)]||null,'archived':_0x58cc2e[_0x52b452(0x120)]||!0x1,'unreadcount':_0x58cc2e[_0x52b452(0x4f3)]||0x0,'ephemeralExpiration':_0x58cc2e[_0x52b452(0x74d)]||0x0,'muteEndTime':_0x58cc2e['muteEndTime']||0x0})));this[_0x52b452(0x673)](_0x52b452(0x288),_0x1ef806),await this[_0x52b452(0x774)](_0x1ef806,_0x1e9e5d);}let _0x529b39=[],_0x370a94=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0xa494d5]of Object[_0x52b452(0x1c2)](_0x59b369)){if(_0xa494d5['message']?.['protocolMessage']||_0xa494d5['message']?.[_0x52b452(0x165)]||!_0xa494d5['message']||_0xa494d5[_0x52b452(0x7e8)][_0x52b452(0x9d)]==='status@broadcast'||(ks[_0x52b452(0x1af)][_0x52b452(0x38c)](_0xa494d5?.[_0x52b452(0x101)])&&(_0xa494d5['messageTimestamp']=_0xa494d5[_0x52b452(0x101)]?.[_0x52b452(0x478)]()),_0xa494d5[_0x52b452(0x101)]&&_0xa494d5[_0x52b452(0x101)]['toString']()[_0x52b452(0x387)]<0xd&&(_0xa494d5['messageTimestamp']=_0xa494d5[_0x52b452(0x101)]*0x3e8),_0xa494d5[_0x52b452(0x101)]<_0x370a94))continue;let _0x4ed676=(0x0,w['normalizeMessageContent'])(_0xa494d5[_0x52b452(0x3bf)]),_0x40845b=(0x0,w['getContentType'])(_0x4ed676),{message_normalized:_0x1d3fb7}=this['normalizeMessage'](_0x4ed676,_0x40845b,null);Object[_0x52b452(0x29b)](_0x1d3fb7)[_0x52b452(0x387)]>0x0&&_0x529b39[_0x52b452(0x1fc)]({'_id':_0xa494d5[_0x52b452(0x7e8)]['id'],'key':_0xa494d5[_0x52b452(0x7e8)],'pushName':_0xa494d5[_0x52b452(0x754)],'participant':_0xa494d5[_0x52b452(0x2e1)],'message':_0x4ed676,'messageType':_0x40845b,'message_normalized':{'key':_0xa494d5[_0x52b452(0x7e8)],'pushName':_0xa494d5[_0x52b452(0x754)],'messageTimestamp':_0xa494d5[_0x52b452(0x101)],..._0x1d3fb7},'messageTimestamp':_0xa494d5['messageTimestamp'],'owner':this[_0x52b452(0x597)]['wuid']});}_0x1e9e5d[_0x52b452(0x7ff)]&&_0x529b39['length']>0x0&&(this['logger'][_0x52b452(0x244)](this['instanceName']+'\x20('+this[_0x52b452(0x597)][_0x52b452(0x38f)]+'):\x20'+_0x529b39['length']+_0x52b452(0x24f)+this['instance'][_0x52b452(0x38f)]+_0x52b452(0xef)),await this['repository']['message'][_0x52b452(0x718)]([..._0x529b39],this[_0x52b452(0x597)][_0x52b452(0x38f)])),this[_0x52b452(0x673)](_0x52b452(0xc9),[..._0x529b39]),_0x59b369=void 0x0;},'messages.upsert':async({messages:_0x44bb04,type:_0xec9f66},_0x6933ae)=>{const _0x1216ad=_0x3768e6;for(let _0x489aeb of _0x44bb04){if(this[_0x1216ad(0x762)]?.[_0x1216ad(0x57c)]&&_0x489aeb['key'][_0x1216ad(0x9d)][_0x1216ad(0x603)](_0x1216ad(0x290))){this[_0x1216ad(0x671)][_0x1216ad(0x244)](this[_0x1216ad(0x7ab)]+'\x20('+this[_0x1216ad(0x597)][_0x1216ad(0x38f)]+_0x1216ad(0x599));return;}if(_0x489aeb[_0x1216ad(0x7e8)][_0x1216ad(0x9d)][_0x1216ad(0x603)](_0x1216ad(0x23b))||_0x489aeb[_0x1216ad(0x7e8)][_0x1216ad(0x9d)]==='status@broadcast')return;if(_0x489aeb[_0x1216ad(0x2ac)]&&_0x489aeb[_0x1216ad(0x2ac)][0x0]==='Message\x20absent\x20from\x20node'){console[_0x1216ad(0x6f8)](_0x1216ad(0x767)),await this['fakeReceived'](_0x489aeb),Lt[_0x489aeb[_0x1216ad(0x7e8)]['id']]=_0x489aeb,this['retrySendMessage'](_0x489aeb,0x0);return;}if(_0xec9f66!==_0x1216ad(0x611)||!_0x489aeb?.['message']||_0x489aeb[_0x1216ad(0x3bf)]?.['protocolMessage']||_0x489aeb[_0x1216ad(0x3bf)]?.[_0x1216ad(0x165)])return;let _0x40b064=null,_0x3747f2=null;Lt[_0x489aeb[_0x1216ad(0x7e8)]['id']]&&(console[_0x1216ad(0x6f8)](_0x1216ad(0x224)),await this['repository']['messageLogs'][_0x1216ad(0x174)]({'where':{'_id':_0x489aeb[_0x1216ad(0x7e8)]['id']}}),delete Lt[_0x489aeb[_0x1216ad(0x7e8)]['id']]);try{_0x40b064=await this[_0x1216ad(0x5e9)](_0x489aeb),_0x3747f2=_0x40b064?_0x40b064[_0x1216ad(0x7e1)](','):null;}catch(_0x59d375){this[_0x1216ad(0x671)][_0x1216ad(0x244)](this[_0x1216ad(0x7ab)]+'\x20('+this['instance'][_0x1216ad(0x38f)]+_0x1216ad(0x84)+(_0x59d375 instanceof Error?_0x59d375[_0x1216ad(0x3bf)]:JSON[_0x1216ad(0x115)](_0x59d375,null,0x2))),_0x3747f2=_0x1216ad(0x571);}this[_0x1216ad(0x38a)][_0x1216ad(0x497)](_0x1216ad(0x801)),ks[_0x1216ad(0x1af)]['isLong'](_0x489aeb['messageTimestamp'])&&(_0x489aeb[_0x1216ad(0x101)]=_0x489aeb[_0x1216ad(0x101)]?.['toNumber']()),_0x489aeb[_0x1216ad(0x101)]&&_0x489aeb[_0x1216ad(0x101)]['toString']()[_0x1216ad(0x387)]<0xd&&(_0x489aeb[_0x1216ad(0x101)]=_0x489aeb[_0x1216ad(0x101)]*0x3e8);let _0x1f0106=_0x489aeb['message'],_0x487c86=(0x0,w[_0x1216ad(0x3e6)])(_0x1f0106),_0x3185d1=(0x0,w['getContentType'])(_0x487c86),{messageContent:_0x85c268,message_normalized:_0x2890f1}=this[_0x1216ad(0x345)](_0x487c86,_0x3185d1,_0x3747f2);if(_0x3185d1===_0x1216ad(0x55f)&&_0x85c268?.[_0x1216ad(0x211)]&&(_0x3185d1=_0x1216ad(0x211)),_0x3185d1==='interactiveMessage'&&_0x489aeb[_0x1216ad(0x7e8)][_0x1216ad(0x123)])return;let _0x303ac0,_0x2ace7a=_0x489aeb[_0x1216ad(0x7e8)][_0x1216ad(0x9d)][_0x1216ad(0x34e)](_0x1216ad(0x290));if(_0x489aeb[_0x1216ad(0x7e8)]['fromMe'])_0x303ac0=this[_0x1216ad(0x597)][_0x1216ad(0x32a)];else{let _0x2f37df=_0x2ace7a?_0x489aeb[_0x1216ad(0x7e8)][_0x1216ad(0x2e1)]:_0x489aeb[_0x1216ad(0x7e8)][_0x1216ad(0x9d)];_0x303ac0=(await this[_0x1216ad(0x6e8)](_0x2f37df,_0x489aeb[_0x1216ad(0x754)],!0x1))[_0x1216ad(0x510)][_0x1216ad(0x36e)];}let _0x250405={'_id':_0x489aeb['key']['id'],'key':_0x489aeb[_0x1216ad(0x7e8)],'isGroup':_0x2ace7a,'profilePictureUrl':_0x303ac0,'pushName':_0x489aeb['pushName'],'message':_0x487c86,'messageType':_0x3185d1,'message_normalized':{'key':_0x489aeb[_0x1216ad(0x7e8)],'pushName':_0x489aeb[_0x1216ad(0x754)],'messageTimestamp':_0x489aeb[_0x1216ad(0x101)],'source':(0x0,w[_0x1216ad(0xd1)])(_0x489aeb[_0x1216ad(0x7e8)]['id']),..._0x2890f1},'messageTimestamp':_0x489aeb['messageTimestamp'],'owner':this[_0x1216ad(0x597)][_0x1216ad(0x38f)],'source':(0x0,w[_0x1216ad(0xd1)])(_0x489aeb[_0x1216ad(0x7e8)]['id']),'expiration':_0x85c268?.[_0x1216ad(0x5bb)]?.[_0x1216ad(0x28c)]||0x0};if(_0x85c268||(this[_0x1216ad(0x671)]['error']('Mensagem\x20não\x20suportada'),this[_0x1216ad(0x671)]['error'](_0x250405)),_0x2890f1[_0x1216ad(0x7df)]==='${Message\x20absent\x20from\x20node}'){console[_0x1216ad(0x6f8)](_0x1216ad(0x18a)),await this[_0x1216ad(0x1f3)](_0x489aeb);return;}this[_0x1216ad(0x671)][_0x1216ad(0xa6)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1216ad(0x84)+(_0x250405[_0x1216ad(0x7e8)]?.[_0x1216ad(0x123)]?_0x1216ad(0x430):_0x1216ad(0x18e))+'\x20['+_0x250405['key']?.['remoteJid'][_0x1216ad(0x404)](_0x1216ad(0x700),'')+']\x20('+_0x250405['messageType']+')'),_0x250405['message_normalized']?.[_0x1216ad(0x7df)]&&this[_0x1216ad(0x671)][_0x1216ad(0xa6)](_0x489aeb[_0x1216ad(0x7e8)]['id']+':\x20'+_0x250405[_0x1216ad(0x2e4)]?.[_0x1216ad(0x7df)]),await this[_0x1216ad(0x2d1)][_0x1216ad(0x3bf)][_0x1216ad(0x718)]([_0x250405],this[_0x1216ad(0x597)][_0x1216ad(0x38f)]),this['sendDataWebhook'](_0x1216ad(0x26c),_0x250405),F(this[_0x1216ad(0x7ab)],'messages',{'message':_0x250405}),_0x489aeb['key'][_0x1216ad(0x9d)]!=='status@broadcast'&&await this[_0x1216ad(0x235)](_0x6933ae,_0x250405,_0x1216ad(0x3f1));}},'messages.update':async(_0xd87792,_0x5787ab)=>{const _0x59ca6e=_0x3768e6;let _0x3e2301={0x0:_0x59ca6e(0x5d4),0x1:_0x59ca6e(0x38d),0x2:_0x59ca6e(0x570),0x3:'DELIVERY_ACK',0x4:_0x59ca6e(0x61d),0x5:_0x59ca6e(0x63c)};for await(let {key:_0x5f5b57,update:_0x48c6fd}of _0xd87792){if(this[_0x59ca6e(0x762)]?.[_0x59ca6e(0x57c)]&&_0x5f5b57[_0x59ca6e(0x9d)][_0x59ca6e(0x603)](_0x59ca6e(0x290))){this[_0x59ca6e(0x671)][_0x59ca6e(0x244)](this[_0x59ca6e(0x7ab)]+'\x20('+this[_0x59ca6e(0x597)]['wuid']+_0x59ca6e(0x15d));return;}if(_0x5f5b57[_0x59ca6e(0x9d)]!==_0x59ca6e(0x511)){let _0x1a91fa=Date[_0x59ca6e(0xe6)](),_0x34bdc9;_0x48c6fd[_0x59ca6e(0x3bf)]===null&&_0x48c6fd[_0x59ca6e(0x77f)]===void 0x0?_0x34bdc9=_0x59ca6e(0x75b):_0x34bdc9=_0x3e2301[_0x48c6fd[_0x59ca6e(0x77f)]];let _0x176ab2=_0x5f5b57[_0x59ca6e(0x9d)][_0x59ca6e(0x404)](/:\d{1,2}@/g,'@'),_0x5c0b90={..._0x5f5b57,'remoteJid':_0x176ab2,'status':_0x34bdc9,'datetime':_0x1a91fa,'owner':this['instance'][_0x59ca6e(0x38f)]};this['sendDataWebhook']('messages.update',_0x5c0b90),await this['updateMessage'](_0x5f5b57,_0x5c0b90);}}},'labels.association':async({type:_0x27278a,association:_0xef8073})=>{const _0x51a8c4=_0x3768e6;if(_0xef8073[_0x51a8c4(0x7c9)]==='label_jid'){let _0x1cb83b,_0x54fbc0=0x0;for(;!_0x1cb83b&&_0x54fbc0<this[_0x51a8c4(0x35a)];)_0x1cb83b=await this[_0x51a8c4(0x2d1)][_0x51a8c4(0x39a)]['findOne']({'where':{'_id':_0xef8073[_0x51a8c4(0x1ff)]}},this['instance'][_0x51a8c4(0x38f)]),_0x1cb83b||(_0x54fbc0++,this[_0x51a8c4(0x671)][_0x51a8c4(0x696)](this[_0x51a8c4(0x7ab)]+'\x20('+this['instance'][_0x51a8c4(0x38f)]+_0x51a8c4(0x111)+_0xef8073[_0x51a8c4(0x1ff)]+_0x51a8c4(0x40f)+this['delayChatLabel_RETRY_DELAY_MS']+'ms\x20(tentativa\x20'+_0x54fbc0+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this['delayChatLabel'](this[_0x51a8c4(0x34c)]));if(!_0x1cb83b){this[_0x51a8c4(0x671)]['error'](_0x51a8c4(0xb7)+_0xef8073[_0x51a8c4(0x1ff)]+'\x20depois\x20'+this[_0x51a8c4(0x35a)]+'\x20tentativas.');return;}switch(_0x27278a){case _0x51a8c4(0x2ea):console['log'](_0xef8073),await this[_0x51a8c4(0x2d1)][_0x51a8c4(0x39a)][_0x51a8c4(0x171)]({'where':{'_id':_0xef8073['chatId']}},{'leadInfo.etiquetas':_0xef8073[_0x51a8c4(0x7cd)]},this['instance'][_0x51a8c4(0x38f)],void 0x0,'$addToSet');break;case _0x51a8c4(0xad):console[_0x51a8c4(0xa6)](_0xef8073),await this[_0x51a8c4(0x2d1)][_0x51a8c4(0x39a)]['updateOne']({'where':{'_id':_0xef8073[_0x51a8c4(0x1ff)]}},{'leadInfo.etiquetas':_0xef8073[_0x51a8c4(0x7cd)]},this[_0x51a8c4(0x597)][_0x51a8c4(0x38f)],void 0x0,_0x51a8c4(0x25a));break;default:this[_0x51a8c4(0x671)]['error'](_0x51a8c4(0x476)+_0x27278a+']');}}},'labels.edit':async _0xd52dba=>{const _0x923a17=_0x3768e6;if(!_0xd52dba||!_0xd52dba['id']){this[_0x923a17(0x671)]['error']('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0xd52dba[_0x923a17(0x536)]){let _0x4041ea=[_0x923a17(0x374),'#64c4ff','#fed428',_0x923a17(0x440),'#9ab6c1','#56ccb4',_0x923a17(0x238),_0x923a17(0x3c2),'#6f7bcf',_0x923a17(0x7d9),_0x923a17(0x74c),_0x923a17(0x72e),_0x923a17(0x302),_0x923a17(0x4c2),_0x923a17(0x30f),_0x923a17(0x177),_0x923a17(0x5d7),_0x923a17(0x559),_0x923a17(0x19a),_0x923a17(0x631)],_0x2a21b5;typeof _0xd52dba['color']==_0x923a17(0x59e)&&_0xd52dba['color']>=0x0&&_0xd52dba[_0x923a17(0x735)]<_0x4041ea[_0x923a17(0x387)]?_0x2a21b5=_0x4041ea[_0xd52dba[_0x923a17(0x735)]]:(this[_0x923a17(0x671)][_0x923a17(0x6f8)](_0x923a17(0x61f)+_0xd52dba[_0x923a17(0x735)]),_0x2a21b5='#000000');let _0x725b38={'_id':_0xd52dba['id'],'colorHex':_0x2a21b5,'color':_0xd52dba?.[_0x923a17(0x735)],'name':_0xd52dba?.[_0x923a17(0x70c)],'owner':this[_0x923a17(0x597)][_0x923a17(0x38f)]};await this[_0x923a17(0x2d1)][_0x923a17(0x1e6)][_0x923a17(0x171)]({'where':{'_id':_0xd52dba['id']}},_0x725b38,this[_0x923a17(0x597)][_0x923a17(0x38f)]),this['logger'][_0x923a17(0x696)](this[_0x923a17(0x7ab)]+'\x20('+this[_0x923a17(0x597)][_0x923a17(0x38f)]+_0x923a17(0x76c)+_0xd52dba);}_0xd52dba[_0x923a17(0x536)]&&(await this[_0x923a17(0x2d1)][_0x923a17(0x1e6)][_0x923a17(0x174)]({'where':{'_id':_0xd52dba['id']}},this[_0x923a17(0x597)][_0x923a17(0x38f)]),this['logger'][_0x923a17(0x696)](_0x923a17(0x481)+_0xd52dba['id']));}},this[_0x3768e6(0x519)]={'groups.upsert':async _0x456dae=>{const _0xf46137=_0x3768e6;this[_0xf46137(0x762)]?.['groups_ignore']||this[_0xf46137(0x673)](_0xf46137(0x3d0),_0x456dae);for(let _0x373d56 of _0x456dae)await this[_0xf46137(0x77a)](_0x373d56);},'groups.update':async _0x27e3e0=>{const _0x4097fa=_0x3768e6;this[_0x4097fa(0x762)]?.[_0x4097fa(0x57c)]||this[_0x4097fa(0x673)](_0x4097fa(0x42f),_0x27e3e0);for(let _0x4266d3 of _0x27e3e0)await this[_0x4097fa(0x77a)](_0x4266d3);},'group-participants.update':async _0x231ac0=>{const _0x3aae04=_0x3768e6;this[_0x3aae04(0x762)]?.[_0x3aae04(0x57c)]||this[_0x3aae04(0x673)](_0x3aae04(0x368),_0x231ac0),await this['updateGroupParticipantsWebhook'](_0x231ac0);}},this[_0x3768e6(0x35a)]=0x5,this[_0x3768e6(0x34c)]=0x1388,this['lastRealGroupsFetch']=0x0,this[_0x3768e6(0x5e9)]=async _0x3ec40a=>{const _0x449362=_0x3768e6;if(_0x3ec40a[_0x449362(0x3bf)]?.[_0x449362(0x563)]){let _0x3f485d=await this['getMessage'](_0x3ec40a['message'][_0x449362(0x563)][_0x449362(0x406)],!0x0);if(_0x3f485d){let _0x1c3422=_0x3f485d[_0x449362(0x7e8)][_0x449362(0x123)]?this['instance'][_0x449362(0x38f)]+_0x449362(0x700):_0x3f485d[_0x449362(0x7e8)][_0x449362(0x2e1)]||_0x3f485d[_0x449362(0x7e8)]['remoteJid'],_0x2f4d3a=_0x3f485d['key']['id'],_0x513a0d=_0x3f485d[_0x449362(0x3bf)],_0x340c16=Buffer[_0x449362(0x7d6)](_0x513a0d['messageContextInfo'][_0x449362(0x77b)][_0x449362(0x125)](_0x449362(0x48e)),_0x449362(0x48e)),_0x31a955=(0x0,w['decryptPollVote'])(_0x3ec40a['message'][_0x449362(0x563)]['vote'],{'pollCreatorJid':_0x1c3422,'pollMsgId':_0x2f4d3a,'pollEncKey':_0x340c16,'voterJid':_0x3ec40a[_0x449362(0x7e8)][_0x449362(0x123)]?this[_0x449362(0x597)][_0x449362(0x38f)]+'@s.whatsapp.net':_0x3ec40a['key'][_0x449362(0x9d)][_0x449362(0x34e)](_0x449362(0x365))?_0x3ec40a[_0x449362(0x7e8)][_0x449362(0x2e1)]:_0x3ec40a[_0x449362(0x7e8)]['remoteJid']}),_0x38cfe8=[],_0x3057a5=_0x31a955[_0x449362(0x234)][_0x449362(0x5c2)](_0x27552c=>Buffer[_0x449362(0x7d6)](_0x27552c)[_0x449362(0x125)](_0x449362(0x48e)));for(let {optionName:_0x546ea4}of _0x513a0d[_0x449362(0x1ac)]?.['options']||_0x513a0d[_0x449362(0x7da)]?.[_0x449362(0x788)]||_0x513a0d[_0x449362(0xd6)]?.[_0x449362(0x788)])_0x3057a5[_0x449362(0x43b)]((0x0,w[_0x449362(0x4cf)])(Buffer[_0x449362(0x7d6)](_0x546ea4))[_0x449362(0x125)](_0x449362(0x48e)))>-0x1&&_0x38cfe8[_0x449362(0x1fc)](_0x546ea4);return _0x38cfe8;}}return null;},this[_0x3768e6(0x345)]=(_0x3a1c6a,_0xcc4ea5,_0x22729b)=>{const _0x54e384=_0x3768e6;try{let _0x5b7e52=_0x3a1c6a?(0x0,w['extractMessageContent'])(_0x3a1c6a)[_0xcc4ea5]:void 0x0,_0x14017={},_0x1a4352=null,_0x29e469=null,_0x1c51e3=null,_0x45246d=null;_0xcc4ea5==='protocolMessage'&&_0x5b7e52?.['editedMessage']&&(_0xcc4ea5=(0x0,w[_0x54e384(0x218)])(_0x5b7e52['editedMessage']),_0x1a4352=_0x3a1c6a[_0x54e384(0x55f)][_0x54e384(0x7e8)]['id'],_0x5b7e52=_0x3a1c6a['protocolMessage']['editedMessage'][_0xcc4ea5]),_0x3a1c6a[_0xcc4ea5]?.['contextInfo']?.[_0x54e384(0x225)]&&_0x3a1c6a[_0xcc4ea5]?.[_0x54e384(0x5bb)]?.['quotedMessage']&&(_0x29e469=_0x3a1c6a[_0xcc4ea5][_0x54e384(0x5bb)][_0x54e384(0x225)]),_0x3a1c6a[_0x54e384(0x7c0)]&&(_0x1c51e3=_0x3a1c6a[_0x54e384(0x7c0)][_0x54e384(0x7e8)]['id']);let _0x2710d5;if(_0x5b7e52&&typeof _0x5b7e52==_0x54e384(0x4b9)&&_0x54e384(0x406)in _0x5b7e52&&({pollCreationMessageKey:_0x2710d5}=_0x5b7e52),_0xcc4ea5===_0x54e384(0x1ac)||_0xcc4ea5===_0x54e384(0xd6)||_0xcc4ea5==='pollCreationMessageV3'){let _0x24f7bd=_0x5b7e52[_0x54e384(0x788)][_0x54e384(0x5c2)](_0x3ffaf0=>_0x3ffaf0[_0x54e384(0x56e)])['join']('|');_0x14017[_0x54e384(0x5da)]=_0x24f7bd;}if(_0xcc4ea5===_0x54e384(0x3ca)){let _0x5e0e22=_0x5b7e52[_0x54e384(0x78b)][_0x54e384(0x4f7)]['map'](_0x131c0b=>JSON[_0x54e384(0x665)](_0x131c0b['buttonParamsJson'])[_0x54e384(0xb9)])[_0x54e384(0x7e1)]('|');_0x14017[_0x54e384(0x5da)]=_0x5e0e22;}_0xcc4ea5===_0x54e384(0x8a)&&(_0x14017[_0x54e384(0x468)]=_0x5b7e52?.[_0x54e384(0x58b)]?.['selectedRowId']);let _0x714742='';if(_0x5b7e52&&(_0x714742+=_0x5b7e52[_0x54e384(0x70c)]?_0x5b7e52[_0x54e384(0x70c)]:'',_0x714742+=_0x5b7e52['caption']?'\x20'+_0x5b7e52[_0x54e384(0x4ab)]:'',_0x714742+=_0x5b7e52[_0x54e384(0xa7)]?'\x20'+_0x5b7e52[_0x54e384(0xa7)]:'',_0x714742+=_0x5b7e52[_0x54e384(0x528)]?'\x20'+_0x5b7e52[_0x54e384(0x528)]:'',_0xcc4ea5!==_0x54e384(0x543)&&(_0x714742+=_0x5b7e52[_0x54e384(0x3e2)]?.[_0x54e384(0x7df)]?'\x20'+_0x5b7e52[_0x54e384(0x3e2)]['text']:''),_0x714742+=_0x5b7e52?.[_0x54e384(0x6a6)]?.['text']?'\x20'+_0x5b7e52?.[_0x54e384(0x6a6)]?.[_0x54e384(0x7df)]:''),_0xcc4ea5===_0x54e384(0x199)){_0x714742=(_0x5b7e52['title']||'')+'\x0a'+(_0x5b7e52['description']||'')+'\x0a'+(_0x5b7e52['footerText']||'');let _0x115131=this[_0x54e384(0x161)](_0x5b7e52[_0x54e384(0x3d2)]);_0x14017[_0x54e384(0x5da)]=_0x115131;}if(_0xcc4ea5===_0x54e384(0x8a)&&(_0x22729b=_0x5b7e52[_0x54e384(0x1bb)],_0x45246d=_0x5b7e52?.[_0x54e384(0x58b)]?.[_0x54e384(0x537)]),_0xcc4ea5==='interactiveResponseMessage'){let _0x5047d7=_0x5b7e52?.[_0x54e384(0x651)];_0x5047d7&&_0x5047d7['name']===_0x54e384(0x36a)&&(_0x45246d=JSON[_0x54e384(0x665)](_0x5047d7[_0x54e384(0x33f)])['id']),_0x22729b=_0x5b7e52?.[_0x54e384(0x3e2)]?.[_0x54e384(0x7df)];}if(_0xcc4ea5==='templateButtonReplyMessage'&&(_0x22729b=_0x5b7e52?.[_0x54e384(0x2e6)],_0x45246d=_0x5b7e52?.[_0x54e384(0x423)]),_0xcc4ea5===_0x54e384(0x2fe)&&(_0x22729b=_0x5b7e52?.['selectedDisplayText'],_0x45246d=_0x5b7e52?.[_0x54e384(0x50b)]),_0x5b7e52&&_0x5b7e52[_0x54e384(0x535)]){let _0x431cad=this[_0x54e384(0x461)](JSON[_0x54e384(0x115)](_0x5b7e52[_0x54e384(0x535)],null,0x2));_0x714742=_0x714742+'\x0a'+_0x431cad;}if(_0x5b7e52){let {selectedButtonId:_0x23b579,nativeFlowResponseMessage:_0x15cfe7,selectedId:_0x18f5d2,selectedDisplayText:_0x525d9a,selectedIndex:_0xe4abad,body:_0x4c2420,nativeFlowMessage:_0x55b2d4,singleSelectReply:_0x481249,sections:_0x4e9b33,listType:_0x1a3fdd,displayName:_0x14de50,vcard:_0x53fce8,contactVcard:_0x1f0040,name:_0x1514bd,caption:_0x3396e3,conversation:_0x1c44c2,pollCreationMessageKey:_0x5ac8cf,footerText:_0xd8de8f,contentText:_0x58167f,pageCount:_0x4e7cc4,headerType:_0x1d35df,isAvatar:_0x4b9ded,isAnimated:_0x1e60d1,fallbackLc:_0x133c30,fallbackLg:_0xfa5100,namespace:_0x495aa3,elementName:_0x407b0e,localizableParams:_0x122cc9,viewOnce:_0x46bebe,height:_0x1c0926,width:_0x55a9a9,key:_0x41db85,firstScanLength:_0x8e22a,firstScanSidecar:_0x116765,gifPlayback:_0x1fd6ab,gifAttribution:_0x107a29,midQualityFileSha256:_0x3ffaf7,scansSidecar:_0x4eb570,streamingSidecar:_0x597815,thumbnailHeight:_0x361b21,thumbnailWidth:_0x4ee6fa,thumbnailEncSha256:_0x3596f6,thumbnailDirectPath:_0x3c9b31,canonicalUrl:_0xc37f0c,matchedText:_0x5c90db,previewType:_0x5ded6f,thumbnailSha256:_0x4dba8b,deviceListMetadataVersion:_0x3bb66f,inviteLinkGroupTypeV2:_0x9051e9,interactiveAnnotations:_0x3fdfb1,scanLengths:_0x19743c,jpegThumbnail:_0x24142c,url:_0x3ec973,mediaKeyTimestamp:_0xa01dea,waveform:_0x3a1de6,stickerSentTs:_0x3d29d7,firstFrameLength:_0xd66d8f,fileEncSha256:_0x3a4758,contextInfo:_0x434e1b,firstFrameSidecar:_0x4c4832,directPath:_0x506b05,fileSha256:_0x42c66f,mediaKey:_0x151f3a,senderTimestampMs:_0x53005e,..._0x3ba796}=_0x5b7e52;(_0xcc4ea5===_0x54e384(0x199)||_0xcc4ea5===_0x54e384(0x8a))&&(delete _0x3ba796[_0x54e384(0x1bb)],delete _0x3ba796[_0x54e384(0x675)]),typeof _0x5b7e52=='string'?_0x14017={'text':_0x5b7e52,'type':_0xcc4ea5||_0x54e384(0xa7),..._0x1a4352&&{'edited':_0x1a4352},..._0x29e469&&{'quoted':_0x29e469},..._0x1c51e3&&{'reaction':_0x1c51e3}}:_0x14017={'text':_0x714742,..._0x3ba796,..._0xcc4ea5===_0x54e384(0x563)?{'poll_id':_0x5b7e52[_0x54e384(0x406)]['id'],'quoted':_0x5b7e52[_0x54e384(0x406)]['id'],'vote':_0x22729b}:{},..._0xcc4ea5===_0x54e384(0x8a)?{'buttonOrList_id':_0x45246d,'vote':_0x22729b}:{},..._0xcc4ea5===_0x54e384(0x543)?{'buttonOrList_id':_0x45246d,'vote':_0x22729b}:{},..._0xcc4ea5===_0x54e384(0x76a)?{'buttonOrList_id':_0x45246d,'vote':_0x22729b}:{},..._0xcc4ea5===_0x54e384(0x2fe)?{'buttonOrList_id':_0x45246d,'vote':_0x22729b}:{},'type':_0xcc4ea5,..._0x1a4352&&{'edited':_0x1a4352},..._0x29e469&&{'quoted':_0x29e469},..._0x1c51e3&&{'reaction':_0x1c51e3},...(_0xcc4ea5===_0x54e384(0x1ac)||_0xcc4ea5==='pollCreationMessageV2'||_0xcc4ea5==='pollCreationMessageV3'||_0xcc4ea5===_0x54e384(0x199)||_0xcc4ea5===_0x54e384(0x3ca))&&{'convertedOptions':_0x14017['convertedOptions']}};}return{'messageType':_0xcc4ea5,'messageContent':_0x5b7e52,'message_normalized':_0x14017};}catch(_0x32382a){return this[_0x54e384(0x671)][_0x54e384(0x6f8)](_0x54e384(0x11c)+_0x32382a),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x3768e6(0x5c3)]=[],(this[_0x3768e6(0x2eb)](),this[_0x3768e6(0x22d)](),this[_0x3768e6(0x597)][_0x3768e6(0x320)]={'count':0x0},this['instance'][_0x3768e6(0x40c)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set[a0_0x1d7ec3(0x7ab)](_0x77f87){const _0x5a47ba=a0_0x1d7ec3;if(!_0x77f87){this['instance']['name']=(0x0,Ii['v4'])();return;}this[_0x5a47ba(0x597)][_0x5a47ba(0x70c)]=_0x77f87,this[_0x5a47ba(0x673)](_0x5a47ba(0x3fd),{'instance':this['instance']['name'],'status':_0x5a47ba(0x664)});}get[a0_0x1d7ec3(0x7ab)](){const _0x24270d=a0_0x1d7ec3;return this[_0x24270d(0x597)][_0x24270d(0x70c)];}get[a0_0x1d7ec3(0x38f)](){const _0x2a5def=a0_0x1d7ec3;return this[_0x2a5def(0x597)][_0x2a5def(0x38f)];}async['getProfileName'](){const _0x306b5f=a0_0x1d7ec3;let _0x1dbe37=this[_0x306b5f(0x38a)][_0x306b5f(0x763)]?.[_0x306b5f(0x70c)]??this[_0x306b5f(0x38a)][_0x306b5f(0x763)]?.['verifiedName'];if(!_0x1dbe37){if(this[_0x306b5f(0x75a)][_0x306b5f(0x332)](_0x306b5f(0x220))[_0x306b5f(0x7ff)]){let _0x5138f2=await I[_0x306b5f(0x425)]()['db'](this[_0x306b5f(0x75a)][_0x306b5f(0x332)]('DATABASE')['CONNECTION'][_0x306b5f(0x1a7)]+_0x306b5f(0x579))['collection'](this[_0x306b5f(0x7ab)])[_0x306b5f(0x6f0)]({'_id':_0x306b5f(0x6a4)});if(_0x5138f2){let _0x2b8adb=JSON['parse'](JSON[_0x306b5f(0x115)](_0x5138f2),w[_0x306b5f(0x7bf)][_0x306b5f(0x526)]);_0x1dbe37=_0x2b8adb['me']?.[_0x306b5f(0x70c)]||_0x2b8adb['me']?.[_0x306b5f(0x397)];}}else{if((0x0,Le['existsSync'])((0x0,j[_0x306b5f(0x7e1)])(Se,this[_0x306b5f(0x7ab)],'creds.json'))){let _0x3052e0=JSON[_0x306b5f(0x665)]((0x0,Le[_0x306b5f(0x4ad)])((0x0,j[_0x306b5f(0x7e1)])(Se,this[_0x306b5f(0x7ab)],_0x306b5f(0x6c9)),{'encoding':_0x306b5f(0x16e)}));_0x1dbe37=_0x3052e0['me']?.[_0x306b5f(0x70c)]||_0x3052e0['me']?.[_0x306b5f(0x397)];}}}return _0x1dbe37;}get['profilePictureUrl'](){const _0x40271c=a0_0x1d7ec3;return this[_0x40271c(0x597)][_0x40271c(0x32a)];}async['isBusinessInstance'](){const _0x117ff1=a0_0x1d7ec3;let _0x5ebacb=this['instance']['wuid']+_0x117ff1(0x700);try{await this[_0x117ff1(0x38a)]['getBusinessProfile'](_0x5ebacb)?this['instance'][_0x117ff1(0x2b3)]=!0x0:this[_0x117ff1(0x597)][_0x117ff1(0x2b3)]=!0x1;}catch{this[_0x117ff1(0x597)]['isBusiness']=!0x1;}return this['logger']['info'](this['instanceName']+'\x20('+this[_0x117ff1(0x597)]['wuid']+'):\x20Instancia\x20isBusiness:\x20'+this[_0x117ff1(0x597)]['isBusiness']),this[_0x117ff1(0x597)]['isBusiness'];}get[a0_0x1d7ec3(0x232)](){const _0x1317da=a0_0x1d7ec3;return this[_0x1317da(0x597)]['qrcode']?.[_0x1317da(0x4df)]?{'pairingCode':this[_0x1317da(0x597)][_0x1317da(0x320)]?.['pairingCode']}:{'code':this[_0x1317da(0x597)]['qrcode']?.[_0x1317da(0x25d)],'base64':this[_0x1317da(0x597)][_0x1317da(0x320)]?.[_0x1317da(0x4f4)]};}async[a0_0x1d7ec3(0x54a)](){const _0x4175d6=a0_0x1d7ec3;let _0x495575=await this[_0x4175d6(0x2d1)]['webhook']['find'](this[_0x4175d6(0x7ab)]);this[_0x4175d6(0x762)][_0x4175d6(0x6fa)]=_0x495575?.[_0x4175d6(0x6fa)],this['localWebhook'][_0x4175d6(0x5e4)]=_0x495575?.[_0x4175d6(0x5e4)],this['localWebhook']['local_map']=_0x495575?.[_0x4175d6(0x351)],this[_0x4175d6(0x762)]['STATUS_INSTANCE']=_0x495575?.[_0x4175d6(0xe7)],this[_0x4175d6(0x762)][_0x4175d6(0x609)]=_0x495575?.[_0x4175d6(0x609)],this['localWebhook'][_0x4175d6(0x214)]=_0x495575?.[_0x4175d6(0x214)],this[_0x4175d6(0x762)][_0x4175d6(0x3f1)]=_0x495575?.[_0x4175d6(0x3f1)],this[_0x4175d6(0x762)]['MESSAGES_UPDATE']=_0x495575?.[_0x4175d6(0x186)],this['localWebhook'][_0x4175d6(0x33e)]=_0x495575?.['GROUPS_UPSERT'],this[_0x4175d6(0x762)][_0x4175d6(0x660)]=_0x495575?.[_0x4175d6(0x660)],this[_0x4175d6(0x762)]['GROUP_PARTICIPANTS_UPDATE']=_0x495575?.[_0x4175d6(0x3ec)],this[_0x4175d6(0x762)][_0x4175d6(0x417)]=_0x495575?.[_0x4175d6(0x417)],this[_0x4175d6(0x762)]['CHATS_UPSERT']=_0x495575?.[_0x4175d6(0xff)],this[_0x4175d6(0x762)]['CHATS_UPDATE']=_0x495575?.[_0x4175d6(0x652)],this['localWebhook'][_0x4175d6(0x262)]=_0x495575?.[_0x4175d6(0x262)],this[_0x4175d6(0x762)][_0x4175d6(0x428)]=_0x495575?.['CONTACTS_SET'],this['localWebhook'][_0x4175d6(0x67e)]=_0x495575?.[_0x4175d6(0x67e)],this[_0x4175d6(0x762)]['CONTACTS_UPDATE']=_0x495575?.[_0x4175d6(0x16a)],this[_0x4175d6(0x762)][_0x4175d6(0x62e)]=_0x495575?.[_0x4175d6(0x62e)],this[_0x4175d6(0x762)][_0x4175d6(0x5b3)]=_0x495575?.[_0x4175d6(0x5b3)],this[_0x4175d6(0x762)][_0x4175d6(0x7e2)]=_0x495575?.['CONNECTION_UPDATE'],this[_0x4175d6(0x762)][_0x4175d6(0x57c)]=_0x495575?.[_0x4175d6(0x57c)];}async[a0_0x1d7ec3(0x389)](_0x20d56b){const _0x3177a6=a0_0x1d7ec3;let _0x52bf61=[_0x3177a6(0x6ee),'url','enabled','local_map',_0x3177a6(0xe7),'QRCODE_UPDATED','MESSAGES_UPDATE',_0x3177a6(0x3f1),_0x3177a6(0x214),'GROUPS_UPSERT','GROUPS_UPDATE',_0x3177a6(0x3ec),_0x3177a6(0x417),'CHATS_UPSERT','CHATS_UPDATE',_0x3177a6(0x262),_0x3177a6(0x428),_0x3177a6(0x67e),_0x3177a6(0x16a),'PRESENCE_UPDATE',_0x3177a6(0x5b3),_0x3177a6(0x7e2),_0x3177a6(0x57c)],_0x529ebe={};return _0x52bf61[_0x3177a6(0xb2)](_0x4a838f=>{_0x20d56b[_0x4a838f]!==void 0x0&&(_0x529ebe[_0x4a838f]=_0x20d56b[_0x4a838f]);}),_0x529ebe[_0x3177a6(0x6fa)]&&(_0x529ebe[_0x3177a6(0x6fa)]=_0x529ebe[_0x3177a6(0x6fa)]['trim']()),await this[_0x3177a6(0x2d1)][_0x3177a6(0x5e0)][_0x3177a6(0x585)](_0x529ebe,this['instanceName']),Object[_0x3177a6(0x790)](this[_0x3177a6(0x762)],_0x529ebe),await this[_0x3177a6(0x2d1)][_0x3177a6(0x5e0)]['find'](this[_0x3177a6(0x7ab)]);}async[a0_0x1d7ec3(0x473)](){const _0x2e92f6=a0_0x1d7ec3;return await this[_0x2e92f6(0x2d1)][_0x2e92f6(0x5e0)]['find'](this[_0x2e92f6(0x7ab)]);}async['sendDataWebhook'](_0x4edc4a,_0x1ec29b){const _0x469287=a0_0x1d7ec3;let _0x241130=_0x4edc4a[_0x469287(0x404)](/[\.-]/gm,'_')[_0x469287(0x724)](),_0x1c2505=this['localWebhook'][_0x469287(0x5e4)]&&(0x0,J[_0x469287(0x295)])(this[_0x469287(0x762)]['url'])?this[_0x469287(0x762)]['url']+(this[_0x469287(0x762)][_0x469287(0x351)]?this[_0x469287(0x215)][_0x4edc4a]:''):null,_0x20b0d5=this['localWebhook'][_0x241130],_0x1e7d82=he&&he[_0x469287(0x5e4)]&&(0x0,J[_0x469287(0x295)])(he[_0x469287(0x6fa)])?he['url']+(he[_0x469287(0x351)]?this[_0x469287(0x215)][_0x4edc4a]:''):null,_0x42ab22=he?he[_0x241130]:null;if(_0x20b0d5&&_0x1c2505)try{await Q[_0x469287(0x1af)][_0x469287(0x585)]({'baseURL':_0x1c2505})[_0x469287(0x7f5)]('',{'event':_0x4edc4a,'instance':this[_0x469287(0x597)][_0x469287(0x70c)],'apikey':this[_0x469287(0x597)][_0x469287(0x4f0)],'data':_0x1ec29b}),this[_0x469287(0x671)]['log'](this[_0x469287(0x7ab)]+'\x20('+this[_0x469287(0x597)]['wuid']+_0x469287(0x7cb)+_0x4edc4a+':\x20'+_0x1c2505);}catch{this[_0x469287(0x671)][_0x469287(0x6f8)](this[_0x469287(0x7ab)]+'\x20('+this[_0x469287(0x597)][_0x469287(0x38f)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x4edc4a+':\x20'+_0x1c2505);}if(_0x42ab22&&_0x1e7d82)try{await Q[_0x469287(0x1af)][_0x469287(0x585)]({'baseURL':_0x1e7d82})[_0x469287(0x7f5)]('',{'event':_0x4edc4a,'instance':this[_0x469287(0x597)][_0x469287(0x70c)],'apikey':this[_0x469287(0x597)]['apikey'],'data':_0x1ec29b}),this['logger']['log'](this['instanceName']+'\x20('+this[_0x469287(0x597)][_0x469287(0x38f)]+_0x469287(0x60c)+_0x4edc4a+':\x20'+_0x1e7d82);}catch{this['logger'][_0x469287(0x6f8)](this[_0x469287(0x7ab)]+'\x20('+this[_0x469287(0x597)]['wuid']+_0x469287(0x92)+_0x4edc4a+':\x20'+_0x1e7d82);}}async[a0_0x1d7ec3(0x41f)]({qr:_0x2faa90,connection:_0x31810a,lastDisconnect:_0x49cfb0}){const _0x312463=a0_0x1d7ec3;if(_0x2faa90){if(this['instance'][_0x312463(0x320)][_0x312463(0x6f9)]===ko)return this[_0x312463(0x673)](_0x312463(0x507),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':w[_0x312463(0x3fb)][_0x312463(0x6af)]}),this[_0x312463(0x14a)]={'state':_0x312463(0x463),'statusReason':w['DisconnectReason'][_0x312463(0x2c5)]},this['sendDataWebhook'](_0x312463(0x25f),{'instance':this[_0x312463(0x597)][_0x312463(0x70c)],...this['stateConnection']}),this[_0x312463(0x673)](_0x312463(0x3fd),{'instance':this['instance'][_0x312463(0x70c)],'status':'removed'}),this[_0x312463(0x2d1)][_0x312463(0x544)][_0x312463(0x174)](this[_0x312463(0x597)][_0x312463(0x70c)]),this[_0x312463(0x57e)]=!0x0,ae[_0x312463(0x5e7)](B,this['instance'][_0x312463(0x70c)]),this[_0x312463(0x608)]['emit'](_0x312463(0x6db),this[_0x312463(0x597)]['name']);this[_0x312463(0x597)][_0x312463(0x320)][_0x312463(0x6f9)]++;let _0x2d2c9d={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':'#000000'}};Ti[_0x312463(0x1af)]['toDataURL'](_0x2faa90,_0x2d2c9d,(_0x3e7742,_0x649150)=>{const _0x545093=_0x312463;if(_0x3e7742){this[_0x545093(0x671)][_0x545093(0x6f8)](this[_0x545093(0x7ab)]+'\x20('+this['instance'][_0x545093(0x38f)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x3e7742 instanceof Error?_0x3e7742[_0x545093(0x3bf)]:JSON[_0x545093(0x115)](_0x3e7742,null,0x2)));return;}this[_0x545093(0x597)][_0x545093(0x320)][_0x545093(0x4f4)]=_0x649150,this['instance'][_0x545093(0x320)]['code']=_0x2faa90,!this[_0x545093(0x420)]&&this[_0x545093(0x673)]('qrcode.updated',{'qrcode':{'instance':this[_0x545093(0x597)][_0x545093(0x70c)],'pairingCode':this[_0x545093(0x597)][_0x545093(0x320)][_0x545093(0x4df)],'code':_0x2faa90,'base64':_0x649150}});}),this[_0x312463(0x420)]?this['instance'][_0x312463(0x320)][_0x312463(0x4df)]||(await(0x0,w['delay'])(0x7d0),this[_0x312463(0x597)][_0x312463(0x320)][_0x312463(0x4df)]=await this[_0x312463(0x38a)][_0x312463(0x753)](this[_0x312463(0x420)])):this[_0x312463(0x597)][_0x312463(0x320)][_0x312463(0x4df)]=null,_i[_0x312463(0x1af)][_0x312463(0x79b)](_0x2faa90,{'small':!0x0},_0x47dd27=>this['logger'][_0x312463(0xa6)](_0x312463(0x47a)+this[_0x312463(0x597)]['name']+',\x20qrcodeCount:\x20'+this[_0x312463(0x597)][_0x312463(0x320)][_0x312463(0x6f9)]+_0x312463(0x709)+this[_0x312463(0x597)][_0x312463(0x320)]['pairingCode']+'\x20}\x0a'+_0x47dd27));}if(_0x31810a&&(this['stateConnection']={'state':_0x31810a,'statusReason':_0x49cfb0?.[_0x312463(0x6f8)]?.[_0x312463(0x2c4)]?.[_0x312463(0x10b)]??0xc8},this[_0x312463(0x673)](_0x312463(0x25f),{'instance':this['instance'][_0x312463(0x70c)],...this[_0x312463(0x14a)]})),_0x31810a==='close'){if(this[_0x312463(0x5ae)]++,this[_0x312463(0x50c)][_0x312463(0x1fc)](Date[_0x312463(0xe6)]()),this[_0x312463(0x50c)]=this['reconnectTimestamps'][_0x312463(0x350)](_0x131092=>Date['now']()-_0x131092<this[_0x312463(0x64d)]),_0x49cfb0['error']?.[_0x312463(0x2c4)]?.[_0x312463(0x10b)]!==w['DisconnectReason'][_0x312463(0x6fb)]){let _0x242f93=this['reconnectAttempts']<=0x1?0x0:Math['min'](Math['pow'](0x2,this['reconnectAttempts']-0x1)*0x3e8,0x493e0);console[_0x312463(0xa6)](this[_0x312463(0x7ab)]+_0x312463(0x4e2)+this[_0x312463(0x5ae)]+'.\x20Aguardando\x20'+_0x242f93/0x3e8+_0x312463(0x249)),await new Promise(_0x24b94f=>setTimeout(_0x24b94f,_0x242f93)),console[_0x312463(0xa6)](_0x312463(0x4cd)),await this['connectToWhatsapp']();}else{this['sendDataWebhook'](_0x312463(0x3fd),{'instance':this[_0x312463(0x597)][_0x312463(0x70c)],'status':_0x312463(0x4d9)}),this[_0x312463(0x597)]['ScheduleMessage']['isConnected']=!0x1,this[_0x312463(0x2d1)][_0x312463(0x5e0)][_0x312463(0x174)](this[_0x312463(0x7ab)]),this[_0x312463(0x2d1)][_0x312463(0x544)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x312463(0x597)]['name']),ae[_0x312463(0x5e7)](B,this[_0x312463(0x597)][_0x312463(0x70c)]);try{this['logger']['verbose'](this[_0x312463(0x7ab)]+'\x20('+this[_0x312463(0x597)][_0x312463(0x38f)]+_0x312463(0x35d));let _0x12589c=await this['repository'][_0x312463(0x3bf)][_0x312463(0x4a8)](this[_0x312463(0x597)][_0x312463(0x38f)]);_0x12589c[_0x312463(0x38e)]?this[_0x312463(0x671)][_0x312463(0x244)](this[_0x312463(0x7ab)]+'\x20('+this[_0x312463(0x597)][_0x312463(0x38f)]+_0x312463(0xc2)):this[_0x312463(0x671)][_0x312463(0x6f8)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20'+_0x12589c['error']);}catch(_0x586ca3){this['logger'][_0x312463(0x6f8)](_0x312463(0x366)+_0x586ca3[_0x312463(0x3bf)]);}this['instance'][_0x312463(0x40c)][_0x312463(0x584)]!==null&&(this['logger']['verbose'](this[_0x312463(0x7ab)]+'\x20('+this[_0x312463(0x597)][_0x312463(0x38f)]+_0x312463(0x17c)),clearInterval(this[_0x312463(0x597)]['ScheduleMessage'][_0x312463(0x584)]),this[_0x312463(0x597)][_0x312463(0x40c)][_0x312463(0x584)]=null),this[_0x312463(0x671)][_0x312463(0x244)](this[_0x312463(0x7ab)]+'\x20('+this[_0x312463(0x597)][_0x312463(0x38f)]+_0x312463(0x3a8)),this[_0x312463(0x7ac)]=null,this[_0x312463(0x608)][_0x312463(0x645)]('remove.instance',this[_0x312463(0x597)][_0x312463(0x70c)],_0x312463(0x6f2)),this[_0x312463(0x38a)]?.['ws']?.['close'](),this[_0x312463(0x38a)][_0x312463(0x68f)](new Error(_0x312463(0x69c)));}}if(_0x31810a===_0x312463(0xb0)){this[_0x312463(0x671)][_0x312463(0x4d3)](this[_0x312463(0x7ab)]+'\x20('+this['instance']['wuid']+_0x312463(0xeb)+this[_0x312463(0x38a)][_0x312463(0x6e7)][_0x312463(0x6a4)]?.[_0x312463(0x3ad)]),this[_0x312463(0x38a)]['authState'][_0x312463(0x6a4)]?.['myAppStateKeyId']||(this[_0x312463(0x671)][_0x312463(0x4d3)](this[_0x312463(0x7ab)]+'\x20('+this[_0x312463(0x597)][_0x312463(0x38f)]+'):\x20ev.flush\x20realizado'),this['client']['ev'][_0x312463(0x1d9)]()),this['resetReconnectionVariables'],this[_0x312463(0x597)][_0x312463(0x38f)]=this['client']['user']['id'][_0x312463(0x404)](/:\d+/,'')[_0x312463(0x404)](_0x312463(0x700),''),this[_0x312463(0x597)][_0x312463(0x32a)]=(await this[_0x312463(0x55c)](this[_0x312463(0x597)][_0x312463(0x38f)]+_0x312463(0x700)))[_0x312463(0x32a)],this[_0x312463(0x2d1)][_0x312463(0x544)][_0x312463(0x585)]({'online':!0x0,'owner':this[_0x312463(0x597)][_0x312463(0x38f)],'lastDisconnect':null},this[_0x312463(0x597)]['name']);let _0x3fc3fa='Número:\x20'+this[_0x312463(0x597)][_0x312463(0x38f)],_0x4e1402=0x28,_0xe0b81d=Math['floor']((_0x4e1402-_0x3fc3fa[_0x312463(0x387)])/0x2),_0x395011='\x20'['repeat'](_0xe0b81d),_0x21a1cc=_0x312463(0x598),_0x540d88=_0x312463(0x7ef)+this['instance']['name'],_0x4d0385=(''+_0x395011+_0x3fc3fa+_0x395011)[_0x312463(0x1ba)](_0x4e1402,'\x20'),_0x5f1862=(''+_0x395011+_0x21a1cc+_0x395011)['padEnd'](_0x4e1402,'\x20'),_0x184a60=(''+_0x395011+_0x540d88+_0x395011)[_0x312463(0x1ba)](_0x4e1402,'\x20'),_0x2fc5d0=Math['max'](_0x4d0385[_0x312463(0x387)],_0x5f1862['length'],_0x184a60['length']),_0x16b3d2=_0x4d0385[_0x312463(0x1ba)](_0x2fc5d0,'\x20'),_0x5af955=_0x5f1862[_0x312463(0x1ba)](_0x2fc5d0,'\x20'),_0x569d42=_0x184a60['padEnd'](_0x2fc5d0,'\x20');this['logger'][_0x312463(0x696)]((_0x312463(0x5ed)+'─'[_0x312463(0x228)](_0x2fc5d0)+_0x312463(0x3b2)+_0x5af955+_0x312463(0x63d)+_0x569d42+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x16b3d2+_0x312463(0x493)+'─'[_0x312463(0x228)](_0x2fc5d0)+'┘')[_0x312463(0x404)](/^ +/gm,'\x20\x20')),this[_0x312463(0x61c)](),this[_0x312463(0x597)][_0x312463(0x40c)][_0x312463(0x432)]=!0x0;}}[a0_0x1d7ec3(0xc0)](){const _0xd55259=a0_0x1d7ec3;this['reconnectAttempts']=0x0,this[_0xd55259(0x50c)]=[];}async[a0_0x1d7ec3(0x5d3)](_0x4992ac,_0x1ba1d2=!0x1){const _0x3a17d6=a0_0x1d7ec3;try{let _0x5e6fc7=await this[_0x3a17d6(0x2d1)][_0x3a17d6(0x3bf)][_0x3a17d6(0x44c)]({'where':{'_id':_0x4992ac['id']}},this['instance'][_0x3a17d6(0x38f)]);return _0x1ba1d2?_0x5e6fc7[0x0]:_0x5e6fc7[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x1d7ec3(0x2eb)](){const _0x46c92b=a0_0x1d7ec3;let _0x113150=this[_0x46c92b(0x75a)][_0x46c92b(0x332)](_0x46c92b(0x275)),_0x34bc7c=this[_0x46c92b(0x75a)][_0x46c92b(0x332)](_0x46c92b(0x220));_0x113150?.[_0x46c92b(0x464)]&&!_0x34bc7c[_0x46c92b(0x7ff)]&&setInterval(()=>{const _0x39503a=_0x46c92b;try{for(let [_0x747b90,_0x22a7b3]of Object[_0x39503a(0x1c2)](_0x113150))_0x22a7b3===!0x0&&(0x0,Fe[_0x39503a(0x587)])('rm\x20-rf\x20'+(0x0,j[_0x39503a(0x7e1)])(this[_0x39503a(0x8c)],_0x747b90[_0x39503a(0x25b)](),this[_0x39503a(0x597)][_0x39503a(0x38f)])+'/*.json');}catch{}},(_0x113150?.[_0x46c92b(0x464)]??0xe10)*0x3e8);}async[a0_0x1d7ec3(0x731)](){const _0x4ce9ef=a0_0x1d7ec3;let _0x544b21=this['configService'][_0x4ce9ef(0x332)]('DATABASE'),_0x55b417=this['configService'][_0x4ce9ef(0x332)](_0x4ce9ef(0x6b4));return _0x55b417?.[_0x4ce9ef(0x7ff)]?await Os(_0x55b417,this[_0x4ce9ef(0x597)][_0x4ce9ef(0x70c)]):_0x544b21['ENABLED']?await _s(this['instance']['name']):await(0x0,w['useMultiFileAuthState'])((0x0,j[_0x4ce9ef(0x7e1)])(Se,this['instance']['name']));}async[a0_0x1d7ec3(0x61c)](){const _0x96ef9=a0_0x1d7ec3;let _0x51ae09=()=>Math[_0x96ef9(0x518)](Math['random']()*0x4e21)+0x7d0,_0x4642a0=async()=>{const _0xf9255f=_0x96ef9;if(!this['instance']['ScheduleMessage'][_0xf9255f(0x432)]){this[_0xf9255f(0x671)]['verbose'](this[_0xf9255f(0x7ab)]+'\x20('+this['instance'][_0xf9255f(0x38f)]+_0xf9255f(0x55d)),this['isRunning']=!0x1;return;}if(this['instance'][_0xf9255f(0x38f)]&&this[_0xf9255f(0x7ac)]&&this[_0xf9255f(0x597)][_0xf9255f(0x40c)][_0xf9255f(0x584)]!==null&&this[_0xf9255f(0x597)]['ScheduleMessage']['delayMessage']!==void 0x0){let _0x3c209b=Math[_0xf9255f(0x70d)](this[_0xf9255f(0x597)][_0xf9255f(0x40c)][_0xf9255f(0x584)]/0xea60);this[_0xf9255f(0x671)][_0xf9255f(0x244)](this[_0xf9255f(0x7ab)]+'\x20('+this[_0xf9255f(0x597)][_0xf9255f(0x38f)]+_0xf9255f(0x6b0)+_0x3c209b+_0xf9255f(0x541)),this[_0xf9255f(0x83)]=!0x1;return;}else this[_0xf9255f(0x597)][_0xf9255f(0x38f)]&&(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0xf9255f(0x597)][_0xf9255f(0x38f)]+_0xf9255f(0x31a)),this[_0xf9255f(0x7ac)]||(await this[_0xf9255f(0x5bd)](),this[_0xf9255f(0x757)](),this[_0xf9255f(0x379)]()),(this[_0xf9255f(0x597)]['ScheduleMessage'][_0xf9255f(0x584)]===null||this['instance']['ScheduleMessage'][_0xf9255f(0x584)]===void 0x0)&&await this[_0xf9255f(0x7cc)]());if(this[_0xf9255f(0x83)]){let _0x3492dc=_0x51ae09();this[_0xf9255f(0x671)][_0xf9255f(0x244)](this[_0xf9255f(0x7ab)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x3492dc/0x3e8+_0xf9255f(0x4cc)),setTimeout(_0x4642a0,_0x3492dc);}};if(this['isRunning'])return;this[_0x96ef9(0x83)]=!0x0;let _0x45adf5=_0x51ae09();setTimeout(_0x4642a0,_0x45adf5);}async[a0_0x1d7ec3(0x379)](){const _0x4ed81d=a0_0x1d7ec3;let _0x41edf9=this[_0x4ed81d(0x597)][_0x4ed81d(0x38f)];try{let _0x54a1cd=await this['repository'][_0x4ed81d(0x251)][_0x4ed81d(0x5e3)]({'where':{'$or':[{'owner':_0x41edf9},{'whoCanUse':{'$in':[_0x41edf9]}},{'shareOwners':{'$in':[_0x41edf9]}}]}}),_0x1e779f=new Map(this[_0x4ed81d(0x7ac)]['flows'][_0x4ed81d(0x5c2)](_0x5462d8=>[_0x5462d8[_0x4ed81d(0x6ee)],_0x5462d8])),_0x238422=_0x54a1cd[_0x4ed81d(0x5c2)](_0x2b80c9=>{const _0x3e1601=_0x4ed81d;let _0x5769c7=_0x1e779f[_0x3e1601(0x332)](_0x2b80c9[_0x3e1601(0x6ee)]?.[_0x3e1601(0x125)]());return{'_id':_0x2b80c9[_0x3e1601(0x6ee)]?.[_0x3e1601(0x125)](),'name':_0x5769c7?.[_0x3e1601(0x70c)]??_0x2b80c9[_0x3e1601(0x70c)],'default':_0x5769c7?.[_0x3e1601(0x1af)]??_0x2b80c9['default']??!0x1,'startCommand':_0x5769c7?.['startCommand']??_0x2b80c9[_0x3e1601(0x3c7)],'minutesToClose':_0x5769c7?.[_0x3e1601(0x3f7)]??_0x2b80c9[_0x3e1601(0x3f7)]??0xa,'readMessages':_0x5769c7?.[_0x3e1601(0x467)]??_0x2b80c9['readMessages']??!0x1,'testingWith':_0x5769c7?.[_0x3e1601(0xd0)]??_0x2b80c9[_0x3e1601(0xd0)],'canEdit':_0x2b80c9[_0x3e1601(0x31c)]===_0x41edf9||(_0x2b80c9[_0x3e1601(0x50a)]??[])[_0x3e1601(0x603)](_0x41edf9),'usersCount':(_0x2b80c9[_0x3e1601(0xf4)]??[])[_0x3e1601(0x387)]??0x0};}),_0x39c05e=!0x1;_0x238422[_0x4ed81d(0xb2)](_0x274796=>{_0x274796['default']&&(_0x39c05e?_0x274796['default']=!0x1:_0x39c05e=!0x0);}),this['AutomateSystem']['flows']=_0x238422;let _0x3b0d4c={'flows':_0x238422};return await this[_0x4ed81d(0x2d1)][_0x4ed81d(0x4c0)][_0x4ed81d(0x6c4)](_0x3b0d4c,_0x41edf9),this[_0x4ed81d(0x671)][_0x4ed81d(0x244)](this[_0x4ed81d(0x7ab)]+'\x20('+_0x41edf9+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x238422['length'];}catch(_0x331dfa){return this['logger'][_0x4ed81d(0x6f8)](this[_0x4ed81d(0x7ab)]+'\x20('+_0x41edf9+_0x4ed81d(0x722)+(_0x331dfa instanceof Error?_0x331dfa[_0x4ed81d(0x3bf)]:JSON['stringify'](_0x331dfa,null,0x2))),{'message':_0x4ed81d(0x124)+(_0x331dfa instanceof Error?_0x331dfa[_0x4ed81d(0x3bf)]:JSON[_0x4ed81d(0x115)](_0x331dfa,null,0x2))};}}async[a0_0x1d7ec3(0x246)](_0x566180){const _0x5090a7=a0_0x1d7ec3;try{let _0x2f4a8c=await this[_0x5090a7(0x2d1)]['instance'][_0x5090a7(0x6f0)]({'where':{'_id':B+'-'+this[_0x5090a7(0x7ab)]}}),_0x47822d,_0x3692c6=!ae[_0x5090a7(0x66d)]||!ae[_0x5090a7(0x4b1)];console[_0x5090a7(0xa6)]('--------------------------------------'),console[_0x5090a7(0xa6)](_0x5090a7(0x334),Ai),console[_0x5090a7(0xa6)](_0x5090a7(0x2ff),this[_0x5090a7(0x5ae)]),console[_0x5090a7(0xa6)](_0x5090a7(0x20a)),Ai&&!_0x3692c6&&(this[_0x5090a7(0x5ae)]<0x4||!this[_0x5090a7(0x5ae)]?_0x2f4a8c&&_0x2f4a8c['ip']?(_0x47822d=_0x2f4a8c['ip'],console[_0x5090a7(0xa6)](_0x5090a7(0x33c)+_0x47822d)):(_0x47822d=await ae[_0x5090a7(0x1ed)](B,this[_0x5090a7(0x597)]['name']),_0x47822d?(console[_0x5090a7(0xa6)](_0x5090a7(0x300)+_0x47822d),await(0x0,w[_0x5090a7(0x1da)])(0x7d0)):console[_0x5090a7(0x6f8)](_0x5090a7(0x5a0))):this[_0x5090a7(0x5ae)]<0x6&&(await ae[_0x5090a7(0x5e7)](B,this[_0x5090a7(0x597)][_0x5090a7(0x70c)]),console[_0x5090a7(0xa6)]('IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.'),_0x47822d=await ae['createIPv6'](B,this[_0x5090a7(0x597)][_0x5090a7(0x70c)]),_0x47822d?(console['log'](_0x5090a7(0x300)+_0x47822d),await(0x0,w[_0x5090a7(0x1da)])(0x7d0)):console[_0x5090a7(0x6f8)](_0x5090a7(0x357)))),this[_0x5090a7(0x54a)](),this[_0x5090a7(0x597)][_0x5090a7(0x4f0)]=(await this['repository'][_0x5090a7(0x544)]['find'](this['instance'][_0x5090a7(0x70c)]))[_0x5090a7(0x4f0)],this[_0x5090a7(0x597)][_0x5090a7(0x6e7)]=await this[_0x5090a7(0x731)]();let {version:_0x47f16b}=await(0x0,w[_0x5090a7(0x5c5)])(),_0xc86012=[xi,Fs,(0x0,Ps['release'])()],_0x409c21={'localAddress':_0x47822d,'auth':{'creds':this['instance']['authState']['state'][_0x5090a7(0x6a4)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x5090a7(0x597)][_0x5090a7(0x6e7)][_0x5090a7(0x44a)][_0x5090a7(0x29b)],(0x0,Ft[_0x5090a7(0x1af)])({'level':_0x5090a7(0x6f8)}))},'logger':(0x0,Ft[_0x5090a7(0x1af)])({'level':_0x5090a7(0x6f8)}),'printQRInTerminal':!0x1,'browser':_0x566180?['Mac\x20OS',Fs,(0x0,Ps[_0x5090a7(0x5c7)])()]:_0xc86012,'version':_0x47f16b,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x7cc23c=>{const _0x4f6aef=_0x5090a7;let _0x2924aa=this[_0x4f6aef(0x762)]?.[_0x4f6aef(0x57c)]&&(0x0,w['isJidGroup'])(_0x7cc23c);return(0x0,w[_0x4f6aef(0x4d6)])(_0x7cc23c)||_0x2924aa;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x365792=>await this['getMessage'](_0x365792),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x5090a7(0x723)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x2fd0f0){const _0x1f3c8b=_0x5090a7;return _0x2fd0f0[_0x1f3c8b(0xd8)]?.['message']?.[_0x1f3c8b(0x199)]?.[_0x1f3c8b(0x4c8)]===w['proto']['Message'][_0x1f3c8b(0x682)][_0x1f3c8b(0x527)][_0x1f3c8b(0x1e7)]&&(_0x2fd0f0=JSON[_0x1f3c8b(0x665)](JSON[_0x1f3c8b(0x115)](_0x2fd0f0)),_0x2fd0f0[_0x1f3c8b(0xd8)][_0x1f3c8b(0x3bf)][_0x1f3c8b(0x199)]['listType']=w[_0x1f3c8b(0x4c6)][_0x1f3c8b(0x37e)]['ListMessage']['ListType'][_0x1f3c8b(0x515)]),_0x2fd0f0[_0x1f3c8b(0x199)]?.['listType']==w[_0x1f3c8b(0x4c6)][_0x1f3c8b(0x37e)][_0x1f3c8b(0x682)][_0x1f3c8b(0x527)][_0x1f3c8b(0x1e7)]&&(_0x2fd0f0=JSON[_0x1f3c8b(0x665)](JSON[_0x1f3c8b(0x115)](_0x2fd0f0)),_0x2fd0f0[_0x1f3c8b(0x199)][_0x1f3c8b(0x4c8)]=w['proto']['Message'][_0x1f3c8b(0x682)][_0x1f3c8b(0x527)]['SINGLE_SELECT']),_0x2fd0f0;}};return this['endSession']=!0x1,this[_0x5090a7(0x38a)]=(0x0,w[_0x5090a7(0x1af)])(_0x409c21),this[_0x5090a7(0x102)](),this['phoneNumber']=_0x566180,this[_0x5090a7(0x38a)];}catch(_0x48e7ac){let _0x277ae9=_0x5090a7(0x11a),_0x4955d7=_0x48e7ac instanceof Error?_0x48e7ac[_0x5090a7(0x3bf)]:typeof _0x48e7ac==_0x5090a7(0x4b9)?JSON[_0x5090a7(0x115)](_0x48e7ac):_0x48e7ac,_0x2b83e6=_0x277ae9+':\x20'+_0x4955d7;throw this[_0x5090a7(0x671)][_0x5090a7(0x6f8)](this[_0x5090a7(0x7ab)]+'\x20('+this['instance']['wuid']+_0x5090a7(0x84)+_0x2b83e6),console['error'](_0x5090a7(0x67f),_0x48e7ac),_0x48e7ac instanceof Error&&console[_0x5090a7(0x6f8)](_0x5090a7(0x2cb),_0x48e7ac['stack']),new x(_0x2b83e6);}}[a0_0x1d7ec3(0x102)](){const _0xbf8400=a0_0x1d7ec3;this['client']['ev'][_0xbf8400(0x282)](_0x1a05a1=>{const _0x55a5b9=_0xbf8400;if(!this['endSession']){let _0xea17d8=this[_0x55a5b9(0x75a)][_0x55a5b9(0x332)]('DATABASE');if(_0x1a05a1[_0x55a5b9(0x681)]){let _0x6d0d76=_0x1a05a1[_0x55a5b9(0x681)];this[_0x55a5b9(0x58c)][_0x55a5b9(0x681)](_0x6d0d76);}if(_0x1a05a1[_0x55a5b9(0x5c8)]){let _0x4498d1=_0x1a05a1[_0x55a5b9(0x5c8)];this[_0x55a5b9(0x58c)][_0x55a5b9(0x5c8)](_0x4498d1);}if(_0x1a05a1['connection.update']&&this[_0x55a5b9(0x41f)](_0x1a05a1[_0x55a5b9(0x25f)]),_0x1a05a1['creds.update']&&this[_0x55a5b9(0x597)][_0x55a5b9(0x6e7)][_0x55a5b9(0x7f8)](),_0x1a05a1[_0x55a5b9(0x7c4)]){let _0x52c007=_0x1a05a1[_0x55a5b9(0x7c4)];this[_0x55a5b9(0x58c)]['messaging-history.set'](_0x52c007,_0xea17d8);}if(_0x1a05a1['messages.upsert']){let _0x4e99fc=_0x1a05a1['messages.upsert'];this[_0x55a5b9(0x58c)][_0x55a5b9(0x26c)](_0x4e99fc,_0xea17d8);}if(_0x1a05a1[_0x55a5b9(0x2f8)]){let _0x5b66ce=_0x1a05a1['messages.update'];this[_0x55a5b9(0x58c)][_0x55a5b9(0x2f8)](_0x5b66ce,_0xea17d8);}if(_0x1a05a1[_0x55a5b9(0x2e2)]){let _0x46d8d7=_0x1a05a1[_0x55a5b9(0x2e2)];if(this[_0x55a5b9(0x762)]?.['groups_ignore']&&_0x46d8d7['id'][_0x55a5b9(0x603)](_0x55a5b9(0x290)))return;this[_0x55a5b9(0x673)](_0x55a5b9(0x2e2),_0x46d8d7);}if(_0x1a05a1['groups.upsert']){let _0x47fff7=_0x1a05a1[_0x55a5b9(0x3d0)];this[_0x55a5b9(0x519)][_0x55a5b9(0x3d0)](_0x47fff7);}if(_0x1a05a1['groups.update']){let _0x12f0f6=_0x1a05a1[_0x55a5b9(0x42f)];this[_0x55a5b9(0x519)][_0x55a5b9(0x42f)](_0x12f0f6);}if(_0x1a05a1[_0x55a5b9(0x368)]){let _0x1e74a1=_0x1a05a1[_0x55a5b9(0x368)];this['groupHandler']['group-participants.update'](_0x1e74a1);}if(_0x1a05a1[_0x55a5b9(0x577)]){let _0x21b2c8=_0x1a05a1[_0x55a5b9(0x577)];this[_0x55a5b9(0xc1)][_0x55a5b9(0x577)](_0x21b2c8,_0xea17d8);}if(_0x1a05a1[_0x55a5b9(0x3e8)]){let _0x2929f9=_0x1a05a1['chats.update'];this[_0x55a5b9(0xc1)][_0x55a5b9(0x3e8)](_0x2929f9,_0xea17d8);}if(_0x1a05a1['chats.delete']){let _0x32e51b=_0x1a05a1['chats.delete'];this['chatHandle'][_0x55a5b9(0x32b)](_0x32e51b);}if(_0x1a05a1['contacts.upsert']){let _0x207567=_0x1a05a1[_0x55a5b9(0x60f)];this['contactHandle'][_0x55a5b9(0x60f)](_0x207567,_0xea17d8);}if(_0x1a05a1['contacts.update']){let _0x2c2915=_0x1a05a1[_0x55a5b9(0x4ed)];this['contactHandle'][_0x55a5b9(0x4ed)](_0x2c2915,_0xea17d8);}}});}async[a0_0x1d7ec3(0x2cd)](_0xe86c,_0x4f3cd1){const _0x5cb952=a0_0x1d7ec3;if(_0x4f3cd1>=0xa){console[_0x5cb952(0x6f8)](this[_0x5cb952(0x7ab)]+'\x20('+this['instance'][_0x5cb952(0x38f)]+_0x5cb952(0x2c1)),delete Lt[_0xe86c[_0x5cb952(0x7e8)]['id']];return;}try{console[_0x5cb952(0x6f8)](this[_0x5cb952(0x7ab)]+'\x20('+this[_0x5cb952(0x597)][_0x5cb952(0x38f)]+_0x5cb952(0x1eb)+(_0x4f3cd1+0x1)),await this['client']['sendMessageAck'](JSON[_0x5cb952(0x665)](_0xe86c[_0x5cb952(0x2ac)][0x1],w[_0x5cb952(0x7bf)][_0x5cb952(0x526)])),console['error']('[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso');}catch(_0x5f187f){console[_0x5cb952(0x6f8)](this['instanceName']+'\x20('+this[_0x5cb952(0x597)]['wuid']+_0x5cb952(0x23f)+_0x5f187f),setTimeout(()=>this[_0x5cb952(0x2cd)](_0xe86c,_0x4f3cd1+0x1),Math[_0x5cb952(0x2d6)](0x2,_0x4f3cd1)*0x3e8);}}async[a0_0x1d7ec3(0x1f3)](_0x5a3356){const _0x42e2ae=a0_0x1d7ec3;let _0x43b5d4=_0x5a3356['key'][_0x42e2ae(0x9d)][_0x42e2ae(0x34e)](_0x42e2ae(0x290)),_0x42a76d;if(_0x5a3356[_0x42e2ae(0x7e8)]['fromMe'])_0x42a76d=this[_0x42e2ae(0x597)][_0x42e2ae(0x32a)];else{let _0x129e28=_0x43b5d4?_0x5a3356[_0x42e2ae(0x7e8)]['participant']:_0x5a3356[_0x42e2ae(0x7e8)]['remoteJid'];_0x42a76d=(await this[_0x42e2ae(0x6e8)](_0x129e28,_0x5a3356['pushName'],!0x1))[_0x42e2ae(0x510)][_0x42e2ae(0x36e)];}_0x5a3356[_0x42e2ae(0x101)]&&_0x5a3356[_0x42e2ae(0x101)][_0x42e2ae(0x125)]()[_0x42e2ae(0x387)]<0xd&&(_0x5a3356['messageTimestamp']=_0x5a3356[_0x42e2ae(0x101)]*0x3e8);let _0x1f75b4={'_id':_0x5a3356[_0x42e2ae(0x7e8)]['id'],'key':_0x5a3356[_0x42e2ae(0x7e8)],'isGroup':_0x43b5d4,'profilePictureUrl':_0x42a76d,'pushName':_0x5a3356[_0x42e2ae(0x754)],'message':{'text':'[\x20SYSTEM\x20-\x20UAZAPI\x20]\x20-\x20Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la'},'messageType':_0x42e2ae(0x6f8),'message_normalized':{'key':_0x5a3356[_0x42e2ae(0x7e8)],'pushName':_0x5a3356[_0x42e2ae(0x754)],'messageTimestamp':_0x5a3356[_0x42e2ae(0x101)],'source':(0x0,w[_0x42e2ae(0xd1)])(_0x5a3356[_0x42e2ae(0x7e8)]['id']),'text':_0x42e2ae(0x4b4)},'messageTimestamp':_0x5a3356[_0x42e2ae(0x101)],'owner':this[_0x42e2ae(0x597)][_0x42e2ae(0x38f)],'source':(0x0,w[_0x42e2ae(0xd1)])(_0x5a3356[_0x42e2ae(0x7e8)]['id'])};this['logger']['error'](this[_0x42e2ae(0x7ab)]+'\x20('+this[_0x42e2ae(0x597)][_0x42e2ae(0x38f)]+_0x42e2ae(0x84)+(_0x1f75b4[_0x42e2ae(0x7e8)]?.[_0x42e2ae(0x123)]?_0x42e2ae(0x430):_0x42e2ae(0x18e))+'\x20['+_0x1f75b4[_0x42e2ae(0x7e8)]?.[_0x42e2ae(0x9d)][_0x42e2ae(0x404)]('@s.whatsapp.net','')+']\x20('+_0x1f75b4[_0x42e2ae(0x1a1)]+')'),_0x1f75b4[_0x42e2ae(0x2e4)]?.[_0x42e2ae(0x7df)]&&this[_0x42e2ae(0x671)][_0x42e2ae(0x6f8)](_0x5a3356[_0x42e2ae(0x7e8)]['id']+':\x20'+_0x1f75b4[_0x42e2ae(0x2e4)]?.[_0x42e2ae(0x7df)]),await this[_0x42e2ae(0x2d1)][_0x42e2ae(0x3bf)][_0x42e2ae(0x718)]([_0x1f75b4],this['instance']['wuid']),await this[_0x42e2ae(0x2d1)][_0x42e2ae(0x72f)][_0x42e2ae(0x718)]([_0x1f75b4]),this[_0x42e2ae(0x673)]('messages.upsert',_0x1f75b4),F(this[_0x42e2ae(0x7ab)],'messages',{'message':_0x1f75b4});}['delayChatLabel'](_0x23b618){return new Promise(_0x5233cb=>setTimeout(_0x5233cb,_0x23b618));}[a0_0x1d7ec3(0x104)](_0xd195c9){const _0x55a53b=a0_0x1d7ec3;_0xd195c9=_0xd195c9[_0x55a53b(0x404)](/\D/g,'');let _0x267bf8=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0xd195c9);if(_0x267bf8&&_0x267bf8[0x1]==='55'){let _0xdb2978=_0x267bf8[0x2],_0x5b7b90=_0x267bf8[0x3],_0x18bdd8=_0x267bf8[0x4];if(parseInt(_0xdb2978)>=0x1f&&_0x5b7b90==='9')return _0x267bf8[0x1]+_0xdb2978+_0x18bdd8;}return _0xd195c9;}['createJid'](_0x27cb41){const _0x5bfc20=a0_0x1d7ec3;return _0x27cb41['includes'](_0x5bfc20(0x290))||_0x27cb41['includes'](_0x5bfc20(0x700))||_0x27cb41[_0x5bfc20(0x603)]('@broadcast')?_0x27cb41:(_0x27cb41=_0x27cb41?.[_0x5bfc20(0x404)](/\s/g,'')[_0x5bfc20(0x404)](/\+/g,'')[_0x5bfc20(0x404)](/\(/g,'')[_0x5bfc20(0x404)](/\)/g,'')['split'](/\:/)[0x0]['split']('@')[0x0],_0x27cb41[_0x5bfc20(0x387)]>=0x12?(_0x27cb41=_0x27cb41['replace'](/[^\d-]/g,''),_0x27cb41+_0x5bfc20(0x290)):(_0x27cb41=_0x27cb41[_0x5bfc20(0x404)](/\D/g,''),_0x27cb41+'@s.whatsapp.net'));}async[a0_0x1d7ec3(0x6e3)](_0x2de744){const _0x68886=a0_0x1d7ec3;let _0x22a8ba=(await this['whatsappNumber']({'numbers':[_0x2de744[_0x68886(0x59e)]]}))[0x0];if(!_0x22a8ba[_0x68886(0x7e0)]&&!(0x0,w[_0x68886(0x219)])(_0x22a8ba['jid'])&&!_0x22a8ba['jid']['includes'](_0x68886(0x59a)))throw new m(_0x22a8ba);let _0x330a46=_0x22a8ba[_0x68886(0x495)];try{return await this[_0x68886(0x38a)][_0x68886(0x160)](_0x330a46),await this['client']['sendPresenceUpdate'](_0x2de744[_0x68886(0x254)],_0x330a46),{'status':0xc8,'presence':_0x2de744['presence']};}catch(_0x4c0b50){let _0x2cda5a='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x3c8831=_0x4c0b50 instanceof Error?_0x4c0b50[_0x68886(0x3bf)]:typeof _0x4c0b50==_0x68886(0x4b9)?JSON[_0x68886(0x115)](_0x4c0b50):_0x4c0b50,_0xfaefb6=_0x2cda5a+':\x20'+_0x3c8831;throw this[_0x68886(0x671)][_0x68886(0x6f8)](this[_0x68886(0x7ab)]+'\x20('+this[_0x68886(0x597)][_0x68886(0x38f)]+_0x68886(0x84)+_0xfaefb6),new m(_0xfaefb6);}}async['findAndUpdateCacheContact'](_0x580271,_0x50383e,_0x4ae95b,_0x1c0d79=!0x0){const _0x4cde47=a0_0x1d7ec3;let _0x425c5a=await this['repository'][_0x4cde47(0x797)][_0x4cde47(0x6f0)]({'where':{'_id':_0x580271}});if(!_0x425c5a&&!_0x1c0d79)return;let _0x3dbefb={'lastUpdate':Date[_0x4cde47(0xe6)]()};if(_0x4ae95b||!_0x425c5a?.[_0x4cde47(0x237)]||Date[_0x4cde47(0xe6)]()-_0x425c5a[_0x4cde47(0x237)]>0x18*0x3c*0x3c*0x3e8)try{let _0x19a2f8=(await this[_0x4cde47(0x55c)](_0x580271))['profilePictureUrl'];_0x3dbefb['pictureUrl']=_0x19a2f8;}catch(_0xb48537){let _0x134d95='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x485dd1=_0xb48537 instanceof Error?_0xb48537[_0x4cde47(0x3bf)]:typeof _0xb48537==_0x4cde47(0x4b9)?JSON[_0x4cde47(0x115)](_0xb48537):_0xb48537,_0x3175fc=_0x134d95+':\x20'+_0x485dd1;throw this[_0x4cde47(0x671)][_0x4cde47(0x6f8)](this[_0x4cde47(0x7ab)]+'\x20('+this[_0x4cde47(0x597)][_0x4cde47(0x38f)]+'):\x20'+_0x3175fc),new m(_0x3175fc);}return _0x50383e&&_0x425c5a?.[_0x4cde47(0x70c)]!==_0x50383e&&(_0x3dbefb[_0x4cde47(0x70c)]=_0x50383e),Object[_0x4cde47(0x29b)](_0x3dbefb)[_0x4cde47(0x387)]>0x1&&(_0x425c5a?await this[_0x4cde47(0x2d1)][_0x4cde47(0x797)][_0x4cde47(0x6c4)]({'where':{'_id':_0x580271}},_0x3dbefb):await this[_0x4cde47(0x2d1)][_0x4cde47(0x797)][_0x4cde47(0x718)]([{'_id':_0x580271,..._0x3dbefb}]),_0x425c5a={..._0x425c5a,..._0x3dbefb}),{'cachedContact':_0x425c5a};}async[a0_0x1d7ec3(0x55c)](_0x51179f){const _0x153e0d=a0_0x1d7ec3;let _0x4a2a1f=this['createJid'](_0x51179f);try{return{'wuid':_0x4a2a1f,'profilePictureUrl':await this['client'][_0x153e0d(0x32a)](_0x4a2a1f,_0x153e0d(0x77d))};}catch{return{'wuid':_0x4a2a1f,'profilePictureUrl':null};}}async[a0_0x1d7ec3(0x134)](_0x45770f,_0x37720d,_0x38ec51){const _0x569512=a0_0x1d7ec3;let _0x3ae9d5;try{let _0x5b0ea1=(await this[_0x569512(0x691)]({'numbers':[_0x45770f]}))?.[_0x569512(0x6d7)]();if(!_0x5b0ea1[_0x569512(0x7e0)]&&!(0x0,w[_0x569512(0x219)])(_0x5b0ea1[_0x569512(0x495)])&&!_0x5b0ea1[_0x569512(0x495)][_0x569512(0x603)](_0x569512(0x59a)))throw new m(_0x5b0ea1);_0x3ae9d5=_0x5b0ea1['jid'];}catch(_0x467677){_0x3ae9d5=_0x45770f,this[_0x569512(0x671)]['warn'](this[_0x569512(0x7ab)]+'\x20('+this[_0x569512(0x597)][_0x569512(0x38f)]+_0x569512(0x458)+_0x467677[_0x569512(0x3bf)]),this['logger'][_0x569512(0x4d3)](this[_0x569512(0x7ab)]+'\x20('+this[_0x569512(0x597)][_0x569512(0x38f)]+_0x569512(0x250)+_0x3ae9d5);}try{if(_0x3ae9d5||(_0x3ae9d5=_0x45770f,this[_0x569512(0x671)]['warn'](this[_0x569512(0x7ab)]+'\x20('+this[_0x569512(0x597)][_0x569512(0x38f)]+'):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20'+_0x3ae9d5)),_0x38ec51||(_0x38ec51={}),_0x38ec51?.[_0x569512(0x1da)]){await this[_0x569512(0x38a)]['presenceSubscribe'](_0x3ae9d5),await this['client'][_0x569512(0x497)](_0x38ec51?.['presence']??_0x569512(0x409),_0x3ae9d5);let _0x244b6e=Math[_0x569512(0x447)](_0x38ec51['delay'],0x2710);await(0x0,w[_0x569512(0x1da)])(_0x244b6e),await this[_0x569512(0x38a)][_0x569512(0x497)](_0x569512(0x4db),_0x3ae9d5);}let _0x5dcdf1=_0x38ec51?.[_0x569512(0x1c4)]!=!0x1?void 0x0:!0x1,_0x240a6c;if(_0x38ec51?.[_0x569512(0x542)]){let _0x5b11ec=_0x38ec51?.[_0x569512(0x542)],_0x1458bd=_0x5b11ec?.[_0x569512(0x3bf)]?_0x5b11ec:await this[_0x569512(0x5d3)](_0x5b11ec[_0x569512(0x7e8)],!0x0);_0x1458bd&&(_0x240a6c=_0x1458bd);}let _0x3feb94=await this['repository']['chat'][_0x569512(0x6f0)]({'where':{'_id':_0x3ae9d5}},this[_0x569512(0x597)][_0x569512(0x38f)]),_0x5b7131,_0x253378=null;if((0x0,w[_0x569512(0x219)])(_0x3ae9d5))try{if(_0x253378=_0x3feb94['groupdata'],!_0x253378)throw new U('Grupo\x20não\x20encontrado');if(!_0x253378[_0x569512(0x150)])throw new m('Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo');_0x38ec51?.[_0x569512(0x6c7)]&&(_0x38ec51[_0x569512(0x6c7)]?.[_0x569512(0x551)]?_0x5b7131=_0x253378[_0x569512(0x68a)][_0x569512(0x5c2)](_0x12506c=>_0x12506c['id']):_0x38ec51['mentions']?.[_0x569512(0x13a)]?.['length']&&(_0x5b7131=_0x38ec51[_0x569512(0x6c7)][_0x569512(0x13a)][_0x569512(0x5c2)](_0x438969=>{const _0x224fb1=_0x569512;let _0x25af11=this[_0x224fb1(0x339)](_0x438969);return(0x0,w[_0x224fb1(0x219)])(_0x25af11)?null:_0x25af11;})));}catch(_0x35bb68){throw _0x35bb68 instanceof U?new U(_0x569512(0x483)):_0x35bb68 instanceof m?new m(_0x569512(0x1a8)):new Error(_0x569512(0x4da));}let _0x3f4665=await((async()=>{const _0x39b85a=_0x569512;let _0x37d4bd={'quoted':_0x240a6c,'ephemeralExpiration':_0x3feb94?.[_0x39b85a(0x74d)]??0x0};if(!_0x37720d[_0x39b85a(0x574)]&&!_0x37720d[_0x39b85a(0xbc)]&&!_0x37720d[_0x39b85a(0x6c2)]&&!_0x37720d['conversation']&&_0x3ae9d5!==_0x39b85a(0x511)&&_0x37720d['reactionMessage'])return await this[_0x39b85a(0x38a)][_0x39b85a(0x56c)](_0x3ae9d5,{'react':{'text':_0x37720d[_0x39b85a(0x7c0)][_0x39b85a(0x7df)],'key':_0x37720d[_0x39b85a(0x7c0)][_0x39b85a(0x7e8)]}},_0x37d4bd);if(_0x37720d[_0x39b85a(0xa7)]){let _0x380f86=_0x37720d['conversation'];return _0x38ec51?.[_0x39b85a(0x30c)]&&(_0x380f86=await this[_0x39b85a(0x40a)](_0x380f86,_0x3ae9d5)),await this[_0x39b85a(0x38a)][_0x39b85a(0x56c)](_0x3ae9d5,{'text':_0x380f86,'mentions':_0x5b7131,'linkPreview':_0x5dcdf1},_0x37d4bd);}return!_0x37720d[_0x39b85a(0x574)]&&!_0x37720d[_0x39b85a(0xbc)]&&_0x3ae9d5!=_0x39b85a(0x511)?await this[_0x39b85a(0x38a)][_0x39b85a(0x56c)](_0x3ae9d5,{'forward':{'key':{'remoteJid':this[_0x39b85a(0x597)][_0x39b85a(0x38f)],'fromMe':!0x0},'message':_0x37720d},'mentions':_0x5b7131},_0x37d4bd):_0x3ae9d5===_0x39b85a(0x511)?await this[_0x39b85a(0x38a)][_0x39b85a(0x56c)](_0x3ae9d5,_0x37720d[_0x39b85a(0x77f)][_0x39b85a(0x562)],{'backgroundColor':_0x37720d[_0x39b85a(0x77f)][_0x39b85a(0x621)][_0x39b85a(0x382)],'font':_0x37720d['status'][_0x39b85a(0x621)][_0x39b85a(0x2a2)],'statusJidList':_0x37720d['status']['option'][_0x39b85a(0x2cc)]}):await this[_0x39b85a(0x38a)]['sendMessage'](_0x3ae9d5,_0x37720d,_0x37d4bd);})()),_0x2c3387=(0x0,w['normalizeMessageContent'])(_0x3f4665['message']),_0x29e549=(0x0,w[_0x569512(0x218)])(_0x2c3387),{message_normalized:_0x512fbc}=this[_0x569512(0x345)](_0x2c3387,_0x29e549,null),_0x49543b={'_id':_0x3f4665['key']['id'],'key':_0x3f4665[_0x569512(0x7e8)],'pushName':_0x3f4665['pushName'],'isGroup':_0x3f4665[_0x569512(0x7e8)][_0x569512(0x9d)][_0x569512(0x34e)](_0x569512(0x290)),'profilePictureUrl':this[_0x569512(0x597)]['profilePictureUrl'],'message':_0x2c3387,'messageType':_0x29e549,'message_normalized':{'key':_0x3f4665['key'],'pushName':_0x3f4665[_0x569512(0x754)],'messageTimestamp':_0x3f4665[_0x569512(0x101)]&&_0x3f4665[_0x569512(0x101)][_0x569512(0x125)]()[_0x569512(0x387)]<0xd?_0x3f4665[_0x569512(0x101)]*0x3e8:_0x3f4665[_0x569512(0x101)]||null,'source':(0x0,w[_0x569512(0xd1)])(_0x3f4665[_0x569512(0x7e8)]['id']),..._0x512fbc},'messageTimestamp':_0x3f4665[_0x569512(0x101)]&&_0x3f4665[_0x569512(0x101)]['toString']()['length']<0xd?_0x3f4665[_0x569512(0x101)]*0x3e8:_0x3f4665[_0x569512(0x101)]||null,'owner':this['instance'][_0x569512(0x38f)],'source':(0x0,w[_0x569512(0xd1)])(_0x3f4665[_0x569512(0x7e8)]['id'])};return this['logger'][_0x569512(0x4d3)](this[_0x569512(0x7ab)]+'\x20('+this['instance']['wuid']+'):\x20enviado\x20para\x20['+_0x49543b[_0x569512(0x7e8)]?.['remoteJid'][_0x569512(0x404)](_0x569512(0x700),'')+_0x569512(0x3cf)+_0x49543b[_0x569512(0x1a1)]+')'),_0x49543b[_0x569512(0x2e4)]?.['text']&&this[_0x569512(0x671)]['warn'](_0x49543b['message_normalized']?.[_0x569512(0x7df)]),this[_0x569512(0x673)](_0x569512(0x151),_0x49543b),F(this[_0x569512(0x7ab)],_0x569512(0x242),{'message':_0x49543b}),this[_0x569512(0x235)](this[_0x569512(0x75a)][_0x569512(0x332)]('DATABASE'),_0x49543b,_0x569512(0x214),_0x3feb94),await this[_0x569512(0x2d1)]['message'][_0x569512(0x718)]([_0x49543b],this[_0x569512(0x597)][_0x569512(0x38f)]),_0x3f4665;}catch(_0x4d03c2){let _0x4be752=_0x569512(0x6df)+_0x3ae9d5,_0x38ef32=_0x4d03c2 instanceof Error?_0x4d03c2['message']:typeof _0x4d03c2=='object'?JSON['stringify'](_0x4d03c2):_0x4d03c2,_0xbed46=_0x4be752+':\x20'+_0x38ef32;throw this[_0x569512(0x671)][_0x569512(0x6f8)](this[_0x569512(0x7ab)]+'\x20('+this[_0x569512(0x597)][_0x569512(0x38f)]+_0x569512(0x84)+_0xbed46),new m(_0xbed46);}}async[a0_0x1d7ec3(0x5f2)](_0x921cb7,_0x27e986,_0x49476a){const _0x741e79=a0_0x1d7ec3;let _0x23c666=this[_0x741e79(0x339)](_0x921cb7),_0x556dc3=(await this[_0x741e79(0x691)]({'numbers':[_0x23c666]}))[0x0];if(!_0x556dc3[_0x741e79(0x7e0)]&&!(0x0,w['isJidGroup'])(_0x556dc3[_0x741e79(0x495)]))throw new m(_0x556dc3);let _0x120f6c=(0x0,w[_0x741e79(0x219)])(_0x23c666)?_0x23c666:_0x556dc3['jid'];if((0x0,w['isJidGroup'])(_0x120f6c))try{await this[_0x741e79(0x38a)][_0x741e79(0x7d7)](_0x120f6c);}catch{throw new m(_0x741e79(0x144));}try{_0x49476a?.[_0x741e79(0x1da)]&&(await this[_0x741e79(0x38a)][_0x741e79(0x160)](_0x120f6c),await this[_0x741e79(0x38a)][_0x741e79(0x497)](_0x49476a?.['presence']??_0x741e79(0x409),_0x23c666),await(0x0,w[_0x741e79(0x1da)])(_0x49476a[_0x741e79(0x1da)]),await this[_0x741e79(0x38a)][_0x741e79(0x497)](_0x741e79(0x4db),_0x120f6c));let _0x5b2c21=await((async()=>{const _0x23cb2f=_0x741e79;let _0x3b8c03,_0x57f814=_0x23cb2f(0x269)+(0x0,ne[_0x23cb2f(0x231)])(0x12)[_0x23cb2f(0x125)](_0x23cb2f(0x48e))['toUpperCase'](),_0x5b4935=(0x0,w[_0x23cb2f(0x6a7)])(_0x120f6c,_0x27e986,{'timestamp':new Date(),'userJid':this[_0x23cb2f(0x597)]['wuid'],'messageId':_0x57f814,'quoted':_0x3b8c03}),_0x4e23b0=await this[_0x23cb2f(0x38a)]['relayMessage'](_0x120f6c,_0x5b4935[_0x23cb2f(0x3bf)],{'messageId':_0x57f814});_0x5b4935[_0x23cb2f(0x7e8)]={'id':_0x4e23b0,'remoteJid':_0x23c666,'participant':(0x0,w[_0x23cb2f(0x6d3)])(_0x23c666)?void 0x0:_0x23c666,'fromMe':!0x0};for(let [_0x27a3be,_0x2c4377]of Object[_0x23cb2f(0x1c2)](_0x5b4935))(!_0x2c4377||Array[_0x23cb2f(0xab)](_0x2c4377)&&_0x2c4377['length']===0x0)&&delete _0x5b4935[_0x27a3be];return this[_0x23cb2f(0x38a)]['ev'][_0x23cb2f(0x645)]('messages.upsert',{'messages':[_0x5b4935],'type':_0x23cb2f(0x611)}),_0x5b4935;})()),_0x3f3192=await this[_0x741e79(0x2d1)][_0x741e79(0x39a)][_0x741e79(0x6f0)]({'where':{'_id':_0x120f6c}},this[_0x741e79(0x597)][_0x741e79(0x38f)]),_0x3f6803=(0x0,w[_0x741e79(0x3e6)])(_0x5b2c21[_0x741e79(0x3bf)]),_0xe1055f=(0x0,w[_0x741e79(0x218)])(_0x3f6803),{message_normalized:_0x3aaa1c}=this[_0x741e79(0x345)](_0x3f6803,_0xe1055f,null),_0x478c51={'_id':_0x5b2c21[_0x741e79(0x7e8)]['id'],'key':_0x5b2c21[_0x741e79(0x7e8)],'pushName':_0x5b2c21[_0x741e79(0x754)],'isGroup':_0x5b2c21[_0x741e79(0x7e8)][_0x741e79(0x9d)]['endsWith'](_0x741e79(0x290)),'profilePictureUrl':this[_0x741e79(0x597)][_0x741e79(0x32a)],'message':_0x3f6803,'messageType':_0xe1055f,'message_normalized':{'key':_0x5b2c21['key'],'pushName':_0x5b2c21[_0x741e79(0x754)],'messageTimestamp':_0x5b2c21['messageTimestamp']&&_0x5b2c21[_0x741e79(0x101)][_0x741e79(0x125)]()[_0x741e79(0x387)]<0xd?_0x5b2c21['messageTimestamp']*0x3e8:_0x5b2c21[_0x741e79(0x101)]||null,'source':(0x0,w[_0x741e79(0xd1)])(_0x5b2c21[_0x741e79(0x7e8)]['id']),..._0x3aaa1c},'messageTimestamp':_0x5b2c21[_0x741e79(0x101)]&&_0x5b2c21[_0x741e79(0x101)][_0x741e79(0x125)]()[_0x741e79(0x387)]<0xd?_0x5b2c21[_0x741e79(0x101)]*0x3e8:_0x5b2c21[_0x741e79(0x101)]||null,'owner':this['instance'][_0x741e79(0x38f)],'source':(0x0,w[_0x741e79(0xd1)])(_0x5b2c21[_0x741e79(0x7e8)]['id'])};return this['logger']['warn'](this[_0x741e79(0x7ab)]+'\x20('+this['instance'][_0x741e79(0x38f)]+_0x741e79(0x5b0)+_0x478c51[_0x741e79(0x7e8)]?.[_0x741e79(0x9d)][_0x741e79(0x404)](_0x741e79(0x700),'')+_0x741e79(0x3cf)+_0x478c51[_0x741e79(0x1a1)]+')'),_0x478c51['message_normalized']?.[_0x741e79(0x7df)]&&this[_0x741e79(0x671)][_0x741e79(0x4d3)](_0x478c51[_0x741e79(0x2e4)]?.['text']),this[_0x741e79(0x673)](_0x741e79(0x151),_0x478c51),F(this[_0x741e79(0x7ab)],_0x741e79(0x242),{'message':_0x478c51}),this[_0x741e79(0x235)](this[_0x741e79(0x75a)][_0x741e79(0x332)]('DATABASE'),_0x478c51,_0x741e79(0x214),_0x3f3192),await this[_0x741e79(0x2d1)]['message'][_0x741e79(0x718)]([_0x478c51],this[_0x741e79(0x597)]['wuid']),_0x5b2c21;}catch(_0x29ec0e){throw this[_0x741e79(0x671)][_0x741e79(0x6f8)](_0x29ec0e),new m(_0x29ec0e[_0x741e79(0x125)]());}}get[a0_0x1d7ec3(0x21b)](){return this['stateConnection'];}async[a0_0x1d7ec3(0x7e7)](_0x36f96d){const _0x2be421=a0_0x1d7ec3;return await this[_0x2be421(0x134)](_0x36f96d[_0x2be421(0x59e)],{'conversation':_0x36f96d[_0x2be421(0x7e7)][_0x2be421(0x7df)]},_0x36f96d?.['options']);}async[a0_0x1d7ec3(0x2f6)](_0x3bf402){const _0x56989a=a0_0x1d7ec3;if(!_0x3bf402[_0x56989a(0x7c9)])throw new m(_0x56989a(0x1b3));if(!_0x3bf402[_0x56989a(0x562)])throw new m(_0x56989a(0x37d));if(_0x3bf402[_0x56989a(0x66c)]){let _0x59873a=await this[_0x56989a(0x2d1)]['contact'][_0x56989a(0x44c)]({'where':{}},this[_0x56989a(0x597)][_0x56989a(0x38f)]);if(!_0x59873a['length'])throw new m(_0x56989a(0x772));_0x3bf402[_0x56989a(0x2cc)]=_0x59873a[_0x56989a(0x350)](_0x14ca6e=>_0x14ca6e[_0x56989a(0x754)])[_0x56989a(0x5c2)](_0x2f4717=>_0x2f4717[_0x56989a(0x6ee)]);}if(!_0x3bf402[_0x56989a(0x2cc)]?.[_0x56989a(0x387)]&&!_0x3bf402[_0x56989a(0x66c)])throw new m(_0x56989a(0x19c));if(_0x3bf402[_0x56989a(0x7c9)]===_0x56989a(0x7df)){if(!_0x3bf402[_0x56989a(0x382)])throw new m(_0x56989a(0xd2));if(!_0x3bf402[_0x56989a(0x2a2)])throw new m(_0x56989a(0x7fd));return{'content':{'text':_0x3bf402['content']},'option':{'backgroundColor':_0x3bf402[_0x56989a(0x382)],'font':_0x3bf402[_0x56989a(0x2a2)],'statusJidList':_0x3bf402['statusJidList']}};}if(_0x3bf402[_0x56989a(0x7c9)]===_0x56989a(0x77d))return{'content':{'image':{'url':_0x3bf402[_0x56989a(0x562)]},'caption':_0x3bf402[_0x56989a(0x4ab)]},'option':{'statusJidList':_0x3bf402['statusJidList']}};if(_0x3bf402[_0x56989a(0x7c9)]===_0x56989a(0x52b))return{'content':{'video':{'url':_0x3bf402[_0x56989a(0x562)]},'caption':_0x3bf402[_0x56989a(0x4ab)]},'option':{'statusJidList':_0x3bf402[_0x56989a(0x2cc)]}};if(_0x3bf402[_0x56989a(0x7c9)]==='audio'){this[_0x56989a(0x671)][_0x56989a(0x244)](this[_0x56989a(0x7ab)]+'\x20('+this[_0x56989a(0x597)][_0x56989a(0x38f)]+_0x56989a(0x27f)),this[_0x56989a(0x671)][_0x56989a(0x244)](this['instanceName']+'\x20('+this[_0x56989a(0x597)][_0x56989a(0x38f)]+_0x56989a(0x65c));let _0x219535=await this[_0x56989a(0x5fd)](_0x3bf402['content']);if(typeof _0x219535==_0x56989a(0x2e7)){this['logger'][_0x56989a(0x244)](this[_0x56989a(0x7ab)]+'\x20('+this['instance'][_0x56989a(0x38f)]+'):Audio\x20processed');let _0x23df0f=k[_0x56989a(0x4ad)](_0x219535)[_0x56989a(0x125)](_0x56989a(0x4f4));return{'content':{'audio':Buffer[_0x56989a(0x7d6)](_0x23df0f,_0x56989a(0x4f4)),'ptt':!0x0,'mimetype':_0x56989a(0x46d)},'option':{'statusJidList':_0x3bf402[_0x56989a(0x2cc)]}};}else throw new x(_0x219535);}throw new m(_0x56989a(0x21c));}async[a0_0x1d7ec3(0x632)](_0x32d127){const _0x204471=a0_0x1d7ec3;return await this['sendMessageWithTyping'](_0x204471(0x511),{'status':await this['formatStatusMessage'](_0x32d127[_0x204471(0x632)])});}async[a0_0x1d7ec3(0x3f4)](_0x3e37fb){const _0x1008ef=a0_0x1d7ec3;try{let _0x2b7139=await(0x0,w[_0x1008ef(0x5e1)])({[_0x3e37fb['mediatype']]:(0x0,J[_0x1008ef(0x295)])(_0x3e37fb['media'])?{'url':_0x3e37fb[_0x1008ef(0x800)]}:Buffer[_0x1008ef(0x7d6)](_0x3e37fb['media'],_0x1008ef(0x4f4))},{'upload':this[_0x1008ef(0x38a)][_0x1008ef(0x65b)]}),_0x272b79=_0x3e37fb['mediatype']+_0x1008ef(0x37e);if(_0x3e37fb[_0x1008ef(0x738)]===_0x1008ef(0x54d)&&!_0x3e37fb[_0x1008ef(0x107)]){let _0xb0420f=new RegExp(/.*\/(.+?)\./)[_0x1008ef(0x1a6)](_0x3e37fb[_0x1008ef(0x800)]);_0x3e37fb[_0x1008ef(0x107)]=_0xb0420f?_0xb0420f[0x1]:null;}let _0x229565;return(0x0,J['isURL'])(_0x3e37fb[_0x1008ef(0x800)])?_0x229565=(await Q[_0x1008ef(0x1af)]['get'](_0x3e37fb[_0x1008ef(0x800)],{'responseType':_0x1008ef(0x305)}))[_0x1008ef(0x4c1)]['content-type']:_0x229565=(0x0,Oi[_0x1008ef(0x18b)])(_0x3e37fb[_0x1008ef(0x107)]),_0x2b7139[_0x272b79]['caption']=_0x3e37fb?.['caption'],_0x2b7139[_0x272b79][_0x1008ef(0xd5)]=_0x229565,_0x2b7139[_0x272b79][_0x1008ef(0x107)]=_0x3e37fb['fileName'],_0x3e37fb['mediatype']===_0x1008ef(0x52b)&&(_0x2b7139[_0x272b79][_0x1008ef(0x5b4)]=Uint8Array[_0x1008ef(0x7d6)]((0x0,Le[_0x1008ef(0x4ad)])((0x0,j[_0x1008ef(0x7e1)])(process[_0x1008ef(0x768)](),_0x1008ef(0x2f4)))),_0x2b7139[_0x272b79][_0x1008ef(0xbe)]=!0x1),(0x0,w[_0x1008ef(0x6a7)])('',{[_0x272b79]:{..._0x2b7139[_0x272b79]}},{'userJid':this[_0x1008ef(0x597)][_0x1008ef(0x38f)]});}catch(_0x218473){let _0x18b7e4='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage',_0x2698bb=_0x218473 instanceof Error?_0x218473['message']:typeof _0x218473==_0x1008ef(0x4b9)?JSON['stringify'](_0x218473):_0x218473,_0x539576=_0x18b7e4+':\x20'+_0x2698bb;throw this[_0x1008ef(0x671)][_0x1008ef(0x6f8)](this[_0x1008ef(0x7ab)]+'\x20('+this['instance'][_0x1008ef(0x38f)]+_0x1008ef(0x84)+_0x539576),new x(_0x539576);}}async[a0_0x1d7ec3(0x210)](_0x442e38){const _0x31eeba=a0_0x1d7ec3;let _0x3fa2ed=await this[_0x31eeba(0x3f4)](_0x442e38[_0x31eeba(0x210)]);return await this['sendMessageWithTyping'](_0x442e38[_0x31eeba(0x59e)],{..._0x3fa2ed[_0x31eeba(0x3bf)]},_0x442e38?.['options']);}async[a0_0x1d7ec3(0x207)](_0xc29c7c,_0x5709b5){const _0xda8233=a0_0x1d7ec3;try{this[_0xda8233(0x671)][_0xda8233(0x244)](this['instanceName']+'\x20('+this[_0xda8233(0x597)][_0xda8233(0x38f)]+'):Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x26f934,_0x42b98d=_0x5709b5+'-'+new Date()['getTime']();this[_0xda8233(0x671)][_0xda8233(0x244)](this[_0xda8233(0x7ab)]+'\x20('+this['instance'][_0xda8233(0x38f)]+_0xda8233(0x4d4)+_0x42b98d);let _0x2e6e73=''+(0x0,j[_0xda8233(0x7e1)])(this[_0xda8233(0x8c)],_0x42b98d+_0xda8233(0x1db));if(this[_0xda8233(0x671)][_0xda8233(0x244)](this[_0xda8233(0x7ab)]+'\x20('+this[_0xda8233(0x597)][_0xda8233(0x38f)]+_0xda8233(0x89)+_0x2e6e73),(0x0,J[_0xda8233(0x4b2)])(_0xc29c7c)){this['logger'][_0xda8233(0x244)](this[_0xda8233(0x7ab)]+'\x20('+this[_0xda8233(0x597)][_0xda8233(0x38f)]+_0xda8233(0x7d4));let _0x3f7868=_0xc29c7c[_0xda8233(0x404)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x3c1a2b=Buffer[_0xda8233(0x7d6)](_0x3f7868,'base64');_0x26f934=''+(0x0,j['join'])(this[_0xda8233(0x8c)],'temp-'+_0x42b98d+'.png'),this[_0xda8233(0x671)][_0xda8233(0x244)](this['instanceName']+'\x20('+this[_0xda8233(0x597)][_0xda8233(0x38f)]+'):Image\x20path:\x20'+_0x26f934),await(0x0,Ut[_0xda8233(0x1af)])(_0x3c1a2b)[_0xda8233(0x411)](_0x26f934),this[_0xda8233(0x671)][_0xda8233(0x244)](this['instanceName']+'\x20('+this[_0xda8233(0x597)][_0xda8233(0x38f)]+'):Image\x20created');}else{this[_0xda8233(0x671)][_0xda8233(0x244)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xda8233(0x4ec));let _0x4b0ea6=new Date()[_0xda8233(0x736)](),_0x4c778a=_0xc29c7c+_0xda8233(0x286)+_0x4b0ea6;this['logger'][_0xda8233(0x244)](this['instanceName']+'\x20('+this[_0xda8233(0x597)][_0xda8233(0x38f)]+'):including\x20timestamp\x20in\x20url:\x20'+_0x4c778a);let _0x213a31=await Q[_0xda8233(0x1af)][_0xda8233(0x332)](_0x4c778a,{'responseType':_0xda8233(0x305)});this['logger'][_0xda8233(0x244)](this[_0xda8233(0x7ab)]+'\x20('+this[_0xda8233(0x597)][_0xda8233(0x38f)]+_0xda8233(0x86));let _0x5c09c8=Buffer[_0xda8233(0x7d6)](_0x213a31[_0xda8233(0x470)],'binary');_0x26f934=''+(0x0,j[_0xda8233(0x7e1)])(this[_0xda8233(0x8c)],_0xda8233(0xa5)+_0x42b98d+_0xda8233(0x1ec)),this[_0xda8233(0x671)][_0xda8233(0x244)](this[_0xda8233(0x7ab)]+'\x20('+this[_0xda8233(0x597)][_0xda8233(0x38f)]+_0xda8233(0x3c5)+_0x26f934),await(0x0,Ut['default'])(_0x5c09c8)[_0xda8233(0x411)](_0x26f934),this[_0xda8233(0x671)][_0xda8233(0x244)](this[_0xda8233(0x7ab)]+'\x20('+this[_0xda8233(0x597)][_0xda8233(0x38f)]+_0xda8233(0x7b6));}return await(0x0,Ut[_0xda8233(0x1af)])(_0x26f934)[_0xda8233(0x6b1)]()[_0xda8233(0x411)](_0x2e6e73),this[_0xda8233(0x671)][_0xda8233(0x244)](this[_0xda8233(0x7ab)]+'\x20('+this[_0xda8233(0x597)]['wuid']+_0xda8233(0x669)),k[_0xda8233(0x15c)](_0x26f934),this['logger']['verbose'](this[_0xda8233(0x7ab)]+'\x20('+this[_0xda8233(0x597)][_0xda8233(0x38f)]+'):Temp\x20image\x20deleted'),_0x2e6e73;}catch(_0x4a6de8){let _0x185e25=_0xda8233(0x51e),_0x225bdb=_0x4a6de8 instanceof Error?_0x4a6de8['message']:typeof _0x4a6de8==_0xda8233(0x4b9)?JSON[_0xda8233(0x115)](_0x4a6de8):_0x4a6de8,_0x5a0cb5=_0x185e25+':\x20'+_0x225bdb;this[_0xda8233(0x671)][_0xda8233(0x6f8)](this[_0xda8233(0x7ab)]+'\x20('+this['instance']['wuid']+_0xda8233(0x84)+_0x5a0cb5);}}async[a0_0x1d7ec3(0x69d)](_0x1eb9b9){const _0x24c693=a0_0x1d7ec3;let _0xd146f5=await this[_0x24c693(0x207)](_0x1eb9b9[_0x24c693(0x600)][_0x24c693(0x77d)],_0x1eb9b9[_0x24c693(0x59e)]),_0x22e534=await this[_0x24c693(0x134)](_0x1eb9b9[_0x24c693(0x59e)],{'sticker':{'url':_0xd146f5}},_0x1eb9b9?.[_0x24c693(0x788)]);return k[_0x24c693(0x15c)](_0xd146f5),this[_0x24c693(0x671)][_0x24c693(0x244)](this[_0x24c693(0x7ab)]+'\x20('+this['instance'][_0x24c693(0x38f)]+'):Converted\x20image\x20deleted'),_0x22e534;}async[a0_0x1d7ec3(0x54c)](_0x66eaae){const _0x36e2f7=a0_0x1d7ec3;if(this[_0x36e2f7(0x671)]['verbose'](this[_0x36e2f7(0x7ab)]+'\x20('+this[_0x36e2f7(0x597)][_0x36e2f7(0x38f)]+'):Sending\x20audio\x20whatsapp'),!_0x66eaae[_0x36e2f7(0x788)]?.[_0x36e2f7(0x625)]&&_0x66eaae['options']?.[_0x36e2f7(0x625)]!==!0x1&&(_0x66eaae[_0x36e2f7(0x788)]['encoding']=!0x0),_0x66eaae[_0x36e2f7(0x788)]?.[_0x36e2f7(0x625)]){let _0x3dbe6c=await this[_0x36e2f7(0x5fd)](_0x66eaae[_0x36e2f7(0xee)][_0x36e2f7(0x574)]);if(typeof _0x3dbe6c==_0x36e2f7(0x2e7)){let _0x496f3f=k['readFileSync'](_0x3dbe6c)[_0x36e2f7(0x125)]('base64');return this[_0x36e2f7(0x134)](_0x66eaae[_0x36e2f7(0x59e)],{'audio':Buffer[_0x36e2f7(0x7d6)](_0x496f3f,_0x36e2f7(0x4f4)),'ptt':!0x0,'mimetype':_0x36e2f7(0xa9)},{'presence':_0x36e2f7(0x197),'delay':_0x66eaae?.[_0x36e2f7(0x788)]?.['delay']});}else throw new x(_0x3dbe6c);}return await this[_0x36e2f7(0x134)](_0x66eaae[_0x36e2f7(0x59e)],{'audio':(0x0,J[_0x36e2f7(0x295)])(_0x66eaae['audioMessage'][_0x36e2f7(0x574)])?{'url':_0x66eaae['audioMessage'][_0x36e2f7(0x574)]}:Buffer['from'](_0x66eaae['audioMessage'][_0x36e2f7(0x574)],'base64'),'ptt':!0x0,'mimetype':_0x36e2f7(0xa9)},{'presence':_0x36e2f7(0x197),'delay':_0x66eaae?.['options']?.['delay']});}async[a0_0x1d7ec3(0x5fd)](_0x4874b0){const _0x3653bf=a0_0x1d7ec3;this['logger']['verbose'](this[_0x3653bf(0x7ab)]+'\x20('+this[_0x3653bf(0x597)][_0x3653bf(0x38f)]+_0x3653bf(0x65c));let _0x3e9377=(0x0,J[_0x3653bf(0x295)])(_0x4874b0)?(0x0,ne['createHash'])(_0x3653bf(0x4cf))[_0x3653bf(0x6c4)](_0x4874b0)['digest'](_0x3653bf(0x48e)):(0x0,ne['createHash'])(_0x3653bf(0x4cf))['update'](_0x4874b0)[_0x3653bf(0x22c)](_0x3653bf(0x48e)),_0x298632=''+(0x0,j[_0x3653bf(0x7e1)])(this[_0x3653bf(0x8c)],_0x3e9377+_0x3653bf(0x1f0));if(k[_0x3653bf(0x2fb)](_0x298632))return this['logger']['verbose'](this[_0x3653bf(0x7ab)]+'\x20('+this[_0x3653bf(0x597)]['wuid']+_0x3653bf(0xcb)),_0x298632;let _0x7d592a=''+(0x0,j[_0x3653bf(0x7e1)])(this[_0x3653bf(0x8c)],_0x3653bf(0xa5)+(0x0,Y['v4'])()+'.mp3');if((0x0,J[_0x3653bf(0x295)])(_0x4874b0)){let _0xc1590f=new Date()[_0x3653bf(0x736)](),_0x481ffa=_0x4874b0+_0x3653bf(0x286)+_0xc1590f,_0x2d1126=await Q[_0x3653bf(0x1af)][_0x3653bf(0x332)](_0x481ffa,{'responseType':'arraybuffer'});k[_0x3653bf(0x5d9)](_0x7d592a,_0x2d1126[_0x3653bf(0x470)]);}else{let _0x56ede4=Buffer['from'](_0x4874b0,_0x3653bf(0x4f4));k[_0x3653bf(0x5d9)](_0x7d592a,_0x56ede4);}return new Promise((_0x4602bb,_0x40830d)=>{const _0x3be904=_0x3653bf;(0x0,Fe[_0x3be904(0x1a6)])(Ds[_0x3be904(0x1af)][_0x3be904(0x524)]+'\x20-i\x20'+_0x7d592a+_0x3be904(0x3b8)+_0x298632+_0x3be904(0x418),_0x21ecd3=>{const _0x2095d9=_0x3be904;if(k[_0x2095d9(0x15c)](_0x7d592a),_0x21ecd3){this[_0x2095d9(0x671)][_0x2095d9(0x244)](this[_0x2095d9(0x7ab)]+'\x20('+this['instance'][_0x2095d9(0x38f)]+_0x2095d9(0x6ce)),_0x40830d(_0x21ecd3);return;}this[_0x2095d9(0x671)][_0x2095d9(0x244)](this[_0x2095d9(0x7ab)]+'\x20('+this[_0x2095d9(0x597)][_0x2095d9(0x38f)]+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x4602bb(_0x298632);});});}async[a0_0x1d7ec3(0x60b)](_0x49a990){const _0xfc1426=a0_0x1d7ec3;this['logger'][_0xfc1426(0x244)](this[_0xfc1426(0x7ab)]+'\x20('+this[_0xfc1426(0x597)][_0xfc1426(0x38f)]+_0xfc1426(0x65c));let _0x60244d=(0x0,ne[_0xfc1426(0x791)])(_0xfc1426(0x4cf))[_0xfc1426(0x6c4)](_0x49a990)[_0xfc1426(0x22c)](_0xfc1426(0x48e)),_0x24c49e=''+(0x0,j[_0xfc1426(0x7e1)])(this[_0xfc1426(0x8c)],_0x60244d+_0xfc1426(0x42b));if(k['existsSync'](_0x24c49e))return this[_0xfc1426(0x671)][_0xfc1426(0x244)](this[_0xfc1426(0x7ab)]+'\x20('+this[_0xfc1426(0x597)][_0xfc1426(0x38f)]+_0xfc1426(0xcb)),j[_0xfc1426(0x1af)][_0xfc1426(0x48c)](_0x24c49e);let _0x11c9b=''+(0x0,j['join'])(this['storePath'],_0xfc1426(0xa5)+_0x60244d+_0xfc1426(0x1f0));if((0x0,J[_0xfc1426(0x295)])(_0x49a990)){let _0x289dec=new Date()[_0xfc1426(0x736)](),_0x3036b2=_0x49a990+_0xfc1426(0x286)+_0x289dec,_0x50b220=await Q[_0xfc1426(0x1af)][_0xfc1426(0x332)](_0x3036b2,{'responseType':_0xfc1426(0x305)});k[_0xfc1426(0x5d9)](_0x11c9b,_0x50b220[_0xfc1426(0x470)]);}else{let _0x740879=Buffer[_0xfc1426(0x7d6)](_0x49a990,_0xfc1426(0x4f4));k[_0xfc1426(0x5d9)](_0x11c9b,_0x740879);}return new Promise((_0x4d4695,_0x26c294)=>{const _0x29c783=_0xfc1426;(0x0,Fe[_0x29c783(0x1a6)])(Ds['default'][_0x29c783(0x524)]+_0x29c783(0x4ca)+_0x11c9b+_0x29c783(0x15b)+_0x24c49e+'\x20-y',_0x5a629e=>{const _0x359f42=_0x29c783;if(k[_0x359f42(0x15c)](_0x11c9b),_0x5a629e){this[_0x359f42(0x671)]['verbose'](this[_0x359f42(0x7ab)]+'\x20('+this[_0x359f42(0x597)][_0x359f42(0x38f)]+_0x359f42(0x6ce)),_0x26c294(_0x5a629e);return;}this['logger']['verbose'](this[_0x359f42(0x7ab)]+'\x20('+this[_0x359f42(0x597)]['wuid']+_0x359f42(0x1ae)),_0x4d4695(j['default'][_0x359f42(0x48c)](_0x24c49e));});});}async[a0_0x1d7ec3(0x14b)](_0x2180a5){const _0x179055=a0_0x1d7ec3;console[_0x179055(0xa6)](_0x179055(0x109),_0x2180a5);let _0x128189;try{_0x2180a5['buttonMessage']?.[_0x179055(0x56b)]&&(_0x128189=await this['prepareMediaMessage']({'mediatype':_0x179055(0x77d),'media':_0x2180a5['buttonMessage'][_0x179055(0x56b)]}));}catch(_0x24bedf){throw console['error'](_0x179055(0x15a),_0x24bedf),new Error(_0x179055(0x45e));}try{let _0x221c05={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x179055(0x28a)},'footer':{'text':'Rodapé\x20de\x20Teste'},'header':((()=>{const _0x3eeed4=_0x179055;if(_0x128189?.[_0x3eeed4(0x3bf)]?.[_0x3eeed4(0x208)])return{'hasMediaAttachment':!!_0x128189[_0x3eeed4(0x3bf)][_0x3eeed4(0x208)],'imageMessage':_0x128189[_0x3eeed4(0x3bf)][_0x3eeed4(0x208)]};})()),'nativeFlowMessage':{'buttons':[{'name':_0x179055(0x42a),'buttonParamsJson':JSON['stringify']({'display_text':_0x179055(0x761),'id':'1'})},{'name':_0x179055(0x42a),'buttonParamsJson':JSON[_0x179055(0x115)]({'display_text':_0x179055(0x62f),'id':'2'})}],'messageParamsJson':JSON[_0x179055(0x115)]({'from':_0x179055(0x2c8),'templateId':_0x179055(0x269)+(0x0,ne[_0x179055(0x231)])(0x12)[_0x179055(0x125)](_0x179055(0x48e))['toUpperCase']()})}}}}};return await this[_0x179055(0x5f2)](_0x2180a5[_0x179055(0x59e)],_0x221c05,_0x2180a5?.[_0x179055(0x788)]);}catch(_0x359c25){throw console[_0x179055(0x6f8)]('Error\x20in\x20buttonsMessage\x20function:',_0x359c25),new Error(_0x179055(0x73f));}}async[a0_0x1d7ec3(0x6f3)](_0x4adfcf){const _0x2051f2=a0_0x1d7ec3;return await this[_0x2051f2(0x134)](_0x4adfcf['number'],{'locationMessage':{'degreesLatitude':_0x4adfcf[_0x2051f2(0x6f3)]['latitude'],'degreesLongitude':_0x4adfcf[_0x2051f2(0x6f3)][_0x2051f2(0x3be)],'name':_0x4adfcf['locationMessage']?.[_0x2051f2(0x70c)],'address':_0x4adfcf['locationMessage']?.[_0x2051f2(0x61a)]}},_0x4adfcf?.[_0x2051f2(0x788)]);}async['contactMessage'](_0x285c07){const _0x304703=a0_0x1d7ec3;let _0x2917f4={},_0x4cc292=async _0x121f3e=>{const _0x27091d=a0_0x5af0;let _0x1037d3=_0x27091d(0x349)+_0x121f3e[_0x27091d(0x565)]+_0x27091d(0x5b1)+_0x121f3e[_0x27091d(0x565)]+'\x0a';_0x121f3e['organization']&&(_0x1037d3+=_0x27091d(0x593)+_0x121f3e[_0x27091d(0x5ea)]+';\x0a'),_0x121f3e[_0x27091d(0x280)]&&(_0x1037d3+=_0x27091d(0x414)+_0x121f3e['email']+'\x0a'),_0x121f3e[_0x27091d(0x6fa)]&&(_0x1037d3+=_0x27091d(0x3d1)+_0x121f3e[_0x27091d(0x6fa)]+'\x0a');let _0x223c1b='',_0x236297=0x1;if(_0x121f3e['phoneNumber']){let _0x5db5eb=_0x121f3e[_0x27091d(0x420)]['split']('|');for(let _0x535b73 of _0x5db5eb){let _0x5780d7=await this['whatsappNumber']({'numbers':[_0x535b73]}),_0x353c8a=(_0x5780d7['length']>0x0?_0x5780d7[0x0]['jid']:this[_0x27091d(0x339)](_0x535b73))[_0x27091d(0x404)](_0x27091d(0x700),'');_0x223c1b+='item'+_0x236297+_0x27091d(0x776)+_0x353c8a+':'+_0x535b73+'\x0aitem'+_0x236297+_0x27091d(0x4b3),_0x236297++;}}return _0x1037d3+=_0x223c1b+'END:VCARD',_0x1037d3;};return _0x285c07['contactMessage'][_0x304703(0x387)]===0x1?_0x2917f4['contactMessage']={'displayName':_0x285c07[_0x304703(0x131)][0x0]['fullName'],'vcard':await _0x4cc292(_0x285c07[_0x304703(0x131)][0x0])}:_0x2917f4['contactsArrayMessage']={'displayName':_0x285c07['contactMessage'][_0x304703(0x387)]+'\x20contacts','contacts':await Promise[_0x304703(0x4f6)](_0x285c07['contactMessage'][_0x304703(0x5c2)](async _0xd95236=>({'displayName':_0xd95236[_0x304703(0x565)],'vcard':await _0x4cc292(_0xd95236)})))},await this[_0x304703(0x134)](_0x285c07['number'],{..._0x2917f4},_0x285c07?.[_0x304703(0x788)]);}async[a0_0x1d7ec3(0x7c0)](_0x7bdf9f){const _0x14ed99=a0_0x1d7ec3;return await this['sendMessageWithTyping'](_0x7bdf9f['reactionMessage']['key'][_0x14ed99(0x9d)],{'reactionMessage':{'key':_0x7bdf9f['reactionMessage'][_0x14ed99(0x7e8)],'text':_0x7bdf9f[_0x14ed99(0x7c0)][_0x14ed99(0x1bc)]}});}async['whatsappNumber'](_0x59c5e1){const _0x5a00b7=a0_0x1d7ec3;let _0xfe269d=[];for await(let _0x3bb654 of _0x59c5e1['numbers']){let _0x2c19af=this[_0x5a00b7(0x339)](_0x3bb654),_0x434fad=!0x1;try{if((0x0,w[_0x5a00b7(0x219)])(_0x2c19af)){let _0x56919c=(await this[_0x5a00b7(0x2d1)][_0x5a00b7(0x39a)][_0x5a00b7(0x6f0)]({'where':{'_id':_0x2c19af}},this[_0x5a00b7(0x597)][_0x5a00b7(0x38f)]))[_0x5a00b7(0x45f)];_0x56919c?(_0x434fad=!0x0,_0xfe269d[_0x5a00b7(0x1fc)](new ue(_0x56919c['id'],_0x434fad,_0x56919c?.[_0x5a00b7(0x6dd)]))):(_0x56919c=await this[_0x5a00b7(0x564)]({'groupJid':_0x2c19af},_0x5a00b7(0x6f2)),_0xfe269d[_0x5a00b7(0x1fc)](new ue(_0x56919c['id'],!!_0x56919c?.['id'],_0x56919c?.[_0x5a00b7(0x6dd)])));}else{if(_0x2c19af[_0x5a00b7(0x603)](_0x5a00b7(0x59a)))_0xfe269d[_0x5a00b7(0x1fc)](new ue(_0x2c19af,!0x0));else{let _0x5649b9=(await this[_0x5a00b7(0x38a)]['onWhatsApp'](_0x2c19af))[0x0];_0xfe269d[_0x5a00b7(0x1fc)](new ue(_0x5649b9['jid'],_0x5649b9['exists']));}}}catch{(0x0,w['isJidGroup'])(_0x2c19af)||await this[_0x5a00b7(0x392)](_0x2c19af),_0xfe269d['push'](new ue(_0x3bb654,!0x1));}}return _0xfe269d;}async[a0_0x1d7ec3(0x392)](_0x3bdaf6){const _0x8353ae=a0_0x1d7ec3;try{await this[_0x8353ae(0x2d1)]['chat'][_0x8353ae(0x6f0)]({'where':{'_id':_0x3bdaf6,'imported':!0x0}},this[_0x8353ae(0x597)][_0x8353ae(0x38f)])&&(await this[_0x8353ae(0x2d1)][_0x8353ae(0x39a)]['deleteChat'](_0x3bdaf6,this[_0x8353ae(0x597)][_0x8353ae(0x38f)]),this['logger'][_0x8353ae(0x696)](_0x8353ae(0x7e4)+_0x3bdaf6+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.'));}catch(_0x181711){let _0x14afee=_0x8353ae(0x6f5),_0x29d864=_0x181711 instanceof Error?_0x181711['message']:typeof _0x181711=='object'?JSON[_0x8353ae(0x115)](_0x181711):_0x181711,_0x4c9445=_0x14afee+':\x20'+_0x29d864;this['logger'][_0x8353ae(0x6f8)](this['instanceName']+'\x20('+this[_0x8353ae(0x597)][_0x8353ae(0x38f)]+_0x8353ae(0x84)+_0x4c9445);}}async[a0_0x1d7ec3(0x78f)](_0x325ca2){const _0x3567d6=a0_0x1d7ec3;try{let _0x520d38=_0x325ca2[_0x3567d6(0x467)][_0x3567d6(0x350)](_0x3215b5=>(0x0,w['isJidGroup'])(_0x3215b5['remoteJid'])||(0x0,w[_0x3567d6(0x6d3)])(_0x3215b5[_0x3567d6(0x9d)]))[_0x3567d6(0x5c2)](_0x5dd086=>({'remoteJid':_0x5dd086[_0x3567d6(0x9d)],'fromMe':_0x5dd086['fromMe'],'id':_0x5dd086['id']}));await this[_0x3567d6(0x38a)][_0x3567d6(0x467)](_0x520d38);let _0x480e60=_0x520d38['map'](_0x561402=>this[_0x3567d6(0x70e)](_0x561402,{'status':_0x3567d6(0x61d),'owner':this[_0x3567d6(0x597)][_0x3567d6(0x38f)]})),_0x268938=_0x520d38['map'](_0x2d36a5=>this[_0x3567d6(0x2d1)]['chat'][_0x3567d6(0x171)]({'where':{'_id':_0x2d36a5[_0x3567d6(0x9d)]}},{'unreadcount':0x0},this['instance'][_0x3567d6(0x38f)])),[_0x29e650,_0x3e12a1]=await Promise['all']([Promise[_0x3567d6(0x4f6)](_0x480e60),Promise[_0x3567d6(0x4f6)](_0x268938)]);return _0x3e12a1['filter'](_0x4b7a71=>_0x4b7a71!==null)[_0x3567d6(0xb2)](_0xc791e4=>{const _0x212198=_0x3567d6;F(this[_0x212198(0x7ab)],_0x212198(0x650),{'chat':_0xc791e4});}),{'message':'Read\x20messages','read':_0x3567d6(0x38e)};}catch(_0x8c3d6f){let _0x198157=_0x3567d6(0x750),_0x41414c=_0x8c3d6f instanceof Error?_0x8c3d6f['message']:typeof _0x8c3d6f=='object'?JSON[_0x3567d6(0x115)](_0x8c3d6f):_0x8c3d6f,_0x21531b=_0x198157+':\x20'+_0x41414c;throw this[_0x3567d6(0x671)]['error'](this[_0x3567d6(0x7ab)]+'\x20('+this[_0x3567d6(0x597)][_0x3567d6(0x38f)]+'):\x20'+_0x21531b),new x(_0x21531b);}}async[a0_0x1d7ec3(0x755)](_0x19ffe5){const _0x5d62d6=a0_0x1d7ec3;let _0x5f346a={'where':{'key':{'remoteJid':_0x19ffe5}},'limit':0x1},_0x52e358=await this[_0x5d62d6(0x317)](_0x5f346a);return _0x52e358||(this[_0x5d62d6(0x671)][_0x5d62d6(0x6f8)](_0x5d62d6(0x74b)+_0x19ffe5),null);}async[a0_0x1d7ec3(0xae)](_0x7c6bd5){const _0x3b2482=a0_0x1d7ec3;this[_0x3b2482(0x671)][_0x3b2482(0x244)](this[_0x3b2482(0x7ab)]+'\x20('+this['instance'][_0x3b2482(0x38f)]+_0x3b2482(0x787));try{let _0x1bf192=_0x7c6bd5[_0x3b2482(0x7d5)],_0x39b33e=_0x7c6bd5[_0x3b2482(0x39a)];if(!_0x1bf192&&_0x39b33e?_0x1bf192=await this[_0x3b2482(0x755)](_0x39b33e):(_0x1bf192=_0x7c6bd5[_0x3b2482(0x7d5)],_0x1bf192['messageTimestamp']=_0x1bf192?.[_0x3b2482(0x101)]??Date['now'](),_0x39b33e=_0x1bf192?.['key']?.['remoteJid']),!_0x1bf192||Object[_0x3b2482(0x29b)](_0x1bf192)['length']===0x0)throw new U(_0x3b2482(0x36d));this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x3b2482(0x38f)]+'):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x39b33e);try{await this['client'][_0x3b2482(0x7ca)]({'archive':_0x7c6bd5[_0x3b2482(0x4b6)],'lastMessages':[_0x1bf192]},this[_0x3b2482(0x339)](_0x39b33e));}catch(_0x2f6342){let _0x35ee8b=_0x3b2482(0x1a0)+_0x39b33e,_0x411602=_0x2f6342 instanceof Error?_0x2f6342[_0x3b2482(0x3bf)]:typeof _0x2f6342==_0x3b2482(0x4b9)?JSON['stringify'](_0x2f6342):_0x2f6342,_0x16539a=_0x35ee8b+':\x20'+_0x411602;this[_0x3b2482(0x671)][_0x3b2482(0x6f8)](this[_0x3b2482(0x7ab)]+'\x20('+this[_0x3b2482(0x597)]['wuid']+_0x3b2482(0x84)+_0x16539a);}this[_0x3b2482(0x671)][_0x3b2482(0x244)](this[_0x3b2482(0x7ab)]+'\x20('+this[_0x3b2482(0x597)]['wuid']+_0x3b2482(0x7f7)+_0x39b33e);let _0x3ea1da=await this['repository'][_0x3b2482(0x39a)][_0x3b2482(0x171)]({'where':{'_id':_0x1bf192?.[_0x3b2482(0x7e8)]?.[_0x3b2482(0x9d)]}},{'archived':_0x7c6bd5[_0x3b2482(0x4b6)]},this[_0x3b2482(0x597)][_0x3b2482(0x38f)]);return _0x3ea1da?(this[_0x3b2482(0x671)][_0x3b2482(0x244)](this[_0x3b2482(0x7ab)]+'\x20('+this[_0x3b2482(0x597)][_0x3b2482(0x38f)]+'):Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x3b2482(0x115)](_0x3ea1da)),F(this[_0x3b2482(0x7ab)],'chats',{'chat':_0x3ea1da})):this['logger'][_0x3b2482(0x6f8)](this[_0x3b2482(0x7ab)]+'\x20('+this['instance'][_0x3b2482(0x38f)]+_0x3b2482(0x39d)+_0x39b33e),{'chatId':_0x39b33e,'archived':_0x7c6bd5[_0x3b2482(0x4b6)]};}catch(_0x513158){let _0x35be9c=_0x3b2482(0x158),_0x60b641=_0x513158 instanceof Error?_0x513158[_0x3b2482(0x3bf)]:typeof _0x513158==_0x3b2482(0x4b9)?JSON[_0x3b2482(0x115)](_0x513158):_0x513158,_0x2b0472=_0x35be9c+':\x20'+_0x60b641;throw this['logger'][_0x3b2482(0x6f8)](this[_0x3b2482(0x7ab)]+'\x20('+this['instance']['wuid']+_0x3b2482(0x84)+_0x2b0472),new x(_0x2b0472);}}async[a0_0x1d7ec3(0x68d)](_0x2f608d){const _0x5d0157=a0_0x1d7ec3;this[_0x5d0157(0x671)][_0x5d0157(0x244)](this[_0x5d0157(0x7ab)]+'\x20('+this['instance'][_0x5d0157(0x38f)]+_0x5d0157(0x5c1));try{let _0x53e55d=await this[_0x5d0157(0x755)](_0x2f608d);if(!_0x53e55d||Object[_0x5d0157(0x29b)](_0x53e55d)[_0x5d0157(0x387)]===0x0)throw new U('Last\x20message\x20not\x20found');let _0x6a8870=_0x53e55d[0x0];this[_0x5d0157(0x671)]['verbose'](this[_0x5d0157(0x7ab)]+'\x20('+this['instance']['wuid']+_0x5d0157(0x41b)+_0x2f608d);try{await this['client'][_0x5d0157(0x7ca)]({'delete':!0x0,'lastMessages':[{'key':_0x6a8870[_0x5d0157(0x7e8)],'messageTimestamp':_0x6a8870[_0x5d0157(0x101)]}]},this[_0x5d0157(0x339)](_0x2f608d));}catch(_0x572da1){this['logger'][_0x5d0157(0x6f8)](_0x5d0157(0x1a0)+_0x2f608d+':\x20'+_0x572da1['toString']());}this[_0x5d0157(0x671)]['verbose'](this[_0x5d0157(0x7ab)]+'\x20('+this[_0x5d0157(0x597)]['wuid']+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x2f608d);return;}catch(_0x4a848c){throw this[_0x5d0157(0x671)][_0x5d0157(0x6f8)](this['instanceName']+'\x20('+this[_0x5d0157(0x597)]['wuid']+_0x5d0157(0x60d)+_0x4a848c[_0x5d0157(0x125)]()),new x({'archived':!0x1,'message':[_0x5d0157(0xec),_0x4a848c[_0x5d0157(0x125)]()]});}}async[a0_0x1d7ec3(0x2ab)](_0x4d213a){const _0x2efc28=a0_0x1d7ec3;try{let _0x20e2d5=await this[_0x2efc28(0x38a)]['sendMessage'](_0x4d213a['remoteJid'],{'delete':_0x4d213a});try{let _0x54979e=await this['updateMessage'](_0x4d213a,{'status':_0x2efc28(0x75b),'owner':this['instance'][_0x2efc28(0x38f)]});this[_0x2efc28(0x671)]['verbose'](this['instanceName']+'\x20('+this[_0x2efc28(0x597)]['wuid']+'):\x20updateResult:'+_0x54979e);}catch(_0x55f720){this[_0x2efc28(0x671)][_0x2efc28(0x6f8)](_0x2efc28(0x184)+_0x55f720);}return _0x20e2d5;}catch(_0x585f57){throw new x(_0x2efc28(0x226),_0x585f57?.[_0x2efc28(0x125)]());}}async['getBase64FromMediaMessage'](_0x52b370){const _0x204424=a0_0x1d7ec3;try{let _0x5d7040=_0x52b370?.[_0x204424(0x3bf)]?_0x52b370:await this['getMessage'](_0x52b370[_0x204424(0x7e8)],!0x0);for(let _0x24130c of Na)_0x5d7040[_0x204424(0x3bf)][_0x24130c]&&(_0x5d7040[_0x204424(0x3bf)]=_0x5d7040[_0x204424(0x3bf)][_0x24130c][_0x204424(0x3bf)]);let _0x40095e,_0x108aa8;for(let _0x22c3e4 of va)if(_0x40095e=_0x5d7040[_0x204424(0x3bf)][_0x22c3e4],_0x40095e){_0x108aa8=_0x22c3e4;break;}if(!_0x40095e)throw _0x204424(0x73a);typeof _0x40095e[_0x204424(0x356)]=='object'&&(_0x5d7040['message']=JSON[_0x204424(0x665)](JSON['stringify'](_0x5d7040[_0x204424(0x3bf)])));let _0x3910bd=await(0x0,w[_0x204424(0x596)])({'key':_0x5d7040?.['key'],'message':_0x5d7040?.[_0x204424(0x3bf)]},_0x204424(0x712),{},{'logger':(0x0,Ft['default'])({'level':_0x204424(0x37f)}),'reuploadRequest':this['client'][_0x204424(0x2c3)]});if(!(_0x3910bd instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x2ced20=this[_0x204424(0x75a)][_0x204424(0x332)](_0x204424(0x220)),_0xafc598,_0x2ace43;if(_0x40095e['fileName'])_0xafc598=_0x40095e[_0x204424(0x107)];else{let _0x2747d3=_0x40095e['mimetype']?.[_0x204424(0x20e)](/\/(\w+)/),_0x4210a9=_0x2747d3?_0x2747d3[0x1]:null;if(!_0x4210a9)throw new Error(_0x204424(0x3ce));_0xafc598=(0x0,Y['v4'])()+'.'+_0x4210a9;}_0x108aa8===_0x204424(0xee)?_0x2ace43=_0x204424(0x450)+await this['convertaudioMP3'](_0x3910bd[_0x204424(0x125)](_0x204424(0x4f4))):(await this[_0x204424(0x419)](_0x3910bd,_0xafc598),_0x2ace43=_0x204424(0x450)+_0xafc598);let _0x32ffd5=this[_0x204424(0x75a)][_0x204424(0x332)](_0x204424(0x1f2))[_0x204424(0x4e1)];if(!_0x32ffd5){let _0x569fd7=this[_0x204424(0x75a)][_0x204424(0x332)](_0x204424(0x4c4));_0x32ffd5='https://'+(_0x569fd7&&_0x569fd7['FULLCHAIN'][_0x204424(0x5f3)]('/')[0x4]);}_0x2ace43=''+_0x32ffd5+_0x2ace43;let _0x38beb2=0xc*0x3c*0x3c*0x3e8,_0xc976b5={'where':{'_id':_0x5d7040[_0x204424(0x7e8)]['id']}},_0x3808a6={'message_normalized.fileUrl':_0x2ace43,'message_normalized.expires_fileUrl':Date[_0x204424(0xe6)]()+_0x38beb2};try{let _0x236d52=await this['repository'][_0x204424(0x3bf)][_0x204424(0x6c4)](_0xc976b5,_0x3808a6,this[_0x204424(0x597)][_0x204424(0x38f)]);_0x236d52&&F(this[_0x204424(0x7ab)],_0x204424(0x242),{'message':_0x236d52});}catch(_0x18c4c3){let _0x1cf9d5=_0x204424(0x236),_0x4001f4=_0x18c4c3 instanceof Error?_0x18c4c3[_0x204424(0x3bf)]:typeof _0x18c4c3==_0x204424(0x4b9)?JSON[_0x204424(0x115)](_0x18c4c3):_0x18c4c3,_0x399f99=_0x1cf9d5+':\x20'+_0x4001f4;this[_0x204424(0x671)][_0x204424(0x6f8)](this['instanceName']+'\x20('+this[_0x204424(0x597)][_0x204424(0x38f)]+_0x204424(0x84)+_0x399f99);}return{'mediaType':_0x108aa8,'fileName':_0x40095e[_0x204424(0x107)],'caption':_0x40095e[_0x204424(0x4ab)],'size':{'fileLength':_0x40095e[_0x204424(0x4a9)],'height':_0x40095e[_0x204424(0x6d6)],'width':_0x40095e[_0x204424(0x439)]},'mimetype':_0x40095e[_0x204424(0xd5)],'base64':_0x3910bd['toString'](_0x204424(0x4f4)),'fileUrl':_0x2ace43,'expires_fileUrl':Date[_0x204424(0xe6)]()+_0x38beb2};}catch(_0x2ee57c){let _0x10376e=_0x204424(0x6d8),_0xa5e3b0=_0x2ee57c instanceof Error?_0x2ee57c[_0x204424(0x3bf)]:typeof _0x2ee57c==_0x204424(0x4b9)?JSON[_0x204424(0x115)](_0x2ee57c):_0x2ee57c,_0x48f45b=_0x10376e+':\x20'+_0xa5e3b0;throw this['logger'][_0x204424(0x6f8)](this['instanceName']+'\x20('+this[_0x204424(0x597)][_0x204424(0x38f)]+_0x204424(0x84)+_0x48f45b),new m(_0x48f45b);}}async[a0_0x1d7ec3(0x419)](_0x4c4bb9,_0xdfc872){const _0x5095f0=a0_0x1d7ec3;let _0x18b715=j['default']['join'](__dirname,_0x5095f0(0x6b9));k[_0x5095f0(0x2fb)](_0x18b715)||k['mkdirSync'](_0x18b715,{'recursive':!0x0});let _0x4d1983=j['default']['join'](_0x18b715,_0xdfc872);return new Promise((_0x17c4a8,_0x286d16)=>{k['writeFile'](_0x4d1983,_0x4c4bb9,_0x59aeff=>{const _0x32cc9c=a0_0x5af0;_0x59aeff?(this['logger'][_0x32cc9c(0x6f8)](_0x32cc9c(0x1b0)+(_0x59aeff instanceof Error?_0x59aeff[_0x32cc9c(0x3bf)]:JSON[_0x32cc9c(0x115)](_0x59aeff,null,0x2))),_0x286d16(_0x59aeff)):(this[_0x32cc9c(0x671)]['log'](_0x32cc9c(0x87)+_0x4d1983),_0x17c4a8(_0x4d1983));});});}async[a0_0x1d7ec3(0x63b)](_0xe5a1e2){const _0x153adb=a0_0x1d7ec3;return await this['repository'][_0x153adb(0x407)][_0x153adb(0x44c)](_0xe5a1e2,this[_0x153adb(0x597)]['wuid']);}async[a0_0x1d7ec3(0x76f)](){const _0x56a0c6=a0_0x1d7ec3;return await this[_0x56a0c6(0x2d1)]['label'][_0x56a0c6(0x44c)]({'where':{}},this[_0x56a0c6(0x597)][_0x56a0c6(0x38f)]);}async[a0_0x1d7ec3(0x317)](_0x4e45e9){const _0x5191c2=a0_0x1d7ec3;return await this[_0x5191c2(0x2d1)]['message'][_0x5191c2(0x44c)](_0x4e45e9,this[_0x5191c2(0x597)][_0x5191c2(0x38f)]);}async['fetchChats'](){const _0x44f76c=a0_0x1d7ec3;return this[_0x44f76c(0x2d1)][_0x44f76c(0x39a)][_0x44f76c(0x78c)](this[_0x44f76c(0x597)]['wuid']),this[_0x44f76c(0x2d1)][_0x44f76c(0x39a)][_0x44f76c(0x46e)](this[_0x44f76c(0x597)][_0x44f76c(0x38f)]),this['repository'][_0x44f76c(0x39a)][_0x44f76c(0x7e9)](this[_0x44f76c(0x597)][_0x44f76c(0x38f)]),this[_0x44f76c(0x2d1)][_0x44f76c(0x39a)]['updateMissingCustomFields'](this[_0x44f76c(0x597)][_0x44f76c(0x38f)]),await this[_0x44f76c(0x2d1)]['chat']['find']({'where':{}},this[_0x44f76c(0x597)][_0x44f76c(0x38f)]);}async[a0_0x1d7ec3(0x4ef)](_0x1346fb){const _0x55201e=a0_0x1d7ec3;try{if(!Array[_0x55201e(0xab)](_0x1346fb)||_0x1346fb['length']===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x593653=[],_0x4bd837=[];for(let _0x27969b of _0x1346fb){if(_0x27969b[_0x55201e(0x6ee)])_0x27969b[_0x55201e(0x6ee)]=this[_0x55201e(0x339)](_0x27969b[_0x55201e(0x6ee)]);else continue;await this['repository'][_0x55201e(0x39a)][_0x55201e(0x6f0)]({'where':{'_id':_0x27969b[_0x55201e(0x6ee)]}},this[_0x55201e(0x597)][_0x55201e(0x38f)])?_0x4bd837[_0x55201e(0x1fc)]({'_id':_0x27969b[_0x55201e(0x6ee)],'leadInfo':_0x27969b[_0x55201e(0x1b4)],'owner':this[_0x55201e(0x597)]['wuid']}):_0x593653[_0x55201e(0x1fc)]({'_id':_0x27969b[_0x55201e(0x6ee)],'owner':this[_0x55201e(0x597)][_0x55201e(0x38f)],'leadInfo':_0x27969b[_0x55201e(0x1b4)],'imported':!0x0});}return _0x4bd837[_0x55201e(0x387)]>0x0&&await this[_0x55201e(0x2d1)][_0x55201e(0x39a)][_0x55201e(0x3d6)](_0x4bd837[_0x55201e(0x5c2)](_0x7f15bf=>({'query':{'where':{'_id':_0x7f15bf[_0x55201e(0x6ee)],'owner':this[_0x55201e(0x597)][_0x55201e(0x38f)]}},'update':_0x7f15bf}))),_0x593653['length']>0x0&&await this[_0x55201e(0x2d1)][_0x55201e(0x39a)][_0x55201e(0x7ea)](_0x593653,this[_0x55201e(0x597)][_0x55201e(0x38f)]),{'updated':_0x4bd837[_0x55201e(0x387)],'inserted':_0x593653[_0x55201e(0x387)]};}catch(_0x4721cd){let _0x1f3f5e='Erro\x20ao\x20importar\x20chats',_0x479d41=_0x4721cd instanceof Error?_0x4721cd[_0x55201e(0x3bf)]:typeof _0x4721cd==_0x55201e(0x4b9)?JSON[_0x55201e(0x115)](_0x4721cd):_0x4721cd,_0x5ea83f=_0x1f3f5e+':\x20'+_0x479d41;throw this[_0x55201e(0x671)][_0x55201e(0x6f8)](this[_0x55201e(0x7ab)]+'\x20('+this[_0x55201e(0x597)][_0x55201e(0x38f)]+_0x55201e(0x84)+_0x5ea83f),new m(_0x5ea83f);}}async[a0_0x1d7ec3(0x180)](_0x422e9b){const _0x1d2ecf=a0_0x1d7ec3;try{if(!Array[_0x1d2ecf(0xab)](_0x422e9b)||_0x422e9b[_0x1d2ecf(0x387)]===0x0)throw new Error(_0x1d2ecf(0x274));let _0x59a807=0x64,_0x4046b4=0x0;for(let _0x1a40f2=0x0;_0x1a40f2<_0x422e9b[_0x1d2ecf(0x387)];_0x1a40f2+=_0x59a807){let _0x2bf42f=_0x422e9b[_0x1d2ecf(0x75d)](_0x1a40f2,_0x1a40f2+_0x59a807),{updated:_0x4830a5}=await this[_0x1d2ecf(0x56d)](_0x2bf42f);_0x4046b4+=_0x4830a5;}return{'updated':_0x4046b4};}catch(_0x1f8032){let _0x2f6ba4='Erro\x20ao\x20importar\x20chats',_0x224415=_0x1f8032 instanceof Error?_0x1f8032[_0x1d2ecf(0x3bf)]:typeof _0x1f8032==_0x1d2ecf(0x4b9)?JSON[_0x1d2ecf(0x115)](_0x1f8032):_0x1f8032,_0x307520=_0x2f6ba4+':\x20'+_0x224415;throw this[_0x1d2ecf(0x671)][_0x1d2ecf(0x6f8)](this[_0x1d2ecf(0x7ab)]+'\x20('+this['instance'][_0x1d2ecf(0x38f)]+_0x1d2ecf(0x84)+_0x307520),new m(_0x307520);}}async[a0_0x1d7ec3(0x56d)](_0x14d413){const _0x9d8a7e=a0_0x1d7ec3;try{let _0x197d0b=await this[_0x9d8a7e(0x2d1)][_0x9d8a7e(0x1e6)]['find']({'where':{}},this[_0x9d8a7e(0x597)][_0x9d8a7e(0x38f)]),_0x185f3f=new Set(_0x197d0b[_0x9d8a7e(0x5c2)](_0x2b9a7c=>_0x2b9a7c[_0x9d8a7e(0x6ee)])),_0x46aab9=[],_0xde938=[];for(let _0x127cb5 of _0x14d413){if(!_0x127cb5['_id'])continue;_0x127cb5[_0x9d8a7e(0x6ee)]=this['createJid'](_0x127cb5[_0x9d8a7e(0x6ee)]);let _0x128fd0=await this[_0x9d8a7e(0x2d1)][_0x9d8a7e(0x39a)]['findOne']({'where':{'_id':_0x127cb5[_0x9d8a7e(0x6ee)]}},this['instance']['wuid']),_0x22526d={};if(Object['entries'](_0x127cb5['leadInfo'])[_0x9d8a7e(0xb2)](([_0x29abe3,_0x115872])=>{const _0xfc6993=_0x9d8a7e;_0x22526d[_0xfc6993(0x1cc)+_0x29abe3]=_0x115872;}),_0x128fd0&&!_0x128fd0[_0x9d8a7e(0x5f8)]){let _0x84a928=(_0x127cb5[_0x9d8a7e(0x1b4)][_0x9d8a7e(0x71d)]||[])[_0x9d8a7e(0x350)](_0x4170f5=>_0x185f3f[_0x9d8a7e(0x6ac)](_0x4170f5)),_0x4fe831=new Set(_0x128fd0[_0x9d8a7e(0x1b4)][_0x9d8a7e(0x71d)]||[]),_0x3716b0=_0x84a928[_0x9d8a7e(0x350)](_0x490428=>!_0x4fe831[_0x9d8a7e(0x6ac)](_0x490428)),_0x5f1b3a=[..._0x4fe831][_0x9d8a7e(0x350)](_0x56b0c0=>!_0x84a928[_0x9d8a7e(0x603)](_0x56b0c0));_0xde938[_0x9d8a7e(0x1fc)](..._0x3716b0[_0x9d8a7e(0x5c2)](_0x9c9ac8=>this['AddChatLabel'](_0x9c9ac8,_0x127cb5[_0x9d8a7e(0x6ee)]))),_0xde938[_0x9d8a7e(0x1fc)](..._0x5f1b3a[_0x9d8a7e(0x5c2)](_0x1eb274=>this[_0x9d8a7e(0x47e)](_0x1eb274,_0x127cb5['_id']))),_0x127cb5[_0x9d8a7e(0x1b4)][_0x9d8a7e(0x71d)]=_0x84a928,_0x46aab9[_0x9d8a7e(0x1fc)]({'query':{'where':{'_id':_0x127cb5['_id'],'owner':this[_0x9d8a7e(0x597)][_0x9d8a7e(0x38f)]}},'update':_0x22526d});}else _0x22526d[_0x9d8a7e(0x5f8)]=!0x0,_0x46aab9[_0x9d8a7e(0x1fc)]({'query':{'where':{'_id':_0x127cb5[_0x9d8a7e(0x6ee)],'owner':this[_0x9d8a7e(0x597)]['wuid']}},'update':_0x22526d});}let _0x15c96b=await this[_0x9d8a7e(0x2d1)][_0x9d8a7e(0x39a)][_0x9d8a7e(0x3d6)](_0x46aab9);return await Promise[_0x9d8a7e(0x4f6)](_0xde938),{'updated':_0x15c96b};}catch(_0x12c54e){let _0x41788c='Erro\x20ao\x20importar\x20chats',_0x524106=_0x12c54e instanceof Error?_0x12c54e[_0x9d8a7e(0x3bf)]:typeof _0x12c54e=='object'?JSON['stringify'](_0x12c54e):_0x12c54e,_0x252fef=_0x41788c+':\x20'+_0x524106;throw this[_0x9d8a7e(0x671)][_0x9d8a7e(0x6f8)](this['instanceName']+'\x20('+this['instance'][_0x9d8a7e(0x38f)]+_0x9d8a7e(0x84)+_0x252fef),new m(_0x252fef);}}async[a0_0x1d7ec3(0x299)](){const _0x1b383e=a0_0x1d7ec3;return await this[_0x1b383e(0x38a)][_0x1b383e(0x299)]();}async['updatePrivacySettings'](_0x478a45){const _0x254384=a0_0x1d7ec3;try{return await this[_0x254384(0x38a)][_0x254384(0x4f1)](_0x478a45[_0x254384(0x668)][_0x254384(0x79e)]),await this['client'][_0x254384(0x479)](_0x478a45[_0x254384(0x668)]['profile']),await this['client']['updateStatusPrivacy'](_0x478a45[_0x254384(0x668)]['status']),await this['client']['updateOnlinePrivacy'](_0x478a45['privacySettings']['online']),await this[_0x254384(0x38a)][_0x254384(0x99)](_0x478a45[_0x254384(0x668)]['last']),await this['client'][_0x254384(0x76d)](_0x478a45[_0x254384(0x668)][_0x254384(0x29e)]),this[_0x254384(0x38a)]?.['ws']?.[_0x254384(0x4fe)](),{'update':'success','data':{'readreceipts':_0x478a45[_0x254384(0x668)]['readreceipts'],'profile':_0x478a45[_0x254384(0x668)][_0x254384(0x3b5)],'status':_0x478a45['privacySettings'][_0x254384(0x77f)],'online':_0x478a45['privacySettings'][_0x254384(0x496)],'last':_0x478a45['privacySettings']['last'],'groupadd':_0x478a45[_0x254384(0x668)][_0x254384(0x29e)]}};}catch(_0x4fec98){let _0x404a49=_0x254384(0x16b),_0x545487=_0x4fec98 instanceof Error?_0x4fec98[_0x254384(0x3bf)]:typeof _0x4fec98==_0x254384(0x4b9)?JSON[_0x254384(0x115)](_0x4fec98):_0x4fec98,_0x553bd2=_0x404a49+':\x20'+_0x545487;throw this[_0x254384(0x671)]['error'](this[_0x254384(0x7ab)]+'\x20('+this[_0x254384(0x597)]['wuid']+'):\x20'+_0x553bd2),new m(_0x553bd2);}}async[a0_0x1d7ec3(0x79d)](_0x4ed0e9){const _0x3186f7=a0_0x1d7ec3;let _0x549d4f=(_0x4ed0e9?this[_0x3186f7(0x339)](_0x4ed0e9):this[_0x3186f7(0x38a)]?.[_0x3186f7(0x763)]?.['id'])[_0x3186f7(0x404)](/:\d{1,2}@/g,'@');this[_0x3186f7(0x671)]['verbose'](this[_0x3186f7(0x7ab)]+'\x20('+this[_0x3186f7(0x597)][_0x3186f7(0x38f)]+_0x3186f7(0xe8)+_0x549d4f);let _0x1c1a4e=await this[_0x3186f7(0x2d1)][_0x3186f7(0x407)][_0x3186f7(0x6f0)]({'where':{'_id':_0x549d4f}},this[_0x3186f7(0x597)][_0x3186f7(0x38f)]),_0x41d010=_0x1c1a4e?_0x1c1a4e['pushName']:null;try{let _0x1fde2b=(await this['whatsappNumber']({'numbers':[_0x549d4f]}))?.['shift'](),_0x52a3d5=(await this[_0x3186f7(0x6e8)](_0x549d4f,null,!0x1))[_0x3186f7(0x510)][_0x3186f7(0x36e)],_0x4b96bd=await this[_0x3186f7(0x52d)](_0x1fde2b?.['jid']),_0x5541b0=await this[_0x3186f7(0x119)](_0x1fde2b?.['jid']),_0x3d445a=(await this[_0x3186f7(0x6e8)](_0x549d4f,null,!0x1))['cachedContact']['name'],_0x2b0101=await this[_0x3186f7(0x2d1)]['chat']['findOne']({'where':{'_id':_0x549d4f}},this['instance'][_0x3186f7(0x38f)]),_0xb27b80={'imagechat':_0x52a3d5,'contactname':_0x41d010||null,'pushName':_0x3d445a,'status':_0x4b96bd?.[_0x3186f7(0x77f)],'isBusiness':_0x5541b0[_0x3186f7(0x2b3)],'email':_0x5541b0?.[_0x3186f7(0x280)],'description':_0x5541b0?.[_0x3186f7(0x675)],'website':_0x5541b0?.['website']?.[_0x3186f7(0x6d7)](),'lastcache':Date[_0x3186f7(0xe6)](),'imported':!_0x2b0101},_0x325e8e=await this[_0x3186f7(0x2d1)][_0x3186f7(0x39a)][_0x3186f7(0x171)]({'where':{'_id':_0x549d4f}},_0xb27b80,this[_0x3186f7(0x597)][_0x3186f7(0x38f)]),_0x1ecf6e={'owner':this['instance'][_0x3186f7(0x38f)],'_id':_0x549d4f,'profilePictureUrl':_0x52a3d5,'status':_0x4b96bd?.[_0x3186f7(0x77f)]};return this[_0x3186f7(0x2d1)][_0x3186f7(0x407)][_0x3186f7(0x6c4)]([_0x1ecf6e],this[_0x3186f7(0x597)][_0x3186f7(0x38f)]),_0x325e8e&&F(this[_0x3186f7(0x7ab)],_0x3186f7(0x650),{'chat':_0x325e8e}),{'wuid':_0x1fde2b?.[_0x3186f7(0x495)]||_0x549d4f,'name':_0x1fde2b?.['name'],'pushName':_0x3d445a,'numberExists':_0x1fde2b?.[_0x3186f7(0x7e0)],'picture':_0x52a3d5,'status':_0x4b96bd?.[_0x3186f7(0x77f)],'isBusiness':_0x5541b0[_0x3186f7(0x2b3)],'email':_0x5541b0?.[_0x3186f7(0x280)],'description':_0x5541b0?.[_0x3186f7(0x675)],'website':_0x5541b0?.[_0x3186f7(0x58d)]?.[_0x3186f7(0x6d7)]()};}catch(_0x4f23e7){return this[_0x3186f7(0x671)][_0x3186f7(0x6f8)](_0x3186f7(0x1d2)+(_0x4f23e7 instanceof Error?_0x4f23e7[_0x3186f7(0x3bf)]:JSON[_0x3186f7(0x115)](_0x4f23e7,null,0x2))),{};}}async[a0_0x1d7ec3(0x119)](_0x5f0713){const _0x186334=a0_0x1d7ec3;this['logger'][_0x186334(0x244)](this['instanceName']+'\x20('+this[_0x186334(0x597)][_0x186334(0x38f)]+'):Fetching\x20business\x20profile');try{let _0x3178fd=_0x5f0713?this[_0x186334(0x339)](_0x5f0713):this[_0x186334(0x597)][_0x186334(0x38f)],_0x39b78e=await this[_0x186334(0x38a)][_0x186334(0x51d)](_0x3178fd);return this[_0x186334(0x671)][_0x186334(0x244)](this['instanceName']+'\x20('+this[_0x186334(0x597)]['wuid']+'):Trying\x20to\x20get\x20business\x20profile'),_0x39b78e?(this[_0x186334(0x671)][_0x186334(0x244)](this[_0x186334(0x7ab)]+'\x20('+this[_0x186334(0x597)]['wuid']+_0x186334(0x70b)),{'isBusiness':!0x0,..._0x39b78e}):{'isBusiness':!0x1,'message':_0x186334(0x183),...(await this[_0x186334(0x691)]({'numbers':[_0x3178fd]}))?.[_0x186334(0x6d7)]()};}catch(_0x2fc70f){let _0xf7ac82=_0x186334(0x5dd),_0x3a6d81=_0x2fc70f instanceof Error?_0x2fc70f[_0x186334(0x3bf)]:typeof _0x2fc70f==_0x186334(0x4b9)?JSON[_0x186334(0x115)](_0x2fc70f):_0x2fc70f,_0x98bdc7=_0xf7ac82+':\x20'+_0x3a6d81;throw this[_0x186334(0x671)][_0x186334(0x6f8)](this[_0x186334(0x7ab)]+'\x20('+this[_0x186334(0x597)][_0x186334(0x38f)]+'):\x20'+_0x98bdc7),new x(_0x98bdc7);}}async[a0_0x1d7ec3(0x52d)](_0x19dacc){let _0x4246fe=this['createJid'](_0x19dacc);try{return{'wuid':_0x4246fe,'status':(await this['client']['fetchStatus'](_0x4246fe))[0x0]?.['status']};}catch{return{'wuid':_0x4246fe,'status':null};}}async[a0_0x1d7ec3(0x321)](_0x195401){const _0x431f73=a0_0x1d7ec3;try{return await this[_0x431f73(0x38a)][_0x431f73(0x321)](_0x195401),{'update':_0x431f73(0x38e)};}catch(_0x1fca5d){let _0x932329=_0x431f73(0x11f),_0x515b38=_0x1fca5d instanceof Error?_0x1fca5d[_0x431f73(0x3bf)]:typeof _0x1fca5d==_0x431f73(0x4b9)?JSON[_0x431f73(0x115)](_0x1fca5d):_0x1fca5d,_0x34ee13=_0x932329+':\x20'+_0x515b38;throw this[_0x431f73(0x671)]['error'](this[_0x431f73(0x7ab)]+'\x20('+this[_0x431f73(0x597)][_0x431f73(0x38f)]+_0x431f73(0x84)+_0x34ee13),new x(_0x34ee13);}}async[a0_0x1d7ec3(0x1f7)](_0x24ec4f){const _0x1fb58f=a0_0x1d7ec3;try{return await this['client'][_0x1fb58f(0x1f7)](_0x24ec4f),{'update':_0x1fb58f(0x38e)};}catch(_0xc7d5ae){let _0x5d8027=_0x1fb58f(0xaf),_0x45cc65=_0xc7d5ae instanceof Error?_0xc7d5ae[_0x1fb58f(0x3bf)]:typeof _0xc7d5ae==_0x1fb58f(0x4b9)?JSON[_0x1fb58f(0x115)](_0xc7d5ae):_0xc7d5ae,_0x120ebb=_0x5d8027+':\x20'+_0x45cc65;throw this['logger'][_0x1fb58f(0x6f8)](this['instanceName']+'\x20('+this[_0x1fb58f(0x597)][_0x1fb58f(0x38f)]+'):\x20'+_0x120ebb),new x(_0x120ebb);}}async[a0_0x1d7ec3(0x714)](_0x2b657b){const _0x2ea67c=a0_0x1d7ec3;try{let _0x2da7df;if((0x0,J[_0x2ea67c(0x295)])(_0x2b657b)){let _0x41a9e1=new Date()[_0x2ea67c(0x736)](),_0x221c8b=_0x2b657b+_0x2ea67c(0x286)+_0x41a9e1;_0x2da7df=(await Q[_0x2ea67c(0x1af)][_0x2ea67c(0x332)](_0x221c8b,{'responseType':_0x2ea67c(0x305)}))[_0x2ea67c(0x470)];}else{if((0x0,J[_0x2ea67c(0x4b2)])(_0x2b657b))_0x2da7df=Buffer[_0x2ea67c(0x7d6)](_0x2b657b,_0x2ea67c(0x4f4));else throw new m(_0x2ea67c(0x692));}return await this[_0x2ea67c(0x38a)][_0x2ea67c(0x714)](this['instance'][_0x2ea67c(0x38f)],_0x2da7df),{'update':_0x2ea67c(0x38e)};}catch(_0x4c2627){let _0x1018e9=_0x2ea67c(0x17b),_0x84f788=_0x4c2627 instanceof Error?_0x4c2627[_0x2ea67c(0x3bf)]:typeof _0x4c2627==_0x2ea67c(0x4b9)?JSON[_0x2ea67c(0x115)](_0x4c2627):_0x4c2627,_0x4ec5f6=_0x1018e9+':\x20'+_0x84f788;throw this[_0x2ea67c(0x671)][_0x2ea67c(0x6f8)](this['instanceName']+'\x20('+this[_0x2ea67c(0x597)]['wuid']+_0x2ea67c(0x84)+_0x4ec5f6),new x(_0x4ec5f6);}}async['removeProfilePicture'](){const _0x5ca271=a0_0x1d7ec3;try{return await this[_0x5ca271(0x38a)][_0x5ca271(0x778)](this[_0x5ca271(0x597)][_0x5ca271(0x38f)]),{'update':'success'};}catch(_0x29bd02){let _0x5d5f5c=_0x5ca271(0x309),_0x1bb3dd=_0x29bd02 instanceof Error?_0x29bd02[_0x5ca271(0x3bf)]:typeof _0x29bd02==_0x5ca271(0x4b9)?JSON[_0x5ca271(0x115)](_0x29bd02):_0x29bd02,_0x222498=_0x5d5f5c+':\x20'+_0x1bb3dd;throw this[_0x5ca271(0x671)][_0x5ca271(0x6f8)](this[_0x5ca271(0x7ab)]+'\x20('+this['instance'][_0x5ca271(0x38f)]+'):\x20'+_0x222498),new x(_0x222498);}}async[a0_0x1d7ec3(0x752)](_0x12e5a){const _0x2beb0f=a0_0x1d7ec3;try{let _0x54109d=(await this[_0x2beb0f(0x691)]({'numbers':_0x12e5a[_0x2beb0f(0x68a)]}))[_0x2beb0f(0x350)](_0x5c14d0=>_0x5c14d0['exists'])[_0x2beb0f(0x5c2)](_0x5303a3=>_0x5303a3[_0x2beb0f(0x495)]),{id:_0x231113}=await this[_0x2beb0f(0x38a)]['groupCreate'](_0x12e5a[_0x2beb0f(0x6dd)],_0x54109d);_0x12e5a?.[_0x2beb0f(0x675)]&&await this[_0x2beb0f(0x38a)]['groupUpdateDescription'](_0x231113,_0x12e5a[_0x2beb0f(0x675)]);let _0x109bfd=await this[_0x2beb0f(0x38a)][_0x2beb0f(0x7d7)](_0x231113);return _0x109bfd[_0x2beb0f(0x4e0)]=[],await this[_0x2beb0f(0x7a7)](_0x109bfd),{'metadata':_0x109bfd};}catch(_0x239514){let _0x119bd3=_0x2beb0f(0x2b4),_0x394096=_0x239514 instanceof Error?_0x239514[_0x2beb0f(0x3bf)]:typeof _0x239514==_0x2beb0f(0x4b9)?JSON[_0x2beb0f(0x115)](_0x239514):_0x239514,_0xd027dd=_0x119bd3+':\x20'+_0x394096;throw this['logger'][_0x2beb0f(0x6f8)](this[_0x2beb0f(0x7ab)]+'\x20('+this[_0x2beb0f(0x597)][_0x2beb0f(0x38f)]+_0x2beb0f(0x84)+_0xd027dd),new x(_0xd027dd);}}async['groupBetterSetting'](_0x1a9130){const _0x513bf1=a0_0x1d7ec3;try{if(_0x1a9130[_0x513bf1(0x6ff)]===!0x0&&await this['client'][_0x513bf1(0x553)](_0x1a9130[_0x513bf1(0x168)],_0x513bf1(0x5ff)),_0x1a9130[_0x513bf1(0x6ff)]===!0x1&&await this[_0x513bf1(0x38a)]['groupSettingUpdate'](_0x1a9130[_0x513bf1(0x168)],_0x513bf1(0x1f1)),_0x1a9130[_0x513bf1(0x2a0)]===!0x0&&await this['client'][_0x513bf1(0x553)](_0x1a9130[_0x513bf1(0x168)],_0x513bf1(0x620)),_0x1a9130[_0x513bf1(0x2a0)]===!0x1&&await this[_0x513bf1(0x38a)][_0x513bf1(0x553)](_0x1a9130[_0x513bf1(0x168)],_0x513bf1(0x14e)),_0x1a9130[_0x513bf1(0xa4)]===!0x0&&await this[_0x513bf1(0x38a)][_0x513bf1(0x2bf)](_0x1a9130[_0x513bf1(0x168)],_0x513bf1(0x3ac)),_0x1a9130[_0x513bf1(0xa4)]===!0x1&&await this['client']['groupMemberAddMode'](_0x1a9130[_0x513bf1(0x168)],_0x513bf1(0x146)),_0x1a9130[_0x513bf1(0x6b2)]===!0x0&&await this[_0x513bf1(0x38a)][_0x513bf1(0x20b)](_0x1a9130[_0x513bf1(0x168)],'on'),_0x1a9130[_0x513bf1(0x6b2)]===!0x1&&await this[_0x513bf1(0x38a)][_0x513bf1(0x20b)](_0x1a9130[_0x513bf1(0x168)],_0x513bf1(0x4f2)),typeof _0x1a9130['expiration']<'u'&&_0x1a9130[_0x513bf1(0x28c)]!==null&&await this['client'][_0x513bf1(0x201)](_0x1a9130['groupJid'],_0x1a9130[_0x513bf1(0x28c)]),_0x1a9130[_0x513bf1(0x70c)]&&await this['client'][_0x513bf1(0x6cc)](_0x1a9130[_0x513bf1(0x168)],_0x1a9130[_0x513bf1(0x70c)]),_0x1a9130[_0x513bf1(0x675)]&&await this[_0x513bf1(0x38a)][_0x513bf1(0x23a)](_0x1a9130[_0x513bf1(0x168)],_0x1a9130[_0x513bf1(0x675)]),_0x1a9130[_0x513bf1(0x77d)]){let _0x43b3c4;if((0x0,J[_0x513bf1(0x295)])(_0x1a9130[_0x513bf1(0x77d)])){let _0x3108dc=new Date()['getTime'](),_0x1a98d0=_0x1a9130[_0x513bf1(0x77d)]+_0x513bf1(0x286)+_0x3108dc;_0x43b3c4=(await Q['default']['get'](_0x1a98d0,{'responseType':_0x513bf1(0x305)}))['data'];}else{if((0x0,J[_0x513bf1(0x4b2)])(_0x1a9130['image']))_0x43b3c4=Buffer['from'](_0x1a9130[_0x513bf1(0x77d)],'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this[_0x513bf1(0x38a)][_0x513bf1(0x714)](_0x1a9130['groupJid'],_0x43b3c4);}return await this[_0x513bf1(0x564)]({'groupJid':_0x1a9130[_0x513bf1(0x168)]});}catch(_0x2aa2f4){let _0x383efa='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting',_0x5fb4c7=_0x2aa2f4 instanceof Error?_0x2aa2f4['message']:typeof _0x2aa2f4==_0x513bf1(0x4b9)?JSON[_0x513bf1(0x115)](_0x2aa2f4):_0x2aa2f4,_0x31590d=_0x383efa+':\x20'+_0x5fb4c7;throw this[_0x513bf1(0x671)][_0x513bf1(0x6f8)](this[_0x513bf1(0x7ab)]+'\x20('+this[_0x513bf1(0x597)][_0x513bf1(0x38f)]+_0x513bf1(0x84)+_0x31590d),new x(_0x31590d);}}async['updateGParticipant'](_0x369d88){const _0x4b9824=a0_0x1d7ec3;try{let _0x3db191=_0x369d88['participants'][_0x4b9824(0x5c2)](_0x562442=>this[_0x4b9824(0x339)](_0x562442));if(_0x369d88[_0x4b9824(0x6a5)]===_0x4b9824(0x2af)||_0x369d88[_0x4b9824(0x6a5)]===_0x4b9824(0x705))await this[_0x4b9824(0x38a)][_0x4b9824(0x410)](_0x369d88[_0x4b9824(0x168)],_0x3db191,_0x369d88[_0x4b9824(0x6a5)]);else{if(_0x369d88['action']===_0x4b9824(0x2ea)){let _0x48c725=(await this['whatsappNumber']({'numbers':_0x369d88[_0x4b9824(0x68a)]}))[_0x4b9824(0x350)](_0x4ae176=>_0x4ae176[_0x4b9824(0x7e0)])['map'](_0x4745ad=>this[_0x4b9824(0x339)](_0x4745ad[_0x4b9824(0x495)]));if(_0x48c725['length']===0x0)throw new m(_0x4b9824(0x354));await this[_0x4b9824(0x38a)][_0x4b9824(0x5eb)](_0x369d88[_0x4b9824(0x168)],_0x48c725,_0x4b9824(0x2ea));}else await this[_0x4b9824(0x38a)][_0x4b9824(0x5eb)](_0x369d88[_0x4b9824(0x168)],_0x3db191,_0x369d88[_0x4b9824(0x6a5)]);}return await this[_0x4b9824(0x564)]({'groupJid':_0x369d88['groupJid']});}catch(_0x2f0c9a){let _0x45e42d=_0x4b9824(0x19f),_0x39a826=_0x2f0c9a instanceof Error?_0x2f0c9a[_0x4b9824(0x3bf)]:typeof _0x2f0c9a==_0x4b9824(0x4b9)?JSON[_0x4b9824(0x115)](_0x2f0c9a):_0x2f0c9a,_0x2ecbed=_0x45e42d+':\x20'+_0x39a826;throw this['logger'][_0x4b9824(0x6f8)](this['instanceName']+'\x20('+this[_0x4b9824(0x597)][_0x4b9824(0x38f)]+_0x4b9824(0x84)+_0x2ecbed),new m(_0x2ecbed);}}async[a0_0x1d7ec3(0x486)](_0x5009c9){const _0x10ee38=a0_0x1d7ec3;try{return await this[_0x10ee38(0x38a)][_0x10ee38(0x486)](_0x5009c9['inviteCode']);}catch(_0x8d37d0){let _0x19b750=_0x10ee38(0x5ba),_0x17602c=_0x8d37d0 instanceof Error?_0x8d37d0[_0x10ee38(0x3bf)]:typeof _0x8d37d0==_0x10ee38(0x4b9)?JSON[_0x10ee38(0x115)](_0x8d37d0):_0x8d37d0,_0x117b66=_0x19b750+':\x20'+_0x17602c;throw this[_0x10ee38(0x671)][_0x10ee38(0x6f8)](this[_0x10ee38(0x7ab)]+'\x20('+this[_0x10ee38(0x597)][_0x10ee38(0x38f)]+'):\x20'+_0x117b66),new m(_0x117b66);}}async[a0_0x1d7ec3(0x564)](_0xfd162c,_0x486f19=a0_0x1d7ec3(0x108)){const _0x40bd58=a0_0x1d7ec3;try{let _0x389335=await this[_0x40bd58(0x2d1)]['chat'][_0x40bd58(0x6f0)]({'where':{'_id':_0xfd162c[_0x40bd58(0x168)]}},this[_0x40bd58(0x597)][_0x40bd58(0x38f)]),_0x179e31=_0x389335?_0x389335['groupdata']:null,_0x538422=0x18*0x3c*0x3c*0x3e8;if(!_0x179e31||_0x179e31[_0x40bd58(0x237)]&&Date[_0x40bd58(0xe6)]()-_0x179e31['lastUpdate']>_0x538422){let _0x5c2a16=await this[_0x40bd58(0x38a)][_0x40bd58(0x7d7)](_0xfd162c['groupJid']);if(_0x5c2a16['subjectTime']=_0x5c2a16?.[_0x40bd58(0x730)]&&_0x5c2a16['subjectTime'][_0x40bd58(0x125)]()[_0x40bd58(0x387)]<0xd?_0x5c2a16?.[_0x40bd58(0x730)]*0x3e8:_0x5c2a16?.[_0x40bd58(0x730)]||null,_0x5c2a16[_0x40bd58(0x46a)]=_0x5c2a16?.[_0x40bd58(0x46a)]&&_0x5c2a16[_0x40bd58(0x46a)][_0x40bd58(0x125)]()[_0x40bd58(0x387)]<0xd?_0x5c2a16?.[_0x40bd58(0x46a)]*0x3e8:_0x5c2a16?.[_0x40bd58(0x46a)]||null,_0x179e31={..._0x5c2a16,'lastUpdate':Date[_0x40bd58(0xe6)]()},!_0x5c2a16)return;}let _0x4a9fe8=_0x179e31[_0x40bd58(0x68a)]?.[_0x40bd58(0x7c8)](_0x415757=>_0x415757['id']===this[_0x40bd58(0x597)][_0x40bd58(0x38f)]+_0x40bd58(0x700)&&_0x415757[_0x40bd58(0x505)]!=null)||!0x1;!_0x179e31['inviteCode']&&_0x4a9fe8&&(_0x179e31[_0x40bd58(0x335)]=(await this[_0x40bd58(0x335)](_0xfd162c,!0x1))['inviteUrl']);let _0x4cae3b=(!_0x179e31[_0x40bd58(0x2a0)]||_0x4a9fe8)&&(!_0x179e31['isCommunity']||_0x4a9fe8);_0x179e31[_0x40bd58(0x720)]=_0x4a9fe8,_0x179e31[_0x40bd58(0x150)]=_0x4cae3b;let _0x51acb3=[];if(_0x4a9fe8&&_0x179e31['joinApprovalMode'])try{_0x51acb3=await this['client'][_0x40bd58(0xba)](_0xfd162c['groupJid']),_0x179e31[_0x40bd58(0x1cf)]=Date[_0x40bd58(0xe6)]();}catch(_0x2c1953){this[_0x40bd58(0x671)][_0x40bd58(0x244)](this[_0x40bd58(0x7ab)]+'\x20('+this[_0x40bd58(0x597)][_0x40bd58(0x38f)]+_0x40bd58(0x6c6)+_0xfd162c[_0x40bd58(0x168)]+':\x20'+(_0x2c1953 instanceof Error?_0x2c1953[_0x40bd58(0x3bf)]:JSON[_0x40bd58(0x115)](_0x2c1953,null,0x2)));}try{_0x179e31[_0x40bd58(0x77d)]=(await this[_0x40bd58(0x6e8)](_0xfd162c[_0x40bd58(0x168)],null,!0x0))[_0x40bd58(0x510)][_0x40bd58(0x36e)];}catch(_0xbe076b){this['logger'][_0x40bd58(0x244)](this[_0x40bd58(0x7ab)]+'\x20('+this[_0x40bd58(0x597)][_0x40bd58(0x38f)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0xfd162c[_0x40bd58(0x168)]+':\x20'+(_0xbe076b instanceof Error?_0xbe076b[_0x40bd58(0x3bf)]:JSON[_0x40bd58(0x115)](_0xbe076b,null,0x2)));}let _0x28164d=_0x179e31[_0x40bd58(0x68a)][_0x40bd58(0x5c2)](_0x2831d0=>_0x2831d0['id']),_0x248f9d=_0x51acb3[_0x40bd58(0x5c2)](_0x4cd559=>_0x4cd559[_0x40bd58(0x495)]),_0x4a0ac1=await this['repository']['cacheContact']['findManyByIds']([..._0x28164d,..._0x248f9d]);_0x179e31[_0x40bd58(0x68a)]=_0x179e31['participants'][_0x40bd58(0x5c2)](_0x58073d=>{const _0x49f3c5=_0x40bd58;let _0x54487c=_0x4a0ac1[_0x49f3c5(0x44c)](_0x23611f=>_0x23611f[_0x49f3c5(0x6ee)]===_0x58073d['id']);return{'id':_0x58073d['id'],'isAdmin':[_0x49f3c5(0x505),_0x49f3c5(0x391)][_0x49f3c5(0x603)](_0x58073d[_0x49f3c5(0x505)]),'admin':_0x58073d[_0x49f3c5(0x505)],'pushName':_0x54487c?.[_0x49f3c5(0x70c)],'profilePictureUrl':_0x54487c?.[_0x49f3c5(0x36e)]};}),_0x179e31[_0x40bd58(0x4e0)]=_0x51acb3[_0x40bd58(0x5c2)](_0x42504e=>{const _0xb48cb8=_0x40bd58;let _0x49964d=_0x4a0ac1[_0xb48cb8(0x44c)](_0x3ba0ae=>_0x3ba0ae['_id']===_0x42504e[_0xb48cb8(0x495)]);return{'id':_0x42504e[_0xb48cb8(0x495)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x49964d?.[_0xb48cb8(0x70c)],'profilePictureUrl':_0x49964d?.[_0xb48cb8(0x36e)],'request_method':_0x42504e[_0xb48cb8(0x5ad)],'request_time':_0x42504e[_0xb48cb8(0x75f)]};});let _0x36fee7=await this[_0x40bd58(0x2d1)][_0x40bd58(0x39a)][_0x40bd58(0x171)]({'where':{'_id':_0xfd162c['groupJid']}},{'imagechat':_0x179e31[_0x40bd58(0x77d)],'name':_0x179e31[_0x40bd58(0x6dd)],'lastcache':Date[_0x40bd58(0xe6)](),'groupdata':_0x179e31},this['instance']['wuid']);return F(this[_0x40bd58(0x7ab)],'chats',{'chat':_0x36fee7}),{'metadata':_0x179e31};}catch(_0x48ca76){if(_0x486f19===_0x40bd58(0x6f2))return;throw new U('Error\x20fetching\x20group',_0x48ca76[_0x40bd58(0x3bf)][_0x40bd58(0x125)]());}}async[a0_0x1d7ec3(0x47b)](){const _0x3952b8=a0_0x1d7ec3;try{this[_0x3952b8(0x671)][_0x3952b8(0x696)](_0x3952b8(0x642));let _0x3ac19c=Date[_0x3952b8(0xe6)](),_0xdd3096=0x3*0x3c*0x3c*0x3e8;return _0x3ac19c-this[_0x3952b8(0x2f9)]>_0xdd3096&&(this[_0x3952b8(0x757)](),this[_0x3952b8(0x2f9)]=_0x3ac19c),(await this[_0x3952b8(0x2d1)][_0x3952b8(0x39a)][_0x3952b8(0x7d0)]({'where':{'group':!0x0}},this[_0x3952b8(0x597)][_0x3952b8(0x38f)]))[_0x3952b8(0x5c2)](_0x190225=>({..._0x190225[_0x3952b8(0x45f)],'groupJid':_0x190225?.[_0x3952b8(0x6ee)],'participants':_0x190225?.[_0x3952b8(0x45f)]?.[_0x3952b8(0x68a)]||[],'awaitingApproval':_0x190225?.['groupdata']?.[_0x3952b8(0x4e0)]||[],'image':_0x190225?.[_0x3952b8(0x6b5)]}));}catch(_0x420143){let _0x13357d=_0x3952b8(0x62c),_0x1cb9bd=_0x420143 instanceof Error?_0x420143[_0x3952b8(0x3bf)]:typeof _0x420143==_0x3952b8(0x4b9)?JSON[_0x3952b8(0x115)](_0x420143):_0x420143,_0xddbf8a=_0x13357d+':\x20'+_0x1cb9bd;throw this[_0x3952b8(0x671)][_0x3952b8(0x6f8)](this[_0x3952b8(0x7ab)]+'\x20('+this[_0x3952b8(0x597)]['wuid']+'):\x20'+_0xddbf8a),new U(_0xddbf8a);}}async[a0_0x1d7ec3(0x757)](){const _0x39a259=a0_0x1d7ec3;try{this['logger'][_0x39a259(0x696)](_0x39a259(0x5f7));let _0xb0b39f=[],_0x5a8d0b=await this['client'][_0x39a259(0x441)](),_0x5bcf28=Object[_0x39a259(0x771)](_0x5a8d0b);for(let _0x85e1c1=0x0;_0x85e1c1<_0x5bcf28[_0x39a259(0x387)];_0x85e1c1++){let _0x4970ec=_0x5bcf28[_0x85e1c1];(0x0,w[_0x39a259(0x219)])(_0x4970ec?.['id'])&&(_0xb0b39f[_0x39a259(0x1fc)]({'groupJid':_0x4970ec?.['id'],'subject':_0x4970ec?.['subject'],'subjectOwner':_0x4970ec?.[_0x39a259(0x45c)]?.[_0x39a259(0x5f3)]('@')[0x0],'subjectTime':_0x4970ec?.[_0x39a259(0x730)],'creation':_0x4970ec?.['creation'],'size':_0x4970ec?.[_0x39a259(0x68a)]?.[_0x39a259(0x387)],'owner':_0x4970ec?.['owner']?.['split']('@')[0x0],'desc':_0x4970ec?.['desc'],'restrict':_0x4970ec?.[_0x39a259(0x6ff)],'announce':_0x4970ec?.[_0x39a259(0x2a0)],'image':null,'isCommunity':_0x4970ec?.[_0x39a259(0xd3)],'joinApprovalMode':_0x4970ec?.[_0x39a259(0x6b2)],'memberCanAddParticipant':_0x4970ec?.['memberAddMode'],'participants':_0x4970ec?.['participants'],'descOwner':_0x4970ec?.[_0x39a259(0x3ae)],'descId':_0x4970ec?.[_0x39a259(0x589)],'memberAddMode':_0x4970ec?.[_0x39a259(0xa4)],'isCommunityAnnounce':_0x4970ec?.[_0x39a259(0x18f)],'ephemeralDuration':_0x4970ec?.[_0x39a259(0x5d2)]||0x0,'author':_0x4970ec?.[_0x39a259(0x6aa)]}),this['updateChatGroupData'](_0x5bcf28[_0x85e1c1]));}return _0xb0b39f;}catch(_0x580c91){let _0x34c3db=_0x39a259(0xc3),_0x5dc25e=_0x580c91 instanceof Error?_0x580c91['message']:typeof _0x580c91=='object'?JSON[_0x39a259(0x115)](_0x580c91):_0x580c91,_0x370969=_0x34c3db+':\x20'+_0x5dc25e;throw this['logger'][_0x39a259(0x6f8)](this[_0x39a259(0x7ab)]+'\x20('+this['instance'][_0x39a259(0x38f)]+_0x39a259(0x84)+_0x370969),new U(_0x370969);}}async[a0_0x1d7ec3(0x7a7)](_0x4cd274){const _0x11626d=a0_0x1d7ec3;let _0x14ba4c=await this[_0x11626d(0x2d1)][_0x11626d(0x39a)]['findOne']({'where':{'_id':_0x4cd274['id']}},this[_0x11626d(0x597)][_0x11626d(0x38f)]);if(_0x4cd274['subjectTime']=_0x4cd274?.[_0x11626d(0x730)]&&_0x4cd274[_0x11626d(0x730)]['toString']()[_0x11626d(0x387)]<0xd?_0x4cd274?.[_0x11626d(0x730)]*0x3e8:_0x4cd274?.[_0x11626d(0x730)]||null,_0x4cd274['creation']=_0x4cd274?.[_0x11626d(0x46a)]&&_0x4cd274[_0x11626d(0x46a)][_0x11626d(0x125)]()[_0x11626d(0x387)]<0xd?_0x4cd274?.[_0x11626d(0x46a)]*0x3e8:_0x4cd274?.[_0x11626d(0x46a)]||null,!_0x4cd274[_0x11626d(0x77d)])try{_0x4cd274[_0x11626d(0x77d)]=await this[_0x11626d(0x38a)][_0x11626d(0x32a)](_0x4cd274['id'],'preview');}catch(_0x48d771){this['logger'][_0x11626d(0x244)](this['instanceName']+'\x20('+this['instance'][_0x11626d(0x38f)]+_0x11626d(0x2de)+_0x4cd274['id']+':\x20'+(_0x48d771 instanceof Error?_0x48d771['message']:JSON['stringify'](_0x48d771,null,0x2)));}let _0xc8bc9d=_0x4cd274[_0x11626d(0x68a)][_0x11626d(0x5c2)](_0x10ac8a=>{const _0x1dea81=_0x11626d;let _0x3e6daa=_0x14ba4c?.[_0x1dea81(0x45f)]?.['participants']['find'](_0x2ff5da=>_0x2ff5da['id']===_0x10ac8a['id']);return{..._0x10ac8a,'isAdmin':['admin',_0x1dea81(0x391)]['includes'](_0x10ac8a[_0x1dea81(0x505)]),'admin':_0x10ac8a[_0x1dea81(0x505)],'name':_0x3e6daa?.[_0x1dea81(0x70c)]||_0x10ac8a['name'],'imgUrl':_0x3e6daa?.[_0x1dea81(0x22f)]||_0x10ac8a[_0x1dea81(0x22f)]};}),_0x3e92ce=_0xc8bc9d['some'](_0x29c983=>_0x29c983['id']===this[_0x11626d(0x597)][_0x11626d(0x38f)]+'@s.whatsapp.net'&&_0x29c983[_0x11626d(0x505)]!=null)||!0x1,_0x3f92d2=(!_0x4cd274[_0x11626d(0x2a0)]||_0x3e92ce)&&(!_0x4cd274[_0x11626d(0xd3)]||_0x3e92ce),_0x32fb18={..._0x4cd274,'participants':_0xc8bc9d,'awaitingApproval':_0x14ba4c?.[_0x11626d(0x45f)]?.[_0x11626d(0x4e0)]||[],'lastFetchAwaitingApproval':_0x14ba4c?.[_0x11626d(0x45f)]?.[_0x11626d(0x1cf)],'isAdmin':_0x3e92ce,'canSendMessage':_0x3f92d2,'lastUpdate':Date['now']()};await this[_0x11626d(0x2d1)]['chat']['updateOne']({'where':{'_id':_0x4cd274['id']}},{'imagechat':_0x4cd274[_0x11626d(0x77d)],'name':_0x4cd274[_0x11626d(0x6dd)],'group':!0x0,'groupdata':_0x32fb18,'lastcache':Date['now']()},this[_0x11626d(0x597)][_0x11626d(0x38f)]),F(this[_0x11626d(0x7ab)],_0x11626d(0x650),{'chat':_0x4cd274});}async['updateGroupWebhook'](_0x1533d9){const _0x2893dd=a0_0x1d7ec3;let _0x5e61a9=await this[_0x2893dd(0x2d1)][_0x2893dd(0x39a)][_0x2893dd(0x6f0)]({'where':{'_id':_0x1533d9['id']}},this['instance'][_0x2893dd(0x38f)]);_0x1533d9[_0x2893dd(0x730)]=_0x1533d9?.[_0x2893dd(0x730)]&&_0x1533d9['subjectTime'][_0x2893dd(0x125)]()[_0x2893dd(0x387)]<0xd?_0x1533d9?.[_0x2893dd(0x730)]*0x3e8:_0x1533d9?.[_0x2893dd(0x730)]||null,_0x1533d9['creation']=_0x1533d9?.[_0x2893dd(0x46a)]&&_0x1533d9[_0x2893dd(0x46a)][_0x2893dd(0x125)]()[_0x2893dd(0x387)]<0xd?_0x1533d9?.[_0x2893dd(0x46a)]*0x3e8:_0x1533d9?.['creation']||null,_0x1533d9[_0x2893dd(0x335)]&&(_0x1533d9['inviteCode']='https://chat.whatsapp.com/'+_0x1533d9[_0x2893dd(0x335)]);let _0x24e828=_0x5e61a9?.[_0x2893dd(0x45f)]?{..._0x5e61a9[_0x2893dd(0x45f)]}:{};Object['keys'](_0x1533d9)[_0x2893dd(0xb2)](_0x2e138c=>{_0x2e138c!=='id'&&(_0x24e828[_0x2e138c]=_0x1533d9[_0x2e138c]);});let _0x3bdb8c=_0x24e828[_0x2893dd(0x68a)]?.['some'](_0x29d182=>_0x29d182['id']===this[_0x2893dd(0x597)][_0x2893dd(0x38f)]+'@s.whatsapp.net'&&_0x29d182[_0x2893dd(0x505)]!=null)||!0x1;_0x24e828[_0x2893dd(0x720)]=_0x3bdb8c;let _0x23892e=(!_0x24e828[_0x2893dd(0x2a0)]||_0x3bdb8c)&&(!_0x24e828[_0x2893dd(0xd3)]||_0x3bdb8c);_0x24e828[_0x2893dd(0x150)]=_0x23892e;let _0x13b0cb={'group':!0x0,'groupdata':_0x24e828};_0x1533d9['subject']&&(_0x13b0cb['name']=_0x1533d9[_0x2893dd(0x6dd)]),await this[_0x2893dd(0x2d1)][_0x2893dd(0x39a)][_0x2893dd(0x171)]({'where':{'_id':_0x1533d9['id']}},_0x13b0cb,this['instance'][_0x2893dd(0x38f)],{'upsert':!0x0}),F(this[_0x2893dd(0x7ab)],'chats',{'chat':_0x13b0cb});}async[a0_0x1d7ec3(0x49f)](_0x30cfec){const _0x280bd7=a0_0x1d7ec3;let _0x11bcb3=await this[_0x280bd7(0x2d1)][_0x280bd7(0x39a)][_0x280bd7(0x6f0)]({'where':{'_id':_0x30cfec['id']}},this['instance'][_0x280bd7(0x38f)]);if(!_0x11bcb3||!_0x11bcb3[_0x280bd7(0x45f)]){this[_0x280bd7(0x671)]['info'](this[_0x280bd7(0x7ab)]+'\x20('+this[_0x280bd7(0x597)]['wuid']+_0x280bd7(0x658)+_0x30cfec['id']);return;}let _0x309065=await this[_0x280bd7(0x2d1)][_0x280bd7(0x797)][_0x280bd7(0x24e)](_0x30cfec[_0x280bd7(0x68a)]),_0x2b4856=[..._0x11bcb3[_0x280bd7(0x45f)]?.[_0x280bd7(0x68a)]];switch(_0x30cfec[_0x280bd7(0x6a5)]){case _0x280bd7(0x2ea):_0x309065[_0x280bd7(0x5c2)](_0x51bdf9=>({'id':_0x51bdf9[_0x280bd7(0x6ee)],'isAdmin':!0x1,'name':_0x51bdf9[_0x280bd7(0x70c)],'imgUrl':_0x51bdf9[_0x280bd7(0x36e)]}))['forEach'](_0x356ab9=>{const _0x38bb25=_0x280bd7;_0x2b4856[_0x38bb25(0x7c8)](_0x89a243=>_0x89a243['id']===_0x356ab9['id'])||(_0x2b4856[_0x38bb25(0x1fc)](_0x356ab9),this[_0x38bb25(0x671)][_0x38bb25(0x696)](_0x38bb25(0x74a)+JSON[_0x38bb25(0x115)](_0x356ab9)));});break;case'remove':_0x2b4856=_0x2b4856[_0x280bd7(0x350)](_0x1ebd31=>!_0x30cfec[_0x280bd7(0x68a)]['includes'](_0x1ebd31['id']));break;case _0x280bd7(0x7b4):_0x2b4856=_0x2b4856[_0x280bd7(0x5c2)](_0x260b06=>_0x30cfec[_0x280bd7(0x68a)][_0x280bd7(0x603)](_0x260b06['id'])?{..._0x260b06,'isAdmin':!0x0,'admin':_0x280bd7(0x505)}:_0x260b06);break;case _0x280bd7(0x634):_0x2b4856=_0x2b4856['map'](_0x124ad1=>_0x30cfec['participants'][_0x280bd7(0x603)](_0x124ad1['id'])?{..._0x124ad1,'isAdmin':!0x1,'admin':null}:_0x124ad1);break;}let _0x5aac45=_0x2b4856[_0x280bd7(0x387)],_0x4b9ecc=_0x2b4856[_0x280bd7(0x7c8)](_0x2b146a=>_0x2b146a['id']===this['instance'][_0x280bd7(0x38f)]+_0x280bd7(0x700)),_0x17b11f=_0x4b9ecc&&_0x2b4856['some'](_0x3e2434=>_0x3e2434['id']===this[_0x280bd7(0x597)][_0x280bd7(0x38f)]+'@s.whatsapp.net'&&_0x3e2434[_0x280bd7(0x505)]!=null)||!0x1,_0x3d05e1=_0x4b9ecc&&(!_0x11bcb3[_0x280bd7(0x45f)][_0x280bd7(0x2a0)]||_0x17b11f)&&(!_0x11bcb3['groupdata'][_0x280bd7(0xd3)]||_0x17b11f);await this[_0x280bd7(0x2d1)][_0x280bd7(0x39a)][_0x280bd7(0x171)]({'where':{'_id':_0x30cfec['id']}},{'groupdata':{..._0x11bcb3[_0x280bd7(0x45f)],'participants':_0x2b4856,'size':_0x5aac45,'isAdmin':_0x17b11f,'canSendMessage':_0x3d05e1}},this[_0x280bd7(0x597)]['wuid']),this['logger'][_0x280bd7(0x696)](this[_0x280bd7(0x7ab)]+'\x20('+this[_0x280bd7(0x597)][_0x280bd7(0x38f)]+_0x280bd7(0xa3)+_0x30cfec['id']+'\x20atualizado\x20com\x20sucesso.\x20Ação:\x20'+_0x30cfec[_0x280bd7(0x6a5)]+_0x280bd7(0x494)+_0x5aac45+_0x280bd7(0x68e)+_0x17b11f+_0x280bd7(0x4d5)+_0x3d05e1);}async[a0_0x1d7ec3(0x335)](_0x49d9e4,_0x1a3368=!0x0){const _0x367d43=a0_0x1d7ec3;try{let _0x36ce3b=await this[_0x367d43(0x38a)][_0x367d43(0x6e6)](_0x49d9e4[_0x367d43(0x168)]),_0x9830ba={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0x36ce3b};if(_0x1a3368){let _0x13bef4=await this[_0x367d43(0x2d1)][_0x367d43(0x39a)][_0x367d43(0x171)]({'where':{'_id':_0x49d9e4[_0x367d43(0x168)]}},_0x9830ba,this['instance'][_0x367d43(0x38f)]);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x36ce3b,'inviteCode':_0x36ce3b};}catch(_0x538738){let _0x5bc1f4='Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode',_0x5dfa74=_0x538738 instanceof Error?_0x538738[_0x367d43(0x3bf)]:typeof _0x538738==_0x367d43(0x4b9)?JSON[_0x367d43(0x115)](_0x538738):_0x538738,_0x251a81=_0x5bc1f4+':\x20'+_0x5dfa74;throw this['logger'][_0x367d43(0x6f8)](this[_0x367d43(0x7ab)]+'\x20('+this[_0x367d43(0x597)][_0x367d43(0x38f)]+_0x367d43(0x84)+_0x251a81),new U(_0x251a81);}}async[a0_0x1d7ec3(0xf9)](_0x5ac067){const _0x402355=a0_0x1d7ec3;try{let _0x3451e3=await this[_0x402355(0x38a)][_0x402355(0x749)](_0x5ac067['groupJid']);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x3451e3,'inviteCode':_0x3451e3};}catch(_0x441ab0){let _0x4822ea='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x1e764b=_0x441ab0 instanceof Error?_0x441ab0[_0x402355(0x3bf)]:typeof _0x441ab0==_0x402355(0x4b9)?JSON['stringify'](_0x441ab0):_0x441ab0,_0x3ddaf0=_0x4822ea+':\x20'+_0x1e764b;throw this['logger'][_0x402355(0x6f8)](this[_0x402355(0x7ab)]+'\x20('+this[_0x402355(0x597)][_0x402355(0x38f)]+_0x402355(0x84)+_0x3ddaf0),new U(_0x3ddaf0);}}async['joinGroup'](_0x1bc42d){const _0x36de2b=a0_0x1d7ec3;try{if((0x0,J[_0x36de2b(0x295)])(_0x1bc42d['inviteCode']))var _0x459148=_0x1bc42d['inviteCode'][_0x36de2b(0x5f3)]('/')[0x3];else var _0x459148=_0x1bc42d[_0x36de2b(0x335)];let _0x12d797=await this[_0x36de2b(0x38a)][_0x36de2b(0x100)](_0x459148);return this[_0x36de2b(0x671)][_0x36de2b(0x244)](this[_0x36de2b(0x7ab)]+'\x20('+this['instance']['wuid']+_0x36de2b(0x84)+_0x12d797),{'join':!0x0,'inviteCode':_0x459148,'groupJid':_0x12d797};}catch(_0x232bab){let _0x3c6b6a=_0x36de2b(0x6ae),_0x5c19a5=_0x232bab instanceof Error?_0x232bab[_0x36de2b(0x3bf)]:typeof _0x232bab==_0x36de2b(0x4b9)?JSON['stringify'](_0x232bab):_0x232bab,_0x1db2e3=_0x3c6b6a+':\x20'+_0x5c19a5;throw this[_0x36de2b(0x671)][_0x36de2b(0x6f8)](this[_0x36de2b(0x7ab)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x1db2e3),new U(_0x1db2e3);}}async[a0_0x1d7ec3(0x66f)](_0x3eec42){const _0x5376d1=a0_0x1d7ec3;try{return{'participants':(await this[_0x5376d1(0x2d1)][_0x5376d1(0x39a)][_0x5376d1(0x6f0)]({'where':{'_id':_0x3eec42[_0x5376d1(0x168)]}},this[_0x5376d1(0x597)][_0x5376d1(0x38f)]))['groupdata'][_0x5376d1(0x68a)]};}catch(_0x8674b7){let _0x2da89f=_0x5376d1(0x4e8),_0x3cac0e=_0x8674b7 instanceof Error?_0x8674b7[_0x5376d1(0x3bf)]:typeof _0x8674b7==_0x5376d1(0x4b9)?JSON[_0x5376d1(0x115)](_0x8674b7):_0x8674b7,_0x59d88c=_0x2da89f+':\x20'+_0x3cac0e;throw this[_0x5376d1(0x671)][_0x5376d1(0x6f8)](this['instanceName']+'\x20('+this[_0x5376d1(0x597)][_0x5376d1(0x38f)]+_0x5376d1(0x84)+_0x59d88c),new U(_0x59d88c);}}async[a0_0x1d7ec3(0x782)](_0x5d1708){const _0x109605=a0_0x1d7ec3;try{return await this[_0x109605(0x38a)][_0x109605(0x626)](_0x5d1708[_0x109605(0x168)]),{'groupJid':_0x5d1708['groupJid'],'leave':!0x0};}catch(_0x3f36c1){let _0x39d968=_0x109605(0x677),_0x3ae6e2=_0x3f36c1 instanceof Error?_0x3f36c1['message']:typeof _0x3f36c1=='object'?JSON[_0x109605(0x115)](_0x3f36c1):_0x3f36c1,_0x3e9ecb=_0x39d968+':\x20'+_0x3ae6e2;throw this[_0x109605(0x671)][_0x109605(0x6f8)](this['instanceName']+'\x20('+this[_0x109605(0x597)][_0x109605(0x38f)]+'):\x20'+_0x3e9ecb),new m(_0x3e9ecb);}}async[a0_0x1d7ec3(0x7b0)](_0x5a8211){const _0x43aaf2=a0_0x1d7ec3;return await this['sendMessageWithTyping'](_0x5a8211[_0x43aaf2(0x59e)],{'poll':{'name':_0x5a8211['pollMessage']?.[_0x43aaf2(0x70c)],'selectableCount':_0x5a8211[_0x43aaf2(0x7b0)][_0x43aaf2(0x663)],'values':_0x5a8211[_0x43aaf2(0x7b0)]['values']}},_0x5a8211?.[_0x43aaf2(0x788)]);}async[a0_0x1d7ec3(0x199)](_0x1ecb6c){const _0x19f129=a0_0x1d7ec3;return await this[_0x19f129(0x134)](_0x1ecb6c[_0x19f129(0x59e)],{'listMessage':{'title':_0x1ecb6c[_0x19f129(0x199)]['title'],'description':_0x1ecb6c[_0x19f129(0x199)][_0x19f129(0x675)],'buttonText':_0x1ecb6c[_0x19f129(0x199)]?.[_0x19f129(0xcf)],'footerText':_0x1ecb6c[_0x19f129(0x199)]?.[_0x19f129(0x7a0)],'sections':_0x1ecb6c[_0x19f129(0x199)][_0x19f129(0x3d2)],'listType':0x2}},_0x1ecb6c?.[_0x19f129(0x788)]);}async[a0_0x1d7ec3(0x2a3)](_0x47976e){const _0x1dc37f=a0_0x1d7ec3;this[_0x1dc37f(0x597)]['isBusiness']===void 0x0&&await this['isBusinessInstance']();let _0x1b93c2;if(_0x47976e['menuMessage'][_0x1dc37f(0x7c9)]===_0x1dc37f(0x155)||_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0x7c9)]===_0x1dc37f(0x3c9)){let _0x3e64fb=_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0x7df)][_0x1dc37f(0x43b)]('\x0a'),_0xb25d14='',_0x2d2cfc='';_0x3e64fb!==-0x1?(_0xb25d14=_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0x7df)]['substring'](0x0,_0x3e64fb)[_0x1dc37f(0x5e2)](),_0x2d2cfc=_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0x7df)]['substring'](_0x3e64fb+0x1)):_0x2d2cfc=_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0x7df)];let _0xbe998=_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0x114)][_0x1dc37f(0x350)](_0x45578d=>_0x45578d['trim']()!==''),_0x580af5=this['createSectionsFromValues'](_0xbe998);_0x1b93c2={'listMessage':{'title':_0xb25d14,'description':_0x2d2cfc,'buttonText':_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0xcf)]||'Selecione','footerText':_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0x7a0)],'sections':_0x580af5,'listType':0x2}};}else{if(_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0x7c9)]===_0x1dc37f(0xbc)){let _0x2243cd=_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0x114)]['filter'](_0x4f6b33=>!(_0x4f6b33[_0x1dc37f(0x1b2)]('[')&&_0x4f6b33[_0x1dc37f(0x34e)](']'))&&_0x4f6b33[_0x1dc37f(0x5e2)]()!=='')['map'](_0x3410aa=>_0x3410aa[_0x1dc37f(0x5f3)]('\x0a')[0x0]);for(;_0x2243cd[_0x1dc37f(0x387)]<0x2;)_0x2243cd[_0x1dc37f(0x1fc)](_0x1dc37f(0x30d)+(_0x2243cd['length']+0x1));_0x1b93c2={'poll':{'name':_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0x7df)],'selectableCount':_0x47976e[_0x1dc37f(0x2a3)]['selectableCount']||0x1,'values':_0x2243cd}};}else{if(_0x47976e[_0x1dc37f(0x2a3)]['type']===_0x1dc37f(0x1b7)){let _0x16fbe2=this[_0x1dc37f(0x540)](_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0x114)]['filter'](_0x2bc73c=>!(_0x2bc73c[_0x1dc37f(0x1b2)]('[')&&_0x2bc73c[_0x1dc37f(0x34e)](']'))));return _0x1b93c2={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0x7df)]},'footer':_0x47976e[_0x1dc37f(0x2a3)]['footerText']?{'text':_0x47976e['menuMessage'][_0x1dc37f(0x7a0)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x16fbe2,'messageParamsJson':JSON[_0x1dc37f(0x115)]({'from':_0x1dc37f(0x2c8),'templateId':_0x1dc37f(0x269)+(0x0,ne[_0x1dc37f(0x231)])(0x12)['toString'](_0x1dc37f(0x48e))[_0x1dc37f(0x724)]()})}}}}},await this[_0x1dc37f(0x5f2)](_0x47976e[_0x1dc37f(0x59e)],_0x1b93c2,_0x47976e?.['options']);}else{if(_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0x7c9)]==='list3'){let _0x2d36c2=this[_0x1dc37f(0x193)](_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0x114)]);return _0x1b93c2={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0x7df)]},'footer':_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0x7a0)]?{'text':_0x47976e[_0x1dc37f(0x2a3)][_0x1dc37f(0x7a0)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x2d36c2,'messageParamsJson':JSON['stringify']({'from':_0x1dc37f(0x2c8),'templateId':_0x1dc37f(0x269)+(0x0,ne[_0x1dc37f(0x231)])(0x12)['toString']('hex')[_0x1dc37f(0x724)]()})}}}}},await this[_0x1dc37f(0x5f2)](_0x47976e[_0x1dc37f(0x59e)],_0x1b93c2,_0x47976e?.[_0x1dc37f(0x788)]);}}}}return await this[_0x1dc37f(0x134)](_0x47976e[_0x1dc37f(0x59e)],_0x1b93c2,_0x47976e?.[_0x1dc37f(0x788)]);}[a0_0x1d7ec3(0x540)](_0x103d15){const _0x133eec=a0_0x1d7ec3;return _0x103d15[_0x133eec(0x5c2)](_0x1dbec5=>{const _0x571723=_0x133eec;let _0x1bcd52=_0x1dbec5[_0x571723(0x5f3)]('\x0a')['map'](_0x3be463=>_0x3be463[_0x571723(0x5e2)]()),_0x30319a=_0x1bcd52[0x0],_0x291569=_0x1bcd52[0x1]||_0x30319a,_0x148e61=_0x291569[_0x571723(0x1b2)](_0x571723(0x550))?'cta_url':_0x571723(0x42a);return{'name':_0x148e61,'buttonParamsJson':JSON['stringify']({'display_text':_0x30319a,'id':_0x148e61===_0x571723(0x42a)?_0x291569:void 0x0,'url':_0x148e61===_0x571723(0x3e4)?_0x291569:void 0x0})};});}[a0_0x1d7ec3(0x193)](_0x384940){const _0xb665d9=a0_0x1d7ec3;let _0x8140f6=[],_0x2e483f={'title':'','rows':[]};return _0x384940[_0xb665d9(0xb2)](_0x2c82e3=>{const _0x223613=_0xb665d9;if(_0x2c82e3['startsWith']('[')&&_0x2c82e3[_0x223613(0x34e)](']'))_0x2e483f['rows'][_0x223613(0x387)]>0x0&&_0x8140f6[_0x223613(0x1fc)](_0x2e483f),_0x2e483f={'title':_0x2c82e3[_0x223613(0x75d)](0x1,-0x1),'rows':[]};else{let _0x40b510=_0x2c82e3[_0x223613(0x5f3)]('\x0a')[_0x223613(0x5c2)](_0x18c46a=>_0x18c46a[_0x223613(0x5e2)]()),_0x315979=_0x40b510[0x0],_0x2604c5=_0x40b510[0x1]?_0x40b510[0x1]:void 0x0,_0x3cf96d=_0x40b510[0x2]||_0x315979;_0x2e483f[_0x223613(0x413)][_0x223613(0x1fc)]({'title':_0x315979,'description':_0x2604c5,'id':_0x3cf96d});}}),_0x2e483f[_0xb665d9(0x413)][_0xb665d9(0x387)]>0x0&&_0x8140f6[_0xb665d9(0x1fc)](_0x2e483f),[{'name':'single_select','buttonParamsJson':JSON[_0xb665d9(0x115)]({'title':'Selecione\x20uma\x20opção','sections':_0x8140f6})}];}[a0_0x1d7ec3(0x416)](_0x163747){const _0x4d33ec=a0_0x1d7ec3;let _0x587d3f=[],_0x1fb90f={'rows':[]};return _0x163747['forEach'](_0x4fbf0d=>{const _0x33de7c=a0_0x5af0;if(_0x4fbf0d[_0x33de7c(0x1b2)]('[')&&_0x4fbf0d[_0x33de7c(0x34e)](']'))_0x1fb90f[_0x33de7c(0x413)][_0x33de7c(0x387)]>0x0&&_0x587d3f['push'](_0x1fb90f),_0x1fb90f={'title':_0x4fbf0d['slice'](0x1,-0x1),'rows':[]};else{let _0x3ccf4e=_0x4fbf0d[_0x33de7c(0x5f3)]('\x0a')[_0x33de7c(0x5c2)](_0x49eeb2=>_0x49eeb2[_0x33de7c(0x5e2)]()),_0x5858a4=_0x3ccf4e[0x0],_0x4d8cb6=_0x3ccf4e[0x1]||null,_0x4b2939=_0x3ccf4e[0x2]||_0x5858a4;_0x1fb90f[_0x33de7c(0x413)][_0x33de7c(0x1fc)]({'title':_0x5858a4,'description':_0x4d8cb6,'rowId':_0x4b2939});}}),_0x1fb90f[_0x4d33ec(0x413)]['length']>0x0&&_0x587d3f[_0x4d33ec(0x1fc)](_0x1fb90f),_0x587d3f;}async[a0_0x1d7ec3(0x70e)](_0xadcd53,_0x3b3cc0){const _0x59b1ef=a0_0x1d7ec3;if(await this[_0x59b1ef(0x5d3)](_0xadcd53,!0x0)){let _0x5a153e={'where':{'_id':_0xadcd53['id']}},_0x162712={'status':[_0x3b3cc0[_0x59b1ef(0x77f)]][0x0]};try{let _0x412466=await this[_0x59b1ef(0x2d1)][_0x59b1ef(0x3bf)]['update'](_0x5a153e,_0x162712,this['instance'][_0x59b1ef(0x38f)]);_0x412466&&F(this[_0x59b1ef(0x7ab)],_0x59b1ef(0x242),{'message':_0x412466});}catch{}}}['sectionsToString'](_0x4e69d2){const _0xe03dd=a0_0x1d7ec3;let _0x347dbb=[];return _0x4e69d2[_0xe03dd(0xb2)](_0x3ae7e6=>{const _0x2abef2=_0xe03dd;_0x3ae7e6['title']&&_0x347dbb[_0x2abef2(0x1fc)]('['+_0x3ae7e6['title']+']'),_0x3ae7e6['rows']['forEach'](_0xa24bb0=>{const _0x2a81e1=_0x2abef2;_0x347dbb['push'](_0xa24bb0[_0x2a81e1(0x1bb)]);});}),_0x347dbb['join']('|');}['formatVCard'](_0xc36f33){const _0x39cb6a=a0_0x1d7ec3;let _0x5f178c=_0xc36f33[_0x39cb6a(0x404)](/\\n/g,'\x0a')[_0x39cb6a(0x5f3)]('\x0a')[_0x39cb6a(0x350)](_0x119c13=>_0x119c13[_0x39cb6a(0x603)]('TEL')||_0x119c13[_0x39cb6a(0x603)]('EMAIL')),_0x3f79c5='';return _0x5f178c[_0x39cb6a(0xb2)](_0x3fa2b5=>{const _0x2e917e=_0x39cb6a;let _0x2fb8f0=/TEL(?:.*):(.+)/,_0x4ce2d3=/EMAIL(?:.*):(.+)/,_0x4744e7=_0x3fa2b5['match'](_0x2fb8f0),_0x5e721d=_0x3fa2b5[_0x2e917e(0x20e)](_0x4ce2d3);if(_0x4744e7){let _0x14810b=_0x4744e7[0x1][_0x2e917e(0x404)](/-| |\+|\(|\)/g,'')[_0x2e917e(0x5e2)]();_0x3f79c5+=_0x2e917e(0x223)+_0x14810b+'\x0a';}else{if(_0x5e721d){let _0x51a0d3=_0x5e721d[0x1]['trim']();_0x3f79c5+=_0x2e917e(0x734)+_0x51a0d3+'\x0a';}}}),_0x3f79c5['trim']();}async[a0_0x1d7ec3(0x235)](_0x404525,_0x36682b,_0x128a31,_0x1b85d2=null){const _0x7f618d=a0_0x1d7ec3;if(_0x404525[_0x7f618d(0x7ff)])try{let _0x26c919=_0x36682b[_0x7f618d(0x7e8)][_0x7f618d(0x9d)][_0x7f618d(0x404)](/:\d{1,2}@/g,'@'),_0x157860=_0x36682b['key']['fromMe'],_0xd84a56=_0x26c919['endsWith']('@g.us'),_0x282e76=_0x36682b[_0x7f618d(0x2e1)]?.[_0x7f618d(0x404)](/:\d{1,2}@/g,'@')||'',_0x246fb1=_0x36682b[_0x7f618d(0x2e4)]?.[_0x7f618d(0x7df)]||_0x36682b['message_normalized']?.['caption']||_0x36682b[_0x7f618d(0x2e4)]?.['vote']||_0x36682b['message_normalized']?.[_0x7f618d(0x70c)]||'',_0xb8cd28={'_id':_0x36682b['_id'],'remoteJid':_0x157860?this[_0x7f618d(0x597)][_0x7f618d(0x38f)]:_0xd84a56?_0x282e76:_0x26c919,'pushName':_0x157860?this[_0x7f618d(0x597)]['profileName']||'Eu':_0x36682b[_0x7f618d(0x754)],'text':_0x246fb1,'type':_0x36682b[_0x7f618d(0x1a1)],'when':_0x36682b[_0x7f618d(0x101)]||Date[_0x7f618d(0xe6)]()};_0x1b85d2||(_0x1b85d2=await this[_0x7f618d(0x2d1)][_0x7f618d(0x39a)]['findOne']({'where':{'_id':_0x26c919}},this[_0x7f618d(0x597)]['wuid']));let _0x54e584=_0x157860?0x0:_0x1b85d2?(_0x1b85d2[_0x7f618d(0x19b)]||0x0)+0x1:0x1,_0x50666a={'lastmsg':_0x36682b[_0x7f618d(0x101)]||Date['now'](),'ephemeralExpiration':_0x36682b[_0x7f618d(0x28c)],'lastMessage':_0xb8cd28,'unreadcount':_0x54e584,..._0x157860||_0xd84a56?{}:{'name':_0x36682b[_0x7f618d(0x754)]},..._0xd84a56?{'group':_0xd84a56}:{},...!_0x157860&&!_0xd84a56&&_0x36682b[_0x7f618d(0x32a)]?{'imagechat':_0x36682b[_0x7f618d(0x32a)]}:{}};if(!_0xd84a56&&(!_0x1b85d2?.[_0x7f618d(0x1b4)]||!_0x1b85d2[_0x7f618d(0x1b4)][_0x7f618d(0x1c3)])&&_0x36682b[_0x7f618d(0x754)]&&!_0x157860&&(_0x50666a={..._0x50666a,'leadInfo.nome':_0x36682b[_0x7f618d(0x754)]}),_0x1b85d2?.[_0x7f618d(0x1b4)][_0x7f618d(0x71d)]||(_0x50666a={..._0x50666a,'leadInfo.etiquetas':[]}),_0x1b85d2?.[_0x7f618d(0x1b4)][_0x7f618d(0x63f)]||(_0x50666a={..._0x50666a,'leadInfo.customFields':[]}),_0x1b85d2?.[_0x7f618d(0x1b4)][_0x7f618d(0x7a3)]||(_0x50666a={..._0x50666a,'leadInfo.tags':[]}),_0x1b85d2&&_0x1b85d2?.[_0x7f618d(0x5f8)]){let _0xd8810f=await this['repository'][_0x7f618d(0x1e6)]['find']({'where':{}},this[_0x7f618d(0x597)]['wuid']),_0x5119ca=new Set(_0xd8810f[_0x7f618d(0x5c2)](_0x508e75=>_0x508e75['_id'])),_0x47eba4=(_0x1b85d2[_0x7f618d(0x1b4)]?.['etiquetas']||[])['filter'](_0x13d421=>_0x5119ca[_0x7f618d(0x6ac)](_0x13d421));_0x50666a={..._0x50666a,'imported':!0x1,'leadInfo.etiquetas':_0x47eba4};for(let _0x542478 of _0x47eba4)await this[_0x7f618d(0x794)](_0x542478,_0x26c919);}if(!this[_0x7f618d(0x7ac)][_0x7f618d(0x4ea)][_0x7f618d(0x44c)](_0x5871b2=>_0x5871b2['startCommand']&&_0x246fb1[_0x7f618d(0x603)](_0x5871b2[_0x7f618d(0x166)]))&&_0x128a31===_0x7f618d(0x3f1)&&_0x157860&&this['AutomateSystem']?.[_0x7f618d(0x6eb)][_0x7f618d(0x5e4)]&&_0x246fb1[_0x7f618d(0x5e2)]()!==this[_0x7f618d(0x7ac)]?.[_0x7f618d(0x6eb)][_0x7f618d(0xcd)][_0x7f618d(0x5e2)]()){let _0x20e152=(this[_0x7f618d(0x7ac)]?.[_0x7f618d(0x6eb)][_0x7f618d(0x5b6)]||0x0)*0xea60,_0x420dd4=Date[_0x7f618d(0xe6)]()+_0x20e152;_0x1b85d2?.['leadInfo']?.[_0x7f618d(0x55e)]===0x0||(_0x50666a={..._0x50666a,'leadInfo.desativadoFluxoAte':_0x420dd4},this[_0x7f618d(0x671)][_0x7f618d(0x244)](this[_0x7f618d(0x7ab)]+'\x20('+this[_0x7f618d(0x597)]['wuid']+_0x7f618d(0xed)+_0x420dd4+'.'));}if(_0x246fb1[_0x7f618d(0x5e2)]()===this[_0x7f618d(0x7ac)]?.[_0x7f618d(0x6eb)][_0x7f618d(0xcd)][_0x7f618d(0x5e2)]()){this['logger']['verbose'](this[_0x7f618d(0x7ab)]+'\x20('+this[_0x7f618d(0x597)][_0x7f618d(0x38f)]+_0x7f618d(0x24a)+_0x246fb1);let _0x21e37b=Date['now']();this['AutomateSystem']?.[_0x7f618d(0x6eb)][_0x7f618d(0x367)]===0x0?_0x50666a={..._0x50666a,'leadInfo.desativadoFluxoAte':_0x21e37b+0x7591f6200}:_0x50666a={..._0x50666a,'leadInfo.desativadoFluxoAte':_0x21e37b+this['AutomateSystem']?.[_0x7f618d(0x6eb)][_0x7f618d(0x367)]*0x3c*0x3e8};}if(_0x1b85d2=await this[_0x7f618d(0x2d1)]['chat']['updateOne']({'where':{'_id':_0x26c919}},_0x50666a,this[_0x7f618d(0x597)][_0x7f618d(0x38f)],{'new':!0x0,'upsert':!0x0}),_0x1b85d2)F(this['instanceName'],_0x7f618d(0x650),{'chat':_0x1b85d2});else{this['logger'][_0x7f618d(0x6f8)](this[_0x7f618d(0x7ab)]+'\x20('+this[_0x7f618d(0x597)][_0x7f618d(0x38f)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(_0x157860)return this[_0x7f618d(0x671)]['verbose'](this[_0x7f618d(0x7ab)]+'\x20('+this[_0x7f618d(0x597)][_0x7f618d(0x38f)]+_0x7f618d(0x5e5)),null;if(!this['AutomateSystem']?.[_0x7f618d(0x6eb)][_0x7f618d(0x5e4)])return this['logger'][_0x7f618d(0x244)](this[_0x7f618d(0x7ab)]+'\x20('+this['instance']['wuid']+_0x7f618d(0x2d5)),null;if(_0x1b85d2[_0x7f618d(0x6ee)]['includes'](_0x7f618d(0x290))&&this['AutomateSystem']?.[_0x7f618d(0x6eb)]['ignoreGroups']===!0x0)return this['logger'][_0x7f618d(0x244)](this[_0x7f618d(0x7ab)]+'\x20('+this[_0x7f618d(0x597)][_0x7f618d(0x38f)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x1b85d2[_0x7f618d(0x1b4)]){if(_0x1b85d2[_0x7f618d(0x1b4)][_0x7f618d(0x55e)]===0x0||_0x1b85d2[_0x7f618d(0x1b4)]['atendimentoAberto'])return this[_0x7f618d(0x671)][_0x7f618d(0x244)](this[_0x7f618d(0x7ab)]+'\x20('+this[_0x7f618d(0x597)]['wuid']+_0x7f618d(0x399)+_0x26c919+',\x20saindo.'),null;if(_0x1b85d2[_0x7f618d(0x1b4)][_0x7f618d(0x55e)]>Date['now']()&&!_0x36682b['message_normalized']?.['vote'])return this['logger'][_0x7f618d(0x244)](this[_0x7f618d(0x7ab)]+'\x20('+this[_0x7f618d(0x597)][_0x7f618d(0x38f)]+_0x7f618d(0x35c)+new Date(_0x1b85d2[_0x7f618d(0x1b4)][_0x7f618d(0x55e)])[_0x7f618d(0x623)]()+_0x7f618d(0x118)),null;}this['logger'][_0x7f618d(0x244)](this[_0x7f618d(0x7ab)]+'\x20('+this[_0x7f618d(0x597)][_0x7f618d(0x38f)]+_0x7f618d(0x7c7)),this[_0x7f618d(0x110)](_0x36682b,_0x128a31);}catch(_0x4a08d7){let _0xa524c9=_0x7f618d(0x1e1),_0x1e411a=_0x4a08d7 instanceof Error?_0x4a08d7[_0x7f618d(0x3bf)]:typeof _0x4a08d7==_0x7f618d(0x4b9)?JSON[_0x7f618d(0x115)](_0x4a08d7):_0x4a08d7,_0xcc02e7=_0xa524c9+':\x20'+_0x1e411a;return this['logger']['error'](this[_0x7f618d(0x7ab)]+'\x20('+this[_0x7f618d(0x597)][_0x7f618d(0x38f)]+_0x7f618d(0x84)+_0xcc02e7),null;}}async[a0_0x1d7ec3(0x774)](_0xaec230,_0x40aef8){const _0x120c9d=a0_0x1d7ec3;if(_0x40aef8[_0x120c9d(0x7ff)]){let _0x248d03=_0xaec230[_0x120c9d(0x5c2)](async _0x42e4ac=>{const _0x5a1d53=_0x120c9d;try{let _0x31ebc1={'_id':_0x42e4ac[_0x5a1d53(0x6ee)],'owner':_0x42e4ac[_0x5a1d53(0x31c)],'lastcache':0x0};if(Object[_0x5a1d53(0x29b)](_0x42e4ac)[_0x5a1d53(0xb2)](_0x2d32af=>{_0x42e4ac[_0x2d32af]!==null&&(_0x31ebc1[_0x2d32af]=_0x42e4ac[_0x2d32af]);}),_0x31ebc1[_0x5a1d53(0x6b5)]===null&&(_0x31ebc1[_0x5a1d53(0x6b5)]=_0x5a1d53(0x79f)),Object['keys'](_0x31ebc1)[_0x5a1d53(0x387)]>0x0)return await this['repository'][_0x5a1d53(0x39a)][_0x5a1d53(0x171)]({'where':{'_id':_0x42e4ac[_0x5a1d53(0x6ee)]}},_0x31ebc1,this[_0x5a1d53(0x597)][_0x5a1d53(0x38f)]);}catch(_0x2f4f39){let _0x248f08=_0x5a1d53(0x62a)+_0x42e4ac[_0x5a1d53(0x6ee)],_0x530cdd=_0x2f4f39 instanceof Error?_0x2f4f39[_0x5a1d53(0x3bf)]:typeof _0x2f4f39==_0x5a1d53(0x4b9)?JSON['stringify'](_0x2f4f39):_0x2f4f39,_0x4f7524=_0x248f08+':\x20'+_0x530cdd;return this[_0x5a1d53(0x671)]['error'](this[_0x5a1d53(0x7ab)]+'\x20('+this['instance'][_0x5a1d53(0x38f)]+'):\x20'+_0x4f7524),null;}}),_0x4611d6=(await Promise[_0x120c9d(0x4f6)](_0x248d03))[_0x120c9d(0x350)](_0x1e42b0=>_0x1e42b0!==null)[_0x120c9d(0x387)];this['logger'][_0x120c9d(0x244)](this[_0x120c9d(0x7ab)]+'\x20('+this['instance'][_0x120c9d(0x38f)]+_0x120c9d(0x84)+_0x4611d6+_0x120c9d(0x455)+this['instance'][_0x120c9d(0x38f)]+_0x120c9d(0x3bc));}}async[a0_0x1d7ec3(0x721)](_0x3349cd){const _0x194e31=a0_0x1d7ec3;this[_0x194e31(0x671)][_0x194e31(0x244)](this[_0x194e31(0x7ab)]+'\x20('+this[_0x194e31(0x597)][_0x194e31(0x38f)]+'):\x20Ler\x20mensagem');let _0x2d53df={'readMessages':[{'remoteJid':_0x3349cd[_0x194e31(0x139)][_0x194e31(0x364)][_0x194e31(0x7e8)][_0x194e31(0x9d)],'fromMe':_0x3349cd[_0x194e31(0x139)][_0x194e31(0x364)][_0x194e31(0x7e8)][_0x194e31(0x123)],'id':_0x3349cd['chatLog'][_0x194e31(0x364)][_0x194e31(0x7e8)]['id']}]};await this[_0x194e31(0x78f)](_0x2d53df);}async[a0_0x1d7ec3(0x110)](_0x3e118e,_0x5cca9e){const _0x443261=a0_0x1d7ec3;try{let {key:_0x236803,message_normalized:_0x408712}=_0x3e118e,_0x214a9b=_0x408712,_0x35fc55=_0x408712[_0x443261(0x7df)]||_0x408712[_0x443261(0x4ab)]||_0x408712[_0x443261(0x272)]||_0x408712['name']||'',_0x5854b3=_0x236803[_0x443261(0x9d)],_0x391711=null,_0x15bc04=this['AutomateSystem'][_0x443261(0x4ea)][_0x443261(0x44c)](_0x31717b=>_0x31717b[_0x443261(0x166)]&&_0x35fc55[_0x443261(0x603)](_0x31717b['startCommand']));if(_0x15bc04&&_0x5cca9e===_0x443261(0x3f1)){let _0x409c29=await this[_0x443261(0x2d1)]['flow'][_0x443261(0x6f0)]({'where':{'_id':_0x15bc04[_0x443261(0x6ee)]}});if(this[_0x443261(0x671)]['verbose'](this[_0x443261(0x7ab)]+'\x20('+this[_0x443261(0x597)][_0x443261(0x38f)]+_0x443261(0x57b)),_0x409c29&&_0x409c29['whoCanUse']?.[_0x443261(0x603)](this[_0x443261(0x597)]['wuid']))_0x391711=await this[_0x443261(0xdf)](_0x409c29,_0x236803,_0x214a9b);else return this['logger']['verbose'](this[_0x443261(0x7ab)]+'\x20('+this[_0x443261(0x597)]['wuid']+_0x443261(0x454)),null;}else this[_0x443261(0x671)][_0x443261(0x244)](this[_0x443261(0x7ab)]+'\x20('+this['instance'][_0x443261(0x38f)]+_0x443261(0x434));if(_0x391711=await this[_0x443261(0x745)](_0x5854b3,_0x214a9b),_0x391711){this[_0x443261(0x671)][_0x443261(0x244)](this[_0x443261(0x7ab)]+'\x20('+this['instance'][_0x443261(0x38f)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x236803[_0x443261(0x123)]&&_0x391711[_0x443261(0x467)]&&this[_0x443261(0x721)](_0x391711);let _0x1f154e=await this[_0x443261(0x1d3)](_0x391711);_0x1f154e&&await this[_0x443261(0x44f)](_0x391711,_0x1f154e);}}catch(_0x3da3e0){this[_0x443261(0x671)][_0x443261(0x6f8)](this[_0x443261(0x7ab)]+'\x20('+this[_0x443261(0x597)]['wuid']+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x3da3e0 instanceof Error?_0x3da3e0['message']:JSON[_0x443261(0x115)](_0x3da3e0,null,0x2)));}}[a0_0x1d7ec3(0x3a2)](_0x488bc6,_0x118bae='',_0x29d227={}){const _0x2c9766=a0_0x1d7ec3;return typeof _0x488bc6!=_0x2c9766(0x4b9)||_0x488bc6===null?(_0x118bae&&(_0x29d227[_0x118bae]=_0x488bc6),_0x29d227):(Object[_0x2c9766(0x1c2)](_0x488bc6)[_0x2c9766(0xb2)](([_0x174bf7,_0x3075f5])=>{const _0x1d6b72=_0x2c9766;let _0x297ffc=_0x118bae?_0x118bae+'.'+_0x174bf7:'_'+_0x174bf7;Array[_0x1d6b72(0xab)](_0x3075f5)?_0x3075f5[_0x1d6b72(0xb2)]((_0xfa5db8,_0x10ed20)=>{this['flattenObject'](_0xfa5db8,_0x297ffc+'['+_0x10ed20+']',_0x29d227);}):typeof _0x3075f5==_0x1d6b72(0x4b9)&&_0x3075f5!==null?this[_0x1d6b72(0x3a2)](_0x3075f5,_0x297ffc,_0x29d227):_0x29d227[_0x297ffc]=String(_0x3075f5);}),_0x29d227);}[a0_0x1d7ec3(0x5ac)](_0x401575){const _0x34d9e0=a0_0x1d7ec3;let _0x3e9f29={};for(let _0x48b539 of _0x401575)typeof _0x48b539['name']=='string'&&typeof _0x48b539[_0x34d9e0(0x491)]==_0x34d9e0(0x2e7)&&(_0x3e9f29[_0x48b539[_0x34d9e0(0x70c)]]=_0x48b539[_0x34d9e0(0x491)]);return _0x3e9f29;}async[a0_0x1d7ec3(0x1d3)](_0x4815c1){const _0x453cf7=a0_0x1d7ec3;if(!this['AutomateSystem']?.[_0x453cf7(0x6eb)][_0x453cf7(0x5e4)]||_0x4815c1[_0x453cf7(0x77f)]!==_0x453cf7(0xb0)&&_0x4815c1[_0x453cf7(0x8d)]==='')return null;let _0x179438=_0x4815c1[_0x453cf7(0x139)][_0x453cf7(0x33d)]||_0x453cf7(0x4d8);typeof _0x4815c1[_0x453cf7(0x139)][_0x453cf7(0x358)]>'u'&&(_0x4815c1[_0x453cf7(0x139)][_0x453cf7(0x358)]=!0x0);let _0x487f58=_0x4815c1['chatLog'][_0x453cf7(0x358)];this[_0x453cf7(0x671)]['verbose'](this[_0x453cf7(0x7ab)]+'\x20('+this['instance'][_0x453cf7(0x38f)]+'):\x20lastBlockId:\x20'+_0x179438+',\x20lastCondition:\x20'+_0x487f58);let _0x339da1=_0x179438===_0x453cf7(0x4d8)?_0x4815c1[_0x453cf7(0x17f)][_0x453cf7(0x44c)](_0x36406f=>_0x36406f[_0x453cf7(0x7c9)]===_0x453cf7(0x4d8)):_0x4815c1['blocks']['find'](_0x3b5fbb=>_0x3b5fbb[_0x453cf7(0x6ee)][_0x453cf7(0x125)]()===_0x179438[_0x453cf7(0x125)]());if(!_0x339da1)return this[_0x453cf7(0x671)][_0x453cf7(0x6f8)](this[_0x453cf7(0x7ab)]+'\x20('+this[_0x453cf7(0x597)][_0x453cf7(0x38f)]+_0x453cf7(0x14f)+_0x179438),null;let _0x447ea3={'_pushName':_0x4815c1?.[_0x453cf7(0x139)]?.['lastReceivedMessage']?.[_0x453cf7(0x754)]||'','_sender':this[_0x453cf7(0x597)][_0x453cf7(0x38f)]||'',..._0x4815c1[_0x453cf7(0x139)][_0x453cf7(0x5e8)]},_0xe8e33a=new Date();_0x447ea3[_0x453cf7(0x77c)]=_0xe8e33a[_0x453cf7(0x8f)](),_0x447ea3[_0x453cf7(0x1ce)]=_0xe8e33a['getMonth']()+0x1,_0x447ea3[_0x453cf7(0x7cf)]=_0xe8e33a[_0x453cf7(0x7e3)](),_0x447ea3[_0x453cf7(0x4eb)]=_0xe8e33a['getHours'](),_0x447ea3['_minute']=_0xe8e33a[_0x453cf7(0x175)](),_0x447ea3['_second']=_0xe8e33a[_0x453cf7(0x6ba)]();let _0x3149fd=null;if(_0x4815c1[_0x453cf7(0x8d)]){let _0x2d9021=_0x4815c1[_0x453cf7(0x139)][_0x453cf7(0x364)][_0x453cf7(0x272)],_0x214988=_0x4815c1[_0x453cf7(0x329)][_0x453cf7(0x44c)](_0x514027=>_0x514027['option']===_0x2d9021);if(_0x214988){let _0xfcaf31=_0x214988[_0x453cf7(0x347)];if(_0x3149fd=_0x4815c1[_0x453cf7(0x17f)][_0x453cf7(0x44c)](_0x460ea3=>_0x460ea3[_0x453cf7(0x7b7)]===_0xfcaf31&&_0x460ea3['order']===0x1),_0x339da1[_0x453cf7(0x28f)][_0x453cf7(0x293)]){let _0x4bbb2c={'id':_0x4815c1[_0x453cf7(0x8d)],'remoteJid':_0x4815c1[_0x453cf7(0x9d)],'fromMe':!0x0};await this[_0x453cf7(0x2ab)](_0x4bbb2c);}if(_0x339da1['uazapi'][_0x453cf7(0x293)]&&_0x339da1[_0x453cf7(0x28f)]['pollMessageOnDelete']&&_0x339da1['uazapi'][_0x453cf7(0x2c2)]===_0x453cf7(0xbc)){let _0x109e0f={'number':_0x4815c1[_0x453cf7(0x9d)],'options':{'delay':0x0},'textMessage':{'text':_0x453cf7(0x3f3)+_0x4815c1[_0x453cf7(0x4d2)]+_0x453cf7(0x17a)+_0x2d9021}};await this[_0x453cf7(0x7e7)](_0x109e0f);}_0x447ea3[_0x453cf7(0x726)]=_0x2d9021,_0x4815c1['status']=_0x453cf7(0xb0),_0x4815c1['waitingMenu_id']='',_0x4815c1['waitingMenu_text']='',_0x4815c1[_0x453cf7(0x329)]=[];}else{this['logger'][_0x453cf7(0x244)](this[_0x453cf7(0x7ab)]+'\x20('+this[_0x453cf7(0x597)]['wuid']+_0x453cf7(0x50f));let _0x48ae86={'activatedCount':_0x4815c1[_0x453cf7(0x139)][_0x453cf7(0x4a5)][_0x453cf7(0x350)](_0x45ecde=>String(_0x45ecde[_0x453cf7(0x370)])===String(_0x179438))[_0x453cf7(0x387)],'moreLogs':[_0x453cf7(0x40d)]};if(_0x339da1['uazapi'][_0x453cf7(0x314)]){let _0x175de7={'number':_0x4815c1[_0x453cf7(0x9d)],'options':{'delay':0x0},'textMessage':{'text':_0x339da1[_0x453cf7(0x28f)]['pollErrorMessage']}};await this['textMessage'](_0x175de7);}if(_0x339da1[_0x453cf7(0x76e)]!==void 0x0&&_0x48ae86[_0x453cf7(0x1f6)]>=_0x339da1[_0x453cf7(0x76e)]){let _0x894011=Date['now'](),_0x4a2577=_0x339da1[_0x453cf7(0x126)]??0xa;isNaN(_0x4a2577)&&(_0x4a2577=0xa);let _0x5aa675=_0x894011+_0x4a2577*0x3c*0x3e8;_0x48ae86[_0x453cf7(0x117)]=_0x5aa675,_0x48ae86[_0x453cf7(0x6f4)][_0x453cf7(0x1fc)](_0x453cf7(0x285)),this[_0x453cf7(0x744)](_0x4815c1,_0x5aa675),_0x4815c1[_0x453cf7(0x8d)]='',_0x4815c1['waitingMenu_text']='',_0x4815c1[_0x453cf7(0x329)]=[];}return this[_0x453cf7(0x627)](_0x4815c1,_0x339da1,_0x48ae86,!0x0),null;}}if(_0x487f58&&_0x339da1[_0x453cf7(0x347)]&&!_0x4815c1[_0x453cf7(0x8d)]){let _0x4ad107=_0x4815c1[_0x453cf7(0x17f)]['filter'](_0x485bb8=>_0x485bb8[_0x453cf7(0x7b7)][_0x453cf7(0x125)]()===_0x339da1['next_groupId'][_0x453cf7(0x125)]())[_0x453cf7(0x3d4)]((_0x27798b,_0x3b4b73)=>_0x27798b['order']-_0x3b4b73[_0x453cf7(0x381)]);_0x4ad107[_0x453cf7(0x387)]>0x0&&(_0x3149fd=_0x4ad107[0x0]);}if(!_0x3149fd){let _0x14f6ed=_0x339da1[_0x453cf7(0x7b7)],_0xcf3c52=_0x4815c1[_0x453cf7(0x17f)][_0x453cf7(0x350)](_0x20c8b0=>_0x20c8b0[_0x453cf7(0x7b7)]===_0x14f6ed&&_0x20c8b0[_0x453cf7(0x381)]>_0x339da1[_0x453cf7(0x381)])[_0x453cf7(0x3d4)]((_0x2109a7,_0x42863a)=>_0x2109a7[_0x453cf7(0x381)]-_0x42863a[_0x453cf7(0x381)]);_0xcf3c52['length']>0x0&&(_0x3149fd=_0xcf3c52[0x0]);}if(!_0x3149fd)return _0x4815c1[_0x453cf7(0x77f)]='closed',null;_0x4815c1[_0x453cf7(0x139)][_0x453cf7(0x5e8)]=_0x447ea3;let _0x30802d=JSON[_0x453cf7(0x665)](JSON['stringify'](_0x3149fd));return this[_0x453cf7(0x3e0)](_0x30802d,_0x4815c1[_0x453cf7(0x139)][_0x453cf7(0x5e8)]),_0x4815c1[_0x453cf7(0x139)]['lastBlockId']=_0x30802d['_id'],_0x4815c1[_0x453cf7(0x139)][_0x453cf7(0x358)]=!0x0,_0x30802d;}[a0_0x1d7ec3(0x328)](_0x217dc4,_0x8d175d){const _0x4c9e48=a0_0x1d7ec3;return _0x217dc4[_0x4c9e48(0x404)](/\{\{([^}]+)\}\}/g,(_0x10ed05,_0x481ec5)=>_0x8d175d[_0x481ec5]||'');}[a0_0x1d7ec3(0x3e0)](_0x5ba9a0,_0x4a699a){const _0x3494a3=a0_0x1d7ec3;for(let _0x4a4b58 in _0x5ba9a0)typeof _0x5ba9a0[_0x4a4b58]==_0x3494a3(0x2e7)?_0x5ba9a0[_0x4a4b58]=this[_0x3494a3(0x328)](_0x5ba9a0[_0x4a4b58],_0x4a699a):typeof _0x5ba9a0[_0x4a4b58]==_0x3494a3(0x4b9)&&this['replaceVariablesInObject'](_0x5ba9a0[_0x4a4b58],_0x4a699a);}async['goNextblock'](_0xdfc3b3,_0x4549af){const _0xd83b13=a0_0x1d7ec3;let _0x5482b6=_0x4549af[_0xd83b13(0x6ee)];if(_0xdfc3b3[_0xd83b13(0x139)]&&_0xdfc3b3[_0xd83b13(0x139)][_0xd83b13(0x4a5)]){let _0x446801=_0xdfc3b3[_0xd83b13(0x139)][_0xd83b13(0x4a5)][_0xd83b13(0x350)](_0x49b0f0=>String(_0x49b0f0[_0xd83b13(0x370)])===String(_0x5482b6))[_0xd83b13(0x129)]();if(_0x446801&&_0x446801[_0xd83b13(0x6f8)]&&_0x4549af[_0xd83b13(0x459)])return _0xdfc3b3[_0xd83b13(0x77f)]='closed',await this[_0xd83b13(0x1f9)](_0xdfc3b3),null;}if(_0x4549af[_0xd83b13(0x7c9)]===_0xd83b13(0x28f)&&_0x4549af['uazapi'][_0xd83b13(0x640)]===_0xd83b13(0x2da)&&_0xdfc3b3[_0xd83b13(0x8d)])return _0xdfc3b3['chatLog'][_0xd83b13(0x33d)]=_0x5482b6,await this[_0xd83b13(0x1f9)](_0xdfc3b3),null;let _0x570495=await this[_0xd83b13(0x1d3)](_0xdfc3b3);if(_0xdfc3b3['chatLog']&&_0xdfc3b3[_0xd83b13(0x139)]['blockLogs']){let _0x3059be=_0xdfc3b3[_0xd83b13(0x139)]['blockLogs'][_0xd83b13(0x350)](_0xea616a=>String(_0xea616a[_0xd83b13(0x370)])===String(_0x5482b6))[_0xd83b13(0x387)];if(_0x4549af[_0xd83b13(0x76e)]!==void 0x0&&_0x3059be>=_0x4549af['maxActives']){let _0x1cee47=Date[_0xd83b13(0xe6)](),_0x314bb5=_0x4549af[_0xd83b13(0x126)]??0xa;isNaN(_0x314bb5)&&(_0x314bb5=0xa);let _0x17f653=_0x1cee47+_0x314bb5*0x3c*0x3e8,_0x47044f={'newStoppedUntil':_0x17f653};return this['updateStopChat'](_0xdfc3b3,_0x17f653),this[_0xd83b13(0x627)](_0xdfc3b3,_0x4549af,_0x47044f,!0x0),null;}}_0x570495&&_0x570495[_0xd83b13(0x7c9)]!=='save'&&await this['processblock'](_0xdfc3b3,_0x570495),_0x570495||await this['saveConversationToDatabase'](_0xdfc3b3),_0x570495&&_0x570495[_0xd83b13(0x7c9)]==='save'&&(_0xdfc3b3[_0xd83b13(0x139)][_0xd83b13(0x33d)]=_0x5482b6,await this[_0xd83b13(0x1f9)](_0xdfc3b3));}async[a0_0x1d7ec3(0x44f)](_0x913d9e,_0x268c22){const _0x198fcc=a0_0x1d7ec3;try{let _0x1c5bd7=_0x268c22[_0x198fcc(0x7c9)];this['logger'][_0x198fcc(0x244)](this[_0x198fcc(0x7ab)]+'\x20('+this[_0x198fcc(0x597)][_0x198fcc(0x38f)]+_0x198fcc(0x5c6)+_0x1c5bd7);let _0x3df760={'uazapi':()=>this[_0x198fcc(0x5db)](_0x913d9e,_0x268c22),'save':()=>this['saveTextReply'](_0x913d9e,_0x268c22),'stop':()=>this[_0x198fcc(0xcd)](_0x913d9e,_0x268c22),'condition':()=>this[_0x198fcc(0x1fb)](_0x913d9e,_0x268c22),'varedit':()=>this[_0x198fcc(0x781)](_0x913d9e,_0x268c22),'apirequest':()=>this[_0x198fcc(0x4b8)](_0x913d9e,_0x268c22),'goToFlow':()=>this[_0x198fcc(0x2d9)](_0x913d9e,_0x268c22),'scheduleFlow':()=>this[_0x198fcc(0x2f5)](_0x913d9e,_0x268c22),'awaitSeconds':()=>this[_0x198fcc(0x68b)](_0x913d9e,_0x268c22),'clearVariables':()=>this[_0x198fcc(0x408)](_0x913d9e,_0x268c22)}[_0x1c5bd7];_0x3df760&&await _0x3df760();}catch(_0x637510){this['logger'][_0x198fcc(0x6f8)](this[_0x198fcc(0x7ab)]+'\x20('+this[_0x198fcc(0x597)][_0x198fcc(0x38f)]+_0x198fcc(0x60a)+(_0x637510 instanceof Error?_0x637510['message']:JSON[_0x198fcc(0x115)](_0x637510,null,0x2)));}}async['processawaitSeconds'](_0x15b6ec,_0x49aafe){const _0x1925b3=a0_0x1d7ec3;if(this[_0x1925b3(0x671)][_0x1925b3(0x244)](this[_0x1925b3(0x7ab)]+'\x20('+this[_0x1925b3(0x597)][_0x1925b3(0x38f)]+_0x1925b3(0x607)),!_0x15b6ec||!_0x49aafe)return this['logger'][_0x1925b3(0x6f8)](this['instanceName']+'\x20('+this[_0x1925b3(0x597)][_0x1925b3(0x38f)]+_0x1925b3(0x323)),null;let _0x48732c=+_0x49aafe['awaitSeconds'];isNaN(_0x48732c)&&(_0x48732c=0x0),_0x48732c=Math['min'](_0x48732c,0x3c),await(0x0,w[_0x1925b3(0x1da)])(_0x48732c*0x3e8);let _0x5dc860={'moreLogs':['Pausado\x20por\x20'+_0x48732c+'\x20segundos']};return await this[_0x1925b3(0x627)](_0x15b6ec,_0x49aafe,_0x5dc860),_0x48732c;}async[a0_0x1d7ec3(0x408)](_0x3c2c40,_0x159ccf){const _0x1a3329=a0_0x1d7ec3;if(this['logger'][_0x1a3329(0x244)](this[_0x1a3329(0x7ab)]+'\x20('+this[_0x1a3329(0x597)]['wuid']+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x3c2c40||!_0x159ccf)return this[_0x1a3329(0x671)][_0x1a3329(0x6f8)](this['instanceName']+'\x20('+this[_0x1a3329(0x597)][_0x1a3329(0x38f)]+_0x1a3329(0x323)),null;let _0x4318ee=[];if(_0x159ccf['clearVariables'][_0x1a3329(0x5e2)]()===_0x1a3329(0xbf)){let _0x5d59ce=[_0x1a3329(0x281),'_pushName',_0x1a3329(0x2a1),_0x1a3329(0xa1),_0x1a3329(0x509),_0x1a3329(0x6ee),_0x1a3329(0x2d2)];_0x4318ee=Object[_0x1a3329(0x29b)](_0x3c2c40[_0x1a3329(0x139)][_0x1a3329(0x5e8)])[_0x1a3329(0x350)](_0x5bd2fd=>_0x5bd2fd[_0x1a3329(0x1b2)]('_')&&!_0x5d59ce[_0x1a3329(0x603)](_0x5bd2fd));}else _0x4318ee=_0x159ccf[_0x1a3329(0x61e)][_0x1a3329(0x5f3)]('|')['map'](_0x106b4c=>(_0x106b4c=_0x106b4c[_0x1a3329(0x404)](/[{}]/g,'')[_0x1a3329(0x5e2)](),_0x106b4c[_0x1a3329(0x1b2)]('_')?_0x106b4c:'_'+_0x106b4c));let _0x20b7ae=[];_0x4318ee['forEach'](_0x8682f2=>{const _0x3a83d0=_0x1a3329;_0x8682f2 in _0x3c2c40['chatLog'][_0x3a83d0(0x5e8)]&&(delete _0x3c2c40[_0x3a83d0(0x139)][_0x3a83d0(0x5e8)][_0x8682f2],_0x20b7ae[_0x3a83d0(0x1fc)](_0x8682f2));}),_0x20b7ae[_0x1a3329(0x387)]>0x0?this[_0x1a3329(0x671)][_0x1a3329(0x244)](this['instanceName']+'\x20('+this[_0x1a3329(0x597)][_0x1a3329(0x38f)]+_0x1a3329(0x319)+_0x20b7ae['join'](',\x20')):this[_0x1a3329(0x671)][_0x1a3329(0x244)](this['instanceName']+'\x20('+this[_0x1a3329(0x597)][_0x1a3329(0x38f)]+_0x1a3329(0x590));let _0x18a390={'moreLogs':[_0x1a3329(0x7a6)+_0x20b7ae[_0x1a3329(0x7e1)](',\x20')]};return await this[_0x1a3329(0x627)](_0x3c2c40,_0x159ccf,_0x18a390),null;}async[a0_0x1d7ec3(0x2f5)](_0x185784,_0x436fc7){const _0x42be9=a0_0x1d7ec3;if(this[_0x42be9(0x671)][_0x42be9(0x244)](this['instanceName']+'\x20('+this[_0x42be9(0x597)][_0x42be9(0x38f)]+_0x42be9(0x557)),!_0x185784||!_0x436fc7)return this[_0x42be9(0x671)]['error'](this['instanceName']+'\x20('+this[_0x42be9(0x597)][_0x42be9(0x38f)]+_0x42be9(0x323)),null;let _0x302415=_0x185784[_0x42be9(0x9d)];_0x436fc7[_0x42be9(0x545)]['remoteJid']&&_0x436fc7['scheduleFlow'][_0x42be9(0x9d)][_0x42be9(0x5e2)]()!==''&&(_0x302415=_0x436fc7[_0x42be9(0x28f)][_0x42be9(0x9d)][_0x42be9(0x5e2)]());let _0x1dd65b=_0x436fc7[_0x42be9(0x545)][_0x42be9(0x192)]*0xea60,_0x3cdae1=Date[_0x42be9(0xe6)]()+_0x1dd65b,_0x12c963={'status':_0x42be9(0x1d8),'info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0x185784[_0x42be9(0x70c)],'remoteJids':[_0x302415],'when':_0x3cdae1,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x42be9(0x251),'flowName':_0x436fc7['scheduleFlow'][_0x42be9(0x725)]};this[_0x42be9(0x1b5)](_0x12c963);let _0x3b6421=await this[_0x42be9(0x1d3)](_0x185784);_0x3b6421&&await this[_0x42be9(0x44f)](_0x185784,_0x3b6421);}async[a0_0x1d7ec3(0x2d9)](_0x3ea9d7,_0x5d64d1){const _0x4c5b4c=a0_0x1d7ec3;if(this[_0x4c5b4c(0x671)][_0x4c5b4c(0x244)](this[_0x4c5b4c(0x7ab)]+'\x20('+this[_0x4c5b4c(0x597)]['wuid']+_0x4c5b4c(0x43e)),!_0x3ea9d7||!_0x5d64d1)return this[_0x4c5b4c(0x671)][_0x4c5b4c(0x6f8)](this['instanceName']+'\x20('+this[_0x4c5b4c(0x597)][_0x4c5b4c(0x38f)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x4c5b4c(0x627)](_0x3ea9d7,_0x5d64d1,{},!0x0,!0x0);let _0x5c598e=_0x5d64d1[_0x4c5b4c(0x36c)];_0x3ea9d7=await this[_0x4c5b4c(0xf8)](_0x5c598e,_0x3ea9d7[_0x4c5b4c(0x9d)],_0x3ea9d7[_0x4c5b4c(0x139)]['realVariables']);let _0xcc05cf=await this[_0x4c5b4c(0x1d3)](_0x3ea9d7);_0xcc05cf&&await this[_0x4c5b4c(0x44f)](_0x3ea9d7,_0xcc05cf);}async[a0_0x1d7ec3(0xf8)](_0x84db6e,_0xd7ee84,_0x5426bd){const _0x292c57=a0_0x1d7ec3;this[_0x292c57(0x671)][_0x292c57(0x244)](this['instanceName']+'\x20('+this[_0x292c57(0x597)][_0x292c57(0x38f)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{let _0x2adda1=this[_0x292c57(0x7ac)][_0x292c57(0x4ea)]['find'](_0x4cb446=>_0x4cb446[_0x292c57(0x6ee)]===_0x84db6e);_0x2adda1||this['logger'][_0x292c57(0x6f8)](this[_0x292c57(0x7ab)]+'\x20('+this['instance'][_0x292c57(0x38f)]+'):\x20Flow\x20\x27'+_0x84db6e+_0x292c57(0x6ed));let _0x56f27f=await this[_0x292c57(0x2d1)]['flow'][_0x292c57(0x6f0)]({'where':{'_id':_0x2adda1[_0x292c57(0x6ee)]}});if(!_0x56f27f||!_0x56f27f[_0x292c57(0x3cc)]?.['includes'](this[_0x292c57(0x597)][_0x292c57(0x38f)]))throw this['logger'][_0x292c57(0x6f8)](this[_0x292c57(0x7ab)]+'\x20('+this['instance'][_0x292c57(0x38f)]+'):\x20Flow\x20\x27'+_0x84db6e+_0x292c57(0x29d)),new m(_0x292c57(0x21a)+_0x84db6e+_0x292c57(0x29d));let _0x5329b2=require(_0x292c57(0x188))[_0x292c57(0x5cd)],_0x403ea9=Date[_0x292c57(0xe6)](),_0x27eb32=_0x292c57(0x4d8),_0x1c7b3e={},_0xdcea2d={},_0x44fcd5=this[_0x292c57(0x7ac)]['flows'][_0x292c57(0x44c)](_0x1f2597=>_0x1f2597[_0x292c57(0x6ee)]===_0x56f27f[_0x292c57(0x6ee)]?.[_0x292c57(0x125)]()),_0x1d6a37=_0x44fcd5?.['minutesToClose']??_0x56f27f[_0x292c57(0x3f7)]??0x0,_0x1147ad=_0x44fcd5?.['readMessages']??_0x56f27f[_0x292c57(0x467)]??!0x1,_0x4d9dd6={'flowId':_0x2adda1[_0x292c57(0x6ee)],'readMessages':_0x2adda1[_0x292c57(0x467)],..._0x56f27f,'chatLog':null},_0x10ea60={'lastReceivedMessage':_0x1c7b3e,'lastSendMessage':_0xdcea2d,'lastBlockId':_0x27eb32,'lastCondition':!0x0,'realVariables':_0x5426bd};_0x4d9dd6[_0x292c57(0x139)]=_0x10ea60,_0x4d9dd6[_0x292c57(0x139)][_0x292c57(0x5e8)]={..._0x5426bd},delete _0x4d9dd6[_0x292c57(0x6ee)],_0x4d9dd6[_0x292c57(0x6ee)]=new _0x5329b2(),_0x4d9dd6[_0x292c57(0x121)]=_0x403ea9,_0x4d9dd6[_0x292c57(0x77f)]='open',_0x4d9dd6[_0x292c57(0x9d)]=_0xd7ee84,_0x4d9dd6['minutesToClose']=_0x1d6a37,_0x4d9dd6[_0x292c57(0x467)]=_0x1147ad;let _0x2e1e1e=await this[_0x292c57(0x2d1)]['flowConversation'][_0x292c57(0x171)](_0x4d9dd6[_0x292c57(0x6ee)],_0x4d9dd6,this['instance']['wuid']);return this[_0x292c57(0x671)][_0x292c57(0x244)](this[_0x292c57(0x7ab)]+'\x20('+this['instance'][_0x292c57(0x38f)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x2e1e1e?_0x4d9dd6:null;}catch(_0x99a370){let _0x3e9d8f=_0x292c57(0x798),_0x57aefa=_0x99a370 instanceof Error?_0x99a370[_0x292c57(0x3bf)]:typeof _0x99a370=='object'?JSON[_0x292c57(0x115)](_0x99a370):_0x99a370,_0x5db22c=_0x3e9d8f+':\x20'+_0x57aefa;throw this[_0x292c57(0x671)]['error'](this[_0x292c57(0x7ab)]+'\x20('+this['instance'][_0x292c57(0x38f)]+_0x292c57(0x84)+_0x5db22c),new m(_0x5db22c);}}async['processApiRequest'](_0x45db55,_0x596923){const _0x36d065=a0_0x1d7ec3;let _0x52016e,_0x1f4acf;try{let _0x583c75=_0x596923[_0x36d065(0x5ce)];if(!_0x583c75||!_0x583c75[_0x36d065(0x6fa)]||!_0x583c75['method'])throw new Error(_0x36d065(0x164));let _0x3af6fb;([_0x36d065(0x14c),_0x36d065(0x7a9),'https://api.elevenlabs.io/v1/text-to-speech/'][_0x36d065(0x7c8)](_0xb2c1ef=>_0x583c75[_0x36d065(0x6fa)][_0x36d065(0x603)](_0xb2c1ef))||_0x583c75['requestFile'])&&(_0x3af6fb='arraybuffer');let _0x512204='\u205f',_0x434281;try{_0x434281=JSON[_0x36d065(0x665)](_0x583c75[_0x36d065(0x371)][_0x36d065(0x404)](new RegExp(_0x512204,'g'),''));}catch(_0x21ad09){throw _0x21ad09;}let _0x375935={'method':_0x583c75['method'],'url':_0x583c75['url'],'headers':_0x583c75[_0x36d065(0x2ba)]||{},..._0x583c75[_0x36d065(0x67d)][_0x36d065(0x724)]()!==_0x36d065(0x276)&&_0x583c75['bodyString']?{'data':JSON[_0x36d065(0x665)](_0x583c75['bodyString'][_0x36d065(0x404)](new RegExp(_0x512204,'g'),''))}:{},..._0x3af6fb&&{'responseType':_0x3af6fb}},_0x85a68d=await(0x0,Q[_0x36d065(0x1af)])(_0x375935),_0x3f272e=_0x85a68d['headers'][_0x36d065(0x373)];if(_0x3f272e&&_0x3f272e[_0x36d065(0x603)](_0x36d065(0x475))||typeof _0x85a68d[_0x36d065(0x470)]==_0x36d065(0x2e7)){if(typeof _0x85a68d[_0x36d065(0x470)]==_0x36d065(0x2e7)){let _0x411545=_0x85a68d[_0x36d065(0x470)]['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x36d065(0x5e2)]();try{_0x52016e=JSON[_0x36d065(0x665)](_0x411545);}catch(_0x17a0ab){this['logger'][_0x36d065(0x6f8)](_0x36d065(0x32d)+_0x17a0ab[_0x36d065(0x3bf)]),_0x52016e={'_apiResponse':_0x85a68d[_0x36d065(0x470)]};}}else _0x52016e=_0x85a68d[_0x36d065(0x470)];let _0x547e81=_0x45db55[_0x36d065(0x139)][_0x36d065(0x5e8)],_0x3cf022=this[_0x36d065(0x3a2)](_0x52016e);return Object[_0x36d065(0x790)](_0x547e81,_0x3cf022),_0x45db55[_0x36d065(0x139)][_0x36d065(0x5e8)]=_0x547e81,_0x1f4acf={'error':!0x1,'apiResponse':_0x52016e},this[_0x36d065(0x627)](_0x45db55,_0x596923,_0x1f4acf),_0x52016e;}if(_0x3f272e&&(_0x3f272e[_0x36d065(0x603)](_0x36d065(0x27e))||_0x3f272e[_0x36d065(0x603)]('image')||_0x3f272e[_0x36d065(0x603)]('audio')||_0x3f272e[_0x36d065(0x603)](_0x36d065(0x52b)))){this[_0x36d065(0x671)][_0x36d065(0x244)](this[_0x36d065(0x7ab)]+'\x20('+this[_0x36d065(0x597)][_0x36d065(0x38f)]+_0x36d065(0x52c)+_0x3f272e);let _0x48f41d=(0x0,Y['v4'])(),_0x5137bc='',_0x2877df={'image/jpeg':'.jpg','image/png':'.png','image/gif':_0x36d065(0x3a7),'image/webp':'.webp','image/svg+xml':_0x36d065(0x22a),'audio/mpeg':'.mp3','audio/ogg':_0x36d065(0x1f0),'audio/wav':_0x36d065(0x498),'video/mp4':_0x36d065(0x687),'video/webm':'.webm','video/ogg':_0x36d065(0x569),'text/plain':_0x36d065(0x3f5),'application/pdf':_0x36d065(0x653),'application/msword':_0x36d065(0x741),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x36d065(0x446),'application/vnd.ms-excel':_0x36d065(0x31d),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x36d065(0x556),'application/vnd.ms-powerpoint':_0x36d065(0x3df),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x36d065(0x594)};_0x2877df[_0x3f272e]?(_0x5137bc=_0x2877df[_0x3f272e],this['logger'][_0x36d065(0x244)](this[_0x36d065(0x7ab)]+'\x20('+this['instance'][_0x36d065(0x38f)]+_0x36d065(0x3a1)+_0x5137bc)):(_0x5137bc=_0x36d065(0x1c1),this[_0x36d065(0x671)][_0x36d065(0x244)](this['instanceName']+'\x20('+this[_0x36d065(0x597)][_0x36d065(0x38f)]+_0x36d065(0x614)+_0x5137bc)),_0x48f41d+=_0x5137bc,this[_0x36d065(0x671)][_0x36d065(0x244)](this['instanceName']+'\x20('+this[_0x36d065(0x597)][_0x36d065(0x38f)]+_0x36d065(0x116)+_0x48f41d);let _0x5f1389=this[_0x36d065(0x75a)][_0x36d065(0x332)](_0x36d065(0x1f2))[_0x36d065(0x4e1)];if(!_0x5f1389){let _0x218443=this[_0x36d065(0x75a)]['get'](_0x36d065(0x4c4));_0x5f1389=_0x36d065(0x3d9)+(_0x218443&&_0x218443['FULLCHAIN'][_0x36d065(0x5f3)]('/')[0x4]);}let _0x4ddca6=Buffer[_0x36d065(0x7d6)](_0x85a68d[_0x36d065(0x470)]);await this[_0x36d065(0x419)](_0x4ddca6,_0x48f41d);let _0x489897='/media/'+_0x48f41d;_0x489897=''+_0x5f1389+_0x489897,_0x52016e={'fileUrl':_0x489897},_0x45db55[_0x36d065(0x139)][_0x36d065(0x5e8)][_0x36d065(0x4e4)]=_0x489897;let _0xeb62ea=_0x45db55[_0x36d065(0x139)][_0x36d065(0x5e8)],_0x50300d=this[_0x36d065(0x3a2)](_0x52016e);return Object[_0x36d065(0x790)](_0xeb62ea,_0x50300d),_0x45db55[_0x36d065(0x139)][_0x36d065(0x5e8)]=_0xeb62ea,_0x1f4acf={'error':!0x1,'apiResponse':{'fileUrl':_0x489897}},this[_0x36d065(0x627)](_0x45db55,_0x596923,_0x1f4acf),_0x52016e;}}catch(_0x4cb5a8){this[_0x36d065(0x671)]['error']('Erro\x20ao\x20processar\x20a\x20chamada\x20API:'+_0x4cb5a8[_0x36d065(0x3bf)]),_0x4cb5a8[_0x36d065(0x5bc)]&&(_0x52016e=_0x4cb5a8['response']['data']);let _0x3ffec7=_0x45db55['chatLog']['realVariables'],_0x43b0d7=this[_0x36d065(0x3a2)](_0x52016e);return Object[_0x36d065(0x790)](_0x3ffec7,_0x43b0d7),_0x45db55['chatLog'][_0x36d065(0x5e8)]=_0x3ffec7,_0x1f4acf={'error':!0x0,'errorLog':_0x4cb5a8['toString'](),'apiResponse':_0x52016e},this[_0x36d065(0x627)](_0x45db55,_0x596923,_0x1f4acf),{'success':!0x1};}}[a0_0x1d7ec3(0xfa)](_0x4889e2,_0x1fe6de){const _0x544b48=a0_0x1d7ec3;let _0x3fd15b=_0x3c84e7=>{const _0x2cfef6=a0_0x5af0;let _0x5decfa=_0x3c84e7[_0x2cfef6(0x404)](/[^0-9.,-]/g,'')[_0x2cfef6(0x404)](',','.'),_0x1a31b4=parseFloat(_0x5decfa);return isNaN(_0x1a31b4)?null:_0x1a31b4;},_0x2c4d85=_0x1fe6de[_0x544b48(0x263)],_0x2e1331=_0x1fe6de[_0x544b48(0x1fd)];typeof _0x2c4d85==_0x544b48(0x2e7)&&(_0x2c4d85=this[_0x544b48(0x328)](_0x2c4d85,_0x4889e2['chatLog'][_0x544b48(0x5e8)])??''),typeof _0x2e1331=='string'&&(_0x2e1331=this[_0x544b48(0x328)](_0x2e1331,_0x4889e2[_0x544b48(0x139)][_0x544b48(0x5e8)])??'');let _0x91ef5a=null;if(!_0x1fe6de['editOperator'])return null;switch(this[_0x544b48(0x671)][_0x544b48(0x244)](this[_0x544b48(0x7ab)]+'\x20('+this[_0x544b48(0x597)][_0x544b48(0x38f)]+_0x544b48(0xc6)+_0x2c4d85),this['logger']['verbose'](this[_0x544b48(0x7ab)]+'\x20('+this['instance'][_0x544b48(0x38f)]+_0x544b48(0x70f)+_0x2e1331),_0x1fe6de[_0x544b48(0x5be)]){case'+':case'-':case'*':case'/':let _0x22a078=_0x3fd15b(_0x2c4d85||'0'),_0x32be0a=_0x3fd15b(_0x2e1331||'0');if(_0x22a078===null)return null;switch(_0x1fe6de[_0x544b48(0x5be)]){case'+':_0x91ef5a=_0x22a078+(_0x32be0a??0x0);break;case'-':_0x91ef5a=_0x22a078-(_0x32be0a??0x0);break;case'*':_0x91ef5a=_0x22a078*(_0x32be0a??0x1);break;case'/':_0x32be0a!==0x0&&(_0x91ef5a=_0x22a078/(_0x32be0a??0x1));break;}break;case _0x544b48(0x678):case'findAndReplaceRegex':let _0x13c9bf=_0x2e1331,_0x56b626=_0x1fe6de[_0x544b48(0x6dc)];if(typeof _0x56b626=='string'&&(_0x56b626=this[_0x544b48(0x328)](_0x56b626,_0x4889e2[_0x544b48(0x139)][_0x544b48(0x5e8)])??''),_0x13c9bf&&_0x56b626!==void 0x0){let _0x382a9b=_0x1fe6de[_0x544b48(0x5be)]===_0x544b48(0x678)?new RegExp(_0x13c9bf[_0x544b48(0x404)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x13c9bf,'g');_0x91ef5a=_0x2c4d85[_0x544b48(0x404)](_0x382a9b,_0x56b626);}else console[_0x544b48(0x4d3)](_0x544b48(0x29c));break;case _0x544b48(0x415):_0x91ef5a=_0x2e1331;break;case _0x544b48(0xe3):let _0xf87362=_0x2c4d85[_0x544b48(0x20e)](new RegExp(_0x2e1331||''));_0x91ef5a=_0xf87362?_0xf87362[0x0]:'';break;case _0x544b48(0x26a):_0x91ef5a=_0x2c4d85[_0x544b48(0x75d)](0x0,parseInt(_0x2e1331||'0'));break;case _0x544b48(0x212):let _0x120e4b=parseInt(_0x2e1331||'0');_0x91ef5a=_0x2c4d85[_0x544b48(0x75d)](_0x2c4d85[_0x544b48(0x387)]-_0x120e4b);break;case'toBrazilianNumberFormat':let _0x1ba2bb=_0x3fd15b(_0x2c4d85),_0x141fc3=parseInt(_0x2e1331||'0');_0x141fc3=Math[_0x544b48(0x291)](_0x141fc3),_0x1ba2bb!==null?_0x91ef5a=_0x1ba2bb['toLocaleString'](_0x544b48(0x9a),{'minimumFractionDigits':_0x141fc3,'maximumFractionDigits':_0x141fc3}):(console[_0x544b48(0x4d3)](_0x544b48(0x3a4)+_0x2c4d85),_0x91ef5a=null);break;case _0x544b48(0x6ca):let _0x2e9ecd=_0x3fd15b(_0x2c4d85);_0x2e9ecd!==null?_0x91ef5a=_0x2e9ecd[_0x544b48(0x623)](_0x544b48(0x9a),{'style':_0x544b48(0x647),'currency':_0x544b48(0x605)}):(console[_0x544b48(0x4d3)](_0x544b48(0x4e9)+_0x2c4d85),_0x91ef5a=null);break;case _0x544b48(0x7b8):_0x91ef5a=_0x2c4d85[_0x544b48(0x724)]();break;case _0x544b48(0xb3):_0x91ef5a=_0x2c4d85[_0x544b48(0x25b)]();break;case'capitalizedWords':_0x91ef5a=_0x2c4d85[_0x544b48(0x5f3)]('\x20')[_0x544b48(0x5c2)](_0x3cd615=>_0x3cd615['charAt'](0x0)[_0x544b48(0x724)]()+_0x3cd615[_0x544b48(0x75d)](0x1)['toLowerCase']())[_0x544b48(0x7e1)]('\x20');break;case _0x544b48(0x7e5):_0x91ef5a=JSON[_0x544b48(0x115)](_0x2c4d85);break;case'trimmed':_0x91ef5a=_0x2c4d85['trim']();break;default:_0x91ef5a=_0x2c4d85;}return _0x91ef5a!==null?_0x91ef5a[_0x544b48(0x125)]():null;}async['processvaredits'](_0xc21d8f,_0x325c67){const _0x33fe89=a0_0x1d7ec3;try{let _0x505d4d=_0xc21d8f[_0x33fe89(0x43f)]?.[_0x33fe89(0x350)](_0x49c4a8=>_0x49c4a8['blockId']===_0x325c67['_id']?.[_0x33fe89(0x125)]())||[],_0xd35a8f=_0x325c67['saveVariable'],_0x1d1f1e=null,_0x5b58b4=[],_0x4ed99d=_0xc21d8f['chatLog'][_0x33fe89(0x5e8)][_0xd35a8f];_0x5b58b4[_0x33fe89(0x1fc)](_0x33fe89(0x342)+_0x4ed99d+'\x22');for(let _0x2e1e64 of _0x505d4d){_0x2e1e64[_0x33fe89(0x263)]=_0x4ed99d,_0x1d1f1e=_0x2e1e64[_0x33fe89(0x263)];let _0x29a006;try{_0x29a006=this[_0x33fe89(0xfa)](_0xc21d8f,_0x2e1e64);}catch(_0x2b099e){this[_0x33fe89(0x671)][_0x33fe89(0x6f8)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x2b099e[_0x33fe89(0x3bf)]);continue;}if(_0x29a006!==null){let _0x4e9dde=_0x33fe89(0x130)+_0x2e1e64[_0x33fe89(0x5be)]+'\x22',_0x22bae8=[_0x33fe89(0x6ca),_0x33fe89(0x7b8),_0x33fe89(0xb3),_0x33fe89(0x376),_0x33fe89(0x2d7)];_0x2e1e64[_0x33fe89(0x5be)]===_0x33fe89(0x678)||_0x2e1e64[_0x33fe89(0x5be)]===_0x33fe89(0x53d)?_0x4e9dde+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x2e1e64[_0x33fe89(0x1fd)]+_0x33fe89(0x49b)+_0x2e1e64[_0x33fe89(0x6dc)]+'\x22':!_0x22bae8['includes'](_0x2e1e64[_0x33fe89(0x5be)])&&_0x2e1e64[_0x33fe89(0x1fd)]!==null&&_0x2e1e64[_0x33fe89(0x1fd)]!==void 0x0&&(_0x4e9dde+=_0x33fe89(0x44e)+_0x2e1e64[_0x33fe89(0x1fd)]+'\x22'),_0x4e9dde+=_0x33fe89(0x78e)+_0x29a006+'.',_0x5b58b4[_0x33fe89(0x1fc)](_0x4e9dde);}_0x29a006!==null&&(_0x4ed99d=_0x29a006);}if(_0xc21d8f[_0x33fe89(0x139)][_0x33fe89(0x5e8)]&&_0x325c67[_0x33fe89(0x591)]){_0xc21d8f[_0x33fe89(0x139)][_0x33fe89(0x5e8)][_0x325c67[_0x33fe89(0x591)]]=_0x4ed99d;let _0x221e56={'variable':_0x325c67[_0x33fe89(0x591)],'oldValue':_0x1d1f1e,'newValue':_0x4ed99d,'moreLogs':_0x5b58b4};try{this[_0x33fe89(0x627)](_0xc21d8f,_0x325c67,_0x221e56);}catch(_0x260c5c){this[_0x33fe89(0x671)][_0x33fe89(0x6f8)](_0x33fe89(0xca)+_0x260c5c[_0x33fe89(0x3bf)]);}}return _0xd35a8f;}catch(_0x107b47){return this[_0x33fe89(0x671)][_0x33fe89(0x6f8)](_0x33fe89(0x48a)+_0x107b47[_0x33fe89(0x3bf)]),null;}}async['processConditions'](_0x4819d2,_0x4262cf){const _0x765c1a=a0_0x1d7ec3;try{let _0x4291a2=[],_0x5a3d70=_0x4819d2['conditions'][_0x765c1a(0x350)](_0x18d573=>_0x18d573[_0x765c1a(0x370)]===_0x4262cf['_id'][_0x765c1a(0x125)]()),_0x126731=null,_0x5cdd5b=!0x1;for(let _0x4a40e4 of _0x5a3d70){let _0x52f96b=this[_0x765c1a(0x5ca)](_0x4819d2,_0x4a40e4);_0x4291a2[_0x765c1a(0x1fc)](_0x765c1a(0x2bd)+_0x4a40e4['firstValue']+_0x765c1a(0x6fc)+_0x4a40e4[_0x765c1a(0x2fd)]+_0x765c1a(0x6da)+_0x4a40e4[_0x765c1a(0x1fd)]+',\x20Resultado:\x20'+_0x52f96b),_0x126731===null?_0x126731=_0x52f96b:_0x4a40e4[_0x765c1a(0x308)]===_0x765c1a(0x693)?(_0x126731=_0x126731&&_0x52f96b,_0x52f96b||(_0x5cdd5b=!0x0)):_0x4a40e4[_0x765c1a(0x308)]==='or'&&(_0x5cdd5b||(_0x126731=_0x126731||_0x52f96b));}_0x126731===null&&(_0x126731=!0x0);let _0x54f439={'moreLogs':_0x4291a2};_0x4819d2[_0x765c1a(0x139)][_0x765c1a(0x358)]=_0x126731,await this[_0x765c1a(0x627)](_0x4819d2,_0x4262cf,_0x54f439);}catch(_0x1a98e4){this[_0x765c1a(0x671)]['error'](this[_0x765c1a(0x7ab)]+'\x20('+this[_0x765c1a(0x597)][_0x765c1a(0x38f)]+_0x765c1a(0x72a)+(_0x1a98e4 instanceof Error?_0x1a98e4[_0x765c1a(0x3bf)]:JSON[_0x765c1a(0x115)](_0x1a98e4,null,0x2)));}}[a0_0x1d7ec3(0x5ca)](_0xec3bea,_0x43856c){const _0x2fc579=a0_0x1d7ec3;let _0x474b98=_0x43856c['firstValue'],_0x52d0b4=_0x43856c['secondValue'];typeof _0x474b98==_0x2fc579(0x2e7)&&(_0x474b98=this[_0x2fc579(0x328)](_0x474b98,_0xec3bea[_0x2fc579(0x139)][_0x2fc579(0x5e8)])??''),typeof _0x52d0b4==_0x2fc579(0x2e7)&&(_0x52d0b4=this[_0x2fc579(0x328)](_0x52d0b4,_0xec3bea['chatLog'][_0x2fc579(0x5e8)])??'');try{switch(_0x43856c[_0x2fc579(0x2fd)]){case _0x2fc579(0x6a3):return _0x474b98===_0x52d0b4;case'notEqual':return _0x474b98!==_0x52d0b4;case _0x2fc579(0x2cf):return this['contains'](_0x474b98,_0x52d0b4);case'notContains':return!this[_0x2fc579(0x2cf)](_0x474b98,_0x52d0b4);case _0x2fc579(0x338):return parseFloat(_0x474b98)>parseFloat(_0x52d0b4);case _0x2fc579(0x97):return parseFloat(_0x474b98)<parseFloat(_0x52d0b4);case _0x2fc579(0x5df):return _0x474b98!=='';case _0x2fc579(0x7a8):return _0x474b98==='';case _0x2fc579(0x315):return new RegExp(_0x52d0b4)['test'](_0x474b98);case _0x2fc579(0x363):return!new RegExp(_0x52d0b4)[_0x2fc579(0x91)](_0x474b98);default:return!0x1;}}catch(_0x6d1b42){return this[_0x2fc579(0x671)][_0x2fc579(0x6f8)](_0x2fc579(0x1dd)+_0x6d1b42),!0x1;}}[a0_0x1d7ec3(0x2cf)](_0x22a811,_0x461b80){const _0x879c84=a0_0x1d7ec3;if(_0x22a811===_0x461b80&&/^\d+$/[_0x879c84(0x91)](_0x22a811))return!0x0;if(this[_0x879c84(0x13d)](_0x22a811)&&/^\d+$/[_0x879c84(0x91)](_0x461b80)){let _0xa70f3d=_0x22a811[_0x879c84(0x5f3)](',')[_0x879c84(0x5c2)](_0x2a4aa2=>parseInt(_0x2a4aa2[_0x879c84(0x5e2)]())),_0x4651f3=parseInt(_0x461b80);return _0xa70f3d[_0x879c84(0x603)](_0x4651f3);}return _0x22a811[_0x879c84(0x603)](_0x461b80);}['isListOfNumbers'](_0x17a91c){return/^\d+(,\d+)*$/['test'](_0x17a91c);}[a0_0x1d7ec3(0x689)](_0x5ebac4){const _0x1ed31b=a0_0x1d7ec3;let _0x1f4bd3=!0x0,_0x2daec9=null;for(let _0x59b24c of _0x5ebac4){let _0x46a05c=this[_0x1ed31b(0x330)](_0x59b24c);if(_0x2daec9==='or'&&_0x46a05c){_0x1f4bd3=!0x0;break;}if(_0x2daec9===_0x1ed31b(0x693)&&!_0x46a05c){_0x1f4bd3=!0x1;break;}_0x2daec9=_0x59b24c['OrAnd'];}return _0x1f4bd3;}[a0_0x1d7ec3(0x330)](_0x4e6d11){const _0x2cb13b=a0_0x1d7ec3;let _0xf8de80=_0x4e6d11[_0x2cb13b(0x263)],_0x5cb13c=_0x4e6d11[_0x2cb13b(0x1fd)];try{switch(_0x4e6d11['expression']){case _0x2cb13b(0x6a3):return String(_0xf8de80)===String(_0x5cb13c);case _0x2cb13b(0x7ad):return String(_0xf8de80)!==String(_0x5cb13c);case'contains':return String(_0xf8de80)[_0x2cb13b(0x603)](String(_0x5cb13c));case'notContains':return!String(_0xf8de80)['includes'](String(_0x5cb13c));case _0x2cb13b(0x338):return parseFloat(String(_0xf8de80))>parseFloat(String(_0x5cb13c));case'less':return parseFloat(String(_0xf8de80))<parseFloat(String(_0x5cb13c));case'notEmpty':return String(_0xf8de80)!=='';case _0x2cb13b(0x7a8):return String(_0xf8de80)==='';case'matchRegex':return new RegExp(String(_0x5cb13c))[_0x2cb13b(0x91)](String(_0xf8de80));case _0x2cb13b(0x363):return!new RegExp(String(_0x5cb13c))['test'](String(_0xf8de80));default:return!0x1;}}catch(_0x5cb41b){return this[_0x2cb13b(0x671)]['error'](_0x2cb13b(0x1dd)+_0x5cb41b),!0x1;}}async['saveTextReply'](_0x598291,_0x4e7800){const _0x25f668=a0_0x1d7ec3;if(this['logger'][_0x25f668(0x244)](this[_0x25f668(0x7ab)]+'\x20('+this[_0x25f668(0x597)]['wuid']+_0x25f668(0x636)),!_0x598291||!_0x4e7800)return this[_0x25f668(0x671)][_0x25f668(0x6f8)](this[_0x25f668(0x7ab)]+'\x20('+this[_0x25f668(0x597)]['wuid']+_0x25f668(0x323)),null;let _0xbb57b1=_0x598291[_0x25f668(0x139)][_0x25f668(0x364)][_0x25f668(0x7e8)]['id'];this['logger'][_0x25f668(0x244)](this[_0x25f668(0x7ab)]+'\x20('+this[_0x25f668(0x597)]['wuid']+'):\x20mediaMessageInfoId\x20:\x20'+_0xbb57b1);let _0x594944={'key':{'id':_0xbb57b1}},_0x30266f=_0x4e7800[_0x25f668(0x591)];_0x598291[_0x25f668(0x139)][_0x25f668(0x5e8)]['_'+_0x30266f+_0x25f668(0x560)]=null,_0x598291['chatLog'][_0x25f668(0x5e8)]['_'+_0x30266f+_0x25f668(0x43a)]=null,_0x598291[_0x25f668(0x139)]['realVariables']['_'+_0x30266f+_0x25f668(0x71e)]=null,_0x598291[_0x25f668(0x139)][_0x25f668(0x5e8)]['_'+_0x30266f+'.type']=_0x598291[_0x25f668(0x139)]['lastReceivedMessage']['type'];try{let _0x1712c5=await this[_0x25f668(0x14d)](_0x594944);this[_0x25f668(0x671)][_0x25f668(0x244)](this['instanceName']+'\x20('+this['instance'][_0x25f668(0x38f)]+_0x25f668(0x2b5)),_0x598291[_0x25f668(0x139)][_0x25f668(0x5e8)]['_'+_0x30266f+_0x25f668(0x5cf)]=_0x1712c5[_0x25f668(0x4e4)],_0x598291[_0x25f668(0x139)]['realVariables']['_'+_0x30266f+_0x25f668(0x43a)]=_0x1712c5['mimetype'];let _0xd8de31=_0x1712c5[_0x25f668(0xd5)][_0x25f668(0x20e)](/\/(\w+)$/),_0x3db211=_0xd8de31?_0xd8de31[0x1]:null;_0x598291[_0x25f668(0x139)]['realVariables']['_'+_0x30266f+_0x25f668(0x71e)]=_0x3db211,this[_0x25f668(0x671)][_0x25f668(0x244)](this[_0x25f668(0x7ab)]+'\x20('+this[_0x25f668(0x597)][_0x25f668(0x38f)]+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0x30266f+'\x27.');}catch(_0x156848){this[_0x25f668(0x671)][_0x25f668(0x6f8)](this[_0x25f668(0x7ab)]+'\x20('+this['instance']['wuid']+_0x25f668(0x277)+_0x156848[_0x25f668(0x3bf)]);}let _0x8d1176=_0x598291[_0x25f668(0x139)][_0x25f668(0x364)]['text']||_0x598291[_0x25f668(0x139)][_0x25f668(0x364)][_0x25f668(0x4ab)]||_0x598291[_0x25f668(0x139)][_0x25f668(0x364)][_0x25f668(0x272)];try{_0x598291['chatLog'][_0x25f668(0x5e8)]||(_0x598291[_0x25f668(0x139)][_0x25f668(0x5e8)]={});let _0x1f63a0=_0x598291[_0x25f668(0x139)][_0x25f668(0x5e8)][_0x30266f];_0x598291['chatLog']['realVariables'][_0x30266f]=_0x8d1176;let _0x417f43={'variable':_0x30266f,'oldValue':_0x1f63a0,'newValue':_0x8d1176};this[_0x25f668(0x627)](_0x598291,_0x4e7800,_0x417f43),this['logger'][_0x25f668(0x244)](this[_0x25f668(0x7ab)]+'\x20('+this[_0x25f668(0x597)][_0x25f668(0x38f)]+_0x25f668(0x1f5));}catch(_0x208c83){let _0x158fbe={'error':!0x0,'errorLog':_0x208c83[_0x25f668(0x125)]()};return this[_0x25f668(0x627)](_0x598291,_0x4e7800,_0x158fbe),this[_0x25f668(0x671)][_0x25f668(0x6f8)](this[_0x25f668(0x7ab)]+'\x20('+this[_0x25f668(0x597)][_0x25f668(0x38f)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x208c83 instanceof Error?_0x208c83['message']:JSON[_0x25f668(0x115)](_0x208c83,null,0x2))),null;}}async[a0_0x1d7ec3(0xcd)](_0x2d9a4d,_0xabcda9){const _0x41a0a4=a0_0x1d7ec3;if(this[_0x41a0a4(0x671)][_0x41a0a4(0x244)](this[_0x41a0a4(0x7ab)]+'\x20('+this[_0x41a0a4(0x597)][_0x41a0a4(0x38f)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x2d9a4d||!_0xabcda9)return this[_0x41a0a4(0x671)][_0x41a0a4(0x6f8)](this[_0x41a0a4(0x7ab)]+'\x20('+this[_0x41a0a4(0x597)][_0x41a0a4(0x38f)]+_0x41a0a4(0x323)),null;let _0x42922d=Date['now'](),_0x5d0f04=parseInt(_0xabcda9['stopMinutes'],0xa);if(isNaN(_0x5d0f04))return this['logger'][_0x41a0a4(0x6f8)](this[_0x41a0a4(0x7ab)]+'\x20('+this[_0x41a0a4(0x597)][_0x41a0a4(0x38f)]+_0x41a0a4(0x549)),null;let _0x18f75b={'newStoppedUntil':_0x42922d+_0x5d0f04*0x3c*0x3e8};return await this[_0x41a0a4(0x627)](_0x2d9a4d,_0xabcda9,_0x18f75b,!0x0),null;}async[a0_0x1d7ec3(0x5db)](_0x4aa962,_0x273653){const _0x36ff8d=a0_0x1d7ec3;try{switch(_0x273653['uazapi']['command']){case _0x36ff8d(0x55b):await this[_0x36ff8d(0x12d)](_0x4aa962,_0x273653);break;case _0x36ff8d(0x2bc):await this['uazapiSendMedia'](_0x4aa962,_0x273653);break;case _0x36ff8d(0x306):await this[_0x36ff8d(0x2a4)](_0x4aa962,_0x273653);break;case _0x36ff8d(0x3dd):await this[_0x36ff8d(0xf6)](_0x4aa962,_0x273653);break;case _0x36ff8d(0x4d1):await this[_0x36ff8d(0x15f)](_0x4aa962,_0x273653);break;case _0x36ff8d(0x2da):await this[_0x36ff8d(0x51f)](_0x4aa962,_0x273653);break;case _0x36ff8d(0x1ef):await this[_0x36ff8d(0x51f)](_0x4aa962,_0x273653);break;case _0x36ff8d(0x2ab):await this[_0x36ff8d(0x670)](_0x4aa962,_0x273653);break;default:this['logger']['error'](this[_0x36ff8d(0x7ab)]+'\x20('+this['instance'][_0x36ff8d(0x38f)]+_0x36ff8d(0x217)+_0x273653['uazapi'][_0x36ff8d(0x640)]);}}catch(_0x3779e3){this[_0x36ff8d(0x671)][_0x36ff8d(0x6f8)](this[_0x36ff8d(0x7ab)]+'\x20('+this[_0x36ff8d(0x597)][_0x36ff8d(0x38f)]+_0x36ff8d(0x2f0)+(_0x3779e3 instanceof Error?_0x3779e3['message']:JSON[_0x36ff8d(0x115)](_0x3779e3,null,0x2)));}}async[a0_0x1d7ec3(0x627)](_0x1a9649,_0x27a813,_0x4b5527,_0x3acd8d=!0x1,_0x5c84e0=!0x1){const _0x393a8e=a0_0x1d7ec3;_0x1a9649[_0x393a8e(0x139)]['blockLogs']||(_0x1a9649[_0x393a8e(0x139)][_0x393a8e(0x4a5)]=[]);let _0x45fb74=(_0x1a9649[_0x393a8e(0x139)][_0x393a8e(0x4a5)]?.[_0x393a8e(0x387)]??0x0)+0x1,_0x1b2b90=_0x1a9649[_0x393a8e(0x139)][_0x393a8e(0x4a5)][_0x393a8e(0x350)](_0x50b3f7=>String(_0x50b3f7[_0x393a8e(0x370)])===String(_0x27a813[_0x393a8e(0x6ee)]))['length']+0x1,_0x46a259=_0x4b5527?.[_0x393a8e(0x145)]??Date['now'](),_0x4ebaa8=_0x4b5527?.[_0x393a8e(0x6f8)]?_0x4b5527['errorLog']??_0x4b5527[_0x393a8e(0x6f8)][_0x393a8e(0x125)]():void 0x0,_0x1b8ea8={'onTime':_0x46a259,'blockId':_0x27a813['_id'],'order':_0x45fb74,'activatedCount':_0x1b2b90,'error':_0x4b5527?.['error']??!0x1,'messageId':_0x4b5527?.[_0x393a8e(0x1df)],'apiResponse':_0x4b5527?.['apiResponse'],'apiResponseString':_0x4b5527?.['apiResponse']?JSON['stringify'](_0x4b5527?.[_0x393a8e(0x5f9)]):void 0x0,'variable':_0x4b5527?.[_0x393a8e(0x66b)],'oldValue':_0x4b5527?.['oldValue'],'newValue':_0x4b5527?.[_0x393a8e(0x311)],'newStoppedUntil':_0x4b5527?.[_0x393a8e(0x117)],'moreLogs':_0x4b5527?.[_0x393a8e(0x6f4)],'errorLog':_0x4ebaa8};if(_0x4b5527[_0x393a8e(0x6f4)]&&_0x4b5527[_0x393a8e(0x6f4)][_0x393a8e(0x387)]>0x0){let _0x1c9fca=_0x4b5527[_0x393a8e(0x6f4)][_0x393a8e(0x5c2)](_0x50b097=>this[_0x393a8e(0x7a4)](_0x50b097,_0x1a9649['chatLog'][_0x393a8e(0x5e8)]));_0x1b8ea8[_0x393a8e(0x6f4)]=_0x1c9fca;}if(_0x1a9649['chatLog']['realVariables']||(_0x1a9649[_0x393a8e(0x139)]['realVariables']={}),_0x1a9649['chatLog'][_0x393a8e(0x5e8)][_0x393a8e(0xe0)]=String(_0x1b2b90),_0x1a9649['chatLog']['realVariables']['_error']=String(_0x4b5527[_0x393a8e(0x6f8)]??!0x1),_0x1a9649[_0x393a8e(0x139)][_0x393a8e(0x4a5)][_0x393a8e(0x1fc)](_0x1b8ea8),_0x1a9649[_0x393a8e(0x139)][_0x393a8e(0x5e8)][_0x393a8e(0x26f)]&&_0x1a9649[_0x393a8e(0x139)][_0x393a8e(0x5e8)][_0x393a8e(0x26f)]!==_0x1a9649['remoteJid']){let _0x4adf1c=(await this['whatsappNumber']({'numbers':[_0x1a9649[_0x393a8e(0x139)][_0x393a8e(0x5e8)]['telefone']]}))[0x0][_0x393a8e(0x495)];_0x1a9649[_0x393a8e(0x139)][_0x393a8e(0x5e8)]['telefone']=_0x4adf1c,_0x1a9649[_0x393a8e(0x9d)]=_0x4adf1c;try{let _0xba5f34={'_id':{'$ne':_0x1a9649[_0x393a8e(0x6ee)]},'remoteJid':_0x4adf1c,'status':'open'},_0x41778d={'status':_0x393a8e(0x2d3)};await this[_0x393a8e(0x2d1)][_0x393a8e(0x704)][_0x393a8e(0x3d6)](_0xba5f34,_0x41778d,this[_0x393a8e(0x597)]['wuid']),this[_0x393a8e(0x671)][_0x393a8e(0x244)](this[_0x393a8e(0x7ab)]+'\x20('+this['instance'][_0x393a8e(0x38f)]+_0x393a8e(0x6d4));}catch(_0x2a76ec){this[_0x393a8e(0x671)][_0x393a8e(0x6f8)](this[_0x393a8e(0x7ab)]+'\x20('+this[_0x393a8e(0x597)][_0x393a8e(0x38f)]+_0x393a8e(0x784)+_0x2a76ec['message']);}try{let _0x430d90=_0x1a9649['chatLog'][_0x393a8e(0x5e8)],_0x45f2fb=await this[_0x393a8e(0x59f)](_0x4adf1c),_0x5ca937={..._0x430d90,..._0x45f2fb,'_remoteJid':_0x4adf1c};_0x1a9649[_0x393a8e(0x139)][_0x393a8e(0x5e8)]=_0x5ca937;}catch(_0xe4c39f){this[_0x393a8e(0x671)][_0x393a8e(0x6f8)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x393a8e(0x12e)+_0xe4c39f['message']);}}_0x1a9649[_0x393a8e(0x139)][_0x393a8e(0x33d)]=_0x27a813['_id'][_0x393a8e(0x125)](),_0x1a9649[_0x393a8e(0x139)][_0x393a8e(0x448)]&&(_0x1a9649[_0x393a8e(0x139)][_0x393a8e(0x448)]=_0x1a9649[_0x393a8e(0x139)][_0x393a8e(0x448)]),_0x1a9649[_0x393a8e(0x139)]['lastReceivedMessage']&&(_0x1a9649[_0x393a8e(0x139)][_0x393a8e(0x364)]=_0x1a9649['chatLog'][_0x393a8e(0x364)]),_0x1a9649[_0x393a8e(0x139)][_0x393a8e(0x358)]&&(_0x1a9649[_0x393a8e(0x139)][_0x393a8e(0x358)]=_0x1a9649['chatLog'][_0x393a8e(0x358)]),_0x5c84e0&&(_0x1a9649[_0x393a8e(0x77f)]=_0x393a8e(0x2d3)),_0x3acd8d?this['saveConversationToDatabase'](_0x1a9649):this[_0x393a8e(0x310)](_0x1a9649,_0x27a813);}['replaceVariablesLogs'](_0x4b9b81,_0x4a1c27){const _0x116519=a0_0x1d7ec3;return _0x4b9b81[_0x116519(0x404)](/\{\{([^}]+)\}\}/g,(_0xe926e8,_0x3e33a0)=>_0x4a1c27[_0x3e33a0]?'{{'+_0x3e33a0+_0x116519(0x445)+_0x4a1c27[_0x3e33a0]+'\x22':'{{'+_0x3e33a0+_0x116519(0x66e));}async[a0_0x1d7ec3(0x1f9)](_0xdd1ab){const _0x21087c=a0_0x1d7ec3;try{let _0x4c72fc=Object[_0x21087c(0x1c2)](_0xdd1ab[_0x21087c(0x139)][_0x21087c(0x5e8)])[_0x21087c(0x5c2)](([_0x57a7a0,_0x46286f])=>({'name':_0x57a7a0,'value':_0x46286f})),_0x3aa71b={'status':_0xdd1ab[_0x21087c(0x77f)],'remoteJid':_0xdd1ab[_0x21087c(0x9d)],'blocks':_0xdd1ab[_0x21087c(0x17f)],'waitingMenu_id':_0xdd1ab['waitingMenu_id'],'waitingMenu_text':_0xdd1ab[_0x21087c(0x4d2)],'waitingMenu_replyOptions':_0xdd1ab[_0x21087c(0x329)],'chatLog':{'lastBlockId':_0xdd1ab[_0x21087c(0x139)]['lastBlockId'],'lastSendMessage':_0xdd1ab['chatLog']['lastSendMessage'],'lastReceivedMessage':_0xdd1ab[_0x21087c(0x139)][_0x21087c(0x364)],'lastCondition':_0xdd1ab[_0x21087c(0x139)][_0x21087c(0x358)],'chatVariables':_0x4c72fc,'realVariables':_0xdd1ab[_0x21087c(0x139)][_0x21087c(0x5e8)],'blockLogs':_0xdd1ab[_0x21087c(0x139)][_0x21087c(0x4a5)]}},_0x30df96=await this[_0x21087c(0x2d1)][_0x21087c(0x704)][_0x21087c(0x171)](_0xdd1ab['_id'],_0x3aa71b,this[_0x21087c(0x597)][_0x21087c(0x38f)]);if(_0x30df96){this['logger'][_0x21087c(0x244)](this[_0x21087c(0x7ab)]+'\x20('+this['instance'][_0x21087c(0x38f)]+_0x21087c(0x740)+_0x30df96[_0x21087c(0x6ee)]);try{let _0x25d2dd=[_0x21087c(0x1c3),_0x21087c(0x471),'email',_0x21087c(0xa2),_0x21087c(0x77f),_0x21087c(0x9c),'responsavelid',_0x21087c(0x7a3),'etiquetas',_0x21087c(0x3e5)];if(!this['AutomateSystem']&&(await this[_0x21087c(0x5bd)](),!this[_0x21087c(0x7ac)]))throw new Error(_0x21087c(0x6d5));let _0x4154b8=this['AutomateSystem']?.[_0x21087c(0x63f)][_0x21087c(0x5c2)](_0x202aaa=>_0x202aaa[_0x21087c(0x70c)]),_0x543b64={};Object['entries'](_0xdd1ab[_0x21087c(0x139)]['realVariables'])['forEach'](([_0x374090,_0x1f26de])=>{const _0x2c3b3b=_0x21087c;_0x25d2dd[_0x2c3b3b(0x603)](_0x374090)&&(_0x374090==='tags'&&typeof _0x1f26de=='string'?_0x543b64[_0x374090]=_0x1f26de['split'](',')[_0x2c3b3b(0x5c2)](_0x2086db=>_0x2086db['trim']())['filter'](_0x4e89aa=>_0x4e89aa!==''):_0x374090===_0x2c3b3b(0x71d)&&typeof _0x1f26de==_0x2c3b3b(0x2e7)?_0x543b64[_0x374090]=_0x1f26de[_0x2c3b3b(0x5f3)](',')[_0x2c3b3b(0x5c2)](_0x28d05e=>_0x28d05e[_0x2c3b3b(0x5e2)]())[_0x2c3b3b(0x350)](_0x1bb02b=>_0x1bb02b!==''):_0x543b64[_0x374090]=_0x1f26de);});let _0x58111d=_0xdd1ab['chatLog'][_0x21087c(0x4a5)][_0xdd1ab[_0x21087c(0x139)][_0x21087c(0x4a5)][_0x21087c(0x387)]-0x1];if(_0x58111d){let _0x2496ca=_0x58111d[_0x21087c(0x117)];_0x2496ca!==void 0x0&&(_0x543b64['desativadoFluxoAte']=_0x2496ca[_0x21087c(0x125)]());}let _0x484cd5=_0x4c72fc[_0x21087c(0x350)](_0x14338b=>_0x4154b8[_0x21087c(0x603)](_0x14338b[_0x21087c(0x70c)]));this[_0x21087c(0x671)]['verbose'](this[_0x21087c(0x7ab)]+'\x20('+this[_0x21087c(0x597)][_0x21087c(0x38f)]+'):\x20leadInfoVariables'),this[_0x21087c(0x671)][_0x21087c(0x244)](_0x543b64),this['logger'][_0x21087c(0x244)](this['instanceName']+'\x20('+this[_0x21087c(0x597)][_0x21087c(0x38f)]+'):\x20customFieldVariables'),this[_0x21087c(0x671)][_0x21087c(0x244)](_0x484cd5);let _0x35320d=_0x484cd5[_0x21087c(0x5c2)](_0x4517c5=>{const _0x1fe2c0=_0x21087c;let _0x1ab7c4=this[_0x1fe2c0(0x7ac)]?.['customFields'][_0x1fe2c0(0x44c)](_0x2c5195=>_0x2c5195['name']===_0x4517c5[_0x1fe2c0(0x70c)]);if(!_0x1ab7c4)throw new Error(_0x1fe2c0(0x7bd)+_0x4517c5[_0x1fe2c0(0x70c)]);return{'_id':_0x1ab7c4[_0x1fe2c0(0x6ee)],'value':_0x4517c5[_0x1fe2c0(0x491)]};});this['logger'][_0x21087c(0x244)](this[_0x21087c(0x7ab)]+'\x20('+this[_0x21087c(0x597)][_0x21087c(0x38f)]+_0x21087c(0x62b)),this[_0x21087c(0x671)][_0x21087c(0x244)](_0x35320d),await this[_0x21087c(0x322)](_0xdd1ab[_0x21087c(0x9d)],_0x543b64,_0x35320d);}catch(_0x4e7f80){this[_0x21087c(0x671)][_0x21087c(0x6f8)](this[_0x21087c(0x7ab)]+'\x20('+this[_0x21087c(0x597)][_0x21087c(0x38f)]+_0x21087c(0x307)+(_0x4e7f80 instanceof Error?_0x4e7f80['message']:JSON[_0x21087c(0x115)](_0x4e7f80,null,0x2)));}}else this[_0x21087c(0x671)]['error'](this[_0x21087c(0x7ab)]+'\x20('+this[_0x21087c(0x597)]['wuid']+_0x21087c(0x1bf));}catch(_0x5e1694){this['logger'][_0x21087c(0x6f8)](this[_0x21087c(0x7ab)]+'\x20('+this[_0x21087c(0x597)][_0x21087c(0x38f)]+_0x21087c(0x4bd)+(_0x5e1694 instanceof Error?_0x5e1694[_0x21087c(0x3bf)]:JSON['stringify'](_0x5e1694,null,0x2)));}}async[a0_0x1d7ec3(0x322)](_0x272606,_0x58784b,_0x5227f8){const _0x9f4734=a0_0x1d7ec3;try{let _0x3207cc={'leadInfo.leadnome':_0x58784b[_0x9f4734(0x1c3)],'leadInfo.nomecompleto':_0x58784b[_0x9f4734(0x471)],'leadInfo.email':_0x58784b[_0x9f4734(0x280)],'leadInfo.cpf':_0x58784b['cpf'],'leadInfo.status':_0x58784b[_0x9f4734(0x77f)],'leadInfo.notas':_0x58784b['notas'],'leadInfo.responsavelid':_0x58784b[_0x9f4734(0x56f)],'leadInfo.tags':_0x58784b[_0x9f4734(0x7a3)],'leadInfo.etiquetas':_0x58784b[_0x9f4734(0x71d)],'leadInfo.customFields':_0x5227f8,'leadInfo.atendimentoAberto':_0x58784b[_0x9f4734(0x3e5)]},_0x5d604d=await this[_0x9f4734(0x2d1)][_0x9f4734(0x39a)][_0x9f4734(0x6f0)]({'where':{'_id':_0x272606}},this[_0x9f4734(0x597)]['wuid']);if(!_0x5d604d)return'chat\x20não\x20encontrado';let _0x55d77=new Set(_0x5d604d[_0x9f4734(0x1b4)]['etiquetas']||[]),_0x454d2b=new Set(_0x58784b[_0x9f4734(0x71d)]||[]),_0x421a7e=await this[_0x9f4734(0x2d1)]['label'][_0x9f4734(0x44c)]({'where':{}},this[_0x9f4734(0x597)][_0x9f4734(0x38f)]),_0x2a3f8a=new Set(_0x421a7e[_0x9f4734(0x5c2)](_0x32024f=>_0x32024f[_0x9f4734(0x6ee)])),_0x26c53b=[..._0x454d2b][_0x9f4734(0x350)](_0x57033c=>!_0x55d77[_0x9f4734(0x6ac)](_0x57033c)&&_0x2a3f8a[_0x9f4734(0x6ac)](_0x57033c)),_0x411ac9=[..._0x55d77]['filter'](_0x34bbb2=>!_0x454d2b['has'](_0x34bbb2));for(let _0x4261d7 of _0x26c53b)await this[_0x9f4734(0x794)](_0x4261d7,_0x5d604d[_0x9f4734(0x6ee)]),_0x55d77[_0x9f4734(0x2ea)](_0x4261d7);for(let _0x18913a of _0x411ac9)await this['RemoveChatLabel'](_0x18913a,_0x5d604d[_0x9f4734(0x6ee)]),_0x55d77[_0x9f4734(0x174)](_0x18913a);if('desativadoFluxoAte'in _0x58784b){let _0x33b90e=_0x58784b[_0x9f4734(0x55e)];_0x3207cc[_0x9f4734(0x604)]=_0x33b90e?Number(_0x33b90e):null;}if(_0x9f4734(0x3e5)in _0x58784b){let _0x7dc39=_0x58784b[_0x9f4734(0x3e5)][_0x9f4734(0x25b)]();_0x3207cc[_0x9f4734(0x512)]=_0x7dc39===_0x9f4734(0x39f)||_0x7dc39==='1'||_0x7dc39===_0x9f4734(0x170)||_0x7dc39==='sim';}let _0x2a3b50=await this[_0x9f4734(0x2d1)][_0x9f4734(0x39a)][_0x9f4734(0x171)]({'where':{'_id':_0x272606}},_0x3207cc,this[_0x9f4734(0x597)][_0x9f4734(0x38f)]);_0x2a3b50?(this[_0x9f4734(0x671)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x9f4734(0x716)+_0x2a3b50[_0x9f4734(0x6ee)]),F(this[_0x9f4734(0x7ab)],_0x9f4734(0x650),{'chat':_0x2a3b50})):this[_0x9f4734(0x671)][_0x9f4734(0x6f8)](this['instanceName']+'\x20('+this['instance'][_0x9f4734(0x38f)]+_0x9f4734(0x770));}catch(_0x1ffd5b){this[_0x9f4734(0x671)][_0x9f4734(0x6f8)](this['instanceName']+'\x20('+this['instance'][_0x9f4734(0x38f)]+_0x9f4734(0x31b)+(_0x1ffd5b instanceof Error?_0x1ffd5b[_0x9f4734(0x3bf)]:JSON[_0x9f4734(0x115)](_0x1ffd5b,null,0x2)));}}async[a0_0x1d7ec3(0x744)](_0x1eeb98,_0x492fea){const _0x59dd2a=a0_0x1d7ec3;this['logger'][_0x59dd2a(0x244)](this[_0x59dd2a(0x7ab)]+'\x20('+this[_0x59dd2a(0x597)]['wuid']+_0x59dd2a(0x629)+_0x492fea);try{let _0x1d4219=await this['repository'][_0x59dd2a(0x39a)]['updateOne']({'where':{'_id':_0x1eeb98[_0x59dd2a(0x9d)]}},{'leadInfo.desativadoFluxoAte':_0x492fea},this[_0x59dd2a(0x597)]['wuid']);this[_0x59dd2a(0x671)][_0x59dd2a(0x244)](this[_0x59dd2a(0x7ab)]+'\x20('+this['instance'][_0x59dd2a(0x38f)]+_0x59dd2a(0x1a9)+_0x1eeb98['_id']),this[_0x59dd2a(0x671)]['verbose'](this[_0x59dd2a(0x7ab)]+'\x20('+this[_0x59dd2a(0x597)][_0x59dd2a(0x38f)]+_0x59dd2a(0x629)+JSON[_0x59dd2a(0x115)](_0x1d4219,null,0x2)),_0x1d4219&&F(this[_0x59dd2a(0x7ab)],'chats',{'chat':_0x1d4219});}catch(_0x567a75){this[_0x59dd2a(0x671)][_0x59dd2a(0x6f8)](this[_0x59dd2a(0x7ab)]+'\x20('+this['instance'][_0x59dd2a(0x38f)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x567a75 instanceof Error?_0x567a75[_0x59dd2a(0x3bf)]:JSON[_0x59dd2a(0x115)](_0x567a75,null,0x2)));}}async[a0_0x1d7ec3(0x702)](_0x58cd1b){const _0x3d42b1=a0_0x1d7ec3;try{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x3d42b1(0x597)][_0x3d42b1(0x38f)]+_0x3d42b1(0x7fa));let _0x11d4ff=_0x58cd1b['replace'](/\D/g,''),_0x4afa46=this['AutomateSystem'][_0x3d42b1(0x4ea)][_0x3d42b1(0x44c)](_0x36df21=>_0x36df21[_0x3d42b1(0xd0)]===_0x11d4ff);if(_0x4afa46||(this[_0x3d42b1(0x671)][_0x3d42b1(0x244)](this[_0x3d42b1(0x7ab)]+'\x20('+this['instance']['wuid']+_0x3d42b1(0x34d)),_0x4afa46=this['AutomateSystem'][_0x3d42b1(0x4ea)][_0x3d42b1(0x44c)](_0x182ccd=>_0x182ccd[_0x3d42b1(0x1af)]===!0x0)),!_0x4afa46)return this[_0x3d42b1(0x671)][_0x3d42b1(0x244)](this['instanceName']+'\x20('+this[_0x3d42b1(0x597)]['wuid']+_0x3d42b1(0x520)),null;let _0x2b81e=await this['repository']['flow']['findOne']({'where':{'_id':_0x4afa46[_0x3d42b1(0x6ee)]}});if(!_0x2b81e||!_0x2b81e[_0x3d42b1(0x3cc)]?.[_0x3d42b1(0x603)](this[_0x3d42b1(0x597)][_0x3d42b1(0x38f)]))throw this[_0x3d42b1(0x671)]['error'](this['instanceName']+'\x20('+this[_0x3d42b1(0x597)]['wuid']+_0x3d42b1(0x113)+_0x2b81e['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x2b81e[_0x3d42b1(0x6ee)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');return _0x2b81e;}catch(_0x5f0d34){return this['logger'][_0x3d42b1(0x6f8)](this[_0x3d42b1(0x7ab)]+'\x20('+this[_0x3d42b1(0x597)][_0x3d42b1(0x38f)]+_0x3d42b1(0x64a)+(_0x5f0d34 instanceof Error?_0x5f0d34[_0x3d42b1(0x3bf)]:JSON[_0x3d42b1(0x115)](_0x5f0d34,null,0x2))),null;}}async[a0_0x1d7ec3(0x745)](_0x390d43,_0x2114a5){const _0x5adcf8=a0_0x1d7ec3;try{let _0x27cf79=!!_0x2114a5[_0x5adcf8(0x272)],_0x2b7929=_0x2114a5[_0x5adcf8(0x542)],_0xfc2602=null;if(this[_0x5adcf8(0x671)][_0x5adcf8(0x244)](this[_0x5adcf8(0x7ab)]+'\x20('+this[_0x5adcf8(0x597)][_0x5adcf8(0x38f)]+_0x5adcf8(0x412)+_0x27cf79+_0x5adcf8(0x45d)+_0x2b7929),_0x27cf79){this[_0x5adcf8(0x671)][_0x5adcf8(0x244)](this['instanceName']+'\x20('+this[_0x5adcf8(0x597)]['wuid']+_0x5adcf8(0x6c5));let _0x30892b={'where':{'remoteJid':_0x390d43,'waitingMenu_id':_0x2b7929}};if(_0xfc2602=await this['repository'][_0x5adcf8(0x704)][_0x5adcf8(0x6f0)](_0x30892b,this['instance'][_0x5adcf8(0x38f)]),!_0xfc2602)return this[_0x5adcf8(0x671)][_0x5adcf8(0x244)](this[_0x5adcf8(0x7ab)]+'\x20('+this[_0x5adcf8(0x597)][_0x5adcf8(0x38f)]+_0x5adcf8(0x5fe)),null;let _0x973a08=Date[_0x5adcf8(0xe6)](),_0x49212b=_0xfc2602?.[_0x5adcf8(0x3f7)]||0x0,_0x483f21=_0x973a08-_0x49212b*0x3c*0x3e8;if(_0xfc2602[_0x5adcf8(0x121)]<_0x483f21){this[_0x5adcf8(0x671)][_0x5adcf8(0x244)](this[_0x5adcf8(0x7ab)]+'\x20('+this[_0x5adcf8(0x597)][_0x5adcf8(0x38f)]+_0x5adcf8(0x676));let _0x2a8b40={'number':_0xfc2602['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0xfc2602[_0x5adcf8(0x65e)]}};await this[_0x5adcf8(0x7e7)](_0x2a8b40);let _0x2fd684={'status':_0x5adcf8(0x2d3),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x5adcf8(0x2d1)][_0x5adcf8(0x704)][_0x5adcf8(0x171)](_0xfc2602[_0x5adcf8(0x6ee)],_0x2fd684,this[_0x5adcf8(0x597)]['wuid']),null;}return _0xfc2602['lastInteraction']=Date['now'](),_0xfc2602[_0x5adcf8(0x139)][_0x5adcf8(0x364)]=_0x2114a5,_0xfc2602;}else{this['logger'][_0x5adcf8(0x244)](this[_0x5adcf8(0x7ab)]+'\x20('+this[_0x5adcf8(0x597)][_0x5adcf8(0x38f)]+_0x5adcf8(0x84)+this['instance']['wuid']+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this['logger']['verbose'](this[_0x5adcf8(0x7ab)]+'\x20('+this[_0x5adcf8(0x597)][_0x5adcf8(0x38f)]+_0x5adcf8(0x3a5));let _0x40cbc0={'where':{'remoteJid':_0x390d43,'status':_0x5adcf8(0xb0)}};if(_0xfc2602=await this[_0x5adcf8(0x2d1)][_0x5adcf8(0x704)][_0x5adcf8(0x6f0)](_0x40cbc0,this[_0x5adcf8(0x597)]['wuid']),!_0xfc2602){let _0x596b2f=await this[_0x5adcf8(0x702)](_0x390d43);if(_0x596b2f&&(_0xfc2602=await this[_0x5adcf8(0xdf)](_0x596b2f,_0x2114a5['key'],_0x2114a5)),!_0xfc2602)return null;}let _0x5df44c=Date[_0x5adcf8(0xe6)](),_0x44bcd5=_0xfc2602?.[_0x5adcf8(0x3f7)]||0x0,_0x4457e2=_0x5df44c-_0x44bcd5*0x3c*0x3e8;if(this['logger'][_0x5adcf8(0x244)](this[_0x5adcf8(0x7ab)]+'\x20('+this[_0x5adcf8(0x597)]['wuid']+'):\x20Current\x20Time:\x20'+_0x5df44c+',\x20Minutes\x20to\x20Close:\x20'+_0x44bcd5+_0x5adcf8(0x1b6)+_0x4457e2),this[_0x5adcf8(0x671)][_0x5adcf8(0x244)](this[_0x5adcf8(0x7ab)]+'\x20('+this[_0x5adcf8(0x597)][_0x5adcf8(0x38f)]+_0x5adcf8(0x2ae)),this[_0x5adcf8(0x671)][_0x5adcf8(0x244)](this[_0x5adcf8(0x7ab)]+'\x20('+this[_0x5adcf8(0x597)]['wuid']+_0x5adcf8(0x1f8)+_0xfc2602['lastInteraction']),this['logger'][_0x5adcf8(0x244)](this[_0x5adcf8(0x7ab)]+'\x20('+this[_0x5adcf8(0x597)][_0x5adcf8(0x38f)]+_0x5adcf8(0x3db)+_0x4457e2),_0xfc2602[_0x5adcf8(0x121)]<_0x4457e2){this[_0x5adcf8(0x671)]['verbose'](this[_0x5adcf8(0x7ab)]+'\x20('+this[_0x5adcf8(0x597)]['wuid']+_0x5adcf8(0x747));let _0x5e3e32=await this[_0x5adcf8(0x702)](_0x390d43);if(_0x5e3e32===null)return null;_0xfc2602&&await this[_0x5adcf8(0x2d1)]['flowConversation'][_0x5adcf8(0x171)](_0xfc2602['_id'],{'status':_0x5adcf8(0x2d3)},this['instance'][_0x5adcf8(0x38f)]),_0xfc2602=await this[_0x5adcf8(0xdf)](_0x5e3e32,_0x2114a5['key'],_0x2114a5);}return _0xfc2602[_0x5adcf8(0x121)]=_0x5df44c,_0xfc2602[_0x5adcf8(0x139)][_0x5adcf8(0x364)]=_0x2114a5,_0xfc2602;}}catch(_0xe6cec7){return this[_0x5adcf8(0x671)][_0x5adcf8(0x6f8)](this['instanceName']+'\x20('+this['instance'][_0x5adcf8(0x38f)]+_0x5adcf8(0x71f)+(_0xe6cec7 instanceof Error?_0xe6cec7[_0x5adcf8(0x3bf)]:JSON[_0x5adcf8(0x115)](_0xe6cec7,null,0x2))),null;}}async[a0_0x1d7ec3(0xdf)](_0x31eceb,_0x2a2e0c,_0x2dbff0){const _0x862826=a0_0x1d7ec3;this[_0x862826(0x671)][_0x862826(0x244)](this[_0x862826(0x7ab)]+'\x20('+this[_0x862826(0x597)]['wuid']+_0x862826(0x4be));try{let _0x5940f1=require(_0x862826(0x188))[_0x862826(0x5cd)],_0x2c8264=Date[_0x862826(0xe6)](),_0x5ab6b6=_0x862826(0x4d8),_0x32ec0f=_0x2a2e0c[_0x862826(0x123)]?null:_0x2dbff0,_0x2eb157=_0x2a2e0c[_0x862826(0x123)]?_0x2dbff0:null,_0x5ed75a=_0x2a2e0c[_0x862826(0x9d)],_0x78306a=this[_0x862826(0x7ac)][_0x862826(0x4ea)][_0x862826(0x44c)](_0x59fede=>_0x59fede['_id']===_0x31eceb['_id']?.['toString']()),_0x5f225a=_0x78306a?.[_0x862826(0x3f7)]??_0x31eceb[_0x862826(0x3f7)]??0x0,_0x397269=_0x78306a?.[_0x862826(0x467)]??_0x31eceb[_0x862826(0x467)]??!0x1;await this['closeExistingConversations'](_0x5ed75a);let _0x3e9f63={'flowId':_0x31eceb[_0x862826(0x6ee)],..._0x31eceb,'chatLog':null},_0x25ffb0=await this[_0x862826(0x5ac)](_0x3e9f63[_0x862826(0x695)]),_0x247651=await this[_0x862826(0x59f)](_0x5ed75a),_0x476778={..._0x25ffb0,..._0x247651,'_remoteJid':_0x5ed75a},_0x2d2dbf={'lastReceivedMessage':_0x32ec0f,'lastSendMessage':_0x2eb157,'lastBlockId':_0x5ab6b6,'lastCondition':!0x0,'realVariables':_0x476778};_0x3e9f63['chatLog']=_0x2d2dbf,delete _0x3e9f63[_0x862826(0x6ee)],_0x3e9f63[_0x862826(0x6ee)]=new _0x5940f1(),_0x3e9f63['lastInteraction']=_0x2c8264,_0x3e9f63[_0x862826(0x77f)]=_0x862826(0xb0),_0x3e9f63[_0x862826(0x9d)]=_0x5ed75a,_0x3e9f63[_0x862826(0x3f7)]=_0x5f225a,_0x3e9f63[_0x862826(0x467)]=_0x397269;let _0x557580=await this['repository'][_0x862826(0x704)][_0x862826(0x171)](_0x3e9f63[_0x862826(0x6ee)],_0x3e9f63,this[_0x862826(0x597)][_0x862826(0x38f)]);return this[_0x862826(0x671)][_0x862826(0x244)](this[_0x862826(0x7ab)]+'\x20('+this['instance'][_0x862826(0x38f)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x557580?_0x3e9f63:null;}catch(_0x48578b){return this[_0x862826(0x671)]['error'](this[_0x862826(0x7ab)]+'\x20('+this['instance'][_0x862826(0x38f)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x48578b instanceof Error?_0x48578b[_0x862826(0x3bf)]:JSON[_0x862826(0x115)](_0x48578b,null,0x2))),_0x48578b;}}async[a0_0x1d7ec3(0x12d)](_0x3b72ef,_0x2fb963){const _0x40baac=a0_0x1d7ec3;let _0x235606=_0x3b72ef[_0x40baac(0x9d)];_0x2fb963[_0x40baac(0x28f)][_0x40baac(0x9d)]&&_0x2fb963[_0x40baac(0x28f)][_0x40baac(0x9d)]['trim']()!==''&&(_0x235606=_0x2fb963[_0x40baac(0x28f)][_0x40baac(0x9d)][_0x40baac(0x5e2)]()),this['logger']['verbose'](this[_0x40baac(0x7ab)]+'\x20('+this['instance'][_0x40baac(0x38f)]+'):\x20Enviando\x20texto');let _0x5d687b={'number':_0x235606,'options':{'delay':_0x2fb963[_0x40baac(0x28f)][_0x40baac(0x1da)],'linkPreview':_0x2fb963['uazapi'][_0x40baac(0x1c4)]},'textMessage':{'text':_0x2fb963[_0x40baac(0x28f)][_0x40baac(0x7df)]}};try{let _0x3da788=await this[_0x40baac(0x7e7)](_0x5d687b);if(_0x3da788){let _0x3b9cf6={'_id':_0x3da788[_0x40baac(0x7e8)]['id'],'_fromMe':_0x3da788[_0x40baac(0x7e8)][_0x40baac(0x123)],'_remoteJid':_0x3da788[_0x40baac(0x7e8)][_0x40baac(0x9d)]},_0x2fe069=(0x0,w['normalizeMessageContent'])(_0x3da788['message']),_0x1e47f7=(0x0,w[_0x40baac(0x218)])(_0x2fe069);_0x3b72ef[_0x40baac(0x139)][_0x40baac(0x33d)]=_0x2fb963[_0x40baac(0x6ee)]['toString']();let {message_normalized:_0x5d8d3c}=this[_0x40baac(0x345)](_0x2fe069,_0x1e47f7,null);_0x3b72ef[_0x40baac(0x139)][_0x40baac(0x448)]=await _0x5d8d3c;let _0x1afc51={'messageId':_0x3da788[_0x40baac(0x7e8)]['id']},_0x5a563f=_0x3b72ef[_0x40baac(0x139)]['realVariables'];Object[_0x40baac(0x790)](_0x5a563f,_0x3b9cf6),_0x3b72ef[_0x40baac(0x139)]['realVariables']=_0x5a563f,this[_0x40baac(0x627)](_0x3b72ef,_0x2fb963,_0x1afc51);}else{let _0x364b20={'error':!0x0};this[_0x40baac(0x627)](_0x3b72ef,_0x2fb963,_0x364b20),this[_0x40baac(0x671)][_0x40baac(0x6f8)](this['instanceName']+'\x20('+this['instance'][_0x40baac(0x38f)]+_0x40baac(0x706));}}catch(_0x2d20ff){let _0x4953c7={'error':!0x0,'errorLog':_0x2d20ff['toString']()};this[_0x40baac(0x627)](_0x3b72ef,_0x2fb963,_0x4953c7),this['logger']['error'](this[_0x40baac(0x7ab)]+'\x20('+this[_0x40baac(0x597)][_0x40baac(0x38f)]+_0x40baac(0x4e5)+(_0x2d20ff instanceof Error?_0x2d20ff[_0x40baac(0x3bf)]:JSON[_0x40baac(0x115)](_0x2d20ff,null,0x2)));}}async[a0_0x1d7ec3(0x54e)](_0x324fb7,_0x2d35b9){const _0x218dc9=a0_0x1d7ec3;let _0x4dbc62=_0x324fb7[_0x218dc9(0x9d)];_0x2d35b9[_0x218dc9(0x28f)]['remoteJid']&&_0x2d35b9[_0x218dc9(0x28f)][_0x218dc9(0x9d)][_0x218dc9(0x5e2)]()!==''&&(_0x4dbc62=_0x2d35b9['uazapi'][_0x218dc9(0x9d)][_0x218dc9(0x5e2)]()),this[_0x218dc9(0x671)][_0x218dc9(0x244)](this['instanceName']+'\x20('+this['instance'][_0x218dc9(0x38f)]+'):\x20Enviando\x20mídia');let _0x4145ec={'number':_0x4dbc62,'options':{'delay':_0x2d35b9['uazapi'][_0x218dc9(0x1da)],'linkPreview':_0x2d35b9[_0x218dc9(0x28f)]['linkPreview']},'mediaMessage':{'mediatype':_0x2d35b9[_0x218dc9(0x28f)][_0x218dc9(0x738)],'caption':_0x2d35b9[_0x218dc9(0x28f)][_0x218dc9(0x4ab)],'media':_0x2d35b9[_0x218dc9(0x28f)][_0x218dc9(0x800)],'fileName':_0x2d35b9[_0x218dc9(0x28f)][_0x218dc9(0x107)]}};try{let _0xc415a1=await this['mediaMessage'](_0x4145ec);if(_0xc415a1){let _0x25cd95={'_id':_0xc415a1[_0x218dc9(0x7e8)]['id'],'_fromMe':_0xc415a1[_0x218dc9(0x7e8)][_0x218dc9(0x123)],'_remoteJid':_0xc415a1['key'][_0x218dc9(0x9d)]},_0x2e1b2c=(0x0,w['normalizeMessageContent'])(_0xc415a1['message']),_0x316ba0=(0x0,w[_0x218dc9(0x218)])(_0x2e1b2c);_0x324fb7[_0x218dc9(0x139)][_0x218dc9(0x33d)]=_0x2d35b9[_0x218dc9(0x6ee)][_0x218dc9(0x125)]();let {message_normalized:_0x17a3df}=this[_0x218dc9(0x345)](_0x2e1b2c,_0x316ba0,null);_0x324fb7[_0x218dc9(0x139)][_0x218dc9(0x448)]=await _0x17a3df;let _0x2c6328={'messageId':_0xc415a1[_0x218dc9(0x7e8)]['id']},_0x27ed9f=_0x324fb7[_0x218dc9(0x139)][_0x218dc9(0x5e8)];Object['assign'](_0x27ed9f,_0x25cd95),_0x324fb7[_0x218dc9(0x139)][_0x218dc9(0x5e8)]=_0x27ed9f,this[_0x218dc9(0x627)](_0x324fb7,_0x2d35b9,_0x2c6328);}else{let _0x5ba02a={'error':!0x0};this[_0x218dc9(0x627)](_0x324fb7,_0x2d35b9,_0x5ba02a),this[_0x218dc9(0x671)][_0x218dc9(0x6f8)](this['instanceName']+'\x20('+this[_0x218dc9(0x597)][_0x218dc9(0x38f)]+_0x218dc9(0x194));}}catch(_0x8c64f){let _0x49e5b8={'error':!0x0,'errorLog':_0x8c64f['toString']()};this[_0x218dc9(0x627)](_0x324fb7,_0x2d35b9,_0x49e5b8),this[_0x218dc9(0x671)][_0x218dc9(0x6f8)](this['instanceName']+'\x20('+this[_0x218dc9(0x597)][_0x218dc9(0x38f)]+_0x218dc9(0x633)+(_0x8c64f instanceof Error?_0x8c64f[_0x218dc9(0x3bf)]:JSON[_0x218dc9(0x115)](_0x8c64f,null,0x2)));}}async[a0_0x1d7ec3(0x2a4)](_0x565c72,_0x39fa1b){const _0x3c021c=a0_0x1d7ec3;let _0x329bd4=_0x565c72[_0x3c021c(0x9d)];_0x39fa1b[_0x3c021c(0x28f)][_0x3c021c(0x9d)]&&_0x39fa1b['uazapi'][_0x3c021c(0x9d)]['trim']()!==''&&(_0x329bd4=_0x39fa1b['uazapi']['remoteJid'][_0x3c021c(0x5e2)]()),this[_0x3c021c(0x671)]['verbose'](this[_0x3c021c(0x7ab)]+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20localização');let _0x14b7d9={'number':_0x329bd4,'options':{'delay':_0x39fa1b[_0x3c021c(0x28f)][_0x3c021c(0x1da)]},'locationMessage':{'name':_0x39fa1b[_0x3c021c(0x28f)][_0x3c021c(0x70c)],'address':_0x39fa1b[_0x3c021c(0x28f)][_0x3c021c(0x61a)],'latitude':_0x39fa1b[_0x3c021c(0x28f)][_0x3c021c(0x3eb)],'longitude':_0x39fa1b[_0x3c021c(0x28f)][_0x3c021c(0x3be)]}};try{let _0x23a640=await this[_0x3c021c(0x6f3)](_0x14b7d9);if(_0x23a640){let _0xb7d016={'_id':_0x23a640[_0x3c021c(0x7e8)]['id'],'_fromMe':_0x23a640[_0x3c021c(0x7e8)]['fromMe'],'_remoteJid':_0x23a640[_0x3c021c(0x7e8)][_0x3c021c(0x9d)]},_0x334ee3=(0x0,w[_0x3c021c(0x3e6)])(_0x23a640['message']),_0x3a6466=(0x0,w['getContentType'])(_0x334ee3);_0x565c72[_0x3c021c(0x139)]['lastBlockId']=_0x39fa1b[_0x3c021c(0x6ee)]['toString']();let {message_normalized:_0x148dd5}=this[_0x3c021c(0x345)](_0x334ee3,_0x3a6466,null);_0x565c72[_0x3c021c(0x139)][_0x3c021c(0x448)]=await _0x148dd5;let _0x2666a5={'messageId':_0x23a640[_0x3c021c(0x7e8)]['id']},_0x41f319=_0x565c72['chatLog']['realVariables'];Object[_0x3c021c(0x790)](_0x41f319,_0xb7d016),_0x565c72[_0x3c021c(0x139)]['realVariables']=_0x41f319,this['updateConversation'](_0x565c72,_0x39fa1b,_0x2666a5);}else{let _0x17a417={'error':!0x0};this[_0x3c021c(0x627)](_0x565c72,_0x39fa1b,_0x17a417),this[_0x3c021c(0x671)][_0x3c021c(0x6f8)](this[_0x3c021c(0x7ab)]+'\x20('+this[_0x3c021c(0x597)][_0x3c021c(0x38f)]+_0x3c021c(0x2c7));}}catch(_0x455544){let _0x245a51={'error':!0x0,'errorLog':_0x455544[_0x3c021c(0x125)]()};this[_0x3c021c(0x627)](_0x565c72,_0x39fa1b,_0x245a51),this[_0x3c021c(0x671)][_0x3c021c(0x6f8)](this['instanceName']+'\x20('+this[_0x3c021c(0x597)][_0x3c021c(0x38f)]+_0x3c021c(0x4ae)+(_0x455544 instanceof Error?_0x455544[_0x3c021c(0x3bf)]:JSON[_0x3c021c(0x115)](_0x455544,null,0x2)));}}async[a0_0x1d7ec3(0xf6)](_0x496366,_0x244db8){const _0x1f7a3a=a0_0x1d7ec3;let _0x3582f0=_0x496366['remoteJid'];_0x244db8[_0x1f7a3a(0x28f)]['remoteJid']&&_0x244db8[_0x1f7a3a(0x28f)][_0x1f7a3a(0x9d)][_0x1f7a3a(0x5e2)]()!==''&&(_0x3582f0=_0x244db8[_0x1f7a3a(0x28f)][_0x1f7a3a(0x9d)][_0x1f7a3a(0x5e2)]()),this[_0x1f7a3a(0x671)][_0x1f7a3a(0x244)](this[_0x1f7a3a(0x7ab)]+'\x20('+this[_0x1f7a3a(0x597)][_0x1f7a3a(0x38f)]+'):\x20Enviando\x20áudio');let _0x1ebe66={'number':_0x3582f0,'options':{'delay':_0x244db8[_0x1f7a3a(0x28f)]['delay']},'audioMessage':{'audio':_0x244db8[_0x1f7a3a(0x28f)][_0x1f7a3a(0x574)]}};try{let _0xd78721=await this['audioWhatsapp'](_0x1ebe66);if(_0xd78721){let _0x43fe68={'_id':_0xd78721['key']['id'],'_fromMe':_0xd78721['key'][_0x1f7a3a(0x123)],'_remoteJid':_0xd78721['key']['remoteJid']},_0x3162aa=(0x0,w[_0x1f7a3a(0x3e6)])(_0xd78721[_0x1f7a3a(0x3bf)]),_0x32c52f=(0x0,w[_0x1f7a3a(0x218)])(_0x3162aa);_0x496366['chatLog'][_0x1f7a3a(0x33d)]=_0x244db8[_0x1f7a3a(0x6ee)]['toString']();let {message_normalized:_0x1188d1}=this[_0x1f7a3a(0x345)](_0x3162aa,_0x32c52f,null);_0x496366[_0x1f7a3a(0x139)][_0x1f7a3a(0x448)]=await _0x1188d1;let _0xf48b1a={'messageId':_0xd78721['key']['id']},_0x655331=_0x496366[_0x1f7a3a(0x139)][_0x1f7a3a(0x5e8)];Object[_0x1f7a3a(0x790)](_0x655331,_0x43fe68),_0x496366[_0x1f7a3a(0x139)][_0x1f7a3a(0x5e8)]=_0x655331,this['updateConversation'](_0x496366,_0x244db8,_0xf48b1a);}else{let _0x2dcb4f={'error':!0x0};this[_0x1f7a3a(0x627)](_0x496366,_0x244db8,_0x2dcb4f),this[_0x1f7a3a(0x671)][_0x1f7a3a(0x6f8)](this['instanceName']+'\x20('+this[_0x1f7a3a(0x597)][_0x1f7a3a(0x38f)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x4b6bb7){let _0x2fcc97={'error':!0x0,'errorLog':_0x4b6bb7['toString']()};this[_0x1f7a3a(0x627)](_0x496366,_0x244db8,_0x2fcc97),this[_0x1f7a3a(0x671)][_0x1f7a3a(0x6f8)](this[_0x1f7a3a(0x7ab)]+'\x20('+this[_0x1f7a3a(0x597)]['wuid']+_0x1f7a3a(0x710)+(_0x4b6bb7 instanceof Error?_0x4b6bb7[_0x1f7a3a(0x3bf)]:JSON[_0x1f7a3a(0x115)](_0x4b6bb7,null,0x2)));}}async[a0_0x1d7ec3(0x15f)](_0x39ac02,_0x35b66c){const _0x2cb43b=a0_0x1d7ec3;let _0x997711=_0x39ac02[_0x2cb43b(0x9d)];_0x35b66c['uazapi'][_0x2cb43b(0x9d)]&&_0x35b66c[_0x2cb43b(0x28f)][_0x2cb43b(0x9d)]['trim']()!==''&&(_0x997711=_0x35b66c['uazapi'][_0x2cb43b(0x9d)][_0x2cb43b(0x5e2)]()),this[_0x2cb43b(0x671)][_0x2cb43b(0x244)](this[_0x2cb43b(0x7ab)]+'\x20('+this[_0x2cb43b(0x597)]['wuid']+_0x2cb43b(0x3cb));let _0x3ab9bf={'number':_0x997711,'options':{'delay':_0x35b66c['uazapi'][_0x2cb43b(0x1da)]},'contactMessage':[{'fullName':_0x35b66c['uazapi'][_0x2cb43b(0x565)],'phoneNumber':_0x35b66c[_0x2cb43b(0x28f)][_0x2cb43b(0x420)]}]};try{let _0x43d2d9=await this['contactMessage'](_0x3ab9bf);if(_0x43d2d9){let _0x19c572={'_id':_0x43d2d9[_0x2cb43b(0x7e8)]['id'],'_fromMe':_0x43d2d9[_0x2cb43b(0x7e8)]['fromMe'],'_remoteJid':_0x43d2d9[_0x2cb43b(0x7e8)][_0x2cb43b(0x9d)]},_0x30ee5c=(0x0,w[_0x2cb43b(0x3e6)])(_0x43d2d9[_0x2cb43b(0x3bf)]),_0x161e11=(0x0,w[_0x2cb43b(0x218)])(_0x30ee5c);_0x39ac02[_0x2cb43b(0x139)][_0x2cb43b(0x33d)]=_0x35b66c[_0x2cb43b(0x6ee)][_0x2cb43b(0x125)]();let {message_normalized:_0x5b7758}=this[_0x2cb43b(0x345)](_0x30ee5c,_0x161e11,null);_0x39ac02[_0x2cb43b(0x139)][_0x2cb43b(0x448)]=await _0x5b7758;let _0x3beb2a={'messageId':_0x43d2d9['key']['id']},_0xc771d7=_0x39ac02['chatLog']['realVariables'];Object[_0x2cb43b(0x790)](_0xc771d7,_0x19c572),_0x39ac02[_0x2cb43b(0x139)][_0x2cb43b(0x5e8)]=_0xc771d7,this[_0x2cb43b(0x627)](_0x39ac02,_0x35b66c,_0x3beb2a);}else{let _0x4661ce={'error':!0x0};this[_0x2cb43b(0x627)](_0x39ac02,_0x35b66c,_0x4661ce),this['logger'][_0x2cb43b(0x6f8)](this['instanceName']+'\x20('+this[_0x2cb43b(0x597)][_0x2cb43b(0x38f)]+_0x2cb43b(0x122));}}catch(_0x3fabac){let _0x2df183={'error':!0x0,'errorLog':_0x3fabac['toString']()};this[_0x2cb43b(0x627)](_0x39ac02,_0x35b66c,_0x2df183),this[_0x2cb43b(0x671)][_0x2cb43b(0x6f8)](this[_0x2cb43b(0x7ab)]+'\x20('+this[_0x2cb43b(0x597)][_0x2cb43b(0x38f)]+_0x2cb43b(0x5f1)+(_0x3fabac instanceof Error?_0x3fabac[_0x2cb43b(0x3bf)]:JSON['stringify'](_0x3fabac,null,0x2)));}}[a0_0x1d7ec3(0x23c)](_0x3a121b,_0x692209){const _0x1ea266=a0_0x1d7ec3;for(let _0x30e540 of _0x3a121b)_0x30e540[_0x1ea266(0x621)]&&(_0x30e540[_0x1ea266(0x621)]=this[_0x1ea266(0x328)](_0x30e540[_0x1ea266(0x621)],_0x692209)),_0x30e540[_0x1ea266(0x3b0)]&&(_0x30e540[_0x1ea266(0x3b0)]=this[_0x1ea266(0x328)](_0x30e540['optionDescription'],_0x692209));}async[a0_0x1d7ec3(0x51f)](_0x2222f4,_0x586d45){const _0x17461d=a0_0x1d7ec3;let _0x12fb83=_0x2222f4[_0x17461d(0x9d)];_0x586d45[_0x17461d(0x28f)]['remoteJid']&&_0x586d45['uazapi']['remoteJid']['trim']()!==''&&(_0x12fb83=_0x586d45[_0x17461d(0x28f)][_0x17461d(0x9d)]['trim']()),this[_0x17461d(0x671)][_0x17461d(0x244)](this[_0x17461d(0x7ab)]+'\x20('+this[_0x17461d(0x597)][_0x17461d(0x38f)]+_0x17461d(0x1d1));let _0x5d67fb=_0x2222f4[_0x17461d(0x6fd)][_0x17461d(0x350)](_0x1540a9=>_0x1540a9[_0x17461d(0x370)]===_0x586d45[_0x17461d(0x6ee)])[_0x17461d(0x3d4)]((_0x590a1f,_0xaa30aa)=>_0x590a1f[_0x17461d(0x381)]-_0xaa30aa[_0x17461d(0x381)]);this['replaceVariablesInReplyOptions'](_0x5d67fb,_0x2222f4[_0x17461d(0x139)]['realVariables']);let _0x516e3d=_0x5d67fb['map'](_0x95b63d=>_0x95b63d[_0x17461d(0x621)]),_0x54899f={'number':_0x12fb83,'menuMessage':{'type':_0x586d45[_0x17461d(0x28f)]['menuType']||_0x17461d(0xbc),'text':_0x586d45['uazapi'][_0x17461d(0x7df)]||_0x586d45[_0x17461d(0x28f)]['name'],'footerText':_0x586d45[_0x17461d(0x28f)][_0x17461d(0x7a0)],'buttonText':_0x586d45[_0x17461d(0x28f)][_0x17461d(0xcf)],'selectableCount':0x1,'choices':_0x516e3d},'options':{'delay':_0x586d45[_0x17461d(0x28f)][_0x17461d(0x1da)]}};try{let _0x528a8c=await this[_0x17461d(0x2a3)](_0x54899f);if(_0x528a8c){let _0x503185={'_id':_0x528a8c[_0x17461d(0x7e8)]['id'],'_fromMe':_0x528a8c[_0x17461d(0x7e8)][_0x17461d(0x123)],'_remoteJid':_0x528a8c[_0x17461d(0x7e8)]['remoteJid']};_0x586d45['uazapi']['menuIgnoreNonVotes']===!0x0&&(_0x2222f4[_0x17461d(0x77f)]=_0x17461d(0x13b),this['logger']['verbose'](this[_0x17461d(0x7ab)]+'\x20('+this[_0x17461d(0x597)][_0x17461d(0x38f)]+_0x17461d(0x595)+_0x2222f4[_0x17461d(0x77f)])),this[_0x17461d(0x671)][_0x17461d(0x244)](this[_0x17461d(0x7ab)]+'\x20('+this['instance'][_0x17461d(0x38f)]+_0x17461d(0x586)+(_0x586d45['uazapi']['name']||_0x586d45[_0x17461d(0x28f)]['text'])),_0x2222f4[_0x17461d(0x8d)]=_0x528a8c['key']['id'],_0x2222f4['waitingMenu_text']=_0x586d45[_0x17461d(0x28f)][_0x17461d(0x70c)]||_0x586d45['uazapi']['text'],_0x2222f4[_0x17461d(0x329)]=_0x5d67fb,_0x586d45[_0x17461d(0x28f)][_0x17461d(0x233)]&&(_0x2222f4[_0x17461d(0x65e)]=_0x586d45[_0x17461d(0x28f)][_0x17461d(0x233)]),this[_0x17461d(0x671)][_0x17461d(0x244)](this[_0x17461d(0x7ab)]+'\x20('+this[_0x17461d(0x597)]['wuid']+_0x17461d(0x142)+_0x2222f4[_0x17461d(0x4d2)]);let _0x501134=(0x0,w[_0x17461d(0x3e6)])(_0x528a8c[_0x17461d(0x3bf)]),_0x22fafe=(0x0,w[_0x17461d(0x218)])(_0x501134);_0x2222f4[_0x17461d(0x139)][_0x17461d(0x33d)]=_0x586d45['_id'][_0x17461d(0x125)]();let {message_normalized:_0x257279}=this[_0x17461d(0x345)](_0x501134,_0x22fafe,null);_0x2222f4[_0x17461d(0x139)][_0x17461d(0x448)]=await _0x257279;let _0x10b1f5={'messageId':_0x528a8c[_0x17461d(0x7e8)]['id']},_0x3dd9be=_0x2222f4[_0x17461d(0x139)][_0x17461d(0x5e8)];Object[_0x17461d(0x790)](_0x3dd9be,_0x503185),_0x2222f4[_0x17461d(0x139)][_0x17461d(0x5e8)]=_0x3dd9be,this['updateConversation'](_0x2222f4,_0x586d45,_0x10b1f5);}else{let _0x4b6cda={'error':!0x0};this[_0x17461d(0x627)](_0x2222f4,_0x586d45,_0x4b6cda),this[_0x17461d(0x671)][_0x17461d(0x6f8)](this[_0x17461d(0x7ab)]+'\x20('+this[_0x17461d(0x597)][_0x17461d(0x38f)]+_0x17461d(0x23e));}}catch(_0x279a41){let _0x307eed={'error':!0x0,'errorLog':_0x279a41 instanceof Error?_0x279a41[_0x17461d(0x3bf)]:JSON[_0x17461d(0x115)](_0x279a41,null,0x2)};this['updateConversation'](_0x2222f4,_0x586d45,_0x307eed),this[_0x17461d(0x671)][_0x17461d(0x6f8)](this[_0x17461d(0x7ab)]+'\x20('+this[_0x17461d(0x597)][_0x17461d(0x38f)]+_0x17461d(0x5a8)+(_0x279a41 instanceof Error?_0x279a41[_0x17461d(0x3bf)]:JSON[_0x17461d(0x115)](_0x279a41,null,0x2)));}}async['uazapiDeleteMessage'](_0x312286,_0xa1f58b){const _0x4d9c97=a0_0x1d7ec3;this['logger']['verbose'](this[_0x4d9c97(0x7ab)]+'\x20('+this[_0x4d9c97(0x597)][_0x4d9c97(0x38f)]+_0x4d9c97(0x506));let _0x3a6345=_0x312286['chatLog'][_0x4d9c97(0x4a5)][_0x4d9c97(0x44c)](_0x1ac2f8=>_0x1ac2f8['blockId'][_0x4d9c97(0x125)]()===_0xa1f58b[_0x4d9c97(0x28f)][_0x4d9c97(0x370)][_0x4d9c97(0x125)]()),_0x124c89={'id':_0x3a6345[_0x4d9c97(0x1df)],'remoteJid':_0x3a6345[_0x4d9c97(0x9d)],'fromMe':_0x3a6345['fromMe']};try{let _0x32d60c=await this[_0x4d9c97(0x2ab)](_0x124c89);if(_0x32d60c){let _0x775f8=(0x0,w[_0x4d9c97(0x3e6)])(_0x32d60c['message']),_0x353807=(0x0,w[_0x4d9c97(0x218)])(_0x775f8);_0x312286[_0x4d9c97(0x139)][_0x4d9c97(0x33d)]=_0xa1f58b[_0x4d9c97(0x6ee)]['toString']();let {message_normalized:_0x1e62bd}=this[_0x4d9c97(0x345)](_0x775f8,_0x353807,null);_0x312286[_0x4d9c97(0x139)][_0x4d9c97(0x448)]=await _0x1e62bd;let _0x4997f5={};this[_0x4d9c97(0x627)](_0x312286,_0xa1f58b,_0x4997f5);}else{let _0x5dcd92={'error':!0x0};this['updateConversation'](_0x312286,_0xa1f58b,_0x5dcd92),this[_0x4d9c97(0x671)]['error'](this[_0x4d9c97(0x7ab)]+'\x20('+this['instance'][_0x4d9c97(0x38f)]+_0x4d9c97(0x3b4));}}catch(_0x332d0c){let _0x5b7308={'error':!0x0,'errorLog':_0x332d0c instanceof Error?_0x332d0c[_0x4d9c97(0x3bf)]:JSON['stringify'](_0x332d0c,null,0x2)};this[_0x4d9c97(0x627)](_0x312286,_0xa1f58b,_0x5b7308),this[_0x4d9c97(0x671)][_0x4d9c97(0x6f8)](this[_0x4d9c97(0x7ab)]+'\x20('+this[_0x4d9c97(0x597)][_0x4d9c97(0x38f)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x332d0c instanceof Error?_0x332d0c[_0x4d9c97(0x3bf)]:JSON[_0x4d9c97(0x115)](_0x332d0c,null,0x2)));}}async[a0_0x1d7ec3(0x490)](_0x3f4dd7,_0x1494c7){const _0x41963b=a0_0x1d7ec3;if(_0x3f4dd7[_0x41963b(0x70c)]||(_0x3f4dd7[_0x41963b(0x70c)]=(0x0,Y['v4'])()),_0x1494c7!==Ri&&_0x3f4dd7?.[_0x41963b(0x77e)])throw new m(_0x41963b(0x427));if(_0x41963b(0x6ee)in _0x3f4dd7&&_0x41963b(0x31c)in _0x3f4dd7)return this[_0x41963b(0xb4)](_0x3f4dd7['owner'],_0x3f4dd7[_0x41963b(0x6ee)]);this['logger'][_0x41963b(0x244)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Criando\x20fluxo...');let _0x5ec2c7=this[_0x41963b(0x96)](_0x3f4dd7[_0x41963b(0x70c)]),_0x4f620d=new ge[(_0x41963b(0xea))][(_0x41963b(0x5cd))](),_0x17b6f2={'_id':_0x4f620d,'default':!0x0,'title':_0x41963b(0x69e),'x':0x0,'y':0x0},_0x5596fd={'_id':new ge[(_0x41963b(0xea))][(_0x41963b(0x5cd))](),'order':0x1,'groupId':_0x4f620d['toString'](),'type':'start'},_0x155d7d=this[_0x41963b(0x597)][_0x41963b(0x38f)],_0x3ef9bf={'_id':(0x0,Y['v4'])(),'owner':_0x155d7d,'name':_0x5ec2c7,'whoCanEdit':[_0x155d7d],'whoCanUse':[_0x155d7d],'groups':[_0x17b6f2],'blocks':[_0x5596fd],..._0x3f4dd7};try{let _0x1c248d=await this['repository'][_0x41963b(0x251)][_0x41963b(0x344)](_0x3ef9bf);return await this[_0x41963b(0x379)](),_0x1c248d;}catch(_0x8e2e46){let _0x5a959a=_0x41963b(0x324),_0x407619=_0x8e2e46 instanceof Error?_0x8e2e46[_0x41963b(0x3bf)]:typeof _0x8e2e46==_0x41963b(0x4b9)?JSON[_0x41963b(0x115)](_0x8e2e46):_0x8e2e46,_0x3afbbe=_0x5a959a+':\x20'+_0x407619;throw this['logger'][_0x41963b(0x6f8)](this['instanceName']+'\x20('+this[_0x41963b(0x597)]['wuid']+_0x41963b(0x84)+_0x3afbbe),new m(_0x3afbbe);}}async[a0_0x1d7ec3(0xb4)](_0x30e5c5,_0x50a260){const _0x571fcd=a0_0x1d7ec3;try{this[_0x571fcd(0x671)][_0x571fcd(0x244)](this[_0x571fcd(0x7ab)]+'\x20('+this['instance'][_0x571fcd(0x38f)]+_0x571fcd(0x173));let _0x4533af=await this[_0x571fcd(0x2d1)][_0x571fcd(0x251)][_0x571fcd(0x6f0)]({'where':{'_id':_0x50a260,'owner':_0x30e5c5}});if(!_0x4533af)throw new m(_0x571fcd(0x2b6));if(_0x4533af[_0x571fcd(0x7c6)]===!0x1&&!_0x4533af['globalShow'])throw new m(_0x571fcd(0x67c));let _0xae5ddd=new Set(_0x4533af['whoCanUse']??[]);_0xae5ddd['add'](this[_0x571fcd(0x597)][_0x571fcd(0x38f)]);let _0xa66d5b=await this[_0x571fcd(0x2d1)]['flow'][_0x571fcd(0x171)](_0x50a260,{..._0x4533af,'whoCanUse':Array['from'](_0xae5ddd)});return await this[_0x571fcd(0x379)](),_0xa66d5b;}catch(_0x462171){let _0x5078fa='Erro\x20ao\x20criar\x20fluxo\x20compartilhado',_0x242627=_0x462171 instanceof Error?_0x462171[_0x571fcd(0x3bf)]:typeof _0x462171=='object'?JSON['stringify'](_0x462171):_0x462171,_0x22c0c2=_0x5078fa+':\x20'+_0x242627;throw this['logger'][_0x571fcd(0x6f8)](this[_0x571fcd(0x7ab)]+'\x20('+this[_0x571fcd(0x597)][_0x571fcd(0x38f)]+_0x571fcd(0x84)+_0x22c0c2),new m(_0x22c0c2);}}[a0_0x1d7ec3(0x96)](_0x27b0d9){const _0x41d7e4=a0_0x1d7ec3;let _0x35441a=_0x27b0d9,_0x82de90=0x1;for(;this[_0x41d7e4(0x7ac)][_0x41d7e4(0x4ea)]['some'](_0x1c1b8d=>_0x1c1b8d['name']===_0x35441a);)_0x82de90++,_0x35441a=_0x27b0d9+'\x20('+_0x82de90+')';return _0x35441a;}async[a0_0x1d7ec3(0x153)](_0x2c0acd){const _0x58ca49=a0_0x1d7ec3;try{if(this['logger'][_0x58ca49(0x244)](this['instanceName']+'\x20('+this[_0x58ca49(0x597)][_0x58ca49(0x38f)]+'):\x20\x27Deletando\x20fluxo,\x20id:\x20'+_0x2c0acd[_0x58ca49(0x6ee)]+_0x58ca49(0x25c)+_0x2c0acd['global']),!this[_0x58ca49(0x7ac)]['flows'][_0x58ca49(0x44c)](_0x322249=>_0x322249[_0x58ca49(0x6ee)]===_0x2c0acd[_0x58ca49(0x6ee)]))throw this['logger'][_0x58ca49(0x244)](this[_0x58ca49(0x7ab)]+'\x20('+this[_0x58ca49(0x597)][_0x58ca49(0x38f)]+_0x58ca49(0x4cb)+_0x2c0acd[_0x58ca49(0x6ee)]+'\x27\x20não\x20encontrado'),new m(_0x58ca49(0x5ef));let _0x650326=await this['repository']['flow'][_0x58ca49(0x6f0)]({'where':{'_id':_0x2c0acd[_0x58ca49(0x6ee)]}});if(!_0x650326)throw new m(_0x58ca49(0x403));if(this[_0x58ca49(0x597)][_0x58ca49(0x38f)]===_0x650326[_0x58ca49(0x31c)]){this['logger'][_0x58ca49(0x244)](this[_0x58ca49(0x7ab)]+'\x20('+this[_0x58ca49(0x597)][_0x58ca49(0x38f)]+_0x58ca49(0xa8)+_0x2c0acd[_0x58ca49(0x6ee)]+_0x58ca49(0x4dc));let _0x337d8f=await this[_0x58ca49(0x2d1)][_0x58ca49(0x251)][_0x58ca49(0x40e)]({'where':{'_id':_0x2c0acd[_0x58ca49(0x6ee)]}});return await this[_0x58ca49(0x379)](),_0x337d8f;}return this[_0x58ca49(0x671)]['verbose'](this['instanceName']+'\x20('+this[_0x58ca49(0x597)]['wuid']+_0x58ca49(0x56a)+this[_0x58ca49(0x597)][_0x58ca49(0x38f)]+_0x58ca49(0x10f)+_0x2c0acd[_0x58ca49(0x6ee)]+_0x58ca49(0x216)),_0x650326[_0x58ca49(0x3cc)]=(_0x650326[_0x58ca49(0x3cc)]??[])[_0x58ca49(0x350)](_0x27a5b0=>_0x27a5b0!==this[_0x58ca49(0x597)][_0x58ca49(0x38f)]),_0x650326[_0x58ca49(0x50a)]=(_0x650326[_0x58ca49(0x50a)]??[])[_0x58ca49(0x350)](_0x34db38=>_0x34db38!==this[_0x58ca49(0x597)][_0x58ca49(0x38f)]),_0x650326['whoCanEdit']['length']===0x0&&_0x650326[_0x58ca49(0x3cc)][_0x58ca49(0x387)]>0x0&&(_0x650326[_0x58ca49(0x50a)][_0x58ca49(0x1fc)](_0x650326[_0x58ca49(0x3cc)][0x0]),this[_0x58ca49(0x671)][_0x58ca49(0x244)](this[_0x58ca49(0x7ab)]+'\x20('+this[_0x58ca49(0x597)][_0x58ca49(0x38f)]+_0x58ca49(0x5dc)+_0x650326[_0x58ca49(0x3cc)][0x0]+_0x58ca49(0x2d4)+_0x2c0acd[_0x58ca49(0x6ee)]+_0x58ca49(0x216))),await this[_0x58ca49(0x2d1)][_0x58ca49(0x251)][_0x58ca49(0x171)](_0x650326[_0x58ca49(0x6ee)],_0x650326),await this[_0x58ca49(0x379)](),{'message':_0x58ca49(0x156)+_0x2c0acd['name']+_0x58ca49(0x561)};}catch(_0x33462b){return this[_0x58ca49(0x671)][_0x58ca49(0x6f8)](this[_0x58ca49(0x7ab)]+'\x20('+this[_0x58ca49(0x597)][_0x58ca49(0x38f)]+_0x58ca49(0x12b)+(_0x33462b instanceof Error?_0x33462b['message']:JSON[_0x58ca49(0x115)](_0x33462b,null,0x2))),{'message':_0x58ca49(0x8b)+(_0x33462b instanceof Error?_0x33462b[_0x58ca49(0x3bf)]:JSON[_0x58ca49(0x115)](_0x33462b,null,0x2))};}}async[a0_0x1d7ec3(0x2ed)](_0x2122af){const _0x2eb98c=a0_0x1d7ec3;try{if(this['logger'][_0x2eb98c(0x696)](this[_0x2eb98c(0x7ab)]+'\x20('+this[_0x2eb98c(0x597)][_0x2eb98c(0x38f)]+'):\x20Buscando\x20flow,\x20id:\x20'+_0x2122af),!this[_0x2eb98c(0x7ac)]&&(await this[_0x2eb98c(0x5bd)](),!this['AutomateSystem']))return null;let _0x93cbd8=await this[_0x2eb98c(0x2d1)][_0x2eb98c(0x251)][_0x2eb98c(0x6f0)]({'where':{'_id':_0x2122af}});if(!_0x93cbd8)throw new m('Fluxo\x20id\x20\x27'+_0x2122af+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(!(_0x93cbd8[_0x2eb98c(0x77e)]||_0x93cbd8[_0x2eb98c(0x3cc)]?.['includes'](this[_0x2eb98c(0x597)][_0x2eb98c(0x38f)])))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27'+name+'\x27');_0x93cbd8[_0x2eb98c(0x77e)]&&!_0x93cbd8[_0x2eb98c(0x3cc)]?.['includes'](this[_0x2eb98c(0x597)][_0x2eb98c(0x38f)])&&(_0x93cbd8[_0x2eb98c(0x3cc)]=[..._0x93cbd8[_0x2eb98c(0x3cc)]??[],this[_0x2eb98c(0x597)]['wuid']],await this[_0x2eb98c(0x2d1)]['flow']['updateOne'](_0x93cbd8[_0x2eb98c(0x6ee)],_0x93cbd8),this[_0x2eb98c(0x379)]());let _0x521755=this['AutomateSystem']?.['customFields'][_0x2eb98c(0x5c2)](_0x1c639f=>_0x1c639f[_0x2eb98c(0x70c)]),_0x40c90a=[_0x2eb98c(0x1c3),'nomecompleto',_0x2eb98c(0x280),_0x2eb98c(0xa2),_0x2eb98c(0x77f),_0x2eb98c(0x9c),_0x2eb98c(0x56f),_0x2eb98c(0x7a3),_0x2eb98c(0x71d),'telefone',_0x2eb98c(0x3e5)];_0x93cbd8[_0x2eb98c(0x695)]=_0x93cbd8[_0x2eb98c(0x695)]['filter'](_0x252d8d=>!(_0x252d8d['folder']===_0x2eb98c(0x1b4)||_0x252d8d[_0x2eb98c(0x1b4)])),_0x40c90a[_0x2eb98c(0xb2)](_0x5bca2c=>{const _0x29b536=_0x2eb98c;_0x93cbd8[_0x29b536(0x695)][_0x29b536(0x1fc)]({'folder':_0x29b536(0x1b4),'name':_0x5bca2c,'value':'','doc':'','leadInfo':!0x0});}),_0x521755[_0x2eb98c(0xb2)](_0x182170=>{const _0x2469e0=_0x2eb98c;let _0x242e86=_0x93cbd8[_0x2469e0(0x695)][_0x2469e0(0x163)](_0x4d0aa7=>_0x4d0aa7['name']===_0x182170);_0x242e86===-0x1?_0x93cbd8[_0x2469e0(0x695)][_0x2469e0(0x1fc)]({'folder':_0x2469e0(0x1b4),'name':_0x182170,'value':'','doc':'','leadInfo':!0x0}):(_0x93cbd8['variables'][_0x242e86]['folder']=_0x2469e0(0x1b4),_0x93cbd8[_0x2469e0(0x695)][_0x242e86][_0x2469e0(0x1b4)]=!0x0);}),_0x93cbd8[_0x2eb98c(0x17f)]&&_0x93cbd8[_0x2eb98c(0x17f)][_0x2eb98c(0x387)]>0x0&&_0x93cbd8['blocks']['forEach'](_0x57ba0f=>{const _0x3f13a7=_0x2eb98c;_0x57ba0f['groupId']&&_0x57ba0f[_0x3f13a7(0x347)]&&_0x57ba0f[_0x3f13a7(0x7b7)]===_0x57ba0f[_0x3f13a7(0x347)]&&(_0x57ba0f[_0x3f13a7(0x347)]=null);});let _0x7730d5=await this[_0x2eb98c(0x2d1)][_0x2eb98c(0x251)]['updateOne'](_0x93cbd8[_0x2eb98c(0x6ee)],_0x93cbd8);if(!_0x7730d5)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x7730d5;}catch(_0x1e27d8){let _0x1764ff=_0x2eb98c(0x697),_0x3e0161=_0x1e27d8 instanceof Error?_0x1e27d8[_0x2eb98c(0x3bf)]:typeof _0x1e27d8==_0x2eb98c(0x4b9)?JSON[_0x2eb98c(0x115)](_0x1e27d8):_0x1e27d8,_0x2930ae=_0x1764ff+':\x20'+_0x3e0161;throw this[_0x2eb98c(0x671)][_0x2eb98c(0x6f8)](this[_0x2eb98c(0x7ab)]+'\x20('+this[_0x2eb98c(0x597)][_0x2eb98c(0x38f)]+_0x2eb98c(0x84)+_0x2930ae),new m(_0x2930ae);}}async[a0_0x1d7ec3(0x529)](){const _0x28ad50=a0_0x1d7ec3;try{this[_0x28ad50(0x671)][_0x28ad50(0x244)](this[_0x28ad50(0x7ab)]+'\x20('+this[_0x28ad50(0x597)][_0x28ad50(0x38f)]+_0x28ad50(0x3bb)),await this[_0x28ad50(0x379)]();let _0x4cbdef=await this[_0x28ad50(0x2d1)][_0x28ad50(0x251)]['findAll']({'where':{'globalShow':!0x0}});return[...this[_0x28ad50(0x7ac)][_0x28ad50(0x4ea)],..._0x4cbdef];}catch(_0x9b0dc9){return this[_0x28ad50(0x671)]['error'](this[_0x28ad50(0x7ab)]+'\x20('+this['instance'][_0x28ad50(0x38f)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x9b0dc9 instanceof Error?_0x9b0dc9[_0x28ad50(0x3bf)]:JSON['stringify'](_0x9b0dc9,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+(_0x9b0dc9 instanceof Error?_0x9b0dc9['message']:String(_0x9b0dc9))};}}async['editFlow'](_0x2e4bf2,_0x1ad1b5){const _0x3deba4=a0_0x1d7ec3;try{this[_0x3deba4(0x671)][_0x3deba4(0x244)](this[_0x3deba4(0x7ab)]+'\x20('+this[_0x3deba4(0x597)][_0x3deba4(0x38f)]+'):\x20Alterando\x20fluxo...');let _0x1fd6c8=this[_0x3deba4(0x7ac)][_0x3deba4(0x4ea)]['find'](_0x59c888=>_0x59c888['_id']===_0x2e4bf2['_id']);if(!_0x1fd6c8)throw this[_0x3deba4(0x671)][_0x3deba4(0x244)](this[_0x3deba4(0x7ab)]+'\x20('+this[_0x3deba4(0x597)][_0x3deba4(0x38f)]+'):\x20Fluxo\x20\x27'+_0x2e4bf2[_0x3deba4(0x6ee)]+_0x3deba4(0x1c6)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x2fa283=await this[_0x3deba4(0x2d1)][_0x3deba4(0x251)][_0x3deba4(0x6f0)]({'where':{'_id':_0x2e4bf2['_id']}});if(!_0x2fa283||!_0x2fa283[_0x3deba4(0x3cc)]?.[_0x3deba4(0x603)](this[_0x3deba4(0x597)][_0x3deba4(0x38f)]))throw this['logger']['error'](this[_0x3deba4(0x7ab)]+'\x20('+this[_0x3deba4(0x597)][_0x3deba4(0x38f)]+'):\x20Flow\x20\x27'+_0x2e4bf2[_0x3deba4(0x6ee)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x3deba4(0x21a)+_0x2e4bf2[_0x3deba4(0x6ee)]+_0x3deba4(0x29d));let _0x5e8d5b=this[_0x3deba4(0x7ac)][_0x3deba4(0x4ea)][_0x3deba4(0x163)](_0x361251=>_0x361251['_id']===_0x1fd6c8[_0x3deba4(0x6ee)]);if(_0x5e8d5b!==-0x1){let _0x43b87e=this[_0x3deba4(0x7ac)][_0x3deba4(0x4ea)][_0x5e8d5b];if(_0x43b87e[_0x3deba4(0x70c)]=_0x2e4bf2[_0x3deba4(0x70c)]??_0x43b87e[_0x3deba4(0x70c)],_0x43b87e[_0x3deba4(0x1af)]=_0x2e4bf2[_0x3deba4(0x1af)]??_0x43b87e['default'],_0x43b87e[_0x3deba4(0xd0)]=_0x2e4bf2[_0x3deba4(0xd0)]??_0x43b87e[_0x3deba4(0xd0)],_0x43b87e['startCommand']=_0x2e4bf2['startCommandWord']??_0x43b87e[_0x3deba4(0x166)],_0x43b87e[_0x3deba4(0x3f7)]=_0x2e4bf2[_0x3deba4(0x3f7)]??_0x43b87e[_0x3deba4(0x3f7)],_0x43b87e[_0x3deba4(0x467)]=_0x2e4bf2[_0x3deba4(0x467)]??_0x43b87e[_0x3deba4(0x467)],_0x2e4bf2[_0x3deba4(0x1af)]&&this['AutomateSystem'][_0x3deba4(0x4ea)][_0x3deba4(0xb2)]((_0x359da7,_0x1bbde3)=>{const _0x54d71a=_0x3deba4;_0x1bbde3!==_0x5e8d5b&&(_0x359da7[_0x54d71a(0x1af)]=!0x1);}),this[_0x3deba4(0x7ac)][_0x3deba4(0x4ea)][_0x5e8d5b]=_0x43b87e,!await this['repository']['automateSystem']['update']({'flows':this[_0x3deba4(0x7ac)][_0x3deba4(0x4ea)]},this[_0x3deba4(0x597)][_0x3deba4(0x38f)]))throw new m(_0x3deba4(0x1fa));}let _0x112935=[_0x3deba4(0x769),_0x3deba4(0x612),_0x3deba4(0x230),_0x3deba4(0xf4)];for(let _0x5cb6e8 of _0x112935)delete _0x2e4bf2[_0x5cb6e8];if(_0x2fa283[_0x3deba4(0x50a)]?.['includes'](this[_0x3deba4(0x597)]['wuid'])||(_0x2e4bf2={'_id':_0x2e4bf2[_0x3deba4(0x6ee)]}),_0x1ad1b5!==Ri&&_0x2e4bf2?.[_0x3deba4(0x77e)]&&!_0x2fa283?.[_0x3deba4(0x77e)])throw new m('Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.');let _0x16fe3e=new Set(_0x2e4bf2[_0x3deba4(0x50a)]??_0x2fa283[_0x3deba4(0x50a)]);_0x16fe3e[_0x3deba4(0x2ea)](_0x2fa283[_0x3deba4(0x31c)]);let _0xfd645e=new Set(_0x2e4bf2[_0x3deba4(0x3cc)]??_0x2fa283[_0x3deba4(0x3cc)]??[]);_0x16fe3e['forEach'](_0x26a4c3=>_0xfd645e[_0x3deba4(0x2ea)](_0x26a4c3)),_0xfd645e[_0x3deba4(0x2ea)](_0x2fa283['owner']),this['logger'][_0x3deba4(0x244)](this['instanceName']+'\x20('+this[_0x3deba4(0x597)][_0x3deba4(0x38f)]+_0x3deba4(0x53b)+Array[_0x3deba4(0x7d6)](_0x16fe3e)),this[_0x3deba4(0x671)][_0x3deba4(0x244)](this[_0x3deba4(0x7ab)]+'\x20('+this['instance'][_0x3deba4(0x38f)]+_0x3deba4(0x6b6)+Array[_0x3deba4(0x7d6)](_0xfd645e));let _0x1dea17=await this[_0x3deba4(0x13c)](Array[_0x3deba4(0x7d6)](_0xfd645e)),_0x3b183d=Array[_0x3deba4(0x7d6)](_0x16fe3e)['filter'](_0xcfc5ae=>_0x1dea17[_0x3deba4(0x603)](_0xcfc5ae)),_0x4c5c2a=Array[_0x3deba4(0x7d6)](_0xfd645e)[_0x3deba4(0x350)](_0x1533ab=>_0x1dea17[_0x3deba4(0x603)](_0x1533ab));this[_0x3deba4(0x671)][_0x3deba4(0x244)](this[_0x3deba4(0x7ab)]+'\x20('+this[_0x3deba4(0x597)]['wuid']+'):\x20whoCanEdit\x20after\x20validation:\x20'+_0x3b183d),this['logger']['verbose'](this[_0x3deba4(0x7ab)]+'\x20('+this[_0x3deba4(0x597)][_0x3deba4(0x38f)]+'):\x20whoCanUse\x20after\x20validation:\x20'+_0x4c5c2a);let _0x168d86={..._0x2fa283,..._0x2e4bf2,'whoCanEdit':_0x3b183d,'whoCanUse':_0x4c5c2a},_0x16c32c=await this[_0x3deba4(0x2d1)][_0x3deba4(0x251)][_0x3deba4(0x171)](_0x2fa283['_id'],_0x168d86);return await this[_0x3deba4(0x379)](),_0x16c32c;}catch(_0xab1b6c){let _0x4f5a82=_0x3deba4(0x7eb),_0x17c75b=_0xab1b6c instanceof Error?_0xab1b6c[_0x3deba4(0x3bf)]:typeof _0xab1b6c==_0x3deba4(0x4b9)?JSON[_0x3deba4(0x115)](_0xab1b6c):_0xab1b6c,_0x2547ea=_0x4f5a82+':\x20'+_0x17c75b;throw this[_0x3deba4(0x671)][_0x3deba4(0x6f8)](this[_0x3deba4(0x7ab)]+'\x20('+this[_0x3deba4(0x597)][_0x3deba4(0x38f)]+_0x3deba4(0x84)+_0x2547ea),new m(_0x2547ea);}}async[a0_0x1d7ec3(0x13c)](_0xa1076b){const _0x40de68=a0_0x1d7ec3;let _0x19a83f={'numbers':_0xa1076b};return(await this[_0x40de68(0x691)](_0x19a83f))[_0x40de68(0x350)](_0x72c6da=>_0x72c6da[_0x40de68(0x7e0)])[_0x40de68(0x5c2)](_0x255cba=>_0x255cba[_0x40de68(0x495)])[_0x40de68(0x5c2)](_0x2d69ef=>this[_0x40de68(0x257)](_0x2d69ef));}[a0_0x1d7ec3(0x257)](_0x2fc02d){const _0x51f79c=a0_0x1d7ec3;let _0xd540d3=_0x2fc02d[_0x51f79c(0x20e)](/\d+/);return _0xd540d3?_0xd540d3[0x0]:'';}async[a0_0x1d7ec3(0x601)](_0x31a085){const _0x1ad10a=a0_0x1d7ec3;try{if(this[_0x1ad10a(0x671)][_0x1ad10a(0x244)](this[_0x1ad10a(0x7ab)]+'\x20('+this['instance'][_0x1ad10a(0x38f)]+_0x1ad10a(0x2ee)),!this[_0x1ad10a(0x7ac)][_0x1ad10a(0x4ea)]['find'](_0x5b9115=>_0x5b9115[_0x1ad10a(0x6ee)]===_0x31a085['_id']))throw this['logger']['verbose'](this[_0x1ad10a(0x7ab)]+'\x20('+this[_0x1ad10a(0x597)][_0x1ad10a(0x38f)]+_0x1ad10a(0x4cb)+_0x31a085[_0x1ad10a(0x6ee)]+'\x27\x20não\x20encontrado'),new m(_0x1ad10a(0x5ef));let _0x25ece2=await this[_0x1ad10a(0x2d1)][_0x1ad10a(0x251)][_0x1ad10a(0x6f0)]({'where':{'_id':_0x31a085[_0x1ad10a(0x6ee)]}});if(!_0x25ece2||!_0x25ece2[_0x1ad10a(0x3cc)]?.[_0x1ad10a(0x603)](this[_0x1ad10a(0x597)][_0x1ad10a(0x38f)]))throw this[_0x1ad10a(0x671)][_0x1ad10a(0x6f8)](this[_0x1ad10a(0x7ab)]+'\x20('+this[_0x1ad10a(0x597)][_0x1ad10a(0x38f)]+_0x1ad10a(0x113)+_0x31a085[_0x1ad10a(0x6ee)]+_0x1ad10a(0x29d)),new m('Flow\x20\x27'+_0x31a085[_0x1ad10a(0x6ee)]+_0x1ad10a(0x29d));if(!_0x25ece2[_0x1ad10a(0x50a)]?.['includes'](this[_0x1ad10a(0x597)][_0x1ad10a(0x38f)]))throw new m(_0x1ad10a(0x18c));let {block:_0x36b3e5}=_0x31a085;_0x36b3e5?.[_0x1ad10a(0x20f)]?this[_0x1ad10a(0x646)](_0x25ece2,_0x31a085):_0x36b3e5?.[_0x1ad10a(0x174)]?this[_0x1ad10a(0x1a2)](_0x25ece2,_0x31a085):_0x36b3e5[_0x1ad10a(0x6ee)]?await this[_0x1ad10a(0x65f)](_0x25ece2,_0x31a085):this[_0x1ad10a(0x316)](_0x25ece2,_0x31a085);let _0x30d57d=await this[_0x1ad10a(0x2d1)][_0x1ad10a(0x251)][_0x1ad10a(0x171)](_0x25ece2[_0x1ad10a(0x6ee)],_0x25ece2);if(!_0x30d57d)throw new Error(_0x1ad10a(0x375));return _0x30d57d;}catch(_0x5eb807){this['throwAndLogError'](_0x1ad10a(0x424)+_0x5eb807['message']);}}async['copyBlock'](_0x5e6cb9,_0x5edd94){const _0x2ac90f=a0_0x1d7ec3;let _0x23f194=_0x5edd94['block'][_0x2ac90f(0x6ee)],_0x52b33e=_0x5e6cb9['blocks'][_0x2ac90f(0x44c)](_0x59927a=>_0x59927a[_0x2ac90f(0x6ee)][_0x2ac90f(0x125)]()===_0x23f194);if(!_0x52b33e){this[_0x2ac90f(0x671)][_0x2ac90f(0x6f8)](this[_0x2ac90f(0x7ab)]+'\x20('+this[_0x2ac90f(0x597)][_0x2ac90f(0x38f)]+_0x2ac90f(0x637)+_0x23f194+_0x2ac90f(0x68c));return;}this[_0x2ac90f(0x671)][_0x2ac90f(0x244)](this['instanceName']+'\x20('+this[_0x2ac90f(0x597)][_0x2ac90f(0x38f)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x2ac90f(0x115)](_0x52b33e));let _0x2c1239=JSON[_0x2ac90f(0x665)](JSON['stringify'](_0x52b33e));_0x2c1239[_0x2ac90f(0x6ee)]=new ge['default']['Types'][(_0x2ac90f(0x5cd))](),this[_0x2ac90f(0x671)][_0x2ac90f(0x244)](this[_0x2ac90f(0x7ab)]+'\x20('+this[_0x2ac90f(0x597)][_0x2ac90f(0x38f)]+_0x2ac90f(0x169)+JSON[_0x2ac90f(0x115)](_0x2c1239)),_0x5e6cb9[_0x2ac90f(0x17f)][_0x2ac90f(0x1fc)](_0x2c1239),this['reorderBlocks'](_0x5e6cb9[_0x2ac90f(0x17f)],_0x2c1239[_0x2ac90f(0x7b7)]);}['throwAndLogError'](_0x2b5a2c){const _0x41f104=a0_0x1d7ec3;throw this[_0x41f104(0x671)][_0x41f104(0x6f8)](this[_0x41f104(0x7ab)]+'\x20('+this[_0x41f104(0x597)]['wuid']+_0x41f104(0x84)+_0x2b5a2c),new m(_0x2b5a2c);}['deleteBlock'](_0x51b825,_0xd44bbc){const _0x3f7f3b=a0_0x1d7ec3;let {block:_0x56a548}=_0xd44bbc;if(_0x56a548['type']===_0x3f7f3b(0x4d8)){this[_0x3f7f3b(0x167)](_0x3f7f3b(0x437));return;}if(!_0x56a548[_0x3f7f3b(0x6ee)]){this[_0x3f7f3b(0x167)](_0x3f7f3b(0x733));return;}let _0x5217c4=_0x51b825['blocks'][_0x3f7f3b(0x44c)](_0x3acdc5=>_0x3acdc5['_id'][_0x3f7f3b(0x125)]()===_0xd44bbc[_0x3f7f3b(0x5ee)][_0x3f7f3b(0x6ee)][_0x3f7f3b(0x125)]());if(!_0x5217c4){this['throwAndLogError'](_0x3f7f3b(0x3fe)+_0x56a548[_0x3f7f3b(0x6ee)]+_0x3f7f3b(0x76b));return;}_0x51b825[_0x3f7f3b(0x17f)]=_0x51b825[_0x3f7f3b(0x17f)][_0x3f7f3b(0x350)](_0x6f8c2c=>_0x6f8c2c[_0x3f7f3b(0x6ee)][_0x3f7f3b(0x125)]()!==_0xd44bbc['block'][_0x3f7f3b(0x6ee)][_0x3f7f3b(0x125)]()),_0x51b825[_0x3f7f3b(0x6e4)]=_0x51b825[_0x3f7f3b(0x6e4)]['filter'](_0x52fb28=>_0x52fb28[_0x3f7f3b(0x370)]!==_0x56a548[_0x3f7f3b(0x6ee)][_0x3f7f3b(0x125)]()),_0x51b825['varedits']=_0x51b825[_0x3f7f3b(0x43f)][_0x3f7f3b(0x350)](_0x556f93=>_0x556f93['blockId']!==_0x56a548['_id']['toString']()),_0x51b825[_0x3f7f3b(0x6fd)]=_0x51b825[_0x3f7f3b(0x6fd)]['filter'](_0x4c4f3b=>_0x4c4f3b[_0x3f7f3b(0x370)]!==_0x56a548['_id'][_0x3f7f3b(0x125)]()),this['reorderBlocks'](_0x51b825[_0x3f7f3b(0x17f)],_0x5217c4[_0x3f7f3b(0x7b7)]);}async[a0_0x1d7ec3(0x65f)](_0x257e88,_0x91eef0){const _0x1920e3=a0_0x1d7ec3;let _0x1b265a=_0x257e88['blocks'][_0x1920e3(0x163)](_0x2026ba=>_0x2026ba['_id'][_0x1920e3(0x125)]()===_0x91eef0[_0x1920e3(0x5ee)][_0x1920e3(0x6ee)][_0x1920e3(0x125)]());if(this[_0x1920e3(0x671)][_0x1920e3(0x244)](this[_0x1920e3(0x7ab)]+'\x20('+this[_0x1920e3(0x597)]['wuid']+_0x1920e3(0x94)+_0x1b265a),_0x1b265a===-0x1){this[_0x1920e3(0x671)][_0x1920e3(0x244)](_0x1920e3(0x3fe)+_0x91eef0[_0x1920e3(0x5ee)]['_id']+_0x1920e3(0xce));return;}if(_0x257e88['blocks'][_0x1b265a][_0x1920e3(0x7c9)]==='start'){let _0x3f7ad8=Object[_0x1920e3(0x29b)](_0x91eef0[_0x1920e3(0x5ee)]);if(_0x3f7ad8[_0x1920e3(0x387)]>0x2||_0x3f7ad8['length']===0x2&&!_0x3f7ad8[_0x1920e3(0x603)](_0x1920e3(0x347))){this[_0x1920e3(0x167)](_0x1920e3(0x44b));return;}}let _0x335bb6=_0x257e88[_0x1920e3(0x17f)][_0x1b265a]['groupId'];for(let _0x28f775 in _0x91eef0[_0x1920e3(0x5ee)])_0x91eef0['block'][_0x1920e3(0x748)](_0x28f775)&&(_0x257e88[_0x1920e3(0x17f)][_0x1b265a][_0x28f775]=_0x91eef0[_0x1920e3(0x5ee)][_0x28f775]);if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1920e3(0x597)]['wuid']+_0x1920e3(0x516)+JSON[_0x1920e3(0x115)](_0x257e88[_0x1920e3(0x17f)][_0x1b265a])),_0x257e88[_0x1920e3(0x17f)][_0x1b265a][_0x1920e3(0x5ce)]&&_0x1920e3(0x2ba)in _0x257e88['blocks'][_0x1b265a][_0x1920e3(0x5ce)]){this[_0x1920e3(0x671)][_0x1920e3(0x244)](this['instanceName']+'\x20('+this[_0x1920e3(0x597)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x5871f2=JSON[_0x1920e3(0x115)](_0x257e88['blocks'][_0x1b265a][_0x1920e3(0x5ce)]['header'],null,0x1);_0x5871f2[_0x1920e3(0x387)]>0x2&&(_0x5871f2=_0x5871f2[_0x1920e3(0x48f)](0x1,_0x5871f2[_0x1920e3(0x387)]-0x1)[_0x1920e3(0x5e2)]()),_0x257e88[_0x1920e3(0x17f)][_0x1b265a][_0x1920e3(0x5ce)][_0x1920e3(0x6e2)]=_0x5871f2;}if(_0x257e88[_0x1920e3(0x17f)][_0x1b265a]['apirequest']&&_0x1920e3(0x3e2)in _0x257e88[_0x1920e3(0x17f)][_0x1b265a][_0x1920e3(0x5ce)]&&!(_0x1920e3(0x371)in _0x257e88[_0x1920e3(0x17f)][_0x1b265a][_0x1920e3(0x5ce)])){this['logger'][_0x1920e3(0x244)](this[_0x1920e3(0x7ab)]+'\x20('+this[_0x1920e3(0x597)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x257e88[_0x1920e3(0x17f)][_0x1b265a]['apirequest'][_0x1920e3(0x70a)]=!0x1;let _0xc077ca=JSON[_0x1920e3(0x115)](_0x257e88[_0x1920e3(0x17f)][_0x1b265a][_0x1920e3(0x5ce)]['body'],null,0x2);_0x257e88[_0x1920e3(0x17f)][_0x1b265a][_0x1920e3(0x5ce)][_0x1920e3(0x371)]=_0xc077ca;}if(_0x257e88['blocks'][_0x1b265a][_0x1920e3(0x5ce)]&&'bodyString'in _0x257e88[_0x1920e3(0x17f)][_0x1b265a][_0x1920e3(0x5ce)]){_0x257e88[_0x1920e3(0x17f)][_0x1b265a][_0x1920e3(0x5ce)][_0x1920e3(0x70a)]=!0x1;let _0x53ebae=_0x257e88[_0x1920e3(0x17f)][_0x1b265a][_0x1920e3(0x5ce)][_0x1920e3(0x371)],_0x90f89d=this['beautifyWithPlaceholders'](_0x53ebae);_0x257e88[_0x1920e3(0x17f)][_0x1b265a][_0x1920e3(0x5ce)][_0x1920e3(0x371)]=_0x90f89d[_0x1920e3(0x746)],_0x257e88[_0x1920e3(0x17f)][_0x1b265a]['apirequest'][_0x1920e3(0x70a)]=_0x90f89d[_0x1920e3(0x6f8)];}let _0x803983=_0x257e88[_0x1920e3(0x17f)][_0x1b265a][_0x1920e3(0x7b7)];_0x335bb6!==_0x803983?(this[_0x1920e3(0x7d1)](_0x257e88['blocks'],_0x335bb6),this[_0x1920e3(0x7d1)](_0x257e88[_0x1920e3(0x17f)],_0x803983)):this[_0x1920e3(0x7d1)](_0x257e88[_0x1920e3(0x17f)],_0x335bb6);}[a0_0x1d7ec3(0x674)](_0x3aa92b){const _0x5c4f16=a0_0x1d7ec3;let _0x4b9f65='\u205f',_0x102537=!0x1,_0x3a9e75='';for(let _0x3cc235=0x0;_0x3cc235<_0x3aa92b[_0x5c4f16(0x387)];_0x3cc235++){let _0x2d34b2=_0x3aa92b[_0x3cc235];_0x2d34b2==='\x22'&&(_0x3cc235===0x0||_0x3aa92b[_0x3cc235-0x1]!=='\x5c')&&(_0x102537=!_0x102537),!(!_0x102537&&(_0x2d34b2==='\x0a'||_0x2d34b2==='\x20'||_0x2d34b2===_0x4b9f65))&&(_0x3a9e75+=_0x2d34b2);}let _0x31a8d2={},_0x1c2445=9876543210.1234,_0x5293a1=_0x3a9e75[_0x5c4f16(0x404)](/\{\{([^}]+)\}\}/g,_0x14ce41=>{let _0x348dda=_0x14ce41,_0x1a76b3=''+_0x1c2445;return _0x31a8d2[_0x1a76b3]=_0x348dda,_0x1c2445+=0.0001,_0x1a76b3;}),_0x2f3a52='',_0x2e7b7a=!0x1;try{let _0x84299=JSON[_0x5c4f16(0x665)](_0x5293a1);_0x2f3a52=JSON[_0x5c4f16(0x115)](_0x84299,null,0x2),_0x2f3a52=_0x2f3a52[_0x5c4f16(0x404)](/\n( +)/g,(_0x59fd78,_0x418ebb)=>{const _0x139210=_0x5c4f16;let _0x4db141=_0x418ebb[_0x139210(0x387)];return'\x0a'+_0x4b9f65[_0x139210(0x228)](_0x4db141*0x2);}),_0x2f3a52=_0x2f3a52[_0x5c4f16(0x404)](/(\d{10,}\.\d+)/g,_0x288540=>_0x31a8d2[_0x288540]||_0x288540);}catch(_0x2df19f){this['logger'][_0x5c4f16(0x6f8)](_0x5c4f16(0x360)+_0x2df19f),_0x2f3a52=_0x3aa92b,_0x2e7b7a=!0x0;}return{'result':_0x2f3a52,'error':_0x2e7b7a};}[a0_0x1d7ec3(0x316)](_0x42b340,_0x36f713){const _0x4ee109=a0_0x1d7ec3;if(_0x36f713[_0x4ee109(0x5ee)][_0x4ee109(0x7c9)]==='start'){this[_0x4ee109(0x167)](_0x4ee109(0x2f1));return;}if(_0x36f713[_0x4ee109(0x5ee)]['apirequest']&&'header'in _0x36f713[_0x4ee109(0x5ee)][_0x4ee109(0x5ce)]){this[_0x4ee109(0x671)][_0x4ee109(0x244)](this[_0x4ee109(0x7ab)]+'\x20('+this['instance'][_0x4ee109(0x38f)]+_0x4ee109(0x5d8));let _0x54a30d=JSON['stringify'](_0x36f713[_0x4ee109(0x5ee)]['apirequest'][_0x4ee109(0x2ba)],null,0x1);_0x54a30d[_0x4ee109(0x387)]>0x2&&(_0x54a30d=_0x54a30d[_0x4ee109(0x48f)](0x1,_0x54a30d[_0x4ee109(0x387)]-0x1)[_0x4ee109(0x5e2)]()),_0x36f713['block'][_0x4ee109(0x5ce)][_0x4ee109(0x6e2)]=_0x54a30d;}_0x36f713[_0x4ee109(0x5ee)][_0x4ee109(0x5ce)]&&_0x4ee109(0x3e2)in _0x36f713['block'][_0x4ee109(0x5ce)]&&(this[_0x4ee109(0x671)][_0x4ee109(0x244)](this['instanceName']+'\x20('+this[_0x4ee109(0x597)]['wuid']+_0x4ee109(0x266)),_0x36f713['block'][_0x4ee109(0x5ce)]['bodyString']=JSON[_0x4ee109(0x115)](_0x36f713[_0x4ee109(0x5ee)]['apirequest']['body'],null,0x1)[_0x4ee109(0x5e2)]()),_0x42b340[_0x4ee109(0x17f)]['push'](_0x36f713[_0x4ee109(0x5ee)]),this[_0x4ee109(0x7d1)](_0x42b340[_0x4ee109(0x17f)],_0x36f713['block'][_0x4ee109(0x7b7)]);}[a0_0x1d7ec3(0x7d1)](_0x5d965e,_0x54c882){const _0x28505e=a0_0x1d7ec3;let _0x102a48=_0x5d965e[_0x28505e(0x350)](_0x462c66=>_0x462c66['groupId']===_0x54c882);_0x102a48[_0x28505e(0x3d4)]((_0xfb32db,_0x4e7024)=>_0xfb32db[_0x28505e(0x381)]-_0x4e7024[_0x28505e(0x381)]),_0x102a48[_0x28505e(0xb2)]((_0x5c6434,_0x499e2e)=>_0x5c6434[_0x28505e(0x381)]=_0x499e2e+0x1);}async['editFlowReply'](_0x459076){const _0x36b1e5=a0_0x1d7ec3;try{if(this[_0x36b1e5(0x671)]['verbose'](this[_0x36b1e5(0x7ab)]+'\x20('+this[_0x36b1e5(0x597)][_0x36b1e5(0x38f)]+_0x36b1e5(0x49a)),!_0x459076||!_0x459076[_0x36b1e5(0x2a8)]){this[_0x36b1e5(0x167)](_0x36b1e5(0x482));return;}if(!this['AutomateSystem']['flows'][_0x36b1e5(0x44c)](_0x313dbc=>_0x313dbc[_0x36b1e5(0x6ee)]===_0x459076['_id']))throw this[_0x36b1e5(0x671)][_0x36b1e5(0x244)](this['instanceName']+'\x20('+this[_0x36b1e5(0x597)]['wuid']+_0x36b1e5(0x4cb)+_0x459076[_0x36b1e5(0x6ee)]+'\x27\x20não\x20encontrado'),new m(_0x36b1e5(0x5ef));let _0x3e25fe=await this['repository']['flow'][_0x36b1e5(0x6f0)]({'where':{'_id':_0x459076[_0x36b1e5(0x6ee)]}});if(!_0x3e25fe||!_0x3e25fe[_0x36b1e5(0x3cc)]?.['includes'](this[_0x36b1e5(0x597)]['wuid']))throw this[_0x36b1e5(0x671)][_0x36b1e5(0x6f8)](this[_0x36b1e5(0x7ab)]+'\x20('+this['instance'][_0x36b1e5(0x38f)]+'):\x20Flow\x20\x27'+_0x459076['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x36b1e5(0x21a)+_0x459076[_0x36b1e5(0x6ee)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x3e25fe[_0x36b1e5(0x50a)]?.[_0x36b1e5(0x603)](this[_0x36b1e5(0x597)][_0x36b1e5(0x38f)]))throw new m(_0x36b1e5(0x18c));let {replyOption:_0x18e519}=_0x459076;_0x18e519?.[_0x36b1e5(0x174)]?(this[_0x36b1e5(0x152)](_0x3e25fe,_0x459076),this[_0x36b1e5(0xb1)](_0x3e25fe[_0x36b1e5(0x6fd)],_0x459076[_0x36b1e5(0x2a8)][_0x36b1e5(0x370)])):_0x18e519['_id']?(await this[_0x36b1e5(0x6de)](_0x3e25fe,_0x459076),this['reorderReplyOptions'](_0x3e25fe[_0x36b1e5(0x6fd)],_0x459076[_0x36b1e5(0x2a8)][_0x36b1e5(0x370)])):(this[_0x36b1e5(0x568)](_0x3e25fe,_0x459076),this['reorderReplyOptions'](_0x3e25fe[_0x36b1e5(0x6fd)],_0x459076[_0x36b1e5(0x2a8)][_0x36b1e5(0x370)]));let _0x442fce=await this[_0x36b1e5(0x2d1)][_0x36b1e5(0x251)][_0x36b1e5(0x171)](_0x3e25fe['_id'],_0x3e25fe);if(!_0x442fce)throw new Error(_0x36b1e5(0x375));return _0x442fce;}catch(_0x485258){this['throwAndLogError'](_0x36b1e5(0x6e1)+_0x485258);}}['reorderReplyOptions'](_0x28dd3c,_0x4ab169){const _0x303c18=a0_0x1d7ec3;_0x28dd3c[_0x303c18(0xb2)](_0x2d16c2=>{const _0x50b5e5=_0x303c18;_0x2d16c2[_0x50b5e5(0x370)]===_0x4ab169&&_0x2d16c2[_0x50b5e5(0x381)]===void 0x0&&(_0x2d16c2['order']=0x270f);});let _0x1834eb=_0x28dd3c['filter'](_0x398272=>_0x398272['blockId']===_0x4ab169);_0x1834eb[_0x303c18(0x3d4)]((_0x16cd90,_0x126862)=>_0x16cd90[_0x303c18(0x381)]-_0x126862[_0x303c18(0x381)]),_0x1834eb[_0x303c18(0xb2)]((_0x297155,_0x2d630a)=>{const _0x1b3e9d=_0x303c18;_0x297155[_0x1b3e9d(0x381)]=_0x2d630a+0x1;}),_0x28dd3c['forEach'](_0x212f01=>{const _0x5c33a1=_0x303c18;if(_0x212f01['blockId']===_0x4ab169){let _0x5b4552=_0x1834eb[_0x5c33a1(0x44c)](_0x35b4e9=>_0x35b4e9['_id']&&_0x212f01[_0x5c33a1(0x6ee)]&&_0x35b4e9[_0x5c33a1(0x6ee)][_0x5c33a1(0x125)]()===_0x212f01['_id'][_0x5c33a1(0x125)]());_0x5b4552&&(_0x212f01[_0x5c33a1(0x381)]=_0x5b4552[_0x5c33a1(0x381)]);}});}[a0_0x1d7ec3(0x152)](_0x3c4198,_0x270c89){const _0x16b130=a0_0x1d7ec3;let {replyOption:_0x270e52}=_0x270c89;if(!_0x270e52[_0x16b130(0x6ee)]){this['throwAndLogError']('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x3c4198[_0x16b130(0x6fd)][_0x16b130(0x44c)](_0x184fd7=>_0x184fd7[_0x16b130(0x6ee)]['toString']()===_0x270c89[_0x16b130(0x2a8)][_0x16b130(0x6ee)][_0x16b130(0x125)]())){this['throwAndLogError']('ReplyOption\x20com\x20ID\x20'+_0x270e52[_0x16b130(0x6ee)]+'\x20não\x20encontrado');return;}_0x3c4198[_0x16b130(0x6fd)]=_0x3c4198[_0x16b130(0x6fd)][_0x16b130(0x350)](_0x5d4134=>_0x5d4134['_id'][_0x16b130(0x125)]()!==_0x270c89[_0x16b130(0x2a8)][_0x16b130(0x6ee)][_0x16b130(0x125)]());}async[a0_0x1d7ec3(0x6de)](_0x21f8d7,_0x38048d){const _0x507b43=a0_0x1d7ec3;let _0x4fc4c4=_0x21f8d7[_0x507b43(0x6fd)]['findIndex'](_0x2ab5da=>_0x2ab5da[_0x507b43(0x6ee)]['toString']()===_0x38048d[_0x507b43(0x2a8)]['_id'][_0x507b43(0x125)]());if(_0x4fc4c4===-0x1){this[_0x507b43(0x167)]('ReplyOption\x20com\x20ID\x20'+_0x38048d[_0x507b43(0x2a8)][_0x507b43(0x6ee)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x2b12ac in _0x38048d['replyOption'])_0x38048d['replyOption'][_0x507b43(0x748)](_0x2b12ac)&&(_0x21f8d7[_0x507b43(0x6fd)][_0x4fc4c4][_0x2b12ac]=_0x38048d[_0x507b43(0x2a8)][_0x2b12ac]);}[a0_0x1d7ec3(0x568)](_0x2ec909,_0x1f973d){const _0x458a5c=a0_0x1d7ec3;_0x2ec909[_0x458a5c(0x6fd)][_0x458a5c(0x1fc)](_0x1f973d['replyOption']);}async['editFlowGroup'](_0x1d3f5d){const _0x4fe2a4=a0_0x1d7ec3;this[_0x4fe2a4(0x671)][_0x4fe2a4(0x244)](this[_0x4fe2a4(0x7ab)]+'\x20('+this['instance'][_0x4fe2a4(0x38f)]+_0x4fe2a4(0x53a)+JSON['stringify'](_0x1d3f5d,null,0x2));try{if(this[_0x4fe2a4(0x671)][_0x4fe2a4(0x244)](this[_0x4fe2a4(0x7ab)]+'\x20('+this['instance'][_0x4fe2a4(0x38f)]+_0x4fe2a4(0xf0)),!this[_0x4fe2a4(0x7ac)][_0x4fe2a4(0x4ea)]['find'](_0x547a6c=>_0x547a6c[_0x4fe2a4(0x6ee)]===_0x1d3f5d['_id']))throw this[_0x4fe2a4(0x671)]['verbose'](this[_0x4fe2a4(0x7ab)]+'\x20('+this[_0x4fe2a4(0x597)][_0x4fe2a4(0x38f)]+_0x4fe2a4(0x4cb)+_0x1d3f5d[_0x4fe2a4(0x6ee)]+_0x4fe2a4(0x1c6)),new m(_0x4fe2a4(0x5ef));let _0x3fce37=await this['repository'][_0x4fe2a4(0x251)][_0x4fe2a4(0x6f0)]({'where':{'_id':_0x1d3f5d['_id']}});if(!_0x3fce37||!_0x3fce37[_0x4fe2a4(0x3cc)]?.[_0x4fe2a4(0x603)](this[_0x4fe2a4(0x597)][_0x4fe2a4(0x38f)]))throw this[_0x4fe2a4(0x671)]['error'](this[_0x4fe2a4(0x7ab)]+'\x20('+this[_0x4fe2a4(0x597)]['wuid']+'):\x20Flow\x20\x27'+_0x1d3f5d[_0x4fe2a4(0x6ee)]+_0x4fe2a4(0x29d)),new m('Flow\x20\x27'+_0x1d3f5d[_0x4fe2a4(0x6ee)]+_0x4fe2a4(0x29d));if(!_0x3fce37[_0x4fe2a4(0x50a)]?.[_0x4fe2a4(0x603)](this[_0x4fe2a4(0x597)][_0x4fe2a4(0x38f)]))throw new m(_0x4fe2a4(0x18c));if(_0x1d3f5d[_0x4fe2a4(0x62d)]&&_0x1d3f5d[_0x4fe2a4(0x62d)]?.[_0x4fe2a4(0x174)]===!0x0){if(this['logger'][_0x4fe2a4(0x244)](this[_0x4fe2a4(0x7ab)]+'\x20('+this[_0x4fe2a4(0x597)][_0x4fe2a4(0x38f)]+_0x4fe2a4(0x1f4)),_0x1d3f5d[_0x4fe2a4(0x62d)][_0x4fe2a4(0x1af)]===!0x0)return{'message':_0x4fe2a4(0x7b5)};if(_0x3fce37[_0x4fe2a4(0x17f)][_0x4fe2a4(0x7c8)](_0x3baa3e=>_0x3baa3e[_0x4fe2a4(0x7b7)][_0x4fe2a4(0x125)]()===_0x1d3f5d['group'][_0x4fe2a4(0x6ee)]))return this[_0x4fe2a4(0x671)]['verbose'](this['instanceName']+'\x20('+this[_0x4fe2a4(0x597)][_0x4fe2a4(0x38f)]+'):\x20tem\x20blocks'),{'message':_0x4fe2a4(0x45a)};_0x3fce37[_0x4fe2a4(0x707)]=_0x3fce37['groups']['filter'](_0x746e97=>_0x746e97['_id'][_0x4fe2a4(0x125)]()!==_0x1d3f5d[_0x4fe2a4(0x62d)]['_id']);}else{if(_0x1d3f5d[_0x4fe2a4(0x62d)]){if(_0x1d3f5d[_0x4fe2a4(0x62d)][_0x4fe2a4(0x1af)]===!0x0)return{'message':_0x4fe2a4(0x73d)};if(_0x1d3f5d[_0x4fe2a4(0x62d)][_0x4fe2a4(0x6ee)]){let _0x4007f5=_0x3fce37[_0x4fe2a4(0x707)][_0x4fe2a4(0x44c)](_0x25b0a9=>_0x25b0a9[_0x4fe2a4(0x6ee)]['toString']()===_0x1d3f5d[_0x4fe2a4(0x62d)][_0x4fe2a4(0x6ee)]);_0x4007f5&&(_0x1d3f5d['group']['x']<0x0&&(_0x1d3f5d['group']['x']=0x0),_0x1d3f5d[_0x4fe2a4(0x62d)]['y']<0x0&&(_0x1d3f5d['group']['y']=0x0),Object[_0x4fe2a4(0x790)](_0x4007f5,_0x1d3f5d[_0x4fe2a4(0x62d)]));}else _0x3fce37['groups'][_0x4fe2a4(0x1fc)](_0x1d3f5d['group']);}}let _0x39beb0=await this[_0x4fe2a4(0x2d1)][_0x4fe2a4(0x251)][_0x4fe2a4(0x171)](_0x3fce37[_0x4fe2a4(0x6ee)],_0x3fce37);if(!_0x39beb0)throw new Error(_0x4fe2a4(0x375));return _0x39beb0;}catch(_0x3f0418){let _0x4ad588='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x122123=_0x3f0418 instanceof Error?_0x3f0418[_0x4fe2a4(0x3bf)]:typeof _0x3f0418==_0x4fe2a4(0x4b9)?JSON[_0x4fe2a4(0x115)](_0x3f0418):_0x3f0418,_0x3f64c9=_0x4ad588+':\x20'+_0x122123;throw this[_0x4fe2a4(0x671)][_0x4fe2a4(0x6f8)](this[_0x4fe2a4(0x7ab)]+'\x20('+this[_0x4fe2a4(0x597)][_0x4fe2a4(0x38f)]+_0x4fe2a4(0x84)+_0x3f64c9),new m(_0x3f64c9);}}async[a0_0x1d7ec3(0x16c)](_0x44936d){const _0x7e444=a0_0x1d7ec3;try{if(this[_0x7e444(0x671)]['verbose'](this['instanceName']+'\x20('+this[_0x7e444(0x597)][_0x7e444(0x38f)]+_0x7e444(0x628)),!this['AutomateSystem']['flows'][_0x7e444(0x44c)](_0x2763ef=>_0x2763ef[_0x7e444(0x6ee)]===_0x44936d[_0x7e444(0x6ee)]))throw this[_0x7e444(0x671)][_0x7e444(0x244)](this[_0x7e444(0x7ab)]+'\x20('+this[_0x7e444(0x597)][_0x7e444(0x38f)]+_0x7e444(0x4cb)+_0x44936d[_0x7e444(0x6ee)]+_0x7e444(0x1c6)),new m(_0x7e444(0x5ef));let _0xe08bdd=await this[_0x7e444(0x2d1)][_0x7e444(0x251)]['findOne']({'where':{'_id':_0x44936d[_0x7e444(0x6ee)]}});if(!_0xe08bdd||!_0xe08bdd[_0x7e444(0x3cc)]?.['includes'](this['instance'][_0x7e444(0x38f)]))throw this[_0x7e444(0x671)][_0x7e444(0x6f8)](this[_0x7e444(0x7ab)]+'\x20('+this[_0x7e444(0x597)]['wuid']+_0x7e444(0x113)+_0x44936d[_0x7e444(0x6ee)]+_0x7e444(0x29d)),new m('Flow\x20\x27'+_0x44936d[_0x7e444(0x6ee)]+_0x7e444(0x29d));if(!_0xe08bdd['whoCanEdit']?.[_0x7e444(0x603)](this['instance'][_0x7e444(0x38f)]))throw new m(_0x7e444(0x18c));let _0x398f8e=!0x1;if(_0x44936d[_0x7e444(0x13f)]?.[_0x7e444(0x174)]===!0x0)_0xe08bdd[_0x7e444(0x6e4)]=_0xe08bdd[_0x7e444(0x6e4)]['filter'](_0x16dbe1=>_0x16dbe1&&_0x44936d['condition']&&_0x16dbe1[_0x7e444(0x6ee)]&&_0x44936d['condition']['_id']&&_0x16dbe1[_0x7e444(0x6ee)][_0x7e444(0x125)]()!==_0x44936d[_0x7e444(0x13f)][_0x7e444(0x6ee)][_0x7e444(0x125)]()),_0x398f8e=!0x0;else{let _0xdcb278=_0xe08bdd['conditions']['find'](_0x45cbcc=>_0x45cbcc&&_0x44936d['condition']&&_0x45cbcc['_id']&&_0x44936d[_0x7e444(0x13f)]['_id']&&_0x45cbcc[_0x7e444(0x6ee)]['toString']()===_0x44936d[_0x7e444(0x13f)][_0x7e444(0x6ee)][_0x7e444(0x125)]());_0xdcb278?(_0x398f8e=_0xdcb278[_0x7e444(0x381)]!==_0x44936d['condition']['order'],Object[_0x7e444(0x790)](_0xdcb278,_0x44936d['condition'])):(_0xe08bdd['conditions'][_0x7e444(0x1fc)](_0x44936d[_0x7e444(0x13f)]),_0x398f8e=!0x0);}if(_0x398f8e){_0xe08bdd['conditions'][_0x7e444(0x3d4)]((_0x3e0ec1,_0xddaffd)=>_0x3e0ec1[_0x7e444(0x381)]>_0xddaffd[_0x7e444(0x381)]?0x1:_0xddaffd[_0x7e444(0x381)]>_0x3e0ec1[_0x7e444(0x381)]?-0x1:0x0);for(let _0x151964=0x0;_0x151964<_0xe08bdd['conditions'][_0x7e444(0x387)];_0x151964++)_0xe08bdd['conditions'][_0x151964][_0x7e444(0x381)]=_0x151964+0x1;_0xe08bdd[_0x7e444(0x6e4)][_0x7e444(0x387)]>0x0&&(_0xe08bdd[_0x7e444(0x6e4)][0x0]['OrAnd']='and');}let _0x1881f4=await this[_0x7e444(0x2d1)][_0x7e444(0x251)][_0x7e444(0x171)](_0xe08bdd[_0x7e444(0x6ee)],_0xe08bdd);if(!_0x1881f4)throw new Error(_0x7e444(0x375));return _0x1881f4;}catch(_0x1eae10){let _0x146272=_0x7e444(0x654),_0x27e59a=_0x1eae10 instanceof Error?_0x1eae10[_0x7e444(0x3bf)]:typeof _0x1eae10==_0x7e444(0x4b9)?JSON[_0x7e444(0x115)](_0x1eae10):_0x1eae10,_0x2877c5=_0x146272+':\x20'+_0x27e59a;throw this[_0x7e444(0x671)][_0x7e444(0x6f8)](this[_0x7e444(0x7ab)]+'\x20('+this[_0x7e444(0x597)]['wuid']+_0x7e444(0x84)+_0x2877c5),new m(_0x2877c5);}}async[a0_0x1d7ec3(0x3a3)](_0x131c1f){const _0x16a4f6=a0_0x1d7ec3;try{if(this[_0x16a4f6(0x671)]['verbose'](this[_0x16a4f6(0x7ab)]+'\x20('+this[_0x16a4f6(0x597)][_0x16a4f6(0x38f)]+_0x16a4f6(0x453)),!this[_0x16a4f6(0x7ac)]['flows']['find'](_0x444540=>_0x444540[_0x16a4f6(0x6ee)]===_0x131c1f[_0x16a4f6(0x6ee)]))throw this[_0x16a4f6(0x671)]['verbose'](this[_0x16a4f6(0x7ab)]+'\x20('+this[_0x16a4f6(0x597)]['wuid']+_0x16a4f6(0x4cb)+_0x131c1f[_0x16a4f6(0x6ee)]+_0x16a4f6(0x1c6)),new m(_0x16a4f6(0x5ef));let _0x4a1fd9=await this['repository'][_0x16a4f6(0x251)]['findOne']({'where':{'_id':_0x131c1f[_0x16a4f6(0x6ee)]}});if(!_0x4a1fd9||!_0x4a1fd9[_0x16a4f6(0x3cc)]?.['includes'](this[_0x16a4f6(0x597)]['wuid']))throw this['logger'][_0x16a4f6(0x6f8)](this[_0x16a4f6(0x7ab)]+'\x20('+this[_0x16a4f6(0x597)][_0x16a4f6(0x38f)]+_0x16a4f6(0x113)+_0x131c1f[_0x16a4f6(0x6ee)]+_0x16a4f6(0x29d)),new m(_0x16a4f6(0x21a)+_0x131c1f[_0x16a4f6(0x6ee)]+_0x16a4f6(0x29d));if(!_0x4a1fd9['whoCanEdit']?.[_0x16a4f6(0x603)](this[_0x16a4f6(0x597)]['wuid']))throw new m(_0x16a4f6(0x18c));let _0x1c9478=!0x1;if(_0x131c1f[_0x16a4f6(0x4a1)]?.['delete']===!0x0)_0x4a1fd9[_0x16a4f6(0x43f)]=_0x4a1fd9['varedits']['filter'](_0x55e3fc=>_0x55e3fc&&_0x131c1f[_0x16a4f6(0x4a1)]&&_0x55e3fc[_0x16a4f6(0x6ee)]&&_0x131c1f[_0x16a4f6(0x4a1)][_0x16a4f6(0x6ee)]&&_0x55e3fc[_0x16a4f6(0x6ee)]['toString']()!==_0x131c1f[_0x16a4f6(0x4a1)][_0x16a4f6(0x6ee)][_0x16a4f6(0x125)]()),_0x1c9478=!0x0;else{let _0x40b2e3=_0x4a1fd9[_0x16a4f6(0x43f)][_0x16a4f6(0x44c)](_0x48415a=>_0x48415a&&_0x131c1f[_0x16a4f6(0x4a1)]&&_0x48415a[_0x16a4f6(0x6ee)]&&_0x131c1f[_0x16a4f6(0x4a1)][_0x16a4f6(0x6ee)]&&_0x48415a[_0x16a4f6(0x6ee)][_0x16a4f6(0x125)]()===_0x131c1f['varedit'][_0x16a4f6(0x6ee)]['toString']());_0x40b2e3?(_0x1c9478=_0x40b2e3[_0x16a4f6(0x381)]!==_0x131c1f[_0x16a4f6(0x4a1)][_0x16a4f6(0x381)],Object['assign'](_0x40b2e3,_0x131c1f[_0x16a4f6(0x4a1)])):(_0x4a1fd9[_0x16a4f6(0x43f)][_0x16a4f6(0x1fc)](_0x131c1f[_0x16a4f6(0x4a1)]),_0x1c9478=!0x0);}if(_0x1c9478){_0x4a1fd9[_0x16a4f6(0x43f)][_0x16a4f6(0x3d4)]((_0x1b075b,_0x6fe5de)=>_0x1b075b[_0x16a4f6(0x381)]>_0x6fe5de['order']?0x1:_0x6fe5de['order']>_0x1b075b[_0x16a4f6(0x381)]?-0x1:0x0);for(let _0x58b753=0x0;_0x58b753<_0x4a1fd9[_0x16a4f6(0x43f)][_0x16a4f6(0x387)];_0x58b753++)_0x4a1fd9['varedits'][_0x58b753]['order']=_0x58b753+0x1;}let _0x3ac2f2=await this[_0x16a4f6(0x2d1)][_0x16a4f6(0x251)][_0x16a4f6(0x171)](_0x4a1fd9[_0x16a4f6(0x6ee)],_0x4a1fd9);if(!_0x3ac2f2)throw new Error(_0x16a4f6(0x375));return _0x3ac2f2;}catch(_0x31f698){let _0x5e5211=_0x16a4f6(0x654),_0x3ffae0=_0x31f698 instanceof Error?_0x31f698[_0x16a4f6(0x3bf)]:typeof _0x31f698=='object'?JSON[_0x16a4f6(0x115)](_0x31f698):_0x31f698,_0x5eb969=_0x5e5211+':\x20'+_0x3ffae0;throw this['logger'][_0x16a4f6(0x6f8)](this[_0x16a4f6(0x7ab)]+'\x20('+this[_0x16a4f6(0x597)][_0x16a4f6(0x38f)]+'):\x20'+_0x5eb969),new m(_0x5eb969);}}async[a0_0x1d7ec3(0x52f)](_0x3ed7a4){const _0x5cb055=a0_0x1d7ec3;try{if(this['logger'][_0x5cb055(0x244)](this[_0x5cb055(0x7ab)]+'\x20('+this['instance']['wuid']+_0x5cb055(0x4b5)),!this['AutomateSystem'][_0x5cb055(0x4ea)][_0x5cb055(0x44c)](_0xcd947b=>_0xcd947b['_id']===_0x3ed7a4[_0x5cb055(0x6ee)]))throw this[_0x5cb055(0x671)]['verbose'](this[_0x5cb055(0x7ab)]+'\x20('+this[_0x5cb055(0x597)]['wuid']+_0x5cb055(0x4cb)+_0x3ed7a4[_0x5cb055(0x6ee)]+_0x5cb055(0x1c6)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x5bbada=await this[_0x5cb055(0x2d1)]['flow'][_0x5cb055(0x6f0)]({'where':{'_id':_0x3ed7a4['_id']}});if(!_0x5bbada||!_0x5bbada['whoCanUse']?.[_0x5cb055(0x603)](this['instance'][_0x5cb055(0x38f)]))throw this[_0x5cb055(0x671)]['error'](this[_0x5cb055(0x7ab)]+'\x20('+this[_0x5cb055(0x597)]['wuid']+_0x5cb055(0x113)+_0x3ed7a4[_0x5cb055(0x6ee)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x5cb055(0x21a)+_0x3ed7a4[_0x5cb055(0x6ee)]+_0x5cb055(0x29d));if(!_0x5bbada[_0x5cb055(0x50a)]?.[_0x5cb055(0x603)](this[_0x5cb055(0x597)][_0x5cb055(0x38f)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');_0x3ed7a4['variable']['name']=_0x3ed7a4[_0x5cb055(0x66b)][_0x5cb055(0x70c)][_0x5cb055(0x5e2)](),_0x3ed7a4[_0x5cb055(0x66b)][_0x5cb055(0x70c)]['startsWith']('_')&&(_0x3ed7a4['variable'][_0x5cb055(0x70c)]=_0x3ed7a4[_0x5cb055(0x66b)][_0x5cb055(0x70c)]['substring'](0x1)),_0x3ed7a4[_0x5cb055(0x66b)]['name']=_0x3ed7a4['variable'][_0x5cb055(0x70c)]['trim']();let _0xed1484=_0x5bbada[_0x5cb055(0x695)]['find'](_0x5d7fbd=>_0x5d7fbd['name']===_0x3ed7a4[_0x5cb055(0x66b)][_0x5cb055(0x70c)]);if(_0xed1484?.[_0x5cb055(0x1b4)]===!0x0)throw new Error(_0x5cb055(0xdb));if(_0x3ed7a4['variable']?.[_0x5cb055(0x174)]===!0x0){if(!_0xed1484)return{'message':'Variável\x20não\x20encontrada!'};_0x5bbada[_0x5cb055(0x695)]=_0x5bbada['variables']['filter'](_0x2940e0=>_0x2940e0[_0x5cb055(0x70c)]!==_0x3ed7a4[_0x5cb055(0x66b)]['name']);}else _0xed1484?Object[_0x5cb055(0x790)](_0xed1484,_0x3ed7a4['variable']):_0x5bbada['variables'][_0x5cb055(0x1fc)](_0x3ed7a4['variable']);let _0x246b96=await this[_0x5cb055(0x2d1)][_0x5cb055(0x251)][_0x5cb055(0x171)](_0x5bbada[_0x5cb055(0x6ee)],_0x5bbada);if(!_0x246b96)throw new Error(_0x5cb055(0x375));return _0x246b96;}catch(_0x5794e3){let _0x5868dd='Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',_0x39629d=_0x5794e3 instanceof Error?_0x5794e3[_0x5cb055(0x3bf)]:typeof _0x5794e3==_0x5cb055(0x4b9)?JSON[_0x5cb055(0x115)](_0x5794e3):_0x5794e3,_0x4df223=_0x5868dd+':\x20'+_0x39629d;throw this[_0x5cb055(0x671)]['error'](this[_0x5cb055(0x7ab)]+'\x20('+this[_0x5cb055(0x597)][_0x5cb055(0x38f)]+'):\x20'+_0x4df223),new m(_0x4df223);}}async[a0_0x1d7ec3(0x582)](_0x375951){const _0xd7596c=a0_0x1d7ec3;let _0x51a58c=null;try{if(!this['AutomateSystem']?.[_0xd7596c(0x6eb)]['enabled'])throw new m(_0xd7596c(0x6f6));this['logger'][_0xd7596c(0x244)](this['instanceName']+'\x20('+this[_0xd7596c(0x597)][_0xd7596c(0x38f)]+_0xd7596c(0xac));let _0x47ad95=(await this[_0xd7596c(0x691)]({'numbers':[_0x375951[_0xd7596c(0x9d)]]}))[0x0];if(!_0x47ad95[_0xd7596c(0x7e0)]&&!(0x0,w['isJidGroup'])(_0x47ad95[_0xd7596c(0x495)])&&!_0x47ad95['jid']['includes'](_0xd7596c(0x59a)))throw _0x51a58c=JSON[_0xd7596c(0x115)](_0x47ad95,null,0x2),new m(_0x47ad95);let _0x1e63f7;if(_0x375951[_0xd7596c(0x70c)]['length']===0x24&&/^[0-9a-fA-F-]{36}$/[_0xd7596c(0x91)](_0x375951[_0xd7596c(0x70c)])?_0x1e63f7=this[_0xd7596c(0x7ac)][_0xd7596c(0x4ea)]['find'](_0x5889b4=>_0x5889b4[_0xd7596c(0x6ee)]===_0x375951[_0xd7596c(0x70c)]):_0x1e63f7=this[_0xd7596c(0x7ac)][_0xd7596c(0x4ea)][_0xd7596c(0x44c)](_0x43c8d5=>_0x43c8d5[_0xd7596c(0x70c)]===_0x375951[_0xd7596c(0x70c)]),!_0x1e63f7)throw this[_0xd7596c(0x671)][_0xd7596c(0x244)](this[_0xd7596c(0x7ab)]+'\x20('+this[_0xd7596c(0x597)]['wuid']+'):\x20Fluxo\x20\x27'+_0x375951['name']+_0xd7596c(0x1c6)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x4ab6c0=await this['repository'][_0xd7596c(0x251)]['findOne']({'where':{'_id':_0x1e63f7[_0xd7596c(0x6ee)]}});if(!_0x4ab6c0||!_0x4ab6c0['whoCanUse']?.['includes'](this[_0xd7596c(0x597)][_0xd7596c(0x38f)]))throw this['logger'][_0xd7596c(0x6f8)](this[_0xd7596c(0x7ab)]+'\x20('+this[_0xd7596c(0x597)][_0xd7596c(0x38f)]+_0xd7596c(0x113)+_0x1e63f7[_0xd7596c(0x6ee)]+_0xd7596c(0x29d)),_0x51a58c='Flow\x20\x27'+_0x1e63f7[_0xd7596c(0x6ee)]+_0xd7596c(0x29d),new m(_0x51a58c);let _0x3695b3=await this[_0xd7596c(0x421)](_0x4ab6c0,_0x47ad95[_0xd7596c(0x495)],_0x375951['changeVariables']);if(_0x3695b3){this['logger'][_0xd7596c(0x244)](this[_0xd7596c(0x7ab)]+'\x20('+this[_0xd7596c(0x597)]['wuid']+_0xd7596c(0x2e3));let _0x3a5be7=await this[_0xd7596c(0x1d3)](_0x3695b3);return _0x3a5be7&&await this[_0xd7596c(0x44f)](_0x3695b3,_0x3a5be7),{'message':'Flow\x20iniciado\x20com\x20'+_0x375951[_0xd7596c(0x9d)]};}}catch(_0x2af2df){if(this[_0xd7596c(0x671)][_0xd7596c(0x6f8)](this[_0xd7596c(0x7ab)]+'\x20('+this[_0xd7596c(0x597)][_0xd7596c(0x38f)]+_0xd7596c(0x715)+(_0x2af2df instanceof Error?_0x2af2df['message']:JSON[_0xd7596c(0x115)](_0x2af2df,null,0x2))),_0x51a58c=_0x2af2df instanceof Error?_0x2af2df['message']:JSON[_0xd7596c(0x115)](_0x2af2df,null,0x2),_0x51a58c)throw new m(_0xd7596c(0x41a)+_0x51a58c);}}async[a0_0x1d7ec3(0x28b)](_0x4ba27b,_0x3a5dda,_0x1a8497){const _0x1d2797=a0_0x1d7ec3;let _0x4b5233=null;try{if(!this[_0x1d2797(0x7ac)]?.[_0x1d2797(0x6eb)][_0x1d2797(0x5e4)])throw new m(_0x1d2797(0x6f6));if(this['logger'][_0x1d2797(0x244)](this[_0x1d2797(0x7ab)]+'\x20('+this[_0x1d2797(0x597)][_0x1d2797(0x38f)]+'):\x20Iniciando\x20bot...'),_0x3a5dda){let _0x4ca6b6=(await this[_0x1d2797(0x691)]({'numbers':[_0x3a5dda]}))[0x0];if(!_0x4ca6b6[_0x1d2797(0x7e0)]&&!(0x0,w[_0x1d2797(0x219)])(_0x4ca6b6[_0x1d2797(0x495)])&&!_0x4ca6b6[_0x1d2797(0x495)]['includes'](_0x1d2797(0x59a)))throw _0x4b5233=JSON['stringify'](_0x4ca6b6,null,0x2),new m(_0x4ca6b6);_0x3a5dda=_0x4ca6b6[_0x1d2797(0x495)];}else _0x3a5dda||(_0x3a5dda=(0x0,Y['v4'])());let _0x38d37b=await this['repository']['flow'][_0x1d2797(0x6f0)]({'where':{'_id':_0x4ba27b}});if(!_0x38d37b||!_0x38d37b['whoCanUse']?.[_0x1d2797(0x603)](this[_0x1d2797(0x597)][_0x1d2797(0x38f)]))throw this['logger']['error'](this[_0x1d2797(0x7ab)]+'\x20('+this[_0x1d2797(0x597)][_0x1d2797(0x38f)]+_0x1d2797(0x113)+_0x4ba27b+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x1d2797(0x21a)+_0x4ba27b+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0xc29a52=await this[_0x1d2797(0x421)](_0x38d37b,_0x3a5dda,null);if(_0xc29a52){this[_0x1d2797(0x671)][_0x1d2797(0x244)](this['instanceName']+'\x20('+this[_0x1d2797(0x597)][_0x1d2797(0x38f)]+_0x1d2797(0x72b));let _0x1780a0;if(_0x1a8497){let _0x408c19=_0xc29a52['chatLog'][_0x1d2797(0x5e8)],_0x278e00=this[_0x1d2797(0x3a2)](_0x1a8497);Object[_0x1d2797(0x790)](_0x408c19,_0x278e00),_0xc29a52[_0x1d2797(0x139)][_0x1d2797(0x5e8)]=_0x408c19,_0x1780a0={'error':!0x1,'apiResponse':_0x1a8497};}let _0x4e68db=await this[_0x1d2797(0x1d3)](_0xc29a52);return _0x4e68db&&await this['processblock'](_0xc29a52,_0x4e68db),{'message':'Flow\x20iniciado'};}}catch(_0x46cb86){if(this[_0x1d2797(0x671)][_0x1d2797(0x6f8)](this[_0x1d2797(0x7ab)]+'\x20('+this[_0x1d2797(0x597)]['wuid']+_0x1d2797(0x715)+(_0x46cb86 instanceof Error?_0x46cb86[_0x1d2797(0x3bf)]:JSON[_0x1d2797(0x115)](_0x46cb86,null,0x2))),_0x4b5233=_0x46cb86 instanceof Error?_0x46cb86[_0x1d2797(0x3bf)]:JSON[_0x1d2797(0x115)](_0x46cb86,null,0x2),_0x4b5233)throw new m(_0x1d2797(0x41a)+_0x4b5233);}}async[a0_0x1d7ec3(0x229)](_0x331426){const _0x3ee3e4=a0_0x1d7ec3;try{let _0x528e98={'remoteJid':_0x331426,'status':'open'},_0x4902b9={'status':_0x3ee3e4(0x2d3)},_0x33f3f3=await this[_0x3ee3e4(0x2d1)][_0x3ee3e4(0x704)][_0x3ee3e4(0x3d6)](_0x528e98,_0x4902b9,this[_0x3ee3e4(0x597)]['wuid']);return this['logger'][_0x3ee3e4(0x244)](this[_0x3ee3e4(0x7ab)]+'\x20('+this[_0x3ee3e4(0x597)][_0x3ee3e4(0x38f)]+_0x3ee3e4(0x6d4)),_0x33f3f3;}catch(_0x487fe3){throw this[_0x3ee3e4(0x671)]['error'](this['instanceName']+'\x20('+this[_0x3ee3e4(0x597)][_0x3ee3e4(0x38f)]+_0x3ee3e4(0x784)+_0x487fe3[_0x3ee3e4(0x3bf)]),_0x487fe3;}}async[a0_0x1d7ec3(0x421)](_0x326a1d,_0x1ea0c0,_0x34cbee){const _0x36c4a4=a0_0x1d7ec3;this['logger'][_0x36c4a4(0x244)](this[_0x36c4a4(0x7ab)]+'\x20('+this[_0x36c4a4(0x597)]['wuid']+_0x36c4a4(0xda)),await this[_0x36c4a4(0x229)](_0x1ea0c0);try{let _0x5f1b3c=require(_0x36c4a4(0x188))[_0x36c4a4(0x5cd)],_0x292db6=Date['now'](),_0x124acd='start',_0x5c0916={},_0x10eaa5={},_0x3276bf=this[_0x36c4a4(0x7ac)]['flows'][_0x36c4a4(0x44c)](_0x54c9cc=>_0x54c9cc[_0x36c4a4(0x6ee)]===_0x326a1d['_id']?.[_0x36c4a4(0x125)]()),_0x544365=_0x3276bf?.[_0x36c4a4(0x3f7)]??_0x326a1d[_0x36c4a4(0x3f7)]??0x0,_0x522da0=_0x3276bf?.[_0x36c4a4(0x467)]??_0x326a1d[_0x36c4a4(0x467)]??!0x1,_0x3cbe36={'flowId':_0x326a1d['_id'],..._0x326a1d,'chatLog':null},_0x20fbf7=await this[_0x36c4a4(0x5ac)](_0x3cbe36[_0x36c4a4(0x695)]),_0x215130=await this[_0x36c4a4(0x59f)](_0x1ea0c0),_0x5dd2d4={..._0x20fbf7,..._0x215130,'_remoteJid':_0x1ea0c0},_0xe850a3={'lastReceivedMessage':_0x5c0916,'lastSendMessage':_0x10eaa5,'lastBlockId':_0x124acd,'lastCondition':!0x0,'realVariables':_0x5dd2d4};_0x3cbe36['chatLog']=_0xe850a3,_0x3cbe36[_0x36c4a4(0x139)]['realVariables']={..._0x5dd2d4,..._0x34cbee},delete _0x3cbe36[_0x36c4a4(0x6ee)],_0x3cbe36[_0x36c4a4(0x6ee)]=new _0x5f1b3c(),_0x3cbe36[_0x36c4a4(0x121)]=_0x292db6,_0x3cbe36[_0x36c4a4(0x77f)]=_0x36c4a4(0xb0),_0x3cbe36[_0x36c4a4(0x9d)]=_0x1ea0c0,_0x3cbe36[_0x36c4a4(0x3f7)]=_0x544365,_0x3cbe36[_0x36c4a4(0x467)]=_0x522da0,_0x3cbe36['_id']=_0x326a1d[_0x36c4a4(0x6ee)];let _0x3cfb03=await this[_0x36c4a4(0x2d1)][_0x36c4a4(0x704)][_0x36c4a4(0x171)](_0x3cbe36[_0x36c4a4(0x6ee)],_0x3cbe36,this[_0x36c4a4(0x597)][_0x36c4a4(0x38f)]);return this[_0x36c4a4(0x671)][_0x36c4a4(0x244)](this[_0x36c4a4(0x7ab)]+'\x20('+this[_0x36c4a4(0x597)][_0x36c4a4(0x38f)]+_0x36c4a4(0x7f3)),_0x3cfb03?_0x3cbe36:null;}catch(_0xbb95da){let _0x3de45a=_0x36c4a4(0x798),_0x4ed213=_0xbb95da instanceof Error?_0xbb95da[_0x36c4a4(0x3bf)]:typeof _0xbb95da==_0x36c4a4(0x4b9)?JSON[_0x36c4a4(0x115)](_0xbb95da):_0xbb95da,_0x20d987=_0x3de45a+':\x20'+_0x4ed213;throw this[_0x36c4a4(0x671)][_0x36c4a4(0x6f8)](this[_0x36c4a4(0x7ab)]+'\x20('+this[_0x36c4a4(0x597)][_0x36c4a4(0x38f)]+'):\x20'+_0x20d987),new m(_0x20d987);}}async[a0_0x1d7ec3(0x136)](_0x38dbd4){const _0x34e0c4=a0_0x1d7ec3;try{this[_0x34e0c4(0x671)][_0x34e0c4(0x244)](this[_0x34e0c4(0x7ab)]+'\x20('+this[_0x34e0c4(0x597)][_0x34e0c4(0x38f)]+_0x34e0c4(0x268)),this[_0x34e0c4(0x671)][_0x34e0c4(0x244)](this[_0x34e0c4(0x7ab)]+'\x20('+this['instance']['wuid']+_0x34e0c4(0x138)+_0x38dbd4);let _0x4f6749={'where':{'_id':_0x38dbd4}};return await this[_0x34e0c4(0x2d1)][_0x34e0c4(0x704)][_0x34e0c4(0x6f0)](_0x4f6749,this[_0x34e0c4(0x597)][_0x34e0c4(0x38f)]);}catch(_0x3d3c39){let _0x24124f='Erro\x20ao\x20buscar\x20a\x20conversa',_0x110c81=_0x3d3c39 instanceof Error?_0x3d3c39['message']:typeof _0x3d3c39=='object'?JSON['stringify'](_0x3d3c39):_0x3d3c39,_0x427a4e=_0x24124f+':\x20'+_0x110c81;throw this['logger']['error'](this[_0x34e0c4(0x7ab)]+'\x20('+this[_0x34e0c4(0x597)][_0x34e0c4(0x38f)]+_0x34e0c4(0x84)+_0x427a4e),new m(_0x427a4e);}}async['fetchConversation'](_0x1ac263){const _0x3646c9=a0_0x1d7ec3;try{return this[_0x3646c9(0x671)][_0x3646c9(0x244)](this[_0x3646c9(0x7ab)]+'\x20('+this['instance']['wuid']+_0x3646c9(0x5f6)),await this[_0x3646c9(0x2d1)]['flowConversation'][_0x3646c9(0x44c)](_0x1ac263,this[_0x3646c9(0x597)][_0x3646c9(0x38f)]);}catch(_0x4dad0a){let _0x4dc699=_0x3646c9(0x148),_0x47826d=_0x4dad0a instanceof Error?_0x4dad0a[_0x3646c9(0x3bf)]:typeof _0x4dad0a==_0x3646c9(0x4b9)?JSON[_0x3646c9(0x115)](_0x4dad0a):_0x4dad0a,_0x56ee44=_0x4dc699+':\x20'+_0x47826d;throw this[_0x3646c9(0x671)][_0x3646c9(0x6f8)](this[_0x3646c9(0x7ab)]+'\x20('+this[_0x3646c9(0x597)]['wuid']+_0x3646c9(0x84)+_0x56ee44),new m(_0x56ee44);}}async[a0_0x1d7ec3(0x680)](_0x248844){const _0xb293c=a0_0x1d7ec3;try{return this['logger']['verbose'](this[_0xb293c(0x7ab)]+'\x20('+this[_0xb293c(0x597)][_0xb293c(0x38f)]+'):\x20Deletando\x20conversa...'),this[_0xb293c(0x671)][_0xb293c(0x244)](this[_0xb293c(0x7ab)]+'\x20('+this[_0xb293c(0x597)][_0xb293c(0x38f)]+_0xb293c(0x5d1)+_0x248844),(await this['repository'][_0xb293c(0x704)]['deleteOne']({'where':{'_id':_0x248844['_id']}},this[_0xb293c(0x597)][_0xb293c(0x38f)]))[_0xb293c(0x78a)]===0x0?{'message':_0xb293c(0x245)}:{'message':_0xb293c(0x532)};}catch(_0x25c4dd){let _0x4fb449=_0xb293c(0x5de),_0x47bec2=_0x25c4dd instanceof Error?_0x25c4dd[_0xb293c(0x3bf)]:typeof _0x25c4dd=='object'?JSON[_0xb293c(0x115)](_0x25c4dd):_0x25c4dd,_0x499840=_0x4fb449+':\x20'+_0x47bec2;throw this[_0xb293c(0x671)][_0xb293c(0x6f8)](this[_0xb293c(0x7ab)]+'\x20('+this['instance'][_0xb293c(0x38f)]+'):\x20'+_0x499840),new m(_0x499840);}}async['editConversation'](_0x5e9044){const _0x4b6d14=a0_0x1d7ec3;try{let {_id:_0x360dc6,chatLog:_0x277694,status:_0x4c20ee}=_0x5e9044;if(!_0x360dc6)return{'message':_0x4b6d14(0x6c3)};let _0x4f6e85={};if(_0x4c20ee!==void 0x0&&(_0x4f6e85['status']=_0x4c20ee),Object[_0x4b6d14(0x29b)](_0x4f6e85)[_0x4b6d14(0x387)]===0x0)return{'message':_0x4b6d14(0x28e)};let _0x5cec23=await this[_0x4b6d14(0x2d1)][_0x4b6d14(0x704)][_0x4b6d14(0x171)](_0x360dc6,_0x4f6e85,this[_0x4b6d14(0x597)][_0x4b6d14(0x38f)]);return _0x5cec23||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x4125e6){let _0x4983a5=_0x4b6d14(0x1a3),_0x588a35=_0x4125e6 instanceof Error?_0x4125e6[_0x4b6d14(0x3bf)]:typeof _0x4125e6=='object'?JSON[_0x4b6d14(0x115)](_0x4125e6):_0x4125e6,_0x469bb6=_0x4983a5+':\x20'+_0x588a35;throw this[_0x4b6d14(0x671)][_0x4b6d14(0x6f8)](this[_0x4b6d14(0x7ab)]+'\x20('+this[_0x4b6d14(0x597)][_0x4b6d14(0x38f)]+_0x4b6d14(0x84)+_0x469bb6),new m(_0x469bb6);}}async[a0_0x1d7ec3(0x42e)](_0x4df9bf){const _0x34e5ab=a0_0x1d7ec3;try{_0x4df9bf[_0x34e5ab(0x6ee)]=this[_0x34e5ab(0x339)](_0x4df9bf[_0x34e5ab(0x6ee)]);let _0x576542=await this[_0x34e5ab(0x2d1)][_0x34e5ab(0x39a)][_0x34e5ab(0x6f0)]({'where':{'_id':_0x4df9bf['_id']}},this[_0x34e5ab(0x597)][_0x34e5ab(0x38f)]);if(!_0x576542)throw new m(_0x34e5ab(0x7ba));let {_id:_0xc08569,leadInfo:_0x2d6b08}=_0x4df9bf;if(!_0xc08569)throw new Error(_0x34e5ab(0x4fd));if(_0x4df9bf[_0x34e5ab(0x174)]===_0x34e5ab(0x4f6))return await this[_0x34e5ab(0x68d)](_0x4df9bf['_id']),await this[_0x34e5ab(0x2d1)][_0x34e5ab(0x39a)]['delete']({'where':{'_id':_0x4df9bf[_0x34e5ab(0x6ee)]}},this[_0x34e5ab(0x597)]['wuid']),await this['repository']['message'][_0x34e5ab(0x174)]({'where':{'key':{'remoteJid':_0x4df9bf[_0x34e5ab(0x6ee)]}}},this[_0x34e5ab(0x597)][_0x34e5ab(0x38f)]),_0x4df9bf=await this[_0x34e5ab(0x2d1)]['chat'][_0x34e5ab(0x171)]({'where':{'_id':_0x4df9bf['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x34e5ab(0x597)][_0x34e5ab(0x38f)]),F(this[_0x34e5ab(0x7ab)],'chats',{'chat':_0x4df9bf}),{'message':_0x34e5ab(0xb8)};if(_0x4df9bf['delete']===_0x34e5ab(0x242))return await this[_0x34e5ab(0x2d1)]['message'][_0x34e5ab(0x174)]({'where':{'key':{'remoteJid':_0x4df9bf[_0x34e5ab(0x6ee)]}}},this[_0x34e5ab(0x597)]['wuid']),_0x4df9bf=await this[_0x34e5ab(0x2d1)][_0x34e5ab(0x39a)]['updateOne']({'where':{'_id':_0x4df9bf[_0x34e5ab(0x6ee)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x34e5ab(0x597)][_0x34e5ab(0x38f)]),F(this[_0x34e5ab(0x7ab)],'chats',{'chat':_0x4df9bf}),{'message':_0x34e5ab(0x255)};let _0x13b14f=(_0x19bf46,_0x4504df,_0x4028b7)=>{const _0x40874b=_0x34e5ab;_0x19bf46&&_0x4028b7[_0x40874b(0xb2)](_0x2698dd=>{_0x19bf46[_0x2698dd]!==void 0x0&&(_0x4504df['leadInfo.'+_0x2698dd]=_0x19bf46[_0x2698dd]);});},_0xc6b26c={};if('muteEndTime'in _0x4df9bf&&(this[_0x34e5ab(0x671)][_0x34e5ab(0x244)](this[_0x34e5ab(0x7ab)]+'\x20('+this['instance'][_0x34e5ab(0x38f)]+_0x34e5ab(0x533)+_0x4df9bf['_id']),_0x4df9bf['muteEndTime']=_0x4df9bf[_0x34e5ab(0x2c9)]===0x0?null:-0x1,await this[_0x34e5ab(0x38a)][_0x34e5ab(0x7ca)]({'mute':_0x4df9bf[_0x34e5ab(0x2c9)]},_0x4df9bf['_id']),_0xc6b26c[_0x34e5ab(0x2c9)]=Number(_0x4df9bf[_0x34e5ab(0x2c9)])),_0x2d6b08&&(_0x13b14f(_0x2d6b08,_0xc6b26c,[_0x34e5ab(0x1c3),_0x34e5ab(0x471),'email','cpf',_0x34e5ab(0x77f),_0x34e5ab(0x9c),'tags',_0x34e5ab(0x3e5),'responsavelid',_0x34e5ab(0x71d),_0x34e5ab(0x55e)]),Array[_0x34e5ab(0xab)](_0x2d6b08[_0x34e5ab(0x63f)])&&(_0xc6b26c[_0x34e5ab(0x57f)]=_0x2d6b08[_0x34e5ab(0x63f)][_0x34e5ab(0x5c2)](_0x227a4d=>({'_id':_0x227a4d[_0x34e5ab(0x6ee)],'value':_0x227a4d[_0x34e5ab(0x491)]}))),_0x4df9bf[_0x34e5ab(0x1b4)][_0x34e5ab(0x71d)]!==void 0x0)){let _0x1b3f7d=await this[_0x34e5ab(0x2d1)][_0x34e5ab(0x1e6)]['find']({'where':{}},this[_0x34e5ab(0x597)]['wuid']),_0x20e491=new Set(_0x4df9bf['leadInfo'][_0x34e5ab(0x71d)]||[]),_0x137513=new Set(_0x4df9bf['leadInfo']['etiquetas']),_0x292b08=new Set(_0x1b3f7d[_0x34e5ab(0x5c2)](_0x53bbc7=>_0x53bbc7[_0x34e5ab(0x6ee)])),_0x5199a7=[..._0x137513][_0x34e5ab(0x350)](_0x55e233=>!_0x20e491['has'](_0x55e233)&&_0x292b08[_0x34e5ab(0x6ac)](_0x55e233)),_0x13e580=[..._0x20e491][_0x34e5ab(0x350)](_0x47a971=>!_0x137513[_0x34e5ab(0x6ac)](_0x47a971));if(_0xc6b26c[_0x34e5ab(0x341)]=[..._0x20e491],_0x576542&&!_0x576542[_0x34e5ab(0x5f8)]){for(let _0x3e0183 of _0x5199a7)await this['AddChatLabel'](_0x3e0183,_0x4df9bf['_id']),_0x20e491['add'](_0x3e0183);for(let _0x28c1a2 of _0x13e580)await this[_0x34e5ab(0x47e)](_0x28c1a2,_0x4df9bf['_id']),_0x20e491[_0x34e5ab(0x174)](_0x28c1a2);}}if(_0x4df9bf[_0x34e5ab(0x19b)]!==void 0x0&&(_0xc6b26c[_0x34e5ab(0x19b)]=Number(_0x4df9bf[_0x34e5ab(0x19b)])),Object[_0x34e5ab(0x29b)](_0xc6b26c)[_0x34e5ab(0x387)]===0x0)throw new Error(_0x34e5ab(0x28e));let _0x19b0b1=await this[_0x34e5ab(0x2d1)][_0x34e5ab(0x39a)][_0x34e5ab(0x171)]({'where':{'_id':_0x4df9bf[_0x34e5ab(0x6ee)]}},_0xc6b26c,this[_0x34e5ab(0x597)][_0x34e5ab(0x38f)]);return _0x19b0b1&&F(this[_0x34e5ab(0x7ab)],_0x34e5ab(0x650),{'chat':_0x19b0b1}),_0x19b0b1?(this['logger'][_0x34e5ab(0x244)](this[_0x34e5ab(0x7ab)]+'\x20('+this[_0x34e5ab(0x597)][_0x34e5ab(0x38f)]+_0x34e5ab(0x84)+JSON[_0x34e5ab(0x115)](_0x19b0b1,null,0x2)),_0x19b0b1):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x1201ed){let _0x3ecb77=_0x34e5ab(0x655),_0x13b9db=_0x1201ed instanceof Error?_0x1201ed[_0x34e5ab(0x3bf)]:typeof _0x1201ed=='object'?JSON['stringify'](_0x1201ed):_0x1201ed,_0x153a12=_0x3ecb77+':\x20'+_0x13b9db;throw this[_0x34e5ab(0x671)]['error'](this['instanceName']+'\x20('+this[_0x34e5ab(0x597)]['wuid']+_0x34e5ab(0x84)+_0x153a12),new m(_0x153a12);}}async[a0_0x1d7ec3(0x794)](_0x815400,_0x9d920a){const _0x4433e9=a0_0x1d7ec3;try{await this[_0x4433e9(0x38a)][_0x4433e9(0x2e8)](_0x9d920a,_0x815400),this[_0x4433e9(0x671)][_0x4433e9(0x696)](this[_0x4433e9(0x7ab)]+'\x20('+this['instance'][_0x4433e9(0x38f)]+_0x4433e9(0x19d)+_0x815400+_0x4433e9(0x619)+_0x9d920a+_0x4433e9(0x369));}catch(_0x47989e){this[_0x4433e9(0x671)][_0x4433e9(0x6f8)](_0x4433e9(0x2a5)+_0x815400+'\x20ao\x20chat\x20'+_0x9d920a+':\x20'+_0x47989e);}}async['RemoveChatLabel'](_0x150b22,_0x14d86d){const _0x516b11=a0_0x1d7ec3;try{await this[_0x516b11(0x38a)][_0x516b11(0x743)](_0x14d86d,_0x150b22),this['logger']['info'](this[_0x516b11(0x7ab)]+'\x20('+this['instance']['wuid']+_0x516b11(0x19d)+_0x150b22+_0x516b11(0x359)+_0x14d86d+'\x20com\x20sucesso.');}catch(_0x419b49){this[_0x516b11(0x671)][_0x516b11(0x6f8)](_0x516b11(0x2ce)+_0x150b22+_0x516b11(0x38b)+_0x14d86d+':\x20'+_0x419b49);}}async[a0_0x1d7ec3(0x6ea)](_0x32a89b){const _0x157494=a0_0x1d7ec3;try{let _0x5daa85=await this['repository'][_0x157494(0x4c0)][_0x157494(0x3b6)](this['instance'][_0x157494(0x38f)]),_0x51d81b=_0x32a89b[_0x157494(0x6ee)]?_0x5daa85[_0x157494(0x5af)][_0x157494(0x163)](_0x56135d=>_0x56135d[_0x157494(0x6ee)]===_0x32a89b[_0x157494(0x6ee)]):-0x1;if(_0x32a89b['delete']&&_0x51d81b>-0x1)_0x5daa85['agents'][_0x157494(0x701)](_0x51d81b,0x1);else{if(_0x51d81b>-0x1){let _0x44f4a5=_0x5daa85[_0x157494(0x5af)][_0x51d81b];_0x32a89b[_0x157494(0x313)]&&(_0x44f4a5[_0x157494(0x313)]=_0x32a89b[_0x157494(0x313)]),_0x32a89b[_0x157494(0x70c)]&&(_0x44f4a5['name']=_0x32a89b[_0x157494(0x70c)]),_0x32a89b[_0x157494(0x280)]&&(_0x44f4a5[_0x157494(0x280)]=_0x32a89b[_0x157494(0x280)]),_0x32a89b[_0x157494(0x3ff)]&&(_0x44f4a5[_0x157494(0x3ff)]=_0x32a89b[_0x157494(0x3ff)]);}else _0x5daa85[_0x157494(0x5af)][_0x157494(0x1fc)]({'_id':_0x32a89b[_0x157494(0x6ee)]||new ge['default'][(_0x157494(0xea))][(_0x157494(0x5cd))]()[_0x157494(0x125)](),'fone':_0x32a89b[_0x157494(0x313)],'name':_0x32a89b['name'],'email':_0x32a89b[_0x157494(0x280)],'role':_0x32a89b[_0x157494(0x3ff)]});}let _0x3d3b89={'agents':_0x5daa85[_0x157494(0x5af)]},_0x158d6b=await this['repository'][_0x157494(0x4c0)][_0x157494(0x6c4)](_0x3d3b89,this[_0x157494(0x597)][_0x157494(0x38f)]);return this[_0x157494(0x7ac)]=_0x158d6b,this[_0x157494(0x671)][_0x157494(0x244)](this['instanceName']+'\x20('+this[_0x157494(0x597)][_0x157494(0x38f)]+_0x157494(0x4a3)),this[_0x157494(0x671)][_0x157494(0x244)](this[_0x157494(0x7ab)]+'\x20('+this[_0x157494(0x597)][_0x157494(0x38f)]+_0x157494(0x84)+this[_0x157494(0x7ac)]),_0x158d6b;}catch(_0xdb4df0){let _0x14dd56='Erro\x20ao\x20editar\x20agentes',_0xf8db5=_0xdb4df0 instanceof Error?_0xdb4df0[_0x157494(0x3bf)]:typeof _0xdb4df0==_0x157494(0x4b9)?JSON[_0x157494(0x115)](_0xdb4df0):_0xdb4df0,_0x5c533e=_0x14dd56+':\x20'+_0xf8db5;throw this[_0x157494(0x671)]['error'](this['instanceName']+'\x20('+this[_0x157494(0x597)][_0x157494(0x38f)]+_0x157494(0x84)+_0x5c533e),new m(_0x5c533e);}}async[a0_0x1d7ec3(0x271)](_0x10b3b4){const _0x36b8da=a0_0x1d7ec3;try{let _0x5f5c92=await this[_0x36b8da(0x2d1)][_0x36b8da(0x4c0)][_0x36b8da(0x3b6)](this['instance'][_0x36b8da(0x38f)]),_0x504663=_0x10b3b4[_0x36b8da(0x6ee)]?_0x5f5c92[_0x36b8da(0x63f)]['findIndex'](_0x31ce8d=>_0x31ce8d[_0x36b8da(0x6ee)]===_0x10b3b4['_id']):-0x1,_0x4bc8ca=!0x1,_0x359f38=_0x5f5c92[_0x36b8da(0x63f)]['some'](_0x2e3be2=>_0x2e3be2['order']===_0x10b3b4['order']);if(_0x10b3b4[_0x36b8da(0x174)]&&_0x504663>-0x1)_0x5f5c92[_0x36b8da(0x63f)]['splice'](_0x504663,0x1),_0x4bc8ca=!0x0;else{if(_0x504663>-0x1){if(_0x5f5c92[_0x36b8da(0x63f)][_0x36b8da(0x7c8)](_0x587ae5=>_0x587ae5[_0x36b8da(0x70c)]===_0x10b3b4[_0x36b8da(0x70c)]&&_0x587ae5[_0x36b8da(0x6ee)]!==_0x10b3b4[_0x36b8da(0x6ee)]))throw new Error(_0x36b8da(0x26b));let _0xec8f32=_0x5f5c92[_0x36b8da(0x63f)][_0x504663];_0x10b3b4[_0x36b8da(0x381)]&&(_0x359f38||!Number['isInteger'](_0x10b3b4['order']))&&(_0xec8f32['order']=_0x10b3b4[_0x36b8da(0x381)],_0x4bc8ca=!0x0),_0x10b3b4[_0x36b8da(0x70c)]&&(_0xec8f32[_0x36b8da(0x70c)]=_0x10b3b4[_0x36b8da(0x70c)]);}else{if(_0x5f5c92[_0x36b8da(0x63f)][_0x36b8da(0x7c8)](_0x31f989=>_0x31f989[_0x36b8da(0x70c)]===_0x10b3b4['name']&&_0x31f989[_0x36b8da(0x6ee)]!==_0x10b3b4[_0x36b8da(0x6ee)]))throw new Error(_0x36b8da(0x26b));_0x5f5c92['customFields'][_0x36b8da(0x1fc)]({'_id':_0x10b3b4[_0x36b8da(0x6ee)]||new ge[(_0x36b8da(0x1af))][(_0x36b8da(0xea))][(_0x36b8da(0x5cd))]()['toString'](),'order':_0x10b3b4['order'],'name':_0x10b3b4[_0x36b8da(0x70c)]}),_0x4bc8ca=!0x0;}}if(_0x4bc8ca){_0x5f5c92[_0x36b8da(0x63f)][_0x36b8da(0x3d4)]((_0x424c39,_0x3c41b8)=>_0x424c39['order']>_0x3c41b8[_0x36b8da(0x381)]?0x1:_0x3c41b8[_0x36b8da(0x381)]>_0x424c39[_0x36b8da(0x381)]?-0x1:0x0);for(let _0x289878=0x0;_0x289878<_0x5f5c92[_0x36b8da(0x63f)]['length'];_0x289878++)_0x5f5c92[_0x36b8da(0x63f)][_0x289878]['order']=_0x289878+0x1;}let _0x4ae90c=await this[_0x36b8da(0x2d1)]['automateSystem'][_0x36b8da(0x6c4)](_0x5f5c92,this[_0x36b8da(0x597)][_0x36b8da(0x38f)]);return this[_0x36b8da(0x7ac)]=_0x4ae90c,this[_0x36b8da(0x671)]['verbose'](this['instanceName']+'\x20('+this[_0x36b8da(0x597)]['wuid']+_0x36b8da(0x5a2)),this['logger'][_0x36b8da(0x244)](this[_0x36b8da(0x7ab)]+'\x20('+this[_0x36b8da(0x597)][_0x36b8da(0x38f)]+_0x36b8da(0x84)+this[_0x36b8da(0x7ac)]),_0x4ae90c;}catch(_0x27b629){let _0x2b5599=_0x36b8da(0x3ee),_0x4390cd=_0x27b629 instanceof Error?_0x27b629[_0x36b8da(0x3bf)]:typeof _0x27b629==_0x36b8da(0x4b9)?JSON['stringify'](_0x27b629):_0x27b629,_0x22988e=_0x2b5599+':\x20'+_0x4390cd;throw this[_0x36b8da(0x671)][_0x36b8da(0x6f8)](this[_0x36b8da(0x7ab)]+'\x20('+this[_0x36b8da(0x597)]['wuid']+_0x36b8da(0x84)+_0x22988e),new m(_0x22988e);}}async[a0_0x1d7ec3(0x2d0)](_0x1aef6f){const _0x45e213=a0_0x1d7ec3;try{let _0x1a1aff=await this[_0x45e213(0x2d1)][_0x45e213(0x4c0)][_0x45e213(0x3b6)](this['instance']['wuid']),_0x2bf503=_0x1a1aff?.[_0x45e213(0x46f)]?.[_0x45e213(0x163)](_0x1370bd=>_0x1370bd[_0x45e213(0x6ee)]===_0x1aef6f?.[_0x45e213(0x6ee)]);if(_0x1aef6f?.[_0x45e213(0x174)])_0x2bf503>-0x1&&_0x1a1aff?.[_0x45e213(0x46f)]?.['splice'](_0x2bf503,0x1);else{if(_0x2bf503>-0x1){let _0x57cca4=_0x1a1aff[_0x45e213(0x46f)][_0x2bf503];_0x57cca4[_0x45e213(0x381)]=_0x1aef6f?.[_0x45e213(0x381)]||_0x57cca4[_0x45e213(0x381)],_0x57cca4[_0x45e213(0x640)]=_0x1aef6f?.[_0x45e213(0x640)]||_0x57cca4[_0x45e213(0x640)],_0x57cca4[_0x45e213(0x3bf)]=_0x1aef6f?.[_0x45e213(0x3bf)]||_0x57cca4[_0x45e213(0x3bf)];}else{let _0x57f33c={'_id':_0x1aef6f?.[_0x45e213(0x6ee)]||new ge[(_0x45e213(0x1af))][(_0x45e213(0xea))][(_0x45e213(0x5cd))]()[_0x45e213(0x125)](),'order':_0x1aef6f?.['order'],'command':_0x1aef6f?.[_0x45e213(0x640)],'message':_0x1aef6f?.[_0x45e213(0x3bf)]};_0x1a1aff?.[_0x45e213(0x46f)]?.[_0x45e213(0x1fc)](_0x57f33c);}}_0x1a1aff?.[_0x45e213(0x46f)]?.[_0x45e213(0x3d4)]((_0x197518,_0x50559e)=>_0x197518[_0x45e213(0x381)]-_0x50559e['order']);let _0x467de8=await this[_0x45e213(0x2d1)][_0x45e213(0x4c0)][_0x45e213(0x6c4)](_0x1a1aff,this[_0x45e213(0x597)]['wuid']);return this[_0x45e213(0x7ac)]=_0x467de8,this[_0x45e213(0x671)][_0x45e213(0x244)](this[_0x45e213(0x7ab)]+'\x20('+this[_0x45e213(0x597)][_0x45e213(0x38f)]+_0x45e213(0x5a2)),_0x467de8;}catch(_0x2b4658){let _0x910bd2=_0x45e213(0x21d),_0x2ca8fb=_0x2b4658 instanceof Error?_0x2b4658[_0x45e213(0x3bf)]:typeof _0x2b4658==_0x45e213(0x4b9)?JSON[_0x45e213(0x115)](_0x2b4658):_0x2b4658,_0x4b5b39=_0x910bd2+':\x20'+_0x2ca8fb;throw this['logger'][_0x45e213(0x6f8)](this['instanceName']+'\x20('+this[_0x45e213(0x597)][_0x45e213(0x38f)]+'):\x20'+_0x4b5b39),new m(_0x4b5b39);}}async[a0_0x1d7ec3(0x39e)](_0x10e97e){const _0xecbe5e=a0_0x1d7ec3;try{let _0x1d8456=await this[_0xecbe5e(0x2d1)][_0xecbe5e(0x4c0)][_0xecbe5e(0x3b6)](this[_0xecbe5e(0x597)]['wuid']);if(!_0x1d8456)throw new Error(_0xecbe5e(0x6b8));let _0x4b47d9={'_id':_0x1d8456[_0xecbe5e(0x6ee)],'flowConfig':{'enabled':_0x10e97e[_0xecbe5e(0x5e4)]??_0x1d8456[_0xecbe5e(0x6eb)][_0xecbe5e(0x5e4)],'ignoreGroups':_0x10e97e[_0xecbe5e(0x12a)]??_0x1d8456[_0xecbe5e(0x6eb)][_0xecbe5e(0x12a)],'stopConversation':_0x10e97e['stopConversation'][_0xecbe5e(0x5e2)]()??_0x1d8456[_0xecbe5e(0x6eb)][_0xecbe5e(0xcd)][_0xecbe5e(0x5e2)](),'stopMinutes':_0x10e97e[_0xecbe5e(0x367)]??_0x1d8456['flowConfig'][_0xecbe5e(0x367)],'stopWhenYouSendMsg':_0x10e97e[_0xecbe5e(0x5b6)]??_0x1d8456[_0xecbe5e(0x6eb)][_0xecbe5e(0x5b6)]}},_0x17ad2f=await this['repository']['automateSystem'][_0xecbe5e(0x6c4)](_0x4b47d9,this[_0xecbe5e(0x597)][_0xecbe5e(0x38f)]);return this[_0xecbe5e(0x7ac)]=_0x17ad2f,this['logger'][_0xecbe5e(0x244)](this['instanceName']+'\x20('+this[_0xecbe5e(0x597)][_0xecbe5e(0x38f)]+_0xecbe5e(0x4a3)),this[_0xecbe5e(0x671)][_0xecbe5e(0x244)](this[_0xecbe5e(0x7ab)]+'\x20('+this[_0xecbe5e(0x597)][_0xecbe5e(0x38f)]+_0xecbe5e(0x84)+this[_0xecbe5e(0x7ac)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x17ad2f;}catch(_0x44d722){let _0x4f7103=_0xecbe5e(0x4bc),_0x1aff5d=_0x44d722 instanceof Error?_0x44d722['message']:typeof _0x44d722=='object'?JSON[_0xecbe5e(0x115)](_0x44d722):_0x44d722,_0x53a5d3=_0x4f7103+':\x20'+_0x1aff5d;throw this[_0xecbe5e(0x671)][_0xecbe5e(0x6f8)](this[_0xecbe5e(0x7ab)]+'\x20('+this['instance'][_0xecbe5e(0x38f)]+'):\x20'+_0x53a5d3),new m(_0x53a5d3);}}async[a0_0x1d7ec3(0x5bd)](){const _0x2a2828=a0_0x1d7ec3;try{let _0x558285=await this['repository']['automateSystem']['findOrCreate'](this[_0x2a2828(0x597)][_0x2a2828(0x38f)]);return this['AutomateSystem']=_0x558285,_0x558285;}catch(_0x357c71){let _0x3e9599=_0x2a2828(0x567),_0x529a6c=_0x357c71 instanceof Error?_0x357c71['message']:typeof _0x357c71==_0x2a2828(0x4b9)?JSON[_0x2a2828(0x115)](_0x357c71):_0x357c71,_0x5d39ef=_0x3e9599+':\x20'+_0x529a6c;throw this['logger'][_0x2a2828(0x6f8)](this[_0x2a2828(0x7ab)]+'\x20('+this['instance']['wuid']+_0x2a2828(0x84)+_0x5d39ef),new m(_0x5d39ef);}}async[a0_0x1d7ec3(0x22d)](){const _0x1c3598=a0_0x1d7ec3;let _0x5b0636=(await import(_0x1c3598(0x786)))[_0x1c3598(0x1af)];this[_0x1c3598(0x72d)]=new _0x5b0636({'concurrency':0x1});}async[a0_0x1d7ec3(0x5f5)](){const _0x29931b=a0_0x1d7ec3;this['instance']['ScheduleMessage']['timeout']&&clearTimeout(this[_0x29931b(0x597)][_0x29931b(0x40c)][_0x29931b(0x6bb)]),this[_0x29931b(0x597)]['ScheduleMessage']['timeout']=setTimeout(()=>{const _0x92d5be=_0x29931b;this[_0x92d5be(0x178)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x1d7ec3(0x178)](){const _0x232df5=a0_0x1d7ec3;let _0xb4b01=this[_0x232df5(0x597)]['ScheduleMessage']['lastSend'];(_0xb4b01===0x0||_0xb4b01===null||Date['now']()-_0xb4b01>=0x1d4c0)&&(this[_0x232df5(0x671)]['verbose'](this[_0x232df5(0x7ab)]+'\x20('+this[_0x232df5(0x597)]['wuid']+_0x232df5(0x517)),this['instance']['ScheduleMessage'][_0x232df5(0x9f)]=null,this[_0x232df5(0x597)][_0x232df5(0x40c)][_0x232df5(0x5fb)]=0x0,this[_0x232df5(0x597)]['ScheduleMessage'][_0x232df5(0x584)]=0x0,await this[_0x232df5(0x7cc)]());}async[a0_0x1d7ec3(0x7cc)](){const _0x37f44c=a0_0x1d7ec3;this['logger'][_0x37f44c(0x4d3)](this['instanceName']+'\x20('+this['instance'][_0x37f44c(0x38f)]+_0x37f44c(0x265)),await this['transformScheduledMessagesByType']();let _0x43bcc5=await this[_0x37f44c(0x137)]();_0x43bcc5[_0x37f44c(0x387)]>0x0&&(setTimeout(()=>this[_0x37f44c(0x178)](),0x14*0x3e8),this['logger'][_0x37f44c(0x4d3)](this[_0x37f44c(0x7ab)]+'\x20('+this[_0x37f44c(0x597)][_0x37f44c(0x38f)]+_0x37f44c(0x708)),this[_0x37f44c(0x72d)][_0x37f44c(0x1d7)](),this[_0x37f44c(0x72d)][_0x37f44c(0x2ea)](()=>this[_0x37f44c(0xc8)](_0x43bcc5)));let _0x32f953={'where':{'status':'scheduled','when':{'$gt':Date['now']()}}},_0x521214=await this[_0x37f44c(0x2d1)]['scheduleMessage'][_0x37f44c(0x6f0)](_0x32f953,this[_0x37f44c(0x597)][_0x37f44c(0x38f)]);_0x521214&&_0x521214[_0x37f44c(0x2b0)]-Date[_0x37f44c(0xe6)]()<=0x6ddd00?this[_0x37f44c(0x597)][_0x37f44c(0x40c)][_0x37f44c(0x584)]=_0x521214[_0x37f44c(0x2b0)]-Date[_0x37f44c(0xe6)]():this[_0x37f44c(0x597)][_0x37f44c(0x40c)][_0x37f44c(0x584)]=(0x3c+Math[_0x37f44c(0x518)](Math[_0x37f44c(0x684)]()*0x3c))*0x3c*0x3e8,this['instance'][_0x37f44c(0x40c)][_0x37f44c(0x584)]=Math['max'](this[_0x37f44c(0x597)][_0x37f44c(0x40c)]['delayMessage'],0x1*0x2*0x3e8);let _0x42eaac=Math[_0x37f44c(0x70d)](this['instance'][_0x37f44c(0x40c)][_0x37f44c(0x584)]/0xea60);if(_0x521214){let _0x139c84=new Date(_0x521214[_0x37f44c(0x2b0)])[_0x37f44c(0x623)]();this[_0x37f44c(0x671)][_0x37f44c(0x4d3)](this[_0x37f44c(0x7ab)]+'\x20('+this[_0x37f44c(0x597)][_0x37f44c(0x38f)]+'):\x20Encontrado\x20próxima\x20mensagem\x20para\x20'+_0x139c84+_0x37f44c(0x2db)+_0x42eaac+_0x37f44c(0x48b));}else this[_0x37f44c(0x671)][_0x37f44c(0x4d3)](this['instanceName']+'\x20('+this[_0x37f44c(0x597)]['wuid']+_0x37f44c(0x135)+_0x42eaac+_0x37f44c(0x48b));setTimeout(()=>{const _0x2ba3b1=_0x37f44c;this[_0x2ba3b1(0x7cc)]();},this[_0x37f44c(0x597)][_0x37f44c(0x40c)][_0x37f44c(0x584)]);}async[a0_0x1d7ec3(0x137)](){const _0x57caf7=a0_0x1d7ec3;this[_0x57caf7(0x671)][_0x57caf7(0x4d3)](this[_0x57caf7(0x7ab)]+'\x20('+this['instance'][_0x57caf7(0x38f)]+_0x57caf7(0x6d1));let _0x3612e2=Date[_0x57caf7(0xe6)]()-0xc*0x3c*0x3c*0x3e8,_0x5eca2e={'where':{'status':{'$in':[_0x57caf7(0x1d8),_0x57caf7(0x531)]},'$or':[{'when':{'$lte':Date[_0x57caf7(0xe6)](),'$gte':_0x3612e2}},{'when':0x0}]}},_0x3f436c=await this[_0x57caf7(0x2d1)][_0x57caf7(0x758)]['find'](_0x5eca2e,this[_0x57caf7(0x597)][_0x57caf7(0x38f)]);return this['logger'][_0x57caf7(0x4d3)](this[_0x57caf7(0x7ab)]+'\x20('+this[_0x57caf7(0x597)][_0x57caf7(0x38f)]+_0x57caf7(0xfc)+_0x3f436c['length']),_0x3f436c;}async[a0_0x1d7ec3(0xc8)](_0x37e29c){const _0x48c0ce=a0_0x1d7ec3;this[_0x48c0ce(0x671)][_0x48c0ce(0x4d3)](this['instanceName']+'\x20('+this[_0x48c0ce(0x597)][_0x48c0ce(0x38f)]+_0x48c0ce(0xd9));let _0x44cbbb=0x3*0x3e8,_0x43c248=0x8*0x3e8,_0x2a0af5=Math[_0x48c0ce(0x518)](Math['random']()*(_0x43c248-_0x44cbbb+0x1))+_0x44cbbb,_0x10e567=()=>this[_0x48c0ce(0x5c3)][_0x48c0ce(0x387)]===0x0?null:this[_0x48c0ce(0x5c3)][_0x48c0ce(0x442)]((_0x25c70f,_0x461f01)=>(_0x25c70f[_0x48c0ce(0x381)]??Number['MAX_SAFE_INTEGER'])<(_0x461f01[_0x48c0ce(0x381)]??Number[_0x48c0ce(0x429)])?_0x25c70f:_0x461f01,this[_0x48c0ce(0x5c3)][0x0]);_0x37e29c=await this['getReadyToSendMessages']();for(let _0x59ad88 of _0x37e29c){await this[_0x48c0ce(0x5f5)]();let _0x4fb641=0x3*0x3e8,_0x103e31={'_id':_0x59ad88[_0x48c0ce(0x6ee)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x48c0ce(0xe6)]()-_0x4fb641}}]},_0x3b4427={'startSend':Date[_0x48c0ce(0xe6)](),'status':_0x48c0ce(0x531)},_0x4c6b74=await this['repository']['scheduleMessage'][_0x48c0ce(0x171)](_0x103e31,_0x3b4427,this['instance'][_0x48c0ce(0x38f)]);if(this['pendingMessages']=_0x4c6b74[_0x48c0ce(0x242)][_0x48c0ce(0x350)](_0x29bb52=>!_0x29bb52[_0x48c0ce(0x90)]),!_0x4c6b74){setTimeout(()=>this[_0x48c0ce(0x178)](),0xa*0x3e8);continue;}if(this[_0x48c0ce(0x597)][_0x48c0ce(0x40c)][_0x48c0ce(0x9f)]=_0x4c6b74,!this['instance'][_0x48c0ce(0x40c)]['isConnected']){this['logger'][_0x48c0ce(0x4d3)](this[_0x48c0ce(0x7ab)]+'\x20('+this['instance'][_0x48c0ce(0x38f)]+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}for(;this[_0x48c0ce(0x5c3)][_0x48c0ce(0x387)]>0x0;){await this['setRestartTimeout']();let _0x4e4ddf=_0x10e567();if(!_0x4e4ddf)break;let _0x599d51=_0x59ad88['messages'][_0x48c0ce(0x44c)](_0x29865c=>_0x29865c[_0x48c0ce(0x6ee)]===_0x4e4ddf[_0x48c0ce(0x6ee)]);if(!_0x599d51)break;if(this[_0x48c0ce(0x597)][_0x48c0ce(0x40c)][_0x48c0ce(0x5fb)]=Date['now'](),_0x599d51[_0x48c0ce(0x90)]){this[_0x48c0ce(0x671)][_0x48c0ce(0x4d3)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x48c0ce(0x24c)+_0x599d51[_0x48c0ce(0x9d)]+_0x48c0ce(0x182)),this[_0x48c0ce(0x5c3)]=this['pendingMessages']['filter'](_0x3c8ce3=>_0x3c8ce3[_0x48c0ce(0x6ee)]!==_0x599d51[_0x48c0ce(0x6ee)]);continue;}if(!this[_0x48c0ce(0x597)][_0x48c0ce(0x40c)]['isConnected']){this['logger'][_0x48c0ce(0x4d3)](this[_0x48c0ce(0x7ab)]+'\x20('+this['instance'][_0x48c0ce(0x38f)]+_0x48c0ce(0x1e8));break;}if(!this[_0x48c0ce(0x597)][_0x48c0ce(0x40c)][_0x48c0ce(0x9f)]){this[_0x48c0ce(0x671)]['warn'](this[_0x48c0ce(0x7ab)]+'\x20('+this['instance'][_0x48c0ce(0x38f)]+_0x48c0ce(0x488)+_0x59ad88[_0x48c0ce(0x6ee)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}let _0x2cead3={'idControl':_0x599d51[_0x48c0ce(0x6ee)],'remoteJid':_0x599d51['remoteJid'],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x48c0ce(0xe6)]()},_0x13b897=null;try{this[_0x48c0ce(0x671)][_0x48c0ce(0x4d3)](this[_0x48c0ce(0x7ab)]+'\x20('+this[_0x48c0ce(0x597)][_0x48c0ce(0x38f)]+_0x48c0ce(0x5d6)+_0x599d51['remoteJid']);let _0x3fb3a3=await this[_0x48c0ce(0x12f)](_0x599d51[_0x48c0ce(0x9d)],_0x599d51);_0x2cead3[_0x48c0ce(0x6f8)]=_0x3fb3a3[_0x48c0ce(0x6f8)],_0x2cead3['id']=_0x3fb3a3[_0x48c0ce(0x6f8)]?null:_0x3fb3a3['id'],_0x2cead3[_0x48c0ce(0x16d)]=_0x3fb3a3[_0x48c0ce(0x6f8)]?_0x3fb3a3[_0x48c0ce(0x3fc)]?_0x3fb3a3[_0x48c0ce(0x3fc)]['toString']():'':null;let _0x3de78d=_0x59ad88[_0x48c0ce(0x242)][_0x48c0ce(0x163)](_0xe97864=>_0xe97864[_0x48c0ce(0x6ee)]===_0x599d51['_id']);_0x3de78d!==-0x1&&(_0x59ad88[_0x48c0ce(0x242)][_0x3de78d]['triedToSend']=!0x0);let _0x2e83a2={'$push':{'messagesSend':_0x2cead3},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x48932e=[{'elem._id':_0x599d51[_0x48c0ce(0x6ee)]}];if(this[_0x48c0ce(0x671)]['warn'](this[_0x48c0ce(0x7ab)]+'\x20('+this[_0x48c0ce(0x597)][_0x48c0ce(0x38f)]+_0x48c0ce(0x4a0)+_0x599d51['_id']),_0x13b897=await this['repository'][_0x48c0ce(0x758)][_0x48c0ce(0x171)]({'_id':_0x59ad88[_0x48c0ce(0x6ee)]},_0x2e83a2,this[_0x48c0ce(0x597)][_0x48c0ce(0x38f)],{'arrayFilters':_0x48932e}),_0x3fb3a3[_0x48c0ce(0x6f8)]){this[_0x48c0ce(0x671)][_0x48c0ce(0x6f8)](this[_0x48c0ce(0x7ab)]+'\x20('+this['instance'][_0x48c0ce(0x38f)]+_0x48c0ce(0x554)+_0x3fb3a3[_0x48c0ce(0x3fc)]);continue;}let _0x2c181d=this[_0x48c0ce(0x241)](_0x59ad88[_0x48c0ce(0x499)],_0x59ad88[_0x48c0ce(0x157)]);await this['sleep'](_0x2c181d);}catch(_0xc386d2){this[_0x48c0ce(0x671)][_0x48c0ce(0x6f8)](this['instanceName']+'\x20('+this[_0x48c0ce(0x597)][_0x48c0ce(0x38f)]+_0x48c0ce(0x71c)+_0x599d51[_0x48c0ce(0x9d)]+':\x20'+(_0xc386d2 instanceof Error?_0xc386d2[_0x48c0ce(0x3bf)]:JSON[_0x48c0ce(0x115)](_0xc386d2,null,0x2))),_0x2cead3[_0x48c0ce(0x6f8)]=!0x0,_0x2cead3['error_log']=_0xc386d2[_0x48c0ce(0x3bf)];let _0x2a7596=_0x59ad88[_0x48c0ce(0x242)]['findIndex'](_0x13fa5e=>_0x13fa5e[_0x48c0ce(0x6ee)]===_0x599d51[_0x48c0ce(0x6ee)]);_0x2a7596!==-0x1&&(_0x59ad88[_0x48c0ce(0x242)][_0x2a7596]['triedToSend']=!0x0);let _0x1cdfe1={'$push':{'messagesSend':_0x2cead3},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x5ca668=[{'elem._id':_0x599d51[_0x48c0ce(0x6ee)]}];this['logger']['warn'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20'+_0x599d51[_0x48c0ce(0x6ee)]),_0x13b897=await this[_0x48c0ce(0x2d1)][_0x48c0ce(0x758)][_0x48c0ce(0x171)]({'_id':_0x59ad88[_0x48c0ce(0x6ee)]},_0x1cdfe1,this[_0x48c0ce(0x597)][_0x48c0ce(0x38f)],{'arrayFilters':_0x5ca668});}finally{if(_0x13b897&&_0x13b897[_0x48c0ce(0x77f)]===_0x48c0ce(0x1be)){this[_0x48c0ce(0x671)][_0x48c0ce(0x4d3)](this[_0x48c0ce(0x7ab)]+'\x20('+this[_0x48c0ce(0x597)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x599d51['_id']+_0x48c0ce(0x78d));break;}let _0x3298ef=_0x13b897['messages'][_0x48c0ce(0x44c)](_0x261738=>_0x261738[_0x48c0ce(0x6ee)]===_0x599d51[_0x48c0ce(0x6ee)]);if(_0x3298ef&&!_0x3298ef['triedToSend']){let _0x48078f={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x1d643e=[{'elem._id':_0x599d51['_id']}];await this[_0x48c0ce(0x2d1)][_0x48c0ce(0x758)]['updateOne']({'_id':_0x13b897[_0x48c0ce(0x6ee)]},_0x48078f,this[_0x48c0ce(0x597)][_0x48c0ce(0x38f)],{'arrayFilters':_0x1d643e});}if(this[_0x48c0ce(0x5c3)]=_0x13b897[_0x48c0ce(0x242)]['filter'](_0xf87e30=>!_0xf87e30['triedToSend']),!this['instance'][_0x48c0ce(0x40c)][_0x48c0ce(0x9f)]){await this[_0x48c0ce(0x5f5)](),this['logger'][_0x48c0ce(0x4d3)](this[_0x48c0ce(0x7ab)]+'\x20('+this['instance'][_0x48c0ce(0x38f)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x59ad88[_0x48c0ce(0x6ee)]+_0x48c0ce(0x443));break;}}}this[_0x48c0ce(0x5c3)]=[];let _0x59884f=await this[_0x48c0ce(0x2d1)][_0x48c0ce(0x758)]['findById'](_0x59ad88[_0x48c0ce(0x6ee)],this[_0x48c0ce(0x597)][_0x48c0ce(0x38f)]);if(_0x59884f[_0x48c0ce(0x242)]['every'](_0x486881=>_0x486881['triedToSend'])&&_0x59884f[_0x48c0ce(0x77f)]!=='stopped'){let _0x55aa8b={'$set':{'status':'done'}};await this['repository']['scheduleMessage']['updateOneById'](_0x59884f['_id'],_0x55aa8b,this['instance']['wuid']);}await new Promise(_0x4ce707=>setTimeout(_0x4ce707,_0x2a0af5)),global['gc']?global['gc']():console[_0x48c0ce(0x4d3)](_0x48c0ce(0x3b7));}}[a0_0x1d7ec3(0x241)](_0x278bb0,_0x462a7a){const _0x392b01=a0_0x1d7ec3;return _0x278bb0=Math[_0x392b01(0x7d3)](0.5,_0x278bb0),_0x462a7a=Math[_0x392b01(0x447)](Math[_0x392b01(0x7d3)](0x3,_0x462a7a),0x78),Math[_0x392b01(0x518)](Math[_0x392b01(0x684)]()*(_0x462a7a-_0x278bb0+0x1)+_0x278bb0)*0x3e8;}[a0_0x1d7ec3(0x7be)](_0x1e7a12){return new Promise(_0x518c2a=>setTimeout(_0x518c2a,_0x1e7a12));}async['getVariablesChat'](_0x222aa9){const _0x5b47a9=a0_0x1d7ec3;if(!this['AutomateSystem']&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;_0x222aa9=this[_0x5b47a9(0x339)](_0x222aa9);let _0xf3f2f9=await this[_0x5b47a9(0x2d1)][_0x5b47a9(0x39a)][_0x5b47a9(0x6f0)]({'where':{'_id':_0x222aa9}},this[_0x5b47a9(0x597)][_0x5b47a9(0x38f)]),_0x29b178={};if(_0xf3f2f9&&_0xf3f2f9[_0x5b47a9(0x1b4)]){let _0x4cd415=_0xf3f2f9[_0x5b47a9(0x1b4)];typeof _0x4cd415[_0x5b47a9(0x1c3)]==_0x5b47a9(0x2e7)&&(_0x29b178[_0x5b47a9(0x1c3)]=_0x4cd415[_0x5b47a9(0x1c3)]),typeof _0x4cd415[_0x5b47a9(0x471)]==_0x5b47a9(0x2e7)&&(_0x29b178[_0x5b47a9(0x471)]=_0x4cd415[_0x5b47a9(0x471)]),typeof _0x4cd415[_0x5b47a9(0x280)]==_0x5b47a9(0x2e7)&&(_0x29b178[_0x5b47a9(0x280)]=_0x4cd415[_0x5b47a9(0x280)]),typeof _0x4cd415[_0x5b47a9(0xa2)]=='string'&&(_0x29b178[_0x5b47a9(0xa2)]=_0x4cd415[_0x5b47a9(0xa2)]),typeof _0x4cd415[_0x5b47a9(0x77f)]==_0x5b47a9(0x2e7)&&(_0x29b178[_0x5b47a9(0x77f)]=_0x4cd415[_0x5b47a9(0x77f)]),typeof _0x4cd415['notas']==_0x5b47a9(0x2e7)&&(_0x29b178[_0x5b47a9(0x9c)]=_0x4cd415['notas']),typeof _0x4cd415[_0x5b47a9(0x56f)]==_0x5b47a9(0x2e7)&&(_0x29b178[_0x5b47a9(0x56f)]=_0x4cd415[_0x5b47a9(0x56f)]),Array[_0x5b47a9(0xab)](_0x4cd415[_0x5b47a9(0x7a3)])&&(_0x29b178['tags']=_0x4cd415[_0x5b47a9(0x7a3)][_0x5b47a9(0x7e1)](',\x20')),Array[_0x5b47a9(0xab)](_0x4cd415[_0x5b47a9(0x71d)])&&(_0x29b178[_0x5b47a9(0x71d)]=_0x4cd415[_0x5b47a9(0x71d)]['join'](',\x20'));}return _0xf3f2f9&&_0xf3f2f9['leadInfo']&&_0xf3f2f9[_0x5b47a9(0x1b4)][_0x5b47a9(0x63f)]&&_0xf3f2f9[_0x5b47a9(0x1b4)][_0x5b47a9(0x63f)][_0x5b47a9(0xb2)](_0xa4b4fa=>{const _0x5a4fe3=_0x5b47a9;let _0x332cec=this['AutomateSystem']?.['customFields'][_0x5a4fe3(0x44c)](_0x187c32=>_0x187c32[_0x5a4fe3(0x6ee)]===_0xa4b4fa[_0x5a4fe3(0x6ee)]);_0x332cec&&(_0x29b178[_0x332cec[_0x5a4fe3(0x70c)]]=_0xa4b4fa[_0x5a4fe3(0x491)]);}),_0x29b178;}async[a0_0x1d7ec3(0x40a)](_0x1eb046,_0x4ed12c){const _0x4d8747=a0_0x1d7ec3;try{let _0x575eff=await this['getVariablesChat'](_0x4ed12c);return this[_0x4d8747(0x328)](_0x1eb046,_0x575eff);}catch(_0x36794e){return this[_0x4d8747(0x671)][_0x4d8747(0x6f8)](_0x4d8747(0xf2)+_0x4ed12c+':\x20'+_0x36794e),_0x1eb046;}}async[a0_0x1d7ec3(0x602)](){const _0x337d30=a0_0x1d7ec3;let _0x5d53c9=async(_0x130660,_0x5920ef)=>{const _0x23c546=a0_0x5af0;let _0xb46526=(await this[_0x23c546(0x2d1)][_0x23c546(0x758)][_0x23c546(0x44c)]({'where':{'type':_0x130660}},this[_0x23c546(0x597)]['wuid']))[_0x23c546(0x5c2)](async _0x1b9307=>{const _0x25e006=_0x23c546;let _0x3fcca1=_0x5920ef(_0x1b9307),_0x9d1487=_0x3b5ef2=>/^\d+$/[_0x25e006(0x91)](_0x3b5ef2),_0x4b16e2=_0x1b9307[_0x25e006(0x7bb)][_0x25e006(0x350)](_0x964fe4=>_0x964fe4[_0x25e006(0x34e)](_0x25e006(0x700))?_0x964fe4[_0x25e006(0x387)]>0x19:_0x964fe4[_0x25e006(0x34e)](_0x25e006(0x290))?_0x964fe4[_0x25e006(0x387)]>0xf:_0x9d1487(_0x964fe4)?_0x964fe4[_0x25e006(0x387)]>=0xb:!0x1)[_0x25e006(0x5c2)](_0x17c180=>({'_id':(0x0,Y['v4'])(),'idSchedule':_0x1b9307[_0x25e006(0x6ee)],'type':_0x3fcca1,'remoteJid':_0x17c180,'flow':_0x1b9307[_0x25e006(0x725)],'text':_0x1b9307[_0x25e006(0x3bf)]?.['text'],'delay':_0x1b9307[_0x25e006(0x3bf)]?.[_0x25e006(0x1da)],'urlOrBase64':_0x1b9307[_0x25e006(0x3bf)]?.['urlOrBase64'],'linkPreview':_0x1b9307[_0x25e006(0x3bf)]?.[_0x25e006(0x1c4)],'fileName':_0x1b9307[_0x25e006(0x3bf)]?.[_0x25e006(0x107)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x25e006(0x2d1)][_0x25e006(0x758)][_0x25e006(0x765)](_0x1b9307[_0x25e006(0x6ee)],{'$set':{'messages':_0x4b16e2},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x25e006(0x597)]['wuid']);}catch(_0x3c58a7){console['error'](_0x25e006(0x63e)+_0x1b9307[_0x25e006(0x6ee)]+':',_0x3c58a7);}});await Promise[_0x23c546(0x4f6)](_0xb46526);};await _0x5d53c9(_0x337d30(0x7df),_0x2e3604=>'text'),await _0x5d53c9(_0x337d30(0x800),_0x51fd7b=>_0x51fd7b[_0x337d30(0x3bf)]?.[_0x337d30(0x738)]||_0x337d30(0x800)),await _0x5d53c9(_0x337d30(0x574),_0x25944d=>_0x337d30(0x574)),await _0x5d53c9(_0x337d30(0x251),_0x5b3794=>_0x337d30(0x251)),await _0x5d53c9(_0x337d30(0x77d),_0x35892f=>'image'),await _0x5d53c9(_0x337d30(0x52b),_0x3b3d40=>_0x337d30(0x52b)),await _0x5d53c9('document',_0x5e29ed=>_0x337d30(0x54d)),this['logger'][_0x337d30(0x4d3)](this[_0x337d30(0x7ab)]+'\x20('+this['instance'][_0x337d30(0x38f)]+_0x337d30(0xb6));}async[a0_0x1d7ec3(0x1b5)](_0x1ee22f){const _0x2e9a53=a0_0x1d7ec3;try{if(this[_0x2e9a53(0x671)]['warn'](this[_0x2e9a53(0x7ab)]+'\x20('+this[_0x2e9a53(0x597)][_0x2e9a53(0x38f)]+'):\x20Editando/criando\x20grupo\x20de\x20mensagens...'),_0x1ee22f[_0x2e9a53(0x6ee)]||(_0x1ee22f[_0x2e9a53(0x6ee)]=(0x0,Y['v4'])()),this[_0x2e9a53(0x597)]['ScheduleMessage'][_0x2e9a53(0x9f)]?.[_0x2e9a53(0x6ee)]===_0x1ee22f[_0x2e9a53(0x6ee)]?.[_0x2e9a53(0x125)]()){if(_0x1ee22f[_0x2e9a53(0x77f)]===_0x2e9a53(0x1be))this['instance'][_0x2e9a53(0x40c)][_0x2e9a53(0x9f)]=null;else throw new Error(_0x2e9a53(0x1c0));}if(_0x1ee22f[_0x2e9a53(0x174)]&&_0x1ee22f[_0x2e9a53(0x6ee)]){let _0x1b90ee=await this[_0x2e9a53(0x2d1)]['scheduleMessage'][_0x2e9a53(0x40e)](_0x1ee22f['_id'],this[_0x2e9a53(0x597)][_0x2e9a53(0x38f)]);return setTimeout(()=>this[_0x2e9a53(0x7cc)](),0x7d0),_0x1b90ee;}let _0x499c77=null;if(_0x1ee22f[_0x2e9a53(0x6ee)]&&(_0x499c77=await this[_0x2e9a53(0x2d1)]['scheduleMessage'][_0x2e9a53(0x4dd)](_0x1ee22f[_0x2e9a53(0x6ee)],this[_0x2e9a53(0x597)]['wuid'])),_0x499c77){let {_id:_0x1f623f,owner:_0x91b592,messages:_0x2e73de,..._0x362887}=_0x1ee22f;if(_0x2e73de){let _0x76bb91=_0x2e73de['filter'](_0x1ec818=>!_0x1ec818['_id']),_0x417614=_0x2e73de[_0x2e9a53(0x350)](_0x13759f=>_0x13759f[_0x2e9a53(0x6ee)]&&!_0x13759f[_0x2e9a53(0x174)]),_0x34763a=_0x2e73de[_0x2e9a53(0x350)](_0x560d6b=>_0x560d6b[_0x2e9a53(0x6ee)]&&_0x560d6b[_0x2e9a53(0x174)]);if(_0x76bb91[_0x2e9a53(0x387)]>0x0&&await this[_0x2e9a53(0x9e)](_0x1ee22f[_0x2e9a53(0x6ee)],_0x76bb91),_0x417614[_0x2e9a53(0x387)]>0x0&&await this[_0x2e9a53(0x1d6)]({'_id':_0x1ee22f['_id'],'messages':_0x417614}),_0x34763a[_0x2e9a53(0x387)]>0x0){let _0x21e267=_0x34763a[_0x2e9a53(0x5c2)](_0x3d0e8d=>({'updateOne':{'filter':{'_id':_0x1ee22f[_0x2e9a53(0x6ee)]},'update':{'$pull':{'messages':{'_id':_0x3d0e8d[_0x2e9a53(0x6ee)]}}}}}));await this[_0x2e9a53(0x2d1)][_0x2e9a53(0x758)][_0x2e9a53(0xe4)](_0x21e267,this[_0x2e9a53(0x597)][_0x2e9a53(0x38f)]);}}let _0x57f69c={'$set':{..._0x362887,'status':_0x1ee22f[_0x2e9a53(0x77f)]||_0x499c77[_0x2e9a53(0x77f)]}},_0x51b8a4=await this['repository'][_0x2e9a53(0x758)][_0x2e9a53(0x765)](_0x1ee22f['_id'],_0x57f69c,this[_0x2e9a53(0x597)][_0x2e9a53(0x38f)]);return _0x51b8a4&&(this[_0x2e9a53(0x638)](_0x51b8a4[_0x2e9a53(0x242)]),await this[_0x2e9a53(0x2d1)][_0x2e9a53(0x758)][_0x2e9a53(0x765)](_0x51b8a4[_0x2e9a53(0x6ee)],{'$set':{'messages':_0x51b8a4[_0x2e9a53(0x242)]}},this[_0x2e9a53(0x597)][_0x2e9a53(0x38f)])),setTimeout(()=>this[_0x2e9a53(0x7cc)](),0x7d0),await this[_0x2e9a53(0x602)](),_0x51b8a4;}else{_0x1ee22f[_0x2e9a53(0x31c)]=this['instance'][_0x2e9a53(0x38f)],_0x1ee22f['messages']&&_0x1ee22f[_0x2e9a53(0x242)][_0x2e9a53(0xb2)](_0x440b47=>{const _0x153547=_0x2e9a53;_0x440b47[_0x153547(0x6ee)]||(_0x440b47[_0x153547(0x6ee)]=(0x0,Y['v4'])()),_0x440b47[_0x153547(0x21e)]||(_0x440b47[_0x153547(0x21e)]=_0x1ee22f[_0x153547(0x6ee)]),delete _0x440b47[_0x153547(0x90)];});let _0x1b245e=await this[_0x2e9a53(0x2d1)][_0x2e9a53(0x758)]['createAndSave'](_0x1ee22f,this[_0x2e9a53(0x597)]['wuid']);return _0x1b245e&&(this['reorderMessages'](_0x1b245e['messages']),await this[_0x2e9a53(0x2d1)][_0x2e9a53(0x758)][_0x2e9a53(0x765)](_0x1b245e[_0x2e9a53(0x6ee)],{'$set':{'messages':_0x1b245e['messages']}},this[_0x2e9a53(0x597)][_0x2e9a53(0x38f)])),setTimeout(()=>this[_0x2e9a53(0x7cc)](),0x7d0),_0x1b245e;}}catch(_0x2f593d){let _0x50c74b='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens',_0x29fea=_0x2f593d instanceof Error?_0x2f593d['message']:typeof _0x2f593d==_0x2e9a53(0x4b9)?JSON[_0x2e9a53(0x115)](_0x2f593d):_0x2f593d,_0x557cda=_0x50c74b+':\x20'+_0x29fea;throw this[_0x2e9a53(0x671)][_0x2e9a53(0x6f8)](this[_0x2e9a53(0x7ab)]+'\x20('+this[_0x2e9a53(0x597)][_0x2e9a53(0x38f)]+_0x2e9a53(0x84)+_0x557cda),new m(_0x557cda);}}async[a0_0x1d7ec3(0x9e)](_0x488db8,_0x326ef7){const _0x495ac5=a0_0x1d7ec3;try{this[_0x495ac5(0x671)][_0x495ac5(0x244)](this[_0x495ac5(0x7ab)]+'\x20('+this['instance'][_0x495ac5(0x38f)]+_0x495ac5(0x51c)),_0x326ef7[_0x495ac5(0xb2)](_0x11f729=>{const _0x4cd912=_0x495ac5;_0x11f729[_0x4cd912(0x6ee)]||(_0x11f729[_0x4cd912(0x6ee)]=(0x0,Y['v4'])()),_0x11f729[_0x4cd912(0x21e)]||(_0x11f729[_0x4cd912(0x21e)]=_0x488db8),delete _0x11f729[_0x4cd912(0x90)];});let _0x581d85={'$push':{'messages':{'$each':_0x326ef7}}},_0xda3d9=await this[_0x495ac5(0x2d1)]['scheduleMessage'][_0x495ac5(0x765)](_0x488db8,_0x581d85,this['instance'][_0x495ac5(0x38f)]);return _0xda3d9&&(this[_0x495ac5(0x638)](_0xda3d9['messages']),await this[_0x495ac5(0x2d1)][_0x495ac5(0x758)][_0x495ac5(0x765)](_0xda3d9['_id'],{'$set':{'messages':_0xda3d9[_0x495ac5(0x242)]}},this[_0x495ac5(0x597)][_0x495ac5(0x38f)])),_0xda3d9;}catch(_0x5a985b){let _0x5b6bf4=_0x495ac5(0x57d),_0x4d3013=_0x5a985b instanceof Error?_0x5a985b[_0x495ac5(0x3bf)]:typeof _0x5a985b==_0x495ac5(0x4b9)?JSON['stringify'](_0x5a985b):_0x5a985b,_0x206dda=_0x5b6bf4+':\x20'+_0x4d3013;throw this['logger']['error'](this[_0x495ac5(0x7ab)]+'\x20('+this['instance']['wuid']+_0x495ac5(0x84)+_0x206dda),new m(_0x206dda);}}async['editMessagesInGroup'](_0x153604){const _0x5a70f5=a0_0x1d7ec3;try{if(this[_0x5a70f5(0x671)][_0x5a70f5(0x244)](this['instanceName']+'\x20('+this['instance'][_0x5a70f5(0x38f)]+_0x5a70f5(0x31f)),!_0x153604[_0x5a70f5(0x6ee)]||!_0x153604[_0x5a70f5(0x242)])throw new Error(_0x5a70f5(0x390));let _0x53db5b=_0x153604[_0x5a70f5(0x6ee)],_0x548804=_0x153604['messages'],_0x125b2d=_0x548804[_0x5a70f5(0x350)](_0x1e381b=>!_0x1e381b['delete'])[_0x5a70f5(0x5c2)](_0xa956b3=>{const _0x44f5da=_0x5a70f5;let _0x1c2f96=_0xa956b3[_0x44f5da(0x6ee)];if(!_0x1c2f96)throw new Error(_0x44f5da(0x433));return _0xa956b3[_0x44f5da(0x21e)]||(_0xa956b3['idSchedule']=_0x53db5b),delete _0xa956b3[_0x44f5da(0x90)],{'updateOne':{'filter':{'_id':_0x53db5b,'messages._id':_0x1c2f96},'update':{'$set':{'messages.$[elem]':_0xa956b3}},'arrayFilters':[{'elem._id':_0x1c2f96}]}};}),_0x260d10=_0x548804[_0x5a70f5(0x350)](_0x547ab7=>_0x547ab7[_0x5a70f5(0x174)])[_0x5a70f5(0x5c2)](_0x4a09db=>{const _0x5538ff=_0x5a70f5;let _0x37a6a7=_0x4a09db[_0x5538ff(0x6ee)];if(!_0x37a6a7)throw new Error(_0x5538ff(0x292));return{'updateOne':{'filter':{'_id':_0x53db5b},'update':{'$pull':{'messages':{'_id':_0x37a6a7}}}}};}),_0x354499=[..._0x125b2d,..._0x260d10],_0x474de3=await this[_0x5a70f5(0x2d1)]['scheduleMessage']['bulkWrite'](_0x354499,this[_0x5a70f5(0x597)][_0x5a70f5(0x38f)]),_0x295e05=await this[_0x5a70f5(0x2d1)]['scheduleMessage'][_0x5a70f5(0x4dd)](_0x53db5b,this[_0x5a70f5(0x597)][_0x5a70f5(0x38f)]);return _0x295e05&&(this[_0x5a70f5(0x638)](_0x295e05[_0x5a70f5(0x242)]),await this[_0x5a70f5(0x2d1)][_0x5a70f5(0x758)][_0x5a70f5(0x765)](_0x295e05['_id'],{'$set':{'messages':_0x295e05[_0x5a70f5(0x242)]}},this[_0x5a70f5(0x597)][_0x5a70f5(0x38f)])),_0x295e05;}catch(_0x3eb8ac){let _0x30c98d=_0x5a70f5(0x41d),_0xe23dd=_0x3eb8ac instanceof Error?_0x3eb8ac[_0x5a70f5(0x3bf)]:typeof _0x3eb8ac=='object'?JSON[_0x5a70f5(0x115)](_0x3eb8ac):_0x3eb8ac,_0x3c2dfd=_0x30c98d+':\x20'+_0xe23dd;throw this[_0x5a70f5(0x671)][_0x5a70f5(0x6f8)](this[_0x5a70f5(0x7ab)]+'\x20('+this[_0x5a70f5(0x597)][_0x5a70f5(0x38f)]+'):\x20'+_0x3c2dfd),new m(_0x3c2dfd);}}async[a0_0x1d7ec3(0x85)](){const _0x31fda0=a0_0x1d7ec3;try{let _0x2411c8={'status':_0x31fda0(0x4c5)},_0x561534=await this[_0x31fda0(0x2d1)][_0x31fda0(0x758)][_0x31fda0(0x7b3)](_0x2411c8,this['instance'][_0x31fda0(0x38f)]);if(!_0x561534[_0x31fda0(0x6f8)])this[_0x31fda0(0x671)][_0x31fda0(0x244)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.');else throw new Error(_0x561534['error'][_0x31fda0(0x3bf)]||'Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens');return this[_0x31fda0(0x3b3)]();}catch(_0x549072){let _0x31b6dd=_0x31fda0(0x7a5),_0x1ce319=_0x549072 instanceof Error?_0x549072['message']:typeof _0x549072==_0x31fda0(0x4b9)?JSON[_0x31fda0(0x115)](_0x549072):_0x549072,_0xd0ba6a=_0x31b6dd+':\x20'+_0x1ce319;throw this[_0x31fda0(0x671)][_0x31fda0(0x6f8)](this[_0x31fda0(0x7ab)]+'\x20('+this['instance'][_0x31fda0(0x38f)]+_0x31fda0(0x84)+_0xd0ba6a),new m(_0xd0ba6a);}}async[a0_0x1d7ec3(0x3b3)](){const _0x37bee7=a0_0x1d7ec3;try{return await this[_0x37bee7(0x2d1)]['scheduleMessage'][_0x37bee7(0x44c)]({'where':{}},this[_0x37bee7(0x597)][_0x37bee7(0x38f)]);}catch(_0x35da54){let _0x51cd12=_0x37bee7(0x6fe),_0x1dd0db=_0x35da54 instanceof Error?_0x35da54[_0x37bee7(0x3bf)]:typeof _0x35da54==_0x37bee7(0x4b9)?JSON[_0x37bee7(0x115)](_0x35da54):_0x35da54,_0x3408ab=_0x51cd12+':\x20'+_0x1dd0db;throw this[_0x37bee7(0x671)]['error'](this[_0x37bee7(0x7ab)]+'\x20('+this[_0x37bee7(0x597)][_0x37bee7(0x38f)]+_0x37bee7(0x84)+_0x3408ab),new m(_0x3408ab);}}[a0_0x1d7ec3(0x638)](_0x35d76b){const _0x2affe1=a0_0x1d7ec3;_0x35d76b[_0x2affe1(0x3d4)]((_0x115cef,_0xa51737)=>_0x115cef[_0x2affe1(0x381)]-_0xa51737[_0x2affe1(0x381)]),_0x35d76b[_0x2affe1(0xb2)]((_0x342601,_0x3b66d4)=>{const _0x1a4bea=_0x2affe1;_0x342601[_0x1a4bea(0x381)]=_0x3b66d4+0x1;});}async[a0_0x1d7ec3(0x12f)](_0x980e2e,_0x415225){const _0x235b1c=a0_0x1d7ec3;try{if(!_0x415225)return this[_0x235b1c(0x671)]['error'](this[_0x235b1c(0x7ab)]+'\x20('+this[_0x235b1c(0x597)]['wuid']+'):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio'),{'error':!0x0,'detail':_0x235b1c(0x143)};if(_0x415225[_0x235b1c(0x7c9)]===_0x235b1c(0x251)&&!this[_0x235b1c(0x7ac)]?.['flowConfig'][_0x235b1c(0x5e4)])return this[_0x235b1c(0x671)][_0x235b1c(0x6f8)](this[_0x235b1c(0x7ab)]+'\x20('+this['instance'][_0x235b1c(0x38f)]+_0x235b1c(0x27b)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x415225[_0x235b1c(0x7c9)]){case _0x235b1c(0x7df):return await this[_0x235b1c(0x58e)](_0x415225,_0x980e2e);case _0x235b1c(0x52b):case _0x235b1c(0x77d):case _0x235b1c(0x54d):return await this[_0x235b1c(0x539)](_0x415225,_0x980e2e);case'audio':return await this[_0x235b1c(0x1e9)](_0x415225,_0x980e2e);case _0x235b1c(0x251):let _0x29e266=new We();return _0x29e266[_0x235b1c(0x70c)]=_0x415225[_0x235b1c(0x251)],_0x29e266[_0x235b1c(0x9d)]=_0x980e2e,await this[_0x235b1c(0x582)](_0x29e266);default:return this['logger'][_0x235b1c(0x6f8)](this[_0x235b1c(0x7ab)]+'\x20('+this[_0x235b1c(0x597)][_0x235b1c(0x38f)]+'):\x20Comando\x20desconhecido:\x20'+_0x415225['type']),{'error':!0x0,'detail':_0x235b1c(0x162)};}}catch(_0x44a5c1){return this[_0x235b1c(0x671)][_0x235b1c(0x6f8)](this[_0x235b1c(0x7ab)]+'\x20('+this[_0x235b1c(0x597)]['wuid']+_0x235b1c(0x6be)+(_0x44a5c1 instanceof Error?_0x44a5c1[_0x235b1c(0x3bf)]:JSON['stringify'](_0x44a5c1,null,0x2))),{'error':!0x0,'detail':_0x44a5c1[_0x235b1c(0x3bf)]};}}async[a0_0x1d7ec3(0x58e)](_0x224183,_0x2dd92d){const _0x2f1751=a0_0x1d7ec3;if(this[_0x2f1751(0x671)][_0x2f1751(0x244)](this[_0x2f1751(0x7ab)]+'\x20('+this['instance'][_0x2f1751(0x38f)]+_0x2f1751(0x3e1)+_0x2dd92d+'\x27'),!_0x224183[_0x2f1751(0x7df)]||_0x224183[_0x2f1751(0x7df)][_0x2f1751(0x387)]===0x0)return{'error':!0x0,'detail':_0x2f1751(0x3cd)};let _0x984b14=await this[_0x2f1751(0x40a)](_0x224183[_0x2f1751(0x7df)],_0x2dd92d),_0x50369c={'number':_0x2dd92d,'options':{'delay':_0x224183[_0x2f1751(0x1da)],'linkPreview':_0x224183[_0x2f1751(0x1c4)]},'textMessage':{'text':_0x984b14}},_0x4e92a0=null;try{let _0x273bfb=await this['textMessage'](_0x50369c);if(_0x273bfb&&_0x273bfb[_0x2f1751(0x77f)])return{'error':!0x1,'id':_0x273bfb[_0x2f1751(0x7e8)]['id']};_0x4e92a0=JSON[_0x2f1751(0x115)](_0x273bfb),this[_0x2f1751(0x671)][_0x2f1751(0x244)](this['instanceName']+'\x20('+this[_0x2f1751(0x597)][_0x2f1751(0x38f)]+_0x2f1751(0x84)+_0x4e92a0);}catch(_0x1d7f88){this[_0x2f1751(0x671)][_0x2f1751(0x6f8)](this[_0x2f1751(0x7ab)]+'\x20('+this['instance'][_0x2f1751(0x38f)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x1d7f88 instanceof Error?_0x1d7f88[_0x2f1751(0x3bf)]:JSON[_0x2f1751(0x115)](_0x1d7f88,null,0x2))),_0x4e92a0=_0x1d7f88['message'];}if(_0x4e92a0)return{'error':!0x0,'detail':(typeof _0x4e92a0==_0x2f1751(0x4b9)?JSON[_0x2f1751(0x115)](_0x4e92a0,null,0x2):_0x4e92a0)[_0x2f1751(0x404)](/[\[\]{}\n]/g,'\x20')[_0x2f1751(0x404)](/  +/g,'\x20')};}async[a0_0x1d7ec3(0x539)](_0x32ab39,_0x4bbee1){const _0x4eb8e5=a0_0x1d7ec3;this[_0x4eb8e5(0x671)][_0x4eb8e5(0x244)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4eb8e5(0x649)+_0x4bbee1+'\x27');let _0x43b349;_0x32ab39[_0x4eb8e5(0x7df)]&&_0x32ab39['text'][_0x4eb8e5(0x387)]>0x0&&(_0x43b349=await this[_0x4eb8e5(0x40a)](_0x32ab39[_0x4eb8e5(0x7df)],_0x4bbee1));let _0x137598={'number':_0x4bbee1,'options':{'delay':_0x32ab39[_0x4eb8e5(0x1da)],'linkPreview':_0x32ab39['linkPreview']},'mediaMessage':{'mediatype':_0x32ab39[_0x4eb8e5(0x7c9)],'caption':_0x43b349,'media':_0x32ab39[_0x4eb8e5(0x209)]}},_0x4f231f=null;try{let _0x25f25c=await this[_0x4eb8e5(0x210)](_0x137598);if(_0x25f25c&&_0x25f25c['status'])return{'error':!0x1,'id':_0x25f25c[_0x4eb8e5(0x7e8)]['id']};_0x4f231f=JSON[_0x4eb8e5(0x115)](_0x25f25c),this[_0x4eb8e5(0x671)]['verbose'](this['instanceName']+'\x20('+this[_0x4eb8e5(0x597)][_0x4eb8e5(0x38f)]+'):\x20'+_0x4f231f);}catch(_0x3de9ba){this[_0x4eb8e5(0x671)][_0x4eb8e5(0x6f8)](this[_0x4eb8e5(0x7ab)]+'\x20('+this['instance'][_0x4eb8e5(0x38f)]+_0x4eb8e5(0x1e3)+(_0x3de9ba instanceof Error?_0x3de9ba[_0x4eb8e5(0x3bf)]:JSON[_0x4eb8e5(0x115)](_0x3de9ba,null,0x2))),_0x4f231f=_0x3de9ba['message'];}if(_0x4f231f)return{'error':!0x0,'detail':(typeof _0x4f231f=='object'?JSON[_0x4eb8e5(0x115)](_0x4f231f,null,0x2):_0x4f231f)[_0x4eb8e5(0x404)](/[\[\]{}\n]/g,'\x20')[_0x4eb8e5(0x404)](/  +/g,'\x20')};}async[a0_0x1d7ec3(0x1e9)](_0x2fd254,_0x4e87c8){const _0x184bc8=a0_0x1d7ec3;this[_0x184bc8(0x671)][_0x184bc8(0x244)](this[_0x184bc8(0x7ab)]+'\x20('+this[_0x184bc8(0x597)][_0x184bc8(0x38f)]+'):\x20\x27Enviando\x20audio\x20para\x20\x27'+_0x4e87c8+'\x27');let _0x3b4710={'number':_0x4e87c8,'options':{'delay':_0x2fd254[_0x184bc8(0x1da)]},'audioMessage':{'audio':_0x2fd254[_0x184bc8(0x209)]}},_0xa953c3=null;try{let _0x3878c0=await this[_0x184bc8(0x54c)](_0x3b4710);if(_0x3878c0&&_0x3878c0[_0x184bc8(0x77f)])return{'error':!0x1,'id':_0x3878c0[_0x184bc8(0x7e8)]['id']};_0xa953c3=JSON[_0x184bc8(0x115)](_0x3878c0),this['logger'][_0x184bc8(0x244)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x184bc8(0x84)+_0xa953c3);}catch(_0x2f6b3b){this['logger'][_0x184bc8(0x6f8)](this['instanceName']+'\x20('+this[_0x184bc8(0x597)][_0x184bc8(0x38f)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x2f6b3b instanceof Error?_0x2f6b3b['message']:JSON[_0x184bc8(0x115)](_0x2f6b3b,null,0x2))),_0xa953c3=_0x2f6b3b[_0x184bc8(0x3bf)];}if(_0xa953c3)return{'error':!0x0,'detail':(typeof _0xa953c3==_0x184bc8(0x4b9)?JSON[_0x184bc8(0x115)](_0xa953c3,null,0x2):_0xa953c3)[_0x184bc8(0x404)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x1d7ec3(0x5d0)](_0x5572cf){const _0x2df1d6=a0_0x1d7ec3;try{return await this[_0x2df1d6(0x38a)]['groupUpdateDescription'](_0x5572cf[_0x2df1d6(0x168)],_0x5572cf[_0x2df1d6(0x675)]),{'update':_0x2df1d6(0x38e)};}catch(_0xa076e0){let _0x88669=_0x2df1d6(0x7b2),_0x4d91ac=_0xa076e0 instanceof Error?_0xa076e0[_0x2df1d6(0x3bf)]:typeof _0xa076e0==_0x2df1d6(0x4b9)?JSON[_0x2df1d6(0x115)](_0xa076e0):_0xa076e0,_0x252be6=_0x88669+':\x20'+_0x4d91ac;throw this[_0x2df1d6(0x671)][_0x2df1d6(0x6f8)](this[_0x2df1d6(0x7ab)]+'\x20('+this[_0x2df1d6(0x597)]['wuid']+_0x2df1d6(0x84)+_0x252be6),new x(_0x252be6);}}async[a0_0x1d7ec3(0x438)](_0x4664f7){const _0x241b09=a0_0x1d7ec3;try{return await this[_0x241b09(0x38a)][_0x241b09(0x6cc)](_0x4664f7['groupJid'],_0x4664f7[_0x241b09(0x70c)]),{'update':'success'};}catch(_0xf96692){let _0x222dbc=_0x241b09(0x630),_0xec0828=_0xf96692 instanceof Error?_0xf96692[_0x241b09(0x3bf)]:typeof _0xf96692=='object'?JSON['stringify'](_0xf96692):_0xf96692,_0x571e67=_0x222dbc+':\x20'+_0xec0828;throw this['logger'][_0x241b09(0x6f8)](this[_0x241b09(0x7ab)]+'\x20('+this[_0x241b09(0x597)]['wuid']+'):\x20'+_0x571e67),new x(_0x571e67);}}async[a0_0x1d7ec3(0x66a)](_0x3b8676){const _0x3b40f1=a0_0x1d7ec3;try{let _0x502b9b=await this[_0x3b40f1(0x38a)][_0x3b40f1(0x201)](_0x3b8676[_0x3b40f1(0x168)],_0x3b8676[_0x3b40f1(0x28c)]);return{'success':!0x0};}catch(_0x5b3d61){let _0x5b6cc5=_0x3b40f1(0x759),_0x316bdf=_0x5b3d61 instanceof Error?_0x5b3d61[_0x3b40f1(0x3bf)]:typeof _0x5b3d61=='object'?JSON['stringify'](_0x5b3d61):_0x5b3d61,_0x3fd663=_0x5b6cc5+':\x20'+_0x316bdf;throw this[_0x3b40f1(0x671)]['error'](this['instanceName']+'\x20('+this[_0x3b40f1(0x597)][_0x3b40f1(0x38f)]+_0x3b40f1(0x84)+_0x3fd663),new x(_0x3fd663);}}async[a0_0x1d7ec3(0x6c8)](_0x2f3782){const _0x5e9f51=a0_0x1d7ec3;try{return await this[_0x5e9f51(0x38a)][_0x5e9f51(0x553)](_0x2f3782['groupJid'],_0x2f3782['setting']),{'update':_0x5e9f51(0x38e)};}catch(_0x4ac38a){let _0xb8eae9=_0x5e9f51(0x37c),_0x1d62ca=_0x4ac38a instanceof Error?_0x4ac38a[_0x5e9f51(0x3bf)]:typeof _0x4ac38a==_0x5e9f51(0x4b9)?JSON['stringify'](_0x4ac38a):_0x4ac38a,_0x37b2f1=_0xb8eae9+':\x20'+_0x1d62ca;throw this[_0x5e9f51(0x671)]['error'](this['instanceName']+'\x20('+this[_0x5e9f51(0x597)]['wuid']+_0x5e9f51(0x84)+_0x37b2f1),new x(_0x37b2f1);}}async['updateGroupPicture'](_0x4210dc){const _0x5376ac=a0_0x1d7ec3;try{let _0x3452ee;if((0x0,J[_0x5376ac(0x295)])(_0x4210dc[_0x5376ac(0x77d)])){let _0x628c2d=new Date()['getTime'](),_0x1c753b=_0x4210dc[_0x5376ac(0x77d)]+'?timestamp='+_0x628c2d;_0x3452ee=(await Q[_0x5376ac(0x1af)]['get'](_0x1c753b,{'responseType':_0x5376ac(0x305)}))[_0x5376ac(0x470)];}else{if((0x0,J[_0x5376ac(0x4b2)])(_0x4210dc[_0x5376ac(0x77d)]))_0x3452ee=Buffer['from'](_0x4210dc[_0x5376ac(0x77d)],_0x5376ac(0x4f4));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client'][_0x5376ac(0x714)](_0x4210dc[_0x5376ac(0x168)],_0x3452ee),{'update':_0x5376ac(0x38e)};}catch(_0x29caa4){let _0x559646=_0x5376ac(0x1ca),_0x3ef7f5=_0x29caa4 instanceof Error?_0x29caa4[_0x5376ac(0x3bf)]:typeof _0x29caa4==_0x5376ac(0x4b9)?JSON[_0x5376ac(0x115)](_0x29caa4):_0x29caa4,_0x1fa9a1=_0x559646+':\x20'+_0x3ef7f5;throw this[_0x5376ac(0x671)][_0x5376ac(0x6f8)](this[_0x5376ac(0x7ab)]+'\x20('+this['instance'][_0x5376ac(0x38f)]+_0x5376ac(0x84)+_0x1fa9a1),new x(_0x1fa9a1);}}},jt=class u{constructor(_0x27c3a9,_0x40e7af,_0x3775ec){const _0x158a88=a0_0x1d7ec3;this[_0x158a88(0x608)]=_0x27c3a9,this[_0x158a88(0x75a)]=_0x40e7af,this['repository']=_0x3775ec,this['db']={},this[_0x158a88(0x37b)]={},this[_0x158a88(0x671)]=new $(u[_0x158a88(0x70c)]),this['waInstances']={},(this[_0x158a88(0x258)](),this[_0x158a88(0x23d)](),Object[_0x158a88(0x790)](this['db'],_0x40e7af[_0x158a88(0x332)](_0x158a88(0x220))),Object[_0x158a88(0x790)](this[_0x158a88(0x37b)],_0x40e7af[_0x158a88(0x332)](_0x158a88(0x6b4))),this[_0x158a88(0x7f9)]=this['db'][_0x158a88(0x7ff)]?this[_0x158a88(0x2d1)]['dbServer']?.['db'](this['db'][_0x158a88(0x4f9)]['DB_PREFIX_NAME']+'-instances'):void 0x0,this['cache']=this[_0x158a88(0x37b)][_0x158a88(0x7ff)]?new pe(this[_0x158a88(0x37b)]):void 0x0);}async[a0_0x1d7ec3(0x2df)](_0x5a6771){const _0x58fd91=a0_0x1d7ec3;if(_0x5a6771&&!this[_0x58fd91(0x337)][_0x5a6771])throw new U(_0x58fd91(0x204)+_0x5a6771+'\x22\x20not\x20found');let _0x2dc8f5=[];for await(let [_0x3b44d2,_0x35e8d7]of Object[_0x58fd91(0x1c2)](this[_0x58fd91(0x337)]))if(_0x35e8d7&&_0x35e8d7[_0x58fd91(0x21b)][_0x58fd91(0x44a)]===_0x58fd91(0xb0)){let _0x54acc1=await this[_0x58fd91(0x2d1)]['auth'][_0x58fd91(0x44c)](_0x3b44d2);_0x2dc8f5[_0x58fd91(0x1fc)]({'instance':{'instanceName':_0x3b44d2,'apikey':_0x54acc1['apikey'],'owner':_0x35e8d7[_0x58fd91(0x38f)],'profileName':await _0x35e8d7['getProfileName']()||'not\x20loaded','profilePictureUrl':_0x35e8d7[_0x58fd91(0x32a)]}});}return _0x2dc8f5[_0x58fd91(0x44c)](_0x404af3=>_0x404af3[_0x58fd91(0x597)]['instanceName']===_0x5a6771)??_0x2dc8f5;}async[a0_0x1d7ec3(0x248)](_0x64e02c){const _0x48a5ad=a0_0x1d7ec3;if(this['db'][_0x48a5ad(0x7ff)]&&(await this[_0x48a5ad(0x2d1)][_0x48a5ad(0x2dc)][_0x48a5ad(0x485)](),(await this['dbInstance'][_0x48a5ad(0x1a5)]())[_0x48a5ad(0x387)]>0x0&&await this['dbInstance'][_0x48a5ad(0x7ec)](_0x64e02c)),this[_0x48a5ad(0x37b)]['ENABLED']){this[_0x48a5ad(0x662)]['reference']=_0x64e02c,await this[_0x48a5ad(0x662)][_0x48a5ad(0x3d5)]();return;}}async['loadInstance'](){const _0x411f6f=a0_0x1d7ec3;await this[_0x411f6f(0x64b)]();let _0x43f993=async _0x5a119f=>{const _0x3e9e9f=_0x411f6f;let _0x4117c8=new $e(this[_0x3e9e9f(0x75a)],this[_0x3e9e9f(0x608)],this[_0x3e9e9f(0x2d1)]);_0x4117c8[_0x3e9e9f(0x7ab)]=_0x5a119f,await _0x4117c8[_0x3e9e9f(0x246)](),this[_0x3e9e9f(0x337)][_0x5a119f]=_0x4117c8;};try{if(this['redis'][_0x411f6f(0x7ff)]){let _0x56c825=await this[_0x411f6f(0x662)]['instanceKeys']();_0x56c825?.[_0x411f6f(0x387)]>0x0&&_0x56c825[_0x411f6f(0xb2)](async _0xfd825e=>await _0x43f993(_0xfd825e['split'](':')[0x1]));return;}if(this['db'][_0x411f6f(0x7ff)]){await this[_0x411f6f(0x2d1)][_0x411f6f(0x2dc)]['connect']();let _0x373911=await this[_0x411f6f(0x7f9)][_0x411f6f(0x1a5)]();_0x373911[_0x411f6f(0x387)]>0x0&&_0x373911['forEach'](async _0x580c71=>await _0x43f993(_0x580c71[_0x411f6f(0xbd)][_0x411f6f(0x404)](/^[\w-]+\./,'')));return;}}catch(_0x72e324){this[_0x411f6f(0x671)][_0x411f6f(0x6f8)](_0x72e324);}}async[a0_0x1d7ec3(0x35e)](){const _0x24d921=a0_0x1d7ec3;try{let _0x2f7d36=await this[_0x24d921(0x2d1)][_0x24d921(0x544)]['findMany']({'online':!0x1});for(let _0x512df6 of _0x2f7d36){let _0x67a357=_0x512df6['_id'];await ae[_0x24d921(0x5e7)](B,_0x67a357);}console[_0x24d921(0xa6)](_0x24d921(0x37a)+_0x2f7d36[_0x24d921(0x387)]);let _0x5e943e={'online':!0x1},_0x20377c=await this[_0x24d921(0x2d1)][_0x24d921(0x544)]['deleteMany'](_0x5e943e);console[_0x24d921(0xa6)]('Instâncias\x20removidas:\x20'+_0x20377c[_0x24d921(0x71a)]);}catch(_0x3bb1cb){console[_0x24d921(0x6f8)](_0x24d921(0x4e7),_0x3bb1cb);}}async[a0_0x1d7ec3(0x64b)](){const _0x2f0fa8=a0_0x1d7ec3;try{let _0x458b33={'online':!0x1},_0x19b9d6={'online':!0x1,'lastDisconnect':Date[_0x2f0fa8(0xe6)]()},_0x56c8da=await this[_0x2f0fa8(0x2d1)][_0x2f0fa8(0x544)][_0x2f0fa8(0x5a1)](_0x458b33,_0x19b9d6);await this[_0x2f0fa8(0x35e)]();}catch(_0x8e908d){console[_0x2f0fa8(0x6f8)](_0x2f0fa8(0x5ec),_0x8e908d);}}[a0_0x1d7ec3(0x258)](){const _0x560f7d=a0_0x1d7ec3;this[_0x560f7d(0x608)]['on']('remove.instance',async _0x403e9f=>{const _0x5a572f=_0x560f7d;try{this[_0x5a572f(0x337)][_0x403e9f]=void 0x0;}catch{}try{this[_0x5a572f(0x248)](_0x403e9f);}finally{this[_0x5a572f(0x671)][_0x5a572f(0x4d3)](_0x5a572f(0x204)+_0x403e9f+'\x22\x20-\x20REMOVED');}});}[a0_0x1d7ec3(0x23d)](){const _0x58fae3=a0_0x1d7ec3;this[_0x58fae3(0x608)]['on']('no.connection',async _0x5646a9=>{const _0xac8e17=_0x58fae3;try{this[_0xac8e17(0x337)][_0x5646a9]=void 0x0;}catch{}try{this[_0xac8e17(0x248)](_0x5646a9);}finally{this['logger'][_0xac8e17(0x4d3)](_0xac8e17(0x204)+_0x5646a9+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Jt=class extends _{[a0_0x1d7ec3(0x327)](_0x1bf500){return ta(_0x1bf500);}async['insert'](_0x1f5782){const _0x3e97a0=a0_0x1d7ec3;if(_0x1f5782[_0x3e97a0(0x387)]!==0x0)try{return{'insertCount':(await this[_0x3e97a0(0x327)](_0x1f5782[0x0]['owner'])[_0x3e97a0(0x7ea)]([..._0x1f5782]))[_0x3e97a0(0x387)]};}catch(_0x2ee0e0){return _0x2ee0e0;}}async[a0_0x1d7ec3(0x44c)](_0x2297f0,_0x17909e){const _0x5df458=a0_0x1d7ec3;try{let _0x32baac=this[_0x5df458(0x327)](_0x17909e),_0x71a8cc=A(_0x2297f0['where']);return await _0x32baac[_0x5df458(0x44c)](_0x71a8cc)[_0x5df458(0x3d4)]({'lastmsg':-0x1})['limit'](_0x2297f0?.['limit']??0x0)['lean']();}catch{return[];}}async['findGroupsEspecial'](_0x50b388,_0x4bd39d){const _0x433bdc=a0_0x1d7ec3;try{let _0xef1f82=this[_0x433bdc(0x327)](_0x4bd39d),_0x34f300=A(_0x50b388[_0x433bdc(0x2f7)]);return _0x34f300[_0x433bdc(0x552)]={'$ne':[]},await _0xef1f82['find'](_0x34f300)[_0x433bdc(0x3d4)]({'lastmsg':-0x1})[_0x433bdc(0x48d)](_0x50b388?.['limit']??0x0)['lean']();}catch{return[];}}async['delete'](_0x154691,_0x371cff){const _0x34497b=a0_0x1d7ec3;try{return{'deletedCount':(await this[_0x34497b(0x327)](_0x371cff)[_0x34497b(0x7b3)]({..._0x154691['where']}))[_0x34497b(0x78a)]};}catch(_0x2a5f4d){return{'error':_0x2a5f4d?.['toString']()};}}async['deleteAll'](_0x1d84a0,_0x1342ea){const _0x3a5bbc=a0_0x1d7ec3;try{return await this[_0x3a5bbc(0x327)](_0x1342ea)[_0x3a5bbc(0x7b3)]({..._0x1d84a0[_0x3a5bbc(0x2f7)]}),[];}catch(_0xefcd50){return{'error':_0xefcd50?.[_0x3a5bbc(0x125)]()};}}async[a0_0x1d7ec3(0x6f0)](_0xe7e148,_0x30b14d){const _0x1594c1=a0_0x1d7ec3;try{let _0x5e3057=this['getChatModelForOwner'](_0x30b14d),_0x1e03eb=A(_0xe7e148['where']);return await _0x5e3057[_0x1594c1(0x6f0)](_0x1e03eb)[_0x1594c1(0x573)]();}catch{return null;}}async['updateOne'](_0x38736d,_0x162104,_0x4fd9de,_0x16a74b,_0x6ceac1=a0_0x1d7ec3(0x578)){const _0x161730=a0_0x1d7ec3;try{let _0x24c8cd={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x16a74b},_0x218e32=this[_0x161730(0x327)](_0x4fd9de),_0x202a10=A(_0x38736d[_0x161730(0x2f7)]);Object[_0x161730(0x29b)](_0x162104)['forEach'](_0x1535dd=>{_0x162104[_0x1535dd]==null&&delete _0x162104[_0x1535dd];});let _0x2a7ebe={};return _0x2a7ebe[_0x6ceac1]=_0x162104,await _0x218e32[_0x161730(0x547)](_0x202a10,_0x2a7ebe,_0x24c8cd);}catch(_0x25d2f2){return console[_0x161730(0x6f8)](_0x25d2f2),null;}}async[a0_0x1d7ec3(0x3d6)](_0xb8ccfd){const _0x1c3b1f=a0_0x1d7ec3;try{let _0x23cd44=this[_0x1c3b1f(0x327)](_0xb8ccfd[0x0][_0x1c3b1f(0x4c9)]['where'][_0x1c3b1f(0x31c)]),_0x1164a0=_0xb8ccfd[_0x1c3b1f(0x5c2)](_0xd8d75=>({'updateOne':{'filter':{..._0xd8d75[_0x1c3b1f(0x4c9)][_0x1c3b1f(0x2f7)]},'update':{'$set':_0xd8d75[_0x1c3b1f(0x6c4)]},'upsert':!0x0}})),_0x1d2dc6=await _0x23cd44['bulkWrite'](_0x1164a0);return _0x1d2dc6[_0x1c3b1f(0x4ff)]+_0x1d2dc6[_0x1c3b1f(0x172)];}catch(_0x5df1d5){return console[_0x1c3b1f(0x6f8)](_0x5df1d5),0x0;}}async[a0_0x1d7ec3(0x78c)](_0x464064){const _0x5c72cc=a0_0x1d7ec3;try{let _0x83b078={'group_isCommunity':'','group_announce':'','group_size':''},_0x1d213e={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x2dc2e6={'$unset':_0x83b078};return(await this[_0x5c72cc(0x327)](_0x464064)['updateMany'](_0x1d213e,_0x2dc2e6))[_0x5c72cc(0x4ff)];}catch(_0x11a0a0){return console[_0x5c72cc(0x6f8)](_0x5c72cc(0x7b1),_0x11a0a0),0x0;}}async[a0_0x1d7ec3(0x46e)](_0x11d2d3){const _0x21ade9=a0_0x1d7ec3;try{let _0x346e42=this[_0x21ade9(0x327)](_0x11d2d3),_0xc0691a={'leadInfo.etiquetas':{'$exists':!0x1}},_0x2cf8b1={'$set':{'leadInfo.etiquetas':[]}};return(await _0x346e42[_0x21ade9(0x3d6)](_0xc0691a,_0x2cf8b1))[_0x21ade9(0x4ff)];}catch(_0x4696c6){return console[_0x21ade9(0x6f8)](_0x4696c6),0x0;}}async[a0_0x1d7ec3(0x7e9)](_0x3c0fd0){const _0x10e593=a0_0x1d7ec3;try{let _0x5d4159=this[_0x10e593(0x327)](_0x3c0fd0),_0x15dc34={'leadInfo.tags':{'$exists':!0x1}},_0x2f386f={'$set':{'leadInfo.tags':[]}};return(await _0x5d4159[_0x10e593(0x3d6)](_0x15dc34,_0x2f386f))[_0x10e593(0x4ff)];}catch(_0x18e827){return console[_0x10e593(0x6f8)](_0x18e827),0x0;}}async[a0_0x1d7ec3(0x449)](_0x331ff4){const _0x4ea2e4=a0_0x1d7ec3;try{let _0x31269d=this[_0x4ea2e4(0x327)](_0x331ff4),_0x3934a9={'leadInfo.customFields':{'$exists':!0x1}},_0x3790c6={'$set':{'leadInfo.customFields':[]}};return(await _0x31269d['updateMany'](_0x3934a9,_0x3790c6))[_0x4ea2e4(0x4ff)];}catch(_0x24d5c5){return console[_0x4ea2e4(0x6f8)](_0x24d5c5),0x0;}}async[a0_0x1d7ec3(0x7ea)](_0x519d19,_0x315c86){const _0x15625b=a0_0x1d7ec3;if(!Array[_0x15625b(0xab)](_0x519d19)||_0x519d19['length']===0x0)throw new Error(_0x15625b(0x2ef));try{return(await this[_0x15625b(0x327)](_0x315c86)[_0x15625b(0x7ea)](_0x519d19))[_0x15625b(0x387)];}catch(_0x1411ef){throw console[_0x15625b(0x6f8)](_0x15625b(0x4af),_0x1411ef),_0x1411ef;}}async[a0_0x1d7ec3(0x68d)](_0x1c23e2,_0x4850c0){const _0x5de3b9=a0_0x1d7ec3;try{await this[_0x5de3b9(0x327)](_0x4850c0)['deleteOne']({'_id':_0x1c23e2});}catch(_0x19f34c){throw console[_0x5de3b9(0x6f8)](_0x5de3b9(0x72c),_0x19f34c),_0x19f34c;}}},qt=class extends _{constructor(_0x3bf14b,_0x1f3fc2,_0x269bb3){const _0x1d366e=a0_0x1d7ec3;super(_0x1f3fc2),this[_0x1d366e(0x783)]=_0x3bf14b,this[_0x1d366e(0x75a)]=_0x1f3fc2,this[_0x1d366e(0x3c4)]=_0x269bb3;}async[a0_0x1d7ec3(0x718)](_0x3563f0){const _0x507ea0=a0_0x1d7ec3;if(_0x3563f0[_0x507ea0(0x387)]!==0x0)try{return{'insertCount':(await this[_0x507ea0(0x783)][_0x507ea0(0x7ea)]([..._0x3563f0]))[_0x507ea0(0x387)]};}catch(_0x124212){return _0x124212;}}async[a0_0x1d7ec3(0x6c4)](_0x1bf28d,_0x1635e3){const _0x545471=a0_0x1d7ec3;try{let _0x49bae2=A(_0x1bf28d[_0x545471(0x2f7)]);return{'updatedCount':(await this[_0x545471(0x783)][_0x545471(0x3d6)](_0x49bae2,{'$set':_0x1635e3}))[_0x545471(0x4ff)]};}catch(_0x43af50){return console[_0x545471(0x6f8)](_0x545471(0x7f2),_0x43af50),{'error':_0x43af50['toString']()};}}async[a0_0x1d7ec3(0x24e)](_0x13ba77){const _0x1fa847=a0_0x1d7ec3;try{let _0x5a0395={'_id':{'$in':_0x13ba77}};return await this['cacheContactModel']['find'](_0x5a0395)[_0x1fa847(0x573)]();}catch(_0x3f7275){return console[_0x1fa847(0x6f8)]('Error\x20finding\x20many\x20contacts:',_0x3f7275),[];}}async[a0_0x1d7ec3(0x174)](_0xdf38e9){const _0x2e0521=a0_0x1d7ec3;try{return{'deletedCount':(await this[_0x2e0521(0x783)][_0x2e0521(0x7b3)]({..._0xdf38e9[_0x2e0521(0x2f7)]}))[_0x2e0521(0x78a)]};}catch(_0x4387b0){return{'error':_0x4387b0?.[_0x2e0521(0x125)]()};}}async[a0_0x1d7ec3(0x44c)](_0x5de010){const _0xf3eee1=a0_0x1d7ec3;try{let _0x3cbc94=A(_0x5de010['where']);return await this[_0xf3eee1(0x783)][_0xf3eee1(0x44c)](_0x3cbc94)[_0xf3eee1(0x48d)](_0x5de010?.[_0xf3eee1(0x48d)]??0x0)['lean']();}catch{return[];}}async[a0_0x1d7ec3(0x6f0)](_0x29f2aa){const _0x538fce=a0_0x1d7ec3;try{let _0x146a61=A(_0x29f2aa['where']);return await this[_0x538fce(0x783)][_0x538fce(0x6f0)](_0x146a61)['lean']();}catch{return null;}}},Vt=class extends _{constructor(_0x9ce81,_0x1760ea,_0x13a716){const _0x535fb5=a0_0x1d7ec3;super(_0x1760ea),this[_0x535fb5(0x69b)]=_0x9ce81,this['configService']=_0x1760ea,this['dbConnection']=_0x13a716;}async[a0_0x1d7ec3(0x718)](_0x36f231){const _0x4c2a3e=a0_0x1d7ec3;if(_0x36f231[_0x4c2a3e(0x387)]!==0x0)try{return{'insertCount':(await this['messageLogsModel'][_0x4c2a3e(0x7ea)]([..._0x36f231]))[_0x4c2a3e(0x387)]};}catch(_0x3daa92){return _0x3daa92;}}async[a0_0x1d7ec3(0x6c4)](_0x5b6704,_0x462662){const _0x407668=a0_0x1d7ec3;try{let _0x27b56e=A(_0x5b6704[_0x407668(0x2f7)]);return{'updatedCount':(await this['messageLogsModel']['updateMany'](_0x27b56e,{'$set':_0x462662}))['modifiedCount']};}catch(_0x336a62){return console[_0x407668(0x6f8)](_0x407668(0x7f2),_0x336a62),{'error':_0x336a62[_0x407668(0x125)]()};}}async[a0_0x1d7ec3(0x174)](_0x5ef69c){const _0x1cea45=a0_0x1d7ec3;try{return{'deletedCount':(await this['messageLogsModel'][_0x1cea45(0x7b3)]({..._0x5ef69c[_0x1cea45(0x2f7)]}))[_0x1cea45(0x78a)]};}catch(_0xc204a6){return{'error':_0xc204a6?.[_0x1cea45(0x125)]()};}}async[a0_0x1d7ec3(0x6f0)](_0x43a8b3){const _0x33adf2=a0_0x1d7ec3;try{let _0x54356b=A(_0x43a8b3[_0x33adf2(0x2f7)]);return await this[_0x33adf2(0x69b)]['findOne'](_0x54356b)[_0x33adf2(0x573)]();}catch{return null;}}},Gt=class extends _{['getLabelModelForOwner'](_0x5939db){return Ea(_0x5939db);}async[a0_0x1d7ec3(0x171)](_0x3be32b,_0x282b78,_0xc39515,_0xa1877f){const _0x534881=a0_0x1d7ec3;try{let _0x28dfbc={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0xa1877f},_0x512ac2=this[_0x534881(0x688)](_0xc39515),_0x182d95=A(_0x3be32b[_0x534881(0x2f7)]);return await _0x512ac2['findOneAndUpdate'](_0x182d95,{'$set':_0x282b78},_0x28dfbc);}catch(_0x3e1abd){return console[_0x534881(0x6f8)](_0x3e1abd),null;}}async[a0_0x1d7ec3(0x44c)](_0x17cfb9,_0x28b162){const _0x27c63e=a0_0x1d7ec3;try{let _0x1a94ef=this[_0x27c63e(0x688)](_0x28b162),_0x1d48ee=A(_0x17cfb9[_0x27c63e(0x2f7)]);return await _0x1a94ef[_0x27c63e(0x44c)](_0x1d48ee);}catch(_0x118327){console[_0x27c63e(0x6f8)](_0x118327);}}async[a0_0x1d7ec3(0x174)](_0x16cd7a,_0x3b036a){const _0x5b00d2=a0_0x1d7ec3;try{let _0x1bba5a=this[_0x5b00d2(0x688)](_0x3b036a),_0x354e28=A(_0x16cd7a[_0x5b00d2(0x2f7)]);await _0x1bba5a[_0x5b00d2(0x7b3)](_0x354e28);}catch(_0x538afc){console[_0x5b00d2(0x6f8)](_0x538afc);}}async[a0_0x1d7ec3(0x4a8)](_0x7a7fab){const _0x54b36=a0_0x1d7ec3;try{return await this['getLabelModelForOwner'](_0x7a7fab)['collection'][_0x54b36(0x39c)](),{'success':!0x0};}catch(_0x3e7b55){return console[_0x54b36(0x6f8)](_0x3e7b55),{'success':!0x1,'error':_0x3e7b55};}}},Bt=class{constructor(_0x28cc82){const _0xd5688=a0_0x1d7ec3;this[_0xd5688(0x796)]=_0x28cc82;}async[a0_0x1d7ec3(0x42e)]({instanceName:_0x9336ec},_0x4354c7){const _0x295b6c=a0_0x1d7ec3;return await this['waMonitor'][_0x295b6c(0x337)][_0x9336ec][_0x295b6c(0x42e)](_0x4354c7);}async['whatsappNumber']({instanceName:_0x2a95b7},_0x357030){const _0xa4d4a5=a0_0x1d7ec3;return await this[_0xa4d4a5(0x796)][_0xa4d4a5(0x337)][_0x2a95b7][_0xa4d4a5(0x691)](_0x357030);}async[a0_0x1d7ec3(0x180)]({instanceName:_0x4077de},_0x458541){const _0x8b1240=a0_0x1d7ec3;return await this[_0x8b1240(0x796)][_0x8b1240(0x337)][_0x4077de][_0x8b1240(0x180)](_0x458541);}async[a0_0x1d7ec3(0x444)]({instanceName:_0x3d72a4},_0x588d42){const _0xf440e2=a0_0x1d7ec3;return await this['waMonitor'][_0xf440e2(0x337)][_0x3d72a4][_0xf440e2(0x78f)](_0x588d42);}async[a0_0x1d7ec3(0xae)]({instanceName:_0x41c6be},_0x4cad42){const _0x3f1885=a0_0x1d7ec3;return await this[_0x3f1885(0x796)]['waInstances'][_0x41c6be][_0x3f1885(0xae)](_0x4cad42);}async[a0_0x1d7ec3(0x2ab)]({instanceName:_0x43a13e},_0x84aa6a){const _0x1a6c8b=a0_0x1d7ec3;return await this[_0x1a6c8b(0x796)][_0x1a6c8b(0x337)][_0x43a13e][_0x1a6c8b(0x2ab)](_0x84aa6a);}async[a0_0x1d7ec3(0xfd)]({instanceName:_0x1614a5},_0x553067){const _0x366b88=a0_0x1d7ec3;return await this[_0x366b88(0x796)][_0x366b88(0x337)][_0x1614a5][_0x366b88(0x55c)](_0x553067[_0x366b88(0x59e)]);}async[a0_0x1d7ec3(0x79d)]({instanceName:_0x4d3e72},_0x3f6f09){const _0x37e3fa=a0_0x1d7ec3;return await this[_0x37e3fa(0x796)][_0x37e3fa(0x337)][_0x4d3e72]['fetchProfile'](_0x3f6f09[_0x37e3fa(0x59e)]);}async['updatePresence']({instanceName:_0x337823},_0x1f3b49){const _0x1bd49a=a0_0x1d7ec3;return await this[_0x1bd49a(0x796)]['waInstances'][_0x337823][_0x1bd49a(0x6e3)](_0x1f3b49);}async[a0_0x1d7ec3(0x63b)]({instanceName:_0x11ed1c},_0xcd3ef6){const _0x5a0145=a0_0x1d7ec3;return await this[_0x5a0145(0x796)][_0x5a0145(0x337)][_0x11ed1c]['fetchContacts'](_0xcd3ef6);}async[a0_0x1d7ec3(0x14d)]({instanceName:_0x472bd0},_0x1478ff){const _0x57ce36=a0_0x1d7ec3;return await this['waMonitor'][_0x57ce36(0x337)][_0x472bd0]['getBase64FromMediaMessage'](_0x1478ff);}async[a0_0x1d7ec3(0x317)]({instanceName:_0x56119b},_0x73ad43){const _0x34b2b0=a0_0x1d7ec3;return await this[_0x34b2b0(0x796)]['waInstances'][_0x56119b]['fetchMessages'](_0x73ad43);}async[a0_0x1d7ec3(0x76f)]({instanceName:_0x221ac1}){const _0x1edfdd=a0_0x1d7ec3;return await this['waMonitor'][_0x1edfdd(0x337)][_0x221ac1]['fetchLabels']();}async[a0_0x1d7ec3(0x1ea)]({instanceName:_0x139fc4}){const _0x4ed9ca=a0_0x1d7ec3;return await this[_0x4ed9ca(0x796)][_0x4ed9ca(0x337)][_0x139fc4][_0x4ed9ca(0x1ea)]();}async[a0_0x1d7ec3(0x299)]({instanceName:_0x29633c}){const _0x4317cc=a0_0x1d7ec3;return await this[_0x4317cc(0x796)][_0x4317cc(0x337)][_0x29633c][_0x4317cc(0x299)]();}async[a0_0x1d7ec3(0x667)]({instanceName:_0xf58e5f},_0x330d4c){const _0x4dd7e0=a0_0x1d7ec3;return await this[_0x4dd7e0(0x796)][_0x4dd7e0(0x337)][_0xf58e5f]['updatePrivacySettings'](_0x330d4c);}async[a0_0x1d7ec3(0x119)]({instanceName:_0x323ede},_0x13369a){const _0xfcae06=a0_0x1d7ec3;return await this[_0xfcae06(0x796)][_0xfcae06(0x337)][_0x323ede][_0xfcae06(0x119)](_0x13369a[_0xfcae06(0x59e)]);}async['updateProfileName']({instanceName:_0x299ab0},_0x4cf8cc){const _0x14538d=a0_0x1d7ec3;return await this[_0x14538d(0x796)][_0x14538d(0x337)][_0x299ab0][_0x14538d(0x321)](_0x4cf8cc['name']);}async[a0_0x1d7ec3(0x1f7)]({instanceName:_0x4afc9d},_0xe8ed44){const _0x5fe0f1=a0_0x1d7ec3;return await this[_0x5fe0f1(0x796)]['waInstances'][_0x4afc9d]['updateProfileStatus'](_0xe8ed44[_0x5fe0f1(0x77f)]);}async[a0_0x1d7ec3(0x714)]({instanceName:_0x17e66e},_0x362725){const _0x1e7d2d=a0_0x1d7ec3;return await this['waMonitor']['waInstances'][_0x17e66e][_0x1e7d2d(0x714)](_0x362725['picture']);}async['removeProfilePicture']({instanceName:_0x506f4a},_0x2d2dcd){const _0x1f9bdb=a0_0x1d7ec3;return await this[_0x1f9bdb(0x796)][_0x1f9bdb(0x337)][_0x506f4a][_0x1f9bdb(0x778)]();}},Wt=require(a0_0x1d7ec3(0x492)),zt=class u{constructor(_0x59c1ec,_0x3a2001,_0x192c16,_0x109975,_0x2feb10){const _0x3fa4a3=a0_0x1d7ec3;this[_0x3fa4a3(0x796)]=_0x59c1ec,this['configService']=_0x3a2001,this[_0x3fa4a3(0x2d1)]=_0x192c16,this[_0x3fa4a3(0x608)]=_0x109975,this[_0x3fa4a3(0x33b)]=_0x2feb10,this['logger']=new $(u[_0x3fa4a3(0x70c)]);}async[a0_0x1d7ec3(0x202)]({instanceName:_0x3ee5f8,apikey:_0x51fb1b,number:_0x99c5f0,proxy:_0x551165=!0x0}){const _0x259dab=a0_0x1d7ec3;try{let _0xe3d762=new $e(this[_0x259dab(0x75a)],this[_0x259dab(0x608)],this[_0x259dab(0x2d1)]);_0xe3d762[_0x259dab(0x7ab)]=_0x3ee5f8,this[_0x259dab(0x796)][_0x259dab(0x337)][_0xe3d762[_0x259dab(0x7ab)]]=_0xe3d762;let _0x3ec87e={};_0x51fb1b?(await this[_0x259dab(0x2d1)][_0x259dab(0x544)][_0x259dab(0x585)]({'apikey':_0x51fb1b},_0x3ee5f8),_0x3ec87e[_0x259dab(0x4f0)]=_0x51fb1b):_0x3ec87e=await this[_0x259dab(0x33b)]['generateHash']({'instanceName':_0xe3d762[_0x259dab(0x7ab)]});let _0x3ee12a;if(_0x99c5f0){if(_0x3ee12a=await this['verifyWhatsAppNumber'](_0x99c5f0),_0x3ee12a[_0x259dab(0x6f8)])throw new x(_0x3ee12a['error'][_0x259dab(0x125)]());_0x99c5f0=_0x3ee12a['number'];}let _0x573c0d;return await _0xe3d762[_0x259dab(0x246)](_0x99c5f0),await(0x0,Wt[_0x259dab(0x1da)])(0xfa0),_0x99c5f0&&await(0x0,Wt[_0x259dab(0x1da)])(0xbb8),_0x573c0d=_0xe3d762[_0x259dab(0x232)],{'instance':{'instanceName':_0xe3d762['instanceName'],'status':_0x259dab(0x664)},'hash':_0x3ec87e,'qrcode':_0x573c0d};}catch(_0x4523eb){throw this[_0x259dab(0x671)][_0x259dab(0x6f8)](_0x4523eb),_0x4523eb;}}async[a0_0x1d7ec3(0x24d)]({instanceName:_0x5bbac9,number:_0xfafddd=null}){const _0x3ee7ac=a0_0x1d7ec3;try{let _0x536225=this[_0x3ee7ac(0x796)][_0x3ee7ac(0x337)][_0x5bbac9];switch(_0x536225?.['connectionStatus']?.['state']){case'close':return await _0x536225[_0x3ee7ac(0x246)](_0xfafddd),await(0x0,Wt[_0x3ee7ac(0x1da)])(0x7d0),_0x536225[_0x3ee7ac(0x232)];case'connecting':return _0x536225[_0x3ee7ac(0x232)];default:return await this[_0x3ee7ac(0x3f9)]({'instanceName':_0x5bbac9});}}catch(_0x29f4b5){this[_0x3ee7ac(0x671)][_0x3ee7ac(0xa6)](_0x29f4b5);}}async[a0_0x1d7ec3(0x3f9)]({instanceName:_0x1b814f}){const _0x263948=a0_0x1d7ec3;let _0x26c005=this['waMonitor'][_0x263948(0x337)][_0x1b814f]['connectionStatus'],_0xe0d10e=null;_0x26c005['state']==='open'&&_0x1b814f&&(_0xe0d10e=await this['waMonitor'][_0x263948(0x2df)](_0x1b814f));let _0x289152=null;return _0x26c005[_0x263948(0x44a)]===_0x263948(0x128)&&_0x1b814f&&(_0x289152=this[_0x263948(0x796)][_0x263948(0x337)][_0x1b814f][_0x263948(0x232)]),{'instance':_0x1b814f,'connectionStatus':_0x26c005,'instanceInfo':_0xe0d10e,'qrcode':_0x289152};}async[a0_0x1d7ec3(0x3de)](_0x2dfd38){const _0xa1bafd=a0_0x1d7ec3;_0x2dfd38=_0x2dfd38[_0xa1bafd(0x404)](/\D/g,'');let _0x5dda4d=Object[_0xa1bafd(0x29b)](this[_0xa1bafd(0x796)][_0xa1bafd(0x337)])[_0xa1bafd(0x350)](_0xd8f084=>{const _0x54f3c3=_0xa1bafd;let _0x3ee33d=this['waMonitor'][_0x54f3c3(0x337)][_0xd8f084];return _0x3ee33d&&_0x3ee33d['connectionStatus']&&_0x3ee33d['connectionStatus']['state']===_0x54f3c3(0xb0);});if(_0x5dda4d[_0xa1bafd(0x387)]===0x0)return{'number':this['formatBRNumber'](_0x2dfd38)};let _0x119958=Math[_0xa1bafd(0x518)](Math['random']()*_0x5dda4d[_0xa1bafd(0x387)]),_0x546af4=_0x5dda4d[_0x119958];try{let _0x2724c9=(await this[_0xa1bafd(0x796)][_0xa1bafd(0x337)][_0x546af4][_0xa1bafd(0x691)]({'numbers':[_0x2dfd38]}))['shift']();return _0x2724c9[_0xa1bafd(0x7e0)]?{'number':_0x2724c9[_0xa1bafd(0x495)][_0xa1bafd(0x404)](_0xa1bafd(0x700),'')}:{'number':_0x2dfd38,'error':_0xa1bafd(0x352)};}catch(_0x12c7ae){return this['logger']['error'](_0xa1bafd(0x711)+_0x12c7ae),{'number':_0x2dfd38,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}['formatBRNumber'](_0x36d529){const _0x42f584=a0_0x1d7ec3;let _0x4acb44=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x42f584(0x1a6)](_0x36d529);if(_0x4acb44&&_0x4acb44[0x1]==='55'){let _0x50b257=_0x4acb44[0x2],_0x128478=_0x4acb44[0x3],_0x374635=_0x4acb44[0x4];if(parseInt(_0x50b257)>=0x1f&&_0x128478==='9')return _0x4acb44[0x1]+_0x50b257+_0x374635;}return _0x36d529;}async['restartInstance']({instanceName:_0x45d71f}){const _0x588981=a0_0x1d7ec3;try{return this[_0x588981(0x796)][_0x588981(0x337)][_0x45d71f]?.[_0x588981(0x38a)]?.['ws']?.[_0x588981(0x4fe)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x588981(0xe9)}};}catch(_0x68dad8){this['logger']['error'](_0x68dad8);}}async['fetchInstances']({instanceName:_0x131550}){const _0x44e89b=a0_0x1d7ec3;return _0x131550?this[_0x44e89b(0x796)]['instanceInfo'](_0x131550):this[_0x44e89b(0x796)][_0x44e89b(0x2df)]();}async[a0_0x1d7ec3(0x6a2)]({instanceName:_0x46e688}){const _0x306de9=a0_0x1d7ec3;try{return await this['waMonitor'][_0x306de9(0x337)][_0x46e688]?.[_0x306de9(0x38a)]?.[_0x306de9(0x6a2)](_0x306de9(0x780)+_0x46e688),{'error':!0x1,'message':_0x306de9(0x6e5)};}catch(_0x2c6ae5){throw new x(_0x2c6ae5[_0x306de9(0x125)]());}}async[a0_0x1d7ec3(0x538)]({instanceName:_0x55922b}){const _0x1e7e22=a0_0x1d7ec3;if((await this['connectionState']({'instanceName':_0x55922b}))['connectionStatus'][_0x1e7e22(0x44a)]===_0x1e7e22(0xb0))throw new m(['Deletion\x20failed','The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x1e7e22(0x796)][_0x1e7e22(0x337)][_0x55922b],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x1fcd0c){throw new m(_0x1fcd0c[_0x1e7e22(0x125)]());}}},ce=require(a0_0x1d7ec3(0x5b8)),Ht=class{constructor(_0x24a8c3){const _0x58d7f3=a0_0x1d7ec3;this[_0x58d7f3(0x796)]=_0x24a8c3;}async['sendText']({instanceName:_0x24fd9a},_0x49954f){const _0xb065e9=a0_0x1d7ec3;return await this['waMonitor']['waInstances'][_0x24fd9a][_0xb065e9(0x7e7)](_0x49954f);}async['sendMenu']({instanceName:_0x5d0392},_0x212403){const _0x1238c2=a0_0x1d7ec3;return await this[_0x1238c2(0x796)][_0x1238c2(0x337)][_0x5d0392][_0x1238c2(0x2a3)](_0x212403);}async[a0_0x1d7ec3(0x2bc)]({instanceName:_0x3009a5},_0x19256b){const _0x4d5174=a0_0x1d7ec3;if((0x0,ce[_0x4d5174(0x4b2)])(_0x19256b?.[_0x4d5174(0x210)]?.[_0x4d5174(0x800)])&&!_0x19256b?.[_0x4d5174(0x210)]?.[_0x4d5174(0x107)])throw new m(_0x4d5174(0x17e));if((0x0,ce[_0x4d5174(0x295)])(_0x19256b?.[_0x4d5174(0x210)]?.[_0x4d5174(0x800)])||(0x0,ce[_0x4d5174(0x4b2)])(_0x19256b?.[_0x4d5174(0x210)]?.[_0x4d5174(0x800)]))return await this['waMonitor'][_0x4d5174(0x337)][_0x3009a5][_0x4d5174(0x210)](_0x19256b);throw new m(_0x4d5174(0x615));}async[a0_0x1d7ec3(0x1e4)]({instanceName:_0x2812f3},_0x225217){const _0x26d36a=a0_0x1d7ec3;if((0x0,ce['isURL'])(_0x225217[_0x26d36a(0x600)][_0x26d36a(0x77d)])||(0x0,ce[_0x26d36a(0x4b2)])(_0x225217[_0x26d36a(0x600)][_0x26d36a(0x77d)]))return await this[_0x26d36a(0x796)][_0x26d36a(0x337)][_0x2812f3][_0x26d36a(0x69d)](_0x225217);throw new m(_0x26d36a(0x615));}async[a0_0x1d7ec3(0x773)]({instanceName:_0x5ea07c},_0x24e898){const _0x299c41=a0_0x1d7ec3;if((0x0,ce[_0x299c41(0x295)])(_0x24e898[_0x299c41(0xee)][_0x299c41(0x574)])||(0x0,ce[_0x299c41(0x4b2)])(_0x24e898[_0x299c41(0xee)]['audio']))return await this['waMonitor'][_0x299c41(0x337)][_0x5ea07c][_0x299c41(0x54c)](_0x24e898);throw new m(_0x299c41(0x615));}async[a0_0x1d7ec3(0x372)]({instanceName:_0x396c86},_0x3de034){const _0x3a18c2=a0_0x1d7ec3;return await this['waMonitor'][_0x3a18c2(0x337)][_0x396c86][_0x3a18c2(0x14b)](_0x3de034);}async[a0_0x1d7ec3(0x306)]({instanceName:_0x2a2733},_0x3f8e76){const _0x19e35a=a0_0x1d7ec3;return await this['waMonitor'][_0x19e35a(0x337)][_0x2a2733][_0x19e35a(0x6f3)](_0x3f8e76);}async['sendPoll']({instanceName:_0x4bee99},_0x20ff22){const _0xcf7cee=a0_0x1d7ec3;return await this[_0xcf7cee(0x796)][_0xcf7cee(0x337)][_0x4bee99][_0xcf7cee(0x7b0)](_0x20ff22);}async['sendList']({instanceName:_0x2a9196},_0x26bca4){const _0x10d704=a0_0x1d7ec3;return await this[_0x10d704(0x796)][_0x10d704(0x337)][_0x2a9196][_0x10d704(0x199)](_0x26bca4);}async[a0_0x1d7ec3(0x4d1)]({instanceName:_0x230cd3},_0x1f7546){const _0x5e326d=a0_0x1d7ec3;return await this[_0x5e326d(0x796)][_0x5e326d(0x337)][_0x230cd3][_0x5e326d(0x131)](_0x1f7546);}async[a0_0x1d7ec3(0x21f)]({instanceName:_0x73c574},_0x103126){const _0x58ec7c=a0_0x1d7ec3;if(!_0x103126[_0x58ec7c(0x7c0)][_0x58ec7c(0x1bc)][_0x58ec7c(0x20e)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x58ec7c(0x583));return await this[_0x58ec7c(0x796)][_0x58ec7c(0x337)][_0x73c574][_0x58ec7c(0x7c0)](_0x103126);}async[a0_0x1d7ec3(0x388)]({instanceName:_0x44db95},_0x48e909){const _0x15ed84=a0_0x1d7ec3;return await this['waMonitor'][_0x15ed84(0x337)][_0x44db95][_0x15ed84(0x632)](_0x48e909);}},Di=require('jsonwebtoken'),Us=require(a0_0x1d7ec3(0x36f)),Kt=class u{constructor(_0x3798fb,_0xd1d299,_0x507a2a){const _0x266252=a0_0x1d7ec3;this[_0x266252(0x75a)]=_0x3798fb,this[_0x266252(0x796)]=_0xd1d299,this['repository']=_0x507a2a,this['logger']=new $(u[_0x266252(0x70c)]);}async['jwt'](_0x1d2cd9){const _0x546478=a0_0x1d7ec3;let _0x4f2a57=this[_0x546478(0x75a)][_0x546478(0x332)](_0x546478(0x243))[_0x546478(0x343)],_0x1fae51=(0x0,Di[_0x546478(0x60e)])({'instanceName':_0x1d2cd9[_0x546478(0x7ab)],'apiName':it,'tokenId':(0x0,Us['v4'])()},_0x4f2a57[_0x546478(0x2e5)],{'expiresIn':_0x4f2a57[_0x546478(0x717)],'encoding':_0x546478(0x59c),'subject':_0x546478(0x51b)}),_0x28adcc=await this[_0x546478(0x2d1)][_0x546478(0x544)][_0x546478(0x585)]({'jwt':_0x1fae51},_0x1d2cd9[_0x546478(0x7ab)]);if(_0x28adcc[_0x546478(0x6f8)])throw this[_0x546478(0x671)][_0x546478(0x6f8)]({'localError':u[_0x546478(0x70c)]+_0x546478(0x267),'error':_0x28adcc[_0x546478(0x6f8)]}),new m(_0x546478(0xc5),_0x28adcc['error']?.['toString']());return{'jwt':_0x1fae51};}async[a0_0x1d7ec3(0x4f0)](_0x47024b){const _0x209dbd=a0_0x1d7ec3;let _0x2af469=(0x0,Us['v4'])()[_0x209dbd(0x724)](),_0x2d37b6=await this[_0x209dbd(0x2d1)]['auth'][_0x209dbd(0x585)]({'apikey':_0x2af469},_0x47024b[_0x209dbd(0x7ab)]);if(_0x2d37b6[_0x209dbd(0x6f8)])throw this[_0x209dbd(0x671)][_0x209dbd(0x6f8)]({'localError':u[_0x209dbd(0x70c)]+'.jwt','error':_0x2d37b6[_0x209dbd(0x6f8)]}),new m(_0x209dbd(0xc5),_0x2d37b6['error']?.['toString']());return{'apikey':_0x2af469};}async[a0_0x1d7ec3(0x50e)](_0x4ae177){const _0x285a82=a0_0x1d7ec3;let _0x307e00=this[_0x285a82(0x75a)][_0x285a82(0x332)](_0x285a82(0x243));return await this[_0x307e00['TYPE']](_0x4ae177);}},Qt=class{constructor(_0x1ed447){const _0x4a231e=a0_0x1d7ec3;this[_0x4a231e(0x796)]=_0x1ed447;}async[a0_0x1d7ec3(0x752)](_0x227dbe,_0x34197f){const _0x1c09db=a0_0x1d7ec3;return await this[_0x1c09db(0x796)][_0x1c09db(0x337)][_0x227dbe[_0x1c09db(0x7ab)]][_0x1c09db(0x752)](_0x34197f);}async[a0_0x1d7ec3(0x51a)](_0x8eb71a,_0x4d35cb){const _0x1e8898=a0_0x1d7ec3;return await this[_0x1e8898(0x796)][_0x1e8898(0x337)][_0x8eb71a[_0x1e8898(0x7ab)]][_0x1e8898(0x51a)](_0x4d35cb);}async['groupDesc'](_0x367ef4,_0x568cd0){const _0x2323cc=a0_0x1d7ec3;return await this[_0x2323cc(0x796)][_0x2323cc(0x337)][_0x367ef4[_0x2323cc(0x7ab)]][_0x2323cc(0x5d0)](_0x568cd0);}async[a0_0x1d7ec3(0x438)](_0x26da92,_0x1f73fa){const _0x38d3cd=a0_0x1d7ec3;return await this[_0x38d3cd(0x796)][_0x38d3cd(0x337)][_0x26da92[_0x38d3cd(0x7ab)]][_0x38d3cd(0x438)](_0x1f73fa);}async[a0_0x1d7ec3(0x452)](_0x486195,_0x21915b){const _0x97f80e=a0_0x1d7ec3;return await this[_0x97f80e(0x796)][_0x97f80e(0x337)][_0x486195[_0x97f80e(0x7ab)]][_0x97f80e(0x452)](_0x21915b);}async[a0_0x1d7ec3(0x6c8)](_0x3fbec5,_0x49895e){const _0x1ab03c=a0_0x1d7ec3;return await this[_0x1ab03c(0x796)][_0x1ab03c(0x337)][_0x3fbec5[_0x1ab03c(0x7ab)]][_0x1ab03c(0x6c8)](_0x49895e);}async[a0_0x1d7ec3(0x4ee)](_0x1c8e12,_0x5c4a96){const _0x5861de=a0_0x1d7ec3;return await this[_0x5861de(0x796)]['waInstances'][_0x1c8e12[_0x5861de(0x7ab)]]['findGroup'](_0x5c4a96);}async[a0_0x1d7ec3(0x47b)](_0x48f34c){const _0x44d0e4=a0_0x1d7ec3;return await this['waMonitor'][_0x44d0e4(0x337)][_0x48f34c[_0x44d0e4(0x7ab)]][_0x44d0e4(0x47b)]();}async['inviteCode'](_0xa70c65,_0x3d82f8){const _0xf8e222=a0_0x1d7ec3;return await this['waMonitor'][_0xf8e222(0x337)][_0xa70c65[_0xf8e222(0x7ab)]][_0xf8e222(0x335)](_0x3d82f8);}async['joinGroup'](_0x129204,_0x42c92d){const _0x4a9144=a0_0x1d7ec3;return await this[_0x4a9144(0x796)][_0x4a9144(0x337)][_0x129204[_0x4a9144(0x7ab)]][_0x4a9144(0xf5)](_0x42c92d);}async[a0_0x1d7ec3(0x486)](_0x1d28e3,_0x539f44){const _0x3b7949=a0_0x1d7ec3;return await this[_0x3b7949(0x796)][_0x3b7949(0x337)][_0x1d28e3['instanceName']]['groupGetInviteInfo'](_0x539f44);}async[a0_0x1d7ec3(0xf9)](_0x3dd8d2,_0x5b5a73){const _0x59e4d1=a0_0x1d7ec3;return await this[_0x59e4d1(0x796)][_0x59e4d1(0x337)][_0x3dd8d2['instanceName']][_0x59e4d1(0xf9)](_0x5b5a73);}async[a0_0x1d7ec3(0x66f)](_0x5f5846,_0x24afd1){const _0x2f00e2=a0_0x1d7ec3;return await this['waMonitor']['waInstances'][_0x5f5846[_0x2f00e2(0x7ab)]][_0x2f00e2(0x66f)](_0x24afd1);}async[a0_0x1d7ec3(0x4c7)](_0x47cc38,_0x49daa7){const _0x42b12b=a0_0x1d7ec3;return await this[_0x42b12b(0x796)][_0x42b12b(0x337)][_0x47cc38['instanceName']][_0x42b12b(0x2e9)](_0x49daa7);}async[a0_0x1d7ec3(0x66a)](_0x390704,_0x216a37){const _0x249739=a0_0x1d7ec3;return await this['waMonitor']['waInstances'][_0x390704[_0x249739(0x7ab)]][_0x249739(0x66a)](_0x216a37);}async[a0_0x1d7ec3(0x782)](_0x49bf13,_0x5a408a){const _0x445acb=a0_0x1d7ec3;return await this[_0x445acb(0x796)]['waInstances'][_0x49bf13['instanceName']]['leaveGroup'](_0x5a408a);}},Yt=class{constructor(_0x4d3155){const _0x5cd86a=a0_0x1d7ec3;this[_0x5cd86a(0x796)]=_0x4d3155;}['create'](_0x5004b1,_0x524449){const _0x277f29=a0_0x1d7ec3;return this[_0x277f29(0x796)][_0x277f29(0x337)][_0x5004b1[_0x277f29(0x7ab)]][_0x277f29(0x389)](_0x524449);}async[a0_0x1d7ec3(0x44c)](_0x5d0f42){const _0x341140=a0_0x1d7ec3;try{return await this[_0x341140(0x796)][_0x341140(0x337)][_0x5d0f42[_0x341140(0x7ab)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},ch=new $(a0_0x1d7ec3(0x7c5)),Xt=class{constructor(_0x3f6e26){const _0x7b488a=a0_0x1d7ec3;this[_0x7b488a(0x796)]=_0x3f6e26;}async[a0_0x1d7ec3(0x1b5)](_0x910c14,_0x6e5e38){const _0x476882=a0_0x1d7ec3;return await this[_0x476882(0x796)][_0x476882(0x337)][_0x910c14['instanceName']][_0x476882(0x1b5)](_0x6e5e38);}async[a0_0x1d7ec3(0x3b3)](_0x3713d3){const _0x86bf5=a0_0x1d7ec3;return await this[_0x86bf5(0x796)][_0x86bf5(0x337)][_0x3713d3['instanceName']][_0x86bf5(0x3b3)]();}async[a0_0x1d7ec3(0x85)](_0xe140f6){const _0x3e553c=a0_0x1d7ec3;return await this[_0x3e553c(0x796)][_0x3e553c(0x337)][_0xe140f6['instanceName']][_0x3e553c(0x85)]();}async[a0_0x1d7ec3(0x5bd)](_0x430a84){const _0x1d4d16=a0_0x1d7ec3;return await this[_0x1d4d16(0x796)][_0x1d4d16(0x337)][_0x430a84['instanceName']]['getAutomateSystem']();}async[a0_0x1d7ec3(0x6ea)](_0x3a3f38,_0x497822){const _0x2cb87f=a0_0x1d7ec3;return await this[_0x2cb87f(0x796)][_0x2cb87f(0x337)][_0x3a3f38['instanceName']][_0x2cb87f(0x6ea)](_0x497822);}async[a0_0x1d7ec3(0x271)](_0x161ba8,_0x1def2d){const _0x3f7eec=a0_0x1d7ec3;return await this[_0x3f7eec(0x796)][_0x3f7eec(0x337)][_0x161ba8[_0x3f7eec(0x7ab)]][_0x3f7eec(0x271)](_0x1def2d);}async[a0_0x1d7ec3(0x2d0)](_0x3aefe4,_0x4c016d){const _0x3c32bb=a0_0x1d7ec3;return await this[_0x3c32bb(0x796)][_0x3c32bb(0x337)][_0x3aefe4['instanceName']][_0x3c32bb(0x2d0)](_0x4c016d);}async[a0_0x1d7ec3(0x39e)](_0x47bc48,_0x3b63c6){const _0x48c03e=a0_0x1d7ec3;return await this[_0x48c03e(0x796)][_0x48c03e(0x337)][_0x47bc48[_0x48c03e(0x7ab)]][_0x48c03e(0x39e)](_0x3b63c6);}async[a0_0x1d7ec3(0x582)](_0x447b6d,_0x1c7f45){const _0x31e9d2=a0_0x1d7ec3;return await this[_0x31e9d2(0x796)]['waInstances'][_0x447b6d[_0x31e9d2(0x7ab)]][_0x31e9d2(0x582)](_0x1c7f45);}async[a0_0x1d7ec3(0x28b)](_0x3381e1,_0x11180b,_0x4725e0,_0x38ae22){const _0x106bee=a0_0x1d7ec3;return await this[_0x106bee(0x796)][_0x106bee(0x337)][_0x3381e1][_0x106bee(0x28b)](_0x11180b,_0x4725e0,_0x38ae22);}async[a0_0x1d7ec3(0x136)](_0x51dbfb,_0x3c820d){const _0x5a0085=a0_0x1d7ec3;return await this[_0x5a0085(0x796)][_0x5a0085(0x337)][_0x51dbfb[_0x5a0085(0x7ab)]][_0x5a0085(0x136)](_0x3c820d);}async[a0_0x1d7ec3(0x8e)](_0x34bde5,_0xf4bf1d){const _0x175eeb=a0_0x1d7ec3;return await this['waMonitor'][_0x175eeb(0x337)][_0x34bde5[_0x175eeb(0x7ab)]]['fetchConversation'](_0xf4bf1d);}async[a0_0x1d7ec3(0x474)](_0x9e193f,_0x20ade9){const _0x5fc259=a0_0x1d7ec3;return await this[_0x5fc259(0x796)][_0x5fc259(0x337)][_0x9e193f[_0x5fc259(0x7ab)]][_0x5fc259(0x474)](_0x20ade9);}async[a0_0x1d7ec3(0x680)](_0x56cb76,_0x594a59){const _0x455d21=a0_0x1d7ec3;return await this[_0x455d21(0x796)][_0x455d21(0x337)][_0x56cb76[_0x455d21(0x7ab)]][_0x455d21(0x680)](_0x594a59);}async[a0_0x1d7ec3(0x2ed)](_0x3affdd,_0xedf733){const _0x4cfda7=a0_0x1d7ec3;return await this[_0x4cfda7(0x796)][_0x4cfda7(0x337)][_0x3affdd['instanceName']][_0x4cfda7(0x2ed)](_0xedf733[_0x4cfda7(0x6ee)]);}async[a0_0x1d7ec3(0x490)](_0x2d02b8,_0x1ffe3a,_0xa831d0){const _0x540f47=a0_0x1d7ec3;return await this['waMonitor'][_0x540f47(0x337)][_0x2d02b8[_0x540f47(0x7ab)]][_0x540f47(0x490)](_0x1ffe3a,_0xa831d0);}async[a0_0x1d7ec3(0x3f8)](_0x4cd3a4,_0x41f94f,_0x18fd0c){const _0x107a6d=a0_0x1d7ec3;return await this[_0x107a6d(0x796)][_0x107a6d(0x337)][_0x4cd3a4[_0x107a6d(0x7ab)]][_0x107a6d(0x3f8)](_0x41f94f,_0x18fd0c);}async[a0_0x1d7ec3(0x601)](_0x5aaac9,_0x2ed150){const _0x1f86ec=a0_0x1d7ec3;return await this[_0x1f86ec(0x796)][_0x1f86ec(0x337)][_0x5aaac9[_0x1f86ec(0x7ab)]][_0x1f86ec(0x601)](_0x2ed150);}async['editFlowReply'](_0x18541d,_0x348d5a){const _0x35cb07=a0_0x1d7ec3;return await this['waMonitor'][_0x35cb07(0x337)][_0x18541d[_0x35cb07(0x7ab)]][_0x35cb07(0x65a)](_0x348d5a);}async[a0_0x1d7ec3(0x588)](_0x2e8d93,_0x4b61f5){const _0x5c5949=a0_0x1d7ec3;return await this['waMonitor'][_0x5c5949(0x337)][_0x2e8d93['instanceName']][_0x5c5949(0x588)](_0x4b61f5);}async[a0_0x1d7ec3(0x16c)](_0x3b6f68,_0x39753b){const _0xe4719d=a0_0x1d7ec3;return await this[_0xe4719d(0x796)][_0xe4719d(0x337)][_0x3b6f68[_0xe4719d(0x7ab)]][_0xe4719d(0x16c)](_0x39753b);}async[a0_0x1d7ec3(0x3a3)](_0x92c0ac,_0x193d70){const _0x5973fe=a0_0x1d7ec3;return await this[_0x5973fe(0x796)][_0x5973fe(0x337)][_0x92c0ac['instanceName']][_0x5973fe(0x3a3)](_0x193d70);}async[a0_0x1d7ec3(0x52f)](_0x3d5bab,_0x3db6a7){const _0x3dc443=a0_0x1d7ec3;return await this[_0x3dc443(0x796)][_0x3dc443(0x337)][_0x3d5bab['instanceName']][_0x3dc443(0x52f)](_0x3db6a7);}async[a0_0x1d7ec3(0x153)](_0x38952a,_0x556675){const _0x23e961=a0_0x1d7ec3;return await this[_0x23e961(0x796)][_0x23e961(0x337)][_0x38952a[_0x23e961(0x7ab)]][_0x23e961(0x153)](_0x556675);}async[a0_0x1d7ec3(0x529)](_0x556ebe){const _0x9b2b56=a0_0x1d7ec3;return await this['waMonitor'][_0x9b2b56(0x337)][_0x556ebe[_0x9b2b56(0x7ab)]][_0x9b2b56(0x529)]();}},Zt=class{constructor(_0x5f3d72){const _0x466e7f=a0_0x1d7ec3;this[_0x466e7f(0x27a)]=_0x5f3d72;}async[a0_0x1d7ec3(0x566)](_0x3f9b60,_0x48f5e3){const _0x288970=a0_0x1d7ec3;return this[_0x288970(0x27a)][_0x288970(0x585)](_0x3f9b60,_0x48f5e3);}async[a0_0x1d7ec3(0x473)](_0x51728d){const _0x5584f1=a0_0x1d7ec3;return this['webhookService'][_0x5584f1(0x44c)](_0x51728d);}},es=class extends _{constructor(_0x19fc14,_0x45e912){const _0x54c7e5=a0_0x1d7ec3;super(_0x45e912),this[_0x54c7e5(0x456)]=_0x19fc14,this[_0x54c7e5(0x75a)]=_0x45e912;}async[a0_0x1d7ec3(0x585)](_0xb3558e,_0x1d99da){const _0x283456=a0_0x1d7ec3;try{return this[_0x283456(0x3ed)][_0x283456(0x7ff)]?{'insertCount':(await this['webhookModel']['replaceOne']({'_id':_0x1d99da},{..._0xb3558e},{'upsert':!0x0}))[_0x283456(0x4ff)]}:{'insertCount':0x1};}catch(_0x3daf09){return _0x3daf09;}}async[a0_0x1d7ec3(0x174)](_0x22a7dc){const _0x11730c=a0_0x1d7ec3;try{if(this[_0x11730c(0x3ed)]['ENABLED']){await this[_0x11730c(0x456)]['deleteOne']({'_id':_0x22a7dc});return;}}catch(_0x13f1b0){return{'error':_0x13f1b0};}}async[a0_0x1d7ec3(0x44c)](_0x521450){const _0x32792a=a0_0x1d7ec3;try{if(this[_0x32792a(0x3ed)][_0x32792a(0x7ff)])return await this[_0x32792a(0x456)][_0x32792a(0x6f0)]({'_id':_0x521450});}catch{return{};}}},ts=class extends _{constructor(_0x1117d4,_0x18daa5){const _0x2d82df=a0_0x1d7ec3;super(_0x18daa5),this[_0x2d82df(0x39b)]=_0x1117d4,this['configService']=_0x18daa5,this['auth']=_0x18daa5[_0x2d82df(0x332)](_0x2d82df(0x243));}async[a0_0x1d7ec3(0x585)](_0x15fc1b,_0x216043){const _0x41c0a0=a0_0x1d7ec3;try{if(this['dbSettings'][_0x41c0a0(0x7ff)])return{'insertCount':(await this['authModel'][_0x41c0a0(0x171)]({'_id':_0x216043},{'$set':{..._0x15fc1b}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x21ed8e){return{'error':_0x21ed8e};}}async['updateAll'](_0x4b8ecc,_0x1c8d7a){const _0x1ace54=a0_0x1d7ec3;try{if(this[_0x1ace54(0x3ed)][_0x1ace54(0x7ff)])return{'insertCount':(await this['authModel']['updateMany'](_0x4b8ecc,{'$set':_0x1c8d7a},{'upsert':!0x1}))[_0x1ace54(0x4ff)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x3e2d05){return{'error':_0x3e2d05};}}async[a0_0x1d7ec3(0x7b3)](_0x15a093){const _0x475bf1=a0_0x1d7ec3;try{if(this[_0x475bf1(0x3ed)]['ENABLED'])return{'insertCount':(await this[_0x475bf1(0x39b)]['deleteMany'](_0x15a093))['deletedCount']};throw new Error(_0x475bf1(0x5cb));}catch(_0x570737){return{'error':_0x570737};}}async[a0_0x1d7ec3(0x174)](_0x2df540){const _0x30f930=a0_0x1d7ec3;try{if(this[_0x30f930(0x3ed)][_0x30f930(0x7ff)]){await this[_0x30f930(0x39b)][_0x30f930(0x40e)]({'_id':_0x2df540});return;}}catch(_0x494e61){return{'error':_0x494e61};}}async['find'](_0x272a06){const _0x1ee68d=a0_0x1d7ec3;try{if(this[_0x1ee68d(0x3ed)][_0x1ee68d(0x7ff)])return await this['authModel']['findOne']({'_id':_0x272a06});}catch{return{};}}async[a0_0x1d7ec3(0x5e3)](){const _0x50543a=a0_0x1d7ec3;try{if(this[_0x50543a(0x3ed)][_0x50543a(0x7ff)])return await this['authModel'][_0x50543a(0x44c)]();}catch{return[];}}async[a0_0x1d7ec3(0x530)](_0x390c0c){const _0x5444ee=a0_0x1d7ec3;try{if(this[_0x5444ee(0x3ed)][_0x5444ee(0x7ff)])return await this[_0x5444ee(0x39b)]['find'](_0x390c0c);}catch{return[];}}},ss=class extends _{async[a0_0x1d7ec3(0x40e)](_0xb0b9c){const _0xf65f93=a0_0x1d7ec3;try{let _0x1a2dda=A(_0xb0b9c['where']);return{'deletedCount':(await Ce[_0xf65f93(0x40e)](_0x1a2dda))[_0xf65f93(0x78a)]};}catch(_0x37ed0f){return{'error':_0x37ed0f?.[_0xf65f93(0x125)]()};}}async['updateOne'](_0x495d97,_0x4aad35){const _0x23b7f6=a0_0x1d7ec3;try{let _0xf22399=await Ce[_0x23b7f6(0x4dd)](_0x495d97);return _0xf22399?(Object['assign'](_0xf22399,_0x4aad35),await _0xf22399[_0x23b7f6(0x7db)]()):(console[_0x23b7f6(0x6f8)](_0x23b7f6(0x35b),_0x495d97),null);}catch(_0xa4b53b){return console[_0x23b7f6(0x6f8)](_0x23b7f6(0x203),_0xa4b53b),null;}}async[a0_0x1d7ec3(0x344)](_0x288457){const _0x2412ae=a0_0x1d7ec3;try{return await new Ce(_0x288457)[_0x2412ae(0x7db)]();}catch(_0x581965){return console[_0x2412ae(0x6f8)](_0x2412ae(0x616),_0x581965),null;}}async[a0_0x1d7ec3(0x5e3)](_0x168382){const _0x3a9caa=a0_0x1d7ec3;try{let _0x173222=_0x168382['where']??{};return await Ce[_0x3a9caa(0x44c)](_0x173222)[_0x3a9caa(0x48d)](_0x168382[_0x3a9caa(0x48d)]??0x0)[_0x3a9caa(0x573)]();}catch(_0x313fab){return console['error']('Erro\x20ao\x20buscar\x20fluxos:',_0x313fab),[];}}async['findOne'](_0x379071){const _0x42522d=a0_0x1d7ec3;try{let _0x2479ee=A(_0x379071[_0x42522d(0x2f7)]);return await Ce[_0x42522d(0x6f0)](_0x2479ee)[_0x42522d(0x573)]();}catch{return null;}}},as=class extends _{['getConversationModelForOwner'](_0x363f27){return Sa(_0x363f27);}async[a0_0x1d7ec3(0x718)](_0x414700){const _0x34f303=a0_0x1d7ec3;if(_0x414700[_0x34f303(0x387)]!==0x0)try{return{'insertCount':(await this[_0x34f303(0x4bf)](_0x414700[0x0]['owner'])[_0x34f303(0x7ea)]([..._0x414700]))[_0x34f303(0x387)]};}catch(_0x51f4c4){return _0x51f4c4;}}async[a0_0x1d7ec3(0x174)](_0x26284f,_0x330862){const _0x540502=a0_0x1d7ec3;try{let _0x113c54=this[_0x540502(0x4bf)](_0x330862),_0x33aa8c=A(_0x26284f[_0x540502(0x2f7)]);return{'deletedCount':(await _0x113c54['deleteMany'](_0x33aa8c))[_0x540502(0x78a)]};}catch(_0x3be0dc){return{'error':_0x3be0dc?.[_0x540502(0x125)]()};}}async[a0_0x1d7ec3(0x40e)](_0x1bcf3f,_0x326b99){const _0x5d8cbe=a0_0x1d7ec3;try{let _0x208e20=this[_0x5d8cbe(0x4bf)](_0x326b99),_0x3a55a8=A(_0x1bcf3f[_0x5d8cbe(0x2f7)]);return{'deletedCount':(await _0x208e20[_0x5d8cbe(0x40e)](_0x3a55a8))[_0x5d8cbe(0x78a)]};}catch(_0x4d76d3){return{'error':_0x4d76d3?.[_0x5d8cbe(0x125)]()};}}async[a0_0x1d7ec3(0x6c4)](_0x5effad,_0x3c7952){const _0x3854e5=a0_0x1d7ec3;try{if(_0x5effad[_0x3854e5(0x387)]===0x0)return;let _0x4c49ae=this['getConversationModelForOwner'](_0x3c7952),_0x307f96=_0x5effad['map'](_0x669148=>({'updateOne':{'filter':{'name':_0x669148['name'],'owner':_0x3c7952},'update':{..._0x669148}}})),{modifiedCount:_0x2d0028}=await _0x4c49ae[_0x3854e5(0xe4)](_0x307f96);return{'insertCount':_0x2d0028};}catch{return;}}async[a0_0x1d7ec3(0x3d6)](_0x31c688,_0x20bccc,_0x120e2f){const _0x3261fe=a0_0x1d7ec3;try{return{'modifiedCount':(await this[_0x3261fe(0x4bf)](_0x120e2f)[_0x3261fe(0x3d6)](_0x31c688,{'$set':_0x20bccc})[_0x3261fe(0x1a6)]())[_0x3261fe(0x4ff)]};}catch(_0x3de063){return console[_0x3261fe(0x6f8)](_0x3261fe(0x7af),_0x3de063),{'error':_0x3de063};}}async['updateOne'](_0x25432c,_0x82fe0d,_0x49d6c0){const _0x557abb=a0_0x1d7ec3;try{return await this['getConversationModelForOwner'](_0x49d6c0)[_0x557abb(0x547)]({'_id':_0x25432c},{'$set':_0x82fe0d},{'new':!0x0,'upsert':!0x0})[_0x557abb(0x573)]();}catch(_0x485906){return console[_0x557abb(0x6f8)](_0x485906),null;}}async[a0_0x1d7ec3(0x44c)](_0x4e6311,_0x561b7f){const _0x40e26c=a0_0x1d7ec3;try{return await this['getConversationModelForOwner'](_0x561b7f)[_0x40e26c(0x44c)](_0x4e6311)[_0x40e26c(0x3d4)]({'lastInteraction':-0x1})[_0x40e26c(0x573)]();}catch{return[];}}async[a0_0x1d7ec3(0x6f0)](_0x52a44f,_0x23477d){const _0x3939ff=a0_0x1d7ec3;try{return await this['getConversationModelForOwner'](_0x23477d)[_0x3939ff(0x6f0)]({..._0x52a44f['where']})[_0x3939ff(0x573)]();}catch{return null;}}async[a0_0x1d7ec3(0x4a8)](_0xc648){const _0x300928=a0_0x1d7ec3;try{return await this[_0x300928(0x4bf)](_0xc648)[_0x300928(0x4ba)]['drop'](),{'success':!0x0};}catch(_0x264640){return console['error'](_0x264640),{'success':!0x1,'error':_0x264640};}}},is=class extends _{[a0_0x1d7ec3(0x294)](_0xd199a3){return Ma(_0xd199a3);}async[a0_0x1d7ec3(0xe4)](_0x53c581,_0x6f7cb7){const _0x578dc6=a0_0x1d7ec3;try{return await this[_0x578dc6(0x294)](_0x6f7cb7)['bulkWrite'](_0x53c581);}catch(_0x20a9f9){return console['error'](_0x578dc6(0x6f1),_0x20a9f9),null;}}async[a0_0x1d7ec3(0x344)](_0x302226,_0x5f1587){const _0x5ac361=a0_0x1d7ec3;try{let _0x22bf26=this[_0x5ac361(0x294)](_0x5f1587);return await new _0x22bf26(_0x302226)[_0x5ac361(0x7db)]();}catch(_0x12f191){return console[_0x5ac361(0x6f8)](_0x5ac361(0x11e),_0x12f191),null;}}async[a0_0x1d7ec3(0x40e)](_0x1806ec,_0x23d1d2){const _0x385468=a0_0x1d7ec3;try{return await this[_0x385468(0x294)](_0x23d1d2)[_0x385468(0x377)](_0x1806ec),{};}catch(_0x2361a){return{'error':_0x2361a?.['toString']()};}}async[a0_0x1d7ec3(0x171)](_0x27d6c3,_0x2d4fd5,_0x23b497,_0x5892cf={}){const _0x548e3f=a0_0x1d7ec3;try{return await this[_0x548e3f(0x294)](_0x23b497)[_0x548e3f(0x547)](_0x27d6c3,_0x2d4fd5,{..._0x5892cf,'new':!0x0})['lean']();}catch(_0x487bee){return console['error'](_0x548e3f(0x159),_0x487bee),null;}}async[a0_0x1d7ec3(0x765)](_0x4e7f99,_0x3afe2b,_0x6588d8){const _0x3d369e=a0_0x1d7ec3;try{return await this['getScheduleMessageModelForOwner'](_0x6588d8)[_0x3d369e(0x73c)](_0x4e7f99,_0x3afe2b,{'new':!0x0})[_0x3d369e(0x573)]();}catch(_0x25fffc){return console[_0x3d369e(0x6f8)](_0x3d369e(0x159),_0x25fffc),null;}}async['find'](_0x503cf6,_0x1131c9){const _0x51dbc9=a0_0x1d7ec3;try{return await this['getScheduleMessageModelForOwner'](_0x1131c9)['find'](_0x503cf6['where'])[_0x51dbc9(0x48d)](_0x503cf6?.[_0x51dbc9(0x48d)]??0x0)[_0x51dbc9(0x3d4)]({'when':0x1})[_0x51dbc9(0x573)]();}catch{return[];}}async[a0_0x1d7ec3(0x6f0)](_0x1aafae,_0x59e7d9){const _0x430723=a0_0x1d7ec3;try{return await this['getScheduleMessageModelForOwner'](_0x59e7d9)[_0x430723(0x6f0)](_0x1aafae[_0x430723(0x2f7)])['sort']({'when':0x1})[_0x430723(0x573)]();}catch{return null;}}async[a0_0x1d7ec3(0x4dd)](_0x4a769f,_0x462bb2){const _0x434ced=a0_0x1d7ec3;try{return await this[_0x434ced(0x294)](_0x462bb2)[_0x434ced(0x4dd)](_0x4a769f)[_0x434ced(0x573)]();}catch{return null;}}async[a0_0x1d7ec3(0x7b3)](_0x315c53,_0x355fec){const _0x815a9d=a0_0x1d7ec3;try{return{'deletedCount':(await this[_0x815a9d(0x294)](_0x355fec)['deleteMany'](_0x315c53))['deletedCount']};}catch(_0x4694ce){return console[_0x815a9d(0x6f8)](_0x815a9d(0x61b),_0x4694ce),{'error':_0x4694ce};}}async[a0_0x1d7ec3(0x4a8)](_0x1c4652){const _0x51a5c7=a0_0x1d7ec3;try{return await this[_0x51a5c7(0x294)](_0x1c4652)[_0x51a5c7(0x4ba)][_0x51a5c7(0x39c)](),{'success':!0x0};}catch(_0xf7bb05){return console[_0x51a5c7(0x6f8)](_0xf7bb05),{'success':!0x1,'error':_0xf7bb05};}}},os=class extends _{async[a0_0x1d7ec3(0x6c4)](_0x48ee74,_0x151bcf){const _0x37807a=a0_0x1d7ec3;try{if(this[_0x37807a(0x3ed)][_0x37807a(0x7ff)])return await Ie[_0x37807a(0x547)]({'_id':_0x151bcf},{'$set':_0x48ee74},{'new':!0x0});}catch(_0x4e7070){throw console['error']('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x4e7070),_0x4e7070;}}async['findOrCreate'](_0x22d192){const _0x5674d9=a0_0x1d7ec3;try{let _0x229e7a=await Ie['findById'](_0x22d192);return _0x229e7a?_0x229e7a['autoCompleteMessages']||(_0x229e7a[_0x5674d9(0x46f)]=[],await _0x229e7a['save']()):(_0x229e7a=new Ie({'_id':_0x22d192,'autoCompleteMessages':[]}),await _0x229e7a[_0x5674d9(0x7db)]()),_0x229e7a;}catch(_0x334fb4){return _0x334fb4['code']===0x2af8&&_0x334fb4[_0x5674d9(0x503)]&&_0x334fb4[_0x5674d9(0x503)][_0x5674d9(0x88)]?(console[_0x5674d9(0x6f8)](_0x5674d9(0x303)),await Ie[_0x5674d9(0x4ba)][_0x5674d9(0x3af)](_0x5674d9(0x7c1)),null):(console['error'](_0x5674d9(0x105),_0x334fb4),null);}}},jo=new $('WA\x20MODULE'),Jo=new Ke(S),qo=new Jt(S),Vo=new rt(S),Go=new qt(oa,S),Bo=new Vt(na,S),Wo=new es(ha,S),zo=new ts(ua,S),Ho=new Ne(Be,S),Ko=new ss(S),Qo=new Gt(S),Yo=new as(S),Xo=new is(S),Zo=new os(S),fe=new ze(Jo,qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Yo,Qo,Xo,Zo,I?.[a0_0x1d7ec3(0x425)]()),G=new jt(hs,S,fe),er=new Kt(S,G,fe),tr=new Yt(G),As=new Zt(tr),O=new Xt(G),de=new zt(G,S,fe,hs,er),W=new Ht(G),P=new Bt(G),q=new Qt(G);jo[a0_0x1d7ec3(0x696)]('Module\x20-\x20ON');var $g=require('express-async-errors'),js=require('fs'),Pi=T(require('https')),ki=T(require('http')),Ue=class u{static #e;static set['app'](_0xd77dbf){this.#e=_0xd77dbf;}static get[a0_0x1d7ec3(0x273)](){const _0x489955=a0_0x1d7ec3;let {FULLCHAIN:_0x88ce48,PRIVKEY:_0x210871}=S[_0x489955(0x332)](_0x489955(0x4c4));return Pi[_0x489955(0x4ac)]({'cert':(0x0,js[_0x489955(0x4ad)])(_0x88ce48),'key':(0x0,js[_0x489955(0x4ad)])(_0x210871)},u.#e);}static get[a0_0x1d7ec3(0x550)](){const _0x5d0ec1=a0_0x1d7ec3;return ki[_0x5d0ec1(0x4ac)](u.#e);}},je=T(require('fs')),qi=T(require(a0_0x1d7ec3(0x1b8))),Je=T(require(a0_0x1d7ec3(0x3c3))),ns=T(require(a0_0x1d7ec3(0x524))),rs=require(a0_0x1d7ec3(0x2fc));function sr(){const _0x237ee7=a0_0x1d7ec3;G[_0x237ee7(0x6bf)]();let _0x3d3203=ns[_0x237ee7(0x1af)][_0x237ee7(0x7e1)](__dirname,_0x237ee7(0x6b9));Ji(_0x3d3203);}var Ji=_0x219737=>{const _0xaf6e75=a0_0x1d7ec3;let _0x34b358=je[_0xaf6e75(0x1af)]['readdirSync'](_0x219737),_0x394e1c=0xc*0x3c*0x3c*0x3e8,_0x11065f=0x2*0x3c*0x3c*0x3e8,_0x1f7a4d=new Date()[_0xaf6e75(0x736)]();_0x34b358[_0xaf6e75(0xb2)](_0x21c19a=>{const _0x4c8157=_0xaf6e75;let _0x331978=ns[_0x4c8157(0x1af)]['join'](_0x219737,_0x21c19a),_0x50abad=je[_0x4c8157(0x1af)]['statSync'](_0x331978)[_0x4c8157(0x7bc)][_0x4c8157(0x736)]();_0x1f7a4d-_0x50abad>_0x394e1c&&(je['default']['unlinkSync'](_0x331978),console['log'](_0x4c8157(0x6cd)+_0x21c19a));}),setTimeout(()=>Ji(_0x219737),_0x11065f);};function ar(){const _0x235411=a0_0x1d7ec3;let _0x517170=new $(_0x235411(0x1f2)),_0xa833d8=(0x0,ye[_0x235411(0x1af)])();_0xa833d8[_0x235411(0x6ad)]((0x0,ji['default'])({'origin'(_0x23c54e,_0x1cf2cd){const _0x3114ce=_0x235411;let {ORIGIN:_0x144e04}=S[_0x3114ce(0x332)](_0x3114ce(0x2c0));return _0x23c54e||(_0x23c54e='*'),_0x144e04[_0x3114ce(0x43b)]('*')!==-0x1||_0x144e04[_0x3114ce(0x43b)](_0x23c54e)!==-0x1?_0x1cf2cd(null,!0x0):_0x1cf2cd(new Error(_0x3114ce(0x385)));},'methods':[...S['get'](_0x235411(0x2c0))[_0x235411(0x3aa)]],'credentials':S['get']('CORS')[_0x235411(0xb5)]}),(0x0,ye[_0x235411(0x4de)])({'extended':!0x0,'limit':'50mb'}),(0x0,ye[_0x235411(0x16f)])({'limit':_0x235411(0x54f)})),_0xa833d8[_0x235411(0x6ad)]((_0xa2680c,_0x165e0a,_0x5985b7)=>{const _0x2691b4=_0x235411;_0xa2680c['path'][_0x2691b4(0x1b2)](_0x2691b4(0x103))?_0x5985b7():(0x0,Ui[_0x2691b4(0x1af)])()(_0xa2680c,_0x165e0a,_0x5985b7);}),_0xa833d8[_0x235411(0x25e)](_0x235411(0x751),_0x235411(0x53e)),_0xa833d8[_0x235411(0x25e)](_0x235411(0x176),(0x0,qs['join'])(le,_0x235411(0x176))),_0xa833d8[_0x235411(0x6ad)](ye[_0x235411(0x1af)][_0x235411(0x47c)]((0x0,qs[_0x235411(0x7e1)])(le,'public'))),_0xa833d8[_0x235411(0x6ad)]((_0x4009cc,_0x5a1eb4,_0x2cb0d6)=>{const _0x31f79b=_0x235411;let _0x2ec4bf=_0x5a1eb4[_0x31f79b(0x7f0)];_0x5a1eb4[_0x31f79b(0x7f0)]=function(_0x327a15){const _0x2c348c=_0x31f79b;if(_0x4009cc[_0x2c348c(0x4c9)][_0x2c348c(0x32c)]===_0x2c348c(0x39f)||_0x4009cc['headers'][_0x2c348c(0x28f)]===_0x2c348c(0x39f)){let _0x2de352=JSON[_0x2c348c(0x665)](_0x327a15);_0x327a15=JSON['stringify'](_0x1bcb84(_0x2de352));}return _0x2ec4bf[_0x2c348c(0x521)](_0x5a1eb4,[_0x327a15]);},_0x2cb0d6();}),_0xa833d8[_0x235411(0x6ad)]('/',ke),_0xa833d8[_0x235411(0x6ad)]((_0x2585b8,_0x58fb3c,_0x21054b,_0x19ced5)=>{const _0x1b308f=_0x235411;if(_0x2585b8)return _0x21054b[_0x1b308f(0x77f)](_0x2585b8['status']||0x1f4)[_0x1b308f(0x16f)](_0x2585b8);},(_0x55be96,_0x58cd9b,_0x5d5126)=>{const _0x32871e=_0x235411;let {method:_0x15c3c2,url:_0x6ca743}=_0x55be96;_0x58cd9b[_0x32871e(0x77f)](0x194)[_0x32871e(0x16f)]({'status':0x194,'message':_0x32871e(0x261)+_0x15c3c2['toUpperCase']()+'\x20'+_0x6ca743,'error':_0x32871e(0x46c)}),_0x5d5126();});let _0x1bcb84=(_0x4bce7e,_0x39e33e=_0x235411(0x606))=>{const _0x43bc37=_0x235411;let _0x3a1dd3=(_0x1508a3,_0x580403=null,_0x3f9279=!0x1)=>{const _0x1027ae=a0_0x5af0;let _0x37aeba={};return Object[_0x1027ae(0x29b)](_0x1508a3)[_0x1027ae(0xb2)](_0x4bb3e1=>{const _0x13746d=_0x1027ae;let _0x562601=_0x1508a3[_0x4bb3e1],_0x51ffbf=''+_0x39e33e+_0x4bb3e1;_0x580403&&!_0x3f9279&&(_0x51ffbf=_0x580403+'.'+_0x4bb3e1),!_0x562601&&_0x562601!==0x0&&_0x562601!==!0x1||typeof _0x562601>'u'?_0x37aeba[_0x51ffbf]=null:typeof _0x562601!='object'&&!Array[_0x13746d(0xab)](_0x562601)?_0x37aeba[_0x51ffbf]=_0x562601:typeof _0x562601=='object'&&!Array['isArray'](_0x562601)?_0x37aeba=Object[_0x13746d(0x790)](_0x37aeba,_0x3a1dd3(_0x562601,_0x51ffbf)):Array['isArray'](_0x562601)&&(typeof _0x562601[0x0]=='object'?(_0x37aeba[_0x51ffbf]=[],_0x562601[_0x13746d(0xb2)](_0x1a7f85=>{const _0x1223c8=_0x13746d;_0x37aeba[_0x51ffbf][_0x1223c8(0x1fc)](_0x3a1dd3(_0x1a7f85,_0x51ffbf,!0x0));})):_0x37aeba[_0x51ffbf]=_0x562601);}),_0x37aeba;};return Array['isArray'](_0x4bce7e)?_0x4bce7e[_0x43bc37(0x5c2)](_0x3fc67b=>_0x3a1dd3(_0x3fc67b)):typeof _0x4bce7e==_0x43bc37(0x4b9)&&_0x4bce7e!==null?_0x3a1dd3(_0x4bce7e):{};},_0x481299=S[_0x235411(0x332)]('SERVER');Ue[_0x235411(0x40b)]=_0xa833d8;let _0x268db0=Ue[_0x481299[_0x235411(0x4f8)]],_0x394bab=_0x235411(0x5cc);_0x268db0['listen'](_0x481299['PORT'],()=>{const _0x2d7768=_0x235411;_0x517170[_0x2d7768(0xa6)](_0x394bab),_0x517170[_0x2d7768(0xa6)](_0x481299[_0x2d7768(0x4f8)]['toUpperCase']()+_0x2d7768(0xcc)+_0x481299[_0x2d7768(0x355)]);}),sr(),Zs();}var ir=a0_0x1d7ec3(0x259),or=ns['default'][a0_0x1d7ec3(0x7e1)](__dirname,'./.git/config'),Re=null;function rr(){return new Promise((_0x1e6cd0,_0x55324c)=>{const _0x120452=a0_0x5af0;je[_0x120452(0x1af)][_0x120452(0x326)](or,_0x120452(0x16e),(_0x3d8300,_0x4b31b0)=>{const _0x595920=_0x120452;if(_0x3d8300){Re=_0x3d8300,_0x1e6cd0();return;}qi[_0x595920(0x1af)][_0x595920(0x665)](_0x4b31b0)[_0x595920(0x30a)][_0x595920(0x6fa)]===ir?(Re=null,_0x1e6cd0()):(Re=new Error(_0x595920(0x30b)),_0x1e6cd0());});});}async function nr(){const _0xdd000e=a0_0x1d7ec3;try{await rr(),await Vs();}catch(_0x173169){console['error']('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x173169),process[_0xdd000e(0x2dd)](0x1);}}nr();async function Vi(){const _0x67be04=a0_0x1d7ec3;let _0x4ecdbb;try{_0x4ecdbb=(await Je[_0x67be04(0x1af)][_0x67be04(0x332)]('https://jsonip.com'))[_0x67be04(0x470)]['ip'];}catch(_0xe80b4){console[_0x67be04(0x6f8)](_0xe80b4);try{_0x4ecdbb=(await Je['default']['get']('https://api.ipify.org?format=json'))[_0x67be04(0x470)]['ip'];}catch(_0x387dca){console[_0x67be04(0x6f8)](_0x387dca);try{_0x4ecdbb=(await Je[_0x67be04(0x1af)]['get'](_0x67be04(0x7ce)))['data'][_0x67be04(0x20e)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x1662cb){return console[_0x67be04(0x6f8)](_0x1662cb),!0x1;}}}return _0x4ecdbb;}var Li=0x0;async function cr(){const _0x30e3b1=a0_0x1d7ec3;let _0x422ca6=await new pe(S[_0x30e3b1(0x332)]('REDIS'))[_0x30e3b1(0x402)]();return console['log'](_0x30e3b1(0x15e),_0x422ca6[_0x30e3b1(0x387)]),_0x422ca6[_0x30e3b1(0x387)];}function lr(_0x24f3e6){const _0xace839=a0_0x1d7ec3;let _0x1babcb=_0x24f3e6[_0xace839(0x332)](_0xace839(0x1f2))[_0xace839(0x4e1)],_0x4d153c=_0x24f3e6[_0xace839(0x332)](_0xace839(0x4c4));console['log']('Valor\x20da\x20URL\x20recuperada:',_0x1babcb),console['log'](_0xace839(0x112),_0x4d153c);let _0x44e643='',_0x7808de=_0x1babcb||'';if(_0x1babcb){let _0x2f3c28=_0x1babcb[_0xace839(0x20e)](/\/\/(.*?)\./);console[_0xace839(0xa6)](_0xace839(0x50d),_0x2f3c28),_0x2f3c28&&_0x2f3c28[0x1]&&(_0x44e643=_0x2f3c28[0x1],console[_0xace839(0xa6)](_0xace839(0x247),_0x44e643));}if(!_0x44e643&&_0x4d153c&&_0x4d153c['FULLCHAIN']){let _0x4344af=_0x4d153c[_0xace839(0x548)]['split']('/');console[_0xace839(0xa6)]('Partes\x20do\x20caminho\x20FULLCHAIN:',_0x4344af);let _0x2f2cbf=_0x4344af[_0x4344af['length']-0x2];if(console[_0xace839(0xa6)](_0xace839(0xf3),_0x2f2cbf),_0x2f2cbf){let _0xc47ce6=_0x2f2cbf[_0xace839(0x5f3)]('.');console[_0xace839(0xa6)](_0xace839(0x3b1),_0xc47ce6),_0xc47ce6['length']>0x2&&(_0x44e643=_0xc47ce6[0x0],console['log'](_0xace839(0x31e),_0x44e643),_0x7808de=''+_0x2f2cbf);}}return{'subdomain':_0x44e643||_0xace839(0x1de),'fullURL':_0x7808de||_0xace839(0x2c6)};}var {subdomain:B,fullURL:Gs}=lr(S);console[a0_0x1d7ec3(0xa6)](a0_0x1d7ec3(0x71b),B),console[a0_0x1d7ec3(0xa6)](a0_0x1d7ec3(0x617),Gs);async function ur(){const _0x16f9cd=a0_0x1d7ec3;let _0x56f7d1=S[_0x16f9cd(0x332)](_0x16f9cd(0x6b4)),_0x5ac365=S[_0x16f9cd(0x332)](_0x16f9cd(0x243))[_0x16f9cd(0x555)][_0x16f9cd(0x34f)],_0x15a60d=S['get'](_0x16f9cd(0x4c4)),_0x27dbd2=await Vi(),_0x4bf988=S['get'](_0x16f9cd(0x1f2))[_0x16f9cd(0x355)],_0x5233f2=Gs;try{let _0x57cc27={'ip':_0x27dbd2||null,'redis_enable':_0x56f7d1?.[_0x16f9cd(0x7ff)]||null,'apikey':_0x5ac365||null,'ssl':_0x15a60d?.[_0x16f9cd(0x79a)]||null,'lastupdate':Gi||null,'port':_0x4bf988||null,'gitInstallError':Re?.[_0x16f9cd(0x3bf)]||null,'url':_0x5233f2||null,'subdomain':B};if(console[_0x16f9cd(0xa6)](_0x16f9cd(0x523),_0x57cc27['ip']),_0x56f7d1&&_0x56f7d1[_0x16f9cd(0x7ff)]){let _0x2f154c=await cr();_0x57cc27['instanceCount']=_0x2f154c||null;}for(let _0x3886e5 in _0x57cc27)_0x57cc27[_0x16f9cd(0x748)](_0x3886e5)&&_0x3886e5!=='ip'&&(_0x57cc27[_0x3886e5]=JSON[_0x16f9cd(0x115)](_0x57cc27[_0x3886e5]));return(await Je[_0x16f9cd(0x1af)]['post'](_0x16f9cd(0x5c0),_0x57cc27))[_0x16f9cd(0x470)];}catch(_0x2662c2){return console[_0x16f9cd(0x6f8)](_0x2662c2),!0x1;}}var Js=!0x1,Gi=0x273,dr=0x3,Fi=0x1b7740;async function Vs(){const _0x4d3cc9=a0_0x1d7ec3;let _0x3e4197=_0x4d3cc9(0x7fc);Re===null&&(_0x3e4197=await Vi());let _0x269ab1=await ur();if(_0x269ab1){if(_0x269ab1[_0x4d3cc9(0x5bc)][_0x4d3cc9(0x331)]===!0x0){Re===null&&_0x269ab1['response']['last_update']-Gi>0x0&&await pr(),Js||(Js=!0x0,ar());let _0x5d92e2=0x24*0x3c*0x3c,_0x3be247=_0x269ab1[_0x4d3cc9(0x5bc)]['segundos']>_0x5d92e2?_0x5d92e2:_0x269ab1[_0x4d3cc9(0x5bc)][_0x4d3cc9(0x732)],_0xe88a35=Number(_0x3be247);if(isNaN(_0xe88a35)){console[_0x4d3cc9(0x6f8)](_0x4d3cc9(0x484));return;}let _0x432314=Math[_0x4d3cc9(0x518)](_0xe88a35/0xe10),_0x4ed0c9=Math[_0x4d3cc9(0x518)](_0xe88a35%0xe10/0x3c),_0xafcfe1=new Date(Date[_0x4d3cc9(0xe6)]()+_0xe88a35*0x3e8);setTimeout(Vs,_0xe88a35*0x3e8);let _0x35194a=_0x1c8766=>_0x1c8766[_0x4d3cc9(0x125)]()[_0x4d3cc9(0x181)](0x2,'0'),_0x204e3b='Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20'+_0x35194a(_0x432314)+_0x4d3cc9(0x504)+_0x35194a(_0x4ed0c9)+_0x4d3cc9(0x73e)+_0x35194a(_0xafcfe1[_0x4d3cc9(0x24b)]())+':'+_0x35194a(_0xafcfe1[_0x4d3cc9(0x175)]())+'.';console[_0x4d3cc9(0xa6)](_0x204e3b);}else return console[_0x4d3cc9(0xa6)](_0x4d3cc9(0x6d2)),Js&&(console[_0x4d3cc9(0xa6)](_0x4d3cc9(0x29f)),process['exit']()),'LICENSE_INVALID';}else{if(Li++,Li<dr)console['log']('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Fi/0xea60+_0x4d3cc9(0x106)),setTimeout(Vs,Fi);else return console[_0x4d3cc9(0x6f8)](_0x4d3cc9(0x792)),_0x4d3cc9(0x572);}}async function pr(){const _0xb4926b=a0_0x1d7ec3;console[_0xb4926b(0xa6)](_0xb4926b(0x789)),console[_0xb4926b(0xa6)](_0xb4926b(0x6ec)),(0x0,rs[_0xb4926b(0x20d)])(_0xb4926b(0x43d),{'shell':!0x0})['on'](_0xb4926b(0x4fe),_0x5a8544=>{const _0x50fdff=_0xb4926b;_0x5a8544!==0x0?console[_0x50fdff(0x6f8)](_0x50fdff(0x698)):(console[_0x50fdff(0xa6)]('Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.'),console[_0x50fdff(0xa6)](_0x50fdff(0x93)),(0x0,rs[_0x50fdff(0x20d)])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on'](_0x50fdff(0x4fe),_0x3caa67=>{const _0x52db52=_0x50fdff;if(_0x3caa67!==0x0)console[_0x52db52(0x6f8)](_0x52db52(0x436));else{console['log']('Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.');let _0x3afb84=(0x0,rs['spawn'])(_0x52db52(0xf7),{'shell':!0x0});_0x3afb84[_0x52db52(0x53c)]['on'](_0x52db52(0x470),_0x518331=>{const _0x168334=_0x52db52;console[_0x168334(0xa6)](_0x168334(0x462)+_0x518331);}),_0x3afb84['stderr']['on'](_0x52db52(0x470),_0x507709=>{const _0x430362=_0x52db52;console[_0x430362(0x6f8)](_0x430362(0x127)+_0x507709);}),_0x3afb84['on']('exit',_0x3f482=>{const _0x113765=_0x52db52;_0x3f482!==0x0?console['error']('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x3f482):console['log']('Sistema\x20atualizado\x20com\x20sucesso!'),console['log'](_0x113765(0x1e0)),setTimeout(()=>process[_0x113765(0x2dd)](),0x2710);});}}));});}0x0&&(module[a0_0x1d7ec3(0x766)]={'fullURL':fullURL,'subdomain':subdomain});