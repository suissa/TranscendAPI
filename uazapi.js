const a0_0x75ac12=a0_0x2e53;(function(_0x406000,_0x14836d){const _0x50df98=a0_0x2e53,_0x4a9d25=_0x406000();while(!![]){try{const _0x50ebfe=-parseInt(_0x50df98(0x61f))/0x1+-parseInt(_0x50df98(0x5ff))/0x2+parseInt(_0x50df98(0x5bc))/0x3+parseInt(_0x50df98(0x335))/0x4*(parseInt(_0x50df98(0x3c2))/0x5)+parseInt(_0x50df98(0x571))/0x6*(parseInt(_0x50df98(0x45d))/0x7)+parseInt(_0x50df98(0x69b))/0x8*(-parseInt(_0x50df98(0x379))/0x9)+parseInt(_0x50df98(0x6b8))/0xa;if(_0x50ebfe===_0x14836d)break;else _0x4a9d25['push'](_0x4a9d25['shift']());}catch(_0x2ae94d){_0x4a9d25['push'](_0x4a9d25['shift']());}}}(a0_0x47be,0xf25a6));var Hi=Object[a0_0x75ac12(0x28d)],Be=Object[a0_0x75ac12(0x596)],Ki=Object[a0_0x75ac12(0x723)],Qi=Object[a0_0x75ac12(0x825)],Yi=Object[a0_0x75ac12(0x19d)],Xi=Object[a0_0x75ac12(0x1f4)][a0_0x75ac12(0x181)],Zi=(_0x753815,_0x2ee285)=>{for(var _0x1873bd in _0x2ee285)Be(_0x753815,_0x1873bd,{'get':_0x2ee285[_0x1873bd],'enumerable':!0x0});},zs=(_0x2aac62,_0x114005,_0x3122a7,_0x3c0c6e)=>{const _0x4e4605=a0_0x75ac12;if(_0x114005&&typeof _0x114005==_0x4e4605(0x307)||typeof _0x114005==_0x4e4605(0x103)){for(let _0x3d3069 of Qi(_0x114005))!Xi[_0x4e4605(0x80c)](_0x2aac62,_0x3d3069)&&_0x3d3069!==_0x3122a7&&Be(_0x2aac62,_0x3d3069,{'get':()=>_0x114005[_0x3d3069],'enumerable':!(_0x3c0c6e=Ki(_0x114005,_0x3d3069))||_0x3c0c6e[_0x4e4605(0xee)]});}return _0x2aac62;},I=(_0x3e1da6,_0x4b0b10,_0x198ebf)=>(_0x198ebf=_0x3e1da6!=null?Hi(Yi(_0x3e1da6)):{},zs(_0x4b0b10||!_0x3e1da6||!_0x3e1da6[a0_0x75ac12(0x7b3)]?Be(_0x198ebf,a0_0x75ac12(0x636),{'value':_0x3e1da6,'enumerable':!0x0}):_0x198ebf,_0x3e1da6)),eo=_0x5fb429=>zs(Be({},a0_0x75ac12(0x7b3),{'value':!0x0}),_0x5fb429),gr={};Zi(gr,{'fullURL':()=>Bs,'subdomain':()=>K}),module[a0_0x75ac12(0x108)]=eo(gr);var qi=I(require(a0_0x75ac12(0x38e))),Ks=require('fs'),Qs=require(a0_0x75ac12(0x3b9)),Ys=require(a0_0x75ac12(0x1c0)),We=require(a0_0x75ac12(0x1c0)),ue=process[a0_0x75ac12(0x6e4)](),Me=(0x0,We[a0_0x75ac12(0x215)])(ue,a0_0x75ac12(0x6fd)),Hs=(0x0,We[a0_0x75ac12(0x215)])(ue,a0_0x75ac12(0x1a7)),sn=(0x0,We[a0_0x75ac12(0x215)])(ue,a0_0x75ac12(0x423),'auth'),hs=class{constructor(){const _0x16da2a=a0_0x75ac12;this[_0x16da2a(0x648)]();}[a0_0x75ac12(0x407)](_0x2294f4){const _0x303e35=a0_0x75ac12;return this[_0x303e35(0x83e)][_0x2294f4];}['loadEnv'](){const _0x5d262c=a0_0x75ac12;this[_0x5d262c(0x83e)]=process['env']?.[_0x5d262c(0x6ba)]!==_0x5d262c(0x422)?this[_0x5d262c(0x3a4)]():this[_0x5d262c(0x35a)](),process['env']?.['DOCKER_ENV']===_0x5d262c(0x422)&&(this[_0x5d262c(0x83e)][_0x5d262c(0x3fc)][_0x5d262c(0x827)]=_0x5d262c(0x5e7),this[_0x5d262c(0x83e)][_0x5d262c(0x3fc)][_0x5d262c(0x12d)]=Number[_0x5d262c(0x4d4)](process[_0x5d262c(0x83e)]?.[_0x5d262c(0x5aa)]??'8080'));}['envYaml'](){const _0x546ecc=a0_0x75ac12;return(0x0,Qs[_0x546ecc(0x64f)])((0x0,Ks[_0x546ecc(0x5ec)])((0x0,Ys['join'])(Hs,_0x546ecc(0x339)),{'encoding':_0x546ecc(0x6fc)}));}[a0_0x75ac12(0x35a)](){const _0x45de46=a0_0x75ac12;return{'SERVER':{'TYPE':process['env'][_0x45de46(0x48a)],'PORT':Number[_0x45de46(0x4d4)](process[_0x45de46(0x83e)][_0x45de46(0x5aa)]),'URL':process['env'][_0x45de46(0x72b)]},'CORS':{'ORIGIN':process['env'][_0x45de46(0x10d)][_0x45de46(0x170)](','),'METHODS':process[_0x45de46(0x83e)][_0x45de46(0x794)]['split'](','),'CREDENTIALS':process[_0x45de46(0x83e)]?.[_0x45de46(0x7b1)]===_0x45de46(0x422)},'SSL_CONF':{'PRIVKEY':process[_0x45de46(0x83e)]?.[_0x45de46(0x270)],'FULLCHAIN':process[_0x45de46(0x83e)]?.[_0x45de46(0x5ae)]},'STORE':{'CLEANING_INTERVAL':Number[_0x45de46(0x1d3)](process[_0x45de46(0x83e)]?.['STORE_CLEANING_TERMINAL'])?Number['parseInt'](process['env'][_0x45de46(0x338)]):void 0x0,'MESSAGES':process[_0x45de46(0x83e)]?.[_0x45de46(0x801)]===_0x45de46(0x422),'CONTACTS':process[_0x45de46(0x83e)]?.[_0x45de46(0x2cb)]===_0x45de46(0x422),'CHATS':process[_0x45de46(0x83e)]?.[_0x45de46(0x146)]===_0x45de46(0x422)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x45de46(0x643)],'PORT':Number[_0x45de46(0x4d4)](process[_0x45de46(0x83e)]?.['DATABASE_CONNECTION_HOST']),'USER':process['env'][_0x45de46(0x56e)],'PASSWORD':process[_0x45de46(0x83e)][_0x45de46(0x792)],'URI':process['env'][_0x45de46(0x361)],'DB_PREFIX_NAME':process[_0x45de46(0x83e)][_0x45de46(0x597)]},'ENABLED':process['env']?.[_0x45de46(0x62a)]===_0x45de46(0x422)},'REDIS':{'ENABLED':process[_0x45de46(0x83e)]?.[_0x45de46(0x1cd)]==='true','URI':process[_0x45de46(0x83e)][_0x45de46(0x7b8)]||_0x45de46(0x2fc),'PREFIX_KEY':process[_0x45de46(0x83e)]['REDIS_PREFIX_KEY']||'uazapi'},'LOG':{'LEVEL':process['env']?.[_0x45de46(0x359)]['split'](','),'COLOR':process[_0x45de46(0x83e)]?.[_0x45de46(0x65c)]==='true'},'PROXY':process[_0x45de46(0x83e)]?.['PROXY']===_0x45de46(0x422),'AUTHENTICATION':{'TYPE':process[_0x45de46(0x83e)][_0x45de46(0x289)],'API_KEY':{'KEY':process[_0x45de46(0x83e)][_0x45de46(0x4cb)]},'JWT':{'EXPIRIN_IN':Number[_0x45de46(0x1d3)](process[_0x45de46(0x83e)]?.[_0x45de46(0x4e6)])?Number[_0x45de46(0x4d4)](process['env'][_0x45de46(0x4e6)]):0xe10,'SECRET':process['env']['AUTHENTICATION_JWT_SECRET']}}};}},b=new hs(),Vi=I(require(a0_0x75ac12(0x5ba))),be=I(require(a0_0x75ac12(0x82a))),Vs=require(a0_0x75ac12(0x1c0)),gs=I(require(a0_0x75ac12(0x247))),ms=(_0x474e21=>(_0x474e21[a0_0x75ac12(0x7dd)]=a0_0x75ac12(0x2e9),_0x474e21['INFO']=a0_0x75ac12(0x2b7),_0x474e21[a0_0x75ac12(0x6ef)]=a0_0x75ac12(0x11e),_0x474e21['ERROR']=a0_0x75ac12(0x5b9),_0x474e21['DEBUG']=a0_0x75ac12(0x39d),_0x474e21[a0_0x75ac12(0x183)]=a0_0x75ac12(0x38f),_0x474e21[a0_0x75ac12(0x415)]=a0_0x75ac12(0x246),_0x474e21))(ms||{}),Xs=(_0x1313ee=>(_0x1313ee[a0_0x75ac12(0x7dd)]=a0_0x75ac12(0x28a),_0x1313ee['DARK']='\x1b[30m%s\x1b[0m',_0x1313ee['INFO']=a0_0x75ac12(0x6ab),_0x1313ee['WARN']=a0_0x75ac12(0x769),_0x1313ee[a0_0x75ac12(0x4be)]='\x1b[31m%s\x1b[0m',_0x1313ee[a0_0x75ac12(0x4a8)]=a0_0x75ac12(0x763),_0x1313ee[a0_0x75ac12(0x183)]=a0_0x75ac12(0x377),_0x1313ee))(Xs||{}),Zs=(_0xa124dc=>(_0xa124dc[a0_0x75ac12(0x7dd)]=a0_0x75ac12(0x7dd),_0xa124dc[a0_0x75ac12(0x6ef)]=a0_0x75ac12(0x6ef),_0xa124dc[a0_0x75ac12(0x4ab)]='INFO',_0xa124dc[a0_0x75ac12(0x415)]=a0_0x75ac12(0x415),_0xa124dc['ERROR']='ERROR',_0xa124dc['DEBUG']=a0_0x75ac12(0x4a8),_0xa124dc[a0_0x75ac12(0x183)]=a0_0x75ac12(0x183),_0xa124dc))(Zs||{}),ea=(_0x26935f=>(_0x26935f[a0_0x75ac12(0x7dd)]='\x1b[42m',_0x26935f[a0_0x75ac12(0x4ab)]='\x1b[44m',_0x26935f['WARN']=a0_0x75ac12(0x357),_0x26935f[a0_0x75ac12(0x415)]='\x1b[40m',_0x26935f[a0_0x75ac12(0x4be)]=a0_0x75ac12(0x6eb),_0x26935f[a0_0x75ac12(0x4a8)]=a0_0x75ac12(0x628),_0x26935f[a0_0x75ac12(0x183)]=a0_0x75ac12(0x4ba),_0x26935f))(ea||{}),$=class{constructor(_0x24ffe8='Logger'){const _0x2ec649=a0_0x75ac12;this[_0x2ec649(0x3ab)]=_0x24ffe8,this[_0x2ec649(0x846)]=b;}[a0_0x75ac12(0x78b)](_0x19595e){const _0x170966=a0_0x75ac12;this[_0x170966(0x3ab)]=_0x19595e;}[a0_0x75ac12(0x13b)](_0x2ee87b,_0x4a3c17){const _0x23b4b0=a0_0x75ac12;let _0xedd2ac=[];this['configService'][_0x23b4b0(0x407)](_0x23b4b0(0x7dd))[_0x23b4b0(0x1ce)]['forEach'](_0x33fea5=>_0xedd2ac[_0x23b4b0(0x6e9)](Zs[_0x33fea5]));let _0x52be76=typeof _0x2ee87b;_0xedd2ac[_0x23b4b0(0x5bb)](_0x4a3c17)&&(b[_0x23b4b0(0x407)](_0x23b4b0(0x7dd))['COLOR']?(console[_0x23b4b0(0x54b)](_0x23b4b0(0x4dd)+Xs[_0x4a3c17],'\x1b[1m\x1b[37m',(0x0,gs[_0x23b4b0(0x636)])()[_0x23b4b0(0x714)]('DD/MM\x20HH:mm:ss'),_0x23b4b0(0x706),ms[_0x4a3c17]+ea[_0x4a3c17]+'\x1b[1m',_0x4a3c17+'\x20\x1b[0m',_0x23b4b0(0x7d8),this[_0x23b4b0(0x3ab)]+_0x23b4b0(0x706),ms[_0x4a3c17],_0x52be76!==_0x23b4b0(0x307)?_0x2ee87b:'',_0x23b4b0(0x706)),_0x52be76===_0x23b4b0(0x307)&&console['log'](_0x2ee87b,'\x0a')):console[_0x23b4b0(0x54b)]((0x0,gs[_0x23b4b0(0x636)])()[_0x23b4b0(0x714)](_0x23b4b0(0x197)),_0x4a3c17+'\x20',''+this[_0x23b4b0(0x3ab)],_0x2ee87b));}[a0_0x75ac12(0x54b)](_0x542f6e){const _0x1b895e=a0_0x75ac12;this[_0x1b895e(0x13b)](_0x542f6e,_0x1b895e(0x7dd));}[a0_0x75ac12(0x59e)](_0x4b7c1a){const _0x35ac72=a0_0x75ac12;this[_0x35ac72(0x13b)](_0x4b7c1a,'INFO');}[a0_0x75ac12(0x7bf)](_0x376fbe){const _0x398bc0=a0_0x75ac12;this[_0x398bc0(0x13b)](_0x376fbe,_0x398bc0(0x6ef));}[a0_0x75ac12(0x15c)](_0x5081a1){this['console'](_0x5081a1,'ERROR');}[a0_0x75ac12(0x195)](_0x5740da){const _0x22af6c=a0_0x75ac12;this[_0x22af6c(0x13b)](_0x5740da,_0x22af6c(0x183));}['debug'](_0xad492c){const _0x1db98d=a0_0x75ac12;this[_0x1db98d(0x13b)](_0xad492c,_0x1db98d(0x4a8));}[a0_0x75ac12(0x68b)](_0x222ac1){const _0x2eaa43=a0_0x75ac12;this['console'](_0x222ac1,_0x2eaa43(0x415));}};function ta(){const _0x495cc6=a0_0x75ac12;process['on'](_0x495cc6(0x166),(_0x3dbb84,_0xa49c9f)=>{const _0xd90280=_0x495cc6;new $(_0xd90280(0x166))[_0xd90280(0x15c)]({'origin':_0xa49c9f,'stderr':process[_0xd90280(0x2aa)]['fd'],'error':_0x3dbb84});}),process['on'](_0x495cc6(0x1d9),(_0x50b9bb,_0x5da149)=>{const _0xeb204f=_0x495cc6;new $(_0xeb204f(0x1d9))[_0xeb204f(0x15c)]({'origin':_0x5da149,'stderr':process['stderr']['fd'],'error':_0x50b9bb});});}var sa=I(require(a0_0x75ac12(0x843))),fs=new sa[(a0_0x75ac12(0x636))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Ce=require(a0_0x75ac12(0x6aa)),Ie=I(require(a0_0x75ac12(0x6aa))),ze=new $('Db\x20Connection'),U=b[a0_0x75ac12(0x407)]('DATABASE'),R=U[a0_0x75ac12(0x69f)]?U['CONNECTION'][a0_0x75ac12(0x6dd)]?Ie[a0_0x75ac12(0x636)][a0_0x75ac12(0x2b4)](U[a0_0x75ac12(0x241)][a0_0x75ac12(0x6dd)],{'dbName':U[a0_0x75ac12(0x241)][a0_0x75ac12(0x54f)]+a0_0x75ac12(0x325)}):Ie[a0_0x75ac12(0x636)]['createConnection']('mongodb://'+U[a0_0x75ac12(0x241)][a0_0x75ac12(0x6a3)]+':'+U[a0_0x75ac12(0x241)][a0_0x75ac12(0x12d)]+a0_0x75ac12(0x659),{'user':U[a0_0x75ac12(0x241)][a0_0x75ac12(0x83f)],'pass':U[a0_0x75ac12(0x241)][a0_0x75ac12(0x2eb)],'dbName':U[a0_0x75ac12(0x241)][a0_0x75ac12(0x54f)]+a0_0x75ac12(0x325)}):null;U['ENABLED']&&ze[a0_0x75ac12(0x59e)]('ON\x20-\x20dbName:\x20'+R[a0_0x75ac12(0x1d7)]);var de=U[a0_0x75ac12(0x69f)]?U[a0_0x75ac12(0x241)][a0_0x75ac12(0x6dd)]?Ie[a0_0x75ac12(0x636)]['createConnection'](U[a0_0x75ac12(0x241)][a0_0x75ac12(0x6dd)],{'dbName':a0_0x75ac12(0x6a8)}):Ie[a0_0x75ac12(0x636)]['createConnection'](a0_0x75ac12(0x4d2)+U[a0_0x75ac12(0x241)][a0_0x75ac12(0x6a3)]+':'+U[a0_0x75ac12(0x241)][a0_0x75ac12(0x12d)]+a0_0x75ac12(0x659),{'user':U[a0_0x75ac12(0x241)][a0_0x75ac12(0x83f)],'pass':U[a0_0x75ac12(0x241)][a0_0x75ac12(0x2eb)],'dbName':'cachedContacts-whatsapp'}):null;de&&ze[a0_0x75ac12(0x59e)](a0_0x75ac12(0x7de)+de[a0_0x75ac12(0x1d7)]),process['on'](a0_0x75ac12(0x758),()=>{const _0x6eafdd=a0_0x75ac12;R&&R[_0x6eafdd(0x252)](()=>{const _0x3c7388=_0x6eafdd;ze[_0x3c7388(0x59e)]('Database\x20connection\x20closed.');}),de&&de['close'](()=>{const _0x416c4e=_0x6eafdd;ze[_0x416c4e(0x59e)]('CacheContacts\x20database\x20connection\x20closed.');});});var to=new Ce[(a0_0x75ac12(0x421))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),so=new Ce[(a0_0x75ac12(0x421))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),ao=new Ce[(a0_0x75ac12(0x421))]({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),io=new Ce['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[to],'default':[]}},{'_id':!0x1}),oo=new Ce['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':io,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':so},'groupdata':{'type':ao,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),aa=_0x4cba99=>{const _0x46cff2=a0_0x75ac12;let _0x4eebce='z_'+_0x4cba99+_0x46cff2(0x7c2);return R?.[_0x46cff2(0x749)]('ChatModel',oo,_0x4eebce);},ia=require(a0_0x75ac12(0x6aa)),ro=new ia[(a0_0x75ac12(0x421))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=_0x574354=>{const _0x5daef7=a0_0x75ac12;let _0x565277='z_'+_0x574354+_0x5daef7(0x447);return R?.[_0x5daef7(0x749)](_0x5daef7(0x24a),ro,_0x565277);},ra=require(a0_0x75ac12(0x6aa)),ws=class{},no=new ra['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),na=de?.[a0_0x75ac12(0x749)](ws['name'],no,'ContactsAndGroups'),ca=require(a0_0x75ac12(0x6aa)),ys=class{},co=new ca[(a0_0x75ac12(0x421))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),He=de?.[a0_0x75ac12(0x749)](ys['name'],co,'instances'),la=require(a0_0x75ac12(0x6aa)),lo=new la[(a0_0x75ac12(0x421))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ua=_0x3e7e6c=>{const _0x57ac2a=a0_0x75ac12;let _0x5bc281='z_'+_0x3e7e6c+_0x57ac2a(0x6f9);return R?.[_0x57ac2a(0x749)](_0x57ac2a(0x32e),lo,_0x5bc281);},da=require(a0_0x75ac12(0x6aa)),bs=class{},uo=new da[(a0_0x75ac12(0x421))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),pa=R?.[a0_0x75ac12(0x749)](bs[a0_0x75ac12(0x537)],uo,'authentication'),ha=require(a0_0x75ac12(0x6aa)),Ss=class{},ga=new ha[(a0_0x75ac12(0x421))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ga[a0_0x75ac12(0x59b)](a0_0x75ac12(0x461),function(_0x48772a){const _0x15bdba=a0_0x75ac12;delete this[_0x15bdba(0x40d)],delete this[_0x15bdba(0x425)],delete this[_0x15bdba(0x165)],delete this['flowStopConversation'],delete this[_0x15bdba(0x18e)],_0x48772a();});var ma=R?.[a0_0x75ac12(0x749)](Ss[a0_0x75ac12(0x537)],ga,'webhook'),P=require(a0_0x75ac12(0x6aa)),Ms=require(a0_0x75ac12(0x4b2)),Ke=class{},wa=new P[(a0_0x75ac12(0x421))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P[(a0_0x75ac12(0x421))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),po=new P['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x75ac12(0x156)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x75ac12(0x6e0)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x75ac12(0x2ab)},'pollErrorMessage':{'type':String,'default':a0_0x75ac12(0x5d6)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ya=new P[(a0_0x75ac12(0x421))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ho=new P['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),go=new P[(a0_0x75ac12(0x421))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ns=new P[(a0_0x75ac12(0x421))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),mo=new P['Schema']({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ba=new P[(a0_0x75ac12(0x421))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':po},'apirequest':ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':mo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),Sa=new P[(a0_0x75ac12(0x421))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Es=class{},Ma=new P[(a0_0x75ac12(0x421))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Ns],'blocks':[ba],'groups':[wa],'conditions':[ya],'varedits':[Sa],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x5a5f46=a0_0x75ac12;return _0x5a5f46(0x5e6)+Math[_0x5a5f46(0x104)]()[_0x5a5f46(0x7ce)](0x24)[_0x5a5f46(0x630)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':'false'},'startID':{'type':String,'default':()=>(0x0,Ms['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ms['v4'])()},'shareOwners':{'type':[String],'default':[]}});Ma[a0_0x75ac12(0x59b)]('findOneAndUpdate',function(_0x4d7cbf){const _0x11e8ad=a0_0x75ac12;let _0x1eb637=this[_0x11e8ad(0x74a)]();if(_0x1eb637&&typeof _0x1eb637==_0x11e8ad(0x307)&&'$set'in _0x1eb637){let _0x263c61=_0x1eb637[_0x11e8ad(0x5d7)];if(_0x263c61){let _0x3061d1=new Set(),_0x23980c=new Set(_0x263c61[_0x11e8ad(0x42b)]?.[_0x11e8ad(0x506)](_0x6ef29d=>_0x6ef29d[_0x11e8ad(0x537)])),_0x328121=JSON[_0x11e8ad(0x53e)](_0x263c61),_0x3d22bf=/{{(?!_)([^}]*)}}/g,_0x2a2d40;for(;(_0x2a2d40=_0x3d22bf[_0x11e8ad(0x4c2)](_0x328121))!==null;)_0x23980c[_0x11e8ad(0x2b8)](_0x2a2d40[0x1])||_0x3061d1[_0x11e8ad(0x2a6)](_0x2a2d40[0x1]);_0x3061d1[_0x11e8ad(0x44d)]>0x0?(console[_0x11e8ad(0x7bf)](_0x11e8ad(0x475),Array[_0x11e8ad(0x47f)](_0x3061d1)),_0x263c61[_0x11e8ad(0x74b)]=Array[_0x11e8ad(0x47f)](_0x3061d1)):_0x263c61[_0x11e8ad(0x74b)]=[],this[_0x11e8ad(0x30b)]({'$set':_0x263c61});}}_0x4d7cbf();});var Ee=R?.['model'](Es[a0_0x75ac12(0x537)],Ma,a0_0x75ac12(0x550)),fo=new P[(a0_0x75ac12(0x421))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Ns],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[go]},{'_id':!0x1}),wo=new P[(a0_0x75ac12(0x421))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Ns],'blocks':[ba],'groups':[wa],'conditions':[ya],'varedits':[Sa],'replyOptions':{'type':[Cs],'default':[]},'chatLog':fo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x75ac12(0x61c)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x75ac12(0x2ab)},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Ca=_0x44b533=>{const _0x3268ae=a0_0x75ac12;let _0xd9e69c='z_'+_0x44b533+_0x3268ae(0x799);return R?.[_0x3268ae(0x749)](_0x3268ae(0x693),wo,_0xd9e69c);},yo=new P['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),fa=new P[(a0_0x75ac12(0x421))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),bo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'messages':{'type':[fa],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x75ac12(0x848)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[yo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':fa,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ea=_0x49b180=>{const _0x5b30bb=a0_0x75ac12;let _0x532376='z_'+_0x49b180+_0x5b30bb(0x41e);return R?.[_0x5b30bb(0x749)](_0x5b30bb(0x654),bo,_0x532376);},vs=class{},So=new P[(a0_0x75ac12(0x421))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),Mo=new P[(a0_0x75ac12(0x421))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Co=new P[(a0_0x75ac12(0x421))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Eo=new P['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new P[(a0_0x75ac12(0x421))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),No=new P['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Co]},'flowConfig':{'type':Eo,'default':{}},'flows':{'type':[Mo],'default':[]},'autoCompleteMessages':{'type':[So],'default':[]}}),Te=R?.[a0_0x75ac12(0x749)](vs[a0_0x75ac12(0x537)],No,a0_0x75ac12(0x190)),va=require(a0_0x75ac12(0x6aa)),$o=new va[(a0_0x75ac12(0x421))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Na=_0xec97a8=>{const _0x42d67d=a0_0x75ac12;let _0x3b0500='z_'+_0xec97a8+'_Labels';return R?.[_0x42d67d(0x749)](_0x42d67d(0x80b),$o,_0x3b0500);},_=class{constructor(_0x2b9468){const _0x1a80e0=a0_0x75ac12;this[_0x1a80e0(0x382)]=_0x2b9468[_0x1a80e0(0x407)](_0x1a80e0(0x6f3));}};function A(_0x2ac477){const _0x3ada07=a0_0x75ac12;let _0x50374f={};for(let [_0x4cd47f,_0x22377e]of Object[_0x3ada07(0x173)](_0x2ac477))if(typeof _0x22377e==_0x3ada07(0x307)&&!Array[_0x3ada07(0x435)](_0x22377e)){for(let [_0x2235e9,_0xfb1f75]of Object[_0x3ada07(0x173)](_0x22377e))_0x50374f[_0x4cd47f+'.'+_0x2235e9]=_0xfb1f75;}else _0x50374f[_0x4cd47f]=_0x22377e;return _0x50374f;}var Qe=class{constructor(_0x116065,_0x56cc17,_0x3a231e,_0x3c2a8b,_0x1fb20f,_0x56dfef,_0x2a8c07,_0x249958,_0x396be9,_0x3a81bb,_0x1d99fe,_0x5cba2f,_0x243064){const _0x4f54b9=a0_0x75ac12;this[_0x4f54b9(0x478)]=_0x116065,this['chat']=_0x56cc17,this[_0x4f54b9(0x27f)]=_0x3a231e,this[_0x4f54b9(0x1a2)]=_0x3c2a8b,this[_0x4f54b9(0x294)]=_0x1fb20f,this[_0x4f54b9(0x7f7)]=_0x56dfef,this[_0x4f54b9(0x7f4)]=_0x2a8c07,this[_0x4f54b9(0x20a)]=_0x249958,this[_0x4f54b9(0x533)]=_0x396be9,this[_0x4f54b9(0x159)]=_0x3a81bb,this['scheduleMessage']=_0x1d99fe,this[_0x4f54b9(0x819)]=_0x5cba2f,this[_0x4f54b9(0x37c)]=_0x243064;}get[a0_0x75ac12(0x71e)](){const _0x375e42=a0_0x75ac12;return this[_0x375e42(0x37c)];}},Ye=class{},Xe=class extends _{[a0_0x75ac12(0x747)](_0x5afc26){return ua(_0x5afc26);}async['insert'](_0x23c420,_0x59b47e){const _0x1c24c4=a0_0x75ac12;if(_0x23c420['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x59b47e)[_0x1c24c4(0x63a)]([..._0x23c420]))[_0x1c24c4(0x624)]};}catch(_0x12bf94){return _0x12bf94;}}async[a0_0x75ac12(0x1c3)](_0x49c765,_0xc433f8){const _0x303644=a0_0x75ac12;try{let _0x31fdad=this[_0x303644(0x747)](_0xc433f8),_0x4ba23a=A(_0x49c765[_0x303644(0x1b8)]);return await _0x31fdad[_0x303644(0x1c3)](_0x4ba23a)[_0x303644(0x121)]({'messageTimestamp':-0x1})[_0x303644(0x1de)](_0x49c765?.[_0x303644(0x1de)]??0x0)['lean']();}catch{return[];}}async[a0_0x75ac12(0x585)](_0x188c56,_0x43adce){const _0x5dce36=a0_0x75ac12;try{let _0x4e55ab=this['getMessageModelForOwner'](_0x43adce),_0xb845c5=A(_0x188c56[_0x5dce36(0x1b8)]);await _0x4e55ab[_0x5dce36(0x573)](_0xb845c5);}catch(_0x1af453){console[_0x5dce36(0x15c)](_0x1af453);}}async[a0_0x75ac12(0x829)](_0x5d1640,_0x2bad21,_0x3f44b4){const _0x464318=a0_0x75ac12;try{let _0x33c6b4=this[_0x464318(0x747)](_0x3f44b4),_0xcda328=A(_0x5d1640[_0x464318(0x1b8)]);return await _0x33c6b4[_0x464318(0x34b)](_0xcda328,{'$set':_0x2bad21},{'new':!0x0});}catch(_0x357f5d){throw console['error'](_0x357f5d),_0x357f5d;}}async[a0_0x75ac12(0x63a)](_0x354a03,_0xbaaab){const _0x10b3c4=a0_0x75ac12;if(_0x354a03[_0x10b3c4(0x624)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x10b3c4(0x747)](_0xbaaab)['insertMany']([..._0x354a03]))['length']};}catch(_0x11cc78){return console['log'](_0x10b3c4(0x25b),_0x11cc78),_0x11cc78;}}async[a0_0x75ac12(0x74c)](_0x44ec33){const _0x3eb790=a0_0x75ac12;try{return await this[_0x3eb790(0x747)](_0x44ec33)[_0x3eb790(0x6b4)][_0x3eb790(0x7e2)](),{'success':!0x0};}catch(_0x1e21c1){return console[_0x3eb790(0x15c)](_0x1e21c1),{'success':!0x1,'error':_0x1e21c1};}}},Ps=I(require(a0_0x75ac12(0x815))),w=I(require(a0_0x75ac12(0x238))),Fe=require('fs'),j=I(require('path')),te=I(require(a0_0x75ac12(0x63f))),_i=require(a0_0x75ac12(0x4b2)),xi=I(require('qrcode')),Di=I(require(a0_0x75ac12(0x44f))),$a=['imageMessage',a0_0x75ac12(0x23a),a0_0x75ac12(0x639),a0_0x75ac12(0x62b),a0_0x75ac12(0x656)],Ra=[a0_0x75ac12(0x67d),a0_0x75ac12(0x512),a0_0x75ac12(0x1c6),a0_0x75ac12(0x83b)],ks=require('os'),qt=I(require(a0_0x75ac12(0x263))),Ue=require(a0_0x75ac12(0x818)),Pi=require(a0_0x75ac12(0x4c4)),fe=I(require(a0_0x75ac12(0x6aa))),L=require(a0_0x75ac12(0x490)),pe=class{constructor(_0x2f8d49,_0x1e8e96,_0x509c43){const _0x164c36=a0_0x75ac12;this[_0x164c36(0x797)]=_0x2f8d49,this[_0x164c36(0x220)]=_0x1e8e96,this[_0x164c36(0x537)]=_0x509c43;}},Ze=class{},et=class{},Oe=class{},tt=class{},st=class{},ve=class{},at=class{},it=class{},ot=class{},rt=class{},kt=I(require(a0_0x75ac12(0x82a))),Aa=require('fs'),Ia=require('path');async function _e(_0x43b0a9){const _0x18fe58=a0_0x75ac12;let _0x21ce76=z[_0x18fe58(0x72c)][_0x43b0a9];if(U[_0x18fe58(0x69f)]){let _0x30c1f5=R['getClient']()['db'](U['CONNECTION']['DB_PREFIX_NAME']+'-instances')['collection'](_0x43b0a9);return _0x21ce76||(await _0x30c1f5[_0x18fe58(0x1c3)]({})['toArray']())['length']>0x0;}return _0x21ce76||(0x0,Aa[_0x18fe58(0x560)])((0x0,Ia[_0x18fe58(0x215)])(Me,_0x43b0a9));}async function Ta(_0x3dc44f,_0x13f38b,_0x140f41){const _0x122fd8=a0_0x75ac12;if(_0x3dc44f[_0x122fd8(0x6ce)][_0x122fd8(0x5bb)](_0x122fd8(0x833))||_0x3dc44f[_0x122fd8(0x6ce)][_0x122fd8(0x5bb)](_0x122fd8(0x32f))||_0x3dc44f[_0x122fd8(0x6ce)][_0x122fd8(0x5bb)]('/exit')||_0x3dc44f['originalUrl'][_0x122fd8(0x5bb)]('/config')||_0x3dc44f['originalUrl'][_0x122fd8(0x5bb)](_0x122fd8(0x592))||_0x3dc44f[_0x122fd8(0x6ce)][_0x122fd8(0x5bb)](_0x122fd8(0x572))||_0x3dc44f[_0x122fd8(0x6ce)]['includes'](_0x122fd8(0x1d5)))return _0x140f41();let _0x1f92cf=_0x3dc44f['params'];if(!_0x1f92cf?.[_0x122fd8(0x300)])throw new m(_0x122fd8(0x36d));if(!await _e(_0x1f92cf[_0x122fd8(0x300)]))throw new J(_0x122fd8(0x161)+_0x1f92cf[_0x122fd8(0x300)]+_0x122fd8(0x14f));_0x140f41();}async function Oa(_0x3ed830,_0x57dad4,_0x262f82){const _0xddd6b9=a0_0x75ac12;if(_0x3ed830['originalUrl'][_0xddd6b9(0x5bb)](_0xddd6b9(0x833))){let _0x573adf=_0x3ed830['body'];if(await _e(_0x573adf[_0xddd6b9(0x300)]))throw new se(_0xddd6b9(0x5f7)+_0x573adf[_0xddd6b9(0x300)]+'\x20is\x20already\x20in\x20use.');z[_0xddd6b9(0x72c)][_0x573adf[_0xddd6b9(0x300)]]&&delete z[_0xddd6b9(0x72c)][_0x573adf[_0xddd6b9(0x300)]];}_0x262f82();}var _a=require(a0_0x75ac12(0x490)),xa=I(require('jsonwebtoken')),nt=a0_0x75ac12(0x581),Ao=new $(a0_0x75ac12(0x80e));async function Io(_0x339141,_0x2a73b9,_0x5d822f){const _0xa78301=a0_0x75ac12;let _0x4193b9=_0x339141[_0xa78301(0x407)](_0xa78301(0x2b2));if(_0x4193b9&&b[_0xa78301(0x407)](_0xa78301(0x33d))[_0xa78301(0x620)][_0xa78301(0x7bc)]!==_0x4193b9)throw new ce();if(b['get']('AUTHENTICATION')['API_KEY']['KEY']===_0x4193b9)return _0x5d822f();if((_0x339141[_0xa78301(0x6ce)][_0xa78301(0x5bb)](_0xa78301(0x833))||_0x339141[_0xa78301(0x6ce)]['includes'](_0xa78301(0x32f)))&&!_0x4193b9)throw new se('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x53755b=b[_0xa78301(0x407)](_0xa78301(0x33d))['JWT'];try{let [_0x529cb1,_0xebba4c]=_0x339141[_0xa78301(0x407)](_0xa78301(0x812))[_0xa78301(0x170)]('\x20');if(_0x529cb1[_0xa78301(0x56d)]()!==_0xa78301(0x486))throw new ce();if(!(0x0,_a['isJWT'])(_0xebba4c))throw new ce();let _0x59df9a=_0x339141[_0xa78301(0x709)],_0x46c398=xa[_0xa78301(0x636)]['verify'](_0xebba4c,_0x53755b[_0xa78301(0x826)],{'ignoreExpiration':_0x53755b[_0xa78301(0x5c0)]===0x0});if(_0x59df9a['instanceName']!==_0x46c398['instanceName']||nt!==_0x46c398[_0xa78301(0x22c)])throw new ce();return _0x5d822f();}catch(_0x38bace){throw Ao['error'](_0x38bace),new ce();}}async function To(_0x4ffaf2,_0x17295d,_0x5162a4){const _0x59636c=a0_0x75ac12;let _0x1d1634=b[_0x59636c(0x407)](_0x59636c(0x33d))[_0x59636c(0x620)],_0x50cf37=_0x4ffaf2['get'](_0x59636c(0x2b2));if(_0x1d1634[_0x59636c(0x7bc)]===_0x50cf37)return _0x5162a4();if(_0x4ffaf2[_0x59636c(0x6ce)][_0x59636c(0x5bb)](_0x59636c(0x833))){let _0x1d6aec=Pa,_0x1856ae=_0x4ffaf2['body'][_0x59636c(0x300)];if(_0x1d6aec&&_0x1856ae['toLowerCase']()[_0x59636c(0x36c)](_0x1d6aec[_0x59636c(0x56d)]()))return _0x5162a4();if(!_0x50cf37)throw new se('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');}if(_0x4ffaf2[_0x59636c(0x6ce)][_0x59636c(0x5bb)](_0x59636c(0x32f))&&!_0x50cf37)throw new se(_0x59636c(0x231),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x4ffaf2['originalUrl'][_0x59636c(0x5bb)](_0x59636c(0x387))&&!_0x50cf37)throw new se(_0x59636c(0x231),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x4ffaf2[_0x59636c(0x6ce)][_0x59636c(0x5bb)]('/config')&&!_0x50cf37)throw new se('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x2ca6c5=_0x4ffaf2['params'],_0x17bf3a=await we[_0x59636c(0x7f7)]['find'](_0x2ca6c5[_0x59636c(0x300)]);if(_0x17bf3a&&_0x17bf3a[_0x59636c(0x2b2)]===_0x50cf37)return _0x5162a4();}catch{}throw new ce();}var Da={'jwt':Io,'apikey':To},mi=require('express'),E=require(a0_0x75ac12(0x4b2)),C=(..._0x995ea3)=>{const _0x3ffbb5=a0_0x75ac12;let _0x39cc0a={};return _0x995ea3[_0x3ffbb5(0x839)](_0x7dc5b5=>_0x39cc0a[_0x7dc5b5]={'minLength':0x1,'description':_0x3ffbb5(0x39f)+_0x7dc5b5+_0x3ffbb5(0x375)}),{'if':{'propertyNames':{'enum':[..._0x995ea3]}},'then':{'properties':_0x39cc0a}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'instanceName':{'type':a0_0x75ac12(0x392)}},...C(a0_0x75ac12(0x300))},mc={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'oldToken':{'type':a0_0x75ac12(0x392)}},'required':['oldToken'],...C(a0_0x75ac12(0x663))},fc={'properties':{'key':{'type':a0_0x75ac12(0x307),'properties':{'id':{'type':a0_0x75ac12(0x392)},'remoteJid':{'type':a0_0x75ac12(0x392)},'fromMe':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]}},'required':['id',a0_0x75ac12(0x323),a0_0x75ac12(0x196)],...C('id',a0_0x75ac12(0x323))},'message':{'type':a0_0x75ac12(0x307)}}},ae={'properties':{'delay':{'type':a0_0x75ac12(0x5fe),'description':a0_0x75ac12(0x216)},'presence':{'type':a0_0x75ac12(0x392),'enum':[a0_0x75ac12(0x20b),a0_0x75ac12(0x577),a0_0x75ac12(0x7d9),a0_0x75ac12(0x42f),'paused']}}},Z={'type':a0_0x75ac12(0x392),'description':'Invalid\x20format'},ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x75ac12(0x392)}},'required':['text'],...C('text')}},'required':[a0_0x75ac12(0x21c),a0_0x75ac12(0x3b8)]},La={'type':a0_0x75ac12(0x392),'pattern':a0_0x75ac12(0x2bf),'description':a0_0x75ac12(0x4bb)},wc={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'number':{...La},'options':{...ae},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x75ac12(0x392)}},'required':['text'],...C(a0_0x75ac12(0x105))}},'required':[a0_0x75ac12(0x21c),a0_0x75ac12(0x3b8)]},yc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...La},'options':{...ae},'mediaMessage':{'type':a0_0x75ac12(0x307),'properties':{'mediatype':{'type':'string','enum':[a0_0x75ac12(0x466),'document',a0_0x75ac12(0x1b1),'audio']},'media':{'type':'string'},'fileName':{'type':a0_0x75ac12(0x392)},'caption':{'type':a0_0x75ac12(0x392)}},'required':[a0_0x75ac12(0x24d),a0_0x75ac12(0x45c)],...C(a0_0x75ac12(0x372),a0_0x75ac12(0x2fa),a0_0x75ac12(0x45c))}},'required':['mediaMessage',a0_0x75ac12(0x3b8)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'number':{...Z},'options':{...ae},'stickerMessage':{'type':a0_0x75ac12(0x307),'properties':{'image':{'type':a0_0x75ac12(0x392)}},'required':[a0_0x75ac12(0x466)],...C(a0_0x75ac12(0x466))}},'required':[a0_0x75ac12(0x656),'number']},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'statusMessage':{'type':a0_0x75ac12(0x307),'properties':{'type':{'type':a0_0x75ac12(0x392),'enum':[a0_0x75ac12(0x105),a0_0x75ac12(0x466),a0_0x75ac12(0x3c4),a0_0x75ac12(0x1b1)]},'content':{'type':a0_0x75ac12(0x392)},'caption':{'type':a0_0x75ac12(0x392)},'backgroundColor':{'type':a0_0x75ac12(0x392)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x75ac12(0x464),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x75ac12(0x392),'pattern':'^\x5cd+','description':a0_0x75ac12(0x565)}},'allContacts':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]}},'required':[a0_0x75ac12(0x791),a0_0x75ac12(0x1be)],...C(a0_0x75ac12(0x791),a0_0x75ac12(0x1be))}},'required':[a0_0x75ac12(0x2fb)]},ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x75ac12(0x392),'enum':[a0_0x75ac12(0x466),a0_0x75ac12(0x2a0),'video',a0_0x75ac12(0x3c4)]},'media':{'type':a0_0x75ac12(0x392)},'fileName':{'type':a0_0x75ac12(0x392)},'caption':{'type':'string'}},'required':[a0_0x75ac12(0x24d),'media'],...C(a0_0x75ac12(0x372),a0_0x75ac12(0x2fa),a0_0x75ac12(0x45c))}},'required':['mediaMessage',a0_0x75ac12(0x3b8)]},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'number':{...Z},'options':{...ae},'audioMessage':{'type':a0_0x75ac12(0x307),'properties':{'audio':{'type':a0_0x75ac12(0x392)}},'required':['audio'],...C(a0_0x75ac12(0x3c4))}},'required':[a0_0x75ac12(0x639),'number']},qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'pollMessage':{'type':a0_0x75ac12(0x307),'properties':{'name':{'type':a0_0x75ac12(0x392)},'selectableCount':{'type':'number'},'values':{'type':a0_0x75ac12(0x464),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x75ac12(0x537),'selectableCount',a0_0x75ac12(0x669)],...C(a0_0x75ac12(0x537),a0_0x75ac12(0x177),a0_0x75ac12(0x669))}},'required':[a0_0x75ac12(0x3b8),a0_0x75ac12(0x10b)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'number':{...Z},'menuMessage':{'type':a0_0x75ac12(0x307),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x75ac12(0x464),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x75ac12(0x105),a0_0x75ac12(0x4bd)],...C(a0_0x75ac12(0x105),'choices')}},'required':[a0_0x75ac12(0x3b8),a0_0x75ac12(0x46b)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'number':{...Z},'options':{...ae},'buttonMessage':{'type':a0_0x75ac12(0x307),'properties':{'title':{'type':a0_0x75ac12(0x392)},'description':{'type':a0_0x75ac12(0x392)},'footerText':{'type':a0_0x75ac12(0x392)},'buttons':{'type':a0_0x75ac12(0x464),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x75ac12(0x392)},'buttonId':{'type':a0_0x75ac12(0x392)}},'required':[a0_0x75ac12(0x446),a0_0x75ac12(0x6cd)],...C(a0_0x75ac12(0x446),'buttonId')}},'mediaMessage':{'type':a0_0x75ac12(0x307),'properties':{'media':{'type':'string'},'fileName':{'type':'string'},'mediatype':{'type':'string','enum':['image',a0_0x75ac12(0x2a0),a0_0x75ac12(0x1b1)]}},'required':[a0_0x75ac12(0x45c),a0_0x75ac12(0x24d)],...C(a0_0x75ac12(0x45c),'fileName')}},'required':[a0_0x75ac12(0x440),'buttons'],...C(a0_0x75ac12(0x440),a0_0x75ac12(0x38d))}},'required':[a0_0x75ac12(0x3b8),'buttonMessage']},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'number':{...Z},'options':{...ae},'locationMessage':{'type':a0_0x75ac12(0x307),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x75ac12(0x3b8)},'name':{'type':'string'},'address':{'type':a0_0x75ac12(0x392)}},'required':[a0_0x75ac12(0x124),'longitude'],...C(a0_0x75ac12(0x537),'addresss')}},'required':[a0_0x75ac12(0x3b8),a0_0x75ac12(0x6d2)]},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'number':{...Z},'options':{...ae},'listMessage':{'type':a0_0x75ac12(0x307),'properties':{'title':{'type':a0_0x75ac12(0x392)},'description':{'type':a0_0x75ac12(0x392)},'footerText':{'type':a0_0x75ac12(0x392)},'buttonText':{'type':a0_0x75ac12(0x392)},'sections':{'type':a0_0x75ac12(0x464),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x75ac12(0x307),'properties':{'title':{'type':'string'},'rows':{'type':a0_0x75ac12(0x464),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x75ac12(0x307),'properties':{'title':{'type':a0_0x75ac12(0x392)},'description':{'type':a0_0x75ac12(0x392)},'rowId':{'type':a0_0x75ac12(0x392)}},'required':[a0_0x75ac12(0x440),a0_0x75ac12(0x18f)],...C('title',a0_0x75ac12(0x18f))}}},'required':[a0_0x75ac12(0x440),'rows'],...C(a0_0x75ac12(0x440))}}},'required':[a0_0x75ac12(0x440),'description',a0_0x75ac12(0x446),a0_0x75ac12(0x494)],...C(a0_0x75ac12(0x440),'description',a0_0x75ac12(0x446),a0_0x75ac12(0x4b4))}},'required':['number',a0_0x75ac12(0x7c6)]},za={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'number':{...Z},'options':{...ae},'contactMessage':{'type':a0_0x75ac12(0x464),'items':{'type':'object','properties':{'fullName':{'type':a0_0x75ac12(0x392)},'phoneNumber':{'type':a0_0x75ac12(0x392),'minLength':0xa}},'required':[a0_0x75ac12(0x637),a0_0x75ac12(0x100)],...C('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':['number','contactMessage']},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'reactionMessage':{'type':a0_0x75ac12(0x307),'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]}},'required':['id',a0_0x75ac12(0x323),a0_0x75ac12(0x196)],...C('id',a0_0x75ac12(0x323))},'reaction':{'type':'string'}},'required':[a0_0x75ac12(0x2c4),a0_0x75ac12(0x17e)],...C(a0_0x75ac12(0x17e))}},'required':[a0_0x75ac12(0x218)]},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'numbers':{'type':a0_0x75ac12(0x464),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x75ac12(0x392),'pattern':a0_0x75ac12(0x7c3),'description':a0_0x75ac12(0x4da)}}}},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'readMessages':{'type':a0_0x75ac12(0x464),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x75ac12(0x392)},'fromMe':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x75ac12(0x392)}},'required':['id',a0_0x75ac12(0x196),'remoteJid'],...C('id',a0_0x75ac12(0x323))}}},'required':[a0_0x75ac12(0x201)]},Ya={'$id':(0x0,E['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x75ac12(0x307),'properties':{'readreceipts':{'type':a0_0x75ac12(0x392),'enum':[a0_0x75ac12(0x684),a0_0x75ac12(0x250)]},'profile':{'type':a0_0x75ac12(0x392),'enum':['all','contacts',a0_0x75ac12(0x699),'none']},'status':{'type':a0_0x75ac12(0x392),'enum':[a0_0x75ac12(0x684),a0_0x75ac12(0x29a),a0_0x75ac12(0x699),a0_0x75ac12(0x250)]},'online':{'type':a0_0x75ac12(0x392),'enum':[a0_0x75ac12(0x684),a0_0x75ac12(0x297)]},'last':{'type':a0_0x75ac12(0x392),'enum':[a0_0x75ac12(0x684),a0_0x75ac12(0x29a),a0_0x75ac12(0x699),a0_0x75ac12(0x250)]},'groupadd':{'type':a0_0x75ac12(0x392),'enum':[a0_0x75ac12(0x684),a0_0x75ac12(0x29a),a0_0x75ac12(0x699),a0_0x75ac12(0x250)]}},'required':[a0_0x75ac12(0x155),'profile',a0_0x75ac12(0x2be),a0_0x75ac12(0x4e7),a0_0x75ac12(0x2c9),'groupadd'],...C(a0_0x75ac12(0x155),a0_0x75ac12(0x49a),a0_0x75ac12(0x2be),a0_0x75ac12(0x4e7),a0_0x75ac12(0x2c9),'groupadd')}},'required':['privacySettings']},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'lastMessage':{'type':'object','properties':{'key':{'type':a0_0x75ac12(0x307),'properties':{'id':{'type':a0_0x75ac12(0x392)},'remoteJid':{'type':a0_0x75ac12(0x392)},'fromMe':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]}},'required':['id',a0_0x75ac12(0x196),'remoteJid'],...C('id',a0_0x75ac12(0x323))},'messageTimestamp':{'type':a0_0x75ac12(0x5fe),'minLength':0x1}},'required':['key'],...C(a0_0x75ac12(0x378))},'archive':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x75ac12(0x81f),'archive']},Za={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'id':{'type':a0_0x75ac12(0x392)},'fromMe':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x75ac12(0x392)},'participant':{'type':'string'}},'required':['id',a0_0x75ac12(0x196),a0_0x75ac12(0x323)],...C('id','remoteJid',a0_0x75ac12(0x529))},ei={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'where':{'type':a0_0x75ac12(0x307),'properties':{'_id':{'type':a0_0x75ac12(0x392),'minLength':0x1},'pushName':{'type':a0_0x75ac12(0x392),'minLength':0x1},'id':{'type':a0_0x75ac12(0x392),'minLength':0x1}},...C(a0_0x75ac12(0x2af),'id',a0_0x75ac12(0x1a6))}}},ti={'$id':(0x0,E['v4'])(),'type':'object','properties':{'name':{'type':a0_0x75ac12(0x392)}},...C(a0_0x75ac12(0x537))},si={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'status':{'type':a0_0x75ac12(0x392)}},...C('status')},xe={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'number':{'type':a0_0x75ac12(0x392)},'picture':{'type':'string'}}},ai={'type':a0_0x75ac12(0x307),'properties':{'wuid':{'type':a0_0x75ac12(0x392)},'name':{'type':a0_0x75ac12(0x392)},'picture':{'type':'string'},'status':{'type':a0_0x75ac12(0x392)},'isBusiness':{'type':a0_0x75ac12(0x77a)}}},ii={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'where':{'type':a0_0x75ac12(0x307),'properties':{'_id':{'type':a0_0x75ac12(0x392),'minLength':0x1},'key':{'type':a0_0x75ac12(0x307),'if':{'propertyNames':{'enum':['fromMe',a0_0x75ac12(0x323),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x75ac12(0x392),'minLength':0x1,'description':a0_0x75ac12(0x72e)},'id':{'type':'string','minLength':0x1,'description':a0_0x75ac12(0x72e)},'fromMe':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x75ac12(0x307)}},...C('_id')},'limit':{'type':a0_0x75ac12(0x5fe)}}},bc={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x75ac12(0x392)},'remoteJid':{'type':a0_0x75ac12(0x392)},'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x75ac12(0x392)},'status':{'type':'string','enum':[a0_0x75ac12(0x4be),'PENDING',a0_0x75ac12(0x7bb),a0_0x75ac12(0x431),a0_0x75ac12(0x57c),a0_0x75ac12(0x59f)]}},...C(a0_0x75ac12(0x2af),'remoteJid','id',a0_0x75ac12(0x2be))},'limit':{'type':a0_0x75ac12(0x5fe)}}},oi={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'number':{...Z},'presence':{'type':a0_0x75ac12(0x392),'enum':[a0_0x75ac12(0x20b),'available',a0_0x75ac12(0x7d9),a0_0x75ac12(0x42f),a0_0x75ac12(0x66e)]}},'required':[a0_0x75ac12(0x53f),a0_0x75ac12(0x3b8)]},ri={'$id':(0x0,E['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x75ac12(0x392)},'description':{'type':a0_0x75ac12(0x392)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x75ac12(0x464),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x75ac12(0x6c8),'description':a0_0x75ac12(0x4c6)}}},'required':[a0_0x75ac12(0xf0),a0_0x75ac12(0x24c)],...C('subject',a0_0x75ac12(0x38d),a0_0x75ac12(0x6f2))},De={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x75ac12(0x392),'pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x75ac12(0x665)],...C(a0_0x75ac12(0x665))},ni={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'groupJid':{'type':a0_0x75ac12(0x392)},'action':{'type':a0_0x75ac12(0x392),'enum':[a0_0x75ac12(0x2a6),a0_0x75ac12(0x400),a0_0x75ac12(0x5ce),'demote',a0_0x75ac12(0x34f),a0_0x75ac12(0xed)]},'participants':{'type':a0_0x75ac12(0x464),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x75ac12(0x392),'minLength':0xa,'pattern':a0_0x75ac12(0x6c8),'description':a0_0x75ac12(0x4c6)}}},'required':['groupJid','action','participants'],...C(a0_0x75ac12(0x665),a0_0x75ac12(0x57b))},ci={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'groupJid':{'type':a0_0x75ac12(0x392)},'expiration':{'type':a0_0x75ac12(0x3b8),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x75ac12(0x665),'expiration'],...C('groupJid',a0_0x75ac12(0x831))},li={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'groupJid':{'type':a0_0x75ac12(0x392)},'image':{'type':a0_0x75ac12(0x392)}},'required':[a0_0x75ac12(0x665),a0_0x75ac12(0x466)],...C(a0_0x75ac12(0x665),'image')},ui={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'groupJid':{'type':'string'},'description':{'type':'string'}},'required':['groupJid','description'],...C(a0_0x75ac12(0x665),'description')},di={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x75ac12(0x392)},'name':{'type':a0_0x75ac12(0x392)}},'required':[a0_0x75ac12(0x665),a0_0x75ac12(0x537)],...C('groupJid',a0_0x75ac12(0x537))},pi={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'groupJid':{'type':a0_0x75ac12(0x392)},'setting':{'type':a0_0x75ac12(0x392),'enum':[a0_0x75ac12(0x116),a0_0x75ac12(0x50c),a0_0x75ac12(0x680),a0_0x75ac12(0x267)]}},'required':['groupJid',a0_0x75ac12(0x482)],...C(a0_0x75ac12(0x665),a0_0x75ac12(0x482))},hi={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'groupJid':{'type':a0_0x75ac12(0x392)},'restrict':{'type':a0_0x75ac12(0x77a)},'announce':{'type':a0_0x75ac12(0x77a)},'memberAddMode':{'type':a0_0x75ac12(0x77a)},'joinApprovalMode':{'type':a0_0x75ac12(0x77a)},'expiration':{'type':a0_0x75ac12(0x5fe),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x75ac12(0x392)},'description':{'type':'string'},'image':{'type':a0_0x75ac12(0x392)}}},$s={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'inviteCode':{'type':a0_0x75ac12(0x392)}},'required':[a0_0x75ac12(0x35d)],...C(a0_0x75ac12(0x35d))},gi={'$id':(0x0,E['v4'])(),'type':'object','properties':{'url':{'type':a0_0x75ac12(0x392)},'enabled':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]}},'required':[a0_0x75ac12(0x547),a0_0x75ac12(0x5db)]},Sc={'$id':(0x0,E['v4'])(),'type':a0_0x75ac12(0x307),'properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x75ac12(0x77a),'enum':[!0x0,!0x1]}},'required':[a0_0x75ac12(0x775),a0_0x75ac12(0x3c0),a0_0x75ac12(0x2b3),a0_0x75ac12(0x807),a0_0x75ac12(0x313),a0_0x75ac12(0x4c3),a0_0x75ac12(0x76c),a0_0x75ac12(0x1fd),a0_0x75ac12(0x235),'CONTACTS_UPDATE','PRESENCE_UPDATE',a0_0x75ac12(0x468),a0_0x75ac12(0x605),a0_0x75ac12(0x721),'CHATS_DELETE','CONNECTION_UPDATE','GROUPS_UPSERT',a0_0x75ac12(0x193),a0_0x75ac12(0x4fb)],...C(a0_0x75ac12(0x775),a0_0x75ac12(0x3c0),'QRCODE_UPDATED',a0_0x75ac12(0x807),'MESSAGES_UPDATE',a0_0x75ac12(0x4c3),a0_0x75ac12(0x76c),a0_0x75ac12(0x1fd),a0_0x75ac12(0x235),a0_0x75ac12(0x34c),'PRESENCE_UPDATE',a0_0x75ac12(0x468),'CHATS_UPSERT',a0_0x75ac12(0x721),'CHATS_DELETE','CONNECTION_UPDATE',a0_0x75ac12(0x6a1),'GROUPS_UPDATE',a0_0x75ac12(0x4fb))},ct=class{},lt=class extends _{[a0_0x75ac12(0x22f)](_0x1b1b99){return oa(_0x1b1b99);}async[a0_0x75ac12(0x2bd)](_0xa62f8e){const _0x2f7642=a0_0x75ac12;if(_0xa62f8e[_0x2f7642(0x624)]!==0x0)try{return{'insertCount':(await this[_0x2f7642(0x22f)](_0xa62f8e[0x0][_0x2f7642(0x4c1)])[_0x2f7642(0x63a)]([..._0xa62f8e]))[_0x2f7642(0x624)]};}catch(_0x1de565){return _0x1de565;}}async[a0_0x75ac12(0x585)](_0x221007,_0x234198){const _0x302591=a0_0x75ac12;try{return{'deletedCount':(await this[_0x302591(0x22f)](_0x234198)[_0x302591(0x573)]({..._0x221007[_0x302591(0x1b8)]}))[_0x302591(0x55f)]};}catch(_0x449d7b){return{'error':_0x449d7b?.[_0x302591(0x7ce)]()};}}async[a0_0x75ac12(0x829)](_0x54c3c0,_0x2f1b84){const _0x432a29=a0_0x75ac12;try{if(_0x54c3c0[_0x432a29(0x624)]===0x0)return;let _0x15150e=this[_0x432a29(0x22f)](_0x2f1b84),_0x54d99e=_0x54c3c0[_0x432a29(0x506)](_0x550783=>({'updateOne':{'filter':{'_id':_0x550783[_0x432a29(0x2af)],'owner':_0x2f1b84},'update':{..._0x550783}}})),{modifiedCount:_0x286532}=await _0x15150e[_0x432a29(0x362)](_0x54d99e);return{'insertCount':_0x286532};}catch{return;}}async[a0_0x75ac12(0x1c3)](_0x491f92,_0x3fa4e0){const _0x4ce974=a0_0x75ac12;try{let _0x40a1e7=this[_0x4ce974(0x22f)](_0x3fa4e0),_0x7d4c60=A(_0x491f92['where']);return await _0x40a1e7[_0x4ce974(0x1c3)](_0x7d4c60)[_0x4ce974(0x1de)](_0x491f92?.[_0x4ce974(0x1de)]??0x0)[_0x4ce974(0x39b)]();}catch{return[];}}async[a0_0x75ac12(0x4a6)](_0x4f1222,_0xfba015){const _0x484631=a0_0x75ac12;try{let _0x49c6b1=this['getContactModelForOwner'](_0xfba015),_0x1de400=A(_0x4f1222[_0x484631(0x1b8)]);return await _0x49c6b1[_0x484631(0x4a6)](_0x1de400)[_0x484631(0x39b)]();}catch{return null;}}async[a0_0x75ac12(0x74c)](_0x5711b2){const _0x2d9a2e=a0_0x75ac12;try{return await this[_0x2d9a2e(0x22f)](_0x5711b2)[_0x2d9a2e(0x6b4)][_0x2d9a2e(0x7e2)](),{'success':!0x0};}catch(_0x3d0d0a){return console[_0x2d9a2e(0x15c)](_0x3d0d0a),{'success':!0x1,'error':_0x3d0d0a};}}},ut=require(a0_0x75ac12(0x621)),Ic=require(a0_0x75ac12(0x4e5)),Rs=new $(a0_0x75ac12(0x472)),G=class{['routerPath'](_0x4e344d,_0x25d46e=!0x0){const _0x410f60=a0_0x75ac12;let _0x5f00af='/'+_0x4e344d;return _0x25d46e&&(_0x5f00af+=_0x410f60(0x695)),_0x5f00af;}async[a0_0x75ac12(0x13c)](_0x5e2664){const _0x28814d=a0_0x75ac12;let {request:_0x17bf92,schema:_0x108d7c,ClassRef:_0x2751f1,execute:_0x5c5dab}=_0x5e2664,_0x49473f=new _0x2751f1(),_0x38e128=_0x17bf92[_0x28814d(0x2e0)],_0x4dd342=_0x17bf92[_0x28814d(0x709)];_0x17bf92?.['query']&&Object[_0x28814d(0x58e)](_0x17bf92[_0x28814d(0x6bf)])[_0x28814d(0x624)]>0x0&&Object['assign'](_0x4dd342,_0x17bf92[_0x28814d(0x6bf)]),_0x17bf92[_0x28814d(0x6ce)]['includes'](_0x28814d(0x833))&&Object[_0x28814d(0x414)](_0x4dd342,_0x38e128),Object[_0x28814d(0x414)](_0x49473f,_0x38e128);let _0x7946f2=_0x108d7c?(0x0,ut[_0x28814d(0x7fb)])(_0x49473f,_0x108d7c):{'valid':!0x0,'errors':[]};if(!_0x7946f2[_0x28814d(0x75e)]){let _0x1180d1=_0x7946f2['errors']['map'](({property:_0x416356,stack:_0x503527,schema:_0x1699ff})=>{const _0x4cf7da=_0x28814d;let _0x3f3b3f;return _0x1699ff[_0x4cf7da(0x38d)]?_0x3f3b3f=_0x1699ff['description']:_0x3f3b3f=_0x503527[_0x4cf7da(0x154)](_0x4cf7da(0x282),''),{'property':_0x416356[_0x4cf7da(0x154)]('instance.',''),'message':_0x3f3b3f};});throw Rs[_0x28814d(0x15c)]([..._0x1180d1]),new m(..._0x1180d1);}return await _0x5c5dab(_0x4dd342,_0x49473f);}async['groupValidate'](_0x232840){const _0x2453ae=a0_0x75ac12;let {request:_0x4b8356,ClassRef:_0x9c2fcb,schema:_0x100ec1,execute:_0x577290}=_0x232840,_0x424e7b=_0x4b8356[_0x2453ae(0x6bf)];if(!_0x424e7b?.['groupJid'])throw new m(_0x2453ae(0x668),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x47e3a4=_0x4b8356[_0x2453ae(0x709)],_0x35afc5=_0x4b8356['body'],_0x402292=new _0x9c2fcb();Object[_0x2453ae(0x414)](_0x35afc5,_0x424e7b),Object[_0x2453ae(0x414)](_0x402292,_0x35afc5);let _0x352000=(0x0,ut[_0x2453ae(0x7fb)])(_0x402292,_0x100ec1);if(!_0x352000[_0x2453ae(0x75e)]){let _0x40d234=_0x352000[_0x2453ae(0x46c)][_0x2453ae(0x506)](({property:_0x44af58,stack:_0x462eb6,schema:_0x585e53})=>{const _0x300a9c=_0x2453ae;let _0x4a9195;return _0x585e53[_0x300a9c(0x38d)]?_0x4a9195=_0x585e53['description']:_0x4a9195=_0x462eb6[_0x300a9c(0x154)](_0x300a9c(0x282),''),{'property':_0x44af58[_0x300a9c(0x154)](_0x300a9c(0x282),''),'message':_0x4a9195};});throw Rs[_0x2453ae(0x15c)]([..._0x40d234]),new m(..._0x40d234);}return await _0x577290(_0x47e3a4,_0x402292);}async['joinGroupValidate'](_0x10e5e6){const _0x568e6f=a0_0x75ac12;let {request:_0xa9293,ClassRef:_0x1974ef,schema:_0x2d42db,execute:_0x3b60b9}=_0x10e5e6,_0x4a1d17=_0xa9293['body'];if(!_0x4a1d17?.[_0x568e6f(0x35d)])throw new m(_0x568e6f(0x230),_0x568e6f(0x75d));let _0x4d7475=_0xa9293[_0x568e6f(0x709)],_0x18b6d4=_0xa9293['body'],_0x383353=new _0x1974ef();Object[_0x568e6f(0x414)](_0x18b6d4,_0x4a1d17),Object[_0x568e6f(0x414)](_0x383353,_0x18b6d4);let _0x343d17=(0x0,ut[_0x568e6f(0x7fb)])(_0x383353,_0x2d42db);if(!_0x343d17['valid']){let _0x1a45b4=_0x343d17['errors'][_0x568e6f(0x506)](({property:_0x2b0a2f,stack:_0x74c4b,schema:_0x139449})=>{const _0x38614f=_0x568e6f;let _0x33173c;return _0x139449['description']?_0x33173c=_0x139449['description']:_0x33173c=_0x74c4b[_0x38614f(0x154)](_0x38614f(0x282),''),{'property':_0x2b0a2f[_0x38614f(0x154)](_0x38614f(0x282),''),'message':_0x33173c};});throw Rs[_0x568e6f(0x15c)]([..._0x1a45b4]),new m(..._0x1a45b4);}return await _0x3b60b9(_0x4d7475,_0x383353);}},M=class{},Gc=new $(a0_0x75ac12(0x7f8)),dt=class extends G{constructor(..._0x4584b9){const _0x48c796=a0_0x75ac12;super(),this[_0x48c796(0x3f6)]=(0x0,mi[_0x48c796(0x1c2)])(),this[_0x48c796(0x3f6)]['post'](this[_0x48c796(0x598)](_0x48c796(0x3fd)),..._0x4584b9,async(_0x5c61e8,_0x4790b9)=>{const _0x1ba87b=_0x48c796;let _0x3731bc=await this[_0x1ba87b(0x13c)]({'request':_0x5c61e8,'schema':oi,'ClassRef':Ze,'execute':(_0x146f53,_0x1caa86)=>k['updatePresence'](_0x146f53,_0x1caa86)});return _0x4790b9[_0x1ba87b(0x2be)](0xc9)[_0x1ba87b(0x4e8)](_0x3731bc);})['post'](this[_0x48c796(0x598)](_0x48c796(0x22b)),..._0x4584b9,async(_0x18f493,_0x5ef8ec)=>{const _0x1a5de2=_0x48c796;let _0x569903=await this[_0x1a5de2(0x13c)]({'request':_0x18f493,'schema':Ka,'ClassRef':et,'execute':(_0x4c53c4,_0x1f16af)=>k[_0x1a5de2(0x647)](_0x4c53c4,_0x1f16af)});return _0x5ef8ec[_0x1a5de2(0x2be)](0xc9)[_0x1a5de2(0x4e8)](_0x569903);})[_0x48c796(0x202)](this[_0x48c796(0x598)]('editChat'),..._0x4584b9,async(_0x55cbed,_0x264b62)=>{const _0x487778=_0x48c796;let _0x1d4fc9=await this[_0x487778(0x13c)]({'request':_0x55cbed,'schema':v,'ClassRef':M,'execute':(_0x50c3e9,_0x38a30a)=>k[_0x487778(0x584)](_0x50c3e9,_0x38a30a)});return _0x264b62[_0x487778(0x2be)](0xc9)['json'](_0x1d4fc9);})['put'](this[_0x48c796(0x598)](_0x48c796(0x3a1)),..._0x4584b9,async(_0x208cfd,_0x124c75)=>{const _0x16cf67=_0x48c796;let _0x356686=await this[_0x16cf67(0x13c)]({'request':_0x208cfd,'schema':Qa,'ClassRef':at,'execute':(_0x281ff8,_0x18eedd)=>k[_0x16cf67(0x3e1)](_0x281ff8,_0x18eedd)});return _0x124c75[_0x16cf67(0x2be)](0xc9)['json'](_0x356686);})[_0x48c796(0x7e8)](this[_0x48c796(0x598)](_0x48c796(0x60c)),..._0x4584b9,async(_0x59d2df,_0x5d3b21)=>{const _0x16dd02=_0x48c796;let _0x5d91a8=await this[_0x16dd02(0x13c)]({'request':_0x59d2df,'schema':Xa,'ClassRef':it,'execute':(_0x27240e,_0x3a72fe)=>k[_0x16dd02(0x60c)](_0x27240e,_0x3a72fe)});return _0x5d3b21[_0x16dd02(0x2be)](0xc9)[_0x16dd02(0x4e8)](_0x5d91a8);})[_0x48c796(0x585)](this[_0x48c796(0x598)](_0x48c796(0x4f3)),..._0x4584b9,async(_0x5e21a0,_0x347afb)=>{const _0x59844b=_0x48c796;let _0x4f8868=await this['dataValidate']({'request':_0x5e21a0,'schema':Za,'ClassRef':rt,'execute':(_0x3c580f,_0x14ab8f)=>k[_0x59844b(0x4a9)](_0x3c580f,_0x14ab8f)});return _0x347afb[_0x59844b(0x2be)](0xc9)[_0x59844b(0x4e8)](_0x4f8868);})[_0x48c796(0x202)](this[_0x48c796(0x598)]('fetchProfilePictureUrl'),..._0x4584b9,async(_0x2226c6,_0x55c6dd)=>{const _0x4af591=_0x48c796;let _0x5b7546=await this[_0x4af591(0x13c)]({'request':_0x2226c6,'schema':xe,'ClassRef':Oe,'execute':(_0xd31544,_0x2951a7)=>k[_0x4af591(0x2c5)](_0xd31544,_0x2951a7)});return _0x55c6dd[_0x4af591(0x2be)](0xc8)[_0x4af591(0x4e8)](_0x5b7546);})[_0x48c796(0x202)](this[_0x48c796(0x598)](_0x48c796(0x1da)),..._0x4584b9,async(_0x420092,_0x30c5d1)=>{const _0x502b43=_0x48c796;let _0x33a859=await this['dataValidate']({'request':_0x420092,'schema':ai,'ClassRef':Oe,'execute':(_0xb09fc7,_0x2013f9)=>k[_0x502b43(0x1da)](_0xb09fc7,_0x2013f9)});return _0x30c5d1[_0x502b43(0x2be)](0xc8)['json'](_0x33a859);})[_0x48c796(0x202)](this[_0x48c796(0x598)](_0x48c796(0x363)),..._0x4584b9,async(_0x36bf39,_0x5aa338)=>{const _0x4cfc23=_0x48c796;let _0x5d30a6=await this['dataValidate']({'request':_0x36bf39,'schema':ei,'ClassRef':ct,'execute':(_0x4b831f,_0x322881)=>k[_0x4cfc23(0x608)](_0x4b831f,_0x322881)});return _0x5aa338['status'](0xc8)[_0x4cfc23(0x4e8)](_0x5d30a6);})[_0x48c796(0x202)](this[_0x48c796(0x598)](_0x48c796(0x4fa)),..._0x4584b9,async(_0x7278fb,_0x3d6ccd)=>{const _0x466250=_0x48c796;let _0x479c8a=await this[_0x466250(0x13c)]({'request':_0x7278fb,'schema':null,'ClassRef':Object,'execute':(_0x30425f,_0x31ee21)=>k[_0x466250(0x4fa)](_0x30425f,_0x31ee21)});return _0x3d6ccd[_0x466250(0x2be)](0xc9)[_0x466250(0x4e8)](_0x479c8a);})[_0x48c796(0x202)](this[_0x48c796(0x598)](_0x48c796(0x738)),..._0x4584b9,async(_0xc85ec5,_0x4fe54f)=>{const _0x48f3fd=_0x48c796;let _0x5cbbe4=await this[_0x48f3fd(0x13c)]({'request':_0xc85ec5,'schema':ii,'ClassRef':Ye,'execute':(_0x46960a,_0x4795b3)=>k[_0x48f3fd(0x35b)](_0x46960a,_0x4795b3)});return _0x4fe54f[_0x48f3fd(0x2be)](0xc8)[_0x48f3fd(0x4e8)](_0x5cbbe4);})['get'](this['routerPath']('findChats'),..._0x4584b9,async(_0x2c246f,_0x20b8ef)=>{const _0x1da0f3=_0x48c796;let _0x15f4dd=await this[_0x1da0f3(0x13c)]({'request':_0x2c246f,'schema':null,'ClassRef':M,'execute':_0x47ac0=>k[_0x1da0f3(0x264)](_0x47ac0)});return _0x20b8ef[_0x1da0f3(0x2be)](0xc8)['json'](_0x15f4dd);})[_0x48c796(0x407)](this[_0x48c796(0x598)]('findLabels'),..._0x4584b9,async(_0x15e650,_0x4b19d1)=>{const _0x1cb9bc=_0x48c796;let _0x424723=await this[_0x1cb9bc(0x13c)]({'request':_0x15e650,'schema':null,'ClassRef':M,'execute':_0x264683=>k[_0x1cb9bc(0x4e2)](_0x264683)});return _0x4b19d1['status'](0xc8)['json'](_0x424723);})['put'](this['routerPath'](_0x48c796(0x81a)),..._0x4584b9,async(_0x3906d8,_0x102cd9)=>{const _0x2ef818=_0x48c796;let _0x527254=await this[_0x2ef818(0x13c)]({'request':_0x3906d8,'schema':null,'ClassRef':Array,'execute':(_0x557629,_0x305c2)=>k[_0x2ef818(0x81a)](_0x557629,_0x305c2)});return _0x102cd9[_0x2ef818(0x2be)](0xc8)[_0x2ef818(0x4e8)](_0x527254);})[_0x48c796(0x407)](this[_0x48c796(0x598)]('fetchPrivacySettings'),..._0x4584b9,async(_0x52f522,_0xde40df)=>{const _0x2a36fc=_0x48c796;let _0x8cd696=await this[_0x2a36fc(0x13c)]({'request':_0x52f522,'schema':null,'ClassRef':M,'execute':_0x2f4ab8=>k[_0x2a36fc(0x14e)](_0x2f4ab8)});return _0xde40df[_0x2a36fc(0x2be)](0xc8)[_0x2a36fc(0x4e8)](_0x8cd696);})[_0x48c796(0x7e8)](this[_0x48c796(0x598)](_0x48c796(0x644)),..._0x4584b9,async(_0x4886b7,_0x2c8b61)=>{const _0x347183=_0x48c796;let _0x21b8ca=await this[_0x347183(0x13c)]({'request':_0x4886b7,'schema':Ya,'ClassRef':ot,'execute':(_0x13b9e0,_0x31582d)=>k[_0x347183(0x644)](_0x13b9e0,_0x31582d)});return _0x2c8b61[_0x347183(0x2be)](0xc9)['json'](_0x21b8ca);})[_0x48c796(0x202)](this[_0x48c796(0x598)]('fetchBusinessProfile'),..._0x4584b9,async(_0x4326c2,_0x22de94)=>{const _0x4c1fc5=_0x48c796;let _0x15afea=await this[_0x4c1fc5(0x13c)]({'request':_0x4326c2,'schema':xe,'ClassRef':ve,'execute':(_0x16cbcf,_0x5628f2)=>k[_0x4c1fc5(0x2a5)](_0x16cbcf,_0x5628f2)});return _0x22de94[_0x4c1fc5(0x2be)](0xc8)[_0x4c1fc5(0x4e8)](_0x15afea);})[_0x48c796(0x202)](this[_0x48c796(0x598)](_0x48c796(0x79c)),..._0x4584b9,async(_0x2facf4,_0x1040e2)=>{const _0x2c1c38=_0x48c796;let _0x72ca32=await this[_0x2c1c38(0x13c)]({'request':_0x2facf4,'schema':ti,'ClassRef':tt,'execute':(_0x32ddeb,_0x27cd5e)=>k[_0x2c1c38(0x79c)](_0x32ddeb,_0x27cd5e)});return _0x1040e2[_0x2c1c38(0x2be)](0xc8)[_0x2c1c38(0x4e8)](_0x72ca32);})['post'](this[_0x48c796(0x598)](_0x48c796(0x751)),..._0x4584b9,async(_0x220f23,_0x4c69d9)=>{const _0x795f72=_0x48c796;let _0x22ab13=await this[_0x795f72(0x13c)]({'request':_0x220f23,'schema':si,'ClassRef':st,'execute':(_0x1d6a5b,_0x3e270e)=>k[_0x795f72(0x751)](_0x1d6a5b,_0x3e270e)});return _0x4c69d9[_0x795f72(0x2be)](0xc8)[_0x795f72(0x4e8)](_0x22ab13);})[_0x48c796(0x7e8)](this[_0x48c796(0x598)](_0x48c796(0x30a)),..._0x4584b9,async(_0x587afa,_0x3b41f3)=>{const _0x5187e4=_0x48c796;let _0x20ba1c=await this[_0x5187e4(0x13c)]({'request':_0x587afa,'schema':xe,'ClassRef':ve,'execute':(_0x399ae2,_0x3222a0)=>k[_0x5187e4(0x30a)](_0x399ae2,_0x3222a0)});return _0x3b41f3[_0x5187e4(0x2be)](0xc8)[_0x5187e4(0x4e8)](_0x20ba1c);})[_0x48c796(0x585)](this[_0x48c796(0x598)](_0x48c796(0x29d)),..._0x4584b9,async(_0xed03c5,_0x469762)=>{const _0x34e373=_0x48c796;let _0x57cf62=await this[_0x34e373(0x13c)]({'request':_0xed03c5,'schema':xe,'ClassRef':ve,'execute':(_0x561d68,_0x1e4579)=>k[_0x34e373(0x29d)](_0x561d68,_0x1e4579)});return _0x469762[_0x34e373(0x2be)](0xc8)[_0x34e373(0x4e8)](_0x57cf62);});}},fi=require(a0_0x75ac12(0x82a)),pt=class{},ht=class{},gt=class{},mt=class{},ft=class{},wt=class{},ie=class{},Pe=class{},yt=class extends ie{},bt=class extends ie{},St=class extends G{constructor(..._0x4862f2){const _0x5bba2f=a0_0x75ac12;super(),this['router']=(0x0,fi[_0x5bba2f(0x1c2)])(),this['router']['post'](this[_0x5bba2f(0x598)](_0x5bba2f(0x28d)),..._0x4862f2,async(_0x4df637,_0x24aa6f)=>{const _0x3665f0=_0x5bba2f;let _0x2d8d42=await this['dataValidate']({'request':_0x4df637,'schema':ri,'ClassRef':pt,'execute':(_0x5a8eb8,_0x51668c)=>V['createGroup'](_0x5a8eb8,_0x51668c)});_0x24aa6f[_0x3665f0(0x2be)](0xc9)[_0x3665f0(0x4e8)](_0x2d8d42);})[_0x5bba2f(0x7e8)](this[_0x5bba2f(0x598)](_0x5bba2f(0x310)),..._0x4862f2,async(_0x31a5ad,_0x3873ad)=>{const _0x1496a3=_0x5bba2f;let _0x176788=await this[_0x1496a3(0x7a6)]({'request':_0x31a5ad,'schema':li,'ClassRef':ht,'execute':(_0x1fea14,_0x5197cb)=>V[_0x1496a3(0x310)](_0x1fea14,_0x5197cb)});_0x3873ad[_0x1496a3(0x2be)](0xc9)['json'](_0x176788);})[_0x5bba2f(0x7e8)](this['routerPath'](_0x5bba2f(0x7a8)),..._0x4862f2,async(_0x384f7f,_0x31ce35)=>{const _0x12d57b=_0x5bba2f;let _0x7a77b5=await this[_0x12d57b(0x7a6)]({'request':_0x384f7f,'schema':ui,'ClassRef':gt,'execute':(_0x75d62b,_0x1f57d4)=>V[_0x12d57b(0x7a8)](_0x75d62b,_0x1f57d4)});_0x31ce35[_0x12d57b(0x2be)](0xc9)[_0x12d57b(0x4e8)](_0x7a77b5);})[_0x5bba2f(0x7e8)](this['routerPath'](_0x5bba2f(0x67c)),..._0x4862f2,async(_0x3f2503,_0x4d44ed)=>{const _0x2a63e8=_0x5bba2f;let _0x3a2586=await this[_0x2a63e8(0x7a6)]({'request':_0x3f2503,'schema':di,'ClassRef':mt,'execute':(_0x5a19e0,_0x310447)=>V[_0x2a63e8(0x67c)](_0x5a19e0,_0x310447)});_0x4d44ed[_0x2a63e8(0x2be)](0xc9)[_0x2a63e8(0x4e8)](_0x3a2586);})[_0x5bba2f(0x7e8)](this[_0x5bba2f(0x598)]('groupBetterSetting'),..._0x4862f2,async(_0x35466a,_0x47ea1f)=>{const _0x4430ad=_0x5bba2f;let _0x19a40a=await this['groupValidate']({'request':_0x35466a,'schema':hi,'ClassRef':wt,'execute':(_0x46003f,_0x24613a)=>V[_0x4430ad(0x32d)](_0x46003f,_0x24613a)});_0x47ea1f['status'](0xc9)[_0x4430ad(0x4e8)](_0x19a40a);})[_0x5bba2f(0x7e8)](this[_0x5bba2f(0x598)](_0x5bba2f(0x17d)),..._0x4862f2,async(_0x1f901a,_0xcd2368)=>{let _0x294770=await this['groupValidate']({'request':_0x1f901a,'schema':pi,'ClassRef':ft,'execute':(_0x2819f3,_0x134232)=>V['groupSetting'](_0x2819f3,_0x134232)});_0xcd2368['status'](0xc9)['json'](_0x294770);})[_0x5bba2f(0x7e8)](this[_0x5bba2f(0x598)]('toggleEphemeral'),..._0x4862f2,async(_0x119b65,_0x2a6d5d)=>{const _0xf33fec=_0x5bba2f;let _0x515fdb=await this['groupValidate']({'request':_0x119b65,'schema':ci,'ClassRef':bt,'execute':(_0x24fcce,_0x4f760a)=>V[_0xf33fec(0x7c4)](_0x24fcce,_0x4f760a)});_0x2a6d5d[_0xf33fec(0x2be)](0xc9)[_0xf33fec(0x4e8)](_0x515fdb);})[_0x5bba2f(0x407)](this[_0x5bba2f(0x598)]('findGroupInfos'),..._0x4862f2,async(_0x147979,_0x2c5ff6)=>{const _0x5203aa=_0x5bba2f;let _0x14e498=await this[_0x5203aa(0x7a6)]({'request':_0x147979,'schema':De,'ClassRef':ie,'execute':(_0x3c1a8b,_0x3d3dc0)=>V[_0x5203aa(0x4ef)](_0x3c1a8b,_0x3d3dc0)});_0x2c5ff6[_0x5203aa(0x2be)](0xc8)[_0x5203aa(0x4e8)](_0x14e498);})[_0x5bba2f(0x407)](this[_0x5bba2f(0x598)](_0x5bba2f(0x2f5)),..._0x4862f2,async(_0x404302,_0x1a6505)=>{const _0x4342a2=_0x5bba2f;let _0x1e10e5=await this[_0x4342a2(0x13c)]({'request':_0x404302,'schema':v,'ClassRef':M,'execute':_0x41e5a9=>V[_0x4342a2(0x2f5)](_0x41e5a9)});_0x1a6505[_0x4342a2(0x2be)](0xc8)[_0x4342a2(0x4e8)](_0x1e10e5);})['get'](this['routerPath'](_0x5bba2f(0x24c)),..._0x4862f2,async(_0x13f951,_0x219d49)=>{const _0x170939=_0x5bba2f;let _0x1587a4=await this[_0x170939(0x7a6)]({'request':_0x13f951,'schema':De,'ClassRef':ie,'execute':(_0x493f98,_0x548b75)=>V[_0x170939(0x5a4)](_0x493f98,_0x548b75)});_0x219d49[_0x170939(0x2be)](0xc8)[_0x170939(0x4e8)](_0x1587a4);})[_0x5bba2f(0x407)](this[_0x5bba2f(0x598)](_0x5bba2f(0x35d)),..._0x4862f2,async(_0xe65011,_0x45ecdf)=>{const _0x3bfd31=_0x5bba2f;let _0x4f8075=await this[_0x3bfd31(0x7a6)]({'request':_0xe65011,'schema':De,'ClassRef':ie,'execute':(_0x437893,_0x356fd0)=>V['inviteCode'](_0x437893,_0x356fd0)});_0x45ecdf['status'](0xc8)[_0x3bfd31(0x4e8)](_0x4f8075);})['post'](this[_0x5bba2f(0x598)](_0x5bba2f(0x635)),..._0x4862f2,async(_0x24e0b8,_0x4fc868)=>{const _0x248527=_0x5bba2f;let _0x15b226=await this[_0x248527(0x354)]({'request':_0x24e0b8,'schema':$s,'ClassRef':Pe,'execute':(_0x199365,_0x32102d)=>V[_0x248527(0x2d3)](_0x199365,_0x32102d)});_0x4fc868['status'](0xc9)[_0x248527(0x4e8)](_0x15b226);})[_0x5bba2f(0x7e8)](this[_0x5bba2f(0x598)]('joinGroup'),..._0x4862f2,async(_0x1a10cf,_0x6c3c1e)=>{const _0xe4b81b=_0x5bba2f;let _0x2199dd=await this[_0xe4b81b(0x354)]({'request':_0x1a10cf,'schema':$s,'ClassRef':Pe,'execute':(_0x2741a6,_0x3e090f)=>V[_0xe4b81b(0x7e6)](_0x2741a6,_0x3e090f)});_0x6c3c1e[_0xe4b81b(0x2be)](0xc9)['json'](_0x2199dd);})[_0x5bba2f(0x7e8)](this[_0x5bba2f(0x598)](_0x5bba2f(0x29e)),..._0x4862f2,async(_0xc4e89d,_0x25b706)=>{const _0x5f27be=_0x5bba2f;let _0x2dc86f=await this[_0x5f27be(0x7a6)]({'request':_0xc4e89d,'schema':De,'ClassRef':ie,'execute':(_0xc251a8,_0x211c1a)=>V[_0x5f27be(0x29e)](_0xc251a8,_0x211c1a)});_0x25b706[_0x5f27be(0x2be)](0xc9)['json'](_0x2dc86f);})[_0x5bba2f(0x7e8)](this['routerPath']('updateParticipant'),..._0x4862f2,async(_0x3f6ce4,_0x7e307d)=>{const _0x47ff48=_0x5bba2f;let _0x54b8b1=await this[_0x47ff48(0x7a6)]({'request':_0x3f6ce4,'schema':ni,'ClassRef':yt,'execute':(_0x28273a,_0x521c70)=>V['updateGParticipate'](_0x28273a,_0x521c70)});_0x7e307d[_0x47ff48(0x2be)](0xc9)[_0x47ff48(0x4e8)](_0x54b8b1);})[_0x5bba2f(0x585)](this[_0x5bba2f(0x598)]('leaveGroup'),..._0x4862f2,async(_0x26f3bb,_0x5e8a55)=>{const _0x4efdc3=_0x5bba2f;let _0x411aa2=await this[_0x4efdc3(0x7a6)]({'request':_0x26f3bb,'schema':{},'ClassRef':ie,'execute':(_0x31679f,_0x3b778b)=>V['leaveGroup'](_0x31679f,_0x3b778b)});_0x5e8a55[_0x4efdc3(0x2be)](0xc8)[_0x4efdc3(0x4e8)](_0x411aa2);});}},wi=require('express'),Mt=class extends G{constructor(_0x145445,..._0x194374){const _0x2fffce=a0_0x75ac12;super(),this[_0x2fffce(0x846)]=_0x145445,this[_0x2fffce(0x3f6)]=(0x0,wi[_0x2fffce(0x1c2)])();let _0xfab8ec=_0x145445[_0x2fffce(0x407)](_0x2fffce(0x33d));this['router'][_0x2fffce(0x202)](_0x2fffce(0x471),..._0x194374,async(_0x45c291,_0x464cca)=>{const _0x57ed9a=_0x2fffce;let {instanceName:_0x4262e4,apikey:_0x664e30,number:_0x36a598}=_0x45c291[_0x57ed9a(0x2e0)],_0x349c5c=await he[_0x57ed9a(0x6f8)]({'instanceName':_0x4262e4,'apikey':_0x664e30,'number':_0x36a598});return _0x464cca['status'](0xc9)[_0x57ed9a(0x4e8)](_0x349c5c);})[_0x2fffce(0x7e8)](this[_0x2fffce(0x598)]('restart'),..._0x194374,async(_0x310426,_0x57b885)=>{const _0x3380db=_0x2fffce;let _0x32bc3d=await this['dataValidate']({'request':_0x310426,'schema':v,'ClassRef':M,'execute':_0x1dfd59=>he['restartInstance'](_0x1dfd59)});return _0x57b885['status'](0xc8)[_0x3380db(0x4e8)](_0x32bc3d);})[_0x2fffce(0x407)](this[_0x2fffce(0x598)]('connect'),..._0x194374,async(_0xf738d8,_0x2f8864)=>{const _0x599a3f=_0x2fffce;let _0x1c097f=await this[_0x599a3f(0x13c)]({'request':_0xf738d8,'schema':v,'ClassRef':M,'execute':_0xc444ee=>he[_0x599a3f(0x10e)](_0xc444ee)});return _0x2f8864['status'](0xc8)[_0x599a3f(0x4e8)](_0x1c097f);})['get'](this['routerPath'](_0x2fffce(0x22a)),..._0x194374,async(_0x398b29,_0x1266cf)=>{const _0x44c975=_0x2fffce;let _0x19f8a2=await this[_0x44c975(0x13c)]({'request':_0x398b29,'schema':v,'ClassRef':M,'execute':_0x3f5976=>he[_0x44c975(0x22a)](_0x3f5976)});return _0x1266cf[_0x44c975(0x2be)](0xc8)['json'](_0x19f8a2);})[_0x2fffce(0x407)](this['routerPath'](_0x2fffce(0x7b6),!0x1),..._0x194374,async(_0x1bfac9,_0x28a221)=>{const _0x392882=_0x2fffce;let _0x5cb7c2=await this[_0x392882(0x13c)]({'request':_0x1bfac9,'schema':null,'ClassRef':M,'execute':_0x4533aa=>he['fetchInstances'](_0x4533aa)});return _0x28a221[_0x392882(0x2be)](0xc8)['json'](_0x5cb7c2);})[_0x2fffce(0x585)](this[_0x2fffce(0x598)](_0x2fffce(0x26c)),..._0x194374,async(_0x39f609,_0x22a75a)=>{const _0x5c3b65=_0x2fffce;let _0x130e26=await this[_0x5c3b65(0x13c)]({'request':_0x39f609,'schema':v,'ClassRef':M,'execute':_0x6f0a89=>he[_0x5c3b65(0x26c)](_0x6f0a89)});return _0x22a75a[_0x5c3b65(0x2be)](0xc8)[_0x5c3b65(0x4e8)](_0x130e26);})[_0x2fffce(0x585)](this[_0x2fffce(0x598)](_0x2fffce(0x585)),..._0x194374,async(_0x5a608d,_0x21df42)=>{const _0x536ac5=_0x2fffce;let _0x22dd75=await this[_0x536ac5(0x13c)]({'request':_0x5a608d,'schema':v,'ClassRef':M,'execute':_0x3d6f97=>he[_0x536ac5(0x333)](_0x3d6f97)});return _0x21df42[_0x536ac5(0x2be)](0xc8)[_0x536ac5(0x4e8)](_0x22dd75);});}},yi=require(a0_0x75ac12(0x82a)),As=class{},Y=class extends As{},Ct=class extends Y{},Et=class extends Y{},vt=class extends Y{},Nt=class extends Y{},ke=class extends Y{},$t=class extends Y{},Rt=class extends Y{},At=class extends Y{},It=class extends Y{},Tt=class extends Y{},Ot=class{},_t=class extends G{constructor(..._0x37accb){const _0x58a9fd=a0_0x75ac12;super(),this[_0x58a9fd(0x3f6)]=(0x0,yi[_0x58a9fd(0x1c2)])(),this['router'][_0x58a9fd(0x202)](this[_0x58a9fd(0x598)](_0x58a9fd(0x67a)),..._0x37accb,async(_0x5e6d31,_0x409f88)=>{const _0x4fa2ee=_0x58a9fd;let _0x4879cb=await this[_0x4fa2ee(0x13c)]({'request':_0x5e6d31,'schema':ka,'ClassRef':Ct,'execute':(_0x5b4516,_0x49b4fa)=>H[_0x4fa2ee(0x67a)](_0x5b4516,_0x49b4fa)});return _0x409f88[_0x4fa2ee(0x2be)](0xc9)['json'](_0x4879cb);})[_0x58a9fd(0x202)](this['routerPath'](_0x58a9fd(0x434)),..._0x37accb,async(_0x3e5f9b,_0xb27301)=>{const _0x2fc476=_0x58a9fd;let _0x4c2bdd=await this['dataValidate']({'request':_0x3e5f9b,'schema':ja,'ClassRef':ke,'execute':(_0x410778,_0x21a5af)=>H['sendMedia'](_0x410778,_0x21a5af)});return _0xb27301[_0x2fc476(0x2be)](0xc9)[_0x2fc476(0x4e8)](_0x4c2bdd);})[_0x58a9fd(0x202)](this['routerPath']('sendMenu'),..._0x37accb,async(_0x528859,_0x4f46b6)=>{const _0x30bea6=_0x58a9fd;let _0x5a8d0c=await this[_0x30bea6(0x13c)]({'request':_0x528859,'schema':Va,'ClassRef':Nt,'execute':(_0x13766a,_0x31b082)=>H[_0x30bea6(0x5c2)](_0x13766a,_0x31b082)});return _0x4f46b6['status'](0xc9)['json'](_0x5a8d0c);})['post'](this[_0x58a9fd(0x598)](_0x58a9fd(0x517)),..._0x37accb,async(_0x4a11fe,_0x5c7d1c)=>{const _0x7155be=_0x58a9fd;let _0x505768=await this[_0x7155be(0x13c)]({'request':_0x4a11fe,'schema':Ja,'ClassRef':ke,'execute':(_0x2e76ae,_0x9d6e4a)=>H[_0x7155be(0x517)](_0x2e76ae,_0x9d6e4a)});return _0x5c7d1c[_0x7155be(0x2be)](0xc9)[_0x7155be(0x4e8)](_0x505768);})[_0x58a9fd(0x202)](this[_0x58a9fd(0x598)](_0x58a9fd(0x16f)),..._0x37accb,async(_0x10451a,_0xd178b6)=>{const _0x151bd8=_0x58a9fd;let _0x2353fb=await this['dataValidate']({'request':_0x10451a,'schema':Ga,'ClassRef':Rt,'execute':(_0x559a57,_0x46b55f)=>H['sendButtons'](_0x559a57,_0x46b55f)});return _0xd178b6[_0x151bd8(0x2be)](0xc9)[_0x151bd8(0x4e8)](_0x2353fb);})[_0x58a9fd(0x202)](this[_0x58a9fd(0x598)]('sendLocation'),..._0x37accb,async(_0x527c54,_0x30bf92)=>{const _0x2dad0e=_0x58a9fd;let _0x462ee2=await this[_0x2dad0e(0x13c)]({'request':_0x527c54,'schema':Ba,'ClassRef':At,'execute':(_0x509f5a,_0x125857)=>H[_0x2dad0e(0x4b0)](_0x509f5a,_0x125857)});return _0x30bf92[_0x2dad0e(0x2be)](0xc9)[_0x2dad0e(0x4e8)](_0x462ee2);})[_0x58a9fd(0x202)](this[_0x58a9fd(0x598)](_0x58a9fd(0x676)),..._0x37accb,async(_0x52bc4d,_0x16fbd8)=>{const _0x279429=_0x58a9fd;let _0x3dbe21=await this[_0x279429(0x13c)]({'request':_0x52bc4d,'schema':Wa,'ClassRef':It,'execute':(_0x144c72,_0x2cce25)=>H['sendList'](_0x144c72,_0x2cce25)});return _0x16fbd8[_0x279429(0x2be)](0xc9)[_0x279429(0x4e8)](_0x3dbe21);})[_0x58a9fd(0x202)](this['routerPath'](_0x58a9fd(0x4a1)),..._0x37accb,async(_0x341665,_0x5278d4)=>{const _0x48a9e6=_0x58a9fd;let _0xf252ce=await this['dataValidate']({'request':_0x341665,'schema':za,'ClassRef':Tt,'execute':(_0x10509a,_0x3aa13d)=>H[_0x48a9e6(0x4a1)](_0x10509a,_0x3aa13d)});return _0x5278d4['status'](0xc9)[_0x48a9e6(0x4e8)](_0xf252ce);})[_0x58a9fd(0x202)](this[_0x58a9fd(0x598)](_0x58a9fd(0x15e)),..._0x37accb,async(_0x52da6d,_0x3e061d)=>{const _0x2d57c2=_0x58a9fd;let _0x68a082=await this[_0x2d57c2(0x13c)]({'request':_0x52da6d,'schema':Ha,'ClassRef':Ot,'execute':(_0x2eecee,_0x5ddf2b)=>H[_0x2d57c2(0x15e)](_0x2eecee,_0x5ddf2b)});return _0x3e061d[_0x2d57c2(0x2be)](0xc9)['json'](_0x68a082);})['post'](this[_0x58a9fd(0x598)](_0x58a9fd(0x21d)),..._0x37accb,async(_0x3c4857,_0x5e4a2a)=>{const _0x4ed0e9=_0x58a9fd;let _0x399a9a=await this[_0x4ed0e9(0x13c)]({'request':_0x3c4857,'schema':qa,'ClassRef':vt,'execute':(_0x2c71fa,_0xae4707)=>H[_0x4ed0e9(0x21d)](_0x2c71fa,_0xae4707)});return _0x5e4a2a[_0x4ed0e9(0x2be)](0xc9)['json'](_0x399a9a);})[_0x58a9fd(0x202)](this[_0x58a9fd(0x598)](_0x58a9fd(0x3e4)),..._0x37accb,async(_0x467570,_0x5272ba)=>{const _0x3ae407=_0x58a9fd;let _0x5ca983=await this[_0x3ae407(0x13c)]({'request':_0x467570,'schema':Ua,'ClassRef':Et,'execute':(_0x369533,_0x386694)=>H[_0x3ae407(0x3e4)](_0x369533,_0x386694)});return _0x5272ba[_0x3ae407(0x2be)](0xc9)[_0x3ae407(0x4e8)](_0x5ca983);})[_0x58a9fd(0x202)](this[_0x58a9fd(0x598)]('sendSticker'),..._0x37accb,async(_0x128514,_0x3bb93b)=>{const _0x5d7177=_0x58a9fd;let _0x24c81c=await this[_0x5d7177(0x13c)]({'request':_0x128514,'schema':Fa,'ClassRef':$t,'execute':(_0xf8bfc0,_0xb4d63b)=>H[_0x5d7177(0x7c0)](_0xf8bfc0,_0xb4d63b)});return _0x3bb93b[_0x5d7177(0x2be)](0xc9)[_0x5d7177(0x4e8)](_0x24c81c);});}},bi=require(a0_0x75ac12(0x82a)),xt=class{},Dt=class extends G{constructor(..._0x3dbb15){const _0x3276e4=a0_0x75ac12;super(),this[_0x3276e4(0x3f6)]=(0x0,bi[_0x3276e4(0x1c2)])(),this[_0x3276e4(0x3f6)][_0x3276e4(0x202)](this[_0x3276e4(0x598)](_0x3276e4(0x70d)),..._0x3dbb15,async(_0x63d0a0,_0x5331b5)=>{const _0x522a6b=_0x3276e4;let _0x4908b2=await this[_0x522a6b(0x13c)]({'request':_0x63d0a0,'schema':gi,'ClassRef':xt,'execute':(_0xc6256a,_0x2e1944)=>Is['createWebhook'](_0xc6256a,_0x2e1944)});_0x5331b5[_0x522a6b(0x2be)](0xc9)[_0x522a6b(0x4e8)](_0x4908b2);})['get'](this[_0x3276e4(0x598)]('find'),..._0x3dbb15,async(_0x2b5469,_0x2808b5)=>{const _0x540332=_0x3276e4;let _0x514c80=await this['dataValidate']({'request':_0x2b5469,'schema':v,'ClassRef':M,'execute':_0x5343c0=>Is[_0x540332(0x688)](_0x5343c0)});_0x2808b5['status'](0xc8)[_0x540332(0x4e8)](_0x514c80);});}},Si=require(a0_0x75ac12(0x82a)),y=new $(a0_0x75ac12(0x1f6)),Pt=class extends G{constructor(..._0x35b789){const _0x355163=a0_0x75ac12;super(),this[_0x355163(0x3f6)]=(0x0,Si[_0x355163(0x1c2)])(),this[_0x355163(0x3f6)][_0x355163(0x202)](this[_0x355163(0x598)](_0x355163(0x4b8)),..._0x35b789,async(_0x104ecc,_0x49550b)=>{const _0x405371=_0x355163;let _0x6686=_0x104ecc[_0x405371(0x2e0)];y['verbose'](_0x405371(0x374)),y[_0x405371(0x195)]('request\x20body:\x20'),y[_0x405371(0x195)](_0x104ecc['body']);let _0xfbfdc=await this['dataValidate']({'request':_0x104ecc,'schema':v,'ClassRef':M,'execute':_0x57edb9=>T[_0x405371(0x483)](_0x57edb9,_0x6686)});_0x49550b[_0x405371(0x2be)](0xc8)[_0x405371(0x4e8)](_0xfbfdc);})['get'](this[_0x355163(0x598)](_0x355163(0x4b8)),..._0x35b789,async(_0x30bcfc,_0x25ac0c)=>{const _0x649297=_0x355163;let _0x4f340e=await this[_0x649297(0x13c)]({'request':_0x30bcfc,'schema':v,'ClassRef':M,'execute':_0x1264ff=>T[_0x649297(0x433)](_0x1264ff)});_0x25ac0c[_0x649297(0x2be)](0xc8)[_0x649297(0x4e8)](_0x4f340e);})[_0x355163(0x585)](this[_0x355163(0x598)](_0x355163(0x3c8)),..._0x35b789,async(_0x119335,_0x83473c)=>{const _0x4a35e3=_0x355163;y[_0x4a35e3(0x195)]('request\x20received\x20in\x20deleteDoneMessages');let _0x244812=await this['dataValidate']({'request':_0x119335,'schema':v,'ClassRef':M,'execute':_0x122c49=>T[_0x4a35e3(0x3c8)](_0x122c49)});_0x83473c[_0x4a35e3(0x2be)](0xc8)[_0x4a35e3(0x4e8)](_0x244812);})[_0x355163(0x202)](this[_0x355163(0x598)](_0x355163(0x7ca)),..._0x35b789,async(_0xd61fc2,_0x5a6780)=>{const _0x80e10=_0x355163;let _0x178ede=_0xd61fc2[_0x80e10(0x2e0)];y[_0x80e10(0x195)](_0x80e10(0x280)),y[_0x80e10(0x195)](_0x80e10(0x713)),y[_0x80e10(0x195)](_0xd61fc2['body']);let _0x29b865=await this[_0x80e10(0x13c)]({'request':_0xd61fc2,'schema':v,'ClassRef':M,'execute':_0x232301=>T[_0x80e10(0x7ca)](_0x232301,_0x178ede)});_0x5a6780[_0x80e10(0x2be)](0xc8)[_0x80e10(0x4e8)](_0x29b865);})[_0x355163(0x407)](this[_0x355163(0x598)](_0x355163(0x6c6)),..._0x35b789,async(_0xed4648,_0x29f402)=>{const _0xa56b8=_0x355163;y[_0xa56b8(0x195)]('request\x20received\x20in\x20getAutomateSystem');let _0x424968=await this[_0xa56b8(0x13c)]({'request':_0xed4648,'schema':v,'ClassRef':M,'execute':_0x56a262=>T['getAutomateSystem'](_0x56a262)});_0x29f402[_0xa56b8(0x2be)](0xc8)[_0xa56b8(0x4e8)](_0x424968);})[_0x355163(0x407)](this[_0x355163(0x598)](_0x355163(0x23b)),..._0x35b789,async(_0x2c8e5c,_0x34bb65)=>{const _0x1c536d=_0x355163;y[_0x1c536d(0x195)](_0x1c536d(0x622));let _0x53e998=await this[_0x1c536d(0x13c)]({'request':_0x2c8e5c,'schema':v,'ClassRef':M,'execute':_0x968d58=>T[_0x1c536d(0x6c6)](_0x968d58)});_0x34bb65['status'](0xc8)[_0x1c536d(0x4e8)](_0x53e998);})[_0x355163(0x202)](this[_0x355163(0x598)](_0x355163(0x3fa)),..._0x35b789,async(_0x375bbe,_0x11f883)=>{const _0x283332=_0x355163;let _0x504923=_0x375bbe['body'];y[_0x283332(0x195)](_0x283332(0x7a7)),y['verbose'](_0x283332(0x713)),y[_0x283332(0x195)](_0x375bbe[_0x283332(0x2e0)]);let _0x3df2fc=await this[_0x283332(0x13c)]({'request':_0x375bbe,'schema':v,'ClassRef':M,'execute':_0x40e375=>T[_0x283332(0x3fa)](_0x40e375,_0x504923)});_0x11f883[_0x283332(0x2be)](0xc8)[_0x283332(0x4e8)](_0x3df2fc);})[_0x355163(0x202)](this[_0x355163(0x598)](_0x355163(0x413)),..._0x35b789,async(_0x1bca5c,_0x2cf6a0)=>{const _0x48733b=_0x355163;let _0x1871e2=_0x1bca5c[_0x48733b(0x2e0)];y[_0x48733b(0x195)](_0x48733b(0x811)),y[_0x48733b(0x195)](_0x48733b(0x713)),y['verbose'](_0x1bca5c[_0x48733b(0x2e0)]);let _0x555e71=await this[_0x48733b(0x13c)]({'request':_0x1bca5c,'schema':v,'ClassRef':M,'execute':_0x1a168e=>T['updateCustomFields'](_0x1a168e,_0x1871e2)});_0x2cf6a0['status'](0xc8)[_0x48733b(0x4e8)](_0x555e71);})[_0x355163(0x202)](this[_0x355163(0x598)](_0x355163(0x390)),..._0x35b789,async(_0x1bd105,_0x5ccfea)=>{const _0x51ad59=_0x355163;let _0x16a3fe=_0x1bd105['body'];y[_0x51ad59(0x195)](_0x51ad59(0x3ba)),y[_0x51ad59(0x195)](_0x51ad59(0x713)),y[_0x51ad59(0x195)](_0x1bd105['body']);let _0x550dbd=await this[_0x51ad59(0x13c)]({'request':_0x1bd105,'schema':v,'ClassRef':M,'execute':_0x5b22c=>T[_0x51ad59(0x390)](_0x5b22c,_0x16a3fe)});_0x5ccfea['status'](0xc8)[_0x51ad59(0x4e8)](_0x550dbd);})[_0x355163(0x202)](this[_0x355163(0x598)]('updateFlowConfig'),..._0x35b789,async(_0x48e923,_0x84d282)=>{const _0x401516=_0x355163;let _0x349a52=_0x48e923[_0x401516(0x2e0)];y['verbose'](_0x401516(0x5eb)),y[_0x401516(0x195)](_0x401516(0x713)),y[_0x401516(0x195)](_0x48e923[_0x401516(0x2e0)]);let _0xea7792=await this[_0x401516(0x13c)]({'request':_0x48e923,'schema':v,'ClassRef':M,'execute':_0x8d8bd9=>T[_0x401516(0x3bb)](_0x8d8bd9,_0x349a52)});_0x84d282[_0x401516(0x2be)](0xc8)[_0x401516(0x4e8)](_0xea7792);})[_0x355163(0x202)](this[_0x355163(0x598)](_0x355163(0x1db)),..._0x35b789,async(_0x4d3616,_0x1939ee)=>{const _0x5a7f67=_0x355163;let _0x48b59a=_0x4d3616[_0x5a7f67(0x2e0)];y[_0x5a7f67(0x195)]('request\x20received\x20in\x20getConversation'),y[_0x5a7f67(0x195)]('request\x20body:\x20'),y[_0x5a7f67(0x195)](_0x4d3616[_0x5a7f67(0x2e0)]);let _0x233c47=await this[_0x5a7f67(0x13c)]({'request':_0x4d3616,'schema':v,'ClassRef':M,'execute':_0x18fdca=>T[_0x5a7f67(0x1db)](_0x18fdca,_0x48b59a)});_0x1939ee[_0x5a7f67(0x2be)](0xc8)[_0x5a7f67(0x4e8)](_0x233c47);})[_0x355163(0x202)](this['routerPath']('fetchConversation'),..._0x35b789,async(_0x56996c,_0x11a95a)=>{const _0x4f5e1e=_0x355163;let _0x278b10=_0x56996c[_0x4f5e1e(0x2e0)];y[_0x4f5e1e(0x195)]('request\x20received\x20in\x20fetchConversation'),y[_0x4f5e1e(0x195)](_0x4f5e1e(0x713)),y[_0x4f5e1e(0x195)](_0x56996c[_0x4f5e1e(0x2e0)]);let _0x4e11c8=await this[_0x4f5e1e(0x13c)]({'request':_0x56996c,'schema':v,'ClassRef':M,'execute':_0x1deed3=>T[_0x4f5e1e(0x4a0)](_0x1deed3,_0x278b10)});_0x11a95a['status'](0xc8)['json'](_0x4e11c8);})[_0x355163(0x202)](this[_0x355163(0x598)](_0x355163(0x66f)),..._0x35b789,async(_0x20b260,_0x1dae28)=>{const _0x16ab9c=_0x355163;let _0xf7b6f4=_0x20b260['body'];y[_0x16ab9c(0x195)]('request\x20received\x20in\x20editConversation'),y[_0x16ab9c(0x195)](_0x16ab9c(0x713)),y['verbose'](_0x20b260['body']);let _0x2c7d44=await this[_0x16ab9c(0x13c)]({'request':_0x20b260,'schema':v,'ClassRef':M,'execute':_0x3ef727=>T['editConversation'](_0x3ef727,_0xf7b6f4)});_0x1dae28[_0x16ab9c(0x2be)](0xc8)['json'](_0x2c7d44);})['delete'](this[_0x355163(0x598)]('deleteConversation'),..._0x35b789,async(_0x363bd0,_0x2b68db)=>{const _0x19dd3c=_0x355163;let _0xe2b8a9=_0x363bd0[_0x19dd3c(0x2e0)];y[_0x19dd3c(0x195)]('request\x20received\x20in\x20deleteConversation'),y[_0x19dd3c(0x195)](_0x19dd3c(0x713)),y[_0x19dd3c(0x195)](_0x363bd0[_0x19dd3c(0x2e0)]);let _0x1cc3c1=await this['dataValidate']({'request':_0x363bd0,'schema':v,'ClassRef':M,'execute':_0x34e5f6=>T[_0x19dd3c(0x37d)](_0x34e5f6,_0xe2b8a9)});_0x2b68db['status'](0xc8)['json'](_0x1cc3c1);})[_0x355163(0x202)](this[_0x355163(0x598)]('createflow'),..._0x35b789,async(_0x36398b,_0x5c02ae)=>{const _0x3e6e52=_0x355163;let _0xc0f0ca=_0x36398b['body'],_0x49921b=_0x36398b[_0x3e6e52(0x2dc)][_0x3e6e52(0x2b2)];y[_0x3e6e52(0x195)](_0x3e6e52(0xef)),y[_0x3e6e52(0x195)](_0x3e6e52(0x713)),y[_0x3e6e52(0x195)](_0x36398b[_0x3e6e52(0x2e0)]);let _0x2637f7=await this[_0x3e6e52(0x13c)]({'request':_0x36398b,'schema':v,'ClassRef':M,'execute':_0x3c1df8=>T[_0x3e6e52(0x68e)](_0x3c1df8,_0xc0f0ca,_0x49921b)});_0x5c02ae['status'](0xc8)[_0x3e6e52(0x4e8)](_0x2637f7);})[_0x355163(0x202)](this[_0x355163(0x598)]('editflow'),..._0x35b789,async(_0x5b2f89,_0x36a25a)=>{const _0x5722cc=_0x355163;let _0x3104a9=_0x5b2f89[_0x5722cc(0x2e0)],_0x209904=_0x5b2f89['headers']['apikey'];y[_0x5722cc(0x195)](_0x5722cc(0x1c4)),y['verbose']('request\x20body:\x20'),y[_0x5722cc(0x195)](_0x5b2f89['body']),delete _0x3104a9['blocks'],delete _0x3104a9[_0x5722cc(0x42b)],delete _0x3104a9[_0x5722cc(0x546)],delete _0x3104a9[_0x5722cc(0x396)];let _0x6fc398=await this[_0x5722cc(0x13c)]({'request':_0x5b2f89,'schema':v,'ClassRef':M,'execute':_0x186805=>T[_0x5722cc(0x22d)](_0x186805,_0x3104a9,_0x209904)});_0x36a25a[_0x5722cc(0x2be)](0xc8)[_0x5722cc(0x4e8)](_0x6fc398);})[_0x355163(0x202)](this[_0x355163(0x598)](_0x355163(0x708)),..._0x35b789,async(_0x40d26f,_0x408d10)=>{const _0x558cf4=_0x355163;let _0x4e4acb=_0x40d26f[_0x558cf4(0x2e0)];y[_0x558cf4(0x195)]('request\x20received\x20in\x20editFlow'),y[_0x558cf4(0x195)](_0x558cf4(0x713)),y[_0x558cf4(0x195)](_0x40d26f[_0x558cf4(0x2e0)]);let _0x540617=await this[_0x558cf4(0x13c)]({'request':_0x40d26f,'schema':v,'ClassRef':M,'execute':_0x3aa3e4=>T['editFlowBlock'](_0x3aa3e4,_0x4e4acb)});_0x408d10['status'](0xc8)[_0x558cf4(0x4e8)](_0x540617);})[_0x355163(0x202)](this['routerPath'](_0x355163(0x3de)),..._0x35b789,async(_0x3240d1,_0x4e0603)=>{const _0x3a133d=_0x355163;let _0x356bfe=_0x3240d1[_0x3a133d(0x2e0)];y[_0x3a133d(0x195)](_0x3a133d(0x1c4)),y['verbose'](_0x3a133d(0x713)),y[_0x3a133d(0x195)](_0x3240d1[_0x3a133d(0x2e0)]);let _0x50bf1f=await this['dataValidate']({'request':_0x3240d1,'schema':v,'ClassRef':M,'execute':_0x1084ab=>T[_0x3a133d(0x2b9)](_0x1084ab,_0x356bfe)});_0x4e0603['status'](0xc8)[_0x3a133d(0x4e8)](_0x50bf1f);})[_0x355163(0x202)](this[_0x355163(0x598)](_0x355163(0x4b7)),..._0x35b789,async(_0x4a74b1,_0x5cd0c9)=>{const _0x5df736=_0x355163;let _0x3ded44=_0x4a74b1[_0x5df736(0x2e0)];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x5df736(0x195)](_0x5df736(0x713)),y[_0x5df736(0x195)](_0x4a74b1[_0x5df736(0x2e0)]);let _0x4eecf5=await this[_0x5df736(0x13c)]({'request':_0x4a74b1,'schema':v,'ClassRef':M,'execute':_0x4f4d61=>T['editFlowVaredit'](_0x4f4d61,_0x3ded44)});_0x5cd0c9[_0x5df736(0x2be)](0xc8)[_0x5df736(0x4e8)](_0x4eecf5);})[_0x355163(0x202)](this['routerPath'](_0x355163(0x1ff)),..._0x35b789,async(_0x377c50,_0x3b2376)=>{const _0x371f85=_0x355163;let _0x26b851=_0x377c50[_0x371f85(0x2e0)];y[_0x371f85(0x195)](_0x371f85(0x3b4)),y[_0x371f85(0x195)](_0x371f85(0x713)),y[_0x371f85(0x195)](_0x377c50['body']);let _0x3598e4=await this['dataValidate']({'request':_0x377c50,'schema':v,'ClassRef':M,'execute':_0x51d662=>T[_0x371f85(0x5f3)](_0x51d662,_0x26b851)});_0x3b2376[_0x371f85(0x2be)](0xc8)['json'](_0x3598e4);})['post'](this[_0x355163(0x598)]('editflowcondition'),..._0x35b789,async(_0x5a9bc8,_0x187848)=>{const _0x2d2da3=_0x355163;let _0x629cc=_0x5a9bc8[_0x2d2da3(0x2e0)];y['verbose'](_0x2d2da3(0x5ed)),y[_0x2d2da3(0x195)](_0x2d2da3(0x713)),y[_0x2d2da3(0x195)](_0x5a9bc8[_0x2d2da3(0x2e0)]);let _0x34d6c6=await this[_0x2d2da3(0x13c)]({'request':_0x5a9bc8,'schema':v,'ClassRef':M,'execute':_0x45c7fb=>T[_0x2d2da3(0x37b)](_0x45c7fb,_0x629cc)});_0x187848['status'](0xc8)[_0x2d2da3(0x4e8)](_0x34d6c6);})[_0x355163(0x202)](this['routerPath']('editflowvariable'),..._0x35b789,async(_0x1eeaf4,_0x2d2070)=>{const _0x60c1af=_0x355163;let _0x577276=_0x1eeaf4[_0x60c1af(0x2e0)];y[_0x60c1af(0x195)](_0x60c1af(0x5be)),y[_0x60c1af(0x195)](_0x60c1af(0x713)),y['verbose'](_0x1eeaf4['body']);let _0x5a6b1c=await this['dataValidate']({'request':_0x1eeaf4,'schema':v,'ClassRef':M,'execute':_0x44d24a=>T[_0x60c1af(0x275)](_0x44d24a,_0x577276)});_0x2d2070[_0x60c1af(0x2be)](0xc8)[_0x60c1af(0x4e8)](_0x5a6b1c);})[_0x355163(0x202)](this[_0x355163(0x598)](_0x355163(0x6c9)),..._0x35b789,async(_0x201738,_0x44509b)=>{const _0x4f9bfe=_0x355163;let _0x2208f5=_0x201738[_0x4f9bfe(0x2e0)];y[_0x4f9bfe(0x195)](_0x4f9bfe(0x3d6)),y[_0x4f9bfe(0x195)](_0x4f9bfe(0x713)),y[_0x4f9bfe(0x195)](_0x201738[_0x4f9bfe(0x2e0)]);let _0x5a7d29=await this[_0x4f9bfe(0x13c)]({'request':_0x201738,'schema':v,'ClassRef':M,'execute':_0x4fefea=>T[_0x4f9bfe(0x2b6)](_0x4fefea,_0x2208f5)});_0x44509b['status'](0xc8)[_0x4f9bfe(0x4e8)](_0x5a7d29);})['delete'](this[_0x355163(0x598)]('deleteflow'),..._0x35b789,async(_0x54f596,_0x3cea47)=>{const _0x16a050=_0x355163;let _0x3a9643=_0x54f596[_0x16a050(0x2e0)];y['verbose'](_0x16a050(0x28c)),y[_0x16a050(0x195)](_0x16a050(0x713)),y[_0x16a050(0x195)](_0x54f596['body']);let _0x51fc33=await this[_0x16a050(0x13c)]({'request':_0x54f596,'schema':v,'ClassRef':M,'execute':_0x22ff9a=>T[_0x16a050(0x5c4)](_0x22ff9a,_0x3a9643)});_0x3cea47['status'](0xc8)[_0x16a050(0x4e8)](_0x51fc33);})[_0x355163(0x407)](this[_0x355163(0x598)](_0x355163(0x6fa)),..._0x35b789,async(_0x49653f,_0x2177e2)=>{const _0x1952b7=_0x355163;y[_0x1952b7(0x195)]('request\x20received\x20in\x20allFlows');let _0x8e9d5f=await this[_0x1952b7(0x13c)]({'request':_0x49653f,'schema':v,'ClassRef':M,'execute':_0x2294d4=>T[_0x1952b7(0x550)](_0x2294d4)});_0x2177e2['status'](0xc8)[_0x1952b7(0x4e8)](_0x8e9d5f);});}},vi=I(require('path')),oe={};function Mi(_0x3fdfb1,_0x261ee2,_0x3214c2,_0x14d5ec){oe[_0x3fdfb1]||(oe[_0x3fdfb1]={}),oe[_0x3fdfb1][_0x261ee2]={'id':_0x261ee2,'response':_0x3214c2,'events':_0x14d5ec};}function Ci(_0x2f8c47,_0x52ca0e){!oe[_0x2f8c47]||!oe[_0x2f8c47][_0x52ca0e]||delete oe[_0x2f8c47][_0x52ca0e];}function q(_0x433a23,_0x589987,_0x424dbc){const _0x116f7f=a0_0x75ac12;if(!oe[_0x433a23])return;let _0x19b02f='data:\x20'+JSON['stringify'](_0x424dbc)+'\x0a\x0a';Object[_0x116f7f(0x669)](oe[_0x433a23])[_0x116f7f(0x839)](_0x10f941=>{const _0x4d324f=_0x116f7f;_0x10f941[_0x4d324f(0x3e5)][_0x4d324f(0x5bb)](_0x589987)&&_0x10f941[_0x4d324f(0x500)]['write'](_0x19b02f);});}function Ei(){const _0x35f24b=a0_0x75ac12;let _0xa8cf27={};for(let _0x777263 in oe)_0xa8cf27[_0x777263]=Object['values'](oe[_0x777263])[_0x35f24b(0x506)](_0x19ee0b=>({'id':_0x19ee0b['id'],'events':_0x19ee0b[_0x35f24b(0x3e5)]}));return _0xa8cf27;}var Ni=require(a0_0x75ac12(0x4b2)),Os=require('mongoose'),Ts=class{},Oo=new Os[(a0_0x75ac12(0x421))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),_o=new Os[(a0_0x75ac12(0x421))]({'_id':{'type':String,'default':'config'},'WebhookGlobal':{'type':Oo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ne=R?.[a0_0x75ac12(0x749)](Ts['name'],_o,'All_Instances_Config'),xo=vi['default'][a0_0x75ac12(0x215)](__dirname,a0_0x75ac12(0x5c8)),Le=(0x0,kt[a0_0x75ac12(0x1c2)])(),Do=b[a0_0x75ac12(0x407)](a0_0x75ac12(0x33d))['TYPE'],le=[Ta,Oa,Da[Do]];Le[a0_0x75ac12(0x586)]('/media',kt[a0_0x75ac12(0x636)][a0_0x75ac12(0x368)](xo))[a0_0x75ac12(0x407)]('/events/:instance',async(_0x47844a,_0x2cc280)=>{const _0xd63670=a0_0x75ac12;console['log'](_0xd63670(0x4f5));let _0x4b94fe=_0x47844a['params'][_0xd63670(0x7f4)],_0x16ebba=(_0x47844a[_0xd63670(0x6bf)]['events']||'')[_0xd63670(0x170)](','),_0x1757f0=(0x0,Ni['v4'])();console[_0xd63670(0x54b)](_0xd63670(0x292),_0x4b94fe),console[_0xd63670(0x54b)](_0xd63670(0x221),_0x16ebba);let _0x5753bc=b['get'](_0xd63670(0x33d))[_0xd63670(0x620)],_0x3ca24d=_0x47844a['query'][_0xd63670(0x2b2)];if(console[_0xd63670(0x54b)](_0xd63670(0x3b3),_0x3ca24d),_0x5753bc[_0xd63670(0x7bc)]!==_0x3ca24d){console['log']('env.KEY\x20!==\x20key');try{let _0x33ac42=await we[_0xd63670(0x7f7)][_0xd63670(0x1c3)](_0x4b94fe);if(console['log'](_0xd63670(0x34e),_0x33ac42),!_0x33ac42||_0x33ac42[_0xd63670(0x2b2)]!==_0x3ca24d)return console['log'](_0xd63670(0x31c)),_0x2cc280['status'](0x191)[_0xd63670(0x4fc)](_0xd63670(0x3af));}catch(_0x3ad2a5){return console[_0xd63670(0x15c)](_0xd63670(0xfc),_0x3ad2a5),_0x2cc280[_0xd63670(0x2be)](0x191)['send']('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await _e(_0x4b94fe))return _0x2cc280[_0xd63670(0x2be)](0x194)[_0xd63670(0x4fc)](_0xd63670(0x834));_0x2cc280[_0xd63670(0x844)](_0xd63670(0x279),'text/event-stream'),_0x2cc280[_0xd63670(0x844)](_0xd63670(0x364),'no-cache'),_0x2cc280['setHeader'](_0xd63670(0x2da),_0xd63670(0x43d)),_0x2cc280[_0xd63670(0x20c)]();let _0x3e545f='data:\x20'+JSON[_0xd63670(0x53e)]({'info':_0xd63670(0x609)})+'\x0a\x0a';_0x2cc280[_0xd63670(0x1b6)](_0x3e545f),Mi(_0x4b94fe,_0x1757f0,_0x2cc280,_0x16ebba),_0x47844a['on'](_0xd63670(0x252),()=>{const _0x234879=_0xd63670;console[_0x234879(0x54b)](_0x234879(0x774)+_0x4b94fe),Ci(_0x4b94fe,_0x1757f0);});}),Le[a0_0x75ac12(0x202)](a0_0x75ac12(0x842),async(_0x39d16e,_0x49388b)=>{const _0x3ab85c=a0_0x75ac12;console[_0x3ab85c(0x54b)](_0x3ab85c(0x419));let _0x3afb2c=_0x39d16e[_0x3ab85c(0x709)][_0x3ab85c(0x7f4)],_0x194d9f=_0x39d16e['params'][_0x3ab85c(0x225)],_0xcb5a28=_0x39d16e[_0x3ab85c(0x6bf)][_0x3ab85c(0x323)]||'',_0x4d9741=_0x39d16e[_0x3ab85c(0x2e0)];console[_0x3ab85c(0x54b)](_0x3ab85c(0x5e2),_0x3afb2c),console[_0x3ab85c(0x54b)](_0x3ab85c(0x147),_0x194d9f),console[_0x3ab85c(0x54b)](_0x3ab85c(0x2c1),_0xcb5a28),console['log']('Request\x20Body:',_0x4d9741);try{if(!await _e(_0x3afb2c))return _0x49388b[_0x3ab85c(0x2be)](0x194)[_0x3ab85c(0x4fc)](_0x3ab85c(0x834));let _0x4d5a61=await T['startFlowWebhook'](_0x3afb2c,_0x194d9f,_0xcb5a28,_0x4d9741);_0x49388b['send'](_0x4d5a61);}catch(_0x27a524){console[_0x3ab85c(0x15c)](_0x27a524),_0x49388b[_0x3ab85c(0x2be)](0x1f4)[_0x3ab85c(0x4fc)](_0x3ab85c(0x7c9));}}),Le[a0_0x75ac12(0x407)](a0_0x75ac12(0x82c),(_0x1f6048,_0x3874e4)=>{const _0x2a1e5d=a0_0x75ac12;let _0x27604d=Ei();_0x3874e4[_0x2a1e5d(0x4e8)](_0x27604d);})[a0_0x75ac12(0x407)]('/',(_0x2dc32c,_0x3ba1c6)=>{const _0x2f8be2=a0_0x75ac12;let _0x4815d2=b['get']('SERVER')['URL'];if(_0x4815d2){let _0x212f99=encodeURIComponent(''+_0x4815d2);_0x3ba1c6[_0x2f8be2(0x56c)](_0x2f8be2(0x764)+_0x212f99);return;}let _0x45e30a=b['get'](_0x2f8be2(0x2f3)),_0x523069=_0x45e30a&&_0x45e30a['FULLCHAIN'][_0x2f8be2(0x170)]('/')[0x4];if(_0x523069){let _0x1885b6=encodeURIComponent('https://'+_0x523069);_0x3ba1c6['redirect'](_0x2f8be2(0x764)+_0x1885b6);}else _0x3ba1c6[_0x2f8be2(0x56c)](_0x2f8be2(0x7ea));})[a0_0x75ac12(0x7e8)](a0_0x75ac12(0x387),...le,async(_0xb9e938,_0x104651)=>{const _0x4c047b=a0_0x75ac12;try{console['log'](_0x4c047b(0x750)),_0x104651[_0x4c047b(0x2be)](0xc8)[_0x4c047b(0x4e8)]({'message':_0x4c047b(0x72a)}),_0x104651['on'](_0x4c047b(0x7f6),()=>process[_0x4c047b(0x76d)](0x0));}catch(_0x4dec09){console[_0x4c047b(0x15c)](_0x4c047b(0x5a0),_0x4dec09),_0x104651[_0x4c047b(0x2be)](0x1f4)[_0x4c047b(0x4e8)]({'message':_0x4c047b(0x430)});}})[a0_0x75ac12(0x7e8)](a0_0x75ac12(0x12a),...le,async(_0x3f70fc,_0x1b2ea7)=>{const _0x1f49f7=a0_0x75ac12;try{let _0x3a69c9=_0x3f70fc[_0x1f49f7(0x2e0)];await Ne[_0x1f49f7(0x5b6)]({},{'$set':_0x3a69c9},{'upsert':!0x0});let _0x25af10=await Ne[_0x1f49f7(0x4a6)]();_0x1b2ea7[_0x1f49f7(0x4e8)](_0x25af10);}catch(_0x2fa38a){_0x1b2ea7[_0x1f49f7(0x2be)](0x190)[_0x1f49f7(0x4fc)](_0x2fa38a['message']);}})[a0_0x75ac12(0x407)](a0_0x75ac12(0x12a),...le,async(_0x3de2dc,_0x2e7a80)=>{const _0x2905cc=a0_0x75ac12;try{let _0x5cc79b=await Ne['findOne']();if(!_0x5cc79b)return _0x2e7a80[_0x2905cc(0x4e8)]({});_0x2e7a80[_0x2905cc(0x4e8)](_0x5cc79b);}catch(_0x4f6b2f){_0x2e7a80[_0x2905cc(0x2be)](0x1f4)[_0x2905cc(0x4fc)](_0x4f6b2f[_0x2905cc(0x478)]);}})[a0_0x75ac12(0x586)](a0_0x75ac12(0x53b),new Mt(b,...le)[a0_0x75ac12(0x3f6)])[a0_0x75ac12(0x586)](a0_0x75ac12(0x304),new _t(...le)[a0_0x75ac12(0x3f6)])[a0_0x75ac12(0x586)](a0_0x75ac12(0x385),new dt(...le)['router'])['use']('/group',new St(...le)[a0_0x75ac12(0x3f6)])[a0_0x75ac12(0x586)](a0_0x75ac12(0x311),new Dt(...le)[a0_0x75ac12(0x3f6)])[a0_0x75ac12(0x586)]('/automate',new Pt(...le)[a0_0x75ac12(0x3f6)]);var m=class{constructor(..._0x3ca7d7){const _0x422a63=a0_0x75ac12;throw{'status':0x190,'error':'Bad\x20Request','message':_0x3ca7d7[_0x422a63(0x624)]>0x0?_0x3ca7d7:void 0x0};}},ce=class{constructor(..._0x18e4cd){const _0x3d2820=a0_0x75ac12;throw{'status':0x191,'error':_0x3d2820(0x314),'message':_0x18e4cd[_0x3d2820(0x624)]>0x0?_0x18e4cd:void 0x0};}},se=class{constructor(..._0xdbc7ee){const _0x3f16ff=a0_0x75ac12;throw{'status':0x193,'error':_0x3f16ff(0x115),'message':_0xdbc7ee['length']>0x0?_0xdbc7ee:void 0x0};}},J=class{constructor(..._0xc2b719){const _0x368072=a0_0x75ac12;throw{'status':0x194,'error':_0x368072(0x43e),'message':_0xc2b719[_0x368072(0x624)]>0x0?_0xc2b719:void 0x0};}},x=class{constructor(..._0x44e02c){const _0x15288a=a0_0x75ac12;throw{'status':0x1f4,'error':_0x15288a(0x15d),'message':_0x44e02c['length']>0x0?_0x44e02c:void 0x0};}},ye=require(a0_0x75ac12(0x238));async function _s(_0x5b057d){const _0x306882=a0_0x75ac12;let _0x4401b0=new $(_s['name']),_0x58d5af=R[_0x306882(0x452)](),_0x5435fc=_0x58d5af['db'](b[_0x306882(0x407)](_0x306882(0x6f3))[_0x306882(0x241)][_0x306882(0x54f)]+_0x306882(0x424))[_0x306882(0x6b4)](_0x5b057d),_0x21fd3e=async(_0x5334a0,_0x123d3d)=>{const _0x5615d9=_0x306882;try{return await _0x58d5af[_0x5615d9(0x2a7)](),await _0x5435fc[_0x5615d9(0x2e6)]({'_id':_0x123d3d},JSON[_0x5615d9(0x31e)](JSON['stringify'](_0x5334a0,ye[_0x5615d9(0x6fe)][_0x5615d9(0x3e0)])),{'upsert':!0x0});}catch{}},_0xd27090=async _0x12f2f0=>{const _0x47608b=_0x306882;try{await _0x58d5af[_0x47608b(0x2a7)]();let _0x55179a=await _0x5435fc[_0x47608b(0x4a6)]({'_id':_0x12f2f0}),_0x42578f=JSON[_0x47608b(0x53e)](_0x55179a);return JSON[_0x47608b(0x31e)](_0x42578f,ye['BufferJSON'][_0x47608b(0x690)]);}catch{}},_0x84994a=async _0x48bae7=>{try{return await _0x58d5af['connect'](),await _0x5435fc['deleteOne']({'_id':_0x48bae7});}catch{}},_0x4ae4b0=await _0xd27090(_0x306882(0x51d))||(0x0,ye[_0x306882(0x5d3)])();return{'state':{'creds':_0x4ae4b0,'keys':{'get':async(_0x1f5461,_0x4ae123)=>{let _0x1bbdbd={};return await Promise['all'](_0x4ae123['map'](async _0x278800=>{const _0x4d25bf=a0_0x2e53;let _0x296232=await _0xd27090(_0x1f5461+'-'+_0x278800);_0x1f5461===_0x4d25bf(0x454)&&_0x296232&&(_0x296232=ye[_0x4d25bf(0x4d0)][_0x4d25bf(0x497)]['AppStateSyncKeyData'][_0x4d25bf(0x47b)](_0x296232)),_0x1bbdbd[_0x278800]=_0x296232;})),_0x1bbdbd;},'set':async _0x369a53=>{const _0x1ca96b=_0x306882;let _0x54a0de=[];for(let _0x3603e8 in _0x369a53)for(let _0x312a47 in _0x369a53[_0x3603e8]){let _0x2fe9b6=_0x369a53[_0x3603e8][_0x312a47],_0x498695=_0x3603e8+'-'+_0x312a47;_0x54a0de[_0x1ca96b(0x6e9)](_0x2fe9b6?_0x21fd3e(_0x2fe9b6,_0x498695):_0x84994a(_0x498695));}await Promise[_0x1ca96b(0x684)](_0x54a0de);}}},'saveCreds':async()=>_0x21fd3e(_0x4ae4b0,'creds')};}var Ls=I(require(a0_0x75ac12(0x7b7))),Fs=I(require(a0_0x75ac12(0xff))),Ut=require('@whiskeysockets/baileys'),$i=require('@redis/client'),Ft=require(a0_0x75ac12(0x238)),Lt;function Po(_0x4c6e18){const _0x23c545=a0_0x75ac12;return Lt||(Lt=(0x0,$i[_0x23c545(0x79a)])({'url':_0x4c6e18[_0x23c545(0x6dd)]}),Lt[_0x23c545(0x2a7)]()),Lt;}var ge=class u{constructor(_0x4df8b9,_0x4425c1){const _0x3041e5=a0_0x75ac12;this[_0x3041e5(0x5c6)]=_0x4df8b9,this[_0x3041e5(0x300)]=_0x4425c1,this[_0x3041e5(0x224)]=new $(u[_0x3041e5(0x537)]),this['client']=Po(_0x4df8b9);}set[a0_0x75ac12(0x671)](_0x10cb3d){this['instanceName']=_0x10cb3d;}async[a0_0x75ac12(0x6cc)](){const _0x365db4=a0_0x75ac12;try{return await this['client'][_0x365db4(0x5ad)]([_0x365db4(0x58e),this[_0x365db4(0x5c6)]['PREFIX_KEY']+':*']);}catch(_0x4c25e8){this[_0x365db4(0x224)]['error'](_0x4c25e8);}}async[a0_0x75ac12(0x692)](_0x73c483,_0x20b401){const _0x341a54=a0_0x75ac12;try{let _0xfc45c0=JSON[_0x341a54(0x53e)](_0x20b401,Ft[_0x341a54(0x6fe)]['replacer']);return await this[_0x341a54(0x62e)]['hSet'](this['redisEnv'][_0x341a54(0x3dd)]+':'+this[_0x341a54(0x300)],_0x73c483,_0xfc45c0);}catch(_0x42037a){this['logger'][_0x341a54(0x15c)](_0x42037a);}}async[a0_0x75ac12(0x7e3)](){const _0x1ef4f7=a0_0x75ac12;try{let _0x1f3832=await this[_0x1ef4f7(0x62e)][_0x1ef4f7(0x72f)](this[_0x1ef4f7(0x5c6)][_0x1ef4f7(0x3dd)]+':'+this[_0x1ef4f7(0x300)]);if(_0x1f3832){for(let _0x23b0b7 in _0x1f3832)Object[_0x1ef4f7(0x1f4)]['hasOwnProperty']['call'](_0x1f3832,_0x23b0b7)&&(_0x1f3832[_0x23b0b7]=JSON[_0x1ef4f7(0x31e)](_0x1f3832[_0x23b0b7],Ft['BufferJSON'][_0x1ef4f7(0x690)]));return _0x1f3832;}}catch(_0x54e766){this[_0x1ef4f7(0x224)][_0x1ef4f7(0x15c)](_0x54e766);}}async[a0_0x75ac12(0x809)](_0x26bb8b){const _0x59b5bf=a0_0x75ac12;try{let _0x1f4e26=await this[_0x59b5bf(0x62e)][_0x59b5bf(0x242)](this[_0x59b5bf(0x5c6)][_0x59b5bf(0x3dd)]+':'+this[_0x59b5bf(0x300)],_0x26bb8b);if(_0x1f4e26)return JSON[_0x59b5bf(0x31e)](_0x1f4e26,Ft[_0x59b5bf(0x6fe)][_0x59b5bf(0x690)]);}catch(_0x4bb301){this[_0x59b5bf(0x224)]['error'](_0x4bb301);}}async['removeData'](_0x32032d){const _0x51b3f9=a0_0x75ac12;try{return await this[_0x51b3f9(0x62e)][_0x51b3f9(0x58c)](this[_0x51b3f9(0x5c6)][_0x51b3f9(0x3dd)]+':'+this['instanceName'],_0x32032d);}catch(_0x3bbd2d){this['logger']['error'](_0x3bbd2d);}}async[a0_0x75ac12(0x470)](_0x2c2df3){const _0x479560=a0_0x75ac12;try{return await this[_0x479560(0x62e)][_0x479560(0x542)](_0x2c2df3||this[_0x479560(0x5c6)][_0x479560(0x3dd)]+':'+this[_0x479560(0x300)]);}catch(_0x3672ba){this[_0x479560(0x224)][_0x479560(0x15c)](_0x3672ba);}}};async function xs(_0x453177,_0x2f35b2){const _0xc9d5a8=a0_0x75ac12;let _0x545741=new $(xs[_0xc9d5a8(0x537)]),_0x59004c=new ge(_0x453177,_0x2f35b2),_0x12aa88=async(_0x3445de,_0x348b92)=>{const _0x492fd9=_0xc9d5a8;try{return await _0x59004c[_0x492fd9(0x692)](_0x348b92,_0x3445de);}catch(_0x54926a){return _0x545741['error']({'localError':_0x492fd9(0x692),'error':_0x54926a});}},_0x518967=async _0x42124b=>{const _0x3c3cda=_0xc9d5a8;try{return await _0x59004c[_0x3c3cda(0x809)](_0x42124b);}catch(_0x35cead){_0x545741[_0x3c3cda(0x15c)]({'readData':_0x3c3cda(0x692),'error':_0x35cead});return;}},_0x96c22d=async _0x2d4d8d=>{const _0x2dcdcf=_0xc9d5a8;try{return await _0x59004c[_0x2dcdcf(0x443)](_0x2d4d8d);}catch(_0x28cd4f){_0x545741[_0x2dcdcf(0x15c)]({'readData':_0x2dcdcf(0x443),'error':_0x28cd4f});}},_0x3636b3=await _0x518967(_0xc9d5a8(0x51d))||(0x0,Ut[_0xc9d5a8(0x5d3)])();return{'state':{'creds':_0x3636b3,'keys':{'get':async(_0x263c8b,_0x228a0a)=>{const _0x21eee9=_0xc9d5a8;let _0x33121b={};return await Promise[_0x21eee9(0x684)](_0x228a0a[_0x21eee9(0x506)](async _0x2d1dee=>{const _0x45ef2e=_0x21eee9;let _0x2386c1=await _0x518967(_0x263c8b+'-'+_0x2d1dee);_0x263c8b===_0x45ef2e(0x454)&&_0x2386c1&&(_0x2386c1=Ut['proto'][_0x45ef2e(0x497)][_0x45ef2e(0x284)][_0x45ef2e(0x47b)](_0x2386c1)),_0x33121b[_0x2d1dee]=_0x2386c1;})),_0x33121b;},'set':async _0x4de6a8=>{const _0x55898f=_0xc9d5a8;let _0x490048=[];for(let _0x4be6d in _0x4de6a8)for(let _0x2e069c in _0x4de6a8[_0x4be6d]){let _0x443b59=_0x4de6a8[_0x4be6d][_0x2e069c],_0x38ee1f=_0x4be6d+'-'+_0x2e069c;_0x490048[_0x55898f(0x6e9)](_0x443b59?await _0x12aa88(_0x443b59,_0x38ee1f):await _0x96c22d(_0x38ee1f));}await Promise['all'](_0x490048);}}},'saveCreds':async()=>await _0x12aa88(_0x3636b3,_0xc9d5a8(0x51d))};}var F=I(require('fs')),X=require('uuid'),Vt=I(require(a0_0x75ac12(0x3ee))),Gt=require('crypto'),Ri=require('child_process'),Ai=require('util'),Ii=I(require(a0_0x75ac12(0x63f))),$e=class extends _{constructor(_0x15f178,_0x161604,_0x319a39){const _0x5d9165=a0_0x75ac12;super(_0x161604),this[_0x5d9165(0x3c6)]=_0x15f178,this[_0x5d9165(0x846)]=_0x161604,this[_0x5d9165(0x253)]=_0x319a39;}async['createOrUpdate'](_0x3b1eee,_0x3a9d62){const _0x355d7b=a0_0x75ac12;try{if(this['dbSettings'][_0x355d7b(0x69f)]){console['log'](_0x355d7b(0x6c2)+_0x3a9d62+_0x355d7b(0x175),_0x3b1eee);let _0x37133a=await this[_0x355d7b(0x3c6)][_0x355d7b(0x34b)]({'_id':_0x3a9d62},{'$set':_0x3b1eee},{'new':!0x0,'upsert':!0x0});return console[_0x355d7b(0x54b)](_0x355d7b(0x1dd),_0x37133a),_0x37133a;}}catch(_0x1b04ea){throw console[_0x355d7b(0x15c)](_0x355d7b(0x24b),_0x1b04ea),_0x1b04ea;}return null;}async[a0_0x75ac12(0x1d1)](_0x3b4d16){const _0x11ab98=a0_0x75ac12;try{let _0x220cb3=A(_0x3b4d16[_0x11ab98(0x1b8)]);return{'deletedCount':(await this[_0x11ab98(0x3c6)]['deleteOne'](_0x220cb3))['deletedCount']};}catch(_0x28075a){return{'error':_0x28075a?.['toString']()};}}async[a0_0x75ac12(0x4a6)](_0x4c3a53){const _0x90d766=a0_0x75ac12;try{let _0x2ac9d0=A(_0x4c3a53[_0x90d766(0x1b8)]);return await this[_0x90d766(0x3c6)][_0x90d766(0x4a6)](_0x2ac9d0)['lean']();}catch{return null;}}},jt=(0x0,Ai['promisify'])(Ri[a0_0x75ac12(0x4c2)]),ko=b['get'](a0_0x75ac12(0x208)),Ds=class{constructor(){const _0xf2c293=a0_0x75ac12;this[_0xf2c293(0x441)]=new $e(He,b),(!this['ipv6Prefix']||!this[_0xf2c293(0x271)])&&ko&&this[_0xf2c293(0x340)]()[_0xf2c293(0x499)](()=>{const _0x181923=_0xf2c293;console[_0x181923(0x54b)](_0x181923(0x832)+this['ipv6Prefix']),console[_0x181923(0x54b)](_0x181923(0x17f)+this['networkInterface']);})[_0xf2c293(0x4de)](_0x60fb2e=>{const _0x240375=_0xf2c293;console['error'](_0x240375(0x841)+_0x60fb2e[_0x240375(0x478)]);});}async[a0_0x75ac12(0x340)](){const _0x44bf1f=a0_0x75ac12;try{let {stdout:_0x4f51af}=await jt(_0x44bf1f(0x47a));console[_0x44bf1f(0x54b)](_0x44bf1f(0x47e)+_0x4f51af);let _0x901156=_0x4f51af[_0x44bf1f(0x170)]('\x0a')[_0x44bf1f(0x506)](_0x45b8f8=>_0x45b8f8['split']('\x20')[0x0])[_0x44bf1f(0x82d)](_0x26b1f2=>!_0x26b1f2[_0x44bf1f(0x5bb)]('lo')&&!_0x26b1f2['includes'](_0x44bf1f(0x50e))&&!_0x26b1f2[_0x44bf1f(0x5bb)](_0x44bf1f(0x16a))&&!_0x26b1f2[_0x44bf1f(0x5bb)]('wl')&&!_0x26b1f2[_0x44bf1f(0x5bb)]('@'));if(console[_0x44bf1f(0x54b)](_0x44bf1f(0x66a)+_0x901156),_0x901156[_0x44bf1f(0x624)]===0x0)throw new Error(_0x44bf1f(0x384));this[_0x44bf1f(0x271)]=_0x901156[0x0];let {stdout:_0x3d2302}=await jt(_0x44bf1f(0x7d2)+this['networkInterface']);console[_0x44bf1f(0x54b)](_0x44bf1f(0x5da)+_0x3d2302);let _0x2ea946=_0x3d2302[_0x44bf1f(0x170)]('\x0a')[_0x44bf1f(0x1c3)](_0x33660c=>_0x33660c['includes'](_0x44bf1f(0x3e7))&&_0x33660c[_0x44bf1f(0x5bb)](_0x44bf1f(0x5b1)));if(!_0x2ea946)throw new Error(_0x44bf1f(0x251));let _0x2767a8=_0x2ea946[_0x44bf1f(0x599)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x2767a8)throw new Error(_0x44bf1f(0x773));let [_0x2bc35a,_0x5a4c5b,_0x5b717e]=_0x2767a8,_0x3ebe14=Math['floor'](Number(_0x5b717e)/0x10),_0x383310=Number(_0x5b717e)%0x10,_0x28689=_0x5a4c5b[_0x44bf1f(0x170)](':')[_0x44bf1f(0x630)](0x0,_0x3ebe14)[_0x44bf1f(0x215)](':');if(_0x383310>0x0){let _0x108187=_0x5a4c5b[_0x44bf1f(0x170)](':')[_0x3ebe14],_0x7f62a3=0xffff<<0x10-_0x383310&0xffff,_0x2a94bc=(parseInt(_0x108187,0x10)&_0x7f62a3)[_0x44bf1f(0x7ce)](0x10)[_0x44bf1f(0x603)](0x4,'0');_0x28689+=':'+_0x2a94bc;}this[_0x44bf1f(0x274)]=_0x28689+':';}catch(_0x400912){console[_0x44bf1f(0x15c)](_0x44bf1f(0x78c),_0x400912);}}async['configureIPv6'](_0x3a3204){const _0x1c2678=a0_0x75ac12;let _0x292913='ip\x20-6\x20addr\x20add\x20'+_0x3a3204+_0x1c2678(0x2a3)+this[_0x1c2678(0x271)];try{await jt(_0x292913),console['log']('IPv6\x20address\x20configured:\x20'+_0x3a3204);}catch(_0x3bb599){console['error'](_0x1c2678(0x62c)+_0x3bb599);}}async[a0_0x75ac12(0x57f)](_0x4ed91c){const _0x4b553a=a0_0x75ac12;let _0xa9ad19=_0x4b553a(0x334)+_0x4ed91c+_0x4b553a(0x2a3)+this[_0x4b553a(0x271)];try{await jt(_0xa9ad19),console[_0x4b553a(0x54b)](_0x4b553a(0x670)+_0x4ed91c);}catch(_0x1a4751){console['error']('Error\x20removing\x20IPv6\x20address:\x20'+_0x1a4751);}}[a0_0x75ac12(0x2d4)](){const _0x565789=a0_0x75ac12;return _0x565789(0x508)[_0x565789(0x154)](/X/g,()=>_0x565789(0x3ec)[_0x565789(0x80d)](Math[_0x565789(0x5f9)](Math['random']()*0x10)));}[a0_0x75ac12(0x824)](_0xb1f0a4,_0x4dc3a0){const _0x7610b6=a0_0x75ac12;let _0x4538a6=_0x4dc3a0[_0x7610b6(0x170)](':');return _0x4538a6[0x0]=(parseInt(_0x4538a6[0x0],0x10)^0x2)[_0x7610b6(0x7ce)](0x10)[_0x7610b6(0x603)](0x2,'0'),''+_0xb1f0a4+_0x4538a6[0x0]+_0x4538a6[0x1]+':'+_0x4538a6[0x2]+_0x7610b6(0x518)+_0x4538a6[0x3]+':'+_0x4538a6[0x4]+_0x4538a6[0x5];}[a0_0x75ac12(0x204)](){const _0x1ca687=a0_0x75ac12;let _0x5b2f6f=this['ipv6Prefix'];_0x5b2f6f[_0x1ca687(0x11d)](':')||(_0x5b2f6f+=':');let _0x3c89be=this[_0x1ca687(0x2d4)]();return this[_0x1ca687(0x824)](_0x5b2f6f,_0x3c89be);}[a0_0x75ac12(0x2c6)](_0x49d8d3){const _0x5f42e4=a0_0x75ac12;return new RegExp('^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$')[_0x5f42e4(0x4f0)](_0x49d8d3);}async['testIPv6'](_0x2df9cf){const _0x22fbf3=a0_0x75ac12;let _0x3d1e19=[{'url':_0x22fbf3(0x432),'parse':_0x4ed66c=>_0x4ed66c['ip']},{'url':_0x22fbf3(0x3e8),'parse':_0x1a2226=>_0x1a2226['ip']},{'url':'https://ifconfig.me/ip','parse':_0x3763b9=>_0x3763b9[_0x22fbf3(0x11c)]()},{'url':_0x22fbf3(0x162),'parse':_0x5dd6f2=>_0x5dd6f2[_0x22fbf3(0x11c)]()}],_0x231b71=_0x3d1e19[Math[_0x22fbf3(0x5f9)](Math[_0x22fbf3(0x104)]()*_0x3d1e19[_0x22fbf3(0x624)])];try{let _0x25a9aa=await Ii['default']['get'](_0x231b71['url'],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x2df9cf}}),_0x2bb910=_0x231b71['parse'](_0x25a9aa[_0x22fbf3(0x3d8)]);return _0x2bb910[_0x22fbf3(0x56d)]()===_0x2df9cf['toLowerCase']()?(console[_0x22fbf3(0x54b)]('IP\x20confirmed:\x20'+_0x2df9cf),!0x0):(console[_0x22fbf3(0x15c)](_0x22fbf3(0x4cc)+_0x2df9cf+',\x20received\x20'+_0x2bb910),!0x1);}catch(_0x3e5095){return console[_0x22fbf3(0x15c)](_0x22fbf3(0x822)+_0x231b71[_0x22fbf3(0x547)]+':\x20'+_0x3e5095[_0x22fbf3(0x478)]),!0x1;}}async[a0_0x75ac12(0x737)](_0x391312,_0x1fd565){const _0xf3ccc6=a0_0x75ac12;if(!this[_0xf3ccc6(0x274)]||!this[_0xf3ccc6(0x271)])return console[_0xf3ccc6(0x15c)](_0xf3ccc6(0x30d)),null;let _0x31678a;do _0x31678a=this['generateRandomIPv6'](),console[_0xf3ccc6(0x54b)]('Generated\x20IPv6:\x20'+_0x31678a);while(!await this[_0xf3ccc6(0x3e9)](_0x31678a));await this[_0xf3ccc6(0x660)](_0x31678a),console[_0xf3ccc6(0x54b)](_0xf3ccc6(0x14b)+_0x31678a);let _0x336729={'_id':_0x391312+'-'+_0x1fd565,'ip':_0x31678a},_0x37691c=await this[_0xf3ccc6(0x441)][_0xf3ccc6(0x52a)](_0x336729,_0x336729['_id']);return console['log'](_0xf3ccc6(0x61a)+_0x37691c),_0x31678a;}async[a0_0x75ac12(0x3e9)](_0x561d55){const _0x3a3ab8=a0_0x75ac12;return this[_0x3a3ab8(0x2c6)](_0x561d55)?!await this[_0x3a3ab8(0x441)]['findOne']({'where':{'ip':_0x561d55}}):!0x1;}async['removeIPv6ById'](_0x4288da,_0x2b438d){const _0x449c00=a0_0x75ac12;let _0x2b78d1=_0x4288da+'-'+_0x2b438d,_0x3476b4=await this[_0x449c00(0x441)][_0x449c00(0x4a6)]({'where':{'_id':_0x2b78d1}});_0x3476b4&&_0x3476b4['ip']&&(await this[_0x449c00(0x57f)](_0x3476b4['ip']),await this[_0x449c00(0x441)][_0x449c00(0x1d1)]({'where':{'_id':_0x2b78d1}}));}},Lo=new Ds(),re=Lo,Us=a0_0x75ac12(0x51a),ki,me=null,Pa=null,Fo=0x3,Uo=null,Ti=b[a0_0x75ac12(0x407)]('AUTHENTICATION')[a0_0x75ac12(0x620)][a0_0x75ac12(0x7bc)],Oi=b[a0_0x75ac12(0x407)](a0_0x75ac12(0x208));async function jo(){const _0x5ee7ae=a0_0x75ac12;let _0x4853df=await Ne['findOne']();me=_0x4853df?.[_0x5ee7ae(0x754)]??null,Uo=_0x4853df?.[_0x5ee7ae(0x15b)]??null,Us=_0x4853df?.[_0x5ee7ae(0x427)]??_0x5ee7ae(0x51a),ki=_0x4853df?.[_0x5ee7ae(0x7fa)]??K??_0x5ee7ae(0x581);}async function Jo(){await jo();}Jo();var Jt={},Re=class u{constructor(_0x59cd20,_0x354e10,_0x5841ab){const _0x1cf246=a0_0x75ac12;this[_0x1cf246(0x846)]=_0x59cd20,this[_0x1cf246(0x759)]=_0x354e10,this[_0x1cf246(0x76b)]=_0x5841ab,this[_0x1cf246(0x190)]=null,this[_0x1cf246(0x224)]=new $(u[_0x1cf246(0x537)]),this['instance']={},this[_0x1cf246(0x6d4)]={},this[_0x1cf246(0x2c2)]={'state':_0x1cf246(0x252)},this[_0x1cf246(0x450)]=(0x0,j[_0x1cf246(0x215)])(ue,_0x1cf246(0x5c8)),this[_0x1cf246(0x658)]=new Fs[(_0x1cf246(0x636))](),this[_0x1cf246(0x172)]=new Fs[(_0x1cf246(0x636))](),this[_0x1cf246(0x4ce)]=!0x1,this['webhookMap']={'status.instance':_0x1cf246(0x16b),'connection.update':_0x1cf246(0x16b),'qrcode.updated':'/wa-qrcode','messages.upsert':_0x1cf246(0x1ef),'send.message':_0x1cf246(0x1ef),'messages.update':'/wa-message-update','group.upsert':_0x1cf246(0x7aa),'group.update':_0x1cf246(0x7aa),'group-participants.update':'/wa-groups','messages.set':'/wa-all-message','contacts.set':_0x1cf246(0x780),'contacts.upsert':'/wa-contacts','contacts.update':_0x1cf246(0x780),'presence.update':_0x1cf246(0x5b0),'chats.set':_0x1cf246(0x222),'chats.update':_0x1cf246(0x222),'chats.upsert':_0x1cf246(0x222),'chats.delete':_0x1cf246(0x222)},this[_0x1cf246(0x71d)]=0x0,this[_0x1cf246(0x7cc)]=[],this['RECONNECT_TIME_FRAME']=0xea60,this['isRunning']=!0x1,this['chatHandle']={'chats.upsert':async(_0x4582a8,_0x38dbef)=>{const _0x36873a=_0x1cf246;let _0xa3748a=[];for await(let _0x2602e4 of _0x4582a8)_0xa3748a[_0x36873a(0x6e9)]({'_id':_0x2602e4['id'],'owner':this['instance'][_0x36873a(0x78d)],'group':_0x2602e4['id'][_0x36873a(0x11d)](_0x36873a(0x700)),'name':_0x2602e4['name']||_0x2602e4[_0x36873a(0x6de)]||null,'contactname':null,'lastmsg':_0x2602e4[_0x36873a(0x6a5)]&&_0x2602e4[_0x36873a(0x6a5)][_0x36873a(0x7ce)]()[_0x36873a(0x624)]<0xd?_0x2602e4['conversationTimestamp']*0x3e8:_0x2602e4[_0x36873a(0x6a5)]||null,'archived':_0x2602e4[_0x36873a(0x4c0)]||!0x1,'unreadcount':_0x2602e4[_0x36873a(0x268)]||0x0,'ephemeralExpiration':_0x2602e4[_0x36873a(0x1ad)]||0x0});this[_0x36873a(0x6d8)](_0x36873a(0x157),_0xa3748a);},'chats.update':async(_0x10a242,_0x5543db)=>{const _0x1885b4=_0x1cf246;for(let _0x48da20 of _0x10a242){let _0x44777a={'_id':_0x48da20['id'],'owner':this[_0x1885b4(0x7f4)][_0x1885b4(0x78d)],'archived':_0x48da20['archived'],'muteEndTime':_0x48da20[_0x1885b4(0x6b6)],'ephemeralExpiration':_0x48da20['ephemeralExpiration']},_0x4d40a6=!0x1,_0x2edeb1={};_0x44777a['archived']!=null&&(this[_0x1885b4(0x224)][_0x1885b4(0x195)](this[_0x1885b4(0x300)]+'\x20('+this[_0x1885b4(0x7f4)][_0x1885b4(0x78d)]+_0x1885b4(0x233)+_0x48da20['id']+_0x1885b4(0x3d7)+_0x48da20[_0x1885b4(0x4c0)]),_0x4d40a6=!0x0,_0x2edeb1[_0x1885b4(0x4c0)]=_0x48da20[_0x1885b4(0x4c0)]),'muteEndTime'in _0x48da20&&(this[_0x1885b4(0x224)][_0x1885b4(0x195)](this[_0x1885b4(0x300)]+'\x20('+this[_0x1885b4(0x7f4)]['wuid']+'):\x20teve\x20mudanças\x20chat.muteEndTime:\x20'+_0x48da20['id']+_0x1885b4(0x3d7)+(_0x48da20[_0x1885b4(0x6b6)]??'0')),_0x4d40a6=!0x0,_0x2edeb1['muteEndTime']=_0x48da20[_0x1885b4(0x6b6)]??0x0),'ephemeralExpiration'in _0x48da20&&(this['logger'][_0x1885b4(0x195)](this[_0x1885b4(0x300)]+'\x20('+this['instance'][_0x1885b4(0x78d)]+_0x1885b4(0x6f6)+_0x48da20['id']+'\x20:\x20'+(_0x48da20[_0x1885b4(0x1ad)]!==void 0x0?_0x48da20[_0x1885b4(0x1ad)]:'undefined')),_0x2edeb1['ephemeralExpiration']=_0x48da20[_0x1885b4(0x1ad)]===null?0x0:_0x48da20[_0x1885b4(0x1ad)],_0x4d40a6=!0x0);let _0x2e38a0;_0x4d40a6&&(_0x2e38a0=await this[_0x1885b4(0x76b)]['chat'][_0x1885b4(0x5b6)]({'where':{'_id':_0x48da20['id']}},_0x2edeb1,this[_0x1885b4(0x7f4)][_0x1885b4(0x78d)])),_0x2e38a0&&q(this[_0x1885b4(0x300)],_0x1885b4(0x184),{'chat':_0x2e38a0});}},'chats.delete':async _0x47a902=>{const _0x479f9d=_0x1cf246;for(let _0x42e5c4 of _0x47a902)if(_0x42e5c4['endsWith'](_0x479f9d(0x700))){await this[_0x479f9d(0x76b)][_0x479f9d(0x4f9)][_0x479f9d(0x585)]({'where':{'_id':_0x42e5c4}},this[_0x479f9d(0x7f4)][_0x479f9d(0x78d)]);let _0x1a8911={'where':{'key':{'remoteJid':_0x42e5c4}}};await this[_0x479f9d(0x76b)][_0x479f9d(0x478)]['delete'](_0x1a8911,this[_0x479f9d(0x7f4)][_0x479f9d(0x78d)]);}else{await this[_0x479f9d(0x76b)][_0x479f9d(0x4f9)][_0x479f9d(0x5b6)]({'where':{'_id':_0x42e5c4}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x479f9d(0x7f4)][_0x479f9d(0x78d)]);let _0x3ff1b5={'where':{'key':{'remoteJid':_0x42e5c4}}};await this['repository']['message'][_0x479f9d(0x585)](_0x3ff1b5,this[_0x479f9d(0x7f4)]['wuid']);}this[_0x479f9d(0x6d8)]('chats.delete',[..._0x47a902]);}},this[_0x1cf246(0x1e8)]={'contacts.upsert':async(_0xc9d167,_0x49e5fe)=>{const _0x2ee350=_0x1cf246;let _0x2618fc=await this['repository'][_0x2ee350(0x27f)][_0x2ee350(0x1c3)]({'where':{}},this[_0x2ee350(0x7f4)][_0x2ee350(0x78d)]),_0x4e4e9b=[];for await(let _0x4d3676 of _0xc9d167)_0x2618fc[_0x2ee350(0x1c3)](_0x2bd85a=>_0x2bd85a[_0x2ee350(0x2af)]===_0x4d3676['id'])||_0x4e4e9b[_0x2ee350(0x6e9)]({'_id':_0x4d3676['id'],'pushName':_0x4d3676?.['name']||_0x4d3676?.[_0x2ee350(0x7a3)],'owner':this[_0x2ee350(0x7f4)][_0x2ee350(0x78d)]});this[_0x2ee350(0x6d8)](_0x2ee350(0x164),_0x4e4e9b),await this[_0x2ee350(0x76b)][_0x2ee350(0x27f)][_0x2ee350(0x2bd)](_0x4e4e9b);},'contacts.update':async(_0x6ede76,_0x3a2ea0)=>{const _0x6733d8=_0x1cf246;let _0x10679b=[];for await(let _0x42703d of _0x6ede76)_0x10679b[_0x6733d8(0x6e9)]({'_id':_0x42703d['id'],'pushName':_0x42703d?.['name']??_0x42703d?.[_0x6733d8(0x7a3)],'owner':this['instance'][_0x6733d8(0x78d)]});this[_0x6733d8(0x6d8)](_0x6733d8(0x5b8),_0x10679b);}},this[_0x1cf246(0x509)]={'messaging-history.set':async({messages:_0x27c4db,chats:_0xa72498,isLatest:_0x477f66},_0x145d68)=>{const _0xe2a883=_0x1cf246;if(_0x477f66){let _0x1d11b4=await Promise[_0xe2a883(0x684)](_0xa72498[_0xe2a883(0x506)](async _0x291d33=>({'_id':_0x291d33['id'],'owner':this[_0xe2a883(0x7f4)][_0xe2a883(0x78d)],'group':_0x291d33['id'][_0xe2a883(0x11d)](_0xe2a883(0x700)),'name':_0x291d33[_0xe2a883(0x537)]||_0x291d33[_0xe2a883(0x6de)]||_0x291d33[_0xe2a883(0x283)]||null,'contactname':null,'lastmsg':_0x291d33['conversationTimestamp']&&_0x291d33[_0xe2a883(0x6a5)][_0xe2a883(0x7ce)]()[_0xe2a883(0x624)]<0xd?_0x291d33[_0xe2a883(0x6a5)]*0x3e8:_0x291d33[_0xe2a883(0x6a5)]||null,'archived':_0x291d33['archived']||!0x1,'unreadcount':_0x291d33['unreadCount']||0x0,'ephemeralExpiration':_0x291d33[_0xe2a883(0x1ad)]||0x0,'muteEndTime':_0x291d33[_0xe2a883(0x6b6)]||0x0})));this['sendDataWebhook'](_0xe2a883(0x5bd),_0x1d11b4),await this[_0xe2a883(0x26f)](_0x1d11b4,_0x145d68);}let _0x4dd7ec=[],_0x4811f6=Date[_0xe2a883(0x505)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0xd57ba7]of Object[_0xe2a883(0x173)](_0x27c4db)){if(_0xd57ba7[_0xe2a883(0x478)]?.[_0xe2a883(0x778)]||_0xd57ba7[_0xe2a883(0x478)]?.[_0xe2a883(0x6e3)]||!_0xd57ba7[_0xe2a883(0x478)]||_0xd57ba7[_0xe2a883(0x2c4)][_0xe2a883(0x323)]==='status@broadcast'||(Ls[_0xe2a883(0x636)]['isLong'](_0xd57ba7?.['messageTimestamp'])&&(_0xd57ba7[_0xe2a883(0x378)]=_0xd57ba7[_0xe2a883(0x378)]?.['toNumber']()),_0xd57ba7[_0xe2a883(0x378)]&&_0xd57ba7['messageTimestamp'][_0xe2a883(0x7ce)]()[_0xe2a883(0x624)]<0xd&&(_0xd57ba7[_0xe2a883(0x378)]=_0xd57ba7[_0xe2a883(0x378)]*0x3e8),_0xd57ba7[_0xe2a883(0x378)]<_0x4811f6))continue;let _0xb60dc3=(0x0,w[_0xe2a883(0x35e)])(_0xd57ba7['message']),_0x40b13b=(0x0,w[_0xe2a883(0x42e)])(_0xb60dc3),{message_normalized:_0x13cd90}=this[_0xe2a883(0x133)](_0xb60dc3,_0x40b13b,null);Object[_0xe2a883(0x58e)](_0x13cd90)[_0xe2a883(0x624)]>0x0&&_0x4dd7ec[_0xe2a883(0x6e9)]({'_id':_0xd57ba7['key']['id'],'key':_0xd57ba7[_0xe2a883(0x2c4)],'pushName':_0xd57ba7[_0xe2a883(0x1a6)],'participant':_0xd57ba7[_0xe2a883(0x529)],'message':_0xb60dc3,'messageType':_0x40b13b,'message_normalized':{'key':_0xd57ba7[_0xe2a883(0x2c4)],'pushName':_0xd57ba7[_0xe2a883(0x1a6)],'messageTimestamp':_0xd57ba7[_0xe2a883(0x378)],..._0x13cd90},'messageTimestamp':_0xd57ba7[_0xe2a883(0x378)],'owner':this[_0xe2a883(0x7f4)][_0xe2a883(0x78d)]});}_0x145d68[_0xe2a883(0x69f)]&&_0x4dd7ec[_0xe2a883(0x624)]>0x0&&(this[_0xe2a883(0x224)][_0xe2a883(0x195)](this[_0xe2a883(0x300)]+'\x20('+this['instance'][_0xe2a883(0x78d)]+_0xe2a883(0x3d3)+_0x4dd7ec[_0xe2a883(0x624)]+_0xe2a883(0x27e)+this['instance'][_0xe2a883(0x78d)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0xe2a883(0x76b)][_0xe2a883(0x478)][_0xe2a883(0x2bd)]([..._0x4dd7ec],this['instance'][_0xe2a883(0x78d)])),this[_0xe2a883(0x6d8)](_0xe2a883(0x223),[..._0x4dd7ec]),_0x27c4db=void 0x0;},'messages.upsert':async({messages:_0xf24870,type:_0x1a0e54},_0x451afa)=>{const _0x7d6bba=_0x1cf246;for(let _0x372a2b of _0xf24870){if(this[_0x7d6bba(0x6d4)]?.[_0x7d6bba(0x31b)]&&_0x372a2b[_0x7d6bba(0x2c4)][_0x7d6bba(0x323)]['includes'](_0x7d6bba(0x700))){this[_0x7d6bba(0x224)][_0x7d6bba(0x195)](this[_0x7d6bba(0x300)]+'\x20('+this[_0x7d6bba(0x7f4)]['wuid']+'):\x20[messages.upsert]\x20group\x20ignored');return;}if(_0x1a0e54!=='notify'||!_0x372a2b?.[_0x7d6bba(0x478)]||_0x372a2b[_0x7d6bba(0x478)]?.['protocolMessage']||_0x372a2b[_0x7d6bba(0x478)][_0x7d6bba(0x6e3)]||_0x372a2b[_0x7d6bba(0x2c4)][_0x7d6bba(0x323)]==='status@broadcast')return;let _0x265e03=null,_0xe6052c=null;if(_0x372a2b[_0x7d6bba(0x564)]&&_0x372a2b['messageStubParameters'][0x0]===_0x7d6bba(0x694)){console[_0x7d6bba(0x15c)](_0x7d6bba(0x580)),Jt[_0x372a2b[_0x7d6bba(0x2c4)]['id']]=_0x372a2b,this[_0x7d6bba(0x771)](_0x372a2b,0x0);return;}Jt[_0x372a2b['key']['id']]&&(console[_0x7d6bba(0x15c)](_0x7d6bba(0x840)),delete Jt[_0x372a2b[_0x7d6bba(0x2c4)]['id']]);try{_0x265e03=await this[_0x7d6bba(0xf7)](_0x372a2b),_0xe6052c=_0x265e03?_0x265e03[_0x7d6bba(0x215)](','):null;}catch(_0x59fd6f){this['logger'][_0x7d6bba(0x195)](this[_0x7d6bba(0x300)]+'\x20('+this[_0x7d6bba(0x7f4)]['wuid']+_0x7d6bba(0x3d3)+(_0x59fd6f instanceof Error?_0x59fd6f['message']:JSON['stringify'](_0x59fd6f,null,0x2))),_0xe6052c=_0x7d6bba(0x578);}this['client'][_0x7d6bba(0x6e5)]('unavailable'),Ls[_0x7d6bba(0x636)]['isLong'](_0x372a2b[_0x7d6bba(0x378)])&&(_0x372a2b[_0x7d6bba(0x378)]=_0x372a2b['messageTimestamp']?.[_0x7d6bba(0x4a2)]()),_0x372a2b['messageTimestamp']&&_0x372a2b['messageTimestamp'][_0x7d6bba(0x7ce)]()[_0x7d6bba(0x624)]<0xd&&(_0x372a2b[_0x7d6bba(0x378)]=_0x372a2b['messageTimestamp']*0x3e8);let _0x806fec=_0x372a2b[_0x7d6bba(0x478)],_0x121936=(0x0,w[_0x7d6bba(0x35e)])(_0x806fec),_0x3c22c1=(0x0,w['getContentType'])(_0x121936),{messageContent:_0x3ed023,message_normalized:_0x162a8b}=this['normalizeMessage'](_0x121936,_0x3c22c1,_0xe6052c);_0x3c22c1==='protocolMessage'&&_0x3ed023?.[_0x7d6bba(0x68f)]&&(_0x3c22c1='editedMessage');let _0x887a6f,_0x2d13df=_0x372a2b[_0x7d6bba(0x2c4)][_0x7d6bba(0x323)][_0x7d6bba(0x11d)]('@g.us');if(_0x372a2b[_0x7d6bba(0x2c4)][_0x7d6bba(0x196)])_0x887a6f=this[_0x7d6bba(0x7f4)]['profilePictureUrl'];else{let _0x38e059=_0x2d13df?_0x372a2b['key'][_0x7d6bba(0x529)]:_0x372a2b['key'][_0x7d6bba(0x323)];_0x887a6f=(await this['findAndUpdateCacheContact'](_0x38e059,_0x372a2b['pushName'],!0x1))[_0x7d6bba(0x5f2)][_0x7d6bba(0x7d3)];}let _0x441fd3={'_id':_0x372a2b['key']['id'],'key':_0x372a2b['key'],'isGroup':_0x2d13df,'profilePictureUrl':_0x887a6f,'pushName':_0x372a2b[_0x7d6bba(0x1a6)],'message':_0x121936,'messageType':_0x3c22c1,'message_normalized':{'key':_0x372a2b['key'],'pushName':_0x372a2b['pushName'],'messageTimestamp':_0x372a2b['messageTimestamp'],'source':(0x0,w['getDevice'])(_0x372a2b[_0x7d6bba(0x2c4)]['id']),..._0x162a8b},'messageTimestamp':_0x372a2b[_0x7d6bba(0x378)],'owner':this[_0x7d6bba(0x7f4)][_0x7d6bba(0x78d)],'source':(0x0,w['getDevice'])(_0x372a2b['key']['id']),'expiration':_0x3ed023?.[_0x7d6bba(0x77b)]?.[_0x7d6bba(0x831)]||0x0};_0x3ed023||(this[_0x7d6bba(0x224)][_0x7d6bba(0x15c)](_0x7d6bba(0x276)),this[_0x7d6bba(0x224)]['error'](_0x441fd3)),this['logger'][_0x7d6bba(0x54b)](this[_0x7d6bba(0x300)]+'\x20('+this['instance'][_0x7d6bba(0x78d)]+_0x7d6bba(0x3d3)+(_0x441fd3[_0x7d6bba(0x2c4)]?.[_0x7d6bba(0x196)]?_0x7d6bba(0x6e1):'recebido\x20de')+'\x20['+_0x441fd3[_0x7d6bba(0x2c4)]?.['remoteJid'][_0x7d6bba(0x154)]('@s.whatsapp.net','')+_0x7d6bba(0x646)+_0x441fd3[_0x7d6bba(0x296)]+')'),_0x441fd3['message_normalized']?.[_0x7d6bba(0x105)]&&this['logger'][_0x7d6bba(0x54b)](_0x372a2b[_0x7d6bba(0x2c4)]['id']+':\x20'+_0x441fd3[_0x7d6bba(0x266)]?.[_0x7d6bba(0x105)]),await this[_0x7d6bba(0x76b)]['message'][_0x7d6bba(0x2bd)]([_0x441fd3],this[_0x7d6bba(0x7f4)][_0x7d6bba(0x78d)]),this['sendDataWebhook'](_0x7d6bba(0x439),_0x441fd3),q(this['instanceName'],_0x7d6bba(0x16d),{'message':_0x441fd3}),_0x372a2b['key']['remoteJid']!==_0x7d6bba(0x305)&&await this[_0x7d6bba(0x650)](_0x451afa,_0x441fd3,'MESSAGES_UPSERT');}},'messages.update':async(_0x22342d,_0x3ec244)=>{const _0x5c8354=_0x1cf246;let _0x36cab8={0x0:_0x5c8354(0x4be),0x1:'PENDING',0x2:'SERVER_ACK',0x3:'DELIVERY_ACK',0x4:_0x5c8354(0x57c),0x5:_0x5c8354(0x59f)};for await(let {key:_0x79c42,update:_0xa30700}of _0x22342d){if(this[_0x5c8354(0x6d4)]?.[_0x5c8354(0x31b)]&&_0x79c42[_0x5c8354(0x323)][_0x5c8354(0x5bb)](_0x5c8354(0x700))){this[_0x5c8354(0x224)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5c8354(0x4bc));return;}if(_0x79c42[_0x5c8354(0x323)]!=='status@broadcast'){let _0x3e86fa=Date['now'](),_0x192426;_0xa30700[_0x5c8354(0x478)]===null&&_0xa30700[_0x5c8354(0x2be)]===void 0x0?_0x192426=_0x5c8354(0x1a8):_0x192426=_0x36cab8[_0xa30700[_0x5c8354(0x2be)]];let _0x34856c=_0x79c42[_0x5c8354(0x323)][_0x5c8354(0x154)](/:\d{1,2}@/g,'@'),_0x4fd0e6={..._0x79c42,'remoteJid':_0x34856c,'status':_0x192426,'datetime':_0x3e86fa,'owner':this[_0x5c8354(0x7f4)][_0x5c8354(0x78d)]};this['sendDataWebhook'](_0x5c8354(0x455),_0x4fd0e6),await this[_0x5c8354(0x26b)](_0x79c42,_0x4fd0e6);}}},'labels.association':async({type:_0x51d498,association:_0x4d0a01})=>{const _0x546239=_0x1cf246;if(_0x4d0a01[_0x546239(0x791)]===_0x546239(0x243)){let _0x4ecee9,_0x40c417=0x0;for(;!_0x4ecee9&&_0x40c417<this[_0x546239(0x796)];)_0x4ecee9=await this[_0x546239(0x76b)][_0x546239(0x4f9)][_0x546239(0x4a6)]({'where':{'_id':_0x4d0a01[_0x546239(0x3bd)]}},this['instance'][_0x546239(0x78d)]),_0x4ecee9||(_0x40c417++,this['logger'][_0x546239(0x59e)](this[_0x546239(0x300)]+'\x20('+this['instance'][_0x546239(0x78d)]+_0x546239(0x69e)+_0x4d0a01[_0x546239(0x3bd)]+_0x546239(0x7c1)+this['delayChatLabel_RETRY_DELAY_MS']+_0x546239(0x59c)+_0x40c417+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x546239(0x60d)](this[_0x546239(0x37e)]));if(!_0x4ecee9){this['logger']['error'](_0x546239(0x1ac)+_0x4d0a01[_0x546239(0x3bd)]+_0x546239(0x66c)+this[_0x546239(0x796)]+'\x20tentativas.');return;}switch(_0x51d498){case _0x546239(0x2a6):console[_0x546239(0x54b)](_0x4d0a01),await this['repository'][_0x546239(0x4f9)][_0x546239(0x5b6)]({'where':{'_id':_0x4d0a01[_0x546239(0x3bd)]}},{'leadInfo.etiquetas':_0x4d0a01[_0x546239(0x153)]},this['instance'][_0x546239(0x78d)],void 0x0,'$addToSet');break;case _0x546239(0x400):console['log'](_0x4d0a01),await this[_0x546239(0x76b)][_0x546239(0x4f9)]['updateOne']({'where':{'_id':_0x4d0a01['chatId']}},{'leadInfo.etiquetas':_0x4d0a01[_0x546239(0x153)]},this['instance'][_0x546239(0x78d)],void 0x0,_0x546239(0x139));break;default:this[_0x546239(0x224)][_0x546239(0x15c)]('unknown\x20operation\x20type\x20['+_0x51d498+']');}}},'labels.edit':async _0x401fb9=>{const _0x1f2dda=_0x1cf246;if(!_0x401fb9||!_0x401fb9['id']){this[_0x1f2dda(0x224)][_0x1f2dda(0x15c)](_0x1f2dda(0x1cc));return;}if(!_0x401fb9[_0x1f2dda(0x2e7)]){let _0x122a38=[_0x1f2dda(0x2de),'#64c4ff',_0x1f2dda(0x7cd),'#dfaef0',_0x1f2dda(0x5a6),_0x1f2dda(0x343),_0x1f2dda(0x661),_0x1f2dda(0x327),_0x1f2dda(0x7da),_0x1f2dda(0x536),'#01d0e2','#ffc5c7',_0x1f2dda(0x76e),_0x1f2dda(0x526),_0x1f2dda(0xfa),_0x1f2dda(0x45b),_0x1f2dda(0x790),_0x1f2dda(0x341),'#9ba6ff',_0x1f2dda(0x7df)],_0x3ebd03;typeof _0x401fb9[_0x1f2dda(0x845)]==_0x1f2dda(0x3b8)&&_0x401fb9['color']>=0x0&&_0x401fb9[_0x1f2dda(0x845)]<_0x122a38[_0x1f2dda(0x624)]?_0x3ebd03=_0x122a38[_0x401fb9[_0x1f2dda(0x845)]]:(this['logger'][_0x1f2dda(0x15c)](_0x1f2dda(0x627)+_0x401fb9[_0x1f2dda(0x845)]),_0x3ebd03=_0x1f2dda(0x740));let _0x26705c={'_id':_0x401fb9['id'],'colorHex':_0x3ebd03,'color':_0x401fb9?.[_0x1f2dda(0x845)],'name':_0x401fb9?.[_0x1f2dda(0x537)],'owner':this[_0x1f2dda(0x7f4)][_0x1f2dda(0x78d)]};await this[_0x1f2dda(0x76b)][_0x1f2dda(0x159)]['updateOne']({'where':{'_id':_0x401fb9['id']}},_0x26705c,this[_0x1f2dda(0x7f4)][_0x1f2dda(0x78d)]),this['logger'][_0x1f2dda(0x59e)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Rótulo\x20atualizado:\x20'+_0x401fb9);}_0x401fb9[_0x1f2dda(0x2e7)]&&(await this[_0x1f2dda(0x76b)][_0x1f2dda(0x159)][_0x1f2dda(0x585)]({'where':{'_id':_0x401fb9['id']}},this['instance'][_0x1f2dda(0x78d)]),this[_0x1f2dda(0x224)][_0x1f2dda(0x59e)](_0x1f2dda(0x1f2)+_0x401fb9['id']));}},this[_0x1cf246(0x6bd)]={'groups.upsert':async _0x197984=>{const _0x387aa0=_0x1cf246;this[_0x387aa0(0x6d4)]?.['groups_ignore']||this[_0x387aa0(0x6d8)]('groups.upsert',_0x197984);for(let _0x316d38 of _0x197984)await this[_0x387aa0(0x479)](_0x316d38);},'groups.update':async _0x5979ec=>{const _0x3461d8=_0x1cf246;this[_0x3461d8(0x6d4)]?.[_0x3461d8(0x31b)]||this[_0x3461d8(0x6d8)](_0x3461d8(0x6dc),_0x5979ec);for(let _0x26de2a of _0x5979ec)await this[_0x3461d8(0x479)](_0x26de2a);},'group-participants.update':async _0x48e471=>{const _0x56b59e=_0x1cf246;this['localWebhook']?.[_0x56b59e(0x31b)]||this[_0x56b59e(0x6d8)](_0x56b59e(0x398),_0x48e471),await this[_0x56b59e(0x83d)](_0x48e471);}},this[_0x1cf246(0x796)]=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this['lastRealGroupsFetch']=0x0,this[_0x1cf246(0xf7)]=async _0x3fe160=>{const _0xdf565a=_0x1cf246;if(_0x3fe160[_0xdf565a(0x478)]?.[_0xdf565a(0x2c0)]){let _0x2a6b7c=await this[_0xdf565a(0x4b6)](_0x3fe160['message'][_0xdf565a(0x2c0)]['pollCreationMessageKey'],!0x0);if(_0x2a6b7c){let _0x1cf755=_0x2a6b7c['key'][_0xdf565a(0x196)]?this['instance'][_0xdf565a(0x78d)]+_0xdf565a(0x2f8):_0x2a6b7c['key'][_0xdf565a(0x529)]||_0x2a6b7c[_0xdf565a(0x2c4)][_0xdf565a(0x323)],_0x51aef6=_0x2a6b7c[_0xdf565a(0x2c4)]['id'],_0x9635de=_0x2a6b7c[_0xdf565a(0x478)],_0x19235b=Buffer[_0xdf565a(0x47f)](_0x9635de[_0xdf565a(0x209)][_0xdf565a(0x1bb)][_0xdf565a(0x7ce)](_0xdf565a(0x698)),_0xdf565a(0x698)),_0x3f30df=(0x0,w['decryptPollVote'])(_0x3fe160['message'][_0xdf565a(0x2c0)][_0xdf565a(0x6df)],{'pollCreatorJid':_0x1cf755,'pollMsgId':_0x51aef6,'pollEncKey':_0x19235b,'voterJid':_0x3fe160[_0xdf565a(0x2c4)][_0xdf565a(0x196)]?this[_0xdf565a(0x7f4)]['wuid']+'@s.whatsapp.net':_0x3fe160[_0xdf565a(0x2c4)]['remoteJid'][_0xdf565a(0x11d)](_0xdf565a(0x6c1))?_0x3fe160['key'][_0xdf565a(0x529)]:_0x3fe160[_0xdf565a(0x2c4)]['remoteJid']}),_0x37e0a9=[],_0x48dc0c=_0x3f30df[_0xdf565a(0x3bf)][_0xdf565a(0x506)](_0x14b657=>Buffer[_0xdf565a(0x47f)](_0x14b657)['toString'](_0xdf565a(0x698)));for(let {optionName:_0xc0588b}of _0x9635de['pollCreationMessage']?.[_0xdf565a(0x6f0)]||_0x9635de[_0xdf565a(0x65a)]?.[_0xdf565a(0x6f0)]||_0x9635de[_0xdf565a(0x10c)]?.[_0xdf565a(0x6f0)])_0x48dc0c['indexOf']((0x0,w[_0xdf565a(0x631)])(Buffer[_0xdf565a(0x47f)](_0xc0588b))[_0xdf565a(0x7ce)](_0xdf565a(0x698)))>-0x1&&_0x37e0a9[_0xdf565a(0x6e9)](_0xc0588b);return _0x37e0a9;}}return null;},this['normalizeMessage']=(_0x17a981,_0xd581b4,_0xe7f970)=>{const _0x101442=_0x1cf246;try{let _0x49e21c=_0x17a981?(0x0,w[_0x101442(0x3ff)])(_0x17a981)[_0xd581b4]:void 0x0,_0x583207={},_0x2382dd=null,_0x5be5b0=null,_0x301f5b=null;_0xd581b4==='protocolMessage'&&_0x49e21c?.[_0x101442(0x68f)]&&(_0xd581b4=(0x0,w['getContentType'])(_0x49e21c[_0x101442(0x68f)]),_0x2382dd=_0x17a981['protocolMessage']['key']['id'],_0x49e21c=_0x17a981[_0x101442(0x778)][_0x101442(0x68f)][_0xd581b4]),_0x17a981[_0xd581b4]?.[_0x101442(0x77b)]?.[_0x101442(0x501)]&&_0x17a981[_0xd581b4]?.[_0x101442(0x77b)]?.[_0x101442(0x3c5)]&&(_0x5be5b0=_0x17a981[_0xd581b4][_0x101442(0x77b)][_0x101442(0x501)]),_0x17a981[_0x101442(0x218)]&&(_0x301f5b=_0x17a981['reactionMessage'][_0x101442(0x2c4)]['id']);let _0x8d54ad;if(_0x49e21c&&typeof _0x49e21c==_0x101442(0x307)&&_0x101442(0x18d)in _0x49e21c&&({pollCreationMessageKey:_0x8d54ad}=_0x49e21c),_0xd581b4===_0x101442(0x18c)||_0xd581b4===_0x101442(0x10c)||_0xd581b4===_0x101442(0x65a)){let _0x40451d=_0x49e21c[_0x101442(0x6f0)]['map'](_0x1bd944=>_0x1bd944[_0x101442(0x1ba)])[_0x101442(0x215)]('|');_0x583207[_0x101442(0x298)]=_0x40451d;}let _0x32d6ab='';if(_0x49e21c&&(_0x32d6ab+=_0x49e21c[_0x101442(0x537)]?_0x49e21c[_0x101442(0x537)]:'',_0x32d6ab+=_0x49e21c[_0x101442(0x2fa)]?'\x20'+_0x49e21c[_0x101442(0x2fa)]:'',_0x32d6ab+=_0x49e21c[_0x101442(0x6c7)]?'\x20'+_0x49e21c[_0x101442(0x6c7)]:'',_0x32d6ab+=_0x49e21c[_0x101442(0x6de)]?'\x20'+_0x49e21c['displayName']:''),_0xd581b4===_0x101442(0x7c6)){_0x32d6ab=(_0x49e21c[_0x101442(0x440)]||'')+'\x0a'+(_0x49e21c[_0x101442(0x38d)]||'')+'\x0a'+(_0x49e21c[_0x101442(0x4b4)]||'');let _0x73f3be=this[_0x101442(0x328)](_0x49e21c['sections']);_0x583207[_0x101442(0x298)]=_0x73f3be;}if(_0xd581b4===_0x101442(0x255)&&(_0xe7f970=_0x49e21c[_0x101442(0x440)]),_0x49e21c&&_0x49e21c[_0x101442(0x2d5)]){let _0xf1e8ae=this[_0x101442(0x395)](JSON[_0x101442(0x53e)](_0x49e21c[_0x101442(0x2d5)],null,0x2));_0x32d6ab=_0x32d6ab+'\x0a'+_0xf1e8ae;}if(_0x49e21c){let {sections:_0x339176,listType:_0x2b2931,displayName:_0x3d20c2,vcard:_0x5c5c9b,contactVcard:_0x4154b9,name:_0x329710,caption:_0x16c3b1,conversation:_0x264aa1,pollCreationMessageKey:_0x77a1be,footerText:_0x866cfa,contentText:_0x2902ad,pageCount:_0x2f4730,headerType:_0x5b5122,isAvatar:_0x3215a0,isAnimated:_0x57db8b,fallbackLc:_0x3091fc,fallbackLg:_0x4b5ed9,namespace:_0x1fd781,elementName:_0x24a1bc,localizableParams:_0x154fe6,viewOnce:_0x2f081d,height:_0x4d38fa,width:_0x3f010e,key:_0x3e2a70,firstScanLength:_0x13a370,firstScanSidecar:_0x11a105,gifPlayback:_0x3d9a87,gifAttribution:_0x5d7a17,midQualityFileSha256:_0xf2a583,scansSidecar:_0x131cf1,streamingSidecar:_0x156148,thumbnailHeight:_0x23dfd6,thumbnailWidth:_0x334fe6,thumbnailEncSha256:_0x58044f,thumbnailDirectPath:_0xa75ab0,canonicalUrl:_0x1ed2d1,matchedText:_0x4a4db6,previewType:_0x544345,thumbnailSha256:_0x4a8ffc,deviceListMetadataVersion:_0x2d3694,inviteLinkGroupTypeV2:_0x5db9e4,interactiveAnnotations:_0x561672,scanLengths:_0x41c42c,jpegThumbnail:_0x10ce79,url:_0xffb0a6,mediaKeyTimestamp:_0x2b08a0,waveform:_0x35142b,stickerSentTs:_0x9e035a,firstFrameLength:_0xeda03d,fileEncSha256:_0x1c955,contextInfo:_0x5538f0,firstFrameSidecar:_0x27dcc8,directPath:_0x222e43,fileSha256:_0x4d2387,mediaKey:_0x3866b4,senderTimestampMs:_0x1f6bd4,..._0x5c712c}=_0x49e21c;(_0xd581b4===_0x101442(0x7c6)||_0xd581b4===_0x101442(0x255))&&(delete _0x5c712c[_0x101442(0x440)],delete _0x5c712c['description']),typeof _0x49e21c==_0x101442(0x392)?_0x583207={'text':_0x49e21c,'type':_0xd581b4||_0x101442(0x6c7),..._0x2382dd&&{'edited':_0x2382dd},..._0x5be5b0&&{'quoted':_0x5be5b0},..._0x301f5b&&{'reaction':_0x301f5b}}:_0x583207={'text':_0x32d6ab,..._0x5c712c,..._0xd581b4===_0x101442(0x2c0)?{'poll_id':_0x49e21c[_0x101442(0x18d)]['id'],'quoted':_0x49e21c[_0x101442(0x18d)]['id'],'vote':_0xe7f970}:{},..._0xd581b4===_0x101442(0x255)?{'vote':_0xe7f970}:{},'type':_0xd581b4,..._0x2382dd&&{'edited':_0x2382dd},..._0x5be5b0&&{'quoted':_0x5be5b0},..._0x301f5b&&{'reaction':_0x301f5b},...(_0xd581b4===_0x101442(0x18c)||_0xd581b4===_0x101442(0x10c)||_0xd581b4===_0x101442(0x65a)||_0xd581b4===_0x101442(0x7c6))&&{'convertedOptions':_0x583207['convertedOptions']}};}return{'messageType':_0xd581b4,'messageContent':_0x49e21c,'message_normalized':_0x583207};}catch(_0x5a5053){return this[_0x101442(0x224)][_0x101442(0x15c)](_0x101442(0x149)+_0x5a5053),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x1cf246(0x7d7)]=null,this[_0x1cf246(0x495)]=[],(this[_0x1cf246(0x5ea)](),this[_0x1cf246(0x7f4)][_0x1cf246(0x6c0)]={'count':0x0},this[_0x1cf246(0x7f4)]['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set[a0_0x75ac12(0x300)](_0xd69d8d){const _0x25df0b=a0_0x75ac12;if(!_0xd69d8d){this[_0x25df0b(0x7f4)][_0x25df0b(0x537)]=(0x0,_i['v4'])();return;}this[_0x25df0b(0x7f4)][_0x25df0b(0x537)]=_0xd69d8d,this[_0x25df0b(0x6d8)](_0x25df0b(0x476),{'instance':this[_0x25df0b(0x7f4)][_0x25df0b(0x537)],'status':_0x25df0b(0x418)});}get['instanceName'](){const _0x499729=a0_0x75ac12;return this[_0x499729(0x7f4)][_0x499729(0x537)];}get['wuid'](){const _0x4d294e=a0_0x75ac12;return this[_0x4d294e(0x7f4)]['wuid'];}async['getProfileName'](){const _0x1673ef=a0_0x75ac12;let _0x5aa588=this[_0x1673ef(0x62e)]['user']?.['name']??this[_0x1673ef(0x62e)][_0x1673ef(0x73b)]?.[_0x1673ef(0x7a3)];if(!_0x5aa588){if(this[_0x1673ef(0x846)][_0x1673ef(0x407)](_0x1673ef(0x6f3))[_0x1673ef(0x69f)]){let _0x5bdedc=await R[_0x1673ef(0x452)]()['db'](this[_0x1673ef(0x846)][_0x1673ef(0x407)](_0x1673ef(0x6f3))[_0x1673ef(0x241)]['DB_PREFIX_NAME']+_0x1673ef(0x424))[_0x1673ef(0x6b4)](this[_0x1673ef(0x300)])[_0x1673ef(0x4a6)]({'_id':_0x1673ef(0x51d)});if(_0x5bdedc){let _0x464e70=JSON[_0x1673ef(0x31e)](JSON[_0x1673ef(0x53e)](_0x5bdedc),w[_0x1673ef(0x6fe)][_0x1673ef(0x690)]);_0x5aa588=_0x464e70['me']?.['name']||_0x464e70['me']?.['verifiedName'];}}else{if((0x0,Fe[_0x1673ef(0x560)])((0x0,j[_0x1673ef(0x215)])(Me,this['instanceName'],'creds.json'))){let _0x3d79aa=JSON['parse']((0x0,Fe[_0x1673ef(0x5ec)])((0x0,j[_0x1673ef(0x215)])(Me,this[_0x1673ef(0x300)],_0x1673ef(0x50a)),{'encoding':_0x1673ef(0x6fc)}));_0x5aa588=_0x3d79aa['me']?.[_0x1673ef(0x537)]||_0x3d79aa['me']?.[_0x1673ef(0x7a3)];}}}return _0x5aa588;}get[a0_0x75ac12(0x3a3)](){const _0x415c2f=a0_0x75ac12;return this[_0x415c2f(0x7f4)][_0x415c2f(0x3a3)];}get['qrCode'](){const _0xf564aa=a0_0x75ac12;return this[_0xf564aa(0x7f4)]['qrcode']?.[_0xf564aa(0x78e)]?{'pairingCode':this[_0xf564aa(0x7f4)][_0xf564aa(0x6c0)]?.[_0xf564aa(0x78e)]}:{'code':this[_0xf564aa(0x7f4)][_0xf564aa(0x6c0)]?.['code'],'base64':this['instance'][_0xf564aa(0x6c0)]?.[_0xf564aa(0x6d5)]};}async['loadWebhook'](){const _0x49df22=a0_0x75ac12;let _0x172a94=await this['repository'][_0x49df22(0x294)][_0x49df22(0x1c3)](this['instanceName']);this[_0x49df22(0x6d4)][_0x49df22(0x547)]=_0x172a94?.[_0x49df22(0x547)],this[_0x49df22(0x6d4)]['enabled']=_0x172a94?.['enabled'],this[_0x49df22(0x6d4)]['local_map']=_0x172a94?.['local_map'],this[_0x49df22(0x6d4)][_0x49df22(0x3c0)]=_0x172a94?.[_0x49df22(0x3c0)],this[_0x49df22(0x6d4)][_0x49df22(0x2b3)]=_0x172a94?.['QRCODE_UPDATED'],this[_0x49df22(0x6d4)]['SEND_MESSAGE']=_0x172a94?.['SEND_MESSAGE'],this[_0x49df22(0x6d4)][_0x49df22(0x4c3)]=_0x172a94?.[_0x49df22(0x4c3)],this[_0x49df22(0x6d4)]['MESSAGES_UPDATE']=_0x172a94?.[_0x49df22(0x313)],this[_0x49df22(0x6d4)][_0x49df22(0x6a1)]=_0x172a94?.['GROUPS_UPSERT'],this[_0x49df22(0x6d4)][_0x49df22(0x193)]=_0x172a94?.[_0x49df22(0x193)],this[_0x49df22(0x6d4)][_0x49df22(0x4fb)]=_0x172a94?.[_0x49df22(0x4fb)],this[_0x49df22(0x6d4)][_0x49df22(0x468)]=_0x172a94?.[_0x49df22(0x468)],this[_0x49df22(0x6d4)][_0x49df22(0x605)]=_0x172a94?.[_0x49df22(0x605)],this[_0x49df22(0x6d4)][_0x49df22(0x721)]=_0x172a94?.[_0x49df22(0x721)],this['localWebhook'][_0x49df22(0x199)]=_0x172a94?.[_0x49df22(0x199)],this[_0x49df22(0x6d4)]['CONTACTS_SET']=_0x172a94?.[_0x49df22(0x1fd)],this[_0x49df22(0x6d4)][_0x49df22(0x235)]=_0x172a94?.[_0x49df22(0x235)],this[_0x49df22(0x6d4)][_0x49df22(0x34c)]=_0x172a94?.[_0x49df22(0x34c)],this[_0x49df22(0x6d4)][_0x49df22(0x4b1)]=_0x172a94?.[_0x49df22(0x4b1)],this[_0x49df22(0x6d4)]['MESSAGES_SET']=_0x172a94?.[_0x49df22(0x807)],this[_0x49df22(0x6d4)][_0x49df22(0x1bd)]=_0x172a94?.['CONNECTION_UPDATE'],this['localWebhook'][_0x49df22(0x31b)]=_0x172a94?.[_0x49df22(0x31b)];}async['setWebhook'](_0xfdec1b){const _0x196d3b=a0_0x75ac12;let _0x2c7e75=['_id',_0x196d3b(0x547),_0x196d3b(0x5db),_0x196d3b(0x775),_0x196d3b(0x3c0),'QRCODE_UPDATED',_0x196d3b(0x313),'MESSAGES_UPSERT',_0x196d3b(0x76c),_0x196d3b(0x6a1),_0x196d3b(0x193),_0x196d3b(0x4fb),_0x196d3b(0x468),'CHATS_UPSERT',_0x196d3b(0x721),'CHATS_DELETE',_0x196d3b(0x1fd),_0x196d3b(0x235),_0x196d3b(0x34c),_0x196d3b(0x4b1),'MESSAGES_SET',_0x196d3b(0x1bd),'groups_ignore'],_0x235ac4={};return _0x2c7e75[_0x196d3b(0x839)](_0x54a67a=>{_0xfdec1b[_0x54a67a]!==void 0x0&&(_0x235ac4[_0x54a67a]=_0xfdec1b[_0x54a67a]);}),_0x235ac4[_0x196d3b(0x547)]&&(_0x235ac4[_0x196d3b(0x547)]=_0x235ac4[_0x196d3b(0x547)][_0x196d3b(0x11c)]()),await this[_0x196d3b(0x76b)][_0x196d3b(0x294)]['create'](_0x235ac4,this['instanceName']),Object[_0x196d3b(0x414)](this['localWebhook'],_0x235ac4),await this[_0x196d3b(0x76b)][_0x196d3b(0x294)][_0x196d3b(0x1c3)](this[_0x196d3b(0x300)]);}async['findWebhook'](){const _0x27ba89=a0_0x75ac12;return await this[_0x27ba89(0x76b)][_0x27ba89(0x294)][_0x27ba89(0x1c3)](this[_0x27ba89(0x300)]);}async[a0_0x75ac12(0x6d8)](_0x5b694b,_0x45bee0){const _0x543304=a0_0x75ac12;let _0xe7e91b=_0x5b694b[_0x543304(0x154)](/[\.-]/gm,'_')['toUpperCase'](),_0x362ef6=this['localWebhook'][_0x543304(0x5db)]&&(0x0,L[_0x543304(0x520)])(this['localWebhook'][_0x543304(0x547)])?this[_0x543304(0x6d4)][_0x543304(0x547)]+(this[_0x543304(0x6d4)]['local_map']?this['webhookMap'][_0x5b694b]:''):null,_0x12e15f=this[_0x543304(0x6d4)][_0xe7e91b],_0x4a7ff8=me&&me['enabled']&&(0x0,L[_0x543304(0x520)])(me['url'])?me[_0x543304(0x547)]+(me[_0x543304(0x775)]?this[_0x543304(0x83a)][_0x5b694b]:''):null,_0x15325e=me?me[_0xe7e91b]:null;if(_0x12e15f&&_0x362ef6)try{await te[_0x543304(0x636)]['create']({'baseURL':_0x362ef6})[_0x543304(0x202)]('',{'event':_0x5b694b,'instance':this[_0x543304(0x7f4)][_0x543304(0x537)],'apikey':this[_0x543304(0x7f4)][_0x543304(0x2b2)],'data':_0x45bee0}),this[_0x543304(0x224)]['log'](this[_0x543304(0x300)]+'\x20('+this[_0x543304(0x7f4)][_0x543304(0x78d)]+_0x543304(0x510)+_0x5b694b+':\x20'+_0x362ef6);}catch{this['logger'][_0x543304(0x15c)](this[_0x543304(0x300)]+'\x20('+this[_0x543304(0x7f4)]['wuid']+_0x543304(0x48e)+_0x5b694b+':\x20'+_0x362ef6);}if(_0x15325e&&_0x4a7ff8)try{await te['default']['create']({'baseURL':_0x4a7ff8})[_0x543304(0x202)]('',{'event':_0x5b694b,'instance':this[_0x543304(0x7f4)][_0x543304(0x537)],'apikey':this[_0x543304(0x7f4)][_0x543304(0x2b2)],'data':_0x45bee0}),this[_0x543304(0x224)]['log'](this['instanceName']+'\x20('+this[_0x543304(0x7f4)]['wuid']+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x5b694b+':\x20'+_0x4a7ff8);}catch{this[_0x543304(0x224)][_0x543304(0x15c)](this['instanceName']+'\x20('+this[_0x543304(0x7f4)][_0x543304(0x78d)]+_0x543304(0x55c)+_0x5b694b+':\x20'+_0x4a7ff8);}}async['connectionUpdate']({qr:_0x16b22b,connection:_0x4f9668,lastDisconnect:_0x3c1c6e}){const _0x234451=a0_0x75ac12;if(_0x16b22b){if(this[_0x234451(0x7f4)]['qrcode'][_0x234451(0x463)]===Fo)return this[_0x234451(0x6d8)](_0x234451(0x31a),{'message':_0x234451(0x38a),'statusCode':w[_0x234451(0x806)][_0x234451(0x38c)]}),this[_0x234451(0x2c2)]={'state':'refused','statusReason':w[_0x234451(0x806)][_0x234451(0x349)]},this[_0x234451(0x6d8)](_0x234451(0x1e0),{'instance':this['instance'][_0x234451(0x537)],...this[_0x234451(0x2c2)]}),this[_0x234451(0x6d8)](_0x234451(0x476),{'instance':this[_0x234451(0x7f4)][_0x234451(0x537)],'status':_0x234451(0x515)}),this[_0x234451(0x76b)][_0x234451(0x7f7)][_0x234451(0x585)](this[_0x234451(0x7f4)][_0x234451(0x537)]),this[_0x234451(0x4ce)]=!0x0,re[_0x234451(0x449)](K,this[_0x234451(0x7f4)][_0x234451(0x537)]),this['eventEmitter'][_0x234451(0x316)](_0x234451(0x6b5),this['instance']['name']);this[_0x234451(0x7f4)]['qrcode'][_0x234451(0x463)]++;let _0x273faa={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x234451(0x3fe),'dark':_0x234451(0x740)}};xi['default'][_0x234451(0x45e)](_0x16b22b,_0x273faa,(_0x4ae840,_0x3b9983)=>{const _0x101e8e=_0x234451;if(_0x4ae840){this[_0x101e8e(0x224)][_0x101e8e(0x15c)](this[_0x101e8e(0x300)]+'\x20('+this[_0x101e8e(0x7f4)][_0x101e8e(0x78d)]+_0x101e8e(0x226)+(_0x4ae840 instanceof Error?_0x4ae840[_0x101e8e(0x478)]:JSON[_0x101e8e(0x53e)](_0x4ae840,null,0x2)));return;}this['instance'][_0x101e8e(0x6c0)][_0x101e8e(0x6d5)]=_0x3b9983,this[_0x101e8e(0x7f4)]['qrcode'][_0x101e8e(0x453)]=_0x16b22b,!this['phoneNumber']&&this[_0x101e8e(0x6d8)](_0x101e8e(0x31a),{'qrcode':{'instance':this[_0x101e8e(0x7f4)][_0x101e8e(0x537)],'pairingCode':this[_0x101e8e(0x7f4)][_0x101e8e(0x6c0)]['pairingCode'],'code':_0x16b22b,'base64':_0x3b9983}});}),this['phoneNumber']?this[_0x234451(0x7f4)][_0x234451(0x6c0)][_0x234451(0x78e)]||(await(0x0,w[_0x234451(0x561)])(0x7d0),this[_0x234451(0x7f4)][_0x234451(0x6c0)][_0x234451(0x78e)]=await this[_0x234451(0x62e)][_0x234451(0x326)](this[_0x234451(0x100)])):this[_0x234451(0x7f4)][_0x234451(0x6c0)][_0x234451(0x78e)]=null,Di[_0x234451(0x636)][_0x234451(0x1c1)](_0x16b22b,{'small':!0x0},_0x5eb89f=>this[_0x234451(0x224)]['log'](_0x234451(0x716)+this[_0x234451(0x7f4)]['name']+_0x234451(0x2f4)+this[_0x234451(0x7f4)][_0x234451(0x6c0)][_0x234451(0x463)]+',\x20pairCode:\x20'+this[_0x234451(0x7f4)][_0x234451(0x6c0)][_0x234451(0x78e)]+_0x234451(0x342)+_0x5eb89f));}if(_0x4f9668&&(this['stateConnection']={'state':_0x4f9668,'statusReason':_0x3c1c6e?.['error']?.['output']?.[_0x234451(0x683)]??0xc8},this[_0x234451(0x6d8)]('connection.update',{'instance':this[_0x234451(0x7f4)][_0x234451(0x537)],...this['stateConnection']})),_0x4f9668===_0x234451(0x252)){if(this[_0x234451(0x71d)]++,this['reconnectTimestamps'][_0x234451(0x6e9)](Date['now']()),this[_0x234451(0x7cc)]=this[_0x234451(0x7cc)][_0x234451(0x82d)](_0x19db0f=>Date[_0x234451(0x505)]()-_0x19db0f<this[_0x234451(0x62d)]),_0x3c1c6e[_0x234451(0x15c)]?.[_0x234451(0x144)]?.[_0x234451(0x683)]!==w[_0x234451(0x806)][_0x234451(0x420)]){let _0x135fa8=this[_0x234451(0x71d)]<=0x1?0x0:Math[_0x234451(0x65e)](Math[_0x234451(0x65d)](0x2,this[_0x234451(0x71d)]-0x1)*0x3e8,0x493e0);console[_0x234451(0x54b)](this[_0x234451(0x300)]+_0x234451(0x554)+this[_0x234451(0x71d)]+_0x234451(0x4d7)+_0x135fa8/0x3e8+'\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0x5881d2=>setTimeout(_0x5881d2,_0x135fa8)),console['log'](_0x234451(0x83c)),await this[_0x234451(0x632)]();}else{this[_0x234451(0x6d8)](_0x234451(0x476),{'instance':this['instance']['name'],'status':_0x234451(0x515)}),this['instance']['ScheduleMessage']['isConnected']=!0x1,this[_0x234451(0x76b)][_0x234451(0x294)]['delete'](this[_0x234451(0x300)]),this[_0x234451(0x76b)][_0x234451(0x7f7)][_0x234451(0x28d)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x234451(0x505)]()},this[_0x234451(0x7f4)][_0x234451(0x537)]),re[_0x234451(0x449)](K,this[_0x234451(0x7f4)][_0x234451(0x537)]);try{this[_0x234451(0x224)][_0x234451(0x195)](this[_0x234451(0x300)]+'\x20('+this[_0x234451(0x7f4)][_0x234451(0x78d)]+_0x234451(0x6af));let _0x9757f2=await this[_0x234451(0x76b)][_0x234451(0x478)][_0x234451(0x74c)](this[_0x234451(0x7f4)][_0x234451(0x78d)]);_0x9757f2[_0x234451(0x30f)]?this[_0x234451(0x224)][_0x234451(0x195)](this[_0x234451(0x300)]+'\x20('+this[_0x234451(0x7f4)][_0x234451(0x78d)]+_0x234451(0x37f)):this[_0x234451(0x224)][_0x234451(0x15c)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20'+_0x9757f2[_0x234451(0x15c)]);}catch(_0x2e85af){this[_0x234451(0x224)][_0x234451(0x15c)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20'+_0x2e85af[_0x234451(0x478)]);}this['instance'][_0x234451(0x131)][_0x234451(0x27a)]!==null&&(this['logger'][_0x234451(0x195)](this[_0x234451(0x300)]+'\x20('+this[_0x234451(0x7f4)][_0x234451(0x78d)]+'):\x20Limpando\x20delayMessage'),clearInterval(this[_0x234451(0x7f4)]['ScheduleMessage'][_0x234451(0x27a)]),this[_0x234451(0x7f4)][_0x234451(0x131)][_0x234451(0x27a)]=null),this[_0x234451(0x224)]['verbose'](this[_0x234451(0x300)]+'\x20('+this[_0x234451(0x7f4)][_0x234451(0x78d)]+_0x234451(0x2ce)),this['AutomateSystem']=null,this[_0x234451(0x759)]['emit'](_0x234451(0x655),this[_0x234451(0x7f4)][_0x234451(0x537)],_0x234451(0x2db)),this[_0x234451(0x62e)]?.['ws']?.[_0x234451(0x252)](),this[_0x234451(0x62e)]['end'](new Error(_0x234451(0x4c9)));}}if(_0x4f9668===_0x234451(0x61c)){this[_0x234451(0x224)][_0x234451(0x7bf)](this['instanceName']+'\x20('+this[_0x234451(0x7f4)][_0x234451(0x78d)]+_0x234451(0x766)+this[_0x234451(0x62e)]['authState']['creds']?.[_0x234451(0x65f)]),this[_0x234451(0x62e)][_0x234451(0x2fe)][_0x234451(0x51d)]?.['myAppStateKeyId']||(this[_0x234451(0x224)][_0x234451(0x7bf)](this[_0x234451(0x300)]+'\x20('+this['instance'][_0x234451(0x78d)]+_0x234451(0x1f0)),this[_0x234451(0x62e)]['ev'][_0x234451(0x719)]()),this[_0x234451(0x25f)],this[_0x234451(0x7f4)][_0x234451(0x78d)]=this[_0x234451(0x62e)]['user']['id']['replace'](/:\d+/,'')[_0x234451(0x154)]('@s.whatsapp.net',''),this[_0x234451(0x7f4)]['profilePictureUrl']=(await this['profilePicture'](this[_0x234451(0x7f4)]['wuid']+_0x234451(0x2f8)))[_0x234451(0x3a3)],this['repository']['auth'][_0x234451(0x28d)]({'online':!0x0,'owner':this['instance'][_0x234451(0x78d)],'lastDisconnect':null},this[_0x234451(0x7f4)]['name']);let _0x834301=_0x234451(0x5e9)+this[_0x234451(0x7f4)][_0x234451(0x78d)],_0x46d668=0x28,_0x5127a4=Math[_0x234451(0x5f9)]((_0x46d668-_0x834301[_0x234451(0x624)])/0x2),_0x218f7b='\x20'[_0x234451(0x3a0)](_0x5127a4),_0xf1c10a=_0x234451(0x171),_0x4564e3=_0x234451(0x56f)+this[_0x234451(0x7f4)][_0x234451(0x537)],_0x576718=(''+_0x218f7b+_0x834301+_0x218f7b)[_0x234451(0x579)](_0x46d668,'\x20'),_0x3cbcb4=(''+_0x218f7b+_0xf1c10a+_0x218f7b)[_0x234451(0x579)](_0x46d668,'\x20'),_0x4f208a=(''+_0x218f7b+_0x4564e3+_0x218f7b)[_0x234451(0x579)](_0x46d668,'\x20'),_0x18d40e=Math[_0x234451(0x54c)](_0x576718[_0x234451(0x624)],_0x3cbcb4['length'],_0x4f208a[_0x234451(0x624)]),_0x2db86f=_0x576718[_0x234451(0x579)](_0x18d40e,'\x20'),_0x163b6e=_0x3cbcb4[_0x234451(0x579)](_0x18d40e,'\x20'),_0x79ccb0=_0x4f208a['padEnd'](_0x18d40e,'\x20');this['logger'][_0x234451(0x59e)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x234451(0x3a0)](_0x18d40e)+_0x234451(0x720)+_0x163b6e+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x79ccb0+_0x234451(0x360)+_0x2db86f+_0x234451(0x524)+'─'[_0x234451(0x3a0)](_0x18d40e)+'┘')['replace'](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this['instance']['ScheduleMessage']['isConnected']=!0x0;}}[a0_0x75ac12(0x25f)](){const _0x296fbf=a0_0x75ac12;this[_0x296fbf(0x71d)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x75ac12(0x4b6)](_0x3379f1,_0x5eb0c8=!0x1){const _0x5dbba7=a0_0x75ac12;try{let _0x5c99ae=await this['repository'][_0x5dbba7(0x478)]['find']({'where':{'_id':_0x3379f1['id']}},this[_0x5dbba7(0x7f4)][_0x5dbba7(0x78d)]);return _0x5eb0c8?_0x5c99ae[0x0]:_0x5c99ae[0x0][_0x5dbba7(0x478)];}catch{return{'conversation':''};}}[a0_0x75ac12(0x5ea)](){const _0x182464=a0_0x75ac12;let _0x55c889=this['configService'][_0x182464(0x407)](_0x182464(0x2a4)),_0x519ce5=this[_0x182464(0x846)]['get'](_0x182464(0x6f3));_0x55c889?.[_0x182464(0x808)]&&!_0x519ce5[_0x182464(0x69f)]&&setInterval(()=>{const _0x4c2c2d=_0x182464;try{for(let [_0x4b1250,_0x102429]of Object['entries'](_0x55c889))_0x102429===!0x0&&(0x0,Ue['execSync'])('rm\x20-rf\x20'+(0x0,j['join'])(this[_0x4c2c2d(0x450)],_0x4b1250['toLowerCase'](),this[_0x4c2c2d(0x7f4)][_0x4c2c2d(0x78d)])+_0x4c2c2d(0x623));}catch{}},(_0x55c889?.[_0x182464(0x808)]??0xe10)*0x3e8);}async[a0_0x75ac12(0x303)](){const _0x2617cb=a0_0x75ac12;let _0x44173a=this[_0x2617cb(0x846)][_0x2617cb(0x407)](_0x2617cb(0x6f3)),_0x5d20ae=this[_0x2617cb(0x846)]['get'](_0x2617cb(0x837));return _0x5d20ae?.[_0x2617cb(0x69f)]?await xs(_0x5d20ae,this['instance'][_0x2617cb(0x537)]):_0x44173a[_0x2617cb(0x69f)]?await _s(this[_0x2617cb(0x7f4)][_0x2617cb(0x537)]):await(0x0,w[_0x2617cb(0x6da)])((0x0,j[_0x2617cb(0x215)])(Me,this[_0x2617cb(0x7f4)][_0x2617cb(0x537)]));}async[a0_0x75ac12(0x42c)](){const _0x36b172=a0_0x75ac12;let _0x40492a=()=>Math[_0x36b172(0x5f9)](Math[_0x36b172(0x104)]()*0x4e21)+0x7d0,_0x14fff3=async()=>{const _0x469c42=_0x36b172;if(!this[_0x469c42(0x7f4)][_0x469c42(0x131)][_0x469c42(0x6ad)]){this[_0x469c42(0x224)]['verbose'](this[_0x469c42(0x300)]+'\x20('+this[_0x469c42(0x7f4)][_0x469c42(0x78d)]+_0x469c42(0x33a)),this[_0x469c42(0x11b)]=!0x1;return;}if(this['instance'][_0x469c42(0x78d)]&&this[_0x469c42(0x190)]&&this[_0x469c42(0x7f4)]['ScheduleMessage'][_0x469c42(0x27a)]!==null&&this[_0x469c42(0x7f4)][_0x469c42(0x131)][_0x469c42(0x27a)]!==void 0x0){let _0x106a4a=Math[_0x469c42(0x6be)](this[_0x469c42(0x7f4)][_0x469c42(0x131)][_0x469c42(0x27a)]/0xea60);this[_0x469c42(0x224)]['verbose'](this[_0x469c42(0x300)]+'\x20('+this[_0x469c42(0x7f4)][_0x469c42(0x78d)]+_0x469c42(0x48d)+_0x106a4a+_0x469c42(0x63b)),this[_0x469c42(0x11b)]=!0x1;return;}else this[_0x469c42(0x7f4)][_0x469c42(0x78d)]&&(this[_0x469c42(0x224)][_0x469c42(0x195)](this['instanceName']+'\x20('+this[_0x469c42(0x7f4)][_0x469c42(0x78d)]+_0x469c42(0x1a5)),this[_0x469c42(0x190)]||(await this['getAutomateSystem'](),this[_0x469c42(0x77c)](),this[_0x469c42(0x299)]()),(this[_0x469c42(0x7f4)][_0x469c42(0x131)][_0x469c42(0x27a)]===null||this[_0x469c42(0x7f4)][_0x469c42(0x131)][_0x469c42(0x27a)]===void 0x0)&&await this[_0x469c42(0x7cb)]());if(this[_0x469c42(0x11b)]){let _0x4cd5cf=_0x40492a();this[_0x469c42(0x224)][_0x469c42(0x195)](this['instanceName']+_0x469c42(0x44c)+_0x4cd5cf/0x3e8+_0x469c42(0x40b)),setTimeout(_0x14fff3,_0x4cd5cf);}};if(this[_0x36b172(0x11b)])return;this['isRunning']=!0x0;let _0x1e83a3=_0x40492a();setTimeout(_0x14fff3,_0x1e83a3);}async[a0_0x75ac12(0x299)](){const _0x58abe4=a0_0x75ac12;let _0x925aaa=this['instance'][_0x58abe4(0x78d)];try{let _0x47825d=await this[_0x58abe4(0x76b)][_0x58abe4(0x20a)][_0x58abe4(0x118)]({'where':{'$or':[{'owner':_0x925aaa},{'whoCanUse':{'$in':[_0x925aaa]}},{'shareOwners':{'$in':[_0x925aaa]}}]}}),_0x16dff3=new Map(this[_0x58abe4(0x190)][_0x58abe4(0x574)][_0x58abe4(0x506)](_0x45c474=>[_0x45c474[_0x58abe4(0x2af)],_0x45c474])),_0x274816=_0x47825d[_0x58abe4(0x506)](_0x1b82ab=>{const _0x4b81eb=_0x58abe4;let _0x373589=_0x16dff3[_0x4b81eb(0x407)](_0x1b82ab[_0x4b81eb(0x2af)]?.['toString']());return{'_id':_0x1b82ab[_0x4b81eb(0x2af)]?.[_0x4b81eb(0x7ce)](),'name':_0x373589?.[_0x4b81eb(0x537)]??_0x1b82ab[_0x4b81eb(0x537)],'default':_0x373589?.[_0x4b81eb(0x636)]??_0x1b82ab[_0x4b81eb(0x636)]??!0x1,'startCommand':_0x373589?.['startCommand']??_0x1b82ab[_0x4b81eb(0x7f0)],'minutesToClose':_0x373589?.[_0x4b81eb(0x23c)]??_0x1b82ab[_0x4b81eb(0x23c)]??0xa,'readMessages':_0x373589?.[_0x4b81eb(0x201)]??_0x1b82ab['readMessages']??!0x1,'testingWith':_0x373589?.['testingWith']??_0x1b82ab[_0x4b81eb(0x406)],'canEdit':_0x1b82ab[_0x4b81eb(0x4c1)]===_0x925aaa||(_0x1b82ab['whoCanEdit']??[])[_0x4b81eb(0x5bb)](_0x925aaa),'usersCount':(_0x1b82ab['shareOwners']??[])[_0x4b81eb(0x624)]??0x0};}),_0x23059a=!0x1;_0x274816[_0x58abe4(0x839)](_0x8fdc27=>{const _0x1456ea=_0x58abe4;_0x8fdc27[_0x1456ea(0x636)]&&(_0x23059a?_0x8fdc27[_0x1456ea(0x636)]=!0x1:_0x23059a=!0x0);}),this[_0x58abe4(0x190)][_0x58abe4(0x574)]=_0x274816;let _0xd79bf6={'flows':_0x274816};return await this[_0x58abe4(0x76b)][_0x58abe4(0x819)]['update'](_0xd79bf6,_0x925aaa),this[_0x58abe4(0x224)][_0x58abe4(0x195)](this[_0x58abe4(0x300)]+'\x20('+_0x925aaa+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x274816['length'];}catch(_0x5f3767){return this[_0x58abe4(0x224)][_0x58abe4(0x15c)](this[_0x58abe4(0x300)]+'\x20('+_0x925aaa+_0x58abe4(0x77d)+(_0x5f3767 instanceof Error?_0x5f3767[_0x58abe4(0x478)]:JSON[_0x58abe4(0x53e)](_0x5f3767,null,0x2))),{'message':_0x58abe4(0x1f3)+(_0x5f3767 instanceof Error?_0x5f3767['message']:JSON[_0x58abe4(0x53e)](_0x5f3767,null,0x2))};}}async['connectToWhatsapp'](_0x1d19b4){const _0xbfb433=a0_0x75ac12;try{let _0x5cb404=await this[_0xbfb433(0x76b)][_0xbfb433(0x7f4)][_0xbfb433(0x4a6)]({'where':{'_id':K+'-'+this['instanceName']}}),_0x385db2,_0x270b91=!re['ipv6Prefix']||!re[_0xbfb433(0x271)];console[_0xbfb433(0x54b)](_0xbfb433(0x782)),console[_0xbfb433(0x54b)](_0xbfb433(0x4ac),Oi),console[_0xbfb433(0x54b)]('this.reconnectAttempts:\x20',this[_0xbfb433(0x71d)]),console[_0xbfb433(0x54b)](_0xbfb433(0x782)),Oi&&!_0x270b91&&(this['reconnectAttempts']<0x4||!this[_0xbfb433(0x71d)]?_0x5cb404&&_0x5cb404['ip']?(_0x385db2=_0x5cb404['ip'],console[_0xbfb433(0x54b)](_0xbfb433(0x1a1)+_0x385db2)):(_0x385db2=await re[_0xbfb433(0x737)](K,this[_0xbfb433(0x7f4)][_0xbfb433(0x537)]),_0x385db2?(console[_0xbfb433(0x54b)](_0xbfb433(0x2f9)+_0x385db2),await(0x0,w[_0xbfb433(0x561)])(0x7d0)):console[_0xbfb433(0x15c)](_0xbfb433(0x2cd))):this['reconnectAttempts']<0x6&&(await re[_0xbfb433(0x449)](K,this['instance'][_0xbfb433(0x537)]),console[_0xbfb433(0x54b)](_0xbfb433(0x318)),_0x385db2=await re[_0xbfb433(0x737)](K,this['instance'][_0xbfb433(0x537)]),_0x385db2?(console[_0xbfb433(0x54b)](_0xbfb433(0x2f9)+_0x385db2),await(0x0,w[_0xbfb433(0x561)])(0x7d0)):console[_0xbfb433(0x15c)](_0xbfb433(0x143)))),this[_0xbfb433(0x64e)](),this['instance'][_0xbfb433(0x2b2)]=(await this[_0xbfb433(0x76b)][_0xbfb433(0x7f7)][_0xbfb433(0x1c3)](this[_0xbfb433(0x7f4)][_0xbfb433(0x537)]))[_0xbfb433(0x2b2)],this['instance'][_0xbfb433(0x2fe)]=await this[_0xbfb433(0x303)]();let {version:_0x5ce3a6}=await(0x0,w[_0xbfb433(0x203)])(),_0x59c12d=[ki,Us,(0x0,ks[_0xbfb433(0x6ac)])()],_0x412e1b={'localAddress':_0x385db2,'auth':{'creds':this[_0xbfb433(0x7f4)][_0xbfb433(0x2fe)][_0xbfb433(0x41d)][_0xbfb433(0x51d)],'keys':(0x0,w[_0xbfb433(0x7e9)])(this[_0xbfb433(0x7f4)][_0xbfb433(0x2fe)][_0xbfb433(0x41d)][_0xbfb433(0x58e)],(0x0,qt['default'])({'level':_0xbfb433(0x15c)}))},'logger':(0x0,qt[_0xbfb433(0x636)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x1d19b4?[_0xbfb433(0x558),Us,(0x0,ks['release'])()]:_0x59c12d,'version':_0x5ce3a6,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0xbb1264=>{const _0xa9ad50=_0xbfb433;let _0x11eff4=this[_0xa9ad50(0x6d4)]?.[_0xa9ad50(0x31b)]&&(0x0,w[_0xa9ad50(0x42d)])(_0xbb1264);return(0x0,w[_0xa9ad50(0x5cb)])(_0xbb1264)||_0x11eff4;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x3debe3=>await this[_0xbfb433(0x4b6)](_0x3debe3),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0xbfb433(0x172)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x340eb3){const _0x288389=_0xbfb433;return _0x340eb3['deviceSentMessage']?.['message']?.[_0x288389(0x7c6)]?.['listType']===w[_0x288389(0x4d0)][_0x288389(0x497)][_0x288389(0x563)][_0x288389(0x185)]['PRODUCT_LIST']&&(_0x340eb3=JSON[_0x288389(0x31e)](JSON['stringify'](_0x340eb3)),_0x340eb3[_0x288389(0x69d)]['message'][_0x288389(0x7c6)]['listType']=w['proto'][_0x288389(0x497)][_0x288389(0x563)][_0x288389(0x185)][_0x288389(0x4d6)]),_0x340eb3[_0x288389(0x7c6)]?.[_0x288389(0x5f6)]==w[_0x288389(0x4d0)][_0x288389(0x497)]['ListMessage'][_0x288389(0x185)][_0x288389(0x46a)]&&(_0x340eb3=JSON[_0x288389(0x31e)](JSON[_0x288389(0x53e)](_0x340eb3)),_0x340eb3['listMessage']['listType']=w['proto'][_0x288389(0x497)][_0x288389(0x563)][_0x288389(0x185)][_0x288389(0x4d6)]),_0x340eb3;}};return this[_0xbfb433(0x4ce)]=!0x1,this[_0xbfb433(0x62e)]=(0x0,w['default'])(_0x412e1b),this[_0xbfb433(0x78a)](),this[_0xbfb433(0x100)]=_0x1d19b4,this[_0xbfb433(0x62e)];}catch(_0x54781f){let _0x1b41a2=_0xbfb433(0x4dc),_0x561504=_0x54781f instanceof Error?_0x54781f[_0xbfb433(0x478)]:typeof _0x54781f==_0xbfb433(0x307)?JSON[_0xbfb433(0x53e)](_0x54781f):_0x54781f,_0x3b96aa=_0x1b41a2+':\x20'+_0x561504;throw this['logger']['error'](this[_0xbfb433(0x300)]+'\x20('+this['instance'][_0xbfb433(0x78d)]+_0xbfb433(0x3d3)+_0x3b96aa),console['error']('Detalhes\x20do\x20erro:',_0x54781f),_0x54781f instanceof Error&&console[_0xbfb433(0x15c)](_0xbfb433(0x569),_0x54781f['stack']),new x(_0x3b96aa);}}['eventHandler'](){const _0x36d268=a0_0x75ac12;this[_0x36d268(0x62e)]['ev']['process'](_0xd2860b=>{const _0x2dcb9e=_0x36d268;if(!this[_0x2dcb9e(0x4ce)]){let _0x15e37e=this[_0x2dcb9e(0x846)][_0x2dcb9e(0x407)](_0x2dcb9e(0x6f3));if(_0xd2860b[_0x2dcb9e(0x135)]){let _0x2aed87=_0xd2860b[_0x2dcb9e(0x135)];this[_0x2dcb9e(0x509)]['labels.edit'](_0x2aed87);}if(_0xd2860b[_0x2dcb9e(0x4ea)]){let _0x237845=_0xd2860b[_0x2dcb9e(0x4ea)];this[_0x2dcb9e(0x509)][_0x2dcb9e(0x4ea)](_0x237845);}if(_0xd2860b[_0x2dcb9e(0x1e0)]&&this[_0x2dcb9e(0x2e1)](_0xd2860b[_0x2dcb9e(0x1e0)]),_0xd2860b[_0x2dcb9e(0x727)]&&this['instance'][_0x2dcb9e(0x2fe)][_0x2dcb9e(0x37a)](),_0xd2860b[_0x2dcb9e(0x33e)]){let _0x2a2e89=_0xd2860b[_0x2dcb9e(0x33e)];this['messageHandle'][_0x2dcb9e(0x33e)](_0x2a2e89,_0x15e37e);}if(_0xd2860b[_0x2dcb9e(0x439)]){let _0x5d5918=_0xd2860b['messages.upsert'];this[_0x2dcb9e(0x509)][_0x2dcb9e(0x439)](_0x5d5918,_0x15e37e);}if(_0xd2860b[_0x2dcb9e(0x455)]){let _0x1ec8b0=_0xd2860b['messages.update'];this[_0x2dcb9e(0x509)][_0x2dcb9e(0x455)](_0x1ec8b0,_0x15e37e);}if(_0xd2860b['presence.update']){let _0x257490=_0xd2860b[_0x2dcb9e(0x74e)];if(this[_0x2dcb9e(0x6d4)]?.['groups_ignore']&&_0x257490['id'][_0x2dcb9e(0x5bb)](_0x2dcb9e(0x700)))return;this[_0x2dcb9e(0x6d8)](_0x2dcb9e(0x74e),_0x257490);}if(_0xd2860b[_0x2dcb9e(0x73e)]){let _0x5d931a=_0xd2860b[_0x2dcb9e(0x73e)];this['groupHandler'][_0x2dcb9e(0x73e)](_0x5d931a);}if(_0xd2860b[_0x2dcb9e(0x6dc)]){let _0x3ceb80=_0xd2860b['groups.update'];this[_0x2dcb9e(0x6bd)][_0x2dcb9e(0x6dc)](_0x3ceb80);}if(_0xd2860b[_0x2dcb9e(0x398)]){let _0xadc84f=_0xd2860b['group-participants.update'];this[_0x2dcb9e(0x6bd)][_0x2dcb9e(0x398)](_0xadc84f);}if(_0xd2860b[_0x2dcb9e(0x157)]){let _0x3ea0c8=_0xd2860b[_0x2dcb9e(0x157)];this['chatHandle']['chats.upsert'](_0x3ea0c8,_0x15e37e);}if(_0xd2860b['chats.update']){let _0x22f349=_0xd2860b[_0x2dcb9e(0x145)];this[_0x2dcb9e(0x178)]['chats.update'](_0x22f349,_0x15e37e);}if(_0xd2860b[_0x2dcb9e(0x645)]){let _0x3f479e=_0xd2860b[_0x2dcb9e(0x645)];this['chatHandle']['chats.delete'](_0x3f479e);}if(_0xd2860b['contacts.upsert']){let _0x11f591=_0xd2860b[_0x2dcb9e(0x164)];this[_0x2dcb9e(0x1e8)][_0x2dcb9e(0x164)](_0x11f591,_0x15e37e);}if(_0xd2860b[_0x2dcb9e(0x5b8)]){let _0x59ff34=_0xd2860b[_0x2dcb9e(0x5b8)];this['contactHandle']['contacts.update'](_0x59ff34,_0x15e37e);}}});}async[a0_0x75ac12(0x771)](_0xb4e89e,_0x5037f7){const _0x377ce2=a0_0x75ac12;if(_0x5037f7>=0xa){console[_0x377ce2(0x15c)](this[_0x377ce2(0x300)]+'\x20('+this[_0x377ce2(0x7f4)][_0x377ce2(0x78d)]+'):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar'),delete Jt[_0xb4e89e[_0x377ce2(0x2c4)]['id']];return;}try{console[_0x377ce2(0x15c)](this['instanceName']+'\x20('+this[_0x377ce2(0x7f4)][_0x377ce2(0x78d)]+_0x377ce2(0x70b)+(_0x5037f7+0x1)),await this[_0x377ce2(0x62e)][_0x377ce2(0x3e6)](JSON[_0x377ce2(0x31e)](_0xb4e89e[_0x377ce2(0x564)][0x1],w[_0x377ce2(0x6fe)][_0x377ce2(0x690)])),console[_0x377ce2(0x15c)](_0x377ce2(0x126));}catch(_0x2ca8fd){console['error'](this[_0x377ce2(0x300)]+'\x20('+this['instance'][_0x377ce2(0x78d)]+_0x377ce2(0x5df)+_0x2ca8fd),setTimeout(()=>this[_0x377ce2(0x771)](_0xb4e89e,_0x5037f7+0x1),Math[_0x377ce2(0x65d)](0x2,_0x5037f7)*0x3e8);}}[a0_0x75ac12(0x60d)](_0xda8119){return new Promise(_0x34c4a6=>setTimeout(_0x34c4a6,_0xda8119));}[a0_0x75ac12(0x32c)](_0x4e0163){const _0x296432=a0_0x75ac12;_0x4e0163=_0x4e0163[_0x296432(0x154)](/\D/g,'');let _0x45d203=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x296432(0x4c2)](_0x4e0163);if(_0x45d203&&_0x45d203[0x1]==='55'){let _0x3c685a=_0x45d203[0x2],_0x46fa54=_0x45d203[0x3],_0x327ec3=_0x45d203[0x4];if(parseInt(_0x3c685a)>=0x1f&&_0x46fa54==='9')return _0x45d203[0x1]+_0x3c685a+_0x327ec3;}return _0x4e0163;}[a0_0x75ac12(0x591)](_0x5ba675){const _0x3536b1=a0_0x75ac12;return _0x5ba675[_0x3536b1(0x5bb)](_0x3536b1(0x700))||_0x5ba675[_0x3536b1(0x5bb)](_0x3536b1(0x2f8))||_0x5ba675[_0x3536b1(0x5bb)](_0x3536b1(0x277))?_0x5ba675:(_0x5ba675=_0x5ba675?.['replace'](/\s/g,'')[_0x3536b1(0x154)](/\+/g,'')[_0x3536b1(0x154)](/\(/g,'')[_0x3536b1(0x154)](/\)/g,'')[_0x3536b1(0x170)](/\:/)[0x0][_0x3536b1(0x170)]('@')[0x0],_0x5ba675[_0x3536b1(0x624)]>=0x12?(_0x5ba675=_0x5ba675[_0x3536b1(0x154)](/[^\d-]/g,''),_0x5ba675+_0x3536b1(0x700)):(_0x5ba675=_0x5ba675[_0x3536b1(0x154)](/\D/g,''),_0x5ba675+'@s.whatsapp.net'));}async['updatePresence'](_0x290865){const _0x41dc1f=a0_0x75ac12;let _0x18f6ee=(await this['whatsappNumber']({'numbers':[_0x290865[_0x41dc1f(0x3b8)]]}))[0x0];if(!_0x18f6ee[_0x41dc1f(0x220)]&&!(0x0,w['isJidGroup'])(_0x18f6ee[_0x41dc1f(0x797)])&&!_0x18f6ee[_0x41dc1f(0x797)][_0x41dc1f(0x5bb)](_0x41dc1f(0x277)))throw new m(_0x18f6ee);let _0x592886=_0x18f6ee[_0x41dc1f(0x797)];try{return await this[_0x41dc1f(0x62e)][_0x41dc1f(0x5d1)](_0x592886),await this[_0x41dc1f(0x62e)][_0x41dc1f(0x6e5)](_0x290865[_0x41dc1f(0x53f)],_0x592886),{'status':0xc8,'presence':_0x290865[_0x41dc1f(0x53f)]};}catch(_0x25a66a){let _0x4c76e4=_0x41dc1f(0x120),_0x47a5b0=_0x25a66a instanceof Error?_0x25a66a[_0x41dc1f(0x478)]:typeof _0x25a66a==_0x41dc1f(0x307)?JSON[_0x41dc1f(0x53e)](_0x25a66a):_0x25a66a,_0x50495e=_0x4c76e4+':\x20'+_0x47a5b0;throw this[_0x41dc1f(0x224)][_0x41dc1f(0x15c)](this['instanceName']+'\x20('+this[_0x41dc1f(0x7f4)][_0x41dc1f(0x78d)]+'):\x20'+_0x50495e),new m(_0x50495e);}}async[a0_0x75ac12(0x194)](_0x2bca95,_0x3590f0,_0x242f3d,_0x14a334=!0x0){const _0x54f763=a0_0x75ac12;let _0x41ffb2=await this[_0x54f763(0x76b)][_0x54f763(0x1a2)][_0x54f763(0x4a6)]({'where':{'_id':_0x2bca95}});if(!_0x41ffb2&&!_0x14a334)return;let _0x41fa28={'lastUpdate':Date[_0x54f763(0x505)]()};if(_0x242f3d||!_0x41ffb2?.[_0x54f763(0x805)]||Date[_0x54f763(0x505)]()-_0x41ffb2['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x1b94ca=(await this[_0x54f763(0x6f2)](_0x2bca95))['profilePictureUrl'];_0x41fa28[_0x54f763(0x7d3)]=_0x1b94ca;}catch(_0x5d65be){let _0x578765='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x218571=_0x5d65be instanceof Error?_0x5d65be[_0x54f763(0x478)]:typeof _0x5d65be==_0x54f763(0x307)?JSON[_0x54f763(0x53e)](_0x5d65be):_0x5d65be,_0x24e523=_0x578765+':\x20'+_0x218571;throw this[_0x54f763(0x224)][_0x54f763(0x15c)](this['instanceName']+'\x20('+this[_0x54f763(0x7f4)][_0x54f763(0x78d)]+_0x54f763(0x3d3)+_0x24e523),new m(_0x24e523);}return _0x3590f0&&_0x41ffb2?.['name']!==_0x3590f0&&(_0x41fa28['name']=_0x3590f0),Object['keys'](_0x41fa28)['length']>0x1&&(_0x41ffb2?await this['repository']['cacheContact']['update']({'where':{'_id':_0x2bca95}},_0x41fa28):await this[_0x54f763(0x76b)][_0x54f763(0x1a2)][_0x54f763(0x2bd)]([{'_id':_0x2bca95,..._0x41fa28}]),_0x41ffb2={..._0x41ffb2,..._0x41fa28}),{'cachedContact':_0x41ffb2};}async[a0_0x75ac12(0x6f2)](_0x2c8fe8){const _0x22362e=a0_0x75ac12;let _0x50faf2=this[_0x22362e(0x591)](_0x2c8fe8);try{return{'wuid':_0x50faf2,'profilePictureUrl':await this['client'][_0x22362e(0x3a3)](_0x50faf2,_0x22362e(0x466))};}catch{return{'wuid':_0x50faf2,'profilePictureUrl':null};}}async[a0_0x75ac12(0x6c5)](_0x503b6e,_0x2da794,_0x4c8871){const _0x5d5907=a0_0x75ac12;let _0x4f27d0;try{let _0x46ce65=(await this[_0x5d5907(0x647)]({'numbers':[_0x503b6e]}))?.[_0x5d5907(0x14c)]();if(!_0x46ce65[_0x5d5907(0x220)]&&!(0x0,w[_0x5d5907(0x42d)])(_0x46ce65['jid'])&&!_0x46ce65[_0x5d5907(0x797)][_0x5d5907(0x5bb)](_0x5d5907(0x277)))throw new m(_0x46ce65);_0x4f27d0=_0x46ce65[_0x5d5907(0x797)];}catch(_0x46feac){_0x4f27d0=_0x503b6e,this[_0x5d5907(0x224)][_0x5d5907(0x7bf)](this[_0x5d5907(0x300)]+'\x20('+this[_0x5d5907(0x7f4)][_0x5d5907(0x78d)]+_0x5d5907(0x7ab)+_0x46feac[_0x5d5907(0x478)]),this['logger']['warn'](this[_0x5d5907(0x300)]+'\x20('+this[_0x5d5907(0x7f4)][_0x5d5907(0x78d)]+_0x5d5907(0x6e8)+_0x4f27d0);}try{if(_0x4f27d0||(_0x4f27d0=_0x503b6e,this[_0x5d5907(0x224)]['warn'](this['instanceName']+'\x20('+this[_0x5d5907(0x7f4)]['wuid']+'):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20'+_0x4f27d0)),_0x4c8871||(_0x4c8871={}),_0x4c8871?.[_0x5d5907(0x561)]){await this[_0x5d5907(0x62e)][_0x5d5907(0x5d1)](_0x4f27d0),await this[_0x5d5907(0x62e)][_0x5d5907(0x6e5)](_0x4c8871?.['presence']??'composing',_0x4f27d0);let _0x31f76a=Math['min'](_0x4c8871[_0x5d5907(0x561)],0x2710);await(0x0,w['delay'])(_0x31f76a),await this[_0x5d5907(0x62e)]['sendPresenceUpdate'](_0x5d5907(0x66e),_0x4f27d0);}let _0x3d37ab=_0x4c8871?.[_0x5d5907(0x23f)]!=!0x1?void 0x0:!0x1,_0x516781;if(_0x4c8871?.[_0x5d5907(0x35c)]){let _0x60fa9f=_0x4c8871?.[_0x5d5907(0x35c)],_0x3b5710=_0x60fa9f?.[_0x5d5907(0x478)]?_0x60fa9f:await this[_0x5d5907(0x4b6)](_0x60fa9f['key'],!0x0);_0x3b5710&&(_0x516781=_0x3b5710);}let _0x5353f5,_0x492b77=null;if((0x0,w['isJidGroup'])(_0x4f27d0))try{if(_0x492b77=await this[_0x5d5907(0x733)](_0x4f27d0),!_0x492b77)throw new J(_0x5d5907(0x14d));_0x4c8871?.[_0x5d5907(0x176)]&&(_0x4c8871['mentions']?.[_0x5d5907(0x7f1)]?_0x5353f5=_0x492b77[_0x5d5907(0x24c)][_0x5d5907(0x506)](_0x40e792=>_0x40e792['id']):_0x4c8871[_0x5d5907(0x176)]?.[_0x5d5907(0x1d2)]?.[_0x5d5907(0x624)]&&(_0x5353f5=_0x4c8871[_0x5d5907(0x176)][_0x5d5907(0x1d2)][_0x5d5907(0x506)](_0x29fdee=>{let _0x1220ec=this['createJid'](_0x29fdee);return(0x0,w['isJidGroup'])(_0x1220ec)?null:_0x1220ec;})));}catch{throw new J(_0x5d5907(0x14d));}let _0x4b2832=await this['repository'][_0x5d5907(0x4f9)]['findOne']({'where':{'_id':_0x4f27d0}},this[_0x5d5907(0x7f4)][_0x5d5907(0x78d)]),_0x3c4a7a=await((async()=>{const _0x36e189=_0x5d5907;let _0x2545e2={'quoted':_0x516781,'ephemeralExpiration':_0x4b2832?.[_0x36e189(0x1ad)]??0x0,'useCachedGroupMetadata':!0x0};if(!_0x2da794[_0x36e189(0x3c4)]&&!_0x2da794['poll']&&!_0x2da794['sticker']&&!_0x2da794[_0x36e189(0x6c7)]&&_0x4f27d0!==_0x36e189(0x305)&&_0x2da794[_0x36e189(0x218)])return await this[_0x36e189(0x62e)][_0x36e189(0x344)](_0x4f27d0,{'react':{'text':_0x2da794[_0x36e189(0x218)]['text'],'key':_0x2da794[_0x36e189(0x218)]['key']}},_0x2545e2);if(_0x2da794['conversation']){let _0x13159c=_0x2da794[_0x36e189(0x6c7)];return _0x4c8871?.[_0x36e189(0x481)]&&(_0x13159c=await this[_0x36e189(0x82e)](_0x13159c,_0x4f27d0)),await this[_0x36e189(0x62e)][_0x36e189(0x344)](_0x4f27d0,{'text':_0x13159c,'mentions':_0x5353f5,'linkPreview':_0x3d37ab},_0x2545e2);}return!_0x2da794[_0x36e189(0x3c4)]&&!_0x2da794[_0x36e189(0x71c)]&&_0x4f27d0!=_0x36e189(0x305)?await this['client'][_0x36e189(0x344)](_0x4f27d0,{'forward':{'key':{'remoteJid':this[_0x36e189(0x7f4)]['wuid'],'fromMe':!0x0},'message':_0x2da794},'mentions':_0x5353f5},_0x2545e2):_0x4f27d0===_0x36e189(0x305)?await this[_0x36e189(0x62e)]['sendMessage'](_0x4f27d0,_0x2da794[_0x36e189(0x2be)]['content'],{'backgroundColor':_0x2da794[_0x36e189(0x2be)][_0x36e189(0x306)][_0x36e189(0x1ec)],'font':_0x2da794[_0x36e189(0x2be)][_0x36e189(0x306)][_0x36e189(0x675)],'statusJidList':_0x2da794[_0x36e189(0x2be)][_0x36e189(0x306)]['statusJidList']}):await this[_0x36e189(0x62e)]['sendMessage'](_0x4f27d0,_0x2da794,_0x2545e2);})()),_0x649d11=(0x0,w[_0x5d5907(0x35e)])(_0x3c4a7a[_0x5d5907(0x478)]),_0x2fcbcc=(0x0,w['getContentType'])(_0x649d11),{message_normalized:_0x19ec19}=this['normalizeMessage'](_0x649d11,_0x2fcbcc,null),_0x37be40={'_id':_0x3c4a7a[_0x5d5907(0x2c4)]['id'],'key':_0x3c4a7a[_0x5d5907(0x2c4)],'pushName':_0x3c4a7a[_0x5d5907(0x1a6)],'isGroup':_0x3c4a7a[_0x5d5907(0x2c4)][_0x5d5907(0x323)]['endsWith'](_0x5d5907(0x700)),'profilePictureUrl':this[_0x5d5907(0x7f4)][_0x5d5907(0x3a3)],'message':_0x649d11,'messageType':_0x2fcbcc,'message_normalized':{'key':_0x3c4a7a['key'],'pushName':_0x3c4a7a[_0x5d5907(0x1a6)],'messageTimestamp':_0x3c4a7a[_0x5d5907(0x378)]&&_0x3c4a7a[_0x5d5907(0x378)][_0x5d5907(0x7ce)]()[_0x5d5907(0x624)]<0xd?_0x3c4a7a[_0x5d5907(0x378)]*0x3e8:_0x3c4a7a[_0x5d5907(0x378)]||null,'source':(0x0,w[_0x5d5907(0x58b)])(_0x3c4a7a['key']['id']),..._0x19ec19},'messageTimestamp':_0x3c4a7a[_0x5d5907(0x378)]&&_0x3c4a7a[_0x5d5907(0x378)]['toString']()[_0x5d5907(0x624)]<0xd?_0x3c4a7a['messageTimestamp']*0x3e8:_0x3c4a7a[_0x5d5907(0x378)]||null,'owner':this[_0x5d5907(0x7f4)]['wuid'],'source':(0x0,w[_0x5d5907(0x58b)])(_0x3c4a7a['key']['id'])};return this[_0x5d5907(0x224)][_0x5d5907(0x7bf)](this[_0x5d5907(0x300)]+'\x20('+this['instance'][_0x5d5907(0x78d)]+_0x5d5907(0x5b7)+_0x37be40[_0x5d5907(0x2c4)]?.[_0x5d5907(0x323)][_0x5d5907(0x154)](_0x5d5907(0x2f8),'')+']\x20('+_0x37be40[_0x5d5907(0x296)]+')'),_0x37be40[_0x5d5907(0x266)]?.['text']&&this[_0x5d5907(0x224)][_0x5d5907(0x7bf)](_0x37be40[_0x5d5907(0x266)]?.[_0x5d5907(0x105)]),this['sendDataWebhook']('send.message',_0x37be40),q(this['instanceName'],_0x5d5907(0x16d),{'message':_0x37be40}),this['updateChatWithMessage'](this[_0x5d5907(0x846)][_0x5d5907(0x407)](_0x5d5907(0x6f3)),_0x37be40,_0x5d5907(0x76c),_0x4b2832),await this[_0x5d5907(0x76b)][_0x5d5907(0x478)][_0x5d5907(0x2bd)]([_0x37be40],this[_0x5d5907(0x7f4)][_0x5d5907(0x78d)]),_0x3c4a7a;}catch(_0x39257f){let _0x80d29a=_0x5d5907(0x4b5)+_0x4f27d0,_0x1a755e=_0x39257f instanceof Error?_0x39257f[_0x5d5907(0x478)]:typeof _0x39257f=='object'?JSON[_0x5d5907(0x53e)](_0x39257f):_0x39257f,_0x5c5a92=_0x80d29a+':\x20'+_0x1a755e;throw this[_0x5d5907(0x224)]['error'](this[_0x5d5907(0x300)]+'\x20('+this['instance']['wuid']+_0x5d5907(0x3d3)+_0x5c5a92),new m(_0x5c5a92);}}async[a0_0x75ac12(0x733)](_0x4a5540){const _0x501ece=a0_0x75ac12;try{let _0x345c52=await this[_0x501ece(0x76b)][_0x501ece(0x4f9)]['findOne']({'where':{'_id':_0x4a5540}},this[_0x501ece(0x7f4)][_0x501ece(0x78d)]);return _0x345c52?_0x345c52[_0x501ece(0x3cb)]:null;}catch(_0x490d9a){return this['logger'][_0x501ece(0x15c)](_0x501ece(0x36b)+_0x4a5540+':\x20'+_0x490d9a[_0x501ece(0x478)]),null;}}get[a0_0x75ac12(0x64c)](){const _0x5b987b=a0_0x75ac12;return this[_0x5b987b(0x2c2)];}async[a0_0x75ac12(0x21c)](_0x5bf33b){const _0x5565c6=a0_0x75ac12;return await this[_0x5565c6(0x6c5)](_0x5bf33b[_0x5565c6(0x3b8)],{'conversation':_0x5bf33b['textMessage'][_0x5565c6(0x105)]},_0x5bf33b?.['options']);}async['formatStatusMessage'](_0x665605){const _0x5ecee0=a0_0x75ac12;if(!_0x665605[_0x5ecee0(0x791)])throw new m(_0x5ecee0(0x74d));if(!_0x665605['content'])throw new m('Content\x20is\x20required');if(_0x665605[_0x5ecee0(0x575)]){let _0x34fb59=await this['repository'][_0x5ecee0(0x27f)]['find']({'where':{}},this[_0x5ecee0(0x7f4)][_0x5ecee0(0x78d)]);if(!_0x34fb59[_0x5ecee0(0x624)])throw new m(_0x5ecee0(0x228));_0x665605[_0x5ecee0(0x614)]=_0x34fb59[_0x5ecee0(0x82d)](_0x4f4f5c=>_0x4f4f5c['pushName'])[_0x5ecee0(0x506)](_0x1a9096=>_0x1a9096[_0x5ecee0(0x2af)]);}if(!_0x665605[_0x5ecee0(0x614)]?.['length']&&!_0x665605[_0x5ecee0(0x575)])throw new m(_0x5ecee0(0x7dc));if(_0x665605['type']===_0x5ecee0(0x105)){if(!_0x665605[_0x5ecee0(0x1ec)])throw new m(_0x5ecee0(0x4bf));if(!_0x665605[_0x5ecee0(0x675)])throw new m(_0x5ecee0(0x728));return{'content':{'text':_0x665605['content']},'option':{'backgroundColor':_0x665605[_0x5ecee0(0x1ec)],'font':_0x665605[_0x5ecee0(0x675)],'statusJidList':_0x665605[_0x5ecee0(0x614)]}};}if(_0x665605[_0x5ecee0(0x791)]===_0x5ecee0(0x466))return{'content':{'image':{'url':_0x665605[_0x5ecee0(0x1be)]},'caption':_0x665605[_0x5ecee0(0x2fa)]},'option':{'statusJidList':_0x665605['statusJidList']}};if(_0x665605['type']===_0x5ecee0(0x1b1))return{'content':{'video':{'url':_0x665605['content']},'caption':_0x665605[_0x5ecee0(0x2fa)]},'option':{'statusJidList':_0x665605[_0x5ecee0(0x614)]}};if(_0x665605[_0x5ecee0(0x791)]===_0x5ecee0(0x3c4)){this[_0x5ecee0(0x224)]['verbose'](this[_0x5ecee0(0x300)]+'\x20('+this['instance'][_0x5ecee0(0x78d)]+_0x5ecee0(0x29c)),this[_0x5ecee0(0x224)][_0x5ecee0(0x195)](this[_0x5ecee0(0x300)]+'\x20('+this[_0x5ecee0(0x7f4)][_0x5ecee0(0x78d)]+_0x5ecee0(0x538));let _0x13b11b=await this[_0x5ecee0(0x70e)](_0x665605[_0x5ecee0(0x1be)]);if(typeof _0x13b11b==_0x5ecee0(0x392)){this[_0x5ecee0(0x224)][_0x5ecee0(0x195)](this[_0x5ecee0(0x300)]+'\x20('+this['instance']['wuid']+_0x5ecee0(0x6f1));let _0x2267f9=F[_0x5ecee0(0x5ec)](_0x13b11b)['toString'](_0x5ecee0(0x6d5));return{'content':{'audio':Buffer[_0x5ecee0(0x47f)](_0x2267f9,_0x5ecee0(0x6d5)),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x665605[_0x5ecee0(0x614)]}};}else throw new x(_0x13b11b);}throw new m(_0x5ecee0(0x543));}async[a0_0x75ac12(0x2fb)](_0x3032bf){const _0xa96b59=a0_0x75ac12;return await this[_0xa96b59(0x6c5)](_0xa96b59(0x305),{'status':await this[_0xa96b59(0x67b)](_0x3032bf[_0xa96b59(0x2fb)])});}async[a0_0x75ac12(0x649)](_0x193052){const _0x428249=a0_0x75ac12;try{let _0xfff2d7=await(0x0,w[_0x428249(0x3ae)])({[_0x193052[_0x428249(0x24d)]]:(0x0,L[_0x428249(0x520)])(_0x193052[_0x428249(0x45c)])?{'url':_0x193052[_0x428249(0x45c)]}:Buffer[_0x428249(0x47f)](_0x193052['media'],'base64')},{'upload':this[_0x428249(0x62e)][_0x428249(0xfd)]}),_0x421958=_0x193052['mediatype']+_0x428249(0x497);if(_0x193052[_0x428249(0x24d)]===_0x428249(0x2a0)&&!_0x193052[_0x428249(0x372)]){let _0xc98d54=new RegExp(/.*\/(.+?)\./)[_0x428249(0x4c2)](_0x193052[_0x428249(0x45c)]);_0x193052[_0x428249(0x372)]=_0xc98d54?_0xc98d54[0x1]:null;}let _0x2c25dc;return(0x0,L[_0x428249(0x520)])(_0x193052[_0x428249(0x45c)])?_0x2c25dc=(await te[_0x428249(0x636)]['get'](_0x193052['media'],{'responseType':_0x428249(0x20d)}))[_0x428249(0x2dc)]['content-type']:_0x2c25dc=(0x0,Pi['getMIMEType'])(_0x193052[_0x428249(0x372)]),_0xfff2d7[_0x421958]['caption']=_0x193052?.[_0x428249(0x2fa)],_0xfff2d7[_0x421958][_0x428249(0x50f)]=_0x2c25dc,_0xfff2d7[_0x421958]['fileName']=_0x193052[_0x428249(0x372)],_0x193052[_0x428249(0x24d)]===_0x428249(0x1b1)&&(_0xfff2d7[_0x421958][_0x428249(0x217)]=Uint8Array[_0x428249(0x47f)]((0x0,Fe[_0x428249(0x5ec)])((0x0,j[_0x428249(0x215)])(process[_0x428249(0x6e4)](),_0x428249(0x64d)))),_0xfff2d7[_0x421958][_0x428249(0x4ee)]=!0x1),(0x0,w[_0x428249(0x6cb)])('',{[_0x421958]:{..._0xfff2d7[_0x421958]}},{'userJid':this[_0x428249(0x7f4)][_0x428249(0x78d)]});}catch(_0x38216a){let _0x29cc51=_0x428249(0x182),_0x3704a9=_0x38216a instanceof Error?_0x38216a[_0x428249(0x478)]:typeof _0x38216a=='object'?JSON[_0x428249(0x53e)](_0x38216a):_0x38216a,_0x665d53=_0x29cc51+':\x20'+_0x3704a9;throw this['logger']['error'](this[_0x428249(0x300)]+'\x20('+this[_0x428249(0x7f4)][_0x428249(0x78d)]+'):\x20'+_0x665d53),new x(_0x665d53);}}async['mediaMessage'](_0x2a8c9c){const _0x3682cb=a0_0x75ac12;let _0x16f142=await this[_0x3682cb(0x649)](_0x2a8c9c[_0x3682cb(0x607)]);return await this[_0x3682cb(0x6c5)](_0x2a8c9c[_0x3682cb(0x3b8)],{..._0x16f142[_0x3682cb(0x478)]},_0x2a8c9c?.[_0x3682cb(0x6f0)]);}async[a0_0x75ac12(0x254)](_0x4a68a6,_0x4fc22){const _0x3b0269=a0_0x75ac12;try{this[_0x3b0269(0x224)][_0x3b0269(0x195)](this['instanceName']+'\x20('+this[_0x3b0269(0x7f4)][_0x3b0269(0x78d)]+'):Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0xf3a737,_0x4a869c=_0x4fc22+'-'+new Date()[_0x3b0269(0x353)]();this['logger'][_0x3b0269(0x195)](this[_0x3b0269(0x300)]+'\x20('+this[_0x3b0269(0x7f4)][_0x3b0269(0x78d)]+_0x3b0269(0x772)+_0x4a869c);let _0x3ae1af=''+(0x0,j[_0x3b0269(0x215)])(this[_0x3b0269(0x450)],_0x4a869c+_0x3b0269(0x77f));if(this[_0x3b0269(0x224)][_0x3b0269(0x195)](this[_0x3b0269(0x300)]+'\x20('+this[_0x3b0269(0x7f4)]['wuid']+_0x3b0269(0x244)+_0x3ae1af),(0x0,L['isBase64'])(_0x4a68a6)){this[_0x3b0269(0x224)]['verbose'](this[_0x3b0269(0x300)]+'\x20('+this[_0x3b0269(0x7f4)][_0x3b0269(0x78d)]+_0x3b0269(0x78f));let _0x53bfe5=_0x4a68a6['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x47ef20=Buffer[_0x3b0269(0x47f)](_0x53bfe5,_0x3b0269(0x6d5));_0xf3a737=''+(0x0,j['join'])(this['storePath'],_0x3b0269(0x6d7)+_0x4a869c+'.png'),this[_0x3b0269(0x224)][_0x3b0269(0x195)](this[_0x3b0269(0x300)]+'\x20('+this['instance'][_0x3b0269(0x78d)]+'):Image\x20path:\x20'+_0xf3a737),await(0x0,Vt[_0x3b0269(0x636)])(_0x47ef20)['toFile'](_0xf3a737),this['logger'][_0x3b0269(0x195)](this['instanceName']+'\x20('+this[_0x3b0269(0x7f4)][_0x3b0269(0x78d)]+_0x3b0269(0x80a));}else{this[_0x3b0269(0x224)][_0x3b0269(0x195)](this[_0x3b0269(0x300)]+'\x20('+this[_0x3b0269(0x7f4)][_0x3b0269(0x78d)]+_0x3b0269(0x3b0));let _0x448c63=new Date()[_0x3b0269(0x353)](),_0x4911f4=_0x4a68a6+_0x3b0269(0x3f5)+_0x448c63;this[_0x3b0269(0x224)]['verbose'](this[_0x3b0269(0x300)]+'\x20('+this[_0x3b0269(0x7f4)][_0x3b0269(0x78d)]+_0x3b0269(0x617)+_0x4911f4);let _0x2f0aef=await te[_0x3b0269(0x636)][_0x3b0269(0x407)](_0x4911f4,{'responseType':_0x3b0269(0x20d)});this[_0x3b0269(0x224)][_0x3b0269(0x195)](this[_0x3b0269(0x300)]+'\x20('+this[_0x3b0269(0x7f4)][_0x3b0269(0x78d)]+_0x3b0269(0x331));let _0x32896b=Buffer[_0x3b0269(0x47f)](_0x2f0aef[_0x3b0269(0x3d8)],_0x3b0269(0x457));_0xf3a737=''+(0x0,j[_0x3b0269(0x215)])(this[_0x3b0269(0x450)],_0x3b0269(0x6d7)+_0x4a869c+_0x3b0269(0x75b)),this[_0x3b0269(0x224)][_0x3b0269(0x195)](this['instanceName']+'\x20('+this[_0x3b0269(0x7f4)][_0x3b0269(0x78d)]+_0x3b0269(0x2f0)+_0xf3a737),await(0x0,Vt[_0x3b0269(0x636)])(_0x32896b)[_0x3b0269(0x61e)](_0xf3a737),this[_0x3b0269(0x224)]['verbose'](this['instanceName']+'\x20('+this[_0x3b0269(0x7f4)][_0x3b0269(0x78d)]+'):Image\x20created');}return await(0x0,Vt[_0x3b0269(0x636)])(_0xf3a737)[_0x3b0269(0x27d)]()['toFile'](_0x3ae1af),this[_0x3b0269(0x224)][_0x3b0269(0x195)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3b0269(0x347)),F[_0x3b0269(0x743)](_0xf3a737),this['logger'][_0x3b0269(0x195)](this['instanceName']+'\x20('+this[_0x3b0269(0x7f4)][_0x3b0269(0x78d)]+_0x3b0269(0x4ff)),_0x3ae1af;}catch(_0xde6901){let _0x5e5242=_0x3b0269(0x652),_0x316104=_0xde6901 instanceof Error?_0xde6901[_0x3b0269(0x478)]:typeof _0xde6901==_0x3b0269(0x307)?JSON[_0x3b0269(0x53e)](_0xde6901):_0xde6901,_0x133939=_0x5e5242+':\x20'+_0x316104;this[_0x3b0269(0x224)][_0x3b0269(0x15c)](this[_0x3b0269(0x300)]+'\x20('+this[_0x3b0269(0x7f4)][_0x3b0269(0x78d)]+_0x3b0269(0x3d3)+_0x133939);}}async[a0_0x75ac12(0x134)](_0x5a5f82){const _0x36c61c=a0_0x75ac12;let _0x5852d0=await this['convertToWebP'](_0x5a5f82[_0x36c61c(0x656)]['image'],_0x5a5f82[_0x36c61c(0x3b8)]),_0x293b3e=await this['sendMessageWithTyping'](_0x5a5f82['number'],{'sticker':{'url':_0x5852d0}},_0x5a5f82?.[_0x36c61c(0x6f0)]);return F[_0x36c61c(0x743)](_0x5852d0),this[_0x36c61c(0x224)][_0x36c61c(0x195)](this['instanceName']+'\x20('+this['instance']['wuid']+'):Converted\x20image\x20deleted'),_0x293b3e;}async['audioWhatsapp'](_0x57d4b2){const _0x2efaa4=a0_0x75ac12;if(this[_0x2efaa4(0x224)][_0x2efaa4(0x195)](this[_0x2efaa4(0x300)]+'\x20('+this['instance'][_0x2efaa4(0x78d)]+_0x2efaa4(0x1ee)),!_0x57d4b2[_0x2efaa4(0x6f0)]?.[_0x2efaa4(0x448)]&&_0x57d4b2['options']?.[_0x2efaa4(0x448)]!==!0x1&&(_0x57d4b2[_0x2efaa4(0x6f0)]['encoding']=!0x0),_0x57d4b2[_0x2efaa4(0x6f0)]?.[_0x2efaa4(0x448)]){let _0x1ebb99=await this['convertaudio'](_0x57d4b2[_0x2efaa4(0x639)][_0x2efaa4(0x3c4)]);if(typeof _0x1ebb99==_0x2efaa4(0x392)){let _0x4acf33=F[_0x2efaa4(0x5ec)](_0x1ebb99)['toString']('base64');return this[_0x2efaa4(0x6c5)](_0x57d4b2['number'],{'audio':Buffer[_0x2efaa4(0x47f)](_0x4acf33,_0x2efaa4(0x6d5)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x2efaa4(0x42f),'delay':_0x57d4b2?.[_0x2efaa4(0x6f0)]?.[_0x2efaa4(0x561)]});}else throw new x(_0x1ebb99);}return await this[_0x2efaa4(0x6c5)](_0x57d4b2['number'],{'audio':(0x0,L['isURL'])(_0x57d4b2[_0x2efaa4(0x639)][_0x2efaa4(0x3c4)])?{'url':_0x57d4b2[_0x2efaa4(0x639)]['audio']}:Buffer['from'](_0x57d4b2[_0x2efaa4(0x639)][_0x2efaa4(0x3c4)],'base64'),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x2efaa4(0x42f),'delay':_0x57d4b2?.['options']?.[_0x2efaa4(0x561)]});}async[a0_0x75ac12(0x70e)](_0x1412a7){const _0x4026e4=a0_0x75ac12;this[_0x4026e4(0x224)]['verbose'](this[_0x4026e4(0x300)]+'\x20('+this['instance'][_0x4026e4(0x78d)]+_0x4026e4(0x538));let _0x52b882=(0x0,L[_0x4026e4(0x520)])(_0x1412a7)?(0x0,Gt[_0x4026e4(0x5dd)])(_0x4026e4(0x631))[_0x4026e4(0x829)](_0x1412a7)[_0x4026e4(0x40e)]('hex'):(0x0,Gt[_0x4026e4(0x5dd)])('sha256')['update'](_0x1412a7)[_0x4026e4(0x40e)](_0x4026e4(0x698)),_0x86827b=''+(0x0,j[_0x4026e4(0x215)])(this[_0x4026e4(0x450)],_0x52b882+_0x4026e4(0x71b));if(F[_0x4026e4(0x560)](_0x86827b))return this['logger'][_0x4026e4(0x195)](this[_0x4026e4(0x300)]+'\x20('+this['instance'][_0x4026e4(0x78d)]+_0x4026e4(0x689)),_0x86827b;let _0x526fe7=''+(0x0,j[_0x4026e4(0x215)])(this[_0x4026e4(0x450)],_0x4026e4(0x6d7)+(0x0,X['v4'])()+'.mp3');if((0x0,L[_0x4026e4(0x520)])(_0x1412a7)){let _0x2ec5c9=new Date()[_0x4026e4(0x353)](),_0x5a4757=_0x1412a7+_0x4026e4(0x3f5)+_0x2ec5c9,_0x1e9fb5=await te[_0x4026e4(0x636)][_0x4026e4(0x407)](_0x5a4757,{'responseType':_0x4026e4(0x20d)});F[_0x4026e4(0x3c9)](_0x526fe7,_0x1e9fb5[_0x4026e4(0x3d8)]);}else{let _0x564909=Buffer[_0x4026e4(0x47f)](_0x1412a7,_0x4026e4(0x6d5));F[_0x4026e4(0x3c9)](_0x526fe7,_0x564909);}return new Promise((_0x3db5be,_0x527f56)=>{const _0x1d79fb=_0x4026e4;(0x0,Ue[_0x1d79fb(0x4c2)])(Ps[_0x1d79fb(0x636)]['path']+_0x1d79fb(0x73d)+_0x526fe7+_0x1d79fb(0x52d)+_0x86827b+'\x20-y',_0x53305f=>{const _0x889c74=_0x1d79fb;if(F[_0x889c74(0x743)](_0x526fe7),_0x53305f){this['logger'][_0x889c74(0x195)](this[_0x889c74(0x300)]+'\x20('+this[_0x889c74(0x7f4)]['wuid']+_0x889c74(0x369)),_0x527f56(_0x53305f);return;}this[_0x889c74(0x224)][_0x889c74(0x195)](this[_0x889c74(0x300)]+'\x20('+this[_0x889c74(0x7f4)]['wuid']+_0x889c74(0x167)),_0x3db5be(_0x86827b);});});}async[a0_0x75ac12(0x795)](_0x5d1cde){const _0x35a9f3=a0_0x75ac12;this[_0x35a9f3(0x224)][_0x35a9f3(0x195)](this[_0x35a9f3(0x300)]+'\x20('+this['instance'][_0x35a9f3(0x78d)]+'):Processing\x20audio');let _0x15c81d=(0x0,Gt[_0x35a9f3(0x5dd)])(_0x35a9f3(0x631))[_0x35a9f3(0x829)](_0x5d1cde)[_0x35a9f3(0x40e)](_0x35a9f3(0x698)),_0x6b6b92=''+(0x0,j[_0x35a9f3(0x215)])(this['storePath'],_0x15c81d+_0x35a9f3(0x39e));if(F[_0x35a9f3(0x560)](_0x6b6b92))return this[_0x35a9f3(0x224)][_0x35a9f3(0x195)](this[_0x35a9f3(0x300)]+'\x20('+this['instance']['wuid']+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),j[_0x35a9f3(0x636)]['basename'](_0x6b6b92);let _0x4d4dd3=''+(0x0,j[_0x35a9f3(0x215)])(this[_0x35a9f3(0x450)],_0x35a9f3(0x6d7)+_0x15c81d+_0x35a9f3(0x71b));if((0x0,L['isURL'])(_0x5d1cde)){let _0x25e845=new Date()[_0x35a9f3(0x353)](),_0x322fa2=_0x5d1cde+_0x35a9f3(0x3f5)+_0x25e845,_0x87d5f9=await te[_0x35a9f3(0x636)]['get'](_0x322fa2,{'responseType':'arraybuffer'});F[_0x35a9f3(0x3c9)](_0x4d4dd3,_0x87d5f9[_0x35a9f3(0x3d8)]);}else{let _0x250889=Buffer[_0x35a9f3(0x47f)](_0x5d1cde,'base64');F[_0x35a9f3(0x3c9)](_0x4d4dd3,_0x250889);}return new Promise((_0x22c6a9,_0x1a01c0)=>{const _0x3c23f8=_0x35a9f3;(0x0,Ue[_0x3c23f8(0x4c2)])(Ps['default'][_0x3c23f8(0x1c0)]+_0x3c23f8(0x73d)+_0x4d4dd3+_0x3c23f8(0x496)+_0x6b6b92+_0x3c23f8(0x7d6),_0x1e0689=>{const _0x49a463=_0x3c23f8;if(F['unlinkSync'](_0x4d4dd3),_0x1e0689){this[_0x49a463(0x224)][_0x49a463(0x195)](this[_0x49a463(0x300)]+'\x20('+this['instance'][_0x49a463(0x78d)]+_0x49a463(0x369)),_0x1a01c0(_0x1e0689);return;}this[_0x49a463(0x224)][_0x49a463(0x195)](this['instanceName']+'\x20('+this[_0x49a463(0x7f4)][_0x49a463(0x78d)]+_0x49a463(0x167)),_0x22c6a9(j[_0x49a463(0x636)][_0x49a463(0x5c1)](_0x6b6b92));});});}async[a0_0x75ac12(0x6ee)](_0x3a692d){const _0x3e098c=a0_0x75ac12;let _0x1d2444={},_0x55ff4b=_0x3e098c(0x817);if(_0x3a692d[_0x3e098c(0x6ee)]?.[_0x3e098c(0x607)]){_0x55ff4b=_0x3a692d[_0x3e098c(0x6ee)][_0x3e098c(0x607)]?.[_0x3e098c(0x24d)][_0x3e098c(0x2ed)]()??_0x3e098c(0x817),_0x1d2444[_0x3e098c(0x40a)]=_0x55ff4b[_0x3e098c(0x56d)]()+_0x3e098c(0x497);let _0x4b3599=await this[_0x3e098c(0x649)](_0x3a692d[_0x3e098c(0x6ee)][_0x3e098c(0x607)]);_0x1d2444[_0x3e098c(0x478)]=_0x4b3599[_0x3e098c(0x478)][_0x1d2444[_0x3e098c(0x40a)]],_0x1d2444['contentText']='*'+_0x3a692d[_0x3e098c(0x6ee)]['title']+_0x3e098c(0x187)+_0x3a692d[_0x3e098c(0x6ee)]['description'];}let _0x5b2314={'text':_0x3a692d[_0x3e098c(0x6ee)][_0x3e098c(0x6f7)]['map'](_0x433630=>_0x433630[_0x3e098c(0x446)]),'ids':_0x3a692d['buttonMessage'][_0x3e098c(0x6f7)][_0x3e098c(0x506)](_0x2745e5=>_0x2745e5[_0x3e098c(0x6cd)])};if(!(0x0,L['arrayUnique'])(_0x5b2314[_0x3e098c(0x105)])||!(0x0,L[_0x3e098c(0x664)])(_0x5b2314[_0x3e098c(0x68c)]))throw new m('Button\x20texts\x20cannot\x20be\x20repeated',_0x3e098c(0x2c7));return await this[_0x3e098c(0x6c5)](_0x3a692d[_0x3e098c(0x3b8)],{'buttonsMessage':{'text':_0x1d2444?.['mediaKey']?void 0x0:_0x3a692d['buttonMessage'][_0x3e098c(0x440)],'contentText':_0x1d2444?.[_0x3e098c(0x531)]??_0x3a692d[_0x3e098c(0x6ee)][_0x3e098c(0x38d)],'footerText':_0x3a692d['buttonMessage']?.['footerText'],'buttons':_0x3a692d['buttonMessage']['buttons'][_0x3e098c(0x506)](_0x3afad8=>({'buttonText':{'displayText':_0x3afad8[_0x3e098c(0x446)]},'buttonId':_0x3afad8[_0x3e098c(0x6cd)],'type':0x1})),'headerType':w[_0x3e098c(0x4d0)][_0x3e098c(0x497)]['ButtonsMessage'][_0x3e098c(0x411)][_0x55ff4b],[_0x1d2444?.[_0x3e098c(0x40a)]]:_0x1d2444?.['message']}},_0x3a692d?.[_0x3e098c(0x6f0)]);}async[a0_0x75ac12(0x6d2)](_0x2a9b97){const _0x12a64e=a0_0x75ac12;return await this[_0x12a64e(0x6c5)](_0x2a9b97['number'],{'locationMessage':{'degreesLatitude':_0x2a9b97[_0x12a64e(0x6d2)][_0x12a64e(0x124)],'degreesLongitude':_0x2a9b97['locationMessage'][_0x12a64e(0x534)],'name':_0x2a9b97['locationMessage']?.['name'],'address':_0x2a9b97['locationMessage']?.[_0x12a64e(0x7b9)]}},_0x2a9b97?.[_0x12a64e(0x6f0)]);}async[a0_0x75ac12(0x3dc)](_0x4b8967){const _0x23daf7=a0_0x75ac12;let _0x475fa9={},_0x1d1348=async _0x409f6b=>{const _0x1ecb80=a0_0x2e53;let _0x4c7ad6='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x409f6b['fullName']+_0x1ecb80(0x4db)+_0x409f6b[_0x1ecb80(0x637)]+'\x0a';_0x409f6b[_0x1ecb80(0x73a)]&&(_0x4c7ad6+=_0x1ecb80(0x4ec)+_0x409f6b[_0x1ecb80(0x73a)]+';\x0a'),_0x409f6b[_0x1ecb80(0x748)]&&(_0x4c7ad6+=_0x1ecb80(0x7e0)+_0x409f6b[_0x1ecb80(0x748)]+'\x0a'),_0x409f6b[_0x1ecb80(0x547)]&&(_0x4c7ad6+=_0x1ecb80(0x317)+_0x409f6b['url']+'\x0a');let _0x424335='',_0x28f0af=0x1;if(_0x409f6b[_0x1ecb80(0x100)]){let _0x2e1108=_0x409f6b['phoneNumber'][_0x1ecb80(0x170)]('|');for(let _0x5d2972 of _0x2e1108){let _0x1ea2aa=await this[_0x1ecb80(0x647)]({'numbers':[_0x5d2972]}),_0x308577=(_0x1ea2aa['length']>0x0?_0x1ea2aa[0x0][_0x1ecb80(0x797)]:this[_0x1ecb80(0x591)](_0x5d2972))['replace']('@s.whatsapp.net','');_0x424335+=_0x1ecb80(0x6b3)+_0x28f0af+_0x1ecb80(0xfb)+_0x308577+':'+_0x5d2972+_0x1ecb80(0x6b0)+_0x28f0af+'.X-ABLabel:Celular\x0a',_0x28f0af++;}}return _0x4c7ad6+=_0x424335+_0x1ecb80(0x616),_0x4c7ad6;};return _0x4b8967['contactMessage'][_0x23daf7(0x624)]===0x1?_0x475fa9['contactMessage']={'displayName':_0x4b8967[_0x23daf7(0x3dc)][0x0][_0x23daf7(0x637)],'vcard':await _0x1d1348(_0x4b8967[_0x23daf7(0x3dc)][0x0])}:_0x475fa9[_0x23daf7(0x6a0)]={'displayName':_0x4b8967['contactMessage'][_0x23daf7(0x624)]+'\x20contacts','contacts':await Promise[_0x23daf7(0x684)](_0x4b8967[_0x23daf7(0x3dc)]['map'](async _0x18e217=>({'displayName':_0x18e217['fullName'],'vcard':await _0x1d1348(_0x18e217)})))},await this[_0x23daf7(0x6c5)](_0x4b8967[_0x23daf7(0x3b8)],{..._0x475fa9},_0x4b8967?.[_0x23daf7(0x6f0)]);}async['reactionMessage'](_0x438041){const _0x16634a=a0_0x75ac12;return await this[_0x16634a(0x6c5)](_0x438041[_0x16634a(0x218)][_0x16634a(0x2c4)]['remoteJid'],{'reactionMessage':{'key':_0x438041[_0x16634a(0x218)][_0x16634a(0x2c4)],'text':_0x438041[_0x16634a(0x218)]['reaction']}});}async[a0_0x75ac12(0x647)](_0x44835a){const _0x57e1d2=a0_0x75ac12;let _0x31d15b=[];for await(let _0x2a5937 of _0x44835a[_0x57e1d2(0x555)]){let _0x12538e=this[_0x57e1d2(0x591)](_0x2a5937),_0x2ddcb7=!0x1;try{if((0x0,w[_0x57e1d2(0x42d)])(_0x12538e)){let _0x43cd0b=(await this[_0x57e1d2(0x76b)][_0x57e1d2(0x4f9)][_0x57e1d2(0x4a6)]({'where':{'_id':_0x12538e}},this[_0x57e1d2(0x7f4)]['wuid']))[_0x57e1d2(0x3cb)];_0x43cd0b?(_0x2ddcb7=!0x0,_0x31d15b[_0x57e1d2(0x6e9)](new pe(_0x43cd0b['id'],_0x2ddcb7,_0x43cd0b?.[_0x57e1d2(0xf0)]))):(_0x43cd0b=await this[_0x57e1d2(0x22e)]({'groupJid':_0x12538e},'inner'),_0x31d15b['push'](new pe(_0x43cd0b['id'],!!_0x43cd0b?.['id'],_0x43cd0b?.['subject'])));}else{if(_0x12538e['includes'](_0x57e1d2(0x277)))_0x31d15b['push'](new pe(_0x12538e,!0x0));else{let _0x41c06d=(await this[_0x57e1d2(0x62e)][_0x57e1d2(0x4df)](_0x12538e))[0x0];_0x31d15b[_0x57e1d2(0x6e9)](new pe(_0x41c06d[_0x57e1d2(0x797)],_0x41c06d[_0x57e1d2(0x220)]));}}}catch{(0x0,w[_0x57e1d2(0x42d)])(_0x12538e)||await this[_0x57e1d2(0x731)](_0x12538e),_0x31d15b[_0x57e1d2(0x6e9)](new pe(_0x2a5937,!0x1));}}return _0x31d15b;}async[a0_0x75ac12(0x731)](_0x2ecf44){const _0x1b52d0=a0_0x75ac12;try{await this[_0x1b52d0(0x76b)][_0x1b52d0(0x4f9)][_0x1b52d0(0x4a6)]({'where':{'_id':_0x2ecf44,'imported':!0x0}},this['instance'][_0x1b52d0(0x78d)])&&(await this['repository'][_0x1b52d0(0x4f9)]['deleteChat'](_0x2ecf44,this[_0x1b52d0(0x7f4)][_0x1b52d0(0x78d)]),this[_0x1b52d0(0x224)]['info'](_0x1b52d0(0x5d9)+_0x2ecf44+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.'));}catch(_0x5c6676){let _0x47c9cd=_0x1b52d0(0x595),_0x5ddd32=_0x5c6676 instanceof Error?_0x5c6676['message']:typeof _0x5c6676==_0x1b52d0(0x307)?JSON[_0x1b52d0(0x53e)](_0x5c6676):_0x5c6676,_0x39ba4e=_0x47c9cd+':\x20'+_0x5ddd32;this[_0x1b52d0(0x224)][_0x1b52d0(0x15c)](this[_0x1b52d0(0x300)]+'\x20('+this['instance'][_0x1b52d0(0x78d)]+'):\x20'+_0x39ba4e);}}async[a0_0x75ac12(0x3a1)](_0x471894){const _0x2a0ba3=a0_0x75ac12;try{let _0x1b3804=_0x471894[_0x2a0ba3(0x201)][_0x2a0ba3(0x82d)](_0x290c6c=>(0x0,w[_0x2a0ba3(0x42d)])(_0x290c6c[_0x2a0ba3(0x323)])||(0x0,w[_0x2a0ba3(0x101)])(_0x290c6c[_0x2a0ba3(0x323)]))['map'](_0x89ab8=>({'remoteJid':_0x89ab8[_0x2a0ba3(0x323)],'fromMe':_0x89ab8[_0x2a0ba3(0x196)],'id':_0x89ab8['id']}));await this[_0x2a0ba3(0x62e)][_0x2a0ba3(0x201)](_0x1b3804);let _0x3d5ac2=_0x1b3804['map'](_0x2d95fe=>this[_0x2a0ba3(0x26b)](_0x2d95fe,{'status':_0x2a0ba3(0x57c),'owner':this[_0x2a0ba3(0x7f4)][_0x2a0ba3(0x78d)]})),_0x23f26d=_0x1b3804[_0x2a0ba3(0x506)](_0x126b5a=>this[_0x2a0ba3(0x76b)][_0x2a0ba3(0x4f9)][_0x2a0ba3(0x5b6)]({'where':{'_id':_0x126b5a[_0x2a0ba3(0x323)]}},{'unreadcount':0x0},this[_0x2a0ba3(0x7f4)]['wuid'])),[_0x442231,_0x18b1b2]=await Promise[_0x2a0ba3(0x684)]([Promise['all'](_0x3d5ac2),Promise[_0x2a0ba3(0x684)](_0x23f26d)]);return _0x18b1b2[_0x2a0ba3(0x82d)](_0x553c35=>_0x553c35!==null)[_0x2a0ba3(0x839)](_0x556de5=>{const _0x3d1569=_0x2a0ba3;q(this[_0x3d1569(0x300)],_0x3d1569(0x184),{'chat':_0x556de5});}),{'message':_0x2a0ba3(0x1b9),'read':_0x2a0ba3(0x30f)};}catch(_0x433a24){let _0xb39dca=_0x2a0ba3(0x1f5),_0x1567c7=_0x433a24 instanceof Error?_0x433a24[_0x2a0ba3(0x478)]:typeof _0x433a24==_0x2a0ba3(0x307)?JSON[_0x2a0ba3(0x53e)](_0x433a24):_0x433a24,_0x288b6c=_0xb39dca+':\x20'+_0x1567c7;throw this[_0x2a0ba3(0x224)][_0x2a0ba3(0x15c)](this[_0x2a0ba3(0x300)]+'\x20('+this[_0x2a0ba3(0x7f4)][_0x2a0ba3(0x78d)]+'):\x20'+_0x288b6c),new x(_0x288b6c);}}async[a0_0x75ac12(0x43a)](_0x4ed4ab){const _0x530b1c=a0_0x75ac12;let _0x246e56={'where':{'key':{'remoteJid':_0x4ed4ab}},'limit':0x1},_0xd2300f=await this[_0x530b1c(0x35b)](_0x246e56);return _0xd2300f||(this[_0x530b1c(0x224)][_0x530b1c(0x15c)](_0x530b1c(0x28f)+_0x4ed4ab),null);}async['archiveChat'](_0x23f9c2){const _0x520305=a0_0x75ac12;this[_0x520305(0x224)][_0x520305(0x195)](this['instanceName']+'\x20('+this['instance'][_0x520305(0x78d)]+'):Archiving\x20chat');try{let _0x59690=_0x23f9c2[_0x520305(0x81f)],_0x4cfb7b=_0x23f9c2['chat'];if(!_0x59690&&_0x4cfb7b?_0x59690=await this[_0x520305(0x43a)](_0x4cfb7b):(_0x59690=_0x23f9c2[_0x520305(0x81f)],_0x59690[_0x520305(0x378)]=_0x59690?.[_0x520305(0x378)]??Date['now'](),_0x4cfb7b=_0x59690?.[_0x520305(0x2c4)]?.[_0x520305(0x323)]),!_0x59690||Object[_0x520305(0x58e)](_0x59690)['length']===0x0)throw new J(_0x520305(0x61d));this[_0x520305(0x224)][_0x520305(0x195)](this[_0x520305(0x300)]+'\x20('+this[_0x520305(0x7f4)][_0x520305(0x78d)]+_0x520305(0x3c3)+_0x4cfb7b);try{await this['client'][_0x520305(0x588)]({'archive':_0x23f9c2[_0x520305(0x4a7)],'lastMessages':[_0x59690]},this['createJid'](_0x4cfb7b));}catch(_0x3aeee2){let _0xc31a1c=_0x520305(0x691)+_0x4cfb7b,_0x31cb15=_0x3aeee2 instanceof Error?_0x3aeee2['message']:typeof _0x3aeee2==_0x520305(0x307)?JSON[_0x520305(0x53e)](_0x3aeee2):_0x3aeee2,_0xc3fd6d=_0xc31a1c+':\x20'+_0x31cb15;this['logger'][_0x520305(0x15c)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x520305(0x3d3)+_0xc3fd6d);}this[_0x520305(0x224)]['verbose'](this[_0x520305(0x300)]+'\x20('+this[_0x520305(0x7f4)][_0x520305(0x78d)]+_0x520305(0x386)+_0x4cfb7b);let _0x234723=await this[_0x520305(0x76b)][_0x520305(0x4f9)][_0x520305(0x5b6)]({'where':{'_id':_0x59690?.[_0x520305(0x2c4)]?.[_0x520305(0x323)]}},{'archived':_0x23f9c2[_0x520305(0x4a7)]},this[_0x520305(0x7f4)][_0x520305(0x78d)]);return _0x234723?(this[_0x520305(0x224)][_0x520305(0x195)](this['instanceName']+'\x20('+this[_0x520305(0x7f4)][_0x520305(0x78d)]+'):Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x520305(0x53e)](_0x234723)),q(this[_0x520305(0x300)],'chats',{'chat':_0x234723})):this['logger'][_0x520305(0x15c)](this['instanceName']+'\x20('+this['instance'][_0x520305(0x78d)]+_0x520305(0x549)+_0x4cfb7b),{'chatId':_0x4cfb7b,'archived':_0x23f9c2[_0x520305(0x4a7)]};}catch(_0x10b528){let _0xa3eebb='Erro\x20ao\x20arquivar\x20chat',_0x3e8401=_0x10b528 instanceof Error?_0x10b528['message']:typeof _0x10b528==_0x520305(0x307)?JSON[_0x520305(0x53e)](_0x10b528):_0x10b528,_0x235185=_0xa3eebb+':\x20'+_0x3e8401;throw this[_0x520305(0x224)][_0x520305(0x15c)](this[_0x520305(0x300)]+'\x20('+this[_0x520305(0x7f4)][_0x520305(0x78d)]+_0x520305(0x3d3)+_0x235185),new x(_0x235185);}}async[a0_0x75ac12(0x1cf)](_0x4f1002){const _0x385a2c=a0_0x75ac12;this['logger'][_0x385a2c(0x195)](this[_0x385a2c(0x300)]+'\x20('+this[_0x385a2c(0x7f4)][_0x385a2c(0x78d)]+'):Delete\x20chat');try{let _0xb0e3b9=await this[_0x385a2c(0x43a)](_0x4f1002);if(!_0xb0e3b9||Object[_0x385a2c(0x58e)](_0xb0e3b9)[_0x385a2c(0x624)]===0x0)throw new J(_0x385a2c(0x61d));let _0x5c38b4=_0xb0e3b9[0x0];this[_0x385a2c(0x224)][_0x385a2c(0x195)](this['instanceName']+'\x20('+this[_0x385a2c(0x7f4)][_0x385a2c(0x78d)]+_0x385a2c(0x53c)+_0x4f1002);try{await this[_0x385a2c(0x62e)][_0x385a2c(0x588)]({'delete':!0x0,'lastMessages':[{'key':_0x5c38b4['key'],'messageTimestamp':_0x5c38b4[_0x385a2c(0x378)]}]},this['createJid'](_0x4f1002));}catch(_0x3cad30){this[_0x385a2c(0x224)][_0x385a2c(0x15c)](_0x385a2c(0x691)+_0x4f1002+':\x20'+_0x3cad30[_0x385a2c(0x7ce)]());}this[_0x385a2c(0x224)][_0x385a2c(0x195)](this[_0x385a2c(0x300)]+'\x20('+this[_0x385a2c(0x7f4)][_0x385a2c(0x78d)]+_0x385a2c(0x386)+_0x4f1002);return;}catch(_0x2ee4d8){throw this[_0x385a2c(0x224)]['error'](this[_0x385a2c(0x300)]+'\x20('+this['instance']['wuid']+_0x385a2c(0x1c7)+_0x2ee4d8[_0x385a2c(0x7ce)]()),new x({'archived':!0x1,'message':[_0x385a2c(0x1e6),_0x2ee4d8['toString']()]});}}async['deleteMessage'](_0x2f6213){const _0x49d8be=a0_0x75ac12;try{let _0x44b0cc=await this[_0x49d8be(0x62e)][_0x49d8be(0x344)](_0x2f6213[_0x49d8be(0x323)],{'delete':_0x2f6213});try{let _0x520731=await this[_0x49d8be(0x26b)](_0x2f6213,{'status':_0x49d8be(0x1a8),'owner':this[_0x49d8be(0x7f4)][_0x49d8be(0x78d)]});this['logger'][_0x49d8be(0x195)](this[_0x49d8be(0x300)]+'\x20('+this[_0x49d8be(0x7f4)][_0x49d8be(0x78d)]+_0x49d8be(0x4a5)+_0x520731);}catch(_0x424f78){this['logger'][_0x49d8be(0x15c)](_0x49d8be(0x7d0)+_0x424f78);}return _0x44b0cc;}catch(_0x2a0422){throw new x(_0x49d8be(0x4f8),_0x2a0422?.[_0x49d8be(0x7ce)]());}}async[a0_0x75ac12(0x4fa)](_0x4c5f33){const _0xdef9fe=a0_0x75ac12;try{let _0x46ed14=_0x4c5f33?.[_0xdef9fe(0x478)]?_0x4c5f33:await this[_0xdef9fe(0x4b6)](_0x4c5f33[_0xdef9fe(0x2c4)],!0x0);for(let _0x57c0fa of Ra)_0x46ed14[_0xdef9fe(0x478)][_0x57c0fa]&&(_0x46ed14['message']=_0x46ed14[_0xdef9fe(0x478)][_0x57c0fa][_0xdef9fe(0x478)]);let _0x1336b5,_0x2eb315;for(let _0x4ca3a5 of $a)if(_0x1336b5=_0x46ed14[_0xdef9fe(0x478)][_0x4ca3a5],_0x1336b5){_0x2eb315=_0x4ca3a5;break;}if(!_0x1336b5)throw _0xdef9fe(0x14a);typeof _0x1336b5[_0xdef9fe(0x40a)]==_0xdef9fe(0x307)&&(_0x46ed14[_0xdef9fe(0x478)]=JSON['parse'](JSON['stringify'](_0x46ed14['message'])));let _0x26f9bd=await(0x0,w[_0xdef9fe(0x71a)])({'key':_0x46ed14?.[_0xdef9fe(0x2c4)],'message':_0x46ed14?.[_0xdef9fe(0x478)]},_0xdef9fe(0x404),{},{'logger':(0x0,qt[_0xdef9fe(0x636)])({'level':_0xdef9fe(0x522)}),'reuploadRequest':this[_0xdef9fe(0x62e)][_0xdef9fe(0x5ab)]});if(!(_0x26f9bd instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x3c5d77=this[_0xdef9fe(0x846)]['get'](_0xdef9fe(0x6f3)),_0x37d929,_0x297314;if(_0x1336b5[_0xdef9fe(0x372)])_0x37d929=_0x1336b5['fileName'];else{let _0x157c76=_0x1336b5['mimetype']?.['match'](/\/(\w+)/),_0x1aee1e=_0x157c76?_0x157c76[0x1]:null;if(!_0x1aee1e)throw new Error(_0xdef9fe(0x75a));_0x37d929=(0x0,X['v4'])()+'.'+_0x1aee1e;}_0x2eb315===_0xdef9fe(0x639)?_0x297314='/media/'+await this[_0xdef9fe(0x795)](_0x26f9bd[_0xdef9fe(0x7ce)](_0xdef9fe(0x6d5))):(await this[_0xdef9fe(0x1a4)](_0x26f9bd,_0x37d929),_0x297314=_0xdef9fe(0x2d9)+_0x37d929);let _0x4cb79b=this['configService']['get'](_0xdef9fe(0x3fc))[_0xdef9fe(0x293)];if(!_0x4cb79b){let _0x2d544c=this[_0xdef9fe(0x846)][_0xdef9fe(0x407)]('SSL_CONF');_0x4cb79b='https://'+(_0x2d544c&&_0x2d544c[_0xdef9fe(0x41c)][_0xdef9fe(0x170)]('/')[0x4]);}_0x297314=''+_0x4cb79b+_0x297314;let _0x1096a4=0xc*0x3c*0x3c*0x3e8,_0x20923b={'where':{'_id':_0x46ed14[_0xdef9fe(0x2c4)]['id']}},_0x3d1f72={'message_normalized.fileUrl':_0x297314,'message_normalized.expires_fileUrl':Date[_0xdef9fe(0x505)]()+_0x1096a4};try{let _0x4b573f=await this[_0xdef9fe(0x76b)][_0xdef9fe(0x478)][_0xdef9fe(0x829)](_0x20923b,_0x3d1f72,this['instance']['wuid']);_0x4b573f&&q(this[_0xdef9fe(0x300)],_0xdef9fe(0x16d),{'message':_0x4b573f});}catch(_0x53194b){let _0x1bb6bc='Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage',_0x19b3df=_0x53194b instanceof Error?_0x53194b[_0xdef9fe(0x478)]:typeof _0x53194b==_0xdef9fe(0x307)?JSON['stringify'](_0x53194b):_0x53194b,_0x3da2de=_0x1bb6bc+':\x20'+_0x19b3df;this[_0xdef9fe(0x224)]['error'](this['instanceName']+'\x20('+this[_0xdef9fe(0x7f4)]['wuid']+_0xdef9fe(0x3d3)+_0x3da2de);}return{'mediaType':_0x2eb315,'fileName':_0x1336b5[_0xdef9fe(0x372)],'caption':_0x1336b5[_0xdef9fe(0x2fa)],'size':{'fileLength':_0x1336b5[_0xdef9fe(0x786)],'height':_0x1336b5[_0xdef9fe(0x5fa)],'width':_0x1336b5[_0xdef9fe(0x28e)]},'mimetype':_0x1336b5[_0xdef9fe(0x50f)],'base64':_0x26f9bd[_0xdef9fe(0x7ce)]('base64'),'fileUrl':_0x297314,'expires_fileUrl':Date[_0xdef9fe(0x505)]()+_0x1096a4};}catch(_0x5948b1){let _0x3dd7dd=_0xdef9fe(0x41a),_0x1ee188=_0x5948b1 instanceof Error?_0x5948b1[_0xdef9fe(0x478)]:typeof _0x5948b1==_0xdef9fe(0x307)?JSON[_0xdef9fe(0x53e)](_0x5948b1):_0x5948b1,_0x325439=_0x3dd7dd+':\x20'+_0x1ee188;throw this[_0xdef9fe(0x224)][_0xdef9fe(0x15c)](this[_0xdef9fe(0x300)]+'\x20('+this['instance'][_0xdef9fe(0x78d)]+_0xdef9fe(0x3d3)+_0x325439),new m(_0x325439);}}async[a0_0x75ac12(0x1a4)](_0x542ba6,_0x18f727){const _0x1ab004=a0_0x75ac12;let _0x34322e=j['default'][_0x1ab004(0x215)](__dirname,_0x1ab004(0x5c8));F['existsSync'](_0x34322e)||F['mkdirSync'](_0x34322e,{'recursive':!0x0});let _0x58fdb2=j['default'][_0x1ab004(0x215)](_0x34322e,_0x18f727);return new Promise((_0x3511a3,_0x4f9ecc)=>{const _0x5b8b0f=_0x1ab004;F[_0x5b8b0f(0x2ef)](_0x58fdb2,_0x542ba6,_0x4da566=>{const _0x297ea3=_0x5b8b0f;_0x4da566?(this['logger'][_0x297ea3(0x15c)](_0x297ea3(0x535)+(_0x4da566 instanceof Error?_0x4da566[_0x297ea3(0x478)]:JSON['stringify'](_0x4da566,null,0x2))),_0x4f9ecc(_0x4da566)):(this[_0x297ea3(0x224)][_0x297ea3(0x54b)](_0x297ea3(0x4ad)+_0x58fdb2),_0x3511a3(_0x58fdb2));});});}async[a0_0x75ac12(0x608)](_0x99391){const _0x5923c1=a0_0x75ac12;return await this[_0x5923c1(0x76b)][_0x5923c1(0x27f)][_0x5923c1(0x1c3)](_0x99391,this[_0x5923c1(0x7f4)][_0x5923c1(0x78d)]);}async[a0_0x75ac12(0x4e2)](){const _0x2a769f=a0_0x75ac12;return await this[_0x2a769f(0x76b)]['label'][_0x2a769f(0x1c3)]({'where':{}},this[_0x2a769f(0x7f4)]['wuid']);}async[a0_0x75ac12(0x35b)](_0x24dc21){const _0x42aa50=a0_0x75ac12;return await this['repository'][_0x42aa50(0x478)][_0x42aa50(0x1c3)](_0x24dc21,this['instance'][_0x42aa50(0x78d)]);}async[a0_0x75ac12(0x264)](){const _0x1d5a09=a0_0x75ac12;return this[_0x1d5a09(0x76b)][_0x1d5a09(0x4f9)]['removeUnusedChatFields'](this['instance'][_0x1d5a09(0x78d)]),this[_0x1d5a09(0x76b)][_0x1d5a09(0x4f9)]['updateMissingEtiquetas'](this[_0x1d5a09(0x7f4)][_0x1d5a09(0x78d)]),this[_0x1d5a09(0x76b)][_0x1d5a09(0x4f9)][_0x1d5a09(0x21a)](this[_0x1d5a09(0x7f4)][_0x1d5a09(0x78d)]),this[_0x1d5a09(0x76b)]['chat'][_0x1d5a09(0x31f)](this['instance'][_0x1d5a09(0x78d)]),await this[_0x1d5a09(0x76b)][_0x1d5a09(0x4f9)][_0x1d5a09(0x1c3)]({'where':{}},this[_0x1d5a09(0x7f4)]['wuid']);}async[a0_0x75ac12(0x820)](_0x39ffe4){const _0x682fad=a0_0x75ac12;try{if(!Array[_0x682fad(0x435)](_0x39ffe4)||_0x39ffe4['length']===0x0)throw new Error(_0x682fad(0x261));let _0x44f1d2=[],_0x557ee9=[];for(let _0xeefce0 of _0x39ffe4){if(_0xeefce0[_0x682fad(0x2af)])_0xeefce0[_0x682fad(0x2af)]=this[_0x682fad(0x591)](_0xeefce0['_id']);else continue;await this[_0x682fad(0x76b)]['chat']['findOne']({'where':{'_id':_0xeefce0[_0x682fad(0x2af)]}},this[_0x682fad(0x7f4)][_0x682fad(0x78d)])?_0x557ee9[_0x682fad(0x6e9)]({'_id':_0xeefce0[_0x682fad(0x2af)],'leadInfo':_0xeefce0[_0x682fad(0x7f5)],'owner':this[_0x682fad(0x7f4)]['wuid']}):_0x44f1d2['push']({'_id':_0xeefce0[_0x682fad(0x2af)],'owner':this[_0x682fad(0x7f4)]['wuid'],'leadInfo':_0xeefce0[_0x682fad(0x7f5)],'imported':!0x0});}return _0x557ee9[_0x682fad(0x624)]>0x0&&await this[_0x682fad(0x76b)][_0x682fad(0x4f9)]['updateMany'](_0x557ee9[_0x682fad(0x506)](_0x184c9f=>({'query':{'where':{'_id':_0x184c9f[_0x682fad(0x2af)],'owner':this[_0x682fad(0x7f4)][_0x682fad(0x78d)]}},'update':_0x184c9f}))),_0x44f1d2[_0x682fad(0x624)]>0x0&&await this['repository'][_0x682fad(0x4f9)][_0x682fad(0x63a)](_0x44f1d2,this[_0x682fad(0x7f4)][_0x682fad(0x78d)]),{'updated':_0x557ee9[_0x682fad(0x624)],'inserted':_0x44f1d2[_0x682fad(0x624)]};}catch(_0xd4edd0){let _0x3ef8c1=_0x682fad(0x1a3),_0x1ebc7b=_0xd4edd0 instanceof Error?_0xd4edd0[_0x682fad(0x478)]:typeof _0xd4edd0==_0x682fad(0x307)?JSON[_0x682fad(0x53e)](_0xd4edd0):_0xd4edd0,_0x2292bc=_0x3ef8c1+':\x20'+_0x1ebc7b;throw this[_0x682fad(0x224)]['error'](this[_0x682fad(0x300)]+'\x20('+this[_0x682fad(0x7f4)][_0x682fad(0x78d)]+_0x682fad(0x3d3)+_0x2292bc),new m(_0x2292bc);}}async[a0_0x75ac12(0x81a)](_0x1ff832){const _0x3918dc=a0_0x75ac12;try{if(!Array['isArray'](_0x1ff832)||_0x1ff832[_0x3918dc(0x624)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0xf24a2c=0x64,_0x2f22b4=0x0;for(let _0x1ad5ec=0x0;_0x1ad5ec<_0x1ff832[_0x3918dc(0x624)];_0x1ad5ec+=_0xf24a2c){let _0x3595c6=_0x1ff832['slice'](_0x1ad5ec,_0x1ad5ec+_0xf24a2c),{updated:_0x291105}=await this[_0x3918dc(0x381)](_0x3595c6);_0x2f22b4+=_0x291105;}return{'updated':_0x2f22b4};}catch(_0x1f698f){let _0x3a837a=_0x3918dc(0x1a3),_0x1f9c78=_0x1f698f instanceof Error?_0x1f698f['message']:typeof _0x1f698f==_0x3918dc(0x307)?JSON['stringify'](_0x1f698f):_0x1f698f,_0x5ab515=_0x3a837a+':\x20'+_0x1f9c78;throw this[_0x3918dc(0x224)][_0x3918dc(0x15c)](this['instanceName']+'\x20('+this['instance'][_0x3918dc(0x78d)]+'):\x20'+_0x5ab515),new m(_0x5ab515);}}async[a0_0x75ac12(0x381)](_0x7be4f2){const _0x547317=a0_0x75ac12;try{let _0x34dd86=await this[_0x547317(0x76b)]['label']['find']({'where':{}},this[_0x547317(0x7f4)]['wuid']),_0x45f282=new Set(_0x34dd86[_0x547317(0x506)](_0xa6f5c2=>_0xa6f5c2[_0x547317(0x2af)])),_0x5cafc0=[],_0x19aae4=[];for(let _0x1381bb of _0x7be4f2){if(!_0x1381bb[_0x547317(0x2af)])continue;_0x1381bb['_id']=this['createJid'](_0x1381bb[_0x547317(0x2af)]);let _0x1983a8=await this[_0x547317(0x76b)][_0x547317(0x4f9)][_0x547317(0x4a6)]({'where':{'_id':_0x1381bb[_0x547317(0x2af)]}},this['instance'][_0x547317(0x78d)]),_0x5ea8ab={};if(Object[_0x547317(0x173)](_0x1381bb['leadInfo'])[_0x547317(0x839)](([_0x1afe70,_0x184d0f])=>{_0x5ea8ab['leadInfo.'+_0x1afe70]=_0x184d0f;}),_0x1983a8&&!_0x1983a8[_0x547317(0x703)]){let _0x4349f1=(_0x1381bb['leadInfo'][_0x547317(0x49c)]||[])[_0x547317(0x82d)](_0xed6a1=>_0x45f282[_0x547317(0x2b8)](_0xed6a1)),_0x372310=new Set(_0x1983a8[_0x547317(0x7f5)]['etiquetas']||[]),_0x554684=_0x4349f1['filter'](_0x273c95=>!_0x372310[_0x547317(0x2b8)](_0x273c95)),_0x23fe3e=[..._0x372310][_0x547317(0x82d)](_0xe5cb2a=>!_0x4349f1['includes'](_0xe5cb2a));_0x19aae4[_0x547317(0x6e9)](..._0x554684[_0x547317(0x506)](_0xe260fc=>this[_0x547317(0x19f)](_0xe260fc,_0x1381bb[_0x547317(0x2af)]))),_0x19aae4[_0x547317(0x6e9)](..._0x23fe3e[_0x547317(0x506)](_0x3520bf=>this[_0x547317(0x4fe)](_0x3520bf,_0x1381bb[_0x547317(0x2af)]))),_0x1381bb['leadInfo']['etiquetas']=_0x4349f1,_0x5cafc0[_0x547317(0x6e9)]({'query':{'where':{'_id':_0x1381bb[_0x547317(0x2af)],'owner':this['instance'][_0x547317(0x78d)]}},'update':_0x5ea8ab});}else _0x5ea8ab[_0x547317(0x703)]=!0x0,_0x5cafc0[_0x547317(0x6e9)]({'query':{'where':{'_id':_0x1381bb['_id'],'owner':this[_0x547317(0x7f4)][_0x547317(0x78d)]}},'update':_0x5ea8ab});}let _0x61955f=await this[_0x547317(0x76b)][_0x547317(0x4f9)][_0x547317(0xfe)](_0x5cafc0);return await Promise[_0x547317(0x684)](_0x19aae4),{'updated':_0x61955f};}catch(_0x1fe8b0){let _0x4d1c69=_0x547317(0x1a3),_0x2a4bbe=_0x1fe8b0 instanceof Error?_0x1fe8b0[_0x547317(0x478)]:typeof _0x1fe8b0=='object'?JSON[_0x547317(0x53e)](_0x1fe8b0):_0x1fe8b0,_0x11e99=_0x4d1c69+':\x20'+_0x2a4bbe;throw this[_0x547317(0x224)]['error'](this['instanceName']+'\x20('+this[_0x547317(0x7f4)]['wuid']+'):\x20'+_0x11e99),new m(_0x11e99);}}async[a0_0x75ac12(0x14e)](){const _0x3898a9=a0_0x75ac12;return await this[_0x3898a9(0x62e)][_0x3898a9(0x14e)]();}async[a0_0x75ac12(0x644)](_0x33d8b5){const _0x1255fe=a0_0x75ac12;try{return await this['client']['updateReadReceiptsPrivacy'](_0x33d8b5[_0x1255fe(0x179)][_0x1255fe(0x155)]),await this[_0x1255fe(0x62e)][_0x1255fe(0x540)](_0x33d8b5[_0x1255fe(0x179)][_0x1255fe(0x49a)]),await this['client'][_0x1255fe(0x12e)](_0x33d8b5[_0x1255fe(0x179)][_0x1255fe(0x2be)]),await this[_0x1255fe(0x62e)]['updateOnlinePrivacy'](_0x33d8b5['privacySettings'][_0x1255fe(0x4e7)]),await this[_0x1255fe(0x62e)][_0x1255fe(0x2f6)](_0x33d8b5[_0x1255fe(0x179)]['last']),await this['client']['updateGroupsAddPrivacy'](_0x33d8b5[_0x1255fe(0x179)][_0x1255fe(0x548)]),this[_0x1255fe(0x62e)]?.['ws']?.[_0x1255fe(0x252)](),{'update':_0x1255fe(0x30f),'data':{'readreceipts':_0x33d8b5[_0x1255fe(0x179)][_0x1255fe(0x155)],'profile':_0x33d8b5[_0x1255fe(0x179)][_0x1255fe(0x49a)],'status':_0x33d8b5['privacySettings']['status'],'online':_0x33d8b5[_0x1255fe(0x179)][_0x1255fe(0x4e7)],'last':_0x33d8b5[_0x1255fe(0x179)]['last'],'groupadd':_0x33d8b5[_0x1255fe(0x179)][_0x1255fe(0x548)]}};}catch(_0x1096b3){let _0x57b4d1=_0x1255fe(0x295),_0x2b63c0=_0x1096b3 instanceof Error?_0x1096b3[_0x1255fe(0x478)]:typeof _0x1096b3=='object'?JSON[_0x1255fe(0x53e)](_0x1096b3):_0x1096b3,_0x18233e=_0x57b4d1+':\x20'+_0x2b63c0;throw this[_0x1255fe(0x224)][_0x1255fe(0x15c)](this['instanceName']+'\x20('+this['instance'][_0x1255fe(0x78d)]+_0x1255fe(0x3d3)+_0x18233e),new m(_0x18233e);}}async[a0_0x75ac12(0x1da)](_0x3fe91c){const _0x1e6270=a0_0x75ac12;let _0x47332b=(_0x3fe91c?this['createJid'](_0x3fe91c):this[_0x1e6270(0x62e)]?.['user']?.['id'])[_0x1e6270(0x154)](/:\d{1,2}@/g,'@');this['logger']['verbose'](this[_0x1e6270(0x300)]+'\x20('+this['instance'][_0x1e6270(0x78d)]+'):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20'+_0x47332b);let _0x4f78bc=await this[_0x1e6270(0x76b)][_0x1e6270(0x27f)][_0x1e6270(0x4a6)]({'where':{'_id':_0x47332b}},this[_0x1e6270(0x7f4)][_0x1e6270(0x78d)]),_0x54eb98=_0x4f78bc?_0x4f78bc[_0x1e6270(0x1a6)]:null;try{let _0x4b3ef9=(await this['whatsappNumber']({'numbers':[_0x47332b]}))?.['shift'](),_0x523c0b=(await this[_0x1e6270(0x194)](_0x47332b,null,!0x1))[_0x1e6270(0x5f2)][_0x1e6270(0x7d3)],_0x1e3c17=await this[_0x1e6270(0x376)](_0x4b3ef9?.[_0x1e6270(0x797)]),_0x71fc62=await this[_0x1e6270(0x2a5)](_0x4b3ef9?.[_0x1e6270(0x797)]),_0x3e5acf=(await this[_0x1e6270(0x194)](_0x47332b,null,!0x1))[_0x1e6270(0x5f2)][_0x1e6270(0x537)],_0x417551=await this[_0x1e6270(0x76b)][_0x1e6270(0x4f9)][_0x1e6270(0x4a6)]({'where':{'_id':_0x47332b}},this[_0x1e6270(0x7f4)]['wuid']),_0x26e1be={'imagechat':_0x523c0b,'contactname':_0x54eb98||null,'pushName':_0x3e5acf,'status':_0x1e3c17?.['status'],'isBusiness':_0x71fc62[_0x1e6270(0x523)],'email':_0x71fc62?.[_0x1e6270(0x748)],'description':_0x71fc62?.[_0x1e6270(0x38d)],'website':_0x71fc62?.[_0x1e6270(0x3cf)]?.[_0x1e6270(0x14c)](),'lastcache':Date[_0x1e6270(0x505)](),'imported':!_0x417551},_0x32094e=await this[_0x1e6270(0x76b)][_0x1e6270(0x4f9)][_0x1e6270(0x5b6)]({'where':{'_id':_0x47332b}},_0x26e1be,this[_0x1e6270(0x7f4)][_0x1e6270(0x78d)]),_0xd3a8b0={'owner':this['instance']['wuid'],'_id':_0x47332b,'profilePictureUrl':_0x523c0b,'status':_0x1e3c17?.[_0x1e6270(0x2be)]};return this[_0x1e6270(0x76b)][_0x1e6270(0x27f)]['update']([_0xd3a8b0],this[_0x1e6270(0x7f4)][_0x1e6270(0x78d)]),_0x32094e&&q(this['instanceName'],_0x1e6270(0x184),{'chat':_0x32094e}),{'wuid':_0x4b3ef9?.[_0x1e6270(0x797)]||_0x47332b,'name':_0x4b3ef9?.[_0x1e6270(0x537)],'pushName':_0x3e5acf,'numberExists':_0x4b3ef9?.[_0x1e6270(0x220)],'picture':_0x523c0b,'status':_0x1e3c17?.['status'],'isBusiness':_0x71fc62[_0x1e6270(0x523)],'email':_0x71fc62?.[_0x1e6270(0x748)],'description':_0x71fc62?.[_0x1e6270(0x38d)],'website':_0x71fc62?.[_0x1e6270(0x3cf)]?.[_0x1e6270(0x14c)]()};}catch(_0x4afe6b){return this[_0x1e6270(0x224)][_0x1e6270(0x15c)](_0x1e6270(0x5f5)+(_0x4afe6b instanceof Error?_0x4afe6b['message']:JSON[_0x1e6270(0x53e)](_0x4afe6b,null,0x2))),{};}}async[a0_0x75ac12(0x2a5)](_0x1c0d87){const _0x16474f=a0_0x75ac12;this['logger']['verbose'](this[_0x16474f(0x300)]+'\x20('+this[_0x16474f(0x7f4)]['wuid']+'):Fetching\x20business\x20profile');try{let _0x332417=_0x1c0d87?this[_0x16474f(0x591)](_0x1c0d87):this[_0x16474f(0x7f4)]['wuid'],_0x572b33=await this['client']['getBusinessProfile'](_0x332417);return this[_0x16474f(0x224)][_0x16474f(0x195)](this[_0x16474f(0x300)]+'\x20('+this[_0x16474f(0x7f4)][_0x16474f(0x78d)]+'):Trying\x20to\x20get\x20business\x20profile'),_0x572b33?(this[_0x16474f(0x224)][_0x16474f(0x195)](this['instanceName']+'\x20('+this['instance'][_0x16474f(0x78d)]+_0x16474f(0x151)),{'isBusiness':!0x0,..._0x572b33}):{'isBusiness':!0x1,'message':_0x16474f(0x5ee),...(await this['whatsappNumber']({'numbers':[_0x332417]}))?.[_0x16474f(0x14c)]()};}catch(_0x1b7807){let _0x1bd0ca=_0x16474f(0x582),_0x5bcc3d=_0x1b7807 instanceof Error?_0x1b7807[_0x16474f(0x478)]:typeof _0x1b7807=='object'?JSON['stringify'](_0x1b7807):_0x1b7807,_0x1eb4fb=_0x1bd0ca+':\x20'+_0x5bcc3d;throw this[_0x16474f(0x224)]['error'](this[_0x16474f(0x300)]+'\x20('+this[_0x16474f(0x7f4)][_0x16474f(0x78d)]+'):\x20'+_0x1eb4fb),new x(_0x1eb4fb);}}async[a0_0x75ac12(0x376)](_0x4bf7bb){const _0x35cf56=a0_0x75ac12;let _0x423c29=this['createJid'](_0x4bf7bb);try{return{'wuid':_0x423c29,'status':(await this[_0x35cf56(0x62e)][_0x35cf56(0x7fe)](_0x423c29))?.[_0x35cf56(0x2be)]};}catch{return{'wuid':_0x423c29,'status':null};}}async[a0_0x75ac12(0x79c)](_0x4c74b7){const _0x5abaf9=a0_0x75ac12;try{return await this[_0x5abaf9(0x62e)]['updateProfileName'](_0x4c74b7),{'update':_0x5abaf9(0x30f)};}catch(_0x57c607){let _0xffa6cc='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',_0x17b5bf=_0x57c607 instanceof Error?_0x57c607[_0x5abaf9(0x478)]:typeof _0x57c607==_0x5abaf9(0x307)?JSON['stringify'](_0x57c607):_0x57c607,_0x279885=_0xffa6cc+':\x20'+_0x17b5bf;throw this['logger'][_0x5abaf9(0x15c)](this['instanceName']+'\x20('+this['instance'][_0x5abaf9(0x78d)]+_0x5abaf9(0x3d3)+_0x279885),new x(_0x279885);}}async[a0_0x75ac12(0x751)](_0x260595){const _0xb9db69=a0_0x75ac12;try{return await this[_0xb9db69(0x62e)][_0xb9db69(0x751)](_0x260595),{'update':_0xb9db69(0x30f)};}catch(_0x24406b){let _0x4edf52='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0x2e3b9b=_0x24406b instanceof Error?_0x24406b[_0xb9db69(0x478)]:typeof _0x24406b==_0xb9db69(0x307)?JSON[_0xb9db69(0x53e)](_0x24406b):_0x24406b,_0x74d216=_0x4edf52+':\x20'+_0x2e3b9b;throw this[_0xb9db69(0x224)][_0xb9db69(0x15c)](this[_0xb9db69(0x300)]+'\x20('+this[_0xb9db69(0x7f4)]['wuid']+_0xb9db69(0x3d3)+_0x74d216),new x(_0x74d216);}}async[a0_0x75ac12(0x30a)](_0x3407d7){const _0x274d99=a0_0x75ac12;try{let _0x2a6189;if((0x0,L['isURL'])(_0x3407d7)){let _0x2ffd59=new Date()['getTime'](),_0x30a7b2=_0x3407d7+'?timestamp='+_0x2ffd59;_0x2a6189=(await te[_0x274d99(0x636)][_0x274d99(0x407)](_0x30a7b2,{'responseType':_0x274d99(0x20d)}))[_0x274d99(0x3d8)];}else{if((0x0,L[_0x274d99(0x148)])(_0x3407d7))_0x2a6189=Buffer['from'](_0x3407d7,'base64');else throw new m(_0x274d99(0x191));}return await this[_0x274d99(0x62e)][_0x274d99(0x30a)](this[_0x274d99(0x7f4)][_0x274d99(0x78d)],_0x2a6189),{'update':_0x274d99(0x30f)};}catch(_0x16496d){let _0x38880b=_0x274d99(0x81c),_0x7d8684=_0x16496d instanceof Error?_0x16496d[_0x274d99(0x478)]:typeof _0x16496d==_0x274d99(0x307)?JSON[_0x274d99(0x53e)](_0x16496d):_0x16496d,_0x4db8f1=_0x38880b+':\x20'+_0x7d8684;throw this[_0x274d99(0x224)][_0x274d99(0x15c)](this[_0x274d99(0x300)]+'\x20('+this[_0x274d99(0x7f4)][_0x274d99(0x78d)]+'):\x20'+_0x4db8f1),new x(_0x4db8f1);}}async[a0_0x75ac12(0x29d)](){const _0x1a3979=a0_0x75ac12;try{return await this[_0x1a3979(0x62e)]['removeProfilePicture'](this[_0x1a3979(0x7f4)][_0x1a3979(0x78d)]),{'update':_0x1a3979(0x30f)};}catch(_0x293517){let _0x1ca031=_0x1a3979(0x5a5),_0x379797=_0x293517 instanceof Error?_0x293517[_0x1a3979(0x478)]:typeof _0x293517==_0x1a3979(0x307)?JSON['stringify'](_0x293517):_0x293517,_0x4e4532=_0x1ca031+':\x20'+_0x379797;throw this[_0x1a3979(0x224)][_0x1a3979(0x15c)](this[_0x1a3979(0x300)]+'\x20('+this['instance'][_0x1a3979(0x78d)]+'):\x20'+_0x4e4532),new x(_0x4e4532);}}async[a0_0x75ac12(0x3df)](_0x1a1110){const _0x4e2b3b=a0_0x75ac12;try{let _0x3ee0cc=(await this[_0x4e2b3b(0x647)]({'numbers':_0x1a1110[_0x4e2b3b(0x24c)]}))['filter'](_0x5ec302=>_0x5ec302['exists'])[_0x4e2b3b(0x506)](_0x462eb1=>_0x462eb1[_0x4e2b3b(0x797)]),{id:_0x1f68e5}=await this['client'][_0x4e2b3b(0x46d)](_0x1a1110[_0x4e2b3b(0xf0)],_0x3ee0cc);_0x1a1110?.[_0x4e2b3b(0x38d)]&&await this[_0x4e2b3b(0x62e)][_0x4e2b3b(0x2e5)](_0x1f68e5,_0x1a1110[_0x4e2b3b(0x38d)]);let _0x2a09d6=await this['client'][_0x4e2b3b(0x281)](_0x1f68e5);return _0x2a09d6[_0x4e2b3b(0x82b)]=[],{'metadata':_0x2a09d6};}catch(_0x5cfe8e){let _0x3a9f12=_0x4e2b3b(0x730),_0x2e10cf=_0x5cfe8e instanceof Error?_0x5cfe8e[_0x4e2b3b(0x478)]:typeof _0x5cfe8e==_0x4e2b3b(0x307)?JSON[_0x4e2b3b(0x53e)](_0x5cfe8e):_0x5cfe8e,_0x30cffa=_0x3a9f12+':\x20'+_0x2e10cf;throw this[_0x4e2b3b(0x224)]['error'](this[_0x4e2b3b(0x300)]+'\x20('+this[_0x4e2b3b(0x7f4)]['wuid']+_0x4e2b3b(0x3d3)+_0x30cffa),new x(_0x30cffa);}}async['groupBetterSetting'](_0x3e2798){const _0x15690f=a0_0x75ac12;try{if(_0x3e2798[_0x15690f(0x17c)]===!0x0&&await this[_0x15690f(0x62e)]['groupSettingUpdate'](_0x3e2798[_0x15690f(0x665)],_0x15690f(0x267)),_0x3e2798['restrict']===!0x1&&await this[_0x15690f(0x62e)][_0x15690f(0x556)](_0x3e2798[_0x15690f(0x665)],_0x15690f(0x680)),_0x3e2798[_0x15690f(0x2a2)]===!0x0&&await this[_0x15690f(0x62e)][_0x15690f(0x556)](_0x3e2798['groupJid'],_0x15690f(0x116)),_0x3e2798[_0x15690f(0x2a2)]===!0x1&&await this[_0x15690f(0x62e)][_0x15690f(0x556)](_0x3e2798[_0x15690f(0x665)],_0x15690f(0x50c)),_0x3e2798[_0x15690f(0x160)]===!0x0&&await this['client'][_0x15690f(0x3d9)](_0x3e2798[_0x15690f(0x665)],_0x15690f(0x269)),_0x3e2798['memberAddMode']===!0x1&&await this[_0x15690f(0x62e)][_0x15690f(0x3d9)](_0x3e2798[_0x15690f(0x665)],_0x15690f(0x5b4)),_0x3e2798[_0x15690f(0x491)]===!0x0&&await this[_0x15690f(0x62e)][_0x15690f(0x810)](_0x3e2798['groupJid'],'on'),_0x3e2798[_0x15690f(0x491)]===!0x1&&await this[_0x15690f(0x62e)]['groupJoinApprovalMode'](_0x3e2798['groupJid'],_0x15690f(0x828)),typeof _0x3e2798[_0x15690f(0x831)]<'u'&&_0x3e2798['expiration']!==null&&await this[_0x15690f(0x62e)]['groupToggleEphemeral'](_0x3e2798[_0x15690f(0x665)],_0x3e2798[_0x15690f(0x831)]),_0x3e2798[_0x15690f(0x537)]&&await this[_0x15690f(0x62e)][_0x15690f(0x5c9)](_0x3e2798[_0x15690f(0x665)],_0x3e2798[_0x15690f(0x537)]),_0x3e2798[_0x15690f(0x38d)]&&await this[_0x15690f(0x62e)][_0x15690f(0x2e5)](_0x3e2798[_0x15690f(0x665)],_0x3e2798[_0x15690f(0x38d)]),_0x3e2798['image']){let _0x51e990;if((0x0,L[_0x15690f(0x520)])(_0x3e2798[_0x15690f(0x466)])){let _0x33da90=new Date()[_0x15690f(0x353)](),_0x2b0ed1=_0x3e2798['image']+_0x15690f(0x3f5)+_0x33da90;_0x51e990=(await te['default'][_0x15690f(0x407)](_0x2b0ed1,{'responseType':_0x15690f(0x20d)}))[_0x15690f(0x3d8)];}else{if((0x0,L[_0x15690f(0x148)])(_0x3e2798[_0x15690f(0x466)]))_0x51e990=Buffer[_0x15690f(0x47f)](_0x3e2798[_0x15690f(0x466)],_0x15690f(0x6d5));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this['client'][_0x15690f(0x30a)](_0x3e2798[_0x15690f(0x665)],_0x51e990);}return await this[_0x15690f(0x22e)]({'groupJid':_0x3e2798[_0x15690f(0x665)]});}catch(_0x106eb6){let _0x29177f='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting',_0x3ba437=_0x106eb6 instanceof Error?_0x106eb6[_0x15690f(0x478)]:typeof _0x106eb6==_0x15690f(0x307)?JSON['stringify'](_0x106eb6):_0x106eb6,_0x5577e0=_0x29177f+':\x20'+_0x3ba437;throw this[_0x15690f(0x224)][_0x15690f(0x15c)](this['instanceName']+'\x20('+this[_0x15690f(0x7f4)][_0x15690f(0x78d)]+_0x15690f(0x3d3)+_0x5577e0),new x(_0x5577e0);}}async[a0_0x75ac12(0x10f)](_0x2ead7f){const _0x52f33c=a0_0x75ac12;try{if(_0x2ead7f['action']===_0x52f33c(0xed)||_0x2ead7f[_0x52f33c(0x57b)]==='reject'){let _0x51b80c=_0x2ead7f[_0x52f33c(0x24c)][_0x52f33c(0x506)](_0x572bd5=>this[_0x52f33c(0x591)](_0x572bd5));await this[_0x52f33c(0x62e)][_0x52f33c(0x3b2)](_0x2ead7f[_0x52f33c(0x665)],_0x51b80c,_0x2ead7f[_0x52f33c(0x57b)]);}else{if(_0x2ead7f[_0x52f33c(0x57b)]===_0x52f33c(0x2a6)){let _0x361c21=(await this['whatsappNumber']({'numbers':_0x2ead7f['participants']}))[_0x52f33c(0x82d)](_0x129cf8=>_0x129cf8[_0x52f33c(0x220)])[_0x52f33c(0x506)](_0x168719=>this['createJid'](_0x168719['jid']));if(_0x361c21[_0x52f33c(0x624)]===0x0)throw new m('Nenhum\x20participante\x20válido\x20encontrado.');await this[_0x52f33c(0x62e)][_0x52f33c(0x7b0)](_0x2ead7f[_0x52f33c(0x665)],_0x361c21,_0x52f33c(0x2a6));}else{let _0x56f24d=_0x2ead7f['participants'][_0x52f33c(0x506)](_0x3c01c1=>this['createJid'](_0x3c01c1));await this[_0x52f33c(0x62e)][_0x52f33c(0x7b0)](_0x2ead7f['groupJid'],_0x56f24d,_0x2ead7f[_0x52f33c(0x57b)]);}}return await this[_0x52f33c(0x22e)]({'groupJid':_0x2ead7f['groupJid']});}catch(_0x453419){let _0x4d3c58='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',_0x31583d=_0x453419 instanceof Error?_0x453419[_0x52f33c(0x478)]:typeof _0x453419==_0x52f33c(0x307)?JSON['stringify'](_0x453419):_0x453419,_0x68b6c4=_0x4d3c58+':\x20'+_0x31583d;throw this[_0x52f33c(0x224)][_0x52f33c(0x15c)](this[_0x52f33c(0x300)]+'\x20('+this['instance']['wuid']+_0x52f33c(0x3d3)+_0x68b6c4),new m(_0x68b6c4);}}async[a0_0x75ac12(0x2d3)](_0x152032){const _0x19c224=a0_0x75ac12;try{return await this[_0x19c224(0x62e)][_0x19c224(0x2d3)](_0x152032[_0x19c224(0x35d)]);}catch(_0x3e5689){let _0x57bab9=_0x19c224(0x745),_0x5ac154=_0x3e5689 instanceof Error?_0x3e5689[_0x19c224(0x478)]:typeof _0x3e5689=='object'?JSON[_0x19c224(0x53e)](_0x3e5689):_0x3e5689,_0x27bf2e=_0x57bab9+':\x20'+_0x5ac154;throw this['logger']['error'](this[_0x19c224(0x300)]+'\x20('+this[_0x19c224(0x7f4)][_0x19c224(0x78d)]+_0x19c224(0x3d3)+_0x27bf2e),new m(_0x27bf2e);}}async[a0_0x75ac12(0x22e)](_0x53c6f0,_0x231bbc='out'){const _0x2f73e1=a0_0x75ac12;try{let _0x9a0fb2=await this[_0x2f73e1(0x76b)][_0x2f73e1(0x4f9)][_0x2f73e1(0x4a6)]({'where':{'_id':_0x53c6f0[_0x2f73e1(0x665)]}},this[_0x2f73e1(0x7f4)]['wuid']),_0x3d5103=_0x9a0fb2?_0x9a0fb2[_0x2f73e1(0x3cb)]:null,_0x4cf2f3=0x18*0x3c*0x3c*0x3e8;if(!_0x3d5103||_0x3d5103['lastUpdate']&&Date[_0x2f73e1(0x505)]()-_0x3d5103[_0x2f73e1(0x805)]>_0x4cf2f3){let _0x49ad8=await this[_0x2f73e1(0x62e)][_0x2f73e1(0x281)](_0x53c6f0[_0x2f73e1(0x665)]);if(_0x49ad8[_0x2f73e1(0x25d)]=_0x49ad8?.[_0x2f73e1(0x25d)]&&_0x49ad8[_0x2f73e1(0x25d)][_0x2f73e1(0x7ce)]()['length']<0xd?_0x49ad8?.[_0x2f73e1(0x25d)]*0x3e8:_0x49ad8?.[_0x2f73e1(0x25d)]||null,_0x49ad8['creation']=_0x49ad8?.[_0x2f73e1(0x2c3)]&&_0x49ad8[_0x2f73e1(0x2c3)][_0x2f73e1(0x7ce)]()[_0x2f73e1(0x624)]<0xd?_0x49ad8?.[_0x2f73e1(0x2c3)]*0x3e8:_0x49ad8?.[_0x2f73e1(0x2c3)]||null,_0x3d5103={..._0x49ad8,'lastUpdate':Date[_0x2f73e1(0x505)]()},!_0x49ad8)return;}let _0x46ad0c=_0x3d5103['participants'][_0x2f73e1(0x682)](_0x30a0f7=>_0x30a0f7['id']===this[_0x2f73e1(0x7f4)][_0x2f73e1(0x78d)]+_0x2f73e1(0x2f8)&&_0x30a0f7[_0x2f73e1(0x770)]!=null);!_0x3d5103[_0x2f73e1(0x35d)]&&_0x46ad0c&&(_0x3d5103['inviteCode']=(await this[_0x2f73e1(0x35d)](_0x53c6f0,!0x1))['inviteUrl']);let _0x63f84e=(!_0x3d5103[_0x2f73e1(0x2a2)]||_0x46ad0c)&&(!_0x3d5103[_0x2f73e1(0x756)]||_0x3d5103[_0x2f73e1(0x756)]&&_0x3d5103[_0x2f73e1(0x214)]&&_0x46ad0c);_0x3d5103['isAdmin']=_0x46ad0c,_0x3d5103[_0x2f73e1(0x34d)]=_0x63f84e;let _0x33ecd9=[];if(_0x46ad0c&&_0x3d5103[_0x2f73e1(0x491)])try{_0x33ecd9=await this[_0x2f73e1(0x62e)][_0x2f73e1(0x4d5)](_0x53c6f0[_0x2f73e1(0x665)]),_0x3d5103['lastFetchAwaitingApproval']=Date[_0x2f73e1(0x505)]();}catch(_0x55eadb){this['logger'][_0x2f73e1(0x195)](this[_0x2f73e1(0x300)]+'\x20('+this['instance'][_0x2f73e1(0x78d)]+_0x2f73e1(0x744)+_0x53c6f0[_0x2f73e1(0x665)]+':\x20'+(_0x55eadb instanceof Error?_0x55eadb[_0x2f73e1(0x478)]:JSON[_0x2f73e1(0x53e)](_0x55eadb,null,0x2)));}try{_0x3d5103['image']=(await this[_0x2f73e1(0x194)](_0x53c6f0[_0x2f73e1(0x665)],null,!0x0))[_0x2f73e1(0x5f2)][_0x2f73e1(0x7d3)];}catch(_0x45c1ab){this['logger'][_0x2f73e1(0x195)](this[_0x2f73e1(0x300)]+'\x20('+this['instance'][_0x2f73e1(0x78d)]+_0x2f73e1(0x673)+_0x53c6f0[_0x2f73e1(0x665)]+':\x20'+(_0x45c1ab instanceof Error?_0x45c1ab[_0x2f73e1(0x478)]:JSON[_0x2f73e1(0x53e)](_0x45c1ab,null,0x2)));}let _0x310574=_0x3d5103[_0x2f73e1(0x24c)][_0x2f73e1(0x506)](_0x2c60fb=>_0x2c60fb['id']),_0x2b53bc=_0x33ecd9['map'](_0x29b0fd=>_0x29b0fd[_0x2f73e1(0x797)]),_0x1676f9=await this[_0x2f73e1(0x76b)][_0x2f73e1(0x1a2)][_0x2f73e1(0x493)]([..._0x310574,..._0x2b53bc]);_0x3d5103[_0x2f73e1(0x24c)]=_0x3d5103[_0x2f73e1(0x24c)][_0x2f73e1(0x506)](_0x2c2435=>{const _0x2bfcb7=_0x2f73e1;let _0x3b6d6d=_0x1676f9[_0x2bfcb7(0x1c3)](_0x381fba=>_0x381fba[_0x2bfcb7(0x2af)]===_0x2c2435['id']);return{'id':_0x2c2435['id'],'isAdmin':[_0x2bfcb7(0x770),_0x2bfcb7(0x227)][_0x2bfcb7(0x5bb)](_0x2c2435[_0x2bfcb7(0x770)]),'admin':_0x2c2435[_0x2bfcb7(0x770)],'pushName':_0x3b6d6d?.['name'],'profilePictureUrl':_0x3b6d6d?.[_0x2bfcb7(0x7d3)]};}),_0x3d5103[_0x2f73e1(0x82b)]=_0x33ecd9['map'](_0x2947c8=>{const _0x56c009=_0x2f73e1;let _0x1b3ab2=_0x1676f9[_0x56c009(0x1c3)](_0x1789e3=>_0x1789e3[_0x56c009(0x2af)]===_0x2947c8[_0x56c009(0x797)]);return{'id':_0x2947c8[_0x56c009(0x797)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x1b3ab2?.['name'],'profilePictureUrl':_0x1b3ab2?.[_0x56c009(0x7d3)],'request_method':_0x2947c8['request_method'],'request_time':_0x2947c8[_0x56c009(0x5d2)]};});let _0x4921c0=await this['repository'][_0x2f73e1(0x4f9)][_0x2f73e1(0x5b6)]({'where':{'_id':_0x53c6f0['groupJid']}},{'imagechat':_0x3d5103[_0x2f73e1(0x466)],'name':_0x3d5103['subject'],'lastcache':Date[_0x2f73e1(0x505)](),'groupdata':_0x3d5103},this[_0x2f73e1(0x7f4)][_0x2f73e1(0x78d)]);return q(this[_0x2f73e1(0x300)],_0x2f73e1(0x184),{'chat':_0x4921c0}),{'metadata':_0x3d5103};}catch(_0x4e6e0b){if(_0x231bbc===_0x2f73e1(0x2db))return;throw new J(_0x2f73e1(0x158),_0x4e6e0b[_0x2f73e1(0x478)][_0x2f73e1(0x7ce)]());}}async[a0_0x75ac12(0x2f5)](){const _0x5256a0=a0_0x75ac12;try{this[_0x5256a0(0x224)]['info'](_0x5256a0(0x474));let _0x4a5dcd=Date[_0x5256a0(0x505)](),_0x326e49=0x3*0x3c*0x3c*0x3e8;return _0x4a5dcd-this[_0x5256a0(0x777)]>_0x326e49&&(this[_0x5256a0(0x77c)](),this[_0x5256a0(0x777)]=_0x4a5dcd),(await this[_0x5256a0(0x76b)]['chat'][_0x5256a0(0x188)]({'where':{'group':!0x0}},this[_0x5256a0(0x7f4)][_0x5256a0(0x78d)]))[_0x5256a0(0x506)](_0x510ad9=>({..._0x510ad9[_0x5256a0(0x3cb)],'groupJid':_0x510ad9['_id'],'participants':_0x510ad9[_0x5256a0(0x3cb)][_0x5256a0(0x24c)]||[],'awaitingApproval':_0x510ad9[_0x5256a0(0x3cb)][_0x5256a0(0x82b)]||[],'image':_0x510ad9['imagechat']}));}catch(_0x228819){let _0x51829a='Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',_0x2a6e26=_0x228819 instanceof Error?_0x228819[_0x5256a0(0x478)]:typeof _0x228819==_0x5256a0(0x307)?JSON[_0x5256a0(0x53e)](_0x228819):_0x228819,_0x125ffa=_0x51829a+':\x20'+_0x2a6e26;throw this['logger'][_0x5256a0(0x15c)](this[_0x5256a0(0x300)]+'\x20('+this[_0x5256a0(0x7f4)]['wuid']+_0x5256a0(0x3d3)+_0x125ffa),new J(_0x125ffa);}}async[a0_0x75ac12(0x77c)](){const _0xe4984a=a0_0x75ac12;try{this[_0xe4984a(0x224)][_0xe4984a(0x59e)]('Retornando\x20grupos\x20SEM\x20cache');let _0x51ed35=[],_0x29d4d7=await this[_0xe4984a(0x62e)][_0xe4984a(0x389)](),_0x578956=Object[_0xe4984a(0x669)](_0x29d4d7),_0x519adf=_0x578956[_0xe4984a(0x82d)](_0x30ffb0=>(0x0,w['isJidGroup'])(_0x30ffb0?.['id']))[_0xe4984a(0x506)](async _0x396228=>{const _0x5cb747=_0xe4984a;try{return await this[_0x5cb747(0x62e)][_0x5cb747(0x3a3)](_0x396228['id'],_0x5cb747(0x1fb));}catch(_0x231ddd){return this[_0x5cb747(0x224)][_0x5cb747(0x195)](this[_0x5cb747(0x300)]+'\x20('+this[_0x5cb747(0x7f4)][_0x5cb747(0x78d)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x396228['id']+':\x20'+(_0x231ddd instanceof Error?_0x231ddd[_0x5cb747(0x478)]:JSON[_0x5cb747(0x53e)](_0x231ddd,null,0x2))),null;}}),_0xc0f6f1=await Promise[_0xe4984a(0x684)](_0x519adf);for(let _0x1c830e=0x0;_0x1c830e<_0x578956[_0xe4984a(0x624)];_0x1c830e++){let _0x2005c9=_0x578956[_0x1c830e];(0x0,w[_0xe4984a(0x42d)])(_0x2005c9?.['id'])&&(_0x51ed35[_0xe4984a(0x6e9)]({'groupJid':_0x2005c9?.['id'],'subject':_0x2005c9?.[_0xe4984a(0xf0)],'subjectOwner':_0x2005c9?.[_0xe4984a(0x3e3)]?.[_0xe4984a(0x170)]('@')[0x0],'subjectTime':_0x2005c9?.[_0xe4984a(0x25d)],'creation':_0x2005c9?.[_0xe4984a(0x2c3)],'size':_0x2005c9?.[_0xe4984a(0x24c)]?.[_0xe4984a(0x624)],'owner':_0x2005c9?.[_0xe4984a(0x4c1)]?.[_0xe4984a(0x170)]('@')[0x0],'desc':_0x2005c9?.['desc'],'restrict':_0x2005c9?.[_0xe4984a(0x17c)],'announce':_0x2005c9?.[_0xe4984a(0x2a2)],'image':_0xc0f6f1[_0x1c830e],'isCommunity':_0x2005c9?.['isCommunity'],'joinApprovalMode':_0x2005c9?.[_0xe4984a(0x491)],'memberCanAddParticipant':_0x2005c9?.[_0xe4984a(0x160)],'participants':_0x2005c9?.[_0xe4984a(0x24c)],'descOwner':_0x2005c9?.[_0xe4984a(0x1af)],'descId':_0x2005c9?.['descId'],'memberAddMode':_0x2005c9?.[_0xe4984a(0x160)],'isCommunityAnnounce':_0x2005c9?.[_0xe4984a(0x214)],'ephemeralDuration':_0x2005c9?.[_0xe4984a(0x1ea)]||0x0,'author':_0x2005c9?.[_0xe4984a(0x788)]}),this[_0xe4984a(0x5ef)](_0x578956[_0x1c830e]));}return _0x51ed35;}catch(_0x540cae){let _0x292343=_0xe4984a(0x4e3),_0x13adc4=_0x540cae instanceof Error?_0x540cae[_0xe4984a(0x478)]:typeof _0x540cae==_0xe4984a(0x307)?JSON[_0xe4984a(0x53e)](_0x540cae):_0x540cae,_0x1ee1fa=_0x292343+':\x20'+_0x13adc4;throw this['logger'][_0xe4984a(0x15c)](this[_0xe4984a(0x300)]+'\x20('+this[_0xe4984a(0x7f4)][_0xe4984a(0x78d)]+_0xe4984a(0x3d3)+_0x1ee1fa),new J(_0x1ee1fa);}}async[a0_0x75ac12(0x5ef)](_0x3490c4){const _0x494a54=a0_0x75ac12;let _0xab41d3=await this[_0x494a54(0x76b)][_0x494a54(0x4f9)][_0x494a54(0x4a6)]({'where':{'_id':_0x3490c4['id']}},this[_0x494a54(0x7f4)]['wuid']);_0x3490c4[_0x494a54(0x25d)]=_0x3490c4?.['subjectTime']&&_0x3490c4[_0x494a54(0x25d)][_0x494a54(0x7ce)]()[_0x494a54(0x624)]<0xd?_0x3490c4?.[_0x494a54(0x25d)]*0x3e8:_0x3490c4?.[_0x494a54(0x25d)]||null,_0x3490c4['creation']=_0x3490c4?.[_0x494a54(0x2c3)]&&_0x3490c4[_0x494a54(0x2c3)][_0x494a54(0x7ce)]()[_0x494a54(0x624)]<0xd?_0x3490c4?.['creation']*0x3e8:_0x3490c4?.[_0x494a54(0x2c3)]||null;let _0x40e460=_0xab41d3?.['groupdata']?.[_0x494a54(0x82b)]||[],_0x47d79d=_0xab41d3?.[_0x494a54(0x3cb)]?.[_0x494a54(0x666)],_0x121c02=_0x3490c4[_0x494a54(0x24c)][_0x494a54(0x506)](_0x35efb0=>{const _0x33a95b=_0x494a54;let _0x310178=_0xab41d3?.[_0x33a95b(0x3cb)]?.[_0x33a95b(0x24c)][_0x33a95b(0x1c3)](_0x33ed1e=>_0x33ed1e['id']===_0x35efb0['id']);return{..._0x35efb0,'isAdmin':['admin',_0x33a95b(0x227)][_0x33a95b(0x5bb)](_0x35efb0[_0x33a95b(0x770)]),'admin':_0x35efb0[_0x33a95b(0x770)],'name':_0x310178?.[_0x33a95b(0x537)]||_0x35efb0[_0x33a95b(0x537)],'imgUrl':_0x310178?.[_0x33a95b(0x674)]||_0x35efb0[_0x33a95b(0x674)]};}),_0x5a7e08=_0x121c02[_0x494a54(0x682)](_0x35cd73=>_0x35cd73['id']===this[_0x494a54(0x7f4)][_0x494a54(0x78d)]+_0x494a54(0x2f8)&&_0x35cd73['isAdmin']),_0x1d4c51=(!_0x3490c4[_0x494a54(0x2a2)]||_0x5a7e08)&&(!_0x3490c4[_0x494a54(0x756)]||_0x3490c4[_0x494a54(0x756)]&&_0x3490c4['isCommunityAnnounce']&&_0x5a7e08),_0x1b0520={..._0x3490c4,'participants':_0x121c02,'awaitingApproval':_0x40e460,'lastFetchAwaitingApproval':_0x47d79d,'isAdmin':_0x5a7e08,'canSendMessage':_0x1d4c51,'lastUpdate':Date['now']()};await this['repository'][_0x494a54(0x4f9)][_0x494a54(0x5b6)]({'where':{'_id':_0x3490c4['id']}},{'name':_0x3490c4['subject'],'group':!0x0,'groupdata':_0x1b0520,'lastcache':Date[_0x494a54(0x505)]()},this[_0x494a54(0x7f4)][_0x494a54(0x78d)]),q(this[_0x494a54(0x300)],_0x494a54(0x184),{'chat':_0x3490c4});}async['updateGroupWebhook'](_0x8b875b){const _0x3124d5=a0_0x75ac12;let _0x34c220=await this['repository']['chat'][_0x3124d5(0x4a6)]({'where':{'_id':_0x8b875b['id']}},this['instance'][_0x3124d5(0x78d)]);_0x8b875b['subjectTime']=_0x8b875b?.[_0x3124d5(0x25d)]&&_0x8b875b[_0x3124d5(0x25d)][_0x3124d5(0x7ce)]()['length']<0xd?_0x8b875b?.['subjectTime']*0x3e8:_0x8b875b?.['subjectTime']||null,_0x8b875b[_0x3124d5(0x2c3)]=_0x8b875b?.['creation']&&_0x8b875b[_0x3124d5(0x2c3)][_0x3124d5(0x7ce)]()[_0x3124d5(0x624)]<0xd?_0x8b875b?.[_0x3124d5(0x2c3)]*0x3e8:_0x8b875b?.[_0x3124d5(0x2c3)]||null,_0x8b875b[_0x3124d5(0x35d)]&&(_0x8b875b['inviteCode']='https://chat.whatsapp.com/'+_0x8b875b['inviteCode']);let _0x219b97=_0x34c220?.['groupdata']?{..._0x34c220[_0x3124d5(0x3cb)]}:{};Object[_0x3124d5(0x58e)](_0x8b875b)[_0x3124d5(0x839)](_0x55e96c=>{_0x55e96c!=='id'&&(_0x219b97[_0x55e96c]=_0x8b875b[_0x55e96c]);});let _0x1b0d15=_0x219b97['participants']?.[_0x3124d5(0x682)](_0x341488=>_0x341488['id']===this[_0x3124d5(0x7f4)][_0x3124d5(0x78d)]+_0x3124d5(0x2f8)&&_0x341488[_0x3124d5(0x4ed)])||!0x1;_0x219b97[_0x3124d5(0x4ed)]=_0x1b0d15;let _0x275240=(!_0x219b97[_0x3124d5(0x2a2)]||_0x1b0d15)&&(!_0x219b97[_0x3124d5(0x756)]||_0x219b97[_0x3124d5(0x756)]&&_0x219b97['isCommunityAnnounce']&&_0x1b0d15);_0x219b97[_0x3124d5(0x34d)]=_0x275240;let _0x5ac3f3={'group':!0x0,'groupdata':_0x219b97};_0x8b875b['subject']&&(_0x5ac3f3[_0x3124d5(0x537)]=_0x8b875b[_0x3124d5(0xf0)]),await this[_0x3124d5(0x76b)][_0x3124d5(0x4f9)]['updateOne']({'where':{'_id':_0x8b875b['id']}},_0x5ac3f3,this[_0x3124d5(0x7f4)][_0x3124d5(0x78d)],{'upsert':!0x0}),q(this[_0x3124d5(0x300)],_0x3124d5(0x184),{'chat':_0x5ac3f3});}async[a0_0x75ac12(0x83d)](_0x258f9a){const _0x550804=a0_0x75ac12;let _0x467285=await this[_0x550804(0x76b)][_0x550804(0x4f9)][_0x550804(0x4a6)]({'where':{'_id':_0x258f9a['id']}},this[_0x550804(0x7f4)][_0x550804(0x78d)]);if(!_0x467285||!_0x467285[_0x550804(0x3cb)]){this[_0x550804(0x224)][_0x550804(0x59e)](this[_0x550804(0x300)]+'\x20('+this[_0x550804(0x7f4)][_0x550804(0x78d)]+_0x550804(0x4f2)+_0x258f9a['id']);return;}let _0x4d6692=await this[_0x550804(0x76b)][_0x550804(0x1a2)][_0x550804(0x493)](_0x258f9a[_0x550804(0x24c)]),_0x369255=[..._0x467285[_0x550804(0x3cb)]?.[_0x550804(0x24c)]];switch(_0x258f9a[_0x550804(0x57b)]){case _0x550804(0x2a6):let _0xd98cfc=_0x4d6692[_0x550804(0x506)](_0x18702d=>({'id':_0x18702d[_0x550804(0x2af)],'isAdmin':!0x1,'name':_0x18702d[_0x550804(0x537)],'imgUrl':_0x18702d[_0x550804(0x7d3)]}));_0x369255=[..._0x369255,..._0xd98cfc];break;case _0x550804(0x400):_0x369255=_0x369255[_0x550804(0x82d)](_0x44dc4e=>!_0x258f9a['participants'][_0x550804(0x5bb)](_0x44dc4e['id']));break;case _0x550804(0x5ce):case _0x550804(0x210):_0x369255=_0x369255[_0x550804(0x506)](_0x1ab95f=>_0x258f9a[_0x550804(0x24c)][_0x550804(0x5bb)](_0x1ab95f['id'])?{..._0x1ab95f,'isAdmin':_0x258f9a[_0x550804(0x57b)]==='promote'}:_0x1ab95f);break;}let _0x230f30=_0x369255[_0x550804(0x624)],_0xd094ea=_0x369255[_0x550804(0x682)](_0x2702ce=>_0x2702ce['id']===this[_0x550804(0x7f4)][_0x550804(0x78d)]+_0x550804(0x2f8)),_0x402b5e=_0xd094ea&&_0x369255[_0x550804(0x682)](_0x419561=>_0x419561['id']===this['instance'][_0x550804(0x78d)]+_0x550804(0x2f8)&&_0x419561[_0x550804(0x4ed)]),_0x1fa64c=_0xd094ea&&(!_0x467285[_0x550804(0x3cb)][_0x550804(0x2a2)]||_0x402b5e)&&(!_0x467285['groupdata'][_0x550804(0x756)]||_0x467285[_0x550804(0x3cb)][_0x550804(0x756)]&&_0x402b5e);await this['repository']['chat'][_0x550804(0x5b6)]({'where':{'_id':_0x258f9a['id']}},{'groupdata':{..._0x467285[_0x550804(0x3cb)],'participants':_0x369255,'size':_0x230f30,'isAdmin':_0x402b5e,'canSendMessage':_0x1fa64c}},this['instance']['wuid']),this[_0x550804(0x224)]['info'](this[_0x550804(0x300)]+'\x20('+this[_0x550804(0x7f4)][_0x550804(0x78d)]+_0x550804(0x59d)+_0x258f9a['id']+_0x550804(0x5b5)+_0x258f9a['action']+',\x20Novo\x20tamanho:\x20'+_0x230f30+_0x550804(0x1aa)+_0x402b5e+_0x550804(0x46e)+_0x1fa64c);}async['inviteCode'](_0x45f854,_0x3f39d4=!0x0){const _0x17a102=a0_0x75ac12;try{let _0x449ee0=await this[_0x17a102(0x62e)][_0x17a102(0x2ad)](_0x45f854['groupJid']),_0x4223c7={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0x449ee0};if(_0x3f39d4){let _0x3699f8=await this[_0x17a102(0x76b)]['chat'][_0x17a102(0x5b6)]({'where':{'_id':_0x45f854[_0x17a102(0x665)]}},_0x4223c7,this[_0x17a102(0x7f4)][_0x17a102(0x78d)]);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x449ee0,'inviteCode':_0x449ee0};}catch(_0x2f85d7){let _0x3a151b=_0x17a102(0x42a),_0x173a59=_0x2f85d7 instanceof Error?_0x2f85d7[_0x17a102(0x478)]:typeof _0x2f85d7==_0x17a102(0x307)?JSON[_0x17a102(0x53e)](_0x2f85d7):_0x2f85d7,_0x2eace0=_0x3a151b+':\x20'+_0x173a59;throw this['logger'][_0x17a102(0x15c)](this[_0x17a102(0x300)]+'\x20('+this[_0x17a102(0x7f4)]['wuid']+'):\x20'+_0x2eace0),new J(_0x2eace0);}}async[a0_0x75ac12(0x29e)](_0x3a5217){const _0x93a05e=a0_0x75ac12;try{let _0x2baadf=await this[_0x93a05e(0x62e)][_0x93a05e(0x102)](_0x3a5217[_0x93a05e(0x665)]);return{'revoked':!0x0,'inviteUrl':_0x93a05e(0x401)+_0x2baadf,'inviteCode':_0x2baadf};}catch(_0x521139){let _0x51c940=_0x93a05e(0x308),_0x436f60=_0x521139 instanceof Error?_0x521139['message']:typeof _0x521139=='object'?JSON[_0x93a05e(0x53e)](_0x521139):_0x521139,_0x250b75=_0x51c940+':\x20'+_0x436f60;throw this[_0x93a05e(0x224)][_0x93a05e(0x15c)](this[_0x93a05e(0x300)]+'\x20('+this['instance'][_0x93a05e(0x78d)]+_0x93a05e(0x3d3)+_0x250b75),new J(_0x250b75);}}async[a0_0x75ac12(0x7e6)](_0x4d0568){const _0x222d56=a0_0x75ac12;try{if((0x0,L['isURL'])(_0x4d0568[_0x222d56(0x35d)]))var _0x20702e=_0x4d0568[_0x222d56(0x35d)][_0x222d56(0x170)]('/')[0x3];else var _0x20702e=_0x4d0568[_0x222d56(0x35d)];let _0x2341e5=await this[_0x222d56(0x62e)][_0x222d56(0x629)](_0x20702e);return this[_0x222d56(0x224)][_0x222d56(0x195)](this[_0x222d56(0x300)]+'\x20('+this['instance'][_0x222d56(0x78d)]+_0x222d56(0x3d3)+_0x2341e5),{'join':!0x0,'inviteCode':_0x20702e,'groupJid':_0x2341e5};}catch(_0x2fabcb){let _0xfbb229=_0x222d56(0x6d0),_0x850e28=_0x2fabcb instanceof Error?_0x2fabcb[_0x222d56(0x478)]:typeof _0x2fabcb==_0x222d56(0x307)?JSON['stringify'](_0x2fabcb):_0x2fabcb,_0x505224=_0xfbb229+':\x20'+_0x850e28;throw this['logger'][_0x222d56(0x15c)](this[_0x222d56(0x300)]+'\x20('+this[_0x222d56(0x7f4)]['wuid']+_0x222d56(0x3d3)+_0x505224),new J(_0x505224);}}async[a0_0x75ac12(0x5a4)](_0x1fc3d8){const _0x44c61d=a0_0x75ac12;try{return{'participants':(await this[_0x44c61d(0x76b)]['chat'][_0x44c61d(0x4a6)]({'where':{'_id':_0x1fc3d8[_0x44c61d(0x665)]}},this[_0x44c61d(0x7f4)]['wuid']))[_0x44c61d(0x3cb)][_0x44c61d(0x24c)]};}catch(_0x4c06a6){let _0x490b18=_0x44c61d(0x28b),_0x264e89=_0x4c06a6 instanceof Error?_0x4c06a6[_0x44c61d(0x478)]:typeof _0x4c06a6==_0x44c61d(0x307)?JSON[_0x44c61d(0x53e)](_0x4c06a6):_0x4c06a6,_0x535d2f=_0x490b18+':\x20'+_0x264e89;throw this[_0x44c61d(0x224)][_0x44c61d(0x15c)](this[_0x44c61d(0x300)]+'\x20('+this[_0x44c61d(0x7f4)][_0x44c61d(0x78d)]+_0x44c61d(0x3d3)+_0x535d2f),new J(_0x535d2f);}}async['leaveGroup'](_0x5e8b50){const _0xf2ae45=a0_0x75ac12;try{return await this['client'][_0xf2ae45(0x2d1)](_0x5e8b50[_0xf2ae45(0x665)]),{'groupJid':_0x5e8b50[_0xf2ae45(0x665)],'leave':!0x0};}catch(_0x531fa2){let _0x2bc7b6='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x2d85ce=_0x531fa2 instanceof Error?_0x531fa2[_0xf2ae45(0x478)]:typeof _0x531fa2==_0xf2ae45(0x307)?JSON['stringify'](_0x531fa2):_0x531fa2,_0x113f4f=_0x2bc7b6+':\x20'+_0x2d85ce;throw this[_0xf2ae45(0x224)][_0xf2ae45(0x15c)](this['instanceName']+'\x20('+this['instance'][_0xf2ae45(0x78d)]+'):\x20'+_0x113f4f),new m(_0x113f4f);}}async[a0_0x75ac12(0x10b)](_0x82b0d5){const _0x7e01d6=a0_0x75ac12;return await this[_0x7e01d6(0x6c5)](_0x82b0d5[_0x7e01d6(0x3b8)],{'poll':{'name':_0x82b0d5['pollMessage']?.[_0x7e01d6(0x537)],'selectableCount':_0x82b0d5[_0x7e01d6(0x10b)][_0x7e01d6(0x177)],'values':_0x82b0d5['pollMessage'][_0x7e01d6(0x669)]}},_0x82b0d5?.[_0x7e01d6(0x6f0)]);}async[a0_0x75ac12(0x7c6)](_0x28716f){const _0x4b3dda=a0_0x75ac12;return await this[_0x4b3dda(0x6c5)](_0x28716f[_0x4b3dda(0x3b8)],{'listMessage':{'title':_0x28716f['listMessage'][_0x4b3dda(0x440)],'description':_0x28716f[_0x4b3dda(0x7c6)][_0x4b3dda(0x38d)],'buttonText':_0x28716f[_0x4b3dda(0x7c6)]?.[_0x4b3dda(0x446)],'footerText':_0x28716f[_0x4b3dda(0x7c6)]?.[_0x4b3dda(0x4b4)],'sections':_0x28716f[_0x4b3dda(0x7c6)]['sections'],'listType':0x2}},_0x28716f?.[_0x4b3dda(0x6f0)]);}async['menuMessage'](_0x234143){const _0x3aac76=a0_0x75ac12;let _0x49fba3;if(_0x234143[_0x3aac76(0x46b)][_0x3aac76(0x791)]===_0x3aac76(0x156)){let _0x2568a1=_0x234143['menuMessage'][_0x3aac76(0x105)][_0x3aac76(0x5f8)]('\x0a'),_0x11213a='',_0xf36775='';_0x2568a1!==-0x1?(_0x11213a=_0x234143[_0x3aac76(0x46b)][_0x3aac76(0x105)]['substring'](0x0,_0x2568a1)[_0x3aac76(0x11c)](),_0xf36775=_0x234143[_0x3aac76(0x46b)]['text'][_0x3aac76(0x38b)](_0x2568a1+0x1)):_0xf36775=_0x234143['menuMessage'][_0x3aac76(0x105)];let _0x378e3f=_0x234143[_0x3aac76(0x46b)][_0x3aac76(0x4bd)]['filter'](_0x179960=>_0x179960[_0x3aac76(0x11c)]()!==''),_0x122cde=this['createSectionsFromValues'](_0x378e3f);_0x49fba3={'listMessage':{'title':_0x11213a,'description':_0xf36775,'buttonText':_0x234143[_0x3aac76(0x46b)][_0x3aac76(0x446)]||_0x3aac76(0x6e0),'footerText':_0x234143['menuMessage'][_0x3aac76(0x4b4)],'sections':_0x122cde,'listType':0x2}};}else{if(_0x234143['menuMessage'][_0x3aac76(0x791)]===_0x3aac76(0x71c)){let _0x3f9bb7=_0x234143[_0x3aac76(0x46b)]['choices'][_0x3aac76(0x82d)](_0x53b9bf=>!(_0x53b9bf['startsWith']('[')&&_0x53b9bf[_0x3aac76(0x11d)](']'))&&_0x53b9bf['trim']()!=='')['map'](_0x282782=>_0x282782[_0x3aac76(0x170)]('\x0a')[0x0]);_0x49fba3={'poll':{'name':_0x234143[_0x3aac76(0x46b)]['text'],'selectableCount':_0x234143[_0x3aac76(0x46b)][_0x3aac76(0x177)]||0x1,'values':_0x3f9bb7}};}}return await this[_0x3aac76(0x6c5)](_0x234143[_0x3aac76(0x3b8)],_0x49fba3,_0x234143?.[_0x3aac76(0x6f0)]);}[a0_0x75ac12(0x52e)](_0x40800f){const _0x1790c8=a0_0x75ac12;let _0x28b0ab=[],_0x2472da={'rows':[]};return _0x40800f[_0x1790c8(0x839)](_0x2e95a4=>{const _0x1c278c=_0x1790c8;if(_0x2e95a4[_0x1c278c(0x36c)]('[')&&_0x2e95a4[_0x1c278c(0x11d)](']'))_0x2472da[_0x1c278c(0x1bc)]['length']>0x0&&_0x28b0ab[_0x1c278c(0x6e9)](_0x2472da),_0x2472da={'title':_0x2e95a4['slice'](0x1,-0x1),'rows':[]};else{let _0x430039=_0x2e95a4[_0x1c278c(0x170)]('\x0a')[_0x1c278c(0x506)](_0x13bad6=>_0x13bad6['trim']()),_0x5444d6=_0x430039[0x0],_0x160c0f=_0x430039[0x1]||null,_0x137865=_0x430039[0x2]||_0x5444d6;_0x2472da[_0x1c278c(0x1bc)][_0x1c278c(0x6e9)]({'title':_0x5444d6,'description':_0x160c0f,'rowId':_0x137865});}}),_0x2472da[_0x1790c8(0x1bc)][_0x1790c8(0x624)]>0x0&&_0x28b0ab['push'](_0x2472da),_0x28b0ab;}async[a0_0x75ac12(0x26b)](_0x5edb0f,_0x2cacc7){const _0x4181f8=a0_0x75ac12;if(await this[_0x4181f8(0x4b6)](_0x5edb0f,!0x0)){let _0x1e3732={'where':{'_id':_0x5edb0f['id']}},_0x554f26={'status':[_0x2cacc7[_0x4181f8(0x2be)]][0x0]};try{let _0x314d54=await this[_0x4181f8(0x76b)][_0x4181f8(0x478)][_0x4181f8(0x829)](_0x1e3732,_0x554f26,this[_0x4181f8(0x7f4)][_0x4181f8(0x78d)]);_0x314d54&&q(this[_0x4181f8(0x300)],_0x4181f8(0x16d),{'message':_0x314d54});}catch{}}}['sectionsToString'](_0x8eede0){const _0x1c2e10=a0_0x75ac12;let _0x190450=[];return _0x8eede0[_0x1c2e10(0x839)](_0x1d6f80=>{const _0x203143=_0x1c2e10;_0x1d6f80['title']&&_0x190450[_0x203143(0x6e9)]('['+_0x1d6f80[_0x203143(0x440)]+']'),_0x1d6f80[_0x203143(0x1bc)]['forEach'](_0x54ec85=>{const _0x26c1ce=_0x203143;_0x190450[_0x26c1ce(0x6e9)](_0x54ec85['title']);});}),_0x190450['join']('|');}['formatVCard'](_0x486810){const _0x3c439d=a0_0x75ac12;let _0x39c8b7=_0x486810['replace'](/\\n/g,'\x0a')[_0x3c439d(0x170)]('\x0a')['filter'](_0x56870e=>_0x56870e[_0x3c439d(0x5bb)](_0x3c439d(0x388))||_0x56870e[_0x3c439d(0x5bb)](_0x3c439d(0x1a9))),_0x28a262='';return _0x39c8b7[_0x3c439d(0x839)](_0x254d4f=>{const _0x43936f=_0x3c439d;let _0x9480ff=/TEL(?:.*):(.+)/,_0x391cdf=/EMAIL(?:.*):(.+)/,_0x1e830f=_0x254d4f['match'](_0x9480ff),_0x1882e4=_0x254d4f['match'](_0x391cdf);if(_0x1e830f){let _0x4b9a7b=_0x1e830f[0x1][_0x43936f(0x154)](/-| |\+|\(|\)/g,'')[_0x43936f(0x11c)]();_0x28a262+=_0x43936f(0x6bb)+_0x4b9a7b+'\x0a';}else{if(_0x1882e4){let _0x494dcb=_0x1882e4[0x1]['trim']();_0x28a262+=_0x43936f(0x5fc)+_0x494dcb+'\x0a';}}}),_0x28a262['trim']();}async[a0_0x75ac12(0x650)](_0x479228,_0x1fe317,_0x5a0296,_0x419264=null){const _0x5048b4=a0_0x75ac12;if(_0x479228['ENABLED'])try{let _0x242cb4=_0x1fe317[_0x5048b4(0x2c4)][_0x5048b4(0x323)][_0x5048b4(0x154)](/:\d{1,2}@/g,'@'),_0x574315=_0x1fe317[_0x5048b4(0x2c4)][_0x5048b4(0x196)],_0x4dc5e1=_0x242cb4[_0x5048b4(0x11d)](_0x5048b4(0x700)),_0x4c43a6=_0x1fe317['participant']?.[_0x5048b4(0x154)](/:\d{1,2}@/g,'@')||'',_0xf42c30=_0x1fe317['message_normalized']?.[_0x5048b4(0x105)]||_0x1fe317['message_normalized']?.[_0x5048b4(0x2fa)]||_0x1fe317[_0x5048b4(0x266)]?.[_0x5048b4(0x6df)]||_0x1fe317['message_normalized']?.[_0x5048b4(0x537)]||'',_0x281ad2={'_id':_0x1fe317['_id'],'remoteJid':_0x574315?this[_0x5048b4(0x7f4)][_0x5048b4(0x78d)]:_0x4dc5e1?_0x4c43a6:_0x242cb4,'pushName':_0x574315?this[_0x5048b4(0x7f4)]['profileName']||'Eu':_0x1fe317[_0x5048b4(0x1a6)],'text':_0xf42c30,'type':_0x1fe317['messageType'],'when':_0x1fe317[_0x5048b4(0x378)]||Date[_0x5048b4(0x505)]()};_0x419264||(_0x419264=await this[_0x5048b4(0x76b)][_0x5048b4(0x4f9)][_0x5048b4(0x4a6)]({'where':{'_id':_0x242cb4}},this[_0x5048b4(0x7f4)][_0x5048b4(0x78d)]));let _0x3a4a52=_0x419264?_0x574315?_0x419264[_0x5048b4(0x192)]:(_0x419264[_0x5048b4(0x192)]||0x0)+0x1:_0x574315?0x0:0x1,_0x5513c0={'lastmsg':_0x1fe317[_0x5048b4(0x378)]||Date[_0x5048b4(0x505)](),'ephemeralExpiration':_0x1fe317[_0x5048b4(0x831)],'lastMessage':_0x281ad2,'unreadcount':_0x3a4a52,..._0x574315||_0x4dc5e1?{}:{'name':_0x1fe317[_0x5048b4(0x1a6)]},..._0x4dc5e1?{'group':_0x4dc5e1}:{},...!_0x574315&&!_0x4dc5e1&&_0x1fe317[_0x5048b4(0x3a3)]?{'imagechat':_0x1fe317[_0x5048b4(0x3a3)]}:{}};if(!_0x4dc5e1&&(!_0x419264?.[_0x5048b4(0x7f5)]||!_0x419264[_0x5048b4(0x7f5)][_0x5048b4(0x1df)])&&_0x1fe317[_0x5048b4(0x1a6)]&&!_0x574315&&(_0x5513c0={..._0x5513c0,'leadInfo.nome':_0x1fe317['pushName']}),_0x419264?.['leadInfo'][_0x5048b4(0x49c)]||(_0x5513c0={..._0x5513c0,'leadInfo.etiquetas':[]}),_0x419264?.[_0x5048b4(0x7f5)][_0x5048b4(0x7a4)]||(_0x5513c0={..._0x5513c0,'leadInfo.customFields':[]}),_0x419264?.[_0x5048b4(0x7f5)][_0x5048b4(0x257)]||(_0x5513c0={..._0x5513c0,'leadInfo.tags':[]}),_0x419264&&_0x419264?.[_0x5048b4(0x703)]){let _0xa53bbb=await this['repository'][_0x5048b4(0x159)][_0x5048b4(0x1c3)]({'where':{}},this['instance']['wuid']),_0x53053c=new Set(_0xa53bbb[_0x5048b4(0x506)](_0x41577d=>_0x41577d[_0x5048b4(0x2af)])),_0x189598=(_0x419264[_0x5048b4(0x7f5)]?.[_0x5048b4(0x49c)]||[])['filter'](_0x2b94d3=>_0x53053c[_0x5048b4(0x2b8)](_0x2b94d3));_0x5513c0={..._0x5513c0,'imported':!0x1,'leadInfo.etiquetas':_0x189598};for(let _0x5bc57c of _0x189598)await this[_0x5048b4(0x19f)](_0x5bc57c,_0x242cb4);}if(!this[_0x5048b4(0x190)][_0x5048b4(0x574)][_0x5048b4(0x1c3)](_0x439167=>_0x439167[_0x5048b4(0x5b2)]&&_0xf42c30[_0x5048b4(0x5bb)](_0x439167[_0x5048b4(0x5b2)]))&&_0x5a0296===_0x5048b4(0x4c3)&&_0x574315&&this['AutomateSystem']?.[_0x5048b4(0x707)][_0x5048b4(0x5db)]&&_0xf42c30[_0x5048b4(0x11c)]()!==this[_0x5048b4(0x190)]?.[_0x5048b4(0x707)][_0x5048b4(0x516)][_0x5048b4(0x11c)]()){let _0x560c32=(this[_0x5048b4(0x190)]?.[_0x5048b4(0x707)][_0x5048b4(0x68d)]||0x0)*0xea60,_0x25c42e=Date[_0x5048b4(0x505)]()+_0x560c32;_0x419264?.[_0x5048b4(0x7f5)]?.[_0x5048b4(0x53a)]===0x0||(_0x5513c0={..._0x5513c0,'leadInfo.desativadoFluxoAte':_0x25c42e},this[_0x5048b4(0x224)][_0x5048b4(0x195)](this[_0x5048b4(0x300)]+'\x20('+this[_0x5048b4(0x7f4)][_0x5048b4(0x78d)]+_0x5048b4(0x1e7)+_0x25c42e+'.'));}if(_0xf42c30[_0x5048b4(0x11c)]()===this[_0x5048b4(0x190)]?.[_0x5048b4(0x707)][_0x5048b4(0x516)]['trim']()){this[_0x5048b4(0x224)][_0x5048b4(0x195)](this[_0x5048b4(0x300)]+'\x20('+this[_0x5048b4(0x7f4)][_0x5048b4(0x78d)]+_0x5048b4(0x685)+_0xf42c30);let _0x39f7ae=Date[_0x5048b4(0x505)]();this[_0x5048b4(0x190)]?.['flowConfig']['stopMinutes']===0x0?_0x5513c0={..._0x5513c0,'leadInfo.desativadoFluxoAte':_0x39f7ae+0x7591f6200}:_0x5513c0={..._0x5513c0,'leadInfo.desativadoFluxoAte':_0x39f7ae+this['AutomateSystem']?.['flowConfig'][_0x5048b4(0x272)]*0x3c*0x3e8};}if(_0x419264=await this[_0x5048b4(0x76b)][_0x5048b4(0x4f9)]['updateOne']({'where':{'_id':_0x242cb4}},_0x5513c0,this[_0x5048b4(0x7f4)][_0x5048b4(0x78d)],{'new':!0x0,'upsert':!0x0}),_0x419264)q(this[_0x5048b4(0x300)],_0x5048b4(0x184),{'chat':_0x419264});else{this[_0x5048b4(0x224)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x5048b4(0x409));return;}if(_0x574315)return this[_0x5048b4(0x224)]['verbose'](this[_0x5048b4(0x300)]+'\x20('+this['instance'][_0x5048b4(0x78d)]+'):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...'),null;if(!this[_0x5048b4(0x190)]?.[_0x5048b4(0x707)][_0x5048b4(0x5db)])return this[_0x5048b4(0x224)][_0x5048b4(0x195)](this['instanceName']+'\x20('+this[_0x5048b4(0x7f4)][_0x5048b4(0x78d)]+_0x5048b4(0x2ec)),null;if(_0x419264['_id'][_0x5048b4(0x5bb)]('@g.us')&&this['AutomateSystem']?.[_0x5048b4(0x707)][_0x5048b4(0x13a)]===!0x0)return this[_0x5048b4(0x224)]['verbose'](this[_0x5048b4(0x300)]+'\x20('+this[_0x5048b4(0x7f4)][_0x5048b4(0x78d)]+_0x5048b4(0x6d9)),null;if(_0x419264[_0x5048b4(0x7f5)]){if(_0x419264[_0x5048b4(0x7f5)]['desativadoFluxoAte']===0x0||_0x419264[_0x5048b4(0x7f5)][_0x5048b4(0x7ed)])return this[_0x5048b4(0x224)]['verbose'](this[_0x5048b4(0x300)]+'\x20('+this[_0x5048b4(0x7f4)][_0x5048b4(0x78d)]+_0x5048b4(0x465)+_0x242cb4+_0x5048b4(0x576)),null;if(_0x419264[_0x5048b4(0x7f5)]['desativadoFluxoAte']>Date[_0x5048b4(0x505)]()&&!_0x1fe317[_0x5048b4(0x266)]?.['vote'])return this[_0x5048b4(0x224)][_0x5048b4(0x195)](this['instanceName']+'\x20('+this['instance'][_0x5048b4(0x78d)]+_0x5048b4(0x2ac)+new Date(_0x419264[_0x5048b4(0x7f5)][_0x5048b4(0x53a)])[_0x5048b4(0x823)]()+_0x5048b4(0x576)),null;}this[_0x5048b4(0x224)][_0x5048b4(0x195)](this['instanceName']+'\x20('+this[_0x5048b4(0x7f4)]['wuid']+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x5048b4(0x638)](_0x1fe317,_0x5a0296);}catch(_0x7f866b){let _0x1ea50a=_0x5048b4(0x169),_0x52db2a=_0x7f866b instanceof Error?_0x7f866b[_0x5048b4(0x478)]:typeof _0x7f866b=='object'?JSON[_0x5048b4(0x53e)](_0x7f866b):_0x7f866b,_0x536891=_0x1ea50a+':\x20'+_0x52db2a;return this[_0x5048b4(0x224)][_0x5048b4(0x15c)](this['instanceName']+'\x20('+this[_0x5048b4(0x7f4)][_0x5048b4(0x78d)]+'):\x20'+_0x536891),null;}}async[a0_0x75ac12(0x26f)](_0x243c63,_0x311770){const _0x2dbdde=a0_0x75ac12;if(_0x311770[_0x2dbdde(0x69f)]){let _0x38367e=_0x243c63[_0x2dbdde(0x506)](async _0x326c03=>{const _0x121e73=_0x2dbdde;try{let _0x2d969b={'_id':_0x326c03[_0x121e73(0x2af)],'owner':_0x326c03[_0x121e73(0x4c1)],'lastcache':0x0};if(Object['keys'](_0x326c03)['forEach'](_0x228594=>{_0x326c03[_0x228594]!==null&&(_0x2d969b[_0x228594]=_0x326c03[_0x228594]);}),_0x2d969b[_0x121e73(0x734)]===null&&(_0x2d969b[_0x121e73(0x734)]='Imagem\x20não\x20encontrada'),Object['keys'](_0x2d969b)[_0x121e73(0x624)]>0x0)return await this['repository']['chat']['updateOne']({'where':{'_id':_0x326c03[_0x121e73(0x2af)]}},_0x2d969b,this[_0x121e73(0x7f4)][_0x121e73(0x78d)]);}catch(_0x4f1fe5){let _0x44f569=_0x121e73(0x412)+_0x326c03['_id'],_0x5e55ac=_0x4f1fe5 instanceof Error?_0x4f1fe5['message']:typeof _0x4f1fe5==_0x121e73(0x307)?JSON[_0x121e73(0x53e)](_0x4f1fe5):_0x4f1fe5,_0x51cde2=_0x44f569+':\x20'+_0x5e55ac;return this[_0x121e73(0x224)]['error'](this[_0x121e73(0x300)]+'\x20('+this[_0x121e73(0x7f4)][_0x121e73(0x78d)]+_0x121e73(0x3d3)+_0x51cde2),null;}}),_0x177530=(await Promise[_0x2dbdde(0x684)](_0x38367e))[_0x2dbdde(0x82d)](_0xcbe190=>_0xcbe190!==null)['length'];this['logger'][_0x2dbdde(0x195)](this[_0x2dbdde(0x300)]+'\x20('+this['instance'][_0x2dbdde(0x78d)]+_0x2dbdde(0x3d3)+_0x177530+'\x20chats\x20de\x20'+this['instance'][_0x2dbdde(0x78d)]+_0x2dbdde(0x321));}}async[a0_0x75ac12(0x7c7)](_0x3fd412){const _0x49dc92=a0_0x75ac12;this['logger'][_0x49dc92(0x195)](this[_0x49dc92(0x300)]+'\x20('+this[_0x49dc92(0x7f4)][_0x49dc92(0x78d)]+_0x49dc92(0x785));let _0x3e1e73={'readMessages':[{'remoteJid':_0x3fd412[_0x49dc92(0x239)][_0x49dc92(0x541)][_0x49dc92(0x2c4)][_0x49dc92(0x323)],'fromMe':_0x3fd412[_0x49dc92(0x239)][_0x49dc92(0x541)][_0x49dc92(0x2c4)][_0x49dc92(0x196)],'id':_0x3fd412[_0x49dc92(0x239)][_0x49dc92(0x541)]['key']['id']}]};await this['markMessageAsRead'](_0x3e1e73);}async[a0_0x75ac12(0x638)](_0x3feed1,_0x5809b4){const _0xbda386=a0_0x75ac12;try{let {key:_0x22ae49,message_normalized:_0x1d9111}=_0x3feed1,_0x3e1a85=_0x1d9111,_0x553b23=_0x1d9111['text']||_0x1d9111[_0xbda386(0x2fa)]||_0x1d9111[_0xbda386(0x6df)]||_0x1d9111[_0xbda386(0x537)]||'',_0x451698=_0x22ae49['remoteJid'],_0x3e28a3=null,_0x18a62f=this[_0xbda386(0x190)][_0xbda386(0x574)][_0xbda386(0x1c3)](_0xc3c2f4=>_0xc3c2f4[_0xbda386(0x5b2)]&&_0x553b23[_0xbda386(0x5bb)](_0xc3c2f4[_0xbda386(0x5b2)]));if(_0x18a62f&&_0x5809b4===_0xbda386(0x4c3)){let _0x339f1a=await this[_0xbda386(0x76b)]['flow']['findOne']({'where':{'_id':_0x18a62f[_0xbda386(0x2af)]}});if(this['logger']['verbose'](this[_0xbda386(0x300)]+'\x20('+this[_0xbda386(0x7f4)][_0xbda386(0x78d)]+_0xbda386(0x3f3)),_0x339f1a&&_0x339f1a[_0xbda386(0x4a4)]?.[_0xbda386(0x5bb)](this[_0xbda386(0x7f4)][_0xbda386(0x78d)]))_0x3e28a3=await this[_0xbda386(0x7e4)](_0x339f1a,_0x22ae49,_0x3e1a85);else return this[_0xbda386(0x224)][_0xbda386(0x195)](this[_0xbda386(0x300)]+'\x20('+this[_0xbda386(0x7f4)][_0xbda386(0x78d)]+_0xbda386(0x3a2)),null;}else this[_0xbda386(0x224)][_0xbda386(0x195)](this[_0xbda386(0x300)]+'\x20('+this[_0xbda386(0x7f4)][_0xbda386(0x78d)]+_0xbda386(0xf4));if(_0x3e28a3=await this[_0xbda386(0x26a)](_0x451698,_0x3e1a85),_0x3e28a3){this[_0xbda386(0x224)][_0xbda386(0x195)](this[_0xbda386(0x300)]+'\x20('+this[_0xbda386(0x7f4)][_0xbda386(0x78d)]+_0xbda386(0x140)),!_0x22ae49[_0xbda386(0x196)]&&_0x3e28a3['readMessages']&&this[_0xbda386(0x7c7)](_0x3e28a3);let _0x5f2b3e=await this[_0xbda386(0x3f4)](_0x3e28a3);_0x5f2b3e&&await this[_0xbda386(0x112)](_0x3e28a3,_0x5f2b3e);}}catch(_0x4c969b){this[_0xbda386(0x224)]['error'](this['instanceName']+'\x20('+this[_0xbda386(0x7f4)][_0xbda386(0x78d)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x4c969b instanceof Error?_0x4c969b['message']:JSON[_0xbda386(0x53e)](_0x4c969b,null,0x2)));}}[a0_0x75ac12(0x787)](_0x93239,_0x3f3c39='',_0x219f76={}){const _0x4363f4=a0_0x75ac12;return typeof _0x93239!=_0x4363f4(0x307)||_0x93239===null?(_0x3f3c39&&(_0x219f76[_0x3f3c39]=_0x93239),_0x219f76):(Object[_0x4363f4(0x173)](_0x93239)['forEach'](([_0x1be412,_0x4fae77])=>{const _0x5e9eac=_0x4363f4;let _0x3f6c0f=_0x3f3c39?_0x3f3c39+'.'+_0x1be412:'_'+_0x1be412;Array['isArray'](_0x4fae77)?_0x4fae77[_0x5e9eac(0x839)]((_0x4d348e,_0x4fa6c3)=>{const _0x5b99f9=_0x5e9eac;this[_0x5b99f9(0x787)](_0x4d348e,_0x3f6c0f+'['+_0x4fa6c3+']',_0x219f76);}):typeof _0x4fae77==_0x5e9eac(0x307)&&_0x4fae77!==null?this['flattenObject'](_0x4fae77,_0x3f6c0f,_0x219f76):_0x219f76[_0x3f6c0f]=String(_0x4fae77);}),_0x219f76);}[a0_0x75ac12(0x44e)](_0x4b5d18){const _0xa9fb28=a0_0x75ac12;let _0x3ba99e={};for(let _0x48c113 of _0x4b5d18)typeof _0x48c113['name']==_0xa9fb28(0x392)&&typeof _0x48c113[_0xa9fb28(0x429)]==_0xa9fb28(0x392)&&(_0x3ba99e[_0x48c113[_0xa9fb28(0x537)]]=_0x48c113[_0xa9fb28(0x429)]);return _0x3ba99e;}async[a0_0x75ac12(0x3f4)](_0x1e15f4){const _0x56f5bd=a0_0x75ac12;if(!this[_0x56f5bd(0x190)]?.[_0x56f5bd(0x707)][_0x56f5bd(0x5db)]||_0x1e15f4['status']!==_0x56f5bd(0x61c)&&_0x1e15f4[_0x56f5bd(0x4cd)]==='')return null;let _0xb33862=_0x1e15f4[_0x56f5bd(0x239)][_0x56f5bd(0x67f)]||'start';typeof _0x1e15f4[_0x56f5bd(0x239)]['lastCondition']>'u'&&(_0x1e15f4[_0x56f5bd(0x239)][_0x56f5bd(0x7e5)]=!0x0);let _0x2f0bba=_0x1e15f4[_0x56f5bd(0x239)][_0x56f5bd(0x7e5)];this[_0x56f5bd(0x224)]['verbose'](this[_0x56f5bd(0x300)]+'\x20('+this[_0x56f5bd(0x7f4)][_0x56f5bd(0x78d)]+'):\x20lastBlockId:\x20'+_0xb33862+_0x56f5bd(0x567)+_0x2f0bba);let _0x41edee=_0xb33862==='start'?_0x1e15f4[_0x56f5bd(0x1d6)][_0x56f5bd(0x1c3)](_0x1fc5fb=>_0x1fc5fb[_0x56f5bd(0x791)]===_0x56f5bd(0x32b)):_0x1e15f4['blocks'][_0x56f5bd(0x1c3)](_0x49f5f5=>_0x49f5f5[_0x56f5bd(0x2af)][_0x56f5bd(0x7ce)]()===_0xb33862[_0x56f5bd(0x7ce)]());if(!_0x41edee)return this[_0x56f5bd(0x224)][_0x56f5bd(0x15c)](this[_0x56f5bd(0x300)]+'\x20('+this[_0x56f5bd(0x7f4)]['wuid']+_0x56f5bd(0x12b)+_0xb33862),null;let _0x2e4bd2={'_pushName':_0x1e15f4?.['chatLog']?.['lastReceivedMessage']?.[_0x56f5bd(0x1a6)]||'','_sender':this[_0x56f5bd(0x7f4)][_0x56f5bd(0x78d)]||'',..._0x1e15f4[_0x56f5bd(0x239)][_0x56f5bd(0x111)]},_0x53a8c3=null;if(_0x1e15f4['waitingMenu_id']){let _0x10077b=_0x1e15f4[_0x56f5bd(0x239)]['lastReceivedMessage'][_0x56f5bd(0x6df)],_0x12d3ec=_0x1e15f4[_0x56f5bd(0x288)][_0x56f5bd(0x1c3)](_0xb0460b=>_0xb0460b[_0x56f5bd(0x306)]===_0x10077b);if(_0x12d3ec){let _0x2937cf=_0x12d3ec['next_groupId'];if(_0x53a8c3=_0x1e15f4[_0x56f5bd(0x1d6)][_0x56f5bd(0x1c3)](_0x41fe45=>_0x41fe45[_0x56f5bd(0x3a5)]===_0x2937cf&&_0x41fe45[_0x56f5bd(0x2e3)]===0x1),_0x41edee['uazapi'][_0x56f5bd(0x4f7)]){let _0x4e903c={'id':_0x1e15f4[_0x56f5bd(0x4cd)],'remoteJid':_0x1e15f4['remoteJid'],'fromMe':!0x0};await this[_0x56f5bd(0x4a9)](_0x4e903c);}if(_0x41edee[_0x56f5bd(0x581)][_0x56f5bd(0x4f7)]&&_0x41edee[_0x56f5bd(0x581)][_0x56f5bd(0x5ca)]&&_0x41edee[_0x56f5bd(0x581)]['menuType']===_0x56f5bd(0x71c)){let _0x3d4b37={'number':_0x1e15f4['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x56f5bd(0x141)+_0x1e15f4[_0x56f5bd(0x7f9)]+_0x56f5bd(0x653)+_0x10077b}};await this[_0x56f5bd(0x21c)](_0x3d4b37);}_0x1e15f4[_0x56f5bd(0x2be)]=_0x56f5bd(0x61c),_0x1e15f4[_0x56f5bd(0x4cd)]='',_0x1e15f4['waitingMenu_text']='',_0x1e15f4[_0x56f5bd(0x288)]=[];}else{this['logger'][_0x56f5bd(0x195)](this[_0x56f5bd(0x300)]+'\x20('+this[_0x56f5bd(0x7f4)][_0x56f5bd(0x78d)]+_0x56f5bd(0x278));let _0x1d9868={'activatedCount':_0x1e15f4[_0x56f5bd(0x239)][_0x56f5bd(0x65b)][_0x56f5bd(0x82d)](_0x596d5c=>String(_0x596d5c[_0x56f5bd(0x33f)])===String(_0xb33862))[_0x56f5bd(0x624)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x41edee['uazapi']['pollErrorMessage']){let _0x3c1a85={'number':_0x1e15f4[_0x56f5bd(0x323)],'options':{'delay':0x0},'textMessage':{'text':_0x41edee[_0x56f5bd(0x581)][_0x56f5bd(0x2cc)]}};await this[_0x56f5bd(0x21c)](_0x3c1a85);}if(_0x41edee[_0x56f5bd(0x3aa)]!==void 0x0&&_0x1d9868[_0x56f5bd(0x718)]>=_0x41edee[_0x56f5bd(0x3aa)]){let _0xf0822a=Date['now'](),_0xbfa20a=_0x41edee[_0x56f5bd(0x51f)]??0xa;isNaN(_0xbfa20a)&&(_0xbfa20a=0xa);let _0x3ce473=_0xf0822a+_0xbfa20a*0x3c*0x3e8;_0x1d9868['newStoppedUntil']=_0x3ce473,_0x1d9868[_0x56f5bd(0x4c7)][_0x56f5bd(0x6e9)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x56f5bd(0x16c)](_0x1e15f4,_0x3ce473),_0x1e15f4[_0x56f5bd(0x4cd)]='',_0x1e15f4[_0x56f5bd(0x7f9)]='',_0x1e15f4[_0x56f5bd(0x288)]=[];}return this[_0x56f5bd(0x1ae)](_0x1e15f4,_0x41edee,_0x1d9868,!0x0),null;}}if(_0x2f0bba&&_0x41edee['next_groupId']&&!_0x1e15f4[_0x56f5bd(0x4cd)]){let _0x18dfdd=_0x1e15f4[_0x56f5bd(0x1d6)][_0x56f5bd(0x82d)](_0x4d5093=>_0x4d5093[_0x56f5bd(0x3a5)][_0x56f5bd(0x7ce)]()===_0x41edee[_0x56f5bd(0x60f)][_0x56f5bd(0x7ce)]())[_0x56f5bd(0x121)]((_0x3c3d12,_0x1bb4d6)=>_0x3c3d12[_0x56f5bd(0x2e3)]-_0x1bb4d6[_0x56f5bd(0x2e3)]);_0x18dfdd['length']>0x0&&(_0x53a8c3=_0x18dfdd[0x0]);}if(!_0x53a8c3){let _0x5a21c6=_0x41edee[_0x56f5bd(0x3a5)],_0x20594f=_0x1e15f4['blocks'][_0x56f5bd(0x82d)](_0x1d3389=>_0x1d3389[_0x56f5bd(0x3a5)]===_0x5a21c6&&_0x1d3389[_0x56f5bd(0x2e3)]>_0x41edee[_0x56f5bd(0x2e3)])[_0x56f5bd(0x121)]((_0x725d10,_0x47463d)=>_0x725d10['order']-_0x47463d[_0x56f5bd(0x2e3)]);_0x20594f[_0x56f5bd(0x624)]>0x0&&(_0x53a8c3=_0x20594f[0x0]);}if(!_0x53a8c3)return _0x1e15f4[_0x56f5bd(0x2be)]=_0x56f5bd(0x73c),null;_0x1e15f4[_0x56f5bd(0x239)][_0x56f5bd(0x111)]=_0x2e4bd2;let _0x5b55b5=JSON[_0x56f5bd(0x31e)](JSON[_0x56f5bd(0x53e)](_0x53a8c3));return this['replaceVariablesInObject'](_0x5b55b5,_0x1e15f4['chatLog'][_0x56f5bd(0x111)]),_0x1e15f4[_0x56f5bd(0x239)][_0x56f5bd(0x67f)]=_0x5b55b5[_0x56f5bd(0x2af)],_0x1e15f4[_0x56f5bd(0x239)][_0x56f5bd(0x7e5)]=!0x0,_0x5b55b5;}[a0_0x75ac12(0x651)](_0x1ea173,_0x5dfe37){const _0x4b5a85=a0_0x75ac12;return _0x1ea173[_0x4b5a85(0x154)](/\{\{([^}]+)\}\}/g,(_0x211772,_0x4385e0)=>_0x5dfe37[_0x4385e0]||'');}['replaceVariablesInObject'](_0x3214e2,_0x1d6fa5){const _0x380aed=a0_0x75ac12;for(let _0x5b7da2 in _0x3214e2)typeof _0x3214e2[_0x5b7da2]==_0x380aed(0x392)?_0x3214e2[_0x5b7da2]=this[_0x380aed(0x651)](_0x3214e2[_0x5b7da2],_0x1d6fa5):typeof _0x3214e2[_0x5b7da2]==_0x380aed(0x307)&&this['replaceVariablesInObject'](_0x3214e2[_0x5b7da2],_0x1d6fa5);}async['goNextblock'](_0x3d7227,_0x3fede5){const _0x3eccea=a0_0x75ac12;let _0x52cc0b=_0x3fede5[_0x3eccea(0x2af)];if(_0x3d7227['chatLog']&&_0x3d7227['chatLog'][_0x3eccea(0x65b)]){let _0x2ad7ee=_0x3d7227[_0x3eccea(0x239)]['blockLogs'][_0x3eccea(0x82d)](_0x5731f8=>String(_0x5731f8[_0x3eccea(0x33f)])===String(_0x52cc0b))[_0x3eccea(0x1e1)]();if(_0x2ad7ee&&_0x2ad7ee[_0x3eccea(0x15c)]&&_0x3fede5[_0x3eccea(0x7ef)])return _0x3d7227[_0x3eccea(0x2be)]=_0x3eccea(0x73c),await this['saveConversationToDatabase'](_0x3d7227),null;}if(_0x3fede5[_0x3eccea(0x791)]==='uazapi'&&_0x3fede5[_0x3eccea(0x581)][_0x3eccea(0x2ae)]==='sendPoll'&&_0x3d7227[_0x3eccea(0x4cd)])return _0x3d7227[_0x3eccea(0x239)][_0x3eccea(0x67f)]=_0x52cc0b,await this['saveConversationToDatabase'](_0x3d7227),null;let _0x49fdda=await this['NextBlock'](_0x3d7227);if(_0x3d7227['chatLog']&&_0x3d7227[_0x3eccea(0x239)][_0x3eccea(0x65b)]){let _0x38efad=_0x3d7227['chatLog'][_0x3eccea(0x65b)]['filter'](_0x39f9b8=>String(_0x39f9b8[_0x3eccea(0x33f)])===String(_0x52cc0b))[_0x3eccea(0x624)];if(_0x3fede5['maxActives']!==void 0x0&&_0x38efad>=_0x3fede5['maxActives']){let _0x2eb57d=Date[_0x3eccea(0x505)](),_0x571138=_0x3fede5['stopMinutesMaxActives']??0xa;isNaN(_0x571138)&&(_0x571138=0xa);let _0x1913cc=_0x2eb57d+_0x571138*0x3c*0x3e8,_0x5ce4cc={'newStoppedUntil':_0x1913cc};return this['updateStopChat'](_0x3d7227,_0x1913cc),this[_0x3eccea(0x1ae)](_0x3d7227,_0x3fede5,_0x5ce4cc,!0x0),null;}}_0x49fdda&&_0x49fdda[_0x3eccea(0x791)]!==_0x3eccea(0x461)&&await this['processblock'](_0x3d7227,_0x49fdda),_0x49fdda||await this[_0x3eccea(0x168)](_0x3d7227),_0x49fdda&&_0x49fdda['type']===_0x3eccea(0x461)&&(_0x3d7227[_0x3eccea(0x239)][_0x3eccea(0x67f)]=_0x52cc0b,await this[_0x3eccea(0x168)](_0x3d7227));}async[a0_0x75ac12(0x112)](_0x2596bd,_0x252792){const _0x499d64=a0_0x75ac12;try{let _0x2324c3=_0x252792['type'];this[_0x499d64(0x224)][_0x499d64(0x195)](this[_0x499d64(0x300)]+'\x20('+this[_0x499d64(0x7f4)][_0x499d64(0x78d)]+_0x499d64(0x677)+_0x2324c3);let _0x2af0a1={'uazapi':()=>this[_0x499d64(0x813)](_0x2596bd,_0x252792),'save':()=>this['saveTextReply'](_0x2596bd,_0x252792),'stop':()=>this[_0x499d64(0x516)](_0x2596bd,_0x252792),'condition':()=>this[_0x499d64(0x6a7)](_0x2596bd,_0x252792),'varedit':()=>this[_0x499d64(0x4f6)](_0x2596bd,_0x252792),'apirequest':()=>this['processApiRequest'](_0x2596bd,_0x252792),'goToFlow':()=>this[_0x499d64(0x589)](_0x2596bd,_0x252792),'scheduleFlow':()=>this['processScheduleFlow'](_0x2596bd,_0x252792),'awaitSeconds':()=>this[_0x499d64(0x128)](_0x2596bd,_0x252792),'clearVariables':()=>this['processclearVariables'](_0x2596bd,_0x252792)}[_0x2324c3];_0x2af0a1&&await _0x2af0a1();}catch(_0x36c890){this[_0x499d64(0x224)]['error'](this['instanceName']+'\x20('+this[_0x499d64(0x7f4)]['wuid']+'):\x20Error\x20processing\x20the\x20block:\x20'+(_0x36c890 instanceof Error?_0x36c890[_0x499d64(0x478)]:JSON['stringify'](_0x36c890,null,0x2)));}}async[a0_0x75ac12(0x128)](_0x55c0b2,_0x32fb3a){const _0x10d1f2=a0_0x75ac12;if(this[_0x10d1f2(0x224)]['verbose'](this['instanceName']+'\x20('+this[_0x10d1f2(0x7f4)][_0x10d1f2(0x78d)]+_0x10d1f2(0x24f)),!_0x55c0b2||!_0x32fb3a)return this[_0x10d1f2(0x224)][_0x10d1f2(0x15c)](this['instanceName']+'\x20('+this['instance'][_0x10d1f2(0x78d)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x124395=+_0x32fb3a[_0x10d1f2(0x7af)];isNaN(_0x124395)&&(_0x124395=0x0),_0x124395=Math[_0x10d1f2(0x65e)](_0x124395,0x3c),await(0x0,w[_0x10d1f2(0x561)])(_0x124395*0x3e8);let _0x41b201={'moreLogs':['Pausado\x20por\x20'+_0x124395+'\x20segundos']};return await this[_0x10d1f2(0x1ae)](_0x55c0b2,_0x32fb3a,_0x41b201),_0x124395;}async[a0_0x75ac12(0x3f7)](_0x22b207,_0x3eb70e){const _0x483738=a0_0x75ac12;if(this[_0x483738(0x224)][_0x483738(0x195)](this['instanceName']+'\x20('+this[_0x483738(0x7f4)][_0x483738(0x78d)]+_0x483738(0x2ea)),!_0x22b207||!_0x3eb70e)return this[_0x483738(0x224)][_0x483738(0x15c)](this[_0x483738(0x300)]+'\x20('+this['instance'][_0x483738(0x78d)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x33b879=[];if(_0x3eb70e[_0x483738(0x319)]['trim']()===_0x483738(0x5af)){let _0x5dfe22=[_0x483738(0x469),_0x483738(0x3f1),_0x483738(0x265),_0x483738(0x315),'_remoteJid',_0x483738(0x2af),_0x483738(0x57e)];_0x33b879=Object[_0x483738(0x58e)](_0x22b207[_0x483738(0x239)][_0x483738(0x111)])[_0x483738(0x82d)](_0x10f41e=>_0x10f41e['startsWith']('_')&&!_0x5dfe22[_0x483738(0x5bb)](_0x10f41e));}else _0x33b879=_0x3eb70e[_0x483738(0x319)]['split']('|')[_0x483738(0x506)](_0x3b840e=>(_0x3b840e=_0x3b840e[_0x483738(0x154)](/[{}]/g,'')['trim'](),_0x3b840e['startsWith']('_')?_0x3b840e:'_'+_0x3b840e));let _0x563757=[];_0x33b879[_0x483738(0x839)](_0x5a753d=>{const _0x11c6b5=_0x483738;_0x5a753d in _0x22b207['chatLog'][_0x11c6b5(0x111)]&&(delete _0x22b207[_0x11c6b5(0x239)][_0x11c6b5(0x111)][_0x5a753d],_0x563757['push'](_0x5a753d));}),_0x563757[_0x483738(0x624)]>0x0?this['logger']['verbose'](this[_0x483738(0x300)]+'\x20('+this[_0x483738(0x7f4)][_0x483738(0x78d)]+_0x483738(0x5e4)+_0x563757[_0x483738(0x215)](',\x20')):this[_0x483738(0x224)][_0x483738(0x195)](this['instanceName']+'\x20('+this[_0x483738(0x7f4)][_0x483738(0x78d)]+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0x3b8a97={'moreLogs':['Removidas\x20as\x20variáveis:\x20'+_0x563757[_0x483738(0x215)](',\x20')]};return await this[_0x483738(0x1ae)](_0x22b207,_0x3eb70e,_0x3b8a97),null;}async[a0_0x75ac12(0x46f)](_0x1390bf,_0x2574e3){const _0x2dcada=a0_0x75ac12;if(this[_0x2dcada(0x224)][_0x2dcada(0x195)](this[_0x2dcada(0x300)]+'\x20('+this[_0x2dcada(0x7f4)][_0x2dcada(0x78d)]+_0x2dcada(0x49b)),!_0x1390bf||!_0x2574e3)return this[_0x2dcada(0x224)][_0x2dcada(0x15c)](this[_0x2dcada(0x300)]+'\x20('+this[_0x2dcada(0x7f4)][_0x2dcada(0x78d)]+_0x2dcada(0x445)),null;let _0x2fa652=_0x1390bf['remoteJid'];_0x2574e3[_0x2dcada(0x417)][_0x2dcada(0x323)]&&_0x2574e3['scheduleFlow']['remoteJid'][_0x2dcada(0x11c)]()!==''&&(_0x2fa652=_0x2574e3[_0x2dcada(0x581)][_0x2dcada(0x323)][_0x2dcada(0x11c)]());let _0x495160=_0x2574e3[_0x2dcada(0x417)]['timeInMinutes']*0xea60,_0x305e22=Date['now']()+_0x495160,_0x5347be={'status':_0x2dcada(0x848),'info':'Fluxo\x20agendado\x20pelo\x20fluxo\x20'+_0x1390bf['name'],'remoteJids':[_0x2fa652],'when':_0x305e22,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x2dcada(0x20a),'flowName':_0x2574e3['scheduleFlow'][_0x2dcada(0x82f)]};this[_0x2dcada(0x483)](_0x5347be);let _0x5b302d=await this[_0x2dcada(0x3f4)](_0x1390bf);_0x5b302d&&await this['processblock'](_0x1390bf,_0x5b302d);}async['processgoToFlow'](_0x26b0d5,_0x2b0647){const _0x24bbbe=a0_0x75ac12;if(this[_0x24bbbe(0x224)][_0x24bbbe(0x195)](this[_0x24bbbe(0x300)]+'\x20('+this[_0x24bbbe(0x7f4)]['wuid']+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x26b0d5||!_0x2b0647)return this[_0x24bbbe(0x224)][_0x24bbbe(0x15c)](this[_0x24bbbe(0x300)]+'\x20('+this['instance'][_0x24bbbe(0x78d)]+_0x24bbbe(0x445)),null;await this[_0x24bbbe(0x1ae)](_0x26b0d5,_0x2b0647,{},!0x0,!0x0);let _0x18ac7d=_0x2b0647[_0x24bbbe(0x600)];_0x26b0d5=await this[_0x24bbbe(0x31d)](_0x18ac7d,_0x26b0d5[_0x24bbbe(0x323)],_0x26b0d5[_0x24bbbe(0x239)]['realVariables']);let _0x10dd68=await this['NextBlock'](_0x26b0d5);_0x10dd68&&await this[_0x24bbbe(0x112)](_0x26b0d5,_0x10dd68);}async[a0_0x75ac12(0x31d)](_0x80070a,_0x1efb64,_0x5cc85d){const _0x354974=a0_0x75ac12;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x354974(0x7f4)][_0x354974(0x78d)]+_0x354974(0x67e));try{let _0x3a6d52=this[_0x354974(0x190)][_0x354974(0x574)][_0x354974(0x1c3)](_0x43f8db=>_0x43f8db[_0x354974(0x2af)]===_0x80070a);_0x3a6d52||this['logger'][_0x354974(0x15c)](this['instanceName']+'\x20('+this['instance'][_0x354974(0x78d)]+_0x354974(0x5cc)+_0x80070a+_0x354974(0x64a));let _0x120433=await this['repository'][_0x354974(0x20a)][_0x354974(0x4a6)]({'where':{'_id':_0x3a6d52[_0x354974(0x2af)]}});if(!_0x120433||!_0x120433[_0x354974(0x4a4)]?.[_0x354974(0x5bb)](this[_0x354974(0x7f4)][_0x354974(0x78d)]))throw this['logger'][_0x354974(0x15c)](this[_0x354974(0x300)]+'\x20('+this[_0x354974(0x7f4)][_0x354974(0x78d)]+'):\x20Flow\x20\x27'+_0x80070a+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x354974(0x1b4)+_0x80070a+_0x354974(0x3eb));let _0x296e9f=require('mongodb')[_0x354974(0x163)],_0x9a9155=Date[_0x354974(0x505)](),_0x39d171=_0x354974(0x32b),_0x55f9e6={},_0x17c58d={},_0x2e5402=this[_0x354974(0x190)][_0x354974(0x574)][_0x354974(0x1c3)](_0x4aff72=>_0x4aff72[_0x354974(0x2af)]===_0x120433[_0x354974(0x2af)]?.[_0x354974(0x7ce)]()),_0x545568=_0x2e5402?.[_0x354974(0x23c)]??_0x120433[_0x354974(0x23c)]??0x0,_0x5f460c=_0x2e5402?.[_0x354974(0x201)]??_0x120433['readMessages']??!0x1,_0x470fd2={'flowId':_0x3a6d52['_id'],'readMessages':_0x3a6d52[_0x354974(0x201)],..._0x120433,'chatLog':null},_0x4e4525={'lastReceivedMessage':_0x55f9e6,'lastSendMessage':_0x17c58d,'lastBlockId':_0x39d171,'lastCondition':!0x0,'realVariables':_0x5cc85d};_0x470fd2['chatLog']=_0x4e4525,_0x470fd2['chatLog']['realVariables']={..._0x5cc85d},delete _0x470fd2['_id'],_0x470fd2[_0x354974(0x2af)]=new _0x296e9f(),_0x470fd2[_0x354974(0x681)]=_0x9a9155,_0x470fd2[_0x354974(0x2be)]='open',_0x470fd2[_0x354974(0x323)]=_0x1efb64,_0x470fd2[_0x354974(0x23c)]=_0x545568,_0x470fd2['readMessages']=_0x5f460c;let _0x1b13f1=await this['repository'][_0x354974(0x533)]['updateOne'](_0x470fd2['_id'],_0x470fd2,this[_0x354974(0x7f4)][_0x354974(0x78d)]);return this['logger']['verbose'](this[_0x354974(0x300)]+'\x20('+this[_0x354974(0x7f4)]['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x1b13f1?_0x470fd2:null;}catch(_0xc2b348){let _0x2bd924=_0x354974(0x6a6),_0xfedb65=_0xc2b348 instanceof Error?_0xc2b348[_0x354974(0x478)]:typeof _0xc2b348==_0x354974(0x307)?JSON[_0x354974(0x53e)](_0xc2b348):_0xc2b348,_0xa2a674=_0x2bd924+':\x20'+_0xfedb65;throw this['logger'][_0x354974(0x15c)](this[_0x354974(0x300)]+'\x20('+this[_0x354974(0x7f4)]['wuid']+'):\x20'+_0xa2a674),new m(_0xa2a674);}}async['processApiRequest'](_0x4afdc6,_0x5227df){const _0x2ee06a=a0_0x75ac12;let _0x596be9,_0x37de1b;try{let _0x307085=_0x5227df[_0x2ee06a(0x5a7)];if(!_0x307085||!_0x307085['url']||!_0x307085[_0x2ee06a(0x29b)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x3da689;([_0x2ee06a(0x30e),_0x2ee06a(0x30c),_0x2ee06a(0x3a9)][_0x2ee06a(0x682)](_0x321ffb=>_0x307085[_0x2ee06a(0x547)][_0x2ee06a(0x5bb)](_0x321ffb))||_0x307085[_0x2ee06a(0x7d4)])&&(_0x3da689='arraybuffer');let _0x41094b='\u205f',_0xfaf1e8;try{_0xfaf1e8=JSON[_0x2ee06a(0x31e)](_0x307085[_0x2ee06a(0x1f9)][_0x2ee06a(0x154)](new RegExp(_0x41094b,'g'),''));}catch(_0x1b0f65){throw _0x1b0f65;}let _0x5a7fea={'method':_0x307085['method'],'url':_0x307085[_0x2ee06a(0x547)],'headers':_0x307085[_0x2ee06a(0x79f)]||{},..._0x307085['method']['toUpperCase']()!=='GET'&&_0x307085[_0x2ee06a(0x1f9)]?{'data':JSON[_0x2ee06a(0x31e)](_0x307085['bodyString']['replace'](new RegExp(_0x41094b,'g'),''))}:{},..._0x3da689&&{'responseType':_0x3da689}},_0x25c558=await(0x0,te[_0x2ee06a(0x636)])(_0x5a7fea),_0xd051f5=_0x25c558['headers'][_0x2ee06a(0x552)];if(_0xd051f5&&_0xd051f5[_0x2ee06a(0x5bb)](_0x2ee06a(0x127))||typeof _0x25c558[_0x2ee06a(0x3d8)]==_0x2ee06a(0x392)){if(typeof _0x25c558['data']=='string'){let _0x957795=_0x25c558[_0x2ee06a(0x3d8)][_0x2ee06a(0x154)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x2ee06a(0x11c)]();try{_0x596be9=JSON[_0x2ee06a(0x31e)](_0x957795);}catch(_0x4851ca){this['logger'][_0x2ee06a(0x15c)](_0x2ee06a(0x57a)+_0x4851ca[_0x2ee06a(0x478)]),_0x596be9={'_apiResponse':_0x25c558['data']};}}else _0x596be9=_0x25c558[_0x2ee06a(0x3d8)];let _0x192e7c=_0x4afdc6[_0x2ee06a(0x239)][_0x2ee06a(0x111)],_0x499813=this[_0x2ee06a(0x787)](_0x596be9);return Object[_0x2ee06a(0x414)](_0x192e7c,_0x499813),_0x4afdc6[_0x2ee06a(0x239)][_0x2ee06a(0x111)]=_0x192e7c,_0x37de1b={'error':!0x1,'apiResponse':_0x596be9},this['updateConversation'](_0x4afdc6,_0x5227df,_0x37de1b),_0x596be9;}if(_0xd051f5&&(_0xd051f5['includes'](_0x2ee06a(0x527))||_0xd051f5[_0x2ee06a(0x5bb)](_0x2ee06a(0x466))||_0xd051f5[_0x2ee06a(0x5bb)](_0x2ee06a(0x3c4))||_0xd051f5['includes'](_0x2ee06a(0x1b1)))){this[_0x2ee06a(0x224)][_0x2ee06a(0x195)](this[_0x2ee06a(0x300)]+'\x20('+this[_0x2ee06a(0x7f4)][_0x2ee06a(0x78d)]+_0x2ee06a(0x5c3)+_0xd051f5);let _0x921acb=(0x0,X['v4'])(),_0x4b2192='',_0x8d8959={'image/jpeg':_0x2ee06a(0x380),'image/png':_0x2ee06a(0x75b),'image/gif':_0x2ee06a(0x206),'image/webp':_0x2ee06a(0x77f),'image/svg+xml':_0x2ee06a(0x370),'audio/mpeg':_0x2ee06a(0x39e),'audio/ogg':_0x2ee06a(0x71b),'audio/wav':_0x2ee06a(0x330),'video/mp4':'.mp4','video/webm':_0x2ee06a(0x800),'video/ogg':'.ogv','text/plain':_0x2ee06a(0x186),'application/pdf':_0x2ee06a(0x739),'application/msword':_0x2ee06a(0x39c),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x2ee06a(0x2e4),'application/vnd.ms-excel':_0x2ee06a(0x55d),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x2ee06a(0x6b1),'application/vnd.ms-powerpoint':_0x2ee06a(0x54e),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x2ee06a(0x601)};_0x8d8959[_0xd051f5]?(_0x4b2192=_0x8d8959[_0xd051f5],this[_0x2ee06a(0x224)][_0x2ee06a(0x195)](this['instanceName']+'\x20('+this[_0x2ee06a(0x7f4)][_0x2ee06a(0x78d)]+_0x2ee06a(0x3fb)+_0x4b2192)):(_0x4b2192=_0x2ee06a(0x6d3),this[_0x2ee06a(0x224)][_0x2ee06a(0x195)](this[_0x2ee06a(0x300)]+'\x20('+this[_0x2ee06a(0x7f4)][_0x2ee06a(0x78d)]+_0x2ee06a(0x44a)+_0x4b2192)),_0x921acb+=_0x4b2192,this[_0x2ee06a(0x224)][_0x2ee06a(0x195)](this[_0x2ee06a(0x300)]+'\x20('+this['instance'][_0x2ee06a(0x78d)]+_0x2ee06a(0x70a)+_0x921acb);let _0x52e8f8=this[_0x2ee06a(0x846)]['get'](_0x2ee06a(0x3fc))[_0x2ee06a(0x293)];if(!_0x52e8f8){let _0x7caf02=this[_0x2ee06a(0x846)][_0x2ee06a(0x407)]('SSL_CONF');_0x52e8f8=_0x2ee06a(0x29f)+(_0x7caf02&&_0x7caf02['FULLCHAIN'][_0x2ee06a(0x170)]('/')[0x4]);}let _0x10dc3d=Buffer[_0x2ee06a(0x47f)](_0x25c558[_0x2ee06a(0x3d8)]);await this['saveMediaToFile'](_0x10dc3d,_0x921acb);let _0x2f4142=_0x2ee06a(0x2d9)+_0x921acb;_0x2f4142=''+_0x52e8f8+_0x2f4142,_0x596be9={'fileUrl':_0x2f4142},_0x4afdc6['chatLog'][_0x2ee06a(0x111)][_0x2ee06a(0x6ec)]=_0x2f4142;let _0x38eb2a=_0x4afdc6[_0x2ee06a(0x239)][_0x2ee06a(0x111)],_0x1fe23c=this[_0x2ee06a(0x787)](_0x596be9);return Object['assign'](_0x38eb2a,_0x1fe23c),_0x4afdc6[_0x2ee06a(0x239)][_0x2ee06a(0x111)]=_0x38eb2a,_0x37de1b={'error':!0x1,'apiResponse':{'fileUrl':_0x2f4142}},this[_0x2ee06a(0x1ae)](_0x4afdc6,_0x5227df,_0x37de1b),_0x596be9;}}catch(_0x376bcd){this[_0x2ee06a(0x224)]['error']('Erro\x20ao\x20processar\x20a\x20chamada\x20API:'+_0x376bcd['message']),_0x376bcd[_0x2ee06a(0x500)]&&(_0x596be9=_0x376bcd['response'][_0x2ee06a(0x3d8)]);let _0xea8a2f=_0x4afdc6[_0x2ee06a(0x239)][_0x2ee06a(0x111)],_0x47013a=this[_0x2ee06a(0x787)](_0x596be9);return Object[_0x2ee06a(0x414)](_0xea8a2f,_0x47013a),_0x4afdc6[_0x2ee06a(0x239)][_0x2ee06a(0x111)]=_0xea8a2f,_0x37de1b={'error':!0x0,'errorLog':_0x376bcd[_0x2ee06a(0x7ce)](),'apiResponse':_0x596be9},this['updateConversation'](_0x4afdc6,_0x5227df,_0x37de1b),{'success':!0x1};}}[a0_0x75ac12(0x6ca)](_0x54c81f,_0x36e706){const _0x3500e8=a0_0x75ac12;let _0x5382af=_0x4b0f51=>{const _0x26c456=a0_0x2e53;let _0x4a38b4=_0x4b0f51['replace'](/[^0-9.,-]/g,'')[_0x26c456(0x154)](',','.'),_0x2510e4=parseFloat(_0x4a38b4);return isNaN(_0x2510e4)?null:_0x2510e4;},_0x22e2b6=_0x36e706[_0x3500e8(0x33c)],_0x51ba53=_0x36e706[_0x3500e8(0x502)];typeof _0x22e2b6==_0x3500e8(0x392)&&(_0x22e2b6=this[_0x3500e8(0x651)](_0x22e2b6,_0x54c81f[_0x3500e8(0x239)][_0x3500e8(0x111)])??''),typeof _0x51ba53==_0x3500e8(0x392)&&(_0x51ba53=this[_0x3500e8(0x651)](_0x51ba53,_0x54c81f[_0x3500e8(0x239)][_0x3500e8(0x111)])??'');let _0x526246=null;if(!_0x36e706[_0x3500e8(0x642)])return null;switch(this[_0x3500e8(0x224)][_0x3500e8(0x195)](this[_0x3500e8(0x300)]+'\x20('+this[_0x3500e8(0x7f4)][_0x3500e8(0x78d)]+_0x3500e8(0x302)+_0x22e2b6),this[_0x3500e8(0x224)][_0x3500e8(0x195)](this[_0x3500e8(0x300)]+'\x20('+this[_0x3500e8(0x7f4)][_0x3500e8(0x78d)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0x51ba53),_0x36e706['editOperator']){case'+':case'-':case'*':case'/':let _0x43987f=_0x5382af(_0x22e2b6||'0'),_0x2b5406=_0x5382af(_0x51ba53||'0');if(_0x43987f===null)return null;switch(_0x36e706[_0x3500e8(0x642)]){case'+':_0x526246=_0x43987f+(_0x2b5406??0x0);break;case'-':_0x526246=_0x43987f-(_0x2b5406??0x0);break;case'*':_0x526246=_0x43987f*(_0x2b5406??0x1);break;case'/':_0x2b5406!==0x0&&(_0x526246=_0x43987f/(_0x2b5406??0x1));break;}break;case _0x3500e8(0x6d1):case _0x3500e8(0x3ea):let _0x2deece=_0x51ba53,_0x34efed=_0x36e706[_0x3500e8(0x20f)];if(typeof _0x34efed==_0x3500e8(0x392)&&(_0x34efed=this['replaceVariables'](_0x34efed,_0x54c81f[_0x3500e8(0x239)][_0x3500e8(0x111)])??''),_0x2deece&&_0x34efed!==void 0x0){let _0x2eef1e=_0x36e706['editOperator']==='findAndReplace'?new RegExp(_0x2deece['replace'](/[-\/\\^$*+?.()|[\]{}]/g,_0x3500e8(0x514)),'g'):new RegExp(_0x2deece,'g');_0x526246=_0x22e2b6[_0x3500e8(0x154)](_0x2eef1e,_0x34efed);}else console[_0x3500e8(0x7bf)](_0x3500e8(0x2a8));break;case _0x3500e8(0x47c):_0x526246=_0x51ba53;break;case _0x3500e8(0x1eb):let _0x2dab49=_0x22e2b6['match'](new RegExp(_0x51ba53||''));_0x526246=_0x2dab49?_0x2dab49[0x0]:'';break;case _0x3500e8(0x4af):_0x526246=_0x22e2b6[_0x3500e8(0x630)](0x0,parseInt(_0x51ba53||'0'));break;case _0x3500e8(0x640):let _0x4af030=parseInt(_0x51ba53||'0');_0x526246=_0x22e2b6[_0x3500e8(0x630)](_0x22e2b6[_0x3500e8(0x624)]-_0x4af030);break;case _0x3500e8(0x5e3):let _0x59092e=_0x5382af(_0x22e2b6),_0x20bed1=parseInt(_0x51ba53||'0');_0x20bed1=Math['abs'](_0x20bed1),_0x59092e!==null?_0x526246=_0x59092e['toLocaleString']('pt-BR',{'minimumFractionDigits':_0x20bed1,'maximumFractionDigits':_0x20bed1}):(console[_0x3500e8(0x7bf)](_0x3500e8(0x6bc)+_0x22e2b6),_0x526246=null);break;case _0x3500e8(0x408):let _0x510c62=_0x5382af(_0x22e2b6);_0x510c62!==null?_0x526246=_0x510c62[_0x3500e8(0x823)]('pt-BR',{'style':_0x3500e8(0x383),'currency':_0x3500e8(0x45f)}):(console[_0x3500e8(0x7bf)](_0x3500e8(0x6e6)+_0x22e2b6),_0x526246=null);break;case _0x3500e8(0x802):_0x526246=_0x22e2b6['toUpperCase']();break;case _0x3500e8(0x3d0):_0x526246=_0x22e2b6['toLowerCase']();break;case _0x3500e8(0x687):_0x526246=_0x22e2b6[_0x3500e8(0x170)]('\x20')[_0x3500e8(0x506)](_0x39cb39=>_0x39cb39[_0x3500e8(0x80d)](0x0)[_0x3500e8(0x2ed)]()+_0x39cb39[_0x3500e8(0x630)](0x1)[_0x3500e8(0x56d)]())[_0x3500e8(0x215)]('\x20');break;case _0x3500e8(0x240):_0x526246=_0x22e2b6[_0x3500e8(0x11c)]();break;default:_0x526246=_0x22e2b6;}return _0x526246!==null?_0x526246[_0x3500e8(0x7ce)]():null;}async[a0_0x75ac12(0x4f6)](_0x3832a7,_0xf5b356){const _0x4c04a5=a0_0x75ac12;try{let _0x2510c0=_0x3832a7[_0x4c04a5(0x10a)]?.[_0x4c04a5(0x82d)](_0x2a4c89=>_0x2a4c89[_0x4c04a5(0x33f)]===_0xf5b356['_id']?.[_0x4c04a5(0x7ce)]())||[],_0x346a68=_0xf5b356['saveVariable'],_0x5c4ec4=null,_0x443ce5=[],_0x173e96=_0x3832a7[_0x4c04a5(0x239)]['realVariables'][_0x346a68];_0x443ce5[_0x4c04a5(0x6e9)](_0x4c04a5(0x458)+_0x173e96+'\x22');for(let _0x452fdd of _0x2510c0){_0x452fdd[_0x4c04a5(0x33c)]=_0x173e96,_0x5c4ec4=_0x452fdd['firstValue'];let _0x331ecc;try{_0x331ecc=this[_0x4c04a5(0x6ca)](_0x3832a7,_0x452fdd);}catch(_0x50ed72){this['logger'][_0x4c04a5(0x15c)](_0x4c04a5(0x207)+_0x50ed72[_0x4c04a5(0x478)]);continue;}if(_0x331ecc!==null){let _0xb3b90e='Operador:\x20\x22'+_0x452fdd[_0x4c04a5(0x642)]+'\x22',_0x58bad6=[_0x4c04a5(0x408),_0x4c04a5(0x802),_0x4c04a5(0x3d0),_0x4c04a5(0x687),_0x4c04a5(0x240)];_0x452fdd[_0x4c04a5(0x642)]===_0x4c04a5(0x6d1)||_0x452fdd['editOperator']===_0x4c04a5(0x3ea)?_0xb3b90e+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x452fdd[_0x4c04a5(0x502)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x452fdd[_0x4c04a5(0x20f)]+'\x22':!_0x58bad6['includes'](_0x452fdd[_0x4c04a5(0x642)])&&_0x452fdd[_0x4c04a5(0x502)]!==null&&_0x452fdd[_0x4c04a5(0x502)]!==void 0x0&&(_0xb3b90e+=_0x4c04a5(0x180)+_0x452fdd[_0x4c04a5(0x502)]+'\x22'),_0xb3b90e+=_0x4c04a5(0x615)+_0x331ecc+'.',_0x443ce5[_0x4c04a5(0x6e9)](_0xb3b90e);}_0x331ecc!==null&&(_0x173e96=_0x331ecc);}if(_0x3832a7[_0x4c04a5(0x239)][_0x4c04a5(0x111)]&&_0xf5b356['saveVariable']){_0x3832a7['chatLog'][_0x4c04a5(0x111)][_0xf5b356[_0x4c04a5(0x1cb)]]=_0x173e96;let _0x2f654a={'variable':_0xf5b356[_0x4c04a5(0x1cb)],'oldValue':_0x5c4ec4,'newValue':_0x173e96,'moreLogs':_0x443ce5};try{this[_0x4c04a5(0x1ae)](_0x3832a7,_0xf5b356,_0x2f654a);}catch(_0x339d83){this['logger'][_0x4c04a5(0x15c)](_0x4c04a5(0x657)+_0x339d83[_0x4c04a5(0x478)]);}}return _0x346a68;}catch(_0x566319){return this[_0x4c04a5(0x224)]['error'](_0x4c04a5(0x399)+_0x566319[_0x4c04a5(0x478)]),null;}}async[a0_0x75ac12(0x6a7)](_0x5bfc48,_0xd8f6a5){const _0x3a39c0=a0_0x75ac12;try{let _0x25acc5=[],_0x164d93=_0x5bfc48[_0x3a39c0(0x396)]['filter'](_0x20b6eb=>_0x20b6eb[_0x3a39c0(0x33f)]===_0xd8f6a5['_id'][_0x3a39c0(0x7ce)]()),_0x687625=null,_0x47388c=!0x1;for(let _0x351829 of _0x164d93){let _0x47c363=this[_0x3a39c0(0x33b)](_0x5bfc48,_0x351829);_0x25acc5[_0x3a39c0(0x6e9)](_0x3a39c0(0x511)+_0x351829['firstValue']+_0x3a39c0(0x365)+_0x351829['expression']+',\x20Segundo\x20Valor:\x20'+_0x351829['secondValue']+_0x3a39c0(0x488)+_0x47c363),_0x687625===null?_0x687625=_0x47c363:_0x351829['OrAnd']==='and'?(_0x687625=_0x687625&&_0x47c363,_0x47c363||(_0x47388c=!0x0)):_0x351829[_0x3a39c0(0x122)]==='or'&&(_0x47388c||(_0x687625=_0x687625||_0x47c363));}_0x687625===null&&(_0x687625=!0x0);let _0x5298fa={'moreLogs':_0x25acc5};_0x5bfc48[_0x3a39c0(0x239)][_0x3a39c0(0x7e5)]=_0x687625,await this[_0x3a39c0(0x1ae)](_0x5bfc48,_0xd8f6a5,_0x5298fa);}catch(_0x3a4955){this[_0x3a39c0(0x224)][_0x3a39c0(0x15c)](this[_0x3a39c0(0x300)]+'\x20('+this['instance'][_0x3a39c0(0x78d)]+_0x3a39c0(0x1f1)+(_0x3a4955 instanceof Error?_0x3a4955[_0x3a39c0(0x478)]:JSON[_0x3a39c0(0x53e)](_0x3a4955,null,0x2)));}}[a0_0x75ac12(0x33b)](_0x41b2d6,_0x3bc94e){const _0x4e4203=a0_0x75ac12;let _0x3f2309=_0x3bc94e[_0x4e4203(0x33c)],_0x3a2cb6=_0x3bc94e['secondValue'];typeof _0x3f2309==_0x4e4203(0x392)&&(_0x3f2309=this[_0x4e4203(0x651)](_0x3f2309,_0x41b2d6[_0x4e4203(0x239)][_0x4e4203(0x111)])??''),typeof _0x3a2cb6==_0x4e4203(0x392)&&(_0x3a2cb6=this[_0x4e4203(0x651)](_0x3a2cb6,_0x41b2d6[_0x4e4203(0x239)][_0x4e4203(0x111)])??'');try{switch(_0x3bc94e[_0x4e4203(0x779)]){case'equal':return _0x3f2309===_0x3a2cb6;case _0x4e4203(0x2a9):return _0x3f2309!==_0x3a2cb6;case _0x4e4203(0x6f5):return this[_0x4e4203(0x6f5)](_0x3f2309,_0x3a2cb6);case _0x4e4203(0x847):return!this[_0x4e4203(0x6f5)](_0x3f2309,_0x3a2cb6);case _0x4e4203(0x249):return parseFloat(_0x3f2309)>parseFloat(_0x3a2cb6);case'less':return parseFloat(_0x3f2309)<parseFloat(_0x3a2cb6);case _0x4e4203(0x40f):return _0x3f2309!=='';case'empty':return _0x3f2309==='';case _0x4e4203(0x760):return new RegExp(_0x3a2cb6)[_0x4e4203(0x4f0)](_0x3f2309);case _0x4e4203(0x590):return!new RegExp(_0x3a2cb6)[_0x4e4203(0x4f0)](_0x3f2309);default:return!0x1;}}catch(_0x1bd2f9){return this[_0x4e4203(0x224)]['error'](_0x4e4203(0x20e)+_0x1bd2f9),!0x1;}}[a0_0x75ac12(0x6f5)](_0x42ad7f,_0x2a7356){const _0x1afa77=a0_0x75ac12;if(_0x42ad7f===_0x2a7356&&/^\d+$/['test'](_0x42ad7f))return!0x0;if(this[_0x1afa77(0x710)](_0x42ad7f)&&/^\d+$/[_0x1afa77(0x4f0)](_0x2a7356)){let _0x162699=_0x42ad7f[_0x1afa77(0x170)](',')['map'](_0x56c803=>parseInt(_0x56c803['trim']())),_0x352cc2=parseInt(_0x2a7356);return _0x162699[_0x1afa77(0x5bb)](_0x352cc2);}return _0x42ad7f['includes'](_0x2a7356);}[a0_0x75ac12(0x710)](_0x2b7874){const _0x29db68=a0_0x75ac12;return/^\d+(,\d+)*$/[_0x29db68(0x4f0)](_0x2b7874);}[a0_0x75ac12(0x2e2)](_0x41bfb0){const _0x3949f4=a0_0x75ac12;let _0x2a704e=!0x0,_0x17f1cb=null;for(let _0x5bee3a of _0x41bfb0){let _0x1a1554=this[_0x3949f4(0x604)](_0x5bee3a);if(_0x17f1cb==='or'&&_0x1a1554){_0x2a704e=!0x0;break;}if(_0x17f1cb===_0x3949f4(0x236)&&!_0x1a1554){_0x2a704e=!0x1;break;}_0x17f1cb=_0x5bee3a['OrAnd'];}return _0x2a704e;}['evaluateConditionTest'](_0x1a78f2){const _0x5b23a9=a0_0x75ac12;let _0x2c941d=_0x1a78f2[_0x5b23a9(0x33c)],_0x98e472=_0x1a78f2[_0x5b23a9(0x502)];try{switch(_0x1a78f2[_0x5b23a9(0x779)]){case _0x5b23a9(0x757):return String(_0x2c941d)===String(_0x98e472);case _0x5b23a9(0x2a9):return String(_0x2c941d)!==String(_0x98e472);case'contains':return String(_0x2c941d)[_0x5b23a9(0x5bb)](String(_0x98e472));case'notContains':return!String(_0x2c941d)['includes'](String(_0x98e472));case'greater':return parseFloat(String(_0x2c941d))>parseFloat(String(_0x98e472));case _0x5b23a9(0x519):return parseFloat(String(_0x2c941d))<parseFloat(String(_0x98e472));case _0x5b23a9(0x40f):return String(_0x2c941d)!=='';case _0x5b23a9(0x4b3):return String(_0x2c941d)==='';case _0x5b23a9(0x760):return new RegExp(String(_0x98e472))[_0x5b23a9(0x4f0)](String(_0x2c941d));case _0x5b23a9(0x590):return!new RegExp(String(_0x98e472))[_0x5b23a9(0x4f0)](String(_0x2c941d));default:return!0x1;}}catch(_0x3436bc){return this['logger'][_0x5b23a9(0x15c)](_0x5b23a9(0x20e)+_0x3436bc),!0x1;}}async[a0_0x75ac12(0x467)](_0x1624b1,_0x82ea56){const _0x48d008=a0_0x75ac12;if(this[_0x48d008(0x224)]['verbose'](this[_0x48d008(0x300)]+'\x20('+this[_0x48d008(0x7f4)]['wuid']+_0x48d008(0x1d0)),!_0x1624b1||!_0x82ea56)return this[_0x48d008(0x224)]['error'](this[_0x48d008(0x300)]+'\x20('+this[_0x48d008(0x7f4)][_0x48d008(0x78d)]+_0x48d008(0x445)),null;let _0x48af12=_0x1624b1[_0x48d008(0x239)][_0x48d008(0x541)][_0x48d008(0x2c4)]['id'];this[_0x48d008(0x224)][_0x48d008(0x195)](this['instanceName']+'\x20('+this[_0x48d008(0x7f4)][_0x48d008(0x78d)]+_0x48d008(0x11f)+_0x48af12);let _0xbb786c={'key':{'id':_0x48af12}},_0x1cedc0=_0x82ea56[_0x48d008(0x1cb)];_0x1624b1[_0x48d008(0x239)][_0x48d008(0x111)]['_'+_0x1cedc0+_0x48d008(0x234)]=null,_0x1624b1[_0x48d008(0x239)][_0x48d008(0x111)]['_'+_0x1cedc0+_0x48d008(0x3f2)]=null,_0x1624b1['chatLog'][_0x48d008(0x111)]['_'+_0x1cedc0+_0x48d008(0x75f)]=null,_0x1624b1['chatLog'][_0x48d008(0x111)]['_'+_0x1cedc0+_0x48d008(0x27c)]=_0x1624b1[_0x48d008(0x239)][_0x48d008(0x541)][_0x48d008(0x791)];try{let _0x4fa401=await this[_0x48d008(0x4fa)](_0xbb786c);this[_0x48d008(0x224)][_0x48d008(0x195)](this[_0x48d008(0x300)]+'\x20('+this[_0x48d008(0x7f4)]['wuid']+_0x48d008(0x3f8)),_0x1624b1['chatLog'][_0x48d008(0x111)]['_'+_0x1cedc0+_0x48d008(0x6a4)]=_0x4fa401['fileUrl'],_0x1624b1[_0x48d008(0x239)][_0x48d008(0x111)]['_'+_0x1cedc0+_0x48d008(0x3f2)]=_0x4fa401[_0x48d008(0x50f)];let _0xa9f57e=_0x4fa401[_0x48d008(0x50f)]['match'](/\/(\w+)$/),_0x344358=_0xa9f57e?_0xa9f57e[0x1]:null;_0x1624b1[_0x48d008(0x239)][_0x48d008(0x111)]['_'+_0x1cedc0+'.extension']=_0x344358,this[_0x48d008(0x224)][_0x48d008(0x195)](this['instanceName']+'\x20('+this[_0x48d008(0x7f4)][_0x48d008(0x78d)]+_0x48d008(0x4f1)+_0x1cedc0+'\x27.');}catch(_0x5e4d5b){this[_0x48d008(0x224)]['error'](this[_0x48d008(0x300)]+'\x20('+this[_0x48d008(0x7f4)][_0x48d008(0x78d)]+_0x48d008(0x2b5)+_0x5e4d5b['message']);}let _0x3e1fee=_0x1624b1[_0x48d008(0x239)]['lastReceivedMessage']['text']||_0x1624b1['chatLog'][_0x48d008(0x541)][_0x48d008(0x2fa)]||_0x1624b1['chatLog']['lastReceivedMessage'][_0x48d008(0x6df)];try{_0x1624b1['chatLog']['realVariables']||(_0x1624b1[_0x48d008(0x239)][_0x48d008(0x111)]={});let _0x34c68d=_0x1624b1[_0x48d008(0x239)][_0x48d008(0x111)][_0x1cedc0];_0x1624b1[_0x48d008(0x239)][_0x48d008(0x111)][_0x1cedc0]=_0x3e1fee;let _0x6391de={'variable':_0x1cedc0,'oldValue':_0x34c68d,'newValue':_0x3e1fee};this[_0x48d008(0x1ae)](_0x1624b1,_0x82ea56,_0x6391de),this[_0x48d008(0x224)]['verbose'](this['instanceName']+'\x20('+this[_0x48d008(0x7f4)][_0x48d008(0x78d)]+_0x48d008(0x287));}catch(_0x1fb396){let _0xad653d={'error':!0x0,'errorLog':_0x1fb396['toString']()};return this['updateConversation'](_0x1624b1,_0x82ea56,_0xad653d),this[_0x48d008(0x224)][_0x48d008(0x15c)](this[_0x48d008(0x300)]+'\x20('+this[_0x48d008(0x7f4)][_0x48d008(0x78d)]+_0x48d008(0x64b)+(_0x1fb396 instanceof Error?_0x1fb396['message']:JSON[_0x48d008(0x53e)](_0x1fb396,null,0x2))),null;}}async[a0_0x75ac12(0x516)](_0x9a8f27,_0x97b462){const _0x10189c=a0_0x75ac12;if(this['logger'][_0x10189c(0x195)](this[_0x10189c(0x300)]+'\x20('+this[_0x10189c(0x7f4)][_0x10189c(0x78d)]+_0x10189c(0x1dc)),!_0x9a8f27||!_0x97b462)return this[_0x10189c(0x224)][_0x10189c(0x15c)](this[_0x10189c(0x300)]+'\x20('+this[_0x10189c(0x7f4)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x32b165=Date[_0x10189c(0x505)](),_0xd18be4=parseInt(_0x97b462[_0x10189c(0x272)],0xa);if(isNaN(_0xd18be4))return this[_0x10189c(0x224)]['error'](this[_0x10189c(0x300)]+'\x20('+this[_0x10189c(0x7f4)][_0x10189c(0x78d)]+_0x10189c(0x768)),null;let _0x3ea1b1={'newStoppedUntil':_0x32b165+_0xd18be4*0x3c*0x3e8};return await this[_0x10189c(0x1ae)](_0x9a8f27,_0x97b462,_0x3ea1b1,!0x0),null;}async['processUazapi'](_0x3cdf44,_0x155e3d){const _0x4677f9=a0_0x75ac12;try{switch(_0x155e3d['uazapi'][_0x4677f9(0x2ae)]){case _0x4677f9(0x67a):await this[_0x4677f9(0x6ed)](_0x3cdf44,_0x155e3d);break;case'sendMedia':await this[_0x4677f9(0x110)](_0x3cdf44,_0x155e3d);break;case _0x4677f9(0x4b0):await this[_0x4677f9(0x701)](_0x3cdf44,_0x155e3d);break;case _0x4677f9(0x7ec):await this[_0x4677f9(0x48b)](_0x3cdf44,_0x155e3d);break;case _0x4677f9(0x4a1):await this[_0x4677f9(0x513)](_0x3cdf44,_0x155e3d);break;case _0x4677f9(0x21d):await this[_0x4677f9(0x746)](_0x3cdf44,_0x155e3d);break;case _0x4677f9(0x5c2):await this[_0x4677f9(0x746)](_0x3cdf44,_0x155e3d);break;case _0x4677f9(0x4a9):await this[_0x4677f9(0x48f)](_0x3cdf44,_0x155e3d);break;default:this[_0x4677f9(0x224)][_0x4677f9(0x15c)](this[_0x4677f9(0x300)]+'\x20('+this[_0x4677f9(0x7f4)]['wuid']+_0x4677f9(0x26d)+_0x155e3d[_0x4677f9(0x581)][_0x4677f9(0x2ae)]);}}catch(_0x486195){this[_0x4677f9(0x224)][_0x4677f9(0x15c)](this[_0x4677f9(0x300)]+'\x20('+this[_0x4677f9(0x7f4)][_0x4677f9(0x78d)]+_0x4677f9(0x70c)+(_0x486195 instanceof Error?_0x486195['message']:JSON[_0x4677f9(0x53e)](_0x486195,null,0x2)));}}async['updateConversation'](_0xa90b3f,_0x4c9acf,_0x59a1f1,_0x2ef4e9=!0x1,_0x4033e4=!0x1){const _0x5bf86f=a0_0x75ac12;_0xa90b3f['chatLog'][_0x5bf86f(0x65b)]||(_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x65b)]=[]);let _0x11e677=(_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x65b)]?.['length']??0x0)+0x1,_0x8be512=_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x65b)][_0x5bf86f(0x82d)](_0x4843e8=>String(_0x4843e8[_0x5bf86f(0x33f)])===String(_0x4c9acf['_id']))[_0x5bf86f(0x624)]+0x1,_0xa368f6=_0x59a1f1?.['onTime']??Date[_0x5bf86f(0x505)](),_0x51e494=_0x59a1f1?.[_0x5bf86f(0x15c)]?_0x59a1f1[_0x5bf86f(0x735)]??_0x59a1f1[_0x5bf86f(0x15c)]['toString']():void 0x0,_0x4729f0={'onTime':_0xa368f6,'blockId':_0x4c9acf[_0x5bf86f(0x2af)],'order':_0x11e677,'activatedCount':_0x8be512,'error':_0x59a1f1?.[_0x5bf86f(0x15c)]??!0x1,'messageId':_0x59a1f1?.[_0x5bf86f(0x1f8)],'apiResponse':_0x59a1f1?.[_0x5bf86f(0x678)],'apiResponseString':_0x59a1f1?.['apiResponse']?JSON[_0x5bf86f(0x53e)](_0x59a1f1?.[_0x5bf86f(0x678)]):void 0x0,'variable':_0x59a1f1?.[_0x5bf86f(0x667)],'oldValue':_0x59a1f1?.[_0x5bf86f(0x762)],'newValue':_0x59a1f1?.[_0x5bf86f(0x232)],'newStoppedUntil':_0x59a1f1?.[_0x5bf86f(0x21b)],'moreLogs':_0x59a1f1?.[_0x5bf86f(0x4c7)],'errorLog':_0x51e494};if(_0x59a1f1['moreLogs']&&_0x59a1f1[_0x5bf86f(0x4c7)]['length']>0x0){let _0x40fb7f=_0x59a1f1[_0x5bf86f(0x4c7)][_0x5bf86f(0x506)](_0x5924de=>this[_0x5bf86f(0x5a3)](_0x5924de,_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x111)]));_0x4729f0[_0x5bf86f(0x4c7)]=_0x40fb7f;}if(_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x111)]||(_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x111)]={}),_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x111)]['_activatedCount']=String(_0x8be512),_0xa90b3f['chatLog'][_0x5bf86f(0x111)][_0x5bf86f(0x265)]=String(_0x59a1f1['error']??!0x1),_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x65b)][_0x5bf86f(0x6e9)](_0x4729f0),_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x111)][_0x5bf86f(0x480)]&&_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x111)][_0x5bf86f(0x480)]!==_0xa90b3f[_0x5bf86f(0x323)]){let _0x151464=(await this['whatsappNumber']({'numbers':[_0xa90b3f['chatLog'][_0x5bf86f(0x111)][_0x5bf86f(0x480)]]}))[0x0]['jid'];_0xa90b3f[_0x5bf86f(0x239)]['realVariables'][_0x5bf86f(0x480)]=_0x151464,_0xa90b3f[_0x5bf86f(0x323)]=_0x151464;try{let _0x19bfd0={'_id':{'$ne':_0xa90b3f['_id']},'remoteJid':_0x151464,'status':_0x5bf86f(0x61c)},_0x2bbd37={'status':_0x5bf86f(0x73c)};await this[_0x5bf86f(0x76b)][_0x5bf86f(0x533)][_0x5bf86f(0xfe)](_0x19bfd0,_0x2bbd37,this[_0x5bf86f(0x7f4)]['wuid']),this[_0x5bf86f(0x224)][_0x5bf86f(0x195)](this[_0x5bf86f(0x300)]+'\x20('+this['instance'][_0x5bf86f(0x78d)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x2d6aaf){this[_0x5bf86f(0x224)]['error'](this[_0x5bf86f(0x300)]+'\x20('+this['instance'][_0x5bf86f(0x78d)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x2d6aaf[_0x5bf86f(0x478)]);}try{let _0x714ad=_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x111)],_0x4cf882=await this['getVariablesChat'](_0x151464),_0x3558c9={..._0x714ad,..._0x4cf882,'_remoteJid':_0x151464};_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x111)]=_0x3558c9;}catch(_0x8574c){this['logger']['error'](this['instanceName']+'\x20('+this[_0x5bf86f(0x7f4)]['wuid']+_0x5bf86f(0x726)+_0x8574c[_0x5bf86f(0x478)]);}}_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x67f)]=_0x4c9acf[_0x5bf86f(0x2af)][_0x5bf86f(0x7ce)](),_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x1ed)]&&(_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x1ed)]=_0xa90b3f[_0x5bf86f(0x239)]['lastSendMessage']),_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x541)]&&(_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x541)]=_0xa90b3f['chatLog']['lastReceivedMessage']),_0xa90b3f[_0x5bf86f(0x239)]['lastCondition']&&(_0xa90b3f[_0x5bf86f(0x239)]['lastCondition']=_0xa90b3f[_0x5bf86f(0x239)][_0x5bf86f(0x7e5)]),_0x4033e4&&(_0xa90b3f['status']=_0x5bf86f(0x73c)),_0x2ef4e9?this[_0x5bf86f(0x168)](_0xa90b3f):this[_0x5bf86f(0x26e)](_0xa90b3f,_0x4c9acf);}['replaceVariablesLogs'](_0x4ff34e,_0x4ff46f){const _0xe0b9fb=a0_0x75ac12;return _0x4ff34e['replace'](/\{\{([^}]+)\}\}/g,(_0x1f82ca,_0x2b77f7)=>_0x4ff46f[_0x2b77f7]?'{{'+_0x2b77f7+_0xe0b9fb(0x702)+_0x4ff46f[_0x2b77f7]+'\x22':'{{'+_0x2b77f7+_0xe0b9fb(0x129));}async[a0_0x75ac12(0x168)](_0x41c433){const _0x343fcf=a0_0x75ac12;try{let _0x3672ed=Object[_0x343fcf(0x173)](_0x41c433[_0x343fcf(0x239)]['realVariables'])[_0x343fcf(0x506)](([_0x115ae4,_0x285942])=>({'name':_0x115ae4,'value':_0x285942})),_0x2fdbed={'status':_0x41c433[_0x343fcf(0x2be)],'remoteJid':_0x41c433[_0x343fcf(0x323)],'blocks':_0x41c433['blocks'],'waitingMenu_id':_0x41c433[_0x343fcf(0x4cd)],'waitingMenu_text':_0x41c433[_0x343fcf(0x7f9)],'waitingMenu_replyOptions':_0x41c433[_0x343fcf(0x288)],'chatLog':{'lastBlockId':_0x41c433['chatLog'][_0x343fcf(0x67f)],'lastSendMessage':_0x41c433[_0x343fcf(0x239)][_0x343fcf(0x1ed)],'lastReceivedMessage':_0x41c433[_0x343fcf(0x239)][_0x343fcf(0x541)],'lastCondition':_0x41c433['chatLog']['lastCondition'],'chatVariables':_0x3672ed,'realVariables':_0x41c433['chatLog'][_0x343fcf(0x111)],'blockLogs':_0x41c433[_0x343fcf(0x239)][_0x343fcf(0x65b)]}},_0x236712=await this[_0x343fcf(0x76b)][_0x343fcf(0x533)]['updateOne'](_0x41c433[_0x343fcf(0x2af)],_0x2fdbed,this[_0x343fcf(0x7f4)]['wuid']);if(_0x236712){this[_0x343fcf(0x224)]['verbose'](this[_0x343fcf(0x300)]+'\x20('+this[_0x343fcf(0x7f4)][_0x343fcf(0x78d)]+_0x343fcf(0x793)+_0x236712[_0x343fcf(0x2af)]);try{let _0x4b5664=['nome',_0x343fcf(0x405),_0x343fcf(0x748),_0x343fcf(0x291),'status',_0x343fcf(0x2bb),_0x343fcf(0x6e7),'tags','etiquetas',_0x343fcf(0x7ed)];if(!this[_0x343fcf(0x190)]&&(await this['getAutomateSystem'](),!this[_0x343fcf(0x190)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x5750fa=this['AutomateSystem']?.[_0x343fcf(0x7a4)][_0x343fcf(0x506)](_0x218a45=>_0x218a45[_0x343fcf(0x537)]),_0x19eebb={};Object[_0x343fcf(0x173)](_0x41c433[_0x343fcf(0x239)][_0x343fcf(0x111)])[_0x343fcf(0x839)](([_0x15f2f0,_0x3f040d])=>{const _0x874021=_0x343fcf;_0x4b5664[_0x874021(0x5bb)](_0x15f2f0)&&(_0x15f2f0===_0x874021(0x257)&&typeof _0x3f040d==_0x874021(0x392)?_0x19eebb[_0x15f2f0]=_0x3f040d[_0x874021(0x170)](',')[_0x874021(0x506)](_0x37f6f6=>_0x37f6f6[_0x874021(0x11c)]())[_0x874021(0x82d)](_0x2e2104=>_0x2e2104!==''):_0x15f2f0===_0x874021(0x49c)&&typeof _0x3f040d==_0x874021(0x392)?_0x19eebb[_0x15f2f0]=_0x3f040d[_0x874021(0x170)](',')['map'](_0x223870=>_0x223870[_0x874021(0x11c)]())['filter'](_0x4dbc51=>_0x4dbc51!==''):_0x19eebb[_0x15f2f0]=_0x3f040d);});let _0x38605d=_0x41c433['chatLog']['blockLogs'][_0x41c433[_0x343fcf(0x239)]['blockLogs']['length']-0x1];if(_0x38605d){let _0x2a3568=_0x38605d['newStoppedUntil'];_0x2a3568!==void 0x0&&(_0x19eebb[_0x343fcf(0x53a)]=_0x2a3568[_0x343fcf(0x7ce)]());}let _0x4b73d9=_0x3672ed[_0x343fcf(0x82d)](_0x46c4fe=>_0x5750fa[_0x343fcf(0x5bb)](_0x46c4fe[_0x343fcf(0x537)]));this['logger']['verbose'](this[_0x343fcf(0x300)]+'\x20('+this['instance'][_0x343fcf(0x78d)]+_0x343fcf(0x1ab)),this[_0x343fcf(0x224)][_0x343fcf(0x195)](_0x19eebb),this[_0x343fcf(0x224)][_0x343fcf(0x195)](this[_0x343fcf(0x300)]+'\x20('+this[_0x343fcf(0x7f4)]['wuid']+_0x343fcf(0x7cf)),this[_0x343fcf(0x224)][_0x343fcf(0x195)](_0x4b73d9);let _0x50ad1e=_0x4b73d9[_0x343fcf(0x506)](_0x54efb7=>{const _0xdae60=_0x343fcf;let _0x2d38c7=this[_0xdae60(0x190)]?.[_0xdae60(0x7a4)][_0xdae60(0x1c3)](_0x356ada=>_0x356ada['name']===_0x54efb7[_0xdae60(0x537)]);if(!_0x2d38c7)throw new Error(_0xdae60(0x7b2)+_0x54efb7[_0xdae60(0x537)]);return{'_id':_0x2d38c7[_0xdae60(0x2af)],'value':_0x54efb7['value']};});this[_0x343fcf(0x224)][_0x343fcf(0x195)](this['instanceName']+'\x20('+this[_0x343fcf(0x7f4)]['wuid']+_0x343fcf(0x5e1)),this[_0x343fcf(0x224)][_0x343fcf(0x195)](_0x50ad1e),await this[_0x343fcf(0x704)](_0x41c433['remoteJid'],_0x19eebb,_0x50ad1e);}catch(_0x4fb86d){this[_0x343fcf(0x224)]['error'](this[_0x343fcf(0x300)]+'\x20('+this[_0x343fcf(0x7f4)][_0x343fcf(0x78d)]+_0x343fcf(0x4e9)+(_0x4fb86d instanceof Error?_0x4fb86d[_0x343fcf(0x478)]:JSON[_0x343fcf(0x53e)](_0x4fb86d,null,0x2)));}}else this[_0x343fcf(0x224)][_0x343fcf(0x15c)](this[_0x343fcf(0x300)]+'\x20('+this[_0x343fcf(0x7f4)][_0x343fcf(0x78d)]+_0x343fcf(0x79b));}catch(_0x3849bc){this['logger'][_0x343fcf(0x15c)](this[_0x343fcf(0x300)]+'\x20('+this[_0x343fcf(0x7f4)]['wuid']+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x3849bc instanceof Error?_0x3849bc[_0x343fcf(0x478)]:JSON[_0x343fcf(0x53e)](_0x3849bc,null,0x2)));}}async['saveChatVariables'](_0xb8fa4e,_0x1b02ee,_0xe1f17e){const _0x4e16ef=a0_0x75ac12;try{let _0x38bac9={'leadInfo.leadnome':_0x1b02ee[_0x4e16ef(0x1df)],'leadInfo.nomecompleto':_0x1b02ee[_0x4e16ef(0x405)],'leadInfo.email':_0x1b02ee[_0x4e16ef(0x748)],'leadInfo.cpf':_0x1b02ee[_0x4e16ef(0x291)],'leadInfo.status':_0x1b02ee[_0x4e16ef(0x2be)],'leadInfo.notas':_0x1b02ee[_0x4e16ef(0x2bb)],'leadInfo.responsavelid':_0x1b02ee[_0x4e16ef(0x6e7)],'leadInfo.tags':_0x1b02ee[_0x4e16ef(0x257)],'leadInfo.etiquetas':_0x1b02ee[_0x4e16ef(0x49c)],'leadInfo.customFields':_0xe1f17e,'leadInfo.atendimentoAberto':_0x1b02ee[_0x4e16ef(0x7ed)]},_0x5310b8=await this[_0x4e16ef(0x76b)][_0x4e16ef(0x4f9)][_0x4e16ef(0x4a6)]({'where':{'_id':_0xb8fa4e}},this[_0x4e16ef(0x7f4)]['wuid']);if(!_0x5310b8)return _0x4e16ef(0x52f);let _0x45a2a9=new Set(_0x5310b8[_0x4e16ef(0x7f5)]['etiquetas']||[]),_0x56533d=new Set(_0x1b02ee[_0x4e16ef(0x49c)]||[]),_0x3034d8=await this[_0x4e16ef(0x76b)][_0x4e16ef(0x159)][_0x4e16ef(0x1c3)]({'where':{}},this[_0x4e16ef(0x7f4)][_0x4e16ef(0x78d)]),_0x59b6e7=new Set(_0x3034d8[_0x4e16ef(0x506)](_0x50126f=>_0x50126f[_0x4e16ef(0x2af)])),_0x3af574=[..._0x56533d][_0x4e16ef(0x82d)](_0xd09f62=>!_0x45a2a9[_0x4e16ef(0x2b8)](_0xd09f62)&&_0x59b6e7[_0x4e16ef(0x2b8)](_0xd09f62)),_0x32e42a=[..._0x45a2a9][_0x4e16ef(0x82d)](_0x50cb67=>!_0x56533d['has'](_0x50cb67));for(let _0x11aea1 of _0x3af574)await this[_0x4e16ef(0x19f)](_0x11aea1,_0x5310b8[_0x4e16ef(0x2af)]),_0x45a2a9[_0x4e16ef(0x2a6)](_0x11aea1);for(let _0x283248 of _0x32e42a)await this[_0x4e16ef(0x4fe)](_0x283248,_0x5310b8[_0x4e16ef(0x2af)]),_0x45a2a9['delete'](_0x283248);if('desativadoFluxoAte'in _0x1b02ee){let _0x20b38e=_0x1b02ee[_0x4e16ef(0x53a)];_0x38bac9[_0x4e16ef(0x7ee)]=_0x20b38e?Number(_0x20b38e):null;}if(_0x4e16ef(0x7ed)in _0x1b02ee){let _0x32c50d=_0x1b02ee[_0x4e16ef(0x7ed)][_0x4e16ef(0x56d)]();_0x38bac9[_0x4e16ef(0x5ac)]=_0x32c50d==='true'||_0x32c50d==='1'||_0x32c50d===_0x4e16ef(0x7bd)||_0x32c50d===_0x4e16ef(0x1c8);}let _0x5dbfe4=await this[_0x4e16ef(0x76b)]['chat'][_0x4e16ef(0x5b6)]({'where':{'_id':_0xb8fa4e}},_0x38bac9,this['instance'][_0x4e16ef(0x78d)]);_0x5dbfe4?(this[_0x4e16ef(0x224)][_0x4e16ef(0x195)](this[_0x4e16ef(0x300)]+'\x20('+this['instance']['wuid']+_0x4e16ef(0x3c7)+_0x5dbfe4[_0x4e16ef(0x2af)]),q(this[_0x4e16ef(0x300)],_0x4e16ef(0x184),{'chat':_0x5dbfe4})):this[_0x4e16ef(0x224)][_0x4e16ef(0x15c)](this[_0x4e16ef(0x300)]+'\x20('+this[_0x4e16ef(0x7f4)][_0x4e16ef(0x78d)]+_0x4e16ef(0x73f));}catch(_0x395a2d){this[_0x4e16ef(0x224)][_0x4e16ef(0x15c)](this[_0x4e16ef(0x300)]+'\x20('+this['instance'][_0x4e16ef(0x78d)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x395a2d instanceof Error?_0x395a2d[_0x4e16ef(0x478)]:JSON['stringify'](_0x395a2d,null,0x2)));}}async[a0_0x75ac12(0x16c)](_0x163b4b,_0x2d2c82){const _0x470d70=a0_0x75ac12;this[_0x470d70(0x224)][_0x470d70(0x195)](this['instanceName']+'\x20('+this[_0x470d70(0x7f4)]['wuid']+_0x470d70(0x1a0)+_0x2d2c82);try{let _0x36394d=await this[_0x470d70(0x76b)][_0x470d70(0x4f9)]['updateOne']({'where':{'_id':_0x163b4b[_0x470d70(0x323)]}},{'leadInfo.desativadoFluxoAte':_0x2d2c82},this[_0x470d70(0x7f4)][_0x470d70(0x78d)]);this[_0x470d70(0x224)]['verbose'](this[_0x470d70(0x300)]+'\x20('+this[_0x470d70(0x7f4)][_0x470d70(0x78d)]+_0x470d70(0x767)+_0x163b4b[_0x470d70(0x2af)]),this[_0x470d70(0x224)][_0x470d70(0x195)](this[_0x470d70(0x300)]+'\x20('+this[_0x470d70(0x7f4)][_0x470d70(0x78d)]+_0x470d70(0x1a0)+JSON[_0x470d70(0x53e)](_0x36394d,null,0x2)),_0x36394d&&q(this[_0x470d70(0x300)],_0x470d70(0x184),{'chat':_0x36394d});}catch(_0x504a5f){this[_0x470d70(0x224)]['error'](this[_0x470d70(0x300)]+'\x20('+this[_0x470d70(0x7f4)][_0x470d70(0x78d)]+_0x470d70(0x3c1)+(_0x504a5f instanceof Error?_0x504a5f['message']:JSON['stringify'](_0x504a5f,null,0x2)));}}async[a0_0x75ac12(0x821)](_0x463494){const _0x415a6f=a0_0x75ac12;try{this['logger'][_0x415a6f(0x195)](this[_0x415a6f(0x300)]+'\x20('+this[_0x415a6f(0x7f4)][_0x415a6f(0x78d)]+_0x415a6f(0x551));let _0x276c8c=_0x463494[_0x415a6f(0x154)](/\D/g,''),_0x435b6b=this[_0x415a6f(0x190)][_0x415a6f(0x574)][_0x415a6f(0x1c3)](_0x2eea00=>_0x2eea00[_0x415a6f(0x406)]===_0x276c8c);if(_0x435b6b||(this['logger'][_0x415a6f(0x195)](this[_0x415a6f(0x300)]+'\x20('+this['instance'][_0x415a6f(0x78d)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x435b6b=this['AutomateSystem'][_0x415a6f(0x574)]['find'](_0x170353=>_0x170353[_0x415a6f(0x636)]===!0x0)),!_0x435b6b)return this[_0x415a6f(0x224)][_0x415a6f(0x195)](this[_0x415a6f(0x300)]+'\x20('+this['instance'][_0x415a6f(0x78d)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null;let _0x4e7cea=await this[_0x415a6f(0x76b)]['flow'][_0x415a6f(0x4a6)]({'where':{'_id':_0x435b6b[_0x415a6f(0x2af)]}});if(!_0x4e7cea||!_0x4e7cea['whoCanUse']?.[_0x415a6f(0x5bb)](this['instance'][_0x415a6f(0x78d)]))throw this[_0x415a6f(0x224)][_0x415a6f(0x15c)](this[_0x415a6f(0x300)]+'\x20('+this[_0x415a6f(0x7f4)][_0x415a6f(0x78d)]+_0x415a6f(0x5cc)+_0x4e7cea['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x415a6f(0x1b4)+_0x4e7cea[_0x415a6f(0x2af)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');return _0x4e7cea;}catch(_0xca2f8b){return this[_0x415a6f(0x224)]['error'](this[_0x415a6f(0x300)]+'\x20('+this['instance'][_0x415a6f(0x78d)]+_0x415a6f(0x711)+(_0xca2f8b instanceof Error?_0xca2f8b[_0x415a6f(0x478)]:JSON['stringify'](_0xca2f8b,null,0x2))),null;}}async[a0_0x75ac12(0x26a)](_0x462bc2,_0x24c23f){const _0x54f3eb=a0_0x75ac12;try{let _0x95211a=!!_0x24c23f['vote'],_0x56671a=_0x24c23f[_0x54f3eb(0x35c)],_0x1c7100=null;if(this[_0x54f3eb(0x224)][_0x54f3eb(0x195)](this['instanceName']+'\x20('+this[_0x54f3eb(0x7f4)][_0x54f3eb(0x78d)]+'):\x20isVote:\x20'+_0x95211a+_0x54f3eb(0x697)+_0x56671a),_0x95211a){this[_0x54f3eb(0x224)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x54f3eb(0x78d)]+_0x54f3eb(0x798));let _0x113db={'where':{'remoteJid':_0x462bc2,'waitingMenu_id':_0x56671a}};if(_0x1c7100=await this[_0x54f3eb(0x76b)][_0x54f3eb(0x533)]['findOne'](_0x113db,this[_0x54f3eb(0x7f4)][_0x54f3eb(0x78d)]),!_0x1c7100)return this[_0x54f3eb(0x224)][_0x54f3eb(0x195)](this[_0x54f3eb(0x300)]+'\x20('+this[_0x54f3eb(0x7f4)][_0x54f3eb(0x78d)]+_0x54f3eb(0x1bf)),null;let _0x45c7ab=Date[_0x54f3eb(0x505)](),_0x9a6edb=_0x1c7100?.[_0x54f3eb(0x23c)]||0x0,_0x59c9c6=_0x45c7ab-_0x9a6edb*0x3c*0x3e8;if(_0x1c7100['lastInteraction']<_0x59c9c6){this[_0x54f3eb(0x224)][_0x54f3eb(0x195)](this[_0x54f3eb(0x300)]+'\x20('+this[_0x54f3eb(0x7f4)][_0x54f3eb(0x78d)]+_0x54f3eb(0x7db));let _0x3a76b6={'number':_0x1c7100[_0x54f3eb(0x323)],'options':{'delay':0x0},'textMessage':{'text':_0x1c7100['waitingMenu_ExpiredMessage']}};await this['textMessage'](_0x3a76b6);let _0x4ba35a={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x54f3eb(0x76b)][_0x54f3eb(0x533)][_0x54f3eb(0x5b6)](_0x1c7100[_0x54f3eb(0x2af)],_0x4ba35a,this[_0x54f3eb(0x7f4)][_0x54f3eb(0x78d)]),null;}return _0x1c7100[_0x54f3eb(0x681)]=Date[_0x54f3eb(0x505)](),_0x1c7100[_0x54f3eb(0x239)][_0x54f3eb(0x541)]=_0x24c23f,_0x1c7100;}else{this[_0x54f3eb(0x224)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x54f3eb(0x78d)]+_0x54f3eb(0x3d3)+this[_0x54f3eb(0x7f4)][_0x54f3eb(0x78d)]+_0x54f3eb(0x50d)),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x54f3eb(0x7f4)][_0x54f3eb(0x78d)]+_0x54f3eb(0x3ad));let _0x3057fd={'where':{'remoteJid':_0x462bc2,'status':'open'}};if(_0x1c7100=await this[_0x54f3eb(0x76b)][_0x54f3eb(0x533)][_0x54f3eb(0x4a6)](_0x3057fd,this['instance']['wuid']),!_0x1c7100){let _0x1a3758=await this[_0x54f3eb(0x821)](_0x462bc2);if(_0x1a3758&&(_0x1c7100=await this[_0x54f3eb(0x7e4)](_0x1a3758,_0x24c23f['key'],_0x24c23f)),!_0x1c7100)return null;}let _0x7e5a16=Date[_0x54f3eb(0x505)](),_0x5eeb32=_0x1c7100?.[_0x54f3eb(0x23c)]||0x0,_0x3b9130=_0x7e5a16-_0x5eeb32*0x3c*0x3e8;if(this['logger']['verbose'](this[_0x54f3eb(0x300)]+'\x20('+this[_0x54f3eb(0x7f4)][_0x54f3eb(0x78d)]+'):\x20Current\x20Time:\x20'+_0x7e5a16+_0x54f3eb(0x219)+_0x5eeb32+_0x54f3eb(0x125)+_0x3b9130),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x54f3eb(0x7f4)]['wuid']+_0x54f3eb(0x4d9)),this['logger'][_0x54f3eb(0x195)](this['instanceName']+'\x20('+this['instance'][_0x54f3eb(0x78d)]+_0x54f3eb(0x3ef)+_0x1c7100[_0x54f3eb(0x681)]),this['logger'][_0x54f3eb(0x195)](this[_0x54f3eb(0x300)]+'\x20('+this[_0x54f3eb(0x7f4)]['wuid']+_0x54f3eb(0x525)+_0x3b9130),_0x1c7100[_0x54f3eb(0x681)]<_0x3b9130){this['logger'][_0x54f3eb(0x195)](this[_0x54f3eb(0x300)]+'\x20('+this[_0x54f3eb(0x7f4)][_0x54f3eb(0x78d)]+_0x54f3eb(0x6e2));let _0x32bccd=await this[_0x54f3eb(0x821)](_0x462bc2);if(_0x32bccd===null)return null;_0x1c7100&&await this[_0x54f3eb(0x76b)][_0x54f3eb(0x533)]['updateOne'](_0x1c7100[_0x54f3eb(0x2af)],{'status':_0x54f3eb(0x73c)},this[_0x54f3eb(0x7f4)][_0x54f3eb(0x78d)]),_0x1c7100=await this[_0x54f3eb(0x7e4)](_0x32bccd,_0x24c23f['key'],_0x24c23f);}return _0x1c7100[_0x54f3eb(0x681)]=_0x7e5a16,_0x1c7100[_0x54f3eb(0x239)]['lastReceivedMessage']=_0x24c23f,_0x1c7100;}}catch(_0x404975){return this[_0x54f3eb(0x224)][_0x54f3eb(0x15c)](this[_0x54f3eb(0x300)]+'\x20('+this['instance'][_0x54f3eb(0x78d)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x404975 instanceof Error?_0x404975['message']:JSON['stringify'](_0x404975,null,0x2))),null;}}async['createNewConversation'](_0x38e1b0,_0x3722cc,_0x4ba563){const _0x395ac0=a0_0x75ac12;this['logger'][_0x395ac0(0x195)](this['instanceName']+'\x20('+this[_0x395ac0(0x7f4)]['wuid']+_0x395ac0(0x473));try{let _0x52d121=require('mongodb')[_0x395ac0(0x163)],_0x5f0b24=Date[_0x395ac0(0x505)](),_0x1504c7=_0x395ac0(0x32b),_0x275056=_0x3722cc[_0x395ac0(0x196)]?null:_0x4ba563,_0x4c199b=_0x3722cc[_0x395ac0(0x196)]?_0x4ba563:null,_0x20b42f=_0x3722cc[_0x395ac0(0x323)],_0xe0129=this['AutomateSystem']['flows'][_0x395ac0(0x1c3)](_0x5c31f9=>_0x5c31f9[_0x395ac0(0x2af)]===_0x38e1b0[_0x395ac0(0x2af)]?.[_0x395ac0(0x7ce)]()),_0x5763e8=_0xe0129?.[_0x395ac0(0x23c)]??_0x38e1b0['minutesToClose']??0x0,_0x45aeee=_0xe0129?.['readMessages']??_0x38e1b0['readMessages']??!0x1;await this[_0x395ac0(0x6cf)](_0x20b42f);let _0x2bf224={'flowId':_0x38e1b0[_0x395ac0(0x2af)],..._0x38e1b0,'chatLog':null},_0x1a773f=await this[_0x395ac0(0x44e)](_0x2bf224[_0x395ac0(0x42b)]),_0x3db2f9=await this[_0x395ac0(0x60a)](_0x20b42f),_0x337b0f={..._0x1a773f,..._0x3db2f9,'_remoteJid':_0x20b42f},_0x572738={'lastReceivedMessage':_0x275056,'lastSendMessage':_0x4c199b,'lastBlockId':_0x1504c7,'lastCondition':!0x0,'realVariables':_0x337b0f};_0x2bf224[_0x395ac0(0x239)]=_0x572738,delete _0x2bf224[_0x395ac0(0x2af)],_0x2bf224[_0x395ac0(0x2af)]=new _0x52d121(),_0x2bf224[_0x395ac0(0x681)]=_0x5f0b24,_0x2bf224['status']='open',_0x2bf224[_0x395ac0(0x323)]=_0x20b42f,_0x2bf224['minutesToClose']=_0x5763e8,_0x2bf224[_0x395ac0(0x201)]=_0x45aeee;let _0x1f1122=await this[_0x395ac0(0x76b)]['flowConversation']['updateOne'](_0x2bf224[_0x395ac0(0x2af)],_0x2bf224,this['instance']['wuid']);return this[_0x395ac0(0x224)][_0x395ac0(0x195)](this[_0x395ac0(0x300)]+'\x20('+this[_0x395ac0(0x7f4)][_0x395ac0(0x78d)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x1f1122?_0x2bf224:null;}catch(_0x25d5f8){return this[_0x395ac0(0x224)][_0x395ac0(0x15c)](this['instanceName']+'\x20('+this[_0x395ac0(0x7f4)][_0x395ac0(0x78d)]+_0x395ac0(0x2fd)+(_0x25d5f8 instanceof Error?_0x25d5f8[_0x395ac0(0x478)]:JSON[_0x395ac0(0x53e)](_0x25d5f8,null,0x2))),_0x25d5f8;}}async[a0_0x75ac12(0x6ed)](_0x42c3ef,_0x38b767){const _0x1dd2b8=a0_0x75ac12;let _0x2bd1bf=_0x42c3ef[_0x1dd2b8(0x323)];_0x38b767[_0x1dd2b8(0x581)][_0x1dd2b8(0x323)]&&_0x38b767['uazapi'][_0x1dd2b8(0x323)][_0x1dd2b8(0x11c)]()!==''&&(_0x2bd1bf=_0x38b767[_0x1dd2b8(0x581)]['remoteJid']['trim']()),this[_0x1dd2b8(0x224)][_0x1dd2b8(0x195)](this[_0x1dd2b8(0x300)]+'\x20('+this[_0x1dd2b8(0x7f4)][_0x1dd2b8(0x78d)]+'):\x20Enviando\x20texto');let _0x4bdb75={'number':_0x2bd1bf,'options':{'delay':_0x38b767[_0x1dd2b8(0x581)]['delay'],'linkPreview':_0x38b767[_0x1dd2b8(0x581)]['linkPreview']},'textMessage':{'text':_0x38b767['uazapi'][_0x1dd2b8(0x105)]}};try{let _0x2d895f=await this['textMessage'](_0x4bdb75);if(_0x2d895f){let _0x31401a={'_id':_0x2d895f['key']['id'],'_fromMe':_0x2d895f['key'][_0x1dd2b8(0x196)],'_remoteJid':_0x2d895f[_0x1dd2b8(0x2c4)]['remoteJid']},_0x594bae=(0x0,w[_0x1dd2b8(0x35e)])(_0x2d895f[_0x1dd2b8(0x478)]),_0x120725=(0x0,w['getContentType'])(_0x594bae);_0x42c3ef[_0x1dd2b8(0x239)][_0x1dd2b8(0x67f)]=_0x38b767[_0x1dd2b8(0x2af)]['toString']();let {message_normalized:_0xec2264}=this[_0x1dd2b8(0x133)](_0x594bae,_0x120725,null);_0x42c3ef[_0x1dd2b8(0x239)][_0x1dd2b8(0x1ed)]=await _0xec2264;let _0x235765={'messageId':_0x2d895f[_0x1dd2b8(0x2c4)]['id']},_0x1543ac=_0x42c3ef[_0x1dd2b8(0x239)][_0x1dd2b8(0x111)];Object[_0x1dd2b8(0x414)](_0x1543ac,_0x31401a),_0x42c3ef[_0x1dd2b8(0x239)][_0x1dd2b8(0x111)]=_0x1543ac,this['updateConversation'](_0x42c3ef,_0x38b767,_0x235765);}else{let _0x525fc4={'error':!0x0};this[_0x1dd2b8(0x1ae)](_0x42c3ef,_0x38b767,_0x525fc4),this[_0x1dd2b8(0x224)][_0x1dd2b8(0x15c)](this[_0x1dd2b8(0x300)]+'\x20('+this['instance'][_0x1dd2b8(0x78d)]+_0x1dd2b8(0x150));}}catch(_0x5bb5a2){let _0x664c37={'error':!0x0,'errorLog':_0x5bb5a2[_0x1dd2b8(0x7ce)]()};this['updateConversation'](_0x42c3ef,_0x38b767,_0x664c37),this['logger'][_0x1dd2b8(0x15c)](this['instanceName']+'\x20('+this[_0x1dd2b8(0x7f4)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x5bb5a2 instanceof Error?_0x5bb5a2[_0x1dd2b8(0x478)]:JSON[_0x1dd2b8(0x53e)](_0x5bb5a2,null,0x2)));}}async['uazapiSendMedia'](_0x2e4bab,_0x1bcc52){const _0x4d3c53=a0_0x75ac12;let _0x414187=_0x2e4bab['remoteJid'];_0x1bcc52['uazapi'][_0x4d3c53(0x323)]&&_0x1bcc52[_0x4d3c53(0x581)][_0x4d3c53(0x323)][_0x4d3c53(0x11c)]()!==''&&(_0x414187=_0x1bcc52[_0x4d3c53(0x581)][_0x4d3c53(0x323)][_0x4d3c53(0x11c)]()),this[_0x4d3c53(0x224)][_0x4d3c53(0x195)](this[_0x4d3c53(0x300)]+'\x20('+this[_0x4d3c53(0x7f4)]['wuid']+'):\x20Enviando\x20mídia');let _0x3be5a2={'number':_0x414187,'options':{'delay':_0x1bcc52[_0x4d3c53(0x581)][_0x4d3c53(0x561)],'linkPreview':_0x1bcc52['uazapi'][_0x4d3c53(0x23f)]},'mediaMessage':{'mediatype':_0x1bcc52[_0x4d3c53(0x581)][_0x4d3c53(0x24d)],'caption':_0x1bcc52[_0x4d3c53(0x581)][_0x4d3c53(0x2fa)],'media':_0x1bcc52[_0x4d3c53(0x581)][_0x4d3c53(0x45c)],'fileName':_0x1bcc52['uazapi'][_0x4d3c53(0x372)]}};try{let _0x328e18=await this[_0x4d3c53(0x607)](_0x3be5a2);if(_0x328e18){let _0x32abfb={'_id':_0x328e18[_0x4d3c53(0x2c4)]['id'],'_fromMe':_0x328e18[_0x4d3c53(0x2c4)][_0x4d3c53(0x196)],'_remoteJid':_0x328e18['key'][_0x4d3c53(0x323)]},_0x4e2673=(0x0,w[_0x4d3c53(0x35e)])(_0x328e18['message']),_0x1cac75=(0x0,w['getContentType'])(_0x4e2673);_0x2e4bab[_0x4d3c53(0x239)][_0x4d3c53(0x67f)]=_0x1bcc52[_0x4d3c53(0x2af)][_0x4d3c53(0x7ce)]();let {message_normalized:_0x71242}=this[_0x4d3c53(0x133)](_0x4e2673,_0x1cac75,null);_0x2e4bab[_0x4d3c53(0x239)]['lastSendMessage']=await _0x71242;let _0x58059f={'messageId':_0x328e18['key']['id']},_0x208766=_0x2e4bab[_0x4d3c53(0x239)][_0x4d3c53(0x111)];Object[_0x4d3c53(0x414)](_0x208766,_0x32abfb),_0x2e4bab[_0x4d3c53(0x239)][_0x4d3c53(0x111)]=_0x208766,this[_0x4d3c53(0x1ae)](_0x2e4bab,_0x1bcc52,_0x58059f);}else{let _0xfb3e57={'error':!0x0};this[_0x4d3c53(0x1ae)](_0x2e4bab,_0x1bcc52,_0xfb3e57),this['logger'][_0x4d3c53(0x15c)](this[_0x4d3c53(0x300)]+'\x20('+this[_0x4d3c53(0x7f4)][_0x4d3c53(0x78d)]+_0x4d3c53(0x356));}}catch(_0xdf7e77){let _0x5ccb7d={'error':!0x0,'errorLog':_0xdf7e77['toString']()};this['updateConversation'](_0x2e4bab,_0x1bcc52,_0x5ccb7d),this[_0x4d3c53(0x224)][_0x4d3c53(0x15c)](this['instanceName']+'\x20('+this['instance'][_0x4d3c53(0x78d)]+_0x4d3c53(0x1e9)+(_0xdf7e77 instanceof Error?_0xdf7e77[_0x4d3c53(0x478)]:JSON[_0x4d3c53(0x53e)](_0xdf7e77,null,0x2)));}}async[a0_0x75ac12(0x701)](_0xedf8b0,_0xb30965){const _0x2cc028=a0_0x75ac12;let _0x5199e6=_0xedf8b0[_0x2cc028(0x323)];_0xb30965[_0x2cc028(0x581)][_0x2cc028(0x323)]&&_0xb30965[_0x2cc028(0x581)][_0x2cc028(0x323)][_0x2cc028(0x11c)]()!==''&&(_0x5199e6=_0xb30965['uazapi']['remoteJid']['trim']()),this[_0x2cc028(0x224)][_0x2cc028(0x195)](this['instanceName']+'\x20('+this[_0x2cc028(0x7f4)][_0x2cc028(0x78d)]+_0x2cc028(0x6b2));let _0x3ae1db={'number':_0x5199e6,'options':{'delay':_0xb30965[_0x2cc028(0x581)]['delay']},'locationMessage':{'name':_0xb30965[_0x2cc028(0x581)][_0x2cc028(0x537)],'address':_0xb30965[_0x2cc028(0x581)]['address'],'latitude':_0xb30965[_0x2cc028(0x581)][_0x2cc028(0x124)],'longitude':_0xb30965[_0x2cc028(0x581)][_0x2cc028(0x534)]}};try{let _0x449997=await this[_0x2cc028(0x6d2)](_0x3ae1db);if(_0x449997){let _0x2affaa={'_id':_0x449997[_0x2cc028(0x2c4)]['id'],'_fromMe':_0x449997[_0x2cc028(0x2c4)][_0x2cc028(0x196)],'_remoteJid':_0x449997[_0x2cc028(0x2c4)][_0x2cc028(0x323)]},_0x1bce92=(0x0,w[_0x2cc028(0x35e)])(_0x449997[_0x2cc028(0x478)]),_0x224593=(0x0,w[_0x2cc028(0x42e)])(_0x1bce92);_0xedf8b0[_0x2cc028(0x239)][_0x2cc028(0x67f)]=_0xb30965['_id'][_0x2cc028(0x7ce)]();let {message_normalized:_0x1d1c25}=this[_0x2cc028(0x133)](_0x1bce92,_0x224593,null);_0xedf8b0[_0x2cc028(0x239)][_0x2cc028(0x1ed)]=await _0x1d1c25;let _0x2017b0={'messageId':_0x449997[_0x2cc028(0x2c4)]['id']},_0x31c038=_0xedf8b0[_0x2cc028(0x239)][_0x2cc028(0x111)];Object[_0x2cc028(0x414)](_0x31c038,_0x2affaa),_0xedf8b0[_0x2cc028(0x239)][_0x2cc028(0x111)]=_0x31c038,this[_0x2cc028(0x1ae)](_0xedf8b0,_0xb30965,_0x2017b0);}else{let _0x18b674={'error':!0x0};this[_0x2cc028(0x1ae)](_0xedf8b0,_0xb30965,_0x18b674),this[_0x2cc028(0x224)][_0x2cc028(0x15c)](this[_0x2cc028(0x300)]+'\x20('+this[_0x2cc028(0x7f4)]['wuid']+_0x2cc028(0x6a2));}}catch(_0x50e57e){let _0x2b1586={'error':!0x0,'errorLog':_0x50e57e[_0x2cc028(0x7ce)]()};this['updateConversation'](_0xedf8b0,_0xb30965,_0x2b1586),this['logger'][_0x2cc028(0x15c)](this[_0x2cc028(0x300)]+'\x20('+this[_0x2cc028(0x7f4)][_0x2cc028(0x78d)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x50e57e instanceof Error?_0x50e57e[_0x2cc028(0x478)]:JSON[_0x2cc028(0x53e)](_0x50e57e,null,0x2)));}}async[a0_0x75ac12(0x48b)](_0x4b0d1f,_0x1f93bf){const _0x426bef=a0_0x75ac12;let _0x216ebd=_0x4b0d1f[_0x426bef(0x323)];_0x1f93bf[_0x426bef(0x581)][_0x426bef(0x323)]&&_0x1f93bf['uazapi'][_0x426bef(0x323)][_0x426bef(0x11c)]()!==''&&(_0x216ebd=_0x1f93bf[_0x426bef(0x581)][_0x426bef(0x323)][_0x426bef(0x11c)]()),this[_0x426bef(0x224)][_0x426bef(0x195)](this['instanceName']+'\x20('+this['instance'][_0x426bef(0x78d)]+_0x426bef(0x618));let _0x3f9998={'number':_0x216ebd,'options':{'delay':_0x1f93bf[_0x426bef(0x581)][_0x426bef(0x561)]},'audioMessage':{'audio':_0x1f93bf[_0x426bef(0x581)]['audio']}};try{let _0x2a66f9=await this[_0x426bef(0x7ba)](_0x3f9998);if(_0x2a66f9){let _0x3b4030={'_id':_0x2a66f9[_0x426bef(0x2c4)]['id'],'_fromMe':_0x2a66f9[_0x426bef(0x2c4)][_0x426bef(0x196)],'_remoteJid':_0x2a66f9['key'][_0x426bef(0x323)]},_0x5f5a30=(0x0,w[_0x426bef(0x35e)])(_0x2a66f9[_0x426bef(0x478)]),_0x539a98=(0x0,w[_0x426bef(0x42e)])(_0x5f5a30);_0x4b0d1f[_0x426bef(0x239)][_0x426bef(0x67f)]=_0x1f93bf[_0x426bef(0x2af)][_0x426bef(0x7ce)]();let {message_normalized:_0x1a5079}=this[_0x426bef(0x133)](_0x5f5a30,_0x539a98,null);_0x4b0d1f[_0x426bef(0x239)]['lastSendMessage']=await _0x1a5079;let _0x198ef4={'messageId':_0x2a66f9[_0x426bef(0x2c4)]['id']},_0x5e000f=_0x4b0d1f[_0x426bef(0x239)]['realVariables'];Object[_0x426bef(0x414)](_0x5e000f,_0x3b4030),_0x4b0d1f[_0x426bef(0x239)][_0x426bef(0x111)]=_0x5e000f,this['updateConversation'](_0x4b0d1f,_0x1f93bf,_0x198ef4);}else{let _0x43ac94={'error':!0x0};this['updateConversation'](_0x4b0d1f,_0x1f93bf,_0x43ac94),this[_0x426bef(0x224)][_0x426bef(0x15c)](this[_0x426bef(0x300)]+'\x20('+this[_0x426bef(0x7f4)][_0x426bef(0x78d)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x798a38){let _0x11c267={'error':!0x0,'errorLog':_0x798a38['toString']()};this[_0x426bef(0x1ae)](_0x4b0d1f,_0x1f93bf,_0x11c267),this['logger'][_0x426bef(0x15c)](this[_0x426bef(0x300)]+'\x20('+this[_0x426bef(0x7f4)][_0x426bef(0x78d)]+_0x426bef(0x391)+(_0x798a38 instanceof Error?_0x798a38[_0x426bef(0x478)]:JSON[_0x426bef(0x53e)](_0x798a38,null,0x2)));}}async[a0_0x75ac12(0x513)](_0x488740,_0x56772d){const _0x1ec98b=a0_0x75ac12;let _0x3821f5=_0x488740['remoteJid'];_0x56772d[_0x1ec98b(0x581)]['remoteJid']&&_0x56772d[_0x1ec98b(0x581)]['remoteJid'][_0x1ec98b(0x11c)]()!==''&&(_0x3821f5=_0x56772d['uazapi']['remoteJid'][_0x1ec98b(0x11c)]()),this[_0x1ec98b(0x224)][_0x1ec98b(0x195)](this[_0x1ec98b(0x300)]+'\x20('+this[_0x1ec98b(0x7f4)][_0x1ec98b(0x78d)]+_0x1ec98b(0x410));let _0x4609b6={'number':_0x3821f5,'options':{'delay':_0x56772d[_0x1ec98b(0x581)][_0x1ec98b(0x561)]},'contactMessage':[{'fullName':_0x56772d['uazapi']['fullName'],'phoneNumber':_0x56772d[_0x1ec98b(0x581)]['phoneNumber']}]};try{let _0x277536=await this['contactMessage'](_0x4609b6);if(_0x277536){let _0x33a5c5={'_id':_0x277536['key']['id'],'_fromMe':_0x277536[_0x1ec98b(0x2c4)][_0x1ec98b(0x196)],'_remoteJid':_0x277536[_0x1ec98b(0x2c4)][_0x1ec98b(0x323)]},_0x22475a=(0x0,w[_0x1ec98b(0x35e)])(_0x277536[_0x1ec98b(0x478)]),_0x1aec6d=(0x0,w[_0x1ec98b(0x42e)])(_0x22475a);_0x488740['chatLog']['lastBlockId']=_0x56772d[_0x1ec98b(0x2af)]['toString']();let {message_normalized:_0x1427d8}=this[_0x1ec98b(0x133)](_0x22475a,_0x1aec6d,null);_0x488740['chatLog'][_0x1ec98b(0x1ed)]=await _0x1427d8;let _0x2fd065={'messageId':_0x277536[_0x1ec98b(0x2c4)]['id']},_0x56088e=_0x488740[_0x1ec98b(0x239)][_0x1ec98b(0x111)];Object[_0x1ec98b(0x414)](_0x56088e,_0x33a5c5),_0x488740[_0x1ec98b(0x239)]['realVariables']=_0x56088e,this[_0x1ec98b(0x1ae)](_0x488740,_0x56772d,_0x2fd065);}else{let _0x388967={'error':!0x0};this[_0x1ec98b(0x1ae)](_0x488740,_0x56772d,_0x388967),this[_0x1ec98b(0x224)][_0x1ec98b(0x15c)](this[_0x1ec98b(0x300)]+'\x20('+this[_0x1ec98b(0x7f4)][_0x1ec98b(0x78d)]+_0x1ec98b(0x34a));}}catch(_0x539540){let _0xb7d2f7={'error':!0x0,'errorLog':_0x539540[_0x1ec98b(0x7ce)]()};this['updateConversation'](_0x488740,_0x56772d,_0xb7d2f7),this[_0x1ec98b(0x224)]['error'](this[_0x1ec98b(0x300)]+'\x20('+this[_0x1ec98b(0x7f4)][_0x1ec98b(0x78d)]+_0x1ec98b(0x7fc)+(_0x539540 instanceof Error?_0x539540['message']:JSON[_0x1ec98b(0x53e)](_0x539540,null,0x2)));}}[a0_0x75ac12(0x6d6)](_0x465a91,_0x1772a1){const _0x49f622=a0_0x75ac12;for(let _0x26c816 of _0x465a91)_0x26c816[_0x49f622(0x306)]&&(_0x26c816[_0x49f622(0x306)]=this[_0x49f622(0x651)](_0x26c816[_0x49f622(0x306)],_0x1772a1)),_0x26c816[_0x49f622(0x119)]&&(_0x26c816[_0x49f622(0x119)]=this[_0x49f622(0x651)](_0x26c816[_0x49f622(0x119)],_0x1772a1));}async['uazapiSendMenu'](_0x4b78b8,_0x1b45ff){const _0x14276e=a0_0x75ac12;let _0x81d228=_0x4b78b8[_0x14276e(0x323)];_0x1b45ff['uazapi'][_0x14276e(0x323)]&&_0x1b45ff[_0x14276e(0x581)][_0x14276e(0x323)][_0x14276e(0x11c)]()!==''&&(_0x81d228=_0x1b45ff['uazapi']['remoteJid'][_0x14276e(0x11c)]()),this[_0x14276e(0x224)]['verbose'](this['instanceName']+'\x20('+this[_0x14276e(0x7f4)][_0x14276e(0x78d)]+_0x14276e(0x49e));let _0x2baee9=_0x4b78b8[_0x14276e(0x7f2)]['filter'](_0x13a3d5=>_0x13a3d5['blockId']===_0x1b45ff[_0x14276e(0x2af)])['sort']((_0x52647f,_0x18f297)=>_0x52647f[_0x14276e(0x2e3)]-_0x18f297[_0x14276e(0x2e3)]);this[_0x14276e(0x6d6)](_0x2baee9,_0x4b78b8[_0x14276e(0x239)][_0x14276e(0x111)]);let _0x424d27=_0x2baee9[_0x14276e(0x506)](_0x1a1da4=>_0x1a1da4[_0x14276e(0x306)]),_0x2c0f97={'number':_0x81d228,'menuMessage':{'type':_0x1b45ff['uazapi'][_0x14276e(0x13f)]||_0x14276e(0x71c),'text':_0x1b45ff[_0x14276e(0x581)]['text']||_0x1b45ff[_0x14276e(0x581)][_0x14276e(0x537)],'footerText':_0x1b45ff['uazapi'][_0x14276e(0x4b4)],'buttonText':_0x1b45ff[_0x14276e(0x581)][_0x14276e(0x446)],'selectableCount':0x1,'choices':_0x424d27},'options':{'delay':_0x1b45ff[_0x14276e(0x581)][_0x14276e(0x561)]}};try{let _0x16153f=await this[_0x14276e(0x46b)](_0x2c0f97);if(_0x16153f){let _0x3e6b10={'_id':_0x16153f['key']['id'],'_fromMe':_0x16153f['key'][_0x14276e(0x196)],'_remoteJid':_0x16153f[_0x14276e(0x2c4)][_0x14276e(0x323)]};_0x1b45ff[_0x14276e(0x581)][_0x14276e(0x5f4)]===!0x0&&(_0x4b78b8['status']=_0x14276e(0x237),this['logger'][_0x14276e(0x195)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20conversation.status:\x20'+_0x4b78b8[_0x14276e(0x2be)])),this[_0x14276e(0x224)]['verbose'](this[_0x14276e(0x300)]+'\x20('+this['instance']['wuid']+_0x14276e(0x781)+(_0x1b45ff[_0x14276e(0x581)][_0x14276e(0x537)]||_0x1b45ff[_0x14276e(0x581)][_0x14276e(0x105)])),_0x4b78b8[_0x14276e(0x4cd)]=_0x16153f[_0x14276e(0x2c4)]['id'],_0x4b78b8[_0x14276e(0x7f9)]=_0x1b45ff[_0x14276e(0x581)]['name']||_0x1b45ff[_0x14276e(0x581)][_0x14276e(0x105)],_0x4b78b8['waitingMenu_replyOptions']=_0x2baee9,_0x1b45ff[_0x14276e(0x581)][_0x14276e(0x741)]&&(_0x4b78b8[_0x14276e(0x4e0)]=_0x1b45ff[_0x14276e(0x581)][_0x14276e(0x741)]),this[_0x14276e(0x224)][_0x14276e(0x195)](this['instanceName']+'\x20('+this['instance'][_0x14276e(0x78d)]+_0x14276e(0x352)+_0x4b78b8['waitingMenu_text']);let _0x43857b=(0x0,w[_0x14276e(0x35e)])(_0x16153f[_0x14276e(0x478)]),_0x11a53e=(0x0,w[_0x14276e(0x42e)])(_0x43857b);_0x4b78b8['chatLog']['lastBlockId']=_0x1b45ff['_id'][_0x14276e(0x7ce)]();let {message_normalized:_0x342aec}=this[_0x14276e(0x133)](_0x43857b,_0x11a53e,null);_0x4b78b8['chatLog']['lastSendMessage']=await _0x342aec;let _0x9960e3={'messageId':_0x16153f[_0x14276e(0x2c4)]['id']},_0x344b80=_0x4b78b8[_0x14276e(0x239)][_0x14276e(0x111)];Object[_0x14276e(0x414)](_0x344b80,_0x3e6b10),_0x4b78b8[_0x14276e(0x239)][_0x14276e(0x111)]=_0x344b80,this[_0x14276e(0x1ae)](_0x4b78b8,_0x1b45ff,_0x9960e3);}else{let _0x31bf3a={'error':!0x0};this[_0x14276e(0x1ae)](_0x4b78b8,_0x1b45ff,_0x31bf3a),this[_0x14276e(0x224)][_0x14276e(0x15c)](this['instanceName']+'\x20('+this[_0x14276e(0x7f4)][_0x14276e(0x78d)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.');}}catch(_0x38b676){let _0x2bcb12={'error':!0x0,'errorLog':_0x38b676 instanceof Error?_0x38b676[_0x14276e(0x478)]:JSON[_0x14276e(0x53e)](_0x38b676,null,0x2)};this[_0x14276e(0x1ae)](_0x4b78b8,_0x1b45ff,_0x2bcb12),this[_0x14276e(0x224)]['error'](this[_0x14276e(0x300)]+'\x20('+this[_0x14276e(0x7f4)][_0x14276e(0x78d)]+_0x14276e(0x3cd)+(_0x38b676 instanceof Error?_0x38b676[_0x14276e(0x478)]:JSON[_0x14276e(0x53e)](_0x38b676,null,0x2)));}}async['uazapiDeleteMessage'](_0x299972,_0x42080e){const _0x32d270=a0_0x75ac12;this['logger'][_0x32d270(0x195)](this[_0x32d270(0x300)]+'\x20('+this[_0x32d270(0x7f4)][_0x32d270(0x78d)]+_0x32d270(0x803));let _0x3a41a4=_0x299972[_0x32d270(0x239)][_0x32d270(0x65b)][_0x32d270(0x1c3)](_0x2bf1e5=>_0x2bf1e5[_0x32d270(0x33f)]['toString']()===_0x42080e[_0x32d270(0x581)][_0x32d270(0x33f)][_0x32d270(0x7ce)]()),_0xd25f71={'id':_0x3a41a4['messageId'],'remoteJid':_0x3a41a4[_0x32d270(0x323)],'fromMe':_0x3a41a4[_0x32d270(0x196)]};try{let _0x324031=await this[_0x32d270(0x4a9)](_0xd25f71);if(_0x324031){let _0x7fd57d=(0x0,w[_0x32d270(0x35e)])(_0x324031[_0x32d270(0x478)]),_0x49ab55=(0x0,w['getContentType'])(_0x7fd57d);_0x299972[_0x32d270(0x239)][_0x32d270(0x67f)]=_0x42080e[_0x32d270(0x2af)][_0x32d270(0x7ce)]();let {message_normalized:_0x53f2fc}=this[_0x32d270(0x133)](_0x7fd57d,_0x49ab55,null);_0x299972[_0x32d270(0x239)]['lastSendMessage']=await _0x53f2fc;let _0x327910={};this[_0x32d270(0x1ae)](_0x299972,_0x42080e,_0x327910);}else{let _0x542e33={'error':!0x0};this[_0x32d270(0x1ae)](_0x299972,_0x42080e,_0x542e33),this[_0x32d270(0x224)][_0x32d270(0x15c)](this['instanceName']+'\x20('+this[_0x32d270(0x7f4)][_0x32d270(0x78d)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x121b6c){let _0x21b117={'error':!0x0,'errorLog':_0x121b6c instanceof Error?_0x121b6c[_0x32d270(0x478)]:JSON[_0x32d270(0x53e)](_0x121b6c,null,0x2)};this[_0x32d270(0x1ae)](_0x299972,_0x42080e,_0x21b117),this[_0x32d270(0x224)]['error'](this[_0x32d270(0x300)]+'\x20('+this[_0x32d270(0x7f4)]['wuid']+_0x32d270(0x25c)+(_0x121b6c instanceof Error?_0x121b6c[_0x32d270(0x478)]:JSON[_0x32d270(0x53e)](_0x121b6c,null,0x2)));}}async[a0_0x75ac12(0x68e)](_0x31a2c3,_0x148963){const _0x225116=a0_0x75ac12;if(_0x31a2c3[_0x225116(0x537)]||(_0x31a2c3[_0x225116(0x537)]=(0x0,X['v4'])()),_0x148963!==Ti&&_0x31a2c3?.[_0x225116(0x19a)])throw new m(_0x225116(0x114));if(_0x225116(0x2af)in _0x31a2c3&&'owner'in _0x31a2c3)return this[_0x225116(0x7e7)](_0x31a2c3[_0x225116(0x4c1)],_0x31a2c3[_0x225116(0x2af)]);this[_0x225116(0x224)][_0x225116(0x195)](this['instanceName']+'\x20('+this[_0x225116(0x7f4)]['wuid']+'):\x20Criando\x20fluxo...');let _0x3f572b=this['getUniqueFlowName'](_0x31a2c3[_0x225116(0x537)]),_0x50b7a0=new fe['Types'][(_0x225116(0x163))](),_0x1bdf0d={'_id':_0x50b7a0,'default':!0x0,'title':_0x225116(0x1fa),'x':0x0,'y':0x0},_0x186811={'_id':new fe[(_0x225116(0x2ba))][(_0x225116(0x163))](),'order':0x1,'groupId':_0x50b7a0[_0x225116(0x7ce)](),'type':_0x225116(0x32b)},_0x88384=this[_0x225116(0x7f4)][_0x225116(0x78d)],_0x4d5684={'_id':(0x0,X['v4'])(),'owner':_0x88384,'name':_0x3f572b,'whoCanEdit':[_0x88384],'whoCanUse':[_0x88384],'groups':[_0x1bdf0d],'blocks':[_0x186811],..._0x31a2c3};try{let _0x5e5164=await this[_0x225116(0x76b)][_0x225116(0x20a)][_0x225116(0x18b)](_0x4d5684);return await this[_0x225116(0x299)](),_0x5e5164;}catch(_0x123088){let _0x1d0969=_0x225116(0x19c),_0x183027=_0x123088 instanceof Error?_0x123088[_0x225116(0x478)]:typeof _0x123088==_0x225116(0x307)?JSON[_0x225116(0x53e)](_0x123088):_0x123088,_0x3c8980=_0x1d0969+':\x20'+_0x183027;throw this[_0x225116(0x224)]['error'](this[_0x225116(0x300)]+'\x20('+this[_0x225116(0x7f4)]['wuid']+_0x225116(0x3d3)+_0x3c8980),new m(_0x3c8980);}}async[a0_0x75ac12(0x7e7)](_0x5dbaa4,_0x580a60){const _0x27baf7=a0_0x75ac12;try{this['logger']['verbose'](this[_0x27baf7(0x300)]+'\x20('+this['instance']['wuid']+_0x27baf7(0xf2));let _0x35f74a=await this[_0x27baf7(0x76b)]['flow']['findOne']({'where':{'_id':_0x580a60,'owner':_0x5dbaa4}});if(!_0x35f74a)throw new m(_0x27baf7(0x49f));if(_0x35f74a[_0x27baf7(0x507)]===!0x1&&!_0x35f74a['globalShow'])throw new m(_0x27baf7(0x80f));let _0x297d3a=new Set(_0x35f74a[_0x27baf7(0x4a4)]??[]);_0x297d3a[_0x27baf7(0x2a6)](this[_0x27baf7(0x7f4)][_0x27baf7(0x78d)]);let _0x42a53c=await this[_0x27baf7(0x76b)][_0x27baf7(0x20a)][_0x27baf7(0x5b6)](_0x580a60,{..._0x35f74a,'whoCanUse':Array[_0x27baf7(0x47f)](_0x297d3a)});return await this[_0x27baf7(0x299)](),_0x42a53c;}catch(_0x4abb7f){let _0x451d75=_0x27baf7(0x7c5),_0x4eec24=_0x4abb7f instanceof Error?_0x4abb7f[_0x27baf7(0x478)]:typeof _0x4abb7f=='object'?JSON[_0x27baf7(0x53e)](_0x4abb7f):_0x4abb7f,_0x35ec17=_0x451d75+':\x20'+_0x4eec24;throw this[_0x27baf7(0x224)][_0x27baf7(0x15c)](this[_0x27baf7(0x300)]+'\x20('+this['instance'][_0x27baf7(0x78d)]+_0x27baf7(0x3d3)+_0x35ec17),new m(_0x35ec17);}}['getUniqueFlowName'](_0x2bb731){const _0x414ab1=a0_0x75ac12;let _0x4ac6a6=_0x2bb731,_0x388ce2=0x1;for(;this[_0x414ab1(0x190)][_0x414ab1(0x574)][_0x414ab1(0x682)](_0x42aa06=>_0x42aa06[_0x414ab1(0x537)]===_0x4ac6a6);)_0x388ce2++,_0x4ac6a6=_0x2bb731+'\x20('+_0x388ce2+')';return _0x4ac6a6;}async['deleteFlow'](_0x45c947){const _0x2df87a=a0_0x75ac12;try{if(this[_0x2df87a(0x224)]['verbose'](this['instanceName']+'\x20('+this[_0x2df87a(0x7f4)][_0x2df87a(0x78d)]+_0x2df87a(0x611)+_0x45c947[_0x2df87a(0x2af)]+_0x2df87a(0x76a)+_0x45c947[_0x2df87a(0x5b1)]),!this['AutomateSystem'][_0x2df87a(0x574)][_0x2df87a(0x1c3)](_0x169395=>_0x169395['_id']===_0x45c947['_id']))throw this['logger'][_0x2df87a(0x195)](this['instanceName']+'\x20('+this['instance'][_0x2df87a(0x78d)]+'):\x20Fluxo\x20\x27'+_0x45c947[_0x2df87a(0x2af)]+_0x2df87a(0x309)),new m(_0x2df87a(0x5c7));let _0x4bc796=await this['repository'][_0x2df87a(0x20a)]['findOne']({'where':{'_id':_0x45c947[_0x2df87a(0x2af)]}});if(!_0x4bc796)throw new m(_0x2df87a(0x44b));if(this[_0x2df87a(0x7f4)][_0x2df87a(0x78d)]===_0x4bc796[_0x2df87a(0x4c1)]){this[_0x2df87a(0x224)][_0x2df87a(0x195)](this['instanceName']+'\x20('+this['instance'][_0x2df87a(0x78d)]+_0x2df87a(0x19b)+_0x45c947[_0x2df87a(0x2af)]+_0x2df87a(0x6f4));let _0x5199c4=await this[_0x2df87a(0x76b)][_0x2df87a(0x20a)][_0x2df87a(0x1d1)]({'where':{'_id':_0x45c947[_0x2df87a(0x2af)]}});return await this[_0x2df87a(0x299)](),_0x5199c4;}return this['logger'][_0x2df87a(0x195)](this[_0x2df87a(0x300)]+'\x20('+this[_0x2df87a(0x7f4)][_0x2df87a(0x78d)]+'):\x20Removendo\x20\x27'+this[_0x2df87a(0x7f4)][_0x2df87a(0x78d)]+_0x2df87a(0x4b9)+_0x45c947[_0x2df87a(0x2af)]+'\x27...'),_0x4bc796[_0x2df87a(0x4a4)]=(_0x4bc796['whoCanUse']??[])[_0x2df87a(0x82d)](_0x4f7eac=>_0x4f7eac!==this['instance'][_0x2df87a(0x78d)]),_0x4bc796[_0x2df87a(0x58a)]=(_0x4bc796[_0x2df87a(0x58a)]??[])[_0x2df87a(0x82d)](_0x4ce389=>_0x4ce389!==this['instance']['wuid']),_0x4bc796['whoCanEdit'][_0x2df87a(0x624)]===0x0&&_0x4bc796['whoCanUse'][_0x2df87a(0x624)]>0x0&&(_0x4bc796['whoCanEdit']['push'](_0x4bc796['whoCanUse'][0x0]),this[_0x2df87a(0x224)][_0x2df87a(0x195)](this[_0x2df87a(0x300)]+'\x20('+this[_0x2df87a(0x7f4)][_0x2df87a(0x78d)]+_0x2df87a(0x130)+_0x4bc796[_0x2df87a(0x4a4)][0x0]+'\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27'+_0x45c947[_0x2df87a(0x2af)]+_0x2df87a(0x47d))),await this[_0x2df87a(0x76b)][_0x2df87a(0x20a)][_0x2df87a(0x5b6)](_0x4bc796[_0x2df87a(0x2af)],_0x4bc796),await this[_0x2df87a(0x299)](),{'message':'Fluxo\x20\x27'+_0x45c947[_0x2df87a(0x537)]+_0x2df87a(0x70f)};}catch(_0x6c3e38){return this[_0x2df87a(0x224)][_0x2df87a(0x15c)](this['instanceName']+'\x20('+this[_0x2df87a(0x7f4)][_0x2df87a(0x78d)]+_0x2df87a(0x55e)+(_0x6c3e38 instanceof Error?_0x6c3e38[_0x2df87a(0x478)]:JSON[_0x2df87a(0x53e)](_0x6c3e38,null,0x2))),{'message':_0x2df87a(0x212)+(_0x6c3e38 instanceof Error?_0x6c3e38[_0x2df87a(0x478)]:JSON[_0x2df87a(0x53e)](_0x6c3e38,null,0x2))};}}async['getFlow'](_0x3e4750){const _0x1440ac=a0_0x75ac12;try{if(this[_0x1440ac(0x224)][_0x1440ac(0x59e)](this[_0x1440ac(0x300)]+'\x20('+this[_0x1440ac(0x7f4)][_0x1440ac(0x78d)]+_0x1440ac(0x2d8)+_0x3e4750),!this[_0x1440ac(0x190)]&&(await this[_0x1440ac(0x6c6)](),!this['AutomateSystem']))return null;let _0x2d92d8=await this['repository'][_0x1440ac(0x20a)]['findOne']({'where':{'_id':_0x3e4750}});if(!_0x2d92d8)throw new m(_0x1440ac(0x51e)+_0x3e4750+_0x1440ac(0x66d));if(!(_0x2d92d8[_0x1440ac(0x19a)]||_0x2d92d8['whoCanUse']?.[_0x1440ac(0x5bb)](this[_0x1440ac(0x7f4)][_0x1440ac(0x78d)])))throw new m(_0x1440ac(0x5f0)+name+'\x27');_0x2d92d8[_0x1440ac(0x19a)]&&!_0x2d92d8['whoCanUse']?.[_0x1440ac(0x5bb)](this[_0x1440ac(0x7f4)][_0x1440ac(0x78d)])&&(_0x2d92d8[_0x1440ac(0x4a4)]=[..._0x2d92d8[_0x1440ac(0x4a4)]??[],this[_0x1440ac(0x7f4)][_0x1440ac(0x78d)]],await this[_0x1440ac(0x76b)]['flow'][_0x1440ac(0x5b6)](_0x2d92d8['_id'],_0x2d92d8),this[_0x1440ac(0x299)]());let _0x48ecbd=this[_0x1440ac(0x190)]?.[_0x1440ac(0x7a4)][_0x1440ac(0x506)](_0x464e30=>_0x464e30['name']),_0x442195=[_0x1440ac(0x1df),_0x1440ac(0x405),_0x1440ac(0x748),_0x1440ac(0x291),_0x1440ac(0x2be),'notas','responsavelid',_0x1440ac(0x257),_0x1440ac(0x49c),_0x1440ac(0x480),_0x1440ac(0x7ed)];_0x2d92d8[_0x1440ac(0x42b)]=_0x2d92d8[_0x1440ac(0x42b)][_0x1440ac(0x82d)](_0x15d208=>!(_0x15d208[_0x1440ac(0x7a2)]===_0x1440ac(0x7f5)||_0x15d208[_0x1440ac(0x7f5)])),_0x442195['forEach'](_0x316ad4=>{const _0x508db9=_0x1440ac;_0x2d92d8[_0x508db9(0x42b)][_0x508db9(0x6e9)]({'folder':_0x508db9(0x7f5),'name':_0x316ad4,'value':'','doc':'','leadInfo':!0x0});}),_0x48ecbd[_0x1440ac(0x839)](_0x502f05=>{const _0x568a48=_0x1440ac;let _0x70baf7=_0x2d92d8['variables'][_0x568a48(0x3d5)](_0x18dabd=>_0x18dabd[_0x568a48(0x537)]===_0x502f05);_0x70baf7===-0x1?_0x2d92d8[_0x568a48(0x42b)]['push']({'folder':_0x568a48(0x7f5),'name':_0x502f05,'value':'','doc':'','leadInfo':!0x0}):(_0x2d92d8['variables'][_0x70baf7][_0x568a48(0x7a2)]=_0x568a48(0x7f5),_0x2d92d8['variables'][_0x70baf7]['leadInfo']=!0x0);}),_0x2d92d8['blocks']&&_0x2d92d8[_0x1440ac(0x1d6)]['length']>0x0&&_0x2d92d8[_0x1440ac(0x1d6)][_0x1440ac(0x839)](_0x16371b=>{const _0x291ca5=_0x1440ac;_0x16371b[_0x291ca5(0x3a5)]&&_0x16371b[_0x291ca5(0x60f)]&&_0x16371b[_0x291ca5(0x3a5)]===_0x16371b[_0x291ca5(0x60f)]&&(_0x16371b[_0x291ca5(0x60f)]=null);});let _0x59464e=await this[_0x1440ac(0x76b)][_0x1440ac(0x20a)]['updateOne'](_0x2d92d8[_0x1440ac(0x2af)],_0x2d92d8);if(!_0x59464e)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x59464e;}catch(_0x19795e){let _0x174d4e=_0x1440ac(0x54d),_0x2a4818=_0x19795e instanceof Error?_0x19795e[_0x1440ac(0x478)]:typeof _0x19795e==_0x1440ac(0x307)?JSON['stringify'](_0x19795e):_0x19795e,_0x1ac749=_0x174d4e+':\x20'+_0x2a4818;throw this[_0x1440ac(0x224)][_0x1440ac(0x15c)](this[_0x1440ac(0x300)]+'\x20('+this[_0x1440ac(0x7f4)][_0x1440ac(0x78d)]+_0x1440ac(0x3d3)+_0x1ac749),new m(_0x1ac749);}}async[a0_0x75ac12(0x550)](){const _0x35a0a4=a0_0x75ac12;try{this[_0x35a0a4(0x224)][_0x35a0a4(0x195)](this['instanceName']+'\x20('+this[_0x35a0a4(0x7f4)][_0x35a0a4(0x78d)]+_0x35a0a4(0x566)),await this[_0x35a0a4(0x299)]();let _0x48bdd1=await this['repository'][_0x35a0a4(0x20a)][_0x35a0a4(0x118)]({'where':{'globalShow':!0x0}});return[...this[_0x35a0a4(0x190)]['flows'],..._0x48bdd1];}catch(_0x4da446){return this[_0x35a0a4(0x224)][_0x35a0a4(0x15c)](this[_0x35a0a4(0x300)]+'\x20('+this[_0x35a0a4(0x7f4)][_0x35a0a4(0x78d)]+_0x35a0a4(0x6b9)+(_0x4da446 instanceof Error?_0x4da446[_0x35a0a4(0x478)]:JSON[_0x35a0a4(0x53e)](_0x4da446,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+(_0x4da446 instanceof Error?_0x4da446[_0x35a0a4(0x478)]:String(_0x4da446))};}}async['editFlow'](_0x49944b,_0x56f67d){const _0x508dc7=a0_0x75ac12;try{this['logger'][_0x508dc7(0x195)](this['instanceName']+'\x20('+this[_0x508dc7(0x7f4)][_0x508dc7(0x78d)]+_0x508dc7(0x21e));let _0x490b37=this[_0x508dc7(0x190)]['flows'][_0x508dc7(0x1c3)](_0xbf5bd6=>_0xbf5bd6[_0x508dc7(0x2af)]===_0x49944b[_0x508dc7(0x2af)]);if(!_0x490b37)throw this[_0x508dc7(0x224)][_0x508dc7(0x195)](this[_0x508dc7(0x300)]+'\x20('+this['instance'][_0x508dc7(0x78d)]+_0x508dc7(0x6c3)+_0x49944b[_0x508dc7(0x2af)]+'\x27\x20não\x20encontrado'),new m(_0x508dc7(0x5c7));let _0x41298e=await this['repository'][_0x508dc7(0x20a)][_0x508dc7(0x4a6)]({'where':{'_id':_0x49944b[_0x508dc7(0x2af)]}});if(!_0x41298e||!_0x41298e[_0x508dc7(0x4a4)]?.[_0x508dc7(0x5bb)](this[_0x508dc7(0x7f4)][_0x508dc7(0x78d)]))throw this[_0x508dc7(0x224)][_0x508dc7(0x15c)](this['instanceName']+'\x20('+this[_0x508dc7(0x7f4)][_0x508dc7(0x78d)]+_0x508dc7(0x5cc)+_0x49944b[_0x508dc7(0x2af)]+_0x508dc7(0x3eb)),new m(_0x508dc7(0x1b4)+_0x49944b['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x389a40=this['AutomateSystem']['flows'][_0x508dc7(0x3d5)](_0x4f2764=>_0x4f2764[_0x508dc7(0x2af)]===_0x490b37[_0x508dc7(0x2af)]);if(_0x389a40!==-0x1){let _0x555681=this['AutomateSystem'][_0x508dc7(0x574)][_0x389a40];if(_0x555681['name']=_0x49944b[_0x508dc7(0x537)]??_0x555681['name'],_0x555681['default']=_0x49944b[_0x508dc7(0x636)]??_0x555681['default'],_0x555681['testingWith']=_0x49944b['testingWith']??_0x555681[_0x508dc7(0x406)],_0x555681[_0x508dc7(0x5b2)]=_0x49944b['startCommandWord']??_0x555681[_0x508dc7(0x5b2)],_0x555681[_0x508dc7(0x23c)]=_0x49944b[_0x508dc7(0x23c)]??_0x555681[_0x508dc7(0x23c)],_0x555681[_0x508dc7(0x201)]=_0x49944b[_0x508dc7(0x201)]??_0x555681[_0x508dc7(0x201)],_0x49944b[_0x508dc7(0x636)]&&this[_0x508dc7(0x190)][_0x508dc7(0x574)]['forEach']((_0x332146,_0x15fcf4)=>{const _0x298896=_0x508dc7;_0x15fcf4!==_0x389a40&&(_0x332146[_0x298896(0x636)]=!0x1);}),this[_0x508dc7(0x190)][_0x508dc7(0x574)][_0x389a40]=_0x555681,!await this[_0x508dc7(0x76b)]['automateSystem'][_0x508dc7(0x829)]({'flows':this['AutomateSystem'][_0x508dc7(0x574)]},this[_0x508dc7(0x7f4)]['wuid']))throw new m('Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.');}let _0x341166=['global',_0x508dc7(0x225),'sharePass',_0x508dc7(0x641)];for(let _0x907a45 of _0x341166)delete _0x49944b[_0x907a45];if(_0x41298e[_0x508dc7(0x58a)]?.[_0x508dc7(0x5bb)](this['instance'][_0x508dc7(0x78d)])||(_0x49944b={'_id':_0x49944b[_0x508dc7(0x2af)]}),_0x56f67d!==Ti&&_0x49944b?.[_0x508dc7(0x19a)]&&!_0x41298e?.['globalShow'])throw new m('Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.');let _0x4b3be5=new Set(_0x49944b[_0x508dc7(0x58a)]??_0x41298e[_0x508dc7(0x58a)]);_0x4b3be5[_0x508dc7(0x2a6)](_0x41298e[_0x508dc7(0x4c1)]);let _0x4b4812=new Set(_0x49944b[_0x508dc7(0x4a4)]??_0x41298e[_0x508dc7(0x4a4)]??[]);_0x4b3be5[_0x508dc7(0x839)](_0x4540b7=>_0x4b4812[_0x508dc7(0x2a6)](_0x4540b7)),_0x4b4812[_0x508dc7(0x2a6)](_0x41298e[_0x508dc7(0x4c1)]),this[_0x508dc7(0x224)][_0x508dc7(0x195)](this[_0x508dc7(0x300)]+'\x20('+this[_0x508dc7(0x7f4)][_0x508dc7(0x78d)]+'):\x20whoCanEdit\x20before\x20validation:\x20'+Array[_0x508dc7(0x47f)](_0x4b3be5)),this[_0x508dc7(0x224)][_0x508dc7(0x195)](this[_0x508dc7(0x300)]+'\x20('+this[_0x508dc7(0x7f4)]['wuid']+_0x508dc7(0x485)+Array[_0x508dc7(0x47f)](_0x4b4812));let _0x126779=await this[_0x508dc7(0x587)](Array['from'](_0x4b4812)),_0x2a9537=Array[_0x508dc7(0x47f)](_0x4b3be5)[_0x508dc7(0x82d)](_0x94bd7b=>_0x126779[_0x508dc7(0x5bb)](_0x94bd7b)),_0x10d9c0=Array['from'](_0x4b4812)['filter'](_0x17e8b0=>_0x126779[_0x508dc7(0x5bb)](_0x17e8b0));this[_0x508dc7(0x224)][_0x508dc7(0x195)](this[_0x508dc7(0x300)]+'\x20('+this[_0x508dc7(0x7f4)][_0x508dc7(0x78d)]+_0x508dc7(0x337)+_0x2a9537),this[_0x508dc7(0x224)][_0x508dc7(0x195)](this['instanceName']+'\x20('+this[_0x508dc7(0x7f4)][_0x508dc7(0x78d)]+_0x508dc7(0x634)+_0x10d9c0);let _0x2df322={..._0x41298e,..._0x49944b,'whoCanEdit':_0x2a9537,'whoCanUse':_0x10d9c0},_0x328528=await this[_0x508dc7(0x76b)][_0x508dc7(0x20a)][_0x508dc7(0x5b6)](_0x41298e[_0x508dc7(0x2af)],_0x2df322);return await this[_0x508dc7(0x299)](),_0x328528;}catch(_0x5da66f){let _0x171ff2=_0x508dc7(0x5bf),_0x2e77bb=_0x5da66f instanceof Error?_0x5da66f[_0x508dc7(0x478)]:typeof _0x5da66f==_0x508dc7(0x307)?JSON['stringify'](_0x5da66f):_0x5da66f,_0x5eda2d=_0x171ff2+':\x20'+_0x2e77bb;throw this[_0x508dc7(0x224)][_0x508dc7(0x15c)](this[_0x508dc7(0x300)]+'\x20('+this[_0x508dc7(0x7f4)][_0x508dc7(0x78d)]+'):\x20'+_0x5eda2d),new m(_0x5eda2d);}}async[a0_0x75ac12(0x587)](_0x1bd1d2){const _0x2c9832=a0_0x75ac12;let _0x565008={'numbers':_0x1bd1d2};return(await this[_0x2c9832(0x647)](_0x565008))['filter'](_0x2a25c3=>_0x2a25c3[_0x2c9832(0x220)])['map'](_0x55bf25=>_0x55bf25[_0x2c9832(0x797)])[_0x2c9832(0x506)](_0x343dde=>this['extractPhoneNumber'](_0x343dde));}[a0_0x75ac12(0x715)](_0x3de8b0){const _0x56674b=a0_0x75ac12;let _0x3e029b=_0x3de8b0[_0x56674b(0x599)](/\d+/);return _0x3e029b?_0x3e029b[0x0]:'';}async[a0_0x75ac12(0x725)](_0x1584a1){const _0x1f2b8c=a0_0x75ac12;try{if(this[_0x1f2b8c(0x224)][_0x1f2b8c(0x195)](this[_0x1f2b8c(0x300)]+'\x20('+this[_0x1f2b8c(0x7f4)][_0x1f2b8c(0x78d)]+_0x1f2b8c(0x12c)),!this[_0x1f2b8c(0x190)][_0x1f2b8c(0x574)]['find'](_0x4500ba=>_0x4500ba['_id']===_0x1584a1['_id']))throw this[_0x1f2b8c(0x224)]['verbose'](this[_0x1f2b8c(0x300)]+'\x20('+this['instance'][_0x1f2b8c(0x78d)]+'):\x20Fluxo\x20\x27'+_0x1584a1['_id']+'\x27\x20não\x20encontrado'),new m(_0x1f2b8c(0x5c7));let _0x4daa8a=await this[_0x1f2b8c(0x76b)]['flow']['findOne']({'where':{'_id':_0x1584a1[_0x1f2b8c(0x2af)]}});if(!_0x4daa8a||!_0x4daa8a[_0x1f2b8c(0x4a4)]?.[_0x1f2b8c(0x5bb)](this['instance'][_0x1f2b8c(0x78d)]))throw this[_0x1f2b8c(0x224)]['error'](this['instanceName']+'\x20('+this[_0x1f2b8c(0x7f4)]['wuid']+_0x1f2b8c(0x5cc)+_0x1584a1[_0x1f2b8c(0x2af)]+_0x1f2b8c(0x3eb)),new m(_0x1f2b8c(0x1b4)+_0x1584a1[_0x1f2b8c(0x2af)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x4daa8a['whoCanEdit']?.[_0x1f2b8c(0x5bb)](this[_0x1f2b8c(0x7f4)][_0x1f2b8c(0x78d)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {block:_0x1d197a}=_0x1584a1;_0x1d197a?.[_0x1f2b8c(0x366)]?this['copyBlock'](_0x4daa8a,_0x1584a1):_0x1d197a?.[_0x1f2b8c(0x585)]?this[_0x1f2b8c(0x559)](_0x4daa8a,_0x1584a1):_0x1d197a[_0x1f2b8c(0x2af)]?await this[_0x1f2b8c(0x528)](_0x4daa8a,_0x1584a1):this[_0x1f2b8c(0x52c)](_0x4daa8a,_0x1584a1);let _0x19f6b9=await this[_0x1f2b8c(0x76b)]['flow'][_0x1f2b8c(0x5b6)](_0x4daa8a[_0x1f2b8c(0x2af)],_0x4daa8a);if(!_0x19f6b9)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x19f6b9;}catch(_0x32c895){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x32c895[_0x1f2b8c(0x478)]);}}async['copyBlock'](_0x34c000,_0x4e1362){const _0x100a02=a0_0x75ac12;let _0x1060f6=_0x4e1362['block'][_0x100a02(0x2af)],_0x4e9150=_0x34c000[_0x100a02(0x1d6)][_0x100a02(0x1c3)](_0x2176c2=>_0x2176c2[_0x100a02(0x2af)][_0x100a02(0x7ce)]()===_0x1060f6);if(!_0x4e9150){this[_0x100a02(0x224)][_0x100a02(0x15c)](this[_0x100a02(0x300)]+'\x20('+this[_0x100a02(0x7f4)][_0x100a02(0x78d)]+'):\x20Bloco\x20com\x20ID\x20'+_0x1060f6+'\x20não\x20encontrado\x20para\x20cópia');return;}this[_0x100a02(0x224)][_0x100a02(0x195)](this[_0x100a02(0x300)]+'\x20('+this[_0x100a02(0x7f4)][_0x100a02(0x78d)]+_0x100a02(0x2d7)+JSON[_0x100a02(0x53e)](_0x4e9150));let _0x385ce7=JSON[_0x100a02(0x31e)](JSON[_0x100a02(0x53e)](_0x4e9150));_0x385ce7['_id']=new fe[(_0x100a02(0x636))]['Types'][(_0x100a02(0x163))](),this[_0x100a02(0x224)]['verbose'](this[_0x100a02(0x300)]+'\x20('+this[_0x100a02(0x7f4)][_0x100a02(0x78d)]+_0x100a02(0x5a8)+JSON[_0x100a02(0x53e)](_0x385ce7)),_0x34c000['blocks'][_0x100a02(0x6e9)](_0x385ce7),this[_0x100a02(0x7ae)](_0x34c000[_0x100a02(0x1d6)],_0x385ce7['groupId']);}['throwAndLogError'](_0x5f04ee){const _0x12f756=a0_0x75ac12;throw this[_0x12f756(0x224)][_0x12f756(0x15c)](this[_0x12f756(0x300)]+'\x20('+this['instance']['wuid']+_0x12f756(0x3d3)+_0x5f04ee),new m(_0x5f04ee);}[a0_0x75ac12(0x559)](_0x334282,_0x150d5f){const _0x554e0d=a0_0x75ac12;let {block:_0x4baa5d}=_0x150d5f;if(_0x4baa5d[_0x554e0d(0x791)]===_0x554e0d(0x32b)){this[_0x554e0d(0x290)](_0x554e0d(0x732));return;}if(!_0x4baa5d[_0x554e0d(0x2af)]){this[_0x554e0d(0x290)](_0x554e0d(0x7eb));return;}let _0x2c8767=_0x334282[_0x554e0d(0x1d6)][_0x554e0d(0x1c3)](_0x1f65c8=>_0x1f65c8['_id'][_0x554e0d(0x7ce)]()===_0x150d5f['block'][_0x554e0d(0x2af)][_0x554e0d(0x7ce)]());if(!_0x2c8767){this[_0x554e0d(0x290)]('Bloco\x20com\x20ID\x20'+_0x4baa5d[_0x554e0d(0x2af)]+'\x20não\x20encontrado');return;}_0x334282[_0x554e0d(0x1d6)]=_0x334282['blocks'][_0x554e0d(0x82d)](_0x200859=>_0x200859['_id'][_0x554e0d(0x7ce)]()!==_0x150d5f[_0x554e0d(0x12f)][_0x554e0d(0x2af)]['toString']()),_0x334282[_0x554e0d(0x396)]=_0x334282[_0x554e0d(0x396)]['filter'](_0x216b1e=>_0x216b1e[_0x554e0d(0x33f)]!==_0x4baa5d[_0x554e0d(0x2af)][_0x554e0d(0x7ce)]()),_0x334282['varedits']=_0x334282[_0x554e0d(0x10a)][_0x554e0d(0x82d)](_0x248803=>_0x248803[_0x554e0d(0x33f)]!==_0x4baa5d[_0x554e0d(0x2af)][_0x554e0d(0x7ce)]()),_0x334282[_0x554e0d(0x7f2)]=_0x334282[_0x554e0d(0x7f2)]['filter'](_0x2b7e7d=>_0x2b7e7d[_0x554e0d(0x33f)]!==_0x4baa5d[_0x554e0d(0x2af)]['toString']()),this['reorderBlocks'](_0x334282[_0x554e0d(0x1d6)],_0x2c8767[_0x554e0d(0x3a5)]);}async[a0_0x75ac12(0x528)](_0x54d49e,_0x5aea6b){const _0xa330f=a0_0x75ac12;let _0x3c70ed=_0x54d49e[_0xa330f(0x1d6)][_0xa330f(0x3d5)](_0x6bdcc8=>_0x6bdcc8['_id'][_0xa330f(0x7ce)]()===_0x5aea6b['block']['_id'][_0xa330f(0x7ce)]());if(this['logger'][_0xa330f(0x195)](this[_0xa330f(0x300)]+'\x20('+this['instance']['wuid']+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x3c70ed),_0x3c70ed===-0x1){this[_0xa330f(0x224)]['verbose'](_0xa330f(0x23d)+_0x5aea6b[_0xa330f(0x12f)][_0xa330f(0x2af)]+_0xa330f(0x753));return;}if(_0x54d49e[_0xa330f(0x1d6)][_0x3c70ed][_0xa330f(0x791)]===_0xa330f(0x32b)){let _0x2fa80c=Object[_0xa330f(0x58e)](_0x5aea6b[_0xa330f(0x12f)]);if(_0x2fa80c[_0xa330f(0x624)]>0x2||_0x2fa80c[_0xa330f(0x624)]===0x2&&!_0x2fa80c[_0xa330f(0x5bb)](_0xa330f(0x60f))){this[_0xa330f(0x290)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x4125d4=_0x54d49e[_0xa330f(0x1d6)][_0x3c70ed][_0xa330f(0x3a5)];for(let _0xd69c10 in _0x5aea6b['block'])_0x5aea6b[_0xa330f(0x12f)][_0xa330f(0x181)](_0xd69c10)&&(_0x54d49e[_0xa330f(0x1d6)][_0x3c70ed][_0xd69c10]=_0x5aea6b[_0xa330f(0x12f)][_0xd69c10]);if(this['logger'][_0xa330f(0x195)](this[_0xa330f(0x300)]+'\x20('+this[_0xa330f(0x7f4)][_0xa330f(0x78d)]+_0xa330f(0x4a3)+JSON[_0xa330f(0x53e)](_0x54d49e[_0xa330f(0x1d6)][_0x3c70ed])),_0x54d49e[_0xa330f(0x1d6)][_0x3c70ed]['apirequest']&&_0xa330f(0x79f)in _0x54d49e[_0xa330f(0x1d6)][_0x3c70ed][_0xa330f(0x5a7)]){this['logger']['verbose'](this[_0xa330f(0x300)]+'\x20('+this[_0xa330f(0x7f4)][_0xa330f(0x78d)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x6f89d3=JSON[_0xa330f(0x53e)](_0x54d49e[_0xa330f(0x1d6)][_0x3c70ed]['apirequest'][_0xa330f(0x79f)],null,0x1);_0x6f89d3['length']>0x2&&(_0x6f89d3=_0x6f89d3['substring'](0x1,_0x6f89d3[_0xa330f(0x624)]-0x1)[_0xa330f(0x11c)]()),_0x54d49e['blocks'][_0x3c70ed]['apirequest']['headerString']=_0x6f89d3;}if(_0x54d49e[_0xa330f(0x1d6)][_0x3c70ed]['apirequest']&&_0xa330f(0x2e0)in _0x54d49e['blocks'][_0x3c70ed][_0xa330f(0x5a7)]&&!(_0xa330f(0x1f9)in _0x54d49e[_0xa330f(0x1d6)][_0x3c70ed]['apirequest'])){this[_0xa330f(0x224)][_0xa330f(0x195)](this[_0xa330f(0x300)]+'\x20('+this[_0xa330f(0x7f4)][_0xa330f(0x78d)]+_0xa330f(0x530)),_0x54d49e['blocks'][_0x3c70ed]['apirequest']['bodyStringErrorParse']=!0x1;let _0x1cdf75=JSON[_0xa330f(0x53e)](_0x54d49e[_0xa330f(0x1d6)][_0x3c70ed]['apirequest'][_0xa330f(0x2e0)],null,0x2);_0x54d49e[_0xa330f(0x1d6)][_0x3c70ed][_0xa330f(0x5a7)][_0xa330f(0x1f9)]=_0x1cdf75;}if(_0x54d49e[_0xa330f(0x1d6)][_0x3c70ed][_0xa330f(0x5a7)]&&_0xa330f(0x1f9)in _0x54d49e[_0xa330f(0x1d6)][_0x3c70ed][_0xa330f(0x5a7)]){_0x54d49e[_0xa330f(0x1d6)][_0x3c70ed][_0xa330f(0x5a7)][_0xa330f(0x7a9)]=!0x1;let _0x473732=_0x54d49e[_0xa330f(0x1d6)][_0x3c70ed][_0xa330f(0x5a7)]['bodyString'],_0x25e0c1=this[_0xa330f(0x672)](_0x473732);_0x54d49e['blocks'][_0x3c70ed][_0xa330f(0x5a7)][_0xa330f(0x1f9)]=_0x25e0c1[_0xa330f(0x583)],_0x54d49e[_0xa330f(0x1d6)][_0x3c70ed][_0xa330f(0x5a7)][_0xa330f(0x7a9)]=_0x25e0c1['error'];}let _0x240a14=_0x54d49e[_0xa330f(0x1d6)][_0x3c70ed]['groupId'];_0x4125d4!==_0x240a14?(this[_0xa330f(0x7ae)](_0x54d49e[_0xa330f(0x1d6)],_0x4125d4),this[_0xa330f(0x7ae)](_0x54d49e['blocks'],_0x240a14)):this[_0xa330f(0x7ae)](_0x54d49e[_0xa330f(0x1d6)],_0x4125d4);}[a0_0x75ac12(0x672)](_0x5b1957){const _0x172660=a0_0x75ac12;let _0x46331d='\u205f',_0xbbe65=!0x1,_0x21c767='';for(let _0x2256a7=0x0;_0x2256a7<_0x5b1957['length'];_0x2256a7++){let _0x10412d=_0x5b1957[_0x2256a7];_0x10412d==='\x22'&&(_0x2256a7===0x0||_0x5b1957[_0x2256a7-0x1]!=='\x5c')&&(_0xbbe65=!_0xbbe65),!(!_0xbbe65&&(_0x10412d==='\x0a'||_0x10412d==='\x20'||_0x10412d===_0x46331d))&&(_0x21c767+=_0x10412d);}let _0x336ab3={},_0x23f40c=9876543210.1234,_0x28e855=_0x21c767[_0x172660(0x154)](/\{\{([^}]+)\}\}/g,_0x3db5c0=>{let _0x1585ac=_0x3db5c0,_0x43752b=''+_0x23f40c;return _0x336ab3[_0x43752b]=_0x1585ac,_0x23f40c+=0.0001,_0x43752b;}),_0xf6a70f='',_0x59e076=!0x1;try{let _0x587a4f=JSON[_0x172660(0x31e)](_0x28e855);_0xf6a70f=JSON[_0x172660(0x53e)](_0x587a4f,null,0x2),_0xf6a70f=_0xf6a70f[_0x172660(0x154)](/\n( +)/g,(_0x5f2d86,_0x24052d)=>{const _0xbe195a=_0x172660;let _0x1ae69e=_0x24052d[_0xbe195a(0x624)];return'\x0a'+_0x46331d[_0xbe195a(0x3a0)](_0x1ae69e*0x2);}),_0xf6a70f=_0xf6a70f[_0x172660(0x154)](/(\d{10,}\.\d+)/g,_0x5575f0=>_0x336ab3[_0x5575f0]||_0x5575f0);}catch(_0x49b490){this['logger'][_0x172660(0x15c)]('Error\x20parsing\x20JSON:'+_0x49b490),_0xf6a70f=_0x5b1957,_0x59e076=!0x0;}return{'result':_0xf6a70f,'error':_0x59e076};}[a0_0x75ac12(0x52c)](_0x2d2467,_0x3cedfd){const _0x51a6e5=a0_0x75ac12;if(_0x3cedfd['block'][_0x51a6e5(0x791)]===_0x51a6e5(0x32b)){this[_0x51a6e5(0x290)](_0x51a6e5(0x3f0));return;}if(_0x3cedfd[_0x51a6e5(0x12f)][_0x51a6e5(0x5a7)]&&'header'in _0x3cedfd[_0x51a6e5(0x12f)][_0x51a6e5(0x5a7)]){this[_0x51a6e5(0x224)][_0x51a6e5(0x195)](this['instanceName']+'\x20('+this['instance'][_0x51a6e5(0x78d)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x4dceb7=JSON[_0x51a6e5(0x53e)](_0x3cedfd[_0x51a6e5(0x12f)][_0x51a6e5(0x5a7)][_0x51a6e5(0x79f)],null,0x1);_0x4dceb7[_0x51a6e5(0x624)]>0x2&&(_0x4dceb7=_0x4dceb7[_0x51a6e5(0x38b)](0x1,_0x4dceb7[_0x51a6e5(0x624)]-0x1)[_0x51a6e5(0x11c)]()),_0x3cedfd[_0x51a6e5(0x12f)]['apirequest'][_0x51a6e5(0x71f)]=_0x4dceb7;}_0x3cedfd[_0x51a6e5(0x12f)]['apirequest']&&_0x51a6e5(0x2e0)in _0x3cedfd[_0x51a6e5(0x12f)]['apirequest']&&(this[_0x51a6e5(0x224)][_0x51a6e5(0x195)](this[_0x51a6e5(0x300)]+'\x20('+this[_0x51a6e5(0x7f4)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x3cedfd[_0x51a6e5(0x12f)][_0x51a6e5(0x5a7)][_0x51a6e5(0x1f9)]=JSON[_0x51a6e5(0x53e)](_0x3cedfd[_0x51a6e5(0x12f)][_0x51a6e5(0x5a7)][_0x51a6e5(0x2e0)],null,0x1)[_0x51a6e5(0x11c)]()),_0x2d2467['blocks'][_0x51a6e5(0x6e9)](_0x3cedfd['block']),this[_0x51a6e5(0x7ae)](_0x2d2467[_0x51a6e5(0x1d6)],_0x3cedfd[_0x51a6e5(0x12f)][_0x51a6e5(0x3a5)]);}['reorderBlocks'](_0x4c5432,_0x21b731){const _0x9cf2dc=a0_0x75ac12;let _0x765126=_0x4c5432[_0x9cf2dc(0x82d)](_0x4c868d=>_0x4c868d['groupId']===_0x21b731);_0x765126['sort']((_0x55e680,_0x3dd463)=>_0x55e680[_0x9cf2dc(0x2e3)]-_0x3dd463[_0x9cf2dc(0x2e3)]),_0x765126[_0x9cf2dc(0x839)]((_0x3509cb,_0x12eb16)=>_0x3509cb['order']=_0x12eb16+0x1);}async[a0_0x75ac12(0x2b9)](_0x5d09c6){const _0x33ed0c=a0_0x75ac12;try{if(this[_0x33ed0c(0x224)]['verbose'](this[_0x33ed0c(0x300)]+'\x20('+this[_0x33ed0c(0x7f4)][_0x33ed0c(0x78d)]+_0x33ed0c(0x358)),!_0x5d09c6||!_0x5d09c6['replyOption']){this[_0x33ed0c(0x290)](_0x33ed0c(0x612));return;}if(!this[_0x33ed0c(0x190)][_0x33ed0c(0x574)][_0x33ed0c(0x1c3)](_0x5ec74b=>_0x5ec74b['_id']===_0x5d09c6['_id']))throw this[_0x33ed0c(0x224)][_0x33ed0c(0x195)](this[_0x33ed0c(0x300)]+'\x20('+this[_0x33ed0c(0x7f4)][_0x33ed0c(0x78d)]+_0x33ed0c(0x6c3)+_0x5d09c6[_0x33ed0c(0x2af)]+'\x27\x20não\x20encontrado'),new m(_0x33ed0c(0x5c7));let _0x58c212=await this[_0x33ed0c(0x76b)]['flow'][_0x33ed0c(0x4a6)]({'where':{'_id':_0x5d09c6['_id']}});if(!_0x58c212||!_0x58c212['whoCanUse']?.[_0x33ed0c(0x5bb)](this[_0x33ed0c(0x7f4)][_0x33ed0c(0x78d)]))throw this[_0x33ed0c(0x224)][_0x33ed0c(0x15c)](this[_0x33ed0c(0x300)]+'\x20('+this[_0x33ed0c(0x7f4)][_0x33ed0c(0x78d)]+'):\x20Flow\x20\x27'+_0x5d09c6[_0x33ed0c(0x2af)]+_0x33ed0c(0x3eb)),new m(_0x33ed0c(0x1b4)+_0x5d09c6[_0x33ed0c(0x2af)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x58c212['whoCanEdit']?.[_0x33ed0c(0x5bb)](this[_0x33ed0c(0x7f4)][_0x33ed0c(0x78d)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let {replyOption:_0x994e61}=_0x5d09c6;_0x994e61?.[_0x33ed0c(0x585)]?(this['deleteReplyOption'](_0x58c212,_0x5d09c6),this[_0x33ed0c(0x544)](_0x58c212[_0x33ed0c(0x7f2)],_0x5d09c6['replyOption'][_0x33ed0c(0x33f)])):_0x994e61[_0x33ed0c(0x2af)]?(await this[_0x33ed0c(0x593)](_0x58c212,_0x5d09c6),this['reorderReplyOptions'](_0x58c212['replyOptions'],_0x5d09c6['replyOption'][_0x33ed0c(0x33f)])):(this['addReplyOption'](_0x58c212,_0x5d09c6),this['reorderReplyOptions'](_0x58c212['replyOptions'],_0x5d09c6[_0x33ed0c(0x320)][_0x33ed0c(0x33f)]));let _0xd17dba=await this[_0x33ed0c(0x76b)][_0x33ed0c(0x20a)][_0x33ed0c(0x5b6)](_0x58c212['_id'],_0x58c212);if(!_0xd17dba)throw new Error(_0x33ed0c(0x56a));return _0xd17dba;}catch(_0x17af38){this[_0x33ed0c(0x290)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x17af38);}}[a0_0x75ac12(0x544)](_0xbe3ae1,_0x468924){const _0x406b29=a0_0x75ac12;_0xbe3ae1[_0x406b29(0x839)](_0x5b7975=>{const _0x25e7f1=_0x406b29;_0x5b7975[_0x25e7f1(0x33f)]===_0x468924&&_0x5b7975['order']===void 0x0&&(_0x5b7975[_0x25e7f1(0x2e3)]=0x270f);});let _0x368602=_0xbe3ae1[_0x406b29(0x82d)](_0x18868c=>_0x18868c[_0x406b29(0x33f)]===_0x468924);_0x368602[_0x406b29(0x121)]((_0x5b9287,_0x27d90e)=>_0x5b9287[_0x406b29(0x2e3)]-_0x27d90e[_0x406b29(0x2e3)]),_0x368602[_0x406b29(0x839)]((_0x49b727,_0x2bb37b)=>{_0x49b727['order']=_0x2bb37b+0x1;}),_0xbe3ae1[_0x406b29(0x839)](_0x211855=>{const _0x1de846=_0x406b29;if(_0x211855[_0x1de846(0x33f)]===_0x468924){let _0x31da77=_0x368602[_0x1de846(0x1c3)](_0x15921a=>_0x15921a['_id']&&_0x211855[_0x1de846(0x2af)]&&_0x15921a[_0x1de846(0x2af)][_0x1de846(0x7ce)]()===_0x211855[_0x1de846(0x2af)]['toString']());_0x31da77&&(_0x211855[_0x1de846(0x2e3)]=_0x31da77[_0x1de846(0x2e3)]);}});}[a0_0x75ac12(0xf3)](_0x4228c3,_0x401125){const _0x37f7f4=a0_0x75ac12;let {replyOption:_0x5f4069}=_0x401125;if(!_0x5f4069[_0x37f7f4(0x2af)]){this[_0x37f7f4(0x290)]('replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption');return;}if(!_0x4228c3[_0x37f7f4(0x7f2)][_0x37f7f4(0x1c3)](_0x3f4447=>_0x3f4447[_0x37f7f4(0x2af)][_0x37f7f4(0x7ce)]()===_0x401125[_0x37f7f4(0x320)][_0x37f7f4(0x2af)][_0x37f7f4(0x7ce)]())){this[_0x37f7f4(0x290)](_0x37f7f4(0x48c)+_0x5f4069[_0x37f7f4(0x2af)]+'\x20não\x20encontrado');return;}_0x4228c3['replyOptions']=_0x4228c3[_0x37f7f4(0x7f2)][_0x37f7f4(0x82d)](_0x148d5b=>_0x148d5b[_0x37f7f4(0x2af)][_0x37f7f4(0x7ce)]()!==_0x401125['replyOption'][_0x37f7f4(0x2af)]['toString']());}async[a0_0x75ac12(0x593)](_0x241f05,_0x399807){const _0x1ec775=a0_0x75ac12;let _0x28c7da=_0x241f05[_0x1ec775(0x7f2)][_0x1ec775(0x3d5)](_0x4eb760=>_0x4eb760[_0x1ec775(0x2af)][_0x1ec775(0x7ce)]()===_0x399807[_0x1ec775(0x320)]['_id'][_0x1ec775(0x7ce)]());if(_0x28c7da===-0x1){this[_0x1ec775(0x290)]('ReplyOption\x20com\x20ID\x20'+_0x399807[_0x1ec775(0x320)][_0x1ec775(0x2af)]+_0x1ec775(0x753));return;}for(let _0x19b897 in _0x399807['replyOption'])_0x399807[_0x1ec775(0x320)][_0x1ec775(0x181)](_0x19b897)&&(_0x241f05[_0x1ec775(0x7f2)][_0x28c7da][_0x19b897]=_0x399807['replyOption'][_0x19b897]);}[a0_0x75ac12(0x504)](_0xbb725c,_0xd00f6d){const _0x136a16=a0_0x75ac12;_0xbb725c['replyOptions'][_0x136a16(0x6e9)](_0xd00f6d[_0x136a16(0x320)]);}async['editFlowGroup'](_0x1bc95b){const _0x40e98c=a0_0x75ac12;this[_0x40e98c(0x224)][_0x40e98c(0x195)](this[_0x40e98c(0x300)]+'\x20('+this[_0x40e98c(0x7f4)]['wuid']+_0x40e98c(0x849)+JSON[_0x40e98c(0x53e)](_0x1bc95b,null,0x2));try{if(this['logger'][_0x40e98c(0x195)](this['instanceName']+'\x20('+this[_0x40e98c(0x7f4)][_0x40e98c(0x78d)]+_0x40e98c(0x40c)),!this['AutomateSystem']['flows'][_0x40e98c(0x1c3)](_0x35b2d4=>_0x35b2d4['_id']===_0x1bc95b[_0x40e98c(0x2af)]))throw this['logger'][_0x40e98c(0x195)](this[_0x40e98c(0x300)]+'\x20('+this[_0x40e98c(0x7f4)]['wuid']+_0x40e98c(0x6c3)+_0x1bc95b[_0x40e98c(0x2af)]+_0x40e98c(0x309)),new m(_0x40e98c(0x5c7));let _0x4b0403=await this[_0x40e98c(0x76b)][_0x40e98c(0x20a)][_0x40e98c(0x4a6)]({'where':{'_id':_0x1bc95b[_0x40e98c(0x2af)]}});if(!_0x4b0403||!_0x4b0403[_0x40e98c(0x4a4)]?.[_0x40e98c(0x5bb)](this[_0x40e98c(0x7f4)][_0x40e98c(0x78d)]))throw this[_0x40e98c(0x224)]['error'](this['instanceName']+'\x20('+this['instance'][_0x40e98c(0x78d)]+'):\x20Flow\x20\x27'+_0x1bc95b[_0x40e98c(0x2af)]+_0x40e98c(0x3eb)),new m(_0x40e98c(0x1b4)+_0x1bc95b[_0x40e98c(0x2af)]+_0x40e98c(0x3eb));if(!_0x4b0403[_0x40e98c(0x58a)]?.[_0x40e98c(0x5bb)](this[_0x40e98c(0x7f4)]['wuid']))throw new m(_0x40e98c(0x679));if(_0x1bc95b[_0x40e98c(0x3ed)]&&_0x1bc95b[_0x40e98c(0x3ed)]?.[_0x40e98c(0x585)]===!0x0){if(this[_0x40e98c(0x224)]['verbose'](this[_0x40e98c(0x300)]+'\x20('+this[_0x40e98c(0x7f4)]['wuid']+'):\x20delete\x20=\x20true'),_0x1bc95b[_0x40e98c(0x3ed)][_0x40e98c(0x636)]===!0x0)return{'message':_0x40e98c(0x712)};if(_0x4b0403[_0x40e98c(0x1d6)][_0x40e98c(0x682)](_0x515843=>_0x515843[_0x40e98c(0x3a5)][_0x40e98c(0x7ce)]()===_0x1bc95b[_0x40e98c(0x3ed)][_0x40e98c(0x2af)]))return this['logger'][_0x40e98c(0x195)](this[_0x40e98c(0x300)]+'\x20('+this[_0x40e98c(0x7f4)][_0x40e98c(0x78d)]+_0x40e98c(0x25e)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x4b0403[_0x40e98c(0x546)]=_0x4b0403[_0x40e98c(0x546)][_0x40e98c(0x82d)](_0x4b66ff=>_0x4b66ff[_0x40e98c(0x2af)][_0x40e98c(0x7ce)]()!==_0x1bc95b['group'][_0x40e98c(0x2af)]);}else{if(_0x1bc95b['group']){if(_0x1bc95b[_0x40e98c(0x3ed)][_0x40e98c(0x636)]===!0x0)return{'message':_0x40e98c(0x2f1)};if(_0x1bc95b[_0x40e98c(0x3ed)][_0x40e98c(0x2af)]){let _0x3a2663=_0x4b0403[_0x40e98c(0x546)]['find'](_0x8ee857=>_0x8ee857[_0x40e98c(0x2af)][_0x40e98c(0x7ce)]()===_0x1bc95b['group'][_0x40e98c(0x2af)]);_0x3a2663&&(_0x1bc95b[_0x40e98c(0x3ed)]['x']<0x0&&(_0x1bc95b['group']['x']=0x0),_0x1bc95b['group']['y']<0x0&&(_0x1bc95b['group']['y']=0x0),Object[_0x40e98c(0x414)](_0x3a2663,_0x1bc95b[_0x40e98c(0x3ed)]));}else _0x4b0403[_0x40e98c(0x546)][_0x40e98c(0x6e9)](_0x1bc95b[_0x40e98c(0x3ed)]);}}let _0x5b0a92=await this['repository'][_0x40e98c(0x20a)][_0x40e98c(0x5b6)](_0x4b0403[_0x40e98c(0x2af)],_0x4b0403);if(!_0x5b0a92)throw new Error(_0x40e98c(0x56a));return _0x5b0a92;}catch(_0x19ccc2){let _0x3ee0a4=_0x40e98c(0x113),_0x52a861=_0x19ccc2 instanceof Error?_0x19ccc2[_0x40e98c(0x478)]:typeof _0x19ccc2=='object'?JSON[_0x40e98c(0x53e)](_0x19ccc2):_0x19ccc2,_0x5cc22c=_0x3ee0a4+':\x20'+_0x52a861;throw this['logger'][_0x40e98c(0x15c)](this['instanceName']+'\x20('+this['instance'][_0x40e98c(0x78d)]+_0x40e98c(0x3d3)+_0x5cc22c),new m(_0x5cc22c);}}async['editFlowCondition'](_0x4805fc){const _0x536d6e=a0_0x75ac12;try{if(this[_0x536d6e(0x224)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x536d6e(0x78d)]+_0x536d6e(0x397)),!this[_0x536d6e(0x190)][_0x536d6e(0x574)]['find'](_0x5ca6ef=>_0x5ca6ef[_0x536d6e(0x2af)]===_0x4805fc[_0x536d6e(0x2af)]))throw this[_0x536d6e(0x224)][_0x536d6e(0x195)](this[_0x536d6e(0x300)]+'\x20('+this[_0x536d6e(0x7f4)][_0x536d6e(0x78d)]+'):\x20Fluxo\x20\x27'+_0x4805fc[_0x536d6e(0x2af)]+_0x536d6e(0x309)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x3f3afd=await this[_0x536d6e(0x76b)]['flow']['findOne']({'where':{'_id':_0x4805fc['_id']}});if(!_0x3f3afd||!_0x3f3afd[_0x536d6e(0x4a4)]?.[_0x536d6e(0x5bb)](this['instance'][_0x536d6e(0x78d)]))throw this[_0x536d6e(0x224)][_0x536d6e(0x15c)](this['instanceName']+'\x20('+this[_0x536d6e(0x7f4)][_0x536d6e(0x78d)]+_0x536d6e(0x5cc)+_0x4805fc['_id']+_0x536d6e(0x3eb)),new m(_0x536d6e(0x1b4)+_0x4805fc['_id']+_0x536d6e(0x3eb));if(!_0x3f3afd['whoCanEdit']?.[_0x536d6e(0x5bb)](this[_0x536d6e(0x7f4)][_0x536d6e(0x78d)]))throw new m(_0x536d6e(0x679));let _0x321b14=!0x1;if(_0x4805fc['condition']?.[_0x536d6e(0x585)]===!0x0)_0x3f3afd[_0x536d6e(0x396)]=_0x3f3afd[_0x536d6e(0x396)][_0x536d6e(0x82d)](_0x159805=>_0x159805&&_0x4805fc['condition']&&_0x159805[_0x536d6e(0x2af)]&&_0x4805fc[_0x536d6e(0x2b0)]['_id']&&_0x159805[_0x536d6e(0x2af)][_0x536d6e(0x7ce)]()!==_0x4805fc[_0x536d6e(0x2b0)][_0x536d6e(0x2af)][_0x536d6e(0x7ce)]()),_0x321b14=!0x0;else{let _0x3e84a6=_0x3f3afd['conditions'][_0x536d6e(0x1c3)](_0x2f7759=>_0x2f7759&&_0x4805fc[_0x536d6e(0x2b0)]&&_0x2f7759[_0x536d6e(0x2af)]&&_0x4805fc[_0x536d6e(0x2b0)][_0x536d6e(0x2af)]&&_0x2f7759[_0x536d6e(0x2af)][_0x536d6e(0x7ce)]()===_0x4805fc['condition'][_0x536d6e(0x2af)][_0x536d6e(0x7ce)]());_0x3e84a6?(_0x321b14=_0x3e84a6[_0x536d6e(0x2e3)]!==_0x4805fc[_0x536d6e(0x2b0)]['order'],Object[_0x536d6e(0x414)](_0x3e84a6,_0x4805fc[_0x536d6e(0x2b0)])):(_0x3f3afd[_0x536d6e(0x396)][_0x536d6e(0x6e9)](_0x4805fc[_0x536d6e(0x2b0)]),_0x321b14=!0x0);}if(_0x321b14){_0x3f3afd[_0x536d6e(0x396)][_0x536d6e(0x121)]((_0x3479e6,_0x4895a8)=>_0x3479e6[_0x536d6e(0x2e3)]>_0x4895a8[_0x536d6e(0x2e3)]?0x1:_0x4895a8[_0x536d6e(0x2e3)]>_0x3479e6[_0x536d6e(0x2e3)]?-0x1:0x0);for(let _0x7220e3=0x0;_0x7220e3<_0x3f3afd[_0x536d6e(0x396)][_0x536d6e(0x624)];_0x7220e3++)_0x3f3afd[_0x536d6e(0x396)][_0x7220e3][_0x536d6e(0x2e3)]=_0x7220e3+0x1;_0x3f3afd[_0x536d6e(0x396)][_0x536d6e(0x624)]>0x0&&(_0x3f3afd['conditions'][0x0][_0x536d6e(0x122)]=_0x536d6e(0x236));}let _0x34c68e=await this['repository'][_0x536d6e(0x20a)][_0x536d6e(0x5b6)](_0x3f3afd[_0x536d6e(0x2af)],_0x3f3afd);if(!_0x34c68e)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x34c68e;}catch(_0x19f9f1){let _0x1a8792=_0x536d6e(0x7ff),_0x2430f1=_0x19f9f1 instanceof Error?_0x19f9f1[_0x536d6e(0x478)]:typeof _0x19f9f1==_0x536d6e(0x307)?JSON[_0x536d6e(0x53e)](_0x19f9f1):_0x19f9f1,_0x238fa1=_0x1a8792+':\x20'+_0x2430f1;throw this['logger']['error'](this[_0x536d6e(0x300)]+'\x20('+this[_0x536d6e(0x7f4)][_0x536d6e(0x78d)]+_0x536d6e(0x3d3)+_0x238fa1),new m(_0x238fa1);}}async[a0_0x75ac12(0x205)](_0x17fcb0){const _0x3028df=a0_0x75ac12;try{if(this[_0x3028df(0x224)][_0x3028df(0x195)](this[_0x3028df(0x300)]+'\x20('+this[_0x3028df(0x7f4)][_0x3028df(0x78d)]+_0x3028df(0x3ac)),!this['AutomateSystem']['flows']['find'](_0x251159=>_0x251159[_0x3028df(0x2af)]===_0x17fcb0[_0x3028df(0x2af)]))throw this['logger'][_0x3028df(0x195)](this[_0x3028df(0x300)]+'\x20('+this[_0x3028df(0x7f4)]['wuid']+_0x3028df(0x6c3)+_0x17fcb0[_0x3028df(0x2af)]+_0x3028df(0x309)),new m(_0x3028df(0x5c7));let _0x269a94=await this['repository'][_0x3028df(0x20a)][_0x3028df(0x4a6)]({'where':{'_id':_0x17fcb0['_id']}});if(!_0x269a94||!_0x269a94[_0x3028df(0x4a4)]?.['includes'](this['instance'][_0x3028df(0x78d)]))throw this[_0x3028df(0x224)][_0x3028df(0x15c)](this[_0x3028df(0x300)]+'\x20('+this[_0x3028df(0x7f4)][_0x3028df(0x78d)]+_0x3028df(0x5cc)+_0x17fcb0[_0x3028df(0x2af)]+_0x3028df(0x3eb)),new m(_0x3028df(0x1b4)+_0x17fcb0[_0x3028df(0x2af)]+_0x3028df(0x3eb));if(!_0x269a94['whoCanEdit']?.['includes'](this['instance'][_0x3028df(0x78d)]))throw new m(_0x3028df(0x679));let _0x48f05f=!0x1;if(_0x17fcb0['varedit']?.[_0x3028df(0x585)]===!0x0)_0x269a94['varedits']=_0x269a94[_0x3028df(0x10a)][_0x3028df(0x82d)](_0x1e1696=>_0x1e1696&&_0x17fcb0[_0x3028df(0x17b)]&&_0x1e1696['_id']&&_0x17fcb0[_0x3028df(0x17b)]['_id']&&_0x1e1696[_0x3028df(0x2af)]['toString']()!==_0x17fcb0['varedit'][_0x3028df(0x2af)][_0x3028df(0x7ce)]()),_0x48f05f=!0x0;else{let _0x138d31=_0x269a94[_0x3028df(0x10a)][_0x3028df(0x1c3)](_0x50b3ae=>_0x50b3ae&&_0x17fcb0[_0x3028df(0x17b)]&&_0x50b3ae[_0x3028df(0x2af)]&&_0x17fcb0[_0x3028df(0x17b)][_0x3028df(0x2af)]&&_0x50b3ae[_0x3028df(0x2af)][_0x3028df(0x7ce)]()===_0x17fcb0[_0x3028df(0x17b)][_0x3028df(0x2af)][_0x3028df(0x7ce)]());_0x138d31?(_0x48f05f=_0x138d31[_0x3028df(0x2e3)]!==_0x17fcb0[_0x3028df(0x17b)][_0x3028df(0x2e3)],Object[_0x3028df(0x414)](_0x138d31,_0x17fcb0['varedit'])):(_0x269a94['varedits'][_0x3028df(0x6e9)](_0x17fcb0[_0x3028df(0x17b)]),_0x48f05f=!0x0);}if(_0x48f05f){_0x269a94[_0x3028df(0x10a)][_0x3028df(0x121)]((_0x28e6ca,_0x30aa9e)=>_0x28e6ca['order']>_0x30aa9e['order']?0x1:_0x30aa9e['order']>_0x28e6ca[_0x3028df(0x2e3)]?-0x1:0x0);for(let _0x38b946=0x0;_0x38b946<_0x269a94[_0x3028df(0x10a)][_0x3028df(0x624)];_0x38b946++)_0x269a94['varedits'][_0x38b946][_0x3028df(0x2e3)]=_0x38b946+0x1;}let _0x17e66a=await this[_0x3028df(0x76b)][_0x3028df(0x20a)]['updateOne'](_0x269a94[_0x3028df(0x2af)],_0x269a94);if(!_0x17e66a)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x17e66a;}catch(_0x497929){let _0x59e91c=_0x3028df(0x7ff),_0x41753a=_0x497929 instanceof Error?_0x497929['message']:typeof _0x497929==_0x3028df(0x307)?JSON[_0x3028df(0x53e)](_0x497929):_0x497929,_0x3bf837=_0x59e91c+':\x20'+_0x41753a;throw this[_0x3028df(0x224)]['error'](this[_0x3028df(0x300)]+'\x20('+this['instance']['wuid']+_0x3028df(0x3d3)+_0x3bf837),new m(_0x3bf837);}}async[a0_0x75ac12(0x275)](_0x1d1f3c){const _0xbae2e6=a0_0x75ac12;try{if(this[_0xbae2e6(0x224)][_0xbae2e6(0x195)](this[_0xbae2e6(0x300)]+'\x20('+this[_0xbae2e6(0x7f4)][_0xbae2e6(0x78d)]+_0xbae2e6(0x3d1)),!this[_0xbae2e6(0x190)][_0xbae2e6(0x574)][_0xbae2e6(0x1c3)](_0x28bc79=>_0x28bc79['_id']===_0x1d1f3c['_id']))throw this[_0xbae2e6(0x224)][_0xbae2e6(0x195)](this[_0xbae2e6(0x300)]+'\x20('+this[_0xbae2e6(0x7f4)][_0xbae2e6(0x78d)]+_0xbae2e6(0x6c3)+_0x1d1f3c[_0xbae2e6(0x2af)]+_0xbae2e6(0x309)),new m(_0xbae2e6(0x5c7));let _0x2fd252=await this[_0xbae2e6(0x76b)][_0xbae2e6(0x20a)][_0xbae2e6(0x4a6)]({'where':{'_id':_0x1d1f3c[_0xbae2e6(0x2af)]}});if(!_0x2fd252||!_0x2fd252['whoCanUse']?.[_0xbae2e6(0x5bb)](this['instance'][_0xbae2e6(0x78d)]))throw this[_0xbae2e6(0x224)]['error'](this[_0xbae2e6(0x300)]+'\x20('+this[_0xbae2e6(0x7f4)][_0xbae2e6(0x78d)]+_0xbae2e6(0x5cc)+_0x1d1f3c['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x1d1f3c['_id']+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x2fd252['whoCanEdit']?.[_0xbae2e6(0x5bb)](this[_0xbae2e6(0x7f4)][_0xbae2e6(0x78d)]))throw new m(_0xbae2e6(0x679));_0x1d1f3c[_0xbae2e6(0x667)]['name']=_0x1d1f3c[_0xbae2e6(0x667)][_0xbae2e6(0x537)]['trim'](),_0x1d1f3c[_0xbae2e6(0x667)][_0xbae2e6(0x537)][_0xbae2e6(0x36c)]('_')&&(_0x1d1f3c[_0xbae2e6(0x667)][_0xbae2e6(0x537)]=_0x1d1f3c[_0xbae2e6(0x667)][_0xbae2e6(0x537)]['substring'](0x1)),_0x1d1f3c['variable'][_0xbae2e6(0x537)]=_0x1d1f3c['variable'][_0xbae2e6(0x537)][_0xbae2e6(0x11c)]();let _0x5a16b8=_0x2fd252[_0xbae2e6(0x42b)]['find'](_0x1f40e1=>_0x1f40e1[_0xbae2e6(0x537)]===_0x1d1f3c[_0xbae2e6(0x667)][_0xbae2e6(0x537)]);if(_0x5a16b8?.[_0xbae2e6(0x7f5)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x1d1f3c['variable']?.['delete']===!0x0){if(!_0x5a16b8)return{'message':'Variável\x20não\x20encontrada!'};_0x2fd252[_0xbae2e6(0x42b)]=_0x2fd252[_0xbae2e6(0x42b)][_0xbae2e6(0x82d)](_0x422af3=>_0x422af3[_0xbae2e6(0x537)]!==_0x1d1f3c[_0xbae2e6(0x667)][_0xbae2e6(0x537)]);}else _0x5a16b8?Object['assign'](_0x5a16b8,_0x1d1f3c[_0xbae2e6(0x667)]):_0x2fd252[_0xbae2e6(0x42b)]['push'](_0x1d1f3c[_0xbae2e6(0x667)]);let _0x3b9785=await this[_0xbae2e6(0x76b)][_0xbae2e6(0x20a)][_0xbae2e6(0x5b6)](_0x2fd252[_0xbae2e6(0x2af)],_0x2fd252);if(!_0x3b9785)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x3b9785;}catch(_0x11933b){let _0x248a38=_0xbae2e6(0x784),_0x4604dd=_0x11933b instanceof Error?_0x11933b[_0xbae2e6(0x478)]:typeof _0x11933b==_0xbae2e6(0x307)?JSON['stringify'](_0x11933b):_0x11933b,_0x414144=_0x248a38+':\x20'+_0x4604dd;throw this[_0xbae2e6(0x224)][_0xbae2e6(0x15c)](this[_0xbae2e6(0x300)]+'\x20('+this[_0xbae2e6(0x7f4)][_0xbae2e6(0x78d)]+_0xbae2e6(0x3d3)+_0x414144),new m(_0x414144);}}async[a0_0x75ac12(0x7ca)](_0x64073e){const _0x3aedf7=a0_0x75ac12;let _0x440553=null;try{if(!this[_0x3aedf7(0x190)]?.['flowConfig']['enabled'])throw new m(_0x3aedf7(0x3ce));this[_0x3aedf7(0x224)]['verbose'](this[_0x3aedf7(0x300)]+'\x20('+this[_0x3aedf7(0x7f4)][_0x3aedf7(0x78d)]+_0x3aedf7(0xf6));let _0xc51428=(await this[_0x3aedf7(0x647)]({'numbers':[_0x64073e['remoteJid']]}))[0x0];if(!_0xc51428[_0x3aedf7(0x220)]&&!(0x0,w['isJidGroup'])(_0xc51428[_0x3aedf7(0x797)])&&!_0xc51428[_0x3aedf7(0x797)]['includes'](_0x3aedf7(0x277)))throw _0x440553=JSON[_0x3aedf7(0x53e)](_0xc51428,null,0x2),new m(_0xc51428);let _0x43cb10;if(_0x64073e['name']['length']===0x24&&/^[0-9a-fA-F-]{36}$/[_0x3aedf7(0x4f0)](_0x64073e[_0x3aedf7(0x537)])?_0x43cb10=this[_0x3aedf7(0x190)][_0x3aedf7(0x574)][_0x3aedf7(0x1c3)](_0x401c7d=>_0x401c7d[_0x3aedf7(0x2af)]===_0x64073e['name']):_0x43cb10=this['AutomateSystem'][_0x3aedf7(0x574)]['find'](_0x277683=>_0x277683['name']===_0x64073e[_0x3aedf7(0x537)]),!_0x43cb10)throw this[_0x3aedf7(0x224)][_0x3aedf7(0x195)](this[_0x3aedf7(0x300)]+'\x20('+this[_0x3aedf7(0x7f4)][_0x3aedf7(0x78d)]+_0x3aedf7(0x6c3)+_0x64073e[_0x3aedf7(0x537)]+_0x3aedf7(0x309)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x234992=await this[_0x3aedf7(0x76b)][_0x3aedf7(0x20a)][_0x3aedf7(0x4a6)]({'where':{'_id':_0x43cb10[_0x3aedf7(0x2af)]}});if(!_0x234992||!_0x234992[_0x3aedf7(0x4a4)]?.[_0x3aedf7(0x5bb)](this[_0x3aedf7(0x7f4)][_0x3aedf7(0x78d)]))throw this[_0x3aedf7(0x224)][_0x3aedf7(0x15c)](this['instanceName']+'\x20('+this[_0x3aedf7(0x7f4)]['wuid']+_0x3aedf7(0x5cc)+_0x43cb10[_0x3aedf7(0x2af)]+_0x3aedf7(0x3eb)),_0x440553=_0x3aedf7(0x1b4)+_0x43cb10[_0x3aedf7(0x2af)]+_0x3aedf7(0x3eb),new m(_0x440553);let _0x1dd89c=await this[_0x3aedf7(0x4c5)](_0x234992,_0xc51428[_0x3aedf7(0x797)],_0x64073e[_0x3aedf7(0x481)]);if(_0x1dd89c){this['logger']['verbose'](this[_0x3aedf7(0x300)]+'\x20('+this[_0x3aedf7(0x7f4)]['wuid']+_0x3aedf7(0x428));let _0x5db067=await this[_0x3aedf7(0x3f4)](_0x1dd89c);return _0x5db067&&await this[_0x3aedf7(0x112)](_0x1dd89c,_0x5db067),{'message':'Flow\x20iniciado\x20com\x20'+_0x64073e['remoteJid']};}}catch(_0xcb8120){if(this[_0x3aedf7(0x224)][_0x3aedf7(0x15c)](this[_0x3aedf7(0x300)]+'\x20('+this[_0x3aedf7(0x7f4)][_0x3aedf7(0x78d)]+_0x3aedf7(0x63c)+(_0xcb8120 instanceof Error?_0xcb8120['message']:JSON['stringify'](_0xcb8120,null,0x2))),_0x440553=_0xcb8120 instanceof Error?_0xcb8120['message']:JSON[_0x3aedf7(0x53e)](_0xcb8120,null,0x2),_0x440553)throw new m('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x440553);}}async[a0_0x75ac12(0x426)](_0x451965,_0x1a1196,_0x1a8a3b){const _0x469580=a0_0x75ac12;let _0x200851=null;try{if(!this[_0x469580(0x190)]?.[_0x469580(0x707)][_0x469580(0x5db)])throw new m(_0x469580(0x3ce));if(this[_0x469580(0x224)][_0x469580(0x195)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x469580(0xf6)),_0x1a1196){let _0x3e59f8=(await this['whatsappNumber']({'numbers':[_0x1a1196]}))[0x0];if(!_0x3e59f8[_0x469580(0x220)]&&!(0x0,w[_0x469580(0x42d)])(_0x3e59f8[_0x469580(0x797)])&&!_0x3e59f8['jid']['includes'](_0x469580(0x277)))throw _0x200851=JSON['stringify'](_0x3e59f8,null,0x2),new m(_0x3e59f8);_0x1a1196=_0x3e59f8[_0x469580(0x797)];}else _0x1a1196||(_0x1a1196=(0x0,X['v4'])());let _0x3a074e=await this['repository'][_0x469580(0x20a)][_0x469580(0x4a6)]({'where':{'_id':_0x451965}});if(!_0x3a074e||!_0x3a074e[_0x469580(0x4a4)]?.[_0x469580(0x5bb)](this[_0x469580(0x7f4)][_0x469580(0x78d)]))throw this[_0x469580(0x224)][_0x469580(0x15c)](this[_0x469580(0x300)]+'\x20('+this[_0x469580(0x7f4)][_0x469580(0x78d)]+_0x469580(0x5cc)+_0x451965+_0x469580(0x3eb)),new m('Flow\x20\x27'+_0x451965+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x6c58f1=await this[_0x469580(0x4c5)](_0x3a074e,_0x1a1196,null);if(_0x6c58f1){this[_0x469580(0x224)][_0x469580(0x195)](this['instanceName']+'\x20('+this[_0x469580(0x7f4)][_0x469580(0x78d)]+_0x469580(0x45a));let _0x3e3938;if(_0x1a8a3b){let _0x454ecc=_0x6c58f1[_0x469580(0x239)]['realVariables'],_0x50f3ae=this[_0x469580(0x787)](_0x1a8a3b);Object['assign'](_0x454ecc,_0x50f3ae),_0x6c58f1[_0x469580(0x239)]['realVariables']=_0x454ecc,_0x3e3938={'error':!0x1,'apiResponse':_0x1a8a3b};}let _0x43ee58=await this[_0x469580(0x3f4)](_0x6c58f1);return _0x43ee58&&await this[_0x469580(0x112)](_0x6c58f1,_0x43ee58),{'message':_0x469580(0x36e)};}}catch(_0x3fede6){if(this['logger'][_0x469580(0x15c)](this['instanceName']+'\x20('+this[_0x469580(0x7f4)]['wuid']+_0x469580(0x63c)+(_0x3fede6 instanceof Error?_0x3fede6['message']:JSON[_0x469580(0x53e)](_0x3fede6,null,0x2))),_0x200851=_0x3fede6 instanceof Error?_0x3fede6['message']:JSON[_0x469580(0x53e)](_0x3fede6,null,0x2),_0x200851)throw new m(_0x469580(0x41b)+_0x200851);}}async['closeExistingConversations'](_0x288efa){const _0xbf0961=a0_0x75ac12;try{let _0x21ac0a={'remoteJid':_0x288efa,'status':'open'},_0x44cf4d={'status':_0xbf0961(0x73c)},_0x37376a=await this[_0xbf0961(0x76b)][_0xbf0961(0x533)]['updateMany'](_0x21ac0a,_0x44cf4d,this['instance'][_0xbf0961(0x78d)]);return this[_0xbf0961(0x224)][_0xbf0961(0x195)](this[_0xbf0961(0x300)]+'\x20('+this[_0xbf0961(0x7f4)]['wuid']+_0xbf0961(0x3d4)),_0x37376a;}catch(_0x157d89){throw this[_0xbf0961(0x224)][_0xbf0961(0x15c)](this[_0xbf0961(0x300)]+'\x20('+this[_0xbf0961(0x7f4)]['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x157d89['message']),_0x157d89;}}async[a0_0x75ac12(0x4c5)](_0x3a5612,_0x17ee5f,_0x393593){const _0x22d804=a0_0x75ac12;this[_0x22d804(0x224)][_0x22d804(0x195)](this['instanceName']+'\x20('+this[_0x22d804(0x7f4)]['wuid']+_0x22d804(0x545)),await this[_0x22d804(0x6cf)](_0x17ee5f);try{let _0x437a7a=require(_0x22d804(0x2cf))[_0x22d804(0x163)],_0x4dc358=Date[_0x22d804(0x505)](),_0x4b7cf8=_0x22d804(0x32b),_0x20e6e3={},_0x3b1dc6={},_0x251d3a=this[_0x22d804(0x190)][_0x22d804(0x574)][_0x22d804(0x1c3)](_0x2495b3=>_0x2495b3[_0x22d804(0x2af)]===_0x3a5612[_0x22d804(0x2af)]?.['toString']()),_0xfd9c85=_0x251d3a?.[_0x22d804(0x23c)]??_0x3a5612[_0x22d804(0x23c)]??0x0,_0x33dc0b=_0x251d3a?.[_0x22d804(0x201)]??_0x3a5612[_0x22d804(0x201)]??!0x1,_0x44ed63={'flowId':_0x3a5612[_0x22d804(0x2af)],..._0x3a5612,'chatLog':null},_0x2b58b5=await this['variablesToObject'](_0x44ed63[_0x22d804(0x42b)]),_0x37ebb0=await this['getVariablesChat'](_0x17ee5f),_0x36cb6e={..._0x2b58b5,..._0x37ebb0,'_remoteJid':_0x17ee5f},_0x285f99={'lastReceivedMessage':_0x20e6e3,'lastSendMessage':_0x3b1dc6,'lastBlockId':_0x4b7cf8,'lastCondition':!0x0,'realVariables':_0x36cb6e};_0x44ed63[_0x22d804(0x239)]=_0x285f99,_0x44ed63[_0x22d804(0x239)]['realVariables']={..._0x36cb6e,..._0x393593},delete _0x44ed63[_0x22d804(0x2af)],_0x44ed63[_0x22d804(0x2af)]=new _0x437a7a(),_0x44ed63[_0x22d804(0x681)]=_0x4dc358,_0x44ed63[_0x22d804(0x2be)]='open',_0x44ed63[_0x22d804(0x323)]=_0x17ee5f,_0x44ed63[_0x22d804(0x23c)]=_0xfd9c85,_0x44ed63['readMessages']=_0x33dc0b,_0x44ed63[_0x22d804(0x2af)]=_0x3a5612[_0x22d804(0x2af)];let _0x147fde=await this['repository'][_0x22d804(0x533)][_0x22d804(0x5b6)](_0x44ed63[_0x22d804(0x2af)],_0x44ed63,this[_0x22d804(0x7f4)]['wuid']);return this[_0x22d804(0x224)]['verbose'](this['instanceName']+'\x20('+this[_0x22d804(0x7f4)][_0x22d804(0x78d)]+_0x22d804(0x117)),_0x147fde?_0x44ed63:null;}catch(_0x32c7ac){let _0x2d375a='Erro\x20ao\x20copiar\x20o\x20documento',_0x156671=_0x32c7ac instanceof Error?_0x32c7ac[_0x22d804(0x478)]:typeof _0x32c7ac==_0x22d804(0x307)?JSON['stringify'](_0x32c7ac):_0x32c7ac,_0x5bb181=_0x2d375a+':\x20'+_0x156671;throw this['logger'][_0x22d804(0x15c)](this[_0x22d804(0x300)]+'\x20('+this['instance']['wuid']+_0x22d804(0x3d3)+_0x5bb181),new m(_0x5bb181);}}async[a0_0x75ac12(0x1db)](_0x35d5fc){const _0x2d7285=a0_0x75ac12;try{this[_0x2d7285(0x224)][_0x2d7285(0x195)](this[_0x2d7285(0x300)]+'\x20('+this[_0x2d7285(0x7f4)][_0x2d7285(0x78d)]+_0x2d7285(0x7d5)),this[_0x2d7285(0x224)][_0x2d7285(0x195)](this['instanceName']+'\x20('+this['instance'][_0x2d7285(0x78d)]+'):\x20Query\x20params:\x20'+_0x35d5fc);let _0x386712={'where':{'_id':_0x35d5fc}};return await this[_0x2d7285(0x76b)][_0x2d7285(0x533)][_0x2d7285(0x4a6)](_0x386712,this['instance'][_0x2d7285(0x78d)]);}catch(_0x27d0e6){let _0x2e5040=_0x2d7285(0x633),_0x54e1fe=_0x27d0e6 instanceof Error?_0x27d0e6[_0x2d7285(0x478)]:typeof _0x27d0e6==_0x2d7285(0x307)?JSON[_0x2d7285(0x53e)](_0x27d0e6):_0x27d0e6,_0x407b0c=_0x2e5040+':\x20'+_0x54e1fe;throw this[_0x2d7285(0x224)][_0x2d7285(0x15c)](this[_0x2d7285(0x300)]+'\x20('+this[_0x2d7285(0x7f4)][_0x2d7285(0x78d)]+'):\x20'+_0x407b0c),new m(_0x407b0c);}}async['fetchConversation'](_0x4bbfb3){const _0x55a775=a0_0x75ac12;try{return this[_0x55a775(0x224)][_0x55a775(0x195)](this[_0x55a775(0x300)]+'\x20('+this['instance']['wuid']+_0x55a775(0x487)),await this['repository'][_0x55a775(0x533)][_0x55a775(0x1c3)](_0x4bbfb3,this['instance'][_0x55a775(0x78d)]);}catch(_0x6e1501){let _0x44d280='Erro\x20ao\x20buscar\x20conversas',_0x1f90db=_0x6e1501 instanceof Error?_0x6e1501[_0x55a775(0x478)]:typeof _0x6e1501==_0x55a775(0x307)?JSON['stringify'](_0x6e1501):_0x6e1501,_0x204ab4=_0x44d280+':\x20'+_0x1f90db;throw this[_0x55a775(0x224)]['error'](this[_0x55a775(0x300)]+'\x20('+this[_0x55a775(0x7f4)][_0x55a775(0x78d)]+'):\x20'+_0x204ab4),new m(_0x204ab4);}}async[a0_0x75ac12(0x37d)](_0x2c9e6f){const _0x150fdd=a0_0x75ac12;try{return this[_0x150fdd(0x224)]['verbose'](this[_0x150fdd(0x300)]+'\x20('+this[_0x150fdd(0x7f4)]['wuid']+_0x150fdd(0x686)),this[_0x150fdd(0x224)][_0x150fdd(0x195)](this[_0x150fdd(0x300)]+'\x20('+this[_0x150fdd(0x7f4)][_0x150fdd(0x78d)]+_0x150fdd(0x783)+_0x2c9e6f),(await this['repository'][_0x150fdd(0x533)][_0x150fdd(0x1d1)]({'where':{'_id':_0x2c9e6f[_0x150fdd(0x2af)]}},this[_0x150fdd(0x7f4)][_0x150fdd(0x78d)]))[_0x150fdd(0x55f)]===0x0?{'message':_0x150fdd(0x5fb)}:{'message':_0x150fdd(0x619)};}catch(_0x3bfc6d){let _0x22a4cc='Erro\x20ao\x20deletar\x20a\x20conversa',_0x3faa7b=_0x3bfc6d instanceof Error?_0x3bfc6d[_0x150fdd(0x478)]:typeof _0x3bfc6d==_0x150fdd(0x307)?JSON['stringify'](_0x3bfc6d):_0x3bfc6d,_0x22114e=_0x22a4cc+':\x20'+_0x3faa7b;throw this[_0x150fdd(0x224)][_0x150fdd(0x15c)](this[_0x150fdd(0x300)]+'\x20('+this['instance'][_0x150fdd(0x78d)]+_0x150fdd(0x3d3)+_0x22114e),new m(_0x22114e);}}async[a0_0x75ac12(0x66f)](_0x4c884e){const _0x417797=a0_0x75ac12;try{let {_id:_0x11482f,chatLog:_0x4a6da0,status:_0x114267}=_0x4c884e;if(!_0x11482f)return{'message':_0x417797(0x51c)};let _0x131ea0={};if(_0x114267!==void 0x0&&(_0x131ea0[_0x417797(0x2be)]=_0x114267),Object['keys'](_0x131ea0)[_0x417797(0x624)]===0x0)return{'message':_0x417797(0x5d5)};let _0x1e17e3=await this[_0x417797(0x76b)][_0x417797(0x533)][_0x417797(0x5b6)](_0x11482f,_0x131ea0,this[_0x417797(0x7f4)][_0x417797(0x78d)]);return _0x1e17e3||{'message':_0x417797(0x742)};}catch(_0x291247){let _0x1750e4=_0x417797(0x4fd),_0x1e5713=_0x291247 instanceof Error?_0x291247[_0x417797(0x478)]:typeof _0x291247==_0x417797(0x307)?JSON[_0x417797(0x53e)](_0x291247):_0x291247,_0x624aac=_0x1750e4+':\x20'+_0x1e5713;throw this[_0x417797(0x224)]['error'](this[_0x417797(0x300)]+'\x20('+this[_0x417797(0x7f4)]['wuid']+_0x417797(0x3d3)+_0x624aac),new m(_0x624aac);}}async[a0_0x75ac12(0x584)](_0x47062d){const _0x460e85=a0_0x75ac12;try{_0x47062d[_0x460e85(0x2af)]=this[_0x460e85(0x591)](_0x47062d['_id']);let _0x50f7b2=await this['repository']['chat'][_0x460e85(0x4a6)]({'where':{'_id':_0x47062d[_0x460e85(0x2af)]}},this[_0x460e85(0x7f4)][_0x460e85(0x78d)]);if(!_0x50f7b2)throw new m(_0x460e85(0x76f));let {_id:_0x5509e0,leadInfo:_0x44cba9}=_0x47062d;if(!_0x5509e0)throw new Error(_0x460e85(0x498));if(_0x47062d['delete']==='all')return await this[_0x460e85(0x1cf)](_0x47062d[_0x460e85(0x2af)]),await this[_0x460e85(0x76b)]['chat'][_0x460e85(0x585)]({'where':{'_id':_0x47062d['_id']}},this[_0x460e85(0x7f4)]['wuid']),await this['repository']['message']['delete']({'where':{'key':{'remoteJid':_0x47062d[_0x460e85(0x2af)]}}},this['instance']['wuid']),_0x47062d=await this[_0x460e85(0x76b)]['chat']['updateOne']({'where':{'_id':_0x47062d[_0x460e85(0x2af)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x460e85(0x7f4)][_0x460e85(0x78d)]),q(this['instanceName'],'chats',{'chat':_0x47062d}),{'message':'Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.'};if(_0x47062d[_0x460e85(0x585)]===_0x460e85(0x16d))return await this[_0x460e85(0x76b)][_0x460e85(0x478)][_0x460e85(0x585)]({'where':{'key':{'remoteJid':_0x47062d[_0x460e85(0x2af)]}}},this[_0x460e85(0x7f4)][_0x460e85(0x78d)]),_0x47062d=await this['repository'][_0x460e85(0x4f9)][_0x460e85(0x5b6)]({'where':{'_id':_0x47062d[_0x460e85(0x2af)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x460e85(0x7f4)][_0x460e85(0x78d)]),q(this[_0x460e85(0x300)],_0x460e85(0x184),{'chat':_0x47062d}),{'message':_0x460e85(0x5f1)};let _0x1695c7=(_0x404375,_0x1ee05d,_0x21b0b5)=>{_0x404375&&_0x21b0b5['forEach'](_0x5ad13f=>{_0x404375[_0x5ad13f]!==void 0x0&&(_0x1ee05d['leadInfo.'+_0x5ad13f]=_0x404375[_0x5ad13f]);});},_0x227843={};if('muteEndTime'in _0x47062d&&(this[_0x460e85(0x224)][_0x460e85(0x195)](this['instanceName']+'\x20('+this[_0x460e85(0x7f4)][_0x460e85(0x78d)]+_0x460e85(0x5d4)+_0x47062d['_id']),_0x47062d[_0x460e85(0x6b6)]=_0x47062d[_0x460e85(0x6b6)]===0x0?null:-0x1,await this[_0x460e85(0x62e)][_0x460e85(0x588)]({'mute':_0x47062d[_0x460e85(0x6b6)]},_0x47062d[_0x460e85(0x2af)]),_0x227843[_0x460e85(0x6b6)]=Number(_0x47062d[_0x460e85(0x6b6)])),_0x44cba9&&(_0x1695c7(_0x44cba9,_0x227843,[_0x460e85(0x1df),_0x460e85(0x405),'email',_0x460e85(0x291),_0x460e85(0x2be),_0x460e85(0x2bb),_0x460e85(0x257),'atendimentoAberto',_0x460e85(0x6e7),_0x460e85(0x49c),_0x460e85(0x53a)]),Array[_0x460e85(0x435)](_0x44cba9[_0x460e85(0x7a4)])&&(_0x227843[_0x460e85(0x416)]=_0x44cba9[_0x460e85(0x7a4)][_0x460e85(0x506)](_0x1ef66f=>({'_id':_0x1ef66f[_0x460e85(0x2af)],'value':_0x1ef66f[_0x460e85(0x429)]}))),_0x47062d[_0x460e85(0x7f5)][_0x460e85(0x49c)]!==void 0x0)){let _0x3a1963=await this[_0x460e85(0x76b)][_0x460e85(0x159)][_0x460e85(0x1c3)]({'where':{}},this[_0x460e85(0x7f4)][_0x460e85(0x78d)]),_0x4ea56b=new Set(_0x47062d[_0x460e85(0x7f5)][_0x460e85(0x49c)]||[]),_0x4778dd=new Set(_0x47062d[_0x460e85(0x7f5)][_0x460e85(0x49c)]),_0x20d754=new Set(_0x3a1963['map'](_0x9fbda5=>_0x9fbda5[_0x460e85(0x2af)])),_0x2c90b3=[..._0x4778dd]['filter'](_0x3043c7=>!_0x4ea56b[_0x460e85(0x2b8)](_0x3043c7)&&_0x20d754[_0x460e85(0x2b8)](_0x3043c7)),_0x5c6cdf=[..._0x4ea56b][_0x460e85(0x82d)](_0x436588=>!_0x4778dd[_0x460e85(0x2b8)](_0x436588));if(_0x227843['leadInfo.etiquetas']=[..._0x4ea56b],_0x50f7b2&&!_0x50f7b2[_0x460e85(0x703)]){for(let _0x1323d9 of _0x2c90b3)await this['AddChatLabel'](_0x1323d9,_0x47062d[_0x460e85(0x2af)]),_0x4ea56b[_0x460e85(0x2a6)](_0x1323d9);for(let _0x3dff00 of _0x5c6cdf)await this['RemoveChatLabel'](_0x3dff00,_0x47062d[_0x460e85(0x2af)]),_0x4ea56b['delete'](_0x3dff00);}}if(_0x47062d[_0x460e85(0x192)]!==void 0x0&&(_0x227843[_0x460e85(0x192)]=Number(_0x47062d[_0x460e85(0x192)])),Object[_0x460e85(0x58e)](_0x227843)['length']===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x56e1e2=await this[_0x460e85(0x76b)]['chat'][_0x460e85(0x5b6)]({'where':{'_id':_0x47062d[_0x460e85(0x2af)]}},_0x227843,this[_0x460e85(0x7f4)][_0x460e85(0x78d)]);return _0x56e1e2&&q(this['instanceName'],'chats',{'chat':_0x56e1e2}),_0x56e1e2?(this[_0x460e85(0x224)][_0x460e85(0x195)](this[_0x460e85(0x300)]+'\x20('+this[_0x460e85(0x7f4)][_0x460e85(0x78d)]+'):\x20'+JSON[_0x460e85(0x53e)](_0x56e1e2,null,0x2)),_0x56e1e2):{'message':_0x460e85(0x5e0)};}catch(_0x3b2d9a){let _0xd1323a=_0x460e85(0xf9),_0x144006=_0x3b2d9a instanceof Error?_0x3b2d9a[_0x460e85(0x478)]:typeof _0x3b2d9a==_0x460e85(0x307)?JSON[_0x460e85(0x53e)](_0x3b2d9a):_0x3b2d9a,_0x1b461a=_0xd1323a+':\x20'+_0x144006;throw this[_0x460e85(0x224)][_0x460e85(0x15c)](this[_0x460e85(0x300)]+'\x20('+this['instance']['wuid']+_0x460e85(0x3d3)+_0x1b461a),new m(_0x1b461a);}}async[a0_0x75ac12(0x19f)](_0x1a3cc3,_0x5f23e3){const _0x47b941=a0_0x75ac12;try{await this[_0x47b941(0x62e)][_0x47b941(0x21f)](_0x5f23e3,_0x1a3cc3),this[_0x47b941(0x224)][_0x47b941(0x59e)](this[_0x47b941(0x300)]+'\x20('+this['instance']['wuid']+_0x47b941(0x256)+_0x1a3cc3+_0x47b941(0x3bc)+_0x5f23e3+_0x47b941(0x18a));}catch(_0xd83f74){this[_0x47b941(0x224)][_0x47b941(0x15c)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x1a3cc3+_0x47b941(0x52b)+_0x5f23e3+':\x20'+_0xd83f74);}}async['RemoveChatLabel'](_0x480eeb,_0x307f6b){const _0x139a40=a0_0x75ac12;try{await this[_0x139a40(0x62e)]['removeChatLabel'](_0x307f6b,_0x480eeb),this['logger'][_0x139a40(0x59e)](this[_0x139a40(0x300)]+'\x20('+this[_0x139a40(0x7f4)]['wuid']+_0x139a40(0x256)+_0x480eeb+_0x139a40(0x5cd)+_0x307f6b+'\x20com\x20sucesso.');}catch(_0x3b01b7){this['logger'][_0x139a40(0x15c)](_0x139a40(0x60b)+_0x480eeb+_0x139a40(0x570)+_0x307f6b+':\x20'+_0x3b01b7);}}async[a0_0x75ac12(0x3fa)](_0xc4d710){const _0x42c073=a0_0x75ac12;try{let _0x841456=await this[_0x42c073(0x76b)][_0x42c073(0x819)]['findOrCreate'](this[_0x42c073(0x7f4)][_0x42c073(0x78d)]),_0x280f8c=_0xc4d710[_0x42c073(0x2af)]?_0x841456[_0x42c073(0x75c)]['findIndex'](_0x37247b=>_0x37247b[_0x42c073(0x2af)]===_0xc4d710['_id']):-0x1;if(_0xc4d710[_0x42c073(0x585)]&&_0x280f8c>-0x1)_0x841456[_0x42c073(0x75c)]['splice'](_0x280f8c,0x1);else{if(_0x280f8c>-0x1){let _0x51dc0b=_0x841456['agents'][_0x280f8c];_0xc4d710[_0x42c073(0x451)]&&(_0x51dc0b['fone']=_0xc4d710[_0x42c073(0x451)]),_0xc4d710[_0x42c073(0x537)]&&(_0x51dc0b[_0x42c073(0x537)]=_0xc4d710['name']),_0xc4d710['email']&&(_0x51dc0b[_0x42c073(0x748)]=_0xc4d710[_0x42c073(0x748)]),_0xc4d710['role']&&(_0x51dc0b[_0x42c073(0x705)]=_0xc4d710[_0x42c073(0x705)]);}else _0x841456[_0x42c073(0x75c)][_0x42c073(0x6e9)]({'_id':_0xc4d710['_id']||new fe[(_0x42c073(0x636))]['Types'][(_0x42c073(0x163))]()[_0x42c073(0x7ce)](),'fone':_0xc4d710[_0x42c073(0x451)],'name':_0xc4d710[_0x42c073(0x537)],'email':_0xc4d710[_0x42c073(0x748)],'role':_0xc4d710[_0x42c073(0x705)]});}let _0x367987={'agents':_0x841456[_0x42c073(0x75c)]},_0x398316=await this[_0x42c073(0x76b)]['automateSystem'][_0x42c073(0x829)](_0x367987,this[_0x42c073(0x7f4)][_0x42c073(0x78d)]);return this['AutomateSystem']=_0x398316,this[_0x42c073(0x224)][_0x42c073(0x195)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20alterando\x20this.AutomateSystem'),this[_0x42c073(0x224)][_0x42c073(0x195)](this['instanceName']+'\x20('+this[_0x42c073(0x7f4)]['wuid']+_0x42c073(0x3d3)+this[_0x42c073(0x190)]),_0x398316;}catch(_0x1f8ea0){let _0x284d2a=_0x42c073(0x2d2),_0x5d0a41=_0x1f8ea0 instanceof Error?_0x1f8ea0[_0x42c073(0x478)]:typeof _0x1f8ea0==_0x42c073(0x307)?JSON[_0x42c073(0x53e)](_0x1f8ea0):_0x1f8ea0,_0x44634d=_0x284d2a+':\x20'+_0x5d0a41;throw this[_0x42c073(0x224)]['error'](this[_0x42c073(0x300)]+'\x20('+this[_0x42c073(0x7f4)][_0x42c073(0x78d)]+'):\x20'+_0x44634d),new m(_0x44634d);}}async[a0_0x75ac12(0x413)](_0x5bd7f7){const _0x4b3162=a0_0x75ac12;try{let _0x27ba33=await this['repository'][_0x4b3162(0x819)]['findOrCreate'](this['instance']['wuid']),_0x3dfb36=_0x5bd7f7[_0x4b3162(0x2af)]?_0x27ba33[_0x4b3162(0x7a4)][_0x4b3162(0x3d5)](_0x148b92=>_0x148b92[_0x4b3162(0x2af)]===_0x5bd7f7[_0x4b3162(0x2af)]):-0x1,_0x26466b=!0x1,_0x28c5c6=_0x27ba33[_0x4b3162(0x7a4)]['some'](_0x4d7724=>_0x4d7724[_0x4b3162(0x2e3)]===_0x5bd7f7[_0x4b3162(0x2e3)]);if(_0x5bd7f7[_0x4b3162(0x585)]&&_0x3dfb36>-0x1)_0x27ba33['customFields']['splice'](_0x3dfb36,0x1),_0x26466b=!0x0;else{if(_0x3dfb36>-0x1){if(_0x27ba33['customFields'][_0x4b3162(0x682)](_0x24d630=>_0x24d630['name']===_0x5bd7f7[_0x4b3162(0x537)]&&_0x24d630[_0x4b3162(0x2af)]!==_0x5bd7f7[_0x4b3162(0x2af)]))throw new Error(_0x4b3162(0x262));let _0x299c4e=_0x27ba33[_0x4b3162(0x7a4)][_0x3dfb36];_0x5bd7f7[_0x4b3162(0x2e3)]&&(_0x28c5c6||!Number[_0x4b3162(0x1d3)](_0x5bd7f7[_0x4b3162(0x2e3)]))&&(_0x299c4e[_0x4b3162(0x2e3)]=_0x5bd7f7[_0x4b3162(0x2e3)],_0x26466b=!0x0),_0x5bd7f7[_0x4b3162(0x537)]&&(_0x299c4e[_0x4b3162(0x537)]=_0x5bd7f7['name']);}else{if(_0x27ba33[_0x4b3162(0x7a4)][_0x4b3162(0x682)](_0x537ceb=>_0x537ceb[_0x4b3162(0x537)]===_0x5bd7f7['name']&&_0x537ceb[_0x4b3162(0x2af)]!==_0x5bd7f7[_0x4b3162(0x2af)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x27ba33['customFields'][_0x4b3162(0x6e9)]({'_id':_0x5bd7f7[_0x4b3162(0x2af)]||new fe[(_0x4b3162(0x636))]['Types'][(_0x4b3162(0x163))]()[_0x4b3162(0x7ce)](),'order':_0x5bd7f7['order'],'name':_0x5bd7f7[_0x4b3162(0x537)]}),_0x26466b=!0x0;}}if(_0x26466b){_0x27ba33[_0x4b3162(0x7a4)][_0x4b3162(0x121)]((_0x4b2ac8,_0x3fa80c)=>_0x4b2ac8['order']>_0x3fa80c[_0x4b3162(0x2e3)]?0x1:_0x3fa80c[_0x4b3162(0x2e3)]>_0x4b2ac8[_0x4b3162(0x2e3)]?-0x1:0x0);for(let _0x2707b8=0x0;_0x2707b8<_0x27ba33['customFields'][_0x4b3162(0x624)];_0x2707b8++)_0x27ba33['customFields'][_0x2707b8][_0x4b3162(0x2e3)]=_0x2707b8+0x1;}let _0x1fc622=await this[_0x4b3162(0x76b)][_0x4b3162(0x819)][_0x4b3162(0x829)](_0x27ba33,this[_0x4b3162(0x7f4)][_0x4b3162(0x78d)]);return this[_0x4b3162(0x190)]=_0x1fc622,this[_0x4b3162(0x224)][_0x4b3162(0x195)](this[_0x4b3162(0x300)]+'\x20('+this['instance'][_0x4b3162(0x78d)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x4b3162(0x224)][_0x4b3162(0x195)](this[_0x4b3162(0x300)]+'\x20('+this[_0x4b3162(0x7f4)][_0x4b3162(0x78d)]+_0x4b3162(0x3d3)+this['AutomateSystem']),_0x1fc622;}catch(_0x23dbd1){let _0x169606=_0x4b3162(0x437),_0x510927=_0x23dbd1 instanceof Error?_0x23dbd1[_0x4b3162(0x478)]:typeof _0x23dbd1==_0x4b3162(0x307)?JSON[_0x4b3162(0x53e)](_0x23dbd1):_0x23dbd1,_0xed93a9=_0x169606+':\x20'+_0x510927;throw this['logger']['error'](this[_0x4b3162(0x300)]+'\x20('+this[_0x4b3162(0x7f4)][_0x4b3162(0x78d)]+_0x4b3162(0x3d3)+_0xed93a9),new m(_0xed93a9);}}async[a0_0x75ac12(0x390)](_0x2b5813){const _0x368cbf=a0_0x75ac12;try{let _0x1793a3=await this['repository']['automateSystem'][_0x368cbf(0x2ff)](this['instance'][_0x368cbf(0x78d)]),_0x4f9609=_0x1793a3?.[_0x368cbf(0x6c4)]?.[_0x368cbf(0x3d5)](_0x5ee10d=>_0x5ee10d[_0x368cbf(0x2af)]===_0x2b5813?.[_0x368cbf(0x2af)]);if(_0x2b5813?.[_0x368cbf(0x585)])_0x4f9609>-0x1&&_0x1793a3?.['autoCompleteMessages']?.[_0x368cbf(0x350)](_0x4f9609,0x1);else{if(_0x4f9609>-0x1){let _0x31d768=_0x1793a3[_0x368cbf(0x6c4)][_0x4f9609];_0x31d768[_0x368cbf(0x2e3)]=_0x2b5813?.[_0x368cbf(0x2e3)]||_0x31d768[_0x368cbf(0x2e3)],_0x31d768['command']=_0x2b5813?.[_0x368cbf(0x2ae)]||_0x31d768[_0x368cbf(0x2ae)],_0x31d768['message']=_0x2b5813?.[_0x368cbf(0x478)]||_0x31d768[_0x368cbf(0x478)];}else{let _0x5b90ee={'_id':_0x2b5813?.[_0x368cbf(0x2af)]||new fe[(_0x368cbf(0x636))][(_0x368cbf(0x2ba))][(_0x368cbf(0x163))]()[_0x368cbf(0x7ce)](),'order':_0x2b5813?.[_0x368cbf(0x2e3)],'command':_0x2b5813?.[_0x368cbf(0x2ae)],'message':_0x2b5813?.[_0x368cbf(0x478)]};_0x1793a3?.['autoCompleteMessages']?.[_0x368cbf(0x6e9)](_0x5b90ee);}}_0x1793a3?.[_0x368cbf(0x6c4)]?.[_0x368cbf(0x121)]((_0xaffc70,_0x3f2796)=>_0xaffc70[_0x368cbf(0x2e3)]-_0x3f2796[_0x368cbf(0x2e3)]);let _0x114b1b=await this[_0x368cbf(0x76b)][_0x368cbf(0x819)]['update'](_0x1793a3,this['instance'][_0x368cbf(0x78d)]);return this['AutomateSystem']=_0x114b1b,this[_0x368cbf(0x224)][_0x368cbf(0x195)](this['instanceName']+'\x20('+this[_0x368cbf(0x7f4)][_0x368cbf(0x78d)]+_0x368cbf(0x5de)),_0x114b1b;}catch(_0x217dac){let _0x849a64=_0x368cbf(0x286),_0x41c1e9=_0x217dac instanceof Error?_0x217dac[_0x368cbf(0x478)]:typeof _0x217dac==_0x368cbf(0x307)?JSON[_0x368cbf(0x53e)](_0x217dac):_0x217dac,_0x46468f=_0x849a64+':\x20'+_0x41c1e9;throw this[_0x368cbf(0x224)][_0x368cbf(0x15c)](this[_0x368cbf(0x300)]+'\x20('+this[_0x368cbf(0x7f4)]['wuid']+_0x368cbf(0x3d3)+_0x46468f),new m(_0x46468f);}}async['updateFlowConfig'](_0x1c7f25){const _0x499f11=a0_0x75ac12;try{let _0x2762c9=await this[_0x499f11(0x76b)]['automateSystem'][_0x499f11(0x2ff)](this[_0x499f11(0x7f4)][_0x499f11(0x78d)]);if(!_0x2762c9)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x7c09e9={'_id':_0x2762c9['_id'],'flowConfig':{'enabled':_0x1c7f25[_0x499f11(0x5db)]??_0x2762c9[_0x499f11(0x707)][_0x499f11(0x5db)],'ignoreGroups':_0x1c7f25[_0x499f11(0x13a)]??_0x2762c9[_0x499f11(0x707)][_0x499f11(0x13a)],'stopConversation':_0x1c7f25[_0x499f11(0x516)][_0x499f11(0x11c)]()??_0x2762c9[_0x499f11(0x707)][_0x499f11(0x516)][_0x499f11(0x11c)](),'stopMinutes':_0x1c7f25[_0x499f11(0x272)]??_0x2762c9[_0x499f11(0x707)]['stopMinutes'],'stopWhenYouSendMsg':_0x1c7f25[_0x499f11(0x68d)]??_0x2762c9[_0x499f11(0x707)][_0x499f11(0x68d)]}},_0x2687f5=await this[_0x499f11(0x76b)][_0x499f11(0x819)][_0x499f11(0x829)](_0x7c09e9,this['instance']['wuid']);return this[_0x499f11(0x190)]=_0x2687f5,this['logger'][_0x499f11(0x195)](this[_0x499f11(0x300)]+'\x20('+this[_0x499f11(0x7f4)][_0x499f11(0x78d)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x499f11(0x224)]['verbose'](this[_0x499f11(0x300)]+'\x20('+this[_0x499f11(0x7f4)]['wuid']+_0x499f11(0x3d3)+this['AutomateSystem']),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x2687f5;}catch(_0x5e5ce4){let _0x44b780=_0x499f11(0x3b5),_0x596520=_0x5e5ce4 instanceof Error?_0x5e5ce4['message']:typeof _0x5e5ce4==_0x499f11(0x307)?JSON[_0x499f11(0x53e)](_0x5e5ce4):_0x5e5ce4,_0x17bab0=_0x44b780+':\x20'+_0x596520;throw this['logger'][_0x499f11(0x15c)](this[_0x499f11(0x300)]+'\x20('+this[_0x499f11(0x7f4)][_0x499f11(0x78d)]+_0x499f11(0x3d3)+_0x17bab0),new m(_0x17bab0);}}async['getAutomateSystem'](){const _0x3fa58d=a0_0x75ac12;try{let _0x1e670c=await this[_0x3fa58d(0x76b)][_0x3fa58d(0x819)][_0x3fa58d(0x2ff)](this[_0x3fa58d(0x7f4)]['wuid']);return this[_0x3fa58d(0x190)]=_0x1e670c,_0x1e670c;}catch(_0x32a52e){let _0x50b7cb='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x98d164=_0x32a52e instanceof Error?_0x32a52e['message']:typeof _0x32a52e==_0x3fa58d(0x307)?JSON[_0x3fa58d(0x53e)](_0x32a52e):_0x32a52e,_0x5be4d3=_0x50b7cb+':\x20'+_0x98d164;throw this[_0x3fa58d(0x224)][_0x3fa58d(0x15c)](this['instanceName']+'\x20('+this[_0x3fa58d(0x7f4)]['wuid']+_0x3fa58d(0x3d3)+_0x5be4d3),new m(_0x5be4d3);}}async['setRestartTimeout'](){const _0x3661b9=a0_0x75ac12;this[_0x3661b9(0x7f4)][_0x3661b9(0x131)][_0x3661b9(0x1c9)]&&clearTimeout(this[_0x3661b9(0x7f4)][_0x3661b9(0x131)][_0x3661b9(0x1c9)]),this[_0x3661b9(0x7f4)][_0x3661b9(0x131)][_0x3661b9(0x1c9)]=setTimeout(()=>{const _0x26b3ca=_0x3661b9;this[_0x26b3ca(0x2bc)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x75ac12(0x2bc)](){const _0x114bad=a0_0x75ac12;Date['now']()-this[_0x114bad(0x7f4)][_0x114bad(0x131)]['lastSend']>=0x1d4c0&&(this[_0x114bad(0x224)][_0x114bad(0x195)](this[_0x114bad(0x300)]+'\x20('+this[_0x114bad(0x7f4)][_0x114bad(0x78d)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x114bad(0x7f4)][_0x114bad(0x131)][_0x114bad(0x7b5)]=null,this[_0x114bad(0x7f4)]['ScheduleMessage'][_0x114bad(0x59a)]=0x0,this[_0x114bad(0x7f4)][_0x114bad(0x131)][_0x114bad(0x27a)]=0x0,this[_0x114bad(0x7d7)]=null,await this[_0x114bad(0x7cb)]());}async[a0_0x75ac12(0x7cb)](){const _0x3bbc5f=a0_0x75ac12;let _0x536de5=!0x1;this['pendingMessages']=[],this['processUUID']=(0x0,X['v4'])(),await this[_0x3bbc5f(0x814)]();let _0x2a3994=()=>{const _0x3d7874=_0x3bbc5f;this['logger'][_0x3d7874(0x7bf)](this[_0x3d7874(0x300)]+'\x20('+this[_0x3d7874(0x7f4)][_0x3d7874(0x78d)]+_0x3d7874(0x789)+this['instance'][_0x3d7874(0x131)]['processingGroup']?.[_0x3d7874(0x2af)]+_0x3d7874(0x13e));},_0x3debfe=async()=>{const _0x22ceac=_0x3bbc5f;this[_0x22ceac(0x224)][_0x22ceac(0x7bf)](this[_0x22ceac(0x300)]+'\x20('+this[_0x22ceac(0x7f4)][_0x22ceac(0x78d)]+_0x22ceac(0x2e8));let _0x4a8a0=new Date(Date[_0x22ceac(0x505)]()-0xc*0x3c*0x3c*0x3e8),_0x14f326={'where':{'status':{'$in':[_0x22ceac(0x848),_0x22ceac(0x4d1)]},'$or':[{'when':{'$lte':new Date(),'$gte':_0x4a8a0}},{'when':0x0}]}},_0x4e93ca=await this[_0x22ceac(0x76b)][_0x22ceac(0x4b8)][_0x22ceac(0x1c3)](_0x14f326,this[_0x22ceac(0x7f4)][_0x22ceac(0x78d)]);return this[_0x22ceac(0x224)][_0x22ceac(0x7bf)](this[_0x22ceac(0x300)]+'\x20('+this[_0x22ceac(0x7f4)][_0x22ceac(0x78d)]+'):\x20Mensagens\x20prontas\x20para\x20envio\x20encontradas:\x20'+_0x4e93ca[_0x22ceac(0x624)]),_0x4e93ca;},_0x4d4a4f=()=>this[_0x3bbc5f(0x495)][_0x3bbc5f(0x624)]===0x0?null:this[_0x3bbc5f(0x495)][_0x3bbc5f(0x69c)]((_0x3ca0e2,_0x5e3562)=>(_0x3ca0e2[_0x3bbc5f(0x2e3)]??Number['MAX_SAFE_INTEGER'])<(_0x5e3562[_0x3bbc5f(0x2e3)]??Number[_0x3bbc5f(0x1ca)])?_0x3ca0e2:_0x5e3562,this['pendingMessages'][0x0]),_0x368657=async _0x176aba=>{const _0x583f5b=_0x3bbc5f;let _0x3f66aa=Math[_0x583f5b(0x5f9)](Math[_0x583f5b(0x104)]()*0x1389)+0xbb8;for(let _0x18df0a of _0x176aba){let _0x14ddf6={'_id':_0x18df0a['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x583f5b(0x505)]()-0x2710}}]},_0x27aa89={'startSend':Date['now'](),'processUUID':this[_0x583f5b(0x7d7)],'status':_0x583f5b(0x4d1)};if(!await this[_0x583f5b(0x76b)][_0x583f5b(0x4b8)][_0x583f5b(0x5b6)](_0x14ddf6,_0x27aa89,this['instance'][_0x583f5b(0x78d)]))return;if(!this[_0x583f5b(0x7f4)][_0x583f5b(0x131)][_0x583f5b(0x6ad)]){this[_0x583f5b(0x224)]['warn'](this[_0x583f5b(0x300)]+'\x20('+this[_0x583f5b(0x7f4)]['wuid']+_0x583f5b(0x50b));break;}for(this[_0x583f5b(0x495)]=_0x18df0a[_0x583f5b(0x16d)]['filter'](_0x53350f=>!_0x53350f['triedToSend']);this[_0x583f5b(0x495)][_0x583f5b(0x624)]>0x0||!_0x536de5;){await this[_0x583f5b(0x137)]();let _0x1eaa94=_0x4d4a4f();if(!_0x1eaa94){_0x536de5=!0x0;break;}let _0x41cd0c=_0x18df0a['messages']['find'](_0x233ff1=>_0x233ff1[_0x583f5b(0x2af)]===_0x1eaa94[_0x583f5b(0x2af)]);if(!_0x41cd0c){_0x536de5=!0x0;break;}if(this[_0x583f5b(0x7f4)][_0x583f5b(0x131)]['lastSend']=Date['now'](),_0x41cd0c[_0x583f5b(0x1fe)]){this[_0x583f5b(0x224)]['warn'](this[_0x583f5b(0x300)]+'\x20('+this['instance'][_0x583f5b(0x78d)]+_0x583f5b(0x62f)+_0x41cd0c[_0x583f5b(0x323)]+_0x583f5b(0x4e1)),this[_0x583f5b(0x495)]=this[_0x583f5b(0x495)]['filter'](_0x58f5f5=>_0x58f5f5[_0x583f5b(0x2af)]!==_0x41cd0c['_id']);continue;}if(!this[_0x583f5b(0x7f4)][_0x583f5b(0x131)][_0x583f5b(0x6ad)]){this[_0x583f5b(0x224)]['warn'](this[_0x583f5b(0x300)]+'\x20('+this[_0x583f5b(0x7f4)][_0x583f5b(0x78d)]+_0x583f5b(0x755));break;}if(!this[_0x583f5b(0x7f4)][_0x583f5b(0x131)]['processingGroup']){this[_0x583f5b(0x224)][_0x583f5b(0x7bf)](this[_0x583f5b(0x300)]+'\x20('+this[_0x583f5b(0x7f4)][_0x583f5b(0x78d)]+_0x583f5b(0x35f)+_0x18df0a[_0x583f5b(0x2af)]+_0x583f5b(0x1b7));break;}if(_0x41cd0c[_0x583f5b(0x791)]===_0x583f5b(0x20a)&&!this['AutomateSystem']?.['flowConfig'][_0x583f5b(0x5db)]){this[_0x583f5b(0x224)][_0x583f5b(0x15c)](this[_0x583f5b(0x300)]+'\x20('+this[_0x583f5b(0x7f4)][_0x583f5b(0x78d)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x11899c={'idControl':_0x41cd0c[_0x583f5b(0x2af)],'remoteJid':_0x41cd0c['remoteJid'],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x583f5b(0x505)]()},_0x449a22=null;try{this[_0x583f5b(0x224)][_0x583f5b(0x7bf)](this[_0x583f5b(0x300)]+'\x20('+this['instance'][_0x583f5b(0x78d)]+_0x583f5b(0x285)+_0x41cd0c[_0x583f5b(0x323)]);let _0x55343f=await this[_0x583f5b(0x3be)](_0x41cd0c[_0x583f5b(0x323)],_0x41cd0c);_0x11899c[_0x583f5b(0x15c)]=_0x55343f[_0x583f5b(0x15c)],_0x11899c['id']=_0x55343f[_0x583f5b(0x15c)]?null:_0x55343f['id'],_0x11899c[_0x583f5b(0x348)]=_0x55343f[_0x583f5b(0x15c)]?_0x55343f[_0x583f5b(0x32a)]?_0x55343f[_0x583f5b(0x32a)]['toString']():'':null;let _0x150512=_0x18df0a[_0x583f5b(0x16d)]['findIndex'](_0x471679=>_0x471679['_id']===_0x41cd0c[_0x583f5b(0x2af)]);_0x150512!==-0x1&&(_0x18df0a['messages'][_0x150512][_0x583f5b(0x1fe)]=!0x0);let _0x707caf={'$push':{'messagesSend':_0x11899c},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x26d5fd=[{'elem._id':_0x41cd0c[_0x583f5b(0x2af)]}];if(this['logger']['warn'](this[_0x583f5b(0x300)]+'\x20('+this[_0x583f5b(0x7f4)][_0x583f5b(0x78d)]+_0x583f5b(0x3e2)+_0x41cd0c[_0x583f5b(0x2af)]),_0x449a22=await this['repository']['scheduleMessage'][_0x583f5b(0x5b6)]({'_id':_0x18df0a[_0x583f5b(0x2af)]},_0x707caf,this[_0x583f5b(0x7f4)][_0x583f5b(0x78d)],{'arrayFilters':_0x26d5fd}),_0x55343f[_0x583f5b(0x15c)]){this['logger'][_0x583f5b(0x15c)](this['instanceName']+'\x20('+this[_0x583f5b(0x7f4)][_0x583f5b(0x78d)]+_0x583f5b(0x7fd)+_0x55343f['detail']);continue;}let _0x2e7eb4=this[_0x583f5b(0x60e)](_0x18df0a[_0x583f5b(0x765)],_0x18df0a['delaySecMax']);await this[_0x583f5b(0x301)](_0x2e7eb4);}catch(_0x3196ed){this[_0x583f5b(0x224)][_0x583f5b(0x15c)](this[_0x583f5b(0x300)]+'\x20('+this[_0x583f5b(0x7f4)][_0x583f5b(0x78d)]+_0x583f5b(0x7ad)+_0x41cd0c[_0x583f5b(0x323)]+':\x20'+(_0x3196ed instanceof Error?_0x3196ed[_0x583f5b(0x478)]:JSON[_0x583f5b(0x53e)](_0x3196ed,null,0x2))),_0x11899c[_0x583f5b(0x15c)]=!0x0,_0x11899c[_0x583f5b(0x348)]=_0x3196ed['message'];let _0x5d5944=_0x18df0a[_0x583f5b(0x16d)][_0x583f5b(0x3d5)](_0x42a1b4=>_0x42a1b4[_0x583f5b(0x2af)]===_0x41cd0c['_id']);_0x5d5944!==-0x1&&(_0x18df0a[_0x583f5b(0x16d)][_0x5d5944][_0x583f5b(0x1fe)]=!0x0);let _0x11ab6a={'$push':{'messagesSend':_0x11899c},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x1e1c26=[{'elem._id':_0x41cd0c['_id']}];this['logger'][_0x583f5b(0x7bf)](this[_0x583f5b(0x300)]+'\x20('+this[_0x583f5b(0x7f4)][_0x583f5b(0x78d)]+_0x583f5b(0x729)+_0x41cd0c[_0x583f5b(0x2af)]),_0x449a22=await this[_0x583f5b(0x76b)][_0x583f5b(0x4b8)][_0x583f5b(0x5b6)]({'_id':_0x18df0a[_0x583f5b(0x2af)]},_0x11ab6a,this[_0x583f5b(0x7f4)][_0x583f5b(0x78d)],{'arrayFilters':_0x1e1c26});}finally{if(_0x449a22&&_0x449a22[_0x583f5b(0x2be)]===_0x583f5b(0x25a)){this[_0x583f5b(0x224)][_0x583f5b(0x7bf)](this[_0x583f5b(0x300)]+'\x20('+this['instance'][_0x583f5b(0x78d)]+_0x583f5b(0x35f)+_0x41cd0c[_0x583f5b(0x2af)]+_0x583f5b(0x1b2));break;}let _0x547b84=_0x449a22[_0x583f5b(0x16d)][_0x583f5b(0x1c3)](_0x2a952f=>_0x2a952f['_id']===_0x41cd0c[_0x583f5b(0x2af)]);if(_0x547b84&&!_0x547b84[_0x583f5b(0x1fe)]){let _0x3c1749={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x34f1f7=[{'elem._id':_0x41cd0c[_0x583f5b(0x2af)]}];await this[_0x583f5b(0x76b)][_0x583f5b(0x4b8)][_0x583f5b(0x5b6)]({'_id':_0x449a22['_id']},_0x3c1749,this['instance'][_0x583f5b(0x78d)],{'arrayFilters':_0x34f1f7});}if(this['pendingMessages']=_0x449a22[_0x583f5b(0x16d)][_0x583f5b(0x82d)](_0x522fc8=>!_0x522fc8[_0x583f5b(0x1fe)]),_0x536de5=this[_0x583f5b(0x495)]['length']===0x0,_0x449a22[_0x583f5b(0x7d7)]!==this['processUUID']){this['logger'][_0x583f5b(0x7bf)](this[_0x583f5b(0x300)]+'\x20('+this[_0x583f5b(0x7f4)][_0x583f5b(0x78d)]+_0x583f5b(0x4f4));return;}this[_0x583f5b(0x7f4)]['ScheduleMessage'][_0x583f5b(0x7b5)]=_0x449a22;}}this['pendingMessages']=[];let _0x1f9f33=await this['repository'][_0x583f5b(0x4b8)][_0x583f5b(0x2c8)](_0x18df0a['_id'],this[_0x583f5b(0x7f4)]['wuid']);if(_0x536de5=_0x1f9f33['messages'][_0x583f5b(0x2ee)](_0x4e3f88=>_0x4e3f88[_0x583f5b(0x1fe)]),_0x536de5&&_0x1f9f33[_0x583f5b(0x2be)]!=='stopped'){let _0x2accf0={'$set':{'status':_0x583f5b(0x7be)}};await this[_0x583f5b(0x76b)][_0x583f5b(0x4b8)]['updateOneById'](_0x1f9f33[_0x583f5b(0x2af)],_0x2accf0,this['instance'][_0x583f5b(0x78d)]);}await new Promise(_0x2f8bcf=>setTimeout(_0x2f8bcf,_0x3f66aa)),global['gc']?global['gc']():console[_0x583f5b(0x7bf)]('Garbage\x20collection\x20não\x20está\x20disponível.');}this[_0x583f5b(0x7d7)]=null;},_0x165720=async()=>{const _0x26e4a5=_0x3bbc5f;let _0x334147=new Date(Date[_0x26e4a5(0x505)]()-0x2932e00),_0x1816bb={'where':{'status':_0x26e4a5(0x848),'$or':[{'when':{'$lte':new Date(),'$gte':_0x334147}},{'when':0x0}]}},_0x3e6682=await this[_0x26e4a5(0x76b)][_0x26e4a5(0x4b8)][_0x26e4a5(0x4a6)](_0x1816bb,this['instance'][_0x26e4a5(0x78d)]);_0x3e6682&&_0x3e6682[_0x26e4a5(0x394)]-Date[_0x26e4a5(0x505)]()<=0x6ddd00?this[_0x26e4a5(0x7f4)][_0x26e4a5(0x131)]['delayMessage']=_0x3e6682['when']-Date[_0x26e4a5(0x505)]():this[_0x26e4a5(0x7f4)]['ScheduleMessage'][_0x26e4a5(0x27a)]=(0x3c+Math[_0x26e4a5(0x5f9)](Math[_0x26e4a5(0x104)]()*0x3c))*0x3c*0x3e8,this[_0x26e4a5(0x7f4)][_0x26e4a5(0x131)][_0x26e4a5(0x27a)]=Math[_0x26e4a5(0x54c)](this[_0x26e4a5(0x7f4)][_0x26e4a5(0x131)]['delayMessage'],0x1*0x2*0x3e8);let _0x3213cd=Math[_0x26e4a5(0x6be)](this[_0x26e4a5(0x7f4)][_0x26e4a5(0x131)]['delayMessage']/0xea60);if(_0x3e6682){let _0x1207fc=new Date(_0x3e6682['when'])['toLocaleString']();this['logger']['warn'](this[_0x26e4a5(0x300)]+'\x20('+this[_0x26e4a5(0x7f4)][_0x26e4a5(0x78d)]+_0x26e4a5(0x5e5)+_0x1207fc+_0x26e4a5(0x1e5)+_0x3213cd+_0x26e4a5(0x6db));}else this[_0x26e4a5(0x224)]['warn'](this['instanceName']+'\x20('+this[_0x26e4a5(0x7f4)][_0x26e4a5(0x78d)]+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x3213cd+_0x26e4a5(0x6db));setTimeout(()=>this['scheduleNextCheck'](),this['instance']['ScheduleMessage'][_0x26e4a5(0x27a)]);};if(this['instance'][_0x3bbc5f(0x131)][_0x3bbc5f(0x7b5)]){await this[_0x3bbc5f(0x137)](),_0x2a3994();return;}if(!this[_0x3bbc5f(0x7f4)][_0x3bbc5f(0x131)][_0x3bbc5f(0x6ad)]){this['logger']['warn'](this[_0x3bbc5f(0x300)]+'\x20('+this[_0x3bbc5f(0x7f4)]['wuid']+_0x3bbc5f(0x332)),this[_0x3bbc5f(0x7f4)][_0x3bbc5f(0x131)][_0x3bbc5f(0x7b5)]=null,this[_0x3bbc5f(0x7f4)][_0x3bbc5f(0x131)]['lastSend']=0x0,this[_0x3bbc5f(0x7f4)]['ScheduleMessage'][_0x3bbc5f(0x27a)]=0x0;return;}try{let _0xec6ba4=await _0x3debfe();_0xec6ba4[_0x3bbc5f(0x624)]===0x0?this[_0x3bbc5f(0x224)][_0x3bbc5f(0x7bf)](this[_0x3bbc5f(0x300)]+'\x20('+this[_0x3bbc5f(0x7f4)][_0x3bbc5f(0x78d)]+_0x3bbc5f(0x200)):(this['instance'][_0x3bbc5f(0x131)]['processingGroup']=_0xec6ba4[0x0],await _0x368657(_0xec6ba4)),await _0x165720(),this[_0x3bbc5f(0x7f4)]['ScheduleMessage']['processingGroup']=null;}catch(_0x49abbc){this[_0x3bbc5f(0x224)][_0x3bbc5f(0x15c)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x49abbc instanceof Error?_0x49abbc[_0x3bbc5f(0x478)]:JSON[_0x3bbc5f(0x53e)](_0x49abbc,null,0x2)));}}[a0_0x75ac12(0x60e)](_0x6ab111,_0x2c57bb){const _0x308d21=a0_0x75ac12;return _0x6ab111=Math[_0x308d21(0x54c)](0.5,_0x6ab111),_0x2c57bb=Math[_0x308d21(0x65e)](Math[_0x308d21(0x54c)](0x3,_0x2c57bb),0x78),Math[_0x308d21(0x5f9)](Math[_0x308d21(0x104)]()*(_0x2c57bb-_0x6ab111+0x1)+_0x6ab111)*0x3e8;}[a0_0x75ac12(0x301)](_0x45d64c){return new Promise(_0x36695d=>setTimeout(_0x36695d,_0x45d64c));}async[a0_0x75ac12(0x60a)](_0xc1c101){const _0x12d856=a0_0x75ac12;if(!this[_0x12d856(0x190)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;_0xc1c101=this[_0x12d856(0x591)](_0xc1c101);let _0x3bf836=await this['repository']['chat'][_0x12d856(0x4a6)]({'where':{'_id':_0xc1c101}},this[_0x12d856(0x7f4)][_0x12d856(0x78d)]),_0x4c3d58={};if(_0x3bf836&&_0x3bf836[_0x12d856(0x7f5)]){let _0x3eb64e=_0x3bf836[_0x12d856(0x7f5)];typeof _0x3eb64e[_0x12d856(0x1df)]=='string'&&(_0x4c3d58[_0x12d856(0x1df)]=_0x3eb64e[_0x12d856(0x1df)]),typeof _0x3eb64e[_0x12d856(0x405)]==_0x12d856(0x392)&&(_0x4c3d58[_0x12d856(0x405)]=_0x3eb64e[_0x12d856(0x405)]),typeof _0x3eb64e[_0x12d856(0x748)]=='string'&&(_0x4c3d58[_0x12d856(0x748)]=_0x3eb64e[_0x12d856(0x748)]),typeof _0x3eb64e[_0x12d856(0x291)]==_0x12d856(0x392)&&(_0x4c3d58[_0x12d856(0x291)]=_0x3eb64e[_0x12d856(0x291)]),typeof _0x3eb64e['status']==_0x12d856(0x392)&&(_0x4c3d58[_0x12d856(0x2be)]=_0x3eb64e['status']),typeof _0x3eb64e[_0x12d856(0x2bb)]==_0x12d856(0x392)&&(_0x4c3d58[_0x12d856(0x2bb)]=_0x3eb64e[_0x12d856(0x2bb)]),typeof _0x3eb64e[_0x12d856(0x6e7)]=='string'&&(_0x4c3d58['responsavelid']=_0x3eb64e['responsavelid']),Array[_0x12d856(0x435)](_0x3eb64e[_0x12d856(0x257)])&&(_0x4c3d58[_0x12d856(0x257)]=_0x3eb64e[_0x12d856(0x257)][_0x12d856(0x215)](',\x20')),Array[_0x12d856(0x435)](_0x3eb64e[_0x12d856(0x49c)])&&(_0x4c3d58[_0x12d856(0x49c)]=_0x3eb64e[_0x12d856(0x49c)]['join'](',\x20'));}return _0x3bf836&&_0x3bf836['leadInfo']&&_0x3bf836[_0x12d856(0x7f5)][_0x12d856(0x7a4)]&&_0x3bf836[_0x12d856(0x7f5)]['customFields'][_0x12d856(0x839)](_0x346e24=>{const _0x2eb294=_0x12d856;let _0x188ac5=this['AutomateSystem']?.[_0x2eb294(0x7a4)]['find'](_0x373a95=>_0x373a95[_0x2eb294(0x2af)]===_0x346e24[_0x2eb294(0x2af)]);_0x188ac5&&(_0x4c3d58[_0x188ac5[_0x2eb294(0x537)]]=_0x346e24[_0x2eb294(0x429)]);}),_0x4c3d58;}async['replaceVariablesChat'](_0x377226,_0x168999){const _0x18f7e2=a0_0x75ac12;try{let _0x37e408=await this[_0x18f7e2(0x60a)](_0x168999);return this[_0x18f7e2(0x651)](_0x377226,_0x37e408);}catch(_0x2786f8){return this[_0x18f7e2(0x224)][_0x18f7e2(0x15c)](_0x18f7e2(0x5cf)+_0x168999+':\x20'+_0x2786f8),_0x377226;}}async[a0_0x75ac12(0x814)](){const _0x43cd56=a0_0x75ac12;let _0x4eb09d=async(_0x2004df,_0x3714f4)=>{const _0x16a628=a0_0x2e53;let _0x262908=(await this['repository'][_0x16a628(0x4b8)][_0x16a628(0x1c3)]({'where':{'type':_0x2004df}},this['instance'][_0x16a628(0x78d)]))[_0x16a628(0x506)](async _0xd03ef1=>{const _0x1eac76=_0x16a628;let _0x56c1f5=_0x3714f4(_0xd03ef1),_0x208c75=_0x3c6df4=>/^\d+$/[_0x1eac76(0x4f0)](_0x3c6df4),_0x18f8b9=_0xd03ef1['remoteJids'][_0x1eac76(0x82d)](_0x4e9acd=>_0x4e9acd[_0x1eac76(0x11d)](_0x1eac76(0x2f8))?_0x4e9acd[_0x1eac76(0x624)]>0x19:_0x4e9acd[_0x1eac76(0x11d)](_0x1eac76(0x700))?_0x4e9acd[_0x1eac76(0x624)]>0xf:_0x208c75(_0x4e9acd)?_0x4e9acd[_0x1eac76(0x624)]>=0xb:!0x1)[_0x1eac76(0x506)](_0x288b29=>({'_id':(0x0,X['v4'])(),'idSchedule':_0xd03ef1[_0x1eac76(0x2af)],'type':_0x56c1f5,'remoteJid':_0x288b29,'flow':_0xd03ef1['flowName'],'text':_0xd03ef1[_0x1eac76(0x478)]?.[_0x1eac76(0x105)],'delay':_0xd03ef1[_0x1eac76(0x478)]?.[_0x1eac76(0x561)],'urlOrBase64':_0xd03ef1[_0x1eac76(0x478)]?.[_0x1eac76(0x477)],'linkPreview':_0xd03ef1[_0x1eac76(0x478)]?.['linkPreview'],'fileName':_0xd03ef1[_0x1eac76(0x478)]?.[_0x1eac76(0x372)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x1eac76(0x76b)][_0x1eac76(0x4b8)][_0x1eac76(0x322)](_0xd03ef1['_id'],{'$set':{'messages':_0x18f8b9},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this[_0x1eac76(0x7f4)][_0x1eac76(0x78d)]);}catch(_0x32837c){console['error']('Erro\x20ao\x20atualizar\x20agendamento\x20'+_0xd03ef1[_0x1eac76(0x2af)]+':',_0x32837c);}});await Promise[_0x16a628(0x684)](_0x262908);};await _0x4eb09d(_0x43cd56(0x105),_0x156bb1=>_0x43cd56(0x105)),await _0x4eb09d(_0x43cd56(0x45c),_0x138553=>_0x138553['message']?.[_0x43cd56(0x24d)]||_0x43cd56(0x45c)),await _0x4eb09d('audio',_0x4c01e6=>'audio'),await _0x4eb09d('flow',_0x310a95=>_0x43cd56(0x20a)),await _0x4eb09d(_0x43cd56(0x466),_0x378714=>'image'),await _0x4eb09d(_0x43cd56(0x1b1),_0x46dc81=>_0x43cd56(0x1b1)),await _0x4eb09d(_0x43cd56(0x2a0),_0x429a87=>'document'),this[_0x43cd56(0x224)][_0x43cd56(0x7bf)](this[_0x43cd56(0x300)]+'\x20('+this[_0x43cd56(0x7f4)][_0x43cd56(0x78d)]+'):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!');}async['editScheduleMessage'](_0x2cc73d){const _0x11deae=a0_0x75ac12;try{if(this[_0x11deae(0x224)][_0x11deae(0x7bf)](this[_0x11deae(0x300)]+'\x20('+this[_0x11deae(0x7f4)][_0x11deae(0x78d)]+'):\x20Editando/criando\x20grupo\x20de\x20mensagens...'),_0x2cc73d[_0x11deae(0x2af)]||(_0x2cc73d[_0x11deae(0x2af)]=(0x0,X['v4'])()),this[_0x11deae(0x7f4)][_0x11deae(0x131)][_0x11deae(0x7b5)]?.[_0x11deae(0x2af)]===_0x2cc73d[_0x11deae(0x2af)]?.[_0x11deae(0x7ce)]()&&_0x2cc73d[_0x11deae(0x2be)]!==_0x11deae(0x25a))throw new Error(_0x11deae(0x211));if(_0x2cc73d[_0x11deae(0x585)]&&_0x2cc73d[_0x11deae(0x2af)]){let _0x143529=await this[_0x11deae(0x76b)][_0x11deae(0x4b8)][_0x11deae(0x1d1)](_0x2cc73d[_0x11deae(0x2af)],this['instance'][_0x11deae(0x78d)]);return setTimeout(()=>this[_0x11deae(0x7cb)](),0x7d0),_0x143529;}let _0x35ff92=null;if(_0x2cc73d[_0x11deae(0x2af)]&&(_0x35ff92=await this[_0x11deae(0x76b)][_0x11deae(0x4b8)][_0x11deae(0x2c8)](_0x2cc73d[_0x11deae(0x2af)],this[_0x11deae(0x7f4)]['wuid'])),_0x35ff92){let {_id:_0x597e10,owner:_0x22a797,messages:_0x43eb0b,..._0xa0cebd}=_0x2cc73d;if(_0x43eb0b){let _0x1596b9=_0x43eb0b[_0x11deae(0x82d)](_0x25c837=>!_0x25c837['_id']),_0x29f1a6=_0x43eb0b['filter'](_0x52ebc4=>_0x52ebc4[_0x11deae(0x2af)]&&!_0x52ebc4['delete']),_0x41717f=_0x43eb0b['filter'](_0x3a5054=>_0x3a5054[_0x11deae(0x2af)]&&_0x3a5054[_0x11deae(0x585)]);if(_0x1596b9[_0x11deae(0x624)]>0x0&&await this[_0x11deae(0x6a9)](_0x2cc73d[_0x11deae(0x2af)],_0x1596b9),_0x29f1a6['length']>0x0&&await this[_0x11deae(0x3f9)]({'_id':_0x2cc73d[_0x11deae(0x2af)],'messages':_0x29f1a6}),_0x41717f[_0x11deae(0x624)]>0x0){let _0x5e796e=_0x41717f[_0x11deae(0x506)](_0x5015e5=>({'updateOne':{'filter':{'_id':_0x2cc73d[_0x11deae(0x2af)]},'update':{'$pull':{'messages':{'_id':_0x5015e5[_0x11deae(0x2af)]}}}}}));await this['repository']['scheduleMessage']['bulkWrite'](_0x5e796e,this[_0x11deae(0x7f4)][_0x11deae(0x78d)]);}}let _0x5a5768={'$set':{..._0xa0cebd,'status':_0x2cc73d[_0x11deae(0x2be)]||_0x35ff92[_0x11deae(0x2be)]}},_0x3a0a20=await this[_0x11deae(0x76b)]['scheduleMessage'][_0x11deae(0x322)](_0x2cc73d[_0x11deae(0x2af)],_0x5a5768,this['instance']['wuid']);return _0x3a0a20&&(this[_0x11deae(0x152)](_0x3a0a20['messages']),await this[_0x11deae(0x76b)]['scheduleMessage']['updateOneById'](_0x3a0a20[_0x11deae(0x2af)],{'$set':{'messages':_0x3a0a20[_0x11deae(0x16d)]}},this[_0x11deae(0x7f4)][_0x11deae(0x78d)])),setTimeout(()=>this[_0x11deae(0x7cb)](),0x7d0),await this[_0x11deae(0x814)](),_0x3a0a20;}else{_0x2cc73d[_0x11deae(0x4c1)]=this[_0x11deae(0x7f4)][_0x11deae(0x78d)],_0x2cc73d[_0x11deae(0x16d)]&&_0x2cc73d[_0x11deae(0x16d)][_0x11deae(0x839)](_0x2f98aa=>{const _0xaad38d=_0x11deae;_0x2f98aa[_0xaad38d(0x2af)]||(_0x2f98aa[_0xaad38d(0x2af)]=(0x0,X['v4'])()),_0x2f98aa[_0xaad38d(0x53d)]||(_0x2f98aa[_0xaad38d(0x53d)]=_0x2cc73d[_0xaad38d(0x2af)]),delete _0x2f98aa[_0xaad38d(0x1fe)];});let _0x40d4d4=await this[_0x11deae(0x76b)][_0x11deae(0x4b8)][_0x11deae(0x18b)](_0x2cc73d,this['instance'][_0x11deae(0x78d)]);return _0x40d4d4&&(this['reorderMessages'](_0x40d4d4[_0x11deae(0x16d)]),await this[_0x11deae(0x76b)][_0x11deae(0x4b8)][_0x11deae(0x322)](_0x40d4d4['_id'],{'$set':{'messages':_0x40d4d4[_0x11deae(0x16d)]}},this['instance'][_0x11deae(0x78d)])),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x40d4d4;}}catch(_0x570f01){let _0x2852e7=_0x11deae(0x2d6),_0x66fd48=_0x570f01 instanceof Error?_0x570f01[_0x11deae(0x478)]:typeof _0x570f01==_0x11deae(0x307)?JSON['stringify'](_0x570f01):_0x570f01,_0x53a381=_0x2852e7+':\x20'+_0x66fd48;throw this[_0x11deae(0x224)][_0x11deae(0x15c)](this[_0x11deae(0x300)]+'\x20('+this['instance']['wuid']+_0x11deae(0x3d3)+_0x53a381),new m(_0x53a381);}}async[a0_0x75ac12(0x6a9)](_0x1f0e6c,_0x164381){const _0x561972=a0_0x75ac12;try{this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x561972(0x7f4)]['wuid']+_0x561972(0x830)),_0x164381['forEach'](_0x2e7a23=>{const _0x5e4867=_0x561972;_0x2e7a23[_0x5e4867(0x2af)]||(_0x2e7a23[_0x5e4867(0x2af)]=(0x0,X['v4'])()),_0x2e7a23[_0x5e4867(0x53d)]||(_0x2e7a23[_0x5e4867(0x53d)]=_0x1f0e6c),delete _0x2e7a23[_0x5e4867(0x1fe)];});let _0x4ac912={'$push':{'messages':{'$each':_0x164381}}},_0x277008=await this[_0x561972(0x76b)]['scheduleMessage'][_0x561972(0x322)](_0x1f0e6c,_0x4ac912,this[_0x561972(0x7f4)][_0x561972(0x78d)]);return _0x277008&&(this[_0x561972(0x152)](_0x277008[_0x561972(0x16d)]),await this[_0x561972(0x76b)][_0x561972(0x4b8)]['updateOneById'](_0x277008[_0x561972(0x2af)],{'$set':{'messages':_0x277008[_0x561972(0x16d)]}},this[_0x561972(0x7f4)][_0x561972(0x78d)])),_0x277008;}catch(_0x195def){let _0x2967ae=_0x561972(0x7a1),_0x434db5=_0x195def instanceof Error?_0x195def[_0x561972(0x478)]:typeof _0x195def==_0x561972(0x307)?JSON[_0x561972(0x53e)](_0x195def):_0x195def,_0x47cd73=_0x2967ae+':\x20'+_0x434db5;throw this['logger'][_0x561972(0x15c)](this[_0x561972(0x300)]+'\x20('+this[_0x561972(0x7f4)][_0x561972(0x78d)]+_0x561972(0x3d3)+_0x47cd73),new m(_0x47cd73);}}async[a0_0x75ac12(0x3f9)](_0x3a6998){const _0x26878d=a0_0x75ac12;try{if(this[_0x26878d(0x224)]['verbose'](this[_0x26878d(0x300)]+'\x20('+this[_0x26878d(0x7f4)][_0x26878d(0x78d)]+'):\x20Editando\x20mensagens\x20no\x20grupo...'),!_0x3a6998['_id']||!_0x3a6998[_0x26878d(0x16d)])throw new Error(_0x26878d(0x4ca));let _0x37664e=_0x3a6998['_id'],_0x36fc3f=_0x3a6998[_0x26878d(0x16d)],_0x423e18=_0x36fc3f['filter'](_0xf44c29=>!_0xf44c29['delete'])[_0x26878d(0x506)](_0x5bfefa=>{const _0x4ca4e7=_0x26878d;let _0x12d45c=_0x5bfefa['_id'];if(!_0x12d45c)throw new Error(_0x4ca4e7(0x17a));return _0x5bfefa[_0x4ca4e7(0x53d)]||(_0x5bfefa[_0x4ca4e7(0x53d)]=_0x37664e),delete _0x5bfefa[_0x4ca4e7(0x1fe)],{'updateOne':{'filter':{'_id':_0x37664e,'messages._id':_0x12d45c},'update':{'$set':{'messages.$[elem]':_0x5bfefa}},'arrayFilters':[{'elem._id':_0x12d45c}]}};}),_0x5d9aa0=_0x36fc3f[_0x26878d(0x82d)](_0x4e77af=>_0x4e77af['delete'])[_0x26878d(0x506)](_0x3c8d13=>{const _0x386b43=_0x26878d;let _0x226d88=_0x3c8d13[_0x386b43(0x2af)];if(!_0x226d88)throw new Error(_0x386b43(0x24e));return{'updateOne':{'filter':{'_id':_0x37664e},'update':{'$pull':{'messages':{'_id':_0x226d88}}}}};}),_0x308b48=[..._0x423e18,..._0x5d9aa0],_0x17a9e0=await this[_0x26878d(0x76b)][_0x26878d(0x4b8)][_0x26878d(0x362)](_0x308b48,this[_0x26878d(0x7f4)]['wuid']),_0x883b5e=await this['repository'][_0x26878d(0x4b8)][_0x26878d(0x2c8)](_0x37664e,this[_0x26878d(0x7f4)]['wuid']);return _0x883b5e&&(this[_0x26878d(0x152)](_0x883b5e['messages']),await this[_0x26878d(0x76b)][_0x26878d(0x4b8)][_0x26878d(0x322)](_0x883b5e['_id'],{'$set':{'messages':_0x883b5e[_0x26878d(0x16d)]}},this['instance']['wuid'])),_0x883b5e;}catch(_0x250894){let _0x3754f3=_0x26878d(0x606),_0x17f16e=_0x250894 instanceof Error?_0x250894[_0x26878d(0x478)]:typeof _0x250894=='object'?JSON['stringify'](_0x250894):_0x250894,_0x65a661=_0x3754f3+':\x20'+_0x17f16e;throw this[_0x26878d(0x224)][_0x26878d(0x15c)](this['instanceName']+'\x20('+this[_0x26878d(0x7f4)][_0x26878d(0x78d)]+_0x26878d(0x3d3)+_0x65a661),new m(_0x65a661);}}async[a0_0x75ac12(0x3c8)](){const _0x55b679=a0_0x75ac12;try{let _0xca7b66={'status':_0x55b679(0x7be)},_0x3233b7=await this[_0x55b679(0x76b)][_0x55b679(0x4b8)][_0x55b679(0x573)](_0xca7b66,this['instance'][_0x55b679(0x78d)]);if(!_0x3233b7[_0x55b679(0x15c)])this[_0x55b679(0x224)][_0x55b679(0x195)](this[_0x55b679(0x300)]+'\x20('+this[_0x55b679(0x7f4)][_0x55b679(0x78d)]+_0x55b679(0x345));else throw new Error(_0x3233b7['error'][_0x55b679(0x478)]||_0x55b679(0x7e1));return this[_0x55b679(0x433)]();}catch(_0x53fe22){let _0x3e5ee1=_0x55b679(0x444),_0x448bd1=_0x53fe22 instanceof Error?_0x53fe22['message']:typeof _0x53fe22==_0x55b679(0x307)?JSON['stringify'](_0x53fe22):_0x53fe22,_0x166bc9=_0x3e5ee1+':\x20'+_0x448bd1;throw this[_0x55b679(0x224)]['error'](this[_0x55b679(0x300)]+'\x20('+this['instance']['wuid']+_0x55b679(0x3d3)+_0x166bc9),new m(_0x166bc9);}}async[a0_0x75ac12(0x433)](){const _0x5ddb44=a0_0x75ac12;try{return await this['repository'][_0x5ddb44(0x4b8)][_0x5ddb44(0x1c3)]({'where':{}},this['instance']['wuid']);}catch(_0x26a7f0){let _0x15d357=_0x5ddb44(0x123),_0x56422d=_0x26a7f0 instanceof Error?_0x26a7f0[_0x5ddb44(0x478)]:typeof _0x26a7f0==_0x5ddb44(0x307)?JSON[_0x5ddb44(0x53e)](_0x26a7f0):_0x26a7f0,_0x52bee5=_0x15d357+':\x20'+_0x56422d;throw this[_0x5ddb44(0x224)][_0x5ddb44(0x15c)](this['instanceName']+'\x20('+this[_0x5ddb44(0x7f4)][_0x5ddb44(0x78d)]+'):\x20'+_0x52bee5),new m(_0x52bee5);}}[a0_0x75ac12(0x152)](_0xb8678e){const _0x195d0e=a0_0x75ac12;_0xb8678e[_0x195d0e(0x121)]((_0x330f42,_0x377961)=>_0x330f42['order']-_0x377961[_0x195d0e(0x2e3)]),_0xb8678e[_0x195d0e(0x839)]((_0x2d3f8f,_0x5cba16)=>{_0x2d3f8f['order']=_0x5cba16+0x1;});}async[a0_0x75ac12(0x3be)](_0x3d2bb8,_0x1fb251){const _0x44e8ba=a0_0x75ac12;try{if(!_0x1fb251)return this['logger'][_0x44e8ba(0x15c)](this[_0x44e8ba(0x300)]+'\x20('+this[_0x44e8ba(0x7f4)][_0x44e8ba(0x78d)]+'):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio'),{'error':!0x0,'detail':_0x44e8ba(0x5a9)};if(_0x1fb251['type']===_0x44e8ba(0x20a)&&!this['AutomateSystem']?.[_0x44e8ba(0x707)][_0x44e8ba(0x5db)])return this[_0x44e8ba(0x224)][_0x44e8ba(0x15c)](this[_0x44e8ba(0x300)]+'\x20('+this[_0x44e8ba(0x7f4)][_0x44e8ba(0x78d)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x1fb251[_0x44e8ba(0x791)]){case'text':return await this[_0x44e8ba(0x355)](_0x1fb251,_0x3d2bb8);case _0x44e8ba(0x1b1):case _0x44e8ba(0x466):case _0x44e8ba(0x2a0):return await this[_0x44e8ba(0x39a)](_0x1fb251,_0x3d2bb8);case'audio':return await this[_0x44e8ba(0x43b)](_0x1fb251,_0x3d2bb8);case _0x44e8ba(0x20a):let _0x2d8aee=new Ke();return _0x2d8aee[_0x44e8ba(0x537)]=_0x1fb251['flow'],_0x2d8aee[_0x44e8ba(0x323)]=_0x3d2bb8,await this[_0x44e8ba(0x7ca)](_0x2d8aee);default:return this[_0x44e8ba(0x224)][_0x44e8ba(0x15c)](this[_0x44e8ba(0x300)]+'\x20('+this[_0x44e8ba(0x7f4)][_0x44e8ba(0x78d)]+_0x44e8ba(0x26d)+_0x1fb251[_0x44e8ba(0x791)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x56a190){return this[_0x44e8ba(0x224)][_0x44e8ba(0x15c)](this[_0x44e8ba(0x300)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x56a190 instanceof Error?_0x56a190[_0x44e8ba(0x478)]:JSON['stringify'](_0x56a190,null,0x2))),{'error':!0x0,'detail':_0x56a190['message']};}}async['scheduleSendText'](_0x33c503,_0x55d6ec){const _0x4546ea=a0_0x75ac12;if(this['logger'][_0x4546ea(0x195)](this[_0x4546ea(0x300)]+'\x20('+this[_0x4546ea(0x7f4)][_0x4546ea(0x78d)]+_0x4546ea(0x260)+_0x55d6ec+'\x27'),!_0x33c503[_0x4546ea(0x105)]||_0x33c503[_0x4546ea(0x105)][_0x4546ea(0x624)]===0x0)return{'error':!0x0,'detail':_0x4546ea(0x568)};let _0x1cf780=await this['replaceVariablesChat'](_0x33c503[_0x4546ea(0x105)],_0x55d6ec),_0x44c554={'number':_0x55d6ec,'options':{'delay':_0x33c503[_0x4546ea(0x561)],'linkPreview':_0x33c503[_0x4546ea(0x23f)]},'textMessage':{'text':_0x1cf780}},_0x283684=null;try{let _0x32aeca=await this[_0x4546ea(0x21c)](_0x44c554);if(_0x32aeca&&_0x32aeca[_0x4546ea(0x2be)])return{'error':!0x1,'id':_0x32aeca[_0x4546ea(0x2c4)]['id']};_0x283684=JSON['stringify'](_0x32aeca),this['logger'][_0x4546ea(0x195)](this[_0x4546ea(0x300)]+'\x20('+this['instance'][_0x4546ea(0x78d)]+_0x4546ea(0x3d3)+_0x283684);}catch(_0x26baef){this[_0x4546ea(0x224)][_0x4546ea(0x15c)](this[_0x4546ea(0x300)]+'\x20('+this[_0x4546ea(0x7f4)][_0x4546ea(0x78d)]+_0x4546ea(0x460)+(_0x26baef instanceof Error?_0x26baef['message']:JSON[_0x4546ea(0x53e)](_0x26baef,null,0x2))),_0x283684=_0x26baef['message'];}if(_0x283684)return{'error':!0x0,'detail':(typeof _0x283684==_0x4546ea(0x307)?JSON[_0x4546ea(0x53e)](_0x283684,null,0x2):_0x283684)['replace'](/[\[\]{}\n]/g,'\x20')[_0x4546ea(0x154)](/  +/g,'\x20')};}async[a0_0x75ac12(0x39a)](_0xe52887,_0x39fa3f){const _0x4ed2ff=a0_0x75ac12;this[_0x4ed2ff(0x224)][_0x4ed2ff(0x195)](this['instanceName']+'\x20('+this[_0x4ed2ff(0x7f4)]['wuid']+_0x4ed2ff(0x5d8)+_0x39fa3f+'\x27');let _0x490a47;_0xe52887[_0x4ed2ff(0x105)]&&_0xe52887[_0x4ed2ff(0x105)][_0x4ed2ff(0x624)]>0x0&&(_0x490a47=await this[_0x4ed2ff(0x82e)](_0xe52887['text'],_0x39fa3f));let _0x3d33f0={'number':_0x39fa3f,'options':{'delay':_0xe52887[_0x4ed2ff(0x561)],'linkPreview':_0xe52887['linkPreview']},'mediaMessage':{'mediatype':_0xe52887[_0x4ed2ff(0x791)],'caption':_0x490a47,'media':_0xe52887[_0x4ed2ff(0x477)]}},_0x3d0b1b=null;try{let _0x2699d4=await this['mediaMessage'](_0x3d33f0);if(_0x2699d4&&_0x2699d4['status'])return{'error':!0x1,'id':_0x2699d4[_0x4ed2ff(0x2c4)]['id']};_0x3d0b1b=JSON[_0x4ed2ff(0x53e)](_0x2699d4),this[_0x4ed2ff(0x224)][_0x4ed2ff(0x195)](this[_0x4ed2ff(0x300)]+'\x20('+this['instance'][_0x4ed2ff(0x78d)]+_0x4ed2ff(0x3d3)+_0x3d0b1b);}catch(_0x320c6f){this[_0x4ed2ff(0x224)][_0x4ed2ff(0x15c)](this[_0x4ed2ff(0x300)]+'\x20('+this['instance']['wuid']+_0x4ed2ff(0x532)+(_0x320c6f instanceof Error?_0x320c6f[_0x4ed2ff(0x478)]:JSON[_0x4ed2ff(0x53e)](_0x320c6f,null,0x2))),_0x3d0b1b=_0x320c6f['message'];}if(_0x3d0b1b)return{'error':!0x0,'detail':(typeof _0x3d0b1b==_0x4ed2ff(0x307)?JSON[_0x4ed2ff(0x53e)](_0x3d0b1b,null,0x2):_0x3d0b1b)[_0x4ed2ff(0x154)](/[\[\]{}\n]/g,'\x20')[_0x4ed2ff(0x154)](/  +/g,'\x20')};}async['scheduleSendAudio'](_0x245847,_0x1a2838){const _0x280373=a0_0x75ac12;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x280373(0x7f4)][_0x280373(0x78d)]+'):\x20\x27Enviando\x20audio\x20para\x20\x27'+_0x1a2838+'\x27');let _0x340bd1={'number':_0x1a2838,'options':{'delay':_0x245847['delay']},'audioMessage':{'audio':_0x245847[_0x280373(0x477)]}},_0x5c4de4=null;try{let _0x5d2b8f=await this['audioWhatsapp'](_0x340bd1);if(_0x5d2b8f&&_0x5d2b8f['status'])return{'error':!0x1,'id':_0x5d2b8f[_0x280373(0x2c4)]['id']};_0x5c4de4=JSON['stringify'](_0x5d2b8f),this['logger'][_0x280373(0x195)](this[_0x280373(0x300)]+'\x20('+this[_0x280373(0x7f4)][_0x280373(0x78d)]+_0x280373(0x3d3)+_0x5c4de4);}catch(_0x5b65d6){this[_0x280373(0x224)][_0x280373(0x15c)](this[_0x280373(0x300)]+'\x20('+this[_0x280373(0x7f4)][_0x280373(0x78d)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x5b65d6 instanceof Error?_0x5b65d6[_0x280373(0x478)]:JSON[_0x280373(0x53e)](_0x5b65d6,null,0x2))),_0x5c4de4=_0x5b65d6[_0x280373(0x478)];}if(_0x5c4de4)return{'error':!0x0,'detail':(typeof _0x5c4de4=='object'?JSON['stringify'](_0x5c4de4,null,0x2):_0x5c4de4)[_0x280373(0x154)](/[\[\]{}\n]/g,'\x20')[_0x280373(0x154)](/  +/g,'\x20')};}async[a0_0x75ac12(0x7a8)](_0x5135a2){const _0x29611b=a0_0x75ac12;try{return await this[_0x29611b(0x62e)]['groupUpdateDescription'](_0x5135a2[_0x29611b(0x665)],_0x5135a2['description']),{'update':'success'};}catch(_0x4af75e){let _0x570f69=_0x29611b(0x136),_0x1b8bfd=_0x4af75e instanceof Error?_0x4af75e['message']:typeof _0x4af75e==_0x29611b(0x307)?JSON['stringify'](_0x4af75e):_0x4af75e,_0x195143=_0x570f69+':\x20'+_0x1b8bfd;throw this[_0x29611b(0x224)][_0x29611b(0x15c)](this[_0x29611b(0x300)]+'\x20('+this['instance'][_0x29611b(0x78d)]+_0x29611b(0x3d3)+_0x195143),new x(_0x195143);}}async[a0_0x75ac12(0x67c)](_0x501133){const _0x8d7ce0=a0_0x75ac12;try{return await this[_0x8d7ce0(0x62e)]['groupUpdateSubject'](_0x501133[_0x8d7ce0(0x665)],_0x501133[_0x8d7ce0(0x537)]),{'update':_0x8d7ce0(0x30f)};}catch(_0x59579a){let _0x360c95=_0x8d7ce0(0x7b4),_0x2769c3=_0x59579a instanceof Error?_0x59579a['message']:typeof _0x59579a==_0x8d7ce0(0x307)?JSON[_0x8d7ce0(0x53e)](_0x59579a):_0x59579a,_0x555957=_0x360c95+':\x20'+_0x2769c3;throw this[_0x8d7ce0(0x224)]['error'](this[_0x8d7ce0(0x300)]+'\x20('+this['instance'][_0x8d7ce0(0x78d)]+_0x8d7ce0(0x3d3)+_0x555957),new x(_0x555957);}}async[a0_0x75ac12(0x7c4)](_0x227210){const _0x27e682=a0_0x75ac12;try{let _0x53db20=await this['client'][_0x27e682(0x625)](_0x227210[_0x27e682(0x665)],_0x227210[_0x27e682(0x831)]);return{'success':!0x0};}catch(_0x166a24){let _0x538b2e='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x16eee4=_0x166a24 instanceof Error?_0x166a24[_0x27e682(0x478)]:typeof _0x166a24==_0x27e682(0x307)?JSON['stringify'](_0x166a24):_0x166a24,_0x2ab2da=_0x538b2e+':\x20'+_0x16eee4;throw this[_0x27e682(0x224)][_0x27e682(0x15c)](this[_0x27e682(0x300)]+'\x20('+this[_0x27e682(0x7f4)][_0x27e682(0x78d)]+_0x27e682(0x3d3)+_0x2ab2da),new x(_0x2ab2da);}}async['groupSetting'](_0x3c4c43){const _0x254589=a0_0x75ac12;try{return await this[_0x254589(0x62e)][_0x254589(0x556)](_0x3c4c43[_0x254589(0x665)],_0x3c4c43['setting']),{'update':_0x254589(0x30f)};}catch(_0x22dba1){let _0x4b53f9='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0x3e38a2=_0x22dba1 instanceof Error?_0x22dba1['message']:typeof _0x22dba1=='object'?JSON[_0x254589(0x53e)](_0x22dba1):_0x22dba1,_0x3caa2f=_0x4b53f9+':\x20'+_0x3e38a2;throw this['logger'][_0x254589(0x15c)](this['instanceName']+'\x20('+this[_0x254589(0x7f4)]['wuid']+_0x254589(0x3d3)+_0x3caa2f),new x(_0x3caa2f);}}async[a0_0x75ac12(0x310)](_0x3bdc22){const _0x18a4d6=a0_0x75ac12;try{let _0x2995fc;if((0x0,L[_0x18a4d6(0x520)])(_0x3bdc22['image'])){let _0x48ddfe=new Date()[_0x18a4d6(0x353)](),_0x9c817f=_0x3bdc22[_0x18a4d6(0x466)]+'?timestamp='+_0x48ddfe;_0x2995fc=(await te[_0x18a4d6(0x636)]['get'](_0x9c817f,{'responseType':_0x18a4d6(0x20d)}))[_0x18a4d6(0x3d8)];}else{if((0x0,L['isBase64'])(_0x3bdc22['image']))_0x2995fc=Buffer[_0x18a4d6(0x47f)](_0x3bdc22['image'],_0x18a4d6(0x6d5));else throw new m(_0x18a4d6(0x191));}return await this[_0x18a4d6(0x62e)][_0x18a4d6(0x30a)](_0x3bdc22[_0x18a4d6(0x665)],_0x2995fc),{'update':'success'};}catch(_0x823ccb){let _0x2e14f0='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture',_0x5efed5=_0x823ccb instanceof Error?_0x823ccb[_0x18a4d6(0x478)]:typeof _0x823ccb==_0x18a4d6(0x307)?JSON[_0x18a4d6(0x53e)](_0x823ccb):_0x823ccb,_0x273ec3=_0x2e14f0+':\x20'+_0x5efed5;throw this[_0x18a4d6(0x224)][_0x18a4d6(0x15c)](this[_0x18a4d6(0x300)]+'\x20('+this['instance'][_0x18a4d6(0x78d)]+_0x18a4d6(0x3d3)+_0x273ec3),new x(_0x273ec3);}}},Bt=class u{constructor(_0xa5315d,_0x174793,_0x2a4c8c){const _0x4845a7=a0_0x75ac12;this[_0x4845a7(0x759)]=_0xa5315d,this['configService']=_0x174793,this[_0x4845a7(0x76b)]=_0x2a4c8c,this['db']={},this[_0x4845a7(0x1e3)]={},this[_0x4845a7(0x224)]=new $(u['name']),this['waInstances']={},(this[_0x4845a7(0x11a)](),this[_0x4845a7(0x4c8)](),Object[_0x4845a7(0x414)](this['db'],_0x174793['get'](_0x4845a7(0x6f3))),Object[_0x4845a7(0x414)](this[_0x4845a7(0x1e3)],_0x174793[_0x4845a7(0x407)](_0x4845a7(0x837))),this['dbInstance']=this['db'][_0x4845a7(0x69f)]?this[_0x4845a7(0x76b)][_0x4845a7(0x71e)]?.['db'](this['db']['CONNECTION'][_0x4845a7(0x54f)]+_0x4845a7(0x424)):void 0x0,this[_0x4845a7(0x66b)]=this[_0x4845a7(0x1e3)]['ENABLED']?new ge(this[_0x4845a7(0x1e3)]):void 0x0);}async[a0_0x75ac12(0x6fb)](_0xf205bc){const _0x494c4b=a0_0x75ac12;if(_0xf205bc&&!this['waInstances'][_0xf205bc])throw new J(_0x494c4b(0x5b3)+_0xf205bc+_0x494c4b(0x1e4));let _0x561886=[];for await(let [_0x5cb31c,_0x39675d]of Object[_0x494c4b(0x173)](this[_0x494c4b(0x72c)]))if(_0x39675d&&_0x39675d[_0x494c4b(0x64c)][_0x494c4b(0x41d)]===_0x494c4b(0x61c)){let _0xb2c786=await this[_0x494c4b(0x76b)][_0x494c4b(0x7f7)][_0x494c4b(0x1c3)](_0x5cb31c);_0x561886[_0x494c4b(0x6e9)]({'instance':{'instanceName':_0x5cb31c,'apikey':_0xb2c786[_0x494c4b(0x2b2)],'owner':_0x39675d['wuid'],'profileName':await _0x39675d['getProfileName']()||'not\x20loaded','profilePictureUrl':_0x39675d[_0x494c4b(0x3a3)]}});}return _0x561886['find'](_0x2b2f94=>_0x2b2f94[_0x494c4b(0x7f4)][_0x494c4b(0x300)]===_0xf205bc)??_0x561886;}async[a0_0x75ac12(0x5c5)](_0x20555f){const _0x1f5f0a=a0_0x75ac12;if(this['db'][_0x1f5f0a(0x69f)]&&(await this['repository']['dbServer'][_0x1f5f0a(0x2a7)](),(await this[_0x1f5f0a(0x3db)][_0x1f5f0a(0x4aa)]())[_0x1f5f0a(0x624)]>0x0&&await this['dbInstance'][_0x1f5f0a(0x142)](_0x20555f)),this[_0x1f5f0a(0x1e3)][_0x1f5f0a(0x69f)]){this[_0x1f5f0a(0x66b)]['reference']=_0x20555f,await this['cache']['delAll']();return;}}async[a0_0x75ac12(0xf1)](){const _0x28b69d=a0_0x75ac12;await this[_0x28b69d(0x736)]();let _0x69a406=async _0x401604=>{const _0x34811f=_0x28b69d;let _0x1529cf=new Re(this[_0x34811f(0x846)],this[_0x34811f(0x759)],this[_0x34811f(0x76b)]);_0x1529cf[_0x34811f(0x300)]=_0x401604,await _0x1529cf[_0x34811f(0x632)](),this[_0x34811f(0x72c)][_0x401604]=_0x1529cf;};try{if(this[_0x28b69d(0x1e3)][_0x28b69d(0x69f)]){let _0x9f4eb9=await this['cache']['instanceKeys']();_0x9f4eb9?.[_0x28b69d(0x624)]>0x0&&_0x9f4eb9['forEach'](async _0x4a68cb=>await _0x69a406(_0x4a68cb[_0x28b69d(0x170)](':')[0x1]));return;}if(this['db'][_0x28b69d(0x69f)]){await this['repository'][_0x28b69d(0x71e)][_0x28b69d(0x2a7)]();let _0xdce9e4=await this['dbInstance']['collections']();_0xdce9e4[_0x28b69d(0x624)]>0x0&&_0xdce9e4[_0x28b69d(0x839)](async _0x4fade0=>await _0x69a406(_0x4fade0[_0x28b69d(0x602)][_0x28b69d(0x154)](/^[\w-]+\./,'')));return;}}catch(_0xd59aac){this[_0x28b69d(0x224)][_0x28b69d(0x15c)](_0xd59aac);}}async[a0_0x75ac12(0x4ae)](){const _0x4a1999=a0_0x75ac12;try{let _0x4a7a61=await this[_0x4a1999(0x76b)][_0x4a1999(0x7f7)][_0x4a1999(0x2dd)]({'online':!0x1});for(let _0x46aafa of _0x4a7a61){let _0x3f620e=_0x46aafa[_0x4a1999(0x2af)];await re[_0x4a1999(0x449)](K,_0x3f620e);}console['log'](_0x4a1999(0x436)+_0x4a7a61[_0x4a1999(0x624)]);let _0x35fc28={'online':!0x1},_0x56b616=await this[_0x4a1999(0x76b)][_0x4a1999(0x7f7)][_0x4a1999(0x573)](_0x35fc28);console[_0x4a1999(0x54b)](_0x4a1999(0x15f)+_0x56b616['insertCount']);}catch(_0x32554f){console[_0x4a1999(0x15c)](_0x4a1999(0x521),_0x32554f);}}async[a0_0x75ac12(0x736)](){const _0x7cdb5c=a0_0x75ac12;try{let _0x946f81={'online':!0x1},_0x51e84c={'online':!0x1,'lastDisconnect':Date[_0x7cdb5c(0x505)]()},_0xa87592=await this[_0x7cdb5c(0x76b)]['auth'][_0x7cdb5c(0x4cf)](_0x946f81,_0x51e84c);await this[_0x7cdb5c(0x4ae)]();}catch(_0x2df6d1){console[_0x7cdb5c(0x15c)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x2df6d1);}}[a0_0x75ac12(0x11a)](){const _0x36675e=a0_0x75ac12;this[_0x36675e(0x759)]['on']('remove.instance',async _0x3e99e3=>{const _0x141e89=_0x36675e;try{this[_0x141e89(0x72c)][_0x3e99e3]=void 0x0;}catch{}try{this[_0x141e89(0x5c5)](_0x3e99e3);}finally{this['logger'][_0x141e89(0x7bf)](_0x141e89(0x5b3)+_0x3e99e3+_0x141e89(0x69a));}});}['noConnection'](){const _0x725370=a0_0x75ac12;this[_0x725370(0x759)]['on'](_0x725370(0x6b5),async _0x43113f=>{const _0x1a67ab=_0x725370;try{this[_0x1a67ab(0x72c)][_0x43113f]=void 0x0;}catch{}try{this[_0x1a67ab(0x5c5)](_0x43113f);}finally{this[_0x1a67ab(0x224)][_0x1a67ab(0x7bf)](_0x1a67ab(0x5b3)+_0x43113f+_0x1a67ab(0x43f));}});}},Wt=class extends _{[a0_0x75ac12(0x3a7)](_0x422d7d){return aa(_0x422d7d);}async[a0_0x75ac12(0x2bd)](_0x43882b){const _0x6f1ce7=a0_0x75ac12;if(_0x43882b[_0x6f1ce7(0x624)]!==0x0)try{return{'insertCount':(await this[_0x6f1ce7(0x3a7)](_0x43882b[0x0]['owner'])['insertMany']([..._0x43882b]))[_0x6f1ce7(0x624)]};}catch(_0x1c5949){return _0x1c5949;}}async[a0_0x75ac12(0x1c3)](_0x643385,_0x1681ca){const _0x16383b=a0_0x75ac12;try{let _0x2542d9=this[_0x16383b(0x3a7)](_0x1681ca),_0x43e25e=A(_0x643385[_0x16383b(0x1b8)]);return await _0x2542d9['find'](_0x43e25e)[_0x16383b(0x121)]({'lastmsg':-0x1})[_0x16383b(0x1de)](_0x643385?.[_0x16383b(0x1de)]??0x0)[_0x16383b(0x39b)]();}catch{return[];}}async[a0_0x75ac12(0x188)](_0x2c3b2e,_0x3a0562){const _0x36f13f=a0_0x75ac12;try{let _0x3c5b4f=this['getChatModelForOwner'](_0x3a0562),_0x2a2a29=A(_0x2c3b2e[_0x36f13f(0x1b8)]);return _0x2a2a29[_0x36f13f(0x724)]={'$ne':[]},await _0x3c5b4f[_0x36f13f(0x1c3)](_0x2a2a29)['sort']({'lastmsg':-0x1})[_0x36f13f(0x1de)](_0x2c3b2e?.['limit']??0x0)[_0x36f13f(0x39b)]();}catch{return[];}}async['delete'](_0x1892b2,_0x3e849b){const _0x8e8e08=a0_0x75ac12;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x3e849b)[_0x8e8e08(0x573)]({..._0x1892b2[_0x8e8e08(0x1b8)]}))[_0x8e8e08(0x55f)]};}catch(_0x35c688){return{'error':_0x35c688?.['toString']()};}}async[a0_0x75ac12(0x74c)](_0x2f2eea,_0x1b7262){const _0x4ba5d9=a0_0x75ac12;try{return await this['getChatModelForOwner'](_0x1b7262)[_0x4ba5d9(0x573)]({..._0x2f2eea[_0x4ba5d9(0x1b8)]}),[];}catch(_0x28cdd2){return{'error':_0x28cdd2?.[_0x4ba5d9(0x7ce)]()};}}async['findOne'](_0x110c69,_0x20571d){const _0x2ccc0e=a0_0x75ac12;try{let _0x369be2=this[_0x2ccc0e(0x3a7)](_0x20571d),_0x4492d5=A(_0x110c69[_0x2ccc0e(0x1b8)]);return await _0x369be2[_0x2ccc0e(0x4a6)](_0x4492d5)[_0x2ccc0e(0x39b)]();}catch{return null;}}async['updateOne'](_0x35f4d3,_0x594d94,_0x2f2424,_0x4c4147,_0x3fdbb8=a0_0x75ac12(0x5d7)){const _0x3c6caa=a0_0x75ac12;try{let _0x5ea6dc={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4c4147},_0x57e599=this['getChatModelForOwner'](_0x2f2424),_0x3f3151=A(_0x35f4d3['where']);Object[_0x3c6caa(0x58e)](_0x594d94)[_0x3c6caa(0x839)](_0x544db7=>{_0x594d94[_0x544db7]==null&&delete _0x594d94[_0x544db7];});let _0xf311f6={};return _0xf311f6[_0x3fdbb8]=_0x594d94,await _0x57e599['findOneAndUpdate'](_0x3f3151,_0xf311f6,_0x5ea6dc);}catch(_0x50b9cd){return console[_0x3c6caa(0x15c)](_0x50b9cd),null;}}async[a0_0x75ac12(0xfe)](_0x5c2f0f){const _0x37415a=a0_0x75ac12;try{let _0x5aa81b=this['getChatModelForOwner'](_0x5c2f0f[0x0][_0x37415a(0x6bf)][_0x37415a(0x1b8)][_0x37415a(0x4c1)]),_0x277893=_0x5c2f0f[_0x37415a(0x506)](_0x425aa1=>({'updateOne':{'filter':{..._0x425aa1[_0x37415a(0x6bf)][_0x37415a(0x1b8)]},'update':{'$set':_0x425aa1[_0x37415a(0x829)]},'upsert':!0x0}})),_0x121c1b=await _0x5aa81b[_0x37415a(0x362)](_0x277893);return _0x121c1b['modifiedCount']+_0x121c1b[_0x37415a(0x594)];}catch(_0x474607){return console[_0x37415a(0x15c)](_0x474607),0x0;}}async[a0_0x75ac12(0x346)](_0x5455b8){const _0x584856=a0_0x75ac12;try{let _0x3ecd3f={'group_isCommunity':'','group_announce':'','group_size':''},_0x397c1f={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x3f22e1={'$unset':_0x3ecd3f};return(await this[_0x584856(0x3a7)](_0x5455b8)[_0x584856(0xfe)](_0x397c1f,_0x3f22e1))[_0x584856(0x213)];}catch(_0x250a36){return console[_0x584856(0x15c)](_0x584856(0x312),_0x250a36),0x0;}}async[a0_0x75ac12(0x4eb)](_0x3c192b){const _0xf47931=a0_0x75ac12;try{let _0x1c7d62=this['getChatModelForOwner'](_0x3c192b),_0x135e98={'leadInfo.etiquetas':{'$exists':!0x1}},_0x576445={'$set':{'leadInfo.etiquetas':[]}};return(await _0x1c7d62[_0xf47931(0xfe)](_0x135e98,_0x576445))[_0xf47931(0x213)];}catch(_0x48ba51){return console[_0xf47931(0x15c)](_0x48ba51),0x0;}}async[a0_0x75ac12(0x21a)](_0x5168f3){const _0x99824d=a0_0x75ac12;try{let _0x52faee=this[_0x99824d(0x3a7)](_0x5168f3),_0x377ca5={'leadInfo.tags':{'$exists':!0x1}},_0x2130a6={'$set':{'leadInfo.tags':[]}};return(await _0x52faee[_0x99824d(0xfe)](_0x377ca5,_0x2130a6))[_0x99824d(0x213)];}catch(_0x1869c4){return console[_0x99824d(0x15c)](_0x1869c4),0x0;}}async[a0_0x75ac12(0x31f)](_0x580d74){const _0x442405=a0_0x75ac12;try{let _0x27aa26=this[_0x442405(0x3a7)](_0x580d74),_0x2a1c4e={'leadInfo.customFields':{'$exists':!0x1}},_0xfc063d={'$set':{'leadInfo.customFields':[]}};return(await _0x27aa26[_0x442405(0xfe)](_0x2a1c4e,_0xfc063d))[_0x442405(0x213)];}catch(_0x377abe){return console['error'](_0x377abe),0x0;}}async[a0_0x75ac12(0x63a)](_0xbe72d7,_0x253741){const _0x49d9cd=a0_0x75ac12;if(!Array[_0x49d9cd(0x435)](_0xbe72d7)||_0xbe72d7[_0x49d9cd(0x624)]===0x0)throw new Error(_0x49d9cd(0x63e));try{return(await this['getChatModelForOwner'](_0x253741)[_0x49d9cd(0x63a)](_0xbe72d7))[_0x49d9cd(0x624)];}catch(_0x44e2db){throw console[_0x49d9cd(0x15c)](_0x49d9cd(0x2a1),_0x44e2db),_0x44e2db;}}async[a0_0x75ac12(0x1cf)](_0x3b32b5,_0x35314d){const _0xdf71c1=a0_0x75ac12;try{await this[_0xdf71c1(0x3a7)](_0x35314d)[_0xdf71c1(0x1d1)]({'_id':_0x3b32b5});}catch(_0x3ff401){throw console[_0xdf71c1(0x15c)](_0xdf71c1(0x393),_0x3ff401),_0x3ff401;}}},zt=class extends _{constructor(_0x3d8228,_0x515a4f,_0x240f54){const _0x15bed8=a0_0x75ac12;super(_0x515a4f),this['cacheContactModel']=_0x3d8228,this['configService']=_0x515a4f,this[_0x15bed8(0x253)]=_0x240f54;}async[a0_0x75ac12(0x2bd)](_0xadf236){const _0x5f007a=a0_0x75ac12;if(_0xadf236['length']!==0x0)try{return{'insertCount':(await this[_0x5f007a(0x2f2)][_0x5f007a(0x63a)]([..._0xadf236]))[_0x5f007a(0x624)]};}catch(_0x272e81){return _0x272e81;}}async[a0_0x75ac12(0x829)](_0xc47cbe,_0x42a041){const _0x52b8e6=a0_0x75ac12;try{let _0x3e933d=A(_0xc47cbe[_0x52b8e6(0x1b8)]);return{'updatedCount':(await this[_0x52b8e6(0x2f2)]['updateMany'](_0x3e933d,{'$set':_0x42a041}))[_0x52b8e6(0x213)]};}catch(_0x474b0e){return console[_0x52b8e6(0x15c)]('Error\x20updating\x20cache\x20contact:',_0x474b0e),{'error':_0x474b0e[_0x52b8e6(0x7ce)]()};}}async['findManyByIds'](_0xb97f0b){const _0x1afc12=a0_0x75ac12;try{let _0xde9bbb={'_id':{'$in':_0xb97f0b}};return await this[_0x1afc12(0x2f2)][_0x1afc12(0x1c3)](_0xde9bbb)[_0x1afc12(0x39b)]();}catch(_0x27ef14){return console['error']('Error\x20finding\x20many\x20contacts:',_0x27ef14),[];}}async[a0_0x75ac12(0x585)](_0x584159){const _0x120dcb=a0_0x75ac12;try{return{'deletedCount':(await this['cacheContactModel'][_0x120dcb(0x573)]({..._0x584159[_0x120dcb(0x1b8)]}))[_0x120dcb(0x55f)]};}catch(_0x45016c){return{'error':_0x45016c?.[_0x120dcb(0x7ce)]()};}}async[a0_0x75ac12(0x1c3)](_0x5c1dca){const _0x4be824=a0_0x75ac12;try{let _0x1a1b40=A(_0x5c1dca['where']);return await this[_0x4be824(0x2f2)]['find'](_0x1a1b40)[_0x4be824(0x1de)](_0x5c1dca?.[_0x4be824(0x1de)]??0x0)['lean']();}catch{return[];}}async['findOne'](_0x3d3e09){const _0x3a76fc=a0_0x75ac12;try{let _0xd7386e=A(_0x3d3e09[_0x3a76fc(0x1b8)]);return await this[_0x3a76fc(0x2f2)][_0x3a76fc(0x4a6)](_0xd7386e)[_0x3a76fc(0x39b)]();}catch{return null;}}},Ht=class extends _{[a0_0x75ac12(0x722)](_0x47c261){return Na(_0x47c261);}async['updateOne'](_0x171ed7,_0x3b47fa,_0x9c41b7,_0x3d8b7f){const _0x3d7962=a0_0x75ac12;try{let _0x511977={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x3d8b7f},_0x3d08b7=this[_0x3d7962(0x722)](_0x9c41b7),_0x1a2797=A(_0x171ed7[_0x3d7962(0x1b8)]);return await _0x3d08b7[_0x3d7962(0x34b)](_0x1a2797,{'$set':_0x3b47fa},_0x511977);}catch(_0x49b850){return console[_0x3d7962(0x15c)](_0x49b850),null;}}async[a0_0x75ac12(0x1c3)](_0x44cfe7,_0x3804d8){const _0x54f59b=a0_0x75ac12;try{let _0x5e49f0=this['getLabelModelForOwner'](_0x3804d8),_0x25ccef=A(_0x44cfe7[_0x54f59b(0x1b8)]);return await _0x5e49f0[_0x54f59b(0x1c3)](_0x25ccef);}catch(_0x18f528){console[_0x54f59b(0x15c)](_0x18f528);}}async['delete'](_0x442cf4,_0x551f65){const _0x25b2e5=a0_0x75ac12;try{let _0x2332ac=this[_0x25b2e5(0x722)](_0x551f65),_0x52b8dc=A(_0x442cf4[_0x25b2e5(0x1b8)]);await _0x2332ac['deleteMany'](_0x52b8dc);}catch(_0xd0706a){console[_0x25b2e5(0x15c)](_0xd0706a);}}async[a0_0x75ac12(0x74c)](_0x57be73){const _0x10593d=a0_0x75ac12;try{return await this[_0x10593d(0x722)](_0x57be73)[_0x10593d(0x6b4)]['drop'](),{'success':!0x0};}catch(_0x1194c4){return console['error'](_0x1194c4),{'success':!0x1,'error':_0x1194c4};}}},Kt=class{constructor(_0x2fefcc){const _0x35b37a=a0_0x75ac12;this[_0x35b37a(0x3b6)]=_0x2fefcc;}async[a0_0x75ac12(0x584)]({instanceName:_0x3a399f},_0x44d217){const _0x3473c4=a0_0x75ac12;return await this[_0x3473c4(0x3b6)][_0x3473c4(0x72c)][_0x3a399f]['editChat'](_0x44d217);}async[a0_0x75ac12(0x647)]({instanceName:_0xe299c0},_0x45023e){const _0x44479b=a0_0x75ac12;return await this[_0x44479b(0x3b6)][_0x44479b(0x72c)][_0xe299c0]['whatsappNumber'](_0x45023e);}async[a0_0x75ac12(0x81a)]({instanceName:_0x2df41a},_0x5a0e7){const _0x36ee9b=a0_0x75ac12;return await this[_0x36ee9b(0x3b6)][_0x36ee9b(0x72c)][_0x2df41a]['importChats'](_0x5a0e7);}async[a0_0x75ac12(0x3e1)]({instanceName:_0x4c51fc},_0x380ca4){const _0x45ba21=a0_0x75ac12;return await this[_0x45ba21(0x3b6)][_0x45ba21(0x72c)][_0x4c51fc][_0x45ba21(0x3a1)](_0x380ca4);}async[a0_0x75ac12(0x60c)]({instanceName:_0x42d35b},_0x37c6e2){const _0x2b91b1=a0_0x75ac12;return await this[_0x2b91b1(0x3b6)]['waInstances'][_0x42d35b][_0x2b91b1(0x60c)](_0x37c6e2);}async['deleteMessage']({instanceName:_0x8aec45},_0x55184c){const _0xd89378=a0_0x75ac12;return await this['waMonitor'][_0xd89378(0x72c)][_0x8aec45]['deleteMessage'](_0x55184c);}async[a0_0x75ac12(0x2c5)]({instanceName:_0x23054e},_0x13a2ea){const _0x620d3d=a0_0x75ac12;return await this[_0x620d3d(0x3b6)][_0x620d3d(0x72c)][_0x23054e][_0x620d3d(0x6f2)](_0x13a2ea[_0x620d3d(0x3b8)]);}async['fetchProfile']({instanceName:_0x5d8ed7},_0x4b2124){const _0x17219a=a0_0x75ac12;return await this[_0x17219a(0x3b6)][_0x17219a(0x72c)][_0x5d8ed7]['fetchProfile'](_0x4b2124[_0x17219a(0x3b8)]);}async['updatePresence']({instanceName:_0x3a00ea},_0xf84749){const _0x2bd52e=a0_0x75ac12;return await this[_0x2bd52e(0x3b6)][_0x2bd52e(0x72c)][_0x3a00ea][_0x2bd52e(0x3fd)](_0xf84749);}async['fetchContacts']({instanceName:_0xa053c1},_0x5d9d17){const _0x5cf411=a0_0x75ac12;return await this[_0x5cf411(0x3b6)][_0x5cf411(0x72c)][_0xa053c1][_0x5cf411(0x608)](_0x5d9d17);}async[a0_0x75ac12(0x4fa)]({instanceName:_0x2414fd},_0x7b8fe7){const _0x45f3d9=a0_0x75ac12;return await this['waMonitor']['waInstances'][_0x2414fd][_0x45f3d9(0x4fa)](_0x7b8fe7);}async['fetchMessages']({instanceName:_0xbf5508},_0x161cd2){const _0x5621d4=a0_0x75ac12;return await this[_0x5621d4(0x3b6)][_0x5621d4(0x72c)][_0xbf5508][_0x5621d4(0x35b)](_0x161cd2);}async[a0_0x75ac12(0x4e2)]({instanceName:_0x5446a8}){const _0x498a05=a0_0x75ac12;return await this[_0x498a05(0x3b6)][_0x498a05(0x72c)][_0x5446a8][_0x498a05(0x4e2)]();}async['fetchChats']({instanceName:_0x460b03}){const _0x4a7a0f=a0_0x75ac12;return await this[_0x4a7a0f(0x3b6)][_0x4a7a0f(0x72c)][_0x460b03]['fetchChats']();}async['fetchPrivacySettings']({instanceName:_0x3c4368}){const _0x6ebbc2=a0_0x75ac12;return await this[_0x6ebbc2(0x3b6)][_0x6ebbc2(0x72c)][_0x3c4368]['fetchPrivacySettings']();}async['updatePrivacySettings']({instanceName:_0x48a5a3},_0x26f7c){const _0x21ad9e=a0_0x75ac12;return await this['waMonitor']['waInstances'][_0x48a5a3][_0x21ad9e(0x644)](_0x26f7c);}async[a0_0x75ac12(0x2a5)]({instanceName:_0x119201},_0x3c1284){const _0x319189=a0_0x75ac12;return await this[_0x319189(0x3b6)][_0x319189(0x72c)][_0x119201][_0x319189(0x2a5)](_0x3c1284[_0x319189(0x3b8)]);}async['updateProfileName']({instanceName:_0x327d7d},_0x568a7a){const _0x193b19=a0_0x75ac12;return await this[_0x193b19(0x3b6)][_0x193b19(0x72c)][_0x327d7d]['updateProfileName'](_0x568a7a[_0x193b19(0x537)]);}async['updateProfileStatus']({instanceName:_0x28289a},_0x5a7dff){const _0x23856d=a0_0x75ac12;return await this['waMonitor'][_0x23856d(0x72c)][_0x28289a][_0x23856d(0x751)](_0x5a7dff[_0x23856d(0x2be)]);}async[a0_0x75ac12(0x30a)]({instanceName:_0x19d6eb},_0x1e3394){const _0x1d9141=a0_0x75ac12;return await this[_0x1d9141(0x3b6)][_0x1d9141(0x72c)][_0x19d6eb][_0x1d9141(0x30a)](_0x1e3394[_0x1d9141(0x245)]);}async[a0_0x75ac12(0x29d)]({instanceName:_0x1aa3c8},_0xb3f8ba){const _0x50c9a4=a0_0x75ac12;return await this['waMonitor'][_0x50c9a4(0x72c)][_0x1aa3c8][_0x50c9a4(0x29d)]();}},Qt=require(a0_0x75ac12(0x238)),Yt=class u{constructor(_0x3776a1,_0x1fe1e3,_0x162b15,_0x528a30,_0x629a32){const _0x15cb82=a0_0x75ac12;this[_0x15cb82(0x3b6)]=_0x3776a1,this['configService']=_0x1fe1e3,this[_0x15cb82(0x76b)]=_0x162b15,this['eventEmitter']=_0x528a30,this[_0x15cb82(0x58f)]=_0x629a32,this[_0x15cb82(0x224)]=new $(u[_0x15cb82(0x537)]);}async[a0_0x75ac12(0x6f8)]({instanceName:_0x525524,apikey:_0x552c11,number:_0x4a49a8,proxy:_0x50b7a4=!0x0}){const _0x410796=a0_0x75ac12;try{let _0x226449=new Re(this['configService'],this[_0x410796(0x759)],this[_0x410796(0x76b)]);_0x226449[_0x410796(0x300)]=_0x525524,this[_0x410796(0x3b6)][_0x410796(0x72c)][_0x226449['instanceName']]=_0x226449;let _0x26ad3b={};_0x552c11?(await this[_0x410796(0x76b)][_0x410796(0x7f7)][_0x410796(0x28d)]({'apikey':_0x552c11},_0x525524),_0x26ad3b['apikey']=_0x552c11):_0x26ad3b=await this[_0x410796(0x58f)][_0x410796(0x273)]({'instanceName':_0x226449[_0x410796(0x300)]});let _0x58b70c;if(_0x4a49a8){if(_0x58b70c=await this['verifyWhatsAppNumber'](_0x4a49a8),_0x58b70c['error'])throw new x(_0x58b70c['error']['toString']());_0x4a49a8=_0x58b70c[_0x410796(0x3b8)];}let _0xf8f16e;return await _0x226449[_0x410796(0x632)](_0x4a49a8),await(0x0,Qt['delay'])(0xfa0),_0x4a49a8&&await(0x0,Qt[_0x410796(0x561)])(0xbb8),_0xf8f16e=_0x226449[_0x410796(0x626)],{'instance':{'instanceName':_0x226449[_0x410796(0x300)],'status':_0x410796(0x418)},'hash':_0x26ad3b,'qrcode':_0xf8f16e};}catch(_0x1e7058){throw this[_0x410796(0x224)][_0x410796(0x15c)](_0x1e7058),_0x1e7058;}}async[a0_0x75ac12(0x10e)]({instanceName:_0x236823,number:_0x50b93e=null}){const _0x43cee5=a0_0x75ac12;try{let _0xc97acf=this[_0x43cee5(0x3b6)][_0x43cee5(0x72c)][_0x236823];switch(_0xc97acf?.[_0x43cee5(0x64c)]?.[_0x43cee5(0x41d)]){case _0x43cee5(0x252):return await _0xc97acf['connectToWhatsapp'](_0x50b93e),await(0x0,Qt[_0x43cee5(0x561)])(0x7d0),_0xc97acf[_0x43cee5(0x626)];case _0x43cee5(0x189):return _0xc97acf[_0x43cee5(0x626)];default:return await this[_0x43cee5(0x22a)]({'instanceName':_0x236823});}}catch(_0x191ea6){this[_0x43cee5(0x224)]['log'](_0x191ea6);}}async['connectionState']({instanceName:_0x5d49a6}){const _0x21d915=a0_0x75ac12;let _0x132ca1=this[_0x21d915(0x3b6)][_0x21d915(0x72c)][_0x5d49a6]['connectionStatus'],_0x15e37b=null;_0x132ca1[_0x21d915(0x41d)]==='open'&&_0x5d49a6&&(_0x15e37b=await this['waMonitor'][_0x21d915(0x6fb)](_0x5d49a6));let _0x169a8a=null;return _0x132ca1[_0x21d915(0x41d)]==='connecting'&&_0x5d49a6&&(_0x169a8a=this[_0x21d915(0x3b6)][_0x21d915(0x72c)][_0x5d49a6][_0x21d915(0x626)]),{'instance':_0x5d49a6,'connectionStatus':_0x132ca1,'instanceInfo':_0x15e37b,'qrcode':_0x169a8a};}async[a0_0x75ac12(0x6b7)](_0x16b796){const _0x106a6a=a0_0x75ac12;_0x16b796=_0x16b796[_0x106a6a(0x154)](/\D/g,'');let _0x41f700=Object[_0x106a6a(0x58e)](this[_0x106a6a(0x3b6)][_0x106a6a(0x72c)])['filter'](_0x21694e=>{const _0x467995=_0x106a6a;let _0x5dbcea=this[_0x467995(0x3b6)][_0x467995(0x72c)][_0x21694e];return _0x5dbcea&&_0x5dbcea[_0x467995(0x64c)]&&_0x5dbcea[_0x467995(0x64c)][_0x467995(0x41d)]===_0x467995(0x61c);});if(_0x41f700[_0x106a6a(0x624)]===0x0)return{'number':this[_0x106a6a(0x32c)](_0x16b796)};let _0x393639=Math['floor'](Math[_0x106a6a(0x104)]()*_0x41f700[_0x106a6a(0x624)]),_0x5ca1ec=_0x41f700[_0x393639];try{let _0x5e6bc1=(await this[_0x106a6a(0x3b6)]['waInstances'][_0x5ca1ec][_0x106a6a(0x647)]({'numbers':[_0x16b796]}))['shift']();return _0x5e6bc1['exists']?{'number':_0x5e6bc1[_0x106a6a(0x797)][_0x106a6a(0x154)](_0x106a6a(0x2f8),'')}:{'number':_0x16b796,'error':_0x106a6a(0x229)};}catch(_0x35af87){return this[_0x106a6a(0x224)][_0x106a6a(0x15c)]('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x35af87),{'number':_0x16b796,'error':_0x106a6a(0x3d2)};}}[a0_0x75ac12(0x32c)](_0x36acd8){const _0x361c4f=a0_0x75ac12;let _0x1e4069=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x361c4f(0x4c2)](_0x36acd8);if(_0x1e4069&&_0x1e4069[0x1]==='55'){let _0x59bb2d=_0x1e4069[0x2],_0x4b4bde=_0x1e4069[0x3],_0x3d12aa=_0x1e4069[0x4];if(parseInt(_0x59bb2d)>=0x1f&&_0x4b4bde==='9')return _0x1e4069[0x1]+_0x59bb2d+_0x3d12aa;}return _0x36acd8;}async['restartInstance']({instanceName:_0x61faf5}){const _0x5ed2d5=a0_0x75ac12;try{return this[_0x5ed2d5(0x3b6)]['waInstances'][_0x61faf5]?.[_0x5ed2d5(0x62e)]?.['ws']?.[_0x5ed2d5(0x252)](),{'status':_0x5ed2d5(0x6ea),'error':!0x1,'response':{'message':_0x5ed2d5(0x49d)}};}catch(_0x28bd43){this[_0x5ed2d5(0x224)]['error'](_0x28bd43);}}async[a0_0x75ac12(0x7b6)]({instanceName:_0x47a870}){const _0x1c93a1=a0_0x75ac12;return _0x47a870?this[_0x1c93a1(0x3b6)][_0x1c93a1(0x6fb)](_0x47a870):this[_0x1c93a1(0x3b6)][_0x1c93a1(0x6fb)]();}async[a0_0x75ac12(0x26c)]({instanceName:_0x26d7e9}){const _0x100352=a0_0x75ac12;try{return await this[_0x100352(0x3b6)][_0x100352(0x72c)][_0x26d7e9]?.[_0x100352(0x62e)]?.[_0x100352(0x26c)](_0x100352(0x3b7)+_0x26d7e9),{'error':!0x1,'message':_0x100352(0x3ca)};}catch(_0x40a6d4){throw new x(_0x40a6d4[_0x100352(0x7ce)]());}}async[a0_0x75ac12(0x333)]({instanceName:_0x12f165}){const _0x5f2a4e=a0_0x75ac12;if((await this['connectionState']({'instanceName':_0x12f165}))[_0x5f2a4e(0x64c)]['state']===_0x5f2a4e(0x61c))throw new m([_0x5f2a4e(0x717),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this['waMonitor']['waInstances'][_0x12f165],{'error':!0x1,'message':_0x5f2a4e(0x492)};}catch(_0x317b48){throw new m(_0x317b48[_0x5f2a4e(0x7ce)]());}}},ne=require('class-validator'),Xt=class{constructor(_0x2f40c0){const _0x5046d6=a0_0x75ac12;this[_0x5046d6(0x3b6)]=_0x2f40c0;}async['sendText']({instanceName:_0x5ada31},_0x3b662c){const _0x1045ff=a0_0x75ac12;return await this[_0x1045ff(0x3b6)][_0x1045ff(0x72c)][_0x5ada31]['textMessage'](_0x3b662c);}async[a0_0x75ac12(0x5c2)]({instanceName:_0x3dd1f2},_0x2e3d9a){const _0x227ace=a0_0x75ac12;return await this['waMonitor'][_0x227ace(0x72c)][_0x3dd1f2][_0x227ace(0x46b)](_0x2e3d9a);}async[a0_0x75ac12(0x434)]({instanceName:_0x1e63bd},_0x55cba5){const _0x5456be=a0_0x75ac12;if((0x0,ne['isBase64'])(_0x55cba5?.[_0x5456be(0x607)]?.['media'])&&!_0x55cba5?.[_0x5456be(0x607)]?.[_0x5456be(0x372)])throw new m(_0x5456be(0x5fd));if((0x0,ne[_0x5456be(0x520)])(_0x55cba5?.[_0x5456be(0x607)]?.[_0x5456be(0x45c)])||(0x0,ne['isBase64'])(_0x55cba5?.['mediaMessage']?.[_0x5456be(0x45c)]))return await this[_0x5456be(0x3b6)][_0x5456be(0x72c)][_0x1e63bd][_0x5456be(0x607)](_0x55cba5);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendSticker']({instanceName:_0x449518},_0x286f61){const _0x12cc1f=a0_0x75ac12;if((0x0,ne['isURL'])(_0x286f61[_0x12cc1f(0x656)][_0x12cc1f(0x466)])||(0x0,ne[_0x12cc1f(0x148)])(_0x286f61[_0x12cc1f(0x656)][_0x12cc1f(0x466)]))return await this['waMonitor']['waInstances'][_0x449518][_0x12cc1f(0x134)](_0x286f61);throw new m(_0x12cc1f(0x3a6));}async[a0_0x75ac12(0x517)]({instanceName:_0x5491ac},_0x2bd312){const _0x438309=a0_0x75ac12;if((0x0,ne[_0x438309(0x520)])(_0x2bd312[_0x438309(0x639)][_0x438309(0x3c4)])||(0x0,ne['isBase64'])(_0x2bd312[_0x438309(0x639)]['audio']))return await this[_0x438309(0x3b6)][_0x438309(0x72c)][_0x5491ac][_0x438309(0x7ba)](_0x2bd312);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x75ac12(0x16f)]({instanceName:_0xbcf5b0},_0x1dfa66){const _0x3b3de8=a0_0x75ac12;if((0x0,ne['isBase64'])(_0x1dfa66['buttonMessage'][_0x3b3de8(0x607)]?.[_0x3b3de8(0x45c)])&&!_0x1dfa66['buttonMessage'][_0x3b3de8(0x607)]?.[_0x3b3de8(0x372)])throw new m(_0x3b3de8(0x5fd));return await this[_0x3b3de8(0x3b6)][_0x3b3de8(0x72c)][_0xbcf5b0][_0x3b3de8(0x6ee)](_0x1dfa66);}async[a0_0x75ac12(0x4b0)]({instanceName:_0x317062},_0x585bc1){const _0x31f462=a0_0x75ac12;return await this[_0x31f462(0x3b6)][_0x31f462(0x72c)][_0x317062][_0x31f462(0x6d2)](_0x585bc1);}async[a0_0x75ac12(0x21d)]({instanceName:_0x52cc0c},_0x544cb7){const _0x51fc62=a0_0x75ac12;return await this[_0x51fc62(0x3b6)][_0x51fc62(0x72c)][_0x52cc0c]['pollMessage'](_0x544cb7);}async['sendList']({instanceName:_0x3a9d3c},_0x55a986){const _0x3a8130=a0_0x75ac12;return await this[_0x3a8130(0x3b6)][_0x3a8130(0x72c)][_0x3a9d3c][_0x3a8130(0x7c6)](_0x55a986);}async['sendContact']({instanceName:_0x2ed464},_0x5bf656){const _0x48389f=a0_0x75ac12;return await this[_0x48389f(0x3b6)][_0x48389f(0x72c)][_0x2ed464][_0x48389f(0x3dc)](_0x5bf656);}async['sendReaction']({instanceName:_0x7bf2de},_0x500397){const _0xb2f0e5=a0_0x75ac12;if(!_0x500397[_0xb2f0e5(0x218)][_0xb2f0e5(0x17e)][_0xb2f0e5(0x599)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0xb2f0e5(0x41f));return await this['waMonitor'][_0xb2f0e5(0x72c)][_0x7bf2de][_0xb2f0e5(0x218)](_0x500397);}async[a0_0x75ac12(0x3e4)]({instanceName:_0x17d844},_0x3186e3){const _0x2f34bf=a0_0x75ac12;return await this['waMonitor'][_0x2f34bf(0x72c)][_0x17d844][_0x2f34bf(0x2fb)](_0x3186e3);}},Li=require(a0_0x75ac12(0x106)),js=require(a0_0x75ac12(0x4b2)),Zt=class u{constructor(_0xf75979,_0x2ffd69,_0x3e44c3){const _0x353a0d=a0_0x75ac12;this[_0x353a0d(0x846)]=_0xf75979,this[_0x353a0d(0x3b6)]=_0x2ffd69,this['repository']=_0x3e44c3,this['logger']=new $(u[_0x353a0d(0x537)]);}async[a0_0x75ac12(0x1e2)](_0x4397bd){const _0x594bdc=a0_0x75ac12;let _0x53645f=this['configService']['get']('AUTHENTICATION')[_0x594bdc(0x259)],_0x50120e=(0x0,Li[_0x594bdc(0x503)])({'instanceName':_0x4397bd[_0x594bdc(0x300)],'apiName':nt,'tokenId':(0x0,js['v4'])()},_0x53645f[_0x594bdc(0x826)],{'expiresIn':_0x53645f[_0x594bdc(0x5c0)],'encoding':_0x594bdc(0x662),'subject':_0x594bdc(0x776)}),_0x2815b1=await this[_0x594bdc(0x76b)][_0x594bdc(0x7f7)][_0x594bdc(0x28d)]({'jwt':_0x50120e},_0x4397bd[_0x594bdc(0x300)]);if(_0x2815b1[_0x594bdc(0x15c)])throw this[_0x594bdc(0x224)][_0x594bdc(0x15c)]({'localError':u[_0x594bdc(0x537)]+_0x594bdc(0x761),'error':_0x2815b1[_0x594bdc(0x15c)]}),new m(_0x594bdc(0x2d0),_0x2815b1[_0x594bdc(0x15c)]?.[_0x594bdc(0x7ce)]());return{'jwt':_0x50120e};}async[a0_0x75ac12(0x2b2)](_0x2d23d3){const _0x363816=a0_0x75ac12;let _0x45c310=(0x0,js['v4'])()[_0x363816(0x2ed)](),_0x4fc4e5=await this[_0x363816(0x76b)][_0x363816(0x7f7)][_0x363816(0x28d)]({'apikey':_0x45c310},_0x2d23d3[_0x363816(0x300)]);if(_0x4fc4e5[_0x363816(0x15c)])throw this[_0x363816(0x224)][_0x363816(0x15c)]({'localError':u[_0x363816(0x537)]+_0x363816(0x761),'error':_0x4fc4e5['error']}),new m(_0x363816(0x2d0),_0x4fc4e5[_0x363816(0x15c)]?.[_0x363816(0x7ce)]());return{'apikey':_0x45c310};}async['generateHash'](_0x2e959d){const _0x445459=a0_0x75ac12;let _0x170f29=this[_0x445459(0x846)][_0x445459(0x407)]('AUTHENTICATION');return await this[_0x170f29[_0x445459(0x827)]](_0x2e959d);}},es=class{constructor(_0x2ddc1a){const _0x428369=a0_0x75ac12;this[_0x428369(0x3b6)]=_0x2ddc1a;}async[a0_0x75ac12(0x3df)](_0x723a36,_0xa6b189){const _0x2a6a23=a0_0x75ac12;return await this['waMonitor'][_0x2a6a23(0x72c)][_0x723a36[_0x2a6a23(0x300)]][_0x2a6a23(0x3df)](_0xa6b189);}async[a0_0x75ac12(0x310)](_0x31372a,_0x330d90){const _0x51054a=a0_0x75ac12;return await this['waMonitor']['waInstances'][_0x31372a[_0x51054a(0x300)]]['updateGroupPicture'](_0x330d90);}async[a0_0x75ac12(0x7a8)](_0x5d60f0,_0x146840){const _0x54ce07=a0_0x75ac12;return await this['waMonitor'][_0x54ce07(0x72c)][_0x5d60f0[_0x54ce07(0x300)]][_0x54ce07(0x7a8)](_0x146840);}async[a0_0x75ac12(0x67c)](_0x49aaa5,_0x34d02f){const _0x22d10d=a0_0x75ac12;return await this['waMonitor'][_0x22d10d(0x72c)][_0x49aaa5['instanceName']]['groupName'](_0x34d02f);}async[a0_0x75ac12(0x32d)](_0x5a89f9,_0x494188){const _0x4a4e61=a0_0x75ac12;return await this[_0x4a4e61(0x3b6)][_0x4a4e61(0x72c)][_0x5a89f9[_0x4a4e61(0x300)]]['groupBetterSetting'](_0x494188);}async['groupSetting'](_0x1a85a8,_0x480c77){const _0x27b90d=a0_0x75ac12;return await this['waMonitor'][_0x27b90d(0x72c)][_0x1a85a8[_0x27b90d(0x300)]][_0x27b90d(0x17d)](_0x480c77);}async['findGroupInfo'](_0x2aef3c,_0xb65119){const _0x14eae7=a0_0x75ac12;return await this[_0x14eae7(0x3b6)][_0x14eae7(0x72c)][_0x2aef3c['instanceName']][_0x14eae7(0x22e)](_0xb65119);}async[a0_0x75ac12(0x2f5)](_0x503f32){const _0x5e934b=a0_0x75ac12;return await this[_0x5e934b(0x3b6)]['waInstances'][_0x503f32[_0x5e934b(0x300)]][_0x5e934b(0x2f5)]();}async[a0_0x75ac12(0x35d)](_0xf7183e,_0x292c94){const _0xf19bf=a0_0x75ac12;return await this[_0xf19bf(0x3b6)][_0xf19bf(0x72c)][_0xf7183e[_0xf19bf(0x300)]][_0xf19bf(0x35d)](_0x292c94);}async[a0_0x75ac12(0x7e6)](_0x32fce7,_0x265099){const _0x508a71=a0_0x75ac12;return await this['waMonitor'][_0x508a71(0x72c)][_0x32fce7[_0x508a71(0x300)]][_0x508a71(0x7e6)](_0x265099);}async[a0_0x75ac12(0x2d3)](_0x1710e8,_0x4d80b7){const _0x3d636d=a0_0x75ac12;return await this[_0x3d636d(0x3b6)][_0x3d636d(0x72c)][_0x1710e8[_0x3d636d(0x300)]][_0x3d636d(0x2d3)](_0x4d80b7);}async[a0_0x75ac12(0x29e)](_0x11e66a,_0x2946fb){const _0x1a127a=a0_0x75ac12;return await this[_0x1a127a(0x3b6)]['waInstances'][_0x11e66a['instanceName']][_0x1a127a(0x29e)](_0x2946fb);}async['findParticipants'](_0x50fe84,_0xe61ca4){const _0x1ebf8e=a0_0x75ac12;return await this[_0x1ebf8e(0x3b6)]['waInstances'][_0x50fe84[_0x1ebf8e(0x300)]][_0x1ebf8e(0x5a4)](_0xe61ca4);}async[a0_0x75ac12(0x3da)](_0x4342cf,_0x1ae5f4){const _0x2324b2=a0_0x75ac12;return await this[_0x2324b2(0x3b6)][_0x2324b2(0x72c)][_0x4342cf[_0x2324b2(0x300)]][_0x2324b2(0x10f)](_0x1ae5f4);}async[a0_0x75ac12(0x7c4)](_0x512772,_0x4d9598){const _0x93a34=a0_0x75ac12;return await this[_0x93a34(0x3b6)][_0x93a34(0x72c)][_0x512772[_0x93a34(0x300)]][_0x93a34(0x7c4)](_0x4d9598);}async[a0_0x75ac12(0xf5)](_0xefde15,_0x51bd90){const _0x28a744=a0_0x75ac12;return await this['waMonitor'][_0x28a744(0x72c)][_0xefde15['instanceName']][_0x28a744(0xf5)](_0x51bd90);}},ts=class{constructor(_0x3768ab){const _0xc5c820=a0_0x75ac12;this[_0xc5c820(0x3b6)]=_0x3768ab;}['create'](_0xc3c53b,_0x1cb151){const _0x429eaa=a0_0x75ac12;return this['waMonitor'][_0x429eaa(0x72c)][_0xc3c53b['instanceName']][_0x429eaa(0x5a2)](_0x1cb151);}async[a0_0x75ac12(0x1c3)](_0x44ed62){const _0x55bd08=a0_0x75ac12;try{return await this[_0x55bd08(0x3b6)][_0x55bd08(0x72c)][_0x44ed62[_0x55bd08(0x300)]][_0x55bd08(0x688)]();}catch{return{'enabled':null,'url':''};}}},Gp=new $(a0_0x75ac12(0x258)),ss=class{constructor(_0x1deec2){const _0x57ce7f=a0_0x75ac12;this[_0x57ce7f(0x3b6)]=_0x1deec2;}async[a0_0x75ac12(0x483)](_0x4218f5,_0x14b3cc){const _0x286956=a0_0x75ac12;return await this[_0x286956(0x3b6)][_0x286956(0x72c)][_0x4218f5[_0x286956(0x300)]][_0x286956(0x483)](_0x14b3cc);}async[a0_0x75ac12(0x433)](_0x600c68){const _0x2a4f55=a0_0x75ac12;return await this[_0x2a4f55(0x3b6)]['waInstances'][_0x600c68[_0x2a4f55(0x300)]][_0x2a4f55(0x433)]();}async[a0_0x75ac12(0x3c8)](_0x32c394){const _0x6e600c=a0_0x75ac12;return await this['waMonitor'][_0x6e600c(0x72c)][_0x32c394['instanceName']]['deleteDoneMessages']();}async[a0_0x75ac12(0x6c6)](_0x55cea3){const _0xd270bb=a0_0x75ac12;return await this[_0xd270bb(0x3b6)][_0xd270bb(0x72c)][_0x55cea3[_0xd270bb(0x300)]][_0xd270bb(0x6c6)]();}async['updateAgent'](_0x311d46,_0x193ba8){const _0xe4860a=a0_0x75ac12;return await this[_0xe4860a(0x3b6)][_0xe4860a(0x72c)][_0x311d46[_0xe4860a(0x300)]][_0xe4860a(0x3fa)](_0x193ba8);}async[a0_0x75ac12(0x413)](_0x33129d,_0x123529){const _0x2bd3e1=a0_0x75ac12;return await this['waMonitor'][_0x2bd3e1(0x72c)][_0x33129d[_0x2bd3e1(0x300)]]['updateCustomFields'](_0x123529);}async[a0_0x75ac12(0x390)](_0xbf1cc9,_0xa135af){const _0x4e152b=a0_0x75ac12;return await this[_0x4e152b(0x3b6)][_0x4e152b(0x72c)][_0xbf1cc9[_0x4e152b(0x300)]][_0x4e152b(0x390)](_0xa135af);}async[a0_0x75ac12(0x3bb)](_0x170cf5,_0x231ebf){const _0xb5ccf9=a0_0x75ac12;return await this[_0xb5ccf9(0x3b6)][_0xb5ccf9(0x72c)][_0x170cf5['instanceName']][_0xb5ccf9(0x3bb)](_0x231ebf);}async[a0_0x75ac12(0x7ca)](_0x2f239b,_0x3dd2f3){const _0x5c32c9=a0_0x75ac12;return await this[_0x5c32c9(0x3b6)][_0x5c32c9(0x72c)][_0x2f239b[_0x5c32c9(0x300)]][_0x5c32c9(0x7ca)](_0x3dd2f3);}async['startFlowWebhook'](_0xb8992e,_0x45d4f1,_0x4103a4,_0x4b1b14){const _0x1fad31=a0_0x75ac12;return await this[_0x1fad31(0x3b6)]['waInstances'][_0xb8992e]['startFlowWebhook'](_0x45d4f1,_0x4103a4,_0x4b1b14);}async[a0_0x75ac12(0x1db)](_0xe29dc5,_0x454713){const _0x2471cb=a0_0x75ac12;return await this[_0x2471cb(0x3b6)]['waInstances'][_0xe29dc5[_0x2471cb(0x300)]]['getConversation'](_0x454713);}async['fetchConversation'](_0x221a0a,_0x13294c){const _0x55695a=a0_0x75ac12;return await this[_0x55695a(0x3b6)][_0x55695a(0x72c)][_0x221a0a[_0x55695a(0x300)]][_0x55695a(0x4a0)](_0x13294c);}async[a0_0x75ac12(0x66f)](_0x59952c,_0xfbe5a8){const _0x5217de=a0_0x75ac12;return await this[_0x5217de(0x3b6)][_0x5217de(0x72c)][_0x59952c[_0x5217de(0x300)]][_0x5217de(0x66f)](_0xfbe5a8);}async[a0_0x75ac12(0x37d)](_0x179493,_0x29a6a4){const _0x37294b=a0_0x75ac12;return await this[_0x37294b(0x3b6)]['waInstances'][_0x179493['instanceName']][_0x37294b(0x37d)](_0x29a6a4);}async['getFlow'](_0x156c72,_0x194544){const _0x5a6e32=a0_0x75ac12;return await this['waMonitor']['waInstances'][_0x156c72[_0x5a6e32(0x300)]][_0x5a6e32(0x2b6)](_0x194544[_0x5a6e32(0x2af)]);}async[a0_0x75ac12(0x68e)](_0x56fa84,_0x2f8f46,_0x462cbe){const _0x22d7a3=a0_0x75ac12;return await this['waMonitor']['waInstances'][_0x56fa84[_0x22d7a3(0x300)]][_0x22d7a3(0x68e)](_0x2f8f46,_0x462cbe);}async[a0_0x75ac12(0x22d)](_0x1169d4,_0x330f5a,_0x3601a7){const _0x225ef4=a0_0x75ac12;return await this[_0x225ef4(0x3b6)][_0x225ef4(0x72c)][_0x1169d4[_0x225ef4(0x300)]][_0x225ef4(0x22d)](_0x330f5a,_0x3601a7);}async[a0_0x75ac12(0x725)](_0x1359fd,_0x16991b){const _0x2899a3=a0_0x75ac12;return await this[_0x2899a3(0x3b6)]['waInstances'][_0x1359fd['instanceName']][_0x2899a3(0x725)](_0x16991b);}async[a0_0x75ac12(0x2b9)](_0x5325c4,_0x39c3fe){const _0x38500f=a0_0x75ac12;return await this[_0x38500f(0x3b6)][_0x38500f(0x72c)][_0x5325c4[_0x38500f(0x300)]][_0x38500f(0x2b9)](_0x39c3fe);}async['editFlowGroup'](_0x2640d2,_0x6c7585){const _0x3e5ef1=a0_0x75ac12;return await this[_0x3e5ef1(0x3b6)]['waInstances'][_0x2640d2[_0x3e5ef1(0x300)]][_0x3e5ef1(0x5f3)](_0x6c7585);}async[a0_0x75ac12(0x37b)](_0x461041,_0x1190a0){const _0x44a1f0=a0_0x75ac12;return await this['waMonitor']['waInstances'][_0x461041['instanceName']][_0x44a1f0(0x37b)](_0x1190a0);}async['editFlowVaredit'](_0x12feba,_0x2fb50c){const _0x2a3542=a0_0x75ac12;return await this[_0x2a3542(0x3b6)][_0x2a3542(0x72c)][_0x12feba[_0x2a3542(0x300)]]['editFlowVaredit'](_0x2fb50c);}async['editFlowVariable'](_0x46020e,_0x5a086e){const _0x4368c8=a0_0x75ac12;return await this[_0x4368c8(0x3b6)]['waInstances'][_0x46020e[_0x4368c8(0x300)]]['editFlowVariable'](_0x5a086e);}async[a0_0x75ac12(0x5c4)](_0x57d25c,_0x5384b){const _0x435cf0=a0_0x75ac12;return await this[_0x435cf0(0x3b6)][_0x435cf0(0x72c)][_0x57d25c['instanceName']][_0x435cf0(0x5c4)](_0x5384b);}async[a0_0x75ac12(0x550)](_0xb7b087){const _0x1a40c7=a0_0x75ac12;return await this[_0x1a40c7(0x3b6)]['waInstances'][_0xb7b087[_0x1a40c7(0x300)]][_0x1a40c7(0x550)]();}},as=class{constructor(_0xd6a99a){const _0x16ae47=a0_0x75ac12;this[_0x16ae47(0x57d)]=_0xd6a99a;}async[a0_0x75ac12(0x54a)](_0x18f383,_0x3186c7){const _0x51d298=a0_0x75ac12;return this[_0x51d298(0x57d)]['create'](_0x18f383,_0x3186c7);}async[a0_0x75ac12(0x688)](_0x396d17){const _0x317183=a0_0x75ac12;return this[_0x317183(0x57d)][_0x317183(0x1c3)](_0x396d17);}},is=class extends _{constructor(_0x30c0aa,_0x1ed5e1){const _0x44971d=a0_0x75ac12;super(_0x1ed5e1),this['webhookModel']=_0x30c0aa,this[_0x44971d(0x846)]=_0x1ed5e1;}async['create'](_0x5a42ad,_0x4fcdfd){const _0x170b13=a0_0x75ac12;try{return this['dbSettings'][_0x170b13(0x69f)]?{'insertCount':(await this[_0x170b13(0x1b3)]['replaceOne']({'_id':_0x4fcdfd},{..._0x5a42ad},{'upsert':!0x0}))[_0x170b13(0x213)]}:{'insertCount':0x1};}catch(_0x4b54f5){return _0x4b54f5;}}async[a0_0x75ac12(0x585)](_0x2cc8c2){const _0x34954a=a0_0x75ac12;try{if(this[_0x34954a(0x382)][_0x34954a(0x69f)]){await this[_0x34954a(0x1b3)][_0x34954a(0x1d1)]({'_id':_0x2cc8c2});return;}}catch(_0x53ef92){return{'error':_0x53ef92};}}async['find'](_0x4c4038){const _0x229eb6=a0_0x75ac12;try{if(this[_0x229eb6(0x382)][_0x229eb6(0x69f)])return await this[_0x229eb6(0x1b3)][_0x229eb6(0x4a6)]({'_id':_0x4c4038});}catch{return{};}}},os=class extends _{constructor(_0x16924e,_0x5033eb){const _0x2132a7=a0_0x75ac12;super(_0x5033eb),this['authModel']=_0x16924e,this[_0x2132a7(0x846)]=_0x5033eb,this['auth']=_0x5033eb[_0x2132a7(0x407)]('AUTHENTICATION');}async[a0_0x75ac12(0x28d)](_0x1c1ae9,_0x54e3e1){const _0x63fa3a=a0_0x75ac12;try{if(this[_0x63fa3a(0x382)][_0x63fa3a(0x69f)])return{'insertCount':(await this[_0x63fa3a(0x1fc)][_0x63fa3a(0x5b6)]({'_id':_0x54e3e1},{'$set':{..._0x1c1ae9}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x302728){return{'error':_0x302728};}}async[a0_0x75ac12(0x4cf)](_0x59f595,_0x526bfc){const _0x2a7ddf=a0_0x75ac12;try{if(this['dbSettings'][_0x2a7ddf(0x69f)])return{'insertCount':(await this[_0x2a7ddf(0x1fc)]['updateMany'](_0x59f595,{'$set':_0x526bfc},{'upsert':!0x1}))['modifiedCount']};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x373642){return{'error':_0x373642};}}async[a0_0x75ac12(0x573)](_0x30c2f9){const _0x1be9e0=a0_0x75ac12;try{if(this[_0x1be9e0(0x382)][_0x1be9e0(0x69f)])return{'insertCount':(await this[_0x1be9e0(0x1fc)]['deleteMany'](_0x30c2f9))['deletedCount']};throw new Error(_0x1be9e0(0x7ac));}catch(_0x2c70b9){return{'error':_0x2c70b9};}}async[a0_0x75ac12(0x585)](_0x42bcbd){const _0x153ae0=a0_0x75ac12;try{if(this[_0x153ae0(0x382)]['ENABLED']){await this[_0x153ae0(0x1fc)][_0x153ae0(0x1d1)]({'_id':_0x42bcbd});return;}}catch(_0x3bea3e){return{'error':_0x3bea3e};}}async[a0_0x75ac12(0x1c3)](_0x16352e){const _0x4835eb=a0_0x75ac12;try{if(this[_0x4835eb(0x382)][_0x4835eb(0x69f)])return await this[_0x4835eb(0x1fc)][_0x4835eb(0x4a6)]({'_id':_0x16352e});}catch{return{};}}async[a0_0x75ac12(0x118)](){const _0x5de455=a0_0x75ac12;try{if(this['dbSettings'][_0x5de455(0x69f)])return await this[_0x5de455(0x1fc)][_0x5de455(0x1c3)]();}catch{return[];}}async[a0_0x75ac12(0x2dd)](_0x435d8a){const _0x130fd9=a0_0x75ac12;try{if(this['dbSettings'][_0x130fd9(0x69f)])return await this[_0x130fd9(0x1fc)][_0x130fd9(0x1c3)](_0x435d8a);}catch{return[];}}},rs=class extends _{async[a0_0x75ac12(0x1d1)](_0x32d2a8){const _0x1c6e59=a0_0x75ac12;try{let _0x6d9a57=A(_0x32d2a8[_0x1c6e59(0x1b8)]);return{'deletedCount':(await Ee[_0x1c6e59(0x1d1)](_0x6d9a57))[_0x1c6e59(0x55f)]};}catch(_0x25bbeb){return{'error':_0x25bbeb?.[_0x1c6e59(0x7ce)]()};}}async['updateOne'](_0x5af171,_0x10b6e5){const _0x34c570=a0_0x75ac12;try{let _0x4b7776=await Ee[_0x34c570(0x2c8)](_0x5af171);return _0x4b7776?(Object[_0x34c570(0x414)](_0x4b7776,_0x10b6e5),await _0x4b7776[_0x34c570(0x461)]()):(console[_0x34c570(0x15c)](_0x34c570(0x58d),_0x5af171),null);}catch(_0x3d7447){return console[_0x34c570(0x15c)](_0x34c570(0x16e),_0x3d7447),null;}}async[a0_0x75ac12(0x18b)](_0x4007ba){const _0x3ce2b9=a0_0x75ac12;try{return await new Ee(_0x4007ba)[_0x3ce2b9(0x461)]();}catch(_0x407457){return console[_0x3ce2b9(0x15c)](_0x3ce2b9(0x459),_0x407457),null;}}async[a0_0x75ac12(0x118)](_0x2cbf1a){const _0x31728a=a0_0x75ac12;try{let _0x6373d4=_0x2cbf1a[_0x31728a(0x1b8)]??{};return await Ee[_0x31728a(0x1c3)](_0x6373d4)[_0x31728a(0x1de)](_0x2cbf1a['limit']??0x0)[_0x31728a(0x39b)]();}catch(_0xcc802f){return console['error']('Erro\x20ao\x20buscar\x20fluxos:',_0xcc802f),[];}}async[a0_0x75ac12(0x4a6)](_0x27a64f){const _0x36df41=a0_0x75ac12;try{let _0x26caee=A(_0x27a64f[_0x36df41(0x1b8)]);return await Ee[_0x36df41(0x4a6)](_0x26caee)[_0x36df41(0x39b)]();}catch{return null;}}},ns=class extends _{[a0_0x75ac12(0x1d4)](_0x3dabcc){return Ca(_0x3dabcc);}async['insert'](_0x821489){const _0x4ddc9d=a0_0x75ac12;if(_0x821489[_0x4ddc9d(0x624)]!==0x0)try{return{'insertCount':(await this[_0x4ddc9d(0x1d4)](_0x821489[0x0][_0x4ddc9d(0x4c1)])[_0x4ddc9d(0x63a)]([..._0x821489]))[_0x4ddc9d(0x624)]};}catch(_0x4ee2ea){return _0x4ee2ea;}}async[a0_0x75ac12(0x585)](_0x548c69,_0x37c6a1){const _0x1c920c=a0_0x75ac12;try{let _0x54e75f=this[_0x1c920c(0x1d4)](_0x37c6a1),_0x214069=A(_0x548c69[_0x1c920c(0x1b8)]);return{'deletedCount':(await _0x54e75f[_0x1c920c(0x573)](_0x214069))[_0x1c920c(0x55f)]};}catch(_0x58c9f1){return{'error':_0x58c9f1?.[_0x1c920c(0x7ce)]()};}}async[a0_0x75ac12(0x1d1)](_0x5b53e5,_0x2e79c9){const _0x3f544b=a0_0x75ac12;try{let _0x48d5bc=this[_0x3f544b(0x1d4)](_0x2e79c9),_0x1c0508=A(_0x5b53e5['where']);return{'deletedCount':(await _0x48d5bc[_0x3f544b(0x1d1)](_0x1c0508))[_0x3f544b(0x55f)]};}catch(_0x2fa267){return{'error':_0x2fa267?.['toString']()};}}async[a0_0x75ac12(0x829)](_0x383459,_0x330d7e){const _0xda7f48=a0_0x75ac12;try{if(_0x383459[_0xda7f48(0x624)]===0x0)return;let _0x1a3abf=this[_0xda7f48(0x1d4)](_0x330d7e),_0x48de37=_0x383459['map'](_0x17cde4=>({'updateOne':{'filter':{'name':_0x17cde4[_0xda7f48(0x537)],'owner':_0x330d7e},'update':{..._0x17cde4}}})),{modifiedCount:_0x2bc32b}=await _0x1a3abf['bulkWrite'](_0x48de37);return{'insertCount':_0x2bc32b};}catch{return;}}async[a0_0x75ac12(0xfe)](_0xa3b499,_0x44c7a9,_0x5dc026){const _0x2d3a7a=a0_0x75ac12;try{return{'modifiedCount':(await this[_0x2d3a7a(0x1d4)](_0x5dc026)[_0x2d3a7a(0xfe)](_0xa3b499,{'$set':_0x44c7a9})[_0x2d3a7a(0x4c2)]())[_0x2d3a7a(0x213)]};}catch(_0x1b5466){return console[_0x2d3a7a(0x15c)](_0x2d3a7a(0x1b5),_0x1b5466),{'error':_0x1b5466};}}async[a0_0x75ac12(0x5b6)](_0x4c6246,_0x406263,_0xff3b52){const _0x13fd14=a0_0x75ac12;try{return await this[_0x13fd14(0x1d4)](_0xff3b52)[_0x13fd14(0x34b)]({'_id':_0x4c6246},{'$set':_0x406263},{'new':!0x0,'upsert':!0x0})[_0x13fd14(0x39b)]();}catch(_0x43dfb){return console['error'](_0x43dfb),null;}}async[a0_0x75ac12(0x1c3)](_0x25e657,_0x27254f){const _0x258bc0=a0_0x75ac12;try{return await this[_0x258bc0(0x1d4)](_0x27254f)['find'](_0x25e657)['sort']({'lastInteraction':-0x1})[_0x258bc0(0x39b)]();}catch{return[];}}async[a0_0x75ac12(0x4a6)](_0x60b38,_0x14e351){const _0x36ae53=a0_0x75ac12;try{return await this['getConversationModelForOwner'](_0x14e351)[_0x36ae53(0x4a6)]({..._0x60b38['where']})[_0x36ae53(0x39b)]();}catch{return null;}}async[a0_0x75ac12(0x74c)](_0x4e250b){const _0x220525=a0_0x75ac12;try{return await this[_0x220525(0x1d4)](_0x4e250b)[_0x220525(0x6b4)][_0x220525(0x7e2)](),{'success':!0x0};}catch(_0x14e138){return console[_0x220525(0x15c)](_0x14e138),{'success':!0x1,'error':_0x14e138};}}},cs=class extends _{[a0_0x75ac12(0x553)](_0x543d45){return Ea(_0x543d45);}async[a0_0x75ac12(0x362)](_0x5c5d36,_0x5b3c94){const _0xb85b59=a0_0x75ac12;try{return await this[_0xb85b59(0x553)](_0x5b3c94)[_0xb85b59(0x362)](_0x5c5d36);}catch(_0x318fb6){return console[_0xb85b59(0x15c)](_0xb85b59(0x838),_0x318fb6),null;}}async[a0_0x75ac12(0x18b)](_0x3192ae,_0x10cafa){const _0x236ffc=a0_0x75ac12;try{let _0x2d184c=this[_0x236ffc(0x553)](_0x10cafa);return await new _0x2d184c(_0x3192ae)[_0x236ffc(0x461)]();}catch(_0x4eebc0){return console[_0x236ffc(0x15c)](_0x236ffc(0x4d8),_0x4eebc0),null;}}async['deleteOne'](_0x651309,_0x1e6930){const _0x5e1c98=a0_0x75ac12;try{return await this[_0x5e1c98(0x553)](_0x1e6930)['findByIdAndDelete'](_0x651309),{};}catch(_0x4769d6){return{'error':_0x4769d6?.['toString']()};}}async['updateOne'](_0xa1c6a7,_0xad591e,_0x2e4c48,_0xbf7d07={}){const _0x249e77=a0_0x75ac12;try{return await this['getScheduleMessageModelForOwner'](_0x2e4c48)[_0x249e77(0x34b)](_0xa1c6a7,_0xad591e,{..._0xbf7d07,'new':!0x0})[_0x249e77(0x39b)]();}catch(_0x57e06c){return console[_0x249e77(0x15c)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x57e06c),null;}}async[a0_0x75ac12(0x322)](_0x33db24,_0x40800d,_0x2cbd34){const _0x3aa100=a0_0x75ac12;try{return await this[_0x3aa100(0x553)](_0x2cbd34)[_0x3aa100(0x55b)](_0x33db24,_0x40800d,{'new':!0x0})['lean']();}catch(_0x460577){return console[_0x3aa100(0x15c)](_0x3aa100(0x489),_0x460577),null;}}async[a0_0x75ac12(0x1c3)](_0x1a76fb,_0x175c23){const _0x56b905=a0_0x75ac12;try{return await this[_0x56b905(0x553)](_0x175c23)[_0x56b905(0x1c3)](_0x1a76fb['where'])['limit'](_0x1a76fb?.['limit']??0x0)[_0x56b905(0x121)]({'when':0x1})[_0x56b905(0x39b)]();}catch{return[];}}async[a0_0x75ac12(0x4a6)](_0x35d62f,_0x340abd){const _0x46e9e8=a0_0x75ac12;try{return await this['getScheduleMessageModelForOwner'](_0x340abd)['findOne'](_0x35d62f[_0x46e9e8(0x1b8)])[_0x46e9e8(0x121)]({'when':0x1})[_0x46e9e8(0x39b)]();}catch{return null;}}async['findById'](_0xa7833d,_0xd7dad2){const _0x5b3b97=a0_0x75ac12;try{return await this[_0x5b3b97(0x553)](_0xd7dad2)[_0x5b3b97(0x2c8)](_0xa7833d)[_0x5b3b97(0x39b)]();}catch{return null;}}async[a0_0x75ac12(0x573)](_0x3b258e,_0x227dfc){const _0x14b82b=a0_0x75ac12;try{return{'deletedCount':(await this[_0x14b82b(0x553)](_0x227dfc)[_0x14b82b(0x573)](_0x3b258e))[_0x14b82b(0x55f)]};}catch(_0x46e624){return console['error'](_0x14b82b(0x138),_0x46e624),{'error':_0x46e624};}}async['deleteAll'](_0x96d8e3){const _0x4ca75f=a0_0x75ac12;try{return await this[_0x4ca75f(0x553)](_0x96d8e3)[_0x4ca75f(0x6b4)][_0x4ca75f(0x7e2)](),{'success':!0x0};}catch(_0x4c6b15){return console[_0x4ca75f(0x15c)](_0x4c6b15),{'success':!0x1,'error':_0x4c6b15};}}},ls=class extends _{async[a0_0x75ac12(0x829)](_0x343c6b,_0x695b72){const _0x4ec44e=a0_0x75ac12;try{if(this[_0x4ec44e(0x382)]['ENABLED'])return await Te[_0x4ec44e(0x34b)]({'_id':_0x695b72},{'$set':_0x343c6b},{'new':!0x0});}catch(_0xbb7ba4){throw console[_0x4ec44e(0x15c)](_0x4ec44e(0x79e),_0xbb7ba4),_0xbb7ba4;}}async[a0_0x75ac12(0x2ff)](_0x53256e){const _0x2dd13e=a0_0x75ac12;try{let _0x36efb4=await Te['findById'](_0x53256e);return _0x36efb4?_0x36efb4[_0x2dd13e(0x6c4)]||(_0x36efb4[_0x2dd13e(0x6c4)]=[],await _0x36efb4['save']()):(_0x36efb4=new Te({'_id':_0x53256e,'autoCompleteMessages':[]}),await _0x36efb4[_0x2dd13e(0x461)]()),_0x36efb4;}catch(_0x4ae810){return _0x4ae810[_0x2dd13e(0x453)]===0x2af8&&_0x4ae810[_0x2dd13e(0x752)]&&_0x4ae810[_0x2dd13e(0x752)][_0x2dd13e(0x373)]?(console[_0x2dd13e(0x15c)](_0x2dd13e(0x438)),await Te['collection'][_0x2dd13e(0x63d)]('autoCompleteMessages.command_1'),null):(console[_0x2dd13e(0x15c)](_0x2dd13e(0x696),_0x4ae810),null);}}},qo=new $(a0_0x75ac12(0x3a8)),Vo=new Xe(b),Go=new Wt(b),Bo=new lt(b),Wo=new zt(na,b),zo=new is(ma,b),Ho=new os(pa,b),Ko=new $e(He,b),Qo=new rs(b),Yo=new Ht(b),Xo=new ns(b),Zo=new cs(b),er=new ls(b),we=new Qe(Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,R?.['getClient']()),z=new Bt(fs,b,we),tr=new Zt(b,z,we),sr=new ts(z),Is=new as(sr),T=new ss(z),he=new Yt(z,b,we,fs,tr),H=new Xt(z),k=new Kt(z),V=new es(z);qo[a0_0x75ac12(0x59e)](a0_0x75ac12(0x816));var ng=require('express-async-errors'),Js=require('fs'),Fi=I(require('https')),Ui=I(require(a0_0x75ac12(0x5e7))),je=class u{static #e;static set[a0_0x75ac12(0x462)](_0x3cb19a){this.#e=_0x3cb19a;}static get[a0_0x75ac12(0x7c8)](){const _0x4d12b4=a0_0x75ac12;let {FULLCHAIN:_0x3ebc34,PRIVKEY:_0x69d366}=b['get'](_0x4d12b4(0x2f3));return Fi[_0x4d12b4(0x248)]({'cert':(0x0,Js[_0x4d12b4(0x5ec)])(_0x3ebc34),'key':(0x0,Js[_0x4d12b4(0x5ec)])(_0x69d366)},u.#e);}static get[a0_0x75ac12(0x5e7)](){const _0x5a05f1=a0_0x75ac12;return Ui[_0x5a05f1(0x248)](u.#e);}},Je=I(require('fs')),Bi=I(require(a0_0x75ac12(0x107))),qe=I(require(a0_0x75ac12(0x63f))),ds=I(require(a0_0x75ac12(0x1c0))),us=require(a0_0x75ac12(0x818));function ar(){const _0x50dc69=a0_0x75ac12;z['loadInstance']();let _0x3ec486=ds[_0x50dc69(0x636)][_0x50dc69(0x215)](__dirname,'downloads');Gi(_0x3ec486);}var Gi=_0x5522d9=>{const _0xf6ed0=a0_0x75ac12;let _0x3179cc=Je[_0xf6ed0(0x636)][_0xf6ed0(0x36a)](_0x5522d9),_0x5338a4=0xc*0x3c*0x3c*0x3e8,_0x511c0b=0x2*0x3c*0x3c*0x3e8,_0x25d6a6=new Date()[_0xf6ed0(0x353)]();_0x3179cc[_0xf6ed0(0x839)](_0x6c278a=>{const _0x4487df=_0xf6ed0;let _0xe1f01a=ds[_0x4487df(0x636)][_0x4487df(0x215)](_0x5522d9,_0x6c278a),_0x2c138e=Je[_0x4487df(0x636)][_0x4487df(0x27b)](_0xe1f01a)[_0x4487df(0x835)]['getTime']();_0x25d6a6-_0x2c138e>_0x5338a4&&(Je[_0x4487df(0x636)][_0x4487df(0x743)](_0xe1f01a),console[_0x4487df(0x54b)](_0x4487df(0x1d8)+_0x6c278a));}),setTimeout(()=>Gi(_0x5522d9),_0x511c0b);};function ir(){const _0x3e17dc=a0_0x75ac12;let _0x44ee8f=new $(_0x3e17dc(0x3fc)),_0x1dc366=(0x0,be['default'])();_0x1dc366[_0x3e17dc(0x586)]((0x0,Vi[_0x3e17dc(0x636)])({'origin'(_0x544383,_0x30ab30){const _0x30acbd=_0x3e17dc;let {ORIGIN:_0x56d249}=b[_0x30acbd(0x407)](_0x30acbd(0x5dc));return _0x544383||(_0x544383='*'),_0x56d249['indexOf']('*')!==-0x1||_0x56d249[_0x30acbd(0x5f8)](_0x544383)!==-0x1?_0x30ab30(null,!0x0):_0x30ab30(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x3e17dc(0x407)](_0x3e17dc(0x5dc))['METHODS']],'credentials':b['get'](_0x3e17dc(0x5dc))[_0x3e17dc(0x81e)]}),(0x0,be[_0x3e17dc(0x1b0)])({'extended':!0x0,'limit':_0x3e17dc(0x72d)}),(0x0,be[_0x3e17dc(0x4e8)])({'limit':_0x3e17dc(0x72d)})),_0x1dc366['use']((_0x21dd8e,_0x44d4fc,_0x4b231b)=>{const _0x1fa0cc=_0x3e17dc;_0x21dd8e[_0x1fa0cc(0x1c0)][_0x1fa0cc(0x36c)](_0x1fa0cc(0x15a))?_0x4b231b():(0x0,qi[_0x1fa0cc(0x636)])()(_0x21dd8e,_0x44d4fc,_0x4b231b);}),_0x1dc366[_0x3e17dc(0x70d)](_0x3e17dc(0x6ff),_0x3e17dc(0xf8)),_0x1dc366[_0x3e17dc(0x70d)]('views',(0x0,Vs[_0x3e17dc(0x215)])(ue,_0x3e17dc(0x2df))),_0x1dc366[_0x3e17dc(0x586)](be[_0x3e17dc(0x636)][_0x3e17dc(0x368)]((0x0,Vs[_0x3e17dc(0x215)])(ue,'public'))),_0x1dc366[_0x3e17dc(0x586)]((_0x5251f0,_0xb354b,_0x3bd020)=>{const _0x76dfce=_0x3e17dc;let _0x30b9fc=_0xb354b[_0x76dfce(0x4fc)];_0xb354b[_0x76dfce(0x4fc)]=function(_0x44fd14){const _0xf71a58=_0x76dfce;if(_0x5251f0[_0xf71a58(0x6bf)][_0xf71a58(0x613)]===_0xf71a58(0x422)||_0x5251f0[_0xf71a58(0x2dc)][_0xf71a58(0x581)]==='true'){let _0x344623=JSON['parse'](_0x44fd14);_0x44fd14=JSON[_0xf71a58(0x53e)](_0x53fa36(_0x344623));}return _0x30b9fc[_0xf71a58(0x610)](_0xb354b,[_0x44fd14]);},_0x3bd020();}),_0x1dc366[_0x3e17dc(0x586)]('/',Le),_0x1dc366['use']((_0x1e1ece,_0x232df6,_0x3ee9e8,_0x2333aa)=>{const _0x54bf8d=_0x3e17dc;if(_0x1e1ece)return _0x3ee9e8[_0x54bf8d(0x2be)](_0x1e1ece[_0x54bf8d(0x2be)]||0x1f4)[_0x54bf8d(0x4e8)](_0x1e1ece);},(_0x163f65,_0xaf1da7,_0xcaa4e3)=>{const _0x60144f=_0x3e17dc;let {method:_0x85dab8,url:_0x12074b}=_0x163f65;_0xaf1da7[_0x60144f(0x2be)](0x194)['json']({'status':0x194,'message':_0x60144f(0x403)+_0x85dab8[_0x60144f(0x2ed)]()+'\x20'+_0x12074b,'error':_0x60144f(0x43e)}),_0xcaa4e3();});let _0x53fa36=(_0x1e2121,_0x13c43f='_p_')=>{const _0x3376cd=_0x3e17dc;let _0xaa6835=(_0x1124c0,_0x588cad=null,_0x5d05b9=!0x1)=>{const _0x199edb=a0_0x2e53;let _0x383564={};return Object[_0x199edb(0x58e)](_0x1124c0)[_0x199edb(0x839)](_0x59e22c=>{const _0x31eb57=_0x199edb;let _0x48544b=_0x1124c0[_0x59e22c],_0x1e64ee=''+_0x13c43f+_0x59e22c;_0x588cad&&!_0x5d05b9&&(_0x1e64ee=_0x588cad+'.'+_0x59e22c),!_0x48544b&&_0x48544b!==0x0&&_0x48544b!==!0x1||typeof _0x48544b>'u'?_0x383564[_0x1e64ee]=null:typeof _0x48544b!=_0x31eb57(0x307)&&!Array[_0x31eb57(0x435)](_0x48544b)?_0x383564[_0x1e64ee]=_0x48544b:typeof _0x48544b==_0x31eb57(0x307)&&!Array[_0x31eb57(0x435)](_0x48544b)?_0x383564=Object['assign'](_0x383564,_0xaa6835(_0x48544b,_0x1e64ee)):Array[_0x31eb57(0x435)](_0x48544b)&&(typeof _0x48544b[0x0]=='object'?(_0x383564[_0x1e64ee]=[],_0x48544b[_0x31eb57(0x839)](_0x5f150b=>{const _0x2ed977=_0x31eb57;_0x383564[_0x1e64ee][_0x2ed977(0x6e9)](_0xaa6835(_0x5f150b,_0x1e64ee,!0x0));})):_0x383564[_0x1e64ee]=_0x48544b);}),_0x383564;};return Array[_0x3376cd(0x435)](_0x1e2121)?_0x1e2121[_0x3376cd(0x506)](_0x895685=>_0xaa6835(_0x895685)):typeof _0x1e2121=='object'&&_0x1e2121!==null?_0xaa6835(_0x1e2121):{};},_0x35ca82=b[_0x3e17dc(0x407)]('SERVER');je[_0x3e17dc(0x462)]=_0x1dc366;let _0x3afa5b=je[_0x35ca82[_0x3e17dc(0x827)]],_0xf05df=_0x3e17dc(0x81d);_0x3afa5b[_0x3e17dc(0x13d)](_0x35ca82[_0x3e17dc(0x12d)],()=>{const _0xef9db8=_0x3e17dc;_0x44ee8f['log'](_0xf05df),_0x44ee8f[_0xef9db8(0x54b)](_0x35ca82[_0xef9db8(0x827)][_0xef9db8(0x2ed)]()+'\x20-\x20ON:\x20'+_0x35ca82['PORT']);}),ar(),ta();}var or=a0_0x75ac12(0x19e),rr=ds[a0_0x75ac12(0x636)]['join'](__dirname,a0_0x75ac12(0x329)),Ae=null;function nr(){return new Promise((_0x3dc187,_0xe0909f)=>{const _0x4f1edc=a0_0x2e53;Je[_0x4f1edc(0x636)][_0x4f1edc(0x5a1)](rr,'utf-8',(_0x3b6c2f,_0x6707fa)=>{const _0x467494=_0x4f1edc;if(_0x3b6c2f){Ae=_0x3b6c2f,_0x3dc187();return;}Bi['default'][_0x467494(0x31e)](_0x6707fa)[_0x467494(0x4e4)][_0x467494(0x547)]===or?(Ae=null,_0x3dc187()):(Ae=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x3dc187());});});}async function cr(){const _0x112a4c=a0_0x75ac12;try{await nr(),await Gs();}catch(_0x37962c){console['error'](_0x112a4c(0x109)+_0x37962c),process[_0x112a4c(0x76d)](0x1);}}cr();async function Wi(){const _0x23aad9=a0_0x75ac12;let _0x2b23f9;try{_0x2b23f9=(await qe[_0x23aad9(0x636)][_0x23aad9(0x407)](_0x23aad9(0x1f7)))[_0x23aad9(0x3d8)]['ip'];}catch(_0x58c6ef){console[_0x23aad9(0x15c)](_0x58c6ef);try{_0x2b23f9=(await qe[_0x23aad9(0x636)][_0x23aad9(0x407)](_0x23aad9(0x5d0)))[_0x23aad9(0x3d8)]['ip'];}catch(_0x1a7e65){console['error'](_0x1a7e65);try{_0x2b23f9=(await qe[_0x23aad9(0x636)]['get'](_0x23aad9(0x2b1)))[_0x23aad9(0x3d8)][_0x23aad9(0x599)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x13f996){return console[_0x23aad9(0x15c)](_0x13f996),!0x1;}}}return _0x2b23f9;}var ji=0x0;function a0_0x47be(){const _0x15712d=['\x1b[0m','flowConfig','editflowblock','params','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','set','convertaudio','\x27\x20removido\x20do\x20AutomateSystem.','isListOfNumbers','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','request\x20body:\x20','format','extractPhoneNumber','\x0a{\x20instance:\x20','Deletion\x20failed','activatedCount','flush','downloadMediaMessage','.ogg','poll','reconnectAttempts','dbServer','headerString','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','CHATS_UPDATE','getLabelModelForOwner','getOwnPropertyDescriptor','groupdata.participants','editFlowBlock','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','creds.update','Font\x20is\x20required','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','SERVER_URL','waInstances','50mb','The\x20property\x20cannot\x20be\x20empty','hGetAll','Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup','deleteImportedChat','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','getGroupMetadataCache','imagechat','errorLog','InstancesAlterarTodas','createIPv6','findMessages','.pdf','organization','user','closed','\x20-i\x20','groups.upsert','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','#000000','menuExpiredMessage','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','unlinkSync','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','uazapiSendMenu','getMessageModelForOwner','email','model','getUpdate','variablesNotFound','deleteAll','Type\x20is\x20required','presence.update','instanceCount','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','updateProfileStatus','keyPattern','\x20não\x20encontrado\x20para\x20atualização.','WebhookGlobal','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','isCommunity','equal','beforeExit','eventEmitter','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','.png','agents','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','valid','.extension','matchRegex','.jwt','oldValue','\x1b[36m%s\x1b[0m','https://uazapi-plugin.bubbleapps.io/?url=','delaySecMin','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','\x1b[33m%s\x1b[0m',',\x20global:\x20','repository','SEND_MESSAGE','exit','#92ceac','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','admin','retrySendMessage','):Hash\x20to\x20image\x20name:\x20','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','Connection\x20closed\x20for\x20instance:\x20','local_map','g-t','lastRealGroupsFetch','protocolMessage','expression','boolean','contextInfo','findRealGroups','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','Parando\x20aplicação...','.webp','/wa-contacts','):\x20nextBlock.uazapi.name','--------------------------------------','):\x20Query\x20params:','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','):\x20Ler\x20mensagem','fileLength','flattenObject','author','):\x20this.processingGroup._id:\x20','eventHandler','setContext','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','wuid','pairingCode','):Image\x20is\x20base64','#ffae04','type','DATABASE_CONNECTION_PASSWORD','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','CORS_METHODS','convertaudioMP3','delayChatLabel_MAX_RETRIES','jid','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','_FlowHistorico','createClient','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','updateProfileName','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','Erro\x20ao\x20atualizar\x20AutomateSystem:','header','Parando\x20aplicação,\x20atualização\x20recebida','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','folder','verifiedName','customFields','getMinutes','groupValidate','request\x20received\x20in\x20updateAgent','groupDesc','bodyStringErrorParse','/wa-groups','):\x20error:\x20','[AUTH]\x20Database\x20is\x20not\x20enabled','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','reorderBlocks','awaitSeconds','groupParticipantsUpdate','CORS_CREDENTIALS','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','__esModule','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','processingGroup','fetchInstances','long','REDIS_URI','address','audioWhatsapp','SERVER_ACK','KEY','yes','done','warn','sendSticker','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','_Chats','^\x5cd+','toggleEphemeral','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','listMessage','readMessageBot','https','Erro\x20ao\x20iniciar\x20o\x20fluxo.','startFlow','scheduleNextCheck','reconnectTimestamps','#fed428','toString','):\x20customFieldVariables','Error\x20updating\x20message\x20status:','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','ip\x20-6\x20addr\x20show\x20dev\x20','pictureUrl','requestFile','):\x20Buscando\x20conversa...','\x20-y','processUUID','\x1b[33m\x1b[1m','composing','#6f7bcf','):\x20Conversa\x20está\x20expirada\x20-\x20voto','StatusJidList\x20is\x20required','LOG','ON\x20-\x20dbName:\x20','#9568cf','EMAIL:','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','drop','getAllData','createNewConversation','lastCondition','joinGroup','AddUserFlow','put','makeCacheableSignalKeyStore','https://uazapi-plugin.bubbleapps.io/','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','sendAudio','atendimentoAberto','leadInfo.desativadoFluxoAte','stopIfLastReturnedError','startCommandWord','everyOne','replyOptions','Valor\x20da\x20URL\x20recuperada:','instance','leadInfo','finish','auth','ChatRouter','waitingMenu_text','connectedName','validate','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','fetchStatus','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','.webm','STORE_MESSAGE','upperCase','):\x20Deletando\x20mensagem','Subdomínio\x20não\x20encontrado','lastUpdate','DisconnectReason','MESSAGES_SET','CLEANING_INTERVAL','readData','):Image\x20created','LabelModel','call','charAt','GUARD','Esse\x20fluxo\x20não\x20permite\x20importação.','groupJoinApprovalMode','request\x20received\x20in\x20updateCustomFields','authorization','processUazapi','transformScheduledMessagesByType','@ffmpeg-installer/ffmpeg','Module\x20-\x20ON','TEXT','child_process','automateSystem','importChats','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','CREDENTIALS','lastMessage','importChatsAntigo','findFlow','Error\x20testing\x20IP\x20with\x20','toLocaleString','ip6eui','getOwnPropertyNames','SECRET','TYPE','off','update','express','awaitingApproval','/clients-info','filter','replaceVariablesChat','flowName','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','expiration','IPv6\x20Prefix\x20detected:\x20','/instance/create','Instância\x20não\x20encontrada.','birthtime','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','REDIS','Erro\x20ao\x20executar\x20bulkWrite:','forEach','webhookMap','viewOnceMessageV2','Tentando\x20reconectar...','updateGroupParticipantsWebhook','env','USER','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','/startFlow/:instance/:startID','eventemitter2','setHeader','color','configService','notContains','scheduled','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','approve','enumerable','request\x20received\x20in\x20createFlow','subject','loadInstance','):\x20Criando\x20fluxo\x20compartilhado...','deleteReplyOption','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','leaveGroup','):\x20Iniciando\x20bot...','processPollUpdateMessage','hbs','Erro\x20ao\x20editar\x20o\x20chat','#00a1f2','.TEL;waid=','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','waUploadToServer','updateMany','node-cache','phoneNumber','isJidUser','groupRevokeInvite','function','random','text','jsonwebtoken','ini','exports','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','varedits','pollMessage','pollCreationMessageV2','CORS_ORIGIN','connectToWhatsappController','updateGParticipant','uazapiSendMedia','realVariables','processblock','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','Forbidden','announcement','):\x20Conversa\x20inserida\x20com\x20sucesso.','findAll','optionDescription','removeInstance','isRunning','trim','endsWith','\x1b[33m','):\x20mediaMessageInfoId\x20:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','sort','OrAnd','Erro\x20ao\x20buscar\x20Schedule\x20Messages','latitude',',\x20Expiration\x20Time:\x20','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','application/json','processawaitSeconds','}}\x20->\x20valor\x20não\x20encontrado','/config','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','):\x20Editando\x20bloco...','PORT','updateStatusPrivacy','block','):\x20Adicionando\x20\x27','ScheduleMessage','getHours','normalizeMessage','mediaSticker','labels.edit','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','setRestartTimeout','Erro\x20ao\x20deletar\x20mensagens:','$pull','ignoreGroups','console','dataValidate','listen','\x20saindo\x20da\x20função','menuType','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','*Pergunta*:\x20\x0a','dropCollection','Falha\x20ao\x20recriar\x20IPv6.','output','chats.update','STORE_CHATS','StartID:','isBase64','Erro\x20ao\x20normalizar\x20a\x20mensagem:','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','Configured\x20IPv6:\x20','shift','Group\x20not\x20found','fetchPrivacySettings','\x20instance\x20does\x20not\x20exist','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','):Business\x20profile\x20fetched','reorderMessages','labelId','replace','readreceipts','list','chats.upsert','Error\x20fetching\x20group','label','/events','DaysToDelete','error','Internal\x20Server\x20Error','sendReaction','Instâncias\x20removidas:\x20','memberAddMode','The\x20','https://v6.ident.me','ObjectId','contacts.upsert','flowPrefixCommand','uncaughtException','):Audio\x20converted\x20and\x20stored\x20in\x20cache','saveConversationToDatabase','Erro\x20na\x20função\x20updateChatWithMessage:\x20','vir','/wa-connection-update','updateStopChat','messages','Erro\x20ao\x20atualizar\x20o\x20fluxo:','sendButtons','split','CONECTADO\x20À\x20UAZAPI','userDevicesCache','entries','fora\x20do\x20git','\x20and\x20data:','mentions','selectableCount','chatHandle','privacySettings','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','varedit','restrict','groupSetting','reaction','Network\x20Interface\x20detected:\x20',',\x20valor\x20passado:\x20\x22','hasOwnProperty','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','VERBOSE','chats','ListType','.txt','*\x0a\x0a','findGroupsEspecial','connecting','\x20com\x20sucesso.','createAndSave','pollCreationMessage','pollCreationMessageKey','flowStopMinutes','rowId','AutomateSystem','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','unreadcount','GROUPS_UPDATE','findAndUpdateCacheContact','verbose','fromMe','HH:mm:ss','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','CHATS_DELETE','globalShow','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','Erro\x20ao\x20criar\x20fluxo','getPrototypeOf','https://github.com/uazapi/uazapi.git','AddChatLabel','):\x20atualização\x20chat:\x20','Usando\x20IP\x20existente:\x20','cacheContact','Erro\x20ao\x20importar\x20chats','saveMediaToFile','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','pushName','src','DELETED','EMAIL',',\x20isAdmin:\x20','):\x20leadInfoVariables','Falhou\x20ao\x20encontrar\x20chat\x20','ephemeralExpiration','updateConversation','descOwner','urlencoded','video','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','webhookModel','Flow\x20\x27','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','write','\x20foi\x20interrompido\x20pelo\x20usuário.','where','Read\x20messages','optionName','messageSecret','rows','CONNECTION_UPDATE','content','):\x20não\x20encontrou','path','generate','Router','find','request\x20received\x20in\x20editFlow','spawn','viewOnceMessage','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','sim','timeout','MAX_SAFE_INTEGER','saveVariable','Rótulo\x20inválido\x20ou\x20sem\x20ID.','REDIS_ENABLED','LEVEL','deleteChat','):\x20Entrou\x20na\x20função\x20saveReply','deleteOne','mentioned','isInteger','getConversationModelForOwner','/instance/delete','blocks','$dbName','Deleted\x20','unhandledRejection','fetchProfile','getConversation','):\x20Entrou\x20na\x20função\x20stop','Database\x20update\x20result:','limit','nome','connection.update','pop','jwt','redis','\x22\x20not\x20found',',\x20fará\x20nova\x20verificação\x20em\x20','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','contactHandle','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','ephemeralDuration','extractRegex','backgroundColor','lastSendMessage','):Sending\x20audio\x20whatsapp','/wa-message','):\x20ev.flush\x20realizado','):\x20Error\x20processing\x20conditions:\x20','Rótulo\x20deletado:\x27,\x20','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','prototype','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','FlowRouter','https://jsonip.com','messageId','bodyString','Início','preview','authModel','CONTACTS_SET','triedToSend','editflowgroup','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','readMessages','post','fetchLatestBaileysVersion','generateRandomIPv6','editFlowVaredit','.gif','Erro\x20ao\x20aplicar\x20varedit:\x20','PROXY','messageContextInfo','flow','unavailable','flushHeaders','arraybuffer','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','replaceValue','demote','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','modifiedCount','isCommunityAnnounce','join','Enter\x20a\x20value\x20in\x20milliseconds','jpegThumbnail','reactionMessage',',\x20Minutes\x20to\x20Close:\x20','updateMissingTags','newStoppedUntil','textMessage','sendPoll','):\x20Alterando\x20fluxo...','addChatLabel','exists','Subscribed\x20Events:','/wa-chats','messages.set','logger','startID','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','superadmin','Contacts\x20not\x20found','Número\x20não\x20possui\x20WhatsApp.','connectionState','whatsappNumbers','apiName','editFlow','findGroup','getContactModelForOwner','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','Missing\x20global\x20api\x20key','newValue','):\x20teve\x20mudanças\x20chat.archived:\x20','.fileUrl','CONTACTS_UPSERT','and','waitingForReplyMenu','@whiskeysockets/baileys','chatLog','documentMessage','getTicketSystem','minutesToClose','Bloco\x20com\x20ID\x20','Limpando\x20logs\x20do\x20PM2...','linkPreview','trimmed','CONNECTION','hGet','label_jid','):Output\x20path:\x20','picture','\x1b[30m','dayjs','createServer','greater','ContactModel','Erro\x20ao\x20atualizar\x20cacheInstance:','participants','mediatype','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','):\x20Entrou\x20na\x20função\x20processawaitSeconds','none','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','close','dbConnection','convertToWebP','listResponseMessage','):\x20Label\x20','tags','FlowController','JWT','stopped','ERROR:\x20','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','subjectTime','):\x20tem\x20blocks','resetReconnectionVariables','):\x20\x27Enviando\x20texto\x20para\x20\x27','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','pino','fetchChats','_error','message_normalized','locked','unreadCount','all_member_add','findConversation','updateMessage','logout','):\x20Comando\x20desconhecido:\x20','goNextblock','upsertChats','SSL_CONF_PRIVKEY','networkInterface','stopMinutes','generateHash','ipv6Prefix','editFlowVariable','Mensagem\x20não\x20suportada','@broadcast','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','Content-Type','delayMessage','statSync','.type','webp','\x20mensagens\x20de\x20','contact','request\x20received\x20in\x20starFlow','groupMetadata','instance.','username','AppStateSyncKeyData','):\x20Enviando\x20mensagem\x20para\x20','Erro\x20ao\x20tentar\x20autoCompleteMessages','):\x20Conversa\x20atualizada\x20em\x20memória','waitingMenu_replyOptions','AUTHENTICATION_TYPE','\x1b[32m%s\x1b[0m','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','request\x20received\x20in\x20deleteFlow','create','width','Last\x20message\x20not\x20found\x20for\x20number:\x20','throwAndLogError','cpf','Instance\x20ID:','URL','webhook','Erro\x20ao\x20alterar\x20privacidade','messageType','match_last_seen','convertedOptions','synchronizeAndMapFlows','contacts','method','):Type\x20defined\x20as\x20audio','removeProfilePicture','revokeInviteCode','https://','document','Erro\x20ao\x20inserir\x20chats:','announce','/64\x20dev\x20','STORE','fetchBusinessProfile','add','connect','Valor\x20de\x20find\x20ou\x20replace\x20ausente','notEqual','stderr','Esse\x20fluxo\x20expirou','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','groupInviteCode','command','_id','condition','http://checkip.dyndns.org','apikey','QRCODE_UPDATED','createConnection','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','getFlow','\x1b[34m','has','editFlowReply','Types','notas','checkAndRestartProcess','insert','status','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','pollUpdateMessage','RemoteJid:','stateConnection','creation','key','fetchProfilePicture','isValidIPv6Config','Button\x20IDs\x20cannot\x20be\x20repeated.','findById','last','URL\x20completa:','STORE_CONTACTS','pollErrorMessage','Falha\x20ao\x20criar\x20IPv6.','):\x20Limpando\x20AutomateSystem','mongodb','Authentication\x20error','groupLeave','Erro\x20ao\x20editar\x20agentes','groupGetInviteInfo','randomMac','vcard','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','):\x20Bloco\x20original\x20para\x20cópia:\x20','):\x20Buscando\x20flow,\x20id:\x20','/media/','Connection','inner','headers','findMany','#ff9484','views','body','connectionUpdate','processConditionsTest','order','.docx','groupUpdateDescription','replaceOne','deleted','):\x20Procurando\x20mensagens\x20para\x20envio','\x1b[32m','):\x20Entrou\x20na\x20função\x20clearVariables','PASSWORD','):\x20Flow\x20desativado','toUpperCase','every','writeFile','):Image\x20path:\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','cacheContactModel','SSL_CONF',',\x20qrcodeCount:\x20','findGroups','updateLastSeenPrivacy','stdout','@s.whatsapp.net','Novo\x20IP\x20criado:\x20','caption','statusMessage','redis://127.0.0.1:6379','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','authState','findOrCreate','instanceName','sleep','):\x20newFirstValue\x20após\x20replaceVariables:','defineAuthState','/message','status@broadcast','option','object','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','\x27\x20não\x20encontrado','updateProfilePicture','setUpdate','https://api.openai.com/v1/images/generations','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','https://api.openai.com/v1/audio/speech','success','updateGroupPicture','/webhook','Error\x20removing\x20unused\x20chat\x20fields:','MESSAGES_UPDATE','Unauthorized','_activedCount','emit','URL:','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','clearVariables','qrcode.updated','groups_ignore','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','createConversationforgoToFlow','parse','updateMissingCustomFields','replyOption','\x20inseridos\x20no\x20banco\x20de\x20dados...','updateOneById','remoteJid','Subdomínio\x20extraído\x20da\x20URL:','-whatsapp-api','requestPairingCode','#d3a91f','sectionsToString','./.git/config','detail','start','formatBRNumber','groupBetterSetting','MessageModel','/instance/fetchInstances','.wav','):Getting\x20image\x20from\x20url','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','deleteInstance','ip\x20-6\x20addr\x20del\x20','404Jivhvn','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','):\x20whoCanEdit\x20after\x20validation:\x20','STORE_CLEANING_TERMINAL','../env.yml','):Desconectado,\x20parando\x20execução.','evaluateCondition','firstValue','AUTHENTICATION','messaging-history.set','blockId','detectIPv6PrefixAndInterface','#b4ebff','\x20}\x0a','#56ccb4','sendMessage','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','removeUnusedChatFields','):Image\x20converted\x20to\x20WebP','error_log','connectionClosed','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','findOneAndUpdate','CONTACTS_UPDATE','canSendMessage','Instance\x20Key\x20from\x20DB:','reject','splice','pm2\x20flush','):\x20conversation.waitingMenu_name','getTime','joinGroupValidate','scheduleSendText','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','\x1b[43m','):\x20Editando\x20replyOption...','LOG_LEVEL','envProcess','fetchMessages','quoted','inviteCode','normalizeMessageContent','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','DATABASE_CONNECTION_URI','bulkWrite','findContacts','Cache-Control',',\x20Comparador:\x20','copy','Resultado\x20da\x20correspondência\x20de\x20URL:','static','):Error\x20in\x20converting\x20audio','readdirSync','Erro\x20ao\x20buscar\x20metadados\x20do\x20grupo\x20para\x20','startsWith','instanceName\x20not\x20provided.','Flow\x20iniciado','licenca','.svg','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','fileName','autoCompleteMessages.command','request\x20received\x20in\x20scheduleMessage','\x22\x20cannot\x20be\x20empty','getStatus','\x1b[37m%s\x1b[0m','messageTimestamp','1170eVdjaa','saveCreds','editFlowCondition','dbClient','deleteConversation','delayChatLabel_RETRY_DELAY_MS','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','.jpg','importChatsBatch','dbSettings','currency','No\x20suitable\x20network\x20interface\x20found','/chat','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','/exit','TEL','groupFetchAllParticipating','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','substring','badSession','description','compression','\x1b[37m','updateAutoCompleteMessages','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','string','Erro\x20ao\x20deletar\x20chat:','when','formatVCard','conditions','):\x20Editando\x20condição\x20do\x20fluxo...','group-participants.update','Erro\x20inesperado\x20em\x20processvaredits:\x20','scheduleSendMedia','lean','.doc','\x1b[36m','.mp3','The\x20\x22','repeat','markMessageAsRead','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','profilePictureUrl','envYaml','groupId','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','getChatModelForOwner','WA\x20MODULE','https://api.elevenlabs.io/v1/text-to-speech/','maxActives','context','):\x20Editando\x20edição\x20do\x20fluxo...','):\x20Procurando\x20conversa','prepareWAMessageMedia','API\x20Key\x20inválida.','):Image\x20is\x20url','segundos','groupRequestParticipantsUpdate','API\x20Key\x20from\x20Request:','request\x20received\x20in\x20editFlowgroup','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','waMonitor','Log\x20out\x20instance:\x20','number','js-yaml','request\x20received\x20in\x20updateAutoCompleteMessages','updateFlowConfig','\x20adicionado\x20ao\x20chat\x20','chatId','SendScheduleMessage','selectedOptions','STATUS_INSTANCE','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','47555yloENm','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','audio','quotedMessage','cacheInstanceModel','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','deleteDoneMessages','writeFileSync','Instance\x20logged\x20out','groupdata','last_update','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Fluxos\x20não\x20estão\x20ativados','website','lowerCase','):\x20Editando\x20variável\x20do\x20fluxo...','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','):\x20','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','findIndex','request\x20received\x20in\x20getFlow','\x20:\x20','data','groupMemberAddMode','updateGParticipate','dbInstance','contactMessage','PREFIX_KEY','editflowreply','createGroup','replacer','readMessage','):\x20Atualizando\x20status\x20da\x20mensagem\x20','subjectOwner','sendStatus','events','sendMessageAck','inet6','https://api64.ipify.org?format=json','isValidAndUniqueIPv6','findAndReplaceRegex','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','0123456789ABCDEF','group','sharp','):\x20conversation.lastInteraction:\x20','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','_pushName','.mimetype','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','NextBlock','?timestamp=','router','processclearVariables','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','editMessagesInGroup','updateAgent','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','SERVER','updatePresence','#ffffff','extractMessageContent','remove','https://chat.whatsapp.com/','\x20horas\x20e\x20','Cannot\x20','buffer','nomecompleto','testingWith','get','toBRL','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','mediaKey','\x20segundos','):\x20Editando\x20grupo\x20do\x20fluxo...','flowActive','digest','notEmpty','):\x20Enviando\x20contato','HeaderType','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','updateCustomFields','assign','DARK','leadInfo.customFields','scheduleFlow','created','iniciando\x20fluxo\x20router','Falha\x20ao\x20processar\x20a\x20solicitação','Erro\x20ao\x20iniciar\x20fluxo:\x20','FULLCHAIN','state','_ScheduleMessages','\x22reaction\x22\x20must\x20be\x20an\x20emoji','loggedOut','Schema','true','store','-instances','flowIgnoreGroups','startFlowWebhook','connectedClient','):\x20Criou\x20conversa\x20no\x20startFlow','value','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','variables','AutomateFunctions','isJidGroup','getContentType','recording','Erro\x20ao\x20encerrar\x20a\x20API','DELIVERY_ACK','https://ipv6.jsonip.com','getScheduleMessage','sendMedia','isArray','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','Erro\x20ao\x20tentar\x20updateCustomFields','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','messages.upsert','getLastMessage','scheduleSendAudio','SERVER_OFFLINE','keep-alive','Not\x20Found','\x22\x20-\x20NOT\x20CONNECTION','title','cacheInstanceRepository','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','removeData','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','buttonText','_Contacts','encoding','removeIPv6ById','):\x20Usando\x20extensão\x20padrão:\x20','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','size','variablesToObject','qrcode-terminal','storePath','fone','getClient','code','app-state-sync-key','messages.update','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','binary','Valor\x20inicial:\x20\x22','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','#83e421','media','2515471GfVfbh','toDataURL','BRL','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','save','app','count','array','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','image','saveTextReply','CHATS_SET','_sender','PRODUCT_LIST','menuMessage','errors','groupCreate',',\x20canSendMessage:\x20','processScheduleFlow','delAll','/create','Validate','):\x20Criando\x20nova\x20conversa[createNewConversation]','Retornando\x20grupos\x20COM\x20cache','Variáveis\x20não\x20encontradas:','status.instance','urlOrBase64','message','updateGroupWebhook','ip\x20-br\x20link\x20show','fromObject','setNewValue','\x27...','Network\x20interfaces\x20detected:\x20','from','telefone','changeVariables','setting','editScheduleMessage','interval\x20não\x20é\x20um\x20número','):\x20whoCanUse\x20before\x20validation:\x20','bearer','):\x20Buscando\x20conversas...',',\x20Resultado:\x20','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','SERVER_TYPE','uazapiSendAudio','ReplyOption\x20com\x20ID\x20','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','uazapiDeleteMessage','class-validator','joinApprovalMode','Instance\x20deleted','findManyByIds','sections','pendingMessages','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','Message','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','then','profile','):\x20Entrou\x20na\x20função\x20scheduleFlow','etiquetas','Instance\x20restarted','):\x20Enviando\x20enquete','Nenhum\x20fluxo\x20correspondente\x20encontrado.','fetchConversation','sendContact','toNumber','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','whoCanUse','):\x20updateResult:','findOne','archive','DEBUG','deleteMessage','collections','INFO','proxy:\x20','File\x20written\x20to\x20path:\x20','cleanDisconnectedInstances','truncatedto','sendLocation','PRESENCE_UPDATE','uuid','empty','footerText','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','getMessage','editflowvaredit','scheduleMessage','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','\x1b[47m','Invalid\x20format','):\x20[messages.update]\x20group\x20ignored','choices','ERROR','Background\x20color\x20is\x20required','archived','owner','exec','MESSAGES_UPSERT','node-mime-types','createConversationforStartFlow','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','moreLogs','noConnection','Close\x20connection','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','AUTHENTICATION_API_KEY','IP\x20mismatch:\x20configured\x20','waitingMenu_id','endSession','updateAll','proto','sending','mongodb://','ip:\x20','parseInt','groupRequestParticipantsList','SINGLE_SELECT','.\x20Aguardando\x20','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x0aFN:','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','\x1b[1m','catch','onWhatsApp','waitingMenu_ExpiredMessage','.\x20Pulando.','fetchLabels','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','remote\x20\x22origin\x22','express-async-errors','AUTHENTICATION_JWT_EXPIRIN_IN','online','json','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','labels.association','updateMissingEtiquetas','ORG:','isAdmin','gifPlayback','findGroupInfo','test','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','deleteMessageForEveryone','):\x20Envio\x20interrompido\x20devido\x20a\x20UUID\x20de\x20processo\x20não\x20corresponder.','bateu\x20events','processvaredits','pollOnReplyDelete','Error\x20while\x20deleting\x20message\x20for\x20everyone','chat','getBase64FromMediaMessage','GROUP_PARTICIPANTS_UPDATE','send','Erro\x20ao\x20editar\x20a\x20conversa','RemoveChatLabel','):Temp\x20image\x20deleted','response','stanzaId','secondValue','sign','addReplyOption','now','map','shareFlow','XX:XX:XX:XX:XX:XX','messageHandle','creds.json','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','not_announcement','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','docker','mimetype','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Primeiro\x20Valor:\x20','documentWithCaptionMessage','uazapiSendContact','\x5c$&','removed','stopConversation','sendWhatsAppAudio','ff:fe','less','Safari','Atualização:\x20','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','creds','Fluxo\x20id\x20\x27','stopMinutesMaxActives','isURL','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','silent','isBusiness','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','):\x20expirationTime:\x20','#f64847','application/octet-stream','updateBlock','participant','createOrUpdate','\x20ao\x20chat\x20','addBlock','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','createSectionsFromValues','chat\x20não\x20encontrado','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','contentText','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','flowConversation','longitude','Error\x20writing\x20file:\x20','#d8e651','name','):Processing\x20audio','Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:','desativadoFluxoAte','/instance','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','idSchedule','stringify','presence','updateProfilePicturePrivacy','lastReceivedMessage','del','Type\x20not\x20found','reorderReplyOptions','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','groups','url','groupadd','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','createWebhook','log','max','Erro\x20ao\x20buscar\x20o\x20fluxo','.ppt','DB_PREFIX_NAME','allFlows','):\x20Buscando\x20flow...','content-type','getScheduleMessageModelForOwner','\x20Tentativa\x20de\x20reconexão\x20','numbers','groupSettingUpdate','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','Mac\x20OS','deleteBlock','LICENSE_INVALID','findByIdAndUpdate','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','.xls','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','deletedCount','existsSync','delay','Partes\x20do\x20domínio:','ListMessage','messageStubParameters','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Buscando\x20todos\x20os\x20fluxos...',',\x20lastCondition:\x20','sem\x20texto\x20na\x20mensagem','Stack\x20trace:','Erro\x20ao\x20atualizar\x20o\x20flow.','Subdomínio\x20final:','redirect','toLowerCase','DATABASE_CONNECTION_USER','Instância:\x20','\x20do\x20chat\x20','18EFpCtk','/instance/connectionState','deleteMany','flows','allContacts',',\x20saindo.','available','error\x20get\x20vote','padEnd','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','action','READ','webhookService','_fromMe','removeIPv6','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','uazapi','Falha\x20ao\x20processar\x20fetchBusinessProfile','result','editChat','delete','use','getValidWhatsAppNumbers','chatModify','processgoToFlow','whoCanEdit','getDevice','hDel','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','keys','authService','notMatchRegex','createJid','/instance/connect','updateReplyOption','upsertedCount','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','defineProperty','DATABASE_CONNECTION_DB_PREFIX_NAME','routerPath','match','lastSend','pre','ms\x20(tentativa\x20','):\x20Grupo\x20','info','PLAYED','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','readFile','setWebhook','replaceVariablesLogs','findParticipants','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','#9ab6c1','apirequest','):\x20Bloco\x20copiado:\x20','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','SERVER_PORT','updateMediaMessage','leadInfo.atendimentoAberto','sendCommand','SSL_CONF_FULLCHAIN','[all]','/wa-presence','global','startCommand','Instance\x20\x22','admin_add','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','updateOne','):\x20enviado\x20para\x20[','contacts.update','\x1b[31m','cors','includes','743778WKqBBb','chats.set','request\x20received\x20in\x20editFlowvariable','Erro\x20ao\x20alterar\x20fluxo','EXPIRIN_IN','basename','sendMenu','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','deleteFlow','cleaningUp','redisEnv','Fluxo\x20não\x20encontrado\x20na\x20memória.','downloads','groupUpdateSubject','pollMessageOnDelete','isJidBroadcast','):\x20Flow\x20\x27','\x20removido\x20do\x20chat\x20','promote','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','https://api.ipify.org?format=json','presenceSubscribe','request_time','initAuthCreds','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','$set','):\x20\x27Enviando\x20mídia\x20para\x20\x27','Chat\x20com\x20ID\x20','IPv6\x20addresses\x20detected:\x20','enabled','CORS','createHash','):\x20debug\x20alterando\x20this.AutomateSystem','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','Nenhum\x20chat\x20encontrado\x20para\x20editar.','):\x20transformedCustomFieldVariables','Instance\x20Name:','toBrazilianNumberFormat','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','!cmd_','http','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','Número:\x20','cleanStore','request\x20received\x20in\x20updateFlowConfig','readFileSync','request\x20received\x20in\x20editFlowcondition','Not\x20is\x20business\x20profile','updateChatGroupData','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','Mensagens\x20deletadas\x20com\x20sucesso.','cachedContact','editFlowGroup','menuIgnoreNonVotes','Error\x20fetching\x20and\x20updating\x20profile:\x20','listType','This\x20name\x20','indexOf','floor','height','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','E-mail:\x20','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','integer','268608gLunlM','goToFlow','.pptx','namespace','padStart','evaluateConditionTest','CHATS_UPSERT','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','mediaMessage','fetchContacts','Conexão\x20estabelecida','getVariablesChat','Erro\x20ao\x20remover\x20label\x20','archiveChat','delayChatLabel','getDelay','next_groupId','apply','):\x20\x27Deletando\x20fluxo,\x20id:\x20','Data\x20inválida\x20fornecida','convert','statusJidList',',\x20resultado:\x20','END:VCARD','):including\x20timestamp\x20in\x20url:\x20','):\x20Enviando\x20áudio','Conversa\x20deletada\x20com\x20sucesso.','Cache\x20instance\x20update\x20result:\x20','\x20minutos.\x20Será\x20às\x20','open','Last\x20message\x20not\x20found','toFile','1907144LwsGqA','API_KEY','jsonschema','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','/*.json','length','groupToggleEphemeral','qrCode','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','\x1b[46m','groupAcceptInvite','DATABASE_ENABLED','videoMessage','Error\x20adding\x20IPv6\x20address:\x20','RECONNECT_TIME_FRAME','client','):\x20Mensagem\x20já\x20enviada\x20para\x20','slice','sha256','connectToWhatsapp','Erro\x20ao\x20buscar\x20a\x20conversa','):\x20whoCanUse\x20after\x20validation:\x20','inviteCodeDetails','default','fullName','StartBot','audioMessage','insertMany','\x20minutos\x20verificará\x20novas\x20mensagens','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','dropIndex','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','axios','truncatedtoEnd','shareOwners','editOperator','DATABASE_CONNECTION_HOST','updatePrivacySettings','chats.delete',']\x20(','whatsappNumber','loadEnv','prepareMediaMessage','\x27\x20não\x20encontrado\x20na\x20memória','):\x20Erro\x20durante\x20a\x20atualização:\x20','connectionStatus','video-cover.png','loadWebhook','load','updateChatWithMessage','replaceVariables','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','\x0a*Você\x20respondeu*:\x0a','ScheduleMessageModel','remove.instance','stickerMessage','Erro\x20ao\x20atualizar\x20conversa:\x20','msgRetryCounterCache','?authSource=admin&readPreference=primary&directConnection=true','pollCreationMessageV3','blockLogs','LOG_COLOR','pow','min','myAppStateKeyId','configureIPv6','#fe9dfe','utf8','oldToken','arrayUnique','groupJid','lastFetchAwaitingApproval','variable','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','values','Filtered\x20network\x20interfaces:\x20','cache','\x20depois\x20','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','paused','editConversation','IPv6\x20address\x20removed:\x20','reference','beautifyWithPlaceholders','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','imgUrl','font','sendList','):\x20Going\x20to\x20','apiResponse','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','sendText','formatStatusMessage','groupName','ephemeralMessage','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','lastBlockId','unlocked','lastInteraction','some','statusCode','all','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','):\x20Deletando\x20conversa...','capitalizedWords','findWebhook','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','Partes\x20do\x20caminho\x20FULLCHAIN:','dark','ids','stopWhenYouSendMsg','createFlow','editedMessage','reviver','Error\x20in\x20chatModify\x20for\x20number\x20','writeData','ConversationModel','Message\x20absent\x20from\x20node','/:instanceName','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','\x20quoted:\x20','hex','contact_blacklist','\x22\x20-\x20REMOVED','6040ScwucA','reduce','deviceSentMessage','):\x20Chat\x20','ENABLED','contactsArrayMessage','GROUPS_UPSERT','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','HOST','.url','conversationTimestamp','Erro\x20ao\x20copiar\x20o\x20documento','processConditions','cachedData-whatsapp','addMessagesToGroup','mongoose','\x1b[34m%s\x1b[0m','release','isConnected','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','\x0aitem','.xlsx','):\x20Enviando\x20localização','item','collection','no.connection','muteEndTime','verifyWhatsAppNumber','8456800joTEZn','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','DOCKER_ENV','Telefone:\x20','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','groupHandler','round','query','qrcode','g.us','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','):\x20Fluxo\x20\x27','autoCompleteMessages','sendMessageWithTyping','getAutomateSystem','conversation','\x5cd+','getflow','applyvaredit','generateWAMessageFromContent','instanceKeys','buttonId','originalUrl','closeExistingConversations','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','findAndReplace','locationMessage','.error','localWebhook','base64','replaceVariablesInReplyOptions','temp-','sendDataWebhook','):\x20Ignoring\x20group\x20messages.','useMultiFileAuthState','\x20minutos','groups.update','URI','displayName','vote','Selecione','enviado\x20para','):\x20Conversa\x20está\x20expirada','senderKeyDistributionMessage','cwd','sendPresenceUpdate','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','responsavelid','):\x20sender\x20=\x20number:\x20','push','SUCCESS','\x1b[41m','fileUrl','uazapiSendText','buttonMessage','WARN','options','):Audio\x20processed','profilePicture','DATABASE','\x27\x20do\x20banco\x20de\x20dados...','contains','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','buttons','createInstance','_Messages','allflows','instanceInfo','utf-8','instances','BufferJSON','view\x20engine','@g.us','uazapiSendLocation','}}\x20->\x20\x22','imported','saveChatVariables','role'];a0_0x47be=function(){return _0x15712d;};return a0_0x47be();}async function lr(){const _0x5372b1=a0_0x75ac12;let _0x9027e6=await new ge(b['get'](_0x5372b1(0x837)))['instanceKeys']();return console['log']('instancias:\x20',_0x9027e6['length']),_0x9027e6[_0x5372b1(0x624)];}function ur(_0x52dea9){const _0xb82c65=a0_0x75ac12;let _0xf7db02=_0x52dea9['get'](_0xb82c65(0x3fc))[_0xb82c65(0x293)],_0x285d5f=_0x52dea9[_0xb82c65(0x407)]('SSL_CONF');console['log'](_0xb82c65(0x7f3),_0xf7db02),console[_0xb82c65(0x54b)]('Configuração\x20SSL\x20recuperada:',_0x285d5f);let _0x11734d='',_0x2ab6d4=_0xf7db02||'';if(_0xf7db02){let _0x2b99a8=_0xf7db02['match'](/\/\/(.*?)\./);console[_0xb82c65(0x54b)](_0xb82c65(0x367),_0x2b99a8),_0x2b99a8&&_0x2b99a8[0x1]&&(_0x11734d=_0x2b99a8[0x1],console[_0xb82c65(0x54b)](_0xb82c65(0x324),_0x11734d));}if(!_0x11734d&&_0x285d5f&&_0x285d5f[_0xb82c65(0x41c)]){let _0x1ca524=_0x285d5f[_0xb82c65(0x41c)]['split']('/');console[_0xb82c65(0x54b)](_0xb82c65(0x68a),_0x1ca524);let _0xc2fca0=_0x1ca524[_0x1ca524[_0xb82c65(0x624)]-0x2];if(console[_0xb82c65(0x54b)](_0xb82c65(0x539),_0xc2fca0),_0xc2fca0){let _0x14f87b=_0xc2fca0['split']('.');console[_0xb82c65(0x54b)](_0xb82c65(0x562),_0x14f87b),_0x14f87b[_0xb82c65(0x624)]>0x2&&(_0x11734d=_0x14f87b[0x0],console[_0xb82c65(0x54b)](_0xb82c65(0x79d),_0x11734d),_0x2ab6d4=''+_0xc2fca0);}}return{'subdomain':_0x11734d||_0xb82c65(0x804),'fullURL':_0x2ab6d4||'URL\x20não\x20disponível'};}var {subdomain:K,fullURL:Bs}=ur(b);console[a0_0x75ac12(0x54b)](a0_0x75ac12(0x56b),K),console[a0_0x75ac12(0x54b)](a0_0x75ac12(0x2ca),Bs);async function dr(){const _0x5f3814=a0_0x75ac12;let _0xed0e2f=b[_0x5f3814(0x407)]('REDIS'),_0x216677=b['get']('AUTHENTICATION')[_0x5f3814(0x620)]['KEY'],_0x11a37d=b[_0x5f3814(0x407)](_0x5f3814(0x2f3)),_0x44673d=await Wi(),_0xbfb020=b[_0x5f3814(0x407)](_0x5f3814(0x3fc))[_0x5f3814(0x12d)],_0x2bfd22=Bs;try{let _0x56978d={'ip':_0x44673d||null,'redis_enable':_0xed0e2f?.[_0x5f3814(0x69f)]||null,'apikey':_0x216677||null,'ssl':_0x11a37d?.['PRIVKEY']||null,'lastupdate':zi||null,'port':_0xbfb020||null,'gitInstallError':Ae?.[_0x5f3814(0x478)]||null,'url':_0x2bfd22||null,'subdomain':K};if(console[_0x5f3814(0x54b)](_0x5f3814(0x4d3),_0x56978d['ip']),_0xed0e2f&&_0xed0e2f[_0x5f3814(0x69f)]){let _0x5b9059=await lr();_0x56978d[_0x5f3814(0x74f)]=_0x5b9059||null;}for(let _0x46a21e in _0x56978d)_0x56978d[_0x5f3814(0x181)](_0x46a21e)&&_0x46a21e!=='ip'&&(_0x56978d[_0x46a21e]=JSON[_0x5f3814(0x53e)](_0x56978d[_0x46a21e]));return(await qe[_0x5f3814(0x636)][_0x5f3814(0x202)](_0x5f3814(0x198),_0x56978d))[_0x5f3814(0x3d8)];}catch(_0x51516d){return console[_0x5f3814(0x15c)](_0x51516d),!0x1;}}function a0_0x2e53(_0x20a90a,_0x37d975){const _0x47bebc=a0_0x47be();return a0_0x2e53=function(_0x2e53fd,_0x240cff){_0x2e53fd=_0x2e53fd-0xed;let _0x37e441=_0x47bebc[_0x2e53fd];return _0x37e441;},a0_0x2e53(_0x20a90a,_0x37d975);}var qs=!0x1,zi=0x25d,pr=0x3,Ji=0x1b7740;async function Gs(){const _0xb78bc0=a0_0x75ac12;let _0x1a5fc9=_0xb78bc0(0x174);Ae===null&&(_0x1a5fc9=await Wi());let _0x5c28e7=await dr();if(_0x5c28e7){if(_0x5c28e7['response'][_0xb78bc0(0x36f)]===!0x0){Ae===null&&_0x5c28e7[_0xb78bc0(0x500)][_0xb78bc0(0x3cc)]-zi>0x0&&await hr(),qs||(qs=!0x0,ir());let _0x4e16b1=0x24*0x3c*0x3c,_0x396136=_0x5c28e7[_0xb78bc0(0x500)][_0xb78bc0(0x3b1)]>_0x4e16b1?_0x4e16b1:_0x5c28e7[_0xb78bc0(0x500)][_0xb78bc0(0x3b1)],_0x521e72=Number(_0x396136);if(isNaN(_0x521e72)){console[_0xb78bc0(0x15c)](_0xb78bc0(0x484));return;}let _0x268188=Math[_0xb78bc0(0x5f9)](_0x521e72/0xe10),_0x535f22=Math[_0xb78bc0(0x5f9)](_0x521e72%0xe10/0x3c),_0x242313=new Date(Date[_0xb78bc0(0x505)]()+_0x521e72*0x3e8);setTimeout(Gs,_0x521e72*0x3e8);let _0x20b0e3=_0x5d9693=>_0x5d9693[_0xb78bc0(0x7ce)]()['padStart'](0x2,'0'),_0xb95296=_0xb78bc0(0x557)+_0x20b0e3(_0x268188)+_0xb78bc0(0x402)+_0x20b0e3(_0x535f22)+_0xb78bc0(0x61b)+_0x20b0e3(_0x242313[_0xb78bc0(0x132)]())+':'+_0x20b0e3(_0x242313[_0xb78bc0(0x7a5)]())+'.';console['log'](_0xb95296);}else return console[_0xb78bc0(0x54b)](_0xb78bc0(0x371)),qs&&(console[_0xb78bc0(0x54b)](_0xb78bc0(0x5e8)),process[_0xb78bc0(0x76d)]()),_0xb78bc0(0x55a);}else{if(ji++,ji<pr)console[_0xb78bc0(0x54b)]('Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20'+Ji/0xea60+'\x20minutos...'),setTimeout(Gs,Ji);else return console[_0xb78bc0(0x15c)](_0xb78bc0(0x456)),_0xb78bc0(0x43c);}}async function hr(){const _0x58a55d=a0_0x75ac12;console[_0x58a55d(0x54b)](_0x58a55d(0x7a0)),console[_0x58a55d(0x54b)](_0x58a55d(0x23e)),(0x0,us['spawn'])(_0x58a55d(0x351),{'shell':!0x0})['on'](_0x58a55d(0x252),_0x2261be=>{const _0x275609=_0x58a55d;_0x2261be!==0x0?console[_0x275609(0x15c)](_0x275609(0x442)):(console[_0x275609(0x54b)](_0x275609(0x7d1)),console['log'](_0x275609(0x836)),(0x0,us[_0x275609(0x1c5)])('rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys',{'shell':!0x0})['on'](_0x275609(0x252),_0x5f16c2=>{const _0x3ae8b6=_0x275609;if(_0x5f16c2!==0x0)console[_0x3ae8b6(0x15c)](_0x3ae8b6(0x336));else{console[_0x3ae8b6(0x54b)](_0x3ae8b6(0x81b));let _0x2e9d63=(0x0,us['spawn'])(_0x3ae8b6(0x6ae),{'shell':!0x0});_0x2e9d63[_0x3ae8b6(0x2f7)]['on'](_0x3ae8b6(0x3d8),_0x40e2de=>{const _0x51bf92=_0x3ae8b6;console[_0x51bf92(0x54b)](_0x51bf92(0x51b)+_0x40e2de);}),_0x2e9d63['stderr']['on'](_0x3ae8b6(0x3d8),_0x567b1b=>{const _0x1956ae=_0x3ae8b6;console[_0x1956ae(0x15c)]('Erro\x20de\x20atualização:\x20'+_0x567b1b);}),_0x2e9d63['on'](_0x3ae8b6(0x76d),_0x6e884=>{const _0x3b82c0=_0x3ae8b6;_0x6e884!==0x0?console[_0x3b82c0(0x15c)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x6e884):console[_0x3b82c0(0x54b)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x3b82c0(0x54b)](_0x3b82c0(0x77e)),setTimeout(()=>process[_0x3b82c0(0x76d)](),0x2710);});}}));});}0x0&&(module[a0_0x75ac12(0x108)]={'fullURL':fullURL,'subdomain':subdomain});