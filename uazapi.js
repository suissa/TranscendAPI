const a0_0x11dbb0=a0_0x4676;(function(_0x4973c1,_0x50d29c){const _0x143696=a0_0x4676,_0x47c0fe=_0x4973c1();while(!![]){try{const _0x19eef7=parseInt(_0x143696(0x33a))/0x1+parseInt(_0x143696(0x677))/0x2+parseInt(_0x143696(0x5a1))/0x3*(parseInt(_0x143696(0x657))/0x4)+-parseInt(_0x143696(0x4ac))/0x5*(parseInt(_0x143696(0x12f))/0x6)+parseInt(_0x143696(0x438))/0x7*(-parseInt(_0x143696(0x1a5))/0x8)+parseInt(_0x143696(0x2a0))/0x9+-parseInt(_0x143696(0x3f5))/0xa;if(_0x19eef7===_0x50d29c)break;else _0x47c0fe['push'](_0x47c0fe['shift']());}catch(_0x2f8405){_0x47c0fe['push'](_0x47c0fe['shift']());}}}(a0_0x5119,0xaa412));var Po=Object[a0_0x11dbb0(0x39a)],xs=Object[a0_0x11dbb0(0x447)],Oo=Object[a0_0x11dbb0(0x14d)],_o=Object[a0_0x11dbb0(0x2d3)],xo=Object['getPrototypeOf'],$o=Object[a0_0x11dbb0(0x53c)]['hasOwnProperty'],ko=(_0x3f956b,_0x49e6f2,_0x451152,_0x30b4ab)=>{const _0x345a17=a0_0x11dbb0;if(_0x49e6f2&&typeof _0x49e6f2==_0x345a17(0x368)||typeof _0x49e6f2==_0x345a17(0x247)){for(let _0x1e4b00 of _o(_0x49e6f2))!$o[_0x345a17(0x33d)](_0x3f956b,_0x1e4b00)&&_0x1e4b00!==_0x451152&&xs(_0x3f956b,_0x1e4b00,{'get':()=>_0x49e6f2[_0x1e4b00],'enumerable':!(_0x30b4ab=Oo(_0x49e6f2,_0x1e4b00))||_0x30b4ab[_0x345a17(0x1c8)]});}return _0x3f956b;},T=(_0x1d0d08,_0x33d144,_0x163151)=>(_0x163151=_0x1d0d08!=null?Po(xo(_0x1d0d08)):{},ko(_0x33d144||!_0x1d0d08||!_0x1d0d08['__esModule']?xs(_0x163151,a0_0x11dbb0(0x2cc),{'value':_0x1d0d08,'enumerable':!0x0}):_0x163151,_0x1d0d08)),No=T(require(a0_0x11dbb0(0x1c9))),ks=require('fs'),Ls=require(a0_0x11dbb0(0x36d)),Us=require(a0_0x11dbb0(0x15d)),ke=require('path'),K=process[a0_0x11dbb0(0x2ae)](),B=(0x0,ke['join'])(K,a0_0x11dbb0(0x1f1)),$s=(0x0,ke[a0_0x11dbb0(0x140)])(K,a0_0x11dbb0(0x1c4)),Wt=(0x0,ke['join'])(K,a0_0x11dbb0(0x169),'auth'),Vs=require(a0_0x11dbb0(0x489)),Ht=class{constructor(){const _0x45207c=a0_0x11dbb0;this[_0x45207c(0x640)]();}[a0_0x11dbb0(0x123)](_0xec4c0b){const _0x5138aa=a0_0x11dbb0;return this[_0x5138aa(0x455)][_0xec4c0b];}[a0_0x11dbb0(0x640)](){const _0x57b6d0=a0_0x11dbb0;this['env']=process['env']?.[_0x57b6d0(0x25a)]!=='true'?this[_0x57b6d0(0x53a)]():this[_0x57b6d0(0x2d8)](),this[_0x57b6d0(0x455)][_0x57b6d0(0xec)]=process[_0x57b6d0(0x455)]?.['NODE_ENV']==='PROD',process[_0x57b6d0(0x455)]?.[_0x57b6d0(0x25a)]==='true'&&(this[_0x57b6d0(0x455)]['SERVER']['TYPE']=_0x57b6d0(0x3a2),this['env']['SERVER'][_0x57b6d0(0x62c)]=Number[_0x57b6d0(0x378)](process['env']?.[_0x57b6d0(0x225)]??_0x57b6d0(0x478)));}[a0_0x11dbb0(0x53a)](){const _0x155c3c=a0_0x11dbb0;return(0x0,Ls[_0x155c3c(0x566)])((0x0,ks['readFileSync'])((0x0,Us[_0x155c3c(0x140)])($s,'../env.yml'),{'encoding':_0x155c3c(0x18f)}));}[a0_0x11dbb0(0x2d8)](){const _0x58a64a=a0_0x11dbb0;return{'SERVER':{'TYPE':process[_0x58a64a(0x455)][_0x58a64a(0x2f6)],'PORT':Number[_0x58a64a(0x378)](process[_0x58a64a(0x455)][_0x58a64a(0x225)])},'CORS':{'ORIGIN':process[_0x58a64a(0x455)][_0x58a64a(0x5ac)][_0x58a64a(0xe0)](','),'METHODS':process[_0x58a64a(0x455)][_0x58a64a(0x2a8)][_0x58a64a(0xe0)](','),'CREDENTIALS':process['env']?.[_0x58a64a(0x4dd)]===_0x58a64a(0x26f)},'SSL_CONF':{'PRIVKEY':process[_0x58a64a(0x455)]?.[_0x58a64a(0xf8)],'FULLCHAIN':process['env']?.[_0x58a64a(0x1b0)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process['env']?.['STORE_CLEANING_TERMINAL'])?Number[_0x58a64a(0x378)](process[_0x58a64a(0x455)][_0x58a64a(0x372)]):void 0x0,'MESSAGES':process[_0x58a64a(0x455)]?.['STORE_MESSAGE']===_0x58a64a(0x26f),'CONTACTS':process[_0x58a64a(0x455)]?.[_0x58a64a(0x15e)]==='true','CHATS':process[_0x58a64a(0x455)]?.[_0x58a64a(0x3e2)]===_0x58a64a(0x26f)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x58a64a(0x1e8)],'PORT':Number[_0x58a64a(0x378)](process[_0x58a64a(0x455)]?.[_0x58a64a(0x1e8)]),'USER':process[_0x58a64a(0x455)][_0x58a64a(0x32b)],'PASSWORD':process[_0x58a64a(0x455)][_0x58a64a(0x1f7)],'URI':process['env'][_0x58a64a(0x3c2)],'DB_PREFIX_NAME':process[_0x58a64a(0x455)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process['env']?.[_0x58a64a(0x611)]===_0x58a64a(0x26f)},'REDIS':{'ENABLED':process[_0x58a64a(0x455)]?.['REDIS_ENABLED']===_0x58a64a(0x26f),'URI':process[_0x58a64a(0x455)][_0x58a64a(0x3ce)],'PREFIX_KEY':process[_0x58a64a(0x455)][_0x58a64a(0x355)]},'LOG':{'LEVEL':process[_0x58a64a(0x455)]?.['LOG_LEVEL']['split'](','),'COLOR':process[_0x58a64a(0x455)]?.[_0x58a64a(0x24f)]==='true'},'DEL_INSTANCE':(0x0,Vs['isBooleanString'])(process[_0x58a64a(0x455)]?.[_0x58a64a(0x48e)])?process[_0x58a64a(0x455)]['DEL_INSTANCE']===_0x58a64a(0x26f):Number[_0x58a64a(0x378)](process['env'][_0x58a64a(0x48e)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x58a64a(0x455)][_0x58a64a(0x4c4)]?process[_0x58a64a(0x455)][_0x58a64a(0x4c4)]==='true':!0x1,'GLOBAL':{'URL':process[_0x58a64a(0x455)]?.[_0x58a64a(0x5e1)],'ENABLED':process[_0x58a64a(0x455)]?.[_0x58a64a(0x3ae)]===_0x58a64a(0x26f)},'EVENTS':{'STATUS_INSTANCE':process[_0x58a64a(0x455)]?.['WEBHOOK_EVENTS_STATUS_INSTANCE']===_0x58a64a(0x26f),'QRCODE_UPDATED':process[_0x58a64a(0x455)]?.[_0x58a64a(0x618)]===_0x58a64a(0x26f),'MESSAGES_SET':process['env']?.[_0x58a64a(0x476)]===_0x58a64a(0x26f),'MESSAGES_UPSERT':process['env']?.[_0x58a64a(0x567)]===_0x58a64a(0x26f),'MESSAGES_UPDATE':process[_0x58a64a(0x455)]?.[_0x58a64a(0x2ea)]==='true','SEND_MESSAGE':process['env']?.['WEBHOOK_EVENTS_SEND_MESSAGE']===_0x58a64a(0x26f),'CONTACTS_SET':process[_0x58a64a(0x455)]?.['WEBHOOK_EVENTS_CONTACTS_SET']===_0x58a64a(0x26f),'CONTACTS_UPDATE':process[_0x58a64a(0x455)]?.['WEBHOOK_EVENTS_CONTACTS_UPDATE']===_0x58a64a(0x26f),'CONTACTS_UPSERT':process[_0x58a64a(0x455)]?.['WEBHOOK_EVENTS_CONTACTS_UPSERT']===_0x58a64a(0x26f),'PRESENCE_UPDATE':process[_0x58a64a(0x455)]?.['WEBHOOK_EVENTS_PRESENCE_UPDATE']===_0x58a64a(0x26f),'CHATS_SET':process[_0x58a64a(0x455)]?.[_0x58a64a(0x520)]===_0x58a64a(0x26f),'CHATS_UPDATE':process['env']?.[_0x58a64a(0x50a)]===_0x58a64a(0x26f),'CHATS_UPSERT':process[_0x58a64a(0x455)]?.[_0x58a64a(0x316)]===_0x58a64a(0x26f),'CHATS_DELETE':process['env']?.[_0x58a64a(0xe9)]===_0x58a64a(0x26f),'CONNECTION_UPDATE':process[_0x58a64a(0x455)]?.[_0x58a64a(0x219)]===_0x58a64a(0x26f),'GROUPS_UPSERT':process[_0x58a64a(0x455)]?.[_0x58a64a(0x5c6)]===_0x58a64a(0x26f),'GROUP_UPDATE':process[_0x58a64a(0x455)]?.[_0x58a64a(0x407)]===_0x58a64a(0x26f),'GROUP_PARTICIPANTS_UPDATE':process[_0x58a64a(0x455)]?.[_0x58a64a(0x137)]===_0x58a64a(0x26f),'NEW_JWT_TOKEN':process[_0x58a64a(0x455)]?.[_0x58a64a(0x494)]==='true'}},'CONFIG_SESSION_PHONE':{'CLIENT':process[_0x58a64a(0x455)]?.[_0x58a64a(0x2aa)]||_0x58a64a(0x1b7),'NAME':process[_0x58a64a(0x455)]?.[_0x58a64a(0x5da)]||'chrome'},'QRCODE':{'LIMIT':Number[_0x58a64a(0x378)](process[_0x58a64a(0x455)]['QRCODE_LIMIT'])||0x5},'TRIAL_AD':process[_0x58a64a(0x455)]?.[_0x58a64a(0x527)],'TRIAL_INSTANCE_NAME':process[_0x58a64a(0x455)]?.[_0x58a64a(0x5e8)],'AUTOUPDATE':process[_0x58a64a(0x455)]?.[_0x58a64a(0x411)]===_0x58a64a(0x26f),'PHONE':process[_0x58a64a(0x455)]?.[_0x58a64a(0x335)],'AUTHENTICATION':{'TYPE':process[_0x58a64a(0x455)][_0x58a64a(0x1c7)],'API_KEY':{'KEY':process['env'][_0x58a64a(0x278)]},'JWT':{'EXPIRIN_IN':Number[_0x58a64a(0x596)](process[_0x58a64a(0x455)]?.[_0x58a64a(0xfd)])?Number[_0x58a64a(0x378)](process[_0x58a64a(0x455)][_0x58a64a(0xfd)]):0xe10,'SECRET':process[_0x58a64a(0x455)][_0x58a64a(0x57e)]}}};}},y=new Ht(),vo=T(require('cors')),ue=T(require(a0_0x11dbb0(0x1e0))),Is=require(a0_0x11dbb0(0x15d)),Kt=T(require(a0_0x11dbb0(0x153))),zt=(_0x158e8c=>(_0x158e8c[a0_0x11dbb0(0x240)]=a0_0x11dbb0(0x364),_0x158e8c[a0_0x11dbb0(0x4a4)]=a0_0x11dbb0(0x120),_0x158e8c[a0_0x11dbb0(0x1f9)]=a0_0x11dbb0(0x4fe),_0x158e8c[a0_0x11dbb0(0x23c)]='\x1b[31m',_0x158e8c['DEBUG']='\x1b[36m',_0x158e8c[a0_0x11dbb0(0x617)]=a0_0x11dbb0(0x4f8),_0x158e8c[a0_0x11dbb0(0x44c)]=a0_0x11dbb0(0x35b),_0x158e8c))(zt||{}),Bs=(_0x4b6f2f=>(_0x4b6f2f[a0_0x11dbb0(0x240)]=a0_0x11dbb0(0x4d4),_0x4b6f2f[a0_0x11dbb0(0x44c)]=a0_0x11dbb0(0x539),_0x4b6f2f[a0_0x11dbb0(0x4a4)]=a0_0x11dbb0(0x51a),_0x4b6f2f['WARN']=a0_0x11dbb0(0x253),_0x4b6f2f[a0_0x11dbb0(0x23c)]=a0_0x11dbb0(0x43a),_0x4b6f2f[a0_0x11dbb0(0x163)]='\x1b[36m%s\x1b[0m',_0x4b6f2f[a0_0x11dbb0(0x617)]='\x1b[37m%s\x1b[0m',_0x4b6f2f))(Bs||{}),js=(_0x533fdb=>(_0x533fdb[a0_0x11dbb0(0x240)]=a0_0x11dbb0(0x240),_0x533fdb[a0_0x11dbb0(0x1f9)]=a0_0x11dbb0(0x1f9),_0x533fdb[a0_0x11dbb0(0x4a4)]=a0_0x11dbb0(0x4a4),_0x533fdb[a0_0x11dbb0(0x44c)]=a0_0x11dbb0(0x44c),_0x533fdb['ERROR']=a0_0x11dbb0(0x23c),_0x533fdb[a0_0x11dbb0(0x163)]='DEBUG',_0x533fdb['VERBOSE']='VERBOSE',_0x533fdb))(js||{}),Fs=(_0x25dc8c=>(_0x25dc8c[a0_0x11dbb0(0x240)]='\x1b[42m',_0x25dc8c[a0_0x11dbb0(0x4a4)]=a0_0x11dbb0(0x174),_0x25dc8c[a0_0x11dbb0(0x1f9)]=a0_0x11dbb0(0x380),_0x25dc8c[a0_0x11dbb0(0x44c)]=a0_0x11dbb0(0x51e),_0x25dc8c[a0_0x11dbb0(0x23c)]='\x1b[41m',_0x25dc8c[a0_0x11dbb0(0x163)]='\x1b[46m',_0x25dc8c['VERBOSE']='\x1b[47m',_0x25dc8c))(Fs||{}),v=class{constructor(_0x52c41d='Logger'){const _0x473cd1=a0_0x11dbb0;this[_0x473cd1(0x1cf)]=_0x52c41d,this[_0x473cd1(0x228)]=y;}[a0_0x11dbb0(0x509)](_0x59b258){const _0x470405=a0_0x11dbb0;this[_0x470405(0x1cf)]=_0x59b258;}[a0_0x11dbb0(0x117)](_0x156e3b,_0x3029f1){const _0x4fc74c=a0_0x11dbb0;let _0x221730=[];this[_0x4fc74c(0x228)][_0x4fc74c(0x123)](_0x4fc74c(0x240))[_0x4fc74c(0x111)][_0x4fc74c(0x5b1)](_0x375336=>_0x221730[_0x4fc74c(0x17b)](js[_0x375336]));let _0x22fa34=typeof _0x156e3b;_0x221730['includes'](_0x3029f1)&&(y[_0x4fc74c(0x123)](_0x4fc74c(0x240))[_0x4fc74c(0x62e)]?(console[_0x4fc74c(0x3cd)](_0x4fc74c(0x248)+Bs[_0x3029f1],_0x4fc74c(0x209),(0x0,Kt[_0x4fc74c(0x2cc)])()['format'](_0x4fc74c(0x653)),'\x1b[0m',zt[_0x3029f1]+Fs[_0x3029f1]+_0x4fc74c(0x248),_0x3029f1+_0x4fc74c(0x436),_0x4fc74c(0x195),this[_0x4fc74c(0x1cf)]+_0x4fc74c(0x2ad),zt[_0x3029f1],_0x22fa34!==_0x4fc74c(0x368)?_0x156e3b:'',_0x4fc74c(0x2ad)),_0x22fa34===_0x4fc74c(0x368)&&console[_0x4fc74c(0x3cd)](_0x156e3b,'\x0a')):console[_0x4fc74c(0x3cd)]((0x0,Kt[_0x4fc74c(0x2cc)])()[_0x4fc74c(0x27d)](_0x4fc74c(0x131)),_0x3029f1+'\x20',''+this[_0x4fc74c(0x1cf)],_0x156e3b));}[a0_0x11dbb0(0x3cd)](_0x577b73){const _0x1626a3=a0_0x11dbb0;this['console'](_0x577b73,_0x1626a3(0x240));}[a0_0x11dbb0(0x4e6)](_0x381de4){const _0x4828eb=a0_0x11dbb0;this[_0x4828eb(0x117)](_0x381de4,_0x4828eb(0x4a4));}[a0_0x11dbb0(0x449)](_0x4462ee){const _0x3b3c6a=a0_0x11dbb0;this[_0x3b3c6a(0x117)](_0x4462ee,_0x3b3c6a(0x1f9));}[a0_0x11dbb0(0x162)](_0x15d5fd){const _0x25d1ed=a0_0x11dbb0;this['console'](_0x15d5fd,_0x25d1ed(0x23c));}[a0_0x11dbb0(0x147)](_0x16d6fb){const _0x2cadcc=a0_0x11dbb0;this[_0x2cadcc(0x117)](_0x16d6fb,_0x2cadcc(0x617));}[a0_0x11dbb0(0x176)](_0x37cb79){this['console'](_0x37cb79,'DEBUG');}[a0_0x11dbb0(0x634)](_0x367b30){const _0x2eb6a3=a0_0x11dbb0;this[_0x2eb6a3(0x117)](_0x367b30,_0x2eb6a3(0x44c));}};function Gs(){const _0x49d0ab=a0_0x11dbb0;process['on'](_0x49d0ab(0x4a3),(_0x10e9cd,_0x4de643)=>{const _0x5e1f9f=_0x49d0ab;new v(_0x5e1f9f(0x4a3))['error']({'origin':_0x4de643,'stderr':process[_0x5e1f9f(0x4d3)]['fd'],'error':_0x10e9cd});}),process['on'](_0x49d0ab(0x31d),(_0x49e901,_0x35d27c)=>{const _0x398f64=_0x49d0ab;new v(_0x398f64(0x31d))[_0x398f64(0x162)]({'origin':_0x35d27c,'stderr':process[_0x398f64(0x4d3)]['fd'],'error':_0x49e901});});}var qs=T(require(a0_0x11dbb0(0x5ed))),Qt=new qs[(a0_0x11dbb0(0x2cc))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),re=require(a0_0x11dbb0(0x15d)),de=require('fs'),Yt=require(a0_0x11dbb0(0x15d)),j=class{constructor(_0x59dced){const _0x48cbfb=a0_0x11dbb0;this[_0x48cbfb(0x262)]=(0x0,Yt[_0x48cbfb(0x140)])(K,_0x48cbfb(0x169)),this[_0x48cbfb(0x151)]=_0x4fd35b=>{const _0x283398=_0x48cbfb;(0x0,de['existsSync'])(_0x4fd35b[_0x283398(0x15d)])||(0x0,de[_0x283398(0x399)])(_0x4fd35b[_0x283398(0x15d)],{'recursive':!0x0});try{return(0x0,de[_0x283398(0x4d8)])((0x0,Yt[_0x283398(0x140)])(_0x4fd35b[_0x283398(0x15d)],_0x4fd35b[_0x283398(0x348)]+_0x283398(0x207)),JSON['stringify']({..._0x4fd35b[_0x283398(0x254)]}),{'encoding':_0x283398(0x18f)}),{'message':_0x283398(0x1ee)};}finally{_0x4fd35b[_0x283398(0x254)]=void 0x0;}},this[_0x48cbfb(0x1fe)]=_0x59dced[_0x48cbfb(0x123)](_0x48cbfb(0x398));}[a0_0x11dbb0(0x503)](_0x1b3a78,_0x52a7ad=!0x1){const _0x2218ec=a0_0x11dbb0;throw new Error(_0x2218ec(0x61a));}[a0_0x11dbb0(0x467)](_0x47e4cf){const _0x463b3c=a0_0x11dbb0;throw new Error(_0x463b3c(0x61a));}[a0_0x11dbb0(0x430)](_0x331b53,_0xb96f52){throw new Error('Method\x20not\x20implemented.');}},ee=require('fs'),Le=class{},Ue=class extends j{constructor(_0x17ed70,_0x261f55){const _0x16c79a=a0_0x11dbb0;super(_0x261f55),this[_0x16c79a(0x16a)]=_0x17ed70,this[_0x16c79a(0x228)]=_0x261f55;}async[a0_0x11dbb0(0x503)](_0x573a87,_0x2054e5=!0x1){const _0x3b2e80=a0_0x11dbb0;if(_0x573a87[_0x3b2e80(0x125)]!==0x0)try{return this[_0x3b2e80(0x1fe)][_0x3b2e80(0x3c8)]&&_0x2054e5?{'insertCount':(await this[_0x3b2e80(0x16a)]['insertMany']([..._0x573a87]))[_0x3b2e80(0x125)]}:_0x2054e5?(_0x573a87[_0x3b2e80(0x5b1)](_0x1a658f=>this['writeStore']({'path':(0x0,re[_0x3b2e80(0x140)])(this[_0x3b2e80(0x262)],_0x3b2e80(0x1ac),_0x1a658f['owner']),'fileName':_0x1a658f['key']['id'],'data':_0x1a658f})),{'insertCount':_0x573a87[_0x3b2e80(0x125)]}):{'insertCount':0x0};}catch(_0x1942fb){return console[_0x3b2e80(0x3cd)](_0x3b2e80(0x25c),_0x1942fb),_0x1942fb;}finally{_0x573a87=void 0x0;}}async['find'](_0x129ad8){const _0x5d23e2=a0_0x11dbb0;try{if(this[_0x5d23e2(0x1fe)][_0x5d23e2(0x3c8)]){if(_0x129ad8?.[_0x5d23e2(0x496)]?.[_0x5d23e2(0x24a)]){for(let [_0xbdc97f,_0xa2889d]of Object[_0x5d23e2(0x166)](_0x129ad8['where'][_0x5d23e2(0x24a)]))_0x129ad8[_0x5d23e2(0x496)][_0x5d23e2(0x108)+_0xbdc97f]=_0xa2889d;delete _0x129ad8?.[_0x5d23e2(0x496)]?.[_0x5d23e2(0x24a)];}return await this['messageModel'][_0x5d23e2(0x467)]({..._0x129ad8[_0x5d23e2(0x496)]})['sort']({'messageTimestamp':-0x1})[_0x5d23e2(0x50d)](_0x129ad8?.[_0x5d23e2(0x50d)]??0x0);}let _0x307e77=[];if(_0x129ad8?.['where']?.[_0x5d23e2(0x24a)]?.['id'])_0x307e77[_0x5d23e2(0x17b)](JSON[_0x5d23e2(0x39b)]((0x0,ee[_0x5d23e2(0x641)])((0x0,re[_0x5d23e2(0x140)])(this[_0x5d23e2(0x262)],'messages',_0x129ad8[_0x5d23e2(0x496)]['owner'],_0x129ad8[_0x5d23e2(0x496)][_0x5d23e2(0x24a)]['id']+_0x5d23e2(0x207)),{'encoding':'utf-8'})));else{let _0x29070f=(0x0,ee[_0x5d23e2(0x31b)])((0x0,re[_0x5d23e2(0x140)])(this[_0x5d23e2(0x262)],_0x5d23e2(0x1ac),_0x129ad8['where']['owner']),{'encoding':'utf-8'});for await(let _0x4dc93f of _0x29070f)_0x4dc93f[_0x5d23e2(0x25d)]()&&_0x307e77[_0x5d23e2(0x17b)](JSON[_0x5d23e2(0x39b)]((0x0,ee['readFileSync'])((0x0,re[_0x5d23e2(0x140)])(this[_0x5d23e2(0x262)],'messages',_0x129ad8['where']['owner'],_0x4dc93f[_0x5d23e2(0x36c)]),{'encoding':_0x5d23e2(0x18f)})));}return _0x307e77[_0x5d23e2(0x38a)]((_0x39d978,_0x84d60c)=>_0x84d60c[_0x5d23e2(0x577)]-_0x39d978[_0x5d23e2(0x577)])['splice'](0x0,_0x129ad8?.[_0x5d23e2(0x50d)]??_0x307e77[_0x5d23e2(0x125)]);}catch{return[];}}async[a0_0x11dbb0(0x430)](_0x29f0a5){const _0x4506fb=a0_0x11dbb0;try{if(this[_0x4506fb(0x1fe)]['ENABLED'])await this[_0x4506fb(0x16a)][_0x4506fb(0x3c5)]({..._0x29f0a5[_0x4506fb(0x496)]});else{let {owner:_0x18d270}=_0x29f0a5['where'];(0x0,ee['readdirSync'])((0x0,re[_0x4506fb(0x140)])(this[_0x4506fb(0x262)],_0x4506fb(0x1ac),_0x18d270))[_0x4506fb(0x5b1)](_0x3298a6=>{const _0x363249=_0x4506fb;let _0x39815a=(0x0,re[_0x363249(0x140)])(this['storePath'],_0x363249(0x1ac),_0x18d270,_0x3298a6);(0x0,ee['unlinkSync'])(_0x39815a);});}}catch(_0x475666){console[_0x4506fb(0x162)](_0x475666);}}async['update'](_0x5bbfc1,_0x2ead66){const _0x9ba778=a0_0x11dbb0;try{this[_0x9ba778(0x1fe)]['ENABLED']&&await this[_0x9ba778(0x16a)][_0x9ba778(0x655)]({..._0x5bbfc1[_0x9ba778(0x496)]},{'$set':_0x2ead66});}catch(_0x1df8c8){throw console[_0x9ba778(0x162)](_0x1df8c8),_0x1df8c8;}}async[a0_0x11dbb0(0x180)](_0x3bff92,_0x5eb034=!0x1){const _0x1ba707=a0_0x11dbb0;if(_0x3bff92[_0x1ba707(0x125)]!==0x0)try{return this[_0x1ba707(0x1fe)][_0x1ba707(0x3c8)]&&_0x5eb034?{'insertCount':(await this[_0x1ba707(0x16a)][_0x1ba707(0x180)]([..._0x3bff92]))['length']}:_0x5eb034?(_0x3bff92[_0x1ba707(0x5b1)](_0x544405=>this[_0x1ba707(0x151)]({'path':(0x0,re[_0x1ba707(0x140)])(this[_0x1ba707(0x262)],_0x1ba707(0x1ac),_0x544405[_0x1ba707(0x3e6)]),'fileName':_0x544405[_0x1ba707(0x24a)]['id'],'data':_0x544405})),{'insertCount':_0x3bff92[_0x1ba707(0x125)]}):{'insertCount':0x0};}catch(_0x565fa4){return console[_0x1ba707(0x3cd)]('ERROR:\x20',_0x565fa4),_0x565fa4;}finally{_0x3bff92=void 0x0;}}},X=require('fs'),w=T(require(a0_0x11dbb0(0x59e))),Pe=require('fs'),Y=T(require(a0_0x11dbb0(0x15d))),ne=T(require(a0_0x11dbb0(0x4af))),Za=require('uuid'),eo=T(require('qrcode')),to=T(require(a0_0x11dbb0(0x389))),Js=[a0_0x11dbb0(0x563),'documentMessage','audioMessage','videoMessage',a0_0x11dbb0(0x3c6)],Ws=[a0_0x11dbb0(0x19b),a0_0x11dbb0(0x403),a0_0x11dbb0(0x47c),a0_0x11dbb0(0x5b0)],so=require('os'),Pt=T(require(a0_0x11dbb0(0x623))),ao=require(a0_0x11dbb0(0x534)),fs=require(a0_0x11dbb0(0x485)),Ve=require(a0_0x11dbb0(0x2d1)),Xt=T(require('mongoose')),Hs=new v(a0_0x11dbb0(0x2e2)),F=y[a0_0x11dbb0(0x123)]('DATABASE'),R=F[a0_0x11dbb0(0x3c8)]?F[a0_0x11dbb0(0x3fe)][a0_0x11dbb0(0x359)]?Xt[a0_0x11dbb0(0x2cc)]['createConnection'](F['CONNECTION'][a0_0x11dbb0(0x359)],{'dbName':F[a0_0x11dbb0(0x3fe)][a0_0x11dbb0(0x2a9)]+'-whatsapp-api'}):Xt[a0_0x11dbb0(0x2cc)][a0_0x11dbb0(0x271)]('mongodb://'+F[a0_0x11dbb0(0x3fe)][a0_0x11dbb0(0x2fa)]+':'+F['CONNECTION'][a0_0x11dbb0(0x62c)]+a0_0x11dbb0(0x56f),{'user':F[a0_0x11dbb0(0x3fe)][a0_0x11dbb0(0x5a2)],'pass':F[a0_0x11dbb0(0x3fe)][a0_0x11dbb0(0x24b)],'dbName':F[a0_0x11dbb0(0x3fe)][a0_0x11dbb0(0x2a9)]+a0_0x11dbb0(0x197)}):null;F['ENABLED']&&Hs[a0_0x11dbb0(0x4e6)](a0_0x11dbb0(0x406)+R[a0_0x11dbb0(0x529)]);async function Lo(){const _0x5cc3ab=a0_0x11dbb0;await M[_0x5cc3ab(0x3f6)]({'leadInfo.tags':{'$exists':!0x1}},{'$set':{'leadInfo.tags':[]}}),await M[_0x5cc3ab(0x3f6)]({'leadInfo.customFields':{'$exists':!0x1}},{'$set':{'leadInfo.customFields':[]}}),await M[_0x5cc3ab(0x3f6)]({},{'$unset':{'lastUpdate':0x1}});}R?.['on'](a0_0x11dbb0(0x145),()=>{const _0x5627ae=a0_0x11dbb0;M&&Lo()['catch'](_0x89c08a=>Hs[_0x5627ae(0x162)](_0x5627ae(0x3a1)+_0x89c08a));});var Zt=class{},Uo=new Ve[(a0_0x11dbb0(0x554))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Vo=new Ve[(a0_0x11dbb0(0x554))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Uo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Bo=new Ve[(a0_0x11dbb0(0x554))]({'_id':{'type':String,'_id':!0x0},'id':{'type':String,'required':!0x0,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'contactname':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number},'lastMsgUpdate':{'type':Number},'unreadcount':{'type':Number},'lastcache':{'type':Number},'leadInfo':{'type':Vo,'default':{}},'lastUpdate':{'type':Number}}),M=R?.[a0_0x11dbb0(0x5ca)](Zt[a0_0x11dbb0(0x36c)],Bo,a0_0x11dbb0(0x445)),Ks=require(a0_0x11dbb0(0x2d1)),es=class{},jo=new Ks[(a0_0x11dbb0(0x554))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'id':{'type':String,'required':!0x0,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Be=R?.[a0_0x11dbb0(0x5ca)](es[a0_0x11dbb0(0x36c)],jo,'contacts'),P=require(a0_0x11dbb0(0x2d1)),zs=new P[(a0_0x11dbb0(0x554))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ts=new P['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Fo=new P[(a0_0x11dbb0(0x554))]({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x11dbb0(0x3a4)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Qs=new P[(a0_0x11dbb0(0x554))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),Ys=new P['Schema']({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),Go=new P['Schema']({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Xs=new P[(a0_0x11dbb0(0x554))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Fo},'apirequest':Ys,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ns=new P['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),Zs=new P['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ss=class{},ea=new P[(a0_0x11dbb0(0x554))]({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){return'!cmd_'+Math['random']()['toString'](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ns],'variablesNotFound':{'type':[String]},'blocks':[Xs],'groups':[zs],'conditions':[Qs],'varedits':[Zs],'replyOptions':{'type':[ts],'default':[]}});ea[a0_0x11dbb0(0x580)](a0_0x11dbb0(0x48a),function(_0x4a26e6){const _0x22c2a0=a0_0x11dbb0;let _0x56b2ed=new Set(),_0x1fcd4a=new Set(this['variables']?.['map'](_0x30173c=>_0x30173c[_0x22c2a0(0x36c)])),_0xf543d5=JSON[_0x22c2a0(0x5db)](this),_0x59a318=/{{(?!_)([^}]*)}}/g,_0x315647;for(;(_0x315647=_0x59a318[_0x22c2a0(0x342)](_0xf543d5))!==null;)_0x1fcd4a[_0x22c2a0(0xf1)](_0x315647[0x1])||_0x56b2ed[_0x22c2a0(0x1e5)](_0x315647[0x1]);_0x56b2ed['size']>0x0?(console[_0x22c2a0(0x449)]('Variáveis\x20não\x20encontradas:',Array['from'](_0x56b2ed)),this[_0x22c2a0(0x155)]=Array['from'](_0x56b2ed)):this['variablesNotFound']=[],_0x4a26e6();});var D=R?.[a0_0x11dbb0(0x5ca)](ss[a0_0x11dbb0(0x36c)],ea,'flow'),qo=new P[(a0_0x11dbb0(0x554))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ns],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastBlockId':{'type':String},'blockLogs':[Go]},{'_id':!0x1}),as=class{},Jo=new P[(a0_0x11dbb0(0x554))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ns],'blocks':[Xs],'groups':[zs],'conditions':[Qs],'varedits':[Zs],'replyOptions':{'type':[ts],'default':[]},'chatLog':qo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x11dbb0(0x130)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[ts],'default':[]}}),G=R?.['model'](as[a0_0x11dbb0(0x36c)],Jo,a0_0x11dbb0(0x61f)),os=class{},Wo=new P[(a0_0x11dbb0(0x554))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),Ho=new P['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x11dbb0(0x648)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Wo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),L=R?.[a0_0x11dbb0(0x5ca)](os[a0_0x11dbb0(0x36c)],Ho,'scheduleMessages'),is=class{},Ko=new P[(a0_0x11dbb0(0x554))]({'name':{'type':String},'requests':[Ys],'owner':{'type':String}}),Br=R?.[a0_0x11dbb0(0x5ca)](is[a0_0x11dbb0(0x36c)],Ko,a0_0x11dbb0(0x52d)),rs=class{},zo=new P[(a0_0x11dbb0(0x554))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Qo=new P[(a0_0x11dbb0(0x554))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x11dbb0(0x5c8)},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),Yo=new P[(a0_0x11dbb0(0x554))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Xo=new P[(a0_0x11dbb0(0x554))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Yo]},'customFields':{'type':[zo]},'flowConfig':{'type':Qo,'default':{}}}),te=R?.[a0_0x11dbb0(0x5ca)](rs['name'],Xo,a0_0x11dbb0(0x27b)),he=T(require(a0_0x11dbb0(0x2d1))),oo=T(require(a0_0x11dbb0(0x588))),io=require(a0_0x11dbb0(0x3da)),ro=require(a0_0x11dbb0(0x589)),$=require(a0_0x11dbb0(0x489)),pe=class{constructor(_0x399876,_0x47a4cd,_0x225614){const _0x535321=a0_0x11dbb0;this[_0x535321(0x598)]=_0x399876,this[_0x535321(0x451)]=_0x47a4cd,this[_0x535321(0x36c)]=_0x225614;}},je=class{},Ee=class{},Fe=class{},Ge=class{},me=class{},qe=class{},Je=class{},We=class{},He=class{},Mt=T(require(a0_0x11dbb0(0x1e0))),ta=require('fs'),sa=require('path');async function aa(_0x5098f8){const _0x3c4d4=a0_0x11dbb0;let _0x5acae4=_[_0x3c4d4(0x602)][_0x5098f8];if(F[_0x3c4d4(0x3c8)]){let _0x35e093=R[_0x3c4d4(0x429)]()['db'](F['CONNECTION']['DB_PREFIX_NAME']+_0x3c4d4(0x32c))[_0x3c4d4(0x188)](_0x5098f8);return _0x5acae4||(await _0x35e093[_0x3c4d4(0x467)]({})['toArray']())['length']>0x0;}return _0x5acae4||(0x0,ta[_0x3c4d4(0x41b)])((0x0,sa['join'])(B,_0x5098f8));}async function cs(_0x589f5a,_0x4c2952,_0x37b90d){const _0x57c6a5=a0_0x11dbb0;if(_0x589f5a[_0x57c6a5(0x4ab)][_0x57c6a5(0x1e2)](_0x57c6a5(0x4ec))||_0x589f5a[_0x57c6a5(0x4ab)][_0x57c6a5(0x1e2)](_0x57c6a5(0x4b4))||_0x589f5a[_0x57c6a5(0x4ab)][_0x57c6a5(0x1e2)](_0x57c6a5(0x1fc)))return _0x37b90d();let _0x456504=_0x589f5a[_0x57c6a5(0x144)];if(!_0x456504?.[_0x57c6a5(0x13c)])throw new m('\x22instanceName\x22\x20not\x20provided.');if(!await aa(_0x456504[_0x57c6a5(0x13c)]))throw new U(_0x57c6a5(0x139)+_0x456504[_0x57c6a5(0x13c)]+_0x57c6a5(0x572));_0x37b90d();}async function oa(_0x3f67f2,_0x2f228e,_0x255b71){const _0x21c17f=a0_0x11dbb0;if(_0x3f67f2['originalUrl']['includes'](_0x21c17f(0x4ec))){let _0x6c9272=_0x3f67f2[_0x21c17f(0x17a)];if(await aa(_0x6c9272[_0x21c17f(0x13c)]))throw new se(_0x21c17f(0x277)+_0x6c9272[_0x21c17f(0x13c)]+'\x22\x20is\x20already\x20in\x20use.');_[_0x21c17f(0x602)][_0x6c9272['instanceName']]&&delete _[_0x21c17f(0x602)][_0x6c9272[_0x21c17f(0x13c)]];}_0x255b71();}var ia=require(a0_0x11dbb0(0x489)),ra=T(require(a0_0x11dbb0(0x4be))),Ke=a0_0x11dbb0(0x1b7),ei=new v(a0_0x11dbb0(0x471));async function ti(_0x404944,_0x262cba,_0x4e1270){const _0x3a2451=a0_0x11dbb0;let _0x2ab142=_0x404944[_0x3a2451(0x123)](_0x3a2451(0x5d4));if(_0x2ab142&&y['get']('AUTHENTICATION')['API_KEY']['KEY']!==_0x2ab142)throw new ae();if(y[_0x3a2451(0x123)]('AUTHENTICATION')['API_KEY'][_0x3a2451(0x510)]===_0x2ab142)return _0x4e1270();if((_0x404944[_0x3a2451(0x4ab)]['includes'](_0x3a2451(0x4ec))||_0x404944[_0x3a2451(0x4ab)]['includes'](_0x3a2451(0x4b4)))&&!_0x2ab142)throw new se('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x24dfe6=y['get'](_0x3a2451(0x4a1))['JWT'];try{let [_0x5e6af3,_0x342ae9]=_0x404944[_0x3a2451(0x123)](_0x3a2451(0x351))[_0x3a2451(0xe0)]('\x20');if(_0x5e6af3[_0x3a2451(0x42f)]()!=='bearer')throw new ae();if(!(0x0,ia['isJWT'])(_0x342ae9))throw new ae();let _0x538163=_0x404944[_0x3a2451(0x144)],_0x4baa03=ra[_0x3a2451(0x2cc)][_0x3a2451(0x5a7)](_0x342ae9,_0x24dfe6[_0x3a2451(0x106)],{'ignoreExpiration':_0x24dfe6[_0x3a2451(0x481)]===0x0});if(_0x538163['instanceName']!==_0x4baa03[_0x3a2451(0x13c)]||Ke!==_0x4baa03['apiName'])throw new ae();return _0x4e1270();}catch(_0x3a7c61){throw ei[_0x3a2451(0x162)](_0x3a7c61),new ae();}}async function si(_0x558306,_0x468748,_0x5754fb){const _0x2b87de=a0_0x11dbb0;let _0x4c6150=y[_0x2b87de(0x123)](_0x2b87de(0x4a1))[_0x2b87de(0x468)],_0x22e395=_0x558306['get'](_0x2b87de(0x5d4));if(_0x4c6150[_0x2b87de(0x510)]===_0x22e395)return _0x5754fb();if(_0x558306[_0x2b87de(0x4ab)][_0x2b87de(0x1e2)](_0x2b87de(0x4ec))){let _0x4bcaa3=y['get']('TRIAL_INSTANCE_NAME'),_0xa3542c=_0x558306[_0x2b87de(0x17a)][_0x2b87de(0x13c)];if(_0x4bcaa3&&_0xa3542c[_0x2b87de(0x42f)]()[_0x2b87de(0x2e4)](_0x4bcaa3[_0x2b87de(0x42f)]()))return _0x5754fb();if(!_0x22e395)throw new se(_0x2b87de(0x5ae),_0x2b87de(0x49c));}if(_0x558306[_0x2b87de(0x4ab)][_0x2b87de(0x1e2)](_0x2b87de(0x4b4))&&!_0x22e395)throw new se(_0x2b87de(0x5ae),_0x2b87de(0x49c));if(_0x558306[_0x2b87de(0x4ab)][_0x2b87de(0x1e2)](_0x2b87de(0x1fc))&&!_0x22e395)throw new se(_0x2b87de(0x5ae),_0x2b87de(0x49c));try{let _0xbde87c=_0x558306[_0x2b87de(0x144)];if((await Ce[_0x2b87de(0x435)][_0x2b87de(0x467)](_0xbde87c['instanceName']))['apikey']===_0x22e395)return _0x5754fb();}catch{}throw new ae();}var na={'jwt':ti,'apikey':si},ja=require('express'),E=require(a0_0x11dbb0(0x1fb)),S=(..._0x2a5646)=>{const _0x4f0bf3=a0_0x11dbb0;let _0x23fbdb={};return _0x2a5646['forEach'](_0x41ddc0=>_0x23fbdb[_0x41ddc0]={'minLength':0x1,'description':_0x4f0bf3(0x139)+_0x41ddc0+_0x4f0bf3(0x4e5)}),{'if':{'propertyNames':{'enum':[..._0x2a5646]}},'then':{'properties':_0x23fbdb}};},C={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'instanceName':{'type':a0_0x11dbb0(0x314)}},...S(a0_0x11dbb0(0x13c))},ca={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'oldToken':{'type':a0_0x11dbb0(0x314)}},'required':[a0_0x11dbb0(0x531)],...S('oldToken')},sn={'properties':{'key':{'type':a0_0x11dbb0(0x368),'properties':{'id':{'type':a0_0x11dbb0(0x314)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x11dbb0(0x2c5),a0_0x11dbb0(0x5b3)],...S('id',a0_0x11dbb0(0x2c5))},'message':{'type':'object'}}},z={'properties':{'delay':{'type':a0_0x11dbb0(0x55d),'description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':a0_0x11dbb0(0x314),'enum':[a0_0x11dbb0(0x414),a0_0x11dbb0(0x325),a0_0x11dbb0(0x56e),a0_0x11dbb0(0x5aa),a0_0x11dbb0(0x25b)]}}},oe={'type':a0_0x11dbb0(0x314),'pattern':a0_0x11dbb0(0x226),'description':a0_0x11dbb0(0x194)},la={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'number':{...oe},'options':{...z},'textMessage':{'type':a0_0x11dbb0(0x368),'properties':{'text':{'type':'string'}},'required':[a0_0x11dbb0(0x652)],...S(a0_0x11dbb0(0x652))}},'required':[a0_0x11dbb0(0x220),'number']},ua={'type':a0_0x11dbb0(0x314),'pattern':a0_0x11dbb0(0x343),'description':a0_0x11dbb0(0x194)},an={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'number':{...ua},'options':{...z},'textMessage':{'type':a0_0x11dbb0(0x368),'properties':{'text':{'type':a0_0x11dbb0(0x314)}},'required':[a0_0x11dbb0(0x652)],...S(a0_0x11dbb0(0x652))}},'required':['textMessage',a0_0x11dbb0(0x105)]},on={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'number':{...ua},'options':{...z},'mediaMessage':{'type':a0_0x11dbb0(0x368),'properties':{'mediatype':{'type':a0_0x11dbb0(0x314),'enum':['image',a0_0x11dbb0(0x218),a0_0x11dbb0(0x4de),a0_0x11dbb0(0x530)]},'media':{'type':'string'},'fileName':{'type':a0_0x11dbb0(0x314)},'caption':{'type':a0_0x11dbb0(0x314)}},'required':[a0_0x11dbb0(0x1e3),'media'],...S(a0_0x11dbb0(0x348),a0_0x11dbb0(0x121),'media')}},'required':[a0_0x11dbb0(0x179),a0_0x11dbb0(0x105)]},da={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'number':{...oe},'options':{...z},'stickerMessage':{'type':a0_0x11dbb0(0x368),'properties':{'image':{'type':a0_0x11dbb0(0x314)}},'required':['image'],...S('image')}},'required':['stickerMessage',a0_0x11dbb0(0x105)]},pa={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'statusMessage':{'type':a0_0x11dbb0(0x368),'properties':{'type':{'type':'string','enum':[a0_0x11dbb0(0x652),'image',a0_0x11dbb0(0x530),'video']},'content':{'type':a0_0x11dbb0(0x314)},'caption':{'type':a0_0x11dbb0(0x314)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x11dbb0(0x55d),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x11dbb0(0xe4),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':a0_0x11dbb0(0x2f1)}},'allContacts':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]}},'required':[a0_0x11dbb0(0x4d6),a0_0x11dbb0(0x560)],...S('type',a0_0x11dbb0(0x560))}},'required':['statusMessage']},ma={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'number':{...oe},'options':{...z},'mediaMessage':{'type':a0_0x11dbb0(0x368),'properties':{'mediatype':{'type':a0_0x11dbb0(0x314),'enum':['image',a0_0x11dbb0(0x218),a0_0x11dbb0(0x4de),a0_0x11dbb0(0x530)]},'media':{'type':a0_0x11dbb0(0x314)},'fileName':{'type':a0_0x11dbb0(0x314)},'caption':{'type':a0_0x11dbb0(0x314)}},'required':[a0_0x11dbb0(0x1e3),a0_0x11dbb0(0x613)],...S('fileName','caption',a0_0x11dbb0(0x613))}},'required':[a0_0x11dbb0(0x179),a0_0x11dbb0(0x105)]},ga={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'number':{...oe},'options':{...z},'audioMessage':{'type':a0_0x11dbb0(0x368),'properties':{'audio':{'type':a0_0x11dbb0(0x314)}},'required':[a0_0x11dbb0(0x530)],...S(a0_0x11dbb0(0x530))}},'required':[a0_0x11dbb0(0x54a),a0_0x11dbb0(0x105)]},ha={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'number':{...oe},'pollMessage':{'type':a0_0x11dbb0(0x368),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x11dbb0(0x105)},'values':{'type':a0_0x11dbb0(0xe4),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x11dbb0(0x28c),a0_0x11dbb0(0x3bc)],...S(a0_0x11dbb0(0x36c),a0_0x11dbb0(0x28c),a0_0x11dbb0(0x3bc))}},'required':[a0_0x11dbb0(0x105),'pollMessage']},fa={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'number':{...oe},'options':{...z},'buttonMessage':{'type':a0_0x11dbb0(0x368),'properties':{'title':{'type':'string'},'description':{'type':'string'},'footerText':{'type':a0_0x11dbb0(0x314)},'buttons':{'type':a0_0x11dbb0(0xe4),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x11dbb0(0x368),'properties':{'buttonText':{'type':a0_0x11dbb0(0x314)},'buttonId':{'type':a0_0x11dbb0(0x314)}},'required':[a0_0x11dbb0(0x38b),a0_0x11dbb0(0x273)],...S(a0_0x11dbb0(0x38b),a0_0x11dbb0(0x273))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x11dbb0(0x314)},'fileName':{'type':a0_0x11dbb0(0x314)},'mediatype':{'type':a0_0x11dbb0(0x314),'enum':[a0_0x11dbb0(0x1bc),a0_0x11dbb0(0x218),a0_0x11dbb0(0x4de)]}},'required':[a0_0x11dbb0(0x613),a0_0x11dbb0(0x1e3)],...S('media','fileName')}},'required':[a0_0x11dbb0(0x200),a0_0x11dbb0(0x236)],...S(a0_0x11dbb0(0x200),a0_0x11dbb0(0x2a7))}},'required':[a0_0x11dbb0(0x105),a0_0x11dbb0(0x21e)]},wa={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'number':{...oe},'options':{...z},'locationMessage':{'type':a0_0x11dbb0(0x368),'properties':{'latitude':{'type':a0_0x11dbb0(0x105)},'longitude':{'type':a0_0x11dbb0(0x105)},'name':{'type':a0_0x11dbb0(0x314)},'address':{'type':a0_0x11dbb0(0x314)}},'required':[a0_0x11dbb0(0x666),a0_0x11dbb0(0x57f)],...S('name',a0_0x11dbb0(0x620))}},'required':[a0_0x11dbb0(0x105),a0_0x11dbb0(0x56c)]},ya={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'number':{...oe},'options':{...z},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x11dbb0(0x314)},'description':{'type':a0_0x11dbb0(0x314)},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':a0_0x11dbb0(0xe4),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x11dbb0(0x368),'properties':{'title':{'type':a0_0x11dbb0(0x314)},'rows':{'type':a0_0x11dbb0(0xe4),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x11dbb0(0x368),'properties':{'title':{'type':a0_0x11dbb0(0x314)},'description':{'type':'string'},'rowId':{'type':'string'}},'required':[a0_0x11dbb0(0x200),a0_0x11dbb0(0x2a7),a0_0x11dbb0(0x569)],...S(a0_0x11dbb0(0x200),a0_0x11dbb0(0x2a7),a0_0x11dbb0(0x569))}}},'required':[a0_0x11dbb0(0x200),a0_0x11dbb0(0x43d)],...S('title')}}},'required':['title',a0_0x11dbb0(0x2a7),a0_0x11dbb0(0x38b),a0_0x11dbb0(0x107)],...S(a0_0x11dbb0(0x200),'description',a0_0x11dbb0(0x38b),a0_0x11dbb0(0x46e))}},'required':[a0_0x11dbb0(0x105),a0_0x11dbb0(0x4ef)]},ba={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'number':{...oe},'options':{...z},'contactMessage':{'type':'array','items':{'type':a0_0x11dbb0(0x368),'properties':{'fullName':{'type':a0_0x11dbb0(0x314)},'phoneNumber':{'type':a0_0x11dbb0(0x314),'minLength':0xa}},'required':[a0_0x11dbb0(0x3b3),'phoneNumber'],...S('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x11dbb0(0x105),a0_0x11dbb0(0x1b1)]},Sa={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'reactionMessage':{'type':a0_0x11dbb0(0x368),'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]}},'required':['id',a0_0x11dbb0(0x2c5),a0_0x11dbb0(0x5b3)],...S('id',a0_0x11dbb0(0x2c5))},'reaction':{'type':a0_0x11dbb0(0x314)}},'required':[a0_0x11dbb0(0x24a),a0_0x11dbb0(0x1b2)],...S(a0_0x11dbb0(0x1b2))}},'required':[a0_0x11dbb0(0x211)]},Ea={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'numbers':{'type':a0_0x11dbb0(0xe4),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x11dbb0(0x45e),'description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},Ca={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'readMessages':{'type':a0_0x11dbb0(0xe4),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x11dbb0(0x314)},'fromMe':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x11dbb0(0x314)}},'required':['id',a0_0x11dbb0(0x5b3),a0_0x11dbb0(0x2c5)],...S('id',a0_0x11dbb0(0x2c5))}}},'required':['readMessages']},Na={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'privacySettings':{'type':a0_0x11dbb0(0x368),'properties':{'readreceipts':{'type':a0_0x11dbb0(0x314),'enum':[a0_0x11dbb0(0x2d6),a0_0x11dbb0(0x647)]},'profile':{'type':'string','enum':[a0_0x11dbb0(0x2d6),'contacts','contact_blacklist',a0_0x11dbb0(0x647)]},'status':{'type':a0_0x11dbb0(0x314),'enum':[a0_0x11dbb0(0x2d6),'contacts',a0_0x11dbb0(0x584),a0_0x11dbb0(0x647)]},'online':{'type':'string','enum':[a0_0x11dbb0(0x2d6),a0_0x11dbb0(0x1e4)]},'last':{'type':a0_0x11dbb0(0x314),'enum':[a0_0x11dbb0(0x2d6),a0_0x11dbb0(0x678),'contact_blacklist',a0_0x11dbb0(0x647)]},'groupadd':{'type':a0_0x11dbb0(0x314),'enum':[a0_0x11dbb0(0x2d6),a0_0x11dbb0(0x678),a0_0x11dbb0(0x584),a0_0x11dbb0(0x647)]}},'required':['readreceipts',a0_0x11dbb0(0x5b7),a0_0x11dbb0(0x4c3),'online',a0_0x11dbb0(0x4e9),a0_0x11dbb0(0x2fc)],...S(a0_0x11dbb0(0x420),a0_0x11dbb0(0x5b7),a0_0x11dbb0(0x4c3),'online',a0_0x11dbb0(0x4e9),a0_0x11dbb0(0x2fc))}},'required':['privacySettings']},va={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'lastMessage':{'type':a0_0x11dbb0(0x368),'properties':{'key':{'type':a0_0x11dbb0(0x368),'properties':{'id':{'type':a0_0x11dbb0(0x314)},'remoteJid':{'type':a0_0x11dbb0(0x314)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x11dbb0(0x5b3),a0_0x11dbb0(0x2c5)],...S('id',a0_0x11dbb0(0x2c5))},'messageTimestamp':{'type':a0_0x11dbb0(0x55d),'minLength':0x1}},'required':[a0_0x11dbb0(0x24a)],...S(a0_0x11dbb0(0x577))},'archive':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x11dbb0(0x5b2)]},Ta={'$id':(0x0,E['v4'])(),'type':'object','properties':{'id':{'type':a0_0x11dbb0(0x314)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x11dbb0(0x314)},'participant':{'type':'string'}},'required':['id',a0_0x11dbb0(0x5b3),'remoteJid'],...S('id','remoteJid','participant')},Ra={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':'string','minLength':0x1}},...S(a0_0x11dbb0(0x42d),'id',a0_0x11dbb0(0x5a6))}}},Ma={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'name':{'type':'string'}},...S('name')},Aa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'status':{'type':a0_0x11dbb0(0x314)}},...S(a0_0x11dbb0(0x4c3))},Ne={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{'type':'string'},'picture':{'type':a0_0x11dbb0(0x314)}}},Ia={'type':'object','properties':{'wuid':{'type':a0_0x11dbb0(0x314)},'name':{'type':a0_0x11dbb0(0x314)},'picture':{'type':a0_0x11dbb0(0x314)},'status':{'type':a0_0x11dbb0(0x314)},'isBusiness':{'type':a0_0x11dbb0(0x242)}}},Da={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'where':{'type':a0_0x11dbb0(0x368),'properties':{'_id':{'type':a0_0x11dbb0(0x314),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':['fromMe',a0_0x11dbb0(0x2c5),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x11dbb0(0x314),'minLength':0x1,'description':a0_0x11dbb0(0x532)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...S(a0_0x11dbb0(0x42d))},'limit':{'type':a0_0x11dbb0(0x55d)}}},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'where':{'type':a0_0x11dbb0(0x368),'properties':{'_id':{'type':a0_0x11dbb0(0x314)},'remoteJid':{'type':'string'},'id':{'type':a0_0x11dbb0(0x314)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x11dbb0(0x314)},'status':{'type':a0_0x11dbb0(0x314),'enum':['ERROR',a0_0x11dbb0(0x4e7),a0_0x11dbb0(0x579),a0_0x11dbb0(0xf6),a0_0x11dbb0(0x505),a0_0x11dbb0(0x593)]}},...S(a0_0x11dbb0(0x42d),a0_0x11dbb0(0x2c5),'id',a0_0x11dbb0(0x4c3))},'limit':{'type':a0_0x11dbb0(0x55d)}}},Oa={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'subject':{'type':a0_0x11dbb0(0x314)},'description':{'type':a0_0x11dbb0(0x314)},'profilePicture':{'type':a0_0x11dbb0(0x314)},'participants':{'type':a0_0x11dbb0(0xe4),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x11dbb0(0x314),'minLength':0xa,'pattern':'\x5cd+','description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['subject',a0_0x11dbb0(0x24e)],...S(a0_0x11dbb0(0x5b6),a0_0x11dbb0(0x2a7),a0_0x11dbb0(0x1c3))},ve={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'groupJid':{'type':a0_0x11dbb0(0x314),'pattern':a0_0x11dbb0(0x4a5)}},'required':['groupJid'],...S(a0_0x11dbb0(0x2fe))},_a={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'groupJid':{'type':a0_0x11dbb0(0x314)},'action':{'type':a0_0x11dbb0(0x314),'enum':[a0_0x11dbb0(0x1e5),'remove',a0_0x11dbb0(0x5c5),a0_0x11dbb0(0x18d)]},'participants':{'type':a0_0x11dbb0(0xe4),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x11dbb0(0x314),'minLength':0xa,'pattern':a0_0x11dbb0(0x3aa),'description':a0_0x11dbb0(0x47f)}}},'required':[a0_0x11dbb0(0x2fe),a0_0x11dbb0(0x3e5),a0_0x11dbb0(0x24e)],...S('groupJid',a0_0x11dbb0(0x3e5))},xa={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'groupJid':{'type':a0_0x11dbb0(0x314)},'expiration':{'type':a0_0x11dbb0(0x105),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid','expiration'],...S('groupJid',a0_0x11dbb0(0x185))},$a={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'groupJid':{'type':a0_0x11dbb0(0x314)},'image':{'type':a0_0x11dbb0(0x314)}},'required':[a0_0x11dbb0(0x2fe),'image'],...S(a0_0x11dbb0(0x2fe),a0_0x11dbb0(0x1bc))},ka={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'groupJid':{'type':a0_0x11dbb0(0x314)},'description':{'type':a0_0x11dbb0(0x314)}},'required':[a0_0x11dbb0(0x2fe),a0_0x11dbb0(0x2a7)],...S(a0_0x11dbb0(0x2fe),a0_0x11dbb0(0x2a7))},La={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'groupJid':{'type':a0_0x11dbb0(0x314)},'name':{'type':a0_0x11dbb0(0x314)}},'required':['groupJid',a0_0x11dbb0(0x36c)],...S(a0_0x11dbb0(0x2fe),'name')},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'groupJid':{'type':a0_0x11dbb0(0x314)},'setting':{'type':a0_0x11dbb0(0x314),'enum':[a0_0x11dbb0(0x23e),a0_0x11dbb0(0x426),'unlocked','locked']}},'required':[a0_0x11dbb0(0x2fe),'setting'],...S(a0_0x11dbb0(0x2fe),a0_0x11dbb0(0x3eb))},Va={'$id':(0x0,E['v4'])(),'type':'object','properties':{'inviteCode':{'type':'string'}},'required':[a0_0x11dbb0(0x33e)],...S(a0_0x11dbb0(0x33e))},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'url':{'type':a0_0x11dbb0(0x314)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x11dbb0(0x12e),a0_0x11dbb0(0x3d2)]},rn={'$id':(0x0,E['v4'])(),'type':a0_0x11dbb0(0x368),'properties':{'local_map':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x11dbb0(0x242),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0x11dbb0(0x5e6),a0_0x11dbb0(0x58a),a0_0x11dbb0(0x4e2),a0_0x11dbb0(0x339),a0_0x11dbb0(0x607),'SEND_MESSAGE','CONTACTS_SET',a0_0x11dbb0(0x2bb),a0_0x11dbb0(0x2d9),a0_0x11dbb0(0x595),a0_0x11dbb0(0x31e),a0_0x11dbb0(0x55c),a0_0x11dbb0(0x553),a0_0x11dbb0(0x2f5),a0_0x11dbb0(0x2be),a0_0x11dbb0(0x4a7),a0_0x11dbb0(0x30b),a0_0x11dbb0(0x41e)],...S(a0_0x11dbb0(0x3a3),'STATUS_INSTANCE','QRCODE_UPDATED',a0_0x11dbb0(0x4e2),a0_0x11dbb0(0x339),a0_0x11dbb0(0x607),'SEND_MESSAGE','CONTACTS_SET',a0_0x11dbb0(0x2bb),'CONTACTS_UPDATE',a0_0x11dbb0(0x595),a0_0x11dbb0(0x31e),'CHATS_UPSERT',a0_0x11dbb0(0x553),'CHATS_DELETE',a0_0x11dbb0(0x2be),a0_0x11dbb0(0x4a7),'GROUPS_UPDATE',a0_0x11dbb0(0x41e))},Re=require('fs'),Te=require(a0_0x11dbb0(0x15d)),ze=class{},Qe=class extends j{constructor(_0xc30ebb,_0xbd9697){const _0x2a400f=a0_0x11dbb0;super(_0xbd9697),this[_0x2a400f(0x149)]=_0xc30ebb,this[_0x2a400f(0x228)]=_0xbd9697;}async[a0_0x11dbb0(0x503)](_0x3432ed,_0x142ac6=!0x1){const _0x306a86=a0_0x11dbb0;if(_0x3432ed[_0x306a86(0x125)]!==0x0)try{return this[_0x306a86(0x1fe)]['ENABLED']&&_0x142ac6?{'insertCount':(await this[_0x306a86(0x149)]['insertMany']([..._0x3432ed]))['length']}:(_0x3432ed[_0x306a86(0x5b1)](_0xca883e=>{const _0x34f032=_0x306a86;this[_0x34f032(0x151)]({'path':(0x0,Te[_0x34f032(0x140)])(this[_0x34f032(0x262)],_0x34f032(0x678),_0xca883e[_0x34f032(0x3e6)]),'fileName':_0xca883e['id'],'data':_0xca883e});}),{'insertCount':_0x3432ed[_0x306a86(0x125)]});}catch(_0x1a90f7){return _0x1a90f7;}finally{_0x3432ed=void 0x0;}}async[a0_0x11dbb0(0x430)](_0x38c897){const _0x15a7b8=a0_0x11dbb0;try{return this[_0x15a7b8(0x1fe)][_0x15a7b8(0x3c8)]?await this[_0x15a7b8(0x149)][_0x15a7b8(0x3c5)]({..._0x38c897[_0x15a7b8(0x496)]}):{'deleted':{'contact':_0x38c897['where']['id']}};}catch(_0x446262){return{'error':_0x446262?.[_0x15a7b8(0x29e)]()};}}async['update'](_0x3690ca,_0x4331fd=!0x1){const _0x50db20=a0_0x11dbb0;try{if(_0x3690ca[_0x50db20(0x125)]===0x0)return;if(this[_0x50db20(0x1fe)][_0x50db20(0x3c8)]&&_0x4331fd){let _0xb0037f=_0x3690ca[_0x50db20(0x360)](_0x4da544=>({'updateOne':{'filter':{'id':_0x4da544['id']},'update':{..._0x4da544},'upsert':!0x0}})),{nModified:_0x2b8611}=await this['contactModel'][_0x50db20(0x47b)](_0xb0037f);return{'insertCount':_0x2b8611};}}catch{return;}}async['find'](_0x4b9042){const _0x193b84=a0_0x11dbb0;try{if(this['dbSettings'][_0x193b84(0x3c8)])return await this[_0x193b84(0x149)]['find']({..._0x4b9042['where']});let _0x541659=[];if(_0x4b9042?.['where']?.['id'])_0x541659[_0x193b84(0x17b)](JSON[_0x193b84(0x39b)]((0x0,Re['readFileSync'])((0x0,Te[_0x193b84(0x140)])(this['storePath'],_0x193b84(0x678),_0x4b9042[_0x193b84(0x496)]['owner'],_0x4b9042[_0x193b84(0x496)]['id']+_0x193b84(0x207)),{'encoding':_0x193b84(0x18f)})));else{let _0x3e75b1=(0x0,Re[_0x193b84(0x31b)])((0x0,Te[_0x193b84(0x140)])(this[_0x193b84(0x262)],'contacts',_0x4b9042['where']['owner']),{'encoding':_0x193b84(0x18f)});for await(let _0x1d1920 of _0x3e75b1)_0x1d1920[_0x193b84(0x25d)]()&&_0x541659['push'](JSON[_0x193b84(0x39b)]((0x0,Re[_0x193b84(0x641)])((0x0,Te[_0x193b84(0x140)])(this[_0x193b84(0x262)],'contacts',_0x4b9042[_0x193b84(0x496)]['owner'],_0x1d1920['name']),{'encoding':_0x193b84(0x18f)})));}return _0x541659;}catch{return[];}}},Ye=require(a0_0x11dbb0(0x11e)),pn=require('express-async-errors'),ls=new v(a0_0x11dbb0(0x1a6)),x=class{constructor(){}[a0_0x11dbb0(0x361)](_0x109795,_0xc46b89=!0x0){const _0x4eb315=a0_0x11dbb0;let _0x5d55c3='/'+_0x109795;return _0xc46b89&&(_0x5d55c3+=_0x4eb315(0x181)),_0x5d55c3;}async[a0_0x11dbb0(0x439)](_0x2c618b){const _0xbc77e0=a0_0x11dbb0;let {request:_0x40192b,schema:_0x12ed1d,ClassRef:_0x3a7f97,execute:_0x19bf5d}=_0x2c618b,_0x4fdd2e=new _0x3a7f97(),_0x5dda1d=_0x40192b[_0xbc77e0(0x17a)],_0x47da6f=_0x40192b[_0xbc77e0(0x144)];_0x40192b?.[_0xbc77e0(0x632)]&&Object['keys'](_0x40192b[_0xbc77e0(0x632)])[_0xbc77e0(0x125)]>0x0&&Object[_0xbc77e0(0x2f3)](_0x47da6f,_0x40192b[_0xbc77e0(0x632)]),_0x40192b[_0xbc77e0(0x4ab)][_0xbc77e0(0x1e2)]('/instance/create')&&Object[_0xbc77e0(0x2f3)](_0x47da6f,_0x5dda1d),Object[_0xbc77e0(0x2f3)](_0x4fdd2e,_0x5dda1d);let _0x347d11=_0x12ed1d?(0x0,Ye[_0xbc77e0(0x4a6)])(_0x4fdd2e,_0x12ed1d):{'valid':!0x0,'errors':[]};if(!_0x347d11[_0xbc77e0(0x43b)]){let _0x1440b3=_0x347d11[_0xbc77e0(0x362)][_0xbc77e0(0x360)](({property:_0x44b7bc,stack:_0x559254,schema:_0x57760a})=>{const _0x569cc2=_0xbc77e0;let _0x1ec80a;return _0x57760a[_0x569cc2(0x2a7)]?_0x1ec80a=_0x57760a[_0x569cc2(0x2a7)]:_0x1ec80a=_0x559254['replace']('instance.',''),{'property':_0x44b7bc['replace'](_0x569cc2(0x1a1),''),'message':_0x1ec80a};});throw ls[_0xbc77e0(0x162)]([..._0x1440b3]),new m(..._0x1440b3);}return await _0x19bf5d(_0x47da6f,_0x4fdd2e);}async[a0_0x11dbb0(0x628)](_0x10caad){const _0x239a7e=a0_0x11dbb0;let {request:_0x5dc1bd,ClassRef:_0x269be1,schema:_0x5589f5,execute:_0x1f78e0}=_0x10caad,_0x3f1a0a=_0x5dc1bd[_0x239a7e(0x632)];if(!_0x3f1a0a?.[_0x239a7e(0x2fe)])throw new m(_0x239a7e(0x32a),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x16f762=_0x5dc1bd[_0x239a7e(0x144)],_0x655c50=_0x5dc1bd['body'],_0x58a415=new _0x269be1();Object[_0x239a7e(0x2f3)](_0x655c50,_0x3f1a0a),Object[_0x239a7e(0x2f3)](_0x58a415,_0x655c50);let _0x500c66=(0x0,Ye['validate'])(_0x58a415,_0x5589f5);if(!_0x500c66[_0x239a7e(0x43b)]){let _0x56e983=_0x500c66[_0x239a7e(0x362)][_0x239a7e(0x360)](({property:_0x5469d5,stack:_0x1bc182,schema:_0x4697d0})=>{const _0x2394ac=_0x239a7e;let _0x5e42c1;return _0x4697d0[_0x2394ac(0x2a7)]?_0x5e42c1=_0x4697d0[_0x2394ac(0x2a7)]:_0x5e42c1=_0x1bc182[_0x2394ac(0x1d9)](_0x2394ac(0x1a1),''),{'property':_0x5469d5[_0x2394ac(0x1d9)]('instance.',''),'message':_0x5e42c1};});throw ls[_0x239a7e(0x162)]([..._0x56e983]),new m(..._0x56e983);}return await _0x1f78e0(_0x16f762,_0x58a415);}async['joinGroupValidate'](_0x331aca){const _0xc86bb8=a0_0x11dbb0;let {request:_0x2e2a76,ClassRef:_0x1e708a,schema:_0x363eff,execute:_0x3bb377}=_0x331aca,_0xe09a7=_0x2e2a76[_0xc86bb8(0x17a)];if(!_0xe09a7?.[_0xc86bb8(0x33e)])throw new m(_0xc86bb8(0x161),_0xc86bb8(0x235));let _0x28620b=_0x2e2a76[_0xc86bb8(0x144)],_0x4f63d6=_0x2e2a76['body'],_0x59eb10=new _0x1e708a();Object[_0xc86bb8(0x2f3)](_0x4f63d6,_0xe09a7),Object[_0xc86bb8(0x2f3)](_0x59eb10,_0x4f63d6);let _0x246391=(0x0,Ye[_0xc86bb8(0x4a6)])(_0x59eb10,_0x363eff);if(!_0x246391['valid']){let _0x1542a0=_0x246391[_0xc86bb8(0x362)]['map'](({property:_0x2b7e14,stack:_0x21693,schema:_0x567e04})=>{const _0x4da90c=_0xc86bb8;let _0x487b25;return _0x567e04[_0x4da90c(0x2a7)]?_0x487b25=_0x567e04[_0x4da90c(0x2a7)]:_0x487b25=_0x21693[_0x4da90c(0x1d9)](_0x4da90c(0x1a1),''),{'property':_0x2b7e14[_0x4da90c(0x1d9)](_0x4da90c(0x1a1),''),'message':_0x487b25};});throw ls[_0xc86bb8(0x162)]([..._0x1542a0]),new m(..._0x1542a0);}return await _0x3bb377(_0x28620b,_0x59eb10);}},Me=require(a0_0x11dbb0(0x15d)),Ae=require('fs'),Xe=class{},Ze=class extends j{constructor(_0x15ff28,_0x414d2f){const _0xd800c=a0_0x11dbb0;super(_0x414d2f),this[_0xd800c(0xe2)]=_0x15ff28,this['configService']=_0x414d2f;}async[a0_0x11dbb0(0x503)](_0x4d31a0,_0x1fdbe3){const _0x5afbf3=a0_0x11dbb0;if(_0x4d31a0[_0x5afbf3(0x125)]!==0x0)try{if(this[_0x5afbf3(0x1fe)]['ENABLED']&&_0x1fdbe3)return{'insertCount':(await this[_0x5afbf3(0xe2)][_0x5afbf3(0x180)]([..._0x4d31a0]))[_0x5afbf3(0x125)]};_0x4d31a0[_0x5afbf3(0x5b1)](_0x36d1d7=>{const _0x24c1b9=_0x5afbf3;this[_0x24c1b9(0x151)]({'path':(0x0,Me[_0x24c1b9(0x140)])(this[_0x24c1b9(0x262)],_0x24c1b9(0x390),_0x36d1d7[_0x24c1b9(0x3e6)]),'fileName':_0x36d1d7['id'],'data':_0x36d1d7});});}catch(_0x6f9486){return _0x6f9486;}}async[a0_0x11dbb0(0x467)](_0x42ea40){const _0x4301f3=a0_0x11dbb0;try{if(this[_0x4301f3(0x1fe)][_0x4301f3(0x3c8)])return await this[_0x4301f3(0xe2)]['find']({..._0x42ea40[_0x4301f3(0x496)]})[_0x4301f3(0x38a)]({'datetime':-0x1})[_0x4301f3(0x50d)](_0x42ea40?.[_0x4301f3(0x50d)]??0x0);let _0x5ce7e5=[];if(_0x42ea40?.[_0x4301f3(0x496)]?.['id'])_0x5ce7e5[_0x4301f3(0x17b)](JSON[_0x4301f3(0x39b)]((0x0,Ae['readFileSync'])((0x0,Me[_0x4301f3(0x140)])(this['storePath'],_0x4301f3(0x390),_0x42ea40[_0x4301f3(0x496)]['owner'],_0x42ea40['where']['id']+_0x4301f3(0x207)),{'encoding':_0x4301f3(0x18f)})));else{let _0x3a9c3e=(0x0,Ae['opendirSync'])((0x0,Me['join'])(this['storePath'],_0x4301f3(0x390),_0x42ea40['where'][_0x4301f3(0x3e6)]),{'encoding':_0x4301f3(0x18f)});for await(let _0x507c9b of _0x3a9c3e)_0x507c9b[_0x4301f3(0x25d)]()&&_0x5ce7e5[_0x4301f3(0x17b)](JSON[_0x4301f3(0x39b)]((0x0,Ae['readFileSync'])((0x0,Me['join'])(this[_0x4301f3(0x262)],'message-up',_0x42ea40['where'][_0x4301f3(0x3e6)],_0x507c9b['name']),{'encoding':'utf-8'})));}return _0x5ce7e5[_0x4301f3(0x38a)]((_0x4be418,_0x40ebb8)=>_0x40ebb8[_0x4301f3(0x5a9)]-_0x4be418['datetime'])[_0x4301f3(0x4ea)](0x0,_0x42ea40?.['limit']??_0x5ce7e5['length']);}catch{return[];}}async['delete'](_0x1e30d7){const _0x37fdf4=a0_0x11dbb0;try{if(this[_0x37fdf4(0x1fe)][_0x37fdf4(0x3c8)])return await this['messageUpModel'][_0x37fdf4(0x3c5)]({..._0x1e30d7[_0x37fdf4(0x496)]});}catch(_0x189ddf){return console[_0x37fdf4(0x162)](_0x37fdf4(0x64c),_0x189ddf),_0x189ddf;}}},b=class{},et=class extends x{constructor(..._0x57d3c7){const _0x19f6fc=a0_0x11dbb0;super(),this['router']=(0x0,ja[_0x19f6fc(0x52b)])(),this[_0x19f6fc(0x171)][_0x19f6fc(0x10f)](this[_0x19f6fc(0x361)](_0x19f6fc(0x301)),..._0x57d3c7,async(_0x443622,_0x2de396)=>{const _0xdaa391=_0x19f6fc;let _0x2858ba=await this[_0xdaa391(0x439)]({'request':_0x443622,'schema':Ea,'ClassRef':je,'execute':(_0xd59c52,_0x4c8292)=>O[_0xdaa391(0x5ad)](_0xd59c52,_0x4c8292)});return _0x2de396['status'](0xc9)[_0xdaa391(0x469)](_0x2858ba);})[_0x19f6fc(0x10f)](this[_0x19f6fc(0x361)](_0x19f6fc(0x4bf)),..._0x57d3c7,async(_0x5fdd99,_0x3f8f30)=>{const _0x5951dc=_0x19f6fc;let _0xe8f99b=await this[_0x5951dc(0x439)]({'request':_0x5fdd99,'schema':C,'ClassRef':b,'execute':(_0x4a9eee,_0x20330d)=>O['editChat'](_0x4a9eee,_0x20330d)});return _0x3f8f30[_0x5951dc(0x4c3)](0xc9)[_0x5951dc(0x469)](_0xe8f99b);})[_0x19f6fc(0x375)](this[_0x19f6fc(0x361)](_0x19f6fc(0x5f8)),..._0x57d3c7,async(_0xe44f72,_0x3e50f6)=>{const _0x3cb895=_0x19f6fc;let _0x19e2d6=await this[_0x3cb895(0x439)]({'request':_0xe44f72,'schema':Ca,'ClassRef':qe,'execute':(_0x4d4394,_0x591e53)=>O['readMessage'](_0x4d4394,_0x591e53)});return _0x3e50f6[_0x3cb895(0x4c3)](0xc9)[_0x3cb895(0x469)](_0x19e2d6);})['put'](this['routerPath'](_0x19f6fc(0x263)),..._0x57d3c7,async(_0x109d34,_0x10091d)=>{const _0x15fad4=_0x19f6fc;let _0x3fe484=await this[_0x15fad4(0x439)]({'request':_0x109d34,'schema':va,'ClassRef':Je,'execute':(_0x8ba05e,_0x5bd27d)=>O[_0x15fad4(0x263)](_0x8ba05e,_0x5bd27d)});return _0x10091d[_0x15fad4(0x4c3)](0xc9)[_0x15fad4(0x469)](_0x3fe484);})[_0x19f6fc(0x430)](this['routerPath'](_0x19f6fc(0x5fc)),..._0x57d3c7,async(_0x56dacf,_0x5d9614)=>{const _0x1b6bb9=_0x19f6fc;let _0x1e178a=await this['dataValidate']({'request':_0x56dacf,'schema':Ta,'ClassRef':He,'execute':(_0x42222a,_0x1b7009)=>O[_0x1b6bb9(0x1b5)](_0x42222a,_0x1b7009)});return _0x5d9614[_0x1b6bb9(0x4c3)](0xc9)['json'](_0x1e178a);})[_0x19f6fc(0x10f)](this[_0x19f6fc(0x361)](_0x19f6fc(0x22c)),..._0x57d3c7,async(_0x282a44,_0x5946e4)=>{const _0x597fc0=_0x19f6fc;let _0x3b75f7=await this[_0x597fc0(0x439)]({'request':_0x282a44,'schema':Ne,'ClassRef':Ee,'execute':(_0x58ddc5,_0x588322)=>O[_0x597fc0(0x11f)](_0x58ddc5,_0x588322)});return _0x5946e4['status'](0xc8)[_0x597fc0(0x469)](_0x3b75f7);})[_0x19f6fc(0x10f)](this['routerPath'](_0x19f6fc(0x336)),..._0x57d3c7,async(_0x430606,_0x59b341)=>{const _0x5bcf1c=_0x19f6fc;let _0xfe823f=await this[_0x5bcf1c(0x439)]({'request':_0x430606,'schema':Ia,'ClassRef':Ee,'execute':(_0x190ad7,_0x208cac)=>O[_0x5bcf1c(0x336)](_0x190ad7,_0x208cac)});return _0x59b341['status'](0xc8)[_0x5bcf1c(0x469)](_0xfe823f);})[_0x19f6fc(0x10f)](this[_0x19f6fc(0x361)]('findContacts'),..._0x57d3c7,async(_0x3496f6,_0x3eef89)=>{const _0x480168=_0x19f6fc;let _0x2db81f=await this[_0x480168(0x439)]({'request':_0x3496f6,'schema':Ra,'ClassRef':ze,'execute':(_0x16c73b,_0x53e99c)=>O[_0x480168(0x18c)](_0x16c73b,_0x53e99c)});return _0x3eef89[_0x480168(0x4c3)](0xc8)['json'](_0x2db81f);})[_0x19f6fc(0x10f)](this[_0x19f6fc(0x361)](_0x19f6fc(0x425)),..._0x57d3c7,async(_0x219538,_0x5eba7e)=>{const _0xf66faa=_0x19f6fc;let _0x104e11=await this['dataValidate']({'request':_0x219538,'schema':null,'ClassRef':Object,'execute':(_0x3f02f7,_0x2a58ad)=>O[_0xf66faa(0x425)](_0x3f02f7,_0x2a58ad)});return _0x5eba7e['status'](0xc9)[_0xf66faa(0x469)](_0x104e11);})[_0x19f6fc(0x10f)](this[_0x19f6fc(0x361)](_0x19f6fc(0x128)),..._0x57d3c7,async(_0x41a876,_0x23d895)=>{const _0x42b056=_0x19f6fc;let _0x2f136c=await this['dataValidate']({'request':_0x41a876,'schema':Da,'ClassRef':Le,'execute':(_0x3fc5df,_0x3f047f)=>O[_0x42b056(0x196)](_0x3fc5df,_0x3f047f)});return _0x23d895[_0x42b056(0x4c3)](0xc8)['json'](_0x2f136c);})['post'](this[_0x19f6fc(0x361)](_0x19f6fc(0x2f7)),..._0x57d3c7,async(_0x205cfc,_0x53cc25)=>{const _0x32604f=_0x19f6fc;let _0x29f14a=await this[_0x32604f(0x439)]({'request':_0x205cfc,'schema':Pa,'ClassRef':Xe,'execute':(_0x2b1ffb,_0x249b1f)=>O[_0x32604f(0x405)](_0x2b1ffb,_0x249b1f)});return _0x53cc25[_0x32604f(0x4c3)](0xc8)[_0x32604f(0x469)](_0x29f14a);})[_0x19f6fc(0x123)](this[_0x19f6fc(0x361)](_0x19f6fc(0x3e4)),..._0x57d3c7,async(_0xbf6a7b,_0x4e7f61)=>{const _0x4da251=_0x19f6fc;let _0x10c065=await this[_0x4da251(0x439)]({'request':_0xbf6a7b,'schema':null,'ClassRef':b,'execute':_0x5798f8=>O[_0x4da251(0x14b)](_0x5798f8)});return _0x4e7f61['status'](0xc8)[_0x4da251(0x469)](_0x10c065);})[_0x19f6fc(0x123)](this[_0x19f6fc(0x361)](_0x19f6fc(0x450)),..._0x57d3c7,async(_0x49d9d2,_0x28981a)=>{const _0x3fd9a5=_0x19f6fc;let _0x54966e=await this[_0x3fd9a5(0x439)]({'request':_0x49d9d2,'schema':null,'ClassRef':b,'execute':_0x5e5df9=>O[_0x3fd9a5(0x450)](_0x5e5df9)});return _0x28981a['status'](0xc8)[_0x3fd9a5(0x469)](_0x54966e);})['put'](this[_0x19f6fc(0x361)](_0x19f6fc(0xe3)),..._0x57d3c7,async(_0x162096,_0x5b18c6)=>{const _0x58e60e=_0x19f6fc;let _0x4d6e15=await this[_0x58e60e(0x439)]({'request':_0x162096,'schema':Na,'ClassRef':We,'execute':(_0x552dc2,_0x10dbea)=>O[_0x58e60e(0xe3)](_0x552dc2,_0x10dbea)});return _0x5b18c6[_0x58e60e(0x4c3)](0xc9)[_0x58e60e(0x469)](_0x4d6e15);})['post'](this['routerPath'](_0x19f6fc(0x245)),..._0x57d3c7,async(_0x4ad45c,_0x138db8)=>{const _0x3d78cd=_0x19f6fc;let _0x467c1b=await this[_0x3d78cd(0x439)]({'request':_0x4ad45c,'schema':Ne,'ClassRef':me,'execute':(_0x39c0eb,_0x5d6c11)=>O[_0x3d78cd(0x245)](_0x39c0eb,_0x5d6c11)});return _0x138db8['status'](0xc8)[_0x3d78cd(0x469)](_0x467c1b);})[_0x19f6fc(0x10f)](this[_0x19f6fc(0x361)]('updateProfileName'),..._0x57d3c7,async(_0x3caf41,_0x3cf0a1)=>{const _0xbc8945=_0x19f6fc;let _0x4c5380=await this[_0xbc8945(0x439)]({'request':_0x3caf41,'schema':Ma,'ClassRef':Fe,'execute':(_0x3c2f03,_0x20c6aa)=>O[_0xbc8945(0x266)](_0x3c2f03,_0x20c6aa)});return _0x3cf0a1[_0xbc8945(0x4c3)](0xc8)[_0xbc8945(0x469)](_0x4c5380);})['post'](this['routerPath']('updateProfileStatus'),..._0x57d3c7,async(_0x3a9552,_0x351ade)=>{const _0x429bff=_0x19f6fc;let _0xdc0832=await this[_0x429bff(0x439)]({'request':_0x3a9552,'schema':Aa,'ClassRef':Ge,'execute':(_0x2c0a05,_0x5a7bb2)=>O['updateProfileStatus'](_0x2c0a05,_0x5a7bb2)});return _0x351ade[_0x429bff(0x4c3)](0xc8)[_0x429bff(0x469)](_0xdc0832);})[_0x19f6fc(0x375)](this[_0x19f6fc(0x361)](_0x19f6fc(0x395)),..._0x57d3c7,async(_0x158f39,_0x17fa44)=>{const _0x2eb8f9=_0x19f6fc;let _0x45ab1f=await this[_0x2eb8f9(0x439)]({'request':_0x158f39,'schema':Ne,'ClassRef':me,'execute':(_0x4d7ef5,_0x224855)=>O[_0x2eb8f9(0x395)](_0x4d7ef5,_0x224855)});return _0x17fa44['status'](0xc8)[_0x2eb8f9(0x469)](_0x45ab1f);})[_0x19f6fc(0x430)](this['routerPath'](_0x19f6fc(0x10a)),..._0x57d3c7,async(_0x4a3a5f,_0x43d740)=>{const _0x39c6ef=_0x19f6fc;let _0x2c02ab=await this[_0x39c6ef(0x439)]({'request':_0x4a3a5f,'schema':Ne,'ClassRef':me,'execute':(_0x42d28a,_0x5387c7)=>O[_0x39c6ef(0x10a)](_0x42d28a,_0x5387c7)});return _0x43d740['status'](0xc8)['json'](_0x2c02ab);});}},Fa=require(a0_0x11dbb0(0x1e0)),tt=class{},st=class{},at=class{},ot=class{},it=class{},Q=class{},rt=class{},nt=class extends Q{},ct=class extends Q{},lt=class extends x{constructor(..._0x578bf9){const _0x149d45=a0_0x11dbb0;super(),this[_0x149d45(0x171)]=(0x0,Fa['Router'])(),this[_0x149d45(0x171)][_0x149d45(0x10f)](this[_0x149d45(0x361)](_0x149d45(0x39a)),..._0x578bf9,async(_0x428469,_0x3b49bd)=>{const _0x5384a4=_0x149d45;let _0x3def73=await this['dataValidate']({'request':_0x428469,'schema':Oa,'ClassRef':tt,'execute':(_0x8c0b0b,_0x145db2)=>V['createGroup'](_0x8c0b0b,_0x145db2)});_0x3b49bd[_0x5384a4(0x4c3)](0xc9)[_0x5384a4(0x469)](_0x3def73);})[_0x149d45(0x375)](this[_0x149d45(0x361)](_0x149d45(0x23f)),..._0x578bf9,async(_0xeff514,_0x4cf11a)=>{const _0x41723c=_0x149d45;let _0x2a484f=await this[_0x41723c(0x628)]({'request':_0xeff514,'schema':$a,'ClassRef':st,'execute':(_0x61ef75,_0x47a866)=>V['updateGroupPicture'](_0x61ef75,_0x47a866)});_0x4cf11a[_0x41723c(0x4c3)](0xc9)[_0x41723c(0x469)](_0x2a484f);})[_0x149d45(0x375)](this['routerPath'](_0x149d45(0x310)),..._0x578bf9,async(_0x3b56ad,_0x5e1592)=>{const _0x559290=_0x149d45;let _0x2f82f0=await this[_0x559290(0x628)]({'request':_0x3b56ad,'schema':ka,'ClassRef':at,'execute':(_0x1ff0cc,_0x55dd90)=>V[_0x559290(0x310)](_0x1ff0cc,_0x55dd90)});_0x5e1592[_0x559290(0x4c3)](0xc9)[_0x559290(0x469)](_0x2f82f0);})[_0x149d45(0x375)](this[_0x149d45(0x361)](_0x149d45(0x3b0)),..._0x578bf9,async(_0x293e62,_0x5326fe)=>{const _0x1fb9c4=_0x149d45;let _0xaff451=await this[_0x1fb9c4(0x628)]({'request':_0x293e62,'schema':La,'ClassRef':ot,'execute':(_0x4750a0,_0x43c9b8)=>V[_0x1fb9c4(0x3b0)](_0x4750a0,_0x43c9b8)});_0x5326fe[_0x1fb9c4(0x4c3)](0xc9)['json'](_0xaff451);})[_0x149d45(0x375)](this[_0x149d45(0x361)](_0x149d45(0x23a)),..._0x578bf9,async(_0x12c544,_0x27c29f)=>{const _0x473d77=_0x149d45;let _0x30ed06=await this['groupValidate']({'request':_0x12c544,'schema':Ua,'ClassRef':it,'execute':(_0x480d0f,_0x54285c)=>V[_0x473d77(0x23a)](_0x480d0f,_0x54285c)});_0x27c29f[_0x473d77(0x4c3)](0xc9)[_0x473d77(0x469)](_0x30ed06);})[_0x149d45(0x375)](this[_0x149d45(0x361)](_0x149d45(0x466)),..._0x578bf9,async(_0x44bcf6,_0x510c51)=>{const _0x33b4d2=_0x149d45;let _0x2fdddc=await this[_0x33b4d2(0x628)]({'request':_0x44bcf6,'schema':xa,'ClassRef':ct,'execute':(_0x5c3891,_0x40c216)=>V[_0x33b4d2(0x466)](_0x5c3891,_0x40c216)});_0x510c51['status'](0xc9)[_0x33b4d2(0x469)](_0x2fdddc);})['get'](this['routerPath'](_0x149d45(0x3fb)),..._0x578bf9,async(_0x34caf6,_0x2dcfed)=>{const _0x131ec1=_0x149d45;let _0x12bf17=await this[_0x131ec1(0x628)]({'request':_0x34caf6,'schema':ve,'ClassRef':Q,'execute':(_0xa6f683,_0x22d774)=>V[_0x131ec1(0x56d)](_0xa6f683,_0x22d774)});_0x2dcfed[_0x131ec1(0x4c3)](0xc8)['json'](_0x12bf17);})[_0x149d45(0x123)](this[_0x149d45(0x361)](_0x149d45(0x61d)),..._0x578bf9,async(_0xa8ed0,_0x4d0d0a)=>{const _0x3b0fa0=_0x149d45;let _0x2fd0e2=await this[_0x3b0fa0(0x439)]({'request':_0xa8ed0,'schema':C,'ClassRef':b,'execute':_0x13f3b5=>V[_0x3b0fa0(0x61d)](_0x13f3b5)});_0x4d0d0a[_0x3b0fa0(0x4c3)](0xc8)[_0x3b0fa0(0x469)](_0x2fd0e2);})[_0x149d45(0x123)](this[_0x149d45(0x361)](_0x149d45(0x24e)),..._0x578bf9,async(_0x2ca774,_0x46aab9)=>{let _0x11b768=await this['groupValidate']({'request':_0x2ca774,'schema':ve,'ClassRef':Q,'execute':(_0x229d25,_0x49addb)=>V['findParticipants'](_0x229d25,_0x49addb)});_0x46aab9['status'](0xc8)['json'](_0x11b768);})['get'](this['routerPath'](_0x149d45(0x33e)),..._0x578bf9,async(_0x57f9b,_0x454e7c)=>{const _0x34a186=_0x149d45;let _0x535944=await this[_0x34a186(0x628)]({'request':_0x57f9b,'schema':ve,'ClassRef':Q,'execute':(_0x2b0178,_0x500fe6)=>V[_0x34a186(0x33e)](_0x2b0178,_0x500fe6)});_0x454e7c['status'](0xc8)[_0x34a186(0x469)](_0x535944);})[_0x149d45(0x375)](this['routerPath'](_0x149d45(0x3af)),..._0x578bf9,async(_0x438ab5,_0x13cc1b)=>{const _0x28dfca=_0x149d45;let _0x24ef3b=await this[_0x28dfca(0x204)]({'request':_0x438ab5,'schema':Va,'ClassRef':rt,'execute':(_0x30390d,_0x5c05d5)=>V['joinGroup'](_0x30390d,_0x5c05d5)});_0x13cc1b[_0x28dfca(0x4c3)](0xc9)['json'](_0x24ef3b);})[_0x149d45(0x375)](this[_0x149d45(0x361)]('revokeInviteCode'),..._0x578bf9,async(_0x263097,_0x57f518)=>{const _0x11e66e=_0x149d45;let _0x31ec1a=await this['groupValidate']({'request':_0x263097,'schema':ve,'ClassRef':Q,'execute':(_0x1ec36f,_0x12a5e5)=>V['revokeInviteCode'](_0x1ec36f,_0x12a5e5)});_0x57f518[_0x11e66e(0x4c3)](0xc9)[_0x11e66e(0x469)](_0x31ec1a);})[_0x149d45(0x375)](this[_0x149d45(0x361)](_0x149d45(0x492)),..._0x578bf9,async(_0x2434b6,_0x49d0d1)=>{const _0x1c68e3=_0x149d45;let _0x302530=await this[_0x1c68e3(0x628)]({'request':_0x2434b6,'schema':_a,'ClassRef':nt,'execute':(_0x3e1434,_0x2f7d06)=>V['updateGParticipate'](_0x3e1434,_0x2f7d06)});_0x49d0d1[_0x1c68e3(0x4c3)](0xc9)[_0x1c68e3(0x469)](_0x302530);})[_0x149d45(0x430)](this[_0x149d45(0x361)]('leaveGroup'),..._0x578bf9,async(_0x40d672,_0x1394fe)=>{const _0x2edee9=_0x149d45;let _0x1bf7e9=await this[_0x2edee9(0x628)]({'request':_0x40d672,'schema':{},'ClassRef':Q,'execute':(_0x4a7220,_0x56e76d)=>V[_0x2edee9(0x535)](_0x4a7220,_0x56e76d)});_0x1394fe[_0x2edee9(0x4c3)](0xc8)[_0x2edee9(0x469)](_0x1bf7e9);});}},Ja=require('express'),Ie=require(a0_0x11dbb0(0x4be)),us=require(a0_0x11dbb0(0x1fb)),Ga=require(a0_0x11dbb0(0x489)),qa=T(require(a0_0x11dbb0(0x4af))),ut=class{},dt=class l{constructor(_0x41b77f,_0x40a5b4,_0x109b46){const _0x1ae1fa=a0_0x11dbb0;this[_0x1ae1fa(0x228)]=_0x41b77f,this[_0x1ae1fa(0x504)]=_0x40a5b4,this[_0x1ae1fa(0x1fa)]=_0x109b46,this[_0x1ae1fa(0x320)]=new v(l[_0x1ae1fa(0x36c)]);}async['jwt'](_0x353ab4){const _0x4f9379=a0_0x11dbb0;let _0x93e5aa=this['configService'][_0x4f9379(0x123)](_0x4f9379(0x4a1))['JWT'],_0x6b704f=(0x0,Ie[_0x4f9379(0x5b8)])({'instanceName':_0x353ab4['instanceName'],'apiName':Ke,'tokenId':(0x0,us['v4'])()},_0x93e5aa[_0x4f9379(0x106)],{'expiresIn':_0x93e5aa[_0x4f9379(0x481)],'encoding':_0x4f9379(0x428),'subject':_0x4f9379(0x11d)}),_0x4f0987=await this['repository'][_0x4f9379(0x435)]['create']({'jwt':_0x6b704f},_0x353ab4[_0x4f9379(0x13c)]);if(_0x4f0987['error'])throw this['logger'][_0x4f9379(0x162)]({'localError':l[_0x4f9379(0x36c)]+'.jwt','error':_0x4f0987[_0x4f9379(0x162)]}),new m(_0x4f9379(0x502),_0x4f0987[_0x4f9379(0x162)]?.['toString']());return{'jwt':_0x6b704f};}async['apikey'](_0x42a0b0){const _0x3d711b=a0_0x11dbb0;let _0x552626=(0x0,us['v4'])()['toUpperCase'](),_0x1a5acb=await this[_0x3d711b(0x1fa)][_0x3d711b(0x435)][_0x3d711b(0x39a)]({'apikey':_0x552626},_0x42a0b0[_0x3d711b(0x13c)]);if(_0x1a5acb[_0x3d711b(0x162)])throw this[_0x3d711b(0x320)][_0x3d711b(0x162)]({'localError':l[_0x3d711b(0x36c)]+_0x3d711b(0x184),'error':_0x1a5acb['error']}),new m('Authentication\x20error',_0x1a5acb[_0x3d711b(0x162)]?.['toString']());return{'apikey':_0x552626};}async[a0_0x11dbb0(0x40f)](_0x3cebd5){const _0x14a6c7=a0_0x11dbb0;let _0x15e78b=this[_0x14a6c7(0x228)][_0x14a6c7(0x123)](_0x14a6c7(0x4a1));return await this[_0x15e78b['TYPE']](_0x3cebd5);}async[a0_0x11dbb0(0x28a)]({oldToken:_0x3bda73}){const _0x22c825=a0_0x11dbb0;if(!(0x0,Ga['isJWT'])(_0x3bda73))throw new m(_0x22c825(0x10c));try{let _0x314c91=this['configService'][_0x22c825(0x123)](_0x22c825(0x4a1))['JWT'],_0x49eb9d=(0x0,Ie[_0x22c825(0x5a7)])(_0x3bda73,_0x314c91[_0x22c825(0x106)],{'ignoreExpiration':!0x0}),_0x14395d=await this[_0x22c825(0x1fa)][_0x22c825(0x435)][_0x22c825(0x467)](_0x49eb9d[_0x22c825(0x13c)]),_0x455be7=(0x0,Ie['verify'])(_0x14395d['jwt'],_0x314c91[_0x22c825(0x106)],{'ignoreExpiration':!0x0});if(_0x49eb9d[_0x22c825(0x223)]!==_0x455be7[_0x22c825(0x223)])throw new m(_0x22c825(0x10c));let _0x2e4d70={'jwt':(await this['jwt']({'instanceName':_0x49eb9d['instanceName']}))['jwt'],'instanceName':_0x49eb9d['instanceName']};try{let _0xd47539=await this[_0x22c825(0x1fa)][_0x22c825(0x51d)][_0x22c825(0x467)](_0x49eb9d[_0x22c825(0x13c)]);_0xd47539?.[_0x22c825(0x3d2)]&&this[_0x22c825(0x228)]['get'](_0x22c825(0x37f))[_0x22c825(0x60c)][_0x22c825(0x5ea)]&&await qa[_0x22c825(0x2cc)][_0x22c825(0x39a)]({'baseURL':_0xd47539[_0x22c825(0x12e)]})['post']('',{'event':'new.jwt','instance':_0x49eb9d['instanceName'],'data':_0x2e4d70},{'params':{'owner':this['waMonitor'][_0x22c825(0x602)][_0x49eb9d[_0x22c825(0x13c)]][_0x22c825(0x5f4)]}});}catch(_0x5a2c33){this[_0x22c825(0x320)][_0x22c825(0x162)](_0x5a2c33);}return _0x2e4d70;}catch(_0x2db618){throw this[_0x22c825(0x320)][_0x22c825(0x162)]({'localError':l['name']+'.refreshToken','error':_0x2db618}),new m(_0x22c825(0x10c));}}},pt=class extends x{constructor(_0x2f2954,..._0x2ad16c){const _0xb0db82=a0_0x11dbb0;super(),this['configService']=_0x2f2954,this[_0xb0db82(0x171)]=(0x0,Ja[_0xb0db82(0x52b)])();let _0x31b984=_0x2f2954[_0xb0db82(0x123)]('AUTHENTICATION');this[_0xb0db82(0x171)][_0xb0db82(0x10f)](_0xb0db82(0x621),..._0x2ad16c,async(_0x1dddee,_0x3f672e)=>{const _0x35fe3e=_0xb0db82;let {instanceName:_0x216d30,apikey:_0xf79477}=_0x1dddee['body'],_0x2d9cb5=await ie[_0x35fe3e(0x42a)]({'instanceName':_0x216d30,'apikey':_0xf79477});return _0x3f672e['status'](0xc9)[_0x35fe3e(0x469)](_0x2d9cb5);})[_0xb0db82(0x375)](this[_0xb0db82(0x361)](_0xb0db82(0x51b)),..._0x2ad16c,async(_0x23ff33,_0x29a867)=>{const _0xc0802d=_0xb0db82;let _0x2c5698=await this['dataValidate']({'request':_0x23ff33,'schema':C,'ClassRef':b,'execute':_0x128209=>ie[_0xc0802d(0x192)](_0x128209)});return _0x29a867['status'](0xc8)[_0xc0802d(0x469)](_0x2c5698);})[_0xb0db82(0x123)](this[_0xb0db82(0x361)](_0xb0db82(0x2eb)),..._0x2ad16c,async(_0x4edc6f,_0xd367cc)=>{const _0x1f497f=_0xb0db82;let _0x7db3aa=await this[_0x1f497f(0x439)]({'request':_0x4edc6f,'schema':C,'ClassRef':b,'execute':_0x53cd8c=>ie[_0x1f497f(0x4dc)](_0x53cd8c)});return _0xd367cc[_0x1f497f(0x4c3)](0xc8)[_0x1f497f(0x469)](_0x7db3aa);})[_0xb0db82(0x123)](this['routerPath']('connectionState'),..._0x2ad16c,async(_0x1bf4a6,_0x3f9743)=>{const _0x553731=_0xb0db82;let _0x2e553f=await this[_0x553731(0x439)]({'request':_0x1bf4a6,'schema':C,'ClassRef':b,'execute':_0x3baec6=>ie[_0x553731(0x544)](_0x3baec6)});return _0x3f9743[_0x553731(0x4c3)](0xc8)[_0x553731(0x469)](_0x2e553f);})[_0xb0db82(0x123)](this[_0xb0db82(0x361)](_0xb0db82(0x190),!0x1),..._0x2ad16c,async(_0x5a39f1,_0x5a91d1)=>{const _0x4dcfab=_0xb0db82;let _0x39f552=await this[_0x4dcfab(0x439)]({'request':_0x5a39f1,'schema':null,'ClassRef':b,'execute':_0x1bc2c7=>ie['fetchInstances'](_0x1bc2c7)});return _0x5a91d1[_0x4dcfab(0x4c3)](0xc8)[_0x4dcfab(0x469)](_0x39f552);})['delete'](this[_0xb0db82(0x361)]('logout'),..._0x2ad16c,async(_0x53c0c6,_0x511a6a)=>{const _0xd61b04=_0xb0db82;let _0x1c235f=await this[_0xd61b04(0x439)]({'request':_0x53c0c6,'schema':C,'ClassRef':b,'execute':_0x4709ad=>ie[_0xd61b04(0x17c)](_0x4709ad)});return _0x511a6a['status'](0xc8)[_0xd61b04(0x469)](_0x1c235f);})[_0xb0db82(0x430)](this['routerPath'](_0xb0db82(0x430)),..._0x2ad16c,async(_0x5775a7,_0x413504)=>{const _0x134715=_0xb0db82;let _0x3a3a65=await this[_0x134715(0x439)]({'request':_0x5775a7,'schema':C,'ClassRef':b,'execute':_0x59435d=>ie[_0x134715(0x47d)](_0x59435d)});return _0x413504[_0x134715(0x4c3)](0xc8)[_0x134715(0x469)](_0x3a3a65);}),_0x31b984[_0xb0db82(0x54c)]==='jwt'&&this[_0xb0db82(0x171)][_0xb0db82(0x375)](_0xb0db82(0x2b4),async(_0x5b3b92,_0x20f872)=>{const _0x257aba=_0xb0db82;let _0x3bfa27=await this['dataValidate']({'request':_0x5b3b92,'schema':ca,'ClassRef':ut,'execute':(_0x229e72,_0xffd115)=>ie['refreshToken'](_0x229e72,_0xffd115)});return _0x20f872[_0x257aba(0x4c3)](0xc9)[_0x257aba(0x469)](_0x3bfa27);});}},Wa=require('express'),ds=class{},H=class extends ds{},mt=class extends H{},gt=class extends H{},ht=class extends H{},De=class extends H{},ft=class extends H{},wt=class extends H{},yt=class extends H{},bt=class extends H{},St=class extends H{},Et=class{},Ct=class extends x{constructor(..._0x2117c4){const _0xa77b63=a0_0x11dbb0;super(),this[_0xa77b63(0x171)]=(0x0,Wa['Router'])(),this[_0xa77b63(0x171)][_0xa77b63(0x10f)](this[_0xa77b63(0x361)](_0xa77b63(0x3fc)),..._0x2117c4,async(_0x1b5df9,_0x574578)=>{const _0x395940=_0xa77b63;let _0x1ddd50=await this[_0x395940(0x439)]({'request':_0x1b5df9,'schema':la,'ClassRef':mt,'execute':(_0x43d320,_0x4e291b)=>W[_0x395940(0x3fc)](_0x43d320,_0x4e291b)});return _0x574578[_0x395940(0x4c3)](0xc9)[_0x395940(0x469)](_0x1ddd50);})[_0xa77b63(0x10f)](this[_0xa77b63(0x361)](_0xa77b63(0x49d)),..._0x2117c4,async(_0xde76,_0x460519)=>{const _0x4e20cf=_0xa77b63;let _0xa742c8=await this[_0x4e20cf(0x439)]({'request':_0xde76,'schema':ma,'ClassRef':De,'execute':(_0x1d16f0,_0x7f32ce)=>W['sendMedia'](_0x1d16f0,_0x7f32ce)});return _0x460519[_0x4e20cf(0x4c3)](0xc9)[_0x4e20cf(0x469)](_0xa742c8);})[_0xa77b63(0x10f)](this[_0xa77b63(0x361)](_0xa77b63(0x4b0)),..._0x2117c4,async(_0x85feee,_0x5e33fc)=>{const _0x55c24c=_0xa77b63;let _0xdfd718=await this['dataValidate']({'request':_0x85feee,'schema':ga,'ClassRef':De,'execute':(_0x53804d,_0xc8cdbe)=>W[_0x55c24c(0x4b0)](_0x53804d,_0xc8cdbe)});return _0x5e33fc[_0x55c24c(0x4c3)](0xc9)['json'](_0xdfd718);})['post'](this['routerPath']('sendButtons'),..._0x2117c4,async(_0x4f65d3,_0x281a01)=>{const _0x382ede=_0xa77b63;let _0x4e29b5=await this['dataValidate']({'request':_0x4f65d3,'schema':fa,'ClassRef':wt,'execute':(_0x5d233f,_0x337e47)=>W[_0x382ede(0x237)](_0x5d233f,_0x337e47)});return _0x281a01[_0x382ede(0x4c3)](0xc9)['json'](_0x4e29b5);})['post'](this[_0xa77b63(0x361)](_0xa77b63(0x292)),..._0x2117c4,async(_0x23deb7,_0x1f1ec6)=>{const _0xfa81a0=_0xa77b63;let _0x48eb56=await this[_0xfa81a0(0x439)]({'request':_0x23deb7,'schema':wa,'ClassRef':yt,'execute':(_0x5bfa81,_0x4e866e)=>W[_0xfa81a0(0x292)](_0x5bfa81,_0x4e866e)});return _0x1f1ec6['status'](0xc9)[_0xfa81a0(0x469)](_0x48eb56);})[_0xa77b63(0x10f)](this[_0xa77b63(0x361)](_0xa77b63(0xe8)),..._0x2117c4,async(_0x3ba71a,_0x2692ce)=>{const _0x2b4355=_0xa77b63;let _0x7f0d47=await this[_0x2b4355(0x439)]({'request':_0x3ba71a,'schema':ya,'ClassRef':bt,'execute':(_0x44bef5,_0x25edba)=>W['sendList'](_0x44bef5,_0x25edba)});return _0x2692ce['status'](0xc9)[_0x2b4355(0x469)](_0x7f0d47);})[_0xa77b63(0x10f)](this['routerPath']('sendContact'),..._0x2117c4,async(_0x3aa637,_0x1464e2)=>{const _0x12bb71=_0xa77b63;let _0x5b82a5=await this[_0x12bb71(0x439)]({'request':_0x3aa637,'schema':ba,'ClassRef':St,'execute':(_0x54d4ec,_0x4d5761)=>W[_0x12bb71(0x138)](_0x54d4ec,_0x4d5761)});return _0x1464e2[_0x12bb71(0x4c3)](0xc9)[_0x12bb71(0x469)](_0x5b82a5);})['post'](this[_0xa77b63(0x361)](_0xa77b63(0x13b)),..._0x2117c4,async(_0x4f267d,_0x34deab)=>{const _0xd17f9=_0xa77b63;let _0xd85880=await this[_0xd17f9(0x439)]({'request':_0x4f267d,'schema':Sa,'ClassRef':Et,'execute':(_0x141f8f,_0x454010)=>W[_0xd17f9(0x13b)](_0x141f8f,_0x454010)});return _0x34deab[_0xd17f9(0x4c3)](0xc9)[_0xd17f9(0x469)](_0xd85880);})['post'](this[_0xa77b63(0x361)](_0xa77b63(0x3ca)),..._0x2117c4,async(_0xf27560,_0xfd4224)=>{const _0x2ab2c7=_0xa77b63;let _0x2be2e2=await this[_0x2ab2c7(0x439)]({'request':_0xf27560,'schema':ha,'ClassRef':ht,'execute':(_0x299f57,_0x2b05f0)=>W[_0x2ab2c7(0x3ca)](_0x299f57,_0x2b05f0)});return _0xfd4224[_0x2ab2c7(0x4c3)](0xc9)[_0x2ab2c7(0x469)](_0x2be2e2);})[_0xa77b63(0x10f)](this[_0xa77b63(0x361)](_0xa77b63(0x417)),..._0x2117c4,async(_0x2a06de,_0x1d81df)=>{const _0x12a48e=_0xa77b63;let _0x239eed=await this[_0x12a48e(0x439)]({'request':_0x2a06de,'schema':pa,'ClassRef':gt,'execute':(_0x4422b1,_0x5639f9)=>W['sendStatus'](_0x4422b1,_0x5639f9)});return _0x1d81df['status'](0xc9)[_0x12a48e(0x469)](_0x239eed);})[_0xa77b63(0x10f)](this[_0xa77b63(0x361)](_0xa77b63(0x55e)),..._0x2117c4,async(_0x1c1b93,_0x4cfca5)=>{const _0x479910=_0xa77b63;let _0x5e9951=await this[_0x479910(0x439)]({'request':_0x1c1b93,'schema':da,'ClassRef':ft,'execute':(_0x2e5851,_0x2181fe)=>W[_0x479910(0x55e)](_0x2e5851,_0x2181fe)});return _0x4cfca5[_0x479910(0x4c3)](0xc9)[_0x479910(0x469)](_0x5e9951);});}},Ha=require(a0_0x11dbb0(0x1e0)),Nt=class extends x{constructor(..._0xc87c9){const _0x3538bc=a0_0x11dbb0;super(),this[_0x3538bc(0x171)]=(0x0,Ha['Router'])(),this[_0x3538bc(0x171)][_0x3538bc(0x123)](this[_0x3538bc(0x361)](_0x3538bc(0x20b)),..._0xc87c9,(_0x1bad78,_0x2e8f78)=>Ka[_0x3538bc(0x20b)](_0x1bad78,_0x2e8f78));}},za=require(a0_0x11dbb0(0x1e0)),vt=class{},Tt=class extends x{constructor(..._0x442fd9){const _0x2dad9a=a0_0x11dbb0;super(),this[_0x2dad9a(0x171)]=(0x0,za[_0x2dad9a(0x52b)])(),this['router'][_0x2dad9a(0x10f)](this[_0x2dad9a(0x361)](_0x2dad9a(0x48c)),..._0x442fd9,async(_0x167dc9,_0x499b21)=>{const _0x4fa317=_0x2dad9a;let _0x3170f3=await this[_0x4fa317(0x439)]({'request':_0x167dc9,'schema':Ba,'ClassRef':vt,'execute':(_0xdea7c5,_0x19e7d2)=>ps['createWebhook'](_0xdea7c5,_0x19e7d2)});_0x499b21['status'](0xc9)['json'](_0x3170f3);})[_0x2dad9a(0x123)](this[_0x2dad9a(0x361)]('find'),..._0x442fd9,async(_0x4aa35f,_0x5ea1e3)=>{const _0x54f5d2=_0x2dad9a;let _0x4b01e3=await this['dataValidate']({'request':_0x4aa35f,'schema':C,'ClassRef':b,'execute':_0x4b8a51=>ps[_0x54f5d2(0x199)](_0x4b8a51)});_0x5ea1e3[_0x54f5d2(0x4c3)](0xc8)[_0x54f5d2(0x469)](_0x4b01e3);});}},Qa=require(a0_0x11dbb0(0x1e0)),g=new v(a0_0x11dbb0(0x2db)),Rt=class extends x{constructor(..._0x56f0e3){const _0x1f0937=a0_0x11dbb0;super(),this['router']=(0x0,Qa[_0x1f0937(0x52b)])(),this['router'][_0x1f0937(0x10f)](this[_0x1f0937(0x361)]('scheduleMessage'),..._0x56f0e3,async(_0x423b07,_0x5482d7)=>{const _0x217347=_0x1f0937;let _0x2f2a3e=_0x423b07[_0x217347(0x17a)];g['verbose'](_0x217347(0x63a)),g[_0x217347(0x147)](_0x217347(0x29d)),g[_0x217347(0x147)](_0x423b07[_0x217347(0x17a)]);let _0x3e304c=await this['dataValidate']({'request':_0x423b07,'schema':C,'ClassRef':b,'execute':_0x48f608=>A[_0x217347(0x650)](_0x48f608,_0x2f2a3e)});_0x5482d7[_0x217347(0x4c3)](0xc8)[_0x217347(0x469)](_0x3e304c);})['get'](this[_0x1f0937(0x361)](_0x1f0937(0x423)),..._0x56f0e3,async(_0xa95748,_0x42a494)=>{const _0x402f46=_0x1f0937;let _0x26a30f=await this[_0x402f46(0x439)]({'request':_0xa95748,'schema':C,'ClassRef':b,'execute':_0x5db121=>A['getScheduleMessage'](_0x5db121)});_0x42a494[_0x402f46(0x4c3)](0xc8)[_0x402f46(0x469)](_0x26a30f);})[_0x1f0937(0x430)](this[_0x1f0937(0x361)]('deleteDoneMessages'),..._0x56f0e3,async(_0x4eb7ff,_0x1dee60)=>{const _0x2b1aa3=_0x1f0937;g[_0x2b1aa3(0x147)]('request\x20received\x20in\x20deleteDoneMessages');let _0x5e6214=await this[_0x2b1aa3(0x439)]({'request':_0x4eb7ff,'schema':C,'ClassRef':b,'execute':_0x394598=>A[_0x2b1aa3(0x619)](_0x394598)});_0x1dee60[_0x2b1aa3(0x4c3)](0xc8)['json'](_0x5e6214);})[_0x1f0937(0x10f)](this[_0x1f0937(0x361)](_0x1f0937(0x1d8)),..._0x56f0e3,async(_0xa4bbf5,_0x57209d)=>{const _0x2e267d=_0x1f0937;let _0x406533=_0xa4bbf5['body'];g[_0x2e267d(0x147)](_0x2e267d(0x514)),g[_0x2e267d(0x147)]('request\x20body:\x20'),g['verbose'](_0xa4bbf5[_0x2e267d(0x17a)]);let _0x21f03c=await this[_0x2e267d(0x439)]({'request':_0xa4bbf5,'schema':C,'ClassRef':b,'execute':_0x5bbf3f=>A['startFlow'](_0x5bbf3f,_0x406533)});_0x57209d[_0x2e267d(0x4c3)](0xc8)[_0x2e267d(0x469)](_0x21f03c);})['get'](this[_0x1f0937(0x361)](_0x1f0937(0x22b)),..._0x56f0e3,async(_0x46d14d,_0x2e39b6)=>{const _0x40b9c9=_0x1f0937;g[_0x40b9c9(0x147)](_0x40b9c9(0x2d0));let _0x58d8a0=await this[_0x40b9c9(0x439)]({'request':_0x46d14d,'schema':C,'ClassRef':b,'execute':_0x16ad5e=>A[_0x40b9c9(0x22b)](_0x16ad5e)});_0x2e39b6[_0x40b9c9(0x4c3)](0xc8)[_0x40b9c9(0x469)](_0x58d8a0);})['get'](this[_0x1f0937(0x361)](_0x1f0937(0x14e)),..._0x56f0e3,async(_0x5a02a4,_0x414c0f)=>{const _0xa386ea=_0x1f0937;g[_0xa386ea(0x147)](_0xa386ea(0x1c0));let _0x546f9d=await this[_0xa386ea(0x439)]({'request':_0x5a02a4,'schema':C,'ClassRef':b,'execute':_0xbb6d2f=>A['getAutomateSystem'](_0xbb6d2f)});_0x414c0f['status'](0xc8)['json'](_0x546f9d);})['post'](this[_0x1f0937(0x361)](_0x1f0937(0x1d4)),..._0x56f0e3,async(_0x1ead5c,_0x1dec6b)=>{const _0x1f78e1=_0x1f0937;let _0x26cb6a=_0x1ead5c['body'];g[_0x1f78e1(0x147)](_0x1f78e1(0x1de)),g[_0x1f78e1(0x147)](_0x1f78e1(0x29d)),g[_0x1f78e1(0x147)](_0x1ead5c[_0x1f78e1(0x17a)]);let _0x3eebeb=await this[_0x1f78e1(0x439)]({'request':_0x1ead5c,'schema':C,'ClassRef':b,'execute':_0x4b8d76=>A[_0x1f78e1(0x1d4)](_0x4b8d76,_0x26cb6a)});_0x1dec6b[_0x1f78e1(0x4c3)](0xc8)[_0x1f78e1(0x469)](_0x3eebeb);})[_0x1f0937(0x10f)](this['routerPath'](_0x1f0937(0x5e4)),..._0x56f0e3,async(_0xb80c77,_0x277148)=>{const _0x1690f3=_0x1f0937;let _0x58ef8d=_0xb80c77[_0x1690f3(0x17a)];g[_0x1690f3(0x147)]('request\x20received\x20in\x20updateCustomFields'),g[_0x1690f3(0x147)]('request\x20body:\x20'),g['verbose'](_0xb80c77[_0x1690f3(0x17a)]);let _0x38aafa=await this['dataValidate']({'request':_0xb80c77,'schema':C,'ClassRef':b,'execute':_0x564928=>A[_0x1690f3(0x5e4)](_0x564928,_0x58ef8d)});_0x277148['status'](0xc8)[_0x1690f3(0x469)](_0x38aafa);})[_0x1f0937(0x10f)](this[_0x1f0937(0x361)](_0x1f0937(0x35f)),..._0x56f0e3,async(_0x1b18b6,_0x187b66)=>{const _0x24a687=_0x1f0937;let _0x5427dd=_0x1b18b6['body'];g[_0x24a687(0x147)](_0x24a687(0x321)),g['verbose'](_0x24a687(0x29d)),g[_0x24a687(0x147)](_0x1b18b6['body']);let _0x2c3da1=await this[_0x24a687(0x439)]({'request':_0x1b18b6,'schema':C,'ClassRef':b,'execute':_0xfbccab=>A[_0x24a687(0x35f)](_0xfbccab,_0x5427dd)});_0x187b66[_0x24a687(0x4c3)](0xc8)[_0x24a687(0x469)](_0x2c3da1);})['post'](this[_0x1f0937(0x361)]('getConversation'),..._0x56f0e3,async(_0x2e0950,_0x37c892)=>{const _0x58d373=_0x1f0937;let _0x3c91f8=_0x2e0950['body'];g['verbose']('request\x20received\x20in\x20getConversation'),g[_0x58d373(0x147)]('request\x20body:\x20'),g[_0x58d373(0x147)](_0x2e0950[_0x58d373(0x17a)]);let _0x1749df=await this[_0x58d373(0x439)]({'request':_0x2e0950,'schema':C,'ClassRef':b,'execute':_0x45f2c4=>A['getConversation'](_0x45f2c4,_0x3c91f8)});_0x37c892['status'](0xc8)[_0x58d373(0x469)](_0x1749df);})[_0x1f0937(0x10f)](this[_0x1f0937(0x361)]('fetchConversation'),..._0x56f0e3,async(_0x3cf129,_0x2408a7)=>{const _0x28af75=_0x1f0937;let _0x29b813=_0x3cf129['body'];g[_0x28af75(0x147)](_0x28af75(0x116)),g[_0x28af75(0x147)]('request\x20body:\x20'),g[_0x28af75(0x147)](_0x3cf129['body']);let _0x4ac830=await this[_0x28af75(0x439)]({'request':_0x3cf129,'schema':C,'ClassRef':b,'execute':_0x21f228=>A[_0x28af75(0xea)](_0x21f228,_0x29b813)});_0x2408a7[_0x28af75(0x4c3)](0xc8)['json'](_0x4ac830);})[_0x1f0937(0x10f)](this[_0x1f0937(0x361)](_0x1f0937(0x3b8)),..._0x56f0e3,async(_0x14dac7,_0x2473a3)=>{const _0x191147=_0x1f0937;let _0x4d7ff6=_0x14dac7[_0x191147(0x17a)];g[_0x191147(0x147)](_0x191147(0x1f5)),g[_0x191147(0x147)](_0x191147(0x29d)),g[_0x191147(0x147)](_0x14dac7[_0x191147(0x17a)]);let _0x56f198=await this[_0x191147(0x439)]({'request':_0x14dac7,'schema':C,'ClassRef':b,'execute':_0x593d27=>A['editConversation'](_0x593d27,_0x4d7ff6)});_0x2473a3[_0x191147(0x4c3)](0xc8)[_0x191147(0x469)](_0x56f198);})[_0x1f0937(0x430)](this[_0x1f0937(0x361)](_0x1f0937(0x568)),..._0x56f0e3,async(_0x52f342,_0x5820d7)=>{const _0x596133=_0x1f0937;let _0x755365=_0x52f342[_0x596133(0x17a)];g[_0x596133(0x147)]('request\x20received\x20in\x20deleteConversation'),g[_0x596133(0x147)](_0x596133(0x29d)),g[_0x596133(0x147)](_0x52f342[_0x596133(0x17a)]);let _0x2ef276=await this[_0x596133(0x439)]({'request':_0x52f342,'schema':C,'ClassRef':b,'execute':_0x2c762a=>A[_0x596133(0x568)](_0x2c762a,_0x755365)});_0x5820d7[_0x596133(0x4c3)](0xc8)[_0x596133(0x469)](_0x2ef276);})[_0x1f0937(0x10f)](this[_0x1f0937(0x361)]('createflow'),..._0x56f0e3,async(_0x580be4,_0x53c04e)=>{const _0x526b94=_0x1f0937;let _0x10f1ef=_0x580be4[_0x526b94(0x17a)];g[_0x526b94(0x147)](_0x526b94(0x547)),g[_0x526b94(0x147)](_0x526b94(0x29d)),g['verbose'](_0x580be4[_0x526b94(0x17a)]);let _0xca7326=await this[_0x526b94(0x439)]({'request':_0x580be4,'schema':C,'ClassRef':b,'execute':_0x2744cf=>A[_0x526b94(0x609)](_0x2744cf,_0x10f1ef)});_0x53c04e[_0x526b94(0x4c3)](0xc8)[_0x526b94(0x469)](_0xca7326);})['post'](this['routerPath'](_0x1f0937(0x3f2)),..._0x56f0e3,async(_0x10a799,_0x4c61b6)=>{const _0x4bcec0=_0x1f0937;let _0x8b69d9=_0x10a799[_0x4bcec0(0x17a)];g[_0x4bcec0(0x147)](_0x4bcec0(0x311)),g[_0x4bcec0(0x147)](_0x4bcec0(0x29d)),g['verbose'](_0x10a799[_0x4bcec0(0x17a)]),delete _0x8b69d9['blocks'],delete _0x8b69d9[_0x4bcec0(0x347)],delete _0x8b69d9[_0x4bcec0(0x341)],delete _0x8b69d9[_0x4bcec0(0x614)];let _0x49e3ff=await this['dataValidate']({'request':_0x10a799,'schema':C,'ClassRef':b,'execute':_0x4765bd=>A[_0x4bcec0(0x256)](_0x4765bd,_0x8b69d9)});_0x4c61b6[_0x4bcec0(0x4c3)](0xc8)['json'](_0x49e3ff);})[_0x1f0937(0x10f)](this[_0x1f0937(0x361)](_0x1f0937(0x345)),..._0x56f0e3,async(_0x350f92,_0x3664e3)=>{const _0x48d9c7=_0x1f0937;let _0xc977d=_0x350f92[_0x48d9c7(0x17a)];g[_0x48d9c7(0x147)](_0x48d9c7(0x311)),g[_0x48d9c7(0x147)](_0x48d9c7(0x29d)),g['verbose'](_0x350f92['body']);let _0x2d8851=await this[_0x48d9c7(0x439)]({'request':_0x350f92,'schema':C,'ClassRef':b,'execute':_0x4b3615=>A['editFlowBlock'](_0x4b3615,_0xc977d)});_0x3664e3['status'](0xc8)['json'](_0x2d8851);})[_0x1f0937(0x10f)](this[_0x1f0937(0x361)](_0x1f0937(0x146)),..._0x56f0e3,async(_0xc9213e,_0x3ea24f)=>{const _0x34da88=_0x1f0937;let _0x435d4e=_0xc9213e[_0x34da88(0x17a)];g[_0x34da88(0x147)](_0x34da88(0x311)),g[_0x34da88(0x147)](_0x34da88(0x29d)),g[_0x34da88(0x147)](_0xc9213e['body']);let _0x4baaab=await this[_0x34da88(0x439)]({'request':_0xc9213e,'schema':C,'ClassRef':b,'execute':_0x22fdd5=>A['editFlowReply'](_0x22fdd5,_0x435d4e)});_0x3ea24f[_0x34da88(0x4c3)](0xc8)[_0x34da88(0x469)](_0x4baaab);})[_0x1f0937(0x10f)](this[_0x1f0937(0x361)](_0x1f0937(0x129)),..._0x56f0e3,async(_0x3c4284,_0x345d70)=>{const _0x232261=_0x1f0937;let _0x5d066e=_0x3c4284[_0x232261(0x17a)];g[_0x232261(0x147)](_0x232261(0x311)),g[_0x232261(0x147)](_0x232261(0x29d)),g['verbose'](_0x3c4284[_0x232261(0x17a)]);let _0x165b52=await this[_0x232261(0x439)]({'request':_0x3c4284,'schema':C,'ClassRef':b,'execute':_0xbe7d4a=>A[_0x232261(0x177)](_0xbe7d4a,_0x5d066e)});_0x345d70[_0x232261(0x4c3)](0xc8)[_0x232261(0x469)](_0x165b52);})[_0x1f0937(0x10f)](this[_0x1f0937(0x361)](_0x1f0937(0x20d)),..._0x56f0e3,async(_0x5e1cf1,_0x2c4fe1)=>{const _0x48fe39=_0x1f0937;let _0x2da62d=_0x5e1cf1[_0x48fe39(0x17a)];g[_0x48fe39(0x147)]('request\x20received\x20in\x20editFlowgroup'),g['verbose'](_0x48fe39(0x29d)),g[_0x48fe39(0x147)](_0x5e1cf1[_0x48fe39(0x17a)]);let _0x3da778=await this[_0x48fe39(0x439)]({'request':_0x5e1cf1,'schema':C,'ClassRef':b,'execute':_0x1c9e25=>A[_0x48fe39(0x2c8)](_0x1c9e25,_0x2da62d)});_0x2c4fe1[_0x48fe39(0x4c3)](0xc8)['json'](_0x3da778);})['post'](this[_0x1f0937(0x361)]('editflowcondition'),..._0x56f0e3,async(_0x3ce56a,_0x31cbd9)=>{const _0x69d06a=_0x1f0937;let _0x94a9cc=_0x3ce56a[_0x69d06a(0x17a)];g[_0x69d06a(0x147)](_0x69d06a(0x227)),g[_0x69d06a(0x147)](_0x69d06a(0x29d)),g['verbose'](_0x3ce56a[_0x69d06a(0x17a)]);let _0x2e87ac=await this[_0x69d06a(0x439)]({'request':_0x3ce56a,'schema':C,'ClassRef':b,'execute':_0x2a3d8b=>A['editFlowCondition'](_0x2a3d8b,_0x94a9cc)});_0x31cbd9[_0x69d06a(0x4c3)](0xc8)['json'](_0x2e87ac);})['post'](this[_0x1f0937(0x361)](_0x1f0937(0x363)),..._0x56f0e3,async(_0x910317,_0xb8b8e8)=>{const _0x42e553=_0x1f0937;let _0x41b267=_0x910317[_0x42e553(0x17a)];g[_0x42e553(0x147)](_0x42e553(0x57c)),g[_0x42e553(0x147)](_0x42e553(0x29d)),g[_0x42e553(0x147)](_0x910317[_0x42e553(0x17a)]);let _0x2d10e1=await this[_0x42e553(0x439)]({'request':_0x910317,'schema':C,'ClassRef':b,'execute':_0x4f1f04=>A[_0x42e553(0x186)](_0x4f1f04,_0x41b267)});_0xb8b8e8[_0x42e553(0x4c3)](0xc8)[_0x42e553(0x469)](_0x2d10e1);})[_0x1f0937(0x10f)](this[_0x1f0937(0x361)](_0x1f0937(0x2af)),..._0x56f0e3,async(_0x3c1513,_0x313337)=>{const _0x371c0a=_0x1f0937;let _0x2b25ab=_0x3c1513[_0x371c0a(0x17a)];g['verbose'](_0x371c0a(0x462)),g[_0x371c0a(0x147)]('request\x20body:\x20'),g[_0x371c0a(0x147)](_0x3c1513[_0x371c0a(0x17a)]);let _0x1898a2=await this[_0x371c0a(0x439)]({'request':_0x3c1513,'schema':C,'ClassRef':b,'execute':_0x1963df=>A['getFlow'](_0x1963df,_0x2b25ab)});_0x313337[_0x371c0a(0x4c3)](0xc8)[_0x371c0a(0x469)](_0x1898a2);})[_0x1f0937(0x430)](this['routerPath'](_0x1f0937(0x3ba)),..._0x56f0e3,async(_0x16795d,_0x237c9d)=>{const _0x5bb996=_0x1f0937;let _0x21e128=_0x16795d['body'];g[_0x5bb996(0x147)](_0x5bb996(0x547)),g[_0x5bb996(0x147)](_0x5bb996(0x29d)),g[_0x5bb996(0x147)](_0x16795d[_0x5bb996(0x17a)]);let _0x548375=await this[_0x5bb996(0x439)]({'request':_0x16795d,'schema':C,'ClassRef':b,'execute':_0x1d6bcd=>A[_0x5bb996(0x4fd)](_0x1d6bcd,_0x21e128)});_0x237c9d[_0x5bb996(0x4c3)](0xc8)['json'](_0x548375);})[_0x1f0937(0x123)](this['routerPath']('allflows'),..._0x56f0e3,async(_0x5604b2,_0x59ac0d)=>{const _0x4ee755=_0x1f0937;g['verbose'](_0x4ee755(0x13e));let _0x36647d=await this[_0x4ee755(0x439)]({'request':_0x5604b2,'schema':C,'ClassRef':b,'execute':_0x371945=>A['allFlows'](_0x371945)});_0x59ac0d[_0x4ee755(0x4c3)](0xc8)[_0x4ee755(0x469)](_0x36647d);});}},Ya=T(require(a0_0x11dbb0(0x15d))),ai=Ya[a0_0x11dbb0(0x2cc)][a0_0x11dbb0(0x140)](__dirname,a0_0x11dbb0(0x60d)),ms=(0x0,Mt['Router'])(),oi=y[a0_0x11dbb0(0x123)]('AUTHENTICATION')['TYPE'],ce=[cs,oa,na[oi]];ms[a0_0x11dbb0(0x4cc)](a0_0x11dbb0(0x205),Mt[a0_0x11dbb0(0x2cc)]['static'](ai))[a0_0x11dbb0(0x123)]('/',(_0x3c926d,_0x4a9cf6)=>{const _0x4cb167=a0_0x11dbb0;let _0x3af7b7=y[_0x4cb167(0x123)](_0x4cb167(0x61c)),_0x483ea2=_0x3af7b7&&_0x3af7b7[_0x4cb167(0x61e)]['split']('/')[0x4];if(_0x483ea2){let _0x173c8c=encodeURIComponent(_0x4cb167(0x50c)+_0x483ea2);_0x4a9cf6['redirect'](_0x4cb167(0x669)+_0x173c8c);}else _0x4a9cf6['redirect'](_0x4cb167(0x3ff));})[a0_0x11dbb0(0x375)](a0_0x11dbb0(0x1fc),...ce,async(_0xee8a76,_0x1dddaa)=>{const _0x206c62=a0_0x11dbb0;try{console[_0x206c62(0x3cd)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x1dddaa['status'](0xc8)[_0x206c62(0x469)]({'message':_0x206c62(0x1d6)}),_0x1dddaa['on'](_0x206c62(0x633),()=>process[_0x206c62(0x317)](0x0));}catch(_0x19d639){console[_0x206c62(0x162)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x19d639),_0x1dddaa[_0x206c62(0x4c3)](0x1f4)[_0x206c62(0x469)]({'message':_0x206c62(0x550)});}})[a0_0x11dbb0(0x4cc)]('/instance',new pt(y,...ce)[a0_0x11dbb0(0x171)],new Nt(cs)['router'])[a0_0x11dbb0(0x4cc)](a0_0x11dbb0(0x4cf),new Ct(...ce)['router'])[a0_0x11dbb0(0x4cc)](a0_0x11dbb0(0x4b6),new et(...ce)[a0_0x11dbb0(0x171)])['use'](a0_0x11dbb0(0x12b),new lt(...ce)[a0_0x11dbb0(0x171)])[a0_0x11dbb0(0x4cc)](a0_0x11dbb0(0x5e5),new Tt(...ce)[a0_0x11dbb0(0x171)])[a0_0x11dbb0(0x4cc)](a0_0x11dbb0(0x38e),new Rt(...ce)[a0_0x11dbb0(0x171)]);var m=class{constructor(..._0x12983a){const _0x33dad9=a0_0x11dbb0;throw{'status':0x190,'error':_0x33dad9(0x304),'message':_0x12983a[_0x33dad9(0x125)]>0x0?_0x12983a:void 0x0};}},ae=class{constructor(..._0x963f30){const _0x2315e1=a0_0x11dbb0;throw{'status':0x191,'error':_0x2315e1(0x638),'message':_0x963f30[_0x2315e1(0x125)]>0x0?_0x963f30:void 0x0};}},se=class{constructor(..._0x47cfb2){const _0x1cdb52=a0_0x11dbb0;throw{'status':0x193,'error':'Forbidden','message':_0x47cfb2[_0x1cdb52(0x125)]>0x0?_0x47cfb2:void 0x0};}},U=class{constructor(..._0x5481){const _0x3c09f9=a0_0x11dbb0;throw{'status':0x194,'error':_0x3c09f9(0x525),'message':_0x5481[_0x3c09f9(0x125)]>0x0?_0x5481:void 0x0};}},I=class{constructor(..._0x32f38a){const _0x59ffa8=a0_0x11dbb0;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x32f38a[_0x59ffa8(0x125)]>0x0?_0x32f38a:void 0x0};}},le=require(a0_0x11dbb0(0x59e));async function gs(_0x499b87){const _0x419543=a0_0x11dbb0;let _0x508cc9=new v(gs[_0x419543(0x36c)]),_0x128265=R[_0x419543(0x429)](),_0x429257=_0x128265['db'](y['get'](_0x419543(0x398))[_0x419543(0x3fe)][_0x419543(0x2a9)]+_0x419543(0x32c))['collection'](_0x499b87),_0x925d53=async(_0x357f63,_0x3fbf58)=>{const _0x37336b=_0x419543;try{return await _0x128265['connect'](),await _0x429257[_0x37336b(0x134)]({'_id':_0x3fbf58},JSON[_0x37336b(0x39b)](JSON['stringify'](_0x357f63,le[_0x37336b(0x34f)][_0x37336b(0x498)])),{'upsert':!0x0});}catch{}},_0x3ce6cd=async _0x9c8359=>{const _0xa53754=_0x419543;try{await _0x128265[_0xa53754(0x2eb)]();let _0x164d77=await _0x429257[_0xa53754(0x5df)]({'_id':_0x9c8359}),_0xd880d1=JSON['stringify'](_0x164d77);return JSON['parse'](_0xd880d1,le['BufferJSON']['reviver']);}catch{}},_0x1c2a02=async _0x14d33a=>{const _0xe6d2d=_0x419543;try{return await _0x128265[_0xe6d2d(0x2eb)](),await _0x429257[_0xe6d2d(0x356)]({'_id':_0x14d33a});}catch{}},_0xc9f52b=await _0x3ce6cd(_0x419543(0x15b))||(0x0,le[_0x419543(0x36e)])();return{'state':{'creds':_0xc9f52b,'keys':{'get':async(_0x9dda47,_0x268771)=>{const _0x359855=_0x419543;let _0x56e0d4={};return await Promise[_0x359855(0x2d6)](_0x268771[_0x359855(0x360)](async _0x13fe41=>{const _0x2817e7=_0x359855;let _0x4d3da8=await _0x3ce6cd(_0x9dda47+'-'+_0x13fe41);_0x9dda47===_0x2817e7(0x50b)&&_0x4d3da8&&(_0x4d3da8=le['proto'][_0x2817e7(0x383)][_0x2817e7(0x424)][_0x2817e7(0x2b1)](_0x4d3da8)),_0x56e0d4[_0x13fe41]=_0x4d3da8;})),_0x56e0d4;},'set':async _0x3f6d8b=>{const _0x35f637=_0x419543;let _0x5f58da=[];for(let _0x8fb191 in _0x3f6d8b)for(let _0x36f5bf in _0x3f6d8b[_0x8fb191]){let _0x567fe9=_0x3f6d8b[_0x8fb191][_0x36f5bf],_0x22e4a7=_0x8fb191+'-'+_0x36f5bf;_0x5f58da['push'](_0x567fe9?_0x925d53(_0x567fe9,_0x22e4a7):_0x1c2a02(_0x22e4a7));}await Promise[_0x35f637(0x2d6)](_0x5f58da);}}},'saveCreds':async()=>_0x925d53(_0xc9f52b,_0x419543(0x15b))};}var ws=T(require(a0_0x11dbb0(0x561))),ys=T(require(a0_0x11dbb0(0x645))),Dt=require('@whiskeysockets/baileys'),Xa=require('@redis/client'),It=require(a0_0x11dbb0(0x59e)),At;function ii(_0x2a7256){const _0x37e944=a0_0x11dbb0;return At||(At=(0x0,Xa[_0x37e944(0x458)])({'url':_0x2a7256[_0x37e944(0x359)]}),At[_0x37e944(0x2eb)]()),At;}var ge=class l{constructor(_0x150f98,_0x280f01){const _0x3d6aae=a0_0x11dbb0;this['redisEnv']=_0x150f98,this[_0x3d6aae(0x13c)]=_0x280f01,this[_0x3d6aae(0x320)]=new v(l[_0x3d6aae(0x36c)]),this[_0x3d6aae(0x46a)]=ii(_0x150f98);}set[a0_0x11dbb0(0x132)](_0x4879d9){const _0x38ce00=a0_0x11dbb0;this[_0x38ce00(0x13c)]=_0x4879d9;}async[a0_0x11dbb0(0x4ca)](){const _0x10c788=a0_0x11dbb0;try{return await this['client']['sendCommand']([_0x10c788(0x354),this[_0x10c788(0x33c)][_0x10c788(0x2ee)]+':*']);}catch(_0x1bebba){this['logger'][_0x10c788(0x162)](_0x1bebba);}}async['writeData'](_0x159f63,_0xc8ae59){const _0x214ea6=a0_0x11dbb0;try{let _0x32e12c=JSON['stringify'](_0xc8ae59,It[_0x214ea6(0x34f)][_0x214ea6(0x498)]);return await this[_0x214ea6(0x46a)][_0x214ea6(0x4ce)](this[_0x214ea6(0x33c)][_0x214ea6(0x2ee)]+':'+this['instanceName'],_0x159f63,_0x32e12c);}catch(_0x7720f1){this['logger'][_0x214ea6(0x162)](_0x7720f1);}}async[a0_0x11dbb0(0x43f)](){const _0x38f391=a0_0x11dbb0;try{let _0xc3ed56=await this[_0x38f391(0x46a)][_0x38f391(0x442)](this[_0x38f391(0x33c)][_0x38f391(0x2ee)]+':'+this['instanceName']);if(_0xc3ed56){for(let _0x54596e in _0xc3ed56)Object['prototype']['hasOwnProperty'][_0x38f391(0x33d)](_0xc3ed56,_0x54596e)&&(_0xc3ed56[_0x54596e]=JSON['parse'](_0xc3ed56[_0x54596e],It['BufferJSON'][_0x38f391(0x365)]));return _0xc3ed56;}}catch(_0x3e2c36){this[_0x38f391(0x320)][_0x38f391(0x162)](_0x3e2c36);}}async[a0_0x11dbb0(0x3b2)](_0x4b6360){const _0x2bdbbd=a0_0x11dbb0;try{let _0x1f5673=await this[_0x2bdbbd(0x46a)][_0x2bdbbd(0x480)](this['redisEnv'][_0x2bdbbd(0x2ee)]+':'+this[_0x2bdbbd(0x13c)],_0x4b6360);if(_0x1f5673)return JSON[_0x2bdbbd(0x39b)](_0x1f5673,It[_0x2bdbbd(0x34f)][_0x2bdbbd(0x365)]);}catch(_0x5ecb08){this[_0x2bdbbd(0x320)][_0x2bdbbd(0x162)](_0x5ecb08);}}async['removeData'](_0x96799c){const _0x53c3fa=a0_0x11dbb0;try{return await this[_0x53c3fa(0x46a)][_0x53c3fa(0x2ce)](this['redisEnv'][_0x53c3fa(0x2ee)]+':'+this[_0x53c3fa(0x13c)],_0x96799c);}catch(_0x3dfcc1){this[_0x53c3fa(0x320)]['error'](_0x3dfcc1);}}async['delAll'](_0x1fab2f){const _0x8b943f=a0_0x11dbb0;try{return await this['client'][_0x8b943f(0x2bd)](_0x1fab2f||this[_0x8b943f(0x33c)][_0x8b943f(0x2ee)]+':'+this[_0x8b943f(0x13c)]);}catch(_0x26b4be){this[_0x8b943f(0x320)][_0x8b943f(0x162)](_0x26b4be);}}};async function hs(_0x419552,_0x2b8b67){const _0xe4ed1f=a0_0x11dbb0;let _0x59f6c9=new v(hs[_0xe4ed1f(0x36c)]),_0xdceb13=new ge(_0x419552,_0x2b8b67),_0x1a60df=async(_0x40b1c3,_0x4833fb)=>{const _0x579f85=_0xe4ed1f;try{return await _0xdceb13[_0x579f85(0x4b3)](_0x4833fb,_0x40b1c3);}catch(_0x16bcd2){return _0x59f6c9[_0x579f85(0x162)]({'localError':_0x579f85(0x4b3),'error':_0x16bcd2});}},_0x42aa04=async _0x5858c0=>{const _0x3a8cf5=_0xe4ed1f;try{return await _0xdceb13['readData'](_0x5858c0);}catch(_0x2cf2ea){_0x59f6c9[_0x3a8cf5(0x162)]({'readData':_0x3a8cf5(0x4b3),'error':_0x2cf2ea});return;}},_0x105eed=async _0x3a393f=>{const _0x237f06=_0xe4ed1f;try{return await _0xdceb13['removeData'](_0x3a393f);}catch(_0x5369e1){_0x59f6c9[_0x237f06(0x162)]({'readData':_0x237f06(0x48b),'error':_0x5369e1});}},_0x1eeccf=await _0x42aa04('creds')||(0x0,Dt[_0xe4ed1f(0x36e)])();return{'state':{'creds':_0x1eeccf,'keys':{'get':async(_0x389cff,_0x3c2231)=>{const _0x384942=_0xe4ed1f;let _0x3a9902={};return await Promise[_0x384942(0x2d6)](_0x3c2231[_0x384942(0x360)](async _0x85814f=>{const _0x1d2f5d=_0x384942;let _0x22ca1d=await _0x42aa04(_0x389cff+'-'+_0x85814f);_0x389cff===_0x1d2f5d(0x50b)&&_0x22ca1d&&(_0x22ca1d=Dt[_0x1d2f5d(0x4f2)][_0x1d2f5d(0x383)]['AppStateSyncKeyData'][_0x1d2f5d(0x2b1)](_0x22ca1d)),_0x3a9902[_0x85814f]=_0x22ca1d;})),_0x3a9902;},'set':async _0x3ec510=>{const _0x22fdab=_0xe4ed1f;let _0x432039=[];for(let _0x10107b in _0x3ec510)for(let _0x38337a in _0x3ec510[_0x10107b]){let _0x552cc1=_0x3ec510[_0x10107b][_0x38337a],_0x533433=_0x10107b+'-'+_0x38337a;_0x432039[_0x22fdab(0x17b)](_0x552cc1?await _0x1a60df(_0x552cc1,_0x533433):await _0x105eed(_0x533433));}await Promise[_0x22fdab(0x2d6)](_0x432039);}}},'saveCreds':async()=>await _0x1a60df(_0x1eeccf,'creds')};}var we=T(require('fs')),no=require(a0_0x11dbb0(0x1fb));function q(_0x2e605d){const _0x16fc35=a0_0x11dbb0;if(_0x2e605d[_0x16fc35(0x47c)]||_0x2e605d[_0x16fc35(0x5b0)]){let _0x318fea=_0x2e605d[_0x16fc35(0x47c)]?_0x2e605d[_0x16fc35(0x47c)][_0x16fc35(0x2cb)]:_0x2e605d[_0x16fc35(0x5b0)][_0x16fc35(0x2cb)];return(0x0,w[_0x16fc35(0x4ba)])(_0x318fea);}return _0x2e605d[_0x16fc35(0x3cf)]?_0x16fc35(0x3cf):_0x2e605d[_0x16fc35(0x13f)]?'pollCreationMessageV2':(0x0,w[_0x16fc35(0x4ba)])(_0x2e605d);}var fe=class l{constructor(_0xaef230,_0x240ac8,_0x3d3a24){const _0x25642b=a0_0x11dbb0;this[_0x25642b(0x228)]=_0xaef230,this[_0x25642b(0x672)]=_0x240ac8,this[_0x25642b(0x1fa)]=_0x3d3a24,this[_0x25642b(0x27b)]=null,this[_0x25642b(0x320)]=new v(l[_0x25642b(0x36c)]),this[_0x25642b(0x646)]={},this[_0x25642b(0x2a4)]={},this[_0x25642b(0x370)]={'state':_0x25642b(0x33b)},this['storePath']=(0x0,Y[_0x25642b(0x140)])(K,_0x25642b(0x169)),this[_0x25642b(0x14f)]=new ys[(_0x25642b(0x2cc))](),this[_0x25642b(0x627)]=new ys['default'](),this[_0x25642b(0x16b)]=!0x1,this[_0x25642b(0x287)]={'status.instance':_0x25642b(0x23d),'qrcode.updated':_0x25642b(0x65b),'messages.upsert':_0x25642b(0x2c2),'messages.update':_0x25642b(0x274),'send.message':_0x25642b(0x2c2),'group.upsert':_0x25642b(0x1be),'group.update':_0x25642b(0x1be),'group-participants.update':_0x25642b(0x1be),'connection.update':_0x25642b(0x23d),'messages.set':_0x25642b(0x2c2),'contacts.set':_0x25642b(0x624),'contacts.upsert':_0x25642b(0x624),'contacts.update':_0x25642b(0x624),'presence.update':_0x25642b(0x29f),'chats.set':_0x25642b(0x578),'chats.update':_0x25642b(0x578),'chats.upsert':_0x25642b(0x578),'chats.delete':_0x25642b(0x578)},this[_0x25642b(0x5fe)]=0x0,this[_0x25642b(0x64b)]=[],this[_0x25642b(0x18b)]=0xf,this[_0x25642b(0x388)]=0x7530,this[_0x25642b(0x27a)]=!0x1,this[_0x25642b(0x486)]={'chats.upsert':async(_0x540b03,_0x257a35)=>{const _0x2fb170=_0x25642b;let _0x12e449=await this[_0x2fb170(0x1fa)][_0x2fb170(0x65d)][_0x2fb170(0x467)]({'where':{'owner':this[_0x2fb170(0x646)][_0x2fb170(0x5f4)]}}),_0x33fa89=[];for await(let _0xb4a01c of _0x540b03)_0x12e449[_0x2fb170(0x467)](_0x57be85=>_0x57be85['id']===_0xb4a01c['id'])||_0x33fa89['push']({'id':_0xb4a01c['id'],'owner':this[_0x2fb170(0x646)][_0x2fb170(0x5f4)],'group':_0xb4a01c['id']['endsWith']('@g.us'),'name':_0xb4a01c[_0x2fb170(0x36c)]||_0xb4a01c[_0x2fb170(0xf7)]||null,'contactname':null,'imagechat':(await this[_0x2fb170(0x1c3)](_0xb4a01c['id']))[_0x2fb170(0x1b6)],'lastmsg':_0xb4a01c['conversationTimestamp']&&_0xb4a01c['conversationTimestamp']['toString']()[_0x2fb170(0x125)]<0xd?_0xb4a01c['conversationTimestamp']*0x3e8:_0xb4a01c[_0x2fb170(0x397)]||null,'archived':_0xb4a01c[_0x2fb170(0x409)]||!0x1,'unreadcount':_0xb4a01c['unreadCount']||0x0});await this[_0x2fb170(0x587)](_0x2fb170(0x1b8),_0x33fa89);},'chats.update':async(_0x4ddf98,_0x3d6de7)=>{const _0x3d18d3=_0x25642b;for(let _0x40c65b of _0x4ddf98){let _0x4a9ffd={'id':_0x40c65b['id'],'owner':this[_0x3d18d3(0x646)][_0x3d18d3(0x5f4)],'group':_0x40c65b['id']['endsWith']('@g.us'),'name':_0x40c65b[_0x3d18d3(0x36c)]||_0x40c65b[_0x3d18d3(0xf7)],'archived':_0x40c65b[_0x3d18d3(0x409)]},_0x32265f=!0x1,_0x1c2d23={'id':_0x40c65b['id'],'owner':this['instance'][_0x3d18d3(0x5f4)]},_0x223a79={};_0x4a9ffd['archived']!=null&&(this['logger'][_0x3d18d3(0x147)](this['instanceName']+'\x20('+this[_0x3d18d3(0x646)][_0x3d18d3(0x5f4)]+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x40c65b[_0x3d18d3(0x409)]),_0x32265f=!0x0,_0x223a79['archived']=_0x40c65b['archived']),_0x40c65b[_0x3d18d3(0x36c)]!=null&&(this[_0x3d18d3(0x320)][_0x3d18d3(0x147)](this['instanceName']+'\x20('+this['instance'][_0x3d18d3(0x5f4)]+_0x3d18d3(0x479)+_0x40c65b['name']),_0x32265f=!0x0,_0x223a79[_0x3d18d3(0x36c)]=_0x40c65b[_0x3d18d3(0x36c)]),_0x40c65b[_0x3d18d3(0xf7)]!=null&&(this[_0x3d18d3(0x320)][_0x3d18d3(0x147)](this[_0x3d18d3(0x13c)]+'\x20('+this[_0x3d18d3(0x646)]['wuid']+_0x3d18d3(0x5dc)+_0x40c65b[_0x3d18d3(0xf7)]),_0x32265f=!0x0,_0x223a79[_0x3d18d3(0x36c)]=_0x40c65b[_0x3d18d3(0xf7)]),_0x32265f&&(await this[_0x3d18d3(0x587)](_0x3d18d3(0x344),[_0x4a9ffd]),_0x3d6de7['ENABLED']&&await M[_0x3d18d3(0x281)](_0x1c2d23,{'$set':_0x223a79}));}},'chats.delete':async _0x333a9e=>{const _0x4cb80c=_0x25642b;await this[_0x4cb80c(0x587)](_0x4cb80c(0x392),[..._0x333a9e]);}},this[_0x25642b(0x4e4)]={'contacts.upsert':async(_0x2b1e41,_0x1ce54a)=>{const _0x12de35=_0x25642b;let _0x15ae6f=await this[_0x12de35(0x1fa)][_0x12de35(0x475)][_0x12de35(0x467)]({'where':{'owner':this[_0x12de35(0x646)][_0x12de35(0x5f4)]}}),_0x5d8177=[];for await(let _0x57a99f of _0x2b1e41)_0x15ae6f['find'](_0x3b88d7=>_0x3b88d7['id']===_0x57a99f['id'])||_0x5d8177[_0x12de35(0x17b)]({'id':_0x57a99f['id'],'pushName':_0x57a99f?.[_0x12de35(0x36c)]||_0x57a99f?.['verifiedName'],'owner':this['instance'][_0x12de35(0x5f4)]});await this[_0x12de35(0x587)](_0x12de35(0x41f),_0x5d8177),await this[_0x12de35(0x1fa)][_0x12de35(0x475)][_0x12de35(0x503)](_0x5d8177,_0x1ce54a[_0x12de35(0x3c8)]);let _0x1e880e=[];for(let _0x5e616d of _0x5d8177){let [_0x282168,_0x1f4744]=await Promise[_0x12de35(0x2d6)]([this[_0x12de35(0x1c3)](_0x5e616d['id']),(await this[_0x12de35(0x26b)](_0x5e616d['id']))[_0x12de35(0x4c3)]]);_0x1e880e[_0x12de35(0x17b)]({..._0x5e616d,'profilePictureUrl':_0x282168[_0x12de35(0x1b6)],'status':_0x1f4744});}await this[_0x12de35(0x1fa)][_0x12de35(0x475)][_0x12de35(0x606)](_0x1e880e,_0x1ce54a[_0x12de35(0x3c8)]),await this[_0x12de35(0x557)]();},'contacts.update':async(_0x53865e,_0x48cd4c)=>{const _0x89aba6=_0x25642b;let _0x601708=[];for await(let _0x4545f2 of _0x53865e)_0x601708[_0x89aba6(0x17b)]({'id':_0x4545f2['id'],'pushName':_0x4545f2?.[_0x89aba6(0x36c)]??_0x4545f2?.[_0x89aba6(0x4b9)],'profilePictureUrl':(await this[_0x89aba6(0x1c3)](_0x4545f2['id']))[_0x89aba6(0x1b6)],'owner':this[_0x89aba6(0x646)][_0x89aba6(0x5f4)]});await this[_0x89aba6(0x587)]('contacts.update',_0x601708);}},this[_0x25642b(0x41a)]={'messaging-history.set':async({messages:_0x2383e9,chats:_0x9085d8,isLatest:_0x581d30},_0x213f40)=>{const _0xd0b7ff=_0x25642b;if(_0x581d30){let _0x2e5616=await Promise[_0xd0b7ff(0x2d6)](_0x9085d8[_0xd0b7ff(0x360)](async _0x1f314c=>({'id':_0x1f314c['id'],'owner':this[_0xd0b7ff(0x646)][_0xd0b7ff(0x5f4)],'group':_0x1f314c['id'][_0xd0b7ff(0x3bb)]('@g.us'),'name':_0x1f314c[_0xd0b7ff(0x36c)]||_0x1f314c['displayName']||null,'contactname':null,'imagechat':(await this[_0xd0b7ff(0x1c3)](_0x1f314c['id']))['profilePictureUrl'],'lastmsg':_0x1f314c[_0xd0b7ff(0x397)]&&_0x1f314c[_0xd0b7ff(0x397)]['toString']()['length']<0xd?_0x1f314c[_0xd0b7ff(0x397)]*0x3e8:_0x1f314c[_0xd0b7ff(0x397)]||null,'archived':_0x1f314c[_0xd0b7ff(0x409)]||!0x1,'unreadcount':_0x1f314c[_0xd0b7ff(0x173)]||0x0})));await this[_0xd0b7ff(0x587)](_0xd0b7ff(0x35e),_0x2e5616),await this[_0xd0b7ff(0x3e9)](_0x2e5616,_0x213f40),await this['checkAndUpdateChats']();}let _0x57f9d9=[],_0x5e183c=Date[_0xd0b7ff(0x5e7)]()-0x7*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x3f9686]of Object[_0xd0b7ff(0x166)](_0x2383e9)){if(_0x3f9686['message']?.[_0xd0b7ff(0x303)]||_0x3f9686[_0xd0b7ff(0x2cb)]?.[_0xd0b7ff(0x53f)]||!_0x3f9686[_0xd0b7ff(0x2cb)]||_0x3f9686[_0xd0b7ff(0x24a)]['remoteJid']===_0xd0b7ff(0x1d5)||(ws['default'][_0xd0b7ff(0x178)](_0x3f9686?.[_0xd0b7ff(0x577)])&&(_0x3f9686['messageTimestamp']=_0x3f9686['messageTimestamp']?.[_0xd0b7ff(0x62d)]()),_0x3f9686['messageTimestamp']&&_0x3f9686['messageTimestamp'][_0xd0b7ff(0x29e)]()['length']<0xd&&(_0x3f9686[_0xd0b7ff(0x577)]=_0x3f9686[_0xd0b7ff(0x577)]*0x3e8),_0x3f9686[_0xd0b7ff(0x577)]<_0x5e183c))continue;let {message_normalized:_0xf1e725}=this['normalizeMessage'](_0x3f9686[_0xd0b7ff(0x2cb)],q(_0x3f9686[_0xd0b7ff(0x2cb)]),null);_0x57f9d9['push']({'key':_0x3f9686[_0xd0b7ff(0x24a)],'pushName':_0x3f9686[_0xd0b7ff(0x5a6)],'participant':_0x3f9686[_0xd0b7ff(0x2a6)],'message':{..._0x3f9686[_0xd0b7ff(0x2cb)]},'messageType':q(_0x3f9686[_0xd0b7ff(0x2cb)]),'message_normalized':{'key':_0x3f9686[_0xd0b7ff(0x24a)],'pushName':_0x3f9686[_0xd0b7ff(0x5a6)],'messageTimestamp':_0x3f9686[_0xd0b7ff(0x577)],..._0xf1e725},'messageTimestamp':_0x3f9686[_0xd0b7ff(0x577)],'owner':this[_0xd0b7ff(0x646)]['wuid']});}_0x213f40[_0xd0b7ff(0x3c8)]&&_0x57f9d9[_0xd0b7ff(0x125)]>0x0&&(this[_0xd0b7ff(0x320)][_0xd0b7ff(0x147)](this['instanceName']+'\x20('+this[_0xd0b7ff(0x646)][_0xd0b7ff(0x5f4)]+_0xd0b7ff(0x2e0)+_0x57f9d9['length']+'\x20mensagens\x20de\x20'+this[_0xd0b7ff(0x646)][_0xd0b7ff(0x5f4)]+_0xd0b7ff(0x353)),await this[_0xd0b7ff(0x1fa)][_0xd0b7ff(0x2cb)][_0xd0b7ff(0x503)]([..._0x57f9d9],_0x213f40[_0xd0b7ff(0x3c8)])),this[_0xd0b7ff(0x587)](_0xd0b7ff(0x40c),[..._0x57f9d9]),_0x2383e9=void 0x0;},'messages.upsert':async({messages:_0x46231d,type:_0x3a8503},_0x4c2bc9)=>{const _0x2bdaf7=_0x25642b;let _0x3f8160=_0x46231d[0x0];if(_0x3a8503!==_0x2bdaf7(0x11b)||!_0x3f8160?.[_0x2bdaf7(0x2cb)]||_0x3f8160[_0x2bdaf7(0x2cb)]?.['protocolMessage']||_0x3f8160[_0x2bdaf7(0x24a)][_0x2bdaf7(0x2c5)]===_0x2bdaf7(0x1d5))return;let _0x3b9eed=null,_0x2e45fe=null;try{_0x3b9eed=await this[_0x2bdaf7(0x4c1)](_0x3f8160),_0x2e45fe=_0x3b9eed?_0x3b9eed[_0x2bdaf7(0x140)](','):null;}catch(_0x1edbc5){this[_0x2bdaf7(0x320)][_0x2bdaf7(0x147)](this[_0x2bdaf7(0x13c)]+'\x20('+this[_0x2bdaf7(0x646)][_0x2bdaf7(0x5f4)]+_0x2bdaf7(0x2e0)+_0x1edbc5['message']),_0x2e45fe=_0x2bdaf7(0x337);}this[_0x2bdaf7(0x46a)][_0x2bdaf7(0x616)](_0x2bdaf7(0x414)),ws['default'][_0x2bdaf7(0x178)](_0x3f8160['messageTimestamp'])&&(_0x3f8160[_0x2bdaf7(0x577)]=_0x3f8160[_0x2bdaf7(0x577)]?.[_0x2bdaf7(0x62d)]()),_0x3f8160['messageTimestamp']&&_0x3f8160[_0x2bdaf7(0x577)][_0x2bdaf7(0x29e)]()[_0x2bdaf7(0x125)]<0xd&&(_0x3f8160['messageTimestamp']=_0x3f8160[_0x2bdaf7(0x577)]*0x3e8);let _0x3ee75d=_0x3f8160[_0x2bdaf7(0x2cb)],{messageContent:_0xde04cf,message_normalized:_0xdad4ef}=this[_0x2bdaf7(0x49f)](_0x3ee75d,q(_0x3f8160[_0x2bdaf7(0x2cb)]),_0x2e45fe);_0xde04cf||console[_0x2bdaf7(0x162)](_0x2bdaf7(0x1ab));let _0x16b14e={'key':_0x3f8160[_0x2bdaf7(0x24a)],'pushName':_0x3f8160[_0x2bdaf7(0x5a6)],'message':{..._0x3f8160['message']},'messageType':q(_0x3f8160[_0x2bdaf7(0x2cb)]),'message_normalized':{'key':_0x3f8160[_0x2bdaf7(0x24a)],'pushName':_0x3f8160[_0x2bdaf7(0x5a6)],'messageTimestamp':_0x3f8160[_0x2bdaf7(0x577)],'source':(0x0,w[_0x2bdaf7(0x456)])(_0x3f8160['key']['id']),..._0xdad4ef},'messageTimestamp':_0x3f8160['messageTimestamp'],'owner':this['instance']['wuid']};this[_0x2bdaf7(0x320)][_0x2bdaf7(0x3cd)](_0x16b14e),await this[_0x2bdaf7(0x1fa)]['message']['insert']([_0x16b14e],_0x4c2bc9[_0x2bdaf7(0x3c8)]),await this[_0x2bdaf7(0x587)](_0x2bdaf7(0x637),_0x16b14e),_0x3f8160[_0x2bdaf7(0x24a)][_0x2bdaf7(0x2c5)]!==_0x2bdaf7(0x1d5)&&await this[_0x2bdaf7(0x524)](_0x4c2bc9,_0x16b14e,_0x2bdaf7(0x607));},'messages.update':async(_0x5ce0c8,_0x163d7b)=>{const _0x30a0cc=_0x25642b;let _0x2177ab={0x0:_0x30a0cc(0x23c),0x1:_0x30a0cc(0x4e7),0x2:'SERVER_ACK',0x3:'DELIVERY_ACK',0x4:_0x30a0cc(0x505),0x5:_0x30a0cc(0x593)};for await(let {key:_0x16b572,update:_0xf40997}of _0x5ce0c8)if(_0x16b572[_0x30a0cc(0x2c5)]!==_0x30a0cc(0x1d5)){let _0x290268=Date[_0x30a0cc(0x5e7)](),_0x4831b2;_0xf40997[_0x30a0cc(0x2cb)]===null&&_0xf40997['status']===void 0x0?_0x4831b2=_0x30a0cc(0x408):_0x4831b2=_0x2177ab[_0xf40997[_0x30a0cc(0x4c3)]];let _0x56bf18=_0x16b572[_0x30a0cc(0x2c5)][_0x30a0cc(0x1d9)](/:\d{1,2}@/g,'@'),_0x271683={..._0x16b572,'remoteJid':_0x56bf18,'status':_0x4831b2,'datetime':_0x290268,'owner':this[_0x30a0cc(0x646)][_0x30a0cc(0x5f4)]};await this['sendDataWebhook']('messages.update',_0x271683),await this[_0x30a0cc(0x18a)](_0x16b572,_0x56bf18,_0x271683),await M[_0x30a0cc(0x655)]({'id':_0x56bf18,'owner':this[_0x30a0cc(0x646)][_0x30a0cc(0x5f4)]},{'$set':{'lastUpdate':_0x290268}});}}},this[_0x25642b(0x221)]={'groups.upsert':_0x4c4a65=>{const _0x49b238=_0x25642b;this[_0x49b238(0x587)]('groups.upsert',_0x4c4a65);},'groups.update':_0x418c49=>{const _0xd060a4=_0x25642b;this[_0xd060a4(0x587)]('groups.update',_0x418c49);},'group-participants.update':_0x5c6dc1=>{const _0x1f5d9e=_0x25642b;this[_0x1f5d9e(0x587)]('group-participants.update',_0x5c6dc1);}},this[_0x25642b(0x4c1)]=async _0x43cfc0=>{const _0x37f02d=_0x25642b;if(_0x43cfc0[_0x37f02d(0x2cb)]?.['pollUpdateMessage']){let _0x4b8c9d=await this[_0x37f02d(0xe6)](_0x43cfc0[_0x37f02d(0x2cb)][_0x37f02d(0x1bd)][_0x37f02d(0x63e)],!0x0);if(_0x4b8c9d){let _0x3b9f11=_0x4b8c9d[_0x37f02d(0x24a)]['fromMe']?this[_0x37f02d(0x646)]['wuid']+'@s.whatsapp.net':_0x4b8c9d[_0x37f02d(0x24a)][_0x37f02d(0x2a6)]||_0x4b8c9d['key']['remoteJid'],_0x169e4a=_0x4b8c9d[_0x37f02d(0x24a)]['id'],_0x3cd54a=_0x4b8c9d[_0x37f02d(0x2cb)],_0x163831=Buffer[_0x37f02d(0x374)](_0x3cd54a[_0x37f02d(0x122)][_0x37f02d(0x36f)][_0x37f02d(0x29e)](_0x37f02d(0x605)),_0x37f02d(0x605)),_0x7753c4=(0x0,w['decryptPollVote'])(_0x43cfc0[_0x37f02d(0x2cb)][_0x37f02d(0x1bd)]['vote'],{'pollCreatorJid':_0x3b9f11,'pollMsgId':_0x169e4a,'pollEncKey':_0x163831,'voterJid':_0x43cfc0['key']['fromMe']?this[_0x37f02d(0x646)][_0x37f02d(0x5f4)]+_0x37f02d(0x32d):_0x43cfc0[_0x37f02d(0x24a)]['remoteJid'][_0x37f02d(0x3bb)](_0x37f02d(0x1f2))?_0x43cfc0[_0x37f02d(0x24a)]['participant']:_0x43cfc0['key']['remoteJid']}),_0x4edefa=[],_0x40338a=_0x7753c4[_0x37f02d(0x31f)][_0x37f02d(0x360)](_0x4b1e0b=>Buffer[_0x37f02d(0x374)](_0x4b1e0b)[_0x37f02d(0x29e)](_0x37f02d(0x605)));for(let {optionName:_0x4b77b8}of _0x3cd54a[_0x37f02d(0x5bf)]?.[_0x37f02d(0x4db)]||_0x3cd54a[_0x37f02d(0x3cf)]?.[_0x37f02d(0x4db)]||_0x3cd54a['pollCreationMessageV2']?.[_0x37f02d(0x4db)])_0x40338a[_0x37f02d(0x601)]((0x0,w[_0x37f02d(0x1a3)])(Buffer['from'](_0x4b77b8))[_0x37f02d(0x29e)](_0x37f02d(0x605)))>-0x1&&_0x4edefa['push'](_0x4b77b8);return _0x4edefa;}}return null;},this['normalizeMessage']=(_0x41062f,_0x5d4b1d,_0x413732)=>{const _0x2cd7ec=_0x25642b;let _0x5d869b=_0x5d4b1d?_0x41062f[_0x5d4b1d]:void 0x0,_0x2ade83={},_0x15a514=null,_0x4e84cd=null;if(_0x41062f[_0x2cd7ec(0x5b0)]?_0x5d869b=_0x41062f[_0x2cd7ec(0x5b0)][_0x2cd7ec(0x2cb)][_0x5d4b1d]:_0x41062f[_0x2cd7ec(0x47c)]?_0x5d869b=_0x41062f[_0x2cd7ec(0x47c)][_0x2cd7ec(0x2cb)][_0x5d4b1d]:_0x41062f[_0x2cd7ec(0x19b)]?_0x5d869b=_0x41062f[_0x2cd7ec(0x19b)][_0x2cd7ec(0x2cb)][_0x5d4b1d]:_0x5d869b=_0x41062f[_0x5d4b1d],!_0x5d4b1d||!_0x5d869b){console[_0x2cd7ec(0x162)](_0x2cd7ec(0x1f0),_0x41062f);return;}_0x41062f[_0x5d4b1d]?.['contextInfo']?.[_0x2cd7ec(0xf2)]&&_0x41062f[_0x5d4b1d]?.[_0x2cd7ec(0x1a4)]?.[_0x2cd7ec(0x215)]&&(_0x4e84cd=_0x41062f[_0x5d4b1d][_0x2cd7ec(0x1a4)][_0x2cd7ec(0xf2)]),_0x41062f[_0x2cd7ec(0x3b7)]?.[_0x2cd7ec(0x2cb)]?.['protocolMessage']?.[_0x2cd7ec(0x3b7)]&&(_0x15a514=_0x41062f[_0x2cd7ec(0x3b7)][_0x2cd7ec(0x2cb)][_0x2cd7ec(0x303)][_0x2cd7ec(0x24a)]['id'],_0x41062f=_0x41062f[_0x2cd7ec(0x3b7)]['message'][_0x2cd7ec(0x303)][_0x2cd7ec(0x3b7)]);let _0x2fa641;if(_0x5d869b&&typeof _0x5d869b==_0x2cd7ec(0x368)&&'pollCreationMessageKey'in _0x5d869b&&({pollCreationMessageKey:_0x2fa641}=_0x5d869b),_0x5d4b1d===_0x2cd7ec(0x403)){let _0x4366d2=_0x5d869b?.['message']?.[_0x2cd7ec(0x3ab)];_0x4366d2&&(_0x5d869b=_0x4366d2);}if(_0x5d4b1d==='pollCreationMessage'||_0x5d4b1d===_0x2cd7ec(0x13f)||_0x5d4b1d===_0x2cd7ec(0x3cf)){let _0x4ab217=_0x5d869b[_0x2cd7ec(0x4db)][_0x2cd7ec(0x360)](_0x2a0d6f=>_0x2a0d6f[_0x2cd7ec(0x5d1)])[_0x2cd7ec(0x140)]('|');_0x2ade83[_0x2cd7ec(0x2b7)]=_0x4ab217;}if(_0x5d869b){let {pollCreationMessageKey:_0x162650,footerText:_0x33f47e,contentText:_0x23b7ca,pageCount:_0x45e4e3,headerType:_0x45408d,isAvatar:_0x598bfc,isAnimated:_0x24a902,contactVcard:_0x4ddaaa,fallbackLc:_0x11d993,fallbackLg:_0xc829ee,namespace:_0x509457,elementName:_0x14fc24,localizableParams:_0x22c2ae,viewOnce:_0x7dd5f,height:_0x382994,width:_0x37ce8d,key:_0x13b0af,firstScanLength:_0x2884f8,firstScanSidecar:_0x234e08,gifPlayback:_0x15b34f,gifAttribution:_0x5dae7c,midQualityFileSha256:_0x5cf8c9,scansSidecar:_0x44b745,streamingSidecar:_0x8bc8c2,thumbnailHeight:_0x497bc6,thumbnailWidth:_0x3c541d,thumbnailEncSha256:_0x2b58ec,thumbnailDirectPath:_0x26d5b7,canonicalUrl:_0x369ab8,matchedText:_0x119e9d,previewType:_0x3c49a1,thumbnailSha256:_0x23b88c,deviceListMetadataVersion:_0x40a11f,inviteLinkGroupTypeV2:_0x4cee12,interactiveAnnotations:_0x572ddb,scanLengths:_0x2b6344,jpegThumbnail:_0x19a5ad,url:_0x19c002,mediaKeyTimestamp:_0x1faaaf,waveform:_0x42c0db,stickerSentTs:_0x50b35c,firstFrameLength:_0x44cfc8,fileEncSha256:_0x1386ff,contextInfo:_0x172df2,firstFrameSidecar:_0x43ec78,directPath:_0x2429b5,fileSha256:_0x168457,mediaKey:_0x3be7db,senderTimestampMs:_0x42dd97,..._0x5c5c7f}=_0x5d869b;typeof _0x5d869b=='string'?_0x2ade83={'text':_0x5d869b,'type':_0x2cd7ec(0x2ef),..._0x15a514&&{'edited':_0x15a514},..._0x4e84cd&&{'quoted':_0x4e84cd}}:_0x2ade83={..._0x5c5c7f,..._0x5d4b1d===_0x2cd7ec(0x1bd)?{'poll_id':_0x5d869b[_0x2cd7ec(0x63e)]['id'],'vote':_0x413732}:{},'type':_0x5d4b1d,..._0x15a514&&{'edited':_0x15a514},..._0x4e84cd&&{'quoted':_0x4e84cd},...(_0x5d4b1d==='pollCreationMessage'||_0x5d4b1d===_0x2cd7ec(0x13f)||_0x5d4b1d===_0x2cd7ec(0x3cf))&&{'convertedOptions':_0x2ade83[_0x2cd7ec(0x2b7)]}};}return{'messageType':_0x5d4b1d,'messageContent':_0x5d869b,'message_normalized':_0x2ade83};},this[_0x25642b(0x4fa)]=null,this[_0x25642b(0x187)]=0x0,(this['cleanStore'](),this[_0x25642b(0x646)]['qrcode']={'count':0x0});}set[a0_0x11dbb0(0x13c)](_0x5d405){const _0x32e562=a0_0x11dbb0;if(!_0x5d405){this[_0x32e562(0x646)][_0x32e562(0x36c)]=(0x0,Za['v4'])();return;}this['instance']['name']=_0x5d405,this[_0x32e562(0x587)](_0x32e562(0x2a1),{'instance':this[_0x32e562(0x646)][_0x32e562(0x36c)],'status':'created'});}get[a0_0x11dbb0(0x13c)](){const _0xa0bcfc=a0_0x11dbb0;return this[_0xa0bcfc(0x646)][_0xa0bcfc(0x36c)];}get['wuid'](){const _0x1d946b=a0_0x11dbb0;return this[_0x1d946b(0x646)][_0x1d946b(0x5f4)];}async[a0_0x11dbb0(0x3f8)](){const _0x18febf=a0_0x11dbb0;let _0x1ab519=this[_0x18febf(0x46a)][_0x18febf(0x3c1)]?.[_0x18febf(0x36c)]??this[_0x18febf(0x46a)][_0x18febf(0x3c1)]?.[_0x18febf(0x4b9)];if(!_0x1ab519){if(this[_0x18febf(0x228)][_0x18febf(0x123)](_0x18febf(0x398))[_0x18febf(0x3c8)]){let _0x6500c6=await R[_0x18febf(0x429)]()['db'](this[_0x18febf(0x228)][_0x18febf(0x123)]('DATABASE')[_0x18febf(0x3fe)][_0x18febf(0x2a9)]+'-instances')[_0x18febf(0x188)](this[_0x18febf(0x13c)])[_0x18febf(0x5df)]({'_id':_0x18febf(0x15b)});if(_0x6500c6){let _0x1ff385=JSON[_0x18febf(0x39b)](JSON['stringify'](_0x6500c6),w[_0x18febf(0x34f)][_0x18febf(0x365)]);_0x1ab519=_0x1ff385['me']?.['name']||_0x1ff385['me']?.['verifiedName'];}}else{if((0x0,Pe[_0x18febf(0x41b)])((0x0,Y[_0x18febf(0x140)])(B,this['instanceName'],'creds.json'))){let _0x1d31ac=JSON[_0x18febf(0x39b)]((0x0,Pe[_0x18febf(0x641)])((0x0,Y[_0x18febf(0x140)])(B,this[_0x18febf(0x13c)],_0x18febf(0x597)),{'encoding':_0x18febf(0x18f)}));_0x1ab519=_0x1d31ac['me']?.[_0x18febf(0x36c)]||_0x1d31ac['me']?.[_0x18febf(0x4b9)];}}}return _0x1ab519;}get[a0_0x11dbb0(0x1b6)](){const _0x420317=a0_0x11dbb0;return this['instance'][_0x420317(0x1b6)];}get[a0_0x11dbb0(0x2ff)](){const _0x5efc8d=a0_0x11dbb0;return{'code':this[_0x5efc8d(0x646)][_0x5efc8d(0x20b)]?.[_0x5efc8d(0x3f1)],'base64':this[_0x5efc8d(0x646)]['qrcode']?.[_0x5efc8d(0x3b4)]};}async[a0_0x11dbb0(0x565)](){const _0x1ce853=a0_0x11dbb0;let _0x264114=await this[_0x1ce853(0x1fa)]['webhook']['find'](this['instanceName']);this[_0x1ce853(0x2a4)][_0x1ce853(0x12e)]=_0x264114?.[_0x1ce853(0x12e)],this[_0x1ce853(0x2a4)][_0x1ce853(0x3d2)]=_0x264114?.[_0x1ce853(0x3d2)],this[_0x1ce853(0x2a4)]['local_map']=_0x264114?.[_0x1ce853(0x3a3)],this[_0x1ce853(0x2a4)]['STATUS_INSTANCE']=_0x264114?.['STATUS_INSTANCE'],this[_0x1ce853(0x2a4)]['QRCODE_UPDATED']=_0x264114?.[_0x1ce853(0x58a)],this['localWebhook'][_0x1ce853(0x31a)]=_0x264114?.[_0x1ce853(0x31a)],this[_0x1ce853(0x2a4)][_0x1ce853(0x607)]=_0x264114?.[_0x1ce853(0x607)],this[_0x1ce853(0x2a4)]['MESSAGES_UPDATE']=_0x264114?.[_0x1ce853(0x339)],this[_0x1ce853(0x2a4)][_0x1ce853(0x4a7)]=_0x264114?.[_0x1ce853(0x4a7)],this['localWebhook'][_0x1ce853(0x30b)]=_0x264114?.['GROUPS_UPDATE'],this[_0x1ce853(0x2a4)][_0x1ce853(0x41e)]=_0x264114?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x1ce853(0x2a4)]['CHATS_SET']=_0x264114?.['CHATS_SET'],this['localWebhook'][_0x1ce853(0x55c)]=_0x264114?.['CHATS_UPSERT'],this[_0x1ce853(0x2a4)][_0x1ce853(0x553)]=_0x264114?.['CHATS_UPDATE'],this[_0x1ce853(0x2a4)][_0x1ce853(0x2f5)]=_0x264114?.[_0x1ce853(0x2f5)],this['localWebhook'][_0x1ce853(0x377)]=_0x264114?.[_0x1ce853(0x377)],this['localWebhook'][_0x1ce853(0x2bb)]=_0x264114?.[_0x1ce853(0x2bb)],this[_0x1ce853(0x2a4)][_0x1ce853(0x2d9)]=_0x264114?.[_0x1ce853(0x2d9)],this[_0x1ce853(0x2a4)][_0x1ce853(0x595)]=_0x264114?.[_0x1ce853(0x595)],this[_0x1ce853(0x2a4)][_0x1ce853(0x4e2)]=_0x264114?.['MESSAGES_SET'],this['localWebhook'][_0x1ce853(0x2be)]=_0x264114?.['CONNECTION_UPDATE'];}async[a0_0x11dbb0(0x591)](_0x15d947){const _0x19a5ae=a0_0x11dbb0;let _0x2f6379=[_0x19a5ae(0x42d),'url',_0x19a5ae(0x3d2),_0x19a5ae(0x3a3),_0x19a5ae(0x5e6),_0x19a5ae(0x58a),_0x19a5ae(0x339),_0x19a5ae(0x607),_0x19a5ae(0x31a),'GROUPS_UPSERT',_0x19a5ae(0x30b),_0x19a5ae(0x41e),_0x19a5ae(0x31e),_0x19a5ae(0x55c),'CHATS_UPDATE','CHATS_DELETE',_0x19a5ae(0x377),'CONTACTS_UPSERT',_0x19a5ae(0x2d9),_0x19a5ae(0x595),_0x19a5ae(0x4e2),'CONNECTION_UPDATE'],_0x808968={};return _0x2f6379[_0x19a5ae(0x5b1)](_0x2235d5=>{_0x15d947[_0x2235d5]!==void 0x0&&(_0x808968[_0x2235d5]=_0x15d947[_0x2235d5]);}),await this[_0x19a5ae(0x1fa)]['webhook'][_0x19a5ae(0x39a)](_0x808968,this['instanceName']),Object['assign'](this[_0x19a5ae(0x2a4)],_0x808968),await this[_0x19a5ae(0x1fa)]['webhook'][_0x19a5ae(0x467)](this['instanceName']);}async[a0_0x11dbb0(0x199)](){const _0x2b7a15=a0_0x11dbb0;return await this['repository'][_0x2b7a15(0x51d)]['find'](this[_0x2b7a15(0x13c)]);}async[a0_0x11dbb0(0x587)](_0x51ac3f,_0x565b22){const _0x315466=a0_0x11dbb0;let _0x259307=this[_0x315466(0x228)][_0x315466(0x123)]('WEBHOOK'),_0x27f4ad=_0x51ac3f[_0x315466(0x1d9)](/[\.-]/gm,'_')['toUpperCase'](),_0xd22c06=this[_0x315466(0x2a4)][_0x315466(0x3d2)]&&(0x0,$[_0x315466(0x37a)])(this[_0x315466(0x2a4)][_0x315466(0x12e)])?this[_0x315466(0x2a4)][_0x315466(0x12e)]+(this[_0x315466(0x2a4)]['local_map']?this[_0x315466(0x287)][_0x51ac3f]:''):null,_0x1aa134=_0x259307?.[_0x315466(0x100)],_0x1fa323=_0x1aa134&&_0x1aa134?.['ENABLED']&&(0x0,$['isURL'])(_0x1aa134['URL'])?_0x1aa134[_0x315466(0x333)]+(_0x259307['WEBHOOK_MAP']?this['webhookMap'][_0x51ac3f]:''):null,_0x3ca7df=this[_0x315466(0x2a4)][_0x27f4ad],_0x1b4027=_0x259307?.[_0x315466(0x60c)]?.[_0x27f4ad];if(_0x3ca7df&&_0xd22c06)try{await ne['default']['create']({'baseURL':_0xd22c06})[_0x315466(0x10f)]('',{'event':_0x51ac3f,'instance':this['instance']['name'],'data':_0x565b22}),this[_0x315466(0x320)]['log'](_0x315466(0x20c)+_0x51ac3f+':\x20'+_0xd22c06);}catch(_0x25a850){this[_0x315466(0x320)][_0x315466(0x162)](this[_0x315466(0x13c)]+'\x20('+this[_0x315466(0x646)][_0x315466(0x5f4)]+_0x315466(0x2e0)+{'local':l[_0x315466(0x36c)]+_0x315466(0x454),'message':_0x25a850?.[_0x315466(0x2cb)],'hostName':_0x25a850?.['hostname'],'syscall':_0x25a850?.[_0x315466(0x1c6)],'code':_0x25a850?.['code'],'error':_0x25a850?.[_0x315466(0x3b5)],'stack':_0x25a850?.[_0x315466(0x5b5)],'name':_0x25a850?.[_0x315466(0x36c)]});}if(_0x1b4027&&_0x1fa323)try{await ne[_0x315466(0x2cc)]['create']({'baseURL':_0x1fa323})['post']('',{'event':_0x51ac3f,'instance':this[_0x315466(0x646)][_0x315466(0x36c)],'data':_0x565b22}),this[_0x315466(0x320)]['log'](_0x315466(0x62a)+_0x51ac3f+':\x20'+_0x1fa323);}catch(_0x499f68){this['logger']['error'](this[_0x315466(0x13c)]+'\x20('+this[_0x315466(0x646)][_0x315466(0x5f4)]+_0x315466(0x2e0)+{'local':l[_0x315466(0x36c)]+_0x315466(0x484),'message':_0x499f68?.[_0x315466(0x2cb)],'hostName':_0x499f68?.[_0x315466(0x5b9)],'syscall':_0x499f68?.[_0x315466(0x1c6)],'code':_0x499f68?.[_0x315466(0x3f1)],'error':_0x499f68?.[_0x315466(0x3b5)],'stack':_0x499f68?.['stack'],'name':_0x499f68?.[_0x315466(0x36c)]});}}async[a0_0x11dbb0(0x4b7)]({qr:_0x3b09a3,connection:_0x4b875b,lastDisconnect:_0x329a08}){const _0x267dfc=a0_0x11dbb0;if(_0x3b09a3){if(this[_0x267dfc(0x646)][_0x267dfc(0x20b)][_0x267dfc(0x369)]===this[_0x267dfc(0x228)][_0x267dfc(0x123)](_0x267dfc(0x412))['LIMIT'])return this[_0x267dfc(0x587)]('qrcode.updated',{'message':_0x267dfc(0x4d9),'statusCode':w['DisconnectReason'][_0x267dfc(0x551)]}),this[_0x267dfc(0x587)](_0x267dfc(0x4da),{'instance':this[_0x267dfc(0x646)][_0x267dfc(0x36c)],'state':_0x267dfc(0x239),'statusReason':w[_0x267dfc(0x34a)]['connectionClosed']}),this[_0x267dfc(0x587)](_0x267dfc(0x2a1),{'instance':this['instance'][_0x267dfc(0x36c)],'status':_0x267dfc(0x537)}),this[_0x267dfc(0x16b)]=!0x0,this[_0x267dfc(0x672)][_0x267dfc(0x22f)]('no.connection',this[_0x267dfc(0x646)][_0x267dfc(0x36c)]);this[_0x267dfc(0x646)][_0x267dfc(0x20b)][_0x267dfc(0x369)]++;let _0x2da916={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x267dfc(0x1c2),'dark':_0x267dfc(0x4d7)}};eo[_0x267dfc(0x2cc)][_0x267dfc(0x4f3)](_0x3b09a3,_0x2da916,(_0x13d597,_0x32a9dd)=>{const _0x1a4f5a=_0x267dfc;if(_0x13d597){this[_0x1a4f5a(0x320)][_0x1a4f5a(0x162)](this[_0x1a4f5a(0x13c)]+'\x20('+this['instance'][_0x1a4f5a(0x5f4)]+_0x1a4f5a(0x265)+_0x13d597[_0x1a4f5a(0x29e)]());return;}this[_0x1a4f5a(0x646)][_0x1a4f5a(0x20b)][_0x1a4f5a(0x3b4)]=_0x32a9dd,this[_0x1a4f5a(0x646)][_0x1a4f5a(0x20b)][_0x1a4f5a(0x3f1)]=_0x3b09a3,this[_0x1a4f5a(0x587)](_0x1a4f5a(0x3bf),{'qrcode':{'instance':this['instance'][_0x1a4f5a(0x36c)],'code':_0x3b09a3,'base64':_0x32a9dd}});}),to[_0x267dfc(0x2cc)][_0x267dfc(0x57d)](_0x3b09a3,{'small':!0x0},_0x5b14e4=>this['logger'][_0x267dfc(0x3cd)](_0x267dfc(0x64e)+this[_0x267dfc(0x646)][_0x267dfc(0x36c)]+_0x267dfc(0x4c8)+this[_0x267dfc(0x646)][_0x267dfc(0x20b)][_0x267dfc(0x369)]+_0x267dfc(0x549)+_0x5b14e4));}if(_0x4b875b&&(this[_0x267dfc(0x370)]={'state':_0x4b875b,'statusReason':_0x329a08?.[_0x267dfc(0x162)]?.[_0x267dfc(0x216)]?.[_0x267dfc(0x115)]??0xc8},this[_0x267dfc(0x587)](_0x267dfc(0x4da),{'instance':this[_0x267dfc(0x646)]['name'],...this['stateConnection']})),_0x4b875b===_0x267dfc(0x33b)){if(this[_0x267dfc(0x5fe)]++,this[_0x267dfc(0x64b)][_0x267dfc(0x17b)](Date[_0x267dfc(0x5e7)]()),this[_0x267dfc(0x64b)]=this['reconnectTimestamps'][_0x267dfc(0x512)](_0x396cad=>Date['now']()-_0x396cad<this[_0x267dfc(0x388)]),_0x329a08[_0x267dfc(0x162)]?.[_0x267dfc(0x216)]?.[_0x267dfc(0x115)]!==w['DisconnectReason'][_0x267dfc(0x5fb)]&&this[_0x267dfc(0x64b)]['length']<=this[_0x267dfc(0x18b)])await this[_0x267dfc(0x4dc)]();else{this['sendDataWebhook'](_0x267dfc(0x2a1),{'instance':this['instance'][_0x267dfc(0x36c)],'status':'removed'}),this['isConnected']=!0x1;try{this[_0x267dfc(0x320)][_0x267dfc(0x147)](this[_0x267dfc(0x13c)]+'\x20('+this['instance'][_0x267dfc(0x5f4)]+_0x267dfc(0x53e));let _0xee3f20={'where':{'owner':this[_0x267dfc(0x646)][_0x267dfc(0x5f4)]}},_0x290890=(await this[_0x267dfc(0x1fa)][_0x267dfc(0x28e)][_0x267dfc(0x467)](_0xee3f20))[_0x267dfc(0x125)];await this[_0x267dfc(0x1fa)][_0x267dfc(0x28e)][_0x267dfc(0x430)](_0xee3f20),this[_0x267dfc(0x320)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x267dfc(0x5f4)]+_0x267dfc(0x444)+_0x290890+_0x267dfc(0x20a));}catch(_0x22dd3c){console[_0x267dfc(0x162)](_0x267dfc(0x54d),_0x22dd3c);}try{this[_0x267dfc(0x320)][_0x267dfc(0x147)](this[_0x267dfc(0x13c)]+'\x20('+this['instance'][_0x267dfc(0x5f4)]+_0x267dfc(0x564));let _0xd23a2f={'where':{'owner':this['instance'][_0x267dfc(0x5f4)]}},_0x2a1bcd=(await this[_0x267dfc(0x1fa)][_0x267dfc(0x2cb)][_0x267dfc(0x467)](_0xd23a2f))[_0x267dfc(0x125)];await this[_0x267dfc(0x1fa)][_0x267dfc(0x2cb)][_0x267dfc(0x430)](_0xd23a2f),this[_0x267dfc(0x320)][_0x267dfc(0x147)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x267dfc(0x444)+_0x2a1bcd+_0x267dfc(0x495));}catch(_0x3ee8f4){console['error'](_0x267dfc(0x664),_0x3ee8f4);}this[_0x267dfc(0x38f)]!==null&&(this[_0x267dfc(0x320)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x267dfc(0x5f4)]+_0x267dfc(0x3a8)),clearInterval(this[_0x267dfc(0x38f)]),this[_0x267dfc(0x38f)]=null),this['logger'][_0x267dfc(0x147)](this[_0x267dfc(0x13c)]+'\x20('+this[_0x267dfc(0x646)]['wuid']+'):\x20Limpando\x20AutomateSystem'),this[_0x267dfc(0x27b)]=null,this['eventEmitter']['emit'](_0x267dfc(0x400),this[_0x267dfc(0x646)][_0x267dfc(0x36c)],_0x267dfc(0x3de)),this[_0x267dfc(0x46a)]?.['ws']?.[_0x267dfc(0x33b)](),this['client'][_0x267dfc(0x528)](new Error(_0x267dfc(0x63c)));}}if(_0x4b875b===_0x267dfc(0x130)){this[_0x267dfc(0x636)],this['instance']['wuid']=this[_0x267dfc(0x46a)]['user']['id'][_0x267dfc(0x1d9)](/:\d+/,'')[_0x267dfc(0x1d9)](_0x267dfc(0x32d),''),this[_0x267dfc(0x646)]['profilePictureUrl']=(await this[_0x267dfc(0x1c3)](this[_0x267dfc(0x646)][_0x267dfc(0x5f4)]+_0x267dfc(0x32d)))[_0x267dfc(0x1b6)];let _0x2d1ba1=_0x267dfc(0x12d)+this[_0x267dfc(0x646)][_0x267dfc(0x5f4)],_0x13e54f=0x28,_0x14202d=Math[_0x267dfc(0xf4)]((_0x13e54f-_0x2d1ba1[_0x267dfc(0x125)])/0x2),_0x314583='\x20'[_0x267dfc(0x64d)](_0x14202d),_0x5675ab='CONECTADO\x20À\x20UAZAPI',_0x1fe276=_0x267dfc(0x39c)+this['instance'][_0x267dfc(0x36c)],_0x6e0365=(''+_0x314583+_0x2d1ba1+_0x314583)['padEnd'](_0x13e54f,'\x20'),_0x2cc410=(''+_0x314583+_0x5675ab+_0x314583)[_0x267dfc(0x1d1)](_0x13e54f,'\x20'),_0x12f607=(''+_0x314583+_0x1fe276+_0x314583)[_0x267dfc(0x1d1)](_0x13e54f,'\x20'),_0x53c099=Math[_0x267dfc(0x460)](_0x6e0365[_0x267dfc(0x125)],_0x2cc410[_0x267dfc(0x125)],_0x12f607[_0x267dfc(0x125)]),_0x4d0d8e=_0x6e0365[_0x267dfc(0x1d1)](_0x53c099,'\x20'),_0x5d5399=_0x2cc410['padEnd'](_0x53c099,'\x20'),_0x8d851=_0x12f607[_0x267dfc(0x1d1)](_0x53c099,'\x20');this[_0x267dfc(0x320)][_0x267dfc(0x4e6)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x267dfc(0x64d)](_0x53c099)+_0x267dfc(0x43e)+_0x5d5399+_0x267dfc(0x422)+_0x8d851+_0x267dfc(0x422)+_0x4d0d8e+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└'+'─'['repeat'](_0x53c099)+'┘')[_0x267dfc(0x1d9)](/^ +/gm,'\x20\x20')),this[_0x267dfc(0x538)](),this[_0x267dfc(0x16f)]=!0x0;}}[a0_0x11dbb0(0x636)](){const _0x334413=a0_0x11dbb0;this[_0x334413(0x5fe)]=0x0,this[_0x334413(0x64b)]=[];}async[a0_0x11dbb0(0xe6)](_0x53da23,_0x1118ec=!0x1){const _0xbb4744=a0_0x11dbb0;try{let _0x3d134e=await this[_0xbb4744(0x1fa)]['message'][_0xbb4744(0x467)]({'where':{'owner':this[_0xbb4744(0x646)][_0xbb4744(0x5f4)],'key':{'id':_0x53da23['id']}}});return _0x1118ec?_0x3d134e[0x0]:_0x3d134e[0x0][_0xbb4744(0x2cb)];}catch{return{'conversation':''};}}[a0_0x11dbb0(0x47e)](){const _0x5bf01e=a0_0x11dbb0;let _0x5d91e4=this['configService'][_0x5bf01e(0x123)](_0x5bf01e(0x212)),_0x5b86f1=this[_0x5bf01e(0x228)]['get'](_0x5bf01e(0x398));_0x5d91e4?.[_0x5bf01e(0x62f)]&&!_0x5b86f1[_0x5bf01e(0x3c8)]&&setInterval(()=>{const _0x2723f2=_0x5bf01e;try{for(let [_0x2012c0,_0x3878f5]of Object[_0x2723f2(0x166)](_0x5d91e4))_0x3878f5===!0x0&&(0x0,ao[_0x2723f2(0x3ed)])(_0x2723f2(0x542)+(0x0,Y[_0x2723f2(0x140)])(this[_0x2723f2(0x262)],_0x2012c0[_0x2723f2(0x42f)](),this['instance'][_0x2723f2(0x5f4)])+_0x2723f2(0x44d));}catch{}},(_0x5d91e4?.[_0x5bf01e(0x62f)]??0xe10)*0x3e8);}async[a0_0x11dbb0(0x1df)](){const _0x49bbc1=a0_0x11dbb0;let _0x399d1e=this[_0x49bbc1(0x228)][_0x49bbc1(0x123)]('DATABASE'),_0x356914=this[_0x49bbc1(0x228)]['get'](_0x49bbc1(0x15f));return _0x356914?.['ENABLED']?await hs(_0x356914,this[_0x49bbc1(0x646)][_0x49bbc1(0x36c)]):_0x399d1e[_0x49bbc1(0x3c8)]?await gs(this[_0x49bbc1(0x646)][_0x49bbc1(0x36c)]):await(0x0,w[_0x49bbc1(0x350)])((0x0,Y[_0x49bbc1(0x140)])(B,this[_0x49bbc1(0x646)][_0x49bbc1(0x36c)]));}async[a0_0x11dbb0(0x538)](){const _0x66d858=a0_0x11dbb0;let _0x307fdf=()=>Math[_0x66d858(0xf4)](Math[_0x66d858(0x491)]()*0x2711)+0x7d0,_0x25db78=async()=>{const _0x68c6ab=_0x66d858;if(!this[_0x68c6ab(0x16f)]){this[_0x68c6ab(0x320)][_0x68c6ab(0x147)]('Desconectado,\x20parando\x20execução.'),this[_0x68c6ab(0x27a)]=!0x1;return;}if(this['instance'][_0x68c6ab(0x5f4)]&&this[_0x68c6ab(0x27b)]&&this[_0x68c6ab(0x38f)]!==null&&this[_0x68c6ab(0x38f)]!==void 0x0){let _0x201df6=Math['round'](this[_0x68c6ab(0x38f)]/0xea60);this['logger'][_0x68c6ab(0x147)](this['instanceName']+'\x20('+this[_0x68c6ab(0x646)][_0x68c6ab(0x5f4)]+_0x68c6ab(0x5bd)+_0x201df6+_0x68c6ab(0x66f)),this[_0x68c6ab(0x27a)]=!0x1;return;}else this[_0x68c6ab(0x646)][_0x68c6ab(0x5f4)]&&(this[_0x68c6ab(0x320)][_0x68c6ab(0x147)](this[_0x68c6ab(0x13c)]+'\x20('+this[_0x68c6ab(0x646)][_0x68c6ab(0x5f4)]+_0x68c6ab(0x1b4)),this[_0x68c6ab(0x27b)]||await this[_0x68c6ab(0x22b)](),(this[_0x68c6ab(0x38f)]===null||this['delayMessage']===void 0x0)&&await this[_0x68c6ab(0x26a)]());if(this[_0x68c6ab(0x27a)]){let _0x462a25=_0x307fdf();this[_0x68c6ab(0x320)][_0x68c6ab(0x147)](this[_0x68c6ab(0x13c)]+_0x68c6ab(0x570)+_0x462a25/0x3e8+_0x68c6ab(0x1ec)),setTimeout(_0x25db78,_0x462a25);}};if(this[_0x66d858(0x27a)])return;this[_0x66d858(0x27a)]=!0x0;let _0x264eb7=_0x307fdf();setTimeout(_0x25db78,_0x264eb7);}async[a0_0x11dbb0(0x4dc)](){const _0x30535a=a0_0x11dbb0;try{this[_0x30535a(0x565)](),this[_0x30535a(0x646)][_0x30535a(0x3a5)]=await this[_0x30535a(0x1df)]();let {version:_0x3f2e58}=await(0x0,w[_0x30535a(0x1c5)])(),_0x2301a7=this[_0x30535a(0x228)][_0x30535a(0x123)](_0x30535a(0x23b)),_0x4a1282=[_0x2301a7[_0x30535a(0x660)],_0x2301a7['NAME'],(0x0,so[_0x30535a(0x1b3)])()],_0x3bfecf={'auth':{'creds':this[_0x30535a(0x646)][_0x30535a(0x3a5)][_0x30535a(0x3dc)][_0x30535a(0x15b)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x30535a(0x646)][_0x30535a(0x3a5)][_0x30535a(0x3dc)]['keys'],(0x0,Pt[_0x30535a(0x2cc)])({'level':_0x30535a(0x162)}))},'logger':(0x0,Pt['default'])({'level':_0x30535a(0x162)}),'printQRInTerminal':!0x1,'browser':_0x4a1282,'version':_0x3f2e58,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x30535a(0x14f)],'getMessage':async _0x1ac225=>await this[_0x30535a(0xe6)](_0x1ac225),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this[_0x30535a(0x627)],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0x25cd08=>(!!(_0x25cd08[_0x30535a(0x2c6)]||_0x25cd08[_0x30535a(0x4ef)])&&(_0x25cd08={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0x25cd08}}}),_0x25cd08)};return this[_0x30535a(0x16b)]=!0x1,this[_0x30535a(0x46a)]=(0x0,w[_0x30535a(0x2cc)])(_0x3bfecf),this[_0x30535a(0x280)](),this[_0x30535a(0x46a)];}catch(_0x9fdd2a){throw this['logger'][_0x30535a(0x162)](this[_0x30535a(0x13c)]+'\x20('+this['instance'][_0x30535a(0x5f4)]+_0x30535a(0x2e0)+_0x9fdd2a),new I(_0x9fdd2a?.[_0x30535a(0x29e)]());}}[a0_0x11dbb0(0x280)](){this['client']['ev']['process'](_0x2572f1=>{const _0x57b77d=a0_0x4676;if(!this[_0x57b77d(0x16b)]){let _0x329cd3=this['configService'][_0x57b77d(0x123)]('DATABASE');if(_0x2572f1['connection.update']&&this[_0x57b77d(0x4b7)](_0x2572f1[_0x57b77d(0x4da)]),_0x2572f1[_0x57b77d(0x264)]&&this['instance'][_0x57b77d(0x3a5)][_0x57b77d(0x19e)](),_0x2572f1[_0x57b77d(0x21d)]){let _0x4eef4b=_0x2572f1[_0x57b77d(0x21d)];this[_0x57b77d(0x41a)][_0x57b77d(0x21d)](_0x4eef4b,_0x329cd3);}if(_0x2572f1['messages.upsert']){let _0x3e27f1=_0x2572f1[_0x57b77d(0x637)];this[_0x57b77d(0x41a)][_0x57b77d(0x637)](_0x3e27f1,_0x329cd3);}if(_0x2572f1[_0x57b77d(0x381)]){let _0x1c8987=_0x2572f1[_0x57b77d(0x381)];this[_0x57b77d(0x41a)][_0x57b77d(0x381)](_0x1c8987,_0x329cd3);}if(_0x2572f1[_0x57b77d(0x276)]){let _0x2dfc82=_0x2572f1[_0x57b77d(0x276)];this['sendDataWebhook'](_0x57b77d(0x276),_0x2dfc82);}if(_0x2572f1[_0x57b77d(0x101)]){let _0x2e3c9c=_0x2572f1[_0x57b77d(0x101)];this[_0x57b77d(0x221)]['groups.upsert'](_0x2e3c9c);}if(_0x2572f1[_0x57b77d(0x5bb)]){let _0x2f8bb=_0x2572f1[_0x57b77d(0x5bb)];this[_0x57b77d(0x221)][_0x57b77d(0x5bb)](_0x2f8bb);}if(_0x2572f1[_0x57b77d(0x44b)]){let _0x5b4ef2=_0x2572f1[_0x57b77d(0x44b)];this[_0x57b77d(0x221)]['group-participants.update'](_0x5b4ef2);}if(_0x2572f1[_0x57b77d(0x1b8)]){let _0x51d2d9=_0x2572f1[_0x57b77d(0x1b8)];this['chatHandle']['chats.upsert'](_0x51d2d9,_0x329cd3);}if(_0x2572f1[_0x57b77d(0x344)]){let _0x47ac85=_0x2572f1[_0x57b77d(0x344)];this[_0x57b77d(0x486)]['chats.update'](_0x47ac85,_0x329cd3);}if(_0x2572f1[_0x57b77d(0x392)]){let _0x373439=_0x2572f1[_0x57b77d(0x392)];this['chatHandle'][_0x57b77d(0x392)](_0x373439);}if(_0x2572f1[_0x57b77d(0x41f)]){let _0x55f92b=_0x2572f1[_0x57b77d(0x41f)];this['contactHandle'][_0x57b77d(0x41f)](_0x55f92b,_0x329cd3);}if(_0x2572f1[_0x57b77d(0xf9)]){let _0x189fb8=_0x2572f1[_0x57b77d(0xf9)];this[_0x57b77d(0x4e4)][_0x57b77d(0xf9)](_0x189fb8,_0x329cd3);}}});}['formatBRNumber'](_0xd42f4){const _0x2deee0=a0_0x11dbb0;let _0x16fe27=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x2deee0(0x342)](_0xd42f4);if(_0x16fe27&&_0x16fe27[0x1]==='55'){let _0x4ddf67=_0x16fe27[0x2],_0x3c2644=_0x16fe27[0x3],_0x4530dc=_0x16fe27[0x4];if(_0x4ddf67>='31'&&_0x3c2644==='9')return _0x16fe27[0x1]+_0x4ddf67+_0x4530dc;}return _0xd42f4;}[a0_0x11dbb0(0x2f2)](_0x47a341){const _0x20b80d=a0_0x11dbb0;return _0x47a341[_0x20b80d(0x1e2)](_0x20b80d(0x331))||_0x47a341[_0x20b80d(0x1e2)](_0x20b80d(0x32d))||_0x47a341['includes'](_0x20b80d(0x4f9))?_0x47a341:(_0x47a341=_0x47a341?.[_0x20b80d(0x1d9)](/\s/g,'')['replace'](/\+/g,'')['replace'](/\(/g,'')[_0x20b80d(0x1d9)](/\)/g,'')[_0x20b80d(0xe0)](/\:/)[0x0][_0x20b80d(0xe0)]('@')[0x0],_0x47a341['length']>=0x12?(_0x47a341=_0x47a341['replace'](/[^\d-]/g,''),_0x47a341+_0x20b80d(0x331)):(_0x47a341=_0x47a341[_0x20b80d(0x1d9)](/\D/g,''),this[_0x20b80d(0x508)](_0x47a341)+'@s.whatsapp.net'));}async[a0_0x11dbb0(0x1c3)](_0x4d1863){const _0x581288=a0_0x11dbb0;let _0xdedab1=this['createJid'](_0x4d1863);try{return{'wuid':_0xdedab1,'profilePictureUrl':await this['client'][_0x581288(0x1b6)](_0xdedab1,_0x581288(0x1bc))};}catch{return{'wuid':_0xdedab1,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x352243,_0x20e9a3,_0x2e52a3){const _0x53836c=a0_0x11dbb0;let _0x3b86c6=(await this[_0x53836c(0x5ad)]({'numbers':[_0x352243]}))[0x0];if(!_0x3b86c6[_0x53836c(0x451)]&&!(0x0,w[_0x53836c(0x3f9)])(_0x3b86c6['jid'])&&!_0x3b86c6[_0x53836c(0x598)][_0x53836c(0x1e2)]('@broadcast'))throw new m(_0x3b86c6);let _0x2070d6=_0x3b86c6[_0x53836c(0x598)];try{_0x2e52a3?.[_0x53836c(0xf3)]&&(await this['client'][_0x53836c(0x59c)](_0x2070d6),await this['client'][_0x53836c(0x616)](_0x2e52a3?.['presence']??_0x53836c(0x56e),_0x2070d6),await(0x0,w[_0x53836c(0xf3)])(_0x2e52a3['delay']),await this[_0x53836c(0x46a)]['sendPresenceUpdate']('paused',_0x2070d6));let _0x47a3d6=_0x2e52a3?.[_0x53836c(0x4c0)]!=!0x1?void 0x0:!0x1,_0x5b570d;if(_0x2e52a3?.[_0x53836c(0x58c)]){let _0xaebe95=_0x2e52a3?.[_0x53836c(0x58c)],_0x2ab6a2=_0xaebe95?.[_0x53836c(0x2cb)]?_0xaebe95:await this[_0x53836c(0xe6)](_0xaebe95[_0x53836c(0x24a)],!0x0);if(!_0x2ab6a2)throw _0x53836c(0x170);_0x5b570d=_0x2ab6a2;}let _0x4d8822;if((0x0,w[_0x53836c(0x3f9)])(_0x2070d6))try{let _0x179c30=await this[_0x53836c(0x46a)]['groupMetadata'](_0x2070d6);if(!_0x179c30)throw new U('Group\x20not\x20found');_0x2e52a3?.[_0x53836c(0x387)]&&(_0x2e52a3['mentions']?.['everyOne']?_0x4d8822=_0x179c30['participants'][_0x53836c(0x360)](_0x4c3cba=>_0x4c3cba['id']):_0x2e52a3[_0x53836c(0x387)]?.['mentioned']?.[_0x53836c(0x125)]&&(_0x4d8822=_0x2e52a3[_0x53836c(0x387)][_0x53836c(0x34d)][_0x53836c(0x360)](_0x390125=>{const _0x1f5127=_0x53836c;let _0x1eb7ff=this[_0x1f5127(0x2f2)](_0x390125);return(0x0,w[_0x1f5127(0x3f9)])(_0x1eb7ff)?null:_0x1eb7ff;})));}catch{throw new U('Group\x20not\x20found');}let _0x236a3a=await((async()=>{const _0x4415cd=_0x53836c;let _0x43bd0a={'quoted':_0x5b570d};return!_0x20e9a3[_0x4415cd(0x530)]&&!_0x20e9a3[_0x4415cd(0x472)]&&!_0x20e9a3[_0x4415cd(0x300)]&&!_0x20e9a3[_0x4415cd(0x2ef)]&&_0x2070d6!==_0x4415cd(0x1d5)&&!_0x20e9a3[_0x4415cd(0x530)]?await this[_0x4415cd(0x46a)]['sendMessage'](_0x2070d6,{'forward':{'key':{'remoteJid':this[_0x4415cd(0x646)][_0x4415cd(0x5f4)],'fromMe':!0x0},'message':_0x20e9a3},'mentions':_0x4d8822},_0x43bd0a):_0x20e9a3[_0x4415cd(0x2ef)]?await this[_0x4415cd(0x46a)][_0x4415cd(0x663)](_0x2070d6,{'text':_0x20e9a3[_0x4415cd(0x2ef)],'mentions':_0x4d8822,'linkPreview':_0x47a3d6},_0x43bd0a):_0x2070d6===_0x4415cd(0x1d5)?await this['client'][_0x4415cd(0x663)](_0x2070d6,_0x20e9a3[_0x4415cd(0x4c3)][_0x4415cd(0x560)],{'backgroundColor':_0x20e9a3[_0x4415cd(0x4c3)][_0x4415cd(0x26d)][_0x4415cd(0x541)],'font':_0x20e9a3[_0x4415cd(0x4c3)][_0x4415cd(0x26d)][_0x4415cd(0x45b)],'statusJidList':_0x20e9a3['status'][_0x4415cd(0x26d)][_0x4415cd(0x1a7)]}):await this[_0x4415cd(0x46a)][_0x4415cd(0x663)](_0x2070d6,_0x20e9a3,_0x43bd0a);})()),{message_normalized:_0x51e3f4}=this[_0x53836c(0x49f)](_0x236a3a[_0x53836c(0x2cb)],q(_0x236a3a[_0x53836c(0x2cb)]),null),_0x2e1bd2={'key':_0x236a3a['key'],'pushName':_0x236a3a[_0x53836c(0x5a6)],'message':{..._0x236a3a[_0x53836c(0x2cb)]},'messageType':q(_0x236a3a[_0x53836c(0x2cb)]),'message_normalized':{'key':_0x236a3a['key'],'pushName':_0x236a3a[_0x53836c(0x5a6)],'messageTimestamp':_0x236a3a['messageTimestamp']&&_0x236a3a['messageTimestamp'][_0x53836c(0x29e)]()[_0x53836c(0x125)]<0xd?_0x236a3a[_0x53836c(0x577)]*0x3e8:_0x236a3a[_0x53836c(0x577)]||null,'source':(0x0,w['getDevice'])(_0x236a3a[_0x53836c(0x24a)]['id']),..._0x51e3f4},'messageTimestamp':_0x236a3a[_0x53836c(0x577)]&&_0x236a3a[_0x53836c(0x577)][_0x53836c(0x29e)]()[_0x53836c(0x125)]<0xd?_0x236a3a[_0x53836c(0x577)]*0x3e8:_0x236a3a[_0x53836c(0x577)]||null,'owner':this[_0x53836c(0x646)][_0x53836c(0x5f4)],'source':(0x0,w[_0x53836c(0x456)])(_0x236a3a[_0x53836c(0x24a)]['id'])};return this['logger'][_0x53836c(0x3cd)](_0x2e1bd2),await this['sendDataWebhook']('send.message',_0x2e1bd2),this[_0x53836c(0x524)](this[_0x53836c(0x228)][_0x53836c(0x123)]('DATABASE'),_0x2e1bd2,_0x53836c(0x31a)),await this['repository']['message']['insert']([_0x2e1bd2],this[_0x53836c(0x228)]['get'](_0x53836c(0x398))[_0x53836c(0x3c8)]),_0x236a3a;}catch(_0x112326){throw this[_0x53836c(0x320)]['error'](this[_0x53836c(0x13c)]+'\x20('+this['instance']['wuid']+_0x53836c(0x2e0)+_0x112326['toString']()),new m(_0x112326[_0x53836c(0x29e)]());}}get['connectionStatus'](){const _0x4bdb18=a0_0x11dbb0;return this[_0x4bdb18(0x370)];}async[a0_0x11dbb0(0x220)](_0x231e3b){const _0x47095b=a0_0x11dbb0;let _0x5bf005=this['configService'][_0x47095b(0x123)](_0x47095b(0x527)),_0x471400=this[_0x47095b(0x228)][_0x47095b(0x123)](_0x47095b(0x5e8));return _0x471400&&this[_0x47095b(0x13c)][_0x47095b(0x42f)]()['includes'](_0x471400['toLowerCase']())&&(_0x231e3b[_0x47095b(0x220)][_0x47095b(0x652)]+='\x0a\x0a'+_0x5bf005),await this['sendMessageWithTyping'](_0x231e3b[_0x47095b(0x105)],{'conversation':_0x231e3b[_0x47095b(0x220)]['text']},_0x231e3b?.[_0x47095b(0x4db)]);}async[a0_0x11dbb0(0x3ee)](_0x5d9f34){const _0x1ac01e=a0_0x11dbb0;if(!_0x5d9f34[_0x1ac01e(0x4d6)])throw new m(_0x1ac01e(0x202));if(!_0x5d9f34['content'])throw new m(_0x1ac01e(0x51f));if(_0x5d9f34[_0x1ac01e(0x599)]){let _0xd557da=await this[_0x1ac01e(0x1fa)]['contact'][_0x1ac01e(0x467)]({'where':{'owner':this[_0x1ac01e(0x646)][_0x1ac01e(0x5f4)]}});if(!_0xd557da[_0x1ac01e(0x125)])throw new m(_0x1ac01e(0x32f));_0x5d9f34[_0x1ac01e(0x1a7)]=_0xd557da[_0x1ac01e(0x512)](_0x33ab5a=>_0x33ab5a[_0x1ac01e(0x5a6)])[_0x1ac01e(0x360)](_0x26c842=>_0x26c842['id']);}if(!_0x5d9f34[_0x1ac01e(0x1a7)]?.['length']&&!_0x5d9f34['allContacts'])throw new m(_0x1ac01e(0x59d));if(_0x5d9f34[_0x1ac01e(0x4d6)]===_0x1ac01e(0x652)){if(!_0x5d9f34[_0x1ac01e(0x541)])throw new m('Background\x20color\x20is\x20required');if(!_0x5d9f34[_0x1ac01e(0x45b)])throw new m(_0x1ac01e(0x418));return{'content':{'text':_0x5d9f34[_0x1ac01e(0x560)]},'option':{'backgroundColor':_0x5d9f34[_0x1ac01e(0x541)],'font':_0x5d9f34[_0x1ac01e(0x45b)],'statusJidList':_0x5d9f34[_0x1ac01e(0x1a7)]}};}if(_0x5d9f34[_0x1ac01e(0x4d6)]===_0x1ac01e(0x1bc))return{'content':{'image':{'url':_0x5d9f34[_0x1ac01e(0x560)]},'caption':_0x5d9f34[_0x1ac01e(0x121)]},'option':{'statusJidList':_0x5d9f34[_0x1ac01e(0x1a7)]}};if(_0x5d9f34[_0x1ac01e(0x4d6)]===_0x1ac01e(0x4de))return{'content':{'video':{'url':_0x5d9f34[_0x1ac01e(0x560)]},'caption':_0x5d9f34['caption']},'option':{'statusJidList':_0x5d9f34[_0x1ac01e(0x1a7)]}};if(_0x5d9f34[_0x1ac01e(0x4d6)]===_0x1ac01e(0x530)){let _0x47907b;if((0x0,$[_0x1ac01e(0x37a)])(_0x5d9f34[_0x1ac01e(0x560)])){let _0x4df143=await ne[_0x1ac01e(0x2cc)][_0x1ac01e(0x123)](_0x5d9f34[_0x1ac01e(0x560)],{'responseType':_0x1ac01e(0x521)});if(_0x47907b=Buffer[_0x1ac01e(0x374)](_0x4df143[_0x1ac01e(0x254)]),_0x5d9f34[_0x1ac01e(0x560)][_0x1ac01e(0x3bb)](_0x1ac01e(0x118)))try{_0x47907b=await this[_0x1ac01e(0x421)](_0x47907b);}catch(_0x3aed8e){throw new I(_0x1ac01e(0x4e0)+_0x3aed8e['message']);}else _0x47907b=Buffer[_0x1ac01e(0x374)](_0x5d9f34['content'],'base64');let _0x301e28=_0x47907b;return{'content':{'audio':Buffer[_0x1ac01e(0x374)](_0x301e28,_0x1ac01e(0x3b4)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},'option':{'statusJidList':_0x5d9f34[_0x1ac01e(0x1a7)]}};}else throw new I();}throw new m(_0x1ac01e(0x3d7));}async[a0_0x11dbb0(0x191)](_0x162e76){const _0x5d827f=a0_0x11dbb0;return await this[_0x5d827f(0x384)](_0x5d827f(0x1d5),{'status':await this[_0x5d827f(0x3ee)](_0x162e76[_0x5d827f(0x191)])});}async['prepareMediaMessage'](_0x37f42f){const _0x4bbe1d=a0_0x11dbb0;try{let _0x569d1c=await(0x0,w[_0x4bbe1d(0x59b)])({[_0x37f42f[_0x4bbe1d(0x1e3)]]:(0x0,$[_0x4bbe1d(0x37a)])(_0x37f42f[_0x4bbe1d(0x613)])?{'url':_0x37f42f[_0x4bbe1d(0x613)]}:Buffer[_0x4bbe1d(0x374)](_0x37f42f[_0x4bbe1d(0x613)],_0x4bbe1d(0x3b4))},{'upload':this['client'][_0x4bbe1d(0x5f1)]}),_0x17838c=_0x37f42f[_0x4bbe1d(0x1e3)]+_0x4bbe1d(0x383);if(_0x37f42f[_0x4bbe1d(0x1e3)]===_0x4bbe1d(0x218)&&!_0x37f42f[_0x4bbe1d(0x348)]){let _0x11840d=new RegExp(/.*\/(.+?)\./)[_0x4bbe1d(0x342)](_0x37f42f[_0x4bbe1d(0x613)]);_0x37f42f[_0x4bbe1d(0x348)]=_0x11840d[0x1];}let _0x27051f;(0x0,$['isURL'])(_0x37f42f[_0x4bbe1d(0x613)])?_0x27051f=(0x0,fs[_0x4bbe1d(0x1a2)])(_0x37f42f[_0x4bbe1d(0x613)]):_0x27051f=(0x0,fs[_0x4bbe1d(0x1a2)])(_0x37f42f[_0x4bbe1d(0x348)]);let _0x506fea=this['configService'][_0x4bbe1d(0x123)](_0x4bbe1d(0x527)),_0xa82b39=this[_0x4bbe1d(0x228)]['get']('TRIAL_INSTANCE_NAME');return _0xa82b39&&this[_0x4bbe1d(0x13c)][_0x4bbe1d(0x42f)]()['includes'](_0xa82b39[_0x4bbe1d(0x42f)]())&&(_0x37f42f[_0x4bbe1d(0x121)]+='\x0a\x0a'+_0x506fea),_0x569d1c[_0x17838c][_0x4bbe1d(0x121)]=_0x37f42f?.[_0x4bbe1d(0x121)],_0x569d1c[_0x17838c][_0x4bbe1d(0x159)]=_0x27051f,_0x569d1c[_0x17838c]['fileName']=_0x37f42f[_0x4bbe1d(0x348)],_0x37f42f['mediatype']===_0x4bbe1d(0x4de)&&(_0x569d1c[_0x17838c][_0x4bbe1d(0x65e)]=Uint8Array[_0x4bbe1d(0x374)]((0x0,Pe[_0x4bbe1d(0x641)])((0x0,Y[_0x4bbe1d(0x140)])(process['cwd'](),_0x4bbe1d(0x5c4)))),_0x569d1c[_0x17838c][_0x4bbe1d(0x5bc)]=!0x1),(0x0,w[_0x4bbe1d(0x2a3)])('',{[_0x17838c]:{..._0x569d1c[_0x17838c]}},{'userJid':this[_0x4bbe1d(0x646)]['wuid']});}catch(_0x190a84){throw this[_0x4bbe1d(0x320)]['error'](this[_0x4bbe1d(0x13c)]+'\x20('+this['instance'][_0x4bbe1d(0x5f4)]+_0x4bbe1d(0x2e0)+_0x190a84),new I(_0x190a84?.[_0x4bbe1d(0x29e)]()||_0x190a84);}}async['mediaMessage'](_0x506aa4){const _0x1ea04b=a0_0x11dbb0;let _0x215b63=await this[_0x1ea04b(0x5f9)](_0x506aa4[_0x1ea04b(0x179)]);return await this[_0x1ea04b(0x384)](_0x506aa4[_0x1ea04b(0x105)],{..._0x215b63['message']},_0x506aa4?.['options']);}async['mediaSticker'](_0x3bade0){const _0x4e8786=a0_0x11dbb0;return await this[_0x4e8786(0x384)](_0x3bade0['number'],{'sticker':{'url':_0x3bade0[_0x4e8786(0x3c6)][_0x4e8786(0x1bc)]}},_0x3bade0?.['options']);}async['audioWhatsapp'](_0x1178e4){const _0x5c4178=a0_0x11dbb0;let _0x221204;if((0x0,$[_0x5c4178(0x37a)])(_0x1178e4[_0x5c4178(0x54a)]['audio'])){let _0x429d83=await ne[_0x5c4178(0x2cc)]['get'](_0x1178e4['audioMessage']['audio'],{'responseType':_0x5c4178(0x521)});if(_0x221204=Buffer[_0x5c4178(0x374)](_0x429d83[_0x5c4178(0x254)]),_0x1178e4[_0x5c4178(0x54a)][_0x5c4178(0x530)][_0x5c4178(0x3bb)]('.mp3'))try{_0x221204=await this['convertaudio'](_0x221204);}catch(_0x50be05){throw new I(_0x5c4178(0x4e0)+_0x50be05['message']);}}else _0x221204=Buffer[_0x5c4178(0x374)](_0x1178e4['audioMessage']['audio'],_0x5c4178(0x3b4));let _0x52fd78=_0x221204;return this[_0x5c4178(0x384)](_0x1178e4[_0x5c4178(0x105)],{'audio':_0x52fd78,'mimetype':_0x5c4178(0x2cd),'ptt':!0x0},{'presence':_0x5c4178(0x5aa),'delay':_0x1178e4?.['options']?.[_0x5c4178(0xf3)]});}async[a0_0x11dbb0(0x421)](_0x4fdb4b){return new Promise(async(_0x8627c1,_0x42e857)=>{const _0x471fa1=a0_0x4676;let _0x525dac=io[_0x471fa1(0x464)][_0x471fa1(0x374)](_0x4fdb4b),_0x19085a=new ro[(_0x471fa1(0x12c))]();(0x0,oo['default'])()['input'](_0x525dac)[_0x471fa1(0x5d5)]()[_0x471fa1(0x10d)](['-acodec',_0x471fa1(0x379),_0x471fa1(0x575),_0x471fa1(0x53d)])[_0x471fa1(0x40d)](_0x471fa1(0x4d1))['audioChannels'](0x1)[_0x471fa1(0x175)](0xbb80)[_0x471fa1(0x18e)](0x12)[_0x471fa1(0x27d)](_0x471fa1(0x4c7))[_0x471fa1(0x216)](_0x19085a)['on'](_0x471fa1(0x528),async()=>{const _0x57049c=_0x471fa1;let _0x4053fd=_0x19085a[_0x57049c(0x10b)]();Buffer[_0x57049c(0x533)](_0x4053fd)?_0x8627c1(_0x4053fd):_0x42e857(new Error(_0x57049c(0x42b)));})['on'](_0x471fa1(0x162),_0x429591=>{_0x42e857(_0x429591);})['run']();});}async[a0_0x11dbb0(0x21e)](_0x42cbc6){const _0x2e0ec2=a0_0x11dbb0;let _0x2f5a50={},_0x3c17c9=_0x2e0ec2(0x30c);if(_0x42cbc6['buttonMessage']?.[_0x2e0ec2(0x179)]){_0x3c17c9=_0x42cbc6[_0x2e0ec2(0x21e)][_0x2e0ec2(0x179)]?.[_0x2e0ec2(0x1e3)][_0x2e0ec2(0x42e)]()??_0x2e0ec2(0x30c),_0x2f5a50['mediaKey']=_0x3c17c9['toLowerCase']()+_0x2e0ec2(0x383);let _0x5a7a4d=await this[_0x2e0ec2(0x5f9)](_0x42cbc6['buttonMessage']['mediaMessage']);_0x2f5a50[_0x2e0ec2(0x2cb)]=_0x5a7a4d[_0x2e0ec2(0x2cb)][_0x2f5a50[_0x2e0ec2(0x1cb)]],_0x2f5a50[_0x2e0ec2(0x4a0)]='*'+_0x42cbc6[_0x2e0ec2(0x21e)]['title']+'*\x0a\x0a'+_0x42cbc6[_0x2e0ec2(0x21e)]['description'];}let _0x1e72ab={'text':_0x42cbc6['buttonMessage'][_0x2e0ec2(0x236)][_0x2e0ec2(0x360)](_0x3570a8=>_0x3570a8[_0x2e0ec2(0x38b)]),'ids':_0x42cbc6[_0x2e0ec2(0x21e)][_0x2e0ec2(0x236)][_0x2e0ec2(0x360)](_0x4317b6=>_0x4317b6[_0x2e0ec2(0x273)])};if(!(0x0,$[_0x2e0ec2(0x110)])(_0x1e72ab[_0x2e0ec2(0x652)])||!(0x0,$['arrayUnique'])(_0x1e72ab[_0x2e0ec2(0x52e)]))throw new m(_0x2e0ec2(0x251),_0x2e0ec2(0x55b));return await this[_0x2e0ec2(0x384)](_0x42cbc6[_0x2e0ec2(0x105)],{'buttonsMessage':{'text':_0x2f5a50?.[_0x2e0ec2(0x1cb)]?void 0x0:_0x42cbc6[_0x2e0ec2(0x21e)][_0x2e0ec2(0x200)],'contentText':_0x2f5a50?.[_0x2e0ec2(0x4a0)]??_0x42cbc6[_0x2e0ec2(0x21e)]['description'],'footerText':_0x42cbc6[_0x2e0ec2(0x21e)]?.[_0x2e0ec2(0x46e)],'buttons':_0x42cbc6['buttonMessage']['buttons'][_0x2e0ec2(0x360)](_0x42a8c8=>({'buttonText':{'displayText':_0x42a8c8[_0x2e0ec2(0x38b)]},'buttonId':_0x42a8c8[_0x2e0ec2(0x273)],'type':0x1})),'headerType':w[_0x2e0ec2(0x4f2)][_0x2e0ec2(0x383)]['ButtonsMessage'][_0x2e0ec2(0x47a)][_0x3c17c9],[_0x2f5a50?.[_0x2e0ec2(0x1cb)]]:_0x2f5a50?.[_0x2e0ec2(0x2cb)]}},_0x42cbc6?.[_0x2e0ec2(0x4db)]);}async['locationMessage'](_0xd29c04){const _0x8b007d=a0_0x11dbb0;return await this[_0x8b007d(0x384)](_0xd29c04[_0x8b007d(0x105)],{'locationMessage':{'degreesLatitude':_0xd29c04[_0x8b007d(0x56c)][_0x8b007d(0x666)],'degreesLongitude':_0xd29c04[_0x8b007d(0x56c)][_0x8b007d(0x57f)],'name':_0xd29c04[_0x8b007d(0x56c)]?.[_0x8b007d(0x36c)],'address':_0xd29c04[_0x8b007d(0x56c)]?.[_0x8b007d(0x673)]}},_0xd29c04?.[_0x8b007d(0x4db)]);}async[a0_0x11dbb0(0x4ef)](_0x4142be){const _0x3ab484=a0_0x11dbb0;return await this[_0x3ab484(0x384)](_0x4142be['number'],{'listMessage':{'title':_0x4142be[_0x3ab484(0x4ef)][_0x3ab484(0x200)],'description':_0x4142be['listMessage']['description'],'buttonText':_0x4142be[_0x3ab484(0x4ef)]?.['buttonText'],'footerText':_0x4142be['listMessage']?.['footerText'],'sections':_0x4142be[_0x3ab484(0x4ef)][_0x3ab484(0x107)],'listType':0x1}},_0x4142be?.[_0x3ab484(0x4db)]);}async[a0_0x11dbb0(0x1b1)](_0x2e54d7){const _0x2a2542=a0_0x11dbb0;let _0x39a1f4={},_0x168fac=_0x25c764=>{const _0x1a6315=a0_0x4676;let _0x5f379e=_0x1a6315(0x61b)+_0x25c764[_0x1a6315(0x3b3)]+_0x1a6315(0x499)+_0x25c764[_0x1a6315(0x3b3)]+'\x0a';_0x25c764[_0x1a6315(0x5be)]&&(_0x5f379e+='ORG:'+_0x25c764[_0x1a6315(0x5be)]+';\x0a'),_0x25c764[_0x1a6315(0x53b)]&&(_0x5f379e+='EMAIL:'+_0x25c764[_0x1a6315(0x53b)]+'\x0a'),_0x25c764[_0x1a6315(0x12e)]&&(_0x5f379e+='URL:'+_0x25c764[_0x1a6315(0x12e)]+'\x0a');let _0x27816a='';return _0x25c764[_0x1a6315(0x32e)]&&_0x25c764['phoneNumber'][_0x1a6315(0xe0)]('|')['forEach']((_0x57cac0,_0x425813)=>{const _0x38efc0=_0x1a6315;let _0x390596=this[_0x38efc0(0x2f2)](_0x57cac0)[_0x38efc0(0x1d9)](_0x38efc0(0x32d),'');_0x27816a+=_0x38efc0(0x4a2)+(_0x425813+0x1)+_0x38efc0(0x326)+_0x390596+':'+_0x57cac0+'\x0aitem'+(_0x425813+0x1)+_0x38efc0(0x5af);}),_0x5f379e+=_0x27816a+_0x1a6315(0x229),_0x5f379e;};return _0x2e54d7[_0x2a2542(0x1b1)][_0x2a2542(0x125)]===0x1?_0x39a1f4[_0x2a2542(0x1b1)]={'displayName':_0x2e54d7['contactMessage'][0x0]['fullName'],'vcard':_0x168fac(_0x2e54d7['contactMessage'][0x0])}:_0x39a1f4[_0x2a2542(0x2e7)]={'displayName':_0x2e54d7[_0x2a2542(0x1b1)][_0x2a2542(0x125)]+_0x2a2542(0x323),'contacts':_0x2e54d7['contactMessage'][_0x2a2542(0x360)](_0x1f0759=>({'displayName':_0x1f0759[_0x2a2542(0x3b3)],'vcard':_0x168fac(_0x1f0759)}))},await this[_0x2a2542(0x384)](_0x2e54d7[_0x2a2542(0x105)],{..._0x39a1f4},_0x2e54d7?.[_0x2a2542(0x4db)]);}async[a0_0x11dbb0(0x211)](_0x2adb54){const _0x224495=a0_0x11dbb0;return await this[_0x224495(0x384)](_0x2adb54[_0x224495(0x211)][_0x224495(0x24a)][_0x224495(0x2c5)],{'reactionMessage':{'key':_0x2adb54['reactionMessage']['key'],'text':_0x2adb54[_0x224495(0x211)]['reaction']}});}async['whatsappNumber'](_0x5ad956){const _0x5f1fdd=a0_0x11dbb0;let _0x482792=[];for await(let _0x5034cd of _0x5ad956[_0x5f1fdd(0x28b)]){let _0x4f3804=this[_0x5f1fdd(0x2f2)](_0x5034cd);if((0x0,w[_0x5f1fdd(0x3f9)])(_0x4f3804)){let _0x6e772d=await this[_0x5f1fdd(0x5f3)]({'groupJid':_0x4f3804},_0x5f1fdd(0x3de));_0x482792['push'](new pe(_0x6e772d[_0x5f1fdd(0x4ff)]['id'],!!_0x6e772d?.['metadata']['id'],_0x6e772d?.[_0x5f1fdd(0x4ff)][_0x5f1fdd(0x5b6)]));}else try{let _0x310159=(await this[_0x5f1fdd(0x46a)][_0x5f1fdd(0x446)](_0x4f3804))[0x0];_0x482792[_0x5f1fdd(0x17b)](new pe(_0x310159['jid'],_0x310159[_0x5f1fdd(0x451)]));}catch{_0x482792['push'](new pe(_0x5034cd,!0x1));}}return _0x482792;}async[a0_0x11dbb0(0x5f8)](_0x2851cf){const _0x554b10=a0_0x11dbb0;try{let _0x56f3db=[];try{_0x2851cf[_0x554b10(0x267)]['forEach'](_0x2515d3=>{const _0x292fad=_0x554b10;((0x0,w['isJidGroup'])(_0x2515d3[_0x292fad(0x2c5)])||(0x0,w[_0x292fad(0x2f0)])(_0x2515d3['remoteJid']))&&_0x56f3db['push']({'remoteJid':_0x2515d3[_0x292fad(0x2c5)],'fromMe':_0x2515d3[_0x292fad(0x5b3)],'id':_0x2515d3['id']});});}catch(_0x2d611f){console['error'](_0x554b10(0x5ba),_0x2d611f);}await this['client'][_0x554b10(0x267)](_0x56f3db);let _0x4c8d44=_0x56f3db[_0x554b10(0x360)](_0x1d50ec=>this['updateMessage'](_0x1d50ec,_0x1d50ec[_0x554b10(0x2c5)],{'status':_0x554b10(0x505),'owner':this[_0x554b10(0x646)][_0x554b10(0x5f4)]}));await Promise[_0x554b10(0x2d6)](_0x4c8d44);let _0x5640bc=_0x56f3db['map'](_0x3b3eb5=>M['updateOne']({'id':_0x3b3eb5[_0x554b10(0x2c5)],'owner':this[_0x554b10(0x646)][_0x554b10(0x5f4)]},{'$set':{'unreadcount':0x0}}));return await Promise[_0x554b10(0x2d6)](_0x5640bc),{'message':'Read\x20messages','read':_0x554b10(0x21f)};}catch(_0x14de88){throw new I(_0x554b10(0x168),_0x14de88[_0x554b10(0x29e)]());}}async['archiveChat'](_0x278d05){const _0x32fe56=a0_0x11dbb0;try{return _0x278d05[_0x32fe56(0x631)][_0x32fe56(0x577)]=_0x278d05[_0x32fe56(0x631)]?.[_0x32fe56(0x577)]??Date[_0x32fe56(0x5e7)](),await this[_0x32fe56(0x46a)]['chatModify']({'archive':_0x278d05[_0x32fe56(0x5b2)],'lastMessages':[_0x278d05[_0x32fe56(0x631)]]},_0x278d05[_0x32fe56(0x631)][_0x32fe56(0x24a)][_0x32fe56(0x2c5)]),{'chatId':_0x278d05[_0x32fe56(0x631)][_0x32fe56(0x24a)]['remoteJid'],'archived':!0x0};}catch(_0x17c460){throw new I({'archived':!0x1,'message':[_0x32fe56(0x3b9),_0x17c460[_0x32fe56(0x29e)]()]});}}async[a0_0x11dbb0(0x1b5)](_0x1b2d57){const _0x1bc6c5=a0_0x11dbb0;try{let _0x273861=await this[_0x1bc6c5(0x46a)][_0x1bc6c5(0x663)](_0x1b2d57[_0x1bc6c5(0x2c5)],{'delete':_0x1b2d57});try{let _0x56f268=await this['updateMessage'](_0x1b2d57,_0x1b2d57[_0x1bc6c5(0x2c5)],{'status':_0x1bc6c5(0x408),'owner':this[_0x1bc6c5(0x646)][_0x1bc6c5(0x5f4)]});this['logger'][_0x1bc6c5(0x147)](this[_0x1bc6c5(0x13c)]+'\x20('+this['instance']['wuid']+_0x1bc6c5(0x3a0)+_0x56f268);}catch(_0x1bf9d6){console[_0x1bc6c5(0x162)]('Error\x20updating\x20message\x20status:',_0x1bf9d6);}return _0x273861;}catch(_0x50e906){throw new I(_0x1bc6c5(0x3a6),_0x50e906?.['toString']());}}async[a0_0x11dbb0(0x425)](_0xdd2b87){const _0x176ddb=a0_0x11dbb0;try{let _0x282a87=_0xdd2b87?.[_0x176ddb(0x2cb)]?_0xdd2b87:await this[_0x176ddb(0xe6)](_0xdd2b87['key'],!0x0);for(let _0xae81d0 of Ws)_0x282a87[_0x176ddb(0x2cb)][_0xae81d0]&&(_0x282a87[_0x176ddb(0x2cb)]=_0x282a87[_0x176ddb(0x2cb)][_0xae81d0][_0x176ddb(0x2cb)]);let _0x56be84,_0x4a88df;for(let _0x8bdafc of Js)if(_0x56be84=_0x282a87['message'][_0x8bdafc],_0x56be84){_0x4a88df=_0x8bdafc;break;}if(!_0x56be84)throw _0x176ddb(0x141);typeof _0x56be84['mediaKey']==_0x176ddb(0x368)&&(_0x282a87[_0x176ddb(0x2cb)]=JSON[_0x176ddb(0x39b)](JSON[_0x176ddb(0x5db)](_0x282a87[_0x176ddb(0x2cb)])));let _0x30b378=await(0x0,w[_0x176ddb(0x4eb)])({'key':_0x282a87?.[_0x176ddb(0x24a)],'message':_0x282a87?.[_0x176ddb(0x2cb)]},'buffer',{},{'logger':(0x0,Pt[_0x176ddb(0x2cc)])({'level':'error'}),'reuploadRequest':this[_0x176ddb(0x46a)]['updateMediaMessage']});if(!(_0x30b378 instanceof Buffer))throw new Error(_0x176ddb(0x562));if(this[_0x176ddb(0x228)][_0x176ddb(0x123)]('DATABASE')[_0x176ddb(0x3c8)]){let _0x48ddfb;if(_0x56be84[_0x176ddb(0x348)])_0x48ddfb=_0x56be84['fileName'];else{let _0x3d5ad0=_0x56be84['mimetype']?.[_0x176ddb(0x165)](/\/(\w+)/),_0x5d1498=_0x3d5ad0?_0x3d5ad0[0x1]:null;if(_0x5d1498==='opus'&&_0x56be84['mimetype']?.['includes'](_0x176ddb(0x4c7))&&(_0x5d1498=_0x176ddb(0x4c7)),!_0x5d1498)throw new Error(_0x176ddb(0x58f));_0x48ddfb=(0x0,no['v4'])()+'.'+_0x5d1498;}await this['saveMediaToFile'](_0x30b378,_0x48ddfb);let _0x2e2e97=_0x176ddb(0x104)+_0x48ddfb,_0x29b118=this[_0x176ddb(0x228)][_0x176ddb(0x123)](_0x176ddb(0x61c)),_0x35437b=this[_0x176ddb(0x228)][_0x176ddb(0x123)](_0x176ddb(0x63b))[_0x176ddb(0x62c)],_0x1e5be5=_0x29b118&&_0x29b118['FULLCHAIN'][_0x176ddb(0xe0)]('/')[0x4];_0x35437b===0x1bb&&(_0x2e2e97=''+('https://'+_0x1e5be5)+_0x2e2e97);let _0x553d83={'where':{'key':{'id':_0x282a87['key']['id'],'remoteJid':_0x282a87[_0x176ddb(0x24a)][_0x176ddb(0x2c5)],'fromMe':_0x282a87[_0x176ddb(0x24a)][_0x176ddb(0x5b3)]},'owner':this['instance'][_0x176ddb(0x5f4)]}},_0xc5555a=0xc*0x3c*0x3c*0x3e8,_0x516434={'message_normalized.fileUrl':_0x2e2e97,'message_normalized.expires_fileUrl':Date[_0x176ddb(0x5e7)]()+_0xc5555a};this[_0x176ddb(0x1fa)][_0x176ddb(0x2cb)][_0x176ddb(0x606)](_0x553d83,_0x516434);}return{'mediaType':_0x4a88df,'fileName':_0x56be84[_0x176ddb(0x348)],'caption':_0x56be84[_0x176ddb(0x121)],'size':{'fileLength':_0x56be84[_0x176ddb(0x385)],'height':_0x56be84['height'],'width':_0x56be84[_0x176ddb(0x330)]},'mimetype':_0x56be84['mimetype'],'base64':_0x30b378['toString']('base64')};}catch(_0x1625b0){throw this[_0x176ddb(0x320)][_0x176ddb(0x162)](this[_0x176ddb(0x13c)]+'\x20('+this['instance'][_0x176ddb(0x5f4)]+_0x176ddb(0x2e0)+_0x1625b0),new m(_0x1625b0['toString']());}}async['saveMediaToFile'](_0x56e7ab,_0x5c32f7){const _0x50fbd0=a0_0x11dbb0;console[_0x50fbd0(0x3cd)](_0x50fbd0(0x644),__dirname),console[_0x50fbd0(0x3cd)]('Original\x20filename:',_0x5c32f7);let _0x1243c0=Y[_0x50fbd0(0x2cc)]['join'](__dirname,_0x50fbd0(0x60d));console[_0x50fbd0(0x3cd)]('Media\x20folder\x20path:',_0x1243c0),we[_0x50fbd0(0x41b)](_0x1243c0)||(console[_0x50fbd0(0x3cd)](_0x50fbd0(0x28d)),we['mkdirSync'](_0x1243c0,{'recursive':!0x0}));let _0x3eee52=Y[_0x50fbd0(0x2cc)][_0x50fbd0(0x140)](_0x1243c0,_0x5c32f7);return console['log']('Full\x20file\x20path:',_0x3eee52),new Promise((_0x3b45d5,_0x2ac554)=>{const _0x2950ee=_0x50fbd0;we[_0x2950ee(0x60b)](_0x3eee52,_0x56e7ab,_0x206cd0=>{const _0x52c97b=_0x2950ee;_0x206cd0?(console[_0x52c97b(0x162)]('Error\x20writing\x20file:',_0x206cd0),_0x2ac554(_0x206cd0)):_0x3b45d5(_0x3eee52);});});}async[a0_0x11dbb0(0x18c)](_0x1f8f8b){const _0x11ae94=a0_0x11dbb0;return _0x1f8f8b?.[_0x11ae94(0x496)]?_0x1f8f8b['where'][_0x11ae94(0x3e6)]=this[_0x11ae94(0x646)]['wuid']:_0x1f8f8b={'where':{'owner':this[_0x11ae94(0x646)][_0x11ae94(0x5f4)]}},await this['repository']['contact'][_0x11ae94(0x467)](_0x1f8f8b);}async[a0_0x11dbb0(0x196)](_0xed7246){const _0x1fc372=a0_0x11dbb0;_0xed7246?.[_0x1fc372(0x496)]?_0xed7246[_0x1fc372(0x496)][_0x1fc372(0x3e6)]=this[_0x1fc372(0x646)]['wuid']:_0xed7246={'where':{'owner':this[_0x1fc372(0x646)]['wuid']},'limit':_0xed7246?.[_0x1fc372(0x50d)]};let _0x51d372=_0xed7246?.[_0x1fc372(0x496)]?.[_0x1fc372(0x24a)]?.[_0x1fc372(0x2c5)];if(_0x51d372){let _0x1c5bb8=(await M[_0x1fc372(0x5df)]({'id':_0x51d372,'owner':this['instance']['wuid']}))?.[_0x1fc372(0x289)]||0x0;Date[_0x1fc372(0x5e7)]()-_0x1c5bb8>0x5265c00&&this[_0x1fc372(0x4b2)](_0x51d372)[_0x1fc372(0x135)](_0x34374e=>{const _0x3906e9=_0x1fc372;this[_0x3906e9(0x320)][_0x3906e9(0x162)]('Erro\x20ao\x20atualizar\x20os\x20detalhes\x20do\x20perfil:'+_0x34374e);});}return await this['repository'][_0x1fc372(0x2cb)][_0x1fc372(0x467)](_0xed7246);}async[a0_0x11dbb0(0x4b2)](_0x49c8c4){const _0xc34f00=a0_0x11dbb0;if(_0x49c8c4[_0xc34f00(0x3bb)]('@g.us')){let _0x1a6fb0=await this['client'][_0xc34f00(0x1b6)](_0x49c8c4,_0xc34f00(0x1bc)),_0x4f1ba1=(await this[_0xc34f00(0x5f3)]({'groupJid':_0x49c8c4}))[_0xc34f00(0x4ff)]['subject'];await M[_0xc34f00(0x655)]({'id':_0x49c8c4,'owner':this['instance'][_0xc34f00(0x5f4)]},{'$set':{'imagechat':_0x1a6fb0,'name':_0x4f1ba1,'lastcache':Date[_0xc34f00(0x5e7)]()}});}else{let _0x1c106d=await this['client'][_0xc34f00(0x1b6)](_0x49c8c4,_0xc34f00(0x1bc)),_0x2e16f2=await Be['findOne']({'id':_0x49c8c4}),_0x222c74=_0x2e16f2?_0x2e16f2[_0xc34f00(0x5a6)]:null;await M[_0xc34f00(0x655)]({'id':_0x49c8c4,'owner':this[_0xc34f00(0x646)][_0xc34f00(0x5f4)]},{'$set':{'imagechat':_0x1c106d,'contactname':_0x222c74,'lastcache':Date[_0xc34f00(0x5e7)]()}});}}async[a0_0x11dbb0(0x405)](_0x2cbec4){const _0x4a954f=a0_0x11dbb0;return _0x2cbec4?.[_0x4a954f(0x496)]?_0x2cbec4[_0x4a954f(0x496)][_0x4a954f(0x3e6)]=this[_0x4a954f(0x646)][_0x4a954f(0x5f4)]:_0x2cbec4={'where':{'owner':this[_0x4a954f(0x646)][_0x4a954f(0x5f4)]},'limit':_0x2cbec4?.[_0x4a954f(0x50d)]},await this[_0x4a954f(0x1fa)][_0x4a954f(0x28e)][_0x4a954f(0x467)](_0x2cbec4);}async[a0_0x11dbb0(0x14b)](){const _0x3a076b=a0_0x11dbb0;return await this[_0x3a076b(0x1fa)][_0x3a076b(0x65d)][_0x3a076b(0x467)]({'where':{'owner':this[_0x3a076b(0x646)]['wuid']}});}async[a0_0x11dbb0(0x450)](){const _0x267832=a0_0x11dbb0;return await this['client'][_0x267832(0x450)]();}async[a0_0x11dbb0(0xe3)](_0x361262){const _0xf9ed6f=a0_0x11dbb0;try{return await this[_0xf9ed6f(0x46a)][_0xf9ed6f(0x37c)](_0x361262[_0xf9ed6f(0x394)][_0xf9ed6f(0x420)]),await this[_0xf9ed6f(0x46a)][_0xf9ed6f(0x2dd)](_0x361262[_0xf9ed6f(0x394)][_0xf9ed6f(0x5b7)]),await this[_0xf9ed6f(0x46a)][_0xf9ed6f(0x490)](_0x361262[_0xf9ed6f(0x394)][_0xf9ed6f(0x4c3)]),await this[_0xf9ed6f(0x46a)]['updateOnlinePrivacy'](_0x361262[_0xf9ed6f(0x394)][_0xf9ed6f(0x319)]),await this['client'][_0xf9ed6f(0x1ce)](_0x361262[_0xf9ed6f(0x394)][_0xf9ed6f(0x4e9)]),await this[_0xf9ed6f(0x46a)][_0xf9ed6f(0x357)](_0x361262[_0xf9ed6f(0x394)][_0xf9ed6f(0x2fc)]),this[_0xf9ed6f(0x46a)]?.['ws']?.[_0xf9ed6f(0x33b)](),{'update':_0xf9ed6f(0x21f),'data':{'readreceipts':_0x361262[_0xf9ed6f(0x394)][_0xf9ed6f(0x420)],'profile':_0x361262[_0xf9ed6f(0x394)][_0xf9ed6f(0x5b7)],'status':_0x361262[_0xf9ed6f(0x394)][_0xf9ed6f(0x4c3)],'online':_0x361262[_0xf9ed6f(0x394)][_0xf9ed6f(0x319)],'last':_0x361262[_0xf9ed6f(0x394)][_0xf9ed6f(0x4e9)],'groupadd':_0x361262[_0xf9ed6f(0x394)][_0xf9ed6f(0x2fc)]}};}catch(_0xb41f47){throw new I(_0xf9ed6f(0x324),_0xb41f47['toString']());}}async[a0_0x11dbb0(0x336)](_0x147f07,_0x5b7301){const _0xc2a9c6=a0_0x11dbb0;let _0x5e58ea=_0x5b7301?this[_0xc2a9c6(0x2f2)](_0x5b7301):this[_0xc2a9c6(0x46a)]?.[_0xc2a9c6(0x3c1)]?.['id'];try{return await this['fetchBusinessProfile'](_0x5e58ea,_0x5b7301,_0x147f07);}catch{return{'wuid':_0x5e58ea,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async[a0_0x11dbb0(0x245)](_0x4ccf6e,_0x275009,_0x1cc794){const _0x13ad25=a0_0x11dbb0;try{let _0x305c57=await this['client']['getBusinessProfile'](_0x4ccf6e),_0xcafa2a,_0x176967,_0x28e617;if(_0x275009?(_0xcafa2a=(await this[_0x13ad25(0x5ad)]({'numbers':[_0x4ccf6e]}))?.[_0x13ad25(0x470)](),_0x176967=await this[_0x13ad25(0x1c3)](_0x4ccf6e),_0x28e617=await this['getStatus'](_0x4ccf6e)):(_0xcafa2a=await _[_0x13ad25(0x5dd)](_0x1cc794),_0x176967=_0xcafa2a?.[_0x13ad25(0x646)]?.[_0x13ad25(0x1b6)],_0x28e617=_0xcafa2a?.[_0x13ad25(0x646)]?.[_0x13ad25(0x48f)]),!_0x305c57)return{'isBusiness':!0x1,'wid':_0x4ccf6e,'name':_0xcafa2a?.[_0x13ad25(0x36c)],'exists':_0xcafa2a?.[_0x13ad25(0x451)],'picture':_0x176967?.[_0x13ad25(0x1b6)],'status':_0x28e617?.[_0x13ad25(0x4c3)]};let _0x2250fd;return _0x305c57?.[_0x13ad25(0xfe)]&&Array['isArray'](_0x305c57[_0x13ad25(0xfe)])&&(_0x2250fd=_0x305c57[_0x13ad25(0xfe)][_0x13ad25(0x140)]('|')),{'isBusiness':!0x0,'wid':_0x4ccf6e,'name':_0xcafa2a?.[_0x13ad25(0x36c)],'exists':_0xcafa2a?.['exists'],'picture':_0x176967?.[_0x13ad25(0x1b6)],'status':_0x28e617?.[_0x13ad25(0x4c3)],..._0x305c57,'websitesString':_0x2250fd};}catch(_0x5afe4f){throw new I(_0x13ad25(0x54e),_0x5afe4f[_0x13ad25(0x29e)]());}}async[a0_0x11dbb0(0x26b)](_0x13f46e){const _0x57c135=a0_0x11dbb0;let _0x2580bb=this['createJid'](_0x13f46e);try{return{'wuid':_0x2580bb,'status':(await this[_0x57c135(0x46a)][_0x57c135(0x2b2)](_0x2580bb))?.[_0x57c135(0x4c3)]};}catch{return{'wuid':_0x2580bb,'status':null};}}async['updateProfileName'](_0x21f3ec){const _0x432071=a0_0x11dbb0;try{return await this[_0x432071(0x46a)][_0x432071(0x266)](_0x21f3ec),{'update':_0x432071(0x21f)};}catch(_0x544771){throw new I(_0x432071(0x54e),_0x544771[_0x432071(0x29e)]());}}async[a0_0x11dbb0(0x483)](_0x52e885){const _0x34491b=a0_0x11dbb0;try{return await this[_0x34491b(0x46a)][_0x34491b(0x483)](_0x52e885),{'update':_0x34491b(0x21f)};}catch(_0x3a02bf){throw new I(_0x34491b(0x21a),_0x3a02bf[_0x34491b(0x29e)]());}}async['updateProfilePicture'](_0x538092){const _0x30ae98=a0_0x11dbb0;try{let _0x541a82;if((0x0,$[_0x30ae98(0x37a)])(_0x538092)){let _0x3b2625=new Date()[_0x30ae98(0x393)](),_0x14d766=_0x538092+'?timestamp='+_0x3b2625;_0x541a82=(await ne[_0x30ae98(0x2cc)][_0x30ae98(0x123)](_0x14d766,{'responseType':'arraybuffer'}))[_0x30ae98(0x254)];}else{if((0x0,$[_0x30ae98(0x5d3)])(_0x538092))_0x541a82=Buffer['from'](_0x538092,'base64');else throw new m(_0x30ae98(0x334));}return await this[_0x30ae98(0x46a)][_0x30ae98(0x395)](this[_0x30ae98(0x646)][_0x30ae98(0x5f4)],_0x541a82),{'update':_0x30ae98(0x21f)};}catch(_0x17a38e){throw new I('Error\x20updating\x20profile\x20picture',_0x17a38e[_0x30ae98(0x29e)]());}}async[a0_0x11dbb0(0x10a)](){const _0x31da46=a0_0x11dbb0;try{return await this[_0x31da46(0x46a)][_0x31da46(0x10a)](this['instance'][_0x31da46(0x5f4)]),{'update':_0x31da46(0x21f)};}catch(_0xb24250){throw new I(_0x31da46(0x164),_0xb24250[_0x31da46(0x29e)]());}}async[a0_0x11dbb0(0x2d2)](_0x364250){const _0x361e59=a0_0x11dbb0;try{let _0x523085=_0x364250[_0x361e59(0x24e)][_0x361e59(0x360)](_0x4f0464=>this['createJid'](_0x4f0464)),{id:_0x2f07e2}=await this[_0x361e59(0x46a)][_0x361e59(0x46c)](_0x364250[_0x361e59(0x5b6)],_0x523085);return _0x364250?.[_0x361e59(0x2a7)]&&await this['client'][_0x361e59(0x55f)](_0x2f07e2,_0x364250[_0x361e59(0x2a7)]),{'metadata':await this[_0x361e59(0x46a)][_0x361e59(0x3ea)](_0x2f07e2)};}catch(_0x54d8c2){throw this['logger'][_0x361e59(0x162)](this[_0x361e59(0x13c)]+'\x20('+this['instance'][_0x361e59(0x5f4)]+_0x361e59(0x2e0)+_0x54d8c2),new I('Error\x20creating\x20group',_0x54d8c2['toString']());}}async[a0_0x11dbb0(0x23f)](_0x49e325){const _0x8d2f0e=a0_0x11dbb0;try{let _0x36c537;if((0x0,$[_0x8d2f0e(0x37a)])(_0x49e325['image'])){let _0x1ca244=new Date()[_0x8d2f0e(0x393)](),_0x27ad3d=_0x49e325[_0x8d2f0e(0x1bc)]+_0x8d2f0e(0x2a2)+_0x1ca244;_0x36c537=(await ne[_0x8d2f0e(0x2cc)]['get'](_0x27ad3d,{'responseType':'arraybuffer'}))[_0x8d2f0e(0x254)];}else{if((0x0,$['isBase64'])(_0x49e325[_0x8d2f0e(0x1bc)]))_0x36c537=Buffer[_0x8d2f0e(0x374)](_0x49e325[_0x8d2f0e(0x1bc)],'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x8d2f0e(0x46a)][_0x8d2f0e(0x395)](_0x49e325['groupJid'],_0x36c537),{'update':_0x8d2f0e(0x21f)};}catch(_0x76eb){throw new I(_0x8d2f0e(0x592),_0x76eb[_0x8d2f0e(0x29e)]());}}async[a0_0x11dbb0(0x5f3)](_0x5f5158,_0x276613=a0_0x11dbb0(0x5a8)){const _0x18dc04=a0_0x11dbb0;try{let _0xb99e45=await this['client']['groupMetadata'](_0x5f5158['groupJid']),_0x4ea856=null;try{_0x4ea856=await this[_0x18dc04(0x46a)]['profilePictureUrl'](_0x5f5158[_0x18dc04(0x2fe)],_0x18dc04(0x1bc));}catch(_0x503d1c){this[_0x18dc04(0x320)]['verbose'](this[_0x18dc04(0x13c)]+'\x20('+this['instance'][_0x18dc04(0x5f4)]+_0x18dc04(0x136)+_0x5f5158[_0x18dc04(0x2fe)]+':\x20'+_0x503d1c[_0x18dc04(0x29e)]());}return{'metadata':_0xb99e45,'image':_0x4ea856};}catch(_0x2f3e34){if(_0x276613===_0x18dc04(0x3de))return;throw new U(_0x18dc04(0x3be),_0x2f3e34[_0x18dc04(0x29e)]());}}async[a0_0x11dbb0(0x310)](_0x16a182){const _0x366211=a0_0x11dbb0;try{return await this['client'][_0x366211(0x55f)](_0x16a182[_0x366211(0x2fe)],_0x16a182[_0x366211(0x2a7)]),{'update':_0x366211(0x21f)};}catch(_0x11060a){throw new I(_0x366211(0x44a),_0x11060a['toString']());}}async['groupName'](_0x57ccb2){const _0x4826c1=a0_0x11dbb0;try{return await this[_0x4826c1(0x46a)][_0x4826c1(0x45f)](_0x57ccb2[_0x4826c1(0x2fe)],_0x57ccb2[_0x4826c1(0x36c)]),{'update':'success'};}catch(_0x337541){throw new I('Error\x20change\x20group\x20name',_0x337541['toString']());}}async[a0_0x11dbb0(0x23a)](_0x2bf4e7){const _0x1e0fbc=a0_0x11dbb0;try{return await this['client'][_0x1e0fbc(0x4cd)](_0x2bf4e7[_0x1e0fbc(0x2fe)],_0x2bf4e7[_0x1e0fbc(0x3eb)]),{'update':'success'};}catch(_0x4b8bc9){throw new I(_0x1e0fbc(0x583),_0x4b8bc9[_0x1e0fbc(0x29e)]());}}async[a0_0x11dbb0(0x61d)](){const _0x3a6763=a0_0x11dbb0;try{let _0x1cbb07=[],_0x156040=await this[_0x3a6763(0x46a)]['groupFetchAllParticipating'](),_0xc6ebfd=Object[_0x3a6763(0x3bc)](_0x156040),_0x548e84=_0xc6ebfd[_0x3a6763(0x512)](_0x1f2cb5=>(0x0,w[_0x3a6763(0x3f9)])(_0x1f2cb5?.['id']))[_0x3a6763(0x360)](async _0x2df8df=>{const _0x5f2b33=_0x3a6763;try{return await this[_0x5f2b33(0x46a)]['profilePictureUrl'](_0x2df8df['id'],'image');}catch(_0x7f9822){return this[_0x5f2b33(0x320)][_0x5f2b33(0x147)](this[_0x5f2b33(0x13c)]+'\x20('+this[_0x5f2b33(0x646)][_0x5f2b33(0x5f4)]+_0x5f2b33(0x136)+_0x2df8df['id']+':\x20'+_0x7f9822[_0x5f2b33(0x29e)]()),null;}}),_0x34ad33=await Promise[_0x3a6763(0x2d6)](_0x548e84);for(let _0x243141=0x0;_0x243141<_0xc6ebfd[_0x3a6763(0x125)];_0x243141++){let _0x49938a=_0xc6ebfd[_0x243141];(0x0,w[_0x3a6763(0x3f9)])(_0x49938a?.['id'])&&_0x1cbb07[_0x3a6763(0x17b)]({'groupJid':_0x49938a?.['id'],'subject':_0x49938a?.[_0x3a6763(0x5b6)],'subjectOwner':_0x49938a?.['subjectOwner']?.[_0x3a6763(0xe0)]('@')[0x0],'subjectTime':_0x49938a?.[_0x3a6763(0x14a)],'size':_0x49938a?.['participants']?.[_0x3a6763(0x125)],'owner':_0x49938a?.['owner']?.['split']('@')[0x0],'creation':_0x49938a?.[_0x3a6763(0x4b8)],'desc':_0x49938a?.[_0x3a6763(0x5f7)],'restrict':_0x49938a?.['restrict'],'announce':_0x49938a?.[_0x3a6763(0x497)],'image':_0x34ad33[_0x243141]});}return _0x1cbb07;}catch(_0x25d82b){throw new U(_0x3a6763(0x3be),_0x25d82b[_0x3a6763(0x29e)]());}}async[a0_0x11dbb0(0x33e)](_0x3efe0f){const _0x42d524=a0_0x11dbb0;try{let _0x4e4f66=await this['client'][_0x42d524(0x275)](_0x3efe0f[_0x42d524(0x2fe)]);return{'inviteUrl':_0x42d524(0x22e)+_0x4e4f66,'inviteCode':_0x4e4f66};}catch(_0x3ad4cc){throw new U('No\x20invite\x20code',_0x3ad4cc[_0x42d524(0x29e)]());}}async[a0_0x11dbb0(0x461)](_0x5246e2){const _0x4a2a26=a0_0x11dbb0;try{let _0x38fb17=await this[_0x4a2a26(0x46a)][_0x4a2a26(0x5e3)](_0x5246e2['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x4a2a26(0x22e)+_0x38fb17,'inviteCode':_0x38fb17};}catch(_0x33663f){throw new U(_0x4a2a26(0x2ac),_0x33663f[_0x4a2a26(0x29e)]());}}async[a0_0x11dbb0(0x3af)](_0xacd778){const _0x2a329b=a0_0x11dbb0;try{if((0x0,$['isURL'])(_0xacd778[_0x2a329b(0x33e)]))var _0xd773df=_0xacd778['inviteCode'][_0x2a329b(0xe0)]('/')[0x3];else var _0xd773df=_0xacd778['inviteCode'];let _0x6e9d8a=await this[_0x2a329b(0x46a)]['groupAcceptInvite'](_0xd773df);return this['logger'][_0x2a329b(0x147)](this[_0x2a329b(0x13c)]+'\x20('+this['instance'][_0x2a329b(0x5f4)]+'):\x20'+_0x6e9d8a),{'join':!0x0,'inviteCode':_0xd773df,'groupJid':_0x6e9d8a};}catch(_0x1dc69e){throw new U('No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x1dc69e[_0x2a329b(0x29e)]());}}async[a0_0x11dbb0(0x441)](_0x2cc9a1){const _0x1d18b6=a0_0x11dbb0;try{return{'participants':(await this['client']['groupMetadata'](_0x2cc9a1[_0x1d18b6(0x2fe)]))['participants']};}catch(_0x404af3){throw new U('No\x20participants',_0x404af3['toString']());}}async[a0_0x11dbb0(0x27e)](_0x10e25d){const _0x5c7fc9=a0_0x11dbb0;try{let _0x37a2ec=_0x10e25d[_0x5c7fc9(0x24e)][_0x5c7fc9(0x360)](_0x4b293e=>this[_0x5c7fc9(0x2f2)](_0x4b293e));return{'updateParticipants':await this['client'][_0x5c7fc9(0x1cd)](_0x10e25d[_0x5c7fc9(0x2fe)],_0x37a2ec,_0x10e25d['action'])};}catch(_0x21d350){throw new m(_0x5c7fc9(0x4e3),_0x21d350[_0x5c7fc9(0x29e)]());}}async['toggleEphemeral'](_0x529919){const _0x53233a=a0_0x11dbb0;try{let _0x462aee=await this[_0x53233a(0x46a)][_0x53233a(0x1ef)](_0x529919[_0x53233a(0x2fe)],_0x529919[_0x53233a(0x185)]);return{'success':!0x0};}catch(_0x5e1d45){throw new m('Error\x20updating\x20setting',_0x5e1d45[_0x53233a(0x29e)]());}}async[a0_0x11dbb0(0x535)](_0x5388ad){const _0x33138f=a0_0x11dbb0;try{return await this[_0x33138f(0x46a)]['groupLeave'](_0x5388ad[_0x33138f(0x2fe)]),{'groupJid':_0x5388ad[_0x33138f(0x2fe)],'leave':!0x0};}catch(_0xab59ff){throw new m(_0x33138f(0x516),_0xab59ff[_0x33138f(0x29e)]());}}async[a0_0x11dbb0(0x2de)](_0x21aa3e){const _0x59abf8=a0_0x11dbb0;return await this['sendMessageWithTyping'](_0x21aa3e['number'],{'poll':{'name':_0x21aa3e['pollMessage']?.[_0x59abf8(0x36c)],'selectableCount':_0x21aa3e[_0x59abf8(0x2de)]['selectableCount'],'values':_0x21aa3e[_0x59abf8(0x2de)][_0x59abf8(0x3bc)]}},_0x21aa3e?.[_0x59abf8(0x4db)]);}async[a0_0x11dbb0(0x18a)](_0x484f7e,_0x24e04b,_0x394e2b){const _0x513a5c=a0_0x11dbb0;if(await this[_0x513a5c(0xe6)](_0x484f7e,!0x0)){let _0x44086e={'where':{'key':{'id':_0x484f7e['id'],'remoteJid':_0x24e04b,'fromMe':_0x484f7e[_0x513a5c(0x5b3)]},'owner':this[_0x513a5c(0x646)][_0x513a5c(0x5f4)]}},_0x3044d3={'status':[_0x394e2b[_0x513a5c(0x4c3)]][0x0]};try{await this[_0x513a5c(0x1fa)][_0x513a5c(0x2cb)]['update'](_0x44086e,_0x3044d3);}catch{}}}async['updateChatWithMessage'](_0x18e38e,_0x2a0cd8,_0x2eb1c1){const _0x37eec7=a0_0x11dbb0;let _0x2ce7d1=_0x2a0cd8[_0x37eec7(0x24a)]['remoteJid'],_0x55e325=_0x2a0cd8[_0x37eec7(0x24a)][_0x37eec7(0x5b3)],_0x51787f=_0x2ce7d1[_0x37eec7(0x3bb)](_0x37eec7(0x331));if(!_0x18e38e['ENABLED'])return;let _0x9d8e31=await M['findOne']({'id':_0x2ce7d1,'owner':this[_0x37eec7(0x646)][_0x37eec7(0x5f4)]}),_0x59a48f={'$set':{'lastmsg':_0x2a0cd8[_0x37eec7(0x577)]||null}};if(!_0x51787f&&!_0x55e325&&!_0x9d8e31?.['name']){let _0x28eb4f=_0x2a0cd8[_0x37eec7(0x5a6)]||_0x37eec7(0x257);_0x59a48f[_0x37eec7(0x64f)][_0x37eec7(0x36c)]=_0x28eb4f,_0x28eb4f!=='Nome\x20não\x20encontrado'&&(!_0x9d8e31?.[_0x37eec7(0x49a)]?.[_0x37eec7(0x2ab)]||_0x9d8e31?.[_0x37eec7(0x49a)]?.[_0x37eec7(0x2ab)]==='')&&(_0x59a48f[_0x37eec7(0x64f)][_0x37eec7(0x473)]=_0x28eb4f);}if(_0x55e325?_0x59a48f[_0x37eec7(0x64f)]['unreadcount']=0x0:_0x59a48f[_0x37eec7(0x501)]={'unreadcount':0x1},Object[_0x37eec7(0x354)](_0x59a48f[_0x37eec7(0x64f)])['length']>0x0||_0x59a48f['$inc']&&Object['keys'](_0x59a48f[_0x37eec7(0x501)])[_0x37eec7(0x125)]>0x0){if(_0x9d8e31=await M[_0x37eec7(0x281)]({'id':_0x2ce7d1,'owner':this[_0x37eec7(0x646)][_0x37eec7(0x5f4)]},_0x59a48f,{'new':!0x1,'upsert':!0x0}),!_0x9d8e31&&!_0x51787f&&(_0x9d8e31=await M[_0x37eec7(0x281)]({'id':_0x2ce7d1,'owner':this[_0x37eec7(0x646)][_0x37eec7(0x5f4)]},{'$set':{'group':_0x51787f,'lastmsg':_0x2a0cd8[_0x37eec7(0x577)]||null,'name':_0x2a0cd8[_0x37eec7(0x5a6)]||null,'unreadcount':0x1,'leadInfo.nome':_0x2a0cd8[_0x37eec7(0x5a6)]||null,'leadInfo.tags':[],'leadInfo.customFields':[]}},{'new':!0x0,'upsert':!0x0})),!_0x9d8e31&&_0x51787f&&(_0x9d8e31=await M['findOneAndUpdate']({'id':_0x2ce7d1,'owner':this[_0x37eec7(0x646)][_0x37eec7(0x5f4)]},{'$set':{'group':_0x51787f,'lastmsg':_0x2a0cd8[_0x37eec7(0x577)]||null,'unreadcount':0x1}},{'new':!0x0,'upsert':!0x0})),!_0x9d8e31){this['logger'][_0x37eec7(0x162)](this[_0x37eec7(0x13c)]+'\x20('+this[_0x37eec7(0x646)][_0x37eec7(0x5f4)]+_0x37eec7(0x452));return;}if(!this['AutomateSystem'][_0x37eec7(0x622)][_0x37eec7(0x3d2)])return this['logger'][_0x37eec7(0x147)](this[_0x37eec7(0x13c)]+'\x20('+this['instance']['wuid']+_0x37eec7(0x299)),null;if(_0x9d8e31['id'][_0x37eec7(0x1e2)](_0x37eec7(0x331))&&this[_0x37eec7(0x27b)][_0x37eec7(0x622)][_0x37eec7(0x5d2)]===!0x0)return this[_0x37eec7(0x320)][_0x37eec7(0x147)](this[_0x37eec7(0x13c)]+'\x20('+this[_0x37eec7(0x646)][_0x37eec7(0x5f4)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x9d8e31[_0x37eec7(0x49a)]){if(_0x9d8e31[_0x37eec7(0x49a)][_0x37eec7(0x396)]===0x0||_0x9d8e31[_0x37eec7(0x49a)][_0x37eec7(0x133)])return this[_0x37eec7(0x320)]['verbose'](this[_0x37eec7(0x13c)]+'\x20('+this[_0x37eec7(0x646)][_0x37eec7(0x5f4)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x2ce7d1+_0x37eec7(0x4f5)),null;if(_0x9d8e31[_0x37eec7(0x49a)][_0x37eec7(0x396)]>Date[_0x37eec7(0x5e7)]())return this[_0x37eec7(0x320)][_0x37eec7(0x147)](this[_0x37eec7(0x13c)]+'\x20('+this[_0x37eec7(0x646)][_0x37eec7(0x5f4)]+'):\x20Está\x20configurado\x20para\x20parar\x20até\x20'+new Date(_0x9d8e31[_0x37eec7(0x49a)]['desativadoFluxoAte'])[_0x37eec7(0xfa)]()+',\x20saindo.'),null;}this[_0x37eec7(0x320)]['verbose'](this['instanceName']+'\x20('+this[_0x37eec7(0x646)][_0x37eec7(0x5f4)]+_0x37eec7(0x172)),this['StartBot'](_0x2eb1c1,_0x2a0cd8,this[_0x37eec7(0x646)][_0x37eec7(0x5f4)]);}}async['checkAndUpdateChats'](){const _0x12e10e=a0_0x11dbb0;let _0x40c71e=await this['repository'][_0x12e10e(0x475)][_0x12e10e(0x467)]({'where':{'owner':this[_0x12e10e(0x646)][_0x12e10e(0x5f4)]}}),_0x23f628=0x0,_0x436320=[];for(let _0x1d96bf of _0x40c71e)_0x436320[_0x12e10e(0x17b)]({'updateOne':{'filter':{'id':_0x1d96bf['id'],'owner':this[_0x12e10e(0x646)]['wuid']},'update':{'$set':{'contactname':_0x1d96bf[_0x12e10e(0x5a6)]}}}}),_0x436320['length']===0x1f4&&(_0x23f628+=await this['performBulkUpdate'](_0x436320),_0x436320=[]);_0x436320['length']>0x0&&(_0x23f628+=await this[_0x12e10e(0x366)](_0x436320)),this[_0x12e10e(0x320)][_0x12e10e(0x147)](this[_0x12e10e(0x13c)]+'\x20('+this[_0x12e10e(0x646)]['wuid']+'):\x20'+_0x23f628+'\x20chats\x20de\x20'+this[_0x12e10e(0x646)][_0x12e10e(0x5f4)]+_0x12e10e(0x5f5));}async[a0_0x11dbb0(0x366)](_0x5d150d){const _0x251f63=a0_0x11dbb0;return(await M[_0x251f63(0x47b)](_0x5d150d))[_0x251f63(0x1f6)];}async[a0_0x11dbb0(0x3e9)](_0x4414ae,_0x4e60ed){const _0x382d6b=a0_0x11dbb0;if(_0x4e60ed['ENABLED']){let _0x1e2fdf=_0x4414ae[_0x382d6b(0x360)](async _0x5b0d87=>{const _0x3ca70a=_0x382d6b;let _0x5ac0a4={'$set':{'id':_0x5b0d87['id'],'owner':_0x5b0d87[_0x3ca70a(0x3e6)],'lastcache':0x0}};if(_0x5b0d87[_0x3ca70a(0x28f)]!==null&&(_0x5ac0a4[_0x3ca70a(0x64f)][_0x3ca70a(0x28f)]=_0x5b0d87['group']),_0x5b0d87[_0x3ca70a(0x36c)]!==null&&(_0x5ac0a4[_0x3ca70a(0x64f)][_0x3ca70a(0x36c)]=_0x5b0d87[_0x3ca70a(0x36c)]),_0x5b0d87[_0x3ca70a(0x34e)]!==null&&(_0x5ac0a4[_0x3ca70a(0x64f)]['contactname']=_0x5b0d87['contactname']),_0x5b0d87[_0x3ca70a(0x58b)]!==null&&(_0x5ac0a4[_0x3ca70a(0x64f)][_0x3ca70a(0x58b)]=_0x5b0d87[_0x3ca70a(0x58b)]),_0x5b0d87[_0x3ca70a(0x58b)]===null&&(_0x5ac0a4['$set'][_0x3ca70a(0x58b)]=_0x3ca70a(0x3d5)),_0x5b0d87['lastmsg']!==null&&(_0x5ac0a4[_0x3ca70a(0x64f)]['lastmsg']=_0x5b0d87[_0x3ca70a(0x2da)]),_0x5b0d87[_0x3ca70a(0x409)]!==null&&(_0x5ac0a4['$set']['archived']=_0x5b0d87[_0x3ca70a(0x409)]),_0x5b0d87[_0x3ca70a(0x15c)]!==null&&(_0x5ac0a4[_0x3ca70a(0x64f)][_0x3ca70a(0x15c)]=_0x5b0d87[_0x3ca70a(0x15c)]),Object[_0x3ca70a(0x354)](_0x5ac0a4[_0x3ca70a(0x64f)])[_0x3ca70a(0x125)]>0x0)return M[_0x3ca70a(0x281)]({'id':_0x5b0d87['id'],'owner':_0x5b0d87[_0x3ca70a(0x3e6)]},_0x5ac0a4,{'new':!0x0,'upsert':!0x0});}),_0x2a9baa=(await Promise[_0x382d6b(0x2d6)](_0x1e2fdf))['filter'](_0x15442d=>_0x15442d!==null)[_0x382d6b(0x125)];this['logger'][_0x382d6b(0x147)](this['instanceName']+'\x20('+this['instance'][_0x382d6b(0x5f4)]+_0x382d6b(0x2e0)+_0x2a9baa+_0x382d6b(0x52a)+this[_0x382d6b(0x646)][_0x382d6b(0x5f4)]+_0x382d6b(0x58e));}}async['readMessageBot'](_0x11db06){const _0x47423b=a0_0x11dbb0;this[_0x47423b(0x320)][_0x47423b(0x147)](this[_0x47423b(0x13c)]+'\x20('+this[_0x47423b(0x646)][_0x47423b(0x5f4)]+_0x47423b(0x5ce));let _0x34fffe={'readMessages':[{'remoteJid':_0x11db06[_0x47423b(0x36b)][_0x47423b(0x306)][_0x47423b(0x24a)][_0x47423b(0x2c5)],'fromMe':_0x11db06['chatLog'][_0x47423b(0x306)][_0x47423b(0x24a)][_0x47423b(0x5b3)],'id':_0x11db06[_0x47423b(0x36b)][_0x47423b(0x306)]['key']['id']}]};await this[_0x47423b(0x5f8)](_0x34fffe);}async[a0_0x11dbb0(0x102)](_0x160936,_0x15948b,_0x1ac83d){const _0x568177=a0_0x11dbb0;try{let {key:_0x262d72,message_normalized:_0x23d1a6}=_0x15948b,_0x188445=_0x23d1a6,_0x59d590=_0x23d1a6[_0x568177(0x652)]||_0x23d1a6[_0x568177(0x121)]||_0x23d1a6[_0x568177(0x4fb)]||_0x23d1a6[_0x568177(0x36c)],_0x43777e=_0x262d72[_0x568177(0x2c5)],_0x265dcd;if(_0x188445['key']['fromMe']&&_0x59d590[_0x568177(0x294)]()!==this[_0x568177(0x27b)][_0x568177(0x622)][_0x568177(0x2b9)]['trim']())return this[_0x568177(0x320)]['verbose'](this[_0x568177(0x13c)]+'\x20('+this[_0x568177(0x646)][_0x568177(0x5f4)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x188445[_0x568177(0x24a)][_0x568177(0x5b3)]&&_0x59d590[_0x568177(0x294)]()===this['AutomateSystem'][_0x568177(0x622)][_0x568177(0x2b9)][_0x568177(0x294)]()){this[_0x568177(0x320)][_0x568177(0x147)](this[_0x568177(0x13c)]+'\x20('+this['instance']['wuid']+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x939237=await G[_0x568177(0x467)]({'owner':_0x1ac83d,'remoteJid':_0x43777e,'status':_0x568177(0x130)});this[_0x568177(0x320)][_0x568177(0x147)](this['instanceName']+'\x20('+this[_0x568177(0x646)]['wuid']+_0x568177(0x4f0)+_0x939237);let _0x5b26dd=Date['now'](),_0x2c3ab8;return this[_0x568177(0x27b)][_0x568177(0x622)][_0x568177(0x270)]===0x0?_0x2c3ab8={'stoppedUntil':_0x5b26dd+0x7591f6200}:_0x2c3ab8={'stoppedUntil':_0x5b26dd+this[_0x568177(0x27b)]['flowConfig'][_0x568177(0x270)]*0x3c*0x3e8},this[_0x568177(0x320)][_0x568177(0x147)](this[_0x568177(0x13c)]+'\x20('+this[_0x568177(0x646)][_0x568177(0x5f4)]+_0x568177(0x46f)+_0x2c3ab8),this[_0x568177(0x4c5)](_0x265dcd,_0x2c3ab8[_0x568177(0x5cc)]),null;}if(_0x59d590[_0x568177(0x2e4)](this['AutomateSystem'][_0x568177(0x622)][_0x568177(0x250)])&&_0x59d590['length']>0x4){let _0x1e5bd9=await D[_0x568177(0x5df)]({'owner':_0x1ac83d,'startCommandWord':_0x59d590});if(this['logger'][_0x568177(0x147)](this['instanceName']+'\x20('+this[_0x568177(0x646)][_0x568177(0x5f4)]+_0x568177(0x3d9)),_0x1e5bd9)_0x265dcd=await this[_0x568177(0x2f4)](_0x1e5bd9,_0x188445[_0x568177(0x24a)],_0x188445);else return this['logger'][_0x568177(0x147)](this['instanceName']+'\x20('+this[_0x568177(0x646)][_0x568177(0x5f4)]+_0x568177(0x56b)),null;}else _0x265dcd=await this[_0x568177(0x513)](_0x1ac83d,_0x43777e,_0x188445);if(_0x265dcd){this[_0x568177(0x320)][_0x568177(0x147)](this[_0x568177(0x13c)]+'\x20('+this[_0x568177(0x646)][_0x568177(0x5f4)]+_0x568177(0x4a8)),!_0x262d72[_0x568177(0x5b3)]&&_0x265dcd[_0x568177(0x267)]&&this[_0x568177(0x419)](_0x265dcd);let _0x53b5a2=await this[_0x568177(0x160)](_0x265dcd);_0x53b5a2&&await this[_0x568177(0x126)](_0x265dcd,_0x53b5a2,_0x265dcd[_0x568177(0x2c5)]);}}catch(_0x45ae1){this['logger'][_0x568177(0x162)](this[_0x568177(0x13c)]+'\x20('+this[_0x568177(0x646)][_0x568177(0x5f4)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+_0x45ae1);}}['flattenObject'](_0x1255a4,_0x3c161e='',_0x68e0c8={},_0x48f44c=!0x0){const _0x85707b=a0_0x11dbb0;for(let _0x559201 in _0x1255a4){let _0x565584=_0x48f44c?'_'+_0x559201:''+_0x3c161e+_0x559201;typeof _0x1255a4[_0x559201]==_0x85707b(0x368)&&_0x1255a4[_0x559201]!==null?this[_0x85707b(0x661)](_0x1255a4[_0x559201],_0x565584+'.',_0x68e0c8,!0x1):_0x68e0c8[_0x565584]=_0x1255a4[_0x559201];}return _0x68e0c8;}['variablesToObject'](_0x31f9c3){const _0x56ee69=a0_0x11dbb0;let _0x5b337f={};for(let _0x38f0e2 of _0x31f9c3)typeof _0x38f0e2['name']==_0x56ee69(0x314)&&typeof _0x38f0e2['value']==_0x56ee69(0x314)&&(_0x5b337f[_0x38f0e2['name']]=_0x38f0e2[_0x56ee69(0x16c)]);return _0x5b337f;}async[a0_0x11dbb0(0x160)](_0x2b4956){const _0xf4d37d=a0_0x11dbb0;if(!this[_0xf4d37d(0x27b)][_0xf4d37d(0x622)][_0xf4d37d(0x3d2)]||_0x2b4956[_0xf4d37d(0x4c3)]!==_0xf4d37d(0x130)&&_0x2b4956[_0xf4d37d(0x4e1)]==='')return null;let _0x10e398=_0x2b4956[_0xf4d37d(0x36b)][_0xf4d37d(0x201)]||'start';typeof _0x2b4956['chatLog'][_0xf4d37d(0x5cb)]>'u'&&(_0x2b4956['chatLog'][_0xf4d37d(0x5cb)]=!0x0);let _0x203267=_0x2b4956[_0xf4d37d(0x36b)][_0xf4d37d(0x5cb)];this[_0xf4d37d(0x320)][_0xf4d37d(0x147)](this[_0xf4d37d(0x13c)]+'\x20('+this[_0xf4d37d(0x646)][_0xf4d37d(0x5f4)]+_0xf4d37d(0x244)+_0x10e398+_0xf4d37d(0x401)+_0x203267);let _0x76b65c=_0x10e398===_0xf4d37d(0x2fd)?_0x2b4956['blocks'][_0xf4d37d(0x467)](_0x1e1e3b=>_0x1e1e3b['type']===_0xf4d37d(0x2fd)):_0x2b4956[_0xf4d37d(0x386)][_0xf4d37d(0x467)](_0x2cfd97=>_0x2cfd97[_0xf4d37d(0x42d)][_0xf4d37d(0x29e)]()===_0x10e398['toString']());if(!_0x76b65c)return this[_0xf4d37d(0x320)][_0xf4d37d(0x162)](this[_0xf4d37d(0x13c)]+'\x20('+this[_0xf4d37d(0x646)]['wuid']+_0xf4d37d(0x585)+_0x10e398),null;let _0x25ce21={'_pushName':_0x2b4956[_0xf4d37d(0x36b)][_0xf4d37d(0x306)][_0xf4d37d(0x5a6)],..._0x2b4956[_0xf4d37d(0x36b)][_0xf4d37d(0x2bc)]},_0x56cab8=null;if(_0x2b4956[_0xf4d37d(0x4e1)]){let _0xa78c6e=_0x2b4956[_0xf4d37d(0x36b)][_0xf4d37d(0x306)]['vote'],_0xa1d30e=_0x2b4956[_0xf4d37d(0x66c)][_0xf4d37d(0x467)](_0x39b8aa=>_0x39b8aa[_0xf4d37d(0x26d)]===_0xa78c6e);if(_0xa1d30e){let _0x2fbe23=_0xa1d30e[_0xf4d37d(0x2e8)];if(_0x56cab8=_0x2b4956['blocks'][_0xf4d37d(0x467)](_0x460dcd=>_0x460dcd[_0xf4d37d(0x4f4)]===_0x2fbe23&&_0x460dcd['order']===0x1),_0x76b65c[_0xf4d37d(0x1b7)][_0xf4d37d(0x1ed)]){let _0x6d193={'id':_0x2b4956['waitingPoll_id'],'remoteJid':_0x2b4956[_0xf4d37d(0x2c5)],'fromMe':!0x0};await this[_0xf4d37d(0x1b5)](_0x6d193);}if(_0x76b65c[_0xf4d37d(0x1b7)][_0xf4d37d(0x1ed)]&&_0x76b65c['uazapi']['pollMessageOnDelete']){let _0x277c47={'number':_0x2b4956[_0xf4d37d(0x2c5)],'options':{'delay':0x0},'textMessage':{'text':_0xf4d37d(0x3d6)+_0x2b4956[_0xf4d37d(0x1d3)]+_0xf4d37d(0x5fd)+_0xa78c6e}};await this['textMessage'](_0x277c47);}_0x2b4956[_0xf4d37d(0x4c3)]=_0xf4d37d(0x130),_0x2b4956[_0xf4d37d(0x4e1)]='',_0x2b4956[_0xf4d37d(0x1d3)]='',_0x2b4956[_0xf4d37d(0x66c)]=[];}else{this[_0xf4d37d(0x320)][_0xf4d37d(0x147)](this['instanceName']+'\x20('+this[_0xf4d37d(0x646)][_0xf4d37d(0x5f4)]+_0xf4d37d(0xef));let _0x206a78={'activatedCount':_0x2b4956[_0xf4d37d(0x36b)][_0xf4d37d(0x1ae)][_0xf4d37d(0x512)](_0x1b1266=>String(_0x1b1266[_0xf4d37d(0x3e8)])===String(_0x10e398))[_0xf4d37d(0x125)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x76b65c[_0xf4d37d(0x1b7)][_0xf4d37d(0x35c)]){let _0x456ce7={'number':_0x2b4956[_0xf4d37d(0x2c5)],'options':{'delay':0x0},'textMessage':{'text':_0x76b65c[_0xf4d37d(0x1b7)][_0xf4d37d(0x35c)]}};await this['textMessage'](_0x456ce7);}if(_0x76b65c[_0xf4d37d(0x487)]!==void 0x0&&_0x206a78['activatedCount']>=_0x76b65c[_0xf4d37d(0x487)]){let _0x290780=Date['now'](),_0x3666cb=_0x76b65c[_0xf4d37d(0x1e6)]??0xa;isNaN(_0x3666cb)&&(_0x3666cb=0xa);let _0x3820e1=_0x290780+_0x3666cb*0x3c*0x3e8;_0x206a78[_0xf4d37d(0x43c)]=_0x3820e1,_0x206a78[_0xf4d37d(0x1a9)][_0xf4d37d(0x17b)](_0xf4d37d(0x4d5)),this['updateChat'](_0x2b4956,_0x3820e1),_0x2b4956[_0xf4d37d(0x4e1)]='',_0x2b4956[_0xf4d37d(0x1d3)]='',_0x2b4956[_0xf4d37d(0x66c)]=[];}return this['updateConversation'](_0x2b4956,_0x76b65c,_0x206a78,!0x0),null;}}if(_0x203267&&_0x76b65c[_0xf4d37d(0x2e8)]&&!_0x2b4956['waitingPoll_id']){let _0x1323e3=_0x2b4956[_0xf4d37d(0x386)][_0xf4d37d(0x512)](_0x1a4cb1=>_0x1a4cb1[_0xf4d37d(0x4f4)][_0xf4d37d(0x29e)]()===_0x76b65c[_0xf4d37d(0x2e8)][_0xf4d37d(0x29e)]())[_0xf4d37d(0x38a)]((_0x3aba0f,_0x6b93ac)=>_0x3aba0f[_0xf4d37d(0x546)]-_0x6b93ac['order']);_0x1323e3['length']>0x0&&(_0x56cab8=_0x1323e3[0x0]);}if(!_0x56cab8){let _0x38d361=_0x76b65c['groupId'],_0x31d962=_0x2b4956[_0xf4d37d(0x386)]['filter'](_0x2a53b8=>_0x2a53b8[_0xf4d37d(0x4f4)]===_0x38d361&&_0x2a53b8[_0xf4d37d(0x546)]>_0x76b65c['order'])[_0xf4d37d(0x38a)]((_0x33d0fb,_0x39d3ce)=>_0x33d0fb[_0xf4d37d(0x546)]-_0x39d3ce[_0xf4d37d(0x546)]);_0x31d962['length']>0x0&&(_0x56cab8=_0x31d962[0x0]);}if(!_0x56cab8)return _0x2b4956[_0xf4d37d(0x4c3)]=_0xf4d37d(0x518),null;_0x2b4956[_0xf4d37d(0x36b)][_0xf4d37d(0x2bc)]=_0x25ce21;let _0x2c6385=JSON['parse'](JSON['stringify'](_0x56cab8));return this[_0xf4d37d(0x642)](_0x2c6385,_0x2b4956[_0xf4d37d(0x36b)][_0xf4d37d(0x2bc)]),_0x2b4956[_0xf4d37d(0x36b)][_0xf4d37d(0x201)]=_0x2c6385['_id'],_0x2b4956[_0xf4d37d(0x36b)][_0xf4d37d(0x5cb)]=!0x0,_0x2c6385;}[a0_0x11dbb0(0x3d1)](_0x330cb3,_0x31973b){const _0x13012f=a0_0x11dbb0;return _0x330cb3[_0x13012f(0x1d9)](/\{\{([^}]+)\}\}/g,(_0x35dc83,_0x48927e)=>_0x31973b[_0x48927e]||'');}[a0_0x11dbb0(0x642)](_0x316fe4,_0x31f692){const _0x10736a=a0_0x11dbb0;for(let _0xbbbf8c in _0x316fe4)typeof _0x316fe4[_0xbbbf8c]=='string'?_0x316fe4[_0xbbbf8c]=this[_0x10736a(0x3d1)](_0x316fe4[_0xbbbf8c],_0x31f692):typeof _0x316fe4[_0xbbbf8c]==_0x10736a(0x368)&&this['replaceVariablesInObject'](_0x316fe4[_0xbbbf8c],_0x31f692);}async['goNextblock'](_0x413e61,_0xdb3e24){const _0x422bcf=a0_0x11dbb0;let _0x2ea921=_0xdb3e24[_0x422bcf(0x42d)];if(_0x413e61[_0x422bcf(0x36b)]&&_0x413e61[_0x422bcf(0x36b)]['blockLogs']){let _0x5cef03=_0x413e61['chatLog'][_0x422bcf(0x1ae)][_0x422bcf(0x512)](_0x215737=>String(_0x215737[_0x422bcf(0x3e8)])===String(_0x2ea921))[_0x422bcf(0x34c)]();if(_0x5cef03&&_0x5cef03['error']&&_0xdb3e24[_0x422bcf(0x1af)])return _0x413e61[_0x422bcf(0x4c3)]=_0x422bcf(0x518),await this[_0x422bcf(0x3f4)](_0x413e61),null;}if(_0xdb3e24['type']===_0x422bcf(0x4c9)&&(_0x413e61['chatLog'][_0x422bcf(0x201)]=_0x2ea921,await this[_0x422bcf(0x3f4)](_0x413e61)),_0xdb3e24[_0x422bcf(0x4d6)]===_0x422bcf(0x1b7)&&_0xdb3e24[_0x422bcf(0x1b7)]['command']===_0x422bcf(0x3ca)&&_0x413e61['waitingPoll_id'])return _0x413e61[_0x422bcf(0x36b)][_0x422bcf(0x201)]=_0x2ea921,await this['saveConversationToDatabase'](_0x413e61),null;let _0x527ebd=await this[_0x422bcf(0x160)](_0x413e61);if(_0x413e61[_0x422bcf(0x36b)]&&_0x413e61['chatLog'][_0x422bcf(0x1ae)]){let _0x54b1c1=_0x413e61[_0x422bcf(0x36b)]['blockLogs'][_0x422bcf(0x512)](_0x4ae41b=>String(_0x4ae41b['blockId'])===String(_0x2ea921))[_0x422bcf(0x125)];if(_0xdb3e24[_0x422bcf(0x487)]!==void 0x0&&_0x54b1c1>=_0xdb3e24[_0x422bcf(0x487)]){let _0x157e6c=Date[_0x422bcf(0x5e7)](),_0x3d36ee=_0xdb3e24[_0x422bcf(0x1e6)]??0xa;isNaN(_0x3d36ee)&&(_0x3d36ee=0xa);let _0xeb62e9=_0x157e6c+_0x3d36ee*0x3c*0x3e8,_0x2730d6={'newStoppedUntil':_0xeb62e9};return this[_0x422bcf(0x4c5)](_0x413e61,_0xeb62e9),this['updateConversation'](_0x413e61,_0xdb3e24,_0x2730d6,!0x0),null;}}_0x527ebd&&_0x527ebd['type']!==_0x422bcf(0x48a)&&await this['processblock'](_0x413e61,_0x527ebd,_0x413e61[_0x422bcf(0x2c5)]),_0x527ebd||await this['saveConversationToDatabase'](_0x413e61),_0x527ebd&&_0x527ebd[_0x422bcf(0x4d6)]==='save'&&(_0x413e61['chatLog'][_0x422bcf(0x201)]=_0x2ea921,await this[_0x422bcf(0x3f4)](_0x413e61));}async[a0_0x11dbb0(0x126)](_0x1ed9be,_0x5c538c,_0x59fe5f){const _0x4f58cb=a0_0x11dbb0;try{let _0x143417=_0x5c538c[_0x4f58cb(0x4d6)];this[_0x4f58cb(0x320)][_0x4f58cb(0x147)](this[_0x4f58cb(0x13c)]+'\x20('+this['instance'][_0x4f58cb(0x5f4)]+'):\x20Going\x20to\x20'+_0x143417);let _0x2d00d8={'uazapi':()=>this[_0x4f58cb(0x3d4)](_0x1ed9be,_0x5c538c,_0x59fe5f),'save':()=>this['saveTextReply'](_0x1ed9be,_0x5c538c),'stop':()=>this[_0x4f58cb(0x2b9)](_0x1ed9be,_0x5c538c),'condition':()=>this[_0x4f58cb(0x208)](_0x1ed9be,_0x5c538c),'varedit':()=>this['processvaredits'](_0x1ed9be,_0x5c538c),'apirequest':()=>this[_0x4f58cb(0x26e)](_0x1ed9be,_0x5c538c),'goToFlow':()=>this['processgoToFlow'](_0x1ed9be,_0x5c538c)}[_0x143417];_0x2d00d8&&await _0x2d00d8();}catch(_0x5abae2){this[_0x4f58cb(0x320)]['error'](this['instanceName']+'\x20('+this[_0x4f58cb(0x646)][_0x4f58cb(0x5f4)]+_0x4f58cb(0x38d)+_0x5abae2);}}async['processgoToFlow'](_0x4b83d3,_0x3607d5){const _0xb5307a=a0_0x11dbb0;if(this['logger'][_0xb5307a(0x147)](this[_0xb5307a(0x13c)]+'\x20('+this[_0xb5307a(0x646)][_0xb5307a(0x5f4)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x4b83d3||!_0x3607d5)return this[_0xb5307a(0x320)]['error'](this[_0xb5307a(0x13c)]+'\x20('+this[_0xb5307a(0x646)][_0xb5307a(0x5f4)]+_0xb5307a(0x279)),null;await this['updateConversation'](_0x4b83d3,_0x3607d5,{},!0x0,!0x0),console[_0xb5307a(0x3cd)](_0xb5307a(0x312)),console[_0xb5307a(0x3cd)](_0x3607d5);let _0x42fd19=_0x3607d5['goToFlow'];console[_0xb5307a(0x3cd)]('flowname:\x20',_0x42fd19),_0x4b83d3=await this[_0xb5307a(0x416)](_0x42fd19,_0x4b83d3['remoteJid'],_0x4b83d3['chatLog'][_0xb5307a(0x2bc)]),this[_0xb5307a(0x320)][_0xb5307a(0x147)](this[_0xb5307a(0x13c)]+'\x20('+this[_0xb5307a(0x646)][_0xb5307a(0x5f4)]+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x9aa4b0=await this[_0xb5307a(0x160)](_0x4b83d3);_0x9aa4b0&&await this[_0xb5307a(0x126)](_0x4b83d3,_0x9aa4b0,_0x4b83d3[_0xb5307a(0x2c5)]);}async['createConversationforgoToFlow'](_0x5e558b,_0x3cc5c6,_0x224eb9){const _0x407572=a0_0x11dbb0;this['logger'][_0x407572(0x147)](this[_0x407572(0x13c)]+'\x20('+this[_0x407572(0x646)][_0x407572(0x5f4)]+_0x407572(0x3cc));try{if(_0x5e558b=await D[_0x407572(0x5df)]({'owner':this[_0x407572(0x646)][_0x407572(0x5f4)],'name':_0x5e558b}),!_0x5e558b)return this[_0x407572(0x320)][_0x407572(0x162)](this[_0x407572(0x13c)]+'\x20('+this['instance'][_0x407572(0x5f4)]+_0x407572(0x46b)),null;let _0x1609cf=require(_0x407572(0xf0))[_0x407572(0x3ac)],_0x386a3a=Date[_0x407572(0x5e7)](),_0x2fe5a1='start',_0x434bbb={},_0x2bf0ac={},_0x19fcc1={..._0x5e558b[_0x407572(0x40a)],'chatLog':null},_0x187c36={'lastReceivedMessage':_0x434bbb,'lastSendMessage':_0x2bf0ac,'lastBlockId':_0x2fe5a1,'lastCondition':!0x0,'realVariables':_0x224eb9};_0x19fcc1[_0x407572(0x36b)]=_0x187c36,_0x19fcc1[_0x407572(0x36b)]['realVariables']={..._0x224eb9},delete _0x19fcc1['_id'],_0x19fcc1[_0x407572(0x42d)]=new _0x1609cf(),_0x19fcc1[_0x407572(0x11a)]=_0x386a3a,_0x19fcc1[_0x407572(0x4c3)]=_0x407572(0x130),_0x19fcc1['remoteJid']=_0x3cc5c6;let _0x5a1af0=await G['create'](_0x19fcc1);return this[_0x407572(0x320)][_0x407572(0x147)](this['instanceName']+'\x20('+this[_0x407572(0x646)][_0x407572(0x5f4)]+_0x407572(0x665)),_0x5a1af0?_0x19fcc1:null;}catch(_0x2d8031){throw this[_0x407572(0x320)][_0x407572(0x162)](this[_0x407572(0x13c)]+'\x20('+this['instance']['wuid']+_0x407572(0xee)+_0x2d8031),new m(_0x2d8031['message']);}}async[a0_0x11dbb0(0x26e)](_0x39cf3b,_0x36cbd1){const _0x2a90b7=a0_0x11dbb0;let _0x1153a2,_0x19c5de;try{let _0x40d04e=_0x36cbd1[_0x2a90b7(0x50e)];if(!_0x40d04e||!_0x40d04e['url']||!_0x40d04e[_0x2a90b7(0x574)])throw new Error(_0x2a90b7(0x5e0));let _0x5bcfdf={'method':_0x40d04e[_0x2a90b7(0x574)],'url':_0x40d04e[_0x2a90b7(0x12e)],'headers':_0x40d04e[_0x2a90b7(0x1ba)]||{},'data':_0x40d04e[_0x2a90b7(0x17a)]||{}};_0x1153a2=(await(0x0,ne[_0x2a90b7(0x2cc)])(_0x5bcfdf))[_0x2a90b7(0x254)];let _0x21ab90=_0x39cf3b[_0x2a90b7(0x36b)][_0x2a90b7(0x2bc)],_0x27ee22=this[_0x2a90b7(0x661)](_0x1153a2);return Object[_0x2a90b7(0x2f3)](_0x21ab90,_0x27ee22),_0x39cf3b[_0x2a90b7(0x36b)][_0x2a90b7(0x2bc)]=_0x21ab90,_0x19c5de={'error':!0x1,'apiResponse':_0x1153a2},this[_0x2a90b7(0x2c4)](_0x39cf3b,_0x36cbd1,_0x19c5de),_0x1153a2;}catch(_0x388fe3){console[_0x2a90b7(0x162)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x388fe3),_0x388fe3[_0x2a90b7(0x4fc)]&&(_0x1153a2=_0x388fe3[_0x2a90b7(0x4fc)][_0x2a90b7(0x254)]);let _0x32ea13=_0x39cf3b[_0x2a90b7(0x36b)]['realVariables'],_0x40d184=this[_0x2a90b7(0x661)](_0x1153a2);return Object[_0x2a90b7(0x2f3)](_0x32ea13,_0x40d184),_0x39cf3b[_0x2a90b7(0x36b)][_0x2a90b7(0x2bc)]=_0x32ea13,_0x19c5de={'error':!0x0,'errorLog':_0x388fe3[_0x2a90b7(0x29e)](),'apiResponse':_0x1153a2},this['updateConversation'](_0x39cf3b,_0x36cbd1,_0x19c5de),{'success':!0x1};}}[a0_0x11dbb0(0xfc)](_0xc75f35,_0x48010e){const _0x59c5ec=a0_0x11dbb0;let _0x5949bd=_0x5ae0f2=>{const _0x432ae=a0_0x4676;let _0x42361e=_0x5ae0f2['replace'](/[^0-9.,-]/g,'')[_0x432ae(0x1d9)](',','.'),_0x314e7c=parseFloat(_0x42361e);return isNaN(_0x314e7c)?null:_0x314e7c;},_0x1afced=_0x48010e[_0x59c5ec(0x629)],_0x1b3b46=_0x48010e[_0x59c5ec(0x302)];typeof _0x1afced==_0x59c5ec(0x314)&&(_0x1afced=this[_0x59c5ec(0x3d1)](_0x1afced,_0xc75f35[_0x59c5ec(0x36b)][_0x59c5ec(0x2bc)])??''),typeof _0x1b3b46=='string'&&(_0x1b3b46=this[_0x59c5ec(0x3d1)](_0x1b3b46,_0xc75f35['chatLog'][_0x59c5ec(0x2bc)])??'');let _0x46c354=null;if(!_0x1afced||!_0x48010e[_0x59c5ec(0x346)])return null;switch(this[_0x59c5ec(0x320)]['verbose'](this['instanceName']+'\x20('+this[_0x59c5ec(0x646)][_0x59c5ec(0x5f4)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x1afced),this[_0x59c5ec(0x320)][_0x59c5ec(0x147)](this[_0x59c5ec(0x13c)]+'\x20('+this[_0x59c5ec(0x646)][_0x59c5ec(0x5f4)]+_0x59c5ec(0x559)+_0x1b3b46),_0x48010e[_0x59c5ec(0x346)]){case'+':case'-':case'*':case'/':let _0x11c51f=_0x5949bd(_0x1afced),_0x1a8dbe=_0x5949bd(_0x1b3b46||'0');if(_0x11c51f===null)return null;switch(_0x48010e[_0x59c5ec(0x346)]){case'+':_0x46c354=_0x11c51f+(_0x1a8dbe??0x0);break;case'-':_0x46c354=_0x11c51f-(_0x1a8dbe??0x0);break;case'*':_0x46c354=_0x11c51f*(_0x1a8dbe??0x1);break;case'/':_0x1a8dbe!==0x0&&(_0x46c354=_0x11c51f/(_0x1a8dbe??0x1));break;}break;case _0x59c5ec(0x65f):case'findAndReplaceRegex':let _0x3e3e6d=_0x1b3b46,_0x42c4fd=_0x48010e[_0x59c5ec(0x2c7)];if(typeof _0x42c4fd==_0x59c5ec(0x314)&&(_0x42c4fd=this[_0x59c5ec(0x3d1)](_0x42c4fd,_0xc75f35[_0x59c5ec(0x36b)][_0x59c5ec(0x2bc)])??''),_0x3e3e6d&&_0x42c4fd!==void 0x0){let _0x2d28a1=_0x48010e[_0x59c5ec(0x346)]==='findAndReplace'?new RegExp(_0x3e3e6d[_0x59c5ec(0x1d9)](/[-\/\\^$*+?.()|[\]{}]/g,_0x59c5ec(0x391)),'g'):new RegExp(_0x3e3e6d,'g');_0x46c354=_0x1afced['replace'](_0x2d28a1,_0x42c4fd);}else console['warn'](_0x59c5ec(0x5eb));break;case _0x59c5ec(0x30f):_0x46c354=_0x1b3b46;break;case'extractRegex':let _0x108e5b=_0x1afced['match'](new RegExp(_0x1b3b46||''));_0x46c354=_0x108e5b?_0x108e5b[0x0]:'';break;case _0x59c5ec(0x66d):_0x46c354=_0x1afced[_0x59c5ec(0x2c0)](0x0,parseInt(_0x1b3b46||'0'));break;case _0x59c5ec(0x556):let _0x661078=parseInt(_0x1b3b46||'0');_0x46c354=_0x1afced[_0x59c5ec(0x2c0)](_0x1afced[_0x59c5ec(0x125)]-_0x661078);break;case _0x59c5ec(0x2d7):let _0x198185=_0x5949bd(_0x1afced),_0xcf26a7=parseInt(_0x1b3b46||'0');_0xcf26a7=Math[_0x59c5ec(0x349)](_0xcf26a7),_0x198185!==null?_0x46c354=_0x198185[_0x59c5ec(0xfa)](_0x59c5ec(0x259),{'minimumFractionDigits':_0xcf26a7,'maximumFractionDigits':_0xcf26a7}):(console['warn'](_0x59c5ec(0x352)+_0x1afced),_0x46c354=null);break;case _0x59c5ec(0x676):let _0x434e6a=_0x5949bd(_0x1afced);_0x434e6a!==null?_0x46c354=_0x434e6a[_0x59c5ec(0xfa)]('pt-BR',{'style':_0x59c5ec(0x3c7),'currency':_0x59c5ec(0x119)}):(console[_0x59c5ec(0x449)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x1afced),_0x46c354=null);break;case _0x59c5ec(0x52f):_0x46c354=_0x1afced[_0x59c5ec(0x42e)]();break;case _0x59c5ec(0xe1):_0x46c354=_0x1afced[_0x59c5ec(0x42f)]();break;case _0x59c5ec(0x488):_0x46c354=_0x1afced[_0x59c5ec(0xe0)]('\x20')[_0x59c5ec(0x360)](_0x1109a7=>_0x1109a7[_0x59c5ec(0x3d0)](0x0)[_0x59c5ec(0x42e)]()+_0x1109a7['slice'](0x1)[_0x59c5ec(0x42f)]())[_0x59c5ec(0x140)]('\x20');break;case _0x59c5ec(0x329):_0x46c354=_0x1afced[_0x59c5ec(0x294)]();break;default:_0x46c354=_0x1afced;}return _0x46c354!==null?_0x46c354[_0x59c5ec(0x29e)]():null;}async[a0_0x11dbb0(0xe5)](_0x274285,_0x1d9f4e){const _0x3f56bd=a0_0x11dbb0;try{let _0x4b170f=_0x274285['varedits']?.[_0x3f56bd(0x512)](_0x269fa6=>_0x269fa6[_0x3f56bd(0x3e8)]===_0x1d9f4e[_0x3f56bd(0x42d)]?.[_0x3f56bd(0x29e)]())||[],_0x993a2=_0x1d9f4e['saveVariable'],_0x288238=null,_0x2b7d2a=[],_0x5ddd50=_0x274285[_0x3f56bd(0x36b)][_0x3f56bd(0x2bc)][_0x993a2];_0x2b7d2a[_0x3f56bd(0x17b)](_0x3f56bd(0x635)+_0x5ddd50+'\x22');for(let _0x4233fe of _0x4b170f){_0x4233fe[_0x3f56bd(0x629)]=_0x5ddd50,_0x288238=_0x4233fe[_0x3f56bd(0x629)];let _0x17befd;try{_0x17befd=this[_0x3f56bd(0xfc)](_0x274285,_0x4233fe);}catch(_0x435698){console['error']('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x435698['message']);continue;}if(_0x17befd!==null){let _0x4467c7=_0x3f56bd(0x5fa)+_0x4233fe['editOperator']+'\x22',_0x2694d5=[_0x3f56bd(0x676),_0x3f56bd(0x52f),'lowerCase',_0x3f56bd(0x488),_0x3f56bd(0x329)];_0x4233fe[_0x3f56bd(0x346)]===_0x3f56bd(0x65f)||_0x4233fe[_0x3f56bd(0x346)]===_0x3f56bd(0x493)?_0x4467c7+=_0x3f56bd(0x224)+_0x4233fe[_0x3f56bd(0x302)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x4233fe[_0x3f56bd(0x2c7)]+'\x22':!_0x2694d5[_0x3f56bd(0x1e2)](_0x4233fe['editOperator'])&&_0x4233fe['secondValue']!==null&&_0x4233fe[_0x3f56bd(0x302)]!==void 0x0&&(_0x4467c7+=',\x20valor\x20passado:\x20\x22'+_0x4233fe[_0x3f56bd(0x302)]+'\x22'),_0x4467c7+=',\x20resultado:\x20'+_0x17befd+'.',_0x2b7d2a[_0x3f56bd(0x17b)](_0x4467c7);}_0x17befd!==null&&(_0x5ddd50=_0x17befd);}if(_0x274285[_0x3f56bd(0x36b)][_0x3f56bd(0x2bc)]&&_0x1d9f4e['saveVariable']){_0x274285[_0x3f56bd(0x36b)][_0x3f56bd(0x2bc)][_0x1d9f4e[_0x3f56bd(0x293)]]=_0x5ddd50;let _0x2b87d8={'variable':_0x1d9f4e[_0x3f56bd(0x293)],'oldValue':_0x288238,'newValue':_0x5ddd50,'moreLogs':_0x2b7d2a};try{this[_0x3f56bd(0x2c4)](_0x274285,_0x1d9f4e,_0x2b87d8);}catch(_0x29bc7d){console[_0x3f56bd(0x162)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x29bc7d[_0x3f56bd(0x2cb)]);}}return _0x993a2;}catch(_0x35657d){return console['error'](_0x3f56bd(0x5ec)+_0x35657d[_0x3f56bd(0x2cb)]),null;}}async[a0_0x11dbb0(0x208)](_0x3cddbe,_0x2ba317){const _0x2a4ce5=a0_0x11dbb0;try{let _0x221911=[],_0x115538=_0x3cddbe['conditions'][_0x2a4ce5(0x512)](_0x4e6570=>_0x4e6570['blockId']===_0x2ba317['_id']['toString']()),_0x2f3659=!0x0,_0x3f6157=null;for(let _0x5a9b0f of _0x115538){let _0x599e90=this[_0x2a4ce5(0x608)](_0x3cddbe,_0x5a9b0f);if(_0x221911[_0x2a4ce5(0x17b)](_0x2a4ce5(0x40e)+_0x5a9b0f['firstValue']+_0x2a4ce5(0x15a)+_0x5a9b0f[_0x2a4ce5(0x38c)]+',\x20Segundo\x20Valor:\x20'+_0x5a9b0f[_0x2a4ce5(0x302)]+_0x2a4ce5(0x45d)+_0x599e90),_0x3f6157===null)_0x2f3659=_0x599e90;else{if(_0x3f6157==='or'&&_0x599e90){_0x2f3659=!0x0;break;}else{if(_0x3f6157===_0x2a4ce5(0x2cf)&&!_0x599e90){_0x2f3659=!0x1;break;}}}_0x3f6157=_0x5a9b0f[_0x2a4ce5(0x1b9)];}let _0x24a05={'moreLogs':_0x221911};_0x2f3659?(_0x3cddbe[_0x2a4ce5(0x36b)][_0x2a4ce5(0x5cb)]=!0x0,this[_0x2a4ce5(0x2c4)](_0x3cddbe,_0x2ba317,_0x24a05)):(_0x3cddbe[_0x2a4ce5(0x36b)][_0x2a4ce5(0x5cb)]=!0x1,_0x24a05[_0x2a4ce5(0x1a9)]=_0x221911,this[_0x2a4ce5(0x2c4)](_0x3cddbe,_0x2ba317,_0x24a05));}catch(_0xb4ecc2){this[_0x2a4ce5(0x320)]['error'](this[_0x2a4ce5(0x13c)]+'\x20('+this['instance'][_0x2a4ce5(0x5f4)]+_0x2a4ce5(0x114)+_0xb4ecc2);}}[a0_0x11dbb0(0x608)](_0x23df04,_0x5888ad){const _0x2bb1f4=a0_0x11dbb0;let _0xaafa3e=_0x5888ad['firstValue'],_0x2fa5c6=_0x5888ad[_0x2bb1f4(0x302)];typeof _0xaafa3e=='string'&&(_0xaafa3e=this[_0x2bb1f4(0x3d1)](_0xaafa3e,_0x23df04[_0x2bb1f4(0x36b)][_0x2bb1f4(0x2bc)])??''),typeof _0x2fa5c6==_0x2bb1f4(0x314)&&(_0x2fa5c6=this[_0x2bb1f4(0x3d1)](_0x2fa5c6,_0x23df04[_0x2bb1f4(0x36b)][_0x2bb1f4(0x2bc)])??'');try{switch(_0x5888ad['expression']){case'equal':return _0xaafa3e===_0x2fa5c6;case _0x2bb1f4(0x49e):return _0xaafa3e!==_0x2fa5c6;case _0x2bb1f4(0x515):return _0xaafa3e[_0x2bb1f4(0x1e2)](_0x2fa5c6);case _0x2bb1f4(0x522):return!_0xaafa3e[_0x2bb1f4(0x1e2)](_0x2fa5c6);case _0x2bb1f4(0x22a):return parseFloat(_0xaafa3e)>parseFloat(_0x2fa5c6);case _0x2bb1f4(0x4ee):return parseFloat(_0xaafa3e)<parseFloat(_0x2fa5c6);case'notEmpty':return _0xaafa3e!=='';case _0x2bb1f4(0x290):return _0xaafa3e==='';case _0x2bb1f4(0x474):return new RegExp(_0x2fa5c6)[_0x2bb1f4(0x29c)](_0xaafa3e);case _0x2bb1f4(0x21b):return!new RegExp(_0x2fa5c6)[_0x2bb1f4(0x29c)](_0xaafa3e);default:return!0x1;}}catch(_0x5b6425){return console[_0x2bb1f4(0x162)](_0x2bb1f4(0x548)+_0x5b6425),!0x1;}}['processConditionsTest'](_0x3b3e50){const _0x367cd7=a0_0x11dbb0;let _0x54553c=!0x0,_0x3c55cf=null;for(let _0x26864d of _0x3b3e50){let _0x2af645=this[_0x367cd7(0x2b6)](_0x26864d);if(_0x3c55cf==='or'&&_0x2af645){_0x54553c=!0x0;break;}if(_0x3c55cf===_0x367cd7(0x2cf)&&!_0x2af645){_0x54553c=!0x1;break;}_0x3c55cf=_0x26864d[_0x367cd7(0x1b9)];}return _0x54553c;}[a0_0x11dbb0(0x2b6)](_0x5c9525){const _0x236008=a0_0x11dbb0;let _0x39a89e=_0x5c9525[_0x236008(0x629)],_0x623f38=_0x5c9525[_0x236008(0x302)];try{switch(_0x5c9525[_0x236008(0x38c)]){case'equal':return String(_0x39a89e)===String(_0x623f38);case _0x236008(0x49e):return String(_0x39a89e)!==String(_0x623f38);case'contains':return String(_0x39a89e)[_0x236008(0x1e2)](String(_0x623f38));case _0x236008(0x522):return!String(_0x39a89e)['includes'](String(_0x623f38));case'greater':return parseFloat(String(_0x39a89e))>parseFloat(String(_0x623f38));case'less':return parseFloat(String(_0x39a89e))<parseFloat(String(_0x623f38));case _0x236008(0x2fb):return String(_0x39a89e)!=='';case _0x236008(0x290):return String(_0x39a89e)==='';case _0x236008(0x474):return new RegExp(String(_0x623f38))[_0x236008(0x29c)](String(_0x39a89e));case _0x236008(0x21b):return!new RegExp(String(_0x623f38))[_0x236008(0x29c)](String(_0x39a89e));default:return!0x1;}}catch(_0x274b6a){return console[_0x236008(0x162)](_0x236008(0x548)+_0x274b6a),!0x1;}}async[a0_0x11dbb0(0x5ee)](_0xa5f7d5,_0x3749b7){const _0x5b0714=a0_0x11dbb0;if(this[_0x5b0714(0x320)][_0x5b0714(0x147)](this['instanceName']+'\x20('+this[_0x5b0714(0x646)]['wuid']+_0x5b0714(0x182)),!_0xa5f7d5||!_0x3749b7)return this[_0x5b0714(0x320)][_0x5b0714(0x162)](this[_0x5b0714(0x13c)]+'\x20('+this[_0x5b0714(0x646)][_0x5b0714(0x5f4)]+_0x5b0714(0x279)),null;let _0x5544e4=_0x3749b7[_0x5b0714(0x293)],_0x5a309b=_0xa5f7d5[_0x5b0714(0x36b)][_0x5b0714(0x306)][_0x5b0714(0x652)]||_0xa5f7d5[_0x5b0714(0x36b)][_0x5b0714(0x306)]['caption']||_0xa5f7d5['chatLog']['lastReceivedMessage'][_0x5b0714(0x4fb)];try{_0xa5f7d5['chatLog'][_0x5b0714(0x2bc)]||(_0xa5f7d5[_0x5b0714(0x36b)]['realVariables']={});let _0x276297=_0xa5f7d5[_0x5b0714(0x36b)][_0x5b0714(0x2bc)][_0x5544e4];_0xa5f7d5[_0x5b0714(0x36b)][_0x5b0714(0x2bc)][_0x5544e4]=_0x5a309b;let _0x57fb50={'variable':_0x5544e4,'oldValue':_0x276297,'newValue':_0x5a309b};this[_0x5b0714(0x2c4)](_0xa5f7d5,_0x3749b7,_0x57fb50),this[_0x5b0714(0x320)][_0x5b0714(0x147)](this['instanceName']+'\x20('+this[_0x5b0714(0x646)][_0x5b0714(0x5f4)]+_0x5b0714(0x25e));}catch(_0x45ebf3){let _0x48268c={'error':!0x0,'errorLog':_0x45ebf3[_0x5b0714(0x29e)]()};return this[_0x5b0714(0x2c4)](_0xa5f7d5,_0x3749b7,_0x48268c),this[_0x5b0714(0x320)][_0x5b0714(0x162)](this['instanceName']+'\x20('+this[_0x5b0714(0x646)][_0x5b0714(0x5f4)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+_0x45ebf3[_0x5b0714(0x2cb)]),null;}}async[a0_0x11dbb0(0x2b9)](_0x1bc023,_0x2e7e2f){const _0x2e8101=a0_0x11dbb0;if(this[_0x2e8101(0x320)][_0x2e8101(0x147)](this[_0x2e8101(0x13c)]+'\x20('+this[_0x2e8101(0x646)][_0x2e8101(0x5f4)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x1bc023||!_0x2e7e2f)return this['logger'][_0x2e8101(0x162)](this[_0x2e8101(0x13c)]+'\x20('+this[_0x2e8101(0x646)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x448f60=Date['now'](),_0x38537b=parseInt(_0x2e7e2f[_0x2e8101(0x270)],0xa);if(isNaN(_0x38537b))return this[_0x2e8101(0x320)][_0x2e8101(0x162)](this['instanceName']+'\x20('+this[_0x2e8101(0x646)][_0x2e8101(0x5f4)]+_0x2e8101(0x432)),null;let _0x55e1b7=_0x448f60+_0x38537b*0x3c*0x3e8,_0x1ea150={'newStoppedUntil':_0x55e1b7};return this['updateChat'](_0x1bc023,_0x55e1b7),this['updateConversation'](_0x1bc023,_0x2e7e2f,_0x1ea150),null;}async[a0_0x11dbb0(0x3d4)](_0x3b0ef1,_0x1579cb,_0x3ade54){const _0x58405f=a0_0x11dbb0;try{switch(_0x1579cb[_0x58405f(0x1b7)]['command']){case'sendText':await this[_0x58405f(0x434)](_0x3b0ef1,_0x1579cb,_0x3ade54);break;case _0x58405f(0x49d):await this['uazapiSendMedia'](_0x3b0ef1,_0x1579cb,_0x3ade54);break;case _0x58405f(0x292):await this[_0x58405f(0x519)](_0x3b0ef1,_0x1579cb,_0x3ade54);break;case'sendAudio':await this['uazapiSendAudio'](_0x3b0ef1,_0x1579cb,_0x3ade54);break;case'sendContact':await this[_0x58405f(0x58d)](_0x3b0ef1,_0x1579cb,_0x3ade54);break;case _0x58405f(0x3ca):await this[_0x58405f(0xe7)](_0x3b0ef1,_0x1579cb,_0x3ade54);break;case'deleteMessage':await this[_0x58405f(0x328)](_0x3b0ef1,_0x1579cb,_0x3ade54);break;default:this[_0x58405f(0x320)]['error'](this[_0x58405f(0x13c)]+'\x20('+this[_0x58405f(0x646)][_0x58405f(0x5f4)]+_0x58405f(0x27f)+_0x1579cb[_0x58405f(0x1b7)]['command']);}}catch(_0x47b756){this[_0x58405f(0x320)][_0x58405f(0x162)](this['instanceName']+'\x20('+this[_0x58405f(0x646)][_0x58405f(0x5f4)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+_0x47b756);}}async['updateConversation'](_0x594fe6,_0x247fbb,_0x31ee2c,_0x2f61e2=!0x1,_0x3d5941=!0x1){const _0x528870=a0_0x11dbb0;_0x594fe6['chatLog']['blockLogs']||(_0x594fe6[_0x528870(0x36b)]['blockLogs']=[]);let _0x5a86d7=(_0x594fe6[_0x528870(0x36b)][_0x528870(0x1ae)]?.[_0x528870(0x125)]??0x0)+0x1,_0x5c135b=_0x594fe6[_0x528870(0x36b)][_0x528870(0x1ae)]['filter'](_0x57aa40=>String(_0x57aa40[_0x528870(0x3e8)])===String(_0x247fbb[_0x528870(0x42d)]))[_0x528870(0x125)]+0x1,_0x53775e=_0x31ee2c?.['onTime']??Date[_0x528870(0x5e7)](),_0x2944d7=_0x31ee2c?.[_0x528870(0x162)]?_0x31ee2c[_0x528870(0x3c0)]??_0x31ee2c[_0x528870(0x162)]['toString']():void 0x0,_0x4eb96a={'onTime':_0x53775e,'blockId':_0x247fbb[_0x528870(0x42d)],'order':_0x5a86d7,'activatedCount':_0x5c135b,'error':_0x31ee2c?.[_0x528870(0x162)]??!0x1,'messageId':_0x31ee2c?.['messageId'],'apiResponse':_0x31ee2c?.[_0x528870(0x367)],'apiResponseString':_0x31ee2c?.['apiResponse']?JSON[_0x528870(0x5db)](_0x31ee2c?.[_0x528870(0x367)]):void 0x0,'variable':_0x31ee2c?.[_0x528870(0x2ca)],'oldValue':_0x31ee2c?.[_0x528870(0x3a9)],'newValue':_0x31ee2c?.[_0x528870(0x457)],'newStoppedUntil':_0x31ee2c?.[_0x528870(0x43c)],'moreLogs':_0x31ee2c?.[_0x528870(0x1a9)],'errorLog':_0x2944d7};if(_0x31ee2c[_0x528870(0x1a9)]&&_0x31ee2c[_0x528870(0x1a9)][_0x528870(0x125)]>0x0){let _0x35f090=_0x31ee2c['moreLogs'][_0x528870(0x360)](_0x32be3d=>this[_0x528870(0x3d3)](_0x32be3d,_0x594fe6[_0x528870(0x36b)][_0x528870(0x2bc)]));_0x4eb96a[_0x528870(0x1a9)]=_0x35f090;}_0x594fe6[_0x528870(0x36b)][_0x528870(0x2bc)]||(_0x594fe6[_0x528870(0x36b)][_0x528870(0x2bc)]={}),_0x594fe6['chatLog']['realVariables'][_0x528870(0x183)]=String(_0x5c135b),_0x594fe6[_0x528870(0x36b)][_0x528870(0x2bc)][_0x528870(0x671)]=String(_0x31ee2c[_0x528870(0x162)]??!0x1),_0x594fe6[_0x528870(0x36b)][_0x528870(0x1ae)][_0x528870(0x17b)](_0x4eb96a),_0x594fe6['chatLog'][_0x528870(0x201)]=_0x247fbb[_0x528870(0x42d)][_0x528870(0x29e)](),_0x594fe6[_0x528870(0x36b)][_0x528870(0x1f4)]&&(_0x594fe6[_0x528870(0x36b)][_0x528870(0x1f4)]=_0x594fe6[_0x528870(0x36b)][_0x528870(0x1f4)]),_0x594fe6[_0x528870(0x36b)][_0x528870(0x306)]&&(_0x594fe6[_0x528870(0x36b)]['lastReceivedMessage']=_0x594fe6[_0x528870(0x36b)][_0x528870(0x306)]),_0x594fe6['chatLog'][_0x528870(0x5cb)]&&(_0x594fe6[_0x528870(0x36b)][_0x528870(0x5cb)]=_0x594fe6[_0x528870(0x36b)][_0x528870(0x5cb)]),_0x3d5941&&(_0x594fe6[_0x528870(0x4c3)]=_0x528870(0x518)),_0x2f61e2?this[_0x528870(0x3f4)](_0x594fe6):this[_0x528870(0x659)](_0x594fe6,_0x247fbb);}[a0_0x11dbb0(0x3d3)](_0x5f1f0f,_0x2af0be){const _0xd19484=a0_0x11dbb0;return _0x5f1f0f[_0xd19484(0x1d9)](/\{\{([^}]+)\}\}/g,(_0x2ab667,_0x31ff22)=>_0x2af0be[_0x31ff22]?'{{'+_0x31ff22+_0xd19484(0x5e2)+_0x2af0be[_0x31ff22]+'\x22':'{{'+_0x31ff22+_0xd19484(0x24c));}async[a0_0x11dbb0(0x3f4)](_0xd036aa){const _0x5b471c=a0_0x11dbb0;try{let _0x2a8f1a=Object['entries'](_0xd036aa['chatLog'][_0x5b471c(0x2bc)])[_0x5b471c(0x360)](([_0x35be89,_0x56a6df])=>({'name':_0x35be89,'value':_0x56a6df})),_0x14cd1d=[_0x5b471c(0x2ab),_0x5b471c(0xff),_0x5b471c(0x53b),_0x5b471c(0x626),'status',_0x5b471c(0x4b1),_0x5b471c(0x148),'tags'];if(!this['AutomateSystem']&&(await this[_0x5b471c(0x22b)](),!this[_0x5b471c(0x27b)]))throw new Error(_0x5b471c(0x4c2));let _0x47499c=this['AutomateSystem'][_0x5b471c(0x590)][_0x5b471c(0x360)](_0x2d79f0=>_0x2d79f0['name']),_0x410238={};Object['entries'](_0xd036aa[_0x5b471c(0x36b)][_0x5b471c(0x2bc)])['forEach'](([_0x4a737f,_0x9e77e3])=>{const _0x32013c=_0x5b471c;_0x14cd1d[_0x32013c(0x1e2)](_0x4a737f)&&(_0x4a737f==='tags'&&typeof _0x9e77e3==_0x32013c(0x314)?_0x410238[_0x4a737f]=_0x9e77e3[_0x32013c(0xe0)](',\x20'):_0x410238[_0x4a737f]=_0x9e77e3);});let _0x4bb74a=_0x2a8f1a[_0x5b471c(0x512)](_0x2cabdb=>_0x47499c['includes'](_0x2cabdb[_0x5b471c(0x36c)]));this[_0x5b471c(0x320)][_0x5b471c(0x147)](this[_0x5b471c(0x13c)]+'\x20('+this[_0x5b471c(0x646)][_0x5b471c(0x5f4)]+_0x5b471c(0x4ae)),this['logger'][_0x5b471c(0x147)](_0x410238),this[_0x5b471c(0x320)]['verbose'](this[_0x5b471c(0x13c)]+'\x20('+this[_0x5b471c(0x646)]['wuid']+_0x5b471c(0x2df)),this[_0x5b471c(0x320)][_0x5b471c(0x147)](_0x4bb74a);let _0x39e293=_0x4bb74a[_0x5b471c(0x360)](_0x5595d9=>{const _0x1fbf0d=_0x5b471c;let _0x1b20c3=this['AutomateSystem'][_0x1fbf0d(0x590)][_0x1fbf0d(0x467)](_0x26e711=>_0x26e711[_0x1fbf0d(0x36c)]===_0x5595d9[_0x1fbf0d(0x36c)]);if(!_0x1b20c3)throw new Error(_0x1fbf0d(0x189)+_0x5595d9[_0x1fbf0d(0x36c)]);return{'_id':_0x1b20c3[_0x1fbf0d(0x42d)],'value':_0x5595d9['value']};});this[_0x5b471c(0x320)]['verbose'](this[_0x5b471c(0x13c)]+'\x20('+this['instance'][_0x5b471c(0x5f4)]+_0x5b471c(0x540)),this[_0x5b471c(0x320)][_0x5b471c(0x147)](_0x39e293);let _0x612f50=await G[_0x5b471c(0x281)]({'_id':_0xd036aa[_0x5b471c(0x42d)]},{'$set':{'chatLog.lastBlockId':_0xd036aa[_0x5b471c(0x36b)]['lastBlockId'],'blocks':_0xd036aa[_0x5b471c(0x386)],'chatLog.lastSendMessage':_0xd036aa[_0x5b471c(0x36b)][_0x5b471c(0x1f4)],'chatLog.lastReceivedMessage':_0xd036aa[_0x5b471c(0x36b)][_0x5b471c(0x306)],'chatLog.chatVariables':_0x2a8f1a,'chatLog.realVariables':_0xd036aa[_0x5b471c(0x36b)][_0x5b471c(0x2bc)],'status':_0xd036aa[_0x5b471c(0x4c3)],'chatLog.blockLogs':_0xd036aa[_0x5b471c(0x36b)][_0x5b471c(0x1ae)],'waitingPoll_id':_0xd036aa['waitingPoll_id'],'waitingPoll_name':_0xd036aa[_0x5b471c(0x1d3)],'waitingPoll_replyOptions':_0xd036aa[_0x5b471c(0x66c)]}},{'new':!0x0});if(_0x612f50){this[_0x5b471c(0x320)]['verbose'](this[_0x5b471c(0x13c)]+'\x20('+this[_0x5b471c(0x646)][_0x5b471c(0x5f4)]+_0x5b471c(0x5c7)+_0x612f50[_0x5b471c(0x42d)]);let _0x1b5832=await M[_0x5b471c(0x281)]({'id':_0xd036aa[_0x5b471c(0x2c5)],'owner':this[_0x5b471c(0x646)][_0x5b471c(0x5f4)]},{'$set':{'leadInfo.nome':_0x410238[_0x5b471c(0x2ab)],'leadInfo.nomecompleto':_0x410238['nomecompleto'],'leadInfo.email':_0x410238[_0x5b471c(0x53b)],'leadInfo.cpf':_0x410238[_0x5b471c(0x626)],'leadInfo.status':_0x410238[_0x5b471c(0x4c3)],'leadInfo.notas':_0x410238[_0x5b471c(0x4b1)],'leadInfo.responsavelid':_0x410238[_0x5b471c(0x148)],'leadInfo.tags':_0x410238[_0x5b471c(0x482)],'leadInfo.customFields':_0x39e293}},{'new':!0x0,'upsert':!0x0});_0x1b5832?this['logger'][_0x5b471c(0x147)](this[_0x5b471c(0x13c)]+'\x20('+this[_0x5b471c(0x646)][_0x5b471c(0x5f4)]+_0x5b471c(0x252)+_0x1b5832[_0x5b471c(0x42d)]):this[_0x5b471c(0x320)][_0x5b471c(0x162)](this['instanceName']+'\x20('+this[_0x5b471c(0x646)][_0x5b471c(0x5f4)]+_0x5b471c(0x60f));}else this[_0x5b471c(0x320)]['error'](this[_0x5b471c(0x13c)]+'\x20('+this['instance'][_0x5b471c(0x5f4)]+_0x5b471c(0x662));}catch(_0x294b0c){this[_0x5b471c(0x320)][_0x5b471c(0x162)](this[_0x5b471c(0x13c)]+'\x20('+this[_0x5b471c(0x646)][_0x5b471c(0x5f4)]+_0x5b471c(0x674)+JSON[_0x5b471c(0x5db)](_0x294b0c));}}async[a0_0x11dbb0(0x4c5)](_0xc30cac,_0x2aef17){const _0x5c1848=a0_0x11dbb0;try{await M[_0x5c1848(0x281)]({'id':_0xc30cac[_0x5c1848(0x2c5)],'owner':_0xc30cac[_0x5c1848(0x3e6)]},{'$set':{'desativadoFluxoAte':_0x2aef17}}),this[_0x5c1848(0x320)][_0x5c1848(0x147)](this[_0x5c1848(0x13c)]+'\x20('+this[_0x5c1848(0x646)]['wuid']+_0x5c1848(0x2ec)+_0xc30cac['_id']);}catch(_0x36b340){this[_0x5c1848(0x320)][_0x5c1848(0x162)](this['instanceName']+'\x20('+this[_0x5c1848(0x646)][_0x5c1848(0x5f4)]+_0x5c1848(0x615)+JSON[_0x5c1848(0x5db)](_0x36b340));}}async['findFlow'](_0x106c97,_0x285c6d){const _0xd9c074=a0_0x11dbb0;try{this[_0xd9c074(0x320)][_0xd9c074(0x147)](this[_0xd9c074(0x13c)]+'\x20('+this[_0xd9c074(0x646)]['wuid']+_0xd9c074(0x675));let _0x1551f1=_0x285c6d[_0xd9c074(0x1d9)](/\D/g,''),_0x24c354=await D[_0xd9c074(0x5df)]({'owner':_0x106c97,'testingWith':_0x1551f1});return _0x24c354||(this[_0xd9c074(0x320)][_0xd9c074(0x147)](this[_0xd9c074(0x13c)]+'\x20('+this[_0xd9c074(0x646)][_0xd9c074(0x5f4)]+_0xd9c074(0x4f1)),_0x24c354=await D['findOne']({'owner':_0x106c97,'default':!0x0})),_0x24c354||(this[_0xd9c074(0x320)]['verbose'](this[_0xd9c074(0x13c)]+'\x20('+this[_0xd9c074(0x646)][_0xd9c074(0x5f4)]+_0xd9c074(0x17e)),null);}catch(_0x3af326){return this['logger'][_0xd9c074(0x162)](this[_0xd9c074(0x13c)]+'\x20('+this[_0xd9c074(0x646)][_0xd9c074(0x5f4)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x3af326),null;}}async['findConversation'](_0x499c84,_0x5b6113,_0x4460cb){const _0x4243f2=a0_0x11dbb0;try{let _0x4de22a=!!_0x4460cb['vote'],_0x2bdeef=_0x4460cb[_0x4243f2(0x291)],_0x56cb67=null;if(this[_0x4243f2(0x320)][_0x4243f2(0x147)](this[_0x4243f2(0x13c)]+'\x20('+this[_0x4243f2(0x646)]['wuid']+'):\x20isVote'+_0x4de22a+_0x4243f2(0x291)+_0x2bdeef),_0x4de22a)return this[_0x4243f2(0x320)][_0x4243f2(0x147)](this['instanceName']+'\x20('+this[_0x4243f2(0x646)][_0x4243f2(0x5f4)]+_0x4243f2(0x459)),_0x56cb67=await G['findOne']({'owner':_0x499c84,'remoteJid':_0x5b6113,'waitingPoll_id':_0x2bdeef}),_0x56cb67?(_0x56cb67['lastInteraction']=Date['now'](),_0x56cb67[_0x4243f2(0x36b)][_0x4243f2(0x306)]=_0x4460cb,_0x56cb67):(this[_0x4243f2(0x320)]['verbose'](this[_0x4243f2(0x13c)]+'\x20('+this['instance'][_0x4243f2(0x5f4)]+_0x4243f2(0x48d)),null);{if(this['logger'][_0x4243f2(0x147)](this[_0x4243f2(0x13c)]+'\x20('+this[_0x4243f2(0x646)]['wuid']+'):\x20'+this[_0x4243f2(0x646)]['wuid']+_0x4243f2(0x214)),this[_0x4243f2(0x320)][_0x4243f2(0x147)](this['instanceName']+'\x20('+this[_0x4243f2(0x646)][_0x4243f2(0x5f4)]+_0x4243f2(0x63d)),_0x56cb67=await G[_0x4243f2(0x5df)]({'owner':_0x499c84,'remoteJid':_0x5b6113,'status':_0x4243f2(0x130)}),!_0x56cb67){let _0x231c34=await this[_0x4243f2(0x30a)](_0x499c84,_0x5b6113);if(_0x231c34&&(_0x56cb67=await this[_0x4243f2(0x2f4)](_0x231c34,_0x4460cb[_0x4243f2(0x24a)],_0x4460cb)),!_0x56cb67)return null;}let _0x1b7298=Date[_0x4243f2(0x5e7)](),_0x28d39b=_0x56cb67?.[_0x4243f2(0x167)]||0x0,_0x211a7e=_0x1b7298-_0x28d39b*0x3c*0x3e8;if(this[_0x4243f2(0x320)]['verbose'](this[_0x4243f2(0x13c)]+'\x20('+this[_0x4243f2(0x646)][_0x4243f2(0x5f4)]+_0x4243f2(0x523)+_0x1b7298+_0x4243f2(0x4bb)+_0x28d39b+_0x4243f2(0x17d)+_0x211a7e),this[_0x4243f2(0x320)][_0x4243f2(0x147)](this[_0x4243f2(0x13c)]+'\x20('+this[_0x4243f2(0x646)][_0x4243f2(0x5f4)]+_0x4243f2(0x4f7)),this[_0x4243f2(0x320)][_0x4243f2(0x147)](this[_0x4243f2(0x13c)]+'\x20('+this['instance']['wuid']+'):\x20conversation.lastInteraction:\x20'+_0x56cb67[_0x4243f2(0x11a)]),this[_0x4243f2(0x320)][_0x4243f2(0x147)](this[_0x4243f2(0x13c)]+'\x20('+this[_0x4243f2(0x646)][_0x4243f2(0x5f4)]+_0x4243f2(0x11c)+_0x211a7e),_0x56cb67['lastInteraction']<_0x211a7e){this[_0x4243f2(0x320)][_0x4243f2(0x147)](this[_0x4243f2(0x13c)]+'\x20('+this[_0x4243f2(0x646)][_0x4243f2(0x5f4)]+'):\x20Conversa\x20está\x20expirada');let _0xdc30bb=await this[_0x4243f2(0x30a)](_0x499c84,_0x5b6113);if(_0xdc30bb===null)return null;_0x56cb67&&await G['updateOne']({'_id':_0x56cb67[_0x4243f2(0x42d)]},{'status':_0x4243f2(0x518)}),_0x56cb67=await this[_0x4243f2(0x2f4)](_0xdc30bb,_0x4460cb['key'],_0x4460cb);}return _0x56cb67['lastInteraction']=_0x1b7298,_0x56cb67[_0x4243f2(0x36b)]['lastReceivedMessage']=_0x4460cb,_0x56cb67;}}catch(_0x7d7bea){return this[_0x4243f2(0x320)][_0x4243f2(0x162)](this['instanceName']+'\x20('+this[_0x4243f2(0x646)][_0x4243f2(0x5f4)]+_0x4243f2(0x433)+_0x7d7bea),null;}}async[a0_0x11dbb0(0x2f4)](_0x5a18c2,_0x1c1d89,_0x4bd7b5){const _0x10cb2c=a0_0x11dbb0;this[_0x10cb2c(0x320)][_0x10cb2c(0x147)](this[_0x10cb2c(0x13c)]+'\x20('+this[_0x10cb2c(0x646)][_0x10cb2c(0x5f4)]+'):\x20Criando\x20nova\x20conversa');try{let _0x4f3ea4=require(_0x10cb2c(0xf0))[_0x10cb2c(0x3ac)],_0x38fe6a=Date[_0x10cb2c(0x5e7)](),_0xf4e8a2=_0x10cb2c(0x2fd),_0x5cffd8=_0x1c1d89[_0x10cb2c(0x5b3)]?null:_0x4bd7b5,_0x1a9450=_0x1c1d89[_0x10cb2c(0x5b3)]?_0x4bd7b5:null,_0xff6cc8=_0x1c1d89[_0x10cb2c(0x2c5)],_0x22cd85={..._0x5a18c2[_0x10cb2c(0x40a)],'chatLog':null},_0x5072df=await this['variablesToObject'](_0x22cd85[_0x10cb2c(0x347)]),_0x373e5a=await this['getVariablesChat'](_0xff6cc8),_0xb18de3={..._0x5072df,..._0x373e5a},_0x3a4e34={'lastReceivedMessage':_0x5cffd8,'lastSendMessage':_0x1a9450,'lastBlockId':_0xf4e8a2,'lastCondition':!0x0,'realVariables':_0xb18de3};_0x22cd85[_0x10cb2c(0x36b)]=_0x3a4e34,delete _0x22cd85[_0x10cb2c(0x42d)],_0x22cd85[_0x10cb2c(0x42d)]=new _0x4f3ea4(),_0x22cd85[_0x10cb2c(0x11a)]=_0x38fe6a,_0x22cd85[_0x10cb2c(0x4c3)]=_0x10cb2c(0x130),_0x22cd85[_0x10cb2c(0x2c5)]=_0xff6cc8;let _0x10d28d=await G[_0x10cb2c(0x39a)](_0x22cd85);return this[_0x10cb2c(0x320)]['verbose'](this[_0x10cb2c(0x13c)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x10d28d?_0x22cd85:null;}catch(_0x542a67){return this[_0x10cb2c(0x320)]['error'](this[_0x10cb2c(0x13c)]+'\x20('+this[_0x10cb2c(0x646)][_0x10cb2c(0x5f4)]+_0x10cb2c(0xee)+_0x542a67),_0x542a67;}}async[a0_0x11dbb0(0x434)](_0x31b9c1,_0x2ab86c,_0x4b1f25){const _0x2ed79f=a0_0x11dbb0;this[_0x2ed79f(0x320)][_0x2ed79f(0x147)](this['instanceName']+'\x20('+this[_0x2ed79f(0x646)][_0x2ed79f(0x5f4)]+'):\x20Enviando\x20texto');let _0x30dd58={'number':_0x4b1f25,'options':{'delay':_0x2ab86c[_0x2ed79f(0x1b7)][_0x2ed79f(0xf3)]},'textMessage':{'text':_0x2ab86c['uazapi'][_0x2ed79f(0x652)]}};try{let _0x46c2df=await this['textMessage'](_0x30dd58);if(_0x46c2df){let _0x273130={'_id':_0x46c2df[_0x2ed79f(0x24a)]['id'],'_fromMe':_0x46c2df[_0x2ed79f(0x24a)][_0x2ed79f(0x5b3)],'_remoteJid':_0x46c2df[_0x2ed79f(0x24a)][_0x2ed79f(0x2c5)]};_0x31b9c1[_0x2ed79f(0x36b)][_0x2ed79f(0x201)]=_0x2ab86c[_0x2ed79f(0x42d)][_0x2ed79f(0x29e)]();let {message_normalized:_0x340f71}=this[_0x2ed79f(0x49f)](_0x46c2df[_0x2ed79f(0x2cb)],q(_0x46c2df[_0x2ed79f(0x2cb)]),null);_0x31b9c1['chatLog'][_0x2ed79f(0x1f4)]=await _0x340f71;let _0xd69b2f={'messageId':_0x46c2df[_0x2ed79f(0x24a)]['id']},_0x59ff9f=_0x31b9c1['chatLog'][_0x2ed79f(0x2bc)];Object[_0x2ed79f(0x2f3)](_0x59ff9f,_0x273130),_0x31b9c1['chatLog'][_0x2ed79f(0x2bc)]=_0x59ff9f,this[_0x2ed79f(0x2c4)](_0x31b9c1,_0x2ab86c,_0xd69b2f);}else{let _0x78ed26={'error':!0x0};this[_0x2ed79f(0x2c4)](_0x31b9c1,_0x2ab86c,_0x78ed26),this[_0x2ed79f(0x320)][_0x2ed79f(0x162)](this['instanceName']+'\x20('+this[_0x2ed79f(0x646)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x40d9e3){let _0x27de09={'error':!0x0,'errorLog':_0x40d9e3[_0x2ed79f(0x29e)]()};this['updateConversation'](_0x31b9c1,_0x2ab86c,_0x27de09),this[_0x2ed79f(0x320)][_0x2ed79f(0x162)](this[_0x2ed79f(0x13c)]+'\x20('+this[_0x2ed79f(0x646)][_0x2ed79f(0x5f4)]+_0x2ed79f(0x440)+_0x40d9e3[_0x2ed79f(0x29e)]());}}async[a0_0x11dbb0(0x2f9)](_0x329252,_0x348e3a,_0x3a3f56){const _0x1b7f2d=a0_0x11dbb0;this['logger'][_0x1b7f2d(0x147)](this['instanceName']+'\x20('+this[_0x1b7f2d(0x646)][_0x1b7f2d(0x5f4)]+_0x1b7f2d(0x3f0));let _0x38962f={'number':_0x3a3f56,'options':{'delay':_0x348e3a['uazapi'][_0x1b7f2d(0xf3)]},'mediaMessage':{'mediatype':_0x348e3a[_0x1b7f2d(0x1b7)][_0x1b7f2d(0x1e3)],'caption':_0x348e3a[_0x1b7f2d(0x1b7)][_0x1b7f2d(0x121)],'media':_0x348e3a['uazapi'][_0x1b7f2d(0x613)]}};try{let _0x11ec15=await this[_0x1b7f2d(0x179)](_0x38962f);if(_0x11ec15){let _0x51e47b={'_id':_0x11ec15[_0x1b7f2d(0x24a)]['id'],'_fromMe':_0x11ec15[_0x1b7f2d(0x24a)][_0x1b7f2d(0x5b3)],'_remoteJid':_0x11ec15[_0x1b7f2d(0x24a)][_0x1b7f2d(0x2c5)]};_0x329252['chatLog'][_0x1b7f2d(0x201)]=_0x348e3a[_0x1b7f2d(0x42d)][_0x1b7f2d(0x29e)]();let {message_normalized:_0x2b99e1}=this['normalizeMessage'](_0x11ec15[_0x1b7f2d(0x2cb)],q(_0x11ec15['message']),null);_0x329252[_0x1b7f2d(0x36b)][_0x1b7f2d(0x1f4)]=await _0x2b99e1;let _0x22d2ba={'messageId':_0x11ec15[_0x1b7f2d(0x24a)]['id']},_0x18fbc2=_0x329252['chatLog'][_0x1b7f2d(0x2bc)];Object[_0x1b7f2d(0x2f3)](_0x18fbc2,_0x51e47b),_0x329252[_0x1b7f2d(0x36b)][_0x1b7f2d(0x2bc)]=_0x18fbc2,this[_0x1b7f2d(0x2c4)](_0x329252,_0x348e3a,_0x22d2ba);}else{let _0x112200={'error':!0x0};this[_0x1b7f2d(0x2c4)](_0x329252,_0x348e3a,_0x112200),this[_0x1b7f2d(0x320)][_0x1b7f2d(0x162)](this[_0x1b7f2d(0x13c)]+'\x20('+this[_0x1b7f2d(0x646)][_0x1b7f2d(0x5f4)]+_0x1b7f2d(0x5d8));}}catch(_0xb91720){let _0x18c838={'error':!0x0,'errorLog':_0xb91720[_0x1b7f2d(0x29e)]()};this[_0x1b7f2d(0x2c4)](_0x329252,_0x348e3a,_0x18c838),this[_0x1b7f2d(0x320)][_0x1b7f2d(0x162)](this[_0x1b7f2d(0x13c)]+'\x20('+this[_0x1b7f2d(0x646)][_0x1b7f2d(0x5f4)]+_0x1b7f2d(0x13d)+_0xb91720[_0x1b7f2d(0x29e)]());}}async[a0_0x11dbb0(0x519)](_0x20fcaf,_0x29ea15,_0x41b14c){const _0x279e6c=a0_0x11dbb0;this[_0x279e6c(0x320)][_0x279e6c(0x147)](this[_0x279e6c(0x13c)]+'\x20('+this[_0x279e6c(0x646)][_0x279e6c(0x5f4)]+_0x279e6c(0x2b8));let _0x5f5619={'number':_0x41b14c,'options':{'delay':_0x29ea15['uazapi']['delay']},'locationMessage':{'name':_0x29ea15[_0x279e6c(0x1b7)]['name'],'address':_0x29ea15[_0x279e6c(0x1b7)]['address'],'latitude':_0x29ea15['uazapi'][_0x279e6c(0x666)],'longitude':_0x29ea15[_0x279e6c(0x1b7)][_0x279e6c(0x57f)]}};try{let _0x382ed0=await this[_0x279e6c(0x56c)](_0x5f5619);if(_0x382ed0){let _0x138bd6={'_id':_0x382ed0['key']['id'],'_fromMe':_0x382ed0[_0x279e6c(0x24a)][_0x279e6c(0x5b3)],'_remoteJid':_0x382ed0[_0x279e6c(0x24a)][_0x279e6c(0x2c5)]};_0x20fcaf[_0x279e6c(0x36b)][_0x279e6c(0x201)]=_0x29ea15[_0x279e6c(0x42d)]['toString']();let {message_normalized:_0x417bf7}=this[_0x279e6c(0x49f)](_0x382ed0[_0x279e6c(0x2cb)],q(_0x382ed0[_0x279e6c(0x2cb)]),null);_0x20fcaf['chatLog'][_0x279e6c(0x1f4)]=await _0x417bf7;let _0x3bda45={'messageId':_0x382ed0[_0x279e6c(0x24a)]['id']},_0x2eeefb=_0x20fcaf['chatLog'][_0x279e6c(0x2bc)];Object[_0x279e6c(0x2f3)](_0x2eeefb,_0x138bd6),_0x20fcaf['chatLog'][_0x279e6c(0x2bc)]=_0x2eeefb,this['updateConversation'](_0x20fcaf,_0x29ea15,_0x3bda45);}else{let _0x24500e={'error':!0x0};this[_0x279e6c(0x2c4)](_0x20fcaf,_0x29ea15,_0x24500e),this['logger'][_0x279e6c(0x162)](this[_0x279e6c(0x13c)]+'\x20('+this[_0x279e6c(0x646)][_0x279e6c(0x5f4)]+_0x279e6c(0x465));}}catch(_0x4ff323){let _0x20073c={'error':!0x0,'errorLog':_0x4ff323[_0x279e6c(0x29e)]()};this[_0x279e6c(0x2c4)](_0x20fcaf,_0x29ea15,_0x20073c),this[_0x279e6c(0x320)]['error'](this[_0x279e6c(0x13c)]+'\x20('+this[_0x279e6c(0x646)][_0x279e6c(0x5f4)]+_0x279e6c(0x35d)+_0x4ff323[_0x279e6c(0x29e)]());}}async['uazapiSendAudio'](_0x129adc,_0x5453c4,_0xb275c8){const _0x29e5da=a0_0x11dbb0;this[_0x29e5da(0x320)]['verbose'](this[_0x29e5da(0x13c)]+'\x20('+this[_0x29e5da(0x646)]['wuid']+_0x29e5da(0x315));let _0x554c23={'number':_0xb275c8,'options':{'delay':_0x5453c4[_0x29e5da(0x1b7)][_0x29e5da(0xf3)]},'audioMessage':{'audio':_0x5453c4[_0x29e5da(0x1b7)][_0x29e5da(0x530)]}};try{let _0x572b5a=await this[_0x29e5da(0x318)](_0x554c23);if(_0x572b5a){let _0x3d5a0e={'_id':_0x572b5a['key']['id'],'_fromMe':_0x572b5a['key'][_0x29e5da(0x5b3)],'_remoteJid':_0x572b5a[_0x29e5da(0x24a)]['remoteJid']};_0x129adc[_0x29e5da(0x36b)][_0x29e5da(0x201)]=_0x5453c4[_0x29e5da(0x42d)][_0x29e5da(0x29e)]();let {message_normalized:_0x5f50d1}=this['normalizeMessage'](_0x572b5a[_0x29e5da(0x2cb)],q(_0x572b5a['message']),null);_0x129adc[_0x29e5da(0x36b)]['lastSendMessage']=await _0x5f50d1;let _0x3844a2={'messageId':_0x572b5a['key']['id']},_0x1c43b0=_0x129adc[_0x29e5da(0x36b)][_0x29e5da(0x2bc)];Object[_0x29e5da(0x2f3)](_0x1c43b0,_0x3d5a0e),_0x129adc[_0x29e5da(0x36b)]['realVariables']=_0x1c43b0,this[_0x29e5da(0x2c4)](_0x129adc,_0x5453c4,_0x3844a2);}else{let _0x162371={'error':!0x0};this[_0x29e5da(0x2c4)](_0x129adc,_0x5453c4,_0x162371),this[_0x29e5da(0x320)][_0x29e5da(0x162)](this[_0x29e5da(0x13c)]+'\x20('+this[_0x29e5da(0x646)][_0x29e5da(0x5f4)]+_0x29e5da(0x338));}}catch(_0x3565f2){let _0x1ccd56={'error':!0x0,'errorLog':_0x3565f2[_0x29e5da(0x29e)]()};this[_0x29e5da(0x2c4)](_0x129adc,_0x5453c4,_0x1ccd56),this[_0x29e5da(0x320)][_0x29e5da(0x162)](this[_0x29e5da(0x13c)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+_0x3565f2['toString']());}}async[a0_0x11dbb0(0x58d)](_0x51bee4,_0x480df6,_0x35d922){const _0x162837=a0_0x11dbb0;this[_0x162837(0x320)][_0x162837(0x147)](this[_0x162837(0x13c)]+'\x20('+this['instance'][_0x162837(0x5f4)]+_0x162837(0x639));let _0x3bea3b={'number':_0x35d922,'options':{'delay':_0x480df6[_0x162837(0x1b7)]['delay']},'contactMessage':[{'fullName':_0x480df6[_0x162837(0x1b7)]['fullName'],'phoneNumber':_0x480df6[_0x162837(0x1b7)][_0x162837(0x32e)]}]};try{let _0x16a3c5=await this[_0x162837(0x1b1)](_0x3bea3b);if(_0x16a3c5){let _0x18c6a1={'_id':_0x16a3c5[_0x162837(0x24a)]['id'],'_fromMe':_0x16a3c5['key']['fromMe'],'_remoteJid':_0x16a3c5['key'][_0x162837(0x2c5)]};_0x51bee4[_0x162837(0x36b)]['lastBlockId']=_0x480df6[_0x162837(0x42d)][_0x162837(0x29e)]();let {message_normalized:_0x4d9c46}=this['normalizeMessage'](_0x16a3c5[_0x162837(0x2cb)],q(_0x16a3c5[_0x162837(0x2cb)]),null);_0x51bee4['chatLog'][_0x162837(0x1f4)]=await _0x4d9c46;let _0x9d1d3e={'messageId':_0x16a3c5[_0x162837(0x24a)]['id']},_0x2b83e7=_0x51bee4[_0x162837(0x36b)][_0x162837(0x2bc)];Object[_0x162837(0x2f3)](_0x2b83e7,_0x18c6a1),_0x51bee4['chatLog'][_0x162837(0x2bc)]=_0x2b83e7,this['updateConversation'](_0x51bee4,_0x480df6,_0x9d1d3e);}else{let _0x2ac32b={'error':!0x0};this[_0x162837(0x2c4)](_0x51bee4,_0x480df6,_0x2ac32b),this['logger']['error'](this[_0x162837(0x13c)]+'\x20('+this[_0x162837(0x646)][_0x162837(0x5f4)]+_0x162837(0x604));}}catch(_0x59142f){let _0x1e5edd={'error':!0x0,'errorLog':_0x59142f[_0x162837(0x29e)]()};this[_0x162837(0x2c4)](_0x51bee4,_0x480df6,_0x1e5edd),this[_0x162837(0x320)][_0x162837(0x162)](this[_0x162837(0x13c)]+'\x20('+this[_0x162837(0x646)][_0x162837(0x5f4)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+_0x59142f[_0x162837(0x29e)]());}}[a0_0x11dbb0(0x21c)](_0x29a1bd,_0x40c794){const _0x50c816=a0_0x11dbb0;for(let _0x4ef185 of _0x29a1bd)_0x4ef185[_0x50c816(0x26d)]&&(_0x4ef185[_0x50c816(0x26d)]=this[_0x50c816(0x3d1)](_0x4ef185['option'],_0x40c794)),_0x4ef185[_0x50c816(0x2c1)]&&(_0x4ef185['optionDescription']=this[_0x50c816(0x3d1)](_0x4ef185['optionDescription'],_0x40c794));}async[a0_0x11dbb0(0xe7)](_0xec88ef,_0x5008bb,_0x44e81f){const _0x4f5e90=a0_0x11dbb0;this[_0x4f5e90(0x320)]['verbose'](this[_0x4f5e90(0x13c)]+'\x20('+this['instance']['wuid']+_0x4f5e90(0x1f3));let _0x45c293=_0xec88ef[_0x4f5e90(0x297)][_0x4f5e90(0x512)](_0x103a86=>_0x103a86[_0x4f5e90(0x3e8)]===_0x5008bb[_0x4f5e90(0x42d)]);this['replaceVariablesInReplyOptions'](_0x45c293,_0xec88ef[_0x4f5e90(0x36b)][_0x4f5e90(0x2bc)]);let _0x411056=_0x45c293[_0x4f5e90(0x360)](_0x20f395=>_0x20f395[_0x4f5e90(0x26d)]),_0x433f17={'number':_0x44e81f,'options':{'delay':_0x5008bb[_0x4f5e90(0x1b7)]['delay']},'pollMessage':{'name':_0x5008bb[_0x4f5e90(0x1b7)][_0x4f5e90(0x36c)],'selectableCount':0x1,'values':_0x411056}};try{let _0x3309d1=await this['pollMessage'](_0x433f17);if(_0x3309d1){let _0x5a9a70={'_id':_0x3309d1['key']['id'],'_fromMe':_0x3309d1[_0x4f5e90(0x24a)][_0x4f5e90(0x5b3)],'_remoteJid':_0x3309d1[_0x4f5e90(0x24a)]['remoteJid']};this[_0x4f5e90(0x320)][_0x4f5e90(0x147)](this[_0x4f5e90(0x13c)]+'\x20('+this[_0x4f5e90(0x646)][_0x4f5e90(0x5f4)]+_0x4f5e90(0x112)+_0x5008bb[_0x4f5e90(0x1b7)][_0x4f5e90(0x36c)]),_0xec88ef['waitingPoll_id']=_0x3309d1[_0x4f5e90(0x24a)]['id'],_0xec88ef[_0x4f5e90(0x1d3)]=_0x5008bb[_0x4f5e90(0x1b7)][_0x4f5e90(0x36c)],_0xec88ef[_0x4f5e90(0x66c)]=_0x45c293,this['logger'][_0x4f5e90(0x147)](this[_0x4f5e90(0x13c)]+'\x20('+this[_0x4f5e90(0x646)][_0x4f5e90(0x5f4)]+'):\x20conversation.waitingPollname'+_0xec88ef[_0x4f5e90(0x1d3)]),_0xec88ef[_0x4f5e90(0x36b)][_0x4f5e90(0x201)]=_0x5008bb['_id'][_0x4f5e90(0x29e)]();let {message_normalized:_0x3ea513}=this[_0x4f5e90(0x49f)](_0x3309d1['message'],q(_0x3309d1['message']),null);_0xec88ef['chatLog'][_0x4f5e90(0x1f4)]=await _0x3ea513;let _0x26071e={'messageId':_0x3309d1['key']['id']},_0x1b2f43=_0xec88ef[_0x4f5e90(0x36b)][_0x4f5e90(0x2bc)];Object['assign'](_0x1b2f43,_0x5a9a70),_0xec88ef[_0x4f5e90(0x36b)][_0x4f5e90(0x2bc)]=_0x1b2f43,this['updateConversation'](_0xec88ef,_0x5008bb,_0x26071e);}else{let _0x14e9ee={'error':!0x0};this[_0x4f5e90(0x2c4)](_0xec88ef,_0x5008bb,_0x14e9ee),this[_0x4f5e90(0x320)][_0x4f5e90(0x162)](this[_0x4f5e90(0x13c)]+'\x20('+this['instance'][_0x4f5e90(0x5f4)]+_0x4f5e90(0x3e7));}}catch(_0x3a4360){let _0x59da80={'error':!0x0,'errorLog':_0x3a4360[_0x4f5e90(0x29e)]()};this['updateConversation'](_0xec88ef,_0x5008bb,_0x59da80),this['logger'][_0x4f5e90(0x162)](this[_0x4f5e90(0x13c)]+'\x20('+this['instance'][_0x4f5e90(0x5f4)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+_0x3a4360[_0x4f5e90(0x29e)]());}}async[a0_0x11dbb0(0x328)](_0x1151a0,_0x575e54,_0x8fc4ff){const _0x5db4a1=a0_0x11dbb0;this[_0x5db4a1(0x320)][_0x5db4a1(0x147)](this[_0x5db4a1(0x13c)]+'\x20('+this[_0x5db4a1(0x646)][_0x5db4a1(0x5f4)]+_0x5db4a1(0x4d2));let _0x183c3e=_0x1151a0['chatLog'][_0x5db4a1(0x1ae)][_0x5db4a1(0x467)](_0x4b08e6=>_0x4b08e6[_0x5db4a1(0x3e8)][_0x5db4a1(0x29e)]()===_0x575e54[_0x5db4a1(0x1b7)][_0x5db4a1(0x3e8)]['toString']()),_0xfc9c4f={'id':_0x183c3e[_0x5db4a1(0x42c)],'remoteJid':_0x183c3e['remoteJid'],'fromMe':_0x183c3e[_0x5db4a1(0x5b3)]};try{let _0x400dc3=await this['deleteMessage'](_0xfc9c4f);if(_0x400dc3){_0x1151a0[_0x5db4a1(0x36b)]['lastBlockId']=_0x575e54[_0x5db4a1(0x42d)]['toString']();let {message_normalized:_0x6745ff}=this[_0x5db4a1(0x49f)](_0x400dc3[_0x5db4a1(0x2cb)],q(_0x400dc3[_0x5db4a1(0x2cb)]),null);_0x1151a0[_0x5db4a1(0x36b)][_0x5db4a1(0x1f4)]=await _0x6745ff;let _0x3ed6ac={};this[_0x5db4a1(0x2c4)](_0x1151a0,_0x575e54,_0x3ed6ac);}else{let _0x2fc2fd={'error':!0x0};this['updateConversation'](_0x1151a0,_0x575e54,_0x2fc2fd),this[_0x5db4a1(0x320)][_0x5db4a1(0x162)](this[_0x5db4a1(0x13c)]+'\x20('+this[_0x5db4a1(0x646)]['wuid']+_0x5db4a1(0x3fa));}}catch(_0x596d42){let _0x3bfc16={'error':!0x0,'errorLog':_0x596d42[_0x5db4a1(0x29e)]()};this[_0x5db4a1(0x2c4)](_0x1151a0,_0x575e54,_0x3bfc16),this[_0x5db4a1(0x320)][_0x5db4a1(0x162)](this['instanceName']+'\x20('+this[_0x5db4a1(0x646)][_0x5db4a1(0x5f4)]+_0x5db4a1(0x3b1)+_0x596d42[_0x5db4a1(0x29e)]());}}async[a0_0x11dbb0(0x609)](_0x36eb12){const _0x596f3d=a0_0x11dbb0;try{if(this[_0x596f3d(0x320)][_0x596f3d(0x147)](this[_0x596f3d(0x13c)]+'\x20('+this[_0x596f3d(0x646)][_0x596f3d(0x5f4)]+_0x596f3d(0x427)),await D[_0x596f3d(0x5df)]({'owner':this[_0x596f3d(0x646)][_0x596f3d(0x5f4)],'name':_0x36eb12[_0x596f3d(0x36c)]}))return{'message':_0x596f3d(0x19f)};_0x36eb12[_0x596f3d(0x2cc)]===!0x0&&await D['updateMany']({'owner':this['instance'][_0x596f3d(0x5f4)]},{'default':!0x1});let _0x227c57=new he['Types'][(_0x596f3d(0x3ac))](),_0x3c46b8={'_id':_0x227c57,'default':!0x0,'title':_0x596f3d(0x193),'x':0x0,'y':0x0},_0x44a877={'_id':new he[(_0x596f3d(0x402))][(_0x596f3d(0x3ac))](),'order':0x1,'groupId':_0x227c57[_0x596f3d(0x29e)](),'type':_0x596f3d(0x2fd)};return await D['create']({'owner':this[_0x596f3d(0x646)]['wuid'],'name':_0x36eb12[_0x596f3d(0x36c)],'groups':[_0x3c46b8],'blocks':[_0x44a877],..._0x36eb12});}catch(_0x455586){throw this[_0x596f3d(0x320)][_0x596f3d(0x162)](this['instanceName']+'\x20('+this['instance'][_0x596f3d(0x5f4)]+_0x596f3d(0x2e5)+_0x455586),new m(_0x596f3d(0x35a)+_0x455586);}}async[a0_0x11dbb0(0x4fd)](_0x3c64c5){const _0x1c14d3=a0_0x11dbb0;try{return this['logger'][_0x1c14d3(0x147)](this[_0x1c14d3(0x13c)]+'\x20('+this[_0x1c14d3(0x646)]['wuid']+_0x1c14d3(0x5c3)),await D[_0x1c14d3(0x356)]({'owner':this[_0x1c14d3(0x646)][_0x1c14d3(0x5f4)],'name':_0x3c64c5});}catch(_0x5804a0){return this[_0x1c14d3(0x320)][_0x1c14d3(0x162)](this[_0x1c14d3(0x13c)]+'\x20('+this[_0x1c14d3(0x646)]['wuid']+_0x1c14d3(0x1bf)+_0x5804a0),{'message':_0x1c14d3(0x258)+_0x5804a0};}}async[a0_0x11dbb0(0x1f8)](_0x567211){const _0x2823d3=a0_0x11dbb0;try{this[_0x2823d3(0x320)][_0x2823d3(0x147)](this[_0x2823d3(0x13c)]+'\x20('+this[_0x2823d3(0x646)][_0x2823d3(0x5f4)]+_0x2823d3(0x675));let _0x1b0a87=await D['findOne']({'owner':this[_0x2823d3(0x646)]['wuid'],'name':_0x567211});if(!_0x1b0a87)throw new Error(_0x2823d3(0x37b));if(!this[_0x2823d3(0x27b)]&&(await this[_0x2823d3(0x22b)](),!this['AutomateSystem']))return null;let _0x4301dc=this[_0x2823d3(0x27b)][_0x2823d3(0x590)][_0x2823d3(0x360)](_0xb8e3d1=>_0xb8e3d1['name']),_0x44a425=[_0x2823d3(0x2ab),_0x2823d3(0xff),'email',_0x2823d3(0x626),_0x2823d3(0x4c3),'notas',_0x2823d3(0x148),_0x2823d3(0x482)];return _0x1b0a87[_0x2823d3(0x347)]=_0x1b0a87[_0x2823d3(0x347)]['filter'](_0x4e9847=>!_0x44a425[_0x2823d3(0x1e2)](_0x4e9847['name'])),_0x44a425[_0x2823d3(0x5b1)](_0x5edafe=>{const _0x3c9e48=_0x2823d3;_0x1b0a87[_0x3c9e48(0x347)]['push']({'folder':'leadInfo','name':_0x5edafe,'value':'','doc':'','leadInfo':!0x0});}),_0x1b0a87[_0x2823d3(0x347)]=_0x1b0a87[_0x2823d3(0x347)][_0x2823d3(0x512)](_0x5e0879=>!_0x4301dc['includes'](_0x5e0879[_0x2823d3(0x36c)])),_0x4301dc[_0x2823d3(0x5b1)](_0x521398=>{const _0xddc52e=_0x2823d3;_0x1b0a87[_0xddc52e(0x347)][_0xddc52e(0x66b)](_0x5ad6f7=>_0x5ad6f7[_0xddc52e(0x36c)]===_0x521398&&_0x5ad6f7[_0xddc52e(0x49a)]===!0x0)||_0x1b0a87['variables'][_0xddc52e(0x17b)]({'folder':_0xddc52e(0x49a),'name':_0x521398,'value':'','doc':'','leadInfo':!0x0});}),await _0x1b0a87['save'](),_0x1b0a87;}catch(_0x436cd4){throw this[_0x2823d3(0x320)]['error'](this['instanceName']+'\x20('+this[_0x2823d3(0x646)]['wuid']+_0x2823d3(0x45a)+_0x436cd4),new m(_0x2823d3(0x5d9)+_0x436cd4);}}async['allFlows'](){const _0x2189dc=a0_0x11dbb0;try{return this[_0x2189dc(0x320)][_0x2189dc(0x147)](this[_0x2189dc(0x13c)]+'\x20('+this[_0x2189dc(0x646)]['wuid']+_0x2189dc(0x3e3)),await D[_0x2189dc(0x467)]({'owner':this[_0x2189dc(0x646)][_0x2189dc(0x5f4)]});}catch(_0x3686a6){return this[_0x2189dc(0x320)][_0x2189dc(0x162)](this[_0x2189dc(0x13c)]+'\x20('+this['instance'][_0x2189dc(0x5f4)]+_0x2189dc(0x3c3)+_0x3686a6),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x3686a6};}}async['editFlow'](_0x39e328){const _0x36117e=a0_0x11dbb0;try{this[_0x36117e(0x320)]['verbose'](this['instanceName']+'\x20('+this[_0x36117e(0x646)][_0x36117e(0x5f4)]+_0x36117e(0x3ef));let _0x1d8b05=await D[_0x36117e(0x5df)]({'owner':this['instance'][_0x36117e(0x5f4)],'name':_0x39e328['name']});if(!_0x1d8b05)return{'message':'Fluxo\x20não\x20encontrado'};if(_0x39e328[_0x36117e(0x2cc)]===!0x0&&await D[_0x36117e(0x3f6)]({'owner':this['instance'][_0x36117e(0x5f4)]},{'default':!0x1}),_0x39e328['newName']){if(await D[_0x36117e(0x5df)]({'owner':this[_0x36117e(0x646)][_0x36117e(0x5f4)],'name':_0x39e328[_0x36117e(0xed)]}))return{'message':'Já\x20existe\x20fluxo\x20com\x20esse\x20nome'};_0x39e328[_0x36117e(0x36c)]=_0x39e328['newName'],delete _0x39e328[_0x36117e(0xed)];}return await D[_0x36117e(0x203)](_0x1d8b05[_0x36117e(0x42d)],{'$set':_0x39e328},{'new':!0x0});}catch(_0x52d436){throw this['logger'][_0x36117e(0x162)](this[_0x36117e(0x13c)]+'\x20('+this[_0x36117e(0x646)][_0x36117e(0x5f4)]+_0x36117e(0x44e)+_0x52d436),new m(_0x36117e(0x2c3)+_0x52d436);}}async[a0_0x11dbb0(0x1d0)](_0x1f16da){const _0x4e573a=a0_0x11dbb0;try{this[_0x4e573a(0x320)]['verbose'](this[_0x4e573a(0x13c)]+'\x20('+this['instance']['wuid']+'):\x20Editando\x20bloco...');let _0x4ea1aa={'owner':this[_0x4e573a(0x646)][_0x4e573a(0x5f4)],'name':_0x1f16da[_0x4e573a(0x36c)]},_0x119c03=await D[_0x4e573a(0x5df)](_0x4ea1aa);_0x119c03||this[_0x4e573a(0x285)](_0x4e573a(0x37b));let {block:_0x3ee495}=_0x1f16da;return _0x3ee495?.[_0x4e573a(0x430)]?this['deleteBlock'](_0x119c03,_0x1f16da):_0x3ee495['_id']?await this[_0x4e573a(0x66e)](_0x119c03,_0x1f16da):this[_0x4e573a(0x30e)](_0x119c03,_0x1f16da),await _0x119c03[_0x4e573a(0x48a)](),_0x119c03;}catch(_0xcb744c){this['throwAndLogError']('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0xcb744c);}}[a0_0x11dbb0(0x285)](_0x1b54ee){const _0x166654=a0_0x11dbb0;throw this[_0x166654(0x320)][_0x166654(0x162)](this[_0x166654(0x13c)]+'\x20('+this[_0x166654(0x646)][_0x166654(0x5f4)]+_0x166654(0x2e0)+_0x1b54ee),new m(_0x1b54ee);}[a0_0x11dbb0(0x298)](_0x551e84,_0x20221b){const _0x35d36a=a0_0x11dbb0;let {block:_0x195407}=_0x20221b;if(_0x195407[_0x35d36a(0x4d6)]===_0x35d36a(0x2fd)){this[_0x35d36a(0x285)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x195407[_0x35d36a(0x42d)]){this[_0x35d36a(0x285)](_0x35d36a(0x4ed));return;}let _0x5a1c7c=_0x551e84[_0x35d36a(0x386)]['find'](_0x498288=>_0x498288[_0x35d36a(0x42d)]['toString']()===_0x20221b[_0x35d36a(0x612)]['_id'][_0x35d36a(0x29e)]());if(!_0x5a1c7c){this['throwAndLogError'](_0x35d36a(0x37d)+_0x195407[_0x35d36a(0x42d)]+'\x20não\x20encontrado');return;}_0x551e84['blocks']=_0x551e84[_0x35d36a(0x386)][_0x35d36a(0x512)](_0x322985=>_0x322985[_0x35d36a(0x42d)][_0x35d36a(0x29e)]()!==_0x20221b['block'][_0x35d36a(0x42d)]['toString']()),_0x551e84[_0x35d36a(0x614)]=_0x551e84[_0x35d36a(0x614)][_0x35d36a(0x512)](_0x154170=>_0x154170['blockId']!==_0x195407[_0x35d36a(0x42d)]['toString']()),_0x551e84['varedits']=_0x551e84[_0x35d36a(0x5a4)][_0x35d36a(0x512)](_0x2159c4=>_0x2159c4[_0x35d36a(0x3e8)]!==_0x195407[_0x35d36a(0x42d)][_0x35d36a(0x29e)]()),_0x551e84['replyOptions']=_0x551e84[_0x35d36a(0x297)][_0x35d36a(0x512)](_0x4d80ac=>_0x4d80ac[_0x35d36a(0x3e8)]!==_0x195407[_0x35d36a(0x42d)][_0x35d36a(0x29e)]()),this[_0x35d36a(0x206)](_0x551e84['blocks'],_0x5a1c7c['groupId']);}async[a0_0x11dbb0(0x66e)](_0x62c47a,_0x546f9e){const _0x1f54ad=a0_0x11dbb0;let _0x4de819=_0x62c47a['blocks'][_0x1f54ad(0x649)](_0x595714=>_0x595714[_0x1f54ad(0x42d)]['toString']()===_0x546f9e[_0x1f54ad(0x612)][_0x1f54ad(0x42d)][_0x1f54ad(0x29e)]());if(this['logger'][_0x1f54ad(0x147)](this[_0x1f54ad(0x13c)]+'\x20('+this[_0x1f54ad(0x646)][_0x1f54ad(0x5f4)]+_0x1f54ad(0x268)+_0x4de819),_0x4de819===-0x1){this[_0x1f54ad(0x320)]['verbose'](_0x1f54ad(0x37d)+_0x546f9e[_0x1f54ad(0x612)]['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x62c47a['blocks'][_0x4de819][_0x1f54ad(0x4d6)]===_0x1f54ad(0x2fd)){let _0x9c4d6=Object[_0x1f54ad(0x354)](_0x546f9e[_0x1f54ad(0x612)]);if(_0x9c4d6[_0x1f54ad(0x125)]>0x2||_0x9c4d6[_0x1f54ad(0x125)]===0x2&&!_0x9c4d6[_0x1f54ad(0x1e2)]('next_groupId')){this['throwAndLogError'](_0x1f54ad(0x5d6));return;}}let _0x52d81f=_0x62c47a[_0x1f54ad(0x386)][_0x4de819][_0x1f54ad(0x4f4)];for(let _0x23a1b9 in _0x546f9e[_0x1f54ad(0x612)])_0x546f9e[_0x1f54ad(0x612)][_0x1f54ad(0x500)](_0x23a1b9)&&(_0x62c47a[_0x1f54ad(0x386)][_0x4de819][_0x23a1b9]=_0x546f9e['block'][_0x23a1b9]);if(this[_0x1f54ad(0x320)][_0x1f54ad(0x147)](this[_0x1f54ad(0x13c)]+'\x20('+this[_0x1f54ad(0x646)][_0x1f54ad(0x5f4)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x1f54ad(0x5db)](_0x62c47a['blocks'][_0x4de819])),_0x62c47a['blocks'][_0x4de819][_0x1f54ad(0x50e)]&&_0x1f54ad(0x1ba)in _0x62c47a[_0x1f54ad(0x386)][_0x4de819]['apirequest']){this['logger'][_0x1f54ad(0x147)](this[_0x1f54ad(0x13c)]+'\x20('+this[_0x1f54ad(0x646)][_0x1f54ad(0x5f4)]+_0x1f54ad(0x152));let _0x3b2a11=JSON['stringify'](_0x62c47a[_0x1f54ad(0x386)][_0x4de819]['apirequest'][_0x1f54ad(0x1ba)],null,0x1);_0x3b2a11[_0x1f54ad(0x125)]>0x2&&(_0x3b2a11=_0x3b2a11[_0x1f54ad(0x5cf)](0x1,_0x3b2a11[_0x1f54ad(0x125)]-0x1)[_0x1f54ad(0x294)]()),_0x62c47a[_0x1f54ad(0x386)][_0x4de819][_0x1f54ad(0x50e)][_0x1f54ad(0x154)]=_0x3b2a11;}if(_0x62c47a[_0x1f54ad(0x386)][_0x4de819][_0x1f54ad(0x50e)]&&'body'in _0x62c47a[_0x1f54ad(0x386)][_0x4de819]['apirequest']){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1f54ad(0x646)]['wuid']+_0x1f54ad(0x552));let _0x2defba=JSON[_0x1f54ad(0x5db)](_0x62c47a[_0x1f54ad(0x386)][_0x4de819][_0x1f54ad(0x50e)][_0x1f54ad(0x17a)],null,0x1);_0x2defba['length']>0x2&&(_0x2defba=_0x2defba[_0x1f54ad(0x5cf)](0x1,_0x2defba[_0x1f54ad(0x125)]-0x1)[_0x1f54ad(0x294)]()),_0x62c47a['blocks'][_0x4de819]['apirequest']['bodyString']=_0x2defba;}let _0x1eac2f=_0x62c47a[_0x1f54ad(0x386)][_0x4de819][_0x1f54ad(0x4f4)];_0x52d81f!==_0x1eac2f?(this['reorderBlocks'](_0x62c47a[_0x1f54ad(0x386)],_0x52d81f),this[_0x1f54ad(0x206)](_0x62c47a['blocks'],_0x1eac2f)):this[_0x1f54ad(0x206)](_0x62c47a['blocks'],_0x52d81f);}[a0_0x11dbb0(0x30e)](_0x1b78fc,_0x2ee0c6){const _0x516381=a0_0x11dbb0;if(_0x2ee0c6[_0x516381(0x612)]['type']==='start'){this[_0x516381(0x285)](_0x516381(0x16d));return;}if(_0x2ee0c6[_0x516381(0x612)][_0x516381(0x50e)]&&_0x516381(0x1ba)in _0x2ee0c6[_0x516381(0x612)][_0x516381(0x50e)]){this[_0x516381(0x320)][_0x516381(0x147)](this[_0x516381(0x13c)]+'\x20('+this[_0x516381(0x646)][_0x516381(0x5f4)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x5cc5fa=JSON[_0x516381(0x5db)](_0x2ee0c6['block'][_0x516381(0x50e)][_0x516381(0x1ba)],null,0x1);_0x5cc5fa['length']>0x2&&(_0x5cc5fa=_0x5cc5fa['substring'](0x1,_0x5cc5fa['length']-0x1)['trim']()),_0x2ee0c6['block'][_0x516381(0x50e)][_0x516381(0x154)]=_0x5cc5fa;}_0x2ee0c6[_0x516381(0x612)][_0x516381(0x50e)]&&'body'in _0x2ee0c6[_0x516381(0x612)][_0x516381(0x50e)]&&(this['logger']['verbose'](this[_0x516381(0x13c)]+'\x20('+this[_0x516381(0x646)][_0x516381(0x5f4)]+_0x516381(0x552)),_0x2ee0c6[_0x516381(0x612)]['apirequest'][_0x516381(0x288)]=JSON[_0x516381(0x5db)](_0x2ee0c6[_0x516381(0x612)][_0x516381(0x50e)][_0x516381(0x17a)],null,0x1)[_0x516381(0x294)]()),_0x1b78fc[_0x516381(0x386)]['push'](_0x2ee0c6[_0x516381(0x612)]),this[_0x516381(0x206)](_0x1b78fc[_0x516381(0x386)],_0x2ee0c6['block'][_0x516381(0x4f4)]);}[a0_0x11dbb0(0x206)](_0x2677b4,_0x3b7c83){const _0x10ef25=a0_0x11dbb0;let _0xbafbe5=_0x2677b4['filter'](_0x39fa8b=>_0x39fa8b[_0x10ef25(0x4f4)]===_0x3b7c83);_0xbafbe5[_0x10ef25(0x38a)]((_0x1fa3d,_0x43d608)=>_0x1fa3d[_0x10ef25(0x546)]-_0x43d608['order']),_0xbafbe5[_0x10ef25(0x5b1)]((_0x1863b3,_0x41cb0d)=>_0x1863b3[_0x10ef25(0x546)]=_0x41cb0d+0x1);}async[a0_0x11dbb0(0x2e6)](_0xaeaf73){const _0x2acb6f=a0_0x11dbb0;try{if(this[_0x2acb6f(0x320)][_0x2acb6f(0x147)](this[_0x2acb6f(0x13c)]+'\x20('+this[_0x2acb6f(0x646)]['wuid']+_0x2acb6f(0x2e9)),!_0xaeaf73||!_0xaeaf73[_0x2acb6f(0x16e)]){this[_0x2acb6f(0x285)](_0x2acb6f(0x576));return;}let _0x47ce06={'owner':this['instance'][_0x2acb6f(0x5f4)],'name':_0xaeaf73[_0x2acb6f(0x36c)]},_0x5d8c10=await D[_0x2acb6f(0x5df)](_0x47ce06);_0x5d8c10||this[_0x2acb6f(0x285)]('Flow\x20não\x20encontrado');let {replyOption:_0x31a4ad}=_0xaeaf73;return _0x31a4ad?.[_0x2acb6f(0x430)]?this[_0x2acb6f(0x1d7)](_0x5d8c10,_0xaeaf73):_0x31a4ad[_0x2acb6f(0x42d)]?await this['updateReplyOption'](_0x5d8c10,_0xaeaf73):this[_0x2acb6f(0x3bd)](_0x5d8c10,_0xaeaf73),await _0x5d8c10[_0x2acb6f(0x48a)](),_0x5d8c10;}catch(_0x5f2a38){this[_0x2acb6f(0x285)](_0x2acb6f(0x213)+_0x5f2a38);}}[a0_0x11dbb0(0x1d7)](_0x5b5e9f,_0x2a5eda){const _0x33fca8=a0_0x11dbb0;let {replyOption:_0x1cdcea}=_0x2a5eda;if(!_0x1cdcea[_0x33fca8(0x42d)]){this[_0x33fca8(0x285)](_0x33fca8(0x5d7));return;}if(!_0x5b5e9f[_0x33fca8(0x297)][_0x33fca8(0x467)](_0x118ecf=>_0x118ecf[_0x33fca8(0x42d)]['toString']()===_0x2a5eda[_0x33fca8(0x16e)][_0x33fca8(0x42d)][_0x33fca8(0x29e)]())){this[_0x33fca8(0x285)]('ReplyOption\x20com\x20ID\x20'+_0x1cdcea[_0x33fca8(0x42d)]+_0x33fca8(0x1ff));return;}_0x5b5e9f[_0x33fca8(0x297)]=_0x5b5e9f[_0x33fca8(0x297)]['filter'](_0x27838b=>_0x27838b[_0x33fca8(0x42d)][_0x33fca8(0x29e)]()!==_0x2a5eda[_0x33fca8(0x16e)]['_id'][_0x33fca8(0x29e)]());}async['updateReplyOption'](_0x52736d,_0x47a10c){const _0x8b1cf0=a0_0x11dbb0;let _0x379f8f=_0x52736d['replyOptions'][_0x8b1cf0(0x649)](_0x520ecf=>_0x520ecf[_0x8b1cf0(0x42d)][_0x8b1cf0(0x29e)]()===_0x47a10c['replyOption']['_id'][_0x8b1cf0(0x29e)]());if(_0x379f8f===-0x1){this[_0x8b1cf0(0x285)](_0x8b1cf0(0x1d2)+_0x47a10c['replyOption'][_0x8b1cf0(0x42d)]+_0x8b1cf0(0x20e));return;}for(let _0x2462e9 in _0x47a10c[_0x8b1cf0(0x16e)])_0x47a10c['replyOption']['hasOwnProperty'](_0x2462e9)&&(_0x52736d[_0x8b1cf0(0x297)][_0x379f8f][_0x2462e9]=_0x47a10c['replyOption'][_0x2462e9]);}[a0_0x11dbb0(0x3bd)](_0x2f6c2a,_0x1b5a95){const _0x4bb9d9=a0_0x11dbb0;_0x2f6c2a[_0x4bb9d9(0x297)]['push'](_0x1b5a95['replyOption']);}async[a0_0x11dbb0(0x2c8)](_0x17bfa1){const _0x74ae7b=a0_0x11dbb0;this[_0x74ae7b(0x320)][_0x74ae7b(0x147)](this[_0x74ae7b(0x13c)]+'\x20('+this[_0x74ae7b(0x646)][_0x74ae7b(0x5f4)]+_0x74ae7b(0x40b)+_0x17bfa1);try{this['logger'][_0x74ae7b(0x147)](this[_0x74ae7b(0x13c)]+'\x20('+this[_0x74ae7b(0x646)][_0x74ae7b(0x5f4)]+_0x74ae7b(0x19c));let _0x16e874={'owner':this[_0x74ae7b(0x646)]['wuid'],'name':_0x17bfa1[_0x74ae7b(0x36c)]},_0x38b896=await D['findOne'](_0x16e874);if(!_0x38b896)throw new Error(_0x74ae7b(0x37b));if(_0x17bfa1[_0x74ae7b(0x28f)]&&_0x17bfa1[_0x74ae7b(0x28f)]?.[_0x74ae7b(0x430)]===!0x0){if(this[_0x74ae7b(0x320)][_0x74ae7b(0x147)](this['instanceName']+'\x20('+this['instance'][_0x74ae7b(0x5f4)]+_0x74ae7b(0x260)),_0x17bfa1[_0x74ae7b(0x28f)][_0x74ae7b(0x2cc)]===!0x0)return{'message':_0x74ae7b(0x625)};if(_0x38b896[_0x74ae7b(0x386)][_0x74ae7b(0x66b)](_0x846c7b=>_0x846c7b['groupId'][_0x74ae7b(0x29e)]()===_0x17bfa1[_0x74ae7b(0x28f)]['_id']))return this['logger'][_0x74ae7b(0x147)](this[_0x74ae7b(0x13c)]+'\x20('+this[_0x74ae7b(0x646)][_0x74ae7b(0x5f4)]+_0x74ae7b(0x517)),{'message':_0x74ae7b(0x309)};_0x38b896['groups']=_0x38b896[_0x74ae7b(0x341)][_0x74ae7b(0x512)](_0x36341f=>_0x36341f['_id']['toString']()!==_0x17bfa1[_0x74ae7b(0x28f)][_0x74ae7b(0x42d)]);}else{if(_0x17bfa1['group']){if(_0x17bfa1['group'][_0x74ae7b(0x2cc)]===!0x0)return{'message':_0x74ae7b(0x1bb)};if(_0x17bfa1[_0x74ae7b(0x28f)]['_id']){let _0x35b339=_0x38b896[_0x74ae7b(0x341)]['find'](_0x2b4aa5=>_0x2b4aa5[_0x74ae7b(0x42d)][_0x74ae7b(0x29e)]()===_0x17bfa1[_0x74ae7b(0x28f)][_0x74ae7b(0x42d)]);_0x35b339&&(_0x17bfa1[_0x74ae7b(0x28f)]['x']<0x0&&(_0x17bfa1['group']['x']=0x0),_0x17bfa1[_0x74ae7b(0x28f)]['y']<0x0&&(_0x17bfa1[_0x74ae7b(0x28f)]['y']=0x0),Object[_0x74ae7b(0x2f3)](_0x35b339,_0x17bfa1[_0x74ae7b(0x28f)]));}else _0x38b896[_0x74ae7b(0x341)][_0x74ae7b(0x17b)](_0x17bfa1[_0x74ae7b(0x28f)]);}}return await _0x38b896[_0x74ae7b(0x48a)](),_0x38b896;}catch(_0x2f047e){throw this['logger'][_0x74ae7b(0x162)](this[_0x74ae7b(0x13c)]+'\x20('+this['instance'][_0x74ae7b(0x5f4)]+_0x74ae7b(0x3e1)+_0x2f047e),new m(_0x74ae7b(0x46d)+_0x2f047e);}}async[a0_0x11dbb0(0x143)](_0x4ba662){const _0x3cdc64=a0_0x11dbb0;try{this[_0x3cdc64(0x320)][_0x3cdc64(0x147)](this[_0x3cdc64(0x13c)]+'\x20('+this[_0x3cdc64(0x646)]['wuid']+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0xd8dbd6={'owner':this[_0x3cdc64(0x646)][_0x3cdc64(0x5f4)],'name':_0x4ba662[_0x3cdc64(0x36c)]},_0x183125=await D[_0x3cdc64(0x5df)](_0xd8dbd6);if(!_0x183125)throw new Error(_0x3cdc64(0x37b));let _0x2aaa55=!0x1;if(_0x4ba662[_0x3cdc64(0x124)]?.[_0x3cdc64(0x430)]===!0x0)_0x183125[_0x3cdc64(0x614)]=_0x183125[_0x3cdc64(0x614)][_0x3cdc64(0x512)](_0x422f76=>_0x422f76&&_0x4ba662['condition']&&_0x422f76[_0x3cdc64(0x42d)]&&_0x4ba662['condition'][_0x3cdc64(0x42d)]&&_0x422f76[_0x3cdc64(0x42d)]['toString']()!==_0x4ba662[_0x3cdc64(0x124)][_0x3cdc64(0x42d)][_0x3cdc64(0x29e)]()),_0x2aaa55=!0x0;else{let _0x224d68=_0x183125['conditions'][_0x3cdc64(0x467)](_0x13bf89=>_0x13bf89&&_0x4ba662[_0x3cdc64(0x124)]&&_0x13bf89[_0x3cdc64(0x42d)]&&_0x4ba662[_0x3cdc64(0x124)][_0x3cdc64(0x42d)]&&_0x13bf89[_0x3cdc64(0x42d)]['toString']()===_0x4ba662[_0x3cdc64(0x124)][_0x3cdc64(0x42d)][_0x3cdc64(0x29e)]());_0x224d68?(_0x2aaa55=_0x224d68['order']!==_0x4ba662[_0x3cdc64(0x124)][_0x3cdc64(0x546)],Object[_0x3cdc64(0x2f3)](_0x224d68,_0x4ba662[_0x3cdc64(0x124)])):(_0x183125[_0x3cdc64(0x614)][_0x3cdc64(0x17b)](_0x4ba662[_0x3cdc64(0x124)]),_0x2aaa55=!0x0);}if(_0x2aaa55){_0x183125[_0x3cdc64(0x614)]['sort']((_0x2b4cea,_0x2dd3c7)=>_0x2b4cea[_0x3cdc64(0x546)]>_0x2dd3c7[_0x3cdc64(0x546)]?0x1:_0x2dd3c7[_0x3cdc64(0x546)]>_0x2b4cea[_0x3cdc64(0x546)]?-0x1:0x0);for(let _0x4f334d=0x0;_0x4f334d<_0x183125[_0x3cdc64(0x614)]['length'];_0x4f334d++)_0x183125[_0x3cdc64(0x614)][_0x4f334d][_0x3cdc64(0x546)]=_0x4f334d+0x1;_0x183125[_0x3cdc64(0x614)][_0x3cdc64(0x125)]>0x0&&(_0x183125['conditions'][0x0][_0x3cdc64(0x1b9)]='and');}return await _0x183125[_0x3cdc64(0x48a)](),_0x183125;}catch(_0x5eb878){throw this['logger'][_0x3cdc64(0x162)](this['instanceName']+'\x20('+this[_0x3cdc64(0x646)][_0x3cdc64(0x5f4)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x5eb878),new Error(_0x3cdc64(0x54f)+_0x5eb878);}}async[a0_0x11dbb0(0x177)](_0x17153d){const _0x558ff2=a0_0x11dbb0;try{this[_0x558ff2(0x320)][_0x558ff2(0x147)](this[_0x558ff2(0x13c)]+'\x20('+this['instance'][_0x558ff2(0x5f4)]+_0x558ff2(0x526));let _0x39fce9={'owner':this['instance'][_0x558ff2(0x5f4)],'name':_0x17153d[_0x558ff2(0x36c)]},_0x98f1e4=await D[_0x558ff2(0x5df)](_0x39fce9);if(!_0x98f1e4)throw new Error(_0x558ff2(0x37b));let _0x2282f6=!0x1;if(_0x17153d['varedit']?.[_0x558ff2(0x430)]===!0x0)_0x98f1e4['varedits']=_0x98f1e4[_0x558ff2(0x5a4)]['filter'](_0x4f31b0=>_0x4f31b0&&_0x17153d[_0x558ff2(0x19a)]&&_0x4f31b0[_0x558ff2(0x42d)]&&_0x17153d[_0x558ff2(0x19a)]['_id']&&_0x4f31b0[_0x558ff2(0x42d)][_0x558ff2(0x29e)]()!==_0x17153d['varedit'][_0x558ff2(0x42d)][_0x558ff2(0x29e)]()),_0x2282f6=!0x0;else{let _0x1b5490=_0x98f1e4['varedits']['find'](_0x36e2fe=>_0x36e2fe&&_0x17153d[_0x558ff2(0x19a)]&&_0x36e2fe[_0x558ff2(0x42d)]&&_0x17153d[_0x558ff2(0x19a)]['_id']&&_0x36e2fe[_0x558ff2(0x42d)][_0x558ff2(0x29e)]()===_0x17153d[_0x558ff2(0x19a)][_0x558ff2(0x42d)][_0x558ff2(0x29e)]());_0x1b5490?(_0x2282f6=_0x1b5490[_0x558ff2(0x546)]!==_0x17153d['varedit'][_0x558ff2(0x546)],Object['assign'](_0x1b5490,_0x17153d[_0x558ff2(0x19a)])):(_0x98f1e4['varedits'][_0x558ff2(0x17b)](_0x17153d[_0x558ff2(0x19a)]),_0x2282f6=!0x0);}if(_0x2282f6){_0x98f1e4[_0x558ff2(0x5a4)][_0x558ff2(0x38a)]((_0x372618,_0x3c74c1)=>_0x372618[_0x558ff2(0x546)]>_0x3c74c1[_0x558ff2(0x546)]?0x1:_0x3c74c1[_0x558ff2(0x546)]>_0x372618[_0x558ff2(0x546)]?-0x1:0x0);for(let _0x50cb79=0x0;_0x50cb79<_0x98f1e4[_0x558ff2(0x5a4)][_0x558ff2(0x125)];_0x50cb79++)_0x98f1e4[_0x558ff2(0x5a4)][_0x50cb79][_0x558ff2(0x546)]=_0x50cb79+0x1;}return await _0x98f1e4[_0x558ff2(0x48a)](),_0x98f1e4;}catch(_0x3f41e5){throw this[_0x558ff2(0x320)][_0x558ff2(0x162)](this['instanceName']+'\x20('+this[_0x558ff2(0x646)]['wuid']+_0x558ff2(0x4f6)+_0x3f41e5),new m('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+_0x3f41e5);}}async[a0_0x11dbb0(0x186)](_0x55f1af){const _0x1fccc3=a0_0x11dbb0;try{this[_0x1fccc3(0x320)][_0x1fccc3(0x147)](this[_0x1fccc3(0x13c)]+'\x20('+this['instance'][_0x1fccc3(0x5f4)]+_0x1fccc3(0x3e0));let _0x2ef4cb={'owner':this[_0x1fccc3(0x646)][_0x1fccc3(0x5f4)],'name':_0x55f1af[_0x1fccc3(0x36c)]},_0x498960=await D[_0x1fccc3(0x5df)](_0x2ef4cb);if(!_0x498960)throw new Error(_0x1fccc3(0x37b));_0x55f1af['variable'][_0x1fccc3(0x36c)]=_0x55f1af[_0x1fccc3(0x2ca)][_0x1fccc3(0x36c)][_0x1fccc3(0x294)](),_0x55f1af[_0x1fccc3(0x2ca)][_0x1fccc3(0x36c)][_0x1fccc3(0x2e4)]('_')&&(_0x55f1af[_0x1fccc3(0x2ca)][_0x1fccc3(0x36c)]=_0x55f1af[_0x1fccc3(0x2ca)][_0x1fccc3(0x36c)]['substring'](0x1)),_0x55f1af[_0x1fccc3(0x2ca)]['name']=_0x55f1af['variable'][_0x1fccc3(0x36c)][_0x1fccc3(0x294)]();let _0x29c2b2=_0x498960[_0x1fccc3(0x347)][_0x1fccc3(0x467)](_0x5afb35=>_0x5afb35[_0x1fccc3(0x36c)]===_0x55f1af[_0x1fccc3(0x2ca)]['name']);if(_0x29c2b2?.[_0x1fccc3(0x49a)]===!0x0)throw new Error(_0x1fccc3(0x282));if(_0x55f1af['variable']?.['delete']===!0x0){if(!_0x29c2b2)return{'message':_0x1fccc3(0x59f)};_0x498960[_0x1fccc3(0x347)]=_0x498960[_0x1fccc3(0x347)][_0x1fccc3(0x512)](_0x1ea216=>_0x1ea216['name']!==_0x55f1af[_0x1fccc3(0x2ca)][_0x1fccc3(0x36c)]);}else _0x29c2b2?Object['assign'](_0x29c2b2,_0x55f1af[_0x1fccc3(0x2ca)]):_0x498960[_0x1fccc3(0x347)]['push'](_0x55f1af['variable']);return await _0x498960[_0x1fccc3(0x48a)](),_0x498960;}catch(_0xf9f311){throw this[_0x1fccc3(0x320)][_0x1fccc3(0x162)](this[_0x1fccc3(0x13c)]+'\x20('+this['instance'][_0x1fccc3(0x5f4)]+_0x1fccc3(0x241)+_0xf9f311),new m('Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+_0xf9f311);}}async[a0_0x11dbb0(0x1d8)](_0x36be22){const _0x3bb0e2=a0_0x11dbb0;try{if(!this[_0x3bb0e2(0x27b)]['flowConfig'][_0x3bb0e2(0x3d2)])throw new m('Fluxos\x20não\x20estão\x20ativados');this['logger']['verbose'](this[_0x3bb0e2(0x13c)]+'\x20('+this[_0x3bb0e2(0x646)]['wuid']+_0x3bb0e2(0x25f));let _0x446332=(await this[_0x3bb0e2(0x5ad)]({'numbers':[_0x36be22[_0x3bb0e2(0x2c5)]]}))[0x0];if(!_0x446332['exists']&&!(0x0,w[_0x3bb0e2(0x3f9)])(_0x446332[_0x3bb0e2(0x598)])&&!_0x446332[_0x3bb0e2(0x598)][_0x3bb0e2(0x1e2)](_0x3bb0e2(0x4f9)))throw new m(_0x446332);let _0x584d0e=await D[_0x3bb0e2(0x5df)]({'owner':this['instance']['wuid'],'name':_0x36be22[_0x3bb0e2(0x36c)]});if(!_0x584d0e)return this[_0x3bb0e2(0x320)][_0x3bb0e2(0x162)](this[_0x3bb0e2(0x13c)]+'\x20('+this[_0x3bb0e2(0x646)][_0x3bb0e2(0x5f4)]+'):\x20Flow\x20não\x20encontrado'),{'message':'Flow\x20não\x20encontrado'};let _0x4f11e1=await this[_0x3bb0e2(0x65c)](_0x584d0e,_0x446332[_0x3bb0e2(0x598)],_0x36be22['changeVariables']);if(_0x4f11e1){this[_0x3bb0e2(0x320)]['verbose'](this[_0x3bb0e2(0x13c)]+'\x20('+this['instance'][_0x3bb0e2(0x5f4)]+_0x3bb0e2(0x5d0));let _0x6c4ce7=await this[_0x3bb0e2(0x160)](_0x4f11e1);return _0x6c4ce7&&await this[_0x3bb0e2(0x126)](_0x4f11e1,_0x6c4ce7,_0x4f11e1[_0x3bb0e2(0x2c5)]),{'message':'Flow\x20iniciado\x20com\x20'+_0x36be22[_0x3bb0e2(0x2c5)]};}}catch(_0x503d44){if(this['logger']['error'](this[_0x3bb0e2(0x13c)]+'\x20('+this['instance'][_0x3bb0e2(0x5f4)]+'):\x20Erro\x20ao\x20iniciar\x20fluxo\x20'+_0x503d44),_0x503d44&&_0x503d44[_0x3bb0e2(0x2cb)]&&Array[_0x3bb0e2(0x4df)](_0x503d44[_0x3bb0e2(0x2cb)])&&_0x503d44[_0x3bb0e2(0x2cb)][0x0]){let {jid:_0x3ebfbd,exists:_0x108585}=_0x503d44[_0x3bb0e2(0x2cb)][0x0];}throw new m(_0x3bb0e2(0x507)+_0x503d44[_0x3bb0e2(0x2cb)]);}}async[a0_0x11dbb0(0x65c)](_0x3c4860,_0x4fab8c,_0x55dadd){const _0x8d217a=a0_0x11dbb0;this[_0x8d217a(0x320)]['verbose'](this[_0x8d217a(0x13c)]+'\x20('+this['instance'][_0x8d217a(0x5f4)]+_0x8d217a(0x3cc));try{let _0x3648d9=require('mongodb')[_0x8d217a(0x3ac)],_0x3be759=Date[_0x8d217a(0x5e7)](),_0x4a68dc=_0x8d217a(0x2fd),_0x3167cc={},_0x56bc40={},_0x3a095a={..._0x3c4860[_0x8d217a(0x40a)],'chatLog':null},_0x1e7533=await this[_0x8d217a(0x1e1)](_0x3a095a[_0x8d217a(0x347)]),_0x12e8c8=await this[_0x8d217a(0x3c9)](_0x4fab8c),_0x309b83={..._0x1e7533,..._0x12e8c8},_0x130728={'lastReceivedMessage':_0x3167cc,'lastSendMessage':_0x56bc40,'lastBlockId':_0x4a68dc,'lastCondition':!0x0,'realVariables':_0x309b83};_0x3a095a[_0x8d217a(0x36b)]=_0x130728,_0x3a095a[_0x8d217a(0x36b)][_0x8d217a(0x2bc)]={..._0x309b83,..._0x55dadd},delete _0x3a095a[_0x8d217a(0x42d)],_0x3a095a[_0x8d217a(0x42d)]=new _0x3648d9(),_0x3a095a[_0x8d217a(0x11a)]=_0x3be759,_0x3a095a[_0x8d217a(0x4c3)]=_0x8d217a(0x130),_0x3a095a[_0x8d217a(0x2c5)]=_0x4fab8c;let _0x5765e1=await G[_0x8d217a(0x39a)](_0x3a095a);return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x8d217a(0x646)][_0x8d217a(0x5f4)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x5765e1?_0x3a095a:null;}catch(_0x1fdbdc){throw this[_0x8d217a(0x320)][_0x8d217a(0x162)](this[_0x8d217a(0x13c)]+'\x20('+this[_0x8d217a(0x646)]['wuid']+_0x8d217a(0xee)+_0x1fdbdc),new m(_0x1fdbdc[_0x8d217a(0x2cb)]);}}async[a0_0x11dbb0(0x56a)](_0x532b3f){const _0x314f65=a0_0x11dbb0;try{return this['logger'][_0x314f65(0x147)](this[_0x314f65(0x13c)]+'\x20('+this[_0x314f65(0x646)]['wuid']+'):\x20Buscando\x20conversa...'),this[_0x314f65(0x320)]['verbose'](this[_0x314f65(0x13c)]+'\x20('+this[_0x314f65(0x646)][_0x314f65(0x5f4)]+'):\x20Query\x20params:'+{'owner':this[_0x314f65(0x646)][_0x314f65(0x5f4)],'_id':_0x532b3f}),await G[_0x314f65(0x5df)]({'owner':this[_0x314f65(0x646)]['wuid'],'_id':_0x532b3f});}catch(_0x22cb74){throw this[_0x314f65(0x320)][_0x314f65(0x162)](this[_0x314f65(0x13c)]+'\x20('+this[_0x314f65(0x646)]['wuid']+_0x314f65(0xf5)+_0x22cb74),new m('Erro\x20ao\x20buscar\x20conversa:\x20'+_0x22cb74[_0x314f65(0x2cb)]);}}async[a0_0x11dbb0(0xea)](_0x3abbc8,_0x1b3932=0x64){const _0x34873e=a0_0x11dbb0;try{this[_0x34873e(0x320)]['verbose'](this[_0x34873e(0x13c)]+'\x20('+this[_0x34873e(0x646)][_0x34873e(0x5f4)]+'):\x20Buscando\x20conversas...');let _0x11b3bd={..._0x3abbc8,'owner':this[_0x34873e(0x646)][_0x34873e(0x5f4)]};return this[_0x34873e(0x320)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x34873e(0x5f4)]+_0x34873e(0x24d)+_0x11b3bd),await G[_0x34873e(0x467)](_0x11b3bd)[_0x34873e(0x50d)](_0x1b3932)['sort']({'lastInteraction':-0x1});}catch(_0x568b9e){throw this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x34873e(0x5f4)]+_0x34873e(0x3df)+_0x568b9e),new m('Erro\x20ao\x20buscar\x20conversas:\x20'+_0x568b9e[_0x34873e(0x2cb)]);}}async[a0_0x11dbb0(0x568)](_0x214e19){const _0x1bc68b=a0_0x11dbb0;try{return this[_0x1bc68b(0x320)]['verbose'](this[_0x1bc68b(0x13c)]+'\x20('+this[_0x1bc68b(0x646)][_0x1bc68b(0x5f4)]+_0x1bc68b(0x34b)),this['logger']['verbose'](this[_0x1bc68b(0x13c)]+'\x20('+this['instance'][_0x1bc68b(0x5f4)]+_0x1bc68b(0x2c9)+{'owner':this['instance']['wuid'],'_id':_0x214e19}),(await G['deleteOne']({'owner':this[_0x1bc68b(0x646)][_0x1bc68b(0x5f4)],'_id':_0x214e19}))[_0x1bc68b(0x222)]===0x0?{'message':_0x1bc68b(0x5de)}:{'message':_0x1bc68b(0x5cd)};}catch(_0x130d2d){throw this[_0x1bc68b(0x320)][_0x1bc68b(0x162)](this['instanceName']+'\x20('+this['instance'][_0x1bc68b(0x5f4)]+_0x1bc68b(0x5a0)+_0x130d2d),new m(_0x1bc68b(0x322)+_0x130d2d['message']);}}async[a0_0x11dbb0(0x3b8)](_0x4ba0fc){const _0x591bfb=a0_0x11dbb0;try{let {_id:_0x1066bd,chatLog:_0x1ac792,status:_0x3ac609}=_0x4ba0fc;if(!_0x1066bd)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x37183c={};if(_0x3ac609!==void 0x0&&(_0x37183c[_0x591bfb(0x4c3)]=_0x3ac609),Object[_0x591bfb(0x354)](_0x37183c)[_0x591bfb(0x125)]===0x0)return{'message':_0x591bfb(0x3db)};let _0x35907f=this[_0x591bfb(0x646)][_0x591bfb(0x5f4)],_0x4bb110=await G[_0x591bfb(0x281)]({'_id':_0x1066bd,'owner':_0x35907f},{'$set':_0x37183c},{'new':!0x0});return _0x4bb110||{'message':_0x591bfb(0x5ab)};}catch(_0x2c3fc5){throw this[_0x591bfb(0x320)][_0x591bfb(0x162)](this['instanceName']+'\x20('+this[_0x591bfb(0x646)][_0x591bfb(0x5f4)]+'):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x2c3fc5),new m('Erro\x20ao\x20editar\x20a\x20conversa:\x20'+_0x2c3fc5['message']);}}async[a0_0x11dbb0(0x4bf)](_0x2758ec){const _0x23cdad=a0_0x11dbb0;try{_0x2758ec['id']=this['createJid'](_0x2758ec['id']);let {id:_0x1b9136,leadInfo:_0x581b74}=_0x2758ec;if(!_0x1b9136)throw new Error(_0x23cdad(0x2b0));let _0x5a8954=(_0x1b6bce,_0x50c51d,_0xc884cc)=>{const _0x195c27=_0x23cdad;_0xc884cc[_0x195c27(0x5b1)](_0xdb4f02=>{_0x1b6bce[_0xdb4f02]!==void 0x0&&(_0x50c51d['leadInfo.'+_0xdb4f02]=_0x1b6bce[_0xdb4f02]);});},_0x12ce5d={};if(_0x5a8954(_0x581b74,_0x12ce5d,[_0x23cdad(0x2ab),_0x23cdad(0xff),_0x23cdad(0x53b),_0x23cdad(0x626),'status',_0x23cdad(0x4b1),'tags',_0x23cdad(0x133),_0x23cdad(0x148)]),Array[_0x23cdad(0x4df)](_0x581b74[_0x23cdad(0x590)])&&(_0x12ce5d[_0x23cdad(0x4ad)]=_0x581b74['customFields'][_0x23cdad(0x360)](_0x466cc4=>({'_id':_0x466cc4['_id'],'value':_0x466cc4[_0x23cdad(0x16c)]}))),_0x2758ec['leadInfo'][_0x23cdad(0x396)]!==void 0x0&&(_0x12ce5d[_0x23cdad(0x39f)]=Number(_0x2758ec[_0x23cdad(0x49a)]['desativadoFluxoAte'])),_0x2758ec[_0x23cdad(0x15c)]!==void 0x0&&(_0x12ce5d[_0x23cdad(0x15c)]=Number(_0x2758ec[_0x23cdad(0x15c)])),Object[_0x23cdad(0x354)](_0x12ce5d)[_0x23cdad(0x125)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x4cf034=this[_0x23cdad(0x646)][_0x23cdad(0x5f4)];if(!_0x4cf034)throw new Error(_0x23cdad(0x238));if(!await M[_0x23cdad(0x5df)]({'id':_0x2758ec['id'],'owner':_0x4cf034})){let _0x36d09f=(await this['whatsappNumber']({'numbers':[_0x2758ec['id']]}))[0x0];if(!_0x36d09f[_0x23cdad(0x451)]&&!(0x0,w['isJidGroup'])(_0x36d09f['jid'])&&!_0x36d09f[_0x23cdad(0x598)][_0x23cdad(0x1e2)](_0x23cdad(0x4f9)))throw new m(_0x36d09f);_0x2758ec['id']=_0x36d09f['jid'];}let _0xf062a4=await M[_0x23cdad(0x281)]({'id':_0x2758ec['id'],'owner':_0x4cf034},{'$set':_0x12ce5d},{'new':!0x0,'upsert':!0x0});return _0xf062a4?(this[_0x23cdad(0x320)][_0x23cdad(0x147)](this[_0x23cdad(0x13c)]+'\x20('+this['instance'][_0x23cdad(0x5f4)]+_0x23cdad(0x2e0)+_0xf062a4),_0xf062a4):{'message':_0x23cdad(0x1cc)};}catch(_0x5b843b){throw this[_0x23cdad(0x320)][_0x23cdad(0x162)](this[_0x23cdad(0x13c)]+'\x20('+this['instance'][_0x23cdad(0x5f4)]+_0x23cdad(0x39d)+_0x5b843b),new m(_0x23cdad(0x410)+_0x5b843b[_0x23cdad(0x2cb)]);}}async[a0_0x11dbb0(0x1d4)](_0x4a8330){const _0x29bfd8=a0_0x11dbb0;let _0x22c961=this[_0x29bfd8(0x646)]['wuid'];try{let _0x4c8727=await te['findById'](_0x22c961);_0x4c8727||(_0x4c8727=new te({'_id':_0x22c961}),await _0x4c8727['save']());let _0x2ced32=_0x4a8330[_0x29bfd8(0x42d)]?_0x4c8727[_0x29bfd8(0x3a7)][_0x29bfd8(0x649)](_0x30070d=>_0x30070d['_id']===_0x4a8330[_0x29bfd8(0x42d)]):-0x1;if(_0x4a8330[_0x29bfd8(0x430)]&&_0x2ced32>-0x1)_0x4c8727['agents'][_0x29bfd8(0x4ea)](_0x2ced32,0x1);else{if(_0x2ced32>-0x1){let _0x4c8616=_0x4c8727[_0x29bfd8(0x3a7)][_0x2ced32];_0x4a8330[_0x29bfd8(0x1dd)]&&(_0x4c8616[_0x29bfd8(0x1dd)]=_0x4a8330[_0x29bfd8(0x1dd)]),_0x4a8330[_0x29bfd8(0x36c)]&&(_0x4c8616['name']=_0x4a8330[_0x29bfd8(0x36c)]),_0x4a8330[_0x29bfd8(0x53b)]&&(_0x4c8616[_0x29bfd8(0x53b)]=_0x4a8330[_0x29bfd8(0x53b)]),_0x4a8330[_0x29bfd8(0x1a8)]&&(_0x4c8616[_0x29bfd8(0x1a8)]=_0x4a8330['role']);}else _0x4c8727['agents'][_0x29bfd8(0x17b)]({'_id':_0x4a8330[_0x29bfd8(0x42d)]||new he['default'][(_0x29bfd8(0x402))][(_0x29bfd8(0x3ac))]()[_0x29bfd8(0x29e)](),'fone':_0x4a8330[_0x29bfd8(0x1dd)],'name':_0x4a8330['name'],'email':_0x4a8330[_0x29bfd8(0x53b)],'role':_0x4a8330[_0x29bfd8(0x1a8)]});}let _0x516ce2=await _0x4c8727['save']();return this[_0x29bfd8(0x27b)]=_0x516ce2,this[_0x29bfd8(0x320)][_0x29bfd8(0x147)](this[_0x29bfd8(0x13c)]+'\x20('+this[_0x29bfd8(0x646)]['wuid']+_0x29bfd8(0x415)),this[_0x29bfd8(0x320)][_0x29bfd8(0x147)](this[_0x29bfd8(0x13c)]+'\x20('+this[_0x29bfd8(0x646)]['wuid']+'):\x20'+this['AutomateSystem']),_0x516ce2;}catch(_0x3a5ebd){throw this['logger'][_0x29bfd8(0x162)](this[_0x29bfd8(0x13c)]+'\x20('+this[_0x29bfd8(0x646)]['wuid']+_0x29bfd8(0x443)+_0x3a5ebd),new m(_0x29bfd8(0x45c)+_0x3a5ebd[_0x29bfd8(0x2cb)]);}}async[a0_0x11dbb0(0x5e4)](_0x23086d){const _0x53f0e7=a0_0x11dbb0;let _0x2ac675=this[_0x53f0e7(0x646)][_0x53f0e7(0x5f4)];try{let _0x255985=await te[_0x53f0e7(0x31c)](_0x2ac675);_0x255985||(_0x255985=new te({'_id':_0x2ac675}),await _0x255985[_0x53f0e7(0x48a)]());let _0x20815e=_0x23086d[_0x53f0e7(0x42d)]?_0x255985['customFields']['findIndex'](_0x3bd44b=>_0x3bd44b[_0x53f0e7(0x42d)]===_0x23086d['_id']):-0x1,_0x30b4e4=!0x1,_0x12f85a=_0x255985[_0x53f0e7(0x590)][_0x53f0e7(0x66b)](_0x30aeb9=>_0x30aeb9[_0x53f0e7(0x546)]===_0x23086d['order']);if(_0x23086d[_0x53f0e7(0x430)]&&_0x20815e>-0x1)_0x255985[_0x53f0e7(0x590)][_0x53f0e7(0x4ea)](_0x20815e,0x1),_0x30b4e4=!0x0;else{if(_0x20815e>-0x1){if(_0x255985['customFields'][_0x53f0e7(0x66b)](_0x444d2b=>_0x444d2b[_0x53f0e7(0x36c)]===_0x23086d[_0x53f0e7(0x36c)]&&_0x444d2b[_0x53f0e7(0x42d)]!==_0x23086d[_0x53f0e7(0x42d)]))throw new Error(_0x53f0e7(0x594));let _0x292f77=_0x255985[_0x53f0e7(0x590)][_0x20815e];_0x23086d[_0x53f0e7(0x546)]&&(_0x12f85a||!Number['isInteger'](_0x23086d['order']))&&(_0x292f77['order']=_0x23086d[_0x53f0e7(0x546)],_0x30b4e4=!0x0),_0x23086d[_0x53f0e7(0x36c)]&&(_0x292f77[_0x53f0e7(0x36c)]=_0x23086d['name']);}else{if(_0x255985[_0x53f0e7(0x590)][_0x53f0e7(0x66b)](_0x1d12b6=>_0x1d12b6['name']===_0x23086d['name']&&_0x1d12b6[_0x53f0e7(0x42d)]!==_0x23086d['_id']))throw new Error(_0x53f0e7(0x594));_0x255985[_0x53f0e7(0x590)]['push']({'_id':_0x23086d['_id']||new he['default'][(_0x53f0e7(0x402))][(_0x53f0e7(0x3ac))]()[_0x53f0e7(0x29e)](),'order':_0x23086d['order'],'name':_0x23086d[_0x53f0e7(0x36c)]}),_0x30b4e4=!0x0;}}if(_0x30b4e4){_0x255985['customFields'][_0x53f0e7(0x38a)]((_0x305764,_0x3be054)=>_0x305764[_0x53f0e7(0x546)]>_0x3be054[_0x53f0e7(0x546)]?0x1:_0x3be054[_0x53f0e7(0x546)]>_0x305764[_0x53f0e7(0x546)]?-0x1:0x0);for(let _0xa61d71=0x0;_0xa61d71<_0x255985[_0x53f0e7(0x590)][_0x53f0e7(0x125)];_0xa61d71++)_0x255985[_0x53f0e7(0x590)][_0xa61d71][_0x53f0e7(0x546)]=_0xa61d71+0x1;}let _0x205f7d=await _0x255985[_0x53f0e7(0x48a)]();return this[_0x53f0e7(0x27b)]=_0x205f7d,this[_0x53f0e7(0x320)][_0x53f0e7(0x147)](this['instanceName']+'\x20('+this[_0x53f0e7(0x646)]['wuid']+_0x53f0e7(0x295)),this[_0x53f0e7(0x320)][_0x53f0e7(0x147)](this[_0x53f0e7(0x13c)]+'\x20('+this[_0x53f0e7(0x646)][_0x53f0e7(0x5f4)]+_0x53f0e7(0x2e0)+this['AutomateSystem']),_0x205f7d;}catch(_0x1353a5){throw this[_0x53f0e7(0x320)][_0x53f0e7(0x162)](this['instanceName']+'\x20('+this[_0x53f0e7(0x646)][_0x53f0e7(0x5f4)]+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x1353a5),new m(_0x53f0e7(0x571)+_0x1353a5[_0x53f0e7(0x2cb)]);}}async[a0_0x11dbb0(0x35f)](_0xe00b4a){const _0x537589=a0_0x11dbb0;let _0xab9086=this['instance'][_0x537589(0x5f4)];try{let _0x5db2df=await te['findById'](_0xab9086);_0x5db2df||(_0x5db2df=new te({'_id':_0xab9086}),await _0x5db2df[_0x537589(0x48a)]()),_0x5db2df[_0x537589(0x622)][_0x537589(0x3d2)]=_0xe00b4a?.[_0x537589(0x3d2)]!==void 0x0?_0xe00b4a?.['enabled']:_0x5db2df['flowConfig'][_0x537589(0x3d2)],_0x5db2df[_0x537589(0x622)][_0x537589(0x5d2)]=_0xe00b4a?.['ignoreGroups']!==void 0x0?_0xe00b4a?.[_0x537589(0x5d2)]:_0x5db2df[_0x537589(0x622)]['ignoreGroups'],_0x5db2df[_0x537589(0x622)][_0x537589(0x250)]=_0xe00b4a?.[_0x537589(0x250)]??_0x5db2df[_0x537589(0x622)][_0x537589(0x250)],_0x5db2df[_0x537589(0x622)][_0x537589(0x2b9)]=_0xe00b4a?.[_0x537589(0x2b9)]??_0x5db2df[_0x537589(0x622)][_0x537589(0x2b9)],_0x5db2df[_0x537589(0x622)][_0x537589(0x270)]=_0xe00b4a?.[_0x537589(0x270)]??_0x5db2df[_0x537589(0x622)][_0x537589(0x270)];let _0x565018=await _0x5db2df['save']();return this[_0x537589(0x27b)]=_0x565018,this[_0x537589(0x320)][_0x537589(0x147)](this[_0x537589(0x13c)]+'\x20('+this[_0x537589(0x646)][_0x537589(0x5f4)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x537589(0x320)]['verbose'](this[_0x537589(0x13c)]+'\x20('+this['instance'][_0x537589(0x5f4)]+_0x537589(0x2e0)+this[_0x537589(0x27b)]),_0x565018;}catch(_0x269f66){throw this['logger']['error'](this[_0x537589(0x13c)]+'\x20('+this[_0x537589(0x646)][_0x537589(0x5f4)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+_0x269f66),new m(_0x537589(0x45c)+_0x269f66[_0x537589(0x2cb)]);}}async[a0_0x11dbb0(0x22b)](){const _0x4859e0=a0_0x11dbb0;let _0x48d6aa=this[_0x4859e0(0x646)][_0x4859e0(0x5f4)];try{let _0x472da2=await te[_0x4859e0(0x31c)](_0x48d6aa);return _0x472da2||(_0x472da2=new te({'_id':_0x48d6aa})),_0x472da2[_0x4859e0(0x622)]=_0x472da2[_0x4859e0(0x622)]||{},_0x472da2['flowConfig']['enabled']===void 0x0&&(_0x472da2[_0x4859e0(0x622)][_0x4859e0(0x3d2)]=!0x1),_0x472da2[_0x4859e0(0x622)]['ignoreGroups']===void 0x0&&(_0x472da2[_0x4859e0(0x622)][_0x4859e0(0x5d2)]=!0x0),_0x472da2[_0x4859e0(0x622)][_0x4859e0(0x250)]===void 0x0&&(_0x472da2[_0x4859e0(0x622)][_0x4859e0(0x250)]='!'),_0x472da2[_0x4859e0(0x622)]['stopConversation']===void 0x0&&(_0x472da2[_0x4859e0(0x622)][_0x4859e0(0x2b9)]='!stop'),_0x472da2[_0x4859e0(0x622)]['stopMinutes']===void 0x0&&(_0x472da2[_0x4859e0(0x622)][_0x4859e0(0x270)]=0x14),await _0x472da2[_0x4859e0(0x48a)](),this['AutomateSystem']=_0x472da2,this[_0x4859e0(0x320)][_0x4859e0(0x147)](this[_0x4859e0(0x13c)]+'\x20('+this[_0x4859e0(0x646)]['wuid']+_0x4859e0(0x3b6)),this[_0x4859e0(0x320)][_0x4859e0(0x147)](this[_0x4859e0(0x27b)]),_0x472da2;}catch(_0x8f56c7){throw this[_0x4859e0(0x320)][_0x4859e0(0x162)](this[_0x4859e0(0x13c)]+'\x20('+this[_0x4859e0(0x646)]['wuid']+_0x4859e0(0x413)+_0x8f56c7[_0x4859e0(0x2cb)]),new m(_0x4859e0(0x2ed)+_0x8f56c7[_0x4859e0(0x2cb)]);}}async['scheduleNextCheck'](){const _0xd89e77=a0_0x11dbb0;let _0xe0c228=()=>{const _0x3c4138=a0_0x4676;this['logger'][_0x3c4138(0x147)](this[_0x3c4138(0x13c)]+'\x20('+this[_0x3c4138(0x646)][_0x3c4138(0x5f4)]+_0x3c4138(0x332)+this[_0x3c4138(0x4fa)]+'\x20saindo\x20da\x20função');},_0x185baf=async()=>{const _0x55987a=a0_0x4676;this[_0x55987a(0x320)]['verbose'](this[_0x55987a(0x13c)]+'\x20('+this['instance'][_0x55987a(0x5f4)]+_0x55987a(0x5ef));let _0x226553=Date['now']()-0xc*0x3c*0x3c*0x3e8;return await L[_0x55987a(0x467)]({'owner':this[_0x55987a(0x646)][_0x55987a(0x5f4)],'status':{'$in':['scheduled',_0x55987a(0x127)]},'$or':[{'when':{'$lte':Date[_0x55987a(0x5e7)](),'$gte':_0x226553}},{'when':0x0}]});},_0x103131=async _0x37f852=>{const _0x27f8b8=a0_0x4676;for(let _0x32df57 of _0x37f852){if(!await L['findOneAndUpdate']({'_id':_0x32df57['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x27f8b8(0x5e7)]()-0x1770}}]},{'$set':{'startSend':Date[_0x27f8b8(0x5e7)]()}}))return;if(!this[_0x27f8b8(0x16f)]){this['logger'][_0x27f8b8(0x147)](this[_0x27f8b8(0x13c)]+'\x20('+this[_0x27f8b8(0x646)][_0x27f8b8(0x5f4)]+_0x27f8b8(0x437));break;}(!_0x32df57[_0x27f8b8(0x1a0)]||_0x32df57[_0x27f8b8(0x1a0)][_0x27f8b8(0x125)]===0x0)&&(_0x32df57=await L['findByIdAndUpdate'](_0x32df57[_0x27f8b8(0x42d)],{'$set':{'status':_0x27f8b8(0x127),'remoteJidsRemaining':[..._0x32df57['remoteJids']]}},{'new':!0x0}));for(let _0x489bc5 of _0x32df57[_0x27f8b8(0x1a0)]){if(this[_0x27f8b8(0x187)]=Date[_0x27f8b8(0x5e7)](),_0x32df57[_0x27f8b8(0x1ca)][_0x27f8b8(0x66b)](_0x2d2062=>_0x2d2062['remoteJid']===_0x489bc5)){this[_0x27f8b8(0x320)][_0x27f8b8(0x147)](this[_0x27f8b8(0x13c)]+'\x20('+this['instance'][_0x27f8b8(0x5f4)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x489bc5+_0x27f8b8(0x1c1));continue;}try{let _0x2de2c7=await this[_0x27f8b8(0x5f0)](_0x489bc5,_0x32df57),_0x2b4e45={'remoteJid':_0x489bc5,'error':_0x2de2c7[_0x27f8b8(0x162)],'id':_0x2de2c7['id']||null,'error_log':_0x2de2c7[_0x27f8b8(0x14c)]||null,'log_timestamp':Date[_0x27f8b8(0x5e7)]()};if((await L[_0x27f8b8(0x203)](_0x32df57[_0x27f8b8(0x42d)],{'$push':{'messagesSend':_0x2b4e45},'$pull':{'remoteJidsRemaining':_0x489bc5}},{'new':!0x0}))[_0x27f8b8(0x4c3)]===_0x27f8b8(0x506)){this[_0x27f8b8(0x320)][_0x27f8b8(0x147)](this[_0x27f8b8(0x13c)]+'\x20('+this[_0x27f8b8(0x646)]['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x32df57[_0x27f8b8(0x42d)]+_0x27f8b8(0x667));break;}if(!this[_0x27f8b8(0x16f)]){this['logger']['verbose'](this[_0x27f8b8(0x13c)]+'\x20('+this['instance'][_0x27f8b8(0x5f4)]+_0x27f8b8(0x1ea));break;}if(!this[_0x27f8b8(0x4fa)]){this[_0x27f8b8(0x320)][_0x27f8b8(0x147)](this['instanceName']+'\x20('+this[_0x27f8b8(0x646)]['wuid']+_0x27f8b8(0x3c4)+_0x32df57[_0x27f8b8(0x42d)]+_0x27f8b8(0x231));break;}let _0x1a5784=this[_0x27f8b8(0x4c6)](_0x32df57[_0x27f8b8(0x29a)],_0x32df57[_0x27f8b8(0x656)]);await this['sleep'](_0x1a5784);}catch(_0x451351){this[_0x27f8b8(0x320)][_0x27f8b8(0x162)](this[_0x27f8b8(0x13c)]+'\x20('+this[_0x27f8b8(0x646)]['wuid']+_0x27f8b8(0x39e)+_0x489bc5+':\x20'+_0x451351[_0x27f8b8(0x2cb)]);let _0x146ea5={'remoteJid':_0x489bc5,'status':_0x27f8b8(0x162),'timestamp':Date[_0x27f8b8(0x5e7)](),'error':_0x451351['message']};await L[_0x27f8b8(0x203)](_0x32df57[_0x27f8b8(0x42d)],{'$push':{'messagesSend':_0x146ea5},'$pull':{'remoteJidsRemaining':_0x489bc5}},{'new':!0x0});}}let _0x10036e=await L[_0x27f8b8(0x31c)](_0x32df57[_0x27f8b8(0x42d)]);_0x10036e[_0x27f8b8(0x1a0)][_0x27f8b8(0x125)]===0x0&&_0x10036e['status']!==_0x27f8b8(0x506)&&await L[_0x27f8b8(0x203)](_0x32df57[_0x27f8b8(0x42d)],{'$set':{'status':'done'}},{'new':!0x0}),await new Promise(_0x384f54=>setTimeout(_0x384f54,0x1388));}},_0x5b0255=async()=>{const _0x291c67=a0_0x4676;let _0x599a69=await L[_0x291c67(0x5df)]({'owner':this[_0x291c67(0x646)]['wuid'],'status':_0x291c67(0x648),'when':{'$gt':Date['now']()}})['sort']({'when':0x1});_0x599a69&&_0x599a69[_0x291c67(0x51c)]-Date[_0x291c67(0x5e7)]()<=0x5265c00?this[_0x291c67(0x38f)]=_0x599a69['when']-Date[_0x291c67(0x5e7)]():this[_0x291c67(0x38f)]=(0x3c+Math[_0x291c67(0xf4)](Math['random']()*0x3c))*0x3c*0x3e8,this['delayMessage']=Math[_0x291c67(0x460)](this['delayMessage'],0x7d0);let _0x3dcae9=Math[_0x291c67(0x17f)](this[_0x291c67(0x38f)]/0xea60);if(_0x599a69){let _0x10f380=new Date(_0x599a69[_0x291c67(0x51c)])[_0x291c67(0xfa)]();this[_0x291c67(0x320)][_0x291c67(0x147)](this[_0x291c67(0x13c)]+'\x20('+this['instance']['wuid']+_0x291c67(0x630)+_0x10f380+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x3dcae9+_0x291c67(0x22d));}else this[_0x291c67(0x320)][_0x291c67(0x147)](this[_0x291c67(0x13c)]+'\x20('+this[_0x291c67(0x646)][_0x291c67(0x5f4)]+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x3dcae9+_0x291c67(0x22d));setTimeout(()=>this['scheduleNextCheck'](),this[_0x291c67(0x38f)]);};if(this[_0xd89e77(0x4fa)]&&Date[_0xd89e77(0x5e7)]()-this[_0xd89e77(0x187)]<0x1d4c0){_0xe0c228();return;}try{let _0x296882=await _0x185baf();_0x296882[_0xd89e77(0x125)]===0x0?this[_0xd89e77(0x320)][_0xd89e77(0x147)](this[_0xd89e77(0x13c)]+'\x20('+this[_0xd89e77(0x646)][_0xd89e77(0x5f4)]+_0xd89e77(0x307)):(this[_0xd89e77(0x4fa)]=_0x296882[0x0]['_id'],await _0x103131(_0x296882)),await _0x5b0255(),this['processingScheduleMessageId']=null;}catch(_0x462fc4){this[_0xd89e77(0x320)]['error'](_0xd89e77(0x198)+_0x462fc4[_0xd89e77(0x2cb)]);}}[a0_0x11dbb0(0x4c6)](_0x7dfec7,_0x5c99d7){const _0x2c602d=a0_0x11dbb0;return _0x7dfec7=Math[_0x2c602d(0x460)](0.5,_0x7dfec7),_0x5c99d7=Math[_0x2c602d(0x460)](0x3,_0x5c99d7),Math['floor'](Math['random']()*(_0x5c99d7-_0x7dfec7+0x1)+_0x7dfec7)*0x3e8;}['sleep'](_0x5d3b05){return new Promise(_0x4ee267=>setTimeout(_0x4ee267,_0x5d3b05));}async[a0_0x11dbb0(0x3c9)](_0x2d6fab){const _0x112009=a0_0x11dbb0;if(!this[_0x112009(0x27b)]&&(await this[_0x112009(0x22b)](),!this[_0x112009(0x27b)]))return null;_0x2d6fab=this[_0x112009(0x2f2)](_0x2d6fab);let _0x3a1990=await M['findOne']({'id':_0x2d6fab,'owner':this[_0x112009(0x646)][_0x112009(0x5f4)]}),_0x37a100={};if(_0x3a1990&&_0x3a1990[_0x112009(0x49a)]){let _0x4425da=_0x3a1990[_0x112009(0x49a)];typeof _0x4425da[_0x112009(0x2ab)]==_0x112009(0x314)&&(_0x37a100['nome']=_0x4425da[_0x112009(0x2ab)]),typeof _0x4425da['nomecompleto']=='string'&&(_0x37a100[_0x112009(0xff)]=_0x4425da[_0x112009(0xff)]),typeof _0x4425da[_0x112009(0x53b)]==_0x112009(0x314)&&(_0x37a100[_0x112009(0x53b)]=_0x4425da[_0x112009(0x53b)]),typeof _0x4425da[_0x112009(0x626)]==_0x112009(0x314)&&(_0x37a100[_0x112009(0x626)]=_0x4425da[_0x112009(0x626)]),typeof _0x4425da[_0x112009(0x4c3)]==_0x112009(0x314)&&(_0x37a100['status']=_0x4425da[_0x112009(0x4c3)]),typeof _0x4425da[_0x112009(0x4b1)]==_0x112009(0x314)&&(_0x37a100[_0x112009(0x4b1)]=_0x4425da['notas']),typeof _0x4425da['responsavelid']=='string'&&(_0x37a100[_0x112009(0x148)]=_0x4425da[_0x112009(0x148)]),Array[_0x112009(0x4df)](_0x4425da['tags'])&&(_0x37a100[_0x112009(0x482)]=_0x4425da[_0x112009(0x482)][_0x112009(0x140)](',\x20'));}return _0x3a1990&&_0x3a1990[_0x112009(0x49a)]&&_0x3a1990[_0x112009(0x49a)]['customFields']&&_0x3a1990[_0x112009(0x49a)][_0x112009(0x590)][_0x112009(0x5b1)](_0x140b16=>{const _0x10620e=_0x112009;let _0x23ec15=this['AutomateSystem'][_0x10620e(0x590)][_0x10620e(0x467)](_0x1a2dbb=>_0x1a2dbb['_id']===_0x140b16[_0x10620e(0x42d)]);_0x23ec15&&(_0x37a100[_0x23ec15[_0x10620e(0x36c)]]=_0x140b16[_0x10620e(0x16c)]);}),_0x37a100;}async['replaceVariablesChat'](_0x5b3818,_0x3bfaf8){const _0x3d66fb=a0_0x11dbb0;let _0x4d953c=await this['getVariablesChat'](_0x3bfaf8);return this[_0x3d66fb(0x3d1)](_0x5b3818,_0x4d953c);}async[a0_0x11dbb0(0x650)](_0x2b6124){const _0x25dd22=a0_0x11dbb0;try{if(this[_0x25dd22(0x320)][_0x25dd22(0x147)](this[_0x25dd22(0x13c)]+'\x20('+this[_0x25dd22(0x646)][_0x25dd22(0x5f4)]+_0x25dd22(0x4e8)),_0x2b6124[_0x25dd22(0x430)]&&_0x2b6124[_0x25dd22(0x42d)]){if(this[_0x25dd22(0x4fa)]===_0x2b6124[_0x25dd22(0x42d)][_0x25dd22(0x29e)]())throw new Error(_0x25dd22(0x545));let _0x580f3c=await L[_0x25dd22(0x1e7)](_0x2b6124[_0x25dd22(0x42d)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x580f3c;}let _0x107fb0;if(_0x2b6124[_0x25dd22(0x42d)]&&(_0x107fb0=await L['findOne']({'owner':this[_0x25dd22(0x646)]['wuid'],'_id':_0x2b6124[_0x25dd22(0x42d)]})),_0x107fb0){let _0x2fedf8=_0x2b6124;this[_0x25dd22(0x4fa)]===_0x107fb0[_0x25dd22(0x42d)][_0x25dd22(0x29e)]()&&(_0x2fedf8={'status':_0x2b6124[_0x25dd22(0x4c3)],'_id':_0x2b6124[_0x25dd22(0x42d)]});let _0x3f6996=await L['findByIdAndUpdate'](_0x107fb0[_0x25dd22(0x42d)],{'$set':_0x2fedf8},{'new':!0x0});return setTimeout(()=>this[_0x25dd22(0x26a)](),0x7d0),_0x3f6996;}else{_0x2b6124['owner']=this[_0x25dd22(0x646)][_0x25dd22(0x5f4)];let _0x52a13c=await new L(_0x2b6124)[_0x25dd22(0x48a)]();return setTimeout(()=>this[_0x25dd22(0x26a)](),0x7d0),_0x52a13c;}}catch(_0x52e8a5){throw this[_0x25dd22(0x320)][_0x25dd22(0x162)](this[_0x25dd22(0x13c)]+'\x20('+this[_0x25dd22(0x646)][_0x25dd22(0x5f4)]+_0x25dd22(0x2d5)+_0x52e8a5),new m(_0x25dd22(0x603)+_0x52e8a5[_0x25dd22(0x2cb)]);}}async[a0_0x11dbb0(0x1db)](){const _0x31f9dc=a0_0x11dbb0;try{return await L[_0x31f9dc(0x467)]({'owner':this[_0x31f9dc(0x646)][_0x31f9dc(0x5f4)]})[_0x31f9dc(0x38a)]({'when':0x1});}catch(_0x4a2161){throw this[_0x31f9dc(0x320)][_0x31f9dc(0x162)](this[_0x31f9dc(0x13c)]+'\x20('+this[_0x31f9dc(0x646)]['wuid']+_0x31f9dc(0x2dc)+_0x4a2161),new m(_0x31f9dc(0x603)+_0x4a2161[_0x31f9dc(0x2cb)]);}}async[a0_0x11dbb0(0x619)](){const _0xd8ad09=a0_0x11dbb0;try{return await L[_0xd8ad09(0x3c5)]({'owner':this[_0xd8ad09(0x646)]['wuid'],'status':_0xd8ad09(0x670)}),this[_0xd8ad09(0x320)][_0xd8ad09(0x147)](this[_0xd8ad09(0x13c)]+'\x20('+this[_0xd8ad09(0x646)][_0xd8ad09(0x5f4)]+_0xd8ad09(0x558)),this['getScheduleMessage']();}catch(_0x1a9f80){throw this[_0xd8ad09(0x320)][_0xd8ad09(0x162)](this[_0xd8ad09(0x13c)]+'\x20('+this['instance']['wuid']+_0xd8ad09(0x668)+_0x1a9f80),new m('Erro:'+_0x1a9f80[_0xd8ad09(0x2cb)]);}}async['SendScheduleMessage'](_0x502221,_0x33b7df){const _0x11bcd3=a0_0x11dbb0;try{switch(_0x33b7df[_0x11bcd3(0x4d6)]){case _0x11bcd3(0x652):return await this['scheduleSendText'](_0x33b7df,_0x502221);case _0x11bcd3(0x613):return await this[_0x11bcd3(0x340)](_0x33b7df,_0x502221);case'audio':return await this[_0x11bcd3(0x658)](_0x33b7df,_0x502221);default:return this[_0x11bcd3(0x320)][_0x11bcd3(0x162)](this['instanceName']+'\x20('+this['instance'][_0x11bcd3(0x5f4)]+_0x11bcd3(0x27f)+_0x33b7df[_0x11bcd3(0x4d6)]),{'status':'error','detail':_0x11bcd3(0x1dc)};}}catch(_0x5e8bb2){return this[_0x11bcd3(0x320)][_0x11bcd3(0x162)](this[_0x11bcd3(0x13c)]+'\x20('+this[_0x11bcd3(0x646)][_0x11bcd3(0x5f4)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+_0x5e8bb2),{'status':_0x11bcd3(0x162),'detail':_0x5e8bb2[_0x11bcd3(0x2cb)]};}}[a0_0x11dbb0(0x30d)](_0x59968b){const _0x11b91f=a0_0x11dbb0;let _0x3075fe=_0x59968b[_0x11b91f(0xe0)]('|'),_0x3e36df=Math[_0x11b91f(0xf4)](Math[_0x11b91f(0x491)]()*_0x3075fe[_0x11b91f(0x125)]);return _0x3075fe[_0x3e36df][_0x11b91f(0x294)]();}async['scheduleSendText'](_0x2a99f8,_0xecad7){const _0x3fd22f=a0_0x11dbb0;if(this[_0x3fd22f(0x320)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3fd22f(0x13a)),!_0x2a99f8[_0x3fd22f(0x2cb)][_0x3fd22f(0x652)]||_0x2a99f8[_0x3fd22f(0x2cb)][_0x3fd22f(0x652)]['length']===0x0)return{'error':!0x0,'error_log':_0x3fd22f(0x453)};let _0x3fb12a=this[_0x3fd22f(0x30d)](_0x2a99f8['message'][_0x3fd22f(0x652)]),_0x17c036=await this[_0x3fd22f(0x543)](_0x3fb12a,_0xecad7),_0x2327ae={'number':_0xecad7,'options':{'delay':_0x2a99f8[_0x3fd22f(0x2cb)][_0x3fd22f(0xf3)]},'textMessage':{'text':_0x17c036}},_0x56d68a=null;try{let _0x529cb8=await this[_0x3fd22f(0x220)](_0x2327ae);if(_0x529cb8&&_0x529cb8[_0x3fd22f(0x4c3)])return{'error':!0x1,'id':_0x529cb8[_0x3fd22f(0x24a)]['id']};_0x56d68a=JSON[_0x3fd22f(0x5db)](_0x529cb8),this['logger'][_0x3fd22f(0x147)](this[_0x3fd22f(0x13c)]+'\x20('+this[_0x3fd22f(0x646)][_0x3fd22f(0x5f4)]+'):\x20'+_0x56d68a);}catch(_0x315d48){this[_0x3fd22f(0x320)]['error'](this[_0x3fd22f(0x13c)]+'\x20('+this[_0x3fd22f(0x646)][_0x3fd22f(0x5f4)]+_0x3fd22f(0x305)+_0x315d48),_0x56d68a=_0x315d48['message'];}if(_0x56d68a)return{'error':!0x0,'error_log':(typeof _0x56d68a==_0x3fd22f(0x368)?JSON[_0x3fd22f(0x5db)](_0x56d68a,null,0x2):_0x56d68a)['replace'](/[\[\]{}\n]/g,'\x20')[_0x3fd22f(0x1d9)](/  +/g,'\x20')};}async[a0_0x11dbb0(0x340)](_0x2c7186,_0x3f24d2){const _0x14d50e=a0_0x11dbb0;this[_0x14d50e(0x320)]['verbose'](this[_0x14d50e(0x13c)]+'\x20('+this['instance'][_0x14d50e(0x5f4)]+'):\x20Enviando\x20mídia');let _0x484d32;if(_0x2c7186[_0x14d50e(0x2cb)][_0x14d50e(0x652)]&&_0x2c7186[_0x14d50e(0x2cb)][_0x14d50e(0x652)][_0x14d50e(0x125)]>0x0){let _0x2dc589=this['getRandomText'](_0x2c7186[_0x14d50e(0x2cb)]['text']);_0x484d32=await this['replaceVariablesChat'](_0x2dc589,_0x3f24d2);}let _0x2815c9={'number':_0x3f24d2,'options':{'delay':_0x2c7186[_0x14d50e(0x2cb)][_0x14d50e(0xf3)]},'mediaMessage':{'mediatype':_0x2c7186[_0x14d50e(0x2cb)]['mediatype'],'caption':_0x484d32,'media':_0x2c7186[_0x14d50e(0x2cb)][_0x14d50e(0x261)]}},_0x2459d2=null;try{let _0x327a4e=await this[_0x14d50e(0x179)](_0x2815c9);if(_0x327a4e&&_0x327a4e['status'])return{'error':!0x1,'id':_0x327a4e[_0x14d50e(0x24a)]['id']};_0x2459d2=JSON[_0x14d50e(0x5db)](_0x327a4e),this[_0x14d50e(0x320)][_0x14d50e(0x147)](this[_0x14d50e(0x13c)]+'\x20('+this[_0x14d50e(0x646)][_0x14d50e(0x5f4)]+_0x14d50e(0x2e0)+_0x2459d2);}catch(_0x5794fd){this[_0x14d50e(0x320)]['error'](this[_0x14d50e(0x13c)]+'\x20('+this[_0x14d50e(0x646)][_0x14d50e(0x5f4)]+_0x14d50e(0x2b5)+_0x5794fd[_0x14d50e(0x2cb)]),_0x2459d2=_0x5794fd[_0x14d50e(0x2cb)];}if(_0x2459d2)return{'error':!0x0,'error_log':(typeof _0x2459d2=='object'?JSON['stringify'](_0x2459d2,null,0x2):_0x2459d2)[_0x14d50e(0x1d9)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x11dbb0(0x658)](_0x2d98ec,_0x2cd063){const _0x19c64d=a0_0x11dbb0;this[_0x19c64d(0x320)][_0x19c64d(0x147)](this[_0x19c64d(0x13c)]+'\x20('+this[_0x19c64d(0x646)][_0x19c64d(0x5f4)]+_0x19c64d(0x315));let _0x1f8265={'number':_0x2cd063,'options':{'delay':_0x2d98ec[_0x19c64d(0x2cb)][_0x19c64d(0xf3)]},'audioMessage':{'audio':_0x2d98ec['message'][_0x19c64d(0x261)]}},_0x9ae739=null;try{let _0x1763a5=await this[_0x19c64d(0x318)](_0x1f8265);if(_0x1763a5&&_0x1763a5['status'])return{'error':!0x1,'id':_0x1763a5[_0x19c64d(0x24a)]['id']};_0x9ae739=JSON['stringify'](_0x1763a5),this[_0x19c64d(0x320)]['verbose'](this[_0x19c64d(0x13c)]+'\x20('+this[_0x19c64d(0x646)][_0x19c64d(0x5f4)]+_0x19c64d(0x2e0)+_0x9ae739);}catch(_0x6bfc16){this['logger'][_0x19c64d(0x162)](this[_0x19c64d(0x13c)]+'\x20('+this[_0x19c64d(0x646)][_0x19c64d(0x5f4)]+_0x19c64d(0x283)+_0x6bfc16),_0x9ae739=_0x6bfc16['message'];}if(_0x9ae739)return{'error':!0x0,'error_log':(typeof _0x9ae739==_0x19c64d(0x368)?JSON[_0x19c64d(0x5db)](_0x9ae739,null,0x2):_0x9ae739)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},ye=require(a0_0x11dbb0(0x15d)),Ot=class l{constructor(_0x43e307,_0xf06917,_0x1bc084){const _0x967ab2=a0_0x11dbb0;this[_0x967ab2(0x672)]=_0x43e307,this[_0x967ab2(0x228)]=_0xf06917,this[_0x967ab2(0x1fa)]=_0x1bc084,this['db']={},this[_0x967ab2(0x41d)]={},this[_0x967ab2(0x320)]=new v(l[_0x967ab2(0x36c)]),this[_0x967ab2(0x602)]={},(this[_0x967ab2(0x5f2)](),this[_0x967ab2(0x109)](),this[_0x967ab2(0x103)](),Object[_0x967ab2(0x2f3)](this['db'],_0xf06917[_0x967ab2(0x123)](_0x967ab2(0x398))),Object[_0x967ab2(0x2f3)](this[_0x967ab2(0x41d)],_0xf06917[_0x967ab2(0x123)](_0x967ab2(0x15f))),this[_0x967ab2(0x448)]=this['db'][_0x967ab2(0x3c8)]?this[_0x967ab2(0x1fa)][_0x967ab2(0x2ba)]?.['db'](this['db'][_0x967ab2(0x3fe)]['DB_PREFIX_NAME']+_0x967ab2(0x32c)):void 0x0,this[_0x967ab2(0x33f)]=this[_0x967ab2(0x41d)]['ENABLED']?new ge(this[_0x967ab2(0x41d)]):void 0x0);}['delInstanceTime'](_0x285115){const _0x5f4702=a0_0x11dbb0;let _0xf5607d=this[_0x5f4702(0x228)][_0x5f4702(0x123)](_0x5f4702(0x48e));typeof _0xf5607d=='number'&&_0xf5607d>0x0&&setTimeout(()=>{const _0xf1ad06=_0x5f4702;this[_0xf1ad06(0x602)][_0x285115]?.[_0xf1ad06(0x4b5)]?.[_0xf1ad06(0x3dc)]!==_0xf1ad06(0x130)&&delete this['waInstances'][_0x285115];},0x3e8*0x3c*_0xf5607d);}async['instanceInfo'](_0x61800d){const _0x4385a1=a0_0x11dbb0;if(_0x61800d&&!this[_0x4385a1(0x602)][_0x61800d])throw new U(_0x4385a1(0x44f)+_0x61800d+_0x4385a1(0x52c));let _0x25620c=[];for await(let [_0x2cc52a,_0x553738]of Object[_0x4385a1(0x166)](this[_0x4385a1(0x602)]))if(_0x553738&&_0x553738[_0x4385a1(0x4b5)][_0x4385a1(0x3dc)]==='open'){let _0x37cd1f=await this[_0x4385a1(0x1fa)][_0x4385a1(0x435)]['find'](_0x2cc52a);_0x25620c['push']({'instance':{'instanceName':_0x2cc52a,'apikey':_0x37cd1f['apikey'],'owner':_0x553738[_0x4385a1(0x5f4)],'profileName':await _0x553738[_0x4385a1(0x3f8)]()||_0x4385a1(0x2b3),'profilePictureUrl':_0x553738[_0x4385a1(0x1b6)]}});}return _0x25620c['find'](_0x3a15e6=>_0x3a15e6[_0x4385a1(0x646)][_0x4385a1(0x13c)]===_0x61800d)??_0x25620c;}[a0_0x11dbb0(0x103)](){setInterval(async()=>{const _0x3dc295=a0_0x4676;if(this['db'][_0x3dc295(0x3c8)])(await this[_0x3dc295(0x448)][_0x3dc295(0x142)]())[_0x3dc295(0x5b1)](async _0x1d0077=>{const _0x5700e5=_0x3dc295;let _0x376eff=_0x1d0077[_0x5700e5(0x296)][_0x5700e5(0x1d9)](/^[\w-]+./,'');await this[_0x5700e5(0x448)]['collection'](_0x376eff)[_0x5700e5(0x3c5)]({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x2d5938=(0x0,X[_0x3dc295(0x31b)])(B,{'encoding':_0x3dc295(0x18f)});for await(let _0x4aaa5a of _0x2d5938)_0x4aaa5a[_0x3dc295(0x4aa)]()&&(0x0,X['readdirSync'])((0x0,ye[_0x3dc295(0x140)])(B,_0x4aaa5a[_0x3dc295(0x36c)]),{'encoding':_0x3dc295(0x18f)})[_0x3dc295(0x5b1)](async _0x5dd1b3=>{const _0x27bc80=_0x3dc295;(_0x5dd1b3[_0x27bc80(0x165)](/^app.state.*/)||_0x5dd1b3['match'](/^session-.*/))&&(0x0,X[_0x27bc80(0x157)])((0x0,ye[_0x27bc80(0x140)])(B,_0x4aaa5a[_0x27bc80(0x36c)],_0x5dd1b3),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async['cleaningUp'](_0x20f72d){const _0x2e4986=a0_0x11dbb0;this['db'][_0x2e4986(0x3c8)]&&(await this[_0x2e4986(0x1fa)]['dbServer']['connect'](),(await this['dbInstance'][_0x2e4986(0x142)]())[_0x2e4986(0x125)]>0x0&&await this['dbInstance'][_0x2e4986(0x308)](_0x20f72d)),this[_0x2e4986(0x41d)]['ENABLED']&&(this[_0x2e4986(0x33f)][_0x2e4986(0x132)]=_0x20f72d,await this[_0x2e4986(0x33f)][_0x2e4986(0x511)]()),!this['db']['ENABLED']&&!this['redis'][_0x2e4986(0x3c8)]&&(0x0,X[_0x2e4986(0x157)])((0x0,ye[_0x2e4986(0x140)])(B,_0x20f72d),{'recursive':!0x0,'force':!0x0});}async[a0_0x11dbb0(0x57a)](){const _0x13e8ed=a0_0x11dbb0;let _0x56a3dd=async _0x5766ce=>{const _0x2b2c74=a0_0x4676;let _0x362e01=new fe(this[_0x2b2c74(0x228)],this[_0x2b2c74(0x672)],this[_0x2b2c74(0x1fa)]);_0x362e01[_0x2b2c74(0x13c)]=_0x5766ce,await _0x362e01[_0x2b2c74(0x4dc)](),this[_0x2b2c74(0x602)][_0x5766ce]=_0x362e01;};try{if(this[_0x13e8ed(0x41d)][_0x13e8ed(0x3c8)]){let _0x10caa6=await this['redisCache'][_0x13e8ed(0x4ca)]();_0x10caa6?.['length']>0x0&&_0x10caa6['forEach'](async _0x55589b=>await _0x56a3dd(_0x55589b[_0x13e8ed(0xe0)](':')[0x1]));}if(this['db'][_0x13e8ed(0x3c8)]){await this[_0x13e8ed(0x1fa)][_0x13e8ed(0x2ba)][_0x13e8ed(0x2eb)]();let _0x14e90b=await this[_0x13e8ed(0x448)][_0x13e8ed(0x142)]();_0x14e90b['length']>0x0&&_0x14e90b[_0x13e8ed(0x5b1)](async _0x4ce615=>await _0x56a3dd(_0x4ce615[_0x13e8ed(0x296)][_0x13e8ed(0x1d9)](/^[\w-]+\./,'')));return;}let _0x4ff5d3=(0x0,X[_0x13e8ed(0x31b)])(B,{'encoding':'utf-8'});for await(let _0x162ed6 of _0x4ff5d3)if(_0x162ed6[_0x13e8ed(0x4aa)]()){if((0x0,X[_0x13e8ed(0x50f)])((0x0,ye[_0x13e8ed(0x140)])(B,_0x162ed6['name']),{'encoding':'utf-8'})[_0x13e8ed(0x125)]===0x0){(0x0,X[_0x13e8ed(0x157)])((0x0,ye[_0x13e8ed(0x140)])(B,_0x162ed6[_0x13e8ed(0x36c)]),{'recursive':!0x0,'force':!0x0});break;}await _0x56a3dd(_0x162ed6['name']);}}catch(_0x4d780e){this[_0x13e8ed(0x320)][_0x13e8ed(0x162)](_0x4d780e);}}['removeInstance'](){const _0x5cd241=a0_0x11dbb0;this[_0x5cd241(0x672)]['on']('remove.instance',async _0x4b9ae6=>{const _0x54e6ef=_0x5cd241;try{this[_0x54e6ef(0x602)][_0x4b9ae6]=void 0x0;}catch{}try{this[_0x54e6ef(0x113)](_0x4b9ae6);}finally{this[_0x54e6ef(0x320)][_0x54e6ef(0x449)](_0x54e6ef(0x44f)+_0x4b9ae6+_0x54e6ef(0x2f8));}});}[a0_0x11dbb0(0x109)](){const _0x237942=a0_0x11dbb0;this[_0x237942(0x672)]['on']('no.connection',async _0x1c6b93=>{const _0x4e8e13=_0x237942;try{this[_0x4e8e13(0x602)][_0x1c6b93]=void 0x0,this[_0x4e8e13(0x113)](_0x1c6b93);}catch(_0x576f16){this['logger'][_0x4e8e13(0x162)]({'localError':_0x4e8e13(0x109),'warn':'Error\x20deleting\x20instance\x20from\x20memory.','error':_0x576f16});}finally{this[_0x4e8e13(0x320)][_0x4e8e13(0x449)](_0x4e8e13(0x44f)+_0x1c6b93+'\x22\x20-\x20NOT\x20CONNECTION');}});}},Oe=require(a0_0x11dbb0(0x15d)),be=require('fs'),_t=class extends j{constructor(_0x49567a,_0xbe3298){const _0x4d933f=a0_0x11dbb0;super(_0xbe3298),this[_0x4d933f(0x232)]=_0x49567a,this[_0x4d933f(0x228)]=_0xbe3298;}async['insert'](_0x262ecc,_0x4efc71=!0x1){const _0x26cd61=a0_0x11dbb0;if(_0x262ecc[_0x26cd61(0x125)]!==0x0)try{return this['dbSettings'][_0x26cd61(0x3c8)]&&_0x4efc71?{'insertCount':(await this['chatModel'][_0x26cd61(0x180)]([..._0x262ecc]))[_0x26cd61(0x125)]}:(_0x262ecc['forEach'](_0x83a97b=>{const _0x327a46=_0x26cd61;this['writeStore']({'path':(0x0,Oe[_0x327a46(0x140)])(this['storePath'],'chats',_0x83a97b[_0x327a46(0x3e6)]),'fileName':_0x83a97b['id'],'data':_0x83a97b});}),{'insertCount':_0x262ecc[_0x26cd61(0x125)]});}catch(_0x3b29b1){return _0x3b29b1;}finally{_0x262ecc=void 0x0;}}async[a0_0x11dbb0(0x467)](_0x29688c){const _0x5590dd=a0_0x11dbb0;try{if(this[_0x5590dd(0x1fe)][_0x5590dd(0x3c8)])return await this[_0x5590dd(0x232)][_0x5590dd(0x467)]({'owner':_0x29688c[_0x5590dd(0x496)][_0x5590dd(0x3e6)]})[_0x5590dd(0x38a)]({'lastmsg':-0x1})[_0x5590dd(0x50d)](_0x29688c?.[_0x5590dd(0x50d)]??0x0)[_0x5590dd(0x59a)]();let _0x82a217=[],_0x566c56=(0x0,be['opendirSync'])((0x0,Oe[_0x5590dd(0x140)])(this[_0x5590dd(0x262)],_0x5590dd(0x445),_0x29688c[_0x5590dd(0x496)]['owner']));for await(let _0x1eff65 of _0x566c56)_0x1eff65[_0x5590dd(0x25d)]()&&_0x82a217['push'](JSON['parse']((0x0,be[_0x5590dd(0x641)])((0x0,Oe['join'])(this['storePath'],_0x5590dd(0x445),_0x29688c[_0x5590dd(0x496)][_0x5590dd(0x3e6)],_0x1eff65[_0x5590dd(0x36c)]),{'encoding':'utf-8'})));return _0x82a217;}catch{return[];}}async[a0_0x11dbb0(0x430)](_0x1ae352){const _0x705724=a0_0x11dbb0;try{return this['dbSettings'][_0x705724(0x3c8)]?await this[_0x705724(0x232)]['deleteMany']({..._0x1ae352[_0x705724(0x496)]}):((0x0,be[_0x705724(0x157)])((0x0,Oe[_0x705724(0x140)])(this[_0x705724(0x262)],'chats',_0x1ae352[_0x705724(0x496)][_0x705724(0x3e6)],_0x1ae352['where']['id']+_0x705724(0x234)),{'force':!0x0,'recursive':!0x0}),{'deleted':{'chatId':_0x1ae352[_0x705724(0x496)]['id']}});}catch(_0x122213){return{'error':_0x122213?.[_0x705724(0x29e)]()};}}async['findOne'](_0x1c5b65){const _0x136cb3=a0_0x11dbb0;try{if(this['dbSettings'][_0x136cb3(0x3c8)])return await this[_0x136cb3(0x232)]['findOne']({'owner':_0x1c5b65['where'][_0x136cb3(0x3e6)]})[_0x136cb3(0x59a)]();}catch{return null;}}async[a0_0x11dbb0(0x606)](_0x595a23,_0x435db8){const _0x58cf94=a0_0x11dbb0;try{this['dbSettings'][_0x58cf94(0x3c8)]&&await this['chatModel'][_0x58cf94(0x655)]({..._0x595a23[_0x58cf94(0x496)]},{'$set':_0x435db8});}catch(_0x5330ef){console[_0x58cf94(0x162)](_0x5330ef);}}async['updateMany'](_0xd7381c,_0x1020f0){const _0xf5f33f=a0_0x11dbb0;try{if(this['dbSettings'][_0xf5f33f(0x3c8)]){let _0x3a9dc6=_0xd7381c[_0xf5f33f(0x360)]((_0x1e1753,_0x58f6a1)=>({'updateOne':{'filter':{..._0x1e1753[_0xf5f33f(0x496)]},'update':{'$set':_0x1020f0[_0x58f6a1]}}}));await this[_0xf5f33f(0x232)][_0xf5f33f(0x47b)](_0x3a9dc6);}}catch(_0x31eef7){console[_0xf5f33f(0x162)](_0x31eef7);}}},xt=class{constructor(_0x1ee99b){const _0x4d1dbc=a0_0x11dbb0;this[_0x4d1dbc(0x504)]=_0x1ee99b;}async['editChat']({instanceName:_0x441ab3},_0x226171){const _0x2a4b34=a0_0x11dbb0;return await this['waMonitor'][_0x2a4b34(0x602)][_0x441ab3][_0x2a4b34(0x4bf)](_0x226171);}async['whatsappNumber']({instanceName:_0x1f2f4a},_0x2872d1){const _0x3be5ad=a0_0x11dbb0;return await this['waMonitor'][_0x3be5ad(0x602)][_0x1f2f4a][_0x3be5ad(0x5ad)](_0x2872d1);}async[a0_0x11dbb0(0x286)]({instanceName:_0x4ccae8},_0x14ee01){const _0x4254ef=a0_0x11dbb0;return await this[_0x4254ef(0x504)][_0x4254ef(0x602)][_0x4ccae8]['markMessageAsRead'](_0x14ee01);}async['archiveChat']({instanceName:_0x1109d9},_0x443da7){const _0x11a650=a0_0x11dbb0;return await this['waMonitor'][_0x11a650(0x602)][_0x1109d9]['archiveChat'](_0x443da7);}async[a0_0x11dbb0(0x1b5)]({instanceName:_0x30099c},_0x25ea5d){const _0x167623=a0_0x11dbb0;return await this[_0x167623(0x504)]['waInstances'][_0x30099c][_0x167623(0x1b5)](_0x25ea5d);}async[a0_0x11dbb0(0x11f)]({instanceName:_0x303f6c},_0x5dda89){const _0x336794=a0_0x11dbb0;return await this[_0x336794(0x504)]['waInstances'][_0x303f6c][_0x336794(0x1c3)](_0x5dda89[_0x336794(0x105)]);}async['fetchProfile']({instanceName:_0x31038e},_0x4a7cfc){const _0x542648=a0_0x11dbb0;return await this[_0x542648(0x504)][_0x542648(0x602)][_0x31038e]['fetchProfile'](_0x31038e,_0x4a7cfc[_0x542648(0x105)]);}async[a0_0x11dbb0(0x18c)]({instanceName:_0x595f67},_0x32b62f){const _0x159473=a0_0x11dbb0;return await this[_0x159473(0x504)][_0x159473(0x602)][_0x595f67]['fetchContacts'](_0x32b62f);}async['getBase64FromMediaMessage']({instanceName:_0x2cb1a8},_0x1a667f){const _0x161be7=a0_0x11dbb0;return await this[_0x161be7(0x504)][_0x161be7(0x602)][_0x2cb1a8][_0x161be7(0x425)](_0x1a667f);}async[a0_0x11dbb0(0x196)]({instanceName:_0x241af3},_0x4ceebb){const _0x220302=a0_0x11dbb0;return await this[_0x220302(0x504)][_0x220302(0x602)][_0x241af3][_0x220302(0x196)](_0x4ceebb);}async['fetchStatusMessage']({instanceName:_0x203893},_0x17267f){const _0x3ea468=a0_0x11dbb0;return await this[_0x3ea468(0x504)][_0x3ea468(0x602)][_0x203893][_0x3ea468(0x405)](_0x17267f);}async[a0_0x11dbb0(0x14b)]({instanceName:_0x1545cc}){const _0x3e8b60=a0_0x11dbb0;return await this['waMonitor']['waInstances'][_0x1545cc][_0x3e8b60(0x14b)]();}async[a0_0x11dbb0(0x450)]({instanceName:_0x438bff}){const _0x583c12=a0_0x11dbb0;return await this['waMonitor']['waInstances'][_0x438bff][_0x583c12(0x450)]();}async[a0_0x11dbb0(0xe3)]({instanceName:_0x1219b1},_0xd735c9){const _0x2c7967=a0_0x11dbb0;return await this['waMonitor']['waInstances'][_0x1219b1][_0x2c7967(0xe3)](_0xd735c9);}async['fetchBusinessProfile']({instanceName:_0x2a941a},_0x4c2bc7){const _0x14695c=a0_0x11dbb0;return await this[_0x14695c(0x504)][_0x14695c(0x602)][_0x2a941a]['fetchBusinessProfile'](_0x4c2bc7[_0x14695c(0x105)]);}async['updateProfileName']({instanceName:_0x564e50},_0x560dbd){const _0x42fe2f=a0_0x11dbb0;return await this['waMonitor'][_0x42fe2f(0x602)][_0x564e50][_0x42fe2f(0x266)](_0x560dbd[_0x42fe2f(0x36c)]);}async[a0_0x11dbb0(0x483)]({instanceName:_0x158223},_0x3553b6){const _0x4c668f=a0_0x11dbb0;return await this[_0x4c668f(0x504)]['waInstances'][_0x158223][_0x4c668f(0x483)](_0x3553b6['status']);}async[a0_0x11dbb0(0x395)]({instanceName:_0x4f54ee},_0x3e8088){const _0x10397f=a0_0x11dbb0;return await this[_0x10397f(0x504)][_0x10397f(0x602)][_0x4f54ee][_0x10397f(0x395)](_0x3e8088[_0x10397f(0x643)]);}async[a0_0x11dbb0(0x10a)]({instanceName:_0x46b399},_0x402a83){const _0x2e79c0=a0_0x11dbb0;return await this[_0x2e79c0(0x504)][_0x2e79c0(0x602)][_0x46b399][_0x2e79c0(0x10a)]();}},bs=require(a0_0x11dbb0(0x59e)),$t=class l{constructor(_0x3767a2,_0x298b0a,_0xc66007,_0x23766d,_0x2ca598){const _0x333247=a0_0x11dbb0;this[_0x333247(0x504)]=_0x3767a2,this[_0x333247(0x228)]=_0x298b0a,this['repository']=_0xc66007,this['eventEmitter']=_0x23766d,this['authService']=_0x2ca598,this[_0x333247(0x320)]=new v(l[_0x333247(0x36c)]);}async[a0_0x11dbb0(0x42a)]({instanceName:_0x22cf97,apikey:_0x3ed2ba}){const _0xaa32fe=a0_0x11dbb0;let _0x8f5e79=new fe(this[_0xaa32fe(0x228)],this['eventEmitter'],this[_0xaa32fe(0x1fa)]);_0x8f5e79[_0xaa32fe(0x13c)]=_0x22cf97,this['waMonitor'][_0xaa32fe(0x602)][_0x8f5e79[_0xaa32fe(0x13c)]]=_0x8f5e79,this[_0xaa32fe(0x504)][_0xaa32fe(0x49b)](_0x8f5e79[_0xaa32fe(0x13c)]);let _0x5dc081={};_0x3ed2ba?(await this[_0xaa32fe(0x1fa)][_0xaa32fe(0x435)][_0xaa32fe(0x39a)]({'apikey':_0x3ed2ba},_0x22cf97),_0x5dc081[_0xaa32fe(0x5d4)]=_0x3ed2ba):_0x5dc081=await this[_0xaa32fe(0x371)]['generateHash']({'instanceName':_0x8f5e79['instanceName']});let _0x2b0309;return await _0x8f5e79[_0xaa32fe(0x4dc)](),await(0x0,bs[_0xaa32fe(0xf3)])(0x7d0),_0x2b0309=_0x8f5e79[_0xaa32fe(0x2ff)],{'instance':{'instanceName':_0x8f5e79['instanceName'],'status':_0xaa32fe(0x10e)},'hash':_0x5dc081,'qrcode':_0x2b0309};}async[a0_0x11dbb0(0x4dc)]({instanceName:_0x2894fc}){const _0x293ced=a0_0x11dbb0;try{let _0x2ac06b=this[_0x293ced(0x504)][_0x293ced(0x602)][_0x2894fc];switch(_0x2ac06b[_0x293ced(0x4b5)]?.[_0x293ced(0x3dc)]){case _0x293ced(0x33b):return await _0x2ac06b['connectToWhatsapp'](),await(0x0,bs[_0x293ced(0xf3)])(0x7d0),_0x2ac06b[_0x293ced(0x2ff)];case'connecting':return _0x2ac06b[_0x293ced(0x2ff)];default:return await this[_0x293ced(0x544)]({'instanceName':_0x2894fc});}}catch(_0x5dd17b){this[_0x293ced(0x320)][_0x293ced(0x3cd)](_0x5dd17b);}}async['connectionState']({instanceName:_0x5a1f9c}){const _0x8e2153=a0_0x11dbb0;let _0x14dcf6=this[_0x8e2153(0x504)][_0x8e2153(0x602)][_0x5a1f9c][_0x8e2153(0x4b5)],_0x75dd4e=null;_0x14dcf6[_0x8e2153(0x3dc)]==='open'&&_0x5a1f9c&&(_0x75dd4e=await this[_0x8e2153(0x504)][_0x8e2153(0x5dd)](_0x5a1f9c));let _0x242536=null;return _0x14dcf6[_0x8e2153(0x3dc)]==='connecting'&&_0x5a1f9c&&(_0x242536=this[_0x8e2153(0x504)]['waInstances'][_0x5a1f9c][_0x8e2153(0x2ff)]),{'instance':_0x5a1f9c,'connectionStatus':_0x14dcf6,'instanceInfo':_0x75dd4e,'qrcode':_0x242536};}async[a0_0x11dbb0(0x192)]({instanceName:_0x34b598}){const _0x1b0e83=a0_0x11dbb0;try{return this[_0x1b0e83(0x504)]['waInstances'][_0x34b598]?.[_0x1b0e83(0x46a)]?.['ws']?.[_0x1b0e83(0x33b)](),{'status':_0x1b0e83(0x36a),'error':!0x1,'response':{'message':_0x1b0e83(0x12a)}};}catch(_0x248527){this[_0x1b0e83(0x320)][_0x1b0e83(0x162)](_0x248527);}}async[a0_0x11dbb0(0x190)]({instanceName:_0x35db74}){const _0x53b2be=a0_0x11dbb0;return _0x35db74?this['waMonitor'][_0x53b2be(0x5dd)](_0x35db74):this[_0x53b2be(0x504)][_0x53b2be(0x5dd)]();}async[a0_0x11dbb0(0x17c)]({instanceName:_0x197419}){const _0x484abf=a0_0x11dbb0;try{return await this[_0x484abf(0x504)][_0x484abf(0x602)][_0x197419]?.[_0x484abf(0x46a)]?.[_0x484abf(0x17c)](_0x484abf(0x60e)+_0x197419),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0xb7ac9e){throw new I(_0xb7ac9e['toString']());}}async[a0_0x11dbb0(0x47d)]({instanceName:_0x26af16}){const _0x41bd63=a0_0x11dbb0;if((await this[_0x41bd63(0x544)]({'instanceName':_0x26af16}))[_0x41bd63(0x4b5)][_0x41bd63(0x3dc)]===_0x41bd63(0x130))throw new m(['Deletion\x20failed',_0x41bd63(0x3d8)]);try{return delete this[_0x41bd63(0x504)][_0x41bd63(0x602)][_0x26af16],{'error':!0x1,'message':_0x41bd63(0x64a)};}catch(_0x47b02d){throw new m(_0x47b02d['toString']());}}async[a0_0x11dbb0(0x28a)](_0x150117,_0x2c5b10){const _0x3b76b=a0_0x11dbb0;return await this[_0x3b76b(0x371)]['refreshToken'](_0x2c5b10);}},Z=require(a0_0x11dbb0(0x489)),kt=class{constructor(_0x3e5eb0){this['waMonitor']=_0x3e5eb0;}async[a0_0x11dbb0(0x3fc)]({instanceName:_0x7159e8},_0x52dbd0){const _0x3934e8=a0_0x11dbb0;return await this[_0x3934e8(0x504)][_0x3934e8(0x602)][_0x7159e8][_0x3934e8(0x220)](_0x52dbd0);}async[a0_0x11dbb0(0x49d)]({instanceName:_0x3d5b91},_0x597f7a){const _0x3e94ca=a0_0x11dbb0;if((0x0,Z[_0x3e94ca(0x5d3)])(_0x597f7a?.[_0x3e94ca(0x179)]?.['media'])&&!_0x597f7a?.['mediaMessage']?.['fileName'])throw new m(_0x3e94ca(0x20f));if((0x0,Z['isURL'])(_0x597f7a?.[_0x3e94ca(0x179)]?.[_0x3e94ca(0x613)])||(0x0,Z[_0x3e94ca(0x5d3)])(_0x597f7a?.[_0x3e94ca(0x179)]?.[_0x3e94ca(0x613)]))return await this[_0x3e94ca(0x504)][_0x3e94ca(0x602)][_0x3d5b91]['mediaMessage'](_0x597f7a);throw new m(_0x3e94ca(0x249));}async[a0_0x11dbb0(0x55e)]({instanceName:_0x593897},_0x5d6933){const _0x611697=a0_0x11dbb0;if((0x0,Z['isURL'])(_0x5d6933[_0x611697(0x3c6)][_0x611697(0x1bc)])||(0x0,Z[_0x611697(0x5d3)])(_0x5d6933['stickerMessage']['image']))return await this[_0x611697(0x504)]['waInstances'][_0x593897]['mediaSticker'](_0x5d6933);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x11dbb0(0x4b0)]({instanceName:_0x3fe8ef},_0x359dd1){const _0x1e7432=a0_0x11dbb0;if((0x0,Z['isURL'])(_0x359dd1[_0x1e7432(0x54a)][_0x1e7432(0x530)])||(0x0,Z[_0x1e7432(0x5d3)])(_0x359dd1[_0x1e7432(0x54a)][_0x1e7432(0x530)]))return await this[_0x1e7432(0x504)][_0x1e7432(0x602)][_0x3fe8ef][_0x1e7432(0x318)](_0x359dd1);throw new m(_0x1e7432(0x249));}async[a0_0x11dbb0(0x237)]({instanceName:_0x33ca6b},_0x52339e){const _0x696564=a0_0x11dbb0;if((0x0,Z[_0x696564(0x5d3)])(_0x52339e[_0x696564(0x21e)][_0x696564(0x179)]?.[_0x696564(0x613)])&&!_0x52339e['buttonMessage']['mediaMessage']?.[_0x696564(0x348)])throw new m(_0x696564(0x20f));return await this['waMonitor'][_0x696564(0x602)][_0x33ca6b][_0x696564(0x21e)](_0x52339e);}async[a0_0x11dbb0(0x292)]({instanceName:_0x307df4},_0x58556){const _0x4f1a32=a0_0x11dbb0;return await this[_0x4f1a32(0x504)][_0x4f1a32(0x602)][_0x307df4][_0x4f1a32(0x56c)](_0x58556);}async['sendPoll']({instanceName:_0x2a7740},_0x2468d2){const _0x3cf7e4=a0_0x11dbb0;return await this[_0x3cf7e4(0x504)][_0x3cf7e4(0x602)][_0x2a7740][_0x3cf7e4(0x2de)](_0x2468d2);}async[a0_0x11dbb0(0xe8)]({instanceName:_0xcb7ab2},_0x1936f7){const _0x2f30df=a0_0x11dbb0;return await this['waMonitor'][_0x2f30df(0x602)][_0xcb7ab2][_0x2f30df(0x4ef)](_0x1936f7);}async['sendContact']({instanceName:_0x1f3671},_0x3cebe7){const _0x55baab=a0_0x11dbb0;return await this['waMonitor'][_0x55baab(0x602)][_0x1f3671][_0x55baab(0x1b1)](_0x3cebe7);}async[a0_0x11dbb0(0x13b)]({instanceName:_0x19dbc0},_0x4fb624){const _0x3144ae=a0_0x11dbb0;if(!_0x4fb624[_0x3144ae(0x211)][_0x3144ae(0x1b2)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x3144ae(0x536));return await this[_0x3144ae(0x504)]['waInstances'][_0x19dbc0][_0x3144ae(0x211)](_0x4fb624);}async[a0_0x11dbb0(0x417)]({instanceName:_0x4ccf80},_0x55ecec){const _0x473147=a0_0x11dbb0;return await this[_0x473147(0x504)]['waInstances'][_0x4ccf80][_0x473147(0x191)](_0x55ecec);}},Lt=class{constructor(_0x452baa){const _0x35c0af=a0_0x11dbb0;this[_0x35c0af(0x504)]=_0x452baa;}async['createGroup'](_0x2d9113,_0x3a0746){const _0x1e923e=a0_0x11dbb0;return await this[_0x1e923e(0x504)][_0x1e923e(0x602)][_0x2d9113[_0x1e923e(0x13c)]][_0x1e923e(0x2d2)](_0x3a0746);}async[a0_0x11dbb0(0x23f)](_0x563eee,_0x324248){const _0x1cc2c1=a0_0x11dbb0;return await this['waMonitor']['waInstances'][_0x563eee[_0x1cc2c1(0x13c)]][_0x1cc2c1(0x23f)](_0x324248);}async[a0_0x11dbb0(0x310)](_0x23c3f9,_0x59fcbd){const _0x40ff78=a0_0x11dbb0;return await this['waMonitor'][_0x40ff78(0x602)][_0x23c3f9[_0x40ff78(0x13c)]][_0x40ff78(0x310)](_0x59fcbd);}async['groupName'](_0x1403df,_0x469404){const _0x43280a=a0_0x11dbb0;return await this[_0x43280a(0x504)][_0x43280a(0x602)][_0x1403df[_0x43280a(0x13c)]][_0x43280a(0x3b0)](_0x469404);}async['groupSetting'](_0x4ef7cb,_0x592e24){const _0x585e9e=a0_0x11dbb0;return await this[_0x585e9e(0x504)][_0x585e9e(0x602)][_0x4ef7cb[_0x585e9e(0x13c)]]['groupSetting'](_0x592e24);}async[a0_0x11dbb0(0x56d)](_0x4eabd5,_0x31de33){const _0x3214a5=a0_0x11dbb0;return await this[_0x3214a5(0x504)]['waInstances'][_0x4eabd5['instanceName']][_0x3214a5(0x5f3)](_0x31de33);}async['findGroups'](_0x7c8f95){const _0x35cbe5=a0_0x11dbb0;return await this[_0x35cbe5(0x504)][_0x35cbe5(0x602)][_0x7c8f95[_0x35cbe5(0x13c)]]['findGroups']();}async[a0_0x11dbb0(0x33e)](_0x30a839,_0x415d87){const _0x5ae7a6=a0_0x11dbb0;return await this[_0x5ae7a6(0x504)][_0x5ae7a6(0x602)][_0x30a839[_0x5ae7a6(0x13c)]][_0x5ae7a6(0x33e)](_0x415d87);}async[a0_0x11dbb0(0x3af)](_0x5320bc,_0x24ca26){const _0xce5c6=a0_0x11dbb0;return await this[_0xce5c6(0x504)][_0xce5c6(0x602)][_0x5320bc[_0xce5c6(0x13c)]][_0xce5c6(0x3af)](_0x24ca26);}async[a0_0x11dbb0(0x461)](_0x3e8368,_0x96e883){const _0x17d723=a0_0x11dbb0;return await this[_0x17d723(0x504)][_0x17d723(0x602)][_0x3e8368[_0x17d723(0x13c)]][_0x17d723(0x461)](_0x96e883);}async[a0_0x11dbb0(0x441)](_0x45da98,_0x36f44f){const _0x3254cc=a0_0x11dbb0;return await this[_0x3254cc(0x504)]['waInstances'][_0x45da98['instanceName']][_0x3254cc(0x441)](_0x36f44f);}async['updateGParticipate'](_0x3c5c5f,_0x17b6d1){const _0x48b840=a0_0x11dbb0;return await this[_0x48b840(0x504)][_0x48b840(0x602)][_0x3c5c5f[_0x48b840(0x13c)]][_0x48b840(0x27e)](_0x17b6d1);}async[a0_0x11dbb0(0x466)](_0x1d0c66,_0x5e994a){const _0x102224=a0_0x11dbb0;return await this[_0x102224(0x504)]['waInstances'][_0x1d0c66[_0x102224(0x13c)]][_0x102224(0x466)](_0x5e994a);}async[a0_0x11dbb0(0x535)](_0x1d5636,_0x239304){const _0x3e973f=a0_0x11dbb0;return await this[_0x3e973f(0x504)][_0x3e973f(0x602)][_0x1d5636[_0x3e973f(0x13c)]][_0x3e973f(0x535)](_0x239304);}},Ut=class{constructor(_0x28c5a1,_0x2ec119){const _0x3c8afa=a0_0x11dbb0;this[_0x3c8afa(0x586)]=_0x28c5a1,this[_0x3c8afa(0x228)]=_0x2ec119;}async['qrcode'](_0x47725a,_0x510612){const _0xeb07f2=a0_0x11dbb0;try{let _0x4233bc=_0x47725a[_0xeb07f2(0x144)];if(this[_0xeb07f2(0x586)]['waInstances'][_0x4233bc[_0xeb07f2(0x13c)]][_0xeb07f2(0x4b5)]['state']===_0xeb07f2(0x130))throw new m(_0xeb07f2(0x431));let _0x57ec15=this[_0xeb07f2(0x228)][_0xeb07f2(0x123)]('AUTHENTICATION')[_0xeb07f2(0x54c)];return _0x510612['status'](0xc8)[_0xeb07f2(0x26c)](_0xeb07f2(0x20b),{'type':_0x57ec15,..._0x4233bc});}catch(_0x67e47e){console['log'](_0xeb07f2(0x25c),_0x67e47e);}}},Vt=class{constructor(_0x742b91){this['waMonitor']=_0x742b91;}['create'](_0xdadd6e,_0x43abb1){const _0x5a646f=a0_0x11dbb0;return this[_0x5a646f(0x504)][_0x5a646f(0x602)][_0xdadd6e[_0x5a646f(0x13c)]][_0x5a646f(0x591)](_0x43abb1);}async[a0_0x11dbb0(0x467)](_0x22e40b){const _0x3ecfd8=a0_0x11dbb0;try{return await this['waMonitor'][_0x3ecfd8(0x602)][_0x22e40b['instanceName']][_0x3ecfd8(0x199)]();}catch{return{'enabled':null,'url':''};}}},qu=new v(a0_0x11dbb0(0x2e3)),Bt=class{constructor(_0x2608cc){const _0x32858b=a0_0x11dbb0;this[_0x32858b(0x504)]=_0x2608cc;}async[a0_0x11dbb0(0x650)](_0x3c285e,_0x52f570){const _0x4996ac=a0_0x11dbb0;return await this[_0x4996ac(0x504)][_0x4996ac(0x602)][_0x3c285e['instanceName']]['editScheduleMessage'](_0x52f570);}async[a0_0x11dbb0(0x1db)](_0x3441f7){const _0x1cbc65=a0_0x11dbb0;return await this[_0x1cbc65(0x504)]['waInstances'][_0x3441f7['instanceName']]['getScheduleMessage']();}async['deleteDoneMessages'](_0x59d43d){const _0x221386=a0_0x11dbb0;return await this['waMonitor'][_0x221386(0x602)][_0x59d43d[_0x221386(0x13c)]][_0x221386(0x619)]();}async[a0_0x11dbb0(0x22b)](_0x466bff){const _0x34a417=a0_0x11dbb0;return await this['waMonitor'][_0x34a417(0x602)][_0x466bff[_0x34a417(0x13c)]][_0x34a417(0x22b)]();}async['updateAgent'](_0x31a6ca,_0x5c555a){const _0x4bd077=a0_0x11dbb0;return await this[_0x4bd077(0x504)][_0x4bd077(0x602)][_0x31a6ca[_0x4bd077(0x13c)]][_0x4bd077(0x1d4)](_0x5c555a);}async[a0_0x11dbb0(0x5e4)](_0x4d9c51,_0x2c1007){const _0x496459=a0_0x11dbb0;return await this[_0x496459(0x504)][_0x496459(0x602)][_0x4d9c51[_0x496459(0x13c)]]['updateCustomFields'](_0x2c1007);}async[a0_0x11dbb0(0x35f)](_0x1f965d,_0x1b6058){const _0x44c64=a0_0x11dbb0;return await this[_0x44c64(0x504)][_0x44c64(0x602)][_0x1f965d[_0x44c64(0x13c)]][_0x44c64(0x35f)](_0x1b6058);}async[a0_0x11dbb0(0x1d8)](_0x22ffa3,_0x57f2bf){const _0x18c184=a0_0x11dbb0;return await this['waMonitor'][_0x18c184(0x602)][_0x22ffa3[_0x18c184(0x13c)]][_0x18c184(0x1d8)](_0x57f2bf);}async[a0_0x11dbb0(0x56a)](_0x25b828,_0x4a1315){const _0x444de6=a0_0x11dbb0;return await this[_0x444de6(0x504)]['waInstances'][_0x25b828[_0x444de6(0x13c)]][_0x444de6(0x56a)](_0x4a1315);}async['fetchConversation'](_0x4a173f,_0x41abf0){const _0x4bcfd7=a0_0x11dbb0;return await this[_0x4bcfd7(0x504)][_0x4bcfd7(0x602)][_0x4a173f[_0x4bcfd7(0x13c)]][_0x4bcfd7(0xea)](_0x41abf0);}async['editConversation'](_0x4f4288,_0x4f5cac){const _0x14030b=a0_0x11dbb0;return await this[_0x14030b(0x504)][_0x14030b(0x602)][_0x4f4288['instanceName']][_0x14030b(0x3b8)](_0x4f5cac);}async[a0_0x11dbb0(0x568)](_0x9de45a,_0x36379c){const _0x4557d9=a0_0x11dbb0;return await this[_0x4557d9(0x504)][_0x4557d9(0x602)][_0x9de45a[_0x4557d9(0x13c)]][_0x4557d9(0x568)](_0x36379c);}async[a0_0x11dbb0(0x1f8)](_0x10e564,_0x1b962c){const _0x217d1a=a0_0x11dbb0;return await this[_0x217d1a(0x504)][_0x217d1a(0x602)][_0x10e564[_0x217d1a(0x13c)]][_0x217d1a(0x1f8)](_0x1b962c[_0x217d1a(0x36c)]);}async[a0_0x11dbb0(0x609)](_0x21a047,_0x354d40){const _0x1ed278=a0_0x11dbb0;return await this['waMonitor'][_0x1ed278(0x602)][_0x21a047['instanceName']]['createFlow'](_0x354d40);}async['editFlow'](_0x40ac02,_0x2ab70b){const _0x2abb5b=a0_0x11dbb0;return await this[_0x2abb5b(0x504)][_0x2abb5b(0x602)][_0x40ac02[_0x2abb5b(0x13c)]][_0x2abb5b(0x256)](_0x2ab70b);}async['editFlowBlock'](_0x8bf1ee,_0xa5b642){const _0x2a9f91=a0_0x11dbb0;return await this[_0x2a9f91(0x504)][_0x2a9f91(0x602)][_0x8bf1ee['instanceName']][_0x2a9f91(0x1d0)](_0xa5b642);}async[a0_0x11dbb0(0x2e6)](_0x342431,_0x299fd1){const _0x3f7ac6=a0_0x11dbb0;return await this['waMonitor'][_0x3f7ac6(0x602)][_0x342431[_0x3f7ac6(0x13c)]][_0x3f7ac6(0x2e6)](_0x299fd1);}async[a0_0x11dbb0(0x2c8)](_0x357b1e,_0x2127a5){const _0x1a8f31=a0_0x11dbb0;return await this['waMonitor'][_0x1a8f31(0x602)][_0x357b1e[_0x1a8f31(0x13c)]][_0x1a8f31(0x2c8)](_0x2127a5);}async[a0_0x11dbb0(0x143)](_0xbc78e7,_0x37ac0d){const _0x27bcfb=a0_0x11dbb0;return await this[_0x27bcfb(0x504)][_0x27bcfb(0x602)][_0xbc78e7[_0x27bcfb(0x13c)]][_0x27bcfb(0x143)](_0x37ac0d);}async[a0_0x11dbb0(0x177)](_0x908049,_0xff32a8){const _0x35916a=a0_0x11dbb0;return await this[_0x35916a(0x504)][_0x35916a(0x602)][_0x908049[_0x35916a(0x13c)]][_0x35916a(0x177)](_0xff32a8);}async['editFlowVariable'](_0x2bfa79,_0x29328a){const _0x51acba=a0_0x11dbb0;return await this[_0x51acba(0x504)]['waInstances'][_0x2bfa79[_0x51acba(0x13c)]][_0x51acba(0x186)](_0x29328a);}async[a0_0x11dbb0(0x4fd)](_0x1cfeac,_0x17624c){const _0x3a150f=a0_0x11dbb0;return await this[_0x3a150f(0x504)][_0x3a150f(0x602)][_0x1cfeac['instanceName']][_0x3a150f(0x4fd)](_0x17624c[_0x3a150f(0x36c)]);}async[a0_0x11dbb0(0x3ec)](_0x509b24){const _0x5d2142=a0_0x11dbb0;return await this['waMonitor'][_0x5d2142(0x602)][_0x509b24[_0x5d2142(0x13c)]][_0x5d2142(0x3ec)]();}},jt=class{constructor(_0xe34aae){const _0x162fda=a0_0x11dbb0;this[_0x162fda(0x1e9)]=_0xe34aae;}async[a0_0x11dbb0(0x5ff)](_0x2a3f62,_0x5576cd){const _0x1319c4=a0_0x11dbb0;return this[_0x1319c4(0x1e9)][_0x1319c4(0x39a)](_0x2a3f62,_0x5576cd);}async['findWebhook'](_0x388b75){const _0x1db94a=a0_0x11dbb0;return this[_0x1db94a(0x1e9)]['find'](_0x388b75);}},Ft=class{constructor(_0x4731c7,_0x12fc3a,_0x4d4722,_0x411c47,_0x59ffaf,_0x4c9687,_0x3be0df){const _0x3b0870=a0_0x11dbb0;this[_0x3b0870(0x2cb)]=_0x4731c7,this[_0x3b0870(0x65d)]=_0x12fc3a,this['contact']=_0x4d4722,this[_0x3b0870(0x28e)]=_0x411c47,this[_0x3b0870(0x51d)]=_0x59ffaf,this[_0x3b0870(0x435)]=_0x4c9687,this[_0x3b0870(0x62b)]=_0x3be0df;}get[a0_0x11dbb0(0x2ba)](){const _0x27d2f3=a0_0x11dbb0;return this[_0x27d2f3(0x62b)];}},Cs=require('mongoose'),Ss=class{},ri=new Cs[(a0_0x11dbb0(0x554))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':['android',a0_0x11dbb0(0xdf),a0_0x11dbb0(0x217)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),co=R?.[a0_0x11dbb0(0x5ca)](Ss[a0_0x11dbb0(0x36c)],ri,a0_0x11dbb0(0x1ac)),Es=class{},ni=new Cs[(a0_0x11dbb0(0x554))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String,'required':!0x0,'min':0x1},'id':{'type':String,'required':!0x0,'min':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'min':0x1},'datetime':{'type':Number,'required':!0x0,'min':0x1},'status':{'type':String,'required':!0x0},'owner':{'type':String,'required':!0x0,'min':0x1}}),lo=R?.[a0_0x11dbb0(0x5ca)](Es[a0_0x11dbb0(0x36c)],ni,a0_0x11dbb0(0x28e)),uo=require(a0_0x11dbb0(0x2d1)),Ns=class{},ci=new uo[(a0_0x11dbb0(0x554))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),po=R?.[a0_0x11dbb0(0x5ca)](Ns['name'],ci,a0_0x11dbb0(0x5e9)),mo=require(a0_0x11dbb0(0x2d1)),vs=class{},go=new mo[(a0_0x11dbb0(0x554))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});go['pre'](a0_0x11dbb0(0x48a),function(_0x26725d){const _0x122a04=a0_0x11dbb0;delete this[_0x122a04(0x57b)],delete this['flowIgnoreGroups'],delete this[_0x122a04(0x230)],delete this[_0x122a04(0x3ad)],delete this[_0x122a04(0x4d0)],_0x26725d();});var ho=R?.[a0_0x11dbb0(0x5ca)](vs[a0_0x11dbb0(0x36c)],go,a0_0x11dbb0(0x51d)),Ts=require(a0_0x11dbb0(0x15d)),fo=require('fs'),Gt=class extends j{constructor(_0x28894b,_0x2de816){const _0x3339f2=a0_0x11dbb0;super(_0x2de816),this[_0x3339f2(0x1ad)]=_0x28894b,this[_0x3339f2(0x228)]=_0x2de816;}async['create'](_0x34e3d8,_0x5de9c3){const _0x3e74e6=a0_0x11dbb0;try{return this['dbSettings']['ENABLED']?{'insertCount':(await this[_0x3e74e6(0x1ad)][_0x3e74e6(0x134)]({'_id':_0x5de9c3},{..._0x34e3d8},{'upsert':!0x0}))['modifiedCount']}:(this[_0x3e74e6(0x151)]({'path':(0x0,Ts['join'])(this[_0x3e74e6(0x262)],_0x3e74e6(0x51d)),'fileName':_0x5de9c3,'data':_0x34e3d8}),{'insertCount':0x1});}catch(_0x2f194d){return _0x2f194d;}}async['find'](_0x4f9655){const _0x30109a=a0_0x11dbb0;try{return this[_0x30109a(0x1fe)][_0x30109a(0x3c8)]?await this[_0x30109a(0x1ad)][_0x30109a(0x5df)]({'_id':_0x4f9655}):JSON[_0x30109a(0x39b)]((0x0,fo[_0x30109a(0x641)])((0x0,Ts[_0x30109a(0x140)])(this[_0x30109a(0x262)],'webhook',_0x4f9655+_0x30109a(0x207)),{'encoding':_0x30109a(0x18f)}));}catch{return{};}}},Rs=require('path'),wo=require('fs'),qt=class extends j{constructor(_0x150189,_0x44a076){const _0x3e7919=a0_0x11dbb0;super(_0x44a076),this[_0x3e7919(0x29b)]=_0x150189,this[_0x3e7919(0x228)]=_0x44a076,this[_0x3e7919(0x435)]=_0x44a076[_0x3e7919(0x123)](_0x3e7919(0x4a1));}async[a0_0x11dbb0(0x39a)](_0x2ceb5b,_0x4bddb6){const _0x2c9567=a0_0x11dbb0;try{return this[_0x2c9567(0x1fe)][_0x2c9567(0x3c8)]?{'insertCount':(await this[_0x2c9567(0x29b)][_0x2c9567(0x134)]({'_id':_0x4bddb6},{..._0x2ceb5b},{'upsert':!0x0}))[_0x2c9567(0x1f6)]}:(this[_0x2c9567(0x151)]({'path':(0x0,Rs[_0x2c9567(0x140)])(Wt,this[_0x2c9567(0x435)][_0x2c9567(0x54c)]),'fileName':_0x4bddb6,'data':_0x2ceb5b}),{'insertCount':0x1});}catch(_0x1cddc0){return{'error':_0x1cddc0};}}async[a0_0x11dbb0(0x467)](_0x38ff19){const _0x3ec1c9=a0_0x11dbb0;try{return this[_0x3ec1c9(0x1fe)]['ENABLED']?await this['authModel']['findOne']({'_id':_0x38ff19}):JSON[_0x3ec1c9(0x39b)]((0x0,wo['readFileSync'])((0x0,Rs[_0x3ec1c9(0x140)])(Wt,this[_0x3ec1c9(0x435)][_0x3ec1c9(0x54c)],_0x38ff19+_0x3ec1c9(0x207)),{'encoding':'utf-8'}));}catch{return{};}}},li=new v(a0_0x11dbb0(0x5c2)),ui=new Ue(co,y),di=new _t(M,y),pi=new Qe(Be,y),mi=new Ze(lo,y),gi=new Gt(ho,y),hi=new qt(po,y),Ce=new Ft(ui,di,pi,mi,gi,hi,R?.['getClient']()),_=new Ot(Qt,y,Ce),fi=new dt(y,_,Ce),wi=new Vt(_),ps=new jt(wi),A=new Bt(_),ie=new $t(_,y,Ce,Qt,fi),Ka=new Ut(_,y),W=new kt(_),O=new xt(_),V=new Lt(_);li[a0_0x11dbb0(0x4e6)](a0_0x11dbb0(0x581));var tp=require('express-async-errors'),Ms=require('fs'),yo=T(require(a0_0x11dbb0(0x1da))),bo=T(require(a0_0x11dbb0(0x3a2))),_e=class l{static #e;static set[a0_0x11dbb0(0x210)](_0x2be489){this.#e=_0x2be489;}static get[a0_0x11dbb0(0x1da)](){const _0x6d60bc=a0_0x11dbb0;let {FULLCHAIN:_0xad067b,PRIVKEY:_0x4e2bce}=y['get'](_0x6d60bc(0x61c));return yo[_0x6d60bc(0x255)]({'cert':(0x0,Ms[_0x6d60bc(0x641)])(_0xad067b),'key':(0x0,Ms['readFileSync'])(_0x4e2bce)},l.#e);}static get[a0_0x11dbb0(0x3a2)](){const _0x1426a2=a0_0x11dbb0;return bo[_0x1426a2(0x255)](l.#e);}},xe=T(require('fs')),Ro=T(require(a0_0x11dbb0(0x373))),$e=T(require('axios')),Jt=T(require('path')),Mo=require(a0_0x11dbb0(0x534)),Os=require('child_process');function yi(){const _0x1167b9=a0_0x11dbb0;_[_0x1167b9(0x57a)]();let _0x1e12c4=Jt['default'][_0x1167b9(0x140)](__dirname,'downloads');To(_0x1e12c4);}var To=_0x277d5b=>{const _0x2c751c=a0_0x11dbb0;let _0x44b5be=xe[_0x2c751c(0x2cc)][_0x2c751c(0x50f)](_0x277d5b),_0x1ca154=0xc*0x3c*0x3c*0x3e8,_0x18b416=0x2*0x3c*0x3c*0x3e8,_0x2e29d2=new Date()['getTime']();_0x44b5be['forEach'](_0xb810f0=>{const _0x6628db=_0x2c751c;let _0x489442=Jt['default'][_0x6628db(0x140)](_0x277d5b,_0xb810f0),_0x2a6015=xe[_0x6628db(0x2cc)][_0x6628db(0x327)](_0x489442)[_0x6628db(0x651)][_0x6628db(0x393)]();_0x2e29d2-_0x2a6015>_0x1ca154&&(xe[_0x6628db(0x2cc)]['unlinkSync'](_0x489442),console['log'](_0x6628db(0x463)+_0xb810f0));}),setTimeout(()=>To(_0x277d5b),_0x18b416);};function bi(){const _0x1416a1=a0_0x11dbb0;let _0x569cce=new v(_0x1416a1(0x63b)),_0x27242c=(0x0,ue[_0x1416a1(0x2cc)])();_0x27242c['use']((0x0,vo[_0x1416a1(0x2cc)])({'origin'(_0x32b1e5,_0x5d6519){const _0x50b7a3=_0x1416a1;let {ORIGIN:_0x24be4d}=y[_0x50b7a3(0x123)]('CORS');return _0x32b1e5||(_0x32b1e5='*'),_0x24be4d[_0x50b7a3(0x601)]('*')!==-0x1||_0x24be4d[_0x50b7a3(0x601)](_0x32b1e5)!==-0x1?_0x5d6519(null,!0x0):_0x5d6519(new Error(_0x50b7a3(0x4a9)));},'methods':[...y[_0x1416a1(0x123)]('CORS')['METHODS']],'credentials':y[_0x1416a1(0x123)](_0x1416a1(0x41c))[_0x1416a1(0x654)]}),(0x0,ue[_0x1416a1(0x5a3)])({'extended':!0x0,'limit':_0x1416a1(0x5c9)}),(0x0,ue[_0x1416a1(0x469)])({'limit':_0x1416a1(0x5c9)}),(0x0,No[_0x1416a1(0x2cc)])()),_0x27242c[_0x1416a1(0x48c)](_0x1416a1(0x3dd),_0x1416a1(0x2d4)),_0x27242c[_0x1416a1(0x48c)]('views',(0x0,Is[_0x1416a1(0x140)])(K,_0x1416a1(0x2e1))),_0x27242c[_0x1416a1(0x4cc)](ue[_0x1416a1(0x2cc)][_0x1416a1(0x1fd)]((0x0,Is[_0x1416a1(0x140)])(K,_0x1416a1(0x3f3)))),_0x27242c['use']((_0x26cb42,_0x30f4f1,_0x15be41)=>{const _0x3441e3=_0x1416a1;let _0x4d01d0=_0x30f4f1[_0x3441e3(0x1eb)];_0x30f4f1['send']=function(_0x5dbdac){const _0x59e70a=_0x3441e3;if(_0x26cb42['query']['convert']===_0x59e70a(0x26f)||_0x26cb42[_0x59e70a(0x4bc)][_0x59e70a(0x1b7)]===_0x59e70a(0x26f)){let _0x51f719=JSON[_0x59e70a(0x39b)](_0x5dbdac);_0x5dbdac=JSON[_0x59e70a(0x5db)](_0x12569d(_0x51f719));}return _0x4d01d0['apply'](_0x30f4f1,[_0x5dbdac]);},_0x15be41();}),_0x27242c['use']('/',ms),_0x27242c[_0x1416a1(0x4cc)]((_0x2f3560,_0x26161b,_0x33651e,_0x2ad2d9)=>{const _0x15e4b6=_0x1416a1;if(_0x2f3560)return _0x33651e[_0x15e4b6(0x4c3)](_0x2f3560['status']||0x1f4)[_0x15e4b6(0x469)](_0x2f3560);},(_0x431160,_0x9fde1e,_0x5e011f)=>{const _0xbc36f5=_0x1416a1;let {method:_0x4fe497,url:_0x4c6a00}=_0x431160;_0x9fde1e[_0xbc36f5(0x4c3)](0x194)['json']({'status':0x194,'message':_0xbc36f5(0x19d)+_0x4fe497[_0xbc36f5(0x42e)]()+'\x20'+_0x4c6a00,'error':_0xbc36f5(0x525)}),_0x5e011f();});let _0x12569d=(_0x49e41f,_0x513cb9='_p_')=>{const _0x38d687=_0x1416a1;let _0x7ab979=(_0x52d309,_0x4d5ef7=null,_0x19238d=!0x1)=>{const _0x29dd90=a0_0x4676;let _0x6fa17f={};return Object[_0x29dd90(0x354)](_0x52d309)[_0x29dd90(0x5b1)](_0x3b19cc=>{const _0x4e4744=_0x29dd90;let _0x52762c=_0x52d309[_0x3b19cc],_0x36deca=''+_0x513cb9+_0x3b19cc;_0x4d5ef7&&!_0x19238d&&(_0x36deca=_0x4d5ef7+'.'+_0x3b19cc),!_0x52762c&&_0x52762c!==0x0&&_0x52762c!==!0x1||typeof _0x52762c>'u'?_0x6fa17f[_0x36deca]=null:typeof _0x52762c!=_0x4e4744(0x368)&&!Array[_0x4e4744(0x4df)](_0x52762c)?_0x6fa17f[_0x36deca]=_0x52762c:typeof _0x52762c==_0x4e4744(0x368)&&!Array['isArray'](_0x52762c)?_0x6fa17f=Object[_0x4e4744(0x2f3)](_0x6fa17f,_0x7ab979(_0x52762c,_0x36deca)):Array[_0x4e4744(0x4df)](_0x52762c)&&(typeof _0x52762c[0x0]==_0x4e4744(0x368)?(_0x6fa17f[_0x36deca]=[],_0x52762c[_0x4e4744(0x5b1)](_0x35e680=>{const _0x29242b=_0x4e4744;_0x6fa17f[_0x36deca][_0x29242b(0x17b)](_0x7ab979(_0x35e680,_0x36deca,!0x0));})):_0x6fa17f[_0x36deca]=_0x52762c);}),_0x6fa17f;};return Array[_0x38d687(0x4df)](_0x49e41f)?_0x49e41f[_0x38d687(0x360)](_0x4f5833=>_0x7ab979(_0x4f5833)):typeof _0x49e41f==_0x38d687(0x368)&&_0x49e41f!==null?_0x7ab979(_0x49e41f):{};},_0x1e7efd=y[_0x1416a1(0x123)](_0x1416a1(0x63b));_e[_0x1416a1(0x210)]=_0x27242c;let _0x623a46=_e[_0x1e7efd[_0x1416a1(0x54c)]],_0x3b5cd0='\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20';_0x623a46[_0x1416a1(0x376)](_0x1e7efd[_0x1416a1(0x62c)],()=>{const _0x5e4d0c=_0x1416a1;_0x569cce['log'](_0x3b5cd0),_0x569cce[_0x5e4d0c(0x3cd)](_0x1e7efd[_0x5e4d0c(0x54c)][_0x5e4d0c(0x42e)]()+_0x5e4d0c(0x158)+_0x1e7efd[_0x5e4d0c(0x62c)]);}),yi(),Gs();}function a0_0x5119(){const _0x3ba771=['email','prototype','16000','):\x20Tentando\x20deletar\x20todas\x20mensagens\x20updates...','senderKeyDistributionMessage','):\x20transformedCustomFieldVariables','backgroundColor','rm\x20-rf\x20','replaceVariablesChat','connectionState','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','order','request\x20received\x20in\x20createFlow','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','\x20}\x0a','audioMessage','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','TYPE','Falha\x20ao\x20deletar\x20mensagens\x20updates:','Error\x20updating\x20profile\x20name','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Erro\x20ao\x20encerrar\x20a\x20API','badSession','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','CHATS_UPDATE','Schema','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','truncatedtoEnd','checkAndUpdateChats','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','):\x20newSecondValue\x20após\x20replaceVariables:','Parando\x20aplicação...','Button\x20IDs\x20cannot\x20be\x20repeated.','CHATS_UPSERT','integer','sendSticker','groupUpdateDescription','content','long','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','imageMessage','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','loadWebhook','load','WEBHOOK_EVENTS_MESSAGES_UPSERT','deleteConversation','rowId','getConversation','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','locationMessage','findGroupInfo','composing','?authSource=admin&readPreference=primary&directConnection=true',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','\x22\x20instance\x20does\x20not\x20exist','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','method','-ar','Data\x20inválida\x20fornecida','messageTimestamp','/wa-chats','SERVER_ACK','loadInstance','flowActive','request\x20received\x20in\x20editFlowvariable','generate','AUTHENTICATION_JWT_SECRET','longitude','pre','Module\x20-\x20ON','https://api.ipify.org?format=json','Error\x20change\x20group\x20setting','contact_blacklist','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','waMonit','sendDataWebhook','fluent-ffmpeg','stream-buffers','QRCODE_UPDATED','imagechat','quoted','uazapiSendContact','\x20inseridos\x20no\x20banco\x20de\x20dados...','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','customFields','setWebhook','Error\x20update\x20group\x20picture','PLAYED','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','PRESENCE_UPDATE','isInteger','creds.json','jid','allContacts','lean','prepareWAMessageMedia','presenceSubscribe','StatusJidList\x20is\x20required','@whiskeysockets/baileys','Variável\x20não\x20encontrada!','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','1572QgJghZ','USER','urlencoded','varedits','https://jsonip.com','pushName','verify','out','datetime','recording','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','CORS_ORIGIN','whatsappNumber','Missing\x20global\x20api\x20key','.X-ABLabel:Celular\x0a','viewOnceMessageV2','forEach','archive','fromMe','spawn','stack','subject','profile','sign','hostname','Error\x20processing\x20read\x20messages:','groups.update','gifPlayback','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','organization','pollCreationMessage','Atualização:\x20','./.git/config','WA\x20MODULE','):\x20Deletando\x20fluxo...','video-cover.png','promote','WEBHOOK_EVENTS_GROUPS_UPSERT','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','!stop','50mb','model','lastCondition','stoppedUntil','Conversa\x20deletada\x20com\x20sucesso.','):\x20Ler\x20mensagem','substring','):\x20Criou\x20conversa\x20no\x20startFlow:','optionName','ignoreGroups','isBase64','apikey','noVideo','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','CONFIG_SESSION_PHONE_NAME','stringify','):\x20teve\x20mudanças\x20chat.displayName:\x20','instanceInfo','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','findOne','Falta\x20informação\x20para\x20a\x20chamada\x20API','WEBHOOK_GLOBAL_URL','}}\x20->\x20\x22','groupRevokeInvite','updateCustomFields','/webhook','STATUS_INSTANCE','now','TRIAL_INSTANCE_NAME','authentication','NEW_JWT_TOKEN','Valor\x20de\x20find\x20ou\x20replace\x20ausente','Erro\x20inesperado\x20em\x20processvaredits:\x20','eventemitter2','saveTextReply','):\x20Procurando\x20mensagens\x20para\x20envio','SendScheduleMessage','waUploadToServer','removeInstance','findGroup','wuid','\x20foram\x20adicionados\x20\x22contactname\x22\x20','Erro\x20de\x20atualização:\x20','desc','markMessageAsRead','prepareMediaMessage','Operador:\x20\x22','loggedOut','deleteMessageForEveryone','\x0a*Você\x20respondeu*:\x0a','reconnectAttempts','createWebhook','\x20install\x20output:\x20','indexOf','waInstances','Erro:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','hex','update','MESSAGES_UPSERT','evaluateCondition','createFlow','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','writeFile','EVENTS','downloads','Log\x20out\x20instance:\x20','):\x20A\x20atualização\x20no\x20BD\x20do\x20chat\x20não\x20foi\x20bem\x20sucedida','licenca','DATABASE_ENABLED','block','media','conditions','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','sendPresenceUpdate','VERBOSE','WEBHOOK_EVENTS_QRCODE_UPDATED','deleteDoneMessages','Method\x20not\x20implemented.','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','SSL_CONF','findGroups','FULLCHAIN','flowConversation','addresss','/create','flowConfig','pino','/wa-contacts','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','cpf','userDevicesCache','groupValidate','firstValue','Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','dbClient','PORT','toNumber','COLOR','CLEANING_INTERVAL','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','lastMessage','query','finish','dark','Valor\x20inicial:\x20\x22','resetReconnectionVariables','messages.upsert','Unauthorized','):\x20Enviando\x20contato','request\x20received\x20in\x20scheduleMessage','SERVER','Close\x20connection','):\x20Procurando\x20conversa','pollCreationMessageKey','ip:\x20','loadEnv','readFileSync','replaceVariablesInObject','picture','Initial\x20__dirname:','node-cache','instance','none','scheduled','findIndex','Instance\x20deleted','reconnectTimestamps','Falha\x20ao\x20deletar\x20mensagens:','repeat','\x0a{\x20instance:\x20','$set','editScheduleMessage','birthtime','text','DD/MM\x20HH:mm:ss','CREDENTIALS','updateOne','delaySecMax','10640aMBNTx','scheduleSendAudio','goNextblock','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','/wa-qrcode','createConversationforStartFlow','chat','jpegThumbnail','findAndReplace','CLIENT','flattenObject','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','sendMessage','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','):\x20Conversa\x20inserida\x20com\x20sucesso.','latitude','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','https://uazapi-plugin.bubbleapps.io/?url=','SERVER_OFFLINE','some','waitingPoll_replyOptions','truncatedto','updateBlock','\x20minutos\x20verificará\x20novas\x20mensagens','done','_error','eventEmitter','address','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','):\x20Buscando\x20flow...','toBRL','2530588myiUnZ','contacts','LICENSE_INVALID','web','split','lowerCase','messageUpModel','updatePrivacySettings','array','processvaredits','getMessage','uazapiSendPoll','sendList','WEBHOOK_EVENTS_CHATS_DELETE','fetchConversation','readFile','PRODUCTION','newName','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','mongodb','has','stanzaId','delay','floor','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','DELIVERY_ACK','displayName','SSL_CONF_PRIVKEY','contacts.update','toLocaleString','-version','applyvaredit','AUTHENTICATION_JWT_EXPIRIN_IN','website','nomecompleto','GLOBAL','groups.upsert','StartBot','delInstanceFiles','/media/','number','SECRET','sections','key.','noConnection','removeProfilePicture','getContents','Invalid\x20\x22oldToken\x22','outputOptions','created','post','arrayUnique','LEVEL','):\x20nextBlock.uazapi.name','cleaningUp','):\x20Error\x20processing\x20conditions:\x20','statusCode','request\x20received\x20in\x20fetchConversation','console','.mp3','BRL','lastInteraction','notify','):\x20expirationTime:\x20','g-t','jsonschema','fetchProfilePicture','\x1b[34m','caption','messageContextInfo','get','condition','length','processblock','sending','findMessages','editflowvaredit','Instance\x20restarted','/group','WritableStreamBuffer','Número:\x20','url','372wHCWjR','open','HH:mm:ss','reference','atendimentoAberto','replaceOne','catch','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE','sendContact','The\x20\x22','):\x20Enviando\x20texto','sendReaction','instanceName','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','request\x20received\x20in\x20allFlows','pollCreationMessageV2','join','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','collections','editFlowCondition','params','connected','editflowreply','verbose','responsavelid','contactModel','subjectTime','fetchChats','error_log','getOwnPropertyDescriptor','getTicketSystem','msgRetryCounterCache','getMinutes','writeStore','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','dayjs','headerString','variablesNotFound','sudo\x20apt\x20install\x20-y\x20redis-server','rmSync','\x20-\x20ON:\x20','mimetype',',\x20Comparador:\x20','creds','unreadcount','path','STORE_CONTACTS','REDIS','NextBlock','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','error','DEBUG','Error\x20removing\x20profile\x20picture','match','entries','minutesToClose','Read\x20messages\x20fail','store','messageModel','endSession','value','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','replyOption','isConnected','Message\x20not\x20found','router','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','unreadCount','\x1b[44m','audioFrequency','debug','editFlowVaredit','isLong','mediaMessage','body','push','logout',',\x20Expiration\x20Time:\x20','):\x20Não\x20achou\x20nenhum\x20flow','round','insertMany','/:instanceName','):\x20Entrou\x20na\x20função\x20saveReply','_activatedCount','.jwt','expiration','editFlowVariable','lastSend','collection','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','updateMessage','MAX_RECONNECT_ATTEMPTS','fetchContacts','demote','audioBitrate','utf-8','fetchInstances','statusMessage','restartInstance','Início','Invalid\x20format','\x1b[33m\x1b[1m','fetchMessages','-whatsapp-api','Error\x20in\x20scheduleNextCheck:\x20','findWebhook','varedit','ephemeralMessage','):\x20Editando\x20grupo\x20do\x20fluxo...','Cannot\x20','saveCreds','Flow\x20already\x20exists','remoteJidsRemaining','instance.','getMIMEType','sha256','contextInfo','56JbDyAf','Validate','statusJidList','role','moreLogs','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','Mensagem\x20não\x20suportada','messages','webhookModel','blockLogs','stopIfLastReturnedError','SSL_CONF_FULLCHAIN','contactMessage','reaction','release','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','deleteMessage','profilePictureUrl','uazapi','chats.upsert','OrAnd','header','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','image','pollUpdateMessage','/wa-groups','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','.\x20Pulando.','#ffffff','profilePicture','src','fetchLatestBaileysVersion','syscall','AUTHENTICATION_TYPE','enumerable','compression','messagesSend','mediaKey','Nenhum\x20chat\x20encontrado\x20para\x20editar.','groupParticipantsUpdate','updateLastSeenPrivacy','context','editFlowBlock','padEnd','ReplyOption\x20com\x20ID\x20','waitingPoll_name','updateAgent','status@broadcast','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','deleteReplyOption','startFlow','replace','https','getScheduleMessage','Comando\x20desconhecido','fone','request\x20received\x20in\x20updateAgent','defineAuthState','express','variablesToObject','includes','mediatype','match_last_seen','add','stopMinutesMaxActives','findByIdAndDelete','DATABASE_CONNECTION_HOST','webhookService','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','send','\x20segundos','pollOnReplyDelete','create\x20-\x20success','groupToggleEphemeral','Unknown\x20message\x20type\x20encountered','instances','g.us','):\x20Enviando\x20enquete','lastSendMessage','request\x20received\x20in\x20editConversation','modifiedCount','DATABASE_CONNECTION_PASSWORD','getFlow','WARN','repository','uuid','/exit','static','dbSettings','\x20não\x20encontrado','title','lastBlockId','Type\x20is\x20required','findByIdAndUpdate','joinGroupValidate','/media','reorderBlocks','.json','processConditions','\x1b[1m\x1b[37m','\x20messages.update.','qrcode','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','editflowgroup','\x20não\x20encontrado\x20para\x20atualização.','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','app','reactionMessage','STORE','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','quotedMessage','output','ios','document','WEBHOOK_EVENTS_CONNECTION_UPDATE','Error\x20updating\x20profile\x20status','notMatchRegex','replaceVariablesInReplyOptions','messaging-history.set','buttonMessage','success','textMessage','groupHandler','deletedCount','tokenId',',\x20valor\x20a\x20encontrar:\x20\x22','SERVER_PORT','^\x5cd+[\x5c.@\x5cw-]+','request\x20received\x20in\x20editFlowcondition','configService','END:VCARD','greater','getAutomateSystem','fetchProfilePictureUrl','\x20minutos','https://chat.whatsapp.com/','emit','flowPrefixCommand','\x20foi\x20interrompido\x20pelo\x20usuário.','chatModel','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','.josn','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','buttons','sendButtons','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','refused','groupSetting','CONFIG_SESSION_PHONE','ERROR','/wa-connection-update','announcement','updateGroupPicture','LOG','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','boolean','segundos','):\x20lastBlockId:\x20','fetchBusinessProfile','padStart','function','\x1b[1m','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','key','PASSWORD','}}\x20->\x20valor\x20não\x20encontrado','):\x20Modified\x20Query:','participants','LOG_COLOR','prefixCommand','Button\x20texts\x20cannot\x20be\x20repeated','):\x20Chat\x20atualizado\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','\x1b[33m%s\x1b[0m','data','createServer','editFlow','Nome\x20não\x20encontrado','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','pt-BR','DOCKER_ENV','paused','ERROR:\x20','isFile','):\x20Conversa\x20atualizada\x20em\x20memória','):\x20Iniciando\x20bot...','):\x20delete\x20=\x20true','urlOrBase64','storePath','archiveChat','creds.update','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','updateProfileName','readMessages','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','scheduleNextCheck','getStatus','render','option','processApiRequest','true','stopMinutes','createConnection','--version','buttonId','/wa-message-update','groupInviteCode','presence.update','This\x20name\x20\x22','AUTHENTICATION_API_KEY','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','isRunning','AutomateSystem','.\x20Código\x20de\x20saída\x20','format','updateGParticipant','):\x20Comando\x20desconhecido:\x20','eventHandler','findOneAndUpdate','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20áudio:','then','throwAndLogError','readMessage','webhookMap','bodyString','lastcache','refreshToken','numbers','selectableCount','Creating\x20media\x20folder...','messageUpdate','group','empty','poll_id','sendLocation','saveVariable','trim','):\x20debug\x20alterando\x20this.AutomateSystem','namespace','replyOptions','deleteBlock','):\x20Flow\x20desativado','delaySecMin','authModel','test','request\x20body:\x20','toString','/wa-presence','6627195BeTRcl','status.instance','?timestamp=','generateWAMessageFromContent','localWebhook','last_update','participant','description','CORS_METHODS','DB_PREFIX_NAME','CONFIG_SESSION_PHONE_CLIENT','nome','Revoke\x20error','\x1b[0m','cwd','getflow','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','fromObject','fetchStatus','not\x20loaded','/refreshToken','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:','evaluateConditionTest','convertedOptions','):\x20Enviando\x20localização','stopConversation','dbServer','CONTACTS_UPSERT','realVariables','del','CONNECTION_UPDATE','getHours','slice','optionDescription','/wa-message','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','updateConversation','remoteJid','buttonsMessage','replaceValue','editFlowGroup','):\x20Query\x20params:','variable','message','default','audio/ogg;\x20codecs=opus','hDel','and','request\x20received\x20in\x20getAutomateSystem','mongoose','createGroup','getOwnPropertyNames','hbs','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','all','toBrazilianNumberFormat','envProcess','CONTACTS_UPDATE','lastmsg','FlowRouter','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','updateProfilePicturePrivacy','pollMessage','):\x20customFieldVariables','):\x20','views','Db\x20Connection','FlowController','startsWith','):\x20Erro\x20ao\x20criar\x20fluxo\x20','editFlowReply','contactsArrayMessage','next_groupId','):\x20Editando\x20replyOption...','WEBHOOK_EVENTS_MESSAGES_UPDATE','connect','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','PREFIX_KEY','conversation','isJidUser','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','createJid','assign','createNewConversation','CHATS_DELETE','SERVER_TYPE','findStatusMessage','\x22\x20-\x20REMOVED','uazapiSendMedia','HOST','notEmpty','groupadd','start','groupJid','qrCode','sticker','whatsappNumbers','secondValue','protocolMessage','Bad\x20Request','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','lastReceivedMessage','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','dropCollection','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','findFlow','GROUPS_UPDATE','TEXT','getRandomText','addBlock','setNewValue','groupDesc','request\x20received\x20in\x20editFlow','nextBlock:','Sistema\x20atualizado\x20com\x20sucesso!','string','):\x20Enviando\x20áudio','WEBHOOK_EVENTS_CHATS_UPSERT','exit','audioWhatsapp','online','SEND_MESSAGE','opendirSync','findById','unhandledRejection','CHATS_SET','selectedOptions','logger','request\x20received\x20in\x20updateFlowConfig','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','\x20contacts','Error\x20updating\x20privacy\x20settings','available','.TEL;waid=','statSync','uazapiDeleteMessage','trimmed','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','DATABASE_CONNECTION_USER','-instances','@s.whatsapp.net','phoneNumber','Contacts\x20not\x20found','width','@g.us','):\x20this.processingScheduleMessageId:\x20','URL','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','PHONE','fetchProfile','error\x20get\x20vote','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','MESSAGES_UPDATE','1202576QDxqvm','close','redisEnv','call','inviteCode','redisCache','scheduleSendMedia','groups','exec','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','chats.update','editflowblock','editOperator','variables','fileName','abs','DisconnectReason','):\x20Deletando\x20conversa...','pop','mentioned','contactname','BufferJSON','useMultiFileAuthState','authorization','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','\x20inseridas\x20no\x20banco\x20de\x20dados...','keys','REDIS_PREFIX_KEY','deleteOne','updateGroupsAddPrivacy','\x20minutos...','URI','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','\x1b[30m','pollErrorMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','chats.set','updateFlowConfig','map','routerPath','errors','editflowvariable','\x1b[32m','reviver','performBulkUpdate','apiResponse','object','count','SUCCESS','chatLog','name','js-yaml','initAuthCreds','messageSecret','stateConnection','authService','STORE_CLEANING_TERMINAL','ini','from','put','listen','CONTACTS_SET','parseInt','libopus','isURL','Flow\x20não\x20encontrado','updateReadReceiptsPrivacy','Bloco\x20com\x20ID\x20','redis-server','WEBHOOK','\x1b[43m','messages.update','PRIVKEY','Message','sendMessageWithTyping','fileLength','blocks','mentions','RECONNECT_TIME_FRAME','qrcode-terminal','sort','buttonText','expression','):\x20Error\x20processing\x20the\x20block:\x20','/automate','delayMessage','message-up','\x5c$&','chats.delete','getTime','privacySettings','updateProfilePicture','desativadoFluxoAte','conversationTimestamp','DATABASE','mkdirSync','create','parse','Instância:\x20','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','leadInfo.desativadoFluxoAte','):\x20updateResult:','Erro\x20na\x20migração:','http','local_map','Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','authState','Error\x20while\x20deleting\x20message\x20for\x20everyone','agents','):\x20Limpando\x20delayMessage','oldValue','\x5cd+','documentMessage','ObjectId','flowStopConversation','WEBHOOK_GLOBAL_ENABLED','joinGroup','groupName','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','readData','fullName','base64','errno','):\x20Visualizando\x20AutomateSystem','editedMessage','editConversation','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','deleteflow','endsWith','values','addReplyOption','Error\x20fetching\x20group','qrcode.updated','errorLog','user','DATABASE_CONNECTION_URI','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','deleteMany','stickerMessage','currency','ENABLED','getVariablesChat','sendPoll','ffmpeg','):\x20Criando\x20nova\x20conversa','log','REDIS_URI','pollCreationMessageV3','charAt','replaceVariables','enabled','replaceVariablesLogs','processUazapi','Imagem\x20não\x20encontrada','*Pergunta*:\x20\x0a','Type\x20not\x20found','The\x20instance\x20needs\x20to\x20be\x20disconnected','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','stream','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','state','view\x20engine','inner','):\x20Erro\x20ao\x20buscar\x20conversas\x20','):\x20Editando\x20variável\x20do\x20fluxo...','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','STORE_CHATS','):\x20Buscando\x20todos\x20os\x20fluxos...','findChats','action','owner','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','blockId','upsertChats','groupMetadata','setting','allFlows','execSync','formatStatusMessage','):\x20Alterando\x20fluxo...','):\x20Enviando\x20mídia','code','editflow','public','saveConversationToDatabase','14613960ECMybM','updateMany','NO_IP','getProfileName','isJidGroup','):\x20Falha\x20ao\x20deletar\x20mensagem.','findGroupInfos','sendText','Parando\x20aplicação,\x20atualização\x20recebida','CONNECTION','https://uazapi-plugin.bubbleapps.io/','remove.instance',',\x20lastCondition:\x20','Types','documentWithCaptionMessage','stdout','fetchStatusMessage','ON\x20-\x20dbName:\x20','WEBHOOK_EVENTS_GROUPS_UPDATE','DELETED','archived','_doc','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','messages.set','audioCodec','Primeiro\x20Valor:\x20','generateHash','Erro\x20ao\x20editar\x20o\x20chat:\x20','AUTOUPDATE','QRCODE','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','unavailable','):\x20alterando\x20this.AutomateSystem','createConversationforgoToFlow','sendStatus','Font\x20is\x20required','readMessageBot','messageHandle','existsSync','CORS','redis','GROUP_PARTICIPANTS_UPDATE','contacts.upsert','readreceipts','convertaudio','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','scheduleMessage','AppStateSyncKeyData','getBase64FromMediaMessage','not_announcement','):\x20Criando\x20fluxo...','utf8','getClient','createInstance','Invalid\x20output','messageId','_id','toUpperCase','toLowerCase','delete','The\x20instance\x20is\x20already\x20connected','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','uazapiSendText','auth','\x20\x1b[0m','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','1324981crbWrJ','dataValidate','\x1b[31m%s\x1b[0m','valid','newStoppedUntil','rows','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','getAllData','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','findParticipants','hGetAll','):\x20Erro\x20ao\x20editar\x20agentes:\x20','):\x20Deletados\x20','chats','onWhatsApp','defineProperty','dbInstance','warn','Error\x20change\x20group\x20description','group-participants.update','DARK','/*.json','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','Instance\x20\x22','fetchPrivacySettings','exists','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','sem\x20texto\x20na\x20mensagem','.sendDataWebhook-local','env','getDevice','newValue','createClient','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','font','Erro\x20ao\x20editar\x20agentes:\x20',',\x20Resultado:\x20','^\x5cd+','groupUpdateSubject','max','revokeInviteCode','request\x20received\x20in\x20getFlow','Deleted\x20','Readable','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','toggleEphemeral','find','API_KEY','json','client','):\x20Flow\x20não\x20encontrado','groupCreate','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','footerText','):\x20Campos\x20a\x20serem\x20atualizados:','shift','GUARD','poll','leadInfo.nome','matchRegex','contact','WEBHOOK_EVENTS_MESSAGES_SET','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','8080','):\x20teve\x20mudanças\x20chat.name:\x20','HeaderType','bulkWrite','viewOnceMessage','deleteInstance','cleanStore','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','hGet','EXPIRIN_IN','tags','updateProfileStatus','.sendDataWebhook-global','node-mime-types','chatHandle','maxActives','capitalizedWords','class-validator','save','removeData','set','):\x20não\x20encontrou','DEL_INSTANCE','profileStatus','updateStatusPrivacy','random','updateParticipant','findAndReplaceRegex','WEBHOOK_EVENTS_NEW_JWT_TOKEN','\x20messages.','where','announce','replacer','\x0aFN:','leadInfo','delInstanceTime','The\x20global\x20api\x20key\x20must\x20be\x20set','sendMedia','notEqual','normalizeMessage','contentText','AUTHENTICATION','item','uncaughtException','INFO','^\x5cd+([-]\x5cd+)*@g.us$','validate','GROUPS_UPSERT','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','Not\x20allowed\x20by\x20CORS','isDirectory','originalUrl','89865sOqcOK','leadInfo.customFields','):\x20leadInfoVariables','axios','sendWhatsAppAudio','notas','fetchAndUpdateProfileDetails','writeData','/instance/fetchInstances','connectionStatus','/chat','connectionUpdate','creation','verifiedName','getContentType',',\x20Minutes\x20to\x20Close:\x20','headers','interval\x20não\x20é\x20um\x20número','jsonwebtoken','editChat','linkPreview','processPollUpdateMessage','AutomateSystem\x20não\x20foi\x20inicializado','status','WEBHOOK_MAP','updateChat','getDelay','ogg',',\x20qrcodeCount:\x20','stop','instanceKeys','false','use','groupSettingUpdate','hSet','/message','flowStopMinutes','libvorbis','):\x20Deletando\x20mensagem','stderr','\x1b[32m%s\x1b[0m','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','type','#000000','writeFileSync','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','connection.update','options','connectToWhatsapp','CORS_CREDENTIALS','video','isArray','Error\x20converting\x20audio:\x20','waitingPoll_id','MESSAGES_SET','Error\x20updating\x20participants','contactHandle','\x22\x20cannot\x20be\x20empty','info','PENDING','):\x20Edit\x20schedule\x20message...','last','splice','downloadMediaMessage','/instance/create','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','less','listMessage','):\x20Conversas\x20encontradas:','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','proto','toDataURL','groupId','\x20,\x20saindo.','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','\x1b[37m','@broadcast','processingScheduleMessageId','vote','response','deleteFlow','\x1b[33m','metadata','hasOwnProperty','$inc','Authentication\x20error','insert','waMonitor','READ','stopped','Erro\x20ao\x20iniciar\x20fluxo:\x20','formatBRNumber','setContext','WEBHOOK_EVENTS_CHATS_UPDATE','app-state-sync-key','https://','limit','apirequest','readdirSync','KEY','delAll','filter','findConversation','request\x20received\x20in\x20starFlow','contains','Unable\x20to\x20leave\x20the\x20group','):\x20tem\x20blocks','closed','uazapiSendLocation','\x1b[34m%s\x1b[0m','restart','when','webhook','\x1b[40m','Content\x20is\x20required','WEBHOOK_EVENTS_CHATS_SET','arraybuffer','notContains','):\x20Current\x20Time:\x20','updateChatWithMessage','Not\x20Found','):\x20Editando\x20edição\x20do\x20fluxo...','TRIAL_AD','end','$dbName','\x20chats\x20de\x20','Router','\x22\x20not\x20found','saveAPI','ids','upperCase','audio','oldToken','The\x20property\x20cannot\x20be\x20empty','isBuffer','child_process','leaveGroup','\x22reaction\x22\x20must\x20be\x20an\x20emoji','removed','AutomateFunctions','\x1b[30m%s\x1b[0m','envYaml'];a0_0x5119=function(){return _0x3ba771;};return a0_0x5119();}function Ds(_0x3050e5,_0x45ba5d){return new Promise(_0x46d965=>{const _0x5cbb2a=a0_0x4676;(0x0,Mo[_0x5cbb2a(0x342)])(_0x3050e5+'\x20'+_0x45ba5d,_0xfcf7e6=>{_0x46d965(!_0xfcf7e6);});});}function So(_0x4dda03,_0x4c9a8d,_0x57ce37){return new Promise(_0x59d862=>{const _0x286c57=a0_0x4676;Ds(_0x4dda03,_0x57ce37)[_0x286c57(0x284)](_0x4b327b=>{const _0x504e65=_0x286c57;if(_0x4b327b)_0x59d862(!0x0);else{let [_0x2ddaef,..._0x296068]=_0x4c9a8d[_0x504e65(0xe0)]('\x20'),_0x32c261=(0x0,Os[_0x504e65(0x5b4)])(_0x2ddaef,_0x296068,{'shell':!0x0});_0x32c261['stdout']['on']('data',_0x2eae36=>{const _0x13b588=_0x504e65;console['log'](_0x4dda03+_0x13b588(0x600)+_0x2eae36);}),_0x32c261[_0x504e65(0x4d3)]['on'](_0x504e65(0x254),_0x44f416=>{const _0x41ab5b=_0x504e65;console[_0x41ab5b(0x162)](_0x4dda03+'\x20install\x20error:\x20'+_0x44f416);}),_0x32c261['on'](_0x504e65(0x317),_0x40324c=>{const _0x786c83=_0x504e65;_0x40324c!==0x0?(console[_0x786c83(0x162)]('Erro\x20ao\x20instalar\x20'+_0x4dda03+_0x786c83(0x27c)+_0x40324c),_0x59d862(!0x1)):_0x59d862(!0x0);});}});});}var Si='https://github.com/uazapi/uazapi.git',Ei=Jt['default'][a0_0x11dbb0(0x140)](__dirname,a0_0x11dbb0(0x5c1)),Se=null;function Ci(){return new Promise((_0x1ea7de,_0x3a0260)=>{const _0x2c9472=a0_0x4676;xe['default'][_0x2c9472(0xeb)](Ei,_0x2c9472(0x18f),(_0x2ddfcd,_0x50eafc)=>{const _0x2a133f=_0x2c9472;if(_0x2ddfcd){Se=_0x2ddfcd,_0x1ea7de();return;}Ro['default'][_0x2a133f(0x39b)](_0x50eafc)['remote\x20\x22origin\x22'][_0x2a133f(0x12e)]===Si?(Se=null,_0x1ea7de()):(Se=new Error(_0x2a133f(0x54b)),_0x1ea7de());});});}async function Ni(){try{await Ci(),await Ps();}catch(_0x318f97){console['error']('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x318f97),process['exit'](0x1);}}Ni();async function Ao(){const _0x3ea161=a0_0x11dbb0;let _0x475293;try{_0x475293=(await $e['default'][_0x3ea161(0x123)](_0x3ea161(0x5a5)))['data']['ip'];}catch(_0x2444a9){console['error'](_0x2444a9);try{_0x475293=(await $e[_0x3ea161(0x2cc)][_0x3ea161(0x123)](_0x3ea161(0x582)))[_0x3ea161(0x254)]['ip'];}catch(_0x1951e5){console[_0x3ea161(0x162)](_0x1951e5);try{_0x475293=(await $e[_0x3ea161(0x2cc)][_0x3ea161(0x123)]('http://checkip.dyndns.org'))['data'][_0x3ea161(0x165)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x1aa715){return console[_0x3ea161(0x162)](_0x1aa715),!0x1;}}}return _0x475293;}async function vi(){const _0x4149db=a0_0x11dbb0;Se||(await So(_0x4149db(0x37e),_0x4149db(0x156),_0x4149db(0x272)),await So(_0x4149db(0x3cb),'sudo\x20apt\x20install\x20-y\x20ffmpeg','-version'));}function a0_0x4676(_0x1bc7a6,_0x8c9752){const _0x511994=a0_0x5119();return a0_0x4676=function(_0x4676a0,_0x465f30){_0x4676a0=_0x4676a0-0xdf;let _0x531edc=_0x511994[_0x4676a0];return _0x531edc;},a0_0x4676(_0x1bc7a6,_0x8c9752);}var Eo=0x0;async function Ti(){const _0x3bea4a=a0_0x11dbb0;vi();let _0x4a3f58=await Ds(_0x3bea4a(0x37e),_0x3bea4a(0x272)),_0xc3e735=await Ds('ffmpeg',_0x3bea4a(0xfb)),_0x1e7e3a=y[_0x3bea4a(0x123)](_0x3bea4a(0x15f)),_0x536960=y[_0x3bea4a(0x123)](_0x3bea4a(0x411)),_0xbd5d4f=y['get'](_0x3bea4a(0x4a1))[_0x3bea4a(0x468)]['KEY'],_0x111dd2=y[_0x3bea4a(0x123)]('SSL_CONF'),_0x1af725=await Ao(),_0x178851=y[_0x3bea4a(0x123)](_0x3bea4a(0x63b))['PORT'],_0x53c6a3=y[_0x3bea4a(0x123)](_0x3bea4a(0x335));try{let _0x3a88e9={'ip':_0x1af725||null,'redis_instalado':_0x4a3f58||null,'ffmpeg_instalado':_0xc3e735||null,'redis_enable':_0x1e7e3a?.[_0x3bea4a(0x3c8)]||null,'autoupdate':_0x536960||null,'apikey':_0xbd5d4f||null,'ssl':_0x111dd2?.[_0x3bea4a(0x382)]||null,'lastupdate':Io||null,'port':_0x178851||null,'phone':_0x53c6a3||null,'gitInstallError':Se?.[_0x3bea4a(0x2cb)]||null};console[_0x3bea4a(0x3cd)](_0x3bea4a(0x63f),_0x3a88e9['ip']);for(let _0x2494ab in _0x3a88e9)_0x3a88e9['hasOwnProperty'](_0x2494ab)&&_0x2494ab!=='ip'&&(_0x3a88e9[_0x2494ab]=JSON[_0x3bea4a(0x5db)](_0x3a88e9[_0x2494ab]));return(await $e[_0x3bea4a(0x2cc)][_0x3bea4a(0x10f)](_0x3bea4a(0x269),_0x3a88e9))[_0x3bea4a(0x254)];}catch(_0x1356cf){return console[_0x3bea4a(0x162)](_0x1356cf),!0x1;}finally{}}var As=!0x1,Io=0x204,Ri=0x3,Co=0x1b7740;async function Ps(){const _0x587328=a0_0x11dbb0;if(!await Ao())return console['error'](_0x587328(0x555)),_0x587328(0x3f7);let _0x59e480=await Ti();if(_0x59e480){if(_0x59e480['response'][_0x587328(0x610)]===!0x0){let _0xe2fcf8=y[_0x587328(0x123)](_0x587328(0x411));Se===null&&_0xe2fcf8!==_0x587328(0x4cb)&&_0x59e480[_0x587328(0x4fc)][_0x587328(0x2a5)]-Io>0x0&&await Mi(),As||(As=!0x0,bi());}else return console['log'](_0x587328(0x233)),As&&(console['log'](_0x587328(0x1aa)),process[_0x587328(0x317)]()),_0x587328(0x679);let _0x2db621=0x24*0x3c*0x3c,_0x1696b4=_0x59e480['response'][_0x587328(0x243)]>_0x2db621?_0x2db621:_0x59e480[_0x587328(0x4fc)][_0x587328(0x243)],_0x4df64c=Number(_0x1696b4);if(isNaN(_0x4df64c)){console['error'](_0x587328(0x4bd));return;}let _0x5111f6=Math[_0x587328(0xf4)](_0x4df64c/0xe10),_0x251cbd=Math[_0x587328(0xf4)](_0x4df64c%0xe10/0x3c),_0x51cd34=new Date(Date[_0x587328(0x5e7)]()+_0x4df64c*0x3e8);setTimeout(Ps,_0x4df64c*0x3e8);let _0x47cd1e=_0x1fa108=>_0x1fa108[_0x587328(0x29e)]()[_0x587328(0x246)](0x2,'0'),_0xa5816='Próxima\x20verificação\x20em\x20'+_0x47cd1e(_0x5111f6)+'\x20horas\x20e\x20'+_0x47cd1e(_0x251cbd)+'\x20minutos.\x20Será\x20às\x20'+_0x47cd1e(_0x51cd34[_0x587328(0x2bf)]())+':'+_0x47cd1e(_0x51cd34[_0x587328(0x150)]());console[_0x587328(0x3cd)](_0xa5816);}else{if(Eo++,Eo<Ri)console[_0x587328(0x3cd)](_0x587328(0x65a)+Co/0xea60+_0x587328(0x358)),setTimeout(Ps,Co);else return console[_0x587328(0x162)](_0x587328(0x573)),_0x587328(0x66a);}}async function Mi(){const _0x1d5bd1=a0_0x11dbb0;console['log'](_0x1d5bd1(0x3fd));let _0x229238=(0x0,Os[_0x1d5bd1(0x5b4)])(_0x1d5bd1(0x60a),{'shell':!0x0});_0x229238[_0x1d5bd1(0x404)]['on'](_0x1d5bd1(0x254),_0x3f722c=>{const _0x55a391=_0x1d5bd1;console[_0x55a391(0x3cd)](_0x55a391(0x5c0)+_0x3f722c);}),_0x229238[_0x1d5bd1(0x4d3)]['on'](_0x1d5bd1(0x254),_0x51c308=>{const _0xe3d0a3=_0x1d5bd1;console['error'](_0xe3d0a3(0x5f6)+_0x51c308);}),_0x229238['on'](_0x1d5bd1(0x317),_0x1f1bce=>{const _0x173833=_0x1d5bd1;_0x1f1bce!==0x0?console['error'](_0x173833(0x477)+_0x1f1bce):console[_0x173833(0x3cd)](_0x173833(0x313)),console[_0x173833(0x3cd)](_0x173833(0x55a)),setTimeout(()=>process[_0x173833(0x317)](),0x2710);});}