const a0_0x57c7f3=a0_0x2228;(function(_0x2ca830,_0x360da4){const _0x39b9cb=a0_0x2228,_0x343348=_0x2ca830();while(!![]){try{const _0x3c104d=parseInt(_0x39b9cb(0x284))/0x1*(parseInt(_0x39b9cb(0x12e))/0x2)+-parseInt(_0x39b9cb(0x321))/0x3*(parseInt(_0x39b9cb(0x2df))/0x4)+parseInt(_0x39b9cb(0x3fe))/0x5*(-parseInt(_0x39b9cb(0x349))/0x6)+parseInt(_0x39b9cb(0x4d4))/0x7+parseInt(_0x39b9cb(0x3ee))/0x8+-parseInt(_0x39b9cb(0x57e))/0x9*(-parseInt(_0x39b9cb(0x2a8))/0xa)+-parseInt(_0x39b9cb(0x31b))/0xb*(parseInt(_0x39b9cb(0x2f0))/0xc);if(_0x3c104d===_0x360da4)break;else _0x343348['push'](_0x343348['shift']());}catch(_0x38d587){_0x343348['push'](_0x343348['shift']());}}}(a0_0x43b4,0x5525f));var Lo=Object['create'],Ls=Object[a0_0x57c7f3(0x38f)],Uo=Object[a0_0x57c7f3(0x4c7)],Vo=Object[a0_0x57c7f3(0xe4)],jo=Object[a0_0x57c7f3(0x1a9)],Bo=Object['prototype'][a0_0x57c7f3(0x357)],Fo=(_0x3f46cf,_0x130e99,_0x894ef9,_0x2d1280)=>{const _0x10f0bd=a0_0x57c7f3;if(_0x130e99&&typeof _0x130e99=='object'||typeof _0x130e99==_0x10f0bd(0xea)){for(let _0x252946 of Vo(_0x130e99))!Bo['call'](_0x3f46cf,_0x252946)&&_0x252946!==_0x894ef9&&Ls(_0x3f46cf,_0x252946,{'get':()=>_0x130e99[_0x252946],'enumerable':!(_0x2d1280=Uo(_0x130e99,_0x252946))||_0x2d1280[_0x10f0bd(0x44f)]});}return _0x3f46cf;},T=(_0xce0e16,_0x3eac3c,_0x1941e9)=>(_0x1941e9=_0xce0e16!=null?Lo(jo(_0xce0e16)):{},Fo(_0x3eac3c||!_0xce0e16||!_0xce0e16[a0_0x57c7f3(0x535)]?Ls(_0x1941e9,a0_0x57c7f3(0x19b),{'value':_0xce0e16,'enumerable':!0x0}):_0x1941e9,_0xce0e16)),Io=T(require(a0_0x57c7f3(0x25d))),Vs=require('fs'),js=require(a0_0x57c7f3(0x556)),Bs=require(a0_0x57c7f3(0x272)),Ue=require(a0_0x57c7f3(0x272)),z=process[a0_0x57c7f3(0x3c2)](),V=(0x0,Ue['join'])(z,a0_0x57c7f3(0x435)),Us=(0x0,Ue[a0_0x57c7f3(0x1b9)])(z,a0_0x57c7f3(0xdd)),Qt=(0x0,Ue['join'])(z,a0_0x57c7f3(0x130),'auth'),Fs=require('class-validator'),Yt=class{constructor(){this['loadEnv']();}[a0_0x57c7f3(0x141)](_0x7bf590){const _0x33b994=a0_0x57c7f3;return this[_0x33b994(0x138)][_0x7bf590];}['loadEnv'](){const _0x45ba03=a0_0x57c7f3;this[_0x45ba03(0x138)]=process[_0x45ba03(0x138)]?.[_0x45ba03(0x464)]!==_0x45ba03(0x30f)?this[_0x45ba03(0x1fa)]():this[_0x45ba03(0x248)](),this[_0x45ba03(0x138)][_0x45ba03(0x24d)]=process['env']?.['NODE_ENV']==='PROD',process['env']?.[_0x45ba03(0x464)]==='true'&&(this[_0x45ba03(0x138)]['SERVER'][_0x45ba03(0x347)]=_0x45ba03(0x34d),this[_0x45ba03(0x138)][_0x45ba03(0x612)][_0x45ba03(0x1fd)]=Number[_0x45ba03(0x107)](process[_0x45ba03(0x138)]?.[_0x45ba03(0x125)]??_0x45ba03(0x4da)));}[a0_0x57c7f3(0x1fa)](){const _0xadb95b=a0_0x57c7f3;return(0x0,js[_0xadb95b(0x2e1)])((0x0,Vs[_0xadb95b(0x503)])((0x0,Bs[_0xadb95b(0x1b9)])(Us,_0xadb95b(0x54d)),{'encoding':'utf-8'}));}['envProcess'](){const _0x67de8e=a0_0x57c7f3;return{'SERVER':{'TYPE':process['env']['SERVER_TYPE'],'PORT':Number[_0x67de8e(0x107)](process[_0x67de8e(0x138)][_0x67de8e(0x125)])},'CORS':{'ORIGIN':process['env']['CORS_ORIGIN'][_0x67de8e(0x479)](','),'METHODS':process[_0x67de8e(0x138)][_0x67de8e(0x2a7)][_0x67de8e(0x479)](','),'CREDENTIALS':process[_0x67de8e(0x138)]?.[_0x67de8e(0xf6)]===_0x67de8e(0x30f)},'SSL_CONF':{'PRIVKEY':process[_0x67de8e(0x138)]?.[_0x67de8e(0x2d3)],'FULLCHAIN':process['env']?.[_0x67de8e(0x554)]},'STORE':{'CLEANING_INTERVAL':Number[_0x67de8e(0x443)](process[_0x67de8e(0x138)]?.[_0x67de8e(0x27c)])?Number['parseInt'](process['env']['STORE_CLEANING_TERMINAL']):void 0x0,'MESSAGES':process['env']?.[_0x67de8e(0x477)]==='true','CONTACTS':process['env']?.['STORE_CONTACTS']===_0x67de8e(0x30f),'CHATS':process[_0x67de8e(0x138)]?.[_0x67de8e(0x3cf)]===_0x67de8e(0x30f)},'DATABASE':{'CONNECTION':{'HOST':process[_0x67de8e(0x138)]?.['DATABASE_CONNECTION_HOST'],'PORT':Number[_0x67de8e(0x107)](process[_0x67de8e(0x138)]?.[_0x67de8e(0x4db)]),'USER':process['env'][_0x67de8e(0x4ef)],'PASSWORD':process[_0x67de8e(0x138)][_0x67de8e(0x460)],'URI':process[_0x67de8e(0x138)][_0x67de8e(0x3f8)],'DB_PREFIX_NAME':process[_0x67de8e(0x138)][_0x67de8e(0x610)]},'ENABLED':process['env']?.[_0x67de8e(0x39b)]===_0x67de8e(0x30f)},'REDIS':{'ENABLED':process[_0x67de8e(0x138)]?.[_0x67de8e(0x293)]===_0x67de8e(0x30f),'URI':process[_0x67de8e(0x138)][_0x67de8e(0x302)],'PREFIX_KEY':process[_0x67de8e(0x138)]['REDIS_PREFIX_KEY']},'LOG':{'LEVEL':process[_0x67de8e(0x138)]?.['LOG_LEVEL'][_0x67de8e(0x479)](','),'COLOR':process[_0x67de8e(0x138)]?.['LOG_COLOR']===_0x67de8e(0x30f)},'DEL_INSTANCE':(0x0,Fs[_0x67de8e(0x126)])(process['env']?.[_0x67de8e(0x5ea)])?process['env']['DEL_INSTANCE']===_0x67de8e(0x30f):Number[_0x67de8e(0x107)](process[_0x67de8e(0x138)][_0x67de8e(0x5ea)])||!0x1,'WEBHOOK':{'WEBHOOK_MAP':process[_0x67de8e(0x138)][_0x67de8e(0x44e)]?process[_0x67de8e(0x138)][_0x67de8e(0x44e)]===_0x67de8e(0x30f):!0x1,'GLOBAL':{'URL':process[_0x67de8e(0x138)]?.[_0x67de8e(0x16b)],'ENABLED':process[_0x67de8e(0x138)]?.[_0x67de8e(0x2f1)]===_0x67de8e(0x30f)},'EVENTS':{'STATUS_INSTANCE':process[_0x67de8e(0x138)]?.[_0x67de8e(0x376)]===_0x67de8e(0x30f),'QRCODE_UPDATED':process[_0x67de8e(0x138)]?.['WEBHOOK_EVENTS_QRCODE_UPDATED']===_0x67de8e(0x30f),'MESSAGES_SET':process[_0x67de8e(0x138)]?.[_0x67de8e(0x37b)]===_0x67de8e(0x30f),'MESSAGES_UPSERT':process[_0x67de8e(0x138)]?.[_0x67de8e(0x1c4)]===_0x67de8e(0x30f),'MESSAGES_UPDATE':process[_0x67de8e(0x138)]?.[_0x67de8e(0x563)]===_0x67de8e(0x30f),'SEND_MESSAGE':process[_0x67de8e(0x138)]?.[_0x67de8e(0x54c)]===_0x67de8e(0x30f),'CONTACTS_SET':process[_0x67de8e(0x138)]?.[_0x67de8e(0x35e)]==='true','CONTACTS_UPDATE':process[_0x67de8e(0x138)]?.[_0x67de8e(0x544)]===_0x67de8e(0x30f),'CONTACTS_UPSERT':process['env']?.[_0x67de8e(0x317)]===_0x67de8e(0x30f),'PRESENCE_UPDATE':process[_0x67de8e(0x138)]?.['WEBHOOK_EVENTS_PRESENCE_UPDATE']===_0x67de8e(0x30f),'CHATS_SET':process[_0x67de8e(0x138)]?.[_0x67de8e(0x586)]===_0x67de8e(0x30f),'CHATS_UPDATE':process[_0x67de8e(0x138)]?.[_0x67de8e(0x176)]===_0x67de8e(0x30f),'CHATS_UPSERT':process[_0x67de8e(0x138)]?.[_0x67de8e(0x463)]===_0x67de8e(0x30f),'CHATS_DELETE':process[_0x67de8e(0x138)]?.['WEBHOOK_EVENTS_CHATS_DELETE']==='true','CONNECTION_UPDATE':process[_0x67de8e(0x138)]?.[_0x67de8e(0x2d0)]===_0x67de8e(0x30f),'GROUPS_UPSERT':process[_0x67de8e(0x138)]?.['WEBHOOK_EVENTS_GROUPS_UPSERT']===_0x67de8e(0x30f),'GROUP_UPDATE':process[_0x67de8e(0x138)]?.[_0x67de8e(0x5fb)]===_0x67de8e(0x30f),'GROUP_PARTICIPANTS_UPDATE':process[_0x67de8e(0x138)]?.['WEBHOOK_EVENTS_GROUP_PARTICIPANTS_UPDATE']===_0x67de8e(0x30f),'NEW_JWT_TOKEN':process[_0x67de8e(0x138)]?.[_0x67de8e(0xe6)]===_0x67de8e(0x30f)}},'CONFIG_SESSION_PHONE':{'CLIENT':process['env']?.['CONFIG_SESSION_PHONE_CLIENT']||_0x67de8e(0x431),'NAME':process[_0x67de8e(0x138)]?.[_0x67de8e(0x4ce)]||_0x67de8e(0x502)},'QRCODE':{'LIMIT':Number[_0x67de8e(0x107)](process['env'][_0x67de8e(0x322)])||0x5},'TRIAL_AD':process[_0x67de8e(0x138)]?.[_0x67de8e(0x1d3)],'TRIAL_INSTANCE_NAME':process[_0x67de8e(0x138)]?.['TRIAL_INSTANCE_NAME'],'AUTOUPDATE':process['env']?.[_0x67de8e(0x19c)]==='true','PHONE':process['env']?.[_0x67de8e(0x511)],'AUTHENTICATION':{'TYPE':process[_0x67de8e(0x138)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x67de8e(0x138)][_0x67de8e(0x537)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x67de8e(0x138)]?.[_0x67de8e(0x663)])?Number[_0x67de8e(0x107)](process['env']['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x67de8e(0x138)]['AUTHENTICATION_JWT_SECRET']}}};}},y=new Yt(),Do=T(require('cors')),me=T(require(a0_0x57c7f3(0x242))),Ps=require(a0_0x57c7f3(0x272)),Xt=T(require(a0_0x57c7f3(0x641))),Zt=(_0x92c071=>(_0x92c071[a0_0x57c7f3(0x307)]=a0_0x57c7f3(0x4f7),_0x92c071[a0_0x57c7f3(0x47d)]='\x1b[34m',_0x92c071[a0_0x57c7f3(0x132)]=a0_0x57c7f3(0x570),_0x92c071[a0_0x57c7f3(0x4b1)]=a0_0x57c7f3(0x366),_0x92c071[a0_0x57c7f3(0x594)]=a0_0x57c7f3(0x622),_0x92c071['VERBOSE']=a0_0x57c7f3(0x324),_0x92c071[a0_0x57c7f3(0x1be)]=a0_0x57c7f3(0x1dd),_0x92c071))(Zt||{}),Gs=(_0x3b50d8=>(_0x3b50d8[a0_0x57c7f3(0x307)]=a0_0x57c7f3(0x440),_0x3b50d8[a0_0x57c7f3(0x1be)]=a0_0x57c7f3(0x29c),_0x3b50d8[a0_0x57c7f3(0x47d)]=a0_0x57c7f3(0x519),_0x3b50d8['WARN']=a0_0x57c7f3(0x325),_0x3b50d8['ERROR']=a0_0x57c7f3(0x3ce),_0x3b50d8[a0_0x57c7f3(0x594)]=a0_0x57c7f3(0x305),_0x3b50d8['VERBOSE']=a0_0x57c7f3(0x4b3),_0x3b50d8))(Gs||{}),qs=(_0x224fc2=>(_0x224fc2[a0_0x57c7f3(0x307)]=a0_0x57c7f3(0x307),_0x224fc2['WARN']=a0_0x57c7f3(0x132),_0x224fc2[a0_0x57c7f3(0x47d)]=a0_0x57c7f3(0x47d),_0x224fc2['DARK']=a0_0x57c7f3(0x1be),_0x224fc2[a0_0x57c7f3(0x4b1)]='ERROR',_0x224fc2[a0_0x57c7f3(0x594)]='DEBUG',_0x224fc2[a0_0x57c7f3(0x264)]=a0_0x57c7f3(0x264),_0x224fc2))(qs||{}),Js=(_0xe17599=>(_0xe17599[a0_0x57c7f3(0x307)]='\x1b[42m',_0xe17599['INFO']=a0_0x57c7f3(0x304),_0xe17599[a0_0x57c7f3(0x132)]='\x1b[43m',_0xe17599[a0_0x57c7f3(0x1be)]=a0_0x57c7f3(0x67c),_0xe17599[a0_0x57c7f3(0x4b1)]='\x1b[41m',_0xe17599[a0_0x57c7f3(0x594)]=a0_0x57c7f3(0x43b),_0xe17599[a0_0x57c7f3(0x264)]=a0_0x57c7f3(0x316),_0xe17599))(Js||{}),v=class{constructor(_0x4e395b=a0_0x57c7f3(0x481)){const _0x709f0a=a0_0x57c7f3;this[_0x709f0a(0x3ea)]=_0x4e395b,this[_0x709f0a(0x2f8)]=y;}['setContext'](_0x1ae2b0){this['context']=_0x1ae2b0;}[a0_0x57c7f3(0x21c)](_0x2512f5,_0xaae16c){const _0x1bc5c0=a0_0x57c7f3;let _0x15699f=[];this[_0x1bc5c0(0x2f8)][_0x1bc5c0(0x141)]('LOG')[_0x1bc5c0(0x136)]['forEach'](_0x13f0ac=>_0x15699f[_0x1bc5c0(0x524)](qs[_0x13f0ac]));let _0x28f02a=typeof _0x2512f5;_0x15699f[_0x1bc5c0(0x3b6)](_0xaae16c)&&(y['get'](_0x1bc5c0(0x307))['COLOR']?(console[_0x1bc5c0(0x40c)](_0x1bc5c0(0x151)+Gs[_0xaae16c],_0x1bc5c0(0x621),(0x0,Xt['default'])()[_0x1bc5c0(0x5a7)](_0x1bc5c0(0x507)),_0x1bc5c0(0x352),Zt[_0xaae16c]+Js[_0xaae16c]+_0x1bc5c0(0x151),_0xaae16c+_0x1bc5c0(0x469),_0x1bc5c0(0x244),this[_0x1bc5c0(0x3ea)]+_0x1bc5c0(0x352),Zt[_0xaae16c],_0x28f02a!==_0x1bc5c0(0x30e)?_0x2512f5:'',_0x1bc5c0(0x352)),_0x28f02a===_0x1bc5c0(0x30e)&&console[_0x1bc5c0(0x40c)](_0x2512f5,'\x0a')):console['log']((0x0,Xt[_0x1bc5c0(0x19b)])()['format']('HH:mm:ss'),_0xaae16c+'\x20',''+this['context'],_0x2512f5));}[a0_0x57c7f3(0x40c)](_0x3a4c19){const _0x574527=a0_0x57c7f3;this[_0x574527(0x21c)](_0x3a4c19,_0x574527(0x307));}[a0_0x57c7f3(0x3f1)](_0x264851){const _0x4de844=a0_0x57c7f3;this[_0x4de844(0x21c)](_0x264851,_0x4de844(0x47d));}[a0_0x57c7f3(0x5b4)](_0x4420ba){const _0x59b603=a0_0x57c7f3;this[_0x59b603(0x21c)](_0x4420ba,'WARN');}[a0_0x57c7f3(0x5e3)](_0x261c86){const _0x5edea5=a0_0x57c7f3;this[_0x5edea5(0x21c)](_0x261c86,_0x5edea5(0x4b1));}[a0_0x57c7f3(0x5b0)](_0x49da56){const _0x36d513=a0_0x57c7f3;this[_0x36d513(0x21c)](_0x49da56,_0x36d513(0x264));}[a0_0x57c7f3(0x274)](_0x885a00){const _0x47839c=a0_0x57c7f3;this[_0x47839c(0x21c)](_0x885a00,_0x47839c(0x594));}[a0_0x57c7f3(0x63a)](_0x4d930d){const _0x35faa6=a0_0x57c7f3;this['console'](_0x4d930d,_0x35faa6(0x1be));}};function Ws(){const _0x36ff62=a0_0x57c7f3;process['on'](_0x36ff62(0x3d0),(_0x2db738,_0x236a81)=>{const _0x47d4ff=_0x36ff62;new v(_0x47d4ff(0x3d0))[_0x47d4ff(0x5e3)]({'origin':_0x236a81,'stderr':process['stderr']['fd'],'error':_0x2db738});}),process['on']('unhandledRejection',(_0x392c5f,_0x5e632f)=>{const _0x2e3274=_0x36ff62;new v('unhandledRejection')['error']({'origin':_0x5e632f,'stderr':process[_0x2e3274(0x4c9)]['fd'],'error':_0x392c5f});});}var Hs=T(require('eventemitter2')),es=new Hs['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),ce=require('path'),ge=require('fs'),ts=require(a0_0x57c7f3(0x272)),j=class{constructor(_0x4d2bde){const _0x4d5d47=a0_0x57c7f3;this[_0x4d5d47(0x636)]=(0x0,ts['join'])(z,'store'),this['writeStore']=_0x1cbdf7=>{const _0x45364a=_0x4d5d47;(0x0,ge[_0x45364a(0x527)])(_0x1cbdf7[_0x45364a(0x272)])||(0x0,ge[_0x45364a(0x338)])(_0x1cbdf7[_0x45364a(0x272)],{'recursive':!0x0});try{return(0x0,ge['writeFileSync'])((0x0,ts[_0x45364a(0x1b9)])(_0x1cbdf7[_0x45364a(0x272)],_0x1cbdf7[_0x45364a(0x3df)]+_0x45364a(0x4b6)),JSON[_0x45364a(0x34c)]({..._0x1cbdf7[_0x45364a(0x51a)]}),{'encoding':'utf-8'}),{'message':_0x45364a(0x4f3)};}finally{_0x1cbdf7[_0x45364a(0x51a)]=void 0x0;}},this[_0x4d5d47(0x142)]=_0x4d2bde[_0x4d5d47(0x141)](_0x4d5d47(0x648));}[a0_0x57c7f3(0x35f)](_0x15bf15,_0x483b0f=!0x1){const _0x1ca498=a0_0x57c7f3;throw new Error(_0x1ca498(0x423));}['find'](_0x122fb4){const _0x215470=a0_0x57c7f3;throw new Error(_0x215470(0x423));}[a0_0x57c7f3(0x497)](_0x520387,_0x43c97f){const _0x1ce4bc=a0_0x57c7f3;throw new Error(_0x1ce4bc(0x423));}},se=require('fs'),Ve=class{},je=class extends j{constructor(_0x4ffe3e,_0x15874c){const _0x501467=a0_0x57c7f3;super(_0x15874c),this[_0x501467(0xdf)]=_0x4ffe3e,this[_0x501467(0x2f8)]=_0x15874c;}async[a0_0x57c7f3(0x35f)](_0x5c9a35,_0x4ccf26=!0x1){const _0xd41678=a0_0x57c7f3;if(_0x5c9a35[_0xd41678(0x438)]!==0x0)try{return this[_0xd41678(0x142)][_0xd41678(0x528)]&&_0x4ccf26?{'insertCount':(await this['messageModel'][_0xd41678(0x400)]([..._0x5c9a35]))[_0xd41678(0x438)]}:_0x4ccf26?(_0x5c9a35[_0xd41678(0x2cb)](_0x5b137e=>this[_0xd41678(0x102)]({'path':(0x0,ce[_0xd41678(0x1b9)])(this[_0xd41678(0x636)],_0xd41678(0x16f),_0x5b137e['owner']),'fileName':_0x5b137e[_0xd41678(0x572)]['id'],'data':_0x5b137e})),{'insertCount':_0x5c9a35['length']}):{'insertCount':0x0};}catch(_0x51733c){return console[_0xd41678(0x40c)](_0xd41678(0x516),_0x51733c),_0x51733c;}finally{_0x5c9a35=void 0x0;}}async[a0_0x57c7f3(0x354)](_0x188d44){const _0x1c4cd8=a0_0x57c7f3;try{if(this['dbSettings'][_0x1c4cd8(0x528)]){if(_0x188d44?.[_0x1c4cd8(0x276)]?.[_0x1c4cd8(0x572)]){for(let [_0x594ba5,_0x832125]of Object['entries'](_0x188d44[_0x1c4cd8(0x276)]['key']))_0x188d44['where'][_0x1c4cd8(0x2db)+_0x594ba5]=_0x832125;delete _0x188d44?.[_0x1c4cd8(0x276)]?.['key'];}return await this[_0x1c4cd8(0xdf)]['find']({..._0x188d44[_0x1c4cd8(0x276)]})[_0x1c4cd8(0x65e)]({'messageTimestamp':-0x1})[_0x1c4cd8(0x609)](_0x188d44?.['limit']??0x0);}let _0x458a7c=[];if(_0x188d44?.[_0x1c4cd8(0x276)]?.['key']?.['id'])_0x458a7c[_0x1c4cd8(0x524)](JSON[_0x1c4cd8(0x42c)]((0x0,se[_0x1c4cd8(0x503)])((0x0,ce[_0x1c4cd8(0x1b9)])(this[_0x1c4cd8(0x636)],'messages',_0x188d44['where'][_0x1c4cd8(0x277)],_0x188d44[_0x1c4cd8(0x276)][_0x1c4cd8(0x572)]['id']+_0x1c4cd8(0x4b6)),{'encoding':_0x1c4cd8(0x64b)})));else{let _0x9b003c=(0x0,se[_0x1c4cd8(0x1b7)])((0x0,ce[_0x1c4cd8(0x1b9)])(this['storePath'],_0x1c4cd8(0x16f),_0x188d44[_0x1c4cd8(0x276)][_0x1c4cd8(0x277)]),{'encoding':_0x1c4cd8(0x64b)});for await(let _0x156db4 of _0x9b003c)_0x156db4[_0x1c4cd8(0x183)]()&&_0x458a7c[_0x1c4cd8(0x524)](JSON[_0x1c4cd8(0x42c)]((0x0,se['readFileSync'])((0x0,ce['join'])(this[_0x1c4cd8(0x636)],'messages',_0x188d44[_0x1c4cd8(0x276)][_0x1c4cd8(0x277)],_0x156db4[_0x1c4cd8(0x17c)]),{'encoding':_0x1c4cd8(0x64b)})));}return _0x458a7c[_0x1c4cd8(0x65e)]((_0x14ff46,_0x5b919a)=>_0x5b919a[_0x1c4cd8(0x60c)]-_0x14ff46[_0x1c4cd8(0x60c)])['splice'](0x0,_0x188d44?.[_0x1c4cd8(0x609)]??_0x458a7c['length']);}catch{return[];}}async[a0_0x57c7f3(0x497)](_0x412f0a){const _0x3b4c3c=a0_0x57c7f3;try{if(this[_0x3b4c3c(0x142)]['ENABLED'])await this[_0x3b4c3c(0xdf)]['deleteMany']({..._0x412f0a[_0x3b4c3c(0x276)]});else{let {owner:_0x3ec842}=_0x412f0a[_0x3b4c3c(0x276)];(0x0,se[_0x3b4c3c(0x679)])((0x0,ce[_0x3b4c3c(0x1b9)])(this[_0x3b4c3c(0x636)],'messages',_0x3ec842))[_0x3b4c3c(0x2cb)](_0x4fc274=>{const _0x5e372b=_0x3b4c3c;let _0x3fd651=(0x0,ce[_0x5e372b(0x1b9)])(this[_0x5e372b(0x636)],_0x5e372b(0x16f),_0x3ec842,_0x4fc274);(0x0,se[_0x5e372b(0x529)])(_0x3fd651);});}}catch(_0x199734){console[_0x3b4c3c(0x5e3)](_0x199734);}}async[a0_0x57c7f3(0x4b8)](_0x3b4b1c,_0x4519b3){const _0x21b3e8=a0_0x57c7f3;try{let _0x4d9a36=null;if(this[_0x21b3e8(0x142)]['ENABLED'])return _0x4d9a36=await this[_0x21b3e8(0xdf)]['findOneAndUpdate']({..._0x3b4b1c[_0x21b3e8(0x276)]},{'$set':_0x4519b3},{'new':!0x0}),_0x4d9a36;}catch(_0x12d630){throw console[_0x21b3e8(0x5e3)](_0x12d630),_0x12d630;}}async[a0_0x57c7f3(0x400)](_0x3c5396,_0x37f4a5=!0x1){const _0x346633=a0_0x57c7f3;if(_0x3c5396[_0x346633(0x438)]!==0x0)try{return this['dbSettings'][_0x346633(0x528)]&&_0x37f4a5?{'insertCount':(await this['messageModel'][_0x346633(0x400)]([..._0x3c5396]))[_0x346633(0x438)]}:_0x37f4a5?(_0x3c5396[_0x346633(0x2cb)](_0xf94078=>this['writeStore']({'path':(0x0,ce['join'])(this['storePath'],_0x346633(0x16f),_0xf94078[_0x346633(0x277)]),'fileName':_0xf94078[_0x346633(0x572)]['id'],'data':_0xf94078})),{'insertCount':_0x3c5396[_0x346633(0x438)]}):{'insertCount':0x0};}catch(_0x241ed5){return console[_0x346633(0x40c)]('ERROR:\x20',_0x241ed5),_0x241ed5;}finally{_0x3c5396=void 0x0;}}},ee=require('fs'),w=T(require('@whiskeysockets/baileys')),_e=require('fs'),Z=T(require('path')),le=T(require(a0_0x57c7f3(0x665))),io=require(a0_0x57c7f3(0x2e6)),ro=T(require('qrcode')),no=T(require(a0_0x57c7f3(0xf4))),Ks=['imageMessage',a0_0x57c7f3(0x238),a0_0x57c7f3(0x261),a0_0x57c7f3(0x3a7),a0_0x57c7f3(0x5ec)],zs=[a0_0x57c7f3(0x246),a0_0x57c7f3(0x13b),a0_0x57c7f3(0x330),a0_0x57c7f3(0x486)],co=require('os'),$t=T(require(a0_0x57c7f3(0x493))),lo=require(a0_0x57c7f3(0x2f5)),bs=require(a0_0x57c7f3(0x26a)),Be=require(a0_0x57c7f3(0x681)),ss=T(require(a0_0x57c7f3(0x681))),Qs=new v('Db\x20Connection'),F=y['get'](a0_0x57c7f3(0x648)),M=F['ENABLED']?F[a0_0x57c7f3(0x5a3)][a0_0x57c7f3(0x475)]?ss[a0_0x57c7f3(0x19b)]['createConnection'](F['CONNECTION']['URI'],{'dbName':F[a0_0x57c7f3(0x5a3)]['DB_PREFIX_NAME']+a0_0x57c7f3(0x46b)}):ss['default']['createConnection'](a0_0x57c7f3(0x5c4)+F['CONNECTION']['HOST']+':'+F['CONNECTION'][a0_0x57c7f3(0x1fd)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':F[a0_0x57c7f3(0x5a3)][a0_0x57c7f3(0x172)],'pass':F['CONNECTION'][a0_0x57c7f3(0x11b)],'dbName':F[a0_0x57c7f3(0x5a3)]['DB_PREFIX_NAME']+a0_0x57c7f3(0x46b)}):null;F[a0_0x57c7f3(0x528)]&&Qs['info']('ON\x20-\x20dbName:\x20'+M[a0_0x57c7f3(0x596)]);async function Go(){const _0x4ed079=a0_0x57c7f3;await R[_0x4ed079(0x38c)]({'leadInfo.tags':{'$exists':!0x1}},{'$set':{'leadInfo.tags':[]}}),await R[_0x4ed079(0x38c)]({'leadInfo.customFields':{'$exists':!0x1}},{'$set':{'leadInfo.customFields':[]}}),await R[_0x4ed079(0x38c)]({},{'$unset':{'lastUpdate':0x1,'lastMsgUpdate':0x1}});}M?.['on']('connected',()=>{const _0x2103b5=a0_0x57c7f3;R&&Go()[_0x2103b5(0x296)](_0x536e96=>Qs[_0x2103b5(0x5e3)]('Erro\x20na\x20migração:'+_0x536e96));});var as=class{},qo=new Be[(a0_0x57c7f3(0x2e9))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Jo=new Be[(a0_0x57c7f3(0x2e9))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[qo],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Wo=new Be[(a0_0x57c7f3(0x2e9))]({'_id':{'type':String,'_id':!0x0},'id':{'type':String,'required':!0x0,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'contactname':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number},'unreadcount':{'type':Number},'lastcache':{'type':Number},'leadInfo':{'type':Jo,'default':{}},'lastUpdate':{'type':Number},'lastMsgUpdate':{'type':Number}}),R=M?.[a0_0x57c7f3(0x3ef)](as['name'],Wo,a0_0x57c7f3(0x169)),Ys=require(a0_0x57c7f3(0x681)),os=class{},Ho=new Ys['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'id':{'type':String,'required':!0x0,'minlength':0x1},'profilePictureUrl':{'type':String,'minlength':0x1},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),Fe=M?.[a0_0x57c7f3(0x3ef)](os[a0_0x57c7f3(0x17c)],Ho,a0_0x57c7f3(0x164)),O=require('mongoose'),Xs=new O[(a0_0x57c7f3(0x2e9))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),is=new O[(a0_0x57c7f3(0x2e9))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),Ko=new O[(a0_0x57c7f3(0x2e9))]({'command':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'pollErrorMessage':{'type':String,'default':a0_0x57c7f3(0x5c0)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),Zs=new O['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ea=new O[(a0_0x57c7f3(0x2e9))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String}},{'_id':!0x1}),zo=new O[(a0_0x57c7f3(0x2e9))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ta=new O[(a0_0x57c7f3(0x2e9))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':Ko},'apirequest':ea,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ds=new O[(a0_0x57c7f3(0x2e9))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),sa=new O[(a0_0x57c7f3(0x2e9))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),rs=class{},aa=new O['Schema']({'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x443509=a0_0x57c7f3;return'!cmd_'+Math[_0x443509(0x18e)]()[_0x443509(0x5d3)](0x24)[_0x443509(0x181)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ds],'variablesNotFound':{'type':[String]},'blocks':[ta],'groups':[Xs],'conditions':[Zs],'varedits':[sa],'replyOptions':{'type':[is],'default':[]}});aa[a0_0x57c7f3(0x3b9)](a0_0x57c7f3(0x319),function(_0x30240e){const _0x15831c=a0_0x57c7f3;let _0x513b38=new Set(),_0x1c5245=new Set(this[_0x15831c(0x1ed)]?.[_0x15831c(0x1bd)](_0x456240=>_0x456240[_0x15831c(0x17c)])),_0x49bd86=JSON[_0x15831c(0x34c)](this),_0x9fdb08=/{{(?!_)([^}]*)}}/g,_0x1aa3ec;for(;(_0x1aa3ec=_0x9fdb08[_0x15831c(0x461)](_0x49bd86))!==null;)_0x1c5245['has'](_0x1aa3ec[0x1])||_0x513b38[_0x15831c(0x4b7)](_0x1aa3ec[0x1]);_0x513b38[_0x15831c(0x1a5)]>0x0?(console[_0x15831c(0x5b4)]('Variáveis\x20não\x20encontradas:',Array[_0x15831c(0x41b)](_0x513b38)),this[_0x15831c(0x259)]=Array['from'](_0x513b38)):this[_0x15831c(0x259)]=[],_0x30240e();});function a0_0x43b4(){const _0x6b22aa=['):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','licenca','WEBHOOK_EVENTS_GROUPS_UPDATE','events','role','removeProfilePicture','local_map','updateConversation','URL','notContains','CLIENT','createInstance','lastInteraction','PRIVKEY','):\x20Enviando\x20texto','groupHandler','limit','unreadCount','max','messageTimestamp','value','.\x20Pulando.','findParticipants','DATABASE_CONNECTION_DB_PREFIX_NAME','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','SERVER','request\x20received\x20in\x20editConversation','editflow','@g.us','initAuthCreds','):\x20expirationTime:\x20','request\x20received\x20in\x20createFlow','connectionClosed','isDirectory','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','Erro\x20inesperado\x20em\x20processvaredits:\x20','blocks','dataValidate','connectionUpdate','\x1b[1m\x1b[37m','\x1b[36m','emit','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','getDevice','post','picture','setting','):\x20Erro\x20ao\x20buscar\x20conversas\x20','STATUS_INSTANCE','Já\x20existe\x20fluxo\x20com\x20esse\x20nome','.sendDataWebhook-global','end','toLowerCase','statusCode','bodyString','Content\x20is\x20required','charAt','available','isConnected','uazapiDeleteMessage','storePath','getHours','and','findGroups','dark','\x20segundos','flattenObject','run','request\x20received\x20in\x20editFlowgroup','groups','findWebhook','dayjs','\x20messages.','updateLastSeenPrivacy','uazapiSendContact','):\x20conversation.lastInteraction:\x20','Error\x20processing\x20read\x20messages:','allflows','DATABASE','):\x20Limpando\x20AutomateSystem','webhook','utf-8','fullName','chat','--version','Bad\x20Request','contacts.update','Início','joinGroup','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','getClient','node-cache','eventEmitter','floor','):\x20Deletados\x20','contact_blacklist','resetReconnectionVariables','\x20chats\x20de\x20','editFlowReply','fetchInstances','sort','):\x20Criou\x20conversa\x20no\x20startFlow:','status.instance','tags','!stop','AUTHENTICATION_JWT_EXPIRIN_IN','\x22\x20cannot\x20be\x20empty','axios','):\x20teve\x20mudanças\x20chat.name:\x20','refused','processConditions','dbServer','webhookMap','lean','getMinutes','Erro\x20ao\x20instalar\x20','/wa-groups','groupParticipantsUpdate','conversationTimestamp','performBulkUpdate','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','replyOption','connectToWhatsapp','condition','CORS','code','/exit','readdirSync','deleteOne','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','\x1b[40m','creation','getScheduleMessage','getAllData','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','mongoose','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','archived','atendimentoAberto','oldValue','mediaKey','lowerCase','outputOptions','):\x20transformedCustomFieldVariables','No\x20join\x20group\x20invite\x20code\x20or\x20url','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','audioWhatsapp','chatHandle','updateChatWithMessage','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','\x20inseridos\x20no\x20banco\x20de\x20dados...','Sistema\x20atualizado\x20com\x20sucesso!','presence.update','SUCCESS','deleteDoneMessages','):\x20Erro\x20ao\x20iniciar\x20fluxo\x20','findOne','editflowcondition','locked','height','buttonId','Erro\x20ao\x20editar\x20a\x20conversa:\x20','src','verify','messageModel','pollCreationMessageV3','This\x20name\x20','groupAcceptInvite','now','getOwnPropertyNames','flushHeaders','WEBHOOK_EVENTS_NEW_JWT_TOKEN','Error\x20updating\x20message\x20status:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','groupCreate','function','pollCreationMessageKey','router','wuid','paused','startFlow','all','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','HeaderType','findGroup','qrcode-terminal','logout','CORS_CREDENTIALS','?timestamp=','Type\x20not\x20found','g-t','deleteMessageForEveryone','NEW_JWT_TOKEN','eventHandler','TEXT','):\x20Editando\x20bloco...','request\x20received\x20in\x20editFlowcondition','QRCODE','presenceSubscribe','writeStore','deleteBlock','setHeader','metadata','pollUpdateMessage','parseInt','repeat','sendMedia','bearer','$set','setNewValue','image','getVariablesChat','defineAuthState','buttonText','listMessage','ios','Instance\x20ID:','upperCase','nomecompleto','):\x20Erro\x20ao\x20editar\x20agentes:\x20','Erro\x20ao\x20buscar\x20conversas:\x20','authService','contact','saveConversationToDatabase','PASSWORD','):\x20Limpando\x20delayMessage','loggedOut','enabled','remoteJid','\x20horas\x20e\x20','/wa-chats','\x0a*Você\x20respondeu*:\x0a','customFields','AppStateSyncKeyData','SERVER_PORT','isBooleanString','webhookService','replaceOne','messageSecret','sendContact','reactionMessage','CONNECTION_UPDATE','):\x20newSecondValue\x20após\x20replaceVariables:','6dYrioh','findAndReplace','store','hostname','WARN','user','nome','Validate','LEVEL','CLEANING_INTERVAL','env','request\x20received\x20in\x20getConversation','CONFIG_SESSION_PHONE','documentWithCaptionMessage','CHATS_SET','groupId','):\x20teve\x20mudanças\x20chat.archived:\x20','composing','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','get','dbSettings','errorLog','exit','instanceName','Error\x20updating\x20setting','processingScheduleMessageId','method','setWebhook','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','\x20}\x0a','$inc','class-validator','replaceVariablesLogs','close','URL:','\x1b[1m','evaluateCondition','loadInstance','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','Mensagem\x20não\x20suportada','chats.delete','waitingPoll_replyOptions','Error\x20change\x20group\x20description','sendPoll','repository','updateOnlinePrivacy','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','not_announcement','MESSAGES_UPDATE','block','verifiedName','Falha\x20ao\x20deletar\x20mensagens:','capitalizedWords','poll','contacts','GUARD','new.jwt','Erro:','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','chats','greater','WEBHOOK_GLOBAL_URL',',\x20valor\x20a\x20encontrar:\x20\x22','):\x20Edit\x20schedule\x20message...','#000000','messages','sudo\x20apt\x20install\x20-y\x20ffmpeg','BufferJSON','USER','noVideo','isBuffer','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:','WEBHOOK_EVENTS_CHATS_UPDATE','birthtime','Erro\x20ao\x20criar\x20o\x20fluxo:\x20','oldToken','):\x20delete\x20=\x20true','SSL_CONF','name','font','replaceVariablesChat','READ','Business\x20profile\x20fetched','slice','getMIMEType','isFile','text','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','groupValidate','ButtonsMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','entries','noConnection','upsertChats','/*.json','media','random','findById','/wa-qrcode','syscall','):\x20Error\x20processing\x20the\x20block:\x20','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','statSync','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','/create','\x0aFN:','hex','apiName','refreshToken','default','AUTOUPDATE','finish','\x20is\x20already\x20in\x20use.','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','mediaSticker','Comando\x20desconhecido','Valor\x20inicial:\x20\x22','_error','EVENTS','size','lastMessage',',\x20Minutes\x20to\x20Close:\x20','Invalid\x20format','getPrototypeOf','EMAIL:','cleanStore','convertaudio','rm\x20-rf\x20','type','modifiedCount','END:VCARD','response','unlocked','createConversationforgoToFlow','JWT','editedMessage','document','opendirSync','stream','join','findGroupInfo','Getting\x20profile\x20with\x20jid:\x20','waitingPoll_name','map','DARK','onWhatsApp','Erro\x20ao\x20obter\x20a\x20imagem\x20do\x20perfil:\x20','getDelay','editOperator','when','WEBHOOK_EVENTS_MESSAGES_UPSERT','getTime','scheduled','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','notEmpty','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','\x20install\x20error:\x20','hGet','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','imagechat','createWebhook','Error\x20writing\x20file:','leadInfo.','):\x20Iniciando\x20bot...','TRIAL_AD','isJidGroup','onTime','optionDescription','getMessage','Variável\x20não\x20encontrada!','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','updateMessage','allFlows','stdout','\x1b[30m','headerString','contextInfo','MESSAGES_UPSERT','updateGroupPicture','Error\x20fetching\x20group','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:','deletedCount','stopped','/events/:instance','The\x20\x22','query','Close\x20connection','FULLCHAIN','Media\x20folder\x20path:','scheduleMessage','variables','sendText','execSync','then','fetchPrivacySettings','unavailable','):\x20Conversa\x20está\x20expirada','request\x20received\x20in\x20editFlowvariable','waMonit','app-state-sync-key','editFlow','instance','createGroup','envYaml','AutomateFunctions','_p_','PORT','Revoke\x20error','newValue','RECONNECT_TIME_FRAME','send.message','chatModify','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','stoppedUntil','\x20inseridas\x20no\x20banco\x20de\x20dados...','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','participants','Invalid\x20\x22oldToken\x22','):\x20Conversa\x20atualizada\x20em\x20memória','apirequest','updatePrivacySettings','lastSendMessage','flowStopConversation','last','writeData','contacts.upsert','findIndex','CHATS_DELETE','MESSAGES_SET','ex:\x20\x22groupJid=120362@g.us\x22','video','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','https://api.ipify.org?format=json','fetchConversation','findByIdAndUpdate','latitude','console','editFlowBlock','getContents','fetchBusinessProfile','DisconnectReason','hbs','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','pt-BR','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','lastSend','last_update','Readable','getConversation','variablesToObject','jpegThumbnail','remoteJidsRemaining','Type\x20is\x20required','saveTextReply','\x20não\x20encontrado','getStatus','The\x20instance\x20needs\x20to\x20be\x20disconnected','sendSticker','checkAndUpdateChats','group','scheduleSendAudio','indexOf','https://jsonip.com','documentMessage','maxActives','buttonsMessage','):\x20updateResult:','editFlowVaredit','CHATS_UPSERT','delInstanceFiles','getBusinessProfile','waInstances','chats.set','express','readreceipts','\x1b[33m\x1b[1m','processConditionsTest','ephemeralMessage','Forbidden','envProcess','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','delayMessage','allContacts','isJWT','PRODUCTION','uazapiSendAudio','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Creating\x20media\x20folder...','gifPlayback','integer','contactname','address','status','):\x20Criando\x20nova\x20conversa','restart','redis-server','variablesNotFound','secondValue','stopMinutes','groupJid','compression','jsonschema','changeVariables','):\x20Ler\x20mensagem','audioMessage','chats.update','caption','VERBOSE','error_log','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','out','presence','messageHandle','node-mime-types','connectionStatus','Operador:\x20\x22','evaluateConditionTest','Authentication\x20error','fetchProfile','goToFlow','Erro\x20ao\x20encerrar\x20a\x20API','path','bateu\x20events','debug','):\x20nextBlock.uazapi.name','where','owner','Deleted\x20','public','readMessage','):\x20Visualizando\x20AutomateSystem','STORE_CLEANING_TERMINAL','fetchAndUpdateProfileDetails','logger','AutomateSystem\x20não\x20foi\x20inicializado','updateBlock','contactHandle','PENDING','rows','77374GBKlaN','updateStatusPrivacy','auth','):\x20Erro\x20ao\x20criar\x20fluxo\x20','match','replace','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','toBRL','PREFIX_KEY','.jwt','varedits','EXPIRIN_IN','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20atualmente\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','REDIS','REDIS_ENABLED','Trying\x20to\x20get\x20business\x20profile','fromObject','catch','GROUPS_UPDATE','):\x20Enviando\x20enquete','android','groups.update','):\x20Conversa\x20inserida\x20com\x20sucesso.','\x1b[30m%s\x1b[0m','/events','express-async-errors','groupSettingUpdate','chats.upsert','):\x20Editando\x20variável\x20do\x20fluxo...','video-cover.png','Instance\x20logged\x20out','Original\x20filename:','ffmpeg','namespace','CORS_METHODS','262830MhVWVM','long','CONTACTS_SET','Content-Type','whatsappNumbers','mediaMessage','updateChat','Internal\x20Server\x20Error','):\x20Deletando\x20fluxo...','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20áudio:','sendDataWebhook','creds','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','message-up','expiration','goNextblock','pushName','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','authModel','Instance\x20restarted','matchRegex','Error\x20updating\x20privacy\x20settings','blockLogs','request\x20received\x20in\x20editFlow','):\x20alterando\x20this.AutomateSystem','):\x20','GLOBAL','\x20-\x20ON:\x20','messages.set','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','notas','title','waitingPoll_id','\x20minutos...','Valor\x20de\x20find\x20ou\x20replace\x20ausente','forEach','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','sem\x20texto\x20na\x20mensagem','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','replaceVariablesInReplyOptions','WEBHOOK_EVENTS_CONNECTION_UPDATE','option','leadInfo.desativadoFluxoAte','SSL_CONF_PRIVKEY','splice','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','TRIAL_INSTANCE_NAME','Parando\x20aplicação,\x20atualização\x20recebida','):\x20Conversas\x20encontradas:','updateProfilePicturePrivacy','key.','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','groups.upsert','Getting\x20profile\x20info','2461256bpYSat','locationMessage','load','Erro\x20ao\x20editar\x20o\x20chat:\x20','mediatype','moreLogs','contactsArrayMessage','uuid','request\x20received\x20in\x20getAutomateSystem','messagesSend','Schema','padStart','\x20minutos.\x20Será\x20às\x20','deleteflow','scheduleSendMedia','isRunning','audioCodec','12cPsEPE','WEBHOOK_GLOBAL_ENABLED','/instance/create','statusJidList','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','child_process','mentions','false','configService','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','online','/:instanceName','sendAudio','getflow','replyOptions','\x20contacts',',\x20saindo.','leaveGroup','REDIS_URI','request\x20received\x20in\x20getFlow','\x1b[44m','\x1b[36m%s\x1b[0m','Erro\x20ao\x20editar\x20o\x20bloco:\x20','LOG','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','vote','findFlow','Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','activatedCount','sections','object','true','/chat','):\x20Falha\x20ao\x20deletar\x20mensagem.','https://','messages.update','):\x20Editando\x20replyOption...','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','\x1b[47m','WEBHOOK_EVENTS_CONTACTS_UPSERT','deleteMany','save','editScheduleMessage','1603228lmvYOi','next_groupId','-instances','privacySettings','updateMediaMessage','email','3cjzDOO','QRCODE_LIMIT','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','\x1b[37m','\x1b[33m%s\x1b[0m','uazapiSendMedia','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','groupSetting','updateParticipant','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','fetchContacts','poll_id','createFlow','@broadcast','connecting','viewOnceMessage',',\x20qrcodeCount:\x20','):\x20lastBlockId:\x20','\x20foram\x20adicionados\x20\x22contactname\x22\x20','flowActive','proto','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','dbClient','mkdirSync','BRL','empty','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','Flow\x20não\x20encontrado','groupUpdateDescription','assign','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','padEnd','FlowController','Conexão\x20estabelecida','\x22\x20not\x20found','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','trim','Error\x20while\x20deleting\x20message\x20for\x20everyone','TYPE','fluent-ffmpeg','10506ScNCWu','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','reaction','stringify','http','varedit','updateGParticipant','processPollUpdateMessage','updateReplyOption','\x1b[0m','GROUP_PARTICIPANTS_UPDATE','find','/wa-connection-update','readMessages','hasOwnProperty','groupUpdateSubject','fone',',\x20valor\x20passado:\x20\x22','\x20não\x20encontrado\x20para\x20atualização.','):\x20conversation.waitingPollname','sudo\x20apt\x20install\x20-y\x20redis-server','WEBHOOK_EVENTS_CONTACTS_SET','insert','):\x20Flow\x20desativado','OrAnd','jid','Erro\x20ao\x20aplicar\x20varedit:\x20',',\x20lastCondition:\x20','prefixCommand','\x1b[31m','toLocaleString','generateHash','client','/automate','use','buttonMessage','Próxima\x20verificação\x20em\x20','created','put','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','fetchChats','/wa-message','isBusiness','.josn','):\x20Flow\x20não\x20encontrado','WEBHOOK_EVENTS_STATUS_INSTANCE','convertedOptions','\x20foi\x20interrompido\x20pelo\x20usuário.','desc','substring','WEBHOOK_EVENTS_MESSAGES_SET','/media/','isLong','test','instanceKeys','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','announce','CONECTADO\x20À\x20UAZAPI','tokenId','fileLength','jsonwebtoken','):\x20isVote','readFile','\x20minutos','editflowvaredit','deleteInstance','replaceVariablesInObject','updateMany','website','\x5cd+','defineProperty','Contacts\x20not\x20found','createConversationforStartFlow','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','/instance/fetchInstances','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','isURL','sendPresenceUpdate','notMatchRegex','isBase64','connection.update','DATABASE_ENABLED','protocolMessage','API_KEY','removeInstance','):\x20Current\x20Time:\x20','updateGParticipate','getFlow','libopus','rmSync','):\x20Entrou\x20na\x20função\x20saveReply','Tanto\x20id\x20quanto\x20owner\x20são\x20necessários\x20para\x20criar\x20ou\x20editar\x20um\x20chat.','libvorbis','videoMessage','):\x20Enviando\x20mídia','number','Enter\x20a\x20value\x20in\x20milliseconds','groupInviteCode','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','^\x5cd+[\x5c.@\x5cw-]+','fetchProfilePicture','replacer','isJidUser','\x20saindo\x20da\x20função','Conversa\x20deletada\x20com\x20sucesso.','Error\x20updating\x20profile\x20picture','stopConversation','applyvaredit','includes','toNumber','):\x20Enviando\x20contato','pre','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','NextBlock','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','WEBHOOK','.\x20Código\x20de\x20saída\x20','notEqual','*\x0a\x0a','cwd','waMonitor','normalizeMessage','startsWith','url','/clients-info','ids','):\x20Chat\x20atualizado\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','none','responsavelid','profilePictureUrl','NO_IP','\x1b[31m%s\x1b[0m','STORE_CHATS','uncaughtException','editFlowCondition','_activatedCount','AutomateSystem','desativadoFluxoAte','SEND_MESSAGE','dbInstance','isArray','removed','editFlowVariable','pollOnReplyDelete','mimetype','mentioned','Error\x20creating\x20group','STORE','fileName','-ar','createJid','set','instanceInfo','spawn','sendLocation','Deletion\x20failed','scheduleNextCheck','fetchProfilePictureUrl','messageUpdate','context','messageId','sendCommand','values','3473608tOFZuq','model','lastmsg','info','static','lastReceivedMessage','inner','updateProfilePicture','dropCollection','pollCreationMessage','DATABASE_CONNECTION_URI','sendList','notify','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','g.us','groupMetadata','525mOmvZB','findChats','insertMany','sendButtons','The\x20global\x20api\x20key\x20must\x20be\x20set','routerPath','creds.json','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','selectableCount','apikey','errno','redisEnv','getRandomText','processvaredits','log','The\x20instance\x20is\x20already\x20connected','badSession','editConversation','less','create','request\x20received\x20in\x20updateCustomFields','exists','selectedOptions','request\x20received\x20in\x20updateAgent','-version','generate','delInstanceTime','Button\x20texts\x20cannot\x20be\x20repeated','views','from','delAll','count','The\x20property\x20cannot\x20be\x20empty','urlencoded','message','updateCustomFields','validate','Method\x20not\x20implemented.','):\x20Procurando\x20conversa','Parando\x20aplicação...','scheduleMessages','PLAYED','chatLog','interval\x20não\x20é\x20um\x20número','release','_id','parse','sending','findConversation','CONTACTS_UPDATE','Log\x20out\x20instance:\x20','uazapi','displayName','replaceVariables','):\x20this.processingScheduleMessageId:\x20','instances','request\x20received\x20in\x20updateFlowConfig','collections','length','Nome\x20não\x20encontrado','demote','\x1b[46m','endsWith','datetime','throwAndLogError','ip:\x20','\x1b[32m%s\x1b[0m','data:\x20','Instância:\x20','isInteger','closed','\x22reaction\x22\x20must\x20be\x20an\x20emoji','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','):\x20Erro\x20durante\x20a\x20atualização:\x20','restartInstance','expression','realVariables','action','/wa-contacts','https://chat.whatsapp.com/','WEBHOOK_MAP','enumerable','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','Error\x20converting\x20audio:\x20','reviver','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','readMessageBot','fetchStatusMessage','\x20minutos\x20verificará\x20novas\x20mensagens','getContentType','contentText','profile','\x20install\x20output:\x20','msgRetryCounterCache','no.connection','ObjectId','Flow\x20already\x20exists','DELIVERY_ACK','DATABASE_CONNECTION_PASSWORD','exec','extractRegex','WEBHOOK_EVENTS_CHATS_UPSERT','DOCKER_ENV','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','DB_PREFIX_NAME','statusMessage','}}\x20->\x20valor\x20não\x20encontrado','\x20\x1b[0m','senderKeyDistributionMessage','-whatsapp-api','pollMessage','organization','valid','newStoppedUntil','conditions','apiResponse','quotedMessage','sendMessageWithTyping','jwt','URI','lastBlockId','STORE_MESSAGE','archiveChat','split','lastCondition','/group','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','INFO',',\x20fará\x20nova\x20verificação\x20em\x20','send','writeFile','Logger','\x22,\x20valor\x20a\x20substituir:\x20\x22','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','processUazapi','connectionState','viewOnceMessageV2','uazapiSendLocation','processApiRequest','Erro\x20ao\x20obter\x20o\x20nome\x20do\x20contato:\x20','messages.upsert','flowConfig','urlOrBase64','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','toggleEphemeral','Atualização:\x20','Primeiro\x20Valor:\x20','sendReaction','stopIfLastReturnedError','pino','.mp3','localWebhook','Unauthorized','delete','start','Not\x20Found','markMessageAsRead','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Buscando\x20todos\x20os\x20fluxos...','done','deleteMessage','@s.whatsapp.net','\x22\x20-\x20NOT\x20CONNECTION','Nenhum\x20chat\x20encontrado\x20para\x20editar.','error\x20get\x20vote','saveVariable','Data\x20inválida\x20fornecida','qrCode','\x20messages.update.','Desconectado,\x20parando\x20execução.','ogg','Instance\x20\x22','firstValue','audio/ogg;\x20codecs=opus','flowname:\x20','Group\x20not\x20found','/refreshToken','findOneAndUpdate','redis','ERROR','Read\x20messages','\x1b[37m%s\x1b[0m','QRCODE_UPDATED','ORG:','.json','add','update','description','groupRevokeInvite','keep-alive','./.git/config','loadWebhook','não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','write','request\x20received\x20in\x20deleteConversation','truncatedto','Message\x20not\x20found','some','Flow\x20iniciado\x20com\x20','open','scheduleSendText','getOwnPropertyDescriptor','cpf','stderr','/wa-message-update','prepareMediaMessage','leadInfo.customFields',',\x20Comparador:\x20','CONFIG_SESSION_PHONE_NAME','subject','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','state','Erro\x20ao\x20atualizar\x20conversa:\x20','_doc','2183755IhsoRv','whatsappNumber','flowIgnoreGroups','decryptPollVote','editflowreply','request\x20body:\x20','8080','DATABASE_CONNECTION_HOST','toBrazilianNumberFormat','authentication','userDevicesCache','currency','remoteJids','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','Error\x20updating\x20profile\x20name','ini','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','findContacts','Background\x20color\x20is\x20required','buffer','Bloco\x20com\x20ID\x20','Error\x20in\x20scheduleNextCheck:\x20','textMessage','readData','):\x20Editando\x20grupo\x20do\x20fluxo...','Button\x20IDs\x20cannot\x20be\x20repeated.','Connection','DATABASE_CONNECTION_USER','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','buttons','\x0aitem','create\x20-\x20success','Types','uazapiSendPoll','web','\x1b[32m','saveMediaToFile','base64','):\x20Editando\x20edição\x20do\x20fluxo...','Erro\x20ao\x20atualizar\x20os\x20detalhes\x20do\x20perfil:\x20','reconnectAttempts','params','createNewConversation','instanceName\x20not\x20provided.','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','leadInfo','chrome','readFileSync','):\x20Deletando\x20conversa...','variable','conversation','DD/MM\x20HH:mm:ss','stateConnection','arraybuffer','findByIdAndDelete','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','call','\x20mensagens\x20de\x20','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','addBlock','redisCache','PHONE','findMessages','reference','/instance','getBase64FromMediaMessage','ERROR:\x20','Missing\x20global\x20api\x20key','processblock','\x1b[34m%s\x1b[0m','data','longitude','\x5c$&','recording','pollCreationMessageV2','updateOne','Não\x20respondeu\x20com\x20a\x20enquete.','subjectTime','uazapiSendText','getProfileName','push','createServer','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','existsSync','ENABLED','unlinkSync','editFlowGroup','group-participants.update','mongodb','segundos','deleteFlow','redirect','qrcode.updated','https://uazapi-plugin.bubbleapps.io/','/webhook','contactModel','saveAPI','__esModule','KEY','AUTHENTICATION_API_KEY','flowStopMinutes','editChat','keys','newName','fetchMessages','instance.','sendStatus','Router','):\x20Deletando\x20mensagem','Error\x20updating\x20profile\x20status','):\x20tem\x20blocks','No\x20participants','WEBHOOK_EVENTS_CONTACTS_UPDATE','ReplyOption\x20com\x20ID\x20','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','footerText','):\x20Mensagem\x20já\x20enviada\x20para\x20','arrayUnique','order','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','WEBHOOK_EVENTS_SEND_MESSAGE','../env.yml','https://github.com/uazapi/uazapi.git','bulkWrite','generateWAMessageFromContent','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','inviteCode','fetchStatus','SSL_CONF_FULLCHAIN','updateAgent','js-yaml','^\x5cd+','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','audio','updateProfileStatus','contains','audioBitrate','fetchLatestBaileysVersion','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','https','):\x20Buscando\x20flow...','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','):\x20não\x20encontrou','WEBHOOK_EVENTS_MESSAGES_UPDATE','header','Profile\x20not\x20found','SERVER_ACK','findStatusMessage','groupName','toUpperCase','getAutomateSystem','blockId','delaySecMin','):\x20customFieldVariables','agents','boolean','\x1b[33m','prototype','key','phoneNumber','connect','text/event-stream',',\x20Resultado:\x20','groupDesc','revokeInviteCode','sendMessage','truncatedtoEnd','groupadd','stream-buffers','Imagem\x20não\x20encontrada','108zqhoqx','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','):\x20Entrou\x20na\x20função\x20stop','@whiskeysockets/baileys','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','downloads','):\x20Query\x20params:','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','WEBHOOK_EVENTS_CHATS_SET','json','^\x5cd+([-]\x5cd+)*@g.us$','StatusJidList\x20is\x20required','METHODS','Erro\x20ao\x20iniciar\x20fluxo:\x20','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','Instance\x20deleted','50mb','pollErrorMessage','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','filter','pop','deleteConversation','DEBUG','content','$dbName','CHATS_UPDATE','env.KEY\x20!==\x20key','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','updateProfileName','Invalid\x20output','PRESENCE_UPDATE','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','unreadcount','16000','Message','):\x20Buscando\x20conversa...','rowId','CONNECTION','https://uazapi-plugin.bubbleapps.io/?url=','formatStatusMessage','listen','format','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','cleaningUp','messaging-history.set','/media','findAndReplaceRegex','):\x20newFirstValue\x20após\x20replaceVariables:','):\x20Comando\x20desconhecido:\x20','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','verbose','):\x20Going\x20to\x20','success','AUTHENTICATION','warn','command','qrcode','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','profilePicture','messageContextInfo','chatModel','removeData','Falha\x20ao\x20deletar\x20mensagens\x20updates:','SECRET','.sendDataWebhook-local','shift','Por\x20favor,\x20responda\x20à\x20última\x20enquete\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','ignoreGroups','fromMe','contactMessage','mongodb://','Not\x20is\x20business\x20profile','string','reorderBlocks','creds.update','originalUrl','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','stanzaId','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','No\x20invite\x20code','sendWhatsAppAudio','GROUPS_UPSERT','CONTACTS_UPSERT','):\x20A\x20atualização\x20no\x20BD\x20do\x20chat\x20não\x20foi\x20bem\x20sucedida','audioFrequency','toString','endSession','array','subjectOwner','options','Error\x20change\x20group\x20setting','#ffffff','archive','webhookModel','DELETED','status@broadcast','remove.instance','joinGroupValidate','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','editflowblock','output','error','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','authState','Initial\x20__dirname:','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','reconnectTimestamps','DEL_INSTANCE','updateFlowConfig','stickerMessage','equal','collection','opus','messageUpModel','Unknown\x20message\x20type\x20encountered','body','participant','delay','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','del','Erro\x20de\x20atualização:\x20','Erro\x20ao\x20deletar\x20a\x20conversa:\x20'];a0_0x43b4=function(){return _0x6b22aa;};return a0_0x43b4();}var D=M?.[a0_0x57c7f3(0x3ef)](rs[a0_0x57c7f3(0x17c)],aa,'flow'),Qo=new O[(a0_0x57c7f3(0x2e9))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ds],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastBlockId':{'type':String},'blockLogs':[zo]},{'_id':!0x1}),ns=class{},Yo=new O['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ds],'blocks':[ta],'groups':[Xs],'conditions':[Zs],'varedits':[sa],'replyOptions':{'type':[is],'default':[]},'chatLog':Qo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x57c7f3(0x4c5)},'waitingPoll_id':{'type':String},'waitingPoll_name':{'type':String},'waitingPoll_replyOptions':{'type':[is],'default':[]}}),G=M?.['model'](ns[a0_0x57c7f3(0x17c)],Yo,'flowConversation'),cs=class{},Xo=new O[(a0_0x57c7f3(0x2e9))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),Zo=new O[(a0_0x57c7f3(0x2e9))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x57c7f3(0x1c6)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':Xo,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[Object],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),k=M?.[a0_0x57c7f3(0x3ef)](cs['name'],Zo,a0_0x57c7f3(0x426)),ls=class{},ei=new O[(a0_0x57c7f3(0x2e9))]({'name':{'type':String},'requests':[ea],'owner':{'type':String}}),Wr=M?.['model'](ls[a0_0x57c7f3(0x17c)],ei,a0_0x57c7f3(0x534)),us=class{},ti=new O[(a0_0x57c7f3(0x2e9))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),si=new O[(a0_0x57c7f3(0x2e9))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14}},{'_id':!0x1}),ai=new O[(a0_0x57c7f3(0x2e9))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),oi=new O['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ai]},'customFields':{'type':[ti]},'flowConfig':{'type':si,'default':{}}}),ae=M?.[a0_0x57c7f3(0x3ef)](us[a0_0x57c7f3(0x17c)],oi,a0_0x57c7f3(0x3d3)),ye=T(require(a0_0x57c7f3(0x681))),uo=T(require(a0_0x57c7f3(0x348))),po=require(a0_0x57c7f3(0x1b8)),mo=require(a0_0x57c7f3(0x57c)),x=require(a0_0x57c7f3(0x14d)),he=class{constructor(_0x370748,_0x153dd0,_0xa80c4d){const _0x3f9dd5=a0_0x57c7f3;this[_0x3f9dd5(0x362)]=_0x370748,this[_0x3f9dd5(0x413)]=_0x153dd0,this[_0x3f9dd5(0x17c)]=_0xa80c4d;}},Ge=class{},ve=class{},qe=class{},Je=class{},fe=class{},We=class{},He=class{},Ke=class{},ze=class{},Dt=T(require(a0_0x57c7f3(0x242))),oa=require('fs'),ia=require(a0_0x57c7f3(0x272));async function Qe(_0x2833bb){const _0x32e773=a0_0x57c7f3;let _0x1847e0=B[_0x32e773(0x240)][_0x2833bb];if(F[_0x32e773(0x528)]){let _0xec87bd=M[_0x32e773(0x654)]()['db'](F['CONNECTION'][_0x32e773(0x466)]+_0x32e773(0x31d))[_0x32e773(0x5ee)](_0x2833bb);return _0x1847e0||(await _0xec87bd[_0x32e773(0x354)]({})['toArray']())['length']>0x0;}return _0x1847e0||(0x0,oa['existsSync'])((0x0,ia[_0x32e773(0x1b9)])(V,_0x2833bb));}async function ps(_0x51f923,_0x34c0f2,_0x5cc202){const _0x2ad720=a0_0x57c7f3;if(_0x51f923[_0x2ad720(0x5c9)]['includes'](_0x2ad720(0x2f2))||_0x51f923[_0x2ad720(0x5c9)][_0x2ad720(0x3b6)](_0x2ad720(0x394))||_0x51f923[_0x2ad720(0x5c9)][_0x2ad720(0x3b6)](_0x2ad720(0x678)))return _0x5cc202();let _0x54dc6f=_0x51f923[_0x2ad720(0x4fd)];if(!_0x54dc6f?.[_0x2ad720(0x145)])throw new m(_0x2ad720(0x4ff));if(!await Qe(_0x54dc6f[_0x2ad720(0x145)]))throw new L('The\x20'+_0x54dc6f[_0x2ad720(0x145)]+'\x20instance\x20does\x20not\x20exist');_0x5cc202();}async function ra(_0x50a3b3,_0xc6170a,_0x55b9ac){const _0x16eca8=a0_0x57c7f3;if(_0x50a3b3['originalUrl'][_0x16eca8(0x3b6)]('/instance/create')){let _0x3237bc=_0x50a3b3[_0x16eca8(0x5f2)];if(await Qe(_0x3237bc[_0x16eca8(0x145)]))throw new oe(_0x16eca8(0xe1)+_0x3237bc[_0x16eca8(0x145)]+_0x16eca8(0x19e));B[_0x16eca8(0x240)][_0x3237bc['instanceName']]&&delete B[_0x16eca8(0x240)][_0x3237bc[_0x16eca8(0x145)]];}_0x55b9ac();}var na=require(a0_0x57c7f3(0x14d)),ca=T(require(a0_0x57c7f3(0x385))),Ye=a0_0x57c7f3(0x431),ri=new v(a0_0x57c7f3(0x165));async function ni(_0x3fdd0f,_0x16bc96,_0xb48d00){const _0x499e59=a0_0x57c7f3;let _0xc4a27a=_0x3fdd0f['get'](_0x499e59(0x407));if(_0xc4a27a&&y[_0x499e59(0x141)](_0x499e59(0x5b3))[_0x499e59(0x39d)][_0x499e59(0x536)]!==_0xc4a27a)throw new ie();if(y[_0x499e59(0x141)]('AUTHENTICATION')[_0x499e59(0x39d)][_0x499e59(0x536)]===_0xc4a27a)return _0xb48d00();if((_0x3fdd0f[_0x499e59(0x5c9)][_0x499e59(0x3b6)]('/instance/create')||_0x3fdd0f[_0x499e59(0x5c9)][_0x499e59(0x3b6)](_0x499e59(0x394)))&&!_0xc4a27a)throw new oe(_0x499e59(0x517),_0x499e59(0x402));let _0x185a43=y[_0x499e59(0x141)](_0x499e59(0x5b3))[_0x499e59(0x1b4)];try{let [_0x19e8df,_0x11d5de]=_0x3fdd0f[_0x499e59(0x141)]('authorization')['split']('\x20');if(_0x19e8df['toLowerCase']()!==_0x499e59(0x10a))throw new ie();if(!(0x0,na[_0x499e59(0x24c)])(_0x11d5de))throw new ie();let _0x4fec47=_0x3fdd0f[_0x499e59(0x4fd)],_0x38e601=ca[_0x499e59(0x19b)]['verify'](_0x11d5de,_0x185a43['SECRET'],{'ignoreExpiration':_0x185a43[_0x499e59(0x290)]===0x0});if(_0x4fec47[_0x499e59(0x145)]!==_0x38e601[_0x499e59(0x145)]||Ye!==_0x38e601[_0x499e59(0x199)])throw new ie();return _0xb48d00();}catch(_0x5556a7){throw ri[_0x499e59(0x5e3)](_0x5556a7),new ie();}}async function ci(_0x4d874f,_0x23794c,_0x3ebf56){const _0x4d92c0=a0_0x57c7f3;let _0x21fe5f=y['get'](_0x4d92c0(0x5b3))[_0x4d92c0(0x39d)],_0x279000=_0x4d874f['get'](_0x4d92c0(0x407));if(_0x21fe5f[_0x4d92c0(0x536)]===_0x279000)return _0x3ebf56();if(_0x4d874f[_0x4d92c0(0x5c9)][_0x4d92c0(0x3b6)](_0x4d92c0(0x2f2))){let _0x1fc766=y[_0x4d92c0(0x141)](_0x4d92c0(0x2d7)),_0x425a5a=_0x4d874f[_0x4d92c0(0x5f2)]['instanceName'];if(_0x1fc766&&_0x425a5a[_0x4d92c0(0x62e)]()[_0x4d92c0(0x3c5)](_0x1fc766[_0x4d92c0(0x62e)]()))return _0x3ebf56();if(!_0x279000)throw new oe(_0x4d92c0(0x517),_0x4d92c0(0x402));}if(_0x4d874f[_0x4d92c0(0x5c9)]['includes'](_0x4d92c0(0x394))&&!_0x279000)throw new oe(_0x4d92c0(0x517),_0x4d92c0(0x402));if(_0x4d874f[_0x4d92c0(0x5c9)][_0x4d92c0(0x3b6)]('/exit')&&!_0x279000)throw new oe(_0x4d92c0(0x517),_0x4d92c0(0x402));try{let _0xca3f26=_0x4d874f[_0x4d92c0(0x4fd)];if((await ue[_0x4d92c0(0x286)][_0x4d92c0(0x354)](_0xca3f26[_0x4d92c0(0x145)]))[_0x4d92c0(0x407)]===_0x279000)return _0x3ebf56();}catch{}throw new ie();}var la={'jwt':ni,'apikey':ci},Ga=require(a0_0x57c7f3(0x242)),C=require(a0_0x57c7f3(0x2e6)),S=(..._0x235b6a)=>{const _0x354ada=a0_0x57c7f3;let _0x21038b={};return _0x235b6a[_0x354ada(0x2cb)](_0x4f8837=>_0x21038b[_0x4f8837]={'minLength':0x1,'description':_0x354ada(0x1e7)+_0x4f8837+_0x354ada(0x664)}),{'if':{'propertyNames':{'enum':[..._0x235b6a]}},'then':{'properties':_0x21038b}};},N={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'instanceName':{'type':a0_0x57c7f3(0x5c6)}},...S(a0_0x57c7f3(0x145))},ua={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'oldToken':{'type':a0_0x57c7f3(0x5c6)}},'required':[a0_0x57c7f3(0x179)],...S(a0_0x57c7f3(0x179))},ln={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x57c7f3(0x5c6)},'remoteJid':{'type':a0_0x57c7f3(0x5c6)},'fromMe':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x57c7f3(0x5c2)],...S('id',a0_0x57c7f3(0x11f))},'message':{'type':'object'}}},Q={'properties':{'delay':{'type':a0_0x57c7f3(0x252),'description':a0_0x57c7f3(0x3aa)},'presence':{'type':a0_0x57c7f3(0x5c6),'enum':[a0_0x57c7f3(0x1f2),a0_0x57c7f3(0x633),a0_0x57c7f3(0x13f),a0_0x57c7f3(0x51d),a0_0x57c7f3(0xee)]}}},re={'type':a0_0x57c7f3(0x5c6),'pattern':a0_0x57c7f3(0x3ad),'description':a0_0x57c7f3(0x1a8)},da={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...re},'options':{...Q},'textMessage':{'type':a0_0x57c7f3(0x30e),'properties':{'text':{'type':'string'}},'required':[a0_0x57c7f3(0x184)],...S(a0_0x57c7f3(0x184))}},'required':[a0_0x57c7f3(0x4ea),a0_0x57c7f3(0x3a9)]},pa={'type':a0_0x57c7f3(0x5c6),'pattern':a0_0x57c7f3(0x33b),'description':a0_0x57c7f3(0x1a8)},un={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'number':{...pa},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x57c7f3(0x5c6)}},'required':['text'],...S(a0_0x57c7f3(0x184))}},'required':[a0_0x57c7f3(0x4ea),a0_0x57c7f3(0x3a9)]},dn={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'number':{...pa},'options':{...Q},'mediaMessage':{'type':a0_0x57c7f3(0x30e),'properties':{'mediatype':{'type':a0_0x57c7f3(0x5c6),'enum':['image',a0_0x57c7f3(0x1b6),a0_0x57c7f3(0x216),a0_0x57c7f3(0x559)]},'media':{'type':a0_0x57c7f3(0x5c6)},'fileName':{'type':'string'},'caption':{'type':a0_0x57c7f3(0x5c6)}},'required':[a0_0x57c7f3(0x2e3),a0_0x57c7f3(0x18d)],...S('fileName',a0_0x57c7f3(0x263),a0_0x57c7f3(0x18d))}},'required':['mediaMessage',a0_0x57c7f3(0x3a9)]},ma={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...re},'options':{...Q},'stickerMessage':{'type':a0_0x57c7f3(0x30e),'properties':{'image':{'type':a0_0x57c7f3(0x5c6)}},'required':['image'],...S(a0_0x57c7f3(0x10d))}},'required':[a0_0x57c7f3(0x5ec),a0_0x57c7f3(0x3a9)]},ga={'$id':(0x0,C['v4'])(),'type':'object','properties':{'statusMessage':{'type':a0_0x57c7f3(0x30e),'properties':{'type':{'type':a0_0x57c7f3(0x5c6),'enum':[a0_0x57c7f3(0x184),a0_0x57c7f3(0x10d),a0_0x57c7f3(0x559),a0_0x57c7f3(0x216)]},'content':{'type':a0_0x57c7f3(0x5c6)},'caption':{'type':a0_0x57c7f3(0x5c6)},'backgroundColor':{'type':'string'},'font':{'type':a0_0x57c7f3(0x252),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x57c7f3(0x5c6),'pattern':a0_0x57c7f3(0x557),'description':a0_0x57c7f3(0x49b)}},'allContacts':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]}},'required':[a0_0x57c7f3(0x1ae),a0_0x57c7f3(0x595)],...S(a0_0x57c7f3(0x1ae),a0_0x57c7f3(0x595))}},'required':['statusMessage']},ha={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...re},'options':{...Q},'mediaMessage':{'type':a0_0x57c7f3(0x30e),'properties':{'mediatype':{'type':a0_0x57c7f3(0x5c6),'enum':['image',a0_0x57c7f3(0x1b6),a0_0x57c7f3(0x216),a0_0x57c7f3(0x559)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x57c7f3(0x5c6)}},'required':[a0_0x57c7f3(0x2e3),'media'],...S(a0_0x57c7f3(0x3df),'caption','media')}},'required':['mediaMessage','number']},fa={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'number':{...re},'options':{...Q},'audioMessage':{'type':a0_0x57c7f3(0x30e),'properties':{'audio':{'type':a0_0x57c7f3(0x5c6)}},'required':['audio'],...S(a0_0x57c7f3(0x559))}},'required':[a0_0x57c7f3(0x261),a0_0x57c7f3(0x3a9)]},wa={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'number':{...re},'pollMessage':{'type':a0_0x57c7f3(0x30e),'properties':{'name':{'type':a0_0x57c7f3(0x5c6)},'selectableCount':{'type':a0_0x57c7f3(0x3a9)},'values':{'type':a0_0x57c7f3(0x5d5),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x57c7f3(0x17c),'selectableCount',a0_0x57c7f3(0x3ed)],...S(a0_0x57c7f3(0x17c),a0_0x57c7f3(0x406),a0_0x57c7f3(0x3ed))}},'required':['number',a0_0x57c7f3(0x46c)]},ya={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'number':{...re},'options':{...Q},'buttonMessage':{'type':a0_0x57c7f3(0x30e),'properties':{'title':{'type':a0_0x57c7f3(0x5c6)},'description':{'type':a0_0x57c7f3(0x5c6)},'footerText':{'type':'string'},'buttons':{'type':a0_0x57c7f3(0x5d5),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x57c7f3(0x5c6)},'buttonId':{'type':a0_0x57c7f3(0x5c6)}},'required':[a0_0x57c7f3(0x110),a0_0x57c7f3(0xdb)],...S(a0_0x57c7f3(0x110),a0_0x57c7f3(0xdb))}},'mediaMessage':{'type':a0_0x57c7f3(0x30e),'properties':{'media':{'type':a0_0x57c7f3(0x5c6)},'fileName':{'type':a0_0x57c7f3(0x5c6)},'mediatype':{'type':a0_0x57c7f3(0x5c6),'enum':[a0_0x57c7f3(0x10d),'document',a0_0x57c7f3(0x216)]}},'required':[a0_0x57c7f3(0x18d),'mediatype'],...S(a0_0x57c7f3(0x18d),'fileName')}},'required':['title',a0_0x57c7f3(0x4f1)],...S(a0_0x57c7f3(0x2c7),a0_0x57c7f3(0x4b9))}},'required':[a0_0x57c7f3(0x3a9),a0_0x57c7f3(0x36c)]},ba={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'number':{...re},'options':{...Q},'locationMessage':{'type':a0_0x57c7f3(0x30e),'properties':{'latitude':{'type':a0_0x57c7f3(0x3a9)},'longitude':{'type':'number'},'name':{'type':a0_0x57c7f3(0x5c6)},'address':{'type':a0_0x57c7f3(0x5c6)}},'required':[a0_0x57c7f3(0x21b),a0_0x57c7f3(0x51b)],...S(a0_0x57c7f3(0x17c),'addresss')}},'required':[a0_0x57c7f3(0x3a9),a0_0x57c7f3(0x2e0)]},Sa={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'number':{...re},'options':{...Q},'listMessage':{'type':a0_0x57c7f3(0x30e),'properties':{'title':{'type':a0_0x57c7f3(0x5c6)},'description':{'type':a0_0x57c7f3(0x5c6)},'footerText':{'type':a0_0x57c7f3(0x5c6)},'buttonText':{'type':a0_0x57c7f3(0x5c6)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x57c7f3(0x30e),'properties':{'title':{'type':a0_0x57c7f3(0x5c6)},'rows':{'type':a0_0x57c7f3(0x5d5),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x57c7f3(0x5c6)},'description':{'type':'string'},'rowId':{'type':a0_0x57c7f3(0x5c6)}},'required':['title',a0_0x57c7f3(0x4b9),a0_0x57c7f3(0x5a2)],...S('title',a0_0x57c7f3(0x4b9),a0_0x57c7f3(0x5a2))}}},'required':['title',a0_0x57c7f3(0x283)],...S('title')}}},'required':[a0_0x57c7f3(0x2c7),a0_0x57c7f3(0x4b9),a0_0x57c7f3(0x110),a0_0x57c7f3(0x30d)],...S(a0_0x57c7f3(0x2c7),a0_0x57c7f3(0x4b9),a0_0x57c7f3(0x110),a0_0x57c7f3(0x547))}},'required':[a0_0x57c7f3(0x3a9),a0_0x57c7f3(0x111)]},Ea={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'number':{...re},'options':{...Q},'contactMessage':{'type':'array','items':{'type':a0_0x57c7f3(0x30e),'properties':{'fullName':{'type':a0_0x57c7f3(0x5c6)},'phoneNumber':{'type':a0_0x57c7f3(0x5c6),'minLength':0xa}},'required':[a0_0x57c7f3(0x64c),'phoneNumber'],...S(a0_0x57c7f3(0x64c))},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x57c7f3(0x5c3)]},Ca={'$id':(0x0,C['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x57c7f3(0x30e),'properties':{'key':{'type':a0_0x57c7f3(0x30e),'properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x57c7f3(0x5c6)},'fromMe':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x57c7f3(0x5c2)],...S('id',a0_0x57c7f3(0x11f))},'reaction':{'type':a0_0x57c7f3(0x5c6)}},'required':[a0_0x57c7f3(0x572),'reaction'],...S(a0_0x57c7f3(0x34b))}},'required':[a0_0x57c7f3(0x12b)]},Na={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'numbers':{'type':a0_0x57c7f3(0x5d5),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x57c7f3(0x557),'description':a0_0x57c7f3(0xd0)}}}},va={'$id':(0x0,C['v4'])(),'type':'object','properties':{'readMessages':{'type':a0_0x57c7f3(0x5d5),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x57c7f3(0x5c6)},'fromMe':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'remoteJid':{'type':'string'}},'required':['id',a0_0x57c7f3(0x5c2),'remoteJid'],...S('id',a0_0x57c7f3(0x11f))}}},'required':[a0_0x57c7f3(0x356)]},Ta={'$id':(0x0,C['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x57c7f3(0x30e),'properties':{'readreceipts':{'type':a0_0x57c7f3(0x5c6),'enum':['all',a0_0x57c7f3(0x3ca)]},'profile':{'type':'string','enum':[a0_0x57c7f3(0xf0),a0_0x57c7f3(0x164),a0_0x57c7f3(0x659),'none']},'status':{'type':'string','enum':['all',a0_0x57c7f3(0x164),'contact_blacklist',a0_0x57c7f3(0x3ca)]},'online':{'type':'string','enum':['all','match_last_seen']},'last':{'type':a0_0x57c7f3(0x5c6),'enum':[a0_0x57c7f3(0xf0),a0_0x57c7f3(0x164),a0_0x57c7f3(0x659),'none']},'groupadd':{'type':a0_0x57c7f3(0x5c6),'enum':[a0_0x57c7f3(0xf0),'contacts',a0_0x57c7f3(0x659),a0_0x57c7f3(0x3ca)]}},'required':[a0_0x57c7f3(0x243),a0_0x57c7f3(0x459),a0_0x57c7f3(0x255),a0_0x57c7f3(0x2fa),a0_0x57c7f3(0x20f),a0_0x57c7f3(0x57b)],...S(a0_0x57c7f3(0x243),a0_0x57c7f3(0x459),a0_0x57c7f3(0x255),a0_0x57c7f3(0x2fa),a0_0x57c7f3(0x20f),'groupadd')}},'required':[a0_0x57c7f3(0x31e)]},Ra={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'lastMessage':{'type':a0_0x57c7f3(0x30e),'properties':{'key':{'type':a0_0x57c7f3(0x30e),'properties':{'id':{'type':a0_0x57c7f3(0x5c6)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]}},'required':['id',a0_0x57c7f3(0x5c2),a0_0x57c7f3(0x11f)],...S('id',a0_0x57c7f3(0x11f))},'messageTimestamp':{'type':a0_0x57c7f3(0x252),'minLength':0x1}},'required':[a0_0x57c7f3(0x572)],...S(a0_0x57c7f3(0x60c))},'archive':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]}},'required':[a0_0x57c7f3(0x1a6),'archive']},Ma={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'id':{'type':a0_0x57c7f3(0x5c6)},'fromMe':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x57c7f3(0x5c6)},'participant':{'type':a0_0x57c7f3(0x5c6)}},'required':['id',a0_0x57c7f3(0x5c2),a0_0x57c7f3(0x11f)],...S('id','remoteJid',a0_0x57c7f3(0x5f3))},Aa={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'where':{'type':a0_0x57c7f3(0x30e),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x57c7f3(0x5c6),'minLength':0x1},'id':{'type':a0_0x57c7f3(0x5c6),'minLength':0x1}},...S('_id','id',a0_0x57c7f3(0x2b8))}}},Ia={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'name':{'type':a0_0x57c7f3(0x5c6)}},...S(a0_0x57c7f3(0x17c))},Da={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'status':{'type':a0_0x57c7f3(0x5c6)}},...S(a0_0x57c7f3(0x255))},Te={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'number':{'type':a0_0x57c7f3(0x5c6)},'picture':{'type':a0_0x57c7f3(0x5c6)}}},Oa={'type':a0_0x57c7f3(0x30e),'properties':{'wuid':{'type':'string'},'name':{'type':'string'},'picture':{'type':'string'},'status':{'type':a0_0x57c7f3(0x5c6)},'isBusiness':{'type':a0_0x57c7f3(0x56f)}}},Pa={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'where':{'type':a0_0x57c7f3(0x30e),'properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x57c7f3(0x30e),'if':{'propertyNames':{'enum':[a0_0x57c7f3(0x5c2),a0_0x57c7f3(0x11f),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x57c7f3(0x5c6),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x57c7f3(0x5c6),'minLength':0x1,'description':a0_0x57c7f3(0x41e)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...S(a0_0x57c7f3(0x42b))},'limit':{'type':'integer'}}},_a={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'where':{'type':a0_0x57c7f3(0x30e),'properties':{'_id':{'type':a0_0x57c7f3(0x5c6)},'remoteJid':{'type':a0_0x57c7f3(0x5c6)},'id':{'type':a0_0x57c7f3(0x5c6)},'fromMe':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x57c7f3(0x5c6),'enum':[a0_0x57c7f3(0x4b1),a0_0x57c7f3(0x282),a0_0x57c7f3(0x566),a0_0x57c7f3(0x45f),a0_0x57c7f3(0x17f),a0_0x57c7f3(0x427)]}},...S(a0_0x57c7f3(0x42b),a0_0x57c7f3(0x11f),'id',a0_0x57c7f3(0x255))},'limit':{'type':'integer'}}},xa={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'subject':{'type':a0_0x57c7f3(0x5c6)},'description':{'type':a0_0x57c7f3(0x5c6)},'profilePicture':{'type':a0_0x57c7f3(0x5c6)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x57c7f3(0x38e),'description':a0_0x57c7f3(0x5cc)}}},'required':['subject',a0_0x57c7f3(0x208)],...S(a0_0x57c7f3(0x4cf),'description','profilePicture')},Re={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x57c7f3(0x5c6),'pattern':a0_0x57c7f3(0x588)}},'required':[a0_0x57c7f3(0x25c)],...S(a0_0x57c7f3(0x25c))},$a={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'groupJid':{'type':a0_0x57c7f3(0x5c6)},'action':{'type':a0_0x57c7f3(0x5c6),'enum':[a0_0x57c7f3(0x4b7),'remove','promote',a0_0x57c7f3(0x43a)]},'participants':{'type':a0_0x57c7f3(0x5d5),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x57c7f3(0x5c6),'minLength':0xa,'pattern':'\x5cd+','description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x57c7f3(0x25c),a0_0x57c7f3(0x44b),'participants'],...S(a0_0x57c7f3(0x25c),a0_0x57c7f3(0x44b))},ka={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'groupJid':{'type':'string'},'expiration':{'type':a0_0x57c7f3(0x3a9),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x57c7f3(0x25c),'expiration'],...S(a0_0x57c7f3(0x25c),'expiration')},La={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'groupJid':{'type':a0_0x57c7f3(0x5c6)},'image':{'type':a0_0x57c7f3(0x5c6)}},'required':[a0_0x57c7f3(0x25c),'image'],...S(a0_0x57c7f3(0x25c),a0_0x57c7f3(0x10d))},Ua={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'groupJid':{'type':a0_0x57c7f3(0x5c6)},'description':{'type':a0_0x57c7f3(0x5c6)}},'required':[a0_0x57c7f3(0x25c),a0_0x57c7f3(0x4b9)],...S(a0_0x57c7f3(0x25c),a0_0x57c7f3(0x4b9))},Va={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'groupJid':{'type':a0_0x57c7f3(0x5c6)},'name':{'type':'string'}},'required':[a0_0x57c7f3(0x25c),a0_0x57c7f3(0x17c)],...S(a0_0x57c7f3(0x25c),a0_0x57c7f3(0x17c))},ja={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'groupJid':{'type':a0_0x57c7f3(0x5c6)},'setting':{'type':a0_0x57c7f3(0x5c6),'enum':['announcement',a0_0x57c7f3(0x15d),a0_0x57c7f3(0x1b2),a0_0x57c7f3(0xd9)]}},'required':[a0_0x57c7f3(0x25c),a0_0x57c7f3(0x628)],...S(a0_0x57c7f3(0x25c),a0_0x57c7f3(0x628))},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x57c7f3(0x30e),'properties':{'inviteCode':{'type':a0_0x57c7f3(0x5c6)}},'required':[a0_0x57c7f3(0x552)],...S(a0_0x57c7f3(0x552))},Fa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'url':{'type':a0_0x57c7f3(0x5c6)},'enabled':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]}},'required':[a0_0x57c7f3(0x3c6),a0_0x57c7f3(0x11e)]},pn={'$id':(0x0,C['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x57c7f3(0x56f),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0x57c7f3(0x62a),'QRCODE_UPDATED',a0_0x57c7f3(0x214),a0_0x57c7f3(0x15e),a0_0x57c7f3(0x1e0),'SEND_MESSAGE','CONTACTS_SET',a0_0x57c7f3(0x5d0),a0_0x57c7f3(0x42f),a0_0x57c7f3(0x59c),a0_0x57c7f3(0x13c),a0_0x57c7f3(0x23d),a0_0x57c7f3(0x597),a0_0x57c7f3(0x213),a0_0x57c7f3(0x12c),a0_0x57c7f3(0x5cf),a0_0x57c7f3(0x297),'GROUP_PARTICIPANTS_UPDATE'],...S(a0_0x57c7f3(0x5ff),a0_0x57c7f3(0x62a),'QRCODE_UPDATED',a0_0x57c7f3(0x214),'MESSAGES_UPDATE',a0_0x57c7f3(0x1e0),a0_0x57c7f3(0x3d5),a0_0x57c7f3(0x2aa),'CONTACTS_UPSERT',a0_0x57c7f3(0x42f),'PRESENCE_UPDATE','CHATS_SET',a0_0x57c7f3(0x23d),a0_0x57c7f3(0x597),a0_0x57c7f3(0x213),a0_0x57c7f3(0x12c),a0_0x57c7f3(0x5cf),a0_0x57c7f3(0x297),a0_0x57c7f3(0x353))},Ae=require('fs'),Me=require(a0_0x57c7f3(0x272)),Xe=class{},Ze=class extends j{constructor(_0x45ba1d,_0x2741b4){const _0x4ed67a=a0_0x57c7f3;super(_0x2741b4),this[_0x4ed67a(0x533)]=_0x45ba1d,this[_0x4ed67a(0x2f8)]=_0x2741b4;}async['insert'](_0x3d921a,_0x50dbc3=!0x1){const _0x4043d2=a0_0x57c7f3;if(_0x3d921a[_0x4043d2(0x438)]!==0x0)try{return this[_0x4043d2(0x142)]['ENABLED']&&_0x50dbc3?{'insertCount':(await this[_0x4043d2(0x533)][_0x4043d2(0x400)]([..._0x3d921a]))['length']}:(_0x3d921a['forEach'](_0x194473=>{const _0x3aab7a=_0x4043d2;this[_0x3aab7a(0x102)]({'path':(0x0,Me['join'])(this[_0x3aab7a(0x636)],_0x3aab7a(0x164),_0x194473[_0x3aab7a(0x277)]),'fileName':_0x194473['id'],'data':_0x194473});}),{'insertCount':_0x3d921a[_0x4043d2(0x438)]});}catch(_0x1ad515){return _0x1ad515;}finally{_0x3d921a=void 0x0;}}async['delete'](_0x424b57){const _0x540968=a0_0x57c7f3;try{return this[_0x540968(0x142)]['ENABLED']?await this[_0x540968(0x533)][_0x540968(0x318)]({..._0x424b57[_0x540968(0x276)]}):{'deleted':{'contact':_0x424b57[_0x540968(0x276)]['id']}};}catch(_0x4f4ebd){return{'error':_0x4f4ebd?.[_0x540968(0x5d3)]()};}}async[a0_0x57c7f3(0x4b8)](_0x3a5f6e,_0x18c5a1=!0x1){const _0x43d6b2=a0_0x57c7f3;try{if(_0x3a5f6e[_0x43d6b2(0x438)]===0x0)return;if(this[_0x43d6b2(0x142)][_0x43d6b2(0x528)]&&_0x18c5a1){let _0x2eabf6=_0x3a5f6e[_0x43d6b2(0x1bd)](_0x5987f7=>({'updateOne':{'filter':{'id':_0x5987f7['id']},'update':{..._0x5987f7},'upsert':!0x0}})),{nModified:_0x1c42c7}=await this[_0x43d6b2(0x533)][_0x43d6b2(0x54f)](_0x2eabf6);return{'insertCount':_0x1c42c7};}}catch{return;}}async[a0_0x57c7f3(0x354)](_0x26e7bb){const _0x30aea0=a0_0x57c7f3;try{if(this[_0x30aea0(0x142)]['ENABLED'])return await this['contactModel'][_0x30aea0(0x354)]({..._0x26e7bb[_0x30aea0(0x276)]});let _0x29e0e0=[];if(_0x26e7bb?.[_0x30aea0(0x276)]?.['id'])_0x29e0e0[_0x30aea0(0x524)](JSON[_0x30aea0(0x42c)]((0x0,Ae['readFileSync'])((0x0,Me[_0x30aea0(0x1b9)])(this[_0x30aea0(0x636)],'contacts',_0x26e7bb[_0x30aea0(0x276)][_0x30aea0(0x277)],_0x26e7bb[_0x30aea0(0x276)]['id']+_0x30aea0(0x4b6)),{'encoding':'utf-8'})));else{let _0x44bb42=(0x0,Ae[_0x30aea0(0x1b7)])((0x0,Me[_0x30aea0(0x1b9)])(this[_0x30aea0(0x636)],_0x30aea0(0x164),_0x26e7bb['where'][_0x30aea0(0x277)]),{'encoding':_0x30aea0(0x64b)});for await(let _0x223855 of _0x44bb42)_0x223855['isFile']()&&_0x29e0e0['push'](JSON['parse']((0x0,Ae[_0x30aea0(0x503)])((0x0,Me[_0x30aea0(0x1b9)])(this[_0x30aea0(0x636)],'contacts',_0x26e7bb[_0x30aea0(0x276)][_0x30aea0(0x277)],_0x223855[_0x30aea0(0x17c)]),{'encoding':_0x30aea0(0x64b)})));}return _0x29e0e0;}catch{return[];}}},et=require(a0_0x57c7f3(0x25e)),yn=require(a0_0x57c7f3(0x29e)),ms=new v(a0_0x57c7f3(0x135)),_=class{constructor(){}[a0_0x57c7f3(0x403)](_0x456f06,_0x1d75e7=!0x0){const _0x3b104f=a0_0x57c7f3;let _0x36adee='/'+_0x456f06;return _0x1d75e7&&(_0x36adee+=_0x3b104f(0x2fb)),_0x36adee;}async[a0_0x57c7f3(0x61f)](_0x35fd99){const _0x1f3aa5=a0_0x57c7f3;let {request:_0x4420bf,schema:_0x101fe9,ClassRef:_0x27304f,execute:_0x419e7c}=_0x35fd99,_0x29a9b9=new _0x27304f(),_0x58319f=_0x4420bf[_0x1f3aa5(0x5f2)],_0x6c73c0=_0x4420bf[_0x1f3aa5(0x4fd)];_0x4420bf?.[_0x1f3aa5(0x1e8)]&&Object[_0x1f3aa5(0x53a)](_0x4420bf[_0x1f3aa5(0x1e8)])[_0x1f3aa5(0x438)]>0x0&&Object['assign'](_0x6c73c0,_0x4420bf[_0x1f3aa5(0x1e8)]),_0x4420bf[_0x1f3aa5(0x5c9)][_0x1f3aa5(0x3b6)](_0x1f3aa5(0x2f2))&&Object[_0x1f3aa5(0x33e)](_0x6c73c0,_0x58319f),Object['assign'](_0x29a9b9,_0x58319f);let _0xf6ef0f=_0x101fe9?(0x0,et[_0x1f3aa5(0x422)])(_0x29a9b9,_0x101fe9):{'valid':!0x0,'errors':[]};if(!_0xf6ef0f['valid']){let _0x51804e=_0xf6ef0f['errors'][_0x1f3aa5(0x1bd)](({property:_0x515fd1,stack:_0x180f53,schema:_0x782419})=>{const _0x47996f=_0x1f3aa5;let _0x139f74;return _0x782419[_0x47996f(0x4b9)]?_0x139f74=_0x782419['description']:_0x139f74=_0x180f53[_0x47996f(0x289)](_0x47996f(0x53d),''),{'property':_0x515fd1[_0x47996f(0x289)](_0x47996f(0x53d),''),'message':_0x139f74};});throw ms[_0x1f3aa5(0x5e3)]([..._0x51804e]),new m(..._0x51804e);}return await _0x419e7c(_0x6c73c0,_0x29a9b9);}async[a0_0x57c7f3(0x186)](_0x334436){const _0x527819=a0_0x57c7f3;let {request:_0x580d6c,ClassRef:_0x2acd77,schema:_0x2563d9,execute:_0x57397e}=_0x334436,_0x567a9a=_0x580d6c[_0x527819(0x1e8)];if(!_0x567a9a?.[_0x527819(0x25c)])throw new m(_0x527819(0x55e),_0x527819(0x215));let _0x599177=_0x580d6c[_0x527819(0x4fd)],_0x5b5525=_0x580d6c[_0x527819(0x5f2)],_0x5a8839=new _0x2acd77();Object[_0x527819(0x33e)](_0x5b5525,_0x567a9a),Object[_0x527819(0x33e)](_0x5a8839,_0x5b5525);let _0x1dcffc=(0x0,et[_0x527819(0x422)])(_0x5a8839,_0x2563d9);if(!_0x1dcffc[_0x527819(0x46e)]){let _0x325b9c=_0x1dcffc['errors'][_0x527819(0x1bd)](({property:_0x2bbfff,stack:_0x177e1b,schema:_0x4f2ab7})=>{const _0x1d9bee=_0x527819;let _0x596293;return _0x4f2ab7['description']?_0x596293=_0x4f2ab7[_0x1d9bee(0x4b9)]:_0x596293=_0x177e1b[_0x1d9bee(0x289)]('instance.',''),{'property':_0x2bbfff['replace'](_0x1d9bee(0x53d),''),'message':_0x596293};});throw ms[_0x527819(0x5e3)]([..._0x325b9c]),new m(..._0x325b9c);}return await _0x57397e(_0x599177,_0x5a8839);}async['joinGroupValidate'](_0x488945){const _0x33bf03=a0_0x57c7f3;let {request:_0x3cfbf5,ClassRef:_0x3543f7,schema:_0x5ef08c,execute:_0x5790fa}=_0x488945,_0x168e3f=_0x3cfbf5['body'];if(!_0x168e3f?.[_0x33bf03(0x552)])throw new m('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body',_0x33bf03(0x2b4));let _0x615506=_0x3cfbf5['params'],_0x473838=_0x3cfbf5[_0x33bf03(0x5f2)],_0x616d72=new _0x3543f7();Object[_0x33bf03(0x33e)](_0x473838,_0x168e3f),Object['assign'](_0x616d72,_0x473838);let _0x46e270=(0x0,et[_0x33bf03(0x422)])(_0x616d72,_0x5ef08c);if(!_0x46e270[_0x33bf03(0x46e)]){let _0x3ed06e=_0x46e270['errors'][_0x33bf03(0x1bd)](({property:_0x416909,stack:_0x5a6ace,schema:_0x1c7131})=>{const _0x14de1b=_0x33bf03;let _0x4b312d;return _0x1c7131[_0x14de1b(0x4b9)]?_0x4b312d=_0x1c7131['description']:_0x4b312d=_0x5a6ace[_0x14de1b(0x289)]('instance.',''),{'property':_0x416909['replace'](_0x14de1b(0x53d),''),'message':_0x4b312d};});throw ms[_0x33bf03(0x5e3)]([..._0x3ed06e]),new m(..._0x3ed06e);}return await _0x5790fa(_0x615506,_0x616d72);}},Ie=require('path'),De=require('fs'),tt=class{},st=class extends j{constructor(_0x47fc0c,_0x2a94c5){const _0x14178d=a0_0x57c7f3;super(_0x2a94c5),this[_0x14178d(0x5f0)]=_0x47fc0c,this[_0x14178d(0x2f8)]=_0x2a94c5;}async[a0_0x57c7f3(0x35f)](_0x3e5a88,_0x574247){const _0xa74881=a0_0x57c7f3;if(_0x3e5a88[_0xa74881(0x438)]!==0x0)try{if(this['dbSettings']['ENABLED']&&_0x574247)return{'insertCount':(await this[_0xa74881(0x5f0)][_0xa74881(0x400)]([..._0x3e5a88]))[_0xa74881(0x438)]};_0x3e5a88['forEach'](_0x4f7d20=>{const _0x2b0834=_0xa74881;this[_0x2b0834(0x102)]({'path':(0x0,Ie['join'])(this[_0x2b0834(0x636)],'message-up',_0x4f7d20[_0x2b0834(0x277)]),'fileName':_0x4f7d20['id'],'data':_0x4f7d20});});}catch(_0x3a76a7){return _0x3a76a7;}}async[a0_0x57c7f3(0x354)](_0x40721d){const _0x494a7d=a0_0x57c7f3;try{if(this[_0x494a7d(0x142)][_0x494a7d(0x528)])return await this['messageUpModel'][_0x494a7d(0x354)]({..._0x40721d[_0x494a7d(0x276)]})[_0x494a7d(0x65e)]({'datetime':-0x1})[_0x494a7d(0x609)](_0x40721d?.[_0x494a7d(0x609)]??0x0);let _0x3b8573=[];if(_0x40721d?.[_0x494a7d(0x276)]?.['id'])_0x3b8573['push'](JSON['parse']((0x0,De[_0x494a7d(0x503)])((0x0,Ie['join'])(this[_0x494a7d(0x636)],_0x494a7d(0x2b5),_0x40721d[_0x494a7d(0x276)]['owner'],_0x40721d[_0x494a7d(0x276)]['id']+_0x494a7d(0x4b6)),{'encoding':'utf-8'})));else{let _0x1ee783=(0x0,De[_0x494a7d(0x1b7)])((0x0,Ie[_0x494a7d(0x1b9)])(this[_0x494a7d(0x636)],_0x494a7d(0x2b5),_0x40721d[_0x494a7d(0x276)]['owner']),{'encoding':'utf-8'});for await(let _0x5f3224 of _0x1ee783)_0x5f3224[_0x494a7d(0x183)]()&&_0x3b8573[_0x494a7d(0x524)](JSON[_0x494a7d(0x42c)]((0x0,De[_0x494a7d(0x503)])((0x0,Ie[_0x494a7d(0x1b9)])(this[_0x494a7d(0x636)],'message-up',_0x40721d[_0x494a7d(0x276)][_0x494a7d(0x277)],_0x5f3224[_0x494a7d(0x17c)]),{'encoding':_0x494a7d(0x64b)})));}return _0x3b8573['sort']((_0x38cf81,_0x107022)=>_0x107022['datetime']-_0x38cf81[_0x494a7d(0x43d)])['splice'](0x0,_0x40721d?.['limit']??_0x3b8573['length']);}catch{return[];}}async[a0_0x57c7f3(0x497)](_0x423523){const _0x588b3e=a0_0x57c7f3;try{if(this['dbSettings'][_0x588b3e(0x528)])return await this[_0x588b3e(0x5f0)][_0x588b3e(0x318)]({..._0x423523[_0x588b3e(0x276)]});}catch(_0x5a5ee1){return console[_0x588b3e(0x5e3)](_0x588b3e(0x161),_0x5a5ee1),_0x5a5ee1;}}},b=class{},at=class extends _{constructor(..._0x35a417){const _0x3216dd=a0_0x57c7f3;super(),this[_0x3216dd(0xec)]=(0x0,Ga['Router'])(),this[_0x3216dd(0xec)][_0x3216dd(0x626)](this['routerPath'](_0x3216dd(0x2ac)),..._0x35a417,async(_0x30b10d,_0x255115)=>{const _0x3986f6=_0x3216dd;let _0x43dd82=await this[_0x3986f6(0x61f)]({'request':_0x30b10d,'schema':Na,'ClassRef':Ge,'execute':(_0x315783,_0x355467)=>P['whatsappNumber'](_0x315783,_0x355467)});return _0x255115['status'](0xc9)[_0x3986f6(0x587)](_0x43dd82);})[_0x3216dd(0x626)](this['routerPath']('editChat'),..._0x35a417,async(_0x4bca7b,_0x26ebee)=>{const _0x2bff31=_0x3216dd;let _0x1bacfd=await this[_0x2bff31(0x61f)]({'request':_0x4bca7b,'schema':N,'ClassRef':b,'execute':(_0x1b330b,_0x84ecf1)=>P[_0x2bff31(0x539)](_0x1b330b,_0x84ecf1)});return _0x26ebee[_0x2bff31(0x255)](0xc9)[_0x2bff31(0x587)](_0x1bacfd);})[_0x3216dd(0x36f)](this[_0x3216dd(0x403)](_0x3216dd(0x49a)),..._0x35a417,async(_0x217024,_0x43b200)=>{const _0xe110b7=_0x3216dd;let _0x56f68d=await this['dataValidate']({'request':_0x217024,'schema':va,'ClassRef':We,'execute':(_0x201a02,_0x54e300)=>P[_0xe110b7(0x27a)](_0x201a02,_0x54e300)});return _0x43b200[_0xe110b7(0x255)](0xc9)[_0xe110b7(0x587)](_0x56f68d);})['put'](this[_0x3216dd(0x403)](_0x3216dd(0x478)),..._0x35a417,async(_0x17c798,_0x304916)=>{const _0x181bb7=_0x3216dd;let _0xda648=await this[_0x181bb7(0x61f)]({'request':_0x17c798,'schema':Ra,'ClassRef':He,'execute':(_0x201536,_0x28ba9d)=>P[_0x181bb7(0x478)](_0x201536,_0x28ba9d)});return _0x304916[_0x181bb7(0x255)](0xc9)[_0x181bb7(0x587)](_0xda648);})[_0x3216dd(0x497)](this[_0x3216dd(0x403)](_0x3216dd(0xfa)),..._0x35a417,async(_0x27e7a5,_0x1969f9)=>{const _0x1121ca=_0x3216dd;let _0x1fec16=await this[_0x1121ca(0x61f)]({'request':_0x27e7a5,'schema':Ma,'ClassRef':ze,'execute':(_0x542a7d,_0x2a90c2)=>P[_0x1121ca(0x49e)](_0x542a7d,_0x2a90c2)});return _0x1969f9[_0x1121ca(0x255)](0xc9)[_0x1121ca(0x587)](_0x1fec16);})[_0x3216dd(0x626)](this['routerPath'](_0x3216dd(0x3e8)),..._0x35a417,async(_0x37a9f5,_0x23f636)=>{const _0x17ea76=_0x3216dd;let _0x377b81=await this[_0x17ea76(0x61f)]({'request':_0x37a9f5,'schema':Te,'ClassRef':ve,'execute':(_0x33344f,_0x5615da)=>P[_0x17ea76(0x3ae)](_0x33344f,_0x5615da)});return _0x23f636['status'](0xc8)['json'](_0x377b81);})[_0x3216dd(0x626)](this['routerPath'](_0x3216dd(0x26f)),..._0x35a417,async(_0x5bb435,_0x464c08)=>{const _0x2c8f2a=_0x3216dd;let _0x323b8e=await this[_0x2c8f2a(0x61f)]({'request':_0x5bb435,'schema':Oa,'ClassRef':ve,'execute':(_0x18d7cc,_0x2eb259)=>P[_0x2c8f2a(0x26f)](_0x18d7cc,_0x2eb259)});return _0x464c08[_0x2c8f2a(0x255)](0xc8)['json'](_0x323b8e);})[_0x3216dd(0x626)](this['routerPath'](_0x3216dd(0x4e5)),..._0x35a417,async(_0x7878d6,_0x27ae26)=>{const _0xa44367=_0x3216dd;let _0x4067c6=await this['dataValidate']({'request':_0x7878d6,'schema':Aa,'ClassRef':Xe,'execute':(_0x23c0ba,_0x4d6d0b)=>P[_0xa44367(0x32b)](_0x23c0ba,_0x4d6d0b)});return _0x27ae26['status'](0xc8)[_0xa44367(0x587)](_0x4067c6);})[_0x3216dd(0x626)](this[_0x3216dd(0x403)](_0x3216dd(0x515)),..._0x35a417,async(_0x2b1277,_0x4225fd)=>{const _0x441e56=_0x3216dd;let _0x25b348=await this[_0x441e56(0x61f)]({'request':_0x2b1277,'schema':null,'ClassRef':Object,'execute':(_0x2218ca,_0x389060)=>P[_0x441e56(0x515)](_0x2218ca,_0x389060)});return _0x4225fd['status'](0xc9)[_0x441e56(0x587)](_0x25b348);})[_0x3216dd(0x626)](this[_0x3216dd(0x403)](_0x3216dd(0x512)),..._0x35a417,async(_0x772a4b,_0x217330)=>{const _0x480bf3=_0x3216dd;let _0x49d552=await this[_0x480bf3(0x61f)]({'request':_0x772a4b,'schema':Pa,'ClassRef':Ve,'execute':(_0x3a8931,_0x441420)=>P[_0x480bf3(0x53c)](_0x3a8931,_0x441420)});return _0x217330[_0x480bf3(0x255)](0xc8)[_0x480bf3(0x587)](_0x49d552);})[_0x3216dd(0x626)](this[_0x3216dd(0x403)](_0x3216dd(0x567)),..._0x35a417,async(_0x46c580,_0x4fd2b2)=>{const _0x46f0b3=_0x3216dd;let _0x519239=await this['dataValidate']({'request':_0x46c580,'schema':_a,'ClassRef':tt,'execute':(_0x4ca824,_0x3f05f8)=>P[_0x46f0b3(0x455)](_0x4ca824,_0x3f05f8)});return _0x4fd2b2[_0x46f0b3(0x255)](0xc8)[_0x46f0b3(0x587)](_0x519239);})[_0x3216dd(0x141)](this['routerPath'](_0x3216dd(0x3ff)),..._0x35a417,async(_0x319a86,_0x35e210)=>{const _0x432c7e=_0x3216dd;let _0x4a7c57=await this[_0x432c7e(0x61f)]({'request':_0x319a86,'schema':null,'ClassRef':b,'execute':_0x42acbe=>P[_0x432c7e(0x371)](_0x42acbe)});return _0x35e210['status'](0xc8)[_0x432c7e(0x587)](_0x4a7c57);})[_0x3216dd(0x141)](this[_0x3216dd(0x403)](_0x3216dd(0x1f1)),..._0x35a417,async(_0x1a37c2,_0x3a38e2)=>{const _0x18ebe7=_0x3216dd;let _0x4c8761=await this[_0x18ebe7(0x61f)]({'request':_0x1a37c2,'schema':null,'ClassRef':b,'execute':_0x50bc79=>P[_0x18ebe7(0x1f1)](_0x50bc79)});return _0x3a38e2[_0x18ebe7(0x255)](0xc8)[_0x18ebe7(0x587)](_0x4c8761);})['put'](this[_0x3216dd(0x403)]('updatePrivacySettings'),..._0x35a417,async(_0x32c77f,_0x49b86b)=>{const _0x9ad293=_0x3216dd;let _0x415679=await this[_0x9ad293(0x61f)]({'request':_0x32c77f,'schema':Ta,'ClassRef':Ke,'execute':(_0x27603c,_0x241bbf)=>P[_0x9ad293(0x20c)](_0x27603c,_0x241bbf)});return _0x49b86b[_0x9ad293(0x255)](0xc9)[_0x9ad293(0x587)](_0x415679);})[_0x3216dd(0x626)](this[_0x3216dd(0x403)](_0x3216dd(0x21f)),..._0x35a417,async(_0x5ca1e1,_0x78f602)=>{const _0x41b069=_0x3216dd;let _0x8b879b=await this[_0x41b069(0x61f)]({'request':_0x5ca1e1,'schema':Te,'ClassRef':fe,'execute':(_0x38922b,_0x509977)=>P['fetchBusinessProfile'](_0x38922b,_0x509977)});return _0x78f602[_0x41b069(0x255)](0xc8)['json'](_0x8b879b);})[_0x3216dd(0x626)](this['routerPath'](_0x3216dd(0x59a)),..._0x35a417,async(_0x17e287,_0x1dd5b1)=>{const _0xa366dc=_0x3216dd;let _0x16b7c8=await this[_0xa366dc(0x61f)]({'request':_0x17e287,'schema':Ia,'ClassRef':qe,'execute':(_0x10ac7d,_0x586761)=>P[_0xa366dc(0x59a)](_0x10ac7d,_0x586761)});return _0x1dd5b1[_0xa366dc(0x255)](0xc8)['json'](_0x16b7c8);})[_0x3216dd(0x626)](this['routerPath'](_0x3216dd(0x55a)),..._0x35a417,async(_0x1bde8c,_0x1c6506)=>{const _0x21b6dd=_0x3216dd;let _0x374721=await this[_0x21b6dd(0x61f)]({'request':_0x1bde8c,'schema':Da,'ClassRef':Je,'execute':(_0x481418,_0x5dd1db)=>P[_0x21b6dd(0x55a)](_0x481418,_0x5dd1db)});return _0x1c6506[_0x21b6dd(0x255)](0xc8)[_0x21b6dd(0x587)](_0x374721);})['put'](this[_0x3216dd(0x403)](_0x3216dd(0x3f5)),..._0x35a417,async(_0x384407,_0x1f0c71)=>{const _0x5193cc=_0x3216dd;let _0x3a3964=await this[_0x5193cc(0x61f)]({'request':_0x384407,'schema':Te,'ClassRef':fe,'execute':(_0x5abb69,_0x19be16)=>P[_0x5193cc(0x3f5)](_0x5abb69,_0x19be16)});return _0x1f0c71[_0x5193cc(0x255)](0xc8)['json'](_0x3a3964);})['delete'](this[_0x3216dd(0x403)](_0x3216dd(0x5fe)),..._0x35a417,async(_0x101fda,_0x524151)=>{const _0x5d1897=_0x3216dd;let _0x2ca647=await this['dataValidate']({'request':_0x101fda,'schema':Te,'ClassRef':fe,'execute':(_0x3e0a9e,_0x4439dc)=>P[_0x5d1897(0x5fe)](_0x3e0a9e,_0x4439dc)});return _0x524151[_0x5d1897(0x255)](0xc8)[_0x5d1897(0x587)](_0x2ca647);});}},qa=require('express'),ot=class{},it=class{},rt=class{},nt=class{},ct=class{},Y=class{},lt=class{},ut=class extends Y{},dt=class extends Y{},pt=class extends _{constructor(..._0x501f90){const _0x3928f7=a0_0x57c7f3;super(),this[_0x3928f7(0xec)]=(0x0,qa[_0x3928f7(0x53f)])(),this[_0x3928f7(0xec)][_0x3928f7(0x626)](this[_0x3928f7(0x403)](_0x3928f7(0x411)),..._0x501f90,async(_0x2520bb,_0x333f8a)=>{const _0x3aee32=_0x3928f7;let _0x407dab=await this['dataValidate']({'request':_0x2520bb,'schema':xa,'ClassRef':ot,'execute':(_0xa898f,_0x15b3a3)=>U[_0x3aee32(0x1f9)](_0xa898f,_0x15b3a3)});_0x333f8a[_0x3aee32(0x255)](0xc9)[_0x3aee32(0x587)](_0x407dab);})['put'](this['routerPath'](_0x3928f7(0x1e1)),..._0x501f90,async(_0x5c7671,_0x604ec2)=>{const _0x3d4042=_0x3928f7;let _0xaa3d1a=await this[_0x3d4042(0x186)]({'request':_0x5c7671,'schema':La,'ClassRef':it,'execute':(_0x16c405,_0x18d2e8)=>U[_0x3d4042(0x1e1)](_0x16c405,_0x18d2e8)});_0x604ec2[_0x3d4042(0x255)](0xc9)[_0x3d4042(0x587)](_0xaa3d1a);})['put'](this[_0x3928f7(0x403)](_0x3928f7(0x577)),..._0x501f90,async(_0x45d89d,_0x48ae4c)=>{const _0x250cc5=_0x3928f7;let _0x21a766=await this[_0x250cc5(0x186)]({'request':_0x45d89d,'schema':Ua,'ClassRef':rt,'execute':(_0x4bc3bf,_0x2437a9)=>U[_0x250cc5(0x577)](_0x4bc3bf,_0x2437a9)});_0x48ae4c[_0x250cc5(0x255)](0xc9)[_0x250cc5(0x587)](_0x21a766);})[_0x3928f7(0x36f)](this['routerPath'](_0x3928f7(0x568)),..._0x501f90,async(_0x1bd383,_0x5ef174)=>{const _0x232cba=_0x3928f7;let _0x3933fc=await this[_0x232cba(0x186)]({'request':_0x1bd383,'schema':Va,'ClassRef':nt,'execute':(_0x1148c4,_0x5e61fb)=>U[_0x232cba(0x568)](_0x1148c4,_0x5e61fb)});_0x5ef174['status'](0xc9)[_0x232cba(0x587)](_0x3933fc);})[_0x3928f7(0x36f)](this[_0x3928f7(0x403)](_0x3928f7(0x328)),..._0x501f90,async(_0x5cbc3f,_0x512336)=>{const _0x34fb3b=_0x3928f7;let _0x1408d3=await this['groupValidate']({'request':_0x5cbc3f,'schema':ja,'ClassRef':ct,'execute':(_0x2121c1,_0x5ee9d2)=>U['groupSetting'](_0x2121c1,_0x5ee9d2)});_0x512336[_0x34fb3b(0x255)](0xc9)[_0x34fb3b(0x587)](_0x1408d3);})[_0x3928f7(0x36f)](this[_0x3928f7(0x403)]('toggleEphemeral'),..._0x501f90,async(_0x4213b2,_0x2a394c)=>{const _0x6f744=_0x3928f7;let _0x3c06d8=await this[_0x6f744(0x186)]({'request':_0x4213b2,'schema':ka,'ClassRef':dt,'execute':(_0x358c03,_0x5eae71)=>U[_0x6f744(0x48e)](_0x358c03,_0x5eae71)});_0x2a394c[_0x6f744(0x255)](0xc9)[_0x6f744(0x587)](_0x3c06d8);})[_0x3928f7(0x141)](this[_0x3928f7(0x403)]('findGroupInfos'),..._0x501f90,async(_0x208fc0,_0x542e60)=>{const _0x6e882b=_0x3928f7;let _0x55486f=await this[_0x6e882b(0x186)]({'request':_0x208fc0,'schema':Re,'ClassRef':Y,'execute':(_0x46336f,_0x493de9)=>U[_0x6e882b(0x1ba)](_0x46336f,_0x493de9)});_0x542e60[_0x6e882b(0x255)](0xc8)['json'](_0x55486f);})[_0x3928f7(0x141)](this[_0x3928f7(0x403)]('findGroups'),..._0x501f90,async(_0x3bae8b,_0x5f5d9e)=>{const _0x3db877=_0x3928f7;let _0x452779=await this[_0x3db877(0x61f)]({'request':_0x3bae8b,'schema':N,'ClassRef':b,'execute':_0x22c33f=>U[_0x3db877(0x639)](_0x22c33f)});_0x5f5d9e[_0x3db877(0x255)](0xc8)[_0x3db877(0x587)](_0x452779);})[_0x3928f7(0x141)](this['routerPath']('participants'),..._0x501f90,async(_0x4aa57a,_0x57f0c4)=>{const _0x2efb9f=_0x3928f7;let _0x3f0b81=await this[_0x2efb9f(0x186)]({'request':_0x4aa57a,'schema':Re,'ClassRef':Y,'execute':(_0x586a08,_0x56f611)=>U[_0x2efb9f(0x60f)](_0x586a08,_0x56f611)});_0x57f0c4[_0x2efb9f(0x255)](0xc8)[_0x2efb9f(0x587)](_0x3f0b81);})[_0x3928f7(0x141)](this[_0x3928f7(0x403)](_0x3928f7(0x552)),..._0x501f90,async(_0x5210d1,_0x3036ce)=>{const _0x1be331=_0x3928f7;let _0x2123a1=await this[_0x1be331(0x186)]({'request':_0x5210d1,'schema':Re,'ClassRef':Y,'execute':(_0xee70a0,_0x244d75)=>U[_0x1be331(0x552)](_0xee70a0,_0x244d75)});_0x3036ce[_0x1be331(0x255)](0xc8)[_0x1be331(0x587)](_0x2123a1);})['put'](this['routerPath'](_0x3928f7(0x652)),..._0x501f90,async(_0x30289e,_0x1e1b61)=>{const _0x47ee37=_0x3928f7;let _0x457b3a=await this[_0x47ee37(0x5df)]({'request':_0x30289e,'schema':Ba,'ClassRef':lt,'execute':(_0x48a917,_0x2d28d2)=>U['joinGroup'](_0x48a917,_0x2d28d2)});_0x1e1b61[_0x47ee37(0x255)](0xc9)[_0x47ee37(0x587)](_0x457b3a);})['put'](this['routerPath'](_0x3928f7(0x578)),..._0x501f90,async(_0x2dcc1d,_0x4ce937)=>{const _0x329b5f=_0x3928f7;let _0x4562c7=await this[_0x329b5f(0x186)]({'request':_0x2dcc1d,'schema':Re,'ClassRef':Y,'execute':(_0x1e063c,_0x130c3c)=>U[_0x329b5f(0x578)](_0x1e063c,_0x130c3c)});_0x4ce937[_0x329b5f(0x255)](0xc9)['json'](_0x4562c7);})[_0x3928f7(0x36f)](this[_0x3928f7(0x403)](_0x3928f7(0x329)),..._0x501f90,async(_0x179784,_0x598e4f)=>{const _0x4f25ba=_0x3928f7;let _0x6a71d0=await this['groupValidate']({'request':_0x179784,'schema':$a,'ClassRef':ut,'execute':(_0x37810a,_0x699a73)=>U[_0x4f25ba(0x3a0)](_0x37810a,_0x699a73)});_0x598e4f['status'](0xc9)['json'](_0x6a71d0);})['delete'](this[_0x3928f7(0x403)](_0x3928f7(0x301)),..._0x501f90,async(_0x472a6d,_0x15f262)=>{const _0x2bf5ef=_0x3928f7;let _0xfa2def=await this[_0x2bf5ef(0x186)]({'request':_0x472a6d,'schema':{},'ClassRef':Y,'execute':(_0x484682,_0x396de9)=>U['leaveGroup'](_0x484682,_0x396de9)});_0x15f262[_0x2bf5ef(0x255)](0xc8)[_0x2bf5ef(0x587)](_0xfa2def);});}},Ha=require(a0_0x57c7f3(0x242)),Oe=require(a0_0x57c7f3(0x385)),gs=require(a0_0x57c7f3(0x2e6)),Ja=require('class-validator'),Wa=T(require(a0_0x57c7f3(0x665))),mt=class{},gt=class l{constructor(_0x403ced,_0x18fbed,_0x4ec646){const _0x46d7d4=a0_0x57c7f3;this[_0x46d7d4(0x2f8)]=_0x403ced,this[_0x46d7d4(0x3c3)]=_0x18fbed,this[_0x46d7d4(0x15a)]=_0x4ec646,this[_0x46d7d4(0x27e)]=new v(l[_0x46d7d4(0x17c)]);}async[a0_0x57c7f3(0x474)](_0x3acee8){const _0x48e403=a0_0x57c7f3;let _0x57a502=this['configService'][_0x48e403(0x141)]('AUTHENTICATION')[_0x48e403(0x1b4)],_0x419caa=(0x0,Oe['sign'])({'instanceName':_0x3acee8[_0x48e403(0x145)],'apiName':Ye,'tokenId':(0x0,gs['v4'])()},_0x57a502[_0x48e403(0x5bd)],{'expiresIn':_0x57a502[_0x48e403(0x290)],'encoding':'utf8','subject':_0x48e403(0xf9)}),_0x349723=await this['repository'][_0x48e403(0x286)][_0x48e403(0x411)]({'jwt':_0x419caa},_0x3acee8[_0x48e403(0x145)]);if(_0x349723['error'])throw this[_0x48e403(0x27e)][_0x48e403(0x5e3)]({'localError':l['name']+_0x48e403(0x28e),'error':_0x349723['error']}),new m(_0x48e403(0x26e),_0x349723[_0x48e403(0x5e3)]?.[_0x48e403(0x5d3)]());return{'jwt':_0x419caa};}async[a0_0x57c7f3(0x407)](_0x2464d5){const _0x39d769=a0_0x57c7f3;let _0x3cfc7b=(0x0,gs['v4'])()['toUpperCase'](),_0x18b350=await this[_0x39d769(0x15a)][_0x39d769(0x286)][_0x39d769(0x411)]({'apikey':_0x3cfc7b},_0x2464d5[_0x39d769(0x145)]);if(_0x18b350[_0x39d769(0x5e3)])throw this[_0x39d769(0x27e)][_0x39d769(0x5e3)]({'localError':l[_0x39d769(0x17c)]+_0x39d769(0x28e),'error':_0x18b350[_0x39d769(0x5e3)]}),new m('Authentication\x20error',_0x18b350[_0x39d769(0x5e3)]?.[_0x39d769(0x5d3)]());return{'apikey':_0x3cfc7b};}async[a0_0x57c7f3(0x368)](_0x56633a){const _0x1627bb=a0_0x57c7f3;let _0x762e3d=this[_0x1627bb(0x2f8)]['get'](_0x1627bb(0x5b3));return await this[_0x762e3d[_0x1627bb(0x347)]](_0x56633a);}async['refreshToken']({oldToken:_0x20a1e9}){const _0x14c4f4=a0_0x57c7f3;if(!(0x0,Ja[_0x14c4f4(0x24c)])(_0x20a1e9))throw new m(_0x14c4f4(0x209));try{let _0x402738=this[_0x14c4f4(0x2f8)][_0x14c4f4(0x141)]('AUTHENTICATION')[_0x14c4f4(0x1b4)],_0x4faeeb=(0x0,Oe[_0x14c4f4(0xde)])(_0x20a1e9,_0x402738[_0x14c4f4(0x5bd)],{'ignoreExpiration':!0x0}),_0x371775=await this['repository'][_0x14c4f4(0x286)][_0x14c4f4(0x354)](_0x4faeeb[_0x14c4f4(0x145)]),_0x5de491=(0x0,Oe[_0x14c4f4(0xde)])(_0x371775[_0x14c4f4(0x474)],_0x402738[_0x14c4f4(0x5bd)],{'ignoreExpiration':!0x0});if(_0x4faeeb[_0x14c4f4(0x383)]!==_0x5de491['tokenId'])throw new m(_0x14c4f4(0x209));let _0x5b0a68={'jwt':(await this[_0x14c4f4(0x474)]({'instanceName':_0x4faeeb[_0x14c4f4(0x145)]}))[_0x14c4f4(0x474)],'instanceName':_0x4faeeb[_0x14c4f4(0x145)]};try{let _0x377082=await this[_0x14c4f4(0x15a)][_0x14c4f4(0x64a)][_0x14c4f4(0x354)](_0x4faeeb[_0x14c4f4(0x145)]);_0x377082?.[_0x14c4f4(0x11e)]&&this[_0x14c4f4(0x2f8)][_0x14c4f4(0x141)](_0x14c4f4(0x3be))[_0x14c4f4(0x1a4)][_0x14c4f4(0xfb)]&&await Wa[_0x14c4f4(0x19b)][_0x14c4f4(0x411)]({'baseURL':_0x377082['url']})['post']('',{'event':_0x14c4f4(0x166),'instance':_0x4faeeb[_0x14c4f4(0x145)],'data':_0x5b0a68},{'params':{'owner':this[_0x14c4f4(0x3c3)][_0x14c4f4(0x240)][_0x4faeeb[_0x14c4f4(0x145)]][_0x14c4f4(0xed)]}});}catch(_0x401dd1){this[_0x14c4f4(0x27e)][_0x14c4f4(0x5e3)](_0x401dd1);}return _0x5b0a68;}catch(_0x3b4b8d){throw this[_0x14c4f4(0x27e)][_0x14c4f4(0x5e3)]({'localError':l[_0x14c4f4(0x17c)]+'.refreshToken','error':_0x3b4b8d}),new m(_0x14c4f4(0x209));}}},ht=class extends _{constructor(_0x3b294c,..._0x51a645){const _0xfc8e56=a0_0x57c7f3;super(),this['configService']=_0x3b294c,this[_0xfc8e56(0xec)]=(0x0,Ha[_0xfc8e56(0x53f)])();let _0x220c40=_0x3b294c[_0xfc8e56(0x141)](_0xfc8e56(0x5b3));this['router'][_0xfc8e56(0x626)](_0xfc8e56(0x196),..._0x51a645,async(_0x310454,_0x5ce245)=>{const _0xadd309=_0xfc8e56;let {instanceName:_0x22b4d9,apikey:_0x52b27b}=_0x310454['body'],_0xe0fef6=await ne[_0xadd309(0x604)]({'instanceName':_0x22b4d9,'apikey':_0x52b27b});return _0x5ce245[_0xadd309(0x255)](0xc9)[_0xadd309(0x587)](_0xe0fef6);})[_0xfc8e56(0x36f)](this[_0xfc8e56(0x403)](_0xfc8e56(0x257)),..._0x51a645,async(_0xc5fc51,_0x52054a)=>{const _0x6ae795=_0xfc8e56;let _0x16d3ef=await this['dataValidate']({'request':_0xc5fc51,'schema':N,'ClassRef':b,'execute':_0x322d44=>ne['restartInstance'](_0x322d44)});return _0x52054a['status'](0xc8)[_0x6ae795(0x587)](_0x16d3ef);})[_0xfc8e56(0x141)](this[_0xfc8e56(0x403)](_0xfc8e56(0x574)),..._0x51a645,async(_0x3d0ce3,_0x1bccae)=>{const _0x2f01aa=_0xfc8e56;let _0x5ee7c4=await this[_0x2f01aa(0x61f)]({'request':_0x3d0ce3,'schema':N,'ClassRef':b,'execute':_0x55c84e=>ne[_0x2f01aa(0x674)](_0x55c84e)});return _0x1bccae[_0x2f01aa(0x255)](0xc8)[_0x2f01aa(0x587)](_0x5ee7c4);})['get'](this[_0xfc8e56(0x403)]('connectionState'),..._0x51a645,async(_0x653c2e,_0x3142b0)=>{const _0x3df9b5=_0xfc8e56;let _0x313c77=await this[_0x3df9b5(0x61f)]({'request':_0x653c2e,'schema':N,'ClassRef':b,'execute':_0x5c90ed=>ne[_0x3df9b5(0x485)](_0x5c90ed)});return _0x3142b0[_0x3df9b5(0x255)](0xc8)[_0x3df9b5(0x587)](_0x313c77);})[_0xfc8e56(0x141)](this[_0xfc8e56(0x403)]('fetchInstances',!0x1),..._0x51a645,async(_0x107963,_0x2a4bf9)=>{const _0x892582=_0xfc8e56;let _0x4e8aa4=await this[_0x892582(0x61f)]({'request':_0x107963,'schema':null,'ClassRef':b,'execute':_0x4fd39e=>ne[_0x892582(0x65d)](_0x4fd39e)});return _0x2a4bf9[_0x892582(0x255)](0xc8)[_0x892582(0x587)](_0x4e8aa4);})[_0xfc8e56(0x497)](this[_0xfc8e56(0x403)](_0xfc8e56(0xf5)),..._0x51a645,async(_0x55a503,_0x41a591)=>{const _0x2f05aa=_0xfc8e56;let _0x1223f1=await this['dataValidate']({'request':_0x55a503,'schema':N,'ClassRef':b,'execute':_0x4ccf43=>ne[_0x2f05aa(0xf5)](_0x4ccf43)});return _0x41a591[_0x2f05aa(0x255)](0xc8)[_0x2f05aa(0x587)](_0x1223f1);})[_0xfc8e56(0x497)](this[_0xfc8e56(0x403)](_0xfc8e56(0x497)),..._0x51a645,async(_0x20aa46,_0x239d02)=>{const _0x5721a6=_0xfc8e56;let _0x8e833e=await this['dataValidate']({'request':_0x20aa46,'schema':N,'ClassRef':b,'execute':_0xae4543=>ne[_0x5721a6(0x38a)](_0xae4543)});return _0x239d02[_0x5721a6(0x255)](0xc8)['json'](_0x8e833e);}),_0x220c40[_0xfc8e56(0x347)]===_0xfc8e56(0x474)&&this[_0xfc8e56(0xec)][_0xfc8e56(0x36f)](_0xfc8e56(0x4ae),async(_0x5aa459,_0x42da7c)=>{const _0x36245f=_0xfc8e56;let _0x319929=await this[_0x36245f(0x61f)]({'request':_0x5aa459,'schema':ua,'ClassRef':mt,'execute':(_0x444d3a,_0x270879)=>ne[_0x36245f(0x19a)](_0x444d3a,_0x270879)});return _0x42da7c['status'](0xc9)[_0x36245f(0x587)](_0x319929);});}},Ka=require('express'),hs=class{},K=class extends hs{},ft=class extends K{},wt=class extends K{},yt=class extends K{},Pe=class extends K{},bt=class extends K{},St=class extends K{},Et=class extends K{},Ct=class extends K{},Nt=class extends K{},vt=class{},Tt=class extends _{constructor(..._0x1cd834){const _0x1bb820=a0_0x57c7f3;super(),this[_0x1bb820(0xec)]=(0x0,Ka['Router'])(),this[_0x1bb820(0xec)][_0x1bb820(0x626)](this[_0x1bb820(0x403)]('sendText'),..._0x1cd834,async(_0x388ac6,_0x4fa6e4)=>{const _0x42ec85=_0x1bb820;let _0x32184b=await this[_0x42ec85(0x61f)]({'request':_0x388ac6,'schema':da,'ClassRef':ft,'execute':(_0x2de5cd,_0xe7bbee)=>W[_0x42ec85(0x1ee)](_0x2de5cd,_0xe7bbee)});return _0x4fa6e4['status'](0xc9)[_0x42ec85(0x587)](_0x32184b);})[_0x1bb820(0x626)](this[_0x1bb820(0x403)](_0x1bb820(0x109)),..._0x1cd834,async(_0x16344f,_0x3c857b)=>{const _0x298e9a=_0x1bb820;let _0x1a7fa1=await this[_0x298e9a(0x61f)]({'request':_0x16344f,'schema':ha,'ClassRef':Pe,'execute':(_0x813805,_0xcaacf8)=>W[_0x298e9a(0x109)](_0x813805,_0xcaacf8)});return _0x3c857b[_0x298e9a(0x255)](0xc9)[_0x298e9a(0x587)](_0x1a7fa1);})[_0x1bb820(0x626)](this[_0x1bb820(0x403)](_0x1bb820(0x5ce)),..._0x1cd834,async(_0x2fb658,_0x5ed3ab)=>{const _0x382dd3=_0x1bb820;let _0x566af8=await this[_0x382dd3(0x61f)]({'request':_0x2fb658,'schema':fa,'ClassRef':Pe,'execute':(_0x44e930,_0x532005)=>W[_0x382dd3(0x5ce)](_0x44e930,_0x532005)});return _0x5ed3ab[_0x382dd3(0x255)](0xc9)[_0x382dd3(0x587)](_0x566af8);})[_0x1bb820(0x626)](this['routerPath'](_0x1bb820(0x401)),..._0x1cd834,async(_0x5cb02c,_0x18a709)=>{const _0x25b808=_0x1bb820;let _0x1f7ad9=await this[_0x25b808(0x61f)]({'request':_0x5cb02c,'schema':ya,'ClassRef':St,'execute':(_0x257188,_0x161211)=>W[_0x25b808(0x401)](_0x257188,_0x161211)});return _0x18a709[_0x25b808(0x255)](0xc9)[_0x25b808(0x587)](_0x1f7ad9);})[_0x1bb820(0x626)](this[_0x1bb820(0x403)](_0x1bb820(0x3e5)),..._0x1cd834,async(_0x4a232f,_0x429b0d)=>{const _0x196299=_0x1bb820;let _0x15fd28=await this[_0x196299(0x61f)]({'request':_0x4a232f,'schema':ba,'ClassRef':Et,'execute':(_0x2879bb,_0xccb1a)=>W[_0x196299(0x3e5)](_0x2879bb,_0xccb1a)});return _0x429b0d['status'](0xc9)[_0x196299(0x587)](_0x15fd28);})[_0x1bb820(0x626)](this[_0x1bb820(0x403)](_0x1bb820(0x3f9)),..._0x1cd834,async(_0x279250,_0x543014)=>{const _0x5bc1cd=_0x1bb820;let _0x581bfc=await this[_0x5bc1cd(0x61f)]({'request':_0x279250,'schema':Sa,'ClassRef':Ct,'execute':(_0x3e94f1,_0x1e4702)=>W[_0x5bc1cd(0x3f9)](_0x3e94f1,_0x1e4702)});return _0x543014[_0x5bc1cd(0x255)](0xc9)['json'](_0x581bfc);})['post'](this[_0x1bb820(0x403)](_0x1bb820(0x12a)),..._0x1cd834,async(_0x369d5b,_0x5aef50)=>{const _0x3524e3=_0x1bb820;let _0xc501b9=await this[_0x3524e3(0x61f)]({'request':_0x369d5b,'schema':Ea,'ClassRef':Nt,'execute':(_0x4b9c22,_0x26616a)=>W[_0x3524e3(0x12a)](_0x4b9c22,_0x26616a)});return _0x5aef50[_0x3524e3(0x255)](0xc9)[_0x3524e3(0x587)](_0xc501b9);})[_0x1bb820(0x626)](this[_0x1bb820(0x403)](_0x1bb820(0x491)),..._0x1cd834,async(_0x3a7cc3,_0x2f1058)=>{const _0x4fd2fd=_0x1bb820;let _0x467c9c=await this[_0x4fd2fd(0x61f)]({'request':_0x3a7cc3,'schema':Ca,'ClassRef':vt,'execute':(_0x150db5,_0x5003cd)=>W[_0x4fd2fd(0x491)](_0x150db5,_0x5003cd)});return _0x2f1058[_0x4fd2fd(0x255)](0xc9)['json'](_0x467c9c);})[_0x1bb820(0x626)](this['routerPath'](_0x1bb820(0x159)),..._0x1cd834,async(_0x548683,_0x346c21)=>{const _0x264a91=_0x1bb820;let _0x2a1d9=await this[_0x264a91(0x61f)]({'request':_0x548683,'schema':wa,'ClassRef':yt,'execute':(_0x280faa,_0xeedde3)=>W['sendPoll'](_0x280faa,_0xeedde3)});return _0x346c21[_0x264a91(0x255)](0xc9)[_0x264a91(0x587)](_0x2a1d9);})['post'](this['routerPath'](_0x1bb820(0x53e)),..._0x1cd834,async(_0x53f923,_0x1ee519)=>{const _0x1f744e=_0x1bb820;let _0x1ffa1d=await this[_0x1f744e(0x61f)]({'request':_0x53f923,'schema':ga,'ClassRef':wt,'execute':(_0x698cb0,_0x651aa8)=>W[_0x1f744e(0x53e)](_0x698cb0,_0x651aa8)});return _0x1ee519[_0x1f744e(0x255)](0xc9)['json'](_0x1ffa1d);})[_0x1bb820(0x626)](this['routerPath'](_0x1bb820(0x232)),..._0x1cd834,async(_0x1cef15,_0x117b2a)=>{const _0x483e3a=_0x1bb820;let _0x5af31b=await this[_0x483e3a(0x61f)]({'request':_0x1cef15,'schema':ma,'ClassRef':bt,'execute':(_0x5673cd,_0x7c4946)=>W[_0x483e3a(0x232)](_0x5673cd,_0x7c4946)});return _0x117b2a[_0x483e3a(0x255)](0xc9)[_0x483e3a(0x587)](_0x5af31b);});}},za=require(a0_0x57c7f3(0x242)),Rt=class extends _{constructor(..._0x239e9d){const _0x5b0734=a0_0x57c7f3;super(),this[_0x5b0734(0xec)]=(0x0,za[_0x5b0734(0x53f)])(),this[_0x5b0734(0xec)][_0x5b0734(0x141)](this['routerPath'](_0x5b0734(0x5b6)),..._0x239e9d,(_0x51ad91,_0x4f458d)=>Qa[_0x5b0734(0x5b6)](_0x51ad91,_0x4f458d));}},Ya=require(a0_0x57c7f3(0x242)),Mt=class{},At=class extends _{constructor(..._0x553203){const _0x50cbf4=a0_0x57c7f3;super(),this[_0x50cbf4(0xec)]=(0x0,Ya[_0x50cbf4(0x53f)])(),this[_0x50cbf4(0xec)][_0x50cbf4(0x626)](this[_0x50cbf4(0x403)](_0x50cbf4(0x3e2)),..._0x553203,async(_0x1b1cad,_0x548e75)=>{const _0x17cfe6=_0x50cbf4;let _0x2e99ce=await this[_0x17cfe6(0x61f)]({'request':_0x1b1cad,'schema':Fa,'ClassRef':Mt,'execute':(_0xb55425,_0x3c59d5)=>fs['createWebhook'](_0xb55425,_0x3c59d5)});_0x548e75['status'](0xc9)['json'](_0x2e99ce);})['get'](this[_0x50cbf4(0x403)](_0x50cbf4(0x354)),..._0x553203,async(_0x336c8d,_0x1c1887)=>{const _0x205681=_0x50cbf4;let _0x19cd43=await this[_0x205681(0x61f)]({'request':_0x336c8d,'schema':N,'ClassRef':b,'execute':_0x49a173=>fs[_0x205681(0x640)](_0x49a173)});_0x1c1887[_0x205681(0x255)](0xc8)['json'](_0x19cd43);});}},Xa=require('express'),g=new v('FlowRouter'),It=class extends _{constructor(..._0x1faa10){const _0x93ad82=a0_0x57c7f3;super(),this['router']=(0x0,Xa[_0x93ad82(0x53f)])(),this[_0x93ad82(0xec)][_0x93ad82(0x626)](this['routerPath'](_0x93ad82(0x1ec)),..._0x1faa10,async(_0x8af4c7,_0x1d695b)=>{const _0x3e6d43=_0x93ad82;let _0x4b0aa3=_0x8af4c7['body'];g[_0x3e6d43(0x5b0)]('request\x20received\x20in\x20scheduleMessage'),g[_0x3e6d43(0x5b0)](_0x3e6d43(0x4d9)),g[_0x3e6d43(0x5b0)](_0x8af4c7[_0x3e6d43(0x5f2)]);let _0x244873=await this[_0x3e6d43(0x61f)]({'request':_0x8af4c7,'schema':N,'ClassRef':b,'execute':_0x44ad74=>A[_0x3e6d43(0x31a)](_0x44ad74,_0x4b0aa3)});_0x1d695b[_0x3e6d43(0x255)](0xc8)[_0x3e6d43(0x587)](_0x244873);})[_0x93ad82(0x141)](this[_0x93ad82(0x403)]('scheduleMessage'),..._0x1faa10,async(_0x5354b3,_0x10ad97)=>{const _0x192b8b=_0x93ad82;let _0x1a6c41=await this[_0x192b8b(0x61f)]({'request':_0x5354b3,'schema':N,'ClassRef':b,'execute':_0xbdff24=>A[_0x192b8b(0x67e)](_0xbdff24)});_0x10ad97[_0x192b8b(0x255)](0xc8)[_0x192b8b(0x587)](_0x1a6c41);})[_0x93ad82(0x497)](this[_0x93ad82(0x403)](_0x93ad82(0xd5)),..._0x1faa10,async(_0x3915f6,_0x114901)=>{const _0x27b71f=_0x93ad82;g[_0x27b71f(0x5b0)]('request\x20received\x20in\x20deleteDoneMessages');let _0x18803e=await this[_0x27b71f(0x61f)]({'request':_0x3915f6,'schema':N,'ClassRef':b,'execute':_0x2a6f13=>A['deleteDoneMessages'](_0x2a6f13)});_0x114901['status'](0xc8)[_0x27b71f(0x587)](_0x18803e);})[_0x93ad82(0x626)](this[_0x93ad82(0x403)](_0x93ad82(0xef)),..._0x1faa10,async(_0x49a131,_0x2d6a18)=>{const _0xcb7f17=_0x93ad82;let _0x50b096=_0x49a131[_0xcb7f17(0x5f2)];g[_0xcb7f17(0x5b0)]('request\x20received\x20in\x20starFlow'),g['verbose'](_0xcb7f17(0x4d9)),g[_0xcb7f17(0x5b0)](_0x49a131[_0xcb7f17(0x5f2)]);let _0x2bb018=await this[_0xcb7f17(0x61f)]({'request':_0x49a131,'schema':N,'ClassRef':b,'execute':_0x1fc46f=>A['startFlow'](_0x1fc46f,_0x50b096)});_0x2d6a18['status'](0xc8)['json'](_0x2bb018);})['get'](this[_0x93ad82(0x403)](_0x93ad82(0x56a)),..._0x1faa10,async(_0x454241,_0x344dc2)=>{const _0x1b11b9=_0x93ad82;g['verbose'](_0x1b11b9(0x2e7));let _0x28fef5=await this[_0x1b11b9(0x61f)]({'request':_0x454241,'schema':N,'ClassRef':b,'execute':_0x28c6e5=>A[_0x1b11b9(0x56a)](_0x28c6e5)});_0x344dc2['status'](0xc8)[_0x1b11b9(0x587)](_0x28fef5);})[_0x93ad82(0x141)](this['routerPath']('getTicketSystem'),..._0x1faa10,async(_0x572d45,_0x163741)=>{const _0x318186=_0x93ad82;g[_0x318186(0x5b0)](_0x318186(0x308));let _0xbdb8ba=await this['dataValidate']({'request':_0x572d45,'schema':N,'ClassRef':b,'execute':_0x31e0d9=>A[_0x318186(0x56a)](_0x31e0d9)});_0x163741[_0x318186(0x255)](0xc8)[_0x318186(0x587)](_0xbdb8ba);})[_0x93ad82(0x626)](this[_0x93ad82(0x403)](_0x93ad82(0x555)),..._0x1faa10,async(_0x4cd8fe,_0xb3b233)=>{const _0x2f0f45=_0x93ad82;let _0x568de8=_0x4cd8fe[_0x2f0f45(0x5f2)];g[_0x2f0f45(0x5b0)](_0x2f0f45(0x415)),g[_0x2f0f45(0x5b0)](_0x2f0f45(0x4d9)),g[_0x2f0f45(0x5b0)](_0x4cd8fe[_0x2f0f45(0x5f2)]);let _0x108c82=await this['dataValidate']({'request':_0x4cd8fe,'schema':N,'ClassRef':b,'execute':_0x476227=>A[_0x2f0f45(0x555)](_0x476227,_0x568de8)});_0xb3b233[_0x2f0f45(0x255)](0xc8)[_0x2f0f45(0x587)](_0x108c82);})[_0x93ad82(0x626)](this[_0x93ad82(0x403)]('updateCustomFields'),..._0x1faa10,async(_0x209553,_0x36a687)=>{const _0x5b4e99=_0x93ad82;let _0x382465=_0x209553[_0x5b4e99(0x5f2)];g[_0x5b4e99(0x5b0)](_0x5b4e99(0x412)),g[_0x5b4e99(0x5b0)]('request\x20body:\x20'),g[_0x5b4e99(0x5b0)](_0x209553[_0x5b4e99(0x5f2)]);let _0x57d3b5=await this[_0x5b4e99(0x61f)]({'request':_0x209553,'schema':N,'ClassRef':b,'execute':_0x143905=>A[_0x5b4e99(0x421)](_0x143905,_0x382465)});_0x36a687['status'](0xc8)[_0x5b4e99(0x587)](_0x57d3b5);})[_0x93ad82(0x626)](this[_0x93ad82(0x403)](_0x93ad82(0x5eb)),..._0x1faa10,async(_0x17df74,_0x2d9c24)=>{const _0x5b93ab=_0x93ad82;let _0x4ffd61=_0x17df74['body'];g[_0x5b93ab(0x5b0)](_0x5b93ab(0x436)),g[_0x5b93ab(0x5b0)]('request\x20body:\x20'),g[_0x5b93ab(0x5b0)](_0x17df74[_0x5b93ab(0x5f2)]);let _0x224803=await this[_0x5b93ab(0x61f)]({'request':_0x17df74,'schema':N,'ClassRef':b,'execute':_0x4e0595=>A[_0x5b93ab(0x5eb)](_0x4e0595,_0x4ffd61)});_0x2d9c24['status'](0xc8)[_0x5b93ab(0x587)](_0x224803);})[_0x93ad82(0x626)](this[_0x93ad82(0x403)](_0x93ad82(0x229)),..._0x1faa10,async(_0x2336f2,_0x5d20e1)=>{const _0x487489=_0x93ad82;let _0x187016=_0x2336f2[_0x487489(0x5f2)];g[_0x487489(0x5b0)](_0x487489(0x139)),g['verbose'](_0x487489(0x4d9)),g[_0x487489(0x5b0)](_0x2336f2[_0x487489(0x5f2)]);let _0x4afe2d=await this[_0x487489(0x61f)]({'request':_0x2336f2,'schema':N,'ClassRef':b,'execute':_0x5c9104=>A[_0x487489(0x229)](_0x5c9104,_0x187016)});_0x5d20e1[_0x487489(0x255)](0xc8)[_0x487489(0x587)](_0x4afe2d);})['post'](this[_0x93ad82(0x403)](_0x93ad82(0x219)),..._0x1faa10,async(_0x4f2e6f,_0x31c1ae)=>{const _0x575d2f=_0x93ad82;let _0x2d9044=_0x4f2e6f[_0x575d2f(0x5f2)];g[_0x575d2f(0x5b0)]('request\x20received\x20in\x20fetchConversation'),g[_0x575d2f(0x5b0)]('request\x20body:\x20'),g[_0x575d2f(0x5b0)](_0x4f2e6f[_0x575d2f(0x5f2)]);let _0x29044e=await this['dataValidate']({'request':_0x4f2e6f,'schema':N,'ClassRef':b,'execute':_0x43a348=>A[_0x575d2f(0x219)](_0x43a348,_0x2d9044)});_0x31c1ae[_0x575d2f(0x255)](0xc8)[_0x575d2f(0x587)](_0x29044e);})[_0x93ad82(0x626)](this[_0x93ad82(0x403)](_0x93ad82(0x40f)),..._0x1faa10,async(_0x3b7437,_0x187fb8)=>{const _0x32bb38=_0x93ad82;let _0x3e4357=_0x3b7437[_0x32bb38(0x5f2)];g[_0x32bb38(0x5b0)](_0x32bb38(0x613)),g[_0x32bb38(0x5b0)](_0x32bb38(0x4d9)),g[_0x32bb38(0x5b0)](_0x3b7437[_0x32bb38(0x5f2)]);let _0x2bb958=await this[_0x32bb38(0x61f)]({'request':_0x3b7437,'schema':N,'ClassRef':b,'execute':_0x526e93=>A[_0x32bb38(0x40f)](_0x526e93,_0x3e4357)});_0x187fb8[_0x32bb38(0x255)](0xc8)[_0x32bb38(0x587)](_0x2bb958);})['delete'](this[_0x93ad82(0x403)](_0x93ad82(0x593)),..._0x1faa10,async(_0x3d02ee,_0x49d2de)=>{const _0x285bd5=_0x93ad82;let _0x1e7bc5=_0x3d02ee[_0x285bd5(0x5f2)];g[_0x285bd5(0x5b0)](_0x285bd5(0x4c0)),g[_0x285bd5(0x5b0)]('request\x20body:\x20'),g[_0x285bd5(0x5b0)](_0x3d02ee[_0x285bd5(0x5f2)]);let _0x7351bd=await this[_0x285bd5(0x61f)]({'request':_0x3d02ee,'schema':N,'ClassRef':b,'execute':_0x237e32=>A['deleteConversation'](_0x237e32,_0x1e7bc5)});_0x49d2de[_0x285bd5(0x255)](0xc8)['json'](_0x7351bd);})[_0x93ad82(0x626)](this[_0x93ad82(0x403)]('createflow'),..._0x1faa10,async(_0x3de68c,_0x2b94e4)=>{const _0x219d18=_0x93ad82;let _0x1d64cc=_0x3de68c['body'];g[_0x219d18(0x5b0)]('request\x20received\x20in\x20createFlow'),g[_0x219d18(0x5b0)](_0x219d18(0x4d9)),g['verbose'](_0x3de68c['body']);let _0x4ba13a=await this[_0x219d18(0x61f)]({'request':_0x3de68c,'schema':N,'ClassRef':b,'execute':_0x3d2316=>A[_0x219d18(0x32d)](_0x3d2316,_0x1d64cc)});_0x2b94e4[_0x219d18(0x255)](0xc8)[_0x219d18(0x587)](_0x4ba13a);})['post'](this[_0x93ad82(0x403)](_0x93ad82(0x614)),..._0x1faa10,async(_0x38630a,_0x2a8ae3)=>{const _0x3211f0=_0x93ad82;let _0x47accc=_0x38630a['body'];g['verbose'](_0x3211f0(0x2bf)),g[_0x3211f0(0x5b0)](_0x3211f0(0x4d9)),g[_0x3211f0(0x5b0)](_0x38630a['body']),delete _0x47accc['blocks'],delete _0x47accc[_0x3211f0(0x1ed)],delete _0x47accc[_0x3211f0(0x63f)],delete _0x47accc[_0x3211f0(0x470)];let _0x2f4752=await this['dataValidate']({'request':_0x38630a,'schema':N,'ClassRef':b,'execute':_0x35c589=>A['editFlow'](_0x35c589,_0x47accc)});_0x2a8ae3[_0x3211f0(0x255)](0xc8)[_0x3211f0(0x587)](_0x2f4752);})[_0x93ad82(0x626)](this[_0x93ad82(0x403)](_0x93ad82(0x5e1)),..._0x1faa10,async(_0x5091c3,_0x543116)=>{const _0x5f132c=_0x93ad82;let _0x2ca954=_0x5091c3[_0x5f132c(0x5f2)];g[_0x5f132c(0x5b0)](_0x5f132c(0x2bf)),g['verbose'](_0x5f132c(0x4d9)),g[_0x5f132c(0x5b0)](_0x5091c3[_0x5f132c(0x5f2)]);let _0x297e03=await this[_0x5f132c(0x61f)]({'request':_0x5091c3,'schema':N,'ClassRef':b,'execute':_0x225f9f=>A[_0x5f132c(0x21d)](_0x225f9f,_0x2ca954)});_0x543116[_0x5f132c(0x255)](0xc8)['json'](_0x297e03);})[_0x93ad82(0x626)](this[_0x93ad82(0x403)](_0x93ad82(0x4d8)),..._0x1faa10,async(_0xdd83ba,_0x18de80)=>{const _0x4e4879=_0x93ad82;let _0x3f8f34=_0xdd83ba[_0x4e4879(0x5f2)];g[_0x4e4879(0x5b0)]('request\x20received\x20in\x20editFlow'),g['verbose']('request\x20body:\x20'),g[_0x4e4879(0x5b0)](_0xdd83ba['body']);let _0x15f533=await this[_0x4e4879(0x61f)]({'request':_0xdd83ba,'schema':N,'ClassRef':b,'execute':_0x2df6e5=>A[_0x4e4879(0x65c)](_0x2df6e5,_0x3f8f34)});_0x18de80[_0x4e4879(0x255)](0xc8)['json'](_0x15f533);})['post'](this['routerPath'](_0x93ad82(0x389)),..._0x1faa10,async(_0x525144,_0x37d2ce)=>{const _0x4479ea=_0x93ad82;let _0x156fa8=_0x525144[_0x4479ea(0x5f2)];g[_0x4479ea(0x5b0)](_0x4479ea(0x2bf)),g[_0x4479ea(0x5b0)](_0x4479ea(0x4d9)),g[_0x4479ea(0x5b0)](_0x525144[_0x4479ea(0x5f2)]);let _0x3564d2=await this[_0x4479ea(0x61f)]({'request':_0x525144,'schema':N,'ClassRef':b,'execute':_0x1069bf=>A['editFlowVaredit'](_0x1069bf,_0x156fa8)});_0x37d2ce[_0x4479ea(0x255)](0xc8)[_0x4479ea(0x587)](_0x3564d2);})[_0x93ad82(0x626)](this[_0x93ad82(0x403)]('editflowgroup'),..._0x1faa10,async(_0x4d7e32,_0x15cac0)=>{const _0x170480=_0x93ad82;let _0x302bcb=_0x4d7e32[_0x170480(0x5f2)];g[_0x170480(0x5b0)](_0x170480(0x63e)),g[_0x170480(0x5b0)](_0x170480(0x4d9)),g[_0x170480(0x5b0)](_0x4d7e32[_0x170480(0x5f2)]);let _0x1f7492=await this[_0x170480(0x61f)]({'request':_0x4d7e32,'schema':N,'ClassRef':b,'execute':_0x430de9=>A['editFlowGroup'](_0x430de9,_0x302bcb)});_0x15cac0[_0x170480(0x255)](0xc8)[_0x170480(0x587)](_0x1f7492);})[_0x93ad82(0x626)](this[_0x93ad82(0x403)](_0x93ad82(0xd8)),..._0x1faa10,async(_0x4c16ab,_0x37eb90)=>{const _0x2d1c68=_0x93ad82;let _0x91750b=_0x4c16ab['body'];g[_0x2d1c68(0x5b0)](_0x2d1c68(0xff)),g[_0x2d1c68(0x5b0)](_0x2d1c68(0x4d9)),g['verbose'](_0x4c16ab['body']);let _0x17c4b1=await this['dataValidate']({'request':_0x4c16ab,'schema':N,'ClassRef':b,'execute':_0x2cf4db=>A[_0x2d1c68(0x3d1)](_0x2cf4db,_0x91750b)});_0x37eb90[_0x2d1c68(0x255)](0xc8)['json'](_0x17c4b1);})[_0x93ad82(0x626)](this[_0x93ad82(0x403)]('editflowvariable'),..._0x1faa10,async(_0x488482,_0x39113a)=>{const _0x15b5c9=_0x93ad82;let _0x272e29=_0x488482['body'];g['verbose'](_0x15b5c9(0x1f4)),g[_0x15b5c9(0x5b0)](_0x15b5c9(0x4d9)),g['verbose'](_0x488482[_0x15b5c9(0x5f2)]);let _0x3171e8=await this[_0x15b5c9(0x61f)]({'request':_0x488482,'schema':N,'ClassRef':b,'execute':_0x5ae144=>A[_0x15b5c9(0x3d9)](_0x5ae144,_0x272e29)});_0x39113a[_0x15b5c9(0x255)](0xc8)[_0x15b5c9(0x587)](_0x3171e8);})['post'](this[_0x93ad82(0x403)](_0x93ad82(0x2fd)),..._0x1faa10,async(_0xe54109,_0x47408e)=>{const _0x1bc9f3=_0x93ad82;let _0x31b536=_0xe54109[_0x1bc9f3(0x5f2)];g['verbose'](_0x1bc9f3(0x303)),g['verbose'](_0x1bc9f3(0x4d9)),g['verbose'](_0xe54109['body']);let _0x32bc11=await this[_0x1bc9f3(0x61f)]({'request':_0xe54109,'schema':N,'ClassRef':b,'execute':_0x1d23da=>A[_0x1bc9f3(0x3a1)](_0x1d23da,_0x31b536)});_0x47408e[_0x1bc9f3(0x255)](0xc8)[_0x1bc9f3(0x587)](_0x32bc11);})[_0x93ad82(0x497)](this['routerPath'](_0x93ad82(0x2ec)),..._0x1faa10,async(_0x528884,_0x346886)=>{const _0x45d855=_0x93ad82;let _0x55a922=_0x528884[_0x45d855(0x5f2)];g[_0x45d855(0x5b0)](_0x45d855(0x618)),g[_0x45d855(0x5b0)](_0x45d855(0x4d9)),g[_0x45d855(0x5b0)](_0x528884[_0x45d855(0x5f2)]);let _0x26aa12=await this[_0x45d855(0x61f)]({'request':_0x528884,'schema':N,'ClassRef':b,'execute':_0x24ecbe=>A['deleteFlow'](_0x24ecbe,_0x55a922)});_0x346886[_0x45d855(0x255)](0xc8)[_0x45d855(0x587)](_0x26aa12);})['get'](this[_0x93ad82(0x403)](_0x93ad82(0x647)),..._0x1faa10,async(_0x37e7c7,_0x85777c)=>{const _0x586295=_0x93ad82;g[_0x586295(0x5b0)]('request\x20received\x20in\x20allFlows');let _0x3f833c=await this['dataValidate']({'request':_0x37e7c7,'schema':N,'ClassRef':b,'execute':_0x51ab46=>A[_0x586295(0x1db)](_0x51ab46)});_0x85777c[_0x586295(0x255)](0xc8)['json'](_0x3f833c);});}},so=T(require(a0_0x57c7f3(0x272))),X={};function a0_0x2228(_0x528b2f,_0x33cd70){const _0x43b466=a0_0x43b4();return a0_0x2228=function(_0x2228a8,_0x53083e){_0x2228a8=_0x2228a8-0xcd;let _0x5899a5=_0x43b466[_0x2228a8];return _0x5899a5;},a0_0x2228(_0x528b2f,_0x33cd70);}function Za(_0x2ecd2d,_0xb523ec,_0xd5ed34,_0xc6ef18){X[_0x2ecd2d]||(X[_0x2ecd2d]={}),X[_0x2ecd2d][_0xb523ec]={'id':_0xb523ec,'response':_0xd5ed34,'events':_0xc6ef18};}function eo(_0xdc7d8a,_0xed6e92){!X[_0xdc7d8a]||!X[_0xdc7d8a][_0xed6e92]||delete X[_0xdc7d8a][_0xed6e92];}function H(_0x22762d,_0x5702c6,_0x2af0b4){const _0x982ef9=a0_0x57c7f3;if(!X[_0x22762d])return;let _0x337183=_0x982ef9(0x441)+JSON[_0x982ef9(0x34c)](_0x2af0b4)+'\x0a\x0a';Object[_0x982ef9(0x3ed)](X[_0x22762d])[_0x982ef9(0x2cb)](_0x5879ca=>{const _0x40ded0=_0x982ef9;_0x5879ca[_0x40ded0(0x5fc)]['includes'](_0x5702c6)&&_0x5879ca[_0x40ded0(0x1b1)][_0x40ded0(0x4bf)](_0x337183);});}function to(){const _0x270179=a0_0x57c7f3;let _0x4fb568={};for(let _0x2cbd2e in X)_0x4fb568[_0x2cbd2e]=Object[_0x270179(0x3ed)](X[_0x2cbd2e])['map'](_0x5b4a47=>({'id':_0x5b4a47['id'],'events':_0x5b4a47[_0x270179(0x5fc)]}));return _0x4fb568;}var ao=require(a0_0x57c7f3(0x2e6)),li=so[a0_0x57c7f3(0x19b)][a0_0x57c7f3(0x1b9)](__dirname,'downloads'),Ot=(0x0,Dt['Router'])(),ui=y[a0_0x57c7f3(0x141)](a0_0x57c7f3(0x5b3))[a0_0x57c7f3(0x347)],de=[ps,ra,la[ui]];Ot[a0_0x57c7f3(0x36b)](a0_0x57c7f3(0x5ab),Dt[a0_0x57c7f3(0x19b)][a0_0x57c7f3(0x3f2)](li))['get'](a0_0x57c7f3(0x1e6),async(_0xb7730a,_0x43fb10)=>{const _0x592308=a0_0x57c7f3;console['log'](_0x592308(0x273));let _0x1d55bc=_0xb7730a[_0x592308(0x4fd)]['instance'],_0x4a8b0f=(_0xb7730a['query'][_0x592308(0x5fc)]||'')[_0x592308(0x479)](','),_0x123dfd=(0x0,ao['v4'])();console['log'](_0x592308(0x113),_0x1d55bc),console[_0x592308(0x40c)]('Subscribed\x20Events:',_0x4a8b0f);let _0x24bca7=y['get']('AUTHENTICATION')['API_KEY'],_0x1e2f24=_0xb7730a['query'][_0x592308(0x407)];if(console[_0x592308(0x40c)]('API\x20Key\x20from\x20Request:',_0x1e2f24),_0x24bca7[_0x592308(0x536)]!==_0x1e2f24){console['log'](_0x592308(0x598));try{let _0x517fa7=await ue[_0x592308(0x286)][_0x592308(0x354)](_0x1d55bc);if(console[_0x592308(0x40c)]('Instance\x20Key\x20from\x20DB:',_0x517fa7),!_0x517fa7||_0x517fa7[_0x592308(0x407)]!==_0x1e2f24)return console[_0x592308(0x40c)](_0x592308(0x672)),_0x43fb10['status'](0x191)[_0x592308(0x47f)]('API\x20Key\x20inválida.');}catch(_0x59c983){return console['error'](_0x592308(0x5f5),_0x59c983),_0x43fb10[_0x592308(0x255)](0x191)[_0x592308(0x47f)](_0x592308(0x446));}}if(!await Qe(_0x1d55bc))return _0x43fb10['status'](0x194)[_0x592308(0x47f)]('Instância\x20não\x20encontrada.');_0x43fb10['setHeader'](_0x592308(0x2ab),_0x592308(0x575)),_0x43fb10[_0x592308(0x104)]('Cache-Control','no-cache'),_0x43fb10[_0x592308(0x104)](_0x592308(0x4ee),_0x592308(0x4bb)),_0x43fb10[_0x592308(0xe5)]();let _0x3997f1=_0x592308(0x441)+JSON[_0x592308(0x34c)]({'info':_0x592308(0x342)})+'\x0a\x0a';_0x43fb10[_0x592308(0x4bf)](_0x3997f1),Za(_0x1d55bc,_0x123dfd,_0x43fb10,_0x4a8b0f),_0xb7730a['on']('close',()=>{const _0x48f29b=_0x592308;console[_0x48f29b(0x40c)]('Connection\x20closed\x20for\x20instance:\x20'+_0x1d55bc),eo(_0x1d55bc,_0x123dfd);});}),Ot[a0_0x57c7f3(0x141)](a0_0x57c7f3(0x3c7),(_0x32855e,_0x5aea33)=>{const _0x14988c=a0_0x57c7f3;let _0x57c257=to();_0x5aea33[_0x14988c(0x587)](_0x57c257);})['get']('/',(_0x4863dc,_0x1b7a3d)=>{const _0x2a66a3=a0_0x57c7f3;let _0x23bfeb=y[_0x2a66a3(0x141)]('SSL_CONF'),_0x5dada7=_0x23bfeb&&_0x23bfeb['FULLCHAIN'][_0x2a66a3(0x479)]('/')[0x4];if(_0x5dada7){let _0x9a89f7=encodeURIComponent(_0x2a66a3(0x312)+_0x5dada7);_0x1b7a3d['redirect'](_0x2a66a3(0x5a4)+_0x9a89f7);}else _0x1b7a3d[_0x2a66a3(0x52f)](_0x2a66a3(0x531));})['put']('/exit',...de,async(_0x3b6b03,_0x1a5c7f)=>{const _0x39edf3=a0_0x57c7f3;try{console['log'](_0x39edf3(0x465)),_0x1a5c7f[_0x39edf3(0x255)](0xc8)[_0x39edf3(0x587)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x1a5c7f['on'](_0x39edf3(0x19d),()=>process[_0x39edf3(0x144)](0x0));}catch(_0x4c0621){console['error'](_0x39edf3(0x315),_0x4c0621),_0x1a5c7f[_0x39edf3(0x255)](0x1f4)[_0x39edf3(0x587)]({'message':_0x39edf3(0x271)});}})[a0_0x57c7f3(0x36b)](a0_0x57c7f3(0x514),new ht(y,...de)[a0_0x57c7f3(0xec)],new Rt(ps)['router'])[a0_0x57c7f3(0x36b)]('/message',new Tt(...de)[a0_0x57c7f3(0xec)])[a0_0x57c7f3(0x36b)](a0_0x57c7f3(0x310),new at(...de)[a0_0x57c7f3(0xec)])[a0_0x57c7f3(0x36b)](a0_0x57c7f3(0x47b),new pt(...de)[a0_0x57c7f3(0xec)])[a0_0x57c7f3(0x36b)](a0_0x57c7f3(0x532),new At(...de)['router'])[a0_0x57c7f3(0x36b)](a0_0x57c7f3(0x36a),new It(...de)[a0_0x57c7f3(0xec)]);var m=class{constructor(..._0x424828){const _0x58cbc0=a0_0x57c7f3;throw{'status':0x190,'error':_0x58cbc0(0x64f),'message':_0x424828[_0x58cbc0(0x438)]>0x0?_0x424828:void 0x0};}},ie=class{constructor(..._0x5001bc){const _0x5ddaa3=a0_0x57c7f3;throw{'status':0x191,'error':_0x5ddaa3(0x496),'message':_0x5001bc['length']>0x0?_0x5001bc:void 0x0};}},oe=class{constructor(..._0x456690){const _0x3fc3ce=a0_0x57c7f3;throw{'status':0x193,'error':_0x3fc3ce(0x247),'message':_0x456690['length']>0x0?_0x456690:void 0x0};}},L=class{constructor(..._0x497eae){const _0x3be065=a0_0x57c7f3;throw{'status':0x194,'error':_0x3be065(0x499),'message':_0x497eae['length']>0x0?_0x497eae:void 0x0};}},I=class{constructor(..._0x1d4100){const _0x3ac9d4=a0_0x57c7f3;throw{'status':0x1f4,'error':_0x3ac9d4(0x2af),'message':_0x1d4100[_0x3ac9d4(0x438)]>0x0?_0x1d4100:void 0x0};}},pe=require(a0_0x57c7f3(0x581));async function ws(_0x12a8e5){const _0x37d82c=a0_0x57c7f3;let _0x6b2a74=new v(ws[_0x37d82c(0x17c)]),_0x5bfe1d=M[_0x37d82c(0x654)](),_0x3cee87=_0x5bfe1d['db'](y[_0x37d82c(0x141)]('DATABASE')['CONNECTION'][_0x37d82c(0x466)]+_0x37d82c(0x31d))[_0x37d82c(0x5ee)](_0x12a8e5),_0x637d7a=async(_0x3bb133,_0x4277e9)=>{const _0x53fa32=_0x37d82c;try{return await _0x5bfe1d[_0x53fa32(0x574)](),await _0x3cee87[_0x53fa32(0x128)]({'_id':_0x4277e9},JSON[_0x53fa32(0x42c)](JSON[_0x53fa32(0x34c)](_0x3bb133,pe[_0x53fa32(0x171)][_0x53fa32(0x3af)])),{'upsert':!0x0});}catch{}},_0x43ad5e=async _0x15a8a6=>{const _0x195e8e=_0x37d82c;try{await _0x5bfe1d[_0x195e8e(0x574)]();let _0x37ae73=await _0x3cee87[_0x195e8e(0xd7)]({'_id':_0x15a8a6}),_0x469dff=JSON['stringify'](_0x37ae73);return JSON[_0x195e8e(0x42c)](_0x469dff,pe[_0x195e8e(0x171)][_0x195e8e(0x452)]);}catch{}},_0x178269=async _0x4279cf=>{const _0x258543=_0x37d82c;try{return await _0x5bfe1d[_0x258543(0x574)](),await _0x3cee87[_0x258543(0x67a)]({'_id':_0x4279cf});}catch{}},_0x55a94d=await _0x43ad5e(_0x37d82c(0x2b3))||(0x0,pe[_0x37d82c(0x616)])();return{'state':{'creds':_0x55a94d,'keys':{'get':async(_0x20ee18,_0x4abe33)=>{let _0x65c310={};return await Promise['all'](_0x4abe33['map'](async _0x4e82fd=>{const _0xad642c=a0_0x2228;let _0x3d9fc0=await _0x43ad5e(_0x20ee18+'-'+_0x4e82fd);_0x20ee18==='app-state-sync-key'&&_0x3d9fc0&&(_0x3d9fc0=pe['proto'][_0xad642c(0x5a0)][_0xad642c(0x124)][_0xad642c(0x295)](_0x3d9fc0)),_0x65c310[_0x4e82fd]=_0x3d9fc0;})),_0x65c310;},'set':async _0x52895c=>{const _0x4f2952=_0x37d82c;let _0x16880d=[];for(let _0x1e4535 in _0x52895c)for(let _0x25deb4 in _0x52895c[_0x1e4535]){let _0x4d9201=_0x52895c[_0x1e4535][_0x25deb4],_0x53d405=_0x1e4535+'-'+_0x25deb4;_0x16880d['push'](_0x4d9201?_0x637d7a(_0x4d9201,_0x53d405):_0x178269(_0x53d405));}await Promise[_0x4f2952(0xf0)](_0x16880d);}}},'saveCreds':async()=>_0x637d7a(_0x55a94d,_0x37d82c(0x2b3))};}var Ss=T(require(a0_0x57c7f3(0x2a9))),Es=T(require(a0_0x57c7f3(0x655))),xt=require('@whiskeysockets/baileys'),oo=require('@redis/client'),_t=require('@whiskeysockets/baileys'),Pt;function di(_0x2df5fd){const _0x26e3c9=a0_0x57c7f3;return Pt||(Pt=(0x0,oo['createClient'])({'url':_0x2df5fd[_0x26e3c9(0x475)]}),Pt[_0x26e3c9(0x574)]()),Pt;}var we=class l{constructor(_0x4807ea,_0x31abe0){const _0x4a671c=a0_0x57c7f3;this['redisEnv']=_0x4807ea,this[_0x4a671c(0x145)]=_0x31abe0,this['logger']=new v(l['name']),this['client']=di(_0x4807ea);}set[a0_0x57c7f3(0x513)](_0x5bbd7e){this['instanceName']=_0x5bbd7e;}async[a0_0x57c7f3(0x37f)](){const _0x1757d9=a0_0x57c7f3;try{return await this['client'][_0x1757d9(0x3ec)](['keys',this[_0x1757d9(0x409)][_0x1757d9(0x28d)]+':*']);}catch(_0x2819ce){this[_0x1757d9(0x27e)][_0x1757d9(0x5e3)](_0x2819ce);}}async[a0_0x57c7f3(0x210)](_0x5bb615,_0x5634b1){const _0x47d41d=a0_0x57c7f3;try{let _0x1fac03=JSON[_0x47d41d(0x34c)](_0x5634b1,_t[_0x47d41d(0x171)]['replacer']);return await this[_0x47d41d(0x369)]['hSet'](this[_0x47d41d(0x409)]['PREFIX_KEY']+':'+this[_0x47d41d(0x145)],_0x5bb615,_0x1fac03);}catch(_0x61057c){this[_0x47d41d(0x27e)][_0x47d41d(0x5e3)](_0x61057c);}}async[a0_0x57c7f3(0x67f)](){const _0xe8d6fa=a0_0x57c7f3;try{let _0x4f57af=await this[_0xe8d6fa(0x369)]['hGetAll'](this[_0xe8d6fa(0x409)][_0xe8d6fa(0x28d)]+':'+this[_0xe8d6fa(0x145)]);if(_0x4f57af){for(let _0x2e4f96 in _0x4f57af)Object[_0xe8d6fa(0x571)][_0xe8d6fa(0x357)][_0xe8d6fa(0x50c)](_0x4f57af,_0x2e4f96)&&(_0x4f57af[_0x2e4f96]=JSON['parse'](_0x4f57af[_0x2e4f96],_t[_0xe8d6fa(0x171)]['reviver']));return _0x4f57af;}}catch(_0x469563){this[_0xe8d6fa(0x27e)][_0xe8d6fa(0x5e3)](_0x469563);}}async[a0_0x57c7f3(0x4eb)](_0x5a27fc){const _0x8d6d50=a0_0x57c7f3;try{let _0x5787ef=await this['client'][_0x8d6d50(0x1cc)](this['redisEnv'][_0x8d6d50(0x28d)]+':'+this[_0x8d6d50(0x145)],_0x5a27fc);if(_0x5787ef)return JSON[_0x8d6d50(0x42c)](_0x5787ef,_t['BufferJSON'][_0x8d6d50(0x452)]);}catch(_0x301f4c){this[_0x8d6d50(0x27e)][_0x8d6d50(0x5e3)](_0x301f4c);}}async[a0_0x57c7f3(0x5bb)](_0x147f48){const _0x4c52e3=a0_0x57c7f3;try{return await this[_0x4c52e3(0x369)]['hDel'](this[_0x4c52e3(0x409)][_0x4c52e3(0x28d)]+':'+this[_0x4c52e3(0x145)],_0x147f48);}catch(_0x2c5cff){this[_0x4c52e3(0x27e)][_0x4c52e3(0x5e3)](_0x2c5cff);}}async[a0_0x57c7f3(0x41c)](_0x13b33f){const _0x33639e=a0_0x57c7f3;try{return await this[_0x33639e(0x369)][_0x33639e(0x5f6)](_0x13b33f||this[_0x33639e(0x409)][_0x33639e(0x28d)]+':'+this['instanceName']);}catch(_0x2709ec){this['logger'][_0x33639e(0x5e3)](_0x2709ec);}}};async function ys(_0x511e27,_0x3702a5){const _0xf519e6=a0_0x57c7f3;let _0x4c0663=new v(ys[_0xf519e6(0x17c)]),_0x48df92=new we(_0x511e27,_0x3702a5),_0x4c106a=async(_0x53f049,_0x1d80c2)=>{const _0x5aa536=_0xf519e6;try{return await _0x48df92[_0x5aa536(0x210)](_0x1d80c2,_0x53f049);}catch(_0x1e5944){return _0x4c0663[_0x5aa536(0x5e3)]({'localError':_0x5aa536(0x210),'error':_0x1e5944});}},_0x1ec7b9=async _0x56eab4=>{const _0x2950dd=_0xf519e6;try{return await _0x48df92[_0x2950dd(0x4eb)](_0x56eab4);}catch(_0x253fa1){_0x4c0663[_0x2950dd(0x5e3)]({'readData':'writeData','error':_0x253fa1});return;}},_0x420745=async _0x2c291e=>{const _0x356469=_0xf519e6;try{return await _0x48df92['removeData'](_0x2c291e);}catch(_0x1774a8){_0x4c0663[_0x356469(0x5e3)]({'readData':_0x356469(0x5bb),'error':_0x1774a8});}},_0x2f7ba1=await _0x1ec7b9('creds')||(0x0,xt[_0xf519e6(0x616)])();return{'state':{'creds':_0x2f7ba1,'keys':{'get':async(_0x314e18,_0x173410)=>{const _0x553483=_0xf519e6;let _0x454718={};return await Promise[_0x553483(0xf0)](_0x173410['map'](async _0x47a5f4=>{const _0x2f5712=_0x553483;let _0x408f54=await _0x1ec7b9(_0x314e18+'-'+_0x47a5f4);_0x314e18===_0x2f5712(0x1f6)&&_0x408f54&&(_0x408f54=xt[_0x2f5712(0x335)][_0x2f5712(0x5a0)][_0x2f5712(0x124)]['fromObject'](_0x408f54)),_0x454718[_0x47a5f4]=_0x408f54;})),_0x454718;},'set':async _0x4f738b=>{const _0x341caa=_0xf519e6;let _0x2f906e=[];for(let _0x364586 in _0x4f738b)for(let _0x2e1f79 in _0x4f738b[_0x364586]){let _0x16210a=_0x4f738b[_0x364586][_0x2e1f79],_0x4352d3=_0x364586+'-'+_0x2e1f79;_0x2f906e[_0x341caa(0x524)](_0x16210a?await _0x4c106a(_0x16210a,_0x4352d3):await _0x420745(_0x4352d3));}await Promise[_0x341caa(0xf0)](_0x2f906e);}}},'saveCreds':async()=>await _0x4c106a(_0x2f7ba1,_0xf519e6(0x2b3))};}var Se=T(require('fs')),go=require(a0_0x57c7f3(0x2e6));function q(_0x211e81){const _0x6e2340=a0_0x57c7f3;if(_0x211e81[_0x6e2340(0x330)]||_0x211e81[_0x6e2340(0x486)]){let _0x19f8b8=_0x211e81[_0x6e2340(0x330)]?_0x211e81[_0x6e2340(0x330)][_0x6e2340(0x420)]:_0x211e81[_0x6e2340(0x486)][_0x6e2340(0x420)];return(0x0,w['getContentType'])(_0x19f8b8);}return _0x211e81[_0x6e2340(0xe0)]?_0x6e2340(0xe0):_0x211e81['pollCreationMessageV2']?_0x6e2340(0x51e):(0x0,w[_0x6e2340(0x457)])(_0x211e81);}var be=class l{constructor(_0xeba96a,_0x30aed6,_0x28d9fb){const _0x4dbdcf=a0_0x57c7f3;this[_0x4dbdcf(0x2f8)]=_0xeba96a,this[_0x4dbdcf(0x656)]=_0x30aed6,this[_0x4dbdcf(0x15a)]=_0x28d9fb,this[_0x4dbdcf(0x3d3)]=null,this['logger']=new v(l[_0x4dbdcf(0x17c)]),this[_0x4dbdcf(0x1f8)]={},this[_0x4dbdcf(0x495)]={},this[_0x4dbdcf(0x508)]={'state':_0x4dbdcf(0x14f)},this[_0x4dbdcf(0x636)]=(0x0,Z['join'])(z,_0x4dbdcf(0x130)),this[_0x4dbdcf(0x45b)]=new Es[(_0x4dbdcf(0x19b))](),this[_0x4dbdcf(0x4de)]=new Es[(_0x4dbdcf(0x19b))](),this[_0x4dbdcf(0x5d4)]=!0x1,this['webhookMap']={'status.instance':_0x4dbdcf(0x355),'qrcode.updated':_0x4dbdcf(0x190),'messages.upsert':_0x4dbdcf(0x372),'messages.update':_0x4dbdcf(0x4ca),'send.message':'/wa-message','group.upsert':_0x4dbdcf(0x66e),'group.update':_0x4dbdcf(0x66e),'group-participants.update':'/wa-groups','connection.update':_0x4dbdcf(0x355),'messages.set':_0x4dbdcf(0x372),'contacts.set':_0x4dbdcf(0x44c),'contacts.upsert':'/wa-contacts','contacts.update':_0x4dbdcf(0x44c),'presence.update':'/wa-presence','chats.set':'/wa-chats','chats.update':_0x4dbdcf(0x121),'chats.upsert':_0x4dbdcf(0x121),'chats.delete':'/wa-chats'},this['reconnectAttempts']=0x0,this[_0x4dbdcf(0x5e9)]=[],this['MAX_RECONNECT_ATTEMPTS']=0xf,this[_0x4dbdcf(0x200)]=0x7530,this[_0x4dbdcf(0x2ee)]=!0x1,this[_0x4dbdcf(0xce)]={'chats.upsert':async(_0x4b5145,_0x4e1d89)=>{const _0x345945=_0x4dbdcf;let _0x450853=await this['repository'][_0x345945(0x64d)][_0x345945(0x354)]({'where':{'owner':this[_0x345945(0x1f8)][_0x345945(0xed)]}}),_0x193e40=[];for await(let _0x4b3a97 of _0x4b5145)_0x450853[_0x345945(0x354)](_0x31dd20=>_0x31dd20['id']===_0x4b3a97['id'])||_0x193e40[_0x345945(0x524)]({'id':_0x4b3a97['id'],'owner':this['instance'][_0x345945(0xed)],'group':_0x4b3a97['id'][_0x345945(0x43c)](_0x345945(0x615)),'name':_0x4b3a97[_0x345945(0x17c)]||_0x4b3a97['displayName']||null,'contactname':null,'imagechat':(await this[_0x345945(0x5b8)](_0x4b3a97['id']))[_0x345945(0x3cc)],'lastmsg':_0x4b3a97[_0x345945(0x670)]&&_0x4b3a97[_0x345945(0x670)][_0x345945(0x5d3)]()[_0x345945(0x438)]<0xd?_0x4b3a97[_0x345945(0x670)]*0x3e8:_0x4b3a97[_0x345945(0x670)]||null,'archived':_0x4b3a97[_0x345945(0x683)]||!0x1,'unreadcount':_0x4b3a97[_0x345945(0x60a)]||0x0});await this[_0x345945(0x2b2)](_0x345945(0x2a0),_0x193e40);},'chats.update':async(_0x4ce617,_0x26b459)=>{const _0x3a1ace=_0x4dbdcf;for(let _0x48bd76 of _0x4ce617){let _0x54893d={'id':_0x48bd76['id'],'owner':this[_0x3a1ace(0x1f8)]['wuid'],'group':_0x48bd76['id'][_0x3a1ace(0x43c)](_0x3a1ace(0x615)),'name':_0x48bd76[_0x3a1ace(0x17c)]||_0x48bd76[_0x3a1ace(0x432)],'archived':_0x48bd76[_0x3a1ace(0x683)]},_0x563ed8=!0x1,_0x5082eb={'id':_0x48bd76['id'],'owner':this[_0x3a1ace(0x1f8)][_0x3a1ace(0xed)]},_0x1adc24={};_0x54893d['archived']!=null&&(this[_0x3a1ace(0x27e)][_0x3a1ace(0x5b0)](this[_0x3a1ace(0x145)]+'\x20('+this[_0x3a1ace(0x1f8)]['wuid']+_0x3a1ace(0x13e)+_0x48bd76[_0x3a1ace(0x683)]),_0x563ed8=!0x0,_0x1adc24[_0x3a1ace(0x683)]=_0x48bd76[_0x3a1ace(0x683)]),_0x48bd76['name']!=null&&(this[_0x3a1ace(0x27e)]['verbose'](this[_0x3a1ace(0x145)]+'\x20('+this[_0x3a1ace(0x1f8)][_0x3a1ace(0xed)]+_0x3a1ace(0x666)+_0x48bd76['name']),_0x563ed8=!0x0,_0x1adc24[_0x3a1ace(0x17c)]=_0x48bd76[_0x3a1ace(0x17c)]),_0x48bd76['displayName']!=null&&(this[_0x3a1ace(0x27e)]['verbose'](this[_0x3a1ace(0x145)]+'\x20('+this[_0x3a1ace(0x1f8)][_0x3a1ace(0xed)]+'):\x20teve\x20mudanças\x20chat.displayName:\x20'+_0x48bd76[_0x3a1ace(0x432)]),_0x563ed8=!0x0,_0x1adc24[_0x3a1ace(0x17c)]=_0x48bd76['displayName']);let _0x5b82b4;_0x563ed8&&_0x26b459[_0x3a1ace(0x528)]&&(_0x5b82b4=await R['findOneAndUpdate'](_0x5082eb,{'$set':_0x1adc24},{'new':!0x0}),_0x5b82b4?.[_0x3a1ace(0x501)]?.[_0x3a1ace(0x661)]||await R[_0x3a1ace(0x51f)](_0x5082eb,{'$set':{'leadInfo.tags':[]}}),_0x5b82b4?.['leadInfo']?.[_0x3a1ace(0x123)]||await R[_0x3a1ace(0x51f)](_0x5082eb,{'$set':{'leadInfo.customFields':[]}})),_0x5b82b4&&H(this['instanceName'],_0x3a1ace(0x169),{'chat':_0x5b82b4});}},'chats.delete':async _0x28711c=>{const _0x4aa79a=_0x4dbdcf;await this[_0x4aa79a(0x2b2)]('chats.delete',[..._0x28711c]);}},this[_0x4dbdcf(0x281)]={'contacts.upsert':async(_0x3dccc6,_0x40bcd8)=>{const _0x5a4143=_0x4dbdcf;let _0x531fe9=await this[_0x5a4143(0x15a)][_0x5a4143(0x119)][_0x5a4143(0x354)]({'where':{'owner':this[_0x5a4143(0x1f8)][_0x5a4143(0xed)]}}),_0x3d7540=[];for await(let _0x50a218 of _0x3dccc6)_0x531fe9[_0x5a4143(0x354)](_0x355fc4=>_0x355fc4['id']===_0x50a218['id'])||_0x3d7540[_0x5a4143(0x524)]({'id':_0x50a218['id'],'pushName':_0x50a218?.[_0x5a4143(0x17c)]||_0x50a218?.[_0x5a4143(0x160)],'owner':this[_0x5a4143(0x1f8)]['wuid']});await this['sendDataWebhook'](_0x5a4143(0x211),_0x3d7540),await this[_0x5a4143(0x15a)][_0x5a4143(0x119)]['insert'](_0x3d7540,_0x40bcd8['ENABLED']);let _0x3e23ac=[];for(let _0x198668 of _0x3d7540){let [_0x21d7d8,_0x17e14f]=await Promise[_0x5a4143(0xf0)]([this[_0x5a4143(0x5b8)](_0x198668['id']),(await this[_0x5a4143(0x230)](_0x198668['id']))[_0x5a4143(0x255)]]);_0x3e23ac['push']({..._0x198668,'profilePictureUrl':_0x21d7d8[_0x5a4143(0x3cc)],'status':_0x17e14f});}await this[_0x5a4143(0x15a)][_0x5a4143(0x119)][_0x5a4143(0x4b8)](_0x3e23ac,_0x40bcd8[_0x5a4143(0x528)]),await this[_0x5a4143(0x233)]();},'contacts.update':async(_0x49bd06,_0xb6ce6b)=>{const _0x3b2936=_0x4dbdcf;let _0x4e7008=[];for await(let _0x9fa9d9 of _0x49bd06)_0x4e7008[_0x3b2936(0x524)]({'id':_0x9fa9d9['id'],'pushName':_0x9fa9d9?.[_0x3b2936(0x17c)]??_0x9fa9d9?.[_0x3b2936(0x160)],'profilePictureUrl':(await this[_0x3b2936(0x5b8)](_0x9fa9d9['id']))['profilePictureUrl'],'owner':this[_0x3b2936(0x1f8)]['wuid']});await this['sendDataWebhook'](_0x3b2936(0x650),_0x4e7008);}},this[_0x4dbdcf(0x269)]={'messaging-history.set':async({messages:_0x297b81,chats:_0x15b7f5,isLatest:_0x3b8f70},_0x3ccd27)=>{const _0x5818c5=_0x4dbdcf;if(_0x3b8f70){let _0x4a8499=await Promise[_0x5818c5(0xf0)](_0x15b7f5[_0x5818c5(0x1bd)](async _0x1833ed=>({'id':_0x1833ed['id'],'owner':this[_0x5818c5(0x1f8)][_0x5818c5(0xed)],'group':_0x1833ed['id']['endsWith'](_0x5818c5(0x615)),'name':_0x1833ed[_0x5818c5(0x17c)]||_0x1833ed[_0x5818c5(0x432)]||null,'contactname':null,'imagechat':(await this[_0x5818c5(0x5b8)](_0x1833ed['id']))[_0x5818c5(0x3cc)],'lastmsg':_0x1833ed[_0x5818c5(0x670)]&&_0x1833ed[_0x5818c5(0x670)]['toString']()['length']<0xd?_0x1833ed['conversationTimestamp']*0x3e8:_0x1833ed[_0x5818c5(0x670)]||null,'archived':_0x1833ed[_0x5818c5(0x683)]||!0x1,'unreadcount':_0x1833ed[_0x5818c5(0x60a)]||0x0})));await this['sendDataWebhook'](_0x5818c5(0x241),_0x4a8499),await this[_0x5818c5(0x18b)](_0x4a8499,_0x3ccd27),await this[_0x5818c5(0x233)]();}let _0x4aecfb=[],_0x37fe6c=Date[_0x5818c5(0xe3)]()-0x7*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x15705d]of Object[_0x5818c5(0x189)](_0x297b81)){if(_0x15705d['message']?.[_0x5818c5(0x39c)]||_0x15705d[_0x5818c5(0x420)]?.[_0x5818c5(0x46a)]||!_0x15705d[_0x5818c5(0x420)]||_0x15705d[_0x5818c5(0x572)][_0x5818c5(0x11f)]===_0x5818c5(0x5dd)||(Ss[_0x5818c5(0x19b)][_0x5818c5(0x37d)](_0x15705d?.[_0x5818c5(0x60c)])&&(_0x15705d[_0x5818c5(0x60c)]=_0x15705d[_0x5818c5(0x60c)]?.[_0x5818c5(0x3b7)]()),_0x15705d[_0x5818c5(0x60c)]&&_0x15705d[_0x5818c5(0x60c)]['toString']()['length']<0xd&&(_0x15705d[_0x5818c5(0x60c)]=_0x15705d['messageTimestamp']*0x3e8),_0x15705d[_0x5818c5(0x60c)]<_0x37fe6c))continue;let {message_normalized:_0x3c19bd}=this[_0x5818c5(0x3c4)](_0x15705d[_0x5818c5(0x420)],q(_0x15705d[_0x5818c5(0x420)]),null);_0x4aecfb[_0x5818c5(0x524)]({'key':_0x15705d[_0x5818c5(0x572)],'pushName':_0x15705d[_0x5818c5(0x2b8)],'participant':_0x15705d['participant'],'message':{..._0x15705d[_0x5818c5(0x420)]},'messageType':q(_0x15705d[_0x5818c5(0x420)]),'message_normalized':{'key':_0x15705d[_0x5818c5(0x572)],'pushName':_0x15705d['pushName'],'messageTimestamp':_0x15705d[_0x5818c5(0x60c)],..._0x3c19bd},'messageTimestamp':_0x15705d['messageTimestamp'],'owner':this[_0x5818c5(0x1f8)][_0x5818c5(0xed)]});}_0x3ccd27[_0x5818c5(0x528)]&&_0x4aecfb['length']>0x0&&(this[_0x5818c5(0x27e)][_0x5818c5(0x5b0)](this[_0x5818c5(0x145)]+'\x20('+this[_0x5818c5(0x1f8)][_0x5818c5(0xed)]+'):\x20'+_0x4aecfb[_0x5818c5(0x438)]+_0x5818c5(0x50d)+this[_0x5818c5(0x1f8)][_0x5818c5(0xed)]+_0x5818c5(0x205)),await this['repository'][_0x5818c5(0x420)][_0x5818c5(0x35f)]([..._0x4aecfb],_0x3ccd27[_0x5818c5(0x528)])),this['sendDataWebhook'](_0x5818c5(0x2c4),[..._0x4aecfb]),_0x297b81=void 0x0;},'messages.upsert':async({messages:_0x2be332,type:_0x5f1b74},_0x1b2fef)=>{const _0x151a24=_0x4dbdcf;let _0x4549db=_0x2be332[0x0];if(_0x5f1b74!==_0x151a24(0x3fa)||!_0x4549db?.['message']||_0x4549db['message']?.['protocolMessage']||_0x4549db[_0x151a24(0x572)][_0x151a24(0x11f)]==='status@broadcast')return;let _0x5f1f8c=null,_0x3c7512=null;try{_0x5f1f8c=await this[_0x151a24(0x350)](_0x4549db),_0x3c7512=_0x5f1f8c?_0x5f1f8c[_0x151a24(0x1b9)](','):null;}catch(_0x4dfe54){this[_0x151a24(0x27e)][_0x151a24(0x5b0)](this[_0x151a24(0x145)]+'\x20('+this[_0x151a24(0x1f8)][_0x151a24(0xed)]+_0x151a24(0x2c1)+_0x4dfe54[_0x151a24(0x420)]),_0x3c7512=_0x151a24(0x4a2);}this[_0x151a24(0x369)][_0x151a24(0x397)]('unavailable'),Ss[_0x151a24(0x19b)]['isLong'](_0x4549db[_0x151a24(0x60c)])&&(_0x4549db['messageTimestamp']=_0x4549db[_0x151a24(0x60c)]?.[_0x151a24(0x3b7)]()),_0x4549db[_0x151a24(0x60c)]&&_0x4549db[_0x151a24(0x60c)][_0x151a24(0x5d3)]()[_0x151a24(0x438)]<0xd&&(_0x4549db['messageTimestamp']=_0x4549db[_0x151a24(0x60c)]*0x3e8);let _0x23ab67=_0x4549db[_0x151a24(0x420)],{messageContent:_0x1c1245,message_normalized:_0x2dae5f}=this[_0x151a24(0x3c4)](_0x23ab67,q(_0x4549db[_0x151a24(0x420)]),_0x3c7512);_0x1c1245||console[_0x151a24(0x5e3)](_0x151a24(0x155));let _0x35fad2={'key':_0x4549db[_0x151a24(0x572)],'pushName':_0x4549db[_0x151a24(0x2b8)],'message':{..._0x4549db['message']},'messageType':q(_0x4549db[_0x151a24(0x420)]),'message_normalized':{'key':_0x4549db[_0x151a24(0x572)],'pushName':_0x4549db[_0x151a24(0x2b8)],'messageTimestamp':_0x4549db[_0x151a24(0x60c)],'source':(0x0,w[_0x151a24(0x625)])(_0x4549db['key']['id']),..._0x2dae5f},'messageTimestamp':_0x4549db[_0x151a24(0x60c)],'owner':this[_0x151a24(0x1f8)]['wuid']};this['logger'][_0x151a24(0x40c)](_0x35fad2),await this[_0x151a24(0x15a)][_0x151a24(0x420)][_0x151a24(0x35f)]([_0x35fad2],_0x1b2fef[_0x151a24(0x528)]),await this['sendDataWebhook'](_0x151a24(0x48a),_0x35fad2),H(this[_0x151a24(0x145)],'messages',{'message':_0x35fad2}),_0x4549db['key'][_0x151a24(0x11f)]!==_0x151a24(0x5dd)&&await this[_0x151a24(0xcf)](_0x1b2fef,_0x35fad2,_0x151a24(0x1e0));},'messages.update':async(_0x4b9911,_0x1380ff)=>{const _0x214c4c=_0x4dbdcf;let _0xea6ff6={0x0:'ERROR',0x1:_0x214c4c(0x282),0x2:_0x214c4c(0x566),0x3:_0x214c4c(0x45f),0x4:_0x214c4c(0x17f),0x5:_0x214c4c(0x427)};for await(let {key:_0x5992e2,update:_0x5a678b}of _0x4b9911)if(_0x5992e2[_0x214c4c(0x11f)]!==_0x214c4c(0x5dd)){let _0x2bcd0a=Date[_0x214c4c(0xe3)](),_0x209603;_0x5a678b[_0x214c4c(0x420)]===null&&_0x5a678b['status']===void 0x0?_0x209603=_0x214c4c(0x5dc):_0x209603=_0xea6ff6[_0x5a678b[_0x214c4c(0x255)]];let _0x70bf2c=_0x5992e2[_0x214c4c(0x11f)][_0x214c4c(0x289)](/:\d{1,2}@/g,'@'),_0x3b4e20={..._0x5992e2,'remoteJid':_0x70bf2c,'status':_0x209603,'datetime':_0x2bcd0a,'owner':this[_0x214c4c(0x1f8)][_0x214c4c(0xed)]};await this[_0x214c4c(0x2b2)](_0x214c4c(0x313),_0x3b4e20),await this[_0x214c4c(0x15a)][_0x214c4c(0x3e9)]['insert']([_0x3b4e20],_0x1380ff[_0x214c4c(0x528)]),await this[_0x214c4c(0x1da)](_0x5992e2,_0x70bf2c,_0x3b4e20);}}},this[_0x4dbdcf(0x608)]={'groups.upsert':_0x448929=>{const _0x2add99=_0x4dbdcf;this['sendDataWebhook'](_0x2add99(0x2dd),_0x448929);},'groups.update':_0x523979=>{const _0x9d6e1e=_0x4dbdcf;this[_0x9d6e1e(0x2b2)](_0x9d6e1e(0x29a),_0x523979);},'group-participants.update':_0x213122=>{const _0x544297=_0x4dbdcf;this[_0x544297(0x2b2)](_0x544297(0x52b),_0x213122);}},this['processPollUpdateMessage']=async _0x7d9502=>{const _0x41dc47=_0x4dbdcf;if(_0x7d9502['message']?.['pollUpdateMessage']){let _0xbb6b21=await this[_0x41dc47(0x1d7)](_0x7d9502[_0x41dc47(0x420)][_0x41dc47(0x106)][_0x41dc47(0xeb)],!0x0);if(_0xbb6b21){let _0x4efc8a=_0xbb6b21[_0x41dc47(0x572)]['fromMe']?this[_0x41dc47(0x1f8)]['wuid']+_0x41dc47(0x49f):_0xbb6b21[_0x41dc47(0x572)][_0x41dc47(0x5f3)]||_0xbb6b21['key'][_0x41dc47(0x11f)],_0x198121=_0xbb6b21[_0x41dc47(0x572)]['id'],_0x416b4e=_0xbb6b21[_0x41dc47(0x420)],_0x1d4e5e=Buffer[_0x41dc47(0x41b)](_0x416b4e[_0x41dc47(0x5b9)][_0x41dc47(0x129)][_0x41dc47(0x5d3)](_0x41dc47(0x198)),_0x41dc47(0x198)),_0xcd410d=(0x0,w[_0x41dc47(0x4d7)])(_0x7d9502[_0x41dc47(0x420)]['pollUpdateMessage'][_0x41dc47(0x309)],{'pollCreatorJid':_0x4efc8a,'pollMsgId':_0x198121,'pollEncKey':_0x1d4e5e,'voterJid':_0x7d9502[_0x41dc47(0x572)][_0x41dc47(0x5c2)]?this[_0x41dc47(0x1f8)][_0x41dc47(0xed)]+'@s.whatsapp.net':_0x7d9502[_0x41dc47(0x572)][_0x41dc47(0x11f)][_0x41dc47(0x43c)](_0x41dc47(0x3fc))?_0x7d9502['key']['participant']:_0x7d9502[_0x41dc47(0x572)][_0x41dc47(0x11f)]}),_0x1947bf=[],_0x289fad=_0xcd410d[_0x41dc47(0x414)][_0x41dc47(0x1bd)](_0x386507=>Buffer[_0x41dc47(0x41b)](_0x386507)[_0x41dc47(0x5d3)](_0x41dc47(0x198)));for(let {optionName:_0x5ca2f3}of _0x416b4e['pollCreationMessage']?.['options']||_0x416b4e[_0x41dc47(0xe0)]?.[_0x41dc47(0x5d7)]||_0x416b4e[_0x41dc47(0x51e)]?.[_0x41dc47(0x5d7)])_0x289fad[_0x41dc47(0x236)]((0x0,w['sha256'])(Buffer[_0x41dc47(0x41b)](_0x5ca2f3))['toString']('hex'))>-0x1&&_0x1947bf[_0x41dc47(0x524)](_0x5ca2f3);return _0x1947bf;}}return null;},this[_0x4dbdcf(0x3c4)]=(_0x4fe883,_0x31d0f1,_0x18937a)=>{const _0x13ac82=_0x4dbdcf;let _0xa52b87=_0x31d0f1?_0x4fe883[_0x31d0f1]:void 0x0,_0x2b4fda={},_0x763f98=null,_0x92a544=null;if(_0x4fe883[_0x13ac82(0x486)]?_0xa52b87=_0x4fe883['viewOnceMessageV2'][_0x13ac82(0x420)][_0x31d0f1]:_0x4fe883[_0x13ac82(0x330)]?_0xa52b87=_0x4fe883[_0x13ac82(0x330)][_0x13ac82(0x420)][_0x31d0f1]:_0x4fe883['ephemeralMessage']?_0xa52b87=_0x4fe883[_0x13ac82(0x246)][_0x13ac82(0x420)][_0x31d0f1]:_0xa52b87=_0x4fe883[_0x31d0f1],!_0x31d0f1||!_0xa52b87){console[_0x13ac82(0x5e3)](_0x13ac82(0x5f1),_0x4fe883);return;}_0x4fe883[_0x31d0f1]?.['contextInfo']?.[_0x13ac82(0x5cb)]&&_0x4fe883[_0x31d0f1]?.[_0x13ac82(0x1df)]?.[_0x13ac82(0x472)]&&(_0x92a544=_0x4fe883[_0x31d0f1][_0x13ac82(0x1df)][_0x13ac82(0x5cb)]),_0x4fe883['editedMessage']?.[_0x13ac82(0x420)]?.['protocolMessage']?.[_0x13ac82(0x1b5)]&&(_0x763f98=_0x4fe883[_0x13ac82(0x1b5)][_0x13ac82(0x420)][_0x13ac82(0x39c)][_0x13ac82(0x572)]['id'],_0x4fe883=_0x4fe883[_0x13ac82(0x1b5)][_0x13ac82(0x420)]['protocolMessage']['editedMessage']);let _0x4d7769;if(_0xa52b87&&typeof _0xa52b87==_0x13ac82(0x30e)&&_0x13ac82(0xeb)in _0xa52b87&&({pollCreationMessageKey:_0x4d7769}=_0xa52b87),_0x31d0f1===_0x13ac82(0x13b)){let _0x2f331f=_0xa52b87?.['message']?.['documentMessage'];_0x2f331f&&(_0xa52b87=_0x2f331f);}if(_0x31d0f1===_0x13ac82(0x3f7)||_0x31d0f1==='pollCreationMessageV2'||_0x31d0f1==='pollCreationMessageV3'){let _0x407fdb=_0xa52b87[_0x13ac82(0x5d7)]['map'](_0x1849fc=>_0x1849fc['optionName'])['join']('|');_0x2b4fda[_0x13ac82(0x377)]=_0x407fdb;}if(_0xa52b87){let {pollCreationMessageKey:_0x341538,footerText:_0x4916ad,contentText:_0x3ca920,pageCount:_0x42fc8f,headerType:_0x1694be,isAvatar:_0xcacba1,isAnimated:_0x569b1d,contactVcard:_0x3ff249,fallbackLc:_0x5129a6,fallbackLg:_0xbb76b2,namespace:_0x1ab2df,elementName:_0x52355e,localizableParams:_0x2bdda9,viewOnce:_0x2f0006,height:_0x2affbb,width:_0x5a9d06,key:_0x4c4038,firstScanLength:_0x7339b7,firstScanSidecar:_0x2f7a78,gifPlayback:_0x297db1,gifAttribution:_0x8102f5,midQualityFileSha256:_0x1ff474,scansSidecar:_0x2f2b5b,streamingSidecar:_0x3ca96c,thumbnailHeight:_0x3574a7,thumbnailWidth:_0x1ef65d,thumbnailEncSha256:_0x4ed5d1,thumbnailDirectPath:_0x2caecf,canonicalUrl:_0x160969,matchedText:_0x29d265,previewType:_0xc9a36e,thumbnailSha256:_0x33a607,deviceListMetadataVersion:_0x58ca20,inviteLinkGroupTypeV2:_0x584dfc,interactiveAnnotations:_0x3ceea1,scanLengths:_0x2b3708,jpegThumbnail:_0x52ed3d,url:_0x1e42f9,mediaKeyTimestamp:_0x5e5ec0,waveform:_0x1ce96e,stickerSentTs:_0x1cab8c,firstFrameLength:_0x3aacd6,fileEncSha256:_0xfc41c9,contextInfo:_0x3d16fc,firstFrameSidecar:_0x1430b9,directPath:_0x155f78,fileSha256:_0x3c810e,mediaKey:_0x538913,senderTimestampMs:_0x4bd5ee,..._0x594d00}=_0xa52b87;typeof _0xa52b87=='string'?_0x2b4fda={'text':_0xa52b87,'type':_0x13ac82(0x506),..._0x763f98&&{'edited':_0x763f98},..._0x92a544&&{'quoted':_0x92a544}}:_0x2b4fda={..._0x594d00,..._0x31d0f1===_0x13ac82(0x106)?{'poll_id':_0xa52b87['pollCreationMessageKey']['id'],'vote':_0x18937a}:{},'type':_0x31d0f1,..._0x763f98&&{'edited':_0x763f98},..._0x92a544&&{'quoted':_0x92a544},...(_0x31d0f1==='pollCreationMessage'||_0x31d0f1===_0x13ac82(0x51e)||_0x31d0f1===_0x13ac82(0xe0))&&{'convertedOptions':_0x2b4fda[_0x13ac82(0x377)]}};}return{'messageType':_0x31d0f1,'messageContent':_0xa52b87,'message_normalized':_0x2b4fda};},this[_0x4dbdcf(0x147)]=null,this['lastSend']=0x0,(this[_0x4dbdcf(0x1ab)](),this['instance'][_0x4dbdcf(0x5b6)]={'count':0x0});}set['instanceName'](_0x50b680){const _0x293fbf=a0_0x57c7f3;if(!_0x50b680){this['instance']['name']=(0x0,io['v4'])();return;}this[_0x293fbf(0x1f8)][_0x293fbf(0x17c)]=_0x50b680,this[_0x293fbf(0x2b2)](_0x293fbf(0x660),{'instance':this[_0x293fbf(0x1f8)][_0x293fbf(0x17c)],'status':_0x293fbf(0x36e)});}get[a0_0x57c7f3(0x145)](){const _0x35ca49=a0_0x57c7f3;return this[_0x35ca49(0x1f8)][_0x35ca49(0x17c)];}get[a0_0x57c7f3(0xed)](){const _0x334489=a0_0x57c7f3;return this[_0x334489(0x1f8)][_0x334489(0xed)];}async[a0_0x57c7f3(0x523)](){const _0x119049=a0_0x57c7f3;let _0x185550=this[_0x119049(0x369)][_0x119049(0x133)]?.[_0x119049(0x17c)]??this[_0x119049(0x369)][_0x119049(0x133)]?.[_0x119049(0x160)];if(!_0x185550){if(this[_0x119049(0x2f8)][_0x119049(0x141)](_0x119049(0x648))[_0x119049(0x528)]){let _0x5ba042=await M[_0x119049(0x654)]()['db'](this[_0x119049(0x2f8)][_0x119049(0x141)]('DATABASE')['CONNECTION']['DB_PREFIX_NAME']+_0x119049(0x31d))[_0x119049(0x5ee)](this[_0x119049(0x145)])[_0x119049(0xd7)]({'_id':'creds'});if(_0x5ba042){let _0x20d3c5=JSON['parse'](JSON[_0x119049(0x34c)](_0x5ba042),w[_0x119049(0x171)][_0x119049(0x452)]);_0x185550=_0x20d3c5['me']?.[_0x119049(0x17c)]||_0x20d3c5['me']?.[_0x119049(0x160)];}}else{if((0x0,_e[_0x119049(0x527)])((0x0,Z['join'])(V,this[_0x119049(0x145)],_0x119049(0x404)))){let _0x5de932=JSON['parse']((0x0,_e[_0x119049(0x503)])((0x0,Z['join'])(V,this[_0x119049(0x145)],_0x119049(0x404)),{'encoding':_0x119049(0x64b)}));_0x185550=_0x5de932['me']?.[_0x119049(0x17c)]||_0x5de932['me']?.['verifiedName'];}}}return _0x185550;}get['profilePictureUrl'](){const _0x5dce79=a0_0x57c7f3;return this[_0x5dce79(0x1f8)][_0x5dce79(0x3cc)];}get[a0_0x57c7f3(0x4a5)](){const _0x47b38c=a0_0x57c7f3;return{'code':this[_0x47b38c(0x1f8)][_0x47b38c(0x5b6)]?.[_0x47b38c(0x677)],'base64':this['instance']['qrcode']?.[_0x47b38c(0x4f9)]};}async[a0_0x57c7f3(0x4bd)](){const _0x4842e8=a0_0x57c7f3;let _0x3fdd13=await this['repository'][_0x4842e8(0x64a)]['find'](this['instanceName']);this[_0x4842e8(0x495)][_0x4842e8(0x3c6)]=_0x3fdd13?.[_0x4842e8(0x3c6)],this[_0x4842e8(0x495)][_0x4842e8(0x11e)]=_0x3fdd13?.[_0x4842e8(0x11e)],this[_0x4842e8(0x495)]['local_map']=_0x3fdd13?.[_0x4842e8(0x5ff)],this['localWebhook'][_0x4842e8(0x62a)]=_0x3fdd13?.['STATUS_INSTANCE'],this[_0x4842e8(0x495)][_0x4842e8(0x4b4)]=_0x3fdd13?.['QRCODE_UPDATED'],this['localWebhook'][_0x4842e8(0x3d5)]=_0x3fdd13?.['SEND_MESSAGE'],this['localWebhook']['MESSAGES_UPSERT']=_0x3fdd13?.['MESSAGES_UPSERT'],this[_0x4842e8(0x495)]['MESSAGES_UPDATE']=_0x3fdd13?.['MESSAGES_UPDATE'],this[_0x4842e8(0x495)]['GROUPS_UPSERT']=_0x3fdd13?.[_0x4842e8(0x5cf)],this[_0x4842e8(0x495)]['GROUPS_UPDATE']=_0x3fdd13?.[_0x4842e8(0x297)],this[_0x4842e8(0x495)][_0x4842e8(0x353)]=_0x3fdd13?.[_0x4842e8(0x353)],this[_0x4842e8(0x495)][_0x4842e8(0x13c)]=_0x3fdd13?.[_0x4842e8(0x13c)],this['localWebhook'][_0x4842e8(0x23d)]=_0x3fdd13?.[_0x4842e8(0x23d)],this[_0x4842e8(0x495)][_0x4842e8(0x597)]=_0x3fdd13?.[_0x4842e8(0x597)],this[_0x4842e8(0x495)][_0x4842e8(0x213)]=_0x3fdd13?.[_0x4842e8(0x213)],this[_0x4842e8(0x495)][_0x4842e8(0x2aa)]=_0x3fdd13?.[_0x4842e8(0x2aa)],this['localWebhook'][_0x4842e8(0x5d0)]=_0x3fdd13?.[_0x4842e8(0x5d0)],this['localWebhook'][_0x4842e8(0x42f)]=_0x3fdd13?.[_0x4842e8(0x42f)],this[_0x4842e8(0x495)][_0x4842e8(0x59c)]=_0x3fdd13?.[_0x4842e8(0x59c)],this[_0x4842e8(0x495)][_0x4842e8(0x214)]=_0x3fdd13?.[_0x4842e8(0x214)],this[_0x4842e8(0x495)][_0x4842e8(0x12c)]=_0x3fdd13?.[_0x4842e8(0x12c)];}async[a0_0x57c7f3(0x149)](_0x1f3269){const _0x30f70b=a0_0x57c7f3;let _0x377d78=[_0x30f70b(0x42b),_0x30f70b(0x3c6),'enabled',_0x30f70b(0x5ff),_0x30f70b(0x62a),_0x30f70b(0x4b4),_0x30f70b(0x15e),_0x30f70b(0x1e0),_0x30f70b(0x3d5),_0x30f70b(0x5cf),_0x30f70b(0x297),_0x30f70b(0x353),_0x30f70b(0x13c),_0x30f70b(0x23d),_0x30f70b(0x597),'CHATS_DELETE','CONTACTS_SET',_0x30f70b(0x5d0),'CONTACTS_UPDATE',_0x30f70b(0x59c),_0x30f70b(0x214),_0x30f70b(0x12c)],_0xf04a63={};return _0x377d78[_0x30f70b(0x2cb)](_0x13f580=>{_0x1f3269[_0x13f580]!==void 0x0&&(_0xf04a63[_0x13f580]=_0x1f3269[_0x13f580]);}),await this[_0x30f70b(0x15a)]['webhook'][_0x30f70b(0x411)](_0xf04a63,this[_0x30f70b(0x145)]),Object[_0x30f70b(0x33e)](this[_0x30f70b(0x495)],_0xf04a63),await this[_0x30f70b(0x15a)][_0x30f70b(0x64a)]['find'](this[_0x30f70b(0x145)]);}async['findWebhook'](){const _0x316751=a0_0x57c7f3;return await this[_0x316751(0x15a)][_0x316751(0x64a)][_0x316751(0x354)](this['instanceName']);}async['sendDataWebhook'](_0x5a545d,_0x8439ee){const _0x2ede5b=a0_0x57c7f3;let _0x1b34c2=this[_0x2ede5b(0x2f8)][_0x2ede5b(0x141)](_0x2ede5b(0x3be)),_0x55c914=_0x5a545d['replace'](/[\.-]/gm,'_')[_0x2ede5b(0x569)](),_0x2703ab=this[_0x2ede5b(0x495)][_0x2ede5b(0x11e)]&&(0x0,x[_0x2ede5b(0x396)])(this[_0x2ede5b(0x495)][_0x2ede5b(0x3c6)])?this[_0x2ede5b(0x495)][_0x2ede5b(0x3c6)]+(this[_0x2ede5b(0x495)]['local_map']?this[_0x2ede5b(0x66a)][_0x5a545d]:''):null,_0x2ec95b=_0x1b34c2?.[_0x2ede5b(0x2c2)],_0x2140de=_0x2ec95b&&_0x2ec95b?.[_0x2ede5b(0x528)]&&(0x0,x[_0x2ede5b(0x396)])(_0x2ec95b[_0x2ede5b(0x601)])?_0x2ec95b[_0x2ede5b(0x601)]+(_0x1b34c2[_0x2ede5b(0x44e)]?this[_0x2ede5b(0x66a)][_0x5a545d]:''):null,_0x1ef3bf=this['localWebhook'][_0x55c914],_0x1a05d6=_0x1b34c2?.[_0x2ede5b(0x1a4)]?.[_0x55c914];if(_0x1ef3bf&&_0x2703ab)try{await le[_0x2ede5b(0x19b)][_0x2ede5b(0x411)]({'baseURL':_0x2703ab})[_0x2ede5b(0x626)]('',{'event':_0x5a545d,'instance':this['instance']['name'],'data':_0x8439ee}),this[_0x2ede5b(0x27e)][_0x2ede5b(0x40c)](_0x2ede5b(0x30b)+_0x5a545d+':\x20'+_0x2703ab);}catch(_0x3fc82a){this[_0x2ede5b(0x27e)]['error'](this[_0x2ede5b(0x145)]+'\x20('+this[_0x2ede5b(0x1f8)][_0x2ede5b(0xed)]+_0x2ede5b(0x2c1)+{'local':l[_0x2ede5b(0x17c)]+_0x2ede5b(0x5be),'message':_0x3fc82a?.[_0x2ede5b(0x420)],'hostName':_0x3fc82a?.[_0x2ede5b(0x131)],'syscall':_0x3fc82a?.[_0x2ede5b(0x191)],'code':_0x3fc82a?.[_0x2ede5b(0x677)],'error':_0x3fc82a?.[_0x2ede5b(0x408)],'stack':_0x3fc82a?.['stack'],'name':_0x3fc82a?.['name']});}if(_0x1a05d6&&_0x2140de)try{await le[_0x2ede5b(0x19b)][_0x2ede5b(0x411)]({'baseURL':_0x2140de})[_0x2ede5b(0x626)]('',{'event':_0x5a545d,'instance':this[_0x2ede5b(0x1f8)][_0x2ede5b(0x17c)],'data':_0x8439ee}),this[_0x2ede5b(0x27e)][_0x2ede5b(0x40c)]('Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x5a545d+':\x20'+_0x2140de);}catch(_0x481698){this[_0x2ede5b(0x27e)][_0x2ede5b(0x5e3)](this[_0x2ede5b(0x145)]+'\x20('+this[_0x2ede5b(0x1f8)][_0x2ede5b(0xed)]+'):\x20'+{'local':l[_0x2ede5b(0x17c)]+_0x2ede5b(0x62c),'message':_0x481698?.[_0x2ede5b(0x420)],'hostName':_0x481698?.['hostname'],'syscall':_0x481698?.[_0x2ede5b(0x191)],'code':_0x481698?.[_0x2ede5b(0x677)],'error':_0x481698?.['errno'],'stack':_0x481698?.['stack'],'name':_0x481698?.['name']});}}async['connectionUpdate']({qr:_0x4a8858,connection:_0x27fb0f,lastDisconnect:_0xf538d5}){const _0x33d27f=a0_0x57c7f3;if(_0x4a8858){if(this['instance'][_0x33d27f(0x5b6)][_0x33d27f(0x41d)]===this['configService'][_0x33d27f(0x141)](_0x33d27f(0x100))['LIMIT'])return this[_0x33d27f(0x2b2)](_0x33d27f(0x530),{'message':_0x33d27f(0x50e),'statusCode':w[_0x33d27f(0x220)][_0x33d27f(0x40e)]}),this[_0x33d27f(0x2b2)](_0x33d27f(0x39a),{'instance':this[_0x33d27f(0x1f8)]['name'],'state':_0x33d27f(0x667),'statusReason':w['DisconnectReason'][_0x33d27f(0x619)]}),this[_0x33d27f(0x2b2)](_0x33d27f(0x660),{'instance':this['instance'][_0x33d27f(0x17c)],'status':_0x33d27f(0x3d8)}),this[_0x33d27f(0x5d4)]=!0x0,this[_0x33d27f(0x656)]['emit']('no.connection',this[_0x33d27f(0x1f8)][_0x33d27f(0x17c)]);this[_0x33d27f(0x1f8)][_0x33d27f(0x5b6)]['count']++;let _0xbe1258={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x33d27f(0x5d9),'dark':_0x33d27f(0x16e)}};ro[_0x33d27f(0x19b)]['toDataURL'](_0x4a8858,_0xbe1258,(_0x41d037,_0x12a6b9)=>{const _0x2cac2d=_0x33d27f;if(_0x41d037){this['logger'][_0x2cac2d(0x5e3)](this[_0x2cac2d(0x145)]+'\x20('+this[_0x2cac2d(0x1f8)]['wuid']+_0x2cac2d(0x68b)+_0x41d037[_0x2cac2d(0x5d3)]());return;}this['instance'][_0x2cac2d(0x5b6)][_0x2cac2d(0x4f9)]=_0x12a6b9,this[_0x2cac2d(0x1f8)]['qrcode'][_0x2cac2d(0x677)]=_0x4a8858,this['sendDataWebhook'](_0x2cac2d(0x530),{'qrcode':{'instance':this[_0x2cac2d(0x1f8)][_0x2cac2d(0x17c)],'code':_0x4a8858,'base64':_0x12a6b9}});}),no['default'][_0x33d27f(0x417)](_0x4a8858,{'small':!0x0},_0x222e6e=>this[_0x33d27f(0x27e)][_0x33d27f(0x40c)]('\x0a{\x20instance:\x20'+this[_0x33d27f(0x1f8)][_0x33d27f(0x17c)]+_0x33d27f(0x331)+this['instance'][_0x33d27f(0x5b6)][_0x33d27f(0x41d)]+_0x33d27f(0x14b)+_0x222e6e));}if(_0x27fb0f&&(this[_0x33d27f(0x508)]={'state':_0x27fb0f,'statusReason':_0xf538d5?.[_0x33d27f(0x5e3)]?.[_0x33d27f(0x5e2)]?.[_0x33d27f(0x62f)]??0xc8},this[_0x33d27f(0x2b2)]('connection.update',{'instance':this[_0x33d27f(0x1f8)][_0x33d27f(0x17c)],...this[_0x33d27f(0x508)]})),_0x27fb0f===_0x33d27f(0x14f)){if(this['reconnectAttempts']++,this[_0x33d27f(0x5e9)]['push'](Date[_0x33d27f(0xe3)]()),this[_0x33d27f(0x5e9)]=this['reconnectTimestamps']['filter'](_0x4a5ce0=>Date['now']()-_0x4a5ce0<this[_0x33d27f(0x200)]),_0xf538d5[_0x33d27f(0x5e3)]?.[_0x33d27f(0x5e2)]?.['statusCode']!==w[_0x33d27f(0x220)][_0x33d27f(0x11d)]&&this[_0x33d27f(0x5e9)][_0x33d27f(0x438)]<=this['MAX_RECONNECT_ATTEMPTS'])await this[_0x33d27f(0x674)]();else{this[_0x33d27f(0x2b2)]('status.instance',{'instance':this['instance']['name'],'status':_0x33d27f(0x3d8)}),this[_0x33d27f(0x634)]=!0x1;try{this[_0x33d27f(0x27e)]['verbose'](this['instanceName']+'\x20('+this[_0x33d27f(0x1f8)][_0x33d27f(0xed)]+'):\x20Tentando\x20deletar\x20todas\x20mensagens\x20updates...');let _0x531f16={'where':{'owner':this[_0x33d27f(0x1f8)][_0x33d27f(0xed)]}},_0x456aed=(await this[_0x33d27f(0x15a)][_0x33d27f(0x3e9)][_0x33d27f(0x354)](_0x531f16))[_0x33d27f(0x438)];await this[_0x33d27f(0x15a)][_0x33d27f(0x3e9)][_0x33d27f(0x497)](_0x531f16),this[_0x33d27f(0x27e)]['verbose'](this[_0x33d27f(0x145)]+'\x20('+this[_0x33d27f(0x1f8)]['wuid']+_0x33d27f(0x658)+_0x456aed+_0x33d27f(0x4a6));}catch(_0x2821b5){console[_0x33d27f(0x5e3)](_0x33d27f(0x5bc),_0x2821b5);}try{this[_0x33d27f(0x27e)]['verbose'](this['instanceName']+'\x20('+this[_0x33d27f(0x1f8)][_0x33d27f(0xed)]+_0x33d27f(0x266));let _0x2fb9a5={'where':{'owner':this[_0x33d27f(0x1f8)][_0x33d27f(0xed)]}},_0x5634ee=(await this[_0x33d27f(0x15a)]['message'][_0x33d27f(0x354)](_0x2fb9a5))[_0x33d27f(0x438)];await this['repository'][_0x33d27f(0x420)][_0x33d27f(0x497)](_0x2fb9a5),this[_0x33d27f(0x27e)][_0x33d27f(0x5b0)](this[_0x33d27f(0x145)]+'\x20('+this[_0x33d27f(0x1f8)][_0x33d27f(0xed)]+_0x33d27f(0x658)+_0x5634ee+_0x33d27f(0x642));}catch(_0x40cac9){console[_0x33d27f(0x5e3)](_0x33d27f(0x50b),_0x40cac9);}this[_0x33d27f(0x24a)]!==null&&(this['logger'][_0x33d27f(0x5b0)](this[_0x33d27f(0x145)]+'\x20('+this[_0x33d27f(0x1f8)][_0x33d27f(0xed)]+_0x33d27f(0x11c)),clearInterval(this[_0x33d27f(0x24a)]),this[_0x33d27f(0x24a)]=null),this[_0x33d27f(0x27e)][_0x33d27f(0x5b0)](this['instanceName']+'\x20('+this['instance'][_0x33d27f(0xed)]+_0x33d27f(0x649)),this[_0x33d27f(0x3d3)]=null,this[_0x33d27f(0x656)][_0x33d27f(0x623)](_0x33d27f(0x5de),this[_0x33d27f(0x1f8)][_0x33d27f(0x17c)],_0x33d27f(0x3f4)),this['client']?.['ws']?.[_0x33d27f(0x14f)](),this[_0x33d27f(0x369)][_0x33d27f(0x62d)](new Error(_0x33d27f(0x1e9)));}}if(_0x27fb0f===_0x33d27f(0x4c5)){this[_0x33d27f(0x65a)],this[_0x33d27f(0x1f8)][_0x33d27f(0xed)]=this[_0x33d27f(0x369)][_0x33d27f(0x133)]['id'][_0x33d27f(0x289)](/:\d+/,'')['replace']('@s.whatsapp.net',''),this[_0x33d27f(0x1f8)][_0x33d27f(0x3cc)]=(await this[_0x33d27f(0x5b8)](this[_0x33d27f(0x1f8)][_0x33d27f(0xed)]+_0x33d27f(0x49f)))[_0x33d27f(0x3cc)];let _0x4aaa8d='Número:\x20'+this[_0x33d27f(0x1f8)][_0x33d27f(0xed)],_0xa2cf0f=0x28,_0x131430=Math[_0x33d27f(0x657)]((_0xa2cf0f-_0x4aaa8d[_0x33d27f(0x438)])/0x2),_0x11df02='\x20'['repeat'](_0x131430),_0x589f08=_0x33d27f(0x382),_0x47799d=_0x33d27f(0x442)+this[_0x33d27f(0x1f8)][_0x33d27f(0x17c)],_0x2f4d54=(''+_0x11df02+_0x4aaa8d+_0x11df02)[_0x33d27f(0x340)](_0xa2cf0f,'\x20'),_0x2fd011=(''+_0x11df02+_0x589f08+_0x11df02)[_0x33d27f(0x340)](_0xa2cf0f,'\x20'),_0x15beec=(''+_0x11df02+_0x47799d+_0x11df02)[_0x33d27f(0x340)](_0xa2cf0f,'\x20'),_0x25dd41=Math[_0x33d27f(0x60b)](_0x2f4d54[_0x33d27f(0x438)],_0x2fd011[_0x33d27f(0x438)],_0x15beec[_0x33d27f(0x438)]),_0x54a126=_0x2f4d54['padEnd'](_0x25dd41,'\x20'),_0x39e911=_0x2fd011[_0x33d27f(0x340)](_0x25dd41,'\x20'),_0x3e5819=_0x15beec[_0x33d27f(0x340)](_0x25dd41,'\x20');this[_0x33d27f(0x27e)][_0x33d27f(0x3f1)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x33d27f(0x108)](_0x25dd41)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x39e911+_0x33d27f(0x392)+_0x3e5819+_0x33d27f(0x392)+_0x54a126+_0x33d27f(0x249)+'─'['repeat'](_0x25dd41)+'┘')[_0x33d27f(0x289)](/^ +/gm,'\x20\x20')),this[_0x33d27f(0x1fb)](),this[_0x33d27f(0x634)]=!0x0;}}[a0_0x57c7f3(0x65a)](){const _0x470a41=a0_0x57c7f3;this[_0x470a41(0x4fc)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x57c7f3(0x1d7)](_0x5cbbac,_0x51be4d=!0x1){const _0x4907e6=a0_0x57c7f3;try{let _0x2bae63=await this[_0x4907e6(0x15a)]['message'][_0x4907e6(0x354)]({'where':{'owner':this['instance']['wuid'],'key':{'id':_0x5cbbac['id']}}});return _0x51be4d?_0x2bae63[0x0]:_0x2bae63[0x0][_0x4907e6(0x420)];}catch{return{'conversation':''};}}[a0_0x57c7f3(0x1ab)](){const _0x42b1a6=a0_0x57c7f3;let _0x1ca28e=this['configService'][_0x42b1a6(0x141)](_0x42b1a6(0x3de)),_0x59b80=this[_0x42b1a6(0x2f8)]['get'](_0x42b1a6(0x648));_0x1ca28e?.['CLEANING_INTERVAL']&&!_0x59b80['ENABLED']&&setInterval(()=>{const _0xf254ee=_0x42b1a6;try{for(let [_0x14cd90,_0x2109ad]of Object[_0xf254ee(0x189)](_0x1ca28e))_0x2109ad===!0x0&&(0x0,lo[_0xf254ee(0x1ef)])(_0xf254ee(0x1ad)+(0x0,Z[_0xf254ee(0x1b9)])(this[_0xf254ee(0x636)],_0x14cd90['toLowerCase'](),this[_0xf254ee(0x1f8)][_0xf254ee(0xed)])+_0xf254ee(0x18c));}catch{}},(_0x1ca28e?.[_0x42b1a6(0x137)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x2789dc=a0_0x57c7f3;let _0x51904e=this[_0x2789dc(0x2f8)][_0x2789dc(0x141)](_0x2789dc(0x648)),_0x18c0bd=this[_0x2789dc(0x2f8)]['get'](_0x2789dc(0x292));return _0x18c0bd?.[_0x2789dc(0x528)]?await ys(_0x18c0bd,this['instance'][_0x2789dc(0x17c)]):_0x51904e[_0x2789dc(0x528)]?await ws(this[_0x2789dc(0x1f8)][_0x2789dc(0x17c)]):await(0x0,w['useMultiFileAuthState'])((0x0,Z[_0x2789dc(0x1b9)])(V,this[_0x2789dc(0x1f8)][_0x2789dc(0x17c)]));}async[a0_0x57c7f3(0x1fb)](){const _0x4ce84b=a0_0x57c7f3;let _0xe3de88=()=>Math['floor'](Math[_0x4ce84b(0x18e)]()*0x2711)+0x7d0,_0x343700=async()=>{const _0x4fc891=_0x4ce84b;if(!this[_0x4fc891(0x634)]){this[_0x4fc891(0x27e)][_0x4fc891(0x5b0)](_0x4fc891(0x4a7)),this[_0x4fc891(0x2ee)]=!0x1;return;}if(this['instance'][_0x4fc891(0xed)]&&this[_0x4fc891(0x3d3)]&&this['delayMessage']!==null&&this[_0x4fc891(0x24a)]!==void 0x0){let _0x2529f1=Math['round'](this[_0x4fc891(0x24a)]/0xea60);this[_0x4fc891(0x27e)][_0x4fc891(0x5b0)](this[_0x4fc891(0x145)]+'\x20('+this[_0x4fc891(0x1f8)][_0x4fc891(0xed)]+_0x4fc891(0x344)+_0x2529f1+_0x4fc891(0x456)),this[_0x4fc891(0x2ee)]=!0x1;return;}else this[_0x4fc891(0x1f8)][_0x4fc891(0xed)]&&(this['logger'][_0x4fc891(0x5b0)](this[_0x4fc891(0x145)]+'\x20('+this[_0x4fc891(0x1f8)][_0x4fc891(0xed)]+_0x4fc891(0x653)),this[_0x4fc891(0x3d3)]||await this['getAutomateSystem'](),(this[_0x4fc891(0x24a)]===null||this[_0x4fc891(0x24a)]===void 0x0)&&await this[_0x4fc891(0x3e7)]());if(this[_0x4fc891(0x2ee)]){let _0x2d0737=_0xe3de88();this[_0x4fc891(0x27e)]['verbose'](this['instanceName']+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x2d0737/0x3e8+_0x4fc891(0x63b)),setTimeout(_0x343700,_0x2d0737);}};if(this[_0x4ce84b(0x2ee)])return;this[_0x4ce84b(0x2ee)]=!0x0;let _0x779ffc=_0xe3de88();setTimeout(_0x343700,_0x779ffc);}async[a0_0x57c7f3(0x674)](){const _0x2a7200=a0_0x57c7f3;try{this[_0x2a7200(0x4bd)](),this['instance'][_0x2a7200(0x5e6)]=await this[_0x2a7200(0x10f)]();let {version:_0x8494ff}=await(0x0,w[_0x2a7200(0x55d)])(),_0x53d610=this[_0x2a7200(0x2f8)]['get'](_0x2a7200(0x13a)),_0x205bfa=[_0x53d610[_0x2a7200(0x603)],_0x53d610['NAME'],(0x0,co[_0x2a7200(0x42a)])()],_0x56b915={'auth':{'creds':this['instance'][_0x2a7200(0x5e6)][_0x2a7200(0x4d1)][_0x2a7200(0x2b3)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x2a7200(0x1f8)][_0x2a7200(0x5e6)][_0x2a7200(0x4d1)]['keys'],(0x0,$t['default'])({'level':_0x2a7200(0x5e3)}))},'logger':(0x0,$t[_0x2a7200(0x19b)])({'level':_0x2a7200(0x5e3)}),'printQRInTerminal':!0x1,'browser':_0x205bfa,'version':_0x8494ff,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'msgRetryCounterCache':this[_0x2a7200(0x45b)],'getMessage':async _0x588efa=>await this['getMessage'](_0x588efa),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x0,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0x1,'delayBetweenTriesMs':0xa},'patchMessageBeforeSending':_0xc7d47a=>(!!(_0xc7d47a[_0x2a7200(0x23a)]||_0xc7d47a[_0x2a7200(0x111)])&&(_0xc7d47a={'viewOnceMessageV2':{'message':{'messageContextInfo':{'deviceListMetadataVersion':0x2,'deviceListMetadata':{}},..._0xc7d47a}}}),_0xc7d47a)};return this[_0x2a7200(0x5d4)]=!0x1,this[_0x2a7200(0x369)]=(0x0,w[_0x2a7200(0x19b)])(_0x56b915),this[_0x2a7200(0xfc)](),this['client'];}catch(_0x5c59e1){throw this['logger'][_0x2a7200(0x5e3)](this[_0x2a7200(0x145)]+'\x20('+this[_0x2a7200(0x1f8)][_0x2a7200(0xed)]+_0x2a7200(0x2c1)+_0x5c59e1),new I(_0x5c59e1?.[_0x2a7200(0x5d3)]());}}['eventHandler'](){const _0x5bf53b=a0_0x57c7f3;this[_0x5bf53b(0x369)]['ev']['process'](_0x591265=>{const _0x3368bd=_0x5bf53b;if(!this[_0x3368bd(0x5d4)]){let _0x21bb53=this[_0x3368bd(0x2f8)][_0x3368bd(0x141)]('DATABASE');if(_0x591265['connection.update']&&this[_0x3368bd(0x620)](_0x591265[_0x3368bd(0x39a)]),_0x591265[_0x3368bd(0x5c8)]&&this[_0x3368bd(0x1f8)][_0x3368bd(0x5e6)]['saveCreds'](),_0x591265[_0x3368bd(0x5aa)]){let _0xcf996b=_0x591265[_0x3368bd(0x5aa)];this[_0x3368bd(0x269)][_0x3368bd(0x5aa)](_0xcf996b,_0x21bb53);}if(_0x591265[_0x3368bd(0x48a)]){let _0x3e796a=_0x591265[_0x3368bd(0x48a)];this[_0x3368bd(0x269)][_0x3368bd(0x48a)](_0x3e796a,_0x21bb53);}if(_0x591265[_0x3368bd(0x313)]){let _0x5e8a9a=_0x591265[_0x3368bd(0x313)];this[_0x3368bd(0x269)][_0x3368bd(0x313)](_0x5e8a9a,_0x21bb53);}if(_0x591265['presence.update']){let _0x4b9d68=_0x591265[_0x3368bd(0xd3)];this['sendDataWebhook'](_0x3368bd(0xd3),_0x4b9d68);}if(_0x591265[_0x3368bd(0x2dd)]){let _0x591571=_0x591265[_0x3368bd(0x2dd)];this[_0x3368bd(0x608)][_0x3368bd(0x2dd)](_0x591571);}if(_0x591265['groups.update']){let _0x9acad3=_0x591265['groups.update'];this[_0x3368bd(0x608)][_0x3368bd(0x29a)](_0x9acad3);}if(_0x591265[_0x3368bd(0x52b)]){let _0x232609=_0x591265[_0x3368bd(0x52b)];this['groupHandler'][_0x3368bd(0x52b)](_0x232609);}if(_0x591265[_0x3368bd(0x2a0)]){let _0x11cc6d=_0x591265['chats.upsert'];this[_0x3368bd(0xce)]['chats.upsert'](_0x11cc6d,_0x21bb53);}if(_0x591265[_0x3368bd(0x262)]){let _0x5d7c0d=_0x591265[_0x3368bd(0x262)];this[_0x3368bd(0xce)]['chats.update'](_0x5d7c0d,_0x21bb53);}if(_0x591265[_0x3368bd(0x156)]){let _0x4bfa52=_0x591265['chats.delete'];this['chatHandle'][_0x3368bd(0x156)](_0x4bfa52);}if(_0x591265[_0x3368bd(0x211)]){let _0x5c9e2d=_0x591265['contacts.upsert'];this[_0x3368bd(0x281)][_0x3368bd(0x211)](_0x5c9e2d,_0x21bb53);}if(_0x591265['contacts.update']){let _0x51d2c1=_0x591265['contacts.update'];this[_0x3368bd(0x281)][_0x3368bd(0x650)](_0x51d2c1,_0x21bb53);}}});}[a0_0x57c7f3(0x3e1)](_0x698c64){const _0x55e1e7=a0_0x57c7f3;return _0x698c64[_0x55e1e7(0x3b6)]('@g.us')||_0x698c64[_0x55e1e7(0x3b6)](_0x55e1e7(0x49f))||_0x698c64[_0x55e1e7(0x3b6)]('@broadcast')?_0x698c64:(_0x698c64=_0x698c64?.[_0x55e1e7(0x289)](/\s/g,'')[_0x55e1e7(0x289)](/\+/g,'')[_0x55e1e7(0x289)](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0][_0x55e1e7(0x479)]('@')[0x0],_0x698c64[_0x55e1e7(0x438)]>=0x12?(_0x698c64=_0x698c64[_0x55e1e7(0x289)](/[^\d-]/g,''),_0x698c64+'@g.us'):(_0x698c64=_0x698c64[_0x55e1e7(0x289)](/\D/g,''),_0x698c64+'@s.whatsapp.net'));}async[a0_0x57c7f3(0x5b8)](_0x2000f8){const _0x3eb30a=a0_0x57c7f3;let _0x1d2464=this[_0x3eb30a(0x3e1)](_0x2000f8);return await this[_0x3eb30a(0x27d)](_0x1d2464)['catch'](_0x3c1e66=>(this[_0x3eb30a(0x27e)]['error'](_0x3eb30a(0x4fb)+_0x3c1e66),{'wuid':_0x1d2464,'profilePictureUrl':null}));}async[a0_0x57c7f3(0x27d)](_0x5a1830){const _0x4d8e53=a0_0x57c7f3;let _0x3a3bbc=null,_0x330e25=null,_0x3d38a1;try{_0x3a3bbc=await this[_0x4d8e53(0x369)][_0x4d8e53(0x3cc)](_0x5a1830,'image');}catch(_0x131369){this[_0x4d8e53(0x27e)][_0x4d8e53(0x5e3)](_0x4d8e53(0x1c0)+_0x131369);}if(_0x5a1830[_0x4d8e53(0x43c)](_0x4d8e53(0x615))){let _0x152b69=(await this['findGroup']({'groupJid':_0x5a1830}))[_0x4d8e53(0x105)][_0x4d8e53(0x4cf)];_0x3d38a1=await R[_0x4d8e53(0x4af)]({'id':_0x5a1830,'owner':this[_0x4d8e53(0x1f8)]['wuid']},{'$set':{'imagechat':_0x3a3bbc,'name':_0x152b69,'lastcache':Date['now']()}},{'new':!0x0});}else{try{let _0x476da0=await Fe[_0x4d8e53(0xd7)]({'id':_0x5a1830});_0x330e25=_0x476da0?_0x476da0[_0x4d8e53(0x2b8)]:null;}catch(_0x27184d){this[_0x4d8e53(0x27e)]['error'](_0x4d8e53(0x489)+_0x27184d);}_0x3d38a1=await R[_0x4d8e53(0x4af)]({'id':_0x5a1830,'owner':this['instance']['wuid']},{'$set':{'imagechat':_0x3a3bbc,'name':_0x330e25,'lastcache':Date['now']()}},{'new':!0x0});}return _0x3d38a1&&H(this['instanceName'],_0x4d8e53(0x169),{'chat':_0x3d38a1}),{'wuid':_0x5a1830,'profilePictureUrl':_0x3a3bbc,'contactName':_0x330e25};}async[a0_0x57c7f3(0x473)](_0x1ef4ef,_0x478a82,_0x252d13){const _0xf2cecf=a0_0x57c7f3;let _0x3cfa75=(await this['whatsappNumber']({'numbers':[_0x1ef4ef]}))[0x0];if(!_0x3cfa75[_0xf2cecf(0x413)]&&!(0x0,w[_0xf2cecf(0x1d4)])(_0x3cfa75[_0xf2cecf(0x362)])&&!_0x3cfa75[_0xf2cecf(0x362)][_0xf2cecf(0x3b6)](_0xf2cecf(0x32e)))throw new m(_0x3cfa75);let _0x180836=_0x3cfa75['jid'];try{_0x252d13?.[_0xf2cecf(0x5f4)]&&(await this['client'][_0xf2cecf(0x101)](_0x180836),await this['client'][_0xf2cecf(0x397)](_0x252d13?.[_0xf2cecf(0x268)]??_0xf2cecf(0x13f),_0x180836),await(0x0,w[_0xf2cecf(0x5f4)])(_0x252d13['delay']),await this['client'][_0xf2cecf(0x397)]('paused',_0x180836));let _0x364cbf=_0x252d13?.['linkPreview']!=!0x1?void 0x0:!0x1,_0x4d51fa;if(_0x252d13?.['quoted']){let _0x216305=_0x252d13?.['quoted'],_0x3aa77b=_0x216305?.[_0xf2cecf(0x420)]?_0x216305:await this[_0xf2cecf(0x1d7)](_0x216305[_0xf2cecf(0x572)],!0x0);if(!_0x3aa77b)throw _0xf2cecf(0x4c2);_0x4d51fa=_0x3aa77b;}let _0x1356aa;if((0x0,w[_0xf2cecf(0x1d4)])(_0x180836))try{let _0x72804c=await this[_0xf2cecf(0x369)][_0xf2cecf(0x3fd)](_0x180836);if(!_0x72804c)throw new L(_0xf2cecf(0x4ad));_0x252d13?.[_0xf2cecf(0x2f6)]&&(_0x252d13[_0xf2cecf(0x2f6)]?.['everyOne']?_0x1356aa=_0x72804c[_0xf2cecf(0x208)][_0xf2cecf(0x1bd)](_0x21a3ed=>_0x21a3ed['id']):_0x252d13[_0xf2cecf(0x2f6)]?.[_0xf2cecf(0x3dc)]?.[_0xf2cecf(0x438)]&&(_0x1356aa=_0x252d13[_0xf2cecf(0x2f6)][_0xf2cecf(0x3dc)][_0xf2cecf(0x1bd)](_0x26844d=>{const _0x505d67=_0xf2cecf;let _0x2c1d98=this[_0x505d67(0x3e1)](_0x26844d);return(0x0,w[_0x505d67(0x1d4)])(_0x2c1d98)?null:_0x2c1d98;})));}catch{throw new L('Group\x20not\x20found');}let _0xfb9cc8=await((async()=>{const _0x516bc5=_0xf2cecf;let _0x45a9dc={'quoted':_0x4d51fa};return!_0x478a82[_0x516bc5(0x559)]&&!_0x478a82[_0x516bc5(0x163)]&&!_0x478a82['sticker']&&!_0x478a82['conversation']&&_0x180836!==_0x516bc5(0x5dd)&&!_0x478a82[_0x516bc5(0x559)]?await this[_0x516bc5(0x369)][_0x516bc5(0x579)](_0x180836,{'forward':{'key':{'remoteJid':this[_0x516bc5(0x1f8)][_0x516bc5(0xed)],'fromMe':!0x0},'message':_0x478a82},'mentions':_0x1356aa},_0x45a9dc):_0x478a82[_0x516bc5(0x506)]?await this[_0x516bc5(0x369)]['sendMessage'](_0x180836,{'text':_0x478a82['conversation'],'mentions':_0x1356aa,'linkPreview':_0x364cbf},_0x45a9dc):_0x180836===_0x516bc5(0x5dd)?await this[_0x516bc5(0x369)][_0x516bc5(0x579)](_0x180836,_0x478a82[_0x516bc5(0x255)][_0x516bc5(0x595)],{'backgroundColor':_0x478a82['status'][_0x516bc5(0x2d1)]['backgroundColor'],'font':_0x478a82[_0x516bc5(0x255)]['option'][_0x516bc5(0x17d)],'statusJidList':_0x478a82[_0x516bc5(0x255)][_0x516bc5(0x2d1)]['statusJidList']}):await this[_0x516bc5(0x369)][_0x516bc5(0x579)](_0x180836,_0x478a82,_0x45a9dc);})()),{message_normalized:_0xf0c2cd}=this['normalizeMessage'](_0xfb9cc8[_0xf2cecf(0x420)],q(_0xfb9cc8['message']),null),_0x5153e9={'key':_0xfb9cc8['key'],'pushName':_0xfb9cc8[_0xf2cecf(0x2b8)],'message':{..._0xfb9cc8[_0xf2cecf(0x420)]},'messageType':q(_0xfb9cc8[_0xf2cecf(0x420)]),'message_normalized':{'key':_0xfb9cc8[_0xf2cecf(0x572)],'pushName':_0xfb9cc8['pushName'],'messageTimestamp':_0xfb9cc8[_0xf2cecf(0x60c)]&&_0xfb9cc8[_0xf2cecf(0x60c)]['toString']()[_0xf2cecf(0x438)]<0xd?_0xfb9cc8[_0xf2cecf(0x60c)]*0x3e8:_0xfb9cc8[_0xf2cecf(0x60c)]||null,'source':(0x0,w['getDevice'])(_0xfb9cc8[_0xf2cecf(0x572)]['id']),..._0xf0c2cd},'messageTimestamp':_0xfb9cc8[_0xf2cecf(0x60c)]&&_0xfb9cc8[_0xf2cecf(0x60c)][_0xf2cecf(0x5d3)]()[_0xf2cecf(0x438)]<0xd?_0xfb9cc8[_0xf2cecf(0x60c)]*0x3e8:_0xfb9cc8[_0xf2cecf(0x60c)]||null,'owner':this[_0xf2cecf(0x1f8)][_0xf2cecf(0xed)],'source':(0x0,w['getDevice'])(_0xfb9cc8[_0xf2cecf(0x572)]['id'])};return this[_0xf2cecf(0x27e)]['log'](_0x5153e9),await this[_0xf2cecf(0x2b2)](_0xf2cecf(0x201),_0x5153e9),H(this[_0xf2cecf(0x145)],_0xf2cecf(0x16f),{'message':_0x5153e9}),this['updateChatWithMessage'](this[_0xf2cecf(0x2f8)][_0xf2cecf(0x141)](_0xf2cecf(0x648)),_0x5153e9,'SEND_MESSAGE'),await this[_0xf2cecf(0x15a)]['message'][_0xf2cecf(0x35f)]([_0x5153e9],this['configService']['get']('DATABASE')[_0xf2cecf(0x528)]),_0xfb9cc8;}catch(_0x32ca1a){throw this[_0xf2cecf(0x27e)][_0xf2cecf(0x5e3)](this[_0xf2cecf(0x145)]+'\x20('+this[_0xf2cecf(0x1f8)][_0xf2cecf(0xed)]+_0xf2cecf(0x2c1)+_0x32ca1a[_0xf2cecf(0x5d3)]()),new m(_0x32ca1a[_0xf2cecf(0x5d3)]());}}get[a0_0x57c7f3(0x26b)](){return this['stateConnection'];}async[a0_0x57c7f3(0x4ea)](_0x5dbf8d){const _0x3a5054=a0_0x57c7f3;let _0x36df30=this['configService'][_0x3a5054(0x141)]('TRIAL_AD'),_0x317283=this[_0x3a5054(0x2f8)][_0x3a5054(0x141)](_0x3a5054(0x2d7));return _0x317283&&this['instanceName'][_0x3a5054(0x62e)]()[_0x3a5054(0x3b6)](_0x317283[_0x3a5054(0x62e)]())&&(_0x5dbf8d['textMessage'][_0x3a5054(0x184)]+='\x0a\x0a'+_0x36df30),await this[_0x3a5054(0x473)](_0x5dbf8d[_0x3a5054(0x3a9)],{'conversation':_0x5dbf8d[_0x3a5054(0x4ea)][_0x3a5054(0x184)]},_0x5dbf8d?.['options']);}async[a0_0x57c7f3(0x5a5)](_0x561547){const _0x182d09=a0_0x57c7f3;if(!_0x561547[_0x182d09(0x1ae)])throw new m(_0x182d09(0x22d));if(!_0x561547[_0x182d09(0x595)])throw new m(_0x182d09(0x631));if(_0x561547[_0x182d09(0x24b)]){let _0x34a72f=await this[_0x182d09(0x15a)]['contact'][_0x182d09(0x354)]({'where':{'owner':this[_0x182d09(0x1f8)][_0x182d09(0xed)]}});if(!_0x34a72f['length'])throw new m(_0x182d09(0x390));_0x561547[_0x182d09(0x2f3)]=_0x34a72f['filter'](_0x2d5afe=>_0x2d5afe['pushName'])[_0x182d09(0x1bd)](_0x314283=>_0x314283['id']);}if(!_0x561547[_0x182d09(0x2f3)]?.[_0x182d09(0x438)]&&!_0x561547['allContacts'])throw new m(_0x182d09(0x589));if(_0x561547[_0x182d09(0x1ae)]===_0x182d09(0x184)){if(!_0x561547['backgroundColor'])throw new m(_0x182d09(0x4e6));if(!_0x561547[_0x182d09(0x17d)])throw new m('Font\x20is\x20required');return{'content':{'text':_0x561547['content']},'option':{'backgroundColor':_0x561547['backgroundColor'],'font':_0x561547[_0x182d09(0x17d)],'statusJidList':_0x561547[_0x182d09(0x2f3)]}};}if(_0x561547[_0x182d09(0x1ae)]===_0x182d09(0x10d))return{'content':{'image':{'url':_0x561547[_0x182d09(0x595)]},'caption':_0x561547[_0x182d09(0x263)]},'option':{'statusJidList':_0x561547[_0x182d09(0x2f3)]}};if(_0x561547['type']===_0x182d09(0x216))return{'content':{'video':{'url':_0x561547[_0x182d09(0x595)]},'caption':_0x561547['caption']},'option':{'statusJidList':_0x561547['statusJidList']}};if(_0x561547[_0x182d09(0x1ae)]==='audio'){let _0x38d92c;if((0x0,x[_0x182d09(0x396)])(_0x561547[_0x182d09(0x595)])){let _0x39757f=await le[_0x182d09(0x19b)]['get'](_0x561547['content'],{'responseType':_0x182d09(0x509)});if(_0x38d92c=Buffer[_0x182d09(0x41b)](_0x39757f[_0x182d09(0x51a)]),_0x561547[_0x182d09(0x595)][_0x182d09(0x43c)](_0x182d09(0x494)))try{_0x38d92c=await this['convertaudio'](_0x38d92c);}catch(_0x54852a){throw new I(_0x182d09(0x451)+_0x54852a[_0x182d09(0x420)]);}else _0x38d92c=Buffer[_0x182d09(0x41b)](_0x561547['content'],'base64');let _0x35e78e=_0x38d92c;return{'content':{'audio':Buffer[_0x182d09(0x41b)](_0x35e78e,'base64'),'ptt':!0x0,'mimetype':_0x182d09(0x4ab)},'option':{'statusJidList':_0x561547[_0x182d09(0x2f3)]}};}else throw new I();}throw new m(_0x182d09(0xf8));}async['statusMessage'](_0x12f14f){const _0x5cd2ed=a0_0x57c7f3;return await this['sendMessageWithTyping'](_0x5cd2ed(0x5dd),{'status':await this[_0x5cd2ed(0x5a5)](_0x12f14f[_0x5cd2ed(0x467)])});}async[a0_0x57c7f3(0x4cb)](_0x5aa904){const _0x3293f4=a0_0x57c7f3;try{let _0xa1987d=await(0x0,w['prepareWAMessageMedia'])({[_0x5aa904['mediatype']]:(0x0,x[_0x3293f4(0x396)])(_0x5aa904[_0x3293f4(0x18d)])?{'url':_0x5aa904[_0x3293f4(0x18d)]}:Buffer[_0x3293f4(0x41b)](_0x5aa904[_0x3293f4(0x18d)],'base64')},{'upload':this[_0x3293f4(0x369)]['waUploadToServer']}),_0x4f4d9b=_0x5aa904[_0x3293f4(0x2e3)]+_0x3293f4(0x5a0);if(_0x5aa904['mediatype']===_0x3293f4(0x1b6)&&!_0x5aa904[_0x3293f4(0x3df)]){let _0x542172=new RegExp(/.*\/(.+?)\./)[_0x3293f4(0x461)](_0x5aa904[_0x3293f4(0x18d)]);_0x5aa904[_0x3293f4(0x3df)]=_0x542172[0x1];}let _0x2b7c78;(0x0,x[_0x3293f4(0x396)])(_0x5aa904[_0x3293f4(0x18d)])?_0x2b7c78=(0x0,bs[_0x3293f4(0x182)])(_0x5aa904[_0x3293f4(0x18d)]):_0x2b7c78=(0x0,bs[_0x3293f4(0x182)])(_0x5aa904[_0x3293f4(0x3df)]);let _0x9fb348=this[_0x3293f4(0x2f8)][_0x3293f4(0x141)](_0x3293f4(0x1d3)),_0x2d71ad=this['configService']['get'](_0x3293f4(0x2d7));return _0x2d71ad&&this[_0x3293f4(0x145)][_0x3293f4(0x62e)]()['includes'](_0x2d71ad['toLowerCase']())&&(_0x5aa904[_0x3293f4(0x263)]+='\x0a\x0a'+_0x9fb348),_0xa1987d[_0x4f4d9b]['caption']=_0x5aa904?.[_0x3293f4(0x263)],_0xa1987d[_0x4f4d9b][_0x3293f4(0x3db)]=_0x2b7c78,_0xa1987d[_0x4f4d9b][_0x3293f4(0x3df)]=_0x5aa904[_0x3293f4(0x3df)],_0x5aa904[_0x3293f4(0x2e3)]==='video'&&(_0xa1987d[_0x4f4d9b][_0x3293f4(0x22b)]=Uint8Array['from']((0x0,_e['readFileSync'])((0x0,Z[_0x3293f4(0x1b9)])(process[_0x3293f4(0x3c2)](),_0x3293f4(0x2a2)))),_0xa1987d[_0x4f4d9b][_0x3293f4(0x251)]=!0x1),(0x0,w[_0x3293f4(0x550)])('',{[_0x4f4d9b]:{..._0xa1987d[_0x4f4d9b]}},{'userJid':this['instance']['wuid']});}catch(_0x2d5381){throw this[_0x3293f4(0x27e)][_0x3293f4(0x5e3)](this['instanceName']+'\x20('+this['instance'][_0x3293f4(0xed)]+_0x3293f4(0x2c1)+_0x2d5381),new I(_0x2d5381?.[_0x3293f4(0x5d3)]()||_0x2d5381);}}async[a0_0x57c7f3(0x2ad)](_0x4d5cfb){const _0x5caae0=a0_0x57c7f3;let _0x5e7607=await this[_0x5caae0(0x4cb)](_0x4d5cfb[_0x5caae0(0x2ad)]);return await this[_0x5caae0(0x473)](_0x4d5cfb[_0x5caae0(0x3a9)],{..._0x5e7607[_0x5caae0(0x420)]},_0x4d5cfb?.[_0x5caae0(0x5d7)]);}async[a0_0x57c7f3(0x1a0)](_0x2f0e5d){const _0x5059d9=a0_0x57c7f3;return await this['sendMessageWithTyping'](_0x2f0e5d['number'],{'sticker':{'url':_0x2f0e5d[_0x5059d9(0x5ec)][_0x5059d9(0x10d)]}},_0x2f0e5d?.[_0x5059d9(0x5d7)]);}async[a0_0x57c7f3(0xcd)](_0x64cecf){const _0x3f0441=a0_0x57c7f3;let _0x5d5ace;if((0x0,x[_0x3f0441(0x396)])(_0x64cecf[_0x3f0441(0x261)][_0x3f0441(0x559)])){let _0x57930e=await le[_0x3f0441(0x19b)][_0x3f0441(0x141)](_0x64cecf['audioMessage'][_0x3f0441(0x559)],{'responseType':_0x3f0441(0x509)});if(_0x5d5ace=Buffer['from'](_0x57930e[_0x3f0441(0x51a)]),_0x64cecf['audioMessage']['audio'][_0x3f0441(0x43c)]('.mp3'))try{_0x5d5ace=await this[_0x3f0441(0x1ac)](_0x5d5ace);}catch(_0xd2a1b3){throw new I(_0x3f0441(0x451)+_0xd2a1b3['message']);}}else _0x5d5ace=Buffer[_0x3f0441(0x41b)](_0x64cecf[_0x3f0441(0x261)][_0x3f0441(0x559)],'base64');let _0x493414=_0x5d5ace;return this[_0x3f0441(0x473)](_0x64cecf[_0x3f0441(0x3a9)],{'audio':_0x493414,'mimetype':'audio/ogg;\x20codecs=opus','ptt':!0x0},{'presence':'recording','delay':_0x64cecf?.[_0x3f0441(0x5d7)]?.['delay']});}async['convertaudio'](_0x4809e6){return new Promise(async(_0x13f779,_0x1e023b)=>{const _0x589c74=a0_0x2228;let _0x130206=po[_0x589c74(0x228)][_0x589c74(0x41b)](_0x4809e6),_0x58632b=new mo['WritableStreamBuffer']();(0x0,uo[_0x589c74(0x19b)])()['input'](_0x130206)[_0x589c74(0x173)]()[_0x589c74(0x688)](['-acodec',_0x589c74(0x3a2),_0x589c74(0x3e0),_0x589c74(0x59f)])[_0x589c74(0x2ef)](_0x589c74(0x3a6))['audioChannels'](0x1)[_0x589c74(0x5d2)](0xbb80)[_0x589c74(0x55c)](0x12)['format']('ogg')[_0x589c74(0x5e2)](_0x58632b)['on'](_0x589c74(0x62d),async()=>{const _0x52d101=_0x589c74;let _0x47f1d3=_0x58632b[_0x52d101(0x21e)]();Buffer[_0x52d101(0x174)](_0x47f1d3)?_0x13f779(_0x47f1d3):_0x1e023b(new Error(_0x52d101(0x59b)));})['on'](_0x589c74(0x5e3),_0x541f6a=>{_0x1e023b(_0x541f6a);})[_0x589c74(0x63d)]();});}async['buttonMessage'](_0x54fe3f){const _0x31733a=a0_0x57c7f3;let _0x2271a1={},_0xbe437c=_0x31733a(0xfd);if(_0x54fe3f[_0x31733a(0x36c)]?.[_0x31733a(0x2ad)]){_0xbe437c=_0x54fe3f[_0x31733a(0x36c)]['mediaMessage']?.['mediatype']['toUpperCase']()??_0x31733a(0xfd),_0x2271a1['mediaKey']=_0xbe437c[_0x31733a(0x62e)]()+_0x31733a(0x5a0);let _0x21fc20=await this[_0x31733a(0x4cb)](_0x54fe3f[_0x31733a(0x36c)]['mediaMessage']);_0x2271a1[_0x31733a(0x420)]=_0x21fc20[_0x31733a(0x420)][_0x2271a1[_0x31733a(0x686)]],_0x2271a1[_0x31733a(0x458)]='*'+_0x54fe3f[_0x31733a(0x36c)][_0x31733a(0x2c7)]+_0x31733a(0x3c1)+_0x54fe3f[_0x31733a(0x36c)][_0x31733a(0x4b9)];}let _0x27c74e={'text':_0x54fe3f['buttonMessage'][_0x31733a(0x4f1)][_0x31733a(0x1bd)](_0x6b3e74=>_0x6b3e74[_0x31733a(0x110)]),'ids':_0x54fe3f[_0x31733a(0x36c)][_0x31733a(0x4f1)][_0x31733a(0x1bd)](_0x7009dd=>_0x7009dd[_0x31733a(0xdb)])};if(!(0x0,x[_0x31733a(0x549)])(_0x27c74e['text'])||!(0x0,x[_0x31733a(0x549)])(_0x27c74e[_0x31733a(0x3c8)]))throw new m(_0x31733a(0x419),_0x31733a(0x4ed));return await this[_0x31733a(0x473)](_0x54fe3f[_0x31733a(0x3a9)],{'buttonsMessage':{'text':_0x2271a1?.[_0x31733a(0x686)]?void 0x0:_0x54fe3f[_0x31733a(0x36c)]['title'],'contentText':_0x2271a1?.[_0x31733a(0x458)]??_0x54fe3f['buttonMessage']['description'],'footerText':_0x54fe3f['buttonMessage']?.[_0x31733a(0x547)],'buttons':_0x54fe3f['buttonMessage'][_0x31733a(0x4f1)]['map'](_0x6dfc19=>({'buttonText':{'displayText':_0x6dfc19[_0x31733a(0x110)]},'buttonId':_0x6dfc19[_0x31733a(0xdb)],'type':0x1})),'headerType':w['proto'][_0x31733a(0x5a0)][_0x31733a(0x187)][_0x31733a(0xf2)][_0xbe437c],[_0x2271a1?.[_0x31733a(0x686)]]:_0x2271a1?.[_0x31733a(0x420)]}},_0x54fe3f?.[_0x31733a(0x5d7)]);}async[a0_0x57c7f3(0x2e0)](_0x233c37){const _0x14e5e0=a0_0x57c7f3;return await this[_0x14e5e0(0x473)](_0x233c37[_0x14e5e0(0x3a9)],{'locationMessage':{'degreesLatitude':_0x233c37[_0x14e5e0(0x2e0)][_0x14e5e0(0x21b)],'degreesLongitude':_0x233c37[_0x14e5e0(0x2e0)][_0x14e5e0(0x51b)],'name':_0x233c37[_0x14e5e0(0x2e0)]?.[_0x14e5e0(0x17c)],'address':_0x233c37[_0x14e5e0(0x2e0)]?.[_0x14e5e0(0x254)]}},_0x233c37?.['options']);}async[a0_0x57c7f3(0x111)](_0x684c6e){const _0x263cdc=a0_0x57c7f3;return await this[_0x263cdc(0x473)](_0x684c6e[_0x263cdc(0x3a9)],{'listMessage':{'title':_0x684c6e[_0x263cdc(0x111)][_0x263cdc(0x2c7)],'description':_0x684c6e[_0x263cdc(0x111)][_0x263cdc(0x4b9)],'buttonText':_0x684c6e[_0x263cdc(0x111)]?.[_0x263cdc(0x110)],'footerText':_0x684c6e['listMessage']?.['footerText'],'sections':_0x684c6e[_0x263cdc(0x111)][_0x263cdc(0x30d)],'listType':0x1}},_0x684c6e?.[_0x263cdc(0x5d7)]);}async[a0_0x57c7f3(0x5c3)](_0x4a944f){const _0x2d5f48=a0_0x57c7f3;let _0x1d80b4={},_0x23a12c=_0x8235a=>{const _0x3b0c5c=a0_0x2228;let _0x2ddc6a=_0x3b0c5c(0x2f4)+_0x8235a[_0x3b0c5c(0x64c)]+_0x3b0c5c(0x197)+_0x8235a[_0x3b0c5c(0x64c)]+'\x0a';_0x8235a['organization']&&(_0x2ddc6a+=_0x3b0c5c(0x4b5)+_0x8235a[_0x3b0c5c(0x46d)]+';\x0a'),_0x8235a['email']&&(_0x2ddc6a+=_0x3b0c5c(0x1aa)+_0x8235a[_0x3b0c5c(0x320)]+'\x0a'),_0x8235a['url']&&(_0x2ddc6a+=_0x3b0c5c(0x150)+_0x8235a[_0x3b0c5c(0x3c6)]+'\x0a');let _0x4b8092='';return _0x8235a['phoneNumber']&&_0x8235a[_0x3b0c5c(0x573)][_0x3b0c5c(0x479)]('|')['forEach']((_0x24215d,_0x31dfce)=>{const _0x552be4=_0x3b0c5c;let _0x4dad1d=this[_0x552be4(0x3e1)](_0x24215d)[_0x552be4(0x289)]('@s.whatsapp.net','');_0x4b8092+='item'+(_0x31dfce+0x1)+'.TEL;waid='+_0x4dad1d+':'+_0x24215d+_0x552be4(0x4f2)+(_0x31dfce+0x1)+'.X-ABLabel:Celular\x0a';}),_0x2ddc6a+=_0x4b8092+_0x3b0c5c(0x1b0),_0x2ddc6a;};return _0x4a944f[_0x2d5f48(0x5c3)][_0x2d5f48(0x438)]===0x1?_0x1d80b4[_0x2d5f48(0x5c3)]={'displayName':_0x4a944f[_0x2d5f48(0x5c3)][0x0][_0x2d5f48(0x64c)],'vcard':_0x23a12c(_0x4a944f['contactMessage'][0x0])}:_0x1d80b4[_0x2d5f48(0x2e5)]={'displayName':_0x4a944f[_0x2d5f48(0x5c3)][_0x2d5f48(0x438)]+_0x2d5f48(0x2ff),'contacts':_0x4a944f[_0x2d5f48(0x5c3)]['map'](_0xbdb0a7=>({'displayName':_0xbdb0a7[_0x2d5f48(0x64c)],'vcard':_0x23a12c(_0xbdb0a7)}))},await this['sendMessageWithTyping'](_0x4a944f['number'],{..._0x1d80b4},_0x4a944f?.[_0x2d5f48(0x5d7)]);}async['reactionMessage'](_0xc11a25){const _0x4b98d0=a0_0x57c7f3;return await this[_0x4b98d0(0x473)](_0xc11a25[_0x4b98d0(0x12b)][_0x4b98d0(0x572)][_0x4b98d0(0x11f)],{'reactionMessage':{'key':_0xc11a25['reactionMessage']['key'],'text':_0xc11a25[_0x4b98d0(0x12b)][_0x4b98d0(0x34b)]}});}async['whatsappNumber'](_0x5655f9){const _0x542d1a=a0_0x57c7f3;let _0x2ff652=[];for await(let _0x408c75 of _0x5655f9['numbers']){let _0x1cedbb=this[_0x542d1a(0x3e1)](_0x408c75);if((0x0,w[_0x542d1a(0x1d4)])(_0x1cedbb)){let _0x2e4e4e=await this[_0x542d1a(0xf3)]({'groupJid':_0x1cedbb},_0x542d1a(0x3f4));_0x2ff652[_0x542d1a(0x524)](new he(_0x2e4e4e[_0x542d1a(0x105)]['id'],!!_0x2e4e4e?.[_0x542d1a(0x105)]['id'],_0x2e4e4e?.[_0x542d1a(0x105)]['subject']));}else try{let _0x3821d3=(await this[_0x542d1a(0x369)][_0x542d1a(0x1bf)](_0x1cedbb))[0x0];_0x2ff652[_0x542d1a(0x524)](new he(_0x3821d3['jid'],_0x3821d3['exists']));}catch{_0x2ff652[_0x542d1a(0x524)](new he(_0x408c75,!0x1));}}return _0x2ff652;}async[a0_0x57c7f3(0x49a)](_0x151fdc){const _0x5e6638=a0_0x57c7f3;try{let _0x448b28=[];try{_0x151fdc[_0x5e6638(0x356)]['forEach'](_0x568fff=>{const _0x282d5e=_0x5e6638;((0x0,w[_0x282d5e(0x1d4)])(_0x568fff[_0x282d5e(0x11f)])||(0x0,w[_0x282d5e(0x3b0)])(_0x568fff['remoteJid']))&&_0x448b28[_0x282d5e(0x524)]({'remoteJid':_0x568fff[_0x282d5e(0x11f)],'fromMe':_0x568fff[_0x282d5e(0x5c2)],'id':_0x568fff['id']});});}catch(_0x3d9c5a){console[_0x5e6638(0x5e3)](_0x5e6638(0x646),_0x3d9c5a);}await this[_0x5e6638(0x369)][_0x5e6638(0x356)](_0x448b28);let _0x3e4891=_0x448b28['map'](_0x53c64f=>this[_0x5e6638(0x1da)](_0x53c64f,_0x53c64f[_0x5e6638(0x11f)],{'status':_0x5e6638(0x17f),'owner':this['instance'][_0x5e6638(0xed)]}));await Promise[_0x5e6638(0xf0)](_0x3e4891);let _0xc83301=_0x448b28[_0x5e6638(0x1bd)](_0x4661c2=>R[_0x5e6638(0x4af)]({'id':_0x4661c2[_0x5e6638(0x11f)],'owner':this[_0x5e6638(0x1f8)]['wuid']},{'$set':{'unreadcount':0x0}},{'new':!0x0}));return(await Promise[_0x5e6638(0xf0)](_0xc83301))[_0x5e6638(0x591)](_0x365b53=>_0x365b53!==null)[_0x5e6638(0x2cb)](_0x433abb=>{const _0x36acf5=_0x5e6638;H(this[_0x36acf5(0x145)],'chats',{'chat':_0x433abb});}),await Promise[_0x5e6638(0xf0)](_0xc83301),{'message':_0x5e6638(0x4b2),'read':'success'};}catch(_0x2f99e4){throw new I('Read\x20messages\x20fail',_0x2f99e4[_0x5e6638(0x5d3)]());}}async[a0_0x57c7f3(0x478)](_0x164685){const _0x3e990c=a0_0x57c7f3;try{return _0x164685[_0x3e990c(0x1a6)][_0x3e990c(0x60c)]=_0x164685[_0x3e990c(0x1a6)]?.[_0x3e990c(0x60c)]??Date['now'](),await this[_0x3e990c(0x369)][_0x3e990c(0x202)]({'archive':_0x164685[_0x3e990c(0x5da)],'lastMessages':[_0x164685[_0x3e990c(0x1a6)]]},_0x164685[_0x3e990c(0x1a6)][_0x3e990c(0x572)][_0x3e990c(0x11f)]),{'chatId':_0x164685[_0x3e990c(0x1a6)][_0x3e990c(0x572)][_0x3e990c(0x11f)],'archived':!0x0};}catch(_0x2a0343){throw new I({'archived':!0x1,'message':[_0x3e990c(0x33f),_0x2a0343[_0x3e990c(0x5d3)]()]});}}async[a0_0x57c7f3(0x49e)](_0x97bddf){const _0x361531=a0_0x57c7f3;try{let _0x24a986=await this[_0x361531(0x369)][_0x361531(0x579)](_0x97bddf[_0x361531(0x11f)],{'delete':_0x97bddf});try{let _0x5b4313=await this[_0x361531(0x1da)](_0x97bddf,_0x97bddf['remoteJid'],{'status':'DELETED','owner':this['instance'][_0x361531(0xed)]});this['logger']['verbose'](this[_0x361531(0x145)]+'\x20('+this['instance'][_0x361531(0xed)]+_0x361531(0x23b)+_0x5b4313);}catch(_0x245a77){console[_0x361531(0x5e3)](_0x361531(0xe7),_0x245a77);}return _0x24a986;}catch(_0x3f9cb6){throw new I(_0x361531(0x346),_0x3f9cb6?.[_0x361531(0x5d3)]());}}async[a0_0x57c7f3(0x515)](_0x4968b4){const _0x3b4d65=a0_0x57c7f3;try{let _0x3bcd62=_0x4968b4?.[_0x3b4d65(0x420)]?_0x4968b4:await this[_0x3b4d65(0x1d7)](_0x4968b4[_0x3b4d65(0x572)],!0x0);for(let _0x1c45ac of zs)_0x3bcd62[_0x3b4d65(0x420)][_0x1c45ac]&&(_0x3bcd62['message']=_0x3bcd62['message'][_0x1c45ac]['message']);let _0x3e4746,_0x1c1d22;for(let _0x3c1981 of Ks)if(_0x3e4746=_0x3bcd62['message'][_0x3c1981],_0x3e4746){_0x1c1d22=_0x3c1981;break;}if(!_0x3e4746)throw _0x3b4d65(0x5e0);typeof _0x3e4746['mediaKey']==_0x3b4d65(0x30e)&&(_0x3bcd62[_0x3b4d65(0x420)]=JSON[_0x3b4d65(0x42c)](JSON[_0x3b4d65(0x34c)](_0x3bcd62[_0x3b4d65(0x420)])));let _0x514a14=await(0x0,w['downloadMediaMessage'])({'key':_0x3bcd62?.[_0x3b4d65(0x572)],'message':_0x3bcd62?.[_0x3b4d65(0x420)]},_0x3b4d65(0x4e7),{},{'logger':(0x0,$t[_0x3b4d65(0x19b)])({'level':_0x3b4d65(0x5e3)}),'reuploadRequest':this[_0x3b4d65(0x369)][_0x3b4d65(0x31f)]});if(!(_0x514a14 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');if(this['configService'][_0x3b4d65(0x141)]('DATABASE')[_0x3b4d65(0x528)]){let _0x9350e7;if(_0x3e4746[_0x3b4d65(0x3df)])_0x9350e7=_0x3e4746[_0x3b4d65(0x3df)];else{let _0x153e39=_0x3e4746[_0x3b4d65(0x3db)]?.['match'](/\/(\w+)/),_0x8427aa=_0x153e39?_0x153e39[0x1]:null;if(_0x8427aa===_0x3b4d65(0x5ef)&&_0x3e4746[_0x3b4d65(0x3db)]?.[_0x3b4d65(0x3b6)]('ogg')&&(_0x8427aa=_0x3b4d65(0x4a8)),!_0x8427aa)throw new Error(_0x3b4d65(0x5e5));_0x9350e7=(0x0,go['v4'])()+'.'+_0x8427aa;}await this[_0x3b4d65(0x4f8)](_0x514a14,_0x9350e7);let _0xed05a0=_0x3b4d65(0x37c)+_0x9350e7,_0x5158d1=this['configService']['get'](_0x3b4d65(0x17b)),_0x1db110=this[_0x3b4d65(0x2f8)]['get'](_0x3b4d65(0x612))[_0x3b4d65(0x1fd)],_0xeb1b07=_0x5158d1&&_0x5158d1[_0x3b4d65(0x1ea)]['split']('/')[0x4];_0x1db110===0x1bb&&(_0xed05a0=''+(_0x3b4d65(0x312)+_0xeb1b07)+_0xed05a0);let _0x29885a={'where':{'key':{'id':_0x3bcd62[_0x3b4d65(0x572)]['id'],'remoteJid':_0x3bcd62['key'][_0x3b4d65(0x11f)],'fromMe':_0x3bcd62[_0x3b4d65(0x572)][_0x3b4d65(0x5c2)]},'owner':this[_0x3b4d65(0x1f8)]['wuid']}},_0x1d2a10=0xc*0x3c*0x3c*0x3e8,_0x17b19d={'message_normalized.fileUrl':_0xed05a0,'message_normalized.expires_fileUrl':Date[_0x3b4d65(0xe3)]()+_0x1d2a10};try{let _0x58b134=await this['repository'][_0x3b4d65(0x420)][_0x3b4d65(0x4b8)](_0x29885a,_0x17b19d);_0x58b134&&H(this['instanceName'],_0x3b4d65(0x16f),{'message':_0x58b134});}catch{}}return{'mediaType':_0x1c1d22,'fileName':_0x3e4746[_0x3b4d65(0x3df)],'caption':_0x3e4746[_0x3b4d65(0x263)],'size':{'fileLength':_0x3e4746[_0x3b4d65(0x384)],'height':_0x3e4746[_0x3b4d65(0xda)],'width':_0x3e4746['width']},'mimetype':_0x3e4746['mimetype'],'base64':_0x514a14[_0x3b4d65(0x5d3)]('base64')};}catch(_0x285aff){throw this['logger'][_0x3b4d65(0x5e3)](this[_0x3b4d65(0x145)]+'\x20('+this['instance']['wuid']+_0x3b4d65(0x2c1)+_0x285aff),new m(_0x285aff[_0x3b4d65(0x5d3)]());}}async['saveMediaToFile'](_0x2b64e6,_0x1a6857){const _0xfbd11c=a0_0x57c7f3;console['log'](_0xfbd11c(0x5e7),__dirname),console[_0xfbd11c(0x40c)](_0xfbd11c(0x2a4),_0x1a6857);let _0x105963=Z[_0xfbd11c(0x19b)][_0xfbd11c(0x1b9)](__dirname,_0xfbd11c(0x583));console['log'](_0xfbd11c(0x1eb),_0x105963),Se[_0xfbd11c(0x527)](_0x105963)||(console[_0xfbd11c(0x40c)](_0xfbd11c(0x250)),Se['mkdirSync'](_0x105963,{'recursive':!0x0}));let _0x437e48=Z[_0xfbd11c(0x19b)][_0xfbd11c(0x1b9)](_0x105963,_0x1a6857);return console[_0xfbd11c(0x40c)]('Full\x20file\x20path:',_0x437e48),new Promise((_0x731f81,_0x272086)=>{const _0x331da9=_0xfbd11c;Se[_0x331da9(0x480)](_0x437e48,_0x2b64e6,_0x17834c=>{const _0x4e426a=_0x331da9;_0x17834c?(console['error'](_0x4e426a(0x1d0),_0x17834c),_0x272086(_0x17834c)):_0x731f81(_0x437e48);});});}async['fetchContacts'](_0x76b865){const _0x35080f=a0_0x57c7f3;return _0x76b865?.[_0x35080f(0x276)]?_0x76b865[_0x35080f(0x276)][_0x35080f(0x277)]=this[_0x35080f(0x1f8)]['wuid']:_0x76b865={'where':{'owner':this['instance'][_0x35080f(0xed)]}},await this[_0x35080f(0x15a)][_0x35080f(0x119)][_0x35080f(0x354)](_0x76b865);}async[a0_0x57c7f3(0x53c)](_0x74daf2){const _0x4140f3=a0_0x57c7f3;return _0x74daf2?.[_0x4140f3(0x276)]?_0x74daf2[_0x4140f3(0x276)][_0x4140f3(0x277)]=this[_0x4140f3(0x1f8)][_0x4140f3(0xed)]:_0x74daf2={'where':{'owner':this['instance'][_0x4140f3(0xed)]},'limit':_0x74daf2?.[_0x4140f3(0x609)]},await this[_0x4140f3(0x15a)][_0x4140f3(0x420)][_0x4140f3(0x354)](_0x74daf2);}async[a0_0x57c7f3(0x455)](_0x322640){const _0x3f74ba=a0_0x57c7f3;return _0x322640?.['where']?_0x322640[_0x3f74ba(0x276)][_0x3f74ba(0x277)]=this[_0x3f74ba(0x1f8)]['wuid']:_0x322640={'where':{'owner':this[_0x3f74ba(0x1f8)][_0x3f74ba(0xed)]},'limit':_0x322640?.['limit']},await this[_0x3f74ba(0x15a)][_0x3f74ba(0x3e9)][_0x3f74ba(0x354)](_0x322640);}async['fetchChats'](){const _0x575b18=a0_0x57c7f3;return await this[_0x575b18(0x15a)][_0x575b18(0x64d)][_0x575b18(0x354)]({'where':{'owner':this[_0x575b18(0x1f8)]['wuid']}});}async[a0_0x57c7f3(0x1f1)](){const _0x5ac203=a0_0x57c7f3;return await this['client'][_0x5ac203(0x1f1)]();}async[a0_0x57c7f3(0x20c)](_0x1b2c59){const _0x14ac20=a0_0x57c7f3;try{return await this[_0x14ac20(0x369)]['updateReadReceiptsPrivacy'](_0x1b2c59[_0x14ac20(0x31e)][_0x14ac20(0x243)]),await this['client'][_0x14ac20(0x2da)](_0x1b2c59['privacySettings'][_0x14ac20(0x459)]),await this[_0x14ac20(0x369)][_0x14ac20(0x285)](_0x1b2c59[_0x14ac20(0x31e)][_0x14ac20(0x255)]),await this[_0x14ac20(0x369)][_0x14ac20(0x15b)](_0x1b2c59[_0x14ac20(0x31e)][_0x14ac20(0x2fa)]),await this[_0x14ac20(0x369)][_0x14ac20(0x643)](_0x1b2c59[_0x14ac20(0x31e)][_0x14ac20(0x20f)]),await this['client']['updateGroupsAddPrivacy'](_0x1b2c59['privacySettings'][_0x14ac20(0x57b)]),this[_0x14ac20(0x369)]?.['ws']?.[_0x14ac20(0x14f)](),{'update':_0x14ac20(0x5b2),'data':{'readreceipts':_0x1b2c59[_0x14ac20(0x31e)][_0x14ac20(0x243)],'profile':_0x1b2c59[_0x14ac20(0x31e)][_0x14ac20(0x459)],'status':_0x1b2c59['privacySettings'][_0x14ac20(0x255)],'online':_0x1b2c59[_0x14ac20(0x31e)][_0x14ac20(0x2fa)],'last':_0x1b2c59['privacySettings'][_0x14ac20(0x20f)],'groupadd':_0x1b2c59[_0x14ac20(0x31e)]['groupadd']}};}catch(_0x30c35f){throw new I(_0x14ac20(0x2bd),_0x30c35f[_0x14ac20(0x5d3)]());}}async[a0_0x57c7f3(0x26f)](_0x316b45){const _0x5d724a=a0_0x57c7f3;let _0x83c1cf=_0x316b45?this['createJid'](_0x316b45):this[_0x5d724a(0x369)]?.[_0x5d724a(0x133)]?.['id'];this[_0x5d724a(0x27e)][_0x5d724a(0x5b0)](_0x5d724a(0x1bb)+_0x83c1cf);try{if(this[_0x5d724a(0x27e)][_0x5d724a(0x5b0)](_0x5d724a(0x2de)),_0x316b45){let _0x20051=(await this[_0x5d724a(0x4d5)]({'numbers':[_0x83c1cf]}))?.[_0x5d724a(0x5bf)](),_0x282232=await this[_0x5d724a(0x5b8)](_0x20051?.[_0x5d724a(0x362)]),_0x60a31e=await this[_0x5d724a(0x230)](_0x20051?.[_0x5d724a(0x362)]),_0x45686b=await this[_0x5d724a(0x21f)](_0x20051?.[_0x5d724a(0x362)]);return{'wuid':_0x20051?.['jid']||_0x83c1cf,'name':_0x20051?.[_0x5d724a(0x17c)],'numberExists':_0x20051?.[_0x5d724a(0x413)],'picture':_0x282232?.[_0x5d724a(0x3cc)],'status':_0x60a31e?.[_0x5d724a(0x255)],'isBusiness':_0x45686b[_0x5d724a(0x373)],'email':_0x45686b?.[_0x5d724a(0x320)],'description':_0x45686b?.[_0x5d724a(0x4b9)],'website':_0x45686b?.[_0x5d724a(0x38d)]?.[_0x5d724a(0x5bf)]()};}}catch{return this[_0x5d724a(0x27e)][_0x5d724a(0x5b0)](_0x5d724a(0x565)),{'wuid':_0x83c1cf,'name':null,'picture':null,'status':null,'os':null,'isBusiness':!0x1};}}async['fetchBusinessProfile'](_0x4ce077){const _0x1147f7=a0_0x57c7f3;this[_0x1147f7(0x27e)]['verbose']('Fetching\x20business\x20profile');try{let _0x5fdd88=_0x4ce077?this['createJid'](_0x4ce077):this[_0x1147f7(0x1f8)][_0x1147f7(0xed)],_0xa84e4e=await this[_0x1147f7(0x369)][_0x1147f7(0x23f)](_0x5fdd88);return this['logger'][_0x1147f7(0x5b0)](_0x1147f7(0x294)),_0xa84e4e?(this['logger'][_0x1147f7(0x5b0)](_0x1147f7(0x180)),{'isBusiness':!0x0,..._0xa84e4e}):{'isBusiness':!0x1,'message':_0x1147f7(0x5c5),...(await this['whatsappNumber']({'numbers':[_0x5fdd88]}))?.[_0x1147f7(0x5bf)]()};}catch(_0xca3f63){throw new I('Error\x20updating\x20profile\x20name',_0xca3f63[_0x1147f7(0x5d3)]());}}async[a0_0x57c7f3(0x230)](_0xb7c05f){const _0x2140a3=a0_0x57c7f3;let _0x1d79fd=this[_0x2140a3(0x3e1)](_0xb7c05f);try{return{'wuid':_0x1d79fd,'status':(await this[_0x2140a3(0x369)][_0x2140a3(0x553)](_0x1d79fd))?.[_0x2140a3(0x255)]};}catch{return{'wuid':_0x1d79fd,'status':null};}}async[a0_0x57c7f3(0x59a)](_0x459375){const _0x18d724=a0_0x57c7f3;try{return await this[_0x18d724(0x369)][_0x18d724(0x59a)](_0x459375),{'update':'success'};}catch(_0x555676){throw new I(_0x18d724(0x4e2),_0x555676['toString']());}}async['updateProfileStatus'](_0x25b939){const _0x32e75d=a0_0x57c7f3;try{return await this[_0x32e75d(0x369)][_0x32e75d(0x55a)](_0x25b939),{'update':_0x32e75d(0x5b2)};}catch(_0x20271e){throw new I(_0x32e75d(0x541),_0x20271e[_0x32e75d(0x5d3)]());}}async[a0_0x57c7f3(0x3f5)](_0x11e191){const _0x59f5b0=a0_0x57c7f3;try{let _0x1986c7;if((0x0,x[_0x59f5b0(0x396)])(_0x11e191)){let _0x88b08a=new Date()[_0x59f5b0(0x1c5)](),_0x523aeb=_0x11e191+_0x59f5b0(0xf7)+_0x88b08a;_0x1986c7=(await le[_0x59f5b0(0x19b)][_0x59f5b0(0x141)](_0x523aeb,{'responseType':_0x59f5b0(0x509)}))['data'];}else{if((0x0,x[_0x59f5b0(0x399)])(_0x11e191))_0x1986c7=Buffer[_0x59f5b0(0x41b)](_0x11e191,_0x59f5b0(0x4f9));else throw new m(_0x59f5b0(0x207));}return await this['client'][_0x59f5b0(0x3f5)](this[_0x59f5b0(0x1f8)]['wuid'],_0x1986c7),{'update':'success'};}catch(_0x4309a3){throw new I(_0x59f5b0(0x3b3),_0x4309a3['toString']());}}async['removeProfilePicture'](){const _0x4eaf62=a0_0x57c7f3;try{return await this[_0x4eaf62(0x369)][_0x4eaf62(0x5fe)](this[_0x4eaf62(0x1f8)]['wuid']),{'update':_0x4eaf62(0x5b2)};}catch(_0x3108f2){throw new I('Error\x20removing\x20profile\x20picture',_0x3108f2['toString']());}}async[a0_0x57c7f3(0x1f9)](_0x1d1a47){const _0x8a6b8a=a0_0x57c7f3;try{let _0x50918a=_0x1d1a47[_0x8a6b8a(0x208)][_0x8a6b8a(0x1bd)](_0x261f4a=>this[_0x8a6b8a(0x3e1)](_0x261f4a)),{id:_0x168c37}=await this['client'][_0x8a6b8a(0xe9)](_0x1d1a47[_0x8a6b8a(0x4cf)],_0x50918a);return _0x1d1a47?.['description']&&await this[_0x8a6b8a(0x369)]['groupUpdateDescription'](_0x168c37,_0x1d1a47['description']),{'metadata':await this['client'][_0x8a6b8a(0x3fd)](_0x168c37)};}catch(_0x4d2f3b){throw this[_0x8a6b8a(0x27e)][_0x8a6b8a(0x5e3)](this[_0x8a6b8a(0x145)]+'\x20('+this[_0x8a6b8a(0x1f8)]['wuid']+'):\x20'+_0x4d2f3b),new I(_0x8a6b8a(0x3dd),_0x4d2f3b[_0x8a6b8a(0x5d3)]());}}async[a0_0x57c7f3(0x1e1)](_0x242c39){const _0x1210f9=a0_0x57c7f3;try{let _0x2b7e35;if((0x0,x[_0x1210f9(0x396)])(_0x242c39[_0x1210f9(0x10d)])){let _0x222c3d=new Date()[_0x1210f9(0x1c5)](),_0x55ed5a=_0x242c39['image']+'?timestamp='+_0x222c3d;_0x2b7e35=(await le[_0x1210f9(0x19b)][_0x1210f9(0x141)](_0x55ed5a,{'responseType':_0x1210f9(0x509)}))[_0x1210f9(0x51a)];}else{if((0x0,x[_0x1210f9(0x399)])(_0x242c39[_0x1210f9(0x10d)]))_0x2b7e35=Buffer['from'](_0x242c39['image'],_0x1210f9(0x4f9));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this['client']['updateProfilePicture'](_0x242c39[_0x1210f9(0x25c)],_0x2b7e35),{'update':_0x1210f9(0x5b2)};}catch(_0x32cf18){throw new I('Error\x20update\x20group\x20picture',_0x32cf18[_0x1210f9(0x5d3)]());}}async[a0_0x57c7f3(0xf3)](_0xf2f535,_0x39fbcc=a0_0x57c7f3(0x267)){const _0x329423=a0_0x57c7f3;try{let _0x388f8a=await this[_0x329423(0x369)][_0x329423(0x3fd)](_0xf2f535[_0x329423(0x25c)]),_0x62b5ae=null;try{_0x62b5ae=await this[_0x329423(0x369)][_0x329423(0x3cc)](_0xf2f535['groupJid'],_0x329423(0x10d));}catch(_0x44c3b2){this[_0x329423(0x27e)][_0x329423(0x5b0)](this[_0x329423(0x145)]+'\x20('+this['instance']['wuid']+_0x329423(0x483)+_0xf2f535[_0x329423(0x25c)]+':\x20'+_0x44c3b2[_0x329423(0x5d3)]());}return{'metadata':_0x388f8a,'image':_0x62b5ae};}catch(_0x429897){if(_0x39fbcc===_0x329423(0x3f4))return;throw new L('Error\x20fetching\x20group',_0x429897[_0x329423(0x5d3)]());}}async[a0_0x57c7f3(0x577)](_0x36973e){const _0x48b3ce=a0_0x57c7f3;try{return await this['client'][_0x48b3ce(0x33d)](_0x36973e[_0x48b3ce(0x25c)],_0x36973e['description']),{'update':_0x48b3ce(0x5b2)};}catch(_0xc163ce){throw new I(_0x48b3ce(0x158),_0xc163ce['toString']());}}async['groupName'](_0x1b2254){const _0x1fc360=a0_0x57c7f3;try{return await this['client'][_0x1fc360(0x358)](_0x1b2254[_0x1fc360(0x25c)],_0x1b2254[_0x1fc360(0x17c)]),{'update':_0x1fc360(0x5b2)};}catch(_0x134c69){throw new I('Error\x20change\x20group\x20name',_0x134c69['toString']());}}async[a0_0x57c7f3(0x328)](_0x1fef7f){const _0x2717cf=a0_0x57c7f3;try{return await this[_0x2717cf(0x369)][_0x2717cf(0x29f)](_0x1fef7f['groupJid'],_0x1fef7f[_0x2717cf(0x628)]),{'update':_0x2717cf(0x5b2)};}catch(_0x3dd0e5){throw new I(_0x2717cf(0x5d8),_0x3dd0e5[_0x2717cf(0x5d3)]());}}async[a0_0x57c7f3(0x639)](){const _0x3d1e5a=a0_0x57c7f3;try{let _0x3897bb=[],_0x231da3=await this['client']['groupFetchAllParticipating'](),_0xf998ab=Object[_0x3d1e5a(0x3ed)](_0x231da3),_0x16fee9=_0xf998ab['filter'](_0x3ec869=>(0x0,w['isJidGroup'])(_0x3ec869?.['id']))['map'](async _0x7f1625=>{const _0xfce68e=_0x3d1e5a;try{return await this[_0xfce68e(0x369)][_0xfce68e(0x3cc)](_0x7f1625['id'],_0xfce68e(0x10d));}catch(_0x40a4e9){return this['logger'][_0xfce68e(0x5b0)](this[_0xfce68e(0x145)]+'\x20('+this[_0xfce68e(0x1f8)][_0xfce68e(0xed)]+_0xfce68e(0x483)+_0x7f1625['id']+':\x20'+_0x40a4e9[_0xfce68e(0x5d3)]()),null;}}),_0x544e6c=await Promise[_0x3d1e5a(0xf0)](_0x16fee9);for(let _0x547ea2=0x0;_0x547ea2<_0xf998ab[_0x3d1e5a(0x438)];_0x547ea2++){let _0x42857f=_0xf998ab[_0x547ea2];(0x0,w[_0x3d1e5a(0x1d4)])(_0x42857f?.['id'])&&_0x3897bb[_0x3d1e5a(0x524)]({'groupJid':_0x42857f?.['id'],'subject':_0x42857f?.[_0x3d1e5a(0x4cf)],'subjectOwner':_0x42857f?.[_0x3d1e5a(0x5d6)]?.['split']('@')[0x0],'subjectTime':_0x42857f?.[_0x3d1e5a(0x521)],'size':_0x42857f?.[_0x3d1e5a(0x208)]?.[_0x3d1e5a(0x438)],'owner':_0x42857f?.[_0x3d1e5a(0x277)]?.[_0x3d1e5a(0x479)]('@')[0x0],'creation':_0x42857f?.[_0x3d1e5a(0x67d)],'desc':_0x42857f?.[_0x3d1e5a(0x379)],'restrict':_0x42857f?.['restrict'],'announce':_0x42857f?.[_0x3d1e5a(0x381)],'image':_0x544e6c[_0x547ea2]});}return _0x3897bb;}catch(_0x39bf6e){throw new L(_0x3d1e5a(0x1e2),_0x39bf6e[_0x3d1e5a(0x5d3)]());}}async[a0_0x57c7f3(0x552)](_0x3ac0e6){const _0x6f2c62=a0_0x57c7f3;try{let _0x115278=await this[_0x6f2c62(0x369)][_0x6f2c62(0x3ab)](_0x3ac0e6[_0x6f2c62(0x25c)]);return{'inviteUrl':_0x6f2c62(0x44d)+_0x115278,'inviteCode':_0x115278};}catch(_0x41c4e1){throw new L(_0x6f2c62(0x5cd),_0x41c4e1[_0x6f2c62(0x5d3)]());}}async['revokeInviteCode'](_0x259995){const _0x2accea=a0_0x57c7f3;try{let _0x38f283=await this[_0x2accea(0x369)][_0x2accea(0x4ba)](_0x259995['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x2accea(0x44d)+_0x38f283,'inviteCode':_0x38f283};}catch(_0x5d42ae){throw new L(_0x2accea(0x1fe),_0x5d42ae[_0x2accea(0x5d3)]());}}async[a0_0x57c7f3(0x652)](_0x33182d){const _0x1d6639=a0_0x57c7f3;try{if((0x0,x[_0x1d6639(0x396)])(_0x33182d[_0x1d6639(0x552)]))var _0x50eebf=_0x33182d['inviteCode']['split']('/')[0x3];else var _0x50eebf=_0x33182d['inviteCode'];let _0x25a0a6=await this['client'][_0x1d6639(0xe2)](_0x50eebf);return this[_0x1d6639(0x27e)][_0x1d6639(0x5b0)](this[_0x1d6639(0x145)]+'\x20('+this[_0x1d6639(0x1f8)]['wuid']+_0x1d6639(0x2c1)+_0x25a0a6),{'join':!0x0,'inviteCode':_0x50eebf,'groupJid':_0x25a0a6};}catch(_0x4a95f3){throw new L(_0x1d6639(0x68a),_0x4a95f3['toString']());}}async['findParticipants'](_0x1b52b7){const _0x51e9cd=a0_0x57c7f3;try{return{'participants':(await this[_0x51e9cd(0x369)]['groupMetadata'](_0x1b52b7[_0x51e9cd(0x25c)]))[_0x51e9cd(0x208)]};}catch(_0x205125){throw new L(_0x51e9cd(0x543),_0x205125[_0x51e9cd(0x5d3)]());}}async['updateGParticipant'](_0x2184a7){const _0x194d0d=a0_0x57c7f3;try{let _0x19080d=_0x2184a7[_0x194d0d(0x208)][_0x194d0d(0x1bd)](_0x2d0a28=>this[_0x194d0d(0x3e1)](_0x2d0a28));return{'updateParticipants':await this[_0x194d0d(0x369)][_0x194d0d(0x66f)](_0x2184a7['groupJid'],_0x19080d,_0x2184a7[_0x194d0d(0x44b)])};}catch(_0x7af4c2){throw new m('Error\x20updating\x20participants',_0x7af4c2[_0x194d0d(0x5d3)]());}}async[a0_0x57c7f3(0x48e)](_0x477e69){const _0x571197=a0_0x57c7f3;try{let _0x37d121=await this[_0x571197(0x369)]['groupToggleEphemeral'](_0x477e69[_0x571197(0x25c)],_0x477e69[_0x571197(0x2b6)]);return{'success':!0x0};}catch(_0x297bd6){throw new m(_0x571197(0x146),_0x297bd6[_0x571197(0x5d3)]());}}async[a0_0x57c7f3(0x301)](_0x227ed5){const _0xe6a376=a0_0x57c7f3;try{return await this[_0xe6a376(0x369)]['groupLeave'](_0x227ed5[_0xe6a376(0x25c)]),{'groupJid':_0x227ed5[_0xe6a376(0x25c)],'leave':!0x0};}catch(_0x436d1b){throw new m('Unable\x20to\x20leave\x20the\x20group',_0x436d1b[_0xe6a376(0x5d3)]());}}async[a0_0x57c7f3(0x46c)](_0x373975){const _0xbb4154=a0_0x57c7f3;return await this[_0xbb4154(0x473)](_0x373975[_0xbb4154(0x3a9)],{'poll':{'name':_0x373975[_0xbb4154(0x46c)]?.[_0xbb4154(0x17c)],'selectableCount':_0x373975['pollMessage']['selectableCount'],'values':_0x373975[_0xbb4154(0x46c)][_0xbb4154(0x3ed)]}},_0x373975?.[_0xbb4154(0x5d7)]);}async[a0_0x57c7f3(0x1da)](_0x274a2c,_0x319e72,_0x431286){const _0x513e9f=a0_0x57c7f3;if(await this[_0x513e9f(0x1d7)](_0x274a2c,!0x0)){let _0x1aecf7={'where':{'key':{'id':_0x274a2c['id'],'remoteJid':_0x319e72,'fromMe':_0x274a2c[_0x513e9f(0x5c2)]},'owner':this[_0x513e9f(0x1f8)]['wuid']}},_0x28718c={'status':[_0x431286[_0x513e9f(0x255)]][0x0]};try{let _0x4ca6c1=await this[_0x513e9f(0x15a)][_0x513e9f(0x420)][_0x513e9f(0x4b8)](_0x1aecf7,_0x28718c);_0x4ca6c1&&H(this[_0x513e9f(0x145)],_0x513e9f(0x16f),{'message':_0x4ca6c1});}catch{}}}async[a0_0x57c7f3(0xcf)](_0x3bdb56,_0xcf5338,_0x178b5d){const _0x43c784=a0_0x57c7f3;let _0x2a0c2f=_0xcf5338[_0x43c784(0x572)]['remoteJid'],_0x32471d=_0xcf5338[_0x43c784(0x572)][_0x43c784(0x5c2)],_0x55b57e=_0x2a0c2f['endsWith']('@g.us');if(!_0x3bdb56[_0x43c784(0x528)])return;let _0xa7adc5=await R[_0x43c784(0xd7)]({'id':_0x2a0c2f,'owner':this[_0x43c784(0x1f8)][_0x43c784(0xed)]}),_0x3a07ea={'$set':{'lastmsg':_0xcf5338['messageTimestamp']||null}};if(!_0x55b57e&&!_0x32471d&&!_0xa7adc5?.['name']){let _0x1be773=_0xcf5338[_0x43c784(0x2b8)]||_0x43c784(0x439);_0x3a07ea[_0x43c784(0x10b)]['name']=_0x1be773,_0x1be773!==_0x43c784(0x439)&&(!_0xa7adc5?.['leadInfo']?.[_0x43c784(0x134)]||_0xa7adc5?.[_0x43c784(0x501)]?.[_0x43c784(0x134)]==='')&&(_0x3a07ea[_0x43c784(0x10b)]['leadInfo.nome']=_0x1be773);}if(_0x32471d?_0x3a07ea[_0x43c784(0x10b)][_0x43c784(0x59e)]=0x0:_0x3a07ea[_0x43c784(0x14c)]={'unreadcount':0x1},Object[_0x43c784(0x53a)](_0x3a07ea[_0x43c784(0x10b)])[_0x43c784(0x438)]>0x0||_0x3a07ea['$inc']&&Object[_0x43c784(0x53a)](_0x3a07ea[_0x43c784(0x14c)])[_0x43c784(0x438)]>0x0){if(_0xa7adc5=await R['findOneAndUpdate']({'id':_0x2a0c2f,'owner':this[_0x43c784(0x1f8)][_0x43c784(0xed)]},_0x3a07ea,{'new':!0x0,'upsert':!0x0}),!_0xa7adc5&&!_0x55b57e&&(_0xa7adc5=await R[_0x43c784(0x4af)]({'id':_0x2a0c2f,'owner':this[_0x43c784(0x1f8)][_0x43c784(0xed)]},{'$set':{'group':_0x55b57e,'lastmsg':_0xcf5338[_0x43c784(0x60c)]||null,'name':_0xcf5338[_0x43c784(0x2b8)]||null,'unreadcount':0x1,'leadInfo.nome':_0xcf5338[_0x43c784(0x2b8)]||null,'leadInfo.tags':[],'leadInfo.customFields':[]}},{'new':!0x0,'upsert':!0x0})),!_0xa7adc5&&_0x55b57e&&(_0xa7adc5=await R[_0x43c784(0x4af)]({'id':_0x2a0c2f,'owner':this[_0x43c784(0x1f8)][_0x43c784(0xed)]},{'$set':{'group':_0x55b57e,'lastmsg':_0xcf5338[_0x43c784(0x60c)]||null,'unreadcount':0x1,'leadInfo.tags':[],'leadInfo.customFields':[]}},{'new':!0x0,'upsert':!0x0})),_0xa7adc5?.[_0x43c784(0x501)]?.[_0x43c784(0x661)]||await R['updateOne']({'id':_0xa7adc5['id'],'owner':this['instance']['wuid']},{'$set':{'leadInfo.tags':[]}}),_0xa7adc5?.[_0x43c784(0x501)]?.[_0x43c784(0x123)]||await R[_0x43c784(0x51f)]({'id':_0xa7adc5['id'],'owner':this['instance'][_0x43c784(0xed)]},{'$set':{'leadInfo.customFields':[]}}),_0xa7adc5&&H(this[_0x43c784(0x145)],'chats',{'chat':_0xa7adc5}),!_0xa7adc5){this[_0x43c784(0x27e)]['error'](this['instanceName']+'\x20('+this[_0x43c784(0x1f8)][_0x43c784(0xed)]+_0x43c784(0x2b9));return;}if(!this[_0x43c784(0x3d3)][_0x43c784(0x48b)][_0x43c784(0x11e)])return this[_0x43c784(0x27e)][_0x43c784(0x5b0)](this[_0x43c784(0x145)]+'\x20('+this[_0x43c784(0x1f8)][_0x43c784(0xed)]+_0x43c784(0x360)),null;if(_0xa7adc5['id']['includes'](_0x43c784(0x615))&&this[_0x43c784(0x3d3)][_0x43c784(0x48b)][_0x43c784(0x5c1)]===!0x0)return this[_0x43c784(0x27e)][_0x43c784(0x5b0)](this['instanceName']+'\x20('+this[_0x43c784(0x1f8)]['wuid']+'):\x20Ignoring\x20group\x20messages.'),null;if(_0xa7adc5['leadInfo']){if(_0xa7adc5[_0x43c784(0x501)]['desativadoFluxoAte']===0x0||_0xa7adc5[_0x43c784(0x501)][_0x43c784(0x684)])return this[_0x43c784(0x27e)][_0x43c784(0x5b0)](this[_0x43c784(0x145)]+'\x20('+this[_0x43c784(0x1f8)][_0x43c784(0xed)]+_0x43c784(0x5af)+_0x2a0c2f+'\x20,\x20saindo.'),null;if(_0xa7adc5[_0x43c784(0x501)]['desativadoFluxoAte']>Date[_0x43c784(0xe3)]())return this[_0x43c784(0x27e)][_0x43c784(0x5b0)](this[_0x43c784(0x145)]+'\x20('+this[_0x43c784(0x1f8)][_0x43c784(0xed)]+_0x43c784(0x61c)+new Date(_0xa7adc5[_0x43c784(0x501)]['desativadoFluxoAte'])[_0x43c784(0x367)]()+_0x43c784(0x300)),null;}this[_0x43c784(0x27e)]['verbose'](this[_0x43c784(0x145)]+'\x20('+this[_0x43c784(0x1f8)][_0x43c784(0xed)]+_0x43c784(0x561)),this['StartBot'](_0x178b5d,_0xcf5338,this['instance']['wuid']);}}async[a0_0x57c7f3(0x233)](){const _0x530fd5=a0_0x57c7f3;let _0x1014fc=await this['repository']['contact']['find']({'where':{'owner':this[_0x530fd5(0x1f8)][_0x530fd5(0xed)]}}),_0xb5a9ef=0x0,_0x43af60=[];for(let _0xae313a of _0x1014fc)_0x43af60['push']({'updateOne':{'filter':{'id':_0xae313a['id'],'owner':this[_0x530fd5(0x1f8)][_0x530fd5(0xed)]},'update':{'$set':{'contactname':_0xae313a[_0x530fd5(0x2b8)]}}}}),_0x43af60[_0x530fd5(0x438)]===0x1f4&&(_0xb5a9ef+=await this[_0x530fd5(0x671)](_0x43af60),_0x43af60=[]);_0x43af60['length']>0x0&&(_0xb5a9ef+=await this[_0x530fd5(0x671)](_0x43af60)),this[_0x530fd5(0x27e)][_0x530fd5(0x5b0)](this[_0x530fd5(0x145)]+'\x20('+this[_0x530fd5(0x1f8)][_0x530fd5(0xed)]+_0x530fd5(0x2c1)+_0xb5a9ef+_0x530fd5(0x65b)+this[_0x530fd5(0x1f8)][_0x530fd5(0xed)]+_0x530fd5(0x333));}async[a0_0x57c7f3(0x671)](_0x199d5d){const _0x57040c=a0_0x57c7f3;return(await R[_0x57040c(0x54f)](_0x199d5d))[_0x57040c(0x1af)];}async[a0_0x57c7f3(0x18b)](_0x441263,_0x510668){const _0x418132=a0_0x57c7f3;if(_0x510668[_0x418132(0x528)]){let _0x40b0cd=_0x441263['map'](async _0x34e9b2=>{const _0x3e73c9=_0x418132;let _0x5c1d5b={'$set':{'id':_0x34e9b2['id'],'owner':_0x34e9b2[_0x3e73c9(0x277)],'lastcache':0x0}};if(_0x34e9b2[_0x3e73c9(0x234)]!==null&&(_0x5c1d5b['$set']['group']=_0x34e9b2['group']),_0x34e9b2[_0x3e73c9(0x17c)]!==null&&(_0x5c1d5b[_0x3e73c9(0x10b)][_0x3e73c9(0x17c)]=_0x34e9b2['name']),_0x34e9b2[_0x3e73c9(0x253)]!==null&&(_0x5c1d5b[_0x3e73c9(0x10b)][_0x3e73c9(0x253)]=_0x34e9b2['contactname']),_0x34e9b2[_0x3e73c9(0x1ce)]!==null&&(_0x5c1d5b['$set'][_0x3e73c9(0x1ce)]=_0x34e9b2[_0x3e73c9(0x1ce)]),_0x34e9b2['imagechat']===null&&(_0x5c1d5b['$set']['imagechat']=_0x3e73c9(0x57d)),_0x34e9b2[_0x3e73c9(0x3f0)]!==null&&(_0x5c1d5b[_0x3e73c9(0x10b)][_0x3e73c9(0x3f0)]=_0x34e9b2[_0x3e73c9(0x3f0)]),_0x34e9b2['archived']!==null&&(_0x5c1d5b['$set'][_0x3e73c9(0x683)]=_0x34e9b2['archived']),_0x34e9b2['unreadcount']!==null&&(_0x5c1d5b[_0x3e73c9(0x10b)][_0x3e73c9(0x59e)]=_0x34e9b2[_0x3e73c9(0x59e)]),Object['keys'](_0x5c1d5b[_0x3e73c9(0x10b)])['length']>0x0)return R[_0x3e73c9(0x4af)]({'id':_0x34e9b2['id'],'owner':_0x34e9b2[_0x3e73c9(0x277)]},_0x5c1d5b,{'new':!0x0,'upsert':!0x0});}),_0x1895c9=(await Promise[_0x418132(0xf0)](_0x40b0cd))[_0x418132(0x591)](_0x2f2bbe=>_0x2f2bbe!==null)[_0x418132(0x438)];this[_0x418132(0x27e)]['verbose'](this[_0x418132(0x145)]+'\x20('+this[_0x418132(0x1f8)]['wuid']+_0x418132(0x2c1)+_0x1895c9+_0x418132(0x65b)+this[_0x418132(0x1f8)]['wuid']+_0x418132(0xd1));}}async[a0_0x57c7f3(0x454)](_0x362b87){const _0x5acb8d=a0_0x57c7f3;this[_0x5acb8d(0x27e)]['verbose'](this[_0x5acb8d(0x145)]+'\x20('+this[_0x5acb8d(0x1f8)]['wuid']+_0x5acb8d(0x260));let _0x4f7237={'readMessages':[{'remoteJid':_0x362b87[_0x5acb8d(0x428)][_0x5acb8d(0x3f3)][_0x5acb8d(0x572)][_0x5acb8d(0x11f)],'fromMe':_0x362b87[_0x5acb8d(0x428)][_0x5acb8d(0x3f3)][_0x5acb8d(0x572)][_0x5acb8d(0x5c2)],'id':_0x362b87[_0x5acb8d(0x428)][_0x5acb8d(0x3f3)][_0x5acb8d(0x572)]['id']}]};await this[_0x5acb8d(0x49a)](_0x4f7237);}async['StartBot'](_0x41a228,_0x206e8d,_0x2c6fbe){const _0x19ac29=a0_0x57c7f3;try{let {key:_0x58eb58,message_normalized:_0x430a1f}=_0x206e8d,_0x350eb7=_0x430a1f,_0x8639ac=_0x430a1f[_0x19ac29(0x184)]||_0x430a1f[_0x19ac29(0x263)]||_0x430a1f['vote']||_0x430a1f[_0x19ac29(0x17c)],_0x188e9e=_0x58eb58[_0x19ac29(0x11f)],_0x239f2e;if(_0x350eb7[_0x19ac29(0x572)][_0x19ac29(0x5c2)]&&_0x8639ac[_0x19ac29(0x345)]()!==this['AutomateSystem'][_0x19ac29(0x48b)][_0x19ac29(0x3b4)]['trim']())return this[_0x19ac29(0x27e)][_0x19ac29(0x5b0)](this[_0x19ac29(0x145)]+'\x20('+this[_0x19ac29(0x1f8)]['wuid']+_0x19ac29(0x195)),null;if(_0x350eb7['key'][_0x19ac29(0x5c2)]&&_0x8639ac[_0x19ac29(0x345)]()===this[_0x19ac29(0x3d3)][_0x19ac29(0x48b)][_0x19ac29(0x3b4)][_0x19ac29(0x345)]()){this[_0x19ac29(0x27e)][_0x19ac29(0x5b0)](this[_0x19ac29(0x145)]+'\x20('+this[_0x19ac29(0x1f8)][_0x19ac29(0xed)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x5e8113=await G[_0x19ac29(0x354)]({'owner':_0x2c6fbe,'remoteJid':_0x188e9e,'status':_0x19ac29(0x4c5)});this['logger'][_0x19ac29(0x5b0)](this[_0x19ac29(0x145)]+'\x20('+this[_0x19ac29(0x1f8)][_0x19ac29(0xed)]+_0x19ac29(0x2d9)+_0x5e8113);let _0x16dddb=Date[_0x19ac29(0xe3)](),_0x3b87a0;return this[_0x19ac29(0x3d3)][_0x19ac29(0x48b)][_0x19ac29(0x25b)]===0x0?_0x3b87a0={'stoppedUntil':_0x16dddb+0x7591f6200}:_0x3b87a0={'stoppedUntil':_0x16dddb+this['AutomateSystem'][_0x19ac29(0x48b)][_0x19ac29(0x25b)]*0x3c*0x3e8},this[_0x19ac29(0x27e)][_0x19ac29(0x5b0)](this[_0x19ac29(0x145)]+'\x20('+this[_0x19ac29(0x1f8)][_0x19ac29(0xed)]+'):\x20Campos\x20a\x20serem\x20atualizados:'+_0x3b87a0),this['updateChat'](_0x239f2e,_0x3b87a0[_0x19ac29(0x204)]),null;}if(_0x8639ac[_0x19ac29(0x3c5)](this[_0x19ac29(0x3d3)][_0x19ac29(0x48b)][_0x19ac29(0x365)])&&_0x8639ac['length']>0x4){let _0x15dd28=await D[_0x19ac29(0xd7)]({'owner':_0x2c6fbe,'startCommandWord':_0x8639ac});if(this['logger'][_0x19ac29(0x5b0)](this[_0x19ac29(0x145)]+'\x20('+this[_0x19ac29(0x1f8)][_0x19ac29(0xed)]+'):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.'),_0x15dd28)_0x239f2e=await this[_0x19ac29(0x4fe)](_0x15dd28,_0x350eb7[_0x19ac29(0x572)],_0x350eb7);else return this[_0x19ac29(0x27e)]['verbose'](this[_0x19ac29(0x145)]+'\x20('+this[_0x19ac29(0x1f8)][_0x19ac29(0xed)]+_0x19ac29(0x2cc)),null;}else _0x239f2e=await this[_0x19ac29(0x42e)](_0x2c6fbe,_0x188e9e,_0x350eb7);if(_0x239f2e){this['logger'][_0x19ac29(0x5b0)](this[_0x19ac29(0x145)]+'\x20('+this[_0x19ac29(0x1f8)]['wuid']+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x58eb58[_0x19ac29(0x5c2)]&&_0x239f2e[_0x19ac29(0x356)]&&this[_0x19ac29(0x454)](_0x239f2e);let _0x4f47d1=await this[_0x19ac29(0x3bb)](_0x239f2e);_0x4f47d1&&await this[_0x19ac29(0x518)](_0x239f2e,_0x4f47d1,_0x239f2e[_0x19ac29(0x11f)]);}}catch(_0x1d6d98){this[_0x19ac29(0x27e)][_0x19ac29(0x5e3)](this['instanceName']+'\x20('+this[_0x19ac29(0x1f8)]['wuid']+_0x19ac29(0x582)+_0x1d6d98);}}[a0_0x57c7f3(0x63c)](_0x3d12d2,_0x3c63e1='',_0x36fe3e={},_0x181f38=!0x0){const _0xb8c7fa=a0_0x57c7f3;for(let _0x5a6dae in _0x3d12d2){let _0x546bad=_0x181f38?'_'+_0x5a6dae:''+_0x3c63e1+_0x5a6dae;typeof _0x3d12d2[_0x5a6dae]==_0xb8c7fa(0x30e)&&_0x3d12d2[_0x5a6dae]!==null?this[_0xb8c7fa(0x63c)](_0x3d12d2[_0x5a6dae],_0x546bad+'.',_0x36fe3e,!0x1):_0x36fe3e[_0x546bad]=_0x3d12d2[_0x5a6dae];}return _0x36fe3e;}[a0_0x57c7f3(0x22a)](_0x238971){const _0x420280=a0_0x57c7f3;let _0x3169f3={};for(let _0x5b534d of _0x238971)typeof _0x5b534d['name']=='string'&&typeof _0x5b534d[_0x420280(0x60d)]==_0x420280(0x5c6)&&(_0x3169f3[_0x5b534d[_0x420280(0x17c)]]=_0x5b534d['value']);return _0x3169f3;}async[a0_0x57c7f3(0x3bb)](_0x7c12ba){const _0x331eb0=a0_0x57c7f3;if(!this['AutomateSystem']['flowConfig'][_0x331eb0(0x11e)]||_0x7c12ba['status']!==_0x331eb0(0x4c5)&&_0x7c12ba[_0x331eb0(0x2c8)]==='')return null;let _0x5dfb74=_0x7c12ba[_0x331eb0(0x428)][_0x331eb0(0x476)]||'start';typeof _0x7c12ba[_0x331eb0(0x428)][_0x331eb0(0x47a)]>'u'&&(_0x7c12ba[_0x331eb0(0x428)][_0x331eb0(0x47a)]=!0x0);let _0x5e9712=_0x7c12ba[_0x331eb0(0x428)]['lastCondition'];this[_0x331eb0(0x27e)][_0x331eb0(0x5b0)](this['instanceName']+'\x20('+this[_0x331eb0(0x1f8)][_0x331eb0(0xed)]+_0x331eb0(0x332)+_0x5dfb74+_0x331eb0(0x364)+_0x5e9712);let _0x5a144e=_0x5dfb74===_0x331eb0(0x498)?_0x7c12ba['blocks']['find'](_0x545415=>_0x545415[_0x331eb0(0x1ae)]===_0x331eb0(0x498)):_0x7c12ba[_0x331eb0(0x61e)][_0x331eb0(0x354)](_0x10e63a=>_0x10e63a['_id']['toString']()===_0x5dfb74[_0x331eb0(0x5d3)]());if(!_0x5a144e)return this[_0x331eb0(0x27e)][_0x331eb0(0x5e3)](this[_0x331eb0(0x145)]+'\x20('+this['instance']['wuid']+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x5dfb74),null;let _0x359d39={'_pushName':_0x7c12ba[_0x331eb0(0x428)][_0x331eb0(0x3f3)][_0x331eb0(0x2b8)],..._0x7c12ba[_0x331eb0(0x428)][_0x331eb0(0x44a)]},_0x2d0289=null;if(_0x7c12ba['waitingPoll_id']){let _0x49c8af=_0x7c12ba[_0x331eb0(0x428)][_0x331eb0(0x3f3)][_0x331eb0(0x309)],_0xf5179=_0x7c12ba[_0x331eb0(0x157)][_0x331eb0(0x354)](_0x361922=>_0x361922[_0x331eb0(0x2d1)]===_0x49c8af);if(_0xf5179){let _0x41da82=_0xf5179[_0x331eb0(0x31c)];if(_0x2d0289=_0x7c12ba[_0x331eb0(0x61e)]['find'](_0x313f29=>_0x313f29[_0x331eb0(0x13d)]===_0x41da82&&_0x313f29['order']===0x1),_0x5a144e[_0x331eb0(0x431)][_0x331eb0(0x3da)]){let _0x43de8b={'id':_0x7c12ba[_0x331eb0(0x2c8)],'remoteJid':_0x7c12ba[_0x331eb0(0x11f)],'fromMe':!0x0};await this[_0x331eb0(0x49e)](_0x43de8b);}if(_0x5a144e[_0x331eb0(0x431)][_0x331eb0(0x3da)]&&_0x5a144e['uazapi']['pollMessageOnDelete']){let _0x1b581f={'number':_0x7c12ba['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x7c12ba['waitingPoll_name']+_0x331eb0(0x122)+_0x49c8af}};await this[_0x331eb0(0x4ea)](_0x1b581f);}_0x7c12ba[_0x331eb0(0x255)]=_0x331eb0(0x4c5),_0x7c12ba[_0x331eb0(0x2c8)]='',_0x7c12ba['waitingPoll_name']='',_0x7c12ba[_0x331eb0(0x157)]=[];}else{this[_0x331eb0(0x27e)][_0x331eb0(0x5b0)](this[_0x331eb0(0x145)]+'\x20('+this[_0x331eb0(0x1f8)][_0x331eb0(0xed)]+'):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um');let _0x15f019={'activatedCount':_0x7c12ba[_0x331eb0(0x428)]['blockLogs']['filter'](_0x381b22=>String(_0x381b22['blockId'])===String(_0x5dfb74))[_0x331eb0(0x438)],'moreLogs':[_0x331eb0(0x520)]};if(_0x5a144e[_0x331eb0(0x431)]['pollErrorMessage']){let _0xb01681={'number':_0x7c12ba[_0x331eb0(0x11f)],'options':{'delay':0x0},'textMessage':{'text':_0x5a144e['uazapi'][_0x331eb0(0x58f)]}};await this[_0x331eb0(0x4ea)](_0xb01681);}if(_0x5a144e[_0x331eb0(0x239)]!==void 0x0&&_0x15f019[_0x331eb0(0x30c)]>=_0x5a144e[_0x331eb0(0x239)]){let _0x104ba9=Date['now'](),_0x1b9afd=_0x5a144e['stopMinutesMaxActives']??0xa;isNaN(_0x1b9afd)&&(_0x1b9afd=0xa);let _0x315d1f=_0x104ba9+_0x1b9afd*0x3c*0x3e8;_0x15f019[_0x331eb0(0x46f)]=_0x315d1f,_0x15f019[_0x331eb0(0x2e4)][_0x331eb0(0x524)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x331eb0(0x2ae)](_0x7c12ba,_0x315d1f),_0x7c12ba[_0x331eb0(0x2c8)]='',_0x7c12ba[_0x331eb0(0x1bc)]='',_0x7c12ba[_0x331eb0(0x157)]=[];}return this[_0x331eb0(0x600)](_0x7c12ba,_0x5a144e,_0x15f019,!0x0),null;}}if(_0x5e9712&&_0x5a144e[_0x331eb0(0x31c)]&&!_0x7c12ba['waitingPoll_id']){let _0x5029aa=_0x7c12ba[_0x331eb0(0x61e)][_0x331eb0(0x591)](_0x3a1fa3=>_0x3a1fa3[_0x331eb0(0x13d)][_0x331eb0(0x5d3)]()===_0x5a144e[_0x331eb0(0x31c)][_0x331eb0(0x5d3)]())[_0x331eb0(0x65e)]((_0x5b819a,_0x42cce9)=>_0x5b819a[_0x331eb0(0x54a)]-_0x42cce9[_0x331eb0(0x54a)]);_0x5029aa[_0x331eb0(0x438)]>0x0&&(_0x2d0289=_0x5029aa[0x0]);}if(!_0x2d0289){let _0x4f62e6=_0x5a144e[_0x331eb0(0x13d)],_0x5a750c=_0x7c12ba[_0x331eb0(0x61e)][_0x331eb0(0x591)](_0x8ebb6d=>_0x8ebb6d[_0x331eb0(0x13d)]===_0x4f62e6&&_0x8ebb6d[_0x331eb0(0x54a)]>_0x5a144e['order'])[_0x331eb0(0x65e)]((_0x146ea0,_0x210618)=>_0x146ea0['order']-_0x210618[_0x331eb0(0x54a)]);_0x5a750c[_0x331eb0(0x438)]>0x0&&(_0x2d0289=_0x5a750c[0x0]);}if(!_0x2d0289)return _0x7c12ba[_0x331eb0(0x255)]=_0x331eb0(0x444),null;_0x7c12ba[_0x331eb0(0x428)][_0x331eb0(0x44a)]=_0x359d39;let _0x56d599=JSON[_0x331eb0(0x42c)](JSON[_0x331eb0(0x34c)](_0x2d0289));return this[_0x331eb0(0x38b)](_0x56d599,_0x7c12ba[_0x331eb0(0x428)][_0x331eb0(0x44a)]),_0x7c12ba[_0x331eb0(0x428)][_0x331eb0(0x476)]=_0x56d599[_0x331eb0(0x42b)],_0x7c12ba[_0x331eb0(0x428)][_0x331eb0(0x47a)]=!0x0,_0x56d599;}[a0_0x57c7f3(0x433)](_0x3a4456,_0x5d787a){const _0x1cab6e=a0_0x57c7f3;return _0x3a4456[_0x1cab6e(0x289)](/\{\{([^}]+)\}\}/g,(_0x2cc21c,_0x3a11fb)=>_0x5d787a[_0x3a11fb]||'');}[a0_0x57c7f3(0x38b)](_0x53a06a,_0x2712e1){const _0x229bba=a0_0x57c7f3;for(let _0x5d4140 in _0x53a06a)typeof _0x53a06a[_0x5d4140]==_0x229bba(0x5c6)?_0x53a06a[_0x5d4140]=this[_0x229bba(0x433)](_0x53a06a[_0x5d4140],_0x2712e1):typeof _0x53a06a[_0x5d4140]=='object'&&this['replaceVariablesInObject'](_0x53a06a[_0x5d4140],_0x2712e1);}async['goNextblock'](_0x5681a0,_0xad437d){const _0xd2000b=a0_0x57c7f3;let _0x27801e=_0xad437d[_0xd2000b(0x42b)];if(_0x5681a0[_0xd2000b(0x428)]&&_0x5681a0[_0xd2000b(0x428)][_0xd2000b(0x2be)]){let _0x36e0fc=_0x5681a0[_0xd2000b(0x428)][_0xd2000b(0x2be)][_0xd2000b(0x591)](_0x5e4095=>String(_0x5e4095[_0xd2000b(0x56b)])===String(_0x27801e))[_0xd2000b(0x592)]();if(_0x36e0fc&&_0x36e0fc['error']&&_0xad437d[_0xd2000b(0x492)])return _0x5681a0[_0xd2000b(0x255)]=_0xd2000b(0x444),await this[_0xd2000b(0x11a)](_0x5681a0),null;}if(_0xad437d[_0xd2000b(0x1ae)]==='stop'&&(_0x5681a0[_0xd2000b(0x428)][_0xd2000b(0x476)]=_0x27801e,await this['saveConversationToDatabase'](_0x5681a0)),_0xad437d['type']===_0xd2000b(0x431)&&_0xad437d[_0xd2000b(0x431)][_0xd2000b(0x5b5)]===_0xd2000b(0x159)&&_0x5681a0[_0xd2000b(0x2c8)])return _0x5681a0['chatLog'][_0xd2000b(0x476)]=_0x27801e,await this[_0xd2000b(0x11a)](_0x5681a0),null;let _0x4c5661=await this[_0xd2000b(0x3bb)](_0x5681a0);if(_0x5681a0[_0xd2000b(0x428)]&&_0x5681a0[_0xd2000b(0x428)][_0xd2000b(0x2be)]){let _0x46bf3d=_0x5681a0[_0xd2000b(0x428)][_0xd2000b(0x2be)][_0xd2000b(0x591)](_0x3c8307=>String(_0x3c8307[_0xd2000b(0x56b)])===String(_0x27801e))[_0xd2000b(0x438)];if(_0xad437d[_0xd2000b(0x239)]!==void 0x0&&_0x46bf3d>=_0xad437d['maxActives']){let _0x2154c1=Date[_0xd2000b(0xe3)](),_0x31f9ae=_0xad437d['stopMinutesMaxActives']??0xa;isNaN(_0x31f9ae)&&(_0x31f9ae=0xa);let _0x26c606=_0x2154c1+_0x31f9ae*0x3c*0x3e8,_0xe42e17={'newStoppedUntil':_0x26c606};return this[_0xd2000b(0x2ae)](_0x5681a0,_0x26c606),this[_0xd2000b(0x600)](_0x5681a0,_0xad437d,_0xe42e17,!0x0),null;}}_0x4c5661&&_0x4c5661['type']!==_0xd2000b(0x319)&&await this[_0xd2000b(0x518)](_0x5681a0,_0x4c5661,_0x5681a0['remoteJid']),_0x4c5661||await this[_0xd2000b(0x11a)](_0x5681a0),_0x4c5661&&_0x4c5661[_0xd2000b(0x1ae)]===_0xd2000b(0x319)&&(_0x5681a0[_0xd2000b(0x428)][_0xd2000b(0x476)]=_0x27801e,await this[_0xd2000b(0x11a)](_0x5681a0));}async['processblock'](_0x17dae0,_0x30e21b,_0x2aeba1){const _0x5c4252=a0_0x57c7f3;try{let _0x50cb9c=_0x30e21b[_0x5c4252(0x1ae)];this[_0x5c4252(0x27e)][_0x5c4252(0x5b0)](this[_0x5c4252(0x145)]+'\x20('+this['instance'][_0x5c4252(0xed)]+_0x5c4252(0x5b1)+_0x50cb9c);let _0x41e01f={'uazapi':()=>this[_0x5c4252(0x484)](_0x17dae0,_0x30e21b,_0x2aeba1),'save':()=>this[_0x5c4252(0x22e)](_0x17dae0,_0x30e21b),'stop':()=>this['stopConversation'](_0x17dae0,_0x30e21b),'condition':()=>this[_0x5c4252(0x668)](_0x17dae0,_0x30e21b),'varedit':()=>this[_0x5c4252(0x40b)](_0x17dae0,_0x30e21b),'apirequest':()=>this[_0x5c4252(0x488)](_0x17dae0,_0x30e21b),'goToFlow':()=>this['processgoToFlow'](_0x17dae0,_0x30e21b)}[_0x50cb9c];_0x41e01f&&await _0x41e01f();}catch(_0x4db18b){this[_0x5c4252(0x27e)]['error'](this[_0x5c4252(0x145)]+'\x20('+this[_0x5c4252(0x1f8)][_0x5c4252(0xed)]+_0x5c4252(0x192)+_0x4db18b);}}async['processgoToFlow'](_0x393227,_0x277d8e){const _0x42ad4a=a0_0x57c7f3;if(this[_0x42ad4a(0x27e)][_0x42ad4a(0x5b0)](this[_0x42ad4a(0x145)]+'\x20('+this['instance']['wuid']+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x393227||!_0x277d8e)return this[_0x42ad4a(0x27e)]['error'](this[_0x42ad4a(0x145)]+'\x20('+this[_0x42ad4a(0x1f8)][_0x42ad4a(0xed)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this['updateConversation'](_0x393227,_0x277d8e,{},!0x0,!0x0),console[_0x42ad4a(0x40c)]('nextBlock:'),console[_0x42ad4a(0x40c)](_0x277d8e);let _0x4c5771=_0x277d8e[_0x42ad4a(0x270)];console[_0x42ad4a(0x40c)](_0x42ad4a(0x4ac),_0x4c5771),_0x393227=await this[_0x42ad4a(0x1b3)](_0x4c5771,_0x393227['remoteJid'],_0x393227['chatLog'][_0x42ad4a(0x44a)]),this[_0x42ad4a(0x27e)][_0x42ad4a(0x5b0)](this[_0x42ad4a(0x145)]+'\x20('+this[_0x42ad4a(0x1f8)][_0x42ad4a(0xed)]+_0x42ad4a(0x450));let _0x540e73=await this['NextBlock'](_0x393227);_0x540e73&&await this[_0x42ad4a(0x518)](_0x393227,_0x540e73,_0x393227[_0x42ad4a(0x11f)]);}async[a0_0x57c7f3(0x1b3)](_0x4c53fa,_0x3b7302,_0x1db000){const _0x1329f5=a0_0x57c7f3;this[_0x1329f5(0x27e)]['verbose'](this[_0x1329f5(0x145)]+'\x20('+this['instance'][_0x1329f5(0xed)]+_0x1329f5(0x256));try{if(_0x4c53fa=await D[_0x1329f5(0xd7)]({'owner':this[_0x1329f5(0x1f8)]['wuid'],'name':_0x4c53fa}),!_0x4c53fa)return this[_0x1329f5(0x27e)][_0x1329f5(0x5e3)](this[_0x1329f5(0x145)]+'\x20('+this[_0x1329f5(0x1f8)][_0x1329f5(0xed)]+_0x1329f5(0x375)),null;let _0x544c5a=require('mongodb')['ObjectId'],_0x469515=Date['now'](),_0x144a9b=_0x1329f5(0x498),_0x3f0e6f={},_0x4e1a66={},_0x409d09={..._0x4c53fa[_0x1329f5(0x4d3)],'chatLog':null},_0x4e1560={'lastReceivedMessage':_0x3f0e6f,'lastSendMessage':_0x4e1a66,'lastBlockId':_0x144a9b,'lastCondition':!0x0,'realVariables':_0x1db000};_0x409d09[_0x1329f5(0x428)]=_0x4e1560,_0x409d09['chatLog'][_0x1329f5(0x44a)]={..._0x1db000},delete _0x409d09[_0x1329f5(0x42b)],_0x409d09[_0x1329f5(0x42b)]=new _0x544c5a(),_0x409d09[_0x1329f5(0x605)]=_0x469515,_0x409d09[_0x1329f5(0x255)]='open',_0x409d09[_0x1329f5(0x11f)]=_0x3b7302;let _0x589e9f=await G[_0x1329f5(0x411)](_0x409d09);return this[_0x1329f5(0x27e)][_0x1329f5(0x5b0)](this[_0x1329f5(0x145)]+'\x20('+this[_0x1329f5(0x1f8)][_0x1329f5(0xed)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x589e9f?_0x409d09:null;}catch(_0x562fab){throw this['logger'][_0x1329f5(0x5e3)](this[_0x1329f5(0x145)]+'\x20('+this[_0x1329f5(0x1f8)]['wuid']+_0x1329f5(0x2ce)+_0x562fab),new m(_0x562fab['message']);}}async['processApiRequest'](_0xe8cb61,_0xa7a8b8){const _0xc82027=a0_0x57c7f3;let _0xc850fd,_0x341796;try{let _0xb3c888=_0xa7a8b8[_0xc82027(0x20b)];if(!_0xb3c888||!_0xb3c888[_0xc82027(0x3c6)]||!_0xb3c888[_0xc82027(0x148)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x3bdb07={'method':_0xb3c888[_0xc82027(0x148)],'url':_0xb3c888[_0xc82027(0x3c6)],'headers':_0xb3c888['header']||{},'data':_0xb3c888['body']||{}};_0xc850fd=(await(0x0,le[_0xc82027(0x19b)])(_0x3bdb07))[_0xc82027(0x51a)];let _0x1ff5dc=_0xe8cb61[_0xc82027(0x428)][_0xc82027(0x44a)],_0xec049b=this[_0xc82027(0x63c)](_0xc850fd);return Object[_0xc82027(0x33e)](_0x1ff5dc,_0xec049b),_0xe8cb61[_0xc82027(0x428)][_0xc82027(0x44a)]=_0x1ff5dc,_0x341796={'error':!0x1,'apiResponse':_0xc850fd},this[_0xc82027(0x600)](_0xe8cb61,_0xa7a8b8,_0x341796),_0xc850fd;}catch(_0x4c9ea8){console[_0xc82027(0x5e3)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:',_0x4c9ea8),_0x4c9ea8['response']&&(_0xc850fd=_0x4c9ea8[_0xc82027(0x1b1)][_0xc82027(0x51a)]);let _0x31556e=_0xe8cb61[_0xc82027(0x428)][_0xc82027(0x44a)],_0xb4dbd9=this[_0xc82027(0x63c)](_0xc850fd);return Object[_0xc82027(0x33e)](_0x31556e,_0xb4dbd9),_0xe8cb61[_0xc82027(0x428)][_0xc82027(0x44a)]=_0x31556e,_0x341796={'error':!0x0,'errorLog':_0x4c9ea8['toString'](),'apiResponse':_0xc850fd},this[_0xc82027(0x600)](_0xe8cb61,_0xa7a8b8,_0x341796),{'success':!0x1};}}[a0_0x57c7f3(0x3b5)](_0x506d8f,_0x4bd7ad){const _0x156f8d=a0_0x57c7f3;let _0xb1fb20=_0x42db3f=>{const _0x28c37a=a0_0x2228;let _0x1cadce=_0x42db3f[_0x28c37a(0x289)](/[^0-9.,-]/g,'')[_0x28c37a(0x289)](',','.'),_0x1eccaa=parseFloat(_0x1cadce);return isNaN(_0x1eccaa)?null:_0x1eccaa;},_0x2e32a1=_0x4bd7ad[_0x156f8d(0x4aa)],_0x39bb13=_0x4bd7ad[_0x156f8d(0x25a)];typeof _0x2e32a1==_0x156f8d(0x5c6)&&(_0x2e32a1=this['replaceVariables'](_0x2e32a1,_0x506d8f[_0x156f8d(0x428)][_0x156f8d(0x44a)])??''),typeof _0x39bb13==_0x156f8d(0x5c6)&&(_0x39bb13=this[_0x156f8d(0x433)](_0x39bb13,_0x506d8f['chatLog'][_0x156f8d(0x44a)])??'');let _0x44114f=null;if(!_0x2e32a1||!_0x4bd7ad[_0x156f8d(0x1c2)])return null;switch(this[_0x156f8d(0x27e)]['verbose'](this[_0x156f8d(0x145)]+'\x20('+this[_0x156f8d(0x1f8)]['wuid']+_0x156f8d(0x5ad)+_0x2e32a1),this['logger'][_0x156f8d(0x5b0)](this['instanceName']+'\x20('+this[_0x156f8d(0x1f8)][_0x156f8d(0xed)]+_0x156f8d(0x12d)+_0x39bb13),_0x4bd7ad[_0x156f8d(0x1c2)]){case'+':case'-':case'*':case'/':let _0x321fa3=_0xb1fb20(_0x2e32a1),_0x606faf=_0xb1fb20(_0x39bb13||'0');if(_0x321fa3===null)return null;switch(_0x4bd7ad[_0x156f8d(0x1c2)]){case'+':_0x44114f=_0x321fa3+(_0x606faf??0x0);break;case'-':_0x44114f=_0x321fa3-(_0x606faf??0x0);break;case'*':_0x44114f=_0x321fa3*(_0x606faf??0x1);break;case'/':_0x606faf!==0x0&&(_0x44114f=_0x321fa3/(_0x606faf??0x1));break;}break;case _0x156f8d(0x12f):case'findAndReplaceRegex':let _0x406ac8=_0x39bb13,_0x35b8a0=_0x4bd7ad['replaceValue'];if(typeof _0x35b8a0=='string'&&(_0x35b8a0=this[_0x156f8d(0x433)](_0x35b8a0,_0x506d8f[_0x156f8d(0x428)]['realVariables'])??''),_0x406ac8&&_0x35b8a0!==void 0x0){let _0x43b78d=_0x4bd7ad[_0x156f8d(0x1c2)]==='findAndReplace'?new RegExp(_0x406ac8[_0x156f8d(0x289)](/[-\/\\^$*+?.()|[\]{}]/g,_0x156f8d(0x51c)),'g'):new RegExp(_0x406ac8,'g');_0x44114f=_0x2e32a1[_0x156f8d(0x289)](_0x43b78d,_0x35b8a0);}else console[_0x156f8d(0x5b4)](_0x156f8d(0x2ca));break;case _0x156f8d(0x10c):_0x44114f=_0x39bb13;break;case _0x156f8d(0x462):let _0xd95b7a=_0x2e32a1['match'](new RegExp(_0x39bb13||''));_0x44114f=_0xd95b7a?_0xd95b7a[0x0]:'';break;case _0x156f8d(0x4c1):_0x44114f=_0x2e32a1[_0x156f8d(0x181)](0x0,parseInt(_0x39bb13||'0'));break;case _0x156f8d(0x57a):let _0x1ba721=parseInt(_0x39bb13||'0');_0x44114f=_0x2e32a1['slice'](_0x2e32a1[_0x156f8d(0x438)]-_0x1ba721);break;case _0x156f8d(0x4dc):let _0x1f7871=_0xb1fb20(_0x2e32a1),_0x1520ca=parseInt(_0x39bb13||'0');_0x1520ca=Math['abs'](_0x1520ca),_0x1f7871!==null?_0x44114f=_0x1f7871[_0x156f8d(0x367)]('pt-BR',{'minimumFractionDigits':_0x1520ca,'maximumFractionDigits':_0x1520ca}):(console[_0x156f8d(0x5b4)](_0x156f8d(0x5e4)+_0x2e32a1),_0x44114f=null);break;case _0x156f8d(0x28c):let _0x172c3b=_0xb1fb20(_0x2e32a1);_0x172c3b!==null?_0x44114f=_0x172c3b[_0x156f8d(0x367)](_0x156f8d(0x223),{'style':_0x156f8d(0x4df),'currency':_0x156f8d(0x339)}):(console[_0x156f8d(0x5b4)](_0x156f8d(0x551)+_0x2e32a1),_0x44114f=null);break;case _0x156f8d(0x114):_0x44114f=_0x2e32a1[_0x156f8d(0x569)]();break;case _0x156f8d(0x687):_0x44114f=_0x2e32a1['toLowerCase']();break;case _0x156f8d(0x162):_0x44114f=_0x2e32a1[_0x156f8d(0x479)]('\x20')['map'](_0x6e82a4=>_0x6e82a4[_0x156f8d(0x632)](0x0)[_0x156f8d(0x569)]()+_0x6e82a4[_0x156f8d(0x181)](0x1)[_0x156f8d(0x62e)]())[_0x156f8d(0x1b9)]('\x20');break;case'trimmed':_0x44114f=_0x2e32a1['trim']();break;default:_0x44114f=_0x2e32a1;}return _0x44114f!==null?_0x44114f[_0x156f8d(0x5d3)]():null;}async['processvaredits'](_0x5d42d6,_0x12b2ae){const _0x2cb728=a0_0x57c7f3;try{let _0x22b856=_0x5d42d6[_0x2cb728(0x28f)]?.['filter'](_0x2609da=>_0x2609da[_0x2cb728(0x56b)]===_0x12b2ae[_0x2cb728(0x42b)]?.[_0x2cb728(0x5d3)]())||[],_0x4c1cc1=_0x12b2ae['saveVariable'],_0x12a6da=null,_0x25f592=[],_0x419f77=_0x5d42d6[_0x2cb728(0x428)][_0x2cb728(0x44a)][_0x4c1cc1];_0x25f592[_0x2cb728(0x524)](_0x2cb728(0x1a2)+_0x419f77+'\x22');for(let _0xb79fe2 of _0x22b856){_0xb79fe2[_0x2cb728(0x4aa)]=_0x419f77,_0x12a6da=_0xb79fe2['firstValue'];let _0x414dd5;try{_0x414dd5=this[_0x2cb728(0x3b5)](_0x5d42d6,_0xb79fe2);}catch(_0x31adaa){console['error'](_0x2cb728(0x363)+_0x31adaa[_0x2cb728(0x420)]);continue;}if(_0x414dd5!==null){let _0xe13da2=_0x2cb728(0x26c)+_0xb79fe2['editOperator']+'\x22',_0x5f4566=[_0x2cb728(0x28c),_0x2cb728(0x114),'lowerCase',_0x2cb728(0x162),'trimmed'];_0xb79fe2[_0x2cb728(0x1c2)]===_0x2cb728(0x12f)||_0xb79fe2['editOperator']===_0x2cb728(0x5ac)?_0xe13da2+=_0x2cb728(0x16c)+_0xb79fe2['secondValue']+_0x2cb728(0x482)+_0xb79fe2['replaceValue']+'\x22':!_0x5f4566[_0x2cb728(0x3b6)](_0xb79fe2[_0x2cb728(0x1c2)])&&_0xb79fe2[_0x2cb728(0x25a)]!==null&&_0xb79fe2[_0x2cb728(0x25a)]!==void 0x0&&(_0xe13da2+=_0x2cb728(0x35a)+_0xb79fe2[_0x2cb728(0x25a)]+'\x22'),_0xe13da2+=',\x20resultado:\x20'+_0x414dd5+'.',_0x25f592[_0x2cb728(0x524)](_0xe13da2);}_0x414dd5!==null&&(_0x419f77=_0x414dd5);}if(_0x5d42d6[_0x2cb728(0x428)][_0x2cb728(0x44a)]&&_0x12b2ae[_0x2cb728(0x4a3)]){_0x5d42d6['chatLog'][_0x2cb728(0x44a)][_0x12b2ae[_0x2cb728(0x4a3)]]=_0x419f77;let _0x524091={'variable':_0x12b2ae['saveVariable'],'oldValue':_0x12a6da,'newValue':_0x419f77,'moreLogs':_0x25f592};try{this[_0x2cb728(0x600)](_0x5d42d6,_0x12b2ae,_0x524091);}catch(_0x48722d){console[_0x2cb728(0x5e3)](_0x2cb728(0x4d2)+_0x48722d[_0x2cb728(0x420)]);}}return _0x4c1cc1;}catch(_0x3bf244){return console[_0x2cb728(0x5e3)](_0x2cb728(0x61d)+_0x3bf244[_0x2cb728(0x420)]),null;}}async[a0_0x57c7f3(0x668)](_0x5803b6,_0x11deb7){const _0x409b0b=a0_0x57c7f3;try{let _0x49de07=[],_0x3f093c=_0x5803b6['conditions']['filter'](_0x49259c=>_0x49259c[_0x409b0b(0x56b)]===_0x11deb7[_0x409b0b(0x42b)][_0x409b0b(0x5d3)]()),_0x2f2eb6=!0x0,_0x2deb22=null;for(let _0x1816e1 of _0x3f093c){let _0x1bfadf=this[_0x409b0b(0x152)](_0x5803b6,_0x1816e1);if(_0x49de07[_0x409b0b(0x524)](_0x409b0b(0x490)+_0x1816e1[_0x409b0b(0x4aa)]+_0x409b0b(0x4cd)+_0x1816e1[_0x409b0b(0x449)]+',\x20Segundo\x20Valor:\x20'+_0x1816e1[_0x409b0b(0x25a)]+_0x409b0b(0x576)+_0x1bfadf),_0x2deb22===null)_0x2f2eb6=_0x1bfadf;else{if(_0x2deb22==='or'&&_0x1bfadf){_0x2f2eb6=!0x0;break;}else{if(_0x2deb22===_0x409b0b(0x638)&&!_0x1bfadf){_0x2f2eb6=!0x1;break;}}}_0x2deb22=_0x1816e1['OrAnd'];}let _0x89c9c7={'moreLogs':_0x49de07};_0x2f2eb6?(_0x5803b6['chatLog'][_0x409b0b(0x47a)]=!0x0,this[_0x409b0b(0x600)](_0x5803b6,_0x11deb7,_0x89c9c7)):(_0x5803b6[_0x409b0b(0x428)]['lastCondition']=!0x1,_0x89c9c7[_0x409b0b(0x2e4)]=_0x49de07,this[_0x409b0b(0x600)](_0x5803b6,_0x11deb7,_0x89c9c7));}catch(_0x25d148){this[_0x409b0b(0x27e)]['error'](this['instanceName']+'\x20('+this[_0x409b0b(0x1f8)][_0x409b0b(0xed)]+'):\x20Error\x20processing\x20conditions:\x20'+_0x25d148);}}[a0_0x57c7f3(0x152)](_0x52da37,_0x5cb132){const _0x153623=a0_0x57c7f3;let _0x424a5=_0x5cb132[_0x153623(0x4aa)],_0x48be45=_0x5cb132[_0x153623(0x25a)];typeof _0x424a5==_0x153623(0x5c6)&&(_0x424a5=this[_0x153623(0x433)](_0x424a5,_0x52da37[_0x153623(0x428)][_0x153623(0x44a)])??''),typeof _0x48be45==_0x153623(0x5c6)&&(_0x48be45=this[_0x153623(0x433)](_0x48be45,_0x52da37[_0x153623(0x428)][_0x153623(0x44a)])??'');try{switch(_0x5cb132[_0x153623(0x449)]){case _0x153623(0x5ed):return _0x424a5===_0x48be45;case _0x153623(0x3c0):return _0x424a5!==_0x48be45;case _0x153623(0x55b):return _0x424a5[_0x153623(0x3b6)](_0x48be45);case _0x153623(0x602):return!_0x424a5['includes'](_0x48be45);case _0x153623(0x16a):return parseFloat(_0x424a5)>parseFloat(_0x48be45);case _0x153623(0x410):return parseFloat(_0x424a5)<parseFloat(_0x48be45);case'notEmpty':return _0x424a5!=='';case _0x153623(0x33a):return _0x424a5==='';case _0x153623(0x2bc):return new RegExp(_0x48be45)[_0x153623(0x37e)](_0x424a5);case _0x153623(0x398):return!new RegExp(_0x48be45)[_0x153623(0x37e)](_0x424a5);default:return!0x1;}}catch(_0x413efe){return console[_0x153623(0x5e3)](_0x153623(0x3ac)+_0x413efe),!0x1;}}[a0_0x57c7f3(0x245)](_0x115503){const _0x5d3799=a0_0x57c7f3;let _0x287590=!0x0,_0x383dc0=null;for(let _0x1cbeb9 of _0x115503){let _0xf3206d=this[_0x5d3799(0x26d)](_0x1cbeb9);if(_0x383dc0==='or'&&_0xf3206d){_0x287590=!0x0;break;}if(_0x383dc0===_0x5d3799(0x638)&&!_0xf3206d){_0x287590=!0x1;break;}_0x383dc0=_0x1cbeb9[_0x5d3799(0x361)];}return _0x287590;}[a0_0x57c7f3(0x26d)](_0x3f2f4a){const _0x2dd104=a0_0x57c7f3;let _0x35f76b=_0x3f2f4a['firstValue'],_0x4e5ec6=_0x3f2f4a['secondValue'];try{switch(_0x3f2f4a[_0x2dd104(0x449)]){case _0x2dd104(0x5ed):return String(_0x35f76b)===String(_0x4e5ec6);case _0x2dd104(0x3c0):return String(_0x35f76b)!==String(_0x4e5ec6);case _0x2dd104(0x55b):return String(_0x35f76b)[_0x2dd104(0x3b6)](String(_0x4e5ec6));case _0x2dd104(0x602):return!String(_0x35f76b)[_0x2dd104(0x3b6)](String(_0x4e5ec6));case'greater':return parseFloat(String(_0x35f76b))>parseFloat(String(_0x4e5ec6));case'less':return parseFloat(String(_0x35f76b))<parseFloat(String(_0x4e5ec6));case _0x2dd104(0x1c8):return String(_0x35f76b)!=='';case _0x2dd104(0x33a):return String(_0x35f76b)==='';case _0x2dd104(0x2bc):return new RegExp(String(_0x4e5ec6))['test'](String(_0x35f76b));case'notMatchRegex':return!new RegExp(String(_0x4e5ec6))[_0x2dd104(0x37e)](String(_0x35f76b));default:return!0x1;}}catch(_0x5c37f9){return console[_0x2dd104(0x5e3)](_0x2dd104(0x3ac)+_0x5c37f9),!0x1;}}async[a0_0x57c7f3(0x22e)](_0x54f666,_0x5c7c84){const _0x1ccfa1=a0_0x57c7f3;if(this[_0x1ccfa1(0x27e)][_0x1ccfa1(0x5b0)](this[_0x1ccfa1(0x145)]+'\x20('+this[_0x1ccfa1(0x1f8)][_0x1ccfa1(0xed)]+_0x1ccfa1(0x3a4)),!_0x54f666||!_0x5c7c84)return this[_0x1ccfa1(0x27e)][_0x1ccfa1(0x5e3)](this[_0x1ccfa1(0x145)]+'\x20('+this[_0x1ccfa1(0x1f8)][_0x1ccfa1(0xed)]+_0x1ccfa1(0x546)),null;let _0x375950=_0x5c7c84[_0x1ccfa1(0x4a3)],_0x433aeb=_0x54f666['chatLog'][_0x1ccfa1(0x3f3)][_0x1ccfa1(0x184)]||_0x54f666[_0x1ccfa1(0x428)]['lastReceivedMessage'][_0x1ccfa1(0x263)]||_0x54f666[_0x1ccfa1(0x428)]['lastReceivedMessage'][_0x1ccfa1(0x309)];try{_0x54f666[_0x1ccfa1(0x428)][_0x1ccfa1(0x44a)]||(_0x54f666[_0x1ccfa1(0x428)][_0x1ccfa1(0x44a)]={});let _0x4da25e=_0x54f666['chatLog'][_0x1ccfa1(0x44a)][_0x375950];_0x54f666[_0x1ccfa1(0x428)][_0x1ccfa1(0x44a)][_0x375950]=_0x433aeb;let _0x5d3d83={'variable':_0x375950,'oldValue':_0x4da25e,'newValue':_0x433aeb};this['updateConversation'](_0x54f666,_0x5c7c84,_0x5d3d83),this[_0x1ccfa1(0x27e)][_0x1ccfa1(0x5b0)](this[_0x1ccfa1(0x145)]+'\x20('+this[_0x1ccfa1(0x1f8)]['wuid']+_0x1ccfa1(0x20a));}catch(_0x4f73b3){let _0x1bbd8f={'error':!0x0,'errorLog':_0x4f73b3['toString']()};return this[_0x1ccfa1(0x600)](_0x54f666,_0x5c7c84,_0x1bbd8f),this['logger']['error'](this[_0x1ccfa1(0x145)]+'\x20('+this[_0x1ccfa1(0x1f8)]['wuid']+_0x1ccfa1(0x447)+_0x4f73b3[_0x1ccfa1(0x420)]),null;}}async[a0_0x57c7f3(0x3b4)](_0x1f365f,_0x18f90b){const _0x579dd9=a0_0x57c7f3;if(this[_0x579dd9(0x27e)][_0x579dd9(0x5b0)](this['instanceName']+'\x20('+this[_0x579dd9(0x1f8)][_0x579dd9(0xed)]+_0x579dd9(0x580)),!_0x1f365f||!_0x18f90b)return this[_0x579dd9(0x27e)]['error'](this[_0x579dd9(0x145)]+'\x20('+this[_0x579dd9(0x1f8)][_0x579dd9(0xed)]+_0x579dd9(0x546)),null;let _0x2568fa=Date[_0x579dd9(0xe3)](),_0x1d22d5=parseInt(_0x18f90b[_0x579dd9(0x25b)],0xa);if(isNaN(_0x1d22d5))return this['logger']['error'](this['instanceName']+'\x20('+this[_0x579dd9(0x1f8)][_0x579dd9(0xed)]+_0x579dd9(0x185)),null;let _0x2d89a7=_0x2568fa+_0x1d22d5*0x3c*0x3e8,_0x4adec8={'newStoppedUntil':_0x2d89a7};return this['updateChat'](_0x1f365f,_0x2d89a7),this['updateConversation'](_0x1f365f,_0x18f90b,_0x4adec8),null;}async[a0_0x57c7f3(0x484)](_0x5ed1fe,_0xfc7776,_0x73190a){const _0xf82827=a0_0x57c7f3;try{switch(_0xfc7776[_0xf82827(0x431)]['command']){case _0xf82827(0x1ee):await this[_0xf82827(0x522)](_0x5ed1fe,_0xfc7776,_0x73190a);break;case _0xf82827(0x109):await this[_0xf82827(0x326)](_0x5ed1fe,_0xfc7776,_0x73190a);break;case _0xf82827(0x3e5):await this[_0xf82827(0x487)](_0x5ed1fe,_0xfc7776,_0x73190a);break;case _0xf82827(0x2fc):await this[_0xf82827(0x24e)](_0x5ed1fe,_0xfc7776,_0x73190a);break;case _0xf82827(0x12a):await this[_0xf82827(0x644)](_0x5ed1fe,_0xfc7776,_0x73190a);break;case _0xf82827(0x159):await this['uazapiSendPoll'](_0x5ed1fe,_0xfc7776,_0x73190a);break;case _0xf82827(0x49e):await this[_0xf82827(0x635)](_0x5ed1fe,_0xfc7776,_0x73190a);break;default:this[_0xf82827(0x27e)][_0xf82827(0x5e3)](this['instanceName']+'\x20('+this[_0xf82827(0x1f8)]['wuid']+'):\x20Comando\x20desconhecido:\x20'+_0xfc7776[_0xf82827(0x431)][_0xf82827(0x5b5)]);}}catch(_0x5e4dd5){this[_0xf82827(0x27e)]['error'](this['instanceName']+'\x20('+this['instance'][_0xf82827(0xed)]+_0xf82827(0x4f0)+_0x5e4dd5);}}async[a0_0x57c7f3(0x600)](_0x5b6da1,_0xa25a2c,_0x3de396,_0x2cfa41=!0x1,_0x185d8d=!0x1){const _0x4beda7=a0_0x57c7f3;_0x5b6da1[_0x4beda7(0x428)][_0x4beda7(0x2be)]||(_0x5b6da1['chatLog'][_0x4beda7(0x2be)]=[]);let _0x14aebb=(_0x5b6da1[_0x4beda7(0x428)][_0x4beda7(0x2be)]?.[_0x4beda7(0x438)]??0x0)+0x1,_0x427462=_0x5b6da1[_0x4beda7(0x428)]['blockLogs'][_0x4beda7(0x591)](_0x21cbd7=>String(_0x21cbd7['blockId'])===String(_0xa25a2c['_id']))[_0x4beda7(0x438)]+0x1,_0x24d48d=_0x3de396?.[_0x4beda7(0x1d5)]??Date[_0x4beda7(0xe3)](),_0x96ca90=_0x3de396?.[_0x4beda7(0x5e3)]?_0x3de396[_0x4beda7(0x143)]??_0x3de396[_0x4beda7(0x5e3)][_0x4beda7(0x5d3)]():void 0x0,_0x421895={'onTime':_0x24d48d,'blockId':_0xa25a2c[_0x4beda7(0x42b)],'order':_0x14aebb,'activatedCount':_0x427462,'error':_0x3de396?.[_0x4beda7(0x5e3)]??!0x1,'messageId':_0x3de396?.[_0x4beda7(0x3eb)],'apiResponse':_0x3de396?.[_0x4beda7(0x471)],'apiResponseString':_0x3de396?.[_0x4beda7(0x471)]?JSON[_0x4beda7(0x34c)](_0x3de396?.[_0x4beda7(0x471)]):void 0x0,'variable':_0x3de396?.[_0x4beda7(0x505)],'oldValue':_0x3de396?.[_0x4beda7(0x685)],'newValue':_0x3de396?.[_0x4beda7(0x1ff)],'newStoppedUntil':_0x3de396?.[_0x4beda7(0x46f)],'moreLogs':_0x3de396?.['moreLogs'],'errorLog':_0x96ca90};if(_0x3de396[_0x4beda7(0x2e4)]&&_0x3de396['moreLogs'][_0x4beda7(0x438)]>0x0){let _0x4ba9a6=_0x3de396['moreLogs'][_0x4beda7(0x1bd)](_0x1abf86=>this[_0x4beda7(0x14e)](_0x1abf86,_0x5b6da1[_0x4beda7(0x428)][_0x4beda7(0x44a)]));_0x421895[_0x4beda7(0x2e4)]=_0x4ba9a6;}_0x5b6da1[_0x4beda7(0x428)][_0x4beda7(0x44a)]||(_0x5b6da1[_0x4beda7(0x428)][_0x4beda7(0x44a)]={}),_0x5b6da1[_0x4beda7(0x428)][_0x4beda7(0x44a)][_0x4beda7(0x3d2)]=String(_0x427462),_0x5b6da1[_0x4beda7(0x428)][_0x4beda7(0x44a)][_0x4beda7(0x1a3)]=String(_0x3de396[_0x4beda7(0x5e3)]??!0x1),_0x5b6da1[_0x4beda7(0x428)][_0x4beda7(0x2be)][_0x4beda7(0x524)](_0x421895),_0x5b6da1[_0x4beda7(0x428)][_0x4beda7(0x476)]=_0xa25a2c['_id'][_0x4beda7(0x5d3)](),_0x5b6da1[_0x4beda7(0x428)]['lastSendMessage']&&(_0x5b6da1[_0x4beda7(0x428)][_0x4beda7(0x20d)]=_0x5b6da1[_0x4beda7(0x428)][_0x4beda7(0x20d)]),_0x5b6da1['chatLog'][_0x4beda7(0x3f3)]&&(_0x5b6da1[_0x4beda7(0x428)][_0x4beda7(0x3f3)]=_0x5b6da1['chatLog'][_0x4beda7(0x3f3)]),_0x5b6da1['chatLog'][_0x4beda7(0x47a)]&&(_0x5b6da1[_0x4beda7(0x428)][_0x4beda7(0x47a)]=_0x5b6da1['chatLog'][_0x4beda7(0x47a)]),_0x185d8d&&(_0x5b6da1[_0x4beda7(0x255)]=_0x4beda7(0x444)),_0x2cfa41?this['saveConversationToDatabase'](_0x5b6da1):this[_0x4beda7(0x2b7)](_0x5b6da1,_0xa25a2c);}[a0_0x57c7f3(0x14e)](_0x4064b5,_0x2d57a7){const _0x47d1d1=a0_0x57c7f3;return _0x4064b5['replace'](/\{\{([^}]+)\}\}/g,(_0x4d90d7,_0x4dcc91)=>_0x2d57a7[_0x4dcc91]?'{{'+_0x4dcc91+'}}\x20->\x20\x22'+_0x2d57a7[_0x4dcc91]+'\x22':'{{'+_0x4dcc91+_0x47d1d1(0x468));}async[a0_0x57c7f3(0x11a)](_0x4aeffb){const _0x244318=a0_0x57c7f3;try{let _0x16bfe7=Object[_0x244318(0x189)](_0x4aeffb[_0x244318(0x428)][_0x244318(0x44a)])[_0x244318(0x1bd)](([_0x1c697e,_0x5ca48c])=>({'name':_0x1c697e,'value':_0x5ca48c})),_0x3a8769=['nome',_0x244318(0x115),'email',_0x244318(0x4c8),'status','notas',_0x244318(0x3cb),_0x244318(0x661)];if(!this['AutomateSystem']&&(await this[_0x244318(0x56a)](),!this[_0x244318(0x3d3)]))throw new Error(_0x244318(0x27f));let _0xeb36b6=this[_0x244318(0x3d3)][_0x244318(0x123)]['map'](_0x3ec8a6=>_0x3ec8a6[_0x244318(0x17c)]),_0x3ecc13={};Object[_0x244318(0x189)](_0x4aeffb[_0x244318(0x428)][_0x244318(0x44a)])[_0x244318(0x2cb)](([_0x3583ee,_0x40d4ba])=>{const _0x5c1919=_0x244318;_0x3a8769['includes'](_0x3583ee)&&(_0x3583ee===_0x5c1919(0x661)&&typeof _0x40d4ba==_0x5c1919(0x5c6)?_0x3ecc13[_0x3583ee]=_0x40d4ba[_0x5c1919(0x479)](',\x20'):_0x3ecc13[_0x3583ee]=_0x40d4ba);});let _0x3a490b=_0x16bfe7['filter'](_0x50a1ff=>_0xeb36b6[_0x244318(0x3b6)](_0x50a1ff[_0x244318(0x17c)]));this[_0x244318(0x27e)][_0x244318(0x5b0)](this[_0x244318(0x145)]+'\x20('+this[_0x244318(0x1f8)]['wuid']+'):\x20leadInfoVariables'),this[_0x244318(0x27e)][_0x244318(0x5b0)](_0x3ecc13),this[_0x244318(0x27e)][_0x244318(0x5b0)](this['instanceName']+'\x20('+this['instance'][_0x244318(0xed)]+_0x244318(0x56d)),this[_0x244318(0x27e)][_0x244318(0x5b0)](_0x3a490b);let _0x2455dc=_0x3a490b[_0x244318(0x1bd)](_0x239416=>{const _0x2fe96a=_0x244318;let _0x12f9d5=this[_0x2fe96a(0x3d3)][_0x2fe96a(0x123)][_0x2fe96a(0x354)](_0x2d197f=>_0x2d197f[_0x2fe96a(0x17c)]===_0x239416[_0x2fe96a(0x17c)]);if(!_0x12f9d5)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x239416[_0x2fe96a(0x17c)]);return{'_id':_0x12f9d5[_0x2fe96a(0x42b)],'value':_0x239416[_0x2fe96a(0x60d)]};});this[_0x244318(0x27e)][_0x244318(0x5b0)](this[_0x244318(0x145)]+'\x20('+this['instance']['wuid']+_0x244318(0x689)),this[_0x244318(0x27e)][_0x244318(0x5b0)](_0x2455dc);let _0x2ee7be=await G['findOneAndUpdate']({'_id':_0x4aeffb[_0x244318(0x42b)]},{'$set':{'chatLog.lastBlockId':_0x4aeffb[_0x244318(0x428)][_0x244318(0x476)],'blocks':_0x4aeffb[_0x244318(0x61e)],'chatLog.lastSendMessage':_0x4aeffb['chatLog']['lastSendMessage'],'chatLog.lastReceivedMessage':_0x4aeffb['chatLog'][_0x244318(0x3f3)],'chatLog.chatVariables':_0x16bfe7,'chatLog.realVariables':_0x4aeffb[_0x244318(0x428)][_0x244318(0x44a)],'status':_0x4aeffb[_0x244318(0x255)],'chatLog.blockLogs':_0x4aeffb['chatLog'][_0x244318(0x2be)],'waitingPoll_id':_0x4aeffb['waitingPoll_id'],'waitingPoll_name':_0x4aeffb[_0x244318(0x1bc)],'waitingPoll_replyOptions':_0x4aeffb[_0x244318(0x157)]}},{'new':!0x0});if(_0x2ee7be){this[_0x244318(0x27e)][_0x244318(0x5b0)](this['instanceName']+'\x20('+this[_0x244318(0x1f8)][_0x244318(0xed)]+_0x244318(0x48d)+_0x2ee7be[_0x244318(0x42b)]);let _0x4aeebb=await R[_0x244318(0x4af)]({'id':_0x4aeffb['remoteJid'],'owner':this['instance'][_0x244318(0xed)]},{'$set':{'leadInfo.nome':_0x3ecc13['nome'],'leadInfo.nomecompleto':_0x3ecc13[_0x244318(0x115)],'leadInfo.email':_0x3ecc13[_0x244318(0x320)],'leadInfo.cpf':_0x3ecc13[_0x244318(0x4c8)],'leadInfo.status':_0x3ecc13[_0x244318(0x255)],'leadInfo.notas':_0x3ecc13[_0x244318(0x2c6)],'leadInfo.responsavelid':_0x3ecc13['responsavelid'],'leadInfo.tags':_0x3ecc13[_0x244318(0x661)],'leadInfo.customFields':_0x2455dc}},{'new':!0x0,'upsert':!0x0});_0x4aeebb?(this['logger'][_0x244318(0x5b0)](this[_0x244318(0x145)]+'\x20('+this[_0x244318(0x1f8)]['wuid']+_0x244318(0x3c9)+_0x4aeebb[_0x244318(0x42b)]),H(this[_0x244318(0x145)],_0x244318(0x169),{'chat':_0x4aeebb})):this[_0x244318(0x27e)]['error'](this[_0x244318(0x145)]+'\x20('+this[_0x244318(0x1f8)][_0x244318(0xed)]+_0x244318(0x5d1));}else this[_0x244318(0x27e)]['error'](this[_0x244318(0x145)]+'\x20('+this[_0x244318(0x1f8)][_0x244318(0xed)]+_0x244318(0x4e1));}catch(_0x1c6f41){this[_0x244318(0x27e)][_0x244318(0x5e3)](this[_0x244318(0x145)]+'\x20('+this[_0x244318(0x1f8)][_0x244318(0xed)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+JSON[_0x244318(0x34c)](_0x1c6f41));}}async[a0_0x57c7f3(0x2ae)](_0x4343b5,_0x122f82){const _0x2bd1b9=a0_0x57c7f3;try{let _0x344dbc=await R[_0x2bd1b9(0x4af)]({'id':_0x4343b5[_0x2bd1b9(0x11f)],'owner':_0x4343b5[_0x2bd1b9(0x277)]},{'$set':{'desativadoFluxoAte':_0x122f82}},{'new':!0x0});this[_0x2bd1b9(0x27e)][_0x2bd1b9(0x5b0)](this['instanceName']+'\x20('+this[_0x2bd1b9(0x1f8)][_0x2bd1b9(0xed)]+_0x2bd1b9(0x206)+_0x4343b5[_0x2bd1b9(0x42b)]),_0x344dbc&&H(this[_0x2bd1b9(0x145)],_0x2bd1b9(0x169),{'chat':_0x344dbc});}catch(_0x34cc60){this[_0x2bd1b9(0x27e)][_0x2bd1b9(0x5e3)](this['instanceName']+'\x20('+this[_0x2bd1b9(0x1f8)][_0x2bd1b9(0xed)]+_0x2bd1b9(0x500)+JSON[_0x2bd1b9(0x34c)](_0x34cc60));}}async[a0_0x57c7f3(0x30a)](_0x42412d,_0xda31b4){const _0x4b2568=a0_0x57c7f3;try{this[_0x4b2568(0x27e)][_0x4b2568(0x5b0)](this[_0x4b2568(0x145)]+'\x20('+this[_0x4b2568(0x1f8)][_0x4b2568(0xed)]+_0x4b2568(0x560));let _0x508894=_0xda31b4['replace'](/\D/g,''),_0x560dd2=await D[_0x4b2568(0xd7)]({'owner':_0x42412d,'testingWith':_0x508894});return _0x560dd2||(this[_0x4b2568(0x27e)][_0x4b2568(0x5b0)](this[_0x4b2568(0x145)]+'\x20('+this['instance'][_0x4b2568(0xed)]+_0x4b2568(0x3ba)),_0x560dd2=await D[_0x4b2568(0xd7)]({'owner':_0x42412d,'default':!0x0})),_0x560dd2||(this['logger'][_0x4b2568(0x5b0)](this[_0x4b2568(0x145)]+'\x20('+this[_0x4b2568(0x1f8)][_0x4b2568(0xed)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0xfe2f7){return this[_0x4b2568(0x27e)][_0x4b2568(0x5e3)](this[_0x4b2568(0x145)]+'\x20('+this[_0x4b2568(0x1f8)][_0x4b2568(0xed)]+_0x4b2568(0x405)+_0xfe2f7),null;}}async[a0_0x57c7f3(0x42e)](_0x57bf92,_0x4e512b,_0x26f88e){const _0xaf9645=a0_0x57c7f3;try{let _0x4dc183=!!_0x26f88e[_0xaf9645(0x309)],_0x40e239=_0x26f88e[_0xaf9645(0x32c)],_0x37287d=null;if(this[_0xaf9645(0x27e)][_0xaf9645(0x5b0)](this[_0xaf9645(0x145)]+'\x20('+this[_0xaf9645(0x1f8)][_0xaf9645(0xed)]+_0xaf9645(0x386)+_0x4dc183+_0xaf9645(0x32c)+_0x40e239),_0x4dc183)return this[_0xaf9645(0x27e)][_0xaf9645(0x5b0)](this[_0xaf9645(0x145)]+'\x20('+this[_0xaf9645(0x1f8)][_0xaf9645(0xed)]+_0xaf9645(0x370)),_0x37287d=await G[_0xaf9645(0xd7)]({'owner':_0x57bf92,'remoteJid':_0x4e512b,'waitingPoll_id':_0x40e239}),_0x37287d?(_0x37287d[_0xaf9645(0x605)]=Date['now'](),_0x37287d[_0xaf9645(0x428)][_0xaf9645(0x3f3)]=_0x26f88e,_0x37287d):(this[_0xaf9645(0x27e)]['verbose'](this[_0xaf9645(0x145)]+'\x20('+this[_0xaf9645(0x1f8)][_0xaf9645(0xed)]+_0xaf9645(0x562)),null);{if(this[_0xaf9645(0x27e)][_0xaf9645(0x5b0)](this[_0xaf9645(0x145)]+'\x20('+this[_0xaf9645(0x1f8)][_0xaf9645(0xed)]+_0xaf9645(0x2c1)+this['instance'][_0xaf9645(0xed)]+_0xaf9645(0x4be)),this['logger'][_0xaf9645(0x5b0)](this[_0xaf9645(0x145)]+'\x20('+this[_0xaf9645(0x1f8)][_0xaf9645(0xed)]+_0xaf9645(0x424)),_0x37287d=await G[_0xaf9645(0xd7)]({'owner':_0x57bf92,'remoteJid':_0x4e512b,'status':_0xaf9645(0x4c5)}),!_0x37287d){let _0x322053=await this[_0xaf9645(0x30a)](_0x57bf92,_0x4e512b);if(_0x322053&&(_0x37287d=await this[_0xaf9645(0x4fe)](_0x322053,_0x26f88e[_0xaf9645(0x572)],_0x26f88e)),!_0x37287d)return null;}let _0x23431c=Date[_0xaf9645(0xe3)](),_0x50a45b=_0x37287d?.['minutesToClose']||0x0,_0x55a32c=_0x23431c-_0x50a45b*0x3c*0x3e8;if(this[_0xaf9645(0x27e)][_0xaf9645(0x5b0)](this[_0xaf9645(0x145)]+'\x20('+this['instance'][_0xaf9645(0xed)]+_0xaf9645(0x39f)+_0x23431c+_0xaf9645(0x1a7)+_0x50a45b+',\x20Expiration\x20Time:\x20'+_0x55a32c),this[_0xaf9645(0x27e)][_0xaf9645(0x5b0)](this[_0xaf9645(0x145)]+'\x20('+this[_0xaf9645(0x1f8)][_0xaf9645(0xed)]+_0xaf9645(0x224)),this[_0xaf9645(0x27e)][_0xaf9645(0x5b0)](this[_0xaf9645(0x145)]+'\x20('+this[_0xaf9645(0x1f8)][_0xaf9645(0xed)]+_0xaf9645(0x645)+_0x37287d[_0xaf9645(0x605)]),this[_0xaf9645(0x27e)][_0xaf9645(0x5b0)](this[_0xaf9645(0x145)]+'\x20('+this['instance'][_0xaf9645(0xed)]+_0xaf9645(0x617)+_0x55a32c),_0x37287d[_0xaf9645(0x605)]<_0x55a32c){this[_0xaf9645(0x27e)][_0xaf9645(0x5b0)](this['instanceName']+'\x20('+this[_0xaf9645(0x1f8)][_0xaf9645(0xed)]+_0xaf9645(0x1f3));let _0x2319f2=await this[_0xaf9645(0x30a)](_0x57bf92,_0x4e512b);if(_0x2319f2===null)return null;_0x37287d&&await G[_0xaf9645(0x51f)]({'_id':_0x37287d[_0xaf9645(0x42b)]},{'status':_0xaf9645(0x444)}),_0x37287d=await this[_0xaf9645(0x4fe)](_0x2319f2,_0x26f88e[_0xaf9645(0x572)],_0x26f88e);}return _0x37287d['lastInteraction']=_0x23431c,_0x37287d[_0xaf9645(0x428)]['lastReceivedMessage']=_0x26f88e,_0x37287d;}}catch(_0x30a21f){return this['logger'][_0xaf9645(0x5e3)](this[_0xaf9645(0x145)]+'\x20('+this[_0xaf9645(0x1f8)]['wuid']+_0xaf9645(0x453)+_0x30a21f),null;}}async[a0_0x57c7f3(0x4fe)](_0x4bebe6,_0x27efef,_0x9af0e1){const _0x111ed0=a0_0x57c7f3;this['logger'][_0x111ed0(0x5b0)](this[_0x111ed0(0x145)]+'\x20('+this[_0x111ed0(0x1f8)][_0x111ed0(0xed)]+_0x111ed0(0x256));try{let _0x542019=require(_0x111ed0(0x52c))['ObjectId'],_0x2417b1=Date['now'](),_0x2cf54a='start',_0xa8da3a=_0x27efef[_0x111ed0(0x5c2)]?null:_0x9af0e1,_0x4da5a7=_0x27efef[_0x111ed0(0x5c2)]?_0x9af0e1:null,_0x2e1616=_0x27efef[_0x111ed0(0x11f)],_0x24eca2={..._0x4bebe6[_0x111ed0(0x4d3)],'chatLog':null},_0x1c4ba1=await this[_0x111ed0(0x22a)](_0x24eca2[_0x111ed0(0x1ed)]),_0x41fda9=await this[_0x111ed0(0x10e)](_0x2e1616),_0x4f6c23={..._0x1c4ba1,..._0x41fda9},_0x329f9e={'lastReceivedMessage':_0xa8da3a,'lastSendMessage':_0x4da5a7,'lastBlockId':_0x2cf54a,'lastCondition':!0x0,'realVariables':_0x4f6c23};_0x24eca2['chatLog']=_0x329f9e,delete _0x24eca2['_id'],_0x24eca2[_0x111ed0(0x42b)]=new _0x542019(),_0x24eca2[_0x111ed0(0x605)]=_0x2417b1,_0x24eca2[_0x111ed0(0x255)]=_0x111ed0(0x4c5),_0x24eca2['remoteJid']=_0x2e1616;let _0x3697bf=await G[_0x111ed0(0x411)](_0x24eca2);return this[_0x111ed0(0x27e)][_0x111ed0(0x5b0)](this[_0x111ed0(0x145)]+'\x20('+this[_0x111ed0(0x1f8)][_0x111ed0(0xed)]+_0x111ed0(0x29b)),_0x3697bf?_0x24eca2:null;}catch(_0x373829){return this[_0x111ed0(0x27e)][_0x111ed0(0x5e3)](this['instanceName']+'\x20('+this[_0x111ed0(0x1f8)]['wuid']+_0x111ed0(0x2ce)+_0x373829),_0x373829;}}async[a0_0x57c7f3(0x522)](_0x1dd0a8,_0x5a5c5d,_0x109726){const _0x9177bc=a0_0x57c7f3;this[_0x9177bc(0x27e)][_0x9177bc(0x5b0)](this['instanceName']+'\x20('+this['instance'][_0x9177bc(0xed)]+_0x9177bc(0x607));let _0x3f53e5={'number':_0x109726,'options':{'delay':_0x5a5c5d[_0x9177bc(0x431)]['delay']},'textMessage':{'text':_0x5a5c5d[_0x9177bc(0x431)][_0x9177bc(0x184)]}};try{let _0x4eacc0=await this[_0x9177bc(0x4ea)](_0x3f53e5);if(_0x4eacc0){let _0x33f01f={'_id':_0x4eacc0[_0x9177bc(0x572)]['id'],'_fromMe':_0x4eacc0[_0x9177bc(0x572)]['fromMe'],'_remoteJid':_0x4eacc0[_0x9177bc(0x572)][_0x9177bc(0x11f)]};_0x1dd0a8[_0x9177bc(0x428)][_0x9177bc(0x476)]=_0x5a5c5d['_id'][_0x9177bc(0x5d3)]();let {message_normalized:_0x1a5026}=this[_0x9177bc(0x3c4)](_0x4eacc0[_0x9177bc(0x420)],q(_0x4eacc0[_0x9177bc(0x420)]),null);_0x1dd0a8[_0x9177bc(0x428)][_0x9177bc(0x20d)]=await _0x1a5026;let _0x18d6d0={'messageId':_0x4eacc0['key']['id']},_0x1facf7=_0x1dd0a8[_0x9177bc(0x428)]['realVariables'];Object[_0x9177bc(0x33e)](_0x1facf7,_0x33f01f),_0x1dd0a8['chatLog'][_0x9177bc(0x44a)]=_0x1facf7,this[_0x9177bc(0x600)](_0x1dd0a8,_0x5a5c5d,_0x18d6d0);}else{let _0x9f7565={'error':!0x0};this[_0x9177bc(0x600)](_0x1dd0a8,_0x5a5c5d,_0x9f7565),this['logger'][_0x9177bc(0x5e3)](this['instanceName']+'\x20('+this[_0x9177bc(0x1f8)][_0x9177bc(0xed)]+_0x9177bc(0x188));}}catch(_0x5cf59d){let _0x8e3bb1={'error':!0x0,'errorLog':_0x5cf59d[_0x9177bc(0x5d3)]()};this[_0x9177bc(0x600)](_0x1dd0a8,_0x5a5c5d,_0x8e3bb1),this[_0x9177bc(0x27e)]['error'](this[_0x9177bc(0x145)]+'\x20('+this[_0x9177bc(0x1f8)][_0x9177bc(0xed)]+_0x9177bc(0x2d6)+_0x5cf59d['toString']());}}async[a0_0x57c7f3(0x326)](_0x3ccf9a,_0x1675b7,_0x2ce6a3){const _0x5191dc=a0_0x57c7f3;this[_0x5191dc(0x27e)]['verbose'](this[_0x5191dc(0x145)]+'\x20('+this[_0x5191dc(0x1f8)][_0x5191dc(0xed)]+'):\x20Enviando\x20mídia');let _0x40104b={'number':_0x2ce6a3,'options':{'delay':_0x1675b7[_0x5191dc(0x431)][_0x5191dc(0x5f4)]},'mediaMessage':{'mediatype':_0x1675b7['uazapi'][_0x5191dc(0x2e3)],'caption':_0x1675b7[_0x5191dc(0x431)][_0x5191dc(0x263)],'media':_0x1675b7[_0x5191dc(0x431)][_0x5191dc(0x18d)]}};try{let _0xf8b92c=await this[_0x5191dc(0x2ad)](_0x40104b);if(_0xf8b92c){let _0x5a8913={'_id':_0xf8b92c['key']['id'],'_fromMe':_0xf8b92c[_0x5191dc(0x572)][_0x5191dc(0x5c2)],'_remoteJid':_0xf8b92c[_0x5191dc(0x572)]['remoteJid']};_0x3ccf9a[_0x5191dc(0x428)][_0x5191dc(0x476)]=_0x1675b7[_0x5191dc(0x42b)]['toString']();let {message_normalized:_0x3bd14e}=this[_0x5191dc(0x3c4)](_0xf8b92c[_0x5191dc(0x420)],q(_0xf8b92c[_0x5191dc(0x420)]),null);_0x3ccf9a[_0x5191dc(0x428)][_0x5191dc(0x20d)]=await _0x3bd14e;let _0x4497e7={'messageId':_0xf8b92c['key']['id']},_0xb3344=_0x3ccf9a[_0x5191dc(0x428)][_0x5191dc(0x44a)];Object[_0x5191dc(0x33e)](_0xb3344,_0x5a8913),_0x3ccf9a['chatLog'][_0x5191dc(0x44a)]=_0xb3344,this[_0x5191dc(0x600)](_0x3ccf9a,_0x1675b7,_0x4497e7);}else{let _0x488ab8={'error':!0x0};this[_0x5191dc(0x600)](_0x3ccf9a,_0x1675b7,_0x488ab8),this[_0x5191dc(0x27e)]['error'](this['instanceName']+'\x20('+this[_0x5191dc(0x1f8)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x40518d){let _0x4ee447={'error':!0x0,'errorLog':_0x40518d[_0x5191dc(0x5d3)]()};this[_0x5191dc(0x600)](_0x3ccf9a,_0x1675b7,_0x4ee447),this[_0x5191dc(0x27e)][_0x5191dc(0x5e3)](this['instanceName']+'\x20('+this[_0x5191dc(0x1f8)][_0x5191dc(0xed)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+_0x40518d['toString']());}}async[a0_0x57c7f3(0x487)](_0x2cca25,_0x474686,_0x45c674){const _0x478387=a0_0x57c7f3;this['logger'][_0x478387(0x5b0)](this[_0x478387(0x145)]+'\x20('+this[_0x478387(0x1f8)][_0x478387(0xed)]+'):\x20Enviando\x20localização');let _0xd975e5={'number':_0x45c674,'options':{'delay':_0x474686['uazapi']['delay']},'locationMessage':{'name':_0x474686[_0x478387(0x431)][_0x478387(0x17c)],'address':_0x474686[_0x478387(0x431)][_0x478387(0x254)],'latitude':_0x474686[_0x478387(0x431)][_0x478387(0x21b)],'longitude':_0x474686[_0x478387(0x431)][_0x478387(0x51b)]}};try{let _0x26d00a=await this[_0x478387(0x2e0)](_0xd975e5);if(_0x26d00a){let _0xe2656d={'_id':_0x26d00a[_0x478387(0x572)]['id'],'_fromMe':_0x26d00a['key']['fromMe'],'_remoteJid':_0x26d00a[_0x478387(0x572)][_0x478387(0x11f)]};_0x2cca25[_0x478387(0x428)][_0x478387(0x476)]=_0x474686['_id'][_0x478387(0x5d3)]();let {message_normalized:_0x51f507}=this[_0x478387(0x3c4)](_0x26d00a[_0x478387(0x420)],q(_0x26d00a[_0x478387(0x420)]),null);_0x2cca25[_0x478387(0x428)]['lastSendMessage']=await _0x51f507;let _0x5460ad={'messageId':_0x26d00a['key']['id']},_0x4cc588=_0x2cca25[_0x478387(0x428)][_0x478387(0x44a)];Object[_0x478387(0x33e)](_0x4cc588,_0xe2656d),_0x2cca25[_0x478387(0x428)][_0x478387(0x44a)]=_0x4cc588,this[_0x478387(0x600)](_0x2cca25,_0x474686,_0x5460ad);}else{let _0xe29d6f={'error':!0x0};this[_0x478387(0x600)](_0x2cca25,_0x474686,_0xe29d6f),this['logger']['error'](this['instanceName']+'\x20('+this[_0x478387(0x1f8)]['wuid']+_0x478387(0x203));}}catch(_0x1c7093){let _0x4da244={'error':!0x0,'errorLog':_0x1c7093[_0x478387(0x5d3)]()};this[_0x478387(0x600)](_0x2cca25,_0x474686,_0x4da244),this[_0x478387(0x27e)][_0x478387(0x5e3)](this[_0x478387(0x145)]+'\x20('+this[_0x478387(0x1f8)]['wuid']+_0x478387(0x380)+_0x1c7093['toString']());}}async[a0_0x57c7f3(0x24e)](_0x29af90,_0x5cbdce,_0x52166e){const _0x352b8d=a0_0x57c7f3;this[_0x352b8d(0x27e)][_0x352b8d(0x5b0)](this[_0x352b8d(0x145)]+'\x20('+this[_0x352b8d(0x1f8)]['wuid']+'):\x20Enviando\x20áudio');let _0x36aedb={'number':_0x52166e,'options':{'delay':_0x5cbdce['uazapi'][_0x352b8d(0x5f4)]},'audioMessage':{'audio':_0x5cbdce[_0x352b8d(0x431)][_0x352b8d(0x559)]}};try{let _0x214e7f=await this['audioWhatsapp'](_0x36aedb);if(_0x214e7f){let _0x3b8ef1={'_id':_0x214e7f[_0x352b8d(0x572)]['id'],'_fromMe':_0x214e7f[_0x352b8d(0x572)][_0x352b8d(0x5c2)],'_remoteJid':_0x214e7f[_0x352b8d(0x572)][_0x352b8d(0x11f)]};_0x29af90['chatLog']['lastBlockId']=_0x5cbdce[_0x352b8d(0x42b)][_0x352b8d(0x5d3)]();let {message_normalized:_0x52c534}=this[_0x352b8d(0x3c4)](_0x214e7f[_0x352b8d(0x420)],q(_0x214e7f[_0x352b8d(0x420)]),null);_0x29af90[_0x352b8d(0x428)][_0x352b8d(0x20d)]=await _0x52c534;let _0xc17952={'messageId':_0x214e7f[_0x352b8d(0x572)]['id']},_0x760e82=_0x29af90[_0x352b8d(0x428)][_0x352b8d(0x44a)];Object[_0x352b8d(0x33e)](_0x760e82,_0x3b8ef1),_0x29af90[_0x352b8d(0x428)][_0x352b8d(0x44a)]=_0x760e82,this[_0x352b8d(0x600)](_0x29af90,_0x5cbdce,_0xc17952);}else{let _0x434e11={'error':!0x0};this[_0x352b8d(0x600)](_0x29af90,_0x5cbdce,_0x434e11),this[_0x352b8d(0x27e)][_0x352b8d(0x5e3)](this[_0x352b8d(0x145)]+'\x20('+this[_0x352b8d(0x1f8)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x230fff){let _0x5a0d8f={'error':!0x0,'errorLog':_0x230fff[_0x352b8d(0x5d3)]()};this['updateConversation'](_0x29af90,_0x5cbdce,_0x5a0d8f),this['logger'][_0x352b8d(0x5e3)](this['instanceName']+'\x20('+this[_0x352b8d(0x1f8)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+_0x230fff[_0x352b8d(0x5d3)]());}}async[a0_0x57c7f3(0x644)](_0x1576b4,_0x5c6903,_0x1d7a04){const _0x16616e=a0_0x57c7f3;this['logger']['verbose'](this[_0x16616e(0x145)]+'\x20('+this[_0x16616e(0x1f8)][_0x16616e(0xed)]+_0x16616e(0x3b8));let _0x32e0cf={'number':_0x1d7a04,'options':{'delay':_0x5c6903[_0x16616e(0x431)][_0x16616e(0x5f4)]},'contactMessage':[{'fullName':_0x5c6903[_0x16616e(0x431)][_0x16616e(0x64c)],'phoneNumber':_0x5c6903[_0x16616e(0x431)]['phoneNumber']}]};try{let _0x1319c8=await this['contactMessage'](_0x32e0cf);if(_0x1319c8){let _0x21813a={'_id':_0x1319c8[_0x16616e(0x572)]['id'],'_fromMe':_0x1319c8[_0x16616e(0x572)]['fromMe'],'_remoteJid':_0x1319c8[_0x16616e(0x572)][_0x16616e(0x11f)]};_0x1576b4[_0x16616e(0x428)]['lastBlockId']=_0x5c6903['_id'][_0x16616e(0x5d3)]();let {message_normalized:_0x320743}=this[_0x16616e(0x3c4)](_0x1319c8[_0x16616e(0x420)],q(_0x1319c8[_0x16616e(0x420)]),null);_0x1576b4[_0x16616e(0x428)][_0x16616e(0x20d)]=await _0x320743;let _0x5a3485={'messageId':_0x1319c8[_0x16616e(0x572)]['id']},_0x584d05=_0x1576b4[_0x16616e(0x428)][_0x16616e(0x44a)];Object[_0x16616e(0x33e)](_0x584d05,_0x21813a),_0x1576b4[_0x16616e(0x428)][_0x16616e(0x44a)]=_0x584d05,this[_0x16616e(0x600)](_0x1576b4,_0x5c6903,_0x5a3485);}else{let _0x21a8c5={'error':!0x0};this['updateConversation'](_0x1576b4,_0x5c6903,_0x21a8c5),this[_0x16616e(0x27e)][_0x16616e(0x5e3)](this['instanceName']+'\x20('+this[_0x16616e(0x1f8)][_0x16616e(0xed)]+_0x16616e(0xe8));}}catch(_0x271e48){let _0x2bdc92={'error':!0x0,'errorLog':_0x271e48[_0x16616e(0x5d3)]()};this[_0x16616e(0x600)](_0x1576b4,_0x5c6903,_0x2bdc92),this[_0x16616e(0x27e)][_0x16616e(0x5e3)](this[_0x16616e(0x145)]+'\x20('+this[_0x16616e(0x1f8)][_0x16616e(0xed)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+_0x271e48[_0x16616e(0x5d3)]());}}[a0_0x57c7f3(0x2cf)](_0x441a53,_0x521efb){const _0x4234fd=a0_0x57c7f3;for(let _0x5cb5d2 of _0x441a53)_0x5cb5d2[_0x4234fd(0x2d1)]&&(_0x5cb5d2[_0x4234fd(0x2d1)]=this[_0x4234fd(0x433)](_0x5cb5d2[_0x4234fd(0x2d1)],_0x521efb)),_0x5cb5d2[_0x4234fd(0x1d6)]&&(_0x5cb5d2['optionDescription']=this[_0x4234fd(0x433)](_0x5cb5d2[_0x4234fd(0x1d6)],_0x521efb));}async[a0_0x57c7f3(0x4f5)](_0x3ea207,_0x4a8793,_0x326fb9){const _0x30110d=a0_0x57c7f3;this[_0x30110d(0x27e)][_0x30110d(0x5b0)](this[_0x30110d(0x145)]+'\x20('+this['instance'][_0x30110d(0xed)]+_0x30110d(0x298));let _0x491314=_0x3ea207['replyOptions'][_0x30110d(0x591)](_0x55d538=>_0x55d538['blockId']===_0x4a8793[_0x30110d(0x42b)]);this['replaceVariablesInReplyOptions'](_0x491314,_0x3ea207[_0x30110d(0x428)][_0x30110d(0x44a)]);let _0x4ab220=_0x491314[_0x30110d(0x1bd)](_0x3cdf15=>_0x3cdf15[_0x30110d(0x2d1)]),_0x944c79={'number':_0x326fb9,'options':{'delay':_0x4a8793[_0x30110d(0x431)][_0x30110d(0x5f4)]},'pollMessage':{'name':_0x4a8793['uazapi']['name'],'selectableCount':0x1,'values':_0x4ab220}};try{let _0x44a6bf=await this[_0x30110d(0x46c)](_0x944c79);if(_0x44a6bf){let _0x1af75f={'_id':_0x44a6bf[_0x30110d(0x572)]['id'],'_fromMe':_0x44a6bf[_0x30110d(0x572)][_0x30110d(0x5c2)],'_remoteJid':_0x44a6bf[_0x30110d(0x572)][_0x30110d(0x11f)]};this['logger']['verbose'](this[_0x30110d(0x145)]+'\x20('+this[_0x30110d(0x1f8)][_0x30110d(0xed)]+_0x30110d(0x275)+_0x4a8793[_0x30110d(0x431)][_0x30110d(0x17c)]),_0x3ea207[_0x30110d(0x2c8)]=_0x44a6bf[_0x30110d(0x572)]['id'],_0x3ea207[_0x30110d(0x1bc)]=_0x4a8793[_0x30110d(0x431)][_0x30110d(0x17c)],_0x3ea207['waitingPoll_replyOptions']=_0x491314,this['logger'][_0x30110d(0x5b0)](this[_0x30110d(0x145)]+'\x20('+this[_0x30110d(0x1f8)][_0x30110d(0xed)]+_0x30110d(0x35c)+_0x3ea207[_0x30110d(0x1bc)]),_0x3ea207['chatLog']['lastBlockId']=_0x4a8793['_id']['toString']();let {message_normalized:_0x217dd1}=this[_0x30110d(0x3c4)](_0x44a6bf[_0x30110d(0x420)],q(_0x44a6bf[_0x30110d(0x420)]),null);_0x3ea207['chatLog']['lastSendMessage']=await _0x217dd1;let _0x3674a0={'messageId':_0x44a6bf[_0x30110d(0x572)]['id']},_0x5d395e=_0x3ea207[_0x30110d(0x428)][_0x30110d(0x44a)];Object[_0x30110d(0x33e)](_0x5d395e,_0x1af75f),_0x3ea207[_0x30110d(0x428)]['realVariables']=_0x5d395e,this['updateConversation'](_0x3ea207,_0x4a8793,_0x3674a0);}else{let _0x12d2f6={'error':!0x0};this[_0x30110d(0x600)](_0x3ea207,_0x4a8793,_0x12d2f6),this['logger'][_0x30110d(0x5e3)](this[_0x30110d(0x145)]+'\x20('+this[_0x30110d(0x1f8)]['wuid']+_0x30110d(0x1ca));}}catch(_0x3c995e){let _0x5f124a={'error':!0x0,'errorLog':_0x3c995e[_0x30110d(0x5d3)]()};this[_0x30110d(0x600)](_0x3ea207,_0x4a8793,_0x5f124a),this[_0x30110d(0x27e)]['error'](this[_0x30110d(0x145)]+'\x20('+this[_0x30110d(0x1f8)][_0x30110d(0xed)]+_0x30110d(0x24f)+_0x3c995e[_0x30110d(0x5d3)]());}}async[a0_0x57c7f3(0x635)](_0x642ed1,_0x150d60,_0x38675f){const _0x2e2cd4=a0_0x57c7f3;this[_0x2e2cd4(0x27e)]['verbose'](this['instanceName']+'\x20('+this[_0x2e2cd4(0x1f8)]['wuid']+_0x2e2cd4(0x540));let _0x174d7b=_0x642ed1['chatLog'][_0x2e2cd4(0x2be)][_0x2e2cd4(0x354)](_0x47b01c=>_0x47b01c[_0x2e2cd4(0x56b)]['toString']()===_0x150d60[_0x2e2cd4(0x431)][_0x2e2cd4(0x56b)]['toString']()),_0x128a5f={'id':_0x174d7b[_0x2e2cd4(0x3eb)],'remoteJid':_0x174d7b['remoteJid'],'fromMe':_0x174d7b[_0x2e2cd4(0x5c2)]};try{let _0x475139=await this[_0x2e2cd4(0x49e)](_0x128a5f);if(_0x475139){_0x642ed1[_0x2e2cd4(0x428)]['lastBlockId']=_0x150d60[_0x2e2cd4(0x42b)][_0x2e2cd4(0x5d3)]();let {message_normalized:_0xb3bb1d}=this[_0x2e2cd4(0x3c4)](_0x475139[_0x2e2cd4(0x420)],q(_0x475139[_0x2e2cd4(0x420)]),null);_0x642ed1['chatLog'][_0x2e2cd4(0x20d)]=await _0xb3bb1d;let _0x325cab={};this[_0x2e2cd4(0x600)](_0x642ed1,_0x150d60,_0x325cab);}else{let _0x50f688={'error':!0x0};this[_0x2e2cd4(0x600)](_0x642ed1,_0x150d60,_0x50f688),this[_0x2e2cd4(0x27e)][_0x2e2cd4(0x5e3)](this[_0x2e2cd4(0x145)]+'\x20('+this[_0x2e2cd4(0x1f8)]['wuid']+_0x2e2cd4(0x311));}}catch(_0x13a4ee){let _0x3a46a1={'error':!0x0,'errorLog':_0x13a4ee[_0x2e2cd4(0x5d3)]()};this['updateConversation'](_0x642ed1,_0x150d60,_0x3a46a1),this[_0x2e2cd4(0x27e)]['error'](this[_0x2e2cd4(0x145)]+'\x20('+this[_0x2e2cd4(0x1f8)][_0x2e2cd4(0xed)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+_0x13a4ee[_0x2e2cd4(0x5d3)]());}}async[a0_0x57c7f3(0x32d)](_0x5e139c){const _0x1b32ce=a0_0x57c7f3;try{if(this[_0x1b32ce(0x27e)][_0x1b32ce(0x5b0)](this[_0x1b32ce(0x145)]+'\x20('+this[_0x1b32ce(0x1f8)][_0x1b32ce(0xed)]+'):\x20Criando\x20fluxo...'),await D[_0x1b32ce(0xd7)]({'owner':this[_0x1b32ce(0x1f8)][_0x1b32ce(0xed)],'name':_0x5e139c['name']}))return{'message':_0x1b32ce(0x45e)};_0x5e139c[_0x1b32ce(0x19b)]===!0x0&&await D[_0x1b32ce(0x38c)]({'owner':this[_0x1b32ce(0x1f8)][_0x1b32ce(0xed)]},{'default':!0x1});let _0x5d17b8=new ye['Types'][(_0x1b32ce(0x45d))](),_0x4ef2bc={'_id':_0x5d17b8,'default':!0x0,'title':_0x1b32ce(0x651),'x':0x0,'y':0x0},_0x1a4ef4={'_id':new ye['Types'][(_0x1b32ce(0x45d))](),'order':0x1,'groupId':_0x5d17b8['toString'](),'type':_0x1b32ce(0x498)};return await D['create']({'owner':this[_0x1b32ce(0x1f8)][_0x1b32ce(0xed)],'name':_0x5e139c[_0x1b32ce(0x17c)],'groups':[_0x4ef2bc],'blocks':[_0x1a4ef4],..._0x5e139c});}catch(_0x156dda){throw this['logger'][_0x1b32ce(0x5e3)](this[_0x1b32ce(0x145)]+'\x20('+this['instance'][_0x1b32ce(0xed)]+_0x1b32ce(0x287)+_0x156dda),new m(_0x1b32ce(0x178)+_0x156dda);}}async[a0_0x57c7f3(0x52e)](_0x29aa4b){const _0x5ec389=a0_0x57c7f3;try{return this[_0x5ec389(0x27e)][_0x5ec389(0x5b0)](this[_0x5ec389(0x145)]+'\x20('+this[_0x5ec389(0x1f8)][_0x5ec389(0xed)]+_0x5ec389(0x2b0)),await D[_0x5ec389(0x67a)]({'owner':this[_0x5ec389(0x1f8)]['wuid'],'name':_0x29aa4b});}catch(_0x261060){return this[_0x5ec389(0x27e)][_0x5ec389(0x5e3)](this[_0x5ec389(0x145)]+'\x20('+this[_0x5ec389(0x1f8)]['wuid']+_0x5ec389(0x15c)+_0x261060),{'message':_0x5ec389(0x28b)+_0x261060};}}async['getFlow'](_0x1ab641){const _0x51aa70=a0_0x57c7f3;try{this[_0x51aa70(0x27e)]['verbose'](this['instanceName']+'\x20('+this[_0x51aa70(0x1f8)][_0x51aa70(0xed)]+'):\x20Buscando\x20flow...');let _0x4fc7ce=await D[_0x51aa70(0xd7)]({'owner':this[_0x51aa70(0x1f8)][_0x51aa70(0xed)],'name':_0x1ab641});if(!_0x4fc7ce)throw new Error('Flow\x20não\x20encontrado');if(!this['AutomateSystem']&&(await this[_0x51aa70(0x56a)](),!this[_0x51aa70(0x3d3)]))return null;let _0xcaa9d6=this['AutomateSystem'][_0x51aa70(0x123)]['map'](_0x311d6c=>_0x311d6c[_0x51aa70(0x17c)]),_0x25189d=[_0x51aa70(0x134),_0x51aa70(0x115),_0x51aa70(0x320),_0x51aa70(0x4c8),_0x51aa70(0x255),_0x51aa70(0x2c6),'responsavelid','tags'];return _0x4fc7ce[_0x51aa70(0x1ed)]=_0x4fc7ce[_0x51aa70(0x1ed)][_0x51aa70(0x591)](_0x346fe5=>!_0x25189d['includes'](_0x346fe5[_0x51aa70(0x17c)])),_0x25189d[_0x51aa70(0x2cb)](_0x103e42=>{const _0x1eb2dc=_0x51aa70;_0x4fc7ce['variables'][_0x1eb2dc(0x524)]({'folder':_0x1eb2dc(0x501),'name':_0x103e42,'value':'','doc':'','leadInfo':!0x0});}),_0x4fc7ce['variables']=_0x4fc7ce[_0x51aa70(0x1ed)][_0x51aa70(0x591)](_0x270afd=>!_0xcaa9d6['includes'](_0x270afd[_0x51aa70(0x17c)])),_0xcaa9d6[_0x51aa70(0x2cb)](_0x3aa83e=>{const _0x3c0803=_0x51aa70;_0x4fc7ce['variables']['some'](_0x1ba9b4=>_0x1ba9b4[_0x3c0803(0x17c)]===_0x3aa83e&&_0x1ba9b4[_0x3c0803(0x501)]===!0x0)||_0x4fc7ce[_0x3c0803(0x1ed)][_0x3c0803(0x524)]({'folder':_0x3c0803(0x501),'name':_0x3aa83e,'value':'','doc':'','leadInfo':!0x0});}),await _0x4fc7ce[_0x51aa70(0x319)](),_0x4fc7ce;}catch(_0x38fc82){throw this['logger'][_0x51aa70(0x5e3)](this[_0x51aa70(0x145)]+'\x20('+this[_0x51aa70(0x1f8)][_0x51aa70(0xed)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+_0x38fc82),new m(_0x51aa70(0x5b7)+_0x38fc82);}}async[a0_0x57c7f3(0x1db)](){const _0x235519=a0_0x57c7f3;try{return this[_0x235519(0x27e)][_0x235519(0x5b0)](this[_0x235519(0x145)]+'\x20('+this[_0x235519(0x1f8)][_0x235519(0xed)]+_0x235519(0x49c)),await D[_0x235519(0x354)]({'owner':this['instance']['wuid']});}catch(_0x2ea387){return this[_0x235519(0x27e)][_0x235519(0x5e3)](this[_0x235519(0x145)]+'\x20('+this[_0x235519(0x1f8)]['wuid']+_0x235519(0x682)+_0x2ea387),{'message':_0x235519(0x3fb)+_0x2ea387};}}async[a0_0x57c7f3(0x1f7)](_0x4760b3){const _0x2aaf2a=a0_0x57c7f3;try{this[_0x2aaf2a(0x27e)][_0x2aaf2a(0x5b0)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Alterando\x20fluxo...');let _0x2eae02=await D['findOne']({'owner':this[_0x2aaf2a(0x1f8)][_0x2aaf2a(0xed)],'name':_0x4760b3[_0x2aaf2a(0x17c)]});if(!_0x2eae02)return{'message':'Fluxo\x20não\x20encontrado'};if(_0x4760b3['default']===!0x0&&await D['updateMany']({'owner':this[_0x2aaf2a(0x1f8)]['wuid']},{'default':!0x1}),_0x4760b3[_0x2aaf2a(0x53b)]){if(await D[_0x2aaf2a(0xd7)]({'owner':this[_0x2aaf2a(0x1f8)][_0x2aaf2a(0xed)],'name':_0x4760b3[_0x2aaf2a(0x53b)]}))return{'message':_0x2aaf2a(0x62b)};_0x4760b3['name']=_0x4760b3['newName'],delete _0x4760b3[_0x2aaf2a(0x53b)];}return await D['findByIdAndUpdate'](_0x2eae02[_0x2aaf2a(0x42b)],{'$set':_0x4760b3},{'new':!0x0});}catch(_0x351c35){throw this[_0x2aaf2a(0x27e)][_0x2aaf2a(0x5e3)](this['instanceName']+'\x20('+this[_0x2aaf2a(0x1f8)][_0x2aaf2a(0xed)]+_0x2aaf2a(0x34a)+_0x351c35),new m(_0x2aaf2a(0x3bd)+_0x351c35);}}async[a0_0x57c7f3(0x21d)](_0x413b4b){const _0x50ea06=a0_0x57c7f3;try{this[_0x50ea06(0x27e)][_0x50ea06(0x5b0)](this[_0x50ea06(0x145)]+'\x20('+this[_0x50ea06(0x1f8)][_0x50ea06(0xed)]+_0x50ea06(0xfe));let _0x51e935={'owner':this[_0x50ea06(0x1f8)]['wuid'],'name':_0x413b4b[_0x50ea06(0x17c)]},_0x15771a=await D[_0x50ea06(0xd7)](_0x51e935);_0x15771a||this[_0x50ea06(0x43e)](_0x50ea06(0x33c));let {block:_0x72a86e}=_0x413b4b;return _0x72a86e?.['delete']?this[_0x50ea06(0x103)](_0x15771a,_0x413b4b):_0x72a86e[_0x50ea06(0x42b)]?await this[_0x50ea06(0x280)](_0x15771a,_0x413b4b):this[_0x50ea06(0x50f)](_0x15771a,_0x413b4b),await _0x15771a[_0x50ea06(0x319)](),_0x15771a;}catch(_0xf98243){this[_0x50ea06(0x43e)](_0x50ea06(0x306)+_0xf98243);}}[a0_0x57c7f3(0x43e)](_0x5a7de4){const _0x2ece62=a0_0x57c7f3;throw this[_0x2ece62(0x27e)]['error'](this['instanceName']+'\x20('+this[_0x2ece62(0x1f8)]['wuid']+'):\x20'+_0x5a7de4),new m(_0x5a7de4);}[a0_0x57c7f3(0x103)](_0x90e2bf,_0x189cd7){const _0x35f9b8=a0_0x57c7f3;let {block:_0x2a6298}=_0x189cd7;if(_0x2a6298[_0x35f9b8(0x1ae)]===_0x35f9b8(0x498)){this[_0x35f9b8(0x43e)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x2a6298[_0x35f9b8(0x42b)]){this['throwAndLogError'](_0x35f9b8(0x57f));return;}let _0x136698=_0x90e2bf[_0x35f9b8(0x61e)]['find'](_0x39b0cb=>_0x39b0cb[_0x35f9b8(0x42b)][_0x35f9b8(0x5d3)]()===_0x189cd7['block'][_0x35f9b8(0x42b)][_0x35f9b8(0x5d3)]());if(!_0x136698){this[_0x35f9b8(0x43e)](_0x35f9b8(0x4e8)+_0x2a6298[_0x35f9b8(0x42b)]+_0x35f9b8(0x22f));return;}_0x90e2bf[_0x35f9b8(0x61e)]=_0x90e2bf['blocks'][_0x35f9b8(0x591)](_0x1a800a=>_0x1a800a[_0x35f9b8(0x42b)][_0x35f9b8(0x5d3)]()!==_0x189cd7[_0x35f9b8(0x15f)][_0x35f9b8(0x42b)]['toString']()),_0x90e2bf['conditions']=_0x90e2bf[_0x35f9b8(0x470)][_0x35f9b8(0x591)](_0x5c05e7=>_0x5c05e7[_0x35f9b8(0x56b)]!==_0x2a6298[_0x35f9b8(0x42b)]['toString']()),_0x90e2bf[_0x35f9b8(0x28f)]=_0x90e2bf[_0x35f9b8(0x28f)][_0x35f9b8(0x591)](_0xedf7a=>_0xedf7a[_0x35f9b8(0x56b)]!==_0x2a6298['_id'][_0x35f9b8(0x5d3)]()),_0x90e2bf[_0x35f9b8(0x2fe)]=_0x90e2bf[_0x35f9b8(0x2fe)][_0x35f9b8(0x591)](_0x26221e=>_0x26221e[_0x35f9b8(0x56b)]!==_0x2a6298[_0x35f9b8(0x42b)][_0x35f9b8(0x5d3)]()),this['reorderBlocks'](_0x90e2bf[_0x35f9b8(0x61e)],_0x136698[_0x35f9b8(0x13d)]);}async[a0_0x57c7f3(0x280)](_0x4e6a4b,_0x53583b){const _0x56ea06=a0_0x57c7f3;let _0x4b3aa2=_0x4e6a4b[_0x56ea06(0x61e)][_0x56ea06(0x212)](_0x5b216d=>_0x5b216d[_0x56ea06(0x42b)][_0x56ea06(0x5d3)]()===_0x53583b[_0x56ea06(0x15f)][_0x56ea06(0x42b)][_0x56ea06(0x5d3)]());if(this[_0x56ea06(0x27e)][_0x56ea06(0x5b0)](this[_0x56ea06(0x145)]+'\x20('+this[_0x56ea06(0x1f8)][_0x56ea06(0xed)]+_0x56ea06(0x323)+_0x4b3aa2),_0x4b3aa2===-0x1){this['logger'][_0x56ea06(0x5b0)](_0x56ea06(0x4e8)+_0x53583b[_0x56ea06(0x15f)]['_id']+'\x20não\x20encontrado\x20para\x20atualização.');return;}if(_0x4e6a4b['blocks'][_0x4b3aa2]['type']===_0x56ea06(0x498)){let _0x241cc3=Object[_0x56ea06(0x53a)](_0x53583b[_0x56ea06(0x15f)]);if(_0x241cc3[_0x56ea06(0x438)]>0x2||_0x241cc3['length']===0x2&&!_0x241cc3['includes']('next_groupId')){this[_0x56ea06(0x43e)](_0x56ea06(0x54b));return;}}let _0x14b03f=_0x4e6a4b[_0x56ea06(0x61e)][_0x4b3aa2][_0x56ea06(0x13d)];for(let _0x33e435 in _0x53583b[_0x56ea06(0x15f)])_0x53583b['block'][_0x56ea06(0x357)](_0x33e435)&&(_0x4e6a4b[_0x56ea06(0x61e)][_0x4b3aa2][_0x33e435]=_0x53583b[_0x56ea06(0x15f)][_0x33e435]);if(this[_0x56ea06(0x27e)][_0x56ea06(0x5b0)](this['instanceName']+'\x20('+this['instance'][_0x56ea06(0xed)]+_0x56ea06(0x19f)+JSON[_0x56ea06(0x34c)](_0x4e6a4b[_0x56ea06(0x61e)][_0x4b3aa2])),_0x4e6a4b['blocks'][_0x4b3aa2][_0x56ea06(0x20b)]&&_0x56ea06(0x564)in _0x4e6a4b[_0x56ea06(0x61e)][_0x4b3aa2][_0x56ea06(0x20b)]){this[_0x56ea06(0x27e)][_0x56ea06(0x5b0)](this[_0x56ea06(0x145)]+'\x20('+this['instance'][_0x56ea06(0xed)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x2fe601=JSON[_0x56ea06(0x34c)](_0x4e6a4b[_0x56ea06(0x61e)][_0x4b3aa2]['apirequest']['header'],null,0x1);_0x2fe601[_0x56ea06(0x438)]>0x2&&(_0x2fe601=_0x2fe601[_0x56ea06(0x37a)](0x1,_0x2fe601['length']-0x1)[_0x56ea06(0x345)]()),_0x4e6a4b['blocks'][_0x4b3aa2][_0x56ea06(0x20b)][_0x56ea06(0x1de)]=_0x2fe601;}if(_0x4e6a4b['blocks'][_0x4b3aa2][_0x56ea06(0x20b)]&&_0x56ea06(0x5f2)in _0x4e6a4b[_0x56ea06(0x61e)][_0x4b3aa2][_0x56ea06(0x20b)]){this[_0x56ea06(0x27e)][_0x56ea06(0x5b0)](this[_0x56ea06(0x145)]+'\x20('+this[_0x56ea06(0x1f8)][_0x56ea06(0xed)]+_0x56ea06(0x590));let _0x11ad34=JSON[_0x56ea06(0x34c)](_0x4e6a4b[_0x56ea06(0x61e)][_0x4b3aa2][_0x56ea06(0x20b)][_0x56ea06(0x5f2)],null,0x1);_0x11ad34['length']>0x2&&(_0x11ad34=_0x11ad34[_0x56ea06(0x37a)](0x1,_0x11ad34[_0x56ea06(0x438)]-0x1)[_0x56ea06(0x345)]()),_0x4e6a4b['blocks'][_0x4b3aa2]['apirequest'][_0x56ea06(0x630)]=_0x11ad34;}let _0x38bb10=_0x4e6a4b[_0x56ea06(0x61e)][_0x4b3aa2]['groupId'];_0x14b03f!==_0x38bb10?(this[_0x56ea06(0x5c7)](_0x4e6a4b[_0x56ea06(0x61e)],_0x14b03f),this[_0x56ea06(0x5c7)](_0x4e6a4b[_0x56ea06(0x61e)],_0x38bb10)):this[_0x56ea06(0x5c7)](_0x4e6a4b[_0x56ea06(0x61e)],_0x14b03f);}['addBlock'](_0xf12830,_0x5d5c01){const _0x5267cc=a0_0x57c7f3;if(_0x5d5c01[_0x5267cc(0x15f)]['type']===_0x5267cc(0x498)){this[_0x5267cc(0x43e)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x5d5c01[_0x5267cc(0x15f)][_0x5267cc(0x20b)]&&'header'in _0x5d5c01[_0x5267cc(0x15f)][_0x5267cc(0x20b)]){this[_0x5267cc(0x27e)][_0x5267cc(0x5b0)](this[_0x5267cc(0x145)]+'\x20('+this[_0x5267cc(0x1f8)][_0x5267cc(0xed)]+_0x5267cc(0x1c9));let _0x4475d9=JSON[_0x5267cc(0x34c)](_0x5d5c01[_0x5267cc(0x15f)]['apirequest'][_0x5267cc(0x564)],null,0x1);_0x4475d9[_0x5267cc(0x438)]>0x2&&(_0x4475d9=_0x4475d9['substring'](0x1,_0x4475d9[_0x5267cc(0x438)]-0x1)['trim']()),_0x5d5c01[_0x5267cc(0x15f)][_0x5267cc(0x20b)]['headerString']=_0x4475d9;}_0x5d5c01[_0x5267cc(0x15f)][_0x5267cc(0x20b)]&&_0x5267cc(0x5f2)in _0x5d5c01[_0x5267cc(0x15f)][_0x5267cc(0x20b)]&&(this[_0x5267cc(0x27e)][_0x5267cc(0x5b0)](this[_0x5267cc(0x145)]+'\x20('+this[_0x5267cc(0x1f8)][_0x5267cc(0xed)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x5d5c01[_0x5267cc(0x15f)][_0x5267cc(0x20b)][_0x5267cc(0x630)]=JSON['stringify'](_0x5d5c01['block']['apirequest'][_0x5267cc(0x5f2)],null,0x1)[_0x5267cc(0x345)]()),_0xf12830[_0x5267cc(0x61e)][_0x5267cc(0x524)](_0x5d5c01[_0x5267cc(0x15f)]),this[_0x5267cc(0x5c7)](_0xf12830[_0x5267cc(0x61e)],_0x5d5c01[_0x5267cc(0x15f)][_0x5267cc(0x13d)]);}[a0_0x57c7f3(0x5c7)](_0x1e3bb0,_0x1b5c8c){const _0x3f0aa3=a0_0x57c7f3;let _0x4fc906=_0x1e3bb0['filter'](_0x1c58e4=>_0x1c58e4[_0x3f0aa3(0x13d)]===_0x1b5c8c);_0x4fc906['sort']((_0x40e71e,_0x31f820)=>_0x40e71e[_0x3f0aa3(0x54a)]-_0x31f820[_0x3f0aa3(0x54a)]),_0x4fc906[_0x3f0aa3(0x2cb)]((_0x56b47b,_0x4bbbb6)=>_0x56b47b[_0x3f0aa3(0x54a)]=_0x4bbbb6+0x1);}async[a0_0x57c7f3(0x65c)](_0x316f4d){const _0x2fcb21=a0_0x57c7f3;try{if(this[_0x2fcb21(0x27e)][_0x2fcb21(0x5b0)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x2fcb21(0x314)),!_0x316f4d||!_0x316f4d['replyOption']){this[_0x2fcb21(0x43e)](_0x2fcb21(0x4a4));return;}let _0x57c084={'owner':this[_0x2fcb21(0x1f8)][_0x2fcb21(0xed)],'name':_0x316f4d['name']},_0x221ce2=await D['findOne'](_0x57c084);_0x221ce2||this[_0x2fcb21(0x43e)](_0x2fcb21(0x33c));let {replyOption:_0x227a8a}=_0x316f4d;return _0x227a8a?.[_0x2fcb21(0x497)]?this['deleteReplyOption'](_0x221ce2,_0x316f4d):_0x227a8a['_id']?await this[_0x2fcb21(0x351)](_0x221ce2,_0x316f4d):this['addReplyOption'](_0x221ce2,_0x316f4d),await _0x221ce2[_0x2fcb21(0x319)](),_0x221ce2;}catch(_0x4deec7){this[_0x2fcb21(0x43e)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x4deec7);}}['deleteReplyOption'](_0x49d7c4,_0x3086f4){const _0x868c17=a0_0x57c7f3;let {replyOption:_0x352d03}=_0x3086f4;if(!_0x352d03[_0x868c17(0x42b)]){this[_0x868c17(0x43e)](_0x868c17(0x58c));return;}if(!_0x49d7c4[_0x868c17(0x2fe)][_0x868c17(0x354)](_0x7f903d=>_0x7f903d[_0x868c17(0x42b)][_0x868c17(0x5d3)]()===_0x3086f4[_0x868c17(0x673)][_0x868c17(0x42b)][_0x868c17(0x5d3)]())){this[_0x868c17(0x43e)]('ReplyOption\x20com\x20ID\x20'+_0x352d03['_id']+_0x868c17(0x22f));return;}_0x49d7c4['replyOptions']=_0x49d7c4[_0x868c17(0x2fe)][_0x868c17(0x591)](_0x4c4721=>_0x4c4721[_0x868c17(0x42b)][_0x868c17(0x5d3)]()!==_0x3086f4[_0x868c17(0x673)][_0x868c17(0x42b)][_0x868c17(0x5d3)]());}async[a0_0x57c7f3(0x351)](_0x422846,_0x5de82a){const _0x2df953=a0_0x57c7f3;let _0xbaf724=_0x422846['replyOptions'][_0x2df953(0x212)](_0xe8d8b=>_0xe8d8b[_0x2df953(0x42b)][_0x2df953(0x5d3)]()===_0x5de82a['replyOption']['_id'][_0x2df953(0x5d3)]());if(_0xbaf724===-0x1){this[_0x2df953(0x43e)](_0x2df953(0x545)+_0x5de82a[_0x2df953(0x673)]['_id']+_0x2df953(0x35b));return;}for(let _0x90967d in _0x5de82a['replyOption'])_0x5de82a[_0x2df953(0x673)]['hasOwnProperty'](_0x90967d)&&(_0x422846[_0x2df953(0x2fe)][_0xbaf724][_0x90967d]=_0x5de82a[_0x2df953(0x673)][_0x90967d]);}['addReplyOption'](_0x3c6993,_0x182814){const _0x1d2c08=a0_0x57c7f3;_0x3c6993[_0x1d2c08(0x2fe)]['push'](_0x182814[_0x1d2c08(0x673)]);}async[a0_0x57c7f3(0x52a)](_0x261a61){const _0x23dfbf=a0_0x57c7f3;this[_0x23dfbf(0x27e)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x23dfbf(0xed)]+_0x23dfbf(0x393)+_0x261a61);try{this[_0x23dfbf(0x27e)][_0x23dfbf(0x5b0)](this[_0x23dfbf(0x145)]+'\x20('+this[_0x23dfbf(0x1f8)][_0x23dfbf(0xed)]+_0x23dfbf(0x4ec));let _0x41dd66={'owner':this[_0x23dfbf(0x1f8)][_0x23dfbf(0xed)],'name':_0x261a61['name']},_0x3abea4=await D['findOne'](_0x41dd66);if(!_0x3abea4)throw new Error(_0x23dfbf(0x33c));if(_0x261a61[_0x23dfbf(0x234)]&&_0x261a61['group']?.[_0x23dfbf(0x497)]===!0x0){if(this[_0x23dfbf(0x27e)]['verbose'](this[_0x23dfbf(0x145)]+'\x20('+this[_0x23dfbf(0x1f8)]['wuid']+_0x23dfbf(0x17a)),_0x261a61[_0x23dfbf(0x234)]['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x3abea4['blocks'][_0x23dfbf(0x4c3)](_0x34e8e6=>_0x34e8e6[_0x23dfbf(0x13d)][_0x23dfbf(0x5d3)]()===_0x261a61[_0x23dfbf(0x234)][_0x23dfbf(0x42b)]))return this[_0x23dfbf(0x27e)]['verbose'](this[_0x23dfbf(0x145)]+'\x20('+this['instance'][_0x23dfbf(0xed)]+_0x23dfbf(0x542)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x3abea4[_0x23dfbf(0x63f)]=_0x3abea4[_0x23dfbf(0x63f)][_0x23dfbf(0x591)](_0x400b5d=>_0x400b5d[_0x23dfbf(0x42b)][_0x23dfbf(0x5d3)]()!==_0x261a61['group'][_0x23dfbf(0x42b)]);}else{if(_0x261a61[_0x23dfbf(0x234)]){if(_0x261a61[_0x23dfbf(0x234)][_0x23dfbf(0x19b)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x261a61[_0x23dfbf(0x234)][_0x23dfbf(0x42b)]){let _0x2ffccc=_0x3abea4[_0x23dfbf(0x63f)][_0x23dfbf(0x354)](_0x4a2bd2=>_0x4a2bd2[_0x23dfbf(0x42b)][_0x23dfbf(0x5d3)]()===_0x261a61[_0x23dfbf(0x234)][_0x23dfbf(0x42b)]);_0x2ffccc&&(_0x261a61[_0x23dfbf(0x234)]['x']<0x0&&(_0x261a61[_0x23dfbf(0x234)]['x']=0x0),_0x261a61['group']['y']<0x0&&(_0x261a61[_0x23dfbf(0x234)]['y']=0x0),Object[_0x23dfbf(0x33e)](_0x2ffccc,_0x261a61[_0x23dfbf(0x234)]));}else _0x3abea4[_0x23dfbf(0x63f)][_0x23dfbf(0x524)](_0x261a61[_0x23dfbf(0x234)]);}}return await _0x3abea4[_0x23dfbf(0x319)](),_0x3abea4;}catch(_0x1b829f){throw this['logger'][_0x23dfbf(0x5e3)](this['instanceName']+'\x20('+this[_0x23dfbf(0x1f8)][_0x23dfbf(0xed)]+_0x23dfbf(0x5e8)+_0x1b829f),new m(_0x23dfbf(0x168)+_0x1b829f);}}async['editFlowCondition'](_0x455636){const _0x3ca0ff=a0_0x57c7f3;try{this[_0x3ca0ff(0x27e)][_0x3ca0ff(0x5b0)](this[_0x3ca0ff(0x145)]+'\x20('+this[_0x3ca0ff(0x1f8)][_0x3ca0ff(0xed)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x5a47e2={'owner':this['instance'][_0x3ca0ff(0xed)],'name':_0x455636[_0x3ca0ff(0x17c)]},_0x552b3d=await D[_0x3ca0ff(0xd7)](_0x5a47e2);if(!_0x552b3d)throw new Error(_0x3ca0ff(0x33c));let _0x23eaf4=!0x1;if(_0x455636[_0x3ca0ff(0x675)]?.['delete']===!0x0)_0x552b3d[_0x3ca0ff(0x470)]=_0x552b3d[_0x3ca0ff(0x470)][_0x3ca0ff(0x591)](_0x4935d8=>_0x4935d8&&_0x455636[_0x3ca0ff(0x675)]&&_0x4935d8['_id']&&_0x455636[_0x3ca0ff(0x675)][_0x3ca0ff(0x42b)]&&_0x4935d8['_id'][_0x3ca0ff(0x5d3)]()!==_0x455636[_0x3ca0ff(0x675)]['_id']['toString']()),_0x23eaf4=!0x0;else{let _0x1bc20a=_0x552b3d[_0x3ca0ff(0x470)][_0x3ca0ff(0x354)](_0xc2aa5a=>_0xc2aa5a&&_0x455636['condition']&&_0xc2aa5a['_id']&&_0x455636[_0x3ca0ff(0x675)][_0x3ca0ff(0x42b)]&&_0xc2aa5a[_0x3ca0ff(0x42b)][_0x3ca0ff(0x5d3)]()===_0x455636['condition'][_0x3ca0ff(0x42b)][_0x3ca0ff(0x5d3)]());_0x1bc20a?(_0x23eaf4=_0x1bc20a[_0x3ca0ff(0x54a)]!==_0x455636[_0x3ca0ff(0x675)][_0x3ca0ff(0x54a)],Object['assign'](_0x1bc20a,_0x455636[_0x3ca0ff(0x675)])):(_0x552b3d[_0x3ca0ff(0x470)][_0x3ca0ff(0x524)](_0x455636[_0x3ca0ff(0x675)]),_0x23eaf4=!0x0);}if(_0x23eaf4){_0x552b3d['conditions'][_0x3ca0ff(0x65e)]((_0x2b23c7,_0x4fe024)=>_0x2b23c7['order']>_0x4fe024['order']?0x1:_0x4fe024[_0x3ca0ff(0x54a)]>_0x2b23c7[_0x3ca0ff(0x54a)]?-0x1:0x0);for(let _0x487053=0x0;_0x487053<_0x552b3d[_0x3ca0ff(0x470)][_0x3ca0ff(0x438)];_0x487053++)_0x552b3d[_0x3ca0ff(0x470)][_0x487053][_0x3ca0ff(0x54a)]=_0x487053+0x1;_0x552b3d[_0x3ca0ff(0x470)]['length']>0x0&&(_0x552b3d[_0x3ca0ff(0x470)][0x0][_0x3ca0ff(0x361)]=_0x3ca0ff(0x638));}return await _0x552b3d[_0x3ca0ff(0x319)](),_0x552b3d;}catch(_0x8eb852){throw this['logger'][_0x3ca0ff(0x5e3)](this[_0x3ca0ff(0x145)]+'\x20('+this['instance'][_0x3ca0ff(0xed)]+_0x3ca0ff(0x222)+_0x8eb852),new Error(_0x3ca0ff(0x2d5)+_0x8eb852);}}async[a0_0x57c7f3(0x23c)](_0x30d579){const _0x9df9f3=a0_0x57c7f3;try{this[_0x9df9f3(0x27e)][_0x9df9f3(0x5b0)](this['instanceName']+'\x20('+this[_0x9df9f3(0x1f8)]['wuid']+_0x9df9f3(0x4fa));let _0x2a209b={'owner':this[_0x9df9f3(0x1f8)][_0x9df9f3(0xed)],'name':_0x30d579[_0x9df9f3(0x17c)]},_0x5c40cb=await D['findOne'](_0x2a209b);if(!_0x5c40cb)throw new Error('Flow\x20não\x20encontrado');let _0x508ffb=!0x1;if(_0x30d579[_0x9df9f3(0x34e)]?.[_0x9df9f3(0x497)]===!0x0)_0x5c40cb[_0x9df9f3(0x28f)]=_0x5c40cb[_0x9df9f3(0x28f)][_0x9df9f3(0x591)](_0x2e77fd=>_0x2e77fd&&_0x30d579[_0x9df9f3(0x34e)]&&_0x2e77fd[_0x9df9f3(0x42b)]&&_0x30d579[_0x9df9f3(0x34e)][_0x9df9f3(0x42b)]&&_0x2e77fd[_0x9df9f3(0x42b)][_0x9df9f3(0x5d3)]()!==_0x30d579[_0x9df9f3(0x34e)][_0x9df9f3(0x42b)][_0x9df9f3(0x5d3)]()),_0x508ffb=!0x0;else{let _0x1def64=_0x5c40cb[_0x9df9f3(0x28f)]['find'](_0x2b0dc4=>_0x2b0dc4&&_0x30d579['varedit']&&_0x2b0dc4[_0x9df9f3(0x42b)]&&_0x30d579['varedit'][_0x9df9f3(0x42b)]&&_0x2b0dc4['_id'][_0x9df9f3(0x5d3)]()===_0x30d579[_0x9df9f3(0x34e)][_0x9df9f3(0x42b)][_0x9df9f3(0x5d3)]());_0x1def64?(_0x508ffb=_0x1def64['order']!==_0x30d579[_0x9df9f3(0x34e)][_0x9df9f3(0x54a)],Object[_0x9df9f3(0x33e)](_0x1def64,_0x30d579[_0x9df9f3(0x34e)])):(_0x5c40cb['varedits'][_0x9df9f3(0x524)](_0x30d579[_0x9df9f3(0x34e)]),_0x508ffb=!0x0);}if(_0x508ffb){_0x5c40cb['varedits'][_0x9df9f3(0x65e)]((_0x21e18a,_0x4a4637)=>_0x21e18a[_0x9df9f3(0x54a)]>_0x4a4637[_0x9df9f3(0x54a)]?0x1:_0x4a4637[_0x9df9f3(0x54a)]>_0x21e18a[_0x9df9f3(0x54a)]?-0x1:0x0);for(let _0x328cb9=0x0;_0x328cb9<_0x5c40cb[_0x9df9f3(0x28f)][_0x9df9f3(0x438)];_0x328cb9++)_0x5c40cb[_0x9df9f3(0x28f)][_0x328cb9][_0x9df9f3(0x54a)]=_0x328cb9+0x1;}return await _0x5c40cb[_0x9df9f3(0x319)](),_0x5c40cb;}catch(_0x442b8c){throw this[_0x9df9f3(0x27e)][_0x9df9f3(0x5e3)](this[_0x9df9f3(0x145)]+'\x20('+this[_0x9df9f3(0x1f8)][_0x9df9f3(0xed)]+_0x9df9f3(0x222)+_0x442b8c),new m(_0x9df9f3(0x2d5)+_0x442b8c);}}async[a0_0x57c7f3(0x3d9)](_0x72636a){const _0x3ea9f9=a0_0x57c7f3;try{this[_0x3ea9f9(0x27e)][_0x3ea9f9(0x5b0)](this['instanceName']+'\x20('+this['instance'][_0x3ea9f9(0xed)]+_0x3ea9f9(0x2a1));let _0x37bcee={'owner':this[_0x3ea9f9(0x1f8)][_0x3ea9f9(0xed)],'name':_0x72636a[_0x3ea9f9(0x17c)]},_0x583133=await D[_0x3ea9f9(0xd7)](_0x37bcee);if(!_0x583133)throw new Error(_0x3ea9f9(0x33c));_0x72636a[_0x3ea9f9(0x505)][_0x3ea9f9(0x17c)]=_0x72636a[_0x3ea9f9(0x505)]['name'][_0x3ea9f9(0x345)](),_0x72636a[_0x3ea9f9(0x505)][_0x3ea9f9(0x17c)][_0x3ea9f9(0x3c5)]('_')&&(_0x72636a[_0x3ea9f9(0x505)][_0x3ea9f9(0x17c)]=_0x72636a[_0x3ea9f9(0x505)][_0x3ea9f9(0x17c)]['substring'](0x1)),_0x72636a[_0x3ea9f9(0x505)][_0x3ea9f9(0x17c)]=_0x72636a[_0x3ea9f9(0x505)][_0x3ea9f9(0x17c)]['trim']();let _0x262b71=_0x583133[_0x3ea9f9(0x1ed)]['find'](_0x404e6c=>_0x404e6c[_0x3ea9f9(0x17c)]===_0x72636a[_0x3ea9f9(0x505)][_0x3ea9f9(0x17c)]);if(_0x262b71?.[_0x3ea9f9(0x501)]===!0x0)throw new Error(_0x3ea9f9(0x14a));if(_0x72636a[_0x3ea9f9(0x505)]?.[_0x3ea9f9(0x497)]===!0x0){if(!_0x262b71)return{'message':_0x3ea9f9(0x1d8)};_0x583133[_0x3ea9f9(0x1ed)]=_0x583133[_0x3ea9f9(0x1ed)][_0x3ea9f9(0x591)](_0x141a01=>_0x141a01[_0x3ea9f9(0x17c)]!==_0x72636a['variable'][_0x3ea9f9(0x17c)]);}else _0x262b71?Object['assign'](_0x262b71,_0x72636a[_0x3ea9f9(0x505)]):_0x583133['variables']['push'](_0x72636a[_0x3ea9f9(0x505)]);return await _0x583133[_0x3ea9f9(0x319)](),_0x583133;}catch(_0x1f503a){throw this[_0x3ea9f9(0x27e)][_0x3ea9f9(0x5e3)](this['instanceName']+'\x20('+this[_0x3ea9f9(0x1f8)][_0x3ea9f9(0xed)]+_0x3ea9f9(0x1cd)+_0x1f503a),new m('Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20'+_0x1f503a);}}async['startFlow'](_0x307ebd){const _0x2d4912=a0_0x57c7f3;try{if(!this['AutomateSystem'][_0x2d4912(0x48b)][_0x2d4912(0x11e)])throw new m('Fluxos\x20não\x20estão\x20ativados');this['logger'][_0x2d4912(0x5b0)](this['instanceName']+'\x20('+this['instance'][_0x2d4912(0xed)]+_0x2d4912(0x1d2));let _0x4f5b60=(await this[_0x2d4912(0x4d5)]({'numbers':[_0x307ebd[_0x2d4912(0x11f)]]}))[0x0];if(!_0x4f5b60[_0x2d4912(0x413)]&&!(0x0,w['isJidGroup'])(_0x4f5b60['jid'])&&!_0x4f5b60['jid'][_0x2d4912(0x3b6)](_0x2d4912(0x32e)))throw new m(_0x4f5b60);let _0x3e06eb=await D[_0x2d4912(0xd7)]({'owner':this[_0x2d4912(0x1f8)]['wuid'],'name':_0x307ebd['name']});if(!_0x3e06eb)return this[_0x2d4912(0x27e)][_0x2d4912(0x5e3)](this[_0x2d4912(0x145)]+'\x20('+this[_0x2d4912(0x1f8)][_0x2d4912(0xed)]+_0x2d4912(0x375)),{'message':'Flow\x20não\x20encontrado'};let _0x3ab49a=await this[_0x2d4912(0x391)](_0x3e06eb,_0x4f5b60[_0x2d4912(0x362)],_0x307ebd[_0x2d4912(0x25f)]);if(_0x3ab49a){this['logger']['verbose'](this[_0x2d4912(0x145)]+'\x20('+this[_0x2d4912(0x1f8)][_0x2d4912(0xed)]+_0x2d4912(0x65f));let _0xfd0d07=await this[_0x2d4912(0x3bb)](_0x3ab49a);return _0xfd0d07&&await this[_0x2d4912(0x518)](_0x3ab49a,_0xfd0d07,_0x3ab49a[_0x2d4912(0x11f)]),{'message':_0x2d4912(0x4c4)+_0x307ebd['remoteJid']};}}catch(_0xe2724e){if(this[_0x2d4912(0x27e)][_0x2d4912(0x5e3)](this[_0x2d4912(0x145)]+'\x20('+this[_0x2d4912(0x1f8)][_0x2d4912(0xed)]+_0x2d4912(0xd6)+_0xe2724e),_0xe2724e&&_0xe2724e[_0x2d4912(0x420)]&&Array[_0x2d4912(0x3d7)](_0xe2724e[_0x2d4912(0x420)])&&_0xe2724e[_0x2d4912(0x420)][0x0]){let {jid:_0x49be39,exists:_0x532baf}=_0xe2724e[_0x2d4912(0x420)][0x0];}throw new m(_0x2d4912(0x58b)+_0xe2724e['message']);}}async[a0_0x57c7f3(0x391)](_0x336a5a,_0x57148f,_0x15b569){const _0x525b4d=a0_0x57c7f3;this[_0x525b4d(0x27e)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x525b4d(0xed)]+_0x525b4d(0x256));try{let _0x4e2b3b=require(_0x525b4d(0x52c))[_0x525b4d(0x45d)],_0x10ea78=Date[_0x525b4d(0xe3)](),_0x159422=_0x525b4d(0x498),_0x1d1ef9={},_0x2744a0={},_0x3f9b1b={..._0x336a5a[_0x525b4d(0x4d3)],'chatLog':null},_0x520537=await this[_0x525b4d(0x22a)](_0x3f9b1b[_0x525b4d(0x1ed)]),_0x337eb8=await this[_0x525b4d(0x10e)](_0x57148f),_0x54b896={..._0x520537,..._0x337eb8},_0x4408b0={'lastReceivedMessage':_0x1d1ef9,'lastSendMessage':_0x2744a0,'lastBlockId':_0x159422,'lastCondition':!0x0,'realVariables':_0x54b896};_0x3f9b1b['chatLog']=_0x4408b0,_0x3f9b1b[_0x525b4d(0x428)][_0x525b4d(0x44a)]={..._0x54b896,..._0x15b569},delete _0x3f9b1b['_id'],_0x3f9b1b['_id']=new _0x4e2b3b(),_0x3f9b1b['lastInteraction']=_0x10ea78,_0x3f9b1b['status']=_0x525b4d(0x4c5),_0x3f9b1b['remoteJid']=_0x57148f;let _0xec7cf=await G[_0x525b4d(0x411)](_0x3f9b1b);return this[_0x525b4d(0x27e)]['verbose'](this['instanceName']+'\x20('+this[_0x525b4d(0x1f8)][_0x525b4d(0xed)]+_0x525b4d(0x29b)),_0xec7cf?_0x3f9b1b:null;}catch(_0x227e2d){throw this[_0x525b4d(0x27e)][_0x525b4d(0x5e3)](this[_0x525b4d(0x145)]+'\x20('+this[_0x525b4d(0x1f8)][_0x525b4d(0xed)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+_0x227e2d),new m(_0x227e2d['message']);}}async[a0_0x57c7f3(0x229)](_0x5978ef){const _0x1e7630=a0_0x57c7f3;try{return this[_0x1e7630(0x27e)][_0x1e7630(0x5b0)](this[_0x1e7630(0x145)]+'\x20('+this[_0x1e7630(0x1f8)]['wuid']+_0x1e7630(0x5a1)),this[_0x1e7630(0x27e)][_0x1e7630(0x5b0)](this[_0x1e7630(0x145)]+'\x20('+this[_0x1e7630(0x1f8)][_0x1e7630(0xed)]+_0x1e7630(0x584)+{'owner':this[_0x1e7630(0x1f8)][_0x1e7630(0xed)],'_id':_0x5978ef}),await G[_0x1e7630(0xd7)]({'owner':this['instance']['wuid'],'_id':_0x5978ef});}catch(_0x3a99f4){throw this[_0x1e7630(0x27e)][_0x1e7630(0x5e3)](this[_0x1e7630(0x145)]+'\x20('+this['instance'][_0x1e7630(0xed)]+_0x1e7630(0x395)+_0x3a99f4),new m('Erro\x20ao\x20buscar\x20conversa:\x20'+_0x3a99f4[_0x1e7630(0x420)]);}}async[a0_0x57c7f3(0x219)](_0x3d5813,_0x2e04ec=0x64){const _0x3631fb=a0_0x57c7f3;try{this['logger'][_0x3631fb(0x5b0)](this[_0x3631fb(0x145)]+'\x20('+this['instance'][_0x3631fb(0xed)]+'):\x20Buscando\x20conversas...');let _0x5cad8b={..._0x3d5813,'owner':this[_0x3631fb(0x1f8)][_0x3631fb(0xed)]};return this[_0x3631fb(0x27e)][_0x3631fb(0x5b0)](this[_0x3631fb(0x145)]+'\x20('+this['instance'][_0x3631fb(0xed)]+'):\x20Modified\x20Query:'+_0x5cad8b),await G[_0x3631fb(0x354)](_0x5cad8b)[_0x3631fb(0x609)](_0x2e04ec)[_0x3631fb(0x65e)]({'lastInteraction':-0x1});}catch(_0x353eb){throw this[_0x3631fb(0x27e)][_0x3631fb(0x5e3)](this[_0x3631fb(0x145)]+'\x20('+this['instance'][_0x3631fb(0xed)]+_0x3631fb(0x629)+_0x353eb),new m(_0x3631fb(0x117)+_0x353eb[_0x3631fb(0x420)]);}}async[a0_0x57c7f3(0x593)](_0x41b3e1){const _0x1d4416=a0_0x57c7f3;try{return this['logger'][_0x1d4416(0x5b0)](this[_0x1d4416(0x145)]+'\x20('+this['instance'][_0x1d4416(0xed)]+_0x1d4416(0x504)),this[_0x1d4416(0x27e)]['verbose'](this[_0x1d4416(0x145)]+'\x20('+this['instance'][_0x1d4416(0xed)]+_0x1d4416(0x584)+{'owner':this[_0x1d4416(0x1f8)][_0x1d4416(0xed)],'_id':_0x41b3e1}),(await G[_0x1d4416(0x67a)]({'owner':this[_0x1d4416(0x1f8)][_0x1d4416(0xed)],'_id':_0x41b3e1}))[_0x1d4416(0x1e4)]===0x0?{'message':_0x1d4416(0x585)}:{'message':_0x1d4416(0x3b2)};}catch(_0x189050){throw this[_0x1d4416(0x27e)][_0x1d4416(0x5e3)](this['instanceName']+'\x20('+this['instance'][_0x1d4416(0xed)]+_0x1d4416(0x1d9)+_0x189050),new m(_0x1d4416(0x5f8)+_0x189050[_0x1d4416(0x420)]);}}async[a0_0x57c7f3(0x40f)](_0x14a09a){const _0x4cc3cb=a0_0x57c7f3;try{let {_id:_0x2d1849,chatLog:_0x3a3c75,status:_0x4cf354}=_0x14a09a;if(!_0x2d1849)return{'message':'O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.'};let _0x54d5fd={};if(_0x4cf354!==void 0x0&&(_0x54d5fd[_0x4cc3cb(0x255)]=_0x4cf354),Object[_0x4cc3cb(0x53a)](_0x54d5fd)[_0x4cc3cb(0x438)]===0x0)return{'message':_0x4cc3cb(0x558)};let _0x194d88=this[_0x4cc3cb(0x1f8)][_0x4cc3cb(0xed)],_0x2615ac=await G[_0x4cc3cb(0x4af)]({'_id':_0x2d1849,'owner':_0x194d88},{'$set':_0x54d5fd},{'new':!0x0});return _0x2615ac||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x405434){throw this[_0x4cc3cb(0x27e)]['error'](this['instanceName']+'\x20('+this[_0x4cc3cb(0x1f8)][_0x4cc3cb(0xed)]+_0x4cc3cb(0x67b)+_0x405434),new m(_0x4cc3cb(0xdc)+_0x405434[_0x4cc3cb(0x420)]);}}async[a0_0x57c7f3(0x539)](_0x2934e4){const _0x2c32f7=a0_0x57c7f3;try{_0x2934e4['id']=this[_0x2c32f7(0x3e1)](_0x2934e4['id']);let {id:_0x26ab0b,leadInfo:_0x5c6031}=_0x2934e4;if(!_0x26ab0b)throw new Error(_0x2c32f7(0x61b));let _0x33af31=(_0x2cd404,_0x49ad40,_0x46ffd9)=>{const _0x3b6e4a=_0x2c32f7;_0x46ffd9[_0x3b6e4a(0x2cb)](_0x356b19=>{const _0x5a7f38=_0x3b6e4a;_0x2cd404[_0x356b19]!==void 0x0&&(_0x49ad40[_0x5a7f38(0x1d1)+_0x356b19]=_0x2cd404[_0x356b19]);});},_0x40ea57={};if(_0x33af31(_0x5c6031,_0x40ea57,['nome',_0x2c32f7(0x115),_0x2c32f7(0x320),'cpf','status',_0x2c32f7(0x2c6),_0x2c32f7(0x661),'atendimentoAberto',_0x2c32f7(0x3cb)]),Array['isArray'](_0x5c6031[_0x2c32f7(0x123)])&&(_0x40ea57[_0x2c32f7(0x4cc)]=_0x5c6031[_0x2c32f7(0x123)][_0x2c32f7(0x1bd)](_0x3a9091=>({'_id':_0x3a9091[_0x2c32f7(0x42b)],'value':_0x3a9091[_0x2c32f7(0x60d)]}))),_0x2934e4[_0x2c32f7(0x501)]['desativadoFluxoAte']!==void 0x0&&(_0x40ea57[_0x2c32f7(0x2d2)]=Number(_0x2934e4[_0x2c32f7(0x501)][_0x2c32f7(0x3d4)])),_0x2934e4[_0x2c32f7(0x59e)]!==void 0x0&&(_0x40ea57[_0x2c32f7(0x59e)]=Number(_0x2934e4[_0x2c32f7(0x59e)])),Object[_0x2c32f7(0x53a)](_0x40ea57)['length']===0x0)throw new Error(_0x2c32f7(0x558));let _0x47971b=this[_0x2c32f7(0x1f8)]['wuid'];if(!_0x47971b)throw new Error(_0x2c32f7(0x3a5));if(!await R[_0x2c32f7(0xd7)]({'id':_0x2934e4['id'],'owner':_0x47971b})){let _0xd6cc56=(await this[_0x2c32f7(0x4d5)]({'numbers':[_0x2934e4['id']]}))[0x0];if(!_0xd6cc56[_0x2c32f7(0x413)]&&!(0x0,w['isJidGroup'])(_0xd6cc56[_0x2c32f7(0x362)])&&!_0xd6cc56['jid'][_0x2c32f7(0x3b6)](_0x2c32f7(0x32e)))throw new m(_0xd6cc56);_0x2934e4['id']=_0xd6cc56[_0x2c32f7(0x362)];}let _0x397ba9=await R[_0x2c32f7(0x4af)]({'id':_0x2934e4['id'],'owner':_0x47971b},{'$set':_0x40ea57},{'new':!0x0,'upsert':!0x0});return _0x397ba9&&H(this[_0x2c32f7(0x145)],_0x2c32f7(0x169),{'chat':_0x397ba9}),_0x397ba9?(this[_0x2c32f7(0x27e)][_0x2c32f7(0x5b0)](this[_0x2c32f7(0x145)]+'\x20('+this[_0x2c32f7(0x1f8)][_0x2c32f7(0xed)]+_0x2c32f7(0x2c1)+_0x397ba9),_0x397ba9):{'message':_0x2c32f7(0x4a1)};}catch(_0xe79e3c){throw this['logger'][_0x2c32f7(0x5e3)](this[_0x2c32f7(0x145)]+'\x20('+this[_0x2c32f7(0x1f8)]['wuid']+_0x2c32f7(0x2dc)+_0xe79e3c),new m(_0x2c32f7(0x2e2)+_0xe79e3c[_0x2c32f7(0x420)]);}}async['updateAgent'](_0x541d48){const _0x421c9c=a0_0x57c7f3;let _0x44e503=this[_0x421c9c(0x1f8)][_0x421c9c(0xed)];try{let _0x24a4e8=await ae[_0x421c9c(0x18f)](_0x44e503);_0x24a4e8||(_0x24a4e8=new ae({'_id':_0x44e503}),await _0x24a4e8[_0x421c9c(0x319)]());let _0x16f2de=_0x541d48[_0x421c9c(0x42b)]?_0x24a4e8[_0x421c9c(0x56e)][_0x421c9c(0x212)](_0x14934=>_0x14934[_0x421c9c(0x42b)]===_0x541d48[_0x421c9c(0x42b)]):-0x1;if(_0x541d48[_0x421c9c(0x497)]&&_0x16f2de>-0x1)_0x24a4e8[_0x421c9c(0x56e)][_0x421c9c(0x2d4)](_0x16f2de,0x1);else{if(_0x16f2de>-0x1){let _0x1132b5=_0x24a4e8['agents'][_0x16f2de];_0x541d48[_0x421c9c(0x359)]&&(_0x1132b5['fone']=_0x541d48[_0x421c9c(0x359)]),_0x541d48['name']&&(_0x1132b5[_0x421c9c(0x17c)]=_0x541d48[_0x421c9c(0x17c)]),_0x541d48[_0x421c9c(0x320)]&&(_0x1132b5['email']=_0x541d48['email']),_0x541d48['role']&&(_0x1132b5['role']=_0x541d48[_0x421c9c(0x5fd)]);}else _0x24a4e8['agents'][_0x421c9c(0x524)]({'_id':_0x541d48[_0x421c9c(0x42b)]||new ye[(_0x421c9c(0x19b))][(_0x421c9c(0x4f4))]['ObjectId']()[_0x421c9c(0x5d3)](),'fone':_0x541d48['fone'],'name':_0x541d48[_0x421c9c(0x17c)],'email':_0x541d48['email'],'role':_0x541d48['role']});}let _0x87dc44=await _0x24a4e8[_0x421c9c(0x319)]();return this['AutomateSystem']=_0x87dc44,this['logger'][_0x421c9c(0x5b0)](this[_0x421c9c(0x145)]+'\x20('+this['instance'][_0x421c9c(0xed)]+_0x421c9c(0x2c0)),this[_0x421c9c(0x27e)][_0x421c9c(0x5b0)](this[_0x421c9c(0x145)]+'\x20('+this[_0x421c9c(0x1f8)][_0x421c9c(0xed)]+_0x421c9c(0x2c1)+this['AutomateSystem']),_0x87dc44;}catch(_0x245ea0){throw this[_0x421c9c(0x27e)]['error'](this['instanceName']+'\x20('+this[_0x421c9c(0x1f8)][_0x421c9c(0xed)]+_0x421c9c(0x116)+_0x245ea0),new m('Erro\x20ao\x20editar\x20agentes:\x20'+_0x245ea0[_0x421c9c(0x420)]);}}async[a0_0x57c7f3(0x421)](_0x169fa6){const _0x7b83bf=a0_0x57c7f3;let _0x4fede2=this[_0x7b83bf(0x1f8)][_0x7b83bf(0xed)];try{let _0x5779e8=await ae[_0x7b83bf(0x18f)](_0x4fede2);_0x5779e8||(_0x5779e8=new ae({'_id':_0x4fede2}),await _0x5779e8[_0x7b83bf(0x319)]());let _0x3f26eb=_0x169fa6[_0x7b83bf(0x42b)]?_0x5779e8[_0x7b83bf(0x123)][_0x7b83bf(0x212)](_0x5ea11c=>_0x5ea11c['_id']===_0x169fa6[_0x7b83bf(0x42b)]):-0x1,_0x5d2fa5=!0x1,_0x2a9c7=_0x5779e8[_0x7b83bf(0x123)][_0x7b83bf(0x4c3)](_0x20c75b=>_0x20c75b[_0x7b83bf(0x54a)]===_0x169fa6[_0x7b83bf(0x54a)]);if(_0x169fa6[_0x7b83bf(0x497)]&&_0x3f26eb>-0x1)_0x5779e8[_0x7b83bf(0x123)]['splice'](_0x3f26eb,0x1),_0x5d2fa5=!0x0;else{if(_0x3f26eb>-0x1){if(_0x5779e8[_0x7b83bf(0x123)][_0x7b83bf(0x4c3)](_0xa07c4a=>_0xa07c4a[_0x7b83bf(0x17c)]===_0x169fa6[_0x7b83bf(0x17c)]&&_0xa07c4a[_0x7b83bf(0x42b)]!==_0x169fa6[_0x7b83bf(0x42b)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x803929=_0x5779e8['customFields'][_0x3f26eb];_0x169fa6[_0x7b83bf(0x54a)]&&(_0x2a9c7||!Number['isInteger'](_0x169fa6[_0x7b83bf(0x54a)]))&&(_0x803929[_0x7b83bf(0x54a)]=_0x169fa6[_0x7b83bf(0x54a)],_0x5d2fa5=!0x0),_0x169fa6[_0x7b83bf(0x17c)]&&(_0x803929[_0x7b83bf(0x17c)]=_0x169fa6['name']);}else{if(_0x5779e8[_0x7b83bf(0x123)]['some'](_0x3cb647=>_0x3cb647[_0x7b83bf(0x17c)]===_0x169fa6['name']&&_0x3cb647[_0x7b83bf(0x42b)]!==_0x169fa6['_id']))throw new Error(_0x7b83bf(0x336));_0x5779e8[_0x7b83bf(0x123)][_0x7b83bf(0x524)]({'_id':_0x169fa6[_0x7b83bf(0x42b)]||new ye['default'][(_0x7b83bf(0x4f4))]['ObjectId']()[_0x7b83bf(0x5d3)](),'order':_0x169fa6[_0x7b83bf(0x54a)],'name':_0x169fa6['name']}),_0x5d2fa5=!0x0;}}if(_0x5d2fa5){_0x5779e8[_0x7b83bf(0x123)][_0x7b83bf(0x65e)]((_0x286f85,_0x329966)=>_0x286f85[_0x7b83bf(0x54a)]>_0x329966['order']?0x1:_0x329966[_0x7b83bf(0x54a)]>_0x286f85[_0x7b83bf(0x54a)]?-0x1:0x0);for(let _0x24aad8=0x0;_0x24aad8<_0x5779e8[_0x7b83bf(0x123)][_0x7b83bf(0x438)];_0x24aad8++)_0x5779e8['customFields'][_0x24aad8][_0x7b83bf(0x54a)]=_0x24aad8+0x1;}let _0x1c8fbb=await _0x5779e8[_0x7b83bf(0x319)]();return this[_0x7b83bf(0x3d3)]=_0x1c8fbb,this['logger']['verbose'](this[_0x7b83bf(0x145)]+'\x20('+this['instance']['wuid']+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x7b83bf(0x27e)][_0x7b83bf(0x5b0)](this['instanceName']+'\x20('+this[_0x7b83bf(0x1f8)][_0x7b83bf(0xed)]+_0x7b83bf(0x2c1)+this['AutomateSystem']),_0x1c8fbb;}catch(_0x2413f2){throw this['logger'][_0x7b83bf(0x5e3)](this[_0x7b83bf(0x145)]+'\x20('+this['instance'][_0x7b83bf(0xed)]+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x2413f2),new m(_0x7b83bf(0x59d)+_0x2413f2[_0x7b83bf(0x420)]);}}async['updateFlowConfig'](_0x4ab86e){const _0x2d8965=a0_0x57c7f3;let _0x5b91ee=this[_0x2d8965(0x1f8)][_0x2d8965(0xed)];try{let _0x19d308=await ae['findById'](_0x5b91ee);_0x19d308||(_0x19d308=new ae({'_id':_0x5b91ee}),await _0x19d308[_0x2d8965(0x319)]()),_0x19d308['flowConfig'][_0x2d8965(0x11e)]=_0x4ab86e?.['enabled']!==void 0x0?_0x4ab86e?.[_0x2d8965(0x11e)]:_0x19d308[_0x2d8965(0x48b)][_0x2d8965(0x11e)],_0x19d308[_0x2d8965(0x48b)][_0x2d8965(0x5c1)]=_0x4ab86e?.[_0x2d8965(0x5c1)]!==void 0x0?_0x4ab86e?.['ignoreGroups']:_0x19d308[_0x2d8965(0x48b)][_0x2d8965(0x5c1)],_0x19d308[_0x2d8965(0x48b)][_0x2d8965(0x365)]=_0x4ab86e?.[_0x2d8965(0x365)]??_0x19d308[_0x2d8965(0x48b)][_0x2d8965(0x365)],_0x19d308[_0x2d8965(0x48b)][_0x2d8965(0x3b4)]=_0x4ab86e?.['stopConversation']??_0x19d308['flowConfig'][_0x2d8965(0x3b4)],_0x19d308['flowConfig'][_0x2d8965(0x25b)]=_0x4ab86e?.['stopMinutes']??_0x19d308[_0x2d8965(0x48b)][_0x2d8965(0x25b)];let _0x4eb1fb=await _0x19d308[_0x2d8965(0x319)]();return this[_0x2d8965(0x3d3)]=_0x4eb1fb,this[_0x2d8965(0x27e)][_0x2d8965(0x5b0)](this['instanceName']+'\x20('+this[_0x2d8965(0x1f8)][_0x2d8965(0xed)]+_0x2d8965(0x2c0)),this['logger'][_0x2d8965(0x5b0)](this[_0x2d8965(0x145)]+'\x20('+this[_0x2d8965(0x1f8)]['wuid']+_0x2d8965(0x2c1)+this[_0x2d8965(0x3d3)]),_0x4eb1fb;}catch(_0x407d62){throw this[_0x2d8965(0x27e)][_0x2d8965(0x5e3)](this[_0x2d8965(0x145)]+'\x20('+this['instance'][_0x2d8965(0xed)]+_0x2d8965(0x116)+_0x407d62),new m('Erro\x20ao\x20editar\x20agentes:\x20'+_0x407d62[_0x2d8965(0x420)]);}}async[a0_0x57c7f3(0x56a)](){const _0x1ec52f=a0_0x57c7f3;let _0x48df19=this[_0x1ec52f(0x1f8)][_0x1ec52f(0xed)];try{let _0x125c6c=await ae[_0x1ec52f(0x18f)](_0x48df19);return _0x125c6c||(_0x125c6c=new ae({'_id':_0x48df19})),_0x125c6c[_0x1ec52f(0x48b)]=_0x125c6c[_0x1ec52f(0x48b)]||{},_0x125c6c['flowConfig'][_0x1ec52f(0x11e)]===void 0x0&&(_0x125c6c[_0x1ec52f(0x48b)][_0x1ec52f(0x11e)]=!0x1),_0x125c6c['flowConfig'][_0x1ec52f(0x5c1)]===void 0x0&&(_0x125c6c['flowConfig'][_0x1ec52f(0x5c1)]=!0x0),_0x125c6c[_0x1ec52f(0x48b)][_0x1ec52f(0x365)]===void 0x0&&(_0x125c6c[_0x1ec52f(0x48b)][_0x1ec52f(0x365)]='!'),_0x125c6c[_0x1ec52f(0x48b)][_0x1ec52f(0x3b4)]===void 0x0&&(_0x125c6c[_0x1ec52f(0x48b)][_0x1ec52f(0x3b4)]=_0x1ec52f(0x662)),_0x125c6c[_0x1ec52f(0x48b)][_0x1ec52f(0x25b)]===void 0x0&&(_0x125c6c[_0x1ec52f(0x48b)][_0x1ec52f(0x25b)]=0x14),await _0x125c6c[_0x1ec52f(0x319)](),this[_0x1ec52f(0x3d3)]=_0x125c6c,this[_0x1ec52f(0x27e)][_0x1ec52f(0x5b0)](this[_0x1ec52f(0x145)]+'\x20('+this[_0x1ec52f(0x1f8)][_0x1ec52f(0xed)]+_0x1ec52f(0x27b)),this[_0x1ec52f(0x27e)]['verbose'](this[_0x1ec52f(0x3d3)]),_0x125c6c;}catch(_0x2f99d6){throw this['logger'][_0x1ec52f(0x5e3)](this[_0x1ec52f(0x145)]+'\x20('+this[_0x1ec52f(0x1f8)][_0x1ec52f(0xed)]+_0x1ec52f(0x599)+_0x2f99d6['message']),new m(_0x1ec52f(0x28a)+_0x2f99d6[_0x1ec52f(0x420)]);}}async['scheduleNextCheck'](){const _0x512226=a0_0x57c7f3;let _0x1c9ebe=()=>{const _0x19727d=a0_0x2228;this[_0x19727d(0x27e)][_0x19727d(0x5b0)](this[_0x19727d(0x145)]+'\x20('+this['instance']['wuid']+_0x19727d(0x434)+this[_0x19727d(0x147)]+_0x19727d(0x3b1));},_0x20e657=async()=>{const _0x2a7da5=a0_0x2228;this['logger'][_0x2a7da5(0x5b0)](this['instanceName']+'\x20('+this['instance'][_0x2a7da5(0xed)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x43e611=Date['now']()-0xc*0x3c*0x3c*0x3e8;return await k['find']({'owner':this[_0x2a7da5(0x1f8)][_0x2a7da5(0xed)],'status':{'$in':[_0x2a7da5(0x1c6),_0x2a7da5(0x42d)]},'$or':[{'when':{'$lte':Date[_0x2a7da5(0xe3)](),'$gte':_0x43e611}},{'when':0x0}]});},_0x5d3033=async _0x1d0702=>{const _0x403c22=a0_0x2228;for(let _0x48b46d of _0x1d0702){if(!await k[_0x403c22(0x4af)]({'_id':_0x48b46d[_0x403c22(0x42b)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x403c22(0xe3)]()-0x1770}}]},{'$set':{'startSend':Date[_0x403c22(0xe3)]()}}))return;if(!this[_0x403c22(0x634)]){this[_0x403c22(0x27e)][_0x403c22(0x5b0)](this[_0x403c22(0x145)]+'\x20('+this[_0x403c22(0x1f8)][_0x403c22(0xed)]+_0x403c22(0x154));break;}(!_0x48b46d['remoteJidsRemaining']||_0x48b46d[_0x403c22(0x22c)]['length']===0x0)&&(_0x48b46d=await k[_0x403c22(0x21a)](_0x48b46d['_id'],{'$set':{'status':'sending','remoteJidsRemaining':[..._0x48b46d[_0x403c22(0x4e0)]]}},{'new':!0x0}));for(let _0x4e90da of _0x48b46d[_0x403c22(0x22c)]){if(this[_0x403c22(0x226)]=Date[_0x403c22(0xe3)](),_0x48b46d[_0x403c22(0x2e8)][_0x403c22(0x4c3)](_0x27497f=>_0x27497f[_0x403c22(0x11f)]===_0x4e90da)){this['logger'][_0x403c22(0x5b0)](this[_0x403c22(0x145)]+'\x20('+this[_0x403c22(0x1f8)][_0x403c22(0xed)]+_0x403c22(0x548)+_0x4e90da+_0x403c22(0x60e));continue;}try{let _0x124f2d=await this['SendScheduleMessage'](_0x4e90da,_0x48b46d),_0x136019={'remoteJid':_0x4e90da,'error':_0x124f2d[_0x403c22(0x5e3)],'id':_0x124f2d['id']||null,'error_log':_0x124f2d[_0x403c22(0x265)]||null,'log_timestamp':Date['now']()};if((await k[_0x403c22(0x21a)](_0x48b46d[_0x403c22(0x42b)],{'$push':{'messagesSend':_0x136019},'$pull':{'remoteJidsRemaining':_0x4e90da}},{'new':!0x0}))[_0x403c22(0x255)]==='stopped'){this[_0x403c22(0x27e)][_0x403c22(0x5b0)](this[_0x403c22(0x145)]+'\x20('+this['instance']['wuid']+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x48b46d[_0x403c22(0x42b)]+'\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.');break;}if(!this[_0x403c22(0x634)]){this[_0x403c22(0x27e)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x403c22(0xed)]+_0x403c22(0x4d0));break;}if(!this[_0x403c22(0x147)]){this[_0x403c22(0x27e)][_0x403c22(0x5b0)](this[_0x403c22(0x145)]+'\x20('+this[_0x403c22(0x1f8)][_0x403c22(0xed)]+_0x403c22(0x5f9)+_0x48b46d[_0x403c22(0x42b)]+_0x403c22(0x378));break;}let _0x591f5d=this[_0x403c22(0x1c1)](_0x48b46d[_0x403c22(0x56c)],_0x48b46d['delaySecMax']);await this['sleep'](_0x591f5d);}catch(_0x31d9f0){this[_0x403c22(0x27e)]['error'](this[_0x403c22(0x145)]+'\x20('+this['instance'][_0x403c22(0xed)]+_0x403c22(0x526)+_0x4e90da+':\x20'+_0x31d9f0[_0x403c22(0x420)]);let _0x5cbbaf={'remoteJid':_0x4e90da,'status':_0x403c22(0x5e3),'timestamp':Date[_0x403c22(0xe3)](),'error':_0x31d9f0[_0x403c22(0x420)]};await k[_0x403c22(0x21a)](_0x48b46d[_0x403c22(0x42b)],{'$push':{'messagesSend':_0x5cbbaf},'$pull':{'remoteJidsRemaining':_0x4e90da}},{'new':!0x0});}}let _0x400737=await k[_0x403c22(0x18f)](_0x48b46d[_0x403c22(0x42b)]);_0x400737[_0x403c22(0x22c)][_0x403c22(0x438)]===0x0&&_0x400737[_0x403c22(0x255)]!==_0x403c22(0x1e5)&&await k[_0x403c22(0x21a)](_0x48b46d[_0x403c22(0x42b)],{'$set':{'status':_0x403c22(0x49d)}},{'new':!0x0}),await new Promise(_0x2c3709=>setTimeout(_0x2c3709,0x1388));}},_0x1f671c=async()=>{const _0xeb60f9=a0_0x2228;let _0x242b3d=await k[_0xeb60f9(0xd7)]({'owner':this[_0xeb60f9(0x1f8)][_0xeb60f9(0xed)],'status':_0xeb60f9(0x1c6),'when':{'$gt':Date[_0xeb60f9(0xe3)]()}})['sort']({'when':0x1});_0x242b3d&&_0x242b3d[_0xeb60f9(0x1c3)]-Date[_0xeb60f9(0xe3)]()<=0x5265c00?this[_0xeb60f9(0x24a)]=_0x242b3d[_0xeb60f9(0x1c3)]-Date[_0xeb60f9(0xe3)]():this['delayMessage']=(0x3c+Math[_0xeb60f9(0x657)](Math[_0xeb60f9(0x18e)]()*0x3c))*0x3c*0x3e8,this[_0xeb60f9(0x24a)]=Math[_0xeb60f9(0x60b)](this['delayMessage'],0x7d0);let _0x52d718=Math['round'](this[_0xeb60f9(0x24a)]/0xea60);if(_0x242b3d){let _0x8c2e92=new Date(_0x242b3d['when'])['toLocaleString']();this['logger'][_0xeb60f9(0x5b0)](this['instanceName']+'\x20('+this[_0xeb60f9(0x1f8)][_0xeb60f9(0xed)]+_0xeb60f9(0xf1)+_0x8c2e92+_0xeb60f9(0x47e)+_0x52d718+_0xeb60f9(0x388));}else this['logger'][_0xeb60f9(0x5b0)](this['instanceName']+'\x20('+this[_0xeb60f9(0x1f8)][_0xeb60f9(0xed)]+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x52d718+'\x20minutos');setTimeout(()=>this[_0xeb60f9(0x3e7)](),this['delayMessage']);};if(this['processingScheduleMessageId']&&Date['now']()-this[_0x512226(0x226)]<0x1d4c0){_0x1c9ebe();return;}try{let _0x3f7d30=await _0x20e657();_0x3f7d30[_0x512226(0x438)]===0x0?this[_0x512226(0x27e)][_0x512226(0x5b0)](this[_0x512226(0x145)]+'\x20('+this['instance'][_0x512226(0xed)]+_0x512226(0x680)):(this[_0x512226(0x147)]=_0x3f7d30[0x0][_0x512226(0x42b)],await _0x5d3033(_0x3f7d30)),await _0x1f671c(),this[_0x512226(0x147)]=null;}catch(_0x4f2118){this[_0x512226(0x27e)]['error'](_0x512226(0x4e9)+_0x4f2118[_0x512226(0x420)]);}}[a0_0x57c7f3(0x1c1)](_0x1a2748,_0x2d5f20){const _0x3188a7=a0_0x57c7f3;return _0x1a2748=Math[_0x3188a7(0x60b)](0.5,_0x1a2748),_0x2d5f20=Math['max'](0x3,_0x2d5f20),Math[_0x3188a7(0x657)](Math[_0x3188a7(0x18e)]()*(_0x2d5f20-_0x1a2748+0x1)+_0x1a2748)*0x3e8;}['sleep'](_0x54622e){return new Promise(_0x12bd45=>setTimeout(_0x12bd45,_0x54622e));}async['getVariablesChat'](_0x3aaa70){const _0x322fce=a0_0x57c7f3;if(!this[_0x322fce(0x3d3)]&&(await this[_0x322fce(0x56a)](),!this['AutomateSystem']))return null;_0x3aaa70=this[_0x322fce(0x3e1)](_0x3aaa70);let _0x4e6016=await R['findOne']({'id':_0x3aaa70,'owner':this['instance'][_0x322fce(0xed)]}),_0x149733={};if(_0x4e6016&&_0x4e6016[_0x322fce(0x501)]){let _0x25e297=_0x4e6016[_0x322fce(0x501)];typeof _0x25e297['nome']==_0x322fce(0x5c6)&&(_0x149733[_0x322fce(0x134)]=_0x25e297[_0x322fce(0x134)]),typeof _0x25e297[_0x322fce(0x115)]=='string'&&(_0x149733[_0x322fce(0x115)]=_0x25e297[_0x322fce(0x115)]),typeof _0x25e297['email']=='string'&&(_0x149733[_0x322fce(0x320)]=_0x25e297[_0x322fce(0x320)]),typeof _0x25e297[_0x322fce(0x4c8)]==_0x322fce(0x5c6)&&(_0x149733[_0x322fce(0x4c8)]=_0x25e297['cpf']),typeof _0x25e297[_0x322fce(0x255)]==_0x322fce(0x5c6)&&(_0x149733[_0x322fce(0x255)]=_0x25e297[_0x322fce(0x255)]),typeof _0x25e297[_0x322fce(0x2c6)]==_0x322fce(0x5c6)&&(_0x149733[_0x322fce(0x2c6)]=_0x25e297[_0x322fce(0x2c6)]),typeof _0x25e297[_0x322fce(0x3cb)]==_0x322fce(0x5c6)&&(_0x149733[_0x322fce(0x3cb)]=_0x25e297[_0x322fce(0x3cb)]),Array['isArray'](_0x25e297['tags'])&&(_0x149733[_0x322fce(0x661)]=_0x25e297['tags'][_0x322fce(0x1b9)](',\x20'));}return _0x4e6016&&_0x4e6016[_0x322fce(0x501)]&&_0x4e6016[_0x322fce(0x501)][_0x322fce(0x123)]&&_0x4e6016[_0x322fce(0x501)][_0x322fce(0x123)]['forEach'](_0x23145d=>{const _0x14aa4d=_0x322fce;let _0x91cc67=this[_0x14aa4d(0x3d3)][_0x14aa4d(0x123)][_0x14aa4d(0x354)](_0x1dfae2=>_0x1dfae2[_0x14aa4d(0x42b)]===_0x23145d[_0x14aa4d(0x42b)]);_0x91cc67&&(_0x149733[_0x91cc67['name']]=_0x23145d[_0x14aa4d(0x60d)]);}),_0x149733;}async['replaceVariablesChat'](_0x8a7c13,_0x3a23e1){let _0x37decd=await this['getVariablesChat'](_0x3a23e1);return this['replaceVariables'](_0x8a7c13,_0x37decd);}async['editScheduleMessage'](_0x45022d){const _0x3a42f1=a0_0x57c7f3;try{if(this[_0x3a42f1(0x27e)][_0x3a42f1(0x5b0)](this[_0x3a42f1(0x145)]+'\x20('+this[_0x3a42f1(0x1f8)][_0x3a42f1(0xed)]+_0x3a42f1(0x16d)),_0x45022d[_0x3a42f1(0x497)]&&_0x45022d['_id']){if(this['processingScheduleMessageId']===_0x45022d[_0x3a42f1(0x42b)]['toString']())throw new Error(_0x3a42f1(0x291));let _0x199b49=await k[_0x3a42f1(0x50a)](_0x45022d[_0x3a42f1(0x42b)]);return setTimeout(()=>this[_0x3a42f1(0x3e7)](),0x7d0),_0x199b49;}let _0x556f19;if(_0x45022d['_id']&&(_0x556f19=await k[_0x3a42f1(0xd7)]({'owner':this[_0x3a42f1(0x1f8)][_0x3a42f1(0xed)],'_id':_0x45022d[_0x3a42f1(0x42b)]})),_0x556f19){let _0x3c1e93=_0x45022d;this[_0x3a42f1(0x147)]===_0x556f19[_0x3a42f1(0x42b)]['toString']()&&(_0x3c1e93={'status':_0x45022d[_0x3a42f1(0x255)],'_id':_0x45022d[_0x3a42f1(0x42b)]});let _0x32dd5c=await k['findByIdAndUpdate'](_0x556f19['_id'],{'$set':_0x3c1e93},{'new':!0x0});return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x32dd5c;}else{_0x45022d['owner']=this[_0x3a42f1(0x1f8)]['wuid'];let _0x437da4=await new k(_0x45022d)[_0x3a42f1(0x319)]();return setTimeout(()=>this[_0x3a42f1(0x3e7)](),0x7d0),_0x437da4;}}catch(_0xde7e21){throw this['logger'][_0x3a42f1(0x5e3)](this['instanceName']+'\x20('+this[_0x3a42f1(0x1f8)][_0x3a42f1(0xed)]+_0x3a42f1(0x5ca)+_0xde7e21),new m(_0x3a42f1(0x167)+_0xde7e21[_0x3a42f1(0x420)]);}}async[a0_0x57c7f3(0x67e)](){const _0x478a15=a0_0x57c7f3;try{return await k[_0x478a15(0x354)]({'owner':this[_0x478a15(0x1f8)][_0x478a15(0xed)]})[_0x478a15(0x65e)]({'when':0x1});}catch(_0x3955c2){throw this[_0x478a15(0x27e)][_0x478a15(0x5e3)](this['instanceName']+'\x20('+this[_0x478a15(0x1f8)][_0x478a15(0xed)]+_0x478a15(0x3bc)+_0x3955c2),new m('Erro:'+_0x3955c2[_0x478a15(0x420)]);}}async[a0_0x57c7f3(0xd5)](){const _0x289097=a0_0x57c7f3;try{return await k['deleteMany']({'owner':this[_0x289097(0x1f8)][_0x289097(0xed)],'status':'done'}),this[_0x289097(0x27e)][_0x289097(0x5b0)](this[_0x289097(0x145)]+'\x20('+this[_0x289097(0x1f8)][_0x289097(0xed)]+_0x289097(0x5a8)),this[_0x289097(0x67e)]();}catch(_0xc23a86){throw this[_0x289097(0x27e)]['error'](this[_0x289097(0x145)]+'\x20('+this[_0x289097(0x1f8)]['wuid']+_0x289097(0x611)+_0xc23a86),new m('Erro:'+_0xc23a86[_0x289097(0x420)]);}}async['SendScheduleMessage'](_0xe19ac3,_0x694c22){const _0x5ab8a2=a0_0x57c7f3;try{switch(_0x694c22[_0x5ab8a2(0x1ae)]){case _0x5ab8a2(0x184):return await this[_0x5ab8a2(0x4c6)](_0x694c22,_0xe19ac3);case'media':return await this[_0x5ab8a2(0x2ed)](_0x694c22,_0xe19ac3);case _0x5ab8a2(0x559):return await this['scheduleSendAudio'](_0x694c22,_0xe19ac3);default:return this[_0x5ab8a2(0x27e)][_0x5ab8a2(0x5e3)](this[_0x5ab8a2(0x145)]+'\x20('+this['instance'][_0x5ab8a2(0xed)]+_0x5ab8a2(0x5ae)+_0x694c22[_0x5ab8a2(0x1ae)]),{'status':_0x5ab8a2(0x5e3),'detail':_0x5ab8a2(0x1a1)};}}catch(_0x1512fa){return this['logger']['error'](this[_0x5ab8a2(0x145)]+'\x20('+this[_0x5ab8a2(0x1f8)][_0x5ab8a2(0xed)]+_0x5ab8a2(0x327)+_0x1512fa),{'status':_0x5ab8a2(0x5e3),'detail':_0x1512fa[_0x5ab8a2(0x420)]};}}['getRandomText'](_0x3a5362){const _0x2faed5=a0_0x57c7f3;let _0x5edff5=_0x3a5362[_0x2faed5(0x479)]('|'),_0x5bc409=Math[_0x2faed5(0x657)](Math[_0x2faed5(0x18e)]()*_0x5edff5[_0x2faed5(0x438)]);return _0x5edff5[_0x5bc409][_0x2faed5(0x345)]();}async[a0_0x57c7f3(0x4c6)](_0x889231,_0x24d9a7){const _0x5b44eb=a0_0x57c7f3;if(this[_0x5b44eb(0x27e)][_0x5b44eb(0x5b0)](this['instanceName']+'\x20('+this['instance'][_0x5b44eb(0xed)]+_0x5b44eb(0x607)),!_0x889231[_0x5b44eb(0x420)][_0x5b44eb(0x184)]||_0x889231[_0x5b44eb(0x420)][_0x5b44eb(0x184)]['length']===0x0)return{'error':!0x0,'error_log':_0x5b44eb(0x2cd)};let _0x587d5d=this['getRandomText'](_0x889231[_0x5b44eb(0x420)]['text']),_0x39f25e=await this['replaceVariablesChat'](_0x587d5d,_0x24d9a7),_0xc2ca11={'number':_0x24d9a7,'options':{'delay':_0x889231['message'][_0x5b44eb(0x5f4)]},'textMessage':{'text':_0x39f25e}},_0x2cf037=null;try{let _0xbcf433=await this[_0x5b44eb(0x4ea)](_0xc2ca11);if(_0xbcf433&&_0xbcf433['status'])return{'error':!0x1,'id':_0xbcf433['key']['id']};_0x2cf037=JSON[_0x5b44eb(0x34c)](_0xbcf433),this[_0x5b44eb(0x27e)]['verbose'](this[_0x5b44eb(0x145)]+'\x20('+this['instance']['wuid']+_0x5b44eb(0x2c1)+_0x2cf037);}catch(_0x1a4207){this[_0x5b44eb(0x27e)][_0x5b44eb(0x5e3)](this[_0x5b44eb(0x145)]+'\x20('+this[_0x5b44eb(0x1f8)]['wuid']+_0x5b44eb(0x1e3)+_0x1a4207),_0x2cf037=_0x1a4207[_0x5b44eb(0x420)];}if(_0x2cf037)return{'error':!0x0,'error_log':(typeof _0x2cf037==_0x5b44eb(0x30e)?JSON[_0x5b44eb(0x34c)](_0x2cf037,null,0x2):_0x2cf037)[_0x5b44eb(0x289)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x57c7f3(0x2ed)](_0x424b99,_0x313b50){const _0x21c231=a0_0x57c7f3;this[_0x21c231(0x27e)][_0x21c231(0x5b0)](this['instanceName']+'\x20('+this[_0x21c231(0x1f8)][_0x21c231(0xed)]+_0x21c231(0x3a8));let _0x281a79;if(_0x424b99[_0x21c231(0x420)]['text']&&_0x424b99[_0x21c231(0x420)][_0x21c231(0x184)][_0x21c231(0x438)]>0x0){let _0x4cf840=this[_0x21c231(0x40a)](_0x424b99[_0x21c231(0x420)][_0x21c231(0x184)]);_0x281a79=await this[_0x21c231(0x17e)](_0x4cf840,_0x313b50);}let _0x15aee4={'number':_0x313b50,'options':{'delay':_0x424b99['message'][_0x21c231(0x5f4)]},'mediaMessage':{'mediatype':_0x424b99[_0x21c231(0x420)][_0x21c231(0x2e3)],'caption':_0x281a79,'media':_0x424b99['message'][_0x21c231(0x48c)]}},_0x54a1ab=null;try{let _0x8412b9=await this[_0x21c231(0x2ad)](_0x15aee4);if(_0x8412b9&&_0x8412b9['status'])return{'error':!0x1,'id':_0x8412b9['key']['id']};_0x54a1ab=JSON['stringify'](_0x8412b9),this[_0x21c231(0x27e)][_0x21c231(0x5b0)](this[_0x21c231(0x145)]+'\x20('+this['instance'][_0x21c231(0xed)]+_0x21c231(0x2c1)+_0x54a1ab);}catch(_0x40d488){this[_0x21c231(0x27e)][_0x21c231(0x5e3)](this[_0x21c231(0x145)]+'\x20('+this[_0x21c231(0x1f8)][_0x21c231(0xed)]+_0x21c231(0x175)+_0x40d488[_0x21c231(0x420)]),_0x54a1ab=_0x40d488[_0x21c231(0x420)];}if(_0x54a1ab)return{'error':!0x0,'error_log':(typeof _0x54a1ab==_0x21c231(0x30e)?JSON['stringify'](_0x54a1ab,null,0x2):_0x54a1ab)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x57c7f3(0x235)](_0x53a4fd,_0x41ba27){const _0x1c1d23=a0_0x57c7f3;this[_0x1c1d23(0x27e)]['verbose'](this[_0x1c1d23(0x145)]+'\x20('+this[_0x1c1d23(0x1f8)]['wuid']+'):\x20Enviando\x20áudio');let _0xeb42a2={'number':_0x41ba27,'options':{'delay':_0x53a4fd['message'][_0x1c1d23(0x5f4)]},'audioMessage':{'audio':_0x53a4fd[_0x1c1d23(0x420)][_0x1c1d23(0x48c)]}},_0x21559b=null;try{let _0x3c10c6=await this['audioWhatsapp'](_0xeb42a2);if(_0x3c10c6&&_0x3c10c6[_0x1c1d23(0x255)])return{'error':!0x1,'id':_0x3c10c6[_0x1c1d23(0x572)]['id']};_0x21559b=JSON[_0x1c1d23(0x34c)](_0x3c10c6),this[_0x1c1d23(0x27e)][_0x1c1d23(0x5b0)](this[_0x1c1d23(0x145)]+'\x20('+this[_0x1c1d23(0x1f8)]['wuid']+_0x1c1d23(0x2c1)+_0x21559b);}catch(_0x3e2690){this[_0x1c1d23(0x27e)][_0x1c1d23(0x5e3)](this[_0x1c1d23(0x145)]+'\x20('+this[_0x1c1d23(0x1f8)][_0x1c1d23(0xed)]+_0x1c1d23(0x2b1)+_0x3e2690),_0x21559b=_0x3e2690[_0x1c1d23(0x420)];}if(_0x21559b)return{'error':!0x0,'error_log':(typeof _0x21559b==_0x1c1d23(0x30e)?JSON[_0x1c1d23(0x34c)](_0x21559b,null,0x2):_0x21559b)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},Ee=require(a0_0x57c7f3(0x272)),kt=class l{constructor(_0x14ef48,_0x504023,_0x10d7b3){const _0xabe98f=a0_0x57c7f3;this[_0xabe98f(0x656)]=_0x14ef48,this[_0xabe98f(0x2f8)]=_0x504023,this[_0xabe98f(0x15a)]=_0x10d7b3,this['db']={},this[_0xabe98f(0x4b0)]={},this[_0xabe98f(0x27e)]=new v(l['name']),this['waInstances']={},(this[_0xabe98f(0x39e)](),this['noConnection'](),this[_0xabe98f(0x23e)](),Object['assign'](this['db'],_0x504023['get'](_0xabe98f(0x648))),Object[_0xabe98f(0x33e)](this[_0xabe98f(0x4b0)],_0x504023[_0xabe98f(0x141)](_0xabe98f(0x292))),this[_0xabe98f(0x3d6)]=this['db'][_0xabe98f(0x528)]?this['repository'][_0xabe98f(0x669)]?.['db'](this['db'][_0xabe98f(0x5a3)][_0xabe98f(0x466)]+'-instances'):void 0x0,this[_0xabe98f(0x510)]=this[_0xabe98f(0x4b0)]['ENABLED']?new we(this[_0xabe98f(0x4b0)]):void 0x0);}[a0_0x57c7f3(0x418)](_0xcf36bb){const _0x5109f3=a0_0x57c7f3;let _0x5f6714=this['configService']['get'](_0x5109f3(0x5ea));typeof _0x5f6714==_0x5109f3(0x3a9)&&_0x5f6714>0x0&&setTimeout(()=>{const _0x21f141=_0x5109f3;this['waInstances'][_0xcf36bb]?.['connectionStatus']?.[_0x21f141(0x4d1)]!=='open'&&delete this['waInstances'][_0xcf36bb];},0x3e8*0x3c*_0x5f6714);}async['instanceInfo'](_0x2078e2){const _0x23d22a=a0_0x57c7f3;if(_0x2078e2&&!this['waInstances'][_0x2078e2])throw new L(_0x23d22a(0x4a9)+_0x2078e2+_0x23d22a(0x343));let _0x4fa2ac=[];for await(let [_0xf670f6,_0xcdfcd6]of Object[_0x23d22a(0x189)](this[_0x23d22a(0x240)]))if(_0xcdfcd6&&_0xcdfcd6[_0x23d22a(0x26b)]['state']===_0x23d22a(0x4c5)){let _0x4f4f0a=await this[_0x23d22a(0x15a)][_0x23d22a(0x286)]['find'](_0xf670f6);_0x4fa2ac[_0x23d22a(0x524)]({'instance':{'instanceName':_0xf670f6,'apikey':_0x4f4f0a[_0x23d22a(0x407)],'owner':_0xcdfcd6[_0x23d22a(0xed)],'profileName':await _0xcdfcd6['getProfileName']()||'not\x20loaded','profilePictureUrl':_0xcdfcd6[_0x23d22a(0x3cc)]}});}return _0x4fa2ac['find'](_0x4e5c0c=>_0x4e5c0c['instance'][_0x23d22a(0x145)]===_0x2078e2)??_0x4fa2ac;}[a0_0x57c7f3(0x23e)](){setInterval(async()=>{const _0x365da6=a0_0x2228;if(this['db']['ENABLED'])(await this[_0x365da6(0x3d6)][_0x365da6(0x437)]())[_0x365da6(0x2cb)](async _0x2089f9=>{const _0x18acdb=_0x365da6;let _0x505ec6=_0x2089f9['namespace'][_0x18acdb(0x289)](/^[\w-]+./,'');await this['dbInstance']['collection'](_0x505ec6)['deleteMany']({'$or':[{'_id':{'$regex':/^app.state.*/}},{'_id':{'$regex':/^session-.*/}}]});});else{let _0x201747=(0x0,ee['opendirSync'])(V,{'encoding':_0x365da6(0x64b)});for await(let _0x24e5cf of _0x201747)_0x24e5cf['isDirectory']()&&(0x0,ee[_0x365da6(0x679)])((0x0,Ee[_0x365da6(0x1b9)])(V,_0x24e5cf[_0x365da6(0x17c)]),{'encoding':_0x365da6(0x64b)})[_0x365da6(0x2cb)](async _0x1850ec=>{const _0x30f028=_0x365da6;(_0x1850ec[_0x30f028(0x288)](/^app.state.*/)||_0x1850ec['match'](/^session-.*/))&&(0x0,ee[_0x30f028(0x3a3)])((0x0,Ee[_0x30f028(0x1b9)])(V,_0x24e5cf[_0x30f028(0x17c)],_0x1850ec),{'recursive':!0x0,'force':!0x0});});}},0xe10*0x3e8*0x2);}async[a0_0x57c7f3(0x5a9)](_0x5addad){const _0x26a401=a0_0x57c7f3;this['db'][_0x26a401(0x528)]&&(await this[_0x26a401(0x15a)][_0x26a401(0x669)][_0x26a401(0x574)](),(await this[_0x26a401(0x3d6)][_0x26a401(0x437)]())[_0x26a401(0x438)]>0x0&&await this[_0x26a401(0x3d6)][_0x26a401(0x3f6)](_0x5addad)),this[_0x26a401(0x4b0)]['ENABLED']&&(this[_0x26a401(0x510)]['reference']=_0x5addad,await this[_0x26a401(0x510)][_0x26a401(0x41c)]()),!this['db'][_0x26a401(0x528)]&&!this[_0x26a401(0x4b0)][_0x26a401(0x528)]&&(0x0,ee[_0x26a401(0x3a3)])((0x0,Ee[_0x26a401(0x1b9)])(V,_0x5addad),{'recursive':!0x0,'force':!0x0});}async[a0_0x57c7f3(0x153)](){const _0x56171f=a0_0x57c7f3;let _0x56c0a4=async _0x17541a=>{const _0x5ba785=a0_0x2228;let _0x1d42ef=new be(this[_0x5ba785(0x2f8)],this[_0x5ba785(0x656)],this['repository']);_0x1d42ef[_0x5ba785(0x145)]=_0x17541a,await _0x1d42ef[_0x5ba785(0x674)](),this['waInstances'][_0x17541a]=_0x1d42ef;};try{if(this[_0x56171f(0x4b0)][_0x56171f(0x528)]){let _0x1ab36d=await this[_0x56171f(0x510)][_0x56171f(0x37f)]();_0x1ab36d?.[_0x56171f(0x438)]>0x0&&_0x1ab36d[_0x56171f(0x2cb)](async _0x32a5db=>await _0x56c0a4(_0x32a5db[_0x56171f(0x479)](':')[0x1]));}if(this['db'][_0x56171f(0x528)]){await this[_0x56171f(0x15a)][_0x56171f(0x669)][_0x56171f(0x574)]();let _0x2d5fd9=await this[_0x56171f(0x3d6)]['collections']();_0x2d5fd9[_0x56171f(0x438)]>0x0&&_0x2d5fd9[_0x56171f(0x2cb)](async _0x37c4ea=>await _0x56c0a4(_0x37c4ea[_0x56171f(0x2a6)][_0x56171f(0x289)](/^[\w-]+\./,'')));return;}let _0x43a5fc=(0x0,ee[_0x56171f(0x1b7)])(V,{'encoding':_0x56171f(0x64b)});for await(let _0xce190f of _0x43a5fc)if(_0xce190f[_0x56171f(0x61a)]()){if((0x0,ee[_0x56171f(0x679)])((0x0,Ee[_0x56171f(0x1b9)])(V,_0xce190f['name']),{'encoding':_0x56171f(0x64b)})[_0x56171f(0x438)]===0x0){(0x0,ee[_0x56171f(0x3a3)])((0x0,Ee['join'])(V,_0xce190f['name']),{'recursive':!0x0,'force':!0x0});break;}await _0x56c0a4(_0xce190f['name']);}}catch(_0x85b682){this[_0x56171f(0x27e)][_0x56171f(0x5e3)](_0x85b682);}}['removeInstance'](){const _0x349a58=a0_0x57c7f3;this[_0x349a58(0x656)]['on']('remove.instance',async _0x23b209=>{const _0x4446db=_0x349a58;try{this[_0x4446db(0x240)][_0x23b209]=void 0x0;}catch{}try{this[_0x4446db(0x5a9)](_0x23b209);}finally{this[_0x4446db(0x27e)][_0x4446db(0x5b4)](_0x4446db(0x4a9)+_0x23b209+'\x22\x20-\x20REMOVED');}});}[a0_0x57c7f3(0x18a)](){const _0x2d5ed7=a0_0x57c7f3;this[_0x2d5ed7(0x656)]['on'](_0x2d5ed7(0x45c),async _0x4ff1b4=>{const _0x2226be=_0x2d5ed7;try{this[_0x2226be(0x240)][_0x4ff1b4]=void 0x0,this[_0x2226be(0x5a9)](_0x4ff1b4);}catch(_0x29b26c){this['logger'][_0x2226be(0x5e3)]({'localError':_0x2226be(0x18a),'warn':'Error\x20deleting\x20instance\x20from\x20memory.','error':_0x29b26c});}finally{this['logger']['warn'](_0x2226be(0x4a9)+_0x4ff1b4+_0x2226be(0x4a0));}});}},xe=require(a0_0x57c7f3(0x272)),Ce=require('fs'),Lt=class extends j{constructor(_0x358279,_0x34cec7){const _0x433483=a0_0x57c7f3;super(_0x34cec7),this['chatModel']=_0x358279,this[_0x433483(0x2f8)]=_0x34cec7;}async['insert'](_0x1367eb,_0x48abbc=!0x1){const _0x3689d0=a0_0x57c7f3;if(_0x1367eb[_0x3689d0(0x438)]!==0x0)try{return this[_0x3689d0(0x142)][_0x3689d0(0x528)]&&_0x48abbc?{'insertCount':(await this[_0x3689d0(0x5ba)]['insertMany']([..._0x1367eb]))['length']}:(_0x1367eb[_0x3689d0(0x2cb)](_0x27d667=>{const _0x23d0a0=_0x3689d0;this[_0x23d0a0(0x102)]({'path':(0x0,xe[_0x23d0a0(0x1b9)])(this['storePath'],_0x23d0a0(0x169),_0x27d667[_0x23d0a0(0x277)]),'fileName':_0x27d667['id'],'data':_0x27d667});}),{'insertCount':_0x1367eb['length']});}catch(_0x612efa){return _0x612efa;}finally{_0x1367eb=void 0x0;}}async[a0_0x57c7f3(0x354)](_0x4f8fc0){const _0x5678e5=a0_0x57c7f3;try{if(this[_0x5678e5(0x142)][_0x5678e5(0x528)])return await this['chatModel'][_0x5678e5(0x354)]({'owner':_0x4f8fc0['where'][_0x5678e5(0x277)]})[_0x5678e5(0x65e)]({'lastmsg':-0x1})[_0x5678e5(0x609)](_0x4f8fc0?.[_0x5678e5(0x609)]??0x0)['lean']();let _0x2c0c80=[],_0xf57edb=(0x0,Ce[_0x5678e5(0x1b7)])((0x0,xe[_0x5678e5(0x1b9)])(this[_0x5678e5(0x636)],'chats',_0x4f8fc0[_0x5678e5(0x276)][_0x5678e5(0x277)]));for await(let _0x3cc209 of _0xf57edb)_0x3cc209[_0x5678e5(0x183)]()&&_0x2c0c80[_0x5678e5(0x524)](JSON[_0x5678e5(0x42c)]((0x0,Ce[_0x5678e5(0x503)])((0x0,xe['join'])(this['storePath'],_0x5678e5(0x169),_0x4f8fc0[_0x5678e5(0x276)]['owner'],_0x3cc209[_0x5678e5(0x17c)]),{'encoding':'utf-8'})));return _0x2c0c80;}catch{return[];}}async[a0_0x57c7f3(0x497)](_0x5d6f2e){const _0x4222e8=a0_0x57c7f3;try{return this[_0x4222e8(0x142)]['ENABLED']?await this['chatModel'][_0x4222e8(0x318)]({..._0x5d6f2e[_0x4222e8(0x276)]}):((0x0,Ce[_0x4222e8(0x3a3)])((0x0,xe[_0x4222e8(0x1b9)])(this[_0x4222e8(0x636)],_0x4222e8(0x169),_0x5d6f2e['where'][_0x4222e8(0x277)],_0x5d6f2e[_0x4222e8(0x276)]['id']+_0x4222e8(0x374)),{'force':!0x0,'recursive':!0x0}),{'deleted':{'chatId':_0x5d6f2e[_0x4222e8(0x276)]['id']}});}catch(_0x29f9f8){return{'error':_0x29f9f8?.['toString']()};}}async[a0_0x57c7f3(0xd7)](_0x192c06){const _0x42a9aa=a0_0x57c7f3;try{if(this[_0x42a9aa(0x142)]['ENABLED'])return await this[_0x42a9aa(0x5ba)]['findOne']({'owner':_0x192c06[_0x42a9aa(0x276)][_0x42a9aa(0x277)]})[_0x42a9aa(0x66b)]();}catch{return null;}}async[a0_0x57c7f3(0x4b8)](_0x470af4,_0x50d1ed){const _0x20c286=a0_0x57c7f3;try{this['dbSettings']['ENABLED']&&await this[_0x20c286(0x5ba)][_0x20c286(0x51f)]({..._0x470af4[_0x20c286(0x276)]},{'$set':_0x50d1ed});}catch(_0x15dfd9){console[_0x20c286(0x5e3)](_0x15dfd9);}}async[a0_0x57c7f3(0x38c)](_0x1c51c8,_0x388c9f){const _0x3671a2=a0_0x57c7f3;try{if(this[_0x3671a2(0x142)][_0x3671a2(0x528)]){let _0x5e201d=_0x1c51c8[_0x3671a2(0x1bd)]((_0x240259,_0x46fe9a)=>({'updateOne':{'filter':{..._0x240259[_0x3671a2(0x276)]},'update':{'$set':_0x388c9f[_0x46fe9a]}}}));await this[_0x3671a2(0x5ba)]['bulkWrite'](_0x5e201d);}}catch(_0x1bc12a){console[_0x3671a2(0x5e3)](_0x1bc12a);}}},Ut=class{constructor(_0xe4a845){this['waMonitor']=_0xe4a845;}async[a0_0x57c7f3(0x539)]({instanceName:_0x20576b},_0x573672){const _0x26be22=a0_0x57c7f3;return await this[_0x26be22(0x3c3)][_0x26be22(0x240)][_0x20576b][_0x26be22(0x539)](_0x573672);}async[a0_0x57c7f3(0x4d5)]({instanceName:_0x658be6},_0x3168a4){const _0x4e7609=a0_0x57c7f3;return await this[_0x4e7609(0x3c3)][_0x4e7609(0x240)][_0x658be6][_0x4e7609(0x4d5)](_0x3168a4);}async['readMessage']({instanceName:_0x1f7a95},_0x4c9550){const _0x311998=a0_0x57c7f3;return await this['waMonitor'][_0x311998(0x240)][_0x1f7a95][_0x311998(0x49a)](_0x4c9550);}async[a0_0x57c7f3(0x478)]({instanceName:_0x5612eb},_0x6edddc){const _0x4ef338=a0_0x57c7f3;return await this[_0x4ef338(0x3c3)][_0x4ef338(0x240)][_0x5612eb][_0x4ef338(0x478)](_0x6edddc);}async[a0_0x57c7f3(0x49e)]({instanceName:_0x20efa1},_0x4b7820){const _0x20013c=a0_0x57c7f3;return await this['waMonitor'][_0x20013c(0x240)][_0x20efa1][_0x20013c(0x49e)](_0x4b7820);}async[a0_0x57c7f3(0x3ae)]({instanceName:_0x1de116},_0x539ed6){const _0x3adbba=a0_0x57c7f3;return await this[_0x3adbba(0x3c3)][_0x3adbba(0x240)][_0x1de116][_0x3adbba(0x5b8)](_0x539ed6[_0x3adbba(0x3a9)]);}async['fetchProfile']({instanceName:_0x1d0975},_0x55e079){const _0x49de23=a0_0x57c7f3;return await this[_0x49de23(0x3c3)][_0x49de23(0x240)][_0x1d0975][_0x49de23(0x26f)](_0x1d0975,_0x55e079[_0x49de23(0x3a9)]);}async[a0_0x57c7f3(0x32b)]({instanceName:_0x1e2b3c},_0x32d7f1){const _0x2b401c=a0_0x57c7f3;return await this[_0x2b401c(0x3c3)]['waInstances'][_0x1e2b3c]['fetchContacts'](_0x32d7f1);}async[a0_0x57c7f3(0x515)]({instanceName:_0x217501},_0x2a5694){const _0xc26fb7=a0_0x57c7f3;return await this[_0xc26fb7(0x3c3)][_0xc26fb7(0x240)][_0x217501]['getBase64FromMediaMessage'](_0x2a5694);}async[a0_0x57c7f3(0x53c)]({instanceName:_0x367b6d},_0x466dde){const _0x5c56f6=a0_0x57c7f3;return await this[_0x5c56f6(0x3c3)][_0x5c56f6(0x240)][_0x367b6d][_0x5c56f6(0x53c)](_0x466dde);}async[a0_0x57c7f3(0x455)]({instanceName:_0x5f3fff},_0x38e6af){const _0x5b2837=a0_0x57c7f3;return await this[_0x5b2837(0x3c3)][_0x5b2837(0x240)][_0x5f3fff][_0x5b2837(0x455)](_0x38e6af);}async['fetchChats']({instanceName:_0x2bbb69}){const _0x46e58d=a0_0x57c7f3;return await this[_0x46e58d(0x3c3)][_0x46e58d(0x240)][_0x2bbb69][_0x46e58d(0x371)]();}async[a0_0x57c7f3(0x1f1)]({instanceName:_0x46c9b2}){const _0x168899=a0_0x57c7f3;return await this[_0x168899(0x3c3)][_0x168899(0x240)][_0x46c9b2][_0x168899(0x1f1)]();}async[a0_0x57c7f3(0x20c)]({instanceName:_0x469864},_0x452a97){const _0x1fa439=a0_0x57c7f3;return await this[_0x1fa439(0x3c3)][_0x1fa439(0x240)][_0x469864][_0x1fa439(0x20c)](_0x452a97);}async[a0_0x57c7f3(0x21f)]({instanceName:_0x4260fc},_0x78400d){const _0x4ba459=a0_0x57c7f3;return await this[_0x4ba459(0x3c3)]['waInstances'][_0x4260fc][_0x4ba459(0x21f)](_0x78400d[_0x4ba459(0x3a9)]);}async[a0_0x57c7f3(0x59a)]({instanceName:_0x30b553},_0x583ce4){const _0x2f42b8=a0_0x57c7f3;return await this[_0x2f42b8(0x3c3)][_0x2f42b8(0x240)][_0x30b553][_0x2f42b8(0x59a)](_0x583ce4[_0x2f42b8(0x17c)]);}async[a0_0x57c7f3(0x55a)]({instanceName:_0x542be9},_0x395b4e){const _0x1a3577=a0_0x57c7f3;return await this[_0x1a3577(0x3c3)][_0x1a3577(0x240)][_0x542be9]['updateProfileStatus'](_0x395b4e[_0x1a3577(0x255)]);}async[a0_0x57c7f3(0x3f5)]({instanceName:_0x5e85c6},_0x13d2b8){const _0x4d4e79=a0_0x57c7f3;return await this[_0x4d4e79(0x3c3)][_0x4d4e79(0x240)][_0x5e85c6]['updateProfilePicture'](_0x13d2b8[_0x4d4e79(0x627)]);}async['removeProfilePicture']({instanceName:_0x263d7a},_0x2094f2){const _0x3816a5=a0_0x57c7f3;return await this[_0x3816a5(0x3c3)][_0x3816a5(0x240)][_0x263d7a]['removeProfilePicture']();}},Cs=require(a0_0x57c7f3(0x581)),Vt=class l{constructor(_0x5b9f41,_0x19b5b3,_0x8ece09,_0x31c43f,_0x5903c4){const _0x47fb3a=a0_0x57c7f3;this[_0x47fb3a(0x3c3)]=_0x5b9f41,this[_0x47fb3a(0x2f8)]=_0x19b5b3,this[_0x47fb3a(0x15a)]=_0x8ece09,this['eventEmitter']=_0x31c43f,this[_0x47fb3a(0x118)]=_0x5903c4,this['logger']=new v(l[_0x47fb3a(0x17c)]);}async['createInstance']({instanceName:_0x40a39b,apikey:_0x4a4275}){const _0x72ec70=a0_0x57c7f3;let _0x5a2c85=new be(this[_0x72ec70(0x2f8)],this[_0x72ec70(0x656)],this[_0x72ec70(0x15a)]);_0x5a2c85['instanceName']=_0x40a39b,this[_0x72ec70(0x3c3)][_0x72ec70(0x240)][_0x5a2c85[_0x72ec70(0x145)]]=_0x5a2c85,this[_0x72ec70(0x3c3)]['delInstanceTime'](_0x5a2c85[_0x72ec70(0x145)]);let _0x2b62ee={};_0x4a4275?(await this[_0x72ec70(0x15a)][_0x72ec70(0x286)][_0x72ec70(0x411)]({'apikey':_0x4a4275},_0x40a39b),_0x2b62ee[_0x72ec70(0x407)]=_0x4a4275):_0x2b62ee=await this[_0x72ec70(0x118)]['generateHash']({'instanceName':_0x5a2c85['instanceName']});let _0x47832d;return await _0x5a2c85[_0x72ec70(0x674)](),await(0x0,Cs[_0x72ec70(0x5f4)])(0x7d0),_0x47832d=_0x5a2c85['qrCode'],{'instance':{'instanceName':_0x5a2c85['instanceName'],'status':_0x72ec70(0x36e)},'hash':_0x2b62ee,'qrcode':_0x47832d};}async[a0_0x57c7f3(0x674)]({instanceName:_0x4130c8}){const _0x514519=a0_0x57c7f3;try{let _0x194f42=this[_0x514519(0x3c3)][_0x514519(0x240)][_0x4130c8];switch(_0x194f42[_0x514519(0x26b)]?.[_0x514519(0x4d1)]){case'close':return await _0x194f42[_0x514519(0x674)](),await(0x0,Cs[_0x514519(0x5f4)])(0x7d0),_0x194f42[_0x514519(0x4a5)];case _0x514519(0x32f):return _0x194f42[_0x514519(0x4a5)];default:return await this[_0x514519(0x485)]({'instanceName':_0x4130c8});}}catch(_0x1a552f){this[_0x514519(0x27e)][_0x514519(0x40c)](_0x1a552f);}}async[a0_0x57c7f3(0x485)]({instanceName:_0x2cab13}){const _0x3ca20d=a0_0x57c7f3;let _0x2ce3c2=this[_0x3ca20d(0x3c3)][_0x3ca20d(0x240)][_0x2cab13][_0x3ca20d(0x26b)],_0x2c69ce=null;_0x2ce3c2['state']===_0x3ca20d(0x4c5)&&_0x2cab13&&(_0x2c69ce=await this['waMonitor'][_0x3ca20d(0x3e3)](_0x2cab13));let _0x4b1b37=null;return _0x2ce3c2[_0x3ca20d(0x4d1)]===_0x3ca20d(0x32f)&&_0x2cab13&&(_0x4b1b37=this[_0x3ca20d(0x3c3)][_0x3ca20d(0x240)][_0x2cab13][_0x3ca20d(0x4a5)]),{'instance':_0x2cab13,'connectionStatus':_0x2ce3c2,'instanceInfo':_0x2c69ce,'qrcode':_0x4b1b37};}async[a0_0x57c7f3(0x448)]({instanceName:_0x4b4ec0}){const _0x75bfad=a0_0x57c7f3;try{return this['waMonitor'][_0x75bfad(0x240)][_0x4b4ec0]?.['client']?.['ws']?.[_0x75bfad(0x14f)](),{'status':_0x75bfad(0xd4),'error':!0x1,'response':{'message':_0x75bfad(0x2bb)}};}catch(_0x1a77a7){this[_0x75bfad(0x27e)][_0x75bfad(0x5e3)](_0x1a77a7);}}async[a0_0x57c7f3(0x65d)]({instanceName:_0x42691a}){const _0x462abf=a0_0x57c7f3;return _0x42691a?this[_0x462abf(0x3c3)][_0x462abf(0x3e3)](_0x42691a):this['waMonitor'][_0x462abf(0x3e3)]();}async['logout']({instanceName:_0x1763fe}){const _0x1864a8=a0_0x57c7f3;try{return await this['waMonitor'][_0x1864a8(0x240)][_0x1763fe]?.[_0x1864a8(0x369)]?.[_0x1864a8(0xf5)](_0x1864a8(0x430)+_0x1763fe),{'error':!0x1,'message':_0x1864a8(0x2a3)};}catch(_0x318f91){throw new I(_0x318f91['toString']());}}async['deleteInstance']({instanceName:_0xc792c7}){const _0x8fa791=a0_0x57c7f3;if((await this[_0x8fa791(0x485)]({'instanceName':_0xc792c7}))[_0x8fa791(0x26b)][_0x8fa791(0x4d1)]===_0x8fa791(0x4c5))throw new m([_0x8fa791(0x3e6),_0x8fa791(0x231)]);try{return delete this[_0x8fa791(0x3c3)][_0x8fa791(0x240)][_0xc792c7],{'error':!0x1,'message':_0x8fa791(0x58d)};}catch(_0x37264c){throw new m(_0x37264c['toString']());}}async[a0_0x57c7f3(0x19a)](_0x19af65,_0x55dd6d){const _0x206d73=a0_0x57c7f3;return await this[_0x206d73(0x118)][_0x206d73(0x19a)](_0x55dd6d);}},te=require(a0_0x57c7f3(0x14d)),jt=class{constructor(_0x98b28f){const _0x17864c=a0_0x57c7f3;this[_0x17864c(0x3c3)]=_0x98b28f;}async['sendText']({instanceName:_0x38adbc},_0x6ce1e9){const _0x4f644a=a0_0x57c7f3;return await this[_0x4f644a(0x3c3)]['waInstances'][_0x38adbc]['textMessage'](_0x6ce1e9);}async[a0_0x57c7f3(0x109)]({instanceName:_0x242a22},_0x3a29d1){const _0x2827ae=a0_0x57c7f3;if((0x0,te[_0x2827ae(0x399)])(_0x3a29d1?.[_0x2827ae(0x2ad)]?.[_0x2827ae(0x18d)])&&!_0x3a29d1?.[_0x2827ae(0x2ad)]?.[_0x2827ae(0x3df)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,te['isURL'])(_0x3a29d1?.[_0x2827ae(0x2ad)]?.[_0x2827ae(0x18d)])||(0x0,te[_0x2827ae(0x399)])(_0x3a29d1?.[_0x2827ae(0x2ad)]?.[_0x2827ae(0x18d)]))return await this[_0x2827ae(0x3c3)]['waInstances'][_0x242a22][_0x2827ae(0x2ad)](_0x3a29d1);throw new m(_0x2827ae(0x32a));}async[a0_0x57c7f3(0x232)]({instanceName:_0x575fe2},_0x4649db){const _0x41841b=a0_0x57c7f3;if((0x0,te['isURL'])(_0x4649db[_0x41841b(0x5ec)][_0x41841b(0x10d)])||(0x0,te['isBase64'])(_0x4649db[_0x41841b(0x5ec)][_0x41841b(0x10d)]))return await this[_0x41841b(0x3c3)]['waInstances'][_0x575fe2][_0x41841b(0x1a0)](_0x4649db);throw new m(_0x41841b(0x32a));}async[a0_0x57c7f3(0x5ce)]({instanceName:_0x550c8d},_0x373810){const _0x5aab2e=a0_0x57c7f3;if((0x0,te[_0x5aab2e(0x396)])(_0x373810[_0x5aab2e(0x261)][_0x5aab2e(0x559)])||(0x0,te['isBase64'])(_0x373810[_0x5aab2e(0x261)][_0x5aab2e(0x559)]))return await this[_0x5aab2e(0x3c3)][_0x5aab2e(0x240)][_0x550c8d]['audioWhatsapp'](_0x373810);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendButtons']({instanceName:_0x49a9d7},_0x470bd4){const _0x53297f=a0_0x57c7f3;if((0x0,te[_0x53297f(0x399)])(_0x470bd4[_0x53297f(0x36c)][_0x53297f(0x2ad)]?.[_0x53297f(0x18d)])&&!_0x470bd4['buttonMessage']['mediaMessage']?.[_0x53297f(0x3df)])throw new m(_0x53297f(0x193));return await this[_0x53297f(0x3c3)][_0x53297f(0x240)][_0x49a9d7]['buttonMessage'](_0x470bd4);}async[a0_0x57c7f3(0x3e5)]({instanceName:_0xc659be},_0x1ff69e){const _0x357afa=a0_0x57c7f3;return await this[_0x357afa(0x3c3)][_0x357afa(0x240)][_0xc659be][_0x357afa(0x2e0)](_0x1ff69e);}async[a0_0x57c7f3(0x159)]({instanceName:_0x2996f0},_0x3b9515){const _0x1effff=a0_0x57c7f3;return await this[_0x1effff(0x3c3)][_0x1effff(0x240)][_0x2996f0][_0x1effff(0x46c)](_0x3b9515);}async[a0_0x57c7f3(0x3f9)]({instanceName:_0x537015},_0x3968cd){const _0xbdb5d4=a0_0x57c7f3;return await this[_0xbdb5d4(0x3c3)][_0xbdb5d4(0x240)][_0x537015][_0xbdb5d4(0x111)](_0x3968cd);}async[a0_0x57c7f3(0x12a)]({instanceName:_0x9e9229},_0x16138f){const _0x414ca3=a0_0x57c7f3;return await this[_0x414ca3(0x3c3)][_0x414ca3(0x240)][_0x9e9229][_0x414ca3(0x5c3)](_0x16138f);}async[a0_0x57c7f3(0x491)]({instanceName:_0x34b18c},_0x880c9){const _0x552647=a0_0x57c7f3;if(!_0x880c9['reactionMessage'][_0x552647(0x34b)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x552647(0x445));return await this[_0x552647(0x3c3)][_0x552647(0x240)][_0x34b18c][_0x552647(0x12b)](_0x880c9);}async[a0_0x57c7f3(0x53e)]({instanceName:_0x40af6d},_0x32cd61){const _0x159a5e=a0_0x57c7f3;return await this['waMonitor'][_0x159a5e(0x240)][_0x40af6d][_0x159a5e(0x467)](_0x32cd61);}},Bt=class{constructor(_0x1922ed){const _0x145852=a0_0x57c7f3;this[_0x145852(0x3c3)]=_0x1922ed;}async[a0_0x57c7f3(0x1f9)](_0x154165,_0x398ba2){const _0x26622b=a0_0x57c7f3;return await this[_0x26622b(0x3c3)]['waInstances'][_0x154165[_0x26622b(0x145)]][_0x26622b(0x1f9)](_0x398ba2);}async[a0_0x57c7f3(0x1e1)](_0x4a0962,_0x1f6c20){const _0x482191=a0_0x57c7f3;return await this[_0x482191(0x3c3)][_0x482191(0x240)][_0x4a0962[_0x482191(0x145)]][_0x482191(0x1e1)](_0x1f6c20);}async[a0_0x57c7f3(0x577)](_0x55e3c0,_0x436ac8){const _0x7086e3=a0_0x57c7f3;return await this[_0x7086e3(0x3c3)][_0x7086e3(0x240)][_0x55e3c0['instanceName']]['groupDesc'](_0x436ac8);}async[a0_0x57c7f3(0x568)](_0x2aa48a,_0x5eaa6e){const _0x473288=a0_0x57c7f3;return await this[_0x473288(0x3c3)]['waInstances'][_0x2aa48a[_0x473288(0x145)]]['groupName'](_0x5eaa6e);}async[a0_0x57c7f3(0x328)](_0x36f7b7,_0x512d89){const _0x284f4d=a0_0x57c7f3;return await this[_0x284f4d(0x3c3)][_0x284f4d(0x240)][_0x36f7b7[_0x284f4d(0x145)]][_0x284f4d(0x328)](_0x512d89);}async[a0_0x57c7f3(0x1ba)](_0x3e454a,_0x82a76f){const _0x530e9b=a0_0x57c7f3;return await this['waMonitor']['waInstances'][_0x3e454a['instanceName']][_0x530e9b(0xf3)](_0x82a76f);}async[a0_0x57c7f3(0x639)](_0x1e82cb){const _0x37a03c=a0_0x57c7f3;return await this[_0x37a03c(0x3c3)]['waInstances'][_0x1e82cb[_0x37a03c(0x145)]][_0x37a03c(0x639)]();}async['inviteCode'](_0x44c993,_0x46478f){const _0x31de35=a0_0x57c7f3;return await this[_0x31de35(0x3c3)][_0x31de35(0x240)][_0x44c993['instanceName']][_0x31de35(0x552)](_0x46478f);}async['joinGroup'](_0xf4cbe5,_0x4e3a7f){const _0x272a85=a0_0x57c7f3;return await this[_0x272a85(0x3c3)][_0x272a85(0x240)][_0xf4cbe5['instanceName']][_0x272a85(0x652)](_0x4e3a7f);}async['revokeInviteCode'](_0x21c928,_0x3d10fa){const _0x2fda89=a0_0x57c7f3;return await this['waMonitor']['waInstances'][_0x21c928[_0x2fda89(0x145)]][_0x2fda89(0x578)](_0x3d10fa);}async[a0_0x57c7f3(0x60f)](_0x4e75d8,_0x19704b){const _0x10bc70=a0_0x57c7f3;return await this['waMonitor'][_0x10bc70(0x240)][_0x4e75d8[_0x10bc70(0x145)]][_0x10bc70(0x60f)](_0x19704b);}async[a0_0x57c7f3(0x3a0)](_0x39f48e,_0x18c7f0){const _0x3195aa=a0_0x57c7f3;return await this[_0x3195aa(0x3c3)][_0x3195aa(0x240)][_0x39f48e['instanceName']][_0x3195aa(0x34f)](_0x18c7f0);}async[a0_0x57c7f3(0x48e)](_0xd32224,_0x49090b){const _0x64870c=a0_0x57c7f3;return await this[_0x64870c(0x3c3)]['waInstances'][_0xd32224[_0x64870c(0x145)]][_0x64870c(0x48e)](_0x49090b);}async['leaveGroup'](_0x5c2508,_0x50ad35){const _0x131dab=a0_0x57c7f3;return await this[_0x131dab(0x3c3)][_0x131dab(0x240)][_0x5c2508[_0x131dab(0x145)]]['leaveGroup'](_0x50ad35);}},Ft=class{constructor(_0x35d6a8,_0x41f065){const _0x3c0c0e=a0_0x57c7f3;this[_0x3c0c0e(0x1f5)]=_0x35d6a8,this[_0x3c0c0e(0x2f8)]=_0x41f065;}async[a0_0x57c7f3(0x5b6)](_0x11458a,_0x32232e){const _0x375c66=a0_0x57c7f3;try{let _0x33a4db=_0x11458a[_0x375c66(0x4fd)];if(this['waMonit'][_0x375c66(0x240)][_0x33a4db[_0x375c66(0x145)]]['connectionStatus'][_0x375c66(0x4d1)]===_0x375c66(0x4c5))throw new m(_0x375c66(0x40d));let _0x19e4a6=this[_0x375c66(0x2f8)][_0x375c66(0x141)]('AUTHENTICATION')[_0x375c66(0x347)];return _0x32232e[_0x375c66(0x255)](0xc8)['render'](_0x375c66(0x5b6),{'type':_0x19e4a6,..._0x33a4db});}catch(_0x3aa190){console[_0x375c66(0x40c)]('ERROR:\x20',_0x3aa190);}}},Gt=class{constructor(_0x514a1d){const _0x5b0351=a0_0x57c7f3;this[_0x5b0351(0x3c3)]=_0x514a1d;}['create'](_0x558ea8,_0x46457a){const _0x41d438=a0_0x57c7f3;return this[_0x41d438(0x3c3)][_0x41d438(0x240)][_0x558ea8[_0x41d438(0x145)]][_0x41d438(0x149)](_0x46457a);}async[a0_0x57c7f3(0x354)](_0x2ba380){const _0xdc0c7f=a0_0x57c7f3;try{return await this['waMonitor'][_0xdc0c7f(0x240)][_0x2ba380['instanceName']][_0xdc0c7f(0x640)]();}catch{return{'enabled':null,'url':''};}}},Zu=new v(a0_0x57c7f3(0x341)),qt=class{constructor(_0x5e773f){this['waMonitor']=_0x5e773f;}async[a0_0x57c7f3(0x31a)](_0x33c98d,_0x47b24f){const _0x163785=a0_0x57c7f3;return await this['waMonitor'][_0x163785(0x240)][_0x33c98d[_0x163785(0x145)]][_0x163785(0x31a)](_0x47b24f);}async['getScheduleMessage'](_0x564f5f){const _0x33fb77=a0_0x57c7f3;return await this[_0x33fb77(0x3c3)][_0x33fb77(0x240)][_0x564f5f[_0x33fb77(0x145)]][_0x33fb77(0x67e)]();}async[a0_0x57c7f3(0xd5)](_0x1d1127){const _0x14241a=a0_0x57c7f3;return await this[_0x14241a(0x3c3)][_0x14241a(0x240)][_0x1d1127[_0x14241a(0x145)]][_0x14241a(0xd5)]();}async[a0_0x57c7f3(0x56a)](_0x9a1c38){const _0x27db5f=a0_0x57c7f3;return await this[_0x27db5f(0x3c3)][_0x27db5f(0x240)][_0x9a1c38['instanceName']][_0x27db5f(0x56a)]();}async[a0_0x57c7f3(0x555)](_0x355698,_0x111ec6){const _0x4c4b93=a0_0x57c7f3;return await this['waMonitor'][_0x4c4b93(0x240)][_0x355698[_0x4c4b93(0x145)]][_0x4c4b93(0x555)](_0x111ec6);}async[a0_0x57c7f3(0x421)](_0x16c9a5,_0xf4d410){const _0x5dce94=a0_0x57c7f3;return await this['waMonitor']['waInstances'][_0x16c9a5['instanceName']][_0x5dce94(0x421)](_0xf4d410);}async['updateFlowConfig'](_0x53e2e7,_0x55032d){const _0x5c2e1a=a0_0x57c7f3;return await this[_0x5c2e1a(0x3c3)]['waInstances'][_0x53e2e7['instanceName']][_0x5c2e1a(0x5eb)](_0x55032d);}async[a0_0x57c7f3(0xef)](_0x2ac9fb,_0x4a98a2){const _0x732ada=a0_0x57c7f3;return await this['waMonitor'][_0x732ada(0x240)][_0x2ac9fb[_0x732ada(0x145)]][_0x732ada(0xef)](_0x4a98a2);}async[a0_0x57c7f3(0x229)](_0x461bd8,_0x55d545){const _0x2cbfdb=a0_0x57c7f3;return await this[_0x2cbfdb(0x3c3)]['waInstances'][_0x461bd8[_0x2cbfdb(0x145)]][_0x2cbfdb(0x229)](_0x55d545);}async[a0_0x57c7f3(0x219)](_0x3d06d7,_0x1a02d3){const _0x30b77c=a0_0x57c7f3;return await this[_0x30b77c(0x3c3)][_0x30b77c(0x240)][_0x3d06d7['instanceName']][_0x30b77c(0x219)](_0x1a02d3);}async[a0_0x57c7f3(0x40f)](_0x11eaeb,_0x49aa67){const _0x37a8e5=a0_0x57c7f3;return await this[_0x37a8e5(0x3c3)][_0x37a8e5(0x240)][_0x11eaeb[_0x37a8e5(0x145)]]['editConversation'](_0x49aa67);}async[a0_0x57c7f3(0x593)](_0x32c730,_0x26785f){const _0xd12834=a0_0x57c7f3;return await this[_0xd12834(0x3c3)]['waInstances'][_0x32c730['instanceName']][_0xd12834(0x593)](_0x26785f);}async[a0_0x57c7f3(0x3a1)](_0x50eb1a,_0x5d0e58){const _0x28b99a=a0_0x57c7f3;return await this[_0x28b99a(0x3c3)]['waInstances'][_0x50eb1a['instanceName']]['getFlow'](_0x5d0e58[_0x28b99a(0x17c)]);}async[a0_0x57c7f3(0x32d)](_0x3a6a24,_0x291682){const _0x5cc915=a0_0x57c7f3;return await this[_0x5cc915(0x3c3)]['waInstances'][_0x3a6a24[_0x5cc915(0x145)]]['createFlow'](_0x291682);}async[a0_0x57c7f3(0x1f7)](_0x2b40b6,_0x42abab){const _0x414879=a0_0x57c7f3;return await this[_0x414879(0x3c3)][_0x414879(0x240)][_0x2b40b6['instanceName']]['editFlow'](_0x42abab);}async[a0_0x57c7f3(0x21d)](_0x35b405,_0x3b2b6e){const _0x513087=a0_0x57c7f3;return await this[_0x513087(0x3c3)][_0x513087(0x240)][_0x35b405[_0x513087(0x145)]][_0x513087(0x21d)](_0x3b2b6e);}async[a0_0x57c7f3(0x65c)](_0x531148,_0xfe00a4){const _0x520b27=a0_0x57c7f3;return await this['waMonitor'][_0x520b27(0x240)][_0x531148['instanceName']][_0x520b27(0x65c)](_0xfe00a4);}async[a0_0x57c7f3(0x52a)](_0x2fc78e,_0x1d4ea8){const _0x5a9aa0=a0_0x57c7f3;return await this[_0x5a9aa0(0x3c3)][_0x5a9aa0(0x240)][_0x2fc78e[_0x5a9aa0(0x145)]][_0x5a9aa0(0x52a)](_0x1d4ea8);}async[a0_0x57c7f3(0x3d1)](_0x3eff5a,_0x363677){const _0x2feea5=a0_0x57c7f3;return await this[_0x2feea5(0x3c3)]['waInstances'][_0x3eff5a[_0x2feea5(0x145)]][_0x2feea5(0x3d1)](_0x363677);}async[a0_0x57c7f3(0x23c)](_0x1993da,_0x1411c7){const _0xdd75ba=a0_0x57c7f3;return await this['waMonitor'][_0xdd75ba(0x240)][_0x1993da[_0xdd75ba(0x145)]]['editFlowVaredit'](_0x1411c7);}async[a0_0x57c7f3(0x3d9)](_0x3794a5,_0x18e99d){const _0x292b52=a0_0x57c7f3;return await this[_0x292b52(0x3c3)][_0x292b52(0x240)][_0x3794a5[_0x292b52(0x145)]]['editFlowVariable'](_0x18e99d);}async[a0_0x57c7f3(0x52e)](_0x4958b4,_0xe56b3f){const _0x4ef747=a0_0x57c7f3;return await this['waMonitor'][_0x4ef747(0x240)][_0x4958b4[_0x4ef747(0x145)]][_0x4ef747(0x52e)](_0xe56b3f['name']);}async[a0_0x57c7f3(0x1db)](_0x55a7fd){const _0xa7a691=a0_0x57c7f3;return await this[_0xa7a691(0x3c3)][_0xa7a691(0x240)][_0x55a7fd[_0xa7a691(0x145)]]['allFlows']();}},Jt=class{constructor(_0x3dcaa8){this['webhookService']=_0x3dcaa8;}async[a0_0x57c7f3(0x1cf)](_0x3fbbf2,_0x273bf1){const _0x68a81e=a0_0x57c7f3;return this['webhookService'][_0x68a81e(0x411)](_0x3fbbf2,_0x273bf1);}async['findWebhook'](_0x276ded){const _0x302a53=a0_0x57c7f3;return this[_0x302a53(0x127)][_0x302a53(0x354)](_0x276ded);}},Wt=class{constructor(_0x33c039,_0x5b3b10,_0xa7cc3,_0x530d80,_0x16ed7d,_0xce2985,_0x43137a){const _0x1f4ce3=a0_0x57c7f3;this[_0x1f4ce3(0x420)]=_0x33c039,this[_0x1f4ce3(0x64d)]=_0x5b3b10,this[_0x1f4ce3(0x119)]=_0xa7cc3,this[_0x1f4ce3(0x3e9)]=_0x530d80,this[_0x1f4ce3(0x64a)]=_0x16ed7d,this['auth']=_0xce2985,this[_0x1f4ce3(0x337)]=_0x43137a;}get[a0_0x57c7f3(0x669)](){const _0x410b3=a0_0x57c7f3;return this[_0x410b3(0x337)];}},Ts=require(a0_0x57c7f3(0x681)),Ns=class{},pi=new Ts[(a0_0x57c7f3(0x2e9))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String,'minlength':0x3,'enum':[a0_0x57c7f3(0x299),a0_0x57c7f3(0x4f6),a0_0x57c7f3(0x112)]},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),ho=M?.[a0_0x57c7f3(0x3ef)](Ns[a0_0x57c7f3(0x17c)],pi,a0_0x57c7f3(0x16f)),vs=class{},mi=new Ts[(a0_0x57c7f3(0x2e9))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String,'required':!0x0,'min':0x1},'id':{'type':String,'required':!0x0,'min':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'min':0x1},'datetime':{'type':Number,'required':!0x0,'min':0x1},'status':{'type':String,'required':!0x0},'owner':{'type':String,'required':!0x0,'min':0x1}}),fo=M?.['model'](vs[a0_0x57c7f3(0x17c)],mi,a0_0x57c7f3(0x3e9)),wo=require(a0_0x57c7f3(0x681)),Rs=class{},gi=new wo[(a0_0x57c7f3(0x2e9))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1}}),yo=M?.['model'](Rs['name'],gi,a0_0x57c7f3(0x4dd)),bo=require(a0_0x57c7f3(0x681)),Ms=class{},So=new bo['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});So[a0_0x57c7f3(0x3b9)](a0_0x57c7f3(0x319),function(_0x54df44){const _0x22814d=a0_0x57c7f3;delete this[_0x22814d(0x334)],delete this[_0x22814d(0x4d6)],delete this['flowPrefixCommand'],delete this[_0x22814d(0x20e)],delete this[_0x22814d(0x538)],_0x54df44();});var Eo=M?.[a0_0x57c7f3(0x3ef)](Ms['name'],So,'webhook'),As=require(a0_0x57c7f3(0x272)),Co=require('fs'),Ht=class extends j{constructor(_0x3cdadc,_0x5ecbd6){const _0x2dfb5a=a0_0x57c7f3;super(_0x5ecbd6),this['webhookModel']=_0x3cdadc,this[_0x2dfb5a(0x2f8)]=_0x5ecbd6;}async['create'](_0x915b2b,_0x4f5ae1){const _0x5746ac=a0_0x57c7f3;try{return this[_0x5746ac(0x142)][_0x5746ac(0x528)]?{'insertCount':(await this[_0x5746ac(0x5db)][_0x5746ac(0x128)]({'_id':_0x4f5ae1},{..._0x915b2b},{'upsert':!0x0}))[_0x5746ac(0x1af)]}:(this['writeStore']({'path':(0x0,As[_0x5746ac(0x1b9)])(this['storePath'],'webhook'),'fileName':_0x4f5ae1,'data':_0x915b2b}),{'insertCount':0x1});}catch(_0x5e9f6b){return _0x5e9f6b;}}async[a0_0x57c7f3(0x354)](_0x415e27){const _0x27edb8=a0_0x57c7f3;try{return this[_0x27edb8(0x142)]['ENABLED']?await this['webhookModel'][_0x27edb8(0xd7)]({'_id':_0x415e27}):JSON[_0x27edb8(0x42c)]((0x0,Co[_0x27edb8(0x503)])((0x0,As[_0x27edb8(0x1b9)])(this[_0x27edb8(0x636)],_0x27edb8(0x64a),_0x415e27+'.json'),{'encoding':'utf-8'}));}catch{return{};}}},Is=require(a0_0x57c7f3(0x272)),No=require('fs'),Kt=class extends j{constructor(_0x387365,_0x140634){const _0x2f8566=a0_0x57c7f3;super(_0x140634),this[_0x2f8566(0x2ba)]=_0x387365,this[_0x2f8566(0x2f8)]=_0x140634,this[_0x2f8566(0x286)]=_0x140634[_0x2f8566(0x141)]('AUTHENTICATION');}async['create'](_0x4cede1,_0x40e7b7){const _0x1d0ecb=a0_0x57c7f3;try{return this[_0x1d0ecb(0x142)]['ENABLED']?{'insertCount':(await this[_0x1d0ecb(0x2ba)][_0x1d0ecb(0x128)]({'_id':_0x40e7b7},{..._0x4cede1},{'upsert':!0x0}))[_0x1d0ecb(0x1af)]}:(this[_0x1d0ecb(0x102)]({'path':(0x0,Is[_0x1d0ecb(0x1b9)])(Qt,this[_0x1d0ecb(0x286)][_0x1d0ecb(0x347)]),'fileName':_0x40e7b7,'data':_0x4cede1}),{'insertCount':0x1});}catch(_0x5ae3e2){return{'error':_0x5ae3e2};}}async[a0_0x57c7f3(0x354)](_0x1faeda){const _0x521e36=a0_0x57c7f3;try{return this[_0x521e36(0x142)][_0x521e36(0x528)]?await this[_0x521e36(0x2ba)][_0x521e36(0xd7)]({'_id':_0x1faeda}):JSON[_0x521e36(0x42c)]((0x0,No[_0x521e36(0x503)])((0x0,Is[_0x521e36(0x1b9)])(Qt,this[_0x521e36(0x286)]['TYPE'],_0x1faeda+_0x521e36(0x4b6)),{'encoding':_0x521e36(0x64b)}));}catch{return{};}}},hi=new v('WA\x20MODULE'),fi=new je(ho,y),wi=new Lt(R,y),yi=new Ze(Fe,y),bi=new st(fo,y),Si=new Ht(Eo,y),Ei=new Kt(yo,y),ue=new Wt(fi,wi,yi,bi,Si,Ei,M?.['getClient']()),B=new kt(es,y,ue),Ci=new gt(y,B,ue),Ni=new Gt(B),fs=new Jt(Ni),A=new qt(B),ne=new Vt(B,y,ue,es,Ci),Qa=new Ft(B,y),W=new jt(B),P=new Ut(B),U=new Bt(B);hi['info']('Module\x20-\x20ON');var up=require(a0_0x57c7f3(0x29e)),Ds=require('fs'),vo=T(require(a0_0x57c7f3(0x55f))),To=T(require('http')),$e=class l{static #e;static set['app'](_0x1ecaf7){this.#e=_0x1ecaf7;}static get[a0_0x57c7f3(0x55f)](){const _0x17a78b=a0_0x57c7f3;let {FULLCHAIN:_0x3498df,PRIVKEY:_0x9b636f}=y[_0x17a78b(0x141)](_0x17a78b(0x17b));return vo[_0x17a78b(0x525)]({'cert':(0x0,Ds['readFileSync'])(_0x3498df),'key':(0x0,Ds[_0x17a78b(0x503)])(_0x9b636f)},l.#e);}static get[a0_0x57c7f3(0x34d)](){const _0x1e300c=a0_0x57c7f3;return To[_0x1e300c(0x525)](l.#e);}},ke=T(require('fs')),Po=T(require(a0_0x57c7f3(0x4e3))),Le=T(require(a0_0x57c7f3(0x665))),zt=T(require('path')),_o=require(a0_0x57c7f3(0x2f5)),$s=require('child_process');function vi(){const _0x3072e5=a0_0x57c7f3;B[_0x3072e5(0x153)]();let _0x58bb67=zt[_0x3072e5(0x19b)]['join'](__dirname,'downloads');Oo(_0x58bb67);}var Oo=_0x3d7e55=>{const _0x154948=a0_0x57c7f3;let _0x46bdbc=ke[_0x154948(0x19b)][_0x154948(0x679)](_0x3d7e55),_0x30d827=0xc*0x3c*0x3c*0x3e8,_0x3ad28c=0x2*0x3c*0x3c*0x3e8,_0x26a1de=new Date()['getTime']();_0x46bdbc[_0x154948(0x2cb)](_0x168e16=>{const _0x11eeac=_0x154948;let _0x281611=zt[_0x11eeac(0x19b)][_0x11eeac(0x1b9)](_0x3d7e55,_0x168e16),_0x4c994c=ke[_0x11eeac(0x19b)][_0x11eeac(0x194)](_0x281611)[_0x11eeac(0x177)][_0x11eeac(0x1c5)]();_0x26a1de-_0x4c994c>_0x30d827&&(ke[_0x11eeac(0x19b)]['unlinkSync'](_0x281611),console[_0x11eeac(0x40c)](_0x11eeac(0x278)+_0x168e16));}),setTimeout(()=>Oo(_0x3d7e55),_0x3ad28c);};function Ti(){const _0x3492de=a0_0x57c7f3;let _0x4d34d8=new v(_0x3492de(0x612)),_0x25a47a=(0x0,me[_0x3492de(0x19b)])();_0x25a47a[_0x3492de(0x36b)]((0x0,Do[_0x3492de(0x19b)])({'origin'(_0x2a5bee,_0x2db06e){const _0x3e5ab7=_0x3492de;let {ORIGIN:_0x4a3e18}=y['get'](_0x3e5ab7(0x676));return _0x2a5bee||(_0x2a5bee='*'),_0x4a3e18[_0x3e5ab7(0x236)]('*')!==-0x1||_0x4a3e18[_0x3e5ab7(0x236)](_0x2a5bee)!==-0x1?_0x2db06e(null,!0x0):_0x2db06e(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...y[_0x3492de(0x141)](_0x3492de(0x676))[_0x3492de(0x58a)]],'credentials':y[_0x3492de(0x141)](_0x3492de(0x676))['CREDENTIALS']}),(0x0,me[_0x3492de(0x41f)])({'extended':!0x0,'limit':'50mb'}),(0x0,me[_0x3492de(0x587)])({'limit':_0x3492de(0x58e)})),_0x25a47a[_0x3492de(0x36b)]((_0x85d4b6,_0x53c2b8,_0x12ca50)=>{const _0x2c916c=_0x3492de;_0x85d4b6[_0x2c916c(0x272)]['startsWith'](_0x2c916c(0x29d))?_0x12ca50():(0x0,Io['default'])()(_0x85d4b6,_0x53c2b8,_0x12ca50);}),_0x25a47a['set']('view\x20engine',_0x3492de(0x221)),_0x25a47a[_0x3492de(0x3e2)](_0x3492de(0x41a),(0x0,Ps[_0x3492de(0x1b9)])(z,_0x3492de(0x41a))),_0x25a47a[_0x3492de(0x36b)](me['default'][_0x3492de(0x3f2)]((0x0,Ps[_0x3492de(0x1b9)])(z,_0x3492de(0x279)))),_0x25a47a[_0x3492de(0x36b)]((_0xf85775,_0x2f4053,_0x4e684d)=>{const _0x3a7c2a=_0x3492de;let _0x6d3ce1=_0x2f4053[_0x3a7c2a(0x47f)];_0x2f4053['send']=function(_0x594de8){const _0x271bac=_0x3a7c2a;if(_0xf85775[_0x271bac(0x1e8)]['convert']===_0x271bac(0x30f)||_0xf85775['headers'][_0x271bac(0x431)]===_0x271bac(0x30f)){let _0x2666c7=JSON[_0x271bac(0x42c)](_0x594de8);_0x594de8=JSON['stringify'](_0x4c9ca6(_0x2666c7));}return _0x6d3ce1['apply'](_0x2f4053,[_0x594de8]);},_0x4e684d();}),_0x25a47a[_0x3492de(0x36b)]('/',Ot),_0x25a47a[_0x3492de(0x36b)]((_0x2a6c79,_0x2cbb2a,_0x361cef,_0x4729a7)=>{const _0x249e41=_0x3492de;if(_0x2a6c79)return _0x361cef[_0x249e41(0x255)](_0x2a6c79[_0x249e41(0x255)]||0x1f4)[_0x249e41(0x587)](_0x2a6c79);},(_0x3252e6,_0x425cde,_0x1949e2)=>{const _0x3d485b=_0x3492de;let {method:_0x317cd8,url:_0x56a240}=_0x3252e6;_0x425cde[_0x3d485b(0x255)](0x194)['json']({'status':0x194,'message':'Cannot\x20'+_0x317cd8[_0x3d485b(0x569)]()+'\x20'+_0x56a240,'error':_0x3d485b(0x499)}),_0x1949e2();});let _0x4c9ca6=(_0x3363e7,_0x394f35=_0x3492de(0x1fc))=>{const _0x524b70=_0x3492de;let _0x2ca241=(_0x294758,_0x294763=null,_0x2e3ee6=!0x1)=>{const _0x565cc6=a0_0x2228;let _0x356b05={};return Object[_0x565cc6(0x53a)](_0x294758)[_0x565cc6(0x2cb)](_0x248e8c=>{const _0x2b5bbd=_0x565cc6;let _0x3c45fb=_0x294758[_0x248e8c],_0x40fb81=''+_0x394f35+_0x248e8c;_0x294763&&!_0x2e3ee6&&(_0x40fb81=_0x294763+'.'+_0x248e8c),!_0x3c45fb&&_0x3c45fb!==0x0&&_0x3c45fb!==!0x1||typeof _0x3c45fb>'u'?_0x356b05[_0x40fb81]=null:typeof _0x3c45fb!='object'&&!Array['isArray'](_0x3c45fb)?_0x356b05[_0x40fb81]=_0x3c45fb:typeof _0x3c45fb==_0x2b5bbd(0x30e)&&!Array[_0x2b5bbd(0x3d7)](_0x3c45fb)?_0x356b05=Object[_0x2b5bbd(0x33e)](_0x356b05,_0x2ca241(_0x3c45fb,_0x40fb81)):Array['isArray'](_0x3c45fb)&&(typeof _0x3c45fb[0x0]==_0x2b5bbd(0x30e)?(_0x356b05[_0x40fb81]=[],_0x3c45fb[_0x2b5bbd(0x2cb)](_0x28dfcd=>{const _0x543eaa=_0x2b5bbd;_0x356b05[_0x40fb81][_0x543eaa(0x524)](_0x2ca241(_0x28dfcd,_0x40fb81,!0x0));})):_0x356b05[_0x40fb81]=_0x3c45fb);}),_0x356b05;};return Array[_0x524b70(0x3d7)](_0x3363e7)?_0x3363e7['map'](_0x76b337=>_0x2ca241(_0x76b337)):typeof _0x3363e7=='object'&&_0x3363e7!==null?_0x2ca241(_0x3363e7):{};},_0x42ef26=y[_0x3492de(0x141)]('SERVER');$e['app']=_0x25a47a;let _0x249b05=$e[_0x42ef26[_0x3492de(0x347)]],_0x2221fb=_0x3492de(0x624);_0x249b05[_0x3492de(0x5a6)](_0x42ef26[_0x3492de(0x1fd)],()=>{const _0x1caefb=_0x3492de;_0x4d34d8[_0x1caefb(0x40c)](_0x2221fb),_0x4d34d8[_0x1caefb(0x40c)](_0x42ef26['TYPE'][_0x1caefb(0x569)]()+_0x1caefb(0x2c3)+_0x42ef26['PORT']);}),vi(),Ws();}function _s(_0x1f853d,_0x495977){return new Promise(_0x2b8546=>{(0x0,_o['exec'])(_0x1f853d+'\x20'+_0x495977,_0x3023b2=>{_0x2b8546(!_0x3023b2);});});}function Ro(_0x56609c,_0x3317d7,_0x9dbc6a){return new Promise(_0x16bf4e=>{const _0x5e5d2a=a0_0x2228;_s(_0x56609c,_0x9dbc6a)[_0x5e5d2a(0x1f0)](_0x2b8591=>{const _0x324a0b=_0x5e5d2a;if(_0x2b8591)_0x16bf4e(!0x0);else{let [_0x44fdb3,..._0xd9a1bd]=_0x3317d7['split']('\x20'),_0x1d6f32=(0x0,$s[_0x324a0b(0x3e4)])(_0x44fdb3,_0xd9a1bd,{'shell':!0x0});_0x1d6f32[_0x324a0b(0x1dc)]['on']('data',_0xeebda5=>{const _0x5f2782=_0x324a0b;console['log'](_0x56609c+_0x5f2782(0x45a)+_0xeebda5);}),_0x1d6f32['stderr']['on']('data',_0x2ea40c=>{const _0x2e2d48=_0x324a0b;console[_0x2e2d48(0x5e3)](_0x56609c+_0x2e2d48(0x1cb)+_0x2ea40c);}),_0x1d6f32['on']('exit',_0x42b22d=>{const _0x2ab7e2=_0x324a0b;_0x42b22d!==0x0?(console[_0x2ab7e2(0x5e3)](_0x2ab7e2(0x66d)+_0x56609c+_0x2ab7e2(0x3bf)+_0x42b22d),_0x16bf4e(!0x1)):_0x16bf4e(!0x0);});}});});}var Ri=a0_0x57c7f3(0x54e),Mi=zt[a0_0x57c7f3(0x19b)][a0_0x57c7f3(0x1b9)](__dirname,a0_0x57c7f3(0x4bc)),Ne=null;function Ai(){return new Promise((_0x436fde,_0x500226)=>{const _0x3d1cad=a0_0x2228;ke[_0x3d1cad(0x19b)][_0x3d1cad(0x387)](Mi,_0x3d1cad(0x64b),(_0x60a496,_0xb121ca)=>{const _0xf43eba=_0x3d1cad;if(_0x60a496){Ne=_0x60a496,_0x436fde();return;}Po[_0xf43eba(0x19b)][_0xf43eba(0x42c)](_0xb121ca)['remote\x20\x22origin\x22'][_0xf43eba(0x3c6)]===Ri?(Ne=null,_0x436fde()):(Ne=new Error(_0xf43eba(0x2c5)),_0x436fde());});});}async function Ii(){const _0x192701=a0_0x57c7f3;try{await Ai(),await xs();}catch(_0x1f7543){console[_0x192701(0x5e3)](_0x192701(0x4e4)+_0x1f7543),process['exit'](0x1);}}Ii();async function xo(){const _0x2e3c8c=a0_0x57c7f3;let _0x2f0eac;try{_0x2f0eac=(await Le[_0x2e3c8c(0x19b)]['get'](_0x2e3c8c(0x237)))[_0x2e3c8c(0x51a)]['ip'];}catch(_0x5640d8){console['error'](_0x5640d8);try{_0x2f0eac=(await Le[_0x2e3c8c(0x19b)][_0x2e3c8c(0x141)](_0x2e3c8c(0x218)))[_0x2e3c8c(0x51a)]['ip'];}catch(_0x517bcb){console['error'](_0x517bcb);try{_0x2f0eac=(await Le[_0x2e3c8c(0x19b)][_0x2e3c8c(0x141)]('http://checkip.dyndns.org'))[_0x2e3c8c(0x51a)][_0x2e3c8c(0x288)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x1b788a){return console['error'](_0x1b788a),!0x1;}}}return _0x2f0eac;}async function Di(){const _0x2a4747=a0_0x57c7f3;Ne||(await Ro('redis-server',_0x2a4747(0x35d),_0x2a4747(0x64e)),await Ro(_0x2a4747(0x2a5),_0x2a4747(0x170),_0x2a4747(0x416)));}var Mo=0x0;async function Oi(){const _0x369e54=a0_0x57c7f3;Di();let _0x5efec8=await _s(_0x369e54(0x258),_0x369e54(0x64e)),_0x1c2b80=await _s(_0x369e54(0x2a5),_0x369e54(0x416)),_0x23ab24=y['get'](_0x369e54(0x292)),_0x9ec24e=y[_0x369e54(0x141)]('AUTOUPDATE'),_0x544580=y[_0x369e54(0x141)]('AUTHENTICATION')['API_KEY']['KEY'],_0x2cff6b=y[_0x369e54(0x141)]('SSL_CONF'),_0x413d04=await xo(),_0x51c499=y[_0x369e54(0x141)](_0x369e54(0x612))[_0x369e54(0x1fd)],_0x1c81d9=y[_0x369e54(0x141)](_0x369e54(0x511));try{let _0x26c8f0={'ip':_0x413d04||null,'redis_instalado':_0x5efec8||null,'ffmpeg_instalado':_0x1c2b80||null,'redis_enable':_0x23ab24?.[_0x369e54(0x528)]||null,'autoupdate':_0x9ec24e||null,'apikey':_0x544580||null,'ssl':_0x2cff6b?.[_0x369e54(0x606)]||null,'lastupdate':$o||null,'port':_0x51c499||null,'phone':_0x1c81d9||null,'gitInstallError':Ne?.[_0x369e54(0x420)]||null};console[_0x369e54(0x40c)](_0x369e54(0x43f),_0x26c8f0['ip']);for(let _0x504858 in _0x26c8f0)_0x26c8f0[_0x369e54(0x357)](_0x504858)&&_0x504858!=='ip'&&(_0x26c8f0[_0x504858]=JSON['stringify'](_0x26c8f0[_0x504858]));return(await Le[_0x369e54(0x19b)][_0x369e54(0x626)](_0x369e54(0x140),_0x26c8f0))['data'];}catch(_0x6012f){return console[_0x369e54(0x5e3)](_0x6012f),!0x1;}finally{}}var Os=!0x1,$o=0x205,Pi=0x3,Ao=0x1b7740;async function xs(){const _0x3c7993=a0_0x57c7f3;if(!await xo())return console[_0x3c7993(0x5e3)](_0x3c7993(0x47c)),_0x3c7993(0x3cd);let _0x38543c=await Oi();if(_0x38543c){if(_0x38543c[_0x3c7993(0x1b1)][_0x3c7993(0x5fa)]===!0x0){let _0x2db360=y['get'](_0x3c7993(0x19c));Ne===null&&_0x2db360!==_0x3c7993(0x2f7)&&_0x38543c['response'][_0x3c7993(0x227)]-$o>0x0&&await _i(),Os||(Os=!0x0,Ti());}else return console[_0x3c7993(0x40c)](_0x3c7993(0x2f9)),Os&&(console['log'](_0x3c7993(0x217)),process[_0x3c7993(0x144)]()),'LICENSE_INVALID';let _0x195f90=0x24*0x3c*0x3c,_0x56dbe3=_0x38543c['response'][_0x3c7993(0x52d)]>_0x195f90?_0x195f90:_0x38543c[_0x3c7993(0x1b1)][_0x3c7993(0x52d)],_0x2ad09e=Number(_0x56dbe3);if(isNaN(_0x2ad09e)){console[_0x3c7993(0x5e3)](_0x3c7993(0x429));return;}let _0x43d322=Math[_0x3c7993(0x657)](_0x2ad09e/0xe10),_0x33eadb=Math[_0x3c7993(0x657)](_0x2ad09e%0xe10/0x3c),_0x521067=new Date(Date[_0x3c7993(0xe3)]()+_0x2ad09e*0x3e8);setTimeout(xs,_0x2ad09e*0x3e8);let _0x6b540e=_0x5907a2=>_0x5907a2[_0x3c7993(0x5d3)]()[_0x3c7993(0x2ea)](0x2,'0'),_0x9fc1eb=_0x3c7993(0x36d)+_0x6b540e(_0x43d322)+_0x3c7993(0x120)+_0x6b540e(_0x33eadb)+_0x3c7993(0x2eb)+_0x6b540e(_0x521067[_0x3c7993(0x637)]())+':'+_0x6b540e(_0x521067[_0x3c7993(0x66c)]());console[_0x3c7993(0x40c)](_0x9fc1eb);}else{if(Mo++,Mo<Pi)console[_0x3c7993(0x40c)](_0x3c7993(0x1c7)+Ao/0xea60+_0x3c7993(0x2c9)),setTimeout(xs,Ao);else return console[_0x3c7993(0x5e3)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),'SERVER_OFFLINE';}}async function _i(){const _0x360ba3=a0_0x57c7f3;console[_0x360ba3(0x40c)](_0x360ba3(0x2d8));let _0x35e49f=(0x0,$s[_0x360ba3(0x3e4)])(_0x360ba3(0x225),{'shell':!0x0});_0x35e49f[_0x360ba3(0x1dc)]['on'](_0x360ba3(0x51a),_0x287002=>{const _0x112a14=_0x360ba3;console[_0x112a14(0x40c)](_0x112a14(0x48f)+_0x287002);}),_0x35e49f['stderr']['on'](_0x360ba3(0x51a),_0x5009ba=>{const _0xf4c515=_0x360ba3;console['error'](_0xf4c515(0x5f7)+_0x5009ba);}),_0x35e49f['on'](_0x360ba3(0x144),_0x145317=>{const _0x2731f0=_0x360ba3;_0x145317!==0x0?console[_0x2731f0(0x5e3)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x145317):console['log'](_0x2731f0(0xd2)),console[_0x2731f0(0x40c)](_0x2731f0(0x425)),setTimeout(()=>process[_0x2731f0(0x144)](),0x2710);});}