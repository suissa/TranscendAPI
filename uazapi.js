const a0_0x466431=a0_0x192a;(function(_0x4dbebe,_0x5677a8){const _0x2fe4b5=a0_0x192a,_0x254c27=_0x4dbebe();while(!![]){try{const _0x1f3b7c=-parseInt(_0x2fe4b5(0x26d))/0x1+parseInt(_0x2fe4b5(0x90a))/0x2*(-parseInt(_0x2fe4b5(0x8c2))/0x3)+-parseInt(_0x2fe4b5(0x54a))/0x4+parseInt(_0x2fe4b5(0x5eb))/0x5*(parseInt(_0x2fe4b5(0x90b))/0x6)+parseInt(_0x2fe4b5(0x719))/0x7*(-parseInt(_0x2fe4b5(0x373))/0x8)+-parseInt(_0x2fe4b5(0x72f))/0x9*(-parseInt(_0x2fe4b5(0x294))/0xa)+-parseInt(_0x2fe4b5(0x5fc))/0xb*(-parseInt(_0x2fe4b5(0x68a))/0xc);if(_0x1f3b7c===_0x5677a8)break;else _0x254c27['push'](_0x254c27['shift']());}catch(_0x18e4f9){_0x254c27['push'](_0x254c27['shift']());}}}(a0_0x66cc,0x96ab9));var Wi=Object['create'],Ve=Object[a0_0x466431(0x77e)],zi=Object[a0_0x466431(0x2fe)],Hi=Object[a0_0x466431(0x678)],Ki=Object[a0_0x466431(0x660)],Qi=Object['prototype'][a0_0x466431(0x5bc)],Yi=(_0xc32429,_0x295ba9)=>{for(var _0x331f10 in _0x295ba9)Ve(_0xc32429,_0x331f10,{'get':_0x295ba9[_0x331f10],'enumerable':!0x0});},Bs=(_0x5721f9,_0x3a5650,_0xe8ed2e,_0x10a16f)=>{const _0x4a12f6=a0_0x466431;if(_0x3a5650&&typeof _0x3a5650==_0x4a12f6(0x3f1)||typeof _0x3a5650=='function'){for(let _0x209bfe of Hi(_0x3a5650))!Qi[_0x4a12f6(0x72c)](_0x5721f9,_0x209bfe)&&_0x209bfe!==_0xe8ed2e&&Ve(_0x5721f9,_0x209bfe,{'get':()=>_0x3a5650[_0x209bfe],'enumerable':!(_0x10a16f=zi(_0x3a5650,_0x209bfe))||_0x10a16f[_0x4a12f6(0x68c)]});}return _0x5721f9;},I=(_0x56b403,_0x3a40b2,_0x4ef27b)=>(_0x4ef27b=_0x56b403!=null?Wi(Ki(_0x56b403)):{},Bs(_0x3a40b2||!_0x56b403||!_0x56b403['__esModule']?Ve(_0x4ef27b,a0_0x466431(0x525),{'value':_0x56b403,'enumerable':!0x0}):_0x4ef27b,_0x56b403)),Xi=_0x241f1f=>Bs(Ve({},a0_0x466431(0x252),{'value':!0x0}),_0x241f1f),gr={};Yi(gr,{'fullURL':()=>Gs,'subdomain':()=>he}),module['exports']=Xi(gr);var Ui=I(require('compression')),zs=require('fs'),Hs=require('js-yaml'),Ks=require(a0_0x466431(0x3b9)),Ge=require('path'),ne=process[a0_0x466431(0x26c)](),be=(0x0,Ge[a0_0x466431(0x473)])(ne,a0_0x466431(0x75a)),Ws=(0x0,Ge[a0_0x466431(0x473)])(ne,'src'),fn=(0x0,Ge['join'])(ne,'store',a0_0x466431(0x3f0)),us=class{constructor(){this['loadEnv']();}[a0_0x466431(0x438)](_0x2b916e){const _0x1cf2aa=a0_0x466431;return this[_0x1cf2aa(0x7ff)][_0x2b916e];}['loadEnv'](){const _0x260ca2=a0_0x466431;this[_0x260ca2(0x7ff)]=process[_0x260ca2(0x7ff)]?.['DOCKER_ENV']!==_0x260ca2(0x854)?this[_0x260ca2(0x6a1)]():this[_0x260ca2(0x197)](),process[_0x260ca2(0x7ff)]?.['DOCKER_ENV']===_0x260ca2(0x854)&&(this[_0x260ca2(0x7ff)]['SERVER'][_0x260ca2(0x918)]='http',this[_0x260ca2(0x7ff)][_0x260ca2(0x8db)]['PORT']=Number['parseInt'](process[_0x260ca2(0x7ff)]?.[_0x260ca2(0x7cd)]??_0x260ca2(0x873)));}[a0_0x466431(0x6a1)](){const _0x1db55b=a0_0x466431;return(0x0,Hs['load'])((0x0,zs[_0x1db55b(0x822)])((0x0,Ks['join'])(Ws,'../env.yml'),{'encoding':_0x1db55b(0x1bb)}));}[a0_0x466431(0x197)](){const _0x5589da=a0_0x466431;return{'SERVER':{'TYPE':process[_0x5589da(0x7ff)][_0x5589da(0x4a6)],'PORT':Number[_0x5589da(0x6d1)](process[_0x5589da(0x7ff)][_0x5589da(0x7cd)]),'URL':process[_0x5589da(0x7ff)]['SERVER_URL']},'CORS':{'ORIGIN':process[_0x5589da(0x7ff)][_0x5589da(0x68b)][_0x5589da(0x38b)](','),'METHODS':process[_0x5589da(0x7ff)][_0x5589da(0x2aa)][_0x5589da(0x38b)](','),'CREDENTIALS':process[_0x5589da(0x7ff)]?.[_0x5589da(0x296)]===_0x5589da(0x854)},'SSL_CONF':{'PRIVKEY':process[_0x5589da(0x7ff)]?.['SSL_CONF_PRIVKEY'],'FULLCHAIN':process[_0x5589da(0x7ff)]?.[_0x5589da(0x245)]},'STORE':{'CLEANING_INTERVAL':Number[_0x5589da(0x20a)](process[_0x5589da(0x7ff)]?.[_0x5589da(0x6d5)])?Number[_0x5589da(0x6d1)](process[_0x5589da(0x7ff)][_0x5589da(0x6d5)]):void 0x0,'MESSAGES':process['env']?.[_0x5589da(0x647)]===_0x5589da(0x854),'CONTACTS':process['env']?.[_0x5589da(0x562)]===_0x5589da(0x854),'CHATS':process[_0x5589da(0x7ff)]?.[_0x5589da(0x3c5)]===_0x5589da(0x854)},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x5589da(0x2c0)],'PORT':Number[_0x5589da(0x6d1)](process[_0x5589da(0x7ff)]?.[_0x5589da(0x2c0)]),'USER':process[_0x5589da(0x7ff)][_0x5589da(0x68d)],'PASSWORD':process[_0x5589da(0x7ff)][_0x5589da(0x5b3)],'URI':process['env'][_0x5589da(0x368)],'DB_PREFIX_NAME':process['env'][_0x5589da(0x887)]},'ENABLED':process[_0x5589da(0x7ff)]?.['DATABASE_ENABLED']===_0x5589da(0x854)},'REDIS':{'ENABLED':process[_0x5589da(0x7ff)]?.[_0x5589da(0x3ad)]===_0x5589da(0x854),'URI':process['env']['REDIS_URI']||_0x5589da(0x5e0),'PREFIX_KEY':process[_0x5589da(0x7ff)]['REDIS_PREFIX_KEY']||_0x5589da(0x2bd)},'LOG':{'LEVEL':process[_0x5589da(0x7ff)]?.[_0x5589da(0x2b8)]['split'](','),'COLOR':process[_0x5589da(0x7ff)]?.[_0x5589da(0x556)]==='true'},'PROXY':process[_0x5589da(0x7ff)]?.[_0x5589da(0x57a)]===_0x5589da(0x854),'AUTHENTICATION':{'TYPE':process['env'][_0x5589da(0x2e8)],'API_KEY':{'KEY':process[_0x5589da(0x7ff)][_0x5589da(0x32b)]},'JWT':{'EXPIRIN_IN':Number['isInteger'](process[_0x5589da(0x7ff)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number['parseInt'](process['env']['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x5589da(0x7ff)][_0x5589da(0x3bc)]}}};}},S=new us(),ji=I(require(a0_0x466431(0x18c))),we=I(require(a0_0x466431(0x64f))),Vs=require(a0_0x466431(0x3b9)),ds=I(require(a0_0x466431(0x534))),ps=(_0x572c4b=>(_0x572c4b[a0_0x466431(0x437)]=a0_0x466431(0x818),_0x572c4b[a0_0x466431(0x330)]=a0_0x466431(0x191),_0x572c4b[a0_0x466431(0x78b)]=a0_0x466431(0x53f),_0x572c4b['ERROR']=a0_0x466431(0x576),_0x572c4b[a0_0x466431(0x749)]=a0_0x466431(0x196),_0x572c4b[a0_0x466431(0x600)]=a0_0x466431(0x3e0),_0x572c4b[a0_0x466431(0x42e)]=a0_0x466431(0x8ff),_0x572c4b))(ps||{}),Qs=(_0x105092=>(_0x105092['LOG']=a0_0x466431(0x48d),_0x105092[a0_0x466431(0x42e)]=a0_0x466431(0x494),_0x105092[a0_0x466431(0x330)]=a0_0x466431(0x509),_0x105092[a0_0x466431(0x78b)]=a0_0x466431(0x4cd),_0x105092[a0_0x466431(0x691)]=a0_0x466431(0x659),_0x105092[a0_0x466431(0x749)]=a0_0x466431(0x6be),_0x105092[a0_0x466431(0x600)]='\x1b[37m%s\x1b[0m',_0x105092))(Qs||{}),Ys=(_0x4888a4=>(_0x4888a4[a0_0x466431(0x437)]=a0_0x466431(0x437),_0x4888a4['WARN']=a0_0x466431(0x78b),_0x4888a4[a0_0x466431(0x330)]='INFO',_0x4888a4[a0_0x466431(0x42e)]=a0_0x466431(0x42e),_0x4888a4[a0_0x466431(0x691)]=a0_0x466431(0x691),_0x4888a4[a0_0x466431(0x749)]=a0_0x466431(0x749),_0x4888a4['VERBOSE']=a0_0x466431(0x600),_0x4888a4))(Ys||{}),Xs=(_0x4b9acc=>(_0x4b9acc['LOG']=a0_0x466431(0x389),_0x4b9acc['INFO']=a0_0x466431(0x7fe),_0x4b9acc[a0_0x466431(0x78b)]='\x1b[43m',_0x4b9acc[a0_0x466431(0x42e)]='\x1b[40m',_0x4b9acc['ERROR']='\x1b[41m',_0x4b9acc[a0_0x466431(0x749)]='\x1b[46m',_0x4b9acc['VERBOSE']=a0_0x466431(0x3aa),_0x4b9acc))(Xs||{}),$=class{constructor(_0x386f7a=a0_0x466431(0x2fb)){const _0x1a7fbc=a0_0x466431;this[_0x1a7fbc(0x8d7)]=_0x386f7a,this[_0x1a7fbc(0x338)]=S;}[a0_0x466431(0x67f)](_0x2a9ef6){this['context']=_0x2a9ef6;}[a0_0x466431(0x87a)](_0x528887,_0xe025bb){const _0x208e6b=a0_0x466431;let _0x22c34a=[];this['configService'][_0x208e6b(0x438)](_0x208e6b(0x437))[_0x208e6b(0x86f)][_0x208e6b(0x4fe)](_0x56f0a7=>_0x22c34a[_0x208e6b(0x543)](Ys[_0x56f0a7]));let _0x2893a7=typeof _0x528887;_0x22c34a['includes'](_0xe025bb)&&(S[_0x208e6b(0x438)](_0x208e6b(0x437))[_0x208e6b(0x7db)]?(console['log'](_0x208e6b(0x47f)+Qs[_0xe025bb],'\x1b[1m\x1b[37m',(0x0,ds['default'])()[_0x208e6b(0x2cd)](_0x208e6b(0x513)),_0x208e6b(0x383),ps[_0xe025bb]+Xs[_0xe025bb]+'\x1b[1m',_0xe025bb+_0x208e6b(0x2bc),_0x208e6b(0x47e),this[_0x208e6b(0x8d7)]+_0x208e6b(0x383),ps[_0xe025bb],_0x2893a7!==_0x208e6b(0x3f1)?_0x528887:'',_0x208e6b(0x383)),_0x2893a7===_0x208e6b(0x3f1)&&console[_0x208e6b(0x913)](_0x528887,'\x0a')):console[_0x208e6b(0x913)]((0x0,ds[_0x208e6b(0x525)])()[_0x208e6b(0x2cd)]('HH:mm:ss'),_0xe025bb+'\x20',''+this['context'],_0x528887));}['log'](_0x16d76d){const _0x48dbaf=a0_0x466431;this['console'](_0x16d76d,_0x48dbaf(0x437));}[a0_0x466431(0x6c6)](_0x50377f){const _0x12bf92=a0_0x466431;this[_0x12bf92(0x87a)](_0x50377f,'INFO');}[a0_0x466431(0x2e7)](_0x45cc42){const _0x3f693b=a0_0x466431;this[_0x3f693b(0x87a)](_0x45cc42,_0x3f693b(0x78b));}['error'](_0xf37d67){const _0x2d252a=a0_0x466431;this[_0x2d252a(0x87a)](_0xf37d67,_0x2d252a(0x691));}[a0_0x466431(0x704)](_0x440bb6){const _0x3f5985=a0_0x466431;this[_0x3f5985(0x87a)](_0x440bb6,_0x3f5985(0x600));}[a0_0x466431(0x8ab)](_0x5e841a){const _0x410f6a=a0_0x466431;this[_0x410f6a(0x87a)](_0x5e841a,_0x410f6a(0x749));}['dark'](_0x146b22){const _0x82503d=a0_0x466431;this[_0x82503d(0x87a)](_0x146b22,'DARK');}};function Zs(){process['on']('uncaughtException',(_0x2c540e,_0x4cc5ec)=>{const _0x475bc7=a0_0x192a;new $(_0x475bc7(0x7ea))['error']({'origin':_0x4cc5ec,'stderr':process[_0x475bc7(0x370)]['fd'],'error':_0x2c540e});}),process['on']('unhandledRejection',(_0x5bb150,_0x5d592e)=>{const _0x41c070=a0_0x192a;new $(_0x41c070(0x4b5))[_0x41c070(0x8d2)]({'origin':_0x5d592e,'stderr':process[_0x41c070(0x370)]['fd'],'error':_0x5bb150});});}var ea=I(require('eventemitter2')),hs=new ea[(a0_0x466431(0x525))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Se=require(a0_0x466431(0x599)),Ae=I(require(a0_0x466431(0x599))),Be=new $(a0_0x466431(0x380)),L=S['get']('DATABASE'),T=L[a0_0x466431(0x613)]?L[a0_0x466431(0x1fc)][a0_0x466431(0x1b7)]?Ae[a0_0x466431(0x525)][a0_0x466431(0x72a)](L[a0_0x466431(0x1fc)][a0_0x466431(0x1b7)],{'dbName':L[a0_0x466431(0x1fc)][a0_0x466431(0x3b8)]+a0_0x466431(0x496)}):Ae[a0_0x466431(0x525)][a0_0x466431(0x72a)](a0_0x466431(0x8c3)+L[a0_0x466431(0x1fc)][a0_0x466431(0x737)]+':'+L[a0_0x466431(0x1fc)][a0_0x466431(0x19f)]+a0_0x466431(0x5a6),{'user':L[a0_0x466431(0x1fc)]['USER'],'pass':L['CONNECTION'][a0_0x466431(0x6b9)],'dbName':L['CONNECTION'][a0_0x466431(0x3b8)]+'-whatsapp-api'}):null;L['ENABLED']&&Be[a0_0x466431(0x6c6)](a0_0x466431(0x46a)+T[a0_0x466431(0x62c)]);var Y=L['ENABLED']?L['CONNECTION'][a0_0x466431(0x1b7)]?Ae[a0_0x466431(0x525)][a0_0x466431(0x72a)](L['CONNECTION']['URI'],{'dbName':'cachedData-whatsapp'}):Ae[a0_0x466431(0x525)]['createConnection'](a0_0x466431(0x8c3)+L['CONNECTION'][a0_0x466431(0x737)]+':'+L[a0_0x466431(0x1fc)][a0_0x466431(0x19f)]+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L['CONNECTION'][a0_0x466431(0x646)],'pass':L[a0_0x466431(0x1fc)]['PASSWORD'],'dbName':a0_0x466431(0x54f)}):null;Y&&Be['info'](a0_0x466431(0x46a)+Y['$dbName']),process['on'](a0_0x466431(0x6c4),()=>{const _0x1926d3=a0_0x466431;T&&T['close'](()=>{const _0x262b50=a0_0x192a;Be[_0x262b50(0x6c6)](_0x262b50(0x8fd));}),Y&&Y[_0x1926d3(0x8e8)](()=>{const _0x39ae1f=_0x1926d3;Be['info'](_0x39ae1f(0x89c));});});var Zi=new Se[(a0_0x466431(0x219))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),eo=new Se[(a0_0x466431(0x219))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),to=new Se['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),so=new Se[(a0_0x466431(0x219))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Zi],'default':[]}},{'_id':!0x1}),ao=new Se['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':so,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':eo},'groupdata':{'type':to,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ta=_0x590981=>{const _0x50512f=a0_0x466431;let _0x9ad5d1='z_'+_0x590981+_0x50512f(0x31e);return T?.['model'](_0x50512f(0x820),ao,_0x9ad5d1);},sa=require(a0_0x466431(0x599)),io=new sa[(a0_0x466431(0x219))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),aa=_0x2b31db=>{const _0x4dffa3=a0_0x466431;let _0x596d07='z_'+_0x2b31db+_0x4dffa3(0x86e);return T?.['model']('ContactModel',io,_0x596d07);},ia=require('mongoose'),gs=class{},oo=new ia['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=Y?.[a0_0x466431(0x6df)](gs[a0_0x466431(0x8d9)],oo,'ContactsAndGroups'),ra=require('mongoose'),ms=class{},ro=new ra[(a0_0x466431(0x219))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),We=Y?.[a0_0x466431(0x6df)](ms[a0_0x466431(0x8d9)],ro,a0_0x466431(0x75a)),ws=require(a0_0x466431(0x599)),fs=class{},no=new ws['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),co=new ws['Schema']({'_id':{'type':String},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=Y?.[a0_0x466431(0x6df)](fs[a0_0x466431(0x8d9)],co,a0_0x466431(0x236)),ca=_0xae7438=>{const _0x3d610a=a0_0x466431;let _0x391623='z_'+_0xae7438+_0x3d610a(0x1be);return T?.[_0x3d610a(0x6df)]('MessageModel',no,_0x391623);},la=require(a0_0x466431(0x599)),ys=class{},lo=new la[(a0_0x466431(0x219))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ua=T?.[a0_0x466431(0x6df)](ys['name'],lo,'authentication'),da=require(a0_0x466431(0x599)),bs=class{},pa=new da[(a0_0x466431(0x219))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});pa[a0_0x466431(0x690)](a0_0x466431(0x539),function(_0x4cdb7d){const _0x6c188f=a0_0x466431;delete this['flowActive'],delete this[_0x6c188f(0x3d9)],delete this[_0x6c188f(0x8c8)],delete this['flowStopConversation'],delete this[_0x6c188f(0x326)],_0x4cdb7d();});var ha=T?.['model'](bs[a0_0x466431(0x8d9)],pa,a0_0x466431(0x680)),P=require(a0_0x466431(0x599)),Ss=require(a0_0x466431(0x6c5)),ze=class{},Ms=class{},ma=new P['Schema']({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Cs=new P['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),uo=new P[(a0_0x466431(0x219))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x466431(0x503)},'footerText':{'type':String},'buttonText':{'type':String,'default':'Selecione'},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x466431(0x7b5)},'pollErrorMessage':{'type':String,'default':a0_0x466431(0x2fa)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),fa=new P[(a0_0x466431(0x219))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),po=new P[(a0_0x466431(0x219))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ho=new P[(a0_0x466431(0x219))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Es=new P['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),go=new P[(a0_0x466431(0x219))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),wa=new P[(a0_0x466431(0x219))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':uo},'apirequest':po,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':go,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),ya=new P[(a0_0x466431(0x219))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ba=new P[(a0_0x466431(0x219))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x398a93=a0_0x466431;return'!cmd_'+Math[_0x398a93(0x8ce)]()[_0x398a93(0x1d0)](0x24)[_0x398a93(0x30a)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':'false'},'startID':{'type':String,'default':()=>(0x0,Ss['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ss['v4'])()},'shareOwners':{'type':[String],'default':[]}});ba[a0_0x466431(0x690)](a0_0x466431(0x886),function(_0x2abae9){const _0x430b86=a0_0x466431;let _0x3d973c=this[_0x430b86(0x73a)]();if(_0x3d973c&&typeof _0x3d973c==_0x430b86(0x3f1)&&_0x430b86(0x72d)in _0x3d973c){let _0x457140=_0x3d973c[_0x430b86(0x72d)];if(_0x457140){let _0x31b0d4=new Set(),_0x754b6c=new Set(_0x457140[_0x430b86(0x49b)]?.[_0x430b86(0x1e8)](_0x425a17=>_0x425a17[_0x430b86(0x8d9)])),_0x22e5ad=JSON['stringify'](_0x457140),_0x5f0f02=/{{(?!_)([^}]*)}}/g,_0x592c2e;for(;(_0x592c2e=_0x5f0f02['exec'](_0x22e5ad))!==null;)_0x754b6c['has'](_0x592c2e[0x1])||_0x31b0d4[_0x430b86(0x83c)](_0x592c2e[0x1]);_0x31b0d4[_0x430b86(0x4e7)]>0x0?(console[_0x430b86(0x2e7)](_0x430b86(0x60b),Array['from'](_0x31b0d4)),_0x457140[_0x430b86(0x182)]=Array[_0x430b86(0x847)](_0x31b0d4)):_0x457140[_0x430b86(0x182)]=[],this[_0x430b86(0x19c)]({'$set':_0x457140});}}_0x2abae9();});var Me=T?.[a0_0x466431(0x6df)](Ms['name'],ba,a0_0x466431(0x246)),mo=new P[(a0_0x466431(0x219))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Es],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ho]},{'_id':!0x1}),fo=new P[(a0_0x466431(0x219))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Es],'blocks':[wa],'groups':[ma],'conditions':[fa],'varedits':[ya],'replyOptions':{'type':[Cs],'default':[]},'chatLog':mo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x466431(0x70d)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[Cs],'default':[]}}),Sa=_0x13f246=>{const _0x174dab=a0_0x466431;let _0x193485='z_'+_0x13f246+'_FlowHistorico';return T?.[_0x174dab(0x6df)](_0x174dab(0x3d3),fo,_0x193485);},wo=new P['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ga=new P[(a0_0x466431(0x219))]({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),yo=new P[(a0_0x466431(0x219))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[ga],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x466431(0x7f4)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[wo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':ga,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ma=_0x5a0099=>{const _0x5bce31=a0_0x466431;let _0x10081a='z_'+_0x5a0099+'_ScheduleMessages';return T?.[_0x5bce31(0x6df)](_0x5bce31(0x8aa),yo,_0x10081a);},vs=class{},bo=new P['Schema']({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),So=new P[(a0_0x466431(0x219))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Mo=new P[(a0_0x466431(0x219))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Co=new P[(a0_0x466431(0x219))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x466431(0x210)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Eo=new P['Schema']({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Mo]},'flowConfig':{'type':Co,'default':{}},'flows':{'type':[So],'default':[]},'autoCompleteMessages':{'type':[bo],'default':[]}}),Te=T?.['model'](vs[a0_0x466431(0x8d9)],Eo,a0_0x466431(0x782)),Ca=require(a0_0x466431(0x599)),No=new Ca[(a0_0x466431(0x219))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),va=_0x1e6021=>{const _0x4a42b7=a0_0x466431;let _0x32cad6='z_'+_0x1e6021+'_Labels';return T?.[_0x4a42b7(0x6df)]('LabelModel',No,_0x32cad6);},O=class{constructor(_0x3b0cde){const _0x57d441=a0_0x466431;this[_0x57d441(0x228)]=_0x3b0cde[_0x57d441(0x438)]('DATABASE');}};function A(_0x369f37){const _0x3859c1=a0_0x466431;let _0x241c7f={};for(let [_0xca2881,_0x3db2d0]of Object['entries'](_0x369f37))if(typeof _0x3db2d0==_0x3859c1(0x3f1)&&!Array[_0x3859c1(0x27b)](_0x3db2d0)){for(let [_0x1d1254,_0xfade2]of Object[_0x3859c1(0x3b3)](_0x3db2d0))_0x241c7f[_0xca2881+'.'+_0x1d1254]=_0xfade2;}else _0x241c7f[_0xca2881]=_0x3db2d0;return _0x241c7f;}var He=class{constructor(_0x46c4bb,_0x472ec6,_0x590b87,_0x4d2496,_0x473172,_0x3e41f0,_0x65be47,_0x4078c7,_0x594604,_0x41adae,_0x216fb3,_0x3f39a8,_0x2a96a2,_0x51185){const _0x1c6134=a0_0x466431;this[_0x1c6134(0x36a)]=_0x46c4bb,this[_0x1c6134(0x66d)]=_0x472ec6,this[_0x1c6134(0x466)]=_0x590b87,this[_0x1c6134(0x286)]=_0x4d2496,this[_0x1c6134(0x1ef)]=_0x473172,this[_0x1c6134(0x680)]=_0x3e41f0,this[_0x1c6134(0x3f0)]=_0x65be47,this[_0x1c6134(0x6e8)]=_0x4078c7,this['flow']=_0x594604,this['flowConversation']=_0x41adae,this['label']=_0x216fb3,this[_0x1c6134(0x1a8)]=_0x3f39a8,this[_0x1c6134(0x8b6)]=_0x2a96a2,this[_0x1c6134(0x199)]=_0x51185;}get['dbServer'](){const _0x304e98=a0_0x466431;return this[_0x304e98(0x199)];}},Ke=class{},Qe=class extends O{[a0_0x466431(0x44c)](_0x5dc401){return ca(_0x5dc401);}async[a0_0x466431(0x23c)](_0x52a240,_0x8abef2){const _0x5b5b25=a0_0x466431;if(_0x52a240[_0x5b5b25(0x3d4)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x5b5b25(0x44c)](_0x8abef2)[_0x5b5b25(0x81b)]([..._0x52a240]))[_0x5b5b25(0x3d4)]};}catch(_0x1fd7c3){return _0x1fd7c3;}}async[a0_0x466431(0x5a4)](_0x46fc16,_0x10d848){const _0x11ffdf=a0_0x466431;try{let _0x1027b7=this[_0x11ffdf(0x44c)](_0x10d848),_0x532745=A(_0x46fc16['where']);return await _0x1027b7[_0x11ffdf(0x5a4)](_0x532745)[_0x11ffdf(0x4e0)]({'messageTimestamp':-0x1})[_0x11ffdf(0x29d)](_0x46fc16?.[_0x11ffdf(0x29d)]??0x0)['lean']();}catch{return[];}}async[a0_0x466431(0x384)](_0x25ffb9,_0x4f37f5){const _0x4bc861=a0_0x466431;try{let _0x41c86f=this[_0x4bc861(0x44c)](_0x4f37f5),_0x2c8bc2=A(_0x25ffb9[_0x4bc861(0x186)]);await _0x41c86f[_0x4bc861(0x25e)](_0x2c8bc2);}catch(_0x1110b3){console['error'](_0x1110b3);}}async[a0_0x466431(0x42a)](_0x50eeb7,_0x2aabbb,_0x246339){const _0x638d57=a0_0x466431;try{let _0x5334f4=this[_0x638d57(0x44c)](_0x246339),_0xa24b78=A(_0x50eeb7[_0x638d57(0x186)]);return await _0x5334f4[_0x638d57(0x886)](_0xa24b78,{'$set':_0x2aabbb},{'new':!0x0});}catch(_0x5412f3){throw console['error'](_0x5412f3),_0x5412f3;}}async[a0_0x466431(0x81b)](_0x1b4f60,_0x3a7fe9){const _0x28557f=a0_0x466431;if(_0x1b4f60[_0x28557f(0x3d4)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x28557f(0x44c)](_0x3a7fe9)[_0x28557f(0x81b)]([..._0x1b4f60]))['length']};}catch(_0x2fe6ae){return console[_0x28557f(0x913)](_0x28557f(0x42d),_0x2fe6ae),_0x2fe6ae;}}async[a0_0x466431(0x1f6)](_0x1adbb2){const _0x56475e=a0_0x466431;try{return await this[_0x56475e(0x44c)](_0x1adbb2)[_0x56475e(0x722)][_0x56475e(0x321)](),{'success':!0x0};}catch(_0x4445ee){return console['error'](_0x4445ee),{'success':!0x1,'error':_0x4445ee};}}},Ds=I(require('@ffmpeg-installer/ffmpeg')),w=I(require(a0_0x466431(0x799))),Fe=require('fs'),j=I(require(a0_0x466431(0x3b9))),K=I(require(a0_0x466431(0x4a3))),Ti=require('uuid'),Ii=I(require(a0_0x466431(0x753))),_i=I(require(a0_0x466431(0x860))),Ea=[a0_0x466431(0x277),'documentMessage','audioMessage',a0_0x466431(0x7de),'stickerMessage'],Na=[a0_0x466431(0x256),'documentWithCaptionMessage',a0_0x466431(0x878),a0_0x466431(0x4d6)],ks=require('os'),Ft=I(require('pino')),Ue=require(a0_0x466431(0x908)),Oi=require('node-mime-types'),pe=I(require(a0_0x466431(0x599))),J=require(a0_0x466431(0x68e)),ce=class{constructor(_0x50e73b,_0x312872,_0x4bbd26){this['jid']=_0x50e73b,this['exists']=_0x312872,this['name']=_0x4bbd26;}},Ye=class{},Xe=class{},Ie=class{},Ze=class{},et=class{},Ce=class{},tt=class{},st=class{},at=class{},it=class{},xt=I(require(a0_0x466431(0x64f))),$a=require('fs'),Ra=require(a0_0x466431(0x3b9));async function _e(_0x28d46b){const _0x5a72c8=a0_0x466431;let _0x9657cb=G[_0x5a72c8(0x427)][_0x28d46b];if(L[_0x5a72c8(0x613)]){let _0x490b44=T[_0x5a72c8(0x74c)]()['db'](L[_0x5a72c8(0x1fc)][_0x5a72c8(0x3b8)]+_0x5a72c8(0x745))[_0x5a72c8(0x722)](_0x28d46b);return _0x9657cb||(await _0x490b44[_0x5a72c8(0x5a4)]({})['toArray']())[_0x5a72c8(0x3d4)]>0x0;}return _0x9657cb||(0x0,$a[_0x5a72c8(0x4ce)])((0x0,Ra[_0x5a72c8(0x473)])(be,_0x28d46b));}async function Aa(_0x324d68,_0x466b0a,_0x58d395){const _0x3d932c=a0_0x466431;if(_0x324d68[_0x3d932c(0x587)][_0x3d932c(0x6f2)](_0x3d932c(0x3f8))||_0x324d68[_0x3d932c(0x587)][_0x3d932c(0x6f2)](_0x3d932c(0x56d))||_0x324d68[_0x3d932c(0x587)][_0x3d932c(0x6f2)](_0x3d932c(0x37f))||_0x324d68[_0x3d932c(0x587)][_0x3d932c(0x6f2)](_0x3d932c(0x645))||_0x324d68[_0x3d932c(0x587)]['includes']('/instance/connect')||_0x324d68[_0x3d932c(0x587)]['includes']('/instance/connectionState')||_0x324d68[_0x3d932c(0x587)][_0x3d932c(0x6f2)](_0x3d932c(0x7eb)))return _0x58d395();let _0x428734=_0x324d68['params'];if(!_0x428734?.['instanceName'])throw new m(_0x3d932c(0x5fd));if(!await _e(_0x428734[_0x3d932c(0x88a)]))throw new U(_0x3d932c(0x39e)+_0x428734[_0x3d932c(0x88a)]+_0x3d932c(0x89d));_0x58d395();}async function Ta(_0x4a457b,_0x711d77,_0xef4295){const _0x1c9a34=a0_0x466431;if(_0x4a457b['originalUrl'][_0x1c9a34(0x6f2)](_0x1c9a34(0x3f8))){let _0x8176a9=_0x4a457b[_0x1c9a34(0x533)];if(await _e(_0x8176a9[_0x1c9a34(0x88a)]))throw new X(_0x1c9a34(0x849)+_0x8176a9['instanceName']+_0x1c9a34(0x5b7));G[_0x1c9a34(0x427)][_0x8176a9[_0x1c9a34(0x88a)]]&&delete G[_0x1c9a34(0x427)][_0x8176a9[_0x1c9a34(0x88a)]];}_0xef4295();}var Ia=require(a0_0x466431(0x68e)),_a=I(require('jsonwebtoken')),ot='uazapi',Ro=new $(a0_0x466431(0x91a));async function Ao(_0x34db9b,_0xedb408,_0x3b315b){const _0x275e87=a0_0x466431;let _0x2ce66f=_0x34db9b[_0x275e87(0x438)](_0x275e87(0x3a8));if(_0x2ce66f&&S[_0x275e87(0x438)](_0x275e87(0x654))[_0x275e87(0x844)][_0x275e87(0x82c)]!==_0x2ce66f)throw new se();if(S['get'](_0x275e87(0x654))[_0x275e87(0x844)][_0x275e87(0x82c)]===_0x2ce66f)return _0x3b315b();if((_0x34db9b[_0x275e87(0x587)]['includes']('/instance/create')||_0x34db9b[_0x275e87(0x587)]['includes'](_0x275e87(0x56d)))&&!_0x2ce66f)throw new X(_0x275e87(0x84b),_0x275e87(0x4f9));let _0x3568a5=S[_0x275e87(0x438)](_0x275e87(0x654))[_0x275e87(0x53e)];try{let [_0x415608,_0x323379]=_0x34db9b[_0x275e87(0x438)](_0x275e87(0x1d3))['split']('\x20');if(_0x415608['toLowerCase']()!=='bearer')throw new se();if(!(0x0,Ia[_0x275e87(0x499)])(_0x323379))throw new se();let _0x4df280=_0x34db9b[_0x275e87(0x337)],_0x265a0b=_a[_0x275e87(0x525)]['verify'](_0x323379,_0x3568a5['SECRET'],{'ignoreExpiration':_0x3568a5[_0x275e87(0x8eb)]===0x0});if(_0x4df280[_0x275e87(0x88a)]!==_0x265a0b['instanceName']||ot!==_0x265a0b[_0x275e87(0x7c7)])throw new se();return _0x3b315b();}catch(_0x1a1a73){throw Ro['error'](_0x1a1a73),new se();}}async function To(_0x42e902,_0x3480a2,_0x4f8c3e){const _0x42bd8c=a0_0x466431;let _0xa79907=S[_0x42bd8c(0x438)]('AUTHENTICATION')[_0x42bd8c(0x844)],_0x2fa0d0=_0x42e902['get'](_0x42bd8c(0x3a8));if(_0xa79907[_0x42bd8c(0x82c)]===_0x2fa0d0)return _0x4f8c3e();if(_0x42e902[_0x42bd8c(0x587)][_0x42bd8c(0x6f2)](_0x42bd8c(0x3f8))){let _0x1d1548=xa,_0x3e731f=_0x42e902[_0x42bd8c(0x533)][_0x42bd8c(0x88a)];if(_0x1d1548&&_0x3e731f[_0x42bd8c(0x884)]()['startsWith'](_0x1d1548[_0x42bd8c(0x884)]()))return _0x4f8c3e();if(!_0x2fa0d0)throw new X('Missing\x20global\x20api\x20key',_0x42bd8c(0x4f9));}if(_0x42e902[_0x42bd8c(0x587)][_0x42bd8c(0x6f2)]('/instance/fetchInstances')&&!_0x2fa0d0)throw new X(_0x42bd8c(0x84b),_0x42bd8c(0x4f9));if(_0x42e902[_0x42bd8c(0x587)][_0x42bd8c(0x6f2)](_0x42bd8c(0x37f))&&!_0x2fa0d0)throw new X(_0x42bd8c(0x84b),_0x42bd8c(0x4f9));if(_0x42e902[_0x42bd8c(0x587)][_0x42bd8c(0x6f2)]('/config')&&!_0x2fa0d0)throw new X(_0x42bd8c(0x84b),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x287d7=_0x42e902[_0x42bd8c(0x337)],_0x4926d6=await me[_0x42bd8c(0x3f0)][_0x42bd8c(0x5a4)](_0x287d7[_0x42bd8c(0x88a)]);if(_0x4926d6&&_0x4926d6[_0x42bd8c(0x3a8)]===_0x2fa0d0)return _0x4f8c3e();}catch{}throw new se();}var Oa={'jwt':Ao,'apikey':To},pi=require('express'),C=require(a0_0x466431(0x6c5)),v=(..._0x2f5339)=>{const _0xcf4beb=a0_0x466431;let _0x22d11b={};return _0x2f5339[_0xcf4beb(0x4fe)](_0x158ae6=>_0x22d11b[_0x158ae6]={'minLength':0x1,'description':_0xcf4beb(0x863)+_0x158ae6+_0xcf4beb(0x39d)}),{'if':{'propertyNames':{'enum':[..._0x2f5339]}},'then':{'properties':_0x22d11b}};},E={'$id':(0x0,C['v4'])(),'type':'object','properties':{'instanceName':{'type':a0_0x466431(0x253)}},...v(a0_0x466431(0x88a))},Tc={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x466431(0x56a)],...v('oldToken')},Ic={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x466431(0x253)},'remoteJid':{'type':a0_0x466431(0x253)},'fromMe':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]}},'required':['id',a0_0x466431(0x84e),a0_0x466431(0x70f)],...v('id',a0_0x466431(0x84e))},'message':{'type':a0_0x466431(0x3f1)}}},ae={'properties':{'delay':{'type':a0_0x466431(0x4b8),'description':a0_0x466431(0x8e4)},'presence':{'type':'string','enum':[a0_0x466431(0x6b3),a0_0x466431(0x912),a0_0x466431(0x802),a0_0x466431(0x61d),a0_0x466431(0x871)]}}},Z={'type':a0_0x466431(0x253),'description':a0_0x466431(0x6ff)},Pa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'textMessage':{'type':a0_0x466431(0x3f1),'properties':{'text':{'type':a0_0x466431(0x253)}},'required':[a0_0x466431(0x6d0)],...v(a0_0x466431(0x6d0))}},'required':[a0_0x466431(0x7b8),a0_0x466431(0x5be)]},Da={'type':'string','pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':'Invalid\x20format'},_c={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'number':{...Da},'options':{...ae},'textMessage':{'type':a0_0x466431(0x3f1),'properties':{'text':{'type':'string'}},'required':[a0_0x466431(0x6d0)],...v(a0_0x466431(0x6d0))}},'required':[a0_0x466431(0x7b8),'number']},Oc={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'number':{...Da},'options':{...ae},'mediaMessage':{'type':a0_0x466431(0x3f1),'properties':{'mediatype':{'type':a0_0x466431(0x253),'enum':[a0_0x466431(0x615),a0_0x466431(0x63f),'video',a0_0x466431(0x4e3)]},'media':{'type':a0_0x466431(0x253)},'fileName':{'type':'string'},'caption':{'type':a0_0x466431(0x253)}},'required':[a0_0x466431(0x2ce),'media'],...v('fileName',a0_0x466431(0x378),a0_0x466431(0x71d))}},'required':[a0_0x466431(0x4cf),a0_0x466431(0x5be)]},ka={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'stickerMessage':{'type':a0_0x466431(0x3f1),'properties':{'image':{'type':a0_0x466431(0x253)}},'required':[a0_0x466431(0x615)],...v(a0_0x466431(0x615))}},'required':[a0_0x466431(0x422),'number']},La={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'statusMessage':{'type':a0_0x466431(0x3f1),'properties':{'type':{'type':a0_0x466431(0x253),'enum':[a0_0x466431(0x6d0),'image','audio',a0_0x466431(0x850)]},'content':{'type':a0_0x466431(0x253)},'caption':{'type':a0_0x466431(0x253)},'backgroundColor':{'type':a0_0x466431(0x253)},'font':{'type':a0_0x466431(0x4b8),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x466431(0x7ec),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x466431(0x253),'pattern':a0_0x466431(0x5ac),'description':a0_0x466431(0x313)}},'allContacts':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]}},'required':[a0_0x466431(0x688),a0_0x466431(0x475)],...v('type',a0_0x466431(0x475))}},'required':[a0_0x466431(0x87c)]},Fa={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'number':{...Z},'options':{...ae},'mediaMessage':{'type':a0_0x466431(0x3f1),'properties':{'mediatype':{'type':'string','enum':[a0_0x466431(0x615),'document',a0_0x466431(0x850),a0_0x466431(0x4e3)]},'media':{'type':'string'},'fileName':{'type':a0_0x466431(0x253)},'caption':{'type':a0_0x466431(0x253)}},'required':[a0_0x466431(0x2ce),'media'],...v('fileName',a0_0x466431(0x378),'media')}},'required':[a0_0x466431(0x4cf),a0_0x466431(0x5be)]},Ua={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'audioMessage':{'type':a0_0x466431(0x3f1),'properties':{'audio':{'type':a0_0x466431(0x253)}},'required':[a0_0x466431(0x4e3)],...v(a0_0x466431(0x4e3))}},'required':[a0_0x466431(0x343),'number']},ja={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'number':{...Z},'pollMessage':{'type':a0_0x466431(0x3f1),'properties':{'name':{'type':a0_0x466431(0x253)},'selectableCount':{'type':a0_0x466431(0x5be)},'values':{'type':a0_0x466431(0x7ec),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x466431(0x8d9),a0_0x466431(0x8bc),a0_0x466431(0x66a)],...v(a0_0x466431(0x8d9),'selectableCount',a0_0x466431(0x66a))}},'required':[a0_0x466431(0x5be),a0_0x466431(0x718)]},Ja={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'number':{...Z},'menuMessage':{'type':a0_0x466431(0x3f1),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x466431(0x7ec),'uniqueItems':!0x0}},'required':[a0_0x466431(0x6d0),a0_0x466431(0x602)],...v('text',a0_0x466431(0x602))}},'required':[a0_0x466431(0x5be),'menuMessage']},qa={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'number':{...Z},'options':{...ae},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x466431(0x5be)},'longitude':{'type':a0_0x466431(0x5be)},'name':{'type':a0_0x466431(0x253)},'address':{'type':a0_0x466431(0x253)}},'required':['latitude',a0_0x466431(0x272)],...v(a0_0x466431(0x8d9),'addresss')}},'required':[a0_0x466431(0x5be),a0_0x466431(0x89a)]},Va={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'number':{...Z},'options':{...ae},'listMessage':{'type':a0_0x466431(0x3f1),'properties':{'title':{'type':a0_0x466431(0x253)},'description':{'type':a0_0x466431(0x253)},'footerText':{'type':a0_0x466431(0x253)},'buttonText':{'type':a0_0x466431(0x253)},'sections':{'type':a0_0x466431(0x7ec),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'rows':{'type':a0_0x466431(0x7ec),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x466431(0x3f1),'properties':{'title':{'type':a0_0x466431(0x253)},'description':{'type':a0_0x466431(0x253)},'rowId':{'type':'string'}},'required':[a0_0x466431(0x70e),a0_0x466431(0x490)],...v(a0_0x466431(0x70e),'rowId')}}},'required':[a0_0x466431(0x70e),a0_0x466431(0x412)],...v(a0_0x466431(0x70e))}}},'required':[a0_0x466431(0x70e),a0_0x466431(0x34b),a0_0x466431(0x906),'sections'],...v('title','description',a0_0x466431(0x906),'footerText')}},'required':['number',a0_0x466431(0x84a)]},Ga={'$id':(0x0,C['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'contactMessage':{'type':'array','items':{'type':a0_0x466431(0x3f1),'properties':{'fullName':{'type':a0_0x466431(0x253)},'phoneNumber':{'type':a0_0x466431(0x253),'minLength':0xa}},'required':[a0_0x466431(0x60a),a0_0x466431(0x828)],...v('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':['number',a0_0x466431(0x853)]},Ba={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'reactionMessage':{'type':a0_0x466431(0x3f1),'properties':{'key':{'type':a0_0x466431(0x3f1),'properties':{'id':{'type':a0_0x466431(0x253)},'remoteJid':{'type':a0_0x466431(0x253)},'fromMe':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]}},'required':['id',a0_0x466431(0x84e),'fromMe'],...v('id',a0_0x466431(0x84e))},'reaction':{'type':a0_0x466431(0x253)}},'required':[a0_0x466431(0x714),a0_0x466431(0x6da)],...v(a0_0x466431(0x6da))}},'required':[a0_0x466431(0x62e)]},Wa={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x466431(0x253),'pattern':'^\x5cd+','description':a0_0x466431(0x353)}}}},za={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x466431(0x253)}},'required':['id',a0_0x466431(0x70f),a0_0x466431(0x84e)],...v('id','remoteJid')}}},'required':[a0_0x466431(0x8a6)]},Ha={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':'string','enum':[a0_0x466431(0x5fe),a0_0x466431(0x770)]},'profile':{'type':a0_0x466431(0x253),'enum':[a0_0x466431(0x5fe),'contacts',a0_0x466431(0x24b),a0_0x466431(0x770)]},'status':{'type':a0_0x466431(0x253),'enum':['all','contacts',a0_0x466431(0x24b),a0_0x466431(0x770)]},'online':{'type':'string','enum':[a0_0x466431(0x5fe),'match_last_seen']},'last':{'type':a0_0x466431(0x253),'enum':[a0_0x466431(0x5fe),'contacts',a0_0x466431(0x24b),a0_0x466431(0x770)]},'groupadd':{'type':a0_0x466431(0x253),'enum':['all','contacts',a0_0x466431(0x24b),'none']}},'required':[a0_0x466431(0x31b),'profile',a0_0x466431(0x309),'online',a0_0x466431(0x807),a0_0x466431(0x6c0)],...v('readreceipts',a0_0x466431(0x7a2),a0_0x466431(0x309),a0_0x466431(0x727),a0_0x466431(0x807),a0_0x466431(0x6c0))}},'required':[a0_0x466431(0x32a)]},Ka={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'lastMessage':{'type':a0_0x466431(0x3f1),'properties':{'key':{'type':a0_0x466431(0x3f1),'properties':{'id':{'type':a0_0x466431(0x253)},'remoteJid':{'type':a0_0x466431(0x253)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','fromMe','remoteJid'],...v('id','remoteJid')},'messageTimestamp':{'type':a0_0x466431(0x4b8),'minLength':0x1}},'required':[a0_0x466431(0x714)],...v(a0_0x466431(0x48a))},'archive':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]}},'required':[a0_0x466431(0x6dd),'archive']},Qa={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'id':{'type':a0_0x466431(0x253)},'fromMe':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x466431(0x253)},'participant':{'type':a0_0x466431(0x253)}},'required':['id','fromMe',a0_0x466431(0x84e)],...v('id','remoteJid',a0_0x466431(0x2e0))},Ya={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'where':{'type':a0_0x466431(0x3f1),'properties':{'_id':{'type':a0_0x466431(0x253),'minLength':0x1},'pushName':{'type':a0_0x466431(0x253),'minLength':0x1},'id':{'type':a0_0x466431(0x253),'minLength':0x1}},...v(a0_0x466431(0x209),'id',a0_0x466431(0x2f5))}}},Xa={'$id':(0x0,C['v4'])(),'type':'object','properties':{'name':{'type':a0_0x466431(0x253)}},...v(a0_0x466431(0x8d9))},Za={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'status':{'type':'string'}},...v('status')},Oe={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x466431(0x253)}}},ei={'type':a0_0x466431(0x3f1),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x466431(0x253)},'picture':{'type':'string'},'status':{'type':a0_0x466431(0x253)},'isBusiness':{'type':a0_0x466431(0x2a3)}}},ti={'$id':(0x0,C['v4'])(),'type':'object','properties':{'where':{'type':a0_0x466431(0x3f1),'properties':{'_id':{'type':a0_0x466431(0x253),'minLength':0x1},'key':{'type':a0_0x466431(0x3f1),'if':{'propertyNames':{'enum':[a0_0x466431(0x70f),a0_0x466431(0x84e),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x466431(0x253),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'id':{'type':a0_0x466431(0x253),'minLength':0x1,'description':a0_0x466431(0x586)},'fromMe':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...v('_id')},'limit':{'type':a0_0x466431(0x4b8)}}},xc={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x466431(0x253)},'remoteJid':{'type':'string'},'id':{'type':a0_0x466431(0x253)},'fromMe':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x466431(0x253)},'status':{'type':a0_0x466431(0x253),'enum':[a0_0x466431(0x691),a0_0x466431(0x3f4),a0_0x466431(0x34a),'DELIVERY_ACK',a0_0x466431(0x251),'PLAYED']}},...v('_id',a0_0x466431(0x84e),'id',a0_0x466431(0x309))},'limit':{'type':'integer'}}},si={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'number':{...Z},'presence':{'type':a0_0x466431(0x253),'enum':['unavailable',a0_0x466431(0x912),a0_0x466431(0x802),'recording',a0_0x466431(0x871)]}},'required':[a0_0x466431(0x79a),a0_0x466431(0x5be)]},ai={'$id':(0x0,C['v4'])(),'type':'object','properties':{'subject':{'type':a0_0x466431(0x253)},'description':{'type':a0_0x466431(0x253)},'profilePicture':{'type':a0_0x466431(0x253)},'participants':{'type':a0_0x466431(0x7ec),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x466431(0x75b),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['subject',a0_0x466431(0x765)],...v(a0_0x466431(0x408),'description','profilePicture')},xe={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'groupJid':{'type':a0_0x466431(0x253),'pattern':a0_0x466431(0x724)}},'required':['groupJid'],...v(a0_0x466431(0x8ec))},ii={'$id':(0x0,C['v4'])(),'type':'object','properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x466431(0x253),'enum':[a0_0x466431(0x83c),a0_0x466431(0x27c),'promote',a0_0x466431(0x2d5),'reject',a0_0x466431(0x215)]},'participants':{'type':a0_0x466431(0x7ec),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x466431(0x253),'minLength':0xa,'pattern':a0_0x466431(0x75b),'description':a0_0x466431(0x293)}}},'required':[a0_0x466431(0x8ec),a0_0x466431(0x348),a0_0x466431(0x765)],...v(a0_0x466431(0x8ec),a0_0x466431(0x348))},oi={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'groupJid':{'type':a0_0x466431(0x253)},'expiration':{'type':a0_0x466431(0x5be),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x466431(0x8ec),a0_0x466431(0x85f)],...v(a0_0x466431(0x8ec),a0_0x466431(0x85f))},ri={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'groupJid':{'type':a0_0x466431(0x253)},'image':{'type':a0_0x466431(0x253)}},'required':[a0_0x466431(0x8ec),'image'],...v(a0_0x466431(0x8ec),a0_0x466431(0x615))},ni={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'groupJid':{'type':a0_0x466431(0x253)},'description':{'type':a0_0x466431(0x253)}},'required':[a0_0x466431(0x8ec),'description'],...v('groupJid','description')},ci={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'groupJid':{'type':a0_0x466431(0x253)},'name':{'type':a0_0x466431(0x253)}},'required':['groupJid',a0_0x466431(0x8d9)],...v('groupJid','name')},li={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'groupJid':{'type':a0_0x466431(0x253)},'setting':{'type':'string','enum':[a0_0x466431(0x232),a0_0x466431(0x8a0),a0_0x466431(0x3db),'locked']}},'required':['groupJid','setting'],...v('groupJid',a0_0x466431(0x52d))},ui={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'groupJid':{'type':a0_0x466431(0x253)},'restrict':{'type':a0_0x466431(0x2a3)},'announce':{'type':a0_0x466431(0x2a3)},'memberAddMode':{'type':a0_0x466431(0x2a3)},'joinApprovalMode':{'type':a0_0x466431(0x2a3)},'expiration':{'type':a0_0x466431(0x4b8),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x466431(0x253)},'description':{'type':'string'},'image':{'type':a0_0x466431(0x253)}}},Ns={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'inviteCode':{'type':a0_0x466431(0x253)}},'required':[a0_0x466431(0x249)],...v(a0_0x466431(0x249))},di={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'url':{'type':a0_0x466431(0x253)},'enabled':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]}},'required':[a0_0x466431(0x479),a0_0x466431(0x78f)]},Pc={'$id':(0x0,C['v4'])(),'type':a0_0x466431(0x3f1),'properties':{'local_map':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x466431(0x2a3),'enum':[!0x0,!0x1]}},'required':[a0_0x466431(0x5af),a0_0x466431(0x444),a0_0x466431(0x8fb),a0_0x466431(0x40c),'MESSAGES_UPDATE',a0_0x466431(0x43a),a0_0x466431(0x487),'CONTACTS_SET',a0_0x466431(0x865),a0_0x466431(0x823),a0_0x466431(0x33a),a0_0x466431(0x36d),a0_0x466431(0x547),'CHATS_UPDATE','CHATS_DELETE',a0_0x466431(0x656),a0_0x466431(0x40a),a0_0x466431(0x67d),a0_0x466431(0x90e)],...v(a0_0x466431(0x5af),a0_0x466431(0x444),a0_0x466431(0x8fb),'MESSAGES_SET',a0_0x466431(0x557),a0_0x466431(0x43a),a0_0x466431(0x487),a0_0x466431(0x570),'CONTACTS_UPSERT',a0_0x466431(0x823),a0_0x466431(0x33a),a0_0x466431(0x36d),a0_0x466431(0x547),a0_0x466431(0x3e1),a0_0x466431(0x559),'CONNECTION_UPDATE',a0_0x466431(0x40a),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE')},rt=class{},nt=class extends O{[a0_0x466431(0x756)](_0x25138d){return aa(_0x25138d);}async[a0_0x466431(0x23c)](_0x204dec){const _0x11c679=a0_0x466431;if(_0x204dec[_0x11c679(0x3d4)]!==0x0)try{return{'insertCount':(await this[_0x11c679(0x756)](_0x204dec[0x0][_0x11c679(0x3ea)])[_0x11c679(0x81b)]([..._0x204dec]))[_0x11c679(0x3d4)]};}catch(_0x2db41c){return _0x2db41c;}}async[a0_0x466431(0x384)](_0x1e409e,_0x4a5c81){const _0x4efb51=a0_0x466431;try{return{'deletedCount':(await this[_0x4efb51(0x756)](_0x4a5c81)[_0x4efb51(0x25e)]({..._0x1e409e[_0x4efb51(0x186)]}))[_0x4efb51(0x8d6)]};}catch(_0x499032){return{'error':_0x499032?.[_0x4efb51(0x1d0)]()};}}async[a0_0x466431(0x42a)](_0x30341a,_0x3f773a){const _0x56b71c=a0_0x466431;try{if(_0x30341a[_0x56b71c(0x3d4)]===0x0)return;let _0x56bbc3=this[_0x56b71c(0x756)](_0x3f773a),_0x5f3335=_0x30341a[_0x56b71c(0x1e8)](_0x60e85=>({'updateOne':{'filter':{'_id':_0x60e85[_0x56b71c(0x209)],'owner':_0x3f773a},'update':{..._0x60e85}}})),{modifiedCount:_0x20f1f0}=await _0x56bbc3[_0x56b71c(0x235)](_0x5f3335);return{'insertCount':_0x20f1f0};}catch{return;}}async['find'](_0x553d59,_0x4c545a){const _0x5229bd=a0_0x466431;try{let _0x478d41=this['getContactModelForOwner'](_0x4c545a),_0x34d5f9=A(_0x553d59['where']);return await _0x478d41['find'](_0x34d5f9)['limit'](_0x553d59?.['limit']??0x0)[_0x5229bd(0x442)]();}catch{return[];}}async[a0_0x466431(0x2c9)](_0x359444,_0x42902f){const _0xb12765=a0_0x466431;try{let _0x4d4343=this[_0xb12765(0x756)](_0x42902f),_0x337d63=A(_0x359444['where']);return await _0x4d4343[_0xb12765(0x2c9)](_0x337d63)[_0xb12765(0x442)]();}catch{return null;}}async['deleteAll'](_0x124d46){const _0x331f4a=a0_0x466431;try{return await this['getContactModelForOwner'](_0x124d46)[_0x331f4a(0x722)]['drop'](),{'success':!0x0};}catch(_0x39192b){return console[_0x331f4a(0x8d2)](_0x39192b),{'success':!0x1,'error':_0x39192b};}}},ct=require(a0_0x466431(0x35c)),Vc=require(a0_0x466431(0x6ae)),$s=new $(a0_0x466431(0x6fe)),V=class{[a0_0x466431(0x560)](_0x13a280,_0x46df3f=!0x0){const _0xad5fb5=a0_0x466431;let _0x51eadb='/'+_0x13a280;return _0x46df3f&&(_0x51eadb+=_0xad5fb5(0x606)),_0x51eadb;}async[a0_0x466431(0x4bf)](_0x40d473){const _0xbe1462=a0_0x466431;let {request:_0x999852,schema:_0x3bf005,ClassRef:_0x48c287,execute:_0x3f4e5b}=_0x40d473,_0xed0cd5=new _0x48c287(),_0x518ae4=_0x999852[_0xbe1462(0x533)],_0x489092=_0x999852[_0xbe1462(0x337)];_0x999852?.[_0xbe1462(0x41c)]&&Object[_0xbe1462(0x7c4)](_0x999852[_0xbe1462(0x41c)])[_0xbe1462(0x3d4)]>0x0&&Object[_0xbe1462(0x25a)](_0x489092,_0x999852[_0xbe1462(0x41c)]),_0x999852['originalUrl'][_0xbe1462(0x6f2)](_0xbe1462(0x3f8))&&Object[_0xbe1462(0x25a)](_0x489092,_0x518ae4),Object['assign'](_0xed0cd5,_0x518ae4);let _0x22e22e=_0x3bf005?(0x0,ct['validate'])(_0xed0cd5,_0x3bf005):{'valid':!0x0,'errors':[]};if(!_0x22e22e['valid']){let _0x25fb10=_0x22e22e[_0xbe1462(0x1c0)][_0xbe1462(0x1e8)](({property:_0x580457,stack:_0x48e3ea,schema:_0x1a5f34})=>{const _0xa93fbf=_0xbe1462;let _0x161b0f;return _0x1a5f34[_0xa93fbf(0x34b)]?_0x161b0f=_0x1a5f34['description']:_0x161b0f=_0x48e3ea[_0xa93fbf(0x783)](_0xa93fbf(0x876),''),{'property':_0x580457[_0xa93fbf(0x783)](_0xa93fbf(0x876),''),'message':_0x161b0f};});throw $s[_0xbe1462(0x8d2)]([..._0x25fb10]),new m(..._0x25fb10);}return await _0x3f4e5b(_0x489092,_0xed0cd5);}async[a0_0x466431(0x3d7)](_0x5ee9db){const _0x15a805=a0_0x466431;let {request:_0x153bb6,ClassRef:_0x214931,schema:_0x182bcd,execute:_0x4ca294}=_0x5ee9db,_0xe01dfb=_0x153bb6[_0x15a805(0x41c)];if(!_0xe01dfb?.[_0x15a805(0x8ec)])throw new m(_0x15a805(0x578),'ex:\x20\x22groupJid=120362@g.us\x22');let _0x53bdab=_0x153bb6['params'],_0x150693=_0x153bb6[_0x15a805(0x533)],_0x24a64b=new _0x214931();Object[_0x15a805(0x25a)](_0x150693,_0xe01dfb),Object[_0x15a805(0x25a)](_0x24a64b,_0x150693);let _0x19aee0=(0x0,ct[_0x15a805(0x78e)])(_0x24a64b,_0x182bcd);if(!_0x19aee0['valid']){let _0x4f7eee=_0x19aee0[_0x15a805(0x1c0)][_0x15a805(0x1e8)](({property:_0x478763,stack:_0x1d72e0,schema:_0x1665de})=>{const _0x26de95=_0x15a805;let _0x561e98;return _0x1665de[_0x26de95(0x34b)]?_0x561e98=_0x1665de['description']:_0x561e98=_0x1d72e0['replace'](_0x26de95(0x876),''),{'property':_0x478763['replace'](_0x26de95(0x876),''),'message':_0x561e98};});throw $s[_0x15a805(0x8d2)]([..._0x4f7eee]),new m(..._0x4f7eee);}return await _0x4ca294(_0x53bdab,_0x24a64b);}async[a0_0x466431(0x38c)](_0x3f3019){const _0x39345e=a0_0x466431;let {request:_0x90b459,ClassRef:_0xeaa5b3,schema:_0x576084,execute:_0x171599}=_0x3f3019,_0x273e49=_0x90b459[_0x39345e(0x533)];if(!_0x273e49?.[_0x39345e(0x249)])throw new m(_0x39345e(0x5ff),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x4fe3b6=_0x90b459['params'],_0x44c6b3=_0x90b459[_0x39345e(0x533)],_0x209009=new _0xeaa5b3();Object[_0x39345e(0x25a)](_0x44c6b3,_0x273e49),Object['assign'](_0x209009,_0x44c6b3);let _0x1b93cb=(0x0,ct[_0x39345e(0x78e)])(_0x209009,_0x576084);if(!_0x1b93cb[_0x39345e(0x6ba)]){let _0x5353e3=_0x1b93cb[_0x39345e(0x1c0)]['map'](({property:_0x504745,stack:_0x171325,schema:_0x3186b6})=>{const _0x3a0a11=_0x39345e;let _0x173cb2;return _0x3186b6['description']?_0x173cb2=_0x3186b6[_0x3a0a11(0x34b)]:_0x173cb2=_0x171325[_0x3a0a11(0x783)](_0x3a0a11(0x876),''),{'property':_0x504745['replace'](_0x3a0a11(0x876),''),'message':_0x173cb2};});throw $s[_0x39345e(0x8d2)]([..._0x5353e3]),new m(..._0x5353e3);}return await _0x171599(_0x4fe3b6,_0x209009);}},M=class{},il=new $('ChatRouter'),lt=class extends V{constructor(..._0x117c3a){const _0x170c51=a0_0x466431;super(),this[_0x170c51(0x794)]=(0x0,pi[_0x170c51(0x33c)])(),this[_0x170c51(0x794)][_0x170c51(0x3b5)](this['routerPath'](_0x170c51(0x4b0)),..._0x117c3a,async(_0x477c10,_0x2f5623)=>{const _0x106d30=_0x170c51;let _0xd2162e=await this['dataValidate']({'request':_0x477c10,'schema':si,'ClassRef':Ye,'execute':(_0x8a1ca7,_0x113391)=>D[_0x106d30(0x4b0)](_0x8a1ca7,_0x113391)});return _0x2f5623[_0x106d30(0x309)](0xc9)['json'](_0xd2162e);})[_0x170c51(0x3b5)](this['routerPath'](_0x170c51(0x64a)),..._0x117c3a,async(_0xcca60a,_0x4073dc)=>{const _0x5250e3=_0x170c51;let _0x17d73d=await this[_0x5250e3(0x4bf)]({'request':_0xcca60a,'schema':Wa,'ClassRef':Xe,'execute':(_0x5ce59d,_0x4459f6)=>D[_0x5250e3(0x52b)](_0x5ce59d,_0x4459f6)});return _0x4073dc[_0x5250e3(0x309)](0xc9)[_0x5250e3(0x625)](_0x17d73d);})[_0x170c51(0x3b5)](this[_0x170c51(0x560)]('editChat'),..._0x117c3a,async(_0x222704,_0x88d5ad)=>{const _0x733da7=_0x170c51;let _0x4da525=await this[_0x733da7(0x4bf)]({'request':_0x222704,'schema':E,'ClassRef':M,'execute':(_0x456cfb,_0x5b3e01)=>D[_0x733da7(0x48e)](_0x456cfb,_0x5b3e01)});return _0x88d5ad[_0x733da7(0x309)](0xc9)[_0x733da7(0x625)](_0x4da525);})[_0x170c51(0x904)](this[_0x170c51(0x560)](_0x170c51(0x7a8)),..._0x117c3a,async(_0x1bb4ad,_0x743f96)=>{const _0x3c4505=_0x170c51;let _0x2bdd62=await this[_0x3c4505(0x4bf)]({'request':_0x1bb4ad,'schema':za,'ClassRef':tt,'execute':(_0x3f6796,_0x500244)=>D['readMessage'](_0x3f6796,_0x500244)});return _0x743f96[_0x3c4505(0x309)](0xc9)[_0x3c4505(0x625)](_0x2bdd62);})[_0x170c51(0x904)](this[_0x170c51(0x560)](_0x170c51(0x3a7)),..._0x117c3a,async(_0x532a65,_0x8756e1)=>{const _0x3bda4e=_0x170c51;let _0x53da55=await this[_0x3bda4e(0x4bf)]({'request':_0x532a65,'schema':Ka,'ClassRef':st,'execute':(_0x5ccf66,_0x11e7e6)=>D[_0x3bda4e(0x3a7)](_0x5ccf66,_0x11e7e6)});return _0x8756e1[_0x3bda4e(0x309)](0xc9)[_0x3bda4e(0x625)](_0x53da55);})['delete'](this[_0x170c51(0x560)](_0x170c51(0x60f)),..._0x117c3a,async(_0x26d319,_0x2076b3)=>{const _0xefed50=_0x170c51;let _0x29a5e2=await this[_0xefed50(0x4bf)]({'request':_0x26d319,'schema':Qa,'ClassRef':it,'execute':(_0x528437,_0x528683)=>D[_0xefed50(0x19b)](_0x528437,_0x528683)});return _0x2076b3[_0xefed50(0x309)](0xc9)[_0xefed50(0x625)](_0x29a5e2);})[_0x170c51(0x3b5)](this[_0x170c51(0x560)](_0x170c51(0x767)),..._0x117c3a,async(_0x1f789f,_0xc9c895)=>{const _0x3bf335=_0x170c51;let _0x42b816=await this[_0x3bf335(0x4bf)]({'request':_0x1f789f,'schema':Oe,'ClassRef':Ie,'execute':(_0x391872,_0x573627)=>D[_0x3bf335(0x32d)](_0x391872,_0x573627)});return _0xc9c895[_0x3bf335(0x309)](0xc8)[_0x3bf335(0x625)](_0x42b816);})[_0x170c51(0x3b5)](this[_0x170c51(0x560)](_0x170c51(0x1ed)),..._0x117c3a,async(_0x34f94c,_0x5cf5b3)=>{const _0x53929a=_0x170c51;let _0x16c0f4=await this[_0x53929a(0x4bf)]({'request':_0x34f94c,'schema':ei,'ClassRef':Ie,'execute':(_0x4f79f5,_0x5a5c57)=>D['fetchProfile'](_0x4f79f5,_0x5a5c57)});return _0x5cf5b3[_0x53929a(0x309)](0xc8)['json'](_0x16c0f4);})[_0x170c51(0x3b5)](this['routerPath'](_0x170c51(0x369)),..._0x117c3a,async(_0x35b16a,_0x14d675)=>{const _0x571ab9=_0x170c51;let _0x3fd124=await this[_0x571ab9(0x4bf)]({'request':_0x35b16a,'schema':Ya,'ClassRef':rt,'execute':(_0x2e88eb,_0x17fec5)=>D[_0x571ab9(0x915)](_0x2e88eb,_0x17fec5)});return _0x14d675[_0x571ab9(0x309)](0xc8)['json'](_0x3fd124);})[_0x170c51(0x3b5)](this[_0x170c51(0x560)](_0x170c51(0x5d0)),..._0x117c3a,async(_0x5b97e,_0x26cb57)=>{const _0x5ce0bb=_0x170c51;let _0x157e13=await this[_0x5ce0bb(0x4bf)]({'request':_0x5b97e,'schema':null,'ClassRef':Object,'execute':(_0x370669,_0x3fc7c8)=>D['getBase64FromMediaMessage'](_0x370669,_0x3fc7c8)});return _0x26cb57[_0x5ce0bb(0x309)](0xc9)[_0x5ce0bb(0x625)](_0x157e13);})[_0x170c51(0x3b5)](this[_0x170c51(0x560)]('findMessages'),..._0x117c3a,async(_0x5be576,_0x106903)=>{const _0x353c2d=_0x170c51;let _0x301317=await this['dataValidate']({'request':_0x5be576,'schema':ti,'ClassRef':Ke,'execute':(_0x15605c,_0x4698bf)=>D[_0x353c2d(0x352)](_0x15605c,_0x4698bf)});return _0x106903[_0x353c2d(0x309)](0xc8)['json'](_0x301317);})[_0x170c51(0x438)](this[_0x170c51(0x560)](_0x170c51(0x226)),..._0x117c3a,async(_0x4ad2d7,_0x48be3e)=>{const _0x4edd18=_0x170c51;let _0x49f852=await this['dataValidate']({'request':_0x4ad2d7,'schema':null,'ClassRef':M,'execute':_0xcb8aab=>D[_0x4edd18(0x28a)](_0xcb8aab)});return _0x48be3e[_0x4edd18(0x309)](0xc8)['json'](_0x49f852);})['get'](this[_0x170c51(0x560)](_0x170c51(0x2fd)),..._0x117c3a,async(_0x121633,_0x36d14f)=>{const _0x48e4f4=_0x170c51;let _0x47ee13=await this[_0x48e4f4(0x4bf)]({'request':_0x121633,'schema':null,'ClassRef':M,'execute':_0x126403=>D[_0x48e4f4(0x3fc)](_0x126403)});return _0x36d14f[_0x48e4f4(0x309)](0xc8)[_0x48e4f4(0x625)](_0x47ee13);})['put'](this[_0x170c51(0x560)]('importChats'),..._0x117c3a,async(_0x3637b2,_0x30c6fa)=>{const _0x90389c=_0x170c51;let _0x497857=await this[_0x90389c(0x4bf)]({'request':_0x3637b2,'schema':null,'ClassRef':Array,'execute':(_0x393399,_0x18e66a)=>D[_0x90389c(0x5cd)](_0x393399,_0x18e66a)});return _0x30c6fa[_0x90389c(0x309)](0xc8)[_0x90389c(0x625)](_0x497857);})['get'](this['routerPath']('fetchPrivacySettings'),..._0x117c3a,async(_0x17fb7a,_0x3cf8d4)=>{const _0x11f4a3=_0x170c51;let _0x137fff=await this[_0x11f4a3(0x4bf)]({'request':_0x17fb7a,'schema':null,'ClassRef':M,'execute':_0x2f2de7=>D[_0x11f4a3(0x3bf)](_0x2f2de7)});return _0x3cf8d4['status'](0xc8)[_0x11f4a3(0x625)](_0x137fff);})[_0x170c51(0x904)](this[_0x170c51(0x560)](_0x170c51(0x6a6)),..._0x117c3a,async(_0x84ae0,_0x303e0a)=>{const _0x42318a=_0x170c51;let _0x167a22=await this[_0x42318a(0x4bf)]({'request':_0x84ae0,'schema':Ha,'ClassRef':at,'execute':(_0x20600e,_0x4008f4)=>D[_0x42318a(0x6a6)](_0x20600e,_0x4008f4)});return _0x303e0a[_0x42318a(0x309)](0xc9)[_0x42318a(0x625)](_0x167a22);})[_0x170c51(0x3b5)](this[_0x170c51(0x560)](_0x170c51(0x36f)),..._0x117c3a,async(_0x187806,_0x38d62c)=>{const _0x90a8c4=_0x170c51;let _0x32f555=await this['dataValidate']({'request':_0x187806,'schema':Oe,'ClassRef':Ce,'execute':(_0x1d0183,_0x5f0686)=>D[_0x90a8c4(0x36f)](_0x1d0183,_0x5f0686)});return _0x38d62c[_0x90a8c4(0x309)](0xc8)[_0x90a8c4(0x625)](_0x32f555);})[_0x170c51(0x3b5)](this[_0x170c51(0x560)]('updateProfileName'),..._0x117c3a,async(_0xbb16b9,_0x2d75b9)=>{const _0x161f4f=_0x170c51;let _0x36856a=await this[_0x161f4f(0x4bf)]({'request':_0xbb16b9,'schema':Xa,'ClassRef':Ze,'execute':(_0x15836d,_0x7ccd20)=>D[_0x161f4f(0x46b)](_0x15836d,_0x7ccd20)});return _0x2d75b9[_0x161f4f(0x309)](0xc8)[_0x161f4f(0x625)](_0x36856a);})[_0x170c51(0x3b5)](this[_0x170c51(0x560)](_0x170c51(0x435)),..._0x117c3a,async(_0x5e2bab,_0x4c0e8c)=>{const _0xca9f03=_0x170c51;let _0x53006b=await this[_0xca9f03(0x4bf)]({'request':_0x5e2bab,'schema':Za,'ClassRef':et,'execute':(_0x11cc9a,_0x2bc2cc)=>D[_0xca9f03(0x435)](_0x11cc9a,_0x2bc2cc)});return _0x4c0e8c[_0xca9f03(0x309)](0xc8)['json'](_0x53006b);})[_0x170c51(0x904)](this[_0x170c51(0x560)](_0x170c51(0x396)),..._0x117c3a,async(_0x5556bd,_0x30050a)=>{const _0x4531b9=_0x170c51;let _0x1fe605=await this[_0x4531b9(0x4bf)]({'request':_0x5556bd,'schema':Oe,'ClassRef':Ce,'execute':(_0x444501,_0x58c79f)=>D[_0x4531b9(0x396)](_0x444501,_0x58c79f)});return _0x30050a[_0x4531b9(0x309)](0xc8)[_0x4531b9(0x625)](_0x1fe605);})[_0x170c51(0x384)](this['routerPath'](_0x170c51(0x648)),..._0x117c3a,async(_0x32c134,_0x56d568)=>{const _0x229c01=_0x170c51;let _0x46a929=await this[_0x229c01(0x4bf)]({'request':_0x32c134,'schema':Oe,'ClassRef':Ce,'execute':(_0x1e338c,_0x24db5f)=>D[_0x229c01(0x648)](_0x1e338c,_0x24db5f)});return _0x56d568['status'](0xc8)[_0x229c01(0x625)](_0x46a929);});}},hi=require(a0_0x466431(0x64f)),ut=class{},dt=class{},pt=class{},ht=class{},gt=class{},mt=class{},ee=class{},Pe=class{},ft=class extends ee{},wt=class extends ee{},yt=class extends V{constructor(..._0x1c60fe){const _0x21e4ed=a0_0x466431;super(),this[_0x21e4ed(0x794)]=(0x0,hi[_0x21e4ed(0x33c)])(),this[_0x21e4ed(0x794)][_0x21e4ed(0x3b5)](this[_0x21e4ed(0x560)](_0x21e4ed(0x1d1)),..._0x1c60fe,async(_0x19ab8b,_0x2df82c)=>{const _0x5850e5=_0x21e4ed;let _0x176abd=await this[_0x5850e5(0x4bf)]({'request':_0x19ab8b,'schema':ai,'ClassRef':ut,'execute':(_0x51f1fe,_0x5899b1)=>q[_0x5850e5(0x3ee)](_0x51f1fe,_0x5899b1)});_0x2df82c['status'](0xc9)[_0x5850e5(0x625)](_0x176abd);})[_0x21e4ed(0x904)](this['routerPath'](_0x21e4ed(0x87d)),..._0x1c60fe,async(_0x104cee,_0x2eb067)=>{const _0x520572=_0x21e4ed;let _0x5e9b40=await this[_0x520572(0x3d7)]({'request':_0x104cee,'schema':ri,'ClassRef':dt,'execute':(_0x144dfe,_0x2705b6)=>q[_0x520572(0x87d)](_0x144dfe,_0x2705b6)});_0x2eb067[_0x520572(0x309)](0xc9)[_0x520572(0x625)](_0x5e9b40);})[_0x21e4ed(0x904)](this['routerPath'](_0x21e4ed(0x668)),..._0x1c60fe,async(_0x1b42e3,_0x3ecc01)=>{const _0x3a50d0=_0x21e4ed;let _0xd09743=await this[_0x3a50d0(0x3d7)]({'request':_0x1b42e3,'schema':ni,'ClassRef':pt,'execute':(_0x5dcb67,_0x5bc2b0)=>q[_0x3a50d0(0x668)](_0x5dcb67,_0x5bc2b0)});_0x3ecc01['status'](0xc9)[_0x3a50d0(0x625)](_0xd09743);})[_0x21e4ed(0x904)](this[_0x21e4ed(0x560)](_0x21e4ed(0x7d5)),..._0x1c60fe,async(_0xabe99,_0x152773)=>{const _0x4f194d=_0x21e4ed;let _0x1e7545=await this[_0x4f194d(0x3d7)]({'request':_0xabe99,'schema':ci,'ClassRef':ht,'execute':(_0x36524d,_0x220397)=>q[_0x4f194d(0x7d5)](_0x36524d,_0x220397)});_0x152773['status'](0xc9)[_0x4f194d(0x625)](_0x1e7545);})[_0x21e4ed(0x904)](this[_0x21e4ed(0x560)](_0x21e4ed(0x5e7)),..._0x1c60fe,async(_0x26d121,_0x5afc7e)=>{const _0x25922c=_0x21e4ed;let _0x57f887=await this[_0x25922c(0x3d7)]({'request':_0x26d121,'schema':ui,'ClassRef':mt,'execute':(_0x31d5e8,_0x1e7f24)=>q[_0x25922c(0x5e7)](_0x31d5e8,_0x1e7f24)});_0x5afc7e['status'](0xc9)[_0x25922c(0x625)](_0x57f887);})[_0x21e4ed(0x904)](this[_0x21e4ed(0x560)]('groupSetting'),..._0x1c60fe,async(_0x1984b4,_0x27f252)=>{const _0x12a177=_0x21e4ed;let _0x1e5c06=await this[_0x12a177(0x3d7)]({'request':_0x1984b4,'schema':li,'ClassRef':gt,'execute':(_0x588855,_0x51d475)=>q[_0x12a177(0x2ad)](_0x588855,_0x51d475)});_0x27f252['status'](0xc9)['json'](_0x1e5c06);})[_0x21e4ed(0x904)](this[_0x21e4ed(0x560)](_0x21e4ed(0x519)),..._0x1c60fe,async(_0x2e3fe1,_0x458bc1)=>{const _0x1a0602=_0x21e4ed;let _0x2f9190=await this['groupValidate']({'request':_0x2e3fe1,'schema':oi,'ClassRef':wt,'execute':(_0xd774a0,_0x31953e)=>q[_0x1a0602(0x519)](_0xd774a0,_0x31953e)});_0x458bc1[_0x1a0602(0x309)](0xc9)[_0x1a0602(0x625)](_0x2f9190);})[_0x21e4ed(0x438)](this[_0x21e4ed(0x560)]('findGroupInfos'),..._0x1c60fe,async(_0x548239,_0x45630e)=>{const _0x3b7122=_0x21e4ed;let _0x57d95a=await this[_0x3b7122(0x3d7)]({'request':_0x548239,'schema':xe,'ClassRef':ee,'execute':(_0x593219,_0x23a142)=>q[_0x3b7122(0x7d0)](_0x593219,_0x23a142)});_0x45630e['status'](0xc8)[_0x3b7122(0x625)](_0x57d95a);})[_0x21e4ed(0x438)](this[_0x21e4ed(0x560)](_0x21e4ed(0x311)),..._0x1c60fe,async(_0x57d010,_0x1feff0)=>{const _0x5dfd87=_0x21e4ed;let _0x2eb366=await this[_0x5dfd87(0x4bf)]({'request':_0x57d010,'schema':E,'ClassRef':M,'execute':_0x21137f=>q[_0x5dfd87(0x311)](_0x21137f)});_0x1feff0[_0x5dfd87(0x309)](0xc8)[_0x5dfd87(0x625)](_0x2eb366);})[_0x21e4ed(0x438)](this[_0x21e4ed(0x560)](_0x21e4ed(0x765)),..._0x1c60fe,async(_0x1073fd,_0x104188)=>{const _0x14ab6c=_0x21e4ed;let _0x940c41=await this[_0x14ab6c(0x3d7)]({'request':_0x1073fd,'schema':xe,'ClassRef':ee,'execute':(_0x14a77f,_0x42d790)=>q[_0x14ab6c(0x22e)](_0x14a77f,_0x42d790)});_0x104188['status'](0xc8)['json'](_0x940c41);})['get'](this[_0x21e4ed(0x560)]('inviteCode'),..._0x1c60fe,async(_0x573ebf,_0xa35576)=>{const _0x14ecbf=_0x21e4ed;let _0x158fc7=await this[_0x14ecbf(0x3d7)]({'request':_0x573ebf,'schema':xe,'ClassRef':ee,'execute':(_0x5a1a8d,_0x38e029)=>q[_0x14ecbf(0x249)](_0x5a1a8d,_0x38e029)});_0xa35576['status'](0xc8)['json'](_0x158fc7);})[_0x21e4ed(0x3b5)](this[_0x21e4ed(0x560)]('inviteCodeDetails'),..._0x1c60fe,async(_0x576d9e,_0x69090f)=>{const _0x3032d1=_0x21e4ed;let _0x147c14=await this[_0x3032d1(0x38c)]({'request':_0x576d9e,'schema':Ns,'ClassRef':Pe,'execute':(_0xfa280f,_0x4df22b)=>q[_0x3032d1(0x5c3)](_0xfa280f,_0x4df22b)});_0x69090f['status'](0xc9)[_0x3032d1(0x625)](_0x147c14);})['put'](this[_0x21e4ed(0x560)](_0x21e4ed(0x185)),..._0x1c60fe,async(_0x47db66,_0xb61ce6)=>{const _0x309863=_0x21e4ed;let _0x18c7e8=await this['joinGroupValidate']({'request':_0x47db66,'schema':Ns,'ClassRef':Pe,'execute':(_0x3f3614,_0x23d876)=>q[_0x309863(0x185)](_0x3f3614,_0x23d876)});_0xb61ce6[_0x309863(0x309)](0xc9)[_0x309863(0x625)](_0x18c7e8);})['put'](this['routerPath'](_0x21e4ed(0x190)),..._0x1c60fe,async(_0x156d49,_0x4a9dbd)=>{const _0x3dce7e=_0x21e4ed;let _0x11f1bb=await this['groupValidate']({'request':_0x156d49,'schema':xe,'ClassRef':ee,'execute':(_0x2a9ee5,_0x76886d)=>q[_0x3dce7e(0x190)](_0x2a9ee5,_0x76886d)});_0x4a9dbd[_0x3dce7e(0x309)](0xc9)[_0x3dce7e(0x625)](_0x11f1bb);})[_0x21e4ed(0x904)](this[_0x21e4ed(0x560)]('updateParticipant'),..._0x1c60fe,async(_0x327519,_0x6128e9)=>{const _0x381126=_0x21e4ed;let _0x1ec9e1=await this['groupValidate']({'request':_0x327519,'schema':ii,'ClassRef':ft,'execute':(_0x397792,_0x3162b0)=>q[_0x381126(0x768)](_0x397792,_0x3162b0)});_0x6128e9[_0x381126(0x309)](0xc9)[_0x381126(0x625)](_0x1ec9e1);})[_0x21e4ed(0x384)](this[_0x21e4ed(0x560)](_0x21e4ed(0x7fa)),..._0x1c60fe,async(_0x2526dd,_0x398658)=>{const _0x21b91d=_0x21e4ed;let _0x1320ef=await this[_0x21b91d(0x3d7)]({'request':_0x2526dd,'schema':{},'ClassRef':ee,'execute':(_0x99aa82,_0xfbd6e9)=>q['leaveGroup'](_0x99aa82,_0xfbd6e9)});_0x398658[_0x21b91d(0x309)](0xc8)[_0x21b91d(0x625)](_0x1320ef);});}},gi=require(a0_0x466431(0x64f)),bt=class extends V{constructor(_0x2f9649,..._0x2973d8){const _0x3441d4=a0_0x466431;super(),this[_0x3441d4(0x338)]=_0x2f9649,this[_0x3441d4(0x794)]=(0x0,gi['Router'])();let _0x5d4c39=_0x2f9649[_0x3441d4(0x438)](_0x3441d4(0x654));this[_0x3441d4(0x794)][_0x3441d4(0x3b5)](_0x3441d4(0x44b),..._0x2973d8,async(_0x43df46,_0x4951f4)=>{const _0x532ede=_0x3441d4;let {instanceName:_0x577f65,apikey:_0x30c8f7,number:_0x18e751}=_0x43df46[_0x532ede(0x533)],_0x5ea8d0=await le['createInstance']({'instanceName':_0x577f65,'apikey':_0x30c8f7,'number':_0x18e751});return _0x4951f4[_0x532ede(0x309)](0xc9)['json'](_0x5ea8d0);})[_0x3441d4(0x904)](this['routerPath'](_0x3441d4(0x5ba)),..._0x2973d8,async(_0x877a09,_0x4477cb)=>{const _0x57739e=_0x3441d4;let _0x47fad8=await this[_0x57739e(0x4bf)]({'request':_0x877a09,'schema':E,'ClassRef':M,'execute':_0x375977=>le[_0x57739e(0x2e5)](_0x375977)});return _0x4477cb['status'](0xc8)[_0x57739e(0x625)](_0x47fad8);})['get'](this[_0x3441d4(0x560)](_0x3441d4(0x77c)),..._0x2973d8,async(_0x501ed4,_0x452646)=>{const _0x4a7b93=_0x3441d4;let _0x293288=await this[_0x4a7b93(0x4bf)]({'request':_0x501ed4,'schema':E,'ClassRef':M,'execute':_0xdc6080=>le['connectToWhatsappController'](_0xdc6080)});return _0x452646['status'](0xc8)[_0x4a7b93(0x625)](_0x293288);})[_0x3441d4(0x438)](this['routerPath'](_0x3441d4(0x4b4)),..._0x2973d8,async(_0x372934,_0x4a084a)=>{const _0x5e1fb9=_0x3441d4;let _0x1751b1=await this['dataValidate']({'request':_0x372934,'schema':E,'ClassRef':M,'execute':_0x17a281=>le[_0x5e1fb9(0x4b4)](_0x17a281)});return _0x4a084a['status'](0xc8)[_0x5e1fb9(0x625)](_0x1751b1);})[_0x3441d4(0x438)](this[_0x3441d4(0x560)]('fetchInstances',!0x1),..._0x2973d8,async(_0x308740,_0x4e21d5)=>{const _0x420a86=_0x3441d4;let _0x26109=await this['dataValidate']({'request':_0x308740,'schema':null,'ClassRef':M,'execute':_0x42e84a=>le[_0x420a86(0x4c4)](_0x42e84a)});return _0x4e21d5[_0x420a86(0x309)](0xc8)[_0x420a86(0x625)](_0x26109);})[_0x3441d4(0x384)](this[_0x3441d4(0x560)](_0x3441d4(0x5a7)),..._0x2973d8,async(_0x20a02a,_0x1a95c9)=>{const _0x2a3187=_0x3441d4;let _0x555f99=await this[_0x2a3187(0x4bf)]({'request':_0x20a02a,'schema':E,'ClassRef':M,'execute':_0x25ea5c=>le['logout'](_0x25ea5c)});return _0x1a95c9[_0x2a3187(0x309)](0xc8)[_0x2a3187(0x625)](_0x555f99);})['delete'](this[_0x3441d4(0x560)](_0x3441d4(0x384)),..._0x2973d8,async(_0x41cf5e,_0x1471ce)=>{const _0x5f5550=_0x3441d4;let _0x339fd7=await this[_0x5f5550(0x4bf)]({'request':_0x41cf5e,'schema':E,'ClassRef':M,'execute':_0x13fcde=>le[_0x5f5550(0x684)](_0x13fcde)});return _0x1471ce[_0x5f5550(0x309)](0xc8)[_0x5f5550(0x625)](_0x339fd7);});}},mi=require(a0_0x466431(0x64f)),Rs=class{},H=class extends Rs{},St=class extends H{},Mt=class extends H{},Ct=class extends H{},vt=class extends H{},De=class extends H{},Et=class extends H{},Nt=class extends H{},$t=class extends H{},Rt=class extends H{},At=class{},Tt=class extends V{constructor(..._0x14eaee){const _0x247534=a0_0x466431;super(),this[_0x247534(0x794)]=(0x0,mi['Router'])(),this[_0x247534(0x794)][_0x247534(0x3b5)](this['routerPath']('sendText'),..._0x14eaee,async(_0x2ecbf2,_0x310f0d)=>{const _0x40e8ac=_0x247534;let _0x7138b7=await this[_0x40e8ac(0x4bf)]({'request':_0x2ecbf2,'schema':Pa,'ClassRef':St,'execute':(_0x57856e,_0x9ea5d8)=>B[_0x40e8ac(0x909)](_0x57856e,_0x9ea5d8)});return _0x310f0d[_0x40e8ac(0x309)](0xc9)[_0x40e8ac(0x625)](_0x7138b7);})[_0x247534(0x3b5)](this[_0x247534(0x560)](_0x247534(0x91f)),..._0x14eaee,async(_0x52114f,_0x205e19)=>{const _0x3a3107=_0x247534;let _0x2c4abb=await this[_0x3a3107(0x4bf)]({'request':_0x52114f,'schema':Fa,'ClassRef':De,'execute':(_0x301cd3,_0x2506ff)=>B[_0x3a3107(0x91f)](_0x301cd3,_0x2506ff)});return _0x205e19['status'](0xc9)[_0x3a3107(0x625)](_0x2c4abb);})[_0x247534(0x3b5)](this[_0x247534(0x560)](_0x247534(0x183)),..._0x14eaee,async(_0x2b802e,_0x5e79f0)=>{const _0x5cef07=_0x247534;let _0x38f29f=await this[_0x5cef07(0x4bf)]({'request':_0x2b802e,'schema':Ja,'ClassRef':vt,'execute':(_0x1dab58,_0x2eb211)=>B[_0x5cef07(0x183)](_0x1dab58,_0x2eb211)});return _0x5e79f0[_0x5cef07(0x309)](0xc9)[_0x5cef07(0x625)](_0x38f29f);})['post'](this['routerPath']('sendWhatsAppAudio'),..._0x14eaee,async(_0x5a6ff8,_0x3543b7)=>{const _0xbdb90b=_0x247534;let _0x1a7a79=await this[_0xbdb90b(0x4bf)]({'request':_0x5a6ff8,'schema':Ua,'ClassRef':De,'execute':(_0x429d02,_0x44c72c)=>B[_0xbdb90b(0x23d)](_0x429d02,_0x44c72c)});return _0x3543b7[_0xbdb90b(0x309)](0xc9)[_0xbdb90b(0x625)](_0x1a7a79);})[_0x247534(0x3b5)](this[_0x247534(0x560)](_0x247534(0x1bf)),..._0x14eaee,async(_0x556687,_0x1b6bc2)=>{const _0x39b4fc=_0x247534;let _0x43d6bc=await this[_0x39b4fc(0x4bf)]({'request':_0x556687,'schema':qa,'ClassRef':Nt,'execute':(_0x5f0a0a,_0x2eee11)=>B['sendLocation'](_0x5f0a0a,_0x2eee11)});return _0x1b6bc2[_0x39b4fc(0x309)](0xc9)[_0x39b4fc(0x625)](_0x43d6bc);})['post'](this['routerPath'](_0x247534(0x634)),..._0x14eaee,async(_0x2c4b23,_0x49b886)=>{const _0x4a92cd=_0x247534;let _0x431c6f=await this[_0x4a92cd(0x4bf)]({'request':_0x2c4b23,'schema':Va,'ClassRef':$t,'execute':(_0x494032,_0x3bcc47)=>B[_0x4a92cd(0x634)](_0x494032,_0x3bcc47)});return _0x49b886[_0x4a92cd(0x309)](0xc9)[_0x4a92cd(0x625)](_0x431c6f);})[_0x247534(0x3b5)](this[_0x247534(0x560)](_0x247534(0x639)),..._0x14eaee,async(_0x3540e0,_0x4bac39)=>{const _0x2a5a27=_0x247534;let _0x7a01c6=await this['dataValidate']({'request':_0x3540e0,'schema':Ga,'ClassRef':Rt,'execute':(_0xa9ff89,_0x1e5dc1)=>B['sendContact'](_0xa9ff89,_0x1e5dc1)});return _0x4bac39[_0x2a5a27(0x309)](0xc9)[_0x2a5a27(0x625)](_0x7a01c6);})[_0x247534(0x3b5)](this[_0x247534(0x560)](_0x247534(0x1cc)),..._0x14eaee,async(_0x207743,_0x21e555)=>{const _0x578948=_0x247534;let _0x9205cc=await this[_0x578948(0x4bf)]({'request':_0x207743,'schema':Ba,'ClassRef':At,'execute':(_0xf08974,_0x5965fb)=>B[_0x578948(0x1cc)](_0xf08974,_0x5965fb)});return _0x21e555[_0x578948(0x309)](0xc9)[_0x578948(0x625)](_0x9205cc);})[_0x247534(0x3b5)](this[_0x247534(0x560)](_0x247534(0x821)),..._0x14eaee,async(_0x5393f9,_0x292593)=>{const _0x40e39a=_0x247534;let _0x303155=await this[_0x40e39a(0x4bf)]({'request':_0x5393f9,'schema':ja,'ClassRef':Ct,'execute':(_0x2c5419,_0x3476f2)=>B[_0x40e39a(0x821)](_0x2c5419,_0x3476f2)});return _0x292593['status'](0xc9)[_0x40e39a(0x625)](_0x303155);})[_0x247534(0x3b5)](this[_0x247534(0x560)](_0x247534(0x8b8)),..._0x14eaee,async(_0xd41936,_0x2d8b28)=>{const _0x3e8353=_0x247534;let _0x1309e4=await this['dataValidate']({'request':_0xd41936,'schema':La,'ClassRef':Mt,'execute':(_0xabc953,_0x4049eb)=>B[_0x3e8353(0x8b8)](_0xabc953,_0x4049eb)});return _0x2d8b28['status'](0xc9)[_0x3e8353(0x625)](_0x1309e4);})[_0x247534(0x3b5)](this[_0x247534(0x560)](_0x247534(0x3d8)),..._0x14eaee,async(_0x2305bb,_0x56266c)=>{const _0x3ebc31=_0x247534;let _0x1f2689=await this[_0x3ebc31(0x4bf)]({'request':_0x2305bb,'schema':ka,'ClassRef':Et,'execute':(_0x138032,_0xd345cf)=>B[_0x3ebc31(0x3d8)](_0x138032,_0xd345cf)});return _0x56266c['status'](0xc9)[_0x3ebc31(0x625)](_0x1f2689);});}},fi=require(a0_0x466431(0x64f)),It=class{},_t=class extends V{constructor(..._0xaf6062){const _0x43c561=a0_0x466431;super(),this[_0x43c561(0x794)]=(0x0,fi['Router'])(),this[_0x43c561(0x794)]['post'](this['routerPath'](_0x43c561(0x3d6)),..._0xaf6062,async(_0x5a9430,_0x32beb8)=>{const _0x37ce62=_0x43c561;let _0x293e88=await this[_0x37ce62(0x4bf)]({'request':_0x5a9430,'schema':di,'ClassRef':It,'execute':(_0x2e3f6e,_0x25be6)=>As[_0x37ce62(0x736)](_0x2e3f6e,_0x25be6)});_0x32beb8[_0x37ce62(0x309)](0xc9)['json'](_0x293e88);})[_0x43c561(0x438)](this[_0x43c561(0x560)](_0x43c561(0x5a4)),..._0xaf6062,async(_0x259372,_0x32f979)=>{const _0x467c5e=_0x43c561;let _0x5af88e=await this[_0x467c5e(0x4bf)]({'request':_0x259372,'schema':E,'ClassRef':M,'execute':_0x4c5399=>As[_0x467c5e(0x60d)](_0x4c5399)});_0x32f979[_0x467c5e(0x309)](0xc8)['json'](_0x5af88e);});}},wi=require(a0_0x466431(0x64f)),y=new $(a0_0x466431(0x21d)),Ot=class extends V{constructor(..._0x45fdd6){const _0x284ee5=a0_0x466431;super(),this[_0x284ee5(0x794)]=(0x0,wi[_0x284ee5(0x33c)])(),this[_0x284ee5(0x794)]['post'](this[_0x284ee5(0x560)]('scheduleMessage'),..._0x45fdd6,async(_0x18d31a,_0x26a572)=>{const _0x1d273b=_0x284ee5;let _0x3b8996=_0x18d31a[_0x1d273b(0x533)];y[_0x1d273b(0x704)]('request\x20received\x20in\x20scheduleMessage'),y['verbose']('request\x20body:\x20'),y['verbose'](_0x18d31a[_0x1d273b(0x533)]);let _0x3ef4ef=await this[_0x1d273b(0x4bf)]({'request':_0x18d31a,'schema':E,'ClassRef':M,'execute':_0x5982f1=>_[_0x1d273b(0x55e)](_0x5982f1,_0x3b8996)});_0x26a572[_0x1d273b(0x309)](0xc8)['json'](_0x3ef4ef);})[_0x284ee5(0x438)](this[_0x284ee5(0x560)](_0x284ee5(0x1a8)),..._0x45fdd6,async(_0x46cb3b,_0x4c6a88)=>{const _0x2bd418=_0x284ee5;let _0x3bffb1=await this[_0x2bd418(0x4bf)]({'request':_0x46cb3b,'schema':E,'ClassRef':M,'execute':_0x452e48=>_[_0x2bd418(0x433)](_0x452e48)});_0x4c6a88[_0x2bd418(0x309)](0xc8)['json'](_0x3bffb1);})[_0x284ee5(0x384)](this[_0x284ee5(0x560)](_0x284ee5(0x3ba)),..._0x45fdd6,async(_0x4f9233,_0x4969b0)=>{const _0x152203=_0x284ee5;y[_0x152203(0x704)]('request\x20received\x20in\x20deleteDoneMessages');let _0x180500=await this['dataValidate']({'request':_0x4f9233,'schema':E,'ClassRef':M,'execute':_0x1feeaa=>_['deleteDoneMessages'](_0x1feeaa)});_0x4969b0[_0x152203(0x309)](0xc8)['json'](_0x180500);})['delete'](this[_0x284ee5(0x560)](_0x284ee5(0x39b)),..._0x45fdd6,async(_0x4ec15a,_0x1d0912)=>{const _0x4d867f=_0x284ee5;y[_0x4d867f(0x704)]('request\x20received\x20in\x20deleteAllMessages');let _0x8ad958=await this[_0x4d867f(0x4bf)]({'request':_0x4ec15a,'schema':E,'ClassRef':M,'execute':_0x28422a=>_[_0x4d867f(0x39b)](_0x28422a)});_0x1d0912[_0x4d867f(0x309)](0xc8)['json'](_0x8ad958);})[_0x284ee5(0x3b5)](this[_0x284ee5(0x560)]('startFlow'),..._0x45fdd6,async(_0x400572,_0x117e9a)=>{const _0x5683ee=_0x284ee5;let _0x5c8b2e=_0x400572[_0x5683ee(0x533)];y['verbose'](_0x5683ee(0x740)),y[_0x5683ee(0x704)](_0x5683ee(0x84d)),y[_0x5683ee(0x704)](_0x400572[_0x5683ee(0x533)]);let _0x2110a0=await this['dataValidate']({'request':_0x400572,'schema':E,'ClassRef':M,'execute':_0x515673=>_[_0x5683ee(0x6e9)](_0x515673,_0x5c8b2e)});_0x117e9a[_0x5683ee(0x309)](0xc8)[_0x5683ee(0x625)](_0x2110a0);})[_0x284ee5(0x438)](this[_0x284ee5(0x560)](_0x284ee5(0x301)),..._0x45fdd6,async(_0x8445f7,_0x10f409)=>{const _0x3d79de=_0x284ee5;y[_0x3d79de(0x704)](_0x3d79de(0x441));let _0x538b38=await this[_0x3d79de(0x4bf)]({'request':_0x8445f7,'schema':E,'ClassRef':M,'execute':_0x2bfc73=>_[_0x3d79de(0x301)](_0x2bfc73)});_0x10f409['status'](0xc8)[_0x3d79de(0x625)](_0x538b38);})[_0x284ee5(0x438)](this['routerPath']('getTicketSystem'),..._0x45fdd6,async(_0x4cee73,_0x470d60)=>{const _0xa4c14d=_0x284ee5;y[_0xa4c14d(0x704)](_0xa4c14d(0x787));let _0x57bfd6=await this['dataValidate']({'request':_0x4cee73,'schema':E,'ClassRef':M,'execute':_0x48f0b8=>_[_0xa4c14d(0x301)](_0x48f0b8)});_0x470d60[_0xa4c14d(0x309)](0xc8)[_0xa4c14d(0x625)](_0x57bfd6);})['post'](this[_0x284ee5(0x560)](_0x284ee5(0x62f)),..._0x45fdd6,async(_0x307c07,_0x35fd94)=>{const _0x403811=_0x284ee5;let _0x13483c=_0x307c07[_0x403811(0x533)];y['verbose'](_0x403811(0x254)),y[_0x403811(0x704)](_0x403811(0x84d)),y[_0x403811(0x704)](_0x307c07[_0x403811(0x533)]);let _0x1a06a9=await this[_0x403811(0x4bf)]({'request':_0x307c07,'schema':E,'ClassRef':M,'execute':_0x42c586=>_[_0x403811(0x62f)](_0x42c586,_0x13483c)});_0x35fd94['status'](0xc8)[_0x403811(0x625)](_0x1a06a9);})[_0x284ee5(0x3b5)](this[_0x284ee5(0x560)](_0x284ee5(0x4c6)),..._0x45fdd6,async(_0x4b0b32,_0xf7e958)=>{const _0x11b26f=_0x284ee5;let _0x49332a=_0x4b0b32['body'];y[_0x11b26f(0x704)]('request\x20received\x20in\x20updateCustomFields'),y[_0x11b26f(0x704)](_0x11b26f(0x84d)),y[_0x11b26f(0x704)](_0x4b0b32[_0x11b26f(0x533)]);let _0x37d295=await this[_0x11b26f(0x4bf)]({'request':_0x4b0b32,'schema':E,'ClassRef':M,'execute':_0x1ab7ea=>_[_0x11b26f(0x4c6)](_0x1ab7ea,_0x49332a)});_0xf7e958[_0x11b26f(0x309)](0xc8)[_0x11b26f(0x625)](_0x37d295);})[_0x284ee5(0x3b5)](this[_0x284ee5(0x560)](_0x284ee5(0x207)),..._0x45fdd6,async(_0x47470d,_0x5c9cbe)=>{const _0x2768ec=_0x284ee5;let _0x3be36b=_0x47470d[_0x2768ec(0x533)];y[_0x2768ec(0x704)](_0x2768ec(0x234)),y[_0x2768ec(0x704)](_0x2768ec(0x84d)),y[_0x2768ec(0x704)](_0x47470d[_0x2768ec(0x533)]);let _0x3868fa=await this[_0x2768ec(0x4bf)]({'request':_0x47470d,'schema':E,'ClassRef':M,'execute':_0x5c8d6=>_[_0x2768ec(0x207)](_0x5c8d6,_0x3be36b)});_0x5c9cbe[_0x2768ec(0x309)](0xc8)[_0x2768ec(0x625)](_0x3868fa);})['post'](this[_0x284ee5(0x560)](_0x284ee5(0x8f0)),..._0x45fdd6,async(_0x477d18,_0x746d86)=>{const _0x48189a=_0x284ee5;let _0x55a7a0=_0x477d18[_0x48189a(0x533)];y[_0x48189a(0x704)](_0x48189a(0x622)),y[_0x48189a(0x704)](_0x48189a(0x84d)),y[_0x48189a(0x704)](_0x477d18['body']);let _0x3c22f1=await this[_0x48189a(0x4bf)]({'request':_0x477d18,'schema':E,'ClassRef':M,'execute':_0xd9f7a9=>_[_0x48189a(0x8f0)](_0xd9f7a9,_0x55a7a0)});_0x746d86[_0x48189a(0x309)](0xc8)['json'](_0x3c22f1);})[_0x284ee5(0x3b5)](this[_0x284ee5(0x560)](_0x284ee5(0x4a5)),..._0x45fdd6,async(_0x3ac5a8,_0x368a80)=>{const _0x4f1404=_0x284ee5;let _0x4a590d=_0x3ac5a8[_0x4f1404(0x533)];y[_0x4f1404(0x704)](_0x4f1404(0x453)),y[_0x4f1404(0x704)](_0x4f1404(0x84d)),y[_0x4f1404(0x704)](_0x3ac5a8[_0x4f1404(0x533)]);let _0x443a12=await this['dataValidate']({'request':_0x3ac5a8,'schema':E,'ClassRef':M,'execute':_0x2f7698=>_[_0x4f1404(0x4a5)](_0x2f7698,_0x4a590d)});_0x368a80[_0x4f1404(0x309)](0xc8)[_0x4f1404(0x625)](_0x443a12);})['post'](this[_0x284ee5(0x560)](_0x284ee5(0x790)),..._0x45fdd6,async(_0x5892f0,_0x162754)=>{const _0x2b7e9f=_0x284ee5;let _0x1c0a43=_0x5892f0[_0x2b7e9f(0x533)];y[_0x2b7e9f(0x704)](_0x2b7e9f(0x5f9)),y[_0x2b7e9f(0x704)](_0x2b7e9f(0x84d)),y[_0x2b7e9f(0x704)](_0x5892f0[_0x2b7e9f(0x533)]);let _0x4669f8=await this['dataValidate']({'request':_0x5892f0,'schema':E,'ClassRef':M,'execute':_0x61c724=>_[_0x2b7e9f(0x790)](_0x61c724,_0x1c0a43)});_0x162754[_0x2b7e9f(0x309)](0xc8)[_0x2b7e9f(0x625)](_0x4669f8);})['post'](this[_0x284ee5(0x560)]('editConversation'),..._0x45fdd6,async(_0xd750b8,_0x59c76c)=>{const _0x11a2e2=_0x284ee5;let _0x44cd20=_0xd750b8[_0x11a2e2(0x533)];y[_0x11a2e2(0x704)](_0x11a2e2(0x314)),y['verbose']('request\x20body:\x20'),y[_0x11a2e2(0x704)](_0xd750b8[_0x11a2e2(0x533)]);let _0x19870d=await this[_0x11a2e2(0x4bf)]({'request':_0xd750b8,'schema':E,'ClassRef':M,'execute':_0x38db9e=>_['editConversation'](_0x38db9e,_0x44cd20)});_0x59c76c[_0x11a2e2(0x309)](0xc8)[_0x11a2e2(0x625)](_0x19870d);})['delete'](this['routerPath'](_0x284ee5(0x3e6)),..._0x45fdd6,async(_0x17135f,_0x27d4b3)=>{const _0x1b4dfc=_0x284ee5;let _0x1eeb0f=_0x17135f[_0x1b4dfc(0x533)];y[_0x1b4dfc(0x704)](_0x1b4dfc(0x46e)),y['verbose'](_0x1b4dfc(0x84d)),y[_0x1b4dfc(0x704)](_0x17135f['body']);let _0x4c12d0=await this[_0x1b4dfc(0x4bf)]({'request':_0x17135f,'schema':E,'ClassRef':M,'execute':_0x543ac5=>_['deleteConversation'](_0x543ac5,_0x1eeb0f)});_0x27d4b3[_0x1b4dfc(0x309)](0xc8)[_0x1b4dfc(0x625)](_0x4c12d0);})[_0x284ee5(0x3b5)](this[_0x284ee5(0x560)]('createflow'),..._0x45fdd6,async(_0x44de90,_0x557bc2)=>{const _0x3aabc5=_0x284ee5;let _0x31f0d6=_0x44de90[_0x3aabc5(0x533)],_0x565a2a=_0x44de90[_0x3aabc5(0x4e4)][_0x3aabc5(0x3a8)];y[_0x3aabc5(0x704)](_0x3aabc5(0x269)),y[_0x3aabc5(0x704)](_0x3aabc5(0x84d)),y[_0x3aabc5(0x704)](_0x44de90['body']);let _0x2fad80=await this['dataValidate']({'request':_0x44de90,'schema':E,'ClassRef':M,'execute':_0x4382a6=>_[_0x3aabc5(0x580)](_0x4382a6,_0x31f0d6,_0x565a2a)});_0x557bc2['status'](0xc8)[_0x3aabc5(0x625)](_0x2fad80);})[_0x284ee5(0x3b5)](this[_0x284ee5(0x560)]('editflow'),..._0x45fdd6,async(_0x469a57,_0x47eab5)=>{const _0x1cf149=_0x284ee5;let _0x27104d=_0x469a57['body'],_0x2f7e76=_0x469a57[_0x1cf149(0x4e4)][_0x1cf149(0x3a8)];y[_0x1cf149(0x704)](_0x1cf149(0x796)),y[_0x1cf149(0x704)](_0x1cf149(0x84d)),y[_0x1cf149(0x704)](_0x469a57[_0x1cf149(0x533)]),delete _0x27104d[_0x1cf149(0x79d)],delete _0x27104d[_0x1cf149(0x49b)],delete _0x27104d[_0x1cf149(0x2b2)],delete _0x27104d[_0x1cf149(0x61e)];let _0xf850e1=await this['dataValidate']({'request':_0x469a57,'schema':E,'ClassRef':M,'execute':_0x2d95dc=>_['editFlow'](_0x2d95dc,_0x27104d,_0x2f7e76)});_0x47eab5[_0x1cf149(0x309)](0xc8)[_0x1cf149(0x625)](_0xf850e1);})[_0x284ee5(0x3b5)](this[_0x284ee5(0x560)](_0x284ee5(0x5f2)),..._0x45fdd6,async(_0x6c0994,_0x451516)=>{const _0x2ceb33=_0x284ee5;let _0x42a2e2=_0x6c0994[_0x2ceb33(0x533)];y[_0x2ceb33(0x704)]('request\x20received\x20in\x20editFlow'),y[_0x2ceb33(0x704)](_0x2ceb33(0x84d)),y[_0x2ceb33(0x704)](_0x6c0994[_0x2ceb33(0x533)]);let _0x500a50=await this[_0x2ceb33(0x4bf)]({'request':_0x6c0994,'schema':E,'ClassRef':M,'execute':_0x15eeb8=>_[_0x2ceb33(0x839)](_0x15eeb8,_0x42a2e2)});_0x451516['status'](0xc8)[_0x2ceb33(0x625)](_0x500a50);})['post'](this['routerPath'](_0x284ee5(0x82a)),..._0x45fdd6,async(_0x1c6657,_0x4ff590)=>{const _0x9660a6=_0x284ee5;let _0x79b322=_0x1c6657['body'];y[_0x9660a6(0x704)](_0x9660a6(0x796)),y[_0x9660a6(0x704)]('request\x20body:\x20'),y['verbose'](_0x1c6657[_0x9660a6(0x533)]);let _0x509868=await this[_0x9660a6(0x4bf)]({'request':_0x1c6657,'schema':E,'ClassRef':M,'execute':_0xeeadfc=>_[_0x9660a6(0x347)](_0xeeadfc,_0x79b322)});_0x4ff590[_0x9660a6(0x309)](0xc8)[_0x9660a6(0x625)](_0x509868);})['post'](this['routerPath'](_0x284ee5(0x401)),..._0x45fdd6,async(_0x45bc36,_0x132166)=>{const _0x30310e=_0x284ee5;let _0x32bf93=_0x45bc36[_0x30310e(0x533)];y[_0x30310e(0x704)]('request\x20received\x20in\x20editFlow'),y['verbose'](_0x30310e(0x84d)),y[_0x30310e(0x704)](_0x45bc36[_0x30310e(0x533)]);let _0x309fd3=await this['dataValidate']({'request':_0x45bc36,'schema':E,'ClassRef':M,'execute':_0x36ee72=>_[_0x30310e(0x66e)](_0x36ee72,_0x32bf93)});_0x132166[_0x30310e(0x309)](0xc8)[_0x30310e(0x625)](_0x309fd3);})[_0x284ee5(0x3b5)](this[_0x284ee5(0x560)](_0x284ee5(0x6e2)),..._0x45fdd6,async(_0x3ce5a9,_0x31460e)=>{const _0x100850=_0x284ee5;let _0x2850a9=_0x3ce5a9[_0x100850(0x533)];y[_0x100850(0x704)](_0x100850(0x451)),y[_0x100850(0x704)]('request\x20body:\x20'),y[_0x100850(0x704)](_0x3ce5a9[_0x100850(0x533)]);let _0xc41e2c=await this['dataValidate']({'request':_0x3ce5a9,'schema':E,'ClassRef':M,'execute':_0x3cec3d=>_[_0x100850(0x488)](_0x3cec3d,_0x2850a9)});_0x31460e['status'](0xc8)[_0x100850(0x625)](_0xc41e2c);})[_0x284ee5(0x3b5)](this[_0x284ee5(0x560)]('editflowcondition'),..._0x45fdd6,async(_0x20da1a,_0x1c6c1c)=>{const _0x2574d6=_0x284ee5;let _0x8faa9a=_0x20da1a[_0x2574d6(0x533)];y['verbose'](_0x2574d6(0x750)),y[_0x2574d6(0x704)]('request\x20body:\x20'),y[_0x2574d6(0x704)](_0x20da1a[_0x2574d6(0x533)]);let _0x42fe5a=await this[_0x2574d6(0x4bf)]({'request':_0x20da1a,'schema':E,'ClassRef':M,'execute':_0x3bc2fe=>_[_0x2574d6(0x838)](_0x3bc2fe,_0x8faa9a)});_0x1c6c1c[_0x2574d6(0x309)](0xc8)[_0x2574d6(0x625)](_0x42fe5a);})['post'](this[_0x284ee5(0x560)](_0x284ee5(0x6f0)),..._0x45fdd6,async(_0x4d7e9d,_0x45607b)=>{const _0x1f748c=_0x284ee5;let _0x13d77a=_0x4d7e9d[_0x1f748c(0x533)];y[_0x1f748c(0x704)](_0x1f748c(0x697)),y[_0x1f748c(0x704)](_0x1f748c(0x84d)),y[_0x1f748c(0x704)](_0x4d7e9d[_0x1f748c(0x533)]);let _0x1f8b1b=await this[_0x1f748c(0x4bf)]({'request':_0x4d7e9d,'schema':E,'ClassRef':M,'execute':_0x40a299=>_['editFlowVariable'](_0x40a299,_0x13d77a)});_0x45607b['status'](0xc8)['json'](_0x1f8b1b);})[_0x284ee5(0x3b5)](this[_0x284ee5(0x560)](_0x284ee5(0x892)),..._0x45fdd6,async(_0x6d8987,_0x35c831)=>{const _0x1301de=_0x284ee5;let _0x412092=_0x6d8987[_0x1301de(0x533)];y[_0x1301de(0x704)](_0x1301de(0x76a)),y[_0x1301de(0x704)](_0x1301de(0x84d)),y[_0x1301de(0x704)](_0x6d8987[_0x1301de(0x533)]);let _0x3129a2=await this['dataValidate']({'request':_0x6d8987,'schema':E,'ClassRef':M,'execute':_0x29f49d=>_['getFlow'](_0x29f49d,_0x412092)});_0x35c831['status'](0xc8)['json'](_0x3129a2);})['delete'](this[_0x284ee5(0x560)]('deleteflow'),..._0x45fdd6,async(_0x50fb1e,_0x55f8ba)=>{const _0x27b222=_0x284ee5;let _0x3698d7=_0x50fb1e[_0x27b222(0x533)];y[_0x27b222(0x704)]('request\x20received\x20in\x20deleteFlow'),y[_0x27b222(0x704)](_0x27b222(0x84d)),y[_0x27b222(0x704)](_0x50fb1e[_0x27b222(0x533)]);let _0x5b9ad1=await this[_0x27b222(0x4bf)]({'request':_0x50fb1e,'schema':E,'ClassRef':M,'execute':_0x15efac=>_[_0x27b222(0x7b9)](_0x15efac,_0x3698d7)});_0x55f8ba[_0x27b222(0x309)](0xc8)[_0x27b222(0x625)](_0x5b9ad1);})['get'](this['routerPath'](_0x284ee5(0x5ce)),..._0x45fdd6,async(_0x3f06ac,_0x1be22f)=>{const _0x59357a=_0x284ee5;y[_0x59357a(0x704)](_0x59357a(0x2fc));let _0x1d88ef=await this['dataValidate']({'request':_0x3f06ac,'schema':E,'ClassRef':M,'execute':_0x29956f=>_[_0x59357a(0x246)](_0x29956f)});_0x1be22f[_0x59357a(0x309)](0xc8)[_0x59357a(0x625)](_0x1d88ef);});}},Mi=I(require(a0_0x466431(0x3b9))),te={};function yi(_0x40ab59,_0xd16ab0,_0xe52741,_0x41215e){te[_0x40ab59]||(te[_0x40ab59]={}),te[_0x40ab59][_0xd16ab0]={'id':_0xd16ab0,'response':_0xe52741,'events':_0x41215e};}function bi(_0xc07800,_0x55a785){!te[_0xc07800]||!te[_0xc07800][_0x55a785]||delete te[_0xc07800][_0x55a785];}function F(_0x32c9f9,_0xc127d3,_0x2b85c3){const _0x1a9f53=a0_0x466431;if(!te[_0x32c9f9])return;let _0x1cf1de=_0x1a9f53(0x27a)+JSON[_0x1a9f53(0x66f)](_0x2b85c3)+'\x0a\x0a';Object[_0x1a9f53(0x66a)](te[_0x32c9f9])[_0x1a9f53(0x4fe)](_0x1dff80=>{const _0x271b35=_0x1a9f53;_0x1dff80[_0x271b35(0x754)][_0x271b35(0x6f2)](_0xc127d3)&&_0x1dff80['response'][_0x271b35(0x653)](_0x1cf1de);});}function Si(){const _0x37558d=a0_0x466431;let _0x1d8ffb={};for(let _0xf0ef64 in te)_0x1d8ffb[_0xf0ef64]=Object['values'](te[_0xf0ef64])['map'](_0x4be632=>({'id':_0x4be632['id'],'events':_0x4be632[_0x37558d(0x754)]}));return _0x1d8ffb;}var Ci=require('uuid'),Is=require(a0_0x466431(0x599)),Ts=class{},Io=new Is['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),_o=new Is[(a0_0x466431(0x219))]({'_id':{'type':String,'default':a0_0x466431(0x1c3)},'WebhookGlobal':{'type':Io},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ve=T?.['model'](Ts[a0_0x466431(0x8d9)],_o,a0_0x466431(0x1ac)),Oo=Mi[a0_0x466431(0x525)][a0_0x466431(0x473)](__dirname,a0_0x466431(0x76f)),ke=(0x0,xt[a0_0x466431(0x33c)])(),xo=S[a0_0x466431(0x438)]('AUTHENTICATION')[a0_0x466431(0x918)],ie=[Aa,Ta,Oa[xo]];function a0_0x66cc(){const _0x56eec2=['-instances','messages.update','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','):\x20Buscando\x20todos\x20os\x20fluxos...','DEBUG','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','status@broadcast','getClient','Erro\x20ao\x20tentar\x20updateCustomFields','/wa-all-message','RECONNECT_TIME_FRAME','request\x20received\x20in\x20editFlowcondition','thumbnailUrl','):\x20Atualizando\x20status\x20da\x20mensagem\x20','qrcode','events','messageSecret','getContactModelForOwner','sections','keyPattern','bodyString','instances','\x5cd+','ip:\x20','next_groupId','node-cache','pollCreationMessageKey','Reiniciando\x20a\x20aplicação...','Error\x20fetching\x20and\x20updating\x20profile:\x20','headerString','):\x20Limpando\x20AutomateSystem','):\x20Enviando\x20contato','participants','_sender','fetchProfilePictureUrl','updateGParticipate','Contacts\x20not\x20found','request\x20received\x20in\x20getFlow','transformScheduledMessagesByType','getStatus','Mensagem\x20perdida,\x20não\x20foi\x20possível\x20descriptografá-la,\x20abra\x20o\x20WhatsApp\x20no\x20seu\x20celular\x20para\x20visualizá-la','currency','downloads','none','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','/clients-info','):Error\x20in\x20converting\x20audio','replaceValue','off','padStart','):\x20Editando\x20edição\x20do\x20fluxo...','Parando\x20aplicação,\x20atualização\x20recebida','_minute','Botão\x201','listResponseMessage','connect','):\x20Ler\x20mensagem','defineProperty','everyOne','username','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','AutomateSystem','replace','sendMessageWithTypingButtons','):Type\x20defined\x20as\x20audio','saveMediaToFile','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','this.reconnectAttempts:\x20','Erro\x20ao\x20adicionar\x20label\x20','*Teste\x20de\x20Título*\x0a\x0aDescrição\x20de\x20Teste\x0a','WARN','processclearVariables','PREFIX_KEY','validate','enabled','fetchConversation','Connection\x20closed\x20for\x20instance:\x20','#9568cf','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','router','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','request\x20received\x20in\x20editFlow','chatId','ip\x20-6\x20addr\x20del\x20','@whiskeysockets/baileys','presence','saveChatVariables','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','blocks','/wa-connection-update','listIPv6Addresses','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','synchronizeAndMapFlows','profile','Partes\x20do\x20domínio:','email','equal','label_jid','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','markMessageAsRead','lastSendMessage','footer','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','_error','):\x20delete\x20=\x20true','repository','realVariables','buttonMessage','/64\x20dev\x20','sharePass','Falha\x20ao\x20processar\x20fetchBusinessProfile','exists','Esse\x20fluxo\x20expirou','https://ipv6.jsonip.com','eventHandler','textMessage','deleteFlow','http://checkip.dyndns.org','Número:\x20','/wa-chats','\x20Tentativa\x20de\x20reconexão\x20','getLastMessage','Unauthorized','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','):\x20Fluxo\x20\x27','keys','createServer','):\x20Adicionando\x20mensagens\x20ao\x20grupo...','apiName','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','eventEmitter','initializeQueue','leadInfo.customFields','checkAndRestartProcess','SERVER_PORT','upsertedCount','chatLog','findGroupInfo','Bad\x20Request','updateOneById','singleSelectReply','webhookService','groupName','API\x20Key\x20from\x20Request:','):\x20Há\x20mensagens\x20prontas,\x20limpando\x20e\x20adicionando\x20à\x20fila','qrCode','minutesToClose','):Temp\x20image\x20deleted','COLOR','fakeReceived','messageStubParameters','videoMessage','\x20segundos...','cachedContact','startCommandWord','/media','findOrCreate','single_select','yes','updateAll','\x22\x20-\x20REMOVED','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','uncaughtException','/instance/delete','array','):Delete\x20chat','ip6eui','varedits','addToProcessedMessages','):Image\x20created','test','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','scheduled','matchRegex','apiResponse','):\x20Entrou\x20na\x20função\x20stop','instanceKeys','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','leaveGroup','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','dbServer','):\x20\x27Deletando\x20fluxo,\x20id:\x20','\x1b[44m','env','https','enviado\x20para','composing','isBase64','):\x20Deletando\x20conversa...','pairingCode','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','last','selectedRowId','downloadMediaMessage','catch','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','URL\x20completa:','request_time','normalizeMessage','/wa-message-update','superadmin','leadInfo','editedMessage','exec','processawaitSeconds','Erro\x20de\x20atualização:\x20','myAppStateKeyId','.jpg','\x1b[32m','Error\x20in\x20prepareMediaMessage:','templateButtonReplyMessage','insertMany','iniciando\x20fluxo\x20router','replyOptions','):\x20isVote:\x20','indexOf','ChatModel','sendPoll','readFileSync','CONTACTS_UPDATE','Configuração\x20SSL\x20recuperada:','expression','\x22reaction\x22\x20must\x20be\x20an\x20emoji','webhookMap','phoneNumber','getUniqueFlowName','editflowreply','count','KEY','Erro\x20ao\x20aplicar\x20varedit:\x20','trimmed','deleteImportedChat','stack','_hour','stopWhenYouSendMsg','3EB0','sign','createInstance','OrAnd','audio/ogg;\x20codecs=opus','editFlowCondition','editFlowBlock','latitude','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','add','tags','\x0a*Você\x20respondeu*:\x0a','getMIMEType','.xlsx','done','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','noConnection','API_KEY','TEL','updateChatWithMessage','from','Fluxo\x20\x27','This\x20name\x20','listMessage','Missing\x20global\x20api\x20key','code','request\x20body:\x20','remoteJid','pop','video','https://v6.ident.me','whoCanUse','contactMessage','true','cleaningUp','content-type','):\x20Editando\x20condição\x20do\x20fluxo...','):\x20Entrou\x20na\x20função\x20processawaitSeconds','delaySecMin','authService','):\x20Rótulo\x20atualizado:\x20','prepareWAMessageMedia','Falhou\x20ao\x20encontrar\x20chat\x20','CONECTADO\x20À\x20UAZAPI','expiration','qrcode-terminal','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','poll','The\x20\x22','stdout','CONTACTS_UPSERT','createJid','Erro\x20ao\x20normalizar\x20a\x20mensagem:','hGet','role','replaceVariables','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','updateOne','findRealGroups','_Contacts','LEVEL','):Trying\x20to\x20get\x20business\x20profile','paused','):\x20Conversa\x20está\x20expirada','8080','getDelay','processblock','instance.','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','viewOnceMessage','):\x20Bloco\x20copiado:\x20','console','https://api.elevenlabs.io/v1/text-to-speech/','statusMessage','updateGroupPicture','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','messages.set','pow','#00a1f2','copyBlock','formatBRNumber','toLowerCase','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','findOneAndUpdate','DATABASE_CONNECTION_DB_PREFIX_NAME','endsWith','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','instanceName','generateHash','blockId','\x22\x20not\x20found','toDataURL','item','emit','):\x20Erro\x20durante\x20a\x20atualização:\x20','getflow','hbs','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Operador:\x20\x22','pollCreationMessage','uazapiSendLocation',',\x20Expiration\x20Time:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','locationMessage','empty','CacheContacts\x20database\x20connection\x20closed.','\x20instance\x20does\x20not\x20exist','SECRET','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','not_announcement','Mensagens\x20deletadas\x20com\x20sucesso.','Instance\x20logged\x20out','mentioned','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','creds.update','readMessages','pt-BR','conversationTimestamp','promisify','ScheduleMessageModel','debug','editConversation','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','AddUserFlow','formatStatusMessage','_p_','triedToSend','chats.set','Last\x20message\x20not\x20found\x20for\x20number:\x20','ListType','groupUpdateSubject','automateSystem','preview','sendStatus','waMonitor',',\x20lastCondition:\x20','selectedId','selectableCount','trim','label','vcard','mediaSticker','ip\x20-6\x20addr\x20show\x20scope\x20global','2628453UImzth','mongodb://','ff:fe','upsertChats','randomBytes','Data\x20inválida\x20fornecida','flowPrefixCommand','delay','defineAuthState','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','connectionUpdate','jwt','random','jpegThumbnail','proto','StartID:','error','unreadCount','messages.upsert','flattenObject','deletedCount','context','ipv6Prefix','name','static','SERVER','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','Subscribed\x20Events:','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','\x20não\x20encontrado\x20para\x20cópia','):\x20Conversa\x20atualizada\x20em\x20memória','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','processReadyMessages','view\x20engine','Enter\x20a\x20value\x20in\x20milliseconds','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','Rótulo\x20deletado:\x27,\x20','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','close','Not\x20Found','folder','EXPIRIN_IN','groupJid','\x27\x20não\x20encontrado\x20na\x20memória','#ffffff','Erro\x20inesperado\x20em\x20processvaredits:\x20','updateFlowConfig','):\x20Iniciando\x20processReadyMessages','Instância:\x20','#83e421','verifyWhatsAppNumber','buffer','descId','backgroundColor','groupMetadata','promote','width','QRCODE_UPDATED','inner','Database\x20connection\x20closed.','):\x20whoCanUse\x20after\x20validation:\x20','\x1b[30m','URL','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','throwAndLogError','put','Número\x20não\x20possui\x20WhatsApp.','buttonText','base64','child_process','sendText','2uVLLkg','6VCbMQf','flows','unknown\x20operation\x20type\x20[','GROUP_PARTICIPANTS_UPDATE','Instance\x20Name:','/events/:instance','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','available','log','IPv6\x20address\x20configured:\x20','fetchContacts','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','Content\x20is\x20required','TYPE','):\x20Bloco\x20com\x20ID\x20','GUARD',',\x20Minutes\x20to\x20Close:\x20','updateMessage','Error\x20finding\x20many\x20contacts:','Connection\x20Closed','sendMedia','Erro\x20ao\x20editar\x20a\x20conversa','variablesNotFound','sendMenu','muteEndTime','joinGroup','where','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','filter','groupParticipantsUpdate','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens','cors','IPv6\x20Prefix\x20detected:\x20','basename','isJidBroadcast','revokeInviteCode','\x1b[34m','):\x20Limpando\x20delayMessage','detectIPv6PrefixAndInterface','error\x20get\x20vote','#ff9484','\x1b[36m','envProcess','isAdmin','dbClient','listType','deleteMessage','setUpdate','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','):Image\x20path:\x20','PORT','):\x20Grupo\x20','Erro\x20ao\x20buscar\x20conversas','_year','agents','sim','DELIVERY_ACK','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','scheduleMessage','notify','deleted','statusCode','All_Instances_Config','Cache\x20instance\x20update\x20result:\x20','SINGLE_SELECT','contains','setNewValue','Instance\x20Key\x20from\x20DB:',',\x20Novo\x20tamanho:\x20','created','.\x20Aguardando\x20','groupdata.participants','readdirSync','URI','updateGroupWebhook','[service]\x20request\x20received\x20in\x20sendButtons','secondValue','utf-8','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','subjectTime','_Messages','sendLocation','errors','floor','displayName','config','createButtonsFromValues','updateStopChat','binary','The\x20instance\x20needs\x20to\x20be\x20disconnected','Tentativa\x20','qrcode.updated','etiquetas','networkInterface','sendReaction','waitingMenu_text','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','sticker','toString','create','Erro\x20ao\x20atualizar\x20cacheInstance:','authorization','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','announce','\x20quoted:\x20','cleanStore','Cache-Control','updateReplyOption','):\x20Fluxos\x20não\x20estão\x20ativados','firstValue','instanceInfo','findAndReplace','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','Subdomínio\x20não\x20encontrado','\x20-y','max','Timeout\x20exceeded','toLocaleString','Fluxo\x20não\x20encontrado\x20na\x20memória.','lastUpdate','copy','segundos','map','not\x20loaded','list2','closeExistingConversations','Erro\x20ao\x20buscar\x20fluxos:','fetchProfile','connection.update','messageLogs','encoding','Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped','Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo','randomMac','replyOption','Error\x20fetching\x20IPv6\x20count:\x20','deleteAll','Erro\x20ao\x20buscar\x20a\x20conversa','):\x20Procurando\x20mensagens\x20para\x20envio','nome','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','Primeiro\x20Valor:\x20','CONNECTION','./.git/config','scheduleNextCheck','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','createSectionsFromValues','updateOnlinePrivacy','text/event-stream','generateRandomIPv6','Instance\x20ID:','#d8e651','out','updateAutoCompleteMessages','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','_id','isInteger','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','endSession','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','ORG:','*Pergunta*:\x20\x0a','!stop','display_text','protocolMessage','createHash','hex','approve','saveCreds','InstancesAlterarTodas','Internal\x20Server\x20Error','Schema','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.','leadInfo.','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','FlowRouter','Erro\x20ao\x20iniciar\x20fluxo:\x20','deviceSentMessage','Erro\x20ao\x20alterar\x20fluxo','dropCollection','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','fromObject','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','DELETED','findChats',',\x20valor\x20passado:\x20\x22','dbSettings','processedMessagesCache','globalShow','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','selectedDisplayText','Fluxo\x20agendado\x20pelo\x20fluxo\x20','findParticipants','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','Error\x20while\x20deleting\x20message\x20for\x20everyone','Erro\x20ao\x20deletar\x20chat:','announcement','processvaredits','request\x20received\x20in\x20updateAutoCompleteMessages','bulkWrite','messagesLogs','):\x20Editando\x20grupo\x20do\x20fluxo...','locked','unreadcount','archive','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','insert','sendWhatsAppAudio','Esse\x20fluxo\x20não\x20permite\x20importação.','Fluxos\x20não\x20estão\x20ativados','creation','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','\x0aFN:','):\x20error:\x20','order','SSL_CONF_FULLCHAIN','allFlows','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','):\x20Editando\x20mensagens\x20no\x20grupo...','inviteCode','use','contact_blacklist','Removidas\x20as\x20variáveis:\x20','Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens','applyvaredit','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','#fed428','READ','__esModule','string','request\x20received\x20in\x20updateAgent','maxActives','ephemeralMessage','dbConnection','findFlow','buttonParamsJson','assign','cpf','editFlow','startFlowWebhook','deleteMany','deleteChat','messageLogsModel','waitingMenu_ExpiredMessage','ms\x20(tentativa\x20','):\x20Criou\x20conversa\x20no\x20startFlow',',\x20resultado:\x20','connectionClosed','}}\x20->\x20\x22','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','.png','request\x20received\x20in\x20createFlow','\x20foi\x20interrompido\x20pelo\x20usuário.','.url','cwd','745696EQIHIr','):\x20expirationTime:\x20','userDevicesCache','pictureUrl','interactiveMessage','longitude','Selecione','_pushName','Erro\x20ao\x20criar\x20fluxo','uazapiSendText','imageMessage','delayChatLabel','/wa-message','data:\x20','isArray','remove','goToFlow','updateMediaMessage','creds.json','):\x20','Erro\x20ao\x20atualizar\x20AutomateSystem:','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','now','isLong','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','cacheContact','createNewConversation','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','Novo\x20IP\x20criado:\x20','fetchChats','method','Fluxo\x20id\x20\x27','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','menuIgnoreNonVotes','waitingMenu_id','varedit','MAX_SAFE_INTEGER','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','51670QLaUxC','nomecompleto','CORS_CREDENTIALS','createAndSave','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','convertaudioMP3','groupInviteCode','limit','.\x20Pulando.','cacheInstanceModel','notEqual','@broadcast','):\x20Buscando\x20flow,\x20id:\x20','boolean','^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$','Valor\x20inicial:\x20\x22','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','send','):\x20customFieldVariables','CORS_METHODS','FULLCHAIN','processgoToFlow','groupSetting','\x20minutos...','sem\x20texto\x20na\x20mensagem','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','removeIPv6','groups','):\x20Criando\x20nova\x20conversa[createNewConversation]','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','timeoutPromise','contactHandle','reduce','LOG_LEVEL','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','modifiedCount','\x20\x1b[0m','uazapi','CREDENTIALS','refused','DATABASE_CONNECTION_HOST','audio/ogg','Group\x20not\x20found','):\x20Enviando\x20enquete','\x20chats\x20de\x20','/instance','configureIPv6','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','):\x20transformedCustomFieldVariables','findOne','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','https://api.openai.com/v1/audio/speech','awaitSeconds','format','mediatype','Erro\x20ao\x20arquivar\x20chat','setWebhook','):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!','moreLogs','Stack\x20trace:','fileLength','demote','setRestartTimeout','normalizeMessageContent','loadInstance','removeInstance','descOwner','profilePicture','Erro\x20ao\x20atualizar\x20o\x20fluxo:','findById','menuMessage','https://github.com/uazapi/uazapi.git','participant','#01d0e2','getDevice','reviver','groupUpdateDescription','restartInstance','.pdf','warn','AUTHENTICATION_TYPE','variablesToObject','):\x20tem\x20blocks','groups.update','Falha\x20ao\x20preparar\x20a\x20mensagem\x20de\x20mídia\x20após\x205\x20tentativas:\x20','closed','chatModify','groupRequestParticipantsUpdate','address','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','autoCompleteMessages.command','app-state-sync-key','):\x20ev.flush\x20realizado','pushName','replaceOne','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','.type','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','Logger','request\x20received\x20in\x20allFlows','findLabels','getOwnPropertyDescriptor','findByIdAndUpdate','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','getAutomateSystem','saveTextReply','arraybuffer','detail','.ogg',',\x20qrcodeCount:\x20','getMonth','keep-alive','status','slice','command','saveConversationToDatabase','):\x20Flow\x20\x27','Chat\x20com\x20ID\x20','messageHandle','idSchedule','findGroups','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','request\x20received\x20in\x20editConversation','\x20inseridas\x20no\x20banco\x20de\x20dados...','convertToString','.gif','Error\x20updating\x20cache\x20contact:','editFlowVariable','restrict','readreceipts','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','_Chats','):\x20Flow\x20desativado','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','drop','_activatedCount','/chat','groupHandler','api','flowStopMinutes','cleanDisconnectedInstances','sleep','\x20segundos\x20antes\x20de\x20reconectar...','privacySettings','AUTHENTICATION_API_KEY','):\x20debug\x20alterando\x20this.AutomateSystem','fetchProfilePicture','Início','cleanupExcessiveIPs','INFO','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','sendMessageWithTyping','updateStatusPrivacy','Valor\x20de\x20find\x20ou\x20replace\x20ausente','cache','updateMissingTags','params','configService','https://api.ipify.org?format=json','PRESENCE_UPDATE','):\x20conversation.lastInteraction:\x20','Router','block','quotedMessage','ini','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','chat\x20não\x20encontrado','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','audioMessage','pollCreationMessageV2','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','urlencoded','editFlowReply','action','):Getting\x20image\x20from\x20url','SERVER_ACK','description','reorderBlocks','Reusing\x20existing\x20IPv6:\x20','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','blockLogs','interactiveResponseMessage','fetchMessages','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','_fromMe','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','uazapiSendContact','quoted','):Audio\x20converted\x20and\x20stored\x20in\x20cache','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','senderKeyDistributionMessage','jsonschema','):Output\x20path:\x20','uazapiSendMedia','ignoreGroups','/message','Last\x20message\x20not\x20found','Não\x20respondeu\x20com\x20a\x20enquete.','.jwt','g-t','HistoryProcessed','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','):\x20whoCanEdit\x20before\x20validation:\x20','DATABASE_CONNECTION_URI','findContacts','message','AutomateSystem\x20não\x20foi\x20inicializado','Safari','CHATS_SET','queue','fetchBusinessProfile','stderr','groupdata','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','3944tcVGjO','contextInfo','pm2\x20flush','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','):Audio\x20processed','caption','logger','ephemeralExpiration','writeFileSync','Message','.txt','Erro\x20ao\x20inserir\x20chats:','/exit','Db\x20Connection','connectionStatus','StartBot','\x1b[0m','delete','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Falha\x20ao\x20processar\x20a\x20solicitação','):\x20Enviando\x20áudio','/startFlow/:instance/:startID','\x1b[42m','finish','split','joinGroupValidate','nativeFlowMessage','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','):\x20\x27Enviando\x20texto\x20para\x20\x27','groupFetchAllParticipating','sendMessageAck','option','loggedOut','):\x20Comando\x20desconhecido:\x20','extractPhoneNumber','updateProfilePicture','getScheduleMessageModelForOwner','height','delAll','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','deleteAllMessages','badSession','\x22\x20cannot\x20be\x20empty','The\x20','mimetype','Imagem\x20não\x20encontrada','countIPv6Addresses','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','exit','clear','isCommunityAnnounce','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','archiveChat','apikey','Total\x20IPv6\x20addresses\x20detected:\x20','\x1b[47m','timeout','.ppt','REDIS_ENABLED','):\x20leadInfoVariables','video-cover.png','EMAIL','onWhatsApp','\x20não\x20encontrado\x20para\x20atualização.','entries','Instance\x20deleted','post','findManyByIds','Atualização:\x20','DB_PREFIX_NAME','path','deleteDoneMessages','getConversationModelForOwner','AUTHENTICATION_JWT_SECRET','Falta\x20informação\x20para\x20a\x20chamada\x20API','\x20do\x20chat\x20','fetchPrivacySettings','convertToWebP','createButtonSectionsFromValues','round','isRunning','linkPreview','STORE_CHATS','presenceSubscribe','):\x20Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x20','mentions','removeUnusedChatFields','findGroup','Read\x20messages','Authentication\x20error','):\x20Enviando\x20localização','convertaudio','makeCacheableSignalKeyStore','desc','labels.edit','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','ConversationModel','length','Error\x20testing\x20IP\x20with\x20','set','groupValidate','sendSticker','flowIgnoreGroups','):\x20\x27Enviando\x20mídia\x20para\x20\x27','unlocked','cta_url','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','\x1b[37m','CHATS_UPDATE','goNextblock','):\x20Label\x20','https://jsonip.com','):\x20newSecondValue\x20após\x20replaceVariables:','deleteConversation','):\x20Aguardando\x205\x20segundos\x20antes\x20de\x20reconectar...','public','startCommand','owner','reorderMessages','remote\x20\x22origin\x22','Forbidden','createGroup','spawn','auth','object','stopMinutes','Pausado\x20por\x20','PENDING','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','findByIdAndDelete','deleteBlock','/instance/create','):Archiving\x20chat','groupJoinApprovalMode','some','fetchLabels','toNumber','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','):\x20teve\x20mudanças\x20chat.archived:\x20','sendMessage','editflowvaredit','Erro\x20ao\x20importar\x20chats','readData','Database\x20update\x20result:','replaceVariablesInObject','pollMessageOnDelete','DisconnectReason','subject','paramsJson','GROUPS_UPSERT','removeChatLabel','MESSAGES_SET','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','getMinutes','retrySendMessage','and','notEmpty','rows','BRL','flowConversation','toBrazilianNumberFormat',']\x20(','.mp4','AutomateFunctions','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.',',\x20pairCode:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','query','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','Total\x20de\x20endereços\x20IPv6\x20globais:\x20','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','createOrUpdate','stickerMessage','msgRetryCounterCache','):\x20Aguardando\x205\x20segundos\x20para\x20garantir\x20interrupção\x20completa...','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','):\x20Ignoring\x20group\x20messages.','waInstances','has','authState','update','):\x20Buscando\x20conversa...','p-queue','ERROR:\x20','DARK','/5\x20falhou:\x20','condition','/*.json','DATABASE','getScheduleMessage','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','updateProfileStatus','Erro\x20ao\x20encerrar\x20a\x20API','LOG','get','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','MESSAGES_UPSERT','delayChatLabel_RETRY_DELAY_MS','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','connectToWhatsapp','getLabelModelForOwner','inet6','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','request\x20received\x20in\x20getAutomateSystem','lean','\x20depois\x20','STATUS_INSTANCE','importChatsBatch','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','\x20removido\x20do\x20chat\x20','startID',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','organization','/create','getMessageModelForOwner','removed','chats.delete','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','deleteOne','request\x20received\x20in\x20editFlowgroup','reconnectTimestamps','request\x20received\x20in\x20getConversation','):\x20Procurando\x20PRONTAS\x20mensagens\x20para\x20envio','Background\x20color\x20is\x20required','XX:XX:XX:XX:XX:XX','ip\x20-6\x20addr\x20show\x20scope\x20global\x20|\x20grep\x20-c\x20inet6','\x20and\x20data:','Flow\x20\x27','memberAddMode','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','chats','AddChatLabel','sending','[AUTH]\x20Database\x20is\x20not\x20enabled','padEnd','processConditionsTest','):\x20[messages.upsert]\x20mensagem\x20duplicada\x20ignorada','messageType','sendPresenceUpdate','contact','addReplyOption','saveVariable','\x20não\x20encontrado','ON\x20-\x20dbName:\x20','updateProfileName','shift','parse','request\x20received\x20in\x20deleteConversation','lastFetchAwaitingApproval','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','redisEnv','findAll','join','):Image\x20is\x20base64','content','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','allContacts','url','):\x20Procurando\x20conversa','):\x20Editando\x20replyOption...','isListOfNumbers','Error\x20updating\x20message\x20status:','\x1b[33m\x1b[1m','\x1b[1m','initAuthCreds','Instância\x20não\x20encontrada.','https://ifconfig.me/ip','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','BufferJSON','):\x20Editando\x20bloco...','SEND_MESSAGE','editFlowGroup','scheduleSendMedia','messageTimestamp','telefone','):\x20Conversa\x20está\x20expirada\x20-\x20voto','\x1b[32m%s\x1b[0m','editChat','):\x20mediaMessageInfoId\x20:\x20','rowId','imported','):\x20lastBlockId:\x20','customFields','\x1b[30m%s\x1b[0m','cacheInstanceRepository','-whatsapp-api','stopConversation','DaysToDelete','isJWT','getMessage','variables','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','clearVariables','messageId','convertedOptions','cacheContactModel','groupId','):\x20Reconectando\x20serviço\x20de\x20mensagens\x20após\x20limpeza.','axios','pollUpdateMessage','getConversation','SERVER_TYPE','data','):\x20whoCanEdit\x20after\x20validation:\x20','groups.upsert','vir','\x27\x20não\x20encontrado','color','isJidUser','):\x20enviado\x20para\x20[','Valor\x20da\x20URL\x20recuperada:','updatePresence','fetchStatus','vote','):\x20alterando\x20this.AutomateSystem','connectionState','unhandledRejection','website','):\x20Deletando\x20mensagem','integer','urlOrBase64','Conexão\x20estabelecida','PLAYED','Error\x20in\x20chatModify\x20for\x20number\x20','editOperator','inviteUrl','dataValidate','findIndex','fileName','menuExpiredMessage','\x20com\x20sucesso.','fetchInstances','):\x20Todos\x20os\x20grupos\x20de\x20mensagens\x20foram\x20deletados\x20com\x20sucesso.','updateCustomFields','Error\x20adding\x20IPv6\x20address:\x20','when','temp-','):\x20Instancia\x20isBusiness:\x20','whoCanEdit','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','\x1b[33m%s\x1b[0m','existsSync','mediaMessage','METHODS','presence.update','licenca','views','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','.TEL;waid=','viewOnceMessageV2','instanceCount','):\x20[messages.update]\x20group\x20ignored','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','user','https://uazapi-plugin.bubbleapps.io/','profilePictureUrl','Connection','):\x20Error\x20processing\x20the\x20block:\x20','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','sort','stateConnection','PRODUCT_LIST','audio','headers','Botão\x202','):\x20Erro\x20ao\x20enviar\x20mensagem:\x20','size','joinApprovalMode','scheduleFlow','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','createConversationforStartFlow','\x20minutos','Font\x20is\x20required','addBlock','\x27\x20removido\x20do\x20AutomateSystem.','@s.whatsapp.net','\x22,\x20valor\x20a\x20substituir:\x20\x22',',\x20Comparador:\x20','File\x20written\x20to\x20path:\x20','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','font','success','undefined','The\x20global\x20api\x20key\x20must\x20be\x20set','mongodb','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','leadInfo.atendimentoAberto','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','forEach','group','\x27\x20do\x20banco\x20de\x20dados...','group-participants.update','generate','list','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','50mb','notas','getFlow','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','\x1b[34m%s\x1b[0m','getTime','chats.upsert','Garbage\x20collection\x20não\x20está\x20disponível.','responsavelid','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','state','.error','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','DD/MM\x20HH:mm:ss','#64c4ff','buttonsResponseMessage','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','toFile','Configured\x20new\x20IPv6:\x20','toggleEphemeral','getContentType','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','):Hash\x20to\x20image\x20name:\x20','Filtered\x20network\x20interfaces:\x20','sharp','updateBlock','toUpperCase','Close\x20connection','GET','reconnectAttempts','result','default','response','):\x20Criando\x20fluxo...','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','processScheduleFlow','getSeconds','whatsappNumber','processingGroup','setting','_lastVote','shareOwners','groups_ignore','Parando\x20aplicação...','getProfileName','body','dayjs','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','updateMissingCustomFields','Network\x20interfaces\x20detected:\x20','startsWith','save','writeData','Grupo\x20não\x20encontrado','list3','Instance\x20\x22','JWT','\x1b[33m','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',',\x20valor\x20a\x20encontrar:\x20\x22','\x20-i\x20','push','\x20inseridos\x20no\x20banco\x20de\x20dados...','ObjectId','):Processing\x20audio','CHATS_UPSERT','#f64847','.extension','1111300EAJLKs','docker','quick_reply','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','desativadoFluxoAte','cachedContacts-whatsapp','execSync','ip\x20-br\x20link\x20show','Erro\x20ao\x20deletar\x20mensagens:','readFile','):\x20atualização\x20chat:\x20','updateMany','LOG_COLOR','MESSAGES_UPDATE','Error\x20parsing\x20JSON:','CHATS_DELETE','.doc','crypto','/events','):\x20Conversa\x20inserida\x20com\x20sucesso.','editScheduleMessage','nativeFlowResponseMessage','routerPath','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','STORE_CONTACTS','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','splice','waitingMenu_replyOptions','lastSend','updateChatGroupData','verifiedName','oldToken','getChatModelForOwner','createIPv6','/instance/fetchInstances','Deletion\x20failed','Erro\x20ao\x20buscar\x20o\x20fluxo','CONTACTS_SET','toBRL','?timestamp=','--------------------------------------','Sem\x20permissão\x20para\x20enviar\x20para\x20esse\x20grupo','):\x20updateResult:','\x1b[31m','ReplyOption\x20com\x20ID\x20','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','LICENSE_INVALID','PROXY','sendDataWebhook','chatHandle','processPollUpdateMessage','Tentando\x20reconectar...','namespace','createFlow','selectedButtonId','processApiRequest','Erro\x20ao\x20alterar\x20privacidade','hGetAll','WA\x20MODULE','The\x20property\x20cannot\x20be\x20empty','originalUrl','groupToggleEphemeral','$pull','webhookModel','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','readMessage','repeat','#fe9dfe','):\x20Adicionando\x20\x27','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','shareFlow','SERVER_OFFLINE','Conversa\x20deletada\x20com\x20sucesso.','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','processConditions','stanzaId','delayMessage','mongoose','\x20segundos','audioWhatsapp','):Sending\x20audio\x20whatsapp','Erro\x20ao\x20copiar\x20o\x20documento','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','\x20adicionado\x20ao\x20chat\x20','sendButtons','client',',\x20isAdmin:\x20','proxy:\x20','find','Types','?authSource=admin&readPreference=primary&directConnection=true','logout','.mp3','findGroupsEspecial','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20Entrou\x20na\x20função\x20clearVariables','^\x5cd+','redirect','storePath','local_map','Erro\x20ao\x20atualizar\x20o\x20flow.','message_normalized','apirequest','DATABASE_CONNECTION_PASSWORD','\x27...','Opção\x20Falsa\x20','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','\x20is\x20already\x20in\x20use.','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','newStoppedUntil','restart','unlinkSync','hasOwnProperty','https://chat.whatsapp.com/','number','prepareMediaMessage','bodyStringErrorParse','atendimentoAberto','stopped','groupGetInviteInfo','options','redis','sendMessageWithRetry','ephemeralDuration','https://api.openai.com/v1/images/generations','Error\x20writing\x20file:\x20','messaging-history.set','admin','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','importChats','allflows','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','getBase64FromMediaMessage','updateMissingEtiquetas','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','Mensagem\x20não\x20suportada','@redis/client','API\x20Key\x20inválida.','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','race','lastBlockId','contactsArrayMessage','menu_options','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','sendCommand','authModel','findAndReplaceRegex','\x20ao\x20chat\x20','redis://127.0.0.1:6379','Cannot\x20','requestFile','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','delayChatLabel_MAX_RETRIES','Error\x20removing\x20unused\x20chat\x20fields:','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','groupBetterSetting','evaluateCondition','):\x20Falha\x20ao\x20deletar\x20mensagem.','/webhook','2559265CbXlUm','Content-Type','\x20}\x0a','beautifyWithPlaceholders','hDel','collections','upperCase','editflowblock','getHours','@newsletter','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','):\x20\x27Enviando\x20audio\x20para\x20\x27','imgUrl','variable','request\x20received\x20in\x20fetchConversation','.ogv','Flow\x20iniciado','187DqWnoT','instanceName\x20not\x20provided.','all','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','VERBOSE','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','choices','replaceVariablesLogs','scheduleSendAudio','isBusinessInstance','/:instanceName','charAt','.mimetype','Flow\x20iniciado\x20com\x20','fullName','Variáveis\x20não\x20encontradas:','Resultado\x20da\x20correspondência\x20de\x20URL:','findWebhook','creds','deleteMessageForEveryone','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','@g.us','):\x20Query\x20params:','ENABLED','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','image','Failed\x20to\x20send\x20buttons\x20message','changeVariables','replacer','testIPv6','pollCreationMessageV3','status.instance','replaceVariablesChat','recording','conditions','webp','formatVCard','findAndUpdateCacheContact','request\x20received\x20in\x20updateFlowConfig','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','json','):\x20Buscando\x20conversas...','isURL','evaluateConditionTest','Nenhum\x20fluxo\x20correspondente\x20encontrado.','deleteReplyOption','resetReconnectionVariables','$dbName','Failed\x20to\x20prepare\x20media\x20message','reactionMessage','updateAgent','\x20:\x20','start','0123456789ABCDEF','onTime','sendList','AppStateSyncKeyData','):\x20conversation.waitingMenu_name','connecting','localWebhook','sendContact','.\x20Tentando\x20novamente\x20em\x20','Module\x20-\x20ON','}}\x20->\x20valor\x20não\x20encontrado','ListMessage','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','document','instancias:\x20',',\x20Segundo\x20Valor:\x20','http','[all]','fileUrl','/config','USER','STORE_MESSAGE','removeProfilePicture','autoCompleteMessages','whatsappNumbers','/wa-contacts','wuid','isCommunity','processUazapi','express','statusJidList','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','setHeader','write','AUTHENTICATION','header','CONNECTION_UPDATE','getDate','):\x20Não\x20achou\x20nenhum\x20flow','\x1b[31m%s\x1b[0m','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','stopMinutesMaxActives','contacts.upsert','lowerCase','updateConversation','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','getPrototypeOf','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','getAllData','messages','Subdomínio\x20final:','connectedClient','match','dbInstance','groupDesc','WebhookGlobal','values','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','then','chat','editFlowVaredit','stringify','importChatsAntigo','writeFile','groupMemberAddMode','):including\x20timestamp\x20in\x20url:\x20','notMatchRegex','groupAcceptInvite','updateGParticipant','isBusiness','getOwnPropertyNames','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','\x20excess\x20IPv6\x20addresses.','StatusJidList\x20is\x20required','Erro\x20ao\x20editar\x20o\x20chat','GROUPS_UPDATE','buttons','setContext','webhook','Bloco\x20com\x20ID\x20','/wa-groups','convert','deleteInstance','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','flow','every','type','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','1528824qrWsUe','CORS_ORIGIN','enumerable','DATABASE_CONNECTION_USER','class-validator','createConversationforgoToFlow','pre','ERROR','https://','archived',',\x20canSendMessage:\x20','Telefone:\x20','fora\x20do\x20git','request\x20received\x20in\x20editFlowvariable','lastCondition','.pptx','Removing\x20excess\x20IPv6\x20address:\x20','truncatedtoEnd','findConversation','updateProfilePicturePrivacy','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','isJidGroup','updateLastSeenPrivacy','envYaml','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','addMessagesToGroup','lastInteraction','Detalhes\x20do\x20erro:','updatePrivacySettings','interval\x20não\x20é\x20um\x20número','testingWith','delaySecMax','exports','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','sha256','updateGroupParticipantsWebhook','express-async-errors','generateWAMessageFromContent','\x20-\x20ON:\x20','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','release','unavailable','value','${Message\x20absent\x20from\x20node}','flushHeaders','#9ab6c1','extractMessageContent','PASSWORD','valid','lastRealGroupsFetch','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','Erro\x20ao\x20iniciar\x20o\x20fluxo.','\x1b[36m%s\x1b[0m','reference','groupadd','Erro\x20ao\x20atualizar\x20conversa:\x20','#000000','IP\x20confirmed:\x20','beforeExit','uuid','info','uazapiSendMenu','getVariablesChat','conversation','isConnected','\x0a{\x20instance:\x20','IP\x20mismatch:\x20configured\x20',',\x20global:\x20','):\x20Query\x20params:\x20','awaitingApproval','text','parseInt','digest','error_log','pollErrorMessage','STORE_CLEANING_TERMINAL','):\x20nextBlock.uazapi.name','uazapiDeleteMessage','SSL_CONF','Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','reaction','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','jid','lastMessage','flowConfig','model','isValidIPv6Config','isMessageProcessed','editflowgroup','REDIS','):\x20Encontrado\x20próxima\x20mensagem\x20para\x20','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','contacts.update','jsonwebtoken','instance','startFlow','substring','activatedCount','optionDescription','):\x20Entrou\x20na\x20função\x20saveReply','RemoveChatLabel','.webp','editflowvariable','global','includes','[TESTE\x20RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','):Notifying\x20clients\x20for\x20chat:\x20','/wa-presence','g.us','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','Selecione\x20uma\x20opção','reorderReplyOptions','birthtime','labelId','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','groupCreate','Validate','Invalid\x20format','SendScheduleMessage','Error\x20in\x20buttonsMessage\x20function:','insertCount','replaceVariablesInReplyOptions','verbose','statSync','flowName','):\x20Removendo\x20\x27','lastReceivedMessage','pendingMessages','end','removeData','_month','open','title','fromMe','greater','#9ba6ff','waitingForReplyMenu','flush','key','Erro\x20ao\x20executar\x20bulkWrite:','fone','):\x20conversation.status:\x20','pollMessage','3458JgSbws','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','canSendMessage','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','media','remove.instance','getBusinessProfile','notContains','picture','collection','Erro\x20na\x20função\x20updateChatWithMessage:\x20','^\x5cd+([-]\x5cd+)*@g.us$','addChatLabel','Erro\x20ao\x20atualizar\x20agendamento\x20','online','NextBlock','ScheduleMessage','createConnection','/wa-qrcode','call','$set','editMessagesInGroup','144PJkzEC','waUploadToServer','util','STORE','\x22\x20-\x20NOT\x20CONNECTION','CORS','\x20minutos\x20verificará\x20novas\x20mensagens','createWebhook','HOST','):Image\x20is\x20url','Not\x20allowed\x20by\x20CORS','getUpdate','admin_add','Database\x20is\x20not\x20enabled','groupSettingUpdate','readMessageBot','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','request\x20received\x20in\x20starFlow','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','min','buttonOrList_id','footerText'];a0_0x66cc=function(){return _0x56eec2;};return a0_0x66cc();}ke['use'](a0_0x466431(0x7e2),xt[a0_0x466431(0x525)]['static'](Oo))[a0_0x466431(0x438)](a0_0x466431(0x910),async(_0x27ccc9,_0x2c0d6b)=>{const _0x45e520=a0_0x466431;console['log']('bateu\x20events');let _0x1649f5=_0x27ccc9[_0x45e520(0x337)][_0x45e520(0x6e8)],_0x137593=(_0x27ccc9[_0x45e520(0x41c)][_0x45e520(0x754)]||'')[_0x45e520(0x38b)](','),_0x277b42=(0x0,Ci['v4'])();console['log'](_0x45e520(0x204),_0x1649f5),console['log'](_0x45e520(0x8dd),_0x137593);let _0x298bfd=S[_0x45e520(0x438)]('AUTHENTICATION')[_0x45e520(0x844)],_0x7e27b9=_0x27ccc9['query'][_0x45e520(0x3a8)];if(console['log'](_0x45e520(0x7d6),_0x7e27b9),_0x298bfd[_0x45e520(0x82c)]!==_0x7e27b9){console['log']('env.KEY\x20!==\x20key');try{let _0x550d2a=await me['auth'][_0x45e520(0x5a4)](_0x1649f5);if(console[_0x45e520(0x913)](_0x45e520(0x1b1),_0x550d2a),!_0x550d2a||_0x550d2a[_0x45e520(0x3a8)]!==_0x7e27b9)return console['log'](_0x45e520(0x5cf)),_0x2c0d6b[_0x45e520(0x309)](0x191)[_0x45e520(0x2a8)](_0x45e520(0x5d5));}catch(_0x2d19c6){return console[_0x45e520(0x8d2)](_0x45e520(0x2f8),_0x2d19c6),_0x2c0d6b[_0x45e520(0x309)](0x191)['send'](_0x45e520(0x73f));}}if(!await _e(_0x1649f5))return _0x2c0d6b['status'](0x194)[_0x45e520(0x2a8)](_0x45e520(0x481));_0x2c0d6b['setHeader'](_0x45e520(0x5ec),_0x45e520(0x202)),_0x2c0d6b[_0x45e520(0x652)](_0x45e520(0x1d8),'no-cache'),_0x2c0d6b[_0x45e520(0x652)](_0x45e520(0x4dd),_0x45e520(0x308)),_0x2c0d6b[_0x45e520(0x6b6)]();let _0x554e4c='data:\x20'+JSON[_0x45e520(0x66f)]({'info':_0x45e520(0x4ba)})+'\x0a\x0a';_0x2c0d6b[_0x45e520(0x653)](_0x554e4c),yi(_0x1649f5,_0x277b42,_0x2c0d6b,_0x137593),_0x27ccc9['on'](_0x45e520(0x8e8),()=>{const _0x8605e5=_0x45e520;console[_0x8605e5(0x913)](_0x8605e5(0x791)+_0x1649f5),bi(_0x1649f5,_0x277b42);});}),ke[a0_0x466431(0x3b5)](a0_0x466431(0x388),async(_0x1925fb,_0x581878)=>{const _0x7e98e0=a0_0x466431;console[_0x7e98e0(0x913)](_0x7e98e0(0x81c));let _0x3821a1=_0x1925fb[_0x7e98e0(0x337)][_0x7e98e0(0x6e8)],_0x4a7368=_0x1925fb['params'][_0x7e98e0(0x448)],_0x25add7=_0x1925fb[_0x7e98e0(0x41c)][_0x7e98e0(0x84e)]||'',_0x1eaa07=_0x1925fb['body'];console[_0x7e98e0(0x913)](_0x7e98e0(0x90f),_0x3821a1),console['log'](_0x7e98e0(0x8d1),_0x4a7368),console[_0x7e98e0(0x913)]('RemoteJid:',_0x25add7),console['log']('Request\x20Body:',_0x1eaa07);try{if(!await _e(_0x3821a1))return _0x581878[_0x7e98e0(0x309)](0x194)[_0x7e98e0(0x2a8)]('Instância\x20não\x20encontrada.');let _0x3ffe3d=await _[_0x7e98e0(0x25d)](_0x3821a1,_0x4a7368,_0x25add7,_0x1eaa07);_0x581878[_0x7e98e0(0x2a8)](_0x3ffe3d);}catch(_0x400f7b){console[_0x7e98e0(0x8d2)](_0x400f7b),_0x581878[_0x7e98e0(0x309)](0x1f4)['send'](_0x7e98e0(0x6bd));}}),ke[a0_0x466431(0x438)](a0_0x466431(0x772),(_0x4a77db,_0x2a4f68)=>{const _0x27287e=a0_0x466431;let _0x4c62f0=Si();_0x2a4f68[_0x27287e(0x625)](_0x4c62f0);})['get']('/',(_0x510f98,_0x120005)=>{const _0x34cb9e=a0_0x466431;let _0x2cc728=S['get']('SERVER')[_0x34cb9e(0x900)];if(_0x2cc728){let _0x54fa27=encodeURIComponent(''+_0x2cc728);_0x120005['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x54fa27);return;}let _0x402974=S[_0x34cb9e(0x438)](_0x34cb9e(0x6d8)),_0x523ee7=_0x402974&&_0x402974[_0x34cb9e(0x2ab)]['split']('/')[0x4];if(_0x523ee7){let _0x28418c=encodeURIComponent(_0x34cb9e(0x692)+_0x523ee7);_0x120005[_0x34cb9e(0x5ad)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x28418c);}else _0x120005[_0x34cb9e(0x5ad)](_0x34cb9e(0x4db));})[a0_0x466431(0x904)](a0_0x466431(0x37f),...ie,async(_0x1eb786,_0x8a93b4)=>{const _0x4fac73=a0_0x466431;try{console[_0x4fac73(0x913)](_0x4fac73(0x292)),_0x8a93b4[_0x4fac73(0x309)](0xc8)[_0x4fac73(0x625)]({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x8a93b4['on'](_0x4fac73(0x38a),()=>process[_0x4fac73(0x3a3)](0x0));}catch(_0x5cfe77){console['error']('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x5cfe77),_0x8a93b4[_0x4fac73(0x309)](0x1f4)['json']({'message':_0x4fac73(0x436)});}})[a0_0x466431(0x904)](a0_0x466431(0x645),...ie,async(_0x1ff760,_0x5e1334)=>{const _0x5643a1=a0_0x466431;try{let _0x5e179e=_0x1ff760['body'];await ve[_0x5643a1(0x86c)]({},{'$set':_0x5e179e},{'upsert':!0x0});let _0x789cd0=await ve['findOne']();_0x5e1334[_0x5643a1(0x625)](_0x789cd0);}catch(_0x47d8d3){_0x5e1334[_0x5643a1(0x309)](0x190)['send'](_0x47d8d3[_0x5643a1(0x36a)]);}})['get']('/config',...ie,async(_0x40c9f6,_0x1b1a12)=>{const _0x364074=a0_0x466431;try{let _0x3cc963=await ve[_0x364074(0x2c9)]();if(!_0x3cc963)return _0x1b1a12[_0x364074(0x625)]({});_0x1b1a12[_0x364074(0x625)](_0x3cc963);}catch(_0x588c6d){_0x1b1a12[_0x364074(0x309)](0x1f4)[_0x364074(0x2a8)](_0x588c6d[_0x364074(0x36a)]);}})[a0_0x466431(0x24a)](a0_0x466431(0x2c5),new bt(S,...ie)['router'])[a0_0x466431(0x24a)](a0_0x466431(0x360),new Tt(...ie)[a0_0x466431(0x794)])[a0_0x466431(0x24a)](a0_0x466431(0x323),new lt(...ie)[a0_0x466431(0x794)])[a0_0x466431(0x24a)]('/group',new yt(...ie)[a0_0x466431(0x794)])[a0_0x466431(0x24a)](a0_0x466431(0x5ea),new _t(...ie)[a0_0x466431(0x794)])['use']('/automate',new Ot(...ie)[a0_0x466431(0x794)]);var m=class{constructor(..._0x4140e1){const _0x3ffee7=a0_0x466431;throw{'status':0x190,'error':_0x3ffee7(0x7d1),'message':_0x4140e1[_0x3ffee7(0x3d4)]>0x0?_0x4140e1:void 0x0};}},se=class{constructor(..._0x2147ea){const _0x53da9e=a0_0x466431;throw{'status':0x191,'error':_0x53da9e(0x7bf),'message':_0x2147ea[_0x53da9e(0x3d4)]>0x0?_0x2147ea:void 0x0};}},X=class{constructor(..._0x337bd0){const _0x462d06=a0_0x466431;throw{'status':0x193,'error':_0x462d06(0x3ed),'message':_0x337bd0[_0x462d06(0x3d4)]>0x0?_0x337bd0:void 0x0};}},U=class{constructor(..._0x4e0482){const _0x1b136e=a0_0x466431;throw{'status':0x194,'error':'Not\x20Found','message':_0x4e0482[_0x1b136e(0x3d4)]>0x0?_0x4e0482:void 0x0};}},x=class{constructor(..._0x2d50f9){const _0x13c2de=a0_0x466431;throw{'status':0x1f4,'error':_0x13c2de(0x218),'message':_0x2d50f9[_0x13c2de(0x3d4)]>0x0?_0x2d50f9:void 0x0};}},fe=require(a0_0x466431(0x799));async function _s(_0x5bd775){const _0x22bb91=a0_0x466431;let _0x41e4a1=new $(_s[_0x22bb91(0x8d9)]),_0x52f8ae=T[_0x22bb91(0x74c)](),_0x4557b3=_0x52f8ae['db'](S[_0x22bb91(0x438)](_0x22bb91(0x432))['CONNECTION']['DB_PREFIX_NAME']+_0x22bb91(0x745))['collection'](_0x5bd775),_0x178720=async(_0x4b48d9,_0x4d09b8)=>{const _0x30e8fe=_0x22bb91;try{return await _0x52f8ae[_0x30e8fe(0x77c)](),await _0x4557b3[_0x30e8fe(0x2f6)]({'_id':_0x4d09b8},JSON[_0x30e8fe(0x46d)](JSON[_0x30e8fe(0x66f)](_0x4b48d9,fe['BufferJSON']['replacer'])),{'upsert':!0x0});}catch{}},_0x34c993=async _0x25b466=>{const _0x1b0dc9=_0x22bb91;try{await _0x52f8ae[_0x1b0dc9(0x77c)]();let _0x1e8672=await _0x4557b3['findOne']({'_id':_0x25b466}),_0x6aaefc=JSON[_0x1b0dc9(0x66f)](_0x1e8672);return JSON[_0x1b0dc9(0x46d)](_0x6aaefc,fe['BufferJSON']['reviver']);}catch{}},_0x429838=async _0x417471=>{const _0x4071da=_0x22bb91;try{return await _0x52f8ae[_0x4071da(0x77c)](),await _0x4557b3['deleteOne']({'_id':_0x417471});}catch{}},_0x1c4bda=await _0x34c993('creds')||(0x0,fe[_0x22bb91(0x480)])();return{'state':{'creds':_0x1c4bda,'keys':{'get':async(_0x5c7c4e,_0x2f394a)=>{let _0x17b55e={};return await Promise['all'](_0x2f394a['map'](async _0x30a44a=>{const _0x127941=a0_0x192a;let _0x579c62=await _0x34c993(_0x5c7c4e+'-'+_0x30a44a);_0x5c7c4e===_0x127941(0x2f3)&&_0x579c62&&(_0x579c62=fe[_0x127941(0x8d0)]['Message'][_0x127941(0x635)]['fromObject'](_0x579c62)),_0x17b55e[_0x30a44a]=_0x579c62;})),_0x17b55e;},'set':async _0x231049=>{const _0x53c483=_0x22bb91;let _0x3bbc8b=[];for(let _0xda3d54 in _0x231049)for(let _0xe76d9d in _0x231049[_0xda3d54]){let _0x3abd39=_0x231049[_0xda3d54][_0xe76d9d],_0x79a397=_0xda3d54+'-'+_0xe76d9d;_0x3bbc8b['push'](_0x3abd39?_0x178720(_0x3abd39,_0x79a397):_0x429838(_0x79a397));}await Promise[_0x53c483(0x5fe)](_0x3bbc8b);}}},'saveCreds':async()=>_0x178720(_0x1c4bda,'creds')};}var Ls=I(require('long')),Fs=I(require(a0_0x466431(0x75e))),kt=require(a0_0x466431(0x799)),vi=require(a0_0x466431(0x5d4)),Dt=require(a0_0x466431(0x799)),Pt;function Po(_0x19b626){const _0x34f582=a0_0x466431;return Pt||(Pt=(0x0,vi['createClient'])({'url':_0x19b626[_0x34f582(0x1b7)]}),Pt[_0x34f582(0x77c)]()),Pt;}var ue=class u{constructor(_0x364021,_0x7c4f1e){const _0x4911e2=a0_0x466431;this[_0x4911e2(0x471)]=_0x364021,this['instanceName']=_0x7c4f1e,this['logger']=new $(u[_0x4911e2(0x8d9)]),this[_0x4911e2(0x5a1)]=Po(_0x364021);}set['reference'](_0x5dd540){const _0x3db91c=a0_0x466431;this[_0x3db91c(0x88a)]=_0x5dd540;}async[a0_0x466431(0x7f8)](){const _0x313fb0=a0_0x466431;try{return await this['client'][_0x313fb0(0x5dc)]([_0x313fb0(0x7c4),this[_0x313fb0(0x471)][_0x313fb0(0x78d)]+':*']);}catch(_0x518527){this['logger']['error'](_0x518527);}}async[a0_0x466431(0x53a)](_0x47cc9d,_0x9dc54){const _0xf0e2b4=a0_0x466431;try{let _0x315290=JSON[_0xf0e2b4(0x66f)](_0x9dc54,Dt[_0xf0e2b4(0x485)][_0xf0e2b4(0x618)]);return await this[_0xf0e2b4(0x5a1)]['hSet'](this[_0xf0e2b4(0x471)][_0xf0e2b4(0x78d)]+':'+this['instanceName'],_0x47cc9d,_0x315290);}catch(_0x42f483){this['logger'][_0xf0e2b4(0x8d2)](_0x42f483);}}async[a0_0x466431(0x662)](){const _0x2ca954=a0_0x466431;try{let _0x14204b=await this[_0x2ca954(0x5a1)][_0x2ca954(0x584)](this[_0x2ca954(0x471)][_0x2ca954(0x78d)]+':'+this[_0x2ca954(0x88a)]);if(_0x14204b){for(let _0x169edb in _0x14204b)Object['prototype']['hasOwnProperty'][_0x2ca954(0x72c)](_0x14204b,_0x169edb)&&(_0x14204b[_0x169edb]=JSON['parse'](_0x14204b[_0x169edb],Dt['BufferJSON'][_0x2ca954(0x2e3)]));return _0x14204b;}}catch(_0x11d473){this[_0x2ca954(0x379)][_0x2ca954(0x8d2)](_0x11d473);}}async[a0_0x466431(0x403)](_0x154806){const _0x582c2f=a0_0x466431;try{let _0x15565e=await this[_0x582c2f(0x5a1)][_0x582c2f(0x868)](this[_0x582c2f(0x471)]['PREFIX_KEY']+':'+this['instanceName'],_0x154806);if(_0x15565e)return JSON[_0x582c2f(0x46d)](_0x15565e,Dt[_0x582c2f(0x485)][_0x582c2f(0x2e3)]);}catch(_0x153a81){this[_0x582c2f(0x379)][_0x582c2f(0x8d2)](_0x153a81);}}async[a0_0x466431(0x70b)](_0xbabb11){const _0x2bcf79=a0_0x466431;try{return await this[_0x2bcf79(0x5a1)][_0x2bcf79(0x5ef)](this[_0x2bcf79(0x471)]['PREFIX_KEY']+':'+this[_0x2bcf79(0x88a)],_0xbabb11);}catch(_0x788d60){this['logger']['error'](_0x788d60);}}async[a0_0x466431(0x399)](_0x51a77c){const _0x5b0f18=a0_0x466431;try{return await this[_0x5b0f18(0x5a1)]['del'](_0x51a77c||this['redisEnv'][_0x5b0f18(0x78d)]+':'+this[_0x5b0f18(0x88a)]);}catch(_0x25bd71){this[_0x5b0f18(0x379)]['error'](_0x25bd71);}}};async function Os(_0x300ac9,_0x2e2dc1){const _0x4fcb1d=a0_0x466431;let _0x5f532b=new $(Os[_0x4fcb1d(0x8d9)]),_0x20a521=new ue(_0x300ac9,_0x2e2dc1),_0x1b5f2a=async(_0x1dcbf0,_0x3981f1)=>{const _0x1f0b67=_0x4fcb1d;try{return await _0x20a521[_0x1f0b67(0x53a)](_0x3981f1,_0x1dcbf0);}catch(_0x33d247){return _0x5f532b[_0x1f0b67(0x8d2)]({'localError':_0x1f0b67(0x53a),'error':_0x33d247});}},_0x5a31c6=async _0x550caa=>{try{return await _0x20a521['readData'](_0x550caa);}catch(_0x784ab7){_0x5f532b['error']({'readData':'writeData','error':_0x784ab7});return;}},_0x1a2e6f=async _0x1d7237=>{const _0x1b407b=_0x4fcb1d;try{return await _0x20a521[_0x1b407b(0x70b)](_0x1d7237);}catch(_0x590b11){_0x5f532b[_0x1b407b(0x8d2)]({'readData':_0x1b407b(0x70b),'error':_0x590b11});}},_0x3223e0=await _0x5a31c6(_0x4fcb1d(0x60e))||(0x0,kt['initAuthCreds'])();return{'state':{'creds':_0x3223e0,'keys':{'get':async(_0x359467,_0x5a740b)=>{const _0x4be9d6=_0x4fcb1d;let _0x45c5b8={};return await Promise[_0x4be9d6(0x5fe)](_0x5a740b[_0x4be9d6(0x1e8)](async _0x5df86f=>{const _0x271e94=_0x4be9d6;let _0x4826ad=await _0x5a31c6(_0x359467+'-'+_0x5df86f);_0x359467===_0x271e94(0x2f3)&&_0x4826ad&&(_0x4826ad=kt['proto']['Message'][_0x271e94(0x635)][_0x271e94(0x223)](_0x4826ad)),_0x45c5b8[_0x5df86f]=_0x4826ad;})),_0x45c5b8;},'set':async _0x4a3e2f=>{const _0x2c0eb2=_0x4fcb1d;let _0x1fac01=[];for(let _0x5f05bc in _0x4a3e2f)for(let _0x18192d in _0x4a3e2f[_0x5f05bc]){let _0x4b65e0=_0x4a3e2f[_0x5f05bc][_0x18192d],_0x4e2c2d=_0x5f05bc+'-'+_0x18192d;_0x1fac01[_0x2c0eb2(0x543)](_0x4b65e0?await _0x1b5f2a(_0x4b65e0,_0x4e2c2d):await _0x1a2e6f(_0x4e2c2d));}await Promise[_0x2c0eb2(0x5fe)](_0x1fac01);}}},'saveCreds':async()=>await _0x1b5f2a(_0x3223e0,_0x4fcb1d(0x60e))};}var k=I(require('fs')),Q=require(a0_0x466431(0x6c5)),Ut=I(require(a0_0x466431(0x51e))),oe=require(a0_0x466431(0x55b)),Ei=require('child_process'),Ni=require(a0_0x466431(0x731)),$i=I(require(a0_0x466431(0x4a3))),Ee=class extends O{constructor(_0x5bbaec,_0x2d16b8,_0x48f3be){const _0x2c0be9=a0_0x466431;super(_0x2d16b8),this[_0x2c0be9(0x29f)]=_0x5bbaec,this[_0x2c0be9(0x338)]=_0x2d16b8,this[_0x2c0be9(0x257)]=_0x48f3be;}async[a0_0x466431(0x421)](_0x45f343,_0x1fceb1){const _0x4f44b9=a0_0x466431;try{if(this[_0x4f44b9(0x228)]['ENABLED']){console[_0x4f44b9(0x913)](_0x4f44b9(0x356)+_0x1fceb1+_0x4f44b9(0x458),_0x45f343);let _0x3711fc=await this[_0x4f44b9(0x29f)]['findOneAndUpdate']({'_id':_0x1fceb1},{'$set':_0x45f343},{'new':!0x0,'upsert':!0x0});return console[_0x4f44b9(0x913)](_0x4f44b9(0x404),_0x3711fc),_0x3711fc;}}catch(_0x928793){throw console[_0x4f44b9(0x8d2)](_0x4f44b9(0x1d2),_0x928793),_0x928793;}return null;}async[a0_0x466431(0x450)](_0x37f95b){const _0x5028e3=a0_0x466431;try{let _0x55d4f1=A(_0x37f95b['where']);return{'deletedCount':(await this['cacheInstanceModel']['deleteOne'](_0x55d4f1))['deletedCount']};}catch(_0x4baddd){return{'error':_0x4baddd?.[_0x5028e3(0x1d0)]()};}}async['findOne'](_0xa330d){const _0xed2a05=a0_0x466431;try{let _0x3ea94b=A(_0xa330d[_0xed2a05(0x186)]);return await this[_0xed2a05(0x29f)]['findOne'](_0x3ea94b)[_0xed2a05(0x442)]();}catch{return null;}}},Ne=(0x0,Ni[a0_0x466431(0x8a9)])(Ei[a0_0x466431(0x813)]),xs=0x1f4,Do=S[a0_0x466431(0x438)](a0_0x466431(0x57a)),Ps=class{constructor(){const _0x244bcd=a0_0x466431;this[_0x244bcd(0x495)]=new Ee(We,S),(!this[_0x244bcd(0x8d8)]||!this['networkInterface'])&&Do&&this[_0x244bcd(0x193)]()[_0x244bcd(0x66c)](async()=>{const _0x5c12b2=_0x244bcd;console['log'](_0x5c12b2(0x18d)+this['ipv6Prefix']),console[_0x5c12b2(0x913)]('Network\x20Interface\x20detected:\x20'+this[_0x5c12b2(0x1cb)]),await this[_0x5c12b2(0x32f)]();let _0xa2b2=await this[_0x5c12b2(0x3a1)]();console[_0x5c12b2(0x913)]('Total\x20de\x20endereços\x20IPv6\x20após\x20a\x20limpeza:\x20'+_0xa2b2);})[_0x244bcd(0x80a)](_0x4c815d=>{const _0x146181=_0x244bcd;console[_0x146181(0x8d2)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20'+_0x4c815d[_0x146181(0x36a)]);});}async[a0_0x466431(0x32f)](){const _0x12cfb6=a0_0x466431;let _0x13d5b9=await this[_0x12cfb6(0x79f)]();if(console[_0x12cfb6(0x913)](_0x12cfb6(0x3a9)+_0x13d5b9[_0x12cfb6(0x3d4)]),_0x13d5b9[_0x12cfb6(0x3d4)]>xs){let _0x4fd997=_0x13d5b9[_0x12cfb6(0x30a)](xs);for(let _0x578573 of _0x4fd997)console[_0x12cfb6(0x913)](_0x12cfb6(0x69a)+_0x578573),await this[_0x12cfb6(0x2b1)](_0x578573);console[_0x12cfb6(0x913)]('Removed\x20'+_0x4fd997[_0x12cfb6(0x3d4)]+_0x12cfb6(0x67a));}else console[_0x12cfb6(0x913)]('No\x20excess\x20IPv6\x20addresses\x20to\x20remove.');}async['listIPv6Addresses'](){const _0x493470=a0_0x466431;try{let {stdout:_0x56b478}=await Ne(_0x493470(0x8c1));return _0x56b478[_0x493470(0x38b)]('\x0a')[_0x493470(0x189)](_0x1e66d1=>_0x1e66d1[_0x493470(0x6f2)](_0x493470(0x43f))&&_0x1e66d1['includes'](_0x493470(0x6f1)))[_0x493470(0x1e8)](_0x11e869=>_0x11e869[_0x493470(0x666)](/inet6\s+([a-fA-F0-9:]+)\//)?.[0x1])[_0x493470(0x189)](Boolean);}catch(_0x8e0ce0){return console[_0x493470(0x8d2)]('Error\x20fetching\x20IPv6\x20addresses:\x20'+_0x8e0ce0[_0x493470(0x36a)]),[];}}async['countIPv6Addresses'](){const _0x924c46=a0_0x466431;try{let {stdout:_0x43ae4d}=await Ne(_0x924c46(0x457)),_0x34cfd6=parseInt(_0x43ae4d[_0x924c46(0x8bd)](),0xa);return console[_0x924c46(0x913)](_0x924c46(0x41f)+_0x34cfd6),_0x34cfd6;}catch(_0x445238){return console[_0x924c46(0x8d2)](_0x924c46(0x1f5)+_0x445238[_0x924c46(0x36a)]),0x0;}}async[a0_0x466431(0x2b1)](_0x30f7da){const _0x748e3c=a0_0x466431;try{await Ne(_0x748e3c(0x798)+_0x30f7da+_0x748e3c(0x7b1)+this['networkInterface']),console[_0x748e3c(0x913)]('IPv6\x20address\x20removed:\x20'+_0x30f7da);}catch(_0x46ee63){console[_0x748e3c(0x8d2)]('Error\x20removing\x20IPv6\x20address:\x20'+_0x46ee63[_0x748e3c(0x36a)]);}}async[a0_0x466431(0x193)](){const _0xefa617=a0_0x466431;try{let {stdout:_0x1f3cc2}=await Ne(_0xefa617(0x551));console[_0xefa617(0x913)](_0xefa617(0x537)+_0x1f3cc2);let _0x25631e=_0x1f3cc2[_0xefa617(0x38b)]('\x0a')[_0xefa617(0x1e8)](_0x397932=>_0x397932[_0xefa617(0x38b)]('\x20')[0x0])[_0xefa617(0x189)](_0x3de7a6=>!_0x3de7a6[_0xefa617(0x6f2)]('lo')&&!_0x3de7a6[_0xefa617(0x6f2)](_0xefa617(0x54b))&&!_0x3de7a6[_0xefa617(0x6f2)](_0xefa617(0x4aa))&&!_0x3de7a6[_0xefa617(0x6f2)]('wl')&&!_0x3de7a6[_0xefa617(0x6f2)]('@'));if(console['log'](_0xefa617(0x51d)+_0x25631e),_0x25631e[_0xefa617(0x3d4)]===0x0)throw new Error('No\x20suitable\x20network\x20interface\x20found');this[_0xefa617(0x1cb)]=_0x25631e[0x0];let {stdout:_0x288643}=await Ne('ip\x20-6\x20addr\x20show\x20dev\x20'+this['networkInterface']);console[_0xefa617(0x913)]('IPv6\x20addresses\x20detected:\x20'+_0x288643);let _0x466d96=_0x288643[_0xefa617(0x38b)]('\x0a')['find'](_0x10bb60=>_0x10bb60['includes'](_0xefa617(0x43f))&&_0x10bb60[_0xefa617(0x6f2)](_0xefa617(0x6f1)));if(!_0x466d96)throw new Error(_0xefa617(0x594));let _0x2c44ba=_0x466d96[_0xefa617(0x666)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x2c44ba)throw new Error(_0xefa617(0x51b));let [_0x27e792,_0x1cb7af,_0x42d029]=_0x2c44ba,_0x54dcc9=Math['floor'](Number(_0x42d029)/0x10),_0x4d7cdb=Number(_0x42d029)%0x10,_0x46b361=_0x1cb7af['split'](':')['slice'](0x0,_0x54dcc9)['join'](':');if(_0x4d7cdb>0x0){let _0x32beed=_0x1cb7af['split'](':')[_0x54dcc9],_0x518448=0xffff<<0x10-_0x4d7cdb&0xffff,_0x24455c=(parseInt(_0x32beed,0x10)&_0x518448)[_0xefa617(0x1d0)](0x10)[_0xefa617(0x776)](0x4,'0');_0x46b361+=':'+_0x24455c;}this[_0xefa617(0x8d8)]=_0x46b361+':';}catch(_0x448072){console[_0xefa617(0x8d2)](_0xefa617(0x877),_0x448072);}}async[a0_0x466431(0x2c6)](_0x4ab0df){const _0x11ced1=a0_0x466431;let _0x2f1f8d='ip\x20-6\x20addr\x20add\x20'+_0x4ab0df+'/64\x20dev\x20'+this[_0x11ced1(0x1cb)];try{await Ne(_0x2f1f8d),console[_0x11ced1(0x913)](_0x11ced1(0x914)+_0x4ab0df);}catch(_0x383e8c){console[_0x11ced1(0x8d2)](_0x11ced1(0x4c7)+_0x383e8c);}}[a0_0x466431(0x1f3)](){const _0x5516c7=a0_0x466431;return _0x5516c7(0x456)[_0x5516c7(0x783)](/X/g,()=>_0x5516c7(0x632)[_0x5516c7(0x607)](Math['floor'](Math[_0x5516c7(0x8ce)]()*0x10)));}[a0_0x466431(0x7ee)](_0x5f2657,_0x1365c6){const _0x35c08a=a0_0x466431;let _0x20123c=_0x1365c6[_0x35c08a(0x38b)](':');return _0x20123c[0x0]=(parseInt(_0x20123c[0x0],0x10)^0x2)['toString'](0x10)['padStart'](0x2,'0'),''+_0x5f2657+_0x20123c[0x0]+_0x20123c[0x1]+':'+_0x20123c[0x2]+_0x35c08a(0x8c4)+_0x20123c[0x3]+':'+_0x20123c[0x4]+_0x20123c[0x5];}[a0_0x466431(0x203)](){const _0x236483=a0_0x466431;let _0x4dbbce=this[_0x236483(0x8d8)];_0x4dbbce[_0x236483(0x888)](':')||(_0x4dbbce+=':');let _0x178ede=this['randomMac']();return this[_0x236483(0x7ee)](_0x4dbbce,_0x178ede);}['isValidIPv6Config'](_0x4e7266){const _0x3aef8c=a0_0x466431;return new RegExp(_0x3aef8c(0x2a4))[_0x3aef8c(0x7f2)](_0x4e7266);}async[a0_0x466431(0x619)](_0x5860b1){const _0x15585e=a0_0x466431;let _0x1dba8c=[{'url':_0x15585e(0x7b6),'parse':_0x268132=>_0x268132['ip']},{'url':'https://api64.ipify.org?format=json','parse':_0x51c9ad=>_0x51c9ad['ip']},{'url':_0x15585e(0x482),'parse':_0x1cbb89=>_0x1cbb89[_0x15585e(0x8bd)]()},{'url':_0x15585e(0x851),'parse':_0x35656b=>_0x35656b[_0x15585e(0x8bd)]()}],_0x3a1fd3=_0x1dba8c[Math[_0x15585e(0x1c1)](Math[_0x15585e(0x8ce)]()*_0x1dba8c[_0x15585e(0x3d4)])];try{let _0x26e724=await $i['default'][_0x15585e(0x438)](_0x3a1fd3['url'],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x5860b1}}),_0x439498=_0x3a1fd3[_0x15585e(0x46d)](_0x26e724[_0x15585e(0x4a7)]);return _0x439498[_0x15585e(0x884)]()===_0x5860b1[_0x15585e(0x884)]()?(console[_0x15585e(0x913)](_0x15585e(0x6c3)+_0x5860b1),!0x0):(console[_0x15585e(0x8d2)](_0x15585e(0x6cc)+_0x5860b1+',\x20received\x20'+_0x439498),!0x1);}catch(_0x56c49e){return console[_0x15585e(0x8d2)](_0x15585e(0x3d5)+_0x3a1fd3[_0x15585e(0x479)]+':\x20'+_0x56c49e[_0x15585e(0x36a)]),!0x1;}}async[a0_0x466431(0x56c)](_0x4cfb86,_0x5dd8fc){const _0x646d1d=a0_0x466431;if(!this[_0x646d1d(0x8d8)]||!this[_0x646d1d(0x1cb)])return console[_0x646d1d(0x8d2)](_0x646d1d(0x6f7)),null;let _0x2a48c5=await this[_0x646d1d(0x79f)]();if(_0x2a48c5[_0x646d1d(0x3d4)]>=xs){let _0x2e9529=_0x2a48c5[Math[_0x646d1d(0x1c1)](Math[_0x646d1d(0x8ce)]()*_0x2a48c5['length'])];return console[_0x646d1d(0x913)](_0x646d1d(0x34d)+_0x2e9529),_0x2e9529;}let _0x408d3f;do _0x408d3f=this[_0x646d1d(0x203)](),console[_0x646d1d(0x913)]('Generated\x20IPv6:\x20'+_0x408d3f);while(!this[_0x646d1d(0x6e0)](_0x408d3f));await this[_0x646d1d(0x2c6)](_0x408d3f),console[_0x646d1d(0x913)](_0x646d1d(0x518)+_0x408d3f);let _0x3abf1f={'_id':_0x4cfb86+'-'+_0x5dd8fc,'ip':_0x408d3f},_0xbfcf65=await this['cacheInstanceRepository'][_0x646d1d(0x421)](_0x3abf1f,_0x3abf1f[_0x646d1d(0x209)]);return console[_0x646d1d(0x913)](_0x646d1d(0x1ad)+_0xbfcf65),_0x408d3f;}},ko=new Ps(),Le=ko,Us=a0_0x466431(0x36c),xi,de=null,xa=null,Lo=0x3,Fo=null,Ri=S['get'](a0_0x466431(0x654))[a0_0x466431(0x844)][a0_0x466431(0x82c)],Ai=S[a0_0x466431(0x438)](a0_0x466431(0x57a));async function Uo(){const _0x1319bd=a0_0x466431;let _0x10dbf1=await ve[_0x1319bd(0x2c9)]();de=_0x10dbf1?.[_0x1319bd(0x669)]??null,Fo=_0x10dbf1?.[_0x1319bd(0x498)]??null,Us=_0x10dbf1?.[_0x1319bd(0x665)]??'Safari',xi=_0x10dbf1?.['connectedName']??he??_0x1319bd(0x2bd);}async function jo(){await Uo();}jo();var Lt={},$e=class u{constructor(_0x2a719a,_0x45e76e,_0x45caa6){const _0x328a20=a0_0x466431;this[_0x328a20(0x338)]=_0x2a719a,this[_0x328a20(0x7c9)]=_0x45e76e,this['repository']=_0x45caa6,this[_0x328a20(0x229)]={},this[_0x328a20(0x782)]=null,this[_0x328a20(0x379)]=new $(u[_0x328a20(0x8d9)]),this[_0x328a20(0x6e8)]={},this['localWebhook']={},this[_0x328a20(0x4e1)]={'state':_0x328a20(0x8e8)},this[_0x328a20(0x5ae)]=(0x0,j[_0x328a20(0x473)])(ne,_0x328a20(0x76f)),this[_0x328a20(0x423)]=new Fs[(_0x328a20(0x525))](),this[_0x328a20(0x26f)]=new Fs[(_0x328a20(0x525))](),this['endSession']=!0x1,this[_0x328a20(0x827)]={'status.instance':_0x328a20(0x79e),'connection.update':_0x328a20(0x79e),'qrcode.updated':_0x328a20(0x72b),'messages.upsert':_0x328a20(0x279),'send.message':_0x328a20(0x279),'messages.update':_0x328a20(0x80f),'group.upsert':_0x328a20(0x682),'group.update':'/wa-groups','group-participants.update':_0x328a20(0x682),'messages.set':_0x328a20(0x74e),'contacts.set':_0x328a20(0x64b),'contacts.upsert':_0x328a20(0x64b),'contacts.update':'/wa-contacts','presence.update':_0x328a20(0x6f5),'chats.set':_0x328a20(0x7bc),'chats.update':_0x328a20(0x7bc),'chats.upsert':_0x328a20(0x7bc),'chats.delete':_0x328a20(0x7bc)},this[_0x328a20(0x523)]=0x0,this[_0x328a20(0x452)]=[],this[_0x328a20(0x74f)]=0xea60,this['isRunning']=!0x1,this['chatHandle']={'chats.upsert':async(_0x4150a1,_0x3d4458)=>{const _0x3e8e66=_0x328a20;let _0x198e60=[];for await(let _0x2c575b of _0x4150a1)_0x198e60['push']({'_id':_0x2c575b['id'],'owner':this[_0x3e8e66(0x6e8)][_0x3e8e66(0x64c)],'group':_0x2c575b['id']['endsWith'](_0x3e8e66(0x611)),'name':_0x2c575b[_0x3e8e66(0x8d9)]||_0x2c575b[_0x3e8e66(0x1c2)]||null,'contactname':null,'lastmsg':_0x2c575b[_0x3e8e66(0x8a8)]&&_0x2c575b[_0x3e8e66(0x8a8)][_0x3e8e66(0x1d0)]()[_0x3e8e66(0x3d4)]<0xd?_0x2c575b['conversationTimestamp']*0x3e8:_0x2c575b['conversationTimestamp']||null,'archived':_0x2c575b[_0x3e8e66(0x693)]||!0x1,'unreadcount':_0x2c575b[_0x3e8e66(0x8d3)]||0x0,'ephemeralExpiration':_0x2c575b['ephemeralExpiration']||0x0});this[_0x3e8e66(0x57b)]('chats.upsert',_0x198e60);},'chats.update':async(_0x3d635f,_0x3f5591)=>{const _0x40ba8a=_0x328a20;for(let _0x3eb19b of _0x3d635f){let _0x39a427={'_id':_0x3eb19b['id'],'owner':this[_0x40ba8a(0x6e8)][_0x40ba8a(0x64c)],'archived':_0x3eb19b[_0x40ba8a(0x693)],'muteEndTime':_0x3eb19b[_0x40ba8a(0x184)],'ephemeralExpiration':_0x3eb19b['ephemeralExpiration']},_0x9de3a0=!0x1,_0x1c7908={};_0x39a427[_0x40ba8a(0x693)]!=null&&(this['logger'][_0x40ba8a(0x704)](this[_0x40ba8a(0x88a)]+'\x20('+this[_0x40ba8a(0x6e8)][_0x40ba8a(0x64c)]+_0x40ba8a(0x3ff)+_0x3eb19b['id']+'\x20:\x20'+_0x3eb19b[_0x40ba8a(0x693)]),_0x9de3a0=!0x0,_0x1c7908[_0x40ba8a(0x693)]=_0x3eb19b[_0x40ba8a(0x693)]),'muteEndTime'in _0x3eb19b&&(this[_0x40ba8a(0x379)][_0x40ba8a(0x704)](this[_0x40ba8a(0x88a)]+'\x20('+this['instance'][_0x40ba8a(0x64c)]+'):\x20teve\x20mudanças\x20chat.muteEndTime:\x20'+_0x3eb19b['id']+_0x40ba8a(0x630)+(_0x3eb19b[_0x40ba8a(0x184)]??'0')),_0x9de3a0=!0x0,_0x1c7908[_0x40ba8a(0x184)]=_0x3eb19b[_0x40ba8a(0x184)]??0x0),_0x40ba8a(0x37a)in _0x3eb19b&&(this[_0x40ba8a(0x379)][_0x40ba8a(0x704)](this[_0x40ba8a(0x88a)]+'\x20('+this[_0x40ba8a(0x6e8)][_0x40ba8a(0x64c)]+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x3eb19b['id']+_0x40ba8a(0x630)+(_0x3eb19b[_0x40ba8a(0x37a)]!==void 0x0?_0x3eb19b[_0x40ba8a(0x37a)]:_0x40ba8a(0x4f8))),_0x1c7908[_0x40ba8a(0x37a)]=_0x3eb19b[_0x40ba8a(0x37a)]===null?0x0:_0x3eb19b[_0x40ba8a(0x37a)],_0x9de3a0=!0x0);let _0x214e62;_0x9de3a0&&(_0x214e62=await this[_0x40ba8a(0x7ae)][_0x40ba8a(0x66d)]['updateOne']({'where':{'_id':_0x3eb19b['id']}},_0x1c7908,this[_0x40ba8a(0x6e8)][_0x40ba8a(0x64c)])),_0x214e62&&F(this[_0x40ba8a(0x88a)],'chats',{'chat':_0x214e62});}},'chats.delete':async _0x5c2985=>{const _0x4c5331=_0x328a20;for(let _0x1391e7 of _0x5c2985)if(_0x1391e7['endsWith'](_0x4c5331(0x611))){await this[_0x4c5331(0x7ae)]['chat'][_0x4c5331(0x384)]({'where':{'_id':_0x1391e7}},this['instance'][_0x4c5331(0x64c)]);let _0x48533e={'where':{'key':{'remoteJid':_0x1391e7}}};await this[_0x4c5331(0x7ae)][_0x4c5331(0x36a)][_0x4c5331(0x384)](_0x48533e,this[_0x4c5331(0x6e8)][_0x4c5331(0x64c)]);}else{await this[_0x4c5331(0x7ae)]['chat']['updateOne']({'where':{'_id':_0x1391e7}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x4c5331(0x6e8)][_0x4c5331(0x64c)]);let _0x13c95a={'where':{'key':{'remoteJid':_0x1391e7}}};await this['repository'][_0x4c5331(0x36a)][_0x4c5331(0x384)](_0x13c95a,this[_0x4c5331(0x6e8)][_0x4c5331(0x64c)]);}this['sendDataWebhook'](_0x4c5331(0x44e),[..._0x5c2985]);}},this[_0x328a20(0x2b6)]={'contacts.upsert':async(_0xb904f6,_0x320463)=>{const _0xc0c90f=_0x328a20;let _0x4fc7fe=await this[_0xc0c90f(0x7ae)][_0xc0c90f(0x466)][_0xc0c90f(0x5a4)]({'where':{}},this[_0xc0c90f(0x6e8)][_0xc0c90f(0x64c)]),_0x4df3ae=[];for await(let _0x4ae0d3 of _0xb904f6)_0x4fc7fe[_0xc0c90f(0x5a4)](_0x4b47c4=>_0x4b47c4[_0xc0c90f(0x209)]===_0x4ae0d3['id'])||_0x4df3ae[_0xc0c90f(0x543)]({'_id':_0x4ae0d3['id'],'pushName':_0x4ae0d3?.[_0xc0c90f(0x8d9)]||_0x4ae0d3?.[_0xc0c90f(0x569)],'owner':this['instance'][_0xc0c90f(0x64c)]});this['sendDataWebhook'](_0xc0c90f(0x65c),_0x4df3ae),await this[_0xc0c90f(0x7ae)]['contact'][_0xc0c90f(0x23c)](_0x4df3ae);},'contacts.update':async(_0x69c1ba,_0x2310cd)=>{const _0x4f26b5=_0x328a20;let _0x1a0d51=[];for await(let _0x2a7c69 of _0x69c1ba)_0x1a0d51[_0x4f26b5(0x543)]({'_id':_0x2a7c69['id'],'pushName':_0x2a7c69?.[_0x4f26b5(0x8d9)]??_0x2a7c69?.[_0x4f26b5(0x569)],'owner':this[_0x4f26b5(0x6e8)]['wuid']});this[_0x4f26b5(0x57b)](_0x4f26b5(0x6e6),_0x1a0d51);}},this[_0x328a20(0x30f)]={'messaging-history.set':async({messages:_0x522ea3,chats:_0x44c002,isLatest:_0x563c5d},_0x92b4f1)=>{const _0x2675f4=_0x328a20;if(_0x563c5d){setTimeout(()=>{const _0x5bef57=a0_0x192a;this[_0x5bef57(0x6e8)][_0x5bef57(0x365)]=!0x0,console[_0x5bef57(0x913)]('HistoryProcessed\x20definido\x20como\x20true\x20após\x202\x20minutos.');},0x1d4c0);let _0x5c14b0=await Promise[_0x2675f4(0x5fe)](_0x44c002['map'](async _0x2dd292=>({'_id':_0x2dd292['id'],'owner':this[_0x2675f4(0x6e8)][_0x2675f4(0x64c)],'group':_0x2dd292['id'][_0x2675f4(0x888)](_0x2675f4(0x611)),'name':_0x2dd292[_0x2675f4(0x8d9)]||_0x2dd292[_0x2675f4(0x1c2)]||_0x2dd292[_0x2675f4(0x780)]||null,'contactname':null,'lastmsg':_0x2dd292[_0x2675f4(0x8a8)]&&_0x2dd292[_0x2675f4(0x8a8)][_0x2675f4(0x1d0)]()[_0x2675f4(0x3d4)]<0xd?_0x2dd292[_0x2675f4(0x8a8)]*0x3e8:_0x2dd292[_0x2675f4(0x8a8)]||null,'archived':_0x2dd292[_0x2675f4(0x693)]||!0x1,'unreadcount':_0x2dd292[_0x2675f4(0x8d3)]||0x0,'ephemeralExpiration':_0x2dd292[_0x2675f4(0x37a)]||0x0,'muteEndTime':_0x2dd292[_0x2675f4(0x184)]||0x0})));this[_0x2675f4(0x57b)](_0x2675f4(0x8b2),_0x5c14b0),await this[_0x2675f4(0x8c5)](_0x5c14b0,_0x92b4f1);}let _0x5f14a1=[],_0x11ae06=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x5e0ce8]of Object[_0x2675f4(0x3b3)](_0x522ea3)){if(_0x5e0ce8['message']?.[_0x2675f4(0x212)]||_0x5e0ce8[_0x2675f4(0x36a)]?.['senderKeyDistributionMessage']||!_0x5e0ce8[_0x2675f4(0x36a)]||_0x5e0ce8[_0x2675f4(0x714)][_0x2675f4(0x84e)]==='status@broadcast'||(Ls[_0x2675f4(0x525)]['isLong'](_0x5e0ce8?.[_0x2675f4(0x48a)])&&(_0x5e0ce8[_0x2675f4(0x48a)]=_0x5e0ce8[_0x2675f4(0x48a)]?.[_0x2675f4(0x3fd)]()),_0x5e0ce8[_0x2675f4(0x48a)]&&_0x5e0ce8[_0x2675f4(0x48a)][_0x2675f4(0x1d0)]()[_0x2675f4(0x3d4)]<0xd&&(_0x5e0ce8[_0x2675f4(0x48a)]=_0x5e0ce8[_0x2675f4(0x48a)]*0x3e8),_0x5e0ce8[_0x2675f4(0x48a)]<_0x11ae06))continue;let _0x15c9bb=(0x0,w['normalizeMessageContent'])(_0x5e0ce8[_0x2675f4(0x36a)]),_0x139bfa=(0x0,w[_0x2675f4(0x51a)])(_0x15c9bb),{message_normalized:_0x339ac9}=this[_0x2675f4(0x80e)](_0x15c9bb,_0x139bfa,null);Object[_0x2675f4(0x7c4)](_0x339ac9)[_0x2675f4(0x3d4)]>0x0&&_0x5f14a1['push']({'_id':_0x5e0ce8[_0x2675f4(0x714)]['id'],'key':_0x5e0ce8[_0x2675f4(0x714)],'pushName':_0x5e0ce8['pushName'],'participant':_0x5e0ce8[_0x2675f4(0x2e0)],'message':_0x15c9bb,'messageType':_0x139bfa,'message_normalized':{'key':_0x5e0ce8[_0x2675f4(0x714)],'pushName':_0x5e0ce8[_0x2675f4(0x2f5)],'messageTimestamp':_0x5e0ce8[_0x2675f4(0x48a)],..._0x339ac9},'messageTimestamp':_0x5e0ce8['messageTimestamp'],'owner':this['instance'][_0x2675f4(0x64c)]});}_0x92b4f1[_0x2675f4(0x613)]&&_0x5f14a1[_0x2675f4(0x3d4)]>0x0&&(this['logger'][_0x2675f4(0x704)](this[_0x2675f4(0x88a)]+'\x20('+this[_0x2675f4(0x6e8)][_0x2675f4(0x64c)]+'):\x20'+_0x5f14a1['length']+'\x20mensagens\x20de\x20'+this[_0x2675f4(0x6e8)][_0x2675f4(0x64c)]+_0x2675f4(0x315)),await this['repository'][_0x2675f4(0x36a)]['insert']([..._0x5f14a1],this[_0x2675f4(0x6e8)][_0x2675f4(0x64c)]));let _0x38ada4=Date[_0x2675f4(0x283)]()-0xa*0x3c*0x3e8;for(let _0x551ecd of _0x5f14a1)if(this[_0x2675f4(0x6e8)][_0x2675f4(0x365)]&&_0x551ecd['messageTimestamp']>=_0x38ada4){if(this['isMessageProcessed'](this['instance'][_0x2675f4(0x64c)],_0x551ecd['_id'])){this[_0x2675f4(0x379)][_0x2675f4(0x704)](this[_0x2675f4(0x88a)]+'\x20('+this[_0x2675f4(0x6e8)][_0x2675f4(0x64c)]+'):\x20[messaging-history.set]\x20mensagem\x20duplicada\x20ignorada\x20(ID:\x20'+_0x551ecd[_0x2675f4(0x209)]+')');continue;}this[_0x2675f4(0x7f0)](this[_0x2675f4(0x6e8)]['wuid'],_0x551ecd['_id']),this['sendDataWebhook'](_0x2675f4(0x8d4),_0x551ecd);}else this[_0x2675f4(0x57b)](_0x2675f4(0x87f),_0x551ecd);_0x522ea3=void 0x0;},'messages.upsert':async({messages:_0x122ace,type:_0x31beaf},_0x2de34c)=>{const _0x1465cf=_0x328a20;for(let _0x43bb82 of _0x122ace){if(this['localWebhook']?.[_0x1465cf(0x530)]&&_0x43bb82[_0x1465cf(0x714)][_0x1465cf(0x84e)][_0x1465cf(0x6f2)]('@g.us')){this[_0x1465cf(0x379)][_0x1465cf(0x704)](this['instanceName']+'\x20('+this[_0x1465cf(0x6e8)]['wuid']+'):\x20[messages.upsert]\x20group\x20ignored');continue;}if(_0x43bb82[_0x1465cf(0x714)]['remoteJid'][_0x1465cf(0x6f2)](_0x1465cf(0x5f4))||_0x43bb82[_0x1465cf(0x714)][_0x1465cf(0x84e)]===_0x1465cf(0x74b))continue;if(_0x43bb82[_0x1465cf(0x7dd)]&&_0x43bb82['messageStubParameters'][0x0]==='Message\x20absent\x20from\x20node'){console[_0x1465cf(0x8d2)]('[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação'),await this[_0x1465cf(0x7dc)](_0x43bb82),Lt[_0x43bb82[_0x1465cf(0x714)]['id']]=_0x43bb82,this['retrySendMessage'](_0x43bb82,0x0);continue;}if(_0x31beaf!==_0x1465cf(0x1a9)||!_0x43bb82?.['message']||_0x43bb82[_0x1465cf(0x36a)]?.['protocolMessage']||_0x43bb82[_0x1465cf(0x36a)]?.[_0x1465cf(0x35b)])continue;let _0x9573e3=null,_0x5d1963=null;if(Lt[_0x43bb82[_0x1465cf(0x714)]['id']]&&(console[_0x1465cf(0x8d2)]('[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache'),await this['repository']['messageLogs'][_0x1465cf(0x384)]({'where':{'_id':_0x43bb82[_0x1465cf(0x714)]['id']}}),delete Lt[_0x43bb82[_0x1465cf(0x714)]['id']]),this[_0x1465cf(0x6e1)](this[_0x1465cf(0x6e8)][_0x1465cf(0x64c)],_0x43bb82[_0x1465cf(0x714)]['id'])){this['logger'][_0x1465cf(0x704)](this[_0x1465cf(0x88a)]+'\x20('+this[_0x1465cf(0x6e8)][_0x1465cf(0x64c)]+_0x1465cf(0x463));continue;}this[_0x1465cf(0x7f0)](this[_0x1465cf(0x6e8)]['wuid'],_0x43bb82['key']['id']);try{_0x9573e3=await this[_0x1465cf(0x57d)](_0x43bb82),_0x5d1963=_0x9573e3?_0x9573e3['join'](','):null;}catch(_0x21e85f){this['logger'][_0x1465cf(0x704)](this[_0x1465cf(0x88a)]+'\x20('+this[_0x1465cf(0x6e8)][_0x1465cf(0x64c)]+_0x1465cf(0x280)+(_0x21e85f instanceof Error?_0x21e85f[_0x1465cf(0x36a)]:JSON[_0x1465cf(0x66f)](_0x21e85f,null,0x2))),_0x5d1963=_0x1465cf(0x194);}this['client'][_0x1465cf(0x465)](_0x1465cf(0x6b3)),Ls[_0x1465cf(0x525)][_0x1465cf(0x284)](_0x43bb82[_0x1465cf(0x48a)])&&(_0x43bb82[_0x1465cf(0x48a)]=_0x43bb82[_0x1465cf(0x48a)]?.[_0x1465cf(0x3fd)]()),_0x43bb82[_0x1465cf(0x48a)]&&_0x43bb82[_0x1465cf(0x48a)][_0x1465cf(0x1d0)]()['length']<0xd&&(_0x43bb82[_0x1465cf(0x48a)]=_0x43bb82[_0x1465cf(0x48a)]*0x3e8);let _0x50d2c8=_0x43bb82[_0x1465cf(0x36a)],_0x2a581b=(0x0,w[_0x1465cf(0x2d7)])(_0x50d2c8),_0x231adf=(0x0,w[_0x1465cf(0x51a)])(_0x2a581b),{messageContent:_0x5aaafd,message_normalized:_0x2ed84d}=this[_0x1465cf(0x80e)](_0x2a581b,_0x231adf,_0x5d1963);if(_0x231adf===_0x1465cf(0x212)&&_0x5aaafd?.[_0x1465cf(0x812)]&&(_0x231adf='editedMessage'),_0x231adf===_0x1465cf(0x271)&&_0x43bb82['key']['fromMe'])continue;let _0x18b042,_0x3f0204=_0x43bb82[_0x1465cf(0x714)][_0x1465cf(0x84e)][_0x1465cf(0x888)](_0x1465cf(0x611));if(_0x43bb82['key'][_0x1465cf(0x70f)])_0x18b042=this['instance'][_0x1465cf(0x4dc)];else{let _0x1ed675=_0x3f0204?_0x43bb82[_0x1465cf(0x714)]['participant']:_0x43bb82['key'][_0x1465cf(0x84e)];_0x18b042=(await this[_0x1465cf(0x621)](_0x1ed675,_0x43bb82[_0x1465cf(0x2f5)],!0x1))[_0x1465cf(0x7e0)][_0x1465cf(0x270)];}let _0x5584e4={'_id':_0x43bb82[_0x1465cf(0x714)]['id'],'key':_0x43bb82[_0x1465cf(0x714)],'isGroup':_0x3f0204,'profilePictureUrl':_0x18b042,'pushName':_0x43bb82['pushName'],'message':_0x2a581b,'messageType':_0x231adf,'message_normalized':{'key':_0x43bb82['key'],'pushName':_0x43bb82[_0x1465cf(0x2f5)],'messageTimestamp':_0x43bb82[_0x1465cf(0x48a)],'source':(0x0,w[_0x1465cf(0x2e2)])(_0x43bb82[_0x1465cf(0x714)]['id']),..._0x2ed84d},'messageTimestamp':_0x43bb82[_0x1465cf(0x48a)],'owner':this['instance'][_0x1465cf(0x64c)],'source':(0x0,w[_0x1465cf(0x2e2)])(_0x43bb82[_0x1465cf(0x714)]['id']),'expiration':_0x5aaafd?.[_0x1465cf(0x374)]?.[_0x1465cf(0x85f)]||0x0};if(_0x5aaafd||(this[_0x1465cf(0x379)][_0x1465cf(0x8d2)](_0x1465cf(0x5d3)),this[_0x1465cf(0x379)]['error'](_0x5584e4)),_0x2ed84d[_0x1465cf(0x6d0)]===_0x1465cf(0x6b5)){console[_0x1465cf(0x8d2)](_0x1465cf(0x6f3)),await this[_0x1465cf(0x7dc)](_0x43bb82);continue;}this[_0x1465cf(0x379)][_0x1465cf(0x913)](this[_0x1465cf(0x88a)]+'\x20('+this[_0x1465cf(0x6e8)][_0x1465cf(0x64c)]+'):\x20'+(_0x5584e4[_0x1465cf(0x714)]?.[_0x1465cf(0x70f)]?_0x1465cf(0x801):'recebido\x20de')+'\x20['+_0x5584e4[_0x1465cf(0x714)]?.[_0x1465cf(0x84e)]['replace'](_0x1465cf(0x4f1),'')+_0x1465cf(0x416)+_0x5584e4['messageType']+')'),_0x5584e4[_0x1465cf(0x5b1)]?.[_0x1465cf(0x6d0)]&&this['logger'][_0x1465cf(0x913)](_0x43bb82[_0x1465cf(0x714)]['id']+':\x20'+_0x5584e4['message_normalized']?.['text']),await this['repository']['message'][_0x1465cf(0x23c)]([_0x5584e4],this[_0x1465cf(0x6e8)][_0x1465cf(0x64c)]),this[_0x1465cf(0x57b)](_0x1465cf(0x8d4),_0x5584e4),F(this[_0x1465cf(0x88a)],_0x1465cf(0x663),{'message':_0x5584e4}),_0x43bb82['key']['remoteJid']!=='status@broadcast'&&await this['updateChatWithMessage'](_0x2de34c,_0x5584e4,'MESSAGES_UPSERT');}},'messages.update':async(_0x3186b9,_0x40801c)=>{const _0x2407e8=_0x328a20;let _0x27e83a={0x0:_0x2407e8(0x691),0x1:_0x2407e8(0x3f4),0x2:_0x2407e8(0x34a),0x3:_0x2407e8(0x1a5),0x4:_0x2407e8(0x251),0x5:_0x2407e8(0x4bb)};for await(let {key:_0x40e738,update:_0x1c3eb9}of _0x3186b9){if(this[_0x2407e8(0x638)]?.[_0x2407e8(0x530)]&&_0x40e738[_0x2407e8(0x84e)][_0x2407e8(0x6f2)](_0x2407e8(0x611))){this['logger'][_0x2407e8(0x704)](this[_0x2407e8(0x88a)]+'\x20('+this[_0x2407e8(0x6e8)][_0x2407e8(0x64c)]+_0x2407e8(0x4d8));return;}if(_0x40e738['remoteJid']!==_0x2407e8(0x74b)){let _0x24514f=Date[_0x2407e8(0x283)](),_0x15c877;_0x1c3eb9[_0x2407e8(0x36a)]===null&&_0x1c3eb9[_0x2407e8(0x309)]===void 0x0?_0x15c877='DELETED':_0x15c877=_0x27e83a[_0x1c3eb9[_0x2407e8(0x309)]];let _0x31e114=_0x40e738['remoteJid'][_0x2407e8(0x783)](/:\d{1,2}@/g,'@'),_0x2df63e={..._0x40e738,'remoteJid':_0x31e114,'status':_0x15c877,'datetime':_0x24514f,'owner':this['instance'][_0x2407e8(0x64c)]};this['sendDataWebhook'](_0x2407e8(0x746),_0x2df63e),await this['updateMessage'](_0x40e738,_0x2df63e);}}},'labels.association':async({type:_0x35e0d0,association:_0xbe9be5})=>{const _0x3103eb=_0x328a20;if(_0xbe9be5[_0x3103eb(0x688)]===_0x3103eb(0x7a6)){let _0x6c1a90,_0x2057c3=0x0;for(;!_0x6c1a90&&_0x2057c3<this[_0x3103eb(0x5e4)];)_0x6c1a90=await this['repository']['chat'][_0x3103eb(0x2c9)]({'where':{'_id':_0xbe9be5['chatId']}},this[_0x3103eb(0x6e8)][_0x3103eb(0x64c)]),_0x6c1a90||(_0x2057c3++,this['logger'][_0x3103eb(0x6c6)](this[_0x3103eb(0x88a)]+'\x20('+this[_0x3103eb(0x6e8)][_0x3103eb(0x64c)]+'):\x20Chat\x20'+_0xbe9be5[_0x3103eb(0x797)]+_0x3103eb(0x771)+this[_0x3103eb(0x43b)]+_0x3103eb(0x262)+_0x2057c3+'/'+this[_0x3103eb(0x5e4)]+')'),await this[_0x3103eb(0x278)](this[_0x3103eb(0x43b)]));if(!_0x6c1a90){this['logger'][_0x3103eb(0x8d2)](_0x3103eb(0x85d)+_0xbe9be5[_0x3103eb(0x797)]+_0x3103eb(0x443)+this['delayChatLabel_MAX_RETRIES']+'\x20tentativas.');return;}switch(_0x35e0d0){case _0x3103eb(0x83c):console[_0x3103eb(0x913)](_0xbe9be5),await this[_0x3103eb(0x7ae)][_0x3103eb(0x66d)][_0x3103eb(0x86c)]({'where':{'_id':_0xbe9be5['chatId']}},{'leadInfo.etiquetas':_0xbe9be5['labelId']},this[_0x3103eb(0x6e8)][_0x3103eb(0x64c)],void 0x0,'$addToSet');break;case _0x3103eb(0x27c):console[_0x3103eb(0x913)](_0xbe9be5),await this[_0x3103eb(0x7ae)]['chat'][_0x3103eb(0x86c)]({'where':{'_id':_0xbe9be5['chatId']}},{'leadInfo.etiquetas':_0xbe9be5[_0x3103eb(0x6fb)]},this[_0x3103eb(0x6e8)][_0x3103eb(0x64c)],void 0x0,_0x3103eb(0x589));break;default:this[_0x3103eb(0x379)][_0x3103eb(0x8d2)](_0x3103eb(0x90d)+_0x35e0d0+']');}}},'labels.edit':async _0x2d700b=>{const _0x383066=_0x328a20;if(!_0x2d700b||!_0x2d700b['id']){this[_0x383066(0x379)][_0x383066(0x8d2)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x2d700b[_0x383066(0x1aa)]){let _0x461f3c=[_0x383066(0x195),_0x383066(0x514),_0x383066(0x250),'#dfaef0',_0x383066(0x6b7),'#56ccb4',_0x383066(0x58e),'#d3a91f','#6f7bcf',_0x383066(0x205),_0x383066(0x2e1),'#ffc5c7','#92ceac',_0x383066(0x548),_0x383066(0x881),_0x383066(0x8f3),'#ffae04','#b4ebff',_0x383066(0x711),_0x383066(0x792)],_0x3b6083;typeof _0x2d700b[_0x383066(0x4ac)]==_0x383066(0x5be)&&_0x2d700b[_0x383066(0x4ac)]>=0x0&&_0x2d700b[_0x383066(0x4ac)]<_0x461f3c[_0x383066(0x3d4)]?_0x3b6083=_0x461f3c[_0x2d700b[_0x383066(0x4ac)]]:(this[_0x383066(0x379)][_0x383066(0x8d2)](_0x383066(0x4d9)+_0x2d700b[_0x383066(0x4ac)]),_0x3b6083=_0x383066(0x6c2));let _0x377ec2={'_id':_0x2d700b['id'],'colorHex':_0x3b6083,'color':_0x2d700b?.[_0x383066(0x4ac)],'name':_0x2d700b?.[_0x383066(0x8d9)],'owner':this[_0x383066(0x6e8)][_0x383066(0x64c)]};await this[_0x383066(0x7ae)]['label'][_0x383066(0x86c)]({'where':{'_id':_0x2d700b['id']}},_0x377ec2,this['instance'][_0x383066(0x64c)]),this[_0x383066(0x379)][_0x383066(0x6c6)](this['instanceName']+'\x20('+this[_0x383066(0x6e8)][_0x383066(0x64c)]+_0x383066(0x85b)+_0x2d700b);}_0x2d700b[_0x383066(0x1aa)]&&(await this[_0x383066(0x7ae)][_0x383066(0x8be)]['delete']({'where':{'_id':_0x2d700b['id']}},this['instance'][_0x383066(0x64c)]),this[_0x383066(0x379)][_0x383066(0x6c6)](_0x383066(0x8e6)+_0x2d700b['id']));}},this[_0x328a20(0x324)]={'groups.upsert':async _0xfcf967=>{const _0x5e312b=_0x328a20;this[_0x5e312b(0x638)]?.[_0x5e312b(0x530)]||this['sendDataWebhook'](_0x5e312b(0x4a9),_0xfcf967);for(let _0x444fff of _0xfcf967)await this[_0x5e312b(0x1b8)](_0x444fff);},'groups.update':async _0xc3e228=>{const _0x15752f=_0x328a20;this[_0x15752f(0x638)]?.['groups_ignore']||this[_0x15752f(0x57b)](_0x15752f(0x2eb),_0xc3e228);for(let _0x435fdc of _0xc3e228)await this['updateGroupWebhook'](_0x435fdc);},'group-participants.update':async _0x2b293c=>{const _0xdff118=_0x328a20;this[_0xdff118(0x638)]?.['groups_ignore']||this[_0xdff118(0x57b)](_0xdff118(0x501),_0x2b293c),await this[_0xdff118(0x6ad)](_0x2b293c);}},this[_0x328a20(0x5e4)]=0x5,this[_0x328a20(0x43b)]=0x1388,this['lastRealGroupsFetch']=0x0,this[_0x328a20(0x57d)]=async _0x43778b=>{const _0x23d722=_0x328a20;if(_0x43778b[_0x23d722(0x36a)]?.[_0x23d722(0x4a4)]){let _0x5db5cc=await this[_0x23d722(0x49a)](_0x43778b[_0x23d722(0x36a)][_0x23d722(0x4a4)]['pollCreationMessageKey'],!0x0);if(_0x5db5cc){let _0x315d89=_0x5db5cc['key'][_0x23d722(0x70f)]?this[_0x23d722(0x6e8)]['wuid']+_0x23d722(0x4f1):_0x5db5cc['key']['participant']||_0x5db5cc['key'][_0x23d722(0x84e)],_0x2bd4f9=_0x5db5cc[_0x23d722(0x714)]['id'],_0x5a2eae=_0x5db5cc[_0x23d722(0x36a)],_0x11aa59=Buffer[_0x23d722(0x847)](_0x5a2eae['messageContextInfo'][_0x23d722(0x755)][_0x23d722(0x1d0)]('hex'),_0x23d722(0x214)),_0x120a33=(0x0,w['decryptPollVote'])(_0x43778b[_0x23d722(0x36a)][_0x23d722(0x4a4)][_0x23d722(0x4b2)],{'pollCreatorJid':_0x315d89,'pollMsgId':_0x2bd4f9,'pollEncKey':_0x11aa59,'voterJid':_0x43778b['key'][_0x23d722(0x70f)]?this[_0x23d722(0x6e8)][_0x23d722(0x64c)]+_0x23d722(0x4f1):_0x43778b[_0x23d722(0x714)][_0x23d722(0x84e)][_0x23d722(0x888)](_0x23d722(0x6f6))?_0x43778b['key'][_0x23d722(0x2e0)]:_0x43778b[_0x23d722(0x714)][_0x23d722(0x84e)]}),_0xb00c64=[],_0x4d6d03=_0x120a33['selectedOptions'][_0x23d722(0x1e8)](_0x212859=>Buffer[_0x23d722(0x847)](_0x212859)[_0x23d722(0x1d0)](_0x23d722(0x214)));for(let {optionName:_0x2a3b34}of _0x5a2eae[_0x23d722(0x896)]?.['options']||_0x5a2eae[_0x23d722(0x61a)]?.[_0x23d722(0x5c4)]||_0x5a2eae[_0x23d722(0x344)]?.[_0x23d722(0x5c4)])_0x4d6d03[_0x23d722(0x81f)]((0x0,w[_0x23d722(0x6ac)])(Buffer[_0x23d722(0x847)](_0x2a3b34))['toString'](_0x23d722(0x214)))>-0x1&&_0xb00c64['push'](_0x2a3b34);return _0xb00c64;}}return null;},this[_0x328a20(0x80e)]=(_0x324056,_0x18d29c,_0x5f1ba0)=>{const _0x47b851=_0x328a20;try{let _0x3598af=_0x324056?(0x0,w[_0x47b851(0x6b8)])(_0x324056)[_0x18d29c]:void 0x0,_0x1432b2={},_0x103038=null,_0x50735e=null,_0x9774ff=null,_0x4a95ff=null;_0x18d29c==='protocolMessage'&&_0x3598af?.['editedMessage']&&(_0x18d29c=(0x0,w[_0x47b851(0x51a)])(_0x3598af[_0x47b851(0x812)]),_0x103038=_0x324056[_0x47b851(0x212)][_0x47b851(0x714)]['id'],_0x3598af=_0x324056[_0x47b851(0x212)]['editedMessage'][_0x18d29c]),_0x324056[_0x18d29c]?.[_0x47b851(0x374)]?.[_0x47b851(0x597)]&&_0x324056[_0x18d29c]?.[_0x47b851(0x374)]?.[_0x47b851(0x33e)]&&(_0x50735e=_0x324056[_0x18d29c][_0x47b851(0x374)][_0x47b851(0x597)]),_0x324056['reactionMessage']&&(_0x9774ff=_0x324056[_0x47b851(0x62e)][_0x47b851(0x714)]['id']);let _0xb7e1b6;if(_0x3598af&&typeof _0x3598af==_0x47b851(0x3f1)&&'pollCreationMessageKey'in _0x3598af&&({pollCreationMessageKey:_0xb7e1b6}=_0x3598af),_0x18d29c===_0x47b851(0x896)||_0x18d29c===_0x47b851(0x344)||_0x18d29c===_0x47b851(0x61a)){let _0xc6e6e=_0x3598af[_0x47b851(0x5c4)][_0x47b851(0x1e8)](_0x38f0a3=>_0x38f0a3['optionName'])['join']('|');_0x1432b2[_0x47b851(0x49f)]=_0xc6e6e;}if(_0x18d29c===_0x47b851(0x271)){let _0x209a57=_0x3598af[_0x47b851(0x38d)][_0x47b851(0x67e)][_0x47b851(0x1e8)](_0x1f9e62=>JSON[_0x47b851(0x46d)](_0x1f9e62[_0x47b851(0x259)])[_0x47b851(0x211)])[_0x47b851(0x473)]('|');_0x1432b2[_0x47b851(0x49f)]=_0x209a57;}_0x18d29c===_0x47b851(0x77b)&&(_0x1432b2[_0x47b851(0x743)]=_0x3598af?.['singleSelectReply']?.[_0x47b851(0x808)]);let _0x419210='';if(_0x3598af&&(_0x419210+=_0x3598af[_0x47b851(0x8d9)]?_0x3598af[_0x47b851(0x8d9)]:'',_0x419210+=_0x3598af[_0x47b851(0x378)]?'\x20'+_0x3598af[_0x47b851(0x378)]:'',_0x419210+=_0x3598af[_0x47b851(0x6c9)]?'\x20'+_0x3598af[_0x47b851(0x6c9)]:'',_0x419210+=_0x3598af['displayName']?'\x20'+_0x3598af[_0x47b851(0x1c2)]:'',_0x18d29c!==_0x47b851(0x351)&&(_0x419210+=_0x3598af[_0x47b851(0x533)]?.[_0x47b851(0x6d0)]?'\x20'+_0x3598af[_0x47b851(0x533)][_0x47b851(0x6d0)]:''),_0x419210+=_0x3598af?.[_0x47b851(0x7aa)]?.['text']?'\x20'+_0x3598af?.[_0x47b851(0x7aa)]?.[_0x47b851(0x6d0)]:''),_0x18d29c==='listMessage'){_0x419210=(_0x3598af['title']||'')+'\x0a'+(_0x3598af[_0x47b851(0x34b)]||'')+'\x0a'+(_0x3598af[_0x47b851(0x744)]||'');let _0x4f0512=this['sectionsToString'](_0x3598af['sections']);_0x1432b2[_0x47b851(0x49f)]=_0x4f0512;}if(_0x18d29c===_0x47b851(0x77b)&&(_0x5f1ba0=_0x3598af[_0x47b851(0x70e)],_0x4a95ff=_0x3598af?.[_0x47b851(0x7d3)]?.['selectedRowId']),_0x18d29c===_0x47b851(0x351)){let _0xea7ff=_0x3598af?.[_0x47b851(0x55f)];_0xea7ff&&_0xea7ff[_0x47b851(0x8d9)]===_0x47b851(0x5da)&&(_0x4a95ff=JSON[_0x47b851(0x46d)](_0xea7ff[_0x47b851(0x409)])['id']),_0x5f1ba0=_0x3598af?.[_0x47b851(0x533)]?.[_0x47b851(0x6d0)];}if(_0x18d29c===_0x47b851(0x81a)&&(_0x5f1ba0=_0x3598af?.[_0x47b851(0x22c)],_0x4a95ff=_0x3598af?.[_0x47b851(0x8bb)]),_0x18d29c==='buttonsResponseMessage'&&(_0x5f1ba0=_0x3598af?.[_0x47b851(0x22c)],_0x4a95ff=_0x3598af?.[_0x47b851(0x581)]),_0x3598af&&_0x3598af[_0x47b851(0x8bf)]){let _0x230b86=this[_0x47b851(0x620)](JSON[_0x47b851(0x66f)](_0x3598af['vcard'],null,0x2));_0x419210=_0x419210+'\x0a'+_0x230b86;}if(_0x3598af){let {selectedButtonId:_0x554913,nativeFlowResponseMessage:_0x3461f4,selectedId:_0x441da7,selectedDisplayText:_0x50e6df,selectedIndex:_0x280f24,body:_0x18bd64,nativeFlowMessage:_0x293b22,singleSelectReply:_0x3f1043,sections:_0x17b155,listType:_0x5a671e,displayName:_0x571a7c,vcard:_0x4d4d6d,contactVcard:_0x169096,name:_0x1f2e0e,caption:_0x15441d,conversation:_0x4a6c93,pollCreationMessageKey:_0x306eba,footerText:_0xc89c88,contentText:_0x55dafc,pageCount:_0x1c7b6b,headerType:_0x1ef23d,isAvatar:_0x1d0af9,isAnimated:_0x5963b5,fallbackLc:_0xf46425,fallbackLg:_0x422c04,namespace:_0x3236d6,elementName:_0x83f659,localizableParams:_0x487c42,viewOnce:_0x1655cb,height:_0x5af49f,width:_0x3fd328,key:_0x2a0dc7,firstScanLength:_0x400696,firstScanSidecar:_0x5d8f4e,gifPlayback:_0x203b60,gifAttribution:_0x356470,midQualityFileSha256:_0x52a0bd,scansSidecar:_0x2773d3,streamingSidecar:_0x5902a6,thumbnailHeight:_0x2f9930,thumbnailWidth:_0x4186ec,thumbnailEncSha256:_0x52741e,thumbnailDirectPath:_0x50b2f5,canonicalUrl:_0x4da4f1,matchedText:_0x1d7dee,previewType:_0x14b830,thumbnailSha256:_0xbd85f5,deviceListMetadataVersion:_0x178de6,inviteLinkGroupTypeV2:_0x3fe3ab,interactiveAnnotations:_0x87fbc3,scanLengths:_0x26038f,jpegThumbnail:_0x204f21,url:_0x34ae73,mediaKeyTimestamp:_0x3d68ae,waveform:_0x4be8a0,stickerSentTs:_0x30cbb8,firstFrameLength:_0x4f6afd,fileEncSha256:_0x3dccb8,contextInfo:_0xa21bdf,firstFrameSidecar:_0x22393a,directPath:_0x5ce25b,fileSha256:_0x4073ea,mediaKey:_0x1498bc,senderTimestampMs:_0x37087b,..._0x224fb4}=_0x3598af;(_0x18d29c==='listMessage'||_0x18d29c===_0x47b851(0x77b))&&(delete _0x224fb4[_0x47b851(0x70e)],delete _0x224fb4[_0x47b851(0x34b)]),typeof _0x3598af=='string'?_0x1432b2={'text':_0x3598af,'type':_0x18d29c||_0x47b851(0x6c9),..._0x103038&&{'edited':_0x103038},..._0x50735e&&{'quoted':_0x50735e},..._0x9774ff&&{'reaction':_0x9774ff}}:_0x1432b2={'text':_0x419210,..._0x224fb4,..._0x18d29c===_0x47b851(0x4a4)?{'poll_id':_0x3598af[_0x47b851(0x75f)]['id'],'quoted':_0x3598af[_0x47b851(0x75f)]['id'],'vote':_0x5f1ba0}:{},..._0x18d29c===_0x47b851(0x77b)?{'buttonOrList_id':_0x4a95ff,'vote':_0x5f1ba0}:{},..._0x18d29c==='interactiveResponseMessage'?{'buttonOrList_id':_0x4a95ff,'vote':_0x5f1ba0}:{},..._0x18d29c==='templateButtonReplyMessage'?{'buttonOrList_id':_0x4a95ff,'vote':_0x5f1ba0}:{},..._0x18d29c===_0x47b851(0x515)?{'buttonOrList_id':_0x4a95ff,'vote':_0x5f1ba0}:{},'type':_0x18d29c,..._0x103038&&{'edited':_0x103038},..._0x50735e&&{'quoted':_0x50735e},..._0x9774ff&&{'reaction':_0x9774ff},...(_0x18d29c===_0x47b851(0x896)||_0x18d29c===_0x47b851(0x344)||_0x18d29c===_0x47b851(0x61a)||_0x18d29c==='listMessage'||_0x18d29c===_0x47b851(0x271))&&{'convertedOptions':_0x1432b2[_0x47b851(0x49f)]}};}return{'messageType':_0x18d29c,'messageContent':_0x3598af,'message_normalized':_0x1432b2};}catch(_0x4f93d4){return this[_0x47b851(0x379)][_0x47b851(0x8d2)](_0x47b851(0x867)+_0x4f93d4),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this[_0x328a20(0x709)]=[],(this['cleanStore'](),this[_0x328a20(0x7ca)](),this['instance']['HistoryProcessed']=!0x0,this['instance'][_0x328a20(0x753)]={'count':0x0},this[_0x328a20(0x6e8)]['ScheduleMessage']={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}[a0_0x466431(0x7f0)](_0x4f9985,_0x86ecc3){const _0x2014e3=a0_0x466431;this[_0x2014e3(0x229)][_0x4f9985]||(this[_0x2014e3(0x229)][_0x4f9985]=new Set()),this['processedMessagesCache'][_0x4f9985][_0x2014e3(0x83c)](_0x86ecc3),setTimeout(()=>this[_0x2014e3(0x229)][_0x4f9985][_0x2014e3(0x384)](_0x86ecc3),0x2710);}['isMessageProcessed'](_0x4635d1,_0x431e5c){const _0xc795f3=a0_0x466431;return this[_0xc795f3(0x229)][_0x4635d1]?.[_0xc795f3(0x428)](_0x431e5c)??!0x1;}set[a0_0x466431(0x88a)](_0x4a4ccf){const _0x23782f=a0_0x466431;if(!_0x4a4ccf){this['instance'][_0x23782f(0x8d9)]=(0x0,Ti['v4'])();return;}this[_0x23782f(0x6e8)]['name']=_0x4a4ccf,this[_0x23782f(0x57b)]('status.instance',{'instance':this['instance']['name'],'status':_0x23782f(0x1b3)});}get[a0_0x466431(0x88a)](){const _0x10c8d1=a0_0x466431;return this[_0x10c8d1(0x6e8)][_0x10c8d1(0x8d9)];}get['wuid'](){const _0x438990=a0_0x466431;return this['instance'][_0x438990(0x64c)];}async[a0_0x466431(0x532)](){const _0x36bbd2=a0_0x466431;let _0x5e7e36=this[_0x36bbd2(0x5a1)][_0x36bbd2(0x4da)]?.[_0x36bbd2(0x8d9)]??this['client'][_0x36bbd2(0x4da)]?.[_0x36bbd2(0x569)];if(!_0x5e7e36){if(this[_0x36bbd2(0x338)][_0x36bbd2(0x438)]('DATABASE')[_0x36bbd2(0x613)]){let _0x2c1296=await T[_0x36bbd2(0x74c)]()['db'](this[_0x36bbd2(0x338)][_0x36bbd2(0x438)]('DATABASE')['CONNECTION'][_0x36bbd2(0x3b8)]+_0x36bbd2(0x745))[_0x36bbd2(0x722)](this[_0x36bbd2(0x88a)])[_0x36bbd2(0x2c9)]({'_id':_0x36bbd2(0x60e)});if(_0x2c1296){let _0x1f9533=JSON[_0x36bbd2(0x46d)](JSON['stringify'](_0x2c1296),w[_0x36bbd2(0x485)][_0x36bbd2(0x2e3)]);_0x5e7e36=_0x1f9533['me']?.[_0x36bbd2(0x8d9)]||_0x1f9533['me']?.[_0x36bbd2(0x569)];}}else{if((0x0,Fe[_0x36bbd2(0x4ce)])((0x0,j[_0x36bbd2(0x473)])(be,this['instanceName'],'creds.json'))){let _0x461645=JSON[_0x36bbd2(0x46d)]((0x0,Fe[_0x36bbd2(0x822)])((0x0,j['join'])(be,this[_0x36bbd2(0x88a)],_0x36bbd2(0x27f)),{'encoding':_0x36bbd2(0x1bb)}));_0x5e7e36=_0x461645['me']?.[_0x36bbd2(0x8d9)]||_0x461645['me']?.[_0x36bbd2(0x569)];}}}return _0x5e7e36;}get[a0_0x466431(0x4dc)](){const _0x1f1094=a0_0x466431;return this[_0x1f1094(0x6e8)][_0x1f1094(0x4dc)];}async['isBusinessInstance'](){const _0x76b5f4=a0_0x466431;let _0x1cf7c0=this['instance'][_0x76b5f4(0x64c)]+_0x76b5f4(0x4f1);try{await this[_0x76b5f4(0x5a1)][_0x76b5f4(0x71f)](_0x1cf7c0)?this['instance'][_0x76b5f4(0x677)]=!0x0:this[_0x76b5f4(0x6e8)][_0x76b5f4(0x677)]=!0x1;}catch{this[_0x76b5f4(0x6e8)][_0x76b5f4(0x677)]=!0x1;}return this['logger'][_0x76b5f4(0x6c6)](this[_0x76b5f4(0x88a)]+'\x20('+this['instance']['wuid']+_0x76b5f4(0x4ca)+this['instance'][_0x76b5f4(0x677)]),this['instance'][_0x76b5f4(0x677)];}get[a0_0x466431(0x7d8)](){const _0x4f6ead=a0_0x466431;return this['instance']['HistoryProcessed']=!0x1,this[_0x4f6ead(0x6e8)]['qrcode']?.[_0x4f6ead(0x805)]?{'pairingCode':this[_0x4f6ead(0x6e8)][_0x4f6ead(0x753)]?.[_0x4f6ead(0x805)]}:{'code':this[_0x4f6ead(0x6e8)]['qrcode']?.['code'],'base64':this[_0x4f6ead(0x6e8)][_0x4f6ead(0x753)]?.[_0x4f6ead(0x907)]};}async['loadWebhook'](){const _0xe8b83e=a0_0x466431;let _0x1b9239=await this[_0xe8b83e(0x7ae)][_0xe8b83e(0x680)][_0xe8b83e(0x5a4)](this['instanceName']);this[_0xe8b83e(0x638)][_0xe8b83e(0x479)]=_0x1b9239?.[_0xe8b83e(0x479)],this[_0xe8b83e(0x638)][_0xe8b83e(0x78f)]=_0x1b9239?.[_0xe8b83e(0x78f)],this[_0xe8b83e(0x638)][_0xe8b83e(0x5af)]=_0x1b9239?.[_0xe8b83e(0x5af)],this['localWebhook'][_0xe8b83e(0x444)]=_0x1b9239?.[_0xe8b83e(0x444)],this[_0xe8b83e(0x638)][_0xe8b83e(0x8fb)]=_0x1b9239?.[_0xe8b83e(0x8fb)],this['localWebhook']['SEND_MESSAGE']=_0x1b9239?.[_0xe8b83e(0x487)],this[_0xe8b83e(0x638)]['MESSAGES_UPSERT']=_0x1b9239?.[_0xe8b83e(0x43a)],this[_0xe8b83e(0x638)][_0xe8b83e(0x557)]=_0x1b9239?.[_0xe8b83e(0x557)],this[_0xe8b83e(0x638)][_0xe8b83e(0x40a)]=_0x1b9239?.[_0xe8b83e(0x40a)],this[_0xe8b83e(0x638)][_0xe8b83e(0x67d)]=_0x1b9239?.[_0xe8b83e(0x67d)],this[_0xe8b83e(0x638)]['GROUP_PARTICIPANTS_UPDATE']=_0x1b9239?.['GROUP_PARTICIPANTS_UPDATE'],this[_0xe8b83e(0x638)][_0xe8b83e(0x36d)]=_0x1b9239?.[_0xe8b83e(0x36d)],this[_0xe8b83e(0x638)][_0xe8b83e(0x547)]=_0x1b9239?.[_0xe8b83e(0x547)],this[_0xe8b83e(0x638)]['CHATS_UPDATE']=_0x1b9239?.[_0xe8b83e(0x3e1)],this[_0xe8b83e(0x638)][_0xe8b83e(0x559)]=_0x1b9239?.['CHATS_DELETE'],this[_0xe8b83e(0x638)][_0xe8b83e(0x570)]=_0x1b9239?.[_0xe8b83e(0x570)],this['localWebhook'][_0xe8b83e(0x865)]=_0x1b9239?.[_0xe8b83e(0x865)],this[_0xe8b83e(0x638)]['CONTACTS_UPDATE']=_0x1b9239?.[_0xe8b83e(0x823)],this[_0xe8b83e(0x638)][_0xe8b83e(0x33a)]=_0x1b9239?.['PRESENCE_UPDATE'],this['localWebhook'][_0xe8b83e(0x40c)]=_0x1b9239?.[_0xe8b83e(0x40c)],this[_0xe8b83e(0x638)]['CONNECTION_UPDATE']=_0x1b9239?.[_0xe8b83e(0x656)],this[_0xe8b83e(0x638)]['groups_ignore']=_0x1b9239?.[_0xe8b83e(0x530)];}async[a0_0x466431(0x2d0)](_0x53aa40){const _0x5b83bb=a0_0x466431;let _0x49a62e=['_id',_0x5b83bb(0x479),'enabled',_0x5b83bb(0x5af),_0x5b83bb(0x444),_0x5b83bb(0x8fb),_0x5b83bb(0x557),'MESSAGES_UPSERT',_0x5b83bb(0x487),_0x5b83bb(0x40a),_0x5b83bb(0x67d),'GROUP_PARTICIPANTS_UPDATE',_0x5b83bb(0x36d),_0x5b83bb(0x547),'CHATS_UPDATE','CHATS_DELETE',_0x5b83bb(0x570),_0x5b83bb(0x865),_0x5b83bb(0x823),_0x5b83bb(0x33a),'MESSAGES_SET',_0x5b83bb(0x656),_0x5b83bb(0x530)],_0x4cee78={};return _0x49a62e['forEach'](_0x153caa=>{_0x53aa40[_0x153caa]!==void 0x0&&(_0x4cee78[_0x153caa]=_0x53aa40[_0x153caa]);}),_0x4cee78[_0x5b83bb(0x479)]&&(_0x4cee78[_0x5b83bb(0x479)]=_0x4cee78[_0x5b83bb(0x479)]['trim']()),await this[_0x5b83bb(0x7ae)][_0x5b83bb(0x680)][_0x5b83bb(0x1d1)](_0x4cee78,this[_0x5b83bb(0x88a)]),Object[_0x5b83bb(0x25a)](this[_0x5b83bb(0x638)],_0x4cee78),await this[_0x5b83bb(0x7ae)][_0x5b83bb(0x680)][_0x5b83bb(0x5a4)](this[_0x5b83bb(0x88a)]);}async[a0_0x466431(0x60d)](){const _0x3287c7=a0_0x466431;return await this['repository'][_0x3287c7(0x680)][_0x3287c7(0x5a4)](this[_0x3287c7(0x88a)]);}async['sendDataWebhook'](_0x45be0f,_0x2be955){const _0x38402a=a0_0x466431;let _0x202178=_0x45be0f[_0x38402a(0x783)](/[\.-]/gm,'_')[_0x38402a(0x520)](),_0x3f6170=this[_0x38402a(0x638)][_0x38402a(0x78f)]&&(0x0,J['isURL'])(this['localWebhook'][_0x38402a(0x479)])?this[_0x38402a(0x638)][_0x38402a(0x479)]+(this[_0x38402a(0x638)][_0x38402a(0x5af)]?this['webhookMap'][_0x45be0f]:''):null,_0x1ad840=this[_0x38402a(0x638)][_0x202178],_0x40f5bd=de&&de[_0x38402a(0x78f)]&&(0x0,J[_0x38402a(0x627)])(de[_0x38402a(0x479)])?de[_0x38402a(0x479)]+(de[_0x38402a(0x5af)]?this[_0x38402a(0x827)][_0x45be0f]:''):null,_0x21464e=de?de[_0x202178]:null;if(_0x1ad840&&_0x3f6170)try{await K[_0x38402a(0x525)][_0x38402a(0x1d1)]({'baseURL':_0x3f6170})[_0x38402a(0x3b5)]('',{'event':_0x45be0f,'instance':this['instance'][_0x38402a(0x8d9)],'apikey':this[_0x38402a(0x6e8)]['apikey'],'data':_0x2be955}),this['logger']['log'](this[_0x38402a(0x88a)]+'\x20('+this['instance'][_0x38402a(0x64c)]+_0x38402a(0x54d)+_0x45be0f+':\x20'+_0x3f6170);}catch{this[_0x38402a(0x379)][_0x38402a(0x8d2)](this['instanceName']+'\x20('+this['instance'][_0x38402a(0x64c)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x45be0f+':\x20'+_0x3f6170);}if(_0x21464e&&_0x40f5bd)try{await K[_0x38402a(0x525)][_0x38402a(0x1d1)]({'baseURL':_0x40f5bd})[_0x38402a(0x3b5)]('',{'event':_0x45be0f,'instance':this[_0x38402a(0x6e8)][_0x38402a(0x8d9)],'apikey':this['instance']['apikey'],'data':_0x2be955}),this['logger'][_0x38402a(0x913)](this[_0x38402a(0x88a)]+'\x20('+this[_0x38402a(0x6e8)]['wuid']+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x45be0f+':\x20'+_0x40f5bd);}catch{this['logger']['error'](this[_0x38402a(0x88a)]+'\x20('+this['instance'][_0x38402a(0x64c)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x45be0f+':\x20'+_0x40f5bd);}}async['connectionUpdate']({qr:_0x1b3f25,connection:_0x834baa,lastDisconnect:_0x4e438a}){const _0x28eccc=a0_0x466431;if(_0x1b3f25){if(this[_0x28eccc(0x6e8)][_0x28eccc(0x753)][_0x28eccc(0x82b)]===Lo)return this[_0x28eccc(0x57b)](_0x28eccc(0x1c9),{'message':_0x28eccc(0x901),'statusCode':w[_0x28eccc(0x407)][_0x28eccc(0x39c)]}),this[_0x28eccc(0x4e1)]={'state':_0x28eccc(0x2bf),'statusReason':w[_0x28eccc(0x407)][_0x28eccc(0x265)]},this[_0x28eccc(0x57b)](_0x28eccc(0x1ee),{'instance':this[_0x28eccc(0x6e8)]['name'],...this[_0x28eccc(0x4e1)]}),this[_0x28eccc(0x57b)](_0x28eccc(0x61b),{'instance':this[_0x28eccc(0x6e8)]['name'],'status':_0x28eccc(0x44d)}),this[_0x28eccc(0x7ae)]['auth'][_0x28eccc(0x384)](this[_0x28eccc(0x6e8)][_0x28eccc(0x8d9)]),this['endSession']=!0x0,this[_0x28eccc(0x7c9)]['emit']('no.connection',this[_0x28eccc(0x6e8)]['name']);this[_0x28eccc(0x6e8)][_0x28eccc(0x753)][_0x28eccc(0x82b)]++;let _0x1999d4={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x28eccc(0x8ee),'dark':_0x28eccc(0x6c2)}};Ii[_0x28eccc(0x525)][_0x28eccc(0x88e)](_0x1b3f25,_0x1999d4,(_0x53477f,_0x1067df)=>{const _0x1bedd5=_0x28eccc;if(_0x53477f){this['logger'][_0x1bedd5(0x8d2)](this[_0x1bedd5(0x88a)]+'\x20('+this['instance']['wuid']+_0x1bedd5(0x3f5)+(_0x53477f instanceof Error?_0x53477f[_0x1bedd5(0x36a)]:JSON[_0x1bedd5(0x66f)](_0x53477f,null,0x2)));return;}this[_0x1bedd5(0x6e8)][_0x1bedd5(0x753)]['base64']=_0x1067df,this['instance']['qrcode'][_0x1bedd5(0x84c)]=_0x1b3f25,!this[_0x1bedd5(0x828)]&&this[_0x1bedd5(0x57b)](_0x1bedd5(0x1c9),{'qrcode':{'instance':this[_0x1bedd5(0x6e8)]['name'],'pairingCode':this[_0x1bedd5(0x6e8)][_0x1bedd5(0x753)][_0x1bedd5(0x805)],'code':_0x1b3f25,'base64':_0x1067df}});}),this[_0x28eccc(0x828)]?this[_0x28eccc(0x6e8)][_0x28eccc(0x753)][_0x28eccc(0x805)]||(await(0x0,w[_0x28eccc(0x8c9)])(0x7d0),this[_0x28eccc(0x6e8)][_0x28eccc(0x753)][_0x28eccc(0x805)]=await this[_0x28eccc(0x5a1)]['requestPairingCode'](this['phoneNumber'])):this[_0x28eccc(0x6e8)][_0x28eccc(0x753)][_0x28eccc(0x805)]=null,_i['default'][_0x28eccc(0x502)](_0x1b3f25,{'small':!0x0},_0x5aeef8=>this['logger'][_0x28eccc(0x913)](_0x28eccc(0x6cb)+this['instance']['name']+_0x28eccc(0x306)+this[_0x28eccc(0x6e8)][_0x28eccc(0x753)]['count']+_0x28eccc(0x41a)+this['instance'][_0x28eccc(0x753)]['pairingCode']+_0x28eccc(0x5ed)+_0x5aeef8));}if(_0x834baa&&(this[_0x28eccc(0x4e1)]={'state':_0x834baa,'statusReason':_0x4e438a?.['error']?.['output']?.[_0x28eccc(0x1ab)]??0xc8},this[_0x28eccc(0x57b)](_0x28eccc(0x1ee),{'instance':this['instance'][_0x28eccc(0x8d9)],...this['stateConnection']})),_0x834baa===_0x28eccc(0x8e8)){if(_0x4e438a['error']?.['output']?.[_0x28eccc(0x1ab)]!==w[_0x28eccc(0x407)][_0x28eccc(0x393)]&&(this['reconnectAttempts']<0x21||this[_0x28eccc(0x6e8)][_0x28eccc(0x729)]['isConnected'])){this['reconnectAttempts']++,this['reconnectTimestamps'][_0x28eccc(0x543)](Date['now']()),this[_0x28eccc(0x452)]=this['reconnectTimestamps'][_0x28eccc(0x189)](_0x39c187=>Date[_0x28eccc(0x283)]()-_0x39c187<this['RECONNECT_TIME_FRAME']);let _0x4e5959=this[_0x28eccc(0x523)]<=0x1?0x0:Math[_0x28eccc(0x742)](Math[_0x28eccc(0x880)](0x2,this[_0x28eccc(0x523)]-0x1)*0x3e8,0x493e0);console[_0x28eccc(0x913)](this[_0x28eccc(0x88a)]+_0x28eccc(0x7bd)+this[_0x28eccc(0x523)]+_0x28eccc(0x1b4)+_0x4e5959/0x3e8+_0x28eccc(0x329)),await new Promise(_0x2ebf09=>setTimeout(_0x2ebf09,_0x4e5959)),console[_0x28eccc(0x913)](_0x28eccc(0x57e)),await this[_0x28eccc(0x43d)]();}else{this[_0x28eccc(0x57b)](_0x28eccc(0x61b),{'instance':this['instance'][_0x28eccc(0x8d9)],'status':_0x28eccc(0x44d)}),this[_0x28eccc(0x6e8)][_0x28eccc(0x729)][_0x28eccc(0x6ca)]=!0x1,this[_0x28eccc(0x7ae)]['webhook'][_0x28eccc(0x384)](this['instanceName']),this['repository'][_0x28eccc(0x3f0)][_0x28eccc(0x1d1)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x28eccc(0x283)]()},this[_0x28eccc(0x6e8)]['name']);try{this[_0x28eccc(0x379)][_0x28eccc(0x704)](this['instanceName']+'\x20('+this[_0x28eccc(0x6e8)][_0x28eccc(0x64c)]+_0x28eccc(0x8cb));let _0x522fb9=await this[_0x28eccc(0x7ae)][_0x28eccc(0x36a)]['deleteAll'](this['instance'][_0x28eccc(0x64c)]);_0x522fb9['success']?this['logger'][_0x28eccc(0x704)](this['instanceName']+'\x20('+this['instance'][_0x28eccc(0x64c)]+_0x28eccc(0x8e5)):this[_0x28eccc(0x379)][_0x28eccc(0x8d2)](_0x28eccc(0x916)+_0x522fb9[_0x28eccc(0x8d2)]);}catch(_0x3a73b5){this[_0x28eccc(0x379)]['error']('Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20'+_0x3a73b5[_0x28eccc(0x36a)]);}this[_0x28eccc(0x6e8)][_0x28eccc(0x729)][_0x28eccc(0x598)]!==null&&(this['logger'][_0x28eccc(0x704)](this[_0x28eccc(0x88a)]+'\x20('+this[_0x28eccc(0x6e8)][_0x28eccc(0x64c)]+_0x28eccc(0x192)),clearInterval(this[_0x28eccc(0x6e8)][_0x28eccc(0x729)][_0x28eccc(0x598)]),this[_0x28eccc(0x6e8)][_0x28eccc(0x729)][_0x28eccc(0x598)]=null),this[_0x28eccc(0x379)][_0x28eccc(0x704)](this['instanceName']+'\x20('+this[_0x28eccc(0x6e8)]['wuid']+_0x28eccc(0x763)),this[_0x28eccc(0x782)]=null,this[_0x28eccc(0x7c9)][_0x28eccc(0x890)]('remove.instance',this['instance'][_0x28eccc(0x8d9)],'inner'),this[_0x28eccc(0x5a1)]?.['ws']?.[_0x28eccc(0x8e8)](),this[_0x28eccc(0x5a1)][_0x28eccc(0x70a)](new Error(_0x28eccc(0x521)));}}if(_0x834baa===_0x28eccc(0x70d)){this[_0x28eccc(0x379)][_0x28eccc(0x2e7)](this['instanceName']+'\x20('+this[_0x28eccc(0x6e8)][_0x28eccc(0x64c)]+'):\x20this.client.authState.creds?.myAppStateKeyId:\x20'+this[_0x28eccc(0x5a1)][_0x28eccc(0x429)][_0x28eccc(0x60e)]?.[_0x28eccc(0x816)]),this[_0x28eccc(0x5a1)][_0x28eccc(0x429)]['creds']?.['myAppStateKeyId']||(this['logger'][_0x28eccc(0x2e7)](this['instanceName']+'\x20('+this[_0x28eccc(0x6e8)][_0x28eccc(0x64c)]+_0x28eccc(0x2f4)),this[_0x28eccc(0x5a1)]['ev'][_0x28eccc(0x713)]()),this[_0x28eccc(0x62b)],this['instance'][_0x28eccc(0x64c)]=this['client']['user']['id']['replace'](/:\d+/,'')[_0x28eccc(0x783)](_0x28eccc(0x4f1),''),this[_0x28eccc(0x6e8)][_0x28eccc(0x4dc)]=(await this[_0x28eccc(0x2db)](this[_0x28eccc(0x6e8)][_0x28eccc(0x64c)]+'@s.whatsapp.net'))[_0x28eccc(0x4dc)],this['repository']['auth'][_0x28eccc(0x1d1)]({'online':!0x0,'owner':this[_0x28eccc(0x6e8)][_0x28eccc(0x64c)],'lastDisconnect':null},this[_0x28eccc(0x6e8)][_0x28eccc(0x8d9)]);let _0xa8e400=_0x28eccc(0x7bb)+this[_0x28eccc(0x6e8)]['wuid'],_0xc152a0=0x28,_0x33d997=Math[_0x28eccc(0x1c1)]((_0xc152a0-_0xa8e400[_0x28eccc(0x3d4)])/0x2),_0x59d62e='\x20'[_0x28eccc(0x58d)](_0x33d997),_0x21851c=_0x28eccc(0x85e),_0x1163d4=_0x28eccc(0x8f2)+this[_0x28eccc(0x6e8)]['name'],_0x39e50f=(''+_0x59d62e+_0xa8e400+_0x59d62e)[_0x28eccc(0x461)](_0xc152a0,'\x20'),_0x115745=(''+_0x59d62e+_0x21851c+_0x59d62e)[_0x28eccc(0x461)](_0xc152a0,'\x20'),_0x1c56be=(''+_0x59d62e+_0x1163d4+_0x59d62e)[_0x28eccc(0x461)](_0xc152a0,'\x20'),_0x5cb0cd=Math[_0x28eccc(0x1e1)](_0x39e50f[_0x28eccc(0x3d4)],_0x115745[_0x28eccc(0x3d4)],_0x1c56be[_0x28eccc(0x3d4)]),_0x495840=_0x39e50f[_0x28eccc(0x461)](_0x5cb0cd,'\x20'),_0x4d6dca=_0x115745[_0x28eccc(0x461)](_0x5cb0cd,'\x20'),_0x54ba83=_0x1c56be['padEnd'](_0x5cb0cd,'\x20');this[_0x28eccc(0x379)][_0x28eccc(0x6c6)]((_0x28eccc(0x69e)+'─'[_0x28eccc(0x58d)](_0x5cb0cd)+_0x28eccc(0x504)+_0x4d6dca+_0x28eccc(0x372)+_0x54ba83+_0x28eccc(0x372)+_0x495840+_0x28eccc(0x6bc)+'─'[_0x28eccc(0x58d)](_0x5cb0cd)+'┘')[_0x28eccc(0x783)](/^ +/gm,'\x20\x20')),this[_0x28eccc(0x418)](),this[_0x28eccc(0x6e8)][_0x28eccc(0x729)][_0x28eccc(0x6ca)]=!0x0;}}[a0_0x466431(0x62b)](){const _0x147cc9=a0_0x466431;this[_0x147cc9(0x523)]=0x0,this[_0x147cc9(0x452)]=[];}async[a0_0x466431(0x49a)](_0x119f8a,_0x5482a5=!0x1){const _0xac1c51=a0_0x466431;try{let _0x1f08a1=await this[_0xac1c51(0x7ae)][_0xac1c51(0x36a)][_0xac1c51(0x5a4)]({'where':{'_id':_0x119f8a['id']}},this[_0xac1c51(0x6e8)][_0xac1c51(0x64c)]);return _0x5482a5?_0x1f08a1[0x0]:_0x1f08a1[0x0]['message'];}catch{return{'conversation':''};}}[a0_0x466431(0x1d7)](){const _0x224a5b=a0_0x466431;let _0x2c4fe1=this[_0x224a5b(0x338)][_0x224a5b(0x438)](_0x224a5b(0x732)),_0x464318=this['configService'][_0x224a5b(0x438)](_0x224a5b(0x432));_0x2c4fe1?.['CLEANING_INTERVAL']&&!_0x464318[_0x224a5b(0x613)]&&setInterval(()=>{const _0x524a78=_0x224a5b;try{for(let [_0x49cf05,_0x14d3d1]of Object[_0x524a78(0x3b3)](_0x2c4fe1))_0x14d3d1===!0x0&&(0x0,Ue[_0x524a78(0x550)])('rm\x20-rf\x20'+(0x0,j[_0x524a78(0x473)])(this[_0x524a78(0x5ae)],_0x49cf05[_0x524a78(0x884)](),this[_0x524a78(0x6e8)][_0x524a78(0x64c)])+_0x524a78(0x431));}catch{}},(_0x2c4fe1?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x466431(0x8ca)](){const _0x166c2c=a0_0x466431;let _0x2adff3=this[_0x166c2c(0x338)][_0x166c2c(0x438)](_0x166c2c(0x432)),_0x5e32f7=this[_0x166c2c(0x338)][_0x166c2c(0x438)](_0x166c2c(0x6e3));return _0x5e32f7?.['ENABLED']?await Os(_0x5e32f7,this[_0x166c2c(0x6e8)][_0x166c2c(0x8d9)]):_0x2adff3[_0x166c2c(0x613)]?await _s(this[_0x166c2c(0x6e8)][_0x166c2c(0x8d9)]):await(0x0,w['useMultiFileAuthState'])((0x0,j[_0x166c2c(0x473)])(be,this[_0x166c2c(0x6e8)][_0x166c2c(0x8d9)]));}async[a0_0x466431(0x418)](){const _0x9b5022=a0_0x466431;let _0x5a7029=()=>Math['floor'](Math[_0x9b5022(0x8ce)]()*0x4e21)+0x7d0,_0x1025b6=async()=>{const _0x12f02a=_0x9b5022;if(!this[_0x12f02a(0x6e8)][_0x12f02a(0x729)][_0x12f02a(0x6ca)]){this['logger'][_0x12f02a(0x704)](this['instanceName']+'\x20('+this[_0x12f02a(0x6e8)][_0x12f02a(0x64c)]+'):Desconectado,\x20parando\x20execução.'),this['isRunning']=!0x1;return;}if(this[_0x12f02a(0x6e8)][_0x12f02a(0x64c)]&&this[_0x12f02a(0x782)]&&this[_0x12f02a(0x6e8)]['ScheduleMessage'][_0x12f02a(0x598)]!==null&&this[_0x12f02a(0x6e8)]['ScheduleMessage'][_0x12f02a(0x598)]!==void 0x0){let _0x42c5c8=Math[_0x12f02a(0x3c2)](this[_0x12f02a(0x6e8)]['ScheduleMessage'][_0x12f02a(0x598)]/0xea60);this[_0x12f02a(0x379)]['verbose'](this[_0x12f02a(0x88a)]+'\x20('+this[_0x12f02a(0x6e8)][_0x12f02a(0x64c)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x42c5c8+_0x12f02a(0x735)),this[_0x12f02a(0x3c3)]=!0x1;return;}else this[_0x12f02a(0x6e8)][_0x12f02a(0x64c)]&&(this[_0x12f02a(0x379)][_0x12f02a(0x704)](this[_0x12f02a(0x88a)]+'\x20('+this[_0x12f02a(0x6e8)]['wuid']+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x12f02a(0x782)]||(await this['getAutomateSystem'](),this[_0x12f02a(0x86d)](),this[_0x12f02a(0x7a1)]()),(this[_0x12f02a(0x6e8)][_0x12f02a(0x729)]['delayMessage']===null||this[_0x12f02a(0x6e8)]['ScheduleMessage']['delayMessage']===void 0x0)&&await this[_0x12f02a(0x1fe)]());if(this[_0x12f02a(0x3c3)]){let _0x12b5d8=_0x5a7029();this[_0x12f02a(0x379)]['verbose'](this[_0x12f02a(0x88a)]+_0x12f02a(0x449)+_0x12b5d8/0x3e8+_0x12f02a(0x59a)),setTimeout(_0x1025b6,_0x12b5d8);}};if(this[_0x9b5022(0x3c3)])return;this[_0x9b5022(0x3c3)]=!0x0;let _0x1c65db=_0x5a7029();setTimeout(_0x1025b6,_0x1c65db);}async[a0_0x466431(0x7a1)](){const _0x171912=a0_0x466431;let _0x4be64c=this[_0x171912(0x6e8)][_0x171912(0x64c)];try{let _0x5ae62a=await this[_0x171912(0x7ae)]['flow']['findAll']({'where':{'$or':[{'owner':_0x4be64c},{'whoCanUse':{'$in':[_0x4be64c]}},{'shareOwners':{'$in':[_0x4be64c]}}]}}),_0x33f670=new Map(this[_0x171912(0x782)][_0x171912(0x90c)]['map'](_0x1c9382=>[_0x1c9382[_0x171912(0x209)],_0x1c9382])),_0x58cb33=_0x5ae62a[_0x171912(0x1e8)](_0x123727=>{const _0x4195d0=_0x171912;let _0x43420b=_0x33f670['get'](_0x123727[_0x4195d0(0x209)]?.['toString']());return{'_id':_0x123727['_id']?.[_0x4195d0(0x1d0)](),'name':_0x43420b?.['name']??_0x123727[_0x4195d0(0x8d9)],'default':_0x43420b?.[_0x4195d0(0x525)]??_0x123727[_0x4195d0(0x525)]??!0x1,'startCommand':_0x43420b?.[_0x4195d0(0x3e9)]??_0x123727[_0x4195d0(0x7e1)],'minutesToClose':_0x43420b?.[_0x4195d0(0x7d9)]??_0x123727[_0x4195d0(0x7d9)]??0xa,'readMessages':_0x43420b?.[_0x4195d0(0x8a6)]??_0x123727[_0x4195d0(0x8a6)]??!0x1,'testingWith':_0x43420b?.['testingWith']??_0x123727[_0x4195d0(0x6a8)],'canEdit':_0x123727[_0x4195d0(0x3ea)]===_0x4be64c||(_0x123727['whoCanEdit']??[])['includes'](_0x4be64c),'usersCount':(_0x123727[_0x4195d0(0x52f)]??[])['length']??0x0};}),_0x4984bc=!0x1;_0x58cb33[_0x171912(0x4fe)](_0x3bbb9e=>{const _0x557ee8=_0x171912;_0x3bbb9e[_0x557ee8(0x525)]&&(_0x4984bc?_0x3bbb9e['default']=!0x1:_0x4984bc=!0x0);}),this[_0x171912(0x782)]['flows']=_0x58cb33;let _0x2809ed={'flows':_0x58cb33};return await this[_0x171912(0x7ae)][_0x171912(0x8b6)][_0x171912(0x42a)](_0x2809ed,_0x4be64c),this[_0x171912(0x379)][_0x171912(0x704)](this[_0x171912(0x88a)]+'\x20('+_0x4be64c+'):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.'),_0x58cb33[_0x171912(0x3d4)];}catch(_0x562ef3){return this['logger']['error'](this[_0x171912(0x88a)]+'\x20('+_0x4be64c+_0x171912(0x806)+(_0x562ef3 instanceof Error?_0x562ef3[_0x171912(0x36a)]:JSON[_0x171912(0x66f)](_0x562ef3,null,0x2))),{'message':_0x171912(0x66b)+(_0x562ef3 instanceof Error?_0x562ef3[_0x171912(0x36a)]:JSON[_0x171912(0x66f)](_0x562ef3,null,0x2))};}}async['connectToWhatsapp'](_0x5c93fb){const _0x2d6a8b=a0_0x466431;try{let _0x1ea00d=await this[_0x2d6a8b(0x7ae)][_0x2d6a8b(0x6e8)]['findOne']({'where':{'_id':he+'-'+this[_0x2d6a8b(0x88a)]}}),_0x41d6e0,_0x54aa6c=!Le['ipv6Prefix']||!Le[_0x2d6a8b(0x1cb)];console[_0x2d6a8b(0x913)](_0x2d6a8b(0x573)),console['log'](_0x2d6a8b(0x5a3),Ai),console[_0x2d6a8b(0x913)](_0x2d6a8b(0x788),this[_0x2d6a8b(0x523)]),console[_0x2d6a8b(0x913)](_0x2d6a8b(0x573)),Ai&&!_0x54aa6c&&(this[_0x2d6a8b(0x523)]<0x4||!this[_0x2d6a8b(0x523)]?_0x1ea00d&&_0x1ea00d['ip']?(_0x41d6e0=_0x1ea00d['ip'],console['log']('Usando\x20IP\x20existente:\x20'+_0x41d6e0)):(_0x41d6e0=await Le[_0x2d6a8b(0x56c)](he,this['instance'][_0x2d6a8b(0x8d9)]),_0x41d6e0?(console[_0x2d6a8b(0x913)](_0x2d6a8b(0x289)+_0x41d6e0),await(0x0,w['delay'])(0x7d0)):console['error']('Falha\x20ao\x20criar\x20IPv6.')):this['reconnectAttempts']<0x6&&(console[_0x2d6a8b(0x913)](_0x2d6a8b(0x2ba)),_0x41d6e0=await Le[_0x2d6a8b(0x56c)](he,this[_0x2d6a8b(0x6e8)][_0x2d6a8b(0x8d9)]),_0x41d6e0?(console[_0x2d6a8b(0x913)](_0x2d6a8b(0x289)+_0x41d6e0),await(0x0,w['delay'])(0x7d0)):console[_0x2d6a8b(0x8d2)]('Falha\x20ao\x20recriar\x20IPv6.'))),this['loadWebhook'](),this['instance'][_0x2d6a8b(0x3a8)]=(await this[_0x2d6a8b(0x7ae)][_0x2d6a8b(0x3f0)]['find'](this[_0x2d6a8b(0x6e8)][_0x2d6a8b(0x8d9)]))['apikey'],this[_0x2d6a8b(0x6e8)][_0x2d6a8b(0x429)]=await this[_0x2d6a8b(0x8ca)]();let _0xfa4b20=[xi,Us,(0x0,ks[_0x2d6a8b(0x6b2)])()],_0x213402={'localAddress':_0x41d6e0,'auth':{'creds':this['instance'][_0x2d6a8b(0x429)][_0x2d6a8b(0x510)][_0x2d6a8b(0x60e)],'keys':(0x0,w[_0x2d6a8b(0x3cf)])(this[_0x2d6a8b(0x6e8)][_0x2d6a8b(0x429)][_0x2d6a8b(0x510)][_0x2d6a8b(0x7c4)],(0x0,Ft[_0x2d6a8b(0x525)])({'level':'error'}))},'logger':(0x0,Ft[_0x2d6a8b(0x525)])({'level':_0x2d6a8b(0x8d2)}),'printQRInTerminal':!0x1,'browser':_0x5c93fb?['Mac\x20OS',Us,(0x0,ks['release'])()]:_0xfa4b20,'version':[0x2,0xbb8,0x3c8d6c7b],'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x18fed0=>{const _0x14b3f1=_0x2d6a8b;let _0xcff084=this['localWebhook']?.['groups_ignore']&&(0x0,w['isJidGroup'])(_0x18fed0);return(0x0,w[_0x14b3f1(0x18f)])(_0x18fed0)||_0xcff084;},'msgRetryCounterCache':this[_0x2d6a8b(0x423)],'getMessage':async _0xb1dcf8=>await this[_0x2d6a8b(0x49a)](_0xb1dcf8),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x2d6a8b(0x26f)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x56116d){const _0x106c71=_0x2d6a8b;return _0x56116d[_0x106c71(0x21f)]?.[_0x106c71(0x36a)]?.[_0x106c71(0x84a)]?.['listType']===w['proto'][_0x106c71(0x37c)][_0x106c71(0x63d)][_0x106c71(0x8b4)][_0x106c71(0x4e2)]&&(_0x56116d=JSON[_0x106c71(0x46d)](JSON[_0x106c71(0x66f)](_0x56116d)),_0x56116d[_0x106c71(0x21f)][_0x106c71(0x36a)][_0x106c71(0x84a)][_0x106c71(0x19a)]=w[_0x106c71(0x8d0)][_0x106c71(0x37c)][_0x106c71(0x63d)]['ListType'][_0x106c71(0x1ae)]),_0x56116d[_0x106c71(0x84a)]?.[_0x106c71(0x19a)]==w[_0x106c71(0x8d0)][_0x106c71(0x37c)][_0x106c71(0x63d)][_0x106c71(0x8b4)][_0x106c71(0x4e2)]&&(_0x56116d=JSON[_0x106c71(0x46d)](JSON[_0x106c71(0x66f)](_0x56116d)),_0x56116d['listMessage'][_0x106c71(0x19a)]=w['proto'][_0x106c71(0x37c)][_0x106c71(0x63d)][_0x106c71(0x8b4)][_0x106c71(0x1ae)]),_0x56116d;}};return this[_0x2d6a8b(0x20c)]=!0x1,this[_0x2d6a8b(0x5a1)]=(0x0,w[_0x2d6a8b(0x525)])(_0x213402),this[_0x2d6a8b(0x7b7)](),this[_0x2d6a8b(0x828)]=_0x5c93fb,this[_0x2d6a8b(0x5a1)];}catch(_0x389ead){let _0x2d257d=_0x2d6a8b(0x902),_0x2dbba8=_0x389ead instanceof Error?_0x389ead[_0x2d6a8b(0x36a)]:typeof _0x389ead==_0x2d6a8b(0x3f1)?JSON[_0x2d6a8b(0x66f)](_0x389ead):_0x389ead,_0x5f333b=_0x2d257d+':\x20'+_0x2dbba8;throw this[_0x2d6a8b(0x379)]['error'](this[_0x2d6a8b(0x88a)]+'\x20('+this[_0x2d6a8b(0x6e8)]['wuid']+'):\x20'+_0x5f333b),console[_0x2d6a8b(0x8d2)](_0x2d6a8b(0x6a5),_0x389ead),_0x389ead instanceof Error&&console['error'](_0x2d6a8b(0x2d3),_0x389ead[_0x2d6a8b(0x830)]),new x(_0x5f333b);}}[a0_0x466431(0x7b7)](){const _0x5c7113=a0_0x466431;this[_0x5c7113(0x5a1)]['ev']['process'](_0x3cd2f6=>{const _0x4acfd3=_0x5c7113;if(!this[_0x4acfd3(0x20c)]){let _0xaa8179=this[_0x4acfd3(0x338)]['get'](_0x4acfd3(0x432));if(_0x3cd2f6[_0x4acfd3(0x3d1)]){let _0x385406=_0x3cd2f6['labels.edit'];this[_0x4acfd3(0x30f)][_0x4acfd3(0x3d1)](_0x385406);}if(_0x3cd2f6['labels.association']){let _0x543376=_0x3cd2f6['labels.association'];this['messageHandle']['labels.association'](_0x543376);}if(_0x3cd2f6[_0x4acfd3(0x1ee)]&&this[_0x4acfd3(0x8cc)](_0x3cd2f6[_0x4acfd3(0x1ee)]),_0x3cd2f6[_0x4acfd3(0x8a5)]&&this[_0x4acfd3(0x6e8)][_0x4acfd3(0x429)][_0x4acfd3(0x216)](),_0x3cd2f6['messaging-history.set']){let _0x2c41e4=_0x3cd2f6[_0x4acfd3(0x5ca)];this[_0x4acfd3(0x30f)][_0x4acfd3(0x5ca)](_0x2c41e4,_0xaa8179);}if(_0x3cd2f6[_0x4acfd3(0x8d4)]){let _0x1130cd=_0x3cd2f6[_0x4acfd3(0x8d4)];this[_0x4acfd3(0x30f)][_0x4acfd3(0x8d4)](_0x1130cd,_0xaa8179);}if(_0x3cd2f6[_0x4acfd3(0x746)]){let _0x53118d=_0x3cd2f6[_0x4acfd3(0x746)];this[_0x4acfd3(0x30f)][_0x4acfd3(0x746)](_0x53118d,_0xaa8179);}if(_0x3cd2f6[_0x4acfd3(0x4d1)]){let _0xb6632e=_0x3cd2f6['presence.update'];if(this[_0x4acfd3(0x638)]?.[_0x4acfd3(0x530)]&&_0xb6632e['id']['includes'](_0x4acfd3(0x611)))return;this[_0x4acfd3(0x57b)](_0x4acfd3(0x4d1),_0xb6632e);}if(_0x3cd2f6['groups.upsert']){let _0x65922f=_0x3cd2f6[_0x4acfd3(0x4a9)];this[_0x4acfd3(0x324)][_0x4acfd3(0x4a9)](_0x65922f);}if(_0x3cd2f6['groups.update']){let _0x18175b=_0x3cd2f6[_0x4acfd3(0x2eb)];this[_0x4acfd3(0x324)][_0x4acfd3(0x2eb)](_0x18175b);}if(_0x3cd2f6[_0x4acfd3(0x501)]){let _0x1250b9=_0x3cd2f6[_0x4acfd3(0x501)];this[_0x4acfd3(0x324)][_0x4acfd3(0x501)](_0x1250b9);}if(_0x3cd2f6[_0x4acfd3(0x50b)]){let _0x1b8605=_0x3cd2f6[_0x4acfd3(0x50b)];this['chatHandle'][_0x4acfd3(0x50b)](_0x1b8605,_0xaa8179);}if(_0x3cd2f6['chats.update']){let _0x24fd57=_0x3cd2f6['chats.update'];this[_0x4acfd3(0x57c)]['chats.update'](_0x24fd57,_0xaa8179);}if(_0x3cd2f6[_0x4acfd3(0x44e)]){let _0x3e83c2=_0x3cd2f6[_0x4acfd3(0x44e)];this[_0x4acfd3(0x57c)][_0x4acfd3(0x44e)](_0x3e83c2);}if(_0x3cd2f6['contacts.upsert']){let _0x23f98a=_0x3cd2f6[_0x4acfd3(0x65c)];this[_0x4acfd3(0x2b6)][_0x4acfd3(0x65c)](_0x23f98a,_0xaa8179);}if(_0x3cd2f6[_0x4acfd3(0x6e6)]){let _0x202465=_0x3cd2f6[_0x4acfd3(0x6e6)];this['contactHandle'][_0x4acfd3(0x6e6)](_0x202465,_0xaa8179);}}});}async[a0_0x466431(0x40f)](_0x3499fc,_0x3d5381){const _0x3366a1=a0_0x466431;if(_0x3d5381>=0xa){console[_0x3366a1(0x8d2)](this[_0x3366a1(0x88a)]+'\x20('+this[_0x3366a1(0x6e8)][_0x3366a1(0x64c)]+_0x3366a1(0x661)),delete Lt[_0x3499fc['key']['id']];return;}try{console[_0x3366a1(0x8d2)](this['instanceName']+'\x20('+this[_0x3366a1(0x6e8)][_0x3366a1(0x64c)]+_0x3366a1(0x7f9)+(_0x3d5381+0x1)),await this['client'][_0x3366a1(0x391)](JSON[_0x3366a1(0x46d)](_0x3499fc[_0x3366a1(0x7dd)][0x1],w['BufferJSON'][_0x3366a1(0x2e3)])),console[_0x3366a1(0x8d2)](_0x3366a1(0x911));}catch(_0x12cbfc){console['error'](this[_0x3366a1(0x88a)]+'\x20('+this[_0x3366a1(0x6e8)][_0x3366a1(0x64c)]+_0x3366a1(0x889)+_0x12cbfc),setTimeout(()=>this[_0x3366a1(0x40f)](_0x3499fc,_0x3d5381+0x1),Math['pow'](0x2,_0x3d5381)*0x3e8);}}async[a0_0x466431(0x7dc)](_0x5a287b){const _0x28c793=a0_0x466431;let _0x3968be=_0x5a287b[_0x28c793(0x714)][_0x28c793(0x84e)][_0x28c793(0x888)](_0x28c793(0x611)),_0x332859;if(_0x5a287b['key'][_0x28c793(0x70f)])_0x332859=this[_0x28c793(0x6e8)][_0x28c793(0x4dc)];else{let _0x32848e=_0x3968be?_0x5a287b[_0x28c793(0x714)]['participant']:_0x5a287b[_0x28c793(0x714)][_0x28c793(0x84e)];_0x332859=(await this[_0x28c793(0x621)](_0x32848e,_0x5a287b[_0x28c793(0x2f5)],!0x1))['cachedContact'][_0x28c793(0x270)];}_0x5a287b[_0x28c793(0x48a)]&&_0x5a287b[_0x28c793(0x48a)][_0x28c793(0x1d0)]()[_0x28c793(0x3d4)]<0xd&&(_0x5a287b[_0x28c793(0x48a)]=_0x5a287b[_0x28c793(0x48a)]*0x3e8);let _0x5c0486={'_id':_0x5a287b[_0x28c793(0x714)]['id'],'key':_0x5a287b[_0x28c793(0x714)],'isGroup':_0x3968be,'profilePictureUrl':_0x332859,'pushName':_0x5a287b[_0x28c793(0x2f5)],'message':{'text':_0x28c793(0x76d)},'messageType':_0x28c793(0x8d2),'message_normalized':{'key':_0x5a287b['key'],'pushName':_0x5a287b[_0x28c793(0x2f5)],'messageTimestamp':_0x5a287b[_0x28c793(0x48a)],'source':(0x0,w[_0x28c793(0x2e2)])(_0x5a287b[_0x28c793(0x714)]['id']),'text':_0x28c793(0x76d)},'messageTimestamp':_0x5a287b[_0x28c793(0x48a)],'owner':this[_0x28c793(0x6e8)][_0x28c793(0x64c)],'source':(0x0,w[_0x28c793(0x2e2)])(_0x5a287b[_0x28c793(0x714)]['id'])};this[_0x28c793(0x379)]['error'](this[_0x28c793(0x88a)]+'\x20('+this['instance']['wuid']+_0x28c793(0x280)+(_0x5c0486[_0x28c793(0x714)]?.[_0x28c793(0x70f)]?'enviado\x20para':'recebido\x20de')+'\x20['+_0x5c0486['key']?.[_0x28c793(0x84e)][_0x28c793(0x783)]('@s.whatsapp.net','')+_0x28c793(0x416)+_0x5c0486[_0x28c793(0x464)]+')'),_0x5c0486[_0x28c793(0x5b1)]?.['text']&&this[_0x28c793(0x379)][_0x28c793(0x8d2)](_0x5a287b[_0x28c793(0x714)]['id']+':\x20'+_0x5c0486[_0x28c793(0x5b1)]?.[_0x28c793(0x6d0)]),await this[_0x28c793(0x7ae)][_0x28c793(0x36a)][_0x28c793(0x23c)]([_0x5c0486],this[_0x28c793(0x6e8)]['wuid']),await this[_0x28c793(0x7ae)][_0x28c793(0x1ef)][_0x28c793(0x23c)]([_0x5c0486]),this['sendDataWebhook'](_0x28c793(0x8d4),_0x5c0486),F(this[_0x28c793(0x88a)],_0x28c793(0x663),{'message':_0x5c0486});}[a0_0x466431(0x278)](_0x127f4a){return new Promise(_0x50e370=>setTimeout(_0x50e370,_0x127f4a));}['formatBRNumber'](_0x1a97d2){const _0x5a9531=a0_0x466431;_0x1a97d2=_0x1a97d2[_0x5a9531(0x783)](/\D/g,'');let _0x2ae4ab=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5a9531(0x813)](_0x1a97d2);if(_0x2ae4ab&&_0x2ae4ab[0x1]==='55'){let _0x7ef57b=_0x2ae4ab[0x2],_0x22d0c0=_0x2ae4ab[0x3],_0x4990e2=_0x2ae4ab[0x4];if(parseInt(_0x7ef57b)>=0x1f&&_0x22d0c0==='9')return _0x2ae4ab[0x1]+_0x7ef57b+_0x4990e2;}return _0x1a97d2;}[a0_0x466431(0x866)](_0x55f2f0){const _0x5bce44=a0_0x466431;return _0x55f2f0[_0x5bce44(0x6f2)](_0x5bce44(0x611))||_0x55f2f0[_0x5bce44(0x6f2)]('@s.whatsapp.net')||_0x55f2f0[_0x5bce44(0x6f2)](_0x5bce44(0x2a1))?_0x55f2f0:(_0x55f2f0=_0x55f2f0?.[_0x5bce44(0x783)](/\s/g,'')[_0x5bce44(0x783)](/\+/g,'')[_0x5bce44(0x783)](/\(/g,'')['replace'](/\)/g,'')[_0x5bce44(0x38b)](/\:/)[0x0][_0x5bce44(0x38b)]('@')[0x0],_0x55f2f0[_0x5bce44(0x3d4)]>=0x12?(_0x55f2f0=_0x55f2f0[_0x5bce44(0x783)](/[^\d-]/g,''),_0x55f2f0+_0x5bce44(0x611)):(_0x55f2f0=_0x55f2f0[_0x5bce44(0x783)](/\D/g,''),_0x55f2f0+_0x5bce44(0x4f1)));}async[a0_0x466431(0x4b0)](_0x5cc3f9){const _0x2c999f=a0_0x466431;let _0x52d12f=(await this[_0x2c999f(0x52b)]({'numbers':[_0x5cc3f9[_0x2c999f(0x5be)]]}))[0x0];if(!_0x52d12f[_0x2c999f(0x7b4)]&&!(0x0,w['isJidGroup'])(_0x52d12f[_0x2c999f(0x6dc)])&&!_0x52d12f[_0x2c999f(0x6dc)][_0x2c999f(0x6f2)](_0x2c999f(0x2a1)))throw new m(_0x52d12f);let _0x108b55=_0x52d12f['jid'];try{return await this['client'][_0x2c999f(0x3c6)](_0x108b55),await this[_0x2c999f(0x5a1)]['sendPresenceUpdate'](_0x5cc3f9[_0x2c999f(0x79a)],_0x108b55),{'status':0xc8,'presence':_0x5cc3f9[_0x2c999f(0x79a)]};}catch(_0x347296){let _0x32a2df=_0x2c999f(0x795),_0x4da27a=_0x347296 instanceof Error?_0x347296[_0x2c999f(0x36a)]:typeof _0x347296==_0x2c999f(0x3f1)?JSON[_0x2c999f(0x66f)](_0x347296):_0x347296,_0x3b3300=_0x32a2df+':\x20'+_0x4da27a;throw this[_0x2c999f(0x379)][_0x2c999f(0x8d2)](this[_0x2c999f(0x88a)]+'\x20('+this[_0x2c999f(0x6e8)]['wuid']+_0x2c999f(0x280)+_0x3b3300),new m(_0x3b3300);}}async['findAndUpdateCacheContact'](_0x521c27,_0x4162ba,_0x1f9a18,_0xabf45c=!0x0){const _0x43e0de=a0_0x466431;let _0x2dbfb1=await this['repository'][_0x43e0de(0x286)][_0x43e0de(0x2c9)]({'where':{'_id':_0x521c27}});if(!_0x2dbfb1&&!_0xabf45c)return;let _0x32b8d6={'lastUpdate':Date[_0x43e0de(0x283)]()};if(_0x1f9a18||!_0x2dbfb1?.['lastUpdate']||Date[_0x43e0de(0x283)]()-_0x2dbfb1[_0x43e0de(0x1e5)]>0x18*0x3c*0x3c*0x3e8)try{let _0x5b2fda=(await this[_0x43e0de(0x2db)](_0x521c27))[_0x43e0de(0x4dc)];_0x32b8d6['pictureUrl']=_0x5b2fda;}catch(_0x3e94d9){let _0x59ebf2=_0x43e0de(0x564),_0x3fe89e=_0x3e94d9 instanceof Error?_0x3e94d9[_0x43e0de(0x36a)]:typeof _0x3e94d9==_0x43e0de(0x3f1)?JSON['stringify'](_0x3e94d9):_0x3e94d9,_0x200bcf=_0x59ebf2+':\x20'+_0x3fe89e;throw this[_0x43e0de(0x379)][_0x43e0de(0x8d2)](this[_0x43e0de(0x88a)]+'\x20('+this[_0x43e0de(0x6e8)][_0x43e0de(0x64c)]+_0x43e0de(0x280)+_0x200bcf),new m(_0x200bcf);}return _0x4162ba&&_0x2dbfb1?.[_0x43e0de(0x8d9)]!==_0x4162ba&&(_0x32b8d6[_0x43e0de(0x8d9)]=_0x4162ba),Object[_0x43e0de(0x7c4)](_0x32b8d6)[_0x43e0de(0x3d4)]>0x1&&(_0x2dbfb1?await this[_0x43e0de(0x7ae)][_0x43e0de(0x286)][_0x43e0de(0x42a)]({'where':{'_id':_0x521c27}},_0x32b8d6):await this[_0x43e0de(0x7ae)][_0x43e0de(0x286)][_0x43e0de(0x23c)]([{'_id':_0x521c27,..._0x32b8d6}]),_0x2dbfb1={..._0x2dbfb1,..._0x32b8d6}),{'cachedContact':_0x2dbfb1};}async[a0_0x466431(0x2db)](_0xfdcc3a){const _0x4283b0=a0_0x466431;let _0x4c871d=this[_0x4283b0(0x866)](_0xfdcc3a);try{return{'wuid':_0x4c871d,'profilePictureUrl':await this[_0x4283b0(0x5a1)][_0x4283b0(0x4dc)](_0x4c871d,'image')};}catch{return{'wuid':_0x4c871d,'profilePictureUrl':null};}}async['sendMessageWithRetry'](_0x2c64f1,_0x5436a2,_0x203586){const _0x453b33=a0_0x466431;let _0x56e233=0x0;for(;_0x56e233<0x5;)try{return await this['sendMessageWithTyping'](_0x2c64f1,_0x5436a2,_0x203586);}catch(_0x487ffe){if(_0x56e233++,_0x487ffe instanceof Error&&_0x487ffe[_0x453b33(0x36a)]===_0x453b33(0x91e)){if(_0x56e233>=0x5)throw new m('Falha\x20após\x205\x20tentativas:\x20'+_0x487ffe['message']);this['logger'][_0x453b33(0x2e7)](_0x453b33(0x1c8)+_0x56e233+_0x453b33(0x42f)+_0x487ffe[_0x453b33(0x36a)]+_0x453b33(0x63a)+0x1388/0x3e8+_0x453b33(0x7df)),await new Promise(_0x231696=>setTimeout(_0x231696,0x1388));}else throw new m(_0x487ffe[_0x453b33(0x36a)]);}}async[a0_0x466431(0x332)](_0x4640f9,_0x2127a0,_0x410d31){const _0x50a994=a0_0x466431;let _0x2ee861;try{let _0x572f0a=(await this['whatsappNumber']({'numbers':[_0x4640f9]}))?.['shift']();if(!_0x572f0a[_0x50a994(0x7b4)]&&!(0x0,w[_0x50a994(0x69f)])(_0x572f0a['jid'])&&!_0x572f0a[_0x50a994(0x6dc)][_0x50a994(0x6f2)]('@broadcast'))throw new m(_0x572f0a);_0x2ee861=_0x572f0a[_0x50a994(0x6dc)];}catch(_0x12cc8b){_0x2ee861=_0x4640f9,this[_0x50a994(0x379)]['warn'](this['instanceName']+'\x20('+this[_0x50a994(0x6e8)][_0x50a994(0x64c)]+_0x50a994(0x243)+_0x12cc8b[_0x50a994(0x36a)]),this[_0x50a994(0x379)][_0x50a994(0x2e7)](this[_0x50a994(0x88a)]+'\x20('+this[_0x50a994(0x6e8)][_0x50a994(0x64c)]+'):\x20sender\x20=\x20number:\x20'+_0x2ee861);}try{if(_0x2ee861||(_0x2ee861=_0x4640f9,this[_0x50a994(0x379)][_0x50a994(0x2e7)](this[_0x50a994(0x88a)]+'\x20('+this[_0x50a994(0x6e8)][_0x50a994(0x64c)]+_0x50a994(0x439)+_0x2ee861)),_0x410d31||(_0x410d31={}),_0x410d31?.[_0x50a994(0x8c9)]){await this[_0x50a994(0x5a1)][_0x50a994(0x3c6)](_0x2ee861),await this[_0x50a994(0x5a1)]['sendPresenceUpdate'](_0x410d31?.[_0x50a994(0x79a)]??'composing',_0x2ee861);let _0x5228f6=Math['min'](_0x410d31[_0x50a994(0x8c9)],0x2710);await(0x0,w['delay'])(_0x5228f6),await this[_0x50a994(0x5a1)][_0x50a994(0x465)]('paused',_0x2ee861);}let _0x2f4a47=_0x410d31?.[_0x50a994(0x3c4)]!=!0x1?void 0x0:!0x1,_0x5c7aa3;if(_0x410d31?.[_0x50a994(0x358)]){let _0x530a86=_0x410d31?.[_0x50a994(0x358)],_0x57868c=_0x530a86?.['message']?_0x530a86:await this[_0x50a994(0x49a)](_0x530a86[_0x50a994(0x714)],!0x0);_0x57868c&&(_0x5c7aa3=_0x57868c);}let _0x4ef394=await this['repository'][_0x50a994(0x66d)]['findOne']({'where':{'_id':_0x2ee861}},this[_0x50a994(0x6e8)][_0x50a994(0x64c)]),_0x3b1864,_0x1ff356=null;if((0x0,w[_0x50a994(0x69f)])(_0x2ee861))try{if(_0x1ff356=_0x4ef394[_0x50a994(0x371)],!_0x1ff356)throw new U(_0x50a994(0x53b));if(!_0x1ff356[_0x50a994(0x71b)])throw new m(_0x50a994(0x574));_0x410d31?.[_0x50a994(0x3c8)]&&(_0x410d31[_0x50a994(0x3c8)]?.[_0x50a994(0x77f)]?_0x3b1864=_0x1ff356[_0x50a994(0x765)]['map'](_0x1d449a=>_0x1d449a['id']):_0x410d31['mentions']?.[_0x50a994(0x8a3)]?.['length']&&(_0x3b1864=_0x410d31['mentions']['mentioned'][_0x50a994(0x1e8)](_0x1ddb0a=>{const _0x145486=_0x50a994;let _0x5173e7=this[_0x145486(0x866)](_0x1ddb0a);return(0x0,w['isJidGroup'])(_0x5173e7)?null:_0x5173e7;})));}catch(_0x5b497c){throw _0x5b497c instanceof U?new U(_0x50a994(0x53b)):_0x5b497c instanceof m?new m(_0x50a994(0x574)):new Error('Erro\x20desconhecido\x20ao\x20tentar\x20enviar\x20mensagem\x20para\x20o\x20grupo');}let _0x310ccb=await((async()=>{const _0x8a21e0=_0x50a994;let _0x5e8dce={'quoted':_0x5c7aa3,'ephemeralExpiration':_0x4ef394?.[_0x8a21e0(0x37a)]??0x0};if(!_0x2127a0[_0x8a21e0(0x4e3)]&&!_0x2127a0[_0x8a21e0(0x862)]&&!_0x2127a0[_0x8a21e0(0x1cf)]&&!_0x2127a0['conversation']&&_0x2ee861!=='status@broadcast'&&_0x2127a0[_0x8a21e0(0x62e)])return await this[_0x8a21e0(0x5a1)]['sendMessage'](_0x2ee861,{'react':{'text':_0x2127a0[_0x8a21e0(0x62e)][_0x8a21e0(0x6d0)],'key':_0x2127a0[_0x8a21e0(0x62e)]['key']}},_0x5e8dce);if(_0x2127a0['conversation']){let _0x2948ff=_0x2127a0[_0x8a21e0(0x6c9)];return _0x410d31?.['changeVariables']&&(_0x2948ff=await this['replaceVariablesChat'](_0x2948ff,_0x2ee861)),await this['client'][_0x8a21e0(0x400)](_0x2ee861,{'text':_0x2948ff,'mentions':_0x3b1864,'linkPreview':_0x2f4a47},_0x5e8dce);}return!_0x2127a0['audio']&&!_0x2127a0[_0x8a21e0(0x862)]&&_0x2ee861!=_0x8a21e0(0x74b)?await this[_0x8a21e0(0x5a1)][_0x8a21e0(0x400)](_0x2ee861,{'forward':{'key':{'remoteJid':this[_0x8a21e0(0x6e8)][_0x8a21e0(0x64c)],'fromMe':!0x0},'message':_0x2127a0},'mentions':_0x3b1864},_0x5e8dce):_0x2ee861===_0x8a21e0(0x74b)?await this[_0x8a21e0(0x5a1)]['sendMessage'](_0x2ee861,_0x2127a0['status'][_0x8a21e0(0x475)],{'backgroundColor':_0x2127a0[_0x8a21e0(0x309)][_0x8a21e0(0x392)][_0x8a21e0(0x8f7)],'font':_0x2127a0[_0x8a21e0(0x309)][_0x8a21e0(0x392)][_0x8a21e0(0x4f6)],'statusJidList':_0x2127a0[_0x8a21e0(0x309)][_0x8a21e0(0x392)][_0x8a21e0(0x650)]}):await this[_0x8a21e0(0x5a1)][_0x8a21e0(0x400)](_0x2ee861,_0x2127a0,_0x5e8dce);})()),_0xda1b2d=(0x0,w[_0x50a994(0x2d7)])(_0x310ccb[_0x50a994(0x36a)]),_0x12744c=(0x0,w[_0x50a994(0x51a)])(_0xda1b2d),{message_normalized:_0x594b51}=this[_0x50a994(0x80e)](_0xda1b2d,_0x12744c,null),_0x2adf73={'_id':_0x310ccb[_0x50a994(0x714)]['id'],'key':_0x310ccb[_0x50a994(0x714)],'pushName':_0x310ccb[_0x50a994(0x2f5)],'isGroup':_0x310ccb[_0x50a994(0x714)]['remoteJid'][_0x50a994(0x888)](_0x50a994(0x611)),'profilePictureUrl':this[_0x50a994(0x6e8)]['profilePictureUrl'],'message':_0xda1b2d,'messageType':_0x12744c,'message_normalized':{'key':_0x310ccb[_0x50a994(0x714)],'pushName':_0x310ccb[_0x50a994(0x2f5)],'messageTimestamp':_0x310ccb[_0x50a994(0x48a)]&&_0x310ccb[_0x50a994(0x48a)][_0x50a994(0x1d0)]()[_0x50a994(0x3d4)]<0xd?_0x310ccb[_0x50a994(0x48a)]*0x3e8:_0x310ccb[_0x50a994(0x48a)]||null,'source':(0x0,w[_0x50a994(0x2e2)])(_0x310ccb['key']['id']),..._0x594b51},'messageTimestamp':_0x310ccb['messageTimestamp']&&_0x310ccb[_0x50a994(0x48a)][_0x50a994(0x1d0)]()[_0x50a994(0x3d4)]<0xd?_0x310ccb[_0x50a994(0x48a)]*0x3e8:_0x310ccb['messageTimestamp']||null,'owner':this[_0x50a994(0x6e8)][_0x50a994(0x64c)],'source':(0x0,w[_0x50a994(0x2e2)])(_0x310ccb[_0x50a994(0x714)]['id'])};return this[_0x50a994(0x379)][_0x50a994(0x2e7)](this[_0x50a994(0x88a)]+'\x20('+this[_0x50a994(0x6e8)][_0x50a994(0x64c)]+'):\x20enviado\x20para\x20['+_0x2adf73[_0x50a994(0x714)]?.[_0x50a994(0x84e)][_0x50a994(0x783)](_0x50a994(0x4f1),'')+_0x50a994(0x416)+_0x2adf73[_0x50a994(0x464)]+')'),_0x2adf73['message_normalized']?.[_0x50a994(0x6d0)]&&this['logger'][_0x50a994(0x2e7)](_0x2adf73[_0x50a994(0x5b1)]?.[_0x50a994(0x6d0)]),this['sendDataWebhook']('send.message',_0x2adf73),F(this['instanceName'],_0x50a994(0x663),{'message':_0x2adf73}),this['updateChatWithMessage'](this[_0x50a994(0x338)][_0x50a994(0x438)](_0x50a994(0x432)),_0x2adf73,_0x50a994(0x487),_0x4ef394),await this[_0x50a994(0x7ae)][_0x50a994(0x36a)]['insert']([_0x2adf73],this[_0x50a994(0x6e8)][_0x50a994(0x64c)]),_0x310ccb;}catch(_0x5ab7fd){let _0x4e1258=_0x50a994(0x512)+_0x2ee861,_0x465158=_0x5ab7fd instanceof Error?_0x5ab7fd[_0x50a994(0x36a)]:typeof _0x5ab7fd==_0x50a994(0x3f1)?JSON[_0x50a994(0x66f)](_0x5ab7fd):_0x5ab7fd,_0x1a2d00=_0x4e1258+':\x20'+_0x465158;throw this[_0x50a994(0x379)][_0x50a994(0x8d2)](this[_0x50a994(0x88a)]+'\x20('+this['instance'][_0x50a994(0x64c)]+_0x50a994(0x280)+_0x1a2d00),new m(_0x1a2d00);}}async['sendMessageWithTypingButtons'](_0xb82d3a,_0x2ad25d,_0x16983a){const _0x1d4c8c=a0_0x466431;let _0x13005d=this[_0x1d4c8c(0x866)](_0xb82d3a),_0x17d174=(await this[_0x1d4c8c(0x52b)]({'numbers':[_0x13005d]}))[0x0];if(!_0x17d174[_0x1d4c8c(0x7b4)]&&!(0x0,w[_0x1d4c8c(0x69f)])(_0x17d174['jid']))throw new m(_0x17d174);let _0x1afd41=(0x0,w[_0x1d4c8c(0x69f)])(_0x13005d)?_0x13005d:_0x17d174[_0x1d4c8c(0x6dc)];if((0x0,w[_0x1d4c8c(0x69f)])(_0x1afd41))try{await this[_0x1d4c8c(0x5a1)]['groupMetadata'](_0x1afd41);}catch{throw new m(_0x1d4c8c(0x2c2));}try{_0x16983a?.['delay']&&(await this['client'][_0x1d4c8c(0x3c6)](_0x1afd41),await this[_0x1d4c8c(0x5a1)][_0x1d4c8c(0x465)](_0x16983a?.['presence']??_0x1d4c8c(0x802),_0x13005d),await(0x0,w[_0x1d4c8c(0x8c9)])(_0x16983a['delay']),await this[_0x1d4c8c(0x5a1)][_0x1d4c8c(0x465)](_0x1d4c8c(0x871),_0x1afd41));let _0x2e3d64=await((async()=>{const _0x24a007=_0x1d4c8c;let _0x5d0046,_0x2e331e=_0x24a007(0x833)+(0x0,oe[_0x24a007(0x8c6)])(0x12)[_0x24a007(0x1d0)](_0x24a007(0x214))[_0x24a007(0x520)](),_0x257f9f=(0x0,w[_0x24a007(0x6af)])(_0x1afd41,_0x2ad25d,{'timestamp':new Date(),'userJid':this[_0x24a007(0x6e8)]['wuid'],'messageId':_0x2e331e,'quoted':_0x5d0046}),_0x44ff5d=await this[_0x24a007(0x5a1)]['relayMessage'](_0x1afd41,_0x257f9f['message'],{'messageId':_0x2e331e});_0x257f9f[_0x24a007(0x714)]={'id':_0x44ff5d,'remoteJid':_0x13005d,'participant':(0x0,w['isJidUser'])(_0x13005d)?void 0x0:_0x13005d,'fromMe':!0x0};for(let [_0x466398,_0x470d81]of Object['entries'](_0x257f9f))(!_0x470d81||Array[_0x24a007(0x27b)](_0x470d81)&&_0x470d81[_0x24a007(0x3d4)]===0x0)&&delete _0x257f9f[_0x466398];return this['client']['ev'][_0x24a007(0x890)](_0x24a007(0x8d4),{'messages':[_0x257f9f],'type':_0x24a007(0x1a9)}),_0x257f9f;})()),_0x499cce=await this['repository'][_0x1d4c8c(0x66d)][_0x1d4c8c(0x2c9)]({'where':{'_id':_0x1afd41}},this[_0x1d4c8c(0x6e8)][_0x1d4c8c(0x64c)]),_0x3447dd=(0x0,w[_0x1d4c8c(0x2d7)])(_0x2e3d64[_0x1d4c8c(0x36a)]),_0x45f6e9=(0x0,w['getContentType'])(_0x3447dd),{message_normalized:_0x437574}=this[_0x1d4c8c(0x80e)](_0x3447dd,_0x45f6e9,null),_0x431ad6={'_id':_0x2e3d64[_0x1d4c8c(0x714)]['id'],'key':_0x2e3d64[_0x1d4c8c(0x714)],'pushName':_0x2e3d64[_0x1d4c8c(0x2f5)],'isGroup':_0x2e3d64[_0x1d4c8c(0x714)][_0x1d4c8c(0x84e)][_0x1d4c8c(0x888)](_0x1d4c8c(0x611)),'profilePictureUrl':this[_0x1d4c8c(0x6e8)][_0x1d4c8c(0x4dc)],'message':_0x3447dd,'messageType':_0x45f6e9,'message_normalized':{'key':_0x2e3d64['key'],'pushName':_0x2e3d64[_0x1d4c8c(0x2f5)],'messageTimestamp':_0x2e3d64[_0x1d4c8c(0x48a)]&&_0x2e3d64['messageTimestamp'][_0x1d4c8c(0x1d0)]()[_0x1d4c8c(0x3d4)]<0xd?_0x2e3d64[_0x1d4c8c(0x48a)]*0x3e8:_0x2e3d64['messageTimestamp']||null,'source':(0x0,w[_0x1d4c8c(0x2e2)])(_0x2e3d64[_0x1d4c8c(0x714)]['id']),..._0x437574},'messageTimestamp':_0x2e3d64[_0x1d4c8c(0x48a)]&&_0x2e3d64[_0x1d4c8c(0x48a)][_0x1d4c8c(0x1d0)]()[_0x1d4c8c(0x3d4)]<0xd?_0x2e3d64[_0x1d4c8c(0x48a)]*0x3e8:_0x2e3d64[_0x1d4c8c(0x48a)]||null,'owner':this['instance']['wuid'],'source':(0x0,w[_0x1d4c8c(0x2e2)])(_0x2e3d64[_0x1d4c8c(0x714)]['id'])};return this[_0x1d4c8c(0x379)][_0x1d4c8c(0x2e7)](this[_0x1d4c8c(0x88a)]+'\x20('+this[_0x1d4c8c(0x6e8)][_0x1d4c8c(0x64c)]+_0x1d4c8c(0x4ae)+_0x431ad6[_0x1d4c8c(0x714)]?.[_0x1d4c8c(0x84e)][_0x1d4c8c(0x783)](_0x1d4c8c(0x4f1),'')+_0x1d4c8c(0x416)+_0x431ad6[_0x1d4c8c(0x464)]+')'),_0x431ad6[_0x1d4c8c(0x5b1)]?.[_0x1d4c8c(0x6d0)]&&this[_0x1d4c8c(0x379)]['warn'](_0x431ad6[_0x1d4c8c(0x5b1)]?.[_0x1d4c8c(0x6d0)]),this['sendDataWebhook']('send.message',_0x431ad6),F(this[_0x1d4c8c(0x88a)],_0x1d4c8c(0x663),{'message':_0x431ad6}),this[_0x1d4c8c(0x846)](this[_0x1d4c8c(0x338)][_0x1d4c8c(0x438)](_0x1d4c8c(0x432)),_0x431ad6,_0x1d4c8c(0x487),_0x499cce),await this['repository']['message'][_0x1d4c8c(0x23c)]([_0x431ad6],this['instance'][_0x1d4c8c(0x64c)]),_0x2e3d64;}catch(_0x1d1381){throw this[_0x1d4c8c(0x379)]['error'](_0x1d1381),new m(_0x1d1381['toString']());}}get['connectionStatus'](){const _0x2b60e4=a0_0x466431;return this[_0x2b60e4(0x4e1)];}async[a0_0x466431(0x7b8)](_0xb7155c){const _0x101293=a0_0x466431;return await this['sendMessageWithRetry'](_0xb7155c[_0x101293(0x5be)],{'conversation':_0xb7155c[_0x101293(0x7b8)][_0x101293(0x6d0)]},_0xb7155c?.[_0x101293(0x5c4)]);}async['formatStatusMessage'](_0x4e8388){const _0x6198d4=a0_0x466431;if(!_0x4e8388[_0x6198d4(0x688)])throw new m('Type\x20is\x20required');if(!_0x4e8388[_0x6198d4(0x475)])throw new m(_0x6198d4(0x917));if(_0x4e8388['allContacts']){let _0x4badb6=await this[_0x6198d4(0x7ae)]['contact'][_0x6198d4(0x5a4)]({'where':{}},this[_0x6198d4(0x6e8)][_0x6198d4(0x64c)]);if(!_0x4badb6[_0x6198d4(0x3d4)])throw new m(_0x6198d4(0x769));_0x4e8388[_0x6198d4(0x650)]=_0x4badb6[_0x6198d4(0x189)](_0x18b7b9=>_0x18b7b9['pushName'])[_0x6198d4(0x1e8)](_0x44ab85=>_0x44ab85[_0x6198d4(0x209)]);}if(!_0x4e8388[_0x6198d4(0x650)]?.[_0x6198d4(0x3d4)]&&!_0x4e8388[_0x6198d4(0x478)])throw new m(_0x6198d4(0x67b));if(_0x4e8388['type']===_0x6198d4(0x6d0)){if(!_0x4e8388['backgroundColor'])throw new m(_0x6198d4(0x455));if(!_0x4e8388['font'])throw new m(_0x6198d4(0x4ee));return{'content':{'text':_0x4e8388[_0x6198d4(0x475)]},'option':{'backgroundColor':_0x4e8388[_0x6198d4(0x8f7)],'font':_0x4e8388[_0x6198d4(0x4f6)],'statusJidList':_0x4e8388[_0x6198d4(0x650)]}};}if(_0x4e8388[_0x6198d4(0x688)]===_0x6198d4(0x615))return{'content':{'image':{'url':_0x4e8388[_0x6198d4(0x475)]},'caption':_0x4e8388[_0x6198d4(0x378)]},'option':{'statusJidList':_0x4e8388[_0x6198d4(0x650)]}};if(_0x4e8388[_0x6198d4(0x688)]===_0x6198d4(0x850))return{'content':{'video':{'url':_0x4e8388[_0x6198d4(0x475)]},'caption':_0x4e8388[_0x6198d4(0x378)]},'option':{'statusJidList':_0x4e8388[_0x6198d4(0x650)]}};if(_0x4e8388['type']==='audio'){this['logger'][_0x6198d4(0x704)](this[_0x6198d4(0x88a)]+'\x20('+this[_0x6198d4(0x6e8)][_0x6198d4(0x64c)]+_0x6198d4(0x785)),this['logger'][_0x6198d4(0x704)](this[_0x6198d4(0x88a)]+'\x20('+this[_0x6198d4(0x6e8)][_0x6198d4(0x64c)]+_0x6198d4(0x546));let _0x2aa064=await this['convertaudio'](_0x4e8388[_0x6198d4(0x475)]);if(typeof _0x2aa064==_0x6198d4(0x253)){this[_0x6198d4(0x379)][_0x6198d4(0x704)](this['instanceName']+'\x20('+this[_0x6198d4(0x6e8)][_0x6198d4(0x64c)]+_0x6198d4(0x377));let _0x295068=k[_0x6198d4(0x822)](_0x2aa064)[_0x6198d4(0x1d0)](_0x6198d4(0x907));return{'content':{'audio':Buffer[_0x6198d4(0x847)](_0x295068,_0x6198d4(0x907)),'ptt':!0x0,'mimetype':_0x6198d4(0x2c1)},'option':{'statusJidList':_0x4e8388[_0x6198d4(0x650)]}};}else throw new x(_0x2aa064);}throw new m('Type\x20not\x20found');}async[a0_0x466431(0x87c)](_0x310bf1){const _0x14b011=a0_0x466431;return await this[_0x14b011(0x5c6)](_0x14b011(0x74b),{'status':await this[_0x14b011(0x8af)](_0x310bf1['statusMessage'])});}async[a0_0x466431(0x5bf)](_0x3b6e51){const _0x4a84ad=a0_0x466431;try{let _0x34fffb=await(0x0,w[_0x4a84ad(0x85c)])({[_0x3b6e51[_0x4a84ad(0x2ce)]]:(0x0,J[_0x4a84ad(0x627)])(_0x3b6e51['media'])?{'url':_0x3b6e51[_0x4a84ad(0x71d)]}:Buffer['from'](_0x3b6e51[_0x4a84ad(0x71d)],_0x4a84ad(0x907))},{'upload':this['client'][_0x4a84ad(0x730)]}),_0x4818b4=_0x3b6e51['mediatype']+_0x4a84ad(0x37c);if(_0x3b6e51[_0x4a84ad(0x2ce)]===_0x4a84ad(0x63f)&&!_0x3b6e51[_0x4a84ad(0x4c1)]){let _0x38975c=new RegExp(/.*\/(.+?)\./)[_0x4a84ad(0x813)](_0x3b6e51['media']);_0x3b6e51[_0x4a84ad(0x4c1)]=_0x38975c?_0x38975c[0x1]:null;}let _0x4af32c;return(0x0,J[_0x4a84ad(0x627)])(_0x3b6e51[_0x4a84ad(0x71d)])?_0x4af32c=(await K['default']['get'](_0x3b6e51['media'],{'responseType':'arraybuffer'}))[_0x4a84ad(0x4e4)][_0x4a84ad(0x856)]:_0x4af32c=(0x0,Oi[_0x4a84ad(0x83f)])(_0x3b6e51[_0x4a84ad(0x4c1)]),_0x34fffb[_0x4818b4][_0x4a84ad(0x378)]=_0x3b6e51?.['caption'],_0x34fffb[_0x4818b4][_0x4a84ad(0x39f)]=_0x4af32c,_0x34fffb[_0x4818b4][_0x4a84ad(0x4c1)]=_0x3b6e51['fileName'],_0x3b6e51[_0x4a84ad(0x2ce)]==='video'&&(_0x34fffb[_0x4818b4][_0x4a84ad(0x8cf)]=Uint8Array[_0x4a84ad(0x847)]((0x0,Fe[_0x4a84ad(0x822)])((0x0,j[_0x4a84ad(0x473)])(process[_0x4a84ad(0x26c)](),_0x4a84ad(0x3af)))),_0x34fffb[_0x4818b4]['gifPlayback']=!0x1),(0x0,w[_0x4a84ad(0x6af)])('',{[_0x4818b4]:{..._0x34fffb[_0x4818b4]}},{'userJid':this['instance'][_0x4a84ad(0x64c)]});}catch(_0x41c6d3){let _0xec144=_0x4a84ad(0x247),_0x1dc262=_0x41c6d3 instanceof Error?_0x41c6d3['message']:typeof _0x41c6d3==_0x4a84ad(0x3f1)?JSON[_0x4a84ad(0x66f)](_0x41c6d3):_0x41c6d3,_0x14d184=_0xec144+':\x20'+_0x1dc262;throw this[_0x4a84ad(0x379)][_0x4a84ad(0x8d2)](this[_0x4a84ad(0x88a)]+'\x20('+this[_0x4a84ad(0x6e8)][_0x4a84ad(0x64c)]+'):\x20'+_0x14d184),new x(_0x14d184);}}async[a0_0x466431(0x4cf)](_0x5add1c){const _0x485954=a0_0x466431;let _0x46bbad=0x0;for(;_0x46bbad<0x5;)try{let _0x52db65=await this['prepareMediaMessage'](_0x5add1c[_0x485954(0x4cf)]);return await this['sendMessageWithRetry'](_0x5add1c[_0x485954(0x5be)],{..._0x52db65[_0x485954(0x36a)]},_0x5add1c?.[_0x485954(0x5c4)]);}catch(_0x5d90ee){if(_0x46bbad++,_0x5d90ee instanceof Error&&_0x5d90ee['message']===_0x485954(0x91e)){if(_0x46bbad>=0x5)throw new m(_0x485954(0x2ec)+_0x5d90ee[_0x485954(0x36a)]);this['logger'][_0x485954(0x2e7)](_0x485954(0x1c8)+_0x46bbad+'/5\x20de\x20preparar\x20mídia\x20falhou:\x20'+_0x5d90ee[_0x485954(0x36a)]+_0x485954(0x63a)+0x1388/0x3e8+_0x485954(0x7df)),await new Promise(_0x13a260=>setTimeout(_0x13a260,0x1388));}else throw new m(_0x5d90ee['message']);}}async[a0_0x466431(0x3c0)](_0x24ca62,_0x230f13){const _0x2d2814=a0_0x466431;try{this[_0x2d2814(0x379)]['verbose'](this['instanceName']+'\x20('+this[_0x2d2814(0x6e8)]['wuid']+_0x2d2814(0x420));let _0x20e24d,_0x5a6932=_0x230f13+'-'+new Date()[_0x2d2814(0x50a)]();this[_0x2d2814(0x379)][_0x2d2814(0x704)](this[_0x2d2814(0x88a)]+'\x20('+this['instance']['wuid']+_0x2d2814(0x51c)+_0x5a6932);let _0x46480c=''+(0x0,j['join'])(this[_0x2d2814(0x5ae)],_0x5a6932+_0x2d2814(0x6ef));if(this['logger'][_0x2d2814(0x704)](this[_0x2d2814(0x88a)]+'\x20('+this[_0x2d2814(0x6e8)][_0x2d2814(0x64c)]+_0x2d2814(0x35d)+_0x46480c),(0x0,J[_0x2d2814(0x803)])(_0x24ca62)){this['logger'][_0x2d2814(0x704)](this[_0x2d2814(0x88a)]+'\x20('+this['instance']['wuid']+_0x2d2814(0x474));let _0x56b1ae=_0x24ca62[_0x2d2814(0x783)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x143a0f=Buffer['from'](_0x56b1ae,_0x2d2814(0x907));_0x20e24d=''+(0x0,j[_0x2d2814(0x473)])(this[_0x2d2814(0x5ae)],_0x2d2814(0x4c9)+_0x5a6932+'.png'),this[_0x2d2814(0x379)][_0x2d2814(0x704)](this[_0x2d2814(0x88a)]+'\x20('+this[_0x2d2814(0x6e8)][_0x2d2814(0x64c)]+_0x2d2814(0x19e)+_0x20e24d),await(0x0,Ut[_0x2d2814(0x525)])(_0x143a0f)[_0x2d2814(0x517)](_0x20e24d),this[_0x2d2814(0x379)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2d2814(0x64c)]+'):Image\x20created');}else{this[_0x2d2814(0x379)]['verbose'](this[_0x2d2814(0x88a)]+'\x20('+this[_0x2d2814(0x6e8)]['wuid']+_0x2d2814(0x738));let _0x403d71=new Date()[_0x2d2814(0x50a)](),_0xc6eb43=_0x24ca62+_0x2d2814(0x572)+_0x403d71;this['logger'][_0x2d2814(0x704)](this[_0x2d2814(0x88a)]+'\x20('+this['instance'][_0x2d2814(0x64c)]+_0x2d2814(0x673)+_0xc6eb43);let _0x1b0be8=await K['default'][_0x2d2814(0x438)](_0xc6eb43,{'responseType':_0x2d2814(0x303)});this['logger'][_0x2d2814(0x704)](this[_0x2d2814(0x88a)]+'\x20('+this[_0x2d2814(0x6e8)][_0x2d2814(0x64c)]+_0x2d2814(0x349));let _0x2733a4=Buffer[_0x2d2814(0x847)](_0x1b0be8[_0x2d2814(0x4a7)],_0x2d2814(0x1c6));_0x20e24d=''+(0x0,j[_0x2d2814(0x473)])(this[_0x2d2814(0x5ae)],_0x2d2814(0x4c9)+_0x5a6932+'.png'),this[_0x2d2814(0x379)]['verbose'](this[_0x2d2814(0x88a)]+'\x20('+this[_0x2d2814(0x6e8)][_0x2d2814(0x64c)]+'):Image\x20path:\x20'+_0x20e24d),await(0x0,Ut[_0x2d2814(0x525)])(_0x2733a4)[_0x2d2814(0x517)](_0x20e24d),this[_0x2d2814(0x379)]['verbose'](this[_0x2d2814(0x88a)]+'\x20('+this[_0x2d2814(0x6e8)][_0x2d2814(0x64c)]+_0x2d2814(0x7f1));}return await(0x0,Ut[_0x2d2814(0x525)])(_0x20e24d)[_0x2d2814(0x61f)]()[_0x2d2814(0x517)](_0x46480c),this[_0x2d2814(0x379)][_0x2d2814(0x704)](this[_0x2d2814(0x88a)]+'\x20('+this['instance']['wuid']+'):Image\x20converted\x20to\x20WebP'),k[_0x2d2814(0x5bb)](_0x20e24d),this['logger'][_0x2d2814(0x704)](this[_0x2d2814(0x88a)]+'\x20('+this[_0x2d2814(0x6e8)][_0x2d2814(0x64c)]+_0x2d2814(0x7da)),_0x46480c;}catch(_0x50122d){let _0x24d5f3=_0x2d2814(0x45b),_0x4b6d7d=_0x50122d instanceof Error?_0x50122d[_0x2d2814(0x36a)]:typeof _0x50122d=='object'?JSON['stringify'](_0x50122d):_0x50122d,_0x1e9c64=_0x24d5f3+':\x20'+_0x4b6d7d;this[_0x2d2814(0x379)]['error'](this[_0x2d2814(0x88a)]+'\x20('+this[_0x2d2814(0x6e8)][_0x2d2814(0x64c)]+_0x2d2814(0x280)+_0x1e9c64);}}async[a0_0x466431(0x8c0)](_0x5529bc){const _0x2c3bbd=a0_0x466431;let _0x11f538=await this[_0x2c3bbd(0x3c0)](_0x5529bc[_0x2c3bbd(0x422)]['image'],_0x5529bc['number']),_0x3224ef=await this[_0x2c3bbd(0x5c6)](_0x5529bc[_0x2c3bbd(0x5be)],{'sticker':{'url':_0x11f538}},_0x5529bc?.[_0x2c3bbd(0x5c4)]);return k[_0x2c3bbd(0x5bb)](_0x11f538),this[_0x2c3bbd(0x379)][_0x2c3bbd(0x704)](this[_0x2c3bbd(0x88a)]+'\x20('+this[_0x2c3bbd(0x6e8)]['wuid']+'):Converted\x20image\x20deleted'),_0x3224ef;}async[a0_0x466431(0x59b)](_0x50f2dc){const _0x14d1e8=a0_0x466431;if(this[_0x14d1e8(0x379)][_0x14d1e8(0x704)](this['instanceName']+'\x20('+this[_0x14d1e8(0x6e8)][_0x14d1e8(0x64c)]+_0x14d1e8(0x59c)),!_0x50f2dc[_0x14d1e8(0x5c4)]?.[_0x14d1e8(0x1f0)]&&_0x50f2dc['options']?.['encoding']!==!0x1&&(_0x50f2dc['options'][_0x14d1e8(0x1f0)]=!0x0),_0x50f2dc[_0x14d1e8(0x5c4)]?.[_0x14d1e8(0x1f0)]){let _0x5224fc=await this[_0x14d1e8(0x3ce)](_0x50f2dc[_0x14d1e8(0x343)]['audio']);if(typeof _0x5224fc==_0x14d1e8(0x253)){let _0x3114a7=k[_0x14d1e8(0x822)](_0x5224fc)[_0x14d1e8(0x1d0)](_0x14d1e8(0x907));return this['sendMessageWithRetry'](_0x50f2dc[_0x14d1e8(0x5be)],{'audio':Buffer[_0x14d1e8(0x847)](_0x3114a7,_0x14d1e8(0x907)),'ptt':!0x0,'mimetype':_0x14d1e8(0x837)},{'presence':_0x14d1e8(0x61d),'delay':_0x50f2dc?.[_0x14d1e8(0x5c4)]?.[_0x14d1e8(0x8c9)]});}else throw new x(_0x5224fc);}return await this[_0x14d1e8(0x5c6)](_0x50f2dc['number'],{'audio':(0x0,J[_0x14d1e8(0x627)])(_0x50f2dc['audioMessage']['audio'])?{'url':_0x50f2dc[_0x14d1e8(0x343)][_0x14d1e8(0x4e3)]}:Buffer[_0x14d1e8(0x847)](_0x50f2dc[_0x14d1e8(0x343)][_0x14d1e8(0x4e3)],_0x14d1e8(0x907)),'ptt':!0x0,'mimetype':_0x14d1e8(0x837)},{'presence':_0x14d1e8(0x61d),'delay':_0x50f2dc?.['options']?.[_0x14d1e8(0x8c9)]});}async[a0_0x466431(0x3ce)](_0x4dd70f){const _0x395dce=a0_0x466431;this[_0x395dce(0x379)][_0x395dce(0x704)](this[_0x395dce(0x88a)]+'\x20('+this['instance']['wuid']+_0x395dce(0x546));let _0x3f2f4e=(0x0,J[_0x395dce(0x627)])(_0x4dd70f)?(0x0,oe[_0x395dce(0x213)])(_0x395dce(0x6ac))[_0x395dce(0x42a)](_0x4dd70f)[_0x395dce(0x6d2)]('hex'):(0x0,oe[_0x395dce(0x213)])(_0x395dce(0x6ac))['update'](_0x4dd70f)[_0x395dce(0x6d2)](_0x395dce(0x214)),_0x2a1527=''+(0x0,j['join'])(this['storePath'],_0x3f2f4e+'.ogg');if(k[_0x395dce(0x4ce)](_0x2a1527))return this[_0x395dce(0x379)][_0x395dce(0x704)](this[_0x395dce(0x88a)]+'\x20('+this[_0x395dce(0x6e8)]['wuid']+'):Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x2a1527;let _0xfbad00=''+(0x0,j['join'])(this[_0x395dce(0x5ae)],'temp-'+(0x0,Q['v4'])()+_0x395dce(0x5a8));if((0x0,J[_0x395dce(0x627)])(_0x4dd70f)){let _0x43a155=new Date()[_0x395dce(0x50a)](),_0x32abc2=_0x4dd70f+'?timestamp='+_0x43a155,_0x4288ff=await K[_0x395dce(0x525)][_0x395dce(0x438)](_0x32abc2,{'responseType':_0x395dce(0x303)});k[_0x395dce(0x37b)](_0xfbad00,_0x4288ff[_0x395dce(0x4a7)]);}else{let _0x48e087=Buffer[_0x395dce(0x847)](_0x4dd70f,_0x395dce(0x907));k[_0x395dce(0x37b)](_0xfbad00,_0x48e087);}return new Promise((_0x206186,_0x2efd75)=>{const _0x3ff021=_0x395dce;(0x0,Ue[_0x3ff021(0x813)])(Ds[_0x3ff021(0x525)][_0x3ff021(0x3b9)]+_0x3ff021(0x542)+_0xfbad00+_0x3ff021(0x4fb)+_0x2a1527+'\x20-y',_0x5308f0=>{const _0x50410c=_0x3ff021;if(k[_0x50410c(0x5bb)](_0xfbad00),_0x5308f0){this['logger']['verbose'](this[_0x50410c(0x88a)]+'\x20('+this[_0x50410c(0x6e8)][_0x50410c(0x64c)]+_0x50410c(0x773)),_0x2efd75(_0x5308f0);return;}this[_0x50410c(0x379)][_0x50410c(0x704)](this[_0x50410c(0x88a)]+'\x20('+this[_0x50410c(0x6e8)][_0x50410c(0x64c)]+_0x50410c(0x359)),_0x206186(_0x2a1527);});});}async[a0_0x466431(0x29b)](_0x9af0d7){const _0x8213c=a0_0x466431;this['logger'][_0x8213c(0x704)](this[_0x8213c(0x88a)]+'\x20('+this[_0x8213c(0x6e8)][_0x8213c(0x64c)]+_0x8213c(0x546));let _0x1d1da7=(0x0,oe[_0x8213c(0x213)])(_0x8213c(0x6ac))[_0x8213c(0x42a)](_0x9af0d7)[_0x8213c(0x6d2)](_0x8213c(0x214)),_0x426ca8=''+(0x0,j[_0x8213c(0x473)])(this[_0x8213c(0x5ae)],_0x1d1da7+_0x8213c(0x5a8));if(k[_0x8213c(0x4ce)](_0x426ca8))return this[_0x8213c(0x379)][_0x8213c(0x704)](this[_0x8213c(0x88a)]+'\x20('+this[_0x8213c(0x6e8)][_0x8213c(0x64c)]+_0x8213c(0x4d4)),j['default'][_0x8213c(0x18e)](_0x426ca8);let _0x34d5e9=''+(0x0,j['join'])(this[_0x8213c(0x5ae)],_0x8213c(0x4c9)+_0x1d1da7+_0x8213c(0x305));if((0x0,J['isURL'])(_0x9af0d7)){let _0x5cc163=new Date()[_0x8213c(0x50a)](),_0x5d41a2=_0x9af0d7+_0x8213c(0x572)+_0x5cc163,_0x334b61=await K[_0x8213c(0x525)][_0x8213c(0x438)](_0x5d41a2,{'responseType':_0x8213c(0x303)});k[_0x8213c(0x37b)](_0x34d5e9,_0x334b61[_0x8213c(0x4a7)]);}else{let _0x4f5947=Buffer[_0x8213c(0x847)](_0x9af0d7,_0x8213c(0x907));k[_0x8213c(0x37b)](_0x34d5e9,_0x4f5947);}return new Promise((_0xe789fe,_0x275961)=>{const _0x434be2=_0x8213c;(0x0,Ue[_0x434be2(0x813)])(Ds[_0x434be2(0x525)][_0x434be2(0x3b9)]+_0x434be2(0x542)+_0x34d5e9+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x426ca8+_0x434be2(0x1e0),_0x2423d6=>{const _0x9755c4=_0x434be2;if(k[_0x9755c4(0x5bb)](_0x34d5e9),_0x2423d6){this['logger'][_0x9755c4(0x704)](this['instanceName']+'\x20('+this['instance'][_0x9755c4(0x64c)]+'):Error\x20in\x20converting\x20audio'),_0x275961(_0x2423d6);return;}this[_0x9755c4(0x379)]['verbose'](this[_0x9755c4(0x88a)]+'\x20('+this[_0x9755c4(0x6e8)][_0x9755c4(0x64c)]+_0x9755c4(0x359)),_0xe789fe(j[_0x9755c4(0x525)][_0x9755c4(0x18e)](_0x426ca8));});});}async['buttonMessage'](_0x9a5b0){const _0x585d1c=a0_0x466431;console[_0x585d1c(0x913)](_0x585d1c(0x1b9),_0x9a5b0);let _0x2009e2;try{_0x9a5b0[_0x585d1c(0x7b0)]?.[_0x585d1c(0x751)]&&(_0x2009e2=await this[_0x585d1c(0x5bf)]({'mediatype':_0x585d1c(0x615),'media':_0x9a5b0[_0x585d1c(0x7b0)]['thumbnailUrl']}));}catch(_0x6fc4e){throw console[_0x585d1c(0x8d2)](_0x585d1c(0x819),_0x6fc4e),new Error(_0x585d1c(0x62d));}try{let _0x10c208={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x585d1c(0x78a)},'footer':{'text':'Rodapé\x20de\x20Teste'},'header':((()=>{const _0x44417d=_0x585d1c;if(_0x2009e2?.[_0x44417d(0x36a)]?.[_0x44417d(0x277)])return{'hasMediaAttachment':!!_0x2009e2[_0x44417d(0x36a)][_0x44417d(0x277)],'imageMessage':_0x2009e2['message'][_0x44417d(0x277)]};})()),'nativeFlowMessage':{'buttons':[{'name':'quick_reply','buttonParamsJson':JSON['stringify']({'display_text':_0x585d1c(0x77a),'id':'1'})},{'name':_0x585d1c(0x54c),'buttonParamsJson':JSON['stringify']({'display_text':_0x585d1c(0x4e5),'id':'2'})}],'messageParamsJson':JSON[_0x585d1c(0x66f)]({'from':_0x585d1c(0x325),'templateId':_0x585d1c(0x833)+(0x0,oe['randomBytes'])(0x12)['toString'](_0x585d1c(0x214))['toUpperCase']()})}}}}};return await this[_0x585d1c(0x784)](_0x9a5b0[_0x585d1c(0x5be)],_0x10c208,_0x9a5b0?.[_0x585d1c(0x5c4)]);}catch(_0x5a550c){throw console['error'](_0x585d1c(0x701),_0x5a550c),new Error(_0x585d1c(0x616));}}async[a0_0x466431(0x89a)](_0x15a96e){const _0x2ab847=a0_0x466431;return await this[_0x2ab847(0x5c6)](_0x15a96e[_0x2ab847(0x5be)],{'locationMessage':{'degreesLatitude':_0x15a96e[_0x2ab847(0x89a)][_0x2ab847(0x83a)],'degreesLongitude':_0x15a96e[_0x2ab847(0x89a)]['longitude'],'name':_0x15a96e[_0x2ab847(0x89a)]?.[_0x2ab847(0x8d9)],'address':_0x15a96e['locationMessage']?.['address']}},_0x15a96e?.[_0x2ab847(0x5c4)]);}async['contactMessage'](_0x4530fd){const _0x3c9061=a0_0x466431;let _0x448c62={},_0x39185b=async _0x2a3145=>{const _0xb96323=a0_0x192a;let _0x1eec69='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x2a3145[_0xb96323(0x60a)]+_0xb96323(0x242)+_0x2a3145[_0xb96323(0x60a)]+'\x0a';_0x2a3145['organization']&&(_0x1eec69+=_0xb96323(0x20e)+_0x2a3145[_0xb96323(0x44a)]+';\x0a'),_0x2a3145[_0xb96323(0x7a4)]&&(_0x1eec69+='EMAIL:'+_0x2a3145[_0xb96323(0x7a4)]+'\x0a'),_0x2a3145[_0xb96323(0x479)]&&(_0x1eec69+='URL:'+_0x2a3145['url']+'\x0a');let _0x41492e='',_0x1b5b2c=0x1;if(_0x2a3145[_0xb96323(0x828)]){let _0x3b4989=_0x2a3145[_0xb96323(0x828)][_0xb96323(0x38b)]('|');for(let _0x366014 of _0x3b4989){let _0x127e57=await this[_0xb96323(0x52b)]({'numbers':[_0x366014]}),_0x30b173=(_0x127e57[_0xb96323(0x3d4)]>0x0?_0x127e57[0x0][_0xb96323(0x6dc)]:this[_0xb96323(0x866)](_0x366014))[_0xb96323(0x783)](_0xb96323(0x4f1),'');_0x41492e+=_0xb96323(0x88f)+_0x1b5b2c+_0xb96323(0x4d5)+_0x30b173+':'+_0x366014+'\x0aitem'+_0x1b5b2c+'.X-ABLabel:Celular\x0a',_0x1b5b2c++;}}return _0x1eec69+=_0x41492e+'END:VCARD',_0x1eec69;};return _0x4530fd[_0x3c9061(0x853)]['length']===0x1?_0x448c62[_0x3c9061(0x853)]={'displayName':_0x4530fd['contactMessage'][0x0]['fullName'],'vcard':await _0x39185b(_0x4530fd[_0x3c9061(0x853)][0x0])}:_0x448c62[_0x3c9061(0x5d9)]={'displayName':_0x4530fd[_0x3c9061(0x853)][_0x3c9061(0x3d4)]+'\x20contacts','contacts':await Promise['all'](_0x4530fd[_0x3c9061(0x853)][_0x3c9061(0x1e8)](async _0x35d06c=>({'displayName':_0x35d06c[_0x3c9061(0x60a)],'vcard':await _0x39185b(_0x35d06c)})))},await this[_0x3c9061(0x5c6)](_0x4530fd[_0x3c9061(0x5be)],{..._0x448c62},_0x4530fd?.[_0x3c9061(0x5c4)]);}async[a0_0x466431(0x62e)](_0x5222a2){const _0x5525e1=a0_0x466431;return await this[_0x5525e1(0x5c6)](_0x5222a2[_0x5525e1(0x62e)][_0x5525e1(0x714)]['remoteJid'],{'reactionMessage':{'key':_0x5222a2[_0x5525e1(0x62e)][_0x5525e1(0x714)],'text':_0x5222a2[_0x5525e1(0x62e)][_0x5525e1(0x6da)]}});}async[a0_0x466431(0x52b)](_0x4b7c54){const _0x303183=a0_0x466431;let _0x3e75f3=[];for await(let _0x19ef25 of _0x4b7c54['numbers']){let _0x1bda80=this['createJid'](_0x19ef25),_0x1b4170=!0x1;try{if((0x0,w[_0x303183(0x69f)])(_0x1bda80)){let _0xed42b4=(await this[_0x303183(0x7ae)][_0x303183(0x66d)][_0x303183(0x2c9)]({'where':{'_id':_0x1bda80}},this[_0x303183(0x6e8)][_0x303183(0x64c)]))[_0x303183(0x371)];_0xed42b4?(_0x1b4170=!0x0,_0x3e75f3[_0x303183(0x543)](new ce(_0xed42b4['id'],_0x1b4170,_0xed42b4?.[_0x303183(0x408)]))):(_0xed42b4=await this[_0x303183(0x3ca)]({'groupJid':_0x1bda80},_0x303183(0x8fc)),_0x3e75f3[_0x303183(0x543)](new ce(_0xed42b4['id'],!!_0xed42b4?.['id'],_0xed42b4?.[_0x303183(0x408)])));}else{if(_0x1bda80[_0x303183(0x6f2)](_0x303183(0x2a1)))_0x3e75f3['push'](new ce(_0x1bda80,!0x0));else{let _0x4e29ee=(await this[_0x303183(0x5a1)][_0x303183(0x3b1)](_0x1bda80))[0x0];_0x3e75f3['push'](new ce(_0x4e29ee[_0x303183(0x6dc)],_0x4e29ee['exists']));}}}catch{(0x0,w[_0x303183(0x69f)])(_0x1bda80)||await this[_0x303183(0x82f)](_0x1bda80),_0x3e75f3[_0x303183(0x543)](new ce(_0x19ef25,!0x1));}}return _0x3e75f3;}async[a0_0x466431(0x82f)](_0x5194f2){const _0x4e629b=a0_0x466431;try{await this['repository']['chat'][_0x4e629b(0x2c9)]({'where':{'_id':_0x5194f2,'imported':!0x0}},this[_0x4e629b(0x6e8)][_0x4e629b(0x64c)])&&(await this['repository'][_0x4e629b(0x66d)][_0x4e629b(0x25f)](_0x5194f2,this[_0x4e629b(0x6e8)][_0x4e629b(0x64c)]),this[_0x4e629b(0x379)][_0x4e629b(0x6c6)](_0x4e629b(0x30e)+_0x5194f2+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.'));}catch(_0x8d0110){let _0x1de28a=_0x4e629b(0x793),_0x5d0f28=_0x8d0110 instanceof Error?_0x8d0110[_0x4e629b(0x36a)]:typeof _0x8d0110==_0x4e629b(0x3f1)?JSON[_0x4e629b(0x66f)](_0x8d0110):_0x8d0110,_0x148e54=_0x1de28a+':\x20'+_0x5d0f28;this[_0x4e629b(0x379)]['error'](this['instanceName']+'\x20('+this[_0x4e629b(0x6e8)][_0x4e629b(0x64c)]+_0x4e629b(0x280)+_0x148e54);}}async[a0_0x466431(0x7a8)](_0xde5214){const _0x51a09f=a0_0x466431;try{let _0x21431c=_0xde5214[_0x51a09f(0x8a6)]['filter'](_0x4fc7b9=>(0x0,w[_0x51a09f(0x69f)])(_0x4fc7b9[_0x51a09f(0x84e)])||(0x0,w[_0x51a09f(0x4ad)])(_0x4fc7b9[_0x51a09f(0x84e)]))[_0x51a09f(0x1e8)](_0x297eeb=>({'remoteJid':_0x297eeb['remoteJid'],'fromMe':_0x297eeb[_0x51a09f(0x70f)],'id':_0x297eeb['id']}));await this[_0x51a09f(0x5a1)][_0x51a09f(0x8a6)](_0x21431c);let _0x2e1f3e=_0x21431c[_0x51a09f(0x1e8)](_0x40e334=>this[_0x51a09f(0x91c)](_0x40e334,{'status':_0x51a09f(0x251),'owner':this[_0x51a09f(0x6e8)][_0x51a09f(0x64c)]})),_0x12a8ce=_0x21431c['map'](_0x5ee642=>this[_0x51a09f(0x7ae)][_0x51a09f(0x66d)][_0x51a09f(0x86c)]({'where':{'_id':_0x5ee642[_0x51a09f(0x84e)]}},{'unreadcount':0x0},this[_0x51a09f(0x6e8)][_0x51a09f(0x64c)])),[_0x5bd508,_0x4e50c0]=await Promise[_0x51a09f(0x5fe)]([Promise[_0x51a09f(0x5fe)](_0x2e1f3e),Promise[_0x51a09f(0x5fe)](_0x12a8ce)]);return _0x4e50c0[_0x51a09f(0x189)](_0xaecbe0=>_0xaecbe0!==null)[_0x51a09f(0x4fe)](_0x139348=>{const _0x5238ab=_0x51a09f;F(this[_0x5238ab(0x88a)],_0x5238ab(0x45d),{'chat':_0x139348});}),{'message':_0x51a09f(0x3cb),'read':_0x51a09f(0x4f7)};}catch(_0x1a97f9){let _0x5764e2='Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida',_0x5742d3=_0x1a97f9 instanceof Error?_0x1a97f9[_0x51a09f(0x36a)]:typeof _0x1a97f9==_0x51a09f(0x3f1)?JSON['stringify'](_0x1a97f9):_0x1a97f9,_0x24c0f9=_0x5764e2+':\x20'+_0x5742d3;throw this[_0x51a09f(0x379)][_0x51a09f(0x8d2)](this[_0x51a09f(0x88a)]+'\x20('+this['instance'][_0x51a09f(0x64c)]+'):\x20'+_0x24c0f9),new x(_0x24c0f9);}}async[a0_0x466431(0x7be)](_0x5ab530){const _0x49775c=a0_0x466431;let _0x47419c={'where':{'key':{'remoteJid':_0x5ab530}},'limit':0x1},_0x3134fd=await this[_0x49775c(0x352)](_0x47419c);return _0x3134fd||(this['logger'][_0x49775c(0x8d2)](_0x49775c(0x8b3)+_0x5ab530),null);}async[a0_0x466431(0x3a7)](_0x4e774e){const _0x15b4d6=a0_0x466431;this['logger'][_0x15b4d6(0x704)](this[_0x15b4d6(0x88a)]+'\x20('+this[_0x15b4d6(0x6e8)][_0x15b4d6(0x64c)]+_0x15b4d6(0x3f9));try{let _0x58b755=_0x4e774e['lastMessage'],_0xe31688=_0x4e774e[_0x15b4d6(0x66d)];if(!_0x58b755&&_0xe31688?_0x58b755=await this[_0x15b4d6(0x7be)](_0xe31688):(_0x58b755=_0x4e774e[_0x15b4d6(0x6dd)],_0x58b755['messageTimestamp']=_0x58b755?.[_0x15b4d6(0x48a)]??Date[_0x15b4d6(0x283)](),_0xe31688=_0x58b755?.[_0x15b4d6(0x714)]?.['remoteJid']),!_0x58b755||Object['keys'](_0x58b755)[_0x15b4d6(0x3d4)]===0x0)throw new U(_0x15b4d6(0x361));this[_0x15b4d6(0x379)][_0x15b4d6(0x704)](this['instanceName']+'\x20('+this[_0x15b4d6(0x6e8)][_0x15b4d6(0x64c)]+_0x15b4d6(0x610)+_0xe31688);try{await this[_0x15b4d6(0x5a1)][_0x15b4d6(0x2ee)]({'archive':_0x4e774e[_0x15b4d6(0x23a)],'lastMessages':[_0x58b755]},this['createJid'](_0xe31688));}catch(_0x5dac7e){let _0x5c9223=_0x15b4d6(0x4bc)+_0xe31688,_0x34cf6d=_0x5dac7e instanceof Error?_0x5dac7e['message']:typeof _0x5dac7e==_0x15b4d6(0x3f1)?JSON['stringify'](_0x5dac7e):_0x5dac7e,_0x277ed9=_0x5c9223+':\x20'+_0x34cf6d;this[_0x15b4d6(0x379)][_0x15b4d6(0x8d2)](this[_0x15b4d6(0x88a)]+'\x20('+this[_0x15b4d6(0x6e8)][_0x15b4d6(0x64c)]+'):\x20'+_0x277ed9);}this[_0x15b4d6(0x379)][_0x15b4d6(0x704)](this['instanceName']+'\x20('+this[_0x15b4d6(0x6e8)][_0x15b4d6(0x64c)]+_0x15b4d6(0x43c)+_0xe31688);let _0x3d1325=await this['repository']['chat']['updateOne']({'where':{'_id':_0x58b755?.['key']?.[_0x15b4d6(0x84e)]}},{'archived':_0x4e774e[_0x15b4d6(0x23a)]},this[_0x15b4d6(0x6e8)][_0x15b4d6(0x64c)]);return _0x3d1325?(this[_0x15b4d6(0x379)]['verbose'](this[_0x15b4d6(0x88a)]+'\x20('+this[_0x15b4d6(0x6e8)][_0x15b4d6(0x64c)]+_0x15b4d6(0x6f4)+JSON[_0x15b4d6(0x66f)](_0x3d1325)),F(this[_0x15b4d6(0x88a)],_0x15b4d6(0x45d),{'chat':_0x3d1325})):this['logger'][_0x15b4d6(0x8d2)](this['instanceName']+'\x20('+this[_0x15b4d6(0x6e8)]['wuid']+_0x15b4d6(0x31d)+_0xe31688),{'chatId':_0xe31688,'archived':_0x4e774e[_0x15b4d6(0x23a)]};}catch(_0x5120c4){let _0x3a7d91=_0x15b4d6(0x2cf),_0x1450dc=_0x5120c4 instanceof Error?_0x5120c4[_0x15b4d6(0x36a)]:typeof _0x5120c4==_0x15b4d6(0x3f1)?JSON[_0x15b4d6(0x66f)](_0x5120c4):_0x5120c4,_0x199dd4=_0x3a7d91+':\x20'+_0x1450dc;throw this[_0x15b4d6(0x379)]['error'](this['instanceName']+'\x20('+this[_0x15b4d6(0x6e8)][_0x15b4d6(0x64c)]+_0x15b4d6(0x280)+_0x199dd4),new x(_0x199dd4);}}async[a0_0x466431(0x25f)](_0x313d06){const _0x5b011f=a0_0x466431;this[_0x5b011f(0x379)][_0x5b011f(0x704)](this[_0x5b011f(0x88a)]+'\x20('+this[_0x5b011f(0x6e8)][_0x5b011f(0x64c)]+_0x5b011f(0x7ed));try{let _0x3621b4=await this[_0x5b011f(0x7be)](_0x313d06);if(!_0x3621b4||Object[_0x5b011f(0x7c4)](_0x3621b4)[_0x5b011f(0x3d4)]===0x0)throw new U(_0x5b011f(0x361));let _0x3a6d17=_0x3621b4[0x0];this[_0x5b011f(0x379)][_0x5b011f(0x704)](this['instanceName']+'\x20('+this[_0x5b011f(0x6e8)][_0x5b011f(0x64c)]+_0x5b011f(0x484)+_0x313d06);try{await this[_0x5b011f(0x5a1)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x3a6d17['key'],'messageTimestamp':_0x3a6d17[_0x5b011f(0x48a)]}]},this['createJid'](_0x313d06));}catch(_0x5af48b){this[_0x5b011f(0x379)][_0x5b011f(0x8d2)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x313d06+':\x20'+_0x5af48b[_0x5b011f(0x1d0)]());}this[_0x5b011f(0x379)][_0x5b011f(0x704)](this[_0x5b011f(0x88a)]+'\x20('+this['instance'][_0x5b011f(0x64c)]+_0x5b011f(0x43c)+_0x313d06);return;}catch(_0x12f329){throw this['logger']['error'](this[_0x5b011f(0x88a)]+'\x20('+this['instance'][_0x5b011f(0x64c)]+'):Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x12f329['toString']()),new x({'archived':!0x1,'message':[_0x5b011f(0x623),_0x12f329['toString']()]});}}async[a0_0x466431(0x19b)](_0x21afc2){const _0x378a58=a0_0x466431;try{let _0x2d48e4=await this[_0x378a58(0x5a1)][_0x378a58(0x400)](_0x21afc2[_0x378a58(0x84e)],{'delete':_0x21afc2});try{let _0x214a79=await this['updateMessage'](_0x21afc2,{'status':_0x378a58(0x225),'owner':this[_0x378a58(0x6e8)][_0x378a58(0x64c)]});this[_0x378a58(0x379)]['verbose'](this['instanceName']+'\x20('+this[_0x378a58(0x6e8)][_0x378a58(0x64c)]+_0x378a58(0x575)+_0x214a79);}catch(_0x19f86d){this[_0x378a58(0x379)][_0x378a58(0x8d2)](_0x378a58(0x47d)+_0x19f86d);}return _0x2d48e4;}catch(_0x1bc82c){throw new x(_0x378a58(0x230),_0x1bc82c?.[_0x378a58(0x1d0)]());}}async[a0_0x466431(0x5d0)](_0x4a539e){const _0x4eef57=a0_0x466431;try{let _0x41ccf4=_0x4a539e?.['message']?_0x4a539e:await this[_0x4eef57(0x49a)](_0x4a539e[_0x4eef57(0x714)],!0x0);for(let _0x135fc4 of Na)_0x41ccf4[_0x4eef57(0x36a)][_0x135fc4]&&(_0x41ccf4[_0x4eef57(0x36a)]=_0x41ccf4['message'][_0x135fc4][_0x4eef57(0x36a)]);let _0x496d49,_0x9dde21;for(let _0x55305 of Ea)if(_0x496d49=_0x41ccf4[_0x4eef57(0x36a)][_0x55305],_0x496d49){_0x9dde21=_0x55305;break;}if(!_0x496d49)throw _0x4eef57(0x331);typeof _0x496d49['mediaKey']=='object'&&(_0x41ccf4[_0x4eef57(0x36a)]=JSON['parse'](JSON[_0x4eef57(0x66f)](_0x41ccf4[_0x4eef57(0x36a)])));let _0x46bb93=await(0x0,w[_0x4eef57(0x809)])({'key':_0x41ccf4?.[_0x4eef57(0x714)],'message':_0x41ccf4?.['message']},_0x4eef57(0x8f5),{},{'logger':(0x0,Ft[_0x4eef57(0x525)])({'level':'silent'}),'reuploadRequest':this[_0x4eef57(0x5a1)][_0x4eef57(0x27e)]});if(!(_0x46bb93 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x3e8e2f=this[_0x4eef57(0x338)][_0x4eef57(0x438)](_0x4eef57(0x432)),_0x4c01a1,_0x995255;if(_0x496d49[_0x4eef57(0x4c1)])_0x4c01a1=_0x496d49[_0x4eef57(0x4c1)];else{let _0xf1e521=_0x496d49[_0x4eef57(0x39f)]?.['match'](/\/(\w+)/),_0x5c2d2=_0xf1e521?_0xf1e521[0x1]:null;if(!_0x5c2d2)throw new Error(_0x4eef57(0x354));_0x4c01a1=(0x0,Q['v4'])()+'.'+_0x5c2d2;}_0x9dde21===_0x4eef57(0x343)?_0x995255='/media/'+await this[_0x4eef57(0x29b)](_0x46bb93[_0x4eef57(0x1d0)](_0x4eef57(0x907))):(await this[_0x4eef57(0x786)](_0x46bb93,_0x4c01a1),_0x995255='/media/'+_0x4c01a1);let _0x28c4e0=this['configService'][_0x4eef57(0x438)]('SERVER')['URL'];if(!_0x28c4e0){let _0x33324d=this['configService'][_0x4eef57(0x438)]('SSL_CONF');_0x28c4e0='https://'+(_0x33324d&&_0x33324d[_0x4eef57(0x2ab)][_0x4eef57(0x38b)]('/')[0x4]);}_0x995255=''+_0x28c4e0+_0x995255;let _0x101e05=0xc*0x3c*0x3c*0x3e8,_0x267506={'where':{'_id':_0x41ccf4[_0x4eef57(0x714)]['id']}},_0x507dc2={'message_normalized.fileUrl':_0x995255,'message_normalized.expires_fileUrl':Date[_0x4eef57(0x283)]()+_0x101e05};try{let _0x454c76=await this[_0x4eef57(0x7ae)][_0x4eef57(0x36a)][_0x4eef57(0x42a)](_0x267506,_0x507dc2,this['instance'][_0x4eef57(0x64c)]);_0x454c76&&F(this[_0x4eef57(0x88a)],'messages',{'message':_0x454c76});}catch(_0x56710a){let _0x2ddaaf=_0x4eef57(0x535),_0x339777=_0x56710a instanceof Error?_0x56710a[_0x4eef57(0x36a)]:typeof _0x56710a==_0x4eef57(0x3f1)?JSON[_0x4eef57(0x66f)](_0x56710a):_0x56710a,_0x1cdbd4=_0x2ddaaf+':\x20'+_0x339777;this[_0x4eef57(0x379)][_0x4eef57(0x8d2)](this['instanceName']+'\x20('+this[_0x4eef57(0x6e8)][_0x4eef57(0x64c)]+'):\x20'+_0x1cdbd4);}return{'mediaType':_0x9dde21,'fileName':_0x496d49[_0x4eef57(0x4c1)],'caption':_0x496d49[_0x4eef57(0x378)],'size':{'fileLength':_0x496d49[_0x4eef57(0x2d4)],'height':_0x496d49[_0x4eef57(0x398)],'width':_0x496d49[_0x4eef57(0x8fa)]},'mimetype':_0x496d49[_0x4eef57(0x39f)],'base64':_0x46bb93['toString'](_0x4eef57(0x907)),'fileUrl':_0x995255,'expires_fileUrl':Date[_0x4eef57(0x283)]()+_0x101e05};}catch(_0x4e65d5){let _0x47713e=_0x4eef57(0x386),_0x332621=_0x4e65d5 instanceof Error?_0x4e65d5[_0x4eef57(0x36a)]:typeof _0x4e65d5==_0x4eef57(0x3f1)?JSON[_0x4eef57(0x66f)](_0x4e65d5):_0x4e65d5,_0x4428f3=_0x47713e+':\x20'+_0x332621;throw this[_0x4eef57(0x379)]['error'](this[_0x4eef57(0x88a)]+'\x20('+this[_0x4eef57(0x6e8)]['wuid']+_0x4eef57(0x280)+_0x4428f3),new m(_0x4428f3);}}async[a0_0x466431(0x786)](_0x40fbc7,_0x58605c){const _0x52987d=a0_0x466431;let _0x17870e=j['default'][_0x52987d(0x473)](__dirname,_0x52987d(0x76f));k[_0x52987d(0x4ce)](_0x17870e)||k['mkdirSync'](_0x17870e,{'recursive':!0x0});let _0x372c6d=j['default']['join'](_0x17870e,_0x58605c);return new Promise((_0x2b94b0,_0x5f9008)=>{const _0x33e167=_0x52987d;k[_0x33e167(0x671)](_0x372c6d,_0x40fbc7,_0xe6a34e=>{const _0x23a7ec=_0x33e167;_0xe6a34e?(this[_0x23a7ec(0x379)][_0x23a7ec(0x8d2)](_0x23a7ec(0x5c9)+(_0xe6a34e instanceof Error?_0xe6a34e['message']:JSON[_0x23a7ec(0x66f)](_0xe6a34e,null,0x2))),_0x5f9008(_0xe6a34e)):(this[_0x23a7ec(0x379)]['log'](_0x23a7ec(0x4f4)+_0x372c6d),_0x2b94b0(_0x372c6d));});});}async[a0_0x466431(0x915)](_0x4e879e){const _0x366fea=a0_0x466431;return await this['repository'][_0x366fea(0x466)][_0x366fea(0x5a4)](_0x4e879e,this[_0x366fea(0x6e8)]['wuid']);}async['fetchLabels'](){const _0x3772e1=a0_0x466431;return await this['repository'][_0x3772e1(0x8be)][_0x3772e1(0x5a4)]({'where':{}},this[_0x3772e1(0x6e8)][_0x3772e1(0x64c)]);}async['fetchMessages'](_0x4933a3){const _0x5ed4ae=a0_0x466431;return await this[_0x5ed4ae(0x7ae)][_0x5ed4ae(0x36a)][_0x5ed4ae(0x5a4)](_0x4933a3,this[_0x5ed4ae(0x6e8)][_0x5ed4ae(0x64c)]);}async[a0_0x466431(0x28a)](){const _0x1d6cf3=a0_0x466431;return this[_0x1d6cf3(0x7ae)][_0x1d6cf3(0x66d)][_0x1d6cf3(0x3c9)](this[_0x1d6cf3(0x6e8)][_0x1d6cf3(0x64c)]),this['repository'][_0x1d6cf3(0x66d)]['updateMissingEtiquetas'](this[_0x1d6cf3(0x6e8)]['wuid']),this[_0x1d6cf3(0x7ae)]['chat'][_0x1d6cf3(0x336)](this['instance'][_0x1d6cf3(0x64c)]),this[_0x1d6cf3(0x7ae)][_0x1d6cf3(0x66d)][_0x1d6cf3(0x536)](this[_0x1d6cf3(0x6e8)]['wuid']),await this['repository']['chat'][_0x1d6cf3(0x5a4)]({'where':{}},this[_0x1d6cf3(0x6e8)]['wuid']);}async[a0_0x466431(0x670)](_0x1f94a2){const _0x142c63=a0_0x466431;try{if(!Array[_0x142c63(0x27b)](_0x1f94a2)||_0x1f94a2[_0x142c63(0x3d4)]===0x0)throw new Error(_0x142c63(0x3fe));let _0x161472=[],_0x184668=[];for(let _0x58e415 of _0x1f94a2){if(_0x58e415[_0x142c63(0x209)])_0x58e415[_0x142c63(0x209)]=this[_0x142c63(0x866)](_0x58e415[_0x142c63(0x209)]);else continue;await this[_0x142c63(0x7ae)][_0x142c63(0x66d)][_0x142c63(0x2c9)]({'where':{'_id':_0x58e415['_id']}},this['instance'][_0x142c63(0x64c)])?_0x184668['push']({'_id':_0x58e415[_0x142c63(0x209)],'leadInfo':_0x58e415[_0x142c63(0x811)],'owner':this[_0x142c63(0x6e8)][_0x142c63(0x64c)]}):_0x161472[_0x142c63(0x543)]({'_id':_0x58e415[_0x142c63(0x209)],'owner':this['instance'][_0x142c63(0x64c)],'leadInfo':_0x58e415['leadInfo'],'imported':!0x0});}return _0x184668[_0x142c63(0x3d4)]>0x0&&await this[_0x142c63(0x7ae)][_0x142c63(0x66d)][_0x142c63(0x555)](_0x184668['map'](_0x29428f=>({'query':{'where':{'_id':_0x29428f['_id'],'owner':this[_0x142c63(0x6e8)][_0x142c63(0x64c)]}},'update':_0x29428f}))),_0x161472[_0x142c63(0x3d4)]>0x0&&await this[_0x142c63(0x7ae)][_0x142c63(0x66d)]['insertMany'](_0x161472,this[_0x142c63(0x6e8)][_0x142c63(0x64c)]),{'updated':_0x184668['length'],'inserted':_0x161472[_0x142c63(0x3d4)]};}catch(_0x1bbd97){let _0x761898=_0x142c63(0x402),_0x833f3d=_0x1bbd97 instanceof Error?_0x1bbd97['message']:typeof _0x1bbd97==_0x142c63(0x3f1)?JSON[_0x142c63(0x66f)](_0x1bbd97):_0x1bbd97,_0x18e621=_0x761898+':\x20'+_0x833f3d;throw this[_0x142c63(0x379)][_0x142c63(0x8d2)](this[_0x142c63(0x88a)]+'\x20('+this['instance'][_0x142c63(0x64c)]+_0x142c63(0x280)+_0x18e621),new m(_0x18e621);}}async['importChats'](_0x3c8cdb){const _0x5f2db2=a0_0x466431;try{if(!Array[_0x5f2db2(0x27b)](_0x3c8cdb)||_0x3c8cdb[_0x5f2db2(0x3d4)]===0x0)throw new Error(_0x5f2db2(0x3fe));let _0x10d930=0x64,_0x4a448d=0x0;for(let _0x5c1f85=0x0;_0x5c1f85<_0x3c8cdb[_0x5f2db2(0x3d4)];_0x5c1f85+=_0x10d930){let _0x3d975e=_0x3c8cdb['slice'](_0x5c1f85,_0x5c1f85+_0x10d930),{updated:_0x2b0010}=await this['importChatsBatch'](_0x3d975e);_0x4a448d+=_0x2b0010;}return{'updated':_0x4a448d};}catch(_0x43545c){let _0x33f71d=_0x5f2db2(0x402),_0x282ab7=_0x43545c instanceof Error?_0x43545c[_0x5f2db2(0x36a)]:typeof _0x43545c==_0x5f2db2(0x3f1)?JSON[_0x5f2db2(0x66f)](_0x43545c):_0x43545c,_0x57d896=_0x33f71d+':\x20'+_0x282ab7;throw this[_0x5f2db2(0x379)]['error'](this[_0x5f2db2(0x88a)]+'\x20('+this[_0x5f2db2(0x6e8)][_0x5f2db2(0x64c)]+'):\x20'+_0x57d896),new m(_0x57d896);}}async[a0_0x466431(0x445)](_0x3f465e){const _0x3a2ea6=a0_0x466431;try{let _0x423f5d=await this[_0x3a2ea6(0x7ae)][_0x3a2ea6(0x8be)][_0x3a2ea6(0x5a4)]({'where':{}},this['instance'][_0x3a2ea6(0x64c)]),_0x37fdd1=new Set(_0x423f5d['map'](_0x2caefa=>_0x2caefa['_id'])),_0x2feca0=[],_0x30da5b=[];for(let _0x307458 of _0x3f465e){if(!_0x307458['_id'])continue;_0x307458['_id']=this['createJid'](_0x307458[_0x3a2ea6(0x209)]);let _0x37f7c9=await this[_0x3a2ea6(0x7ae)][_0x3a2ea6(0x66d)]['findOne']({'where':{'_id':_0x307458['_id']}},this[_0x3a2ea6(0x6e8)]['wuid']),_0x5355ca={};if(Object[_0x3a2ea6(0x3b3)](_0x307458['leadInfo'])[_0x3a2ea6(0x4fe)](([_0x20a175,_0xc98471])=>{const _0x220bfe=_0x3a2ea6;_0x5355ca[_0x220bfe(0x21b)+_0x20a175]=_0xc98471;}),_0x37f7c9&&!_0x37f7c9[_0x3a2ea6(0x491)]){let _0x25deab=(_0x307458['leadInfo']['etiquetas']||[])[_0x3a2ea6(0x189)](_0x4a812a=>_0x37fdd1[_0x3a2ea6(0x428)](_0x4a812a)),_0x587625=new Set(_0x37f7c9['leadInfo'][_0x3a2ea6(0x1ca)]||[]),_0x132a0e=_0x25deab[_0x3a2ea6(0x189)](_0x29a9ed=>!_0x587625['has'](_0x29a9ed)),_0x397296=[..._0x587625]['filter'](_0x150437=>!_0x25deab[_0x3a2ea6(0x6f2)](_0x150437));_0x30da5b['push'](..._0x132a0e[_0x3a2ea6(0x1e8)](_0x113e21=>this[_0x3a2ea6(0x45e)](_0x113e21,_0x307458[_0x3a2ea6(0x209)]))),_0x30da5b[_0x3a2ea6(0x543)](..._0x397296['map'](_0x94d2ee=>this[_0x3a2ea6(0x6ee)](_0x94d2ee,_0x307458[_0x3a2ea6(0x209)]))),_0x307458['leadInfo'][_0x3a2ea6(0x1ca)]=_0x25deab,_0x2feca0[_0x3a2ea6(0x543)]({'query':{'where':{'_id':_0x307458['_id'],'owner':this[_0x3a2ea6(0x6e8)]['wuid']}},'update':_0x5355ca});}else _0x5355ca[_0x3a2ea6(0x491)]=!0x0,_0x2feca0[_0x3a2ea6(0x543)]({'query':{'where':{'_id':_0x307458[_0x3a2ea6(0x209)],'owner':this['instance'][_0x3a2ea6(0x64c)]}},'update':_0x5355ca});}let _0x4bc233=await this[_0x3a2ea6(0x7ae)][_0x3a2ea6(0x66d)][_0x3a2ea6(0x555)](_0x2feca0);return await Promise['all'](_0x30da5b),{'updated':_0x4bc233};}catch(_0x517507){let _0x1b0858=_0x3a2ea6(0x402),_0x4c2788=_0x517507 instanceof Error?_0x517507['message']:typeof _0x517507=='object'?JSON[_0x3a2ea6(0x66f)](_0x517507):_0x517507,_0xda0006=_0x1b0858+':\x20'+_0x4c2788;throw this[_0x3a2ea6(0x379)][_0x3a2ea6(0x8d2)](this[_0x3a2ea6(0x88a)]+'\x20('+this['instance'][_0x3a2ea6(0x64c)]+'):\x20'+_0xda0006),new m(_0xda0006);}}async['fetchPrivacySettings'](){const _0xdde3db=a0_0x466431;return await this[_0xdde3db(0x5a1)][_0xdde3db(0x3bf)]();}async['updatePrivacySettings'](_0x5a34e8){const _0x3935de=a0_0x466431;try{return await this['client']['updateReadReceiptsPrivacy'](_0x5a34e8[_0x3935de(0x32a)][_0x3935de(0x31b)]),await this[_0x3935de(0x5a1)][_0x3935de(0x69d)](_0x5a34e8[_0x3935de(0x32a)][_0x3935de(0x7a2)]),await this[_0x3935de(0x5a1)][_0x3935de(0x333)](_0x5a34e8['privacySettings']['status']),await this[_0x3935de(0x5a1)][_0x3935de(0x201)](_0x5a34e8[_0x3935de(0x32a)][_0x3935de(0x727)]),await this[_0x3935de(0x5a1)][_0x3935de(0x6a0)](_0x5a34e8[_0x3935de(0x32a)][_0x3935de(0x807)]),await this[_0x3935de(0x5a1)]['updateGroupsAddPrivacy'](_0x5a34e8[_0x3935de(0x32a)][_0x3935de(0x6c0)]),this[_0x3935de(0x5a1)]?.['ws']?.[_0x3935de(0x8e8)](),{'update':_0x3935de(0x4f7),'data':{'readreceipts':_0x5a34e8[_0x3935de(0x32a)][_0x3935de(0x31b)],'profile':_0x5a34e8[_0x3935de(0x32a)][_0x3935de(0x7a2)],'status':_0x5a34e8['privacySettings']['status'],'online':_0x5a34e8['privacySettings'][_0x3935de(0x727)],'last':_0x5a34e8[_0x3935de(0x32a)][_0x3935de(0x807)],'groupadd':_0x5a34e8[_0x3935de(0x32a)][_0x3935de(0x6c0)]}};}catch(_0x50d669){let _0x2d0b18=_0x3935de(0x583),_0x387f61=_0x50d669 instanceof Error?_0x50d669[_0x3935de(0x36a)]:typeof _0x50d669==_0x3935de(0x3f1)?JSON['stringify'](_0x50d669):_0x50d669,_0xb34b3b=_0x2d0b18+':\x20'+_0x387f61;throw this[_0x3935de(0x379)][_0x3935de(0x8d2)](this[_0x3935de(0x88a)]+'\x20('+this['instance'][_0x3935de(0x64c)]+'):\x20'+_0xb34b3b),new m(_0xb34b3b);}}async[a0_0x466431(0x1ed)](_0xe01612){const _0x33427b=a0_0x466431;let _0x16a93e=(_0xe01612?this['createJid'](_0xe01612):this['client']?.[_0x33427b(0x4da)]?.['id'])[_0x33427b(0x783)](/:\d{1,2}@/g,'@');this[_0x33427b(0x379)][_0x33427b(0x704)](this[_0x33427b(0x88a)]+'\x20('+this[_0x33427b(0x6e8)][_0x33427b(0x64c)]+_0x33427b(0x8e7)+_0x16a93e);let _0x3920ac=await this['repository'][_0x33427b(0x466)][_0x33427b(0x2c9)]({'where':{'_id':_0x16a93e}},this['instance'][_0x33427b(0x64c)]),_0x263688=_0x3920ac?_0x3920ac[_0x33427b(0x2f5)]:null;try{let _0x5071ab=(await this[_0x33427b(0x52b)]({'numbers':[_0x16a93e]}))?.[_0x33427b(0x46c)](),_0x18de75=(await this[_0x33427b(0x621)](_0x16a93e,null,!0x1))[_0x33427b(0x7e0)][_0x33427b(0x270)],_0x36c15d=await this[_0x33427b(0x76c)](_0x5071ab?.[_0x33427b(0x6dc)]),_0x5b7e72=await this[_0x33427b(0x36f)](_0x5071ab?.['jid']),_0x4be88c=(await this[_0x33427b(0x621)](_0x16a93e,null,!0x1))['cachedContact']['name'],_0x3fa490=await this[_0x33427b(0x7ae)]['chat'][_0x33427b(0x2c9)]({'where':{'_id':_0x16a93e}},this[_0x33427b(0x6e8)][_0x33427b(0x64c)]),_0x393f93={'imagechat':_0x18de75,'contactname':_0x263688||null,'pushName':_0x4be88c,'status':_0x36c15d?.['status'],'isBusiness':_0x5b7e72[_0x33427b(0x677)],'email':_0x5b7e72?.[_0x33427b(0x7a4)],'description':_0x5b7e72?.[_0x33427b(0x34b)],'website':_0x5b7e72?.[_0x33427b(0x4b6)]?.[_0x33427b(0x46c)](),'lastcache':Date[_0x33427b(0x283)](),'imported':!_0x3fa490},_0x24d384=await this[_0x33427b(0x7ae)]['chat'][_0x33427b(0x86c)]({'where':{'_id':_0x16a93e}},_0x393f93,this[_0x33427b(0x6e8)]['wuid']),_0x295433={'owner':this['instance'][_0x33427b(0x64c)],'_id':_0x16a93e,'profilePictureUrl':_0x18de75,'status':_0x36c15d?.['status']};return this[_0x33427b(0x7ae)][_0x33427b(0x466)]['update']([_0x295433],this['instance'][_0x33427b(0x64c)]),_0x24d384&&F(this['instanceName'],_0x33427b(0x45d),{'chat':_0x24d384}),{'wuid':_0x5071ab?.[_0x33427b(0x6dc)]||_0x16a93e,'name':_0x5071ab?.['name'],'pushName':_0x4be88c,'numberExists':_0x5071ab?.[_0x33427b(0x7b4)],'picture':_0x18de75,'status':_0x36c15d?.[_0x33427b(0x309)],'isBusiness':_0x5b7e72[_0x33427b(0x677)],'email':_0x5b7e72?.[_0x33427b(0x7a4)],'description':_0x5b7e72?.[_0x33427b(0x34b)],'website':_0x5b7e72?.[_0x33427b(0x4b6)]?.[_0x33427b(0x46c)]()};}catch(_0x93c6e8){return this[_0x33427b(0x379)][_0x33427b(0x8d2)](_0x33427b(0x761)+(_0x93c6e8 instanceof Error?_0x93c6e8[_0x33427b(0x36a)]:JSON[_0x33427b(0x66f)](_0x93c6e8,null,0x2))),{};}}async['fetchBusinessProfile'](_0x1b1aa0){const _0x46ff03=a0_0x466431;this['logger'][_0x46ff03(0x704)](this['instanceName']+'\x20('+this[_0x46ff03(0x6e8)]['wuid']+'):Fetching\x20business\x20profile');try{let _0xa049a4=_0x1b1aa0?this[_0x46ff03(0x866)](_0x1b1aa0):this[_0x46ff03(0x6e8)][_0x46ff03(0x64c)],_0xb44314=await this[_0x46ff03(0x5a1)][_0x46ff03(0x71f)](_0xa049a4);return this['logger'][_0x46ff03(0x704)](this['instanceName']+'\x20('+this[_0x46ff03(0x6e8)]['wuid']+_0x46ff03(0x870)),_0xb44314?(this[_0x46ff03(0x379)][_0x46ff03(0x704)](this['instanceName']+'\x20('+this['instance'][_0x46ff03(0x64c)]+'):Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0xb44314}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this['whatsappNumber']({'numbers':[_0xa049a4]}))?.['shift']()};}catch(_0x1a21df){let _0x3b1135=_0x46ff03(0x7b3),_0x10e3b7=_0x1a21df instanceof Error?_0x1a21df[_0x46ff03(0x36a)]:typeof _0x1a21df==_0x46ff03(0x3f1)?JSON[_0x46ff03(0x66f)](_0x1a21df):_0x1a21df,_0x170b6d=_0x3b1135+':\x20'+_0x10e3b7;throw this['logger']['error'](this[_0x46ff03(0x88a)]+'\x20('+this[_0x46ff03(0x6e8)]['wuid']+'):\x20'+_0x170b6d),new x(_0x170b6d);}}async[a0_0x466431(0x76c)](_0x132381){const _0x2c7638=a0_0x466431;let _0x3a281f=this['createJid'](_0x132381);try{return{'wuid':_0x3a281f,'status':(await this[_0x2c7638(0x5a1)][_0x2c7638(0x4b1)](_0x3a281f))[0x0]?.['status']};}catch{return{'wuid':_0x3a281f,'status':null};}}async[a0_0x466431(0x46b)](_0xde46d9){const _0x5368a2=a0_0x466431;try{return await this[_0x5368a2(0x5a1)][_0x5368a2(0x46b)](_0xde46d9),{'update':_0x5368a2(0x4f7)};}catch(_0x3a9803){let _0x42ce5e=_0x5368a2(0x298),_0x1f8c61=_0x3a9803 instanceof Error?_0x3a9803[_0x5368a2(0x36a)]:typeof _0x3a9803==_0x5368a2(0x3f1)?JSON[_0x5368a2(0x66f)](_0x3a9803):_0x3a9803,_0x62a16c=_0x42ce5e+':\x20'+_0x1f8c61;throw this['logger']['error'](this[_0x5368a2(0x88a)]+'\x20('+this[_0x5368a2(0x6e8)]['wuid']+_0x5368a2(0x280)+_0x62a16c),new x(_0x62a16c);}}async['updateProfileStatus'](_0x2d5d34){const _0x253986=a0_0x466431;try{return await this[_0x253986(0x5a1)][_0x253986(0x435)](_0x2d5d34),{'update':'success'};}catch(_0x26cd35){let _0x2e4172=_0x253986(0x8ad),_0x27d18f=_0x26cd35 instanceof Error?_0x26cd35[_0x253986(0x36a)]:typeof _0x26cd35=='object'?JSON[_0x253986(0x66f)](_0x26cd35):_0x26cd35,_0x124cf6=_0x2e4172+':\x20'+_0x27d18f;throw this[_0x253986(0x379)][_0x253986(0x8d2)](this[_0x253986(0x88a)]+'\x20('+this[_0x253986(0x6e8)][_0x253986(0x64c)]+_0x253986(0x280)+_0x124cf6),new x(_0x124cf6);}}async[a0_0x466431(0x396)](_0x1e031c){const _0x5513c3=a0_0x466431;try{let _0x93c895;if((0x0,J[_0x5513c3(0x627)])(_0x1e031c)){let _0x1ba868=new Date()['getTime'](),_0x3f47c0=_0x1e031c+'?timestamp='+_0x1ba868;_0x93c895=(await K['default'][_0x5513c3(0x438)](_0x3f47c0,{'responseType':'arraybuffer'}))[_0x5513c3(0x4a7)];}else{if((0x0,J[_0x5513c3(0x803)])(_0x1e031c))_0x93c895=Buffer['from'](_0x1e031c,'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x5513c3(0x5a1)][_0x5513c3(0x396)](this[_0x5513c3(0x6e8)][_0x5513c3(0x64c)],_0x93c895),{'update':_0x5513c3(0x4f7)};}catch(_0x38a573){let _0x10a38f=_0x5513c3(0x285),_0x85e51a=_0x38a573 instanceof Error?_0x38a573[_0x5513c3(0x36a)]:typeof _0x38a573==_0x5513c3(0x3f1)?JSON[_0x5513c3(0x66f)](_0x38a573):_0x38a573,_0x1beacf=_0x10a38f+':\x20'+_0x85e51a;throw this[_0x5513c3(0x379)][_0x5513c3(0x8d2)](this[_0x5513c3(0x88a)]+'\x20('+this['instance'][_0x5513c3(0x64c)]+_0x5513c3(0x280)+_0x1beacf),new x(_0x1beacf);}}async['removeProfilePicture'](){const _0xa439e5=a0_0x466431;try{return await this[_0xa439e5(0x5a1)][_0xa439e5(0x648)](this[_0xa439e5(0x6e8)][_0xa439e5(0x64c)]),{'update':_0xa439e5(0x4f7)};}catch(_0x24b0c0){let _0x44e4e5=_0xa439e5(0x601),_0x3041a6=_0x24b0c0 instanceof Error?_0x24b0c0[_0xa439e5(0x36a)]:typeof _0x24b0c0=='object'?JSON['stringify'](_0x24b0c0):_0x24b0c0,_0x49c556=_0x44e4e5+':\x20'+_0x3041a6;throw this[_0xa439e5(0x379)][_0xa439e5(0x8d2)](this[_0xa439e5(0x88a)]+'\x20('+this['instance'][_0xa439e5(0x64c)]+_0xa439e5(0x280)+_0x49c556),new x(_0x49c556);}}async[a0_0x466431(0x3ee)](_0x143e63){const _0x107adb=a0_0x466431;try{let _0x226453=(await this[_0x107adb(0x52b)]({'numbers':_0x143e63[_0x107adb(0x765)]}))[_0x107adb(0x189)](_0x4d2fc2=>_0x4d2fc2['exists'])[_0x107adb(0x1e8)](_0x1b2175=>_0x1b2175['jid']),{id:_0x2cc9eb}=await this[_0x107adb(0x5a1)][_0x107adb(0x6fd)](_0x143e63[_0x107adb(0x408)],_0x226453);_0x143e63?.[_0x107adb(0x34b)]&&await this[_0x107adb(0x5a1)][_0x107adb(0x2e4)](_0x2cc9eb,_0x143e63[_0x107adb(0x34b)]);let _0x192dbf=await this['client'][_0x107adb(0x8f8)](_0x2cc9eb);return _0x192dbf[_0x107adb(0x6cf)]=[],await this[_0x107adb(0x568)](_0x192dbf),{'metadata':_0x192dbf};}catch(_0x2045b4){let _0x5c41ab='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x49b687=_0x2045b4 instanceof Error?_0x2045b4[_0x107adb(0x36a)]:typeof _0x2045b4==_0x107adb(0x3f1)?JSON[_0x107adb(0x66f)](_0x2045b4):_0x2045b4,_0x1d4661=_0x5c41ab+':\x20'+_0x49b687;throw this[_0x107adb(0x379)]['error'](this['instanceName']+'\x20('+this[_0x107adb(0x6e8)][_0x107adb(0x64c)]+_0x107adb(0x280)+_0x1d4661),new x(_0x1d4661);}}async['groupBetterSetting'](_0x25ac8f){const _0x5d75ed=a0_0x466431;try{if(_0x25ac8f[_0x5d75ed(0x31a)]===!0x0&&await this[_0x5d75ed(0x5a1)][_0x5d75ed(0x73d)](_0x25ac8f['groupJid'],_0x5d75ed(0x238)),_0x25ac8f['restrict']===!0x1&&await this[_0x5d75ed(0x5a1)][_0x5d75ed(0x73d)](_0x25ac8f['groupJid'],'unlocked'),_0x25ac8f[_0x5d75ed(0x1d5)]===!0x0&&await this['client'][_0x5d75ed(0x73d)](_0x25ac8f[_0x5d75ed(0x8ec)],'announcement'),_0x25ac8f[_0x5d75ed(0x1d5)]===!0x1&&await this[_0x5d75ed(0x5a1)][_0x5d75ed(0x73d)](_0x25ac8f[_0x5d75ed(0x8ec)],_0x5d75ed(0x8a0)),_0x25ac8f[_0x5d75ed(0x45a)]===!0x0&&await this[_0x5d75ed(0x5a1)][_0x5d75ed(0x672)](_0x25ac8f['groupJid'],'all_member_add'),_0x25ac8f['memberAddMode']===!0x1&&await this[_0x5d75ed(0x5a1)][_0x5d75ed(0x672)](_0x25ac8f['groupJid'],_0x5d75ed(0x73b)),_0x25ac8f[_0x5d75ed(0x4e8)]===!0x0&&await this[_0x5d75ed(0x5a1)][_0x5d75ed(0x3fa)](_0x25ac8f[_0x5d75ed(0x8ec)],'on'),_0x25ac8f['joinApprovalMode']===!0x1&&await this[_0x5d75ed(0x5a1)][_0x5d75ed(0x3fa)](_0x25ac8f[_0x5d75ed(0x8ec)],_0x5d75ed(0x775)),typeof _0x25ac8f['expiration']<'u'&&_0x25ac8f[_0x5d75ed(0x85f)]!==null&&await this['client']['groupToggleEphemeral'](_0x25ac8f['groupJid'],_0x25ac8f[_0x5d75ed(0x85f)]),_0x25ac8f[_0x5d75ed(0x8d9)]&&await this[_0x5d75ed(0x5a1)][_0x5d75ed(0x8b5)](_0x25ac8f['groupJid'],_0x25ac8f['name']),_0x25ac8f[_0x5d75ed(0x34b)]&&await this['client'][_0x5d75ed(0x2e4)](_0x25ac8f[_0x5d75ed(0x8ec)],_0x25ac8f[_0x5d75ed(0x34b)]),_0x25ac8f[_0x5d75ed(0x615)]){let _0x21de1d;if((0x0,J[_0x5d75ed(0x627)])(_0x25ac8f[_0x5d75ed(0x615)])){let _0x506cfb=new Date()[_0x5d75ed(0x50a)](),_0x1a3e15=_0x25ac8f[_0x5d75ed(0x615)]+_0x5d75ed(0x572)+_0x506cfb;_0x21de1d=(await K['default'][_0x5d75ed(0x438)](_0x1a3e15,{'responseType':_0x5d75ed(0x303)}))['data'];}else{if((0x0,J['isBase64'])(_0x25ac8f['image']))_0x21de1d=Buffer['from'](_0x25ac8f['image'],_0x5d75ed(0x907));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}await this[_0x5d75ed(0x5a1)][_0x5d75ed(0x396)](_0x25ac8f['groupJid'],_0x21de1d);}return await this[_0x5d75ed(0x3ca)]({'groupJid':_0x25ac8f[_0x5d75ed(0x8ec)]});}catch(_0xe21b90){let _0x63d016=_0x5d75ed(0x2a6),_0xf76eb6=_0xe21b90 instanceof Error?_0xe21b90[_0x5d75ed(0x36a)]:typeof _0xe21b90==_0x5d75ed(0x3f1)?JSON['stringify'](_0xe21b90):_0xe21b90,_0x4ef8eb=_0x63d016+':\x20'+_0xf76eb6;throw this[_0x5d75ed(0x379)][_0x5d75ed(0x8d2)](this[_0x5d75ed(0x88a)]+'\x20('+this[_0x5d75ed(0x6e8)][_0x5d75ed(0x64c)]+_0x5d75ed(0x280)+_0x4ef8eb),new x(_0x4ef8eb);}}async[a0_0x466431(0x676)](_0x4d4fae){const _0x3a0e29=a0_0x466431;try{let _0x1fb7c4=_0x4d4fae[_0x3a0e29(0x765)]['map'](_0x262fd4=>this[_0x3a0e29(0x866)](_0x262fd4));if(_0x4d4fae[_0x3a0e29(0x348)]===_0x3a0e29(0x215)||_0x4d4fae[_0x3a0e29(0x348)]==='reject')await this['client'][_0x3a0e29(0x2ef)](_0x4d4fae[_0x3a0e29(0x8ec)],_0x1fb7c4,_0x4d4fae[_0x3a0e29(0x348)]);else{if(_0x4d4fae[_0x3a0e29(0x348)]===_0x3a0e29(0x83c)){let _0x45af0e=(await this[_0x3a0e29(0x52b)]({'numbers':_0x4d4fae[_0x3a0e29(0x765)]}))[_0x3a0e29(0x189)](_0x5d7535=>_0x5d7535[_0x3a0e29(0x7b4)])[_0x3a0e29(0x1e8)](_0x1665e1=>this[_0x3a0e29(0x866)](_0x1665e1[_0x3a0e29(0x6dc)]));if(_0x45af0e[_0x3a0e29(0x3d4)]===0x0)throw new m('Nenhum\x20participante\x20válido\x20encontrado.');await this[_0x3a0e29(0x5a1)][_0x3a0e29(0x18a)](_0x4d4fae[_0x3a0e29(0x8ec)],_0x45af0e,_0x3a0e29(0x83c));}else await this[_0x3a0e29(0x5a1)][_0x3a0e29(0x18a)](_0x4d4fae[_0x3a0e29(0x8ec)],_0x1fb7c4,_0x4d4fae['action']);}return await this['findGroup']({'groupJid':_0x4d4fae[_0x3a0e29(0x8ec)]});}catch(_0x585bfd){let _0x1e5451=_0x3a0e29(0x7e9),_0x42cfc7=_0x585bfd instanceof Error?_0x585bfd[_0x3a0e29(0x36a)]:typeof _0x585bfd==_0x3a0e29(0x3f1)?JSON[_0x3a0e29(0x66f)](_0x585bfd):_0x585bfd,_0x3093f0=_0x1e5451+':\x20'+_0x42cfc7;throw this[_0x3a0e29(0x379)][_0x3a0e29(0x8d2)](this['instanceName']+'\x20('+this[_0x3a0e29(0x6e8)][_0x3a0e29(0x64c)]+'):\x20'+_0x3093f0),new m(_0x3093f0);}}async[a0_0x466431(0x5c3)](_0xfa9279){const _0x1f4b80=a0_0x466431;try{return await this['client']['groupGetInviteInfo'](_0xfa9279[_0x1f4b80(0x249)]);}catch(_0x2034e9){let _0x2d2783=_0x1f4b80(0x2c7),_0x2b8149=_0x2034e9 instanceof Error?_0x2034e9[_0x1f4b80(0x36a)]:typeof _0x2034e9==_0x1f4b80(0x3f1)?JSON[_0x1f4b80(0x66f)](_0x2034e9):_0x2034e9,_0x4f519b=_0x2d2783+':\x20'+_0x2b8149;throw this[_0x1f4b80(0x379)][_0x1f4b80(0x8d2)](this[_0x1f4b80(0x88a)]+'\x20('+this[_0x1f4b80(0x6e8)][_0x1f4b80(0x64c)]+_0x1f4b80(0x280)+_0x4f519b),new m(_0x4f519b);}}async[a0_0x466431(0x3ca)](_0xa8e66a,_0x1be5db=a0_0x466431(0x206)){const _0x1904d5=a0_0x466431;try{let _0x5a01bf=await this[_0x1904d5(0x7ae)]['chat'][_0x1904d5(0x2c9)]({'where':{'_id':_0xa8e66a['groupJid']}},this['instance'][_0x1904d5(0x64c)]),_0x6c725a=_0x5a01bf?_0x5a01bf['groupdata']:null,_0xa17277=0x18*0x3c*0x3c*0x3e8;if(!_0x6c725a||_0x6c725a[_0x1904d5(0x1e5)]&&Date[_0x1904d5(0x283)]()-_0x6c725a['lastUpdate']>_0xa17277){let _0x5d8b2c=await this[_0x1904d5(0x5a1)][_0x1904d5(0x8f8)](_0xa8e66a[_0x1904d5(0x8ec)]);if(_0x5d8b2c[_0x1904d5(0x1bd)]=_0x5d8b2c?.['subjectTime']&&_0x5d8b2c[_0x1904d5(0x1bd)][_0x1904d5(0x1d0)]()['length']<0xd?_0x5d8b2c?.[_0x1904d5(0x1bd)]*0x3e8:_0x5d8b2c?.[_0x1904d5(0x1bd)]||null,_0x5d8b2c[_0x1904d5(0x240)]=_0x5d8b2c?.['creation']&&_0x5d8b2c[_0x1904d5(0x240)][_0x1904d5(0x1d0)]()[_0x1904d5(0x3d4)]<0xd?_0x5d8b2c?.[_0x1904d5(0x240)]*0x3e8:_0x5d8b2c?.[_0x1904d5(0x240)]||null,_0x6c725a={..._0x5d8b2c,'lastUpdate':Date['now']()},!_0x5d8b2c)return;}let _0x4345ea=_0x6c725a[_0x1904d5(0x765)]?.[_0x1904d5(0x3fb)](_0x116d26=>_0x116d26['id']===this[_0x1904d5(0x6e8)][_0x1904d5(0x64c)]+'@s.whatsapp.net'&&_0x116d26[_0x1904d5(0x5cb)]!=null)||!0x1;!_0x6c725a[_0x1904d5(0x249)]&&_0x4345ea&&(_0x6c725a['inviteCode']=(await this[_0x1904d5(0x249)](_0xa8e66a,!0x1))[_0x1904d5(0x4be)]);let _0x25b83e=(!_0x6c725a[_0x1904d5(0x1d5)]||_0x4345ea)&&(!_0x6c725a[_0x1904d5(0x64d)]||_0x4345ea);_0x6c725a[_0x1904d5(0x198)]=_0x4345ea,_0x6c725a['canSendMessage']=_0x25b83e;let _0x13c847=[];if(_0x4345ea&&_0x6c725a[_0x1904d5(0x4e8)])try{_0x13c847=await this[_0x1904d5(0x5a1)]['groupRequestParticipantsList'](_0xa8e66a[_0x1904d5(0x8ec)]),_0x6c725a[_0x1904d5(0x46f)]=Date[_0x1904d5(0x283)]();}catch(_0x33c309){this['logger']['verbose'](this[_0x1904d5(0x88a)]+'\x20('+this[_0x1904d5(0x6e8)][_0x1904d5(0x64c)]+_0x1904d5(0x7c8)+_0xa8e66a[_0x1904d5(0x8ec)]+':\x20'+(_0x33c309 instanceof Error?_0x33c309[_0x1904d5(0x36a)]:JSON[_0x1904d5(0x66f)](_0x33c309,null,0x2)));}try{_0x6c725a['image']=(await this[_0x1904d5(0x621)](_0xa8e66a['groupJid'],null,!0x0))[_0x1904d5(0x7e0)][_0x1904d5(0x270)];}catch(_0x765f83){this[_0x1904d5(0x379)][_0x1904d5(0x704)](this[_0x1904d5(0x88a)]+'\x20('+this[_0x1904d5(0x6e8)][_0x1904d5(0x64c)]+_0x1904d5(0x29a)+_0xa8e66a[_0x1904d5(0x8ec)]+':\x20'+(_0x765f83 instanceof Error?_0x765f83[_0x1904d5(0x36a)]:JSON['stringify'](_0x765f83,null,0x2)));}let _0x57d4fb=_0x6c725a['participants'][_0x1904d5(0x1e8)](_0x3ef2eb=>_0x3ef2eb['id']),_0x49f80d=_0x13c847[_0x1904d5(0x1e8)](_0x44a6ab=>_0x44a6ab['jid']),_0x4262a8=await this[_0x1904d5(0x7ae)][_0x1904d5(0x286)][_0x1904d5(0x3b6)]([..._0x57d4fb,..._0x49f80d]);_0x6c725a['participants']=_0x6c725a[_0x1904d5(0x765)][_0x1904d5(0x1e8)](_0x226f48=>{const _0x168700=_0x1904d5;let _0x3a8acd=_0x4262a8[_0x168700(0x5a4)](_0x1d3ac8=>_0x1d3ac8['_id']===_0x226f48['id']);return{'id':_0x226f48['id'],'isAdmin':[_0x168700(0x5cb),_0x168700(0x810)][_0x168700(0x6f2)](_0x226f48[_0x168700(0x5cb)]),'admin':_0x226f48[_0x168700(0x5cb)],'pushName':_0x3a8acd?.[_0x168700(0x8d9)],'profilePictureUrl':_0x3a8acd?.['pictureUrl']};}),_0x6c725a['awaitingApproval']=_0x13c847[_0x1904d5(0x1e8)](_0x3d53de=>{const _0x29df65=_0x1904d5;let _0x3b7293=_0x4262a8[_0x29df65(0x5a4)](_0x1d82a3=>_0x1d82a3['_id']===_0x3d53de[_0x29df65(0x6dc)]);return{'id':_0x3d53de[_0x29df65(0x6dc)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x3b7293?.[_0x29df65(0x8d9)],'profilePictureUrl':_0x3b7293?.[_0x29df65(0x270)],'request_method':_0x3d53de['request_method'],'request_time':_0x3d53de[_0x29df65(0x80d)]};});let _0x3e7f35=await this[_0x1904d5(0x7ae)]['chat']['updateOne']({'where':{'_id':_0xa8e66a['groupJid']}},{'imagechat':_0x6c725a[_0x1904d5(0x615)],'name':_0x6c725a[_0x1904d5(0x408)],'lastcache':Date['now'](),'groupdata':_0x6c725a},this[_0x1904d5(0x6e8)][_0x1904d5(0x64c)]);return F(this['instanceName'],_0x1904d5(0x45d),{'chat':_0x3e7f35}),{'metadata':_0x6c725a};}catch(_0x2f7f17){if(_0x1be5db===_0x1904d5(0x8fc))return;throw new U('Error\x20fetching\x20group',_0x2f7f17[_0x1904d5(0x36a)][_0x1904d5(0x1d0)]());}}async[a0_0x466431(0x311)](){const _0x37d500=a0_0x466431;try{this[_0x37d500(0x379)][_0x37d500(0x6c6)]('Retornando\x20grupos\x20COM\x20cache');let _0x461838=Date['now'](),_0x1c0edf=0x3*0x3c*0x3c*0x3e8;return _0x461838-this[_0x37d500(0x6bb)]>_0x1c0edf&&(this[_0x37d500(0x86d)](),this[_0x37d500(0x6bb)]=_0x461838),(await this[_0x37d500(0x7ae)][_0x37d500(0x66d)]['findGroupsEspecial']({'where':{'group':!0x0}},this[_0x37d500(0x6e8)]['wuid']))[_0x37d500(0x1e8)](_0x2fcbb9=>({..._0x2fcbb9[_0x37d500(0x371)],'groupJid':_0x2fcbb9?.[_0x37d500(0x209)],'participants':_0x2fcbb9?.[_0x37d500(0x371)]?.[_0x37d500(0x765)]||[],'awaitingApproval':_0x2fcbb9?.[_0x37d500(0x371)]?.[_0x37d500(0x6cf)]||[],'image':_0x2fcbb9?.['imagechat']}));}catch(_0xb79138){let _0x324bc3='Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',_0x4c9471=_0xb79138 instanceof Error?_0xb79138[_0x37d500(0x36a)]:typeof _0xb79138==_0x37d500(0x3f1)?JSON['stringify'](_0xb79138):_0xb79138,_0x53c508=_0x324bc3+':\x20'+_0x4c9471;throw this['logger']['error'](this[_0x37d500(0x88a)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x53c508),new U(_0x53c508);}}async['findRealGroups'](){const _0x373dfb=a0_0x466431;try{this[_0x373dfb(0x379)][_0x373dfb(0x6c6)]('Retornando\x20grupos\x20SEM\x20cache');let _0x22dd7a=[],_0x5c5236=await this['client'][_0x373dfb(0x390)](),_0x1f3a51=Object[_0x373dfb(0x66a)](_0x5c5236);for(let _0x35d528=0x0;_0x35d528<_0x1f3a51['length'];_0x35d528++){let _0x2476fc=_0x1f3a51[_0x35d528];(0x0,w['isJidGroup'])(_0x2476fc?.['id'])&&(_0x22dd7a['push']({'groupJid':_0x2476fc?.['id'],'subject':_0x2476fc?.[_0x373dfb(0x408)],'subjectOwner':_0x2476fc?.['subjectOwner']?.[_0x373dfb(0x38b)]('@')[0x0],'subjectTime':_0x2476fc?.[_0x373dfb(0x1bd)],'creation':_0x2476fc?.['creation'],'size':_0x2476fc?.[_0x373dfb(0x765)]?.[_0x373dfb(0x3d4)],'owner':_0x2476fc?.['owner']?.[_0x373dfb(0x38b)]('@')[0x0],'desc':_0x2476fc?.[_0x373dfb(0x3d0)],'restrict':_0x2476fc?.[_0x373dfb(0x31a)],'announce':_0x2476fc?.[_0x373dfb(0x1d5)],'image':null,'isCommunity':_0x2476fc?.[_0x373dfb(0x64d)],'joinApprovalMode':_0x2476fc?.[_0x373dfb(0x4e8)],'memberCanAddParticipant':_0x2476fc?.[_0x373dfb(0x45a)],'participants':_0x2476fc?.[_0x373dfb(0x765)],'descOwner':_0x2476fc?.[_0x373dfb(0x2da)],'descId':_0x2476fc?.[_0x373dfb(0x8f6)],'memberAddMode':_0x2476fc?.[_0x373dfb(0x45a)],'isCommunityAnnounce':_0x2476fc?.[_0x373dfb(0x3a5)],'ephemeralDuration':_0x2476fc?.[_0x373dfb(0x5c7)]||0x0,'author':_0x2476fc?.['author']}),this[_0x373dfb(0x568)](_0x1f3a51[_0x35d528]));}return _0x22dd7a;}catch(_0x3f66a0){let _0x2fe4f2=_0x373dfb(0x590),_0x46071d=_0x3f66a0 instanceof Error?_0x3f66a0[_0x373dfb(0x36a)]:typeof _0x3f66a0==_0x373dfb(0x3f1)?JSON['stringify'](_0x3f66a0):_0x3f66a0,_0x14d6bb=_0x2fe4f2+':\x20'+_0x46071d;throw this['logger'][_0x373dfb(0x8d2)](this[_0x373dfb(0x88a)]+'\x20('+this[_0x373dfb(0x6e8)][_0x373dfb(0x64c)]+'):\x20'+_0x14d6bb),new U(_0x14d6bb);}}async['updateChatGroupData'](_0x3ec5f3){const _0x494800=a0_0x466431;let _0x3eaaa2=await this[_0x494800(0x7ae)]['chat']['findOne']({'where':{'_id':_0x3ec5f3['id']}},this[_0x494800(0x6e8)]['wuid']);if(_0x3ec5f3[_0x494800(0x1bd)]=_0x3ec5f3?.['subjectTime']&&_0x3ec5f3[_0x494800(0x1bd)][_0x494800(0x1d0)]()[_0x494800(0x3d4)]<0xd?_0x3ec5f3?.['subjectTime']*0x3e8:_0x3ec5f3?.[_0x494800(0x1bd)]||null,_0x3ec5f3[_0x494800(0x240)]=_0x3ec5f3?.[_0x494800(0x240)]&&_0x3ec5f3[_0x494800(0x240)][_0x494800(0x1d0)]()[_0x494800(0x3d4)]<0xd?_0x3ec5f3?.[_0x494800(0x240)]*0x3e8:_0x3ec5f3?.[_0x494800(0x240)]||null,!_0x3ec5f3[_0x494800(0x615)])try{_0x3ec5f3[_0x494800(0x615)]=await this[_0x494800(0x5a1)][_0x494800(0x4dc)](_0x3ec5f3['id'],_0x494800(0x8b7));}catch(_0x3fd884){this['logger'][_0x494800(0x704)](this[_0x494800(0x88a)]+'\x20('+this[_0x494800(0x6e8)][_0x494800(0x64c)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x3ec5f3['id']+':\x20'+(_0x3fd884 instanceof Error?_0x3fd884[_0x494800(0x36a)]:JSON[_0x494800(0x66f)](_0x3fd884,null,0x2)));}let _0x43a996=_0x3ec5f3[_0x494800(0x765)][_0x494800(0x1e8)](_0x25b35f=>{const _0x1a0040=_0x494800;let _0xe56751=_0x3eaaa2?.[_0x1a0040(0x371)]?.['participants'][_0x1a0040(0x5a4)](_0x442635=>_0x442635['id']===_0x25b35f['id']);return{..._0x25b35f,'isAdmin':[_0x1a0040(0x5cb),'superadmin'][_0x1a0040(0x6f2)](_0x25b35f[_0x1a0040(0x5cb)]),'admin':_0x25b35f[_0x1a0040(0x5cb)],'name':_0xe56751?.[_0x1a0040(0x8d9)]||_0x25b35f[_0x1a0040(0x8d9)],'imgUrl':_0xe56751?.[_0x1a0040(0x5f7)]||_0x25b35f[_0x1a0040(0x5f7)]};}),_0x2bb747=_0x43a996['some'](_0xa37d4f=>_0xa37d4f['id']===this[_0x494800(0x6e8)][_0x494800(0x64c)]+_0x494800(0x4f1)&&_0xa37d4f[_0x494800(0x5cb)]!=null)||!0x1,_0x363312=(!_0x3ec5f3[_0x494800(0x1d5)]||_0x2bb747)&&(!_0x3ec5f3[_0x494800(0x64d)]||_0x2bb747),_0x5c518d={..._0x3ec5f3,'participants':_0x43a996,'awaitingApproval':_0x3eaaa2?.[_0x494800(0x371)]?.[_0x494800(0x6cf)]||[],'lastFetchAwaitingApproval':_0x3eaaa2?.[_0x494800(0x371)]?.['lastFetchAwaitingApproval'],'isAdmin':_0x2bb747,'canSendMessage':_0x363312,'lastUpdate':Date['now']()};await this[_0x494800(0x7ae)]['chat'][_0x494800(0x86c)]({'where':{'_id':_0x3ec5f3['id']}},{'imagechat':_0x3ec5f3[_0x494800(0x615)],'name':_0x3ec5f3[_0x494800(0x408)],'group':!0x0,'groupdata':_0x5c518d,'lastcache':Date['now']()},this['instance']['wuid']),F(this[_0x494800(0x88a)],'chats',{'chat':_0x3ec5f3});}async[a0_0x466431(0x1b8)](_0x2926f5){const _0x28f165=a0_0x466431;let _0x4c28a9=await this['repository']['chat'][_0x28f165(0x2c9)]({'where':{'_id':_0x2926f5['id']}},this['instance'][_0x28f165(0x64c)]);_0x2926f5[_0x28f165(0x1bd)]=_0x2926f5?.[_0x28f165(0x1bd)]&&_0x2926f5[_0x28f165(0x1bd)][_0x28f165(0x1d0)]()[_0x28f165(0x3d4)]<0xd?_0x2926f5?.[_0x28f165(0x1bd)]*0x3e8:_0x2926f5?.['subjectTime']||null,_0x2926f5[_0x28f165(0x240)]=_0x2926f5?.[_0x28f165(0x240)]&&_0x2926f5['creation'][_0x28f165(0x1d0)]()[_0x28f165(0x3d4)]<0xd?_0x2926f5?.[_0x28f165(0x240)]*0x3e8:_0x2926f5?.[_0x28f165(0x240)]||null,_0x2926f5[_0x28f165(0x249)]&&(_0x2926f5['inviteCode']='https://chat.whatsapp.com/'+_0x2926f5[_0x28f165(0x249)]);let _0x24a8b2=_0x4c28a9?.[_0x28f165(0x371)]?{..._0x4c28a9[_0x28f165(0x371)]}:{};Object['keys'](_0x2926f5)['forEach'](_0x3f7397=>{_0x3f7397!=='id'&&(_0x24a8b2[_0x3f7397]=_0x2926f5[_0x3f7397]);});let _0x110e4f=_0x24a8b2[_0x28f165(0x765)]?.[_0x28f165(0x3fb)](_0x59db8b=>_0x59db8b['id']===this[_0x28f165(0x6e8)]['wuid']+_0x28f165(0x4f1)&&_0x59db8b['admin']!=null)||!0x1;_0x24a8b2['isAdmin']=_0x110e4f;let _0x592ad5=(!_0x24a8b2[_0x28f165(0x1d5)]||_0x110e4f)&&(!_0x24a8b2[_0x28f165(0x64d)]||_0x110e4f);_0x24a8b2[_0x28f165(0x71b)]=_0x592ad5;let _0x138484={'group':!0x0,'groupdata':_0x24a8b2};_0x2926f5[_0x28f165(0x408)]&&(_0x138484[_0x28f165(0x8d9)]=_0x2926f5[_0x28f165(0x408)]),await this['repository']['chat']['updateOne']({'where':{'_id':_0x2926f5['id']}},_0x138484,this[_0x28f165(0x6e8)]['wuid'],{'upsert':!0x0}),F(this[_0x28f165(0x88a)],'chats',{'chat':_0x138484});}async[a0_0x466431(0x6ad)](_0x2b1950){const _0x228282=a0_0x466431;let _0x166275=await this[_0x228282(0x7ae)][_0x228282(0x66d)]['findOne']({'where':{'_id':_0x2b1950['id']}},this['instance'][_0x228282(0x64c)]);if(!_0x166275||!_0x166275[_0x228282(0x371)]){this[_0x228282(0x379)][_0x228282(0x6c6)](this[_0x228282(0x88a)]+'\x20('+this[_0x228282(0x6e8)][_0x228282(0x64c)]+_0x228282(0x3c7)+_0x2b1950['id']);return;}let _0x12b698=await this[_0x228282(0x7ae)][_0x228282(0x286)]['findManyByIds'](_0x2b1950['participants']),_0x5688b1=[..._0x166275[_0x228282(0x371)]?.['participants']];switch(_0x2b1950['action']){case'add':_0x12b698['map'](_0x1a1c67=>({'id':_0x1a1c67[_0x228282(0x209)],'isAdmin':!0x1,'name':_0x1a1c67[_0x228282(0x8d9)],'imgUrl':_0x1a1c67['pictureUrl']}))[_0x228282(0x4fe)](_0x2fad5a=>{const _0x288381=_0x228282;_0x5688b1[_0x288381(0x3fb)](_0x2bf21e=>_0x2bf21e['id']===_0x2fad5a['id'])||(_0x5688b1[_0x288381(0x543)](_0x2fad5a),this[_0x288381(0x379)][_0x288381(0x6c6)]('Adicionando\x20novo\x20participante:\x20'+JSON[_0x288381(0x66f)](_0x2fad5a)));});break;case _0x228282(0x27c):_0x5688b1=_0x5688b1[_0x228282(0x189)](_0x248ea9=>!_0x2b1950[_0x228282(0x765)][_0x228282(0x6f2)](_0x248ea9['id']));break;case _0x228282(0x8f9):_0x5688b1=_0x5688b1[_0x228282(0x1e8)](_0x4a2db0=>_0x2b1950['participants'][_0x228282(0x6f2)](_0x4a2db0['id'])?{..._0x4a2db0,'isAdmin':!0x0,'admin':_0x228282(0x5cb)}:_0x4a2db0);break;case _0x228282(0x2d5):_0x5688b1=_0x5688b1[_0x228282(0x1e8)](_0x28a90a=>_0x2b1950[_0x228282(0x765)]['includes'](_0x28a90a['id'])?{..._0x28a90a,'isAdmin':!0x1,'admin':null}:_0x28a90a);break;}let _0x19abc5=_0x5688b1['length'],_0x1faaae=_0x5688b1[_0x228282(0x3fb)](_0x50c318=>_0x50c318['id']===this['instance'][_0x228282(0x64c)]+'@s.whatsapp.net'),_0xf88c44=_0x1faaae&&_0x5688b1['some'](_0xc3da00=>_0xc3da00['id']===this['instance']['wuid']+_0x228282(0x4f1)&&_0xc3da00[_0x228282(0x5cb)]!=null)||!0x1,_0x591531=_0x1faaae&&(!_0x166275[_0x228282(0x371)]['announce']||_0xf88c44)&&(!_0x166275[_0x228282(0x371)][_0x228282(0x64d)]||_0xf88c44);await this[_0x228282(0x7ae)]['chat'][_0x228282(0x86c)]({'where':{'_id':_0x2b1950['id']}},{'groupdata':{..._0x166275[_0x228282(0x371)],'participants':_0x5688b1,'size':_0x19abc5,'isAdmin':_0xf88c44,'canSendMessage':_0x591531}},this[_0x228282(0x6e8)][_0x228282(0x64c)]),this['logger'][_0x228282(0x6c6)](this[_0x228282(0x88a)]+'\x20('+this[_0x228282(0x6e8)]['wuid']+_0x228282(0x1a0)+_0x2b1950['id']+_0x228282(0x2a7)+_0x2b1950[_0x228282(0x348)]+_0x228282(0x1b2)+_0x19abc5+_0x228282(0x5a2)+_0xf88c44+_0x228282(0x694)+_0x591531);}async['inviteCode'](_0x5abf1b,_0x50b4fa=!0x0){const _0x4fb80d=a0_0x466431;try{let _0x23f822=await this[_0x4fb80d(0x5a1)][_0x4fb80d(0x29c)](_0x5abf1b[_0x4fb80d(0x8ec)]),_0x79d902={'groupdata.inviteCode':_0x4fb80d(0x5bd)+_0x23f822};if(_0x50b4fa){let _0x5911dd=await this[_0x4fb80d(0x7ae)]['chat'][_0x4fb80d(0x86c)]({'where':{'_id':_0x5abf1b[_0x4fb80d(0x8ec)]}},_0x79d902,this[_0x4fb80d(0x6e8)][_0x4fb80d(0x64c)]);}return{'inviteUrl':_0x4fb80d(0x5bd)+_0x23f822,'inviteCode':_0x23f822};}catch(_0x1cf477){let _0x1bd395=_0x4fb80d(0x6fc),_0x69f22d=_0x1cf477 instanceof Error?_0x1cf477[_0x4fb80d(0x36a)]:typeof _0x1cf477=='object'?JSON[_0x4fb80d(0x66f)](_0x1cf477):_0x1cf477,_0x231952=_0x1bd395+':\x20'+_0x69f22d;throw this[_0x4fb80d(0x379)][_0x4fb80d(0x8d2)](this['instanceName']+'\x20('+this['instance'][_0x4fb80d(0x64c)]+_0x4fb80d(0x280)+_0x231952),new U(_0x231952);}}async[a0_0x466431(0x190)](_0x2a6e73){const _0x525ea2=a0_0x466431;try{let _0x1d443b=await this['client']['groupRevokeInvite'](_0x2a6e73['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x525ea2(0x5bd)+_0x1d443b,'inviteCode':_0x1d443b};}catch(_0x5427e1){let _0x2d06cd=_0x525ea2(0x342),_0x39adb5=_0x5427e1 instanceof Error?_0x5427e1[_0x525ea2(0x36a)]:typeof _0x5427e1==_0x525ea2(0x3f1)?JSON[_0x525ea2(0x66f)](_0x5427e1):_0x5427e1,_0x566e5a=_0x2d06cd+':\x20'+_0x39adb5;throw this[_0x525ea2(0x379)]['error'](this['instanceName']+'\x20('+this[_0x525ea2(0x6e8)][_0x525ea2(0x64c)]+_0x525ea2(0x280)+_0x566e5a),new U(_0x566e5a);}}async[a0_0x466431(0x185)](_0x26d8c2){const _0x439e6c=a0_0x466431;try{if((0x0,J[_0x439e6c(0x627)])(_0x26d8c2[_0x439e6c(0x249)]))var _0x159396=_0x26d8c2[_0x439e6c(0x249)][_0x439e6c(0x38b)]('/')[0x3];else var _0x159396=_0x26d8c2[_0x439e6c(0x249)];let _0x1c3a8f=await this[_0x439e6c(0x5a1)][_0x439e6c(0x675)](_0x159396);return this[_0x439e6c(0x379)][_0x439e6c(0x704)](this[_0x439e6c(0x88a)]+'\x20('+this['instance'][_0x439e6c(0x64c)]+_0x439e6c(0x280)+_0x1c3a8f),{'join':!0x0,'inviteCode':_0x159396,'groupJid':_0x1c3a8f};}catch(_0x839713){let _0x5516e5=_0x439e6c(0x28d),_0x3f88e3=_0x839713 instanceof Error?_0x839713[_0x439e6c(0x36a)]:typeof _0x839713==_0x439e6c(0x3f1)?JSON[_0x439e6c(0x66f)](_0x839713):_0x839713,_0x524ddd=_0x5516e5+':\x20'+_0x3f88e3;throw this[_0x439e6c(0x379)]['error'](this[_0x439e6c(0x88a)]+'\x20('+this[_0x439e6c(0x6e8)][_0x439e6c(0x64c)]+'):\x20'+_0x524ddd),new U(_0x524ddd);}}async[a0_0x466431(0x22e)](_0x4eb82c){const _0x43356b=a0_0x466431;try{return{'participants':(await this[_0x43356b(0x7ae)][_0x43356b(0x66d)][_0x43356b(0x2c9)]({'where':{'_id':_0x4eb82c[_0x43356b(0x8ec)]}},this['instance'][_0x43356b(0x64c)]))[_0x43356b(0x371)][_0x43356b(0x765)]};}catch(_0x23dbc8){let _0x13a71a=_0x43356b(0x241),_0x34e7f6=_0x23dbc8 instanceof Error?_0x23dbc8[_0x43356b(0x36a)]:typeof _0x23dbc8==_0x43356b(0x3f1)?JSON[_0x43356b(0x66f)](_0x23dbc8):_0x23dbc8,_0x472330=_0x13a71a+':\x20'+_0x34e7f6;throw this[_0x43356b(0x379)][_0x43356b(0x8d2)](this[_0x43356b(0x88a)]+'\x20('+this['instance'][_0x43356b(0x64c)]+_0x43356b(0x280)+_0x472330),new U(_0x472330);}}async[a0_0x466431(0x7fa)](_0xace620){const _0x5080ec=a0_0x466431;try{return await this[_0x5080ec(0x5a1)]['groupLeave'](_0xace620[_0x5080ec(0x8ec)]),{'groupJid':_0xace620[_0x5080ec(0x8ec)],'leave':!0x0};}catch(_0x2c7a41){let _0x5d71a8=_0x5080ec(0x31c),_0x4234c5=_0x2c7a41 instanceof Error?_0x2c7a41[_0x5080ec(0x36a)]:typeof _0x2c7a41=='object'?JSON[_0x5080ec(0x66f)](_0x2c7a41):_0x2c7a41,_0x11c1a7=_0x5d71a8+':\x20'+_0x4234c5;throw this[_0x5080ec(0x379)][_0x5080ec(0x8d2)](this[_0x5080ec(0x88a)]+'\x20('+this[_0x5080ec(0x6e8)]['wuid']+_0x5080ec(0x280)+_0x11c1a7),new m(_0x11c1a7);}}async[a0_0x466431(0x718)](_0x3d7620){const _0x437c76=a0_0x466431;return await this['sendMessageWithTyping'](_0x3d7620['number'],{'poll':{'name':_0x3d7620[_0x437c76(0x718)]?.[_0x437c76(0x8d9)],'selectableCount':_0x3d7620[_0x437c76(0x718)][_0x437c76(0x8bc)],'values':_0x3d7620[_0x437c76(0x718)][_0x437c76(0x66a)]}},_0x3d7620?.[_0x437c76(0x5c4)]);}async[a0_0x466431(0x84a)](_0x22c639){const _0x9c3521=a0_0x466431;return await this[_0x9c3521(0x332)](_0x22c639[_0x9c3521(0x5be)],{'listMessage':{'title':_0x22c639['listMessage']['title'],'description':_0x22c639[_0x9c3521(0x84a)]['description'],'buttonText':_0x22c639[_0x9c3521(0x84a)]?.[_0x9c3521(0x906)],'footerText':_0x22c639['listMessage']?.[_0x9c3521(0x744)],'sections':_0x22c639[_0x9c3521(0x84a)][_0x9c3521(0x757)],'listType':0x2}},_0x22c639?.[_0x9c3521(0x5c4)]);}async['menuMessage'](_0x1100f2){const _0x57d8f=a0_0x466431;this[_0x57d8f(0x6e8)][_0x57d8f(0x677)]===void 0x0&&await this[_0x57d8f(0x605)]();let _0x19af34;if(_0x1100f2[_0x57d8f(0x2de)][_0x57d8f(0x688)]===_0x57d8f(0x503)||_0x1100f2['menuMessage'][_0x57d8f(0x688)]===_0x57d8f(0x1ea)){let _0xce447=_0x1100f2[_0x57d8f(0x2de)][_0x57d8f(0x6d0)][_0x57d8f(0x81f)]('\x0a'),_0x29d5af='',_0x122c09='';_0xce447!==-0x1?(_0x29d5af=_0x1100f2[_0x57d8f(0x2de)][_0x57d8f(0x6d0)][_0x57d8f(0x6ea)](0x0,_0xce447)[_0x57d8f(0x8bd)](),_0x122c09=_0x1100f2['menuMessage'][_0x57d8f(0x6d0)]['substring'](_0xce447+0x1)):_0x122c09=_0x1100f2['menuMessage'][_0x57d8f(0x6d0)];let _0x34b9f3=_0x1100f2[_0x57d8f(0x2de)][_0x57d8f(0x602)][_0x57d8f(0x189)](_0x1e6ad6=>_0x1e6ad6[_0x57d8f(0x8bd)]()!==''),_0xc0630e=this[_0x57d8f(0x200)](_0x34b9f3);_0x19af34={'listMessage':{'title':_0x29d5af,'description':_0x122c09,'buttonText':_0x1100f2['menuMessage']['buttonText']||_0x57d8f(0x273),'footerText':_0x1100f2['menuMessage'][_0x57d8f(0x744)],'sections':_0xc0630e,'listType':0x2}};}else{if(_0x1100f2[_0x57d8f(0x2de)][_0x57d8f(0x688)]==='poll'){let _0x525ada=_0x1100f2[_0x57d8f(0x2de)][_0x57d8f(0x602)]['filter'](_0x3da9ae=>!(_0x3da9ae['startsWith']('[')&&_0x3da9ae[_0x57d8f(0x888)](']'))&&_0x3da9ae['trim']()!=='')[_0x57d8f(0x1e8)](_0x391819=>_0x391819[_0x57d8f(0x38b)]('\x0a')[0x0]);for(;_0x525ada[_0x57d8f(0x3d4)]<0x2;)_0x525ada[_0x57d8f(0x543)](_0x57d8f(0x5b5)+(_0x525ada['length']+0x1));_0x19af34={'poll':{'name':_0x1100f2[_0x57d8f(0x2de)][_0x57d8f(0x6d0)],'selectableCount':_0x1100f2['menuMessage'][_0x57d8f(0x8bc)]||0x1,'values':_0x525ada}};}else{if(_0x1100f2[_0x57d8f(0x2de)][_0x57d8f(0x688)]==='button'){let _0x32131f=this[_0x57d8f(0x1c4)](_0x1100f2[_0x57d8f(0x2de)][_0x57d8f(0x602)][_0x57d8f(0x189)](_0x359677=>!(_0x359677[_0x57d8f(0x538)]('[')&&_0x359677[_0x57d8f(0x888)](']'))));return _0x19af34={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x1100f2[_0x57d8f(0x2de)][_0x57d8f(0x6d0)]},'footer':_0x1100f2['menuMessage'][_0x57d8f(0x744)]?{'text':_0x1100f2['menuMessage'][_0x57d8f(0x744)]}:void 0x0,'nativeFlowMessage':{'buttons':_0x32131f,'messageParamsJson':JSON[_0x57d8f(0x66f)]({'from':_0x57d8f(0x325),'templateId':_0x57d8f(0x833)+(0x0,oe[_0x57d8f(0x8c6)])(0x12)[_0x57d8f(0x1d0)](_0x57d8f(0x214))[_0x57d8f(0x520)]()})}}}}},await this[_0x57d8f(0x784)](_0x1100f2[_0x57d8f(0x5be)],_0x19af34,_0x1100f2?.[_0x57d8f(0x5c4)]);}else{if(_0x1100f2[_0x57d8f(0x2de)]['type']===_0x57d8f(0x53c)){let _0x31f166=this[_0x57d8f(0x3c1)](_0x1100f2[_0x57d8f(0x2de)][_0x57d8f(0x602)]);return _0x19af34={'viewOnceMessage':{'message':{'messageContextInfo':{'deviceListMetadata':{},'deviceListMetadataVersion':0x2},'interactiveMessage':{'body':{'text':_0x1100f2[_0x57d8f(0x2de)][_0x57d8f(0x6d0)]},'footer':_0x1100f2[_0x57d8f(0x2de)]['footerText']?{'text':_0x1100f2[_0x57d8f(0x2de)]['footerText']}:void 0x0,'nativeFlowMessage':{'buttons':_0x31f166,'messageParamsJson':JSON[_0x57d8f(0x66f)]({'from':_0x57d8f(0x325),'templateId':_0x57d8f(0x833)+(0x0,oe[_0x57d8f(0x8c6)])(0x12)[_0x57d8f(0x1d0)]('hex')['toUpperCase']()})}}}}},await this['sendMessageWithTypingButtons'](_0x1100f2[_0x57d8f(0x5be)],_0x19af34,_0x1100f2?.[_0x57d8f(0x5c4)]);}}}}return await this['sendMessageWithTyping'](_0x1100f2[_0x57d8f(0x5be)],_0x19af34,_0x1100f2?.[_0x57d8f(0x5c4)]);}[a0_0x466431(0x1c4)](_0x223805){const _0x425237=a0_0x466431;return _0x223805[_0x425237(0x1e8)](_0x36c843=>{const _0x1c8735=_0x425237;let _0x1848c8=_0x36c843[_0x1c8735(0x38b)]('\x0a')['map'](_0x32be44=>_0x32be44[_0x1c8735(0x8bd)]()),_0x3954f9=_0x1848c8[0x0],_0x51b32e=_0x1848c8[0x1]||_0x3954f9,_0x49cb73=_0x51b32e['startsWith'](_0x1c8735(0x642))?'cta_url':_0x1c8735(0x54c);return{'name':_0x49cb73,'buttonParamsJson':JSON[_0x1c8735(0x66f)]({'display_text':_0x3954f9,'id':_0x49cb73===_0x1c8735(0x54c)?_0x51b32e:void 0x0,'url':_0x49cb73===_0x1c8735(0x3dc)?_0x51b32e:void 0x0})};});}[a0_0x466431(0x3c1)](_0x269238){const _0x33e3ea=a0_0x466431;let _0x2da45b=[],_0x117884={'title':'','rows':[]};return _0x269238[_0x33e3ea(0x4fe)](_0x34736f=>{const _0x458ac9=_0x33e3ea;if(_0x34736f['startsWith']('[')&&_0x34736f[_0x458ac9(0x888)](']'))_0x117884[_0x458ac9(0x412)][_0x458ac9(0x3d4)]>0x0&&_0x2da45b[_0x458ac9(0x543)](_0x117884),_0x117884={'title':_0x34736f['slice'](0x1,-0x1),'rows':[]};else{let _0x41f70a=_0x34736f['split']('\x0a')[_0x458ac9(0x1e8)](_0xb66199=>_0xb66199[_0x458ac9(0x8bd)]()),_0x31941b=_0x41f70a[0x0],_0x303049=_0x41f70a[0x1]?_0x41f70a[0x1]:void 0x0,_0x562adc=_0x41f70a[0x2]||_0x31941b;_0x117884[_0x458ac9(0x412)][_0x458ac9(0x543)]({'title':_0x31941b,'description':_0x303049,'id':_0x562adc});}}),_0x117884[_0x33e3ea(0x412)][_0x33e3ea(0x3d4)]>0x0&&_0x2da45b['push'](_0x117884),[{'name':_0x33e3ea(0x7e4),'buttonParamsJson':JSON['stringify']({'title':_0x33e3ea(0x6f8),'sections':_0x2da45b})}];}[a0_0x466431(0x200)](_0x493e69){const _0x537942=a0_0x466431;let _0x3171c6=[],_0x251f0c={'rows':[]};return _0x493e69[_0x537942(0x4fe)](_0x498fa5=>{const _0x2679f4=_0x537942;if(_0x498fa5[_0x2679f4(0x538)]('[')&&_0x498fa5['endsWith'](']'))_0x251f0c[_0x2679f4(0x412)][_0x2679f4(0x3d4)]>0x0&&_0x3171c6[_0x2679f4(0x543)](_0x251f0c),_0x251f0c={'title':_0x498fa5[_0x2679f4(0x30a)](0x1,-0x1),'rows':[]};else{let _0x55d3b4=_0x498fa5['split']('\x0a')[_0x2679f4(0x1e8)](_0x17d1d1=>_0x17d1d1[_0x2679f4(0x8bd)]()),_0x46b14b=_0x55d3b4[0x0],_0x29d0df=_0x55d3b4[0x1]||null,_0x35e785=_0x55d3b4[0x2]||_0x46b14b;_0x251f0c[_0x2679f4(0x412)][_0x2679f4(0x543)]({'title':_0x46b14b,'description':_0x29d0df,'rowId':_0x35e785});}}),_0x251f0c['rows']['length']>0x0&&_0x3171c6[_0x537942(0x543)](_0x251f0c),_0x3171c6;}async[a0_0x466431(0x91c)](_0x1cdc45,_0x23c72a){const _0x10c5eb=a0_0x466431;if(await this[_0x10c5eb(0x49a)](_0x1cdc45,!0x0)){let _0x386e06={'where':{'_id':_0x1cdc45['id']}},_0x2874de={'status':[_0x23c72a['status']][0x0]};try{let _0x334be0=await this[_0x10c5eb(0x7ae)]['message']['update'](_0x386e06,_0x2874de,this[_0x10c5eb(0x6e8)][_0x10c5eb(0x64c)]);_0x334be0&&F(this[_0x10c5eb(0x88a)],_0x10c5eb(0x663),{'message':_0x334be0});}catch{}}}['sectionsToString'](_0x452521){const _0x383f9c=a0_0x466431;let _0x1653bd=[];return _0x452521[_0x383f9c(0x4fe)](_0x10176f=>{const _0x31cb13=_0x383f9c;_0x10176f[_0x31cb13(0x70e)]&&_0x1653bd['push']('['+_0x10176f[_0x31cb13(0x70e)]+']'),_0x10176f[_0x31cb13(0x412)][_0x31cb13(0x4fe)](_0x2385f2=>{const _0x1a87aa=_0x31cb13;_0x1653bd[_0x1a87aa(0x543)](_0x2385f2[_0x1a87aa(0x70e)]);});}),_0x1653bd['join']('|');}[a0_0x466431(0x620)](_0x28cc98){const _0x2ebbf7=a0_0x466431;let _0x4a137f=_0x28cc98['replace'](/\\n/g,'\x0a')[_0x2ebbf7(0x38b)]('\x0a')[_0x2ebbf7(0x189)](_0x77bd31=>_0x77bd31[_0x2ebbf7(0x6f2)](_0x2ebbf7(0x845))||_0x77bd31[_0x2ebbf7(0x6f2)](_0x2ebbf7(0x3b0))),_0xc5d01b='';return _0x4a137f[_0x2ebbf7(0x4fe)](_0x45d020=>{const _0x178b9c=_0x2ebbf7;let _0x575fd1=/TEL(?:.*):(.+)/,_0x8df1d9=/EMAIL(?:.*):(.+)/,_0x24340c=_0x45d020['match'](_0x575fd1),_0x229358=_0x45d020['match'](_0x8df1d9);if(_0x24340c){let _0x3b8d73=_0x24340c[0x1][_0x178b9c(0x783)](/-| |\+|\(|\)/g,'')['trim']();_0xc5d01b+=_0x178b9c(0x695)+_0x3b8d73+'\x0a';}else{if(_0x229358){let _0x54209a=_0x229358[0x1][_0x178b9c(0x8bd)]();_0xc5d01b+='E-mail:\x20'+_0x54209a+'\x0a';}}}),_0xc5d01b['trim']();}async[a0_0x466431(0x846)](_0x5396a0,_0x2a5400,_0x4e598b,_0x37fb91=null){const _0x4090be=a0_0x466431;if(_0x5396a0[_0x4090be(0x613)])try{let _0x362666=_0x2a5400[_0x4090be(0x714)]['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x4700a9=_0x2a5400[_0x4090be(0x714)]['fromMe'],_0x2c754b=_0x362666['endsWith'](_0x4090be(0x611)),_0x3b3852=_0x2a5400[_0x4090be(0x2e0)]?.[_0x4090be(0x783)](/:\d{1,2}@/g,'@')||'',_0x5b2d0a=_0x2a5400[_0x4090be(0x5b1)]?.[_0x4090be(0x6d0)]||_0x2a5400[_0x4090be(0x5b1)]?.[_0x4090be(0x378)]||_0x2a5400[_0x4090be(0x5b1)]?.['vote']||_0x2a5400['message_normalized']?.[_0x4090be(0x8d9)]||'',_0x1f5f7a={'_id':_0x2a5400[_0x4090be(0x209)],'remoteJid':_0x4700a9?this['instance'][_0x4090be(0x64c)]:_0x2c754b?_0x3b3852:_0x362666,'pushName':_0x4700a9?this[_0x4090be(0x6e8)]['profileName']||'Eu':_0x2a5400['pushName'],'text':_0x5b2d0a,'type':_0x2a5400[_0x4090be(0x464)],'when':_0x2a5400[_0x4090be(0x48a)]||Date[_0x4090be(0x283)]()};_0x37fb91||(_0x37fb91=await this[_0x4090be(0x7ae)][_0x4090be(0x66d)][_0x4090be(0x2c9)]({'where':{'_id':_0x362666}},this[_0x4090be(0x6e8)][_0x4090be(0x64c)]));let _0x4205ca=_0x4700a9?0x0:_0x37fb91?(_0x37fb91[_0x4090be(0x239)]||0x0)+0x1:0x1,_0xadbe47={'lastmsg':_0x2a5400['messageTimestamp']||Date[_0x4090be(0x283)](),'ephemeralExpiration':_0x2a5400['expiration'],'lastMessage':_0x1f5f7a,'unreadcount':_0x4205ca,..._0x4700a9||_0x2c754b?{}:{'name':_0x2a5400[_0x4090be(0x2f5)]},..._0x2c754b?{'group':_0x2c754b}:{},...!_0x4700a9&&!_0x2c754b&&_0x2a5400[_0x4090be(0x4dc)]?{'imagechat':_0x2a5400[_0x4090be(0x4dc)]}:{}};if(!_0x2c754b&&(!_0x37fb91?.[_0x4090be(0x811)]||!_0x37fb91['leadInfo'][_0x4090be(0x1f9)])&&_0x2a5400[_0x4090be(0x2f5)]&&!_0x4700a9&&(_0xadbe47={..._0xadbe47,'leadInfo.nome':_0x2a5400[_0x4090be(0x2f5)]}),_0x37fb91?.[_0x4090be(0x811)]['etiquetas']||(_0xadbe47={..._0xadbe47,'leadInfo.etiquetas':[]}),_0x37fb91?.['leadInfo']['customFields']||(_0xadbe47={..._0xadbe47,'leadInfo.customFields':[]}),_0x37fb91?.[_0x4090be(0x811)][_0x4090be(0x83d)]||(_0xadbe47={..._0xadbe47,'leadInfo.tags':[]}),_0x37fb91&&_0x37fb91?.[_0x4090be(0x491)]){let _0x5bd4a2=await this[_0x4090be(0x7ae)][_0x4090be(0x8be)][_0x4090be(0x5a4)]({'where':{}},this[_0x4090be(0x6e8)][_0x4090be(0x64c)]),_0x2012d3=new Set(_0x5bd4a2[_0x4090be(0x1e8)](_0x18602d=>_0x18602d['_id'])),_0x330952=(_0x37fb91[_0x4090be(0x811)]?.[_0x4090be(0x1ca)]||[])[_0x4090be(0x189)](_0x11ce69=>_0x2012d3[_0x4090be(0x428)](_0x11ce69));_0xadbe47={..._0xadbe47,'imported':!0x1,'leadInfo.etiquetas':_0x330952};for(let _0x278d7a of _0x330952)await this[_0x4090be(0x45e)](_0x278d7a,_0x362666);}if(!this[_0x4090be(0x782)][_0x4090be(0x90c)]['find'](_0x12c3b2=>_0x12c3b2[_0x4090be(0x3e9)]&&_0x5b2d0a['includes'](_0x12c3b2['startCommand']))&&_0x4e598b===_0x4090be(0x43a)&&_0x4700a9&&this[_0x4090be(0x782)]?.['flowConfig']['enabled']&&_0x5b2d0a[_0x4090be(0x8bd)]()!==this[_0x4090be(0x782)]?.[_0x4090be(0x6de)][_0x4090be(0x497)][_0x4090be(0x8bd)]()){let _0x1ad4da=(this[_0x4090be(0x782)]?.['flowConfig'][_0x4090be(0x832)]||0x0)*0xea60,_0x518faf=Date['now']()+_0x1ad4da;_0x37fb91?.['leadInfo']?.[_0x4090be(0x54e)]===0x0||(_0xadbe47={..._0xadbe47,'leadInfo.desativadoFluxoAte':_0x518faf},this[_0x4090be(0x379)][_0x4090be(0x704)](this[_0x4090be(0x88a)]+'\x20('+this[_0x4090be(0x6e8)]['wuid']+_0x4090be(0x4f5)+_0x518faf+'.'));}if(_0x5b2d0a[_0x4090be(0x8bd)]()===this[_0x4090be(0x782)]?.[_0x4090be(0x6de)][_0x4090be(0x497)][_0x4090be(0x8bd)]()){this[_0x4090be(0x379)][_0x4090be(0x704)](this[_0x4090be(0x88a)]+'\x20('+this[_0x4090be(0x6e8)][_0x4090be(0x64c)]+_0x4090be(0x5b8)+_0x5b2d0a);let _0x456969=Date[_0x4090be(0x283)]();this[_0x4090be(0x782)]?.[_0x4090be(0x6de)][_0x4090be(0x3f2)]===0x0?_0xadbe47={..._0xadbe47,'leadInfo.desativadoFluxoAte':_0x456969+0x7591f6200}:_0xadbe47={..._0xadbe47,'leadInfo.desativadoFluxoAte':_0x456969+this[_0x4090be(0x782)]?.[_0x4090be(0x6de)]['stopMinutes']*0x3c*0x3e8};}if(_0x37fb91=await this[_0x4090be(0x7ae)]['chat'][_0x4090be(0x86c)]({'where':{'_id':_0x362666}},_0xadbe47,this[_0x4090be(0x6e8)][_0x4090be(0x64c)],{'new':!0x0,'upsert':!0x0}),_0x37fb91)F(this[_0x4090be(0x88a)],_0x4090be(0x45d),{'chat':_0x37fb91});else{this[_0x4090be(0x379)][_0x4090be(0x8d2)](this[_0x4090be(0x88a)]+'\x20('+this[_0x4090be(0x6e8)][_0x4090be(0x64c)]+_0x4090be(0x2ca));return;}if(_0x4700a9)return this['logger'][_0x4090be(0x704)](this[_0x4090be(0x88a)]+'\x20('+this[_0x4090be(0x6e8)][_0x4090be(0x64c)]+_0x4090be(0x1ff)),null;if(!this[_0x4090be(0x782)]?.[_0x4090be(0x6de)]['enabled'])return this[_0x4090be(0x379)][_0x4090be(0x704)](this[_0x4090be(0x88a)]+'\x20('+this[_0x4090be(0x6e8)][_0x4090be(0x64c)]+_0x4090be(0x31f)),null;if(_0x37fb91[_0x4090be(0x209)][_0x4090be(0x6f2)](_0x4090be(0x611))&&this[_0x4090be(0x782)]?.[_0x4090be(0x6de)][_0x4090be(0x35f)]===!0x0)return this[_0x4090be(0x379)]['verbose'](this[_0x4090be(0x88a)]+'\x20('+this[_0x4090be(0x6e8)]['wuid']+_0x4090be(0x426)),null;if(_0x37fb91[_0x4090be(0x811)]){if(_0x37fb91[_0x4090be(0x811)][_0x4090be(0x54e)]===0x0||_0x37fb91[_0x4090be(0x811)][_0x4090be(0x5c1)])return this[_0x4090be(0x379)]['verbose'](this[_0x4090be(0x88a)]+'\x20('+this['instance'][_0x4090be(0x64c)]+'):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20'+_0x362666+',\x20saindo.'),null;if(_0x37fb91[_0x4090be(0x811)][_0x4090be(0x54e)]>Date['now']()&&!_0x2a5400[_0x4090be(0x5b1)]?.[_0x4090be(0x4b2)])return this[_0x4090be(0x379)]['verbose'](this[_0x4090be(0x88a)]+'\x20('+this[_0x4090be(0x6e8)][_0x4090be(0x64c)]+_0x4090be(0x7e8)+new Date(_0x37fb91['leadInfo'][_0x4090be(0x54e)])[_0x4090be(0x1e3)]()+',\x20saindo.'),null;}this[_0x4090be(0x379)][_0x4090be(0x704)](this[_0x4090be(0x88a)]+'\x20('+this[_0x4090be(0x6e8)][_0x4090be(0x64c)]+_0x4090be(0x1a6)),this[_0x4090be(0x382)](_0x2a5400,_0x4e598b);}catch(_0x227a88){let _0x141f76=_0x4090be(0x723),_0x74b300=_0x227a88 instanceof Error?_0x227a88[_0x4090be(0x36a)]:typeof _0x227a88==_0x4090be(0x3f1)?JSON[_0x4090be(0x66f)](_0x227a88):_0x227a88,_0x4c53a7=_0x141f76+':\x20'+_0x74b300;return this[_0x4090be(0x379)][_0x4090be(0x8d2)](this['instanceName']+'\x20('+this['instance'][_0x4090be(0x64c)]+_0x4090be(0x280)+_0x4c53a7),null;}}async[a0_0x466431(0x8c5)](_0x8b952f,_0x53799d){const _0x401f5b=a0_0x466431;if(_0x53799d['ENABLED']){let _0x68a0b6=_0x8b952f[_0x401f5b(0x1e8)](async _0x11b812=>{const _0x51bb59=_0x401f5b;try{let _0x20a10b={'_id':_0x11b812['_id'],'owner':_0x11b812[_0x51bb59(0x3ea)],'lastcache':0x0};if(Object[_0x51bb59(0x7c4)](_0x11b812)['forEach'](_0x216fc6=>{_0x11b812[_0x216fc6]!==null&&(_0x20a10b[_0x216fc6]=_0x11b812[_0x216fc6]);}),_0x20a10b['imagechat']===null&&(_0x20a10b['imagechat']=_0x51bb59(0x3a0)),Object[_0x51bb59(0x7c4)](_0x20a10b)[_0x51bb59(0x3d4)]>0x0)return await this[_0x51bb59(0x7ae)][_0x51bb59(0x66d)][_0x51bb59(0x86c)]({'where':{'_id':_0x11b812['_id']}},_0x20a10b,this[_0x51bb59(0x6e8)][_0x51bb59(0x64c)]);}catch(_0x3b1df0){let _0x4c385d='Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x11b812[_0x51bb59(0x209)],_0x121f04=_0x3b1df0 instanceof Error?_0x3b1df0[_0x51bb59(0x36a)]:typeof _0x3b1df0==_0x51bb59(0x3f1)?JSON[_0x51bb59(0x66f)](_0x3b1df0):_0x3b1df0,_0x3f0c0d=_0x4c385d+':\x20'+_0x121f04;return this[_0x51bb59(0x379)][_0x51bb59(0x8d2)](this[_0x51bb59(0x88a)]+'\x20('+this[_0x51bb59(0x6e8)][_0x51bb59(0x64c)]+'):\x20'+_0x3f0c0d),null;}}),_0x2b9a7b=(await Promise['all'](_0x68a0b6))[_0x401f5b(0x189)](_0x35cfb8=>_0x35cfb8!==null)[_0x401f5b(0x3d4)];this[_0x401f5b(0x379)][_0x401f5b(0x704)](this[_0x401f5b(0x88a)]+'\x20('+this[_0x401f5b(0x6e8)][_0x401f5b(0x64c)]+_0x401f5b(0x280)+_0x2b9a7b+_0x401f5b(0x2c4)+this['instance']['wuid']+_0x401f5b(0x544));}}async[a0_0x466431(0x73e)](_0xacf7c2){const _0x2b528b=a0_0x466431;this[_0x2b528b(0x379)]['verbose'](this[_0x2b528b(0x88a)]+'\x20('+this[_0x2b528b(0x6e8)]['wuid']+_0x2b528b(0x77d));let _0x4b67b9={'readMessages':[{'remoteJid':_0xacf7c2[_0x2b528b(0x7cf)][_0x2b528b(0x708)]['key'][_0x2b528b(0x84e)],'fromMe':_0xacf7c2['chatLog'][_0x2b528b(0x708)][_0x2b528b(0x714)][_0x2b528b(0x70f)],'id':_0xacf7c2[_0x2b528b(0x7cf)][_0x2b528b(0x708)]['key']['id']}]};await this[_0x2b528b(0x7a8)](_0x4b67b9);}async['StartBot'](_0x420286,_0x2dcf39){const _0x1a4b12=a0_0x466431;try{let {key:_0x3fd925,message_normalized:_0x400631}=_0x420286,_0x268fa5=_0x400631,_0x58e4a3=_0x400631[_0x1a4b12(0x6d0)]||_0x400631[_0x1a4b12(0x378)]||_0x400631['vote']||_0x400631[_0x1a4b12(0x8d9)]||'',_0x34e1ca=_0x3fd925['remoteJid'],_0x1926c2=null,_0x37037a=this['AutomateSystem'][_0x1a4b12(0x90c)][_0x1a4b12(0x5a4)](_0xa2553f=>_0xa2553f['startCommand']&&_0x58e4a3['includes'](_0xa2553f[_0x1a4b12(0x3e9)]));if(_0x37037a&&_0x2dcf39===_0x1a4b12(0x43a)){let _0x92f923=await this[_0x1a4b12(0x7ae)][_0x1a4b12(0x686)]['findOne']({'where':{'_id':_0x37037a[_0x1a4b12(0x209)]}});if(this[_0x1a4b12(0x379)][_0x1a4b12(0x704)](this[_0x1a4b12(0x88a)]+'\x20('+this[_0x1a4b12(0x6e8)][_0x1a4b12(0x64c)]+_0x1a4b12(0x6e5)),_0x92f923&&_0x92f923['whoCanUse']?.[_0x1a4b12(0x6f2)](this['instance']['wuid']))_0x1926c2=await this[_0x1a4b12(0x287)](_0x92f923,_0x3fd925,_0x268fa5);else return this[_0x1a4b12(0x379)]['verbose'](this[_0x1a4b12(0x88a)]+'\x20('+this[_0x1a4b12(0x6e8)][_0x1a4b12(0x64c)]+_0x1a4b12(0x7a0)),null;}else this[_0x1a4b12(0x379)][_0x1a4b12(0x704)](this[_0x1a4b12(0x88a)]+'\x20('+this['instance'][_0x1a4b12(0x64c)]+_0x1a4b12(0x45c));if(_0x1926c2=await this[_0x1a4b12(0x69c)](_0x34e1ca,_0x268fa5),_0x1926c2){this[_0x1a4b12(0x379)][_0x1a4b12(0x704)](this[_0x1a4b12(0x88a)]+'\x20('+this[_0x1a4b12(0x6e8)][_0x1a4b12(0x64c)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x3fd925[_0x1a4b12(0x70f)]&&_0x1926c2[_0x1a4b12(0x8a6)]&&this[_0x1a4b12(0x73e)](_0x1926c2);let _0x72b53f=await this[_0x1a4b12(0x728)](_0x1926c2);_0x72b53f&&await this[_0x1a4b12(0x875)](_0x1926c2,_0x72b53f);}}catch(_0x593977){this[_0x1a4b12(0x379)][_0x1a4b12(0x8d2)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x593977 instanceof Error?_0x593977[_0x1a4b12(0x36a)]:JSON[_0x1a4b12(0x66f)](_0x593977,null,0x2)));}}[a0_0x466431(0x8d5)](_0x2241b3,_0x48bf2a='',_0x42de7b={}){const _0x725ac3=a0_0x466431;return typeof _0x2241b3!='object'||_0x2241b3===null?(_0x48bf2a&&(_0x42de7b[_0x48bf2a]=_0x2241b3),_0x42de7b):(Object[_0x725ac3(0x3b3)](_0x2241b3)['forEach'](([_0x3fc105,_0x5639bf])=>{const _0xbb63e=_0x725ac3;let _0x313aed=_0x48bf2a?_0x48bf2a+'.'+_0x3fc105:'_'+_0x3fc105;Array['isArray'](_0x5639bf)?_0x5639bf['forEach']((_0x13b8fd,_0x4fc8da)=>{this['flattenObject'](_0x13b8fd,_0x313aed+'['+_0x4fc8da+']',_0x42de7b);}):typeof _0x5639bf==_0xbb63e(0x3f1)&&_0x5639bf!==null?this['flattenObject'](_0x5639bf,_0x313aed,_0x42de7b):_0x42de7b[_0x313aed]=String(_0x5639bf);}),_0x42de7b);}[a0_0x466431(0x2e9)](_0xd45f2b){const _0x270e81=a0_0x466431;let _0x41a41c={};for(let _0x3f91ca of _0xd45f2b)typeof _0x3f91ca['name']==_0x270e81(0x253)&&typeof _0x3f91ca[_0x270e81(0x6b4)]==_0x270e81(0x253)&&(_0x41a41c[_0x3f91ca[_0x270e81(0x8d9)]]=_0x3f91ca[_0x270e81(0x6b4)]);return _0x41a41c;}async['NextBlock'](_0x83a262){const _0x5cef1a=a0_0x466431;if(!this['AutomateSystem']?.[_0x5cef1a(0x6de)][_0x5cef1a(0x78f)]||_0x83a262[_0x5cef1a(0x309)]!==_0x5cef1a(0x70d)&&_0x83a262[_0x5cef1a(0x28f)]==='')return null;let _0x488294=_0x83a262[_0x5cef1a(0x7cf)][_0x5cef1a(0x5d8)]||'start';typeof _0x83a262['chatLog'][_0x5cef1a(0x698)]>'u'&&(_0x83a262[_0x5cef1a(0x7cf)][_0x5cef1a(0x698)]=!0x0);let _0x3a3ef2=_0x83a262[_0x5cef1a(0x7cf)][_0x5cef1a(0x698)];this[_0x5cef1a(0x379)][_0x5cef1a(0x704)](this[_0x5cef1a(0x88a)]+'\x20('+this[_0x5cef1a(0x6e8)][_0x5cef1a(0x64c)]+_0x5cef1a(0x492)+_0x488294+_0x5cef1a(0x8ba)+_0x3a3ef2);let _0x5eba9f=_0x488294==='start'?_0x83a262[_0x5cef1a(0x79d)][_0x5cef1a(0x5a4)](_0xd05e15=>_0xd05e15[_0x5cef1a(0x688)]===_0x5cef1a(0x631)):_0x83a262['blocks'][_0x5cef1a(0x5a4)](_0x520820=>_0x520820[_0x5cef1a(0x209)]['toString']()===_0x488294[_0x5cef1a(0x1d0)]());if(!_0x5eba9f)return this[_0x5cef1a(0x379)][_0x5cef1a(0x8d2)](this['instanceName']+'\x20('+this[_0x5cef1a(0x6e8)][_0x5cef1a(0x64c)]+_0x5cef1a(0x685)+_0x488294),null;let _0x53286a={'_pushName':_0x83a262?.[_0x5cef1a(0x7cf)]?.[_0x5cef1a(0x708)]?.[_0x5cef1a(0x2f5)]||'','_sender':this[_0x5cef1a(0x6e8)][_0x5cef1a(0x64c)]||'',..._0x83a262['chatLog']['realVariables']},_0x5ec9ea=new Date();_0x53286a['_day']=_0x5ec9ea[_0x5cef1a(0x657)](),_0x53286a[_0x5cef1a(0x70c)]=_0x5ec9ea[_0x5cef1a(0x307)]()+0x1,_0x53286a[_0x5cef1a(0x1a2)]=_0x5ec9ea['getFullYear'](),_0x53286a[_0x5cef1a(0x831)]=_0x5ec9ea[_0x5cef1a(0x5f3)](),_0x53286a[_0x5cef1a(0x779)]=_0x5ec9ea[_0x5cef1a(0x40e)](),_0x53286a['_second']=_0x5ec9ea[_0x5cef1a(0x52a)]();let _0x4050f7=null;if(_0x83a262[_0x5cef1a(0x28f)]){let _0x18d0a0=_0x83a262[_0x5cef1a(0x7cf)][_0x5cef1a(0x708)][_0x5cef1a(0x4b2)],_0x34a29a=_0x83a262[_0x5cef1a(0x566)][_0x5cef1a(0x5a4)](_0x12a945=>_0x12a945[_0x5cef1a(0x392)]===_0x18d0a0);if(_0x34a29a){let _0x5cf3b8=_0x34a29a[_0x5cef1a(0x75d)];if(_0x4050f7=_0x83a262[_0x5cef1a(0x79d)][_0x5cef1a(0x5a4)](_0x3504d4=>_0x3504d4['groupId']===_0x5cf3b8&&_0x3504d4[_0x5cef1a(0x244)]===0x1),_0x5eba9f[_0x5cef1a(0x2bd)]['pollOnReplyDelete']){let _0x77dc55={'id':_0x83a262[_0x5cef1a(0x28f)],'remoteJid':_0x83a262[_0x5cef1a(0x84e)],'fromMe':!0x0};await this[_0x5cef1a(0x19b)](_0x77dc55);}if(_0x5eba9f[_0x5cef1a(0x2bd)]['pollOnReplyDelete']&&_0x5eba9f['uazapi'][_0x5cef1a(0x406)]&&_0x5eba9f['uazapi']['menuType']===_0x5cef1a(0x862)){let _0xe7f8cd={'number':_0x83a262[_0x5cef1a(0x84e)],'options':{'delay':0x0},'textMessage':{'text':_0x5cef1a(0x20f)+_0x83a262[_0x5cef1a(0x1cd)]+_0x5cef1a(0x83e)+_0x18d0a0}};await this[_0x5cef1a(0x7b8)](_0xe7f8cd);}_0x53286a[_0x5cef1a(0x52e)]=_0x18d0a0,_0x83a262[_0x5cef1a(0x309)]='open',_0x83a262['waitingMenu_id']='',_0x83a262[_0x5cef1a(0x1cd)]='',_0x83a262[_0x5cef1a(0x566)]=[];}else{this[_0x5cef1a(0x379)]['verbose'](this[_0x5cef1a(0x88a)]+'\x20('+this[_0x5cef1a(0x6e8)][_0x5cef1a(0x64c)]+_0x5cef1a(0x7f3));let _0x4aaeae={'activatedCount':_0x83a262[_0x5cef1a(0x7cf)][_0x5cef1a(0x350)][_0x5cef1a(0x189)](_0x1bd3e9=>String(_0x1bd3e9[_0x5cef1a(0x88c)])===String(_0x488294))['length'],'moreLogs':[_0x5cef1a(0x362)]};if(_0x5eba9f[_0x5cef1a(0x2bd)][_0x5cef1a(0x6d4)]){let _0x4c9255={'number':_0x83a262[_0x5cef1a(0x84e)],'options':{'delay':0x0},'textMessage':{'text':_0x5eba9f[_0x5cef1a(0x2bd)][_0x5cef1a(0x6d4)]}};await this['textMessage'](_0x4c9255);}if(_0x5eba9f[_0x5cef1a(0x255)]!==void 0x0&&_0x4aaeae[_0x5cef1a(0x6eb)]>=_0x5eba9f[_0x5cef1a(0x255)]){let _0x3d88fd=Date['now'](),_0x3bd171=_0x5eba9f['stopMinutesMaxActives']??0xa;isNaN(_0x3bd171)&&(_0x3bd171=0xa);let _0x3b0df6=_0x3d88fd+_0x3bd171*0x3c*0x3e8;_0x4aaeae[_0x5cef1a(0x5b9)]=_0x3b0df6,_0x4aaeae[_0x5cef1a(0x2d2)][_0x5cef1a(0x543)](_0x5cef1a(0x7c2)),this[_0x5cef1a(0x1c5)](_0x83a262,_0x3b0df6),_0x83a262[_0x5cef1a(0x28f)]='',_0x83a262[_0x5cef1a(0x1cd)]='',_0x83a262['waitingMenu_replyOptions']=[];}return this[_0x5cef1a(0x65e)](_0x83a262,_0x5eba9f,_0x4aaeae,!0x0),null;}}if(_0x3a3ef2&&_0x5eba9f[_0x5cef1a(0x75d)]&&!_0x83a262[_0x5cef1a(0x28f)]){let _0x2369e7=_0x83a262[_0x5cef1a(0x79d)][_0x5cef1a(0x189)](_0x5730b5=>_0x5730b5[_0x5cef1a(0x4a1)]['toString']()===_0x5eba9f[_0x5cef1a(0x75d)]['toString']())['sort']((_0x370916,_0xeb1086)=>_0x370916[_0x5cef1a(0x244)]-_0xeb1086[_0x5cef1a(0x244)]);_0x2369e7['length']>0x0&&(_0x4050f7=_0x2369e7[0x0]);}if(!_0x4050f7){let _0x3d949f=_0x5eba9f['groupId'],_0x25bd52=_0x83a262[_0x5cef1a(0x79d)]['filter'](_0x24e918=>_0x24e918[_0x5cef1a(0x4a1)]===_0x3d949f&&_0x24e918[_0x5cef1a(0x244)]>_0x5eba9f[_0x5cef1a(0x244)])[_0x5cef1a(0x4e0)]((_0x331785,_0x4e5874)=>_0x331785[_0x5cef1a(0x244)]-_0x4e5874[_0x5cef1a(0x244)]);_0x25bd52['length']>0x0&&(_0x4050f7=_0x25bd52[0x0]);}if(!_0x4050f7)return _0x83a262[_0x5cef1a(0x309)]=_0x5cef1a(0x2ed),null;_0x83a262[_0x5cef1a(0x7cf)][_0x5cef1a(0x7af)]=_0x53286a;let _0x47ba70=JSON[_0x5cef1a(0x46d)](JSON[_0x5cef1a(0x66f)](_0x4050f7));return this[_0x5cef1a(0x405)](_0x47ba70,_0x83a262[_0x5cef1a(0x7cf)][_0x5cef1a(0x7af)]),_0x83a262[_0x5cef1a(0x7cf)][_0x5cef1a(0x5d8)]=_0x47ba70[_0x5cef1a(0x209)],_0x83a262['chatLog'][_0x5cef1a(0x698)]=!0x0,_0x47ba70;}['replaceVariables'](_0x667ca0,_0x5656ca){const _0x47b72d=a0_0x466431;return _0x667ca0[_0x47b72d(0x783)](/\{\{([^}]+)\}\}/g,(_0x2da642,_0x524965)=>_0x5656ca[_0x524965]||'');}['replaceVariablesInObject'](_0x267e1e,_0xa3a30f){const _0xc7dbf7=a0_0x466431;for(let _0x479543 in _0x267e1e)typeof _0x267e1e[_0x479543]==_0xc7dbf7(0x253)?_0x267e1e[_0x479543]=this['replaceVariables'](_0x267e1e[_0x479543],_0xa3a30f):typeof _0x267e1e[_0x479543]==_0xc7dbf7(0x3f1)&&this[_0xc7dbf7(0x405)](_0x267e1e[_0x479543],_0xa3a30f);}async[a0_0x466431(0x3e2)](_0x3b234d,_0x22b93d){const _0x29a204=a0_0x466431;let _0x56e3a3=_0x22b93d[_0x29a204(0x209)];if(_0x3b234d[_0x29a204(0x7cf)]&&_0x3b234d['chatLog'][_0x29a204(0x350)]){let _0x5a8f02=_0x3b234d[_0x29a204(0x7cf)][_0x29a204(0x350)]['filter'](_0xeaeca3=>String(_0xeaeca3[_0x29a204(0x88c)])===String(_0x56e3a3))[_0x29a204(0x84f)]();if(_0x5a8f02&&_0x5a8f02[_0x29a204(0x8d2)]&&_0x22b93d['stopIfLastReturnedError'])return _0x3b234d[_0x29a204(0x309)]='closed',await this[_0x29a204(0x30c)](_0x3b234d),null;}if(_0x22b93d['type']==='uazapi'&&_0x22b93d['uazapi'][_0x29a204(0x30b)]===_0x29a204(0x821)&&_0x3b234d['waitingMenu_id'])return _0x3b234d[_0x29a204(0x7cf)]['lastBlockId']=_0x56e3a3,await this['saveConversationToDatabase'](_0x3b234d),null;let _0x4175a7=await this['NextBlock'](_0x3b234d);if(_0x3b234d[_0x29a204(0x7cf)]&&_0x3b234d[_0x29a204(0x7cf)]['blockLogs']){let _0x341770=_0x3b234d[_0x29a204(0x7cf)][_0x29a204(0x350)][_0x29a204(0x189)](_0x49f588=>String(_0x49f588['blockId'])===String(_0x56e3a3))[_0x29a204(0x3d4)];if(_0x22b93d[_0x29a204(0x255)]!==void 0x0&&_0x341770>=_0x22b93d[_0x29a204(0x255)]){let _0x4be267=Date[_0x29a204(0x283)](),_0x48ef38=_0x22b93d[_0x29a204(0x65b)]??0xa;isNaN(_0x48ef38)&&(_0x48ef38=0xa);let _0x3f8655=_0x4be267+_0x48ef38*0x3c*0x3e8,_0x1b32b9={'newStoppedUntil':_0x3f8655};return this['updateStopChat'](_0x3b234d,_0x3f8655),this[_0x29a204(0x65e)](_0x3b234d,_0x22b93d,_0x1b32b9,!0x0),null;}}_0x4175a7&&_0x4175a7[_0x29a204(0x688)]!=='save'&&await this[_0x29a204(0x875)](_0x3b234d,_0x4175a7),_0x4175a7||await this[_0x29a204(0x30c)](_0x3b234d),_0x4175a7&&_0x4175a7[_0x29a204(0x688)]===_0x29a204(0x539)&&(_0x3b234d['chatLog']['lastBlockId']=_0x56e3a3,await this['saveConversationToDatabase'](_0x3b234d));}async[a0_0x466431(0x875)](_0x2f7e04,_0x2786b4){const _0x5e2954=a0_0x466431;try{let _0x2f870c=_0x2786b4[_0x5e2954(0x688)];this[_0x5e2954(0x379)][_0x5e2954(0x704)](this[_0x5e2954(0x88a)]+'\x20('+this[_0x5e2954(0x6e8)][_0x5e2954(0x64c)]+'):\x20Going\x20to\x20'+_0x2f870c);let _0x397071={'uazapi':()=>this['processUazapi'](_0x2f7e04,_0x2786b4),'save':()=>this[_0x5e2954(0x302)](_0x2f7e04,_0x2786b4),'stop':()=>this[_0x5e2954(0x497)](_0x2f7e04,_0x2786b4),'condition':()=>this[_0x5e2954(0x596)](_0x2f7e04,_0x2786b4),'varedit':()=>this['processvaredits'](_0x2f7e04,_0x2786b4),'apirequest':()=>this[_0x5e2954(0x582)](_0x2f7e04,_0x2786b4),'goToFlow':()=>this[_0x5e2954(0x2ac)](_0x2f7e04,_0x2786b4),'scheduleFlow':()=>this[_0x5e2954(0x529)](_0x2f7e04,_0x2786b4),'awaitSeconds':()=>this[_0x5e2954(0x814)](_0x2f7e04,_0x2786b4),'clearVariables':()=>this[_0x5e2954(0x78c)](_0x2f7e04,_0x2786b4)}[_0x2f870c];_0x397071&&await _0x397071();}catch(_0xc1990){this[_0x5e2954(0x379)][_0x5e2954(0x8d2)](this[_0x5e2954(0x88a)]+'\x20('+this[_0x5e2954(0x6e8)][_0x5e2954(0x64c)]+_0x5e2954(0x4de)+(_0xc1990 instanceof Error?_0xc1990[_0x5e2954(0x36a)]:JSON['stringify'](_0xc1990,null,0x2)));}}async[a0_0x466431(0x814)](_0x4629bb,_0x4b6ef5){const _0x2548e4=a0_0x466431;if(this[_0x2548e4(0x379)][_0x2548e4(0x704)](this[_0x2548e4(0x88a)]+'\x20('+this['instance'][_0x2548e4(0x64c)]+_0x2548e4(0x858)),!_0x4629bb||!_0x4b6ef5)return this['logger'][_0x2548e4(0x8d2)](this[_0x2548e4(0x88a)]+'\x20('+this[_0x2548e4(0x6e8)]['wuid']+_0x2548e4(0x5f5)),null;let _0x59484d=+_0x4b6ef5[_0x2548e4(0x2cc)];isNaN(_0x59484d)&&(_0x59484d=0x0),_0x59484d=Math[_0x2548e4(0x742)](_0x59484d,0x3c),await(0x0,w['delay'])(_0x59484d*0x3e8);let _0x51a82a={'moreLogs':[_0x2548e4(0x3f3)+_0x59484d+'\x20segundos']};return await this[_0x2548e4(0x65e)](_0x4629bb,_0x4b6ef5,_0x51a82a),_0x59484d;}async[a0_0x466431(0x78c)](_0x50b6a6,_0x403376){const _0x4bc9f6=a0_0x466431;if(this[_0x4bc9f6(0x379)][_0x4bc9f6(0x704)](this[_0x4bc9f6(0x88a)]+'\x20('+this[_0x4bc9f6(0x6e8)]['wuid']+_0x4bc9f6(0x5ab)),!_0x50b6a6||!_0x403376)return this['logger'][_0x4bc9f6(0x8d2)](this['instanceName']+'\x20('+this[_0x4bc9f6(0x6e8)]['wuid']+_0x4bc9f6(0x5f5)),null;let _0x5cdc1c=[];if(_0x403376['clearVariables'][_0x4bc9f6(0x8bd)]()===_0x4bc9f6(0x643)){let _0x45d209=[_0x4bc9f6(0x766),_0x4bc9f6(0x274),'_error','_activedCount','_remoteJid',_0x4bc9f6(0x209),_0x4bc9f6(0x355)];_0x5cdc1c=Object['keys'](_0x50b6a6[_0x4bc9f6(0x7cf)][_0x4bc9f6(0x7af)])[_0x4bc9f6(0x189)](_0x386f03=>_0x386f03[_0x4bc9f6(0x538)]('_')&&!_0x45d209[_0x4bc9f6(0x6f2)](_0x386f03));}else _0x5cdc1c=_0x403376[_0x4bc9f6(0x49d)]['split']('|')['map'](_0x8b3421=>(_0x8b3421=_0x8b3421[_0x4bc9f6(0x783)](/[{}]/g,'')[_0x4bc9f6(0x8bd)](),_0x8b3421[_0x4bc9f6(0x538)]('_')?_0x8b3421:'_'+_0x8b3421));let _0x52a7fb=[];_0x5cdc1c[_0x4bc9f6(0x4fe)](_0xa20a11=>{const _0x293e9e=_0x4bc9f6;_0xa20a11 in _0x50b6a6['chatLog'][_0x293e9e(0x7af)]&&(delete _0x50b6a6[_0x293e9e(0x7cf)][_0x293e9e(0x7af)][_0xa20a11],_0x52a7fb['push'](_0xa20a11));}),_0x52a7fb['length']>0x0?this[_0x4bc9f6(0x379)][_0x4bc9f6(0x704)](this['instanceName']+'\x20('+this[_0x4bc9f6(0x6e8)][_0x4bc9f6(0x64c)]+_0x4bc9f6(0x41d)+_0x52a7fb[_0x4bc9f6(0x473)](',\x20')):this[_0x4bc9f6(0x379)][_0x4bc9f6(0x704)](this[_0x4bc9f6(0x88a)]+'\x20('+this[_0x4bc9f6(0x6e8)]['wuid']+'):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção');let _0x1782ad={'moreLogs':[_0x4bc9f6(0x24c)+_0x52a7fb[_0x4bc9f6(0x473)](',\x20')]};return await this[_0x4bc9f6(0x65e)](_0x50b6a6,_0x403376,_0x1782ad),null;}async[a0_0x466431(0x529)](_0x858549,_0x46d49b){const _0x12a6db=a0_0x466431;if(this[_0x12a6db(0x379)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x12a6db(0x64c)]+'):\x20Entrou\x20na\x20função\x20scheduleFlow'),!_0x858549||!_0x46d49b)return this[_0x12a6db(0x379)][_0x12a6db(0x8d2)](this[_0x12a6db(0x88a)]+'\x20('+this[_0x12a6db(0x6e8)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x572600=_0x858549[_0x12a6db(0x84e)];_0x46d49b[_0x12a6db(0x4e9)][_0x12a6db(0x84e)]&&_0x46d49b[_0x12a6db(0x4e9)]['remoteJid'][_0x12a6db(0x8bd)]()!==''&&(_0x572600=_0x46d49b['uazapi'][_0x12a6db(0x84e)]['trim']());let _0x22d89a=_0x46d49b[_0x12a6db(0x4e9)]['timeInMinutes']*0xea60,_0x1d8083=Date[_0x12a6db(0x283)]()+_0x22d89a,_0x4182c1={'status':'scheduled','info':_0x12a6db(0x22d)+_0x858549[_0x12a6db(0x8d9)],'remoteJids':[_0x572600],'when':_0x1d8083,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x12a6db(0x686),'flowName':_0x46d49b[_0x12a6db(0x4e9)][_0x12a6db(0x706)]};this[_0x12a6db(0x55e)](_0x4182c1);let _0x62d144=await this[_0x12a6db(0x728)](_0x858549);_0x62d144&&await this['processblock'](_0x858549,_0x62d144);}async[a0_0x466431(0x2ac)](_0x1d4943,_0x45a534){const _0x596ca7=a0_0x466431;if(this['logger']['verbose'](this[_0x596ca7(0x88a)]+'\x20('+this['instance']['wuid']+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x1d4943||!_0x45a534)return this['logger'][_0x596ca7(0x8d2)](this['instanceName']+'\x20('+this[_0x596ca7(0x6e8)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this['updateConversation'](_0x1d4943,_0x45a534,{},!0x0,!0x0);let _0x162742=_0x45a534[_0x596ca7(0x27d)];_0x1d4943=await this[_0x596ca7(0x68f)](_0x162742,_0x1d4943[_0x596ca7(0x84e)],_0x1d4943[_0x596ca7(0x7cf)][_0x596ca7(0x7af)]);let _0x216542=await this[_0x596ca7(0x728)](_0x1d4943);_0x216542&&await this[_0x596ca7(0x875)](_0x1d4943,_0x216542);}async[a0_0x466431(0x68f)](_0x1b69b9,_0x2a333e,_0x380639){const _0x16d8fa=a0_0x466431;this[_0x16d8fa(0x379)][_0x16d8fa(0x704)](this['instanceName']+'\x20('+this[_0x16d8fa(0x6e8)][_0x16d8fa(0x64c)]+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{let _0x402649=this[_0x16d8fa(0x782)][_0x16d8fa(0x90c)][_0x16d8fa(0x5a4)](_0x356b12=>_0x356b12[_0x16d8fa(0x209)]===_0x1b69b9);_0x402649||this[_0x16d8fa(0x379)][_0x16d8fa(0x8d2)](this[_0x16d8fa(0x88a)]+'\x20('+this[_0x16d8fa(0x6e8)][_0x16d8fa(0x64c)]+_0x16d8fa(0x30d)+_0x1b69b9+_0x16d8fa(0x8ed));let _0x8b4175=await this['repository'][_0x16d8fa(0x686)][_0x16d8fa(0x2c9)]({'where':{'_id':_0x402649[_0x16d8fa(0x209)]}});if(!_0x8b4175||!_0x8b4175[_0x16d8fa(0x852)]?.[_0x16d8fa(0x6f2)](this[_0x16d8fa(0x6e8)][_0x16d8fa(0x64c)]))throw this[_0x16d8fa(0x379)][_0x16d8fa(0x8d2)](this['instanceName']+'\x20('+this[_0x16d8fa(0x6e8)]['wuid']+_0x16d8fa(0x30d)+_0x1b69b9+_0x16d8fa(0x3a2)),new m(_0x16d8fa(0x459)+_0x1b69b9+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x1a5037=require(_0x16d8fa(0x4fa))[_0x16d8fa(0x545)],_0x33493a=Date[_0x16d8fa(0x283)](),_0xbfd3ff='start',_0x26f10e={},_0x3ebda8={},_0x126d3f=this[_0x16d8fa(0x782)][_0x16d8fa(0x90c)][_0x16d8fa(0x5a4)](_0xdf4a16=>_0xdf4a16[_0x16d8fa(0x209)]===_0x8b4175['_id']?.['toString']()),_0x46d99c=_0x126d3f?.[_0x16d8fa(0x7d9)]??_0x8b4175['minutesToClose']??0x0,_0x194433=_0x126d3f?.[_0x16d8fa(0x8a6)]??_0x8b4175[_0x16d8fa(0x8a6)]??!0x1,_0x1f5541={'flowId':_0x402649[_0x16d8fa(0x209)],'readMessages':_0x402649[_0x16d8fa(0x8a6)],..._0x8b4175,'chatLog':null},_0x2c0f04={'lastReceivedMessage':_0x26f10e,'lastSendMessage':_0x3ebda8,'lastBlockId':_0xbfd3ff,'lastCondition':!0x0,'realVariables':_0x380639};_0x1f5541[_0x16d8fa(0x7cf)]=_0x2c0f04,_0x1f5541[_0x16d8fa(0x7cf)][_0x16d8fa(0x7af)]={..._0x380639},delete _0x1f5541['_id'],_0x1f5541[_0x16d8fa(0x209)]=new _0x1a5037(),_0x1f5541[_0x16d8fa(0x6a4)]=_0x33493a,_0x1f5541['status']=_0x16d8fa(0x70d),_0x1f5541[_0x16d8fa(0x84e)]=_0x2a333e,_0x1f5541[_0x16d8fa(0x7d9)]=_0x46d99c,_0x1f5541[_0x16d8fa(0x8a6)]=_0x194433;let _0x5f2c1e=await this[_0x16d8fa(0x7ae)][_0x16d8fa(0x414)][_0x16d8fa(0x86c)](_0x1f5541[_0x16d8fa(0x209)],_0x1f5541,this[_0x16d8fa(0x6e8)][_0x16d8fa(0x64c)]);return this[_0x16d8fa(0x379)][_0x16d8fa(0x704)](this[_0x16d8fa(0x88a)]+'\x20('+this[_0x16d8fa(0x6e8)]['wuid']+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x5f2c1e?_0x1f5541:null;}catch(_0x4d2453){let _0xe4744=_0x16d8fa(0x59d),_0x3a51c4=_0x4d2453 instanceof Error?_0x4d2453[_0x16d8fa(0x36a)]:typeof _0x4d2453==_0x16d8fa(0x3f1)?JSON[_0x16d8fa(0x66f)](_0x4d2453):_0x4d2453,_0x170202=_0xe4744+':\x20'+_0x3a51c4;throw this['logger'][_0x16d8fa(0x8d2)](this[_0x16d8fa(0x88a)]+'\x20('+this[_0x16d8fa(0x6e8)][_0x16d8fa(0x64c)]+'):\x20'+_0x170202),new m(_0x170202);}}async[a0_0x466431(0x582)](_0x25043f,_0x1970cc){const _0x1dc61c=a0_0x466431;let _0x27bddf,_0x378d23;try{let _0x2bc756=_0x1970cc[_0x1dc61c(0x5b2)];if(!_0x2bc756||!_0x2bc756[_0x1dc61c(0x479)]||!_0x2bc756[_0x1dc61c(0x28b)])throw new Error(_0x1dc61c(0x3bd));let _0x12fa64;([_0x1dc61c(0x2cb),_0x1dc61c(0x5c8),_0x1dc61c(0x87b)][_0x1dc61c(0x3fb)](_0x12cdaf=>_0x2bc756[_0x1dc61c(0x479)][_0x1dc61c(0x6f2)](_0x12cdaf))||_0x2bc756[_0x1dc61c(0x5e2)])&&(_0x12fa64=_0x1dc61c(0x303));let _0x7fa402='\u205f',_0x3c7a10;try{_0x3c7a10=JSON['parse'](_0x2bc756[_0x1dc61c(0x759)][_0x1dc61c(0x783)](new RegExp(_0x7fa402,'g'),''));}catch(_0x2431f9){throw _0x2431f9;}let _0x4cae6a={'method':_0x2bc756[_0x1dc61c(0x28b)],'url':_0x2bc756[_0x1dc61c(0x479)],'headers':_0x2bc756[_0x1dc61c(0x655)]||{},..._0x2bc756[_0x1dc61c(0x28b)][_0x1dc61c(0x520)]()!==_0x1dc61c(0x522)&&_0x2bc756[_0x1dc61c(0x759)]?{'data':JSON['parse'](_0x2bc756[_0x1dc61c(0x759)][_0x1dc61c(0x783)](new RegExp(_0x7fa402,'g'),''))}:{},..._0x12fa64&&{'responseType':_0x12fa64}},_0x375a47=await(0x0,K[_0x1dc61c(0x525)])(_0x4cae6a),_0x22575b=_0x375a47[_0x1dc61c(0x4e4)][_0x1dc61c(0x856)];if(_0x22575b&&_0x22575b[_0x1dc61c(0x6f2)]('application/json')||typeof _0x375a47['data']==_0x1dc61c(0x253)){if(typeof _0x375a47[_0x1dc61c(0x4a7)]==_0x1dc61c(0x253)){let _0x1b0f01=_0x375a47[_0x1dc61c(0x4a7)][_0x1dc61c(0x783)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x27bddf=JSON[_0x1dc61c(0x46d)](_0x1b0f01);}catch(_0x273a4e){this[_0x1dc61c(0x379)][_0x1dc61c(0x8d2)](_0x1dc61c(0x741)+_0x273a4e[_0x1dc61c(0x36a)]),_0x27bddf={'_apiResponse':_0x375a47['data']};}}else _0x27bddf=_0x375a47[_0x1dc61c(0x4a7)];let _0x2d05c2=_0x25043f['chatLog'][_0x1dc61c(0x7af)],_0x3b5b5d=this['flattenObject'](_0x27bddf);return Object[_0x1dc61c(0x25a)](_0x2d05c2,_0x3b5b5d),_0x25043f[_0x1dc61c(0x7cf)][_0x1dc61c(0x7af)]=_0x2d05c2,_0x378d23={'error':!0x1,'apiResponse':_0x27bddf},this[_0x1dc61c(0x65e)](_0x25043f,_0x1970cc,_0x378d23),_0x27bddf;}if(_0x22575b&&(_0x22575b[_0x1dc61c(0x6f2)]('application/octet-stream')||_0x22575b[_0x1dc61c(0x6f2)](_0x1dc61c(0x615))||_0x22575b[_0x1dc61c(0x6f2)](_0x1dc61c(0x4e3))||_0x22575b[_0x1dc61c(0x6f2)](_0x1dc61c(0x850)))){this[_0x1dc61c(0x379)][_0x1dc61c(0x704)](this['instanceName']+'\x20('+this[_0x1dc61c(0x6e8)][_0x1dc61c(0x64c)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x22575b);let _0x1f7384=(0x0,Q['v4'])(),_0x2374cd='',_0x2b75a3={'image/jpeg':_0x1dc61c(0x817),'image/png':_0x1dc61c(0x268),'image/gif':_0x1dc61c(0x317),'image/webp':_0x1dc61c(0x6ef),'image/svg+xml':'.svg','audio/mpeg':_0x1dc61c(0x5a8),'audio/ogg':_0x1dc61c(0x305),'audio/wav':'.wav','video/mp4':_0x1dc61c(0x417),'video/webm':'.webm','video/ogg':_0x1dc61c(0x5fa),'text/plain':_0x1dc61c(0x37d),'application/pdf':_0x1dc61c(0x2e6),'application/msword':_0x1dc61c(0x55a),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':'.docx','application/vnd.ms-excel':'.xls','application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x1dc61c(0x840),'application/vnd.ms-powerpoint':_0x1dc61c(0x3ac),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x1dc61c(0x699)};_0x2b75a3[_0x22575b]?(_0x2374cd=_0x2b75a3[_0x22575b],this['logger']['verbose'](this[_0x1dc61c(0x88a)]+'\x20('+this[_0x1dc61c(0x6e8)]['wuid']+_0x1dc61c(0x208)+_0x2374cd)):(_0x2374cd=_0x1dc61c(0x511),this[_0x1dc61c(0x379)][_0x1dc61c(0x704)](this['instanceName']+'\x20('+this[_0x1dc61c(0x6e8)][_0x1dc61c(0x64c)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x2374cd)),_0x1f7384+=_0x2374cd,this['logger'][_0x1dc61c(0x704)](this[_0x1dc61c(0x88a)]+'\x20('+this[_0x1dc61c(0x6e8)]['wuid']+_0x1dc61c(0x41e)+_0x1f7384);let _0x215b86=this[_0x1dc61c(0x338)][_0x1dc61c(0x438)]('SERVER')['URL'];if(!_0x215b86){let _0x265347=this[_0x1dc61c(0x338)][_0x1dc61c(0x438)]('SSL_CONF');_0x215b86=_0x1dc61c(0x692)+(_0x265347&&_0x265347[_0x1dc61c(0x2ab)][_0x1dc61c(0x38b)]('/')[0x4]);}let _0x60c490=Buffer['from'](_0x375a47['data']);await this[_0x1dc61c(0x786)](_0x60c490,_0x1f7384);let _0x2433fc='/media/'+_0x1f7384;_0x2433fc=''+_0x215b86+_0x2433fc,_0x27bddf={'fileUrl':_0x2433fc},_0x25043f[_0x1dc61c(0x7cf)][_0x1dc61c(0x7af)][_0x1dc61c(0x644)]=_0x2433fc;let _0x1c42a4=_0x25043f['chatLog'][_0x1dc61c(0x7af)],_0x45cf0e=this[_0x1dc61c(0x8d5)](_0x27bddf);return Object['assign'](_0x1c42a4,_0x45cf0e),_0x25043f[_0x1dc61c(0x7cf)][_0x1dc61c(0x7af)]=_0x1c42a4,_0x378d23={'error':!0x1,'apiResponse':{'fileUrl':_0x2433fc}},this[_0x1dc61c(0x65e)](_0x25043f,_0x1970cc,_0x378d23),_0x27bddf;}}catch(_0xdfe099){this[_0x1dc61c(0x379)]['error']('Erro\x20ao\x20processar\x20a\x20chamada\x20API:'+_0xdfe099[_0x1dc61c(0x36a)]),_0xdfe099[_0x1dc61c(0x526)]&&(_0x27bddf=_0xdfe099[_0x1dc61c(0x526)][_0x1dc61c(0x4a7)]);let _0x277225=_0x25043f[_0x1dc61c(0x7cf)]['realVariables'],_0xfb9473=this[_0x1dc61c(0x8d5)](_0x27bddf);return Object[_0x1dc61c(0x25a)](_0x277225,_0xfb9473),_0x25043f['chatLog'][_0x1dc61c(0x7af)]=_0x277225,_0x378d23={'error':!0x0,'errorLog':_0xdfe099['toString'](),'apiResponse':_0x27bddf},this['updateConversation'](_0x25043f,_0x1970cc,_0x378d23),{'success':!0x1};}}[a0_0x466431(0x24e)](_0xb27c4d,_0x2f3421){const _0x32216f=a0_0x466431;let _0x491446=_0x4350bf=>{const _0x31fbcf=a0_0x192a;let _0x492cea=_0x4350bf[_0x31fbcf(0x783)](/[^0-9.,-]/g,'')[_0x31fbcf(0x783)](',','.'),_0x4a4cb3=parseFloat(_0x492cea);return isNaN(_0x4a4cb3)?null:_0x4a4cb3;},_0x4f8798=_0x2f3421['firstValue'],_0x1ee728=_0x2f3421['secondValue'];typeof _0x4f8798==_0x32216f(0x253)&&(_0x4f8798=this[_0x32216f(0x86a)](_0x4f8798,_0xb27c4d['chatLog']['realVariables'])??''),typeof _0x1ee728==_0x32216f(0x253)&&(_0x1ee728=this[_0x32216f(0x86a)](_0x1ee728,_0xb27c4d[_0x32216f(0x7cf)][_0x32216f(0x7af)])??'');let _0x3b84a4=null;if(!_0x2f3421[_0x32216f(0x4bd)])return null;switch(this['logger']['verbose'](this[_0x32216f(0x88a)]+'\x20('+this[_0x32216f(0x6e8)]['wuid']+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x4f8798),this[_0x32216f(0x379)][_0x32216f(0x704)](this[_0x32216f(0x88a)]+'\x20('+this[_0x32216f(0x6e8)]['wuid']+_0x32216f(0x3e5)+_0x1ee728),_0x2f3421[_0x32216f(0x4bd)]){case'+':case'-':case'*':case'/':let _0x369155=_0x491446(_0x4f8798||'0'),_0x555583=_0x491446(_0x1ee728||'0');if(_0x369155===null)return null;switch(_0x2f3421[_0x32216f(0x4bd)]){case'+':_0x3b84a4=_0x369155+(_0x555583??0x0);break;case'-':_0x3b84a4=_0x369155-(_0x555583??0x0);break;case'*':_0x3b84a4=_0x369155*(_0x555583??0x1);break;case'/':_0x555583!==0x0&&(_0x3b84a4=_0x369155/(_0x555583??0x1));break;}break;case'findAndReplace':case _0x32216f(0x5de):let _0x4b4cac=_0x1ee728,_0xf2f09b=_0x2f3421[_0x32216f(0x774)];if(typeof _0xf2f09b==_0x32216f(0x253)&&(_0xf2f09b=this[_0x32216f(0x86a)](_0xf2f09b,_0xb27c4d[_0x32216f(0x7cf)][_0x32216f(0x7af)])??''),_0x4b4cac&&_0xf2f09b!==void 0x0){let _0x3efd38=_0x2f3421[_0x32216f(0x4bd)]===_0x32216f(0x1dd)?new RegExp(_0x4b4cac['replace'](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x4b4cac,'g');_0x3b84a4=_0x4f8798[_0x32216f(0x783)](_0x3efd38,_0xf2f09b);}else console['warn'](_0x32216f(0x334));break;case _0x32216f(0x1b0):_0x3b84a4=_0x1ee728;break;case'extractRegex':let _0x4e388b=_0x4f8798[_0x32216f(0x666)](new RegExp(_0x1ee728||''));_0x3b84a4=_0x4e388b?_0x4e388b[0x0]:'';break;case'truncatedto':_0x3b84a4=_0x4f8798['slice'](0x0,parseInt(_0x1ee728||'0'));break;case _0x32216f(0x69b):let _0x31633f=parseInt(_0x1ee728||'0');_0x3b84a4=_0x4f8798['slice'](_0x4f8798['length']-_0x31633f);break;case _0x32216f(0x415):let _0x571a32=_0x491446(_0x4f8798),_0x300bdc=parseInt(_0x1ee728||'0');_0x300bdc=Math['abs'](_0x300bdc),_0x571a32!==null?_0x3b84a4=_0x571a32[_0x32216f(0x1e3)](_0x32216f(0x8a7),{'minimumFractionDigits':_0x300bdc,'maximumFractionDigits':_0x300bdc}):(console['warn'](_0x32216f(0x5cc)+_0x4f8798),_0x3b84a4=null);break;case _0x32216f(0x571):let _0x4f21b1=_0x491446(_0x4f8798);_0x4f21b1!==null?_0x3b84a4=_0x4f21b1[_0x32216f(0x1e3)]('pt-BR',{'style':_0x32216f(0x76e),'currency':_0x32216f(0x413)}):(console[_0x32216f(0x2e7)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x4f8798),_0x3b84a4=null);break;case _0x32216f(0x5f1):_0x3b84a4=_0x4f8798[_0x32216f(0x520)]();break;case _0x32216f(0x65d):_0x3b84a4=_0x4f8798['toLowerCase']();break;case'capitalizedWords':_0x3b84a4=_0x4f8798[_0x32216f(0x38b)]('\x20')[_0x32216f(0x1e8)](_0x5bb08f=>_0x5bb08f[_0x32216f(0x607)](0x0)[_0x32216f(0x520)]()+_0x5bb08f[_0x32216f(0x30a)](0x1)[_0x32216f(0x884)]())['join']('\x20');break;case _0x32216f(0x316):_0x3b84a4=JSON['stringify'](_0x4f8798);break;case _0x32216f(0x82e):_0x3b84a4=_0x4f8798[_0x32216f(0x8bd)]();break;default:_0x3b84a4=_0x4f8798;}return _0x3b84a4!==null?_0x3b84a4[_0x32216f(0x1d0)]():null;}async[a0_0x466431(0x233)](_0xa63000,_0x86eb86){const _0x190a92=a0_0x466431;try{let _0x470571=_0xa63000['varedits']?.[_0x190a92(0x189)](_0x473d1b=>_0x473d1b[_0x190a92(0x88c)]===_0x86eb86[_0x190a92(0x209)]?.[_0x190a92(0x1d0)]())||[],_0x364fe1=_0x86eb86['saveVariable'],_0x5599e9=null,_0x188bb9=[],_0x206b8e=_0xa63000['chatLog']['realVariables'][_0x364fe1];_0x188bb9['push'](_0x190a92(0x2a5)+_0x206b8e+'\x22');for(let _0x184322 of _0x470571){_0x184322[_0x190a92(0x1db)]=_0x206b8e,_0x5599e9=_0x184322['firstValue'];let _0x456a0f;try{_0x456a0f=this[_0x190a92(0x24e)](_0xa63000,_0x184322);}catch(_0x1f665c){this[_0x190a92(0x379)][_0x190a92(0x8d2)](_0x190a92(0x82d)+_0x1f665c[_0x190a92(0x36a)]);continue;}if(_0x456a0f!==null){let _0x203782=_0x190a92(0x895)+_0x184322[_0x190a92(0x4bd)]+'\x22',_0x4c60a8=['toBRL',_0x190a92(0x5f1),_0x190a92(0x65d),'capitalizedWords','trimmed'];_0x184322['editOperator']===_0x190a92(0x1dd)||_0x184322[_0x190a92(0x4bd)]===_0x190a92(0x5de)?_0x203782+=_0x190a92(0x541)+_0x184322['secondValue']+_0x190a92(0x4f2)+_0x184322[_0x190a92(0x774)]+'\x22':!_0x4c60a8[_0x190a92(0x6f2)](_0x184322[_0x190a92(0x4bd)])&&_0x184322['secondValue']!==null&&_0x184322['secondValue']!==void 0x0&&(_0x203782+=_0x190a92(0x227)+_0x184322[_0x190a92(0x1ba)]+'\x22'),_0x203782+=_0x190a92(0x264)+_0x456a0f+'.',_0x188bb9[_0x190a92(0x543)](_0x203782);}_0x456a0f!==null&&(_0x206b8e=_0x456a0f);}if(_0xa63000[_0x190a92(0x7cf)]['realVariables']&&_0x86eb86[_0x190a92(0x468)]){_0xa63000[_0x190a92(0x7cf)][_0x190a92(0x7af)][_0x86eb86['saveVariable']]=_0x206b8e;let _0x43c37a={'variable':_0x86eb86[_0x190a92(0x468)],'oldValue':_0x5599e9,'newValue':_0x206b8e,'moreLogs':_0x188bb9};try{this[_0x190a92(0x65e)](_0xa63000,_0x86eb86,_0x43c37a);}catch(_0x24a224){this[_0x190a92(0x379)][_0x190a92(0x8d2)](_0x190a92(0x6c1)+_0x24a224[_0x190a92(0x36a)]);}}return _0x364fe1;}catch(_0x1bd3c8){return this['logger']['error'](_0x190a92(0x8ef)+_0x1bd3c8[_0x190a92(0x36a)]),null;}}async[a0_0x466431(0x596)](_0x279735,_0x1967b2){const _0x55bd36=a0_0x466431;try{let _0x2d9b5c=[],_0x330c71=_0x279735[_0x55bd36(0x61e)][_0x55bd36(0x189)](_0x44cebb=>_0x44cebb[_0x55bd36(0x88c)]===_0x1967b2[_0x55bd36(0x209)][_0x55bd36(0x1d0)]()),_0xb6c742=null,_0x419e8a=!0x1;for(let _0x3d9e6d of _0x330c71){let _0x18b38d=this[_0x55bd36(0x5e8)](_0x279735,_0x3d9e6d);_0x2d9b5c[_0x55bd36(0x543)](_0x55bd36(0x1fb)+_0x3d9e6d[_0x55bd36(0x1db)]+_0x55bd36(0x4f3)+_0x3d9e6d[_0x55bd36(0x825)]+_0x55bd36(0x641)+_0x3d9e6d[_0x55bd36(0x1ba)]+',\x20Resultado:\x20'+_0x18b38d),_0xb6c742===null?_0xb6c742=_0x18b38d:_0x3d9e6d[_0x55bd36(0x836)]===_0x55bd36(0x410)?(_0xb6c742=_0xb6c742&&_0x18b38d,_0x18b38d||(_0x419e8a=!0x0)):_0x3d9e6d[_0x55bd36(0x836)]==='or'&&(_0x419e8a||(_0xb6c742=_0xb6c742||_0x18b38d));}_0xb6c742===null&&(_0xb6c742=!0x0);let _0x46d7f6={'moreLogs':_0x2d9b5c};_0x279735[_0x55bd36(0x7cf)][_0x55bd36(0x698)]=_0xb6c742,await this[_0x55bd36(0x65e)](_0x279735,_0x1967b2,_0x46d7f6);}catch(_0x492def){this[_0x55bd36(0x379)]['error'](this[_0x55bd36(0x88a)]+'\x20('+this[_0x55bd36(0x6e8)][_0x55bd36(0x64c)]+'):\x20Error\x20processing\x20conditions:\x20'+(_0x492def instanceof Error?_0x492def['message']:JSON[_0x55bd36(0x66f)](_0x492def,null,0x2)));}}[a0_0x466431(0x5e8)](_0x51d654,_0x2ba8d0){const _0x106261=a0_0x466431;let _0x1b78b8=_0x2ba8d0['firstValue'],_0x3b4097=_0x2ba8d0[_0x106261(0x1ba)];typeof _0x1b78b8==_0x106261(0x253)&&(_0x1b78b8=this[_0x106261(0x86a)](_0x1b78b8,_0x51d654[_0x106261(0x7cf)]['realVariables'])??''),typeof _0x3b4097=='string'&&(_0x3b4097=this[_0x106261(0x86a)](_0x3b4097,_0x51d654[_0x106261(0x7cf)][_0x106261(0x7af)])??'');try{switch(_0x2ba8d0[_0x106261(0x825)]){case _0x106261(0x7a5):return _0x1b78b8===_0x3b4097;case _0x106261(0x2a0):return _0x1b78b8!==_0x3b4097;case'contains':return this[_0x106261(0x1af)](_0x1b78b8,_0x3b4097);case _0x106261(0x720):return!this['contains'](_0x1b78b8,_0x3b4097);case _0x106261(0x710):return parseFloat(_0x1b78b8)>parseFloat(_0x3b4097);case'less':return parseFloat(_0x1b78b8)<parseFloat(_0x3b4097);case _0x106261(0x411):return _0x1b78b8!=='';case _0x106261(0x89b):return _0x1b78b8==='';case _0x106261(0x7f5):return new RegExp(_0x3b4097)[_0x106261(0x7f2)](_0x1b78b8);case _0x106261(0x674):return!new RegExp(_0x3b4097)['test'](_0x1b78b8);default:return!0x1;}}catch(_0x545b2c){return this[_0x106261(0x379)][_0x106261(0x8d2)](_0x106261(0x3dd)+_0x545b2c),!0x1;}}[a0_0x466431(0x1af)](_0x2830c7,_0x22178a){const _0x4fcff0=a0_0x466431;if(_0x2830c7===_0x22178a&&/^\d+$/[_0x4fcff0(0x7f2)](_0x2830c7))return!0x0;if(this[_0x4fcff0(0x47c)](_0x2830c7)&&/^\d+$/[_0x4fcff0(0x7f2)](_0x22178a)){let _0x4df8e7=_0x2830c7['split'](',')['map'](_0x3f6238=>parseInt(_0x3f6238[_0x4fcff0(0x8bd)]())),_0x43ade8=parseInt(_0x22178a);return _0x4df8e7[_0x4fcff0(0x6f2)](_0x43ade8);}return _0x2830c7[_0x4fcff0(0x6f2)](_0x22178a);}[a0_0x466431(0x47c)](_0x239215){return/^\d+(,\d+)*$/['test'](_0x239215);}[a0_0x466431(0x462)](_0x260d4f){const _0x218a67=a0_0x466431;let _0x4284f7=!0x0,_0x4e542b=null;for(let _0xf36504 of _0x260d4f){let _0x486e48=this[_0x218a67(0x628)](_0xf36504);if(_0x4e542b==='or'&&_0x486e48){_0x4284f7=!0x0;break;}if(_0x4e542b===_0x218a67(0x410)&&!_0x486e48){_0x4284f7=!0x1;break;}_0x4e542b=_0xf36504[_0x218a67(0x836)];}return _0x4284f7;}[a0_0x466431(0x628)](_0xa0e637){const _0x33a946=a0_0x466431;let _0x54b880=_0xa0e637[_0x33a946(0x1db)],_0x53b77f=_0xa0e637[_0x33a946(0x1ba)];try{switch(_0xa0e637['expression']){case'equal':return String(_0x54b880)===String(_0x53b77f);case'notEqual':return String(_0x54b880)!==String(_0x53b77f);case _0x33a946(0x1af):return String(_0x54b880)[_0x33a946(0x6f2)](String(_0x53b77f));case _0x33a946(0x720):return!String(_0x54b880)['includes'](String(_0x53b77f));case _0x33a946(0x710):return parseFloat(String(_0x54b880))>parseFloat(String(_0x53b77f));case'less':return parseFloat(String(_0x54b880))<parseFloat(String(_0x53b77f));case'notEmpty':return String(_0x54b880)!=='';case _0x33a946(0x89b):return String(_0x54b880)==='';case _0x33a946(0x7f5):return new RegExp(String(_0x53b77f))['test'](String(_0x54b880));case _0x33a946(0x674):return!new RegExp(String(_0x53b77f))[_0x33a946(0x7f2)](String(_0x54b880));default:return!0x1;}}catch(_0x3f2a5b){return this[_0x33a946(0x379)][_0x33a946(0x8d2)](_0x33a946(0x3dd)+_0x3f2a5b),!0x1;}}async[a0_0x466431(0x302)](_0x154e46,_0x5bedbe){const _0x3ee092=a0_0x466431;if(this[_0x3ee092(0x379)][_0x3ee092(0x704)](this[_0x3ee092(0x88a)]+'\x20('+this['instance'][_0x3ee092(0x64c)]+_0x3ee092(0x6ed)),!_0x154e46||!_0x5bedbe)return this[_0x3ee092(0x379)][_0x3ee092(0x8d2)](this['instanceName']+'\x20('+this[_0x3ee092(0x6e8)][_0x3ee092(0x64c)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x37ff5a=_0x154e46[_0x3ee092(0x7cf)]['lastReceivedMessage'][_0x3ee092(0x714)]['id'];this['logger'][_0x3ee092(0x704)](this[_0x3ee092(0x88a)]+'\x20('+this[_0x3ee092(0x6e8)]['wuid']+_0x3ee092(0x48f)+_0x37ff5a);let _0x453592={'key':{'id':_0x37ff5a}},_0x313319=_0x5bedbe['saveVariable'];_0x154e46[_0x3ee092(0x7cf)][_0x3ee092(0x7af)]['_'+_0x313319+'.fileUrl']=null,_0x154e46['chatLog']['realVariables']['_'+_0x313319+_0x3ee092(0x608)]=null,_0x154e46[_0x3ee092(0x7cf)][_0x3ee092(0x7af)]['_'+_0x313319+_0x3ee092(0x549)]=null,_0x154e46[_0x3ee092(0x7cf)]['realVariables']['_'+_0x313319+_0x3ee092(0x2f9)]=_0x154e46[_0x3ee092(0x7cf)][_0x3ee092(0x708)][_0x3ee092(0x688)];try{let _0x39e96f=await this[_0x3ee092(0x5d0)](_0x453592);this[_0x3ee092(0x379)][_0x3ee092(0x704)](this[_0x3ee092(0x88a)]+'\x20('+this['instance'][_0x3ee092(0x64c)]+_0x3ee092(0x2b4)),_0x154e46[_0x3ee092(0x7cf)][_0x3ee092(0x7af)]['_'+_0x313319+_0x3ee092(0x26b)]=_0x39e96f['fileUrl'],_0x154e46[_0x3ee092(0x7cf)][_0x3ee092(0x7af)]['_'+_0x313319+_0x3ee092(0x608)]=_0x39e96f[_0x3ee092(0x39f)];let _0x517d24=_0x39e96f[_0x3ee092(0x39f)]['match'](/\/(\w+)$/),_0x3265f2=_0x517d24?_0x517d24[0x1]:null;_0x154e46[_0x3ee092(0x7cf)]['realVariables']['_'+_0x313319+_0x3ee092(0x549)]=_0x3265f2,this[_0x3ee092(0x379)][_0x3ee092(0x704)](this[_0x3ee092(0x88a)]+'\x20('+this[_0x3ee092(0x6e8)]['wuid']+_0x3ee092(0x74a)+_0x313319+'\x27.');}catch(_0x331505){this[_0x3ee092(0x379)]['error'](this[_0x3ee092(0x88a)]+'\x20('+this[_0x3ee092(0x6e8)][_0x3ee092(0x64c)]+_0x3ee092(0x508)+_0x331505['message']);}let _0x3682d1=_0x154e46[_0x3ee092(0x7cf)][_0x3ee092(0x708)][_0x3ee092(0x6d0)]||_0x154e46[_0x3ee092(0x7cf)][_0x3ee092(0x708)][_0x3ee092(0x378)]||_0x154e46['chatLog'][_0x3ee092(0x708)]['vote'];try{_0x154e46[_0x3ee092(0x7cf)]['realVariables']||(_0x154e46[_0x3ee092(0x7cf)][_0x3ee092(0x7af)]={});let _0x49fcc6=_0x154e46['chatLog'][_0x3ee092(0x7af)][_0x313319];_0x154e46[_0x3ee092(0x7cf)][_0x3ee092(0x7af)][_0x313319]=_0x3682d1;let _0x822228={'variable':_0x313319,'oldValue':_0x49fcc6,'newValue':_0x3682d1};this[_0x3ee092(0x65e)](_0x154e46,_0x5bedbe,_0x822228),this[_0x3ee092(0x379)][_0x3ee092(0x704)](this[_0x3ee092(0x88a)]+'\x20('+this['instance'][_0x3ee092(0x64c)]+_0x3ee092(0x8e0));}catch(_0x284ac2){let _0x222e41={'error':!0x0,'errorLog':_0x284ac2[_0x3ee092(0x1d0)]()};return this[_0x3ee092(0x65e)](_0x154e46,_0x5bedbe,_0x222e41),this[_0x3ee092(0x379)][_0x3ee092(0x8d2)](this[_0x3ee092(0x88a)]+'\x20('+this[_0x3ee092(0x6e8)]['wuid']+_0x3ee092(0x891)+(_0x284ac2 instanceof Error?_0x284ac2['message']:JSON[_0x3ee092(0x66f)](_0x284ac2,null,0x2))),null;}}async[a0_0x466431(0x497)](_0x3821f5,_0x4193e2){const _0x4d45c6=a0_0x466431;if(this['logger'][_0x4d45c6(0x704)](this[_0x4d45c6(0x88a)]+'\x20('+this[_0x4d45c6(0x6e8)][_0x4d45c6(0x64c)]+_0x4d45c6(0x7f7)),!_0x3821f5||!_0x4193e2)return this[_0x4d45c6(0x379)]['error'](this[_0x4d45c6(0x88a)]+'\x20('+this[_0x4d45c6(0x6e8)][_0x4d45c6(0x64c)]+_0x4d45c6(0x5f5)),null;let _0x38001f=Date[_0x4d45c6(0x283)](),_0x217ae4=parseInt(_0x4193e2[_0x4d45c6(0x3f2)],0xa);if(isNaN(_0x217ae4))return this[_0x4d45c6(0x379)]['error'](this[_0x4d45c6(0x88a)]+'\x20('+this['instance']['wuid']+_0x4d45c6(0x23b)),null;let _0x1a9d84={'newStoppedUntil':_0x38001f+_0x217ae4*0x3c*0x3e8};return await this[_0x4d45c6(0x65e)](_0x3821f5,_0x4193e2,_0x1a9d84,!0x0),null;}async[a0_0x466431(0x64e)](_0x19fea4,_0x24d8d3){const _0xec6ec2=a0_0x466431;try{switch(_0x24d8d3[_0xec6ec2(0x2bd)][_0xec6ec2(0x30b)]){case _0xec6ec2(0x909):await this[_0xec6ec2(0x276)](_0x19fea4,_0x24d8d3);break;case _0xec6ec2(0x91f):await this[_0xec6ec2(0x35e)](_0x19fea4,_0x24d8d3);break;case _0xec6ec2(0x1bf):await this[_0xec6ec2(0x897)](_0x19fea4,_0x24d8d3);break;case'sendAudio':await this['uazapiSendAudio'](_0x19fea4,_0x24d8d3);break;case _0xec6ec2(0x639):await this[_0xec6ec2(0x357)](_0x19fea4,_0x24d8d3);break;case _0xec6ec2(0x821):await this[_0xec6ec2(0x6c7)](_0x19fea4,_0x24d8d3);break;case _0xec6ec2(0x183):await this[_0xec6ec2(0x6c7)](_0x19fea4,_0x24d8d3);break;case _0xec6ec2(0x19b):await this[_0xec6ec2(0x6d7)](_0x19fea4,_0x24d8d3);break;default:this[_0xec6ec2(0x379)][_0xec6ec2(0x8d2)](this[_0xec6ec2(0x88a)]+'\x20('+this[_0xec6ec2(0x6e8)]['wuid']+_0xec6ec2(0x394)+_0x24d8d3[_0xec6ec2(0x2bd)][_0xec6ec2(0x30b)]);}}catch(_0x50cd34){this[_0xec6ec2(0x379)][_0xec6ec2(0x8d2)](this['instanceName']+'\x20('+this[_0xec6ec2(0x6e8)][_0xec6ec2(0x64c)]+_0xec6ec2(0x50f)+(_0x50cd34 instanceof Error?_0x50cd34[_0xec6ec2(0x36a)]:JSON[_0xec6ec2(0x66f)](_0x50cd34,null,0x2)));}}async['updateConversation'](_0x3c0e88,_0xa54e1,_0x11873d,_0x586284=!0x1,_0x44b1bb=!0x1){const _0xe39535=a0_0x466431;_0x3c0e88['chatLog'][_0xe39535(0x350)]||(_0x3c0e88[_0xe39535(0x7cf)][_0xe39535(0x350)]=[]);let _0x4f3858=(_0x3c0e88[_0xe39535(0x7cf)][_0xe39535(0x350)]?.[_0xe39535(0x3d4)]??0x0)+0x1,_0x24b7d2=_0x3c0e88[_0xe39535(0x7cf)][_0xe39535(0x350)][_0xe39535(0x189)](_0x782572=>String(_0x782572[_0xe39535(0x88c)])===String(_0xa54e1[_0xe39535(0x209)]))[_0xe39535(0x3d4)]+0x1,_0x167332=_0x11873d?.[_0xe39535(0x633)]??Date[_0xe39535(0x283)](),_0x58bb08=_0x11873d?.[_0xe39535(0x8d2)]?_0x11873d['errorLog']??_0x11873d[_0xe39535(0x8d2)][_0xe39535(0x1d0)]():void 0x0,_0x17cd79={'onTime':_0x167332,'blockId':_0xa54e1['_id'],'order':_0x4f3858,'activatedCount':_0x24b7d2,'error':_0x11873d?.['error']??!0x1,'messageId':_0x11873d?.[_0xe39535(0x49e)],'apiResponse':_0x11873d?.[_0xe39535(0x7f6)],'apiResponseString':_0x11873d?.[_0xe39535(0x7f6)]?JSON[_0xe39535(0x66f)](_0x11873d?.[_0xe39535(0x7f6)]):void 0x0,'variable':_0x11873d?.[_0xe39535(0x5f8)],'oldValue':_0x11873d?.['oldValue'],'newValue':_0x11873d?.['newValue'],'newStoppedUntil':_0x11873d?.[_0xe39535(0x5b9)],'moreLogs':_0x11873d?.[_0xe39535(0x2d2)],'errorLog':_0x58bb08};if(_0x11873d[_0xe39535(0x2d2)]&&_0x11873d[_0xe39535(0x2d2)][_0xe39535(0x3d4)]>0x0){let _0x53b7c6=_0x11873d[_0xe39535(0x2d2)][_0xe39535(0x1e8)](_0x8d5143=>this[_0xe39535(0x603)](_0x8d5143,_0x3c0e88['chatLog'][_0xe39535(0x7af)]));_0x17cd79['moreLogs']=_0x53b7c6;}if(_0x3c0e88[_0xe39535(0x7cf)][_0xe39535(0x7af)]||(_0x3c0e88[_0xe39535(0x7cf)]['realVariables']={}),_0x3c0e88[_0xe39535(0x7cf)]['realVariables'][_0xe39535(0x322)]=String(_0x24b7d2),_0x3c0e88['chatLog'][_0xe39535(0x7af)][_0xe39535(0x7ac)]=String(_0x11873d[_0xe39535(0x8d2)]??!0x1),_0x3c0e88[_0xe39535(0x7cf)][_0xe39535(0x350)][_0xe39535(0x543)](_0x17cd79),_0x3c0e88[_0xe39535(0x7cf)]['realVariables'][_0xe39535(0x48b)]&&_0x3c0e88[_0xe39535(0x7cf)][_0xe39535(0x7af)]['telefone']!==_0x3c0e88[_0xe39535(0x84e)]){let _0xb88e9c=(await this[_0xe39535(0x52b)]({'numbers':[_0x3c0e88[_0xe39535(0x7cf)]['realVariables'][_0xe39535(0x48b)]]}))[0x0][_0xe39535(0x6dc)];_0x3c0e88['chatLog'][_0xe39535(0x7af)][_0xe39535(0x48b)]=_0xb88e9c,_0x3c0e88[_0xe39535(0x84e)]=_0xb88e9c;try{let _0x2b9867={'_id':{'$ne':_0x3c0e88[_0xe39535(0x209)]},'remoteJid':_0xb88e9c,'status':_0xe39535(0x70d)},_0xe30971={'status':_0xe39535(0x2ed)};await this['repository'][_0xe39535(0x414)][_0xe39535(0x555)](_0x2b9867,_0xe30971,this[_0xe39535(0x6e8)][_0xe39535(0x64c)]),this[_0xe39535(0x379)]['verbose'](this[_0xe39535(0x88a)]+'\x20('+this[_0xe39535(0x6e8)]['wuid']+_0xe39535(0x35a));}catch(_0x5d81b8){this[_0xe39535(0x379)][_0xe39535(0x8d2)](this[_0xe39535(0x88a)]+'\x20('+this[_0xe39535(0x6e8)]['wuid']+_0xe39535(0x345)+_0x5d81b8[_0xe39535(0x36a)]);}try{let _0x329934=_0x3c0e88[_0xe39535(0x7cf)][_0xe39535(0x7af)],_0x355f36=await this[_0xe39535(0x6c8)](_0xb88e9c),_0x455936={..._0x329934,..._0x355f36,'_remoteJid':_0xb88e9c};_0x3c0e88[_0xe39535(0x7cf)][_0xe39535(0x7af)]=_0x455936;}catch(_0x3de6f0){this['logger'][_0xe39535(0x8d2)](this[_0xe39535(0x88a)]+'\x20('+this[_0xe39535(0x6e8)][_0xe39535(0x64c)]+_0xe39535(0x58b)+_0x3de6f0[_0xe39535(0x36a)]);}}_0x3c0e88[_0xe39535(0x7cf)]['lastBlockId']=_0xa54e1['_id'][_0xe39535(0x1d0)](),_0x3c0e88['chatLog'][_0xe39535(0x7a9)]&&(_0x3c0e88[_0xe39535(0x7cf)][_0xe39535(0x7a9)]=_0x3c0e88[_0xe39535(0x7cf)][_0xe39535(0x7a9)]),_0x3c0e88[_0xe39535(0x7cf)]['lastReceivedMessage']&&(_0x3c0e88[_0xe39535(0x7cf)][_0xe39535(0x708)]=_0x3c0e88[_0xe39535(0x7cf)]['lastReceivedMessage']),_0x3c0e88[_0xe39535(0x7cf)][_0xe39535(0x698)]&&(_0x3c0e88[_0xe39535(0x7cf)]['lastCondition']=_0x3c0e88['chatLog'][_0xe39535(0x698)]),_0x44b1bb&&(_0x3c0e88[_0xe39535(0x309)]=_0xe39535(0x2ed)),_0x586284?this[_0xe39535(0x30c)](_0x3c0e88):this['goNextblock'](_0x3c0e88,_0xa54e1);}[a0_0x466431(0x603)](_0x3099cb,_0x1f8d5a){const _0x40c2ca=a0_0x466431;return _0x3099cb['replace'](/\{\{([^}]+)\}\}/g,(_0x3e42de,_0x59e5ce)=>_0x1f8d5a[_0x59e5ce]?'{{'+_0x59e5ce+_0x40c2ca(0x266)+_0x1f8d5a[_0x59e5ce]+'\x22':'{{'+_0x59e5ce+_0x40c2ca(0x63c));}async[a0_0x466431(0x30c)](_0x5e1135){const _0x50f967=a0_0x466431;try{let _0x501799=Object[_0x50f967(0x3b3)](_0x5e1135[_0x50f967(0x7cf)][_0x50f967(0x7af)])[_0x50f967(0x1e8)](([_0x437f9a,_0x1146f8])=>({'name':_0x437f9a,'value':_0x1146f8})),_0x23680a={'status':_0x5e1135[_0x50f967(0x309)],'remoteJid':_0x5e1135[_0x50f967(0x84e)],'blocks':_0x5e1135[_0x50f967(0x79d)],'waitingMenu_id':_0x5e1135[_0x50f967(0x28f)],'waitingMenu_text':_0x5e1135['waitingMenu_text'],'waitingMenu_replyOptions':_0x5e1135['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x5e1135[_0x50f967(0x7cf)]['lastBlockId'],'lastSendMessage':_0x5e1135[_0x50f967(0x7cf)][_0x50f967(0x7a9)],'lastReceivedMessage':_0x5e1135[_0x50f967(0x7cf)]['lastReceivedMessage'],'lastCondition':_0x5e1135[_0x50f967(0x7cf)][_0x50f967(0x698)],'chatVariables':_0x501799,'realVariables':_0x5e1135['chatLog'][_0x50f967(0x7af)],'blockLogs':_0x5e1135[_0x50f967(0x7cf)][_0x50f967(0x350)]}},_0x335962=await this[_0x50f967(0x7ae)][_0x50f967(0x414)][_0x50f967(0x86c)](_0x5e1135[_0x50f967(0x209)],_0x23680a,this['instance']['wuid']);if(_0x335962){this[_0x50f967(0x379)]['verbose'](this[_0x50f967(0x88a)]+'\x20('+this[_0x50f967(0x6e8)][_0x50f967(0x64c)]+_0x50f967(0x312)+_0x335962[_0x50f967(0x209)]);try{let _0x461d26=[_0x50f967(0x1f9),_0x50f967(0x295),'email',_0x50f967(0x25b),_0x50f967(0x309),_0x50f967(0x506),_0x50f967(0x50d),_0x50f967(0x83d),_0x50f967(0x1ca),_0x50f967(0x5c1)];if(!this['AutomateSystem']&&(await this[_0x50f967(0x301)](),!this[_0x50f967(0x782)]))throw new Error(_0x50f967(0x36b));let _0x2d2a90=this[_0x50f967(0x782)]?.[_0x50f967(0x493)][_0x50f967(0x1e8)](_0x58361a=>_0x58361a['name']),_0xa7a058={};Object[_0x50f967(0x3b3)](_0x5e1135[_0x50f967(0x7cf)]['realVariables'])[_0x50f967(0x4fe)](([_0x46995e,_0x2d71ce])=>{const _0x4ff632=_0x50f967;_0x461d26[_0x4ff632(0x6f2)](_0x46995e)&&(_0x46995e===_0x4ff632(0x83d)&&typeof _0x2d71ce==_0x4ff632(0x253)?_0xa7a058[_0x46995e]=_0x2d71ce[_0x4ff632(0x38b)](',')[_0x4ff632(0x1e8)](_0x45b391=>_0x45b391[_0x4ff632(0x8bd)]())[_0x4ff632(0x189)](_0x381987=>_0x381987!==''):_0x46995e===_0x4ff632(0x1ca)&&typeof _0x2d71ce==_0x4ff632(0x253)?_0xa7a058[_0x46995e]=_0x2d71ce[_0x4ff632(0x38b)](',')[_0x4ff632(0x1e8)](_0x7331fc=>_0x7331fc['trim']())['filter'](_0x1f51b5=>_0x1f51b5!==''):_0xa7a058[_0x46995e]=_0x2d71ce);});let _0x1be6aa=_0x5e1135[_0x50f967(0x7cf)][_0x50f967(0x350)][_0x5e1135[_0x50f967(0x7cf)]['blockLogs'][_0x50f967(0x3d4)]-0x1];if(_0x1be6aa){let _0x1b5d1=_0x1be6aa[_0x50f967(0x5b9)];_0x1b5d1!==void 0x0&&(_0xa7a058[_0x50f967(0x54e)]=_0x1b5d1[_0x50f967(0x1d0)]());}let _0x1a5b47=_0x501799['filter'](_0x38d733=>_0x2d2a90['includes'](_0x38d733[_0x50f967(0x8d9)]));this[_0x50f967(0x379)][_0x50f967(0x704)](this[_0x50f967(0x88a)]+'\x20('+this[_0x50f967(0x6e8)][_0x50f967(0x64c)]+_0x50f967(0x3ae)),this[_0x50f967(0x379)][_0x50f967(0x704)](_0xa7a058),this['logger'][_0x50f967(0x704)](this[_0x50f967(0x88a)]+'\x20('+this[_0x50f967(0x6e8)][_0x50f967(0x64c)]+_0x50f967(0x2a9)),this[_0x50f967(0x379)]['verbose'](_0x1a5b47);let _0x5be7ba=_0x1a5b47['map'](_0x3efd0e=>{const _0x2a3e13=_0x50f967;let _0x3046f5=this[_0x2a3e13(0x782)]?.[_0x2a3e13(0x493)][_0x2a3e13(0x5a4)](_0x4424d4=>_0x4424d4[_0x2a3e13(0x8d9)]===_0x3efd0e[_0x2a3e13(0x8d9)]);if(!_0x3046f5)throw new Error(_0x2a3e13(0x89f)+_0x3efd0e[_0x2a3e13(0x8d9)]);return{'_id':_0x3046f5[_0x2a3e13(0x209)],'value':_0x3efd0e[_0x2a3e13(0x6b4)]};});this[_0x50f967(0x379)][_0x50f967(0x704)](this[_0x50f967(0x88a)]+'\x20('+this['instance'][_0x50f967(0x64c)]+_0x50f967(0x2c8)),this[_0x50f967(0x379)][_0x50f967(0x704)](_0x5be7ba),await this[_0x50f967(0x79b)](_0x5e1135[_0x50f967(0x84e)],_0xa7a058,_0x5be7ba);}catch(_0xedd5bc){this[_0x50f967(0x379)][_0x50f967(0x8d2)](this[_0x50f967(0x88a)]+'\x20('+this[_0x50f967(0x6e8)][_0x50f967(0x64c)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0xedd5bc instanceof Error?_0xedd5bc['message']:JSON[_0x50f967(0x66f)](_0xedd5bc,null,0x2)));}}else this['logger'][_0x50f967(0x8d2)](this['instanceName']+'\x20('+this[_0x50f967(0x6e8)]['wuid']+_0x50f967(0x376));}catch(_0x202952){this[_0x50f967(0x379)][_0x50f967(0x8d2)](this[_0x50f967(0x88a)]+'\x20('+this[_0x50f967(0x6e8)][_0x50f967(0x64c)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x202952 instanceof Error?_0x202952[_0x50f967(0x36a)]:JSON[_0x50f967(0x66f)](_0x202952,null,0x2)));}}async[a0_0x466431(0x79b)](_0x7011cd,_0x8c1b94,_0xbc84fe){const _0x5d03c7=a0_0x466431;try{let _0x41105c={'leadInfo.leadnome':_0x8c1b94[_0x5d03c7(0x1f9)],'leadInfo.nomecompleto':_0x8c1b94[_0x5d03c7(0x295)],'leadInfo.email':_0x8c1b94['email'],'leadInfo.cpf':_0x8c1b94[_0x5d03c7(0x25b)],'leadInfo.status':_0x8c1b94[_0x5d03c7(0x309)],'leadInfo.notas':_0x8c1b94['notas'],'leadInfo.responsavelid':_0x8c1b94[_0x5d03c7(0x50d)],'leadInfo.tags':_0x8c1b94[_0x5d03c7(0x83d)],'leadInfo.etiquetas':_0x8c1b94[_0x5d03c7(0x1ca)],'leadInfo.customFields':_0xbc84fe,'leadInfo.atendimentoAberto':_0x8c1b94[_0x5d03c7(0x5c1)]},_0x23602f=await this[_0x5d03c7(0x7ae)][_0x5d03c7(0x66d)][_0x5d03c7(0x2c9)]({'where':{'_id':_0x7011cd}},this[_0x5d03c7(0x6e8)]['wuid']);if(!_0x23602f)return _0x5d03c7(0x341);let _0x9df359=new Set(_0x23602f[_0x5d03c7(0x811)]['etiquetas']||[]),_0x52dfe7=new Set(_0x8c1b94[_0x5d03c7(0x1ca)]||[]),_0x141f28=await this[_0x5d03c7(0x7ae)]['label']['find']({'where':{}},this['instance'][_0x5d03c7(0x64c)]),_0x3daef6=new Set(_0x141f28['map'](_0xa1fffd=>_0xa1fffd['_id'])),_0x510973=[..._0x52dfe7][_0x5d03c7(0x189)](_0xc9a78f=>!_0x9df359['has'](_0xc9a78f)&&_0x3daef6[_0x5d03c7(0x428)](_0xc9a78f)),_0x2faad2=[..._0x9df359][_0x5d03c7(0x189)](_0x44d2f4=>!_0x52dfe7[_0x5d03c7(0x428)](_0x44d2f4));for(let _0x220c69 of _0x510973)await this[_0x5d03c7(0x45e)](_0x220c69,_0x23602f[_0x5d03c7(0x209)]),_0x9df359['add'](_0x220c69);for(let _0xfa6001 of _0x2faad2)await this[_0x5d03c7(0x6ee)](_0xfa6001,_0x23602f[_0x5d03c7(0x209)]),_0x9df359['delete'](_0xfa6001);if(_0x5d03c7(0x54e)in _0x8c1b94){let _0x40df85=_0x8c1b94[_0x5d03c7(0x54e)];_0x41105c['leadInfo.desativadoFluxoAte']=_0x40df85?Number(_0x40df85):null;}if(_0x5d03c7(0x5c1)in _0x8c1b94){let _0x518a36=_0x8c1b94['atendimentoAberto']['toLowerCase']();_0x41105c[_0x5d03c7(0x4fc)]=_0x518a36===_0x5d03c7(0x854)||_0x518a36==='1'||_0x518a36===_0x5d03c7(0x7e5)||_0x518a36===_0x5d03c7(0x1a4);}let _0x46cf0a=await this[_0x5d03c7(0x7ae)]['chat'][_0x5d03c7(0x86c)]({'where':{'_id':_0x7011cd}},_0x41105c,this[_0x5d03c7(0x6e8)]['wuid']);_0x46cf0a?(this[_0x5d03c7(0x379)][_0x5d03c7(0x704)](this[_0x5d03c7(0x88a)]+'\x20('+this[_0x5d03c7(0x6e8)][_0x5d03c7(0x64c)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x46cf0a[_0x5d03c7(0x209)]),F(this['instanceName'],_0x5d03c7(0x45d),{'chat':_0x46cf0a})):this[_0x5d03c7(0x379)][_0x5d03c7(0x8d2)](this['instanceName']+'\x20('+this[_0x5d03c7(0x6e8)][_0x5d03c7(0x64c)]+_0x5d03c7(0x1d4));}catch(_0x5555d5){this[_0x5d03c7(0x379)][_0x5d03c7(0x8d2)](this[_0x5d03c7(0x88a)]+'\x20('+this[_0x5d03c7(0x6e8)][_0x5d03c7(0x64c)]+_0x5d03c7(0x624)+(_0x5555d5 instanceof Error?_0x5555d5[_0x5d03c7(0x36a)]:JSON[_0x5d03c7(0x66f)](_0x5555d5,null,0x2)));}}async[a0_0x466431(0x1c5)](_0x2d3cbd,_0x57c61e){const _0x3e3216=a0_0x466431;this[_0x3e3216(0x379)][_0x3e3216(0x704)](this[_0x3e3216(0x88a)]+'\x20('+this['instance'][_0x3e3216(0x64c)]+'):\x20atualização\x20chat:\x20'+_0x57c61e);try{let _0x1ca1f4=await this['repository'][_0x3e3216(0x66d)][_0x3e3216(0x86c)]({'where':{'_id':_0x2d3cbd['remoteJid']}},{'leadInfo.desativadoFluxoAte':_0x57c61e},this[_0x3e3216(0x6e8)][_0x3e3216(0x64c)]);this['logger'][_0x3e3216(0x704)](this[_0x3e3216(0x88a)]+'\x20('+this[_0x3e3216(0x6e8)][_0x3e3216(0x64c)]+_0x3e3216(0x41b)+_0x2d3cbd[_0x3e3216(0x209)]),this[_0x3e3216(0x379)]['verbose'](this[_0x3e3216(0x88a)]+'\x20('+this[_0x3e3216(0x6e8)][_0x3e3216(0x64c)]+_0x3e3216(0x554)+JSON[_0x3e3216(0x66f)](_0x1ca1f4,null,0x2)),_0x1ca1f4&&F(this[_0x3e3216(0x88a)],_0x3e3216(0x45d),{'chat':_0x1ca1f4});}catch(_0x1472a9){this[_0x3e3216(0x379)]['error'](this[_0x3e3216(0x88a)]+'\x20('+this[_0x3e3216(0x6e8)][_0x3e3216(0x64c)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x1472a9 instanceof Error?_0x1472a9['message']:JSON[_0x3e3216(0x66f)](_0x1472a9,null,0x2)));}}async[a0_0x466431(0x258)](_0x1ff6bf){const _0x5d6b4e=a0_0x466431;try{this[_0x5d6b4e(0x379)][_0x5d6b4e(0x704)](this['instanceName']+'\x20('+this['instance'][_0x5d6b4e(0x64c)]+'):\x20Buscando\x20flow...');let _0x268efd=_0x1ff6bf[_0x5d6b4e(0x783)](/\D/g,''),_0x501bb9=this['AutomateSystem'][_0x5d6b4e(0x90c)][_0x5d6b4e(0x5a4)](_0xa41af=>_0xa41af[_0x5d6b4e(0x6a8)]===_0x268efd);if(_0x501bb9||(this[_0x5d6b4e(0x379)][_0x5d6b4e(0x704)](this[_0x5d6b4e(0x88a)]+'\x20('+this[_0x5d6b4e(0x6e8)][_0x5d6b4e(0x64c)]+_0x5d6b4e(0x34e)),_0x501bb9=this[_0x5d6b4e(0x782)][_0x5d6b4e(0x90c)]['find'](_0x1783fd=>_0x1783fd[_0x5d6b4e(0x525)]===!0x0)),!_0x501bb9)return this[_0x5d6b4e(0x379)][_0x5d6b4e(0x704)](this[_0x5d6b4e(0x88a)]+'\x20('+this['instance']['wuid']+_0x5d6b4e(0x658)),null;let _0x595f2b=await this[_0x5d6b4e(0x7ae)]['flow']['findOne']({'where':{'_id':_0x501bb9[_0x5d6b4e(0x209)]}});if(!_0x595f2b||!_0x595f2b[_0x5d6b4e(0x852)]?.[_0x5d6b4e(0x6f2)](this[_0x5d6b4e(0x6e8)]['wuid']))throw this['logger']['error'](this[_0x5d6b4e(0x88a)]+'\x20('+this[_0x5d6b4e(0x6e8)][_0x5d6b4e(0x64c)]+'):\x20Flow\x20\x27'+_0x595f2b[_0x5d6b4e(0x209)]+_0x5d6b4e(0x3a2)),new m('Flow\x20\x27'+_0x595f2b[_0x5d6b4e(0x209)]+_0x5d6b4e(0x3a2));return _0x595f2b;}catch(_0x2d8020){return this[_0x5d6b4e(0x379)]['error'](this['instanceName']+'\x20('+this[_0x5d6b4e(0x6e8)][_0x5d6b4e(0x64c)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x2d8020 instanceof Error?_0x2d8020[_0x5d6b4e(0x36a)]:JSON['stringify'](_0x2d8020,null,0x2))),null;}}async['findConversation'](_0x3096dd,_0x1060ce){const _0x55e1d8=a0_0x466431;try{let _0x1d12f2=!!_0x1060ce[_0x55e1d8(0x4b2)],_0x16ec80=_0x1060ce[_0x55e1d8(0x358)],_0x48bc3c=null;if(this['logger']['verbose'](this[_0x55e1d8(0x88a)]+'\x20('+this[_0x55e1d8(0x6e8)]['wuid']+_0x55e1d8(0x81e)+_0x1d12f2+_0x55e1d8(0x1d6)+_0x16ec80),_0x1d12f2){this[_0x55e1d8(0x379)][_0x55e1d8(0x704)](this['instanceName']+'\x20('+this[_0x55e1d8(0x6e8)][_0x55e1d8(0x64c)]+'):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto');let _0x39f7ca={'where':{'remoteJid':_0x3096dd,'waitingMenu_id':_0x16ec80}};if(_0x48bc3c=await this[_0x55e1d8(0x7ae)][_0x55e1d8(0x414)][_0x55e1d8(0x2c9)](_0x39f7ca,this[_0x55e1d8(0x6e8)][_0x55e1d8(0x64c)]),!_0x48bc3c)return this['logger'][_0x55e1d8(0x704)](this['instanceName']+'\x20('+this[_0x55e1d8(0x6e8)][_0x55e1d8(0x64c)]+'):\x20não\x20encontrou'),null;let _0x7bf6fa=Date['now'](),_0x2b0514=_0x48bc3c?.[_0x55e1d8(0x7d9)]||0x0,_0x2ac0a2=_0x7bf6fa-_0x2b0514*0x3c*0x3e8;if(_0x48bc3c[_0x55e1d8(0x6a4)]<_0x2ac0a2){this[_0x55e1d8(0x379)][_0x55e1d8(0x704)](this[_0x55e1d8(0x88a)]+'\x20('+this[_0x55e1d8(0x6e8)][_0x55e1d8(0x64c)]+_0x55e1d8(0x48c));let _0x32af8c={'number':_0x48bc3c[_0x55e1d8(0x84e)],'options':{'delay':0x0},'textMessage':{'text':_0x48bc3c[_0x55e1d8(0x261)]}};await this[_0x55e1d8(0x7b8)](_0x32af8c);let _0x2ecd4f={'status':_0x55e1d8(0x2ed),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x55e1d8(0x7ae)][_0x55e1d8(0x414)]['updateOne'](_0x48bc3c[_0x55e1d8(0x209)],_0x2ecd4f,this[_0x55e1d8(0x6e8)][_0x55e1d8(0x64c)]),null;}return _0x48bc3c[_0x55e1d8(0x6a4)]=Date['now'](),_0x48bc3c[_0x55e1d8(0x7cf)][_0x55e1d8(0x708)]=_0x1060ce,_0x48bc3c;}else{this[_0x55e1d8(0x379)][_0x55e1d8(0x704)](this[_0x55e1d8(0x88a)]+'\x20('+this[_0x55e1d8(0x6e8)][_0x55e1d8(0x64c)]+_0x55e1d8(0x280)+this[_0x55e1d8(0x6e8)][_0x55e1d8(0x64c)]+_0x55e1d8(0x434)),this[_0x55e1d8(0x379)][_0x55e1d8(0x704)](this[_0x55e1d8(0x88a)]+'\x20('+this['instance'][_0x55e1d8(0x64c)]+_0x55e1d8(0x47a));let _0x2a5e87={'where':{'remoteJid':_0x3096dd,'status':_0x55e1d8(0x70d)}};if(_0x48bc3c=await this[_0x55e1d8(0x7ae)][_0x55e1d8(0x414)]['findOne'](_0x2a5e87,this['instance'][_0x55e1d8(0x64c)]),!_0x48bc3c){let _0x475b88=await this[_0x55e1d8(0x258)](_0x3096dd);if(_0x475b88&&(_0x48bc3c=await this[_0x55e1d8(0x287)](_0x475b88,_0x1060ce['key'],_0x1060ce)),!_0x48bc3c)return null;}let _0x2bd70c=Date[_0x55e1d8(0x283)](),_0x1c0ffa=_0x48bc3c?.[_0x55e1d8(0x7d9)]||0x0,_0x1dce98=_0x2bd70c-_0x1c0ffa*0x3c*0x3e8;if(this[_0x55e1d8(0x379)]['verbose'](this[_0x55e1d8(0x88a)]+'\x20('+this[_0x55e1d8(0x6e8)][_0x55e1d8(0x64c)]+'):\x20Current\x20Time:\x20'+_0x2bd70c+_0x55e1d8(0x91b)+_0x1c0ffa+_0x55e1d8(0x898)+_0x1dce98),this['logger']['verbose'](this[_0x55e1d8(0x88a)]+'\x20('+this['instance']['wuid']+_0x55e1d8(0x63e)),this[_0x55e1d8(0x379)][_0x55e1d8(0x704)](this[_0x55e1d8(0x88a)]+'\x20('+this[_0x55e1d8(0x6e8)][_0x55e1d8(0x64c)]+_0x55e1d8(0x33b)+_0x48bc3c[_0x55e1d8(0x6a4)]),this['logger']['verbose'](this[_0x55e1d8(0x88a)]+'\x20('+this[_0x55e1d8(0x6e8)]['wuid']+_0x55e1d8(0x26e)+_0x1dce98),_0x48bc3c['lastInteraction']<_0x1dce98){this[_0x55e1d8(0x379)][_0x55e1d8(0x704)](this['instanceName']+'\x20('+this[_0x55e1d8(0x6e8)][_0x55e1d8(0x64c)]+_0x55e1d8(0x872));let _0x1acb22=await this[_0x55e1d8(0x258)](_0x3096dd);if(_0x1acb22===null)return null;_0x48bc3c&&await this['repository'][_0x55e1d8(0x414)][_0x55e1d8(0x86c)](_0x48bc3c['_id'],{'status':'closed'},this[_0x55e1d8(0x6e8)][_0x55e1d8(0x64c)]),_0x48bc3c=await this[_0x55e1d8(0x287)](_0x1acb22,_0x1060ce[_0x55e1d8(0x714)],_0x1060ce);}return _0x48bc3c['lastInteraction']=_0x2bd70c,_0x48bc3c[_0x55e1d8(0x7cf)][_0x55e1d8(0x708)]=_0x1060ce,_0x48bc3c;}}catch(_0xfdcdb2){return this[_0x55e1d8(0x379)][_0x55e1d8(0x8d2)](this[_0x55e1d8(0x88a)]+'\x20('+this['instance']['wuid']+_0x55e1d8(0x38e)+(_0xfdcdb2 instanceof Error?_0xfdcdb2[_0x55e1d8(0x36a)]:JSON[_0x55e1d8(0x66f)](_0xfdcdb2,null,0x2))),null;}}async[a0_0x466431(0x287)](_0x5eaf69,_0x4b619d,_0x3f70d1){const _0x39423e=a0_0x466431;this[_0x39423e(0x379)][_0x39423e(0x704)](this[_0x39423e(0x88a)]+'\x20('+this[_0x39423e(0x6e8)][_0x39423e(0x64c)]+_0x39423e(0x2b3));try{let _0x3cccc7=require('mongodb')[_0x39423e(0x545)],_0x1b581b=Date[_0x39423e(0x283)](),_0x233c36=_0x39423e(0x631),_0x476124=_0x4b619d[_0x39423e(0x70f)]?null:_0x3f70d1,_0xacd8e5=_0x4b619d['fromMe']?_0x3f70d1:null,_0x278056=_0x4b619d[_0x39423e(0x84e)],_0x469f75=this[_0x39423e(0x782)]['flows']['find'](_0x1ca933=>_0x1ca933[_0x39423e(0x209)]===_0x5eaf69[_0x39423e(0x209)]?.[_0x39423e(0x1d0)]()),_0x4e107b=_0x469f75?.[_0x39423e(0x7d9)]??_0x5eaf69['minutesToClose']??0x0,_0x4800af=_0x469f75?.[_0x39423e(0x8a6)]??_0x5eaf69[_0x39423e(0x8a6)]??!0x1;await this[_0x39423e(0x1eb)](_0x278056);let _0x28d90c={'flowId':_0x5eaf69[_0x39423e(0x209)],..._0x5eaf69,'chatLog':null},_0x337bd8=await this['variablesToObject'](_0x28d90c[_0x39423e(0x49b)]),_0x469f50=await this[_0x39423e(0x6c8)](_0x278056),_0x27a124={..._0x337bd8,..._0x469f50,'_remoteJid':_0x278056},_0x3b0831={'lastReceivedMessage':_0x476124,'lastSendMessage':_0xacd8e5,'lastBlockId':_0x233c36,'lastCondition':!0x0,'realVariables':_0x27a124};_0x28d90c[_0x39423e(0x7cf)]=_0x3b0831,delete _0x28d90c[_0x39423e(0x209)],_0x28d90c[_0x39423e(0x209)]=new _0x3cccc7(),_0x28d90c['lastInteraction']=_0x1b581b,_0x28d90c[_0x39423e(0x309)]=_0x39423e(0x70d),_0x28d90c[_0x39423e(0x84e)]=_0x278056,_0x28d90c[_0x39423e(0x7d9)]=_0x4e107b,_0x28d90c[_0x39423e(0x8a6)]=_0x4800af;let _0x1fe267=await this[_0x39423e(0x7ae)][_0x39423e(0x414)][_0x39423e(0x86c)](_0x28d90c[_0x39423e(0x209)],_0x28d90c,this[_0x39423e(0x6e8)]['wuid']);return this[_0x39423e(0x379)]['verbose'](this['instanceName']+'\x20('+this[_0x39423e(0x6e8)]['wuid']+_0x39423e(0x55d)),_0x1fe267?_0x28d90c:null;}catch(_0x13b640){return this[_0x39423e(0x379)][_0x39423e(0x8d2)](this[_0x39423e(0x88a)]+'\x20('+this[_0x39423e(0x6e8)][_0x39423e(0x64c)]+_0x39423e(0x5e3)+(_0x13b640 instanceof Error?_0x13b640[_0x39423e(0x36a)]:JSON['stringify'](_0x13b640,null,0x2))),_0x13b640;}}async[a0_0x466431(0x276)](_0x132f50,_0x3e48d4){const _0x235246=a0_0x466431;let _0x2e7329=_0x132f50[_0x235246(0x84e)];_0x3e48d4[_0x235246(0x2bd)][_0x235246(0x84e)]&&_0x3e48d4[_0x235246(0x2bd)][_0x235246(0x84e)][_0x235246(0x8bd)]()!==''&&(_0x2e7329=_0x3e48d4[_0x235246(0x2bd)][_0x235246(0x84e)][_0x235246(0x8bd)]()),this[_0x235246(0x379)][_0x235246(0x704)](this[_0x235246(0x88a)]+'\x20('+this['instance'][_0x235246(0x64c)]+'):\x20Enviando\x20texto');let _0x86553e={'number':_0x2e7329,'options':{'delay':_0x3e48d4[_0x235246(0x2bd)][_0x235246(0x8c9)],'linkPreview':_0x3e48d4[_0x235246(0x2bd)]['linkPreview']},'textMessage':{'text':_0x3e48d4[_0x235246(0x2bd)][_0x235246(0x6d0)]}};try{let _0x402e3e=await this[_0x235246(0x7b8)](_0x86553e);if(_0x402e3e){let _0x927bf2={'_id':_0x402e3e[_0x235246(0x714)]['id'],'_fromMe':_0x402e3e[_0x235246(0x714)][_0x235246(0x70f)],'_remoteJid':_0x402e3e['key']['remoteJid']},_0x177df2=(0x0,w['normalizeMessageContent'])(_0x402e3e[_0x235246(0x36a)]),_0x3fd979=(0x0,w[_0x235246(0x51a)])(_0x177df2);_0x132f50[_0x235246(0x7cf)][_0x235246(0x5d8)]=_0x3e48d4[_0x235246(0x209)][_0x235246(0x1d0)]();let {message_normalized:_0x414867}=this[_0x235246(0x80e)](_0x177df2,_0x3fd979,null);_0x132f50['chatLog'][_0x235246(0x7a9)]=await _0x414867;let _0x5d9fde={'messageId':_0x402e3e[_0x235246(0x714)]['id']},_0x30446d=_0x132f50[_0x235246(0x7cf)][_0x235246(0x7af)];Object[_0x235246(0x25a)](_0x30446d,_0x927bf2),_0x132f50[_0x235246(0x7cf)]['realVariables']=_0x30446d,this[_0x235246(0x65e)](_0x132f50,_0x3e48d4,_0x5d9fde);}else{let _0x71217a={'error':!0x0};this['updateConversation'](_0x132f50,_0x3e48d4,_0x71217a),this[_0x235246(0x379)][_0x235246(0x8d2)](this[_0x235246(0x88a)]+'\x20('+this[_0x235246(0x6e8)][_0x235246(0x64c)]+_0x235246(0x7c0));}}catch(_0x33137a){let _0xfe6d4e={'error':!0x0,'errorLog':_0x33137a['toString']()};this['updateConversation'](_0x132f50,_0x3e48d4,_0xfe6d4e),this[_0x235246(0x379)]['error'](this[_0x235246(0x88a)]+'\x20('+this[_0x235246(0x6e8)][_0x235246(0x64c)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x33137a instanceof Error?_0x33137a['message']:JSON[_0x235246(0x66f)](_0x33137a,null,0x2)));}}async[a0_0x466431(0x35e)](_0x3cd334,_0x41beae){const _0x27ff26=a0_0x466431;let _0x3d5987=_0x3cd334['remoteJid'];_0x41beae['uazapi'][_0x27ff26(0x84e)]&&_0x41beae[_0x27ff26(0x2bd)][_0x27ff26(0x84e)]['trim']()!==''&&(_0x3d5987=_0x41beae['uazapi']['remoteJid'][_0x27ff26(0x8bd)]()),this['logger'][_0x27ff26(0x704)](this[_0x27ff26(0x88a)]+'\x20('+this[_0x27ff26(0x6e8)]['wuid']+'):\x20Enviando\x20mídia');let _0x417d4f={'number':_0x3d5987,'options':{'delay':_0x41beae[_0x27ff26(0x2bd)]['delay'],'linkPreview':_0x41beae[_0x27ff26(0x2bd)][_0x27ff26(0x3c4)]},'mediaMessage':{'mediatype':_0x41beae[_0x27ff26(0x2bd)][_0x27ff26(0x2ce)],'caption':_0x41beae[_0x27ff26(0x2bd)][_0x27ff26(0x378)],'media':_0x41beae[_0x27ff26(0x2bd)][_0x27ff26(0x71d)],'fileName':_0x41beae[_0x27ff26(0x2bd)][_0x27ff26(0x4c1)]}};try{let _0x4b7e79=await this[_0x27ff26(0x4cf)](_0x417d4f);if(_0x4b7e79){let _0x29fa15={'_id':_0x4b7e79[_0x27ff26(0x714)]['id'],'_fromMe':_0x4b7e79[_0x27ff26(0x714)]['fromMe'],'_remoteJid':_0x4b7e79[_0x27ff26(0x714)]['remoteJid']},_0x33e819=(0x0,w[_0x27ff26(0x2d7)])(_0x4b7e79[_0x27ff26(0x36a)]),_0x52d447=(0x0,w['getContentType'])(_0x33e819);_0x3cd334[_0x27ff26(0x7cf)]['lastBlockId']=_0x41beae[_0x27ff26(0x209)][_0x27ff26(0x1d0)]();let {message_normalized:_0x1e0d77}=this[_0x27ff26(0x80e)](_0x33e819,_0x52d447,null);_0x3cd334['chatLog'][_0x27ff26(0x7a9)]=await _0x1e0d77;let _0x348a4b={'messageId':_0x4b7e79['key']['id']},_0x34fe5b=_0x3cd334['chatLog'][_0x27ff26(0x7af)];Object['assign'](_0x34fe5b,_0x29fa15),_0x3cd334[_0x27ff26(0x7cf)]['realVariables']=_0x34fe5b,this['updateConversation'](_0x3cd334,_0x41beae,_0x348a4b);}else{let _0x20d070={'error':!0x0};this['updateConversation'](_0x3cd334,_0x41beae,_0x20d070),this[_0x27ff26(0x379)]['error'](this[_0x27ff26(0x88a)]+'\x20('+this[_0x27ff26(0x6e8)][_0x27ff26(0x64c)]+_0x27ff26(0x6ab));}}catch(_0x4acd18){let _0x4837bc={'error':!0x0,'errorLog':_0x4acd18[_0x27ff26(0x1d0)]()};this[_0x27ff26(0x65e)](_0x3cd334,_0x41beae,_0x4837bc),this[_0x27ff26(0x379)]['error'](this[_0x27ff26(0x88a)]+'\x20('+this[_0x27ff26(0x6e8)][_0x27ff26(0x64c)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x4acd18 instanceof Error?_0x4acd18[_0x27ff26(0x36a)]:JSON[_0x27ff26(0x66f)](_0x4acd18,null,0x2)));}}async['uazapiSendLocation'](_0x21a9c5,_0x268e5d){const _0x51f1ab=a0_0x466431;let _0x138950=_0x21a9c5[_0x51f1ab(0x84e)];_0x268e5d[_0x51f1ab(0x2bd)][_0x51f1ab(0x84e)]&&_0x268e5d[_0x51f1ab(0x2bd)][_0x51f1ab(0x84e)][_0x51f1ab(0x8bd)]()!==''&&(_0x138950=_0x268e5d[_0x51f1ab(0x2bd)]['remoteJid']['trim']()),this['logger'][_0x51f1ab(0x704)](this[_0x51f1ab(0x88a)]+'\x20('+this[_0x51f1ab(0x6e8)]['wuid']+_0x51f1ab(0x3cd));let _0x401b38={'number':_0x138950,'options':{'delay':_0x268e5d['uazapi']['delay']},'locationMessage':{'name':_0x268e5d[_0x51f1ab(0x2bd)][_0x51f1ab(0x8d9)],'address':_0x268e5d[_0x51f1ab(0x2bd)][_0x51f1ab(0x2f0)],'latitude':_0x268e5d[_0x51f1ab(0x2bd)][_0x51f1ab(0x83a)],'longitude':_0x268e5d[_0x51f1ab(0x2bd)][_0x51f1ab(0x272)]}};try{let _0x679144=await this['locationMessage'](_0x401b38);if(_0x679144){let _0x4cbb67={'_id':_0x679144['key']['id'],'_fromMe':_0x679144[_0x51f1ab(0x714)][_0x51f1ab(0x70f)],'_remoteJid':_0x679144[_0x51f1ab(0x714)]['remoteJid']},_0x785741=(0x0,w['normalizeMessageContent'])(_0x679144[_0x51f1ab(0x36a)]),_0x18e129=(0x0,w['getContentType'])(_0x785741);_0x21a9c5['chatLog']['lastBlockId']=_0x268e5d[_0x51f1ab(0x209)]['toString']();let {message_normalized:_0x316c36}=this[_0x51f1ab(0x80e)](_0x785741,_0x18e129,null);_0x21a9c5[_0x51f1ab(0x7cf)]['lastSendMessage']=await _0x316c36;let _0x450a89={'messageId':_0x679144[_0x51f1ab(0x714)]['id']},_0x3899d7=_0x21a9c5[_0x51f1ab(0x7cf)][_0x51f1ab(0x7af)];Object['assign'](_0x3899d7,_0x4cbb67),_0x21a9c5[_0x51f1ab(0x7cf)][_0x51f1ab(0x7af)]=_0x3899d7,this[_0x51f1ab(0x65e)](_0x21a9c5,_0x268e5d,_0x450a89);}else{let _0x31c012={'error':!0x0};this['updateConversation'](_0x21a9c5,_0x268e5d,_0x31c012),this[_0x51f1ab(0x379)][_0x51f1ab(0x8d2)](this['instanceName']+'\x20('+this[_0x51f1ab(0x6e8)][_0x51f1ab(0x64c)]+_0x51f1ab(0x5db));}}catch(_0x65b394){let _0x4bfbfb={'error':!0x0,'errorLog':_0x65b394['toString']()};this[_0x51f1ab(0x65e)](_0x21a9c5,_0x268e5d,_0x4bfbfb),this[_0x51f1ab(0x379)][_0x51f1ab(0x8d2)](this[_0x51f1ab(0x88a)]+'\x20('+this[_0x51f1ab(0x6e8)][_0x51f1ab(0x64c)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x65b394 instanceof Error?_0x65b394[_0x51f1ab(0x36a)]:JSON['stringify'](_0x65b394,null,0x2)));}}async['uazapiSendAudio'](_0x2063aa,_0x52ca26){const _0x478426=a0_0x466431;let _0x236399=_0x2063aa[_0x478426(0x84e)];_0x52ca26['uazapi']['remoteJid']&&_0x52ca26[_0x478426(0x2bd)][_0x478426(0x84e)][_0x478426(0x8bd)]()!==''&&(_0x236399=_0x52ca26['uazapi'][_0x478426(0x84e)][_0x478426(0x8bd)]()),this[_0x478426(0x379)][_0x478426(0x704)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x478426(0x387));let _0x1bf433={'number':_0x236399,'options':{'delay':_0x52ca26[_0x478426(0x2bd)][_0x478426(0x8c9)]},'audioMessage':{'audio':_0x52ca26[_0x478426(0x2bd)][_0x478426(0x4e3)]}};try{let _0x6b309a=await this['audioWhatsapp'](_0x1bf433);if(_0x6b309a){let _0x46cb6f={'_id':_0x6b309a[_0x478426(0x714)]['id'],'_fromMe':_0x6b309a[_0x478426(0x714)]['fromMe'],'_remoteJid':_0x6b309a[_0x478426(0x714)][_0x478426(0x84e)]},_0x3d9a1b=(0x0,w[_0x478426(0x2d7)])(_0x6b309a[_0x478426(0x36a)]),_0x15c9b2=(0x0,w[_0x478426(0x51a)])(_0x3d9a1b);_0x2063aa[_0x478426(0x7cf)][_0x478426(0x5d8)]=_0x52ca26[_0x478426(0x209)]['toString']();let {message_normalized:_0x5941a7}=this[_0x478426(0x80e)](_0x3d9a1b,_0x15c9b2,null);_0x2063aa[_0x478426(0x7cf)]['lastSendMessage']=await _0x5941a7;let _0x18c628={'messageId':_0x6b309a[_0x478426(0x714)]['id']},_0x1499ca=_0x2063aa[_0x478426(0x7cf)][_0x478426(0x7af)];Object[_0x478426(0x25a)](_0x1499ca,_0x46cb6f),_0x2063aa[_0x478426(0x7cf)][_0x478426(0x7af)]=_0x1499ca,this[_0x478426(0x65e)](_0x2063aa,_0x52ca26,_0x18c628);}else{let _0x138808={'error':!0x0};this[_0x478426(0x65e)](_0x2063aa,_0x52ca26,_0x138808),this[_0x478426(0x379)][_0x478426(0x8d2)](this[_0x478426(0x88a)]+'\x20('+this[_0x478426(0x6e8)][_0x478426(0x64c)]+_0x478426(0x7c1));}}catch(_0x5e4839){let _0x2d0f72={'error':!0x0,'errorLog':_0x5e4839[_0x478426(0x1d0)]()};this[_0x478426(0x65e)](_0x2063aa,_0x52ca26,_0x2d0f72),this[_0x478426(0x379)]['error'](this[_0x478426(0x88a)]+'\x20('+this[_0x478426(0x6e8)][_0x478426(0x64c)]+_0x478426(0x477)+(_0x5e4839 instanceof Error?_0x5e4839['message']:JSON[_0x478426(0x66f)](_0x5e4839,null,0x2)));}}async['uazapiSendContact'](_0x2353fc,_0x4f81d0){const _0x39f4a8=a0_0x466431;let _0x32355b=_0x2353fc[_0x39f4a8(0x84e)];_0x4f81d0[_0x39f4a8(0x2bd)][_0x39f4a8(0x84e)]&&_0x4f81d0[_0x39f4a8(0x2bd)][_0x39f4a8(0x84e)][_0x39f4a8(0x8bd)]()!==''&&(_0x32355b=_0x4f81d0[_0x39f4a8(0x2bd)]['remoteJid']['trim']()),this[_0x39f4a8(0x379)][_0x39f4a8(0x704)](this['instanceName']+'\x20('+this[_0x39f4a8(0x6e8)][_0x39f4a8(0x64c)]+_0x39f4a8(0x764));let _0x4d34ed={'number':_0x32355b,'options':{'delay':_0x4f81d0['uazapi'][_0x39f4a8(0x8c9)]},'contactMessage':[{'fullName':_0x4f81d0[_0x39f4a8(0x2bd)][_0x39f4a8(0x60a)],'phoneNumber':_0x4f81d0[_0x39f4a8(0x2bd)]['phoneNumber']}]};try{let _0x50e5a1=await this['contactMessage'](_0x4d34ed);if(_0x50e5a1){let _0x5914cf={'_id':_0x50e5a1['key']['id'],'_fromMe':_0x50e5a1[_0x39f4a8(0x714)][_0x39f4a8(0x70f)],'_remoteJid':_0x50e5a1['key'][_0x39f4a8(0x84e)]},_0x42b6ea=(0x0,w[_0x39f4a8(0x2d7)])(_0x50e5a1[_0x39f4a8(0x36a)]),_0x29ffb9=(0x0,w['getContentType'])(_0x42b6ea);_0x2353fc['chatLog'][_0x39f4a8(0x5d8)]=_0x4f81d0[_0x39f4a8(0x209)][_0x39f4a8(0x1d0)]();let {message_normalized:_0x246e93}=this[_0x39f4a8(0x80e)](_0x42b6ea,_0x29ffb9,null);_0x2353fc[_0x39f4a8(0x7cf)][_0x39f4a8(0x7a9)]=await _0x246e93;let _0x3bc3de={'messageId':_0x50e5a1['key']['id']},_0x46db57=_0x2353fc['chatLog'][_0x39f4a8(0x7af)];Object['assign'](_0x46db57,_0x5914cf),_0x2353fc['chatLog']['realVariables']=_0x46db57,this['updateConversation'](_0x2353fc,_0x4f81d0,_0x3bc3de);}else{let _0x2296d7={'error':!0x0};this[_0x39f4a8(0x65e)](_0x2353fc,_0x4f81d0,_0x2296d7),this[_0x39f4a8(0x379)][_0x39f4a8(0x8d2)](this[_0x39f4a8(0x88a)]+'\x20('+this[_0x39f4a8(0x6e8)][_0x39f4a8(0x64c)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x3f3954){let _0x5ec608={'error':!0x0,'errorLog':_0x3f3954[_0x39f4a8(0x1d0)]()};this[_0x39f4a8(0x65e)](_0x2353fc,_0x4f81d0,_0x5ec608),this[_0x39f4a8(0x379)][_0x39f4a8(0x8d2)](this[_0x39f4a8(0x88a)]+'\x20('+this[_0x39f4a8(0x6e8)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x3f3954 instanceof Error?_0x3f3954['message']:JSON[_0x39f4a8(0x66f)](_0x3f3954,null,0x2)));}}[a0_0x466431(0x703)](_0x141641,_0xdb0e28){const _0xfc72d=a0_0x466431;for(let _0x575459 of _0x141641)_0x575459[_0xfc72d(0x392)]&&(_0x575459[_0xfc72d(0x392)]=this[_0xfc72d(0x86a)](_0x575459[_0xfc72d(0x392)],_0xdb0e28)),_0x575459[_0xfc72d(0x6ec)]&&(_0x575459['optionDescription']=this[_0xfc72d(0x86a)](_0x575459[_0xfc72d(0x6ec)],_0xdb0e28));}async['uazapiSendMenu'](_0x2cbe22,_0x351fbe){const _0x23821b=a0_0x466431;let _0x2c8518=_0x2cbe22[_0x23821b(0x84e)];_0x351fbe[_0x23821b(0x2bd)]['remoteJid']&&_0x351fbe['uazapi'][_0x23821b(0x84e)][_0x23821b(0x8bd)]()!==''&&(_0x2c8518=_0x351fbe['uazapi'][_0x23821b(0x84e)]['trim']()),this[_0x23821b(0x379)][_0x23821b(0x704)](this[_0x23821b(0x88a)]+'\x20('+this[_0x23821b(0x6e8)][_0x23821b(0x64c)]+_0x23821b(0x2c3));let _0x3343c4=_0x2cbe22['replyOptions']['filter'](_0x5a9b4b=>_0x5a9b4b['blockId']===_0x351fbe[_0x23821b(0x209)])[_0x23821b(0x4e0)]((_0x1c5dd7,_0x40f771)=>_0x1c5dd7['order']-_0x40f771[_0x23821b(0x244)]);this[_0x23821b(0x703)](_0x3343c4,_0x2cbe22['chatLog']['realVariables']);let _0x21bb78=_0x3343c4[_0x23821b(0x1e8)](_0x3316a9=>_0x3316a9['option']),_0x4c6433={'number':_0x2c8518,'menuMessage':{'type':_0x351fbe[_0x23821b(0x2bd)]['menuType']||_0x23821b(0x862),'text':_0x351fbe[_0x23821b(0x2bd)][_0x23821b(0x6d0)]||_0x351fbe['uazapi'][_0x23821b(0x8d9)],'footerText':_0x351fbe[_0x23821b(0x2bd)][_0x23821b(0x744)],'buttonText':_0x351fbe[_0x23821b(0x2bd)][_0x23821b(0x906)],'selectableCount':0x1,'choices':_0x21bb78},'options':{'delay':_0x351fbe[_0x23821b(0x2bd)][_0x23821b(0x8c9)]}};try{let _0x4a7c03=await this[_0x23821b(0x2de)](_0x4c6433);if(_0x4a7c03){let _0x345bb4={'_id':_0x4a7c03[_0x23821b(0x714)]['id'],'_fromMe':_0x4a7c03[_0x23821b(0x714)]['fromMe'],'_remoteJid':_0x4a7c03[_0x23821b(0x714)][_0x23821b(0x84e)]};_0x351fbe['uazapi'][_0x23821b(0x28e)]===!0x0&&(_0x2cbe22['status']=_0x23821b(0x712),this['logger'][_0x23821b(0x704)](this[_0x23821b(0x88a)]+'\x20('+this[_0x23821b(0x6e8)][_0x23821b(0x64c)]+_0x23821b(0x717)+_0x2cbe22[_0x23821b(0x309)])),this['logger'][_0x23821b(0x704)](this[_0x23821b(0x88a)]+'\x20('+this[_0x23821b(0x6e8)][_0x23821b(0x64c)]+_0x23821b(0x6d6)+(_0x351fbe[_0x23821b(0x2bd)][_0x23821b(0x8d9)]||_0x351fbe[_0x23821b(0x2bd)]['text'])),_0x2cbe22[_0x23821b(0x28f)]=_0x4a7c03[_0x23821b(0x714)]['id'],_0x2cbe22[_0x23821b(0x1cd)]=_0x351fbe[_0x23821b(0x2bd)][_0x23821b(0x8d9)]||_0x351fbe[_0x23821b(0x2bd)][_0x23821b(0x6d0)],_0x2cbe22[_0x23821b(0x566)]=_0x3343c4,_0x351fbe['uazapi'][_0x23821b(0x4c2)]&&(_0x2cbe22['waitingMenu_ExpiredMessage']=_0x351fbe[_0x23821b(0x2bd)][_0x23821b(0x4c2)]),this[_0x23821b(0x379)]['verbose'](this[_0x23821b(0x88a)]+'\x20('+this[_0x23821b(0x6e8)][_0x23821b(0x64c)]+_0x23821b(0x636)+_0x2cbe22[_0x23821b(0x1cd)]);let _0x2ccd3a=(0x0,w[_0x23821b(0x2d7)])(_0x4a7c03[_0x23821b(0x36a)]),_0x44d545=(0x0,w['getContentType'])(_0x2ccd3a);_0x2cbe22['chatLog'][_0x23821b(0x5d8)]=_0x351fbe[_0x23821b(0x209)][_0x23821b(0x1d0)]();let {message_normalized:_0x746c06}=this[_0x23821b(0x80e)](_0x2ccd3a,_0x44d545,null);_0x2cbe22[_0x23821b(0x7cf)][_0x23821b(0x7a9)]=await _0x746c06;let _0x303d7b={'messageId':_0x4a7c03['key']['id']},_0xd8d9fd=_0x2cbe22[_0x23821b(0x7cf)][_0x23821b(0x7af)];Object[_0x23821b(0x25a)](_0xd8d9fd,_0x345bb4),_0x2cbe22['chatLog']['realVariables']=_0xd8d9fd,this[_0x23821b(0x65e)](_0x2cbe22,_0x351fbe,_0x303d7b);}else{let _0x57a5b3={'error':!0x0};this[_0x23821b(0x65e)](_0x2cbe22,_0x351fbe,_0x57a5b3),this[_0x23821b(0x379)]['error'](this[_0x23821b(0x88a)]+'\x20('+this[_0x23821b(0x6e8)]['wuid']+_0x23821b(0x20d));}}catch(_0x523f44){let _0x24e6d8={'error':!0x0,'errorLog':_0x523f44 instanceof Error?_0x523f44[_0x23821b(0x36a)]:JSON['stringify'](_0x523f44,null,0x2)};this[_0x23821b(0x65e)](_0x2cbe22,_0x351fbe,_0x24e6d8),this['logger'][_0x23821b(0x8d2)](this[_0x23821b(0x88a)]+'\x20('+this[_0x23821b(0x6e8)][_0x23821b(0x64c)]+_0x23821b(0x7fb)+(_0x523f44 instanceof Error?_0x523f44[_0x23821b(0x36a)]:JSON[_0x23821b(0x66f)](_0x523f44,null,0x2)));}}async[a0_0x466431(0x6d7)](_0x32ae06,_0x3830e0){const _0x467aa8=a0_0x466431;this['logger'][_0x467aa8(0x704)](this['instanceName']+'\x20('+this[_0x467aa8(0x6e8)][_0x467aa8(0x64c)]+_0x467aa8(0x4b7));let _0x1b6c2f=_0x32ae06[_0x467aa8(0x7cf)][_0x467aa8(0x350)][_0x467aa8(0x5a4)](_0x16cde9=>_0x16cde9[_0x467aa8(0x88c)][_0x467aa8(0x1d0)]()===_0x3830e0[_0x467aa8(0x2bd)][_0x467aa8(0x88c)][_0x467aa8(0x1d0)]()),_0x16f5cd={'id':_0x1b6c2f[_0x467aa8(0x49e)],'remoteJid':_0x1b6c2f[_0x467aa8(0x84e)],'fromMe':_0x1b6c2f['fromMe']};try{let _0x3095eb=await this['deleteMessage'](_0x16f5cd);if(_0x3095eb){let _0x49886b=(0x0,w[_0x467aa8(0x2d7)])(_0x3095eb[_0x467aa8(0x36a)]),_0x253a08=(0x0,w[_0x467aa8(0x51a)])(_0x49886b);_0x32ae06[_0x467aa8(0x7cf)]['lastBlockId']=_0x3830e0[_0x467aa8(0x209)][_0x467aa8(0x1d0)]();let {message_normalized:_0x35934f}=this[_0x467aa8(0x80e)](_0x49886b,_0x253a08,null);_0x32ae06[_0x467aa8(0x7cf)][_0x467aa8(0x7a9)]=await _0x35934f;let _0x1731b8={};this[_0x467aa8(0x65e)](_0x32ae06,_0x3830e0,_0x1731b8);}else{let _0x4542f8={'error':!0x0};this[_0x467aa8(0x65e)](_0x32ae06,_0x3830e0,_0x4542f8),this[_0x467aa8(0x379)][_0x467aa8(0x8d2)](this[_0x467aa8(0x88a)]+'\x20('+this[_0x467aa8(0x6e8)][_0x467aa8(0x64c)]+_0x467aa8(0x5e9));}}catch(_0x480bcf){let _0x44f855={'error':!0x0,'errorLog':_0x480bcf instanceof Error?_0x480bcf[_0x467aa8(0x36a)]:JSON[_0x467aa8(0x66f)](_0x480bcf,null,0x2)};this[_0x467aa8(0x65e)](_0x32ae06,_0x3830e0,_0x44f855),this[_0x467aa8(0x379)][_0x467aa8(0x8d2)](this[_0x467aa8(0x88a)]+'\x20('+this['instance'][_0x467aa8(0x64c)]+_0x467aa8(0x894)+(_0x480bcf instanceof Error?_0x480bcf['message']:JSON[_0x467aa8(0x66f)](_0x480bcf,null,0x2)));}}async['createFlow'](_0x1a7ff8,_0xb1679){const _0x376b30=a0_0x466431;if(_0x1a7ff8['name']||(_0x1a7ff8[_0x376b30(0x8d9)]=(0x0,Q['v4'])()),_0xb1679!==Ri&&_0x1a7ff8?.[_0x376b30(0x22a)])throw new m(_0x376b30(0x299));if('_id'in _0x1a7ff8&&'owner'in _0x1a7ff8)return this[_0x376b30(0x8ae)](_0x1a7ff8[_0x376b30(0x3ea)],_0x1a7ff8[_0x376b30(0x209)]);this[_0x376b30(0x379)]['verbose'](this[_0x376b30(0x88a)]+'\x20('+this[_0x376b30(0x6e8)][_0x376b30(0x64c)]+_0x376b30(0x527));let _0x4a296e=this[_0x376b30(0x829)](_0x1a7ff8['name']),_0x3e0c76=new pe[(_0x376b30(0x5a5))][(_0x376b30(0x545))](),_0x4c8d28={'_id':_0x3e0c76,'default':!0x0,'title':_0x376b30(0x32e),'x':0x0,'y':0x0},_0x36b5b6={'_id':new pe[(_0x376b30(0x5a5))][(_0x376b30(0x545))](),'order':0x1,'groupId':_0x3e0c76['toString'](),'type':_0x376b30(0x631)},_0x20954f=this[_0x376b30(0x6e8)]['wuid'],_0x20da78={'_id':(0x0,Q['v4'])(),'owner':_0x20954f,'name':_0x4a296e,'whoCanEdit':[_0x20954f],'whoCanUse':[_0x20954f],'groups':[_0x4c8d28],'blocks':[_0x36b5b6],..._0x1a7ff8};try{let _0x5c3723=await this[_0x376b30(0x7ae)][_0x376b30(0x686)][_0x376b30(0x297)](_0x20da78);return await this[_0x376b30(0x7a1)](),_0x5c3723;}catch(_0x474a5c){let _0x5e069b=_0x376b30(0x275),_0x1510e0=_0x474a5c instanceof Error?_0x474a5c[_0x376b30(0x36a)]:typeof _0x474a5c==_0x376b30(0x3f1)?JSON[_0x376b30(0x66f)](_0x474a5c):_0x474a5c,_0x51c60a=_0x5e069b+':\x20'+_0x1510e0;throw this[_0x376b30(0x379)][_0x376b30(0x8d2)](this[_0x376b30(0x88a)]+'\x20('+this[_0x376b30(0x6e8)][_0x376b30(0x64c)]+_0x376b30(0x280)+_0x51c60a),new m(_0x51c60a);}}async[a0_0x466431(0x8ae)](_0x35377a,_0x398b73){const _0x539ad7=a0_0x466431;try{this[_0x539ad7(0x379)][_0x539ad7(0x704)](this[_0x539ad7(0x88a)]+'\x20('+this[_0x539ad7(0x6e8)][_0x539ad7(0x64c)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x58b49b=await this[_0x539ad7(0x7ae)][_0x539ad7(0x686)][_0x539ad7(0x2c9)]({'where':{'_id':_0x398b73,'owner':_0x35377a}});if(!_0x58b49b)throw new m(_0x539ad7(0x629));if(_0x58b49b[_0x539ad7(0x591)]===!0x1&&!_0x58b49b[_0x539ad7(0x22a)])throw new m(_0x539ad7(0x23e));let _0x1e183a=new Set(_0x58b49b[_0x539ad7(0x852)]??[]);_0x1e183a[_0x539ad7(0x83c)](this[_0x539ad7(0x6e8)][_0x539ad7(0x64c)]);let _0x4bb169=await this['repository'][_0x539ad7(0x686)][_0x539ad7(0x86c)](_0x398b73,{..._0x58b49b,'whoCanUse':Array[_0x539ad7(0x847)](_0x1e183a)});return await this[_0x539ad7(0x7a1)](),_0x4bb169;}catch(_0xc35945){let _0x17320f=_0x539ad7(0x22b),_0x492abb=_0xc35945 instanceof Error?_0xc35945[_0x539ad7(0x36a)]:typeof _0xc35945==_0x539ad7(0x3f1)?JSON['stringify'](_0xc35945):_0xc35945,_0x32feed=_0x17320f+':\x20'+_0x492abb;throw this[_0x539ad7(0x379)]['error'](this['instanceName']+'\x20('+this[_0x539ad7(0x6e8)][_0x539ad7(0x64c)]+_0x539ad7(0x280)+_0x32feed),new m(_0x32feed);}}[a0_0x466431(0x829)](_0x3c38c8){const _0x510eec=a0_0x466431;let _0x32625c=_0x3c38c8,_0x11cfae=0x1;for(;this[_0x510eec(0x782)][_0x510eec(0x90c)][_0x510eec(0x3fb)](_0x33068d=>_0x33068d['name']===_0x32625c);)_0x11cfae++,_0x32625c=_0x3c38c8+'\x20('+_0x11cfae+')';return _0x32625c;}async[a0_0x466431(0x7b9)](_0x61a1f2){const _0x44a116=a0_0x466431;try{if(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x44a116(0x6e8)][_0x44a116(0x64c)]+_0x44a116(0x7fd)+_0x61a1f2[_0x44a116(0x209)]+_0x44a116(0x6cd)+_0x61a1f2[_0x44a116(0x6f1)]),!this[_0x44a116(0x782)]['flows'][_0x44a116(0x5a4)](_0x3d2fba=>_0x3d2fba['_id']===_0x61a1f2['_id']))throw this[_0x44a116(0x379)][_0x44a116(0x704)](this[_0x44a116(0x88a)]+'\x20('+this[_0x44a116(0x6e8)][_0x44a116(0x64c)]+_0x44a116(0x7c3)+_0x61a1f2[_0x44a116(0x209)]+_0x44a116(0x4ab)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x272a62=await this[_0x44a116(0x7ae)]['flow'][_0x44a116(0x2c9)]({'where':{'_id':_0x61a1f2['_id']}});if(!_0x272a62)throw new m('Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(this['instance']['wuid']===_0x272a62['owner']){this['logger'][_0x44a116(0x704)](this['instanceName']+'\x20('+this[_0x44a116(0x6e8)][_0x44a116(0x64c)]+_0x44a116(0x561)+_0x61a1f2['_id']+_0x44a116(0x500));let _0x302da2=await this['repository'][_0x44a116(0x686)][_0x44a116(0x450)]({'where':{'_id':_0x61a1f2[_0x44a116(0x209)]}});return await this[_0x44a116(0x7a1)](),_0x302da2;}return this[_0x44a116(0x379)][_0x44a116(0x704)](this[_0x44a116(0x88a)]+'\x20('+this[_0x44a116(0x6e8)][_0x44a116(0x64c)]+_0x44a116(0x707)+this[_0x44a116(0x6e8)][_0x44a116(0x64c)]+_0x44a116(0x222)+_0x61a1f2[_0x44a116(0x209)]+_0x44a116(0x5b4)),_0x272a62['whoCanUse']=(_0x272a62[_0x44a116(0x852)]??[])[_0x44a116(0x189)](_0x4f930f=>_0x4f930f!==this[_0x44a116(0x6e8)][_0x44a116(0x64c)]),_0x272a62[_0x44a116(0x4cb)]=(_0x272a62[_0x44a116(0x4cb)]??[])['filter'](_0x5cf46d=>_0x5cf46d!==this['instance']['wuid']),_0x272a62[_0x44a116(0x4cb)][_0x44a116(0x3d4)]===0x0&&_0x272a62[_0x44a116(0x852)][_0x44a116(0x3d4)]>0x0&&(_0x272a62[_0x44a116(0x4cb)]['push'](_0x272a62[_0x44a116(0x852)][0x0]),this['logger'][_0x44a116(0x704)](this[_0x44a116(0x88a)]+'\x20('+this[_0x44a116(0x6e8)][_0x44a116(0x64c)]+_0x44a116(0x58f)+_0x272a62[_0x44a116(0x852)][0x0]+_0x44a116(0x5d2)+_0x61a1f2[_0x44a116(0x209)]+_0x44a116(0x5b4))),await this[_0x44a116(0x7ae)]['flow'][_0x44a116(0x86c)](_0x272a62[_0x44a116(0x209)],_0x272a62),await this[_0x44a116(0x7a1)](),{'message':_0x44a116(0x848)+_0x61a1f2[_0x44a116(0x8d9)]+_0x44a116(0x4f0)};}catch(_0x11388b){return this[_0x44a116(0x379)][_0x44a116(0x8d2)](this['instanceName']+'\x20('+this[_0x44a116(0x6e8)]['wuid']+_0x44a116(0x5aa)+(_0x11388b instanceof Error?_0x11388b[_0x44a116(0x36a)]:JSON[_0x44a116(0x66f)](_0x11388b,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+(_0x11388b instanceof Error?_0x11388b[_0x44a116(0x36a)]:JSON[_0x44a116(0x66f)](_0x11388b,null,0x2))};}}async['getFlow'](_0x79b45e){const _0x5df349=a0_0x466431;try{if(this['logger'][_0x5df349(0x6c6)](this['instanceName']+'\x20('+this[_0x5df349(0x6e8)][_0x5df349(0x64c)]+_0x5df349(0x2a2)+_0x79b45e),!this[_0x5df349(0x782)]&&(await this['getAutomateSystem'](),!this[_0x5df349(0x782)]))return null;let _0x162596=await this['repository'][_0x5df349(0x686)][_0x5df349(0x2c9)]({'where':{'_id':_0x79b45e}});if(!_0x162596)throw new m(_0x5df349(0x28c)+_0x79b45e+_0x5df349(0x842));if(!(_0x162596[_0x5df349(0x22a)]||_0x162596[_0x5df349(0x852)]?.[_0x5df349(0x6f2)](this[_0x5df349(0x6e8)][_0x5df349(0x64c)])))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27'+name+'\x27');_0x162596[_0x5df349(0x22a)]&&!_0x162596['whoCanUse']?.['includes'](this[_0x5df349(0x6e8)][_0x5df349(0x64c)])&&(_0x162596[_0x5df349(0x852)]=[..._0x162596[_0x5df349(0x852)]??[],this['instance']['wuid']],await this['repository']['flow'][_0x5df349(0x86c)](_0x162596[_0x5df349(0x209)],_0x162596),this[_0x5df349(0x7a1)]());let _0x1c281f=this['AutomateSystem']?.['customFields'][_0x5df349(0x1e8)](_0x1d865e=>_0x1d865e[_0x5df349(0x8d9)]),_0x35e2dc=[_0x5df349(0x1f9),_0x5df349(0x295),'email',_0x5df349(0x25b),'status',_0x5df349(0x506),_0x5df349(0x50d),_0x5df349(0x83d),_0x5df349(0x1ca),'telefone','atendimentoAberto'];_0x162596[_0x5df349(0x49b)]=_0x162596['variables'][_0x5df349(0x189)](_0x1a9550=>!(_0x1a9550[_0x5df349(0x8ea)]===_0x5df349(0x811)||_0x1a9550[_0x5df349(0x811)])),_0x35e2dc[_0x5df349(0x4fe)](_0x6848a0=>{const _0x4f7b79=_0x5df349;_0x162596[_0x4f7b79(0x49b)][_0x4f7b79(0x543)]({'folder':_0x4f7b79(0x811),'name':_0x6848a0,'value':'','doc':'','leadInfo':!0x0});}),_0x1c281f[_0x5df349(0x4fe)](_0x53908f=>{const _0x2638bc=_0x5df349;let _0x11d611=_0x162596[_0x2638bc(0x49b)][_0x2638bc(0x4c0)](_0x5be191=>_0x5be191[_0x2638bc(0x8d9)]===_0x53908f);_0x11d611===-0x1?_0x162596[_0x2638bc(0x49b)][_0x2638bc(0x543)]({'folder':_0x2638bc(0x811),'name':_0x53908f,'value':'','doc':'','leadInfo':!0x0}):(_0x162596[_0x2638bc(0x49b)][_0x11d611]['folder']=_0x2638bc(0x811),_0x162596[_0x2638bc(0x49b)][_0x11d611][_0x2638bc(0x811)]=!0x0);}),_0x162596[_0x5df349(0x79d)]&&_0x162596['blocks']['length']>0x0&&_0x162596[_0x5df349(0x79d)][_0x5df349(0x4fe)](_0x422afc=>{const _0x169eb9=_0x5df349;_0x422afc['groupId']&&_0x422afc[_0x169eb9(0x75d)]&&_0x422afc[_0x169eb9(0x4a1)]===_0x422afc[_0x169eb9(0x75d)]&&(_0x422afc[_0x169eb9(0x75d)]=null);});let _0x8f10f9=await this['repository'][_0x5df349(0x686)][_0x5df349(0x86c)](_0x162596[_0x5df349(0x209)],_0x162596);if(!_0x8f10f9)throw new Error(_0x5df349(0x5b0));return _0x8f10f9;}catch(_0x3bbedd){let _0x5f07bf=_0x5df349(0x56f),_0xc49b8d=_0x3bbedd instanceof Error?_0x3bbedd['message']:typeof _0x3bbedd=='object'?JSON[_0x5df349(0x66f)](_0x3bbedd):_0x3bbedd,_0x487fed=_0x5f07bf+':\x20'+_0xc49b8d;throw this['logger'][_0x5df349(0x8d2)](this[_0x5df349(0x88a)]+'\x20('+this['instance'][_0x5df349(0x64c)]+_0x5df349(0x280)+_0x487fed),new m(_0x487fed);}}async['allFlows'](){const _0x38c82f=a0_0x466431;try{this[_0x38c82f(0x379)][_0x38c82f(0x704)](this[_0x38c82f(0x88a)]+'\x20('+this[_0x38c82f(0x6e8)][_0x38c82f(0x64c)]+_0x38c82f(0x748)),await this[_0x38c82f(0x7a1)]();let _0x5f1c48=await this[_0x38c82f(0x7ae)]['flow'][_0x38c82f(0x472)]({'where':{'globalShow':!0x0}});return[...this[_0x38c82f(0x782)]['flows'],..._0x5f1c48];}catch(_0x3fcdc9){return this['logger'][_0x38c82f(0x8d2)](this[_0x38c82f(0x88a)]+'\x20('+this[_0x38c82f(0x6e8)][_0x38c82f(0x64c)]+_0x38c82f(0x861)+(_0x3fcdc9 instanceof Error?_0x3fcdc9[_0x38c82f(0x36a)]:JSON[_0x38c82f(0x66f)](_0x3fcdc9,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+(_0x3fcdc9 instanceof Error?_0x3fcdc9[_0x38c82f(0x36a)]:String(_0x3fcdc9))};}}async[a0_0x466431(0x25c)](_0x5aec3f,_0x17b468){const _0x4e9717=a0_0x466431;try{this[_0x4e9717(0x379)][_0x4e9717(0x704)](this[_0x4e9717(0x88a)]+'\x20('+this[_0x4e9717(0x6e8)][_0x4e9717(0x64c)]+'):\x20Alterando\x20fluxo...');let _0x54709d=this['AutomateSystem'][_0x4e9717(0x90c)]['find'](_0x381fe7=>_0x381fe7['_id']===_0x5aec3f[_0x4e9717(0x209)]);if(!_0x54709d)throw this['logger'][_0x4e9717(0x704)](this[_0x4e9717(0x88a)]+'\x20('+this['instance'][_0x4e9717(0x64c)]+'):\x20Fluxo\x20\x27'+_0x5aec3f[_0x4e9717(0x209)]+'\x27\x20não\x20encontrado'),new m(_0x4e9717(0x1e4));let _0x96754b=await this[_0x4e9717(0x7ae)]['flow']['findOne']({'where':{'_id':_0x5aec3f[_0x4e9717(0x209)]}});if(!_0x96754b||!_0x96754b[_0x4e9717(0x852)]?.[_0x4e9717(0x6f2)](this['instance']['wuid']))throw this[_0x4e9717(0x379)]['error'](this[_0x4e9717(0x88a)]+'\x20('+this[_0x4e9717(0x6e8)][_0x4e9717(0x64c)]+_0x4e9717(0x30d)+_0x5aec3f[_0x4e9717(0x209)]+_0x4e9717(0x3a2)),new m('Flow\x20\x27'+_0x5aec3f['_id']+_0x4e9717(0x3a2));let _0xd808e=this['AutomateSystem'][_0x4e9717(0x90c)]['findIndex'](_0x411806=>_0x411806[_0x4e9717(0x209)]===_0x54709d['_id']);if(_0xd808e!==-0x1){let _0x465175=this['AutomateSystem'][_0x4e9717(0x90c)][_0xd808e];if(_0x465175[_0x4e9717(0x8d9)]=_0x5aec3f[_0x4e9717(0x8d9)]??_0x465175[_0x4e9717(0x8d9)],_0x465175[_0x4e9717(0x525)]=_0x5aec3f['default']??_0x465175[_0x4e9717(0x525)],_0x465175[_0x4e9717(0x6a8)]=_0x5aec3f[_0x4e9717(0x6a8)]??_0x465175['testingWith'],_0x465175[_0x4e9717(0x3e9)]=_0x5aec3f[_0x4e9717(0x7e1)]??_0x465175['startCommand'],_0x465175[_0x4e9717(0x7d9)]=_0x5aec3f[_0x4e9717(0x7d9)]??_0x465175[_0x4e9717(0x7d9)],_0x465175[_0x4e9717(0x8a6)]=_0x5aec3f[_0x4e9717(0x8a6)]??_0x465175[_0x4e9717(0x8a6)],_0x5aec3f['default']&&this['AutomateSystem']['flows'][_0x4e9717(0x4fe)]((_0x4165d2,_0x2255cd)=>{const _0xbda899=_0x4e9717;_0x2255cd!==_0xd808e&&(_0x4165d2[_0xbda899(0x525)]=!0x1);}),this['AutomateSystem'][_0x4e9717(0x90c)][_0xd808e]=_0x465175,!await this['repository'][_0x4e9717(0x8b6)][_0x4e9717(0x42a)]({'flows':this[_0x4e9717(0x782)][_0x4e9717(0x90c)]},this[_0x4e9717(0x6e8)][_0x4e9717(0x64c)]))throw new m(_0x4e9717(0x5b6));}let _0x5beedf=[_0x4e9717(0x6f1),_0x4e9717(0x448),_0x4e9717(0x7b2),_0x4e9717(0x52f)];for(let _0x1df48b of _0x5beedf)delete _0x5aec3f[_0x1df48b];if(_0x96754b['whoCanEdit']?.[_0x4e9717(0x6f2)](this[_0x4e9717(0x6e8)][_0x4e9717(0x64c)])||(_0x5aec3f={'_id':_0x5aec3f[_0x4e9717(0x209)]}),_0x17b468!==Ri&&_0x5aec3f?.[_0x4e9717(0x22a)]&&!_0x96754b?.[_0x4e9717(0x22a)])throw new m(_0x4e9717(0x4fd));let _0x1cded3=new Set(_0x5aec3f['whoCanEdit']??_0x96754b[_0x4e9717(0x4cb)]);_0x1cded3[_0x4e9717(0x83c)](_0x96754b[_0x4e9717(0x3ea)]);let _0x3e6497=new Set(_0x5aec3f[_0x4e9717(0x852)]??_0x96754b['whoCanUse']??[]);_0x1cded3[_0x4e9717(0x4fe)](_0x6d2572=>_0x3e6497[_0x4e9717(0x83c)](_0x6d2572)),_0x3e6497[_0x4e9717(0x83c)](_0x96754b[_0x4e9717(0x3ea)]),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x4e9717(0x6e8)]['wuid']+_0x4e9717(0x367)+Array[_0x4e9717(0x847)](_0x1cded3)),this['logger'][_0x4e9717(0x704)](this['instanceName']+'\x20('+this[_0x4e9717(0x6e8)]['wuid']+'):\x20whoCanUse\x20before\x20validation:\x20'+Array[_0x4e9717(0x847)](_0x3e6497));let _0x5e0c83=await this['getValidWhatsAppNumbers'](Array[_0x4e9717(0x847)](_0x3e6497)),_0xb9f643=Array[_0x4e9717(0x847)](_0x1cded3)[_0x4e9717(0x189)](_0x4cd97b=>_0x5e0c83[_0x4e9717(0x6f2)](_0x4cd97b)),_0x1877cd=Array[_0x4e9717(0x847)](_0x3e6497)[_0x4e9717(0x189)](_0x22f11a=>_0x5e0c83[_0x4e9717(0x6f2)](_0x22f11a));this[_0x4e9717(0x379)][_0x4e9717(0x704)](this[_0x4e9717(0x88a)]+'\x20('+this[_0x4e9717(0x6e8)][_0x4e9717(0x64c)]+_0x4e9717(0x4a8)+_0xb9f643),this[_0x4e9717(0x379)]['verbose'](this[_0x4e9717(0x88a)]+'\x20('+this['instance'][_0x4e9717(0x64c)]+_0x4e9717(0x8fe)+_0x1877cd);let _0x39ab01={..._0x96754b,..._0x5aec3f,'whoCanEdit':_0xb9f643,'whoCanUse':_0x1877cd},_0xca0863=await this[_0x4e9717(0x7ae)][_0x4e9717(0x686)][_0x4e9717(0x86c)](_0x96754b['_id'],_0x39ab01);return await this[_0x4e9717(0x7a1)](),_0xca0863;}catch(_0x198e30){let _0x5620df=_0x4e9717(0x220),_0x2ccf33=_0x198e30 instanceof Error?_0x198e30[_0x4e9717(0x36a)]:typeof _0x198e30==_0x4e9717(0x3f1)?JSON[_0x4e9717(0x66f)](_0x198e30):_0x198e30,_0x3445a0=_0x5620df+':\x20'+_0x2ccf33;throw this['logger'][_0x4e9717(0x8d2)](this[_0x4e9717(0x88a)]+'\x20('+this[_0x4e9717(0x6e8)][_0x4e9717(0x64c)]+'):\x20'+_0x3445a0),new m(_0x3445a0);}}async['getValidWhatsAppNumbers'](_0x4fb2eb){const _0x480d1e=a0_0x466431;let _0x3d8713={'numbers':_0x4fb2eb};return(await this[_0x480d1e(0x52b)](_0x3d8713))['filter'](_0x52ec3e=>_0x52ec3e[_0x480d1e(0x7b4)])[_0x480d1e(0x1e8)](_0x37382e=>_0x37382e['jid'])[_0x480d1e(0x1e8)](_0x2038ca=>this[_0x480d1e(0x395)](_0x2038ca));}['extractPhoneNumber'](_0x433a23){const _0x1318be=a0_0x466431;let _0x3ad86a=_0x433a23[_0x1318be(0x666)](/\d+/);return _0x3ad86a?_0x3ad86a[0x0]:'';}async[a0_0x466431(0x839)](_0x573dd3){const _0x3ebf2d=a0_0x466431;try{if(this[_0x3ebf2d(0x379)][_0x3ebf2d(0x704)](this[_0x3ebf2d(0x88a)]+'\x20('+this[_0x3ebf2d(0x6e8)][_0x3ebf2d(0x64c)]+_0x3ebf2d(0x486)),!this[_0x3ebf2d(0x782)][_0x3ebf2d(0x90c)][_0x3ebf2d(0x5a4)](_0x73adcf=>_0x73adcf[_0x3ebf2d(0x209)]===_0x573dd3[_0x3ebf2d(0x209)]))throw this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x3ebf2d(0x6e8)][_0x3ebf2d(0x64c)]+_0x3ebf2d(0x7c3)+_0x573dd3['_id']+_0x3ebf2d(0x4ab)),new m(_0x3ebf2d(0x1e4));let _0x443170=await this['repository'][_0x3ebf2d(0x686)][_0x3ebf2d(0x2c9)]({'where':{'_id':_0x573dd3['_id']}});if(!_0x443170||!_0x443170[_0x3ebf2d(0x852)]?.[_0x3ebf2d(0x6f2)](this[_0x3ebf2d(0x6e8)]['wuid']))throw this[_0x3ebf2d(0x379)]['error'](this[_0x3ebf2d(0x88a)]+'\x20('+this[_0x3ebf2d(0x6e8)][_0x3ebf2d(0x64c)]+'):\x20Flow\x20\x27'+_0x573dd3[_0x3ebf2d(0x209)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m('Flow\x20\x27'+_0x573dd3[_0x3ebf2d(0x209)]+_0x3ebf2d(0x3a2));if(!_0x443170['whoCanEdit']?.[_0x3ebf2d(0x6f2)](this[_0x3ebf2d(0x6e8)][_0x3ebf2d(0x64c)]))throw new m(_0x3ebf2d(0x366));let {block:_0x1f8dc1}=_0x573dd3;_0x1f8dc1?.[_0x3ebf2d(0x1e6)]?this[_0x3ebf2d(0x882)](_0x443170,_0x573dd3):_0x1f8dc1?.[_0x3ebf2d(0x384)]?this[_0x3ebf2d(0x3f7)](_0x443170,_0x573dd3):_0x1f8dc1[_0x3ebf2d(0x209)]?await this[_0x3ebf2d(0x51f)](_0x443170,_0x573dd3):this[_0x3ebf2d(0x4ef)](_0x443170,_0x573dd3);let _0x422da0=await this[_0x3ebf2d(0x7ae)][_0x3ebf2d(0x686)][_0x3ebf2d(0x86c)](_0x443170['_id'],_0x443170);if(!_0x422da0)throw new Error(_0x3ebf2d(0x5b0));return _0x422da0;}catch(_0x2665c8){this[_0x3ebf2d(0x903)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x2665c8[_0x3ebf2d(0x36a)]);}}async[a0_0x466431(0x882)](_0x18a2ef,_0x2c090b){const _0x1bbfe1=a0_0x466431;let _0x4cec0d=_0x2c090b['block'][_0x1bbfe1(0x209)],_0x39faf4=_0x18a2ef[_0x1bbfe1(0x79d)][_0x1bbfe1(0x5a4)](_0x1a7719=>_0x1a7719['_id'][_0x1bbfe1(0x1d0)]()===_0x4cec0d);if(!_0x39faf4){this[_0x1bbfe1(0x379)][_0x1bbfe1(0x8d2)](this[_0x1bbfe1(0x88a)]+'\x20('+this[_0x1bbfe1(0x6e8)]['wuid']+_0x1bbfe1(0x919)+_0x4cec0d+_0x1bbfe1(0x8df));return;}this[_0x1bbfe1(0x379)]['verbose'](this['instanceName']+'\x20('+this[_0x1bbfe1(0x6e8)][_0x1bbfe1(0x64c)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x1bbfe1(0x66f)](_0x39faf4));let _0x439322=JSON[_0x1bbfe1(0x46d)](JSON[_0x1bbfe1(0x66f)](_0x39faf4));_0x439322[_0x1bbfe1(0x209)]=new pe[(_0x1bbfe1(0x525))][(_0x1bbfe1(0x5a5))]['ObjectId'](),this[_0x1bbfe1(0x379)]['verbose'](this[_0x1bbfe1(0x88a)]+'\x20('+this[_0x1bbfe1(0x6e8)][_0x1bbfe1(0x64c)]+_0x1bbfe1(0x879)+JSON[_0x1bbfe1(0x66f)](_0x439322)),_0x18a2ef[_0x1bbfe1(0x79d)]['push'](_0x439322),this[_0x1bbfe1(0x34c)](_0x18a2ef['blocks'],_0x439322[_0x1bbfe1(0x4a1)]);}[a0_0x466431(0x903)](_0x32a4af){const _0xd24e33=a0_0x466431;throw this[_0xd24e33(0x379)][_0xd24e33(0x8d2)](this['instanceName']+'\x20('+this['instance'][_0xd24e33(0x64c)]+_0xd24e33(0x280)+_0x32a4af),new m(_0x32a4af);}[a0_0x466431(0x3f7)](_0x5294bd,_0x1cb4c7){const _0x7c3ebd=a0_0x466431;let {block:_0x101766}=_0x1cb4c7;if(_0x101766[_0x7c3ebd(0x688)]===_0x7c3ebd(0x631)){this[_0x7c3ebd(0x903)](_0x7c3ebd(0x19d));return;}if(!_0x101766[_0x7c3ebd(0x209)]){this[_0x7c3ebd(0x903)](_0x7c3ebd(0x8dc));return;}let _0x49c787=_0x5294bd[_0x7c3ebd(0x79d)][_0x7c3ebd(0x5a4)](_0x3472ad=>_0x3472ad['_id']['toString']()===_0x1cb4c7[_0x7c3ebd(0x33d)]['_id'][_0x7c3ebd(0x1d0)]());if(!_0x49c787){this['throwAndLogError'](_0x7c3ebd(0x681)+_0x101766[_0x7c3ebd(0x209)]+_0x7c3ebd(0x469));return;}_0x5294bd[_0x7c3ebd(0x79d)]=_0x5294bd['blocks'][_0x7c3ebd(0x189)](_0x4155a4=>_0x4155a4[_0x7c3ebd(0x209)][_0x7c3ebd(0x1d0)]()!==_0x1cb4c7[_0x7c3ebd(0x33d)][_0x7c3ebd(0x209)][_0x7c3ebd(0x1d0)]()),_0x5294bd[_0x7c3ebd(0x61e)]=_0x5294bd[_0x7c3ebd(0x61e)][_0x7c3ebd(0x189)](_0x48282c=>_0x48282c[_0x7c3ebd(0x88c)]!==_0x101766['_id']['toString']()),_0x5294bd[_0x7c3ebd(0x7ef)]=_0x5294bd[_0x7c3ebd(0x7ef)]['filter'](_0x232638=>_0x232638['blockId']!==_0x101766[_0x7c3ebd(0x209)]['toString']()),_0x5294bd[_0x7c3ebd(0x81d)]=_0x5294bd[_0x7c3ebd(0x81d)][_0x7c3ebd(0x189)](_0x239871=>_0x239871['blockId']!==_0x101766[_0x7c3ebd(0x209)][_0x7c3ebd(0x1d0)]()),this['reorderBlocks'](_0x5294bd[_0x7c3ebd(0x79d)],_0x49c787[_0x7c3ebd(0x4a1)]);}async[a0_0x466431(0x51f)](_0x49ad72,_0x50f81f){const _0x4d3941=a0_0x466431;let _0x3e3543=_0x49ad72['blocks'][_0x4d3941(0x4c0)](_0x3ed552=>_0x3ed552[_0x4d3941(0x209)][_0x4d3941(0x1d0)]()===_0x50f81f[_0x4d3941(0x33d)][_0x4d3941(0x209)][_0x4d3941(0x1d0)]());if(this[_0x4d3941(0x379)][_0x4d3941(0x704)](this[_0x4d3941(0x88a)]+'\x20('+this[_0x4d3941(0x6e8)][_0x4d3941(0x64c)]+'):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:'+_0x3e3543),_0x3e3543===-0x1){this[_0x4d3941(0x379)][_0x4d3941(0x704)](_0x4d3941(0x681)+_0x50f81f[_0x4d3941(0x33d)]['_id']+_0x4d3941(0x3b2));return;}if(_0x49ad72[_0x4d3941(0x79d)][_0x3e3543][_0x4d3941(0x688)]===_0x4d3941(0x631)){let _0x421191=Object['keys'](_0x50f81f[_0x4d3941(0x33d)]);if(_0x421191[_0x4d3941(0x3d4)]>0x2||_0x421191[_0x4d3941(0x3d4)]===0x2&&!_0x421191[_0x4d3941(0x6f2)]('next_groupId')){this[_0x4d3941(0x903)](_0x4d3941(0x4ea));return;}}let _0x1006d1=_0x49ad72[_0x4d3941(0x79d)][_0x3e3543][_0x4d3941(0x4a1)];for(let _0x461fcb in _0x50f81f['block'])_0x50f81f[_0x4d3941(0x33d)]['hasOwnProperty'](_0x461fcb)&&(_0x49ad72[_0x4d3941(0x79d)][_0x3e3543][_0x461fcb]=_0x50f81f['block'][_0x461fcb]);if(this[_0x4d3941(0x379)]['verbose'](this[_0x4d3941(0x88a)]+'\x20('+this[_0x4d3941(0x6e8)][_0x4d3941(0x64c)]+_0x4d3941(0x781)+JSON[_0x4d3941(0x66f)](_0x49ad72[_0x4d3941(0x79d)][_0x3e3543])),_0x49ad72[_0x4d3941(0x79d)][_0x3e3543]['apirequest']&&_0x4d3941(0x655)in _0x49ad72[_0x4d3941(0x79d)][_0x3e3543]['apirequest']){this['logger'][_0x4d3941(0x704)](this[_0x4d3941(0x88a)]+'\x20('+this[_0x4d3941(0x6e8)][_0x4d3941(0x64c)]+_0x4d3941(0x4cc));let _0x11fcf1=JSON[_0x4d3941(0x66f)](_0x49ad72[_0x4d3941(0x79d)][_0x3e3543][_0x4d3941(0x5b2)]['header'],null,0x1);_0x11fcf1[_0x4d3941(0x3d4)]>0x2&&(_0x11fcf1=_0x11fcf1[_0x4d3941(0x6ea)](0x1,_0x11fcf1[_0x4d3941(0x3d4)]-0x1)[_0x4d3941(0x8bd)]()),_0x49ad72[_0x4d3941(0x79d)][_0x3e3543]['apirequest']['headerString']=_0x11fcf1;}if(_0x49ad72[_0x4d3941(0x79d)][_0x3e3543]['apirequest']&&_0x4d3941(0x533)in _0x49ad72[_0x4d3941(0x79d)][_0x3e3543][_0x4d3941(0x5b2)]&&!(_0x4d3941(0x759)in _0x49ad72[_0x4d3941(0x79d)][_0x3e3543][_0x4d3941(0x5b2)])){this[_0x4d3941(0x379)][_0x4d3941(0x704)](this[_0x4d3941(0x88a)]+'\x20('+this[_0x4d3941(0x6e8)][_0x4d3941(0x64c)]+_0x4d3941(0x2f7)),_0x49ad72[_0x4d3941(0x79d)][_0x3e3543][_0x4d3941(0x5b2)][_0x4d3941(0x5c0)]=!0x1;let _0x201669=JSON['stringify'](_0x49ad72[_0x4d3941(0x79d)][_0x3e3543][_0x4d3941(0x5b2)][_0x4d3941(0x533)],null,0x2);_0x49ad72[_0x4d3941(0x79d)][_0x3e3543][_0x4d3941(0x5b2)][_0x4d3941(0x759)]=_0x201669;}if(_0x49ad72[_0x4d3941(0x79d)][_0x3e3543]['apirequest']&&'bodyString'in _0x49ad72[_0x4d3941(0x79d)][_0x3e3543][_0x4d3941(0x5b2)]){_0x49ad72[_0x4d3941(0x79d)][_0x3e3543][_0x4d3941(0x5b2)][_0x4d3941(0x5c0)]=!0x1;let _0xed1f18=_0x49ad72['blocks'][_0x3e3543]['apirequest'][_0x4d3941(0x759)],_0x347882=this['beautifyWithPlaceholders'](_0xed1f18);_0x49ad72[_0x4d3941(0x79d)][_0x3e3543][_0x4d3941(0x5b2)][_0x4d3941(0x759)]=_0x347882[_0x4d3941(0x524)],_0x49ad72[_0x4d3941(0x79d)][_0x3e3543][_0x4d3941(0x5b2)][_0x4d3941(0x5c0)]=_0x347882[_0x4d3941(0x8d2)];}let _0x57b1a9=_0x49ad72[_0x4d3941(0x79d)][_0x3e3543][_0x4d3941(0x4a1)];_0x1006d1!==_0x57b1a9?(this[_0x4d3941(0x34c)](_0x49ad72[_0x4d3941(0x79d)],_0x1006d1),this[_0x4d3941(0x34c)](_0x49ad72[_0x4d3941(0x79d)],_0x57b1a9)):this[_0x4d3941(0x34c)](_0x49ad72[_0x4d3941(0x79d)],_0x1006d1);}[a0_0x466431(0x5ee)](_0x267d1f){const _0x4a72eb=a0_0x466431;let _0x479677='\u205f',_0x22fdfd=!0x1,_0x1bdb89='';for(let _0xa4e3f3=0x0;_0xa4e3f3<_0x267d1f['length'];_0xa4e3f3++){let _0x3f31a2=_0x267d1f[_0xa4e3f3];_0x3f31a2==='\x22'&&(_0xa4e3f3===0x0||_0x267d1f[_0xa4e3f3-0x1]!=='\x5c')&&(_0x22fdfd=!_0x22fdfd),!(!_0x22fdfd&&(_0x3f31a2==='\x0a'||_0x3f31a2==='\x20'||_0x3f31a2===_0x479677))&&(_0x1bdb89+=_0x3f31a2);}let _0x625d58={},_0x490348=9876543210.1234,_0x193ccb=_0x1bdb89[_0x4a72eb(0x783)](/\{\{([^}]+)\}\}/g,_0x2aa5b1=>{let _0x4e9134=_0x2aa5b1,_0x418133=''+_0x490348;return _0x625d58[_0x418133]=_0x4e9134,_0x490348+=0.0001,_0x418133;}),_0x37b6ad='',_0x6340e1=!0x1;try{let _0x471368=JSON[_0x4a72eb(0x46d)](_0x193ccb);_0x37b6ad=JSON[_0x4a72eb(0x66f)](_0x471368,null,0x2),_0x37b6ad=_0x37b6ad[_0x4a72eb(0x783)](/\n( +)/g,(_0x3ba3b0,_0xe3d86)=>{const _0xcb8f6d=_0x4a72eb;let _0x2bfc84=_0xe3d86[_0xcb8f6d(0x3d4)];return'\x0a'+_0x479677[_0xcb8f6d(0x58d)](_0x2bfc84*0x2);}),_0x37b6ad=_0x37b6ad[_0x4a72eb(0x783)](/(\d{10,}\.\d+)/g,_0x20c581=>_0x625d58[_0x20c581]||_0x20c581);}catch(_0x1a2ee0){this[_0x4a72eb(0x379)][_0x4a72eb(0x8d2)](_0x4a72eb(0x558)+_0x1a2ee0),_0x37b6ad=_0x267d1f,_0x6340e1=!0x0;}return{'result':_0x37b6ad,'error':_0x6340e1};}['addBlock'](_0x3fc017,_0x3a1715){const _0x3ec62d=a0_0x466431;if(_0x3a1715['block'][_0x3ec62d(0x688)]===_0x3ec62d(0x631)){this[_0x3ec62d(0x903)](_0x3ec62d(0x24f));return;}if(_0x3a1715[_0x3ec62d(0x33d)][_0x3ec62d(0x5b2)]&&_0x3ec62d(0x655)in _0x3a1715['block'][_0x3ec62d(0x5b2)]){this[_0x3ec62d(0x379)][_0x3ec62d(0x704)](this[_0x3ec62d(0x88a)]+'\x20('+this['instance'][_0x3ec62d(0x64c)]+_0x3ec62d(0x4cc));let _0x2a38fd=JSON[_0x3ec62d(0x66f)](_0x3a1715[_0x3ec62d(0x33d)][_0x3ec62d(0x5b2)]['header'],null,0x1);_0x2a38fd[_0x3ec62d(0x3d4)]>0x2&&(_0x2a38fd=_0x2a38fd[_0x3ec62d(0x6ea)](0x1,_0x2a38fd[_0x3ec62d(0x3d4)]-0x1)[_0x3ec62d(0x8bd)]()),_0x3a1715[_0x3ec62d(0x33d)]['apirequest'][_0x3ec62d(0x762)]=_0x2a38fd;}_0x3a1715[_0x3ec62d(0x33d)][_0x3ec62d(0x5b2)]&&_0x3ec62d(0x533)in _0x3a1715['block']['apirequest']&&(this[_0x3ec62d(0x379)]['verbose'](this['instanceName']+'\x20('+this[_0x3ec62d(0x6e8)]['wuid']+_0x3ec62d(0x2f7)),_0x3a1715['block'][_0x3ec62d(0x5b2)][_0x3ec62d(0x759)]=JSON[_0x3ec62d(0x66f)](_0x3a1715['block'][_0x3ec62d(0x5b2)]['body'],null,0x1)[_0x3ec62d(0x8bd)]()),_0x3fc017[_0x3ec62d(0x79d)][_0x3ec62d(0x543)](_0x3a1715[_0x3ec62d(0x33d)]),this[_0x3ec62d(0x34c)](_0x3fc017[_0x3ec62d(0x79d)],_0x3a1715[_0x3ec62d(0x33d)][_0x3ec62d(0x4a1)]);}['reorderBlocks'](_0x41f1a9,_0x3288ce){const _0x35fc7c=a0_0x466431;let _0x574b15=_0x41f1a9['filter'](_0x3a34a6=>_0x3a34a6[_0x35fc7c(0x4a1)]===_0x3288ce);_0x574b15['sort']((_0x1a16be,_0x3ae171)=>_0x1a16be[_0x35fc7c(0x244)]-_0x3ae171['order']),_0x574b15['forEach']((_0x54db21,_0x1181ca)=>_0x54db21[_0x35fc7c(0x244)]=_0x1181ca+0x1);}async[a0_0x466431(0x347)](_0x3a5eb6){const _0x5b8a27=a0_0x466431;try{if(this[_0x5b8a27(0x379)][_0x5b8a27(0x704)](this[_0x5b8a27(0x88a)]+'\x20('+this[_0x5b8a27(0x6e8)]['wuid']+_0x5b8a27(0x47b)),!_0x3a5eb6||!_0x3a5eb6['replyOption']){this[_0x5b8a27(0x903)](_0x5b8a27(0x8c7));return;}if(!this[_0x5b8a27(0x782)][_0x5b8a27(0x90c)][_0x5b8a27(0x5a4)](_0x43d12a=>_0x43d12a[_0x5b8a27(0x209)]===_0x3a5eb6[_0x5b8a27(0x209)]))throw this[_0x5b8a27(0x379)][_0x5b8a27(0x704)](this['instanceName']+'\x20('+this['instance'][_0x5b8a27(0x64c)]+'):\x20Fluxo\x20\x27'+_0x3a5eb6['_id']+'\x27\x20não\x20encontrado'),new m(_0x5b8a27(0x1e4));let _0x5e7f5c=await this['repository'][_0x5b8a27(0x686)][_0x5b8a27(0x2c9)]({'where':{'_id':_0x3a5eb6[_0x5b8a27(0x209)]}});if(!_0x5e7f5c||!_0x5e7f5c['whoCanUse']?.[_0x5b8a27(0x6f2)](this['instance'][_0x5b8a27(0x64c)]))throw this['logger'][_0x5b8a27(0x8d2)](this['instanceName']+'\x20('+this[_0x5b8a27(0x6e8)][_0x5b8a27(0x64c)]+_0x5b8a27(0x30d)+_0x3a5eb6['_id']+_0x5b8a27(0x3a2)),new m(_0x5b8a27(0x459)+_0x3a5eb6['_id']+_0x5b8a27(0x3a2));if(!_0x5e7f5c[_0x5b8a27(0x4cb)]?.[_0x5b8a27(0x6f2)](this[_0x5b8a27(0x6e8)]['wuid']))throw new m(_0x5b8a27(0x366));let {replyOption:_0x196cf0}=_0x3a5eb6;_0x196cf0?.[_0x5b8a27(0x384)]?(this[_0x5b8a27(0x62a)](_0x5e7f5c,_0x3a5eb6),this['reorderReplyOptions'](_0x5e7f5c['replyOptions'],_0x3a5eb6['replyOption'][_0x5b8a27(0x88c)])):_0x196cf0[_0x5b8a27(0x209)]?(await this[_0x5b8a27(0x1d9)](_0x5e7f5c,_0x3a5eb6),this[_0x5b8a27(0x6f9)](_0x5e7f5c['replyOptions'],_0x3a5eb6[_0x5b8a27(0x1f4)][_0x5b8a27(0x88c)])):(this['addReplyOption'](_0x5e7f5c,_0x3a5eb6),this['reorderReplyOptions'](_0x5e7f5c['replyOptions'],_0x3a5eb6[_0x5b8a27(0x1f4)]['blockId']));let _0x29382=await this[_0x5b8a27(0x7ae)][_0x5b8a27(0x686)]['updateOne'](_0x5e7f5c[_0x5b8a27(0x209)],_0x5e7f5c);if(!_0x29382)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x29382;}catch(_0xd2e644){this['throwAndLogError'](_0x5b8a27(0x288)+_0xd2e644);}}[a0_0x466431(0x6f9)](_0x2328ee,_0xd6c435){const _0x810b0f=a0_0x466431;_0x2328ee[_0x810b0f(0x4fe)](_0x2e696a=>{const _0xdaaa81=_0x810b0f;_0x2e696a[_0xdaaa81(0x88c)]===_0xd6c435&&_0x2e696a[_0xdaaa81(0x244)]===void 0x0&&(_0x2e696a['order']=0x270f);});let _0x3413be=_0x2328ee[_0x810b0f(0x189)](_0xd47477=>_0xd47477[_0x810b0f(0x88c)]===_0xd6c435);_0x3413be['sort']((_0x136be,_0x20f997)=>_0x136be[_0x810b0f(0x244)]-_0x20f997['order']),_0x3413be[_0x810b0f(0x4fe)]((_0x4e79b0,_0x16030a)=>{const _0x2d6692=_0x810b0f;_0x4e79b0[_0x2d6692(0x244)]=_0x16030a+0x1;}),_0x2328ee[_0x810b0f(0x4fe)](_0x5a751f=>{const _0x4c2bbd=_0x810b0f;if(_0x5a751f[_0x4c2bbd(0x88c)]===_0xd6c435){let _0x8037a1=_0x3413be[_0x4c2bbd(0x5a4)](_0x10744c=>_0x10744c['_id']&&_0x5a751f[_0x4c2bbd(0x209)]&&_0x10744c[_0x4c2bbd(0x209)]['toString']()===_0x5a751f[_0x4c2bbd(0x209)][_0x4c2bbd(0x1d0)]());_0x8037a1&&(_0x5a751f[_0x4c2bbd(0x244)]=_0x8037a1[_0x4c2bbd(0x244)]);}});}['deleteReplyOption'](_0x2c937c,_0x23301c){const _0x4884aa=a0_0x466431;let {replyOption:_0x40e9fb}=_0x23301c;if(!_0x40e9fb['_id']){this[_0x4884aa(0x903)](_0x4884aa(0x21c));return;}if(!_0x2c937c['replyOptions'][_0x4884aa(0x5a4)](_0x15895c=>_0x15895c['_id'][_0x4884aa(0x1d0)]()===_0x23301c['replyOption'][_0x4884aa(0x209)][_0x4884aa(0x1d0)]())){this[_0x4884aa(0x903)](_0x4884aa(0x577)+_0x40e9fb[_0x4884aa(0x209)]+_0x4884aa(0x469));return;}_0x2c937c[_0x4884aa(0x81d)]=_0x2c937c[_0x4884aa(0x81d)]['filter'](_0x3061fd=>_0x3061fd[_0x4884aa(0x209)]['toString']()!==_0x23301c['replyOption'][_0x4884aa(0x209)][_0x4884aa(0x1d0)]());}async[a0_0x466431(0x1d9)](_0x27207e,_0x3626dc){const _0x280f8c=a0_0x466431;let _0x4b62ae=_0x27207e[_0x280f8c(0x81d)][_0x280f8c(0x4c0)](_0x5e26b8=>_0x5e26b8[_0x280f8c(0x209)]['toString']()===_0x3626dc[_0x280f8c(0x1f4)][_0x280f8c(0x209)][_0x280f8c(0x1d0)]());if(_0x4b62ae===-0x1){this[_0x280f8c(0x903)](_0x280f8c(0x577)+_0x3626dc[_0x280f8c(0x1f4)]['_id']+_0x280f8c(0x3b2));return;}for(let _0x4afa96 in _0x3626dc[_0x280f8c(0x1f4)])_0x3626dc['replyOption'][_0x280f8c(0x5bc)](_0x4afa96)&&(_0x27207e[_0x280f8c(0x81d)][_0x4b62ae][_0x4afa96]=_0x3626dc[_0x280f8c(0x1f4)][_0x4afa96]);}[a0_0x466431(0x467)](_0x2f3d39,_0x3bc7bd){const _0x2cddd8=a0_0x466431;_0x2f3d39[_0x2cddd8(0x81d)][_0x2cddd8(0x543)](_0x3bc7bd[_0x2cddd8(0x1f4)]);}async[a0_0x466431(0x488)](_0xe3bb28){const _0x22368e=a0_0x466431;this[_0x22368e(0x379)][_0x22368e(0x704)](this[_0x22368e(0x88a)]+'\x20('+this[_0x22368e(0x6e8)][_0x22368e(0x64c)]+_0x22368e(0x6db)+JSON[_0x22368e(0x66f)](_0xe3bb28,null,0x2));try{if(this[_0x22368e(0x379)][_0x22368e(0x704)](this[_0x22368e(0x88a)]+'\x20('+this[_0x22368e(0x6e8)][_0x22368e(0x64c)]+_0x22368e(0x237)),!this[_0x22368e(0x782)][_0x22368e(0x90c)]['find'](_0x128293=>_0x128293[_0x22368e(0x209)]===_0xe3bb28[_0x22368e(0x209)]))throw this[_0x22368e(0x379)][_0x22368e(0x704)](this[_0x22368e(0x88a)]+'\x20('+this['instance'][_0x22368e(0x64c)]+_0x22368e(0x7c3)+_0xe3bb28[_0x22368e(0x209)]+_0x22368e(0x4ab)),new m(_0x22368e(0x1e4));let _0x1162b9=await this[_0x22368e(0x7ae)][_0x22368e(0x686)]['findOne']({'where':{'_id':_0xe3bb28[_0x22368e(0x209)]}});if(!_0x1162b9||!_0x1162b9[_0x22368e(0x852)]?.[_0x22368e(0x6f2)](this[_0x22368e(0x6e8)][_0x22368e(0x64c)]))throw this[_0x22368e(0x379)][_0x22368e(0x8d2)](this['instanceName']+'\x20('+this['instance'][_0x22368e(0x64c)]+'):\x20Flow\x20\x27'+_0xe3bb28[_0x22368e(0x209)]+_0x22368e(0x3a2)),new m(_0x22368e(0x459)+_0xe3bb28[_0x22368e(0x209)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x1162b9[_0x22368e(0x4cb)]?.[_0x22368e(0x6f2)](this[_0x22368e(0x6e8)][_0x22368e(0x64c)]))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');if(_0xe3bb28[_0x22368e(0x4ff)]&&_0xe3bb28['group']?.['delete']===!0x0){if(this[_0x22368e(0x379)][_0x22368e(0x704)](this[_0x22368e(0x88a)]+'\x20('+this[_0x22368e(0x6e8)][_0x22368e(0x64c)]+_0x22368e(0x7ad)),_0xe3bb28[_0x22368e(0x4ff)][_0x22368e(0x525)]===!0x0)return{'message':_0x22368e(0x71c)};if(_0x1162b9[_0x22368e(0x79d)][_0x22368e(0x3fb)](_0x20938b=>_0x20938b[_0x22368e(0x4a1)]['toString']()===_0xe3bb28['group'][_0x22368e(0x209)]))return this[_0x22368e(0x379)][_0x22368e(0x704)](this[_0x22368e(0x88a)]+'\x20('+this[_0x22368e(0x6e8)][_0x22368e(0x64c)]+_0x22368e(0x2ea)),{'message':_0x22368e(0x563)};_0x1162b9[_0x22368e(0x2b2)]=_0x1162b9[_0x22368e(0x2b2)][_0x22368e(0x189)](_0x40b2c6=>_0x40b2c6['_id'][_0x22368e(0x1d0)]()!==_0xe3bb28['group'][_0x22368e(0x209)]);}else{if(_0xe3bb28[_0x22368e(0x4ff)]){if(_0xe3bb28[_0x22368e(0x4ff)][_0x22368e(0x525)]===!0x0)return{'message':_0x22368e(0x44f)};if(_0xe3bb28[_0x22368e(0x4ff)][_0x22368e(0x209)]){let _0x425df4=_0x1162b9[_0x22368e(0x2b2)]['find'](_0x56ca85=>_0x56ca85[_0x22368e(0x209)][_0x22368e(0x1d0)]()===_0xe3bb28[_0x22368e(0x4ff)][_0x22368e(0x209)]);_0x425df4&&(_0xe3bb28[_0x22368e(0x4ff)]['x']<0x0&&(_0xe3bb28[_0x22368e(0x4ff)]['x']=0x0),_0xe3bb28['group']['y']<0x0&&(_0xe3bb28[_0x22368e(0x4ff)]['y']=0x0),Object[_0x22368e(0x25a)](_0x425df4,_0xe3bb28[_0x22368e(0x4ff)]));}else _0x1162b9[_0x22368e(0x2b2)][_0x22368e(0x543)](_0xe3bb28[_0x22368e(0x4ff)]);}}let _0x58fbb4=await this[_0x22368e(0x7ae)][_0x22368e(0x686)][_0x22368e(0x86c)](_0x1162b9[_0x22368e(0x209)],_0x1162b9);if(!_0x58fbb4)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x58fbb4;}catch(_0x5331b4){let _0x34bfa6=_0x22368e(0x440),_0x45b56a=_0x5331b4 instanceof Error?_0x5331b4['message']:typeof _0x5331b4==_0x22368e(0x3f1)?JSON[_0x22368e(0x66f)](_0x5331b4):_0x5331b4,_0x130bd8=_0x34bfa6+':\x20'+_0x45b56a;throw this[_0x22368e(0x379)]['error'](this[_0x22368e(0x88a)]+'\x20('+this['instance'][_0x22368e(0x64c)]+_0x22368e(0x280)+_0x130bd8),new m(_0x130bd8);}}async['editFlowCondition'](_0x5b8617){const _0xf27f8f=a0_0x466431;try{if(this['logger'][_0xf27f8f(0x704)](this[_0xf27f8f(0x88a)]+'\x20('+this['instance'][_0xf27f8f(0x64c)]+_0xf27f8f(0x857)),!this[_0xf27f8f(0x782)][_0xf27f8f(0x90c)]['find'](_0xd7d797=>_0xd7d797[_0xf27f8f(0x209)]===_0x5b8617[_0xf27f8f(0x209)]))throw this[_0xf27f8f(0x379)][_0xf27f8f(0x704)](this[_0xf27f8f(0x88a)]+'\x20('+this[_0xf27f8f(0x6e8)]['wuid']+_0xf27f8f(0x7c3)+_0x5b8617[_0xf27f8f(0x209)]+_0xf27f8f(0x4ab)),new m(_0xf27f8f(0x1e4));let _0x2824a8=await this[_0xf27f8f(0x7ae)]['flow'][_0xf27f8f(0x2c9)]({'where':{'_id':_0x5b8617[_0xf27f8f(0x209)]}});if(!_0x2824a8||!_0x2824a8[_0xf27f8f(0x852)]?.['includes'](this[_0xf27f8f(0x6e8)][_0xf27f8f(0x64c)]))throw this[_0xf27f8f(0x379)][_0xf27f8f(0x8d2)](this[_0xf27f8f(0x88a)]+'\x20('+this[_0xf27f8f(0x6e8)][_0xf27f8f(0x64c)]+_0xf27f8f(0x30d)+_0x5b8617['_id']+_0xf27f8f(0x3a2)),new m(_0xf27f8f(0x459)+_0x5b8617[_0xf27f8f(0x209)]+_0xf27f8f(0x3a2));if(!_0x2824a8['whoCanEdit']?.['includes'](this[_0xf27f8f(0x6e8)]['wuid']))throw new m(_0xf27f8f(0x366));let _0x155730=!0x1;if(_0x5b8617[_0xf27f8f(0x430)]?.[_0xf27f8f(0x384)]===!0x0)_0x2824a8[_0xf27f8f(0x61e)]=_0x2824a8['conditions']['filter'](_0x356e9a=>_0x356e9a&&_0x5b8617[_0xf27f8f(0x430)]&&_0x356e9a[_0xf27f8f(0x209)]&&_0x5b8617[_0xf27f8f(0x430)][_0xf27f8f(0x209)]&&_0x356e9a[_0xf27f8f(0x209)][_0xf27f8f(0x1d0)]()!==_0x5b8617[_0xf27f8f(0x430)][_0xf27f8f(0x209)][_0xf27f8f(0x1d0)]()),_0x155730=!0x0;else{let _0xc6ef93=_0x2824a8[_0xf27f8f(0x61e)][_0xf27f8f(0x5a4)](_0x29ca05=>_0x29ca05&&_0x5b8617['condition']&&_0x29ca05[_0xf27f8f(0x209)]&&_0x5b8617[_0xf27f8f(0x430)][_0xf27f8f(0x209)]&&_0x29ca05[_0xf27f8f(0x209)][_0xf27f8f(0x1d0)]()===_0x5b8617[_0xf27f8f(0x430)][_0xf27f8f(0x209)][_0xf27f8f(0x1d0)]());_0xc6ef93?(_0x155730=_0xc6ef93[_0xf27f8f(0x244)]!==_0x5b8617[_0xf27f8f(0x430)][_0xf27f8f(0x244)],Object['assign'](_0xc6ef93,_0x5b8617['condition'])):(_0x2824a8[_0xf27f8f(0x61e)][_0xf27f8f(0x543)](_0x5b8617[_0xf27f8f(0x430)]),_0x155730=!0x0);}if(_0x155730){_0x2824a8[_0xf27f8f(0x61e)][_0xf27f8f(0x4e0)]((_0x1e6f9a,_0xf8e87e)=>_0x1e6f9a[_0xf27f8f(0x244)]>_0xf8e87e[_0xf27f8f(0x244)]?0x1:_0xf8e87e[_0xf27f8f(0x244)]>_0x1e6f9a[_0xf27f8f(0x244)]?-0x1:0x0);for(let _0x5c785b=0x0;_0x5c785b<_0x2824a8['conditions'][_0xf27f8f(0x3d4)];_0x5c785b++)_0x2824a8['conditions'][_0x5c785b][_0xf27f8f(0x244)]=_0x5c785b+0x1;_0x2824a8[_0xf27f8f(0x61e)][_0xf27f8f(0x3d4)]>0x0&&(_0x2824a8[_0xf27f8f(0x61e)][0x0][_0xf27f8f(0x836)]='and');}let _0xcad7c6=await this['repository'][_0xf27f8f(0x686)][_0xf27f8f(0x86c)](_0x2824a8[_0xf27f8f(0x209)],_0x2824a8);if(!_0xcad7c6)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0xcad7c6;}catch(_0x4706b4){let _0x30bb02=_0xf27f8f(0x6b1),_0x1b870d=_0x4706b4 instanceof Error?_0x4706b4['message']:typeof _0x4706b4==_0xf27f8f(0x3f1)?JSON[_0xf27f8f(0x66f)](_0x4706b4):_0x4706b4,_0x5ddeec=_0x30bb02+':\x20'+_0x1b870d;throw this[_0xf27f8f(0x379)]['error'](this['instanceName']+'\x20('+this[_0xf27f8f(0x6e8)][_0xf27f8f(0x64c)]+_0xf27f8f(0x280)+_0x5ddeec),new m(_0x5ddeec);}}async[a0_0x466431(0x66e)](_0x3adf9d){const _0x3ee116=a0_0x466431;try{if(this[_0x3ee116(0x379)][_0x3ee116(0x704)](this[_0x3ee116(0x88a)]+'\x20('+this[_0x3ee116(0x6e8)][_0x3ee116(0x64c)]+_0x3ee116(0x777)),!this[_0x3ee116(0x782)][_0x3ee116(0x90c)][_0x3ee116(0x5a4)](_0x5b3b97=>_0x5b3b97[_0x3ee116(0x209)]===_0x3adf9d['_id']))throw this[_0x3ee116(0x379)][_0x3ee116(0x704)](this[_0x3ee116(0x88a)]+'\x20('+this[_0x3ee116(0x6e8)][_0x3ee116(0x64c)]+_0x3ee116(0x7c3)+_0x3adf9d[_0x3ee116(0x209)]+_0x3ee116(0x4ab)),new m(_0x3ee116(0x1e4));let _0x2b4a8d=await this[_0x3ee116(0x7ae)]['flow'][_0x3ee116(0x2c9)]({'where':{'_id':_0x3adf9d['_id']}});if(!_0x2b4a8d||!_0x2b4a8d[_0x3ee116(0x852)]?.[_0x3ee116(0x6f2)](this[_0x3ee116(0x6e8)]['wuid']))throw this['logger'][_0x3ee116(0x8d2)](this[_0x3ee116(0x88a)]+'\x20('+this[_0x3ee116(0x6e8)][_0x3ee116(0x64c)]+_0x3ee116(0x30d)+_0x3adf9d[_0x3ee116(0x209)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x3ee116(0x459)+_0x3adf9d[_0x3ee116(0x209)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x2b4a8d['whoCanEdit']?.[_0x3ee116(0x6f2)](this['instance'][_0x3ee116(0x64c)]))throw new m(_0x3ee116(0x366));let _0x3f7b5d=!0x1;if(_0x3adf9d['varedit']?.[_0x3ee116(0x384)]===!0x0)_0x2b4a8d[_0x3ee116(0x7ef)]=_0x2b4a8d['varedits'][_0x3ee116(0x189)](_0xce7881=>_0xce7881&&_0x3adf9d[_0x3ee116(0x290)]&&_0xce7881[_0x3ee116(0x209)]&&_0x3adf9d['varedit'][_0x3ee116(0x209)]&&_0xce7881[_0x3ee116(0x209)][_0x3ee116(0x1d0)]()!==_0x3adf9d[_0x3ee116(0x290)][_0x3ee116(0x209)][_0x3ee116(0x1d0)]()),_0x3f7b5d=!0x0;else{let _0x5b1e22=_0x2b4a8d[_0x3ee116(0x7ef)][_0x3ee116(0x5a4)](_0x5f36f1=>_0x5f36f1&&_0x3adf9d['varedit']&&_0x5f36f1['_id']&&_0x3adf9d[_0x3ee116(0x290)][_0x3ee116(0x209)]&&_0x5f36f1[_0x3ee116(0x209)]['toString']()===_0x3adf9d[_0x3ee116(0x290)][_0x3ee116(0x209)][_0x3ee116(0x1d0)]());_0x5b1e22?(_0x3f7b5d=_0x5b1e22[_0x3ee116(0x244)]!==_0x3adf9d[_0x3ee116(0x290)][_0x3ee116(0x244)],Object['assign'](_0x5b1e22,_0x3adf9d['varedit'])):(_0x2b4a8d['varedits'][_0x3ee116(0x543)](_0x3adf9d[_0x3ee116(0x290)]),_0x3f7b5d=!0x0);}if(_0x3f7b5d){_0x2b4a8d['varedits']['sort']((_0x4b2a80,_0x24c9d1)=>_0x4b2a80[_0x3ee116(0x244)]>_0x24c9d1[_0x3ee116(0x244)]?0x1:_0x24c9d1[_0x3ee116(0x244)]>_0x4b2a80[_0x3ee116(0x244)]?-0x1:0x0);for(let _0x4e44de=0x0;_0x4e44de<_0x2b4a8d[_0x3ee116(0x7ef)][_0x3ee116(0x3d4)];_0x4e44de++)_0x2b4a8d['varedits'][_0x4e44de]['order']=_0x4e44de+0x1;}let _0x92cdd6=await this['repository']['flow'][_0x3ee116(0x86c)](_0x2b4a8d[_0x3ee116(0x209)],_0x2b4a8d);if(!_0x92cdd6)throw new Error(_0x3ee116(0x5b0));return _0x92cdd6;}catch(_0x4f6c32){let _0x5ec8d3=_0x3ee116(0x6b1),_0x747158=_0x4f6c32 instanceof Error?_0x4f6c32[_0x3ee116(0x36a)]:typeof _0x4f6c32==_0x3ee116(0x3f1)?JSON[_0x3ee116(0x66f)](_0x4f6c32):_0x4f6c32,_0x5496c7=_0x5ec8d3+':\x20'+_0x747158;throw this[_0x3ee116(0x379)][_0x3ee116(0x8d2)](this[_0x3ee116(0x88a)]+'\x20('+this[_0x3ee116(0x6e8)][_0x3ee116(0x64c)]+_0x3ee116(0x280)+_0x5496c7),new m(_0x5496c7);}}async[a0_0x466431(0x319)](_0xd32fdd){const _0x35ac00=a0_0x466431;try{if(this[_0x35ac00(0x379)][_0x35ac00(0x704)](this[_0x35ac00(0x88a)]+'\x20('+this[_0x35ac00(0x6e8)][_0x35ac00(0x64c)]+'):\x20Editando\x20variável\x20do\x20fluxo...'),!this[_0x35ac00(0x782)][_0x35ac00(0x90c)][_0x35ac00(0x5a4)](_0x3c649c=>_0x3c649c[_0x35ac00(0x209)]===_0xd32fdd[_0x35ac00(0x209)]))throw this[_0x35ac00(0x379)][_0x35ac00(0x704)](this['instanceName']+'\x20('+this['instance'][_0x35ac00(0x64c)]+_0x35ac00(0x7c3)+_0xd32fdd['_id']+'\x27\x20não\x20encontrado'),new m(_0x35ac00(0x1e4));let _0x4d31ce=await this['repository'][_0x35ac00(0x686)][_0x35ac00(0x2c9)]({'where':{'_id':_0xd32fdd['_id']}});if(!_0x4d31ce||!_0x4d31ce[_0x35ac00(0x852)]?.[_0x35ac00(0x6f2)](this[_0x35ac00(0x6e8)][_0x35ac00(0x64c)]))throw this[_0x35ac00(0x379)][_0x35ac00(0x8d2)](this['instanceName']+'\x20('+this[_0x35ac00(0x6e8)]['wuid']+'):\x20Flow\x20\x27'+_0xd32fdd[_0x35ac00(0x209)]+_0x35ac00(0x3a2)),new m(_0x35ac00(0x459)+_0xd32fdd[_0x35ac00(0x209)]+_0x35ac00(0x3a2));if(!_0x4d31ce['whoCanEdit']?.[_0x35ac00(0x6f2)](this['instance'][_0x35ac00(0x64c)]))throw new m(_0x35ac00(0x366));_0xd32fdd[_0x35ac00(0x5f8)][_0x35ac00(0x8d9)]=_0xd32fdd['variable'][_0x35ac00(0x8d9)][_0x35ac00(0x8bd)](),_0xd32fdd['variable']['name'][_0x35ac00(0x538)]('_')&&(_0xd32fdd['variable'][_0x35ac00(0x8d9)]=_0xd32fdd[_0x35ac00(0x5f8)][_0x35ac00(0x8d9)][_0x35ac00(0x6ea)](0x1)),_0xd32fdd[_0x35ac00(0x5f8)][_0x35ac00(0x8d9)]=_0xd32fdd[_0x35ac00(0x5f8)][_0x35ac00(0x8d9)]['trim']();let _0x36274c=_0x4d31ce[_0x35ac00(0x49b)][_0x35ac00(0x5a4)](_0x403966=>_0x403966[_0x35ac00(0x8d9)]===_0xd32fdd[_0x35ac00(0x5f8)]['name']);if(_0x36274c?.[_0x35ac00(0x811)]===!0x0)throw new Error(_0x35ac00(0x3df));if(_0xd32fdd[_0x35ac00(0x5f8)]?.[_0x35ac00(0x384)]===!0x0){if(!_0x36274c)return{'message':'Variável\x20não\x20encontrada!'};_0x4d31ce['variables']=_0x4d31ce[_0x35ac00(0x49b)][_0x35ac00(0x189)](_0x59a4e4=>_0x59a4e4[_0x35ac00(0x8d9)]!==_0xd32fdd[_0x35ac00(0x5f8)][_0x35ac00(0x8d9)]);}else _0x36274c?Object[_0x35ac00(0x25a)](_0x36274c,_0xd32fdd[_0x35ac00(0x5f8)]):_0x4d31ce[_0x35ac00(0x49b)][_0x35ac00(0x543)](_0xd32fdd[_0x35ac00(0x5f8)]);let _0x41ed82=await this[_0x35ac00(0x7ae)][_0x35ac00(0x686)]['updateOne'](_0x4d31ce[_0x35ac00(0x209)],_0x4d31ce);if(!_0x41ed82)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x41ed82;}catch(_0x4bec6a){let _0x235e29=_0x35ac00(0x540),_0x2cdbae=_0x4bec6a instanceof Error?_0x4bec6a[_0x35ac00(0x36a)]:typeof _0x4bec6a==_0x35ac00(0x3f1)?JSON[_0x35ac00(0x66f)](_0x4bec6a):_0x4bec6a,_0x2c80bb=_0x235e29+':\x20'+_0x2cdbae;throw this[_0x35ac00(0x379)][_0x35ac00(0x8d2)](this['instanceName']+'\x20('+this[_0x35ac00(0x6e8)][_0x35ac00(0x64c)]+_0x35ac00(0x280)+_0x2c80bb),new m(_0x2c80bb);}}async['startFlow'](_0x37cfec){const _0x332342=a0_0x466431;let _0x77c19e=null;try{if(!this[_0x332342(0x782)]?.[_0x332342(0x6de)][_0x332342(0x78f)])throw new m(_0x332342(0x23f));this[_0x332342(0x379)][_0x332342(0x704)](this[_0x332342(0x88a)]+'\x20('+this[_0x332342(0x6e8)][_0x332342(0x64c)]+'):\x20Iniciando\x20bot...');let _0x20f9dc=(await this[_0x332342(0x52b)]({'numbers':[_0x37cfec[_0x332342(0x84e)]]}))[0x0];if(!_0x20f9dc[_0x332342(0x7b4)]&&!(0x0,w[_0x332342(0x69f)])(_0x20f9dc['jid'])&&!_0x20f9dc[_0x332342(0x6dc)]['includes']('@broadcast'))throw _0x77c19e=JSON['stringify'](_0x20f9dc,null,0x2),new m(_0x20f9dc);let _0x2d6c9e;if(_0x37cfec['name'][_0x332342(0x3d4)]===0x24&&/^[0-9a-fA-F-]{36}$/[_0x332342(0x7f2)](_0x37cfec[_0x332342(0x8d9)])?_0x2d6c9e=this[_0x332342(0x782)][_0x332342(0x90c)][_0x332342(0x5a4)](_0x39b9e3=>_0x39b9e3[_0x332342(0x209)]===_0x37cfec['name']):_0x2d6c9e=this[_0x332342(0x782)][_0x332342(0x90c)][_0x332342(0x5a4)](_0xebf9c4=>_0xebf9c4[_0x332342(0x8d9)]===_0x37cfec[_0x332342(0x8d9)]),!_0x2d6c9e)throw this[_0x332342(0x379)][_0x332342(0x704)](this['instanceName']+'\x20('+this['instance'][_0x332342(0x64c)]+'):\x20Fluxo\x20\x27'+_0x37cfec[_0x332342(0x8d9)]+'\x27\x20não\x20encontrado'),new m(_0x332342(0x1e4));let _0x191a0b=await this['repository'][_0x332342(0x686)]['findOne']({'where':{'_id':_0x2d6c9e['_id']}});if(!_0x191a0b||!_0x191a0b[_0x332342(0x852)]?.[_0x332342(0x6f2)](this[_0x332342(0x6e8)][_0x332342(0x64c)]))throw this['logger'][_0x332342(0x8d2)](this[_0x332342(0x88a)]+'\x20('+this[_0x332342(0x6e8)][_0x332342(0x64c)]+_0x332342(0x30d)+_0x2d6c9e[_0x332342(0x209)]+_0x332342(0x3a2)),_0x77c19e='Flow\x20\x27'+_0x2d6c9e[_0x332342(0x209)]+_0x332342(0x3a2),new m(_0x77c19e);let _0x254c3d=await this[_0x332342(0x4ec)](_0x191a0b,_0x20f9dc[_0x332342(0x6dc)],_0x37cfec[_0x332342(0x617)]);if(_0x254c3d){this['logger'][_0x332342(0x704)](this[_0x332342(0x88a)]+'\x20('+this[_0x332342(0x6e8)][_0x332342(0x64c)]+_0x332342(0x263));let _0x2d28fc=await this[_0x332342(0x728)](_0x254c3d);return _0x2d28fc&&await this[_0x332342(0x875)](_0x254c3d,_0x2d28fc),{'message':_0x332342(0x609)+_0x37cfec[_0x332342(0x84e)]};}}catch(_0xfa56d3){if(this['logger']['error'](this['instanceName']+'\x20('+this[_0x332342(0x6e8)][_0x332342(0x64c)]+_0x332342(0x79c)+(_0xfa56d3 instanceof Error?_0xfa56d3[_0x332342(0x36a)]:JSON['stringify'](_0xfa56d3,null,0x2))),_0x77c19e=_0xfa56d3 instanceof Error?_0xfa56d3[_0x332342(0x36a)]:JSON[_0x332342(0x66f)](_0xfa56d3,null,0x2),_0x77c19e)throw new m(_0x332342(0x21e)+_0x77c19e);}}async['startFlowWebhook'](_0x1c5501,_0x21c0ac,_0x26e295){const _0x1c650c=a0_0x466431;let _0x4c8522=null;try{if(!this['AutomateSystem']?.[_0x1c650c(0x6de)]['enabled'])throw new m(_0x1c650c(0x23f));if(this[_0x1c650c(0x379)][_0x1c650c(0x704)](this[_0x1c650c(0x88a)]+'\x20('+this['instance'][_0x1c650c(0x64c)]+'):\x20Iniciando\x20bot...'),_0x21c0ac){let _0x1e8b3=(await this[_0x1c650c(0x52b)]({'numbers':[_0x21c0ac]}))[0x0];if(!_0x1e8b3[_0x1c650c(0x7b4)]&&!(0x0,w[_0x1c650c(0x69f)])(_0x1e8b3[_0x1c650c(0x6dc)])&&!_0x1e8b3[_0x1c650c(0x6dc)][_0x1c650c(0x6f2)]('@broadcast'))throw _0x4c8522=JSON[_0x1c650c(0x66f)](_0x1e8b3,null,0x2),new m(_0x1e8b3);_0x21c0ac=_0x1e8b3[_0x1c650c(0x6dc)];}else _0x21c0ac||(_0x21c0ac=(0x0,Q['v4'])());let _0xc239a0=await this[_0x1c650c(0x7ae)][_0x1c650c(0x686)][_0x1c650c(0x2c9)]({'where':{'_id':_0x1c5501}});if(!_0xc239a0||!_0xc239a0['whoCanUse']?.[_0x1c650c(0x6f2)](this[_0x1c650c(0x6e8)]['wuid']))throw this[_0x1c650c(0x379)][_0x1c650c(0x8d2)](this['instanceName']+'\x20('+this[_0x1c650c(0x6e8)][_0x1c650c(0x64c)]+_0x1c650c(0x30d)+_0x1c5501+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0x1c650c(0x459)+_0x1c5501+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x205068=await this[_0x1c650c(0x4ec)](_0xc239a0,_0x21c0ac,null);if(_0x205068){this['logger'][_0x1c650c(0x704)](this['instanceName']+'\x20('+this[_0x1c650c(0x6e8)]['wuid']+_0x1c650c(0x4df));let _0x3218d5;if(_0x26e295){let _0x1d9332=_0x205068[_0x1c650c(0x7cf)]['realVariables'],_0x1a230b=this[_0x1c650c(0x8d5)](_0x26e295);Object[_0x1c650c(0x25a)](_0x1d9332,_0x1a230b),_0x205068[_0x1c650c(0x7cf)]['realVariables']=_0x1d9332,_0x3218d5={'error':!0x1,'apiResponse':_0x26e295};}let _0x5c9356=await this[_0x1c650c(0x728)](_0x205068);return _0x5c9356&&await this[_0x1c650c(0x875)](_0x205068,_0x5c9356),{'message':_0x1c650c(0x5fb)};}}catch(_0x1340fb){if(this['logger'][_0x1c650c(0x8d2)](this[_0x1c650c(0x88a)]+'\x20('+this[_0x1c650c(0x6e8)]['wuid']+_0x1c650c(0x79c)+(_0x1340fb instanceof Error?_0x1340fb[_0x1c650c(0x36a)]:JSON[_0x1c650c(0x66f)](_0x1340fb,null,0x2))),_0x4c8522=_0x1340fb instanceof Error?_0x1340fb[_0x1c650c(0x36a)]:JSON[_0x1c650c(0x66f)](_0x1340fb,null,0x2),_0x4c8522)throw new m(_0x1c650c(0x21e)+_0x4c8522);}}async['closeExistingConversations'](_0x3aa715){const _0x56715c=a0_0x466431;try{let _0x329529={'remoteJid':_0x3aa715,'status':_0x56715c(0x70d)},_0x54b4a0={'status':_0x56715c(0x2ed)},_0x5af48f=await this[_0x56715c(0x7ae)][_0x56715c(0x414)]['updateMany'](_0x329529,_0x54b4a0,this[_0x56715c(0x6e8)]['wuid']);return this['logger'][_0x56715c(0x704)](this[_0x56715c(0x88a)]+'\x20('+this[_0x56715c(0x6e8)]['wuid']+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x5af48f;}catch(_0x1572ca){throw this[_0x56715c(0x379)][_0x56715c(0x8d2)](this['instanceName']+'\x20('+this['instance'][_0x56715c(0x64c)]+_0x56715c(0x345)+_0x1572ca[_0x56715c(0x36a)]),_0x1572ca;}}async[a0_0x466431(0x4ec)](_0x25cdd8,_0x38a532,_0x53db2e){const _0x1bcc4b=a0_0x466431;this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x1bcc4b(0x6e8)][_0x1bcc4b(0x64c)]+_0x1bcc4b(0x4eb)),await this[_0x1bcc4b(0x1eb)](_0x38a532);try{let _0x44bb2d=require(_0x1bcc4b(0x4fa))[_0x1bcc4b(0x545)],_0x1c8cdb=Date[_0x1bcc4b(0x283)](),_0x1959f7=_0x1bcc4b(0x631),_0x4bb375={},_0xa178d4={},_0x3e6b68=this[_0x1bcc4b(0x782)][_0x1bcc4b(0x90c)][_0x1bcc4b(0x5a4)](_0x3c39b0=>_0x3c39b0[_0x1bcc4b(0x209)]===_0x25cdd8[_0x1bcc4b(0x209)]?.['toString']()),_0x4e4c33=_0x3e6b68?.[_0x1bcc4b(0x7d9)]??_0x25cdd8[_0x1bcc4b(0x7d9)]??0x0,_0x40242e=_0x3e6b68?.[_0x1bcc4b(0x8a6)]??_0x25cdd8[_0x1bcc4b(0x8a6)]??!0x1,_0x481b53={'flowId':_0x25cdd8['_id'],..._0x25cdd8,'chatLog':null},_0x1c12bd=await this[_0x1bcc4b(0x2e9)](_0x481b53['variables']),_0x5e2c39=await this[_0x1bcc4b(0x6c8)](_0x38a532),_0x1b8fda={..._0x1c12bd,..._0x5e2c39,'_remoteJid':_0x38a532},_0xd468ce={'lastReceivedMessage':_0x4bb375,'lastSendMessage':_0xa178d4,'lastBlockId':_0x1959f7,'lastCondition':!0x0,'realVariables':_0x1b8fda};_0x481b53[_0x1bcc4b(0x7cf)]=_0xd468ce,_0x481b53[_0x1bcc4b(0x7cf)][_0x1bcc4b(0x7af)]={..._0x1b8fda,..._0x53db2e},delete _0x481b53[_0x1bcc4b(0x209)],_0x481b53['_id']=new _0x44bb2d(),_0x481b53[_0x1bcc4b(0x6a4)]=_0x1c8cdb,_0x481b53[_0x1bcc4b(0x309)]=_0x1bcc4b(0x70d),_0x481b53[_0x1bcc4b(0x84e)]=_0x38a532,_0x481b53[_0x1bcc4b(0x7d9)]=_0x4e4c33,_0x481b53['readMessages']=_0x40242e,_0x481b53[_0x1bcc4b(0x209)]=_0x25cdd8['_id'];let _0x527b4b=await this[_0x1bcc4b(0x7ae)]['flowConversation']['updateOne'](_0x481b53[_0x1bcc4b(0x209)],_0x481b53,this[_0x1bcc4b(0x6e8)][_0x1bcc4b(0x64c)]);return this['logger']['verbose'](this[_0x1bcc4b(0x88a)]+'\x20('+this['instance']['wuid']+_0x1bcc4b(0x55d)),_0x527b4b?_0x481b53:null;}catch(_0x1d043d){let _0x21a460='Erro\x20ao\x20copiar\x20o\x20documento',_0x7d9d8e=_0x1d043d instanceof Error?_0x1d043d[_0x1bcc4b(0x36a)]:typeof _0x1d043d==_0x1bcc4b(0x3f1)?JSON[_0x1bcc4b(0x66f)](_0x1d043d):_0x1d043d,_0x256409=_0x21a460+':\x20'+_0x7d9d8e;throw this[_0x1bcc4b(0x379)]['error'](this[_0x1bcc4b(0x88a)]+'\x20('+this[_0x1bcc4b(0x6e8)]['wuid']+'):\x20'+_0x256409),new m(_0x256409);}}async['getConversation'](_0x499b81){const _0x36048a=a0_0x466431;try{this[_0x36048a(0x379)][_0x36048a(0x704)](this[_0x36048a(0x88a)]+'\x20('+this[_0x36048a(0x6e8)][_0x36048a(0x64c)]+_0x36048a(0x42b)),this[_0x36048a(0x379)][_0x36048a(0x704)](this[_0x36048a(0x88a)]+'\x20('+this[_0x36048a(0x6e8)]['wuid']+_0x36048a(0x6ce)+_0x499b81);let _0x100140={'where':{'_id':_0x499b81}};return await this[_0x36048a(0x7ae)]['flowConversation'][_0x36048a(0x2c9)](_0x100140,this[_0x36048a(0x6e8)][_0x36048a(0x64c)]);}catch(_0x20b0cc){let _0x38d41b=_0x36048a(0x1f7),_0x304382=_0x20b0cc instanceof Error?_0x20b0cc[_0x36048a(0x36a)]:typeof _0x20b0cc=='object'?JSON[_0x36048a(0x66f)](_0x20b0cc):_0x20b0cc,_0x37ed1a=_0x38d41b+':\x20'+_0x304382;throw this['logger'][_0x36048a(0x8d2)](this[_0x36048a(0x88a)]+'\x20('+this[_0x36048a(0x6e8)]['wuid']+_0x36048a(0x280)+_0x37ed1a),new m(_0x37ed1a);}}async[a0_0x466431(0x790)](_0x553033){const _0x5a0494=a0_0x466431;try{return this[_0x5a0494(0x379)][_0x5a0494(0x704)](this['instanceName']+'\x20('+this[_0x5a0494(0x6e8)][_0x5a0494(0x64c)]+_0x5a0494(0x626)),await this[_0x5a0494(0x7ae)][_0x5a0494(0x414)][_0x5a0494(0x5a4)](_0x553033,this[_0x5a0494(0x6e8)]['wuid']);}catch(_0x3c298d){let _0x38491d=_0x5a0494(0x1a1),_0x16b24d=_0x3c298d instanceof Error?_0x3c298d[_0x5a0494(0x36a)]:typeof _0x3c298d==_0x5a0494(0x3f1)?JSON[_0x5a0494(0x66f)](_0x3c298d):_0x3c298d,_0x2bbf5e=_0x38491d+':\x20'+_0x16b24d;throw this[_0x5a0494(0x379)][_0x5a0494(0x8d2)](this[_0x5a0494(0x88a)]+'\x20('+this[_0x5a0494(0x6e8)][_0x5a0494(0x64c)]+_0x5a0494(0x280)+_0x2bbf5e),new m(_0x2bbf5e);}}async[a0_0x466431(0x3e6)](_0x35919b){const _0x57e1ab=a0_0x466431;try{return this[_0x57e1ab(0x379)][_0x57e1ab(0x704)](this[_0x57e1ab(0x88a)]+'\x20('+this[_0x57e1ab(0x6e8)]['wuid']+_0x57e1ab(0x804)),this[_0x57e1ab(0x379)][_0x57e1ab(0x704)](this[_0x57e1ab(0x88a)]+'\x20('+this[_0x57e1ab(0x6e8)][_0x57e1ab(0x64c)]+_0x57e1ab(0x612)+_0x35919b),(await this[_0x57e1ab(0x7ae)][_0x57e1ab(0x414)]['deleteOne']({'where':{'_id':_0x35919b['_id']}},this['instance'][_0x57e1ab(0x64c)]))[_0x57e1ab(0x8d6)]===0x0?{'message':_0x57e1ab(0x65f)}:{'message':_0x57e1ab(0x593)};}catch(_0xd914fe){let _0x1969a0='Erro\x20ao\x20deletar\x20a\x20conversa',_0x28d8b4=_0xd914fe instanceof Error?_0xd914fe['message']:typeof _0xd914fe==_0x57e1ab(0x3f1)?JSON[_0x57e1ab(0x66f)](_0xd914fe):_0xd914fe,_0x550b75=_0x1969a0+':\x20'+_0x28d8b4;throw this[_0x57e1ab(0x379)][_0x57e1ab(0x8d2)](this[_0x57e1ab(0x88a)]+'\x20('+this[_0x57e1ab(0x6e8)][_0x57e1ab(0x64c)]+'):\x20'+_0x550b75),new m(_0x550b75);}}async[a0_0x466431(0x8ac)](_0x1d0281){const _0x38ceb7=a0_0x466431;try{let {_id:_0x51deaf,chatLog:_0x1d741a,status:_0x546556}=_0x1d0281;if(!_0x51deaf)return{'message':_0x38ceb7(0x8e1)};let _0x26609f={};if(_0x546556!==void 0x0&&(_0x26609f[_0x38ceb7(0x309)]=_0x546556),Object[_0x38ceb7(0x7c4)](_0x26609f)[_0x38ceb7(0x3d4)]===0x0)return{'message':'Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.'};let _0x4bdf99=await this[_0x38ceb7(0x7ae)]['flowConversation']['updateOne'](_0x51deaf,_0x26609f,this[_0x38ceb7(0x6e8)][_0x38ceb7(0x64c)]);return _0x4bdf99||{'message':_0x38ceb7(0x86b)};}catch(_0x514790){let _0x42335f=_0x38ceb7(0x920),_0x505620=_0x514790 instanceof Error?_0x514790['message']:typeof _0x514790==_0x38ceb7(0x3f1)?JSON[_0x38ceb7(0x66f)](_0x514790):_0x514790,_0x562d59=_0x42335f+':\x20'+_0x505620;throw this['logger'][_0x38ceb7(0x8d2)](this['instanceName']+'\x20('+this[_0x38ceb7(0x6e8)][_0x38ceb7(0x64c)]+_0x38ceb7(0x280)+_0x562d59),new m(_0x562d59);}}async['editChat'](_0x55bc60){const _0x5469e1=a0_0x466431;try{_0x55bc60[_0x5469e1(0x209)]=this[_0x5469e1(0x866)](_0x55bc60[_0x5469e1(0x209)]);let _0x4f2998=await this[_0x5469e1(0x7ae)][_0x5469e1(0x66d)][_0x5469e1(0x2c9)]({'where':{'_id':_0x55bc60[_0x5469e1(0x209)]}},this[_0x5469e1(0x6e8)][_0x5469e1(0x64c)]);if(!_0x4f2998)throw new m('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');let {_id:_0x23b89b,leadInfo:_0x4217c3}=_0x55bc60;if(!_0x23b89b)throw new Error(_0x5469e1(0x87e));if(_0x55bc60[_0x5469e1(0x384)]===_0x5469e1(0x5fe))return await this[_0x5469e1(0x25f)](_0x55bc60[_0x5469e1(0x209)]),await this['repository'][_0x5469e1(0x66d)][_0x5469e1(0x384)]({'where':{'_id':_0x55bc60[_0x5469e1(0x209)]}},this['instance']['wuid']),await this['repository'][_0x5469e1(0x36a)][_0x5469e1(0x384)]({'where':{'key':{'remoteJid':_0x55bc60['_id']}}},this[_0x5469e1(0x6e8)][_0x5469e1(0x64c)]),_0x55bc60=await this[_0x5469e1(0x7ae)][_0x5469e1(0x66d)]['updateOne']({'where':{'_id':_0x55bc60[_0x5469e1(0x209)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']),F(this[_0x5469e1(0x88a)],_0x5469e1(0x45d),{'chat':_0x55bc60}),{'message':_0x5469e1(0x188)};if(_0x55bc60[_0x5469e1(0x384)]===_0x5469e1(0x663))return await this[_0x5469e1(0x7ae)][_0x5469e1(0x36a)][_0x5469e1(0x384)]({'where':{'key':{'remoteJid':_0x55bc60[_0x5469e1(0x209)]}}},this['instance'][_0x5469e1(0x64c)]),_0x55bc60=await this[_0x5469e1(0x7ae)][_0x5469e1(0x66d)][_0x5469e1(0x86c)]({'where':{'_id':_0x55bc60[_0x5469e1(0x209)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x5469e1(0x6e8)]['wuid']),F(this[_0x5469e1(0x88a)],_0x5469e1(0x45d),{'chat':_0x55bc60}),{'message':_0x5469e1(0x8a1)};let _0x13e4fb=(_0x55c5a3,_0x3c8f30,_0xdf2efc)=>{const _0x1b34e4=_0x5469e1;_0x55c5a3&&_0xdf2efc[_0x1b34e4(0x4fe)](_0x2863a9=>{_0x55c5a3[_0x2863a9]!==void 0x0&&(_0x3c8f30['leadInfo.'+_0x2863a9]=_0x55c5a3[_0x2863a9]);});},_0x415c7b={};if(_0x5469e1(0x184)in _0x55bc60&&(this[_0x5469e1(0x379)][_0x5469e1(0x704)](this[_0x5469e1(0x88a)]+'\x20('+this[_0x5469e1(0x6e8)][_0x5469e1(0x64c)]+_0x5469e1(0x267)+_0x55bc60[_0x5469e1(0x209)]),_0x55bc60[_0x5469e1(0x184)]=_0x55bc60['muteEndTime']===0x0?null:-0x1,await this[_0x5469e1(0x5a1)][_0x5469e1(0x2ee)]({'mute':_0x55bc60['muteEndTime']},_0x55bc60['_id']),_0x415c7b['muteEndTime']=Number(_0x55bc60[_0x5469e1(0x184)])),_0x4217c3&&(_0x13e4fb(_0x4217c3,_0x415c7b,[_0x5469e1(0x1f9),_0x5469e1(0x295),_0x5469e1(0x7a4),_0x5469e1(0x25b),_0x5469e1(0x309),_0x5469e1(0x506),'tags',_0x5469e1(0x5c1),_0x5469e1(0x50d),_0x5469e1(0x1ca),_0x5469e1(0x54e)]),Array[_0x5469e1(0x27b)](_0x4217c3[_0x5469e1(0x493)])&&(_0x415c7b[_0x5469e1(0x7cb)]=_0x4217c3['customFields'][_0x5469e1(0x1e8)](_0x59e5e9=>({'_id':_0x59e5e9['_id'],'value':_0x59e5e9['value']}))),_0x55bc60[_0x5469e1(0x811)]['etiquetas']!==void 0x0)){let _0x1e9476=await this[_0x5469e1(0x7ae)][_0x5469e1(0x8be)][_0x5469e1(0x5a4)]({'where':{}},this[_0x5469e1(0x6e8)][_0x5469e1(0x64c)]),_0x58c74d=new Set(_0x55bc60[_0x5469e1(0x811)][_0x5469e1(0x1ca)]||[]),_0x373e59=new Set(_0x55bc60[_0x5469e1(0x811)][_0x5469e1(0x1ca)]),_0x9fa646=new Set(_0x1e9476[_0x5469e1(0x1e8)](_0x23db00=>_0x23db00[_0x5469e1(0x209)])),_0x198260=[..._0x373e59][_0x5469e1(0x189)](_0x18f88f=>!_0x58c74d[_0x5469e1(0x428)](_0x18f88f)&&_0x9fa646['has'](_0x18f88f)),_0xef8aeb=[..._0x58c74d]['filter'](_0x3e276e=>!_0x373e59['has'](_0x3e276e));if(_0x415c7b['leadInfo.etiquetas']=[..._0x58c74d],_0x4f2998&&!_0x4f2998[_0x5469e1(0x491)]){for(let _0x473f51 of _0x198260)await this['AddChatLabel'](_0x473f51,_0x55bc60[_0x5469e1(0x209)]),_0x58c74d[_0x5469e1(0x83c)](_0x473f51);for(let _0x47a1d2 of _0xef8aeb)await this[_0x5469e1(0x6ee)](_0x47a1d2,_0x55bc60[_0x5469e1(0x209)]),_0x58c74d[_0x5469e1(0x384)](_0x47a1d2);}}if(_0x55bc60['unreadcount']!==void 0x0&&(_0x415c7b[_0x5469e1(0x239)]=Number(_0x55bc60[_0x5469e1(0x239)])),Object[_0x5469e1(0x7c4)](_0x415c7b)['length']===0x0)throw new Error(_0x5469e1(0x1a7));let _0x50a40a=await this[_0x5469e1(0x7ae)][_0x5469e1(0x66d)][_0x5469e1(0x86c)]({'where':{'_id':_0x55bc60[_0x5469e1(0x209)]}},_0x415c7b,this['instance'][_0x5469e1(0x64c)]);return _0x50a40a&&F(this[_0x5469e1(0x88a)],_0x5469e1(0x45d),{'chat':_0x50a40a}),_0x50a40a?(this[_0x5469e1(0x379)][_0x5469e1(0x704)](this['instanceName']+'\x20('+this[_0x5469e1(0x6e8)][_0x5469e1(0x64c)]+_0x5469e1(0x280)+JSON[_0x5469e1(0x66f)](_0x50a40a,null,0x2)),_0x50a40a):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x3d343a){let _0x150cfe=_0x5469e1(0x67c),_0x368a81=_0x3d343a instanceof Error?_0x3d343a[_0x5469e1(0x36a)]:typeof _0x3d343a==_0x5469e1(0x3f1)?JSON['stringify'](_0x3d343a):_0x3d343a,_0x48f919=_0x150cfe+':\x20'+_0x368a81;throw this['logger']['error'](this[_0x5469e1(0x88a)]+'\x20('+this[_0x5469e1(0x6e8)]['wuid']+_0x5469e1(0x280)+_0x48f919),new m(_0x48f919);}}async[a0_0x466431(0x45e)](_0x2e5d08,_0xa7b9f9){const _0x50b629=a0_0x466431;try{await this[_0x50b629(0x5a1)][_0x50b629(0x725)](_0xa7b9f9,_0x2e5d08),this[_0x50b629(0x379)][_0x50b629(0x6c6)](this[_0x50b629(0x88a)]+'\x20('+this[_0x50b629(0x6e8)]['wuid']+_0x50b629(0x3e3)+_0x2e5d08+_0x50b629(0x59f)+_0xa7b9f9+_0x50b629(0x4c3));}catch(_0x38aeb4){this[_0x50b629(0x379)][_0x50b629(0x8d2)](_0x50b629(0x789)+_0x2e5d08+_0x50b629(0x5df)+_0xa7b9f9+':\x20'+_0x38aeb4);}}async[a0_0x466431(0x6ee)](_0x5bad1a,_0x119d63){const _0x17ecdc=a0_0x466431;try{await this[_0x17ecdc(0x5a1)][_0x17ecdc(0x40b)](_0x119d63,_0x5bad1a),this[_0x17ecdc(0x379)][_0x17ecdc(0x6c6)](this[_0x17ecdc(0x88a)]+'\x20('+this[_0x17ecdc(0x6e8)][_0x17ecdc(0x64c)]+_0x17ecdc(0x3e3)+_0x5bad1a+_0x17ecdc(0x447)+_0x119d63+_0x17ecdc(0x4c3));}catch(_0x53a6cd){this['logger'][_0x17ecdc(0x8d2)]('Erro\x20ao\x20remover\x20label\x20'+_0x5bad1a+_0x17ecdc(0x3be)+_0x119d63+':\x20'+_0x53a6cd);}}async[a0_0x466431(0x62f)](_0x2c4c8e){const _0x2dcd73=a0_0x466431;try{let _0x232019=await this[_0x2dcd73(0x7ae)]['automateSystem'][_0x2dcd73(0x7e3)](this[_0x2dcd73(0x6e8)]['wuid']),_0x1ff501=_0x2c4c8e[_0x2dcd73(0x209)]?_0x232019[_0x2dcd73(0x1a3)][_0x2dcd73(0x4c0)](_0x2d1a30=>_0x2d1a30[_0x2dcd73(0x209)]===_0x2c4c8e[_0x2dcd73(0x209)]):-0x1;if(_0x2c4c8e[_0x2dcd73(0x384)]&&_0x1ff501>-0x1)_0x232019[_0x2dcd73(0x1a3)][_0x2dcd73(0x565)](_0x1ff501,0x1);else{if(_0x1ff501>-0x1){let _0x25000f=_0x232019[_0x2dcd73(0x1a3)][_0x1ff501];_0x2c4c8e[_0x2dcd73(0x716)]&&(_0x25000f[_0x2dcd73(0x716)]=_0x2c4c8e[_0x2dcd73(0x716)]),_0x2c4c8e[_0x2dcd73(0x8d9)]&&(_0x25000f[_0x2dcd73(0x8d9)]=_0x2c4c8e[_0x2dcd73(0x8d9)]),_0x2c4c8e[_0x2dcd73(0x7a4)]&&(_0x25000f[_0x2dcd73(0x7a4)]=_0x2c4c8e[_0x2dcd73(0x7a4)]),_0x2c4c8e[_0x2dcd73(0x869)]&&(_0x25000f[_0x2dcd73(0x869)]=_0x2c4c8e[_0x2dcd73(0x869)]);}else _0x232019['agents'][_0x2dcd73(0x543)]({'_id':_0x2c4c8e['_id']||new pe[(_0x2dcd73(0x525))]['Types']['ObjectId']()['toString'](),'fone':_0x2c4c8e[_0x2dcd73(0x716)],'name':_0x2c4c8e[_0x2dcd73(0x8d9)],'email':_0x2c4c8e['email'],'role':_0x2c4c8e[_0x2dcd73(0x869)]});}let _0x2e659c={'agents':_0x232019['agents']},_0x18145f=await this[_0x2dcd73(0x7ae)]['automateSystem'][_0x2dcd73(0x42a)](_0x2e659c,this['instance'][_0x2dcd73(0x64c)]);return this[_0x2dcd73(0x782)]=_0x18145f,this['logger'][_0x2dcd73(0x704)](this['instanceName']+'\x20('+this[_0x2dcd73(0x6e8)][_0x2dcd73(0x64c)]+_0x2dcd73(0x4b3)),this['logger'][_0x2dcd73(0x704)](this[_0x2dcd73(0x88a)]+'\x20('+this[_0x2dcd73(0x6e8)]['wuid']+_0x2dcd73(0x280)+this[_0x2dcd73(0x782)]),_0x18145f;}catch(_0x152dcb){let _0x400fa7='Erro\x20ao\x20editar\x20agentes',_0x38eb93=_0x152dcb instanceof Error?_0x152dcb[_0x2dcd73(0x36a)]:typeof _0x152dcb==_0x2dcd73(0x3f1)?JSON[_0x2dcd73(0x66f)](_0x152dcb):_0x152dcb,_0x2cc110=_0x400fa7+':\x20'+_0x38eb93;throw this['logger'][_0x2dcd73(0x8d2)](this[_0x2dcd73(0x88a)]+'\x20('+this[_0x2dcd73(0x6e8)][_0x2dcd73(0x64c)]+'):\x20'+_0x2cc110),new m(_0x2cc110);}}async[a0_0x466431(0x4c6)](_0x347d7f){const _0x19237a=a0_0x466431;try{let _0x5ab025=await this[_0x19237a(0x7ae)]['automateSystem'][_0x19237a(0x7e3)](this['instance'][_0x19237a(0x64c)]),_0xf83c2b=_0x347d7f[_0x19237a(0x209)]?_0x5ab025[_0x19237a(0x493)][_0x19237a(0x4c0)](_0x2bbeeb=>_0x2bbeeb[_0x19237a(0x209)]===_0x347d7f['_id']):-0x1,_0x4a04f4=!0x1,_0x2e1a8d=_0x5ab025['customFields']['some'](_0x164c4c=>_0x164c4c[_0x19237a(0x244)]===_0x347d7f[_0x19237a(0x244)]);if(_0x347d7f[_0x19237a(0x384)]&&_0xf83c2b>-0x1)_0x5ab025[_0x19237a(0x493)]['splice'](_0xf83c2b,0x1),_0x4a04f4=!0x0;else{if(_0xf83c2b>-0x1){if(_0x5ab025[_0x19237a(0x493)][_0x19237a(0x3fb)](_0x4bac40=>_0x4bac40['name']===_0x347d7f[_0x19237a(0x8d9)]&&_0x4bac40['_id']!==_0x347d7f['_id']))throw new Error(_0x19237a(0x5d6));let _0x53a4e4=_0x5ab025[_0x19237a(0x493)][_0xf83c2b];_0x347d7f['order']&&(_0x2e1a8d||!Number[_0x19237a(0x20a)](_0x347d7f[_0x19237a(0x244)]))&&(_0x53a4e4[_0x19237a(0x244)]=_0x347d7f[_0x19237a(0x244)],_0x4a04f4=!0x0),_0x347d7f[_0x19237a(0x8d9)]&&(_0x53a4e4[_0x19237a(0x8d9)]=_0x347d7f[_0x19237a(0x8d9)]);}else{if(_0x5ab025[_0x19237a(0x493)][_0x19237a(0x3fb)](_0xa35bf1=>_0xa35bf1['name']===_0x347d7f[_0x19237a(0x8d9)]&&_0xa35bf1['_id']!==_0x347d7f[_0x19237a(0x209)]))throw new Error(_0x19237a(0x5d6));_0x5ab025[_0x19237a(0x493)][_0x19237a(0x543)]({'_id':_0x347d7f[_0x19237a(0x209)]||new pe[(_0x19237a(0x525))][(_0x19237a(0x5a5))]['ObjectId']()[_0x19237a(0x1d0)](),'order':_0x347d7f['order'],'name':_0x347d7f[_0x19237a(0x8d9)]}),_0x4a04f4=!0x0;}}if(_0x4a04f4){_0x5ab025[_0x19237a(0x493)]['sort']((_0x400e0c,_0x30bcf3)=>_0x400e0c['order']>_0x30bcf3[_0x19237a(0x244)]?0x1:_0x30bcf3[_0x19237a(0x244)]>_0x400e0c[_0x19237a(0x244)]?-0x1:0x0);for(let _0x2ac74b=0x0;_0x2ac74b<_0x5ab025[_0x19237a(0x493)]['length'];_0x2ac74b++)_0x5ab025['customFields'][_0x2ac74b][_0x19237a(0x244)]=_0x2ac74b+0x1;}let _0x1e4cc5=await this['repository']['automateSystem']['update'](_0x5ab025,this[_0x19237a(0x6e8)][_0x19237a(0x64c)]);return this[_0x19237a(0x782)]=_0x1e4cc5,this['logger'][_0x19237a(0x704)](this['instanceName']+'\x20('+this[_0x19237a(0x6e8)]['wuid']+_0x19237a(0x32c)),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x19237a(0x6e8)][_0x19237a(0x64c)]+_0x19237a(0x280)+this[_0x19237a(0x782)]),_0x1e4cc5;}catch(_0x21198e){let _0x119f42=_0x19237a(0x74d),_0x33556c=_0x21198e instanceof Error?_0x21198e[_0x19237a(0x36a)]:typeof _0x21198e==_0x19237a(0x3f1)?JSON[_0x19237a(0x66f)](_0x21198e):_0x21198e,_0x321281=_0x119f42+':\x20'+_0x33556c;throw this['logger'][_0x19237a(0x8d2)](this[_0x19237a(0x88a)]+'\x20('+this['instance'][_0x19237a(0x64c)]+_0x19237a(0x280)+_0x321281),new m(_0x321281);}}async[a0_0x466431(0x207)](_0x4c9798){const _0x393114=a0_0x466431;try{let _0x4d6c6e=await this[_0x393114(0x7ae)][_0x393114(0x8b6)]['findOrCreate'](this[_0x393114(0x6e8)][_0x393114(0x64c)]),_0x1793c7=_0x4d6c6e?.[_0x393114(0x649)]?.[_0x393114(0x4c0)](_0x275033=>_0x275033[_0x393114(0x209)]===_0x4c9798?.[_0x393114(0x209)]);if(_0x4c9798?.[_0x393114(0x384)])_0x1793c7>-0x1&&_0x4d6c6e?.[_0x393114(0x649)]?.[_0x393114(0x565)](_0x1793c7,0x1);else{if(_0x1793c7>-0x1){let _0x37f05c=_0x4d6c6e[_0x393114(0x649)][_0x1793c7];_0x37f05c[_0x393114(0x244)]=_0x4c9798?.[_0x393114(0x244)]||_0x37f05c[_0x393114(0x244)],_0x37f05c['command']=_0x4c9798?.[_0x393114(0x30b)]||_0x37f05c[_0x393114(0x30b)],_0x37f05c['message']=_0x4c9798?.[_0x393114(0x36a)]||_0x37f05c[_0x393114(0x36a)];}else{let _0x2fae49={'_id':_0x4c9798?.['_id']||new pe[(_0x393114(0x525))][(_0x393114(0x5a5))][(_0x393114(0x545))]()[_0x393114(0x1d0)](),'order':_0x4c9798?.['order'],'command':_0x4c9798?.['command'],'message':_0x4c9798?.[_0x393114(0x36a)]};_0x4d6c6e?.[_0x393114(0x649)]?.[_0x393114(0x543)](_0x2fae49);}}_0x4d6c6e?.[_0x393114(0x649)]?.[_0x393114(0x4e0)]((_0x28c760,_0x2d521b)=>_0x28c760[_0x393114(0x244)]-_0x2d521b['order']);let _0x5321b4=await this[_0x393114(0x7ae)][_0x393114(0x8b6)][_0x393114(0x42a)](_0x4d6c6e,this[_0x393114(0x6e8)][_0x393114(0x64c)]);return this[_0x393114(0x782)]=_0x5321b4,this[_0x393114(0x379)][_0x393114(0x704)](this[_0x393114(0x88a)]+'\x20('+this['instance'][_0x393114(0x64c)]+_0x393114(0x32c)),_0x5321b4;}catch(_0x9a95e){let _0x82936d='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x5290fb=_0x9a95e instanceof Error?_0x9a95e[_0x393114(0x36a)]:typeof _0x9a95e==_0x393114(0x3f1)?JSON[_0x393114(0x66f)](_0x9a95e):_0x9a95e,_0x46f2a3=_0x82936d+':\x20'+_0x5290fb;throw this[_0x393114(0x379)][_0x393114(0x8d2)](this[_0x393114(0x88a)]+'\x20('+this[_0x393114(0x6e8)][_0x393114(0x64c)]+'):\x20'+_0x46f2a3),new m(_0x46f2a3);}}async[a0_0x466431(0x8f0)](_0x34b788){const _0x566724=a0_0x466431;try{let _0x2a756f=await this[_0x566724(0x7ae)][_0x566724(0x8b6)][_0x566724(0x7e3)](this[_0x566724(0x6e8)][_0x566724(0x64c)]);if(!_0x2a756f)throw new Error(_0x566724(0x7ab));let _0x1ffc04={'_id':_0x2a756f[_0x566724(0x209)],'flowConfig':{'enabled':_0x34b788[_0x566724(0x78f)]??_0x2a756f[_0x566724(0x6de)][_0x566724(0x78f)],'ignoreGroups':_0x34b788[_0x566724(0x35f)]??_0x2a756f[_0x566724(0x6de)][_0x566724(0x35f)],'stopConversation':_0x34b788[_0x566724(0x497)][_0x566724(0x8bd)]()??_0x2a756f[_0x566724(0x6de)]['stopConversation']['trim'](),'stopMinutes':_0x34b788['stopMinutes']??_0x2a756f[_0x566724(0x6de)][_0x566724(0x3f2)],'stopWhenYouSendMsg':_0x34b788[_0x566724(0x832)]??_0x2a756f[_0x566724(0x6de)]['stopWhenYouSendMsg']}},_0x1cda1f=await this['repository'][_0x566724(0x8b6)][_0x566724(0x42a)](_0x1ffc04,this[_0x566724(0x6e8)]['wuid']);return this[_0x566724(0x782)]=_0x1cda1f,this['logger'][_0x566724(0x704)](this['instanceName']+'\x20('+this[_0x566724(0x6e8)]['wuid']+_0x566724(0x4b3)),this[_0x566724(0x379)][_0x566724(0x704)](this[_0x566724(0x88a)]+'\x20('+this['instance'][_0x566724(0x64c)]+_0x566724(0x280)+this[_0x566724(0x782)]),setTimeout(()=>this[_0x566724(0x1fe)](),0x7d0),_0x1cda1f;}catch(_0x28cedc){let _0x1cefec=_0x566724(0x71a),_0x50f84e=_0x28cedc instanceof Error?_0x28cedc[_0x566724(0x36a)]:typeof _0x28cedc==_0x566724(0x3f1)?JSON[_0x566724(0x66f)](_0x28cedc):_0x28cedc,_0x3fd06d=_0x1cefec+':\x20'+_0x50f84e;throw this[_0x566724(0x379)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x566724(0x280)+_0x3fd06d),new m(_0x3fd06d);}}async[a0_0x466431(0x301)](){const _0x153788=a0_0x466431;try{let _0x32f9eb=await this[_0x153788(0x7ae)][_0x153788(0x8b6)][_0x153788(0x7e3)](this[_0x153788(0x6e8)][_0x153788(0x64c)]);return this[_0x153788(0x782)]=_0x32f9eb,_0x32f9eb;}catch(_0x415118){let _0x1c141e=_0x153788(0x8de),_0x514749=_0x415118 instanceof Error?_0x415118[_0x153788(0x36a)]:typeof _0x415118==_0x153788(0x3f1)?JSON[_0x153788(0x66f)](_0x415118):_0x415118,_0x35ffc3=_0x1c141e+':\x20'+_0x514749;throw this[_0x153788(0x379)][_0x153788(0x8d2)](this[_0x153788(0x88a)]+'\x20('+this['instance'][_0x153788(0x64c)]+'):\x20'+_0x35ffc3),new m(_0x35ffc3);}}async[a0_0x466431(0x7ca)](){const _0x457452=a0_0x466431;let _0x188cb6=(await import(_0x457452(0x42c)))[_0x457452(0x525)];this[_0x457452(0x36e)]=new _0x188cb6({'concurrency':0x1});}async['setRestartTimeout'](){const _0x1d75c8=a0_0x466431;this[_0x1d75c8(0x6e8)]['ScheduleMessage'][_0x1d75c8(0x3ab)]&&clearTimeout(this[_0x1d75c8(0x6e8)][_0x1d75c8(0x729)][_0x1d75c8(0x3ab)]),this['instance']['ScheduleMessage'][_0x1d75c8(0x3ab)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x3cf053=a0_0x466431;let _0x216fcf=this[_0x3cf053(0x6e8)][_0x3cf053(0x729)]['lastSend'];(_0x216fcf===0x0||_0x216fcf===null||Date[_0x3cf053(0x283)]()-_0x216fcf>=0x1d4c0)&&(this[_0x3cf053(0x379)][_0x3cf053(0x704)](this[_0x3cf053(0x88a)]+'\x20('+this[_0x3cf053(0x6e8)]['wuid']+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x3cf053(0x6e8)][_0x3cf053(0x729)]['processingGroup']=null,this[_0x3cf053(0x6e8)][_0x3cf053(0x729)][_0x3cf053(0x567)]=0x0,this[_0x3cf053(0x6e8)]['ScheduleMessage'][_0x3cf053(0x598)]=0x0,await this['scheduleNextCheck']());}async[a0_0x466431(0x1fe)](){const _0x12fd6f=a0_0x466431;this[_0x12fd6f(0x379)][_0x12fd6f(0x2e7)](this['instanceName']+'\x20('+this[_0x12fd6f(0x6e8)][_0x12fd6f(0x64c)]+_0x12fd6f(0x1f8)),await this[_0x12fd6f(0x76b)]();let _0x1841ec=await this['getReadyToSendMessages']();_0x1841ec[_0x12fd6f(0x3d4)]>0x0&&(setTimeout(()=>this[_0x12fd6f(0x7cc)](),0x14*0x3e8),this[_0x12fd6f(0x379)]['warn'](this[_0x12fd6f(0x88a)]+'\x20('+this['instance'][_0x12fd6f(0x64c)]+_0x12fd6f(0x7d7)),this[_0x12fd6f(0x36e)][_0x12fd6f(0x3a4)](),this[_0x12fd6f(0x36e)]['add'](()=>this[_0x12fd6f(0x8e2)](_0x1841ec)));let _0x44f623={'where':{'status':_0x12fd6f(0x7f4),'when':{'$gt':Date[_0x12fd6f(0x283)]()}}},_0x419350=await this[_0x12fd6f(0x7ae)]['scheduleMessage'][_0x12fd6f(0x2c9)](_0x44f623,this[_0x12fd6f(0x6e8)]['wuid']);_0x419350&&_0x419350[_0x12fd6f(0x4c8)]-Date['now']()<=0x6ddd00?this['instance']['ScheduleMessage'][_0x12fd6f(0x598)]=_0x419350[_0x12fd6f(0x4c8)]-Date['now']():this[_0x12fd6f(0x6e8)]['ScheduleMessage']['delayMessage']=(0x3c+Math[_0x12fd6f(0x1c1)](Math['random']()*0x3c))*0x3c*0x3e8,this[_0x12fd6f(0x6e8)]['ScheduleMessage'][_0x12fd6f(0x598)]=Math[_0x12fd6f(0x1e1)](this['instance']['ScheduleMessage']['delayMessage'],0x1*0x2*0x3e8);let _0x58c6bf=Math[_0x12fd6f(0x3c2)](this['instance'][_0x12fd6f(0x729)][_0x12fd6f(0x598)]/0xea60);if(_0x419350){let _0x1f45c2=new Date(_0x419350[_0x12fd6f(0x4c8)])[_0x12fd6f(0x1e3)]();this[_0x12fd6f(0x379)]['warn'](this['instanceName']+'\x20('+this[_0x12fd6f(0x6e8)]['wuid']+_0x12fd6f(0x6e4)+_0x1f45c2+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x58c6bf+_0x12fd6f(0x4ed));}else this[_0x12fd6f(0x379)][_0x12fd6f(0x2e7)](this['instanceName']+'\x20('+this[_0x12fd6f(0x6e8)][_0x12fd6f(0x64c)]+'):\x20Não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x58c6bf+_0x12fd6f(0x4ed));setTimeout(()=>{this['scheduleNextCheck']();},this['instance']['ScheduleMessage']['delayMessage']);}async['getReadyToSendMessages'](){const _0x329e4d=a0_0x466431;this[_0x329e4d(0x379)][_0x329e4d(0x2e7)](this[_0x329e4d(0x88a)]+'\x20('+this[_0x329e4d(0x6e8)][_0x329e4d(0x64c)]+_0x329e4d(0x454));let _0x45008c=Date[_0x329e4d(0x283)]()-0xc*0x3c*0x3c*0x3e8,_0x561a1e={'where':{'status':{'$in':[_0x329e4d(0x7f4),_0x329e4d(0x45f)]},'$or':[{'when':{'$lte':Date[_0x329e4d(0x283)](),'$gte':_0x45008c}},{'when':0x0}]}},_0x301c38=await this[_0x329e4d(0x7ae)][_0x329e4d(0x1a8)][_0x329e4d(0x5a4)](_0x561a1e,this[_0x329e4d(0x6e8)][_0x329e4d(0x64c)]);return this[_0x329e4d(0x379)][_0x329e4d(0x2e7)](this[_0x329e4d(0x88a)]+'\x20('+this['instance']['wuid']+'):\x20Mensagens\x20PRONTAS\x20para\x20envio\x20encontradas:\x20'+_0x301c38['length']),_0x301c38;}async[a0_0x466431(0x8e2)](_0x2618b4){const _0x3f0595=a0_0x466431;this[_0x3f0595(0x379)]['warn'](this[_0x3f0595(0x88a)]+'\x20('+this[_0x3f0595(0x6e8)][_0x3f0595(0x64c)]+_0x3f0595(0x8f1));let _0x531de4=0x3*0x3e8,_0x5893f3=0x8*0x3e8,_0x3ca08d=Math[_0x3f0595(0x1c1)](Math[_0x3f0595(0x8ce)]()*(_0x5893f3-_0x531de4+0x1))+_0x531de4,_0x57d2df=()=>this['pendingMessages'][_0x3f0595(0x3d4)]===0x0?null:this['pendingMessages'][_0x3f0595(0x2b7)]((_0x13e006,_0x481a27)=>(_0x13e006[_0x3f0595(0x244)]??Number['MAX_SAFE_INTEGER'])<(_0x481a27[_0x3f0595(0x244)]??Number[_0x3f0595(0x291)])?_0x13e006:_0x481a27,this[_0x3f0595(0x709)][0x0]);_0x2618b4=await this['getReadyToSendMessages']();for(let _0xb589eb of _0x2618b4){await this[_0x3f0595(0x2d6)]();let _0x4fe41e=0x3*0x3e8,_0x4083f9={'_id':_0xb589eb['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x3f0595(0x283)]()-_0x4fe41e}}]},_0x5a35a3={'startSend':Date[_0x3f0595(0x283)](),'status':_0x3f0595(0x45f)},_0x105549=await this['repository'][_0x3f0595(0x1a8)][_0x3f0595(0x86c)](_0x4083f9,_0x5a35a3,this['instance'][_0x3f0595(0x64c)]);if(this[_0x3f0595(0x709)]=_0x105549[_0x3f0595(0x663)][_0x3f0595(0x189)](_0x3fe0a9=>!_0x3fe0a9[_0x3f0595(0x8b1)]),!_0x105549){setTimeout(()=>this['checkAndRestartProcess'](),0xa*0x3e8);continue;}if(this[_0x3f0595(0x6e8)]['ScheduleMessage'][_0x3f0595(0x52c)]=_0x105549,!this[_0x3f0595(0x6e8)]['ScheduleMessage']['isConnected']){this[_0x3f0595(0x379)][_0x3f0595(0x2e7)](this[_0x3f0595(0x88a)]+'\x20('+this[_0x3f0595(0x6e8)][_0x3f0595(0x64c)]+_0x3f0595(0x470));break;}for(;this[_0x3f0595(0x709)][_0x3f0595(0x3d4)]>0x0;){await this[_0x3f0595(0x2d6)]();let _0xcfa1ef=_0x57d2df();if(!_0xcfa1ef)break;let _0x2318e5=_0xb589eb[_0x3f0595(0x663)][_0x3f0595(0x5a4)](_0x4a7f84=>_0x4a7f84[_0x3f0595(0x209)]===_0xcfa1ef['_id']);if(!_0x2318e5)break;if(this[_0x3f0595(0x6e8)][_0x3f0595(0x729)]['lastSend']=Date[_0x3f0595(0x283)](),_0x2318e5['triedToSend']){this[_0x3f0595(0x379)][_0x3f0595(0x2e7)](this[_0x3f0595(0x88a)]+'\x20('+this[_0x3f0595(0x6e8)][_0x3f0595(0x64c)]+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x2318e5['remoteJid']+_0x3f0595(0x29e)),this[_0x3f0595(0x709)]=this[_0x3f0595(0x709)][_0x3f0595(0x189)](_0x2f7ea5=>_0x2f7ea5['_id']!==_0x2318e5[_0x3f0595(0x209)]);continue;}if(!this[_0x3f0595(0x6e8)]['ScheduleMessage'][_0x3f0595(0x6ca)]){this[_0x3f0595(0x379)][_0x3f0595(0x2e7)](this[_0x3f0595(0x88a)]+'\x20('+this['instance'][_0x3f0595(0x64c)]+'):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.');break;}if(!this[_0x3f0595(0x6e8)][_0x3f0595(0x729)][_0x3f0595(0x52c)]){this['logger'][_0x3f0595(0x2e7)](this[_0x3f0595(0x88a)]+'\x20('+this[_0x3f0595(0x6e8)]['wuid']+_0x3f0595(0x651)+_0xb589eb[_0x3f0595(0x209)]+_0x3f0595(0x26a));break;}let _0x4d1fc7={'idControl':_0x2318e5['_id'],'remoteJid':_0x2318e5[_0x3f0595(0x84e)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x3f0595(0x283)]()},_0x585e38=null;try{this['logger'][_0x3f0595(0x2e7)](this[_0x3f0595(0x88a)]+'\x20('+this[_0x3f0595(0x6e8)]['wuid']+'):\x20Enviando\x20mensagem\x20para\x20'+_0x2318e5[_0x3f0595(0x84e)]);let _0x18ea9f=await Promise[_0x3f0595(0x5d7)]([this[_0x3f0595(0x700)](_0x2318e5[_0x3f0595(0x84e)],_0x2318e5),this[_0x3f0595(0x2b5)](0x78*0x3e8)]);_0x4d1fc7[_0x3f0595(0x8d2)]=_0x18ea9f[_0x3f0595(0x8d2)],_0x4d1fc7['id']=_0x18ea9f[_0x3f0595(0x8d2)]?null:_0x18ea9f['id'],_0x4d1fc7[_0x3f0595(0x6d3)]=_0x18ea9f[_0x3f0595(0x8d2)]?_0x18ea9f[_0x3f0595(0x304)]?_0x18ea9f['detail'][_0x3f0595(0x1d0)]():'':null;let _0x2369e6=_0xb589eb[_0x3f0595(0x663)][_0x3f0595(0x4c0)](_0x1bf289=>_0x1bf289[_0x3f0595(0x209)]===_0x2318e5[_0x3f0595(0x209)]);_0x2369e6!==-0x1&&(_0xb589eb[_0x3f0595(0x663)][_0x2369e6][_0x3f0595(0x8b1)]=!0x0);let _0x57b71b={'$push':{'messagesSend':_0x4d1fc7},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x1111fd=[{'elem._id':_0x2318e5[_0x3f0595(0x209)]}];if(this[_0x3f0595(0x379)][_0x3f0595(0x2e7)](this[_0x3f0595(0x88a)]+'\x20('+this[_0x3f0595(0x6e8)][_0x3f0595(0x64c)]+_0x3f0595(0x752)+_0x2318e5['_id']),_0x585e38=await this[_0x3f0595(0x7ae)][_0x3f0595(0x1a8)][_0x3f0595(0x86c)]({'_id':_0xb589eb[_0x3f0595(0x209)]},_0x57b71b,this['instance'][_0x3f0595(0x64c)],{'arrayFilters':_0x1111fd}),_0x18ea9f[_0x3f0595(0x8d2)]){this['logger']['error'](this['instanceName']+'\x20('+this[_0x3f0595(0x6e8)][_0x3f0595(0x64c)]+_0x3f0595(0x4e6)+_0x18ea9f['detail']);continue;}let _0x1142b7=this[_0x3f0595(0x874)](_0xb589eb[_0x3f0595(0x859)],_0xb589eb[_0x3f0595(0x6a9)]);await this[_0x3f0595(0x328)](_0x1142b7);}catch(_0x38200f){this[_0x3f0595(0x379)][_0x3f0595(0x8d2)](this[_0x3f0595(0x88a)]+'\x20('+this['instance'][_0x3f0595(0x64c)]+_0x3f0595(0x300)+_0x2318e5[_0x3f0595(0x84e)]+':\x20'+(_0x38200f instanceof Error?_0x38200f['message']:JSON[_0x3f0595(0x66f)](_0x38200f,null,0x2))),_0x4d1fc7[_0x3f0595(0x8d2)]=!0x0,_0x4d1fc7[_0x3f0595(0x6d3)]=_0x38200f['message'];let _0x3fa017=_0xb589eb['messages'][_0x3f0595(0x4c0)](_0x1ffc15=>_0x1ffc15['_id']===_0x2318e5[_0x3f0595(0x209)]);_0x3fa017!==-0x1&&(_0xb589eb[_0x3f0595(0x663)][_0x3fa017][_0x3f0595(0x8b1)]=!0x0);let _0x403ba0={'$push':{'messagesSend':_0x4d1fc7},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x2b4aac=[{'elem._id':_0x2318e5[_0x3f0595(0x209)]}];this[_0x3f0595(0x379)][_0x3f0595(0x2e7)](this[_0x3f0595(0x88a)]+'\x20('+this['instance'][_0x3f0595(0x64c)]+_0x3f0595(0x40d)+_0x2318e5[_0x3f0595(0x209)]),_0x585e38=await this[_0x3f0595(0x7ae)][_0x3f0595(0x1a8)][_0x3f0595(0x86c)]({'_id':_0xb589eb[_0x3f0595(0x209)]},_0x403ba0,this[_0x3f0595(0x6e8)][_0x3f0595(0x64c)],{'arrayFilters':_0x2b4aac});}finally{if(_0x585e38&&_0x585e38[_0x3f0595(0x309)]===_0x3f0595(0x5c2)){this[_0x3f0595(0x379)]['warn'](this[_0x3f0595(0x88a)]+'\x20('+this[_0x3f0595(0x6e8)][_0x3f0595(0x64c)]+_0x3f0595(0x651)+_0x2318e5[_0x3f0595(0x209)]+_0x3f0595(0x80b));break;}let _0x1c95b9=_0x585e38['messages'][_0x3f0595(0x5a4)](_0x412be2=>_0x412be2[_0x3f0595(0x209)]===_0x2318e5['_id']);if(_0x1c95b9&&!_0x1c95b9['triedToSend']){let _0x5c2edf={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x5f4eee=[{'elem._id':_0x2318e5[_0x3f0595(0x209)]}];await this[_0x3f0595(0x7ae)]['scheduleMessage']['updateOne']({'_id':_0x585e38[_0x3f0595(0x209)]},_0x5c2edf,this[_0x3f0595(0x6e8)][_0x3f0595(0x64c)],{'arrayFilters':_0x5f4eee});}if(this['pendingMessages']=_0x585e38['messages'][_0x3f0595(0x189)](_0x45f827=>!_0x45f827[_0x3f0595(0x8b1)]),!this[_0x3f0595(0x6e8)][_0x3f0595(0x729)]['processingGroup']){await this[_0x3f0595(0x2d6)](),this[_0x3f0595(0x379)][_0x3f0595(0x2e7)](this[_0x3f0595(0x88a)]+'\x20('+this['instance'][_0x3f0595(0x64c)]+_0x3f0595(0x651)+_0xb589eb[_0x3f0595(0x209)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}}}this[_0x3f0595(0x709)]=[];let _0x1df697=await this['repository'][_0x3f0595(0x1a8)][_0x3f0595(0x2dd)](_0xb589eb[_0x3f0595(0x209)],this[_0x3f0595(0x6e8)][_0x3f0595(0x64c)]);if(_0x1df697[_0x3f0595(0x663)][_0x3f0595(0x687)](_0x54d374=>_0x54d374[_0x3f0595(0x8b1)])&&_0x1df697[_0x3f0595(0x309)]!==_0x3f0595(0x5c2)){let _0x232f3c={'$set':{'status':_0x3f0595(0x841)}};await this['repository'][_0x3f0595(0x1a8)]['updateOneById'](_0x1df697['_id'],_0x232f3c,this[_0x3f0595(0x6e8)]['wuid']);}await new Promise(_0x515ec0=>setTimeout(_0x515ec0,_0x3ca08d)),global['gc']?global['gc']():console[_0x3f0595(0x2e7)](_0x3f0595(0x50c));}}[a0_0x466431(0x2b5)](_0x3bb553){const _0x3b35c2=a0_0x466431;return new Promise((_0x12a788,_0xcc84ba)=>setTimeout(()=>_0xcc84ba(new Error(_0x3b35c2(0x1e2))),_0x3bb553));}['getDelay'](_0x3e0871,_0x5f377b){const _0x43e25c=a0_0x466431;return _0x3e0871=Math[_0x43e25c(0x1e1)](0.5,_0x3e0871),_0x5f377b=Math[_0x43e25c(0x742)](Math[_0x43e25c(0x1e1)](0x3,_0x5f377b),0x78),Math[_0x43e25c(0x1c1)](Math[_0x43e25c(0x8ce)]()*(_0x5f377b-_0x3e0871+0x1)+_0x3e0871)*0x3e8;}['sleep'](_0x5d604d){return new Promise(_0x147970=>setTimeout(_0x147970,_0x5d604d));}async[a0_0x466431(0x6c8)](_0x5ee760){const _0x4fe2a4=a0_0x466431;if(!this[_0x4fe2a4(0x782)]&&(await this[_0x4fe2a4(0x301)](),!this[_0x4fe2a4(0x782)]))return null;_0x5ee760=this[_0x4fe2a4(0x866)](_0x5ee760);let _0x1693e9=await this['repository'][_0x4fe2a4(0x66d)][_0x4fe2a4(0x2c9)]({'where':{'_id':_0x5ee760}},this[_0x4fe2a4(0x6e8)]['wuid']),_0x2aae4b={};if(_0x1693e9&&_0x1693e9[_0x4fe2a4(0x811)]){let _0x464f3e=_0x1693e9[_0x4fe2a4(0x811)];typeof _0x464f3e[_0x4fe2a4(0x1f9)]==_0x4fe2a4(0x253)&&(_0x2aae4b[_0x4fe2a4(0x1f9)]=_0x464f3e[_0x4fe2a4(0x1f9)]),typeof _0x464f3e[_0x4fe2a4(0x295)]==_0x4fe2a4(0x253)&&(_0x2aae4b[_0x4fe2a4(0x295)]=_0x464f3e['nomecompleto']),typeof _0x464f3e[_0x4fe2a4(0x7a4)]==_0x4fe2a4(0x253)&&(_0x2aae4b['email']=_0x464f3e['email']),typeof _0x464f3e[_0x4fe2a4(0x25b)]==_0x4fe2a4(0x253)&&(_0x2aae4b[_0x4fe2a4(0x25b)]=_0x464f3e[_0x4fe2a4(0x25b)]),typeof _0x464f3e[_0x4fe2a4(0x309)]==_0x4fe2a4(0x253)&&(_0x2aae4b[_0x4fe2a4(0x309)]=_0x464f3e[_0x4fe2a4(0x309)]),typeof _0x464f3e[_0x4fe2a4(0x506)]==_0x4fe2a4(0x253)&&(_0x2aae4b[_0x4fe2a4(0x506)]=_0x464f3e[_0x4fe2a4(0x506)]),typeof _0x464f3e[_0x4fe2a4(0x50d)]==_0x4fe2a4(0x253)&&(_0x2aae4b[_0x4fe2a4(0x50d)]=_0x464f3e[_0x4fe2a4(0x50d)]),Array[_0x4fe2a4(0x27b)](_0x464f3e[_0x4fe2a4(0x83d)])&&(_0x2aae4b[_0x4fe2a4(0x83d)]=_0x464f3e['tags'][_0x4fe2a4(0x473)](',\x20')),Array[_0x4fe2a4(0x27b)](_0x464f3e[_0x4fe2a4(0x1ca)])&&(_0x2aae4b[_0x4fe2a4(0x1ca)]=_0x464f3e[_0x4fe2a4(0x1ca)][_0x4fe2a4(0x473)](',\x20'));}return _0x1693e9&&_0x1693e9[_0x4fe2a4(0x811)]&&_0x1693e9['leadInfo']['customFields']&&_0x1693e9[_0x4fe2a4(0x811)][_0x4fe2a4(0x493)][_0x4fe2a4(0x4fe)](_0x2f2447=>{const _0xfd68de=_0x4fe2a4;let _0x4f24e3=this['AutomateSystem']?.[_0xfd68de(0x493)]['find'](_0x5b996e=>_0x5b996e[_0xfd68de(0x209)]===_0x2f2447[_0xfd68de(0x209)]);_0x4f24e3&&(_0x2aae4b[_0x4f24e3['name']]=_0x2f2447[_0xfd68de(0x6b4)]);}),_0x2aae4b;}async[a0_0x466431(0x61c)](_0x5df651,_0x14bd12){const _0x1327e0=a0_0x466431;try{let _0x235340=await this[_0x1327e0(0x6c8)](_0x14bd12);return this[_0x1327e0(0x86a)](_0x5df651,_0x235340);}catch(_0x36baea){return this['logger']['error'](_0x1327e0(0x6a2)+_0x14bd12+':\x20'+_0x36baea),_0x5df651;}}async[a0_0x466431(0x76b)](){const _0x65e22f=a0_0x466431;let _0x42249b=async(_0x375c98,_0x4bf124)=>{const _0x147ea7=a0_0x192a;let _0x16f890=(await this[_0x147ea7(0x7ae)][_0x147ea7(0x1a8)][_0x147ea7(0x5a4)]({'where':{'type':_0x375c98}},this[_0x147ea7(0x6e8)]['wuid']))[_0x147ea7(0x1e8)](async _0x55114e=>{const _0x17469c=_0x147ea7;let _0x47c86a=_0x4bf124(_0x55114e),_0x43ed7=_0x123870=>/^\d+$/[_0x17469c(0x7f2)](_0x123870),_0x23e6f4=_0x55114e['remoteJids'][_0x17469c(0x189)](_0x2d4490=>_0x2d4490[_0x17469c(0x888)](_0x17469c(0x4f1))?_0x2d4490[_0x17469c(0x3d4)]>0x19:_0x2d4490[_0x17469c(0x888)](_0x17469c(0x611))?_0x2d4490['length']>0xf:_0x43ed7(_0x2d4490)?_0x2d4490[_0x17469c(0x3d4)]>=0xb:!0x1)['map'](_0x5a5df0=>({'_id':(0x0,Q['v4'])(),'idSchedule':_0x55114e[_0x17469c(0x209)],'type':_0x47c86a,'remoteJid':_0x5a5df0,'flow':_0x55114e['flowName'],'text':_0x55114e['message']?.[_0x17469c(0x6d0)],'delay':_0x55114e[_0x17469c(0x36a)]?.['delay'],'urlOrBase64':_0x55114e['message']?.[_0x17469c(0x4b9)],'linkPreview':_0x55114e[_0x17469c(0x36a)]?.[_0x17469c(0x3c4)],'fileName':_0x55114e[_0x17469c(0x36a)]?.[_0x17469c(0x4c1)],'triedToSend':!0x1,'messagesSend':[]}));try{await this[_0x17469c(0x7ae)][_0x17469c(0x1a8)]['updateOneById'](_0x55114e[_0x17469c(0x209)],{'$set':{'messages':_0x23e6f4},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this['instance'][_0x17469c(0x64c)]);}catch(_0x202f2a){console[_0x17469c(0x8d2)](_0x17469c(0x726)+_0x55114e[_0x17469c(0x209)]+':',_0x202f2a);}});await Promise[_0x147ea7(0x5fe)](_0x16f890);};await _0x42249b(_0x65e22f(0x6d0),_0xee9cb0=>_0x65e22f(0x6d0)),await _0x42249b(_0x65e22f(0x71d),_0x4d50e4=>_0x4d50e4[_0x65e22f(0x36a)]?.['mediatype']||_0x65e22f(0x71d)),await _0x42249b(_0x65e22f(0x4e3),_0x53552f=>_0x65e22f(0x4e3)),await _0x42249b('flow',_0x6206f7=>_0x65e22f(0x686)),await _0x42249b(_0x65e22f(0x615),_0x100fc7=>_0x65e22f(0x615)),await _0x42249b(_0x65e22f(0x850),_0x2fdd02=>_0x65e22f(0x850)),await _0x42249b(_0x65e22f(0x63f),_0x160384=>_0x65e22f(0x63f)),this[_0x65e22f(0x379)][_0x65e22f(0x2e7)](this[_0x65e22f(0x88a)]+'\x20('+this[_0x65e22f(0x6e8)][_0x65e22f(0x64c)]+_0x65e22f(0x2d1));}async[a0_0x466431(0x55e)](_0x28ab21){const _0x46ecef=a0_0x466431;try{if(this[_0x46ecef(0x379)]['warn'](this[_0x46ecef(0x88a)]+'\x20('+this['instance'][_0x46ecef(0x64c)]+'):\x20Editando/criando\x20grupo\x20de\x20mensagens...'),_0x28ab21['_id']||(_0x28ab21[_0x46ecef(0x209)]=(0x0,Q['v4'])()),this['instance'][_0x46ecef(0x729)][_0x46ecef(0x52c)]?.[_0x46ecef(0x209)]===_0x28ab21['_id']?.[_0x46ecef(0x1d0)]()){if(_0x28ab21[_0x46ecef(0x309)]===_0x46ecef(0x5c2))this[_0x46ecef(0x6e8)][_0x46ecef(0x729)][_0x46ecef(0x52c)]=null;else throw new Error(_0x46ecef(0x3de));}if(_0x28ab21['delete']&&_0x28ab21[_0x46ecef(0x209)]){let _0x22f7d0=await this['repository'][_0x46ecef(0x1a8)][_0x46ecef(0x450)](_0x28ab21['_id'],this[_0x46ecef(0x6e8)][_0x46ecef(0x64c)]);return setTimeout(()=>this[_0x46ecef(0x1fe)](),0x7d0),_0x22f7d0;}let _0x12d494=null;if(_0x28ab21[_0x46ecef(0x209)]&&(_0x12d494=await this[_0x46ecef(0x7ae)][_0x46ecef(0x1a8)]['findById'](_0x28ab21[_0x46ecef(0x209)],this[_0x46ecef(0x6e8)][_0x46ecef(0x64c)])),_0x12d494){let {_id:_0x52341a,owner:_0x417f66,messages:_0xfae813,..._0x2a152b}=_0x28ab21;if(_0xfae813){let _0x4a595c=_0xfae813[_0x46ecef(0x189)](_0x225868=>!_0x225868['_id']),_0x18b484=_0xfae813['filter'](_0x298d0a=>_0x298d0a[_0x46ecef(0x209)]&&!_0x298d0a['delete']),_0x7aee8b=_0xfae813[_0x46ecef(0x189)](_0x4f2643=>_0x4f2643[_0x46ecef(0x209)]&&_0x4f2643[_0x46ecef(0x384)]);if(_0x4a595c[_0x46ecef(0x3d4)]>0x0&&await this['addMessagesToGroup'](_0x28ab21[_0x46ecef(0x209)],_0x4a595c),_0x18b484['length']>0x0&&await this['editMessagesInGroup']({'_id':_0x28ab21[_0x46ecef(0x209)],'messages':_0x18b484}),_0x7aee8b[_0x46ecef(0x3d4)]>0x0){let _0x229fbc=_0x7aee8b['map'](_0xa32cf5=>({'updateOne':{'filter':{'_id':_0x28ab21[_0x46ecef(0x209)]},'update':{'$pull':{'messages':{'_id':_0xa32cf5[_0x46ecef(0x209)]}}}}}));await this['repository'][_0x46ecef(0x1a8)][_0x46ecef(0x235)](_0x229fbc,this[_0x46ecef(0x6e8)][_0x46ecef(0x64c)]);}}let _0xcb1cf={'$set':{..._0x2a152b,'status':_0x28ab21['status']||_0x12d494[_0x46ecef(0x309)]}},_0x440351=await this[_0x46ecef(0x7ae)][_0x46ecef(0x1a8)][_0x46ecef(0x7d2)](_0x28ab21[_0x46ecef(0x209)],_0xcb1cf,this['instance'][_0x46ecef(0x64c)]);return _0x440351&&(this[_0x46ecef(0x3eb)](_0x440351['messages']),await this[_0x46ecef(0x7ae)][_0x46ecef(0x1a8)]['updateOneById'](_0x440351[_0x46ecef(0x209)],{'$set':{'messages':_0x440351[_0x46ecef(0x663)]}},this[_0x46ecef(0x6e8)]['wuid'])),setTimeout(()=>this[_0x46ecef(0x1fe)](),0x7d0),await this[_0x46ecef(0x76b)](),_0x440351;}else{_0x28ab21[_0x46ecef(0x3ea)]=this[_0x46ecef(0x6e8)]['wuid'],_0x28ab21['messages']&&_0x28ab21[_0x46ecef(0x663)][_0x46ecef(0x4fe)](_0x30e4a2=>{const _0x43508c=_0x46ecef;_0x30e4a2['_id']||(_0x30e4a2[_0x43508c(0x209)]=(0x0,Q['v4'])()),_0x30e4a2[_0x43508c(0x310)]||(_0x30e4a2[_0x43508c(0x310)]=_0x28ab21['_id']),delete _0x30e4a2['triedToSend'];});let _0x3b7ab4=await this[_0x46ecef(0x7ae)][_0x46ecef(0x1a8)][_0x46ecef(0x297)](_0x28ab21,this['instance']['wuid']);return _0x3b7ab4&&(this['reorderMessages'](_0x3b7ab4[_0x46ecef(0x663)]),await this['repository'][_0x46ecef(0x1a8)][_0x46ecef(0x7d2)](_0x3b7ab4['_id'],{'$set':{'messages':_0x3b7ab4[_0x46ecef(0x663)]}},this[_0x46ecef(0x6e8)][_0x46ecef(0x64c)])),setTimeout(()=>this[_0x46ecef(0x1fe)](),0x7d0),_0x3b7ab4;}}catch(_0x35fa50){let _0x1d19d1=_0x46ecef(0x24d),_0x1bf816=_0x35fa50 instanceof Error?_0x35fa50[_0x46ecef(0x36a)]:typeof _0x35fa50==_0x46ecef(0x3f1)?JSON[_0x46ecef(0x66f)](_0x35fa50):_0x35fa50,_0xe41471=_0x1d19d1+':\x20'+_0x1bf816;throw this[_0x46ecef(0x379)]['error'](this[_0x46ecef(0x88a)]+'\x20('+this['instance'][_0x46ecef(0x64c)]+'):\x20'+_0xe41471),new m(_0xe41471);}}async[a0_0x466431(0x6a3)](_0x32dc5e,_0x2934a3){const _0x1a3f58=a0_0x466431;try{this['logger'][_0x1a3f58(0x704)](this[_0x1a3f58(0x88a)]+'\x20('+this[_0x1a3f58(0x6e8)][_0x1a3f58(0x64c)]+_0x1a3f58(0x7c6)),_0x2934a3[_0x1a3f58(0x4fe)](_0x5a8bea=>{const _0x388916=_0x1a3f58;_0x5a8bea[_0x388916(0x209)]||(_0x5a8bea[_0x388916(0x209)]=(0x0,Q['v4'])()),_0x5a8bea['idSchedule']||(_0x5a8bea[_0x388916(0x310)]=_0x32dc5e),delete _0x5a8bea[_0x388916(0x8b1)];});let _0x538cc4={'$push':{'messages':{'$each':_0x2934a3}}},_0x119d2b=await this[_0x1a3f58(0x7ae)][_0x1a3f58(0x1a8)][_0x1a3f58(0x7d2)](_0x32dc5e,_0x538cc4,this[_0x1a3f58(0x6e8)][_0x1a3f58(0x64c)]);return _0x119d2b&&(this[_0x1a3f58(0x3eb)](_0x119d2b[_0x1a3f58(0x663)]),await this['repository'][_0x1a3f58(0x1a8)][_0x1a3f58(0x7d2)](_0x119d2b[_0x1a3f58(0x209)],{'$set':{'messages':_0x119d2b[_0x1a3f58(0x663)]}},this[_0x1a3f58(0x6e8)][_0x1a3f58(0x64c)])),_0x119d2b;}catch(_0x349716){let _0x4454cf=_0x1a3f58(0x1f2),_0x38d014=_0x349716 instanceof Error?_0x349716[_0x1a3f58(0x36a)]:typeof _0x349716==_0x1a3f58(0x3f1)?JSON[_0x1a3f58(0x66f)](_0x349716):_0x349716,_0x314a3b=_0x4454cf+':\x20'+_0x38d014;throw this['logger'][_0x1a3f58(0x8d2)](this[_0x1a3f58(0x88a)]+'\x20('+this[_0x1a3f58(0x6e8)][_0x1a3f58(0x64c)]+'):\x20'+_0x314a3b),new m(_0x314a3b);}}async[a0_0x466431(0x72e)](_0x583196){const _0xf3dfd0=a0_0x466431;try{if(this[_0xf3dfd0(0x379)][_0xf3dfd0(0x704)](this['instanceName']+'\x20('+this[_0xf3dfd0(0x6e8)][_0xf3dfd0(0x64c)]+_0xf3dfd0(0x248)),!_0x583196[_0xf3dfd0(0x209)]||!_0x583196[_0xf3dfd0(0x663)])throw new Error(_0xf3dfd0(0x21a));let _0x895c72=_0x583196['_id'],_0x3dc7dd=_0x583196[_0xf3dfd0(0x663)],_0x322016=_0x3dc7dd[_0xf3dfd0(0x189)](_0x2ff63b=>!_0x2ff63b[_0xf3dfd0(0x384)])[_0xf3dfd0(0x1e8)](_0x31d147=>{const _0x119168=_0xf3dfd0;let _0x70870=_0x31d147['_id'];if(!_0x70870)throw new Error(_0x119168(0x1de));return _0x31d147['idSchedule']||(_0x31d147[_0x119168(0x310)]=_0x895c72),delete _0x31d147['triedToSend'],{'updateOne':{'filter':{'_id':_0x895c72,'messages._id':_0x70870},'update':{'$set':{'messages.$[elem]':_0x31d147}},'arrayFilters':[{'elem._id':_0x70870}]}};}),_0x1661d5=_0x3dc7dd[_0xf3dfd0(0x189)](_0x463c87=>_0x463c87[_0xf3dfd0(0x384)])[_0xf3dfd0(0x1e8)](_0x17d22c=>{const _0x5e431b=_0xf3dfd0;let _0x2039ce=_0x17d22c[_0x5e431b(0x209)];if(!_0x2039ce)throw new Error(_0x5e431b(0x50e));return{'updateOne':{'filter':{'_id':_0x895c72},'update':{'$pull':{'messages':{'_id':_0x2039ce}}}}};}),_0x2f83c0=[..._0x322016,..._0x1661d5],_0x53f904=await this[_0xf3dfd0(0x7ae)][_0xf3dfd0(0x1a8)]['bulkWrite'](_0x2f83c0,this[_0xf3dfd0(0x6e8)]['wuid']),_0x5c7ac9=await this[_0xf3dfd0(0x7ae)]['scheduleMessage']['findById'](_0x895c72,this[_0xf3dfd0(0x6e8)][_0xf3dfd0(0x64c)]);return _0x5c7ac9&&(this[_0xf3dfd0(0x3eb)](_0x5c7ac9[_0xf3dfd0(0x663)]),await this['repository'][_0xf3dfd0(0x1a8)][_0xf3dfd0(0x7d2)](_0x5c7ac9[_0xf3dfd0(0x209)],{'$set':{'messages':_0x5c7ac9[_0xf3dfd0(0x663)]}},this[_0xf3dfd0(0x6e8)]['wuid'])),_0x5c7ac9;}catch(_0xff3730){let _0x4e7f9d=_0xf3dfd0(0x689),_0x134a82=_0xff3730 instanceof Error?_0xff3730[_0xf3dfd0(0x36a)]:typeof _0xff3730==_0xf3dfd0(0x3f1)?JSON[_0xf3dfd0(0x66f)](_0xff3730):_0xff3730,_0x249b02=_0x4e7f9d+':\x20'+_0x134a82;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0xf3dfd0(0x6e8)][_0xf3dfd0(0x64c)]+_0xf3dfd0(0x280)+_0x249b02),new m(_0x249b02);}}async[a0_0x466431(0x3ba)](){const _0x5824a9=a0_0x466431;try{let _0x732c6d={'status':_0x5824a9(0x841)},_0x4fd48d=await this[_0x5824a9(0x7ae)][_0x5824a9(0x1a8)][_0x5824a9(0x25e)](_0x732c6d,this[_0x5824a9(0x6e8)]['wuid']);if(!_0x4fd48d['error'])this[_0x5824a9(0x379)]['verbose'](this[_0x5824a9(0x88a)]+'\x20('+this[_0x5824a9(0x6e8)]['wuid']+_0x5824a9(0x419));else throw new Error(_0x4fd48d[_0x5824a9(0x8d2)]['message']||_0x5824a9(0x5e6));return this[_0x5824a9(0x433)]();}catch(_0x1b1828){let _0x4bc435=_0x5824a9(0x1f1),_0x32da99=_0x1b1828 instanceof Error?_0x1b1828[_0x5824a9(0x36a)]:typeof _0x1b1828==_0x5824a9(0x3f1)?JSON['stringify'](_0x1b1828):_0x1b1828,_0xc42f82=_0x4bc435+':\x20'+_0x32da99;throw this[_0x5824a9(0x379)][_0x5824a9(0x8d2)](this[_0x5824a9(0x88a)]+'\x20('+this[_0x5824a9(0x6e8)][_0x5824a9(0x64c)]+_0x5824a9(0x280)+_0xc42f82),new m(_0xc42f82);}}async[a0_0x466431(0x39b)](){const _0x3dfe84=a0_0x466431;try{this[_0x3dfe84(0x6e8)]['ScheduleMessage'][_0x3dfe84(0x6ca)]=!0x1,this[_0x3dfe84(0x6e8)][_0x3dfe84(0x729)][_0x3dfe84(0x52c)]=null,this[_0x3dfe84(0x36e)]&&this['queue'][_0x3dfe84(0x3a4)](),this[_0x3dfe84(0x379)][_0x3dfe84(0x704)](this['instanceName']+'\x20('+this[_0x3dfe84(0x6e8)][_0x3dfe84(0x64c)]+_0x3dfe84(0x424)),await new Promise(_0x58efe0=>setTimeout(_0x58efe0,0x1388)),this[_0x3dfe84(0x379)][_0x3dfe84(0x704)](this[_0x3dfe84(0x88a)]+'\x20('+this[_0x3dfe84(0x6e8)][_0x3dfe84(0x64c)]+'):\x20Iniciando\x20processo\x20de\x20deleção...');let _0x24169a=await this[_0x3dfe84(0x7ae)][_0x3dfe84(0x1a8)]['deleteMany']({},this['instance']['wuid']);if(!_0x24169a[_0x3dfe84(0x8d2)])this[_0x3dfe84(0x379)]['verbose'](this[_0x3dfe84(0x88a)]+'\x20('+this[_0x3dfe84(0x6e8)][_0x3dfe84(0x64c)]+_0x3dfe84(0x4c5)),this['logger'][_0x3dfe84(0x704)](this[_0x3dfe84(0x88a)]+'\x20('+this[_0x3dfe84(0x6e8)]['wuid']+_0x3dfe84(0x3e7)),await new Promise(_0x1b39c4=>setTimeout(_0x1b39c4,0x1388)),this[_0x3dfe84(0x6e8)][_0x3dfe84(0x729)]['isConnected']=!0x0,this['logger'][_0x3dfe84(0x704)](this[_0x3dfe84(0x88a)]+'\x20('+this[_0x3dfe84(0x6e8)]['wuid']+_0x3dfe84(0x4a2)),this[_0x3dfe84(0x1fe)]();else throw new Error(_0x24169a[_0x3dfe84(0x8d2)]['message']||_0x3dfe84(0x5e6));return this[_0x3dfe84(0x433)]();}catch(_0x477d5d){let _0x47a12e=_0x3dfe84(0x18b),_0x799b02=_0x477d5d instanceof Error?_0x477d5d[_0x3dfe84(0x36a)]:typeof _0x477d5d==_0x3dfe84(0x3f1)?JSON['stringify'](_0x477d5d):_0x477d5d,_0x4817e2=_0x47a12e+':\x20'+_0x799b02;throw this['logger'][_0x3dfe84(0x8d2)](this['instanceName']+'\x20('+this[_0x3dfe84(0x6e8)][_0x3dfe84(0x64c)]+_0x3dfe84(0x280)+_0x4817e2),new m(_0x4817e2);}}async[a0_0x466431(0x433)](){const _0x2f3af0=a0_0x466431;try{return await this[_0x2f3af0(0x7ae)]['scheduleMessage'][_0x2f3af0(0x5a4)]({'where':{}},this['instance']['wuid']);}catch(_0x2b7f20){let _0x11ae94='Erro\x20ao\x20buscar\x20Schedule\x20Messages',_0x4ae4a8=_0x2b7f20 instanceof Error?_0x2b7f20['message']:typeof _0x2b7f20==_0x2f3af0(0x3f1)?JSON[_0x2f3af0(0x66f)](_0x2b7f20):_0x2b7f20,_0x286cc8=_0x11ae94+':\x20'+_0x4ae4a8;throw this[_0x2f3af0(0x379)][_0x2f3af0(0x8d2)](this[_0x2f3af0(0x88a)]+'\x20('+this[_0x2f3af0(0x6e8)][_0x2f3af0(0x64c)]+'):\x20'+_0x286cc8),new m(_0x286cc8);}}[a0_0x466431(0x3eb)](_0x454900){const _0x3708c1=a0_0x466431;_0x454900[_0x3708c1(0x4e0)]((_0x474fbf,_0x37c9a5)=>_0x474fbf[_0x3708c1(0x244)]-_0x37c9a5[_0x3708c1(0x244)]),_0x454900[_0x3708c1(0x4fe)]((_0xb940d4,_0x2e7cb0)=>{const _0x4e1f2b=_0x3708c1;_0xb940d4[_0x4e1f2b(0x244)]=_0x2e7cb0+0x1;});}async[a0_0x466431(0x700)](_0x449079,_0x50adbe){const _0x1e4f02=a0_0x466431;try{if(!_0x50adbe)return this[_0x1e4f02(0x379)][_0x1e4f02(0x8d2)](this[_0x1e4f02(0x88a)]+'\x20('+this[_0x1e4f02(0x6e8)]['wuid']+_0x1e4f02(0x1fa)),{'error':!0x0,'detail':_0x1e4f02(0x6d9)};if(_0x50adbe[_0x1e4f02(0x688)]===_0x1e4f02(0x686)&&!this[_0x1e4f02(0x782)]?.[_0x1e4f02(0x6de)]['enabled'])return this[_0x1e4f02(0x379)][_0x1e4f02(0x8d2)](this['instanceName']+'\x20('+this[_0x1e4f02(0x6e8)]['wuid']+_0x1e4f02(0x1da)),{'error':!0x0,'detail':_0x1e4f02(0x23f)};switch(_0x50adbe[_0x1e4f02(0x688)]){case _0x1e4f02(0x6d0):return await this['scheduleSendText'](_0x50adbe,_0x449079);case'video':case _0x1e4f02(0x615):case _0x1e4f02(0x63f):return await this[_0x1e4f02(0x489)](_0x50adbe,_0x449079);case'audio':return await this[_0x1e4f02(0x604)](_0x50adbe,_0x449079);case'flow':let _0x20a542=new ze();return _0x20a542[_0x1e4f02(0x8d9)]=_0x50adbe[_0x1e4f02(0x686)],_0x20a542[_0x1e4f02(0x84e)]=_0x449079,await this[_0x1e4f02(0x6e9)](_0x20a542);default:return this['logger']['error'](this[_0x1e4f02(0x88a)]+'\x20('+this['instance']['wuid']+_0x1e4f02(0x394)+_0x50adbe[_0x1e4f02(0x688)]),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x206e96){return this[_0x1e4f02(0x379)][_0x1e4f02(0x8d2)](this[_0x1e4f02(0x88a)]+'\x20('+this['instance'][_0x1e4f02(0x64c)]+_0x1e4f02(0x320)+(_0x206e96 instanceof Error?_0x206e96[_0x1e4f02(0x36a)]:JSON[_0x1e4f02(0x66f)](_0x206e96,null,0x2))),{'error':!0x0,'detail':_0x206e96[_0x1e4f02(0x36a)]};}}async['scheduleSendText'](_0x540cd2,_0x54639a){const _0x69da5d=a0_0x466431;if(this[_0x69da5d(0x379)][_0x69da5d(0x704)](this[_0x69da5d(0x88a)]+'\x20('+this['instance'][_0x69da5d(0x64c)]+_0x69da5d(0x38f)+_0x54639a+'\x27'),!_0x540cd2['text']||_0x540cd2['text'][_0x69da5d(0x3d4)]===0x0)return{'error':!0x0,'detail':_0x69da5d(0x2af)};let _0x46fc01=await this[_0x69da5d(0x61c)](_0x540cd2[_0x69da5d(0x6d0)],_0x54639a),_0x27f0ed={'number':_0x54639a,'options':{'delay':_0x540cd2[_0x69da5d(0x8c9)],'linkPreview':_0x540cd2[_0x69da5d(0x3c4)]},'textMessage':{'text':_0x46fc01}},_0x52bf7a=null;try{let _0xd7a2c9=await this['textMessage'](_0x27f0ed);if(_0xd7a2c9&&_0xd7a2c9[_0x69da5d(0x309)])return{'error':!0x1,'id':_0xd7a2c9[_0x69da5d(0x714)]['id']};_0x52bf7a=JSON[_0x69da5d(0x66f)](_0xd7a2c9),this[_0x69da5d(0x379)]['verbose'](this[_0x69da5d(0x88a)]+'\x20('+this['instance'][_0x69da5d(0x64c)]+_0x69da5d(0x280)+_0x52bf7a);}catch(_0x16d836){this[_0x69da5d(0x379)][_0x69da5d(0x8d2)](this[_0x69da5d(0x88a)]+'\x20('+this[_0x69da5d(0x6e8)][_0x69da5d(0x64c)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x16d836 instanceof Error?_0x16d836[_0x69da5d(0x36a)]:JSON['stringify'](_0x16d836,null,0x2))),_0x52bf7a=_0x16d836[_0x69da5d(0x36a)];}if(_0x52bf7a)return{'error':!0x0,'detail':(typeof _0x52bf7a=='object'?JSON[_0x69da5d(0x66f)](_0x52bf7a,null,0x2):_0x52bf7a)[_0x69da5d(0x783)](/[\[\]{}\n]/g,'\x20')[_0x69da5d(0x783)](/  +/g,'\x20')};}async[a0_0x466431(0x489)](_0x5ac64e,_0x476953){const _0x1b8e71=a0_0x466431;this[_0x1b8e71(0x379)][_0x1b8e71(0x704)](this[_0x1b8e71(0x88a)]+'\x20('+this[_0x1b8e71(0x6e8)]['wuid']+_0x1b8e71(0x3da)+_0x476953+'\x27');let _0x5de8f8;_0x5ac64e[_0x1b8e71(0x6d0)]&&_0x5ac64e[_0x1b8e71(0x6d0)][_0x1b8e71(0x3d4)]>0x0&&(_0x5de8f8=await this[_0x1b8e71(0x61c)](_0x5ac64e[_0x1b8e71(0x6d0)],_0x476953));let _0x3eabde={'number':_0x476953,'options':{'delay':_0x5ac64e[_0x1b8e71(0x8c9)],'linkPreview':_0x5ac64e[_0x1b8e71(0x3c4)]},'mediaMessage':{'mediatype':_0x5ac64e[_0x1b8e71(0x688)],'caption':_0x5de8f8,'media':_0x5ac64e[_0x1b8e71(0x4b9)]}},_0x434eda=null;try{let _0x415384=await this[_0x1b8e71(0x4cf)](_0x3eabde);if(_0x415384&&_0x415384[_0x1b8e71(0x309)])return{'error':!0x1,'id':_0x415384[_0x1b8e71(0x714)]['id']};_0x434eda=JSON[_0x1b8e71(0x66f)](_0x415384),this[_0x1b8e71(0x379)][_0x1b8e71(0x704)](this['instanceName']+'\x20('+this[_0x1b8e71(0x6e8)]['wuid']+_0x1b8e71(0x280)+_0x434eda);}catch(_0x192976){this[_0x1b8e71(0x379)]['error'](this['instanceName']+'\x20('+this[_0x1b8e71(0x6e8)]['wuid']+_0x1b8e71(0x385)+(_0x192976 instanceof Error?_0x192976['message']:JSON[_0x1b8e71(0x66f)](_0x192976,null,0x2))),_0x434eda=_0x192976[_0x1b8e71(0x36a)];}if(_0x434eda)return{'error':!0x0,'detail':(typeof _0x434eda==_0x1b8e71(0x3f1)?JSON[_0x1b8e71(0x66f)](_0x434eda,null,0x2):_0x434eda)[_0x1b8e71(0x783)](/[\[\]{}\n]/g,'\x20')[_0x1b8e71(0x783)](/  +/g,'\x20')};}async[a0_0x466431(0x604)](_0x36304e,_0x7d0b02){const _0x5b4d7e=a0_0x466431;this[_0x5b4d7e(0x379)][_0x5b4d7e(0x704)](this['instanceName']+'\x20('+this['instance'][_0x5b4d7e(0x64c)]+_0x5b4d7e(0x5f6)+_0x7d0b02+'\x27');let _0x1e389a={'number':_0x7d0b02,'options':{'delay':_0x36304e[_0x5b4d7e(0x8c9)]},'audioMessage':{'audio':_0x36304e[_0x5b4d7e(0x4b9)]}},_0x5c5957=null;try{let _0x502c59=await this[_0x5b4d7e(0x59b)](_0x1e389a);if(_0x502c59&&_0x502c59[_0x5b4d7e(0x309)])return{'error':!0x1,'id':_0x502c59[_0x5b4d7e(0x714)]['id']};_0x5c5957=JSON[_0x5b4d7e(0x66f)](_0x502c59),this[_0x5b4d7e(0x379)]['verbose'](this[_0x5b4d7e(0x88a)]+'\x20('+this[_0x5b4d7e(0x6e8)][_0x5b4d7e(0x64c)]+_0x5b4d7e(0x280)+_0x5c5957);}catch(_0x3989f7){this['logger']['error'](this['instanceName']+'\x20('+this['instance'][_0x5b4d7e(0x64c)]+_0x5b4d7e(0x899)+(_0x3989f7 instanceof Error?_0x3989f7[_0x5b4d7e(0x36a)]:JSON['stringify'](_0x3989f7,null,0x2))),_0x5c5957=_0x3989f7[_0x5b4d7e(0x36a)];}if(_0x5c5957)return{'error':!0x0,'detail':(typeof _0x5c5957==_0x5b4d7e(0x3f1)?JSON[_0x5b4d7e(0x66f)](_0x5c5957,null,0x2):_0x5c5957)[_0x5b4d7e(0x783)](/[\[\]{}\n]/g,'\x20')[_0x5b4d7e(0x783)](/  +/g,'\x20')};}async[a0_0x466431(0x668)](_0x57135d){const _0x5c7467=a0_0x466431;try{return await this['client'][_0x5c7467(0x2e4)](_0x57135d[_0x5c7467(0x8ec)],_0x57135d['description']),{'update':_0x5c7467(0x4f7)};}catch(_0x10ec54){let _0x17ab68=_0x5c7467(0x20b),_0x339ae8=_0x10ec54 instanceof Error?_0x10ec54[_0x5c7467(0x36a)]:typeof _0x10ec54=='object'?JSON['stringify'](_0x10ec54):_0x10ec54,_0x3b3197=_0x17ab68+':\x20'+_0x339ae8;throw this[_0x5c7467(0x379)][_0x5c7467(0x8d2)](this[_0x5c7467(0x88a)]+'\x20('+this[_0x5c7467(0x6e8)][_0x5c7467(0x64c)]+_0x5c7467(0x280)+_0x3b3197),new x(_0x3b3197);}}async[a0_0x466431(0x7d5)](_0xedd462){const _0x4b6e67=a0_0x466431;try{return await this[_0x4b6e67(0x5a1)]['groupUpdateSubject'](_0xedd462[_0x4b6e67(0x8ec)],_0xedd462[_0x4b6e67(0x8d9)]),{'update':_0x4b6e67(0x4f7)};}catch(_0xaf89c5){let _0x293ffc='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',_0x1b4ea0=_0xaf89c5 instanceof Error?_0xaf89c5[_0x4b6e67(0x36a)]:typeof _0xaf89c5==_0x4b6e67(0x3f1)?JSON['stringify'](_0xaf89c5):_0xaf89c5,_0x2811de=_0x293ffc+':\x20'+_0x1b4ea0;throw this[_0x4b6e67(0x379)][_0x4b6e67(0x8d2)](this['instanceName']+'\x20('+this[_0x4b6e67(0x6e8)][_0x4b6e67(0x64c)]+'):\x20'+_0x2811de),new x(_0x2811de);}}async[a0_0x466431(0x519)](_0x17912b){const _0x2e740f=a0_0x466431;try{let _0x5a354a=await this[_0x2e740f(0x5a1)][_0x2e740f(0x588)](_0x17912b['groupJid'],_0x17912b[_0x2e740f(0x85f)]);return{'success':!0x0};}catch(_0x110d3f){let _0x2089bc=_0x2e740f(0x83b),_0x226d0d=_0x110d3f instanceof Error?_0x110d3f[_0x2e740f(0x36a)]:typeof _0x110d3f==_0x2e740f(0x3f1)?JSON[_0x2e740f(0x66f)](_0x110d3f):_0x110d3f,_0x9b230a=_0x2089bc+':\x20'+_0x226d0d;throw this[_0x2e740f(0x379)][_0x2e740f(0x8d2)](this[_0x2e740f(0x88a)]+'\x20('+this[_0x2e740f(0x6e8)][_0x2e740f(0x64c)]+_0x2e740f(0x280)+_0x9b230a),new x(_0x9b230a);}}async[a0_0x466431(0x2ad)](_0x16bdf1){const _0x2f9982=a0_0x466431;try{return await this[_0x2f9982(0x5a1)][_0x2f9982(0x73d)](_0x16bdf1[_0x2f9982(0x8ec)],_0x16bdf1[_0x2f9982(0x52d)]),{'update':_0x2f9982(0x4f7)};}catch(_0x489c3d){let _0x5b395b=_0x2f9982(0x1bc),_0xbd21cc=_0x489c3d instanceof Error?_0x489c3d[_0x2f9982(0x36a)]:typeof _0x489c3d==_0x2f9982(0x3f1)?JSON[_0x2f9982(0x66f)](_0x489c3d):_0x489c3d,_0x166fdc=_0x5b395b+':\x20'+_0xbd21cc;throw this[_0x2f9982(0x379)][_0x2f9982(0x8d2)](this[_0x2f9982(0x88a)]+'\x20('+this[_0x2f9982(0x6e8)][_0x2f9982(0x64c)]+'):\x20'+_0x166fdc),new x(_0x166fdc);}}async[a0_0x466431(0x87d)](_0x498ae7){const _0x5d654b=a0_0x466431;try{let _0x1ddf35;if((0x0,J['isURL'])(_0x498ae7[_0x5d654b(0x615)])){let _0x5e8da7=new Date()[_0x5d654b(0x50a)](),_0x1874f3=_0x498ae7['image']+_0x5d654b(0x572)+_0x5e8da7;_0x1ddf35=(await K[_0x5d654b(0x525)][_0x5d654b(0x438)](_0x1874f3,{'responseType':_0x5d654b(0x303)}))[_0x5d654b(0x4a7)];}else{if((0x0,J[_0x5d654b(0x803)])(_0x498ae7[_0x5d654b(0x615)]))_0x1ddf35=Buffer[_0x5d654b(0x847)](_0x498ae7[_0x5d654b(0x615)],_0x5d654b(0x907));else throw new m(_0x5d654b(0x516));}return await this['client'][_0x5d654b(0x396)](_0x498ae7[_0x5d654b(0x8ec)],_0x1ddf35),{'update':_0x5d654b(0x4f7)};}catch(_0x52375b){let _0x391b30=_0x5d654b(0x39a),_0x3a3b9d=_0x52375b instanceof Error?_0x52375b[_0x5d654b(0x36a)]:typeof _0x52375b==_0x5d654b(0x3f1)?JSON['stringify'](_0x52375b):_0x52375b,_0x541804=_0x391b30+':\x20'+_0x3a3b9d;throw this[_0x5d654b(0x379)][_0x5d654b(0x8d2)](this[_0x5d654b(0x88a)]+'\x20('+this[_0x5d654b(0x6e8)][_0x5d654b(0x64c)]+_0x5d654b(0x280)+_0x541804),new x(_0x541804);}}},jt=class u{constructor(_0x3dd4f6,_0x36e96e,_0x1900c8){const _0x69ed7f=a0_0x466431;this[_0x69ed7f(0x7c9)]=_0x3dd4f6,this[_0x69ed7f(0x338)]=_0x36e96e,this[_0x69ed7f(0x7ae)]=_0x1900c8,this['db']={},this[_0x69ed7f(0x5c5)]={},this['logger']=new $(u[_0x69ed7f(0x8d9)]),this[_0x69ed7f(0x427)]={},(this[_0x69ed7f(0x2d9)](),this['noConnection'](),Object[_0x69ed7f(0x25a)](this['db'],_0x36e96e['get'](_0x69ed7f(0x432))),Object[_0x69ed7f(0x25a)](this[_0x69ed7f(0x5c5)],_0x36e96e[_0x69ed7f(0x438)]('REDIS')),this[_0x69ed7f(0x667)]=this['db']['ENABLED']?this['repository']['dbServer']?.['db'](this['db'][_0x69ed7f(0x1fc)][_0x69ed7f(0x3b8)]+_0x69ed7f(0x745)):void 0x0,this[_0x69ed7f(0x335)]=this[_0x69ed7f(0x5c5)][_0x69ed7f(0x613)]?new ue(this['redis']):void 0x0);}async[a0_0x466431(0x1dc)](_0x4791da){const _0x548426=a0_0x466431;if(_0x4791da&&!this[_0x548426(0x427)][_0x4791da])throw new U('Instance\x20\x22'+_0x4791da+_0x548426(0x88d));let _0x235e8e=[];for await(let [_0x5e5e93,_0x1e2b5f]of Object[_0x548426(0x3b3)](this[_0x548426(0x427)]))if(_0x1e2b5f&&_0x1e2b5f[_0x548426(0x381)][_0x548426(0x510)]===_0x548426(0x70d)){let _0x484298=await this[_0x548426(0x7ae)][_0x548426(0x3f0)]['find'](_0x5e5e93);_0x235e8e['push']({'instance':{'instanceName':_0x5e5e93,'apikey':_0x484298[_0x548426(0x3a8)],'owner':_0x1e2b5f['wuid'],'profileName':await _0x1e2b5f[_0x548426(0x532)]()||_0x548426(0x1e9),'profilePictureUrl':_0x1e2b5f['profilePictureUrl']}});}return _0x235e8e[_0x548426(0x5a4)](_0x157e99=>_0x157e99[_0x548426(0x6e8)][_0x548426(0x88a)]===_0x4791da)??_0x235e8e;}async[a0_0x466431(0x855)](_0x5614a0){const _0x36a97e=a0_0x466431;if(this['db']['ENABLED']&&(await this['repository'][_0x36a97e(0x7fc)]['connect'](),(await this[_0x36a97e(0x667)][_0x36a97e(0x5f0)]())[_0x36a97e(0x3d4)]>0x0&&await this[_0x36a97e(0x667)][_0x36a97e(0x221)](_0x5614a0)),this[_0x36a97e(0x5c5)]['ENABLED']){this[_0x36a97e(0x335)][_0x36a97e(0x6bf)]=_0x5614a0,await this[_0x36a97e(0x335)][_0x36a97e(0x399)]();return;}}async[a0_0x466431(0x2d8)](){const _0x48f9db=a0_0x466431;await this[_0x48f9db(0x217)]();let _0x55d14d=async _0x17b58c=>{const _0x291e9d=_0x48f9db;let _0x50f835=new $e(this[_0x291e9d(0x338)],this[_0x291e9d(0x7c9)],this[_0x291e9d(0x7ae)]);_0x50f835[_0x291e9d(0x88a)]=_0x17b58c,await _0x50f835[_0x291e9d(0x43d)](),this[_0x291e9d(0x427)][_0x17b58c]=_0x50f835;};try{if(this[_0x48f9db(0x5c5)]['ENABLED']){let _0x97a31e=await this[_0x48f9db(0x335)]['instanceKeys']();_0x97a31e?.[_0x48f9db(0x3d4)]>0x0&&_0x97a31e[_0x48f9db(0x4fe)](async _0x4ccdc4=>await _0x55d14d(_0x4ccdc4['split'](':')[0x1]));return;}if(this['db'][_0x48f9db(0x613)]){await this[_0x48f9db(0x7ae)]['dbServer']['connect']();let _0x1dc33b=await this[_0x48f9db(0x667)][_0x48f9db(0x5f0)]();_0x1dc33b[_0x48f9db(0x3d4)]>0x0&&_0x1dc33b[_0x48f9db(0x4fe)](async _0x48960e=>await _0x55d14d(_0x48960e[_0x48f9db(0x57f)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x59ca9d){this[_0x48f9db(0x379)][_0x48f9db(0x8d2)](_0x59ca9d);}}async['cleanDisconnectedInstances'](){const _0x1e9f5d=a0_0x466431;try{let _0x5af60f=await this[_0x1e9f5d(0x7ae)][_0x1e9f5d(0x3f0)]['findMany']({'online':!0x1});console[_0x1e9f5d(0x913)](_0x1e9f5d(0x476)+_0x5af60f[_0x1e9f5d(0x3d4)]);let _0x2d642b={'online':!0x1},_0x2e7544=await this['repository'][_0x1e9f5d(0x3f0)][_0x1e9f5d(0x25e)](_0x2d642b);console[_0x1e9f5d(0x913)]('Instâncias\x20removidas:\x20'+_0x2e7544[_0x1e9f5d(0x702)]);}catch(_0x4e4405){console[_0x1e9f5d(0x8d2)](_0x1e9f5d(0x2b0),_0x4e4405);}}async[a0_0x466431(0x217)](){const _0x484aa8=a0_0x466431;try{let _0x588972={'online':!0x1},_0x970f09={'online':!0x1,'lastDisconnect':Date[_0x484aa8(0x283)]()},_0x369bc6=await this[_0x484aa8(0x7ae)][_0x484aa8(0x3f0)][_0x484aa8(0x7e6)](_0x588972,_0x970f09);await this[_0x484aa8(0x327)]();}catch(_0x16b1f2){console[_0x484aa8(0x8d2)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x16b1f2);}}['removeInstance'](){const _0x6b6b94=a0_0x466431;this[_0x6b6b94(0x7c9)]['on'](_0x6b6b94(0x71e),async _0x49466a=>{const _0x7d3940=_0x6b6b94;try{this['waInstances'][_0x49466a]=void 0x0;}catch{}try{this['cleaningUp'](_0x49466a);}finally{this['logger']['warn'](_0x7d3940(0x53d)+_0x49466a+_0x7d3940(0x7e7));}});}[a0_0x466431(0x843)](){this['eventEmitter']['on']('no.connection',async _0x1818b1=>{const _0x7e7125=a0_0x192a;try{this['waInstances'][_0x1818b1]=void 0x0;}catch{}try{this[_0x7e7125(0x855)](_0x1818b1);}finally{this['logger']['warn']('Instance\x20\x22'+_0x1818b1+_0x7e7125(0x733));}});}},Jt=class extends O{[a0_0x466431(0x56b)](_0x22c97b){return ta(_0x22c97b);}async[a0_0x466431(0x23c)](_0x4741a7){const _0x408bbc=a0_0x466431;if(_0x4741a7[_0x408bbc(0x3d4)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x4741a7[0x0][_0x408bbc(0x3ea)])[_0x408bbc(0x81b)]([..._0x4741a7]))[_0x408bbc(0x3d4)]};}catch(_0xa5dc4c){return _0xa5dc4c;}}async['find'](_0x53f86b,_0x2e9856){const _0x5a1379=a0_0x466431;try{let _0x426edc=this[_0x5a1379(0x56b)](_0x2e9856),_0x1b4998=A(_0x53f86b['where']);return await _0x426edc[_0x5a1379(0x5a4)](_0x1b4998)[_0x5a1379(0x4e0)]({'lastmsg':-0x1})[_0x5a1379(0x29d)](_0x53f86b?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x466431(0x5a9)](_0x316733,_0x382faf){const _0x890609=a0_0x466431;try{let _0x25cd05=this[_0x890609(0x56b)](_0x382faf),_0x356d01=A(_0x316733[_0x890609(0x186)]);return _0x356d01[_0x890609(0x1b5)]={'$ne':[]},await _0x25cd05[_0x890609(0x5a4)](_0x356d01)[_0x890609(0x4e0)]({'lastmsg':-0x1})[_0x890609(0x29d)](_0x316733?.[_0x890609(0x29d)]??0x0)[_0x890609(0x442)]();}catch{return[];}}async[a0_0x466431(0x384)](_0x1c1357,_0x5274e0){const _0x51afad=a0_0x466431;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x5274e0)[_0x51afad(0x25e)]({..._0x1c1357['where']}))['deletedCount']};}catch(_0x410916){return{'error':_0x410916?.[_0x51afad(0x1d0)]()};}}async[a0_0x466431(0x1f6)](_0x12a0c7,_0x5e960e){const _0x354b24=a0_0x466431;try{return await this['getChatModelForOwner'](_0x5e960e)[_0x354b24(0x25e)]({..._0x12a0c7[_0x354b24(0x186)]}),[];}catch(_0x120ed1){return{'error':_0x120ed1?.[_0x354b24(0x1d0)]()};}}async[a0_0x466431(0x2c9)](_0x248f21,_0x470a98){const _0xe5a811=a0_0x466431;try{let _0x44e25d=this['getChatModelForOwner'](_0x470a98),_0x3f04b0=A(_0x248f21[_0xe5a811(0x186)]);return await _0x44e25d[_0xe5a811(0x2c9)](_0x3f04b0)['lean']();}catch{return null;}}async[a0_0x466431(0x86c)](_0x22c1b6,_0xa1494d,_0x39ed21,_0x21ec0c,_0x468df8=a0_0x466431(0x72d)){const _0x43de43=a0_0x466431;try{let _0x533866={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x21ec0c},_0x54e6ca=this[_0x43de43(0x56b)](_0x39ed21),_0x4f795b=A(_0x22c1b6['where']);Object[_0x43de43(0x7c4)](_0xa1494d)['forEach'](_0x12da7b=>{_0xa1494d[_0x12da7b]==null&&delete _0xa1494d[_0x12da7b];});let _0x5bcc25={};return _0x5bcc25[_0x468df8]=_0xa1494d,await _0x54e6ca[_0x43de43(0x886)](_0x4f795b,_0x5bcc25,_0x533866);}catch(_0x1bda2f){return console[_0x43de43(0x8d2)](_0x1bda2f),null;}}async[a0_0x466431(0x555)](_0x19d3f5){const _0x33a736=a0_0x466431;try{let _0x2d3157=this[_0x33a736(0x56b)](_0x19d3f5[0x0][_0x33a736(0x41c)][_0x33a736(0x186)][_0x33a736(0x3ea)]),_0x28eb3c=_0x19d3f5[_0x33a736(0x1e8)](_0x420d94=>({'updateOne':{'filter':{..._0x420d94[_0x33a736(0x41c)][_0x33a736(0x186)]},'update':{'$set':_0x420d94[_0x33a736(0x42a)]},'upsert':!0x0}})),_0x25cd77=await _0x2d3157[_0x33a736(0x235)](_0x28eb3c);return _0x25cd77[_0x33a736(0x2bb)]+_0x25cd77[_0x33a736(0x7ce)];}catch(_0x57ce70){return console[_0x33a736(0x8d2)](_0x57ce70),0x0;}}async[a0_0x466431(0x3c9)](_0xf6fa64){const _0x8f6a79=a0_0x466431;try{let _0x19571a={'group_isCommunity':'','group_announce':'','group_size':''},_0x281220={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x18bc44={'$unset':_0x19571a};return(await this[_0x8f6a79(0x56b)](_0xf6fa64)[_0x8f6a79(0x555)](_0x281220,_0x18bc44))['modifiedCount'];}catch(_0x4fa6ad){return console['error'](_0x8f6a79(0x5e5),_0x4fa6ad),0x0;}}async[a0_0x466431(0x5d1)](_0xb55d6c){const _0x38c26e=a0_0x466431;try{let _0x2811af=this[_0x38c26e(0x56b)](_0xb55d6c),_0x98df87={'leadInfo.etiquetas':{'$exists':!0x1}},_0x3b1017={'$set':{'leadInfo.etiquetas':[]}};return(await _0x2811af[_0x38c26e(0x555)](_0x98df87,_0x3b1017))[_0x38c26e(0x2bb)];}catch(_0x380e09){return console[_0x38c26e(0x8d2)](_0x380e09),0x0;}}async['updateMissingTags'](_0xc88e9b){const _0x3b4ebd=a0_0x466431;try{let _0xe0d4cd=this[_0x3b4ebd(0x56b)](_0xc88e9b),_0x524b94={'leadInfo.tags':{'$exists':!0x1}},_0x1ceee0={'$set':{'leadInfo.tags':[]}};return(await _0xe0d4cd[_0x3b4ebd(0x555)](_0x524b94,_0x1ceee0))[_0x3b4ebd(0x2bb)];}catch(_0x6d4dac){return console[_0x3b4ebd(0x8d2)](_0x6d4dac),0x0;}}async[a0_0x466431(0x536)](_0x38c808){const _0x4bb5c2=a0_0x466431;try{let _0xba93fe=this[_0x4bb5c2(0x56b)](_0x38c808),_0x5b4eb8={'leadInfo.customFields':{'$exists':!0x1}},_0x4e967f={'$set':{'leadInfo.customFields':[]}};return(await _0xba93fe[_0x4bb5c2(0x555)](_0x5b4eb8,_0x4e967f))[_0x4bb5c2(0x2bb)];}catch(_0x52791a){return console[_0x4bb5c2(0x8d2)](_0x52791a),0x0;}}async[a0_0x466431(0x81b)](_0x18b9be,_0xf204ed){const _0x7ace80=a0_0x466431;if(!Array[_0x7ace80(0x27b)](_0x18b9be)||_0x18b9be[_0x7ace80(0x3d4)]===0x0)throw new Error(_0x7ace80(0x425));try{return(await this[_0x7ace80(0x56b)](_0xf204ed)['insertMany'](_0x18b9be))[_0x7ace80(0x3d4)];}catch(_0x3c08f8){throw console['error'](_0x7ace80(0x37e),_0x3c08f8),_0x3c08f8;}}async['deleteChat'](_0x1ad07b,_0x4059e3){const _0x114caa=a0_0x466431;try{await this[_0x114caa(0x56b)](_0x4059e3)[_0x114caa(0x450)]({'_id':_0x1ad07b});}catch(_0x5f1a9d){throw console[_0x114caa(0x8d2)](_0x114caa(0x231),_0x5f1a9d),_0x5f1a9d;}}},qt=class extends O{constructor(_0x52bf7c,_0xdfbd98,_0x2eaa92){const _0x160a31=a0_0x466431;super(_0xdfbd98),this[_0x160a31(0x4a0)]=_0x52bf7c,this[_0x160a31(0x338)]=_0xdfbd98,this[_0x160a31(0x257)]=_0x2eaa92;}async[a0_0x466431(0x23c)](_0x3e76f5){const _0x8eab48=a0_0x466431;if(_0x3e76f5[_0x8eab48(0x3d4)]!==0x0)try{return{'insertCount':(await this[_0x8eab48(0x4a0)][_0x8eab48(0x81b)]([..._0x3e76f5]))[_0x8eab48(0x3d4)]};}catch(_0x4c5386){return _0x4c5386;}}async['update'](_0x46e4c4,_0xf1bb83){const _0x13c0a0=a0_0x466431;try{let _0x370422=A(_0x46e4c4[_0x13c0a0(0x186)]);return{'updatedCount':(await this['cacheContactModel']['updateMany'](_0x370422,{'$set':_0xf1bb83}))[_0x13c0a0(0x2bb)]};}catch(_0xc2322f){return console[_0x13c0a0(0x8d2)](_0x13c0a0(0x318),_0xc2322f),{'error':_0xc2322f[_0x13c0a0(0x1d0)]()};}}async[a0_0x466431(0x3b6)](_0x4e3ace){const _0x47fbd9=a0_0x466431;try{let _0x1e02c1={'_id':{'$in':_0x4e3ace}};return await this[_0x47fbd9(0x4a0)]['find'](_0x1e02c1)[_0x47fbd9(0x442)]();}catch(_0x29640a){return console[_0x47fbd9(0x8d2)](_0x47fbd9(0x91d),_0x29640a),[];}}async[a0_0x466431(0x384)](_0x1016f9){const _0x5e35f8=a0_0x466431;try{return{'deletedCount':(await this[_0x5e35f8(0x4a0)][_0x5e35f8(0x25e)]({..._0x1016f9[_0x5e35f8(0x186)]}))[_0x5e35f8(0x8d6)]};}catch(_0xfd6d2b){return{'error':_0xfd6d2b?.['toString']()};}}async[a0_0x466431(0x5a4)](_0x4ed94){const _0x27d495=a0_0x466431;try{let _0x53c9b2=A(_0x4ed94['where']);return await this[_0x27d495(0x4a0)]['find'](_0x53c9b2)[_0x27d495(0x29d)](_0x4ed94?.[_0x27d495(0x29d)]??0x0)[_0x27d495(0x442)]();}catch{return[];}}async[a0_0x466431(0x2c9)](_0x364f31){const _0x19e5d2=a0_0x466431;try{let _0x3e89af=A(_0x364f31[_0x19e5d2(0x186)]);return await this['cacheContactModel'][_0x19e5d2(0x2c9)](_0x3e89af)[_0x19e5d2(0x442)]();}catch{return null;}}},Vt=class extends O{constructor(_0x1803df,_0x835deb,_0x1eb01f){const _0x579cfe=a0_0x466431;super(_0x835deb),this['messageLogsModel']=_0x1803df,this[_0x579cfe(0x338)]=_0x835deb,this[_0x579cfe(0x257)]=_0x1eb01f;}async[a0_0x466431(0x23c)](_0x1e17c8){const _0x162aef=a0_0x466431;if(_0x1e17c8[_0x162aef(0x3d4)]!==0x0)try{return{'insertCount':(await this['messageLogsModel'][_0x162aef(0x81b)]([..._0x1e17c8]))['length']};}catch(_0x3b2a3f){return _0x3b2a3f;}}async['update'](_0x275dbe,_0x4b625f){const _0x3f6c3a=a0_0x466431;try{let _0x4cbbc0=A(_0x275dbe[_0x3f6c3a(0x186)]);return{'updatedCount':(await this[_0x3f6c3a(0x260)][_0x3f6c3a(0x555)](_0x4cbbc0,{'$set':_0x4b625f}))[_0x3f6c3a(0x2bb)]};}catch(_0x4dff31){return console[_0x3f6c3a(0x8d2)]('Error\x20updating\x20cache\x20contact:',_0x4dff31),{'error':_0x4dff31[_0x3f6c3a(0x1d0)]()};}}async[a0_0x466431(0x384)](_0xf79f55){const _0x5d7061=a0_0x466431;try{return{'deletedCount':(await this[_0x5d7061(0x260)][_0x5d7061(0x25e)]({..._0xf79f55[_0x5d7061(0x186)]}))[_0x5d7061(0x8d6)]};}catch(_0x26b2ed){return{'error':_0x26b2ed?.[_0x5d7061(0x1d0)]()};}}async[a0_0x466431(0x2c9)](_0x5ed356){const _0x59e190=a0_0x466431;try{let _0x51fe59=A(_0x5ed356[_0x59e190(0x186)]);return await this['messageLogsModel'][_0x59e190(0x2c9)](_0x51fe59)[_0x59e190(0x442)]();}catch{return null;}}},Gt=class extends O{[a0_0x466431(0x43e)](_0x707360){return va(_0x707360);}async['updateOne'](_0x5959dc,_0x20a76d,_0x581705,_0x47377d){const _0x408a22=a0_0x466431;try{let _0x4f7385={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x47377d},_0x5ddffd=this[_0x408a22(0x43e)](_0x581705),_0x1559ba=A(_0x5959dc[_0x408a22(0x186)]);return await _0x5ddffd[_0x408a22(0x886)](_0x1559ba,{'$set':_0x20a76d},_0x4f7385);}catch(_0x5b41ea){return console['error'](_0x5b41ea),null;}}async[a0_0x466431(0x5a4)](_0x10b01c,_0x8c404a){const _0x359ee3=a0_0x466431;try{let _0x462ba7=this[_0x359ee3(0x43e)](_0x8c404a),_0x9a9879=A(_0x10b01c[_0x359ee3(0x186)]);return await _0x462ba7[_0x359ee3(0x5a4)](_0x9a9879);}catch(_0x4772cd){console[_0x359ee3(0x8d2)](_0x4772cd);}}async[a0_0x466431(0x384)](_0x4ba95f,_0x49daf1){const _0x58ad9b=a0_0x466431;try{let _0x23ce9a=this[_0x58ad9b(0x43e)](_0x49daf1),_0x4d0a42=A(_0x4ba95f[_0x58ad9b(0x186)]);await _0x23ce9a['deleteMany'](_0x4d0a42);}catch(_0x26168b){console[_0x58ad9b(0x8d2)](_0x26168b);}}async['deleteAll'](_0x7c87cc){const _0x2216ed=a0_0x466431;try{return await this[_0x2216ed(0x43e)](_0x7c87cc)[_0x2216ed(0x722)][_0x2216ed(0x321)](),{'success':!0x0};}catch(_0x1cc03b){return console[_0x2216ed(0x8d2)](_0x1cc03b),{'success':!0x1,'error':_0x1cc03b};}}},Bt=class{constructor(_0x48a84d){const _0x498a3c=a0_0x466431;this[_0x498a3c(0x8b9)]=_0x48a84d;}async[a0_0x466431(0x48e)]({instanceName:_0x333fe7},_0x5f09c8){const _0x26099e=a0_0x466431;return await this['waMonitor'][_0x26099e(0x427)][_0x333fe7][_0x26099e(0x48e)](_0x5f09c8);}async[a0_0x466431(0x52b)]({instanceName:_0x12eccf},_0xcb19cd){const _0x4008e8=a0_0x466431;return await this[_0x4008e8(0x8b9)][_0x4008e8(0x427)][_0x12eccf][_0x4008e8(0x52b)](_0xcb19cd);}async['importChats']({instanceName:_0x1f08fa},_0x1dc782){const _0x44cb44=a0_0x466431;return await this[_0x44cb44(0x8b9)][_0x44cb44(0x427)][_0x1f08fa]['importChats'](_0x1dc782);}async[a0_0x466431(0x58c)]({instanceName:_0x383058},_0x1b9cc5){const _0x589713=a0_0x466431;return await this[_0x589713(0x8b9)][_0x589713(0x427)][_0x383058][_0x589713(0x7a8)](_0x1b9cc5);}async[a0_0x466431(0x3a7)]({instanceName:_0x2b5ed0},_0x4f9136){const _0x193999=a0_0x466431;return await this[_0x193999(0x8b9)]['waInstances'][_0x2b5ed0][_0x193999(0x3a7)](_0x4f9136);}async['deleteMessage']({instanceName:_0x13359e},_0x293425){const _0x50f39f=a0_0x466431;return await this[_0x50f39f(0x8b9)][_0x50f39f(0x427)][_0x13359e][_0x50f39f(0x19b)](_0x293425);}async[a0_0x466431(0x32d)]({instanceName:_0x467efc},_0x487f44){const _0x2ccf80=a0_0x466431;return await this[_0x2ccf80(0x8b9)][_0x2ccf80(0x427)][_0x467efc][_0x2ccf80(0x2db)](_0x487f44[_0x2ccf80(0x5be)]);}async[a0_0x466431(0x1ed)]({instanceName:_0x5241ac},_0x1ddf57){const _0x2286ab=a0_0x466431;return await this[_0x2286ab(0x8b9)][_0x2286ab(0x427)][_0x5241ac]['fetchProfile'](_0x1ddf57['number']);}async['updatePresence']({instanceName:_0x6159bc},_0xc28816){const _0x1a5fbf=a0_0x466431;return await this[_0x1a5fbf(0x8b9)][_0x1a5fbf(0x427)][_0x6159bc][_0x1a5fbf(0x4b0)](_0xc28816);}async[a0_0x466431(0x915)]({instanceName:_0x319bac},_0x4fc473){const _0x4f5332=a0_0x466431;return await this[_0x4f5332(0x8b9)][_0x4f5332(0x427)][_0x319bac]['fetchContacts'](_0x4fc473);}async['getBase64FromMediaMessage']({instanceName:_0x1a4656},_0x5edca3){const _0x1db8d5=a0_0x466431;return await this[_0x1db8d5(0x8b9)][_0x1db8d5(0x427)][_0x1a4656][_0x1db8d5(0x5d0)](_0x5edca3);}async['fetchMessages']({instanceName:_0x195320},_0x384b13){const _0x5ab404=a0_0x466431;return await this[_0x5ab404(0x8b9)]['waInstances'][_0x195320][_0x5ab404(0x352)](_0x384b13);}async[a0_0x466431(0x3fc)]({instanceName:_0x3ffdcc}){const _0xe2264=a0_0x466431;return await this[_0xe2264(0x8b9)][_0xe2264(0x427)][_0x3ffdcc][_0xe2264(0x3fc)]();}async[a0_0x466431(0x28a)]({instanceName:_0x14d617}){const _0xc9e336=a0_0x466431;return await this['waMonitor'][_0xc9e336(0x427)][_0x14d617][_0xc9e336(0x28a)]();}async[a0_0x466431(0x3bf)]({instanceName:_0x4515cd}){const _0xd07210=a0_0x466431;return await this[_0xd07210(0x8b9)]['waInstances'][_0x4515cd][_0xd07210(0x3bf)]();}async[a0_0x466431(0x6a6)]({instanceName:_0x3ef33c},_0x998a11){const _0x2ae07d=a0_0x466431;return await this[_0x2ae07d(0x8b9)]['waInstances'][_0x3ef33c][_0x2ae07d(0x6a6)](_0x998a11);}async[a0_0x466431(0x36f)]({instanceName:_0x31941c},_0x42cf65){const _0x3e7a25=a0_0x466431;return await this['waMonitor']['waInstances'][_0x31941c][_0x3e7a25(0x36f)](_0x42cf65['number']);}async[a0_0x466431(0x46b)]({instanceName:_0x19f2c4},_0xa83d2b){const _0xdcb1d9=a0_0x466431;return await this[_0xdcb1d9(0x8b9)][_0xdcb1d9(0x427)][_0x19f2c4][_0xdcb1d9(0x46b)](_0xa83d2b['name']);}async['updateProfileStatus']({instanceName:_0x5ea7fa},_0x4e00dd){const _0x3faa1d=a0_0x466431;return await this['waMonitor'][_0x3faa1d(0x427)][_0x5ea7fa][_0x3faa1d(0x435)](_0x4e00dd['status']);}async[a0_0x466431(0x396)]({instanceName:_0x13f4db},_0xf9bd63){const _0x2b95c5=a0_0x466431;return await this[_0x2b95c5(0x8b9)]['waInstances'][_0x13f4db][_0x2b95c5(0x396)](_0xf9bd63[_0x2b95c5(0x721)]);}async[a0_0x466431(0x648)]({instanceName:_0x189a2a},_0x2fbed8){const _0xf29b30=a0_0x466431;return await this[_0xf29b30(0x8b9)]['waInstances'][_0x189a2a][_0xf29b30(0x648)]();}},Wt=require(a0_0x466431(0x799)),zt=class u{constructor(_0x3c1509,_0x5b71a5,_0x3f4638,_0x249db8,_0x860f0a){const _0x11d805=a0_0x466431;this[_0x11d805(0x8b9)]=_0x3c1509,this['configService']=_0x5b71a5,this['repository']=_0x3f4638,this[_0x11d805(0x7c9)]=_0x249db8,this[_0x11d805(0x85a)]=_0x860f0a,this[_0x11d805(0x379)]=new $(u[_0x11d805(0x8d9)]);}async[a0_0x466431(0x835)]({instanceName:_0x499d8b,apikey:_0x1d3891,number:_0x2dabbc,proxy:_0x1663fc=!0x0}){const _0x41a45e=a0_0x466431;try{let _0x187325=new $e(this[_0x41a45e(0x338)],this[_0x41a45e(0x7c9)],this[_0x41a45e(0x7ae)]);_0x187325[_0x41a45e(0x88a)]=_0x499d8b,this[_0x41a45e(0x8b9)][_0x41a45e(0x427)][_0x187325[_0x41a45e(0x88a)]]=_0x187325;let _0x1fc705={};_0x1d3891?(await this['repository']['auth']['create']({'apikey':_0x1d3891},_0x499d8b),_0x1fc705[_0x41a45e(0x3a8)]=_0x1d3891):_0x1fc705=await this['authService']['generateHash']({'instanceName':_0x187325[_0x41a45e(0x88a)]});let _0x2d084e;if(_0x2dabbc){if(_0x2d084e=await this['verifyWhatsAppNumber'](_0x2dabbc),_0x2d084e['error'])throw new x(_0x2d084e[_0x41a45e(0x8d2)][_0x41a45e(0x1d0)]());_0x2dabbc=_0x2d084e[_0x41a45e(0x5be)];}let _0xa11472;return await _0x187325[_0x41a45e(0x43d)](_0x2dabbc),await(0x0,Wt[_0x41a45e(0x8c9)])(0xfa0),_0x2dabbc&&await(0x0,Wt['delay'])(0xbb8),_0xa11472=_0x187325['qrCode'],{'instance':{'instanceName':_0x187325[_0x41a45e(0x88a)],'status':_0x41a45e(0x1b3)},'hash':_0x1fc705,'qrcode':_0xa11472};}catch(_0x48697c){throw this[_0x41a45e(0x379)][_0x41a45e(0x8d2)](_0x48697c),_0x48697c;}}async['connectToWhatsappController']({instanceName:_0x44b28e,number:_0x3df3e1=null}){const _0x5b3326=a0_0x466431;try{let _0x2298f1=this[_0x5b3326(0x8b9)][_0x5b3326(0x427)][_0x44b28e];switch(_0x2298f1?.[_0x5b3326(0x381)]?.['state']){case _0x5b3326(0x8e8):return await _0x2298f1[_0x5b3326(0x43d)](_0x3df3e1),await(0x0,Wt[_0x5b3326(0x8c9)])(0x7d0),_0x2298f1[_0x5b3326(0x7d8)];case _0x5b3326(0x637):return _0x2298f1[_0x5b3326(0x7d8)];default:return await this[_0x5b3326(0x4b4)]({'instanceName':_0x44b28e});}}catch(_0xdac26b){this[_0x5b3326(0x379)][_0x5b3326(0x913)](_0xdac26b);}}async[a0_0x466431(0x4b4)]({instanceName:_0x37d429}){const _0x37b7d1=a0_0x466431;let _0x4a49b1=this[_0x37b7d1(0x8b9)][_0x37b7d1(0x427)][_0x37d429][_0x37b7d1(0x381)],_0x1165bd=null;_0x4a49b1[_0x37b7d1(0x510)]===_0x37b7d1(0x70d)&&_0x37d429&&(_0x1165bd=await this[_0x37b7d1(0x8b9)]['instanceInfo'](_0x37d429));let _0x5b8a81=null;return _0x4a49b1[_0x37b7d1(0x510)]===_0x37b7d1(0x637)&&_0x37d429&&(_0x5b8a81=this[_0x37b7d1(0x8b9)][_0x37b7d1(0x427)][_0x37d429][_0x37b7d1(0x7d8)]),{'instance':_0x37d429,'connectionStatus':_0x4a49b1,'instanceInfo':_0x1165bd,'qrcode':_0x5b8a81};}async[a0_0x466431(0x8f4)](_0x5a6f47){const _0x5af7e7=a0_0x466431;_0x5a6f47=_0x5a6f47[_0x5af7e7(0x783)](/\D/g,'');let _0x1ecb31=Object[_0x5af7e7(0x7c4)](this['waMonitor'][_0x5af7e7(0x427)])[_0x5af7e7(0x189)](_0x461ec2=>{const _0x20fe4e=_0x5af7e7;let _0x32b80f=this[_0x20fe4e(0x8b9)][_0x20fe4e(0x427)][_0x461ec2];return _0x32b80f&&_0x32b80f[_0x20fe4e(0x381)]&&_0x32b80f['connectionStatus'][_0x20fe4e(0x510)]==='open';});if(_0x1ecb31[_0x5af7e7(0x3d4)]===0x0)return{'number':this['formatBRNumber'](_0x5a6f47)};let _0x27e19c=Math[_0x5af7e7(0x1c1)](Math[_0x5af7e7(0x8ce)]()*_0x1ecb31[_0x5af7e7(0x3d4)]),_0x34ce6a=_0x1ecb31[_0x27e19c];try{let _0x141b05=(await this[_0x5af7e7(0x8b9)][_0x5af7e7(0x427)][_0x34ce6a][_0x5af7e7(0x52b)]({'numbers':[_0x5a6f47]}))[_0x5af7e7(0x46c)]();return _0x141b05[_0x5af7e7(0x7b4)]?{'number':_0x141b05[_0x5af7e7(0x6dc)][_0x5af7e7(0x783)](_0x5af7e7(0x4f1),'')}:{'number':_0x5a6f47,'error':_0x5af7e7(0x905)};}catch(_0x21e0dc){return this[_0x5af7e7(0x379)][_0x5af7e7(0x8d2)](_0x5af7e7(0x340)+_0x21e0dc),{'number':_0x5a6f47,'error':_0x5af7e7(0x3d2)};}}[a0_0x466431(0x883)](_0x50e2f0){const _0x404601=a0_0x466431;let _0x46b136=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x404601(0x813)](_0x50e2f0);if(_0x46b136&&_0x46b136[0x1]==='55'){let _0x3f23b3=_0x46b136[0x2],_0x6ecfd0=_0x46b136[0x3],_0xb211ca=_0x46b136[0x4];if(parseInt(_0x3f23b3)>=0x1f&&_0x6ecfd0==='9')return _0x46b136[0x1]+_0x3f23b3+_0xb211ca;}return _0x50e2f0;}async['restartInstance']({instanceName:_0x3f8f86}){const _0x39714c=a0_0x466431;try{return this[_0x39714c(0x8b9)][_0x39714c(0x427)][_0x3f8f86]?.['client']?.['ws']?.[_0x39714c(0x8e8)](),{'status':'SUCCESS','error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x5fbb5f){this['logger'][_0x39714c(0x8d2)](_0x5fbb5f);}}async[a0_0x466431(0x4c4)]({instanceName:_0x3cd2b9}){const _0x31ceca=a0_0x466431;return _0x3cd2b9?this['waMonitor'][_0x31ceca(0x1dc)](_0x3cd2b9):this[_0x31ceca(0x8b9)][_0x31ceca(0x1dc)]();}async[a0_0x466431(0x5a7)]({instanceName:_0x2c5186}){const _0x5e98a7=a0_0x466431;try{return await this['waMonitor']['waInstances'][_0x2c5186]?.[_0x5e98a7(0x5a1)]?.[_0x5e98a7(0x5a7)]('Log\x20out\x20instance:\x20'+_0x2c5186),{'error':!0x1,'message':_0x5e98a7(0x8a2)};}catch(_0x222232){throw new x(_0x222232[_0x5e98a7(0x1d0)]());}}async['deleteInstance']({instanceName:_0x31d9e3}){const _0x4213e0=a0_0x466431;if((await this[_0x4213e0(0x4b4)]({'instanceName':_0x31d9e3}))[_0x4213e0(0x381)][_0x4213e0(0x510)]===_0x4213e0(0x70d))throw new m([_0x4213e0(0x56e),_0x4213e0(0x1c7)]);try{return delete this['waMonitor'][_0x4213e0(0x427)][_0x31d9e3],{'error':!0x1,'message':_0x4213e0(0x3b4)};}catch(_0x548001){throw new m(_0x548001[_0x4213e0(0x1d0)]());}}},re=require(a0_0x466431(0x68e)),Ht=class{constructor(_0x23e97b){const _0x451334=a0_0x466431;this[_0x451334(0x8b9)]=_0x23e97b;}async[a0_0x466431(0x909)]({instanceName:_0x5ab3e8},_0x51f7d9){const _0x5e00c8=a0_0x466431;return await this[_0x5e00c8(0x8b9)][_0x5e00c8(0x427)][_0x5ab3e8][_0x5e00c8(0x7b8)](_0x51f7d9);}async['sendMenu']({instanceName:_0x27b044},_0x3d6d25){const _0x56f588=a0_0x466431;return await this[_0x56f588(0x8b9)]['waInstances'][_0x27b044][_0x56f588(0x2de)](_0x3d6d25);}async[a0_0x466431(0x91f)]({instanceName:_0x5aec3c},_0x587349){const _0x496e9c=a0_0x466431;if((0x0,re[_0x496e9c(0x803)])(_0x587349?.[_0x496e9c(0x4cf)]?.[_0x496e9c(0x71d)])&&!_0x587349?.[_0x496e9c(0x4cf)]?.[_0x496e9c(0x4c1)])throw new m(_0x496e9c(0x2b9));if((0x0,re[_0x496e9c(0x627)])(_0x587349?.[_0x496e9c(0x4cf)]?.['media'])||(0x0,re[_0x496e9c(0x803)])(_0x587349?.[_0x496e9c(0x4cf)]?.['media']))return await this['waMonitor'][_0x496e9c(0x427)][_0x5aec3c]['mediaMessage'](_0x587349);throw new m(_0x496e9c(0x679));}async['sendSticker']({instanceName:_0x23e5dd},_0x4371d9){const _0x1796ea=a0_0x466431;if((0x0,re[_0x1796ea(0x627)])(_0x4371d9['stickerMessage'][_0x1796ea(0x615)])||(0x0,re[_0x1796ea(0x803)])(_0x4371d9['stickerMessage']['image']))return await this[_0x1796ea(0x8b9)]['waInstances'][_0x23e5dd][_0x1796ea(0x8c0)](_0x4371d9);throw new m(_0x1796ea(0x679));}async[a0_0x466431(0x23d)]({instanceName:_0x210f4d},_0x103006){const _0x132fbe=a0_0x466431;if((0x0,re['isURL'])(_0x103006['audioMessage'][_0x132fbe(0x4e3)])||(0x0,re['isBase64'])(_0x103006[_0x132fbe(0x343)]['audio']))return await this['waMonitor'][_0x132fbe(0x427)][_0x210f4d]['audioWhatsapp'](_0x103006);throw new m(_0x132fbe(0x679));}async[a0_0x466431(0x5a0)]({instanceName:_0x941848},_0x15f86a){const _0x10d50d=a0_0x466431;return await this[_0x10d50d(0x8b9)]['waInstances'][_0x941848][_0x10d50d(0x7b0)](_0x15f86a);}async[a0_0x466431(0x1bf)]({instanceName:_0x4d4ca0},_0x518957){const _0x596aa4=a0_0x466431;return await this[_0x596aa4(0x8b9)][_0x596aa4(0x427)][_0x4d4ca0][_0x596aa4(0x89a)](_0x518957);}async[a0_0x466431(0x821)]({instanceName:_0x2bd001},_0x312354){const _0x3b7e1b=a0_0x466431;return await this[_0x3b7e1b(0x8b9)][_0x3b7e1b(0x427)][_0x2bd001]['pollMessage'](_0x312354);}async['sendList']({instanceName:_0xd89825},_0x160c54){const _0xf99d45=a0_0x466431;return await this[_0xf99d45(0x8b9)]['waInstances'][_0xd89825][_0xf99d45(0x84a)](_0x160c54);}async[a0_0x466431(0x639)]({instanceName:_0x21cce9},_0x27004f){const _0x31d328=a0_0x466431;return await this[_0x31d328(0x8b9)][_0x31d328(0x427)][_0x21cce9]['contactMessage'](_0x27004f);}async[a0_0x466431(0x1cc)]({instanceName:_0x2e3c7d},_0x1c1a8a){const _0x598de3=a0_0x466431;if(!_0x1c1a8a['reactionMessage'][_0x598de3(0x6da)][_0x598de3(0x666)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x598de3(0x826));return await this[_0x598de3(0x8b9)][_0x598de3(0x427)][_0x2e3c7d][_0x598de3(0x62e)](_0x1c1a8a);}async[a0_0x466431(0x8b8)]({instanceName:_0x5972a6},_0x3d789b){const _0x3375bc=a0_0x466431;return await this[_0x3375bc(0x8b9)][_0x3375bc(0x427)][_0x5972a6][_0x3375bc(0x87c)](_0x3d789b);}},Pi=require(a0_0x466431(0x6e7)),js=require(a0_0x466431(0x6c5)),Kt=class u{constructor(_0x43c988,_0xde6370,_0x1741b8){const _0x796bbf=a0_0x466431;this[_0x796bbf(0x338)]=_0x43c988,this['waMonitor']=_0xde6370,this[_0x796bbf(0x7ae)]=_0x1741b8,this['logger']=new $(u[_0x796bbf(0x8d9)]);}async[a0_0x466431(0x8cd)](_0x69c1cd){const _0x5d4d65=a0_0x466431;let _0x239cc7=this[_0x5d4d65(0x338)][_0x5d4d65(0x438)]('AUTHENTICATION')['JWT'],_0x2b1384=(0x0,Pi[_0x5d4d65(0x834)])({'instanceName':_0x69c1cd[_0x5d4d65(0x88a)],'apiName':ot,'tokenId':(0x0,js['v4'])()},_0x239cc7[_0x5d4d65(0x89e)],{'expiresIn':_0x239cc7[_0x5d4d65(0x8eb)],'encoding':'utf8','subject':_0x5d4d65(0x364)}),_0x3e7cd2=await this[_0x5d4d65(0x7ae)]['auth']['create']({'jwt':_0x2b1384},_0x69c1cd[_0x5d4d65(0x88a)]);if(_0x3e7cd2[_0x5d4d65(0x8d2)])throw this[_0x5d4d65(0x379)][_0x5d4d65(0x8d2)]({'localError':u[_0x5d4d65(0x8d9)]+'.jwt','error':_0x3e7cd2[_0x5d4d65(0x8d2)]}),new m(_0x5d4d65(0x3cc),_0x3e7cd2[_0x5d4d65(0x8d2)]?.[_0x5d4d65(0x1d0)]());return{'jwt':_0x2b1384};}async['apikey'](_0x422df9){const _0x22198a=a0_0x466431;let _0x5b00be=(0x0,js['v4'])()['toUpperCase'](),_0x4afeaa=await this[_0x22198a(0x7ae)][_0x22198a(0x3f0)][_0x22198a(0x1d1)]({'apikey':_0x5b00be},_0x422df9[_0x22198a(0x88a)]);if(_0x4afeaa[_0x22198a(0x8d2)])throw this[_0x22198a(0x379)][_0x22198a(0x8d2)]({'localError':u[_0x22198a(0x8d9)]+_0x22198a(0x363),'error':_0x4afeaa[_0x22198a(0x8d2)]}),new m('Authentication\x20error',_0x4afeaa['error']?.[_0x22198a(0x1d0)]());return{'apikey':_0x5b00be};}async[a0_0x466431(0x88b)](_0x4bade6){const _0x2b12f4=a0_0x466431;let _0x5b35ef=this[_0x2b12f4(0x338)][_0x2b12f4(0x438)](_0x2b12f4(0x654));return await this[_0x5b35ef['TYPE']](_0x4bade6);}},Qt=class{constructor(_0x59c4a5){const _0x22bffa=a0_0x466431;this[_0x22bffa(0x8b9)]=_0x59c4a5;}async[a0_0x466431(0x3ee)](_0x6fa0a1,_0x3d64bf){const _0x13f0fa=a0_0x466431;return await this[_0x13f0fa(0x8b9)]['waInstances'][_0x6fa0a1['instanceName']][_0x13f0fa(0x3ee)](_0x3d64bf);}async[a0_0x466431(0x87d)](_0x1d4b7e,_0x37a83c){const _0x198ad9=a0_0x466431;return await this[_0x198ad9(0x8b9)][_0x198ad9(0x427)][_0x1d4b7e[_0x198ad9(0x88a)]][_0x198ad9(0x87d)](_0x37a83c);}async[a0_0x466431(0x668)](_0x3fd405,_0x3648b6){const _0xa2ab7f=a0_0x466431;return await this[_0xa2ab7f(0x8b9)][_0xa2ab7f(0x427)][_0x3fd405[_0xa2ab7f(0x88a)]][_0xa2ab7f(0x668)](_0x3648b6);}async['groupName'](_0x22cc7d,_0x31d97e){const _0xc5f05d=a0_0x466431;return await this[_0xc5f05d(0x8b9)][_0xc5f05d(0x427)][_0x22cc7d[_0xc5f05d(0x88a)]][_0xc5f05d(0x7d5)](_0x31d97e);}async[a0_0x466431(0x5e7)](_0x177a86,_0x43be85){const _0x317b75=a0_0x466431;return await this['waMonitor'][_0x317b75(0x427)][_0x177a86[_0x317b75(0x88a)]][_0x317b75(0x5e7)](_0x43be85);}async['groupSetting'](_0x5e5573,_0x2897b0){const _0x425442=a0_0x466431;return await this[_0x425442(0x8b9)][_0x425442(0x427)][_0x5e5573['instanceName']][_0x425442(0x2ad)](_0x2897b0);}async[a0_0x466431(0x7d0)](_0x506c0e,_0x2feddb){const _0x38bad4=a0_0x466431;return await this[_0x38bad4(0x8b9)][_0x38bad4(0x427)][_0x506c0e[_0x38bad4(0x88a)]][_0x38bad4(0x3ca)](_0x2feddb);}async[a0_0x466431(0x311)](_0x10af93){const _0x157887=a0_0x466431;return await this[_0x157887(0x8b9)][_0x157887(0x427)][_0x10af93[_0x157887(0x88a)]][_0x157887(0x311)]();}async[a0_0x466431(0x249)](_0x1a1724,_0x51f344){const _0x272e62=a0_0x466431;return await this[_0x272e62(0x8b9)][_0x272e62(0x427)][_0x1a1724[_0x272e62(0x88a)]]['inviteCode'](_0x51f344);}async[a0_0x466431(0x185)](_0x45ded8,_0x4a02c2){const _0x36a9cd=a0_0x466431;return await this[_0x36a9cd(0x8b9)][_0x36a9cd(0x427)][_0x45ded8[_0x36a9cd(0x88a)]][_0x36a9cd(0x185)](_0x4a02c2);}async['groupGetInviteInfo'](_0x263417,_0x124de8){const _0x4a7466=a0_0x466431;return await this['waMonitor']['waInstances'][_0x263417[_0x4a7466(0x88a)]][_0x4a7466(0x5c3)](_0x124de8);}async[a0_0x466431(0x190)](_0x45289b,_0x4a74be){const _0x19b415=a0_0x466431;return await this[_0x19b415(0x8b9)][_0x19b415(0x427)][_0x45289b['instanceName']]['revokeInviteCode'](_0x4a74be);}async['findParticipants'](_0x3ed6b2,_0x4314fc){const _0x2c25b8=a0_0x466431;return await this[_0x2c25b8(0x8b9)]['waInstances'][_0x3ed6b2[_0x2c25b8(0x88a)]]['findParticipants'](_0x4314fc);}async[a0_0x466431(0x768)](_0x22270f,_0x1c4c16){const _0x55fa52=a0_0x466431;return await this[_0x55fa52(0x8b9)][_0x55fa52(0x427)][_0x22270f[_0x55fa52(0x88a)]][_0x55fa52(0x676)](_0x1c4c16);}async[a0_0x466431(0x519)](_0x54af17,_0x1add76){const _0x1fa0af=a0_0x466431;return await this[_0x1fa0af(0x8b9)][_0x1fa0af(0x427)][_0x54af17[_0x1fa0af(0x88a)]][_0x1fa0af(0x519)](_0x1add76);}async['leaveGroup'](_0x51e6b2,_0xe89610){const _0xfd05e0=a0_0x466431;return await this[_0xfd05e0(0x8b9)]['waInstances'][_0x51e6b2[_0xfd05e0(0x88a)]][_0xfd05e0(0x7fa)](_0xe89610);}},Yt=class{constructor(_0x532307){this['waMonitor']=_0x532307;}[a0_0x466431(0x1d1)](_0x173c24,_0x84ceec){const _0x5a9ebe=a0_0x466431;return this[_0x5a9ebe(0x8b9)][_0x5a9ebe(0x427)][_0x173c24[_0x5a9ebe(0x88a)]]['setWebhook'](_0x84ceec);}async['find'](_0x59719d){const _0x5bb094=a0_0x466431;try{return await this[_0x5bb094(0x8b9)][_0x5bb094(0x427)][_0x59719d['instanceName']][_0x5bb094(0x60d)]();}catch{return{'enabled':null,'url':''};}}},ch=new $('FlowController'),Xt=class{constructor(_0x2280a1){const _0x2b3ddd=a0_0x466431;this[_0x2b3ddd(0x8b9)]=_0x2280a1;}async[a0_0x466431(0x55e)](_0x58fe3f,_0x33f70a){const _0x441d3f=a0_0x466431;return await this['waMonitor'][_0x441d3f(0x427)][_0x58fe3f[_0x441d3f(0x88a)]]['editScheduleMessage'](_0x33f70a);}async[a0_0x466431(0x433)](_0x5cc58c){const _0x5961b4=a0_0x466431;return await this[_0x5961b4(0x8b9)]['waInstances'][_0x5cc58c[_0x5961b4(0x88a)]][_0x5961b4(0x433)]();}async[a0_0x466431(0x3ba)](_0x56fe9a){const _0x399eb2=a0_0x466431;return await this[_0x399eb2(0x8b9)][_0x399eb2(0x427)][_0x56fe9a['instanceName']][_0x399eb2(0x3ba)]();}async[a0_0x466431(0x39b)](_0x16618d){const _0x179347=a0_0x466431;return await this['waMonitor'][_0x179347(0x427)][_0x16618d[_0x179347(0x88a)]]['deleteAllMessages']();}async[a0_0x466431(0x301)](_0x4c2aed){const _0x3c703c=a0_0x466431;return await this['waMonitor'][_0x3c703c(0x427)][_0x4c2aed[_0x3c703c(0x88a)]]['getAutomateSystem']();}async[a0_0x466431(0x62f)](_0x26da37,_0x51ae19){const _0x20d9e5=a0_0x466431;return await this[_0x20d9e5(0x8b9)]['waInstances'][_0x26da37[_0x20d9e5(0x88a)]][_0x20d9e5(0x62f)](_0x51ae19);}async[a0_0x466431(0x4c6)](_0xc2abca,_0x46c427){const _0x41db65=a0_0x466431;return await this['waMonitor'][_0x41db65(0x427)][_0xc2abca[_0x41db65(0x88a)]]['updateCustomFields'](_0x46c427);}async['updateAutoCompleteMessages'](_0x542a7c,_0x5779fa){const _0x3b3cfe=a0_0x466431;return await this[_0x3b3cfe(0x8b9)]['waInstances'][_0x542a7c[_0x3b3cfe(0x88a)]][_0x3b3cfe(0x207)](_0x5779fa);}async[a0_0x466431(0x8f0)](_0x51c04b,_0x477427){const _0x3615aa=a0_0x466431;return await this[_0x3615aa(0x8b9)][_0x3615aa(0x427)][_0x51c04b['instanceName']]['updateFlowConfig'](_0x477427);}async['startFlow'](_0x11ede4,_0x421891){const _0x3874aa=a0_0x466431;return await this[_0x3874aa(0x8b9)]['waInstances'][_0x11ede4[_0x3874aa(0x88a)]][_0x3874aa(0x6e9)](_0x421891);}async[a0_0x466431(0x25d)](_0x5661a1,_0x4936d1,_0x450cfc,_0x3652cf){const _0x1f9c91=a0_0x466431;return await this['waMonitor']['waInstances'][_0x5661a1][_0x1f9c91(0x25d)](_0x4936d1,_0x450cfc,_0x3652cf);}async['getConversation'](_0x3a6517,_0x2b079f){const _0xe885a4=a0_0x466431;return await this[_0xe885a4(0x8b9)][_0xe885a4(0x427)][_0x3a6517['instanceName']][_0xe885a4(0x4a5)](_0x2b079f);}async[a0_0x466431(0x790)](_0x48f8d1,_0x5b4627){const _0x8a18c9=a0_0x466431;return await this['waMonitor']['waInstances'][_0x48f8d1[_0x8a18c9(0x88a)]][_0x8a18c9(0x790)](_0x5b4627);}async[a0_0x466431(0x8ac)](_0x34531e,_0x35637e){const _0xc30c8c=a0_0x466431;return await this[_0xc30c8c(0x8b9)][_0xc30c8c(0x427)][_0x34531e[_0xc30c8c(0x88a)]][_0xc30c8c(0x8ac)](_0x35637e);}async[a0_0x466431(0x3e6)](_0x5a365f,_0x1e66c5){const _0xf413d5=a0_0x466431;return await this[_0xf413d5(0x8b9)][_0xf413d5(0x427)][_0x5a365f[_0xf413d5(0x88a)]]['deleteConversation'](_0x1e66c5);}async[a0_0x466431(0x507)](_0x46033f,_0x26002a){const _0x29f42e=a0_0x466431;return await this[_0x29f42e(0x8b9)][_0x29f42e(0x427)][_0x46033f[_0x29f42e(0x88a)]][_0x29f42e(0x507)](_0x26002a[_0x29f42e(0x209)]);}async[a0_0x466431(0x580)](_0x120304,_0x6bc11a,_0x1586fa){const _0x595598=a0_0x466431;return await this[_0x595598(0x8b9)][_0x595598(0x427)][_0x120304[_0x595598(0x88a)]][_0x595598(0x580)](_0x6bc11a,_0x1586fa);}async['editFlow'](_0x15779f,_0xfcfc9f,_0x5b108f){const _0x11481c=a0_0x466431;return await this[_0x11481c(0x8b9)][_0x11481c(0x427)][_0x15779f[_0x11481c(0x88a)]]['editFlow'](_0xfcfc9f,_0x5b108f);}async[a0_0x466431(0x839)](_0x3b7ee7,_0x5ededb){const _0x4fd4ea=a0_0x466431;return await this['waMonitor'][_0x4fd4ea(0x427)][_0x3b7ee7[_0x4fd4ea(0x88a)]][_0x4fd4ea(0x839)](_0x5ededb);}async[a0_0x466431(0x347)](_0x516729,_0x1ca722){const _0x1f46f3=a0_0x466431;return await this[_0x1f46f3(0x8b9)]['waInstances'][_0x516729['instanceName']][_0x1f46f3(0x347)](_0x1ca722);}async[a0_0x466431(0x488)](_0x35f5f9,_0x4850be){const _0x28a6fc=a0_0x466431;return await this[_0x28a6fc(0x8b9)][_0x28a6fc(0x427)][_0x35f5f9[_0x28a6fc(0x88a)]]['editFlowGroup'](_0x4850be);}async[a0_0x466431(0x838)](_0x9f414a,_0x5b887){const _0x1d18af=a0_0x466431;return await this[_0x1d18af(0x8b9)]['waInstances'][_0x9f414a[_0x1d18af(0x88a)]]['editFlowCondition'](_0x5b887);}async[a0_0x466431(0x66e)](_0x14f4ad,_0x4697b3){const _0x1aee0b=a0_0x466431;return await this['waMonitor']['waInstances'][_0x14f4ad['instanceName']][_0x1aee0b(0x66e)](_0x4697b3);}async['editFlowVariable'](_0x448ded,_0x1b5b8f){const _0xc01a7d=a0_0x466431;return await this[_0xc01a7d(0x8b9)][_0xc01a7d(0x427)][_0x448ded[_0xc01a7d(0x88a)]][_0xc01a7d(0x319)](_0x1b5b8f);}async[a0_0x466431(0x7b9)](_0x59d1ef,_0x386f13){const _0x34c0ec=a0_0x466431;return await this[_0x34c0ec(0x8b9)][_0x34c0ec(0x427)][_0x59d1ef['instanceName']]['deleteFlow'](_0x386f13);}async[a0_0x466431(0x246)](_0x4dc33b){const _0x4d907d=a0_0x466431;return await this[_0x4d907d(0x8b9)][_0x4d907d(0x427)][_0x4dc33b['instanceName']][_0x4d907d(0x246)]();}},Zt=class{constructor(_0x116077){this['webhookService']=_0x116077;}async[a0_0x466431(0x736)](_0x36e42c,_0x50944e){const _0x3a96ab=a0_0x466431;return this[_0x3a96ab(0x7d4)][_0x3a96ab(0x1d1)](_0x36e42c,_0x50944e);}async[a0_0x466431(0x60d)](_0x5e1abb){const _0x8e5f0e=a0_0x466431;return this['webhookService'][_0x8e5f0e(0x5a4)](_0x5e1abb);}},es=class extends O{constructor(_0x18637f,_0x39d246){const _0x976b03=a0_0x466431;super(_0x39d246),this['webhookModel']=_0x18637f,this[_0x976b03(0x338)]=_0x39d246;}async[a0_0x466431(0x1d1)](_0x475ee5,_0x570264){const _0x1c21bf=a0_0x466431;try{return this[_0x1c21bf(0x228)][_0x1c21bf(0x613)]?{'insertCount':(await this[_0x1c21bf(0x58a)]['replaceOne']({'_id':_0x570264},{..._0x475ee5},{'upsert':!0x0}))[_0x1c21bf(0x2bb)]}:{'insertCount':0x1};}catch(_0x58fbc9){return _0x58fbc9;}}async[a0_0x466431(0x384)](_0x2ca3db){const _0x132482=a0_0x466431;try{if(this[_0x132482(0x228)][_0x132482(0x613)]){await this['webhookModel'][_0x132482(0x450)]({'_id':_0x2ca3db});return;}}catch(_0x426d7c){return{'error':_0x426d7c};}}async[a0_0x466431(0x5a4)](_0x23b9ff){const _0x23a5e4=a0_0x466431;try{if(this['dbSettings'][_0x23a5e4(0x613)])return await this[_0x23a5e4(0x58a)]['findOne']({'_id':_0x23b9ff});}catch{return{};}}},ts=class extends O{constructor(_0x2e6f0c,_0x8fbcbc){const _0x4a8ae2=a0_0x466431;super(_0x8fbcbc),this['authModel']=_0x2e6f0c,this['configService']=_0x8fbcbc,this[_0x4a8ae2(0x3f0)]=_0x8fbcbc['get'](_0x4a8ae2(0x654));}async['create'](_0x5f3577,_0x1a60a7){const _0x3cbc1e=a0_0x466431;try{if(this['dbSettings'][_0x3cbc1e(0x613)])return{'insertCount':(await this[_0x3cbc1e(0x5dd)][_0x3cbc1e(0x86c)]({'_id':_0x1a60a7},{'$set':{..._0x5f3577}},{'upsert':!0x0}))[_0x3cbc1e(0x2bb)]};}catch(_0x52c006){return{'error':_0x52c006};}}async[a0_0x466431(0x7e6)](_0x1bc35e,_0x4c6b0e){const _0x4c784f=a0_0x466431;try{if(this[_0x4c784f(0x228)]['ENABLED'])return{'insertCount':(await this[_0x4c784f(0x5dd)][_0x4c784f(0x555)](_0x1bc35e,{'$set':_0x4c6b0e},{'upsert':!0x1}))[_0x4c784f(0x2bb)]};throw new Error(_0x4c784f(0x73c));}catch(_0x389660){return{'error':_0x389660};}}async['deleteMany'](_0x48fba4){const _0x491c0c=a0_0x466431;try{if(this['dbSettings'][_0x491c0c(0x613)])return{'insertCount':(await this['authModel'][_0x491c0c(0x25e)](_0x48fba4))['deletedCount']};throw new Error(_0x491c0c(0x460));}catch(_0x30ac90){return{'error':_0x30ac90};}}async[a0_0x466431(0x384)](_0x3c354f){const _0x11dd70=a0_0x466431;try{if(this[_0x11dd70(0x228)][_0x11dd70(0x613)]){await this['authModel'][_0x11dd70(0x450)]({'_id':_0x3c354f});return;}}catch(_0x254486){return{'error':_0x254486};}}async[a0_0x466431(0x5a4)](_0x2fef94){const _0xfe656=a0_0x466431;try{if(this['dbSettings'][_0xfe656(0x613)])return await this[_0xfe656(0x5dd)][_0xfe656(0x2c9)]({'_id':_0x2fef94});}catch{return{};}}async['findAll'](){const _0xe867d6=a0_0x466431;try{if(this[_0xe867d6(0x228)]['ENABLED'])return await this[_0xe867d6(0x5dd)][_0xe867d6(0x5a4)]();}catch{return[];}}async['findMany'](_0x2d56f7){const _0x1b10a5=a0_0x466431;try{if(this[_0x1b10a5(0x228)][_0x1b10a5(0x613)])return await this[_0x1b10a5(0x5dd)]['find'](_0x2d56f7);}catch{return[];}}},ss=class extends O{async[a0_0x466431(0x450)](_0x22f5b8){const _0x3e29d4=a0_0x466431;try{let _0x87bcc5=A(_0x22f5b8['where']);return{'deletedCount':(await Me['deleteOne'](_0x87bcc5))[_0x3e29d4(0x8d6)]};}catch(_0x3a52ec){return{'error':_0x3a52ec?.[_0x3e29d4(0x1d0)]()};}}async[a0_0x466431(0x86c)](_0x3bd17c,_0x316ce4){const _0x41493b=a0_0x466431;try{let _0x5520d4=await Me[_0x41493b(0x2dd)](_0x3bd17c);return _0x5520d4?(Object[_0x41493b(0x25a)](_0x5520d4,_0x316ce4),await _0x5520d4[_0x41493b(0x539)]()):(console['error'](_0x41493b(0x1ce),_0x3bd17c),null);}catch(_0x4eae0d){return console[_0x41493b(0x8d2)](_0x41493b(0x2dc),_0x4eae0d),null;}}async[a0_0x466431(0x297)](_0x30a153){const _0x9ba8ab=a0_0x466431;try{return await new Me(_0x30a153)['save']();}catch(_0x27321f){return console['error'](_0x9ba8ab(0x446),_0x27321f),null;}}async[a0_0x466431(0x472)](_0x3ffc12){const _0x307c55=a0_0x466431;try{let _0x312385=_0x3ffc12['where']??{};return await Me['find'](_0x312385)[_0x307c55(0x29d)](_0x3ffc12[_0x307c55(0x29d)]??0x0)[_0x307c55(0x442)]();}catch(_0x222bb3){return console[_0x307c55(0x8d2)](_0x307c55(0x1ec),_0x222bb3),[];}}async[a0_0x466431(0x2c9)](_0xfda40b){const _0x5a18ee=a0_0x466431;try{let _0x253319=A(_0xfda40b['where']);return await Me[_0x5a18ee(0x2c9)](_0x253319)[_0x5a18ee(0x442)]();}catch{return null;}}},as=class extends O{['getConversationModelForOwner'](_0xe0f2e4){return Sa(_0xe0f2e4);}async[a0_0x466431(0x23c)](_0x180eaa){const _0x3c99cf=a0_0x466431;if(_0x180eaa[_0x3c99cf(0x3d4)]!==0x0)try{return{'insertCount':(await this[_0x3c99cf(0x3bb)](_0x180eaa[0x0][_0x3c99cf(0x3ea)])[_0x3c99cf(0x81b)]([..._0x180eaa]))['length']};}catch(_0x2aa90f){return _0x2aa90f;}}async[a0_0x466431(0x384)](_0x37e6a0,_0x3a23fb){const _0x322810=a0_0x466431;try{let _0x124879=this[_0x322810(0x3bb)](_0x3a23fb),_0x293ac5=A(_0x37e6a0[_0x322810(0x186)]);return{'deletedCount':(await _0x124879[_0x322810(0x25e)](_0x293ac5))[_0x322810(0x8d6)]};}catch(_0x2371a5){return{'error':_0x2371a5?.['toString']()};}}async[a0_0x466431(0x450)](_0x25276c,_0x58ce4d){const _0x59b19e=a0_0x466431;try{let _0x1fd6ba=this[_0x59b19e(0x3bb)](_0x58ce4d),_0x2582c8=A(_0x25276c['where']);return{'deletedCount':(await _0x1fd6ba[_0x59b19e(0x450)](_0x2582c8))[_0x59b19e(0x8d6)]};}catch(_0xc43b3b){return{'error':_0xc43b3b?.['toString']()};}}async[a0_0x466431(0x42a)](_0x3c2e4c,_0x44d4d9){const _0x12b862=a0_0x466431;try{if(_0x3c2e4c[_0x12b862(0x3d4)]===0x0)return;let _0x41b6c8=this['getConversationModelForOwner'](_0x44d4d9),_0x416f61=_0x3c2e4c[_0x12b862(0x1e8)](_0x53c86c=>({'updateOne':{'filter':{'name':_0x53c86c['name'],'owner':_0x44d4d9},'update':{..._0x53c86c}}})),{modifiedCount:_0xec57ce}=await _0x41b6c8[_0x12b862(0x235)](_0x416f61);return{'insertCount':_0xec57ce};}catch{return;}}async['updateMany'](_0x1ef2b1,_0x246ad4,_0x191c2a){const _0x28d673=a0_0x466431;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x191c2a)[_0x28d673(0x555)](_0x1ef2b1,{'$set':_0x246ad4})[_0x28d673(0x813)]())[_0x28d673(0x2bb)]};}catch(_0x321e33){return console['error'](_0x28d673(0x528),_0x321e33),{'error':_0x321e33};}}async[a0_0x466431(0x86c)](_0x4d25f4,_0x5ed2f9,_0x31378e){const _0x3effd1=a0_0x466431;try{return await this[_0x3effd1(0x3bb)](_0x31378e)[_0x3effd1(0x886)]({'_id':_0x4d25f4},{'$set':_0x5ed2f9},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x3ea778){return console[_0x3effd1(0x8d2)](_0x3ea778),null;}}async['find'](_0x1fa4df,_0x23086d){const _0xe4c8fb=a0_0x466431;try{return await this[_0xe4c8fb(0x3bb)](_0x23086d)[_0xe4c8fb(0x5a4)](_0x1fa4df)[_0xe4c8fb(0x4e0)]({'lastInteraction':-0x1})[_0xe4c8fb(0x442)]();}catch{return[];}}async['findOne'](_0x634ea1,_0x50c663){const _0x31c02b=a0_0x466431;try{return await this[_0x31c02b(0x3bb)](_0x50c663)[_0x31c02b(0x2c9)]({..._0x634ea1[_0x31c02b(0x186)]})[_0x31c02b(0x442)]();}catch{return null;}}async[a0_0x466431(0x1f6)](_0x49cada){const _0x4193aa=a0_0x466431;try{return await this[_0x4193aa(0x3bb)](_0x49cada)['collection']['drop'](),{'success':!0x0};}catch(_0x27c6b7){return console[_0x4193aa(0x8d2)](_0x27c6b7),{'success':!0x1,'error':_0x27c6b7};}}},is=class extends O{[a0_0x466431(0x397)](_0x2d49be){return Ma(_0x2d49be);}async[a0_0x466431(0x235)](_0x398a61,_0x515ad0){const _0x31ee5d=a0_0x466431;try{return await this[_0x31ee5d(0x397)](_0x515ad0)[_0x31ee5d(0x235)](_0x398a61);}catch(_0x2b0245){return console['error'](_0x31ee5d(0x715),_0x2b0245),null;}}async[a0_0x466431(0x297)](_0x3d34dc,_0x300fa5){const _0xe9e18f=a0_0x466431;try{let _0x2d9aa5=this[_0xe9e18f(0x397)](_0x300fa5);return await new _0x2d9aa5(_0x3d34dc)['save']();}catch(_0x1af085){return console[_0xe9e18f(0x8d2)](_0xe9e18f(0x595),_0x1af085),null;}}async[a0_0x466431(0x450)](_0x54da82,_0x2728be){const _0x1a32e3=a0_0x466431;try{return await this['getScheduleMessageModelForOwner'](_0x2728be)[_0x1a32e3(0x3f6)](_0x54da82),{};}catch(_0x402564){return{'error':_0x402564?.[_0x1a32e3(0x1d0)]()};}}async['updateOne'](_0x4f969a,_0x132136,_0x2b0bbc,_0x5ddf44={}){const _0x47d677=a0_0x466431;try{return await this['getScheduleMessageModelForOwner'](_0x2b0bbc)[_0x47d677(0x886)](_0x4f969a,_0x132136,{..._0x5ddf44,'new':!0x0})[_0x47d677(0x442)]();}catch(_0xee2e44){return console[_0x47d677(0x8d2)](_0x47d677(0x59e),_0xee2e44),null;}}async[a0_0x466431(0x7d2)](_0x274f5f,_0x33f26c,_0x315824){const _0x5780e6=a0_0x466431;try{return await this[_0x5780e6(0x397)](_0x315824)[_0x5780e6(0x2ff)](_0x274f5f,_0x33f26c,{'new':!0x0})[_0x5780e6(0x442)]();}catch(_0x1862d3){return console[_0x5780e6(0x8d2)](_0x5780e6(0x59e),_0x1862d3),null;}}async[a0_0x466431(0x5a4)](_0x131817,_0x538b31){const _0x443270=a0_0x466431;try{return await this[_0x443270(0x397)](_0x538b31)[_0x443270(0x5a4)](_0x131817[_0x443270(0x186)])[_0x443270(0x29d)](_0x131817?.['limit']??0x0)[_0x443270(0x4e0)]({'when':0x1})[_0x443270(0x442)]();}catch{return[];}}async[a0_0x466431(0x2c9)](_0x11794a,_0x5caa41){const _0x5c4852=a0_0x466431;try{return await this[_0x5c4852(0x397)](_0x5caa41)[_0x5c4852(0x2c9)](_0x11794a[_0x5c4852(0x186)])[_0x5c4852(0x4e0)]({'when':0x1})['lean']();}catch{return null;}}async[a0_0x466431(0x2dd)](_0x139113,_0x4534e5){const _0x476a45=a0_0x466431;try{return await this['getScheduleMessageModelForOwner'](_0x4534e5)['findById'](_0x139113)[_0x476a45(0x442)]();}catch{return null;}}async['deleteMany'](_0xdbc240,_0x355170){const _0x4d08e8=a0_0x466431;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x355170)[_0x4d08e8(0x25e)](_0xdbc240))[_0x4d08e8(0x8d6)]};}catch(_0x36740c){return console[_0x4d08e8(0x8d2)](_0x4d08e8(0x552),_0x36740c),{'error':_0x36740c};}}async['deleteAll'](_0x35ed90){const _0x2545da=a0_0x466431;try{return await this[_0x2545da(0x397)](_0x35ed90)[_0x2545da(0x722)][_0x2545da(0x321)](),{'success':!0x0};}catch(_0x3e0ed4){return console[_0x2545da(0x8d2)](_0x3e0ed4),{'success':!0x1,'error':_0x3e0ed4};}}},os=class extends O{async['update'](_0x212fda,_0x49b491){const _0x33f2db=a0_0x466431;try{if(this['dbSettings']['ENABLED'])return await Te['findOneAndUpdate']({'_id':_0x49b491},{'$set':_0x212fda},{'new':!0x0});}catch(_0xd50ace){throw console['error'](_0x33f2db(0x281),_0xd50ace),_0xd50ace;}}async['findOrCreate'](_0x36a0eb){const _0x44c864=a0_0x466431;try{let _0x5e1e99=await Te['findById'](_0x36a0eb);return _0x5e1e99?_0x5e1e99[_0x44c864(0x649)]||(_0x5e1e99['autoCompleteMessages']=[],await _0x5e1e99[_0x44c864(0x539)]()):(_0x5e1e99=new Te({'_id':_0x36a0eb,'autoCompleteMessages':[]}),await _0x5e1e99[_0x44c864(0x539)]()),_0x5e1e99;}catch(_0x150efa){return _0x150efa[_0x44c864(0x84c)]===0x2af8&&_0x150efa[_0x44c864(0x758)]&&_0x150efa[_0x44c864(0x758)][_0x44c864(0x2f2)]?(console['error'](_0x44c864(0x3a6)),await Te[_0x44c864(0x722)]['dropIndex']('autoCompleteMessages.command_1'),null):(console[_0x44c864(0x8d2)](_0x44c864(0x8a4),_0x150efa),null);}}},Jo=new $(a0_0x466431(0x585)),qo=new Qe(S),Vo=new Jt(S),Go=new nt(S),Bo=new qt(oa,S),Wo=new Vt(na,S),zo=new es(ha,S),Ho=new ts(ua,S),Ko=new Ee(We,S),Qo=new ss(S),Yo=new Gt(S),Xo=new as(S),Zo=new is(S),er=new os(S),me=new He(qo,Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,T?.[a0_0x466431(0x74c)]()),G=new jt(hs,S,me),tr=new Kt(S,G,me),sr=new Yt(G),As=new Zt(sr),_=new Xt(G),le=new zt(G,S,me,hs,tr),B=new Ht(G),D=new Bt(G),q=new Qt(G);Jo[a0_0x466431(0x6c6)](a0_0x466431(0x63b));var $g=require(a0_0x466431(0x6ae)),Js=require('fs'),Di=I(require(a0_0x466431(0x800))),ki=I(require(a0_0x466431(0x642))),je=class u{static #e;static set['app'](_0x53d4e8){this.#e=_0x53d4e8;}static get[a0_0x466431(0x800)](){const _0x818bd=a0_0x466431;let {FULLCHAIN:_0x41546a,PRIVKEY:_0x322e3d}=S[_0x818bd(0x438)](_0x818bd(0x6d8));return Di[_0x818bd(0x7c5)]({'cert':(0x0,Js[_0x818bd(0x822)])(_0x41546a),'key':(0x0,Js[_0x818bd(0x822)])(_0x322e3d)},u.#e);}static get[a0_0x466431(0x642)](){const _0x5dcd10=a0_0x466431;return ki[_0x5dcd10(0x7c5)](u.#e);}},Je=I(require('fs')),qi=I(require(a0_0x466431(0x33f))),qe=I(require(a0_0x466431(0x4a3))),ns=I(require(a0_0x466431(0x3b9))),rs=require('child_process');function ar(){const _0x42c6d7=a0_0x466431;G[_0x42c6d7(0x2d8)]();let _0x1d2f19=ns[_0x42c6d7(0x525)][_0x42c6d7(0x473)](__dirname,_0x42c6d7(0x76f));Ji(_0x1d2f19);}var Ji=_0x4cfd9b=>{const _0x1af34d=a0_0x466431;let _0x5eb21d=Je['default'][_0x1af34d(0x1b6)](_0x4cfd9b),_0x213fda=0xc*0x3c*0x3c*0x3e8,_0x35cb65=0x2*0x3c*0x3c*0x3e8,_0x2d0b68=new Date()['getTime']();_0x5eb21d[_0x1af34d(0x4fe)](_0x530b77=>{const _0x218ed3=_0x1af34d;let _0x28850e=ns[_0x218ed3(0x525)][_0x218ed3(0x473)](_0x4cfd9b,_0x530b77),_0x2c2575=Je[_0x218ed3(0x525)][_0x218ed3(0x705)](_0x28850e)[_0x218ed3(0x6fa)][_0x218ed3(0x50a)]();_0x2d0b68-_0x2c2575>_0x213fda&&(Je['default'][_0x218ed3(0x5bb)](_0x28850e),console[_0x218ed3(0x913)]('Deleted\x20'+_0x530b77));}),setTimeout(()=>Ji(_0x4cfd9b),_0x35cb65);};function ir(){const _0x176f91=a0_0x466431;let _0x3b9cc5=new $(_0x176f91(0x8db)),_0x479efc=(0x0,we[_0x176f91(0x525)])();_0x479efc[_0x176f91(0x24a)]((0x0,ji['default'])({'origin'(_0x3355f5,_0x5ac7d5){const _0x451741=_0x176f91;let {ORIGIN:_0x40817f}=S[_0x451741(0x438)](_0x451741(0x734));return _0x3355f5||(_0x3355f5='*'),_0x40817f[_0x451741(0x81f)]('*')!==-0x1||_0x40817f[_0x451741(0x81f)](_0x3355f5)!==-0x1?_0x5ac7d5(null,!0x0):_0x5ac7d5(new Error(_0x451741(0x739)));},'methods':[...S[_0x176f91(0x438)](_0x176f91(0x734))[_0x176f91(0x4d0)]],'credentials':S[_0x176f91(0x438)]('CORS')[_0x176f91(0x2be)]}),(0x0,we[_0x176f91(0x346)])({'extended':!0x0,'limit':_0x176f91(0x505)}),(0x0,we[_0x176f91(0x625)])({'limit':_0x176f91(0x505)})),_0x479efc[_0x176f91(0x24a)]((_0xd9e729,_0x255f89,_0x30367f)=>{const _0x8a9e03=_0x176f91;_0xd9e729[_0x8a9e03(0x3b9)]['startsWith'](_0x8a9e03(0x55c))?_0x30367f():(0x0,Ui[_0x8a9e03(0x525)])()(_0xd9e729,_0x255f89,_0x30367f);}),_0x479efc[_0x176f91(0x3d6)](_0x176f91(0x8e3),_0x176f91(0x893)),_0x479efc[_0x176f91(0x3d6)](_0x176f91(0x4d3),(0x0,Vs[_0x176f91(0x473)])(ne,'views')),_0x479efc['use'](we[_0x176f91(0x525)][_0x176f91(0x8da)]((0x0,Vs['join'])(ne,_0x176f91(0x3e8)))),_0x479efc['use']((_0x1e64f1,_0x31a4e9,_0xb2b43c)=>{let _0x9df86d=_0x31a4e9['send'];_0x31a4e9['send']=function(_0x3bcd6e){const _0x295ef3=a0_0x192a;if(_0x1e64f1['query'][_0x295ef3(0x683)]===_0x295ef3(0x854)||_0x1e64f1[_0x295ef3(0x4e4)][_0x295ef3(0x2bd)]===_0x295ef3(0x854)){let _0x1dfd4f=JSON[_0x295ef3(0x46d)](_0x3bcd6e);_0x3bcd6e=JSON[_0x295ef3(0x66f)](_0x5876bc(_0x1dfd4f));}return _0x9df86d['apply'](_0x31a4e9,[_0x3bcd6e]);},_0xb2b43c();}),_0x479efc[_0x176f91(0x24a)]('/',ke),_0x479efc[_0x176f91(0x24a)]((_0x1152db,_0x18b803,_0x5261a7,_0x39cf56)=>{const _0x23ac82=_0x176f91;if(_0x1152db)return _0x5261a7['status'](_0x1152db[_0x23ac82(0x309)]||0x1f4)[_0x23ac82(0x625)](_0x1152db);},(_0x3c5f24,_0x4c686b,_0x3407a6)=>{const _0x5b44d6=_0x176f91;let {method:_0x5c43be,url:_0x58f2ac}=_0x3c5f24;_0x4c686b[_0x5b44d6(0x309)](0x194)[_0x5b44d6(0x625)]({'status':0x194,'message':_0x5b44d6(0x5e1)+_0x5c43be[_0x5b44d6(0x520)]()+'\x20'+_0x58f2ac,'error':_0x5b44d6(0x8e9)}),_0x3407a6();});let _0x5876bc=(_0x4f207b,_0x232c6b=_0x176f91(0x8b0))=>{const _0x6454d1=_0x176f91;let _0xba0cd3=(_0x3d4c3c,_0x1ee85a=null,_0x18e8ba=!0x1)=>{const _0x1def52=a0_0x192a;let _0x25f59f={};return Object['keys'](_0x3d4c3c)[_0x1def52(0x4fe)](_0x103cb8=>{const _0x2f44f0=_0x1def52;let _0x135fd6=_0x3d4c3c[_0x103cb8],_0x3c3bd2=''+_0x232c6b+_0x103cb8;_0x1ee85a&&!_0x18e8ba&&(_0x3c3bd2=_0x1ee85a+'.'+_0x103cb8),!_0x135fd6&&_0x135fd6!==0x0&&_0x135fd6!==!0x1||typeof _0x135fd6>'u'?_0x25f59f[_0x3c3bd2]=null:typeof _0x135fd6!=_0x2f44f0(0x3f1)&&!Array[_0x2f44f0(0x27b)](_0x135fd6)?_0x25f59f[_0x3c3bd2]=_0x135fd6:typeof _0x135fd6==_0x2f44f0(0x3f1)&&!Array[_0x2f44f0(0x27b)](_0x135fd6)?_0x25f59f=Object['assign'](_0x25f59f,_0xba0cd3(_0x135fd6,_0x3c3bd2)):Array[_0x2f44f0(0x27b)](_0x135fd6)&&(typeof _0x135fd6[0x0]=='object'?(_0x25f59f[_0x3c3bd2]=[],_0x135fd6[_0x2f44f0(0x4fe)](_0x7dbf0=>{_0x25f59f[_0x3c3bd2]['push'](_0xba0cd3(_0x7dbf0,_0x3c3bd2,!0x0));})):_0x25f59f[_0x3c3bd2]=_0x135fd6);}),_0x25f59f;};return Array['isArray'](_0x4f207b)?_0x4f207b['map'](_0x3337ec=>_0xba0cd3(_0x3337ec)):typeof _0x4f207b==_0x6454d1(0x3f1)&&_0x4f207b!==null?_0xba0cd3(_0x4f207b):{};},_0xd80cb9=S['get'](_0x176f91(0x8db));je['app']=_0x479efc;let _0x220410=je[_0xd80cb9[_0x176f91(0x918)]],_0x50bf13=_0x176f91(0x282);_0x220410['listen'](_0xd80cb9[_0x176f91(0x19f)],()=>{const _0x152a3c=_0x176f91;_0x3b9cc5[_0x152a3c(0x913)](_0x50bf13),_0x3b9cc5['log'](_0xd80cb9[_0x152a3c(0x918)][_0x152a3c(0x520)]()+_0x152a3c(0x6b0)+_0xd80cb9[_0x152a3c(0x19f)]);}),ar(),Zs();}var or=a0_0x466431(0x2df),rr=ns[a0_0x466431(0x525)][a0_0x466431(0x473)](__dirname,a0_0x466431(0x1fd)),Re=null;function nr(){return new Promise((_0x5590c6,_0x4e3942)=>{const _0x47057e=a0_0x192a;Je[_0x47057e(0x525)][_0x47057e(0x553)](rr,_0x47057e(0x1bb),(_0x497b05,_0x42e302)=>{const _0x51c52e=_0x47057e;if(_0x497b05){Re=_0x497b05,_0x5590c6();return;}qi['default'][_0x51c52e(0x46d)](_0x42e302)[_0x51c52e(0x3ec)][_0x51c52e(0x479)]===or?(Re=null,_0x5590c6()):(Re=new Error(_0x51c52e(0x614)),_0x5590c6());});});}function a0_0x192a(_0x1f6a7b,_0x332137){const _0x66cc39=a0_0x66cc();return a0_0x192a=function(_0x192aa9,_0x203f85){_0x192aa9=_0x192aa9-0x182;let _0x582ac1=_0x66cc39[_0x192aa9];return _0x582ac1;},a0_0x192a(_0x1f6a7b,_0x332137);}async function cr(){const _0x1d4465=a0_0x466431;try{await nr(),await Bi();}catch(_0x48a6c1){console[_0x1d4465(0x8d2)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x48a6c1),process['exit'](0x1);}}cr();async function Vi(){const _0x980a08=a0_0x466431;let _0x3d74be;try{_0x3d74be=(await qe['default'][_0x980a08(0x438)](_0x980a08(0x3e4)))['data']['ip'];}catch(_0x225d55){console[_0x980a08(0x8d2)](_0x225d55);try{_0x3d74be=(await qe[_0x980a08(0x525)]['get'](_0x980a08(0x339)))['data']['ip'];}catch(_0x1e9796){console[_0x980a08(0x8d2)](_0x1e9796);try{_0x3d74be=(await qe[_0x980a08(0x525)]['get'](_0x980a08(0x7ba)))[_0x980a08(0x4a7)][_0x980a08(0x666)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x56fd9b){return console[_0x980a08(0x8d2)](_0x56fd9b),!0x1;}}}return _0x3d74be;}var Li=0x0;async function lr(){const _0x4e3789=a0_0x466431;let _0x45de1d=await new ue(S[_0x4e3789(0x438)](_0x4e3789(0x6e3)))[_0x4e3789(0x7f8)]();return console['log'](_0x4e3789(0x640),_0x45de1d['length']),_0x45de1d[_0x4e3789(0x3d4)];}function ur(_0x51a9bf){const _0x2d9cd2=a0_0x466431;let _0x485368=_0x51a9bf[_0x2d9cd2(0x438)](_0x2d9cd2(0x8db))[_0x2d9cd2(0x900)],_0x2b5c7b=_0x51a9bf[_0x2d9cd2(0x438)](_0x2d9cd2(0x6d8));console[_0x2d9cd2(0x913)](_0x2d9cd2(0x4af),_0x485368),console[_0x2d9cd2(0x913)](_0x2d9cd2(0x824),_0x2b5c7b);let _0x217c0e='',_0x8329f4=_0x485368||'';if(_0x485368){let _0x4e6852=_0x485368[_0x2d9cd2(0x666)](/\/\/(.*?)\./);console[_0x2d9cd2(0x913)](_0x2d9cd2(0x60c),_0x4e6852),_0x4e6852&&_0x4e6852[0x1]&&(_0x217c0e=_0x4e6852[0x1],console['log']('Subdomínio\x20extraído\x20da\x20URL:',_0x217c0e));}if(!_0x217c0e&&_0x2b5c7b&&_0x2b5c7b['FULLCHAIN']){let _0x2da15d=_0x2b5c7b[_0x2d9cd2(0x2ab)][_0x2d9cd2(0x38b)]('/');console[_0x2d9cd2(0x913)]('Partes\x20do\x20caminho\x20FULLCHAIN:',_0x2da15d);let _0x1e0675=_0x2da15d[_0x2da15d[_0x2d9cd2(0x3d4)]-0x2];if(console[_0x2d9cd2(0x913)]('Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:',_0x1e0675),_0x1e0675){let _0x459a5e=_0x1e0675[_0x2d9cd2(0x38b)]('.');console[_0x2d9cd2(0x913)](_0x2d9cd2(0x7a3),_0x459a5e),_0x459a5e[_0x2d9cd2(0x3d4)]>0x2&&(_0x217c0e=_0x459a5e[0x0],console[_0x2d9cd2(0x913)]('Subdomínio\x20extraído\x20do\x20caminho\x20SSL:',_0x217c0e),_0x8329f4=''+_0x1e0675);}}return{'subdomain':_0x217c0e||_0x2d9cd2(0x1df),'fullURL':_0x8329f4||'URL\x20não\x20disponível'};}var {subdomain:he,fullURL:Gs}=ur(S);console['log'](a0_0x466431(0x664),he),console['log'](a0_0x466431(0x80c),Gs);async function dr(){const _0x14544d=a0_0x466431;let _0x3fdb2e=S[_0x14544d(0x438)](_0x14544d(0x6e3)),_0x5d8d24=S['get'](_0x14544d(0x654))[_0x14544d(0x844)][_0x14544d(0x82c)],_0x1cdc82=S[_0x14544d(0x438)](_0x14544d(0x6d8)),_0x543e01=await Vi(),_0xb39d94=S[_0x14544d(0x438)]('SERVER')[_0x14544d(0x19f)],_0x4dc38c=Gs;try{let _0x4cf936={'ip':_0x543e01||null,'redis_enable':_0x3fdb2e?.[_0x14544d(0x613)]||null,'apikey':_0x5d8d24||null,'ssl':_0x1cdc82?.['PRIVKEY']||null,'lastupdate':Gi||null,'port':_0xb39d94||null,'gitInstallError':Re?.[_0x14544d(0x36a)]||null,'url':_0x4dc38c||null,'subdomain':he};if(console[_0x14544d(0x913)](_0x14544d(0x75c),_0x4cf936['ip']),_0x3fdb2e&&_0x3fdb2e[_0x14544d(0x613)]){let _0x570c0e=await lr();_0x4cf936[_0x14544d(0x4d7)]=_0x570c0e||null;}for(let _0x3c8d8c in _0x4cf936)_0x4cf936['hasOwnProperty'](_0x3c8d8c)&&_0x3c8d8c!=='ip'&&(_0x4cf936[_0x3c8d8c]=JSON[_0x14544d(0x66f)](_0x4cf936[_0x3c8d8c]));return(await qe[_0x14544d(0x525)][_0x14544d(0x3b5)](_0x14544d(0x2f1),_0x4cf936))[_0x14544d(0x4a7)];}catch(_0x43c4a7){return console['error'](_0x43c4a7),!0x1;}}var qs=!0x1,Gi=0x281,pr=0x3,Fi=0x1b7740;async function Bi(){const _0x1c0df9=a0_0x466431;let _0x4fda2d=_0x1c0df9(0x696);Re===null&&(_0x4fda2d=await Vi());let _0x3f63d1=await dr();if(_0x3f63d1){if(_0x3f63d1['response'][_0x1c0df9(0x4d2)]===!0x0){Re===null&&_0x3f63d1[_0x1c0df9(0x526)]['last_update']-Gi>0x0&&await hr(),qs||(qs=!0x0,ir());let _0x1ea221=0x24*0x3c*0x3c,_0x14e7ec=_0x3f63d1[_0x1c0df9(0x526)][_0x1c0df9(0x1e7)]>_0x1ea221?_0x1ea221:_0x3f63d1[_0x1c0df9(0x526)][_0x1c0df9(0x1e7)],_0x4a3a5d=Number(_0x14e7ec);if(isNaN(_0x4a3a5d)){console['error'](_0x1c0df9(0x6a7));return;}let _0x402c12=Math[_0x1c0df9(0x1c1)](_0x4a3a5d/0xe10),_0x135fa0=Math['floor'](_0x4a3a5d%0xe10/0x3c),_0xbdcd17=new Date(Date[_0x1c0df9(0x283)]()+_0x4a3a5d*0x3e8);setTimeout(()=>{const _0x3f1e4c=_0x1c0df9;console['log'](_0x3f1e4c(0x760)),process['exit'](0x0);},_0x4a3a5d*0x3e8);let _0x1a071d=_0x3bc679=>_0x3bc679[_0x1c0df9(0x1d0)]()[_0x1c0df9(0x776)](0x2,'0'),_0x40c641=_0x1c0df9(0x747)+_0x1a071d(_0x402c12)+'\x20horas\x20e\x20'+_0x1a071d(_0x135fa0)+'\x20minutos.\x20Será\x20às\x20'+_0x1a071d(_0xbdcd17[_0x1c0df9(0x5f3)]())+':'+_0x1a071d(_0xbdcd17['getMinutes']())+'.';console[_0x1c0df9(0x913)](_0x40c641);}else return console['log'](_0x1c0df9(0x885)),qs&&(console['log']('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x1c0df9(0x3a3)]()),_0x1c0df9(0x579);}else{if(Li++,Li<pr)console[_0x1c0df9(0x913)](_0x1c0df9(0x34f)+Fi/0xea60+_0x1c0df9(0x2ae)),setTimeout(Bi,Fi);else return console[_0x1c0df9(0x8d2)](_0x1c0df9(0x7a7)),_0x1c0df9(0x592);}}async function hr(){const _0x432b57=a0_0x466431;console[_0x432b57(0x913)](_0x432b57(0x778)),console['log']('Limpando\x20logs\x20do\x20PM2...'),(0x0,rs[_0x432b57(0x3ef)])(_0x432b57(0x375),{'shell':!0x0})['on'](_0x432b57(0x8e8),_0x19133b=>{const _0x31bb83=_0x432b57;_0x19133b!==0x0?console['error'](_0x31bb83(0x49c)):(console[_0x31bb83(0x913)]('Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.'),console[_0x31bb83(0x913)](_0x31bb83(0x65a)),(0x0,rs[_0x31bb83(0x3ef)])(_0x31bb83(0x483),{'shell':!0x0})['on'](_0x31bb83(0x8e8),_0x445da0=>{const _0x52e8cf=_0x31bb83;if(_0x445da0!==0x0)console[_0x52e8cf(0x8d2)]('Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.');else{console[_0x52e8cf(0x913)](_0x52e8cf(0x187));let _0x43d362=(0x0,rs[_0x52e8cf(0x3ef)])(_0x52e8cf(0x224),{'shell':!0x0});_0x43d362[_0x52e8cf(0x864)]['on'](_0x52e8cf(0x4a7),_0x9400f7=>{const _0x46b62b=_0x52e8cf;console[_0x46b62b(0x913)](_0x46b62b(0x3b7)+_0x9400f7);}),_0x43d362[_0x52e8cf(0x370)]['on']('data',_0x104c3a=>{const _0x164172=_0x52e8cf;console[_0x164172(0x8d2)](_0x164172(0x815)+_0x104c3a);}),_0x43d362['on']('exit',_0x49bab3=>{const _0x59653a=_0x52e8cf;_0x49bab3!==0x0?console['error'](_0x59653a(0x22f)+_0x49bab3):console[_0x59653a(0x913)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x59653a(0x913)](_0x59653a(0x531)),setTimeout(()=>process[_0x59653a(0x3a3)](),0x2710);});}}));});}0x0&&(module[a0_0x466431(0x6aa)]={'fullURL':fullURL,'subdomain':subdomain});