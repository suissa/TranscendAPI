const a0_0x131850=a0_0x1581;(function(_0x3105a6,_0x2b37ee){const _0x3d28a8=a0_0x1581,_0x205636=_0x3105a6();while(!![]){try{const _0x4857d4=-parseInt(_0x3d28a8(0x691))/0x1*(-parseInt(_0x3d28a8(0x4bd))/0x2)+-parseInt(_0x3d28a8(0x328))/0x3+parseInt(_0x3d28a8(0x29f))/0x4*(parseInt(_0x3d28a8(0x7ea))/0x5)+-parseInt(_0x3d28a8(0x68c))/0x6*(parseInt(_0x3d28a8(0x617))/0x7)+-parseInt(_0x3d28a8(0x253))/0x8+-parseInt(_0x3d28a8(0x64c))/0x9+-parseInt(_0x3d28a8(0x7bf))/0xa*(-parseInt(_0x3d28a8(0x6b3))/0xb);if(_0x4857d4===_0x2b37ee)break;else _0x205636['push'](_0x205636['shift']());}catch(_0x39975d){_0x205636['push'](_0x205636['shift']());}}}(a0_0x7d3c,0xb3eba));var Br=Object[a0_0x131850(0x5c3)],Pe=Object[a0_0x131850(0x31e)],Gr=Object[a0_0x131850(0x403)],Wr=Object[a0_0x131850(0x2ee)],zr=Object[a0_0x131850(0x441)],Hr=Object['prototype'][a0_0x131850(0x37f)],Kr=(_0x3599c0,_0x27b760)=>{for(var _0x1ab3d8 in _0x27b760)Pe(_0x3599c0,_0x1ab3d8,{'get':_0x27b760[_0x1ab3d8],'enumerable':!0x0});},Us=(_0x9b6627,_0x2abce7,_0x2c639e,_0x3b79b3)=>{const _0x622c81=a0_0x131850;if(_0x2abce7&&typeof _0x2abce7=='object'||typeof _0x2abce7==_0x622c81(0x7fb)){for(let _0x47e2df of Wr(_0x2abce7))!Hr[_0x622c81(0x44e)](_0x9b6627,_0x47e2df)&&_0x47e2df!==_0x2c639e&&Pe(_0x9b6627,_0x47e2df,{'get':()=>_0x2abce7[_0x47e2df],'enumerable':!(_0x3b79b3=Gr(_0x2abce7,_0x47e2df))||_0x3b79b3[_0x622c81(0x1e2)]});}return _0x9b6627;},O=(_0x567b8b,_0x2426f1,_0x2e3138)=>(_0x2e3138=_0x567b8b!=null?Br(zr(_0x567b8b)):{},Us(_0x2426f1||!_0x567b8b||!_0x567b8b[a0_0x131850(0x4e9)]?Pe(_0x2e3138,a0_0x131850(0x1c2),{'value':_0x567b8b,'enumerable':!0x0}):_0x2e3138,_0x567b8b)),Qr=_0x1302c0=>Us(Pe({},a0_0x131850(0x4e9),{'value':!0x0}),_0x1302c0),io={};Kr(io,{'subdomain':()=>_s}),module[a0_0x131850(0x69f)]=Qr(io);var Lr=O(require('compression')),qs=require('fs'),Vs=require('js-yaml'),Bs=require(a0_0x131850(0x20f)),$e=require(a0_0x131850(0x20f)),ie=process['cwd'](),ge=(0x0,$e[a0_0x131850(0x50c)])(ie,a0_0x131850(0x52e)),Js=(0x0,$e[a0_0x131850(0x50c)])(ie,a0_0x131850(0x6a9)),Xo=(0x0,$e[a0_0x131850(0x50c)])(ie,a0_0x131850(0x6f6),a0_0x131850(0x398)),os=class{constructor(){this['loadEnv']();}['get'](_0x3a3387){return this['env'][_0x3a3387];}[a0_0x131850(0x70f)](){const _0xc53b5d=a0_0x131850;this[_0xc53b5d(0x475)]=process[_0xc53b5d(0x475)]?.['DOCKER_ENV']!==_0xc53b5d(0x6d9)?this[_0xc53b5d(0x323)]():this['envProcess'](),process[_0xc53b5d(0x475)]?.[_0xc53b5d(0x4ae)]===_0xc53b5d(0x6d9)&&(this[_0xc53b5d(0x475)][_0xc53b5d(0x74c)][_0xc53b5d(0x2d9)]=_0xc53b5d(0x348),this[_0xc53b5d(0x475)]['SERVER'][_0xc53b5d(0x2c6)]=Number[_0xc53b5d(0x46b)](process[_0xc53b5d(0x475)]?.['SERVER_PORT']??_0xc53b5d(0x16b)));}[a0_0x131850(0x323)](){const _0x23d2f8=a0_0x131850;return(0x0,Vs['load'])((0x0,qs[_0x23d2f8(0x183)])((0x0,Bs['join'])(Js,_0x23d2f8(0x7a6)),{'encoding':_0x23d2f8(0x516)}));}[a0_0x131850(0x246)](){const _0xeb5d80=a0_0x131850;return{'SERVER':{'TYPE':process[_0xeb5d80(0x475)]['SERVER_TYPE'],'PORT':Number[_0xeb5d80(0x46b)](process[_0xeb5d80(0x475)]['SERVER_PORT']),'URL':process[_0xeb5d80(0x475)][_0xeb5d80(0x745)]},'CORS':{'ORIGIN':process[_0xeb5d80(0x475)][_0xeb5d80(0x214)][_0xeb5d80(0x5a5)](','),'METHODS':process[_0xeb5d80(0x475)][_0xeb5d80(0x2b6)][_0xeb5d80(0x5a5)](','),'CREDENTIALS':process[_0xeb5d80(0x475)]?.[_0xeb5d80(0x1bb)]==='true'},'SSL_CONF':{'PRIVKEY':process['env']?.[_0xeb5d80(0x242)],'FULLCHAIN':process[_0xeb5d80(0x475)]?.[_0xeb5d80(0x646)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0xeb5d80(0x475)]?.[_0xeb5d80(0x1ad)])?Number['parseInt'](process[_0xeb5d80(0x475)][_0xeb5d80(0x1ad)]):void 0x0,'MESSAGES':process[_0xeb5d80(0x475)]?.[_0xeb5d80(0x59e)]===_0xeb5d80(0x6d9),'CONTACTS':process[_0xeb5d80(0x475)]?.[_0xeb5d80(0x75a)]===_0xeb5d80(0x6d9),'CHATS':process[_0xeb5d80(0x475)]?.[_0xeb5d80(0x63a)]===_0xeb5d80(0x6d9)},'DATABASE':{'CONNECTION':{'HOST':process[_0xeb5d80(0x475)]?.[_0xeb5d80(0x496)],'PORT':Number[_0xeb5d80(0x46b)](process[_0xeb5d80(0x475)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0xeb5d80(0x475)][_0xeb5d80(0x5f7)],'PASSWORD':process[_0xeb5d80(0x475)][_0xeb5d80(0x567)],'URI':process[_0xeb5d80(0x475)][_0xeb5d80(0x43e)],'DB_PREFIX_NAME':process['env'][_0xeb5d80(0x591)]},'ENABLED':process['env']?.['DATABASE_ENABLED']===_0xeb5d80(0x6d9)},'REDIS':{'ENABLED':process['env']?.['REDIS_ENABLED']==='true','URI':process['env'][_0xeb5d80(0x700)]||_0xeb5d80(0x32b),'PREFIX_KEY':process['env'][_0xeb5d80(0x72b)]||'uazapi'},'LOG':{'LEVEL':process['env']?.['LOG_LEVEL'][_0xeb5d80(0x5a5)](','),'COLOR':process[_0xeb5d80(0x475)]?.['LOG_COLOR']===_0xeb5d80(0x6d9)},'PROXY':Number[_0xeb5d80(0x46b)](process[_0xeb5d80(0x475)]?.[_0xeb5d80(0x6c8)]),'AUTHENTICATION':{'TYPE':process[_0xeb5d80(0x475)][_0xeb5d80(0x2a5)],'API_KEY':{'KEY':process[_0xeb5d80(0x475)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number['isInteger'](process['env']?.[_0xeb5d80(0x6fc)])?Number[_0xeb5d80(0x46b)](process[_0xeb5d80(0x475)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0xeb5d80(0x475)][_0xeb5d80(0x2cc)]}}};}},b=new os(),jr=O(require(a0_0x131850(0x76b))),he=O(require(a0_0x131850(0x6d2))),js=require(a0_0x131850(0x20f)),ns=O(require(a0_0x131850(0x27f))),cs=(_0x5ef673=>(_0x5ef673[a0_0x131850(0x6de)]=a0_0x131850(0x56f),_0x5ef673[a0_0x131850(0x586)]='\x1b[34m',_0x5ef673['WARN']='\x1b[33m',_0x5ef673[a0_0x131850(0x60f)]='\x1b[31m',_0x5ef673[a0_0x131850(0x51f)]=a0_0x131850(0x756),_0x5ef673[a0_0x131850(0x29c)]=a0_0x131850(0x492),_0x5ef673['DARK']=a0_0x131850(0x1c3),_0x5ef673))(cs||{}),Gs=(_0x6775ba=>(_0x6775ba['LOG']=a0_0x131850(0x1ee),_0x6775ba['DARK']=a0_0x131850(0x81d),_0x6775ba['INFO']=a0_0x131850(0x790),_0x6775ba['WARN']='\x1b[33m%s\x1b[0m',_0x6775ba['ERROR']=a0_0x131850(0x1d5),_0x6775ba[a0_0x131850(0x51f)]=a0_0x131850(0x63e),_0x6775ba[a0_0x131850(0x29c)]='\x1b[37m%s\x1b[0m',_0x6775ba))(Gs||{}),Ws=(_0x1552a9=>(_0x1552a9[a0_0x131850(0x6de)]=a0_0x131850(0x6de),_0x1552a9[a0_0x131850(0x213)]=a0_0x131850(0x213),_0x1552a9[a0_0x131850(0x586)]=a0_0x131850(0x586),_0x1552a9[a0_0x131850(0x730)]='DARK',_0x1552a9[a0_0x131850(0x60f)]=a0_0x131850(0x60f),_0x1552a9[a0_0x131850(0x51f)]=a0_0x131850(0x51f),_0x1552a9[a0_0x131850(0x29c)]=a0_0x131850(0x29c),_0x1552a9))(Ws||{}),zs=(_0xff247=>(_0xff247[a0_0x131850(0x6de)]='\x1b[42m',_0xff247['INFO']=a0_0x131850(0x782),_0xff247['WARN']=a0_0x131850(0x1bd),_0xff247[a0_0x131850(0x730)]='\x1b[40m',_0xff247[a0_0x131850(0x60f)]=a0_0x131850(0x3ce),_0xff247[a0_0x131850(0x51f)]='\x1b[46m',_0xff247[a0_0x131850(0x29c)]=a0_0x131850(0x6e0),_0xff247))(zs||{}),v=class{constructor(_0x451563=a0_0x131850(0x44a)){const _0x1defe2=a0_0x131850;this[_0x1defe2(0x7aa)]=_0x451563,this[_0x1defe2(0x400)]=b;}[a0_0x131850(0x771)](_0x517bca){const _0x13d670=a0_0x131850;this[_0x13d670(0x7aa)]=_0x517bca;}[a0_0x131850(0x4da)](_0x4e8207,_0x4aea1f){const _0x340310=a0_0x131850;let _0x23a146=[];this[_0x340310(0x400)][_0x340310(0x5b0)](_0x340310(0x6de))[_0x340310(0x694)][_0x340310(0x773)](_0x635a26=>_0x23a146[_0x340310(0x1b9)](Ws[_0x635a26]));let _0x1d8b3d=typeof _0x4e8207;_0x23a146[_0x340310(0x2c5)](_0x4aea1f)&&(b[_0x340310(0x5b0)](_0x340310(0x6de))[_0x340310(0x2ad)]?(console[_0x340310(0x70b)](_0x340310(0x284)+Gs[_0x4aea1f],_0x340310(0x22d),(0x0,ns['default'])()[_0x340310(0x697)](_0x340310(0x35d)),'\x1b[0m',cs[_0x4aea1f]+zs[_0x4aea1f]+'\x1b[1m',_0x4aea1f+_0x340310(0x3a4),_0x340310(0x624),this[_0x340310(0x7aa)]+'\x1b[0m',cs[_0x4aea1f],_0x1d8b3d!==_0x340310(0x662)?_0x4e8207:'',_0x340310(0x6c4)),_0x1d8b3d===_0x340310(0x662)&&console[_0x340310(0x70b)](_0x4e8207,'\x0a')):console[_0x340310(0x70b)]((0x0,ns[_0x340310(0x1c2)])()[_0x340310(0x697)](_0x340310(0x75e)),_0x4aea1f+'\x20',''+this[_0x340310(0x7aa)],_0x4e8207));}[a0_0x131850(0x70b)](_0x3b35d3){const _0x43a422=a0_0x131850;this[_0x43a422(0x4da)](_0x3b35d3,_0x43a422(0x6de));}[a0_0x131850(0x4f3)](_0x32001f){const _0x3b7948=a0_0x131850;this[_0x3b7948(0x4da)](_0x32001f,_0x3b7948(0x586));}[a0_0x131850(0x2c4)](_0x5c72d3){const _0x214963=a0_0x131850;this[_0x214963(0x4da)](_0x5c72d3,_0x214963(0x213));}[a0_0x131850(0x4e7)](_0x2e5c74){const _0x164c85=a0_0x131850;this[_0x164c85(0x4da)](_0x2e5c74,_0x164c85(0x60f));}[a0_0x131850(0x1ef)](_0x18e091){const _0x2fee41=a0_0x131850;this[_0x2fee41(0x4da)](_0x18e091,_0x2fee41(0x29c));}['debug'](_0x58513f){const _0x1a9167=a0_0x131850;this[_0x1a9167(0x4da)](_0x58513f,_0x1a9167(0x51f));}[a0_0x131850(0x601)](_0x504106){const _0x41c049=a0_0x131850;this[_0x41c049(0x4da)](_0x504106,_0x41c049(0x730));}};function Hs(){const _0xd6d90e=a0_0x131850;process['on'](_0xd6d90e(0x7c7),(_0x1751ff,_0x1a9201)=>{const _0x532fca=_0xd6d90e;new v(_0x532fca(0x7c7))[_0x532fca(0x4e7)]({'origin':_0x1a9201,'stderr':process['stderr']['fd'],'error':_0x1751ff});}),process['on'](_0xd6d90e(0x550),(_0x40f2a3,_0x22e05a)=>{const _0x472393=_0xd6d90e;new v(_0x472393(0x550))['error']({'origin':_0x22e05a,'stderr':process['stderr']['fd'],'error':_0x40f2a3});});}var Ks=O(require(a0_0x131850(0x4b2))),ls=new Ks['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Le=require('mongoose'),Se=O(require(a0_0x131850(0x1a7))),ke=new v(a0_0x131850(0x304)),k=b[a0_0x131850(0x5b0)]('DATABASE'),T=k[a0_0x131850(0x237)]?k[a0_0x131850(0x710)]['URI']?Se[a0_0x131850(0x1c2)]['createConnection'](k[a0_0x131850(0x710)][a0_0x131850(0x5f1)],{'dbName':k[a0_0x131850(0x710)][a0_0x131850(0x1be)]+a0_0x131850(0x61e)}):Se[a0_0x131850(0x1c2)][a0_0x131850(0x3ea)](a0_0x131850(0x30f)+k[a0_0x131850(0x710)][a0_0x131850(0x1e3)]+':'+k[a0_0x131850(0x710)][a0_0x131850(0x2c6)]+a0_0x131850(0x6b2),{'user':k['CONNECTION'][a0_0x131850(0x3dd)],'pass':k[a0_0x131850(0x710)][a0_0x131850(0x5de)],'dbName':k[a0_0x131850(0x710)][a0_0x131850(0x1be)]+a0_0x131850(0x61e)}):null;k['ENABLED']&&ke[a0_0x131850(0x4f3)](a0_0x131850(0x605)+T[a0_0x131850(0x725)]);function a0_0x1581(_0x4fdbcc,_0x325cce){const _0x7d3c09=a0_0x7d3c();return a0_0x1581=function(_0x158156,_0x26f941){_0x158156=_0x158156-0x165;let _0x34ce6e=_0x7d3c09[_0x158156];return _0x34ce6e;},a0_0x1581(_0x4fdbcc,_0x325cce);}var me=k[a0_0x131850(0x237)]?k['CONNECTION']['URI']?Se['default'][a0_0x131850(0x3ea)](k[a0_0x131850(0x710)][a0_0x131850(0x5f1)],{'dbName':'cachedData-whatsapp'}):Se[a0_0x131850(0x1c2)][a0_0x131850(0x3ea)](a0_0x131850(0x30f)+k['CONNECTION'][a0_0x131850(0x1e3)]+':'+k[a0_0x131850(0x710)]['PORT']+a0_0x131850(0x6b2),{'user':k['CONNECTION'][a0_0x131850(0x3dd)],'pass':k[a0_0x131850(0x710)][a0_0x131850(0x5de)],'dbName':'cachedContacts-whatsapp'}):null;me&&ke[a0_0x131850(0x4f3)](a0_0x131850(0x605)+me[a0_0x131850(0x725)]),process['on'](a0_0x131850(0x5a9),()=>{const _0x4ec6e9=a0_0x131850;T&&T[_0x4ec6e9(0x274)](()=>{const _0x5ba277=_0x4ec6e9;ke['info'](_0x5ba277(0x429));}),me&&me['close'](()=>{ke['info']('CacheContacts\x20database\x20connection\x20closed.');});});var Yr=new Le[(a0_0x131850(0x46a))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xr=new Le[(a0_0x131850(0x46a))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yr],'default':[]}},{'_id':!0x1}),Zr=new Le[(a0_0x131850(0x46a))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Xr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Qs=_0x5ed128=>{const _0x352a3e=a0_0x131850;let _0x5cfcde='z_'+_0x5ed128+_0x352a3e(0x6bc);return T?.[_0x352a3e(0x709)](_0x352a3e(0x4e1),Zr,_0x5cfcde);},Ys=require(a0_0x131850(0x1a7)),ei=new Ys[(a0_0x131850(0x46a))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Xs=_0x5e91d9=>{const _0x546e7e=a0_0x131850;let _0x67427e='z_'+_0x5e91d9+'_Contacts';return T?.[_0x546e7e(0x709)](_0x546e7e(0x292),ei,_0x67427e);},Zs=require(a0_0x131850(0x1a7)),us=class{},ti=new Zs['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ea=me?.[a0_0x131850(0x709)](us[a0_0x131850(0x228)],ti,a0_0x131850(0x479)),ta=require(a0_0x131850(0x1a7)),si=new ta[(a0_0x131850(0x46a))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),sa=_0x1b742d=>{const _0x4addee=a0_0x131850;let _0x467145='z_'+_0x1b742d+_0x4addee(0x370);return T?.[_0x4addee(0x709)](_0x4addee(0x1f5),si,_0x467145);},aa=require(a0_0x131850(0x1a7)),ds=class{},ai=new aa[(a0_0x131850(0x46a))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ra=T?.[a0_0x131850(0x709)](ds[a0_0x131850(0x228)],ai,a0_0x131850(0x603)),ia=require(a0_0x131850(0x1a7)),ps=class{},oa=new ia[(a0_0x131850(0x46a))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});oa[a0_0x131850(0x5c2)]('save',function(_0x44acc1){const _0x843829=a0_0x131850;delete this[_0x843829(0x5eb)],delete this['flowIgnoreGroups'],delete this['flowPrefixCommand'],delete this['flowStopConversation'],delete this[_0x843829(0x79a)],_0x44acc1();});var na=T?.['model'](ps[a0_0x131850(0x228)],oa,a0_0x131850(0x715)),L=require(a0_0x131850(0x1a7)),ca=require(a0_0x131850(0x3fb)),je=class{},la=new L[(a0_0x131850(0x46a))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),hs=new L['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ri=new L[(a0_0x131850(0x46a))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x131850(0x62a)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x131850(0x2e0)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x131850(0x3aa)},'pollErrorMessage':{'type':String,'default':a0_0x131850(0x1f0)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ua=new L['Schema']({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ii=new L[(a0_0x131850(0x46a))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),oi=new L[(a0_0x131850(0x46a))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ys=new L[(a0_0x131850(0x46a))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),da=new L[(a0_0x131850(0x46a))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ri},'apirequest':ii,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),pa=new L[(a0_0x131850(0x46a))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),gs=class{},Fe=new L['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,ca['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x287e5b=a0_0x131850;return'!cmd_'+Math[_0x287e5b(0x18d)]()['toString'](0x24)[_0x287e5b(0x2af)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ys],'variablesNotFound':{'type':[String]},'blocks':[da],'groups':[la],'conditions':[ua],'varedits':[pa],'replyOptions':{'type':[hs],'default':[]}});Fe['pre'](a0_0x131850(0x230),function(_0x405b51){const _0x15a896=a0_0x131850;let _0x1700be=new Set(),_0x29a8b8=new Set(this['variables']?.[_0x15a896(0x4e4)](_0x2a8b26=>_0x2a8b26[_0x15a896(0x228)])),_0xc2e9f2=JSON[_0x15a896(0x74e)](this),_0xe9f1e0=/{{(?!_)([^}]*)}}/g,_0x5802de;for(;(_0x5802de=_0xe9f1e0[_0x15a896(0x51c)](_0xc2e9f2))!==null;)_0x29a8b8['has'](_0x5802de[0x1])||_0x1700be['add'](_0x5802de[0x1]);_0x1700be[_0x15a896(0x1a1)]>0x0?(console['warn'](_0x15a896(0x4ce),Array[_0x15a896(0x25a)](_0x1700be)),this[_0x15a896(0x5ca)]=Array[_0x15a896(0x25a)](_0x1700be)):this['variablesNotFound']=[],_0x405b51();}),Fe['pre'](a0_0x131850(0x6d1),function(_0x3f35aa){const _0xc11059=a0_0x131850;let _0x3bb373=this[_0xc11059(0x3a0)]();if(_0x3bb373&&typeof _0x3bb373==_0xc11059(0x662)&&_0xc11059(0x483)in _0x3bb373){let _0x333a08=_0x3bb373[_0xc11059(0x483)];if(_0x333a08){let _0x1918a5=new Set(),_0x4e3e6e=new Set(_0x333a08['variables']?.[_0xc11059(0x4e4)](_0x590a32=>_0x590a32[_0xc11059(0x228)])),_0x43236d=JSON[_0xc11059(0x74e)](_0x333a08),_0x464f3e=/{{(?!_)([^}]*)}}/g,_0x5ac390;for(;(_0x5ac390=_0x464f3e['exec'](_0x43236d))!==null;)_0x4e3e6e[_0xc11059(0x1a5)](_0x5ac390[0x1])||_0x1918a5['add'](_0x5ac390[0x1]);_0x1918a5['size']>0x0?(console[_0xc11059(0x2c4)]('Variáveis\x20não\x20encontradas:',Array['from'](_0x1918a5)),_0x333a08[_0xc11059(0x5ca)]=Array['from'](_0x1918a5)):_0x333a08[_0xc11059(0x5ca)]=[],this[_0xc11059(0x6cf)]({'$set':_0x333a08});}}_0x3f35aa();});var ha=_0x2d63de=>{const _0x28600d=a0_0x131850;let _0x43a38d='z_'+_0x2d63de+'_Flows';return T?.[_0x28600d(0x709)](_0x28600d(0x19f),Fe,_0x43a38d);},ga=T?.[a0_0x131850(0x709)](gs[a0_0x131850(0x228)],Fe,a0_0x131850(0x3e2)),ni=new L[(a0_0x131850(0x46a))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ys],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[oi]},{'_id':!0x1}),ms=class{},ma=new L[(a0_0x131850(0x46a))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ys],'blocks':[da],'groups':[la],'conditions':[ua],'varedits':[pa],'replyOptions':{'type':[hs],'default':[]},'chatLog':ni,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x131850(0x31d)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x131850(0x3aa)},'waitingMenu_replyOptions':{'type':[hs],'default':[]}}),fa=_0x1fe948=>{const _0x38ad10=a0_0x131850;let _0xf562fa='z_'+_0x1fe948+_0x38ad10(0x6e4);return T?.['model'](_0x38ad10(0x6a3),ma,_0xf562fa);},wa=T?.[a0_0x131850(0x709)](ms[a0_0x131850(0x228)],ma,a0_0x131850(0x5c6)),fs=class{},ci=new L['Schema']({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),li=new L['Schema']({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ya=new L[(a0_0x131850(0x46a))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x131850(0x4f8)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':li,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ci],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ba=_0x54ef1e=>{const _0x42b6a2=a0_0x131850;let _0x50ee42='z_'+_0x54ef1e+_0x42b6a2(0x678);return T?.['model']('ScheduleMessageModel',ya,_0x50ee42);},Sa=T?.[a0_0x131850(0x709)](fs[a0_0x131850(0x228)],ya,a0_0x131850(0x2b5)),ws=class{},ui=new L['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),di=new L[(a0_0x131850(0x46a))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x131850(0x1e6)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),pi=new L[(a0_0x131850(0x46a))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),hi=new L[(a0_0x131850(0x46a))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[pi]},'customFields':{'type':[ui]},'flowConfig':{'type':di,'default':{}}}),Ue=T?.['model'](ws[a0_0x131850(0x228)],hi,a0_0x131850(0x56c)),Ca=require('mongoose'),gi=new Ca['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0x415af3=>{const _0x2c289c=a0_0x131850;let _0x373e53='z_'+_0x415af3+'_Labels';return T?.[_0x2c289c(0x709)](_0x2c289c(0x376),gi,_0x373e53);},D=class{constructor(_0x84efd4){const _0x454c93=a0_0x131850;this['dbSettings']=_0x84efd4[_0x454c93(0x5b0)](_0x454c93(0x4ec));}};function A(_0x492450){const _0x27cd34=a0_0x131850;let _0x13826f={};for(let [_0x56bf1,_0x1369a6]of Object[_0x27cd34(0x7a4)](_0x492450))if(typeof _0x1369a6==_0x27cd34(0x662)&&!Array[_0x27cd34(0x24a)](_0x1369a6)){for(let [_0x2bdf5a,_0x38d076]of Object[_0x27cd34(0x7a4)](_0x1369a6))_0x13826f[_0x56bf1+'.'+_0x2bdf5a]=_0x38d076;}else _0x13826f[_0x56bf1]=_0x1369a6;return _0x13826f;}var Je=class{constructor(_0x28b5cd,_0x27bdf6,_0x7ba19d,_0x32c8c9,_0xf30cc3,_0x4cf74a,_0x221429,_0x1a3643,_0x5c65da,_0x5cf30a,_0x1b6f80,_0x2d05af){const _0x3c839e=a0_0x131850;this[_0x3c839e(0x66c)]=_0x28b5cd,this['chat']=_0x27bdf6,this[_0x3c839e(0x51d)]=_0x7ba19d,this[_0x3c839e(0x794)]=_0x32c8c9,this[_0x3c839e(0x715)]=_0xf30cc3,this[_0x3c839e(0x398)]=_0x4cf74a,this[_0x3c839e(0x3e2)]=_0x221429,this[_0x3c839e(0x5c6)]=_0x1a3643,this[_0x3c839e(0x507)]=_0x5c65da,this[_0x3c839e(0x185)]=_0x5cf30a,this[_0x3c839e(0x642)]=_0x1b6f80,this[_0x3c839e(0x5be)]=_0x2d05af;}get[a0_0x131850(0x5a6)](){const _0x3ae5f3=a0_0x131850;return this[_0x3ae5f3(0x5be)];}},qe=class{},Ve=class extends D{['getMessageModelForOwner'](_0x9d811e){return sa(_0x9d811e);}async[a0_0x131850(0x322)](_0x4f344a,_0x5577aa){const _0x2c5be2=a0_0x131850;if(_0x4f344a[_0x2c5be2(0x724)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2c5be2(0x6f5)](_0x5577aa)[_0x2c5be2(0x30c)]([..._0x4f344a]))[_0x2c5be2(0x724)]};}catch(_0x394daf){return _0x394daf;}}async['find'](_0x8c1270,_0x827e9b){const _0x2812bb=a0_0x131850;try{let _0x523d23=this[_0x2812bb(0x6f5)](_0x827e9b),_0x472fff=A(_0x8c1270[_0x2812bb(0x529)]);return await _0x523d23['find'](_0x472fff)[_0x2812bb(0x6a4)]({'messageTimestamp':-0x1})[_0x2812bb(0x687)](_0x8c1270?.['limit']??0x0)[_0x2812bb(0x44f)]();}catch{return[];}}async[a0_0x131850(0x3b0)](_0x4e47ad,_0x35775e){const _0x5df09b=a0_0x131850;try{let _0x15be39=this[_0x5df09b(0x6f5)](_0x35775e),_0x1bf2cf=A(_0x4e47ad[_0x5df09b(0x529)]);await _0x15be39['deleteMany'](_0x1bf2cf);}catch(_0x4ff2a3){console['error'](_0x4ff2a3);}}async[a0_0x131850(0x67c)](_0x1cd8aa,_0x4763db,_0x3591c9){const _0x1bb94d=a0_0x131850;try{let _0x235829=this[_0x1bb94d(0x6f5)](_0x3591c9),_0x45036e=A(_0x1cd8aa[_0x1bb94d(0x529)]);return await _0x235829[_0x1bb94d(0x6d1)](_0x45036e,{'$set':_0x4763db},{'new':!0x0});}catch(_0x2b72da){throw console['error'](_0x2b72da),_0x2b72da;}}async[a0_0x131850(0x30c)](_0x1fa845,_0x55a12a){const _0x43485e=a0_0x131850;if(_0x1fa845[_0x43485e(0x724)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x43485e(0x6f5)](_0x55a12a)['insertMany']([..._0x1fa845]))[_0x43485e(0x724)]};}catch(_0x3decd7){return console[_0x43485e(0x70b)](_0x43485e(0x587),_0x3decd7),_0x3decd7;}}async[a0_0x131850(0x1a9)](_0x2beba7){const _0x162d3d=a0_0x131850;try{return await this['getMessageModelForOwner'](_0x2beba7)[_0x162d3d(0x312)]['drop'](),{'success':!0x0};}catch(_0x48c276){return console[_0x162d3d(0x4e7)](_0x48c276),{'success':!0x1,'error':_0x48c276};}}},Tr=O(require(a0_0x131850(0x314))),f=O(require(a0_0x131850(0x7f0))),Te=require('fs'),q=O(require(a0_0x131850(0x20f))),Z=O(require(a0_0x131850(0x37b))),Or=require(a0_0x131850(0x3fb)),Ar=O(require(a0_0x131850(0x781))),Ir=O(require(a0_0x131850(0x6ff))),Ma=[a0_0x131850(0x62d),a0_0x131850(0x66a),a0_0x131850(0x7ae),a0_0x131850(0x67d),a0_0x131850(0x354)],va=[a0_0x131850(0x45a),a0_0x131850(0x3d0),a0_0x131850(0x407),a0_0x131850(0x4c5)],Os=require('os'),$t=O(require(a0_0x131850(0x668))),Ft=require(a0_0x131850(0x67f)),kt=require(a0_0x131850(0x45d)),le=O(require(a0_0x131850(0x1a7))),P=require(a0_0x131850(0x621)),fe=class{constructor(_0x982d1a,_0x11bea1,_0x41b698){const _0x46a48d=a0_0x131850;this['jid']=_0x982d1a,this['exists']=_0x11bea1,this[_0x46a48d(0x228)]=_0x41b698;}},Be=class{},Ge=class{},Ce=class{},We=class{},ze=class{},we=class{},He=class{},Ke=class{},Qe=class{},Ye=class{},At=O(require('express')),Na=require('fs'),Ra=require(a0_0x131850(0x20f));async function Xe(_0x456231){const _0x42e53d=a0_0x131850;let _0x211702=B[_0x42e53d(0x417)][_0x456231];if(k[_0x42e53d(0x237)]){let _0x222c3d=T[_0x42e53d(0x2be)]()['db'](k['CONNECTION'][_0x42e53d(0x1be)]+'-instances')[_0x42e53d(0x312)](_0x456231);return _0x211702||(await _0x222c3d[_0x42e53d(0x518)]({})[_0x42e53d(0x716)]())[_0x42e53d(0x724)]>0x0;}return _0x211702||(0x0,Na['existsSync'])((0x0,Ra['join'])(ge,_0x456231));}async function Ta(_0x4b3a56,_0x58c45a,_0x1b9c62){const _0x2361bb=a0_0x131850;if(_0x4b3a56[_0x2361bb(0x5d3)][_0x2361bb(0x2c5)]('/instance/create')||_0x4b3a56[_0x2361bb(0x5d3)][_0x2361bb(0x2c5)](_0x2361bb(0x54a))||_0x4b3a56[_0x2361bb(0x5d3)][_0x2361bb(0x2c5)]('/exit')||_0x4b3a56['originalUrl'][_0x2361bb(0x2c5)](_0x2361bb(0x7d6))||_0x4b3a56[_0x2361bb(0x5d3)][_0x2361bb(0x2c5)]('/instance/connect')||_0x4b3a56[_0x2361bb(0x5d3)][_0x2361bb(0x2c5)](_0x2361bb(0x359))||_0x4b3a56['originalUrl']['includes'](_0x2361bb(0x427)))return _0x1b9c62();let _0x160044=_0x4b3a56['params'];if(!_0x160044?.[_0x2361bb(0x682)])throw new w('instanceName\x20not\x20provided.');if(!await Xe(_0x160044[_0x2361bb(0x682)]))throw new j(_0x2361bb(0x467)+_0x160044[_0x2361bb(0x682)]+_0x2361bb(0x1f1));_0x1b9c62();}async function Oa(_0x4e484c,_0x428912,_0x113733){const _0x52351c=a0_0x131850;if(_0x4e484c[_0x52351c(0x5d3)][_0x52351c(0x2c5)]('/instance/create')){let _0xb328a6=_0x4e484c[_0x52351c(0x405)];if(await Xe(_0xb328a6[_0x52351c(0x682)]))throw new K(_0x52351c(0x2f0)+_0xb328a6[_0x52351c(0x682)]+_0x52351c(0x737));B['waInstances'][_0xb328a6[_0x52351c(0x682)]]&&delete B[_0x52351c(0x417)][_0xb328a6[_0x52351c(0x682)]];}_0x113733();}var Aa=require(a0_0x131850(0x621)),Ia=O(require('jsonwebtoken')),Ze='uazapi',fi=new v('GUARD');async function wi(_0x2039e7,_0x1fe848,_0x493fc){const _0x3cf7a5=a0_0x131850;let _0x376e3e=_0x2039e7[_0x3cf7a5(0x5b0)](_0x3cf7a5(0x7e6));if(_0x376e3e&&b[_0x3cf7a5(0x5b0)]('AUTHENTICATION')[_0x3cf7a5(0x5ff)][_0x3cf7a5(0x297)]!==_0x376e3e)throw new te();if(b[_0x3cf7a5(0x5b0)]('AUTHENTICATION')[_0x3cf7a5(0x5ff)][_0x3cf7a5(0x297)]===_0x376e3e)return _0x493fc();if((_0x2039e7[_0x3cf7a5(0x5d3)][_0x3cf7a5(0x2c5)]('/instance/create')||_0x2039e7[_0x3cf7a5(0x5d3)][_0x3cf7a5(0x2c5)]('/instance/fetchInstances'))&&!_0x376e3e)throw new K(_0x3cf7a5(0x80b),'The\x20global\x20api\x20key\x20must\x20be\x20set');let _0x960d02=b[_0x3cf7a5(0x5b0)](_0x3cf7a5(0x712))[_0x3cf7a5(0x7cf)];try{let [_0xc17014,_0x8eb11f]=_0x2039e7['get']('authorization')[_0x3cf7a5(0x5a5)]('\x20');if(_0xc17014[_0x3cf7a5(0x611)]()!==_0x3cf7a5(0x4b6))throw new te();if(!(0x0,Aa[_0x3cf7a5(0x2e2)])(_0x8eb11f))throw new te();let _0x387b77=_0x2039e7[_0x3cf7a5(0x385)],_0x45bc00=Ia[_0x3cf7a5(0x1c2)]['verify'](_0x8eb11f,_0x960d02['SECRET'],{'ignoreExpiration':_0x960d02[_0x3cf7a5(0x5a2)]===0x0});if(_0x387b77[_0x3cf7a5(0x682)]!==_0x45bc00[_0x3cf7a5(0x682)]||Ze!==_0x45bc00[_0x3cf7a5(0x597)])throw new te();return _0x493fc();}catch(_0x109af4){throw fi[_0x3cf7a5(0x4e7)](_0x109af4),new te();}}async function yi(_0x130706,_0x4d9028,_0x287964){const _0x34bffe=a0_0x131850;let _0x55939e=b[_0x34bffe(0x5b0)](_0x34bffe(0x712))['API_KEY'],_0x3c602a=_0x130706[_0x34bffe(0x5b0)](_0x34bffe(0x7e6));if(_0x55939e[_0x34bffe(0x297)]===_0x3c602a)return _0x287964();if(_0x130706[_0x34bffe(0x5d3)][_0x34bffe(0x2c5)](_0x34bffe(0x5f8))){let _0x2e7802=et,_0x369b88=_0x130706[_0x34bffe(0x405)][_0x34bffe(0x682)];if(_0x2e7802&&_0x369b88[_0x34bffe(0x611)]()['startsWith'](_0x2e7802[_0x34bffe(0x611)]()))return _0x287964();if(!_0x3c602a)throw new K(_0x34bffe(0x80b),_0x34bffe(0x1ec));}if(_0x130706[_0x34bffe(0x5d3)]['includes'](_0x34bffe(0x54a))&&!_0x3c602a)throw new K(_0x34bffe(0x80b),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x130706[_0x34bffe(0x5d3)][_0x34bffe(0x2c5)](_0x34bffe(0x280))&&!_0x3c602a)throw new K(_0x34bffe(0x80b),_0x34bffe(0x1ec));if(_0x130706['originalUrl']['includes']('/config')&&!_0x3c602a)throw new K('Missing\x20global\x20api\x20key',_0x34bffe(0x1ec));try{let _0x54c658=_0x130706[_0x34bffe(0x385)],_0x4a27f8=await ue[_0x34bffe(0x398)][_0x34bffe(0x518)](_0x54c658[_0x34bffe(0x682)]);if(_0x4a27f8&&_0x4a27f8[_0x34bffe(0x7e6)]===_0x3c602a)return _0x287964();}catch{}throw new te();}var xa={'jwt':wi,'apikey':yi},dr=require(a0_0x131850(0x6d2)),E=require(a0_0x131850(0x3fb)),C=(..._0x5097b8)=>{const _0x2ebf1c=a0_0x131850;let _0x3f339a={};return _0x5097b8['forEach'](_0x110dde=>_0x3f339a[_0x110dde]={'minLength':0x1,'description':_0x2ebf1c(0x32f)+_0x110dde+_0x2ebf1c(0x48d)}),{'if':{'propertyNames':{'enum':[..._0x5097b8]}},'then':{'properties':_0x3f339a}};},M={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'instanceName':{'type':'string'}},...C('instanceName')},cc={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'oldToken':{'type':a0_0x131850(0x2e4)}},'required':['oldToken'],...C('oldToken')},lc={'properties':{'key':{'type':a0_0x131850(0x662),'properties':{'id':{'type':a0_0x131850(0x2e4)},'remoteJid':{'type':a0_0x131850(0x2e4)},'fromMe':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]}},'required':['id',a0_0x131850(0x778),a0_0x131850(0x5e2)],...C('id',a0_0x131850(0x778))},'message':{'type':a0_0x131850(0x662)}}},Q={'properties':{'delay':{'type':'integer','description':a0_0x131850(0x165)},'presence':{'type':a0_0x131850(0x2e4),'enum':[a0_0x131850(0x6aa),a0_0x131850(0x26f),'composing',a0_0x131850(0x472),a0_0x131850(0x536)]}}},z={'type':a0_0x131850(0x2e4),'pattern':a0_0x131850(0x72e),'description':a0_0x131850(0x236)},Da={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x131850(0x662),'properties':{'text':{'type':a0_0x131850(0x2e4)}},'required':['text'],...C('text')}},'required':['textMessage',a0_0x131850(0x649)]},_a={'type':a0_0x131850(0x2e4),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x131850(0x236)},uc={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'number':{..._a},'options':{...Q},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x131850(0x2e4)}},'required':[a0_0x131850(0x373)],...C(a0_0x131850(0x373))}},'required':[a0_0x131850(0x73c),a0_0x131850(0x649)]},dc={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'number':{..._a},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x131850(0x2e4),'enum':['image','document','video',a0_0x131850(0x520)]},'media':{'type':a0_0x131850(0x2e4)},'fileName':{'type':a0_0x131850(0x2e4)},'caption':{'type':a0_0x131850(0x2e4)}},'required':[a0_0x131850(0x5db),a0_0x131850(0x74a)],...C(a0_0x131850(0x736),a0_0x131850(0x61b),a0_0x131850(0x74a))}},'required':[a0_0x131850(0x410),'number']},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x131850(0x662),'properties':{'image':{'type':a0_0x131850(0x2e4)}},'required':[a0_0x131850(0x630)],...C(a0_0x131850(0x630))}},'required':[a0_0x131850(0x354),a0_0x131850(0x649)]},$a={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'statusMessage':{'type':a0_0x131850(0x662),'properties':{'type':{'type':a0_0x131850(0x2e4),'enum':[a0_0x131850(0x373),a0_0x131850(0x630),a0_0x131850(0x520),'video']},'content':{'type':a0_0x131850(0x2e4)},'caption':{'type':a0_0x131850(0x2e4)},'backgroundColor':{'type':a0_0x131850(0x2e4)},'font':{'type':a0_0x131850(0x81a),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x131850(0x243),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x131850(0x2e4),'pattern':a0_0x131850(0x735),'description':a0_0x131850(0x5a8)}},'allContacts':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]}},'required':[a0_0x131850(0x65a),'content'],...C('type',a0_0x131850(0x6f7))}},'required':[a0_0x131850(0x3c6)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':a0_0x131850(0x2e4),'enum':[a0_0x131850(0x630),a0_0x131850(0x647),a0_0x131850(0x181),a0_0x131850(0x520)]},'media':{'type':'string'},'fileName':{'type':a0_0x131850(0x2e4)},'caption':{'type':a0_0x131850(0x2e4)}},'required':[a0_0x131850(0x5db),a0_0x131850(0x74a)],...C('fileName',a0_0x131850(0x61b),'media')}},'required':[a0_0x131850(0x410),a0_0x131850(0x649)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':a0_0x131850(0x662),'properties':{'audio':{'type':'string'}},'required':[a0_0x131850(0x520)],...C(a0_0x131850(0x520))}},'required':[a0_0x131850(0x7ae),a0_0x131850(0x649)]},ja={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'number':{...z},'pollMessage':{'type':a0_0x131850(0x662),'properties':{'name':{'type':'string'},'selectableCount':{'type':'number'},'values':{'type':a0_0x131850(0x243),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x131850(0x228),'selectableCount',a0_0x131850(0x2ef)],...C(a0_0x131850(0x228),a0_0x131850(0x65d),'values')}},'required':[a0_0x131850(0x649),a0_0x131850(0x5bb)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'number':{...z},'menuMessage':{'type':a0_0x131850(0x662),'properties':{'text':{'type':a0_0x131850(0x2e4)},'choices':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x131850(0x373),a0_0x131850(0x80c)],...C(a0_0x131850(0x373),a0_0x131850(0x80c))}},'required':[a0_0x131850(0x649),'menuMessage']},Ua={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x131850(0x662),'properties':{'title':{'type':a0_0x131850(0x2e4)},'description':{'type':a0_0x131850(0x2e4)},'footerText':{'type':'string'},'buttons':{'type':a0_0x131850(0x243),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':'string'},'buttonId':{'type':'string'}},'required':[a0_0x131850(0x388),a0_0x131850(0x241)],...C(a0_0x131850(0x388),a0_0x131850(0x241))}},'mediaMessage':{'type':a0_0x131850(0x662),'properties':{'media':{'type':a0_0x131850(0x2e4)},'fileName':{'type':a0_0x131850(0x2e4)},'mediatype':{'type':a0_0x131850(0x2e4),'enum':[a0_0x131850(0x630),a0_0x131850(0x647),'video']}},'required':[a0_0x131850(0x74a),a0_0x131850(0x5db)],...C(a0_0x131850(0x74a),a0_0x131850(0x736))}},'required':[a0_0x131850(0x628),a0_0x131850(0x207)],...C(a0_0x131850(0x628),a0_0x131850(0x459))}},'required':[a0_0x131850(0x649),'buttonMessage']},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x131850(0x662),'properties':{'latitude':{'type':a0_0x131850(0x649)},'longitude':{'type':'number'},'name':{'type':a0_0x131850(0x2e4)},'address':{'type':a0_0x131850(0x2e4)}},'required':[a0_0x131850(0x5fe),a0_0x131850(0x493)],...C(a0_0x131850(0x228),'addresss')}},'required':[a0_0x131850(0x649),'locationMessage']},qa={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x131850(0x662),'properties':{'title':{'type':a0_0x131850(0x2e4)},'description':{'type':a0_0x131850(0x2e4)},'footerText':{'type':'string'},'buttonText':{'type':a0_0x131850(0x2e4)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x131850(0x2e4)},'rows':{'type':a0_0x131850(0x243),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x131850(0x662),'properties':{'title':{'type':a0_0x131850(0x2e4)},'description':{'type':a0_0x131850(0x2e4)},'rowId':{'type':'string'}},'required':[a0_0x131850(0x628),a0_0x131850(0x7a9)],...C(a0_0x131850(0x628),a0_0x131850(0x7a9))}}},'required':[a0_0x131850(0x628),a0_0x131850(0x40b)],...C(a0_0x131850(0x628))}}},'required':['title','description',a0_0x131850(0x388),'sections'],...C(a0_0x131850(0x628),a0_0x131850(0x459),a0_0x131850(0x388),'footerText')}},'required':[a0_0x131850(0x649),a0_0x131850(0x4d9)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x131850(0x243),'items':{'type':'object','properties':{'fullName':{'type':a0_0x131850(0x2e4)},'phoneNumber':{'type':a0_0x131850(0x2e4),'minLength':0xa}},'required':[a0_0x131850(0x315),'phoneNumber'],...C('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x131850(0x649),'contactMessage']},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'reactionMessage':{'type':a0_0x131850(0x662),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x131850(0x2e4)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]}},'required':['id',a0_0x131850(0x778),a0_0x131850(0x5e2)],...C('id',a0_0x131850(0x778))},'reaction':{'type':a0_0x131850(0x2e4)}},'required':['key',a0_0x131850(0x378)],...C('reaction')}},'required':[a0_0x131850(0x69a)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'numbers':{'type':a0_0x131850(0x243),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x131850(0x2e4),'pattern':a0_0x131850(0x735),'description':a0_0x131850(0x5b5)}}}},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x131850(0x2e4)},'fromMe':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x131850(0x2e4)}},'required':['id',a0_0x131850(0x5e2),'remoteJid'],...C('id','remoteJid')}}},'required':[a0_0x131850(0x1c5)]},za={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'privacySettings':{'type':a0_0x131850(0x662),'properties':{'readreceipts':{'type':a0_0x131850(0x2e4),'enum':[a0_0x131850(0x306),a0_0x131850(0x788)]},'profile':{'type':'string','enum':['all',a0_0x131850(0x415),a0_0x131850(0x622),a0_0x131850(0x788)]},'status':{'type':'string','enum':[a0_0x131850(0x306),'contacts',a0_0x131850(0x622),a0_0x131850(0x788)]},'online':{'type':a0_0x131850(0x2e4),'enum':['all',a0_0x131850(0x564)]},'last':{'type':a0_0x131850(0x2e4),'enum':[a0_0x131850(0x306),a0_0x131850(0x415),a0_0x131850(0x622),a0_0x131850(0x788)]},'groupadd':{'type':'string','enum':['all',a0_0x131850(0x415),'contact_blacklist',a0_0x131850(0x788)]}},'required':['readreceipts',a0_0x131850(0x55a),a0_0x131850(0x42e),'online',a0_0x131850(0x54d),a0_0x131850(0x6c0)],...C(a0_0x131850(0x375),a0_0x131850(0x55a),'status','online',a0_0x131850(0x54d),a0_0x131850(0x6c0))}},'required':[a0_0x131850(0x509)]},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'lastMessage':{'type':a0_0x131850(0x662),'properties':{'key':{'type':a0_0x131850(0x662),'properties':{'id':{'type':a0_0x131850(0x2e4)},'remoteJid':{'type':a0_0x131850(0x2e4)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x131850(0x778)],...C('id','remoteJid')},'messageTimestamp':{'type':a0_0x131850(0x81a),'minLength':0x1}},'required':[a0_0x131850(0x502)],...C(a0_0x131850(0x2fe))},'archive':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]}},'required':[a0_0x131850(0x3f5),a0_0x131850(0x5e7)]},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'id':{'type':a0_0x131850(0x2e4)},'fromMe':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x131850(0x2e4)},'participant':{'type':'string'}},'required':['id',a0_0x131850(0x5e2),a0_0x131850(0x778)],...C('id',a0_0x131850(0x778),a0_0x131850(0x60a))},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'where':{'type':a0_0x131850(0x662),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':'string','minLength':0x1},'id':{'type':'string','minLength':0x1}},...C(a0_0x131850(0x39d),'id',a0_0x131850(0x4a2))}}},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'name':{'type':a0_0x131850(0x2e4)}},...C(a0_0x131850(0x228))},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'status':{'type':a0_0x131850(0x2e4)}},...C(a0_0x131850(0x42e))},Ee={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'number':{'type':'string'},'picture':{'type':a0_0x131850(0x2e4)}}},Za={'type':a0_0x131850(0x662),'properties':{'wuid':{'type':a0_0x131850(0x2e4)},'name':{'type':'string'},'picture':{'type':a0_0x131850(0x2e4)},'status':{'type':'string'},'isBusiness':{'type':'boolean'}}},er={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x131850(0x2e4),'minLength':0x1},'key':{'type':a0_0x131850(0x662),'if':{'propertyNames':{'enum':['fromMe',a0_0x131850(0x778),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x131850(0x2e4),'minLength':0x1,'description':a0_0x131850(0x6d0)},'id':{'type':a0_0x131850(0x2e4),'minLength':0x1,'description':a0_0x131850(0x6d0)},'fromMe':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x131850(0x662)}},...C(a0_0x131850(0x39d))},'limit':{'type':a0_0x131850(0x81a)}}},pc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x131850(0x2e4)},'remoteJid':{'type':a0_0x131850(0x2e4)},'id':{'type':a0_0x131850(0x2e4)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x131850(0x2e4),'enum':[a0_0x131850(0x60f),a0_0x131850(0x784),a0_0x131850(0x542),'DELIVERY_ACK',a0_0x131850(0x4fa),a0_0x131850(0x540)]}},...C(a0_0x131850(0x39d),a0_0x131850(0x778),'id',a0_0x131850(0x42e))},'limit':{'type':a0_0x131850(0x81a)}}},tr={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'number':{...z},'presence':{'type':a0_0x131850(0x2e4),'enum':[a0_0x131850(0x6aa),'available',a0_0x131850(0x38e),a0_0x131850(0x472),'paused']}},'required':[a0_0x131850(0x4be),'number']},sr={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x131850(0x2e4)},'profilePicture':{'type':'string'},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x131850(0x2e4),'minLength':0xa,'pattern':a0_0x131850(0x2cb),'description':a0_0x131850(0x1f8)}}},'required':[a0_0x131850(0x57a),'participants'],...C(a0_0x131850(0x57a),a0_0x131850(0x459),a0_0x131850(0x440))},Me={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'groupJid':{'type':a0_0x131850(0x2e4),'pattern':a0_0x131850(0x747)}},'required':[a0_0x131850(0x73f)],...C(a0_0x131850(0x73f))},ar={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'groupJid':{'type':a0_0x131850(0x2e4)},'action':{'type':a0_0x131850(0x2e4),'enum':[a0_0x131850(0x68e),a0_0x131850(0x57c),a0_0x131850(0x63c),'demote',a0_0x131850(0x1c4),a0_0x131850(0x1dd)]},'participants':{'type':a0_0x131850(0x243),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x131850(0x2e4),'minLength':0xa,'pattern':a0_0x131850(0x2cb),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':['groupJid','action',a0_0x131850(0x248)],...C('groupJid',a0_0x131850(0x340))},rr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x131850(0x2e4)},'expiration':{'type':a0_0x131850(0x649),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x131850(0x1d3)],...C(a0_0x131850(0x73f),a0_0x131850(0x1d3))},ir={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'groupJid':{'type':a0_0x131850(0x2e4)},'image':{'type':a0_0x131850(0x2e4)}},'required':['groupJid',a0_0x131850(0x630)],...C(a0_0x131850(0x73f),'image')},or={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'groupJid':{'type':a0_0x131850(0x2e4)},'description':{'type':a0_0x131850(0x2e4)}},'required':[a0_0x131850(0x73f),'description'],...C(a0_0x131850(0x73f),a0_0x131850(0x459))},nr={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x131850(0x2e4)}},'required':['groupJid',a0_0x131850(0x228)],...C(a0_0x131850(0x73f),a0_0x131850(0x228))},cr={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'groupJid':{'type':'string'},'setting':{'type':'string','enum':[a0_0x131850(0x19b),a0_0x131850(0x702),a0_0x131850(0x453),a0_0x131850(0x5e6)]}},'required':['groupJid',a0_0x131850(0x563)],...C(a0_0x131850(0x73f),a0_0x131850(0x563))},lr={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'groupJid':{'type':a0_0x131850(0x2e4)},'restrict':{'type':a0_0x131850(0x40e)},'announce':{'type':a0_0x131850(0x40e)},'memberAddMode':{'type':a0_0x131850(0x40e)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x131850(0x2e4)},'description':{'type':a0_0x131850(0x2e4)},'image':{'type':'string'}}},bs={'$id':(0x0,E['v4'])(),'type':'object','properties':{'inviteCode':{'type':'string'}},'required':[a0_0x131850(0x18b)],...C(a0_0x131850(0x18b))},ur={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'url':{'type':a0_0x131850(0x2e4)},'enabled':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]}},'required':[a0_0x131850(0x431),a0_0x131850(0x45c)]},hc={'$id':(0x0,E['v4'])(),'type':a0_0x131850(0x662),'properties':{'local_map':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x131850(0x40e),'enum':[!0x0,!0x1]}},'required':[a0_0x131850(0x225),a0_0x131850(0x7b9),'QRCODE_UPDATED',a0_0x131850(0x50f),a0_0x131850(0x179),a0_0x131850(0x644),a0_0x131850(0x7f3),a0_0x131850(0x3af),a0_0x131850(0x55e),a0_0x131850(0x661),a0_0x131850(0x793),a0_0x131850(0x792),a0_0x131850(0x464),'CHATS_UPDATE',a0_0x131850(0x7f8),a0_0x131850(0x527),a0_0x131850(0x600),'GROUPS_UPDATE',a0_0x131850(0x186)],...C('local_map',a0_0x131850(0x7b9),a0_0x131850(0x532),'MESSAGES_SET',a0_0x131850(0x179),a0_0x131850(0x644),a0_0x131850(0x7f3),'CONTACTS_SET','CONTACTS_UPSERT',a0_0x131850(0x661),a0_0x131850(0x793),'CHATS_SET',a0_0x131850(0x464),'CHATS_UPDATE',a0_0x131850(0x7f8),a0_0x131850(0x527),a0_0x131850(0x600),'GROUPS_UPDATE',a0_0x131850(0x186))},tt=class{},st=class extends D{[a0_0x131850(0x64b)](_0x5ab36d){return Xs(_0x5ab36d);}async[a0_0x131850(0x322)](_0x416a69){const _0x664486=a0_0x131850;if(_0x416a69[_0x664486(0x724)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x416a69[0x0][_0x664486(0x41c)])[_0x664486(0x30c)]([..._0x416a69]))['length']};}catch(_0x40a4db){return _0x40a4db;}}async[a0_0x131850(0x3b0)](_0x4b200e,_0x1f99aa){const _0x42c194=a0_0x131850;try{return{'deletedCount':(await this[_0x42c194(0x64b)](_0x1f99aa)[_0x42c194(0x470)]({..._0x4b200e[_0x42c194(0x529)]}))[_0x42c194(0x5ae)]};}catch(_0x219043){return{'error':_0x219043?.[_0x42c194(0x6a2)]()};}}async[a0_0x131850(0x67c)](_0x2f4dbf,_0x3ed149){const _0x52950c=a0_0x131850;try{if(_0x2f4dbf['length']===0x0)return;let _0x183d4a=this[_0x52950c(0x64b)](_0x3ed149),_0x1e0df2=_0x2f4dbf[_0x52950c(0x4e4)](_0x3604b3=>({'updateOne':{'filter':{'_id':_0x3604b3[_0x52950c(0x39d)],'owner':_0x3ed149},'update':{..._0x3604b3}}})),{modifiedCount:_0xa8484a}=await _0x183d4a[_0x52950c(0x5f2)](_0x1e0df2);return{'insertCount':_0xa8484a};}catch{return;}}async[a0_0x131850(0x518)](_0x28e7aa,_0x48c131){const _0x1ceeda=a0_0x131850;try{let _0x2588ed=this[_0x1ceeda(0x64b)](_0x48c131),_0x1a58db=A(_0x28e7aa['where']);return await _0x2588ed['find'](_0x1a58db)['limit'](_0x28e7aa?.[_0x1ceeda(0x687)]??0x0)[_0x1ceeda(0x44f)]();}catch{return[];}}async['findOne'](_0x459a89,_0xf84107){const _0x13e54e=a0_0x131850;try{let _0x48a256=this['getContactModelForOwner'](_0xf84107),_0x30304d=A(_0x459a89['where']);return await _0x48a256[_0x13e54e(0x5d6)](_0x30304d)[_0x13e54e(0x44f)]();}catch{return null;}}async['deleteAll'](_0x28a6ff){const _0x3ca64e=a0_0x131850;try{return await this['getContactModelForOwner'](_0x28a6ff)['collection']['drop'](),{'success':!0x0};}catch(_0x2ddb86){return console[_0x3ca64e(0x4e7)](_0x2ddb86),{'success':!0x1,'error':_0x2ddb86};}}},at=require('jsonschema'),Ec=require('express-async-errors'),Ss=new v(a0_0x131850(0x361)),V=class{[a0_0x131850(0x18f)](_0x4e019f,_0x10c7be=!0x0){const _0x23cf0d=a0_0x131850;let _0x45ff6b='/'+_0x4e019f;return _0x10c7be&&(_0x45ff6b+=_0x23cf0d(0x70e)),_0x45ff6b;}async['dataValidate'](_0x23a48a){const _0x20747f=a0_0x131850;let {request:_0x51ebd2,schema:_0x395be8,ClassRef:_0x212827,execute:_0x34c71d}=_0x23a48a,_0x53fe3b=new _0x212827(),_0x1186ab=_0x51ebd2[_0x20747f(0x405)],_0x4e32a7=_0x51ebd2[_0x20747f(0x385)];_0x51ebd2?.[_0x20747f(0x663)]&&Object[_0x20747f(0x7ad)](_0x51ebd2[_0x20747f(0x663)])[_0x20747f(0x724)]>0x0&&Object[_0x20747f(0x837)](_0x4e32a7,_0x51ebd2[_0x20747f(0x663)]),_0x51ebd2[_0x20747f(0x5d3)]['includes'](_0x20747f(0x5f8))&&Object[_0x20747f(0x837)](_0x4e32a7,_0x1186ab),Object[_0x20747f(0x837)](_0x53fe3b,_0x1186ab);let _0x56cadf=_0x395be8?(0x0,at[_0x20747f(0x5b3)])(_0x53fe3b,_0x395be8):{'valid':!0x0,'errors':[]};if(!_0x56cadf['valid']){let _0x4ad015=_0x56cadf[_0x20747f(0x6c3)][_0x20747f(0x4e4)](({property:_0x21f80f,stack:_0xd9f414,schema:_0x31f276})=>{const _0x437528=_0x20747f;let _0x2430ce;return _0x31f276['description']?_0x2430ce=_0x31f276[_0x437528(0x459)]:_0x2430ce=_0xd9f414['replace'](_0x437528(0x7eb),''),{'property':_0x21f80f[_0x437528(0x357)](_0x437528(0x7eb),''),'message':_0x2430ce};});throw Ss[_0x20747f(0x4e7)]([..._0x4ad015]),new w(..._0x4ad015);}return await _0x34c71d(_0x4e32a7,_0x53fe3b);}async[a0_0x131850(0x776)](_0x20c610){const _0x26bb82=a0_0x131850;let {request:_0xc3cd6e,ClassRef:_0x36886f,schema:_0x1f4eae,execute:_0x465963}=_0x20c610,_0x20aec3=_0xc3cd6e[_0x26bb82(0x663)];if(!_0x20aec3?.['groupJid'])throw new w(_0x26bb82(0x1f2),_0x26bb82(0x3f2));let _0x1b4259=_0xc3cd6e[_0x26bb82(0x385)],_0x499798=_0xc3cd6e['body'],_0x53c317=new _0x36886f();Object[_0x26bb82(0x837)](_0x499798,_0x20aec3),Object[_0x26bb82(0x837)](_0x53c317,_0x499798);let _0x4cff51=(0x0,at[_0x26bb82(0x5b3)])(_0x53c317,_0x1f4eae);if(!_0x4cff51[_0x26bb82(0x1f6)]){let _0x4860ba=_0x4cff51['errors'][_0x26bb82(0x4e4)](({property:_0x36b8a6,stack:_0x7e7bb2,schema:_0x436081})=>{const _0x3c421a=_0x26bb82;let _0x27b0e9;return _0x436081['description']?_0x27b0e9=_0x436081['description']:_0x27b0e9=_0x7e7bb2['replace'](_0x3c421a(0x7eb),''),{'property':_0x36b8a6['replace'](_0x3c421a(0x7eb),''),'message':_0x27b0e9};});throw Ss['error']([..._0x4860ba]),new w(..._0x4860ba);}return await _0x465963(_0x1b4259,_0x53c317);}async[a0_0x131850(0x6e9)](_0x1c66a6){const _0x55e501=a0_0x131850;let {request:_0x5d50bb,ClassRef:_0x1258d,schema:_0x4565cb,execute:_0x4e8d2e}=_0x1c66a6,_0x458394=_0x5d50bb['body'];if(!_0x458394?.['inviteCode'])throw new w(_0x55e501(0x560),_0x55e501(0x25b));let _0x563850=_0x5d50bb[_0x55e501(0x385)],_0x247166=_0x5d50bb[_0x55e501(0x405)],_0xdadf5f=new _0x1258d();Object['assign'](_0x247166,_0x458394),Object[_0x55e501(0x837)](_0xdadf5f,_0x247166);let _0x482d0a=(0x0,at['validate'])(_0xdadf5f,_0x4565cb);if(!_0x482d0a[_0x55e501(0x1f6)]){let _0x1efc25=_0x482d0a['errors'][_0x55e501(0x4e4)](({property:_0x371011,stack:_0x330a54,schema:_0x1ce34e})=>{const _0x4fbec=_0x55e501;let _0x3ff10a;return _0x1ce34e['description']?_0x3ff10a=_0x1ce34e[_0x4fbec(0x459)]:_0x3ff10a=_0x330a54[_0x4fbec(0x357)](_0x4fbec(0x7eb),''),{'property':_0x371011[_0x4fbec(0x357)](_0x4fbec(0x7eb),''),'message':_0x3ff10a};});throw Ss[_0x55e501(0x4e7)]([..._0x1efc25]),new w(..._0x1efc25);}return await _0x4e8d2e(_0x563850,_0xdadf5f);}},S=class{},Lc=new v('ChatRouter'),rt=class extends V{constructor(..._0x3f1fb4){const _0x321b8d=a0_0x131850;super(),this[_0x321b8d(0x482)]=(0x0,dr['Router'])(),this[_0x321b8d(0x482)][_0x321b8d(0x5bc)](this['routerPath'](_0x321b8d(0x62b)),..._0x3f1fb4,async(_0x47c6dd,_0x37ad88)=>{const _0x4cd04c=_0x321b8d;let _0x2e7b0c=await this[_0x4cd04c(0x2f9)]({'request':_0x47c6dd,'schema':tr,'ClassRef':Be,'execute':(_0x1b86f1,_0x14f3d5)=>_[_0x4cd04c(0x62b)](_0x1b86f1,_0x14f3d5)});return _0x37ad88[_0x4cd04c(0x42e)](0xc9)[_0x4cd04c(0x6db)](_0x2e7b0c);})[_0x321b8d(0x5bc)](this[_0x321b8d(0x18f)]('whatsappNumbers'),..._0x3f1fb4,async(_0x4110d1,_0x4df09c)=>{const _0x31c292=_0x321b8d;let _0x165d93=await this[_0x31c292(0x2f9)]({'request':_0x4110d1,'schema':Ga,'ClassRef':Ge,'execute':(_0x434812,_0x29ce62)=>_[_0x31c292(0x7a3)](_0x434812,_0x29ce62)});return _0x4df09c[_0x31c292(0x42e)](0xc9)[_0x31c292(0x6db)](_0x165d93);})[_0x321b8d(0x5bc)](this[_0x321b8d(0x18f)](_0x321b8d(0x5d9)),..._0x3f1fb4,async(_0x7adc26,_0x930e4d)=>{const _0x1541b8=_0x321b8d;let _0x4c0ac3=await this[_0x1541b8(0x2f9)]({'request':_0x7adc26,'schema':M,'ClassRef':S,'execute':(_0x4b2e1e,_0x574403)=>_[_0x1541b8(0x5d9)](_0x4b2e1e,_0x574403)});return _0x930e4d['status'](0xc9)[_0x1541b8(0x6db)](_0x4c0ac3);})[_0x321b8d(0x833)](this['routerPath'](_0x321b8d(0x5e5)),..._0x3f1fb4,async(_0x23a105,_0x4c5ebf)=>{let _0x12371e=await this['dataValidate']({'request':_0x23a105,'schema':Wa,'ClassRef':He,'execute':(_0x20dd31,_0x2b8763)=>_['readMessage'](_0x20dd31,_0x2b8763)});return _0x4c5ebf['status'](0xc9)['json'](_0x12371e);})[_0x321b8d(0x833)](this['routerPath'](_0x321b8d(0x2e5)),..._0x3f1fb4,async(_0xc604f6,_0x1a825d)=>{const _0x44ffbf=_0x321b8d;let _0x2ec0f4=await this[_0x44ffbf(0x2f9)]({'request':_0xc604f6,'schema':Ha,'ClassRef':Ke,'execute':(_0x38b85d,_0x366286)=>_['archiveChat'](_0x38b85d,_0x366286)});return _0x1a825d[_0x44ffbf(0x42e)](0xc9)[_0x44ffbf(0x6db)](_0x2ec0f4);})[_0x321b8d(0x3b0)](this[_0x321b8d(0x18f)](_0x321b8d(0x3c1)),..._0x3f1fb4,async(_0xeaade5,_0x4211b2)=>{const _0x5b7846=_0x321b8d;let _0x828b38=await this[_0x5b7846(0x2f9)]({'request':_0xeaade5,'schema':Ka,'ClassRef':Ye,'execute':(_0x1713be,_0x713f04)=>_['deleteMessage'](_0x1713be,_0x713f04)});return _0x4211b2[_0x5b7846(0x42e)](0xc9)[_0x5b7846(0x6db)](_0x828b38);})[_0x321b8d(0x5bc)](this[_0x321b8d(0x18f)](_0x321b8d(0x233)),..._0x3f1fb4,async(_0x431eb1,_0xa33dbd)=>{const _0x4674cc=_0x321b8d;let _0x958fa4=await this[_0x4674cc(0x2f9)]({'request':_0x431eb1,'schema':Ee,'ClassRef':Ce,'execute':(_0xcfcde2,_0x5c7cc1)=>_[_0x4674cc(0x3f1)](_0xcfcde2,_0x5c7cc1)});return _0xa33dbd[_0x4674cc(0x42e)](0xc8)[_0x4674cc(0x6db)](_0x958fa4);})[_0x321b8d(0x5bc)](this[_0x321b8d(0x18f)](_0x321b8d(0x19a)),..._0x3f1fb4,async(_0x37c495,_0x4bfa0b)=>{const _0x3c108e=_0x321b8d;let _0xf0ccaf=await this[_0x3c108e(0x2f9)]({'request':_0x37c495,'schema':Za,'ClassRef':Ce,'execute':(_0x4faae1,_0x1a8ead)=>_[_0x3c108e(0x19a)](_0x4faae1,_0x1a8ead)});return _0x4bfa0b[_0x3c108e(0x42e)](0xc8)[_0x3c108e(0x6db)](_0xf0ccaf);})[_0x321b8d(0x5bc)](this['routerPath']('findContacts'),..._0x3f1fb4,async(_0x53ddea,_0x1dde3e)=>{const _0x5738ab=_0x321b8d;let _0x37b48c=await this[_0x5738ab(0x2f9)]({'request':_0x53ddea,'schema':Qa,'ClassRef':tt,'execute':(_0x356a28,_0x180d37)=>_[_0x5738ab(0x3c7)](_0x356a28,_0x180d37)});return _0x1dde3e[_0x5738ab(0x42e)](0xc8)[_0x5738ab(0x6db)](_0x37b48c);})[_0x321b8d(0x5bc)](this[_0x321b8d(0x18f)](_0x321b8d(0x7ab)),..._0x3f1fb4,async(_0x4be5f5,_0x4eb566)=>{const _0x1b77ba=_0x321b8d;let _0x48da68=await this[_0x1b77ba(0x2f9)]({'request':_0x4be5f5,'schema':null,'ClassRef':Object,'execute':(_0x1829bd,_0xd625da)=>_[_0x1b77ba(0x7ab)](_0x1829bd,_0xd625da)});return _0x4eb566[_0x1b77ba(0x42e)](0xc9)[_0x1b77ba(0x6db)](_0x48da68);})['post'](this[_0x321b8d(0x18f)](_0x321b8d(0x263)),..._0x3f1fb4,async(_0x3bc55d,_0x2835e3)=>{const _0x5a7c2b=_0x321b8d;let _0x258897=await this[_0x5a7c2b(0x2f9)]({'request':_0x3bc55d,'schema':er,'ClassRef':qe,'execute':(_0x2f2133,_0x1c66dc)=>_[_0x5a7c2b(0x406)](_0x2f2133,_0x1c66dc)});return _0x2835e3[_0x5a7c2b(0x42e)](0xc8)[_0x5a7c2b(0x6db)](_0x258897);})[_0x321b8d(0x5b0)](this[_0x321b8d(0x18f)](_0x321b8d(0x6cc)),..._0x3f1fb4,async(_0x56935e,_0x2892ca)=>{const _0x349d92=_0x321b8d;let _0x3b3d90=await this[_0x349d92(0x2f9)]({'request':_0x56935e,'schema':null,'ClassRef':S,'execute':_0x28d391=>_[_0x349d92(0x454)](_0x28d391)});return _0x2892ca[_0x349d92(0x42e)](0xc8)['json'](_0x3b3d90);})[_0x321b8d(0x5b0)](this[_0x321b8d(0x18f)](_0x321b8d(0x30b)),..._0x3f1fb4,async(_0x453829,_0x5da820)=>{const _0x44d40a=_0x321b8d;let _0x5eb753=await this[_0x44d40a(0x2f9)]({'request':_0x453829,'schema':null,'ClassRef':S,'execute':_0xa1fa32=>_['fetchLabels'](_0xa1fa32)});return _0x5da820[_0x44d40a(0x42e)](0xc8)[_0x44d40a(0x6db)](_0x5eb753);})['put'](this[_0x321b8d(0x18f)](_0x321b8d(0x395)),..._0x3f1fb4,async(_0x5a2f38,_0x329ddd)=>{const _0x299dc9=_0x321b8d;let _0x5ea490=await this[_0x299dc9(0x2f9)]({'request':_0x5a2f38,'schema':null,'ClassRef':Array,'execute':(_0x115b7b,_0x2f3c34)=>_['importChats'](_0x115b7b,_0x2f3c34)});return _0x329ddd[_0x299dc9(0x42e)](0xc8)[_0x299dc9(0x6db)](_0x5ea490);})[_0x321b8d(0x5b0)](this['routerPath']('fetchPrivacySettings'),..._0x3f1fb4,async(_0x13708f,_0x498615)=>{const _0x2eaae6=_0x321b8d;let _0x575fa7=await this['dataValidate']({'request':_0x13708f,'schema':null,'ClassRef':S,'execute':_0x194b0e=>_[_0x2eaae6(0x718)](_0x194b0e)});return _0x498615[_0x2eaae6(0x42e)](0xc8)[_0x2eaae6(0x6db)](_0x575fa7);})[_0x321b8d(0x833)](this[_0x321b8d(0x18f)](_0x321b8d(0x466)),..._0x3f1fb4,async(_0x40b54a,_0x5a514d)=>{const _0x1e75f4=_0x321b8d;let _0x4e68ff=await this['dataValidate']({'request':_0x40b54a,'schema':za,'ClassRef':Qe,'execute':(_0x76fd83,_0xb142b4)=>_[_0x1e75f4(0x466)](_0x76fd83,_0xb142b4)});return _0x5a514d['status'](0xc9)[_0x1e75f4(0x6db)](_0x4e68ff);})[_0x321b8d(0x5bc)](this[_0x321b8d(0x18f)](_0x321b8d(0x5ad)),..._0x3f1fb4,async(_0x4b61b8,_0x3a833f)=>{const _0x4b1307=_0x321b8d;let _0x37ce18=await this[_0x4b1307(0x2f9)]({'request':_0x4b61b8,'schema':Ee,'ClassRef':we,'execute':(_0x53ec42,_0x263939)=>_[_0x4b1307(0x5ad)](_0x53ec42,_0x263939)});return _0x3a833f[_0x4b1307(0x42e)](0xc8)[_0x4b1307(0x6db)](_0x37ce18);})['post'](this['routerPath']('updateProfileName'),..._0x3f1fb4,async(_0x44a5c5,_0x4bbf9a)=>{const _0x4a6cf8=_0x321b8d;let _0x47dec8=await this[_0x4a6cf8(0x2f9)]({'request':_0x44a5c5,'schema':Ya,'ClassRef':We,'execute':(_0xf2f197,_0x13fa56)=>_[_0x4a6cf8(0x574)](_0xf2f197,_0x13fa56)});return _0x4bbf9a[_0x4a6cf8(0x42e)](0xc8)[_0x4a6cf8(0x6db)](_0x47dec8);})[_0x321b8d(0x5bc)](this[_0x321b8d(0x18f)](_0x321b8d(0x60b)),..._0x3f1fb4,async(_0x470948,_0x4fe519)=>{const _0x363524=_0x321b8d;let _0x488d86=await this[_0x363524(0x2f9)]({'request':_0x470948,'schema':Xa,'ClassRef':ze,'execute':(_0x5b5ac3,_0x41814d)=>_[_0x363524(0x60b)](_0x5b5ac3,_0x41814d)});return _0x4fe519['status'](0xc8)[_0x363524(0x6db)](_0x488d86);})['put'](this['routerPath'](_0x321b8d(0x177)),..._0x3f1fb4,async(_0x116e81,_0x1c11c6)=>{const _0x24803b=_0x321b8d;let _0x205fc2=await this[_0x24803b(0x2f9)]({'request':_0x116e81,'schema':Ee,'ClassRef':we,'execute':(_0x18d5ff,_0xce0610)=>_['updateProfilePicture'](_0x18d5ff,_0xce0610)});return _0x1c11c6[_0x24803b(0x42e)](0xc8)[_0x24803b(0x6db)](_0x205fc2);})['delete'](this['routerPath'](_0x321b8d(0x77e)),..._0x3f1fb4,async(_0x153223,_0x4828f)=>{const _0x139ece=_0x321b8d;let _0x469895=await this[_0x139ece(0x2f9)]({'request':_0x153223,'schema':Ee,'ClassRef':we,'execute':(_0x2f564c,_0xc80704)=>_[_0x139ece(0x77e)](_0x2f564c,_0xc80704)});return _0x4828f[_0x139ece(0x42e)](0xc8)[_0x139ece(0x6db)](_0x469895);});}},pr=require(a0_0x131850(0x6d2)),it=class{},ot=class{},nt=class{},ct=class{},lt=class{},ut=class{},Y=class{},ve=class{},dt=class extends Y{},pt=class extends Y{},ht=class extends V{constructor(..._0x48b16d){const _0x24f1b2=a0_0x131850;super(),this[_0x24f1b2(0x482)]=(0x0,pr[_0x24f1b2(0x22f)])(),this[_0x24f1b2(0x482)][_0x24f1b2(0x5bc)](this[_0x24f1b2(0x18f)](_0x24f1b2(0x5c3)),..._0x48b16d,async(_0x57f9bf,_0x3fe8ae)=>{const _0x459803=_0x24f1b2;let _0x30c477=await this[_0x459803(0x2f9)]({'request':_0x57f9bf,'schema':sr,'ClassRef':it,'execute':(_0x14cc2b,_0x1a923e)=>U[_0x459803(0x238)](_0x14cc2b,_0x1a923e)});_0x3fe8ae[_0x459803(0x42e)](0xc9)[_0x459803(0x6db)](_0x30c477);})['put'](this[_0x24f1b2(0x18f)](_0x24f1b2(0x336)),..._0x48b16d,async(_0x119920,_0x5630b1)=>{const _0x35088f=_0x24f1b2;let _0x59591e=await this[_0x35088f(0x776)]({'request':_0x119920,'schema':ir,'ClassRef':ot,'execute':(_0x26400d,_0x538e76)=>U[_0x35088f(0x336)](_0x26400d,_0x538e76)});_0x5630b1[_0x35088f(0x42e)](0xc9)[_0x35088f(0x6db)](_0x59591e);})[_0x24f1b2(0x833)](this[_0x24f1b2(0x18f)]('groupDesc'),..._0x48b16d,async(_0x224af7,_0xbd0d05)=>{const _0x495f1c=_0x24f1b2;let _0x5a9fbf=await this['groupValidate']({'request':_0x224af7,'schema':or,'ClassRef':nt,'execute':(_0x4b6316,_0x72a8e0)=>U['groupDesc'](_0x4b6316,_0x72a8e0)});_0xbd0d05[_0x495f1c(0x42e)](0xc9)['json'](_0x5a9fbf);})[_0x24f1b2(0x833)](this[_0x24f1b2(0x18f)]('groupName'),..._0x48b16d,async(_0x5867c7,_0x23f35d)=>{const _0x2b07ed=_0x24f1b2;let _0x5c3fc7=await this[_0x2b07ed(0x776)]({'request':_0x5867c7,'schema':nr,'ClassRef':ct,'execute':(_0x14eb15,_0x41cb21)=>U[_0x2b07ed(0x4b7)](_0x14eb15,_0x41cb21)});_0x23f35d['status'](0xc9)[_0x2b07ed(0x6db)](_0x5c3fc7);})[_0x24f1b2(0x833)](this[_0x24f1b2(0x18f)](_0x24f1b2(0x5d2)),..._0x48b16d,async(_0x1f3264,_0x4bac47)=>{const _0x5425e8=_0x24f1b2;let _0x3b236d=await this[_0x5425e8(0x776)]({'request':_0x1f3264,'schema':lr,'ClassRef':ut,'execute':(_0x6b1257,_0x1b7852)=>U[_0x5425e8(0x5d2)](_0x6b1257,_0x1b7852)});_0x4bac47[_0x5425e8(0x42e)](0xc9)['json'](_0x3b236d);})[_0x24f1b2(0x833)](this[_0x24f1b2(0x18f)](_0x24f1b2(0x374)),..._0x48b16d,async(_0x5eb5dc,_0x366965)=>{const _0x45b81=_0x24f1b2;let _0x54357e=await this[_0x45b81(0x776)]({'request':_0x5eb5dc,'schema':cr,'ClassRef':lt,'execute':(_0x3d52d7,_0x57c674)=>U[_0x45b81(0x374)](_0x3d52d7,_0x57c674)});_0x366965['status'](0xc9)[_0x45b81(0x6db)](_0x54357e);})[_0x24f1b2(0x833)](this[_0x24f1b2(0x18f)](_0x24f1b2(0x399)),..._0x48b16d,async(_0x48b449,_0x14a018)=>{const _0x1b36b9=_0x24f1b2;let _0x9f8eb2=await this[_0x1b36b9(0x776)]({'request':_0x48b449,'schema':rr,'ClassRef':pt,'execute':(_0x4086ba,_0x3eb577)=>U['toggleEphemeral'](_0x4086ba,_0x3eb577)});_0x14a018[_0x1b36b9(0x42e)](0xc9)['json'](_0x9f8eb2);})[_0x24f1b2(0x5b0)](this[_0x24f1b2(0x18f)]('findGroupInfos'),..._0x48b16d,async(_0x6a039e,_0x82aa0a)=>{const _0xb599da=_0x24f1b2;let _0x301591=await this[_0xb599da(0x776)]({'request':_0x6a039e,'schema':Me,'ClassRef':Y,'execute':(_0x3bb824,_0x17849a)=>U[_0xb599da(0x1fe)](_0x3bb824,_0x17849a)});_0x82aa0a[_0xb599da(0x42e)](0xc8)[_0xb599da(0x6db)](_0x301591);})[_0x24f1b2(0x5b0)](this['routerPath']('findGroups'),..._0x48b16d,async(_0x314303,_0x57cda2)=>{const _0x30d0e4=_0x24f1b2;let _0x13f3f9=await this[_0x30d0e4(0x2f9)]({'request':_0x314303,'schema':M,'ClassRef':S,'execute':_0x3908a5=>U[_0x30d0e4(0x351)](_0x3908a5)});_0x57cda2[_0x30d0e4(0x42e)](0xc8)['json'](_0x13f3f9);})[_0x24f1b2(0x5b0)](this[_0x24f1b2(0x18f)](_0x24f1b2(0x248)),..._0x48b16d,async(_0xd2bcb8,_0x2c3685)=>{const _0x47e542=_0x24f1b2;let _0x330253=await this['groupValidate']({'request':_0xd2bcb8,'schema':Me,'ClassRef':Y,'execute':(_0x839a13,_0x3896a0)=>U['findParticipants'](_0x839a13,_0x3896a0)});_0x2c3685[_0x47e542(0x42e)](0xc8)[_0x47e542(0x6db)](_0x330253);})[_0x24f1b2(0x5b0)](this[_0x24f1b2(0x18f)](_0x24f1b2(0x18b)),..._0x48b16d,async(_0x4944eb,_0x5a3528)=>{const _0x572143=_0x24f1b2;let _0x22c177=await this[_0x572143(0x776)]({'request':_0x4944eb,'schema':Me,'ClassRef':Y,'execute':(_0xc486e8,_0x469f7a)=>U[_0x572143(0x18b)](_0xc486e8,_0x469f7a)});_0x5a3528['status'](0xc8)[_0x572143(0x6db)](_0x22c177);})[_0x24f1b2(0x5bc)](this[_0x24f1b2(0x18f)](_0x24f1b2(0x807)),..._0x48b16d,async(_0x2e35b4,_0x4007a8)=>{const _0x2ebfc8=_0x24f1b2;let _0x1c3706=await this[_0x2ebfc8(0x6e9)]({'request':_0x2e35b4,'schema':bs,'ClassRef':ve,'execute':(_0x38097e,_0x226dc6)=>U[_0x2ebfc8(0x276)](_0x38097e,_0x226dc6)});_0x4007a8[_0x2ebfc8(0x42e)](0xc9)[_0x2ebfc8(0x6db)](_0x1c3706);})[_0x24f1b2(0x833)](this['routerPath']('joinGroup'),..._0x48b16d,async(_0x5f1abc,_0x451db5)=>{const _0x1892b5=_0x24f1b2;let _0x88c1bd=await this[_0x1892b5(0x6e9)]({'request':_0x5f1abc,'schema':bs,'ClassRef':ve,'execute':(_0x4e4873,_0x429f25)=>U[_0x1892b5(0x4ee)](_0x4e4873,_0x429f25)});_0x451db5[_0x1892b5(0x42e)](0xc9)[_0x1892b5(0x6db)](_0x88c1bd);})[_0x24f1b2(0x833)](this[_0x24f1b2(0x18f)](_0x24f1b2(0x714)),..._0x48b16d,async(_0x428246,_0x48bcbf)=>{const _0x5ee718=_0x24f1b2;let _0x329b8c=await this[_0x5ee718(0x776)]({'request':_0x428246,'schema':Me,'ClassRef':Y,'execute':(_0x8c20f2,_0x3600ed)=>U[_0x5ee718(0x714)](_0x8c20f2,_0x3600ed)});_0x48bcbf['status'](0xc9)[_0x5ee718(0x6db)](_0x329b8c);})[_0x24f1b2(0x833)](this[_0x24f1b2(0x18f)](_0x24f1b2(0x300)),..._0x48b16d,async(_0x196596,_0x55768e)=>{const _0x1effd1=_0x24f1b2;let _0x3a5a39=await this['groupValidate']({'request':_0x196596,'schema':ar,'ClassRef':dt,'execute':(_0x45765b,_0x5c5ce9)=>U['updateGParticipate'](_0x45765b,_0x5c5ce9)});_0x55768e[_0x1effd1(0x42e)](0xc9)[_0x1effd1(0x6db)](_0x3a5a39);})[_0x24f1b2(0x3b0)](this[_0x24f1b2(0x18f)]('leaveGroup'),..._0x48b16d,async(_0x33126d,_0x3d482c)=>{const _0xe5396a=_0x24f1b2;let _0x55d281=await this[_0xe5396a(0x776)]({'request':_0x33126d,'schema':{},'ClassRef':Y,'execute':(_0x43c17a,_0x108f05)=>U[_0xe5396a(0x551)](_0x43c17a,_0x108f05)});_0x3d482c[_0xe5396a(0x42e)](0xc8)[_0xe5396a(0x6db)](_0x55d281);});}},hr=require(a0_0x131850(0x6d2)),gt=class extends V{constructor(_0x2979af,..._0x2a51a6){const _0x6c7b7e=a0_0x131850;super(),this[_0x6c7b7e(0x400)]=_0x2979af,this[_0x6c7b7e(0x482)]=(0x0,hr[_0x6c7b7e(0x22f)])();let _0x5c1381=_0x2979af['get'](_0x6c7b7e(0x712));this['router'][_0x6c7b7e(0x5bc)](_0x6c7b7e(0x6ea),..._0x2a51a6,async(_0x5d769f,_0x351cf7)=>{const _0x25f6e6=_0x6c7b7e;let {instanceName:_0x9a5e73,apikey:_0x2424c1,number:_0x35a6cf}=_0x5d769f[_0x25f6e6(0x405)],_0x1546c2=await oe[_0x25f6e6(0x6cb)]({'instanceName':_0x9a5e73,'apikey':_0x2424c1,'number':_0x35a6cf});return _0x351cf7['status'](0xc9)[_0x25f6e6(0x6db)](_0x1546c2);})[_0x6c7b7e(0x833)](this[_0x6c7b7e(0x18f)]('restart'),..._0x2a51a6,async(_0x516e6f,_0x2a7df2)=>{const _0xb999c6=_0x6c7b7e;let _0x437ac7=await this[_0xb999c6(0x2f9)]({'request':_0x516e6f,'schema':M,'ClassRef':S,'execute':_0x3a34c3=>oe['restartInstance'](_0x3a34c3)});return _0x2a7df2['status'](0xc8)[_0xb999c6(0x6db)](_0x437ac7);})[_0x6c7b7e(0x5b0)](this[_0x6c7b7e(0x18f)](_0x6c7b7e(0x4d4)),..._0x2a51a6,async(_0x15195b,_0x4e91be)=>{const _0xef0fab=_0x6c7b7e;let _0x22cc04=await this[_0xef0fab(0x2f9)]({'request':_0x15195b,'schema':M,'ClassRef':S,'execute':_0x56d451=>oe[_0xef0fab(0x728)](_0x56d451)});return _0x4e91be[_0xef0fab(0x42e)](0xc8)['json'](_0x22cc04);})[_0x6c7b7e(0x5b0)](this[_0x6c7b7e(0x18f)](_0x6c7b7e(0x53f)),..._0x2a51a6,async(_0x39f566,_0x8c4958)=>{const _0x52d562=_0x6c7b7e;let _0x1d47e3=await this[_0x52d562(0x2f9)]({'request':_0x39f566,'schema':M,'ClassRef':S,'execute':_0x1485a0=>oe['connectionState'](_0x1485a0)});return _0x8c4958[_0x52d562(0x42e)](0xc8)[_0x52d562(0x6db)](_0x1d47e3);})[_0x6c7b7e(0x5b0)](this[_0x6c7b7e(0x18f)](_0x6c7b7e(0x67b),!0x1),..._0x2a51a6,async(_0x1868e1,_0x4ad34b)=>{const _0xda8fce=_0x6c7b7e;let _0x233795=await this['dataValidate']({'request':_0x1868e1,'schema':null,'ClassRef':S,'execute':_0xb93043=>oe[_0xda8fce(0x67b)](_0xb93043)});return _0x4ad34b[_0xda8fce(0x42e)](0xc8)['json'](_0x233795);})[_0x6c7b7e(0x3b0)](this[_0x6c7b7e(0x18f)](_0x6c7b7e(0x510)),..._0x2a51a6,async(_0x4a95f3,_0x57fd27)=>{const _0x4f3bcc=_0x6c7b7e;let _0x458e83=await this[_0x4f3bcc(0x2f9)]({'request':_0x4a95f3,'schema':M,'ClassRef':S,'execute':_0x84007f=>oe[_0x4f3bcc(0x510)](_0x84007f)});return _0x57fd27[_0x4f3bcc(0x42e)](0xc8)[_0x4f3bcc(0x6db)](_0x458e83);})['delete'](this[_0x6c7b7e(0x18f)](_0x6c7b7e(0x3b0)),..._0x2a51a6,async(_0x5103de,_0x433482)=>{const _0x467ea5=_0x6c7b7e;let _0x379fb1=await this['dataValidate']({'request':_0x5103de,'schema':M,'ClassRef':S,'execute':_0x3ff1ff=>oe[_0x467ea5(0x1d7)](_0x3ff1ff)});return _0x433482[_0x467ea5(0x42e)](0xc8)[_0x467ea5(0x6db)](_0x379fb1);});}},gr=require(a0_0x131850(0x6d2)),Cs=class{},W=class extends Cs{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},Ne=class extends W{},bt=class extends W{},St=class extends W{},Ct=class extends W{},Et=class extends W{},Mt=class extends W{},vt=class{},Nt=class extends V{constructor(..._0xcfbe47){const _0x53fd93=a0_0x131850;super(),this['router']=(0x0,gr[_0x53fd93(0x22f)])(),this[_0x53fd93(0x482)]['post'](this['routerPath']('sendText'),..._0xcfbe47,async(_0x47fa62,_0x1de18c)=>{const _0x315bb7=_0x53fd93;let _0x511e15=await this[_0x315bb7(0x2f9)]({'request':_0x47fa62,'schema':Da,'ClassRef':mt,'execute':(_0x357047,_0x15cc11)=>G[_0x315bb7(0x273)](_0x357047,_0x15cc11)});return _0x1de18c[_0x315bb7(0x42e)](0xc9)[_0x315bb7(0x6db)](_0x511e15);})[_0x53fd93(0x5bc)](this[_0x53fd93(0x18f)](_0x53fd93(0x71e)),..._0xcfbe47,async(_0x3f1da5,_0x4572fc)=>{const _0x305e29=_0x53fd93;let _0x7e3704=await this[_0x305e29(0x2f9)]({'request':_0x3f1da5,'schema':ka,'ClassRef':Ne,'execute':(_0xd8ac79,_0x1f8299)=>G[_0x305e29(0x71e)](_0xd8ac79,_0x1f8299)});return _0x4572fc[_0x305e29(0x42e)](0xc9)[_0x305e29(0x6db)](_0x7e3704);})[_0x53fd93(0x5bc)](this['routerPath'](_0x53fd93(0x264)),..._0xcfbe47,async(_0x2a95eb,_0x263fcb)=>{const _0x2ac0e2=_0x53fd93;let _0x2b5381=await this[_0x2ac0e2(0x2f9)]({'request':_0x2a95eb,'schema':Fa,'ClassRef':yt,'execute':(_0xc69bc,_0x73c224)=>G[_0x2ac0e2(0x264)](_0xc69bc,_0x73c224)});return _0x263fcb[_0x2ac0e2(0x42e)](0xc9)[_0x2ac0e2(0x6db)](_0x2b5381);})['post'](this[_0x53fd93(0x18f)]('sendWhatsAppAudio'),..._0xcfbe47,async(_0x46dd58,_0x493be4)=>{const _0x29841f=_0x53fd93;let _0x44df00=await this[_0x29841f(0x2f9)]({'request':_0x46dd58,'schema':La,'ClassRef':Ne,'execute':(_0x3055fd,_0xa3d4d1)=>G[_0x29841f(0x1e9)](_0x3055fd,_0xa3d4d1)});return _0x493be4[_0x29841f(0x42e)](0xc9)[_0x29841f(0x6db)](_0x44df00);})[_0x53fd93(0x5bc)](this['routerPath'](_0x53fd93(0x5f9)),..._0xcfbe47,async(_0x15fba5,_0x3f506f)=>{const _0x1514bc=_0x53fd93;let _0x145a13=await this['dataValidate']({'request':_0x15fba5,'schema':Ua,'ClassRef':St,'execute':(_0x4c4ae2,_0x151031)=>G[_0x1514bc(0x5f9)](_0x4c4ae2,_0x151031)});return _0x3f506f['status'](0xc9)[_0x1514bc(0x6db)](_0x145a13);})[_0x53fd93(0x5bc)](this[_0x53fd93(0x18f)](_0x53fd93(0x301)),..._0xcfbe47,async(_0x5dbfac,_0x3b0f64)=>{const _0x32bc4e=_0x53fd93;let _0x43cf1a=await this['dataValidate']({'request':_0x5dbfac,'schema':Ja,'ClassRef':Ct,'execute':(_0x5b08ab,_0x194f20)=>G[_0x32bc4e(0x301)](_0x5b08ab,_0x194f20)});return _0x3b0f64[_0x32bc4e(0x42e)](0xc9)[_0x32bc4e(0x6db)](_0x43cf1a);})[_0x53fd93(0x5bc)](this[_0x53fd93(0x18f)](_0x53fd93(0x390)),..._0xcfbe47,async(_0x2ada4c,_0x30929e)=>{const _0x35699e=_0x53fd93;let _0x507f70=await this[_0x35699e(0x2f9)]({'request':_0x2ada4c,'schema':qa,'ClassRef':Et,'execute':(_0x51d086,_0x4cd3e8)=>G['sendList'](_0x51d086,_0x4cd3e8)});return _0x30929e[_0x35699e(0x42e)](0xc9)['json'](_0x507f70);})['post'](this[_0x53fd93(0x18f)](_0x53fd93(0x686)),..._0xcfbe47,async(_0x535ff3,_0x1386de)=>{const _0x3b4791=_0x53fd93;let _0x189ca7=await this[_0x3b4791(0x2f9)]({'request':_0x535ff3,'schema':Va,'ClassRef':Mt,'execute':(_0x25fecd,_0x198bfb)=>G['sendContact'](_0x25fecd,_0x198bfb)});return _0x1386de[_0x3b4791(0x42e)](0xc9)[_0x3b4791(0x6db)](_0x189ca7);})[_0x53fd93(0x5bc)](this[_0x53fd93(0x18f)](_0x53fd93(0x7cd)),..._0xcfbe47,async(_0x434367,_0x2addfb)=>{const _0x234638=_0x53fd93;let _0x213966=await this[_0x234638(0x2f9)]({'request':_0x434367,'schema':Ba,'ClassRef':vt,'execute':(_0x433c69,_0x384b8b)=>G[_0x234638(0x7cd)](_0x433c69,_0x384b8b)});return _0x2addfb['status'](0xc9)[_0x234638(0x6db)](_0x213966);})[_0x53fd93(0x5bc)](this[_0x53fd93(0x18f)](_0x53fd93(0x224)),..._0xcfbe47,async(_0x28aacd,_0x15f51b)=>{const _0x1ccbf4=_0x53fd93;let _0x23788f=await this[_0x1ccbf4(0x2f9)]({'request':_0x28aacd,'schema':ja,'ClassRef':wt,'execute':(_0x1929de,_0x51c06a)=>G[_0x1ccbf4(0x224)](_0x1929de,_0x51c06a)});return _0x15f51b[_0x1ccbf4(0x42e)](0xc9)[_0x1ccbf4(0x6db)](_0x23788f);})[_0x53fd93(0x5bc)](this['routerPath'](_0x53fd93(0x66b)),..._0xcfbe47,async(_0x68eda3,_0x2f5827)=>{const _0x24eb14=_0x53fd93;let _0x11f157=await this[_0x24eb14(0x2f9)]({'request':_0x68eda3,'schema':$a,'ClassRef':ft,'execute':(_0x55854d,_0x17239b)=>G['sendStatus'](_0x55854d,_0x17239b)});return _0x2f5827[_0x24eb14(0x42e)](0xc9)[_0x24eb14(0x6db)](_0x11f157);})[_0x53fd93(0x5bc)](this[_0x53fd93(0x18f)](_0x53fd93(0x1dc)),..._0xcfbe47,async(_0x289411,_0x17fbd0)=>{const _0x1290c8=_0x53fd93;let _0x37afc8=await this[_0x1290c8(0x2f9)]({'request':_0x289411,'schema':Pa,'ClassRef':bt,'execute':(_0x5cd5e6,_0x5a6ac8)=>G['sendSticker'](_0x5cd5e6,_0x5a6ac8)});return _0x17fbd0['status'](0xc9)[_0x1290c8(0x6db)](_0x37afc8);});}},mr=require(a0_0x131850(0x6d2)),Rt=class{},Tt=class extends V{constructor(..._0x1eb7f6){const _0x2a3c50=a0_0x131850;super(),this[_0x2a3c50(0x482)]=(0x0,mr[_0x2a3c50(0x22f)])(),this[_0x2a3c50(0x482)][_0x2a3c50(0x5bc)](this[_0x2a3c50(0x18f)](_0x2a3c50(0x293)),..._0x1eb7f6,async(_0x4e7033,_0x1b0748)=>{const _0x1d3584=_0x2a3c50;let _0x5ab9a8=await this[_0x1d3584(0x2f9)]({'request':_0x4e7033,'schema':ur,'ClassRef':Rt,'execute':(_0x122ee9,_0x39540a)=>Es[_0x1d3584(0x584)](_0x122ee9,_0x39540a)});_0x1b0748[_0x1d3584(0x42e)](0xc9)[_0x1d3584(0x6db)](_0x5ab9a8);})[_0x2a3c50(0x5b0)](this['routerPath'](_0x2a3c50(0x518)),..._0x1eb7f6,async(_0x14e9ba,_0x5be8fa)=>{const _0x5c7525=_0x2a3c50;let _0x1228d9=await this['dataValidate']({'request':_0x14e9ba,'schema':M,'ClassRef':S,'execute':_0x4dd9f2=>Es['findWebhook'](_0x4dd9f2)});_0x5be8fa[_0x5c7525(0x42e)](0xc8)[_0x5c7525(0x6db)](_0x1228d9);});}},fr=require(a0_0x131850(0x6d2)),y=new v(a0_0x131850(0x6a1)),Ot=class extends V{constructor(..._0x5d6a16){const _0x30c174=a0_0x131850;super(),this['router']=(0x0,fr[_0x30c174(0x22f)])(),this['router'][_0x30c174(0x5bc)](this[_0x30c174(0x18f)](_0x30c174(0x185)),..._0x5d6a16,async(_0x261b96,_0x5d1a9c)=>{const _0x3a720f=_0x30c174;let _0x375d80=_0x261b96['body'];y[_0x3a720f(0x1ef)]('request\x20received\x20in\x20scheduleMessage'),y[_0x3a720f(0x1ef)](_0x3a720f(0x602)),y['verbose'](_0x261b96[_0x3a720f(0x405)]);let _0x15fb39=await this[_0x3a720f(0x2f9)]({'request':_0x261b96,'schema':M,'ClassRef':S,'execute':_0x46c6bd=>x[_0x3a720f(0x7c5)](_0x46c6bd,_0x375d80)});_0x5d1a9c[_0x3a720f(0x42e)](0xc8)['json'](_0x15fb39);})[_0x30c174(0x5b0)](this[_0x30c174(0x18f)](_0x30c174(0x185)),..._0x5d6a16,async(_0x41272a,_0x17aa2d)=>{const _0x42e399=_0x30c174;let _0x54d8de=await this[_0x42e399(0x2f9)]({'request':_0x41272a,'schema':M,'ClassRef':S,'execute':_0x4ebe04=>x[_0x42e399(0x43a)](_0x4ebe04)});_0x17aa2d['status'](0xc8)[_0x42e399(0x6db)](_0x54d8de);})['delete'](this['routerPath'](_0x30c174(0x7e4)),..._0x5d6a16,async(_0x2af3c8,_0x5e9bb3)=>{const _0x2a2845=_0x30c174;y[_0x2a2845(0x1ef)](_0x2a2845(0x43f));let _0x80fe35=await this[_0x2a2845(0x2f9)]({'request':_0x2af3c8,'schema':M,'ClassRef':S,'execute':_0x5be75c=>x['deleteDoneMessages'](_0x5be75c)});_0x5e9bb3[_0x2a2845(0x42e)](0xc8)[_0x2a2845(0x6db)](_0x80fe35);})[_0x30c174(0x5bc)](this[_0x30c174(0x18f)](_0x30c174(0x742)),..._0x5d6a16,async(_0x186a86,_0x23a162)=>{const _0x474396=_0x30c174;let _0x2e71c8=_0x186a86[_0x474396(0x405)];y[_0x474396(0x1ef)](_0x474396(0x2da)),y['verbose']('request\x20body:\x20'),y[_0x474396(0x1ef)](_0x186a86[_0x474396(0x405)]);let _0x58849b=await this[_0x474396(0x2f9)]({'request':_0x186a86,'schema':M,'ClassRef':S,'execute':_0x4946f6=>x[_0x474396(0x742)](_0x4946f6,_0x2e71c8)});_0x23a162[_0x474396(0x42e)](0xc8)[_0x474396(0x6db)](_0x58849b);})[_0x30c174(0x5b0)](this[_0x30c174(0x18f)](_0x30c174(0x572)),..._0x5d6a16,async(_0x3a1cab,_0x26bd40)=>{const _0x813cc4=_0x30c174;y['verbose'](_0x813cc4(0x42a));let _0x1e1b57=await this['dataValidate']({'request':_0x3a1cab,'schema':M,'ClassRef':S,'execute':_0x18e961=>x[_0x813cc4(0x572)](_0x18e961)});_0x26bd40[_0x813cc4(0x42e)](0xc8)[_0x813cc4(0x6db)](_0x1e1b57);})[_0x30c174(0x5b0)](this[_0x30c174(0x18f)]('getTicketSystem'),..._0x5d6a16,async(_0x1d5770,_0x2bb89b)=>{const _0x1729af=_0x30c174;y[_0x1729af(0x1ef)](_0x1729af(0x202));let _0x5e29ec=await this[_0x1729af(0x2f9)]({'request':_0x1d5770,'schema':M,'ClassRef':S,'execute':_0xf02ab6=>x[_0x1729af(0x572)](_0xf02ab6)});_0x2bb89b[_0x1729af(0x42e)](0xc8)[_0x1729af(0x6db)](_0x5e29ec);})[_0x30c174(0x5bc)](this[_0x30c174(0x18f)]('updateAgent'),..._0x5d6a16,async(_0xb20b8e,_0x26b31b)=>{const _0x6ec838=_0x30c174;let _0x221659=_0xb20b8e['body'];y[_0x6ec838(0x1ef)]('request\x20received\x20in\x20updateAgent'),y[_0x6ec838(0x1ef)]('request\x20body:\x20'),y[_0x6ec838(0x1ef)](_0xb20b8e[_0x6ec838(0x405)]);let _0x1e2600=await this[_0x6ec838(0x2f9)]({'request':_0xb20b8e,'schema':M,'ClassRef':S,'execute':_0x16784b=>x['updateAgent'](_0x16784b,_0x221659)});_0x26b31b[_0x6ec838(0x42e)](0xc8)['json'](_0x1e2600);})[_0x30c174(0x5bc)](this[_0x30c174(0x18f)](_0x30c174(0x43d)),..._0x5d6a16,async(_0x2ef4ec,_0xd2a20b)=>{const _0x3e4b9b=_0x30c174;let _0x2d7890=_0x2ef4ec[_0x3e4b9b(0x405)];y[_0x3e4b9b(0x1ef)]('request\x20received\x20in\x20updateCustomFields'),y[_0x3e4b9b(0x1ef)](_0x3e4b9b(0x602)),y[_0x3e4b9b(0x1ef)](_0x2ef4ec[_0x3e4b9b(0x405)]);let _0x4889c9=await this[_0x3e4b9b(0x2f9)]({'request':_0x2ef4ec,'schema':M,'ClassRef':S,'execute':_0x7402cf=>x[_0x3e4b9b(0x43d)](_0x7402cf,_0x2d7890)});_0xd2a20b[_0x3e4b9b(0x42e)](0xc8)['json'](_0x4889c9);})[_0x30c174(0x5bc)](this[_0x30c174(0x18f)](_0x30c174(0x439)),..._0x5d6a16,async(_0x564095,_0x14a717)=>{const _0x535fb1=_0x30c174;let _0x258d94=_0x564095[_0x535fb1(0x405)];y[_0x535fb1(0x1ef)](_0x535fb1(0x504)),y[_0x535fb1(0x1ef)](_0x535fb1(0x602)),y[_0x535fb1(0x1ef)](_0x564095[_0x535fb1(0x405)]);let _0x4765ce=await this[_0x535fb1(0x2f9)]({'request':_0x564095,'schema':M,'ClassRef':S,'execute':_0x5f2d19=>x[_0x535fb1(0x439)](_0x5f2d19,_0x258d94)});_0x14a717[_0x535fb1(0x42e)](0xc8)[_0x535fb1(0x6db)](_0x4765ce);})[_0x30c174(0x5bc)](this[_0x30c174(0x18f)](_0x30c174(0x1d1)),..._0x5d6a16,async(_0xed9d90,_0x3726fd)=>{const _0x4bdecb=_0x30c174;let _0x6c8123=_0xed9d90[_0x4bdecb(0x405)];y[_0x4bdecb(0x1ef)]('request\x20received\x20in\x20getConversation'),y['verbose']('request\x20body:\x20'),y[_0x4bdecb(0x1ef)](_0xed9d90[_0x4bdecb(0x405)]);let _0x40d12f=await this[_0x4bdecb(0x2f9)]({'request':_0xed9d90,'schema':M,'ClassRef':S,'execute':_0x18383c=>x[_0x4bdecb(0x1d1)](_0x18383c,_0x6c8123)});_0x3726fd[_0x4bdecb(0x42e)](0xc8)[_0x4bdecb(0x6db)](_0x40d12f);})[_0x30c174(0x5bc)](this[_0x30c174(0x18f)](_0x30c174(0x201)),..._0x5d6a16,async(_0x2724d4,_0x3012f0)=>{const _0x39f0f1=_0x30c174;let _0x59c2b1=_0x2724d4[_0x39f0f1(0x405)];y[_0x39f0f1(0x1ef)](_0x39f0f1(0x726)),y[_0x39f0f1(0x1ef)]('request\x20body:\x20'),y[_0x39f0f1(0x1ef)](_0x2724d4['body']);let _0x447363=await this[_0x39f0f1(0x2f9)]({'request':_0x2724d4,'schema':M,'ClassRef':S,'execute':_0x3e3b39=>x['fetchConversation'](_0x3e3b39,_0x59c2b1)});_0x3012f0[_0x39f0f1(0x42e)](0xc8)['json'](_0x447363);})[_0x30c174(0x5bc)](this[_0x30c174(0x18f)](_0x30c174(0x342)),..._0x5d6a16,async(_0x134a66,_0x486a52)=>{const _0x9ef0a3=_0x30c174;let _0x59a381=_0x134a66[_0x9ef0a3(0x405)];y[_0x9ef0a3(0x1ef)](_0x9ef0a3(0x2df)),y['verbose'](_0x9ef0a3(0x602)),y[_0x9ef0a3(0x1ef)](_0x134a66[_0x9ef0a3(0x405)]);let _0x2488d9=await this[_0x9ef0a3(0x2f9)]({'request':_0x134a66,'schema':M,'ClassRef':S,'execute':_0x16a80f=>x['editConversation'](_0x16a80f,_0x59a381)});_0x486a52['status'](0xc8)[_0x9ef0a3(0x6db)](_0x2488d9);})[_0x30c174(0x3b0)](this[_0x30c174(0x18f)](_0x30c174(0x3d3)),..._0x5d6a16,async(_0x350433,_0x2b6508)=>{const _0x2c5b60=_0x30c174;let _0x5717cf=_0x350433['body'];y['verbose']('request\x20received\x20in\x20deleteConversation'),y[_0x2c5b60(0x1ef)](_0x2c5b60(0x602)),y['verbose'](_0x350433[_0x2c5b60(0x405)]);let _0x2f3255=await this[_0x2c5b60(0x2f9)]({'request':_0x350433,'schema':M,'ClassRef':S,'execute':_0x5cddb2=>x[_0x2c5b60(0x3d3)](_0x5cddb2,_0x5717cf)});_0x2b6508['status'](0xc8)['json'](_0x2f3255);})['post'](this['routerPath']('createflow'),..._0x5d6a16,async(_0x3b67c8,_0x13e300)=>{const _0x31860e=_0x30c174;let _0x1ef86f=_0x3b67c8[_0x31860e(0x405)];y[_0x31860e(0x1ef)](_0x31860e(0x734)),y[_0x31860e(0x1ef)](_0x31860e(0x602)),y['verbose'](_0x3b67c8['body']);let _0x5ccfa4=await this[_0x31860e(0x2f9)]({'request':_0x3b67c8,'schema':M,'ClassRef':S,'execute':_0x560eba=>x[_0x31860e(0x48a)](_0x560eba,_0x1ef86f)});_0x13e300['status'](0xc8)['json'](_0x5ccfa4);})[_0x30c174(0x5bc)](this[_0x30c174(0x18f)]('editflow'),..._0x5d6a16,async(_0xc2b749,_0x44bbb8)=>{const _0x31e92d=_0x30c174;let _0x258070=_0xc2b749[_0x31e92d(0x405)];y[_0x31e92d(0x1ef)](_0x31e92d(0x6fb)),y['verbose'](_0x31e92d(0x602)),y[_0x31e92d(0x1ef)](_0xc2b749['body']),delete _0x258070[_0x31e92d(0x583)],delete _0x258070[_0x31e92d(0x7a7)],delete _0x258070['groups'],delete _0x258070[_0x31e92d(0x5ee)];let _0x59ccdb=await this[_0x31e92d(0x2f9)]({'request':_0xc2b749,'schema':M,'ClassRef':S,'execute':_0x351713=>x[_0x31e92d(0x530)](_0x351713,_0x258070)});_0x44bbb8['status'](0xc8)[_0x31e92d(0x6db)](_0x59ccdb);})['post'](this[_0x30c174(0x18f)](_0x30c174(0x692)),..._0x5d6a16,async(_0x2ac408,_0x58f0bd)=>{const _0x186396=_0x30c174;let _0x1910d5=_0x2ac408[_0x186396(0x405)];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x186396(0x1ef)](_0x186396(0x602)),y[_0x186396(0x1ef)](_0x2ac408[_0x186396(0x405)]);let _0x4f518a=await this['dataValidate']({'request':_0x2ac408,'schema':M,'ClassRef':S,'execute':_0x3c9db1=>x[_0x186396(0x6f3)](_0x3c9db1,_0x1910d5)});_0x58f0bd[_0x186396(0x42e)](0xc8)[_0x186396(0x6db)](_0x4f518a);})['post'](this[_0x30c174(0x18f)](_0x30c174(0x5a7)),..._0x5d6a16,async(_0x2fcc6f,_0x20ce21)=>{const _0x197043=_0x30c174;let _0x2bf285=_0x2fcc6f['body'];y[_0x197043(0x1ef)](_0x197043(0x6fb)),y[_0x197043(0x1ef)](_0x197043(0x602)),y[_0x197043(0x1ef)](_0x2fcc6f[_0x197043(0x405)]);let _0x2c10bf=await this[_0x197043(0x2f9)]({'request':_0x2fcc6f,'schema':M,'ClassRef':S,'execute':_0x43d11a=>x[_0x197043(0x3b4)](_0x43d11a,_0x2bf285)});_0x20ce21[_0x197043(0x42e)](0xc8)[_0x197043(0x6db)](_0x2c10bf);})[_0x30c174(0x5bc)](this[_0x30c174(0x18f)](_0x30c174(0x4d6)),..._0x5d6a16,async(_0x233bf3,_0x517351)=>{const _0x4f4bf4=_0x30c174;let _0x4a3a66=_0x233bf3[_0x4f4bf4(0x405)];y[_0x4f4bf4(0x1ef)](_0x4f4bf4(0x6fb)),y[_0x4f4bf4(0x1ef)](_0x4f4bf4(0x602)),y['verbose'](_0x233bf3[_0x4f4bf4(0x405)]);let _0x270b2f=await this['dataValidate']({'request':_0x233bf3,'schema':M,'ClassRef':S,'execute':_0x545d62=>x['editFlowVaredit'](_0x545d62,_0x4a3a66)});_0x517351['status'](0xc8)[_0x4f4bf4(0x6db)](_0x270b2f);})[_0x30c174(0x5bc)](this['routerPath'](_0x30c174(0x4d8)),..._0x5d6a16,async(_0x4aba84,_0x58147e)=>{const _0x30329c=_0x30c174;let _0xa133c2=_0x4aba84[_0x30329c(0x405)];y[_0x30329c(0x1ef)](_0x30329c(0x2dd)),y[_0x30329c(0x1ef)](_0x30329c(0x602)),y[_0x30329c(0x1ef)](_0x4aba84[_0x30329c(0x405)]);let _0x116f9e=await this[_0x30329c(0x2f9)]({'request':_0x4aba84,'schema':M,'ClassRef':S,'execute':_0xbe374e=>x[_0x30329c(0x47b)](_0xbe374e,_0xa133c2)});_0x58147e['status'](0xc8)['json'](_0x116f9e);})[_0x30c174(0x5bc)](this[_0x30c174(0x18f)](_0x30c174(0x635)),..._0x5d6a16,async(_0x20334c,_0x1ec744)=>{const _0x38563e=_0x30c174;let _0x5e4066=_0x20334c[_0x38563e(0x405)];y['verbose']('request\x20received\x20in\x20editFlowcondition'),y[_0x38563e(0x1ef)](_0x38563e(0x602)),y[_0x38563e(0x1ef)](_0x20334c[_0x38563e(0x405)]);let _0x3e1aae=await this[_0x38563e(0x2f9)]({'request':_0x20334c,'schema':M,'ClassRef':S,'execute':_0x344740=>x[_0x38563e(0x75c)](_0x344740,_0x5e4066)});_0x1ec744[_0x38563e(0x42e)](0xc8)['json'](_0x3e1aae);})[_0x30c174(0x5bc)](this[_0x30c174(0x18f)]('editflowvariable'),..._0x5d6a16,async(_0x2f4ab7,_0x5396a7)=>{const _0x20df16=_0x30c174;let _0x35d18c=_0x2f4ab7[_0x20df16(0x405)];y[_0x20df16(0x1ef)](_0x20df16(0x4a1)),y[_0x20df16(0x1ef)](_0x20df16(0x602)),y[_0x20df16(0x1ef)](_0x2f4ab7['body']);let _0x914464=await this['dataValidate']({'request':_0x2f4ab7,'schema':M,'ClassRef':S,'execute':_0x59e3b8=>x[_0x20df16(0x679)](_0x59e3b8,_0x35d18c)});_0x5396a7[_0x20df16(0x42e)](0xc8)['json'](_0x914464);})[_0x30c174(0x5bc)](this['routerPath'](_0x30c174(0x71f)),..._0x5d6a16,async(_0x129c95,_0x317f98)=>{const _0xc128ad=_0x30c174;let _0x120ec3=_0x129c95[_0xc128ad(0x405)];y[_0xc128ad(0x1ef)]('request\x20received\x20in\x20getFlow'),y[_0xc128ad(0x1ef)]('request\x20body:\x20'),y[_0xc128ad(0x1ef)](_0x129c95[_0xc128ad(0x405)]);let _0x56a383=await this[_0xc128ad(0x2f9)]({'request':_0x129c95,'schema':M,'ClassRef':S,'execute':_0x58b54a=>x[_0xc128ad(0x217)](_0x58b54a,_0x120ec3)});_0x317f98[_0xc128ad(0x42e)](0xc8)['json'](_0x56a383);})[_0x30c174(0x3b0)](this['routerPath'](_0x30c174(0x569)),..._0x5d6a16,async(_0x200d81,_0x213750)=>{const _0x1936e1=_0x30c174;let _0x22c768=_0x200d81[_0x1936e1(0x405)];y[_0x1936e1(0x1ef)](_0x1936e1(0x1cf)),y['verbose']('request\x20body:\x20'),y['verbose'](_0x200d81['body']);let _0x2f1f14=await this[_0x1936e1(0x2f9)]({'request':_0x200d81,'schema':M,'ClassRef':S,'execute':_0x59bba7=>x[_0x1936e1(0x555)](_0x59bba7,_0x22c768)});_0x213750[_0x1936e1(0x42e)](0xc8)['json'](_0x2f1f14);})[_0x30c174(0x5b0)](this['routerPath'](_0x30c174(0x5d4)),..._0x5d6a16,async(_0x113fa6,_0x38c563)=>{const _0x5e84fb=_0x30c174;y[_0x5e84fb(0x1ef)](_0x5e84fb(0x65e));let _0x48ba8b=await this[_0x5e84fb(0x2f9)]({'request':_0x113fa6,'schema':M,'ClassRef':S,'execute':_0x1e7e21=>x[_0x5e84fb(0x52b)](_0x1e7e21)});_0x38c563[_0x5e84fb(0x42e)](0xc8)[_0x5e84fb(0x6db)](_0x48ba8b);});}},Sr=O(require(a0_0x131850(0x20f))),X={};function wr(_0x59396a,_0x59ea5e,_0x3f2751,_0x4e42eb){X[_0x59396a]||(X[_0x59396a]={}),X[_0x59396a][_0x59ea5e]={'id':_0x59ea5e,'response':_0x3f2751,'events':_0x4e42eb};}function yr(_0x3e0e37,_0x1a5ffa){!X[_0x3e0e37]||!X[_0x3e0e37][_0x1a5ffa]||delete X[_0x3e0e37][_0x1a5ffa];}function F(_0x249099,_0x51f3e5,_0x53aab5){const _0x3126a4=a0_0x131850;if(!X[_0x249099])return;let _0x3a9588='data:\x20'+JSON[_0x3126a4(0x74e)](_0x53aab5)+'\x0a\x0a';Object[_0x3126a4(0x2ef)](X[_0x249099])[_0x3126a4(0x773)](_0x3fe42e=>{const _0x174c0b=_0x3126a4;_0x3fe42e[_0x174c0b(0x2d8)][_0x174c0b(0x2c5)](_0x51f3e5)&&_0x3fe42e[_0x174c0b(0x2eb)][_0x174c0b(0x452)](_0x3a9588);});}function br(){const _0x5f12b0=a0_0x131850;let _0x37ebef={};for(let _0x2c5d47 in X)_0x37ebef[_0x2c5d47]=Object[_0x5f12b0(0x2ef)](X[_0x2c5d47])['map'](_0x2e6212=>({'id':_0x2e6212['id'],'events':_0x2e6212[_0x5f12b0(0x2d8)]}));return _0x37ebef;}var Cr=require(a0_0x131850(0x3fb)),vs=require('mongoose'),Ms=class{},bi=new vs[(a0_0x131850(0x46a))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Si=new vs[(a0_0x131850(0x46a))]({'_id':{'type':String,'default':a0_0x131850(0x80d)},'WebhookGlobal':{'type':bi},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=T?.[a0_0x131850(0x709)](Ms['name'],Si,a0_0x131850(0x446)),Ci=Sr[a0_0x131850(0x1c2)][a0_0x131850(0x50c)](__dirname,a0_0x131850(0x581)),It=(0x0,At[a0_0x131850(0x22f)])(),Ei=b[a0_0x131850(0x5b0)]('AUTHENTICATION')[a0_0x131850(0x2d9)],se=[Ta,Oa,xa[Ei]];It['use'](a0_0x131850(0x6c6),At[a0_0x131850(0x1c2)][a0_0x131850(0x425)](Ci))['get'](a0_0x131850(0x416),async(_0x29246e,_0x533cc4)=>{const _0x32c39f=a0_0x131850;console[_0x32c39f(0x70b)](_0x32c39f(0x780));let _0x3731c2=_0x29246e[_0x32c39f(0x385)][_0x32c39f(0x468)],_0x486558=(_0x29246e[_0x32c39f(0x663)][_0x32c39f(0x2d8)]||'')['split'](','),_0x13beec=(0x0,Cr['v4'])();console[_0x32c39f(0x70b)](_0x32c39f(0x3ed),_0x3731c2),console[_0x32c39f(0x70b)](_0x32c39f(0x36d),_0x486558);let _0x54ca47=b[_0x32c39f(0x5b0)](_0x32c39f(0x712))[_0x32c39f(0x5ff)],_0x4df8f3=_0x29246e['query'][_0x32c39f(0x7e6)];if(console[_0x32c39f(0x70b)](_0x32c39f(0x841),_0x4df8f3),_0x54ca47[_0x32c39f(0x297)]!==_0x4df8f3){console[_0x32c39f(0x70b)](_0x32c39f(0x594));try{let _0x238efb=await ue['auth']['find'](_0x3731c2);if(console['log'](_0x32c39f(0x37e),_0x238efb),!_0x238efb||_0x238efb[_0x32c39f(0x7e6)]!==_0x4df8f3)return console[_0x32c39f(0x70b)](_0x32c39f(0x324)),_0x533cc4['status'](0x191)['send'](_0x32c39f(0x409));}catch(_0x2d7378){return console[_0x32c39f(0x4e7)](_0x32c39f(0x34e),_0x2d7378),_0x533cc4[_0x32c39f(0x42e)](0x191)[_0x32c39f(0x460)]('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Xe(_0x3731c2))return _0x533cc4['status'](0x194)[_0x32c39f(0x460)](_0x32c39f(0x2f7));_0x533cc4['setHeader'](_0x32c39f(0x72c),_0x32c39f(0x4f2)),_0x533cc4[_0x32c39f(0x20e)](_0x32c39f(0x571),_0x32c39f(0x341)),_0x533cc4[_0x32c39f(0x20e)]('Connection',_0x32c39f(0x39b)),_0x533cc4[_0x32c39f(0x1b3)]();let _0x3921d3=_0x32c39f(0x17f)+JSON[_0x32c39f(0x74e)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x533cc4['write'](_0x3921d3),wr(_0x3731c2,_0x13beec,_0x533cc4,_0x486558),_0x29246e['on'](_0x32c39f(0x274),()=>{const _0x23a248=_0x32c39f;console['log'](_0x23a248(0x844)+_0x3731c2),yr(_0x3731c2,_0x13beec);});}),It[a0_0x131850(0x5b0)](a0_0x131850(0x1db),(_0x3eec2f,_0x1c374b)=>{const _0x38e22c=a0_0x131850;let _0x5247c3=br();_0x1c374b[_0x38e22c(0x6db)](_0x5247c3);})[a0_0x131850(0x5b0)]('/',(_0x3d5dfd,_0x59c790)=>{const _0x2f1a9d=a0_0x131850;let _0x404a5c=b[_0x2f1a9d(0x5b0)]('SERVER')[_0x2f1a9d(0x68d)];if(_0x404a5c){let _0x1fa8e2=encodeURIComponent(''+_0x404a5c);_0x59c790[_0x2f1a9d(0x2c9)](_0x2f1a9d(0x791)+_0x1fa8e2);return;}let _0x3ff2d5=b[_0x2f1a9d(0x5b0)]('SSL_CONF'),_0x1d904e=_0x3ff2d5&&_0x3ff2d5[_0x2f1a9d(0x411)][_0x2f1a9d(0x5a5)]('/')[0x4];if(_0x1d904e){let _0x229fec=encodeURIComponent(_0x2f1a9d(0x7d7)+_0x1d904e);_0x59c790['redirect'](_0x2f1a9d(0x791)+_0x229fec);}else _0x59c790[_0x2f1a9d(0x2c9)](_0x2f1a9d(0x7d5));})['put'](a0_0x131850(0x280),...se,async(_0x29d126,_0x213ef7)=>{const _0x526e7f=a0_0x131850;try{console[_0x526e7f(0x70b)](_0x526e7f(0x258)),_0x213ef7['status'](0xc8)[_0x526e7f(0x6db)]({'message':_0x526e7f(0x45f)}),_0x213ef7['on'](_0x526e7f(0x802),()=>process[_0x526e7f(0x6fd)](0x0));}catch(_0x190fca){console['error'](_0x526e7f(0x350),_0x190fca),_0x213ef7[_0x526e7f(0x42e)](0x1f4)[_0x526e7f(0x6db)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x131850(0x833)]('/config',...se,async(_0x47abae,_0x1821f5)=>{const _0x44aa83=a0_0x131850;try{let _0x5b3af1=_0x47abae[_0x44aa83(0x405)];await ye[_0x44aa83(0x5e3)]({},{'$set':_0x5b3af1},{'upsert':!0x0});let _0x509799=await ye[_0x44aa83(0x5d6)]();_0x1821f5[_0x44aa83(0x6db)](_0x509799);}catch(_0x4a422c){_0x1821f5['status'](0x190)['send'](_0x4a422c['message']);}})[a0_0x131850(0x5b0)](a0_0x131850(0x7d6),...se,async(_0x1d97a9,_0x1c1003)=>{const _0x24cc4b=a0_0x131850;try{let _0x408d61=await ye['findOne']();if(!_0x408d61)return _0x1c1003[_0x24cc4b(0x6db)]({});_0x1c1003['json'](_0x408d61);}catch(_0x48038b){_0x1c1003[_0x24cc4b(0x42e)](0x1f4)[_0x24cc4b(0x460)](_0x48038b[_0x24cc4b(0x66c)]);}})['use'](a0_0x131850(0x82b),new gt(b,...se)[a0_0x131850(0x482)])['use'](a0_0x131850(0x1d9),new Nt(...se)[a0_0x131850(0x482)])[a0_0x131850(0x59f)]('/chat',new rt(...se)[a0_0x131850(0x482)])[a0_0x131850(0x59f)](a0_0x131850(0x2e9),new ht(...se)[a0_0x131850(0x482)])['use'](a0_0x131850(0x82a),new Tt(...se)[a0_0x131850(0x482)])[a0_0x131850(0x59f)]('/automate',new Ot(...se)['router']);var w=class{constructor(..._0x26eb2){const _0x4bbf39=a0_0x131850;throw{'status':0x190,'error':_0x4bbf39(0x7d4),'message':_0x26eb2['length']>0x0?_0x26eb2:void 0x0};}},te=class{constructor(..._0x5ddeb0){const _0x2f1aa7=a0_0x131850;throw{'status':0x191,'error':_0x2f1aa7(0x41d),'message':_0x5ddeb0[_0x2f1aa7(0x724)]>0x0?_0x5ddeb0:void 0x0};}},K=class{constructor(..._0x5d2e31){const _0x446d0d=a0_0x131850;throw{'status':0x193,'error':_0x446d0d(0x609),'message':_0x5d2e31['length']>0x0?_0x5d2e31:void 0x0};}},j=class{constructor(..._0xca7d6e){const _0x516ac7=a0_0x131850;throw{'status':0x194,'error':'Not\x20Found','message':_0xca7d6e[_0x516ac7(0x724)]>0x0?_0xca7d6e:void 0x0};}},I=class{constructor(..._0x550743){const _0xf44b2d=a0_0x131850;throw{'status':0x1f4,'error':_0xf44b2d(0x326),'message':_0x550743[_0xf44b2d(0x724)]>0x0?_0x550743:void 0x0};}},de=require('@whiskeysockets/baileys');async function Ns(_0x2b75f8){const _0x4d15ef=a0_0x131850;let _0x3fb2c3=new v(Ns[_0x4d15ef(0x228)]),_0x457dae=T['getClient'](),_0x10da34=_0x457dae['db'](b[_0x4d15ef(0x5b0)](_0x4d15ef(0x4ec))[_0x4d15ef(0x710)][_0x4d15ef(0x1be)]+_0x4d15ef(0x1e8))[_0x4d15ef(0x312)](_0x2b75f8),_0x3bb0d1=async(_0x121a95,_0xaca8c5)=>{const _0xb7a953=_0x4d15ef;try{return await _0x457dae[_0xb7a953(0x4d4)](),await _0x10da34['replaceOne']({'_id':_0xaca8c5},JSON[_0xb7a953(0x298)](JSON[_0xb7a953(0x74e)](_0x121a95,de[_0xb7a953(0x6b4)]['replacer'])),{'upsert':!0x0});}catch{}},_0x4426be=async _0x3c2e35=>{const _0x327d1a=_0x4d15ef;try{await _0x457dae[_0x327d1a(0x4d4)]();let _0x38deb5=await _0x10da34['findOne']({'_id':_0x3c2e35}),_0x551dd3=JSON['stringify'](_0x38deb5);return JSON[_0x327d1a(0x298)](_0x551dd3,de['BufferJSON'][_0x327d1a(0x461)]);}catch{}},_0x5377c3=async _0x50df69=>{const _0xa7b8d6=_0x4d15ef;try{return await _0x457dae[_0xa7b8d6(0x4d4)](),await _0x10da34[_0xa7b8d6(0x839)]({'_id':_0x50df69});}catch{}},_0x476f5a=await _0x4426be(_0x4d15ef(0x798))||(0x0,de[_0x4d15ef(0x599)])();return{'state':{'creds':_0x476f5a,'keys':{'get':async(_0x4c7893,_0x3c8974)=>{const _0x18248a=_0x4d15ef;let _0x20d009={};return await Promise['all'](_0x3c8974[_0x18248a(0x4e4)](async _0x44454d=>{const _0x285dee=_0x18248a;let _0x1bd6c8=await _0x4426be(_0x4c7893+'-'+_0x44454d);_0x4c7893===_0x285dee(0x2d1)&&_0x1bd6c8&&(_0x1bd6c8=de['proto'][_0x285dee(0x1a3)][_0x285dee(0x654)][_0x285dee(0x1cd)](_0x1bd6c8)),_0x20d009[_0x44454d]=_0x1bd6c8;})),_0x20d009;},'set':async _0x28290c=>{const _0x287ed3=_0x4d15ef;let _0x523250=[];for(let _0x2e095e in _0x28290c)for(let _0x36bdb2 in _0x28290c[_0x2e095e]){let _0xbee3fb=_0x28290c[_0x2e095e][_0x36bdb2],_0x3d03c6=_0x2e095e+'-'+_0x36bdb2;_0x523250[_0x287ed3(0x1b9)](_0xbee3fb?_0x3bb0d1(_0xbee3fb,_0x3d03c6):_0x5377c3(_0x3d03c6));}await Promise['all'](_0x523250);}}},'saveCreds':async()=>_0x3bb0d1(_0x476f5a,_0x4d15ef(0x798))};}var As=O(require(a0_0x131850(0x3df))),Is=O(require(a0_0x131850(0x345))),_t=require(a0_0x131850(0x7f0)),Er=require(a0_0x131850(0x677)),Dt=require('@whiskeysockets/baileys'),xt;function Mi(_0x15c05e){const _0x1fe418=a0_0x131850;return xt||(xt=(0x0,Er[_0x1fe418(0x316)])({'url':_0x15c05e[_0x1fe418(0x5f1)]}),xt[_0x1fe418(0x4d4)]()),xt;}var ne=class c{constructor(_0x21899f,_0x5b1a30){const _0x378702=a0_0x131850;this[_0x378702(0x1d6)]=_0x21899f,this[_0x378702(0x682)]=_0x5b1a30,this[_0x378702(0x2d2)]=new v(c['name']),this['client']=Mi(_0x21899f);}set[a0_0x131850(0x5f4)](_0x22a6b2){const _0x46e4e8=a0_0x131850;this[_0x46e4e8(0x682)]=_0x22a6b2;}async[a0_0x131850(0x758)](){const _0x4a589a=a0_0x131850;try{return await this[_0x4a589a(0x23d)][_0x4a589a(0x1bc)](['keys',this['redisEnv'][_0x4a589a(0x2ac)]+':*']);}catch(_0xf05378){this[_0x4a589a(0x2d2)][_0x4a589a(0x4e7)](_0xf05378);}}async[a0_0x131850(0x2e8)](_0x2605c5,_0x4c3754){const _0xc65841=a0_0x131850;try{let _0x2a5ab2=JSON[_0xc65841(0x74e)](_0x4c3754,Dt[_0xc65841(0x6b4)]['replacer']);return await this[_0xc65841(0x23d)][_0xc65841(0x2f4)](this['redisEnv']['PREFIX_KEY']+':'+this[_0xc65841(0x682)],_0x2605c5,_0x2a5ab2);}catch(_0x481aeb){this[_0xc65841(0x2d2)][_0xc65841(0x4e7)](_0x481aeb);}}async['getAllData'](){const _0xaee13d=a0_0x131850;try{let _0x17af94=await this[_0xaee13d(0x23d)][_0xaee13d(0x192)](this[_0xaee13d(0x1d6)][_0xaee13d(0x2ac)]+':'+this[_0xaee13d(0x682)]);if(_0x17af94){for(let _0x1799f2 in _0x17af94)Object[_0xaee13d(0x3ae)][_0xaee13d(0x37f)][_0xaee13d(0x44e)](_0x17af94,_0x1799f2)&&(_0x17af94[_0x1799f2]=JSON[_0xaee13d(0x298)](_0x17af94[_0x1799f2],Dt['BufferJSON']['reviver']));return _0x17af94;}}catch(_0x59a231){this[_0xaee13d(0x2d2)]['error'](_0x59a231);}}async[a0_0x131850(0x2a6)](_0x3dcb99){const _0x695131=a0_0x131850;try{let _0x407125=await this[_0x695131(0x23d)][_0x695131(0x816)](this[_0x695131(0x1d6)]['PREFIX_KEY']+':'+this[_0x695131(0x682)],_0x3dcb99);if(_0x407125)return JSON[_0x695131(0x298)](_0x407125,Dt[_0x695131(0x6b4)]['reviver']);}catch(_0x348409){this[_0x695131(0x2d2)]['error'](_0x348409);}}async[a0_0x131850(0x46f)](_0x4a07ab){const _0x461c4f=a0_0x131850;try{return await this[_0x461c4f(0x23d)][_0x461c4f(0x1ae)](this[_0x461c4f(0x1d6)][_0x461c4f(0x2ac)]+':'+this[_0x461c4f(0x682)],_0x4a07ab);}catch(_0x739fcc){this[_0x461c4f(0x2d2)]['error'](_0x739fcc);}}async[a0_0x131850(0x76d)](_0x316563){const _0x365b8b=a0_0x131850;try{return await this[_0x365b8b(0x23d)]['del'](_0x316563||this[_0x365b8b(0x1d6)][_0x365b8b(0x2ac)]+':'+this[_0x365b8b(0x682)]);}catch(_0x1244eb){this[_0x365b8b(0x2d2)][_0x365b8b(0x4e7)](_0x1244eb);}}};async function Rs(_0x104437,_0x17f98c){const _0x1cfae4=a0_0x131850;let _0x1bdfad=new v(Rs[_0x1cfae4(0x228)]),_0x27d7c5=new ne(_0x104437,_0x17f98c),_0x4adfa1=async(_0x25426f,_0x3773d9)=>{const _0x3912de=_0x1cfae4;try{return await _0x27d7c5[_0x3912de(0x2e8)](_0x3773d9,_0x25426f);}catch(_0x3b20d1){return _0x1bdfad[_0x3912de(0x4e7)]({'localError':_0x3912de(0x2e8),'error':_0x3b20d1});}},_0x315e18=async _0xa5eafa=>{const _0xf12f51=_0x1cfae4;try{return await _0x27d7c5['readData'](_0xa5eafa);}catch(_0x559003){_0x1bdfad[_0xf12f51(0x4e7)]({'readData':_0xf12f51(0x2e8),'error':_0x559003});return;}},_0x172f86=async _0x52514b=>{const _0x518abd=_0x1cfae4;try{return await _0x27d7c5[_0x518abd(0x46f)](_0x52514b);}catch(_0x2f63bb){_0x1bdfad['error']({'readData':_0x518abd(0x46f),'error':_0x2f63bb});}},_0x1c2f41=await _0x315e18('creds')||(0x0,_t[_0x1cfae4(0x599)])();return{'state':{'creds':_0x1c2f41,'keys':{'get':async(_0x5384bf,_0x2a87ef)=>{const _0x5ee162=_0x1cfae4;let _0x156d74={};return await Promise[_0x5ee162(0x306)](_0x2a87ef[_0x5ee162(0x4e4)](async _0x3e31a0=>{const _0x333937=_0x5ee162;let _0x3b1718=await _0x315e18(_0x5384bf+'-'+_0x3e31a0);_0x5384bf===_0x333937(0x2d1)&&_0x3b1718&&(_0x3b1718=_t['proto'][_0x333937(0x1a3)][_0x333937(0x654)]['fromObject'](_0x3b1718)),_0x156d74[_0x3e31a0]=_0x3b1718;})),_0x156d74;},'set':async _0x4b2106=>{const _0x569e0e=_0x1cfae4;let _0x4b6b20=[];for(let _0x4e8d45 in _0x4b2106)for(let _0x28d61e in _0x4b2106[_0x4e8d45]){let _0x477cce=_0x4b2106[_0x4e8d45][_0x28d61e],_0x2b9be3=_0x4e8d45+'-'+_0x28d61e;_0x4b6b20[_0x569e0e(0x1b9)](_0x477cce?await _0x4adfa1(_0x477cce,_0x2b9be3):await _0x172f86(_0x2b9be3));}await Promise[_0x569e0e(0x306)](_0x4b6b20);}}},'saveCreds':async()=>await _0x4adfa1(_0x1c2f41,'creds')};}var J=O(require('fs')),Re=require(a0_0x131850(0x3fb)),Lt=O(require(a0_0x131850(0x295))),jt=require(a0_0x131850(0x58a)),vi=a0_0x131850(0x308)['trim'](),Pt=vi[a0_0x131850(0x5a5)]('\x0a')[a0_0x131850(0x4e4)](_0x2301a0=>{const _0x414e05=a0_0x131850;let _0x15c5e7=_0x2301a0[_0x414e05(0x5a5)](':'),_0x490c57={'host':_0x15c5e7[0x0],'port':_0x15c5e7[0x1],'protocol':_0x414e05(0x348)};return _0x15c5e7[_0x414e05(0x724)]===0x4&&(_0x490c57[_0x414e05(0x61c)]=_0x15c5e7[0x2],_0x490c57['password']=_0x15c5e7[0x3]),_0x490c57;});function Mr(_0x3ca02e){const _0x221238=a0_0x131850;return Pt['find'](_0x6c34fa=>_0x6c34fa[_0x221238(0x759)]===_0x3ca02e)||null;}function vr(){if(Pt['length']===0x0)return null;let _0x80dbae=Math['floor'](Math['random']()*Pt['length']);return Pt[_0x80dbae];}function Ts(_0x23ead7){const _0x178ee5=a0_0x131850;let _0x1d6671=_0x1ea557=>typeof _0x1ea557==_0x178ee5(0x2e4)&&_0x1ea557[_0x178ee5(0x724)]>0x0,_0x17c41e=_0x145d90=>{let _0x5828f0=parseInt(_0x145d90,0xa);return!isNaN(_0x5828f0)&&_0x5828f0>0x0&&_0x5828f0<=0xffff;},_0xf4d487=_0x5f5984=>typeof _0x5f5984==_0x178ee5(0x2e4)&&_0x5f5984['length']>0x0;return _0x23ead7&&_0x1d6671(_0x23ead7[_0x178ee5(0x759)])&&_0x17c41e(_0x23ead7[_0x178ee5(0x335)])&&(!_0x23ead7['username']||_0xf4d487(_0x23ead7[_0x178ee5(0x61c)]))&&(!_0x23ead7[_0x178ee5(0x331)]||_0xf4d487(_0x23ead7[_0x178ee5(0x331)]))&&(_0x23ead7[_0x178ee5(0x60c)]==='http'||_0x23ead7[_0x178ee5(0x60c)]===_0x178ee5(0x3dc));}var xs=require(a0_0x131850(0x247)),Ds='Safari',xr,ce=null,Nr=null,et=null,Ni=0x3,Ri=null;async function Ti(){const _0x3302c9=a0_0x131850;let _0x4c5777=await ye['findOne']();ce=_0x4c5777?.[_0x3302c9(0x77d)]??null,Ri=_0x4c5777?.[_0x3302c9(0x62c)]??null,Ds=_0x4c5777?.['connectedClient']??'Safari',xr=_0x4c5777?.[_0x3302c9(0x401)]??_s??_0x3302c9(0x7fe),console[_0x3302c9(0x70b)]('CONFIGURAÇÃO\x20GERAL:'),console[_0x3302c9(0x70b)](_0x4c5777);}async function Oi(){await Ti();}Oi();var Rr={},ae={},be=class c{constructor(_0x48e72d,_0x497e1a,_0x204445){const _0x1d1455=a0_0x131850;this[_0x1d1455(0x400)]=_0x48e72d,this[_0x1d1455(0x1b6)]=_0x497e1a,this['repository']=_0x204445,this[_0x1d1455(0x56c)]=null,this[_0x1d1455(0x2d2)]=new v(c['name']),this[_0x1d1455(0x468)]={},this[_0x1d1455(0x7e8)]={},this['stateConnection']={'state':_0x1d1455(0x274)},this[_0x1d1455(0x6ab)]=(0x0,q[_0x1d1455(0x50c)])(ie,'downloads'),this['msgRetryCounterCache']=new Is[(_0x1d1455(0x1c2))](),this[_0x1d1455(0x377)]=new Is[(_0x1d1455(0x1c2))](),this[_0x1d1455(0x723)]=!0x1,this[_0x1d1455(0x1df)]={'status.instance':_0x1d1455(0x3fd),'connection.update':'/wa-connection-update','qrcode.updated':_0x1d1455(0x812),'messages.upsert':_0x1d1455(0x842),'send.message':'/wa-message','messages.update':_0x1d1455(0x814),'group.upsert':_0x1d1455(0x514),'group.update':_0x1d1455(0x514),'group-participants.update':'/wa-groups','messages.set':_0x1d1455(0x2b3),'contacts.set':_0x1d1455(0x779),'contacts.upsert':_0x1d1455(0x779),'contacts.update':_0x1d1455(0x779),'presence.update':_0x1d1455(0x598),'chats.set':'/wa-chats','chats.update':_0x1d1455(0x23e),'chats.upsert':_0x1d1455(0x23e),'chats.delete':_0x1d1455(0x23e)},this[_0x1d1455(0x83b)]=0x0,this['reconnectTimestamps']=[],this[_0x1d1455(0x6a5)]=0xa,this[_0x1d1455(0x484)]=0xea60,this[_0x1d1455(0x286)]=!0x1,this[_0x1d1455(0x760)]={'chats.upsert':async(_0x1487cf,_0x2d7992)=>{const _0x15fc91=_0x1d1455;let _0x447998=[];for await(let _0x57ab3c of _0x1487cf)_0x447998[_0x15fc91(0x1b9)]({'_id':_0x57ab3c['id'],'owner':this[_0x15fc91(0x468)][_0x15fc91(0x577)],'group':_0x57ab3c['id'][_0x15fc91(0x4c3)]('@g.us'),'name':_0x57ab3c['name']||_0x57ab3c['displayName']||null,'contactname':null,'lastmsg':_0x57ab3c[_0x15fc91(0x3c2)]&&_0x57ab3c['conversationTimestamp']['toString']()[_0x15fc91(0x724)]<0xd?_0x57ab3c[_0x15fc91(0x3c2)]*0x3e8:_0x57ab3c[_0x15fc91(0x3c2)]||null,'archived':_0x57ab3c[_0x15fc91(0x6b5)]||!0x1,'unreadcount':_0x57ab3c['unreadCount']||0x0});this[_0x15fc91(0x1b1)]('chats.upsert',_0x447998);},'chats.update':async(_0x4b908f,_0x1a9d58)=>{const _0x38b6e4=_0x1d1455;for(let _0x3d5e46 of _0x4b908f){let _0x2ac201={'_id':_0x3d5e46['id'],'owner':this[_0x38b6e4(0x468)][_0x38b6e4(0x577)],'group':_0x3d5e46['id']['endsWith'](_0x38b6e4(0x196)),'name':_0x3d5e46[_0x38b6e4(0x228)]||_0x3d5e46[_0x38b6e4(0x2b1)],'archived':_0x3d5e46[_0x38b6e4(0x6b5)],'ephemeralExpiration':_0x3d5e46['ephemeralExpiration']},_0x49846d=!0x1,_0xd104ec={};_0x2ac201[_0x38b6e4(0x6b5)]!=null&&(this['logger'][_0x38b6e4(0x1ef)](this[_0x38b6e4(0x682)]+'\x20('+this[_0x38b6e4(0x468)]['wuid']+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x3d5e46[_0x38b6e4(0x6b5)]),_0x49846d=!0x0,_0xd104ec['archived']=_0x3d5e46[_0x38b6e4(0x6b5)]),_0x3d5e46[_0x38b6e4(0x228)]!=null&&(this[_0x38b6e4(0x2d2)][_0x38b6e4(0x1ef)](this['instanceName']+'\x20('+this[_0x38b6e4(0x468)][_0x38b6e4(0x577)]+_0x38b6e4(0x64e)+_0x3d5e46[_0x38b6e4(0x228)]),_0x49846d=!0x0,_0xd104ec[_0x38b6e4(0x228)]=_0x3d5e46[_0x38b6e4(0x228)]),_0x3d5e46[_0x38b6e4(0x2b1)]!=null&&(this[_0x38b6e4(0x2d2)]['verbose'](this[_0x38b6e4(0x682)]+'\x20('+this[_0x38b6e4(0x468)][_0x38b6e4(0x577)]+_0x38b6e4(0x4c8)+_0x3d5e46[_0x38b6e4(0x2b1)]),_0x49846d=!0x0,_0xd104ec[_0x38b6e4(0x228)]=_0x3d5e46[_0x38b6e4(0x2b1)]);let _0x345604;_0x49846d&&(_0x345604=await this[_0x38b6e4(0x5c7)][_0x38b6e4(0x801)][_0x38b6e4(0x5e3)]({'where':{'_id':_0x3d5e46['id']}},_0xd104ec,this[_0x38b6e4(0x468)][_0x38b6e4(0x577)])),_0x345604&&F(this[_0x38b6e4(0x682)],_0x38b6e4(0x534),{'chat':_0x345604});}},'chats.delete':async _0x2f4d24=>{const _0x23e8c1=_0x1d1455;for(let _0x566368 of _0x2f4d24)if(_0x566368[_0x23e8c1(0x4c3)](_0x23e8c1(0x196))){await this[_0x23e8c1(0x5c7)]['chat']['delete']({'where':{'_id':_0x566368}},this[_0x23e8c1(0x468)][_0x23e8c1(0x577)]);let _0x44c23e={'where':{'key':{'remoteJid':_0x566368}}};await this[_0x23e8c1(0x5c7)][_0x23e8c1(0x66c)][_0x23e8c1(0x3b0)](_0x44c23e,this['instance'][_0x23e8c1(0x577)]);}else{await this[_0x23e8c1(0x5c7)][_0x23e8c1(0x801)][_0x23e8c1(0x5e3)]({'where':{'_id':_0x566368}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x23e8c1(0x468)][_0x23e8c1(0x577)]);let _0x34b493={'where':{'key':{'remoteJid':_0x566368}}};await this[_0x23e8c1(0x5c7)][_0x23e8c1(0x66c)]['delete'](_0x34b493,this[_0x23e8c1(0x468)]['wuid']);}this['sendDataWebhook'](_0x23e8c1(0x6ef),[..._0x2f4d24]);}},this[_0x1d1455(0x211)]={'contacts.upsert':async(_0x30ce1a,_0x34ac81)=>{const _0x46d7c9=_0x1d1455;let _0x21279e=await this['repository'][_0x46d7c9(0x51d)][_0x46d7c9(0x518)]({'where':{}},this[_0x46d7c9(0x468)][_0x46d7c9(0x577)]),_0x5449bf=[];for await(let _0x37905a of _0x30ce1a)_0x21279e[_0x46d7c9(0x518)](_0x1550b1=>_0x1550b1[_0x46d7c9(0x39d)]===_0x37905a['id'])||_0x5449bf['push']({'_id':_0x37905a['id'],'pushName':_0x37905a?.[_0x46d7c9(0x228)]||_0x37905a?.['verifiedName'],'owner':this[_0x46d7c9(0x468)][_0x46d7c9(0x577)]});this[_0x46d7c9(0x1b1)]('contacts.upsert',_0x5449bf),await this[_0x46d7c9(0x5c7)]['contact']['insert'](_0x5449bf);},'contacts.update':async(_0x314085,_0x3c0cf7)=>{const _0x533a3e=_0x1d1455;let _0x4d35f8=[];for await(let _0x9e9cf8 of _0x314085)_0x4d35f8['push']({'_id':_0x9e9cf8['id'],'pushName':_0x9e9cf8?.[_0x533a3e(0x228)]??_0x9e9cf8?.[_0x533a3e(0x2a8)],'owner':this['instance'][_0x533a3e(0x577)]});this[_0x533a3e(0x1b1)](_0x533a3e(0x1e5),_0x4d35f8);}},this[_0x1d1455(0x7b8)]={'messaging-history.set':async({messages:_0x30d292,chats:_0x2d4583,isLatest:_0x1a0e30},_0xd143e0)=>{const _0x127e04=_0x1d1455;if(_0x1a0e30){let _0x408fb=await Promise[_0x127e04(0x306)](_0x2d4583[_0x127e04(0x4e4)](async _0xc9cc3e=>({'_id':_0xc9cc3e['id'],'owner':this['instance']['wuid'],'group':_0xc9cc3e['id'][_0x127e04(0x4c3)](_0x127e04(0x196)),'name':_0xc9cc3e[_0x127e04(0x228)]||_0xc9cc3e[_0x127e04(0x2b1)]||null,'contactname':null,'lastmsg':_0xc9cc3e[_0x127e04(0x3c2)]&&_0xc9cc3e[_0x127e04(0x3c2)][_0x127e04(0x6a2)]()['length']<0xd?_0xc9cc3e[_0x127e04(0x3c2)]*0x3e8:_0xc9cc3e[_0x127e04(0x3c2)]||null,'archived':_0xc9cc3e[_0x127e04(0x6b5)]||!0x1,'unreadcount':_0xc9cc3e[_0x127e04(0x471)]||0x0})));this['sendDataWebhook'](_0x127e04(0x2f2),_0x408fb),await this[_0x127e04(0x54f)](_0x408fb,_0xd143e0);}let _0x283a8a=[],_0x1b3a81=Date[_0x127e04(0x447)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x1e6ed2]of Object[_0x127e04(0x7a4)](_0x30d292)){if(_0x1e6ed2[_0x127e04(0x66c)]?.[_0x127e04(0x82e)]||_0x1e6ed2['message']?.[_0x127e04(0x2ba)]||!_0x1e6ed2[_0x127e04(0x66c)]||_0x1e6ed2[_0x127e04(0x502)][_0x127e04(0x778)]===_0x127e04(0x4c2)||(As['default'][_0x127e04(0x171)](_0x1e6ed2?.[_0x127e04(0x2fe)])&&(_0x1e6ed2[_0x127e04(0x2fe)]=_0x1e6ed2[_0x127e04(0x2fe)]?.[_0x127e04(0x2ed)]()),_0x1e6ed2[_0x127e04(0x2fe)]&&_0x1e6ed2[_0x127e04(0x2fe)]['toString']()['length']<0xd&&(_0x1e6ed2[_0x127e04(0x2fe)]=_0x1e6ed2['messageTimestamp']*0x3e8),_0x1e6ed2[_0x127e04(0x2fe)]<_0x1b3a81))continue;let _0x1af604=(0x0,f[_0x127e04(0x2d6)])(_0x1e6ed2[_0x127e04(0x66c)]),_0x2b8925=(0x0,f['getContentType'])(_0x1af604),{message_normalized:_0x33b846}=this[_0x127e04(0x46c)](_0x1af604,_0x2b8925,null);Object[_0x127e04(0x7ad)](_0x33b846)[_0x127e04(0x724)]>0x0&&_0x283a8a[_0x127e04(0x1b9)]({'_id':_0x1e6ed2[_0x127e04(0x502)]['id'],'key':_0x1e6ed2['key'],'pushName':_0x1e6ed2[_0x127e04(0x4a2)],'participant':_0x1e6ed2['participant'],'message':_0x1af604,'messageType':_0x2b8925,'message_normalized':{'key':_0x1e6ed2['key'],'pushName':_0x1e6ed2['pushName'],'messageTimestamp':_0x1e6ed2['messageTimestamp'],..._0x33b846},'messageTimestamp':_0x1e6ed2[_0x127e04(0x2fe)],'owner':this[_0x127e04(0x468)][_0x127e04(0x577)]});}_0xd143e0[_0x127e04(0x237)]&&_0x283a8a['length']>0x0&&(this[_0x127e04(0x2d2)]['verbose'](this['instanceName']+'\x20('+this[_0x127e04(0x468)][_0x127e04(0x577)]+'):\x20'+_0x283a8a[_0x127e04(0x724)]+_0x127e04(0x203)+this[_0x127e04(0x468)][_0x127e04(0x577)]+_0x127e04(0x708)),await this[_0x127e04(0x5c7)][_0x127e04(0x66c)][_0x127e04(0x322)]([..._0x283a8a],this[_0x127e04(0x468)]['wuid'])),this[_0x127e04(0x1b1)](_0x127e04(0x37c),[..._0x283a8a]),_0x30d292=void 0x0;},'messages.upsert':async({messages:_0x31d00c,type:_0x572d80},_0x5f47d8)=>{const _0x1b4171=_0x1d1455;let _0x3db9e1=_0x31d00c[0x0],_0xc1e671=_0x3db9e1[_0x1b4171(0x502)]['id'],_0x3f0288=_0x3db9e1[_0x1b4171(0x1ed)]===0x2,_0x486ef2=0xb;if(this['localWebhook']?.[_0x1b4171(0x5d8)]&&_0x3db9e1[_0x1b4171(0x502)][_0x1b4171(0x778)][_0x1b4171(0x2c5)](_0x1b4171(0x196))){this[_0x1b4171(0x2d2)][_0x1b4171(0x1ef)](this[_0x1b4171(0x682)]+'\x20('+this[_0x1b4171(0x468)]['wuid']+_0x1b4171(0x262));return;}if(_0x3f0288){if(ae[_0xc1e671]||(ae[_0xc1e671]=0x0),ae[_0xc1e671]++,this[_0x1b4171(0x2d2)][_0x1b4171(0x4e7)](this['instanceName']+'\x20('+this['instance'][_0x1b4171(0x577)]+_0x1b4171(0x4a7)+_0x3db9e1[_0x1b4171(0x502)][_0x1b4171(0x778)]+_0x1b4171(0x1cc)+_0xc1e671+':\x20'+ae[_0xc1e671]+'/'+_0x486ef2),ae[_0xc1e671]>=_0x486ef2){this[_0x1b4171(0x2d2)][_0x1b4171(0x4e7)](this[_0x1b4171(0x682)]+'\x20('+this[_0x1b4171(0x468)]['wuid']+'):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x3db9e1['key'][_0x1b4171(0x778)]+'\x20e\x20ID='+_0xc1e671+'.');let _0x2191ec={'key':{..._0x3db9e1[_0x1b4171(0x502)]},'message':{'conversation':_0x1b4171(0x166)+_0xc1e671+_0x1b4171(0x671)}};this['client']['ev'][_0x1b4171(0x6e6)](_0x1b4171(0x64d),{'messages':[_0x2191ec],'type':_0x1b4171(0x51e)}),delete ae[_0xc1e671];}}else ae[_0xc1e671]&&(this['logger'][_0x1b4171(0x2c4)]('[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20'+ae[_0xc1e671]+'\x20tentativas:\x20remotejid='+_0x3db9e1[_0x1b4171(0x502)][_0x1b4171(0x778)]+_0x1b4171(0x1cc)+_0xc1e671),delete ae[_0xc1e671]);if(_0x572d80!==_0x1b4171(0x51e)||!_0x3db9e1?.['message']||_0x3db9e1[_0x1b4171(0x66c)]?.['protocolMessage']||_0x3db9e1[_0x1b4171(0x66c)][_0x1b4171(0x2ba)]||_0x3db9e1[_0x1b4171(0x502)]['remoteJid']===_0x1b4171(0x4c2))return;let _0x5e59a3=null,_0x48b2e7=null;try{_0x5e59a3=await this[_0x1b4171(0x16d)](_0x3db9e1),_0x48b2e7=_0x5e59a3?_0x5e59a3[_0x1b4171(0x50c)](','):null;}catch(_0x511828){this['logger']['verbose'](this[_0x1b4171(0x682)]+'\x20('+this[_0x1b4171(0x468)][_0x1b4171(0x577)]+'):\x20'+(_0x511828 instanceof Error?_0x511828[_0x1b4171(0x66c)]:JSON[_0x1b4171(0x74e)](_0x511828,null,0x2))),_0x48b2e7=_0x1b4171(0x506);}this[_0x1b4171(0x23d)][_0x1b4171(0x278)]('unavailable'),As['default'][_0x1b4171(0x171)](_0x3db9e1[_0x1b4171(0x2fe)])&&(_0x3db9e1[_0x1b4171(0x2fe)]=_0x3db9e1[_0x1b4171(0x2fe)]?.['toNumber']()),_0x3db9e1[_0x1b4171(0x2fe)]&&_0x3db9e1['messageTimestamp'][_0x1b4171(0x6a2)]()[_0x1b4171(0x724)]<0xd&&(_0x3db9e1[_0x1b4171(0x2fe)]=_0x3db9e1[_0x1b4171(0x2fe)]*0x3e8);let _0xe890fc=_0x3db9e1[_0x1b4171(0x66c)],_0x3aab44=(0x0,f[_0x1b4171(0x2d6)])(_0xe890fc),_0xa15585=(0x0,f[_0x1b4171(0x78e)])(_0x3aab44),{messageContent:_0xf52881,message_normalized:_0x12c394}=this['normalizeMessage'](_0x3aab44,_0xa15585,_0x48b2e7);_0xa15585==='protocolMessage'&&_0xf52881?.[_0x1b4171(0x2d3)]&&(_0xa15585=_0x1b4171(0x2d3));let _0x5117e1,_0x420209=_0x3db9e1['key'][_0x1b4171(0x778)][_0x1b4171(0x4c3)](_0x1b4171(0x196));if(_0x3db9e1[_0x1b4171(0x502)][_0x1b4171(0x5e2)])_0x5117e1=this[_0x1b4171(0x468)][_0x1b4171(0x7b5)];else{let _0x81d774=_0x420209?_0x3db9e1[_0x1b4171(0x502)][_0x1b4171(0x60a)]:_0x3db9e1['key']['remoteJid'];_0x5117e1=(await this[_0x1b4171(0x32d)](_0x81d774,_0x3db9e1[_0x1b4171(0x4a2)],!0x1))['cachedContact'][_0x1b4171(0x645)];}let _0x37a35d={'_id':_0x3db9e1[_0x1b4171(0x502)]['id'],'key':_0x3db9e1[_0x1b4171(0x502)],'isGroup':_0x420209,'profilePictureUrl':_0x5117e1,'pushName':_0x3db9e1['pushName'],'message':_0x3aab44,'messageType':_0xa15585,'message_normalized':{'key':_0x3db9e1[_0x1b4171(0x502)],'pushName':_0x3db9e1[_0x1b4171(0x4a2)],'messageTimestamp':_0x3db9e1[_0x1b4171(0x2fe)],'source':(0x0,f[_0x1b4171(0x4e2)])(_0x3db9e1[_0x1b4171(0x502)]['id']),..._0x12c394},'messageTimestamp':_0x3db9e1['messageTimestamp'],'owner':this[_0x1b4171(0x468)][_0x1b4171(0x577)],'source':(0x0,f[_0x1b4171(0x4e2)])(_0x3db9e1[_0x1b4171(0x502)]['id'])};_0xf52881||(console[_0x1b4171(0x4e7)](_0x1b4171(0x1b5)),this['logger'][_0x1b4171(0x4e7)](_0x37a35d)),this['logger'][_0x1b4171(0x70b)](this[_0x1b4171(0x682)]+'\x20('+this[_0x1b4171(0x468)][_0x1b4171(0x577)]+'):\x20'+(_0x37a35d[_0x1b4171(0x502)]?.[_0x1b4171(0x5e2)]?_0x1b4171(0x6d4):_0x1b4171(0x3e0))+'\x20['+_0x37a35d[_0x1b4171(0x502)]?.['remoteJid'][_0x1b4171(0x357)](_0x1b4171(0x7fc),'')+']\x20('+_0x37a35d[_0x1b4171(0x660)]+')'),_0x37a35d[_0x1b4171(0x727)]?.[_0x1b4171(0x373)]&&this['logger'][_0x1b4171(0x70b)](_0xc1e671+':\x20'+_0x37a35d[_0x1b4171(0x727)]?.[_0x1b4171(0x373)]),await this[_0x1b4171(0x5c7)][_0x1b4171(0x66c)][_0x1b4171(0x322)]([_0x37a35d],this[_0x1b4171(0x468)][_0x1b4171(0x577)]),this['sendDataWebhook'](_0x1b4171(0x64d),_0x37a35d),F(this[_0x1b4171(0x682)],'messages',{'message':_0x37a35d}),_0x3db9e1[_0x1b4171(0x502)][_0x1b4171(0x778)]!=='status@broadcast'&&await this[_0x1b4171(0x695)](_0x5f47d8,_0x37a35d,_0x1b4171(0x644));},'messages.update':async(_0x5432df,_0x35de34)=>{const _0x3318ee=_0x1d1455;let _0xc8c58c={0x0:_0x3318ee(0x60f),0x1:_0x3318ee(0x784),0x2:'SERVER_ACK',0x3:_0x3318ee(0x6da),0x4:_0x3318ee(0x4fa),0x5:_0x3318ee(0x540)};for await(let {key:_0x359237,update:_0x57937d}of _0x5432df){if(this[_0x3318ee(0x7e8)]?.['groups_ignore']&&_0x359237[_0x3318ee(0x778)][_0x3318ee(0x2c5)]('@g.us')){this['logger']['verbose'](this[_0x3318ee(0x682)]+'\x20('+this[_0x3318ee(0x468)][_0x3318ee(0x577)]+_0x3318ee(0x7f5));return;}if(_0x359237[_0x3318ee(0x778)]!==_0x3318ee(0x4c2)){let _0x5e0a0f=Date['now'](),_0x410a0a;_0x57937d[_0x3318ee(0x66c)]===null&&_0x57937d[_0x3318ee(0x42e)]===void 0x0?_0x410a0a=_0x3318ee(0x182):_0x410a0a=_0xc8c58c[_0x57937d[_0x3318ee(0x42e)]];let _0x5b9a98=_0x359237[_0x3318ee(0x778)][_0x3318ee(0x357)](/:\d{1,2}@/g,'@'),_0x5095d1={..._0x359237,'remoteJid':_0x5b9a98,'status':_0x410a0a,'datetime':_0x5e0a0f,'owner':this[_0x3318ee(0x468)][_0x3318ee(0x577)]};this[_0x3318ee(0x1b1)]('messages.update',_0x5095d1),await this['updateMessage'](_0x359237,_0x5095d1);}}},'labels.association':async({type:_0x4d3513,association:_0x3028ba})=>{const _0x2a41e0=_0x1d1455;if(_0x3028ba['type']===_0x2a41e0(0x83d)){let _0x3e14dc,_0x7c4bfe=0x0;for(;!_0x3e14dc&&_0x7c4bfe<this[_0x2a41e0(0x579)];)_0x3e14dc=await this[_0x2a41e0(0x5c7)][_0x2a41e0(0x801)][_0x2a41e0(0x5d6)]({'where':{'_id':_0x3028ba[_0x2a41e0(0x59b)]}},this[_0x2a41e0(0x468)][_0x2a41e0(0x577)]),_0x3e14dc||(_0x7c4bfe++,console['log'](_0x2a41e0(0x804)+_0x3028ba[_0x2a41e0(0x59b)]+_0x2a41e0(0x320)+this[_0x2a41e0(0x633)]+_0x2a41e0(0x283)+_0x7c4bfe+'/'+this[_0x2a41e0(0x579)]+')'),await this['delayChatLabel'](this[_0x2a41e0(0x633)]));if(!_0x3e14dc){console[_0x2a41e0(0x4e7)](_0x2a41e0(0x6bf)+_0x3028ba['chatId']+_0x2a41e0(0x383)+this[_0x2a41e0(0x579)]+'\x20attempts.');return;}switch(_0x4d3513){case _0x2a41e0(0x68e):console[_0x2a41e0(0x70b)](_0x3028ba),await this[_0x2a41e0(0x5c7)][_0x2a41e0(0x801)]['updateOne']({'where':{'_id':_0x3028ba['chatId']}},{'leadInfo.etiquetas':_0x3028ba[_0x2a41e0(0x785)]},this[_0x2a41e0(0x468)][_0x2a41e0(0x577)],void 0x0,_0x2a41e0(0x533));break;case _0x2a41e0(0x57c):console['log'](_0x3028ba),await this[_0x2a41e0(0x5c7)][_0x2a41e0(0x801)][_0x2a41e0(0x5e3)]({'where':{'_id':_0x3028ba[_0x2a41e0(0x59b)]}},{'leadInfo.etiquetas':_0x3028ba[_0x2a41e0(0x785)]},this['instance']['wuid'],void 0x0,_0x2a41e0(0x419));break;default:console[_0x2a41e0(0x4e7)]('unknown\x20operation\x20type\x20['+_0x4d3513+']');}}},'labels.edit':async _0x939eea=>{const _0x1ad86c=_0x1d1455;if(!_0x939eea||!_0x939eea['id']){console[_0x1ad86c(0x4e7)](_0x1ad86c(0x770));return;}if(!_0x939eea[_0x1ad86c(0x70a)]){let _0x1095fa=[_0x1ad86c(0x7ed),_0x1ad86c(0x3fe),'#fed428','#dfaef0','#9ab6c1',_0x1ad86c(0x7c2),_0x1ad86c(0x180),_0x1ad86c(0x288),_0x1ad86c(0x596),'#d8e651',_0x1ad86c(0x245),'#ffc5c7','#92ceac',_0x1ad86c(0x840),_0x1ad86c(0x573),_0x1ad86c(0x380),_0x1ad86c(0x436),_0x1ad86c(0x489),'#9ba6ff','#9568cf'],_0x3802d5;typeof _0x939eea[_0x1ad86c(0x480)]=='number'&&_0x939eea['color']>=0x0&&_0x939eea['color']<_0x1095fa[_0x1ad86c(0x724)]?_0x3802d5=_0x1095fa[_0x939eea[_0x1ad86c(0x480)]]:(console[_0x1ad86c(0x4e7)](_0x1ad86c(0x58c),_0x939eea[_0x1ad86c(0x480)]),_0x3802d5=_0x1ad86c(0x74b));let _0x3b75ae={'_id':_0x939eea['id'],'colorHex':_0x3802d5,'color':_0x939eea?.['color'],'name':_0x939eea?.['name'],'owner':this[_0x1ad86c(0x468)][_0x1ad86c(0x577)]};await this[_0x1ad86c(0x5c7)][_0x1ad86c(0x507)][_0x1ad86c(0x5e3)]({'where':{'_id':_0x939eea['id']}},_0x3b75ae,this['instance'][_0x1ad86c(0x577)]),console[_0x1ad86c(0x70b)](_0x1ad86c(0x42b),_0x939eea);}_0x939eea[_0x1ad86c(0x70a)]&&(await this[_0x1ad86c(0x5c7)][_0x1ad86c(0x507)]['delete']({'where':{'_id':_0x939eea['id']}},this[_0x1ad86c(0x468)][_0x1ad86c(0x577)]),console[_0x1ad86c(0x70b)](_0x1ad86c(0x78c),_0x939eea['id']));}},this[_0x1d1455(0x4ea)]={'groups.upsert':_0x220878=>{const _0x500521=_0x1d1455;this['sendDataWebhook'](_0x500521(0x3a8),_0x220878);},'groups.update':_0xa186f1=>{const _0x41fc41=_0x1d1455;this[_0x41fc41(0x1b1)](_0x41fc41(0x30a),_0xa186f1);},'group-participants.update':_0x78e933=>{const _0x2a9435=_0x1d1455;this[_0x2a9435(0x1b1)]('group-participants.update',_0x78e933);}},this[_0x1d1455(0x579)]=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this[_0x1d1455(0x16d)]=async _0x40810f=>{const _0x16b0a2=_0x1d1455;if(_0x40810f['message']?.['pollUpdateMessage']){let _0x1a519e=await this[_0x16b0a2(0x80e)](_0x40810f[_0x16b0a2(0x66c)][_0x16b0a2(0x5cc)][_0x16b0a2(0x607)],!0x0);if(_0x1a519e){let _0x2da4e1=_0x1a519e['key'][_0x16b0a2(0x5e2)]?this[_0x16b0a2(0x468)][_0x16b0a2(0x577)]+_0x16b0a2(0x7fc):_0x1a519e[_0x16b0a2(0x502)][_0x16b0a2(0x60a)]||_0x1a519e['key'][_0x16b0a2(0x778)],_0x1d858d=_0x1a519e['key']['id'],_0x2117e7=_0x1a519e[_0x16b0a2(0x66c)],_0x248b03=Buffer['from'](_0x2117e7[_0x16b0a2(0x215)]['messageSecret']['toString'](_0x16b0a2(0x35e)),_0x16b0a2(0x35e)),_0x2d54dd=(0x0,f['decryptPollVote'])(_0x40810f[_0x16b0a2(0x66c)][_0x16b0a2(0x5cc)][_0x16b0a2(0x255)],{'pollCreatorJid':_0x2da4e1,'pollMsgId':_0x1d858d,'pollEncKey':_0x248b03,'voterJid':_0x40810f['key'][_0x16b0a2(0x5e2)]?this[_0x16b0a2(0x468)][_0x16b0a2(0x577)]+'@s.whatsapp.net':_0x40810f[_0x16b0a2(0x502)]['remoteJid'][_0x16b0a2(0x4c3)](_0x16b0a2(0x5b7))?_0x40810f[_0x16b0a2(0x502)]['participant']:_0x40810f[_0x16b0a2(0x502)][_0x16b0a2(0x778)]}),_0x15e74d=[],_0x5a1670=_0x2d54dd[_0x16b0a2(0x265)]['map'](_0x3ff8e8=>Buffer[_0x16b0a2(0x25a)](_0x3ff8e8)['toString'](_0x16b0a2(0x35e)));for(let {optionName:_0xab7253}of _0x2117e7['pollCreationMessage']?.['options']||_0x2117e7['pollCreationMessageV3']?.['options']||_0x2117e7[_0x16b0a2(0x83c)]?.[_0x16b0a2(0x19e)])_0x5a1670[_0x16b0a2(0x56a)]((0x0,f[_0x16b0a2(0x424)])(Buffer[_0x16b0a2(0x25a)](_0xab7253))[_0x16b0a2(0x6a2)](_0x16b0a2(0x35e)))>-0x1&&_0x15e74d[_0x16b0a2(0x1b9)](_0xab7253);return _0x15e74d;}}return null;},this[_0x1d1455(0x46c)]=(_0x31d868,_0x2cf334,_0x5d20ed)=>{const _0x5ea26b=_0x1d1455;try{let _0x3010de=_0x31d868?(0x0,f['extractMessageContent'])(_0x31d868)[_0x2cf334]:void 0x0,_0x2960ae={},_0x1189f7=null,_0x33565b=null,_0x34728e=null;_0x2cf334===_0x5ea26b(0x82e)&&_0x3010de?.[_0x5ea26b(0x2d3)]&&(_0x2cf334=(0x0,f[_0x5ea26b(0x78e)])(_0x3010de[_0x5ea26b(0x2d3)]),_0x1189f7=_0x31d868['protocolMessage'][_0x5ea26b(0x502)]['id'],_0x3010de=_0x31d868[_0x5ea26b(0x82e)][_0x5ea26b(0x2d3)][_0x2cf334]),_0x31d868[_0x2cf334]?.[_0x5ea26b(0x3fa)]?.[_0x5ea26b(0x7ac)]&&_0x31d868[_0x2cf334]?.['contextInfo']?.[_0x5ea26b(0x595)]&&(_0x33565b=_0x31d868[_0x2cf334][_0x5ea26b(0x3fa)]['stanzaId']),_0x31d868[_0x5ea26b(0x69a)]&&(_0x34728e=_0x31d868['reactionMessage'][_0x5ea26b(0x502)]['id']);let _0x12a6b2;if(_0x3010de&&typeof _0x3010de=='object'&&_0x5ea26b(0x607)in _0x3010de&&({pollCreationMessageKey:_0x12a6b2}=_0x3010de),_0x2cf334===_0x5ea26b(0x387)||_0x2cf334==='pollCreationMessageV2'||_0x2cf334===_0x5ea26b(0x47e)){let _0x404d2f=_0x3010de['options'][_0x5ea26b(0x4e4)](_0x5f4014=>_0x5f4014[_0x5ea26b(0x7cb)])['join']('|');_0x2960ae[_0x5ea26b(0x4cd)]=_0x404d2f;}let _0x1431cf='';if(_0x3010de&&(_0x1431cf+=_0x3010de[_0x5ea26b(0x228)]?_0x3010de[_0x5ea26b(0x228)]:'',_0x1431cf+=_0x3010de['caption']?'\x20'+_0x3010de[_0x5ea26b(0x61b)]:'',_0x1431cf+=_0x3010de['conversation']?'\x20'+_0x3010de[_0x5ea26b(0x4cf)]:'',_0x1431cf+=_0x3010de[_0x5ea26b(0x2b1)]?'\x20'+_0x3010de[_0x5ea26b(0x2b1)]:''),_0x2cf334===_0x5ea26b(0x4d9)){_0x1431cf=(_0x3010de[_0x5ea26b(0x628)]||'')+'\x0a'+(_0x3010de[_0x5ea26b(0x459)]||'')+'\x0a'+(_0x3010de[_0x5ea26b(0x56d)]||'');let _0x3670f8=this[_0x5ea26b(0x5fb)](_0x3010de[_0x5ea26b(0x55c)]);_0x2960ae[_0x5ea26b(0x4cd)]=_0x3670f8;}if(_0x2cf334===_0x5ea26b(0x6d6)&&(_0x5d20ed=_0x3010de[_0x5ea26b(0x628)]),_0x3010de&&_0x3010de[_0x5ea26b(0x26b)]){let _0xf6e390=this[_0x5ea26b(0x1ce)](JSON[_0x5ea26b(0x74e)](_0x3010de['vcard'],null,0x2));_0x1431cf=_0x1431cf+'\x0a'+_0xf6e390;}if(_0x3010de){let {sections:_0x46492c,listType:_0x970bd5,displayName:_0x4cebde,vcard:_0x54e74d,contactVcard:_0x26b08e,name:_0x469897,caption:_0x46b990,conversation:_0x4ec0aa,pollCreationMessageKey:_0x1f2381,footerText:_0x139c7e,contentText:_0x849932,pageCount:_0x175426,headerType:_0x5ad72f,isAvatar:_0x1fb83d,isAnimated:_0x347195,fallbackLc:_0x3eccd8,fallbackLg:_0x3d1c89,namespace:_0x5c3869,elementName:_0x4bf10d,localizableParams:_0x351a67,viewOnce:_0x4927bb,height:_0x58516c,width:_0x21f141,key:_0x5e9a65,firstScanLength:_0x14a6da,firstScanSidecar:_0x1b0ea5,gifPlayback:_0x5e9681,gifAttribution:_0x3456ff,midQualityFileSha256:_0x4595e3,scansSidecar:_0x39a8ee,streamingSidecar:_0x1bbee6,thumbnailHeight:_0x3f24bc,thumbnailWidth:_0x465fde,thumbnailEncSha256:_0x303726,thumbnailDirectPath:_0x5c969a,canonicalUrl:_0x40af4d,matchedText:_0x59224b,previewType:_0xa86e4e,thumbnailSha256:_0x2cd180,deviceListMetadataVersion:_0x2653f3,inviteLinkGroupTypeV2:_0x4d870d,interactiveAnnotations:_0x219806,scanLengths:_0xe0e78d,jpegThumbnail:_0x162213,url:_0x1285c8,mediaKeyTimestamp:_0x12e0a5,waveform:_0xbcf96f,stickerSentTs:_0x5e21b8,firstFrameLength:_0x568d3c,fileEncSha256:_0xd81bf8,contextInfo:_0x5d1663,firstFrameSidecar:_0x12d495,directPath:_0x45a05c,fileSha256:_0x2f5632,mediaKey:_0x410119,senderTimestampMs:_0x50b7a9,..._0x38c908}=_0x3010de;(_0x2cf334===_0x5ea26b(0x4d9)||_0x2cf334===_0x5ea26b(0x6d6))&&(delete _0x38c908[_0x5ea26b(0x628)],delete _0x38c908[_0x5ea26b(0x459)]),typeof _0x3010de==_0x5ea26b(0x2e4)?_0x2960ae={'text':_0x3010de,'type':_0x2cf334||'conversation',..._0x1189f7&&{'edited':_0x1189f7},..._0x33565b&&{'quoted':_0x33565b},..._0x34728e&&{'reaction':_0x34728e}}:_0x2960ae={'text':_0x1431cf,..._0x38c908,..._0x2cf334===_0x5ea26b(0x5cc)?{'poll_id':_0x3010de['pollCreationMessageKey']['id'],'quoted':_0x3010de[_0x5ea26b(0x607)]['id'],'vote':_0x5d20ed}:{},..._0x2cf334===_0x5ea26b(0x6d6)?{'vote':_0x5d20ed}:{},'type':_0x2cf334,..._0x1189f7&&{'edited':_0x1189f7},..._0x33565b&&{'quoted':_0x33565b},..._0x34728e&&{'reaction':_0x34728e},...(_0x2cf334===_0x5ea26b(0x387)||_0x2cf334==='pollCreationMessageV2'||_0x2cf334===_0x5ea26b(0x47e)||_0x2cf334==='listMessage')&&{'convertedOptions':_0x2960ae['convertedOptions']}};}return{'messageType':_0x2cf334,'messageContent':_0x3010de,'message_normalized':_0x2960ae};}catch(_0x15dbb4){return console[_0x5ea26b(0x4e7)](_0x5ea26b(0x6d8),_0x15dbb4),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x1d1455(0x4e0)](),this['instance'][_0x1d1455(0x781)]={'count':0x0},this[_0x1d1455(0x468)][_0x1d1455(0x44d)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x131850(0x682)](_0x387b23){const _0x420649=a0_0x131850;if(!_0x387b23){this[_0x420649(0x468)][_0x420649(0x228)]=(0x0,Or['v4'])();return;}this[_0x420649(0x468)][_0x420649(0x228)]=_0x387b23,this['sendDataWebhook']('status.instance',{'instance':this[_0x420649(0x468)][_0x420649(0x228)],'status':_0x420649(0x34d)});}get['instanceName'](){const _0x3144a7=a0_0x131850;return this[_0x3144a7(0x468)][_0x3144a7(0x228)];}get[a0_0x131850(0x577)](){const _0x22d162=a0_0x131850;return this[_0x22d162(0x468)]['wuid'];}async['getProfileName'](){const _0x5eb94d=a0_0x131850;let _0x2188d4=this[_0x5eb94d(0x23d)][_0x5eb94d(0x494)]?.[_0x5eb94d(0x228)]??this['client']['user']?.[_0x5eb94d(0x2a8)];if(!_0x2188d4){if(this[_0x5eb94d(0x400)][_0x5eb94d(0x5b0)](_0x5eb94d(0x4ec))[_0x5eb94d(0x237)]){let _0x12d18b=await T[_0x5eb94d(0x2be)]()['db'](this[_0x5eb94d(0x400)][_0x5eb94d(0x5b0)](_0x5eb94d(0x4ec))['CONNECTION']['DB_PREFIX_NAME']+_0x5eb94d(0x1e8))[_0x5eb94d(0x312)](this['instanceName'])['findOne']({'_id':_0x5eb94d(0x798)});if(_0x12d18b){let _0x3a78b5=JSON[_0x5eb94d(0x298)](JSON[_0x5eb94d(0x74e)](_0x12d18b),f[_0x5eb94d(0x6b4)]['reviver']);_0x2188d4=_0x3a78b5['me']?.['name']||_0x3a78b5['me']?.[_0x5eb94d(0x2a8)];}}else{if((0x0,Te[_0x5eb94d(0x7a0)])((0x0,q['join'])(ge,this[_0x5eb94d(0x682)],_0x5eb94d(0x739)))){let _0x18a4fa=JSON[_0x5eb94d(0x298)]((0x0,Te[_0x5eb94d(0x183)])((0x0,q[_0x5eb94d(0x50c)])(ge,this['instanceName'],_0x5eb94d(0x739)),{'encoding':_0x5eb94d(0x516)}));_0x2188d4=_0x18a4fa['me']?.[_0x5eb94d(0x228)]||_0x18a4fa['me']?.[_0x5eb94d(0x2a8)];}}}return _0x2188d4;}get[a0_0x131850(0x7b5)](){const _0x2221b0=a0_0x131850;return this[_0x2221b0(0x468)][_0x2221b0(0x7b5)];}get[a0_0x131850(0x4fe)](){const _0x28358d=a0_0x131850;return this['instance']['qrcode']?.[_0x28358d(0x676)]?{'pairingCode':this['instance'][_0x28358d(0x781)]?.[_0x28358d(0x676)]}:{'code':this['instance'][_0x28358d(0x781)]?.[_0x28358d(0x19d)],'base64':this[_0x28358d(0x468)][_0x28358d(0x781)]?.['base64']};}async[a0_0x131850(0x271)](){const _0x13b06d=a0_0x131850;let _0x1f2344=await this['repository']['webhook'][_0x13b06d(0x518)](this['instanceName']);this['localWebhook'][_0x13b06d(0x431)]=_0x1f2344?.['url'],this[_0x13b06d(0x7e8)][_0x13b06d(0x45c)]=_0x1f2344?.[_0x13b06d(0x45c)],this['localWebhook'][_0x13b06d(0x225)]=_0x1f2344?.[_0x13b06d(0x225)],this['localWebhook']['STATUS_INSTANCE']=_0x1f2344?.[_0x13b06d(0x7b9)],this[_0x13b06d(0x7e8)][_0x13b06d(0x532)]=_0x1f2344?.[_0x13b06d(0x532)],this['localWebhook']['SEND_MESSAGE']=_0x1f2344?.[_0x13b06d(0x7f3)],this[_0x13b06d(0x7e8)][_0x13b06d(0x644)]=_0x1f2344?.[_0x13b06d(0x644)],this[_0x13b06d(0x7e8)]['MESSAGES_UPDATE']=_0x1f2344?.[_0x13b06d(0x179)],this[_0x13b06d(0x7e8)][_0x13b06d(0x600)]=_0x1f2344?.[_0x13b06d(0x600)],this[_0x13b06d(0x7e8)][_0x13b06d(0x610)]=_0x1f2344?.['GROUPS_UPDATE'],this['localWebhook']['GROUP_PARTICIPANTS_UPDATE']=_0x1f2344?.[_0x13b06d(0x186)],this['localWebhook'][_0x13b06d(0x792)]=_0x1f2344?.[_0x13b06d(0x792)],this[_0x13b06d(0x7e8)]['CHATS_UPSERT']=_0x1f2344?.['CHATS_UPSERT'],this['localWebhook'][_0x13b06d(0x557)]=_0x1f2344?.[_0x13b06d(0x557)],this[_0x13b06d(0x7e8)][_0x13b06d(0x7f8)]=_0x1f2344?.[_0x13b06d(0x7f8)],this['localWebhook'][_0x13b06d(0x3af)]=_0x1f2344?.[_0x13b06d(0x3af)],this[_0x13b06d(0x7e8)]['CONTACTS_UPSERT']=_0x1f2344?.[_0x13b06d(0x55e)],this[_0x13b06d(0x7e8)][_0x13b06d(0x661)]=_0x1f2344?.[_0x13b06d(0x661)],this[_0x13b06d(0x7e8)][_0x13b06d(0x793)]=_0x1f2344?.[_0x13b06d(0x793)],this[_0x13b06d(0x7e8)][_0x13b06d(0x50f)]=_0x1f2344?.['MESSAGES_SET'],this[_0x13b06d(0x7e8)][_0x13b06d(0x527)]=_0x1f2344?.[_0x13b06d(0x527)],this[_0x13b06d(0x7e8)][_0x13b06d(0x5d8)]=_0x1f2344?.['groups_ignore'];}async[a0_0x131850(0x55f)](_0x3594bb){const _0xd187bd=a0_0x131850;let _0x5c5949=[_0xd187bd(0x39d),_0xd187bd(0x431),_0xd187bd(0x45c),_0xd187bd(0x225),_0xd187bd(0x7b9),_0xd187bd(0x532),_0xd187bd(0x179),_0xd187bd(0x644),_0xd187bd(0x7f3),_0xd187bd(0x600),_0xd187bd(0x610),_0xd187bd(0x186),_0xd187bd(0x792),_0xd187bd(0x464),'CHATS_UPDATE',_0xd187bd(0x7f8),_0xd187bd(0x3af),_0xd187bd(0x55e),'CONTACTS_UPDATE',_0xd187bd(0x793),_0xd187bd(0x50f),_0xd187bd(0x527),'groups_ignore'],_0xe8d777={};return _0x5c5949[_0xd187bd(0x773)](_0x40047e=>{_0x3594bb[_0x40047e]!==void 0x0&&(_0xe8d777[_0x40047e]=_0x3594bb[_0x40047e]);}),_0xe8d777[_0xd187bd(0x431)]&&(_0xe8d777[_0xd187bd(0x431)]=_0xe8d777[_0xd187bd(0x431)]['trim']()),await this[_0xd187bd(0x5c7)]['webhook']['create'](_0xe8d777,this[_0xd187bd(0x682)]),Object[_0xd187bd(0x837)](this['localWebhook'],_0xe8d777),await this[_0xd187bd(0x5c7)][_0xd187bd(0x715)]['find'](this[_0xd187bd(0x682)]);}async[a0_0x131850(0x575)](){const _0x1c55ed=a0_0x131850;return await this[_0x1c55ed(0x5c7)]['webhook']['find'](this['instanceName']);}async['sendDataWebhook'](_0xadeb30,_0x57a654){const _0x2b33d9=a0_0x131850;let _0x18f934=_0xadeb30['replace'](/[\.-]/gm,'_')[_0x2b33d9(0x221)](),_0x3a2bfc=this[_0x2b33d9(0x7e8)][_0x2b33d9(0x45c)]&&(0x0,P[_0x2b33d9(0x28e)])(this[_0x2b33d9(0x7e8)]['url'])?this[_0x2b33d9(0x7e8)]['url']+(this[_0x2b33d9(0x7e8)][_0x2b33d9(0x225)]?this[_0x2b33d9(0x1df)][_0xadeb30]:''):null,_0x1ca0d6=this[_0x2b33d9(0x7e8)][_0x18f934],_0x527202=ce&&ce['enabled']&&(0x0,P[_0x2b33d9(0x28e)])(ce[_0x2b33d9(0x431)])?ce[_0x2b33d9(0x431)]+(ce[_0x2b33d9(0x225)]?this[_0x2b33d9(0x1df)][_0xadeb30]:''):null,_0x3ad859=ce?ce[_0x18f934]:null;if(_0x1ca0d6&&_0x3a2bfc)try{await Z[_0x2b33d9(0x1c2)][_0x2b33d9(0x5c3)]({'baseURL':_0x3a2bfc})[_0x2b33d9(0x5bc)]('',{'event':_0xadeb30,'instance':this[_0x2b33d9(0x468)][_0x2b33d9(0x228)],'apikey':this['instance'][_0x2b33d9(0x7e6)],'data':_0x57a654}),this[_0x2b33d9(0x2d2)][_0x2b33d9(0x70b)](this[_0x2b33d9(0x682)]+'\x20('+this[_0x2b33d9(0x468)][_0x2b33d9(0x577)]+_0x2b33d9(0x1c7)+_0xadeb30+':\x20'+_0x3a2bfc);}catch{this['logger']['error'](this[_0x2b33d9(0x682)]+'\x20('+this[_0x2b33d9(0x468)][_0x2b33d9(0x577)]+_0x2b33d9(0x6ca)+_0xadeb30+':\x20'+_0x3a2bfc);}if(_0x3ad859&&_0x527202)try{await Z[_0x2b33d9(0x1c2)][_0x2b33d9(0x5c3)]({'baseURL':_0x527202})[_0x2b33d9(0x5bc)]('',{'event':_0xadeb30,'instance':this[_0x2b33d9(0x468)][_0x2b33d9(0x228)],'apikey':this[_0x2b33d9(0x468)][_0x2b33d9(0x7e6)],'data':_0x57a654}),this[_0x2b33d9(0x2d2)]['log'](this[_0x2b33d9(0x682)]+'\x20('+this[_0x2b33d9(0x468)][_0x2b33d9(0x577)]+_0x2b33d9(0x46e)+_0xadeb30+':\x20'+_0x527202);}catch{this[_0x2b33d9(0x2d2)][_0x2b33d9(0x4e7)](this[_0x2b33d9(0x682)]+'\x20('+this[_0x2b33d9(0x468)][_0x2b33d9(0x577)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0xadeb30+':\x20'+_0x527202);}}async[a0_0x131850(0x82c)]({qr:_0x2890e5,connection:_0x318083,lastDisconnect:_0x11b113}){const _0x58958b=a0_0x131850;if(_0x2890e5){if(this[_0x58958b(0x468)][_0x58958b(0x781)]['count']===Ni)return this[_0x58958b(0x1b1)](_0x58958b(0x79e),{'message':'Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','statusCode':f['DisconnectReason'][_0x58958b(0x546)]}),this[_0x58958b(0x6b0)]={'state':_0x58958b(0x2c3),'statusReason':f[_0x58958b(0x761)][_0x58958b(0x5cf)]},this['sendDataWebhook']('connection.update',{'instance':this['instance']['name'],...this[_0x58958b(0x6b0)]}),this[_0x58958b(0x1b1)](_0x58958b(0x79f),{'instance':this[_0x58958b(0x468)][_0x58958b(0x228)],'status':_0x58958b(0x829)}),this[_0x58958b(0x5c7)][_0x58958b(0x398)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x58958b(0x447)]()},this['instance'][_0x58958b(0x228)]),this['endSession']=!0x0,this[_0x58958b(0x1b6)][_0x58958b(0x6e6)](_0x58958b(0x318),this['instance']['name']);this[_0x58958b(0x468)][_0x58958b(0x781)][_0x58958b(0x4d2)]++;let _0x207fa3={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':'#000000'}};Ar['default'][_0x58958b(0x6dc)](_0x2890e5,_0x207fa3,(_0x2e72db,_0x265ae7)=>{const _0x5ed76c=_0x58958b;if(_0x2e72db){this[_0x5ed76c(0x2d2)][_0x5ed76c(0x4e7)](this[_0x5ed76c(0x682)]+'\x20('+this[_0x5ed76c(0x468)][_0x5ed76c(0x577)]+_0x5ed76c(0x7c0)+(_0x2e72db instanceof Error?_0x2e72db[_0x5ed76c(0x66c)]:JSON[_0x5ed76c(0x74e)](_0x2e72db,null,0x2)));return;}this['instance'][_0x5ed76c(0x781)][_0x5ed76c(0x511)]=_0x265ae7,this[_0x5ed76c(0x468)][_0x5ed76c(0x781)][_0x5ed76c(0x19d)]=_0x2890e5,!this[_0x5ed76c(0x7b6)]&&this[_0x5ed76c(0x1b1)](_0x5ed76c(0x79e),{'qrcode':{'instance':this[_0x5ed76c(0x468)][_0x5ed76c(0x228)],'pairingCode':this[_0x5ed76c(0x468)][_0x5ed76c(0x781)][_0x5ed76c(0x676)],'code':_0x2890e5,'base64':_0x265ae7}});}),this[_0x58958b(0x7b6)]?this[_0x58958b(0x468)][_0x58958b(0x781)]['pairingCode']||(await(0x0,f['delay'])(0x7d0),this['instance']['qrcode'][_0x58958b(0x676)]=await this[_0x58958b(0x23d)][_0x58958b(0x303)](this[_0x58958b(0x7b6)])):this[_0x58958b(0x468)]['qrcode'][_0x58958b(0x676)]=null,Ir[_0x58958b(0x1c2)][_0x58958b(0x648)](_0x2890e5,{'small':!0x0},_0x2f6266=>this[_0x58958b(0x2d2)][_0x58958b(0x70b)](_0x58958b(0x3b8)+this['instance'][_0x58958b(0x228)]+',\x20qrcodeCount:\x20'+this[_0x58958b(0x468)][_0x58958b(0x781)]['count']+_0x58958b(0x458)+this[_0x58958b(0x468)][_0x58958b(0x781)][_0x58958b(0x676)]+_0x58958b(0x391)+_0x2f6266));}if(_0x318083&&(this['stateConnection']={'state':_0x318083,'statusReason':_0x11b113?.[_0x58958b(0x4e7)]?.[_0x58958b(0x711)]?.[_0x58958b(0x170)]??0xc8},this[_0x58958b(0x1b1)](_0x58958b(0x6d5),{'instance':this[_0x58958b(0x468)][_0x58958b(0x228)],...this[_0x58958b(0x6b0)]})),_0x318083===_0x58958b(0x274)){if(this[_0x58958b(0x83b)]++,this[_0x58958b(0x753)][_0x58958b(0x1b9)](Date[_0x58958b(0x447)]()),this['reconnectTimestamps']=this[_0x58958b(0x753)][_0x58958b(0x408)](_0x28bf83=>Date[_0x58958b(0x447)]()-_0x28bf83<this[_0x58958b(0x484)]),_0x11b113[_0x58958b(0x4e7)]?.[_0x58958b(0x711)]?.[_0x58958b(0x170)]!==f[_0x58958b(0x761)][_0x58958b(0x2a9)]&&this[_0x58958b(0x753)][_0x58958b(0x724)]<=this[_0x58958b(0x6a5)])console['log'](this[_0x58958b(0x682)]+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0x58958b(0x83b)]+'/'+this[_0x58958b(0x6a5)]+_0x58958b(0x5cb)),console[_0x58958b(0x70b)](_0x58958b(0x61f)),await this['connectToWhatsapp']();else{this[_0x58958b(0x1b1)](_0x58958b(0x79f),{'instance':this[_0x58958b(0x468)][_0x58958b(0x228)],'status':'removed'}),this[_0x58958b(0x468)][_0x58958b(0x44d)][_0x58958b(0x302)]=!0x1,this['repository'][_0x58958b(0x715)][_0x58958b(0x3b0)](this[_0x58958b(0x682)]),this[_0x58958b(0x5c7)][_0x58958b(0x398)][_0x58958b(0x5c3)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x58958b(0x447)]()},this[_0x58958b(0x468)][_0x58958b(0x228)]);try{this['logger']['verbose'](this[_0x58958b(0x682)]+'\x20('+this['instance']['wuid']+_0x58958b(0x3e3));let _0x1642d8=await this['repository'][_0x58958b(0x66c)][_0x58958b(0x1a9)](this[_0x58958b(0x468)][_0x58958b(0x577)]);_0x1642d8[_0x58958b(0x819)]?this['logger']['verbose'](this[_0x58958b(0x682)]+'\x20('+this[_0x58958b(0x468)][_0x58958b(0x577)]+_0x58958b(0x5a1)):console['error'](_0x58958b(0x20b),_0x1642d8[_0x58958b(0x4e7)]);}catch(_0x2309b5){console['error'](_0x58958b(0x1f3),_0x2309b5);}this[_0x58958b(0x468)][_0x58958b(0x44d)][_0x58958b(0x198)]!==null&&(this['logger'][_0x58958b(0x1ef)](this[_0x58958b(0x682)]+'\x20('+this[_0x58958b(0x468)][_0x58958b(0x577)]+_0x58958b(0x275)),clearInterval(this[_0x58958b(0x468)][_0x58958b(0x44d)]['delayMessage']),this[_0x58958b(0x468)][_0x58958b(0x44d)][_0x58958b(0x198)]=null),this['logger'][_0x58958b(0x1ef)](this[_0x58958b(0x682)]+'\x20('+this['instance'][_0x58958b(0x577)]+_0x58958b(0x732)),this[_0x58958b(0x56c)]=null,this[_0x58958b(0x1b6)]['emit']('remove.instance',this[_0x58958b(0x468)][_0x58958b(0x228)],_0x58958b(0x58d)),this[_0x58958b(0x23d)]?.['ws']?.[_0x58958b(0x274)](),this['client'][_0x58958b(0x33a)](new Error(_0x58958b(0x7d3)));}}if(_0x318083===_0x58958b(0x31d)){this[_0x58958b(0x23d)]['ev'][_0x58958b(0x4ca)](),this[_0x58958b(0x6b7)],this['instance'][_0x58958b(0x577)]=this[_0x58958b(0x23d)][_0x58958b(0x494)]['id'][_0x58958b(0x357)](/:\d+/,'')[_0x58958b(0x357)](_0x58958b(0x7fc),''),this[_0x58958b(0x468)][_0x58958b(0x7b5)]=(await this['profilePicture'](this[_0x58958b(0x468)]['wuid']+_0x58958b(0x7fc)))[_0x58958b(0x7b5)],this[_0x58958b(0x5c7)][_0x58958b(0x398)][_0x58958b(0x5c3)]({'online':!0x0,'owner':this['instance']['wuid'],'lastDisconnect':null},this['instance']['name']);let _0x43c294=_0x58958b(0x81c)+this[_0x58958b(0x468)][_0x58958b(0x577)],_0x2b3c7c=0x28,_0x478ef6=Math[_0x58958b(0x7ca)]((_0x2b3c7c-_0x43c294['length'])/0x2),_0x4d8ab0='\x20'['repeat'](_0x478ef6),_0x224bdc=_0x58958b(0x421),_0x496d21=_0x58958b(0x72d)+this[_0x58958b(0x468)][_0x58958b(0x228)],_0x4ac41a=(''+_0x4d8ab0+_0x43c294+_0x4d8ab0)[_0x58958b(0x1fc)](_0x2b3c7c,'\x20'),_0x12a436=(''+_0x4d8ab0+_0x224bdc+_0x4d8ab0)['padEnd'](_0x2b3c7c,'\x20'),_0x1d9c5a=(''+_0x4d8ab0+_0x496d21+_0x4d8ab0)['padEnd'](_0x2b3c7c,'\x20'),_0x32fa56=Math['max'](_0x4ac41a[_0x58958b(0x724)],_0x12a436['length'],_0x1d9c5a['length']),_0x2f8095=_0x4ac41a[_0x58958b(0x1fc)](_0x32fa56,'\x20'),_0xc6d476=_0x12a436[_0x58958b(0x1fc)](_0x32fa56,'\x20'),_0x1e2c5b=_0x1d9c5a[_0x58958b(0x1fc)](_0x32fa56,'\x20');this[_0x58958b(0x2d2)][_0x58958b(0x4f3)]((_0x58958b(0x746)+'─'[_0x58958b(0x59d)](_0x32fa56)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0xc6d476+_0x58958b(0x6ac)+_0x1e2c5b+_0x58958b(0x6ac)+_0x2f8095+_0x58958b(0x7b7)+'─'[_0x58958b(0x59d)](_0x32fa56)+'┘')[_0x58958b(0x357)](/^ +/gm,'\x20\x20')),this[_0x58958b(0x2b7)](),this[_0x58958b(0x468)]['ScheduleMessage'][_0x58958b(0x302)]=!0x0;}}[a0_0x131850(0x6b7)](){const _0x25ce34=a0_0x131850;this['reconnectAttempts']=0x0,this[_0x25ce34(0x753)]=[];}async['getMessage'](_0x3961f5,_0x28a3f1=!0x1){const _0x489451=a0_0x131850;try{let _0x5c2191=await this[_0x489451(0x5c7)]['message'][_0x489451(0x518)]({'where':{'_id':_0x3961f5['id']}},this[_0x489451(0x468)][_0x489451(0x577)]);return _0x28a3f1?_0x5c2191[0x0]:_0x5c2191[0x0][_0x489451(0x66c)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x1c102f=a0_0x131850;let _0x4a0139=this['configService'][_0x1c102f(0x5b0)]('STORE'),_0x1952c8=this[_0x1c102f(0x400)][_0x1c102f(0x5b0)](_0x1c102f(0x4ec));_0x4a0139?.[_0x1c102f(0x1fd)]&&!_0x1952c8[_0x1c102f(0x237)]&&setInterval(()=>{const _0x303f37=_0x1c102f;try{for(let [_0x445355,_0x58c0b0]of Object[_0x303f37(0x7a4)](_0x4a0139))_0x58c0b0===!0x0&&(0x0,Ft['execSync'])(_0x303f37(0x66d)+(0x0,q[_0x303f37(0x50c)])(this['storePath'],_0x445355['toLowerCase'](),this[_0x303f37(0x468)][_0x303f37(0x577)])+'/*.json');}catch{}},(_0x4a0139?.[_0x1c102f(0x1fd)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x520feb=a0_0x131850;let _0x504931=this[_0x520feb(0x400)]['get'](_0x520feb(0x4ec)),_0x5da1a0=this['configService'][_0x520feb(0x5b0)](_0x520feb(0x2cf));return _0x5da1a0?.[_0x520feb(0x237)]?await Rs(_0x5da1a0,this['instance'][_0x520feb(0x228)]):_0x504931[_0x520feb(0x237)]?await Ns(this['instance']['name']):await(0x0,f[_0x520feb(0x6af)])((0x0,q[_0x520feb(0x50c)])(ge,this['instance'][_0x520feb(0x228)]));}async['AutomateFunctions'](){const _0x138565=a0_0x131850;let _0x4f5c8f=()=>Math[_0x138565(0x7ca)](Math[_0x138565(0x18d)]()*0x2711)+0x7d0,_0x3ccaf9=async()=>{const _0x5e7b9e=_0x138565;if(!this['instance'][_0x5e7b9e(0x44d)]['isConnected']){this[_0x5e7b9e(0x2d2)][_0x5e7b9e(0x1ef)](_0x5e7b9e(0x414)),this[_0x5e7b9e(0x286)]=!0x1;return;}if(this[_0x5e7b9e(0x468)]['wuid']&&this[_0x5e7b9e(0x56c)]&&this[_0x5e7b9e(0x468)][_0x5e7b9e(0x44d)]['delayMessage']!==null&&this['instance'][_0x5e7b9e(0x44d)][_0x5e7b9e(0x198)]!==void 0x0){let _0x44d5e5=Math['round'](this[_0x5e7b9e(0x468)][_0x5e7b9e(0x44d)][_0x5e7b9e(0x198)]/0xea60);this[_0x5e7b9e(0x2d2)][_0x5e7b9e(0x1ef)](this[_0x5e7b9e(0x682)]+'\x20('+this[_0x5e7b9e(0x468)][_0x5e7b9e(0x577)]+'):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20'+_0x44d5e5+_0x5e7b9e(0x565)),this['isRunning']=!0x1;return;}else this[_0x5e7b9e(0x468)][_0x5e7b9e(0x577)]&&(this['logger'][_0x5e7b9e(0x1ef)](this[_0x5e7b9e(0x682)]+'\x20('+this['instance']['wuid']+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x5e7b9e(0x56c)]||(await this['getAutomateSystem'](),this[_0x5e7b9e(0x351)]()),(this[_0x5e7b9e(0x468)][_0x5e7b9e(0x44d)][_0x5e7b9e(0x198)]===null||this[_0x5e7b9e(0x468)]['ScheduleMessage'][_0x5e7b9e(0x198)]===void 0x0)&&await this['scheduleNextCheck']());if(this[_0x5e7b9e(0x286)]){let _0x359811=_0x4f5c8f();this[_0x5e7b9e(0x2d2)][_0x5e7b9e(0x1ef)](this[_0x5e7b9e(0x682)]+_0x5e7b9e(0x47a)+_0x359811/0x3e8+_0x5e7b9e(0x2ec)),setTimeout(_0x3ccaf9,_0x359811);}};if(this['isRunning'])return;this[_0x138565(0x286)]=!0x0;let _0x25be42=_0x4f5c8f();setTimeout(_0x3ccaf9,_0x25be42);}async[a0_0x131850(0x194)](_0x111ca5=0x0,_0xaff94f=!0x1){const _0x21da9c=a0_0x131850;try{let _0x4e826a=this['configService'][_0x21da9c(0x5b0)](_0x21da9c(0x6c8));if(_0x4e826a!==0x1||typeof _0x4e826a>'u'||_0x111ca5>=0x5)return this[_0x21da9c(0x2d2)][_0x21da9c(0x2c4)](_0x21da9c(0x35f)),this[_0x21da9c(0x5c7)]['auth'][_0x21da9c(0x5c3)]({'ip':null},this[_0x21da9c(0x468)][_0x21da9c(0x228)]),{};this[_0x21da9c(0x2d2)][_0x21da9c(0x1ef)](this['instanceName']+_0x21da9c(0x3ca)+(_0x111ca5+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0x1fddb3;if(!_0xaff94f){let _0x4ec832=await this[_0x21da9c(0x5c7)][_0x21da9c(0x398)]['find'](this['instanceName']);_0x4ec832&&_0x4ec832['ip']&&(_0x1fddb3=Mr(_0x4ec832['ip']));}if((!_0x1fddb3||!Ts(_0x1fddb3))&&(this[_0x21da9c(0x2d2)][_0x21da9c(0x2c4)](this[_0x21da9c(0x682)]+_0x21da9c(0x5ec)),_0x1fddb3=vr()),_0x1fddb3&&Ts(_0x1fddb3)){let _0x47a52a=_0x1fddb3[_0x21da9c(0x61c)]&&_0x1fddb3[_0x21da9c(0x331)]?_0x1fddb3[_0x21da9c(0x60c)]+_0x21da9c(0x65f)+_0x1fddb3['username']+':'+_0x1fddb3[_0x21da9c(0x331)]+'@'+_0x1fddb3[_0x21da9c(0x759)]+':'+_0x1fddb3[_0x21da9c(0x335)]:_0x1fddb3['protocol']+'://'+_0x1fddb3['host']+':'+_0x1fddb3[_0x21da9c(0x335)];return await this[_0x21da9c(0x1d2)](_0x47a52a,_0x1fddb3[_0x21da9c(0x759)])?(this[_0x21da9c(0x2d2)]['verbose'](this[_0x21da9c(0x682)]+_0x21da9c(0x24f)),this[_0x21da9c(0x5c7)]['auth'][_0x21da9c(0x5c3)]({'ip':_0x1fddb3[_0x21da9c(0x759)]},this['instance'][_0x21da9c(0x228)]),{'agent':new jt[(_0x21da9c(0x53c))](_0x47a52a),'fetchAgent':new jt[(_0x21da9c(0x53c))](_0x47a52a)}):(this[_0x21da9c(0x2d2)][_0x21da9c(0x2c4)](this[_0x21da9c(0x682)]+':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...'),await(0x0,f[_0x21da9c(0x713)])(0xc8),this[_0x21da9c(0x194)](_0x111ca5+0x1,!0x0));}else return this[_0x21da9c(0x2d2)][_0x21da9c(0x2c4)](this[_0x21da9c(0x682)]+':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...'),await(0x0,f[_0x21da9c(0x713)])(0xc8),this[_0x21da9c(0x194)](_0x111ca5+0x1,!0x0);}catch(_0x54d1b4){return this[_0x21da9c(0x2d2)][_0x21da9c(0x4e7)](this[_0x21da9c(0x682)]+_0x21da9c(0x7ce)+_0x54d1b4[_0x21da9c(0x66c)]),{};}}async['testProxy'](_0x489a75,_0x42377d){const _0x2ff3f4=a0_0x131850;let _0x2db5f0=new jt['HttpsProxyAgent'](_0x489a75),_0x4b0dbb=0x1388,_0x3c2ea7=[{'url':_0x2ff3f4(0x260),'parse':_0x1d5118=>_0x1d5118['ip']},{'url':'https://api.ipify.org?format=json','parse':_0x2ec0f9=>_0x2ec0f9['ip']},{'url':'http://checkip.dyndns.org','parse':_0xcf8204=>_0xcf8204[_0x2ff3f4(0x796)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x2ff3f4(0x3ab),'parse':_0x2d2032=>_0x2d2032['ip']},{'url':_0x2ff3f4(0x5aa),'parse':_0x5b027f=>_0x5b027f[_0x2ff3f4(0x32a)]()},{'url':_0x2ff3f4(0x2ae),'parse':_0x2c1308=>_0x2c1308[_0x2ff3f4(0x32a)]()},{'url':_0x2ff3f4(0x371),'parse':_0x55bb1e=>_0x55bb1e[_0x2ff3f4(0x663)]},{'url':'http://myexternalip.com/raw','parse':_0x4937d3=>_0x4937d3[_0x2ff3f4(0x32a)]()},{'url':_0x2ff3f4(0x69e),'parse':_0x6e8731=>_0x6e8731[_0x2ff3f4(0x32a)]()}],_0x2c87b0=_0x3c2ea7[Math[_0x2ff3f4(0x7ca)](Math['random']()*_0x3c2ea7['length'])];try{let _0x2c7e88=await Z[_0x2ff3f4(0x1c2)]['get'](_0x2c87b0[_0x2ff3f4(0x431)],{'httpsAgent':_0x2db5f0,'timeout':_0x4b0dbb}),_0x21752e=_0x2c87b0[_0x2ff3f4(0x298)](_0x2c7e88[_0x2ff3f4(0x5d0)]);return _0x21752e===_0x42377d?(this[_0x2ff3f4(0x2d2)][_0x2ff3f4(0x1ef)](this['instanceName']+':\x20IP\x20configurado:\x20'+_0x42377d+_0x2ff3f4(0x24c)+_0x21752e+_0x2ff3f4(0x353)),!0x0):(this[_0x2ff3f4(0x2d2)][_0x2ff3f4(0x4e7)](this['instanceName']+':\x20IP\x20configurado:\x20'+_0x42377d+_0x2ff3f4(0x24c)+_0x21752e+_0x2ff3f4(0x6c1)),!0x1);}catch(_0x572815){return this[_0x2ff3f4(0x2d2)][_0x2ff3f4(0x4e7)](this[_0x2ff3f4(0x682)]+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x2c87b0[_0x2ff3f4(0x431)]+':\x20'+_0x572815['message']),!0x1;}}async[a0_0x131850(0x1af)](_0x180221){const _0x50a6a9=a0_0x131850;try{let _0x570e7c=await this[_0x50a6a9(0x194)]();this['loadWebhook'](),this[_0x50a6a9(0x468)][_0x50a6a9(0x7e6)]=(await this[_0x50a6a9(0x5c7)][_0x50a6a9(0x398)][_0x50a6a9(0x518)](this[_0x50a6a9(0x468)][_0x50a6a9(0x228)]))[_0x50a6a9(0x7e6)],this[_0x50a6a9(0x468)][_0x50a6a9(0x7a8)]=await this[_0x50a6a9(0x291)]();let {version:_0x5ad078}=await(0x0,f[_0x50a6a9(0x4aa)])(),_0x18e122=[xr,Ds,(0x0,Os[_0x50a6a9(0x4dd)])()],_0x150af6={..._0x570e7c,'auth':{'creds':this[_0x50a6a9(0x468)][_0x50a6a9(0x7a8)][_0x50a6a9(0x6eb)]['creds'],'keys':(0x0,f[_0x50a6a9(0x501)])(this[_0x50a6a9(0x468)][_0x50a6a9(0x7a8)]['state']['keys'],(0x0,$t[_0x50a6a9(0x1c2)])({'level':_0x50a6a9(0x4e7)}))},'logger':(0x0,$t[_0x50a6a9(0x1c2)])({'level':_0x50a6a9(0x4e7)}),'printQRInTerminal':!0x1,'browser':_0x180221?['Mac\x20OS',Ds,(0x0,Os[_0x50a6a9(0x4dd)])()]:_0x18e122,'version':_0x5ad078,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x191d32=>{const _0xbb331b=_0x50a6a9;let _0x281af1=_0x191d32[_0xbb331b(0x4c3)](_0xbb331b(0x775)),_0x2a902c=this[_0xbb331b(0x7e8)]?.[_0xbb331b(0x5d8)]&&_0x191d32[_0xbb331b(0x4c3)](_0xbb331b(0x196));return _0x281af1||(0x0,f[_0xbb331b(0x476)])(_0x191d32)||_0x2a902c;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x1c8acd=>await this[_0x50a6a9(0x80e)](_0x1c8acd),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x50a6a9(0x377)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0xd0de4d=>(_0xd0de4d[_0x50a6a9(0x4d9)]?.[_0x50a6a9(0x78a)]==f['proto'][_0x50a6a9(0x1a3)][_0x50a6a9(0x24b)]['ListType']['PRODUCT_LIST']&&(_0xd0de4d=JSON['parse'](JSON['stringify'](_0xd0de4d)),_0xd0de4d[_0x50a6a9(0x4d9)][_0x50a6a9(0x78a)]=f[_0x50a6a9(0x438)]['Message'][_0x50a6a9(0x24b)][_0x50a6a9(0x169)][_0x50a6a9(0x5a4)]),_0xd0de4d)};return this['endSession']=!0x1,this[_0x50a6a9(0x23d)]=(0x0,f[_0x50a6a9(0x1c2)])(_0x150af6),this[_0x50a6a9(0x810)](),this['phoneNumber']=_0x180221,this[_0x50a6a9(0x23d)];}catch(_0x327d61){throw this['logger'][_0x50a6a9(0x4e7)](this[_0x50a6a9(0x682)]+'\x20('+this[_0x50a6a9(0x468)][_0x50a6a9(0x577)]+'):\x20'+(_0x327d61 instanceof Error?_0x327d61[_0x50a6a9(0x66c)]:JSON['stringify'](_0x327d61,null,0x2))),new I(_0x327d61?.['toString']());}}[a0_0x131850(0x810)](){const _0x931f82=a0_0x131850;this[_0x931f82(0x23d)]['ev'][_0x931f82(0x6b1)](_0x2b870b=>{const _0xd87589=_0x931f82;if(!this[_0xd87589(0x723)]){let _0x2bea6c=this['configService'][_0xd87589(0x5b0)](_0xd87589(0x4ec));if(_0x2b870b['labels.edit']){let _0x102a3a=_0x2b870b[_0xd87589(0x309)];this[_0xd87589(0x7b8)][_0xd87589(0x309)](_0x102a3a);}if(_0x2b870b[_0xd87589(0x61d)]){let _0x185c81=_0x2b870b['labels.association'];this[_0xd87589(0x7b8)][_0xd87589(0x61d)](_0x185c81);}if(_0x2b870b[_0xd87589(0x6d5)]&&this[_0xd87589(0x82c)](_0x2b870b[_0xd87589(0x6d5)]),_0x2b870b[_0xd87589(0x208)]&&this[_0xd87589(0x468)][_0xd87589(0x7a8)][_0xd87589(0x34b)](),_0x2b870b['messaging-history.set']){let _0x514017=_0x2b870b[_0xd87589(0x20d)];this[_0xd87589(0x7b8)][_0xd87589(0x20d)](_0x514017,_0x2bea6c);}if(_0x2b870b[_0xd87589(0x64d)]){let _0x50446a=_0x2b870b[_0xd87589(0x64d)];this[_0xd87589(0x7b8)][_0xd87589(0x64d)](_0x50446a,_0x2bea6c);}if(_0x2b870b[_0xd87589(0x7db)]){let _0x50e541=_0x2b870b['messages.update'];_0x50e541[_0xd87589(0x773)](_0x3d2e02=>{const _0x51babb=_0xd87589;if(Rr[_0x3d2e02[_0x51babb(0x502)]['id']]){this[_0x51babb(0x23d)]['ev'][_0x51babb(0x6e6)]('messages.upsert',{'messages':[_0x3d2e02],'type':_0x51babb(0x51e)}),delete Rr[_0x3d2e02[_0x51babb(0x502)]['id']];return;}}),this['messageHandle'][_0xd87589(0x7db)](_0x50e541,_0x2bea6c);}if(_0x2b870b[_0xd87589(0x57e)]){let _0x99ebce=_0x2b870b[_0xd87589(0x57e)];if(this['localWebhook']?.[_0xd87589(0x5d8)]&&_0x99ebce['id'][_0xd87589(0x2c5)](_0xd87589(0x196)))return;this['sendDataWebhook'](_0xd87589(0x57e),_0x99ebce);}if(!this[_0xd87589(0x7e8)]?.[_0xd87589(0x5d8)]){if(_0x2b870b[_0xd87589(0x3a8)]){let _0xd648e7=_0x2b870b['groups.upsert'];this[_0xd87589(0x4ea)][_0xd87589(0x3a8)](_0xd648e7);}if(_0x2b870b[_0xd87589(0x30a)]){let _0x15be0f=_0x2b870b[_0xd87589(0x30a)];this[_0xd87589(0x4ea)][_0xd87589(0x30a)](_0x15be0f);}if(_0x2b870b[_0xd87589(0x356)]){let _0x580b7e=_0x2b870b[_0xd87589(0x356)];this[_0xd87589(0x4ea)][_0xd87589(0x356)](_0x580b7e);}}if(_0x2b870b[_0xd87589(0x5c0)]){let _0x567876=_0x2b870b['chats.upsert'];this['chatHandle'][_0xd87589(0x5c0)](_0x567876,_0x2bea6c);}if(_0x2b870b[_0xd87589(0x269)]){let _0x7585de=_0x2b870b[_0xd87589(0x269)];this[_0xd87589(0x760)][_0xd87589(0x269)](_0x7585de,_0x2bea6c);}if(_0x2b870b[_0xd87589(0x6ef)]){let _0x35e24d=_0x2b870b['chats.delete'];this['chatHandle']['chats.delete'](_0x35e24d);}if(_0x2b870b['contacts.upsert']){let _0x1984d6=_0x2b870b['contacts.upsert'];this[_0xd87589(0x211)][_0xd87589(0x40c)](_0x1984d6,_0x2bea6c);}if(_0x2b870b[_0xd87589(0x1e5)]){let _0x577bf7=_0x2b870b[_0xd87589(0x1e5)];this['contactHandle'][_0xd87589(0x1e5)](_0x577bf7,_0x2bea6c);}}});}[a0_0x131850(0x4fb)](_0x5809d6){return new Promise(_0x4bf72d=>setTimeout(_0x4bf72d,_0x5809d6));}['formatBRNumber'](_0x46761e){const _0x47138b=a0_0x131850;_0x46761e=_0x46761e[_0x47138b(0x357)](/\D/g,'');let _0x2297ec=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x47138b(0x51c)](_0x46761e);if(_0x2297ec&&_0x2297ec[0x1]==='55'){let _0x162360=_0x2297ec[0x2],_0x44cf2d=_0x2297ec[0x3],_0x7274c2=_0x2297ec[0x4];if(parseInt(_0x162360)>=0x1f&&_0x44cf2d==='9')return _0x2297ec[0x1]+_0x162360+_0x7274c2;}return _0x46761e;}['createJid'](_0x5f3fe5){const _0x48426f=a0_0x131850;return _0x5f3fe5['includes']('@g.us')||_0x5f3fe5[_0x48426f(0x2c5)](_0x48426f(0x7fc))||_0x5f3fe5[_0x48426f(0x2c5)](_0x48426f(0x5f0))?_0x5f3fe5:(_0x5f3fe5=_0x5f3fe5?.['replace'](/\s/g,'')[_0x48426f(0x357)](/\+/g,'')['replace'](/\(/g,'')['replace'](/\)/g,'')['split'](/\:/)[0x0][_0x48426f(0x5a5)]('@')[0x0],_0x5f3fe5[_0x48426f(0x724)]>=0x12?(_0x5f3fe5=_0x5f3fe5[_0x48426f(0x357)](/[^\d-]/g,''),_0x5f3fe5+'@g.us'):(_0x5f3fe5=_0x5f3fe5[_0x48426f(0x357)](/\D/g,''),this[_0x48426f(0x4de)](_0x5f3fe5)+_0x48426f(0x7fc)));}async[a0_0x131850(0x62b)](_0x6df359){const _0x5f2b7e=a0_0x131850;let _0x2123a3=this[_0x5f2b7e(0x593)](_0x6df359['number']),_0x115234=(await this['whatsappNumber']({'numbers':[_0x2123a3]}))[0x0];if(!_0x115234[_0x5f2b7e(0x3f4)]&&!(0x0,f[_0x5f2b7e(0x195)])(_0x115234[_0x5f2b7e(0x178)]))throw new w(_0x115234);let _0x1c8c61=(0x0,f[_0x5f2b7e(0x195)])(_0x2123a3)?_0x2123a3:_0x115234['jid'];if((0x0,f[_0x5f2b7e(0x195)])(_0x1c8c61))try{await this[_0x5f2b7e(0x23d)][_0x5f2b7e(0x720)](_0x1c8c61);}catch{throw new j(_0x5f2b7e(0x1b7));}try{return await this['client']['presenceSubscribe'](_0x1c8c61),await this[_0x5f2b7e(0x23d)][_0x5f2b7e(0x278)](_0x6df359[_0x5f2b7e(0x4be)],_0x2123a3),{'status':0xc8,'presence':_0x6df359['presence']};}catch(_0x4f9d92){throw new w(_0x4f9d92['toString']());}}async[a0_0x131850(0x32d)](_0x1714ee,_0x508581,_0x564bbc){const _0x25161b=a0_0x131850;let _0x3bd160=await this[_0x25161b(0x5c7)][_0x25161b(0x794)][_0x25161b(0x5d6)]({'where':{'_id':_0x1714ee}}),_0x4567bb={'lastUpdate':Date[_0x25161b(0x447)]()};if(_0x564bbc||!_0x3bd160?.[_0x25161b(0x4b4)]||Date['now']()-_0x3bd160['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x34dd72=(await this[_0x25161b(0x440)](_0x1714ee))[_0x25161b(0x7b5)];_0x4567bb['pictureUrl']=_0x34dd72;}catch(_0x2eefe8){console[_0x25161b(0x4e7)]('Failed\x20to\x20update\x20contact\x20profile\x20picture',_0x2eefe8);}return _0x508581&&_0x3bd160?.[_0x25161b(0x228)]!==_0x508581&&(_0x4567bb[_0x25161b(0x228)]=_0x508581),Object[_0x25161b(0x7ad)](_0x4567bb)[_0x25161b(0x724)]>0x1&&(_0x3bd160?await this[_0x25161b(0x5c7)][_0x25161b(0x794)][_0x25161b(0x67c)]({'where':{'_id':_0x1714ee}},_0x4567bb):await this[_0x25161b(0x5c7)]['cacheContact']['insert']([{'_id':_0x1714ee,..._0x4567bb}]),_0x3bd160={..._0x3bd160,..._0x4567bb}),{'cachedContact':_0x3bd160};}async['profilePicture'](_0xad9fb1){const _0x13a326=a0_0x131850;let _0x3024b6=this['createJid'](_0xad9fb1);try{return{'wuid':_0x3024b6,'profilePictureUrl':await this['client'][_0x13a326(0x7b5)](_0x3024b6,'image')};}catch{return{'wuid':_0x3024b6,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x5eba9d,_0x5ad600,_0x45fdc7){const _0x39d773=a0_0x131850;_0x45fdc7||(_0x45fdc7={});let _0x1962e8=(await this['whatsappNumber']({'numbers':[_0x5eba9d]}))[0x0];if(!_0x1962e8[_0x39d773(0x3f4)]&&!(0x0,f[_0x39d773(0x195)])(_0x1962e8[_0x39d773(0x178)])&&!_0x1962e8[_0x39d773(0x178)][_0x39d773(0x2c5)](_0x39d773(0x5f0)))throw new w(_0x1962e8);let _0x3e97e6=_0x1962e8[_0x39d773(0x178)];try{if(_0x45fdc7?.['delay']){await this[_0x39d773(0x23d)][_0x39d773(0x4e8)](_0x3e97e6),await this[_0x39d773(0x23d)][_0x39d773(0x278)](_0x45fdc7?.[_0x39d773(0x4be)]??_0x39d773(0x38e),_0x3e97e6);let _0x156d2d=Math[_0x39d773(0x47c)](_0x45fdc7[_0x39d773(0x713)],0x2710);await(0x0,f[_0x39d773(0x713)])(_0x156d2d),await this['client'][_0x39d773(0x278)]('paused',_0x3e97e6);}let _0x30a7b7=_0x45fdc7?.[_0x39d773(0x29e)]!=!0x1?void 0x0:!0x1,_0x2b4e50;if(_0x45fdc7?.[_0x39d773(0x6dd)]){let _0x2e9b80=_0x45fdc7?.[_0x39d773(0x6dd)],_0x59debd=_0x2e9b80?.[_0x39d773(0x66c)]?_0x2e9b80:await this[_0x39d773(0x80e)](_0x2e9b80[_0x39d773(0x502)],!0x0);if(!_0x59debd)throw _0x39d773(0x50d);_0x2b4e50=_0x59debd;}let _0xf326bd;if((0x0,f[_0x39d773(0x195)])(_0x3e97e6))try{let _0x3614d0=await this[_0x39d773(0x23d)][_0x39d773(0x720)](_0x3e97e6);if(!_0x3614d0)throw new j(_0x39d773(0x1b7));_0x45fdc7?.[_0x39d773(0x4ff)]&&(_0x45fdc7[_0x39d773(0x4ff)]?.['everyOne']?_0xf326bd=_0x3614d0[_0x39d773(0x248)][_0x39d773(0x4e4)](_0x54d829=>_0x54d829['id']):_0x45fdc7[_0x39d773(0x4ff)]?.[_0x39d773(0x809)]?.[_0x39d773(0x724)]&&(_0xf326bd=_0x45fdc7[_0x39d773(0x4ff)][_0x39d773(0x809)]['map'](_0x55bd71=>{const _0x1ba093=_0x39d773;let _0xeb7d81=this[_0x1ba093(0x593)](_0x55bd71);return(0x0,f[_0x1ba093(0x195)])(_0xeb7d81)?null:_0xeb7d81;})));}catch{throw new j('Group\x20not\x20found');}let _0x3cc0c8=await((async()=>{const _0x2ef390=_0x39d773;let _0x3e15f6={'quoted':_0x2b4e50};if(!_0x5ad600[_0x2ef390(0x520)]&&!_0x5ad600[_0x2ef390(0x41f)]&&!_0x5ad600[_0x2ef390(0x7c1)]&&!_0x5ad600[_0x2ef390(0x4cf)]&&_0x3e97e6!=='status@broadcast'&&!_0x5ad600[_0x2ef390(0x520)])return await this[_0x2ef390(0x23d)][_0x2ef390(0x2a1)](_0x3e97e6,{'forward':{'key':{'remoteJid':this[_0x2ef390(0x468)][_0x2ef390(0x577)],'fromMe':!0x0},'message':_0x5ad600},'mentions':_0xf326bd},_0x3e15f6);if(_0x5ad600[_0x2ef390(0x69a)])return await this[_0x2ef390(0x23d)][_0x2ef390(0x2a1)](_0x3e97e6,{'react':{'text':_0x5ad600['reactionMessage']['text'],'key':_0x5ad600[_0x2ef390(0x69a)]['key']}},_0x3e15f6);if(_0x5ad600[_0x2ef390(0x4cf)]){let _0x241f21=_0x5ad600[_0x2ef390(0x4cf)];return _0x45fdc7?.['changeVariables']&&(_0x241f21=await this[_0x2ef390(0x749)](_0x241f21,_0x3e97e6)),await this[_0x2ef390(0x23d)][_0x2ef390(0x2a1)](_0x3e97e6,{'text':_0x241f21,'mentions':_0xf326bd,'linkPreview':_0x30a7b7},_0x3e15f6);}return _0x3e97e6===_0x2ef390(0x4c2)?await this[_0x2ef390(0x23d)]['sendMessage'](_0x3e97e6,_0x5ad600[_0x2ef390(0x42e)][_0x2ef390(0x6f7)],{'backgroundColor':_0x5ad600[_0x2ef390(0x42e)]['option'][_0x2ef390(0x843)],'font':_0x5ad600[_0x2ef390(0x42e)]['option'][_0x2ef390(0x6ce)],'statusJidList':_0x5ad600[_0x2ef390(0x42e)][_0x2ef390(0x60e)][_0x2ef390(0x5af)]}):await this[_0x2ef390(0x23d)][_0x2ef390(0x2a1)](_0x3e97e6,_0x5ad600,_0x3e15f6);})()),_0x37ebcf=(0x0,f['normalizeMessageContent'])(_0x3cc0c8[_0x39d773(0x66c)]),_0x5438d4=(0x0,f['getContentType'])(_0x37ebcf),{message_normalized:_0xa921b5}=this['normalizeMessage'](_0x37ebcf,_0x5438d4,null),_0x1053f7={'_id':_0x3cc0c8[_0x39d773(0x502)]['id'],'key':_0x3cc0c8[_0x39d773(0x502)],'pushName':_0x3cc0c8[_0x39d773(0x4a2)],'isGroup':_0x3cc0c8[_0x39d773(0x502)]['remoteJid'][_0x39d773(0x4c3)](_0x39d773(0x196)),'profilePictureUrl':this['instance'][_0x39d773(0x7b5)],'message':_0x37ebcf,'messageType':_0x5438d4,'message_normalized':{'key':_0x3cc0c8['key'],'pushName':_0x3cc0c8['pushName'],'messageTimestamp':_0x3cc0c8['messageTimestamp']&&_0x3cc0c8[_0x39d773(0x2fe)]['toString']()[_0x39d773(0x724)]<0xd?_0x3cc0c8['messageTimestamp']*0x3e8:_0x3cc0c8[_0x39d773(0x2fe)]||null,'source':(0x0,f[_0x39d773(0x4e2)])(_0x3cc0c8['key']['id']),..._0xa921b5},'messageTimestamp':_0x3cc0c8[_0x39d773(0x2fe)]&&_0x3cc0c8[_0x39d773(0x2fe)][_0x39d773(0x6a2)]()[_0x39d773(0x724)]<0xd?_0x3cc0c8['messageTimestamp']*0x3e8:_0x3cc0c8[_0x39d773(0x2fe)]||null,'owner':this[_0x39d773(0x468)][_0x39d773(0x577)],'source':(0x0,f[_0x39d773(0x4e2)])(_0x3cc0c8[_0x39d773(0x502)]['id'])};return this[_0x39d773(0x2d2)][_0x39d773(0x2c4)](this[_0x39d773(0x682)]+'\x20('+this['instance']['wuid']+_0x39d773(0x4ad)+_0x1053f7[_0x39d773(0x502)]?.[_0x39d773(0x778)][_0x39d773(0x357)](_0x39d773(0x7fc),'')+_0x39d773(0x57f)+_0x1053f7[_0x39d773(0x660)]+')'),_0x1053f7[_0x39d773(0x727)]?.['text']&&this['logger'][_0x39d773(0x2c4)](_0x1053f7[_0x39d773(0x727)]?.[_0x39d773(0x373)]),this[_0x39d773(0x1b1)](_0x39d773(0x6c2),_0x1053f7),F(this[_0x39d773(0x682)],'messages',{'message':_0x1053f7}),this[_0x39d773(0x695)](this[_0x39d773(0x400)][_0x39d773(0x5b0)](_0x39d773(0x4ec)),_0x1053f7,_0x39d773(0x7f3)),await this[_0x39d773(0x5c7)][_0x39d773(0x66c)]['insert']([_0x1053f7],this[_0x39d773(0x468)]['wuid']),_0x3cc0c8;}catch(_0x59eea3){throw this[_0x39d773(0x2d2)][_0x39d773(0x4e7)](this[_0x39d773(0x682)]+'\x20('+this['instance'][_0x39d773(0x577)]+_0x39d773(0x442)+_0x59eea3['toString']()),new w(_0x59eea3[_0x39d773(0x6a2)]());}}get[a0_0x131850(0x1cb)](){const _0x5e73ee=a0_0x131850;return this[_0x5e73ee(0x6b0)];}async[a0_0x131850(0x73c)](_0x412d8){const _0x59fffd=a0_0x131850;let _0x541bd6=Nr,_0x449f06=et;return _0x449f06&&this['instanceName'][_0x59fffd(0x611)]()['includes'](_0x449f06['toLowerCase']())&&(_0x412d8['textMessage'][_0x59fffd(0x373)]+='\x0a\x0a'+_0x541bd6),await this['sendMessageWithTyping'](_0x412d8['number'],{'conversation':_0x412d8[_0x59fffd(0x73c)]['text']},_0x412d8?.['options']);}async['formatStatusMessage'](_0xbe90bc){const _0x5eadc2=a0_0x131850;if(!_0xbe90bc[_0x5eadc2(0x65a)])throw new w(_0x5eadc2(0x1b8));if(!_0xbe90bc[_0x5eadc2(0x6f7)])throw new w(_0x5eadc2(0x83f));if(_0xbe90bc[_0x5eadc2(0x33c)]){let _0x45b778=await this[_0x5eadc2(0x5c7)][_0x5eadc2(0x51d)][_0x5eadc2(0x518)]({'where':{}},this[_0x5eadc2(0x468)]['wuid']);if(!_0x45b778['length'])throw new w(_0x5eadc2(0x3db));_0xbe90bc[_0x5eadc2(0x5af)]=_0x45b778[_0x5eadc2(0x408)](_0x3e1bb3=>_0x3e1bb3[_0x5eadc2(0x4a2)])['map'](_0x2f5d89=>_0x2f5d89['_id']);}if(!_0xbe90bc[_0x5eadc2(0x5af)]?.['length']&&!_0xbe90bc[_0x5eadc2(0x33c)])throw new w(_0x5eadc2(0x1a2));if(_0xbe90bc[_0x5eadc2(0x65a)]==='text'){if(!_0xbe90bc[_0x5eadc2(0x843)])throw new w(_0x5eadc2(0x7d8));if(!_0xbe90bc['font'])throw new w('Font\x20is\x20required');return{'content':{'text':_0xbe90bc[_0x5eadc2(0x6f7)]},'option':{'backgroundColor':_0xbe90bc['backgroundColor'],'font':_0xbe90bc[_0x5eadc2(0x6ce)],'statusJidList':_0xbe90bc[_0x5eadc2(0x5af)]}};}if(_0xbe90bc[_0x5eadc2(0x65a)]===_0x5eadc2(0x630))return{'content':{'image':{'url':_0xbe90bc['content']},'caption':_0xbe90bc[_0x5eadc2(0x61b)]},'option':{'statusJidList':_0xbe90bc[_0x5eadc2(0x5af)]}};if(_0xbe90bc[_0x5eadc2(0x65a)]===_0x5eadc2(0x181))return{'content':{'video':{'url':_0xbe90bc[_0x5eadc2(0x6f7)]},'caption':_0xbe90bc['caption']},'option':{'statusJidList':_0xbe90bc[_0x5eadc2(0x5af)]}};if(_0xbe90bc['type']==='audio'){this[_0x5eadc2(0x2d2)][_0x5eadc2(0x1ef)](_0x5eadc2(0x585)),this[_0x5eadc2(0x2d2)][_0x5eadc2(0x1ef)]('Processing\x20audio');let _0x52b104=await this['convertaudio'](_0xbe90bc[_0x5eadc2(0x6f7)]);if(typeof _0x52b104==_0x5eadc2(0x2e4)){this[_0x5eadc2(0x2d2)][_0x5eadc2(0x1ef)](_0x5eadc2(0x6e3));let _0x20572e=J['readFileSync'](_0x52b104)[_0x5eadc2(0x6a2)]('base64');return{'content':{'audio':Buffer[_0x5eadc2(0x25a)](_0x20572e,_0x5eadc2(0x511)),'ptt':!0x0,'mimetype':_0x5eadc2(0x80a)},'option':{'statusJidList':_0xbe90bc[_0x5eadc2(0x5af)]}};}else throw new I(_0x52b104);}throw new w(_0x5eadc2(0x604));}async[a0_0x131850(0x3c6)](_0x5e45dd){const _0x10814b=a0_0x131850;return await this['sendMessageWithTyping'](_0x10814b(0x4c2),{'status':await this['formatStatusMessage'](_0x5e45dd['statusMessage'])});}async[a0_0x131850(0x191)](_0x3fd8e8){const _0x17ccb3=a0_0x131850;try{let _0x2ccf78=await(0x0,f[_0x17ccb3(0x640)])({[_0x3fd8e8[_0x17ccb3(0x5db)]]:(0x0,P[_0x17ccb3(0x28e)])(_0x3fd8e8[_0x17ccb3(0x74a)])?{'url':_0x3fd8e8['media']}:Buffer[_0x17ccb3(0x25a)](_0x3fd8e8[_0x17ccb3(0x74a)],_0x17ccb3(0x511))},{'upload':this['client'][_0x17ccb3(0x2e6)]}),_0x3cd21a=_0x3fd8e8[_0x17ccb3(0x5db)]+_0x17ccb3(0x1a3);if(_0x3fd8e8[_0x17ccb3(0x5db)]===_0x17ccb3(0x647)&&!_0x3fd8e8[_0x17ccb3(0x736)]){let _0x5b4e53=new RegExp(/.*\/(.+?)\./)[_0x17ccb3(0x51c)](_0x3fd8e8[_0x17ccb3(0x74a)]);_0x3fd8e8['fileName']=_0x5b4e53?_0x5b4e53[0x1]:null;}let _0x595e29=(0x0,P[_0x17ccb3(0x28e)])(_0x3fd8e8['media'])?_0x3fd8e8[_0x17ccb3(0x74a)][_0x17ccb3(0x5a5)]('?')[0x0]:_0x3fd8e8['media'];this[_0x17ccb3(0x2d2)][_0x17ccb3(0x1ef)](_0x17ccb3(0x321)+_0x595e29);let _0x1db887;(0x0,P['isURL'])(_0x3fd8e8[_0x17ccb3(0x74a)])?_0x1db887=(0x0,kt[_0x17ccb3(0x665)])(_0x595e29):_0x3fd8e8[_0x17ccb3(0x736)]&&_0x3fd8e8['fileName'][_0x17ccb3(0x2c5)]('.')?_0x1db887=(0x0,kt[_0x17ccb3(0x665)])(_0x3fd8e8[_0x17ccb3(0x736)]):_0x1db887=(0x0,kt[_0x17ccb3(0x665)])(_0x3fd8e8[_0x17ccb3(0x74a)]);let _0xf176cb=Nr,_0xf4c90c=et;return _0xf4c90c&&this['instanceName'][_0x17ccb3(0x611)]()[_0x17ccb3(0x2c5)](_0xf4c90c[_0x17ccb3(0x611)]())&&(_0x3fd8e8['caption']+='\x0a\x0a'+_0xf176cb),_0x2ccf78[_0x3cd21a][_0x17ccb3(0x61b)]=_0x3fd8e8?.[_0x17ccb3(0x61b)],_0x2ccf78[_0x3cd21a]['mimetype']=_0x1db887,_0x2ccf78[_0x3cd21a][_0x17ccb3(0x736)]=_0x3fd8e8[_0x17ccb3(0x736)],_0x3fd8e8['mediatype']==='video'&&(_0x2ccf78[_0x3cd21a][_0x17ccb3(0x282)]=Uint8Array[_0x17ccb3(0x25a)]((0x0,Te[_0x17ccb3(0x183)])((0x0,q[_0x17ccb3(0x50c)])(process['cwd'](),_0x17ccb3(0x5d1)))),_0x2ccf78[_0x3cd21a]['gifPlayback']=!0x1),(0x0,f[_0x17ccb3(0x31a)])('',{[_0x3cd21a]:{..._0x2ccf78[_0x3cd21a]}},{'userJid':this[_0x17ccb3(0x468)][_0x17ccb3(0x577)]});}catch(_0x340e0f){throw this[_0x17ccb3(0x2d2)][_0x17ccb3(0x4e7)](this['instanceName']+'\x20('+this[_0x17ccb3(0x468)][_0x17ccb3(0x577)]+'):\x20'+(_0x340e0f instanceof Error?_0x340e0f[_0x17ccb3(0x66c)]:JSON[_0x17ccb3(0x74e)](_0x340e0f,null,0x2))),new I(_0x340e0f?.[_0x17ccb3(0x6a2)]()||_0x340e0f);}}async[a0_0x131850(0x410)](_0x313e4f){const _0x44e71a=a0_0x131850;let _0x5bc707=await this['prepareMediaMessage'](_0x313e4f[_0x44e71a(0x410)]);return await this[_0x44e71a(0x2fc)](_0x313e4f['number'],{..._0x5bc707[_0x44e71a(0x66c)]},_0x313e4f?.[_0x44e71a(0x19e)]);}async[a0_0x131850(0x393)](_0x284183,_0x925e74){const _0x348a84=a0_0x131850;try{this[_0x348a84(0x2d2)][_0x348a84(0x1ef)](_0x348a84(0x552));let _0x24e14e,_0x10b209=_0x925e74+'-'+new Date()[_0x348a84(0x31c)]();this[_0x348a84(0x2d2)][_0x348a84(0x1ef)]('Hash\x20to\x20image\x20name:\x20'+_0x10b209);let _0x53bc00=''+(0x0,q[_0x348a84(0x50c)])(this['storePath'],_0x10b209+_0x348a84(0x49c));if(this['logger'][_0x348a84(0x1ef)](_0x348a84(0x539)+_0x53bc00),(0x0,P[_0x348a84(0x443)])(_0x284183)){this[_0x348a84(0x2d2)][_0x348a84(0x1ef)](_0x348a84(0x836));let _0x710c0c=_0x284183[_0x348a84(0x357)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x48c4b2=Buffer[_0x348a84(0x25a)](_0x710c0c,_0x348a84(0x511));_0x24e14e=''+(0x0,q[_0x348a84(0x50c)])(this[_0x348a84(0x6ab)],'temp-'+_0x10b209+'.png'),this[_0x348a84(0x2d2)][_0x348a84(0x1ef)](_0x348a84(0x433)+_0x24e14e),await(0x0,Lt['default'])(_0x48c4b2)['toFile'](_0x24e14e),this['logger']['verbose'](_0x348a84(0x3b1));}else{this['logger']['verbose'](_0x348a84(0x76a));let _0x7affe7=new Date()['getTime'](),_0x5d9e45=_0x284183+'?timestamp='+_0x7affe7;this[_0x348a84(0x2d2)][_0x348a84(0x1ef)]('including\x20timestamp\x20in\x20url:\x20'+_0x5d9e45);let _0x4e0e97=await Z[_0x348a84(0x1c2)][_0x348a84(0x5b0)](_0x5d9e45,{'responseType':_0x348a84(0x61a)});this['logger']['verbose']('Getting\x20image\x20from\x20url');let _0x442308=Buffer[_0x348a84(0x25a)](_0x4e0e97[_0x348a84(0x5d0)],_0x348a84(0x231));_0x24e14e=''+(0x0,q[_0x348a84(0x50c)])(this[_0x348a84(0x6ab)],_0x348a84(0x54c)+_0x10b209+'.png'),this[_0x348a84(0x2d2)][_0x348a84(0x1ef)](_0x348a84(0x433)+_0x24e14e),await(0x0,Lt[_0x348a84(0x1c2)])(_0x442308)[_0x348a84(0x41b)](_0x24e14e),this[_0x348a84(0x2d2)][_0x348a84(0x1ef)](_0x348a84(0x3b1));}return await(0x0,Lt[_0x348a84(0x1c2)])(_0x24e14e)[_0x348a84(0x434)]()['toFile'](_0x53bc00),this[_0x348a84(0x2d2)][_0x348a84(0x1ef)](_0x348a84(0x699)),J[_0x348a84(0x835)](_0x24e14e),this[_0x348a84(0x2d2)][_0x348a84(0x1ef)](_0x348a84(0x6fa)),_0x53bc00;}catch(_0x46b5b2){console['error'](_0x348a84(0x58f),_0x46b5b2 instanceof Error?_0x46b5b2[_0x348a84(0x66c)]:JSON[_0x348a84(0x74e)](_0x46b5b2,null,0x2));}}async[a0_0x131850(0x3a3)](_0x12bae8){const _0x1d5cde=a0_0x131850;let _0x4496e1=await this['convertToWebP'](_0x12bae8[_0x1d5cde(0x354)][_0x1d5cde(0x630)],_0x12bae8[_0x1d5cde(0x649)]),_0x2fb6c9=await this[_0x1d5cde(0x2fc)](_0x12bae8['number'],{'sticker':{'url':_0x4496e1}},_0x12bae8?.[_0x1d5cde(0x19e)]);return J[_0x1d5cde(0x835)](_0x4496e1),this[_0x1d5cde(0x2d2)][_0x1d5cde(0x1ef)](_0x1d5cde(0x413)),_0x2fb6c9;}async[a0_0x131850(0x28f)](_0x1b45d3){const _0x40fe57=a0_0x131850;if(this[_0x40fe57(0x2d2)]['verbose'](_0x40fe57(0x75d)),!_0x1b45d3[_0x40fe57(0x19e)]?.['encoding']&&_0x1b45d3[_0x40fe57(0x19e)]?.['encoding']!==!0x1&&(_0x1b45d3[_0x40fe57(0x19e)][_0x40fe57(0x53a)]=!0x0),_0x1b45d3[_0x40fe57(0x19e)]?.[_0x40fe57(0x53a)]){let _0x5dd6eb=await this[_0x40fe57(0x3d1)](_0x1b45d3[_0x40fe57(0x7ae)][_0x40fe57(0x520)]);if(typeof _0x5dd6eb==_0x40fe57(0x2e4)){let _0x5696f6=J[_0x40fe57(0x183)](_0x5dd6eb)[_0x40fe57(0x6a2)]('base64');return this['sendMessageWithTyping'](_0x1b45d3[_0x40fe57(0x649)],{'audio':Buffer[_0x40fe57(0x25a)](_0x5696f6,'base64'),'ptt':!0x0,'mimetype':_0x40fe57(0x451)},{'presence':_0x40fe57(0x472),'delay':_0x1b45d3?.[_0x40fe57(0x19e)]?.[_0x40fe57(0x713)]});}else throw new I(_0x5dd6eb);}return await this[_0x40fe57(0x2fc)](_0x1b45d3[_0x40fe57(0x649)],{'audio':(0x0,P[_0x40fe57(0x28e)])(_0x1b45d3[_0x40fe57(0x7ae)]['audio'])?{'url':_0x1b45d3[_0x40fe57(0x7ae)][_0x40fe57(0x520)]}:Buffer['from'](_0x1b45d3[_0x40fe57(0x7ae)][_0x40fe57(0x520)],_0x40fe57(0x511)),'ptt':!0x0,'mimetype':_0x40fe57(0x451)},{'presence':_0x40fe57(0x472),'delay':_0x1b45d3?.['options']?.[_0x40fe57(0x713)]});}async['convertaudio'](_0x3948bf){const _0x51bf96=a0_0x131850;this[_0x51bf96(0x2d2)][_0x51bf96(0x1ef)](_0x51bf96(0x455));let _0x5d4d24=(0x0,P[_0x51bf96(0x28e)])(_0x3948bf)?(0x0,xs[_0x51bf96(0x4ba)])(_0x51bf96(0x424))['update'](_0x3948bf)['digest'](_0x51bf96(0x35e)):(0x0,xs[_0x51bf96(0x4ba)])(_0x51bf96(0x424))[_0x51bf96(0x67c)](_0x3948bf)[_0x51bf96(0x1e4)](_0x51bf96(0x35e)),_0x2aed41=''+(0x0,q[_0x51bf96(0x50c)])(this[_0x51bf96(0x6ab)],_0x5d4d24+'.ogg');if(J['existsSync'](_0x2aed41))return this[_0x51bf96(0x2d2)]['verbose'](_0x51bf96(0x49d)),_0x2aed41;let _0x38b57f=''+(0x0,q['join'])(this['storePath'],_0x51bf96(0x54c)+(0x0,Re['v4'])()+'.mp3');if((0x0,P[_0x51bf96(0x28e)])(_0x3948bf)){let _0x1970f7=new Date()[_0x51bf96(0x31c)](),_0x2705a1=_0x3948bf+_0x51bf96(0x4d1)+_0x1970f7,_0x4838c7=await Z[_0x51bf96(0x1c2)]['get'](_0x2705a1,{'responseType':_0x51bf96(0x61a)});J[_0x51bf96(0x29d)](_0x38b57f,_0x4838c7[_0x51bf96(0x5d0)]);}else{let _0x1e78a9=Buffer[_0x51bf96(0x25a)](_0x3948bf,_0x51bf96(0x511));J[_0x51bf96(0x29d)](_0x38b57f,_0x1e78a9);}return new Promise((_0x2d12f4,_0x575db7)=>{const _0x12115a=_0x51bf96;(0x0,Ft[_0x12115a(0x51c)])(Tr[_0x12115a(0x1c2)][_0x12115a(0x20f)]+_0x12115a(0x803)+_0x38b57f+_0x12115a(0x689)+_0x2aed41+_0x12115a(0x558),_0x54b3eb=>{const _0x7b0fdb=_0x12115a;if(J[_0x7b0fdb(0x835)](_0x38b57f),_0x54b3eb){this[_0x7b0fdb(0x2d2)]['verbose'](_0x7b0fdb(0x1b2)),_0x575db7(_0x54b3eb);return;}this[_0x7b0fdb(0x2d2)]['verbose'](_0x7b0fdb(0x62f)),_0x2d12f4(_0x2aed41);});});}async[a0_0x131850(0x229)](_0x124591){const _0x25208d=a0_0x131850;let _0x5aa1b9={},_0x2f233b=_0x25208d(0x1b4);if(_0x124591['buttonMessage']?.[_0x25208d(0x410)]){_0x2f233b=_0x124591[_0x25208d(0x229)][_0x25208d(0x410)]?.[_0x25208d(0x5db)][_0x25208d(0x221)]()??_0x25208d(0x1b4),_0x5aa1b9[_0x25208d(0x6c5)]=_0x2f233b['toLowerCase']()+_0x25208d(0x1a3);let _0x2c6da2=await this['prepareMediaMessage'](_0x124591[_0x25208d(0x229)][_0x25208d(0x410)]);_0x5aa1b9[_0x25208d(0x66c)]=_0x2c6da2[_0x25208d(0x66c)][_0x5aa1b9[_0x25208d(0x6c5)]],_0x5aa1b9[_0x25208d(0x7dc)]='*'+_0x124591[_0x25208d(0x229)][_0x25208d(0x628)]+_0x25208d(0x659)+_0x124591[_0x25208d(0x229)][_0x25208d(0x459)];}let _0x3c573a={'text':_0x124591[_0x25208d(0x229)][_0x25208d(0x207)]['map'](_0x4a5863=>_0x4a5863['buttonText']),'ids':_0x124591[_0x25208d(0x229)][_0x25208d(0x207)][_0x25208d(0x4e4)](_0x5e154a=>_0x5e154a[_0x25208d(0x241)])};if(!(0x0,P[_0x25208d(0x42d)])(_0x3c573a[_0x25208d(0x373)])||!(0x0,P['arrayUnique'])(_0x3c573a[_0x25208d(0x3cd)]))throw new w(_0x25208d(0x2bb),_0x25208d(0x58e));return await this[_0x25208d(0x2fc)](_0x124591['number'],{'buttonsMessage':{'text':_0x5aa1b9?.['mediaKey']?void 0x0:_0x124591['buttonMessage'][_0x25208d(0x628)],'contentText':_0x5aa1b9?.['contentText']??_0x124591[_0x25208d(0x229)][_0x25208d(0x459)],'footerText':_0x124591['buttonMessage']?.[_0x25208d(0x56d)],'buttons':_0x124591[_0x25208d(0x229)][_0x25208d(0x207)]['map'](_0x267e1d=>({'buttonText':{'displayText':_0x267e1d[_0x25208d(0x388)]},'buttonId':_0x267e1d['buttonId'],'type':0x1})),'headerType':f[_0x25208d(0x438)]['Message'][_0x25208d(0x252)]['HeaderType'][_0x2f233b],[_0x5aa1b9?.['mediaKey']]:_0x5aa1b9?.[_0x25208d(0x66c)]}},_0x124591?.[_0x25208d(0x19e)]);}async[a0_0x131850(0x21a)](_0x5501e5){const _0x240543=a0_0x131850;return await this['sendMessageWithTyping'](_0x5501e5[_0x240543(0x649)],{'locationMessage':{'degreesLatitude':_0x5501e5['locationMessage'][_0x240543(0x5fe)],'degreesLongitude':_0x5501e5['locationMessage'][_0x240543(0x493)],'name':_0x5501e5['locationMessage']?.[_0x240543(0x228)],'address':_0x5501e5['locationMessage']?.[_0x240543(0x744)]}},_0x5501e5?.[_0x240543(0x19e)]);}async[a0_0x131850(0x6e1)](_0x2ed21f){const _0xbcd9a5=a0_0x131850;let _0x5327ad={},_0x234ec6=_0x902d6a=>{const _0x4e9efa=a0_0x1581;let _0x467bdf=_0x4e9efa(0x3a5)+_0x902d6a['fullName']+_0x4e9efa(0x21f)+_0x902d6a['fullName']+'\x0a';_0x902d6a['organization']&&(_0x467bdf+=_0x4e9efa(0x30e)+_0x902d6a['organization']+';\x0a'),_0x902d6a[_0x4e9efa(0x487)]&&(_0x467bdf+=_0x4e9efa(0x81b)+_0x902d6a['email']+'\x0a'),_0x902d6a['url']&&(_0x467bdf+=_0x4e9efa(0x3a1)+_0x902d6a['url']+'\x0a');let _0x3f66d6='';return _0x902d6a['phoneNumber']&&_0x902d6a[_0x4e9efa(0x7b6)][_0x4e9efa(0x5a5)]('|')[_0x4e9efa(0x773)]((_0x55ef65,_0x3afdc0)=>{const _0x29268b=_0x4e9efa;let _0x5ecf03=this[_0x29268b(0x593)](_0x55ef65)[_0x29268b(0x357)]('@s.whatsapp.net','');_0x3f66d6+=_0x29268b(0x37a)+(_0x3afdc0+0x1)+_0x29268b(0x27d)+_0x5ecf03+':'+_0x55ef65+'\x0aitem'+(_0x3afdc0+0x1)+_0x29268b(0x7e2);}),_0x467bdf+=_0x3f66d6+_0x4e9efa(0x754),_0x467bdf;};return _0x2ed21f[_0xbcd9a5(0x6e1)]['length']===0x1?_0x5327ad['contactMessage']={'displayName':_0x2ed21f[_0xbcd9a5(0x6e1)][0x0][_0xbcd9a5(0x315)],'vcard':_0x234ec6(_0x2ed21f['contactMessage'][0x0])}:_0x5327ad['contactsArrayMessage']={'displayName':_0x2ed21f[_0xbcd9a5(0x6e1)]['length']+_0xbcd9a5(0x268),'contacts':_0x2ed21f[_0xbcd9a5(0x6e1)][_0xbcd9a5(0x4e4)](_0x5dcc73=>({'displayName':_0x5dcc73['fullName'],'vcard':_0x234ec6(_0x5dcc73)}))},await this[_0xbcd9a5(0x2fc)](_0x2ed21f[_0xbcd9a5(0x649)],{..._0x5327ad},_0x2ed21f?.[_0xbcd9a5(0x19e)]);}async[a0_0x131850(0x69a)](_0x3e7b64){const _0x5a5e19=a0_0x131850;return await this['sendMessageWithTyping'](_0x3e7b64[_0x5a5e19(0x69a)][_0x5a5e19(0x502)][_0x5a5e19(0x778)],{'reactionMessage':{'key':_0x3e7b64[_0x5a5e19(0x69a)][_0x5a5e19(0x502)],'text':_0x3e7b64['reactionMessage'][_0x5a5e19(0x378)]}});}async[a0_0x131850(0x7a3)](_0x109d25){const _0x51b256=a0_0x131850;let _0x27833b=[];for await(let _0x1e5e3e of _0x109d25[_0x51b256(0x45b)]){let _0x29d855=this[_0x51b256(0x593)](_0x1e5e3e),_0x155106=!0x1;try{if((0x0,f[_0x51b256(0x195)])(_0x29d855)){let _0x51547d=await this[_0x51b256(0x82f)]({'groupJid':_0x29d855},_0x51b256(0x58d));_0x27833b['push'](new fe(_0x51547d[_0x51b256(0x7dd)]['id'],!!_0x51547d?.[_0x51b256(0x7dd)]['id'],_0x51547d?.[_0x51b256(0x7dd)][_0x51b256(0x57a)])),_0x155106=!!_0x51547d?.[_0x51b256(0x7dd)]['id'];}else{let _0x7879bd=(await this[_0x51b256(0x23d)][_0x51b256(0x365)](_0x29d855))[0x0];_0x27833b['push'](new fe(_0x7879bd[_0x51b256(0x178)],_0x7879bd[_0x51b256(0x3f4)])),_0x155106=_0x7879bd[_0x51b256(0x3f4)];}}catch{await this['checkAndUpdateChatStatus'](_0x29d855,_0x155106),_0x27833b[_0x51b256(0x1b9)](new fe(_0x1e5e3e,!0x1));}}return _0x27833b;}async[a0_0x131850(0x51a)](_0x456016,_0x1e717b){const _0x1a58a4=a0_0x131850;try{await this['repository'][_0x1a58a4(0x801)][_0x1a58a4(0x5d6)]({'where':{'_id':_0x456016,'imported':!0x0}},this[_0x1a58a4(0x468)][_0x1a58a4(0x577)])&&(_0x1e717b||(await this[_0x1a58a4(0x5c7)]['chat']['deleteChat'](_0x456016,this[_0x1a58a4(0x468)]['wuid']),console[_0x1a58a4(0x70b)](_0x1a58a4(0x3ec)+_0x456016+_0x1a58a4(0x553))));}catch(_0x3d0f10){console[_0x1a58a4(0x4e7)](_0x1a58a4(0x670),_0x3d0f10);}}async[a0_0x131850(0x5e5)](_0x3cdef4){const _0x16b39c=a0_0x131850;try{let _0x59233a=_0x3cdef4[_0x16b39c(0x1c5)][_0x16b39c(0x408)](_0x4bc753=>(0x0,f[_0x16b39c(0x195)])(_0x4bc753[_0x16b39c(0x778)])||(0x0,f[_0x16b39c(0x541)])(_0x4bc753['remoteJid']))[_0x16b39c(0x4e4)](_0x430c4f=>({'remoteJid':_0x430c4f[_0x16b39c(0x778)],'fromMe':_0x430c4f[_0x16b39c(0x5e2)],'id':_0x430c4f['id']}));await this[_0x16b39c(0x23d)][_0x16b39c(0x1c5)](_0x59233a);let _0x240e03=_0x59233a[_0x16b39c(0x4e4)](_0x3a0580=>this[_0x16b39c(0x234)](_0x3a0580,{'status':_0x16b39c(0x4fa),'owner':this['instance'][_0x16b39c(0x577)]})),_0x2e55d2=_0x59233a[_0x16b39c(0x4e4)](_0x41ac17=>this['repository'][_0x16b39c(0x801)][_0x16b39c(0x5e3)]({'where':{'_id':_0x41ac17[_0x16b39c(0x778)]}},{'unreadcount':0x0},this[_0x16b39c(0x468)][_0x16b39c(0x577)])),[_0x2c51a3,_0x3d58cf]=await Promise['all']([Promise[_0x16b39c(0x306)](_0x240e03),Promise[_0x16b39c(0x306)](_0x2e55d2)]);return _0x3d58cf[_0x16b39c(0x408)](_0x43d403=>_0x43d403!==null)['forEach'](_0x1985a0=>{const _0x798160=_0x16b39c;F(this[_0x798160(0x682)],_0x798160(0x534),{'chat':_0x1985a0});}),{'message':_0x16b39c(0x17e),'read':'success'};}catch(_0x1fd468){throw console[_0x16b39c(0x4e7)]('Error\x20in\x20markMessageAsRead:',_0x1fd468),new I(_0x16b39c(0x6f1),_0x1fd468[_0x16b39c(0x6a2)]());}}async['getLastMessage'](_0x1f8ba9){const _0x360af9=a0_0x131850;let _0x1655c3={'where':{'key':{'remoteJid':_0x1f8ba9}},'limit':0x1},_0x52377a=await this['fetchMessages'](_0x1655c3);return _0x52377a||(console[_0x360af9(0x4e7)](_0x360af9(0x216),_0x1f8ba9),null);}async[a0_0x131850(0x2e5)](_0x23600f){const _0x2b68e1=a0_0x131850;this[_0x2b68e1(0x2d2)]['verbose']('Archiving\x20chat');try{let _0x4d5829=_0x23600f[_0x2b68e1(0x3f5)],_0x42532a=_0x23600f[_0x2b68e1(0x801)];if(!_0x4d5829&&_0x42532a?_0x4d5829=await this[_0x2b68e1(0x73a)](_0x42532a):(_0x4d5829=_0x23600f[_0x2b68e1(0x3f5)],_0x4d5829[_0x2b68e1(0x2fe)]=_0x4d5829?.[_0x2b68e1(0x2fe)]??Date[_0x2b68e1(0x447)](),_0x42532a=_0x4d5829?.[_0x2b68e1(0x502)]?.[_0x2b68e1(0x778)]),!_0x4d5829||Object[_0x2b68e1(0x7ad)](_0x4d5829)[_0x2b68e1(0x724)]===0x0)throw new j('Last\x20message\x20not\x20found');this[_0x2b68e1(0x2d2)][_0x2b68e1(0x1ef)](_0x2b68e1(0x5bd)+_0x42532a);try{await this[_0x2b68e1(0x23d)][_0x2b68e1(0x54e)]({'archive':_0x23600f['archive'],'lastMessages':[_0x4d5829]},this[_0x2b68e1(0x593)](_0x42532a));}catch(_0x5e0854){this['logger']['error']('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x42532a+':\x20'+_0x5e0854['toString']());}this[_0x2b68e1(0x2d2)]['verbose']('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x42532a);let _0x180d30=await this[_0x2b68e1(0x5c7)][_0x2b68e1(0x801)][_0x2b68e1(0x5e3)]({'where':{'_id':_0x4d5829?.['key']?.['remoteJid']}},{'archived':_0x23600f['archive']},this[_0x2b68e1(0x468)]['wuid']);return _0x180d30?(this[_0x2b68e1(0x2d2)][_0x2b68e1(0x1ef)](_0x2b68e1(0x774)+JSON[_0x2b68e1(0x74e)](_0x180d30)),F(this[_0x2b68e1(0x682)],'chats',{'chat':_0x180d30})):this[_0x2b68e1(0x2d2)][_0x2b68e1(0x4e7)](_0x2b68e1(0x513)+_0x42532a),{'chatId':_0x42532a,'archived':_0x23600f[_0x2b68e1(0x5e7)]};}catch(_0x1143fb){throw this['logger'][_0x2b68e1(0x4e7)](_0x2b68e1(0x30d)+_0x1143fb[_0x2b68e1(0x6a2)]()),new I({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x1143fb['toString']()]});}}async['deleteChat'](_0x48348f){const _0x7db109=a0_0x131850;this[_0x7db109(0x2d2)][_0x7db109(0x1ef)](_0x7db109(0x259));try{let _0x658a11=await this[_0x7db109(0x73a)](_0x48348f);if(!_0x658a11||Object[_0x7db109(0x7ad)](_0x658a11)['length']===0x0)throw new j(_0x7db109(0x5da));let _0x127f47=_0x658a11[0x0];this[_0x7db109(0x2d2)][_0x7db109(0x1ef)]('Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x48348f);try{await this[_0x7db109(0x23d)][_0x7db109(0x54e)]({'delete':!0x0,'lastMessages':[{'key':_0x127f47['key'],'messageTimestamp':_0x127f47[_0x7db109(0x2fe)]}]},this['createJid'](_0x48348f));}catch(_0x2610c3){this[_0x7db109(0x2d2)][_0x7db109(0x4e7)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x48348f+':\x20'+_0x2610c3[_0x7db109(0x6a2)]());}this[_0x7db109(0x2d2)][_0x7db109(0x1ef)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x48348f);return;}catch(_0x2e2bb6){throw this['logger'][_0x7db109(0x4e7)](_0x7db109(0x30d)+_0x2e2bb6['toString']()),new I({'archived':!0x1,'message':[_0x7db109(0x799),_0x2e2bb6[_0x7db109(0x6a2)]()]});}}async[a0_0x131850(0x1ac)](_0x1c7fc8){const _0x37f2c3=a0_0x131850;try{let _0x40a1ef=await this[_0x37f2c3(0x23d)]['sendMessage'](_0x1c7fc8[_0x37f2c3(0x778)],{'delete':_0x1c7fc8});try{let _0xd18e00=await this[_0x37f2c3(0x234)](_0x1c7fc8,{'status':'DELETED','owner':this[_0x37f2c3(0x468)][_0x37f2c3(0x577)]});this[_0x37f2c3(0x2d2)][_0x37f2c3(0x1ef)](this[_0x37f2c3(0x682)]+'\x20('+this[_0x37f2c3(0x468)][_0x37f2c3(0x577)]+_0x37f2c3(0x189)+_0xd18e00);}catch(_0x2cab3c){console[_0x37f2c3(0x4e7)](_0x37f2c3(0x620),_0x2cab3c);}return _0x40a1ef;}catch(_0x3d1fbd){throw new I(_0x37f2c3(0x325),_0x3d1fbd?.[_0x37f2c3(0x6a2)]());}}async[a0_0x131850(0x7ab)](_0x181746){const _0x582331=a0_0x131850;try{let _0x1f8870=_0x181746?.[_0x582331(0x66c)]?_0x181746:await this[_0x582331(0x80e)](_0x181746[_0x582331(0x502)],!0x0);for(let _0x2da664 of va)_0x1f8870[_0x582331(0x66c)][_0x2da664]&&(_0x1f8870[_0x582331(0x66c)]=_0x1f8870[_0x582331(0x66c)][_0x2da664][_0x582331(0x66c)]);let _0x535f77,_0x2ac6ab;for(let _0x2deec5 of Ma)if(_0x535f77=_0x1f8870[_0x582331(0x66c)][_0x2deec5],_0x535f77){_0x2ac6ab=_0x2deec5;break;}if(!_0x535f77)throw _0x582331(0x685);typeof _0x535f77['mediaKey']==_0x582331(0x662)&&(_0x1f8870['message']=JSON['parse'](JSON[_0x582331(0x74e)](_0x1f8870[_0x582331(0x66c)])));let _0x1d5925=await(0x0,f[_0x582331(0x2bd)])({'key':_0x1f8870?.[_0x582331(0x502)],'message':_0x1f8870?.['message']},'buffer',{},{'logger':(0x0,$t['default'])({'level':'silent'}),'reuploadRequest':this['client'][_0x582331(0x537)]});if(!(_0x1d5925 instanceof Buffer))throw new Error(_0x582331(0x77a));let _0x10f951=this[_0x582331(0x400)][_0x582331(0x5b0)](_0x582331(0x4ec)),_0x5379c0,_0x516576;if(_0x535f77[_0x582331(0x736)])_0x5379c0=_0x535f77[_0x582331(0x736)];else{let _0x596823=_0x535f77[_0x582331(0x762)]?.[_0x582331(0x796)](/\/(\w+)/),_0x27eca6=_0x596823?_0x596823[0x1]:null;if(!_0x27eca6)throw new Error(_0x582331(0x65b));_0x5379c0=(0x0,Re['v4'])()+'.'+_0x27eca6;}_0x2ac6ab===_0x582331(0x7ae)&&_0x535f77['mimetype']===_0x582331(0x80a)?(_0x5379c0=(0x0,Re['v4'])()+_0x582331(0x346),_0x516576='/media/'+await this[_0x582331(0x3d1)](_0x1d5925[_0x582331(0x6a2)](_0x582331(0x511)))):(await this[_0x582331(0x199)](_0x1d5925,_0x5379c0),_0x516576='/media/'+_0x5379c0);let _0x5b840d=this['configService']['get']('SERVER')[_0x582331(0x68d)];if(!_0x5b840d){let _0x46a151=this['configService'][_0x582331(0x5b0)](_0x582331(0x363));_0x5b840d=_0x582331(0x7d7)+(_0x46a151&&_0x46a151[_0x582331(0x411)]['split']('/')[0x4]);}_0x516576=''+_0x5b840d+_0x516576;let _0x118444=0xc*0x3c*0x3c*0x3e8,_0x2e1fd1={'where':{'_id':_0x1f8870[_0x582331(0x502)]['id']}},_0x2448d2={'message_normalized.fileUrl':_0x516576,'message_normalized.expires_fileUrl':Date[_0x582331(0x447)]()+_0x118444};try{let _0x3bf0c7=await this['repository'][_0x582331(0x66c)][_0x582331(0x67c)](_0x2e1fd1,_0x2448d2,this[_0x582331(0x468)]['wuid']);_0x3bf0c7&&F(this[_0x582331(0x682)],_0x582331(0x719),{'message':_0x3bf0c7});}catch(_0x5c7b0b){this[_0x582331(0x2d2)]['error'](this[_0x582331(0x682)]+'\x20('+this[_0x582331(0x468)][_0x582331(0x577)]+_0x582331(0x442)+(_0x5c7b0b instanceof Error?_0x5c7b0b['message']:JSON['stringify'](_0x5c7b0b,null,0x2)));}return{'mediaType':_0x2ac6ab,'fileName':_0x535f77[_0x582331(0x736)],'caption':_0x535f77[_0x582331(0x61b)],'size':{'fileLength':_0x535f77[_0x582331(0x3b9)],'height':_0x535f77[_0x582331(0x6cd)],'width':_0x535f77[_0x582331(0x358)]},'mimetype':_0x535f77[_0x582331(0x762)],'base64':_0x1d5925[_0x582331(0x6a2)]('base64'),'fileUrl':_0x516576,'expires_fileUrl':Date['now']()+_0x118444};}catch(_0xaba83b){throw this[_0x582331(0x2d2)][_0x582331(0x4e7)](this[_0x582331(0x682)]+'\x20('+this[_0x582331(0x468)][_0x582331(0x577)]+_0x582331(0x442)+(_0xaba83b instanceof Error?_0xaba83b[_0x582331(0x66c)]:JSON[_0x582331(0x74e)](_0xaba83b,null,0x2))),new w(_0xaba83b['toString']());}}async[a0_0x131850(0x199)](_0x23e735,_0x3b8b33){const _0x4a167b=a0_0x131850;let _0x45701e=q[_0x4a167b(0x1c2)][_0x4a167b(0x50c)](__dirname,_0x4a167b(0x581));J[_0x4a167b(0x7a0)](_0x45701e)||J['mkdirSync'](_0x45701e,{'recursive':!0x0});let _0x126feb=q[_0x4a167b(0x1c2)][_0x4a167b(0x50c)](_0x45701e,_0x3b8b33);return new Promise((_0x5b6a06,_0x552985)=>{const _0x4ad700=_0x4a167b;J[_0x4ad700(0x449)](_0x126feb,_0x23e735,_0x403055=>{const _0xeaff10=_0x4ad700;_0x403055?(this[_0xeaff10(0x2d2)][_0xeaff10(0x4e7)](_0xeaff10(0x7e3)+(_0x403055 instanceof Error?_0x403055[_0xeaff10(0x66c)]:JSON['stringify'](_0x403055,null,0x2))),_0x552985(_0x403055)):(this[_0xeaff10(0x2d2)][_0xeaff10(0x70b)](_0xeaff10(0x815)+_0x126feb),_0x5b6a06(_0x126feb));});});}async[a0_0x131850(0x3c7)](_0x459ead){const _0x3434f5=a0_0x131850;return await this[_0x3434f5(0x5c7)][_0x3434f5(0x51d)][_0x3434f5(0x518)](_0x459ead,this[_0x3434f5(0x468)][_0x3434f5(0x577)]);}async['fetchLabels'](){const _0x3e1985=a0_0x131850;return await this[_0x3e1985(0x5c7)]['label']['find']({'where':{}},this['instance'][_0x3e1985(0x577)]);}async['fetchMessages'](_0x2b4722){const _0x2f69d0=a0_0x131850;return await this[_0x2f69d0(0x5c7)]['message']['find'](_0x2b4722,this[_0x2f69d0(0x468)][_0x2f69d0(0x577)]);}async['fetchChats'](){const _0x42e2a3=a0_0x131850;return this[_0x42e2a3(0x5c7)][_0x42e2a3(0x801)][_0x42e2a3(0x66f)](this[_0x42e2a3(0x468)][_0x42e2a3(0x577)]),this[_0x42e2a3(0x5c7)][_0x42e2a3(0x801)]['updateMissingEtiquetas'](this['instance'][_0x42e2a3(0x577)]),this[_0x42e2a3(0x5c7)][_0x42e2a3(0x801)]['updateMissingTags'](this['instance'][_0x42e2a3(0x577)]),this['repository'][_0x42e2a3(0x801)][_0x42e2a3(0x40f)](this['instance'][_0x42e2a3(0x577)]),await this[_0x42e2a3(0x5c7)][_0x42e2a3(0x801)]['find']({'where':{}},this[_0x42e2a3(0x468)][_0x42e2a3(0x577)]);}async[a0_0x131850(0x3ef)](_0x5b088c){const _0x2bd152=a0_0x131850;try{if(!Array[_0x2bd152(0x24a)](_0x5b088c)||_0x5b088c[_0x2bd152(0x724)]===0x0)throw new Error(_0x2bd152(0x512));let _0x21a594=[],_0x29ca70=[];for(let _0x1fe3a7 of _0x5b088c){if(_0x1fe3a7[_0x2bd152(0x39d)])_0x1fe3a7[_0x2bd152(0x39d)]=this[_0x2bd152(0x593)](_0x1fe3a7['_id']);else continue;await this[_0x2bd152(0x5c7)]['chat'][_0x2bd152(0x5d6)]({'where':{'_id':_0x1fe3a7[_0x2bd152(0x39d)]}},this[_0x2bd152(0x468)][_0x2bd152(0x577)])?_0x29ca70[_0x2bd152(0x1b9)]({'_id':_0x1fe3a7[_0x2bd152(0x39d)],'leadInfo':_0x1fe3a7[_0x2bd152(0x430)],'owner':this[_0x2bd152(0x468)][_0x2bd152(0x577)]}):_0x21a594['push']({'_id':_0x1fe3a7[_0x2bd152(0x39d)],'owner':this[_0x2bd152(0x468)][_0x2bd152(0x577)],'leadInfo':_0x1fe3a7[_0x2bd152(0x430)],'imported':!0x0});}return _0x29ca70[_0x2bd152(0x724)]>0x0&&await this[_0x2bd152(0x5c7)]['chat'][_0x2bd152(0x515)](_0x29ca70['map'](_0x50dc23=>({'query':{'where':{'_id':_0x50dc23[_0x2bd152(0x39d)],'owner':this['instance'][_0x2bd152(0x577)]}},'update':_0x50dc23}))),_0x21a594[_0x2bd152(0x724)]>0x0&&await this['repository'][_0x2bd152(0x801)][_0x2bd152(0x30c)](_0x21a594,this[_0x2bd152(0x468)][_0x2bd152(0x577)]),{'updated':_0x29ca70[_0x2bd152(0x724)],'inserted':_0x21a594[_0x2bd152(0x724)]};}catch(_0x41435b){throw console['error'](_0x2bd152(0x6df),_0x41435b),_0x41435b;}}async['importChats'](_0xdfa85a){const _0x473db1=a0_0x131850;try{if(!Array['isArray'](_0xdfa85a)||_0xdfa85a[_0x473db1(0x724)]===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x33392a=0x64,_0x5150d6=0x0;for(let _0x339d33=0x0;_0x339d33<_0xdfa85a['length'];_0x339d33+=_0x33392a){let _0x4b290f=_0xdfa85a[_0x473db1(0x2af)](_0x339d33,_0x339d33+_0x33392a),{updated:_0x41bbe4}=await this[_0x473db1(0x7c8)](_0x4b290f);_0x5150d6+=_0x41bbe4;}return{'updated':_0x5150d6};}catch(_0x3fe609){throw console[_0x473db1(0x4e7)]('Erro\x20ao\x20importar\x20chats:',_0x3fe609),_0x3fe609;}}async[a0_0x131850(0x7c8)](_0x4f69db){const _0x332b63=a0_0x131850;try{let _0x702ab6=await this[_0x332b63(0x5c7)][_0x332b63(0x507)]['find']({'where':{}},this[_0x332b63(0x468)][_0x332b63(0x577)]),_0x451378=new Set(_0x702ab6[_0x332b63(0x4e4)](_0x3b2174=>_0x3b2174['_id'])),_0x5667f0=[],_0x38fb2a=[];for(let _0x3a20e9 of _0x4f69db){if(!_0x3a20e9[_0x332b63(0x39d)])continue;_0x3a20e9[_0x332b63(0x39d)]=this[_0x332b63(0x593)](_0x3a20e9[_0x332b63(0x39d)]);let _0x387b4b=await this['repository'][_0x332b63(0x801)]['findOne']({'where':{'_id':_0x3a20e9['_id']}},this[_0x332b63(0x468)]['wuid']),_0x2b31c5={};if(Object[_0x332b63(0x7a4)](_0x3a20e9['leadInfo'])[_0x332b63(0x773)](([_0x3d2f13,_0x113aab])=>{const _0x5d48d5=_0x332b63;_0x2b31c5[_0x5d48d5(0x495)+_0x3d2f13]=_0x113aab;}),_0x387b4b&&!_0x387b4b[_0x332b63(0x193)]){let _0x1aa01b=(_0x3a20e9[_0x332b63(0x430)][_0x332b63(0x82d)]||[])[_0x332b63(0x408)](_0x316237=>_0x451378['has'](_0x316237)),_0xeb2bf3=new Set(_0x387b4b[_0x332b63(0x430)][_0x332b63(0x82d)]||[]),_0x1cfc87=_0x1aa01b[_0x332b63(0x408)](_0x257726=>!_0xeb2bf3['has'](_0x257726)),_0xea5bab=[..._0xeb2bf3][_0x332b63(0x408)](_0x21c3b4=>!_0x1aa01b['includes'](_0x21c3b4));_0x38fb2a[_0x332b63(0x1b9)](..._0x1cfc87['map'](_0x1ec2e3=>this['AddChatLabel'](_0x1ec2e3,_0x3a20e9[_0x332b63(0x39d)]))),_0x38fb2a['push'](..._0xea5bab['map'](_0x561b09=>this[_0x332b63(0x3be)](_0x561b09,_0x3a20e9[_0x332b63(0x39d)]))),_0x3a20e9[_0x332b63(0x430)]['etiquetas']=_0x1aa01b,_0x5667f0['push']({'query':{'where':{'_id':_0x3a20e9['_id'],'owner':this[_0x332b63(0x468)][_0x332b63(0x577)]}},'update':_0x2b31c5});}else _0x2b31c5[_0x332b63(0x193)]=!0x0,_0x5667f0[_0x332b63(0x1b9)]({'query':{'where':{'_id':_0x3a20e9[_0x332b63(0x39d)],'owner':this[_0x332b63(0x468)]['wuid']}},'update':_0x2b31c5});}let _0x1a9858=await this['repository'][_0x332b63(0x801)][_0x332b63(0x515)](_0x5667f0);return await Promise[_0x332b63(0x306)](_0x38fb2a),{'updated':_0x1a9858};}catch(_0x49f0e6){throw console[_0x332b63(0x4e7)]('Erro\x20ao\x20importar\x20chats:',_0x49f0e6),_0x49f0e6;}}async[a0_0x131850(0x718)](){const _0x6504f1=a0_0x131850;return await this[_0x6504f1(0x23d)]['fetchPrivacySettings']();}async[a0_0x131850(0x466)](_0x1eeb6f){const _0x422ae6=a0_0x131850;try{return await this['client'][_0x422ae6(0x404)](_0x1eeb6f[_0x422ae6(0x509)][_0x422ae6(0x375)]),await this[_0x422ae6(0x23d)][_0x422ae6(0x2e3)](_0x1eeb6f[_0x422ae6(0x509)][_0x422ae6(0x55a)]),await this['client']['updateStatusPrivacy'](_0x1eeb6f[_0x422ae6(0x509)][_0x422ae6(0x42e)]),await this['client']['updateOnlinePrivacy'](_0x1eeb6f['privacySettings'][_0x422ae6(0x227)]),await this[_0x422ae6(0x23d)]['updateLastSeenPrivacy'](_0x1eeb6f[_0x422ae6(0x509)]['last']),await this[_0x422ae6(0x23d)]['updateGroupsAddPrivacy'](_0x1eeb6f['privacySettings'][_0x422ae6(0x6c0)]),this['client']?.['ws']?.[_0x422ae6(0x274)](),{'update':_0x422ae6(0x819),'data':{'readreceipts':_0x1eeb6f[_0x422ae6(0x509)][_0x422ae6(0x375)],'profile':_0x1eeb6f[_0x422ae6(0x509)][_0x422ae6(0x55a)],'status':_0x1eeb6f[_0x422ae6(0x509)]['status'],'online':_0x1eeb6f[_0x422ae6(0x509)][_0x422ae6(0x227)],'last':_0x1eeb6f[_0x422ae6(0x509)][_0x422ae6(0x54d)],'groupadd':_0x1eeb6f[_0x422ae6(0x509)]['groupadd']}};}catch(_0x12e7ad){throw new I(_0x422ae6(0x343),_0x12e7ad[_0x422ae6(0x6a2)]());}}async[a0_0x131850(0x19a)](_0x5f578b){const _0x41e9cd=a0_0x131850;let _0x3ccee1=(_0x5f578b?this[_0x41e9cd(0x593)](_0x5f578b):this[_0x41e9cd(0x23d)]?.[_0x41e9cd(0x494)]?.['id'])[_0x41e9cd(0x357)](/:\d{1,2}@/g,'@');this[_0x41e9cd(0x2d2)][_0x41e9cd(0x1ef)](_0x41e9cd(0x67a)+_0x3ccee1);let _0x4347ca=await this['repository']['contact'][_0x41e9cd(0x5d6)]({'where':{'_id':_0x3ccee1}},this[_0x41e9cd(0x468)][_0x41e9cd(0x577)]),_0x354cba=_0x4347ca?_0x4347ca[_0x41e9cd(0x4a2)]:null;try{let _0x41ca89=(await this[_0x41e9cd(0x7a3)]({'numbers':[_0x3ccee1]}))?.[_0x41e9cd(0x45e)](),_0x16e70f=(await this['findAndUpdateCacheContact'](_0x3ccee1,null,!0x1))[_0x41e9cd(0x751)][_0x41e9cd(0x645)],_0x45c884=await this[_0x41e9cd(0x5fa)](_0x41ca89?.[_0x41e9cd(0x178)]),_0x3f118a=await this[_0x41e9cd(0x5ad)](_0x41ca89?.[_0x41e9cd(0x178)]),_0x2cdaf6=(await this[_0x41e9cd(0x32d)](_0x3ccee1,null,!0x1))['cachedContact'][_0x41e9cd(0x228)],_0x15d068=await this[_0x41e9cd(0x5c7)]['chat'][_0x41e9cd(0x5d6)]({'where':{'_id':_0x3ccee1}},this[_0x41e9cd(0x468)][_0x41e9cd(0x577)]),_0x4cc42a={'imagechat':_0x16e70f,'contactname':_0x354cba||null,'pushName':_0x2cdaf6,'status':_0x45c884?.[_0x41e9cd(0x42e)],'isBusiness':_0x3f118a[_0x41e9cd(0x4c6)],'email':_0x3f118a?.[_0x41e9cd(0x487)],'description':_0x3f118a?.[_0x41e9cd(0x459)],'website':_0x3f118a?.['website']?.['shift'](),'lastcache':Date[_0x41e9cd(0x447)](),'imported':!_0x15d068},_0x9c5642=await this[_0x41e9cd(0x5c7)]['chat']['updateOne']({'where':{'_id':_0x3ccee1}},_0x4cc42a,this[_0x41e9cd(0x468)]['wuid']),_0x95a4ec={'owner':this[_0x41e9cd(0x468)]['wuid'],'_id':_0x3ccee1,'profilePictureUrl':_0x16e70f,'status':_0x45c884?.['status']};return this[_0x41e9cd(0x5c7)][_0x41e9cd(0x51d)][_0x41e9cd(0x67c)]([_0x95a4ec],this[_0x41e9cd(0x468)][_0x41e9cd(0x577)]),_0x9c5642&&F(this[_0x41e9cd(0x682)],'chats',{'chat':_0x9c5642}),{'wuid':_0x41ca89?.['jid']||_0x3ccee1,'name':_0x41ca89?.['name'],'pushName':_0x2cdaf6,'numberExists':_0x41ca89?.[_0x41e9cd(0x3f4)],'picture':_0x16e70f,'status':_0x45c884?.['status'],'isBusiness':_0x3f118a[_0x41e9cd(0x4c6)],'email':_0x3f118a?.[_0x41e9cd(0x487)],'description':_0x3f118a?.[_0x41e9cd(0x459)],'website':_0x3f118a?.[_0x41e9cd(0x7e9)]?.['shift']()};}catch(_0xf74203){return this[_0x41e9cd(0x2d2)][_0x41e9cd(0x4e7)](_0x41e9cd(0x49e)+(_0xf74203 instanceof Error?_0xf74203[_0x41e9cd(0x66c)]:JSON[_0x41e9cd(0x74e)](_0xf74203,null,0x2))),{};}}async[a0_0x131850(0x5ad)](_0x3df367){const _0x27b0d5=a0_0x131850;this[_0x27b0d5(0x2d2)][_0x27b0d5(0x1ef)](_0x27b0d5(0x5e1));try{let _0x23e6d1=_0x3df367?this[_0x27b0d5(0x593)](_0x3df367):this['instance'][_0x27b0d5(0x577)],_0x1491cf=await this['client']['getBusinessProfile'](_0x23e6d1);return this[_0x27b0d5(0x2d2)]['verbose'](_0x27b0d5(0x39a)),_0x1491cf?(this[_0x27b0d5(0x2d2)][_0x27b0d5(0x1ef)](_0x27b0d5(0x789)),{'isBusiness':!0x0,..._0x1491cf}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this[_0x27b0d5(0x7a3)]({'numbers':[_0x23e6d1]}))?.[_0x27b0d5(0x45e)]()};}catch(_0x270848){throw new I(_0x27b0d5(0x48e),_0x270848[_0x27b0d5(0x6a2)]());}}async[a0_0x131850(0x5fa)](_0x1d5ff9){const _0x1e0a6b=a0_0x131850;let _0x11065c=this[_0x1e0a6b(0x593)](_0x1d5ff9);try{return{'wuid':_0x11065c,'status':(await this[_0x1e0a6b(0x23d)][_0x1e0a6b(0x296)](_0x11065c))?.[_0x1e0a6b(0x42e)]};}catch{return{'wuid':_0x11065c,'status':null};}}async[a0_0x131850(0x574)](_0x1bcb5f){const _0xf3f8db=a0_0x131850;try{return await this['client'][_0xf3f8db(0x574)](_0x1bcb5f),{'update':_0xf3f8db(0x819)};}catch(_0x112f25){throw new I(_0xf3f8db(0x48e),_0x112f25['toString']());}}async['updateProfileStatus'](_0x190c4e){const _0x16a275=a0_0x131850;try{return await this['client'][_0x16a275(0x60b)](_0x190c4e),{'update':_0x16a275(0x819)};}catch(_0x3f4f73){throw new I(_0x16a275(0x3a9),_0x3f4f73[_0x16a275(0x6a2)]());}}async[a0_0x131850(0x177)](_0x4ad8a7){const _0x1b2410=a0_0x131850;try{let _0x4654f2;if((0x0,P[_0x1b2410(0x28e)])(_0x4ad8a7)){let _0x101aef=new Date()[_0x1b2410(0x31c)](),_0x4eeef0=_0x4ad8a7+_0x1b2410(0x4d1)+_0x101aef;_0x4654f2=(await Z[_0x1b2410(0x1c2)]['get'](_0x4eeef0,{'responseType':_0x1b2410(0x61a)}))[_0x1b2410(0x5d0)];}else{if((0x0,P['isBase64'])(_0x4ad8a7))_0x4654f2=Buffer[_0x1b2410(0x25a)](_0x4ad8a7,_0x1b2410(0x511));else throw new w(_0x1b2410(0x28b));}return await this['client'][_0x1b2410(0x177)](this[_0x1b2410(0x468)]['wuid'],_0x4654f2),{'update':_0x1b2410(0x819)};}catch(_0x4cd723){throw new I(_0x1b2410(0x3bf),_0x4cd723[_0x1b2410(0x6a2)]());}}async[a0_0x131850(0x77e)](){const _0x458be3=a0_0x131850;try{return await this[_0x458be3(0x23d)][_0x458be3(0x77e)](this['instance'][_0x458be3(0x577)]),{'update':_0x458be3(0x819)};}catch(_0x5598d5){throw new I(_0x458be3(0x4ab),_0x5598d5[_0x458be3(0x6a2)]());}}async[a0_0x131850(0x238)](_0x24a26c){const _0x1cef48=a0_0x131850;try{let _0x1e184a=_0x24a26c['participants'][_0x1cef48(0x4e4)](_0x507ca4=>this[_0x1cef48(0x593)](_0x507ca4)),{id:_0x1a6315}=await this[_0x1cef48(0x23d)][_0x1cef48(0x337)](_0x24a26c['subject'],_0x1e184a);return _0x24a26c?.[_0x1cef48(0x459)]&&await this[_0x1cef48(0x23d)][_0x1cef48(0x463)](_0x1a6315,_0x24a26c[_0x1cef48(0x459)]),{'metadata':await this['client'][_0x1cef48(0x720)](_0x1a6315)};}catch(_0x5f57ab){throw this['logger'][_0x1cef48(0x4e7)](this[_0x1cef48(0x682)]+'\x20('+this[_0x1cef48(0x468)][_0x1cef48(0x577)]+_0x1cef48(0x442)+(_0x5f57ab instanceof Error?_0x5f57ab[_0x1cef48(0x66c)]:JSON['stringify'](_0x5f57ab,null,0x2))),new I('Error\x20creating\x20group',_0x5f57ab[_0x1cef48(0x6a2)]());}}async[a0_0x131850(0x336)](_0x4ea63f){const _0x5a4e64=a0_0x131850;try{let _0x37f08a;if((0x0,P['isURL'])(_0x4ea63f[_0x5a4e64(0x630)])){let _0x27b82a=new Date()[_0x5a4e64(0x31c)](),_0x6ceed9=_0x4ea63f[_0x5a4e64(0x630)]+_0x5a4e64(0x4d1)+_0x27b82a;_0x37f08a=(await Z[_0x5a4e64(0x1c2)][_0x5a4e64(0x5b0)](_0x6ceed9,{'responseType':_0x5a4e64(0x61a)}))[_0x5a4e64(0x5d0)];}else{if((0x0,P['isBase64'])(_0x4ea63f[_0x5a4e64(0x630)]))_0x37f08a=Buffer['from'](_0x4ea63f[_0x5a4e64(0x630)],'base64');else throw new w(_0x5a4e64(0x28b));}return await this[_0x5a4e64(0x23d)]['updateProfilePicture'](_0x4ea63f[_0x5a4e64(0x73f)],_0x37f08a),{'update':_0x5a4e64(0x819)};}catch(_0x20e1e0){throw new I(_0x5a4e64(0x7bc),_0x20e1e0[_0x5a4e64(0x6a2)]());}}async[a0_0x131850(0x339)](_0x24bc45){const _0x870ec3=a0_0x131850;try{return await this[_0x870ec3(0x23d)][_0x870ec3(0x463)](_0x24bc45['groupJid'],_0x24bc45['description']),{'update':_0x870ec3(0x819)};}catch(_0x593304){throw new I(_0x870ec3(0x3e4),_0x593304['toString']());}}async[a0_0x131850(0x4b7)](_0x5ae46c){const _0x50c7ae=a0_0x131850;try{return await this['client'][_0x50c7ae(0x767)](_0x5ae46c[_0x50c7ae(0x73f)],_0x5ae46c[_0x50c7ae(0x228)]),{'update':'success'};}catch(_0x596b3d){throw new I(_0x50c7ae(0x6f2),_0x596b3d[_0x50c7ae(0x6a2)]());}}async[a0_0x131850(0x399)](_0x48947e){const _0x492937=a0_0x131850;try{let _0x434895=await this[_0x492937(0x23d)][_0x492937(0x20c)](_0x48947e[_0x492937(0x73f)],_0x48947e[_0x492937(0x1d3)]);return{'success':!0x0};}catch(_0x207b92){throw new w('Error\x20updating\x20setting',_0x207b92[_0x492937(0x6a2)]());}}async[a0_0x131850(0x374)](_0x5ce23c){const _0x21adbf=a0_0x131850;try{return await this[_0x21adbf(0x23d)][_0x21adbf(0x491)](_0x5ce23c[_0x21adbf(0x73f)],_0x5ce23c[_0x21adbf(0x563)]),{'update':_0x21adbf(0x819)};}catch(_0x392a65){throw new I('Error\x20change\x20group\x20setting',_0x392a65['toString']());}}async[a0_0x131850(0x5d2)](_0x44bb73){const _0xe3dd21=a0_0x131850;try{if(_0x44bb73['restrict']===!0x0&&await this['client']['groupSettingUpdate'](_0x44bb73[_0xe3dd21(0x73f)],_0xe3dd21(0x5e6)),_0x44bb73[_0xe3dd21(0x6ba)]===!0x1&&await this[_0xe3dd21(0x23d)]['groupSettingUpdate'](_0x44bb73[_0xe3dd21(0x73f)],_0xe3dd21(0x453)),_0x44bb73[_0xe3dd21(0x6ee)]===!0x0&&await this[_0xe3dd21(0x23d)][_0xe3dd21(0x491)](_0x44bb73['groupJid'],_0xe3dd21(0x19b)),_0x44bb73[_0xe3dd21(0x6ee)]===!0x1&&await this[_0xe3dd21(0x23d)]['groupSettingUpdate'](_0x44bb73['groupJid'],_0xe3dd21(0x702)),_0x44bb73[_0xe3dd21(0x672)]===!0x0&&await this[_0xe3dd21(0x23d)][_0xe3dd21(0x731)](_0x44bb73[_0xe3dd21(0x73f)],_0xe3dd21(0x4d5)),_0x44bb73[_0xe3dd21(0x672)]===!0x1&&await this[_0xe3dd21(0x23d)][_0xe3dd21(0x731)](_0x44bb73[_0xe3dd21(0x73f)],'admin_add'),_0x44bb73[_0xe3dd21(0x4b1)]===!0x0&&await this[_0xe3dd21(0x23d)]['groupJoinApprovalMode'](_0x44bb73[_0xe3dd21(0x73f)],'on'),_0x44bb73['joinApprovalMode']===!0x1&&await this[_0xe3dd21(0x23d)][_0xe3dd21(0x25d)](_0x44bb73[_0xe3dd21(0x73f)],_0xe3dd21(0x806)),typeof _0x44bb73['expiration']<'u'&&_0x44bb73[_0xe3dd21(0x1d3)]!==null&&await this[_0xe3dd21(0x23d)]['groupToggleEphemeral'](_0x44bb73['groupJid'],_0x44bb73[_0xe3dd21(0x1d3)]),_0x44bb73[_0xe3dd21(0x228)]&&await this[_0xe3dd21(0x23d)][_0xe3dd21(0x767)](_0x44bb73[_0xe3dd21(0x73f)],_0x44bb73[_0xe3dd21(0x228)]),_0x44bb73[_0xe3dd21(0x459)]&&await this['client'][_0xe3dd21(0x463)](_0x44bb73['groupJid'],_0x44bb73[_0xe3dd21(0x459)]),_0x44bb73[_0xe3dd21(0x630)]){let _0x5494c1;if((0x0,P[_0xe3dd21(0x28e)])(_0x44bb73[_0xe3dd21(0x630)])){let _0x5ce785=new Date()[_0xe3dd21(0x31c)](),_0x2a9502=_0x44bb73[_0xe3dd21(0x630)]+_0xe3dd21(0x4d1)+_0x5ce785;_0x5494c1=(await Z[_0xe3dd21(0x1c2)][_0xe3dd21(0x5b0)](_0x2a9502,{'responseType':_0xe3dd21(0x61a)}))[_0xe3dd21(0x5d0)];}else{if((0x0,P[_0xe3dd21(0x443)])(_0x44bb73['image']))_0x5494c1=Buffer[_0xe3dd21(0x25a)](_0x44bb73[_0xe3dd21(0x630)],_0xe3dd21(0x511));else throw new w(_0xe3dd21(0x28b));}await this[_0xe3dd21(0x23d)][_0xe3dd21(0x177)](_0x44bb73['groupJid'],_0x5494c1);}return await this['findGroup']({'groupJid':_0x44bb73[_0xe3dd21(0x73f)]},_0xe3dd21(0x58d));}catch(_0x5d9999){throw new I(_0xe3dd21(0x2bf),_0x5d9999[_0xe3dd21(0x6a2)]());}}async[a0_0x131850(0x389)](_0x3de393){const _0x98ceb6=a0_0x131850;try{if(_0x3de393[_0x98ceb6(0x340)]==='approve'||_0x3de393[_0x98ceb6(0x340)]==='reject'){let _0x1d1dcd=_0x3de393[_0x98ceb6(0x248)]['map'](_0x927d92=>this[_0x98ceb6(0x593)](_0x927d92));await this[_0x98ceb6(0x23d)][_0x98ceb6(0x4d0)](_0x3de393[_0x98ceb6(0x73f)],_0x1d1dcd,_0x3de393[_0x98ceb6(0x340)]);}else{let _0x21d69f=_0x3de393['participants']['map'](_0x302a60=>this[_0x98ceb6(0x593)](_0x302a60));await this['client'][_0x98ceb6(0x4c4)](_0x3de393[_0x98ceb6(0x73f)],_0x21d69f,_0x3de393[_0x98ceb6(0x340)]);}return await this['findGroup']({'groupJid':_0x3de393['groupJid']},_0x98ceb6(0x58d));}catch(_0x2f39ab){throw new w(_0x98ceb6(0x36f),_0x2f39ab[_0x98ceb6(0x6a2)]());}}async[a0_0x131850(0x276)](_0x3ae9a4){const _0x4ab03a=a0_0x131850;try{return await this[_0x4ab03a(0x23d)]['groupGetInviteInfo'](_0x3ae9a4[_0x4ab03a(0x18b)]);}catch(_0x210395){throw new I(_0x4ab03a(0x4e3),_0x210395['toString']());}}async[a0_0x131850(0x82f)](_0x872e31,_0x7e3283=a0_0x131850(0x666)){const _0xde14f6=a0_0x131850;try{let _0x1bb317=await this['client'][_0xde14f6(0x720)](_0x872e31[_0xde14f6(0x73f)]),_0x5a52d6=[];try{_0x5a52d6=await this[_0xde14f6(0x23d)][_0xde14f6(0x2b9)](_0x872e31['groupJid']);}catch(_0x4e7d4d){this[_0xde14f6(0x2d2)][_0xde14f6(0x1ef)](this[_0xde14f6(0x682)]+'\x20('+this['instance']['wuid']+_0xde14f6(0x5fc)+_0x872e31['groupJid']+':\x20'+(_0x4e7d4d instanceof Error?_0x4e7d4d[_0xde14f6(0x66c)]:JSON['stringify'](_0x4e7d4d,null,0x2)));}let _0xc115d3=null;try{_0xc115d3=(await this[_0xde14f6(0x32d)](_0x872e31['groupJid'],null,!0x0))[_0xde14f6(0x751)][_0xde14f6(0x645)];}catch(_0x686cc5){this[_0xde14f6(0x2d2)]['verbose'](this[_0xde14f6(0x682)]+'\x20('+this['instance']['wuid']+_0xde14f6(0x2db)+_0x872e31[_0xde14f6(0x73f)]+':\x20'+(_0x686cc5 instanceof Error?_0x686cc5['message']:JSON['stringify'](_0x686cc5,null,0x2)));}let _0x10ef37=_0x1bb317[_0xde14f6(0x248)][_0xde14f6(0x4e4)](_0x337132=>_0x337132['id']),_0x437f9b=_0x5a52d6[_0xde14f6(0x4e4)](_0x35944a=>_0x35944a[_0xde14f6(0x178)]),_0x1fda02=await this['repository'][_0xde14f6(0x794)][_0xde14f6(0x79b)]([..._0x10ef37,..._0x437f9b]),_0x4d95df=_0x1bb317['participants'][_0xde14f6(0x4e4)](_0xfa5fc=>{const _0x1041c9=_0xde14f6;let _0x473191=_0x1fda02[_0x1041c9(0x518)](_0x3d48d7=>_0x3d48d7[_0x1041c9(0x39d)]===_0xfa5fc['id']);return{'id':_0xfa5fc['id'],'status':_0xfa5fc['admin']?_0xfa5fc[_0x1041c9(0x210)]:'normal','pushName':_0x473191?.['name'],'profilePictureUrl':_0x473191?.[_0x1041c9(0x645)]};}),_0x28de23=_0x5a52d6['map'](_0xa16bc8=>{const _0x212748=_0xde14f6;let _0x28f7b4=_0x1fda02['find'](_0x2592d9=>_0x2592d9[_0x212748(0x39d)]===_0xa16bc8['jid']);return{'id':_0xa16bc8[_0x212748(0x178)],'status':_0x212748(0x48f),'pushName':_0x28f7b4?.['name'],'profilePictureUrl':_0x28f7b4?.[_0x212748(0x645)],'request_method':_0xa16bc8[_0x212748(0x498)],'request_time':_0xa16bc8[_0x212748(0x6b9)]};}),_0x18ffb1=[..._0x4d95df,..._0x28de23];_0x1bb317[_0xde14f6(0x248)]=_0x18ffb1;let _0x27e366=await this[_0xde14f6(0x5c7)]['chat'][_0xde14f6(0x5e3)]({'where':{'_id':_0x872e31[_0xde14f6(0x73f)]}},{'imagechat':_0xc115d3,'name':_0x1bb317[_0xde14f6(0x57a)],'group_size':_0x1bb317[_0xde14f6(0x1a1)],'group_announce':_0x1bb317[_0xde14f6(0x6ee)],'group_isCommunity':_0x1bb317['isCommunity'],'lastcache':Date['now']()},this[_0xde14f6(0x468)][_0xde14f6(0x577)]);return _0x27e366&&F(this[_0xde14f6(0x682)],_0xde14f6(0x534),{'chat':_0x27e366}),{'metadata':_0x1bb317,'image':_0xc115d3};}catch(_0x30d2db){if(_0x7e3283===_0xde14f6(0x58d))return;throw new j(_0xde14f6(0x4f1),_0x30d2db[_0xde14f6(0x6a2)]());}}async[a0_0x131850(0x48b)](){const _0x1a7f2f=a0_0x131850;try{let _0x26c09a=await this[_0x1a7f2f(0x23d)][_0x1a7f2f(0x444)](),_0x165598=Object[_0x1a7f2f(0x2ef)](_0x26c09a)[_0x1a7f2f(0x408)](_0x401c44=>(0x0,f[_0x1a7f2f(0x195)])(_0x401c44?.['id']))[_0x1a7f2f(0x4e4)](async _0x337300=>{const _0xc94c87=_0x1a7f2f;try{let _0x11090d=await this[_0xc94c87(0x23d)][_0xc94c87(0x7b5)](_0x337300['id'],_0xc94c87(0x6fe)),_0x13e00b=await this[_0xc94c87(0x32d)](_0x337300['id'],_0x337300[_0xc94c87(0x57a)],!0x1),_0x259d4f=_0x13e00b[_0xc94c87(0x751)][_0xc94c87(0x645)],_0x965e7d={'groupJid':_0x337300?.['id'],'subject':_0x337300?.[_0xc94c87(0x57a)],'subjectOwner':_0x337300?.[_0xc94c87(0x67e)]?.['split']('@')[0x0],'subjectTime':_0x337300?.[_0xc94c87(0x3ba)],'size':_0x337300?.[_0xc94c87(0x248)]?.[_0xc94c87(0x724)],'owner':_0x337300?.[_0xc94c87(0x41c)]?.['split']('@')[0x0],'creation':_0x337300?.[_0xc94c87(0x629)],'desc':_0x337300?.[_0xc94c87(0x79c)],'restrict':_0x337300?.[_0xc94c87(0x6ba)],'announce':_0x337300?.[_0xc94c87(0x6ee)],'image':_0x259d4f,'isCommunity':_0x337300?.['isCommunity'],'joinApprovalMode':_0x337300?.[_0xc94c87(0x4b1)],'memberCanAddParticipant':_0x337300?.[_0xc94c87(0x672)]},_0x3291a7=await this['repository'][_0xc94c87(0x801)][_0xc94c87(0x5e3)]({'where':{'_id':_0x337300?.['id']}},{'imagechat':_0x13e00b['cachedContact'][_0xc94c87(0x645)],'name':_0x337300?.['subject'],'group_size':_0x337300?.['size'],'group_announce':_0x337300?.[_0xc94c87(0x6ee)],'group_isCommunity':_0x337300?.['isCommunity'],'lastcache':Date['now']()},this['instance'][_0xc94c87(0x577)]);return _0x3291a7&&F(this[_0xc94c87(0x682)],'chats',{'chat':_0x3291a7}),_0x965e7d;}catch(_0x65e0b5){return this[_0xc94c87(0x2d2)][_0xc94c87(0x1ef)](this[_0xc94c87(0x682)]+'\x20('+this[_0xc94c87(0x468)]['wuid']+_0xc94c87(0x3d8)+_0x337300['id']+':\x20'+(_0x65e0b5 instanceof Error?_0x65e0b5['message']:JSON[_0xc94c87(0x74e)](_0x65e0b5,null,0x2))),null;}}),_0xbc8c6a=(await Promise['all'](_0x165598))['filter'](_0x26b7b8=>_0x26b7b8!==null);return console['log'](_0xbc8c6a['length']+_0x1a7f2f(0x5d7)),_0xbc8c6a;}catch(_0x4fb0b4){throw new j('Error\x20fetching\x20group',_0x4fb0b4[_0x1a7f2f(0x6a2)]());}}async[a0_0x131850(0x351)](){const _0x206f8c=a0_0x131850;try{let _0x5ae9b7=[],_0x1693c9=await this[_0x206f8c(0x23d)]['groupFetchAllParticipating'](),_0x17355f=Object[_0x206f8c(0x2ef)](_0x1693c9),_0x4938da=_0x17355f[_0x206f8c(0x408)](_0x99793e=>(0x0,f[_0x206f8c(0x195)])(_0x99793e?.['id']))[_0x206f8c(0x4e4)](async _0x46eb14=>{const _0x20b8cb=_0x206f8c;try{return await this[_0x20b8cb(0x23d)][_0x20b8cb(0x7b5)](_0x46eb14['id'],_0x20b8cb(0x6fe));}catch(_0x57deaa){return this[_0x20b8cb(0x2d2)][_0x20b8cb(0x1ef)](this['instanceName']+'\x20('+this[_0x20b8cb(0x468)][_0x20b8cb(0x577)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x46eb14['id']+':\x20'+(_0x57deaa instanceof Error?_0x57deaa[_0x20b8cb(0x66c)]:JSON[_0x20b8cb(0x74e)](_0x57deaa,null,0x2))),null;}}),_0x4bfe7f=await Promise[_0x206f8c(0x306)](_0x4938da);for(let _0x2df673=0x0;_0x2df673<_0x17355f[_0x206f8c(0x724)];_0x2df673++){let _0x54f924=_0x17355f[_0x2df673];if((0x0,f['isJidGroup'])(_0x54f924?.['id'])){_0x5ae9b7[_0x206f8c(0x1b9)]({'groupJid':_0x54f924?.['id'],'subject':_0x54f924?.[_0x206f8c(0x57a)],'subjectOwner':_0x54f924?.[_0x206f8c(0x67e)]?.[_0x206f8c(0x5a5)]('@')[0x0],'subjectTime':_0x54f924?.['subjectTime'],'size':_0x54f924?.[_0x206f8c(0x248)]?.[_0x206f8c(0x724)],'owner':_0x54f924?.['owner']?.['split']('@')[0x0],'creation':_0x54f924?.['creation'],'desc':_0x54f924?.['desc'],'restrict':_0x54f924?.[_0x206f8c(0x6ba)],'announce':_0x54f924?.['announce'],'image':_0x4bfe7f[_0x2df673],'isCommunity':_0x54f924?.[_0x206f8c(0x7a1)],'joinApprovalMode':_0x54f924?.['joinApprovalMode'],'memberCanAddParticipant':_0x54f924?.['memberAddMode']});let _0x1cca67=await this[_0x206f8c(0x5c7)]['chat'][_0x206f8c(0x5e3)]({'where':{'_id':_0x54f924?.['id']}},{'imagechat':_0x4bfe7f[_0x2df673],'name':_0x54f924?.[_0x206f8c(0x57a)],'group_size':_0x54f924?.[_0x206f8c(0x1a1)],'group_announce':_0x54f924?.[_0x206f8c(0x6ee)],'group_isCommunity':_0x54f924?.[_0x206f8c(0x7a1)],'lastcache':Date[_0x206f8c(0x447)]()},this[_0x206f8c(0x468)][_0x206f8c(0x577)]);_0x1cca67&&F(this[_0x206f8c(0x682)],_0x206f8c(0x534),{'chat':_0x1cca67});}}return _0x5ae9b7;}catch(_0x24012a){throw new j(_0x206f8c(0x4f1),_0x24012a[_0x206f8c(0x6a2)]());}}async[a0_0x131850(0x18b)](_0x4a24ef){const _0x502c73=a0_0x131850;try{let _0x3777c2=await this[_0x502c73(0x23d)][_0x502c73(0x528)](_0x4a24ef[_0x502c73(0x73f)]);return{'inviteUrl':_0x502c73(0x64f)+_0x3777c2,'inviteCode':_0x3777c2};}catch(_0xc1819a){throw new j('No\x20invite\x20code',_0xc1819a['toString']());}}async[a0_0x131850(0x714)](_0x245f6a){const _0x110104=a0_0x131850;try{let _0x5c43b7=await this['client'][_0x110104(0x740)](_0x245f6a['groupJid']);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x5c43b7,'inviteCode':_0x5c43b7};}catch(_0x4f2f73){throw new j(_0x110104(0x7ff),_0x4f2f73[_0x110104(0x6a2)]());}}async[a0_0x131850(0x4ee)](_0x4b8d54){const _0x4a880d=a0_0x131850;try{if((0x0,P[_0x4a880d(0x28e)])(_0x4b8d54[_0x4a880d(0x18b)]))var _0x1a14f1=_0x4b8d54[_0x4a880d(0x18b)][_0x4a880d(0x5a5)]('/')[0x3];else var _0x1a14f1=_0x4b8d54[_0x4a880d(0x18b)];let _0x4f1db2=await this[_0x4a880d(0x23d)][_0x4a880d(0x52f)](_0x1a14f1);return this[_0x4a880d(0x2d2)][_0x4a880d(0x1ef)](this['instanceName']+'\x20('+this[_0x4a880d(0x468)][_0x4a880d(0x577)]+'):\x20'+_0x4f1db2),{'join':!0x0,'inviteCode':_0x1a14f1,'groupJid':_0x4f1db2};}catch(_0x304bba){throw new j(_0x4a880d(0x705),_0x304bba[_0x4a880d(0x6a2)]());}}async[a0_0x131850(0x38c)](_0x57a871){const _0x4e636b=a0_0x131850;try{return{'participants':(await this['client'][_0x4e636b(0x720)](_0x57a871[_0x4e636b(0x73f)]))[_0x4e636b(0x248)]};}catch(_0x1e7fe7){throw new j(_0x4e636b(0x279),_0x1e7fe7[_0x4e636b(0x6a2)]());}}async[a0_0x131850(0x551)](_0x2e65cb){const _0x4c46e1=a0_0x131850;try{return await this['client'][_0x4c46e1(0x4c9)](_0x2e65cb[_0x4c46e1(0x73f)]),{'groupJid':_0x2e65cb[_0x4c46e1(0x73f)],'leave':!0x0};}catch(_0x4e4577){throw new w('Unable\x20to\x20leave\x20the\x20group',_0x4e4577[_0x4c46e1(0x6a2)]());}}async[a0_0x131850(0x5bb)](_0xad1a83){const _0x13f744=a0_0x131850;return await this['sendMessageWithTyping'](_0xad1a83[_0x13f744(0x649)],{'poll':{'name':_0xad1a83['pollMessage']?.[_0x13f744(0x228)],'selectableCount':_0xad1a83[_0x13f744(0x5bb)]['selectableCount'],'values':_0xad1a83[_0x13f744(0x5bb)][_0x13f744(0x2ef)]}},_0xad1a83?.[_0x13f744(0x19e)]);}async['listMessage'](_0x2c5cde){const _0xa4d3e4=a0_0x131850;return await this[_0xa4d3e4(0x2fc)](_0x2c5cde[_0xa4d3e4(0x649)],{'listMessage':{'title':_0x2c5cde[_0xa4d3e4(0x4d9)][_0xa4d3e4(0x628)],'description':_0x2c5cde['listMessage'][_0xa4d3e4(0x459)],'buttonText':_0x2c5cde[_0xa4d3e4(0x4d9)]?.[_0xa4d3e4(0x388)],'footerText':_0x2c5cde[_0xa4d3e4(0x4d9)]?.['footerText'],'sections':_0x2c5cde['listMessage'][_0xa4d3e4(0x55c)],'listType':0x2}},_0x2c5cde?.[_0xa4d3e4(0x19e)]);}async[a0_0x131850(0x721)](_0x4b8e1c){const _0x4811cd=a0_0x131850;let _0x3a6956;if(_0x4b8e1c[_0x4811cd(0x721)][_0x4811cd(0x65a)]===_0x4811cd(0x62a)){let _0x23a87e=_0x4b8e1c[_0x4811cd(0x721)][_0x4811cd(0x373)][_0x4811cd(0x56a)]('\x0a'),_0x5769aa='',_0x391acc='';_0x23a87e!==-0x1?(_0x5769aa=_0x4b8e1c[_0x4811cd(0x721)][_0x4811cd(0x373)][_0x4811cd(0x703)](0x0,_0x23a87e)[_0x4811cd(0x32a)](),_0x391acc=_0x4b8e1c[_0x4811cd(0x721)]['text'][_0x4811cd(0x703)](_0x23a87e+0x1)):_0x391acc=_0x4b8e1c[_0x4811cd(0x721)][_0x4811cd(0x373)];let _0x304635=_0x4b8e1c[_0x4811cd(0x721)]['choices']['filter'](_0x57c4bf=>_0x57c4bf[_0x4811cd(0x32a)]()!==''),_0x3fa002=this['createSectionsFromValues'](_0x304635);_0x3a6956={'listMessage':{'title':_0x5769aa,'description':_0x391acc,'buttonText':_0x4b8e1c[_0x4811cd(0x721)]['buttonText']||'Selecione','footerText':_0x4b8e1c[_0x4811cd(0x721)][_0x4811cd(0x56d)],'sections':_0x3fa002,'listType':0x2}};}else{if(_0x4b8e1c[_0x4811cd(0x721)]['type']===_0x4811cd(0x41f)){let _0x260ea9=_0x4b8e1c[_0x4811cd(0x721)][_0x4811cd(0x80c)][_0x4811cd(0x408)](_0x89709f=>!(_0x89709f[_0x4811cd(0x4c1)]('[')&&_0x89709f[_0x4811cd(0x4c3)](']'))&&_0x89709f[_0x4811cd(0x32a)]()!=='')['map'](_0x1980b6=>_0x1980b6[_0x4811cd(0x5a5)]('\x0a')[0x0]);_0x3a6956={'poll':{'name':_0x4b8e1c[_0x4811cd(0x721)][_0x4811cd(0x373)],'selectableCount':_0x4b8e1c['menuMessage'][_0x4811cd(0x65d)]||0x1,'values':_0x260ea9}};}}return await this[_0x4811cd(0x2fc)](_0x4b8e1c[_0x4811cd(0x649)],_0x3a6956,_0x4b8e1c?.[_0x4811cd(0x19e)]);}[a0_0x131850(0x637)](_0x4a483e){const _0x4c23a9=a0_0x131850;let _0x8ea674=[],_0x348aea={'rows':[]};return _0x4a483e[_0x4c23a9(0x773)](_0x9de581=>{const _0x1f5e8d=_0x4c23a9;if(_0x9de581['startsWith']('[')&&_0x9de581['endsWith'](']'))_0x348aea['rows']['length']>0x0&&_0x8ea674['push'](_0x348aea),_0x348aea={'title':_0x9de581[_0x1f5e8d(0x2af)](0x1,-0x1),'rows':[]};else{let _0x54d476=_0x9de581[_0x1f5e8d(0x5a5)]('\x0a')[_0x1f5e8d(0x4e4)](_0x513c4c=>_0x513c4c[_0x1f5e8d(0x32a)]()),_0x2e9a39=_0x54d476[0x0],_0x46f196=_0x54d476[0x1]||null,_0x18f828=_0x54d476[0x2]||_0x2e9a39;_0x348aea[_0x1f5e8d(0x40b)]['push']({'title':_0x2e9a39,'description':_0x46f196,'rowId':_0x18f828});}}),_0x348aea[_0x4c23a9(0x40b)][_0x4c23a9(0x724)]>0x0&&_0x8ea674[_0x4c23a9(0x1b9)](_0x348aea),_0x8ea674;}async['updateMessage'](_0x1c57df,_0x411b72){const _0x5807a0=a0_0x131850;if(await this[_0x5807a0(0x80e)](_0x1c57df,!0x0)){let _0x3e9538={'where':{'_id':_0x1c57df['id']}},_0x396b05={'status':[_0x411b72['status']][0x0]};try{let _0x2f4187=await this['repository'][_0x5807a0(0x66c)]['update'](_0x3e9538,_0x396b05,this[_0x5807a0(0x468)]['wuid']);_0x2f4187&&F(this[_0x5807a0(0x682)],_0x5807a0(0x719),{'message':_0x2f4187});}catch{}}}[a0_0x131850(0x5fb)](_0x564793){const _0x10eb82=a0_0x131850;let _0x118c84=[];return _0x564793[_0x10eb82(0x773)](_0x423410=>{const _0x257dc7=_0x10eb82;_0x423410[_0x257dc7(0x628)]&&_0x118c84[_0x257dc7(0x1b9)]('['+_0x423410[_0x257dc7(0x628)]+']'),_0x423410[_0x257dc7(0x40b)][_0x257dc7(0x773)](_0x1d99b8=>{const _0x22d7a2=_0x257dc7;_0x118c84[_0x22d7a2(0x1b9)](_0x1d99b8[_0x22d7a2(0x628)]);});}),_0x118c84[_0x10eb82(0x50c)]('|');}['formatVCard'](_0x27a626){const _0xaf8aa6=a0_0x131850;let _0x3cef14=_0x27a626['replace'](/\\n/g,'\x0a')[_0xaf8aa6(0x5a5)]('\x0a')[_0xaf8aa6(0x408)](_0x4a0a03=>_0x4a0a03[_0xaf8aa6(0x2c5)](_0xaf8aa6(0x3c9))||_0x4a0a03[_0xaf8aa6(0x2c5)]('EMAIL')),_0x5082c9='';return _0x3cef14[_0xaf8aa6(0x773)](_0x45d952=>{const _0x55da4c=_0xaf8aa6;let _0x52d92f=/TEL(?:.*):(.+)/,_0x3ad9ba=/EMAIL(?:.*):(.+)/,_0x499345=_0x45d952['match'](_0x52d92f),_0x4e97da=_0x45d952[_0x55da4c(0x796)](_0x3ad9ba);if(_0x499345){let _0x31bf7b=_0x499345[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x55da4c(0x32a)]();_0x5082c9+=_0x55da4c(0x524)+_0x31bf7b+'\x0a';}else{if(_0x4e97da){let _0x4bbf5b=_0x4e97da[0x1]['trim']();_0x5082c9+=_0x55da4c(0x76c)+_0x4bbf5b+'\x0a';}}}),_0x5082c9[_0xaf8aa6(0x32a)]();}async['updateChatWithMessage'](_0x4cc578,_0x38009e,_0x30b751){const _0x34bcfa=a0_0x131850;if(!_0x4cc578['ENABLED'])return;let _0x31624e=_0x38009e[_0x34bcfa(0x502)]['remoteJid']['replace'](/:\d{1,2}@/g,'@'),_0x479f91=_0x38009e['key'][_0x34bcfa(0x5e2)],_0x525d30=_0x31624e['endsWith']('@g.us'),_0x195ad2=_0x38009e['message_normalized']?.[_0x34bcfa(0x373)]||_0x38009e[_0x34bcfa(0x727)]?.[_0x34bcfa(0x61b)]||_0x38009e[_0x34bcfa(0x727)]?.[_0x34bcfa(0x255)]||_0x38009e[_0x34bcfa(0x727)]?.[_0x34bcfa(0x228)],_0x536570={'lastmsg':_0x38009e[_0x34bcfa(0x2fe)]||Date['now'](),'unreadcount':_0x479f91?0x0:0x1,..._0x479f91||_0x525d30?{}:{'name':_0x38009e['pushName']},..._0x525d30?{'group':_0x525d30}:{},...!_0x479f91&&!_0x525d30&&_0x38009e[_0x34bcfa(0x7b5)]?{'imagechat':_0x38009e['profilePictureUrl']}:{}},_0x51f621=await this[_0x34bcfa(0x5c7)]['chat'][_0x34bcfa(0x5e3)]({'where':{'_id':_0x31624e}},_0x536570,this[_0x34bcfa(0x468)][_0x34bcfa(0x577)],{'new':!0x0,'upsert':!0x0});if(_0x51f621['imported']){let _0x549c6c=await this[_0x34bcfa(0x5c7)][_0x34bcfa(0x507)][_0x34bcfa(0x518)]({'where':{}},this[_0x34bcfa(0x468)]['wuid']),_0x4ee0ae=new Set(_0x549c6c[_0x34bcfa(0x4e4)](_0x14636f=>_0x14636f[_0x34bcfa(0x39d)])),_0x1411c7=(_0x51f621['leadInfo']?.[_0x34bcfa(0x82d)]||[])[_0x34bcfa(0x408)](_0x2b7628=>_0x4ee0ae[_0x34bcfa(0x1a5)](_0x2b7628)),_0xcabd41={'leadInfo.etiquetas':_0x1411c7,'imported':!0x1};_0x51f621=await this[_0x34bcfa(0x5c7)][_0x34bcfa(0x801)]['updateOne']({'where':{'_id':_0x31624e}},_0xcabd41,this[_0x34bcfa(0x468)][_0x34bcfa(0x577)]);for(let _0x557561 of _0x1411c7)await this[_0x34bcfa(0x6b8)](_0x557561,_0x31624e);}if(!_0x525d30&&(!_0x51f621?.[_0x34bcfa(0x430)]||!_0x51f621['leadInfo'][_0x34bcfa(0x5f3)])&&_0x38009e[_0x34bcfa(0x4a2)]&&!_0x479f91&&(_0x51f621=await this[_0x34bcfa(0x5c7)]['chat'][_0x34bcfa(0x5e3)]({'where':{'_id':_0x31624e}},{'leadInfo.nome':_0x38009e['pushName']},this[_0x34bcfa(0x468)][_0x34bcfa(0x577)],{'new':!0x0,'upsert':!0x0})),_0x30b751===_0x34bcfa(0x644)&&_0x479f91&&this[_0x34bcfa(0x56c)]?.[_0x34bcfa(0x7e5)][_0x34bcfa(0x45c)]&&!_0x195ad2[_0x34bcfa(0x4c1)](this[_0x34bcfa(0x56c)]?.[_0x34bcfa(0x7e5)][_0x34bcfa(0x3f8)])){let _0x5e4b5f=(this['AutomateSystem']?.[_0x34bcfa(0x7e5)][_0x34bcfa(0x34c)]||0x5)*0xea60,_0x2b9fe7=Date[_0x34bcfa(0x447)]()+_0x5e4b5f;_0x51f621?.['leadInfo']?.[_0x34bcfa(0x219)]===0x0||(await this[_0x34bcfa(0x5c7)][_0x34bcfa(0x801)][_0x34bcfa(0x5e3)]({'where':{'_id':_0x31624e}},{'leadInfo.desativadoFluxoAte':_0x2b9fe7},this[_0x34bcfa(0x468)][_0x34bcfa(0x577)],{'new':!0x0,'upsert':!0x1}),this['logger']['verbose'](this[_0x34bcfa(0x682)]+'\x20('+this[_0x34bcfa(0x468)][_0x34bcfa(0x577)]+_0x34bcfa(0x2b0)+_0x2b9fe7+'.'));}if(_0x51f621)F(this[_0x34bcfa(0x682)],_0x34bcfa(0x534),{'chat':_0x51f621});else{this[_0x34bcfa(0x2d2)][_0x34bcfa(0x4e7)](this[_0x34bcfa(0x682)]+'\x20('+this[_0x34bcfa(0x468)][_0x34bcfa(0x577)]+_0x34bcfa(0x270));return;}if(!this[_0x34bcfa(0x56c)]?.[_0x34bcfa(0x7e5)][_0x34bcfa(0x45c)])return this['logger'][_0x34bcfa(0x1ef)](this['instanceName']+'\x20('+this[_0x34bcfa(0x468)][_0x34bcfa(0x577)]+'):\x20Flow\x20desativado'),null;if(_0x51f621['_id'][_0x34bcfa(0x2c5)](_0x34bcfa(0x196))&&this['AutomateSystem']?.['flowConfig']['ignoreGroups']===!0x0)return this[_0x34bcfa(0x2d2)][_0x34bcfa(0x1ef)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x34bcfa(0x450)),null;if(_0x51f621['leadInfo']){if(_0x51f621[_0x34bcfa(0x430)][_0x34bcfa(0x219)]===0x0||_0x51f621[_0x34bcfa(0x430)][_0x34bcfa(0x23a)])return this['logger'][_0x34bcfa(0x1ef)](this[_0x34bcfa(0x682)]+'\x20('+this['instance'][_0x34bcfa(0x577)]+_0x34bcfa(0x7e1)+_0x31624e+_0x34bcfa(0x285)),null;if(_0x51f621[_0x34bcfa(0x430)][_0x34bcfa(0x219)]>Date[_0x34bcfa(0x447)]()&&!_0x38009e['message_normalized']?.[_0x34bcfa(0x255)])return this[_0x34bcfa(0x2d2)][_0x34bcfa(0x1ef)](this[_0x34bcfa(0x682)]+'\x20('+this[_0x34bcfa(0x468)][_0x34bcfa(0x577)]+_0x34bcfa(0x2a2)+new Date(_0x51f621[_0x34bcfa(0x430)][_0x34bcfa(0x219)])[_0x34bcfa(0x5b1)]()+_0x34bcfa(0x285)),null;}this[_0x34bcfa(0x2d2)][_0x34bcfa(0x1ef)](this[_0x34bcfa(0x682)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x34bcfa(0x4b8)](_0x30b751,_0x38009e);}async[a0_0x131850(0x54f)](_0x54221d,_0x7e37b){const _0x4ac380=a0_0x131850;if(_0x7e37b[_0x4ac380(0x237)]){let _0x215ac0=_0x54221d[_0x4ac380(0x4e4)](async _0x2236f5=>{const _0x1dc036=_0x4ac380;try{let _0x263296={'_id':_0x2236f5['_id'],'owner':_0x2236f5[_0x1dc036(0x41c)],'lastcache':0x0};if(_0x2236f5[_0x1dc036(0x36c)]!==null&&(_0x263296[_0x1dc036(0x36c)]=_0x2236f5[_0x1dc036(0x36c)]),_0x2236f5[_0x1dc036(0x228)]!==null&&(_0x263296[_0x1dc036(0x228)]=_0x2236f5['name']),_0x2236f5['contactname']!==null&&(_0x263296[_0x1dc036(0x6e2)]=_0x2236f5[_0x1dc036(0x6e2)]),_0x2236f5[_0x1dc036(0x75f)]!==null&&(_0x263296[_0x1dc036(0x75f)]=_0x2236f5['imagechat']),_0x2236f5[_0x1dc036(0x75f)]===null&&(_0x263296[_0x1dc036(0x75f)]='Imagem\x20não\x20encontrada'),_0x2236f5['lastmsg']!==null&&(_0x263296[_0x1dc036(0x70c)]=_0x2236f5[_0x1dc036(0x70c)]),_0x2236f5[_0x1dc036(0x6b5)]!==null&&(_0x263296[_0x1dc036(0x6b5)]=_0x2236f5[_0x1dc036(0x6b5)]),_0x2236f5[_0x1dc036(0x1f7)]!==null&&(_0x263296[_0x1dc036(0x1f7)]=_0x2236f5[_0x1dc036(0x1f7)]),Object[_0x1dc036(0x7ad)](_0x263296)[_0x1dc036(0x724)]>0x0)return await this['repository'][_0x1dc036(0x801)][_0x1dc036(0x5e3)]({'where':{'_id':_0x2236f5[_0x1dc036(0x39d)]}},_0x263296,this['instance']['wuid']);}catch(_0x4f47b9){return console[_0x1dc036(0x4e7)]('Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20'+_0x2236f5[_0x1dc036(0x39d)]+':',_0x4f47b9),null;}}),_0x7e6f6f=(await Promise['all'](_0x215ac0))[_0x4ac380(0x408)](_0x16f1da=>_0x16f1da!==null)['length'];this[_0x4ac380(0x2d2)][_0x4ac380(0x1ef)](this['instanceName']+'\x20('+this[_0x4ac380(0x468)][_0x4ac380(0x577)]+_0x4ac380(0x442)+_0x7e6f6f+_0x4ac380(0x733)+this[_0x4ac380(0x468)]['wuid']+_0x4ac380(0x7a5));}}async[a0_0x131850(0x188)](_0x9d5128){const _0x23bc6c=a0_0x131850;this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x23bc6c(0x577)]+_0x23bc6c(0x6ec));let _0x473ae7={'readMessages':[{'remoteJid':_0x9d5128['chatLog'][_0x23bc6c(0x3e6)][_0x23bc6c(0x502)][_0x23bc6c(0x778)],'fromMe':_0x9d5128[_0x23bc6c(0x240)][_0x23bc6c(0x3e6)][_0x23bc6c(0x502)][_0x23bc6c(0x5e2)],'id':_0x9d5128[_0x23bc6c(0x240)][_0x23bc6c(0x3e6)][_0x23bc6c(0x502)]['id']}]};await this[_0x23bc6c(0x5e5)](_0x473ae7);}async[a0_0x131850(0x4b8)](_0xd47a2c,_0x4d9783){const _0x29144f=a0_0x131850;try{let {key:_0x19ca9c,message_normalized:_0x3798c9}=_0x4d9783,_0x29c6af=_0x3798c9,_0x29ded7=_0x3798c9['text']||_0x3798c9['caption']||_0x3798c9['vote']||_0x3798c9[_0x29144f(0x228)],_0x1af518=_0x19ca9c[_0x29144f(0x778)],_0x272949;if(_0x29c6af[_0x29144f(0x502)][_0x29144f(0x5e2)]&&_0x29ded7[_0x29144f(0x32a)]()!==this['AutomateSystem']?.[_0x29144f(0x7e5)][_0x29144f(0x3d9)][_0x29144f(0x32a)]())return this['logger']['verbose'](this[_0x29144f(0x682)]+'\x20('+this[_0x29144f(0x468)][_0x29144f(0x577)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x29c6af[_0x29144f(0x502)]['fromMe']&&_0x29ded7[_0x29144f(0x32a)]()===this[_0x29144f(0x56c)]?.[_0x29144f(0x7e5)][_0x29144f(0x3d9)][_0x29144f(0x32a)]()){this['logger'][_0x29144f(0x1ef)](this[_0x29144f(0x682)]+'\x20('+this[_0x29144f(0x468)][_0x29144f(0x577)]+_0x29144f(0x344));let _0x2880bc=await this['repository'][_0x29144f(0x5c6)][_0x29144f(0x518)]({'remoteJid':_0x1af518,'status':_0x29144f(0x31d)},this[_0x29144f(0x468)]['wuid']);this[_0x29144f(0x2d2)][_0x29144f(0x1ef)](this['instanceName']+'\x20('+this['instance'][_0x29144f(0x577)]+_0x29144f(0x4a4)+_0x2880bc);let _0x4bbae5=Date[_0x29144f(0x447)](),_0x82ee5;return this['AutomateSystem']?.['flowConfig'][_0x29144f(0x3b2)]===0x0?_0x82ee5={'stoppedUntil':_0x4bbae5+0x7591f6200}:_0x82ee5={'stoppedUntil':_0x4bbae5+this[_0x29144f(0x56c)]?.[_0x29144f(0x7e5)][_0x29144f(0x3b2)]*0x3c*0x3e8},this[_0x29144f(0x2d2)][_0x29144f(0x1ef)](this[_0x29144f(0x682)]+'\x20('+this[_0x29144f(0x468)][_0x29144f(0x577)]+_0x29144f(0x3b5)+_0x82ee5),this['updateStopChat'](_0x272949,_0x82ee5[_0x29144f(0x4eb)]),null;}if(_0x29ded7&&_0x29ded7['startsWith'](this['AutomateSystem']?.['flowConfig'][_0x29144f(0x3f8)])&&_0x29ded7[_0x29144f(0x724)]>0x4){let _0x43b265=await this[_0x29144f(0x5c7)][_0x29144f(0x3e2)][_0x29144f(0x5d6)]({'where':{'startCommandWord':_0x29ded7}},this[_0x29144f(0x468)]['wuid']);if(this[_0x29144f(0x2d2)][_0x29144f(0x1ef)](this[_0x29144f(0x682)]+'\x20('+this['instance'][_0x29144f(0x577)]+_0x29144f(0x25c)),_0x43b265)_0x272949=await this[_0x29144f(0x5b2)](_0x43b265,_0x29c6af['key'],_0x29c6af);else return this[_0x29144f(0x2d2)]['verbose'](this['instanceName']+'\x20('+this[_0x29144f(0x468)][_0x29144f(0x577)]+_0x29144f(0x197)),null;}else _0x272949=await this[_0x29144f(0x755)](_0x1af518,_0x29c6af);if(_0x272949){this[_0x29144f(0x2d2)][_0x29144f(0x1ef)](this[_0x29144f(0x682)]+'\x20('+this[_0x29144f(0x468)][_0x29144f(0x577)]+_0x29144f(0x66e)),!_0x19ca9c[_0x29144f(0x5e2)]&&_0x272949[_0x29144f(0x1c5)]&&this['readMessageBot'](_0x272949);let _0xd82b77=await this[_0x29144f(0x1fb)](_0x272949);_0xd82b77&&await this['processblock'](_0x272949,_0xd82b77);}}catch(_0x5bfd0c){this[_0x29144f(0x2d2)][_0x29144f(0x4e7)](this['instanceName']+'\x20('+this[_0x29144f(0x468)]['wuid']+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x5bfd0c instanceof Error?_0x5bfd0c[_0x29144f(0x66c)]:JSON['stringify'](_0x5bfd0c,null,0x2)));}}[a0_0x131850(0x168)](_0x5f1a31,_0x108cbf='',_0x3450b6={}){const _0x3e3238=a0_0x131850;return typeof _0x5f1a31!=_0x3e3238(0x662)||_0x5f1a31===null?(_0x108cbf&&(_0x3450b6[_0x108cbf]=_0x5f1a31),_0x3450b6):(Object[_0x3e3238(0x7a4)](_0x5f1a31)[_0x3e3238(0x773)](([_0x5bc00f,_0x225fa5])=>{const _0x28adc5=_0x3e3238;let _0x43be8a=_0x108cbf?_0x108cbf+'.'+_0x5bc00f:'_'+_0x5bc00f;Array[_0x28adc5(0x24a)](_0x225fa5)?_0x225fa5[_0x28adc5(0x773)]((_0x1837b4,_0x393268)=>{this['flattenObject'](_0x1837b4,_0x43be8a+'['+_0x393268+']',_0x3450b6);}):typeof _0x225fa5==_0x28adc5(0x662)&&_0x225fa5!==null?this[_0x28adc5(0x168)](_0x225fa5,_0x43be8a,_0x3450b6):_0x3450b6[_0x43be8a]=String(_0x225fa5);}),console[_0x3e3238(0x70b)]('FlattenObject\x20result:',_0x3450b6),_0x3450b6);}[a0_0x131850(0x616)](_0x47083e){const _0x470bbc=a0_0x131850;let _0x4a0d10={};for(let _0x201051 of _0x47083e)typeof _0x201051['name']=='string'&&typeof _0x201051[_0x470bbc(0x3bc)]==_0x470bbc(0x2e4)&&(_0x4a0d10[_0x201051[_0x470bbc(0x228)]]=_0x201051[_0x470bbc(0x3bc)]);return _0x4a0d10;}async['NextBlock'](_0x530ddb){const _0x889d3c=a0_0x131850;if(!this[_0x889d3c(0x56c)]?.[_0x889d3c(0x7e5)][_0x889d3c(0x45c)]||_0x530ddb['status']!==_0x889d3c(0x31d)&&_0x530ddb['waitingMenu_id']==='')return null;let _0x595547=_0x530ddb[_0x889d3c(0x240)][_0x889d3c(0x1c1)]||_0x889d3c(0x313);typeof _0x530ddb['chatLog'][_0x889d3c(0x33e)]>'u'&&(_0x530ddb[_0x889d3c(0x240)]['lastCondition']=!0x0);let _0x4730db=_0x530ddb[_0x889d3c(0x240)][_0x889d3c(0x33e)];this[_0x889d3c(0x2d2)][_0x889d3c(0x1ef)](this[_0x889d3c(0x682)]+'\x20('+this[_0x889d3c(0x468)]['wuid']+'):\x20lastBlockId:\x20'+_0x595547+_0x889d3c(0x7ee)+_0x4730db);let _0x222e70=_0x595547===_0x889d3c(0x313)?_0x530ddb[_0x889d3c(0x583)][_0x889d3c(0x518)](_0x113730=>_0x113730['type']===_0x889d3c(0x313)):_0x530ddb['blocks'][_0x889d3c(0x518)](_0x1ce2ec=>_0x1ce2ec[_0x889d3c(0x39d)][_0x889d3c(0x6a2)]()===_0x595547[_0x889d3c(0x6a2)]());if(!_0x222e70)return this[_0x889d3c(0x2d2)][_0x889d3c(0x4e7)](this[_0x889d3c(0x682)]+'\x20('+this[_0x889d3c(0x468)][_0x889d3c(0x577)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x595547),null;let _0x3c401d={'_pushName':_0x530ddb[_0x889d3c(0x240)]['lastReceivedMessage'][_0x889d3c(0x4a2)],..._0x530ddb[_0x889d3c(0x240)][_0x889d3c(0x311)]},_0x3dcefe=null;if(_0x530ddb[_0x889d3c(0x52a)]){let _0x529114=_0x530ddb['chatLog'][_0x889d3c(0x3e6)][_0x889d3c(0x255)],_0x5cdb92=_0x530ddb[_0x889d3c(0x4ef)][_0x889d3c(0x518)](_0x1f94c0=>_0x1f94c0['option']===_0x529114);if(_0x5cdb92){let _0xf010ad=_0x5cdb92[_0x889d3c(0x43c)];if(_0x3dcefe=_0x530ddb[_0x889d3c(0x583)]['find'](_0x1f8390=>_0x1f8390[_0x889d3c(0x7e7)]===_0xf010ad&&_0x1f8390[_0x889d3c(0x69b)]===0x1),_0x222e70['uazapi'][_0x889d3c(0x5b4)]){let _0x3004af={'id':_0x530ddb['waitingMenu_id'],'remoteJid':_0x530ddb['remoteJid'],'fromMe':!0x0};await this[_0x889d3c(0x1ac)](_0x3004af);}if(_0x222e70[_0x889d3c(0x7fe)][_0x889d3c(0x5b4)]&&_0x222e70[_0x889d3c(0x7fe)][_0x889d3c(0x797)]&&_0x222e70[_0x889d3c(0x7fe)][_0x889d3c(0x490)]===_0x889d3c(0x41f)){let _0x5a3ad7={'number':_0x530ddb[_0x889d3c(0x778)],'options':{'delay':0x0},'textMessage':{'text':_0x889d3c(0x3b7)+_0x530ddb[_0x889d3c(0x525)]+'\x0a*Você\x20respondeu*:\x0a'+_0x529114}};await this[_0x889d3c(0x73c)](_0x5a3ad7);}_0x530ddb['status']=_0x889d3c(0x31d),_0x530ddb[_0x889d3c(0x52a)]='',_0x530ddb[_0x889d3c(0x525)]='',_0x530ddb['waitingMenu_replyOptions']=[];}else{this[_0x889d3c(0x2d2)]['verbose'](this[_0x889d3c(0x682)]+'\x20('+this[_0x889d3c(0x468)][_0x889d3c(0x577)]+_0x889d3c(0x175));let _0xdeae68={'activatedCount':_0x530ddb[_0x889d3c(0x240)][_0x889d3c(0x6f8)][_0x889d3c(0x408)](_0x802a24=>String(_0x802a24[_0x889d3c(0x7f2)])===String(_0x595547))[_0x889d3c(0x724)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x222e70[_0x889d3c(0x7fe)][_0x889d3c(0x486)]){let _0x46a3b9={'number':_0x530ddb[_0x889d3c(0x778)],'options':{'delay':0x0},'textMessage':{'text':_0x222e70[_0x889d3c(0x7fe)]['pollErrorMessage']}};await this[_0x889d3c(0x73c)](_0x46a3b9);}if(_0x222e70['maxActives']!==void 0x0&&_0xdeae68['activatedCount']>=_0x222e70[_0x889d3c(0x59a)]){let _0x20e983=Date[_0x889d3c(0x447)](),_0x4623b7=_0x222e70[_0x889d3c(0x2c8)]??0xa;isNaN(_0x4623b7)&&(_0x4623b7=0xa);let _0xc1b415=_0x20e983+_0x4623b7*0x3c*0x3e8;_0xdeae68[_0x889d3c(0x7e0)]=_0xc1b415,_0xdeae68[_0x889d3c(0x787)][_0x889d3c(0x1b9)](_0x889d3c(0x42c)),this[_0x889d3c(0x1d8)](_0x530ddb,_0xc1b415),_0x530ddb['waitingMenu_id']='',_0x530ddb['waitingMenu_text']='',_0x530ddb[_0x889d3c(0x4ef)]=[];}return this[_0x889d3c(0x360)](_0x530ddb,_0x222e70,_0xdeae68,!0x0),null;}}if(_0x4730db&&_0x222e70[_0x889d3c(0x43c)]&&!_0x530ddb[_0x889d3c(0x52a)]){let _0x10bff5=_0x530ddb[_0x889d3c(0x583)][_0x889d3c(0x408)](_0x28cd77=>_0x28cd77[_0x889d3c(0x7e7)][_0x889d3c(0x6a2)]()===_0x222e70[_0x889d3c(0x43c)][_0x889d3c(0x6a2)]())['sort']((_0x325e8c,_0x66bc13)=>_0x325e8c[_0x889d3c(0x69b)]-_0x66bc13['order']);_0x10bff5['length']>0x0&&(_0x3dcefe=_0x10bff5[0x0]);}if(!_0x3dcefe){let _0xf10f03=_0x222e70[_0x889d3c(0x7e7)],_0x273333=_0x530ddb[_0x889d3c(0x583)]['filter'](_0x298ac8=>_0x298ac8['groupId']===_0xf10f03&&_0x298ac8['order']>_0x222e70['order'])['sort']((_0x345ee2,_0x55e0aa)=>_0x345ee2[_0x889d3c(0x69b)]-_0x55e0aa[_0x889d3c(0x69b)]);_0x273333[_0x889d3c(0x724)]>0x0&&(_0x3dcefe=_0x273333[0x0]);}if(!_0x3dcefe)return _0x530ddb['status']=_0x889d3c(0x2f5),null;_0x530ddb[_0x889d3c(0x240)]['realVariables']=_0x3c401d;let _0x9f630=JSON[_0x889d3c(0x298)](JSON['stringify'](_0x3dcefe));return this[_0x889d3c(0x35a)](_0x9f630,_0x530ddb[_0x889d3c(0x240)][_0x889d3c(0x311)]),_0x530ddb[_0x889d3c(0x240)]['lastBlockId']=_0x9f630[_0x889d3c(0x39d)],_0x530ddb[_0x889d3c(0x240)][_0x889d3c(0x33e)]=!0x0,_0x9f630;}[a0_0x131850(0x3f0)](_0x2664db,_0x855b9d){const _0x5f34a2=a0_0x131850;return _0x2664db[_0x5f34a2(0x357)](/\{\{([^}]+)\}\}/g,(_0x5068ce,_0x4c4d07)=>_0x855b9d[_0x4c4d07]||'');}[a0_0x131850(0x35a)](_0x30ad23,_0x37e7d4){const _0x189ff8=a0_0x131850;for(let _0x3bfc4b in _0x30ad23)typeof _0x30ad23[_0x3bfc4b]==_0x189ff8(0x2e4)?_0x30ad23[_0x3bfc4b]=this[_0x189ff8(0x3f0)](_0x30ad23[_0x3bfc4b],_0x37e7d4):typeof _0x30ad23[_0x3bfc4b]==_0x189ff8(0x662)&&this['replaceVariablesInObject'](_0x30ad23[_0x3bfc4b],_0x37e7d4);}async[a0_0x131850(0x667)](_0x489b33,_0x3cc4af){const _0x3e22c6=a0_0x131850;let _0x356c18=_0x3cc4af[_0x3e22c6(0x39d)];if(_0x489b33[_0x3e22c6(0x240)]&&_0x489b33[_0x3e22c6(0x240)]['blockLogs']){let _0x44f7d8=_0x489b33[_0x3e22c6(0x240)][_0x3e22c6(0x6f8)][_0x3e22c6(0x408)](_0x2407d0=>String(_0x2407d0[_0x3e22c6(0x7f2)])===String(_0x356c18))[_0x3e22c6(0x669)]();if(_0x44f7d8&&_0x44f7d8[_0x3e22c6(0x4e7)]&&_0x3cc4af['stopIfLastReturnedError'])return _0x489b33[_0x3e22c6(0x42e)]=_0x3e22c6(0x2f5),await this[_0x3e22c6(0x423)](_0x489b33),null;}if(_0x3cc4af['type']===_0x3e22c6(0x7fe)&&_0x3cc4af[_0x3e22c6(0x7fe)]['command']===_0x3e22c6(0x224)&&_0x489b33[_0x3e22c6(0x52a)])return _0x489b33[_0x3e22c6(0x240)][_0x3e22c6(0x1c1)]=_0x356c18,await this[_0x3e22c6(0x423)](_0x489b33),null;let _0x37edb0=await this['NextBlock'](_0x489b33);if(_0x489b33[_0x3e22c6(0x240)]&&_0x489b33[_0x3e22c6(0x240)][_0x3e22c6(0x6f8)]){let _0x2b8dfb=_0x489b33['chatLog']['blockLogs'][_0x3e22c6(0x408)](_0x31a3af=>String(_0x31a3af[_0x3e22c6(0x7f2)])===String(_0x356c18))[_0x3e22c6(0x724)];if(_0x3cc4af['maxActives']!==void 0x0&&_0x2b8dfb>=_0x3cc4af[_0x3e22c6(0x59a)]){let _0x398a85=Date[_0x3e22c6(0x447)](),_0x3ac916=_0x3cc4af['stopMinutesMaxActives']??0xa;isNaN(_0x3ac916)&&(_0x3ac916=0xa);let _0x2200a5=_0x398a85+_0x3ac916*0x3c*0x3e8,_0x71dec1={'newStoppedUntil':_0x2200a5};return this['updateStopChat'](_0x489b33,_0x2200a5),this[_0x3e22c6(0x360)](_0x489b33,_0x3cc4af,_0x71dec1,!0x0),null;}}_0x37edb0&&_0x37edb0[_0x3e22c6(0x65a)]!==_0x3e22c6(0x230)&&await this[_0x3e22c6(0x4c7)](_0x489b33,_0x37edb0),_0x37edb0||await this[_0x3e22c6(0x423)](_0x489b33),_0x37edb0&&_0x37edb0['type']===_0x3e22c6(0x230)&&(_0x489b33[_0x3e22c6(0x240)][_0x3e22c6(0x1c1)]=_0x356c18,await this[_0x3e22c6(0x423)](_0x489b33));}async[a0_0x131850(0x4c7)](_0x3b63e9,_0x12fb97){const _0x3a23a6=a0_0x131850;try{let _0xc431a4=_0x12fb97['type'];this[_0x3a23a6(0x2d2)][_0x3a23a6(0x1ef)](this[_0x3a23a6(0x682)]+'\x20('+this['instance'][_0x3a23a6(0x577)]+_0x3a23a6(0x23f)+_0xc431a4);let _0x2e47ca={'uazapi':()=>this[_0x3a23a6(0x818)](_0x3b63e9,_0x12fb97),'save':()=>this[_0x3a23a6(0x63b)](_0x3b63e9,_0x12fb97),'stop':()=>this[_0x3a23a6(0x3d9)](_0x3b63e9,_0x12fb97),'condition':()=>this[_0x3a23a6(0x795)](_0x3b63e9,_0x12fb97),'varedit':()=>this['processvaredits'](_0x3b63e9,_0x12fb97),'apirequest':()=>this[_0x3a23a6(0x176)](_0x3b63e9,_0x12fb97),'goToFlow':()=>this['processgoToFlow'](_0x3b63e9,_0x12fb97)}[_0xc431a4];_0x2e47ca&&await _0x2e47ca();}catch(_0x4bb1ee){this[_0x3a23a6(0x2d2)][_0x3a23a6(0x4e7)](this['instanceName']+'\x20('+this['instance'][_0x3a23a6(0x577)]+_0x3a23a6(0x2cd)+(_0x4bb1ee instanceof Error?_0x4bb1ee[_0x3a23a6(0x66c)]:JSON[_0x3a23a6(0x74e)](_0x4bb1ee,null,0x2)));}}async[a0_0x131850(0x4af)](_0x3d4db4,_0x2f9d40){const _0x97fdf7=a0_0x131850;if(this[_0x97fdf7(0x2d2)][_0x97fdf7(0x1ef)](this[_0x97fdf7(0x682)]+'\x20('+this[_0x97fdf7(0x468)][_0x97fdf7(0x577)]+_0x97fdf7(0x53e)),!_0x3d4db4||!_0x2f9d40)return this[_0x97fdf7(0x2d2)]['error'](this[_0x97fdf7(0x682)]+'\x20('+this[_0x97fdf7(0x468)][_0x97fdf7(0x577)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this[_0x97fdf7(0x360)](_0x3d4db4,_0x2f9d40,{},!0x0,!0x0),console[_0x97fdf7(0x70b)](_0x97fdf7(0x5d5)),console['log'](_0x2f9d40);let _0x276e5a=_0x2f9d40[_0x97fdf7(0x4f0)];console[_0x97fdf7(0x70b)]('flowname:\x20',_0x276e5a),_0x3d4db4=await this[_0x97fdf7(0x800)](_0x276e5a,_0x3d4db4[_0x97fdf7(0x778)],_0x3d4db4[_0x97fdf7(0x240)]['realVariables']),this['logger'][_0x97fdf7(0x1ef)](this[_0x97fdf7(0x682)]+'\x20('+this[_0x97fdf7(0x468)][_0x97fdf7(0x577)]+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x5867f3=await this['NextBlock'](_0x3d4db4);_0x5867f3&&await this[_0x97fdf7(0x4c7)](_0x3d4db4,_0x5867f3);}async['createConversationforgoToFlow'](_0x2e837a,_0x52c3da,_0x528a66){const _0x4d95f1=a0_0x131850;this[_0x4d95f1(0x2d2)]['verbose'](this['instanceName']+'\x20('+this[_0x4d95f1(0x468)]['wuid']+'):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]');try{if(_0x2e837a=await this['repository'][_0x4d95f1(0x3e2)][_0x4d95f1(0x5d6)]({'where':{'name':_0x2e837a}},this[_0x4d95f1(0x468)]['wuid']),!_0x2e837a)return this[_0x4d95f1(0x2d2)]['error'](this[_0x4d95f1(0x682)]+'\x20('+this['instance'][_0x4d95f1(0x577)]+_0x4d95f1(0x627)),null;let _0x1a9c14=require(_0x4d95f1(0x63d))[_0x4d95f1(0x1ea)],_0x25a28b=Date['now'](),_0x3568c4=_0x4d95f1(0x313),_0x55fdbc={},_0x1b150b={},_0x261c19={..._0x2e837a,'chatLog':null},_0x5c6c9a={'lastReceivedMessage':_0x55fdbc,'lastSendMessage':_0x1b150b,'lastBlockId':_0x3568c4,'lastCondition':!0x0,'realVariables':_0x528a66};_0x261c19['chatLog']=_0x5c6c9a,_0x261c19[_0x4d95f1(0x240)][_0x4d95f1(0x311)]={..._0x528a66},delete _0x261c19[_0x4d95f1(0x39d)],_0x261c19['_id']=new _0x1a9c14(),_0x261c19[_0x4d95f1(0x717)]=_0x25a28b,_0x261c19[_0x4d95f1(0x42e)]=_0x4d95f1(0x31d),_0x261c19['remoteJid']=_0x52c3da;let _0xbe87e5=await this[_0x4d95f1(0x5c7)][_0x4d95f1(0x5c6)]['updateOne'](_0x261c19[_0x4d95f1(0x39d)],_0x261c19,this[_0x4d95f1(0x468)][_0x4d95f1(0x577)]);return this['logger']['verbose'](this[_0x4d95f1(0x682)]+'\x20('+this[_0x4d95f1(0x468)]['wuid']+_0x4d95f1(0x538)),_0xbe87e5?_0x261c19:null;}catch(_0x56003d){throw this[_0x4d95f1(0x2d2)][_0x4d95f1(0x4e7)](this[_0x4d95f1(0x682)]+'\x20('+this[_0x4d95f1(0x468)][_0x4d95f1(0x577)]+_0x4d95f1(0x31f)+(_0x56003d instanceof Error?_0x56003d['message']:JSON[_0x4d95f1(0x74e)](_0x56003d,null,0x2))),new w(_0x56003d[_0x4d95f1(0x66c)]);}}async[a0_0x131850(0x176)](_0x1fd147,_0x3cc929){const _0x2f6640=a0_0x131850;let _0x47ecb0,_0x5a1abf;try{let _0x50c49b=_0x3cc929[_0x2f6640(0x20a)];if(!_0x50c49b||!_0x50c49b[_0x2f6640(0x431)]||!_0x50c49b['method'])throw new Error(_0x2f6640(0x49f));let _0x3a1f75;(['https://api.openai.com/v1/audio/speech','https://api.openai.com/v1/images/generations',_0x2f6640(0x6ed)][_0x2f6640(0x50b)](_0x1c4a44=>_0x50c49b[_0x2f6640(0x431)][_0x2f6640(0x2c5)](_0x1c4a44))||_0x50c49b[_0x2f6640(0x3a6)])&&(_0x3a1f75='arraybuffer');let _0x3099ce='\u205f',_0x50f33a;try{_0x50f33a=JSON[_0x2f6640(0x298)](_0x50c49b[_0x2f6640(0x757)][_0x2f6640(0x357)](new RegExp(_0x3099ce,'g'),''));}catch(_0x2a51c9){throw _0x2a51c9;}let _0x2b07c2={'method':_0x50c49b['method'],'url':_0x50c49b[_0x2f6640(0x431)],'headers':_0x50c49b['header']||{},..._0x50c49b[_0x2f6640(0x588)][_0x2f6640(0x221)]()!==_0x2f6640(0x72a)&&_0x50c49b['bodyString']?{'data':JSON[_0x2f6640(0x298)](_0x50c49b[_0x2f6640(0x757)][_0x2f6640(0x357)](new RegExp(_0x3099ce,'g'),''))}:{},..._0x3a1f75&&{'responseType':_0x3a1f75}},_0x425c16=await(0x0,Z[_0x2f6640(0x1c2)])(_0x2b07c2),_0x4913e2=_0x425c16['headers'][_0x2f6640(0x72f)];if(_0x4913e2&&_0x4913e2[_0x2f6640(0x2c5)](_0x2f6640(0x523))){let _0x2a2097=_0x425c16[_0x2f6640(0x5d0)]['replace'](/[\u200B-\u200D\uFEFF]/g,'')[_0x2f6640(0x357)](/\u00A0/g,'\x20')[_0x2f6640(0x357)](/[\u2060]/g,'')[_0x2f6640(0x357)](/\u205F/g,'')[_0x2f6640(0x32a)](),_0x10021b;try{_0x10021b=JSON['parse'](_0x2a2097);}catch{}let _0x172e4c=_0x1fd147[_0x2f6640(0x240)][_0x2f6640(0x311)],_0x492eaf=this[_0x2f6640(0x168)](_0x10021b);return Object[_0x2f6640(0x837)](_0x172e4c,_0x492eaf),_0x1fd147[_0x2f6640(0x240)]['realVariables']=_0x172e4c,_0x5a1abf={'error':!0x1,'apiResponse':_0x10021b},this[_0x2f6640(0x360)](_0x1fd147,_0x3cc929,_0x5a1abf),_0x10021b;}if(_0x4913e2&&(_0x4913e2['includes'](_0x2f6640(0x615))||_0x4913e2['includes'](_0x2f6640(0x630))||_0x4913e2[_0x2f6640(0x2c5)](_0x2f6640(0x520))||_0x4913e2[_0x2f6640(0x2c5)](_0x2f6640(0x181)))){this['logger'][_0x2f6640(0x1ef)](this[_0x2f6640(0x682)]+'\x20('+this['instance'][_0x2f6640(0x577)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x4913e2);let _0x19ad57=(0x0,Re['v4'])(),_0x51e963='',_0x200331={'image/jpeg':_0x2f6640(0x1a4),'image/png':'.png','image/gif':_0x2f6640(0x7f4),'image/webp':_0x2f6640(0x49c),'image/svg+xml':_0x2f6640(0x4f9),'audio/mpeg':_0x2f6640(0x478),'audio/ogg':'.ogg','audio/wav':_0x2f6640(0x6a7),'video/mp4':_0x2f6640(0x6a8),'video/webm':_0x2f6640(0x590),'video/ogg':'.ogv','text/plain':_0x2f6640(0x39e),'application/pdf':_0x2f6640(0x2c7),'application/msword':_0x2f6640(0x2c2),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x2f6640(0x63f),'application/vnd.ms-excel':_0x2f6640(0x50a),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x2f6640(0x4fc)};_0x200331[_0x4913e2]?(_0x51e963=_0x200331[_0x4913e2],this[_0x2f6640(0x2d2)]['verbose'](this['instanceName']+'\x20('+this[_0x2f6640(0x468)]['wuid']+_0x2f6640(0x5dd)+_0x51e963)):(_0x51e963=_0x2f6640(0x673),this[_0x2f6640(0x2d2)][_0x2f6640(0x1ef)](this[_0x2f6640(0x682)]+'\x20('+this[_0x2f6640(0x468)][_0x2f6640(0x577)]+_0x2f6640(0x2fd)+_0x51e963)),_0x19ad57+=_0x51e963,this['logger'][_0x2f6640(0x1ef)](this[_0x2f6640(0x682)]+'\x20('+this[_0x2f6640(0x468)][_0x2f6640(0x577)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x19ad57);let _0x1b70ba=this['configService'][_0x2f6640(0x5b0)](_0x2f6640(0x74c))['URL'];if(!_0x1b70ba){let _0x2b0a96=this[_0x2f6640(0x400)][_0x2f6640(0x5b0)](_0x2f6640(0x363));_0x1b70ba=_0x2f6640(0x7d7)+(_0x2b0a96&&_0x2b0a96[_0x2f6640(0x411)]['split']('/')[0x4]);}let _0x2ebe6a=Buffer[_0x2f6640(0x25a)](_0x425c16[_0x2f6640(0x5d0)]);await this[_0x2f6640(0x199)](_0x2ebe6a,_0x19ad57);let _0x5a14f8=_0x2f6640(0x5ef)+_0x19ad57;_0x5a14f8=''+_0x1b70ba+_0x5a14f8,_0x47ecb0={'fileUrl':_0x5a14f8},_0x1fd147[_0x2f6640(0x240)]['realVariables'][_0x2f6640(0x232)]=_0x5a14f8;let _0xfcd2c9=_0x1fd147[_0x2f6640(0x240)][_0x2f6640(0x311)],_0x2dc307=this[_0x2f6640(0x168)](_0x47ecb0);return Object[_0x2f6640(0x837)](_0xfcd2c9,_0x2dc307),_0x1fd147['chatLog'][_0x2f6640(0x311)]=_0xfcd2c9,_0x5a1abf={'error':!0x1,'apiResponse':{'fileUrl':_0x5a14f8}},this[_0x2f6640(0x360)](_0x1fd147,_0x3cc929,_0x5a1abf),_0x47ecb0;}}catch(_0x166762){console['error'](_0x2f6640(0x56e),_0x166762[_0x2f6640(0x66c)]),_0x166762[_0x2f6640(0x2eb)]&&(_0x47ecb0=_0x166762['response'][_0x2f6640(0x5d0)]);let _0x396983=_0x1fd147[_0x2f6640(0x240)][_0x2f6640(0x311)],_0x563008=this[_0x2f6640(0x168)](_0x47ecb0);return Object[_0x2f6640(0x837)](_0x396983,_0x563008),_0x1fd147['chatLog'][_0x2f6640(0x311)]=_0x396983,_0x5a1abf={'error':!0x0,'errorLog':_0x166762[_0x2f6640(0x6a2)](),'apiResponse':_0x47ecb0},this[_0x2f6640(0x360)](_0x1fd147,_0x3cc929,_0x5a1abf),{'success':!0x1};}}[a0_0x131850(0x32e)](_0x29713b,_0xa8168a){const _0x3785de=a0_0x131850;let _0x3a6b28=_0x1138ce=>{const _0x4beb1f=a0_0x1581;let _0x249183=_0x1138ce[_0x4beb1f(0x357)](/[^0-9.,-]/g,'')[_0x4beb1f(0x357)](',','.'),_0x5bb38e=parseFloat(_0x249183);return isNaN(_0x5bb38e)?null:_0x5bb38e;},_0x23eacf=_0xa8168a['firstValue'],_0xdea5f4=_0xa8168a[_0x3785de(0x2ce)];typeof _0x23eacf==_0x3785de(0x2e4)&&(_0x23eacf=this['replaceVariables'](_0x23eacf,_0x29713b['chatLog']['realVariables'])??''),typeof _0xdea5f4==_0x3785de(0x2e4)&&(_0xdea5f4=this[_0x3785de(0x3f0)](_0xdea5f4,_0x29713b[_0x3785de(0x240)][_0x3785de(0x311)])??'');let _0x28bfcf=null;if(!_0xa8168a[_0x3785de(0x655)])return null;switch(this[_0x3785de(0x2d2)][_0x3785de(0x1ef)](this[_0x3785de(0x682)]+'\x20('+this[_0x3785de(0x468)][_0x3785de(0x577)]+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x23eacf),this['logger'][_0x3785de(0x1ef)](this['instanceName']+'\x20('+this[_0x3785de(0x468)]['wuid']+_0x3785de(0x212)+_0xdea5f4),_0xa8168a[_0x3785de(0x655)]){case'+':case'-':case'*':case'/':let _0x3ce38d=_0x3a6b28(_0x23eacf||'0'),_0x418133=_0x3a6b28(_0xdea5f4||'0');if(_0x3ce38d===null)return null;switch(_0xa8168a[_0x3785de(0x655)]){case'+':_0x28bfcf=_0x3ce38d+(_0x418133??0x0);break;case'-':_0x28bfcf=_0x3ce38d-(_0x418133??0x0);break;case'*':_0x28bfcf=_0x3ce38d*(_0x418133??0x1);break;case'/':_0x418133!==0x0&&(_0x28bfcf=_0x3ce38d/(_0x418133??0x1));break;}break;case'findAndReplace':case _0x3785de(0x811):let _0x1c1895=_0xdea5f4,_0x419c0e=_0xa8168a[_0x3785de(0x28d)];if(typeof _0x419c0e==_0x3785de(0x2e4)&&(_0x419c0e=this[_0x3785de(0x3f0)](_0x419c0e,_0x29713b[_0x3785de(0x240)][_0x3785de(0x311)])??''),_0x1c1895&&_0x419c0e!==void 0x0){let _0x11f69e=_0xa8168a['editOperator']===_0x3785de(0x16f)?new RegExp(_0x1c1895[_0x3785de(0x357)](/[-\/\\^$*+?.()|[\]{}]/g,_0x3785de(0x173)),'g'):new RegExp(_0x1c1895,'g');_0x28bfcf=_0x23eacf[_0x3785de(0x357)](_0x11f69e,_0x419c0e);}else console[_0x3785de(0x2c4)](_0x3785de(0x696));break;case _0x3785de(0x4fd):_0x28bfcf=_0xdea5f4;break;case _0x3785de(0x209):let _0x446d50=_0x23eacf[_0x3785de(0x796)](new RegExp(_0xdea5f4||''));_0x28bfcf=_0x446d50?_0x446d50[0x0]:'';break;case'truncatedto':_0x28bfcf=_0x23eacf['slice'](0x0,parseInt(_0xdea5f4||'0'));break;case _0x3785de(0x505):let _0x29f905=parseInt(_0xdea5f4||'0');_0x28bfcf=_0x23eacf[_0x3785de(0x2af)](_0x23eacf['length']-_0x29f905);break;case'toBrazilianNumberFormat':let _0x201d6d=_0x3a6b28(_0x23eacf),_0x37608e=parseInt(_0xdea5f4||'0');_0x37608e=Math[_0x3785de(0x6d3)](_0x37608e),_0x201d6d!==null?_0x28bfcf=_0x201d6d[_0x3785de(0x5b1)]('pt-BR',{'minimumFractionDigits':_0x37608e,'maximumFractionDigits':_0x37608e}):(console[_0x3785de(0x2c4)]('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x23eacf),_0x28bfcf=null);break;case _0x3785de(0x1e0):let _0x34bacf=_0x3a6b28(_0x23eacf);_0x34bacf!==null?_0x28bfcf=_0x34bacf['toLocaleString'](_0x3785de(0x2a7),{'style':_0x3785de(0x2f8),'currency':_0x3785de(0x634)}):(console[_0x3785de(0x2c4)](_0x3785de(0x3e1)+_0x23eacf),_0x28bfcf=null);break;case _0x3785de(0x29b):_0x28bfcf=_0x23eacf[_0x3785de(0x221)]();break;case _0x3785de(0x64a):_0x28bfcf=_0x23eacf['toLowerCase']();break;case'capitalizedWords':_0x28bfcf=_0x23eacf[_0x3785de(0x5a5)]('\x20')[_0x3785de(0x4e4)](_0x19e1ed=>_0x19e1ed[_0x3785de(0x769)](0x0)[_0x3785de(0x221)]()+_0x19e1ed[_0x3785de(0x2af)](0x1)[_0x3785de(0x611)]())['join']('\x20');break;case _0x3785de(0x7fa):_0x28bfcf=_0x23eacf[_0x3785de(0x32a)]();break;default:_0x28bfcf=_0x23eacf;}return _0x28bfcf!==null?_0x28bfcf[_0x3785de(0x6a2)]():null;}async[a0_0x131850(0x7f1)](_0x3fb353,_0x356fe9){const _0x213831=a0_0x131850;try{let _0x3c4f0b=_0x3fb353[_0x213831(0x22a)]?.[_0x213831(0x408)](_0x333df7=>_0x333df7[_0x213831(0x7f2)]===_0x356fe9[_0x213831(0x39d)]?.[_0x213831(0x6a2)]())||[],_0x29cef3=_0x356fe9['saveVariable'],_0x452d84=null,_0x40719b=[],_0x5c6e8a=_0x3fb353[_0x213831(0x240)]['realVariables'][_0x29cef3];_0x40719b[_0x213831(0x1b9)](_0x213831(0x187)+_0x5c6e8a+'\x22');for(let _0x393528 of _0x3c4f0b){_0x393528[_0x213831(0x396)]=_0x5c6e8a,_0x452d84=_0x393528[_0x213831(0x396)];let _0x39b6bd;try{_0x39b6bd=this[_0x213831(0x32e)](_0x3fb353,_0x393528);}catch(_0x281303){console[_0x213831(0x4e7)](_0x213831(0x3ee)+_0x281303[_0x213831(0x66c)]);continue;}if(_0x39b6bd!==null){let _0x59b6cb='Operador:\x20\x22'+_0x393528[_0x213831(0x655)]+'\x22',_0x3e66dd=[_0x213831(0x1e0),'upperCase',_0x213831(0x64a),'capitalizedWords',_0x213831(0x7fa)];_0x393528[_0x213831(0x655)]===_0x213831(0x16f)||_0x393528['editOperator']===_0x213831(0x811)?_0x59b6cb+=_0x213831(0x31b)+_0x393528[_0x213831(0x2ce)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x393528['replaceValue']+'\x22':!_0x3e66dd[_0x213831(0x2c5)](_0x393528['editOperator'])&&_0x393528[_0x213831(0x2ce)]!==null&&_0x393528['secondValue']!==void 0x0&&(_0x59b6cb+=_0x213831(0x822)+_0x393528[_0x213831(0x2ce)]+'\x22'),_0x59b6cb+=_0x213831(0x2f6)+_0x39b6bd+'.',_0x40719b['push'](_0x59b6cb);}_0x39b6bd!==null&&(_0x5c6e8a=_0x39b6bd);}if(_0x3fb353[_0x213831(0x240)][_0x213831(0x311)]&&_0x356fe9[_0x213831(0x3bb)]){_0x3fb353[_0x213831(0x240)]['realVariables'][_0x356fe9[_0x213831(0x3bb)]]=_0x5c6e8a;let _0x2c6b66={'variable':_0x356fe9[_0x213831(0x3bb)],'oldValue':_0x452d84,'newValue':_0x5c6e8a,'moreLogs':_0x40719b};try{this[_0x213831(0x360)](_0x3fb353,_0x356fe9,_0x2c6b66);}catch(_0x46ab59){console[_0x213831(0x4e7)](_0x213831(0x57b)+_0x46ab59[_0x213831(0x66c)]);}}return _0x29cef3;}catch(_0x2ed1c7){return console['error'](_0x213831(0x5e0)+_0x2ed1c7[_0x213831(0x66c)]),null;}}async['processConditions'](_0x5a2186,_0x4f300c){const _0xf23e9d=a0_0x131850;try{let _0x3a72e1=[],_0x10f5cc=_0x5a2186[_0xf23e9d(0x5ee)][_0xf23e9d(0x408)](_0x44c554=>_0x44c554[_0xf23e9d(0x7f2)]===_0x4f300c['_id'][_0xf23e9d(0x6a2)]()),_0x42046a=null,_0x165eb8=!0x1;for(let _0x77f800 of _0x10f5cc){let _0x5b8f92=this[_0xf23e9d(0x435)](_0x5a2186,_0x77f800);_0x3a72e1['push'](_0xf23e9d(0x24d)+_0x77f800['firstValue']+_0xf23e9d(0x1c6)+_0x77f800[_0xf23e9d(0x3f7)]+_0xf23e9d(0x334)+_0x77f800[_0xf23e9d(0x2ce)]+_0xf23e9d(0x2dc)+_0x5b8f92),_0x42046a===null?_0x42046a=_0x5b8f92:_0x77f800[_0xf23e9d(0x16a)]==='and'?(_0x42046a=_0x42046a&&_0x5b8f92,_0x5b8f92||(_0x165eb8=!0x0)):_0x77f800[_0xf23e9d(0x16a)]==='or'&&(_0x165eb8||(_0x42046a=_0x42046a||_0x5b8f92));}_0x42046a===null&&(_0x42046a=!0x0);let _0x86a5dd={'moreLogs':_0x3a72e1};_0x5a2186[_0xf23e9d(0x240)]['lastCondition']=_0x42046a,await this[_0xf23e9d(0x360)](_0x5a2186,_0x4f300c,_0x86a5dd);}catch(_0x68bdf5){this[_0xf23e9d(0x2d2)][_0xf23e9d(0x4e7)](this[_0xf23e9d(0x682)]+'\x20('+this['instance'][_0xf23e9d(0x577)]+_0xf23e9d(0x23c)+(_0x68bdf5 instanceof Error?_0x68bdf5[_0xf23e9d(0x66c)]:JSON['stringify'](_0x68bdf5,null,0x2)));}}[a0_0x131850(0x435)](_0x375a66,_0xc3af70){const _0x2ca6ca=a0_0x131850;let _0x219dc7=_0xc3af70[_0x2ca6ca(0x396)],_0x1f1b76=_0xc3af70['secondValue'];typeof _0x219dc7=='string'&&(_0x219dc7=this[_0x2ca6ca(0x3f0)](_0x219dc7,_0x375a66['chatLog'][_0x2ca6ca(0x311)])??''),typeof _0x1f1b76==_0x2ca6ca(0x2e4)&&(_0x1f1b76=this[_0x2ca6ca(0x3f0)](_0x1f1b76,_0x375a66[_0x2ca6ca(0x240)]['realVariables'])??'');try{switch(_0xc3af70[_0x2ca6ca(0x3f7)]){case'equal':return _0x219dc7===_0x1f1b76;case _0x2ca6ca(0x44c):return _0x219dc7!==_0x1f1b76;case _0x2ca6ca(0x4b3):return this[_0x2ca6ca(0x4b3)](_0x219dc7,_0x1f1b76);case _0x2ca6ca(0x287):return!this['contains'](_0x219dc7,_0x1f1b76);case _0x2ca6ca(0x38d):return parseFloat(_0x219dc7)>parseFloat(_0x1f1b76);case _0x2ca6ca(0x786):return parseFloat(_0x219dc7)<parseFloat(_0x1f1b76);case'notEmpty':return _0x219dc7!=='';case _0x2ca6ca(0x54b):return _0x219dc7==='';case'matchRegex':return new RegExp(_0x1f1b76)[_0x2ca6ca(0x827)](_0x219dc7);case _0x2ca6ca(0x83e):return!new RegExp(_0x1f1b76)[_0x2ca6ca(0x827)](_0x219dc7);default:return!0x1;}}catch(_0x240eb5){return console['error']('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0x240eb5),!0x1;}}[a0_0x131850(0x4b3)](_0x3dd74d,_0x533c55){const _0x21df90=a0_0x131850;if(_0x3dd74d===_0x533c55&&/^\d+$/[_0x21df90(0x827)](_0x3dd74d))return!0x0;if(this[_0x21df90(0x488)](_0x3dd74d)&&/^\d+$/[_0x21df90(0x827)](_0x533c55)){let _0x553d58=_0x3dd74d[_0x21df90(0x5a5)](',')['map'](_0x220923=>parseInt(_0x220923[_0x21df90(0x32a)]())),_0x5e33d8=parseInt(_0x533c55);return _0x553d58['includes'](_0x5e33d8);}return _0x3dd74d[_0x21df90(0x2c5)](_0x533c55);}[a0_0x131850(0x488)](_0x3aa758){const _0xee3664=a0_0x131850;return/^\d+(,\d+)*$/[_0xee3664(0x827)](_0x3aa758);}['processConditionsTest'](_0x3b0129){const _0x3a9411=a0_0x131850;let _0x15cd10=!0x0,_0x52a6f8=null;for(let _0x5100ac of _0x3b0129){let _0x43c86a=this[_0x3a9411(0x40a)](_0x5100ac);if(_0x52a6f8==='or'&&_0x43c86a){_0x15cd10=!0x0;break;}if(_0x52a6f8===_0x3a9411(0x561)&&!_0x43c86a){_0x15cd10=!0x1;break;}_0x52a6f8=_0x5100ac[_0x3a9411(0x16a)];}return _0x15cd10;}[a0_0x131850(0x40a)](_0x5b9674){const _0x1d1b4e=a0_0x131850;let _0x5190a8=_0x5b9674[_0x1d1b4e(0x396)],_0x8de7f0=_0x5b9674['secondValue'];try{switch(_0x5b9674[_0x1d1b4e(0x3f7)]){case'equal':return String(_0x5190a8)===String(_0x8de7f0);case _0x1d1b4e(0x44c):return String(_0x5190a8)!==String(_0x8de7f0);case'contains':return String(_0x5190a8)[_0x1d1b4e(0x2c5)](String(_0x8de7f0));case'notContains':return!String(_0x5190a8)['includes'](String(_0x8de7f0));case _0x1d1b4e(0x38d):return parseFloat(String(_0x5190a8))>parseFloat(String(_0x8de7f0));case _0x1d1b4e(0x786):return parseFloat(String(_0x5190a8))<parseFloat(String(_0x8de7f0));case'notEmpty':return String(_0x5190a8)!=='';case _0x1d1b4e(0x54b):return String(_0x5190a8)==='';case _0x1d1b4e(0x3d4):return new RegExp(String(_0x8de7f0))[_0x1d1b4e(0x827)](String(_0x5190a8));case'notMatchRegex':return!new RegExp(String(_0x8de7f0))[_0x1d1b4e(0x827)](String(_0x5190a8));default:return!0x1;}}catch(_0x3b1f0e){return console[_0x1d1b4e(0x4e7)](_0x1d1b4e(0x3ff)+_0x3b1f0e),!0x1;}}async[a0_0x131850(0x63b)](_0x202877,_0x5cac5d){const _0x38921a=a0_0x131850;if(this[_0x38921a(0x2d2)][_0x38921a(0x1ef)](this['instanceName']+'\x20('+this[_0x38921a(0x468)][_0x38921a(0x577)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x202877||!_0x5cac5d)return this[_0x38921a(0x2d2)][_0x38921a(0x4e7)](this['instanceName']+'\x20('+this[_0x38921a(0x468)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x4c71ff=_0x202877['chatLog'][_0x38921a(0x3e6)][_0x38921a(0x502)]['id'];this['logger'][_0x38921a(0x1ef)](this['instanceName']+'\x20('+this[_0x38921a(0x468)][_0x38921a(0x577)]+_0x38921a(0x80f)+_0x4c71ff);let _0x22da5d={'key':{'id':_0x4c71ff}},_0x49674e=_0x5cac5d[_0x38921a(0x3bb)];_0x202877[_0x38921a(0x240)][_0x38921a(0x311)]['_'+_0x49674e+_0x38921a(0x3ad)]=null,_0x202877[_0x38921a(0x240)][_0x38921a(0x311)]['_'+_0x49674e+_0x38921a(0x17a)]=null,_0x202877[_0x38921a(0x240)][_0x38921a(0x311)]['_'+_0x49674e+_0x38921a(0x381)]=null,_0x202877[_0x38921a(0x240)][_0x38921a(0x311)]['_'+_0x49674e+'.type']=_0x202877[_0x38921a(0x240)]['lastReceivedMessage']['type'];try{let _0x465990=await this[_0x38921a(0x7ab)](_0x22da5d);this['logger'][_0x38921a(0x1ef)](this[_0x38921a(0x682)]+'\x20('+this[_0x38921a(0x468)][_0x38921a(0x577)]+_0x38921a(0x71d)),_0x202877[_0x38921a(0x240)][_0x38921a(0x311)]['_'+_0x49674e+_0x38921a(0x632)]=_0x465990[_0x38921a(0x232)],_0x202877[_0x38921a(0x240)][_0x38921a(0x311)]['_'+_0x49674e+_0x38921a(0x17a)]=_0x465990['mimetype'];let _0x18a66e=_0x465990[_0x38921a(0x762)]['match'](/\/(\w+)$/),_0x4ca128=_0x18a66e?_0x18a66e[0x1]:null;_0x202877['chatLog']['realVariables']['_'+_0x49674e+_0x38921a(0x381)]=_0x4ca128,this[_0x38921a(0x2d2)][_0x38921a(0x1ef)](this[_0x38921a(0x682)]+'\x20('+this['instance'][_0x38921a(0x577)]+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0x49674e+'\x27.');}catch(_0x3e873c){this[_0x38921a(0x2d2)]['error'](this[_0x38921a(0x682)]+'\x20('+this[_0x38921a(0x468)]['wuid']+_0x38921a(0x706)+_0x3e873c);}let _0x11f2a8=_0x202877[_0x38921a(0x240)]['lastReceivedMessage'][_0x38921a(0x373)]||_0x202877[_0x38921a(0x240)][_0x38921a(0x3e6)][_0x38921a(0x61b)]||_0x202877[_0x38921a(0x240)][_0x38921a(0x3e6)][_0x38921a(0x255)];try{_0x202877[_0x38921a(0x240)][_0x38921a(0x311)]||(_0x202877[_0x38921a(0x240)][_0x38921a(0x311)]={});let _0x3c6e19=_0x202877[_0x38921a(0x240)][_0x38921a(0x311)][_0x49674e];_0x202877[_0x38921a(0x240)]['realVariables'][_0x49674e]=_0x11f2a8;let _0xee2ab4={'variable':_0x49674e,'oldValue':_0x3c6e19,'newValue':_0x11f2a8};this[_0x38921a(0x360)](_0x202877,_0x5cac5d,_0xee2ab4),this[_0x38921a(0x2d2)][_0x38921a(0x1ef)](this[_0x38921a(0x682)]+'\x20('+this[_0x38921a(0x468)]['wuid']+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x2a1dc1){let _0x6a83bc={'error':!0x0,'errorLog':_0x2a1dc1['toString']()};return this['updateConversation'](_0x202877,_0x5cac5d,_0x6a83bc),this[_0x38921a(0x2d2)][_0x38921a(0x4e7)](this['instanceName']+'\x20('+this[_0x38921a(0x468)][_0x38921a(0x577)]+_0x38921a(0x4f7)+(_0x2a1dc1 instanceof Error?_0x2a1dc1[_0x38921a(0x66c)]:JSON[_0x38921a(0x74e)](_0x2a1dc1,null,0x2))),null;}}async[a0_0x131850(0x3d9)](_0x27010b,_0x164731){const _0x103a4b=a0_0x131850;if(this['logger'][_0x103a4b(0x1ef)](this[_0x103a4b(0x682)]+'\x20('+this[_0x103a4b(0x468)][_0x103a4b(0x577)]+_0x103a4b(0x38a)),!_0x27010b||!_0x164731)return this[_0x103a4b(0x2d2)][_0x103a4b(0x4e7)](this[_0x103a4b(0x682)]+'\x20('+this[_0x103a4b(0x468)][_0x103a4b(0x577)]+_0x103a4b(0x2e1)),null;let _0x43c81a=Date['now'](),_0x3c9e4e=parseInt(_0x164731['stopMinutes'],0xa);if(isNaN(_0x3c9e4e))return this['logger']['error'](this['instanceName']+'\x20('+this[_0x103a4b(0x468)][_0x103a4b(0x577)]+_0x103a4b(0x22e)),null;let _0x1db004={'newStoppedUntil':_0x43c81a+_0x3c9e4e*0x3c*0x3e8};return await this['updateConversation'](_0x27010b,_0x164731,_0x1db004,!0x0),null;}async[a0_0x131850(0x818)](_0x5402a3,_0x44758f){const _0x3ae5e1=a0_0x131850;try{switch(_0x44758f[_0x3ae5e1(0x7fe)][_0x3ae5e1(0x1f4)]){case'sendText':await this['uazapiSendText'](_0x5402a3,_0x44758f);break;case'sendMedia':await this[_0x3ae5e1(0x6f0)](_0x5402a3,_0x44758f);break;case'sendLocation':await this[_0x3ae5e1(0x608)](_0x5402a3,_0x44758f);break;case _0x3ae5e1(0x7d2):await this['uazapiSendAudio'](_0x5402a3,_0x44758f);break;case _0x3ae5e1(0x686):await this['uazapiSendContact'](_0x5402a3,_0x44758f);break;case _0x3ae5e1(0x224):await this[_0x3ae5e1(0x684)](_0x5402a3,_0x44758f);break;case'sendMenu':await this[_0x3ae5e1(0x684)](_0x5402a3,_0x44758f);break;case _0x3ae5e1(0x1ac):await this[_0x3ae5e1(0x204)](_0x5402a3,_0x44758f);break;default:this[_0x3ae5e1(0x2d2)][_0x3ae5e1(0x4e7)](this[_0x3ae5e1(0x682)]+'\x20('+this['instance'][_0x3ae5e1(0x577)]+'):\x20Comando\x20desconhecido:\x20'+_0x44758f[_0x3ae5e1(0x7fe)][_0x3ae5e1(0x1f4)]);}}catch(_0x5449b9){this[_0x3ae5e1(0x2d2)][_0x3ae5e1(0x4e7)](this[_0x3ae5e1(0x682)]+'\x20('+this[_0x3ae5e1(0x468)][_0x3ae5e1(0x577)]+'):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20'+(_0x5449b9 instanceof Error?_0x5449b9[_0x3ae5e1(0x66c)]:JSON[_0x3ae5e1(0x74e)](_0x5449b9,null,0x2)));}}async[a0_0x131850(0x360)](_0x1f22d8,_0x466ee0,_0x4746a1,_0xd2d908=!0x1,_0x50bbc1=!0x1){const _0x255f58=a0_0x131850;_0x1f22d8['chatLog'][_0x255f58(0x6f8)]||(_0x1f22d8['chatLog']['blockLogs']=[]);let _0x4d568e=(_0x1f22d8[_0x255f58(0x240)][_0x255f58(0x6f8)]?.['length']??0x0)+0x1,_0x13d674=_0x1f22d8[_0x255f58(0x240)][_0x255f58(0x6f8)][_0x255f58(0x408)](_0x2c2269=>String(_0x2c2269[_0x255f58(0x7f2)])===String(_0x466ee0[_0x255f58(0x39d)]))[_0x255f58(0x724)]+0x1,_0x3c499c=_0x4746a1?.['onTime']??Date['now'](),_0x1fdf3d=_0x4746a1?.[_0x255f58(0x4e7)]?_0x4746a1[_0x255f58(0x27c)]??_0x4746a1['error'][_0x255f58(0x6a2)]():void 0x0,_0x2808da={'onTime':_0x3c499c,'blockId':_0x466ee0[_0x255f58(0x39d)],'order':_0x4d568e,'activatedCount':_0x13d674,'error':_0x4746a1?.[_0x255f58(0x4e7)]??!0x1,'messageId':_0x4746a1?.[_0x255f58(0x29a)],'apiResponse':_0x4746a1?.['apiResponse'],'apiResponseString':_0x4746a1?.[_0x255f58(0x2f1)]?JSON[_0x255f58(0x74e)](_0x4746a1?.[_0x255f58(0x2f1)]):void 0x0,'variable':_0x4746a1?.[_0x255f58(0x683)],'oldValue':_0x4746a1?.[_0x255f58(0x3d7)],'newValue':_0x4746a1?.[_0x255f58(0x4a9)],'newStoppedUntil':_0x4746a1?.[_0x255f58(0x7e0)],'moreLogs':_0x4746a1?.[_0x255f58(0x787)],'errorLog':_0x1fdf3d};if(_0x4746a1['moreLogs']&&_0x4746a1['moreLogs'][_0x255f58(0x724)]>0x0){let _0x81209d=_0x4746a1[_0x255f58(0x787)][_0x255f58(0x4e4)](_0x577727=>this[_0x255f58(0x432)](_0x577727,_0x1f22d8[_0x255f58(0x240)][_0x255f58(0x311)]));_0x2808da[_0x255f58(0x787)]=_0x81209d;}_0x1f22d8[_0x255f58(0x240)][_0x255f58(0x311)]||(_0x1f22d8[_0x255f58(0x240)]['realVariables']={}),_0x1f22d8[_0x255f58(0x240)][_0x255f58(0x311)][_0x255f58(0x7df)]=String(_0x13d674),_0x1f22d8['chatLog'][_0x255f58(0x311)][_0x255f58(0x2d5)]=String(_0x4746a1[_0x255f58(0x4e7)]??!0x1),_0x1f22d8['chatLog'][_0x255f58(0x6f8)][_0x255f58(0x1b9)](_0x2808da),_0x1f22d8[_0x255f58(0x240)]['lastBlockId']=_0x466ee0[_0x255f58(0x39d)]['toString'](),_0x1f22d8[_0x255f58(0x240)]['lastSendMessage']&&(_0x1f22d8[_0x255f58(0x240)][_0x255f58(0x3c4)]=_0x1f22d8[_0x255f58(0x240)][_0x255f58(0x3c4)]),_0x1f22d8[_0x255f58(0x240)][_0x255f58(0x3e6)]&&(_0x1f22d8[_0x255f58(0x240)][_0x255f58(0x3e6)]=_0x1f22d8['chatLog'][_0x255f58(0x3e6)]),_0x1f22d8['chatLog'][_0x255f58(0x33e)]&&(_0x1f22d8[_0x255f58(0x240)][_0x255f58(0x33e)]=_0x1f22d8[_0x255f58(0x240)]['lastCondition']),_0x50bbc1&&(_0x1f22d8['status']=_0x255f58(0x2f5)),_0xd2d908?this['saveConversationToDatabase'](_0x1f22d8):this[_0x255f58(0x667)](_0x1f22d8,_0x466ee0);}[a0_0x131850(0x432)](_0x1ea19d,_0x53f3e5){const _0x3fd9f5=a0_0x131850;return _0x1ea19d[_0x3fd9f5(0x357)](/\{\{([^}]+)\}\}/g,(_0x1d63ea,_0x19235d)=>_0x53f3e5[_0x19235d]?'{{'+_0x19235d+_0x3fd9f5(0x5c4)+_0x53f3e5[_0x19235d]+'\x22':'{{'+_0x19235d+_0x3fd9f5(0x531));}async[a0_0x131850(0x423)](_0x23f040){const _0x2e7ae1=a0_0x131850;try{let _0x18033c=Object[_0x2e7ae1(0x7a4)](_0x23f040[_0x2e7ae1(0x240)][_0x2e7ae1(0x311)])[_0x2e7ae1(0x4e4)](([_0x8997c7,_0x5504d0])=>({'name':_0x8997c7,'value':_0x5504d0})),_0x3d0a47={'status':_0x23f040[_0x2e7ae1(0x42e)],'blocks':_0x23f040[_0x2e7ae1(0x583)],'waitingMenu_id':_0x23f040[_0x2e7ae1(0x52a)],'waitingMenu_text':_0x23f040[_0x2e7ae1(0x525)],'waitingMenu_replyOptions':_0x23f040[_0x2e7ae1(0x4ef)],'chatLog':{'lastBlockId':_0x23f040['chatLog'][_0x2e7ae1(0x1c1)],'lastSendMessage':_0x23f040[_0x2e7ae1(0x240)]['lastSendMessage'],'lastReceivedMessage':_0x23f040[_0x2e7ae1(0x240)][_0x2e7ae1(0x3e6)],'lastCondition':_0x23f040[_0x2e7ae1(0x240)]['lastCondition'],'chatVariables':_0x18033c,'realVariables':_0x23f040['chatLog'][_0x2e7ae1(0x311)],'blockLogs':_0x23f040[_0x2e7ae1(0x240)]['blockLogs']}},_0x5c272c=await this[_0x2e7ae1(0x5c7)][_0x2e7ae1(0x5c6)]['updateOne'](_0x23f040[_0x2e7ae1(0x39d)],_0x3d0a47,this[_0x2e7ae1(0x468)][_0x2e7ae1(0x577)]);if(_0x5c272c){this['logger']['verbose'](this[_0x2e7ae1(0x682)]+'\x20('+this[_0x2e7ae1(0x468)][_0x2e7ae1(0x577)]+_0x2e7ae1(0x1b0)+_0x5c272c[_0x2e7ae1(0x39d)]);try{let _0x52e2d7=[_0x2e7ae1(0x5f3),_0x2e7ae1(0x75b),_0x2e7ae1(0x487),_0x2e7ae1(0x688),_0x2e7ae1(0x42e),_0x2e7ae1(0x74f),_0x2e7ae1(0x1bf),_0x2e7ae1(0x1a6),_0x2e7ae1(0x82d)];if(!this['AutomateSystem']&&(await this[_0x2e7ae1(0x572)](),!this[_0x2e7ae1(0x56c)]))throw new Error(_0x2e7ae1(0x40d));let _0x3ef819=this['AutomateSystem']?.[_0x2e7ae1(0x7c4)]['map'](_0x2386d3=>_0x2386d3['name']),_0x53a0e6={};Object[_0x2e7ae1(0x7a4)](_0x23f040[_0x2e7ae1(0x240)]['realVariables'])['forEach'](([_0x21a620,_0x4defd2])=>{const _0x49ebd3=_0x2e7ae1;_0x52e2d7['includes'](_0x21a620)&&(_0x21a620===_0x49ebd3(0x1a6)&&typeof _0x4defd2==_0x49ebd3(0x2e4)?_0x53a0e6[_0x21a620]=_0x4defd2[_0x49ebd3(0x5a5)](',')[_0x49ebd3(0x4e4)](_0x184edd=>_0x184edd['trim']())[_0x49ebd3(0x408)](_0x12fde3=>_0x12fde3!==''):_0x21a620===_0x49ebd3(0x82d)&&typeof _0x4defd2==_0x49ebd3(0x2e4)?_0x53a0e6[_0x21a620]=_0x4defd2[_0x49ebd3(0x5a5)](',')[_0x49ebd3(0x4e4)](_0x47821a=>_0x47821a[_0x49ebd3(0x32a)]())[_0x49ebd3(0x408)](_0x2aa31f=>_0x2aa31f!==''):_0x53a0e6[_0x21a620]=_0x4defd2);});let _0x24c0c0=_0x23f040['chatLog'][_0x2e7ae1(0x6f8)][_0x23f040[_0x2e7ae1(0x240)][_0x2e7ae1(0x6f8)][_0x2e7ae1(0x724)]-0x1];if(_0x24c0c0){let _0x5d0ed3=_0x24c0c0[_0x2e7ae1(0x7e0)];_0x5d0ed3!==void 0x0&&(_0x53a0e6[_0x2e7ae1(0x219)]=_0x5d0ed3['toString']());}let _0x3568e9=_0x18033c[_0x2e7ae1(0x408)](_0x208485=>_0x3ef819[_0x2e7ae1(0x2c5)](_0x208485[_0x2e7ae1(0x228)]));this[_0x2e7ae1(0x2d2)][_0x2e7ae1(0x1ef)](this[_0x2e7ae1(0x682)]+'\x20('+this[_0x2e7ae1(0x468)][_0x2e7ae1(0x577)]+'):\x20leadInfoVariables'),this[_0x2e7ae1(0x2d2)][_0x2e7ae1(0x1ef)](_0x53a0e6),this[_0x2e7ae1(0x2d2)][_0x2e7ae1(0x1ef)](this[_0x2e7ae1(0x682)]+'\x20('+this['instance'][_0x2e7ae1(0x577)]+_0x2e7ae1(0x22b)),this[_0x2e7ae1(0x2d2)][_0x2e7ae1(0x1ef)](_0x3568e9);let _0x33a27b=_0x3568e9[_0x2e7ae1(0x4e4)](_0x52d16d=>{const _0x2cdfb3=_0x2e7ae1;let _0x38097a=this[_0x2cdfb3(0x56c)]?.['customFields']['find'](_0x184b70=>_0x184b70[_0x2cdfb3(0x228)]===_0x52d16d[_0x2cdfb3(0x228)]);if(!_0x38097a)throw new Error(_0x2cdfb3(0x693)+_0x52d16d[_0x2cdfb3(0x228)]);return{'_id':_0x38097a[_0x2cdfb3(0x39d)],'value':_0x52d16d['value']};});this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2e7ae1(0x577)]+'):\x20transformedCustomFieldVariables'),this[_0x2e7ae1(0x2d2)][_0x2e7ae1(0x1ef)](_0x33a27b),await this[_0x2e7ae1(0x5ac)](_0x23f040['remoteJid'],_0x53a0e6,_0x33a27b);}catch(_0x25479d){this['logger']['error'](this[_0x2e7ae1(0x682)]+'\x20('+this[_0x2e7ae1(0x468)][_0x2e7ae1(0x577)]+_0x2e7ae1(0x664)+(_0x25479d instanceof Error?_0x25479d[_0x2e7ae1(0x66c)]:JSON[_0x2e7ae1(0x74e)](_0x25479d,null,0x2)));}}else this[_0x2e7ae1(0x2d2)][_0x2e7ae1(0x4e7)](this[_0x2e7ae1(0x682)]+'\x20('+this[_0x2e7ae1(0x468)][_0x2e7ae1(0x577)]+_0x2e7ae1(0x16e));}catch(_0xba37a8){this[_0x2e7ae1(0x2d2)]['error'](this[_0x2e7ae1(0x682)]+'\x20('+this['instance'][_0x2e7ae1(0x577)]+_0x2e7ae1(0x200)+(_0xba37a8 instanceof Error?_0xba37a8[_0x2e7ae1(0x66c)]:JSON[_0x2e7ae1(0x74e)](_0xba37a8,null,0x2)));}}async[a0_0x131850(0x5ac)](_0x2e22dd,_0x51a93e,_0x4de8af){const _0x39c86f=a0_0x131850;try{let _0xa43354={'leadInfo.leadnome':_0x51a93e['nome'],'leadInfo.nomecompleto':_0x51a93e[_0x39c86f(0x75b)],'leadInfo.email':_0x51a93e['email'],'leadInfo.cpf':_0x51a93e[_0x39c86f(0x688)],'leadInfo.status':_0x51a93e[_0x39c86f(0x42e)],'leadInfo.notas':_0x51a93e[_0x39c86f(0x74f)],'leadInfo.responsavelid':_0x51a93e[_0x39c86f(0x1bf)],'leadInfo.tags':_0x51a93e[_0x39c86f(0x1a6)],'leadInfo.etiquetas':_0x51a93e[_0x39c86f(0x82d)],'leadInfo.customFields':_0x4de8af},_0x3be093=await this[_0x39c86f(0x5c7)][_0x39c86f(0x801)]['findOne']({'where':{'_id':_0x2e22dd}},this[_0x39c86f(0x468)][_0x39c86f(0x577)]),_0x3703d2=new Set(_0x3be093['leadInfo'][_0x39c86f(0x82d)]||[]),_0x258b17=new Set(_0x51a93e[_0x39c86f(0x82d)]||[]),_0x78fa4b=await this[_0x39c86f(0x5c7)][_0x39c86f(0x507)][_0x39c86f(0x518)]({'where':{}},this[_0x39c86f(0x468)][_0x39c86f(0x577)]),_0x288643=new Set(_0x78fa4b[_0x39c86f(0x4e4)](_0x3bc8da=>_0x3bc8da[_0x39c86f(0x39d)])),_0x420532=[..._0x258b17][_0x39c86f(0x408)](_0x36bc0a=>!_0x3703d2[_0x39c86f(0x1a5)](_0x36bc0a)&&_0x288643[_0x39c86f(0x1a5)](_0x36bc0a)),_0x39bc51=[..._0x3703d2][_0x39c86f(0x408)](_0x176b3b=>!_0x258b17[_0x39c86f(0x1a5)](_0x176b3b));for(let _0x4aae30 of _0x420532)await this[_0x39c86f(0x6b8)](_0x4aae30,_0x3be093[_0x39c86f(0x39d)]),_0x3703d2[_0x39c86f(0x68e)](_0x4aae30);for(let _0x2baddd of _0x39bc51)await this[_0x39c86f(0x3be)](_0x2baddd,_0x3be093[_0x39c86f(0x39d)]),_0x3703d2[_0x39c86f(0x3b0)](_0x2baddd);if(_0x39c86f(0x219)in _0x51a93e){let _0x312e0f=_0x51a93e[_0x39c86f(0x219)];_0xa43354[_0x39c86f(0x7c3)]=_0x312e0f?Number(_0x312e0f):null;}let _0x59a892=await this['repository'][_0x39c86f(0x801)][_0x39c86f(0x5e3)]({'where':{'_id':_0x2e22dd}},_0xa43354,this['instance'][_0x39c86f(0x577)]);_0x59a892?(this['logger']['verbose'](this[_0x39c86f(0x682)]+'\x20('+this[_0x39c86f(0x468)][_0x39c86f(0x577)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x59a892[_0x39c86f(0x39d)]),F(this[_0x39c86f(0x682)],_0x39c86f(0x534),{'chat':_0x59a892})):this[_0x39c86f(0x2d2)][_0x39c86f(0x4e7)](this['instanceName']+'\x20('+this[_0x39c86f(0x468)][_0x39c86f(0x577)]+_0x39c86f(0x3c8));}catch(_0x28e2ca){this[_0x39c86f(0x2d2)][_0x39c86f(0x4e7)](this[_0x39c86f(0x682)]+'\x20('+this[_0x39c86f(0x468)][_0x39c86f(0x577)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x28e2ca instanceof Error?_0x28e2ca[_0x39c86f(0x66c)]:JSON[_0x39c86f(0x74e)](_0x28e2ca,null,0x2)));}}async[a0_0x131850(0x1d8)](_0x516b70,_0x2b30f2){const _0x940ed0=a0_0x131850;this[_0x940ed0(0x2d2)][_0x940ed0(0x1ef)](this[_0x940ed0(0x682)]+'\x20('+this['instance'][_0x940ed0(0x577)]+'):\x20atualização\x20chat:\x20'+_0x2b30f2);try{let _0x2a14f1=await this[_0x940ed0(0x5c7)][_0x940ed0(0x801)][_0x940ed0(0x5e3)]({'where':{'_id':_0x516b70[_0x940ed0(0x778)]}},{'leadInfo.desativadoFluxoAte':_0x2b30f2},this[_0x940ed0(0x468)][_0x940ed0(0x577)]);this[_0x940ed0(0x2d2)][_0x940ed0(0x1ef)](this[_0x940ed0(0x682)]+'\x20('+this['instance'][_0x940ed0(0x577)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x516b70[_0x940ed0(0x39d)]),this[_0x940ed0(0x2d2)]['verbose'](this[_0x940ed0(0x682)]+'\x20('+this['instance'][_0x940ed0(0x577)]+'):\x20atualização\x20chat:\x20'+JSON['stringify'](_0x2a14f1,null,0x2)),_0x2a14f1&&F(this[_0x940ed0(0x682)],_0x940ed0(0x534),{'chat':_0x2a14f1});}catch(_0xba7e05){this['logger'][_0x940ed0(0x4e7)](this[_0x940ed0(0x682)]+'\x20('+this[_0x940ed0(0x468)]['wuid']+_0x940ed0(0x7de)+(_0xba7e05 instanceof Error?_0xba7e05[_0x940ed0(0x66c)]:JSON[_0x940ed0(0x74e)](_0xba7e05,null,0x2)));}}async[a0_0x131850(0x830)](_0xb41f7){const _0x10c52b=a0_0x131850;try{this[_0x10c52b(0x2d2)][_0x10c52b(0x1ef)](this[_0x10c52b(0x682)]+'\x20('+this[_0x10c52b(0x468)][_0x10c52b(0x577)]+'):\x20Buscando\x20flow...');let _0x82bcbf=_0xb41f7['replace'](/\D/g,''),_0x1c6841=await this['repository'][_0x10c52b(0x3e2)][_0x10c52b(0x5d6)]({'where':{'testingWith':_0x82bcbf}},this[_0x10c52b(0x468)][_0x10c52b(0x577)]);return _0x1c6841||(this[_0x10c52b(0x2d2)][_0x10c52b(0x1ef)](this['instanceName']+'\x20('+this[_0x10c52b(0x468)][_0x10c52b(0x577)]+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x1c6841=await this[_0x10c52b(0x5c7)][_0x10c52b(0x3e2)][_0x10c52b(0x5d6)]({'where':{'default':!0x0}},this[_0x10c52b(0x468)][_0x10c52b(0x577)])),_0x1c6841||(this['logger'][_0x10c52b(0x1ef)](this['instanceName']+'\x20('+this[_0x10c52b(0x468)]['wuid']+_0x10c52b(0x74d)),null);}catch(_0x8b4873){return this[_0x10c52b(0x2d2)]['error'](this[_0x10c52b(0x682)]+'\x20('+this[_0x10c52b(0x468)][_0x10c52b(0x577)]+_0x10c52b(0x27e)+(_0x8b4873 instanceof Error?_0x8b4873[_0x10c52b(0x66c)]:JSON[_0x10c52b(0x74e)](_0x8b4873,null,0x2))),null;}}async[a0_0x131850(0x755)](_0x4c9c8f,_0x50a0df){const _0x52762a=a0_0x131850;try{let _0x7a109=!!_0x50a0df[_0x52762a(0x255)],_0x4d5833=_0x50a0df[_0x52762a(0x6dd)],_0x994a8f=null;if(this['logger'][_0x52762a(0x1ef)](this[_0x52762a(0x682)]+'\x20('+this['instance']['wuid']+_0x52762a(0x18c)+_0x7a109+'\x20quoted:\x20'+_0x4d5833),_0x7a109){this['logger'][_0x52762a(0x1ef)](this['instanceName']+'\x20('+this['instance'][_0x52762a(0x577)]+_0x52762a(0x4c0));let _0xa8876c={'where':{'remoteJid':_0x4c9c8f,'waitingMenu_id':_0x4d5833}};if(_0x994a8f=await this[_0x52762a(0x5c7)][_0x52762a(0x5c6)][_0x52762a(0x5d6)](_0xa8876c,this[_0x52762a(0x468)][_0x52762a(0x577)]),!_0x994a8f)return this[_0x52762a(0x2d2)]['verbose'](this[_0x52762a(0x682)]+'\x20('+this[_0x52762a(0x468)][_0x52762a(0x577)]+_0x52762a(0x7cc)),null;let _0x24564c=Date['now'](),_0x36e2c5=_0x994a8f?.[_0x52762a(0x559)]||0x0,_0x22ead3=_0x24564c-_0x36e2c5*0x3c*0x3e8;if(_0x994a8f['lastInteraction']<_0x22ead3){this['logger'][_0x52762a(0x1ef)](this[_0x52762a(0x682)]+'\x20('+this[_0x52762a(0x468)][_0x52762a(0x577)]+_0x52762a(0x805));let _0x557d50={'number':_0x994a8f['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x994a8f['waitingMenu_ExpiredMessage']}};await this[_0x52762a(0x73c)](_0x557d50);let _0x260ac3={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x52762a(0x5c6)][_0x52762a(0x5e3)](_0x994a8f[_0x52762a(0x39d)],_0x260ac3,this[_0x52762a(0x468)][_0x52762a(0x577)]),null;}return _0x994a8f[_0x52762a(0x717)]=Date[_0x52762a(0x447)](),_0x994a8f[_0x52762a(0x240)]['lastReceivedMessage']=_0x50a0df,_0x994a8f;}else{this[_0x52762a(0x2d2)][_0x52762a(0x1ef)](this[_0x52762a(0x682)]+'\x20('+this[_0x52762a(0x468)]['wuid']+_0x52762a(0x442)+this[_0x52762a(0x468)]['wuid']+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x52762a(0x2d2)][_0x52762a(0x1ef)](this['instanceName']+'\x20('+this[_0x52762a(0x468)][_0x52762a(0x577)]+_0x52762a(0x1c8));let _0x322ade={'where':{'remoteJid':_0x4c9c8f,'status':_0x52762a(0x31d)}};if(_0x994a8f=await this[_0x52762a(0x5c7)][_0x52762a(0x5c6)][_0x52762a(0x5d6)](_0x322ade,this[_0x52762a(0x468)][_0x52762a(0x577)]),!_0x994a8f){let _0x36d778=await this[_0x52762a(0x830)](_0x4c9c8f);if(_0x36d778&&(_0x994a8f=await this[_0x52762a(0x5b2)](_0x36d778,_0x50a0df[_0x52762a(0x502)],_0x50a0df)),!_0x994a8f)return null;}let _0xca849e=Date['now'](),_0x541457=_0x994a8f?.['minutesToClose']||0x0,_0x307440=_0xca849e-_0x541457*0x3c*0x3e8;if(this[_0x52762a(0x2d2)][_0x52762a(0x1ef)](this['instanceName']+'\x20('+this[_0x52762a(0x468)]['wuid']+_0x52762a(0x412)+_0xca849e+_0x52762a(0x39f)+_0x541457+',\x20Expiration\x20Time:\x20'+_0x307440),this[_0x52762a(0x2d2)][_0x52762a(0x1ef)](this[_0x52762a(0x682)]+'\x20('+this[_0x52762a(0x468)][_0x52762a(0x577)]+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x52762a(0x2d2)]['verbose'](this[_0x52762a(0x682)]+'\x20('+this['instance'][_0x52762a(0x577)]+_0x52762a(0x3eb)+_0x994a8f['lastInteraction']),this[_0x52762a(0x2d2)]['verbose'](this[_0x52762a(0x682)]+'\x20('+this[_0x52762a(0x468)][_0x52762a(0x577)]+_0x52762a(0x674)+_0x307440),_0x994a8f[_0x52762a(0x717)]<_0x307440){this[_0x52762a(0x2d2)][_0x52762a(0x1ef)](this[_0x52762a(0x682)]+'\x20('+this[_0x52762a(0x468)]['wuid']+_0x52762a(0x329));let _0x56bbfa=await this[_0x52762a(0x830)](_0x4c9c8f);if(_0x56bbfa===null)return null;_0x994a8f&&await this[_0x52762a(0x5c7)][_0x52762a(0x5c6)]['updateOne'](_0x994a8f[_0x52762a(0x39d)],{'status':_0x52762a(0x2f5)},this[_0x52762a(0x468)][_0x52762a(0x577)]),_0x994a8f=await this[_0x52762a(0x5b2)](_0x56bbfa,_0x50a0df[_0x52762a(0x502)],_0x50a0df);}return _0x994a8f['lastInteraction']=_0xca849e,_0x994a8f['chatLog'][_0x52762a(0x3e6)]=_0x50a0df,_0x994a8f;}}catch(_0xca8f44){return this[_0x52762a(0x2d2)][_0x52762a(0x4e7)](this[_0x52762a(0x682)]+'\x20('+this[_0x52762a(0x468)][_0x52762a(0x577)]+_0x52762a(0x680)+(_0xca8f44 instanceof Error?_0xca8f44[_0x52762a(0x66c)]:JSON['stringify'](_0xca8f44,null,0x2))),null;}}async[a0_0x131850(0x5b2)](_0x31a4ad,_0x51d47,_0x3ef0e4){const _0x55000c=a0_0x131850;this[_0x55000c(0x2d2)][_0x55000c(0x1ef)](this[_0x55000c(0x682)]+'\x20('+this[_0x55000c(0x468)][_0x55000c(0x577)]+_0x55000c(0x47d));try{let _0x29f385=require(_0x55000c(0x63d))[_0x55000c(0x1ea)],_0x20f93e=Date[_0x55000c(0x447)](),_0x3024ed='start',_0x4405e2=_0x51d47['fromMe']?null:_0x3ef0e4,_0x24bcd5=_0x51d47[_0x55000c(0x5e2)]?_0x3ef0e4:null,_0x1514c2=_0x51d47['remoteJid'];await this[_0x55000c(0x547)](_0x1514c2);let _0x189e7f={..._0x31a4ad,'chatLog':null},_0x3047eb=await this[_0x55000c(0x616)](_0x189e7f['variables']),_0x1cb8a5=await this[_0x55000c(0x2fb)](_0x1514c2),_0xf1637f={..._0x3047eb,..._0x1cb8a5,'_remoteJid':_0x1514c2},_0x241e2f={'lastReceivedMessage':_0x4405e2,'lastSendMessage':_0x24bcd5,'lastBlockId':_0x3024ed,'lastCondition':!0x0,'realVariables':_0xf1637f};_0x189e7f[_0x55000c(0x240)]=_0x241e2f,delete _0x189e7f['_id'],_0x189e7f[_0x55000c(0x39d)]=new _0x29f385(),_0x189e7f[_0x55000c(0x717)]=_0x20f93e,_0x189e7f['status']='open',_0x189e7f[_0x55000c(0x778)]=_0x1514c2;let _0x50ff67=await this[_0x55000c(0x5c7)][_0x55000c(0x5c6)][_0x55000c(0x5e3)](_0x189e7f[_0x55000c(0x39d)],_0x189e7f,this[_0x55000c(0x468)][_0x55000c(0x577)]);return this[_0x55000c(0x2d2)][_0x55000c(0x1ef)](this[_0x55000c(0x682)]+'\x20('+this[_0x55000c(0x468)][_0x55000c(0x577)]+_0x55000c(0x538)),_0x50ff67?_0x189e7f:null;}catch(_0x268292){return this[_0x55000c(0x2d2)][_0x55000c(0x4e7)](this[_0x55000c(0x682)]+'\x20('+this[_0x55000c(0x468)][_0x55000c(0x577)]+_0x55000c(0x31f)+(_0x268292 instanceof Error?_0x268292[_0x55000c(0x66c)]:JSON[_0x55000c(0x74e)](_0x268292,null,0x2))),_0x268292;}}async[a0_0x131850(0x592)](_0x2721ff,_0x14ae08){const _0x30b7c2=a0_0x131850;let _0x5abaef=_0x2721ff[_0x30b7c2(0x778)];_0x14ae08[_0x30b7c2(0x7fe)]['remoteJid']&&_0x14ae08['uazapi'][_0x30b7c2(0x778)]['trim']()!==''&&(_0x5abaef=_0x14ae08['uazapi'][_0x30b7c2(0x778)][_0x30b7c2(0x32a)]()),this['logger'][_0x30b7c2(0x1ef)](this[_0x30b7c2(0x682)]+'\x20('+this['instance']['wuid']+_0x30b7c2(0x7c6));let _0x358938={'number':_0x5abaef,'options':{'delay':_0x14ae08[_0x30b7c2(0x7fe)]['delay'],'linkPreview':_0x14ae08[_0x30b7c2(0x7fe)][_0x30b7c2(0x29e)]},'textMessage':{'text':_0x14ae08[_0x30b7c2(0x7fe)]['text']}};try{let _0x16125a=await this[_0x30b7c2(0x73c)](_0x358938);if(_0x16125a){let _0x3e55a6={'_id':_0x16125a['key']['id'],'_fromMe':_0x16125a['key'][_0x30b7c2(0x5e2)],'_remoteJid':_0x16125a[_0x30b7c2(0x502)][_0x30b7c2(0x778)]},_0x2e58e7=(0x0,f['normalizeMessageContent'])(_0x16125a[_0x30b7c2(0x66c)]),_0x1d9a0a=(0x0,f[_0x30b7c2(0x78e)])(_0x2e58e7);_0x2721ff[_0x30b7c2(0x240)][_0x30b7c2(0x1c1)]=_0x14ae08[_0x30b7c2(0x39d)][_0x30b7c2(0x6a2)]();let {message_normalized:_0x54c706}=this[_0x30b7c2(0x46c)](_0x2e58e7,_0x1d9a0a,null);_0x2721ff[_0x30b7c2(0x240)][_0x30b7c2(0x3c4)]=await _0x54c706;let _0x514629={'messageId':_0x16125a[_0x30b7c2(0x502)]['id']},_0x12cf2f=_0x2721ff[_0x30b7c2(0x240)][_0x30b7c2(0x311)];Object['assign'](_0x12cf2f,_0x3e55a6),_0x2721ff['chatLog'][_0x30b7c2(0x311)]=_0x12cf2f,this[_0x30b7c2(0x360)](_0x2721ff,_0x14ae08,_0x514629);}else{let _0xf9ef3f={'error':!0x0};this[_0x30b7c2(0x360)](_0x2721ff,_0x14ae08,_0xf9ef3f),this['logger']['error'](this[_0x30b7c2(0x682)]+'\x20('+this['instance']['wuid']+_0x30b7c2(0x623));}}catch(_0x2b2e7e){let _0x237e09={'error':!0x0,'errorLog':_0x2b2e7e[_0x30b7c2(0x6a2)]()};this[_0x30b7c2(0x360)](_0x2721ff,_0x14ae08,_0x237e09),this[_0x30b7c2(0x2d2)][_0x30b7c2(0x4e7)](this[_0x30b7c2(0x682)]+'\x20('+this[_0x30b7c2(0x468)][_0x30b7c2(0x577)]+_0x30b7c2(0x364)+(_0x2b2e7e instanceof Error?_0x2b2e7e[_0x30b7c2(0x66c)]:JSON[_0x30b7c2(0x74e)](_0x2b2e7e,null,0x2)));}}async['uazapiSendMedia'](_0x3063a8,_0x446407){const _0xd9683a=a0_0x131850;let _0x13438e=_0x3063a8[_0xd9683a(0x778)];_0x446407[_0xd9683a(0x7fe)][_0xd9683a(0x778)]&&_0x446407[_0xd9683a(0x7fe)][_0xd9683a(0x778)]['trim']()!==''&&(_0x13438e=_0x446407[_0xd9683a(0x7fe)]['remoteJid'][_0xd9683a(0x32a)]()),this['logger']['verbose'](this[_0xd9683a(0x682)]+'\x20('+this[_0xd9683a(0x468)]['wuid']+_0xd9683a(0x7ef));let _0x561bce={'number':_0x13438e,'options':{'delay':_0x446407[_0xd9683a(0x7fe)][_0xd9683a(0x713)],'linkPreview':_0x446407[_0xd9683a(0x7fe)][_0xd9683a(0x29e)]},'mediaMessage':{'mediatype':_0x446407['uazapi']['mediatype'],'caption':_0x446407[_0xd9683a(0x7fe)][_0xd9683a(0x61b)],'media':_0x446407[_0xd9683a(0x7fe)]['media'],'fileName':_0x446407[_0xd9683a(0x7fe)][_0xd9683a(0x736)]}};try{let _0xe59d88=await this[_0xd9683a(0x410)](_0x561bce);if(_0xe59d88){let _0x52a7ba={'_id':_0xe59d88[_0xd9683a(0x502)]['id'],'_fromMe':_0xe59d88[_0xd9683a(0x502)]['fromMe'],'_remoteJid':_0xe59d88[_0xd9683a(0x502)][_0xd9683a(0x778)]},_0x483f40=(0x0,f[_0xd9683a(0x2d6)])(_0xe59d88[_0xd9683a(0x66c)]),_0x2deb4f=(0x0,f[_0xd9683a(0x78e)])(_0x483f40);_0x3063a8[_0xd9683a(0x240)][_0xd9683a(0x1c1)]=_0x446407[_0xd9683a(0x39d)][_0xd9683a(0x6a2)]();let {message_normalized:_0x2cf4d3}=this['normalizeMessage'](_0x483f40,_0x2deb4f,null);_0x3063a8[_0xd9683a(0x240)][_0xd9683a(0x3c4)]=await _0x2cf4d3;let _0x5059e4={'messageId':_0xe59d88['key']['id']},_0x3b3833=_0x3063a8[_0xd9683a(0x240)][_0xd9683a(0x311)];Object[_0xd9683a(0x837)](_0x3b3833,_0x52a7ba),_0x3063a8[_0xd9683a(0x240)][_0xd9683a(0x311)]=_0x3b3833,this[_0xd9683a(0x360)](_0x3063a8,_0x446407,_0x5059e4);}else{let _0x4bad8e={'error':!0x0};this[_0xd9683a(0x360)](_0x3063a8,_0x446407,_0x4bad8e),this[_0xd9683a(0x2d2)][_0xd9683a(0x4e7)](this[_0xd9683a(0x682)]+'\x20('+this[_0xd9683a(0x468)]['wuid']+_0xd9683a(0x658));}}catch(_0x5acde4){let _0x2235b7={'error':!0x0,'errorLog':_0x5acde4[_0xd9683a(0x6a2)]()};this['updateConversation'](_0x3063a8,_0x446407,_0x2235b7),this['logger']['error'](this[_0xd9683a(0x682)]+'\x20('+this[_0xd9683a(0x468)][_0xd9683a(0x577)]+_0xd9683a(0x367)+(_0x5acde4 instanceof Error?_0x5acde4[_0xd9683a(0x66c)]:JSON[_0xd9683a(0x74e)](_0x5acde4,null,0x2)));}}async[a0_0x131850(0x608)](_0x216b58,_0x272bfe){const _0x2836bc=a0_0x131850;let _0x57a764=_0x216b58['remoteJid'];_0x272bfe['uazapi'][_0x2836bc(0x778)]&&_0x272bfe[_0x2836bc(0x7fe)][_0x2836bc(0x778)][_0x2836bc(0x32a)]()!==''&&(_0x57a764=_0x272bfe[_0x2836bc(0x7fe)][_0x2836bc(0x778)][_0x2836bc(0x32a)]()),this[_0x2836bc(0x2d2)]['verbose'](this[_0x2836bc(0x682)]+'\x20('+this['instance'][_0x2836bc(0x577)]+_0x2836bc(0x49a));let _0x17f998={'number':_0x57a764,'options':{'delay':_0x272bfe[_0x2836bc(0x7fe)][_0x2836bc(0x713)]},'locationMessage':{'name':_0x272bfe[_0x2836bc(0x7fe)]['name'],'address':_0x272bfe[_0x2836bc(0x7fe)][_0x2836bc(0x744)],'latitude':_0x272bfe['uazapi'][_0x2836bc(0x5fe)],'longitude':_0x272bfe[_0x2836bc(0x7fe)]['longitude']}};try{let _0x5b0aea=await this[_0x2836bc(0x21a)](_0x17f998);if(_0x5b0aea){let _0x5e0e28={'_id':_0x5b0aea[_0x2836bc(0x502)]['id'],'_fromMe':_0x5b0aea['key']['fromMe'],'_remoteJid':_0x5b0aea[_0x2836bc(0x502)][_0x2836bc(0x778)]},_0x2dc770=(0x0,f[_0x2836bc(0x2d6)])(_0x5b0aea[_0x2836bc(0x66c)]),_0x459a9f=(0x0,f[_0x2836bc(0x78e)])(_0x2dc770);_0x216b58[_0x2836bc(0x240)]['lastBlockId']=_0x272bfe[_0x2836bc(0x39d)][_0x2836bc(0x6a2)]();let {message_normalized:_0x631f5c}=this[_0x2836bc(0x46c)](_0x2dc770,_0x459a9f,null);_0x216b58[_0x2836bc(0x240)][_0x2836bc(0x3c4)]=await _0x631f5c;let _0x4e1e12={'messageId':_0x5b0aea[_0x2836bc(0x502)]['id']},_0x40629d=_0x216b58[_0x2836bc(0x240)]['realVariables'];Object[_0x2836bc(0x837)](_0x40629d,_0x5e0e28),_0x216b58[_0x2836bc(0x240)][_0x2836bc(0x311)]=_0x40629d,this['updateConversation'](_0x216b58,_0x272bfe,_0x4e1e12);}else{let _0x2adf23={'error':!0x0};this[_0x2836bc(0x360)](_0x216b58,_0x272bfe,_0x2adf23),this[_0x2836bc(0x2d2)][_0x2836bc(0x4e7)](this['instanceName']+'\x20('+this['instance'][_0x2836bc(0x577)]+_0x2836bc(0x614));}}catch(_0x1f038f){let _0x223e34={'error':!0x0,'errorLog':_0x1f038f['toString']()};this[_0x2836bc(0x360)](_0x216b58,_0x272bfe,_0x223e34),this['logger'][_0x2836bc(0x4e7)](this[_0x2836bc(0x682)]+'\x20('+this[_0x2836bc(0x468)][_0x2836bc(0x577)]+_0x2836bc(0x817)+(_0x1f038f instanceof Error?_0x1f038f['message']:JSON[_0x2836bc(0x74e)](_0x1f038f,null,0x2)));}}async[a0_0x131850(0x369)](_0x118575,_0x8c22f8){const _0x4ee5f5=a0_0x131850;let _0x42f451=_0x118575[_0x4ee5f5(0x778)];_0x8c22f8[_0x4ee5f5(0x7fe)][_0x4ee5f5(0x778)]&&_0x8c22f8['uazapi'][_0x4ee5f5(0x778)][_0x4ee5f5(0x32a)]()!==''&&(_0x42f451=_0x8c22f8[_0x4ee5f5(0x7fe)][_0x4ee5f5(0x778)]['trim']()),this[_0x4ee5f5(0x2d2)][_0x4ee5f5(0x1ef)](this['instanceName']+'\x20('+this[_0x4ee5f5(0x468)]['wuid']+_0x4ee5f5(0x570));let _0x15dd9d={'number':_0x42f451,'options':{'delay':_0x8c22f8[_0x4ee5f5(0x7fe)][_0x4ee5f5(0x713)]},'audioMessage':{'audio':_0x8c22f8[_0x4ee5f5(0x7fe)][_0x4ee5f5(0x520)]}};try{let _0x1ceaea=await this[_0x4ee5f5(0x28f)](_0x15dd9d);if(_0x1ceaea){let _0x34a13b={'_id':_0x1ceaea[_0x4ee5f5(0x502)]['id'],'_fromMe':_0x1ceaea[_0x4ee5f5(0x502)][_0x4ee5f5(0x5e2)],'_remoteJid':_0x1ceaea['key'][_0x4ee5f5(0x778)]},_0x1bde6a=(0x0,f[_0x4ee5f5(0x2d6)])(_0x1ceaea[_0x4ee5f5(0x66c)]),_0x2b7e93=(0x0,f['getContentType'])(_0x1bde6a);_0x118575[_0x4ee5f5(0x240)][_0x4ee5f5(0x1c1)]=_0x8c22f8['_id'][_0x4ee5f5(0x6a2)]();let {message_normalized:_0x5db072}=this['normalizeMessage'](_0x1bde6a,_0x2b7e93,null);_0x118575['chatLog'][_0x4ee5f5(0x3c4)]=await _0x5db072;let _0xc21edf={'messageId':_0x1ceaea[_0x4ee5f5(0x502)]['id']},_0x1da1aa=_0x118575[_0x4ee5f5(0x240)][_0x4ee5f5(0x311)];Object[_0x4ee5f5(0x837)](_0x1da1aa,_0x34a13b),_0x118575[_0x4ee5f5(0x240)][_0x4ee5f5(0x311)]=_0x1da1aa,this['updateConversation'](_0x118575,_0x8c22f8,_0xc21edf);}else{let _0x23bcd3={'error':!0x0};this[_0x4ee5f5(0x360)](_0x118575,_0x8c22f8,_0x23bcd3),this['logger'][_0x4ee5f5(0x4e7)](this[_0x4ee5f5(0x682)]+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x2f196d){let _0x44856e={'error':!0x0,'errorLog':_0x2f196d['toString']()};this[_0x4ee5f5(0x360)](_0x118575,_0x8c22f8,_0x44856e),this[_0x4ee5f5(0x2d2)][_0x4ee5f5(0x4e7)](this['instanceName']+'\x20('+this[_0x4ee5f5(0x468)][_0x4ee5f5(0x577)]+_0x4ee5f5(0x643)+(_0x2f196d instanceof Error?_0x2f196d[_0x4ee5f5(0x66c)]:JSON[_0x4ee5f5(0x74e)](_0x2f196d,null,0x2)));}}async['uazapiSendContact'](_0x2642e5,_0x4c610a){const _0x25aaea=a0_0x131850;let _0x580c15=_0x2642e5[_0x25aaea(0x778)];_0x4c610a[_0x25aaea(0x7fe)][_0x25aaea(0x778)]&&_0x4c610a[_0x25aaea(0x7fe)][_0x25aaea(0x778)][_0x25aaea(0x32a)]()!==''&&(_0x580c15=_0x4c610a[_0x25aaea(0x7fe)][_0x25aaea(0x778)][_0x25aaea(0x32a)]()),this[_0x25aaea(0x2d2)][_0x25aaea(0x1ef)](this[_0x25aaea(0x682)]+'\x20('+this[_0x25aaea(0x468)][_0x25aaea(0x577)]+_0x25aaea(0x205));let _0x2cdf2e={'number':_0x580c15,'options':{'delay':_0x4c610a[_0x25aaea(0x7fe)]['delay']},'contactMessage':[{'fullName':_0x4c610a[_0x25aaea(0x7fe)]['fullName'],'phoneNumber':_0x4c610a[_0x25aaea(0x7fe)][_0x25aaea(0x7b6)]}]};try{let _0x458ac1=await this[_0x25aaea(0x6e1)](_0x2cdf2e);if(_0x458ac1){let _0x59dfd0={'_id':_0x458ac1[_0x25aaea(0x502)]['id'],'_fromMe':_0x458ac1['key'][_0x25aaea(0x5e2)],'_remoteJid':_0x458ac1[_0x25aaea(0x502)][_0x25aaea(0x778)]},_0x490532=(0x0,f['normalizeMessageContent'])(_0x458ac1['message']),_0x2f8280=(0x0,f['getContentType'])(_0x490532);_0x2642e5[_0x25aaea(0x240)][_0x25aaea(0x1c1)]=_0x4c610a['_id'][_0x25aaea(0x6a2)]();let {message_normalized:_0x1e054b}=this[_0x25aaea(0x46c)](_0x490532,_0x2f8280,null);_0x2642e5[_0x25aaea(0x240)]['lastSendMessage']=await _0x1e054b;let _0x1e1aef={'messageId':_0x458ac1[_0x25aaea(0x502)]['id']},_0x26fe74=_0x2642e5[_0x25aaea(0x240)][_0x25aaea(0x311)];Object['assign'](_0x26fe74,_0x59dfd0),_0x2642e5[_0x25aaea(0x240)][_0x25aaea(0x311)]=_0x26fe74,this[_0x25aaea(0x360)](_0x2642e5,_0x4c610a,_0x1e1aef);}else{let _0x262ce8={'error':!0x0};this[_0x25aaea(0x360)](_0x2642e5,_0x4c610a,_0x262ce8),this[_0x25aaea(0x2d2)][_0x25aaea(0x4e7)](this[_0x25aaea(0x682)]+'\x20('+this['instance'][_0x25aaea(0x577)]+_0x25aaea(0x7a2));}}catch(_0x2c2ae4){let _0x3c180a={'error':!0x0,'errorLog':_0x2c2ae4[_0x25aaea(0x6a2)]()};this['updateConversation'](_0x2642e5,_0x4c610a,_0x3c180a),this[_0x25aaea(0x2d2)][_0x25aaea(0x4e7)](this['instanceName']+'\x20('+this[_0x25aaea(0x468)][_0x25aaea(0x577)]+_0x25aaea(0x741)+(_0x2c2ae4 instanceof Error?_0x2c2ae4[_0x25aaea(0x66c)]:JSON['stringify'](_0x2c2ae4,null,0x2)));}}[a0_0x131850(0x3d5)](_0x45939e,_0x2fc33e){const _0x279d78=a0_0x131850;for(let _0x171cb6 of _0x45939e)_0x171cb6['option']&&(_0x171cb6[_0x279d78(0x60e)]=this[_0x279d78(0x3f0)](_0x171cb6[_0x279d78(0x60e)],_0x2fc33e)),_0x171cb6[_0x279d78(0x34f)]&&(_0x171cb6[_0x279d78(0x34f)]=this[_0x279d78(0x3f0)](_0x171cb6[_0x279d78(0x34f)],_0x2fc33e));}async[a0_0x131850(0x684)](_0x17321c,_0x4475ff){const _0x155b48=a0_0x131850;let _0x58878f=_0x17321c['remoteJid'];_0x4475ff[_0x155b48(0x7fe)]['remoteJid']&&_0x4475ff[_0x155b48(0x7fe)][_0x155b48(0x778)][_0x155b48(0x32a)]()!==''&&(_0x58878f=_0x4475ff[_0x155b48(0x7fe)]['remoteJid']['trim']()),this[_0x155b48(0x2d2)]['verbose'](this[_0x155b48(0x682)]+'\x20('+this[_0x155b48(0x468)][_0x155b48(0x577)]+_0x155b48(0x522));let _0x541aeb=_0x17321c[_0x155b48(0x4a3)]['filter'](_0x446876=>_0x446876[_0x155b48(0x7f2)]===_0x4475ff[_0x155b48(0x39d)])[_0x155b48(0x6a4)]((_0x4ee195,_0x4e0a15)=>_0x4ee195['order']-_0x4e0a15[_0x155b48(0x69b)]);this['replaceVariablesInReplyOptions'](_0x541aeb,_0x17321c[_0x155b48(0x240)][_0x155b48(0x311)]);let _0xc1cb9e=_0x541aeb[_0x155b48(0x4e4)](_0x3edcb0=>_0x3edcb0[_0x155b48(0x60e)]),_0xd997da={'number':_0x58878f,'menuMessage':{'type':_0x4475ff[_0x155b48(0x7fe)][_0x155b48(0x490)]||'poll','text':_0x4475ff['uazapi'][_0x155b48(0x373)]||_0x4475ff[_0x155b48(0x7fe)][_0x155b48(0x228)],'footerText':_0x4475ff['uazapi']['footerText'],'buttonText':_0x4475ff[_0x155b48(0x7fe)][_0x155b48(0x388)],'selectableCount':0x1,'choices':_0xc1cb9e},'options':{'delay':_0x4475ff[_0x155b48(0x7fe)][_0x155b48(0x713)]}};try{let _0x6637b9=await this[_0x155b48(0x721)](_0xd997da);if(_0x6637b9){let _0x45b824={'_id':_0x6637b9['key']['id'],'_fromMe':_0x6637b9[_0x155b48(0x502)][_0x155b48(0x5e2)],'_remoteJid':_0x6637b9[_0x155b48(0x502)][_0x155b48(0x778)]};_0x4475ff[_0x155b48(0x7fe)][_0x155b48(0x17d)]===!0x0&&(_0x17321c[_0x155b48(0x42e)]=_0x155b48(0x347),this[_0x155b48(0x2d2)]['verbose'](this[_0x155b48(0x682)]+'\x20('+this[_0x155b48(0x468)][_0x155b48(0x577)]+_0x155b48(0x68b)+_0x17321c[_0x155b48(0x42e)])),this[_0x155b48(0x2d2)][_0x155b48(0x1ef)](this[_0x155b48(0x682)]+'\x20('+this[_0x155b48(0x468)][_0x155b48(0x577)]+_0x155b48(0x57d)+(_0x4475ff['uazapi'][_0x155b48(0x228)]||_0x4475ff[_0x155b48(0x7fe)][_0x155b48(0x373)])),_0x17321c[_0x155b48(0x52a)]=_0x6637b9[_0x155b48(0x502)]['id'],_0x17321c[_0x155b48(0x525)]=_0x4475ff[_0x155b48(0x7fe)][_0x155b48(0x228)]||_0x4475ff[_0x155b48(0x7fe)]['text'],_0x17321c['waitingMenu_replyOptions']=_0x541aeb,_0x4475ff[_0x155b48(0x7fe)][_0x155b48(0x33b)]&&(_0x17321c[_0x155b48(0x6bb)]=_0x4475ff[_0x155b48(0x7fe)]['menuExpiredMessage']),this[_0x155b48(0x2d2)]['verbose'](this[_0x155b48(0x682)]+'\x20('+this['instance'][_0x155b48(0x577)]+_0x155b48(0x582)+_0x17321c[_0x155b48(0x525)]);let _0x3e59e7=(0x0,f[_0x155b48(0x2d6)])(_0x6637b9[_0x155b48(0x66c)]),_0x184fb3=(0x0,f['getContentType'])(_0x3e59e7);_0x17321c[_0x155b48(0x240)][_0x155b48(0x1c1)]=_0x4475ff[_0x155b48(0x39d)][_0x155b48(0x6a2)]();let {message_normalized:_0x5b842e}=this[_0x155b48(0x46c)](_0x3e59e7,_0x184fb3,null);_0x17321c[_0x155b48(0x240)][_0x155b48(0x3c4)]=await _0x5b842e;let _0x4f511a={'messageId':_0x6637b9[_0x155b48(0x502)]['id']},_0x88de36=_0x17321c[_0x155b48(0x240)][_0x155b48(0x311)];Object['assign'](_0x88de36,_0x45b824),_0x17321c[_0x155b48(0x240)][_0x155b48(0x311)]=_0x88de36,this[_0x155b48(0x360)](_0x17321c,_0x4475ff,_0x4f511a);}else{let _0x2af238={'error':!0x0};this[_0x155b48(0x360)](_0x17321c,_0x4475ff,_0x2af238),this[_0x155b48(0x2d2)][_0x155b48(0x4e7)](this[_0x155b48(0x682)]+'\x20('+this[_0x155b48(0x468)][_0x155b48(0x577)]+_0x155b48(0x5c9));}}catch(_0x1cb1dc){let _0x40ab45={'error':!0x0,'errorLog':_0x1cb1dc instanceof Error?_0x1cb1dc[_0x155b48(0x66c)]:JSON[_0x155b48(0x74e)](_0x1cb1dc,null,0x2)};this[_0x155b48(0x360)](_0x17321c,_0x4475ff,_0x40ab45),this[_0x155b48(0x2d2)][_0x155b48(0x4e7)](this[_0x155b48(0x682)]+'\x20('+this[_0x155b48(0x468)][_0x155b48(0x577)]+_0x155b48(0x1aa)+(_0x1cb1dc instanceof Error?_0x1cb1dc[_0x155b48(0x66c)]:JSON['stringify'](_0x1cb1dc,null,0x2)));}}async[a0_0x131850(0x204)](_0x33ec58,_0x360fb5){const _0x21cc8f=a0_0x131850;this[_0x21cc8f(0x2d2)][_0x21cc8f(0x1ef)](this[_0x21cc8f(0x682)]+'\x20('+this[_0x21cc8f(0x468)][_0x21cc8f(0x577)]+_0x21cc8f(0x184));let _0x1ef9e2=_0x33ec58[_0x21cc8f(0x240)][_0x21cc8f(0x6f8)][_0x21cc8f(0x518)](_0x3322cd=>_0x3322cd[_0x21cc8f(0x7f2)][_0x21cc8f(0x6a2)]()===_0x360fb5[_0x21cc8f(0x7fe)][_0x21cc8f(0x7f2)][_0x21cc8f(0x6a2)]()),_0x22682e={'id':_0x1ef9e2[_0x21cc8f(0x29a)],'remoteJid':_0x1ef9e2[_0x21cc8f(0x778)],'fromMe':_0x1ef9e2[_0x21cc8f(0x5e2)]};try{let _0x2ee34d=await this[_0x21cc8f(0x1ac)](_0x22682e);if(_0x2ee34d){let _0x56b9a4=(0x0,f['normalizeMessageContent'])(_0x2ee34d[_0x21cc8f(0x66c)]),_0x2a3a5e=(0x0,f['getContentType'])(_0x56b9a4);_0x33ec58[_0x21cc8f(0x240)][_0x21cc8f(0x1c1)]=_0x360fb5[_0x21cc8f(0x39d)][_0x21cc8f(0x6a2)]();let {message_normalized:_0x397860}=this[_0x21cc8f(0x46c)](_0x56b9a4,_0x2a3a5e,null);_0x33ec58[_0x21cc8f(0x240)][_0x21cc8f(0x3c4)]=await _0x397860;let _0x19018f={};this[_0x21cc8f(0x360)](_0x33ec58,_0x360fb5,_0x19018f);}else{let _0x5cca1e={'error':!0x0};this['updateConversation'](_0x33ec58,_0x360fb5,_0x5cca1e),this[_0x21cc8f(0x2d2)][_0x21cc8f(0x4e7)](this[_0x21cc8f(0x682)]+'\x20('+this[_0x21cc8f(0x468)][_0x21cc8f(0x577)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x1f17ea){let _0x15d2f4={'error':!0x0,'errorLog':_0x1f17ea instanceof Error?_0x1f17ea['message']:JSON[_0x21cc8f(0x74e)](_0x1f17ea,null,0x2)};this['updateConversation'](_0x33ec58,_0x360fb5,_0x15d2f4),this[_0x21cc8f(0x2d2)]['error'](this[_0x21cc8f(0x682)]+'\x20('+this[_0x21cc8f(0x468)][_0x21cc8f(0x577)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x1f17ea instanceof Error?_0x1f17ea[_0x21cc8f(0x66c)]:JSON[_0x21cc8f(0x74e)](_0x1f17ea,null,0x2)));}}async[a0_0x131850(0x48a)](_0x3d3c7c){const _0x983f25=a0_0x131850;if(!_0x3d3c7c[_0x983f25(0x228)])throw new w(_0x983f25(0x5cd));if(await this['repository'][_0x983f25(0x3e2)]['findOne']({'where':{'name':_0x3d3c7c[_0x983f25(0x228)]}},this[_0x983f25(0x468)][_0x983f25(0x577)]))throw new w(_0x983f25(0x2ff));return _0x983f25(0x228)in _0x3d3c7c&&_0x983f25(0x576)in _0x3d3c7c&&_0x983f25(0x41c)in _0x3d3c7c&&Object[_0x983f25(0x7ad)](_0x3d3c7c)[_0x983f25(0x724)]===0x3?this[_0x983f25(0x379)](_0x3d3c7c[_0x983f25(0x41c)],_0x3d3c7c['sharePass'],_0x3d3c7c[_0x983f25(0x228)]):this[_0x983f25(0x500)](_0x3d3c7c);}async[a0_0x131850(0x379)](_0x1b2d48,_0x5ca79c,_0x2ce427){const _0x1f3b43=a0_0x131850;try{this[_0x1f3b43(0x2d2)][_0x1f3b43(0x1ef)](this[_0x1f3b43(0x682)]+'\x20('+this[_0x1f3b43(0x468)][_0x1f3b43(0x577)]+_0x1f3b43(0x2b2));let _0xd2e88=await this[_0x1f3b43(0x5c7)][_0x1f3b43(0x3e2)][_0x1f3b43(0x5d6)]({'where':{'name':_0x2ce427,'sharePass':_0x5ca79c}},_0x1b2d48);if(!_0xd2e88)throw new w('Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.');let _0x1cd6df={..._0xd2e88};return _0x1cd6df[_0x1f3b43(0x41c)]=this[_0x1f3b43(0x468)][_0x1f3b43(0x577)],_0x1cd6df['shareOwners']=Array[_0x1f3b43(0x25a)](new Set([..._0xd2e88[_0x1f3b43(0x368)]||[],_0xd2e88['owner'],this[_0x1f3b43(0x468)][_0x1f3b43(0x577)]])),_0xd2e88[_0x1f3b43(0x368)]=_0x1cd6df[_0x1f3b43(0x368)],await this[_0x1f3b43(0x5c7)][_0x1f3b43(0x3e2)][_0x1f3b43(0x5e3)](_0xd2e88[_0x1f3b43(0x39d)],{'shareOwners':_0xd2e88[_0x1f3b43(0x368)]},_0xd2e88[_0x1f3b43(0x41c)]),_0xd2e88['default']===!0x0&&await this[_0x1f3b43(0x5c7)]['flow'][_0x1f3b43(0x515)]({},{'default':!0x1},this[_0x1f3b43(0x468)][_0x1f3b43(0x577)]),await this[_0x1f3b43(0x5c7)][_0x1f3b43(0x3e2)][_0x1f3b43(0x36a)](_0x1cd6df,this[_0x1f3b43(0x468)][_0x1f3b43(0x577)]);}catch(_0x30f251){throw this[_0x1f3b43(0x2d2)]['error'](this['instanceName']+'\x20('+this[_0x1f3b43(0x468)][_0x1f3b43(0x577)]+_0x1f3b43(0x838)+_0x30f251),new w(_0x1f3b43(0x28c)+_0x30f251);}}async['createRegularFlow'](_0x2eb601){const _0x3f6941=a0_0x131850;try{this[_0x3f6941(0x2d2)]['verbose'](this[_0x3f6941(0x682)]+'\x20('+this['instance'][_0x3f6941(0x577)]+_0x3f6941(0x772)),delete _0x2eb601[_0x3f6941(0x368)],delete _0x2eb601['sharePass'],delete _0x2eb601[_0x3f6941(0x41c)],_0x2eb601[_0x3f6941(0x1c2)]===!0x0&&await this['repository'][_0x3f6941(0x3e2)][_0x3f6941(0x515)]({},{'default':!0x1},this[_0x3f6941(0x468)][_0x3f6941(0x577)]);let _0x4e62fb=new le[(_0x3f6941(0x6e5))][(_0x3f6941(0x1ea))](),_0x158c7d={'_id':_0x4e62fb,'default':!0x0,'title':_0x3f6941(0x828),'x':0x0,'y':0x0},_0x3fc65b={'_id':new le[(_0x3f6941(0x6e5))][(_0x3f6941(0x1ea))](),'order':0x1,'groupId':_0x4e62fb[_0x3f6941(0x6a2)](),'type':_0x3f6941(0x313)},_0x44835c={'_id':new le['Types'][(_0x3f6941(0x1ea))](),'owner':this[_0x3f6941(0x468)][_0x3f6941(0x577)],'name':_0x2eb601[_0x3f6941(0x228)],'groups':[_0x158c7d],'blocks':[_0x3fc65b],..._0x2eb601};return await this[_0x3f6941(0x5c7)]['flow'][_0x3f6941(0x36a)](_0x44835c,this['instance'][_0x3f6941(0x577)]);}catch(_0x28b2b3){throw this[_0x3f6941(0x2d2)]['error'](this[_0x3f6941(0x682)]+'\x20('+this[_0x3f6941(0x468)][_0x3f6941(0x577)]+_0x3f6941(0x266)+_0x28b2b3),new w(_0x3f6941(0x556)+_0x28b2b3);}}async['synchronizeFlows'](_0x38966b,_0x81c42c){const _0x30f589=a0_0x131850;try{let _0x5bd25c=await this[_0x30f589(0x5c7)][_0x30f589(0x3e2)][_0x30f589(0x5d6)]({'where':{'_id':_0x38966b}},_0x81c42c);if(_0x5bd25c&&_0x5bd25c[_0x30f589(0x368)]){for(let _0x1ee568 of _0x5bd25c[_0x30f589(0x368)])if(_0x1ee568!==_0x81c42c){let _0x35f7e4={..._0x5bd25c,'owner':_0x1ee568};await this[_0x30f589(0x5c7)]['flow'][_0x30f589(0x5c1)](_0x38966b,_0x35f7e4,_0x1ee568);}}}catch(_0x3dd673){this['logger'][_0x30f589(0x4e7)]('Erro\x20ao\x20sincronizar\x20fluxos:\x20'+_0x3dd673);}}async[a0_0x131850(0x555)](_0x5bf58f){const _0x36d884=a0_0x131850;try{this['logger'][_0x36d884(0x1ef)](this[_0x36d884(0x682)]+'\x20('+this['instance'][_0x36d884(0x577)]+_0x36d884(0x625));let _0x5dc214=await this[_0x36d884(0x5c7)]['flow'][_0x36d884(0x5d6)]({'where':{'name':_0x5bf58f}},this[_0x36d884(0x468)][_0x36d884(0x577)]);if(_0x5dc214&&_0x5dc214[_0x36d884(0x368)]&&_0x5dc214[_0x36d884(0x368)][_0x36d884(0x724)]>0x1){for(let _0xdab5ce of _0x5dc214[_0x36d884(0x368)])if(_0xdab5ce!==this['instance'][_0x36d884(0x577)]){let _0x4fd329=await this['repository'][_0x36d884(0x3e2)]['findOne']({'where':{'sharePass':_0x5dc214[_0x36d884(0x576)]}},_0xdab5ce);_0x4fd329&&(_0x4fd329['shareOwners']=_0x4fd329[_0x36d884(0x368)]['filter'](_0x1c206f=>_0x1c206f!==_0x5dc214[_0x36d884(0x41c)]),await this[_0x36d884(0x5c7)][_0x36d884(0x3e2)][_0x36d884(0x5e3)](_0x4fd329[_0x36d884(0x39d)],{'shareOwners':_0x4fd329[_0x36d884(0x368)]},_0xdab5ce));}}return await this[_0x36d884(0x5c7)][_0x36d884(0x3e2)][_0x36d884(0x839)]({'where':{'name':_0x5bf58f}},this[_0x36d884(0x468)]['wuid']);}catch(_0x2f1d49){return this['logger']['error'](this[_0x36d884(0x682)]+'\x20('+this['instance']['wuid']+_0x36d884(0x21c)+(_0x2f1d49 instanceof Error?_0x2f1d49[_0x36d884(0x66c)]:JSON[_0x36d884(0x74e)](_0x2f1d49,null,0x2))),{'message':_0x36d884(0x1c0)+_0x2f1d49};}}async[a0_0x131850(0x217)](_0x228118){const _0x33cca4=a0_0x131850;try{this['logger'][_0x33cca4(0x1ef)](this['instanceName']+'\x20('+this[_0x33cca4(0x468)]['wuid']+_0x33cca4(0x722));let _0x4b3a36=await this[_0x33cca4(0x5c7)][_0x33cca4(0x3e2)][_0x33cca4(0x5d6)]({'where':{'name':_0x228118}},this[_0x33cca4(0x468)][_0x33cca4(0x577)]);if(!_0x4b3a36)throw new Error(_0x33cca4(0x1da));if(!this[_0x33cca4(0x56c)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;let _0x2e29f3=this['AutomateSystem']?.[_0x33cca4(0x7c4)][_0x33cca4(0x4e4)](_0x37e698=>_0x37e698[_0x33cca4(0x228)]),_0x1eb21c=[_0x33cca4(0x5f3),_0x33cca4(0x75b),'email',_0x33cca4(0x688),'status',_0x33cca4(0x74f),_0x33cca4(0x1bf),'tags',_0x33cca4(0x82d)];_0x4b3a36[_0x33cca4(0x7a7)]=_0x4b3a36['variables'][_0x33cca4(0x408)](_0x4b828a=>!(_0x4b828a['folder']==='leadInfo'||_0x4b828a['leadInfo'])),_0x1eb21c[_0x33cca4(0x773)](_0x4263d7=>{const _0x53426b=_0x33cca4;_0x4b3a36['variables'][_0x53426b(0x1b9)]({'folder':_0x53426b(0x430),'name':_0x4263d7,'value':'','doc':'','leadInfo':!0x0});}),_0x2e29f3['forEach'](_0x213cdd=>{const _0x3c66c6=_0x33cca4;let _0x5e224f=_0x4b3a36[_0x3c66c6(0x7a7)][_0x3c66c6(0x256)](_0x3b3afb=>_0x3b3afb[_0x3c66c6(0x228)]===_0x213cdd);_0x5e224f===-0x1?_0x4b3a36[_0x3c66c6(0x7a7)][_0x3c66c6(0x1b9)]({'folder':'leadInfo','name':_0x213cdd,'value':'','doc':'','leadInfo':!0x0}):(_0x4b3a36[_0x3c66c6(0x7a7)][_0x5e224f]['folder']=_0x3c66c6(0x430),_0x4b3a36[_0x3c66c6(0x7a7)][_0x5e224f][_0x3c66c6(0x430)]=!0x0);}),_0x4b3a36[_0x33cca4(0x583)]&&_0x4b3a36[_0x33cca4(0x583)][_0x33cca4(0x724)]>0x0&&_0x4b3a36[_0x33cca4(0x583)][_0x33cca4(0x773)](_0x9804ff=>{const _0xccbb8a=_0x33cca4;_0x9804ff[_0xccbb8a(0x7e7)]&&_0x9804ff[_0xccbb8a(0x43c)]&&_0x9804ff['groupId']===_0x9804ff[_0xccbb8a(0x43c)]&&(_0x9804ff[_0xccbb8a(0x43c)]=null);});let _0x162fb5=await this[_0x33cca4(0x5c7)][_0x33cca4(0x3e2)][_0x33cca4(0x5e3)](_0x4b3a36[_0x33cca4(0x39d)],_0x4b3a36,this['instance'][_0x33cca4(0x577)]);if(!_0x162fb5)throw new Error(_0x33cca4(0x4df));return _0x162fb5;}catch(_0x55eb24){throw this[_0x33cca4(0x2d2)][_0x33cca4(0x4e7)](this[_0x33cca4(0x682)]+'\x20('+this[_0x33cca4(0x468)]['wuid']+_0x33cca4(0x6f4)+(_0x55eb24 instanceof Error?_0x55eb24[_0x33cca4(0x66c)]:JSON['stringify'](_0x55eb24,null,0x2))),new w('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x55eb24);}}async[a0_0x131850(0x52b)](){const _0x449262=a0_0x131850;try{return this['logger']['verbose'](this[_0x449262(0x682)]+'\x20('+this[_0x449262(0x468)][_0x449262(0x577)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x449262(0x5c7)]['flow']['updateMissingShareOwners'](this['instance'][_0x449262(0x577)]),await this[_0x449262(0x5c7)][_0x449262(0x3e2)][_0x449262(0x422)]({'where':{}},this[_0x449262(0x468)][_0x449262(0x577)]);}catch(_0x57006d){return this['logger'][_0x449262(0x4e7)](this[_0x449262(0x682)]+'\x20('+this[_0x449262(0x468)][_0x449262(0x577)]+_0x449262(0x7af)+(_0x57006d instanceof Error?_0x57006d['message']:JSON['stringify'](_0x57006d,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x57006d};}}async[a0_0x131850(0x530)](_0x2a0d05){const _0x48f471=a0_0x131850;try{this[_0x48f471(0x2d2)]['verbose'](this[_0x48f471(0x682)]+'\x20('+this[_0x48f471(0x468)][_0x48f471(0x577)]+_0x48f471(0x566));let _0x2bf267=await this['repository']['flow'][_0x48f471(0x5d6)]({'where':{'name':_0x2a0d05[_0x48f471(0x228)]}},this[_0x48f471(0x468)][_0x48f471(0x577)]);if(!_0x2bf267)return{'message':_0x48f471(0x3d2)};_0x2a0d05[_0x48f471(0x1c2)]===!0x0&&await this[_0x48f471(0x5c7)][_0x48f471(0x3e2)]['updateMany']({},{'default':!0x1},this[_0x48f471(0x468)][_0x48f471(0x577)]),delete _0x2a0d05['shareOwners'],delete _0x2a0d05[_0x48f471(0x576)];let _0x424119=await this[_0x48f471(0x5c7)]['flow']['updateOne'](_0x2bf267[_0x48f471(0x39d)],_0x2a0d05,this['instance'][_0x48f471(0x577)]);return _0x424119&&_0x424119[_0x48f471(0x368)]&&_0x424119[_0x48f471(0x368)]['length']>0x1&&this[_0x48f471(0x327)](_0x424119['_id'],this[_0x48f471(0x468)][_0x48f471(0x577)]),_0x424119;}catch(_0x2f53f4){throw this[_0x48f471(0x2d2)][_0x48f471(0x4e7)](this[_0x48f471(0x682)]+'\x20('+this[_0x48f471(0x468)]['wuid']+_0x48f471(0x382)+(_0x2f53f4 instanceof Error?_0x2f53f4[_0x48f471(0x66c)]:JSON[_0x48f471(0x74e)](_0x2f53f4,null,0x2))),new w(_0x48f471(0x38b)+(_0x2f53f4 instanceof Error?_0x2f53f4[_0x48f471(0x66c)]:JSON[_0x48f471(0x74e)](_0x2f53f4,null,0x2)));}}async[a0_0x131850(0x6f3)](_0x3e0771){const _0x23e1f=a0_0x131850;try{this[_0x23e1f(0x2d2)][_0x23e1f(0x1ef)](this[_0x23e1f(0x682)]+'\x20('+this[_0x23e1f(0x468)][_0x23e1f(0x577)]+_0x23e1f(0x3ac));let _0x5a2514=await this[_0x23e1f(0x5c7)]['flow'][_0x23e1f(0x5d6)]({'where':{'name':_0x3e0771['name']}},this[_0x23e1f(0x468)][_0x23e1f(0x577)]);_0x5a2514||this[_0x23e1f(0x5ab)](_0x23e1f(0x1da));let {block:_0x5d2456}=_0x3e0771;_0x5d2456?.[_0x23e1f(0x55d)]?this[_0x23e1f(0x4dc)](_0x5a2514,_0x3e0771):_0x5d2456?.[_0x23e1f(0x3b0)]?this[_0x23e1f(0x222)](_0x5a2514,_0x3e0771):_0x5d2456[_0x23e1f(0x39d)]?await this['updateBlock'](_0x5a2514,_0x3e0771):this['addBlock'](_0x5a2514,_0x3e0771);let _0x6153e5=await this['repository'][_0x23e1f(0x3e2)][_0x23e1f(0x5e3)](_0x5a2514[_0x23e1f(0x39d)],_0x5a2514,this[_0x23e1f(0x468)][_0x23e1f(0x577)]);if(_0x6153e5&&_0x6153e5[_0x23e1f(0x368)]&&_0x6153e5['shareOwners']['length']>0x1&&this[_0x23e1f(0x327)](_0x6153e5[_0x23e1f(0x39d)],this[_0x23e1f(0x468)]['wuid']),!_0x6153e5)throw new Error(_0x23e1f(0x4df));return _0x6153e5;}catch(_0x5f3112){this[_0x23e1f(0x5ab)](_0x23e1f(0x2fa)+_0x5f3112);}}async[a0_0x131850(0x4dc)](_0x47875b,_0x2402f2){const _0x49c0d8=a0_0x131850;let _0x11516d=_0x2402f2['block']['_id'],_0x143b3d=_0x47875b[_0x49c0d8(0x583)][_0x49c0d8(0x518)](_0x2f98c4=>_0x2f98c4[_0x49c0d8(0x39d)][_0x49c0d8(0x6a2)]()===_0x11516d);if(!_0x143b3d){this[_0x49c0d8(0x2d2)][_0x49c0d8(0x4e7)](this[_0x49c0d8(0x682)]+'\x20('+this['instance'][_0x49c0d8(0x577)]+_0x49c0d8(0x462)+_0x11516d+_0x49c0d8(0x25f));return;}this[_0x49c0d8(0x2d2)][_0x49c0d8(0x1ef)](this['instanceName']+'\x20('+this[_0x49c0d8(0x468)][_0x49c0d8(0x577)]+_0x49c0d8(0x52c)+JSON[_0x49c0d8(0x74e)](_0x143b3d));let _0x308a41=JSON['parse'](JSON[_0x49c0d8(0x74e)](_0x143b3d));_0x308a41['_id']=new le[(_0x49c0d8(0x1c2))][(_0x49c0d8(0x6e5))]['ObjectId'](),this[_0x49c0d8(0x2d2)][_0x49c0d8(0x1ef)](this[_0x49c0d8(0x682)]+'\x20('+this['instance']['wuid']+_0x49c0d8(0x707)+JSON[_0x49c0d8(0x74e)](_0x308a41)),_0x47875b[_0x49c0d8(0x583)]['push'](_0x308a41),this[_0x49c0d8(0x71a)](_0x47875b[_0x49c0d8(0x583)],_0x308a41[_0x49c0d8(0x7e7)]);}[a0_0x131850(0x5ab)](_0x531fa8){const _0x1c0ef3=a0_0x131850;throw this['logger'][_0x1c0ef3(0x4e7)](this[_0x1c0ef3(0x682)]+'\x20('+this[_0x1c0ef3(0x468)][_0x1c0ef3(0x577)]+_0x1c0ef3(0x442)+_0x531fa8),new w(_0x531fa8);}['deleteBlock'](_0x253f87,_0x345731){const _0x5df6c2=a0_0x131850;let {block:_0x5cacf8}=_0x345731;if(_0x5cacf8[_0x5df6c2(0x65a)]==='start'){this[_0x5df6c2(0x5ab)](_0x5df6c2(0x5fd));return;}if(!_0x5cacf8[_0x5df6c2(0x39d)]){this[_0x5df6c2(0x5ab)](_0x5df6c2(0x690));return;}let _0x163c7f=_0x253f87[_0x5df6c2(0x583)]['find'](_0x1d3784=>_0x1d3784[_0x5df6c2(0x39d)][_0x5df6c2(0x6a2)]()===_0x345731['block'][_0x5df6c2(0x39d)]['toString']());if(!_0x163c7f){this[_0x5df6c2(0x5ab)](_0x5df6c2(0x4a8)+_0x5cacf8[_0x5df6c2(0x39d)]+'\x20não\x20encontrado');return;}_0x253f87['blocks']=_0x253f87['blocks']['filter'](_0x3d9928=>_0x3d9928[_0x5df6c2(0x39d)][_0x5df6c2(0x6a2)]()!==_0x345731[_0x5df6c2(0x4ac)][_0x5df6c2(0x39d)]['toString']()),_0x253f87['conditions']=_0x253f87[_0x5df6c2(0x5ee)][_0x5df6c2(0x408)](_0x574f1a=>_0x574f1a['blockId']!==_0x5cacf8[_0x5df6c2(0x39d)]['toString']()),_0x253f87[_0x5df6c2(0x22a)]=_0x253f87['varedits'][_0x5df6c2(0x408)](_0x26f1ba=>_0x26f1ba[_0x5df6c2(0x7f2)]!==_0x5cacf8[_0x5df6c2(0x39d)][_0x5df6c2(0x6a2)]()),_0x253f87[_0x5df6c2(0x4a3)]=_0x253f87[_0x5df6c2(0x4a3)][_0x5df6c2(0x408)](_0x2681a7=>_0x2681a7['blockId']!==_0x5cacf8[_0x5df6c2(0x39d)][_0x5df6c2(0x6a2)]()),this[_0x5df6c2(0x71a)](_0x253f87[_0x5df6c2(0x583)],_0x163c7f[_0x5df6c2(0x7e7)]);}async[a0_0x131850(0x79d)](_0x4fe353,_0x476cf9){const _0x46b103=a0_0x131850;let _0x29571b=_0x4fe353[_0x46b103(0x583)][_0x46b103(0x256)](_0x1587d3=>_0x1587d3[_0x46b103(0x39d)][_0x46b103(0x6a2)]()===_0x476cf9['block']['_id'][_0x46b103(0x6a2)]());if(this[_0x46b103(0x2d2)][_0x46b103(0x1ef)](this['instanceName']+'\x20('+this[_0x46b103(0x468)][_0x46b103(0x577)]+_0x46b103(0x7d0)+_0x29571b),_0x29571b===-0x1){this[_0x46b103(0x2d2)]['verbose'](_0x46b103(0x4a8)+_0x476cf9[_0x46b103(0x4ac)]['_id']+_0x46b103(0x1ff));return;}if(_0x4fe353[_0x46b103(0x583)][_0x29571b][_0x46b103(0x65a)]===_0x46b103(0x313)){let _0x36ac16=Object[_0x46b103(0x7ad)](_0x476cf9[_0x46b103(0x4ac)]);if(_0x36ac16[_0x46b103(0x724)]>0x2||_0x36ac16['length']===0x2&&!_0x36ac16[_0x46b103(0x2c5)](_0x46b103(0x43c))){this[_0x46b103(0x5ab)](_0x46b103(0x3c5));return;}}let _0x23b658=_0x4fe353[_0x46b103(0x583)][_0x29571b]['groupId'];for(let _0x3fa46d in _0x476cf9[_0x46b103(0x4ac)])_0x476cf9[_0x46b103(0x4ac)][_0x46b103(0x37f)](_0x3fa46d)&&(_0x4fe353[_0x46b103(0x583)][_0x29571b][_0x3fa46d]=_0x476cf9[_0x46b103(0x4ac)][_0x3fa46d]);if(this['logger'][_0x46b103(0x1ef)](this[_0x46b103(0x682)]+'\x20('+this['instance'][_0x46b103(0x577)]+_0x46b103(0x675)+JSON[_0x46b103(0x74e)](_0x4fe353[_0x46b103(0x583)][_0x29571b])),_0x4fe353[_0x46b103(0x583)][_0x29571b][_0x46b103(0x20a)]&&_0x46b103(0x355)in _0x4fe353[_0x46b103(0x583)][_0x29571b][_0x46b103(0x20a)]){this[_0x46b103(0x2d2)][_0x46b103(0x1ef)](this[_0x46b103(0x682)]+'\x20('+this[_0x46b103(0x468)][_0x46b103(0x577)]+_0x46b103(0x5e4));let _0x51a99a=JSON[_0x46b103(0x74e)](_0x4fe353[_0x46b103(0x583)][_0x29571b][_0x46b103(0x20a)][_0x46b103(0x355)],null,0x1);_0x51a99a[_0x46b103(0x724)]>0x2&&(_0x51a99a=_0x51a99a[_0x46b103(0x703)](0x1,_0x51a99a[_0x46b103(0x724)]-0x1)['trim']()),_0x4fe353[_0x46b103(0x583)][_0x29571b][_0x46b103(0x20a)][_0x46b103(0x35b)]=_0x51a99a;}if(_0x4fe353[_0x46b103(0x583)][_0x29571b][_0x46b103(0x20a)]&&_0x46b103(0x405)in _0x4fe353[_0x46b103(0x583)][_0x29571b][_0x46b103(0x20a)]&&!(_0x46b103(0x757)in _0x4fe353[_0x46b103(0x583)][_0x29571b]['apirequest'])){this['logger'][_0x46b103(0x1ef)](this[_0x46b103(0x682)]+'\x20('+this[_0x46b103(0x468)]['wuid']+_0x46b103(0x3cb)),_0x4fe353['blocks'][_0x29571b][_0x46b103(0x20a)][_0x46b103(0x35c)]=!0x1;let _0x267820=JSON[_0x46b103(0x74e)](_0x4fe353[_0x46b103(0x583)][_0x29571b][_0x46b103(0x20a)][_0x46b103(0x405)],null,0x2);_0x4fe353[_0x46b103(0x583)][_0x29571b]['apirequest'][_0x46b103(0x757)]=_0x267820;}if(_0x4fe353[_0x46b103(0x583)][_0x29571b][_0x46b103(0x20a)]&&'bodyString'in _0x4fe353[_0x46b103(0x583)][_0x29571b]['apirequest']){_0x4fe353[_0x46b103(0x583)][_0x29571b][_0x46b103(0x20a)]['bodyStringErrorParse']=!0x1;let _0x1070a3=_0x4fe353[_0x46b103(0x583)][_0x29571b][_0x46b103(0x20a)][_0x46b103(0x757)],_0x13e4c8=this[_0x46b103(0x1e1)](_0x1070a3);_0x4fe353[_0x46b103(0x583)][_0x29571b]['apirequest'][_0x46b103(0x757)]=_0x13e4c8[_0x46b103(0x517)],_0x4fe353['blocks'][_0x29571b][_0x46b103(0x20a)][_0x46b103(0x35c)]=_0x13e4c8[_0x46b103(0x4e7)];}let _0x28e594=_0x4fe353[_0x46b103(0x583)][_0x29571b]['groupId'];_0x23b658!==_0x28e594?(this[_0x46b103(0x71a)](_0x4fe353[_0x46b103(0x583)],_0x23b658),this['reorderBlocks'](_0x4fe353['blocks'],_0x28e594)):this[_0x46b103(0x71a)](_0x4fe353['blocks'],_0x23b658);}[a0_0x131850(0x1e1)](_0x2ad477){const _0x599f1e=a0_0x131850;let _0x51c932='\u205f',_0x2f2f14=!0x1,_0x59dfcc='';for(let _0x25bdb4=0x0;_0x25bdb4<_0x2ad477[_0x599f1e(0x724)];_0x25bdb4++){let _0x3ec71c=_0x2ad477[_0x25bdb4];_0x3ec71c==='\x22'&&(_0x25bdb4===0x0||_0x2ad477[_0x25bdb4-0x1]!=='\x5c')&&(_0x2f2f14=!_0x2f2f14),!(!_0x2f2f14&&(_0x3ec71c==='\x0a'||_0x3ec71c==='\x20'||_0x3ec71c===_0x51c932))&&(_0x59dfcc+=_0x3ec71c);}let _0x4f14fd={},_0x264319=9876543210.1234,_0x4fb804=_0x59dfcc[_0x599f1e(0x357)](/\{\{([^}]+)\}\}/g,_0x5bc2e1=>{let _0x29df25=_0x5bc2e1,_0x3966db=''+_0x264319;return _0x4f14fd[_0x3966db]=_0x29df25,_0x264319+=0.0001,_0x3966db;}),_0x2c8b30='',_0x281b5d=!0x1;try{let _0x2ee567=JSON[_0x599f1e(0x298)](_0x4fb804);_0x2c8b30=JSON[_0x599f1e(0x74e)](_0x2ee567,null,0x2),_0x2c8b30=_0x2c8b30[_0x599f1e(0x357)](/\n( +)/g,(_0x572887,_0x49e88b)=>{const _0x81a8db=_0x599f1e;let _0x11b07d=_0x49e88b['length'];return'\x0a'+_0x51c932[_0x81a8db(0x59d)](_0x11b07d*0x2);}),_0x2c8b30=_0x2c8b30[_0x599f1e(0x357)](/(\d{10,}\.\d+)/g,_0x500188=>_0x4f14fd[_0x500188]||_0x500188);}catch(_0x28e7f7){console['error'](_0x599f1e(0x4f6),_0x28e7f7),_0x2c8b30=_0x2ad477,_0x281b5d=!0x0;}return{'result':_0x2c8b30,'error':_0x281b5d};}[a0_0x131850(0x2a4)](_0x372263,_0x546d9b){const _0x56f6f4=a0_0x131850;if(_0x546d9b[_0x56f6f4(0x4ac)][_0x56f6f4(0x65a)]==='start'){this[_0x56f6f4(0x5ab)](_0x56f6f4(0x4a5));return;}if(_0x546d9b[_0x56f6f4(0x4ac)][_0x56f6f4(0x20a)]&&_0x56f6f4(0x355)in _0x546d9b['block']['apirequest']){this['logger'][_0x56f6f4(0x1ef)](this[_0x56f6f4(0x682)]+'\x20('+this[_0x56f6f4(0x468)]['wuid']+_0x56f6f4(0x5e4));let _0x5d4950=JSON['stringify'](_0x546d9b[_0x56f6f4(0x4ac)]['apirequest'][_0x56f6f4(0x355)],null,0x1);_0x5d4950[_0x56f6f4(0x724)]>0x2&&(_0x5d4950=_0x5d4950[_0x56f6f4(0x703)](0x1,_0x5d4950[_0x56f6f4(0x724)]-0x1)[_0x56f6f4(0x32a)]()),_0x546d9b[_0x56f6f4(0x4ac)][_0x56f6f4(0x20a)][_0x56f6f4(0x35b)]=_0x5d4950;}_0x546d9b['block'][_0x56f6f4(0x20a)]&&_0x56f6f4(0x405)in _0x546d9b[_0x56f6f4(0x4ac)][_0x56f6f4(0x20a)]&&(this[_0x56f6f4(0x2d2)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x56f6f4(0x577)]+_0x56f6f4(0x3cb)),_0x546d9b[_0x56f6f4(0x4ac)][_0x56f6f4(0x20a)][_0x56f6f4(0x757)]=JSON[_0x56f6f4(0x74e)](_0x546d9b['block']['apirequest'][_0x56f6f4(0x405)],null,0x1)[_0x56f6f4(0x32a)]()),_0x372263[_0x56f6f4(0x583)]['push'](_0x546d9b[_0x56f6f4(0x4ac)]),this[_0x56f6f4(0x71a)](_0x372263[_0x56f6f4(0x583)],_0x546d9b[_0x56f6f4(0x4ac)][_0x56f6f4(0x7e7)]);}['reorderBlocks'](_0x222c75,_0x407180){const _0x1fa23f=a0_0x131850;let _0x2b849d=_0x222c75[_0x1fa23f(0x408)](_0x2b9d04=>_0x2b9d04['groupId']===_0x407180);_0x2b849d[_0x1fa23f(0x6a4)]((_0x2eb7ce,_0x5cb760)=>_0x2eb7ce[_0x1fa23f(0x69b)]-_0x5cb760[_0x1fa23f(0x69b)]),_0x2b849d[_0x1fa23f(0x773)]((_0x19911d,_0x353e9a)=>_0x19911d[_0x1fa23f(0x69b)]=_0x353e9a+0x1);}async[a0_0x131850(0x3b4)](_0x4f7fa9){const _0x59deb0=a0_0x131850;try{if(this['logger'][_0x59deb0(0x1ef)](this[_0x59deb0(0x682)]+'\x20('+this[_0x59deb0(0x468)][_0x59deb0(0x577)]+_0x59deb0(0x22c)),!_0x4f7fa9||!_0x4f7fa9[_0x59deb0(0x41e)]){this[_0x59deb0(0x5ab)]('Data\x20inválida\x20fornecida');return;}let _0x9a4bd3=await this['repository'][_0x59deb0(0x3e2)][_0x59deb0(0x5d6)]({'where':{'name':_0x4f7fa9[_0x59deb0(0x228)]}},this[_0x59deb0(0x468)][_0x59deb0(0x577)]);_0x9a4bd3||this[_0x59deb0(0x5ab)]('Flow\x20não\x20encontrado');let {replyOption:_0x5ca795}=_0x4f7fa9;_0x5ca795?.[_0x59deb0(0x3b0)]?(this[_0x59deb0(0x7bb)](_0x9a4bd3,_0x4f7fa9),this[_0x59deb0(0x7fd)](_0x9a4bd3[_0x59deb0(0x4a3)],_0x4f7fa9[_0x59deb0(0x41e)][_0x59deb0(0x7f2)])):_0x5ca795[_0x59deb0(0x39d)]?(await this['updateReplyOption'](_0x9a4bd3,_0x4f7fa9),this[_0x59deb0(0x7fd)](_0x9a4bd3[_0x59deb0(0x4a3)],_0x4f7fa9[_0x59deb0(0x41e)][_0x59deb0(0x7f2)])):(this[_0x59deb0(0x7b4)](_0x9a4bd3,_0x4f7fa9),this[_0x59deb0(0x7fd)](_0x9a4bd3[_0x59deb0(0x4a3)],_0x4f7fa9['replyOption'][_0x59deb0(0x7f2)]));let _0x31f792=await this[_0x59deb0(0x5c7)][_0x59deb0(0x3e2)]['updateOne'](_0x9a4bd3[_0x59deb0(0x39d)],_0x9a4bd3,this['instance'][_0x59deb0(0x577)]);if(_0x31f792&&_0x31f792[_0x59deb0(0x368)]&&_0x31f792[_0x59deb0(0x368)][_0x59deb0(0x724)]>0x1&&this[_0x59deb0(0x327)](_0x31f792[_0x59deb0(0x39d)],this[_0x59deb0(0x468)][_0x59deb0(0x577)]),!_0x31f792)throw new Error(_0x59deb0(0x4df));return _0x31f792;}catch(_0x273ee5){this[_0x59deb0(0x5ab)](_0x59deb0(0x3c3)+_0x273ee5);}}['reorderReplyOptions'](_0x3b420b,_0x44cc7a){const _0x2a6ff1=a0_0x131850;console[_0x2a6ff1(0x70b)](_0x2a6ff1(0x5dc),_0x44cc7a),_0x3b420b['forEach'](_0x33330e=>{const _0x54f26c=_0x2a6ff1;_0x33330e['blockId']===_0x44cc7a&&_0x33330e[_0x54f26c(0x69b)]===void 0x0&&(_0x33330e[_0x54f26c(0x69b)]=0x270f);});let _0x2a863e=_0x3b420b[_0x2a6ff1(0x408)](_0x36a557=>_0x36a557['blockId']===_0x44cc7a);_0x2a863e[_0x2a6ff1(0x6a4)]((_0xb23c66,_0x69b6c4)=>_0xb23c66[_0x2a6ff1(0x69b)]-_0x69b6c4[_0x2a6ff1(0x69b)]),_0x2a863e[_0x2a6ff1(0x773)]((_0x4c3eed,_0x50678c)=>{const _0x3fc8a4=_0x2a6ff1;_0x4c3eed[_0x3fc8a4(0x69b)]=_0x50678c+0x1;}),_0x3b420b['forEach'](_0x51021c=>{const _0x2be655=_0x2a6ff1;if(_0x51021c['blockId']===_0x44cc7a){let _0x455274=_0x2a863e[_0x2be655(0x518)](_0x244f66=>_0x244f66[_0x2be655(0x39d)]&&_0x51021c[_0x2be655(0x39d)]&&_0x244f66[_0x2be655(0x39d)]['toString']()===_0x51021c[_0x2be655(0x39d)][_0x2be655(0x6a2)]());_0x455274&&(_0x51021c[_0x2be655(0x69b)]=_0x455274[_0x2be655(0x69b)]);}}),console[_0x2a6ff1(0x70b)](_0x2a6ff1(0x681),_0x3b420b);}['deleteReplyOption'](_0x2ebfa8,_0x491b3b){const _0x20f0a4=a0_0x131850;let {replyOption:_0x2eec02}=_0x491b3b;if(!_0x2eec02[_0x20f0a4(0x39d)]){this[_0x20f0a4(0x5ab)](_0x20f0a4(0x521));return;}if(!_0x2ebfa8[_0x20f0a4(0x4a3)][_0x20f0a4(0x518)](_0x3f6dc3=>_0x3f6dc3[_0x20f0a4(0x39d)][_0x20f0a4(0x6a2)]()===_0x491b3b[_0x20f0a4(0x41e)][_0x20f0a4(0x39d)][_0x20f0a4(0x6a2)]())){this[_0x20f0a4(0x5ab)](_0x20f0a4(0x73d)+_0x2eec02[_0x20f0a4(0x39d)]+_0x20f0a4(0x5b8));return;}_0x2ebfa8['replyOptions']=_0x2ebfa8[_0x20f0a4(0x4a3)]['filter'](_0x20dd2b=>_0x20dd2b[_0x20f0a4(0x39d)][_0x20f0a4(0x6a2)]()!==_0x491b3b[_0x20f0a4(0x41e)][_0x20f0a4(0x39d)]['toString']());}async[a0_0x131850(0x420)](_0x40ba89,_0x1b5cce){const _0x1d8e75=a0_0x131850;let _0x41e56f=_0x40ba89['replyOptions'][_0x1d8e75(0x256)](_0x9352ca=>_0x9352ca[_0x1d8e75(0x39d)][_0x1d8e75(0x6a2)]()===_0x1b5cce[_0x1d8e75(0x41e)]['_id'][_0x1d8e75(0x6a2)]());if(_0x41e56f===-0x1){this[_0x1d8e75(0x5ab)](_0x1d8e75(0x73d)+_0x1b5cce[_0x1d8e75(0x41e)][_0x1d8e75(0x39d)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x106f68 in _0x1b5cce[_0x1d8e75(0x41e)])_0x1b5cce[_0x1d8e75(0x41e)][_0x1d8e75(0x37f)](_0x106f68)&&(_0x40ba89[_0x1d8e75(0x4a3)][_0x41e56f][_0x106f68]=_0x1b5cce[_0x1d8e75(0x41e)][_0x106f68]);}[a0_0x131850(0x7b4)](_0x5b0fc2,_0x234995){const _0x10353b=a0_0x131850;_0x5b0fc2[_0x10353b(0x4a3)][_0x10353b(0x1b9)](_0x234995[_0x10353b(0x41e)]);}async[a0_0x131850(0x47b)](_0x1d6bf3){const _0x1fe8b6=a0_0x131850;this[_0x1fe8b6(0x2d2)][_0x1fe8b6(0x1ef)](this[_0x1fe8b6(0x682)]+'\x20('+this['instance'][_0x1fe8b6(0x577)]+_0x1fe8b6(0x43b)+_0x1d6bf3);try{this[_0x1fe8b6(0x2d2)]['verbose'](this[_0x1fe8b6(0x682)]+'\x20('+this[_0x1fe8b6(0x468)][_0x1fe8b6(0x577)]+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x331ce4=await this['repository'][_0x1fe8b6(0x3e2)][_0x1fe8b6(0x5d6)]({'where':{'name':_0x1d6bf3[_0x1fe8b6(0x228)]}},this[_0x1fe8b6(0x468)][_0x1fe8b6(0x577)]);if(!_0x331ce4)throw new Error(_0x1fe8b6(0x1da));if(_0x1d6bf3[_0x1fe8b6(0x36c)]&&_0x1d6bf3[_0x1fe8b6(0x36c)]?.[_0x1fe8b6(0x3b0)]===!0x0){if(this[_0x1fe8b6(0x2d2)][_0x1fe8b6(0x1ef)](this[_0x1fe8b6(0x682)]+'\x20('+this[_0x1fe8b6(0x468)]['wuid']+_0x1fe8b6(0x6a6)),_0x1d6bf3[_0x1fe8b6(0x36c)]['default']===!0x0)return{'message':_0x1fe8b6(0x397)};if(_0x331ce4['blocks'][_0x1fe8b6(0x50b)](_0x467d7d=>_0x467d7d[_0x1fe8b6(0x7e7)][_0x1fe8b6(0x6a2)]()===_0x1d6bf3[_0x1fe8b6(0x36c)]['_id']))return this[_0x1fe8b6(0x2d2)]['verbose'](this['instanceName']+'\x20('+this[_0x1fe8b6(0x468)][_0x1fe8b6(0x577)]+_0x1fe8b6(0x37d)),{'message':_0x1fe8b6(0x38f)};_0x331ce4[_0x1fe8b6(0x6e8)]=_0x331ce4[_0x1fe8b6(0x6e8)][_0x1fe8b6(0x408)](_0x45a413=>_0x45a413[_0x1fe8b6(0x39d)]['toString']()!==_0x1d6bf3[_0x1fe8b6(0x36c)][_0x1fe8b6(0x39d)]);}else{if(_0x1d6bf3[_0x1fe8b6(0x36c)]){if(_0x1d6bf3['group'][_0x1fe8b6(0x1c2)]===!0x0)return{'message':_0x1fe8b6(0x3e7)};if(_0x1d6bf3['group'][_0x1fe8b6(0x39d)]){let _0x5c66e1=_0x331ce4[_0x1fe8b6(0x6e8)][_0x1fe8b6(0x518)](_0x41a381=>_0x41a381[_0x1fe8b6(0x39d)]['toString']()===_0x1d6bf3[_0x1fe8b6(0x36c)][_0x1fe8b6(0x39d)]);_0x5c66e1&&(_0x1d6bf3[_0x1fe8b6(0x36c)]['x']<0x0&&(_0x1d6bf3[_0x1fe8b6(0x36c)]['x']=0x0),_0x1d6bf3[_0x1fe8b6(0x36c)]['y']<0x0&&(_0x1d6bf3['group']['y']=0x0),Object['assign'](_0x5c66e1,_0x1d6bf3[_0x1fe8b6(0x36c)]));}else _0x331ce4[_0x1fe8b6(0x6e8)][_0x1fe8b6(0x1b9)](_0x1d6bf3[_0x1fe8b6(0x36c)]);}}let _0x34cda0=await this['repository'][_0x1fe8b6(0x3e2)]['updateOne'](_0x331ce4[_0x1fe8b6(0x39d)],_0x331ce4,this[_0x1fe8b6(0x468)][_0x1fe8b6(0x577)]);if(_0x34cda0&&_0x34cda0[_0x1fe8b6(0x368)]&&_0x34cda0[_0x1fe8b6(0x368)]['length']>0x1&&this['synchronizeFlows'](_0x34cda0[_0x1fe8b6(0x39d)],this['instance'][_0x1fe8b6(0x577)]),!_0x34cda0)throw new Error(_0x1fe8b6(0x4df));return _0x34cda0;}catch(_0x2391e8){throw this[_0x1fe8b6(0x2d2)][_0x1fe8b6(0x4e7)](this[_0x1fe8b6(0x682)]+'\x20('+this['instance'][_0x1fe8b6(0x577)]+_0x1fe8b6(0x508)+(_0x2391e8 instanceof Error?_0x2391e8[_0x1fe8b6(0x66c)]:JSON[_0x1fe8b6(0x74e)](_0x2391e8,null,0x2))),new w(_0x1fe8b6(0x6c9)+(_0x2391e8 instanceof Error?_0x2391e8[_0x1fe8b6(0x66c)]:JSON[_0x1fe8b6(0x74e)](_0x2391e8,null,0x2)));}}async[a0_0x131850(0x75c)](_0xad974a){const _0x54ba2e=a0_0x131850;try{this[_0x54ba2e(0x2d2)][_0x54ba2e(0x1ef)](this[_0x54ba2e(0x682)]+'\x20('+this['instance'][_0x54ba2e(0x577)]+_0x54ba2e(0x49b));let _0x3a957d=await this[_0x54ba2e(0x5c7)][_0x54ba2e(0x3e2)][_0x54ba2e(0x5d6)]({'where':{'name':_0xad974a[_0x54ba2e(0x228)]}},this[_0x54ba2e(0x468)][_0x54ba2e(0x577)]);if(!_0x3a957d)throw new Error('Flow\x20não\x20encontrado');let _0x35b12b=!0x1;if(_0xad974a[_0x54ba2e(0x6f9)]?.[_0x54ba2e(0x3b0)]===!0x0)_0x3a957d['conditions']=_0x3a957d[_0x54ba2e(0x5ee)]['filter'](_0x5d291e=>_0x5d291e&&_0xad974a[_0x54ba2e(0x6f9)]&&_0x5d291e[_0x54ba2e(0x39d)]&&_0xad974a[_0x54ba2e(0x6f9)]['_id']&&_0x5d291e[_0x54ba2e(0x39d)][_0x54ba2e(0x6a2)]()!==_0xad974a[_0x54ba2e(0x6f9)]['_id'][_0x54ba2e(0x6a2)]()),_0x35b12b=!0x0;else{let _0x4c8291=_0x3a957d['conditions']['find'](_0x83bf7d=>_0x83bf7d&&_0xad974a[_0x54ba2e(0x6f9)]&&_0x83bf7d['_id']&&_0xad974a['condition'][_0x54ba2e(0x39d)]&&_0x83bf7d[_0x54ba2e(0x39d)][_0x54ba2e(0x6a2)]()===_0xad974a[_0x54ba2e(0x6f9)][_0x54ba2e(0x39d)][_0x54ba2e(0x6a2)]());_0x4c8291?(_0x35b12b=_0x4c8291[_0x54ba2e(0x69b)]!==_0xad974a['condition'][_0x54ba2e(0x69b)],Object[_0x54ba2e(0x837)](_0x4c8291,_0xad974a['condition'])):(_0x3a957d['conditions'][_0x54ba2e(0x1b9)](_0xad974a['condition']),_0x35b12b=!0x0);}if(_0x35b12b){_0x3a957d[_0x54ba2e(0x5ee)][_0x54ba2e(0x6a4)]((_0x3c85f5,_0x69807d)=>_0x3c85f5[_0x54ba2e(0x69b)]>_0x69807d['order']?0x1:_0x69807d[_0x54ba2e(0x69b)]>_0x3c85f5['order']?-0x1:0x0);for(let _0x25d66c=0x0;_0x25d66c<_0x3a957d[_0x54ba2e(0x5ee)][_0x54ba2e(0x724)];_0x25d66c++)_0x3a957d['conditions'][_0x25d66c]['order']=_0x25d66c+0x1;_0x3a957d[_0x54ba2e(0x5ee)][_0x54ba2e(0x724)]>0x0&&(_0x3a957d[_0x54ba2e(0x5ee)][0x0][_0x54ba2e(0x16a)]=_0x54ba2e(0x561));}let _0xe1227c=await this[_0x54ba2e(0x5c7)][_0x54ba2e(0x3e2)][_0x54ba2e(0x5e3)](_0x3a957d['_id'],_0x3a957d,this[_0x54ba2e(0x468)]['wuid']);if(_0xe1227c&&_0xe1227c['shareOwners']&&_0xe1227c['shareOwners']['length']>0x1&&this[_0x54ba2e(0x327)](_0xe1227c[_0x54ba2e(0x39d)],this[_0x54ba2e(0x468)][_0x54ba2e(0x577)]),!_0xe1227c)throw new Error(_0x54ba2e(0x4df));return _0xe1227c;}catch(_0x2dfc61){throw this[_0x54ba2e(0x2d2)]['error'](this[_0x54ba2e(0x682)]+'\x20('+this[_0x54ba2e(0x468)][_0x54ba2e(0x577)]+_0x54ba2e(0x7d1)+(_0x2dfc61 instanceof Error?_0x2dfc61['message']:JSON[_0x54ba2e(0x74e)](_0x2dfc61,null,0x2))),new Error(_0x54ba2e(0x6be)+(_0x2dfc61 instanceof Error?_0x2dfc61['message']:JSON[_0x54ba2e(0x74e)](_0x2dfc61,null,0x2)));}}async['editFlowVaredit'](_0xd2520e){const _0x500591=a0_0x131850;try{this[_0x500591(0x2d2)][_0x500591(0x1ef)](this[_0x500591(0x682)]+'\x20('+this[_0x500591(0x468)]['wuid']+_0x500591(0x652));let _0x5cb63d=await this[_0x500591(0x5c7)][_0x500591(0x3e2)][_0x500591(0x5d6)]({'where':{'name':_0xd2520e[_0x500591(0x228)]}},this[_0x500591(0x468)][_0x500591(0x577)]);if(!_0x5cb63d)throw new Error(_0x500591(0x1da));let _0x255824=!0x1;if(_0xd2520e[_0x500591(0x7f6)]?.['delete']===!0x0)_0x5cb63d[_0x500591(0x22a)]=_0x5cb63d[_0x500591(0x22a)]['filter'](_0x554e31=>_0x554e31&&_0xd2520e['varedit']&&_0x554e31['_id']&&_0xd2520e[_0x500591(0x7f6)]['_id']&&_0x554e31[_0x500591(0x39d)][_0x500591(0x6a2)]()!==_0xd2520e['varedit'][_0x500591(0x39d)][_0x500591(0x6a2)]()),_0x255824=!0x0;else{let _0x130b0c=_0x5cb63d[_0x500591(0x22a)][_0x500591(0x518)](_0x10b5a2=>_0x10b5a2&&_0xd2520e[_0x500591(0x7f6)]&&_0x10b5a2[_0x500591(0x39d)]&&_0xd2520e[_0x500591(0x7f6)][_0x500591(0x39d)]&&_0x10b5a2[_0x500591(0x39d)]['toString']()===_0xd2520e['varedit'][_0x500591(0x39d)][_0x500591(0x6a2)]());_0x130b0c?(_0x255824=_0x130b0c['order']!==_0xd2520e[_0x500591(0x7f6)][_0x500591(0x69b)],Object['assign'](_0x130b0c,_0xd2520e[_0x500591(0x7f6)])):(_0x5cb63d[_0x500591(0x22a)]['push'](_0xd2520e[_0x500591(0x7f6)]),_0x255824=!0x0);}if(_0x255824){_0x5cb63d[_0x500591(0x22a)][_0x500591(0x6a4)]((_0x55ec0c,_0x2a85c4)=>_0x55ec0c['order']>_0x2a85c4[_0x500591(0x69b)]?0x1:_0x2a85c4[_0x500591(0x69b)]>_0x55ec0c['order']?-0x1:0x0);for(let _0x33e09a=0x0;_0x33e09a<_0x5cb63d['varedits']['length'];_0x33e09a++)_0x5cb63d[_0x500591(0x22a)][_0x33e09a][_0x500591(0x69b)]=_0x33e09a+0x1;}let _0x11d823=await this[_0x500591(0x5c7)]['flow']['updateOne'](_0x5cb63d[_0x500591(0x39d)],_0x5cb63d,this['instance'][_0x500591(0x577)]);if(_0x11d823&&_0x11d823[_0x500591(0x368)]&&_0x11d823[_0x500591(0x368)][_0x500591(0x724)]>0x1&&this[_0x500591(0x327)](_0x11d823[_0x500591(0x39d)],this['instance'][_0x500591(0x577)]),!_0x11d823)throw new Error(_0x500591(0x4df));return _0x11d823;}catch(_0x442339){throw this[_0x500591(0x2d2)]['error'](this[_0x500591(0x682)]+'\x20('+this[_0x500591(0x468)][_0x500591(0x577)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x442339 instanceof Error?_0x442339[_0x500591(0x66c)]:JSON[_0x500591(0x74e)](_0x442339,null,0x2))),new w('Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x442339 instanceof Error?_0x442339[_0x500591(0x66c)]:JSON[_0x500591(0x74e)](_0x442339,null,0x2)));}}async[a0_0x131850(0x679)](_0x17a8db){const _0x4ebeb8=a0_0x131850;try{this[_0x4ebeb8(0x2d2)]['verbose'](this['instanceName']+'\x20('+this[_0x4ebeb8(0x468)][_0x4ebeb8(0x577)]+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x36a31d=await this[_0x4ebeb8(0x5c7)][_0x4ebeb8(0x3e2)][_0x4ebeb8(0x5d6)]({'where':{'name':_0x17a8db[_0x4ebeb8(0x228)]}},this[_0x4ebeb8(0x468)][_0x4ebeb8(0x577)]);if(!_0x36a31d)throw new Error('Flow\x20não\x20encontrado');_0x17a8db[_0x4ebeb8(0x683)]['name']=_0x17a8db[_0x4ebeb8(0x683)]['name'][_0x4ebeb8(0x32a)](),_0x17a8db[_0x4ebeb8(0x683)][_0x4ebeb8(0x228)]['startsWith']('_')&&(_0x17a8db[_0x4ebeb8(0x683)][_0x4ebeb8(0x228)]=_0x17a8db['variable'][_0x4ebeb8(0x228)][_0x4ebeb8(0x703)](0x1)),_0x17a8db[_0x4ebeb8(0x683)][_0x4ebeb8(0x228)]=_0x17a8db[_0x4ebeb8(0x683)][_0x4ebeb8(0x228)]['trim']();let _0x95dc35=_0x36a31d[_0x4ebeb8(0x7a7)][_0x4ebeb8(0x518)](_0x10c4c1=>_0x10c4c1['name']===_0x17a8db[_0x4ebeb8(0x683)][_0x4ebeb8(0x228)]);if(_0x95dc35?.[_0x4ebeb8(0x430)]===!0x0)throw new Error(_0x4ebeb8(0x765));if(_0x17a8db['variable']?.['delete']===!0x0){if(!_0x95dc35)return{'message':'Variável\x20não\x20encontrada!'};_0x36a31d[_0x4ebeb8(0x7a7)]=_0x36a31d['variables'][_0x4ebeb8(0x408)](_0x14b1d6=>_0x14b1d6[_0x4ebeb8(0x228)]!==_0x17a8db['variable'][_0x4ebeb8(0x228)]);}else _0x95dc35?Object['assign'](_0x95dc35,_0x17a8db['variable']):_0x36a31d['variables']['push'](_0x17a8db[_0x4ebeb8(0x683)]);let _0x27df86=await this['repository'][_0x4ebeb8(0x3e2)][_0x4ebeb8(0x5e3)](_0x36a31d[_0x4ebeb8(0x39d)],_0x36a31d,this[_0x4ebeb8(0x468)]['wuid']);if(_0x27df86&&_0x27df86[_0x4ebeb8(0x368)]&&_0x27df86[_0x4ebeb8(0x368)]['length']>0x1&&this[_0x4ebeb8(0x327)](_0x27df86[_0x4ebeb8(0x39d)],this[_0x4ebeb8(0x468)][_0x4ebeb8(0x577)]),!_0x27df86)throw new Error(_0x4ebeb8(0x4df));return _0x27df86;}catch(_0x77fe3b){throw this[_0x4ebeb8(0x2d2)][_0x4ebeb8(0x4e7)](this['instanceName']+'\x20('+this[_0x4ebeb8(0x468)]['wuid']+_0x4ebeb8(0x1ca)+(_0x77fe3b instanceof Error?_0x77fe3b[_0x4ebeb8(0x66c)]:JSON[_0x4ebeb8(0x74e)](_0x77fe3b,null,0x2))),new w(_0x4ebeb8(0x257)+(_0x77fe3b instanceof Error?_0x77fe3b[_0x4ebeb8(0x66c)]:JSON[_0x4ebeb8(0x74e)](_0x77fe3b,null,0x2)));}}async[a0_0x131850(0x742)](_0x4224e0){const _0x16d9e7=a0_0x131850;let _0x494a9f=null;try{if(!this[_0x16d9e7(0x56c)]?.[_0x16d9e7(0x7e5)][_0x16d9e7(0x45c)])throw new w(_0x16d9e7(0x250));this[_0x16d9e7(0x2d2)][_0x16d9e7(0x1ef)](this[_0x16d9e7(0x682)]+'\x20('+this['instance']['wuid']+'):\x20Iniciando\x20bot...');let _0x438b2e=(await this['whatsappNumber']({'numbers':[_0x4224e0[_0x16d9e7(0x778)]]}))[0x0];if(!_0x438b2e[_0x16d9e7(0x3f4)]&&!(0x0,f['isJidGroup'])(_0x438b2e[_0x16d9e7(0x178)])&&!_0x438b2e[_0x16d9e7(0x178)][_0x16d9e7(0x2c5)]('@broadcast'))throw _0x494a9f=JSON[_0x16d9e7(0x74e)](_0x438b2e,null,0x2),new w(_0x438b2e);let _0x1b6c91=await this['repository']['flow'][_0x16d9e7(0x5d6)]({'where':{'name':_0x4224e0['name']}},this[_0x16d9e7(0x468)][_0x16d9e7(0x577)]);if(!_0x1b6c91)return this[_0x16d9e7(0x2d2)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x16d9e7(0x627)),{'message':'Flow\x20não\x20encontrado'};let _0x12a911=await this[_0x16d9e7(0x4bf)](_0x1b6c91,_0x438b2e['jid'],_0x4224e0[_0x16d9e7(0x239)]);if(_0x12a911){this['logger'][_0x16d9e7(0x1ef)](this[_0x16d9e7(0x682)]+'\x20('+this[_0x16d9e7(0x468)][_0x16d9e7(0x577)]+_0x16d9e7(0x5b6));let _0x46ff0c=await this[_0x16d9e7(0x1fb)](_0x12a911);return _0x46ff0c&&await this[_0x16d9e7(0x4c7)](_0x12a911,_0x46ff0c),{'message':_0x16d9e7(0x2a3)+_0x4224e0['remoteJid']};}}catch(_0x45ceb6){if(this[_0x16d9e7(0x2d2)]['error'](this[_0x16d9e7(0x682)]+'\x20('+this[_0x16d9e7(0x468)]['wuid']+_0x16d9e7(0x4a0)+(_0x45ceb6 instanceof Error?_0x45ceb6[_0x16d9e7(0x66c)]:JSON[_0x16d9e7(0x74e)](_0x45ceb6,null,0x2))),_0x494a9f=_0x45ceb6 instanceof Error?_0x45ceb6[_0x16d9e7(0x66c)]:JSON[_0x16d9e7(0x74e)](_0x45ceb6,null,0x2),_0x494a9f)throw new w(_0x16d9e7(0x218)+_0x494a9f);}}async[a0_0x131850(0x547)](_0xeebee8){const _0xac7377=a0_0x131850;try{let _0x34d6c2={'remoteJid':_0xeebee8,'status':_0xac7377(0x31d)},_0x342790={'status':'closed'},_0x4be049=await this[_0xac7377(0x5c7)][_0xac7377(0x5c6)][_0xac7377(0x515)](_0x34d6c2,_0x342790,this[_0xac7377(0x468)][_0xac7377(0x577)]);return this[_0xac7377(0x2d2)][_0xac7377(0x1ef)](this[_0xac7377(0x682)]+'\x20('+this['instance'][_0xac7377(0x577)]+_0xac7377(0x261)),_0x4be049;}catch(_0x52000d){throw this[_0xac7377(0x2d2)]['error'](this[_0xac7377(0x682)]+'\x20('+this[_0xac7377(0x468)][_0xac7377(0x577)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x52000d[_0xac7377(0x66c)]),_0x52000d;}}async[a0_0x131850(0x4bf)](_0x13ecb0,_0x1622a8,_0x1f158b){const _0x284954=a0_0x131850;this[_0x284954(0x2d2)][_0x284954(0x1ef)](this['instanceName']+'\x20('+this[_0x284954(0x468)][_0x284954(0x577)]+_0x284954(0x44b)),await this[_0x284954(0x547)](_0x1622a8);try{let _0x1d75e0=require(_0x284954(0x63d))[_0x284954(0x1ea)],_0x51a0a3=Date[_0x284954(0x447)](),_0x4e0e2d=_0x284954(0x313),_0x1f1bb1={},_0x5aed4b={},_0x57d882={..._0x13ecb0,'chatLog':null},_0x30e302=await this[_0x284954(0x616)](_0x57d882[_0x284954(0x7a7)]),_0x563e2b=await this[_0x284954(0x2fb)](_0x1622a8),_0x3e599b={..._0x30e302,..._0x563e2b,'_remoteJid':_0x1622a8},_0x30c650={'lastReceivedMessage':_0x1f1bb1,'lastSendMessage':_0x5aed4b,'lastBlockId':_0x4e0e2d,'lastCondition':!0x0,'realVariables':_0x3e599b};_0x57d882['chatLog']=_0x30c650,_0x57d882[_0x284954(0x240)][_0x284954(0x311)]={..._0x3e599b,..._0x1f158b},delete _0x57d882[_0x284954(0x39d)],_0x57d882[_0x284954(0x39d)]=new _0x1d75e0(),_0x57d882['lastInteraction']=_0x51a0a3,_0x57d882[_0x284954(0x42e)]=_0x284954(0x31d),_0x57d882['remoteJid']=_0x1622a8;let _0x2383b8=await this[_0x284954(0x5c7)][_0x284954(0x5c6)][_0x284954(0x5e3)](_0x57d882[_0x284954(0x39d)],_0x57d882,this['instance'][_0x284954(0x577)]);return this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x284954(0x468)][_0x284954(0x577)]+_0x284954(0x538)),_0x2383b8?_0x57d882:null;}catch(_0xdd88f3){throw this[_0x284954(0x2d2)][_0x284954(0x4e7)](this[_0x284954(0x682)]+'\x20('+this[_0x284954(0x468)][_0x284954(0x577)]+_0x284954(0x31f)+(_0xdd88f3 instanceof Error?_0xdd88f3[_0x284954(0x66c)]:JSON['stringify'](_0xdd88f3,null,0x2))),new w(_0xdd88f3[_0x284954(0x66c)]);}}async[a0_0x131850(0x1d1)](_0x28dcc8){const _0x314b49=a0_0x131850;try{this[_0x314b49(0x2d2)][_0x314b49(0x1ef)](this[_0x314b49(0x682)]+'\x20('+this['instance']['wuid']+'):\x20Buscando\x20conversa...'),this[_0x314b49(0x2d2)][_0x314b49(0x1ef)](this[_0x314b49(0x682)]+'\x20('+this[_0x314b49(0x468)][_0x314b49(0x577)]+_0x314b49(0x834)+_0x28dcc8);let _0x3281c7={'where':{'_id':_0x28dcc8}};return await this[_0x314b49(0x5c7)][_0x314b49(0x5c6)][_0x314b49(0x5d6)](_0x3281c7,this['instance']['wuid']);}catch(_0x227150){throw this['logger'][_0x314b49(0x4e7)](this[_0x314b49(0x682)]+'\x20('+this[_0x314b49(0x468)][_0x314b49(0x577)]+_0x314b49(0x548)+(_0x227150 instanceof Error?_0x227150['message']:JSON[_0x314b49(0x74e)](_0x227150,null,0x2))),new w(_0x314b49(0x6a0)+_0x227150[_0x314b49(0x66c)]);}}async[a0_0x131850(0x201)](_0xbdd2cb){const _0x420b17=a0_0x131850;try{return this[_0x420b17(0x2d2)][_0x420b17(0x1ef)](this[_0x420b17(0x682)]+'\x20('+this[_0x420b17(0x468)][_0x420b17(0x577)]+_0x420b17(0x738)),await this['repository']['flowConversation'][_0x420b17(0x518)](_0xbdd2cb,this[_0x420b17(0x468)][_0x420b17(0x577)]);}catch(_0x9e9cdc){throw this[_0x420b17(0x2d2)]['error'](this[_0x420b17(0x682)]+'\x20('+this[_0x420b17(0x468)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20conversas\x20'+(_0x9e9cdc instanceof Error?_0x9e9cdc[_0x420b17(0x66c)]:JSON[_0x420b17(0x74e)](_0x9e9cdc,null,0x2))),new w(_0x420b17(0x831)+_0x9e9cdc[_0x420b17(0x66c)]);}}async[a0_0x131850(0x3d3)](_0x32818c){const _0x3b2591=a0_0x131850;try{return this[_0x3b2591(0x2d2)]['verbose'](this[_0x3b2591(0x682)]+'\x20('+this[_0x3b2591(0x468)]['wuid']+_0x3b2591(0x392)),this['logger'][_0x3b2591(0x1ef)](this['instanceName']+'\x20('+this[_0x3b2591(0x468)][_0x3b2591(0x577)]+_0x3b2591(0x618)+_0x32818c),(await this['repository'][_0x3b2591(0x5c6)][_0x3b2591(0x839)]({'where':{'_id':_0x32818c}},this[_0x3b2591(0x468)][_0x3b2591(0x577)]))[_0x3b2591(0x5ae)]===0x0?{'message':_0x3b2591(0x4cb)}:{'message':_0x3b2591(0x832)};}catch(_0x45351f){throw this[_0x3b2591(0x2d2)][_0x3b2591(0x4e7)](this[_0x3b2591(0x682)]+'\x20('+this[_0x3b2591(0x468)]['wuid']+_0x3b2591(0x465)+(_0x45351f instanceof Error?_0x45351f[_0x3b2591(0x66c)]:JSON[_0x3b2591(0x74e)](_0x45351f,null,0x2))),new w(_0x3b2591(0x290)+_0x45351f[_0x3b2591(0x66c)]);}}async[a0_0x131850(0x342)](_0x159e80){const _0x255c09=a0_0x131850;try{let {_id:_0x522995,chatLog:_0x281c15,status:_0x461e40}=_0x159e80;if(!_0x522995)return{'message':_0x255c09(0x299)};let _0x84f404={};if(_0x461e40!==void 0x0&&(_0x84f404['status']=_0x461e40),Object['keys'](_0x84f404)[_0x255c09(0x724)]===0x0)return{'message':_0x255c09(0x81e)};let _0x28891a=await this[_0x255c09(0x5c7)][_0x255c09(0x5c6)][_0x255c09(0x5e3)](_0x522995,_0x84f404,this['instance'][_0x255c09(0x577)]);return _0x28891a||{'message':_0x255c09(0x81f)};}catch(_0x8d6d93){throw this[_0x255c09(0x2d2)][_0x255c09(0x4e7)](this[_0x255c09(0x682)]+'\x20('+this[_0x255c09(0x468)][_0x255c09(0x577)]+_0x255c09(0x7da)+(_0x8d6d93 instanceof Error?_0x8d6d93['message']:JSON[_0x255c09(0x74e)](_0x8d6d93,null,0x2))),new w(_0x255c09(0x272)+_0x8d6d93[_0x255c09(0x66c)]);}}async[a0_0x131850(0x5d9)](_0x5cb4de){const _0xf7ed23=a0_0x131850;console['log'](_0x5cb4de);try{_0x5cb4de[_0xf7ed23(0x39d)]=this[_0xf7ed23(0x593)](_0x5cb4de[_0xf7ed23(0x39d)]);let _0x10c7b1=await this[_0xf7ed23(0x5c7)][_0xf7ed23(0x801)][_0xf7ed23(0x5d6)]({'where':{'_id':_0x5cb4de['_id']}},this[_0xf7ed23(0x468)][_0xf7ed23(0x577)]);if(!_0x10c7b1)throw new w(_0xf7ed23(0x65c));let {_id:_0x56ad91,leadInfo:_0x1be505}=_0x5cb4de;if(!_0x56ad91)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x5cb4de[_0xf7ed23(0x3b0)]===_0xf7ed23(0x306))return await this['deleteChat'](_0x5cb4de[_0xf7ed23(0x39d)]),await this[_0xf7ed23(0x5c7)][_0xf7ed23(0x801)]['delete']({'where':{'_id':_0x5cb4de['_id']}},this['instance'][_0xf7ed23(0x577)]),await this[_0xf7ed23(0x5c7)]['message'][_0xf7ed23(0x3b0)]({'where':{'key':{'remoteJid':_0x5cb4de['_id']}}},this[_0xf7ed23(0x468)][_0xf7ed23(0x577)]),_0x5cb4de=await this[_0xf7ed23(0x5c7)][_0xf7ed23(0x801)][_0xf7ed23(0x5e3)]({'where':{'_id':_0x5cb4de['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0xf7ed23(0x468)][_0xf7ed23(0x577)]),F(this[_0xf7ed23(0x682)],_0xf7ed23(0x534),{'chat':_0x5cb4de}),{'message':_0xf7ed23(0x77c)};if(_0x5cb4de[_0xf7ed23(0x3b0)]===_0xf7ed23(0x719))return await this['repository'][_0xf7ed23(0x66c)][_0xf7ed23(0x3b0)]({'where':{'key':{'remoteJid':_0x5cb4de[_0xf7ed23(0x39d)]}}},this['instance']['wuid']),_0x5cb4de=await this[_0xf7ed23(0x5c7)][_0xf7ed23(0x801)][_0xf7ed23(0x5e3)]({'where':{'_id':_0x5cb4de[_0xf7ed23(0x39d)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0xf7ed23(0x468)][_0xf7ed23(0x577)]),F(this[_0xf7ed23(0x682)],_0xf7ed23(0x534),{'chat':_0x5cb4de}),{'message':_0xf7ed23(0x777)};let _0x2da508=(_0x1770ee,_0x55ac5a,_0x13056f)=>{const _0x1fcae8=_0xf7ed23;_0x1770ee&&_0x13056f[_0x1fcae8(0x773)](_0xe87b4f=>{const _0x1e6dba=_0x1fcae8;_0x1770ee[_0xe87b4f]!==void 0x0&&(_0x55ac5a[_0x1e6dba(0x495)+_0xe87b4f]=_0x1770ee[_0xe87b4f]);});},_0x37c3bb={};if(_0x1be505&&(_0x2da508(_0x1be505,_0x37c3bb,[_0xf7ed23(0x5f3),_0xf7ed23(0x75b),_0xf7ed23(0x487),'cpf','status',_0xf7ed23(0x74f),_0xf7ed23(0x1a6),_0xf7ed23(0x23a),_0xf7ed23(0x1bf),'etiquetas']),Array[_0xf7ed23(0x24a)](_0x1be505[_0xf7ed23(0x7c4)])&&(_0x37c3bb[_0xf7ed23(0x545)]=_0x1be505[_0xf7ed23(0x7c4)]['map'](_0x59a6aa=>({'_id':_0x59a6aa[_0xf7ed23(0x39d)],'value':_0x59a6aa[_0xf7ed23(0x3bc)]}))),_0x5cb4de[_0xf7ed23(0x430)][_0xf7ed23(0x82d)]!==void 0x0)){let _0x1175b6=await this[_0xf7ed23(0x5c7)][_0xf7ed23(0x507)][_0xf7ed23(0x518)]({'where':{}},this[_0xf7ed23(0x468)][_0xf7ed23(0x577)]),_0x4a53f9=new Set(_0x5cb4de[_0xf7ed23(0x430)]['etiquetas']||[]),_0x303b02=new Set(_0x5cb4de['leadInfo'][_0xf7ed23(0x82d)]),_0x545558=new Set(_0x1175b6[_0xf7ed23(0x4e4)](_0x151e97=>_0x151e97['_id'])),_0x49261b=[..._0x303b02]['filter'](_0xe7d9b4=>!_0x4a53f9[_0xf7ed23(0x1a5)](_0xe7d9b4)&&_0x545558[_0xf7ed23(0x1a5)](_0xe7d9b4)),_0xd62575=[..._0x4a53f9]['filter'](_0x5ef7d0=>!_0x303b02['has'](_0x5ef7d0));if(_0x37c3bb[_0xf7ed23(0x190)]=[..._0x4a53f9],_0x10c7b1&&!_0x10c7b1[_0xf7ed23(0x193)]){for(let _0x1391d3 of _0x49261b)await this['AddChatLabel'](_0x1391d3,_0x5cb4de[_0xf7ed23(0x39d)]),_0x4a53f9['add'](_0x1391d3);for(let _0x44cf8c of _0xd62575)await this[_0xf7ed23(0x3be)](_0x44cf8c,_0x5cb4de[_0xf7ed23(0x39d)]),_0x4a53f9['delete'](_0x44cf8c);}}if(_0x5cb4de[_0xf7ed23(0x1f7)]!==void 0x0&&(_0x37c3bb[_0xf7ed23(0x1f7)]=Number(_0x5cb4de[_0xf7ed23(0x1f7)])),Object[_0xf7ed23(0x7ad)](_0x37c3bb)[_0xf7ed23(0x724)]===0x0)throw new Error(_0xf7ed23(0x81e));let _0x45ffbf=await this[_0xf7ed23(0x5c7)][_0xf7ed23(0x801)][_0xf7ed23(0x5e3)]({'where':{'_id':_0x5cb4de[_0xf7ed23(0x39d)]}},_0x37c3bb,this[_0xf7ed23(0x468)]['wuid']);return _0x45ffbf&&F(this[_0xf7ed23(0x682)],_0xf7ed23(0x534),{'chat':_0x45ffbf}),_0x45ffbf?(this[_0xf7ed23(0x2d2)][_0xf7ed23(0x1ef)](this['instanceName']+'\x20('+this[_0xf7ed23(0x468)][_0xf7ed23(0x577)]+_0xf7ed23(0x442)+JSON[_0xf7ed23(0x74e)](_0x45ffbf,null,0x2)),_0x45ffbf):{'message':_0xf7ed23(0x69c)};}catch(_0x337313){throw this['logger'][_0xf7ed23(0x4e7)](this['instanceName']+'\x20('+this[_0xf7ed23(0x468)][_0xf7ed23(0x577)]+_0xf7ed23(0x2b8)+(_0x337313 instanceof Error?_0x337313[_0xf7ed23(0x66c)]:JSON[_0xf7ed23(0x74e)](_0x337313,null,0x2))),new w(_0xf7ed23(0x750)+_0x337313[_0xf7ed23(0x66c)]);}}async['AddChatLabel'](_0x711f80,_0x473f14){const _0x2b3a8d=a0_0x131850;try{await this[_0x2b3a8d(0x23d)][_0x2b3a8d(0x330)](_0x473f14,_0x711f80),console[_0x2b3a8d(0x70b)](_0x2b3a8d(0x3d6)+_0x711f80+_0x2b3a8d(0x402)+_0x473f14+_0x2b3a8d(0x17c));}catch(_0x4e33d0){console['error']('Erro\x20ao\x20adicionar\x20label\x20'+_0x711f80+_0x2b3a8d(0x2a0)+_0x473f14+':',_0x4e33d0);}}async[a0_0x131850(0x3be)](_0x5610ad,_0x2fe513){const _0x1f2fc3=a0_0x131850;try{await this[_0x1f2fc3(0x23d)][_0x1f2fc3(0x2b4)](_0x2fe513,_0x5610ad),console[_0x1f2fc3(0x70b)](_0x1f2fc3(0x3d6)+_0x5610ad+'\x20removido\x20do\x20chat\x20'+_0x2fe513+_0x1f2fc3(0x17c));}catch(_0x4b2c7e){console[_0x1f2fc3(0x4e7)](_0x1f2fc3(0x820)+_0x5610ad+_0x1f2fc3(0x338)+_0x2fe513+':',_0x4b2c7e);}}async[a0_0x131850(0x650)](_0x38c3f3){const _0x10b5e8=a0_0x131850;try{let _0x284f17=await this[_0x10b5e8(0x5c7)][_0x10b5e8(0x642)][_0x10b5e8(0x36e)](this['instance'][_0x10b5e8(0x577)]),_0x4d438c=_0x38c3f3['_id']?_0x284f17[_0x10b5e8(0x6b6)][_0x10b5e8(0x256)](_0x373796=>_0x373796[_0x10b5e8(0x39d)]===_0x38c3f3[_0x10b5e8(0x39d)]):-0x1;if(_0x38c3f3['delete']&&_0x4d438c>-0x1)_0x284f17[_0x10b5e8(0x6b6)][_0x10b5e8(0x4cc)](_0x4d438c,0x1);else{if(_0x4d438c>-0x1){let _0x458955=_0x284f17['agents'][_0x4d438c];_0x38c3f3['fone']&&(_0x458955[_0x10b5e8(0x76e)]=_0x38c3f3[_0x10b5e8(0x76e)]),_0x38c3f3[_0x10b5e8(0x228)]&&(_0x458955[_0x10b5e8(0x228)]=_0x38c3f3[_0x10b5e8(0x228)]),_0x38c3f3[_0x10b5e8(0x487)]&&(_0x458955[_0x10b5e8(0x487)]=_0x38c3f3[_0x10b5e8(0x487)]),_0x38c3f3[_0x10b5e8(0x25e)]&&(_0x458955[_0x10b5e8(0x25e)]=_0x38c3f3['role']);}else _0x284f17[_0x10b5e8(0x6b6)][_0x10b5e8(0x1b9)]({'_id':_0x38c3f3[_0x10b5e8(0x39d)]||new le[(_0x10b5e8(0x1c2))]['Types'][(_0x10b5e8(0x1ea))]()[_0x10b5e8(0x6a2)](),'fone':_0x38c3f3[_0x10b5e8(0x76e)],'name':_0x38c3f3[_0x10b5e8(0x228)],'email':_0x38c3f3[_0x10b5e8(0x487)],'role':_0x38c3f3[_0x10b5e8(0x25e)]});}let _0x3283ab={'agents':_0x284f17[_0x10b5e8(0x6b6)]},_0x2acdbf=await this['repository']['automateSystem']['update'](_0x3283ab,this[_0x10b5e8(0x468)][_0x10b5e8(0x577)]);return this[_0x10b5e8(0x56c)]=_0x2acdbf,this[_0x10b5e8(0x2d2)][_0x10b5e8(0x1ef)](this[_0x10b5e8(0x682)]+'\x20('+this[_0x10b5e8(0x468)]['wuid']+_0x10b5e8(0x50e)),this[_0x10b5e8(0x2d2)]['verbose'](this[_0x10b5e8(0x682)]+'\x20('+this[_0x10b5e8(0x468)][_0x10b5e8(0x577)]+'):\x20'+this[_0x10b5e8(0x56c)]),_0x2acdbf;}catch(_0x149aa3){throw this[_0x10b5e8(0x2d2)][_0x10b5e8(0x4e7)](this['instanceName']+'\x20('+this[_0x10b5e8(0x468)][_0x10b5e8(0x577)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+(_0x149aa3 instanceof Error?_0x149aa3[_0x10b5e8(0x66c)]:JSON[_0x10b5e8(0x74e)](_0x149aa3,null,0x2))),new w(_0x10b5e8(0x469)+_0x149aa3[_0x10b5e8(0x66c)]);}}async[a0_0x131850(0x43d)](_0x655691){const _0x2849b3=a0_0x131850;try{let _0x21c425=await this['repository'][_0x2849b3(0x642)][_0x2849b3(0x36e)](this[_0x2849b3(0x468)]['wuid']),_0x48052a=_0x655691['_id']?_0x21c425[_0x2849b3(0x7c4)]['findIndex'](_0x38619e=>_0x38619e['_id']===_0x655691['_id']):-0x1,_0x4e5023=!0x1,_0x52f5c3=_0x21c425[_0x2849b3(0x7c4)][_0x2849b3(0x50b)](_0x267414=>_0x267414['order']===_0x655691['order']);if(_0x655691[_0x2849b3(0x3b0)]&&_0x48052a>-0x1)_0x21c425[_0x2849b3(0x7c4)][_0x2849b3(0x4cc)](_0x48052a,0x1),_0x4e5023=!0x0;else{if(_0x48052a>-0x1){if(_0x21c425['customFields'][_0x2849b3(0x50b)](_0x16a367=>_0x16a367[_0x2849b3(0x228)]===_0x655691['name']&&_0x16a367[_0x2849b3(0x39d)]!==_0x655691['_id']))throw new Error(_0x2849b3(0x473));let _0x7c7f1f=_0x21c425['customFields'][_0x48052a];_0x655691[_0x2849b3(0x69b)]&&(_0x52f5c3||!Number[_0x2849b3(0x503)](_0x655691[_0x2849b3(0x69b)]))&&(_0x7c7f1f[_0x2849b3(0x69b)]=_0x655691['order'],_0x4e5023=!0x0),_0x655691[_0x2849b3(0x228)]&&(_0x7c7f1f['name']=_0x655691[_0x2849b3(0x228)]);}else{if(_0x21c425[_0x2849b3(0x7c4)]['some'](_0x128844=>_0x128844['name']===_0x655691[_0x2849b3(0x228)]&&_0x128844['_id']!==_0x655691['_id']))throw new Error(_0x2849b3(0x473));_0x21c425[_0x2849b3(0x7c4)][_0x2849b3(0x1b9)]({'_id':_0x655691[_0x2849b3(0x39d)]||new le[(_0x2849b3(0x1c2))][(_0x2849b3(0x6e5))]['ObjectId']()[_0x2849b3(0x6a2)](),'order':_0x655691[_0x2849b3(0x69b)],'name':_0x655691[_0x2849b3(0x228)]}),_0x4e5023=!0x0;}}if(_0x4e5023){_0x21c425[_0x2849b3(0x7c4)][_0x2849b3(0x6a4)]((_0x4f6139,_0x399a4c)=>_0x4f6139['order']>_0x399a4c['order']?0x1:_0x399a4c[_0x2849b3(0x69b)]>_0x4f6139[_0x2849b3(0x69b)]?-0x1:0x0);for(let _0x233df1=0x0;_0x233df1<_0x21c425['customFields']['length'];_0x233df1++)_0x21c425[_0x2849b3(0x7c4)][_0x233df1]['order']=_0x233df1+0x1;}let _0x20053d=await this['repository']['automateSystem'][_0x2849b3(0x67c)](_0x21c425,this[_0x2849b3(0x468)][_0x2849b3(0x577)]);return this[_0x2849b3(0x56c)]=_0x20053d,this[_0x2849b3(0x2d2)][_0x2849b3(0x1ef)](this[_0x2849b3(0x682)]+'\x20('+this[_0x2849b3(0x468)][_0x2849b3(0x577)]+_0x2849b3(0x1f9)),this[_0x2849b3(0x2d2)][_0x2849b3(0x1ef)](this[_0x2849b3(0x682)]+'\x20('+this[_0x2849b3(0x468)][_0x2849b3(0x577)]+_0x2849b3(0x442)+this[_0x2849b3(0x56c)]),_0x20053d;}catch(_0x8a339){throw this[_0x2849b3(0x2d2)][_0x2849b3(0x4e7)](this[_0x2849b3(0x682)]+'\x20('+this[_0x2849b3(0x468)]['wuid']+_0x2849b3(0x2e7)+(_0x8a339 instanceof Error?_0x8a339[_0x2849b3(0x66c)]:JSON[_0x2849b3(0x74e)](_0x8a339,null,0x2))),new w(_0x2849b3(0x21b)+_0x8a339['message']);}}async[a0_0x131850(0x439)](_0x11bad8){const _0x6de0b1=a0_0x131850;try{let _0x32f146=await this[_0x6de0b1(0x5c7)]['automateSystem'][_0x6de0b1(0x36e)](this['instance'][_0x6de0b1(0x577)]);if(!_0x32f146)throw new Error(_0x6de0b1(0x497));let _0x3dd55c={'_id':_0x32f146[_0x6de0b1(0x39d)],'flowConfig':{'enabled':_0x11bad8[_0x6de0b1(0x45c)]??_0x32f146[_0x6de0b1(0x7e5)][_0x6de0b1(0x45c)],'ignoreGroups':_0x11bad8[_0x6de0b1(0x641)]??_0x32f146[_0x6de0b1(0x7e5)][_0x6de0b1(0x641)],'prefixCommand':_0x11bad8[_0x6de0b1(0x3f8)]??_0x32f146[_0x6de0b1(0x7e5)][_0x6de0b1(0x3f8)],'stopConversation':_0x11bad8[_0x6de0b1(0x3d9)]??_0x32f146['flowConfig'][_0x6de0b1(0x3d9)],'stopMinutes':_0x11bad8[_0x6de0b1(0x3b2)]??_0x32f146[_0x6de0b1(0x7e5)][_0x6de0b1(0x3b2)],'stopWhenYouSendMsg':_0x11bad8['stopWhenYouSendMsg']??_0x32f146[_0x6de0b1(0x7e5)][_0x6de0b1(0x34c)]}},_0x4cbdd=await this[_0x6de0b1(0x5c7)][_0x6de0b1(0x642)]['update'](_0x3dd55c,this[_0x6de0b1(0x468)][_0x6de0b1(0x577)]);return this['AutomateSystem']=_0x4cbdd,this[_0x6de0b1(0x2d2)][_0x6de0b1(0x1ef)](this[_0x6de0b1(0x682)]+'\x20('+this[_0x6de0b1(0x468)]['wuid']+_0x6de0b1(0x50e)),this[_0x6de0b1(0x2d2)]['verbose'](this[_0x6de0b1(0x682)]+'\x20('+this[_0x6de0b1(0x468)][_0x6de0b1(0x577)]+_0x6de0b1(0x442)+this[_0x6de0b1(0x56c)]),setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x4cbdd;}catch(_0x5145d0){throw this['logger']['error'](this[_0x6de0b1(0x682)]+'\x20('+this[_0x6de0b1(0x468)][_0x6de0b1(0x577)]+'):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+(_0x5145d0 instanceof Error?_0x5145d0['message']:JSON[_0x6de0b1(0x74e)](_0x5145d0,null,0x2))),new w(_0x6de0b1(0x1eb)+_0x5145d0[_0x6de0b1(0x66c)]);}}async[a0_0x131850(0x572)](){const _0x3919df=a0_0x131850;try{let _0x335c6e=await this[_0x3919df(0x5c7)][_0x3919df(0x642)][_0x3919df(0x36e)](this[_0x3919df(0x468)][_0x3919df(0x577)]);return this[_0x3919df(0x56c)]=_0x335c6e,this['logger'][_0x3919df(0x1ef)](this[_0x3919df(0x682)]+'\x20('+this['instance'][_0x3919df(0x577)]+_0x3919df(0x477)),this[_0x3919df(0x2d2)][_0x3919df(0x1ef)](this['AutomateSystem']),_0x335c6e;}catch(_0x39429a){throw this['logger']['error'](this[_0x3919df(0x682)]+'\x20('+this[_0x3919df(0x468)][_0x3919df(0x577)]+_0x3919df(0x554)+(_0x39429a instanceof Error?_0x39429a['message']:JSON[_0x3919df(0x74e)](_0x39429a,null,0x2))),new w('Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20'+_0x39429a['message']);}}async[a0_0x131850(0x6d7)](){const _0x37bd0d=a0_0x131850;this[_0x37bd0d(0x468)]['ScheduleMessage'][_0x37bd0d(0x1c9)]&&clearTimeout(this[_0x37bd0d(0x468)][_0x37bd0d(0x44d)][_0x37bd0d(0x1c9)]),this[_0x37bd0d(0x468)][_0x37bd0d(0x44d)][_0x37bd0d(0x1c9)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x131850(0x5ea)](){const _0x3a2157=a0_0x131850;Date[_0x3a2157(0x447)]()-this[_0x3a2157(0x468)]['ScheduleMessage'][_0x3a2157(0x701)]>=0x1d4c0&&(this[_0x3a2157(0x2d2)][_0x3a2157(0x1ef)](this[_0x3a2157(0x682)]+'\x20('+this[_0x3a2157(0x468)]['wuid']+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x3a2157(0x468)]['ScheduleMessage'][_0x3a2157(0x2c1)]=null,this['instance'][_0x3a2157(0x44d)][_0x3a2157(0x701)]=0x0,this[_0x3a2157(0x468)][_0x3a2157(0x44d)][_0x3a2157(0x198)]=0x0,await this[_0x3a2157(0x294)]());}async[a0_0x131850(0x294)](){const _0x3ced30=a0_0x131850;let _0xde225=()=>{const _0x4b8260=a0_0x1581;this[_0x4b8260(0x2d2)][_0x4b8260(0x1ef)](this[_0x4b8260(0x682)]+'\x20('+this['instance'][_0x4b8260(0x577)]+_0x4b8260(0x76f)+this['instance'][_0x4b8260(0x44d)]['processing_id']+_0x4b8260(0x58b));},_0x47d172=async()=>{const _0x27734b=a0_0x1581;this[_0x27734b(0x2d2)][_0x27734b(0x1ef)](this[_0x27734b(0x682)]+'\x20('+this[_0x27734b(0x468)][_0x27734b(0x577)]+_0x27734b(0x18a));let _0xb874d1=Date[_0x27734b(0x447)]()-0xc*0x3c*0x3c*0x3e8,_0x575b00={'where':{'status':{'$in':[_0x27734b(0x4f8),_0x27734b(0x457)]},'$or':[{'when':{'$lte':Date[_0x27734b(0x447)](),'$gte':_0xb874d1}},{'when':0x0}]}};return await this['repository'][_0x27734b(0x185)][_0x27734b(0x518)](_0x575b00,this[_0x27734b(0x468)][_0x27734b(0x577)]);},_0x4f5d35=async _0x19f0f3=>{const _0x2cb649=a0_0x1581;for(let _0x382ddb of _0x19f0f3){let _0x28604b={'_id':_0x382ddb['_id'],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x2cb649(0x447)]()-0x1770}}]},_0xb3295c={'startSend':Date[_0x2cb649(0x447)]()};if(!await this[_0x2cb649(0x5c7)][_0x2cb649(0x185)][_0x2cb649(0x5e3)](_0x28604b,_0xb3295c,this[_0x2cb649(0x468)][_0x2cb649(0x577)]))return;if(!this[_0x2cb649(0x468)]['ScheduleMessage'][_0x2cb649(0x302)]){this[_0x2cb649(0x2d2)][_0x2cb649(0x1ef)](this['instanceName']+'\x20('+this['instance'][_0x2cb649(0x577)]+_0x2cb649(0x4a6));break;}if(_0x382ddb[_0x2cb649(0x65a)]==='flow'&&!this[_0x2cb649(0x56c)]?.[_0x2cb649(0x7e5)][_0x2cb649(0x45c)]){this[_0x2cb649(0x2d2)][_0x2cb649(0x4e7)](this[_0x2cb649(0x682)]+'\x20('+this[_0x2cb649(0x468)][_0x2cb649(0x577)]+_0x2cb649(0x352));continue;}(!_0x382ddb['remoteJidsRemaining']||_0x382ddb[_0x2cb649(0x3e5)][_0x2cb649(0x724)]===0x0)&&(_0x382ddb=await this[_0x2cb649(0x5c7)][_0x2cb649(0x185)]['updateOneById'](_0x382ddb[_0x2cb649(0x39d)],{'status':_0x2cb649(0x457),'remoteJidsRemaining':[..._0x382ddb[_0x2cb649(0x3f9)]]},this[_0x2cb649(0x468)][_0x2cb649(0x577)]));for(let _0x130101 of _0x382ddb[_0x2cb649(0x3e5)]){if(await this[_0x2cb649(0x6d7)](),this[_0x2cb649(0x468)][_0x2cb649(0x44d)]['lastSend']=Date[_0x2cb649(0x447)](),this[_0x2cb649(0x468)][_0x2cb649(0x44d)]['ultimaTentativaRemoteJid']===_0x130101){this[_0x2cb649(0x2d2)]['error'](this[_0x2cb649(0x682)]+'\x20('+this['instance'][_0x2cb649(0x577)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20'+_0x130101+_0x2cb649(0x5f5));let _0x2613af={'$push':{'messagesSend':{'remoteJid':_0x130101,'error':!0x0,'id':null,'error_log':_0x2cb649(0x42f),'log_timestamp':Date['now']()}},'$pull':{'remoteJidsRemaining':_0x130101}};await this[_0x2cb649(0x5c7)][_0x2cb649(0x185)][_0x2cb649(0x53d)](_0x382ddb[_0x2cb649(0x39d)],_0x2613af,this[_0x2cb649(0x468)][_0x2cb649(0x577)]);continue;}if(this[_0x2cb649(0x468)][_0x2cb649(0x44d)][_0x2cb649(0x53b)]=_0x130101,_0x382ddb[_0x2cb649(0x249)][_0x2cb649(0x50b)](_0x435c67=>_0x435c67[_0x2cb649(0x778)]===_0x130101)){this[_0x2cb649(0x2d2)]['verbose'](this['instanceName']+'\x20('+this[_0x2cb649(0x468)][_0x2cb649(0x577)]+_0x2cb649(0x535)+_0x130101+_0x2cb649(0x68a));continue;}if(!this['instance'][_0x2cb649(0x44d)][_0x2cb649(0x302)]){this[_0x2cb649(0x2d2)]['verbose'](this['instanceName']+'\x20('+this[_0x2cb649(0x468)][_0x2cb649(0x577)]+_0x2cb649(0x3f3));break;}if(!this[_0x2cb649(0x468)][_0x2cb649(0x44d)][_0x2cb649(0x2c1)]){this['logger'][_0x2cb649(0x1ef)](this[_0x2cb649(0x682)]+'\x20('+this[_0x2cb649(0x468)]['wuid']+_0x2cb649(0x3bd)+_0x382ddb[_0x2cb649(0x39d)]+_0x2cb649(0x226));break;}if(_0x382ddb['type']===_0x2cb649(0x3e2)&&!this[_0x2cb649(0x56c)]?.[_0x2cb649(0x7e5)]['enabled']){this['logger'][_0x2cb649(0x4e7)](this[_0x2cb649(0x682)]+'\x20('+this['instance'][_0x2cb649(0x577)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x1090b2={'remoteJid':_0x130101,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x2cb649(0x447)]()},_0x5dfbe2=null;try{let _0x4af8ee=await this['SendScheduleMessage'](_0x130101,_0x382ddb);_0x1090b2[_0x2cb649(0x4e7)]=_0x4af8ee[_0x2cb649(0x4e7)],_0x1090b2['id']=_0x4af8ee[_0x2cb649(0x4e7)]?null:_0x4af8ee['id'],_0x1090b2[_0x2cb649(0x748)]=_0x4af8ee[_0x2cb649(0x4e7)]?_0x4af8ee['detail']?_0x4af8ee[_0x2cb649(0x766)]['toString']():'':null;let _0x47d387={'$push':{'messagesSend':_0x1090b2},'$pull':{'remoteJidsRemaining':_0x130101}},_0x80a9f8=_0x382ddb[_0x2cb649(0x39d)];if(_0x5dfbe2=await this[_0x2cb649(0x5c7)][_0x2cb649(0x185)][_0x2cb649(0x53d)](_0x80a9f8,_0x47d387,this['instance'][_0x2cb649(0x577)]),_0x4af8ee['error'])continue;let _0xe86242=this[_0x2cb649(0x386)](_0x382ddb[_0x2cb649(0x7c9)],_0x382ddb[_0x2cb649(0x18e)]);await this[_0x2cb649(0x2d7)](_0xe86242);}catch(_0x2138f7){this[_0x2cb649(0x2d2)][_0x2cb649(0x4e7)](this[_0x2cb649(0x682)]+'\x20('+this[_0x2cb649(0x468)][_0x2cb649(0x577)]+_0x2cb649(0x7bd)+_0x130101+':\x20'+(_0x2138f7 instanceof Error?_0x2138f7[_0x2cb649(0x66c)]:JSON['stringify'](_0x2138f7,null,0x2))),_0x1090b2[_0x2cb649(0x4e7)]=!0x0,_0x1090b2[_0x2cb649(0x748)]=_0x2138f7[_0x2cb649(0x66c)];let _0xc4cd2d={'$push':{'messagesSend':_0x1090b2},'$pull':{'remoteJidsRemaining':_0x130101}},_0x2ee62f=_0x382ddb['_id'];_0x5dfbe2=await this['repository'][_0x2cb649(0x185)][_0x2cb649(0x53d)](_0x2ee62f,_0xc4cd2d,this[_0x2cb649(0x468)][_0x2cb649(0x577)]);}finally{if(_0x5dfbe2&&_0x5dfbe2[_0x2cb649(0x42e)]===_0x2cb649(0x4e5)){this[_0x2cb649(0x2d2)][_0x2cb649(0x1ef)](this['instanceName']+'\x20('+this[_0x2cb649(0x468)][_0x2cb649(0x577)]+_0x2cb649(0x3bd)+_0x382ddb[_0x2cb649(0x39d)]+_0x2cb649(0x418));break;}}}let _0x5c1e22=await this[_0x2cb649(0x5c7)]['scheduleMessage']['findById'](_0x382ddb[_0x2cb649(0x39d)],this[_0x2cb649(0x468)][_0x2cb649(0x577)]);if(_0x5c1e22['remoteJidsRemaining'][_0x2cb649(0x724)]===0x0&&_0x5c1e22[_0x2cb649(0x42e)]!==_0x2cb649(0x4e5)){this[_0x2cb649(0x468)][_0x2cb649(0x44d)][_0x2cb649(0x53b)]=null;let _0x124cf4={'$set':{'status':_0x2cb649(0x631)}},_0x41c2b9=_0x5c1e22['_id'];await this[_0x2cb649(0x5c7)][_0x2cb649(0x185)][_0x2cb649(0x53d)](_0x41c2b9,_0x124cf4,this[_0x2cb649(0x468)][_0x2cb649(0x577)]);}await new Promise(_0x35233a=>setTimeout(_0x35233a,0x1388));}},_0x1fa947=async()=>{const _0xf035ec=a0_0x1581;let _0x48092f={'where':{'status':_0xf035ec(0x4f8),'when':{'$gt':Date['now']()}}},_0x2f107e=await this[_0xf035ec(0x5c7)]['scheduleMessage'][_0xf035ec(0x5d6)](_0x48092f,this[_0xf035ec(0x468)][_0xf035ec(0x577)]);_0x2f107e&&_0x2f107e['when']-Date[_0xf035ec(0x447)]()<=0x5265c00?this['instance'][_0xf035ec(0x44d)][_0xf035ec(0x198)]=_0x2f107e['when']-Date[_0xf035ec(0x447)]():this['instance'][_0xf035ec(0x44d)][_0xf035ec(0x198)]=(0x3c+Math[_0xf035ec(0x7ca)](Math[_0xf035ec(0x18d)]()*0x3c))*0x3c*0x3e8,this['instance'][_0xf035ec(0x44d)][_0xf035ec(0x198)]=Math[_0xf035ec(0x41a)](this[_0xf035ec(0x468)][_0xf035ec(0x44d)][_0xf035ec(0x198)],0x7d0);let _0x232400=Math[_0xf035ec(0x4d3)](this[_0xf035ec(0x468)][_0xf035ec(0x44d)][_0xf035ec(0x198)]/0xea60);if(_0x2f107e){let _0x28edc7=new Date(_0x2f107e['when'])['toLocaleString']();this[_0xf035ec(0x2d2)][_0xf035ec(0x1ef)](this[_0xf035ec(0x682)]+'\x20('+this[_0xf035ec(0x468)]['wuid']+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x28edc7+_0xf035ec(0x24e)+_0x232400+_0xf035ec(0x78d));}else this['logger'][_0xf035ec(0x1ef)](this[_0xf035ec(0x682)]+'\x20('+this[_0xf035ec(0x468)][_0xf035ec(0x577)]+_0xf035ec(0x656)+_0x232400+_0xf035ec(0x78d));setTimeout(()=>this[_0xf035ec(0x294)](),this[_0xf035ec(0x468)]['ScheduleMessage'][_0xf035ec(0x198)]);};if(this[_0x3ced30(0x468)][_0x3ced30(0x44d)]['processing_id']){await this['setRestartTimeout'](),_0xde225();return;}if(!this['instance'][_0x3ced30(0x44d)][_0x3ced30(0x302)]){this[_0x3ced30(0x2d2)]['verbose'](this['instanceName']+'\x20('+this[_0x3ced30(0x468)][_0x3ced30(0x577)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this['instance']['ScheduleMessage'][_0x3ced30(0x2c1)]=null,this[_0x3ced30(0x468)][_0x3ced30(0x44d)]['lastSend']=0x0,this[_0x3ced30(0x468)][_0x3ced30(0x44d)]['delayMessage']=0x0,this[_0x3ced30(0x468)][_0x3ced30(0x44d)][_0x3ced30(0x53b)]=null;return;}try{let _0x21e2bf=await _0x47d172();_0x21e2bf[_0x3ced30(0x724)]===0x0?this[_0x3ced30(0x2d2)][_0x3ced30(0x1ef)](this['instanceName']+'\x20('+this['instance'][_0x3ced30(0x577)]+'):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.'):(this[_0x3ced30(0x468)]['ScheduleMessage'][_0x3ced30(0x2c1)]=_0x21e2bf[0x0][_0x3ced30(0x39d)],await _0x4f5d35(_0x21e2bf)),await _0x1fa947(),this[_0x3ced30(0x468)]['ScheduleMessage'][_0x3ced30(0x2c1)]=null,this[_0x3ced30(0x468)][_0x3ced30(0x44d)]['ultimaTentativaRemoteJid']=null;}catch(_0x48d2bb){this['logger']['error'](_0x3ced30(0x549)+(_0x48d2bb instanceof Error?_0x48d2bb[_0x3ced30(0x66c)]:JSON['stringify'](_0x48d2bb,null,0x2)));}}[a0_0x131850(0x386)](_0x2be1ce,_0x26a6c6){const _0x1c8b2a=a0_0x131850;return _0x2be1ce=Math['max'](0.5,_0x2be1ce),_0x26a6c6=Math[_0x1c8b2a(0x47c)](Math[_0x1c8b2a(0x41a)](0x3,_0x26a6c6),0x78),Math[_0x1c8b2a(0x7ca)](Math['random']()*(_0x26a6c6-_0x2be1ce+0x1)+_0x2be1ce)*0x3e8;}[a0_0x131850(0x2d7)](_0x29808d){return new Promise(_0x305be9=>setTimeout(_0x305be9,_0x29808d));}async[a0_0x131850(0x2fb)](_0x173838){const _0x80d862=a0_0x131850;if(!this[_0x80d862(0x56c)]&&(await this[_0x80d862(0x572)](),!this[_0x80d862(0x56c)]))return null;_0x173838=this[_0x80d862(0x593)](_0x173838);let _0x2c268b=await this[_0x80d862(0x5c7)][_0x80d862(0x801)][_0x80d862(0x5d6)]({'where':{'_id':_0x173838}},this['instance']['wuid']),_0x526010={};if(_0x2c268b&&_0x2c268b[_0x80d862(0x430)]){let _0x288a77=_0x2c268b[_0x80d862(0x430)];typeof _0x288a77['nome']=='string'&&(_0x526010['nome']=_0x288a77['nome']),typeof _0x288a77['nomecompleto']==_0x80d862(0x2e4)&&(_0x526010['nomecompleto']=_0x288a77['nomecompleto']),typeof _0x288a77['email']=='string'&&(_0x526010[_0x80d862(0x487)]=_0x288a77[_0x80d862(0x487)]),typeof _0x288a77[_0x80d862(0x688)]==_0x80d862(0x2e4)&&(_0x526010['cpf']=_0x288a77['cpf']),typeof _0x288a77[_0x80d862(0x42e)]==_0x80d862(0x2e4)&&(_0x526010[_0x80d862(0x42e)]=_0x288a77['status']),typeof _0x288a77[_0x80d862(0x74f)]==_0x80d862(0x2e4)&&(_0x526010['notas']=_0x288a77[_0x80d862(0x74f)]),typeof _0x288a77[_0x80d862(0x1bf)]=='string'&&(_0x526010['responsavelid']=_0x288a77[_0x80d862(0x1bf)]),Array['isArray'](_0x288a77[_0x80d862(0x1a6)])&&(_0x526010[_0x80d862(0x1a6)]=_0x288a77[_0x80d862(0x1a6)][_0x80d862(0x50c)](',\x20')),Array[_0x80d862(0x24a)](_0x288a77[_0x80d862(0x82d)])&&(_0x526010[_0x80d862(0x82d)]=_0x288a77['etiquetas']['join'](',\x20'));}return _0x2c268b&&_0x2c268b[_0x80d862(0x430)]&&_0x2c268b[_0x80d862(0x430)][_0x80d862(0x7c4)]&&_0x2c268b['leadInfo']['customFields'][_0x80d862(0x773)](_0x29a44b=>{const _0x4f8e9b=_0x80d862;let _0x14fecb=this['AutomateSystem']?.[_0x4f8e9b(0x7c4)][_0x4f8e9b(0x518)](_0x17c7a0=>_0x17c7a0[_0x4f8e9b(0x39d)]===_0x29a44b['_id']);_0x14fecb&&(_0x526010[_0x14fecb['name']]=_0x29a44b['value']);}),_0x526010;}async[a0_0x131850(0x749)](_0x219817,_0xed6b1f){const _0x45f89e=a0_0x131850;let _0x4f198f=await this['getVariablesChat'](_0xed6b1f);return this[_0x45f89e(0x3f0)](_0x219817,_0x4f198f);}async[a0_0x131850(0x7c5)](_0x26fceb){const _0x22ec32=a0_0x131850;try{if(this[_0x22ec32(0x2d2)]['verbose'](this['instanceName']+'\x20('+this[_0x22ec32(0x468)][_0x22ec32(0x577)]+_0x22ec32(0x167)),_0x26fceb['delete']&&_0x26fceb['_id']){if(this[_0x22ec32(0x468)][_0x22ec32(0x44d)][_0x22ec32(0x2c1)]===_0x26fceb['_id'][_0x22ec32(0x6a2)]())throw new Error(_0x22ec32(0x4f5));let _0x49d750=await this[_0x22ec32(0x5c7)]['scheduleMessage']['deleteOne'](_0x26fceb['_id'],this[_0x22ec32(0x468)]['wuid']);return setTimeout(()=>this[_0x22ec32(0x294)](),0x7d0),_0x49d750;}let _0x3c2592;if(_0x26fceb[_0x22ec32(0x39d)]&&(_0x3c2592=await this[_0x22ec32(0x5c7)][_0x22ec32(0x185)][_0x22ec32(0x32c)](_0x26fceb[_0x22ec32(0x39d)],this[_0x22ec32(0x468)][_0x22ec32(0x577)])),_0x3c2592){let _0x5a12ea;if(this['instance']['ScheduleMessage'][_0x22ec32(0x2c1)]===_0x3c2592[_0x22ec32(0x39d)][_0x22ec32(0x6a2)]())_0x5a12ea={'$set':{'status':_0x26fceb[_0x22ec32(0x42e)]}};else{let {_id:_0x540a8e,..._0x59c901}=_0x26fceb;_0x5a12ea={'$set':_0x59c901};}let _0x49786b=await this['repository'][_0x22ec32(0x185)][_0x22ec32(0x53d)](_0x26fceb[_0x22ec32(0x39d)],_0x5a12ea,this[_0x22ec32(0x468)][_0x22ec32(0x577)]);return setTimeout(()=>this[_0x22ec32(0x294)](),0x7d0),_0x49786b;}else{_0x26fceb['owner']=this[_0x22ec32(0x468)][_0x22ec32(0x577)];let _0x37dd61=await this[_0x22ec32(0x5c7)][_0x22ec32(0x185)][_0x22ec32(0x36a)](_0x26fceb,this[_0x22ec32(0x468)]['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x37dd61;}}catch(_0x36292b){throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x22ec32(0x468)][_0x22ec32(0x577)]+'):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20'+(_0x36292b instanceof Error?_0x36292b[_0x22ec32(0x66c)]:JSON['stringify'](_0x36292b,null,0x2))),new w(_0x22ec32(0x485)+_0x36292b[_0x22ec32(0x66c)]);}}async[a0_0x131850(0x43a)](){const _0x474611=a0_0x131850;try{return await this[_0x474611(0x5c7)]['scheduleMessage'][_0x474611(0x518)]({'where':{}},this['instance'][_0x474611(0x577)]);}catch(_0x189e22){throw this[_0x474611(0x2d2)][_0x474611(0x4e7)](this[_0x474611(0x682)]+'\x20('+this[_0x474611(0x468)][_0x474611(0x577)]+'):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:'+(_0x189e22 instanceof Error?_0x189e22[_0x474611(0x66c)]:JSON[_0x474611(0x74e)](_0x189e22,null,0x2))),new w(_0x474611(0x485)+_0x189e22[_0x474611(0x66c)]);}}async[a0_0x131850(0x7e4)](){const _0x3bd1b1=a0_0x131850;try{let _0x42f715={'status':_0x3bd1b1(0x631)},_0x5893c3=await this['repository'][_0x3bd1b1(0x185)][_0x3bd1b1(0x470)](_0x42f715,this[_0x3bd1b1(0x468)][_0x3bd1b1(0x577)]);if(!_0x5893c3['error'])this['logger'][_0x3bd1b1(0x1ef)](this['instanceName']+'\x20('+this[_0x3bd1b1(0x468)][_0x3bd1b1(0x577)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x5893c3[_0x3bd1b1(0x4e7)][_0x3bd1b1(0x66c)]||_0x3bd1b1(0x7ec));return this['getScheduleMessage']();}catch(_0x3d632b){throw this[_0x3bd1b1(0x2d2)][_0x3bd1b1(0x4e7)](this[_0x3bd1b1(0x682)]+'\x20('+this[_0x3bd1b1(0x468)][_0x3bd1b1(0x577)]+_0x3bd1b1(0x4b9)+(_0x3d632b instanceof Error?_0x3d632b['message']:JSON[_0x3bd1b1(0x74e)](_0x3d632b,null,0x2))),new w(_0x3bd1b1(0x485)+_0x3d632b[_0x3bd1b1(0x66c)]);}}async['SendScheduleMessage'](_0x35bc7d,_0x5440a2){const _0x9266d8=a0_0x131850;try{if(_0x5440a2[_0x9266d8(0x65a)]===_0x9266d8(0x3e2)&&!this[_0x9266d8(0x56c)]?.[_0x9266d8(0x7e5)][_0x9266d8(0x45c)])return this[_0x9266d8(0x2d2)][_0x9266d8(0x4e7)](this['instanceName']+'\x20('+this[_0x9266d8(0x468)][_0x9266d8(0x577)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x9266d8(0x250)};switch(_0x5440a2[_0x9266d8(0x65a)]){case'text':return await this[_0x9266d8(0x83a)](_0x5440a2,_0x35bc7d);case _0x9266d8(0x74a):return await this[_0x9266d8(0x2ca)](_0x5440a2,_0x35bc7d);case _0x9266d8(0x520):return await this['scheduleSendAudio'](_0x5440a2,_0x35bc7d);case _0x9266d8(0x3e2):let _0x4db0bf=new je();return _0x4db0bf[_0x9266d8(0x228)]=_0x5440a2[_0x9266d8(0x7f9)],_0x4db0bf['remoteJid']=_0x35bc7d,await this[_0x9266d8(0x742)](_0x4db0bf);break;default:return this[_0x9266d8(0x2d2)]['error'](this[_0x9266d8(0x682)]+'\x20('+this[_0x9266d8(0x468)]['wuid']+_0x9266d8(0x606)+_0x5440a2[_0x9266d8(0x65a)]),{'error':!0x0,'detail':_0x9266d8(0x428)};}}catch(_0x2ef62a){return this['logger'][_0x9266d8(0x4e7)](this[_0x9266d8(0x682)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x2ef62a instanceof Error?_0x2ef62a[_0x9266d8(0x66c)]:JSON['stringify'](_0x2ef62a,null,0x2))),{'error':!0x0,'detail':_0x2ef62a['message']};}}[a0_0x131850(0x36b)](_0x41297c){const _0x28625d=a0_0x131850;let _0x227a80=_0x41297c[_0x28625d(0x5a5)]('|'),_0x1943c2=Math[_0x28625d(0x7ca)](Math[_0x28625d(0x18d)]()*_0x227a80[_0x28625d(0x724)]);return _0x227a80[_0x1943c2][_0x28625d(0x32a)]();}async[a0_0x131850(0x83a)](_0x33b641,_0x482a46){const _0x4c9692=a0_0x131850;if(this[_0x4c9692(0x2d2)][_0x4c9692(0x1ef)](this[_0x4c9692(0x682)]+'\x20('+this[_0x4c9692(0x468)][_0x4c9692(0x577)]+'):\x20Enviando\x20texto'),!_0x33b641[_0x4c9692(0x66c)][_0x4c9692(0x373)]||_0x33b641[_0x4c9692(0x66c)][_0x4c9692(0x373)][_0x4c9692(0x724)]===0x0)return{'error':!0x0,'detail':_0x4c9692(0x206)};let _0xb2f771=this[_0x4c9692(0x36b)](_0x33b641['message'][_0x4c9692(0x373)]),_0x56db80=await this[_0x4c9692(0x749)](_0xb2f771,_0x482a46),_0x4aefd9={'number':_0x482a46,'options':{'delay':_0x33b641['message'][_0x4c9692(0x713)],'linkPreview':_0x33b641[_0x4c9692(0x66c)][_0x4c9692(0x29e)]},'textMessage':{'text':_0x56db80}},_0x4cb184=null;try{let _0x2ad8dd=await this[_0x4c9692(0x73c)](_0x4aefd9);if(_0x2ad8dd&&_0x2ad8dd[_0x4c9692(0x42e)])return{'error':!0x1,'id':_0x2ad8dd['key']['id']};_0x4cb184=JSON[_0x4c9692(0x74e)](_0x2ad8dd),this[_0x4c9692(0x2d2)][_0x4c9692(0x1ef)](this[_0x4c9692(0x682)]+'\x20('+this[_0x4c9692(0x468)]['wuid']+_0x4c9692(0x442)+_0x4cb184);}catch(_0xf28966){this[_0x4c9692(0x2d2)][_0x4c9692(0x4e7)](this[_0x4c9692(0x682)]+'\x20('+this[_0x4c9692(0x468)][_0x4c9692(0x577)]+_0x4c9692(0x3e9)+(_0xf28966 instanceof Error?_0xf28966['message']:JSON[_0x4c9692(0x74e)](_0xf28966,null,0x2))),_0x4cb184=_0xf28966[_0x4c9692(0x66c)];}if(_0x4cb184)return{'error':!0x0,'detail':(typeof _0x4cb184==_0x4c9692(0x662)?JSON[_0x4c9692(0x74e)](_0x4cb184,null,0x2):_0x4cb184)[_0x4c9692(0x357)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x131850(0x2ca)](_0x7fa11a,_0x24dcab){const _0x46a0a6=a0_0x131850;this[_0x46a0a6(0x2d2)][_0x46a0a6(0x1ef)](this[_0x46a0a6(0x682)]+'\x20('+this[_0x46a0a6(0x468)][_0x46a0a6(0x577)]+_0x46a0a6(0x7ef));let _0xe0cbe6;if(_0x7fa11a[_0x46a0a6(0x66c)]['text']&&_0x7fa11a[_0x46a0a6(0x66c)][_0x46a0a6(0x373)]['length']>0x0){let _0x4051b2=this[_0x46a0a6(0x36b)](_0x7fa11a[_0x46a0a6(0x66c)][_0x46a0a6(0x373)]);_0xe0cbe6=await this[_0x46a0a6(0x749)](_0x4051b2,_0x24dcab);}let _0x36379e={'number':_0x24dcab,'options':{'delay':_0x7fa11a[_0x46a0a6(0x66c)]['delay'],'linkPreview':_0x7fa11a[_0x46a0a6(0x66c)][_0x46a0a6(0x29e)]},'mediaMessage':{'mediatype':_0x7fa11a[_0x46a0a6(0x66c)][_0x46a0a6(0x5db)],'caption':_0xe0cbe6,'media':_0x7fa11a['message'][_0x46a0a6(0x768)]}},_0x4b1366=null;try{let _0x1c23aa=await this[_0x46a0a6(0x410)](_0x36379e);if(_0x1c23aa&&_0x1c23aa['status'])return{'error':!0x1,'id':_0x1c23aa[_0x46a0a6(0x502)]['id']};_0x4b1366=JSON[_0x46a0a6(0x74e)](_0x1c23aa),this['logger'][_0x46a0a6(0x1ef)](this[_0x46a0a6(0x682)]+'\x20('+this[_0x46a0a6(0x468)][_0x46a0a6(0x577)]+'):\x20'+_0x4b1366);}catch(_0x3cd16e){this[_0x46a0a6(0x2d2)][_0x46a0a6(0x4e7)](this['instanceName']+'\x20('+this[_0x46a0a6(0x468)]['wuid']+_0x46a0a6(0x824)+(_0x3cd16e instanceof Error?_0x3cd16e[_0x46a0a6(0x66c)]:JSON[_0x46a0a6(0x74e)](_0x3cd16e,null,0x2))),_0x4b1366=_0x3cd16e[_0x46a0a6(0x66c)];}if(_0x4b1366)return{'error':!0x0,'detail':(typeof _0x4b1366==_0x46a0a6(0x662)?JSON[_0x46a0a6(0x74e)](_0x4b1366,null,0x2):_0x4b1366)[_0x46a0a6(0x357)](/[\[\]{}\n]/g,'\x20')[_0x46a0a6(0x357)](/  +/g,'\x20')};}async[a0_0x131850(0x52d)](_0x402431,_0x2478c1){const _0x47d88e=a0_0x131850;this[_0x47d88e(0x2d2)][_0x47d88e(0x1ef)](this[_0x47d88e(0x682)]+'\x20('+this[_0x47d88e(0x468)]['wuid']+'):\x20Enviando\x20áudio');let _0x188ad9={'number':_0x2478c1,'options':{'delay':_0x402431[_0x47d88e(0x66c)][_0x47d88e(0x713)]},'audioMessage':{'audio':_0x402431[_0x47d88e(0x66c)][_0x47d88e(0x768)]}},_0x101580=null;try{let _0x2be6bd=await this['audioWhatsapp'](_0x188ad9);if(_0x2be6bd&&_0x2be6bd[_0x47d88e(0x42e)])return{'error':!0x1,'id':_0x2be6bd[_0x47d88e(0x502)]['id']};_0x101580=JSON[_0x47d88e(0x74e)](_0x2be6bd),this[_0x47d88e(0x2d2)][_0x47d88e(0x1ef)](this[_0x47d88e(0x682)]+'\x20('+this[_0x47d88e(0x468)]['wuid']+_0x47d88e(0x442)+_0x101580);}catch(_0x48525b){this[_0x47d88e(0x2d2)][_0x47d88e(0x4e7)](this[_0x47d88e(0x682)]+'\x20('+this[_0x47d88e(0x468)][_0x47d88e(0x577)]+_0x47d88e(0x68f)+(_0x48525b instanceof Error?_0x48525b[_0x47d88e(0x66c)]:JSON[_0x47d88e(0x74e)](_0x48525b,null,0x2))),_0x101580=_0x48525b[_0x47d88e(0x66c)];}if(_0x101580)return{'error':!0x0,'detail':(typeof _0x101580=='object'?JSON[_0x47d88e(0x74e)](_0x101580,null,0x2):_0x101580)[_0x47d88e(0x357)](/[\[\]{}\n]/g,'\x20')[_0x47d88e(0x357)](/  +/g,'\x20')};}},Ut=class c{constructor(_0x1672f5,_0x551e5e,_0x3c38c7){const _0xc886dc=a0_0x131850;this['eventEmitter']=_0x1672f5,this['configService']=_0x551e5e,this['repository']=_0x3c38c7,this['db']={},this[_0xc886dc(0x172)]={},this['logger']=new v(c[_0xc886dc(0x228)]),this[_0xc886dc(0x417)]={},(this[_0xc886dc(0x7ba)](),this[_0xc886dc(0x752)](),Object['assign'](this['db'],_0x551e5e['get']('DATABASE')),Object[_0xc886dc(0x837)](this[_0xc886dc(0x172)],_0x551e5e['get'](_0xc886dc(0x2cf))),this[_0xc886dc(0x5a0)]=this['db'][_0xc886dc(0x237)]?this['repository']['dbServer']?.['db'](this['db'][_0xc886dc(0x710)][_0xc886dc(0x1be)]+_0xc886dc(0x1e8)):void 0x0,this[_0xc886dc(0x2aa)]=this['redis'][_0xc886dc(0x237)]?new ne(this[_0xc886dc(0x172)]):void 0x0);}async[a0_0x131850(0x1ab)](_0x2250f6){const _0x57cffa=a0_0x131850;if(_0x2250f6&&!this[_0x57cffa(0x417)][_0x2250f6])throw new j(_0x57cffa(0x73b)+_0x2250f6+'\x22\x20not\x20found');let _0x34073c=[];for await(let [_0x4a9ee2,_0x2cb934]of Object[_0x57cffa(0x7a4)](this['waInstances']))if(_0x2cb934&&_0x2cb934[_0x57cffa(0x1cb)][_0x57cffa(0x6eb)]===_0x57cffa(0x31d)){let _0xbd23d3=await this[_0x57cffa(0x5c7)][_0x57cffa(0x398)][_0x57cffa(0x518)](_0x4a9ee2);_0x34073c[_0x57cffa(0x1b9)]({'instance':{'instanceName':_0x4a9ee2,'apikey':_0xbd23d3['apikey'],'owner':_0x2cb934[_0x57cffa(0x577)],'profileName':await _0x2cb934[_0x57cffa(0x174)]()||_0x57cffa(0x78b),'profilePictureUrl':_0x2cb934[_0x57cffa(0x7b5)]}});}return _0x34073c['find'](_0x24e4ab=>_0x24e4ab[_0x57cffa(0x468)][_0x57cffa(0x682)]===_0x2250f6)??_0x34073c;}async['cleaningUp'](_0x539f39){const _0xd141c=a0_0x131850;if(this['db'][_0xd141c(0x237)]&&(await this['repository'][_0xd141c(0x5a6)][_0xd141c(0x4d4)](),(await this['dbInstance'][_0xd141c(0x1a0)]())[_0xd141c(0x724)]>0x0&&await this[_0xd141c(0x5a0)][_0xd141c(0x7b1)](_0x539f39)),this['redis'][_0xd141c(0x237)]){this[_0xd141c(0x2aa)][_0xd141c(0x5f4)]=_0x539f39,await this['cache']['delAll']();return;}}async[a0_0x131850(0x17b)](){const _0x1f4f43=a0_0x131850;await this[_0x1f4f43(0x568)]();let _0x5d6567=async _0x5d6d23=>{const _0x96b917=_0x1f4f43;let _0x1253a0=new be(this[_0x96b917(0x400)],this[_0x96b917(0x1b6)],this['repository']);_0x1253a0[_0x96b917(0x682)]=_0x5d6d23,await _0x1253a0[_0x96b917(0x1af)](),this[_0x96b917(0x417)][_0x5d6d23]=_0x1253a0;};try{if(this[_0x1f4f43(0x172)][_0x1f4f43(0x237)]){let _0x4c0c0f=await this['cache'][_0x1f4f43(0x758)]();_0x4c0c0f?.[_0x1f4f43(0x724)]>0x0&&_0x4c0c0f[_0x1f4f43(0x773)](async _0x457acd=>await _0x5d6567(_0x457acd[_0x1f4f43(0x5a5)](':')[0x1]));return;}if(this['db'][_0x1f4f43(0x237)]){await this[_0x1f4f43(0x5c7)][_0x1f4f43(0x5a6)][_0x1f4f43(0x4d4)]();let _0x318b57=await this['dbInstance'][_0x1f4f43(0x1a0)]();_0x318b57[_0x1f4f43(0x724)]>0x0&&_0x318b57[_0x1f4f43(0x773)](async _0x324214=>await _0x5d6567(_0x324214[_0x1f4f43(0x78f)][_0x1f4f43(0x357)](/^[\w-]+\./,'')));return;}}catch(_0x3b7453){this[_0x1f4f43(0x2d2)][_0x1f4f43(0x4e7)](_0x3b7453);}}async[a0_0x131850(0x3a2)](){const _0x2f60d4=a0_0x131850;let _0x5bb0bb=await this[_0x2f60d4(0x5c7)][_0x2f60d4(0x398)][_0x2f60d4(0x422)](),_0x5f165c=_0x5bb0bb[_0x2f60d4(0x408)](_0x30f5cd=>!this['waInstances'][_0x30f5cd[_0x2f60d4(0x39d)]]&&(_0x30f5cd[_0x2f60d4(0x227)]||typeof _0x30f5cd[_0x2f60d4(0x227)]>'u'));_0x5f165c[_0x2f60d4(0x724)]>0x0&&await Promise[_0x2f60d4(0x306)](_0x5f165c[_0x2f60d4(0x4e4)](async _0x53ffdc=>{const _0x5da517=_0x2f60d4;let _0x1e90cc={'online':!0x1,'lastDisconnect':Date[_0x5da517(0x447)]()};await this[_0x5da517(0x5c7)][_0x5da517(0x398)][_0x5da517(0x5c3)](_0x1e90cc,_0x53ffdc['_id']);}));let _0x352eb2=Date['now']()-0xa*0x18*0x3c*0x3c*0x3e8,_0x3bebe4=_0x5bb0bb[_0x2f60d4(0x408)](_0x27c80f=>!this[_0x2f60d4(0x417)][_0x27c80f['_id']]&&typeof _0x27c80f['lastDisconnect']<'u'&&_0x27c80f['lastDisconnect']<_0x352eb2);_0x3bebe4[_0x2f60d4(0x724)]>0x0&&await Promise[_0x2f60d4(0x306)](_0x3bebe4[_0x2f60d4(0x4e4)](async _0x28000d=>{}));}async[a0_0x131850(0x568)](){const _0x1def22=a0_0x131850;try{let _0x1be1f6={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x3adc2b={'online':!0x1,'lastDisconnect':Date[_0x1def22(0x447)]()},_0x476524=await this[_0x1def22(0x5c7)][_0x1def22(0x398)][_0x1def22(0x5df)](_0x1be1f6,_0x3adc2b);console[_0x1def22(0x70b)](_0x1def22(0x1e7)+_0x476524['insertCount']),await this[_0x1def22(0x639)]();}catch(_0x448cae){console[_0x1def22(0x4e7)](_0x1def22(0x5e8),_0x448cae);}}async[a0_0x131850(0x639)](){const _0xa10951=a0_0x131850;try{let _0x56ba7c={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x3b9ed4=await this['repository'][_0xa10951(0x398)][_0xa10951(0x470)](_0x56ba7c);console[_0xa10951(0x70b)]('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x3b9ed4['insertCount']);}catch(_0x3b8c38){console['error'](_0xa10951(0x26c),_0x3b8c38);}}[a0_0x131850(0x7ba)](){const _0x159d48=a0_0x131850;this[_0x159d48(0x1b6)]['on'](_0x159d48(0x372),async _0x5e2aee=>{const _0x42d288=_0x159d48;try{this[_0x42d288(0x417)][_0x5e2aee]=void 0x0;}catch{}try{this[_0x42d288(0x6ad)](_0x5e2aee);}finally{this[_0x42d288(0x2d2)][_0x42d288(0x2c4)](_0x42d288(0x73b)+_0x5e2aee+_0x42d288(0x6bd));}});}[a0_0x131850(0x752)](){const _0x223ace=a0_0x131850;this[_0x223ace(0x1b6)]['on'](_0x223ace(0x318),async _0x3332f6=>{const _0x2a84e8=_0x223ace;try{this[_0x2a84e8(0x417)][_0x3332f6]=void 0x0;}catch{}try{this[_0x2a84e8(0x6ad)](_0x3332f6);}finally{this['logger'][_0x2a84e8(0x2c4)](_0x2a84e8(0x73b)+_0x3332f6+_0x2a84e8(0x7b0));}});}},Jt=class extends D{[a0_0x131850(0x481)](_0x49a8d5){return Qs(_0x49a8d5);}async[a0_0x131850(0x322)](_0x188a16){const _0x2ef0e2=a0_0x131850;if(_0x188a16[_0x2ef0e2(0x724)]!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x188a16[0x0]['owner'])[_0x2ef0e2(0x30c)]([..._0x188a16]))['length']};}catch(_0x37bead){return _0x37bead;}}async['find'](_0xf900f0,_0x5e0349){const _0x186bd7=a0_0x131850;try{let _0x404ee7=this[_0x186bd7(0x481)](_0x5e0349),_0x9f82e7=A(_0xf900f0[_0x186bd7(0x529)]);return await _0x404ee7['find'](_0x9f82e7)[_0x186bd7(0x6a4)]({'lastmsg':-0x1})[_0x186bd7(0x687)](_0xf900f0?.[_0x186bd7(0x687)]??0x0)['lean']();}catch{return[];}}async[a0_0x131850(0x3b0)](_0x5bfa6a,_0x1484c0){const _0x566d4c=a0_0x131850;try{return{'deletedCount':(await this[_0x566d4c(0x481)](_0x1484c0)['deleteMany']({..._0x5bfa6a[_0x566d4c(0x529)]}))[_0x566d4c(0x5ae)]};}catch(_0x5beafa){return{'error':_0x5beafa?.[_0x566d4c(0x6a2)]()};}}async['deleteAll'](_0x1614b5,_0x409d65){const _0x5a716b=a0_0x131850;try{return await this[_0x5a716b(0x481)](_0x409d65)[_0x5a716b(0x470)]({..._0x1614b5[_0x5a716b(0x529)]}),[];}catch(_0x5d0a1d){return{'error':_0x5d0a1d?.[_0x5a716b(0x6a2)]()};}}async[a0_0x131850(0x5d6)](_0x23a157,_0x3f3a12){const _0x2171d0=a0_0x131850;try{let _0x50bcc1=this[_0x2171d0(0x481)](_0x3f3a12),_0x46f212=A(_0x23a157['where']);return await _0x50bcc1['findOne'](_0x46f212)[_0x2171d0(0x44f)]();}catch{return null;}}async[a0_0x131850(0x5e3)](_0x899a0e,_0x479d94,_0x35da27,_0x1df330,_0x33bf9e=a0_0x131850(0x483)){const _0x14222c=a0_0x131850;try{let _0x56119c={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x1df330},_0x3cb452=this[_0x14222c(0x481)](_0x35da27),_0x11cef3=A(_0x899a0e[_0x14222c(0x529)]);Object[_0x14222c(0x7ad)](_0x479d94)[_0x14222c(0x773)](_0x265da4=>{_0x479d94[_0x265da4]==null&&delete _0x479d94[_0x265da4];});let _0x2819ba={};return _0x2819ba[_0x33bf9e]=_0x479d94,await _0x3cb452[_0x14222c(0x6d1)](_0x11cef3,_0x2819ba,_0x56119c);}catch(_0x5c6618){return console[_0x14222c(0x4e7)](_0x5c6618),null;}}async[a0_0x131850(0x515)](_0x33b6b5){const _0x6f0de1=a0_0x131850;try{let _0x5837c3=this[_0x6f0de1(0x481)](_0x33b6b5[0x0][_0x6f0de1(0x663)]['where'][_0x6f0de1(0x41c)]),_0xfc0a80=_0x33b6b5[_0x6f0de1(0x4e4)](_0x1215a2=>({'updateOne':{'filter':{..._0x1215a2[_0x6f0de1(0x663)][_0x6f0de1(0x529)]},'update':{'$set':_0x1215a2['update']},'upsert':!0x0}})),_0x4318c0=await _0x5837c3[_0x6f0de1(0x5f2)](_0xfc0a80);return _0x4318c0[_0x6f0de1(0x3f6)]+_0x4318c0[_0x6f0de1(0x51b)];}catch(_0x39546b){return console[_0x6f0de1(0x4e7)](_0x39546b),0x0;}}async[a0_0x131850(0x66f)](_0x532e69){const _0x2a3926=a0_0x131850;try{let _0x145c24=this['getChatModelForOwner'](_0x532e69),_0x27e983={'labels':{'$exists':!0x0}},_0x541fc6={'$unset':{'labels':''}};return(await _0x145c24[_0x2a3926(0x515)](_0x27e983,_0x541fc6))[_0x2a3926(0x3f6)];}catch(_0x16deb6){return console[_0x2a3926(0x4e7)](_0x16deb6),0x0;}}async[a0_0x131850(0x543)](_0x2dc30a){const _0x421bda=a0_0x131850;try{let _0xd59615=this[_0x421bda(0x481)](_0x2dc30a),_0x4b4dea={'leadInfo.etiquetas':{'$exists':!0x1}},_0x1e699d={'$set':{'leadInfo.etiquetas':[]}};return(await _0xd59615[_0x421bda(0x515)](_0x4b4dea,_0x1e699d))[_0x421bda(0x3f6)];}catch(_0x5ef6df){return console[_0x421bda(0x4e7)](_0x5ef6df),0x0;}}async[a0_0x131850(0x6ae)](_0x3870ab){const _0xfa61c8=a0_0x131850;try{let _0x296ff3=this[_0xfa61c8(0x481)](_0x3870ab),_0x108f97={'leadInfo.tags':{'$exists':!0x1}},_0x2fdb3a={'$set':{'leadInfo.tags':[]}};return(await _0x296ff3[_0xfa61c8(0x515)](_0x108f97,_0x2fdb3a))['modifiedCount'];}catch(_0x4df1db){return console[_0xfa61c8(0x4e7)](_0x4df1db),0x0;}}async[a0_0x131850(0x40f)](_0x21aae9){const _0x4cac04=a0_0x131850;try{let _0x3c4e68=this[_0x4cac04(0x481)](_0x21aae9),_0x2bcb2d={'leadInfo.customFields':{'$exists':!0x1}},_0x1f4bb9={'$set':{'leadInfo.customFields':[]}};return(await _0x3c4e68[_0x4cac04(0x515)](_0x2bcb2d,_0x1f4bb9))['modifiedCount'];}catch(_0x2290e5){return console['error'](_0x2290e5),0x0;}}async[a0_0x131850(0x30c)](_0x1a47cd,_0x2be44b){const _0x57c0c5=a0_0x131850;if(!Array[_0x57c0c5(0x24a)](_0x1a47cd)||_0x1a47cd['length']===0x0)throw new Error(_0x57c0c5(0x317));try{return(await this[_0x57c0c5(0x481)](_0x2be44b)['insertMany'](_0x1a47cd))[_0x57c0c5(0x724)];}catch(_0x485e23){throw console['error']('Erro\x20ao\x20inserir\x20chats:',_0x485e23),_0x485e23;}}async[a0_0x131850(0x657)](_0x967ac2,_0x6fe1a1){const _0x1cefdb=a0_0x131850;try{await this['getChatModelForOwner'](_0x6fe1a1)['deleteOne']({'_id':_0x967ac2});}catch(_0x36bd9f){throw console[_0x1cefdb(0x4e7)]('Erro\x20ao\x20deletar\x20chat:',_0x36bd9f),_0x36bd9f;}}},qt=class extends D{constructor(_0x401957,_0x25e284,_0x5acd3f){const _0xc53b58=a0_0x131850;super(_0x25e284),this[_0xc53b58(0x2ab)]=_0x401957,this['configService']=_0x25e284,this[_0xc53b58(0x3e8)]=_0x5acd3f;}async[a0_0x131850(0x322)](_0x11b361){const _0x5037bc=a0_0x131850;if(_0x11b361[_0x5037bc(0x724)]!==0x0)try{return{'insertCount':(await this[_0x5037bc(0x2ab)][_0x5037bc(0x30c)]([..._0x11b361]))['length']};}catch(_0x19926){return _0x19926;}}async['update'](_0x5f3c52,_0x5c1726){const _0x27cd43=a0_0x131850;try{let _0x247eec=A(_0x5f3c52['where']);return{'updatedCount':(await this[_0x27cd43(0x2ab)][_0x27cd43(0x515)](_0x247eec,{'$set':_0x5c1726}))[_0x27cd43(0x3f6)]};}catch(_0x484055){return console[_0x27cd43(0x4e7)](_0x27cd43(0x5ed),_0x484055),{'error':_0x484055[_0x27cd43(0x6a2)]()};}}async['findManyByIds'](_0x42b8b6){const _0x42664a=a0_0x131850;try{let _0x30814c={'_id':{'$in':_0x42b8b6}};return await this[_0x42664a(0x2ab)][_0x42664a(0x518)](_0x30814c)[_0x42664a(0x44f)]();}catch(_0x10f8a2){return console[_0x42664a(0x4e7)](_0x42664a(0x2ea),_0x10f8a2),[];}}async[a0_0x131850(0x3b0)](_0x2f2cdb){const _0x555d22=a0_0x131850;try{return{'deletedCount':(await this[_0x555d22(0x2ab)]['deleteMany']({..._0x2f2cdb[_0x555d22(0x529)]}))['deletedCount']};}catch(_0x4b10ff){return{'error':_0x4b10ff?.['toString']()};}}async[a0_0x131850(0x518)](_0x11867d){const _0x49a9bd=a0_0x131850;try{let _0x1eee7f=A(_0x11867d[_0x49a9bd(0x529)]);return await this[_0x49a9bd(0x2ab)][_0x49a9bd(0x518)](_0x1eee7f)[_0x49a9bd(0x687)](_0x11867d?.[_0x49a9bd(0x687)]??0x0)[_0x49a9bd(0x44f)]();}catch{return[];}}async[a0_0x131850(0x5d6)](_0xc17089){const _0x20a62f=a0_0x131850;try{let _0x496ccc=A(_0xc17089[_0x20a62f(0x529)]);return await this[_0x20a62f(0x2ab)]['findOne'](_0x496ccc)[_0x20a62f(0x44f)]();}catch{return null;}}},Vt=class extends D{[a0_0x131850(0x71b)](_0x455e0e){return Ea(_0x455e0e);}async[a0_0x131850(0x5e3)](_0x42f7b7,_0x1b2f94,_0x3b3eb5,_0x4f654e){const _0x50e840=a0_0x131850;try{let _0x563241={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4f654e},_0x309772=this[_0x50e840(0x71b)](_0x3b3eb5),_0x32eed5=A(_0x42f7b7[_0x50e840(0x529)]);return await _0x309772[_0x50e840(0x6d1)](_0x32eed5,{'$set':_0x1b2f94},_0x563241);}catch(_0x214394){return console[_0x50e840(0x4e7)](_0x214394),null;}}async['find'](_0x23dfb6,_0x29fd6c){const _0xe97fc8=a0_0x131850;try{let _0x4c4774=this[_0xe97fc8(0x71b)](_0x29fd6c),_0x1b4f8f=A(_0x23dfb6[_0xe97fc8(0x529)]);return await _0x4c4774[_0xe97fc8(0x518)](_0x1b4f8f);}catch(_0x2d57d0){console[_0xe97fc8(0x4e7)](_0x2d57d0);}}async[a0_0x131850(0x3b0)](_0x1c6ed2,_0x11eea1){const _0x17c8a3=a0_0x131850;try{let _0x2fbae4=this[_0x17c8a3(0x71b)](_0x11eea1),_0x4ec59f=A(_0x1c6ed2[_0x17c8a3(0x529)]);await _0x2fbae4[_0x17c8a3(0x470)](_0x4ec59f);}catch(_0x424723){console['error'](_0x424723);}}async[a0_0x131850(0x1a9)](_0x77ea4d){const _0x5433ac=a0_0x131850;try{return await this[_0x5433ac(0x71b)](_0x77ea4d)[_0x5433ac(0x312)][_0x5433ac(0x21e)](),{'success':!0x0};}catch(_0x41e0cd){return console[_0x5433ac(0x4e7)](_0x41e0cd),{'success':!0x1,'error':_0x41e0cd};}}},Bt=class{constructor(_0x434468){const _0x3075f5=a0_0x131850;this[_0x3075f5(0x34a)]=_0x434468;}async[a0_0x131850(0x5d9)]({instanceName:_0x121ff4},_0x5c210b){const _0x2a22bc=a0_0x131850;return await this[_0x2a22bc(0x34a)][_0x2a22bc(0x417)][_0x121ff4][_0x2a22bc(0x5d9)](_0x5c210b);}async['whatsappNumber']({instanceName:_0x6c9e0a},_0x48da1c){const _0xf2fa97=a0_0x131850;return await this[_0xf2fa97(0x34a)][_0xf2fa97(0x417)][_0x6c9e0a][_0xf2fa97(0x7a3)](_0x48da1c);}async[a0_0x131850(0x395)]({instanceName:_0x328509},_0x23d92f){const _0x548a65=a0_0x131850;return await this[_0x548a65(0x34a)][_0x548a65(0x417)][_0x328509][_0x548a65(0x395)](_0x23d92f);}async[a0_0x131850(0x4b5)]({instanceName:_0x509f05},_0x4e0c40){const _0x433a72=a0_0x131850;return await this[_0x433a72(0x34a)][_0x433a72(0x417)][_0x509f05][_0x433a72(0x5e5)](_0x4e0c40);}async[a0_0x131850(0x2e5)]({instanceName:_0x4fa864},_0x2cd759){const _0x12ea6f=a0_0x131850;return await this[_0x12ea6f(0x34a)]['waInstances'][_0x4fa864][_0x12ea6f(0x2e5)](_0x2cd759);}async['deleteMessage']({instanceName:_0x315255},_0x1394c7){const _0xb1e67f=a0_0x131850;return await this[_0xb1e67f(0x34a)]['waInstances'][_0x315255][_0xb1e67f(0x1ac)](_0x1394c7);}async[a0_0x131850(0x3f1)]({instanceName:_0x59679f},_0x49d935){const _0x4a3193=a0_0x131850;return await this[_0x4a3193(0x34a)][_0x4a3193(0x417)][_0x59679f][_0x4a3193(0x440)](_0x49d935[_0x4a3193(0x649)]);}async['fetchProfile']({instanceName:_0x4a3626},_0x28eb1c){const _0x3df43f=a0_0x131850;return await this['waMonitor'][_0x3df43f(0x417)][_0x4a3626][_0x3df43f(0x19a)](_0x28eb1c[_0x3df43f(0x649)]);}async['updatePresence']({instanceName:_0x33448f},_0x3e7a44){const _0x4025c0=a0_0x131850;return await this[_0x4025c0(0x34a)][_0x4025c0(0x417)][_0x33448f][_0x4025c0(0x62b)](_0x3e7a44);}async[a0_0x131850(0x3c7)]({instanceName:_0x4369ff},_0x4f674a){const _0x2dc9f3=a0_0x131850;return await this['waMonitor']['waInstances'][_0x4369ff][_0x2dc9f3(0x3c7)](_0x4f674a);}async[a0_0x131850(0x7ab)]({instanceName:_0x40630a},_0x400c42){const _0x46d656=a0_0x131850;return await this[_0x46d656(0x34a)][_0x46d656(0x417)][_0x40630a]['getBase64FromMediaMessage'](_0x400c42);}async[a0_0x131850(0x406)]({instanceName:_0x5d911c},_0x316cfa){const _0x1c8e98=a0_0x131850;return await this[_0x1c8e98(0x34a)][_0x1c8e98(0x417)][_0x5d911c][_0x1c8e98(0x406)](_0x316cfa);}async[a0_0x131850(0x589)]({instanceName:_0xd3a336}){const _0x571470=a0_0x131850;return await this['waMonitor'][_0x571470(0x417)][_0xd3a336]['fetchLabels']();}async[a0_0x131850(0x454)]({instanceName:_0x12e2e8}){const _0x4e91a6=a0_0x131850;return await this[_0x4e91a6(0x34a)][_0x4e91a6(0x417)][_0x12e2e8][_0x4e91a6(0x454)]();}async[a0_0x131850(0x718)]({instanceName:_0x47cecb}){const _0x969374=a0_0x131850;return await this[_0x969374(0x34a)]['waInstances'][_0x47cecb][_0x969374(0x718)]();}async['updatePrivacySettings']({instanceName:_0x443d44},_0xfe5613){const _0x17e47f=a0_0x131850;return await this[_0x17e47f(0x34a)][_0x17e47f(0x417)][_0x443d44][_0x17e47f(0x466)](_0xfe5613);}async[a0_0x131850(0x5ad)]({instanceName:_0xc2a5e9},_0x5b3af2){const _0x13add5=a0_0x131850;return await this[_0x13add5(0x34a)][_0x13add5(0x417)][_0xc2a5e9][_0x13add5(0x5ad)](_0x5b3af2[_0x13add5(0x649)]);}async['updateProfileName']({instanceName:_0x42aea1},_0x23ac28){const _0xd5747b=a0_0x131850;return await this[_0xd5747b(0x34a)][_0xd5747b(0x417)][_0x42aea1]['updateProfileName'](_0x23ac28[_0xd5747b(0x228)]);}async[a0_0x131850(0x60b)]({instanceName:_0x1d4bcd},_0x550127){const _0x49c2e6=a0_0x131850;return await this[_0x49c2e6(0x34a)][_0x49c2e6(0x417)][_0x1d4bcd]['updateProfileStatus'](_0x550127['status']);}async[a0_0x131850(0x177)]({instanceName:_0x41268c},_0xf62fcb){const _0x585a3d=a0_0x131850;return await this[_0x585a3d(0x34a)][_0x585a3d(0x417)][_0x41268c][_0x585a3d(0x177)](_0xf62fcb[_0x585a3d(0x69d)]);}async[a0_0x131850(0x77e)]({instanceName:_0xcde21b},_0x57c97c){const _0x14a2da=a0_0x131850;return await this[_0x14a2da(0x34a)][_0x14a2da(0x417)][_0xcde21b][_0x14a2da(0x77e)]();}},Ps=require('@whiskeysockets/baileys'),Gt=class c{constructor(_0x18c609,_0x3f595d,_0x2ac833,_0x50d4f7,_0x78ed8b){const _0x12a79f=a0_0x131850;this[_0x12a79f(0x34a)]=_0x18c609,this[_0x12a79f(0x400)]=_0x3f595d,this['repository']=_0x2ac833,this[_0x12a79f(0x1b6)]=_0x50d4f7,this[_0x12a79f(0x305)]=_0x78ed8b,this[_0x12a79f(0x2d2)]=new v(c[_0x12a79f(0x228)]);}async[a0_0x131850(0x6cb)]({instanceName:_0x12d730,apikey:_0x55d66a,number:_0x34df92,proxy:_0x25c938=!0x0}){const _0x1a08a0=a0_0x131850;try{let _0x2c8801=new be(this['configService'],this[_0x1a08a0(0x1b6)],this[_0x1a08a0(0x5c7)]);_0x2c8801['instanceName']=_0x12d730,this[_0x1a08a0(0x34a)]['waInstances'][_0x2c8801[_0x1a08a0(0x682)]]=_0x2c8801;let _0x2d7f47={};_0x55d66a?(await this[_0x1a08a0(0x5c7)]['auth']['create']({'apikey':_0x55d66a},_0x12d730),_0x2d7f47[_0x1a08a0(0x7e6)]=_0x55d66a):_0x2d7f47=await this[_0x1a08a0(0x305)][_0x1a08a0(0x21d)]({'instanceName':_0x2c8801[_0x1a08a0(0x682)]});let _0x595dc5;if(_0x34df92){if(_0x595dc5=await this[_0x1a08a0(0x332)](_0x34df92),_0x595dc5[_0x1a08a0(0x4e7)])throw new I(_0x595dc5[_0x1a08a0(0x4e7)]['toString']());_0x34df92=_0x595dc5[_0x1a08a0(0x649)];}let _0x632b89;return await _0x2c8801[_0x1a08a0(0x1af)](_0x34df92),await(0x0,Ps[_0x1a08a0(0x713)])(0x7d0),_0x632b89=_0x2c8801[_0x1a08a0(0x4fe)],{'instance':{'instanceName':_0x2c8801[_0x1a08a0(0x682)],'status':_0x1a08a0(0x34d)},'hash':_0x2d7f47,'qrcode':_0x632b89};}catch(_0x106383){throw this['logger'][_0x1a08a0(0x4e7)](_0x106383),_0x106383;}}async[a0_0x131850(0x728)]({instanceName:_0x44bd7b,number:_0x1c636f=null}){const _0x24de82=a0_0x131850;try{let _0x3c98a1=this[_0x24de82(0x34a)][_0x24de82(0x417)][_0x44bd7b];switch(_0x3c98a1?.[_0x24de82(0x1cb)]?.['state']){case _0x24de82(0x274):return await _0x3c98a1[_0x24de82(0x1af)](_0x1c636f),await(0x0,Ps[_0x24de82(0x713)])(0x7d0),_0x3c98a1['qrCode'];case _0x24de82(0x5f6):return _0x3c98a1[_0x24de82(0x4fe)];default:return await this['connectionState']({'instanceName':_0x44bd7b});}}catch(_0x48abd2){this[_0x24de82(0x2d2)][_0x24de82(0x70b)](_0x48abd2);}}async['connectionState']({instanceName:_0x56b735}){const _0xb397a8=a0_0x131850;let _0x1a9fdf=this['waMonitor'][_0xb397a8(0x417)][_0x56b735][_0xb397a8(0x1cb)],_0x5d8462=null;_0x1a9fdf[_0xb397a8(0x6eb)]===_0xb397a8(0x31d)&&_0x56b735&&(_0x5d8462=await this['waMonitor']['instanceInfo'](_0x56b735));let _0x231871=null;return _0x1a9fdf['state']===_0xb397a8(0x5f6)&&_0x56b735&&(_0x231871=this[_0xb397a8(0x34a)][_0xb397a8(0x417)][_0x56b735][_0xb397a8(0x4fe)]),{'instance':_0x56b735,'connectionStatus':_0x1a9fdf,'instanceInfo':_0x5d8462,'qrcode':_0x231871};}async[a0_0x131850(0x332)](_0x38d694){const _0x5ac0e8=a0_0x131850;_0x38d694=_0x38d694['replace'](/\D/g,'');let _0x115c2c=Object['keys'](this[_0x5ac0e8(0x34a)][_0x5ac0e8(0x417)])['filter'](_0x64324e=>{const _0x3195a6=_0x5ac0e8;let _0xb83d29=this['waMonitor'][_0x3195a6(0x417)][_0x64324e];return _0xb83d29&&_0xb83d29[_0x3195a6(0x1cb)]&&_0xb83d29[_0x3195a6(0x1cb)][_0x3195a6(0x6eb)]===_0x3195a6(0x31d);});if(_0x115c2c[_0x5ac0e8(0x724)]===0x0)return{'number':this[_0x5ac0e8(0x4de)](_0x38d694)};let _0x4faa24=Math['floor'](Math[_0x5ac0e8(0x18d)]()*_0x115c2c[_0x5ac0e8(0x724)]),_0x268562=_0x115c2c[_0x4faa24];try{let _0xbc30a0=(await this['waMonitor']['waInstances'][_0x268562][_0x5ac0e8(0x7a3)]({'numbers':[_0x38d694]}))['shift']();return _0xbc30a0[_0x5ac0e8(0x3f4)]?{'number':_0xbc30a0[_0x5ac0e8(0x178)][_0x5ac0e8(0x357)](_0x5ac0e8(0x7fc),'')}:{'number':_0x38d694,'error':_0x5ac0e8(0x48c)};}catch(_0x82e9ae){return this['logger']['error'](_0x5ac0e8(0x307)+_0x82e9ae),{'number':_0x38d694,'error':_0x5ac0e8(0x456)};}}[a0_0x131850(0x4de)](_0x5d7cf4){const _0x2d1dbc=a0_0x131850;let _0x226483=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x2d1dbc(0x51c)](_0x5d7cf4);if(_0x226483&&_0x226483[0x1]==='55'){let _0x423640=_0x226483[0x2],_0x5c17bb=_0x226483[0x3],_0x275562=_0x226483[0x4];if(parseInt(_0x423640)>=0x1f&&_0x5c17bb==='9')return _0x226483[0x1]+_0x423640+_0x275562;}return _0x5d7cf4;}async['restartInstance']({instanceName:_0x244898}){const _0x31942e=a0_0x131850;try{return this[_0x31942e(0x34a)][_0x31942e(0x417)][_0x244898]?.[_0x31942e(0x23d)]?.['ws']?.[_0x31942e(0x274)](),{'status':_0x31942e(0x580),'error':!0x1,'response':{'message':_0x31942e(0x27a)}};}catch(_0xb7f1de){this[_0x31942e(0x2d2)][_0x31942e(0x4e7)](_0xb7f1de);}}async['fetchInstances']({instanceName:_0x3c2b35}){const _0x3082b7=a0_0x131850;return _0x3c2b35?this[_0x3082b7(0x34a)]['instanceInfo'](_0x3c2b35):this[_0x3082b7(0x34a)][_0x3082b7(0x1ab)]();}async[a0_0x131850(0x510)]({instanceName:_0x21e078}){const _0x34576e=a0_0x131850;try{return await this[_0x34576e(0x34a)][_0x34576e(0x417)][_0x21e078]?.['client']?.['logout'](_0x34576e(0x2c0)+_0x21e078),{'error':!0x1,'message':_0x34576e(0x2d0)};}catch(_0x4e80ab){throw new I(_0x4e80ab[_0x34576e(0x6a2)]());}}async[a0_0x131850(0x1d7)]({instanceName:_0x453ac8}){const _0x2c2dff=a0_0x131850;if((await this[_0x2c2dff(0x53f)]({'instanceName':_0x453ac8}))[_0x2c2dff(0x1cb)][_0x2c2dff(0x6eb)]===_0x2c2dff(0x31d))throw new w([_0x2c2dff(0x394),_0x2c2dff(0x826)]);try{return delete this[_0x2c2dff(0x34a)]['waInstances'][_0x453ac8],{'error':!0x1,'message':_0x2c2dff(0x3da)};}catch(_0x503aab){throw new w(_0x503aab['toString']());}}},ee=require(a0_0x131850(0x621)),Wt=class{constructor(_0x14cafc){const _0x15a936=a0_0x131850;this[_0x15a936(0x34a)]=_0x14cafc;}async[a0_0x131850(0x273)]({instanceName:_0x4b8102},_0x31627a){const _0x2eebfa=a0_0x131850;return await this[_0x2eebfa(0x34a)][_0x2eebfa(0x417)][_0x4b8102][_0x2eebfa(0x73c)](_0x31627a);}async['sendMenu']({instanceName:_0x2510da},_0x2a5b00){const _0x339358=a0_0x131850;return await this[_0x339358(0x34a)][_0x339358(0x417)][_0x2510da]['menuMessage'](_0x2a5b00);}async['sendMedia']({instanceName:_0x1d1a6a},_0x46eee2){const _0x5aac18=a0_0x131850;if((0x0,ee['isBase64'])(_0x46eee2?.[_0x5aac18(0x410)]?.[_0x5aac18(0x74a)])&&!_0x46eee2?.['mediaMessage']?.[_0x5aac18(0x736)])throw new w(_0x5aac18(0x59c));if((0x0,ee[_0x5aac18(0x28e)])(_0x46eee2?.[_0x5aac18(0x410)]?.['media'])||(0x0,ee[_0x5aac18(0x443)])(_0x46eee2?.[_0x5aac18(0x410)]?.[_0x5aac18(0x74a)]))return await this[_0x5aac18(0x34a)]['waInstances'][_0x1d1a6a]['mediaMessage'](_0x46eee2);throw new w(_0x5aac18(0x4f4));}async['sendSticker']({instanceName:_0x488fce},_0x4dcbba){const _0x26969f=a0_0x131850;if((0x0,ee[_0x26969f(0x28e)])(_0x4dcbba[_0x26969f(0x354)][_0x26969f(0x630)])||(0x0,ee[_0x26969f(0x443)])(_0x4dcbba[_0x26969f(0x354)][_0x26969f(0x630)]))return await this['waMonitor'][_0x26969f(0x417)][_0x488fce]['mediaSticker'](_0x4dcbba);throw new w(_0x26969f(0x4f4));}async[a0_0x131850(0x1e9)]({instanceName:_0x50a619},_0x66aa4a){const _0x2431c2=a0_0x131850;if((0x0,ee[_0x2431c2(0x28e)])(_0x66aa4a['audioMessage'][_0x2431c2(0x520)])||(0x0,ee[_0x2431c2(0x443)])(_0x66aa4a[_0x2431c2(0x7ae)][_0x2431c2(0x520)]))return await this[_0x2431c2(0x34a)][_0x2431c2(0x417)][_0x50a619][_0x2431c2(0x28f)](_0x66aa4a);throw new w(_0x2431c2(0x4f4));}async[a0_0x131850(0x5f9)]({instanceName:_0x341edb},_0x18f13b){const _0x5861e6=a0_0x131850;if((0x0,ee[_0x5861e6(0x443)])(_0x18f13b[_0x5861e6(0x229)]['mediaMessage']?.['media'])&&!_0x18f13b[_0x5861e6(0x229)]['mediaMessage']?.[_0x5861e6(0x736)])throw new w('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this['waMonitor'][_0x5861e6(0x417)][_0x341edb][_0x5861e6(0x229)](_0x18f13b);}async[a0_0x131850(0x301)]({instanceName:_0x4f1e94},_0x5679bd){const _0x597b38=a0_0x131850;return await this['waMonitor'][_0x597b38(0x417)][_0x4f1e94]['locationMessage'](_0x5679bd);}async[a0_0x131850(0x224)]({instanceName:_0x5c936d},_0x2bdd4d){const _0x126f59=a0_0x131850;return await this[_0x126f59(0x34a)][_0x126f59(0x417)][_0x5c936d][_0x126f59(0x5bb)](_0x2bdd4d);}async[a0_0x131850(0x390)]({instanceName:_0x56b17},_0x4f48b4){const _0x2d8213=a0_0x131850;return await this['waMonitor'][_0x2d8213(0x417)][_0x56b17][_0x2d8213(0x4d9)](_0x4f48b4);}async[a0_0x131850(0x686)]({instanceName:_0x1d3cc7},_0x17ceeb){const _0x1882d3=a0_0x131850;return await this[_0x1882d3(0x34a)][_0x1882d3(0x417)][_0x1d3cc7][_0x1882d3(0x6e1)](_0x17ceeb);}async[a0_0x131850(0x7cd)]({instanceName:_0x48c856},_0x408bb3){const _0x6c23e8=a0_0x131850;if(!_0x408bb3[_0x6c23e8(0x69a)][_0x6c23e8(0x378)]['match'](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0x6c23e8(0x474));return await this[_0x6c23e8(0x34a)][_0x6c23e8(0x417)][_0x48c856]['reactionMessage'](_0x408bb3);}async[a0_0x131850(0x66b)]({instanceName:_0x1f1ac6},_0x2f9957){const _0x364bc5=a0_0x131850;return await this[_0x364bc5(0x34a)][_0x364bc5(0x417)][_0x1f1ac6]['statusMessage'](_0x2f9957);}},Dr=require(a0_0x131850(0x562)),$s=require(a0_0x131850(0x3fb)),zt=class c{constructor(_0x2b1da4,_0x46fcba,_0x558994){const _0x2f17ef=a0_0x131850;this['configService']=_0x2b1da4,this[_0x2f17ef(0x34a)]=_0x46fcba,this['repository']=_0x558994,this[_0x2f17ef(0x2d2)]=new v(c[_0x2f17ef(0x228)]);}async[a0_0x131850(0x4b0)](_0x2f9b51){const _0x4c9394=a0_0x131850;let _0x3530ad=this['configService'][_0x4c9394(0x5b0)](_0x4c9394(0x712))[_0x4c9394(0x7cf)],_0x345625=(0x0,Dr[_0x4c9394(0x445)])({'instanceName':_0x2f9b51[_0x4c9394(0x682)],'apiName':Ze,'tokenId':(0x0,$s['v4'])()},_0x3530ad[_0x4c9394(0x2f3)],{'expiresIn':_0x3530ad['EXPIRIN_IN'],'encoding':'utf8','subject':_0x4c9394(0x743)}),_0x184930=await this[_0x4c9394(0x5c7)][_0x4c9394(0x398)][_0x4c9394(0x5c3)]({'jwt':_0x345625},_0x2f9b51['instanceName']);if(_0x184930[_0x4c9394(0x4e7)])throw this[_0x4c9394(0x2d2)][_0x4c9394(0x4e7)]({'localError':c[_0x4c9394(0x228)]+_0x4c9394(0x384),'error':_0x184930[_0x4c9394(0x4e7)]}),new w('Authentication\x20error',_0x184930[_0x4c9394(0x4e7)]?.[_0x4c9394(0x6a2)]());return{'jwt':_0x345625};}async[a0_0x131850(0x7e6)](_0x14e2b8){const _0xfc83dd=a0_0x131850;let _0x211f20=(0x0,$s['v4'])()[_0xfc83dd(0x221)](),_0x2bd503=await this['repository']['auth'][_0xfc83dd(0x5c3)]({'apikey':_0x211f20},_0x14e2b8[_0xfc83dd(0x682)]);if(_0x2bd503[_0xfc83dd(0x4e7)])throw this[_0xfc83dd(0x2d2)][_0xfc83dd(0x4e7)]({'localError':c[_0xfc83dd(0x228)]+_0xfc83dd(0x384),'error':_0x2bd503[_0xfc83dd(0x4e7)]}),new w(_0xfc83dd(0x653),_0x2bd503[_0xfc83dd(0x4e7)]?.[_0xfc83dd(0x6a2)]());return{'apikey':_0x211f20};}async[a0_0x131850(0x21d)](_0x14184a){const _0x47741b=a0_0x131850;let _0x84be62=this[_0x47741b(0x400)]['get'](_0x47741b(0x712));return await this[_0x84be62[_0x47741b(0x2d9)]](_0x14184a);}},Ht=class{constructor(_0x5d7c12){this['waMonitor']=_0x5d7c12;}async[a0_0x131850(0x238)](_0x2be4bc,_0xa0c4c3){const _0x1302fc=a0_0x131850;return await this[_0x1302fc(0x34a)][_0x1302fc(0x417)][_0x2be4bc['instanceName']][_0x1302fc(0x238)](_0xa0c4c3);}async[a0_0x131850(0x336)](_0x362423,_0x3431d1){const _0x59e694=a0_0x131850;return await this[_0x59e694(0x34a)][_0x59e694(0x417)][_0x362423['instanceName']]['updateGroupPicture'](_0x3431d1);}async[a0_0x131850(0x339)](_0x104171,_0x9e16a9){const _0x546c71=a0_0x131850;return await this[_0x546c71(0x34a)][_0x546c71(0x417)][_0x104171['instanceName']][_0x546c71(0x339)](_0x9e16a9);}async[a0_0x131850(0x4b7)](_0x1c985e,_0x238e57){const _0x2021b5=a0_0x131850;return await this[_0x2021b5(0x34a)][_0x2021b5(0x417)][_0x1c985e[_0x2021b5(0x682)]]['groupName'](_0x238e57);}async[a0_0x131850(0x5d2)](_0x49ada0,_0x4fd98d){const _0x55084f=a0_0x131850;return await this[_0x55084f(0x34a)]['waInstances'][_0x49ada0[_0x55084f(0x682)]][_0x55084f(0x5d2)](_0x4fd98d);}async[a0_0x131850(0x374)](_0x2a99ce,_0x56a5cc){const _0x24d821=a0_0x131850;return await this[_0x24d821(0x34a)][_0x24d821(0x417)][_0x2a99ce['instanceName']][_0x24d821(0x374)](_0x56a5cc);}async[a0_0x131850(0x1fe)](_0x5c5ee5,_0x190ef8){const _0x81edec=a0_0x131850;return await this[_0x81edec(0x34a)]['waInstances'][_0x5c5ee5[_0x81edec(0x682)]][_0x81edec(0x82f)](_0x190ef8);}async[a0_0x131850(0x351)](_0x51c683){const _0x1f6808=a0_0x131850;return await this['waMonitor']['waInstances'][_0x51c683[_0x1f6808(0x682)]]['findGroups']();}async[a0_0x131850(0x18b)](_0x10678b,_0x3922b9){const _0xe77e3b=a0_0x131850;return await this[_0xe77e3b(0x34a)][_0xe77e3b(0x417)][_0x10678b[_0xe77e3b(0x682)]][_0xe77e3b(0x18b)](_0x3922b9);}async['joinGroup'](_0x393d93,_0x503823){const _0x2162de=a0_0x131850;return await this[_0x2162de(0x34a)]['waInstances'][_0x393d93[_0x2162de(0x682)]][_0x2162de(0x4ee)](_0x503823);}async[a0_0x131850(0x276)](_0x1b9a77,_0x1cff30){const _0xf4776a=a0_0x131850;return await this[_0xf4776a(0x34a)][_0xf4776a(0x417)][_0x1b9a77[_0xf4776a(0x682)]][_0xf4776a(0x276)](_0x1cff30);}async['revokeInviteCode'](_0x1de9f4,_0x179234){const _0x2480e8=a0_0x131850;return await this[_0x2480e8(0x34a)][_0x2480e8(0x417)][_0x1de9f4[_0x2480e8(0x682)]]['revokeInviteCode'](_0x179234);}async[a0_0x131850(0x38c)](_0x15e981,_0x5ce730){const _0x4c02a8=a0_0x131850;return await this['waMonitor']['waInstances'][_0x15e981[_0x4c02a8(0x682)]][_0x4c02a8(0x38c)](_0x5ce730);}async[a0_0x131850(0x235)](_0x43cace,_0x3cd9ef){const _0x468a5a=a0_0x131850;return await this['waMonitor'][_0x468a5a(0x417)][_0x43cace[_0x468a5a(0x682)]][_0x468a5a(0x389)](_0x3cd9ef);}async['toggleEphemeral'](_0x3349e5,_0xacca7b){const _0x4b66c5=a0_0x131850;return await this[_0x4b66c5(0x34a)]['waInstances'][_0x3349e5['instanceName']]['toggleEphemeral'](_0xacca7b);}async[a0_0x131850(0x551)](_0x38782c,_0x203136){const _0x35b89d=a0_0x131850;return await this['waMonitor'][_0x35b89d(0x417)][_0x38782c[_0x35b89d(0x682)]]['leaveGroup'](_0x203136);}},Kt=class{constructor(_0x2476c9){const _0x493ddf=a0_0x131850;this[_0x493ddf(0x34a)]=_0x2476c9;}[a0_0x131850(0x5c3)](_0x5eeba6,_0x49bf05){const _0x43225f=a0_0x131850;return this[_0x43225f(0x34a)]['waInstances'][_0x5eeba6['instanceName']][_0x43225f(0x55f)](_0x49bf05);}async[a0_0x131850(0x518)](_0x4ae215){const _0x5302a8=a0_0x131850;try{return await this[_0x5302a8(0x34a)][_0x5302a8(0x417)][_0x4ae215[_0x5302a8(0x682)]][_0x5302a8(0x575)]();}catch{return{'enabled':null,'url':''};}}},fp=new v(a0_0x131850(0x333)),Qt=class{constructor(_0x1e199f){const _0x578ca9=a0_0x131850;this[_0x578ca9(0x34a)]=_0x1e199f;}async[a0_0x131850(0x7c5)](_0x3f939d,_0x237964){const _0x17a803=a0_0x131850;return await this[_0x17a803(0x34a)][_0x17a803(0x417)][_0x3f939d[_0x17a803(0x682)]]['editScheduleMessage'](_0x237964);}async[a0_0x131850(0x43a)](_0x30c0f4){const _0x13a16e=a0_0x131850;return await this[_0x13a16e(0x34a)]['waInstances'][_0x30c0f4[_0x13a16e(0x682)]][_0x13a16e(0x43a)]();}async[a0_0x131850(0x7e4)](_0x101a51){const _0xd7ce40=a0_0x131850;return await this[_0xd7ce40(0x34a)][_0xd7ce40(0x417)][_0x101a51[_0xd7ce40(0x682)]][_0xd7ce40(0x7e4)]();}async[a0_0x131850(0x572)](_0x193def){const _0x179db5=a0_0x131850;return await this[_0x179db5(0x34a)][_0x179db5(0x417)][_0x193def[_0x179db5(0x682)]][_0x179db5(0x572)]();}async[a0_0x131850(0x650)](_0x2aed02,_0x3f5669){const _0x327421=a0_0x131850;return await this[_0x327421(0x34a)][_0x327421(0x417)][_0x2aed02[_0x327421(0x682)]]['updateAgent'](_0x3f5669);}async[a0_0x131850(0x43d)](_0x1321d9,_0x91b99c){const _0x10706c=a0_0x131850;return await this['waMonitor']['waInstances'][_0x1321d9[_0x10706c(0x682)]][_0x10706c(0x43d)](_0x91b99c);}async[a0_0x131850(0x439)](_0x34c050,_0x4e6b3a){const _0x409da3=a0_0x131850;return await this[_0x409da3(0x34a)]['waInstances'][_0x34c050[_0x409da3(0x682)]][_0x409da3(0x439)](_0x4e6b3a);}async[a0_0x131850(0x742)](_0x25deb0,_0x42af33){const _0x142112=a0_0x131850;return await this['waMonitor'][_0x142112(0x417)][_0x25deb0['instanceName']][_0x142112(0x742)](_0x42af33);}async[a0_0x131850(0x1d1)](_0x33d7d9,_0x52055a){const _0x50c0d2=a0_0x131850;return await this[_0x50c0d2(0x34a)][_0x50c0d2(0x417)][_0x33d7d9[_0x50c0d2(0x682)]][_0x50c0d2(0x1d1)](_0x52055a);}async[a0_0x131850(0x201)](_0x4176ca,_0x408556){const _0xfdbd46=a0_0x131850;return await this['waMonitor'][_0xfdbd46(0x417)][_0x4176ca[_0xfdbd46(0x682)]][_0xfdbd46(0x201)](_0x408556);}async[a0_0x131850(0x342)](_0x22f8ac,_0x54b302){const _0x167325=a0_0x131850;return await this[_0x167325(0x34a)][_0x167325(0x417)][_0x22f8ac['instanceName']]['editConversation'](_0x54b302);}async['deleteConversation'](_0xedb5fd,_0x1ce525){const _0x3a31a5=a0_0x131850;return await this[_0x3a31a5(0x34a)][_0x3a31a5(0x417)][_0xedb5fd['instanceName']][_0x3a31a5(0x3d3)](_0x1ce525);}async[a0_0x131850(0x217)](_0x1c4a0e,_0x53039c){const _0x3324ba=a0_0x131850;return await this['waMonitor'][_0x3324ba(0x417)][_0x1c4a0e[_0x3324ba(0x682)]]['getFlow'](_0x53039c[_0x3324ba(0x228)]);}async[a0_0x131850(0x48a)](_0x35e123,_0x5f02e9){const _0x657db6=a0_0x131850;return await this['waMonitor'][_0x657db6(0x417)][_0x35e123[_0x657db6(0x682)]][_0x657db6(0x48a)](_0x5f02e9);}async[a0_0x131850(0x530)](_0x2567e4,_0x141fb3){const _0x2f71a8=a0_0x131850;return await this[_0x2f71a8(0x34a)]['waInstances'][_0x2567e4[_0x2f71a8(0x682)]][_0x2f71a8(0x530)](_0x141fb3);}async['editFlowBlock'](_0x1a3381,_0x21ba4e){const _0x8816ff=a0_0x131850;return await this[_0x8816ff(0x34a)][_0x8816ff(0x417)][_0x1a3381[_0x8816ff(0x682)]][_0x8816ff(0x6f3)](_0x21ba4e);}async[a0_0x131850(0x3b4)](_0x5db98b,_0x317a67){const _0x2de59d=a0_0x131850;return await this['waMonitor'][_0x2de59d(0x417)][_0x5db98b['instanceName']][_0x2de59d(0x3b4)](_0x317a67);}async[a0_0x131850(0x47b)](_0x2c9938,_0x3ba9cf){const _0x360f0d=a0_0x131850;return await this[_0x360f0d(0x34a)][_0x360f0d(0x417)][_0x2c9938[_0x360f0d(0x682)]][_0x360f0d(0x47b)](_0x3ba9cf);}async[a0_0x131850(0x75c)](_0x2f8ee8,_0x5324de){const _0x203c43=a0_0x131850;return await this['waMonitor']['waInstances'][_0x2f8ee8[_0x203c43(0x682)]]['editFlowCondition'](_0x5324de);}async[a0_0x131850(0x6c7)](_0x37b1d2,_0x52ea71){const _0x2eb7c9=a0_0x131850;return await this['waMonitor']['waInstances'][_0x37b1d2['instanceName']][_0x2eb7c9(0x6c7)](_0x52ea71);}async['editFlowVariable'](_0x3f997f,_0x2a334d){const _0x305efd=a0_0x131850;return await this['waMonitor']['waInstances'][_0x3f997f['instanceName']][_0x305efd(0x679)](_0x2a334d);}async[a0_0x131850(0x555)](_0x9fb58a,_0x2a8b63){const _0x477b70=a0_0x131850;return await this[_0x477b70(0x34a)][_0x477b70(0x417)][_0x9fb58a[_0x477b70(0x682)]]['deleteFlow'](_0x2a8b63[_0x477b70(0x228)]);}async[a0_0x131850(0x52b)](_0x1a6797){const _0x497a2f=a0_0x131850;return await this['waMonitor'][_0x497a2f(0x417)][_0x1a6797[_0x497a2f(0x682)]][_0x497a2f(0x52b)]();}},Yt=class{constructor(_0x41df39){const _0x2c49fb=a0_0x131850;this[_0x2c49fb(0x281)]=_0x41df39;}async['createWebhook'](_0x420857,_0x90fa7){const _0x450818=a0_0x131850;return this['webhookService'][_0x450818(0x5c3)](_0x420857,_0x90fa7);}async['findWebhook'](_0x48e2b7){const _0x33f2db=a0_0x131850;return this[_0x33f2db(0x281)]['find'](_0x48e2b7);}},Xt=class extends D{constructor(_0x6b2d4f,_0x5cf436){const _0x56b478=a0_0x131850;super(_0x5cf436),this[_0x56b478(0x3cf)]=_0x6b2d4f,this[_0x56b478(0x400)]=_0x5cf436;}async['create'](_0x485847,_0x161f9a){const _0x198405=a0_0x131850;try{return this[_0x198405(0x1d0)][_0x198405(0x237)]?{'insertCount':(await this[_0x198405(0x3cf)][_0x198405(0x5c1)]({'_id':_0x161f9a},{..._0x485847},{'upsert':!0x0}))[_0x198405(0x3f6)]}:{'insertCount':0x1};}catch(_0x25023e){return _0x25023e;}}async['delete'](_0x17a28f){const _0x569e3c=a0_0x131850;try{if(this['dbSettings'][_0x569e3c(0x237)]){await this['webhookModel'][_0x569e3c(0x839)]({'_id':_0x17a28f});return;}}catch(_0xcc5e1a){return{'error':_0xcc5e1a};}}async[a0_0x131850(0x518)](_0x37bdb7){const _0x2374c7=a0_0x131850;try{if(this[_0x2374c7(0x1d0)][_0x2374c7(0x237)])return await this[_0x2374c7(0x3cf)]['findOne']({'_id':_0x37bdb7});}catch{return{};}}},Zt=class extends D{constructor(_0x3928ed,_0xfd1e7d){const _0x397b4f=a0_0x131850;super(_0xfd1e7d),this[_0x397b4f(0x2d4)]=_0x3928ed,this[_0x397b4f(0x400)]=_0xfd1e7d,this[_0x397b4f(0x398)]=_0xfd1e7d['get'](_0x397b4f(0x712));}async[a0_0x131850(0x5c3)](_0x471a70,_0x207df7){const _0x35fe5c=a0_0x131850;try{if(this['dbSettings'][_0x35fe5c(0x237)])return{'insertCount':(await this[_0x35fe5c(0x2d4)][_0x35fe5c(0x5e3)]({'_id':_0x207df7},{'$set':{..._0x471a70}},{'upsert':!0x0}))['modifiedCount']};}catch(_0x2dc0b4){return{'error':_0x2dc0b4};}}async[a0_0x131850(0x5df)](_0x31f2c4,_0xc84e36){const _0x144062=a0_0x131850;try{if(this[_0x144062(0x1d0)][_0x144062(0x237)])return{'insertCount':(await this[_0x144062(0x2d4)][_0x144062(0x515)](_0x31f2c4,{'$set':_0xc84e36},{'upsert':!0x1}))[_0x144062(0x3f6)]};throw new Error(_0x144062(0x1d4));}catch(_0x241df4){return{'error':_0x241df4};}}async[a0_0x131850(0x470)](_0x596c8e){const _0x36d484=a0_0x131850;try{if(this[_0x36d484(0x1d0)][_0x36d484(0x237)])return{'insertCount':(await this[_0x36d484(0x2d4)]['deleteMany'](_0x596c8e))[_0x36d484(0x5ae)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x3f67e5){return{'error':_0x3f67e5};}}async[a0_0x131850(0x3b0)](_0x2ce57a){const _0x220fb4=a0_0x131850;try{if(this[_0x220fb4(0x1d0)][_0x220fb4(0x237)]){await this['authModel']['deleteOne']({'_id':_0x2ce57a});return;}}catch(_0x4b99a5){return{'error':_0x4b99a5};}}async[a0_0x131850(0x518)](_0x1505e7){const _0x28706f=a0_0x131850;try{if(this['dbSettings'][_0x28706f(0x237)])return await this[_0x28706f(0x2d4)][_0x28706f(0x5d6)]({'_id':_0x1505e7});}catch{return{};}}async[a0_0x131850(0x422)](){const _0x3177ee=a0_0x131850;try{if(this[_0x3177ee(0x1d0)][_0x3177ee(0x237)])return await this['authModel'][_0x3177ee(0x518)]();}catch{return[];}}},es=class extends D{[a0_0x131850(0x267)](_0x21c599){return ha(_0x21c599);}async[a0_0x131850(0x4bc)](_0x1d5310){const _0x56e06b=a0_0x131850;try{let _0x3b36eb=ga,_0x2f19aa=this['getFlowModelForOwner'](_0x1d5310),_0x39b7a1=await _0x3b36eb[_0x56e06b(0x518)]({'owner':_0x1d5310})[_0x56e06b(0x44f)](),_0x257111=[],_0x10b979=[];for(let _0x3ad646 of _0x39b7a1)await _0x2f19aa[_0x56e06b(0x32c)](_0x3ad646[_0x56e06b(0x39d)])[_0x56e06b(0x44f)]()||(_0x257111[_0x56e06b(0x1b9)](_0x3ad646),_0x10b979[_0x56e06b(0x1b9)](_0x3ad646[_0x56e06b(0x39d)]));return _0x257111[_0x56e06b(0x724)]>0x0&&await _0x2f19aa['insertMany'](_0x257111,{'ordered':!0x1}),{'success':!0x0};}catch(_0x3114a8){return console[_0x56e06b(0x4e7)](_0x56e06b(0x254),_0x3114a8),{'success':!0x1,'error':_0x3114a8};}}async['delete'](_0x16c40f,_0x1c28ce){const _0x1aba86=a0_0x131850;try{let _0xf95db=this[_0x1aba86(0x267)](_0x1c28ce),_0x612068=A(_0x16c40f[_0x1aba86(0x529)]);return{'deletedCount':(await _0xf95db[_0x1aba86(0x470)](_0x612068))[_0x1aba86(0x5ae)]};}catch(_0x17e0d3){return{'error':_0x17e0d3?.[_0x1aba86(0x6a2)]()};}}async[a0_0x131850(0x839)](_0x338aca,_0x3aca15){const _0x339960=a0_0x131850;try{let _0x3ef28f=this[_0x339960(0x267)](_0x3aca15),_0x3fb35e=A(_0x338aca[_0x339960(0x529)]);return{'deletedCount':(await _0x3ef28f[_0x339960(0x839)](_0x3fb35e))[_0x339960(0x5ae)]};}catch(_0x1aed32){return{'error':_0x1aed32?.[_0x339960(0x6a2)]()};}}async[a0_0x131850(0x5c1)](_0x1951a1,_0x38dff3,_0x34a6f7){const _0x58e2f2=a0_0x131850;try{let _0x4bc14f=await this['getFlowModelForOwner'](_0x34a6f7)[_0x58e2f2(0x56b)](_0x1951a1,_0x38dff3,{'overwrite':!0x0,'new':!0x0});return _0x4bc14f||(console[_0x58e2f2(0x4e7)](_0x58e2f2(0x763),_0x1951a1),null);}catch(_0x3497d4){return console[_0x58e2f2(0x4e7)](_0x58e2f2(0x223),_0x3497d4),null;}}async[a0_0x131850(0x5e3)](_0x4d2f84,_0x2d2de4,_0x490056){const _0x9ac6cf=a0_0x131850;try{let _0x2cb96b=await this['getFlowModelForOwner'](_0x490056)[_0x9ac6cf(0x32c)](_0x4d2f84);return _0x2cb96b?(Object['assign'](_0x2cb96b,_0x2d2de4),await _0x2cb96b[_0x9ac6cf(0x230)]()):(console['error']('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x4d2f84),null);}catch(_0x592a26){return console[_0x9ac6cf(0x4e7)](_0x9ac6cf(0x223),_0x592a26),null;}}async[a0_0x131850(0x1fa)](_0x2c9854){const _0x3c6ab7=a0_0x131850;try{let _0xf821a6=this[_0x3c6ab7(0x267)](_0x2c9854),_0x36bf64={'shareOwners':{'$exists':!0x1}},_0x288ba0={'$set':{'shareOwners':[]}};return(await _0xf821a6[_0x3c6ab7(0x515)](_0x36bf64,_0x288ba0))[_0x3c6ab7(0x3f6)];}catch(_0x16b7ba){return console['error'](_0x16b7ba),0x0;}}async[a0_0x131850(0x36a)](_0x4ed155,_0x4577a4){const _0x4b69a8=a0_0x131850;try{let _0x3a5844=this[_0x4b69a8(0x267)](_0x4577a4);return await new _0x3a5844(_0x4ed155)[_0x4b69a8(0x230)]();}catch(_0x2f1311){return console['error']('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x2f1311),null;}}async[a0_0x131850(0x515)](_0x310006,_0x30a9aa,_0x2a6b30){const _0xe5e232=a0_0x131850;try{return{'modifiedCount':(await this[_0xe5e232(0x267)](_0x2a6b30)[_0xe5e232(0x515)](_0x310006,{'$set':_0x30a9aa}))[_0xe5e232(0x3f6)]};}catch(_0x36d40e){return console[_0xe5e232(0x4e7)](_0xe5e232(0x319),_0x36d40e),{'error':_0x36d40e};}}async[a0_0x131850(0x422)](_0x267b92,_0x8c4308){const _0x3903f1=a0_0x131850;try{let _0x2c3010=this[_0x3903f1(0x267)](_0x8c4308),_0x132795=A(_0x267b92['where']);return await _0x2c3010[_0x3903f1(0x518)](_0x132795)['limit'](_0x267b92?.[_0x3903f1(0x687)]??0x0)[_0x3903f1(0x44f)]();}catch{return[];}}async[a0_0x131850(0x5d6)](_0x455603,_0x203886){const _0x357bda=a0_0x131850;try{let _0x52db7e=this[_0x357bda(0x267)](_0x203886),_0x3c717e=A(_0x455603['where']);return await _0x52db7e[_0x357bda(0x5d6)](_0x3c717e)[_0x357bda(0x44f)]();}catch{return null;}}async[a0_0x131850(0x1a9)](_0x2fbbc5){const _0x1cc0ab=a0_0x131850;try{return await this[_0x1cc0ab(0x267)](_0x2fbbc5)[_0x1cc0ab(0x312)][_0x1cc0ab(0x21e)](),{'success':!0x0};}catch(_0x241e15){return console['error'](_0x241e15),{'success':!0x1,'error':_0x241e15};}}},ts=class extends D{[a0_0x131850(0x277)](_0xf1eed4){return fa(_0xf1eed4);}async[a0_0x131850(0x4bc)](_0x18c38b){const _0x33b249=a0_0x131850;try{let _0x260b95=wa,_0x526d3d=this[_0x33b249(0x277)](_0x18c38b),_0x248e4b=await _0x260b95[_0x33b249(0x518)]({'owner':_0x18c38b})[_0x33b249(0x44f)](),_0x337257=[],_0x21fe0e=[];for(let _0x18690e of _0x248e4b)await _0x526d3d['findById'](_0x18690e[_0x33b249(0x39d)])['lean']()||(_0x337257['push'](_0x18690e),_0x21fe0e[_0x33b249(0x1b9)](_0x18690e['_id']));return _0x337257[_0x33b249(0x724)]>0x0&&await _0x526d3d[_0x33b249(0x30c)](_0x337257,{'ordered':!0x1}),{'success':!0x0};}catch(_0x43229d){return console[_0x33b249(0x4e7)](_0x33b249(0x254),_0x43229d),{'success':!0x1,'error':_0x43229d};}}async['insert'](_0x5a1a22){const _0x571868=a0_0x131850;if(_0x5a1a22[_0x571868(0x724)]!==0x0)try{return{'insertCount':(await this[_0x571868(0x277)](_0x5a1a22[0x0]['owner'])['insertMany']([..._0x5a1a22]))[_0x571868(0x724)]};}catch(_0xdbf1e1){return _0xdbf1e1;}}async[a0_0x131850(0x3b0)](_0x5dc5a9,_0x5e3739){const _0x14155a=a0_0x131850;try{let _0x9c363e=this['getConversationModelForOwner'](_0x5e3739),_0x117eb4=A(_0x5dc5a9[_0x14155a(0x529)]);return{'deletedCount':(await _0x9c363e[_0x14155a(0x470)](_0x117eb4))[_0x14155a(0x5ae)]};}catch(_0x1a99a4){return{'error':_0x1a99a4?.['toString']()};}}async[a0_0x131850(0x839)](_0x2ffaab,_0x41f2fa){const _0x5d589f=a0_0x131850;try{let _0x43bf2b=this[_0x5d589f(0x277)](_0x41f2fa),_0x22196=A(_0x2ffaab[_0x5d589f(0x529)]);return{'deletedCount':(await _0x43bf2b[_0x5d589f(0x839)](_0x22196))[_0x5d589f(0x5ae)]};}catch(_0x55a28c){return{'error':_0x55a28c?.[_0x5d589f(0x6a2)]()};}}async[a0_0x131850(0x67c)](_0x520406,_0x21a2ce){const _0x301309=a0_0x131850;try{if(_0x520406[_0x301309(0x724)]===0x0)return;let _0x2db28b=this[_0x301309(0x277)](_0x21a2ce),_0x1ffe82=_0x520406[_0x301309(0x4e4)](_0x46237f=>({'updateOne':{'filter':{'name':_0x46237f['name'],'owner':_0x21a2ce},'update':{..._0x46237f}}})),{modifiedCount:_0x449c01}=await _0x2db28b['bulkWrite'](_0x1ffe82);return{'insertCount':_0x449c01};}catch{return;}}async[a0_0x131850(0x515)](_0x81164c,_0x1763a5,_0x100b5d){const _0x135fbe=a0_0x131850;try{return{'modifiedCount':(await this[_0x135fbe(0x277)](_0x100b5d)[_0x135fbe(0x515)](_0x81164c,{'$set':_0x1763a5}))[_0x135fbe(0x3f6)]};}catch(_0x568cf1){return console['error'](_0x135fbe(0x16c),_0x568cf1),{'error':_0x568cf1};}}async[a0_0x131850(0x5e3)](_0x452995,_0x3e3fe6,_0x771ba3){const _0x3b12c0=a0_0x131850;try{return await this['getConversationModelForOwner'](_0x771ba3)['findOneAndUpdate']({'_id':_0x452995},{'$set':_0x3e3fe6},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x18f801){return console[_0x3b12c0(0x4e7)](_0x18f801),null;}}async['find'](_0x8391f4,_0x3c7786){const _0x1f8f3a=a0_0x131850;try{return await this[_0x1f8f3a(0x277)](_0x3c7786)['find'](_0x8391f4)[_0x1f8f3a(0x6a4)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x131850(0x5d6)](_0x13c0f7,_0xb2d75b){const _0x343a9b=a0_0x131850;try{return await this[_0x343a9b(0x277)](_0xb2d75b)[_0x343a9b(0x5d6)]({..._0x13c0f7[_0x343a9b(0x529)]})[_0x343a9b(0x44f)]();}catch{return null;}}async[a0_0x131850(0x1a9)](_0x584eb4){const _0x2d551c=a0_0x131850;try{return await this[_0x2d551c(0x277)](_0x584eb4)[_0x2d551c(0x312)][_0x2d551c(0x21e)](),{'success':!0x0};}catch(_0xa31e30){return console['error'](_0xa31e30),{'success':!0x1,'error':_0xa31e30};}}},ss=class extends D{[a0_0x131850(0x3c0)](_0x4de5a7){return ba(_0x4de5a7);}async[a0_0x131850(0x4bc)](_0x1ad3bf){const _0x25fb8b=a0_0x131850;try{let _0x12bdac=Sa,_0x2fb05e=this[_0x25fb8b(0x3c0)](_0x1ad3bf),_0x5f1ea6=await _0x12bdac[_0x25fb8b(0x518)]({'owner':_0x1ad3bf})[_0x25fb8b(0x44f)](),_0xac3342=[],_0x2e2812=[];for(let _0x15b882 of _0x5f1ea6)await _0x2fb05e['findById'](_0x15b882[_0x25fb8b(0x39d)])[_0x25fb8b(0x44f)]()||(_0xac3342['push'](_0x15b882),_0x2e2812[_0x25fb8b(0x1b9)](_0x15b882[_0x25fb8b(0x39d)]));return _0xac3342['length']>0x0&&await _0x2fb05e['insertMany'](_0xac3342,{'ordered':!0x1}),{'success':!0x0};}catch(_0x3a58eb){return console['error'](_0x25fb8b(0x254),_0x3a58eb),{'success':!0x1,'error':_0x3a58eb};}}async[a0_0x131850(0x36a)](_0x1fd0cc,_0x32734e){const _0x2346b5=a0_0x131850;try{let _0x3c1f62=this[_0x2346b5(0x3c0)](_0x32734e);return await new _0x3c1f62(_0x1fd0cc)[_0x2346b5(0x230)]();}catch(_0x38eb40){return console[_0x2346b5(0x4e7)](_0x2346b5(0x6e7),_0x38eb40),null;}}async[a0_0x131850(0x839)](_0x1cd841,_0x13d9dc){const _0x3052e6=a0_0x131850;try{return await this[_0x3052e6(0x3c0)](_0x13d9dc)[_0x3052e6(0x3cc)](_0x1cd841),{};}catch(_0x3cf63c){return{'error':_0x3cf63c?.[_0x3052e6(0x6a2)]()};}}async[a0_0x131850(0x5e3)](_0x1b874f,_0x38a94b,_0x44d734){const _0x53773e=a0_0x131850;try{return await this[_0x53773e(0x3c0)](_0x44d734)[_0x53773e(0x6d1)](_0x1b874f,{'$set':_0x38a94b},{'new':!0x0})[_0x53773e(0x44f)]();}catch(_0x211936){return console[_0x53773e(0x4e7)](_0x53773e(0x366),_0x211936),null;}}async[a0_0x131850(0x53d)](_0x23a2b6,_0x2f5173,_0x2587eb){const _0x7a23a6=a0_0x131850;try{return await this[_0x7a23a6(0x3c0)](_0x2587eb)[_0x7a23a6(0x56b)](_0x23a2b6,_0x2f5173,{'new':!0x0})[_0x7a23a6(0x44f)]();}catch(_0x598787){return console['error'](_0x7a23a6(0x366),_0x598787),null;}}async[a0_0x131850(0x518)](_0x3aa969,_0x5456f9){const _0x1fa38c=a0_0x131850;try{return await this['getScheduleMessageModelForOwner'](_0x5456f9)['find'](_0x3aa969['where'])['limit'](_0x3aa969?.[_0x1fa38c(0x687)]??0x0)['sort']({'when':0x1})['lean']();}catch{return[];}}async[a0_0x131850(0x5d6)](_0x18ebca,_0x23c843){const _0x330890=a0_0x131850;try{return await this['getScheduleMessageModelForOwner'](_0x23c843)['findOne'](_0x18ebca[_0x330890(0x529)])[_0x330890(0x6a4)]({'when':0x1})['lean']();}catch{return null;}}async['findById'](_0xf8ec16,_0x19e928){const _0x518903=a0_0x131850;try{return await this[_0x518903(0x3c0)](_0x19e928)['findById'](_0xf8ec16)[_0x518903(0x44f)]();}catch{return null;}}async[a0_0x131850(0x470)](_0x205ec2,_0x541f94){const _0x2ceec7=a0_0x131850;try{return{'deletedCount':(await this[_0x2ceec7(0x3c0)](_0x541f94)['deleteMany'](_0x205ec2))[_0x2ceec7(0x5ae)]};}catch(_0x2ac853){return console[_0x2ceec7(0x4e7)](_0x2ceec7(0x825),_0x2ac853),{'error':_0x2ac853};}}async[a0_0x131850(0x1a9)](_0x2c09fb){const _0x4438eb=a0_0x131850;try{return await this[_0x4438eb(0x3c0)](_0x2c09fb)[_0x4438eb(0x312)][_0x4438eb(0x21e)](),{'success':!0x0};}catch(_0x49d703){return console[_0x4438eb(0x4e7)](_0x49d703),{'success':!0x1,'error':_0x49d703};}}},as=class extends D{async[a0_0x131850(0x67c)](_0x22305d,_0x54c978){const _0x2c97cc=a0_0x131850;try{if(this['dbSettings']['ENABLED']){let _0x3aaf39=await Ue['findOneAndUpdate']({'_id':_0x54c978},{'$set':_0x22305d},{'new':!0x0});return console[_0x2c97cc(0x70b)](_0x2c97cc(0x578),_0x3aaf39),_0x3aaf39;}}catch(_0x1eb1f2){throw console[_0x2c97cc(0x4e7)]('Erro\x20ao\x20atualizar\x20AutomateSystem:',_0x1eb1f2),_0x1eb1f2;}}async['findOrCreate'](_0x3a245f){const _0x349cb6=a0_0x131850;try{let _0x2cf230=await Ue[_0x349cb6(0x32c)](_0x3a245f);return _0x2cf230||(_0x2cf230=new Ue({'_id':_0x3a245f}),await _0x2cf230[_0x349cb6(0x230)]()),_0x2cf230;}catch(_0xe6bac0){return console[_0x349cb6(0x4e7)](_0x349cb6(0x808),_0xe6bac0),null;}}},Ai=new v(a0_0x131850(0x1ba)),Ii=new Ve(b),xi=new Jt(b),Di=new st(b),_i=new qt(ea,b),Pi=new Xt(na,b),$i=new Zt(ra,b),ki=new es(b),Li=new Vt(b),ji=new ts(b),Fi=new ss(b),Ui=new as(b),ue=new Je(Ii,xi,Di,_i,Pi,$i,ki,ji,Li,Fi,Ui,T?.[a0_0x131850(0x2be)]()),B=new Ut(ls,b,ue),Ji=new zt(b,B,ue),qi=new Kt(B),Es=new Yt(qi),x=new Qt(B),oe=new Gt(B,b,ue,ls,Ji),G=new Wt(B),_=new Bt(B),U=new Ht(B);Ai['info']('Module\x20-\x20ON');function a0_0x7d3c(){const _0x317985=['request\x20received\x20in\x20editFlow','AUTHENTICATION_JWT_EXPIRIN_IN','exit','preview','qrcode-terminal','REDIS_URI','lastSend','not_announcement','substring','SERVER_OFFLINE','No\x20join\x20group\x20invite\x20code\x20or\x20url','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','):\x20Bloco\x20copiado:\x20','\x20inseridas\x20no\x20banco\x20de\x20dados...','model','deleted','log','lastmsg','createServer','/:instanceName','loadEnv','CONNECTION','output','AUTHENTICATION','delay','revokeInviteCode','webhook','toArray','lastInteraction','fetchPrivacySettings','messages','reorderBlocks','getLabelModelForOwner','Erro\x20de\x20reinicialização:\x20','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','sendMedia','getflow','groupMetadata','menuMessage','):\x20Buscando\x20flow...','endSession','length','$dbName','request\x20received\x20in\x20fetchConversation','message_normalized','connectToWhatsappController','Parando\x20aplicação...','GET','REDIS_PREFIX_KEY','Content-Type','Instância:\x20','^\x5cd+[\x5c.@\x5cw-]+','content-type','DARK','groupMemberAddMode','):\x20Limpando\x20AutomateSystem','\x20chats\x20de\x20','request\x20received\x20in\x20createFlow','^\x5cd+','fileName','\x20is\x20already\x20in\x20use.','):\x20Buscando\x20conversas...','creds.json','getLastMessage','Instance\x20\x22','textMessage','ReplyOption\x20com\x20ID\x20','Parando\x20aplicação,\x20atualização\x20recebida','groupJid','groupRevokeInvite','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','startFlow','g-t','address','SERVER_URL','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','^\x5cd+([-]\x5cd+)*@g.us$','error_log','replaceVariablesChat','media','#000000','SERVER','):\x20Não\x20achou\x20nenhum\x20flow','stringify','notas','Erro\x20ao\x20editar\x20o\x20chat:\x20','cachedContact','noConnection','reconnectTimestamps','END:VCARD','findConversation','\x1b[36m','bodyString','instanceKeys','host','STORE_CONTACTS','nomecompleto','editFlowCondition','Sending\x20audio\x20whatsapp','HH:mm:ss','imagechat','chatHandle','DisconnectReason','mimetype','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','convert','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','detail','groupUpdateSubject','urlOrBase64','charAt','Image\x20is\x20url','cors','E-mail:\x20','delAll','fone','):\x20this.processing_id:\x20','Rótulo\x20inválido\x20ou\x20sem\x20ID.','setContext','):\x20Criando\x20fluxo\x20regular...','forEach','Notifying\x20clients\x20for\x20chat:\x20','@newsletter','groupValidate','Mensagens\x20deletadas\x20com\x20sucesso.','remoteJid','/wa-contacts','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','subdomain','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','WebhookGlobal','removeProfilePicture','hbs','bateu\x20events','qrcode','\x1b[44m','getMinutes','PENDING','labelId','less','moreLogs','none','Business\x20profile\x20fetched','listType','not\x20loaded','Rótulo\x20deletado:','\x20minutos','getContentType','namespace','\x1b[34m%s\x1b[0m','https://uazapi-plugin.bubbleapps.io/?url=','CHATS_SET','PRESENCE_UPDATE','cacheContact','processConditions','match','pollMessageOnDelete','creds','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','flowStopMinutes','findManyByIds','desc','updateBlock','qrcode.updated','status.instance','existsSync','isCommunity','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','whatsappNumber','entries','\x20inseridos\x20no\x20banco\x20de\x20dados...','../env.yml','variables','authState','rowId','context','getBase64FromMediaMessage','stanzaId','keys','audioMessage','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','\x22\x20-\x20NOT\x20CONNECTION','dropCollection','ini','\x20-\x20ON:\x20','addReplyOption','profilePictureUrl','phoneNumber','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','messageHandle','STATUS_INSTANCE','removeInstance','deleteReplyOption','Error\x20update\x20group\x20picture','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','view\x20engine','27770ghiLhe','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','sticker','#56ccb4','leadInfo.desativadoFluxoAte','customFields','editScheduleMessage','):\x20Enviando\x20texto','uncaughtException','importChatsBatch','delaySecMin','floor','optionName','):\x20não\x20encontrou','sendReaction',':\x20Erro\x20durante\x20loadproxy\x20-\x20','JWT','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','sendAudio','Close\x20connection','Bad\x20Request','https://uazapi-plugin.bubbleapps.io/','/config','https://','Background\x20color\x20is\x20required','certonly','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','messages.update','contentText','metadata','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','_activatedCount','newStoppedUntil','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','.X-ABLabel:Celular\x0a','Error\x20writing\x20file:\x20','deleteDoneMessages','flowConfig','apikey','groupId','localWebhook','website','328725AkExlV','instance.','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','#ff9484',',\x20lastCondition:\x20','):\x20Enviando\x20mídia','@whiskeysockets/baileys','processvaredits','blockId','SEND_MESSAGE','.gif','):\x20[messages.update]\x20group\x20ignored','varedit','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','CHATS_DELETE','flowName','trimmed','function','@s.whatsapp.net','reorderReplyOptions','uazapi','Revoke\x20error','createConversationforgoToFlow','chat','finish','\x20-i\x20','Chat\x20','):\x20Conversa\x20está\x20expirada\x20-\x20voto','off','inviteCodeDetails','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','mentioned','audio/ogg','Missing\x20global\x20api\x20key','choices','config','getMessage','):\x20mediaMessageInfoId\x20:\x20','eventHandler','findAndReplaceRegex','/wa-qrcode','NO_IP','/wa-message-update','File\x20written\x20to\x20path:\x20','hGet','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','processUazapi','success','integer','EMAIL:','Número:\x20','\x1b[30m%s\x1b[0m','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','Erro\x20ao\x20remover\x20label\x20','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.',',\x20valor\x20passado:\x20\x22','segundos','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Erro\x20ao\x20deletar\x20mensagens:','The\x20instance\x20needs\x20to\x20be\x20disconnected','test','Início','removed','/webhook','/instance','connectionUpdate','etiquetas','protocolMessage','findGroup','findFlow','Erro\x20ao\x20buscar\x20conversas:\x20','Conversa\x20deletada\x20com\x20sucesso.','put','):\x20Query\x20params:\x20','unlinkSync','Image\x20is\x20base64','assign','):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','deleteOne','scheduleSendText','reconnectAttempts','pollCreationMessageV2','label_jid','notMatchRegex','Content\x20is\x20required','#f64847','API\x20Key\x20from\x20Request:','/wa-message','backgroundColor','Connection\x20closed\x20for\x20instance:\x20','Enter\x20a\x20value\x20in\x20milliseconds','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','):\x20Edit\x20schedule\x20message...','flattenObject','ListType','OrAnd','8080','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','processPollUpdateMessage','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','findAndReplace','statusCode','isLong','redis','\x5c$&','getProfileName','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','processApiRequest','updateProfilePicture','jid','MESSAGES_UPDATE','.mimetype','loadInstance','\x20com\x20sucesso.','menuIgnoreNonVotes','Read\x20messages','data:\x20','#fe9dfe','video','DELETED','readFileSync','):\x20Deletando\x20mensagem','scheduleMessage','GROUP_PARTICIPANTS_UPDATE','Valor\x20inicial:\x20\x22','readMessageBot','):\x20updateResult:','):\x20Procurando\x20mensagens\x20para\x20envio','inviteCode','):\x20isVote:\x20','random','delaySecMax','routerPath','leadInfo.etiquetas','prepareMediaMessage','hGetAll','imported','loadproxy','isJidGroup','@g.us','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','delayMessage','saveMediaToFile','fetchProfile','announcement','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','code','options','FlowModel','collections','size','StatusJidList\x20is\x20required','Message','.jpg','has','tags','mongoose','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','deleteAll','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','instanceInfo','deleteMessage','STORE_CLEANING_TERMINAL','hDel','connectToWhatsapp','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','sendDataWebhook','Error\x20in\x20converting\x20audio','flushHeaders','TEXT','Mensagem\x20não\x20suportada','eventEmitter','Group\x20not\x20found','Type\x20is\x20required','push','WA\x20MODULE','CORS_CREDENTIALS','sendCommand','\x1b[43m','DB_PREFIX_NAME','responsavelid','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','lastBlockId','default','\x1b[30m','reject','readMessages',',\x20Comparador:\x20','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','):\x20Procurando\x20conversa','timeout','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','connectionStatus','\x20e\x20ID=','fromObject','formatVCard','request\x20received\x20in\x20deleteFlow','dbSettings','getConversation','testProxy','expiration','Database\x20is\x20not\x20enabled','\x1b[31m%s\x1b[0m','redisEnv','deleteInstance','updateStopChat','/message','Flow\x20não\x20encontrado','/clients-info','sendSticker','approve','PRIVKEY','webhookMap','toBRL','beautifyWithPlaceholders','enumerable','HOST','digest','contacts.update','!stop','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','-instances','sendWhatsAppAudio','ObjectId','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','The\x20global\x20api\x20key\x20must\x20be\x20set','messageStubType','\x1b[32m%s\x1b[0m','verbose','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','\x20instance\x20does\x20not\x20exist','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','command','MessageModel','valid','unreadcount','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20debug\x20alterando\x20this.AutomateSystem','updateMissingShareOwners','NextBlock','padEnd','CLEANING_INTERVAL','findGroupInfo','\x20não\x20encontrado\x20para\x20atualização.','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','fetchConversation','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','\x20mensagens\x20de\x20','uazapiDeleteMessage','):\x20Enviando\x20contato','sem\x20texto\x20na\x20mensagem','buttons','creds.update','extractRegex','apirequest','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','groupToggleEphemeral','messaging-history.set','setHeader','path','admin','contactHandle','):\x20newSecondValue\x20após\x20replaceVariables:','WARN','CORS_ORIGIN','messageContextInfo','Last\x20message\x20not\x20found\x20for\x20number:','getFlow','Erro\x20ao\x20iniciar\x20fluxo:\x20','desativadoFluxoAte','locationMessage','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','generateHash','drop','\x0aFN:','Cannot\x20','toUpperCase','deleteBlock','Erro\x20ao\x20atualizar\x20o\x20fluxo:','sendPoll','local_map','\x20foi\x20interrompido\x20pelo\x20usuário.','online','name','buttonMessage','varedits','):\x20customFieldVariables','):\x20Editando\x20replyOption...','\x1b[1m\x1b[37m','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','Router','save','binary','fileUrl','fetchProfilePictureUrl','updateMessage','updateGParticipate','Invalid\x20format','ENABLED','createGroup','changeVariables','atendimentoAberto','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','):\x20Error\x20processing\x20conditions:\x20','client','/wa-chats','):\x20Going\x20to\x20','chatLog','buttonId','SSL_CONF_PRIVKEY','array','/events','#01d0e2','envProcess','crypto','participants','messagesSend','isArray','ListMessage','\x20-\x20retornado:\x20','Primeiro\x20Valor:\x20',',\x20fará\x20nova\x20verificação\x20em\x20',':\x20IP\x20funcionando!','Fluxos\x20não\x20estão\x20ativados','instanceCount','ButtonsMessage','5599056lQlEda','Erro\x20ao\x20copiar\x20dados:','vote','findIndex','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','Delete\x20chat','from','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','groupJoinApprovalMode','role','\x20não\x20encontrado\x20para\x20cópia','https://jsonip.com','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','):\x20[messages.upsert]\x20group\x20ignored','findMessages','sendMenu','selectedOptions','):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','getFlowModelForOwner','\x20contacts','chats.update','\x20minutos.\x20Será\x20às\x20','vcard','Erro\x20ao\x20remover\x20instâncias\x20antigas:','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','env.yml','available','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','loadWebhook','Erro\x20ao\x20editar\x20a\x20conversa:\x20','sendText','close','):\x20Limpando\x20delayMessage','groupGetInviteInfo','getConversationModelForOwner','sendPresenceUpdate','No\x20participants','Instance\x20restarted','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','errorLog','.TEL;waid=','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','dayjs','/exit','webhookService','jpegThumbnail','ms\x20(Attempt\x20','\x1b[1m',',\x20saindo.','isRunning','notContains','#d3a91f','interval\x20não\x20é\x20um\x20número','http://checkip.dyndns.org','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','replaceValue','isURL','audioWhatsapp','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','defineAuthState','ContactModel','set','scheduleNextCheck','sharp','fetchStatus','KEY','parse','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','messageId','upperCase','VERBOSE','writeFileSync','linkPreview','40DOJnBv','\x20ao\x20chat\x20','sendMessage','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','Flow\x20iniciado\x20com\x20','addBlock','AUTHENTICATION_TYPE','readData','pt-BR','verifiedName','loggedOut','cache','cacheContactModel','PREFIX_KEY','COLOR','http://ipecho.net/plain','slice','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','displayName','):\x20Criando\x20fluxo\x20compartilhado...','/wa-all-message','removeChatLabel','scheduleMessages','CORS_METHODS','AutomateFunctions','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','groupRequestParticipantsList','senderKeyDistributionMessage','Button\x20texts\x20cannot\x20be\x20repeated','augusto.fcs@gmail.com','downloadMediaMessage','getClient','Error\x20change\x20group\x20setting','Log\x20out\x20instance:\x20','processing_id','.doc','refused','warn','includes','PORT','.pdf','stopMinutesMaxActives','redirect','scheduleSendMedia','\x5cd+','AUTHENTICATION_JWT_SECRET','):\x20Error\x20processing\x20the\x20block:\x20','secondValue','REDIS','Instance\x20logged\x20out','app-state-sync-key','logger','editedMessage','authModel','_error','normalizeMessageContent','sleep','events','TYPE','request\x20received\x20in\x20starFlow','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20',',\x20Resultado:\x20','request\x20received\x20in\x20editFlowgroup','remote\x20\x22origin\x22','request\x20received\x20in\x20editConversation','Selecione','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','isJWT','updateProfilePicturePrivacy','string','archiveChat','waUploadToServer','):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20','writeData','/group','Error\x20finding\x20many\x20contacts:','response','\x20segundos','toNumber','getOwnPropertyNames','values','This\x20name\x20','apiResponse','chats.set','SECRET','hSet','closed',',\x20resultado:\x20','Instância\x20não\x20encontrada.','currency','dataValidate','Erro\x20ao\x20editar\x20o\x20bloco:\x20','getVariablesChat','sendMessageWithTyping','):\x20Usando\x20extensão\x20padrão:\x20','messageTimestamp','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','updateParticipant','sendLocation','isConnected','requestPairingCode','Db\x20Connection','authService','all','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','labels.edit','groups.update','findLabels','insertMany','Error\x20occurred\x20while\x20archiving\x20chat:\x20','ORG:','mongodb://','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','realVariables','collection','start','@ffmpeg-installer/ffmpeg','fullName','createClient','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','no.connection','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','generateWAMessageFromContent',',\x20valor\x20a\x20encontrar:\x20\x22','getTime','open','defineProperty','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','\x20not\x20found,\x20retrying\x20in\x20','URL\x20limpa:\x20','insert','envYaml','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','Error\x20while\x20deleting\x20message\x20for\x20everyone','Internal\x20Server\x20Error','synchronizeFlows','3201105LxryCr','):\x20Conversa\x20está\x20expirada','trim','redis://127.0.0.1:6379','findById','findAndUpdateCacheContact','applyvaredit','The\x20\x22','addChatLabel','password','verifyWhatsAppNumber','FlowController',',\x20Segundo\x20Valor:\x20','port','updateGroupPicture','groupCreate','\x20do\x20chat\x20','groupDesc','end','menuExpiredMessage','allContacts','shutdown\x20-r\x20now','lastCondition','https://api.ipify.org?format=json','action','no-cache','editConversation','Error\x20updating\x20privacy\x20settings','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','node-cache','.ogg','waitingForReplyMenu','http','--standalone','waMonitor','saveCreds','stopWhenYouSendMsg','created','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','optionDescription','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','findGroups','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','\x20->\x20CONFIRMADO.','stickerMessage','header','group-participants.update','replace','width','/instance/connectionState','replaceVariablesInObject','headerString','bodyStringErrorParse','DD/MM\x20HH:mm:ss','hex','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','updateConversation','Validate','Certbot:\x20','SSL_CONF','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','onWhatsApp','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','shareOwners','uazapiSendAudio','createAndSave','getRandomText','group','Subscribed\x20Events:','findOrCreate','Error\x20updating\x20participants','_Messages','http://ip-api.com/json','remove.instance','text','groupSetting','readreceipts','LabelModel','userDevicesCache','reaction','createSharedFlow','item','axios','messages.set','):\x20tem\x20blocks','Instance\x20Key\x20from\x20DB:','hasOwnProperty','#83e421','.extension','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','\x20after\x20','.jwt','params','getDelay','pollCreationMessage','buttonText','updateGParticipant','):\x20Entrou\x20na\x20função\x20stop','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','findParticipants','greater','composing','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','sendList','\x20}\x0a','):\x20Deletando\x20conversa...','convertToWebP','Deletion\x20failed','importChats','firstValue','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','auth','toggleEphemeral','Trying\x20to\x20get\x20business\x20profile','keep-alive','50mb','_id','.txt',',\x20Minutes\x20to\x20Close:\x20','getUpdate','URL:','InstancesAsDisconnectedX','mediaSticker','\x20\x1b[0m','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','requestFile','CREDENTIALS','groups.upsert','Error\x20updating\x20profile\x20status','Esse\x20fluxo\x20expirou','https://ipinfo.io/json','):\x20Editando\x20bloco...','.fileUrl','prototype','CONTACTS_SET','delete','Image\x20created','stopMinutes','birthtime','editFlowReply','):\x20Campos\x20a\x20serem\x20atualizados:','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','*Pergunta*:\x20\x0a','\x0a{\x20instance:\x20','fileLength','subjectTime','saveVariable','value','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','RemoveChatLabel','Error\x20updating\x20profile\x20picture','getScheduleMessageModelForOwner','deleteMessageForEveryone','conversationTimestamp','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','lastSendMessage','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','statusMessage','fetchContacts','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','TEL',':\x20Tentativa\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','findByIdAndDelete','ids','\x1b[41m','webhookModel','documentWithCaptionMessage','convertaudio','Fluxo\x20não\x20encontrado','deleteConversation','matchRegex','replaceVariablesInReplyOptions','Label\x20','oldValue','):\x20Erro\x20ao\x20processar\x20o\x20grupo\x20','stopConversation','Instance\x20deleted','Contacts\x20not\x20found','https','USER','stdout','long','recebido\x20de','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','flow','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','Error\x20change\x20group\x20description','remoteJidsRemaining','lastReceivedMessage','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','dbConnection','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','createConnection','):\x20conversation.lastInteraction:\x20','Chat\x20com\x20ID\x20','Instance\x20ID:','Erro\x20ao\x20aplicar\x20varedit:\x20','importChatsAntigo','replaceVariables','fetchProfilePicture','ex:\x20\x22groupJid=120362@g.us\x22','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','exists','lastMessage','modifiedCount','expression','prefixCommand','remoteJids','contextInfo','uuid','Atualização:\x20','/wa-connection-update','#64c4ff','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','configService','connectedName','\x20adicionado\x20ao\x20chat\x20','getOwnPropertyDescriptor','updateReadReceiptsPrivacy','body','fetchMessages','viewOnceMessage','filter','API\x20Key\x20inválida.','evaluateConditionTest','rows','contacts.upsert','AutomateSystem\x20não\x20foi\x20inicializado','boolean','updateMissingCustomFields','mediaMessage','FULLCHAIN','):\x20Current\x20Time:\x20','Converted\x20image\x20deleted','Desconectado,\x20parando\x20execução.','contacts','/events/:instance','waInstances','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','$pull','max','toFile','owner','Unauthorized','replyOption','poll','updateReplyOption','CONECTADO\x20À\x20UAZAPI','findAll','saveConversationToDatabase','sha256','static','\x20horas\x20e\x20','/instance/delete','Comando\x20desconhecido','Database\x20connection\x20closed.','request\x20received\x20in\x20getAutomateSystem','Rótulo\x20atualizado:','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','arrayUnique','status','Falha\x20após\x20várias\x20tentativas.','leadInfo','url','replaceVariablesLogs','Image\x20path:\x20','webp','evaluateCondition','#ffae04','Deleted\x20','proto','updateFlowConfig','getScheduleMessage','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','next_groupId','updateCustomFields','DATABASE_CONNECTION_URI','request\x20received\x20in\x20deleteDoneMessages','profilePicture','getPrototypeOf','):\x20','isBase64','groupFetchAllParticipating','sign','All_Instances_Config','now','Erro\x20do\x20Certbot:\x20','writeFile','Logger','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','notEqual','ScheduleMessage','call','lean','):\x20Ignoring\x20group\x20messages.','audio/ogg;\x20codecs=opus','write','unlocked','fetchChats','Processing\x20audio','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','sending',',\x20pairCode:\x20','description','ephemeralMessage','numbers','enabled','node-mime-types','shift','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','send','reviver','):\x20Bloco\x20com\x20ID\x20','groupUpdateDescription','CHATS_UPSERT','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','updatePrivacySettings','The\x20','instance','Erro\x20ao\x20editar\x20agentes:\x20','Schema','parseInt','normalizeMessage','CORS','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','removeData','deleteMany','unreadCount','recording','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','\x22reaction\x22\x20must\x20be\x20an\x20emoji','env','isJidBroadcast','):\x20Visualizando\x20AutomateSystem','.mp3','ContactsAndGroups',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','editFlowGroup','min','):\x20Criando\x20nova\x20conversa[createNewConversation]','pollCreationMessageV3','Not\x20allowed\x20by\x20CORS','color','getChatModelForOwner','router','$set','RECONNECT_TIME_FRAME','Erro:','pollErrorMessage','email','isListOfNumbers','#b4ebff','createFlow','findGroups2','Número\x20não\x20possui\x20WhatsApp.','\x22\x20cannot\x20be\x20empty','Error\x20updating\x20profile\x20name','awaitingApproval','menuType','groupSettingUpdate','\x1b[37m','longitude','user','leadInfo.','DATABASE_CONNECTION_HOST','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','request_method','readFile','):\x20Enviando\x20localização','):\x20Editando\x20condição\x20do\x20fluxo...','.webp','Cached\x20audio\x20found,\x20returning\x20existing\x20file','Error\x20fetching\x20and\x20updating\x20profile:\x20','Falta\x20informação\x20para\x20a\x20chamada\x20API','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','request\x20received\x20in\x20editFlowvariable','pushName','replyOptions','):\x20Conversas\x20encontradas:','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','Bloco\x20com\x20ID\x20','newValue','fetchLatestBaileysVersion','Error\x20removing\x20profile\x20picture','block','):\x20enviado\x20para\x20[','DOCKER_ENV','processgoToFlow','jwt','joinApprovalMode','eventemitter2','contains','lastUpdate','readMessage','bearer','groupName','StartBot','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','createHash','statSync','copyDataToNewModel','844fCefbF','presence','createConversationforStartFlow','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','startsWith','status@broadcast','endsWith','groupParticipantsUpdate','viewOnceMessageV2','isBusiness','processblock','):\x20teve\x20mudanças\x20chat.displayName:\x20','groupLeave','flush','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','splice','convertedOptions','Variáveis\x20não\x20encontradas:','conversation','groupRequestParticipantsUpdate','?timestamp=','count','round','connect','all_member_add','editflowvaredit','LICENSE_INVALID','editflowgroup','listMessage','console','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','copyBlock','release','formatBRNumber','Erro\x20ao\x20atualizar\x20o\x20flow.','cleanStore','ChatModel','getDevice','Error\x20getting\x20invite\x20code\x20info','map','stopped','instancias:\x20','error','presenceSubscribe','__esModule','groupHandler','stoppedUntil','DATABASE','_p_','joinGroup','waitingMenu_replyOptions','goToFlow','Error\x20fetching\x20group','text/event-stream','info','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','Error\x20parsing\x20JSON:','):\x20Erro\x20durante\x20a\x20atualização:\x20','scheduled','.svg','READ','delayChatLabel','.pptx','setNewValue','qrCode','mentions','createRegularFlow','makeCacheableSignalKeyStore','key','isInteger','request\x20received\x20in\x20updateFlowConfig','truncatedtoEnd','error\x20get\x20vote','label','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','privacySettings','.xls','some','join','Message\x20not\x20found','):\x20alterando\x20this.AutomateSystem','MESSAGES_SET','logout','base64','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','/wa-groups','updateMany','utf-8','result','find','listen','checkAndUpdateChatStatus','upsertedCount','exec','contact','notify','DEBUG','audio','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','):\x20Enviando\x20enquete','application/json','Telefone:\x20','waitingMenu_text','--agree-tos','CONNECTION_UPDATE','groupInviteCode','where','waitingMenu_id','allFlows','):\x20Bloco\x20original\x20para\x20cópia:\x20','scheduleSendAudio','instances','groupAcceptInvite','editFlow','}}\x20->\x20valor\x20não\x20encontrado','QRCODE_UPDATED','$addToSet','chats','):\x20Mensagem\x20já\x20enviada\x20para\x20','paused','updateMediaMessage','):\x20Conversa\x20inserida\x20com\x20sucesso.','Output\x20path:\x20','encoding','ultimaTentativaRemoteJid','HttpsProxyAgent','updateOneById','):\x20Entrou\x20na\x20função\x20goToFlow','connectionState','PLAYED','isJidUser','SERVER_ACK','updateMissingEtiquetas','urlencoded','leadInfo.customFields','badSession','closeExistingConversations','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','Error\x20in\x20scheduleNextCheck:\x20','/instance/fetchInstances','empty','temp-','last','chatModify','upsertChats','unhandledRejection','leaveGroup','Converting\x20image\x20to\x20WebP\x20to\x20sticker','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','deleteFlow','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','CHATS_UPDATE','\x20-y','minutesToClose','profile','apply','sections','copy','CONTACTS_UPSERT','setWebhook','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','and','jsonwebtoken','setting','match_last_seen','\x20minutos\x20verificará\x20novas\x20mensagens','):\x20Alterando\x20fluxo...','DATABASE_CONNECTION_PASSWORD','InstancesAlterarTodas','deleteflow','indexOf','findByIdAndUpdate','AutomateSystem','footerText','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','\x1b[32m','):\x20Enviando\x20áudio','Cache-Control','getAutomateSystem','#00a1f2','updateProfileName','findWebhook','sharePass','wuid','Resultado\x20da\x20atualização:','delayChatLabel_MAX_RETRIES','subject','Erro\x20ao\x20atualizar\x20conversa:\x20','remove','):\x20nextBlock.uazapi.name','presence.update',']\x20(','SUCCESS','downloads','):\x20conversation.waitingMenu_name','blocks','createWebhook','Type\x20defined\x20as\x20audio','INFO','ERROR:\x20','method','fetchLabels','https-proxy-agent','\x20saindo\x20da\x20função','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','inner','Button\x20IDs\x20cannot\x20be\x20repeated.','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','.webm','DATABASE_CONNECTION_DB_PREFIX_NAME','uazapiSendText','createJid','env.KEY\x20!==\x20key','quotedMessage','#6f7bcf','apiName','/wa-presence','initAuthCreds','maxActives','chatId','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','repeat','STORE_MESSAGE','use','dbInstance','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','EXPIRIN_IN','express-async-errors','SINGLE_SELECT','split','dbServer','editflowreply','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','beforeExit','http://ifconfig.me/ip','throwAndLogError','saveChatVariables','fetchBusinessProfile','deletedCount','statusJidList','get','toLocaleString','createNewConversation','validate','pollOnReplyDelete','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','):\x20Criou\x20conversa\x20no\x20startFlow:','g.us','\x20não\x20encontrado','certbot','padStart','pollMessage','post','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','dbClient','readdirSync','chats.upsert','replaceOne','pre','create','}}\x20->\x20\x22','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','flowConversation','repository','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','variablesNotFound','.\x20Aguardando\x20antes\x20de\x20reconectar...','pollUpdateMessage','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','https://github.com/uazapi/uazapi.git','connectionClosed','data','video-cover.png','groupBetterSetting','originalUrl','allflows','nextBlock:','findOne','\x20chats\x20foram\x20atualizados.','groups_ignore','editChat','Last\x20message\x20not\x20found','mediatype','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','PASSWORD','updateAll','Erro\x20inesperado\x20em\x20processvaredits:\x20','Fetching\x20business\x20profile','fromMe','updateOne','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','markMessageAsRead','locked','archive','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','utf8','checkAndRestartProcess','flowActive',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','Error\x20updating\x20cache\x20contact:','conditions','/media/','@broadcast','URI','bulkWrite','nome','reference','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','connecting','DATABASE_CONNECTION_USER','/instance/create','sendButtons','getStatus','sectionsToString','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','latitude','API_KEY','GROUPS_UPSERT','dark','request\x20body:\x20','authentication','Type\x20not\x20found','ON\x20-\x20dbName:\x20','):\x20Comando\x20desconhecido:\x20','pollCreationMessageKey','uazapiSendLocation','Forbidden','participant','updateProfileStatus','protocol','last_update','option','ERROR','GROUPS_UPDATE','toLowerCase','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','application/octet-stream','variablesToObject','73766oKAPUe','):\x20Query\x20params:','Reinicialização\x20iniciada:\x20','arraybuffer','caption','username','labels.association','-whatsapp-api','Tentando\x20reconectar...','Error\x20updating\x20message\x20status:','class-validator','contact_blacklist','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','\x1b[33m\x1b[1m','):\x20Deletando\x20fluxo...','spawn','):\x20Flow\x20não\x20encontrado','title','creation','list','updatePresence','DaysToDelete','imageMessage','stderr','Audio\x20converted\x20and\x20stored\x20in\x20cache','image','done','.url','delayChatLabel_RETRY_DELAY_MS','BRL','editflowcondition','Erro\x20de\x20atualização:\x20','createSectionsFromValues','app','removeOlderDisconnectedInstances','STORE_CHATS','saveTextReply','promote','mongodb','\x1b[36m%s\x1b[0m','.docx','prepareWAMessageMedia','ignoreGroups','automateSystem','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','MESSAGES_UPSERT','pictureUrl','SSL_CONF_FULLCHAIN','document','generate','number','lowerCase','getContactModelForOwner','6026436fkGrtV','messages.upsert','):\x20teve\x20mudanças\x20chat.name:\x20','https://chat.whatsapp.com/','updateAgent','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','):\x20Editando\x20edição\x20do\x20fluxo...','Authentication\x20error','AppStateSyncKeyData','editOperator','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','deleteChat','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','*\x0a\x0a','type','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','selectableCount','request\x20received\x20in\x20allFlows','://','messageType','CONTACTS_UPDATE','object','query','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','getMIMEType','out','goNextblock','pino','pop','documentMessage','sendStatus','message','rm\x20-rf\x20','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','updateMissingLabels','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','memberAddMode','.error','):\x20expirationTime:\x20','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','pairingCode','@redis/client','_ScheduleMessages','editFlowVariable','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','fetchInstances','update','videoMessage','subjectOwner','child_process','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','ReplyOptions\x20finais\x20após\x20reordenação:','instanceName','variable','uazapiSendMenu','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','sendContact','limit','cpf','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','.\x20Pulando.','):\x20conversation.status:\x20','630tVsKai','URL','add','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','36jVgLqQ','editflowblock','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','LEVEL','updateChatWithMessage','Valor\x20de\x20find\x20ou\x20replace\x20ausente','format','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','Image\x20converted\x20to\x20WebP','reactionMessage','order','Nenhum\x20chat\x20encontrado\x20para\x20editar.','picture','http://icanhazip.com/','exports','Erro\x20ao\x20buscar\x20conversa:\x20','FlowRouter','toString','ConversationModel','sort','MAX_RECONNECT_ATTEMPTS','):\x20delete\x20=\x20true','.wav','.mp4','src','unavailable','storePath','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','cleaningUp','updateMissingTags','useMultiFileAuthState','stateConnection','process','?authSource=admin&readPreference=primary&directConnection=true','14289bGUolN','BufferJSON','archived','agents','resetReconnectionVariables','AddChatLabel','request_time','restrict','waitingMenu_ExpiredMessage','_Chats','\x22\x20-\x20REMOVED','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','Failed\x20to\x20find\x20chat\x20','groupadd','\x20->\x20NÃO\x20CORRESPONDE.','send.message','errors','\x1b[0m','mediaKey','/media','editFlowVaredit','PROXY','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','createInstance','findChats','height','font','setUpdate','The\x20property\x20cannot\x20be\x20empty','findOneAndUpdate','express','abs','enviado\x20para','connection.update','listResponseMessage','setRestartTimeout','Erro\x20ao\x20normalizar\x20a\x20mensagem:','true','DELIVERY_ACK','json','toDataURL','quoted','LOG','Erro\x20ao\x20importar\x20chats:','\x1b[47m','contactMessage','contactname','Audio\x20processed','_FlowHistorico','Types','emit','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','groups','joinGroupValidate','/create','state','):\x20Ler\x20mensagem','https://api.elevenlabs.io/v1/text-to-speech/','announce','chats.delete','uazapiSendMedia','Read\x20messages\x20fail','Error\x20change\x20group\x20name','editFlowBlock','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','getMessageModelForOwner','store','content','blockLogs','condition','Temp\x20image\x20deleted'];a0_0x7d3c=function(){return _0x317985;};return a0_0x7d3c();}var _h=require(a0_0x131850(0x5a3)),ks=require('fs'),_r=O(require(a0_0x131850(0x3dc))),Pr=O(require(a0_0x131850(0x348))),Oe=class c{static #e;static set[a0_0x131850(0x638)](_0xb58e15){this.#e=_0xb58e15;}static get[a0_0x131850(0x3dc)](){const _0x3d7da4=a0_0x131850;let {FULLCHAIN:_0x4c73e9,PRIVKEY:_0x4b1257}=b[_0x3d7da4(0x5b0)](_0x3d7da4(0x363));return _r['createServer']({'cert':(0x0,ks[_0x3d7da4(0x183)])(_0x4c73e9),'key':(0x0,ks[_0x3d7da4(0x183)])(_0x4b1257)},c.#e);}static get[a0_0x131850(0x348)](){const _0x20cbf2=a0_0x131850;return Pr[_0x20cbf2(0x70d)](c.#e);}},pe=O(require('fs')),Ur=O(require(a0_0x131850(0x7b2))),Ae=O(require(a0_0x131850(0x37b))),xe=O(require(a0_0x131850(0x20f))),De=require(a0_0x131850(0x67f));function Vi(){const _0x152e83=a0_0x131850;B[_0x152e83(0x17b)]();let _0x54280d=xe[_0x152e83(0x1c2)]['join'](__dirname,_0x152e83(0x581));Fr(_0x54280d);}var Fr=_0x1fe71f=>{const _0xf28eec=a0_0x131850;let _0x59e490=pe[_0xf28eec(0x1c2)][_0xf28eec(0x5bf)](_0x1fe71f),_0x39cfb8=0xc*0x3c*0x3c*0x3e8,_0x4cf414=0x2*0x3c*0x3c*0x3e8,_0x16e069=new Date()[_0xf28eec(0x31c)]();_0x59e490['forEach'](_0x1e5d80=>{const _0x7f6db0=_0xf28eec;let _0x182513=xe[_0x7f6db0(0x1c2)][_0x7f6db0(0x50c)](_0x1fe71f,_0x1e5d80),_0xed6bae=pe[_0x7f6db0(0x1c2)][_0x7f6db0(0x4bb)](_0x182513)[_0x7f6db0(0x3b3)][_0x7f6db0(0x31c)]();_0x16e069-_0xed6bae>_0x39cfb8&&(pe[_0x7f6db0(0x1c2)][_0x7f6db0(0x835)](_0x182513),console[_0x7f6db0(0x70b)](_0x7f6db0(0x437)+_0x1e5d80));}),setTimeout(()=>Fr(_0x1fe71f),_0x4cf414);};function Bi(){const _0x278849=a0_0x131850;let _0x3fd089=new v('SERVER'),_0x16ac32=(0x0,he['default'])();_0x16ac32[_0x278849(0x59f)]((0x0,jr[_0x278849(0x1c2)])({'origin'(_0x5bfca6,_0xa1168f){const _0x4fde0f=_0x278849;let {ORIGIN:_0x54ffa9}=b[_0x4fde0f(0x5b0)](_0x4fde0f(0x46d));return _0x5bfca6||(_0x5bfca6='*'),_0x54ffa9[_0x4fde0f(0x56a)]('*')!==-0x1||_0x54ffa9[_0x4fde0f(0x56a)](_0x5bfca6)!==-0x1?_0xa1168f(null,!0x0):_0xa1168f(new Error(_0x4fde0f(0x47f)));},'methods':[...b[_0x278849(0x5b0)](_0x278849(0x46d))['METHODS']],'credentials':b[_0x278849(0x5b0)](_0x278849(0x46d))[_0x278849(0x3a7)]}),(0x0,he[_0x278849(0x544)])({'extended':!0x0,'limit':_0x278849(0x39c)}),(0x0,he[_0x278849(0x6db)])({'limit':_0x278849(0x39c)})),_0x16ac32[_0x278849(0x59f)]((_0x35e107,_0xfdcef7,_0x109faa)=>{const _0x5abcfa=_0x278849;_0x35e107[_0x5abcfa(0x20f)][_0x5abcfa(0x4c1)](_0x5abcfa(0x244))?_0x109faa():(0x0,Lr['default'])()(_0x35e107,_0xfdcef7,_0x109faa);}),_0x16ac32[_0x278849(0x293)](_0x278849(0x7be),_0x278849(0x77f)),_0x16ac32[_0x278849(0x293)]('views',(0x0,js[_0x278849(0x50c)])(ie,'views')),_0x16ac32[_0x278849(0x59f)](he[_0x278849(0x1c2)]['static']((0x0,js['join'])(ie,'public'))),_0x16ac32[_0x278849(0x59f)]((_0x2350f4,_0x547626,_0x1cd69a)=>{const _0x19ec82=_0x278849;let _0x440fe9=_0x547626[_0x19ec82(0x460)];_0x547626[_0x19ec82(0x460)]=function(_0x2e5df7){const _0x199dd6=_0x19ec82;if(_0x2350f4['query'][_0x199dd6(0x764)]===_0x199dd6(0x6d9)||_0x2350f4['headers']['uazapi']===_0x199dd6(0x6d9)){let _0x3cfd59=JSON[_0x199dd6(0x298)](_0x2e5df7);_0x2e5df7=JSON[_0x199dd6(0x74e)](_0x188a22(_0x3cfd59));}return _0x440fe9[_0x199dd6(0x55b)](_0x547626,[_0x2e5df7]);},_0x1cd69a();}),_0x16ac32[_0x278849(0x59f)]('/',It),_0x16ac32[_0x278849(0x59f)]((_0x4d9de0,_0xfa49e6,_0x516ed3,_0x4c1fa2)=>{const _0x2d5df9=_0x278849;if(_0x4d9de0)return _0x516ed3['status'](_0x4d9de0[_0x2d5df9(0x42e)]||0x1f4)[_0x2d5df9(0x6db)](_0x4d9de0);},(_0x37d73f,_0x30c86e,_0x505a76)=>{const _0xe60c5=_0x278849;let {method:_0x1d90d3,url:_0x1ec620}=_0x37d73f;_0x30c86e[_0xe60c5(0x42e)](0x194)[_0xe60c5(0x6db)]({'status':0x194,'message':_0xe60c5(0x220)+_0x1d90d3[_0xe60c5(0x221)]()+'\x20'+_0x1ec620,'error':'Not\x20Found'}),_0x505a76();});let _0x188a22=(_0xa44824,_0x44ca1f=_0x278849(0x4ed))=>{const _0x473f6a=_0x278849;let _0x5532a7=(_0x388eab,_0x346f91=null,_0x56e326=!0x1)=>{const _0x2c1c6a=a0_0x1581;let _0x261033={};return Object[_0x2c1c6a(0x7ad)](_0x388eab)['forEach'](_0x36bcf4=>{const _0x426397=_0x2c1c6a;let _0x457597=_0x388eab[_0x36bcf4],_0x5b470b=''+_0x44ca1f+_0x36bcf4;_0x346f91&&!_0x56e326&&(_0x5b470b=_0x346f91+'.'+_0x36bcf4),!_0x457597&&_0x457597!==0x0&&_0x457597!==!0x1||typeof _0x457597>'u'?_0x261033[_0x5b470b]=null:typeof _0x457597!=_0x426397(0x662)&&!Array[_0x426397(0x24a)](_0x457597)?_0x261033[_0x5b470b]=_0x457597:typeof _0x457597==_0x426397(0x662)&&!Array[_0x426397(0x24a)](_0x457597)?_0x261033=Object[_0x426397(0x837)](_0x261033,_0x5532a7(_0x457597,_0x5b470b)):Array[_0x426397(0x24a)](_0x457597)&&(typeof _0x457597[0x0]==_0x426397(0x662)?(_0x261033[_0x5b470b]=[],_0x457597[_0x426397(0x773)](_0x535810=>{_0x261033[_0x5b470b]['push'](_0x5532a7(_0x535810,_0x5b470b,!0x0));})):_0x261033[_0x5b470b]=_0x457597);}),_0x261033;};return Array[_0x473f6a(0x24a)](_0xa44824)?_0xa44824[_0x473f6a(0x4e4)](_0x2c861c=>_0x5532a7(_0x2c861c)):typeof _0xa44824=='object'&&_0xa44824!==null?_0x5532a7(_0xa44824):{};},_0x1be6a2=b[_0x278849(0x5b0)](_0x278849(0x74c));Oe[_0x278849(0x638)]=_0x16ac32;let _0x4e0f7e=Oe[_0x1be6a2[_0x278849(0x2d9)]],_0x2f08fa=_0x278849(0x613);_0x4e0f7e[_0x278849(0x519)](_0x1be6a2[_0x278849(0x2c6)],()=>{const _0x588d1d=_0x278849;_0x3fd089[_0x588d1d(0x70b)](_0x2f08fa),_0x3fd089[_0x588d1d(0x70b)](_0x1be6a2['TYPE'][_0x588d1d(0x221)]()+_0x588d1d(0x7b3)+_0x1be6a2[_0x588d1d(0x2c6)]);}),Vi(),Hs();}var Gi=a0_0x131850(0x5ce),Wi=xe[a0_0x131850(0x1c2)][a0_0x131850(0x50c)](__dirname,'./.git/config'),Ie=null;function zi(){return new Promise((_0x1e37a4,_0x2c6eec)=>{const _0x14b0e6=a0_0x1581;pe[_0x14b0e6(0x1c2)][_0x14b0e6(0x499)](Wi,_0x14b0e6(0x516),(_0x39ae6f,_0xb0aa45)=>{const _0x4c4535=_0x14b0e6;if(_0x39ae6f){Ie=_0x39ae6f,_0x1e37a4();return;}Ur['default'][_0x4c4535(0x298)](_0xb0aa45)[_0x4c4535(0x2de)][_0x4c4535(0x431)]===Gi?(Ie=null,_0x1e37a4()):(Ie=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x1e37a4());});});}async function Hi(){const _0xab6ff2=a0_0x131850;try{await zi(),await Fs();}catch(_0x4a6443){console[_0xab6ff2(0x4e7)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x4a6443),process[_0xab6ff2(0x6fd)](0x1);}}Hi();async function Jr(){const _0x26b3ac=a0_0x131850;let _0x21795e;try{_0x21795e=(await Ae[_0x26b3ac(0x1c2)]['get']('https://jsonip.com'))['data']['ip'];}catch(_0x13780e){console[_0x26b3ac(0x4e7)](_0x13780e);try{_0x21795e=(await Ae[_0x26b3ac(0x1c2)][_0x26b3ac(0x5b0)](_0x26b3ac(0x33f)))['data']['ip'];}catch(_0xc7f622){console['error'](_0xc7f622);try{_0x21795e=(await Ae[_0x26b3ac(0x1c2)][_0x26b3ac(0x5b0)](_0x26b3ac(0x28a)))[_0x26b3ac(0x5d0)][_0x26b3ac(0x796)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x458186){return console[_0x26b3ac(0x4e7)](_0x458186),!0x1;}}}return _0x21795e;}var $r=0x0;async function Ki(){const _0x403e97=a0_0x131850;let _0x53a967=await new ne(b[_0x403e97(0x5b0)]('REDIS'))['instanceKeys']();return console[_0x403e97(0x70b)](_0x403e97(0x4e6),_0x53a967[_0x403e97(0x724)]),_0x53a967[_0x403e97(0x724)];}function Qi(_0x54bd37){const _0x583145=a0_0x131850;let _0x5b6c2c=_0x54bd37['get'](_0x583145(0x74c))[_0x583145(0x68d)],_0x890023=_0x54bd37[_0x583145(0x5b0)](_0x583145(0x363)),_0x417fd8;if(_0x5b6c2c){let _0x18c5c1=_0x5b6c2c['match'](/\/\/(.*?)\./);_0x18c5c1&&_0x18c5c1[0x1]&&(_0x417fd8=_0x18c5c1[0x1]);}if(!_0x417fd8&&_0x890023&&_0x890023[_0x583145(0x411)]){let _0x4b91aa=_0x890023[_0x583145(0x411)][_0x583145(0x5a5)]('/'),_0x46ec44=_0x4b91aa[_0x4b91aa[_0x583145(0x724)]-0x2];if(_0x46ec44){let _0x38d2f5=_0x46ec44[_0x583145(0x5a5)]('.');_0x38d2f5[_0x583145(0x724)]>0x2&&(_0x417fd8=_0x38d2f5[0x0]);}}return _0x417fd8;}var _s=Qi(b);async function Yi(){const _0x272aea=a0_0x131850;let _0x43083b=b[_0x272aea(0x5b0)](_0x272aea(0x2cf)),_0x41aaa5=b['get'](_0x272aea(0x712))[_0x272aea(0x5ff)][_0x272aea(0x297)],_0x180d98=b[_0x272aea(0x5b0)]('SSL_CONF'),_0x348ae6=await Jr(),_0x45e2bc=b[_0x272aea(0x5b0)]('SERVER')[_0x272aea(0x2c6)],_0x20a11d=b[_0x272aea(0x5b0)](_0x272aea(0x74c))[_0x272aea(0x68d)];try{let _0x402c65={'ip':_0x348ae6||null,'redis_enable':_0x43083b?.[_0x272aea(0x237)]||null,'apikey':_0x41aaa5||null,'ssl':_0x180d98?.[_0x272aea(0x1de)]||null,'lastupdate':qr||null,'port':_0x45e2bc||null,'gitInstallError':Ie?.[_0x272aea(0x66c)]||null,'url':_0x20a11d||null};if(console[_0x272aea(0x70b)]('ip:\x20',_0x402c65['ip']),_0x43083b&&_0x43083b[_0x272aea(0x237)]){let _0x2c5586=await Ki();_0x402c65[_0x272aea(0x251)]=_0x2c5586||null;}for(let _0x1fe7c1 in _0x402c65)_0x402c65[_0x272aea(0x37f)](_0x1fe7c1)&&_0x1fe7c1!=='ip'&&(_0x402c65[_0x1fe7c1]=JSON[_0x272aea(0x74e)](_0x402c65[_0x1fe7c1]));return(await Ae[_0x272aea(0x1c2)][_0x272aea(0x5bc)](_0x272aea(0x4db),_0x402c65))[_0x272aea(0x5d0)];}catch(_0x57fedb){return console[_0x272aea(0x4e7)](_0x57fedb),!0x1;}}var Ls=!0x1,qr=0x235,Xi=0x3,kr=0x1b7740;async function Fs(){const _0x42e9ce=a0_0x131850;if(!await Jr())return console[_0x42e9ce(0x4e7)](_0x42e9ce(0x612)),_0x42e9ce(0x813);let _0x854e3=await Yi();if(_0x854e3){if(_0x854e3[_0x42e9ce(0x2eb)]['licenca']===!0x0){let _0x1f4522=b[_0x42e9ce(0x5b0)]('SSL_CONF'),_0x17d4ce=b[_0x42e9ce(0x5b0)](_0x42e9ce(0x74c))[_0x42e9ce(0x68d)];_0x1f4522&&_0x1f4522?.[_0x42e9ce(0x1de)]?.[_0x42e9ce(0x2c5)]('<subdomain>')&&_0x854e3[_0x42e9ce(0x2eb)]['subdomain']&&!_0x17d4ce&&(await to(_0x854e3['response'][_0x42e9ce(0x77b)],eo),await so(_0x42e9ce(0x2bc),_0x854e3[_0x42e9ce(0x2eb)][_0x42e9ce(0x77b)]),console[_0x42e9ce(0x70b)](_0x42e9ce(0x5c8)),setTimeout(()=>ro(),0x2710)),Ie===null&&_0x854e3[_0x42e9ce(0x2eb)][_0x42e9ce(0x60d)]-qr>0x0&&await Zi(),Ls||(Ls=!0x0,Bi());let _0xcf4921=0x24*0x3c*0x3c,_0x6be2cb=_0x854e3['response'][_0x42e9ce(0x823)]>_0xcf4921?_0xcf4921:_0x854e3[_0x42e9ce(0x2eb)][_0x42e9ce(0x823)],_0x4dfe0a=Number(_0x6be2cb);if(isNaN(_0x4dfe0a)){console[_0x42e9ce(0x4e7)](_0x42e9ce(0x289));return;}let _0x5ece55=Math[_0x42e9ce(0x7ca)](_0x4dfe0a/0xe10),_0x419dbc=Math['floor'](_0x4dfe0a%0xe10/0x3c),_0x2a411c=new Date(Date[_0x42e9ce(0x447)]()+_0x4dfe0a*0x3e8);setTimeout(Fs,_0x4dfe0a*0x3e8);let _0x28062c=_0x1a4e7d=>_0x1a4e7d[_0x42e9ce(0x6a2)]()[_0x42e9ce(0x5ba)](0x2,'0'),_0x4f066e=_0x42e9ce(0x23b)+_0x28062c(_0x5ece55)+_0x42e9ce(0x426)+_0x28062c(_0x419dbc)+_0x42e9ce(0x26a)+_0x28062c(_0x2a411c['getHours']())+':'+_0x28062c(_0x2a411c[_0x42e9ce(0x783)]())+'.';console[_0x42e9ce(0x70b)](_0x4f066e);}else return console[_0x42e9ce(0x70b)](_0x42e9ce(0x3b6)),Ls&&(console[_0x42e9ce(0x70b)](_0x42e9ce(0x26d)),process[_0x42e9ce(0x6fd)]()),_0x42e9ce(0x4d7);}else{if($r++,$r<Xi)console[_0x42e9ce(0x70b)](_0x42e9ce(0x27b)+kr/0xea60+'\x20minutos...'),setTimeout(Fs,kr);else return console['error'](_0x42e9ce(0x821)),_0x42e9ce(0x704);}}async function Zi(){const _0x49e5f4=a0_0x131850;console[_0x49e5f4(0x70b)](_0x49e5f4(0x73e));let _0x1b90c7=(0x0,De['spawn'])(_0x49e5f4(0x651),{'shell':!0x0});_0x1b90c7[_0x49e5f4(0x3de)]['on'](_0x49e5f4(0x5d0),_0x240fa0=>{const _0x551a0f=_0x49e5f4;console['log'](_0x551a0f(0x3fc)+_0x240fa0);}),_0x1b90c7[_0x49e5f4(0x62e)]['on'](_0x49e5f4(0x5d0),_0x58f87f=>{const _0x384654=_0x49e5f4;console[_0x384654(0x4e7)](_0x384654(0x636)+_0x58f87f);}),_0x1b90c7['on'](_0x49e5f4(0x6fd),_0x236708=>{const _0x11485c=_0x49e5f4;_0x236708!==0x0?console[_0x11485c(0x4e7)](_0x11485c(0x5c5)+_0x236708):console[_0x11485c(0x70b)]('Sistema\x20atualizado\x20com\x20sucesso!'),console[_0x11485c(0x70b)](_0x11485c(0x729)),setTimeout(()=>process[_0x11485c(0x6fd)](),0x2710);});}var eo=xe[a0_0x131850(0x1c2)][a0_0x131850(0x50c)](__dirname,a0_0x131850(0x26e));async function to(_0x4d1ff,_0x44c052){const _0x57dfd0=a0_0x131850;let _0x5d102d=ao();_0x4d1ff=_0x4d1ff[_0x57dfd0(0x357)]('.uazapi.dev','');try{let _0x992ef8=pe[_0x57dfd0(0x1c2)][_0x57dfd0(0x183)](_0x44c052,_0x57dfd0(0x5e9));_0x992ef8=_0x992ef8[_0x57dfd0(0x357)](/<apikey>/,_0x5d102d),_0x992ef8=_0x992ef8[_0x57dfd0(0x357)](/<subdomain>/g,_0x4d1ff),pe['default'][_0x57dfd0(0x29d)](_0x44c052,_0x992ef8,_0x57dfd0(0x5e9)),console[_0x57dfd0(0x70b)](_0x57dfd0(0x7f7));}catch(_0x1db3b6){console[_0x57dfd0(0x4e7)](_0x57dfd0(0x310),_0x1db3b6);}}function so(_0x2367dd,_0x1ed750){return new Promise((_0x2522d9,_0x5cf649)=>{const _0x5f44db=a0_0x1581;let _0x25918a=(0x0,De[_0x5f44db(0x626)])(_0x5f44db(0x5b9),[_0x5f44db(0x7d9),_0x5f44db(0x349),'-m',_0x2367dd,_0x5f44db(0x526),'-d',_0x1ed750]);_0x25918a['stdout']['on'](_0x5f44db(0x5d0),_0x56bcae=>{const _0x58f393=_0x5f44db;console['log'](_0x58f393(0x362)+_0x56bcae[_0x58f393(0x6a2)]());}),_0x25918a[_0x5f44db(0x62e)]['on'](_0x5f44db(0x5d0),_0x589432=>{const _0x4493e0=_0x5f44db;console[_0x4493e0(0x4e7)](_0x4493e0(0x448)+_0x589432['toString']());}),_0x25918a['on'](_0x5f44db(0x274),_0x1248a8=>{const _0x54e6ba=_0x5f44db;_0x1248a8!==0x0?(console[_0x54e6ba(0x4e7)]('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x1248a8),_0x5cf649(_0x54e6ba(0x1a8)+_0x1248a8)):(console['log']('Certbot\x20executado\x20com\x20sucesso.'),_0x2522d9());});});}function ao(_0xb210e5=0x32){const _0x595392=a0_0x131850;let _0x13b8c7=_0x595392(0x698),_0x354dd1='';for(let _0x3eaed7=0x0;_0x3eaed7<_0xb210e5;_0x3eaed7++)_0x354dd1+=_0x13b8c7['charAt'](Math['floor'](Math['random']()*_0x13b8c7[_0x595392(0x724)]));return _0x354dd1;}function ro(){const _0x4071de=a0_0x131850;(0x0,De[_0x4071de(0x51c)])(_0x4071de(0x33d),(_0x3d8eb0,_0x2e25c3,_0x2e9a5c)=>{const _0x172919=_0x4071de;if(_0x3d8eb0){console[_0x172919(0x4e7)](_0x172919(0x19c)+_0x3d8eb0);return;}if(_0x2e9a5c){console[_0x172919(0x4e7)](_0x172919(0x71c)+_0x2e9a5c);return;}console['log'](_0x172919(0x619)+_0x2e25c3);});}0x0&&(module['exports']={'subdomain':subdomain});