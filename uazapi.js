const a0_0x96c47=a0_0x3aea;(function(_0x42cd43,_0x10edca){const _0x4eaf5c=a0_0x3aea,_0x2465ac=_0x42cd43();while(!![]){try{const _0x341c95=parseInt(_0x4eaf5c(0x41d))/0x1+parseInt(_0x4eaf5c(0xe8))/0x2*(-parseInt(_0x4eaf5c(0x240))/0x3)+-parseInt(_0x4eaf5c(0x1e0))/0x4*(parseInt(_0x4eaf5c(0x128))/0x5)+-parseInt(_0x4eaf5c(0x193))/0x6+parseInt(_0x4eaf5c(0x26d))/0x7*(parseInt(_0x4eaf5c(0x548))/0x8)+-parseInt(_0x4eaf5c(0x60f))/0x9+-parseInt(_0x4eaf5c(0x6b3))/0xa*(-parseInt(_0x4eaf5c(0x730))/0xb);if(_0x341c95===_0x10edca)break;else _0x2465ac['push'](_0x2465ac['shift']());}catch(_0x242e8e){_0x2465ac['push'](_0x2465ac['shift']());}}}(a0_0x58d6,0xd3238));function a0_0x3aea(_0xfa695c,_0x203ad5){const _0x58d657=a0_0x58d6();return a0_0x3aea=function(_0x3aea73,_0x428c53){_0x3aea73=_0x3aea73-0x7e;let _0x2c61ce=_0x58d657[_0x3aea73];return _0x2c61ce;},a0_0x3aea(_0xfa695c,_0x203ad5);}var Lo=Object[a0_0x96c47(0x55c)],ke=Object[a0_0x96c47(0x42c)],Fo=Object[a0_0x96c47(0x75b)],Uo=Object[a0_0x96c47(0x472)],Jo=Object[a0_0x96c47(0x3bf)],qo=Object[a0_0x96c47(0x334)][a0_0x96c47(0x6fb)],Vo=(_0x16842,_0x2d8b7c)=>{for(var _0x39c490 in _0x2d8b7c)ke(_0x16842,_0x39c490,{'get':_0x2d8b7c[_0x39c490],'enumerable':!0x0});},Fs=(_0x51a64f,_0x1772ca,_0x37a8e3,_0x18b6a9)=>{const _0x555bb9=a0_0x96c47;if(_0x1772ca&&typeof _0x1772ca==_0x555bb9(0x645)||typeof _0x1772ca==_0x555bb9(0x150)){for(let _0x3106a4 of Uo(_0x1772ca))!qo['call'](_0x51a64f,_0x3106a4)&&_0x3106a4!==_0x37a8e3&&ke(_0x51a64f,_0x3106a4,{'get':()=>_0x1772ca[_0x3106a4],'enumerable':!(_0x18b6a9=Fo(_0x1772ca,_0x3106a4))||_0x18b6a9['enumerable']});}return _0x51a64f;},T=(_0x3ef680,_0x4fbc7f,_0x146714)=>(_0x146714=_0x3ef680!=null?Lo(Jo(_0x3ef680)):{},Fs(_0x4fbc7f||!_0x3ef680||!_0x3ef680['__esModule']?ke(_0x146714,'default',{'value':_0x3ef680,'enumerable':!0x0}):_0x146714,_0x3ef680)),Go=_0x1ef055=>Fs(ke({},a0_0x96c47(0x739),{'value':!0x0}),_0x1ef055),oi={};Vo(oi,{'subdomain':()=>xs}),module['exports']=Go(oi);function a0_0x58d6(){const _0x526568=['menuType','lastCondition','editConversation','removeChatLabel','debug','https://api.ipify.org?format=json','user','size','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','updateMessage','https://jsonip.com','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','goToFlow','groups.update','list','object','Content-Type','contacts','.webm','copyBlock','_error','SINGLE_SELECT','normalizeMessage','sendMedia','Trying\x20to\x20get\x20business\x20profile','#01d0e2','findGroups','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','createClient','Falha\x20após\x20várias\x20tentativas.','qrcode.updated','flowConfig','SECRET','image','video','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','chatId','menuMessage','contacts.update','groups.upsert','delayChatLabel','url','\x20depois\x20','leadInfo.desativadoFluxoAte',',\x20canSendMessage:\x20','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','start','saveTextReply','dbInstance','bearer','groupMetadata','Read\x20messages','updateReplyOption','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','count','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','processConditionsTest','dataValidate','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','sleep','\x1b[33m\x1b[1m','ListType','\x20não\x20encontrado.','Número\x20não\x20possui\x20WhatsApp.','\x1b[44m','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','delaySecMin','?authSource=admin&readPreference=primary&directConnection=true','readreceipts','CHATS_UPSERT','updateMissingTags','apiName','revokeInviteCode','match_last_seen','linkPreview','initAuthCreds','messages.update','application/octet-stream','PRODUCT_LIST','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','exit','addReplyOption','set','/wa-all-message','):\x20Visualizando\x20AutomateSystem','text','jsonwebtoken','global','processUazapi','@g.us','connect','chats.update','MESSAGES_UPDATE','updateConversation','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','SSL_CONF','PORT','options','lastSend','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','lastBlockId','Atualização:\x20','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','):\x20nextBlock.uazapi.name','@ffmpeg-installer/ffmpeg','Resultado\x20da\x20atualização:','\x1b[40m','Selecione','chatHandle','sendContact','processApiRequest','removeInstance','match','):\x20enviado\x20para\x20[','LOG_COLOR','createGroup','.ppt','notas','SERVER_OFFLINE','deleteMessage','keys','/chat','profilePicture','DATABASE_CONNECTION_HOST','1654420jHFwzV','toggleEphemeral','Rótulo\x20deletado:\x27,\x20','closed','\x20e\x20ID=','\x1b[36m%s\x1b[0m','[all]','instance','\x20não\x20encontrado\x20para\x20atualização.','.\x20Pulando.','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','SendScheduleMessage','request\x20received\x20in\x20createFlow','config','viewOnceMessageV2','none','flowPrefixCommand','minutesToClose','createFlow','Imagem\x20não\x20encontrada','QRCODE_UPDATED','groupUpdateDescription','expiration','\x20não\x20encontrado','):\x20Fluxos\x20não\x20estão\x20ativados','replaceVariablesLogs','save','fetchProfilePicture','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','groupValidate','eventemitter2','):\x20Enviando\x20texto','replaceVariablesChat','READ','exec','textMessage','contains','AUTHENTICATION_JWT_EXPIRIN_IN','pop','Connection\x20closed\x20for\x20instance:\x20','Fluxo\x20não\x20encontrado.','updateGParticipant','All_Instances_Config','CREDENTIALS','getLabelModelForOwner','selectableCount','contact','replace','convertaudio','.doc','#ffae04','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','):\x20Deletando\x20mensagem','groupName','groupRequestParticipantsUpdate','charAt','ephemeralExpiration','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','DATABASE_CONNECTION_PASSWORD','getFlowModelForOwner','latitude','licenca','InstancesAlterarTodas','Type\x20not\x20found','cache','Erro\x20ao\x20buscar\x20Schedule\x20Messages','temp-','conversationTimestamp','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','authentication','editFlowCondition','saveMediaToFile','hasOwnProperty','deleteInstance','groupParticipantsUpdate','REDIS_ENABLED','getBusinessProfile','groupInviteCode','request_time','groupToggleEphemeral','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','Error\x20finding\x20many\x20contacts:','Safari','viewOnceMessage','floor','Falhou\x20ao\x20encontrar\x20chat\x20','pictureUrl','deleted','order','dbServer','Instance\x20logged\x20out','scheduleSendAudio','50mb','all','not\x20loaded','request\x20received\x20in\x20getFlow','condition','\x20tentativas.','method','restart','height','http://ip-api.com/json','\x5cd+','Esse\x20fluxo\x20é\x20global,\x20para\x20deleta-lo\x20você\x20precisa\x20ser\x20o\x20criador\x20ou\x20usar\x20a\x20apikey\x20global','limit','\x22\x20-\x20NOT\x20CONNECTION','Início','groupAcceptInvite','DEBUG','/wa-contacts','replaceVariables','ListMessage','website','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','stateConnection','getClient','AUTHENTICATION','toDataURL','menuIgnoreNonVotes','enviado\x20para','-whatsapp-api','341yLGVhJ','true','findOne','lastMessage','protocolMessage','archiveChat','):\x20Label\x20','fromObject','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','__esModule','makeCacheableSignalKeyStore','unavailable','Erro\x20ao\x20atualizar\x20AutomateSystem:','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','quoted','):\x20Enviando\x20localização','updateCustomFields','router','https-proxy-agent','birthtime','entries','WARN','updateProfileStatus','downloads','authorization','):\x20newFirstValue\x20após\x20replaceVariables:','lean','findLabels','connectToWhatsappController','):\x20Editando\x20bloco...','findAndUpdateCacheContact',':\x20IP\x20configurado:\x20','updateOnlinePrivacy','groupUpdateSubject','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','/*.json','/wa-connection-update','endSession','uazapiSendMenu','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence','saveCreds','@newsletter','sendList','getOwnPropertyDescriptor','rm\x20-rf\x20','onTime','#9ba6ff','Missing\x20global\x20api\x20key','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','extractRegex','get','env.KEY\x20!==\x20key','Erro\x20ao\x20sincronizar\x20fluxos:\x20','fetchChats','buffer','bulkWrite','):\x20Entrou\x20na\x20função\x20saveReply','Cache-Control','phoneNumber','isCommunity','CacheContacts\x20database\x20connection\x20closed.','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','DATABASE_CONNECTION_DB_PREFIX_NAME','REDIS_URI','uazapiDeleteMessage','http://ipecho.net/plain','STORE_MESSAGE','):\x20customFieldVariables','sendStatus','setUpdate','font','utf8','CHATS_DELETE','):\x20Criando\x20fluxo\x20regular...','muteEndTime','findByIdAndUpdate','.mp4','updateGParticipate','chatLog','MAX_RECONNECT_ATTEMPTS','MESSAGES_SET','connectionClosed','some','fetchMessages','_Chats','replaceVariablesInObject','):\x20Editando\x20variável\x20do\x20fluxo...','):\x20Conversa\x20está\x20expirada','/exit','\x1b[31m%s\x1b[0m','Erro\x20ao\x20importar\x20chats','sendMenu','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','slice','finish','.X-ABLabel:Celular\x0a','data:\x20','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','local_map','):\x20Alterando\x20fluxo...','LEVEL','chats.set','Erro\x20ao\x20deletar\x20mensagens:','inviteUrl','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','updateOneById','path','request\x20received\x20in\x20editFlowcondition','--standalone','):\x20Bloco\x20com\x20ID\x20','Comando\x20desconhecido','unknown\x20operation\x20type\x20[','Router','shutdown\x20-r\x20now','#dfaef0','_activatedCount','checkAndRestartProcess','):\x20Ignoring\x20group\x20messages.','groupRevokeInvite','push','request\x20body:\x20','fetchProfilePictureUrl','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','repository','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','groupLeave','params','setRestartTimeout','Falta\x20informação\x20para\x20a\x20chamada\x20API','headerString','):\x20tem\x20blocks','extractMessageContent','Erro\x20ao\x20deletar\x20a\x20conversa','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','updateBlock','http','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','release','connecting','find','chatModify','removeUnusedChatFields','updateProfileName','instancias:\x20','getAllData','deleteMany','getScheduleMessage','convertToWebP','.type','quotedMessage','):\x20Buscando\x20conversa...','statusJidList','concat','DB_PREFIX_NAME','verifiedName','subject','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','/media',',\x20lastCondition:\x20','42FWYIoA','.gif','SERVER_TYPE','createSectionsFromValues','):\x20Buscando\x20conversas...','canSendMessage','Flow\x20iniciado\x20com\x20','labels.edit','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.',',\x20pairCode:\x20','qrCode','integer','/wa-groups','DELETED','readFileSync','remote\x20\x22origin\x22','bodyStringErrorParse','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','error',',\x20fará\x20nova\x20verificação\x20em\x20','.png','\x20-i\x20','request\x20received\x20in\x20fetchConversation','pre','.ogg','remoteJid','#ff9484','presence','class-validator','createflow','author','cachedData-whatsapp',',\x20Comparador:\x20','waitingMenu_id','statSync','ScheduleMessage','updateStatusPrivacy','client','request\x20received\x20in\x20deleteDoneMessages','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','Content\x20is\x20required','out','contentText','Bad\x20Request','Mac\x20OS','notContains','findManyByIds','jwt','Not\x20allowed\x20by\x20CORS','#83e421','name','round','application/json','password','waitingMenu_replyOptions','context','Getting\x20image\x20from\x20url','cpf','videoMessage','\x20->\x20NÃO\x20CORRESPONDE.','reference','Database\x20connection\x20closed.','Not\x20is\x20business\x20profile','Button\x20IDs\x20cannot\x20be\x20repeated.','1663785BRgdIb','chat','organization','STATUS_INSTANCE','timeout','):\x20Criando\x20nova\x20conversa[createNewConversation]','getUpdate','Erro\x20ao\x20deletar\x20chat:','stdout','subdomain','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','updateFlowConfig','DisconnectReason','editflowcondition','done','Schema','findByIdAndDelete','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','.xlsx','listResponseMessage','stderr','):\x20Criando\x20fluxo\x20compartilhado...','):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20','Erro\x20ao\x20editar\x20o\x20chat','Erro\x20ao\x20buscar\x20conversas','scheduleSendText','findAndReplaceRegex','processing_id','instances','processPollUpdateMessage','\x22,\x20valor\x20a\x20substituir:\x20\x22','https','\x20segundos','call','reconnectTimestamps','pollOnReplyDelete','sendMessageWithTyping','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','unreadcount','open','function','namespace','jpegThumbnail','deleteConversation','generateWAMessageFromContent','API_KEY','Image\x20is\x20base64','not_announcement','.wav','state','Font\x20is\x20required','role','http://myexternalip.com/raw','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','lastInteraction','Número:\x20','_Messages','undefined','verify','\x20:\x20','writeFile','SEND_MESSAGE','scheduleSendMedia','isConnected','BufferJSON','DD/MM\x20HH:mm:ss','headers','ON\x20-\x20dbName:\x20','jid','protocol','-instances','Erro\x20ao\x20atualizar\x20o\x20flow.','pt-BR','^\x5cd+','message_normalized','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant','status@broadcast','silent','longitude','uncaughtException','createJid','add','CONTACTS_UPDATE','FULLCHAIN','.pdf','onWhatsApp','ephemeralDuration','Error\x20while\x20deleting\x20message\x20for\x20everyone','contactMessage','currency','abs','CONNECTION_UPDATE','configService','GROUPS_UPSERT','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','rows','/media/','process','valid','USER','The\x20property\x20cannot\x20be\x20empty','loadproxy','editFlowBlock','groupDesc','blocks','processvaredits','loadInstance','9188934YoJjNw','axios','encoding','joinGroupValidate','replyOptions','replaceValue','console','DATABASE_CONNECTION_USER','shareOwners','\x1b[46m','recebido\x20de','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','send.message','ultimaTentativaRemoteJid','stopped','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','send','loadWebhook','subjectOwner','Connection','varedits','LabelModel','random','views','getConversationModelForOwner','#ffffff','JWT','instance.','Deletion\x20failed','isRunning','app','\x20-\x20retornado:\x20','hbs','everyOne','throwAndLogError','Processing\x20audio','https://github.com/uazapi/uazapi.git','processawaitSeconds','request\x20received\x20in\x20starFlow','getAutomateSystem','\x0a{\x20instance:\x20','indexOf','_id','upperCase','Authentication\x20error','messages','groups','content-type','.fileUrl','and','empty','toLocaleString','chats.delete','?timestamp=','locationMessage','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','Operador:\x20\x22','findById','waInstances','messageTimestamp','#f64847','AddChatLabel','findWebhook','stoppedUntil','node-cache','importChatsBatch','variable','.xls','authModel','Tentando\x20reconectar...','insert','groupFetchAllParticipating','digest','messaging-history.set','Sistema\x20atualizado\x20com\x20sucesso!','online','12hnsELl','lowerCase','https://','webhookMap','string','\x1b[41m','/instance/create','vote','stopMinutesMaxActives','demote','header','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','):\x20Conversa\x20está\x20expirada\x20-\x20voto','spawn','cleanStore','):\x20','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','remoteJids','/instance','/webhook','):\x20this.processing_id:\x20','child_process','uazapiSendLocation','groupHandler','deleteDoneMessages','decryptPollVote','unlocked','length','):\x20updateResult:','_ScheduleMessages','numbers','when','flow','\x1b[37m%s\x1b[0m','createSharedFlow','requestPairingCode','Output\x20path:\x20','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','username','PRIVKEY','editFlowVaredit','Cannot\x20','getFlow','pollCreationMessageKey','reorderBlocks','InstancesAsDisconnectedX','URL','/automate','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','fetchBusinessProfile','instanceInfo','Não\x20respondeu\x20com\x20a\x20enquete.','updateChatGroupData',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','parseInt','updateMissingShareOwners','setting','CONTACTS_UPSERT','BRL','messageId','restrict','address','owner','logout','Converting\x20image\x20to\x20WebP\x20to\x20sticker','reject','segundos','reconnectAttempts','findFlow','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','sendReaction','cacheContactModel','joinGroup','choices','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','inviteCode','Erro\x20ao\x20copiar\x20o\x20documento','Cached\x20audio\x20found,\x20returning\x20existing\x20file','scheduleMessage','forEach','groupGetInviteInfo','editFlowReply','updateGroupsAddPrivacy','isBusiness','https://api.elevenlabs.io/v1/text-to-speech/','reorderReplyOptions','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','connectToWhatsapp','messages.set','request_method','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','155487iCfkyj','editflowvariable','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','StartBot','#d8e651','secondValue',':\x20Erro\x20durante\x20loadproxy\x20-\x20','generateHash','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','mediatype','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','defineAuthState','\x20}\x0a','Erro\x20ao\x20iniciar\x20fluxo:\x20','\x20-y','created','reaction','createNewConversation','./.git/config','updateAll','Error\x20updating\x20message\x20status:','Close\x20connection','SSL_CONF_FULLCHAIN','saveChatVariables','notEmpty','deleteOne','creds.json','\x22reaction\x22\x20must\x20be\x20an\x20emoji','processclearVariables','variablesToObject','normalizeMessageContent','mentioned','/wa-chats','chats','cwd','participants','interval\x20não\x20é\x20um\x20número','model','imagechat','senderKeyDistributionMessage','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','delayChatLabel_MAX_RETRIES','deleteBlock','ORG:','4657709IHNiUD','emit','getScheduleMessageModelForOwner','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','#6f7bcf','\x20foi\x20interrompido\x20pelo\x20usuário.','src','CLEANING_INTERVAL','status','stopWhenYouSendMsg','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','localWebhook','SERVER_URL','DARK','cacheContact','instanceName\x20not\x20provided.','equal','PASSWORD','utf-8','detail','flattenObject','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','KEY','warn','flush','cachedContact','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','formatStatusMessage','applyvaredit','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','labels.association','isJWT','LOG','sendPresenceUpdate','Invalid\x20format','_FlowHistorico','FlowRouter','uazapiSendText','delay','fullName','write','\x20não\x20encontrado\x20para\x20cópia','editScheduleMessage','redis://127.0.0.1:6379','REDIS','has','pushName','updateGroupPicture','\x20adicionado\x20ao\x20chat\x20','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','createConversationforStartFlow','\x20minutos\x20verificará\x20novas\x20mensagens','prepareMediaMessage','imgUrl','request\x20received\x20in\x20updateAutoCompleteMessages','editflowblock','audioMessage','Erro\x20ao\x20remover\x20instâncias\x20antigas:','\x5c$&','\x1b[30m%s\x1b[0m','sign','Type\x20is\x20required','webhookModel','leaveGroup','request\x20received\x20in\x20updateFlowConfig','inner','evaluateCondition','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','addBlock',',\x20Segundo\x20Valor:\x20','isURL','startCommandWord','Variável\x20não\x20encontrada!','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','buttonMessage','readFile','updateChatWithMessage','buttons','filter','):\x20Comando\x20desconhecido:\x20','$set','stringify','AUTHENTICATION_TYPE','Nenhum\x20participante\x20válido\x20encontrado.','option','preview','all_member_add','collections','\x20quoted:\x20','goNextblock','json','\x20is\x20already\x20in\x20use.','waitingMenu_text','groupBetterSetting','deleteReplyOption','Group\x20not\x20found','flushHeaders','log','):\x20Entrou\x20na\x20função\x20goToFlow','Background\x20color\x20is\x20required','OrAnd','groupadd','#9ab6c1','upsertChats','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','@broadcast','processblock','.svg','setHeader','):\x20A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','beforeExit','Not\x20Found','createHash','updateReadReceiptsPrivacy','findAndReplace','\x1b[1m','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','padEnd','findAndUpdate','Valor\x20de\x20find\x20ou\x20replace\x20ausente','mimetype','fileLength','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','CORS_METHODS','deleteAll','rowId','trimmed','dbConnection','conditions','ignoreGroups','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','requestFile','findGroupInfo','Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:','use','getMessage','repeat','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','qrcode','sort','variablesNotFound','remove.instance','.docx','\x20->\x20CONFIRMADO.','webp','toBRL','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','unreadCount','createRegularFlow','Sending\x20audio\x20whatsapp','processConditions','editflow','updateGroupWebhook','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','no-cache','flowStopConversation','editChat','lastReceivedMessage','modifiedCount','mediaSticker','close','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','Nenhum\x20chat\x20encontrado\x20para\x20editar.','js-yaml','listType',',\x20Novo\x20tamanho:\x20','MESSAGES_UPSERT','GROUPS_UPDATE','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','creds','delAll','audio','remove','HeaderType','eventEmitter','leadInfo.','getContactModelForOwner','convertaudioMP3','#9568cf','min','Erro\x20ao\x20editar\x20o\x20bloco:\x20','admin_add','capitalizedWords','noConnection','scheduleNextCheck','#000000',',\x20Resultado:\x20','):\x20Editando\x20condição\x20do\x20fluxo...','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','@whiskeysockets/baileys','SERVER','deleteFlow','ENABLED','groupSetting','mediaMessage','Instância\x20não\x20encontrada.','prototype','/clients-info','):\x20Conversas\x20encontradas:','DATABASE','archive','composing','Conversa\x20deletada\x20com\x20sucesso.','bodyString','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','label','Desconectado,\x20parando\x20execução.','qrcode-terminal','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','request\x20received\x20in\x20editFlow','AutomateFunctions','base64','express-async-errors','/create','allFlows','announcement','Esse\x20fluxo\x20expirou','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','join','node-mime-types',',\x20data:\x20','backgroundColor','processgoToFlow','sem\x20texto\x20na\x20mensagem','$dbName','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','updatePresence','editflowgroup','available','creation','saveConversationToDatabase','errors','moreLogs','\x20inseridas\x20no\x20banco\x20de\x20dados...','values','audio/ogg','now','delayMessage','\x1b[0m','editOperator','deletedCount','Erro\x20ao\x20normalizar\x20a\x20mensagem:','mkdirSync','result','action','/:instanceName','sharePass','listMessage','pollErrorMessage','https://api.openai.com/v1/audio/speech','matchRegex','findConversation','\x1b[32m','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','saveVariable','Error\x20in\x20converting\x20audio','Image\x20created','delayChatLabel_RETRY_DELAY_MS','Bloco\x20com\x20ID\x20','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','_p_','auth','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','connection.update','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','trim','ContactsAndGroups','The\x20global\x20api\x20key\x20must\x20be\x20set','request\x20received\x20in\x20updateCustomFields','testingWith','Valor\x20inicial:\x20\x22','fetchInstances','listen','status.instance','vcard','sending','STORE_CHATS','Db\x20Connection','#d3a91f','Subscribed\x20Events:','apikey','upsertedCount','GET','):\x20Conversa\x20inserida\x20com\x20sucesso.','groupJid','https://uazapi-plugin.bubbleapps.io/?url=','_Labels','groupdata','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','ERROR','):\x20Rótulo\x20atualizado:\x20','announce','isLong','/wa-message','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','.extension','firstValue','resetReconnectionVariables','item','importChatsAntigo','nome','env.yml','cachedContacts-whatsapp','proto',']\x20(','imageMessage',',\x20saindo.','hex','contextInfo','.txt','\x1b[32m%s\x1b[0m','parse','/instance/connectionState','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','buttonId','Error\x20updating\x20cache\x20contact:','\x1b[31m','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','profileName','Error\x20in\x20chatModify\x20for\x20number\x20','menuExpiredMessage','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','basename','createServer','\x20contacts','URL\x20limpa:\x20','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','CONECTADO\x20À\x20UAZAPI','static','fetchProfile','DATABASE_CONNECTION_URI','Archiving\x20chat','redisEnv','hGetAll','getPrototypeOf','false','Conexão\x20estabelecida','memberAddMode','toUpperCase','expression','request\x20received\x20in\x20editConversation','sendDataWebhook','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','fileName','deleteImportedChat','http://icanhazip.com/','store','Instance\x20Key\x20from\x20DB:','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','array','clearVariables','instanceCount','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','reactionMessage','dbSettings','locked',':\x20IP\x20funcionando!','isArray','NO_IP','Types','\x20tentativas:\x20remotejid=','sendMessage','Variáveis\x20não\x20encontradas:','profilePictureUrl','findIndex','connectionStatus','body','port','removeProfilePicture','Erro\x20ao\x20tentar\x20updateCustomFields','jsonschema','approve','wuid','getStatus','certonly','):\x20Buscando\x20todos\x20os\x20fluxos...','\x22\x20-\x20REMOVED','sticker','findOrCreate','format','\x20removido\x20do\x20chat\x20','mongodb','SERVER_ACK','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','getVariablesChat','ini','):\x20atualização\x20chat:\x20','.mp3','imported','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','isListOfNumbers','ScheduleMessageModel','block','express','cors','joinApprovalMode','prefixCommand','):\x20Editando\x20edição\x20do\x20fluxo...','pollCreationMessageV3','uuid','Pausado\x20por\x20','webhookService','enabled','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','PENDING','):\x20Error\x20processing\x20the\x20block:\x20','TEL','superadmin','userDevicesCache','sendText','CONTACTS_SET','unlinkSync','truncatedtoEnd','blockLogs','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','pollMessageOnDelete','flowName','leadInfo','messageStubType','groupCreate','Module\x20-\x20ON','message','messagesSend','error_log','descId','.jpg','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','value','211679JDxlqy','fetchStatus','dropCollection','changeVariables','Instance\x20\x22','updateMissingCustomFields','deleteMessageForEveryone','updateAgent','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','Falha\x20ao\x20processar\x20a\x20solicitação\x20messages.upsert','Error\x20fetching\x20and\x20updating\x20profile:\x20','title','testProxy','):\x20delete\x20=\x20true','footerText','defineProperty','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','Parando\x20aplicação...','.webp','lastUpdate','toFile','ephemeralMessage','waMonitor','flowConversation','updatePrivacySettings','Instance\x20ID:','updateLastSeenPrivacy','logger','PRESENCE_UPDATE','post','output','removed','stopConversation','type','group','varedit','.TEL;waid=','TYPE','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','selectedOptions','isJidGroup','less','startsWith','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','sendButtons','fetchLabels','arraybuffer','\x0aFN:','greater','readData','pollMessage','.url','API\x20Key\x20from\x20Request:','REDIS_PREFIX_KEY','convertedOptions','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','GROUP_PARTICIPANTS_UPDATE','group-participants.update','Deleted\x20','The\x20instance\x20needs\x20to\x20be\x20disconnected','certbot','groupJoinApprovalMode','evaluateConditionTest','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','DOCKER_ENV','editFlowVariable','EMAIL:','!stop','request\x20received\x20in\x20editFlowgroup','):\x20[messages.update]\x20group\x20ignored','endsWith','remoteJidsRemaining','leadInfo.customFields','apirequest','ip:\x20','mongodb://','\x20minutos','readdirSync','isCommunityAnnounce','no.connection','createInstance','writeData','PLAYED','Erro\x20ao\x20remover\x20label\x20','getOwnPropertyNames','sendWhatsAppAudio','#00a1f2','stopIfLastReturnedError','Flow\x20não\x20encontrado','blockId','binary','):\x20isVote:\x20','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','pollCreationMessageV2','sharp','setWebhook','restartInstance','findGroup','assign','updateOne','Erro\x20de\x20atualização:\x20','number','existsSync','getContentType','stopMinutes','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','hGet','loadEnv','findGroupInfos','Message','messageHandle','getBase64FromMediaMessage','uazapiSendContact','update','gifPlayback','):\x20Ler\x20mensagem','CHATS_UPDATE','delete','\x20com\x20sucesso.','replacer','@redis/client','fetchConversation','command','tags','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','):\x20Limpando\x20delayMessage','RECONNECT_TIME_FRAME','createConnection','request\x20received\x20in\x20editFlowvariable','VERBOSE',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','notify','://','editFlowGroup','flowActive','envProcess',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','bateu\x20events','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','DELIVERY_ACK','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','request\x20received\x20in\x20deleteConversation','groupSettingUpdate','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','Mensagens\x20deletadas\x20com\x20sucesso.','INFO','Converted\x20image\x20deleted','max','apiResponse','pairingCode','\x20mensagens\x20de\x20','groupMemberAddMode','verbose','/events','fromMe','splice','error\x20get\x20vote','):\x20Edit\x20schedule\x20message...','LOG_LEVEL','newStoppedUntil','allContacts','originalUrl','host','):\x20Enviando\x20mídia','getDevice','TEXT','updateParticipant','updateStopChat','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','CORS_CREDENTIALS','hDel','responsavelid','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','findOneAndUpdate','):\x20conversation.status:\x20','insertMany','connectionState','The\x20','AutomateSystem','writeFileSync','Error\x20in\x20scheduleNextCheck:\x20',',\x20qrcodeCount:\x20','presenceSubscribe','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','sendAudio','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','editFlow','/group','exists','findMessages','events','getRandomText','sendLocation','\x1b[36m','email','Instância:\x20','data','AUTHENTICATION_JWT_SECRET','lastSendMessage','getTime','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','downloadMediaMessage','realVariables','stickerMessage','conversation','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','webhook','):\x20Enviando\x20áudio','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:\x20flowOnwer:\x20','document','CORS','sendSticker','buttonText','apply','updateProfilePicture','notEqual','/wa-qrcode','\x1b[34m%s\x1b[0m','last_update','urlOrBase64','getChatModelForOwner','last','isJidUser','formatVCard','):\x20Usando\x20extensão\x20padrão:\x20',':\x20Tentativa\x20','NextBlock','map','):\x20Enviando\x20contato','):\x20Limpando\x20AutomateSystem','documentMessage','success','audio/ogg;\x20codecs=opus','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos',',\x20Minutes\x20to\x20Close:\x20','padStart','long','.mimetype','importChats','lastDisconnect','stanzaId','removeOlderDisconnectedInstances','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','https://chat.whatsapp.com/','editflowvaredit','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','fetchPrivacySettings','ex:\x20\x22groupJid=120362@g.us\x22','fetchContacts','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','nomecompleto','):\x20Query\x20params:','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','formatBRNumber','getTicketSystem','connectedName','removeData','Erro\x20ao\x20editar\x20agentes','):\x20não\x20encontrou','Erro\x20ao\x20buscar\x20o\x20fluxo','convert','Erro\x20ao\x20encerrar\x20a\x20API','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','):\x20Campos\x20a\x20serem\x20atualizados:','etiquetas','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','app-state-sync-key','groups_ignore','Database\x20is\x20not\x20enabled','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','put','shift','maxActives','):\x20Error\x20processing\x20conditions:\x20','):\x20Flow\x20desativado','CHATS_SET','):\x20Chat\x20','\x20horas\x20e\x20','scheduled','RemoveChatLabel','mongoose','request\x20received\x20in\x20getAutomateSystem','Image\x20path:\x20','\x20e\x20proprietário\x20','AutomateSystem\x20não\x20foi\x20inicializado','notMatchRegex','_Contacts','Log\x20out\x20instance:\x20','lastFetchAwaitingApproval','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','variables','/events/:instance','includes','validate','8kpSosc','insertCount','DATABASE_ENABLED','awaitSeconds','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','Erro\x20ao\x20adicionar\x20label\x20','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','setNewValue','uazapiSendAudio','markMessageAsRead','participant','next_groupId','sectionsToString','/config','Fetching\x20business\x20profile','createWebhook','URI','redirect','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','unhandledRejection','create','HH:mm:ss','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','groupId','mediaKey','contacts.upsert','updateMany','recording','ERROR:\x20','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','):\x20newSecondValue\x20após\x20replaceVariables:','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','poll','del','env','updateAutoCompleteMessages','oldValue','):\x20debug\x20alterando\x20this.AutomateSystem','CORS_ORIGIN',',\x20Expiration\x20Time:\x20','key','routerPath','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','color','):\x20alterando\x20this.AutomateSystem','agents','DaysToDelete','test','atendimentoAberto','getLastMessage','Unauthorized','Erro\x20ao\x20alterar\x20fluxo','readMessages','code','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','\x0aitem','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','verifyWhatsAppNumber','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','replaceOne','getConversation','profile','creds.update','pino','deleteChat','}}\x20->\x20\x22','PROXY','uazapiSendMedia','pollUpdateMessage','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','):\x20Flow\x20não\x20encontrado','closeExistingConversations','https://ipinfo.io/json','width','):\x20teve\x20mudanças\x20chat.archived:\x20','toArray','labelId','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','archived','whatsappNumber','presence.update','storePath','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','response','CONNECTION','collection','automateSystem','fone','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a',',\x20isAdmin:\x20','HOST','\x20instance\x20does\x20not\x20exist','paused','Error\x20occurred\x20while\x20archiving\x20chat:\x20','folder','editedMessage','boolean','PREFIX_KEY','findParticipants','FlowController','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','public','findAll','from','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','readMessage','waitingForReplyMenu','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','Certbot:\x20','where','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Instance\x20restarted','https://uazapi-plugin.bubbleapps.io/','leadInfo.etiquetas','E-mail:\x20','Falha\x20ao\x20processar\x20fetchBusinessProfile','uazapi','\x20do\x20chat\x20','reviver','caption','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','authService','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','updateGroupParticipantsWebhook','#92ceac','contactHandle','/instance/delete','setContext','content','Last\x20message\x20not\x20found','SSL_CONF_PRIVKEY','description','displayName','drop','toLowerCase','sendPoll','FlowModel','sync','autoCompleteMessages','privacySettings','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','STORE_CLEANING_TERMINAL','WA\x20MODULE','\x20-\x20ON:\x20','Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.','@s.whatsapp.net','cleaningUp','getProfileName','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','activatedCount','messages.upsert','ObjectId','/instance/fetchInstances','Error\x20fetching\x20group','msgRetryCounterCache','Mensagem\x20não\x20suportada','sha256','replyOption','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','readMessageBot','StatusJidList\x20is\x20required','waitingMenu_ExpiredMessage','\x20ao\x20chat\x20','instanceName','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','):\x20Deletando\x20conversa...','default','METHODS','Parando\x20aplicação,\x20atualização\x20recebida','toString','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','customFields','audioWhatsapp','Falha\x20ao\x20processar\x20a\x20solicitação','info','):\x20Grupo\x20','desativadoFluxoAte','subjectTime','Erro\x20inesperado\x20em\x20processvaredits:\x20','):\x20conversation.lastInteraction:\x20','promote','desc','messageType','eventHandler','synchronizeFlows','SERVER_PORT','Button\x20texts\x20cannot\x20be\x20repeated','statusMessage','isAdmin','chats.upsert','instanceKeys','beautifyWithPlaceholders','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','):\x20transformedCustomFieldVariables','Erro\x20ao\x20buscar\x20a\x20conversa','keep-alive','contact_blacklist','awaitingApproval','13704975hqSGAS','getMessageModelForOwner','isInteger','createConversationforgoToFlow','MessageModel','authState','sections','optionDescription','ConversationModel','EMAIL','):\x20[messages.upsert]\x20group\x20ignored','redis','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','admin','}}\x20->\x20valor\x20não\x20encontrado','createAndSave','view\x20engine','split','.uazapi.dev','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','request\x20received\x20in\x20scheduleMessage','substring','flowIgnoreGroups','Audio\x20processed','Erro\x20ao\x20atualizar\x20o\x20fluxo:','query','video-cover.png','ReplyOption\x20com\x20ID\x20','startFlow','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','):\x20lastBlockId:\x20','mentions','media','):\x20Buscando\x20flow...','isBase64','getMIMEType','Atingido\x20interações\x20máximas,\x20parando\x20fluxo'];a0_0x58d6=function(){return _0x526568;};return a0_0x58d6();}var Io=T(require('compression')),Js=require('fs'),qs=require(a0_0x96c47(0x311)),Vs=require(a0_0x96c47(0xb3)),je=require(a0_0x96c47(0xb3)),ne=process[a0_0x96c47(0x262)](),me=(0x0,je[a0_0x96c47(0x34a)])(ne,a0_0x96c47(0x144)),Us=(0x0,je['join'])(ne,a0_0x96c47(0x273)),Qi=(0x0,je['join'])(ne,a0_0x96c47(0x3cb),'auth'),ns=class{constructor(){const _0x2eeb97=a0_0x96c47;this[_0x2eeb97(0x48a)]();}[a0_0x96c47(0x763)](_0x38bc6a){const _0x25cc22=a0_0x96c47;return this[_0x25cc22(0x56a)][_0x38bc6a];}[a0_0x96c47(0x48a)](){const _0x2aebf6=a0_0x96c47;this[_0x2aebf6(0x56a)]=process[_0x2aebf6(0x56a)]?.[_0x2aebf6(0x45e)]!==_0x2aebf6(0x731)?this['envYaml']():this[_0x2aebf6(0x4a6)](),process[_0x2aebf6(0x56a)]?.[_0x2aebf6(0x45e)]===_0x2aebf6(0x731)&&(this[_0x2aebf6(0x56a)][_0x2aebf6(0x32e)][_0x2aebf6(0x442)]=_0x2aebf6(0xd0),this['env']['SERVER'][_0x2aebf6(0x697)]=Number['parseInt'](process[_0x2aebf6(0x56a)]?.[_0x2aebf6(0x602)]??'8080'));}['envYaml'](){const _0x5c4b06=a0_0x96c47;return(0x0,qs['load'])((0x0,Js[_0x5c4b06(0xf6)])((0x0,Vs['join'])(Us,'../env.yml'),{'encoding':_0x5c4b06(0x27f)}));}['envProcess'](){const _0x2af88a=a0_0x96c47;return{'SERVER':{'TYPE':process[_0x2af88a(0x56a)][_0x2af88a(0xea)],'PORT':Number[_0x2af88a(0x218)](process['env'][_0x2af88a(0x602)]),'URL':process[_0x2af88a(0x56a)][_0x2af88a(0x279)]},'CORS':{'ORIGIN':process[_0x2af88a(0x56a)][_0x2af88a(0x56e)][_0x2af88a(0x620)](','),'METHODS':process[_0x2af88a(0x56a)][_0x2af88a(0x2e9)][_0x2af88a(0x620)](','),'CREDENTIALS':process['env']?.[_0x2af88a(0x4c9)]===_0x2af88a(0x731)},'SSL_CONF':{'PRIVKEY':process[_0x2af88a(0x56a)]?.[_0x2af88a(0x5cb)],'FULLCHAIN':process['env']?.[_0x2af88a(0x256)]},'STORE':{'CLEANING_INTERVAL':Number[_0x2af88a(0x611)](process[_0x2af88a(0x56a)]?.[_0x2af88a(0x5d6)])?Number[_0x2af88a(0x218)](process[_0x2af88a(0x56a)][_0x2af88a(0x5d6)]):void 0x0,'MESSAGES':process[_0x2af88a(0x56a)]?.[_0x2af88a(0x8b)]===_0x2af88a(0x731),'CONTACTS':process[_0x2af88a(0x56a)]?.['STORE_CONTACTS']===_0x2af88a(0x731),'CHATS':process[_0x2af88a(0x56a)]?.[_0x2af88a(0x384)]===_0x2af88a(0x731)},'DATABASE':{'CONNECTION':{'HOST':process[_0x2af88a(0x56a)]?.[_0x2af88a(0x6b2)],'PORT':Number['parseInt'](process[_0x2af88a(0x56a)]?.[_0x2af88a(0x6b2)]),'USER':process['env'][_0x2af88a(0x19a)],'PASSWORD':process[_0x2af88a(0x56a)][_0x2af88a(0x6ed)],'URI':process[_0x2af88a(0x56a)][_0x2af88a(0x3bb)],'DB_PREFIX_NAME':process[_0x2af88a(0x56a)][_0x2af88a(0x87)]},'ENABLED':process[_0x2af88a(0x56a)]?.[_0x2af88a(0x54a)]===_0x2af88a(0x731)},'REDIS':{'ENABLED':process[_0x2af88a(0x56a)]?.[_0x2af88a(0x6fe)]===_0x2af88a(0x731),'URI':process['env'][_0x2af88a(0x88)]||_0x2af88a(0x298),'PREFIX_KEY':process['env'][_0x2af88a(0x453)]||_0x2af88a(0x5bd)},'LOG':{'LEVEL':process['env']?.[_0x2af88a(0x4be)][_0x2af88a(0x620)](','),'COLOR':process['env']?.[_0x2af88a(0x6a9)]===_0x2af88a(0x731)},'PROXY':Number[_0x2af88a(0x218)](process['env']?.[_0x2af88a(0x58a)]),'AUTHENTICATION':{'TYPE':process[_0x2af88a(0x56a)][_0x2af88a(0x2c0)],'API_KEY':{'KEY':process[_0x2af88a(0x56a)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x2af88a(0x611)](process[_0x2af88a(0x56a)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number['parseInt'](process[_0x2af88a(0x56a)][_0x2af88a(0x6d8)]):0xe10,'SECRET':process['env'][_0x2af88a(0x4e5)]}}};}},b=new ns(),xo=T(require(a0_0x96c47(0x3fb))),ge=T(require(a0_0x96c47(0x3fa))),js=require(a0_0x96c47(0xb3)),cs=T(require('dayjs')),ls=(_0x1e4312=>(_0x1e4312['LOG']=a0_0x96c47(0x36c),_0x1e4312[a0_0x96c47(0x4b1)]='\x1b[34m',_0x1e4312[a0_0x96c47(0x745)]='\x1b[33m',_0x1e4312[a0_0x96c47(0x391)]=a0_0x96c47(0x3ad),_0x1e4312['DEBUG']=a0_0x96c47(0x4e1),_0x1e4312[a0_0x96c47(0x4a0)]='\x1b[37m',_0x1e4312[a0_0x96c47(0x27a)]='\x1b[30m',_0x1e4312))(ls||{}),Gs=(_0x7f3285=>(_0x7f3285['LOG']=a0_0x96c47(0x3a7),_0x7f3285['DARK']=a0_0x96c47(0x2a9),_0x7f3285[a0_0x96c47(0x4b1)]=a0_0x96c47(0x4fa),_0x7f3285[a0_0x96c47(0x745)]='\x1b[33m%s\x1b[0m',_0x7f3285[a0_0x96c47(0x391)]=a0_0x96c47(0xa2),_0x7f3285[a0_0x96c47(0x71f)]=a0_0x96c47(0x6b8),_0x7f3285[a0_0x96c47(0x4a0)]=a0_0x96c47(0x202),_0x7f3285))(Gs||{}),Bs=(_0x305642=>(_0x305642[a0_0x96c47(0x28d)]='LOG',_0x305642[a0_0x96c47(0x745)]=a0_0x96c47(0x745),_0x305642[a0_0x96c47(0x4b1)]=a0_0x96c47(0x4b1),_0x305642[a0_0x96c47(0x27a)]='DARK',_0x305642['ERROR']=a0_0x96c47(0x391),_0x305642['DEBUG']=a0_0x96c47(0x71f),_0x305642[a0_0x96c47(0x4a0)]=a0_0x96c47(0x4a0),_0x305642))(Bs||{}),Ws=(_0x50998a=>(_0x50998a[a0_0x96c47(0x28d)]='\x1b[42m',_0x50998a[a0_0x96c47(0x4b1)]=a0_0x96c47(0x676),_0x50998a[a0_0x96c47(0x745)]='\x1b[43m',_0x50998a[a0_0x96c47(0x27a)]=a0_0x96c47(0x6a1),_0x50998a[a0_0x96c47(0x391)]=a0_0x96c47(0x1e5),_0x50998a[a0_0x96c47(0x71f)]=a0_0x96c47(0x19c),_0x50998a['VERBOSE']='\x1b[47m',_0x50998a))(Ws||{}),R=class{constructor(_0x1db8a6='Logger'){const _0x3b6282=a0_0x96c47;this[_0x3b6282(0x11f)]=_0x1db8a6,this[_0x3b6282(0x184)]=b;}[a0_0x96c47(0x5c8)](_0x5f3545){this['context']=_0x5f3545;}[a0_0x96c47(0x199)](_0x3feffc,_0x142353){const _0x11ce63=a0_0x96c47;let _0x4b7ed5=[];this[_0x11ce63(0x184)][_0x11ce63(0x763)](_0x11ce63(0x28d))[_0x11ce63(0xad)][_0x11ce63(0x233)](_0x28be5b=>_0x4b7ed5['push'](Bs[_0x28be5b]));let _0x36bec8=typeof _0x3feffc;_0x4b7ed5[_0x11ce63(0x546)](_0x142353)&&(b[_0x11ce63(0x763)](_0x11ce63(0x28d))['COLOR']?(console[_0x11ce63(0x2cf)]('\x1b[1m'+Gs[_0x142353],'\x1b[1m\x1b[37m',(0x0,cs[_0x11ce63(0x5ef)])()[_0x11ce63(0x3ec)](_0x11ce63(0x169)),'\x1b[0m',ls[_0x142353]+Ws[_0x142353]+_0x11ce63(0x2e1),_0x142353+'\x20\x1b[0m',_0x11ce63(0x672),this[_0x11ce63(0x11f)]+_0x11ce63(0x35e),ls[_0x142353],_0x36bec8!==_0x11ce63(0x645)?_0x3feffc:'',_0x11ce63(0x35e)),_0x36bec8===_0x11ce63(0x645)&&console[_0x11ce63(0x2cf)](_0x3feffc,'\x0a')):console['log']((0x0,cs[_0x11ce63(0x5ef)])()[_0x11ce63(0x3ec)](_0x11ce63(0x55d)),_0x142353+'\x20',''+this[_0x11ce63(0x11f)],_0x3feffc));}['log'](_0x5b2e88){const _0x104013=a0_0x96c47;this[_0x104013(0x199)](_0x5b2e88,_0x104013(0x28d));}[a0_0x96c47(0x5f7)](_0xc30415){const _0x2e9e7d=a0_0x96c47;this[_0x2e9e7d(0x199)](_0xc30415,_0x2e9e7d(0x4b1));}[a0_0x96c47(0x284)](_0xd21d06){const _0x276fdb=a0_0x96c47;this[_0x276fdb(0x199)](_0xd21d06,_0x276fdb(0x745));}[a0_0x96c47(0xfa)](_0x4b5031){const _0x3b38e2=a0_0x96c47;this['console'](_0x4b5031,_0x3b38e2(0x391));}[a0_0x96c47(0x4b8)](_0x4c126f){const _0x205a1e=a0_0x96c47;this[_0x205a1e(0x199)](_0x4c126f,_0x205a1e(0x4a0));}[a0_0x96c47(0x639)](_0x534367){const _0x155249=a0_0x96c47;this[_0x155249(0x199)](_0x534367,'DEBUG');}['dark'](_0x5ae30c){const _0x5589a4=a0_0x96c47;this['console'](_0x5ae30c,_0x5589a4(0x27a));}};function zs(){const _0x441369=a0_0x96c47;process['on'](_0x441369(0x177),(_0x55cb44,_0x2ccde6)=>{const _0x46baf0=_0x441369;new R(_0x46baf0(0x177))['error']({'origin':_0x2ccde6,'stderr':process['stderr']['fd'],'error':_0x55cb44});}),process['on'](_0x441369(0x55b),(_0x19f3ee,_0x33873a)=>{const _0xf7d1ec=_0x441369;new R(_0xf7d1ec(0x55b))[_0xf7d1ec(0xfa)]({'origin':_0x33873a,'stderr':process['stderr']['fd'],'error':_0x19f3ee});});}var Hs=T(require(a0_0x96c47(0x6d1))),us=new Hs['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),we=require(a0_0x96c47(0x53a)),Ce=T(require(a0_0x96c47(0x53a))),Le=new R(a0_0x96c47(0x385)),L=b[a0_0x96c47(0x763)]('DATABASE'),O=L[a0_0x96c47(0x330)]?L[a0_0x96c47(0x59c)][a0_0x96c47(0x558)]?Ce['default'][a0_0x96c47(0x49e)](L[a0_0x96c47(0x59c)][a0_0x96c47(0x558)],{'dbName':L['CONNECTION'][a0_0x96c47(0xe2)]+a0_0x96c47(0x72f)}):Ce[a0_0x96c47(0x5ef)][a0_0x96c47(0x49e)](a0_0x96c47(0x469)+L['CONNECTION'][a0_0x96c47(0x5a2)]+':'+L[a0_0x96c47(0x59c)][a0_0x96c47(0x697)]+a0_0x96c47(0x67a),{'user':L[a0_0x96c47(0x59c)][a0_0x96c47(0x18b)],'pass':L[a0_0x96c47(0x59c)][a0_0x96c47(0x27e)],'dbName':L['CONNECTION'][a0_0x96c47(0xe2)]+'-whatsapp-api'}):null;L[a0_0x96c47(0x330)]&&Le[a0_0x96c47(0x5f7)](a0_0x96c47(0x16b)+O[a0_0x96c47(0x350)]);var fe=L['ENABLED']?L['CONNECTION'][a0_0x96c47(0x558)]?Ce[a0_0x96c47(0x5ef)]['createConnection'](L[a0_0x96c47(0x59c)]['URI'],{'dbName':a0_0x96c47(0x107)}):Ce[a0_0x96c47(0x5ef)][a0_0x96c47(0x49e)]('mongodb://'+L[a0_0x96c47(0x59c)][a0_0x96c47(0x5a2)]+':'+L[a0_0x96c47(0x59c)][a0_0x96c47(0x697)]+a0_0x96c47(0x67a),{'user':L[a0_0x96c47(0x59c)]['USER'],'pass':L[a0_0x96c47(0x59c)][a0_0x96c47(0x27e)],'dbName':a0_0x96c47(0x39f)}):null;fe&&Le[a0_0x96c47(0x5f7)](a0_0x96c47(0x16b)+fe['$dbName']),process['on'](a0_0x96c47(0x2dc),()=>{const _0x208568=a0_0x96c47;O&&O[_0x208568(0x30e)](()=>{const _0x5dd1b3=_0x208568;Le[_0x5dd1b3(0x5f7)](_0x5dd1b3(0x125));}),fe&&fe[_0x208568(0x30e)](()=>{const _0x430f07=_0x208568;Le[_0x430f07(0x5f7)](_0x430f07(0x85));});});var Bo=new we['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Wo=new we['Schema']({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),zo=new we['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),Ho=new we[(a0_0x96c47(0x137))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Bo],'default':[]}},{'_id':!0x1}),Ko=new we['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Ho,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Wo},'groupdata':{'type':zo,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),Ks=_0x440483=>{const _0x58c1ca=a0_0x96c47;let _0x5c9044='z_'+_0x440483+_0x58c1ca(0x9d);return O?.[_0x58c1ca(0x265)]('ChatModel',Ko,_0x5c9044);},Qs=require(a0_0x96c47(0x53a)),Qo=new Qs['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ys=_0x10ccb1=>{const _0x590b40=a0_0x96c47;let _0x320291='z_'+_0x10ccb1+_0x590b40(0x540);return O?.[_0x590b40(0x265)]('ContactModel',Qo,_0x320291);},Xs=require(a0_0x96c47(0x53a)),ds=class{},Yo=new Xs['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=fe?.[a0_0x96c47(0x265)](ds['name'],Yo,a0_0x96c47(0x37a)),ea=require(a0_0x96c47(0x53a)),Xo=new ea[(a0_0x96c47(0x137))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ta=_0xba1f25=>{const _0x42a4f4=a0_0x96c47;let _0x131981='z_'+_0xba1f25+_0x42a4f4(0x160);return O?.['model'](_0x42a4f4(0x613),Xo,_0x131981);},sa=require('mongoose'),ps=class{},Zo=new sa['Schema']({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),aa=O?.[a0_0x96c47(0x265)](ps[a0_0x96c47(0x11a)],Zo,a0_0x96c47(0x6f8)),oa=require(a0_0x96c47(0x53a)),hs=class{},ra=new oa['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ra[a0_0x96c47(0xff)](a0_0x96c47(0x6cd),function(_0x41a68a){const _0x1eb051=a0_0x96c47;delete this[_0x1eb051(0x4a5)],delete this[_0x1eb051(0x625)],delete this[_0x1eb051(0x6c3)],delete this[_0x1eb051(0x309)],delete this['flowStopMinutes'],_0x41a68a();});var ia=O?.[a0_0x96c47(0x265)](hs[a0_0x96c47(0x11a)],ra,a0_0x96c47(0x4ef)),k=require(a0_0x96c47(0x53a)),na=require(a0_0x96c47(0x400)),Fe=class{},ca=new k[(a0_0x96c47(0x137))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new k[(a0_0x96c47(0x137))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),er=new k['Schema']({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x96c47(0x644)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x96c47(0x6a2)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x96c47(0x348)},'pollErrorMessage':{'type':String,'default':a0_0x96c47(0x4d9)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),la=new k[(a0_0x96c47(0x137))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),tr=new k[(a0_0x96c47(0x137))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),sr=new k[(a0_0x96c47(0x137))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),fs=new k['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),ua=new k[(a0_0x96c47(0x137))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':er},'apirequest':tr,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),da=new k['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ws=new k[(a0_0x96c47(0x137))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,na['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'global':{'type':String,'default':a0_0x96c47(0x3c0)},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x22a129=a0_0x96c47;return'!cmd_'+Math[_0x22a129(0x1aa)]()[_0x22a129(0x5f2)](0x24)['slice'](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[fs],'variablesNotFound':{'type':[String]},'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[gs],'default':[]}});ws[a0_0x96c47(0xff)](a0_0x96c47(0x6cd),function(_0x11a475){const _0x630fad=a0_0x96c47;let _0x6c42a9=new Set(),_0x1d3d61=new Set(this[_0x630fad(0x544)]?.[_0x630fad(0x504)](_0x1748c2=>_0x1748c2[_0x630fad(0x11a)])),_0x338111=JSON[_0x630fad(0x2bf)](this),_0x2a7e8b=/{{(?!_)([^}]*)}}/g,_0x2502cc;for(;(_0x2502cc=_0x2a7e8b[_0x630fad(0x6d5)](_0x338111))!==null;)_0x1d3d61['has'](_0x2502cc[0x1])||_0x6c42a9['add'](_0x2502cc[0x1]);_0x6c42a9[_0x630fad(0x63c)]>0x0?(console[_0x630fad(0x284)](_0x630fad(0x3db),Array[_0x630fad(0x5b0)](_0x6c42a9)),this[_0x630fad(0x2fa)]=Array[_0x630fad(0x5b0)](_0x6c42a9)):this[_0x630fad(0x2fa)]=[],_0x11a475();}),ws['pre'](a0_0x96c47(0x4cd),function(_0x4b6a56){const _0x5b5218=a0_0x96c47;let _0x102d1e=this[_0x5b5218(0x12e)]();if(_0x102d1e&&typeof _0x102d1e==_0x5b5218(0x645)&&_0x5b5218(0x2be)in _0x102d1e){let _0x1e8a77=_0x102d1e[_0x5b5218(0x2be)];if(_0x1e8a77){let _0x259e36=new Set(),_0x59eac9=new Set(_0x1e8a77[_0x5b5218(0x544)]?.[_0x5b5218(0x504)](_0x373d35=>_0x373d35['name'])),_0x41b72e=JSON[_0x5b5218(0x2bf)](_0x1e8a77),_0x27ff47=/{{(?!_)([^}]*)}}/g,_0x58a171;for(;(_0x58a171=_0x27ff47[_0x5b5218(0x6d5)](_0x41b72e))!==null;)_0x59eac9['has'](_0x58a171[0x1])||_0x259e36[_0x5b5218(0x179)](_0x58a171[0x1]);_0x259e36[_0x5b5218(0x63c)]>0x0?(console[_0x5b5218(0x284)](_0x5b5218(0x3db),Array[_0x5b5218(0x5b0)](_0x259e36)),_0x1e8a77[_0x5b5218(0x2fa)]=Array[_0x5b5218(0x5b0)](_0x259e36)):_0x1e8a77[_0x5b5218(0x2fa)]=[],this[_0x5b5218(0x8e)]({'$set':_0x1e8a77});}}_0x4b6a56();});var pa=_0x94e094=>{const _0x4cc68a=a0_0x96c47;let _0x16e48e='z_'+_0x94e094+'_Flows';return O?.[_0x4cc68a(0x265)](_0x4cc68a(0x5d1),ws,_0x16e48e);},ar=new k['Schema']({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[fs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[sr]},{'_id':!0x1}),or=new k['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[fs],'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[gs],'default':[]},'chatLog':ar,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x96c47(0x14f)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x96c47(0x348)},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),ha=_0x47c955=>{const _0x3ca258=a0_0x96c47;let _0x571524='z_'+_0x47c955+_0x3ca258(0x290);return O?.[_0x3ca258(0x265)](_0x3ca258(0x617),or,_0x571524);},rr=new k[(a0_0x96c47(0x137))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ir=new k[(a0_0x96c47(0x137))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),nr=new k[(a0_0x96c47(0x137))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x96c47(0x538)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':ir,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[rr],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ga=_0x2d8a2f=>{const _0x2e0840=a0_0x96c47;let _0x55ee87='z_'+_0x2d8a2f+_0x2e0840(0x1fe);return O?.[_0x2e0840(0x265)](_0x2e0840(0x3f8),nr,_0x55ee87);},ms=class{},cr=new k[(a0_0x96c47(0x137))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),lr=new k[(a0_0x96c47(0x137))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),ur=new k[(a0_0x96c47(0x137))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x96c47(0x461)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),dr=new k[(a0_0x96c47(0x137))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),pr=new k[(a0_0x96c47(0x137))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[dr]},'customFields':{'type':[lr]},'flowConfig':{'type':ur,'default':{}},'autoCompleteMessages':{'type':[cr],'default':[]}}),Ue=O?.[a0_0x96c47(0x265)](ms['name'],pr,a0_0x96c47(0x4d2)),ma=require(a0_0x96c47(0x53a)),hr=new ma['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),fa=_0xbd16ca=>{const _0x49cbc5=a0_0x96c47;let _0x4fb5f8='z_'+_0xbd16ca+_0x49cbc5(0x38e);return O?.['model'](_0x49cbc5(0x1a9),hr,_0x4fb5f8);},x=class{constructor(_0x25d7af){const _0x4ede84=a0_0x96c47;this[_0x4ede84(0x3d3)]=_0x25d7af[_0x4ede84(0x763)](_0x4ede84(0x337));}};function $(_0x175488){const _0x554dd2=a0_0x96c47;let _0x3506a2={};for(let [_0x3dea0f,_0x26a33e]of Object['entries'](_0x175488))if(typeof _0x26a33e=='object'&&!Array['isArray'](_0x26a33e)){for(let [_0x263dc6,_0x277821]of Object[_0x554dd2(0x744)](_0x26a33e))_0x3506a2[_0x3dea0f+'.'+_0x263dc6]=_0x277821;}else _0x3506a2[_0x3dea0f]=_0x26a33e;return _0x3506a2;}var Je=class{constructor(_0x4efe43,_0x2289d7,_0x15f615,_0x197611,_0x23e982,_0x5ed173,_0x250037,_0x2b45b7,_0x58be95,_0x2db5ae,_0x4787bf,_0x1c06a3){const _0x148da5=a0_0x96c47;this[_0x148da5(0x416)]=_0x4efe43,this['chat']=_0x2289d7,this[_0x148da5(0x6e1)]=_0x15f615,this[_0x148da5(0x27b)]=_0x197611,this[_0x148da5(0x4ef)]=_0x23e982,this[_0x148da5(0x375)]=_0x5ed173,this[_0x148da5(0x201)]=_0x250037,this[_0x148da5(0x434)]=_0x2b45b7,this[_0x148da5(0x33d)]=_0x58be95,this[_0x148da5(0x232)]=_0x2db5ae,this[_0x148da5(0x59e)]=_0x4787bf,this['dbClient']=_0x1c06a3;}get[a0_0x96c47(0x70c)](){return this['dbClient'];}},qe=class{},Ve=class extends x{[a0_0x96c47(0x610)](_0x16a18b){return ta(_0x16a18b);}async[a0_0x96c47(0x1da)](_0x5c8b5a,_0x1b2dda){const _0x555817=a0_0x96c47;if(_0x5c8b5a[_0x555817(0x1fc)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x555817(0x610)](_0x1b2dda)[_0x555817(0x4cf)]([..._0x5c8b5a]))[_0x555817(0x1fc)]};}catch(_0x29bd90){return _0x29bd90;}}async['find'](_0xb53a7e,_0x30c7d7){const _0x492f74=a0_0x96c47;try{let _0x1a07ea=this[_0x492f74(0x610)](_0x30c7d7),_0x30d6bb=$(_0xb53a7e[_0x492f74(0x5b6)]);return await _0x1a07ea[_0x492f74(0xd4)](_0x30d6bb)[_0x492f74(0x2f9)]({'messageTimestamp':-0x1})[_0x492f74(0x71b)](_0xb53a7e?.[_0x492f74(0x71b)]??0x0)[_0x492f74(0x74a)]();}catch{return[];}}async[a0_0x96c47(0x494)](_0x45faf7,_0x2fadf8){const _0x33dd2f=a0_0x96c47;try{let _0xe7c9d8=this[_0x33dd2f(0x610)](_0x2fadf8),_0xc26aaf=$(_0x45faf7['where']);await _0xe7c9d8[_0x33dd2f(0xda)](_0xc26aaf);}catch(_0x4995cc){console[_0x33dd2f(0xfa)](_0x4995cc);}}async['update'](_0x3a44bd,_0x537c84,_0x10efb5){const _0x35018f=a0_0x96c47;try{let _0x52dabb=this[_0x35018f(0x610)](_0x10efb5),_0x5e3cf0=$(_0x3a44bd[_0x35018f(0x5b6)]);return await _0x52dabb[_0x35018f(0x4cd)](_0x5e3cf0,{'$set':_0x537c84},{'new':!0x0});}catch(_0x15ff90){throw console[_0x35018f(0xfa)](_0x15ff90),_0x15ff90;}}async[a0_0x96c47(0x4cf)](_0x48d81d,_0x2ba7b6){const _0x234101=a0_0x96c47;if(_0x48d81d['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x234101(0x610)](_0x2ba7b6)[_0x234101(0x4cf)]([..._0x48d81d]))[_0x234101(0x1fc)]};}catch(_0x3bdc4d){return console[_0x234101(0x2cf)](_0x234101(0x564),_0x3bdc4d),_0x3bdc4d;}}async['deleteAll'](_0x1d02da){const _0x2b7957=a0_0x96c47;try{return await this[_0x2b7957(0x610)](_0x1d02da)[_0x2b7957(0x59d)]['drop'](),{'success':!0x0};}catch(_0x313a22){return console[_0x2b7957(0xfa)](_0x313a22),{'success':!0x1,'error':_0x313a22};}}},Os=T(require(a0_0x96c47(0x69f))),f=T(require(a0_0x96c47(0x32d))),Te=require('fs'),F=T(require(a0_0x96c47(0xb3))),K=T(require('axios')),Co=require(a0_0x96c47(0x400)),Eo=T(require(a0_0x96c47(0x2f8))),vo=T(require(a0_0x96c47(0x33f))),wa=[a0_0x96c47(0x3a2),a0_0x96c47(0x507),a0_0x96c47(0x2a6),a0_0x96c47(0x122),'stickerMessage'],ya=[a0_0x96c47(0x432),'documentWithCaptionMessage',a0_0x96c47(0x706),a0_0x96c47(0x6c1)],Ts=require('os'),Pt=T(require(a0_0x96c47(0x587))),$e=require(a0_0x96c47(0x1f6)),kt=require(a0_0x96c47(0x34b)),re=T(require(a0_0x96c47(0x53a))),P=require(a0_0x96c47(0x104)),ye=class{constructor(_0x481eb9,_0x31d779,_0xc90cb6){const _0x11faa2=a0_0x96c47;this[_0x11faa2(0x16c)]=_0x481eb9,this['exists']=_0x31d779,this[_0x11faa2(0x11a)]=_0xc90cb6;}},Ge=class{},Be=class{},Ee=class{},We=class{},ze=class{},be=class{},He=class{},Ke=class{},Qe=class{},Ye=class{},$t=T(require(a0_0x96c47(0x3fa))),ba=require('fs'),Sa=require(a0_0x96c47(0xb3));async function Xe(_0x53c0b8){const _0x218480=a0_0x96c47;let _0x4a8336=G['waInstances'][_0x53c0b8];if(L['ENABLED']){let _0x1e8403=O['getClient']()['db'](L[_0x218480(0x59c)][_0x218480(0xe2)]+_0x218480(0x16e))[_0x218480(0x59d)](_0x53c0b8);return _0x4a8336||(await _0x1e8403[_0x218480(0xd4)]({})[_0x218480(0x593)]())[_0x218480(0x1fc)]>0x0;}return _0x4a8336||(0x0,ba[_0x218480(0x484)])((0x0,Sa[_0x218480(0x34a)])(me,_0x53c0b8));}async function Ma(_0x4cb83f,_0xf0699e,_0x514a18){const _0x12bfef=a0_0x96c47;if(_0x4cb83f[_0x12bfef(0x4c1)][_0x12bfef(0x546)]('/instance/create')||_0x4cb83f[_0x12bfef(0x4c1)][_0x12bfef(0x546)](_0x12bfef(0x5e1))||_0x4cb83f['originalUrl'][_0x12bfef(0x546)](_0x12bfef(0xa1))||_0x4cb83f[_0x12bfef(0x4c1)][_0x12bfef(0x546)](_0x12bfef(0x555))||_0x4cb83f[_0x12bfef(0x4c1)][_0x12bfef(0x546)]('/instance/connect')||_0x4cb83f[_0x12bfef(0x4c1)]['includes'](_0x12bfef(0x3a9))||_0x4cb83f[_0x12bfef(0x4c1)][_0x12bfef(0x546)](_0x12bfef(0x5c7)))return _0x514a18();let _0x54a592=_0x4cb83f['params'];if(!_0x54a592?.['instanceName'])throw new m(_0x12bfef(0x27c));if(!await Xe(_0x54a592[_0x12bfef(0x5ec)]))throw new J(_0x12bfef(0x4d1)+_0x54a592[_0x12bfef(0x5ec)]+_0x12bfef(0x5a3));_0x514a18();}async function Ca(_0x2b084d,_0x5916ec,_0x1a7b0f){const _0x11966e=a0_0x96c47;if(_0x2b084d[_0x11966e(0x4c1)][_0x11966e(0x546)]('/instance/create')){let _0x5dcfbe=_0x2b084d[_0x11966e(0x3df)];if(await Xe(_0x5dcfbe['instanceName']))throw new Q('This\x20name\x20'+_0x5dcfbe['instanceName']+_0x11966e(0x2c9));G['waInstances'][_0x5dcfbe['instanceName']]&&delete G[_0x11966e(0x1ce)][_0x5dcfbe[_0x11966e(0x5ec)]];}_0x1a7b0f();}var Ea=require('class-validator'),va=T(require(a0_0x96c47(0x68d))),Ze='uazapi',mr=new R('GUARD');async function fr(_0x4fb86f,_0x27385f,_0x425952){const _0x2217f0=a0_0x96c47;let _0x3bf5a7=_0x4fb86f[_0x2217f0(0x763)](_0x2217f0(0x388));if(_0x3bf5a7&&b['get']('AUTHENTICATION')['API_KEY']['KEY']!==_0x3bf5a7)throw new se();if(b['get'](_0x2217f0(0x72b))[_0x2217f0(0x155)][_0x2217f0(0x283)]===_0x3bf5a7)return _0x425952();if((_0x4fb86f[_0x2217f0(0x4c1)][_0x2217f0(0x546)]('/instance/create')||_0x4fb86f[_0x2217f0(0x4c1)][_0x2217f0(0x546)](_0x2217f0(0x5e1)))&&!_0x3bf5a7)throw new Q(_0x2217f0(0x75f),_0x2217f0(0x37b));let _0x2828ac=b[_0x2217f0(0x763)]('AUTHENTICATION')[_0x2217f0(0x1ae)];try{let [_0x951a68,_0x35a1f7]=_0x4fb86f[_0x2217f0(0x763)](_0x2217f0(0x748))['split']('\x20');if(_0x951a68[_0x2217f0(0x5cf)]()!==_0x2217f0(0x667))throw new se();if(!(0x0,Ea[_0x2217f0(0x28c)])(_0x35a1f7))throw new se();let _0x3c73a7=_0x4fb86f[_0x2217f0(0xc7)],_0x379238=va[_0x2217f0(0x5ef)][_0x2217f0(0x162)](_0x35a1f7,_0x2828ac[_0x2217f0(0x656)],{'ignoreExpiration':_0x2828ac['EXPIRIN_IN']===0x0});if(_0x3c73a7[_0x2217f0(0x5ec)]!==_0x379238[_0x2217f0(0x5ec)]||Ze!==_0x379238[_0x2217f0(0x67e)])throw new se();return _0x425952();}catch(_0x4a21b9){throw mr['error'](_0x4a21b9),new se();}}async function wr(_0x4d55c7,_0xe4756f,_0xe48c75){const _0x4e63dd=a0_0x96c47;let _0x390493=b[_0x4e63dd(0x763)]('AUTHENTICATION')[_0x4e63dd(0x155)],_0x3432ec=_0x4d55c7[_0x4e63dd(0x763)](_0x4e63dd(0x388));if(_0x390493[_0x4e63dd(0x283)]===_0x3432ec)return _0xe48c75();if(_0x4d55c7[_0x4e63dd(0x4c1)][_0x4e63dd(0x546)](_0x4e63dd(0x1e6))){let _0x777e4=et,_0x37bb5f=_0x4d55c7[_0x4e63dd(0x3df)]['instanceName'];if(_0x777e4&&_0x37bb5f[_0x4e63dd(0x5cf)]()['startsWith'](_0x777e4['toLowerCase']()))return _0xe48c75();if(!_0x3432ec)throw new Q(_0x4e63dd(0x75f),_0x4e63dd(0x37b));}if(_0x4d55c7['originalUrl'][_0x4e63dd(0x546)](_0x4e63dd(0x5e1))&&!_0x3432ec)throw new Q(_0x4e63dd(0x75f),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x4d55c7[_0x4e63dd(0x4c1)][_0x4e63dd(0x546)](_0x4e63dd(0xa1))&&!_0x3432ec)throw new Q(_0x4e63dd(0x75f),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x4d55c7[_0x4e63dd(0x4c1)][_0x4e63dd(0x546)]('/config')&&!_0x3432ec)throw new Q('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x557818=_0x4d55c7['params'],_0xf580ad=await de[_0x4e63dd(0x375)][_0x4e63dd(0xd4)](_0x557818[_0x4e63dd(0x5ec)]);if(_0xf580ad&&_0xf580ad[_0x4e63dd(0x388)]===_0x3432ec)return _0xe48c75();}catch{}throw new se();}var Na={'jwt':fr,'apikey':wr},ro=require(a0_0x96c47(0x3fa)),v=require('uuid'),E=(..._0x25de19)=>{const _0x528b12=a0_0x96c47;let _0x4893c4={};return _0x25de19[_0x528b12(0x233)](_0xe7c844=>_0x4893c4[_0xe7c844]={'minLength':0x1,'description':'The\x20\x22'+_0xe7c844+'\x22\x20cannot\x20be\x20empty'}),{'if':{'propertyNames':{'enum':[..._0x25de19]}},'then':{'properties':_0x4893c4}};},N={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'instanceName':{'type':a0_0x96c47(0x1e4)}},...E('instanceName')},ic={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'oldToken':{'type':a0_0x96c47(0x1e4)}},'required':['oldToken'],...E('oldToken')},nc={'properties':{'key':{'type':a0_0x96c47(0x645),'properties':{'id':{'type':a0_0x96c47(0x1e4)},'remoteJid':{'type':a0_0x96c47(0x1e4)},'fromMe':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x96c47(0x4ba)],...E('id','remoteJid')},'message':{'type':a0_0x96c47(0x645)}}},Y={'properties':{'delay':{'type':'integer','description':'Enter\x20a\x20value\x20in\x20milliseconds'},'presence':{'type':'string','enum':[a0_0x96c47(0x73b),a0_0x96c47(0x354),a0_0x96c47(0x339),'recording',a0_0x96c47(0x5a4)]}}},z={'type':a0_0x96c47(0x1e4),'description':a0_0x96c47(0x28f)},Ra={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'number':{...z},'options':{...Y},'textMessage':{'type':a0_0x96c47(0x645),'properties':{'text':{'type':a0_0x96c47(0x1e4)}},'required':[a0_0x96c47(0x68c)],...E('text')}},'required':['textMessage',a0_0x96c47(0x483)]},Oa={'type':a0_0x96c47(0x1e4),'pattern':a0_0x96c47(0x2b1),'description':a0_0x96c47(0x28f)},cc={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'number':{...Oa},'options':{...Y},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x96c47(0x1e4)}},'required':[a0_0x96c47(0x68c)],...E(a0_0x96c47(0x68c))}},'required':[a0_0x96c47(0x6d6),a0_0x96c47(0x483)]},lc={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'number':{...Oa},'options':{...Y},'mediaMessage':{'type':a0_0x96c47(0x645),'properties':{'mediatype':{'type':a0_0x96c47(0x1e4),'enum':['image',a0_0x96c47(0x4f2),a0_0x96c47(0x658),a0_0x96c47(0x31b)]},'media':{'type':'string'},'fileName':{'type':a0_0x96c47(0x1e4)},'caption':{'type':a0_0x96c47(0x1e4)}},'required':[a0_0x96c47(0x249),a0_0x96c47(0x630)],...E(a0_0x96c47(0x3c8),a0_0x96c47(0x5c0),a0_0x96c47(0x630))}},'required':[a0_0x96c47(0x332),a0_0x96c47(0x483)]},Ta={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x96c47(0x645),'properties':{'image':{'type':a0_0x96c47(0x1e4)}},'required':['image'],...E('image')}},'required':[a0_0x96c47(0x4ec),a0_0x96c47(0x483)]},$a={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'statusMessage':{'type':a0_0x96c47(0x645),'properties':{'type':{'type':a0_0x96c47(0x1e4),'enum':[a0_0x96c47(0x68c),a0_0x96c47(0x657),'audio',a0_0x96c47(0x658)]},'content':{'type':'string'},'caption':{'type':a0_0x96c47(0x1e4)},'backgroundColor':{'type':a0_0x96c47(0x1e4)},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x96c47(0x3ce),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':a0_0x96c47(0x171),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['type','content'],...E(a0_0x96c47(0x43e),'content')}},'required':[a0_0x96c47(0x604)]},Aa={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0x96c47(0x645),'properties':{'mediatype':{'type':'string','enum':['image',a0_0x96c47(0x4f2),a0_0x96c47(0x658),a0_0x96c47(0x31b)]},'media':{'type':'string'},'fileName':{'type':a0_0x96c47(0x1e4)},'caption':{'type':'string'}},'required':[a0_0x96c47(0x249),a0_0x96c47(0x630)],...E(a0_0x96c47(0x3c8),a0_0x96c47(0x5c0),'media')}},'required':['mediaMessage',a0_0x96c47(0x483)]},Ia={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':a0_0x96c47(0x645),'properties':{'audio':{'type':'string'}},'required':['audio'],...E(a0_0x96c47(0x31b))}},'required':[a0_0x96c47(0x2a6),'number']},xa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'pollMessage':{'type':a0_0x96c47(0x645),'properties':{'name':{'type':a0_0x96c47(0x1e4)},'selectableCount':{'type':a0_0x96c47(0x483)},'values':{'type':a0_0x96c47(0x3ce),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x96c47(0x11a),a0_0x96c47(0x6e0),'values'],...E(a0_0x96c47(0x11a),a0_0x96c47(0x6e0),'values')}},'required':['number',a0_0x96c47(0x450)]},Da={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'number':{...z},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x96c47(0x1e4)},'choices':{'type':a0_0x96c47(0x3ce),'minItems':0x2,'uniqueItems':!0x0}},'required':['text',a0_0x96c47(0x22c)],...E(a0_0x96c47(0x68c),a0_0x96c47(0x22c))}},'required':[a0_0x96c47(0x483),a0_0x96c47(0x65b)]},_a={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x96c47(0x645),'properties':{'title':{'type':'string'},'description':{'type':a0_0x96c47(0x1e4)},'footerText':{'type':a0_0x96c47(0x1e4)},'buttons':{'type':a0_0x96c47(0x3ce),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x96c47(0x645),'properties':{'buttonText':{'type':a0_0x96c47(0x1e4)},'buttonId':{'type':'string'}},'required':[a0_0x96c47(0x4f5),a0_0x96c47(0x3ab)],...E(a0_0x96c47(0x4f5),a0_0x96c47(0x3ab))}},'mediaMessage':{'type':a0_0x96c47(0x645),'properties':{'media':{'type':a0_0x96c47(0x1e4)},'fileName':{'type':a0_0x96c47(0x1e4)},'mediatype':{'type':a0_0x96c47(0x1e4),'enum':['image',a0_0x96c47(0x4f2),a0_0x96c47(0x658)]}},'required':[a0_0x96c47(0x630),a0_0x96c47(0x249)],...E(a0_0x96c47(0x630),'fileName')}},'required':['title',a0_0x96c47(0x2bb)],...E('title',a0_0x96c47(0x5cc))}},'required':[a0_0x96c47(0x483),a0_0x96c47(0x2b8)]},Pa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':a0_0x96c47(0x645),'properties':{'latitude':{'type':a0_0x96c47(0x483)},'longitude':{'type':'number'},'name':{'type':a0_0x96c47(0x1e4)},'address':{'type':a0_0x96c47(0x1e4)}},'required':[a0_0x96c47(0x6ef),a0_0x96c47(0x176)],...E(a0_0x96c47(0x11a),'addresss')}},'required':[a0_0x96c47(0x483),a0_0x96c47(0x1ca)]},ka={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'number':{...z},'options':{...Y},'listMessage':{'type':a0_0x96c47(0x645),'properties':{'title':{'type':a0_0x96c47(0x1e4)},'description':{'type':a0_0x96c47(0x1e4)},'footerText':{'type':a0_0x96c47(0x1e4)},'buttonText':{'type':a0_0x96c47(0x1e4)},'sections':{'type':a0_0x96c47(0x3ce),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x96c47(0x645),'properties':{'title':{'type':a0_0x96c47(0x1e4)},'rows':{'type':a0_0x96c47(0x3ce),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x96c47(0x1e4)},'rowId':{'type':'string'}},'required':[a0_0x96c47(0x428),a0_0x96c47(0x2eb)],...E(a0_0x96c47(0x428),'rowId')}}},'required':[a0_0x96c47(0x428),a0_0x96c47(0x187)],...E(a0_0x96c47(0x428))}}},'required':[a0_0x96c47(0x428),a0_0x96c47(0x5cc),a0_0x96c47(0x4f5),a0_0x96c47(0x615)],...E('title',a0_0x96c47(0x5cc),a0_0x96c47(0x4f5),a0_0x96c47(0x42b))}},'required':[a0_0x96c47(0x483),'listMessage']},ja={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':a0_0x96c47(0x3ce),'items':{'type':a0_0x96c47(0x645),'properties':{'fullName':{'type':a0_0x96c47(0x1e4)},'phoneNumber':{'type':'string','minLength':0xa}},'required':[a0_0x96c47(0x294),a0_0x96c47(0x83)],...E(a0_0x96c47(0x294))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x96c47(0x483),'contactMessage']},La={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':a0_0x96c47(0x645),'properties':{'id':{'type':a0_0x96c47(0x1e4)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x96c47(0x101),a0_0x96c47(0x4ba)],...E('id','remoteJid')},'reaction':{'type':a0_0x96c47(0x1e4)}},'required':[a0_0x96c47(0x570),'reaction'],...E(a0_0x96c47(0x250))}},'required':[a0_0x96c47(0x3d2)]},Fa={'$id':(0x0,v['v4'])(),'type':'object','properties':{'numbers':{'type':a0_0x96c47(0x3ce),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x96c47(0x1e4),'pattern':a0_0x96c47(0x171),'description':a0_0x96c47(0x3b2)}}}},Ua={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'readMessages':{'type':a0_0x96c47(0x3ce),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x96c47(0x1e4)},'fromMe':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x96c47(0x1e4)}},'required':['id',a0_0x96c47(0x4ba),a0_0x96c47(0x101)],...E('id',a0_0x96c47(0x101))}}},'required':[a0_0x96c47(0x57c)]},Ja={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'privacySettings':{'type':a0_0x96c47(0x645),'properties':{'readreceipts':{'type':a0_0x96c47(0x1e4),'enum':[a0_0x96c47(0x710),a0_0x96c47(0x6c2)]},'profile':{'type':a0_0x96c47(0x1e4),'enum':[a0_0x96c47(0x710),a0_0x96c47(0x647),a0_0x96c47(0x60d),'none']},'status':{'type':a0_0x96c47(0x1e4),'enum':[a0_0x96c47(0x710),'contacts',a0_0x96c47(0x60d),a0_0x96c47(0x6c2)]},'online':{'type':'string','enum':['all',a0_0x96c47(0x680)]},'last':{'type':'string','enum':[a0_0x96c47(0x710),a0_0x96c47(0x647),a0_0x96c47(0x60d),'none']},'groupadd':{'type':'string','enum':[a0_0x96c47(0x710),a0_0x96c47(0x647),a0_0x96c47(0x60d),a0_0x96c47(0x6c2)]}},'required':[a0_0x96c47(0x67b),a0_0x96c47(0x585),'status',a0_0x96c47(0x1df),a0_0x96c47(0x4fe),a0_0x96c47(0x2d3)],...E(a0_0x96c47(0x67b),a0_0x96c47(0x585),a0_0x96c47(0x275),a0_0x96c47(0x1df),a0_0x96c47(0x4fe),'groupadd')}},'required':['privacySettings']},qa={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'lastMessage':{'type':a0_0x96c47(0x645),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x96c47(0x1e4)},'remoteJid':{'type':a0_0x96c47(0x1e4)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x96c47(0x4ba),'remoteJid'],...E('id',a0_0x96c47(0x101))},'messageTimestamp':{'type':a0_0x96c47(0xf3),'minLength':0x1}},'required':[a0_0x96c47(0x570)],...E(a0_0x96c47(0x1cf))},'archive':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]}},'required':['lastMessage',a0_0x96c47(0x338)]},Va={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x96c47(0x1e4)},'participant':{'type':a0_0x96c47(0x1e4)}},'required':['id',a0_0x96c47(0x4ba),a0_0x96c47(0x101)],...E('id',a0_0x96c47(0x101),a0_0x96c47(0x552))},Ga={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'where':{'type':a0_0x96c47(0x645),'properties':{'_id':{'type':'string','minLength':0x1},'pushName':{'type':a0_0x96c47(0x1e4),'minLength':0x1},'id':{'type':a0_0x96c47(0x1e4),'minLength':0x1}},...E(a0_0x96c47(0x1be),'id','pushName')}}},Ba={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'name':{'type':a0_0x96c47(0x1e4)}},...E(a0_0x96c47(0x11a))},Wa={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'status':{'type':a0_0x96c47(0x1e4)}},...E(a0_0x96c47(0x275))},ve={'$id':(0x0,v['v4'])(),'type':'object','properties':{'number':{'type':a0_0x96c47(0x1e4)},'picture':{'type':a0_0x96c47(0x1e4)}}},za={'type':a0_0x96c47(0x645),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x96c47(0x1e4)},'picture':{'type':a0_0x96c47(0x1e4)},'status':{'type':a0_0x96c47(0x1e4)},'isBusiness':{'type':'boolean'}}},Ha={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'where':{'type':a0_0x96c47(0x645),'properties':{'_id':{'type':a0_0x96c47(0x1e4),'minLength':0x1},'key':{'type':a0_0x96c47(0x645),'if':{'propertyNames':{'enum':[a0_0x96c47(0x4ba),a0_0x96c47(0x101),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x96c47(0x1e4),'minLength':0x1,'description':a0_0x96c47(0x18c)},'id':{'type':a0_0x96c47(0x1e4),'minLength':0x1,'description':'The\x20property\x20cannot\x20be\x20empty'},'fromMe':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...E(a0_0x96c47(0x1be))},'limit':{'type':a0_0x96c47(0xf3)}}},uc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x96c47(0x1e4)},'remoteJid':{'type':'string'},'id':{'type':a0_0x96c47(0x1e4)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x96c47(0x1e4)},'status':{'type':a0_0x96c47(0x1e4),'enum':[a0_0x96c47(0x391),a0_0x96c47(0x405),a0_0x96c47(0x3ef),'DELIVERY_ACK','READ',a0_0x96c47(0x470)]}},...E('_id','remoteJid','id',a0_0x96c47(0x275))},'limit':{'type':a0_0x96c47(0xf3)}}},Ka={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'number':{...z},'presence':{'type':a0_0x96c47(0x1e4),'enum':[a0_0x96c47(0x73b),'available',a0_0x96c47(0x339),a0_0x96c47(0x563),'paused']}},'required':['presence',a0_0x96c47(0x483)]},Qa={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'subject':{'type':'string'},'description':{'type':a0_0x96c47(0x1e4)},'profilePicture':{'type':a0_0x96c47(0x1e4)},'participants':{'type':a0_0x96c47(0x3ce),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x96c47(0x1e4),'minLength':0xa,'pattern':a0_0x96c47(0x719),'description':a0_0x96c47(0x567)}}},'required':[a0_0x96c47(0xe4),'participants'],...E(a0_0x96c47(0xe4),a0_0x96c47(0x5cc),a0_0x96c47(0x6b1))},Ne={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'groupJid':{'type':'string','pattern':'^\x5cd+([-]\x5cd+)*@g.us$'}},'required':[a0_0x96c47(0x38c)],...E(a0_0x96c47(0x38c))},Ya={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'groupJid':{'type':a0_0x96c47(0x1e4)},'action':{'type':'string','enum':[a0_0x96c47(0x179),a0_0x96c47(0x31c),a0_0x96c47(0x5fd),a0_0x96c47(0x1e9),a0_0x96c47(0x223),a0_0x96c47(0x3e4)]},'participants':{'type':a0_0x96c47(0x3ce),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x96c47(0x1e4),'minLength':0xa,'pattern':a0_0x96c47(0x719),'description':a0_0x96c47(0x567)}}},'required':[a0_0x96c47(0x38c),'action',a0_0x96c47(0x263)],...E('groupJid',a0_0x96c47(0x364))},Xa={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'groupJid':{'type':a0_0x96c47(0x1e4)},'expiration':{'type':a0_0x96c47(0x483),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x96c47(0x38c),'expiration'],...E(a0_0x96c47(0x38c),'expiration')},Za={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'groupJid':{'type':a0_0x96c47(0x1e4)},'image':{'type':a0_0x96c47(0x1e4)}},'required':[a0_0x96c47(0x38c),'image'],...E(a0_0x96c47(0x38c),a0_0x96c47(0x657))},eo={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'groupJid':{'type':a0_0x96c47(0x1e4)},'description':{'type':a0_0x96c47(0x1e4)}},'required':[a0_0x96c47(0x38c),a0_0x96c47(0x5cc)],...E(a0_0x96c47(0x38c),a0_0x96c47(0x5cc))},to={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'groupJid':{'type':a0_0x96c47(0x1e4)},'name':{'type':a0_0x96c47(0x1e4)}},'required':[a0_0x96c47(0x38c),a0_0x96c47(0x11a)],...E(a0_0x96c47(0x38c),'name')},so={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'groupJid':{'type':a0_0x96c47(0x1e4)},'setting':{'type':a0_0x96c47(0x1e4),'enum':['announcement',a0_0x96c47(0x157),a0_0x96c47(0x1fb),a0_0x96c47(0x3d4)]}},'required':[a0_0x96c47(0x38c),a0_0x96c47(0x21a)],...E('groupJid',a0_0x96c47(0x21a))},ao={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'groupJid':{'type':a0_0x96c47(0x1e4)},'restrict':{'type':'boolean'},'announce':{'type':a0_0x96c47(0x5a8)},'memberAddMode':{'type':a0_0x96c47(0x5a8)},'joinApprovalMode':{'type':a0_0x96c47(0x5a8)},'expiration':{'type':a0_0x96c47(0xf3),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x96c47(0x1e4)},'description':{'type':a0_0x96c47(0x1e4)},'image':{'type':a0_0x96c47(0x1e4)}}},ys={'$id':(0x0,v['v4'])(),'type':a0_0x96c47(0x645),'properties':{'inviteCode':{'type':a0_0x96c47(0x1e4)}},'required':[a0_0x96c47(0x22f)],...E('inviteCode')},oo={'$id':(0x0,v['v4'])(),'type':'object','properties':{'url':{'type':a0_0x96c47(0x1e4)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x96c47(0x65f),a0_0x96c47(0x403)]},dc={'$id':(0x0,v['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x96c47(0x5a8),'enum':[!0x0,!0x1]}},'required':['local_map',a0_0x96c47(0x12b),'QRCODE_UPDATED',a0_0x96c47(0x99),a0_0x96c47(0x693),a0_0x96c47(0x314),'SEND_MESSAGE',a0_0x96c47(0x40b),'CONTACTS_UPSERT',a0_0x96c47(0x17a),a0_0x96c47(0x439),a0_0x96c47(0x535),'CHATS_UPSERT',a0_0x96c47(0x493),a0_0x96c47(0x91),a0_0x96c47(0x183),'GROUPS_UPSERT','GROUPS_UPDATE',a0_0x96c47(0x456)],...E(a0_0x96c47(0xab),a0_0x96c47(0x12b),a0_0x96c47(0x6c7),a0_0x96c47(0x99),a0_0x96c47(0x693),a0_0x96c47(0x314),a0_0x96c47(0x165),a0_0x96c47(0x40b),a0_0x96c47(0x21b),a0_0x96c47(0x17a),a0_0x96c47(0x439),a0_0x96c47(0x535),a0_0x96c47(0x67c),a0_0x96c47(0x493),a0_0x96c47(0x91),a0_0x96c47(0x183),a0_0x96c47(0x185),a0_0x96c47(0x315),a0_0x96c47(0x456))},tt=class{},st=class extends x{[a0_0x96c47(0x320)](_0x3d7fcd){return Ys(_0x3d7fcd);}async[a0_0x96c47(0x1da)](_0x329127){const _0x5c7aa9=a0_0x96c47;if(_0x329127[_0x5c7aa9(0x1fc)]!==0x0)try{return{'insertCount':(await this[_0x5c7aa9(0x320)](_0x329127[0x0][_0x5c7aa9(0x220)])[_0x5c7aa9(0x4cf)]([..._0x329127]))[_0x5c7aa9(0x1fc)]};}catch(_0x330fd6){return _0x330fd6;}}async[a0_0x96c47(0x494)](_0x3b0366,_0x1542bf){const _0xe44655=a0_0x96c47;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x1542bf)['deleteMany']({..._0x3b0366[_0xe44655(0x5b6)]}))['deletedCount']};}catch(_0x2d602d){return{'error':_0x2d602d?.['toString']()};}}async['update'](_0x51186a,_0x3c6873){const _0x19c3f8=a0_0x96c47;try{if(_0x51186a[_0x19c3f8(0x1fc)]===0x0)return;let _0x1f13ef=this[_0x19c3f8(0x320)](_0x3c6873),_0x2b272d=_0x51186a['map'](_0x1aea5d=>({'updateOne':{'filter':{'_id':_0x1aea5d[_0x19c3f8(0x1be)],'owner':_0x3c6873},'update':{..._0x1aea5d}}})),{modifiedCount:_0x46ff27}=await _0x1f13ef[_0x19c3f8(0x80)](_0x2b272d);return{'insertCount':_0x46ff27};}catch{return;}}async['find'](_0x1c52f6,_0x45aa76){const _0x10616d=a0_0x96c47;try{let _0x11b275=this[_0x10616d(0x320)](_0x45aa76),_0x973df6=$(_0x1c52f6['where']);return await _0x11b275[_0x10616d(0xd4)](_0x973df6)[_0x10616d(0x71b)](_0x1c52f6?.[_0x10616d(0x71b)]??0x0)[_0x10616d(0x74a)]();}catch{return[];}}async[a0_0x96c47(0x732)](_0x40a551,_0x3068dd){const _0x133ff4=a0_0x96c47;try{let _0x117f63=this[_0x133ff4(0x320)](_0x3068dd),_0x236afd=$(_0x40a551[_0x133ff4(0x5b6)]);return await _0x117f63[_0x133ff4(0x732)](_0x236afd)[_0x133ff4(0x74a)]();}catch{return null;}}async[a0_0x96c47(0x2ea)](_0x519342){const _0xf5f309=a0_0x96c47;try{return await this['getContactModelForOwner'](_0x519342)[_0xf5f309(0x59d)][_0xf5f309(0x5ce)](),{'success':!0x0};}catch(_0x60ac03){return console[_0xf5f309(0xfa)](_0x60ac03),{'success':!0x1,'error':_0x60ac03};}}},at=require(a0_0x96c47(0x3e3)),Sc=require('express-async-errors'),bs=new R('Validate'),V=class{[a0_0x96c47(0x571)](_0x554c1d,_0x270bcb=!0x0){const _0x2a8fa6=a0_0x96c47;let _0x441d21='/'+_0x554c1d;return _0x270bcb&&(_0x441d21+=_0x2a8fa6(0x365)),_0x441d21;}async['dataValidate'](_0x44c91d){const _0x56e899=a0_0x96c47;let {request:_0x2ad645,schema:_0x3deb4f,ClassRef:_0x2788ad,execute:_0x419039}=_0x44c91d,_0x346d60=new _0x2788ad(),_0x2bc050=_0x2ad645[_0x56e899(0x3df)],_0x5f11df=_0x2ad645['params'];_0x2ad645?.[_0x56e899(0x628)]&&Object[_0x56e899(0x6af)](_0x2ad645[_0x56e899(0x628)])[_0x56e899(0x1fc)]>0x0&&Object['assign'](_0x5f11df,_0x2ad645['query']),_0x2ad645[_0x56e899(0x4c1)][_0x56e899(0x546)](_0x56e899(0x1e6))&&Object[_0x56e899(0x480)](_0x5f11df,_0x2bc050),Object[_0x56e899(0x480)](_0x346d60,_0x2bc050);let _0x563c91=_0x3deb4f?(0x0,at['validate'])(_0x346d60,_0x3deb4f):{'valid':!0x0,'errors':[]};if(!_0x563c91[_0x56e899(0x18a)]){let _0x241d49=_0x563c91[_0x56e899(0x357)][_0x56e899(0x504)](({property:_0x17741e,stack:_0x5d335e,schema:_0x4b196})=>{const _0x4fe3fc=_0x56e899;let _0x325144;return _0x4b196[_0x4fe3fc(0x5cc)]?_0x325144=_0x4b196[_0x4fe3fc(0x5cc)]:_0x325144=_0x5d335e[_0x4fe3fc(0x6e2)](_0x4fe3fc(0x1af),''),{'property':_0x17741e['replace'](_0x4fe3fc(0x1af),''),'message':_0x325144};});throw bs[_0x56e899(0xfa)]([..._0x241d49]),new m(..._0x241d49);}return await _0x419039(_0x5f11df,_0x346d60);}async[a0_0x96c47(0x6d0)](_0x12e988){const _0x5e0408=a0_0x96c47;let {request:_0x3efc6c,ClassRef:_0x2cff3d,schema:_0x12a49a,execute:_0x5a812d}=_0x12e988,_0x10e972=_0x3efc6c['query'];if(!_0x10e972?.[_0x5e0408(0x38c)])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query',_0x5e0408(0x519));let _0x403218=_0x3efc6c[_0x5e0408(0xc7)],_0x46f6f6=_0x3efc6c[_0x5e0408(0x3df)],_0x4d030f=new _0x2cff3d();Object[_0x5e0408(0x480)](_0x46f6f6,_0x10e972),Object[_0x5e0408(0x480)](_0x4d030f,_0x46f6f6);let _0x52d0f7=(0x0,at[_0x5e0408(0x547)])(_0x4d030f,_0x12a49a);if(!_0x52d0f7['valid']){let _0x3917fc=_0x52d0f7[_0x5e0408(0x357)][_0x5e0408(0x504)](({property:_0x18e530,stack:_0x1f6bd4,schema:_0x4b8c98})=>{const _0x28f5e6=_0x5e0408;let _0x3395ec;return _0x4b8c98[_0x28f5e6(0x5cc)]?_0x3395ec=_0x4b8c98[_0x28f5e6(0x5cc)]:_0x3395ec=_0x1f6bd4[_0x28f5e6(0x6e2)](_0x28f5e6(0x1af),''),{'property':_0x18e530['replace'](_0x28f5e6(0x1af),''),'message':_0x3395ec};});throw bs['error']([..._0x3917fc]),new m(..._0x3917fc);}return await _0x5a812d(_0x403218,_0x4d030f);}async['joinGroupValidate'](_0x4cbd72){const _0x37884a=a0_0x96c47;let {request:_0xcb8123,ClassRef:_0x4c4c56,schema:_0x718f4a,execute:_0x5ef616}=_0x4cbd72,_0x4dbe5d=_0xcb8123[_0x37884a(0x3df)];if(!_0x4dbe5d?.[_0x37884a(0x22f)])throw new m(_0x37884a(0x23f),_0x37884a(0xd1));let _0x59977a=_0xcb8123['params'],_0x1613f3=_0xcb8123[_0x37884a(0x3df)],_0x178e7e=new _0x4c4c56();Object['assign'](_0x1613f3,_0x4dbe5d),Object['assign'](_0x178e7e,_0x1613f3);let _0x55317f=(0x0,at[_0x37884a(0x547)])(_0x178e7e,_0x718f4a);if(!_0x55317f['valid']){let _0x37d99b=_0x55317f['errors'][_0x37884a(0x504)](({property:_0x2091d2,stack:_0x52b6e9,schema:_0x1e391e})=>{const _0x56a33e=_0x37884a;let _0xe7a275;return _0x1e391e[_0x56a33e(0x5cc)]?_0xe7a275=_0x1e391e[_0x56a33e(0x5cc)]:_0xe7a275=_0x52b6e9[_0x56a33e(0x6e2)](_0x56a33e(0x1af),''),{'property':_0x2091d2[_0x56a33e(0x6e2)]('instance.',''),'message':_0xe7a275};});throw bs['error']([..._0x37d99b]),new m(..._0x37d99b);}return await _0x5ef616(_0x59977a,_0x178e7e);}},C=class{},Pc=new R('ChatRouter'),ot=class extends V{constructor(..._0x16177d){const _0x2d448f=a0_0x96c47;super(),this[_0x2d448f(0x741)]=(0x0,ro[_0x2d448f(0xb9)])(),this[_0x2d448f(0x741)]['post'](this['routerPath'](_0x2d448f(0x352)),..._0x16177d,async(_0x32fb06,_0x1792e1)=>{const _0xa0a6a7=_0x2d448f;let _0x5d6ea6=await this[_0xa0a6a7(0x66f)]({'request':_0x32fb06,'schema':Ka,'ClassRef':Ge,'execute':(_0x277efa,_0x52185f)=>_['updatePresence'](_0x277efa,_0x52185f)});return _0x1792e1[_0xa0a6a7(0x275)](0xc9)[_0xa0a6a7(0x2c8)](_0x5d6ea6);})['post'](this[_0x2d448f(0x571)]('whatsappNumbers'),..._0x16177d,async(_0x83aaab,_0x45559c)=>{const _0x3eef96=_0x2d448f;let _0x559867=await this['dataValidate']({'request':_0x83aaab,'schema':Fa,'ClassRef':Be,'execute':(_0x47dec6,_0x271dca)=>_[_0x3eef96(0x597)](_0x47dec6,_0x271dca)});return _0x45559c[_0x3eef96(0x275)](0xc9)[_0x3eef96(0x2c8)](_0x559867);})[_0x2d448f(0x43a)](this['routerPath']('editChat'),..._0x16177d,async(_0x1eaba9,_0xe3e5f5)=>{const _0x2c5e97=_0x2d448f;let _0xdbb512=await this['dataValidate']({'request':_0x1eaba9,'schema':N,'ClassRef':C,'execute':(_0x490c44,_0x384f5a)=>_[_0x2c5e97(0x30a)](_0x490c44,_0x384f5a)});return _0xe3e5f5[_0x2c5e97(0x275)](0xc9)[_0x2c5e97(0x2c8)](_0xdbb512);})[_0x2d448f(0x530)](this[_0x2d448f(0x571)](_0x2d448f(0x551)),..._0x16177d,async(_0x1fb587,_0x4eaaab)=>{const _0x4f9c8d=_0x2d448f;let _0x406351=await this[_0x4f9c8d(0x66f)]({'request':_0x1fb587,'schema':Ua,'ClassRef':He,'execute':(_0x2e964b,_0x24fdf9)=>_[_0x4f9c8d(0x5b2)](_0x2e964b,_0x24fdf9)});return _0x4eaaab[_0x4f9c8d(0x275)](0xc9)[_0x4f9c8d(0x2c8)](_0x406351);})[_0x2d448f(0x530)](this[_0x2d448f(0x571)](_0x2d448f(0x735)),..._0x16177d,async(_0x2acae0,_0x410aba)=>{const _0x2b813f=_0x2d448f;let _0x4f3634=await this[_0x2b813f(0x66f)]({'request':_0x2acae0,'schema':qa,'ClassRef':Ke,'execute':(_0x1636c8,_0x3b300d)=>_[_0x2b813f(0x735)](_0x1636c8,_0x3b300d)});return _0x410aba[_0x2b813f(0x275)](0xc9)['json'](_0x4f3634);})['delete'](this[_0x2d448f(0x571)](_0x2d448f(0x423)),..._0x16177d,async(_0x465e73,_0x3725f6)=>{const _0x21d5ae=_0x2d448f;let _0x2f83c1=await this[_0x21d5ae(0x66f)]({'request':_0x465e73,'schema':Va,'ClassRef':Ye,'execute':(_0x3776e9,_0x1c2846)=>_[_0x21d5ae(0x6ae)](_0x3776e9,_0x1c2846)});return _0x3725f6[_0x21d5ae(0x275)](0xc9)[_0x21d5ae(0x2c8)](_0x2f83c1);})['post'](this[_0x2d448f(0x571)](_0x2d448f(0xc2)),..._0x16177d,async(_0x3639c2,_0x3c60cb)=>{const _0x3ccab2=_0x2d448f;let _0x45c6e1=await this[_0x3ccab2(0x66f)]({'request':_0x3639c2,'schema':ve,'ClassRef':Ee,'execute':(_0x51487a,_0x227a92)=>_[_0x3ccab2(0x6ce)](_0x51487a,_0x227a92)});return _0x3c60cb['status'](0xc8)['json'](_0x45c6e1);})[_0x2d448f(0x43a)](this['routerPath'](_0x2d448f(0x3ba)),..._0x16177d,async(_0x3dea61,_0x13c2a1)=>{const _0x7a8358=_0x2d448f;let _0x3e4ec4=await this[_0x7a8358(0x66f)]({'request':_0x3dea61,'schema':za,'ClassRef':Ee,'execute':(_0x63800d,_0xe92f34)=>_['fetchProfile'](_0x63800d,_0xe92f34)});return _0x13c2a1[_0x7a8358(0x275)](0xc8)[_0x7a8358(0x2c8)](_0x3e4ec4);})[_0x2d448f(0x43a)](this['routerPath']('findContacts'),..._0x16177d,async(_0x4fa4d1,_0x3b0a8d)=>{const _0x32b992=_0x2d448f;let _0x5a5e67=await this[_0x32b992(0x66f)]({'request':_0x4fa4d1,'schema':Ga,'ClassRef':tt,'execute':(_0x5f1867,_0x4797d8)=>_['fetchContacts'](_0x5f1867,_0x4797d8)});return _0x3b0a8d[_0x32b992(0x275)](0xc8)[_0x32b992(0x2c8)](_0x5a5e67);})[_0x2d448f(0x43a)](this['routerPath'](_0x2d448f(0x48e)),..._0x16177d,async(_0x17a332,_0x3e8114)=>{const _0x313429=_0x2d448f;let _0x52ed8a=await this[_0x313429(0x66f)]({'request':_0x17a332,'schema':null,'ClassRef':Object,'execute':(_0x112f38,_0x15bab5)=>_[_0x313429(0x48e)](_0x112f38,_0x15bab5)});return _0x3e8114[_0x313429(0x275)](0xc9)['json'](_0x52ed8a);})[_0x2d448f(0x43a)](this[_0x2d448f(0x571)](_0x2d448f(0x4dd)),..._0x16177d,async(_0x3e3a4f,_0x449d83)=>{const _0x3e1446=_0x2d448f;let _0x136123=await this[_0x3e1446(0x66f)]({'request':_0x3e3a4f,'schema':Ha,'ClassRef':qe,'execute':(_0x505a1e,_0x45b958)=>_['fetchMessages'](_0x505a1e,_0x45b958)});return _0x449d83[_0x3e1446(0x275)](0xc8)[_0x3e1446(0x2c8)](_0x136123);})['get'](this[_0x2d448f(0x571)]('findChats'),..._0x16177d,async(_0x52252c,_0x4a0d8b)=>{const _0x3a3bc5=_0x2d448f;let _0x200e6c=await this[_0x3a3bc5(0x66f)]({'request':_0x52252c,'schema':null,'ClassRef':C,'execute':_0x43d436=>_['fetchChats'](_0x43d436)});return _0x4a0d8b[_0x3a3bc5(0x275)](0xc8)[_0x3a3bc5(0x2c8)](_0x200e6c);})['get'](this[_0x2d448f(0x571)](_0x2d448f(0x74b)),..._0x16177d,async(_0x30420c,_0x3f9a14)=>{const _0x17144a=_0x2d448f;let _0x276c0c=await this[_0x17144a(0x66f)]({'request':_0x30420c,'schema':null,'ClassRef':C,'execute':_0x317a4d=>_['fetchLabels'](_0x317a4d)});return _0x3f9a14['status'](0xc8)['json'](_0x276c0c);})[_0x2d448f(0x530)](this[_0x2d448f(0x571)](_0x2d448f(0x50f)),..._0x16177d,async(_0x59e66f,_0x271984)=>{const _0xa7185b=_0x2d448f;let _0x310e96=await this[_0xa7185b(0x66f)]({'request':_0x59e66f,'schema':null,'ClassRef':Array,'execute':(_0x2faf00,_0x482b38)=>_['importChats'](_0x2faf00,_0x482b38)});return _0x271984[_0xa7185b(0x275)](0xc8)[_0xa7185b(0x2c8)](_0x310e96);})[_0x2d448f(0x763)](this[_0x2d448f(0x571)](_0x2d448f(0x518)),..._0x16177d,async(_0x452d8e,_0x194484)=>{const _0x1540e6=_0x2d448f;let _0x100331=await this[_0x1540e6(0x66f)]({'request':_0x452d8e,'schema':null,'ClassRef':C,'execute':_0x381e43=>_[_0x1540e6(0x518)](_0x381e43)});return _0x194484['status'](0xc8)[_0x1540e6(0x2c8)](_0x100331);})[_0x2d448f(0x530)](this[_0x2d448f(0x571)]('updatePrivacySettings'),..._0x16177d,async(_0x2db882,_0x3e11d2)=>{const _0x5b2d97=_0x2d448f;let _0x546eda=await this[_0x5b2d97(0x66f)]({'request':_0x2db882,'schema':Ja,'ClassRef':Qe,'execute':(_0xe8e2fe,_0x45d528)=>_[_0x5b2d97(0x435)](_0xe8e2fe,_0x45d528)});return _0x3e11d2['status'](0xc9)[_0x5b2d97(0x2c8)](_0x546eda);})[_0x2d448f(0x43a)](this[_0x2d448f(0x571)](_0x2d448f(0x213)),..._0x16177d,async(_0x3a9a33,_0x542558)=>{const _0x56583b=_0x2d448f;let _0x4153d7=await this[_0x56583b(0x66f)]({'request':_0x3a9a33,'schema':ve,'ClassRef':be,'execute':(_0x2d8961,_0x5a1da3)=>_[_0x56583b(0x213)](_0x2d8961,_0x5a1da3)});return _0x542558[_0x56583b(0x275)](0xc8)[_0x56583b(0x2c8)](_0x4153d7);})[_0x2d448f(0x43a)](this[_0x2d448f(0x571)]('updateProfileName'),..._0x16177d,async(_0x387e24,_0x281ea0)=>{const _0x2e8a37=_0x2d448f;let _0x371d68=await this[_0x2e8a37(0x66f)]({'request':_0x387e24,'schema':Ba,'ClassRef':We,'execute':(_0x4fbca5,_0x17c7bb)=>_[_0x2e8a37(0xd7)](_0x4fbca5,_0x17c7bb)});return _0x281ea0['status'](0xc8)[_0x2e8a37(0x2c8)](_0x371d68);})[_0x2d448f(0x43a)](this[_0x2d448f(0x571)](_0x2d448f(0x746)),..._0x16177d,async(_0x55b98d,_0x3ee60d)=>{const _0x2bc515=_0x2d448f;let _0x445873=await this['dataValidate']({'request':_0x55b98d,'schema':Wa,'ClassRef':ze,'execute':(_0x5028d6,_0x51dd24)=>_[_0x2bc515(0x746)](_0x5028d6,_0x51dd24)});return _0x3ee60d[_0x2bc515(0x275)](0xc8)[_0x2bc515(0x2c8)](_0x445873);})[_0x2d448f(0x530)](this[_0x2d448f(0x571)]('updateProfilePicture'),..._0x16177d,async(_0x4b1ad4,_0xa389d3)=>{const _0x521d0d=_0x2d448f;let _0x5c0c30=await this[_0x521d0d(0x66f)]({'request':_0x4b1ad4,'schema':ve,'ClassRef':be,'execute':(_0x3b386b,_0x589ccf)=>_['updateProfilePicture'](_0x3b386b,_0x589ccf)});return _0xa389d3[_0x521d0d(0x275)](0xc8)[_0x521d0d(0x2c8)](_0x5c0c30);})['delete'](this[_0x2d448f(0x571)](_0x2d448f(0x3e1)),..._0x16177d,async(_0x37fa32,_0x4d7217)=>{const _0x439955=_0x2d448f;let _0x40132e=await this['dataValidate']({'request':_0x37fa32,'schema':ve,'ClassRef':be,'execute':(_0x5a2ae2,_0x1f1e92)=>_['removeProfilePicture'](_0x5a2ae2,_0x1f1e92)});return _0x4d7217[_0x439955(0x275)](0xc8)[_0x439955(0x2c8)](_0x40132e);});}},io=require('express'),rt=class{},it=class{},nt=class{},ct=class{},lt=class{},ut=class{},X=class{},Re=class{},dt=class extends X{},pt=class extends X{},ht=class extends V{constructor(..._0x1fb3a6){const _0x2af1c3=a0_0x96c47;super(),this[_0x2af1c3(0x741)]=(0x0,io[_0x2af1c3(0xb9)])(),this[_0x2af1c3(0x741)][_0x2af1c3(0x43a)](this[_0x2af1c3(0x571)](_0x2af1c3(0x55c)),..._0x1fb3a6,async(_0x2dcad2,_0x69e5f8)=>{const _0x1cf8fa=_0x2af1c3;let _0x2b52cb=await this['dataValidate']({'request':_0x2dcad2,'schema':Qa,'ClassRef':rt,'execute':(_0x5a0e19,_0x1fd1d9)=>q[_0x1cf8fa(0x6aa)](_0x5a0e19,_0x1fd1d9)});_0x69e5f8[_0x1cf8fa(0x275)](0xc9)[_0x1cf8fa(0x2c8)](_0x2b52cb);})[_0x2af1c3(0x530)](this[_0x2af1c3(0x571)](_0x2af1c3(0x29c)),..._0x1fb3a6,async(_0x30ba82,_0x48d396)=>{const _0x4dba8a=_0x2af1c3;let _0x551e8b=await this[_0x4dba8a(0x6d0)]({'request':_0x30ba82,'schema':Za,'ClassRef':it,'execute':(_0x320987,_0x2d89d4)=>q['updateGroupPicture'](_0x320987,_0x2d89d4)});_0x48d396['status'](0xc9)['json'](_0x551e8b);})[_0x2af1c3(0x530)](this['routerPath'](_0x2af1c3(0x18f)),..._0x1fb3a6,async(_0x385b8c,_0x2ffedd)=>{const _0x1a9456=_0x2af1c3;let _0x4c8026=await this[_0x1a9456(0x6d0)]({'request':_0x385b8c,'schema':eo,'ClassRef':nt,'execute':(_0x2d5479,_0x34324b)=>q['groupDesc'](_0x2d5479,_0x34324b)});_0x2ffedd['status'](0xc9)[_0x1a9456(0x2c8)](_0x4c8026);})[_0x2af1c3(0x530)](this[_0x2af1c3(0x571)](_0x2af1c3(0x6e8)),..._0x1fb3a6,async(_0x54a9c1,_0xe8a052)=>{const _0x1faaa5=_0x2af1c3;let _0x1ad1be=await this['groupValidate']({'request':_0x54a9c1,'schema':to,'ClassRef':ct,'execute':(_0x1d2556,_0x3eb1b8)=>q[_0x1faaa5(0x6e8)](_0x1d2556,_0x3eb1b8)});_0xe8a052['status'](0xc9)[_0x1faaa5(0x2c8)](_0x1ad1be);})[_0x2af1c3(0x530)](this['routerPath'](_0x2af1c3(0x2cb)),..._0x1fb3a6,async(_0x38b9c3,_0x5153ef)=>{const _0x226103=_0x2af1c3;let _0x48fe0f=await this['groupValidate']({'request':_0x38b9c3,'schema':ao,'ClassRef':ut,'execute':(_0x428e77,_0x4b125f)=>q[_0x226103(0x2cb)](_0x428e77,_0x4b125f)});_0x5153ef[_0x226103(0x275)](0xc9)[_0x226103(0x2c8)](_0x48fe0f);})[_0x2af1c3(0x530)](this[_0x2af1c3(0x571)](_0x2af1c3(0x331)),..._0x1fb3a6,async(_0x3209f0,_0xb8de8e)=>{const _0x1bb15d=_0x2af1c3;let _0x2e8d71=await this[_0x1bb15d(0x6d0)]({'request':_0x3209f0,'schema':so,'ClassRef':lt,'execute':(_0x1d1e57,_0x11b8b7)=>q['groupSetting'](_0x1d1e57,_0x11b8b7)});_0xb8de8e['status'](0xc9)[_0x1bb15d(0x2c8)](_0x2e8d71);})[_0x2af1c3(0x530)](this['routerPath'](_0x2af1c3(0x6b4)),..._0x1fb3a6,async(_0x46a8fc,_0x3c550d)=>{const _0xaaae66=_0x2af1c3;let _0x38ae46=await this[_0xaaae66(0x6d0)]({'request':_0x46a8fc,'schema':Xa,'ClassRef':pt,'execute':(_0x39e559,_0x2da454)=>q['toggleEphemeral'](_0x39e559,_0x2da454)});_0x3c550d[_0xaaae66(0x275)](0xc9)[_0xaaae66(0x2c8)](_0x38ae46);})[_0x2af1c3(0x763)](this[_0x2af1c3(0x571)](_0x2af1c3(0x48b)),..._0x1fb3a6,async(_0x276c87,_0x18c23e)=>{const _0x22ac77=_0x2af1c3;let _0x2f3b55=await this['groupValidate']({'request':_0x276c87,'schema':Ne,'ClassRef':X,'execute':(_0x4ba092,_0x442cd8)=>q[_0x22ac77(0x2f2)](_0x4ba092,_0x442cd8)});_0x18c23e[_0x22ac77(0x275)](0xc8)[_0x22ac77(0x2c8)](_0x2f3b55);})[_0x2af1c3(0x763)](this[_0x2af1c3(0x571)]('findGroups'),..._0x1fb3a6,async(_0x4f3159,_0x5a6d9b)=>{const _0x209cb8=_0x2af1c3;let _0x2111e9=await this[_0x209cb8(0x66f)]({'request':_0x4f3159,'schema':N,'ClassRef':C,'execute':_0x2be86f=>q[_0x209cb8(0x650)](_0x2be86f)});_0x5a6d9b['status'](0xc8)[_0x209cb8(0x2c8)](_0x2111e9);})['get'](this[_0x2af1c3(0x571)](_0x2af1c3(0x263)),..._0x1fb3a6,async(_0x1557cb,_0x1de4dd)=>{const _0x52346b=_0x2af1c3;let _0x172d5b=await this[_0x52346b(0x6d0)]({'request':_0x1557cb,'schema':Ne,'ClassRef':X,'execute':(_0x5939d2,_0xb54473)=>q[_0x52346b(0x5aa)](_0x5939d2,_0xb54473)});_0x1de4dd[_0x52346b(0x275)](0xc8)[_0x52346b(0x2c8)](_0x172d5b);})[_0x2af1c3(0x763)](this[_0x2af1c3(0x571)](_0x2af1c3(0x22f)),..._0x1fb3a6,async(_0x3551e9,_0x1efdab)=>{const _0x3be990=_0x2af1c3;let _0x380e37=await this[_0x3be990(0x6d0)]({'request':_0x3551e9,'schema':Ne,'ClassRef':X,'execute':(_0x201c8f,_0x57340c)=>q[_0x3be990(0x22f)](_0x201c8f,_0x57340c)});_0x1efdab[_0x3be990(0x275)](0xc8)['json'](_0x380e37);})[_0x2af1c3(0x43a)](this[_0x2af1c3(0x571)]('inviteCodeDetails'),..._0x1fb3a6,async(_0x500856,_0x5996b2)=>{const _0x570575=_0x2af1c3;let _0x192489=await this[_0x570575(0x196)]({'request':_0x500856,'schema':ys,'ClassRef':Re,'execute':(_0x15de4a,_0x50015b)=>q['groupGetInviteInfo'](_0x15de4a,_0x50015b)});_0x5996b2[_0x570575(0x275)](0xc9)[_0x570575(0x2c8)](_0x192489);})[_0x2af1c3(0x530)](this[_0x2af1c3(0x571)](_0x2af1c3(0x22b)),..._0x1fb3a6,async(_0x4ec172,_0x531acb)=>{const _0x2b3283=_0x2af1c3;let _0x5b8d55=await this[_0x2b3283(0x196)]({'request':_0x4ec172,'schema':ys,'ClassRef':Re,'execute':(_0x5b567e,_0x22f380)=>q[_0x2b3283(0x22b)](_0x5b567e,_0x22f380)});_0x531acb[_0x2b3283(0x275)](0xc9)[_0x2b3283(0x2c8)](_0x5b8d55);})[_0x2af1c3(0x530)](this['routerPath'](_0x2af1c3(0x67f)),..._0x1fb3a6,async(_0x5e7404,_0x4fbee1)=>{const _0x194ec6=_0x2af1c3;let _0x24368a=await this['groupValidate']({'request':_0x5e7404,'schema':Ne,'ClassRef':X,'execute':(_0xb27f92,_0x28ea51)=>q[_0x194ec6(0x67f)](_0xb27f92,_0x28ea51)});_0x4fbee1['status'](0xc9)['json'](_0x24368a);})[_0x2af1c3(0x530)](this[_0x2af1c3(0x571)](_0x2af1c3(0x4c6)),..._0x1fb3a6,async(_0x222d97,_0x9d61f5)=>{const _0x41f795=_0x2af1c3;let _0x4aeb18=await this[_0x41f795(0x6d0)]({'request':_0x222d97,'schema':Ya,'ClassRef':dt,'execute':(_0x129891,_0x541063)=>q['updateGParticipate'](_0x129891,_0x541063)});_0x9d61f5[_0x41f795(0x275)](0xc9)['json'](_0x4aeb18);})[_0x2af1c3(0x494)](this[_0x2af1c3(0x571)]('leaveGroup'),..._0x1fb3a6,async(_0x477cdf,_0x184c4a)=>{const _0x564d0a=_0x2af1c3;let _0x4281e3=await this[_0x564d0a(0x6d0)]({'request':_0x477cdf,'schema':{},'ClassRef':X,'execute':(_0x57e5e1,_0x11f9f9)=>q[_0x564d0a(0x2ad)](_0x57e5e1,_0x11f9f9)});_0x184c4a['status'](0xc8)['json'](_0x4281e3);});}},no=require(a0_0x96c47(0x3fa)),gt=class extends V{constructor(_0x2c1937,..._0x1fd40b){const _0x4fcba0=a0_0x96c47;super(),this[_0x4fcba0(0x184)]=_0x2c1937,this[_0x4fcba0(0x741)]=(0x0,no[_0x4fcba0(0xb9)])();let _0x1e1a38=_0x2c1937[_0x4fcba0(0x763)](_0x4fcba0(0x72b));this[_0x4fcba0(0x741)][_0x4fcba0(0x43a)](_0x4fcba0(0x345),..._0x1fd40b,async(_0x44e89d,_0x5574d0)=>{const _0x59316c=_0x4fcba0;let {instanceName:_0x225513,apikey:_0x4dfa53,number:_0x134130}=_0x44e89d[_0x59316c(0x3df)],_0x3784ad=await ce[_0x59316c(0x46e)]({'instanceName':_0x225513,'apikey':_0x4dfa53,'number':_0x134130});return _0x5574d0['status'](0xc9)[_0x59316c(0x2c8)](_0x3784ad);})[_0x4fcba0(0x530)](this[_0x4fcba0(0x571)](_0x4fcba0(0x716)),..._0x1fd40b,async(_0x2ae5ba,_0x3cd7cc)=>{const _0x54fc48=_0x4fcba0;let _0x166f1e=await this[_0x54fc48(0x66f)]({'request':_0x2ae5ba,'schema':N,'ClassRef':C,'execute':_0x440254=>ce[_0x54fc48(0x47e)](_0x440254)});return _0x3cd7cc[_0x54fc48(0x275)](0xc8)[_0x54fc48(0x2c8)](_0x166f1e);})[_0x4fcba0(0x763)](this[_0x4fcba0(0x571)](_0x4fcba0(0x691)),..._0x1fd40b,async(_0x4bb530,_0x5e3609)=>{const _0x1e60f4=_0x4fcba0;let _0x1f8062=await this[_0x1e60f4(0x66f)]({'request':_0x4bb530,'schema':N,'ClassRef':C,'execute':_0x125ae4=>ce[_0x1e60f4(0x74c)](_0x125ae4)});return _0x5e3609[_0x1e60f4(0x275)](0xc8)['json'](_0x1f8062);})[_0x4fcba0(0x763)](this[_0x4fcba0(0x571)](_0x4fcba0(0x4d0)),..._0x1fd40b,async(_0x824ac6,_0x5b08e0)=>{const _0x316bba=_0x4fcba0;let _0x4f3e40=await this[_0x316bba(0x66f)]({'request':_0x824ac6,'schema':N,'ClassRef':C,'execute':_0x2b25f7=>ce['connectionState'](_0x2b25f7)});return _0x5b08e0['status'](0xc8)[_0x316bba(0x2c8)](_0x4f3e40);})[_0x4fcba0(0x763)](this['routerPath'](_0x4fcba0(0x37f),!0x1),..._0x1fd40b,async(_0x5e7628,_0x6f906b)=>{const _0x241237=_0x4fcba0;let _0x40d522=await this[_0x241237(0x66f)]({'request':_0x5e7628,'schema':null,'ClassRef':C,'execute':_0x426d4a=>ce[_0x241237(0x37f)](_0x426d4a)});return _0x6f906b[_0x241237(0x275)](0xc8)[_0x241237(0x2c8)](_0x40d522);})[_0x4fcba0(0x494)](this['routerPath'](_0x4fcba0(0x221)),..._0x1fd40b,async(_0x5d93e9,_0x3991d9)=>{const _0x102db4=_0x4fcba0;let _0x1b9994=await this[_0x102db4(0x66f)]({'request':_0x5d93e9,'schema':N,'ClassRef':C,'execute':_0x22a209=>ce[_0x102db4(0x221)](_0x22a209)});return _0x3991d9[_0x102db4(0x275)](0xc8)['json'](_0x1b9994);})[_0x4fcba0(0x494)](this['routerPath']('delete'),..._0x1fd40b,async(_0x2c50d0,_0x2ef7b5)=>{const _0x1906e0=_0x4fcba0;let _0x242a0a=await this[_0x1906e0(0x66f)]({'request':_0x2c50d0,'schema':N,'ClassRef':C,'execute':_0x2aa1a8=>ce[_0x1906e0(0x6fc)](_0x2aa1a8)});return _0x2ef7b5[_0x1906e0(0x275)](0xc8)[_0x1906e0(0x2c8)](_0x242a0a);});}},co=require(a0_0x96c47(0x3fa)),Ss=class{},W=class extends Ss{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},Oe=class extends W{},bt=class extends W{},St=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class{},Nt=class extends V{constructor(..._0x1c3d13){const _0x17d154=a0_0x96c47;super(),this[_0x17d154(0x741)]=(0x0,co[_0x17d154(0xb9)])(),this[_0x17d154(0x741)][_0x17d154(0x43a)](this[_0x17d154(0x571)](_0x17d154(0x40a)),..._0x1c3d13,async(_0x592a9a,_0x28e9ce)=>{const _0x5ce730=_0x17d154;let _0x541a4e=await this['dataValidate']({'request':_0x592a9a,'schema':Ra,'ClassRef':mt,'execute':(_0x559c96,_0x3c813a)=>B['sendText'](_0x559c96,_0x3c813a)});return _0x28e9ce[_0x5ce730(0x275)](0xc9)[_0x5ce730(0x2c8)](_0x541a4e);})[_0x17d154(0x43a)](this['routerPath'](_0x17d154(0x64d)),..._0x1c3d13,async(_0x265e1e,_0x50d16e)=>{const _0x2c2a6c=_0x17d154;let _0x3aa954=await this['dataValidate']({'request':_0x265e1e,'schema':Aa,'ClassRef':Oe,'execute':(_0x1ac771,_0xa71efa)=>B['sendMedia'](_0x1ac771,_0xa71efa)});return _0x50d16e['status'](0xc9)[_0x2c2a6c(0x2c8)](_0x3aa954);})[_0x17d154(0x43a)](this[_0x17d154(0x571)](_0x17d154(0xa4)),..._0x1c3d13,async(_0x238cc1,_0x5dd5b1)=>{const _0x2e8630=_0x17d154;let _0xfb5556=await this['dataValidate']({'request':_0x238cc1,'schema':Da,'ClassRef':yt,'execute':(_0x5ec3dd,_0x369e26)=>B[_0x2e8630(0xa4)](_0x5ec3dd,_0x369e26)});return _0x5dd5b1[_0x2e8630(0x275)](0xc9)[_0x2e8630(0x2c8)](_0xfb5556);})[_0x17d154(0x43a)](this[_0x17d154(0x571)](_0x17d154(0x473)),..._0x1c3d13,async(_0x1b6e7f,_0x7a8cdc)=>{const _0x1b1526=_0x17d154;let _0x32a090=await this['dataValidate']({'request':_0x1b6e7f,'schema':Ia,'ClassRef':Oe,'execute':(_0x5e5f4b,_0x59a3af)=>B[_0x1b1526(0x473)](_0x5e5f4b,_0x59a3af)});return _0x7a8cdc[_0x1b1526(0x275)](0xc9)[_0x1b1526(0x2c8)](_0x32a090);})['post'](this[_0x17d154(0x571)](_0x17d154(0x44a)),..._0x1c3d13,async(_0x319725,_0x4d33fe)=>{const _0x3cbcce=_0x17d154;let _0x2aac3a=await this['dataValidate']({'request':_0x319725,'schema':_a,'ClassRef':St,'execute':(_0x5a7036,_0x4b93ba)=>B[_0x3cbcce(0x44a)](_0x5a7036,_0x4b93ba)});return _0x4d33fe[_0x3cbcce(0x275)](0xc9)[_0x3cbcce(0x2c8)](_0x2aac3a);})[_0x17d154(0x43a)](this[_0x17d154(0x571)](_0x17d154(0x4e0)),..._0x1c3d13,async(_0x3ea228,_0x49a78b)=>{const _0x5bff2a=_0x17d154;let _0x4dbc40=await this[_0x5bff2a(0x66f)]({'request':_0x3ea228,'schema':Pa,'ClassRef':Mt,'execute':(_0x570d44,_0x3e3bdd)=>B['sendLocation'](_0x570d44,_0x3e3bdd)});return _0x49a78b[_0x5bff2a(0x275)](0xc9)[_0x5bff2a(0x2c8)](_0x4dbc40);})['post'](this[_0x17d154(0x571)]('sendList'),..._0x1c3d13,async(_0xc4589d,_0x473c38)=>{const _0x597439=_0x17d154;let _0x50ce3c=await this[_0x597439(0x66f)]({'request':_0xc4589d,'schema':ka,'ClassRef':Ct,'execute':(_0x401c1f,_0x101233)=>B[_0x597439(0x75a)](_0x401c1f,_0x101233)});return _0x473c38['status'](0xc9)['json'](_0x50ce3c);})[_0x17d154(0x43a)](this['routerPath'](_0x17d154(0x6a4)),..._0x1c3d13,async(_0x2b4b65,_0x2d1213)=>{const _0x20b152=_0x17d154;let _0x1ba9fd=await this[_0x20b152(0x66f)]({'request':_0x2b4b65,'schema':ja,'ClassRef':Et,'execute':(_0x475229,_0x52428a)=>B['sendContact'](_0x475229,_0x52428a)});return _0x2d1213['status'](0xc9)['json'](_0x1ba9fd);})[_0x17d154(0x43a)](this['routerPath'](_0x17d154(0x229)),..._0x1c3d13,async(_0x2ff5de,_0x4abfaa)=>{const _0x2153cb=_0x17d154;let _0x5459c8=await this[_0x2153cb(0x66f)]({'request':_0x2ff5de,'schema':La,'ClassRef':vt,'execute':(_0x2616c1,_0x11a042)=>B[_0x2153cb(0x229)](_0x2616c1,_0x11a042)});return _0x4abfaa[_0x2153cb(0x275)](0xc9)['json'](_0x5459c8);})['post'](this[_0x17d154(0x571)](_0x17d154(0x5d0)),..._0x1c3d13,async(_0x589389,_0xacf3f)=>{const _0x248877=_0x17d154;let _0xbff6c3=await this['dataValidate']({'request':_0x589389,'schema':xa,'ClassRef':wt,'execute':(_0x44a5ea,_0x189c3a)=>B[_0x248877(0x5d0)](_0x44a5ea,_0x189c3a)});return _0xacf3f[_0x248877(0x275)](0xc9)[_0x248877(0x2c8)](_0xbff6c3);})['post'](this[_0x17d154(0x571)](_0x17d154(0x8d)),..._0x1c3d13,async(_0x47e9e1,_0x4bccdc)=>{const _0x43e94a=_0x17d154;let _0x8ec1c9=await this[_0x43e94a(0x66f)]({'request':_0x47e9e1,'schema':$a,'ClassRef':ft,'execute':(_0x44813d,_0x128f59)=>B[_0x43e94a(0x8d)](_0x44813d,_0x128f59)});return _0x4bccdc[_0x43e94a(0x275)](0xc9)['json'](_0x8ec1c9);})['post'](this[_0x17d154(0x571)](_0x17d154(0x4f4)),..._0x1c3d13,async(_0x81b84,_0x2154bc)=>{const _0x42bd09=_0x17d154;let _0x36ea44=await this[_0x42bd09(0x66f)]({'request':_0x81b84,'schema':Ta,'ClassRef':bt,'execute':(_0x3eb8e2,_0x322fca)=>B['sendSticker'](_0x3eb8e2,_0x322fca)});return _0x2154bc['status'](0xc9)[_0x42bd09(0x2c8)](_0x36ea44);});}},lo=require(a0_0x96c47(0x3fa)),Rt=class{},Ot=class extends V{constructor(..._0x10bf43){const _0x3cab54=a0_0x96c47;super(),this[_0x3cab54(0x741)]=(0x0,lo[_0x3cab54(0xb9)])(),this['router'][_0x3cab54(0x43a)](this[_0x3cab54(0x571)](_0x3cab54(0x689)),..._0x10bf43,async(_0x504e2a,_0x55ba95)=>{const _0x3cdf36=_0x3cab54;let _0x5771a6=await this['dataValidate']({'request':_0x504e2a,'schema':oo,'ClassRef':Rt,'execute':(_0x2b0d2e,_0x50ae01)=>Ms[_0x3cdf36(0x557)](_0x2b0d2e,_0x50ae01)});_0x55ba95[_0x3cdf36(0x275)](0xc9)[_0x3cdf36(0x2c8)](_0x5771a6);})['get'](this[_0x3cab54(0x571)]('find'),..._0x10bf43,async(_0x17bd94,_0x4b5ce1)=>{const _0x2ceee6=_0x3cab54;let _0x4a5b66=await this[_0x2ceee6(0x66f)]({'request':_0x17bd94,'schema':N,'ClassRef':C,'execute':_0x47c5d7=>Ms['findWebhook'](_0x47c5d7)});_0x4b5ce1[_0x2ceee6(0x275)](0xc8)[_0x2ceee6(0x2c8)](_0x4a5b66);});}},uo=require(a0_0x96c47(0x3fa)),y=new R(a0_0x96c47(0x291)),Tt=class extends V{constructor(..._0x6154a4){const _0x371a09=a0_0x96c47;super(),this[_0x371a09(0x741)]=(0x0,uo[_0x371a09(0xb9)])(),this[_0x371a09(0x741)][_0x371a09(0x43a)](this['routerPath'](_0x371a09(0x232)),..._0x6154a4,async(_0x5f29bd,_0x22fc98)=>{const _0x12db70=_0x371a09;let _0x3388e8=_0x5f29bd[_0x12db70(0x3df)];y[_0x12db70(0x4b8)](_0x12db70(0x623)),y[_0x12db70(0x4b8)](_0x12db70(0xc1)),y[_0x12db70(0x4b8)](_0x5f29bd[_0x12db70(0x3df)]);let _0x51a1a6=await this[_0x12db70(0x66f)]({'request':_0x5f29bd,'schema':N,'ClassRef':C,'execute':_0xa0c687=>A[_0x12db70(0x297)](_0xa0c687,_0x3388e8)});_0x22fc98[_0x12db70(0x275)](0xc8)['json'](_0x51a1a6);})[_0x371a09(0x763)](this[_0x371a09(0x571)](_0x371a09(0x232)),..._0x6154a4,async(_0x558c68,_0x40be8e)=>{const _0x264310=_0x371a09;let _0x542be8=await this[_0x264310(0x66f)]({'request':_0x558c68,'schema':N,'ClassRef':C,'execute':_0x41b3fe=>A['getScheduleMessage'](_0x41b3fe)});_0x40be8e[_0x264310(0x275)](0xc8)[_0x264310(0x2c8)](_0x542be8);})[_0x371a09(0x494)](this[_0x371a09(0x571)]('deleteDoneMessages'),..._0x6154a4,async(_0x86e854,_0x555338)=>{const _0x1dbe8f=_0x371a09;y[_0x1dbe8f(0x4b8)](_0x1dbe8f(0x10e));let _0xe0145b=await this[_0x1dbe8f(0x66f)]({'request':_0x86e854,'schema':N,'ClassRef':C,'execute':_0x18b98b=>A[_0x1dbe8f(0x1f9)](_0x18b98b)});_0x555338[_0x1dbe8f(0x275)](0xc8)['json'](_0xe0145b);})[_0x371a09(0x43a)](this[_0x371a09(0x571)](_0x371a09(0x62b)),..._0x6154a4,async(_0x47b90a,_0x16238e)=>{const _0xdaeff5=_0x371a09;let _0xeb8f2b=_0x47b90a[_0xdaeff5(0x3df)];y[_0xdaeff5(0x4b8)](_0xdaeff5(0x1ba)),y[_0xdaeff5(0x4b8)](_0xdaeff5(0xc1)),y[_0xdaeff5(0x4b8)](_0x47b90a[_0xdaeff5(0x3df)]);let _0x102c35=await this[_0xdaeff5(0x66f)]({'request':_0x47b90a,'schema':N,'ClassRef':C,'execute':_0x433b33=>A[_0xdaeff5(0x62b)](_0x433b33,_0xeb8f2b)});_0x16238e['status'](0xc8)[_0xdaeff5(0x2c8)](_0x102c35);})[_0x371a09(0x763)](this[_0x371a09(0x571)](_0x371a09(0x1bb)),..._0x6154a4,async(_0x33af7e,_0x23f423)=>{const _0xad2bcc=_0x371a09;y[_0xad2bcc(0x4b8)](_0xad2bcc(0x53b));let _0x211fde=await this[_0xad2bcc(0x66f)]({'request':_0x33af7e,'schema':N,'ClassRef':C,'execute':_0x1e6ca2=>A[_0xad2bcc(0x1bb)](_0x1e6ca2)});_0x23f423[_0xad2bcc(0x275)](0xc8)[_0xad2bcc(0x2c8)](_0x211fde);})[_0x371a09(0x763)](this[_0x371a09(0x571)](_0x371a09(0x520)),..._0x6154a4,async(_0x2e6625,_0x15b40a)=>{const _0x55ee19=_0x371a09;y[_0x55ee19(0x4b8)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x25e215=await this[_0x55ee19(0x66f)]({'request':_0x2e6625,'schema':N,'ClassRef':C,'execute':_0x2f4e8a=>A['getAutomateSystem'](_0x2f4e8a)});_0x15b40a[_0x55ee19(0x275)](0xc8)[_0x55ee19(0x2c8)](_0x25e215);})[_0x371a09(0x43a)](this['routerPath'](_0x371a09(0x424)),..._0x6154a4,async(_0x3d0bde,_0x41773a)=>{const _0x25a843=_0x371a09;let _0x1e014f=_0x3d0bde[_0x25a843(0x3df)];y[_0x25a843(0x4b8)]('request\x20received\x20in\x20updateAgent'),y[_0x25a843(0x4b8)](_0x25a843(0xc1)),y['verbose'](_0x3d0bde[_0x25a843(0x3df)]);let _0x3d551c=await this[_0x25a843(0x66f)]({'request':_0x3d0bde,'schema':N,'ClassRef':C,'execute':_0x39287c=>A[_0x25a843(0x424)](_0x39287c,_0x1e014f)});_0x41773a[_0x25a843(0x275)](0xc8)[_0x25a843(0x2c8)](_0x3d551c);})[_0x371a09(0x43a)](this[_0x371a09(0x571)]('updateCustomFields'),..._0x6154a4,async(_0x5e1fe9,_0x11dd5c)=>{const _0x5339f4=_0x371a09;let _0x2fa221=_0x5e1fe9[_0x5339f4(0x3df)];y['verbose'](_0x5339f4(0x37c)),y[_0x5339f4(0x4b8)](_0x5339f4(0xc1)),y[_0x5339f4(0x4b8)](_0x5e1fe9[_0x5339f4(0x3df)]);let _0x5c938f=await this[_0x5339f4(0x66f)]({'request':_0x5e1fe9,'schema':N,'ClassRef':C,'execute':_0x4e7ffb=>A[_0x5339f4(0x740)](_0x4e7ffb,_0x2fa221)});_0x11dd5c[_0x5339f4(0x275)](0xc8)[_0x5339f4(0x2c8)](_0x5c938f);})[_0x371a09(0x43a)](this[_0x371a09(0x571)]('updateAutoCompleteMessages'),..._0x6154a4,async(_0x5a8fa1,_0x48b850)=>{const _0x4cbd31=_0x371a09;let _0x3e02de=_0x5a8fa1[_0x4cbd31(0x3df)];y[_0x4cbd31(0x4b8)](_0x4cbd31(0x2a4)),y[_0x4cbd31(0x4b8)](_0x4cbd31(0xc1)),y[_0x4cbd31(0x4b8)](_0x5a8fa1[_0x4cbd31(0x3df)]);let _0x175775=await this[_0x4cbd31(0x66f)]({'request':_0x5a8fa1,'schema':N,'ClassRef':C,'execute':_0x5a7253=>A[_0x4cbd31(0x56b)](_0x5a7253,_0x3e02de)});_0x48b850[_0x4cbd31(0x275)](0xc8)[_0x4cbd31(0x2c8)](_0x175775);})[_0x371a09(0x43a)](this[_0x371a09(0x571)](_0x371a09(0x133)),..._0x6154a4,async(_0x1e496b,_0xa57883)=>{const _0x5e0d04=_0x371a09;let _0x26ffcb=_0x1e496b[_0x5e0d04(0x3df)];y['verbose'](_0x5e0d04(0x2ae)),y[_0x5e0d04(0x4b8)](_0x5e0d04(0xc1)),y[_0x5e0d04(0x4b8)](_0x1e496b[_0x5e0d04(0x3df)]);let _0x42b297=await this[_0x5e0d04(0x66f)]({'request':_0x1e496b,'schema':N,'ClassRef':C,'execute':_0x41e843=>A[_0x5e0d04(0x133)](_0x41e843,_0x26ffcb)});_0xa57883[_0x5e0d04(0x275)](0xc8)[_0x5e0d04(0x2c8)](_0x42b297);})[_0x371a09(0x43a)](this['routerPath'](_0x371a09(0x584)),..._0x6154a4,async(_0x5caef6,_0x5efbd2)=>{const _0x16564b=_0x371a09;let _0x13cc2e=_0x5caef6[_0x16564b(0x3df)];y[_0x16564b(0x4b8)]('request\x20received\x20in\x20getConversation'),y['verbose'](_0x16564b(0xc1)),y['verbose'](_0x5caef6[_0x16564b(0x3df)]);let _0x41b402=await this[_0x16564b(0x66f)]({'request':_0x5caef6,'schema':N,'ClassRef':C,'execute':_0x45a795=>A['getConversation'](_0x45a795,_0x13cc2e)});_0x5efbd2[_0x16564b(0x275)](0xc8)['json'](_0x41b402);})[_0x371a09(0x43a)](this['routerPath'](_0x371a09(0x498)),..._0x6154a4,async(_0x2c74eb,_0x28a14c)=>{const _0x1a1a67=_0x371a09;let _0x44fa17=_0x2c74eb[_0x1a1a67(0x3df)];y[_0x1a1a67(0x4b8)](_0x1a1a67(0xfe)),y['verbose'](_0x1a1a67(0xc1)),y['verbose'](_0x2c74eb[_0x1a1a67(0x3df)]);let _0x4e8e04=await this['dataValidate']({'request':_0x2c74eb,'schema':N,'ClassRef':C,'execute':_0x38f19f=>A['fetchConversation'](_0x38f19f,_0x44fa17)});_0x28a14c[_0x1a1a67(0x275)](0xc8)[_0x1a1a67(0x2c8)](_0x4e8e04);})[_0x371a09(0x43a)](this[_0x371a09(0x571)](_0x371a09(0x637)),..._0x6154a4,async(_0x23897,_0x58a25d)=>{const _0x3a7a12=_0x371a09;let _0x32a490=_0x23897[_0x3a7a12(0x3df)];y['verbose'](_0x3a7a12(0x3c5)),y[_0x3a7a12(0x4b8)](_0x3a7a12(0xc1)),y[_0x3a7a12(0x4b8)](_0x23897[_0x3a7a12(0x3df)]);let _0x7bb595=await this[_0x3a7a12(0x66f)]({'request':_0x23897,'schema':N,'ClassRef':C,'execute':_0x2e04ee=>A[_0x3a7a12(0x637)](_0x2e04ee,_0x32a490)});_0x58a25d['status'](0xc8)['json'](_0x7bb595);})['delete'](this[_0x371a09(0x571)](_0x371a09(0x153)),..._0x6154a4,async(_0x3adec1,_0x230229)=>{const _0x91916c=_0x371a09;let _0x691874=_0x3adec1[_0x91916c(0x3df)];y[_0x91916c(0x4b8)](_0x91916c(0x4ad)),y[_0x91916c(0x4b8)](_0x91916c(0xc1)),y[_0x91916c(0x4b8)](_0x3adec1['body']);let _0x27849a=await this[_0x91916c(0x66f)]({'request':_0x3adec1,'schema':N,'ClassRef':C,'execute':_0x3beb47=>A[_0x91916c(0x153)](_0x3beb47,_0x691874)});_0x230229[_0x91916c(0x275)](0xc8)[_0x91916c(0x2c8)](_0x27849a);})['post'](this[_0x371a09(0x571)](_0x371a09(0x105)),..._0x6154a4,async(_0x335615,_0x445e5e)=>{const _0x4fa0eb=_0x371a09;let _0xc320b=_0x335615['body'],_0x27e1d5=_0x335615[_0x4fa0eb(0x16a)][_0x4fa0eb(0x388)];y[_0x4fa0eb(0x4b8)](_0x4fa0eb(0x6bf)),y[_0x4fa0eb(0x4b8)](_0x4fa0eb(0xc1)),y[_0x4fa0eb(0x4b8)](_0x335615['body']);let _0x501ed8=await this[_0x4fa0eb(0x66f)]({'request':_0x335615,'schema':N,'ClassRef':C,'execute':_0x2268fc=>A[_0x4fa0eb(0x6c5)](_0x2268fc,_0xc320b,_0x27e1d5)});_0x445e5e[_0x4fa0eb(0x275)](0xc8)[_0x4fa0eb(0x2c8)](_0x501ed8);})['post'](this['routerPath'](_0x371a09(0x305)),..._0x6154a4,async(_0x2f0918,_0x5d7df7)=>{const _0xce0e99=_0x371a09;let _0xc6f41=_0x2f0918[_0xce0e99(0x3df)],_0xebb169=_0x2f0918[_0xce0e99(0x16a)][_0xce0e99(0x388)];y[_0xce0e99(0x4b8)](_0xce0e99(0x341)),y[_0xce0e99(0x4b8)](_0xce0e99(0xc1)),y['verbose'](_0x2f0918[_0xce0e99(0x3df)]),delete _0xc6f41[_0xce0e99(0x190)],delete _0xc6f41['variables'],delete _0xc6f41[_0xce0e99(0x1c2)],delete _0xc6f41[_0xce0e99(0x2ee)];let _0x456a31=await this['dataValidate']({'request':_0x2f0918,'schema':N,'ClassRef':C,'execute':_0x2182ec=>A[_0xce0e99(0x4da)](_0x2182ec,_0xc6f41,_0xebb169)});_0x5d7df7[_0xce0e99(0x275)](0xc8)['json'](_0x456a31);})[_0x371a09(0x43a)](this[_0x371a09(0x571)](_0x371a09(0x2a5)),..._0x6154a4,async(_0x7d0b24,_0x1ff627)=>{const _0x41cbc1=_0x371a09;let _0x1f9f8b=_0x7d0b24[_0x41cbc1(0x3df)],_0x3be83d=_0x7d0b24[_0x41cbc1(0x16a)][_0x41cbc1(0x388)];y[_0x41cbc1(0x4b8)]('request\x20received\x20in\x20editFlow'),y[_0x41cbc1(0x4b8)](_0x41cbc1(0xc1)),y[_0x41cbc1(0x4b8)](_0x7d0b24[_0x41cbc1(0x3df)]);let _0x210c7d=await this[_0x41cbc1(0x66f)]({'request':_0x7d0b24,'schema':N,'ClassRef':C,'execute':_0x49194e=>A['editFlowBlock'](_0x49194e,_0x1f9f8b,_0x3be83d)});_0x1ff627['status'](0xc8)[_0x41cbc1(0x2c8)](_0x210c7d);})[_0x371a09(0x43a)](this[_0x371a09(0x571)]('editflowreply'),..._0x6154a4,async(_0x1ba5ce,_0x5076bc)=>{const _0x398cf2=_0x371a09;let _0x2c2bb4=_0x1ba5ce[_0x398cf2(0x3df)],_0x245399=_0x1ba5ce[_0x398cf2(0x16a)][_0x398cf2(0x388)];y[_0x398cf2(0x4b8)]('request\x20received\x20in\x20editFlow'),y[_0x398cf2(0x4b8)](_0x398cf2(0xc1)),y[_0x398cf2(0x4b8)](_0x1ba5ce[_0x398cf2(0x3df)]);let _0x47c338=await this[_0x398cf2(0x66f)]({'request':_0x1ba5ce,'schema':N,'ClassRef':C,'execute':_0x24ccf3=>A[_0x398cf2(0x235)](_0x24ccf3,_0x2c2bb4,_0x245399)});_0x5076bc[_0x398cf2(0x275)](0xc8)[_0x398cf2(0x2c8)](_0x47c338);})[_0x371a09(0x43a)](this[_0x371a09(0x571)](_0x371a09(0x516)),..._0x6154a4,async(_0x3410f7,_0x1e768b)=>{const _0xc4f5ac=_0x371a09;let _0x41a5e0=_0x3410f7[_0xc4f5ac(0x3df)],_0x2e8d6b=_0x3410f7[_0xc4f5ac(0x16a)][_0xc4f5ac(0x388)];y[_0xc4f5ac(0x4b8)](_0xc4f5ac(0x341)),y['verbose'](_0xc4f5ac(0xc1)),y['verbose'](_0x3410f7[_0xc4f5ac(0x3df)]);let _0x45231e=await this[_0xc4f5ac(0x66f)]({'request':_0x3410f7,'schema':N,'ClassRef':C,'execute':_0x4de189=>A[_0xc4f5ac(0x20a)](_0x4de189,_0x41a5e0,_0x2e8d6b)});_0x1e768b[_0xc4f5ac(0x275)](0xc8)[_0xc4f5ac(0x2c8)](_0x45231e);})[_0x371a09(0x43a)](this['routerPath'](_0x371a09(0x353)),..._0x6154a4,async(_0x2c419c,_0x198ec8)=>{const _0x3d7222=_0x371a09;let _0x4db609=_0x2c419c[_0x3d7222(0x3df)],_0x2f2682=_0x2c419c['headers']['apikey'];y[_0x3d7222(0x4b8)](_0x3d7222(0x462)),y[_0x3d7222(0x4b8)](_0x3d7222(0xc1)),y[_0x3d7222(0x4b8)](_0x2c419c[_0x3d7222(0x3df)]);let _0x2dcca9=await this[_0x3d7222(0x66f)]({'request':_0x2c419c,'schema':N,'ClassRef':C,'execute':_0x488fb3=>A[_0x3d7222(0x4a4)](_0x488fb3,_0x4db609,_0x2f2682)});_0x198ec8['status'](0xc8)[_0x3d7222(0x2c8)](_0x2dcca9);})[_0x371a09(0x43a)](this['routerPath'](_0x371a09(0x135)),..._0x6154a4,async(_0x17349a,_0x5b726c)=>{const _0x47de2c=_0x371a09;let _0x5bee91=_0x17349a[_0x47de2c(0x3df)],_0x59e5c0=_0x17349a['headers'][_0x47de2c(0x388)];y[_0x47de2c(0x4b8)](_0x47de2c(0xb4)),y[_0x47de2c(0x4b8)]('request\x20body:\x20'),y[_0x47de2c(0x4b8)](_0x17349a[_0x47de2c(0x3df)]);let _0x54b79b=await this['dataValidate']({'request':_0x17349a,'schema':N,'ClassRef':C,'execute':_0x5cc415=>A[_0x47de2c(0x6f9)](_0x5cc415,_0x5bee91,_0x59e5c0)});_0x5b726c['status'](0xc8)[_0x47de2c(0x2c8)](_0x54b79b);})[_0x371a09(0x43a)](this['routerPath'](_0x371a09(0x241)),..._0x6154a4,async(_0x4b89cc,_0x33af5c)=>{const _0x1fbdd8=_0x371a09;let _0x536b4a=_0x4b89cc[_0x1fbdd8(0x3df)],_0x542ee7=_0x4b89cc['headers'][_0x1fbdd8(0x388)];y[_0x1fbdd8(0x4b8)](_0x1fbdd8(0x49f)),y[_0x1fbdd8(0x4b8)]('request\x20body:\x20'),y[_0x1fbdd8(0x4b8)](_0x4b89cc[_0x1fbdd8(0x3df)]);let _0x48e23b=await this[_0x1fbdd8(0x66f)]({'request':_0x4b89cc,'schema':N,'ClassRef':C,'execute':_0x148432=>A[_0x1fbdd8(0x45f)](_0x148432,_0x536b4a,_0x542ee7)});_0x33af5c[_0x1fbdd8(0x275)](0xc8)[_0x1fbdd8(0x2c8)](_0x48e23b);})[_0x371a09(0x43a)](this[_0x371a09(0x571)]('getflow'),..._0x6154a4,async(_0x30eaa6,_0x519d36)=>{const _0x4a9ff7=_0x371a09;let _0x15e99b=_0x30eaa6['body'];y[_0x4a9ff7(0x4b8)](_0x4a9ff7(0x712)),y[_0x4a9ff7(0x4b8)](_0x4a9ff7(0xc1)),y['verbose'](_0x30eaa6['body']);let _0x1ca25b=await this['dataValidate']({'request':_0x30eaa6,'schema':N,'ClassRef':C,'execute':_0x1259e5=>A[_0x4a9ff7(0x20c)](_0x1259e5,_0x15e99b)});_0x519d36[_0x4a9ff7(0x275)](0xc8)['json'](_0x1ca25b);})[_0x371a09(0x494)](this[_0x371a09(0x571)]('deleteflow'),..._0x6154a4,async(_0x5ec8cd,_0x37d53f)=>{const _0x3ef197=_0x371a09;let _0x1d9a73=_0x5ec8cd[_0x3ef197(0x3df)],_0x24f16c=_0x5ec8cd[_0x3ef197(0x16a)]['apikey'];y['verbose']('request\x20received\x20in\x20deleteFlow'),y['verbose'](_0x3ef197(0xc1)),y['verbose'](_0x5ec8cd[_0x3ef197(0x3df)]);let _0x8261c1=await this[_0x3ef197(0x66f)]({'request':_0x5ec8cd,'schema':N,'ClassRef':C,'execute':_0x49bc52=>A[_0x3ef197(0x32f)](_0x49bc52,_0x1d9a73,_0x24f16c)});_0x37d53f[_0x3ef197(0x275)](0xc8)[_0x3ef197(0x2c8)](_0x8261c1);})[_0x371a09(0x763)](this[_0x371a09(0x571)]('allflows'),..._0x6154a4,async(_0x5b8b91,_0x346bc8)=>{const _0x332c22=_0x371a09;y[_0x332c22(0x4b8)]('request\x20received\x20in\x20allFlows');let _0x3a0588=await this[_0x332c22(0x66f)]({'request':_0x5b8b91,'schema':N,'ClassRef':C,'execute':_0x4f546b=>A[_0x332c22(0x346)](_0x4f546b)});_0x346bc8[_0x332c22(0x275)](0xc8)[_0x332c22(0x2c8)](_0x3a0588);});}},mo=T(require('path')),Z={};function po(_0x48f931,_0x2b0a33,_0x176087,_0x5924){Z[_0x48f931]||(Z[_0x48f931]={}),Z[_0x48f931][_0x2b0a33]={'id':_0x2b0a33,'response':_0x176087,'events':_0x5924};}function ho(_0x272b54,_0x519fc2){!Z[_0x272b54]||!Z[_0x272b54][_0x519fc2]||delete Z[_0x272b54][_0x519fc2];}function U(_0x421608,_0x1d953f,_0x3d1302){const _0x2c0535=a0_0x96c47;if(!Z[_0x421608])return;let _0x46110c=_0x2c0535(0xa9)+JSON[_0x2c0535(0x2bf)](_0x3d1302)+'\x0a\x0a';Object['values'](Z[_0x421608])['forEach'](_0x594853=>{const _0x46e7ad=_0x2c0535;_0x594853[_0x46e7ad(0x4de)]['includes'](_0x1d953f)&&_0x594853[_0x46e7ad(0x59b)][_0x46e7ad(0x295)](_0x46110c);});}function go(){const _0x2d1aae=a0_0x96c47;let _0x5bc52e={};for(let _0x395c7b in Z)_0x5bc52e[_0x395c7b]=Object[_0x2d1aae(0x35a)](Z[_0x395c7b])['map'](_0x4f0f7e=>({'id':_0x4f0f7e['id'],'events':_0x4f0f7e[_0x2d1aae(0x4de)]}));return _0x5bc52e;}var fo=require('uuid'),Es=require(a0_0x96c47(0x53a)),Cs=class{},yr=new Es[(a0_0x96c47(0x137))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),br=new Es[(a0_0x96c47(0x137))]({'_id':{'type':String,'default':a0_0x96c47(0x6c0)},'WebhookGlobal':{'type':yr},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Se=O?.[a0_0x96c47(0x265)](Cs[a0_0x96c47(0x11a)],br,a0_0x96c47(0x6dd)),Sr=mo[a0_0x96c47(0x5ef)][a0_0x96c47(0x34a)](__dirname,a0_0x96c47(0x747)),At=(0x0,$t[a0_0x96c47(0xb9)])(),Mr=b['get'](a0_0x96c47(0x72b))[a0_0x96c47(0x442)],ae=[Ma,Ca,Na[Mr]];At[a0_0x96c47(0x2f4)](a0_0x96c47(0xe6),$t[a0_0x96c47(0x5ef)][a0_0x96c47(0x3b9)](Sr))['get'](a0_0x96c47(0x545),async(_0x5db75e,_0x1d0b43)=>{const _0x4bbc5c=a0_0x96c47;console['log'](_0x4bbc5c(0x4a9));let _0x1593b7=_0x5db75e[_0x4bbc5c(0xc7)][_0x4bbc5c(0x6ba)],_0x255213=(_0x5db75e[_0x4bbc5c(0x628)][_0x4bbc5c(0x4de)]||'')[_0x4bbc5c(0x620)](','),_0x5f2a0f=(0x0,fo['v4'])();console[_0x4bbc5c(0x2cf)](_0x4bbc5c(0x436),_0x1593b7),console['log'](_0x4bbc5c(0x387),_0x255213);let _0x5dc36b=b[_0x4bbc5c(0x763)](_0x4bbc5c(0x72b))[_0x4bbc5c(0x155)],_0x269632=_0x5db75e[_0x4bbc5c(0x628)][_0x4bbc5c(0x388)];if(console[_0x4bbc5c(0x2cf)](_0x4bbc5c(0x452),_0x269632),_0x5dc36b[_0x4bbc5c(0x283)]!==_0x269632){console['log'](_0x4bbc5c(0x764));try{let _0x162f55=await de['auth']['find'](_0x1593b7);if(console[_0x4bbc5c(0x2cf)](_0x4bbc5c(0x3cc),_0x162f55),!_0x162f55||_0x162f55[_0x4bbc5c(0x388)]!==_0x269632)return console['log'](_0x4bbc5c(0x449)),_0x1d0b43[_0x4bbc5c(0x275)](0x191)[_0x4bbc5c(0x1a4)]('API\x20Key\x20inválida.');}catch(_0x4df698){return console[_0x4bbc5c(0xfa)](_0x4bbc5c(0x55e),_0x4df698),_0x1d0b43[_0x4bbc5c(0x275)](0x191)[_0x4bbc5c(0x1a4)](_0x4bbc5c(0x47a));}}if(!await Xe(_0x1593b7))return _0x1d0b43[_0x4bbc5c(0x275)](0x194)[_0x4bbc5c(0x1a4)](_0x4bbc5c(0x333));_0x1d0b43[_0x4bbc5c(0x2da)](_0x4bbc5c(0x646),'text/event-stream'),_0x1d0b43[_0x4bbc5c(0x2da)](_0x4bbc5c(0x82),_0x4bbc5c(0x308)),_0x1d0b43[_0x4bbc5c(0x2da)](_0x4bbc5c(0x1a7),_0x4bbc5c(0x60c)),_0x1d0b43[_0x4bbc5c(0x2ce)]();let _0x200da6='data:\x20'+JSON[_0x4bbc5c(0x2bf)]({'info':_0x4bbc5c(0x3c1)})+'\x0a\x0a';_0x1d0b43[_0x4bbc5c(0x295)](_0x200da6),po(_0x1593b7,_0x5f2a0f,_0x1d0b43,_0x255213),_0x5db75e['on'](_0x4bbc5c(0x30e),()=>{const _0x143cb1=_0x4bbc5c;console['log'](_0x143cb1(0x6da)+_0x1593b7),ho(_0x1593b7,_0x5f2a0f);});}),At[a0_0x96c47(0x763)](a0_0x96c47(0x335),(_0xb6e651,_0x547850)=>{let _0x3aac6a=go();_0x547850['json'](_0x3aac6a);})[a0_0x96c47(0x763)]('/',(_0x506d2e,_0xf467da)=>{const _0x5b6e83=a0_0x96c47;let _0x573471=b[_0x5b6e83(0x763)](_0x5b6e83(0x32e))[_0x5b6e83(0x210)];if(_0x573471){let _0x39a897=encodeURIComponent(''+_0x573471);_0xf467da['redirect'](_0x5b6e83(0x38d)+_0x39a897);return;}let _0x4478c5=b['get'](_0x5b6e83(0x696)),_0x1f7f50=_0x4478c5&&_0x4478c5['FULLCHAIN'][_0x5b6e83(0x620)]('/')[0x4];if(_0x1f7f50){let _0x33552a=encodeURIComponent(_0x5b6e83(0x1e2)+_0x1f7f50);_0xf467da[_0x5b6e83(0x559)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x33552a);}else _0xf467da[_0x5b6e83(0x559)](_0x5b6e83(0x5b9));})[a0_0x96c47(0x530)](a0_0x96c47(0xa1),...ae,async(_0x4bc9a1,_0x14dd9f)=>{const _0x3ca181=a0_0x96c47;try{console[_0x3ca181(0x2cf)](_0x3ca181(0x3cd)),_0x14dd9f[_0x3ca181(0x275)](0xc8)['json']({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x14dd9f['on'](_0x3ca181(0xa7),()=>process[_0x3ca181(0x687)](0x0));}catch(_0x558455){console['error']('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x558455),_0x14dd9f['status'](0x1f4)[_0x3ca181(0x2c8)]({'message':_0x3ca181(0x527)});}})[a0_0x96c47(0x530)](a0_0x96c47(0x555),...ae,async(_0x19f2be,_0x3e4288)=>{const _0x451828=a0_0x96c47;try{let _0x273af7=_0x19f2be['body'];await Se[_0x451828(0x481)]({},{'$set':_0x273af7},{'upsert':!0x0});let _0x185bc0=await Se[_0x451828(0x732)]();_0x3e4288[_0x451828(0x2c8)](_0x185bc0);}catch(_0x2536d3){_0x3e4288[_0x451828(0x275)](0x190)[_0x451828(0x1a4)](_0x2536d3['message']);}})['get'](a0_0x96c47(0x555),...ae,async(_0x2c87a0,_0x30062d)=>{const _0x140ab3=a0_0x96c47;try{let _0x285d0c=await Se[_0x140ab3(0x732)]();if(!_0x285d0c)return _0x30062d[_0x140ab3(0x2c8)]({});_0x30062d[_0x140ab3(0x2c8)](_0x285d0c);}catch(_0x44406c){_0x30062d[_0x140ab3(0x275)](0x1f4)['send'](_0x44406c[_0x140ab3(0x416)]);}})[a0_0x96c47(0x2f4)](a0_0x96c47(0x1f3),new gt(b,...ae)['router'])[a0_0x96c47(0x2f4)]('/message',new Nt(...ae)['router'])[a0_0x96c47(0x2f4)](a0_0x96c47(0x6b0),new ot(...ae)['router'])[a0_0x96c47(0x2f4)](a0_0x96c47(0x4db),new ht(...ae)['router'])[a0_0x96c47(0x2f4)](a0_0x96c47(0x1f4),new Ot(...ae)['router'])[a0_0x96c47(0x2f4)](a0_0x96c47(0x211),new Tt(...ae)[a0_0x96c47(0x741)]);var m=class{constructor(..._0x279184){const _0x255219=a0_0x96c47;throw{'status':0x190,'error':_0x255219(0x113),'message':_0x279184['length']>0x0?_0x279184:void 0x0};}},se=class{constructor(..._0x4a71ca){const _0x1971dd=a0_0x96c47;throw{'status':0x191,'error':_0x1971dd(0x57a),'message':_0x4a71ca[_0x1971dd(0x1fc)]>0x0?_0x4a71ca:void 0x0};}},Q=class{constructor(..._0x14af12){const _0xa70cb=a0_0x96c47;throw{'status':0x193,'error':'Forbidden','message':_0x14af12[_0xa70cb(0x1fc)]>0x0?_0x14af12:void 0x0};}},J=class{constructor(..._0x58de9c){const _0x5ec22e=a0_0x96c47;throw{'status':0x194,'error':'Not\x20Found','message':_0x58de9c[_0x5ec22e(0x1fc)]>0x0?_0x58de9c:void 0x0};}},I=class{constructor(..._0x276ed5){const _0x5ae655=a0_0x96c47;throw{'status':0x1f4,'error':'Internal\x20Server\x20Error','message':_0x276ed5[_0x5ae655(0x1fc)]>0x0?_0x276ed5:void 0x0};}},pe=require(a0_0x96c47(0x32d));async function vs(_0x5a55b8){const _0x1c3989=a0_0x96c47;let _0xa30b6c=new R(vs[_0x1c3989(0x11a)]),_0x59d155=O[_0x1c3989(0x72a)](),_0xe34bc9=_0x59d155['db'](b[_0x1c3989(0x763)](_0x1c3989(0x337))[_0x1c3989(0x59c)][_0x1c3989(0xe2)]+_0x1c3989(0x16e))[_0x1c3989(0x59d)](_0x5a55b8),_0x469bff=async(_0x2c2054,_0x4ec7da)=>{const _0x486e12=_0x1c3989;try{return await _0x59d155['connect'](),await _0xe34bc9[_0x486e12(0x583)]({'_id':_0x4ec7da},JSON['parse'](JSON['stringify'](_0x2c2054,pe[_0x486e12(0x168)]['replacer'])),{'upsert':!0x0});}catch{}},_0x4dc267=async _0x55d458=>{const _0x10d6ca=_0x1c3989;try{await _0x59d155[_0x10d6ca(0x691)]();let _0x597e90=await _0xe34bc9[_0x10d6ca(0x732)]({'_id':_0x55d458}),_0x54c40c=JSON[_0x10d6ca(0x2bf)](_0x597e90);return JSON[_0x10d6ca(0x3a8)](_0x54c40c,pe[_0x10d6ca(0x168)][_0x10d6ca(0x5bf)]);}catch{}},_0x2a4d9d=async _0xba30fa=>{const _0x4318af=_0x1c3989;try{return await _0x59d155[_0x4318af(0x691)](),await _0xe34bc9[_0x4318af(0x259)]({'_id':_0xba30fa});}catch{}},_0x12586a=await _0x4dc267(_0x1c3989(0x319))||(0x0,pe['initAuthCreds'])();return{'state':{'creds':_0x12586a,'keys':{'get':async(_0x57ca28,_0x232de9)=>{const _0x5d8b19=_0x1c3989;let _0x4e03e={};return await Promise[_0x5d8b19(0x710)](_0x232de9[_0x5d8b19(0x504)](async _0xb142f=>{const _0x22ce05=_0x5d8b19;let _0x458c72=await _0x4dc267(_0x57ca28+'-'+_0xb142f);_0x57ca28===_0x22ce05(0x52c)&&_0x458c72&&(_0x458c72=pe['proto']['Message']['AppStateSyncKeyData'][_0x22ce05(0x737)](_0x458c72)),_0x4e03e[_0xb142f]=_0x458c72;})),_0x4e03e;},'set':async _0x4f38f5=>{const _0x328de5=_0x1c3989;let _0x5194a6=[];for(let _0x44a250 in _0x4f38f5)for(let _0x5c8c0e in _0x4f38f5[_0x44a250]){let _0x35e0ac=_0x4f38f5[_0x44a250][_0x5c8c0e],_0x48493a=_0x44a250+'-'+_0x5c8c0e;_0x5194a6['push'](_0x35e0ac?_0x469bff(_0x35e0ac,_0x48493a):_0x2a4d9d(_0x48493a));}await Promise[_0x328de5(0x710)](_0x5194a6);}}},'saveCreds':async()=>_0x469bff(_0x12586a,'creds')};}var $s=T(require(a0_0x96c47(0x50d))),As=T(require(a0_0x96c47(0x1d4))),Dt=require('@whiskeysockets/baileys'),wo=require(a0_0x96c47(0x497)),xt=require('@whiskeysockets/baileys'),It;function Cr(_0x3f2fa3){const _0x1c88cc=a0_0x96c47;return It||(It=(0x0,wo[_0x1c88cc(0x652)])({'url':_0x3f2fa3['URI']}),It['connect']()),It;}var le=class c{constructor(_0x30d2b8,_0x1802c2){const _0x51d45b=a0_0x96c47;this[_0x51d45b(0x3bd)]=_0x30d2b8,this[_0x51d45b(0x5ec)]=_0x1802c2,this[_0x51d45b(0x438)]=new R(c[_0x51d45b(0x11a)]),this[_0x51d45b(0x10d)]=Cr(_0x30d2b8);}set[a0_0x96c47(0x124)](_0x433d4b){const _0x5c7bf3=a0_0x96c47;this[_0x5c7bf3(0x5ec)]=_0x433d4b;}async[a0_0x96c47(0x607)](){const _0x3af2c3=a0_0x96c47;try{return await this['client']['sendCommand']([_0x3af2c3(0x6af),this[_0x3af2c3(0x3bd)]['PREFIX_KEY']+':*']);}catch(_0x1eb1df){this['logger']['error'](_0x1eb1df);}}async[a0_0x96c47(0x46f)](_0x19719c,_0x3b36dc){const _0x3e50fc=a0_0x96c47;try{let _0xb03613=JSON[_0x3e50fc(0x2bf)](_0x3b36dc,xt[_0x3e50fc(0x168)][_0x3e50fc(0x496)]);return await this['client']['hSet'](this['redisEnv'][_0x3e50fc(0x5a9)]+':'+this[_0x3e50fc(0x5ec)],_0x19719c,_0xb03613);}catch(_0x1e6f5b){this[_0x3e50fc(0x438)][_0x3e50fc(0xfa)](_0x1e6f5b);}}async[a0_0x96c47(0xd9)](){const _0x1d36da=a0_0x96c47;try{let _0x198ab9=await this[_0x1d36da(0x10d)][_0x1d36da(0x3be)](this['redisEnv'][_0x1d36da(0x5a9)]+':'+this[_0x1d36da(0x5ec)]);if(_0x198ab9){for(let _0x751079 in _0x198ab9)Object[_0x1d36da(0x334)][_0x1d36da(0x6fb)][_0x1d36da(0x149)](_0x198ab9,_0x751079)&&(_0x198ab9[_0x751079]=JSON[_0x1d36da(0x3a8)](_0x198ab9[_0x751079],xt[_0x1d36da(0x168)]['reviver']));return _0x198ab9;}}catch(_0x56d529){this[_0x1d36da(0x438)][_0x1d36da(0xfa)](_0x56d529);}}async[a0_0x96c47(0x44f)](_0x1d0667){const _0x56573d=a0_0x96c47;try{let _0x4796ff=await this[_0x56573d(0x10d)][_0x56573d(0x489)](this['redisEnv'][_0x56573d(0x5a9)]+':'+this['instanceName'],_0x1d0667);if(_0x4796ff)return JSON[_0x56573d(0x3a8)](_0x4796ff,xt[_0x56573d(0x168)][_0x56573d(0x5bf)]);}catch(_0x39913a){this[_0x56573d(0x438)][_0x56573d(0xfa)](_0x39913a);}}async['removeData'](_0x1d5951){const _0x530601=a0_0x96c47;try{return await this[_0x530601(0x10d)][_0x530601(0x4ca)](this[_0x530601(0x3bd)][_0x530601(0x5a9)]+':'+this[_0x530601(0x5ec)],_0x1d5951);}catch(_0x28db5f){this[_0x530601(0x438)][_0x530601(0xfa)](_0x28db5f);}}async['delAll'](_0x3be8ab){const _0x4bdb89=a0_0x96c47;try{return await this[_0x4bdb89(0x10d)][_0x4bdb89(0x569)](_0x3be8ab||this[_0x4bdb89(0x3bd)]['PREFIX_KEY']+':'+this[_0x4bdb89(0x5ec)]);}catch(_0xff68e){this[_0x4bdb89(0x438)][_0x4bdb89(0xfa)](_0xff68e);}}};async function Ns(_0x15584c,_0x15ef62){const _0x4a5e46=a0_0x96c47;let _0x30800c=new R(Ns[_0x4a5e46(0x11a)]),_0x3b8e3b=new le(_0x15584c,_0x15ef62),_0xceba9c=async(_0x21a747,_0x4cf1a6)=>{const _0x16e8f3=_0x4a5e46;try{return await _0x3b8e3b[_0x16e8f3(0x46f)](_0x4cf1a6,_0x21a747);}catch(_0x25cb86){return _0x30800c[_0x16e8f3(0xfa)]({'localError':_0x16e8f3(0x46f),'error':_0x25cb86});}},_0x4e5b4f=async _0x18fa96=>{const _0x4d968d=_0x4a5e46;try{return await _0x3b8e3b[_0x4d968d(0x44f)](_0x18fa96);}catch(_0x52b98c){_0x30800c[_0x4d968d(0xfa)]({'readData':_0x4d968d(0x46f),'error':_0x52b98c});return;}},_0x338df4=async _0x4d10b7=>{const _0x423119=_0x4a5e46;try{return await _0x3b8e3b[_0x423119(0x522)](_0x4d10b7);}catch(_0xd00449){_0x30800c[_0x423119(0xfa)]({'readData':_0x423119(0x522),'error':_0xd00449});}},_0x3e1248=await _0x4e5b4f('creds')||(0x0,Dt[_0x4a5e46(0x682)])();return{'state':{'creds':_0x3e1248,'keys':{'get':async(_0x254e95,_0x38e2da)=>{const _0x299a3a=_0x4a5e46;let _0x444d4c={};return await Promise[_0x299a3a(0x710)](_0x38e2da[_0x299a3a(0x504)](async _0x431475=>{const _0x5ddbd7=_0x299a3a;let _0x33a254=await _0x4e5b4f(_0x254e95+'-'+_0x431475);_0x254e95==='app-state-sync-key'&&_0x33a254&&(_0x33a254=Dt[_0x5ddbd7(0x3a0)][_0x5ddbd7(0x48c)]['AppStateSyncKeyData']['fromObject'](_0x33a254)),_0x444d4c[_0x431475]=_0x33a254;})),_0x444d4c;},'set':async _0x5bfdda=>{const _0x7cfd2d=_0x4a5e46;let _0x31d7c4=[];for(let _0x40e03d in _0x5bfdda)for(let _0x13c82c in _0x5bfdda[_0x40e03d]){let _0x11eee3=_0x5bfdda[_0x40e03d][_0x13c82c],_0x2bfc9a=_0x40e03d+'-'+_0x13c82c;_0x31d7c4[_0x7cfd2d(0xc0)](_0x11eee3?await _0xceba9c(_0x11eee3,_0x2bfc9a):await _0x338df4(_0x2bfc9a));}await Promise[_0x7cfd2d(0x710)](_0x31d7c4);}}},'saveCreds':async()=>await _0xceba9c(_0x3e1248,_0x4a5e46(0x319))};}var j=T(require('fs')),jt=require('uuid'),Lt=T(require(a0_0x96c47(0x47c))),Ft=require(a0_0x96c47(0x742)),Er=a0_0x96c47(0x5a0)[a0_0x96c47(0x379)](),_t=Er[a0_0x96c47(0x620)]('\x0a')[a0_0x96c47(0x504)](_0x5b6131=>{const _0xf1b7ce=a0_0x96c47;let _0x2d726d=_0x5b6131[_0xf1b7ce(0x620)](':'),_0x3d89a9={'host':_0x2d726d[0x0],'port':_0x2d726d[0x1],'protocol':_0xf1b7ce(0xd0)};return _0x2d726d[_0xf1b7ce(0x1fc)]===0x4&&(_0x3d89a9[_0xf1b7ce(0x208)]=_0x2d726d[0x2],_0x3d89a9[_0xf1b7ce(0x11d)]=_0x2d726d[0x3]),_0x3d89a9;});function yo(_0x11fb16){const _0x283c10=a0_0x96c47;return _t[_0x283c10(0xd4)](_0x147297=>_0x147297[_0x283c10(0x4c2)]===_0x11fb16)||null;}function bo(){const _0x23c5d7=a0_0x96c47;if(_t[_0x23c5d7(0x1fc)]===0x0)return null;let _0x96e2df=Math[_0x23c5d7(0x707)](Math[_0x23c5d7(0x1aa)]()*_t[_0x23c5d7(0x1fc)]);return _t[_0x96e2df];}function Rs(_0x18c11b){const _0x3203ff=a0_0x96c47;let _0x197bf2=_0x4b817a=>typeof _0x4b817a==_0x3203ff(0x1e4)&&_0x4b817a[_0x3203ff(0x1fc)]>0x0,_0x47bfb1=_0x450567=>{let _0x25bbb0=parseInt(_0x450567,0xa);return!isNaN(_0x25bbb0)&&_0x25bbb0>0x0&&_0x25bbb0<=0xffff;},_0x37ae22=_0x190e31=>typeof _0x190e31==_0x3203ff(0x1e4)&&_0x190e31[_0x3203ff(0x1fc)]>0x0;return _0x18c11b&&_0x197bf2(_0x18c11b['host'])&&_0x47bfb1(_0x18c11b[_0x3203ff(0x3e0)])&&(!_0x18c11b['username']||_0x37ae22(_0x18c11b[_0x3203ff(0x208)]))&&(!_0x18c11b[_0x3203ff(0x11d)]||_0x37ae22(_0x18c11b[_0x3203ff(0x11d)]))&&(_0x18c11b[_0x3203ff(0x16d)]==='http'||_0x18c11b[_0x3203ff(0x16d)]==='https');}var Ut=require('crypto'),Is=a0_0x96c47(0x705),No,ue=null,So=null,et=null,vr=0x3,Nr=null,ee=b[a0_0x96c47(0x763)](a0_0x96c47(0x72b))['API_KEY'][a0_0x96c47(0x283)];async function Rr(){const _0x5005f6=a0_0x96c47;let _0x3f41ea=await Se['findOne']();ue=_0x3f41ea?.['WebhookGlobal']??null,Nr=_0x3f41ea?.[_0x5005f6(0x576)]??null,Is=_0x3f41ea?.['connectedClient']??'Safari',No=_0x3f41ea?.[_0x5005f6(0x521)]??xs??_0x5005f6(0x5bd),console[_0x5005f6(0x2cf)](_0x3f41ea);}async function Or(){await Rr();}Or();var Mo={},oe={},Me=class c{constructor(_0x491b30,_0x2cb874,_0x234b24){const _0x29a32e=a0_0x96c47;this[_0x29a32e(0x184)]=_0x491b30,this['eventEmitter']=_0x2cb874,this[_0x29a32e(0xc4)]=_0x234b24,this[_0x29a32e(0x4d2)]=null,this[_0x29a32e(0x438)]=new R(c[_0x29a32e(0x11a)]),this[_0x29a32e(0x6ba)]={},this[_0x29a32e(0x278)]={},this[_0x29a32e(0x729)]={'state':_0x29a32e(0x30e)},this['storePath']=(0x0,F['join'])(ne,_0x29a32e(0x747)),this[_0x29a32e(0x5e3)]=new As[(_0x29a32e(0x5ef))](),this[_0x29a32e(0x409)]=new As[(_0x29a32e(0x5ef))](),this['endSession']=!0x1,this[_0x29a32e(0x1e3)]={'status.instance':_0x29a32e(0x754),'connection.update':_0x29a32e(0x754),'qrcode.updated':_0x29a32e(0x4f9),'messages.upsert':'/wa-message','send.message':_0x29a32e(0x395),'messages.update':'/wa-message-update','group.upsert':'/wa-groups','group.update':_0x29a32e(0xf4),'group-participants.update':_0x29a32e(0xf4),'messages.set':_0x29a32e(0x68a),'contacts.set':_0x29a32e(0x720),'contacts.upsert':_0x29a32e(0x720),'contacts.update':'/wa-contacts','presence.update':'/wa-presence','chats.set':_0x29a32e(0x260),'chats.update':_0x29a32e(0x260),'chats.upsert':_0x29a32e(0x260),'chats.delete':_0x29a32e(0x260)},this[_0x29a32e(0x225)]=0x0,this[_0x29a32e(0x14a)]=[],this[_0x29a32e(0x98)]=0xa,this[_0x29a32e(0x49d)]=0xea60,this[_0x29a32e(0x1b1)]=!0x1,this[_0x29a32e(0x6a3)]={'chats.upsert':async(_0x233106,_0x19c645)=>{const _0x5f3135=_0x29a32e;let _0x570b7b=[];for await(let _0x116fb3 of _0x233106)_0x570b7b[_0x5f3135(0xc0)]({'_id':_0x116fb3['id'],'owner':this[_0x5f3135(0x6ba)][_0x5f3135(0x3e5)],'group':_0x116fb3['id'][_0x5f3135(0x464)](_0x5f3135(0x690)),'name':_0x116fb3['name']||_0x116fb3[_0x5f3135(0x5cd)]||null,'contactname':null,'lastmsg':_0x116fb3[_0x5f3135(0x6f6)]&&_0x116fb3[_0x5f3135(0x6f6)]['toString']()[_0x5f3135(0x1fc)]<0xd?_0x116fb3['conversationTimestamp']*0x3e8:_0x116fb3[_0x5f3135(0x6f6)]||null,'archived':_0x116fb3[_0x5f3135(0x596)]||!0x1,'unreadcount':_0x116fb3[_0x5f3135(0x301)]||0x0,'ephemeralExpiration':_0x116fb3['ephemeralExpiration']||0x0});this[_0x5f3135(0x3c6)]('chats.upsert',_0x570b7b);},'chats.update':async(_0xda7f79,_0x588c0d)=>{const _0xf17d54=_0x29a32e;for(let _0x565b32 of _0xda7f79){let _0x4a85ac={'_id':_0x565b32['id'],'owner':this[_0xf17d54(0x6ba)]['wuid'],'archived':_0x565b32[_0xf17d54(0x596)],'muteEndTime':_0x565b32['muteEndTime'],'ephemeralExpiration':_0x565b32['ephemeralExpiration']},_0x7f6373=!0x1,_0xb2552c={};_0x4a85ac[_0xf17d54(0x596)]!=null&&(this[_0xf17d54(0x438)][_0xf17d54(0x4b8)](this[_0xf17d54(0x5ec)]+'\x20('+this['instance'][_0xf17d54(0x3e5)]+_0xf17d54(0x592)+_0x565b32['id']+_0xf17d54(0x163)+_0x565b32['archived']),_0x7f6373=!0x0,_0xb2552c[_0xf17d54(0x596)]=_0x565b32['archived']),'muteEndTime'in _0x565b32&&(this[_0xf17d54(0x438)]['verbose'](this[_0xf17d54(0x5ec)]+'\x20('+this['instance'][_0xf17d54(0x3e5)]+'):\x20teve\x20mudanças\x20chat.muteEndTime:\x20'+_0x565b32['id']+_0xf17d54(0x163)+(_0x565b32[_0xf17d54(0x93)]??'0')),_0x7f6373=!0x0,_0xb2552c[_0xf17d54(0x93)]=_0x565b32['muteEndTime']??0x0),_0xf17d54(0x6eb)in _0x565b32&&(this[_0xf17d54(0x438)]['verbose'](this[_0xf17d54(0x5ec)]+'\x20('+this['instance'][_0xf17d54(0x3e5)]+'):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20'+_0x565b32['id']+_0xf17d54(0x163)+(_0x565b32[_0xf17d54(0x6eb)]!==void 0x0?_0x565b32['ephemeralExpiration']:_0xf17d54(0x161))),_0xb2552c[_0xf17d54(0x6eb)]=_0x565b32[_0xf17d54(0x6eb)]===null?0x0:_0x565b32[_0xf17d54(0x6eb)],_0x7f6373=!0x0);let _0x3c080a;_0x7f6373&&(_0x3c080a=await this[_0xf17d54(0xc4)]['chat']['updateOne']({'where':{'_id':_0x565b32['id']}},_0xb2552c,this[_0xf17d54(0x6ba)][_0xf17d54(0x3e5)])),_0x3c080a&&U(this[_0xf17d54(0x5ec)],'chats',{'chat':_0x3c080a});}},'chats.delete':async _0x100860=>{const _0x3210b9=_0x29a32e;for(let _0x2f8b9b of _0x100860)if(_0x2f8b9b[_0x3210b9(0x464)](_0x3210b9(0x690))){await this[_0x3210b9(0xc4)][_0x3210b9(0x129)][_0x3210b9(0x494)]({'where':{'_id':_0x2f8b9b}},this[_0x3210b9(0x6ba)][_0x3210b9(0x3e5)]);let _0xdbe1de={'where':{'key':{'remoteJid':_0x2f8b9b}}};await this['repository']['message'][_0x3210b9(0x494)](_0xdbe1de,this['instance'][_0x3210b9(0x3e5)]);}else{await this[_0x3210b9(0xc4)][_0x3210b9(0x129)][_0x3210b9(0x481)]({'where':{'_id':_0x2f8b9b}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x3210b9(0x6ba)][_0x3210b9(0x3e5)]);let _0x45cb98={'where':{'key':{'remoteJid':_0x2f8b9b}}};await this[_0x3210b9(0xc4)][_0x3210b9(0x416)]['delete'](_0x45cb98,this['instance'][_0x3210b9(0x3e5)]);}this[_0x3210b9(0x3c6)](_0x3210b9(0x1c8),[..._0x100860]);}},this[_0x29a32e(0x5c6)]={'contacts.upsert':async(_0x212caf,_0x2d678c)=>{const _0x3f6f2a=_0x29a32e;let _0x1bd624=await this[_0x3f6f2a(0xc4)][_0x3f6f2a(0x6e1)][_0x3f6f2a(0xd4)]({'where':{}},this['instance']['wuid']),_0x22b715=[];for await(let _0x22318f of _0x212caf)_0x1bd624[_0x3f6f2a(0xd4)](_0x157ebc=>_0x157ebc[_0x3f6f2a(0x1be)]===_0x22318f['id'])||_0x22b715[_0x3f6f2a(0xc0)]({'_id':_0x22318f['id'],'pushName':_0x22318f?.['name']||_0x22318f?.[_0x3f6f2a(0xe3)],'owner':this[_0x3f6f2a(0x6ba)]['wuid']});this[_0x3f6f2a(0x3c6)](_0x3f6f2a(0x561),_0x22b715),await this[_0x3f6f2a(0xc4)]['contact']['insert'](_0x22b715);},'contacts.update':async(_0x45a312,_0x13afb1)=>{const _0x5a7400=_0x29a32e;let _0x573bb2=[];for await(let _0x2ad310 of _0x45a312)_0x573bb2[_0x5a7400(0xc0)]({'_id':_0x2ad310['id'],'pushName':_0x2ad310?.[_0x5a7400(0x11a)]??_0x2ad310?.[_0x5a7400(0xe3)],'owner':this[_0x5a7400(0x6ba)][_0x5a7400(0x3e5)]});this[_0x5a7400(0x3c6)](_0x5a7400(0x65c),_0x573bb2);}},this[_0x29a32e(0x48d)]={'messaging-history.set':async({messages:_0x476f29,chats:_0x192268,isLatest:_0x4da49f},_0x789560)=>{const _0x1df082=_0x29a32e;if(_0x4da49f){let _0x4bdc8b=await Promise[_0x1df082(0x710)](_0x192268['map'](async _0x3ecf6e=>({'_id':_0x3ecf6e['id'],'owner':this[_0x1df082(0x6ba)]['wuid'],'group':_0x3ecf6e['id'][_0x1df082(0x464)]('@g.us'),'name':_0x3ecf6e['name']||_0x3ecf6e[_0x1df082(0x5cd)]||_0x3ecf6e[_0x1df082(0x208)]||null,'contactname':null,'lastmsg':_0x3ecf6e['conversationTimestamp']&&_0x3ecf6e[_0x1df082(0x6f6)]['toString']()[_0x1df082(0x1fc)]<0xd?_0x3ecf6e[_0x1df082(0x6f6)]*0x3e8:_0x3ecf6e[_0x1df082(0x6f6)]||null,'archived':_0x3ecf6e[_0x1df082(0x596)]||!0x1,'unreadcount':_0x3ecf6e[_0x1df082(0x301)]||0x0,'ephemeralExpiration':_0x3ecf6e[_0x1df082(0x6eb)]||0x0,'muteEndTime':_0x3ecf6e['muteEndTime']||0x0})));this[_0x1df082(0x3c6)](_0x1df082(0xae),_0x4bdc8b),await this[_0x1df082(0x2d5)](_0x4bdc8b,_0x789560);}let _0x521d72=[],_0x109a1a=Date[_0x1df082(0x35c)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x23071a]of Object['entries'](_0x476f29)){if(_0x23071a[_0x1df082(0x416)]?.[_0x1df082(0x734)]||_0x23071a[_0x1df082(0x416)]?.[_0x1df082(0x267)]||!_0x23071a[_0x1df082(0x416)]||_0x23071a[_0x1df082(0x570)]['remoteJid']===_0x1df082(0x174)||($s[_0x1df082(0x5ef)][_0x1df082(0x394)](_0x23071a?.[_0x1df082(0x1cf)])&&(_0x23071a[_0x1df082(0x1cf)]=_0x23071a['messageTimestamp']?.['toNumber']()),_0x23071a[_0x1df082(0x1cf)]&&_0x23071a['messageTimestamp'][_0x1df082(0x5f2)]()[_0x1df082(0x1fc)]<0xd&&(_0x23071a['messageTimestamp']=_0x23071a[_0x1df082(0x1cf)]*0x3e8),_0x23071a[_0x1df082(0x1cf)]<_0x109a1a))continue;let _0xf6e96d=(0x0,f['normalizeMessageContent'])(_0x23071a[_0x1df082(0x416)]),_0x5ab415=(0x0,f['getContentType'])(_0xf6e96d),{message_normalized:_0x33e063}=this[_0x1df082(0x64c)](_0xf6e96d,_0x5ab415,null);Object['keys'](_0x33e063)['length']>0x0&&_0x521d72[_0x1df082(0xc0)]({'_id':_0x23071a['key']['id'],'key':_0x23071a[_0x1df082(0x570)],'pushName':_0x23071a['pushName'],'participant':_0x23071a[_0x1df082(0x552)],'message':_0xf6e96d,'messageType':_0x5ab415,'message_normalized':{'key':_0x23071a[_0x1df082(0x570)],'pushName':_0x23071a[_0x1df082(0x29b)],'messageTimestamp':_0x23071a['messageTimestamp'],..._0x33e063},'messageTimestamp':_0x23071a['messageTimestamp'],'owner':this[_0x1df082(0x6ba)]['wuid']});}_0x789560[_0x1df082(0x330)]&&_0x521d72[_0x1df082(0x1fc)]>0x0&&(this[_0x1df082(0x438)][_0x1df082(0x4b8)](this[_0x1df082(0x5ec)]+'\x20('+this[_0x1df082(0x6ba)][_0x1df082(0x3e5)]+_0x1df082(0x1ef)+_0x521d72['length']+_0x1df082(0x4b6)+this[_0x1df082(0x6ba)][_0x1df082(0x3e5)]+_0x1df082(0x359)),await this[_0x1df082(0xc4)][_0x1df082(0x416)][_0x1df082(0x1da)]([..._0x521d72],this['instance'][_0x1df082(0x3e5)])),this[_0x1df082(0x3c6)](_0x1df082(0x23c),[..._0x521d72]),_0x476f29=void 0x0;},'messages.upsert':async({messages:_0x171a2d,type:_0x1f698b},_0x51d4cb)=>{const _0x6c5323=_0x29a32e;let _0x48cefe=_0x171a2d[0x0],_0xfdfc2=_0x48cefe[_0x6c5323(0x570)]['id'],_0x284570=_0x48cefe[_0x6c5323(0x413)]===0x2,_0x441ffb=0xb;if(this['localWebhook']?.['groups_ignore']&&_0x48cefe['key']['remoteJid'][_0x6c5323(0x546)](_0x6c5323(0x690))){this[_0x6c5323(0x438)][_0x6c5323(0x4b8)](this['instanceName']+'\x20('+this[_0x6c5323(0x6ba)][_0x6c5323(0x3e5)]+_0x6c5323(0x619));return;}if(_0x284570){if(oe[_0xfdfc2]||(oe[_0xfdfc2]=0x0),oe[_0xfdfc2]++,this['logger'][_0x6c5323(0xfa)](this[_0x6c5323(0x5ec)]+'\x20('+this[_0x6c5323(0x6ba)]['wuid']+_0x6c5323(0x1eb)+_0x48cefe[_0x6c5323(0x570)]['remoteJid']+_0x6c5323(0x6b7)+_0xfdfc2+':\x20'+oe[_0xfdfc2]+'/'+_0x441ffb),oe[_0xfdfc2]>=_0x441ffb){this[_0x6c5323(0x438)][_0x6c5323(0xfa)](this[_0x6c5323(0x5ec)]+'\x20('+this[_0x6c5323(0x6ba)][_0x6c5323(0x3e5)]+'):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x48cefe[_0x6c5323(0x570)][_0x6c5323(0x101)]+_0x6c5323(0x6b7)+_0xfdfc2+'.');let _0x63c7ed={'key':{..._0x48cefe[_0x6c5323(0x570)]},'message':{'conversation':_0x6c5323(0x641)+_0xfdfc2+_0x6c5323(0x29e)}};this[_0x6c5323(0x10d)]['ev'][_0x6c5323(0x26e)](_0x6c5323(0x5df),{'messages':[_0x63c7ed],'type':'notify'}),delete oe[_0xfdfc2];}}else oe[_0xfdfc2]&&(this[_0x6c5323(0x438)]['warn'](_0x6c5323(0xaa)+oe[_0xfdfc2]+_0x6c5323(0x3d9)+_0x48cefe[_0x6c5323(0x570)][_0x6c5323(0x101)]+_0x6c5323(0x6b7)+_0xfdfc2),delete oe[_0xfdfc2]);if(_0x1f698b!==_0x6c5323(0x4a2)||!_0x48cefe?.[_0x6c5323(0x416)]||_0x48cefe[_0x6c5323(0x416)]?.[_0x6c5323(0x734)]||_0x48cefe[_0x6c5323(0x416)][_0x6c5323(0x267)]||_0x48cefe[_0x6c5323(0x570)][_0x6c5323(0x101)]===_0x6c5323(0x174))return;let _0x4aeaa6=null,_0x5241ea=null;try{_0x4aeaa6=await this[_0x6c5323(0x145)](_0x48cefe),_0x5241ea=_0x4aeaa6?_0x4aeaa6[_0x6c5323(0x34a)](','):null;}catch(_0x2625de){this['logger'][_0x6c5323(0x4b8)](this[_0x6c5323(0x5ec)]+'\x20('+this['instance'][_0x6c5323(0x3e5)]+_0x6c5323(0x1ef)+(_0x2625de instanceof Error?_0x2625de['message']:JSON[_0x6c5323(0x2bf)](_0x2625de,null,0x2))),_0x5241ea=_0x6c5323(0x4bc);}this[_0x6c5323(0x10d)][_0x6c5323(0x28e)](_0x6c5323(0x73b)),$s[_0x6c5323(0x5ef)][_0x6c5323(0x394)](_0x48cefe[_0x6c5323(0x1cf)])&&(_0x48cefe[_0x6c5323(0x1cf)]=_0x48cefe['messageTimestamp']?.['toNumber']()),_0x48cefe['messageTimestamp']&&_0x48cefe[_0x6c5323(0x1cf)][_0x6c5323(0x5f2)]()[_0x6c5323(0x1fc)]<0xd&&(_0x48cefe['messageTimestamp']=_0x48cefe[_0x6c5323(0x1cf)]*0x3e8);let _0x12f216=_0x48cefe['message'],_0x506b0e=(0x0,f['normalizeMessageContent'])(_0x12f216),_0x324ef2=(0x0,f['getContentType'])(_0x506b0e),{messageContent:_0x2b73c2,message_normalized:_0x58edbf}=this[_0x6c5323(0x64c)](_0x506b0e,_0x324ef2,_0x5241ea);_0x324ef2===_0x6c5323(0x734)&&_0x2b73c2?.[_0x6c5323(0x5a7)]&&(_0x324ef2=_0x6c5323(0x5a7));let _0x14cf8d,_0x3a2829=_0x48cefe[_0x6c5323(0x570)][_0x6c5323(0x101)][_0x6c5323(0x464)](_0x6c5323(0x690));if(_0x48cefe[_0x6c5323(0x570)]['fromMe'])_0x14cf8d=this[_0x6c5323(0x6ba)][_0x6c5323(0x3dc)];else{let _0x34e0b5=_0x3a2829?_0x48cefe[_0x6c5323(0x570)][_0x6c5323(0x552)]:_0x48cefe[_0x6c5323(0x570)]['remoteJid'];_0x14cf8d=(await this[_0x6c5323(0x74e)](_0x34e0b5,_0x48cefe['pushName'],!0x1))[_0x6c5323(0x286)][_0x6c5323(0x709)];}let _0x2c84c7={'_id':_0x48cefe[_0x6c5323(0x570)]['id'],'key':_0x48cefe[_0x6c5323(0x570)],'isGroup':_0x3a2829,'profilePictureUrl':_0x14cf8d,'pushName':_0x48cefe[_0x6c5323(0x29b)],'message':_0x506b0e,'messageType':_0x324ef2,'message_normalized':{'key':_0x48cefe[_0x6c5323(0x570)],'pushName':_0x48cefe[_0x6c5323(0x29b)],'messageTimestamp':_0x48cefe[_0x6c5323(0x1cf)],'source':(0x0,f[_0x6c5323(0x4c4)])(_0x48cefe['key']['id']),..._0x58edbf},'messageTimestamp':_0x48cefe[_0x6c5323(0x1cf)],'owner':this[_0x6c5323(0x6ba)][_0x6c5323(0x3e5)],'source':(0x0,f[_0x6c5323(0x4c4)])(_0x48cefe[_0x6c5323(0x570)]['id']),'expiration':_0x2b73c2?.[_0x6c5323(0x3a5)]?.[_0x6c5323(0x6c9)]||0x0};_0x2b73c2||(console[_0x6c5323(0xfa)](_0x6c5323(0x5e4)),this[_0x6c5323(0x438)]['error'](_0x2c84c7)),this['logger'][_0x6c5323(0x2cf)](this[_0x6c5323(0x5ec)]+'\x20('+this[_0x6c5323(0x6ba)][_0x6c5323(0x3e5)]+'):\x20'+(_0x2c84c7[_0x6c5323(0x570)]?.[_0x6c5323(0x4ba)]?_0x6c5323(0x72e):_0x6c5323(0x19d))+'\x20['+_0x2c84c7[_0x6c5323(0x570)]?.[_0x6c5323(0x101)][_0x6c5323(0x6e2)]('@s.whatsapp.net','')+_0x6c5323(0x3a1)+_0x2c84c7[_0x6c5323(0x5ff)]+')'),_0x2c84c7[_0x6c5323(0x172)]?.['text']&&this[_0x6c5323(0x438)]['log'](_0xfdfc2+':\x20'+_0x2c84c7[_0x6c5323(0x172)]?.[_0x6c5323(0x68c)]),await this[_0x6c5323(0xc4)][_0x6c5323(0x416)][_0x6c5323(0x1da)]([_0x2c84c7],this[_0x6c5323(0x6ba)]['wuid']),this[_0x6c5323(0x3c6)](_0x6c5323(0x5df),_0x2c84c7),U(this[_0x6c5323(0x5ec)],'messages',{'message':_0x2c84c7}),_0x48cefe[_0x6c5323(0x570)][_0x6c5323(0x101)]!==_0x6c5323(0x174)&&await this[_0x6c5323(0x2ba)](_0x51d4cb,_0x2c84c7,_0x6c5323(0x314));},'messages.update':async(_0x569472,_0x22046d)=>{const _0x2a1d99=_0x29a32e;let _0x59fa55={0x0:_0x2a1d99(0x391),0x1:_0x2a1d99(0x405),0x2:'SERVER_ACK',0x3:_0x2a1d99(0x4ab),0x4:'READ',0x5:_0x2a1d99(0x470)};for await(let {key:_0x591030,update:_0x218cfd}of _0x569472){if(this['localWebhook']?.['groups_ignore']&&_0x591030[_0x2a1d99(0x101)][_0x2a1d99(0x546)](_0x2a1d99(0x690))){this[_0x2a1d99(0x438)][_0x2a1d99(0x4b8)](this[_0x2a1d99(0x5ec)]+'\x20('+this[_0x2a1d99(0x6ba)]['wuid']+_0x2a1d99(0x463));return;}if(_0x591030[_0x2a1d99(0x101)]!==_0x2a1d99(0x174)){let _0x3a051a=Date[_0x2a1d99(0x35c)](),_0x2891da;_0x218cfd['message']===null&&_0x218cfd[_0x2a1d99(0x275)]===void 0x0?_0x2891da=_0x2a1d99(0xf5):_0x2891da=_0x59fa55[_0x218cfd[_0x2a1d99(0x275)]];let _0x1c176f=_0x591030[_0x2a1d99(0x101)]['replace'](/:\d{1,2}@/g,'@'),_0x2f543f={..._0x591030,'remoteJid':_0x1c176f,'status':_0x2891da,'datetime':_0x3a051a,'owner':this['instance'][_0x2a1d99(0x3e5)]};this['sendDataWebhook'](_0x2a1d99(0x683),_0x2f543f),await this[_0x2a1d99(0x63f)](_0x591030,_0x2f543f);}}},'labels.association':async({type:_0x1868b7,association:_0x4f0b25})=>{const _0x536777=_0x29a32e;if(_0x4f0b25['type']==='label_jid'){let _0xffd2b4,_0x1d1000=0x0;for(;!_0xffd2b4&&_0x1d1000<this[_0x536777(0x26a)];)_0xffd2b4=await this['repository'][_0x536777(0x129)][_0x536777(0x732)]({'where':{'_id':_0x4f0b25['chatId']}},this[_0x536777(0x6ba)]['wuid']),_0xffd2b4||(_0x1d1000++,this[_0x536777(0x438)][_0x536777(0x5f7)](this['instanceName']+'\x20('+this['instance'][_0x536777(0x3e5)]+_0x536777(0x536)+_0x4f0b25[_0x536777(0x65a)]+_0x536777(0x66d)+this[_0x536777(0x371)]+'ms\x20(tentativa\x20'+_0x1d1000+'/'+this[_0x536777(0x26a)]+')'),await this[_0x536777(0x65e)](this['delayChatLabel_RETRY_DELAY_MS']));if(!_0xffd2b4){console[_0x536777(0xfa)](_0x536777(0x708)+_0x4f0b25[_0x536777(0x65a)]+_0x536777(0x660)+this[_0x536777(0x26a)]+_0x536777(0x714));return;}switch(_0x1868b7){case _0x536777(0x179):console[_0x536777(0x2cf)](_0x4f0b25),await this['repository'][_0x536777(0x129)][_0x536777(0x481)]({'where':{'_id':_0x4f0b25[_0x536777(0x65a)]}},{'leadInfo.etiquetas':_0x4f0b25[_0x536777(0x594)]},this['instance'][_0x536777(0x3e5)],void 0x0,'$addToSet');break;case _0x536777(0x31c):console[_0x536777(0x2cf)](_0x4f0b25),await this[_0x536777(0xc4)][_0x536777(0x129)][_0x536777(0x481)]({'where':{'_id':_0x4f0b25[_0x536777(0x65a)]}},{'leadInfo.etiquetas':_0x4f0b25[_0x536777(0x594)]},this[_0x536777(0x6ba)][_0x536777(0x3e5)],void 0x0,'$pull');break;default:console[_0x536777(0xfa)](_0x536777(0xb8)+_0x1868b7+']');}}},'labels.edit':async _0x4a75fa=>{const _0x384617=_0x29a32e;if(!_0x4a75fa||!_0x4a75fa['id']){console[_0x384617(0xfa)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x4a75fa[_0x384617(0x70a)]){let _0x29c824=[_0x384617(0x102),'#64c4ff','#fed428',_0x384617(0xbb),_0x384617(0x2d4),'#56ccb4','#fe9dfe',_0x384617(0x386),_0x384617(0x271),_0x384617(0x244),_0x384617(0x64f),'#ffc5c7',_0x384617(0x5c5),_0x384617(0x1d0),_0x384617(0x474),_0x384617(0x119),_0x384617(0x6e5),'#b4ebff',_0x384617(0x75e),_0x384617(0x322)],_0x3cad05;typeof _0x4a75fa[_0x384617(0x573)]==_0x384617(0x483)&&_0x4a75fa[_0x384617(0x573)]>=0x0&&_0x4a75fa[_0x384617(0x573)]<_0x29c824[_0x384617(0x1fc)]?_0x3cad05=_0x29c824[_0x4a75fa[_0x384617(0x573)]]:(console[_0x384617(0xfa)](_0x384617(0x318),_0x4a75fa['color']),_0x3cad05=_0x384617(0x329));let _0x2705dc={'_id':_0x4a75fa['id'],'colorHex':_0x3cad05,'color':_0x4a75fa?.[_0x384617(0x573)],'name':_0x4a75fa?.[_0x384617(0x11a)],'owner':this['instance']['wuid']};await this[_0x384617(0xc4)]['label'][_0x384617(0x481)]({'where':{'_id':_0x4a75fa['id']}},_0x2705dc,this[_0x384617(0x6ba)][_0x384617(0x3e5)]),this[_0x384617(0x438)][_0x384617(0x5f7)](this[_0x384617(0x5ec)]+'\x20('+this['instance'][_0x384617(0x3e5)]+_0x384617(0x392)+_0x4a75fa);}_0x4a75fa[_0x384617(0x70a)]&&(await this[_0x384617(0xc4)][_0x384617(0x33d)][_0x384617(0x494)]({'where':{'_id':_0x4a75fa['id']}},this[_0x384617(0x6ba)][_0x384617(0x3e5)]),this[_0x384617(0x438)][_0x384617(0x5f7)](_0x384617(0x6b5)+_0x4a75fa['id']));}},this[_0x29a32e(0x1f8)]={'groups.upsert':async _0x51b624=>{const _0x1a7818=_0x29a32e;this['localWebhook']?.['groups_ignore']||this[_0x1a7818(0x3c6)]('groups.upsert',_0x51b624);for(let _0x3940ef of _0x51b624)await this[_0x1a7818(0x306)](_0x3940ef);},'groups.update':async _0x56ea4a=>{const _0x1ba39d=_0x29a32e;this[_0x1ba39d(0x278)]?.['groups_ignore']||this[_0x1ba39d(0x3c6)](_0x1ba39d(0x643),_0x56ea4a);for(let _0x5aaeea of _0x56ea4a)await this[_0x1ba39d(0x306)](_0x5aaeea);},'group-participants.update':async _0x596477=>{const _0x48215e=_0x29a32e;this[_0x48215e(0x278)]?.['groups_ignore']||this[_0x48215e(0x3c6)](_0x48215e(0x457),_0x596477),await this[_0x48215e(0x5c4)](_0x596477);}},this[_0x29a32e(0x26a)]=0x5,this[_0x29a32e(0x371)]=0x1388,this[_0x29a32e(0x145)]=async _0x4027e0=>{const _0x163ace=_0x29a32e;if(_0x4027e0['message']?.[_0x163ace(0x58c)]){let _0x33934f=await this[_0x163ace(0x2f5)](_0x4027e0['message'][_0x163ace(0x58c)][_0x163ace(0x20d)],!0x0);if(_0x33934f){let _0x2163b7=_0x33934f[_0x163ace(0x570)]['fromMe']?this[_0x163ace(0x6ba)][_0x163ace(0x3e5)]+_0x163ace(0x5da):_0x33934f[_0x163ace(0x570)][_0x163ace(0x552)]||_0x33934f[_0x163ace(0x570)][_0x163ace(0x101)],_0x1c7e7d=_0x33934f['key']['id'],_0x2fdf29=_0x33934f[_0x163ace(0x416)],_0x4b1c4e=Buffer[_0x163ace(0x5b0)](_0x2fdf29['messageContextInfo']['messageSecret'][_0x163ace(0x5f2)](_0x163ace(0x3a4)),_0x163ace(0x3a4)),_0x3a15ae=(0x0,f[_0x163ace(0x1fa)])(_0x4027e0[_0x163ace(0x416)][_0x163ace(0x58c)]['vote'],{'pollCreatorJid':_0x2163b7,'pollMsgId':_0x1c7e7d,'pollEncKey':_0x4b1c4e,'voterJid':_0x4027e0['key']['fromMe']?this[_0x163ace(0x6ba)][_0x163ace(0x3e5)]+_0x163ace(0x5da):_0x4027e0[_0x163ace(0x570)][_0x163ace(0x101)][_0x163ace(0x464)]('g.us')?_0x4027e0[_0x163ace(0x570)][_0x163ace(0x552)]:_0x4027e0['key'][_0x163ace(0x101)]}),_0x33eceb=[],_0x4e5776=_0x3a15ae[_0x163ace(0x444)]['map'](_0x5a9a7a=>Buffer['from'](_0x5a9a7a)[_0x163ace(0x5f2)](_0x163ace(0x3a4)));for(let {optionName:_0x324346}of _0x2fdf29['pollCreationMessage']?.[_0x163ace(0x698)]||_0x2fdf29[_0x163ace(0x3ff)]?.['options']||_0x2fdf29['pollCreationMessageV2']?.[_0x163ace(0x698)])_0x4e5776[_0x163ace(0x1bd)]((0x0,f[_0x163ace(0x5e5)])(Buffer['from'](_0x324346))[_0x163ace(0x5f2)]('hex'))>-0x1&&_0x33eceb[_0x163ace(0xc0)](_0x324346);return _0x33eceb;}}return null;},this[_0x29a32e(0x64c)]=(_0x12c092,_0x26ac5a,_0x1a62a2)=>{const _0x154335=_0x29a32e;try{let _0x981e3e=_0x12c092?(0x0,f[_0x154335(0xcc)])(_0x12c092)[_0x26ac5a]:void 0x0,_0x298da4={},_0x4261ae=null,_0x12c319=null,_0x13e90b=null;_0x26ac5a==='protocolMessage'&&_0x981e3e?.['editedMessage']&&(_0x26ac5a=(0x0,f[_0x154335(0x485)])(_0x981e3e[_0x154335(0x5a7)]),_0x4261ae=_0x12c092[_0x154335(0x734)][_0x154335(0x570)]['id'],_0x981e3e=_0x12c092[_0x154335(0x734)][_0x154335(0x5a7)][_0x26ac5a]),_0x12c092[_0x26ac5a]?.[_0x154335(0x3a5)]?.[_0x154335(0x511)]&&_0x12c092[_0x26ac5a]?.['contextInfo']?.[_0x154335(0xde)]&&(_0x12c319=_0x12c092[_0x26ac5a]['contextInfo']['stanzaId']),_0x12c092[_0x154335(0x3d2)]&&(_0x13e90b=_0x12c092[_0x154335(0x3d2)][_0x154335(0x570)]['id']);let _0x4d28c0;if(_0x981e3e&&typeof _0x981e3e==_0x154335(0x645)&&_0x154335(0x20d)in _0x981e3e&&({pollCreationMessageKey:_0x4d28c0}=_0x981e3e),_0x26ac5a==='pollCreationMessage'||_0x26ac5a===_0x154335(0x47b)||_0x26ac5a===_0x154335(0x3ff)){let _0xf49d81=_0x981e3e['options'][_0x154335(0x504)](_0x2766aa=>_0x2766aa['optionName'])[_0x154335(0x34a)]('|');_0x298da4['convertedOptions']=_0xf49d81;}let _0x2c8dd3='';if(_0x981e3e&&(_0x2c8dd3+=_0x981e3e['name']?_0x981e3e[_0x154335(0x11a)]:'',_0x2c8dd3+=_0x981e3e['caption']?'\x20'+_0x981e3e[_0x154335(0x5c0)]:'',_0x2c8dd3+=_0x981e3e[_0x154335(0x4ed)]?'\x20'+_0x981e3e['conversation']:'',_0x2c8dd3+=_0x981e3e[_0x154335(0x5cd)]?'\x20'+_0x981e3e[_0x154335(0x5cd)]:''),_0x26ac5a===_0x154335(0x367)){_0x2c8dd3=(_0x981e3e[_0x154335(0x428)]||'')+'\x0a'+(_0x981e3e[_0x154335(0x5cc)]||'')+'\x0a'+(_0x981e3e[_0x154335(0x42b)]||'');let _0x3c3387=this['sectionsToString'](_0x981e3e[_0x154335(0x615)]);_0x298da4['convertedOptions']=_0x3c3387;}if(_0x26ac5a===_0x154335(0x13b)&&(_0x1a62a2=_0x981e3e[_0x154335(0x428)]),_0x981e3e&&_0x981e3e['vcard']){let _0x11f2af=this[_0x154335(0x500)](JSON['stringify'](_0x981e3e[_0x154335(0x382)],null,0x2));_0x2c8dd3=_0x2c8dd3+'\x0a'+_0x11f2af;}if(_0x981e3e){let {sections:_0x4ab3c2,listType:_0x4a0abe,displayName:_0x221a86,vcard:_0xca4076,contactVcard:_0x52faa1,name:_0x5a9155,caption:_0x18b4a6,conversation:_0x1d41dc,pollCreationMessageKey:_0x389e6e,footerText:_0x4fc3bb,contentText:_0xdc007f,pageCount:_0x26b9d2,headerType:_0x2345af,isAvatar:_0x23b0ae,isAnimated:_0x14f1a6,fallbackLc:_0x57ad14,fallbackLg:_0x243596,namespace:_0x4097c0,elementName:_0x7a0cb2,localizableParams:_0x44136c,viewOnce:_0x1a4503,height:_0x1b265e,width:_0x5353dc,key:_0x353363,firstScanLength:_0x283b6f,firstScanSidecar:_0x42caac,gifPlayback:_0x408853,gifAttribution:_0x2b499d,midQualityFileSha256:_0x147ef2,scansSidecar:_0x21ad16,streamingSidecar:_0x24ff78,thumbnailHeight:_0x24f843,thumbnailWidth:_0x22187c,thumbnailEncSha256:_0x491a0c,thumbnailDirectPath:_0x2ba1e9,canonicalUrl:_0x1eabce,matchedText:_0x1c4ed4,previewType:_0x2f2555,thumbnailSha256:_0x51882b,deviceListMetadataVersion:_0x1ea227,inviteLinkGroupTypeV2:_0x40341c,interactiveAnnotations:_0x1c59c2,scanLengths:_0x556433,jpegThumbnail:_0x4e291c,url:_0x2aba47,mediaKeyTimestamp:_0x511320,waveform:_0x79b0b7,stickerSentTs:_0x32a458,firstFrameLength:_0xe6b4d1,fileEncSha256:_0x264a38,contextInfo:_0x2bd698,firstFrameSidecar:_0x24a3ff,directPath:_0x1149cb,fileSha256:_0x5af552,mediaKey:_0x3cecf0,senderTimestampMs:_0x2054af,..._0x5e0900}=_0x981e3e;(_0x26ac5a==='listMessage'||_0x26ac5a===_0x154335(0x13b))&&(delete _0x5e0900[_0x154335(0x428)],delete _0x5e0900[_0x154335(0x5cc)]),typeof _0x981e3e==_0x154335(0x1e4)?_0x298da4={'text':_0x981e3e,'type':_0x26ac5a||_0x154335(0x4ed),..._0x4261ae&&{'edited':_0x4261ae},..._0x12c319&&{'quoted':_0x12c319},..._0x13e90b&&{'reaction':_0x13e90b}}:_0x298da4={'text':_0x2c8dd3,..._0x5e0900,..._0x26ac5a===_0x154335(0x58c)?{'poll_id':_0x981e3e['pollCreationMessageKey']['id'],'quoted':_0x981e3e[_0x154335(0x20d)]['id'],'vote':_0x1a62a2}:{},..._0x26ac5a===_0x154335(0x13b)?{'vote':_0x1a62a2}:{},'type':_0x26ac5a,..._0x4261ae&&{'edited':_0x4261ae},..._0x12c319&&{'quoted':_0x12c319},..._0x13e90b&&{'reaction':_0x13e90b},...(_0x26ac5a==='pollCreationMessage'||_0x26ac5a===_0x154335(0x47b)||_0x26ac5a==='pollCreationMessageV3'||_0x26ac5a===_0x154335(0x367))&&{'convertedOptions':_0x298da4[_0x154335(0x454)]}};}return{'messageType':_0x26ac5a,'messageContent':_0x981e3e,'message_normalized':_0x298da4};}catch(_0x5196f8){return console[_0x154335(0xfa)](_0x154335(0x361),_0x5196f8),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x29a32e(0x1ee)](),this[_0x29a32e(0x6ba)][_0x29a32e(0x2f8)]={'count':0x0},this['instance'][_0x29a32e(0x10b)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x96c47(0x5ec)](_0x49e01c){const _0xc449db=a0_0x96c47;if(!_0x49e01c){this[_0xc449db(0x6ba)][_0xc449db(0x11a)]=(0x0,Co['v4'])();return;}this[_0xc449db(0x6ba)][_0xc449db(0x11a)]=_0x49e01c,this['sendDataWebhook']('status.instance',{'instance':this[_0xc449db(0x6ba)][_0xc449db(0x11a)],'status':_0xc449db(0x24f)});}get[a0_0x96c47(0x5ec)](){const _0x493316=a0_0x96c47;return this['instance'][_0x493316(0x11a)];}get[a0_0x96c47(0x3e5)](){const _0x4b0949=a0_0x96c47;return this[_0x4b0949(0x6ba)]['wuid'];}async[a0_0x96c47(0x5dc)](){const _0x2aae75=a0_0x96c47;let _0x33fee8=this[_0x2aae75(0x10d)]['user']?.[_0x2aae75(0x11a)]??this[_0x2aae75(0x10d)][_0x2aae75(0x63b)]?.[_0x2aae75(0xe3)];if(!_0x33fee8){if(this[_0x2aae75(0x184)]['get'](_0x2aae75(0x337))['ENABLED']){let _0x546f86=await O['getClient']()['db'](this[_0x2aae75(0x184)][_0x2aae75(0x763)](_0x2aae75(0x337))[_0x2aae75(0x59c)][_0x2aae75(0xe2)]+'-instances')[_0x2aae75(0x59d)](this['instanceName'])[_0x2aae75(0x732)]({'_id':_0x2aae75(0x319)});if(_0x546f86){let _0x16c6bf=JSON[_0x2aae75(0x3a8)](JSON[_0x2aae75(0x2bf)](_0x546f86),f[_0x2aae75(0x168)]['reviver']);_0x33fee8=_0x16c6bf['me']?.[_0x2aae75(0x11a)]||_0x16c6bf['me']?.[_0x2aae75(0xe3)];}}else{if((0x0,Te[_0x2aae75(0x484)])((0x0,F['join'])(me,this[_0x2aae75(0x5ec)],_0x2aae75(0x25a)))){let _0x7327d3=JSON[_0x2aae75(0x3a8)]((0x0,Te['readFileSync'])((0x0,F[_0x2aae75(0x34a)])(me,this[_0x2aae75(0x5ec)],'creds.json'),{'encoding':_0x2aae75(0x27f)}));_0x33fee8=_0x7327d3['me']?.['name']||_0x7327d3['me']?.[_0x2aae75(0xe3)];}}}return _0x33fee8;}get[a0_0x96c47(0x3dc)](){const _0x3edcc5=a0_0x96c47;return this[_0x3edcc5(0x6ba)][_0x3edcc5(0x3dc)];}get[a0_0x96c47(0xf2)](){const _0xfa8c3e=a0_0x96c47;return this[_0xfa8c3e(0x6ba)][_0xfa8c3e(0x2f8)]?.['pairingCode']?{'pairingCode':this[_0xfa8c3e(0x6ba)][_0xfa8c3e(0x2f8)]?.[_0xfa8c3e(0x4b5)]}:{'code':this[_0xfa8c3e(0x6ba)][_0xfa8c3e(0x2f8)]?.[_0xfa8c3e(0x57d)],'base64':this[_0xfa8c3e(0x6ba)][_0xfa8c3e(0x2f8)]?.[_0xfa8c3e(0x343)]};}async[a0_0x96c47(0x1a5)](){const _0x307f5b=a0_0x96c47;let _0x267a5c=await this['repository'][_0x307f5b(0x4ef)][_0x307f5b(0xd4)](this[_0x307f5b(0x5ec)]);this['localWebhook'][_0x307f5b(0x65f)]=_0x267a5c?.[_0x307f5b(0x65f)],this[_0x307f5b(0x278)]['enabled']=_0x267a5c?.['enabled'],this['localWebhook'][_0x307f5b(0xab)]=_0x267a5c?.['local_map'],this[_0x307f5b(0x278)]['STATUS_INSTANCE']=_0x267a5c?.[_0x307f5b(0x12b)],this[_0x307f5b(0x278)][_0x307f5b(0x6c7)]=_0x267a5c?.[_0x307f5b(0x6c7)],this[_0x307f5b(0x278)][_0x307f5b(0x165)]=_0x267a5c?.['SEND_MESSAGE'],this[_0x307f5b(0x278)][_0x307f5b(0x314)]=_0x267a5c?.[_0x307f5b(0x314)],this[_0x307f5b(0x278)][_0x307f5b(0x693)]=_0x267a5c?.[_0x307f5b(0x693)],this[_0x307f5b(0x278)][_0x307f5b(0x185)]=_0x267a5c?.[_0x307f5b(0x185)],this[_0x307f5b(0x278)][_0x307f5b(0x315)]=_0x267a5c?.[_0x307f5b(0x315)],this[_0x307f5b(0x278)]['GROUP_PARTICIPANTS_UPDATE']=_0x267a5c?.[_0x307f5b(0x456)],this['localWebhook'][_0x307f5b(0x535)]=_0x267a5c?.[_0x307f5b(0x535)],this['localWebhook'][_0x307f5b(0x67c)]=_0x267a5c?.[_0x307f5b(0x67c)],this[_0x307f5b(0x278)]['CHATS_UPDATE']=_0x267a5c?.[_0x307f5b(0x493)],this['localWebhook'][_0x307f5b(0x91)]=_0x267a5c?.[_0x307f5b(0x91)],this[_0x307f5b(0x278)][_0x307f5b(0x40b)]=_0x267a5c?.[_0x307f5b(0x40b)],this[_0x307f5b(0x278)]['CONTACTS_UPSERT']=_0x267a5c?.['CONTACTS_UPSERT'],this['localWebhook'][_0x307f5b(0x17a)]=_0x267a5c?.['CONTACTS_UPDATE'],this['localWebhook'][_0x307f5b(0x439)]=_0x267a5c?.[_0x307f5b(0x439)],this['localWebhook'][_0x307f5b(0x99)]=_0x267a5c?.[_0x307f5b(0x99)],this[_0x307f5b(0x278)][_0x307f5b(0x183)]=_0x267a5c?.[_0x307f5b(0x183)],this[_0x307f5b(0x278)][_0x307f5b(0x52d)]=_0x267a5c?.['groups_ignore'];}async['setWebhook'](_0x2e9434){const _0x34fe31=a0_0x96c47;let _0x1e68fd=[_0x34fe31(0x1be),_0x34fe31(0x65f),_0x34fe31(0x403),_0x34fe31(0xab),_0x34fe31(0x12b),_0x34fe31(0x6c7),'MESSAGES_UPDATE',_0x34fe31(0x314),_0x34fe31(0x165),'GROUPS_UPSERT','GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE','CHATS_SET',_0x34fe31(0x67c),_0x34fe31(0x493),_0x34fe31(0x91),_0x34fe31(0x40b),_0x34fe31(0x21b),_0x34fe31(0x17a),_0x34fe31(0x439),_0x34fe31(0x99),'CONNECTION_UPDATE','groups_ignore'],_0x212b7e={};return _0x1e68fd[_0x34fe31(0x233)](_0x545fc7=>{_0x2e9434[_0x545fc7]!==void 0x0&&(_0x212b7e[_0x545fc7]=_0x2e9434[_0x545fc7]);}),_0x212b7e[_0x34fe31(0x65f)]&&(_0x212b7e[_0x34fe31(0x65f)]=_0x212b7e[_0x34fe31(0x65f)]['trim']()),await this[_0x34fe31(0xc4)][_0x34fe31(0x4ef)][_0x34fe31(0x55c)](_0x212b7e,this[_0x34fe31(0x5ec)]),Object[_0x34fe31(0x480)](this[_0x34fe31(0x278)],_0x212b7e),await this[_0x34fe31(0xc4)][_0x34fe31(0x4ef)][_0x34fe31(0xd4)](this[_0x34fe31(0x5ec)]);}async[a0_0x96c47(0x1d2)](){const _0x3335c5=a0_0x96c47;return await this[_0x3335c5(0xc4)][_0x3335c5(0x4ef)][_0x3335c5(0xd4)](this['instanceName']);}async[a0_0x96c47(0x3c6)](_0x45b2c9,_0x318ae3){const _0x90e334=a0_0x96c47;let _0xd156c3=_0x45b2c9['replace'](/[\.-]/gm,'_')[_0x90e334(0x3c3)](),_0x2b5a25=this['localWebhook'][_0x90e334(0x403)]&&(0x0,P[_0x90e334(0x2b4)])(this['localWebhook']['url'])?this[_0x90e334(0x278)]['url']+(this[_0x90e334(0x278)][_0x90e334(0xab)]?this['webhookMap'][_0x45b2c9]:''):null,_0x262d73=this[_0x90e334(0x278)][_0xd156c3],_0x38ff5f=ue&&ue[_0x90e334(0x403)]&&(0x0,P['isURL'])(ue[_0x90e334(0x65f)])?ue[_0x90e334(0x65f)]+(ue[_0x90e334(0xab)]?this[_0x90e334(0x1e3)][_0x45b2c9]:''):null,_0x22a8d3=ue?ue[_0xd156c3]:null;if(_0x262d73&&_0x2b5a25)try{await K[_0x90e334(0x5ef)][_0x90e334(0x55c)]({'baseURL':_0x2b5a25})[_0x90e334(0x43a)]('',{'event':_0x45b2c9,'instance':this[_0x90e334(0x6ba)][_0x90e334(0x11a)],'apikey':this[_0x90e334(0x6ba)]['apikey'],'data':_0x318ae3}),this[_0x90e334(0x438)][_0x90e334(0x2cf)](this['instanceName']+'\x20('+this[_0x90e334(0x6ba)][_0x90e334(0x3e5)]+'):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x45b2c9+':\x20'+_0x2b5a25);}catch{this['logger'][_0x90e334(0xfa)](this[_0x90e334(0x5ec)]+'\x20('+this['instance'][_0x90e334(0x3e5)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20'+_0x45b2c9+':\x20'+_0x2b5a25);}if(_0x22a8d3&&_0x38ff5f)try{await K[_0x90e334(0x5ef)][_0x90e334(0x55c)]({'baseURL':_0x38ff5f})[_0x90e334(0x43a)]('',{'event':_0x45b2c9,'instance':this[_0x90e334(0x6ba)][_0x90e334(0x11a)],'apikey':this[_0x90e334(0x6ba)][_0x90e334(0x388)],'data':_0x318ae3}),this[_0x90e334(0x438)][_0x90e334(0x2cf)](this[_0x90e334(0x5ec)]+'\x20('+this[_0x90e334(0x6ba)][_0x90e334(0x3e5)]+_0x90e334(0x6cf)+_0x45b2c9+':\x20'+_0x38ff5f);}catch{this[_0x90e334(0x438)][_0x90e334(0xfa)](this['instanceName']+'\x20('+this[_0x90e334(0x6ba)][_0x90e334(0x3e5)]+_0x90e334(0x4d7)+_0x45b2c9+':\x20'+_0x38ff5f);}}async['connectionUpdate']({qr:_0x2bac6a,connection:_0x3c261f,lastDisconnect:_0x2853bd}){const _0x5ad585=a0_0x96c47;if(_0x2bac6a){if(this['instance'][_0x5ad585(0x2f8)][_0x5ad585(0x66c)]===vr)return this[_0x5ad585(0x3c6)](_0x5ad585(0x654),{'message':_0x5ad585(0x4e9),'statusCode':f[_0x5ad585(0x134)]['badSession']}),this['stateConnection']={'state':'refused','statusReason':f['DisconnectReason'][_0x5ad585(0x9a)]},this['sendDataWebhook'](_0x5ad585(0x377),{'instance':this[_0x5ad585(0x6ba)][_0x5ad585(0x11a)],...this[_0x5ad585(0x729)]}),this['sendDataWebhook'](_0x5ad585(0x381),{'instance':this['instance']['name'],'status':_0x5ad585(0x43c)}),this[_0x5ad585(0xc4)][_0x5ad585(0x375)][_0x5ad585(0x55c)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x5ad585(0x35c)]()},this[_0x5ad585(0x6ba)]['name']),this['endSession']=!0x0,this['eventEmitter'][_0x5ad585(0x26e)](_0x5ad585(0x46d),this[_0x5ad585(0x6ba)][_0x5ad585(0x11a)]);this['instance'][_0x5ad585(0x2f8)][_0x5ad585(0x66c)]++;let _0x3532e3={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x5ad585(0x1ad),'dark':_0x5ad585(0x329)}};Eo[_0x5ad585(0x5ef)][_0x5ad585(0x72c)](_0x2bac6a,_0x3532e3,(_0x230e07,_0xdbc9fd)=>{const _0x1928b5=_0x5ad585;if(_0x230e07){this['logger'][_0x1928b5(0xfa)](this[_0x1928b5(0x5ec)]+'\x20('+this[_0x1928b5(0x6ba)][_0x1928b5(0x3e5)]+_0x1928b5(0x269)+(_0x230e07 instanceof Error?_0x230e07['message']:JSON[_0x1928b5(0x2bf)](_0x230e07,null,0x2)));return;}this[_0x1928b5(0x6ba)]['qrcode'][_0x1928b5(0x343)]=_0xdbc9fd,this[_0x1928b5(0x6ba)][_0x1928b5(0x2f8)]['code']=_0x2bac6a,!this[_0x1928b5(0x83)]&&this[_0x1928b5(0x3c6)](_0x1928b5(0x654),{'qrcode':{'instance':this[_0x1928b5(0x6ba)][_0x1928b5(0x11a)],'pairingCode':this[_0x1928b5(0x6ba)][_0x1928b5(0x2f8)][_0x1928b5(0x4b5)],'code':_0x2bac6a,'base64':_0xdbc9fd}});}),this[_0x5ad585(0x83)]?this[_0x5ad585(0x6ba)][_0x5ad585(0x2f8)][_0x5ad585(0x4b5)]||(await(0x0,f[_0x5ad585(0x293)])(0x7d0),this[_0x5ad585(0x6ba)][_0x5ad585(0x2f8)]['pairingCode']=await this['client'][_0x5ad585(0x204)](this[_0x5ad585(0x83)])):this['instance'][_0x5ad585(0x2f8)][_0x5ad585(0x4b5)]=null,vo['default']['generate'](_0x2bac6a,{'small':!0x0},_0x553412=>this[_0x5ad585(0x438)][_0x5ad585(0x2cf)](_0x5ad585(0x1bc)+this[_0x5ad585(0x6ba)]['name']+_0x5ad585(0x4d5)+this['instance']['qrcode'][_0x5ad585(0x66c)]+_0x5ad585(0xf1)+this['instance'][_0x5ad585(0x2f8)][_0x5ad585(0x4b5)]+_0x5ad585(0x24c)+_0x553412));}if(_0x3c261f&&(this[_0x5ad585(0x729)]={'state':_0x3c261f,'statusReason':_0x2853bd?.[_0x5ad585(0xfa)]?.[_0x5ad585(0x43b)]?.['statusCode']??0xc8},this['sendDataWebhook']('connection.update',{'instance':this[_0x5ad585(0x6ba)]['name'],...this[_0x5ad585(0x729)]})),_0x3c261f===_0x5ad585(0x30e)){if(this[_0x5ad585(0x225)]++,this[_0x5ad585(0x14a)][_0x5ad585(0xc0)](Date['now']()),this[_0x5ad585(0x14a)]=this['reconnectTimestamps'][_0x5ad585(0x2bc)](_0x59f224=>Date[_0x5ad585(0x35c)]()-_0x59f224<this[_0x5ad585(0x49d)]),_0x2853bd[_0x5ad585(0xfa)]?.[_0x5ad585(0x43b)]?.['statusCode']!==f[_0x5ad585(0x134)]['loggedOut']&&this['reconnectTimestamps'][_0x5ad585(0x1fc)]<=this[_0x5ad585(0x98)])console[_0x5ad585(0x2cf)](this['instanceName']+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0x5ad585(0x225)]+'/'+this[_0x5ad585(0x98)]+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console[_0x5ad585(0x2cf)](_0x5ad585(0x1d9)),await this[_0x5ad585(0x23b)]();else{this[_0x5ad585(0x3c6)](_0x5ad585(0x381),{'instance':this[_0x5ad585(0x6ba)][_0x5ad585(0x11a)],'status':_0x5ad585(0x43c)}),this[_0x5ad585(0x6ba)][_0x5ad585(0x10b)]['isConnected']=!0x1,this[_0x5ad585(0xc4)][_0x5ad585(0x4ef)][_0x5ad585(0x494)](this['instanceName']),this[_0x5ad585(0xc4)]['auth'][_0x5ad585(0x55c)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x5ad585(0x6ba)][_0x5ad585(0x11a)]);try{this[_0x5ad585(0x438)][_0x5ad585(0x4b8)](this[_0x5ad585(0x5ec)]+'\x20('+this['instance'][_0x5ad585(0x3e5)]+_0x5ad585(0x651));let _0x385a06=await this[_0x5ad585(0xc4)][_0x5ad585(0x416)][_0x5ad585(0x2ea)](this['instance']['wuid']);_0x385a06[_0x5ad585(0x508)]?this[_0x5ad585(0x438)][_0x5ad585(0x4b8)](this[_0x5ad585(0x5ec)]+'\x20('+this[_0x5ad585(0x6ba)][_0x5ad585(0x3e5)]+_0x5ad585(0x62c)):console[_0x5ad585(0xfa)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:',_0x385a06[_0x5ad585(0xfa)]);}catch(_0x2bd675){console[_0x5ad585(0xfa)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x2bd675[_0x5ad585(0x416)]);}this['instance'][_0x5ad585(0x10b)][_0x5ad585(0x35d)]!==null&&(this[_0x5ad585(0x438)]['verbose'](this[_0x5ad585(0x5ec)]+'\x20('+this['instance'][_0x5ad585(0x3e5)]+_0x5ad585(0x49c)),clearInterval(this[_0x5ad585(0x6ba)][_0x5ad585(0x10b)][_0x5ad585(0x35d)]),this[_0x5ad585(0x6ba)][_0x5ad585(0x10b)][_0x5ad585(0x35d)]=null),this[_0x5ad585(0x438)]['verbose'](this[_0x5ad585(0x5ec)]+'\x20('+this[_0x5ad585(0x6ba)]['wuid']+_0x5ad585(0x506)),this[_0x5ad585(0x4d2)]=null,this[_0x5ad585(0x31e)][_0x5ad585(0x26e)]('remove.instance',this[_0x5ad585(0x6ba)][_0x5ad585(0x11a)],_0x5ad585(0x2af)),this['client']?.['ws']?.[_0x5ad585(0x30e)](),this[_0x5ad585(0x10d)]['end'](new Error(_0x5ad585(0x255)));}}if(_0x3c261f==='open'){this['client']['ev'][_0x5ad585(0x285)](),this[_0x5ad585(0x39a)],this[_0x5ad585(0x6ba)]['wuid']=this[_0x5ad585(0x10d)][_0x5ad585(0x63b)]['id']['replace'](/:\d+/,'')[_0x5ad585(0x6e2)]('@s.whatsapp.net',''),this['instance'][_0x5ad585(0x3dc)]=(await this[_0x5ad585(0x6b1)](this[_0x5ad585(0x6ba)][_0x5ad585(0x3e5)]+_0x5ad585(0x5da)))[_0x5ad585(0x3dc)],this['repository'][_0x5ad585(0x375)][_0x5ad585(0x55c)]({'online':!0x0,'owner':this[_0x5ad585(0x6ba)]['wuid'],'lastDisconnect':null},this[_0x5ad585(0x6ba)]['name']);let _0x373162=_0x5ad585(0x15f)+this[_0x5ad585(0x6ba)][_0x5ad585(0x3e5)],_0xcc77ff=0x28,_0x30adb3=Math[_0x5ad585(0x707)]((_0xcc77ff-_0x373162[_0x5ad585(0x1fc)])/0x2),_0xd76622='\x20'[_0x5ad585(0x2f6)](_0x30adb3),_0x58685a=_0x5ad585(0x3b8),_0x1b5c5d=_0x5ad585(0x4e3)+this['instance'][_0x5ad585(0x11a)],_0x423f88=(''+_0xd76622+_0x373162+_0xd76622)[_0x5ad585(0x2e3)](_0xcc77ff,'\x20'),_0x1deb65=(''+_0xd76622+_0x58685a+_0xd76622)['padEnd'](_0xcc77ff,'\x20'),_0x4385ef=(''+_0xd76622+_0x1b5c5d+_0xd76622)[_0x5ad585(0x2e3)](_0xcc77ff,'\x20'),_0x21fd9e=Math[_0x5ad585(0x4b3)](_0x423f88[_0x5ad585(0x1fc)],_0x1deb65[_0x5ad585(0x1fc)],_0x4385ef['length']),_0xf6728b=_0x423f88[_0x5ad585(0x2e3)](_0x21fd9e,'\x20'),_0x316646=_0x1deb65[_0x5ad585(0x2e3)](_0x21fd9e,'\x20'),_0x389e50=_0x4385ef[_0x5ad585(0x2e3)](_0x21fd9e,'\x20');this[_0x5ad585(0x438)][_0x5ad585(0x5f7)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'[_0x5ad585(0x2f6)](_0x21fd9e)+_0x5ad585(0x19e)+_0x316646+_0x5ad585(0x4e8)+_0x389e50+_0x5ad585(0x4e8)+_0xf6728b+_0x5ad585(0x41b)+'─'['repeat'](_0x21fd9e)+'┘')[_0x5ad585(0x6e2)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x5ad585(0x6ba)][_0x5ad585(0x10b)]['isConnected']=!0x0;}}['resetReconnectionVariables'](){this['reconnectAttempts']=0x0,this['reconnectTimestamps']=[];}async[a0_0x96c47(0x2f5)](_0x39e2d1,_0xe1d49e=!0x1){const _0x4ece42=a0_0x96c47;try{let _0x3d54ca=await this[_0x4ece42(0xc4)][_0x4ece42(0x416)][_0x4ece42(0xd4)]({'where':{'_id':_0x39e2d1['id']}},this[_0x4ece42(0x6ba)]['wuid']);return _0xe1d49e?_0x3d54ca[0x0]:_0x3d54ca[0x0][_0x4ece42(0x416)];}catch{return{'conversation':''};}}['cleanStore'](){const _0x207897=a0_0x96c47;let _0x156561=this['configService'][_0x207897(0x763)]('STORE'),_0xda3cbf=this['configService'][_0x207897(0x763)](_0x207897(0x337));_0x156561?.[_0x207897(0x274)]&&!_0xda3cbf[_0x207897(0x330)]&&setInterval(()=>{const _0x642c99=_0x207897;try{for(let [_0x385356,_0x3b9af3]of Object[_0x642c99(0x744)](_0x156561))_0x3b9af3===!0x0&&(0x0,$e['execSync'])(_0x642c99(0x75c)+(0x0,F[_0x642c99(0x34a)])(this[_0x642c99(0x599)],_0x385356[_0x642c99(0x5cf)](),this[_0x642c99(0x6ba)][_0x642c99(0x3e5)])+_0x642c99(0x753));}catch{}},(_0x156561?.[_0x207897(0x274)]??0xe10)*0x3e8);}async[a0_0x96c47(0x24b)](){const _0xc93ba=a0_0x96c47;let _0x3e4869=this[_0xc93ba(0x184)][_0xc93ba(0x763)](_0xc93ba(0x337)),_0x5e2232=this[_0xc93ba(0x184)][_0xc93ba(0x763)](_0xc93ba(0x299));return _0x5e2232?.[_0xc93ba(0x330)]?await Ns(_0x5e2232,this[_0xc93ba(0x6ba)][_0xc93ba(0x11a)]):_0x3e4869[_0xc93ba(0x330)]?await vs(this[_0xc93ba(0x6ba)][_0xc93ba(0x11a)]):await(0x0,f['useMultiFileAuthState'])((0x0,F[_0xc93ba(0x34a)])(me,this[_0xc93ba(0x6ba)]['name']));}async[a0_0x96c47(0x342)](){const _0x3b43ff=a0_0x96c47;let _0x244f12=()=>Math[_0x3b43ff(0x707)](Math[_0x3b43ff(0x1aa)]()*0x2711)+0x7d0,_0x5c3be0=async()=>{const _0x32d2ed=_0x3b43ff;if(!this[_0x32d2ed(0x6ba)][_0x32d2ed(0x10b)][_0x32d2ed(0x167)]){this[_0x32d2ed(0x438)][_0x32d2ed(0x4b8)](_0x32d2ed(0x33e)),this[_0x32d2ed(0x1b1)]=!0x1;return;}if(this[_0x32d2ed(0x6ba)][_0x32d2ed(0x3e5)]&&this[_0x32d2ed(0x4d2)]&&this[_0x32d2ed(0x6ba)][_0x32d2ed(0x10b)]['delayMessage']!==null&&this['instance']['ScheduleMessage'][_0x32d2ed(0x35d)]!==void 0x0){let _0x34b2fb=Math[_0x32d2ed(0x11b)](this['instance'][_0x32d2ed(0x10b)][_0x32d2ed(0x35d)]/0xea60);this[_0x32d2ed(0x438)][_0x32d2ed(0x4b8)](this['instanceName']+'\x20('+this[_0x32d2ed(0x6ba)]['wuid']+_0x32d2ed(0x61b)+_0x34b2fb+_0x32d2ed(0x2a1)),this[_0x32d2ed(0x1b1)]=!0x1;return;}else this[_0x32d2ed(0x6ba)][_0x32d2ed(0x3e5)]&&(this[_0x32d2ed(0x438)][_0x32d2ed(0x4b8)](this[_0x32d2ed(0x5ec)]+'\x20('+this['instance'][_0x32d2ed(0x3e5)]+_0x32d2ed(0x488)),this['AutomateSystem']||(await this['getAutomateSystem'](),this[_0x32d2ed(0x650)]()),(this['instance'][_0x32d2ed(0x10b)]['delayMessage']===null||this[_0x32d2ed(0x6ba)]['ScheduleMessage'][_0x32d2ed(0x35d)]===void 0x0)&&await this[_0x32d2ed(0x328)]());if(this['isRunning']){let _0x429de2=_0x244f12();this['logger'][_0x32d2ed(0x4b8)](this[_0x32d2ed(0x5ec)]+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x429de2/0x3e8+'\x20segundos'),setTimeout(_0x5c3be0,_0x429de2);}};if(this[_0x3b43ff(0x1b1)])return;this['isRunning']=!0x0;let _0x20f7e4=_0x244f12();setTimeout(_0x5c3be0,_0x20f7e4);}async[a0_0x96c47(0x18d)](_0x4318a5=0x0,_0x34b77f=!0x1){const _0x121adc=a0_0x96c47;try{let _0x25d2e4=this[_0x121adc(0x184)][_0x121adc(0x763)](_0x121adc(0x58a));if(_0x25d2e4!==0x1||typeof _0x25d2e4>'u'||_0x4318a5>=0x5)return this[_0x121adc(0x438)][_0x121adc(0x284)](_0x121adc(0x443)),this['repository'][_0x121adc(0x375)]['create']({'ip':null},this[_0x121adc(0x6ba)][_0x121adc(0x11a)]),{};this[_0x121adc(0x438)][_0x121adc(0x4b8)](this[_0x121adc(0x5ec)]+_0x121adc(0x502)+(_0x4318a5+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0x2a4fb9;if(!_0x34b77f){let _0x358a02=await this[_0x121adc(0xc4)][_0x121adc(0x375)]['find'](this[_0x121adc(0x5ec)]);_0x358a02&&_0x358a02['ip']&&(_0x2a4fb9=yo(_0x358a02['ip']));}if((!_0x2a4fb9||!Rs(_0x2a4fb9))&&(this['logger'][_0x121adc(0x284)](this[_0x121adc(0x5ec)]+_0x121adc(0x4a1)),_0x2a4fb9=bo()),_0x2a4fb9&&Rs(_0x2a4fb9)){let _0x1a3505=_0x2a4fb9['username']&&_0x2a4fb9[_0x121adc(0x11d)]?_0x2a4fb9[_0x121adc(0x16d)]+_0x121adc(0x4a3)+_0x2a4fb9[_0x121adc(0x208)]+':'+_0x2a4fb9[_0x121adc(0x11d)]+'@'+_0x2a4fb9[_0x121adc(0x4c2)]+':'+_0x2a4fb9['port']:_0x2a4fb9[_0x121adc(0x16d)]+'://'+_0x2a4fb9['host']+':'+_0x2a4fb9[_0x121adc(0x3e0)];return await this[_0x121adc(0x429)](_0x1a3505,_0x2a4fb9['host'])?(this[_0x121adc(0x438)]['verbose'](this[_0x121adc(0x5ec)]+_0x121adc(0x3d5)),this[_0x121adc(0xc4)][_0x121adc(0x375)][_0x121adc(0x55c)]({'ip':_0x2a4fb9[_0x121adc(0x4c2)]},this[_0x121adc(0x6ba)][_0x121adc(0x11a)]),{'agent':new Ft['HttpsProxyAgent'](_0x1a3505),'fetchAgent':new Ft['HttpsProxyAgent'](_0x1a3505)}):(this['logger'][_0x121adc(0x284)](this[_0x121adc(0x5ec)]+_0x121adc(0x4a7)),await(0x0,f[_0x121adc(0x293)])(0xc8),this[_0x121adc(0x18d)](_0x4318a5+0x1,!0x0));}else return this['logger']['warn'](this[_0x121adc(0x5ec)]+_0x121adc(0x217)),await(0x0,f[_0x121adc(0x293)])(0xc8),this[_0x121adc(0x18d)](_0x4318a5+0x1,!0x0);}catch(_0x29dde8){return this[_0x121adc(0x438)][_0x121adc(0xfa)](this[_0x121adc(0x5ec)]+_0x121adc(0x246)+_0x29dde8[_0x121adc(0x416)]),{};}}async[a0_0x96c47(0x429)](_0x2b9a52,_0x1a389b){const _0x55fb90=a0_0x96c47;let _0x5aad10=new Ft['HttpsProxyAgent'](_0x2b9a52),_0x1fb331=0x1388,_0x13c329=[{'url':_0x55fb90(0x640),'parse':_0x489099=>_0x489099['ip']},{'url':_0x55fb90(0x63a),'parse':_0x14d233=>_0x14d233['ip']},{'url':'http://checkip.dyndns.org','parse':_0x424a68=>_0x424a68['match'](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x55fb90(0x590),'parse':_0x221652=>_0x221652['ip']},{'url':'http://ifconfig.me/ip','parse':_0x1d35a0=>_0x1d35a0[_0x55fb90(0x379)]()},{'url':_0x55fb90(0x8a),'parse':_0x453471=>_0x453471[_0x55fb90(0x379)]()},{'url':_0x55fb90(0x718),'parse':_0x34faf7=>_0x34faf7[_0x55fb90(0x628)]},{'url':_0x55fb90(0x15c),'parse':_0x555c9b=>_0x555c9b[_0x55fb90(0x379)]()},{'url':_0x55fb90(0x3ca),'parse':_0x314755=>_0x314755[_0x55fb90(0x379)]()}],_0x53feb1=_0x13c329[Math[_0x55fb90(0x707)](Math[_0x55fb90(0x1aa)]()*_0x13c329[_0x55fb90(0x1fc)])];try{let _0x4787c6=await K[_0x55fb90(0x5ef)][_0x55fb90(0x763)](_0x53feb1[_0x55fb90(0x65f)],{'httpsAgent':_0x5aad10,'timeout':_0x1fb331}),_0x984471=_0x53feb1['parse'](_0x4787c6[_0x55fb90(0x4e4)]);return _0x984471===_0x1a389b?(this['logger']['verbose'](this['instanceName']+_0x55fb90(0x74f)+_0x1a389b+_0x55fb90(0x1b3)+_0x984471+_0x55fb90(0x2fd)),!0x0):(this[_0x55fb90(0x438)][_0x55fb90(0xfa)](this[_0x55fb90(0x5ec)]+':\x20IP\x20configurado:\x20'+_0x1a389b+_0x55fb90(0x1b3)+_0x984471+_0x55fb90(0x123)),!0x1);}catch(_0x1b1c21){return this[_0x55fb90(0x438)]['error'](this[_0x55fb90(0x5ec)]+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x53feb1['url']+':\x20'+_0x1b1c21['message']),!0x1;}}async[a0_0x96c47(0x23b)](_0x19fd04){const _0x2d2851=a0_0x96c47;try{let _0x5236ad=await this[_0x2d2851(0x18d)]();this[_0x2d2851(0x1a5)](),this[_0x2d2851(0x6ba)][_0x2d2851(0x388)]=(await this[_0x2d2851(0xc4)][_0x2d2851(0x375)][_0x2d2851(0xd4)](this[_0x2d2851(0x6ba)][_0x2d2851(0x11a)]))[_0x2d2851(0x388)],this[_0x2d2851(0x6ba)][_0x2d2851(0x614)]=await this[_0x2d2851(0x24b)]();let {version:_0x5451eb}=await(0x0,f['fetchLatestBaileysVersion'])(),_0x10ac67=[No,Is,(0x0,Ts[_0x2d2851(0xd2)])()],_0x67e84a={..._0x5236ad,'auth':{'creds':this[_0x2d2851(0x6ba)][_0x2d2851(0x614)][_0x2d2851(0x159)]['creds'],'keys':(0x0,f[_0x2d2851(0x73a)])(this['instance']['authState']['state'][_0x2d2851(0x6af)],(0x0,Pt['default'])({'level':_0x2d2851(0xfa)}))},'logger':(0x0,Pt[_0x2d2851(0x5ef)])({'level':_0x2d2851(0xfa)}),'printQRInTerminal':!0x1,'browser':_0x19fd04?[_0x2d2851(0x114),Is,(0x0,Ts['release'])()]:_0x10ac67,'version':_0x5451eb,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x5044d0=>{const _0x1df33c=_0x2d2851;let _0x10f591=_0x5044d0[_0x1df33c(0x464)](_0x1df33c(0x759)),_0x41af8b=this[_0x1df33c(0x278)]?.[_0x1df33c(0x52d)]&&_0x5044d0[_0x1df33c(0x464)]('@g.us');return _0x10f591||(0x0,f['isJidBroadcast'])(_0x5044d0)||_0x41af8b;},'msgRetryCounterCache':this['msgRetryCounterCache'],'getMessage':async _0x4dfd50=>await this['getMessage'](_0x4dfd50),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x2d2851(0x409)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x184ea7=>(_0x184ea7['listMessage']?.[_0x2d2851(0x312)]==f['proto'][_0x2d2851(0x48c)][_0x2d2851(0x722)][_0x2d2851(0x673)][_0x2d2851(0x685)]&&(_0x184ea7=JSON[_0x2d2851(0x3a8)](JSON[_0x2d2851(0x2bf)](_0x184ea7)),_0x184ea7[_0x2d2851(0x367)]['listType']=f[_0x2d2851(0x3a0)][_0x2d2851(0x48c)][_0x2d2851(0x722)][_0x2d2851(0x673)][_0x2d2851(0x64b)]),_0x184ea7)};return this[_0x2d2851(0x755)]=!0x1,this[_0x2d2851(0x10d)]=(0x0,f[_0x2d2851(0x5ef)])(_0x67e84a),this[_0x2d2851(0x600)](),this[_0x2d2851(0x83)]=_0x19fd04,this[_0x2d2851(0x10d)];}catch(_0x59e881){let _0x3cf4b9=_0x2d2851(0x5d5),_0x5b39e1=_0x59e881 instanceof Error?_0x59e881[_0x2d2851(0x416)]:typeof _0x59e881==_0x2d2851(0x645)?JSON[_0x2d2851(0x2bf)](_0x59e881):_0x59e881,_0x14182f=_0x3cf4b9+':\x20'+_0x5b39e1;throw this[_0x2d2851(0x438)][_0x2d2851(0xfa)](this[_0x2d2851(0x5ec)]+'\x20('+this['instance'][_0x2d2851(0x3e5)]+_0x2d2851(0x1ef)+_0x14182f),new I(_0x14182f);}}[a0_0x96c47(0x600)](){const _0x26a646=a0_0x96c47;this['client']['ev'][_0x26a646(0x189)](_0x189ce6=>{const _0x5c8e62=_0x26a646;if(!this[_0x5c8e62(0x755)]){let _0x343579=this['configService'][_0x5c8e62(0x763)](_0x5c8e62(0x337));if(_0x189ce6[_0x5c8e62(0xef)]){let _0x1f499a=_0x189ce6['labels.edit'];this[_0x5c8e62(0x48d)][_0x5c8e62(0xef)](_0x1f499a);}if(_0x189ce6[_0x5c8e62(0x28b)]){let _0x587f9e=_0x189ce6[_0x5c8e62(0x28b)];this[_0x5c8e62(0x48d)]['labels.association'](_0x587f9e);}if(_0x189ce6['connection.update']&&this['connectionUpdate'](_0x189ce6[_0x5c8e62(0x377)]),_0x189ce6[_0x5c8e62(0x586)]&&this[_0x5c8e62(0x6ba)][_0x5c8e62(0x614)][_0x5c8e62(0x758)](),_0x189ce6[_0x5c8e62(0x1dd)]){let _0x394ca4=_0x189ce6[_0x5c8e62(0x1dd)];this[_0x5c8e62(0x48d)][_0x5c8e62(0x1dd)](_0x394ca4,_0x343579);}if(_0x189ce6[_0x5c8e62(0x5df)]){let _0x2ede6f=_0x189ce6[_0x5c8e62(0x5df)];this[_0x5c8e62(0x48d)][_0x5c8e62(0x5df)](_0x2ede6f,_0x343579);}if(_0x189ce6[_0x5c8e62(0x683)]){let _0x2097d3=_0x189ce6['messages.update'];_0x2097d3[_0x5c8e62(0x233)](_0x3acdf8=>{const _0x22fdc1=_0x5c8e62;if(Mo[_0x3acdf8[_0x22fdc1(0x570)]['id']]){this[_0x22fdc1(0x10d)]['ev'][_0x22fdc1(0x26e)](_0x22fdc1(0x5df),{'messages':[_0x3acdf8],'type':'notify'}),delete Mo[_0x3acdf8['key']['id']];return;}}),this[_0x5c8e62(0x48d)][_0x5c8e62(0x683)](_0x2097d3,_0x343579);}if(_0x189ce6[_0x5c8e62(0x598)]){let _0x12462e=_0x189ce6[_0x5c8e62(0x598)];if(this[_0x5c8e62(0x278)]?.[_0x5c8e62(0x52d)]&&_0x12462e['id'][_0x5c8e62(0x546)]('@g.us'))return;this[_0x5c8e62(0x3c6)](_0x5c8e62(0x598),_0x12462e);}if(_0x189ce6[_0x5c8e62(0x65d)]){let _0xc7ba55=_0x189ce6[_0x5c8e62(0x65d)];this['groupHandler'][_0x5c8e62(0x65d)](_0xc7ba55);}if(_0x189ce6['groups.update']){let _0xc65144=_0x189ce6[_0x5c8e62(0x643)];this[_0x5c8e62(0x1f8)]['groups.update'](_0xc65144);}if(_0x189ce6['group-participants.update']){let _0x2fbd52=_0x189ce6[_0x5c8e62(0x457)];this[_0x5c8e62(0x1f8)][_0x5c8e62(0x457)](_0x2fbd52);}if(_0x189ce6[_0x5c8e62(0x606)]){let _0x1c3d0c=_0x189ce6[_0x5c8e62(0x606)];this[_0x5c8e62(0x6a3)][_0x5c8e62(0x606)](_0x1c3d0c,_0x343579);}if(_0x189ce6[_0x5c8e62(0x692)]){let _0x17d3ae=_0x189ce6[_0x5c8e62(0x692)];this['chatHandle'][_0x5c8e62(0x692)](_0x17d3ae,_0x343579);}if(_0x189ce6[_0x5c8e62(0x1c8)]){let _0x3fe114=_0x189ce6[_0x5c8e62(0x1c8)];this[_0x5c8e62(0x6a3)]['chats.delete'](_0x3fe114);}if(_0x189ce6[_0x5c8e62(0x561)]){let _0x33d1e2=_0x189ce6[_0x5c8e62(0x561)];this[_0x5c8e62(0x5c6)][_0x5c8e62(0x561)](_0x33d1e2,_0x343579);}if(_0x189ce6[_0x5c8e62(0x65c)]){let _0x2c0fec=_0x189ce6[_0x5c8e62(0x65c)];this[_0x5c8e62(0x5c6)]['contacts.update'](_0x2c0fec,_0x343579);}}});}[a0_0x96c47(0x65e)](_0x12280e){return new Promise(_0x4729a9=>setTimeout(_0x4729a9,_0x12280e));}['formatBRNumber'](_0x81ff19){const _0x3cc386=a0_0x96c47;_0x81ff19=_0x81ff19['replace'](/\D/g,'');let _0x1b86bb=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x3cc386(0x6d5)](_0x81ff19);if(_0x1b86bb&&_0x1b86bb[0x1]==='55'){let _0x2c3ed2=_0x1b86bb[0x2],_0x36d9d7=_0x1b86bb[0x3],_0x52a7e9=_0x1b86bb[0x4];if(parseInt(_0x2c3ed2)>=0x1f&&_0x36d9d7==='9')return _0x1b86bb[0x1]+_0x2c3ed2+_0x52a7e9;}return _0x81ff19;}[a0_0x96c47(0x178)](_0x38e8fe){const _0x4334d0=a0_0x96c47;return _0x38e8fe['includes']('@g.us')||_0x38e8fe[_0x4334d0(0x546)](_0x4334d0(0x5da))||_0x38e8fe[_0x4334d0(0x546)](_0x4334d0(0x2d7))?_0x38e8fe:(_0x38e8fe=_0x38e8fe?.['replace'](/\s/g,'')['replace'](/\+/g,'')['replace'](/\(/g,'')[_0x4334d0(0x6e2)](/\)/g,'')['split'](/\:/)[0x0]['split']('@')[0x0],_0x38e8fe[_0x4334d0(0x1fc)]>=0x12?(_0x38e8fe=_0x38e8fe[_0x4334d0(0x6e2)](/[^\d-]/g,''),_0x38e8fe+_0x4334d0(0x690)):(_0x38e8fe=_0x38e8fe['replace'](/\D/g,''),_0x38e8fe+'@s.whatsapp.net'));}async['updatePresence'](_0x1742bf){const _0x4778e8=a0_0x96c47;let _0x5769e7=(await this[_0x4778e8(0x597)]({'numbers':[_0x1742bf[_0x4778e8(0x483)]]}))[0x0];if(!_0x5769e7[_0x4778e8(0x4dc)]&&!(0x0,f[_0x4778e8(0x445)])(_0x5769e7[_0x4778e8(0x16c)])&&!_0x5769e7['jid']['includes'](_0x4778e8(0x2d7)))throw new m(_0x5769e7);let _0x24507f=_0x5769e7[_0x4778e8(0x16c)];try{return await this['client']['presenceSubscribe'](_0x24507f),await this[_0x4778e8(0x10d)][_0x4778e8(0x28e)](_0x1742bf[_0x4778e8(0x103)],_0x24507f),{'status':0xc8,'presence':_0x1742bf[_0x4778e8(0x103)]};}catch(_0x44f4f9){let _0x4d9ba5=_0x4778e8(0x757),_0x5b4c6d=_0x44f4f9 instanceof Error?_0x44f4f9[_0x4778e8(0x416)]:typeof _0x44f4f9==_0x4778e8(0x645)?JSON[_0x4778e8(0x2bf)](_0x44f4f9):_0x44f4f9,_0x1e9032=_0x4d9ba5+':\x20'+_0x5b4c6d;throw this[_0x4778e8(0x438)][_0x4778e8(0xfa)](this['instanceName']+'\x20('+this['instance'][_0x4778e8(0x3e5)]+_0x4778e8(0x1ef)+_0x1e9032),new m(_0x1e9032);}}async[a0_0x96c47(0x74e)](_0x4b075d,_0x5b1590,_0x46dbe1,_0x530578=!0x0){const _0x10cd51=a0_0x96c47;let _0x166769=await this['repository'][_0x10cd51(0x27b)][_0x10cd51(0x732)]({'where':{'_id':_0x4b075d}});if(!_0x166769&&!_0x530578)return;let _0x428d5d={'lastUpdate':Date[_0x10cd51(0x35c)]()};if(_0x46dbe1||!_0x166769?.[_0x10cd51(0x430)]||Date[_0x10cd51(0x35c)]()-_0x166769[_0x10cd51(0x430)]>0x18*0x3c*0x3c*0x3e8)try{let _0x27fd1f=(await this[_0x10cd51(0x6b1)](_0x4b075d))['profilePictureUrl'];_0x428d5d['pictureUrl']=_0x27fd1f;}catch(_0x254d35){let _0x266aa0=_0x10cd51(0x3f6),_0x30e4bb=_0x254d35 instanceof Error?_0x254d35[_0x10cd51(0x416)]:typeof _0x254d35==_0x10cd51(0x645)?JSON[_0x10cd51(0x2bf)](_0x254d35):_0x254d35,_0xb0a72=_0x266aa0+':\x20'+_0x30e4bb;throw this[_0x10cd51(0x438)][_0x10cd51(0xfa)](this[_0x10cd51(0x5ec)]+'\x20('+this['instance']['wuid']+'):\x20'+_0xb0a72),new m(_0xb0a72);}return _0x5b1590&&_0x166769?.[_0x10cd51(0x11a)]!==_0x5b1590&&(_0x428d5d[_0x10cd51(0x11a)]=_0x5b1590),Object[_0x10cd51(0x6af)](_0x428d5d)[_0x10cd51(0x1fc)]>0x1&&(_0x166769?await this['repository']['cacheContact'][_0x10cd51(0x490)]({'where':{'_id':_0x4b075d}},_0x428d5d):await this['repository']['cacheContact']['insert']([{'_id':_0x4b075d,..._0x428d5d}]),_0x166769={..._0x166769,..._0x428d5d}),{'cachedContact':_0x166769};}async[a0_0x96c47(0x6b1)](_0x1a873b){const _0x4a997a=a0_0x96c47;let _0x141dc6=this[_0x4a997a(0x178)](_0x1a873b);try{return{'wuid':_0x141dc6,'profilePictureUrl':await this[_0x4a997a(0x10d)][_0x4a997a(0x3dc)](_0x141dc6,'image')};}catch{return{'wuid':_0x141dc6,'profilePictureUrl':null};}}async[a0_0x96c47(0x14c)](_0x16f72c,_0x495a86,_0x24d307){const _0x484b6f=a0_0x96c47;_0x24d307||(_0x24d307={});let _0x3ae00f=(await this[_0x484b6f(0x597)]({'numbers':[_0x16f72c]}))[0x0];if(!_0x3ae00f['exists']&&!(0x0,f['isJidGroup'])(_0x3ae00f['jid'])&&!_0x3ae00f[_0x484b6f(0x16c)][_0x484b6f(0x546)](_0x484b6f(0x2d7)))throw new m(_0x3ae00f);let _0x14edbf=_0x3ae00f['jid'];try{if(_0x24d307?.[_0x484b6f(0x293)]){await this[_0x484b6f(0x10d)][_0x484b6f(0x4d6)](_0x14edbf),await this[_0x484b6f(0x10d)]['sendPresenceUpdate'](_0x24d307?.['presence']??_0x484b6f(0x339),_0x14edbf);let _0x9894a5=Math['min'](_0x24d307[_0x484b6f(0x293)],0x2710);await(0x0,f[_0x484b6f(0x293)])(_0x9894a5),await this[_0x484b6f(0x10d)]['sendPresenceUpdate'](_0x484b6f(0x5a4),_0x14edbf);}let _0xc101a6=_0x24d307?.[_0x484b6f(0x681)]!=!0x1?void 0x0:!0x1,_0x258411;if(_0x24d307?.[_0x484b6f(0x73e)]){let _0x42cc65=_0x24d307?.[_0x484b6f(0x73e)],_0x125b4a=_0x42cc65?.['message']?_0x42cc65:await this[_0x484b6f(0x2f5)](_0x42cc65[_0x484b6f(0x570)],!0x0);if(!_0x125b4a)throw'Message\x20not\x20found';_0x258411=_0x125b4a;}let _0xff47c9;if((0x0,f[_0x484b6f(0x445)])(_0x14edbf))try{let _0xdcbb90=(await this[_0x484b6f(0xc4)][_0x484b6f(0x129)][_0x484b6f(0x732)]({'where':{'_id':_0x14edbf}},this[_0x484b6f(0x6ba)]['wuid']))[_0x484b6f(0x38f)];if(!_0xdcbb90)throw new J('Group\x20not\x20found');_0x24d307?.[_0x484b6f(0x62f)]&&(_0x24d307[_0x484b6f(0x62f)]?.[_0x484b6f(0x1b5)]?_0xff47c9=_0xdcbb90['participants']['map'](_0x8315d0=>_0x8315d0['id']):_0x24d307[_0x484b6f(0x62f)]?.[_0x484b6f(0x25f)]?.['length']&&(_0xff47c9=_0x24d307['mentions'][_0x484b6f(0x25f)][_0x484b6f(0x504)](_0x5ed986=>{const _0xa382de=_0x484b6f;let _0xc04f49=this['createJid'](_0x5ed986);return(0x0,f[_0xa382de(0x445)])(_0xc04f49)?null:_0xc04f49;})));}catch{throw new J(_0x484b6f(0x2cd));}let _0x303884=await this[_0x484b6f(0xc4)][_0x484b6f(0x129)][_0x484b6f(0x732)]({'where':{'_id':_0x14edbf}},this['instance'][_0x484b6f(0x3e5)]),_0x5482be=await((async()=>{const _0x407948=_0x484b6f;let _0x14e4b3={'quoted':_0x258411,'ephemeralExpiration':_0x303884?.['ephemeralExpiration']??0x0};if(!_0x495a86[_0x407948(0x31b)]&&!_0x495a86[_0x407948(0x568)]&&!_0x495a86[_0x407948(0x3ea)]&&!_0x495a86[_0x407948(0x4ed)]&&_0x14edbf!==_0x407948(0x174)&&!_0x495a86[_0x407948(0x31b)])return await this[_0x407948(0x10d)][_0x407948(0x3da)](_0x14edbf,{'forward':{'key':{'remoteJid':this[_0x407948(0x6ba)][_0x407948(0x3e5)],'fromMe':!0x0},'message':_0x495a86},'mentions':_0xff47c9},_0x14e4b3);if(_0x495a86[_0x407948(0x3d2)])return await this[_0x407948(0x10d)][_0x407948(0x3da)](_0x14edbf,{'react':{'text':_0x495a86[_0x407948(0x3d2)][_0x407948(0x68c)],'key':_0x495a86[_0x407948(0x3d2)][_0x407948(0x570)]}},_0x14e4b3);if(_0x495a86['conversation']){let _0x3e8e92=_0x495a86[_0x407948(0x4ed)];return _0x24d307?.[_0x407948(0x420)]&&(_0x3e8e92=await this[_0x407948(0x6d3)](_0x3e8e92,_0x14edbf)),await this[_0x407948(0x10d)][_0x407948(0x3da)](_0x14edbf,{'text':_0x3e8e92,'mentions':_0xff47c9,'linkPreview':_0xc101a6},_0x14e4b3);}return _0x14edbf===_0x407948(0x174)?await this['client'][_0x407948(0x3da)](_0x14edbf,_0x495a86[_0x407948(0x275)]['content'],{'backgroundColor':_0x495a86[_0x407948(0x275)][_0x407948(0x2c2)][_0x407948(0x34d)],'font':_0x495a86['status'][_0x407948(0x2c2)][_0x407948(0x8f)],'statusJidList':_0x495a86[_0x407948(0x275)]['option']['statusJidList']}):await this[_0x407948(0x10d)][_0x407948(0x3da)](_0x14edbf,_0x495a86,_0x14e4b3);})()),_0x2d18cc=(0x0,f[_0x484b6f(0x25e)])(_0x5482be[_0x484b6f(0x416)]),_0x1c4519=(0x0,f[_0x484b6f(0x485)])(_0x2d18cc),{message_normalized:_0x488f65}=this[_0x484b6f(0x64c)](_0x2d18cc,_0x1c4519,null),_0x32d369={'_id':_0x5482be['key']['id'],'key':_0x5482be['key'],'pushName':_0x5482be[_0x484b6f(0x29b)],'isGroup':_0x5482be['key'][_0x484b6f(0x101)][_0x484b6f(0x464)](_0x484b6f(0x690)),'profilePictureUrl':this[_0x484b6f(0x6ba)][_0x484b6f(0x3dc)],'message':_0x2d18cc,'messageType':_0x1c4519,'message_normalized':{'key':_0x5482be[_0x484b6f(0x570)],'pushName':_0x5482be[_0x484b6f(0x29b)],'messageTimestamp':_0x5482be['messageTimestamp']&&_0x5482be['messageTimestamp']['toString']()[_0x484b6f(0x1fc)]<0xd?_0x5482be[_0x484b6f(0x1cf)]*0x3e8:_0x5482be['messageTimestamp']||null,'source':(0x0,f[_0x484b6f(0x4c4)])(_0x5482be['key']['id']),..._0x488f65},'messageTimestamp':_0x5482be[_0x484b6f(0x1cf)]&&_0x5482be[_0x484b6f(0x1cf)][_0x484b6f(0x5f2)]()[_0x484b6f(0x1fc)]<0xd?_0x5482be[_0x484b6f(0x1cf)]*0x3e8:_0x5482be[_0x484b6f(0x1cf)]||null,'owner':this['instance']['wuid'],'source':(0x0,f[_0x484b6f(0x4c4)])(_0x5482be[_0x484b6f(0x570)]['id'])};return this['logger'][_0x484b6f(0x284)](this[_0x484b6f(0x5ec)]+'\x20('+this[_0x484b6f(0x6ba)]['wuid']+_0x484b6f(0x6a8)+_0x32d369['key']?.[_0x484b6f(0x101)][_0x484b6f(0x6e2)](_0x484b6f(0x5da),'')+_0x484b6f(0x3a1)+_0x32d369['messageType']+')'),_0x32d369['message_normalized']?.[_0x484b6f(0x68c)]&&this[_0x484b6f(0x438)][_0x484b6f(0x284)](_0x32d369[_0x484b6f(0x172)]?.[_0x484b6f(0x68c)]),this[_0x484b6f(0x3c6)](_0x484b6f(0x1a0),_0x32d369),U(this[_0x484b6f(0x5ec)],_0x484b6f(0x1c1),{'message':_0x32d369}),this[_0x484b6f(0x2ba)](this['configService'][_0x484b6f(0x763)](_0x484b6f(0x337)),_0x32d369,'SEND_MESSAGE',_0x303884),await this[_0x484b6f(0xc4)]['message'][_0x484b6f(0x1da)]([_0x32d369],this[_0x484b6f(0x6ba)][_0x484b6f(0x3e5)]),_0x5482be;}catch(_0x42fc10){let _0x53aaa1=_0x484b6f(0x426),_0x71bbe6=_0x42fc10 instanceof Error?_0x42fc10[_0x484b6f(0x416)]:typeof _0x42fc10==_0x484b6f(0x645)?JSON['stringify'](_0x42fc10):_0x42fc10,_0x1377e6=_0x53aaa1+':\x20'+_0x71bbe6;throw this[_0x484b6f(0x438)][_0x484b6f(0xfa)](this[_0x484b6f(0x5ec)]+'\x20('+this[_0x484b6f(0x6ba)][_0x484b6f(0x3e5)]+_0x484b6f(0x1ef)+_0x1377e6),new m(_0x1377e6);}}get[a0_0x96c47(0x3de)](){const _0x149850=a0_0x96c47;return this[_0x149850(0x729)];}async[a0_0x96c47(0x6d6)](_0x1a418d){const _0x2f5d32=a0_0x96c47;let _0x4db5b2=So,_0x640986=et;return _0x640986&&this[_0x2f5d32(0x5ec)][_0x2f5d32(0x5cf)]()[_0x2f5d32(0x546)](_0x640986[_0x2f5d32(0x5cf)]())&&(_0x1a418d[_0x2f5d32(0x6d6)][_0x2f5d32(0x68c)]+='\x0a\x0a'+_0x4db5b2),await this['sendMessageWithTyping'](_0x1a418d[_0x2f5d32(0x483)],{'conversation':_0x1a418d['textMessage'][_0x2f5d32(0x68c)]},_0x1a418d?.[_0x2f5d32(0x698)]);}async[a0_0x96c47(0x288)](_0x1c186a){const _0x22a264=a0_0x96c47;if(!_0x1c186a[_0x22a264(0x43e)])throw new m(_0x22a264(0x2ab));if(!_0x1c186a['content'])throw new m(_0x22a264(0x110));if(_0x1c186a['allContacts']){let _0x192eb2=await this['repository'][_0x22a264(0x6e1)]['find']({'where':{}},this['instance']['wuid']);if(!_0x192eb2[_0x22a264(0x1fc)])throw new m('Contacts\x20not\x20found');_0x1c186a[_0x22a264(0xe0)]=_0x192eb2[_0x22a264(0x2bc)](_0x40e880=>_0x40e880['pushName'])[_0x22a264(0x504)](_0xac7398=>_0xac7398['_id']);}if(!_0x1c186a['statusJidList']?.['length']&&!_0x1c186a[_0x22a264(0x4c0)])throw new m(_0x22a264(0x5e9));if(_0x1c186a[_0x22a264(0x43e)]===_0x22a264(0x68c)){if(!_0x1c186a[_0x22a264(0x34d)])throw new m(_0x22a264(0x2d1));if(!_0x1c186a['font'])throw new m(_0x22a264(0x15a));return{'content':{'text':_0x1c186a['content']},'option':{'backgroundColor':_0x1c186a[_0x22a264(0x34d)],'font':_0x1c186a[_0x22a264(0x8f)],'statusJidList':_0x1c186a[_0x22a264(0xe0)]}};}if(_0x1c186a[_0x22a264(0x43e)]===_0x22a264(0x657))return{'content':{'image':{'url':_0x1c186a[_0x22a264(0x5c9)]},'caption':_0x1c186a[_0x22a264(0x5c0)]},'option':{'statusJidList':_0x1c186a['statusJidList']}};if(_0x1c186a[_0x22a264(0x43e)]===_0x22a264(0x658))return{'content':{'video':{'url':_0x1c186a['content']},'caption':_0x1c186a['caption']},'option':{'statusJidList':_0x1c186a[_0x22a264(0xe0)]}};if(_0x1c186a[_0x22a264(0x43e)]===_0x22a264(0x31b)){this[_0x22a264(0x438)][_0x22a264(0x4b8)]('Type\x20defined\x20as\x20audio'),this[_0x22a264(0x438)][_0x22a264(0x4b8)](_0x22a264(0x1b7));let _0x43d7b8=await this[_0x22a264(0x6e3)](_0x1c186a['content']);if(typeof _0x43d7b8=='string'){this[_0x22a264(0x438)][_0x22a264(0x4b8)](_0x22a264(0x626));let _0x19103c=j[_0x22a264(0xf6)](_0x43d7b8)['toString'](_0x22a264(0x343));return{'content':{'audio':Buffer[_0x22a264(0x5b0)](_0x19103c,_0x22a264(0x343)),'ptt':!0x0,'mimetype':_0x22a264(0x35b)},'option':{'statusJidList':_0x1c186a['statusJidList']}};}else throw new I(_0x43d7b8);}throw new m(_0x22a264(0x6f2));}async['statusMessage'](_0x38e59e){const _0x4c5303=a0_0x96c47;return await this[_0x4c5303(0x14c)](_0x4c5303(0x174),{'status':await this[_0x4c5303(0x288)](_0x38e59e[_0x4c5303(0x604)])});}async['prepareMediaMessage'](_0x2714c1){const _0x5ec189=a0_0x96c47;try{let _0x29d569=await(0x0,f['prepareWAMessageMedia'])({[_0x2714c1['mediatype']]:(0x0,P[_0x5ec189(0x2b4)])(_0x2714c1[_0x5ec189(0x630)])?{'url':_0x2714c1[_0x5ec189(0x630)]}:Buffer['from'](_0x2714c1[_0x5ec189(0x630)],'base64')},{'upload':this[_0x5ec189(0x10d)]['waUploadToServer']}),_0x2d157f=_0x2714c1[_0x5ec189(0x249)]+'Message';if(_0x2714c1[_0x5ec189(0x249)]==='document'&&!_0x2714c1['fileName']){let _0x452542=new RegExp(/.*\/(.+?)\./)[_0x5ec189(0x6d5)](_0x2714c1[_0x5ec189(0x630)]);_0x2714c1[_0x5ec189(0x3c8)]=_0x452542?_0x452542[0x1]:null;}let _0x2f6b83=(0x0,P['isURL'])(_0x2714c1[_0x5ec189(0x630)])?_0x2714c1[_0x5ec189(0x630)][_0x5ec189(0x620)]('?')[0x0]:_0x2714c1['media'];this['logger'][_0x5ec189(0x4b8)](_0x5ec189(0x3b6)+_0x2f6b83);let _0x48318c;(0x0,P[_0x5ec189(0x2b4)])(_0x2714c1[_0x5ec189(0x630)])?_0x48318c=(0x0,kt['getMIMEType'])(_0x2f6b83):_0x2714c1[_0x5ec189(0x3c8)]&&_0x2714c1[_0x5ec189(0x3c8)][_0x5ec189(0x546)]('.')?_0x48318c=(0x0,kt[_0x5ec189(0x633)])(_0x2714c1['fileName']):_0x48318c=(0x0,kt[_0x5ec189(0x633)])(_0x2714c1[_0x5ec189(0x630)]);let _0x9f4d2e=So,_0x3ce6f0=et;return _0x3ce6f0&&this[_0x5ec189(0x5ec)][_0x5ec189(0x5cf)]()['includes'](_0x3ce6f0[_0x5ec189(0x5cf)]())&&(_0x2714c1[_0x5ec189(0x5c0)]+='\x0a\x0a'+_0x9f4d2e),_0x29d569[_0x2d157f][_0x5ec189(0x5c0)]=_0x2714c1?.[_0x5ec189(0x5c0)],_0x29d569[_0x2d157f]['mimetype']=_0x48318c,_0x29d569[_0x2d157f]['fileName']=_0x2714c1[_0x5ec189(0x3c8)],_0x2714c1[_0x5ec189(0x249)]===_0x5ec189(0x658)&&(_0x29d569[_0x2d157f][_0x5ec189(0x152)]=Uint8Array[_0x5ec189(0x5b0)]((0x0,Te['readFileSync'])((0x0,F[_0x5ec189(0x34a)])(process[_0x5ec189(0x262)](),_0x5ec189(0x629)))),_0x29d569[_0x2d157f][_0x5ec189(0x491)]=!0x1),(0x0,f[_0x5ec189(0x154)])('',{[_0x2d157f]:{..._0x29d569[_0x2d157f]}},{'userJid':this[_0x5ec189(0x6ba)]['wuid']});}catch(_0x1f7a3b){let _0x31f45f=_0x5ec189(0x5dd),_0x49783f=_0x1f7a3b instanceof Error?_0x1f7a3b[_0x5ec189(0x416)]:typeof _0x1f7a3b==_0x5ec189(0x645)?JSON[_0x5ec189(0x2bf)](_0x1f7a3b):_0x1f7a3b,_0x230659=_0x31f45f+':\x20'+_0x49783f;throw this[_0x5ec189(0x438)][_0x5ec189(0xfa)](this[_0x5ec189(0x5ec)]+'\x20('+this[_0x5ec189(0x6ba)][_0x5ec189(0x3e5)]+'):\x20'+_0x230659),new I(_0x230659);}}async['mediaMessage'](_0x5ba96a){const _0x300847=a0_0x96c47;let _0xbd9b16=await this['prepareMediaMessage'](_0x5ba96a[_0x300847(0x332)]);return await this[_0x300847(0x14c)](_0x5ba96a['number'],{..._0xbd9b16[_0x300847(0x416)]},_0x5ba96a?.[_0x300847(0x698)]);}async[a0_0x96c47(0xdc)](_0x5d4240,_0xfdb411){const _0x7ccd6d=a0_0x96c47;try{this['logger'][_0x7ccd6d(0x4b8)](_0x7ccd6d(0x222));let _0xae66ad,_0x49640d=_0xfdb411+'-'+new Date()['getTime']();this['logger']['verbose']('Hash\x20to\x20image\x20name:\x20'+_0x49640d);let _0x18f2bc=''+(0x0,F[_0x7ccd6d(0x34a)])(this['storePath'],_0x49640d+_0x7ccd6d(0x42f));if(this[_0x7ccd6d(0x438)][_0x7ccd6d(0x4b8)](_0x7ccd6d(0x205)+_0x18f2bc),(0x0,P[_0x7ccd6d(0x632)])(_0x5d4240)){this[_0x7ccd6d(0x438)][_0x7ccd6d(0x4b8)](_0x7ccd6d(0x156));let _0x596107=_0x5d4240[_0x7ccd6d(0x6e2)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x546511=Buffer[_0x7ccd6d(0x5b0)](_0x596107,'base64');_0xae66ad=''+(0x0,F['join'])(this['storePath'],_0x7ccd6d(0x6f5)+_0x49640d+'.png'),this['logger'][_0x7ccd6d(0x4b8)]('Image\x20path:\x20'+_0xae66ad),await(0x0,Lt[_0x7ccd6d(0x5ef)])(_0x546511)[_0x7ccd6d(0x431)](_0xae66ad),this[_0x7ccd6d(0x438)][_0x7ccd6d(0x4b8)](_0x7ccd6d(0x370));}else{this[_0x7ccd6d(0x438)][_0x7ccd6d(0x4b8)]('Image\x20is\x20url');let _0x561768=new Date()[_0x7ccd6d(0x4e7)](),_0x1193ed=_0x5d4240+_0x7ccd6d(0x1c9)+_0x561768;this[_0x7ccd6d(0x438)][_0x7ccd6d(0x4b8)]('including\x20timestamp\x20in\x20url:\x20'+_0x1193ed);let _0x10b37b=await K['default'][_0x7ccd6d(0x763)](_0x1193ed,{'responseType':_0x7ccd6d(0x44c)});this['logger'][_0x7ccd6d(0x4b8)](_0x7ccd6d(0x120));let _0x583214=Buffer[_0x7ccd6d(0x5b0)](_0x10b37b[_0x7ccd6d(0x4e4)],_0x7ccd6d(0x478));_0xae66ad=''+(0x0,F[_0x7ccd6d(0x34a)])(this['storePath'],_0x7ccd6d(0x6f5)+_0x49640d+_0x7ccd6d(0xfc)),this[_0x7ccd6d(0x438)][_0x7ccd6d(0x4b8)](_0x7ccd6d(0x53c)+_0xae66ad),await(0x0,Lt[_0x7ccd6d(0x5ef)])(_0x583214)[_0x7ccd6d(0x431)](_0xae66ad),this[_0x7ccd6d(0x438)][_0x7ccd6d(0x4b8)](_0x7ccd6d(0x370));}return await(0x0,Lt[_0x7ccd6d(0x5ef)])(_0xae66ad)[_0x7ccd6d(0x2fe)]()[_0x7ccd6d(0x431)](_0x18f2bc),this['logger'][_0x7ccd6d(0x4b8)]('Image\x20converted\x20to\x20WebP'),j[_0x7ccd6d(0x40c)](_0xae66ad),this[_0x7ccd6d(0x438)]['verbose']('Temp\x20image\x20deleted'),_0x18f2bc;}catch(_0x32cddb){let _0x40833c='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x1a52a3=_0x32cddb instanceof Error?_0x32cddb['message']:typeof _0x32cddb==_0x7ccd6d(0x645)?JSON[_0x7ccd6d(0x2bf)](_0x32cddb):_0x32cddb,_0x282b6a=_0x40833c+':\x20'+_0x1a52a3;this['logger'][_0x7ccd6d(0xfa)](this[_0x7ccd6d(0x5ec)]+'\x20('+this['instance'][_0x7ccd6d(0x3e5)]+_0x7ccd6d(0x1ef)+_0x282b6a);}}async[a0_0x96c47(0x30d)](_0x124afd){const _0xbd0096=a0_0x96c47;let _0x1adfe0=await this['convertToWebP'](_0x124afd[_0xbd0096(0x4ec)][_0xbd0096(0x657)],_0x124afd['number']),_0x16edc9=await this[_0xbd0096(0x14c)](_0x124afd[_0xbd0096(0x483)],{'sticker':{'url':_0x1adfe0}},_0x124afd?.['options']);return j['unlinkSync'](_0x1adfe0),this['logger']['verbose'](_0xbd0096(0x4b2)),_0x16edc9;}async[a0_0x96c47(0x5f5)](_0x56a311){const _0x298e23=a0_0x96c47;if(this[_0x298e23(0x438)][_0x298e23(0x4b8)](_0x298e23(0x303)),!_0x56a311[_0x298e23(0x698)]?.['encoding']&&_0x56a311[_0x298e23(0x698)]?.[_0x298e23(0x195)]!==!0x1&&(_0x56a311[_0x298e23(0x698)][_0x298e23(0x195)]=!0x0),_0x56a311[_0x298e23(0x698)]?.[_0x298e23(0x195)]){let _0x419ffe=await this[_0x298e23(0x6e3)](_0x56a311[_0x298e23(0x2a6)][_0x298e23(0x31b)]);if(typeof _0x419ffe==_0x298e23(0x1e4)){let _0x5aebff=j[_0x298e23(0xf6)](_0x419ffe)[_0x298e23(0x5f2)](_0x298e23(0x343));return this[_0x298e23(0x14c)](_0x56a311[_0x298e23(0x483)],{'audio':Buffer[_0x298e23(0x5b0)](_0x5aebff,_0x298e23(0x343)),'ptt':!0x0,'mimetype':_0x298e23(0x509)},{'presence':_0x298e23(0x563),'delay':_0x56a311?.[_0x298e23(0x698)]?.['delay']});}else throw new I(_0x419ffe);}return await this[_0x298e23(0x14c)](_0x56a311['number'],{'audio':(0x0,P[_0x298e23(0x2b4)])(_0x56a311[_0x298e23(0x2a6)][_0x298e23(0x31b)])?{'url':_0x56a311[_0x298e23(0x2a6)][_0x298e23(0x31b)]}:Buffer[_0x298e23(0x5b0)](_0x56a311[_0x298e23(0x2a6)]['audio'],_0x298e23(0x343)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':_0x298e23(0x563),'delay':_0x56a311?.[_0x298e23(0x698)]?.[_0x298e23(0x293)]});}async['convertaudio'](_0x4ec85c){const _0x149b54=a0_0x96c47;this['logger'][_0x149b54(0x4b8)](_0x149b54(0x1b7));let _0x3268b1=(0x0,P['isURL'])(_0x4ec85c)?(0x0,Ut[_0x149b54(0x2de)])(_0x149b54(0x5e5))[_0x149b54(0x490)](_0x4ec85c)[_0x149b54(0x1dc)]('hex'):(0x0,Ut[_0x149b54(0x2de)])(_0x149b54(0x5e5))[_0x149b54(0x490)](_0x4ec85c)[_0x149b54(0x1dc)](_0x149b54(0x3a4)),_0x5b91a7=''+(0x0,F[_0x149b54(0x34a)])(this['storePath'],_0x3268b1+_0x149b54(0x100));if(j[_0x149b54(0x484)](_0x5b91a7))return this[_0x149b54(0x438)][_0x149b54(0x4b8)](_0x149b54(0x231)),_0x5b91a7;let _0x3be884=''+(0x0,F[_0x149b54(0x34a)])(this[_0x149b54(0x599)],_0x149b54(0x6f5)+(0x0,jt['v4'])()+'.mp3');if((0x0,P[_0x149b54(0x2b4)])(_0x4ec85c)){let _0x389cd0=new Date()['getTime'](),_0x27ad20=_0x4ec85c+_0x149b54(0x1c9)+_0x389cd0,_0x11df3c=await K[_0x149b54(0x5ef)][_0x149b54(0x763)](_0x27ad20,{'responseType':_0x149b54(0x44c)});j['writeFileSync'](_0x3be884,_0x11df3c[_0x149b54(0x4e4)]);}else{let _0x1a68ff=Buffer['from'](_0x4ec85c,_0x149b54(0x343));j[_0x149b54(0x4d3)](_0x3be884,_0x1a68ff);}return new Promise((_0x1c23f1,_0x1fe549)=>{const _0x365e32=_0x149b54;(0x0,$e['exec'])(Os[_0x365e32(0x5ef)][_0x365e32(0xb3)]+_0x365e32(0xfd)+_0x3be884+_0x365e32(0x1a3)+_0x5b91a7+_0x365e32(0x24e),_0x8118af=>{const _0x54e770=_0x365e32;if(j[_0x54e770(0x40c)](_0x3be884),_0x8118af){this[_0x54e770(0x438)]['verbose']('Error\x20in\x20converting\x20audio'),_0x1fe549(_0x8118af);return;}this[_0x54e770(0x438)][_0x54e770(0x4b8)]('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x1c23f1(_0x5b91a7);});});}async['convertaudioMP3'](_0x302938){const _0x3e0bca=a0_0x96c47;this['logger']['verbose'](_0x3e0bca(0x1b7));let _0x5de367=(0x0,Ut['createHash'])('sha256')[_0x3e0bca(0x490)](_0x302938)[_0x3e0bca(0x1dc)](_0x3e0bca(0x3a4)),_0x180747=''+(0x0,F[_0x3e0bca(0x34a)])(this[_0x3e0bca(0x599)],_0x5de367+_0x3e0bca(0x3f4));if(j[_0x3e0bca(0x484)](_0x180747))return this[_0x3e0bca(0x438)][_0x3e0bca(0x4b8)](_0x3e0bca(0x231)),F[_0x3e0bca(0x5ef)]['basename'](_0x180747);let _0x4f77e6=''+(0x0,F[_0x3e0bca(0x34a)])(this['storePath'],'temp-'+_0x5de367+_0x3e0bca(0x100));if((0x0,P[_0x3e0bca(0x2b4)])(_0x302938)){let _0x36ac8e=new Date()[_0x3e0bca(0x4e7)](),_0x2d38f2=_0x302938+_0x3e0bca(0x1c9)+_0x36ac8e,_0x4efd38=await K[_0x3e0bca(0x5ef)][_0x3e0bca(0x763)](_0x2d38f2,{'responseType':'arraybuffer'});j['writeFileSync'](_0x4f77e6,_0x4efd38[_0x3e0bca(0x4e4)]);}else{let _0x3152d2=Buffer[_0x3e0bca(0x5b0)](_0x302938,_0x3e0bca(0x343));j[_0x3e0bca(0x4d3)](_0x4f77e6,_0x3152d2);}return new Promise((_0x39da00,_0x2b1dca)=>{const _0x8b0a60=_0x3e0bca;(0x0,$e[_0x8b0a60(0x6d5)])(Os[_0x8b0a60(0x5ef)][_0x8b0a60(0xb3)]+_0x8b0a60(0xfd)+_0x4f77e6+_0x8b0a60(0x1f0)+_0x180747+'\x20-y',_0x22bad4=>{const _0x1a2c26=_0x8b0a60;if(j[_0x1a2c26(0x40c)](_0x4f77e6),_0x22bad4){this[_0x1a2c26(0x438)][_0x1a2c26(0x4b8)](_0x1a2c26(0x36f)),_0x2b1dca(_0x22bad4);return;}this[_0x1a2c26(0x438)][_0x1a2c26(0x4b8)]('Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x39da00(F[_0x1a2c26(0x5ef)][_0x1a2c26(0x3b3)](_0x180747));});});}async[a0_0x96c47(0x2b8)](_0xeae434){const _0x2922c6=a0_0x96c47;let _0x3c2eda={},_0x4f3284=_0x2922c6(0x4c5);if(_0xeae434['buttonMessage']?.[_0x2922c6(0x332)]){_0x4f3284=_0xeae434[_0x2922c6(0x2b8)][_0x2922c6(0x332)]?.[_0x2922c6(0x249)][_0x2922c6(0x3c3)]()??'TEXT',_0x3c2eda[_0x2922c6(0x560)]=_0x4f3284[_0x2922c6(0x5cf)]()+'Message';let _0x1b8a6d=await this[_0x2922c6(0x2a2)](_0xeae434[_0x2922c6(0x2b8)][_0x2922c6(0x332)]);_0x3c2eda[_0x2922c6(0x416)]=_0x1b8a6d['message'][_0x3c2eda[_0x2922c6(0x560)]],_0x3c2eda[_0x2922c6(0x112)]='*'+_0xeae434[_0x2922c6(0x2b8)][_0x2922c6(0x428)]+'*\x0a\x0a'+_0xeae434['buttonMessage'][_0x2922c6(0x5cc)];}let _0x48453c={'text':_0xeae434['buttonMessage'][_0x2922c6(0x2bb)][_0x2922c6(0x504)](_0x43bb38=>_0x43bb38[_0x2922c6(0x4f5)]),'ids':_0xeae434['buttonMessage'][_0x2922c6(0x2bb)][_0x2922c6(0x504)](_0x182cab=>_0x182cab[_0x2922c6(0x3ab)])};if(!(0x0,P['arrayUnique'])(_0x48453c[_0x2922c6(0x68c)])||!(0x0,P['arrayUnique'])(_0x48453c['ids']))throw new m(_0x2922c6(0x603),_0x2922c6(0x127));return await this[_0x2922c6(0x14c)](_0xeae434[_0x2922c6(0x483)],{'buttonsMessage':{'text':_0x3c2eda?.[_0x2922c6(0x560)]?void 0x0:_0xeae434['buttonMessage'][_0x2922c6(0x428)],'contentText':_0x3c2eda?.[_0x2922c6(0x112)]??_0xeae434['buttonMessage'][_0x2922c6(0x5cc)],'footerText':_0xeae434['buttonMessage']?.[_0x2922c6(0x42b)],'buttons':_0xeae434[_0x2922c6(0x2b8)][_0x2922c6(0x2bb)][_0x2922c6(0x504)](_0x4e9f86=>({'buttonText':{'displayText':_0x4e9f86[_0x2922c6(0x4f5)]},'buttonId':_0x4e9f86[_0x2922c6(0x3ab)],'type':0x1})),'headerType':f[_0x2922c6(0x3a0)][_0x2922c6(0x48c)]['ButtonsMessage'][_0x2922c6(0x31d)][_0x4f3284],[_0x3c2eda?.[_0x2922c6(0x560)]]:_0x3c2eda?.[_0x2922c6(0x416)]}},_0xeae434?.[_0x2922c6(0x698)]);}async[a0_0x96c47(0x1ca)](_0x797b90){const _0x4dcf30=a0_0x96c47;return await this['sendMessageWithTyping'](_0x797b90['number'],{'locationMessage':{'degreesLatitude':_0x797b90[_0x4dcf30(0x1ca)][_0x4dcf30(0x6ef)],'degreesLongitude':_0x797b90['locationMessage'][_0x4dcf30(0x176)],'name':_0x797b90[_0x4dcf30(0x1ca)]?.[_0x4dcf30(0x11a)],'address':_0x797b90[_0x4dcf30(0x1ca)]?.[_0x4dcf30(0x21f)]}},_0x797b90?.[_0x4dcf30(0x698)]);}async[a0_0x96c47(0x180)](_0x51095d){const _0xfc50da=a0_0x96c47;let _0x122eca={},_0x1cdbd3=async _0x44d209=>{const _0x3ab920=a0_0x3aea;let _0x11ba9d=_0x3ab920(0x51b)+_0x44d209['fullName']+_0x3ab920(0x44d)+_0x44d209[_0x3ab920(0x294)]+'\x0a';_0x44d209[_0x3ab920(0x12a)]&&(_0x11ba9d+=_0x3ab920(0x26c)+_0x44d209[_0x3ab920(0x12a)]+';\x0a'),_0x44d209[_0x3ab920(0x4e2)]&&(_0x11ba9d+=_0x3ab920(0x460)+_0x44d209[_0x3ab920(0x4e2)]+'\x0a'),_0x44d209[_0x3ab920(0x65f)]&&(_0x11ba9d+='URL:'+_0x44d209[_0x3ab920(0x65f)]+'\x0a');let _0x1bea41='',_0x6c3a67=0x1;if(_0x44d209[_0x3ab920(0x83)]){let _0x5e35e4=_0x44d209['phoneNumber'][_0x3ab920(0x620)]('|');for(let _0x142230 of _0x5e35e4){let _0x1e25a5=await this[_0x3ab920(0x597)]({'numbers':[_0x142230]}),_0x24bd5e=(_0x1e25a5['length']>0x0?_0x1e25a5[0x0]['jid']:this[_0x3ab920(0x178)](_0x142230))[_0x3ab920(0x6e2)](_0x3ab920(0x5da),'');_0x1bea41+=_0x3ab920(0x39b)+_0x6c3a67+_0x3ab920(0x441)+_0x24bd5e+':'+_0x142230+_0x3ab920(0x57f)+_0x6c3a67+_0x3ab920(0xa8),_0x6c3a67++;}}return _0x11ba9d+=_0x1bea41+'END:VCARD',_0x11ba9d;};return _0x51095d[_0xfc50da(0x180)][_0xfc50da(0x1fc)]===0x1?_0x122eca[_0xfc50da(0x180)]={'displayName':_0x51095d[_0xfc50da(0x180)][0x0]['fullName'],'vcard':await _0x1cdbd3(_0x51095d['contactMessage'][0x0])}:_0x122eca['contactsArrayMessage']={'displayName':_0x51095d[_0xfc50da(0x180)][_0xfc50da(0x1fc)]+_0xfc50da(0x3b5),'contacts':await Promise[_0xfc50da(0x710)](_0x51095d['contactMessage'][_0xfc50da(0x504)](async _0x5463fc=>({'displayName':_0x5463fc[_0xfc50da(0x294)],'vcard':await _0x1cdbd3(_0x5463fc)})))},await this[_0xfc50da(0x14c)](_0x51095d[_0xfc50da(0x483)],{..._0x122eca},_0x51095d?.[_0xfc50da(0x698)]);}async[a0_0x96c47(0x3d2)](_0x50fde3){const _0x398f39=a0_0x96c47;return await this[_0x398f39(0x14c)](_0x50fde3[_0x398f39(0x3d2)][_0x398f39(0x570)][_0x398f39(0x101)],{'reactionMessage':{'key':_0x50fde3[_0x398f39(0x3d2)][_0x398f39(0x570)],'text':_0x50fde3['reactionMessage']['reaction']}});}async['whatsappNumber'](_0x3cf32a){const _0x4afa0d=a0_0x96c47;let _0x1b8c09=[];for await(let _0x257708 of _0x3cf32a[_0x4afa0d(0x1ff)]){let _0x517e13=this['createJid'](_0x257708),_0x45e57b=!0x1;try{if((0x0,f['isJidGroup'])(_0x517e13)){let _0x199162=(await this[_0x4afa0d(0xc4)][_0x4afa0d(0x129)][_0x4afa0d(0x732)]({'where':{'_id':_0x517e13}},this[_0x4afa0d(0x6ba)][_0x4afa0d(0x3e5)]))[_0x4afa0d(0x38f)];_0x45e57b=!!_0x199162?.['id']&&!!_0x199162?.[_0x4afa0d(0xed)],_0x1b8c09[_0x4afa0d(0xc0)](new ye(_0x199162['id'],_0x45e57b,_0x199162?.[_0x4afa0d(0xe4)]));}else{let _0x1a2725=(await this['client'][_0x4afa0d(0x17d)](_0x517e13))[0x0];_0x45e57b=_0x1a2725['exists'],_0x1b8c09['push'](new ye(_0x1a2725[_0x4afa0d(0x16c)],_0x45e57b));}}catch{(0x0,f[_0x4afa0d(0x445)])(_0x517e13)||await this[_0x4afa0d(0x3c9)](_0x517e13,_0x45e57b),_0x1b8c09[_0x4afa0d(0xc0)](new ye(_0x257708,!0x1));}}return _0x1b8c09;}async[a0_0x96c47(0x3c9)](_0x558bda,_0x532dff){const _0x505d8d=a0_0x96c47;try{await this[_0x505d8d(0xc4)][_0x505d8d(0x129)][_0x505d8d(0x732)]({'where':{'_id':_0x558bda,'imported':!0x0}},this[_0x505d8d(0x6ba)][_0x505d8d(0x3e5)])&&(_0x532dff||(await this[_0x505d8d(0xc4)][_0x505d8d(0x129)][_0x505d8d(0x588)](_0x558bda,this[_0x505d8d(0x6ba)][_0x505d8d(0x3e5)]),this[_0x505d8d(0x438)][_0x505d8d(0x5f7)]('Chat\x20com\x20ID\x20'+_0x558bda+_0x505d8d(0x3c7))));}catch(_0x4a016d){let _0x5b1484=_0x505d8d(0x29f),_0x54340f=_0x4a016d instanceof Error?_0x4a016d[_0x505d8d(0x416)]:typeof _0x4a016d==_0x505d8d(0x645)?JSON['stringify'](_0x4a016d):_0x4a016d,_0xb95f82=_0x5b1484+':\x20'+_0x54340f;this[_0x505d8d(0x438)][_0x505d8d(0xfa)](this[_0x505d8d(0x5ec)]+'\x20('+this[_0x505d8d(0x6ba)]['wuid']+_0x505d8d(0x1ef)+_0xb95f82);}}async[a0_0x96c47(0x551)](_0x313775){const _0x12bfb4=a0_0x96c47;try{let _0x1a1267=_0x313775[_0x12bfb4(0x57c)][_0x12bfb4(0x2bc)](_0x3b28c3=>(0x0,f[_0x12bfb4(0x445)])(_0x3b28c3[_0x12bfb4(0x101)])||(0x0,f[_0x12bfb4(0x4ff)])(_0x3b28c3[_0x12bfb4(0x101)]))[_0x12bfb4(0x504)](_0x57653b=>({'remoteJid':_0x57653b[_0x12bfb4(0x101)],'fromMe':_0x57653b[_0x12bfb4(0x4ba)],'id':_0x57653b['id']}));await this[_0x12bfb4(0x10d)][_0x12bfb4(0x57c)](_0x1a1267);let _0x194a7f=_0x1a1267['map'](_0x52b19b=>this['updateMessage'](_0x52b19b,{'status':_0x12bfb4(0x6d4),'owner':this[_0x12bfb4(0x6ba)][_0x12bfb4(0x3e5)]})),_0x5416e8=_0x1a1267['map'](_0x42f6e5=>this[_0x12bfb4(0xc4)][_0x12bfb4(0x129)][_0x12bfb4(0x481)]({'where':{'_id':_0x42f6e5[_0x12bfb4(0x101)]}},{'unreadcount':0x0},this[_0x12bfb4(0x6ba)][_0x12bfb4(0x3e5)])),[_0xede3d4,_0x2b802d]=await Promise[_0x12bfb4(0x710)]([Promise['all'](_0x194a7f),Promise[_0x12bfb4(0x710)](_0x5416e8)]);return _0x2b802d[_0x12bfb4(0x2bc)](_0x5e705b=>_0x5e705b!==null)['forEach'](_0x51dde6=>{const _0x17fe42=_0x12bfb4;U(this['instanceName'],_0x17fe42(0x261),{'chat':_0x51dde6});}),{'message':_0x12bfb4(0x669),'read':_0x12bfb4(0x508)};}catch(_0x428181){let _0x154b95=_0x12bfb4(0x49b),_0x14423b=_0x428181 instanceof Error?_0x428181[_0x12bfb4(0x416)]:typeof _0x428181==_0x12bfb4(0x645)?JSON[_0x12bfb4(0x2bf)](_0x428181):_0x428181,_0x178e40=_0x154b95+':\x20'+_0x14423b;throw this[_0x12bfb4(0x438)][_0x12bfb4(0xfa)](this[_0x12bfb4(0x5ec)]+'\x20('+this[_0x12bfb4(0x6ba)][_0x12bfb4(0x3e5)]+_0x12bfb4(0x1ef)+_0x178e40),new I(_0x178e40);}}async['getLastMessage'](_0x501506){let _0x29e567={'where':{'key':{'remoteJid':_0x501506}},'limit':0x1},_0x1b3423=await this['fetchMessages'](_0x29e567);return _0x1b3423||(console['error']('Last\x20message\x20not\x20found\x20for\x20number:',_0x501506),null);}async[a0_0x96c47(0x735)](_0x3ff64a){const _0x2fca86=a0_0x96c47;this[_0x2fca86(0x438)][_0x2fca86(0x4b8)](_0x2fca86(0x3bc));try{let _0x33edcb=_0x3ff64a[_0x2fca86(0x733)],_0x10d6c5=_0x3ff64a[_0x2fca86(0x129)];if(!_0x33edcb&&_0x10d6c5?_0x33edcb=await this[_0x2fca86(0x579)](_0x10d6c5):(_0x33edcb=_0x3ff64a[_0x2fca86(0x733)],_0x33edcb[_0x2fca86(0x1cf)]=_0x33edcb?.[_0x2fca86(0x1cf)]??Date['now'](),_0x10d6c5=_0x33edcb?.[_0x2fca86(0x570)]?.[_0x2fca86(0x101)]),!_0x33edcb||Object[_0x2fca86(0x6af)](_0x33edcb)[_0x2fca86(0x1fc)]===0x0)throw new J(_0x2fca86(0x5ca));this['logger'][_0x2fca86(0x4b8)]('Archiving\x20chat\x20in\x20client\x20for\x20number:\x20'+_0x10d6c5);try{await this[_0x2fca86(0x10d)]['chatModify']({'archive':_0x3ff64a[_0x2fca86(0x338)],'lastMessages':[_0x33edcb]},this[_0x2fca86(0x178)](_0x10d6c5));}catch(_0x5e9ce6){let _0x47a693=_0x2fca86(0x3b0)+_0x10d6c5,_0x250fd3=_0x5e9ce6 instanceof Error?_0x5e9ce6[_0x2fca86(0x416)]:typeof _0x5e9ce6==_0x2fca86(0x645)?JSON['stringify'](_0x5e9ce6):_0x5e9ce6,_0x182b6f=_0x47a693+':\x20'+_0x250fd3;this[_0x2fca86(0x438)]['error'](this[_0x2fca86(0x5ec)]+'\x20('+this[_0x2fca86(0x6ba)]['wuid']+'):\x20'+_0x182b6f);}this[_0x2fca86(0x438)][_0x2fca86(0x4b8)]('Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x10d6c5);let _0x472bd7=await this['repository'][_0x2fca86(0x129)][_0x2fca86(0x481)]({'where':{'_id':_0x33edcb?.['key']?.[_0x2fca86(0x101)]}},{'archived':_0x3ff64a['archive']},this[_0x2fca86(0x6ba)][_0x2fca86(0x3e5)]);return _0x472bd7?(this[_0x2fca86(0x438)][_0x2fca86(0x4b8)]('Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x2fca86(0x2bf)](_0x472bd7)),U(this['instanceName'],'chats',{'chat':_0x472bd7})):this[_0x2fca86(0x438)]['error'](_0x2fca86(0x54c)+_0x10d6c5),{'chatId':_0x10d6c5,'archived':_0x3ff64a['archive']};}catch(_0x21c2e9){let _0x3ab07a='Erro\x20ao\x20arquivar\x20chat',_0x200563=_0x21c2e9 instanceof Error?_0x21c2e9[_0x2fca86(0x416)]:typeof _0x21c2e9=='object'?JSON['stringify'](_0x21c2e9):_0x21c2e9,_0x2f1ab4=_0x3ab07a+':\x20'+_0x200563;throw this[_0x2fca86(0x438)][_0x2fca86(0xfa)](this[_0x2fca86(0x5ec)]+'\x20('+this[_0x2fca86(0x6ba)][_0x2fca86(0x3e5)]+'):\x20'+_0x2f1ab4),new I(_0x2f1ab4);}}async[a0_0x96c47(0x588)](_0xabc178){const _0x23d98f=a0_0x96c47;this[_0x23d98f(0x438)][_0x23d98f(0x4b8)]('Delete\x20chat');try{let _0x5c6a5d=await this[_0x23d98f(0x579)](_0xabc178);if(!_0x5c6a5d||Object[_0x23d98f(0x6af)](_0x5c6a5d)['length']===0x0)throw new J(_0x23d98f(0x5ca));let _0x37319c=_0x5c6a5d[0x0];this[_0x23d98f(0x438)]['verbose']('Delete\x20chat\x20in\x20client\x20for\x20number:\x20'+_0xabc178);try{await this[_0x23d98f(0x10d)][_0x23d98f(0xd5)]({'delete':!0x0,'lastMessages':[{'key':_0x37319c['key'],'messageTimestamp':_0x37319c['messageTimestamp']}]},this[_0x23d98f(0x178)](_0xabc178));}catch(_0x257bd0){this[_0x23d98f(0x438)][_0x23d98f(0xfa)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0xabc178+':\x20'+_0x257bd0[_0x23d98f(0x5f2)]());}this[_0x23d98f(0x438)][_0x23d98f(0x4b8)](_0x23d98f(0x4aa)+_0xabc178);return;}catch(_0x5c729c){throw this[_0x23d98f(0x438)][_0x23d98f(0xfa)](_0x23d98f(0x5a5)+_0x5c729c['toString']()),new I({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x5c729c['toString']()]});}}async[a0_0x96c47(0x6ae)](_0x52eec7){const _0x8b1f92=a0_0x96c47;try{let _0x2db6b7=await this[_0x8b1f92(0x10d)][_0x8b1f92(0x3da)](_0x52eec7[_0x8b1f92(0x101)],{'delete':_0x52eec7});try{let _0x351b99=await this['updateMessage'](_0x52eec7,{'status':_0x8b1f92(0xf5),'owner':this[_0x8b1f92(0x6ba)][_0x8b1f92(0x3e5)]});this[_0x8b1f92(0x438)]['verbose'](this[_0x8b1f92(0x5ec)]+'\x20('+this['instance'][_0x8b1f92(0x3e5)]+_0x8b1f92(0x1fd)+_0x351b99);}catch(_0x798288){console['error'](_0x8b1f92(0x254),_0x798288);}return _0x2db6b7;}catch(_0x5f2ff3){throw new I(_0x8b1f92(0x17f),_0x5f2ff3?.[_0x8b1f92(0x5f2)]());}}async[a0_0x96c47(0x48e)](_0x29e5d2){const _0x23027a=a0_0x96c47;try{let _0x654a3f=_0x29e5d2?.[_0x23027a(0x416)]?_0x29e5d2:await this[_0x23027a(0x2f5)](_0x29e5d2['key'],!0x0);for(let _0x38335a of ya)_0x654a3f[_0x23027a(0x416)][_0x38335a]&&(_0x654a3f[_0x23027a(0x416)]=_0x654a3f[_0x23027a(0x416)][_0x38335a][_0x23027a(0x416)]);let _0x32c09c,_0x4487c7;for(let _0x89153f of wa)if(_0x32c09c=_0x654a3f[_0x23027a(0x416)][_0x89153f],_0x32c09c){_0x4487c7=_0x89153f;break;}if(!_0x32c09c)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0x32c09c[_0x23027a(0x560)]==_0x23027a(0x645)&&(_0x654a3f['message']=JSON[_0x23027a(0x3a8)](JSON[_0x23027a(0x2bf)](_0x654a3f[_0x23027a(0x416)])));let _0x4be3dc=await(0x0,f[_0x23027a(0x4ea)])({'key':_0x654a3f?.[_0x23027a(0x570)],'message':_0x654a3f?.[_0x23027a(0x416)]},_0x23027a(0x7f),{},{'logger':(0x0,Pt[_0x23027a(0x5ef)])({'level':_0x23027a(0x175)}),'reuploadRequest':this[_0x23027a(0x10d)]['updateMediaMessage']});if(!(_0x4be3dc instanceof Buffer))throw new Error(_0x23027a(0x248));let _0x59bbf0=this[_0x23027a(0x184)]['get'](_0x23027a(0x337)),_0x59cf92,_0x19124b;if(_0x32c09c['fileName'])_0x59cf92=_0x32c09c[_0x23027a(0x3c8)];else{let _0x46d0e6=_0x32c09c[_0x23027a(0x2e6)]?.[_0x23027a(0x6a7)](/\/(\w+)/),_0x5cdcbb=_0x46d0e6?_0x46d0e6[0x1]:null;if(!_0x5cdcbb)throw new Error(_0x23027a(0x3ae));_0x59cf92=(0x0,jt['v4'])()+'.'+_0x5cdcbb;}_0x4487c7===_0x23027a(0x2a6)?_0x19124b='/media/'+await this[_0x23027a(0x321)](_0x4be3dc[_0x23027a(0x5f2)](_0x23027a(0x343))):(await this[_0x23027a(0x6fa)](_0x4be3dc,_0x59cf92),_0x19124b=_0x23027a(0x188)+_0x59cf92);let _0x360109=this[_0x23027a(0x184)]['get'](_0x23027a(0x32e))[_0x23027a(0x210)];if(!_0x360109){let _0x330717=this[_0x23027a(0x184)][_0x23027a(0x763)](_0x23027a(0x696));_0x360109=_0x23027a(0x1e2)+(_0x330717&&_0x330717['FULLCHAIN'][_0x23027a(0x620)]('/')[0x4]);}_0x19124b=''+_0x360109+_0x19124b;let _0x5b46f6=0xc*0x3c*0x3c*0x3e8,_0x493aed={'where':{'_id':_0x654a3f[_0x23027a(0x570)]['id']}},_0x27e966={'message_normalized.fileUrl':_0x19124b,'message_normalized.expires_fileUrl':Date['now']()+_0x5b46f6};try{let _0x19470c=await this['repository'][_0x23027a(0x416)][_0x23027a(0x490)](_0x493aed,_0x27e966,this[_0x23027a(0x6ba)][_0x23027a(0x3e5)]);_0x19470c&&U(this[_0x23027a(0x5ec)],_0x23027a(0x1c1),{'message':_0x19470c});}catch(_0x52dd4c){let _0x408a40=_0x23027a(0x242),_0x3edb0a=_0x52dd4c instanceof Error?_0x52dd4c[_0x23027a(0x416)]:typeof _0x52dd4c=='object'?JSON['stringify'](_0x52dd4c):_0x52dd4c,_0xdc80c=_0x408a40+':\x20'+_0x3edb0a;this[_0x23027a(0x438)]['error'](this[_0x23027a(0x5ec)]+'\x20('+this['instance'][_0x23027a(0x3e5)]+_0x23027a(0x1ef)+_0xdc80c);}return{'mediaType':_0x4487c7,'fileName':_0x32c09c[_0x23027a(0x3c8)],'caption':_0x32c09c[_0x23027a(0x5c0)],'size':{'fileLength':_0x32c09c[_0x23027a(0x2e7)],'height':_0x32c09c[_0x23027a(0x717)],'width':_0x32c09c[_0x23027a(0x591)]},'mimetype':_0x32c09c['mimetype'],'base64':_0x4be3dc[_0x23027a(0x5f2)](_0x23027a(0x343)),'fileUrl':_0x19124b,'expires_fileUrl':Date[_0x23027a(0x35c)]()+_0x5b46f6};}catch(_0x3afdec){let _0x3f56d8=_0x23027a(0x5f6),_0x2660ba=_0x3afdec instanceof Error?_0x3afdec[_0x23027a(0x416)]:typeof _0x3afdec=='object'?JSON[_0x23027a(0x2bf)](_0x3afdec):_0x3afdec,_0x3c0e37=_0x3f56d8+':\x20'+_0x2660ba;throw this['logger'][_0x23027a(0xfa)](this[_0x23027a(0x5ec)]+'\x20('+this[_0x23027a(0x6ba)][_0x23027a(0x3e5)]+_0x23027a(0x1ef)+_0x3c0e37),new m(_0x3c0e37);}}async['saveMediaToFile'](_0x44e01a,_0xa1d2c7){const _0x510cb9=a0_0x96c47;let _0x165720=F[_0x510cb9(0x5ef)][_0x510cb9(0x34a)](__dirname,_0x510cb9(0x747));j['existsSync'](_0x165720)||j[_0x510cb9(0x362)](_0x165720,{'recursive':!0x0});let _0x435acd=F[_0x510cb9(0x5ef)][_0x510cb9(0x34a)](_0x165720,_0xa1d2c7);return new Promise((_0x146e6a,_0x563add)=>{const _0x358464=_0x510cb9;j[_0x358464(0x164)](_0x435acd,_0x44e01a,_0x4fac3f=>{const _0x396e70=_0x358464;_0x4fac3f?(this[_0x396e70(0x438)][_0x396e70(0xfa)]('Error\x20writing\x20file:\x20'+(_0x4fac3f instanceof Error?_0x4fac3f[_0x396e70(0x416)]:JSON[_0x396e70(0x2bf)](_0x4fac3f,null,0x2))),_0x563add(_0x4fac3f)):(this[_0x396e70(0x438)]['log']('File\x20written\x20to\x20path:\x20'+_0x435acd),_0x146e6a(_0x435acd));});});}async[a0_0x96c47(0x51a)](_0x11e7c2){const _0x2d7fcf=a0_0x96c47;return await this[_0x2d7fcf(0xc4)][_0x2d7fcf(0x6e1)]['find'](_0x11e7c2,this[_0x2d7fcf(0x6ba)]['wuid']);}async[a0_0x96c47(0x44b)](){const _0x1ee664=a0_0x96c47;return await this[_0x1ee664(0xc4)][_0x1ee664(0x33d)]['find']({'where':{}},this[_0x1ee664(0x6ba)][_0x1ee664(0x3e5)]);}async[a0_0x96c47(0x9c)](_0x5d2174){const _0x348cc2=a0_0x96c47;return await this[_0x348cc2(0xc4)][_0x348cc2(0x416)][_0x348cc2(0xd4)](_0x5d2174,this[_0x348cc2(0x6ba)]['wuid']);}async[a0_0x96c47(0x7e)](){const _0x68793e=a0_0x96c47;return this[_0x68793e(0xc4)][_0x68793e(0x129)][_0x68793e(0xd6)](this[_0x68793e(0x6ba)][_0x68793e(0x3e5)]),this['repository'][_0x68793e(0x129)]['updateMissingEtiquetas'](this[_0x68793e(0x6ba)][_0x68793e(0x3e5)]),this[_0x68793e(0xc4)][_0x68793e(0x129)][_0x68793e(0x67d)](this[_0x68793e(0x6ba)]['wuid']),this[_0x68793e(0xc4)][_0x68793e(0x129)][_0x68793e(0x422)](this[_0x68793e(0x6ba)][_0x68793e(0x3e5)]),await this['repository']['chat'][_0x68793e(0xd4)]({'where':{}},this[_0x68793e(0x6ba)]['wuid']);}async[a0_0x96c47(0x39c)](_0x132c04){const _0x5d91c5=a0_0x96c47;try{if(!Array[_0x5d91c5(0x3d6)](_0x132c04)||_0x132c04['length']===0x0)throw new Error(_0x5d91c5(0xf0));let _0x192fab=[],_0x43f36d=[];for(let _0x5ced51 of _0x132c04){if(_0x5ced51['_id'])_0x5ced51[_0x5d91c5(0x1be)]=this[_0x5d91c5(0x178)](_0x5ced51['_id']);else continue;await this[_0x5d91c5(0xc4)][_0x5d91c5(0x129)][_0x5d91c5(0x732)]({'where':{'_id':_0x5ced51[_0x5d91c5(0x1be)]}},this[_0x5d91c5(0x6ba)][_0x5d91c5(0x3e5)])?_0x43f36d[_0x5d91c5(0xc0)]({'_id':_0x5ced51['_id'],'leadInfo':_0x5ced51[_0x5d91c5(0x412)],'owner':this[_0x5d91c5(0x6ba)][_0x5d91c5(0x3e5)]}):_0x192fab[_0x5d91c5(0xc0)]({'_id':_0x5ced51[_0x5d91c5(0x1be)],'owner':this['instance'][_0x5d91c5(0x3e5)],'leadInfo':_0x5ced51[_0x5d91c5(0x412)],'imported':!0x0});}return _0x43f36d[_0x5d91c5(0x1fc)]>0x0&&await this[_0x5d91c5(0xc4)]['chat'][_0x5d91c5(0x562)](_0x43f36d[_0x5d91c5(0x504)](_0x4d48f2=>({'query':{'where':{'_id':_0x4d48f2[_0x5d91c5(0x1be)],'owner':this[_0x5d91c5(0x6ba)]['wuid']}},'update':_0x4d48f2}))),_0x192fab[_0x5d91c5(0x1fc)]>0x0&&await this[_0x5d91c5(0xc4)]['chat'][_0x5d91c5(0x4cf)](_0x192fab,this[_0x5d91c5(0x6ba)][_0x5d91c5(0x3e5)]),{'updated':_0x43f36d[_0x5d91c5(0x1fc)],'inserted':_0x192fab[_0x5d91c5(0x1fc)]};}catch(_0xa4ed29){let _0x118fe9=_0x5d91c5(0xa3),_0x4a7683=_0xa4ed29 instanceof Error?_0xa4ed29[_0x5d91c5(0x416)]:typeof _0xa4ed29==_0x5d91c5(0x645)?JSON[_0x5d91c5(0x2bf)](_0xa4ed29):_0xa4ed29,_0x28c319=_0x118fe9+':\x20'+_0x4a7683;throw this[_0x5d91c5(0x438)][_0x5d91c5(0xfa)](this[_0x5d91c5(0x5ec)]+'\x20('+this['instance'][_0x5d91c5(0x3e5)]+_0x5d91c5(0x1ef)+_0x28c319),new m(_0x28c319);}}async['importChats'](_0x42f790){const _0x329799=a0_0x96c47;try{if(!Array[_0x329799(0x3d6)](_0x42f790)||_0x42f790['length']===0x0)throw new Error(_0x329799(0xf0));let _0x4a4ee7=0x64,_0x59a1c2=0x0;for(let _0x8b9eee=0x0;_0x8b9eee<_0x42f790['length'];_0x8b9eee+=_0x4a4ee7){let _0x56f958=_0x42f790[_0x329799(0xa6)](_0x8b9eee,_0x8b9eee+_0x4a4ee7),{updated:_0x1fe735}=await this[_0x329799(0x1d5)](_0x56f958);_0x59a1c2+=_0x1fe735;}return{'updated':_0x59a1c2};}catch(_0x2267e1){let _0x1e874f=_0x329799(0xa3),_0x2aebde=_0x2267e1 instanceof Error?_0x2267e1[_0x329799(0x416)]:typeof _0x2267e1=='object'?JSON[_0x329799(0x2bf)](_0x2267e1):_0x2267e1,_0x2804ca=_0x1e874f+':\x20'+_0x2aebde;throw this[_0x329799(0x438)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x329799(0x1ef)+_0x2804ca),new m(_0x2804ca);}}async['importChatsBatch'](_0x442e15){const _0x1d6f95=a0_0x96c47;try{let _0x158c6c=await this[_0x1d6f95(0xc4)][_0x1d6f95(0x33d)][_0x1d6f95(0xd4)]({'where':{}},this['instance'][_0x1d6f95(0x3e5)]),_0x3156bd=new Set(_0x158c6c[_0x1d6f95(0x504)](_0x1a2016=>_0x1a2016[_0x1d6f95(0x1be)])),_0x1b6a7a=[],_0x3a156d=[];for(let _0x1ffca5 of _0x442e15){if(!_0x1ffca5[_0x1d6f95(0x1be)])continue;_0x1ffca5[_0x1d6f95(0x1be)]=this[_0x1d6f95(0x178)](_0x1ffca5['_id']);let _0x569a31=await this[_0x1d6f95(0xc4)][_0x1d6f95(0x129)]['findOne']({'where':{'_id':_0x1ffca5['_id']}},this['instance'][_0x1d6f95(0x3e5)]),_0x26faf7={};if(Object[_0x1d6f95(0x744)](_0x1ffca5['leadInfo'])['forEach'](([_0x182848,_0x326043])=>{_0x26faf7['leadInfo.'+_0x182848]=_0x326043;}),_0x569a31&&!_0x569a31[_0x1d6f95(0x3f5)]){let _0x5a38e8=(_0x1ffca5['leadInfo'][_0x1d6f95(0x52a)]||[])[_0x1d6f95(0x2bc)](_0x27f52c=>_0x3156bd[_0x1d6f95(0x29a)](_0x27f52c)),_0x5885ab=new Set(_0x569a31[_0x1d6f95(0x412)]['etiquetas']||[]),_0x961af7=_0x5a38e8['filter'](_0x44a9dd=>!_0x5885ab['has'](_0x44a9dd)),_0x5509ed=[..._0x5885ab][_0x1d6f95(0x2bc)](_0x16f295=>!_0x5a38e8['includes'](_0x16f295));_0x3a156d['push'](..._0x961af7[_0x1d6f95(0x504)](_0x3da8dc=>this[_0x1d6f95(0x1d1)](_0x3da8dc,_0x1ffca5[_0x1d6f95(0x1be)]))),_0x3a156d[_0x1d6f95(0xc0)](..._0x5509ed['map'](_0x1373db=>this[_0x1d6f95(0x539)](_0x1373db,_0x1ffca5[_0x1d6f95(0x1be)]))),_0x1ffca5[_0x1d6f95(0x412)][_0x1d6f95(0x52a)]=_0x5a38e8,_0x1b6a7a[_0x1d6f95(0xc0)]({'query':{'where':{'_id':_0x1ffca5['_id'],'owner':this[_0x1d6f95(0x6ba)]['wuid']}},'update':_0x26faf7});}else _0x26faf7['imported']=!0x0,_0x1b6a7a[_0x1d6f95(0xc0)]({'query':{'where':{'_id':_0x1ffca5['_id'],'owner':this['instance'][_0x1d6f95(0x3e5)]}},'update':_0x26faf7});}let _0x538f03=await this[_0x1d6f95(0xc4)][_0x1d6f95(0x129)][_0x1d6f95(0x562)](_0x1b6a7a);return await Promise['all'](_0x3a156d),{'updated':_0x538f03};}catch(_0x523f02){let _0x235c49='Erro\x20ao\x20importar\x20chats',_0x40e4f6=_0x523f02 instanceof Error?_0x523f02[_0x1d6f95(0x416)]:typeof _0x523f02==_0x1d6f95(0x645)?JSON[_0x1d6f95(0x2bf)](_0x523f02):_0x523f02,_0x3515f9=_0x235c49+':\x20'+_0x40e4f6;throw this[_0x1d6f95(0x438)]['error'](this['instanceName']+'\x20('+this[_0x1d6f95(0x6ba)][_0x1d6f95(0x3e5)]+_0x1d6f95(0x1ef)+_0x3515f9),new m(_0x3515f9);}}async[a0_0x96c47(0x518)](){const _0x4552c4=a0_0x96c47;return await this[_0x4552c4(0x10d)][_0x4552c4(0x518)]();}async[a0_0x96c47(0x435)](_0xfbdd42){const _0x114981=a0_0x96c47;try{return await this['client'][_0x114981(0x2df)](_0xfbdd42[_0x114981(0x5d4)]['readreceipts']),await this[_0x114981(0x10d)]['updateProfilePicturePrivacy'](_0xfbdd42[_0x114981(0x5d4)][_0x114981(0x585)]),await this['client'][_0x114981(0x10c)](_0xfbdd42[_0x114981(0x5d4)]['status']),await this[_0x114981(0x10d)][_0x114981(0x750)](_0xfbdd42[_0x114981(0x5d4)][_0x114981(0x1df)]),await this['client'][_0x114981(0x437)](_0xfbdd42[_0x114981(0x5d4)][_0x114981(0x4fe)]),await this[_0x114981(0x10d)][_0x114981(0x236)](_0xfbdd42[_0x114981(0x5d4)][_0x114981(0x2d3)]),this[_0x114981(0x10d)]?.['ws']?.['close'](),{'update':_0x114981(0x508),'data':{'readreceipts':_0xfbdd42[_0x114981(0x5d4)][_0x114981(0x67b)],'profile':_0xfbdd42['privacySettings'][_0x114981(0x585)],'status':_0xfbdd42['privacySettings'][_0x114981(0x275)],'online':_0xfbdd42[_0x114981(0x5d4)]['online'],'last':_0xfbdd42[_0x114981(0x5d4)][_0x114981(0x4fe)],'groupadd':_0xfbdd42['privacySettings'][_0x114981(0x2d3)]}};}catch(_0x179622){let _0x5abc3d='Erro\x20ao\x20alterar\x20privacidade',_0x37e7ff=_0x179622 instanceof Error?_0x179622[_0x114981(0x416)]:typeof _0x179622==_0x114981(0x645)?JSON[_0x114981(0x2bf)](_0x179622):_0x179622,_0x1ce7ed=_0x5abc3d+':\x20'+_0x37e7ff;throw this[_0x114981(0x438)]['error'](this['instanceName']+'\x20('+this[_0x114981(0x6ba)][_0x114981(0x3e5)]+'):\x20'+_0x1ce7ed),new m(_0x1ce7ed);}}async[a0_0x96c47(0x3ba)](_0xd18797){const _0x3526e1=a0_0x96c47;let _0x33ec3c=(_0xd18797?this[_0x3526e1(0x178)](_0xd18797):this['client']?.[_0x3526e1(0x63b)]?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x3526e1(0x438)][_0x3526e1(0x4b8)](_0x3526e1(0x2e8)+_0x33ec3c);let _0x40cd36=await this['repository'][_0x3526e1(0x6e1)][_0x3526e1(0x732)]({'where':{'_id':_0x33ec3c}},this[_0x3526e1(0x6ba)][_0x3526e1(0x3e5)]),_0x44a7c8=_0x40cd36?_0x40cd36[_0x3526e1(0x29b)]:null;try{let _0x5df615=(await this['whatsappNumber']({'numbers':[_0x33ec3c]}))?.[_0x3526e1(0x531)](),_0x677d84=(await this[_0x3526e1(0x74e)](_0x33ec3c,null,!0x1))[_0x3526e1(0x286)][_0x3526e1(0x709)],_0x5cf6a4=await this[_0x3526e1(0x3e6)](_0x5df615?.['jid']),_0x4f7b12=await this['fetchBusinessProfile'](_0x5df615?.[_0x3526e1(0x16c)]),_0x321ade=(await this[_0x3526e1(0x74e)](_0x33ec3c,null,!0x1))[_0x3526e1(0x286)][_0x3526e1(0x11a)],_0x20c0ae=await this['repository']['chat'][_0x3526e1(0x732)]({'where':{'_id':_0x33ec3c}},this[_0x3526e1(0x6ba)]['wuid']),_0x150e66={'imagechat':_0x677d84,'contactname':_0x44a7c8||null,'pushName':_0x321ade,'status':_0x5cf6a4?.[_0x3526e1(0x275)],'isBusiness':_0x4f7b12[_0x3526e1(0x237)],'email':_0x4f7b12?.['email'],'description':_0x4f7b12?.[_0x3526e1(0x5cc)],'website':_0x4f7b12?.[_0x3526e1(0x723)]?.[_0x3526e1(0x531)](),'lastcache':Date[_0x3526e1(0x35c)](),'imported':!_0x20c0ae},_0x581291=await this['repository'][_0x3526e1(0x129)][_0x3526e1(0x481)]({'where':{'_id':_0x33ec3c}},_0x150e66,this[_0x3526e1(0x6ba)][_0x3526e1(0x3e5)]),_0x272366={'owner':this[_0x3526e1(0x6ba)]['wuid'],'_id':_0x33ec3c,'profilePictureUrl':_0x677d84,'status':_0x5cf6a4?.['status']};return this[_0x3526e1(0xc4)][_0x3526e1(0x6e1)]['update']([_0x272366],this['instance'][_0x3526e1(0x3e5)]),_0x581291&&U(this[_0x3526e1(0x5ec)],_0x3526e1(0x261),{'chat':_0x581291}),{'wuid':_0x5df615?.[_0x3526e1(0x16c)]||_0x33ec3c,'name':_0x5df615?.[_0x3526e1(0x11a)],'pushName':_0x321ade,'numberExists':_0x5df615?.[_0x3526e1(0x4dc)],'picture':_0x677d84,'status':_0x5cf6a4?.[_0x3526e1(0x275)],'isBusiness':_0x4f7b12[_0x3526e1(0x237)],'email':_0x4f7b12?.[_0x3526e1(0x4e2)],'description':_0x4f7b12?.['description'],'website':_0x4f7b12?.[_0x3526e1(0x723)]?.['shift']()};}catch(_0x396edd){return this['logger'][_0x3526e1(0xfa)](_0x3526e1(0x427)+(_0x396edd instanceof Error?_0x396edd[_0x3526e1(0x416)]:JSON[_0x3526e1(0x2bf)](_0x396edd,null,0x2))),{};}}async[a0_0x96c47(0x213)](_0x3f98de){const _0x48cda0=a0_0x96c47;this['logger'][_0x48cda0(0x4b8)](_0x48cda0(0x556));try{let _0x424800=_0x3f98de?this[_0x48cda0(0x178)](_0x3f98de):this['instance']['wuid'],_0x31ee53=await this[_0x48cda0(0x10d)][_0x48cda0(0x6ff)](_0x424800);return this[_0x48cda0(0x438)][_0x48cda0(0x4b8)](_0x48cda0(0x64e)),_0x31ee53?(this[_0x48cda0(0x438)][_0x48cda0(0x4b8)]('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x31ee53}):{'isBusiness':!0x1,'message':_0x48cda0(0x126),...(await this[_0x48cda0(0x597)]({'numbers':[_0x424800]}))?.[_0x48cda0(0x531)]()};}catch(_0x25a26e){let _0x1f9f3f=_0x48cda0(0x5bc),_0x5a1245=_0x25a26e instanceof Error?_0x25a26e[_0x48cda0(0x416)]:typeof _0x25a26e==_0x48cda0(0x645)?JSON[_0x48cda0(0x2bf)](_0x25a26e):_0x25a26e,_0x20e0c8=_0x1f9f3f+':\x20'+_0x5a1245;throw this[_0x48cda0(0x438)][_0x48cda0(0xfa)](this[_0x48cda0(0x5ec)]+'\x20('+this['instance'][_0x48cda0(0x3e5)]+_0x48cda0(0x1ef)+_0x20e0c8),new I(_0x20e0c8);}}async[a0_0x96c47(0x3e6)](_0x53408b){const _0x5838de=a0_0x96c47;let _0x37d82a=this[_0x5838de(0x178)](_0x53408b);try{return{'wuid':_0x37d82a,'status':(await this[_0x5838de(0x10d)][_0x5838de(0x41e)](_0x37d82a))?.[_0x5838de(0x275)]};}catch{return{'wuid':_0x37d82a,'status':null};}}async[a0_0x96c47(0xd7)](_0x1a450d){const _0x10a90e=a0_0x96c47;try{return await this[_0x10a90e(0x10d)]['updateProfileName'](_0x1a450d),{'update':_0x10a90e(0x508)};}catch(_0xfc8f96){let _0x381193='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',_0x20056c=_0xfc8f96 instanceof Error?_0xfc8f96[_0x10a90e(0x416)]:typeof _0xfc8f96==_0x10a90e(0x645)?JSON[_0x10a90e(0x2bf)](_0xfc8f96):_0xfc8f96,_0x46f5d0=_0x381193+':\x20'+_0x20056c;throw this[_0x10a90e(0x438)][_0x10a90e(0xfa)](this[_0x10a90e(0x5ec)]+'\x20('+this['instance'][_0x10a90e(0x3e5)]+_0x10a90e(0x1ef)+_0x46f5d0),new I(_0x46f5d0);}}async[a0_0x96c47(0x746)](_0x47a866){const _0x28cc32=a0_0x96c47;try{return await this[_0x28cc32(0x10d)][_0x28cc32(0x746)](_0x47a866),{'update':_0x28cc32(0x508)};}catch(_0x3da451){let _0x5f0727='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus',_0x40b6da=_0x3da451 instanceof Error?_0x3da451[_0x28cc32(0x416)]:typeof _0x3da451==_0x28cc32(0x645)?JSON[_0x28cc32(0x2bf)](_0x3da451):_0x3da451,_0x486885=_0x5f0727+':\x20'+_0x40b6da;throw this[_0x28cc32(0x438)][_0x28cc32(0xfa)](this[_0x28cc32(0x5ec)]+'\x20('+this[_0x28cc32(0x6ba)][_0x28cc32(0x3e5)]+_0x28cc32(0x1ef)+_0x486885),new I(_0x486885);}}async[a0_0x96c47(0x4f7)](_0x261df3){const _0x10e974=a0_0x96c47;try{let _0x41faf6;if((0x0,P[_0x10e974(0x2b4)])(_0x261df3)){let _0x536c07=new Date()['getTime'](),_0x32f713=_0x261df3+_0x10e974(0x1c9)+_0x536c07;_0x41faf6=(await K[_0x10e974(0x5ef)]['get'](_0x32f713,{'responseType':_0x10e974(0x44c)}))['data'];}else{if((0x0,P[_0x10e974(0x632)])(_0x261df3))_0x41faf6=Buffer[_0x10e974(0x5b0)](_0x261df3,_0x10e974(0x343));else throw new m(_0x10e974(0x686));}return await this[_0x10e974(0x10d)][_0x10e974(0x4f7)](this[_0x10e974(0x6ba)][_0x10e974(0x3e5)],_0x41faf6),{'update':_0x10e974(0x508)};}catch(_0x1ff32d){let _0xa9e436=_0x10e974(0x703),_0x2e86c8=_0x1ff32d instanceof Error?_0x1ff32d[_0x10e974(0x416)]:typeof _0x1ff32d==_0x10e974(0x645)?JSON[_0x10e974(0x2bf)](_0x1ff32d):_0x1ff32d,_0x2a6dd8=_0xa9e436+':\x20'+_0x2e86c8;throw this[_0x10e974(0x438)][_0x10e974(0xfa)](this[_0x10e974(0x5ec)]+'\x20('+this[_0x10e974(0x6ba)][_0x10e974(0x3e5)]+'):\x20'+_0x2a6dd8),new I(_0x2a6dd8);}}async[a0_0x96c47(0x3e1)](){const _0x48b481=a0_0x96c47;try{return await this[_0x48b481(0x10d)][_0x48b481(0x3e1)](this['instance'][_0x48b481(0x3e5)]),{'update':_0x48b481(0x508)};}catch(_0x223b36){let _0x1ec77c=_0x48b481(0x670),_0x42429a=_0x223b36 instanceof Error?_0x223b36[_0x48b481(0x416)]:typeof _0x223b36==_0x48b481(0x645)?JSON[_0x48b481(0x2bf)](_0x223b36):_0x223b36,_0x518e60=_0x1ec77c+':\x20'+_0x42429a;throw this['logger'][_0x48b481(0xfa)](this[_0x48b481(0x5ec)]+'\x20('+this[_0x48b481(0x6ba)][_0x48b481(0x3e5)]+_0x48b481(0x1ef)+_0x518e60),new I(_0x518e60);}}async[a0_0x96c47(0x6aa)](_0x1e17d3){const _0x28b7d5=a0_0x96c47;try{let _0x24870a=(await this['whatsappNumber']({'numbers':_0x1e17d3['participants']}))['filter'](_0x15ca65=>_0x15ca65[_0x28b7d5(0x4dc)])[_0x28b7d5(0x504)](_0x2ffd38=>_0x2ffd38[_0x28b7d5(0x16c)]),{id:_0x3de2fc}=await this[_0x28b7d5(0x10d)][_0x28b7d5(0x414)](_0x1e17d3[_0x28b7d5(0xe4)],_0x24870a);_0x1e17d3?.['description']&&await this[_0x28b7d5(0x10d)]['groupUpdateDescription'](_0x3de2fc,_0x1e17d3[_0x28b7d5(0x5cc)]);let _0x23fb7c=await this[_0x28b7d5(0x10d)][_0x28b7d5(0x668)](_0x3de2fc);return _0x23fb7c[_0x28b7d5(0x60e)]=[],{'metadata':_0x23fb7c};}catch(_0x417568){let _0x549957='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x56636a=_0x417568 instanceof Error?_0x417568[_0x28b7d5(0x416)]:typeof _0x417568==_0x28b7d5(0x645)?JSON[_0x28b7d5(0x2bf)](_0x417568):_0x417568,_0x586924=_0x549957+':\x20'+_0x56636a;throw this[_0x28b7d5(0x438)]['error'](this['instanceName']+'\x20('+this[_0x28b7d5(0x6ba)][_0x28b7d5(0x3e5)]+_0x28b7d5(0x1ef)+_0x586924),new I(_0x586924);}}async[a0_0x96c47(0x29c)](_0x515dca){const _0x5e8add=a0_0x96c47;try{let _0x25c66d;if((0x0,P['isURL'])(_0x515dca[_0x5e8add(0x657)])){let _0x26dd4d=new Date()[_0x5e8add(0x4e7)](),_0x3af439=_0x515dca[_0x5e8add(0x657)]+'?timestamp='+_0x26dd4d;_0x25c66d=(await K[_0x5e8add(0x5ef)][_0x5e8add(0x763)](_0x3af439,{'responseType':_0x5e8add(0x44c)}))['data'];}else{if((0x0,P['isBase64'])(_0x515dca[_0x5e8add(0x657)]))_0x25c66d=Buffer['from'](_0x515dca['image'],_0x5e8add(0x343));else throw new m(_0x5e8add(0x686));}return await this[_0x5e8add(0x10d)][_0x5e8add(0x4f7)](_0x515dca['groupJid'],_0x25c66d),{'update':'success'};}catch(_0x143bd7){let _0x4b7ebf='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture',_0x507568=_0x143bd7 instanceof Error?_0x143bd7[_0x5e8add(0x416)]:typeof _0x143bd7==_0x5e8add(0x645)?JSON['stringify'](_0x143bd7):_0x143bd7,_0x57bbf9=_0x4b7ebf+':\x20'+_0x507568;throw this[_0x5e8add(0x438)][_0x5e8add(0xfa)](this[_0x5e8add(0x5ec)]+'\x20('+this['instance'][_0x5e8add(0x3e5)]+_0x5e8add(0x1ef)+_0x57bbf9),new I(_0x57bbf9);}}async[a0_0x96c47(0x2cb)](_0x4111af){const _0x560876=a0_0x96c47;try{if(_0x4111af[_0x560876(0x21e)]===!0x0&&await this[_0x560876(0x10d)]['groupSettingUpdate'](_0x4111af[_0x560876(0x38c)],_0x560876(0x3d4)),_0x4111af[_0x560876(0x21e)]===!0x1&&await this['client'][_0x560876(0x4ae)](_0x4111af[_0x560876(0x38c)],_0x560876(0x1fb)),_0x4111af[_0x560876(0x393)]===!0x0&&await this[_0x560876(0x10d)][_0x560876(0x4ae)](_0x4111af['groupJid'],_0x560876(0x347)),_0x4111af[_0x560876(0x393)]===!0x1&&await this['client'][_0x560876(0x4ae)](_0x4111af[_0x560876(0x38c)],_0x560876(0x157)),_0x4111af[_0x560876(0x3c2)]===!0x0&&await this[_0x560876(0x10d)][_0x560876(0x4b7)](_0x4111af[_0x560876(0x38c)],_0x560876(0x2c4)),_0x4111af[_0x560876(0x3c2)]===!0x1&&await this[_0x560876(0x10d)]['groupMemberAddMode'](_0x4111af[_0x560876(0x38c)],_0x560876(0x325)),_0x4111af[_0x560876(0x3fc)]===!0x0&&await this['client'][_0x560876(0x45b)](_0x4111af[_0x560876(0x38c)],'on'),_0x4111af['joinApprovalMode']===!0x1&&await this[_0x560876(0x10d)][_0x560876(0x45b)](_0x4111af['groupJid'],'off'),typeof _0x4111af[_0x560876(0x6c9)]<'u'&&_0x4111af['expiration']!==null&&await this['client'][_0x560876(0x702)](_0x4111af[_0x560876(0x38c)],_0x4111af['expiration']),_0x4111af['name']&&await this[_0x560876(0x10d)]['groupUpdateSubject'](_0x4111af[_0x560876(0x38c)],_0x4111af[_0x560876(0x11a)]),_0x4111af[_0x560876(0x5cc)]&&await this[_0x560876(0x10d)][_0x560876(0x6c8)](_0x4111af[_0x560876(0x38c)],_0x4111af[_0x560876(0x5cc)]),_0x4111af[_0x560876(0x657)]){let _0x259cc7;if((0x0,P[_0x560876(0x2b4)])(_0x4111af[_0x560876(0x657)])){let _0x468a34=new Date()[_0x560876(0x4e7)](),_0x49d764=_0x4111af[_0x560876(0x657)]+_0x560876(0x1c9)+_0x468a34;_0x259cc7=(await K['default']['get'](_0x49d764,{'responseType':_0x560876(0x44c)}))[_0x560876(0x4e4)];}else{if((0x0,P['isBase64'])(_0x4111af[_0x560876(0x657)]))_0x259cc7=Buffer[_0x560876(0x5b0)](_0x4111af[_0x560876(0x657)],'base64');else throw new m(_0x560876(0x686));}await this[_0x560876(0x10d)]['updateProfilePicture'](_0x4111af['groupJid'],_0x259cc7);}return await this[_0x560876(0x47f)]({'groupJid':_0x4111af['groupJid']});}catch(_0xf3db6e){let _0xf4a217=_0x560876(0x5e7),_0x254bba=_0xf3db6e instanceof Error?_0xf3db6e[_0x560876(0x416)]:typeof _0xf3db6e=='object'?JSON[_0x560876(0x2bf)](_0xf3db6e):_0xf3db6e,_0x4c28a5=_0xf4a217+':\x20'+_0x254bba;throw this['logger'][_0x560876(0xfa)](this[_0x560876(0x5ec)]+'\x20('+this[_0x560876(0x6ba)][_0x560876(0x3e5)]+_0x560876(0x1ef)+_0x4c28a5),new I(_0x4c28a5);}}async['updateGParticipant'](_0x244485){const _0x272ff0=a0_0x96c47;try{if(_0x244485[_0x272ff0(0x364)]===_0x272ff0(0x3e4)||_0x244485[_0x272ff0(0x364)]===_0x272ff0(0x223)){let _0x56b912=_0x244485[_0x272ff0(0x263)][_0x272ff0(0x504)](_0x1324ea=>this['createJid'](_0x1324ea));await this[_0x272ff0(0x10d)][_0x272ff0(0x6e9)](_0x244485['groupJid'],_0x56b912,_0x244485[_0x272ff0(0x364)]);}else{if(_0x244485['action']===_0x272ff0(0x179)){let _0x31e168=(await this[_0x272ff0(0x597)]({'numbers':_0x244485['participants']}))[_0x272ff0(0x2bc)](_0x486567=>_0x486567['exists'])[_0x272ff0(0x504)](_0x4d5801=>this[_0x272ff0(0x178)](_0x4d5801[_0x272ff0(0x16c)]));if(_0x31e168[_0x272ff0(0x1fc)]===0x0)throw new m(_0x272ff0(0x2c1));await this[_0x272ff0(0x10d)][_0x272ff0(0x6fd)](_0x244485[_0x272ff0(0x38c)],_0x31e168,_0x272ff0(0x179));}else{let _0x30b423=_0x244485[_0x272ff0(0x263)][_0x272ff0(0x504)](_0x22fb54=>this[_0x272ff0(0x178)](_0x22fb54));await this[_0x272ff0(0x10d)][_0x272ff0(0x6fd)](_0x244485['groupJid'],_0x30b423,_0x244485[_0x272ff0(0x364)]);}}return await this['findGroup']({'groupJid':_0x244485[_0x272ff0(0x38c)]});}catch(_0x3678ac){let _0x3f3c11=_0x272ff0(0x173),_0x5cde55=_0x3678ac instanceof Error?_0x3678ac[_0x272ff0(0x416)]:typeof _0x3678ac=='object'?JSON[_0x272ff0(0x2bf)](_0x3678ac):_0x3678ac,_0x2c7886=_0x3f3c11+':\x20'+_0x5cde55;throw this[_0x272ff0(0x438)][_0x272ff0(0xfa)](this[_0x272ff0(0x5ec)]+'\x20('+this[_0x272ff0(0x6ba)]['wuid']+_0x272ff0(0x1ef)+_0x2c7886),new m(_0x2c7886);}}async[a0_0x96c47(0x234)](_0x1601e2){const _0x5cfdb4=a0_0x96c47;try{return await this[_0x5cfdb4(0x10d)][_0x5cfdb4(0x234)](_0x1601e2[_0x5cfdb4(0x22f)]);}catch(_0x1f3da8){let _0xebed05=_0x5cfdb4(0x300),_0x4e14fc=_0x1f3da8 instanceof Error?_0x1f3da8[_0x5cfdb4(0x416)]:typeof _0x1f3da8=='object'?JSON[_0x5cfdb4(0x2bf)](_0x1f3da8):_0x1f3da8,_0x3644ef=_0xebed05+':\x20'+_0x4e14fc;throw this[_0x5cfdb4(0x438)][_0x5cfdb4(0xfa)](this[_0x5cfdb4(0x5ec)]+'\x20('+this[_0x5cfdb4(0x6ba)][_0x5cfdb4(0x3e5)]+_0x5cfdb4(0x1ef)+_0x3644ef),new m(_0x3644ef);}}async[a0_0x96c47(0x47f)](_0x17d3e9,_0x38581d=a0_0x96c47(0x111)){const _0x500ea8=a0_0x96c47;try{let _0x36d8f0=await this[_0x500ea8(0xc4)]['chat'][_0x500ea8(0x732)]({'where':{'_id':_0x17d3e9['groupJid']}},this[_0x500ea8(0x6ba)][_0x500ea8(0x3e5)]),_0x593c4d=_0x36d8f0?_0x36d8f0[_0x500ea8(0x38f)]:null,_0x2618df=0x18*0x3c*0x3c*0x3e8;if(!_0x593c4d||_0x593c4d[_0x500ea8(0x430)]&&Date[_0x500ea8(0x35c)]()-_0x593c4d['lastUpdate']>_0x2618df){let _0x42dcce=await this[_0x500ea8(0x10d)]['groupMetadata'](_0x17d3e9[_0x500ea8(0x38c)]);if(_0x42dcce['subjectTime']=_0x42dcce?.[_0x500ea8(0x5fa)]&&_0x42dcce[_0x500ea8(0x5fa)][_0x500ea8(0x5f2)]()[_0x500ea8(0x1fc)]<0xd?_0x42dcce?.[_0x500ea8(0x5fa)]*0x3e8:_0x42dcce?.[_0x500ea8(0x5fa)]||null,_0x42dcce[_0x500ea8(0x355)]=_0x42dcce?.[_0x500ea8(0x355)]&&_0x42dcce[_0x500ea8(0x355)][_0x500ea8(0x5f2)]()[_0x500ea8(0x1fc)]<0xd?_0x42dcce?.['creation']*0x3e8:_0x42dcce?.['creation']||null,_0x593c4d={..._0x42dcce,'lastUpdate':Date['now']()},!_0x42dcce)return;}let _0x22fbb0=_0x593c4d[_0x500ea8(0x263)][_0x500ea8(0x9b)](_0x1606f9=>_0x1606f9['id']===this[_0x500ea8(0x6ba)][_0x500ea8(0x3e5)]+_0x500ea8(0x5da)&&_0x1606f9[_0x500ea8(0x61c)]!=null);!_0x593c4d[_0x500ea8(0x22f)]&&_0x22fbb0&&(_0x593c4d[_0x500ea8(0x22f)]=(await this[_0x500ea8(0x22f)](_0x17d3e9,!0x1))[_0x500ea8(0xb0)]);let _0x1fba9a=(!_0x593c4d[_0x500ea8(0x393)]||_0x22fbb0)&&(!_0x593c4d[_0x500ea8(0x84)]||_0x593c4d[_0x500ea8(0x84)]&&_0x593c4d['isCommunityAnnounce']&&_0x22fbb0);_0x593c4d[_0x500ea8(0x605)]=_0x22fbb0,_0x593c4d[_0x500ea8(0xed)]=_0x1fba9a;let _0x52675f=[];if(_0x22fbb0&&_0x593c4d[_0x500ea8(0x3fc)])try{_0x52675f=await this[_0x500ea8(0x10d)]['groupRequestParticipantsList'](_0x17d3e9[_0x500ea8(0x38c)]),_0x593c4d[_0x500ea8(0x542)]=Date['now']();}catch(_0x549522){this['logger']['verbose'](this[_0x500ea8(0x5ec)]+'\x20('+this['instance'][_0x500ea8(0x3e5)]+_0x500ea8(0x268)+_0x17d3e9['groupJid']+':\x20'+(_0x549522 instanceof Error?_0x549522['message']:JSON[_0x500ea8(0x2bf)](_0x549522,null,0x2)));}try{_0x593c4d[_0x500ea8(0x657)]=(await this[_0x500ea8(0x74e)](_0x17d3e9[_0x500ea8(0x38c)],null,!0x0))[_0x500ea8(0x286)][_0x500ea8(0x709)];}catch(_0x241a48){this[_0x500ea8(0x438)][_0x500ea8(0x4b8)](this[_0x500ea8(0x5ec)]+'\x20('+this[_0x500ea8(0x6ba)][_0x500ea8(0x3e5)]+_0x500ea8(0x6bd)+_0x17d3e9[_0x500ea8(0x38c)]+':\x20'+(_0x241a48 instanceof Error?_0x241a48[_0x500ea8(0x416)]:JSON[_0x500ea8(0x2bf)](_0x241a48,null,0x2)));}let _0x111ad5=_0x593c4d[_0x500ea8(0x263)][_0x500ea8(0x504)](_0x28689a=>_0x28689a['id']),_0x2559a9=_0x52675f['map'](_0x1e1184=>_0x1e1184[_0x500ea8(0x16c)]),_0x17e0d3=await this[_0x500ea8(0xc4)][_0x500ea8(0x27b)][_0x500ea8(0x116)]([..._0x111ad5,..._0x2559a9]);_0x593c4d['participants']=_0x593c4d[_0x500ea8(0x263)]['map'](_0x1ed23a=>{const _0x4b086b=_0x500ea8;let _0x19b83a=_0x17e0d3[_0x4b086b(0xd4)](_0x2cf532=>_0x2cf532[_0x4b086b(0x1be)]===_0x1ed23a['id']);return{'id':_0x1ed23a['id'],'isAdmin':[_0x4b086b(0x61c),_0x4b086b(0x408)]['includes'](_0x1ed23a[_0x4b086b(0x61c)]),'admin':_0x1ed23a['admin'],'pushName':_0x19b83a?.['name'],'profilePictureUrl':_0x19b83a?.[_0x4b086b(0x709)]};}),_0x593c4d[_0x500ea8(0x60e)]=_0x52675f[_0x500ea8(0x504)](_0x4a9b07=>{const _0x5040f2=_0x500ea8;let _0x12e29e=_0x17e0d3[_0x5040f2(0xd4)](_0x249d33=>_0x249d33[_0x5040f2(0x1be)]===_0x4a9b07[_0x5040f2(0x16c)]);return{'id':_0x4a9b07['jid'],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x12e29e?.[_0x5040f2(0x11a)],'profilePictureUrl':_0x12e29e?.[_0x5040f2(0x709)],'request_method':_0x4a9b07[_0x5040f2(0x23d)],'request_time':_0x4a9b07[_0x5040f2(0x701)]};});let _0x551edb=await this['repository'][_0x500ea8(0x129)][_0x500ea8(0x481)]({'where':{'_id':_0x17d3e9['groupJid']}},{'imagechat':_0x593c4d[_0x500ea8(0x657)],'name':_0x593c4d[_0x500ea8(0xe4)],'lastcache':Date[_0x500ea8(0x35c)](),'groupdata':_0x593c4d},this[_0x500ea8(0x6ba)]['wuid']);return U(this['instanceName'],_0x500ea8(0x261),{'chat':_0x551edb}),{'metadata':_0x593c4d};}catch(_0x593658){if(_0x38581d===_0x500ea8(0x2af))return;throw new J(_0x500ea8(0x5e2),_0x593658[_0x500ea8(0x416)][_0x500ea8(0x5f2)]());}}async[a0_0x96c47(0x650)](){const _0xd7ea64=a0_0x96c47;try{let _0x479dc5=[],_0x57ddff=await this[_0xd7ea64(0x10d)][_0xd7ea64(0x1db)](),_0x3230ce=Object[_0xd7ea64(0x35a)](_0x57ddff),_0x515cd0=_0x3230ce['filter'](_0xd9bf9e=>(0x0,f[_0xd7ea64(0x445)])(_0xd9bf9e?.['id']))[_0xd7ea64(0x504)](async _0x4c76f2=>{const _0x3e8349=_0xd7ea64;try{return await this[_0x3e8349(0x10d)][_0x3e8349(0x3dc)](_0x4c76f2['id'],_0x3e8349(0x2c3));}catch(_0x3271eb){return this[_0x3e8349(0x438)][_0x3e8349(0x4b8)](this['instanceName']+'\x20('+this[_0x3e8349(0x6ba)][_0x3e8349(0x3e5)]+_0x3e8349(0x6bd)+_0x4c76f2['id']+':\x20'+(_0x3271eb instanceof Error?_0x3271eb[_0x3e8349(0x416)]:JSON[_0x3e8349(0x2bf)](_0x3271eb,null,0x2))),null;}}),_0x1cf6d2=await Promise[_0xd7ea64(0x710)](_0x515cd0);for(let _0x9db26c=0x0;_0x9db26c<_0x3230ce[_0xd7ea64(0x1fc)];_0x9db26c++){let _0x1d77a2=_0x3230ce[_0x9db26c];(0x0,f[_0xd7ea64(0x445)])(_0x1d77a2?.['id'])&&(_0x479dc5[_0xd7ea64(0xc0)]({'groupJid':_0x1d77a2?.['id'],'subject':_0x1d77a2?.[_0xd7ea64(0xe4)],'subjectOwner':_0x1d77a2?.[_0xd7ea64(0x1a6)]?.[_0xd7ea64(0x620)]('@')[0x0],'subjectTime':_0x1d77a2?.[_0xd7ea64(0x5fa)],'creation':_0x1d77a2?.[_0xd7ea64(0x355)],'size':_0x1d77a2?.[_0xd7ea64(0x263)]?.[_0xd7ea64(0x1fc)],'owner':_0x1d77a2?.[_0xd7ea64(0x220)]?.[_0xd7ea64(0x620)]('@')[0x0],'desc':_0x1d77a2?.[_0xd7ea64(0x5fe)],'restrict':_0x1d77a2?.[_0xd7ea64(0x21e)],'announce':_0x1d77a2?.[_0xd7ea64(0x393)],'image':_0x1cf6d2[_0x9db26c],'isCommunity':_0x1d77a2?.[_0xd7ea64(0x84)],'joinApprovalMode':_0x1d77a2?.[_0xd7ea64(0x3fc)],'memberCanAddParticipant':_0x1d77a2?.['memberAddMode'],'participants':_0x1d77a2?.[_0xd7ea64(0x263)],'descOwner':_0x1d77a2?.['descOwner'],'descId':_0x1d77a2?.[_0xd7ea64(0x419)],'memberAddMode':_0x1d77a2?.[_0xd7ea64(0x3c2)],'isCommunityAnnounce':_0x1d77a2?.[_0xd7ea64(0x46c)],'ephemeralDuration':_0x1d77a2?.[_0xd7ea64(0x17e)]||0x0,'author':_0x1d77a2?.[_0xd7ea64(0x106)]}),this[_0xd7ea64(0x216)](_0x3230ce[_0x9db26c]));}return _0x479dc5;}catch(_0x3599f4){let _0x5d6149='Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups',_0xb9c97a=_0x3599f4 instanceof Error?_0x3599f4['message']:typeof _0x3599f4==_0xd7ea64(0x645)?JSON['stringify'](_0x3599f4):_0x3599f4,_0x51814b=_0x5d6149+':\x20'+_0xb9c97a;throw this[_0xd7ea64(0x438)][_0xd7ea64(0xfa)](this[_0xd7ea64(0x5ec)]+'\x20('+this[_0xd7ea64(0x6ba)][_0xd7ea64(0x3e5)]+'):\x20'+_0x51814b),new J(_0x51814b);}}async[a0_0x96c47(0x216)](_0x4ab6c6){const _0x5434a8=a0_0x96c47;let _0x5df34e=await this[_0x5434a8(0xc4)][_0x5434a8(0x129)]['findOne']({'where':{'_id':_0x4ab6c6['id']}},this['instance'][_0x5434a8(0x3e5)]);_0x4ab6c6['subjectTime']=_0x4ab6c6?.[_0x5434a8(0x5fa)]&&_0x4ab6c6['subjectTime']['toString']()[_0x5434a8(0x1fc)]<0xd?_0x4ab6c6?.[_0x5434a8(0x5fa)]*0x3e8:_0x4ab6c6?.[_0x5434a8(0x5fa)]||null,_0x4ab6c6[_0x5434a8(0x355)]=_0x4ab6c6?.[_0x5434a8(0x355)]&&_0x4ab6c6[_0x5434a8(0x355)][_0x5434a8(0x5f2)]()['length']<0xd?_0x4ab6c6?.[_0x5434a8(0x355)]*0x3e8:_0x4ab6c6?.['creation']||null;let _0x40ebce=_0x5df34e?.[_0x5434a8(0x38f)]?.[_0x5434a8(0x60e)]||[],_0x214e9b=_0x5df34e?.[_0x5434a8(0x38f)]?.[_0x5434a8(0x542)],_0x12209d=_0x4ab6c6[_0x5434a8(0x263)][_0x5434a8(0x504)](_0x46fcc5=>{const _0x3b685d=_0x5434a8;let _0xcbecd4=_0x5df34e?.[_0x3b685d(0x38f)]?.[_0x3b685d(0x263)][_0x3b685d(0xd4)](_0x20b2dc=>_0x20b2dc['id']===_0x46fcc5['id']);return{..._0x46fcc5,'isAdmin':['admin',_0x3b685d(0x408)][_0x3b685d(0x546)](_0x46fcc5['admin']),'admin':_0x46fcc5[_0x3b685d(0x61c)],'name':_0xcbecd4?.['name']||_0x46fcc5[_0x3b685d(0x11a)],'imgUrl':_0xcbecd4?.['imgUrl']||_0x46fcc5[_0x3b685d(0x2a3)]};}),_0xe4dff3=_0x12209d['some'](_0x38c63d=>_0x38c63d['id']===this[_0x5434a8(0x6ba)]['wuid']+_0x5434a8(0x5da)&&_0x38c63d[_0x5434a8(0x605)]),_0x1e15a9=(!_0x4ab6c6[_0x5434a8(0x393)]||_0xe4dff3)&&(!_0x4ab6c6[_0x5434a8(0x84)]||_0x4ab6c6['isCommunity']&&_0x4ab6c6['isCommunityAnnounce']&&_0xe4dff3),_0x399c05={..._0x4ab6c6,'participants':_0x12209d,'awaitingApproval':_0x40ebce,'lastFetchAwaitingApproval':_0x214e9b,'isAdmin':_0xe4dff3,'canSendMessage':_0x1e15a9,'lastUpdate':Date[_0x5434a8(0x35c)]()};await this[_0x5434a8(0xc4)][_0x5434a8(0x129)][_0x5434a8(0x481)]({'where':{'_id':_0x4ab6c6['id']}},{'name':_0x4ab6c6[_0x5434a8(0xe4)],'group':!0x0,'groupdata':_0x399c05,'lastcache':Date[_0x5434a8(0x35c)]()},this[_0x5434a8(0x6ba)][_0x5434a8(0x3e5)]),U(this[_0x5434a8(0x5ec)],'chats',{'chat':_0x4ab6c6});}async[a0_0x96c47(0x306)](_0x273a3d){const _0x328523=a0_0x96c47;let _0x5358bc=await this[_0x328523(0xc4)][_0x328523(0x129)]['findOne']({'where':{'_id':_0x273a3d['id']}},this['instance'][_0x328523(0x3e5)]);_0x273a3d[_0x328523(0x5fa)]=_0x273a3d?.[_0x328523(0x5fa)]&&_0x273a3d[_0x328523(0x5fa)]['toString']()[_0x328523(0x1fc)]<0xd?_0x273a3d?.[_0x328523(0x5fa)]*0x3e8:_0x273a3d?.['subjectTime']||null,_0x273a3d[_0x328523(0x355)]=_0x273a3d?.[_0x328523(0x355)]&&_0x273a3d['creation'][_0x328523(0x5f2)]()[_0x328523(0x1fc)]<0xd?_0x273a3d?.[_0x328523(0x355)]*0x3e8:_0x273a3d?.[_0x328523(0x355)]||null,_0x273a3d[_0x328523(0x22f)]&&(_0x273a3d[_0x328523(0x22f)]=_0x328523(0x515)+_0x273a3d[_0x328523(0x22f)]);let _0x9da6ff=_0x5358bc?.[_0x328523(0x38f)]?{..._0x5358bc[_0x328523(0x38f)]}:{};Object[_0x328523(0x6af)](_0x273a3d)['forEach'](_0x417498=>{_0x417498!=='id'&&(_0x9da6ff[_0x417498]=_0x273a3d[_0x417498]);});let _0x2af007=_0x9da6ff[_0x328523(0x263)]?.['some'](_0x5831da=>_0x5831da['id']===this[_0x328523(0x6ba)][_0x328523(0x3e5)]+_0x328523(0x5da)&&_0x5831da[_0x328523(0x605)])||!0x1;_0x9da6ff[_0x328523(0x605)]=_0x2af007;let _0x573765=(!_0x9da6ff[_0x328523(0x393)]||_0x2af007)&&(!_0x9da6ff[_0x328523(0x84)]||_0x9da6ff[_0x328523(0x84)]&&_0x9da6ff[_0x328523(0x46c)]&&_0x2af007);_0x9da6ff[_0x328523(0xed)]=_0x573765;let _0x57e2d5={'group':!0x0,'groupdata':_0x9da6ff};_0x273a3d[_0x328523(0xe4)]&&(_0x57e2d5[_0x328523(0x11a)]=_0x273a3d[_0x328523(0xe4)]),await this['repository'][_0x328523(0x129)]['updateOne']({'where':{'_id':_0x273a3d['id']}},_0x57e2d5,this[_0x328523(0x6ba)]['wuid'],{'upsert':!0x0}),U(this[_0x328523(0x5ec)],_0x328523(0x261),{'chat':_0x57e2d5});}async[a0_0x96c47(0x5c4)](_0x2436de){const _0x20af72=a0_0x96c47;let _0x3c1f5b=await this[_0x20af72(0xc4)]['chat']['findOne']({'where':{'_id':_0x2436de['id']}},this[_0x20af72(0x6ba)][_0x20af72(0x3e5)]);if(!_0x3c1f5b||!_0x3c1f5b[_0x20af72(0x38f)]){this[_0x20af72(0x438)][_0x20af72(0x5f7)](this[_0x20af72(0x5ec)]+'\x20('+this['instance']['wuid']+_0x20af72(0x13e)+_0x2436de['id']);return;}let _0xf75f37=await this['repository'][_0x20af72(0x27b)][_0x20af72(0x116)](_0x2436de[_0x20af72(0x263)]),_0x38412c=[..._0x3c1f5b[_0x20af72(0x38f)]?.[_0x20af72(0x263)]];switch(_0x2436de[_0x20af72(0x364)]){case _0x20af72(0x179):let _0x3f701e=_0xf75f37['map'](_0x3639db=>({'id':_0x3639db[_0x20af72(0x1be)],'isAdmin':!0x1,'name':_0x3639db[_0x20af72(0x11a)],'imgUrl':_0x3639db['pictureUrl']}));_0x38412c=[..._0x38412c,..._0x3f701e];break;case'remove':_0x38412c=_0x38412c['filter'](_0x5d1f55=>!_0x2436de[_0x20af72(0x263)][_0x20af72(0x546)](_0x5d1f55['id']));break;case _0x20af72(0x5fd):case'demote':_0x38412c=_0x38412c[_0x20af72(0x504)](_0x4ee589=>_0x2436de[_0x20af72(0x263)][_0x20af72(0x546)](_0x4ee589['id'])?{..._0x4ee589,'isAdmin':_0x2436de[_0x20af72(0x364)]===_0x20af72(0x5fd)}:_0x4ee589);break;}let _0x321b18=_0x38412c[_0x20af72(0x1fc)],_0x391b80=_0x38412c[_0x20af72(0x9b)](_0x5008b0=>_0x5008b0['id']===this[_0x20af72(0x6ba)]['wuid']+_0x20af72(0x5da)),_0x38ae9f=_0x391b80&&_0x38412c[_0x20af72(0x9b)](_0x13c181=>_0x13c181['id']===this['instance']['wuid']+_0x20af72(0x5da)&&_0x13c181[_0x20af72(0x605)]),_0x7f849c=_0x391b80&&(!_0x3c1f5b[_0x20af72(0x38f)][_0x20af72(0x393)]||_0x38ae9f)&&(!_0x3c1f5b[_0x20af72(0x38f)][_0x20af72(0x84)]||_0x3c1f5b[_0x20af72(0x38f)][_0x20af72(0x84)]&&_0x38ae9f);await this[_0x20af72(0xc4)][_0x20af72(0x129)][_0x20af72(0x481)]({'where':{'_id':_0x2436de['id']}},{'groupdata':{..._0x3c1f5b[_0x20af72(0x38f)],'participants':_0x38412c,'size':_0x321b18,'isAdmin':_0x38ae9f,'canSendMessage':_0x7f849c}},this['instance'][_0x20af72(0x3e5)]),this[_0x20af72(0x438)][_0x20af72(0x5f7)](this[_0x20af72(0x5ec)]+'\x20('+this[_0x20af72(0x6ba)][_0x20af72(0x3e5)]+_0x20af72(0x5f8)+_0x2436de['id']+_0x20af72(0x678)+_0x2436de[_0x20af72(0x364)]+_0x20af72(0x313)+_0x321b18+_0x20af72(0x5a1)+_0x38ae9f+_0x20af72(0x662)+_0x7f849c);}async[a0_0x96c47(0x22f)](_0x5aee6b,_0x3b6e67=!0x0){const _0xc9cb2a=a0_0x96c47;try{let _0x49642b=await this[_0xc9cb2a(0x10d)][_0xc9cb2a(0x700)](_0x5aee6b[_0xc9cb2a(0x38c)]),_0x267c4a={'groupdata.inviteCode':_0xc9cb2a(0x515)+_0x49642b};if(_0x3b6e67){let _0x3e1f08=await this[_0xc9cb2a(0xc4)][_0xc9cb2a(0x129)][_0xc9cb2a(0x481)]({'where':{'_id':_0x5aee6b[_0xc9cb2a(0x38c)]}},_0x267c4a,this[_0xc9cb2a(0x6ba)][_0xc9cb2a(0x3e5)]);}return{'inviteUrl':'https://chat.whatsapp.com/'+_0x49642b,'inviteCode':_0x49642b};}catch(_0x11e2b3){let _0x39eed5=_0xc9cb2a(0x73d),_0x2f699b=_0x11e2b3 instanceof Error?_0x11e2b3[_0xc9cb2a(0x416)]:typeof _0x11e2b3==_0xc9cb2a(0x645)?JSON[_0xc9cb2a(0x2bf)](_0x11e2b3):_0x11e2b3,_0xdd3e0d=_0x39eed5+':\x20'+_0x2f699b;throw this[_0xc9cb2a(0x438)][_0xc9cb2a(0xfa)](this[_0xc9cb2a(0x5ec)]+'\x20('+this['instance'][_0xc9cb2a(0x3e5)]+_0xc9cb2a(0x1ef)+_0xdd3e0d),new J(_0xdd3e0d);}}async[a0_0x96c47(0x67f)](_0x2e9d58){const _0x851850=a0_0x96c47;try{let _0x232806=await this['client'][_0x851850(0xbf)](_0x2e9d58[_0x851850(0x38c)]);return{'revoked':!0x0,'inviteUrl':_0x851850(0x515)+_0x232806,'inviteCode':_0x232806};}catch(_0x2ea9be){let _0x522ddb='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x39aac7=_0x2ea9be instanceof Error?_0x2ea9be['message']:typeof _0x2ea9be==_0x851850(0x645)?JSON[_0x851850(0x2bf)](_0x2ea9be):_0x2ea9be,_0x23d522=_0x522ddb+':\x20'+_0x39aac7;throw this['logger'][_0x851850(0xfa)](this['instanceName']+'\x20('+this[_0x851850(0x6ba)][_0x851850(0x3e5)]+'):\x20'+_0x23d522),new J(_0x23d522);}}async[a0_0x96c47(0x22b)](_0x1d3515){const _0x19fb21=a0_0x96c47;try{if((0x0,P[_0x19fb21(0x2b4)])(_0x1d3515[_0x19fb21(0x22f)]))var _0x12e581=_0x1d3515[_0x19fb21(0x22f)][_0x19fb21(0x620)]('/')[0x3];else var _0x12e581=_0x1d3515[_0x19fb21(0x22f)];let _0x5d0739=await this[_0x19fb21(0x10d)][_0x19fb21(0x71e)](_0x12e581);return this[_0x19fb21(0x438)][_0x19fb21(0x4b8)](this[_0x19fb21(0x5ec)]+'\x20('+this['instance'][_0x19fb21(0x3e5)]+_0x19fb21(0x1ef)+_0x5d0739),{'join':!0x0,'inviteCode':_0x12e581,'groupJid':_0x5d0739};}catch(_0x5f2d38){let _0x58519a=_0x19fb21(0x52b),_0x2c5f3c=_0x5f2d38 instanceof Error?_0x5f2d38[_0x19fb21(0x416)]:typeof _0x5f2d38=='object'?JSON[_0x19fb21(0x2bf)](_0x5f2d38):_0x5f2d38,_0x1a0dc2=_0x58519a+':\x20'+_0x2c5f3c;throw this[_0x19fb21(0x438)][_0x19fb21(0xfa)](this['instanceName']+'\x20('+this['instance'][_0x19fb21(0x3e5)]+_0x19fb21(0x1ef)+_0x1a0dc2),new J(_0x1a0dc2);}}async['findParticipants'](_0x5dcdec){const _0xb3d7fc=a0_0x96c47;try{return{'participants':(await this[_0xb3d7fc(0x10d)][_0xb3d7fc(0x668)](_0x5dcdec[_0xb3d7fc(0x38c)]))[_0xb3d7fc(0x263)]};}catch(_0x3c7228){let _0x19d390='Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants',_0x36b70f=_0x3c7228 instanceof Error?_0x3c7228[_0xb3d7fc(0x416)]:typeof _0x3c7228==_0xb3d7fc(0x645)?JSON['stringify'](_0x3c7228):_0x3c7228,_0x5155a0=_0x19d390+':\x20'+_0x36b70f;throw this['logger'][_0xb3d7fc(0xfa)](this[_0xb3d7fc(0x5ec)]+'\x20('+this[_0xb3d7fc(0x6ba)][_0xb3d7fc(0x3e5)]+_0xb3d7fc(0x1ef)+_0x5155a0),new J(_0x5155a0);}}async[a0_0x96c47(0x2ad)](_0x4defd0){const _0x45b1ca=a0_0x96c47;try{return await this[_0x45b1ca(0x10d)][_0x45b1ca(0xc6)](_0x4defd0[_0x45b1ca(0x38c)]),{'groupJid':_0x4defd0[_0x45b1ca(0x38c)],'leave':!0x0};}catch(_0x177b84){let _0x3fe3d1=_0x45b1ca(0x726),_0x4dbc6a=_0x177b84 instanceof Error?_0x177b84[_0x45b1ca(0x416)]:typeof _0x177b84==_0x45b1ca(0x645)?JSON[_0x45b1ca(0x2bf)](_0x177b84):_0x177b84,_0x1522be=_0x3fe3d1+':\x20'+_0x4dbc6a;throw this[_0x45b1ca(0x438)][_0x45b1ca(0xfa)](this[_0x45b1ca(0x5ec)]+'\x20('+this['instance'][_0x45b1ca(0x3e5)]+_0x45b1ca(0x1ef)+_0x1522be),new m(_0x1522be);}}async[a0_0x96c47(0x450)](_0x5c6bd4){const _0x189566=a0_0x96c47;return await this[_0x189566(0x14c)](_0x5c6bd4[_0x189566(0x483)],{'poll':{'name':_0x5c6bd4[_0x189566(0x450)]?.[_0x189566(0x11a)],'selectableCount':_0x5c6bd4[_0x189566(0x450)][_0x189566(0x6e0)],'values':_0x5c6bd4[_0x189566(0x450)]['values']}},_0x5c6bd4?.[_0x189566(0x698)]);}async[a0_0x96c47(0x367)](_0x4df24b){const _0x1f4b7b=a0_0x96c47;return await this[_0x1f4b7b(0x14c)](_0x4df24b[_0x1f4b7b(0x483)],{'listMessage':{'title':_0x4df24b[_0x1f4b7b(0x367)]['title'],'description':_0x4df24b['listMessage']['description'],'buttonText':_0x4df24b['listMessage']?.['buttonText'],'footerText':_0x4df24b[_0x1f4b7b(0x367)]?.['footerText'],'sections':_0x4df24b['listMessage'][_0x1f4b7b(0x615)],'listType':0x2}},_0x4df24b?.['options']);}async['menuMessage'](_0xac2cc4){const _0x8d4aab=a0_0x96c47;let _0x4ab239;if(_0xac2cc4[_0x8d4aab(0x65b)]['type']===_0x8d4aab(0x644)){let _0x5a8765=_0xac2cc4[_0x8d4aab(0x65b)][_0x8d4aab(0x68c)][_0x8d4aab(0x1bd)]('\x0a'),_0x322db8='',_0x52c014='';_0x5a8765!==-0x1?(_0x322db8=_0xac2cc4[_0x8d4aab(0x65b)][_0x8d4aab(0x68c)][_0x8d4aab(0x624)](0x0,_0x5a8765)[_0x8d4aab(0x379)](),_0x52c014=_0xac2cc4[_0x8d4aab(0x65b)]['text']['substring'](_0x5a8765+0x1)):_0x52c014=_0xac2cc4[_0x8d4aab(0x65b)][_0x8d4aab(0x68c)];let _0x4f6b01=_0xac2cc4['menuMessage'][_0x8d4aab(0x22c)]['filter'](_0x13b13d=>_0x13b13d['trim']()!==''),_0x3d3912=this[_0x8d4aab(0xeb)](_0x4f6b01);_0x4ab239={'listMessage':{'title':_0x322db8,'description':_0x52c014,'buttonText':_0xac2cc4[_0x8d4aab(0x65b)]['buttonText']||_0x8d4aab(0x6a2),'footerText':_0xac2cc4['menuMessage'][_0x8d4aab(0x42b)],'sections':_0x3d3912,'listType':0x2}};}else{if(_0xac2cc4['menuMessage'][_0x8d4aab(0x43e)]===_0x8d4aab(0x568)){let _0x30d2b9=_0xac2cc4[_0x8d4aab(0x65b)][_0x8d4aab(0x22c)][_0x8d4aab(0x2bc)](_0x1428dc=>!(_0x1428dc[_0x8d4aab(0x447)]('[')&&_0x1428dc[_0x8d4aab(0x464)](']'))&&_0x1428dc[_0x8d4aab(0x379)]()!=='')[_0x8d4aab(0x504)](_0x2d7c1c=>_0x2d7c1c[_0x8d4aab(0x620)]('\x0a')[0x0]);_0x4ab239={'poll':{'name':_0xac2cc4['menuMessage']['text'],'selectableCount':_0xac2cc4[_0x8d4aab(0x65b)][_0x8d4aab(0x6e0)]||0x1,'values':_0x30d2b9}};}}return await this['sendMessageWithTyping'](_0xac2cc4[_0x8d4aab(0x483)],_0x4ab239,_0xac2cc4?.[_0x8d4aab(0x698)]);}[a0_0x96c47(0xeb)](_0x19609e){const _0x461518=a0_0x96c47;let _0x4d723d=[],_0x13321d={'rows':[]};return _0x19609e[_0x461518(0x233)](_0x2839f8=>{const _0x1ce6bf=_0x461518;if(_0x2839f8[_0x1ce6bf(0x447)]('[')&&_0x2839f8[_0x1ce6bf(0x464)](']'))_0x13321d[_0x1ce6bf(0x187)]['length']>0x0&&_0x4d723d['push'](_0x13321d),_0x13321d={'title':_0x2839f8[_0x1ce6bf(0xa6)](0x1,-0x1),'rows':[]};else{let _0x519fd7=_0x2839f8['split']('\x0a')[_0x1ce6bf(0x504)](_0x1c6936=>_0x1c6936[_0x1ce6bf(0x379)]()),_0x24a62b=_0x519fd7[0x0],_0x5d7d08=_0x519fd7[0x1]||null,_0x1c2946=_0x519fd7[0x2]||_0x24a62b;_0x13321d[_0x1ce6bf(0x187)]['push']({'title':_0x24a62b,'description':_0x5d7d08,'rowId':_0x1c2946});}}),_0x13321d['rows'][_0x461518(0x1fc)]>0x0&&_0x4d723d[_0x461518(0xc0)](_0x13321d),_0x4d723d;}async[a0_0x96c47(0x63f)](_0x3a1e2a,_0x4eca62){const _0x2fc148=a0_0x96c47;if(await this[_0x2fc148(0x2f5)](_0x3a1e2a,!0x0)){let _0x4c6d94={'where':{'_id':_0x3a1e2a['id']}},_0x4b932a={'status':[_0x4eca62[_0x2fc148(0x275)]][0x0]};try{let _0x189de2=await this[_0x2fc148(0xc4)][_0x2fc148(0x416)]['update'](_0x4c6d94,_0x4b932a,this[_0x2fc148(0x6ba)][_0x2fc148(0x3e5)]);_0x189de2&&U(this[_0x2fc148(0x5ec)],'messages',{'message':_0x189de2});}catch{}}}[a0_0x96c47(0x554)](_0x256c4f){const _0x37aee3=a0_0x96c47;let _0x4bcdb4=[];return _0x256c4f[_0x37aee3(0x233)](_0x224400=>{const _0x19680f=_0x37aee3;_0x224400[_0x19680f(0x428)]&&_0x4bcdb4[_0x19680f(0xc0)]('['+_0x224400['title']+']'),_0x224400[_0x19680f(0x187)][_0x19680f(0x233)](_0x4896e1=>{const _0x8a1771=_0x19680f;_0x4bcdb4[_0x8a1771(0xc0)](_0x4896e1[_0x8a1771(0x428)]);});}),_0x4bcdb4[_0x37aee3(0x34a)]('|');}['formatVCard'](_0x586890){const _0xd81016=a0_0x96c47;let _0x151b3a=_0x586890[_0xd81016(0x6e2)](/\\n/g,'\x0a')['split']('\x0a')[_0xd81016(0x2bc)](_0x42dd95=>_0x42dd95['includes'](_0xd81016(0x407))||_0x42dd95[_0xd81016(0x546)](_0xd81016(0x618))),_0x369802='';return _0x151b3a[_0xd81016(0x233)](_0x4eaddc=>{const _0x149f5a=_0xd81016;let _0x1768a3=/TEL(?:.*):(.+)/,_0x3a75cb=/EMAIL(?:.*):(.+)/,_0x5336ad=_0x4eaddc[_0x149f5a(0x6a7)](_0x1768a3),_0x59ef40=_0x4eaddc['match'](_0x3a75cb);if(_0x5336ad){let _0x554fba=_0x5336ad[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0x149f5a(0x379)]();_0x369802+='Telefone:\x20'+_0x554fba+'\x0a';}else{if(_0x59ef40){let _0xb55866=_0x59ef40[0x1][_0x149f5a(0x379)]();_0x369802+=_0x149f5a(0x5bb)+_0xb55866+'\x0a';}}}),_0x369802[_0xd81016(0x379)]();}async[a0_0x96c47(0x2ba)](_0x22ec3a,_0x39fc4f,_0x3da0d3,_0x30e8ec=null){const _0x1ec686=a0_0x96c47;if(!_0x22ec3a[_0x1ec686(0x330)])return;let _0x101318=_0x39fc4f[_0x1ec686(0x570)][_0x1ec686(0x101)][_0x1ec686(0x6e2)](/:\d{1,2}@/g,'@'),_0x35a5dd=_0x39fc4f[_0x1ec686(0x570)][_0x1ec686(0x4ba)],_0x17557e=_0x101318[_0x1ec686(0x464)](_0x1ec686(0x690)),_0x25636d=_0x39fc4f[_0x1ec686(0x552)]?.[_0x1ec686(0x6e2)](/:\d{1,2}@/g,'@')||'',_0x50567d=_0x39fc4f[_0x1ec686(0x172)]?.['text']||_0x39fc4f[_0x1ec686(0x172)]?.['caption']||_0x39fc4f[_0x1ec686(0x172)]?.[_0x1ec686(0x1e7)]||_0x39fc4f[_0x1ec686(0x172)]?.[_0x1ec686(0x11a)],_0x68cff3={'_id':_0x39fc4f[_0x1ec686(0x1be)],'remoteJid':_0x35a5dd?this[_0x1ec686(0x6ba)][_0x1ec686(0x3e5)]:_0x17557e?_0x25636d:_0x101318,'pushName':_0x35a5dd?this[_0x1ec686(0x6ba)][_0x1ec686(0x3af)]||'Eu':_0x39fc4f['pushName'],'text':_0x50567d,'type':_0x39fc4f[_0x1ec686(0x5ff)],'when':_0x39fc4f[_0x1ec686(0x1cf)]||Date['now']()};_0x30e8ec||(_0x30e8ec=await this[_0x1ec686(0xc4)][_0x1ec686(0x129)]['findOne']({'where':{'_id':_0x101318}},this[_0x1ec686(0x6ba)][_0x1ec686(0x3e5)]));let _0x4098cc=_0x30e8ec?_0x35a5dd?_0x30e8ec[_0x1ec686(0x14e)]:(_0x30e8ec[_0x1ec686(0x14e)]||0x0)+0x1:_0x35a5dd?0x0:0x1,_0x397120={'lastmsg':_0x39fc4f[_0x1ec686(0x1cf)]||Date[_0x1ec686(0x35c)](),'ephemeralExpiration':_0x39fc4f[_0x1ec686(0x6c9)],'lastMessage':_0x68cff3,'unreadcount':_0x4098cc,..._0x35a5dd||_0x17557e?{}:{'name':_0x39fc4f[_0x1ec686(0x29b)]},..._0x17557e?{'group':_0x17557e}:{},...!_0x35a5dd&&!_0x17557e&&_0x39fc4f[_0x1ec686(0x3dc)]?{'imagechat':_0x39fc4f[_0x1ec686(0x3dc)]}:{}};if(!_0x17557e&&(!_0x30e8ec?.['leadInfo']||!_0x30e8ec['leadInfo'][_0x1ec686(0x39d)])&&_0x39fc4f['pushName']&&!_0x35a5dd&&(_0x397120={..._0x397120,'leadInfo.nome':_0x39fc4f[_0x1ec686(0x29b)]}),_0x30e8ec?.[_0x1ec686(0x412)][_0x1ec686(0x52a)]||(_0x397120={..._0x397120,'leadInfo.etiquetas':[]}),_0x30e8ec?.[_0x1ec686(0x412)][_0x1ec686(0x5f4)]||(_0x397120={..._0x397120,'leadInfo.customFields':[]}),_0x30e8ec?.[_0x1ec686(0x412)][_0x1ec686(0x49a)]||(_0x397120={..._0x397120,'leadInfo.tags':[]}),_0x30e8ec&&_0x30e8ec?.['imported']){let _0x3a9000=await this[_0x1ec686(0xc4)]['label'][_0x1ec686(0xd4)]({'where':{}},this[_0x1ec686(0x6ba)][_0x1ec686(0x3e5)]),_0x24b066=new Set(_0x3a9000[_0x1ec686(0x504)](_0x4f3530=>_0x4f3530[_0x1ec686(0x1be)])),_0xa64c28=(_0x30e8ec[_0x1ec686(0x412)]?.[_0x1ec686(0x52a)]||[])[_0x1ec686(0x2bc)](_0x675315=>_0x24b066[_0x1ec686(0x29a)](_0x675315));_0x397120={..._0x397120,'imported':!0x1,'leadInfo.etiquetas':_0xa64c28};for(let _0x344c81 of _0xa64c28)await this[_0x1ec686(0x1d1)](_0x344c81,_0x101318);}if(_0x3da0d3==='MESSAGES_UPSERT'&&_0x35a5dd&&this['AutomateSystem']?.[_0x1ec686(0x655)][_0x1ec686(0x403)]&&!_0x50567d[_0x1ec686(0x447)](this[_0x1ec686(0x4d2)]?.[_0x1ec686(0x655)][_0x1ec686(0x3fd)])){let _0x4506e0=(this[_0x1ec686(0x4d2)]?.['flowConfig']['stopWhenYouSendMsg']||0x5)*0xea60,_0x57b682=Date[_0x1ec686(0x35c)]()+_0x4506e0;_0x30e8ec?.['leadInfo']?.['desativadoFluxoAte']===0x0||(_0x397120={..._0x397120,'leadInfo.desativadoFluxoAte':_0x57b682},this[_0x1ec686(0x438)]['verbose'](this[_0x1ec686(0x5ec)]+'\x20('+this[_0x1ec686(0x6ba)][_0x1ec686(0x3e5)]+_0x1ec686(0x52f)+_0x57b682+'.'));}if(_0x30e8ec=await this[_0x1ec686(0xc4)][_0x1ec686(0x129)]['updateOne']({'where':{'_id':_0x101318}},_0x397120,this[_0x1ec686(0x6ba)][_0x1ec686(0x3e5)],{'new':!0x0,'upsert':!0x0}),_0x30e8ec)U(this[_0x1ec686(0x5ec)],'chats',{'chat':_0x30e8ec});else{this[_0x1ec686(0x438)][_0x1ec686(0xfa)](this[_0x1ec686(0x5ec)]+'\x20('+this['instance'][_0x1ec686(0x3e5)]+_0x1ec686(0x2d6));return;}if(!this[_0x1ec686(0x4d2)]?.[_0x1ec686(0x655)][_0x1ec686(0x403)])return this[_0x1ec686(0x438)]['verbose'](this[_0x1ec686(0x5ec)]+'\x20('+this[_0x1ec686(0x6ba)][_0x1ec686(0x3e5)]+_0x1ec686(0x534)),null;if(_0x30e8ec[_0x1ec686(0x1be)][_0x1ec686(0x546)](_0x1ec686(0x690))&&this[_0x1ec686(0x4d2)]?.[_0x1ec686(0x655)][_0x1ec686(0x2ef)]===!0x0)return this[_0x1ec686(0x438)][_0x1ec686(0x4b8)](this[_0x1ec686(0x5ec)]+'\x20('+this['instance'][_0x1ec686(0x3e5)]+_0x1ec686(0xbe)),null;if(_0x30e8ec['leadInfo']){if(_0x30e8ec[_0x1ec686(0x412)][_0x1ec686(0x5f9)]===0x0||_0x30e8ec[_0x1ec686(0x412)][_0x1ec686(0x578)])return this[_0x1ec686(0x438)]['verbose'](this[_0x1ec686(0x5ec)]+'\x20('+this[_0x1ec686(0x6ba)][_0x1ec686(0x3e5)]+_0x1ec686(0x69a)+_0x101318+_0x1ec686(0x3a3)),null;if(_0x30e8ec[_0x1ec686(0x412)][_0x1ec686(0x5f9)]>Date['now']()&&!_0x39fc4f[_0x1ec686(0x172)]?.[_0x1ec686(0x1e7)])return this['logger'][_0x1ec686(0x4b8)](this['instanceName']+'\x20('+this[_0x1ec686(0x6ba)][_0x1ec686(0x3e5)]+_0x1ec686(0x572)+new Date(_0x30e8ec[_0x1ec686(0x412)]['desativadoFluxoAte'])[_0x1ec686(0x1c7)]()+_0x1ec686(0x3a3)),null;}this['logger']['verbose'](this[_0x1ec686(0x5ec)]+'\x20('+this[_0x1ec686(0x6ba)][_0x1ec686(0x3e5)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x1ec686(0x243)](_0x3da0d3,_0x39fc4f);}async['upsertChats'](_0x929aa3,_0x2cf797){const _0xa515a3=a0_0x96c47;if(_0x2cf797[_0xa515a3(0x330)]){let _0x28bcb5=_0x929aa3['map'](async _0x4f1a15=>{const _0x4f5a2a=_0xa515a3;try{let _0xc3d02b={'_id':_0x4f1a15[_0x4f5a2a(0x1be)],'owner':_0x4f1a15['owner'],'lastcache':0x0};if(Object[_0x4f5a2a(0x6af)](_0x4f1a15)[_0x4f5a2a(0x233)](_0x456bfb=>{_0x4f1a15[_0x456bfb]!==null&&(_0xc3d02b[_0x456bfb]=_0x4f1a15[_0x456bfb]);}),_0xc3d02b[_0x4f5a2a(0x266)]===null&&(_0xc3d02b[_0x4f5a2a(0x266)]=_0x4f5a2a(0x6c6)),Object[_0x4f5a2a(0x6af)](_0xc3d02b)[_0x4f5a2a(0x1fc)]>0x0)return await this[_0x4f5a2a(0xc4)][_0x4f5a2a(0x129)][_0x4f5a2a(0x481)]({'where':{'_id':_0x4f1a15[_0x4f5a2a(0x1be)]}},_0xc3d02b,this['instance'][_0x4f5a2a(0x3e5)]);}catch(_0x4d5496){let _0x12f897=_0x4f5a2a(0x86)+_0x4f1a15[_0x4f5a2a(0x1be)],_0x1f4438=_0x4d5496 instanceof Error?_0x4d5496[_0x4f5a2a(0x416)]:typeof _0x4d5496==_0x4f5a2a(0x645)?JSON[_0x4f5a2a(0x2bf)](_0x4d5496):_0x4d5496,_0x1c373b=_0x12f897+':\x20'+_0x1f4438;return this[_0x4f5a2a(0x438)][_0x4f5a2a(0xfa)](this[_0x4f5a2a(0x5ec)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x1c373b),null;}}),_0x2d09e0=(await Promise[_0xa515a3(0x710)](_0x28bcb5))[_0xa515a3(0x2bc)](_0x4931d0=>_0x4931d0!==null)[_0xa515a3(0x1fc)];this['logger'][_0xa515a3(0x4b8)](this[_0xa515a3(0x5ec)]+'\x20('+this[_0xa515a3(0x6ba)]['wuid']+_0xa515a3(0x1ef)+_0x2d09e0+'\x20chats\x20de\x20'+this[_0xa515a3(0x6ba)]['wuid']+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0x96c47(0x5e8)](_0x438edc){const _0x1cc139=a0_0x96c47;this[_0x1cc139(0x438)][_0x1cc139(0x4b8)](this[_0x1cc139(0x5ec)]+'\x20('+this[_0x1cc139(0x6ba)][_0x1cc139(0x3e5)]+_0x1cc139(0x492));let _0x27bbbb={'readMessages':[{'remoteJid':_0x438edc[_0x1cc139(0x97)][_0x1cc139(0x30b)][_0x1cc139(0x570)]['remoteJid'],'fromMe':_0x438edc['chatLog'][_0x1cc139(0x30b)][_0x1cc139(0x570)][_0x1cc139(0x4ba)],'id':_0x438edc['chatLog'][_0x1cc139(0x30b)][_0x1cc139(0x570)]['id']}]};await this[_0x1cc139(0x551)](_0x27bbbb);}async[a0_0x96c47(0x243)](_0x230d3e,_0x49b63e){const _0x4e801f=a0_0x96c47;try{let {key:_0x2f5765,message_normalized:_0xee4c16}=_0x49b63e,_0x200d7d=_0xee4c16,_0x5c054c=_0xee4c16[_0x4e801f(0x68c)]||_0xee4c16['caption']||_0xee4c16[_0x4e801f(0x1e7)]||_0xee4c16[_0x4e801f(0x11a)],_0x18b5fd=_0x2f5765[_0x4e801f(0x101)],_0x5c25a1;if(_0x200d7d[_0x4e801f(0x570)]['fromMe']&&_0x5c054c[_0x4e801f(0x379)]()!==this[_0x4e801f(0x4d2)]?.[_0x4e801f(0x655)][_0x4e801f(0x43d)][_0x4e801f(0x379)]())return this['logger'][_0x4e801f(0x4b8)](this[_0x4e801f(0x5ec)]+'\x20('+this[_0x4e801f(0x6ba)][_0x4e801f(0x3e5)]+_0x4e801f(0x19f)),null;if(_0x200d7d[_0x4e801f(0x570)]['fromMe']&&_0x5c054c[_0x4e801f(0x379)]()===this['AutomateSystem']?.['flowConfig'][_0x4e801f(0x43d)]['trim']()){this[_0x4e801f(0x438)][_0x4e801f(0x4b8)](this['instanceName']+'\x20('+this['instance'][_0x4e801f(0x3e5)]+_0x4e801f(0x66b));let _0x1ccd1c=await this[_0x4e801f(0xc4)][_0x4e801f(0x434)]['find']({'remoteJid':_0x18b5fd,'status':'open'},this[_0x4e801f(0x6ba)][_0x4e801f(0x3e5)]);this[_0x4e801f(0x438)][_0x4e801f(0x4b8)](this['instanceName']+'\x20('+this[_0x4e801f(0x6ba)][_0x4e801f(0x3e5)]+_0x4e801f(0x336)+_0x1ccd1c);let _0x4dd140=Date[_0x4e801f(0x35c)](),_0x59ab56;return this[_0x4e801f(0x4d2)]?.[_0x4e801f(0x655)]['stopMinutes']===0x0?_0x59ab56={'stoppedUntil':_0x4dd140+0x7591f6200}:_0x59ab56={'stoppedUntil':_0x4dd140+this['AutomateSystem']?.['flowConfig'][_0x4e801f(0x486)]*0x3c*0x3e8},this[_0x4e801f(0x438)][_0x4e801f(0x4b8)](this['instanceName']+'\x20('+this[_0x4e801f(0x6ba)][_0x4e801f(0x3e5)]+_0x4e801f(0x529)+_0x59ab56),this['updateStopChat'](_0x5c25a1,_0x59ab56[_0x4e801f(0x1d3)]),null;}if(_0x5c054c&&_0x5c054c['startsWith'](this['AutomateSystem']?.[_0x4e801f(0x655)][_0x4e801f(0x3fd)])&&_0x5c054c[_0x4e801f(0x1fc)]>0x4){let _0x4e3992=await this[_0x4e801f(0xc4)][_0x4e801f(0x201)][_0x4e801f(0x732)]({'where':{'startCommandWord':_0x5c054c}},this[_0x4e801f(0x6ba)][_0x4e801f(0x3e5)]);if(this[_0x4e801f(0x438)]['verbose'](this['instanceName']+'\x20('+this[_0x4e801f(0x6ba)]['wuid']+_0x4e801f(0x448)),_0x4e3992)_0x5c25a1=await this[_0x4e801f(0x251)](_0x4e3992,_0x200d7d[_0x4e801f(0x570)],_0x200d7d);else return this[_0x4e801f(0x438)][_0x4e801f(0x4b8)](this[_0x4e801f(0x5ec)]+'\x20('+this[_0x4e801f(0x6ba)][_0x4e801f(0x3e5)]+_0x4e801f(0x15d)),null;}else _0x5c25a1=await this[_0x4e801f(0x36b)](_0x18b5fd,_0x200d7d);if(_0x5c25a1){this[_0x4e801f(0x438)][_0x4e801f(0x4b8)](this[_0x4e801f(0x5ec)]+'\x20('+this[_0x4e801f(0x6ba)]['wuid']+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x2f5765[_0x4e801f(0x4ba)]&&_0x5c25a1['readMessages']&&this[_0x4e801f(0x5e8)](_0x5c25a1);let _0x5bcd4a=await this[_0x4e801f(0x503)](_0x5c25a1);_0x5bcd4a&&await this[_0x4e801f(0x2d8)](_0x5c25a1,_0x5bcd4a);}}catch(_0x10044e){this[_0x4e801f(0x438)][_0x4e801f(0xfa)](this[_0x4e801f(0x5ec)]+'\x20('+this['instance'][_0x4e801f(0x3e5)]+_0x4e801f(0x5c3)+(_0x10044e instanceof Error?_0x10044e['message']:JSON['stringify'](_0x10044e,null,0x2)));}}['flattenObject'](_0x16246a,_0x76365c='',_0x2bd947={}){const _0x81d587=a0_0x96c47;return typeof _0x16246a!=_0x81d587(0x645)||_0x16246a===null?(_0x76365c&&(_0x2bd947[_0x76365c]=_0x16246a),_0x2bd947):(Object[_0x81d587(0x744)](_0x16246a)[_0x81d587(0x233)](([_0x51b45b,_0x25db41])=>{const _0x13b1a4=_0x81d587;let _0x2bc1b1=_0x76365c?_0x76365c+'.'+_0x51b45b:'_'+_0x51b45b;Array[_0x13b1a4(0x3d6)](_0x25db41)?_0x25db41[_0x13b1a4(0x233)]((_0x5df6b3,_0xa53e30)=>{const _0xb7ee4a=_0x13b1a4;this[_0xb7ee4a(0x281)](_0x5df6b3,_0x2bc1b1+'['+_0xa53e30+']',_0x2bd947);}):typeof _0x25db41=='object'&&_0x25db41!==null?this['flattenObject'](_0x25db41,_0x2bc1b1,_0x2bd947):_0x2bd947[_0x2bc1b1]=String(_0x25db41);}),_0x2bd947);}[a0_0x96c47(0x25d)](_0x78c716){const _0x383436=a0_0x96c47;let _0x3f146a={};for(let _0x325f86 of _0x78c716)typeof _0x325f86[_0x383436(0x11a)]==_0x383436(0x1e4)&&typeof _0x325f86['value']==_0x383436(0x1e4)&&(_0x3f146a[_0x325f86[_0x383436(0x11a)]]=_0x325f86['value']);return _0x3f146a;}async[a0_0x96c47(0x503)](_0x640ba6){const _0x2de9a0=a0_0x96c47;if(!this['AutomateSystem']?.['flowConfig'][_0x2de9a0(0x403)]||_0x640ba6[_0x2de9a0(0x275)]!==_0x2de9a0(0x14f)&&_0x640ba6[_0x2de9a0(0x109)]==='')return null;let _0x876502=_0x640ba6[_0x2de9a0(0x97)][_0x2de9a0(0x69b)]||_0x2de9a0(0x664);typeof _0x640ba6['chatLog'][_0x2de9a0(0x636)]>'u'&&(_0x640ba6[_0x2de9a0(0x97)][_0x2de9a0(0x636)]=!0x0);let _0x554a53=_0x640ba6['chatLog'][_0x2de9a0(0x636)];this['logger'][_0x2de9a0(0x4b8)](this['instanceName']+'\x20('+this[_0x2de9a0(0x6ba)][_0x2de9a0(0x3e5)]+_0x2de9a0(0x62e)+_0x876502+_0x2de9a0(0xe7)+_0x554a53);let _0x5c83b4=_0x876502==='start'?_0x640ba6[_0x2de9a0(0x190)]['find'](_0x48c796=>_0x48c796['type']==='start'):_0x640ba6[_0x2de9a0(0x190)]['find'](_0x5bd4ec=>_0x5bd4ec[_0x2de9a0(0x1be)][_0x2de9a0(0x5f2)]()===_0x876502[_0x2de9a0(0x5f2)]());if(!_0x5c83b4)return this[_0x2de9a0(0x438)][_0x2de9a0(0xfa)](this['instanceName']+'\x20('+this[_0x2de9a0(0x6ba)][_0x2de9a0(0x3e5)]+_0x2de9a0(0x1f1)+_0x876502),null;let _0x2944b2={'_pushName':_0x640ba6[_0x2de9a0(0x97)][_0x2de9a0(0x30b)][_0x2de9a0(0x29b)],..._0x640ba6['chatLog']['realVariables']},_0x122efa=null;if(_0x640ba6[_0x2de9a0(0x109)]){let _0x2fad4a=_0x640ba6['chatLog']['lastReceivedMessage'][_0x2de9a0(0x1e7)],_0x49bebd=_0x640ba6[_0x2de9a0(0x11e)][_0x2de9a0(0xd4)](_0x173ab1=>_0x173ab1[_0x2de9a0(0x2c2)]===_0x2fad4a);if(_0x49bebd){let _0x1646b7=_0x49bebd[_0x2de9a0(0x553)];if(_0x122efa=_0x640ba6['blocks']['find'](_0x12813a=>_0x12813a[_0x2de9a0(0x55f)]===_0x1646b7&&_0x12813a[_0x2de9a0(0x70b)]===0x1),_0x5c83b4[_0x2de9a0(0x5bd)][_0x2de9a0(0x14b)]){let _0x29ebf5={'id':_0x640ba6[_0x2de9a0(0x109)],'remoteJid':_0x640ba6[_0x2de9a0(0x101)],'fromMe':!0x0};await this[_0x2de9a0(0x6ae)](_0x29ebf5);}if(_0x5c83b4['uazapi'][_0x2de9a0(0x14b)]&&_0x5c83b4[_0x2de9a0(0x5bd)][_0x2de9a0(0x410)]&&_0x5c83b4['uazapi'][_0x2de9a0(0x635)]===_0x2de9a0(0x568)){let _0x5ae5e6={'number':_0x640ba6['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x640ba6[_0x2de9a0(0x2ca)]+'\x0a*Você\x20respondeu*:\x0a'+_0x2fad4a}};await this[_0x2de9a0(0x6d6)](_0x5ae5e6);}_0x640ba6[_0x2de9a0(0x275)]=_0x2de9a0(0x14f),_0x640ba6['waitingMenu_id']='',_0x640ba6[_0x2de9a0(0x2ca)]='',_0x640ba6[_0x2de9a0(0x11e)]=[];}else{this[_0x2de9a0(0x438)][_0x2de9a0(0x4b8)](this['instanceName']+'\x20('+this['instance'][_0x2de9a0(0x3e5)]+_0x2de9a0(0x5b4));let _0x3b517e={'activatedCount':_0x640ba6[_0x2de9a0(0x97)][_0x2de9a0(0x40e)]['filter'](_0x3e6b72=>String(_0x3e6b72[_0x2de9a0(0x477)])===String(_0x876502))['length'],'moreLogs':[_0x2de9a0(0x215)]};if(_0x5c83b4[_0x2de9a0(0x5bd)][_0x2de9a0(0x368)]){let _0x117cef={'number':_0x640ba6[_0x2de9a0(0x101)],'options':{'delay':0x0},'textMessage':{'text':_0x5c83b4[_0x2de9a0(0x5bd)][_0x2de9a0(0x368)]}};await this[_0x2de9a0(0x6d6)](_0x117cef);}if(_0x5c83b4[_0x2de9a0(0x532)]!==void 0x0&&_0x3b517e[_0x2de9a0(0x5de)]>=_0x5c83b4[_0x2de9a0(0x532)]){let _0x3eb6ec=Date[_0x2de9a0(0x35c)](),_0x2b928c=_0x5c83b4['stopMinutesMaxActives']??0xa;isNaN(_0x2b928c)&&(_0x2b928c=0xa);let _0x542b35=_0x3eb6ec+_0x2b928c*0x3c*0x3e8;_0x3b517e[_0x2de9a0(0x4bf)]=_0x542b35,_0x3b517e[_0x2de9a0(0x358)][_0x2de9a0(0xc0)](_0x2de9a0(0x634)),this[_0x2de9a0(0x4c7)](_0x640ba6,_0x542b35),_0x640ba6[_0x2de9a0(0x109)]='',_0x640ba6[_0x2de9a0(0x2ca)]='',_0x640ba6[_0x2de9a0(0x11e)]=[];}return this['updateConversation'](_0x640ba6,_0x5c83b4,_0x3b517e,!0x0),null;}}if(_0x554a53&&_0x5c83b4[_0x2de9a0(0x553)]&&!_0x640ba6[_0x2de9a0(0x109)]){let _0x2b6c6c=_0x640ba6[_0x2de9a0(0x190)][_0x2de9a0(0x2bc)](_0xfb96f3=>_0xfb96f3[_0x2de9a0(0x55f)][_0x2de9a0(0x5f2)]()===_0x5c83b4[_0x2de9a0(0x553)][_0x2de9a0(0x5f2)]())[_0x2de9a0(0x2f9)]((_0x363486,_0x522e22)=>_0x363486[_0x2de9a0(0x70b)]-_0x522e22[_0x2de9a0(0x70b)]);_0x2b6c6c['length']>0x0&&(_0x122efa=_0x2b6c6c[0x0]);}if(!_0x122efa){let _0x3c2ccd=_0x5c83b4[_0x2de9a0(0x55f)],_0x417bf2=_0x640ba6[_0x2de9a0(0x190)][_0x2de9a0(0x2bc)](_0x2012b5=>_0x2012b5[_0x2de9a0(0x55f)]===_0x3c2ccd&&_0x2012b5[_0x2de9a0(0x70b)]>_0x5c83b4['order'])[_0x2de9a0(0x2f9)]((_0x18dd7d,_0x890bc9)=>_0x18dd7d[_0x2de9a0(0x70b)]-_0x890bc9[_0x2de9a0(0x70b)]);_0x417bf2[_0x2de9a0(0x1fc)]>0x0&&(_0x122efa=_0x417bf2[0x0]);}if(!_0x122efa)return _0x640ba6[_0x2de9a0(0x275)]=_0x2de9a0(0x6b6),null;_0x640ba6[_0x2de9a0(0x97)]['realVariables']=_0x2944b2;let _0x5cf81b=JSON['parse'](JSON['stringify'](_0x122efa));return this[_0x2de9a0(0x9e)](_0x5cf81b,_0x640ba6[_0x2de9a0(0x97)]['realVariables']),_0x640ba6[_0x2de9a0(0x97)][_0x2de9a0(0x69b)]=_0x5cf81b[_0x2de9a0(0x1be)],_0x640ba6[_0x2de9a0(0x97)][_0x2de9a0(0x636)]=!0x0,_0x5cf81b;}[a0_0x96c47(0x721)](_0x75f57f,_0x418ec5){const _0x5bb061=a0_0x96c47;return _0x75f57f[_0x5bb061(0x6e2)](/\{\{([^}]+)\}\}/g,(_0x541e99,_0x3c9eb4)=>_0x418ec5[_0x3c9eb4]||'');}[a0_0x96c47(0x9e)](_0xd32e2d,_0x59f0e7){const _0x534622=a0_0x96c47;for(let _0x58ec84 in _0xd32e2d)typeof _0xd32e2d[_0x58ec84]=='string'?_0xd32e2d[_0x58ec84]=this[_0x534622(0x721)](_0xd32e2d[_0x58ec84],_0x59f0e7):typeof _0xd32e2d[_0x58ec84]=='object'&&this[_0x534622(0x9e)](_0xd32e2d[_0x58ec84],_0x59f0e7);}async[a0_0x96c47(0x2c7)](_0x8044b7,_0x26d7d0){const _0x3e6fba=a0_0x96c47;let _0x347a6d=_0x26d7d0[_0x3e6fba(0x1be)];if(_0x8044b7[_0x3e6fba(0x97)]&&_0x8044b7[_0x3e6fba(0x97)][_0x3e6fba(0x40e)]){let _0x39edbc=_0x8044b7[_0x3e6fba(0x97)][_0x3e6fba(0x40e)][_0x3e6fba(0x2bc)](_0x4eddac=>String(_0x4eddac[_0x3e6fba(0x477)])===String(_0x347a6d))[_0x3e6fba(0x6d9)]();if(_0x39edbc&&_0x39edbc[_0x3e6fba(0xfa)]&&_0x26d7d0[_0x3e6fba(0x475)])return _0x8044b7[_0x3e6fba(0x275)]=_0x3e6fba(0x6b6),await this['saveConversationToDatabase'](_0x8044b7),null;}if(_0x26d7d0[_0x3e6fba(0x43e)]===_0x3e6fba(0x5bd)&&_0x26d7d0[_0x3e6fba(0x5bd)][_0x3e6fba(0x499)]===_0x3e6fba(0x5d0)&&_0x8044b7[_0x3e6fba(0x109)])return _0x8044b7[_0x3e6fba(0x97)][_0x3e6fba(0x69b)]=_0x347a6d,await this[_0x3e6fba(0x356)](_0x8044b7),null;let _0x342fe2=await this[_0x3e6fba(0x503)](_0x8044b7);if(_0x8044b7[_0x3e6fba(0x97)]&&_0x8044b7['chatLog'][_0x3e6fba(0x40e)]){let _0x26b115=_0x8044b7[_0x3e6fba(0x97)][_0x3e6fba(0x40e)][_0x3e6fba(0x2bc)](_0x3087f9=>String(_0x3087f9[_0x3e6fba(0x477)])===String(_0x347a6d))[_0x3e6fba(0x1fc)];if(_0x26d7d0[_0x3e6fba(0x532)]!==void 0x0&&_0x26b115>=_0x26d7d0[_0x3e6fba(0x532)]){let _0x462d06=Date['now'](),_0xc43324=_0x26d7d0[_0x3e6fba(0x1e8)]??0xa;isNaN(_0xc43324)&&(_0xc43324=0xa);let _0x2a9f61=_0x462d06+_0xc43324*0x3c*0x3e8,_0x3f7715={'newStoppedUntil':_0x2a9f61};return this[_0x3e6fba(0x4c7)](_0x8044b7,_0x2a9f61),this[_0x3e6fba(0x694)](_0x8044b7,_0x26d7d0,_0x3f7715,!0x0),null;}}_0x342fe2&&_0x342fe2[_0x3e6fba(0x43e)]!==_0x3e6fba(0x6cd)&&await this['processblock'](_0x8044b7,_0x342fe2),_0x342fe2||await this[_0x3e6fba(0x356)](_0x8044b7),_0x342fe2&&_0x342fe2[_0x3e6fba(0x43e)]===_0x3e6fba(0x6cd)&&(_0x8044b7['chatLog']['lastBlockId']=_0x347a6d,await this[_0x3e6fba(0x356)](_0x8044b7));}async[a0_0x96c47(0x2d8)](_0xf7125,_0x2cf3f9){const _0x537096=a0_0x96c47;try{let _0x1f1008=_0x2cf3f9[_0x537096(0x43e)];this['logger'][_0x537096(0x4b8)](this[_0x537096(0x5ec)]+'\x20('+this[_0x537096(0x6ba)][_0x537096(0x3e5)]+'):\x20Going\x20to\x20'+_0x1f1008);let _0x3a1ea3={'uazapi':()=>this[_0x537096(0x68f)](_0xf7125,_0x2cf3f9),'save':()=>this[_0x537096(0x665)](_0xf7125,_0x2cf3f9),'stop':()=>this[_0x537096(0x43d)](_0xf7125,_0x2cf3f9),'condition':()=>this[_0x537096(0x304)](_0xf7125,_0x2cf3f9),'varedit':()=>this[_0x537096(0x191)](_0xf7125,_0x2cf3f9),'apirequest':()=>this[_0x537096(0x6a5)](_0xf7125,_0x2cf3f9),'goToFlow':()=>this[_0x537096(0x34e)](_0xf7125,_0x2cf3f9),'awaitSeconds':()=>this[_0x537096(0x1b9)](_0xf7125,_0x2cf3f9),'clearVariables':()=>this[_0x537096(0x25c)](_0xf7125,_0x2cf3f9)}[_0x1f1008];_0x3a1ea3&&await _0x3a1ea3();}catch(_0x24d2f0){this[_0x537096(0x438)][_0x537096(0xfa)](this[_0x537096(0x5ec)]+'\x20('+this['instance'][_0x537096(0x3e5)]+_0x537096(0x406)+(_0x24d2f0 instanceof Error?_0x24d2f0[_0x537096(0x416)]:JSON[_0x537096(0x2bf)](_0x24d2f0,null,0x2)));}}async[a0_0x96c47(0x1b9)](_0x22c8d4,_0x5e7f15){const _0x477a31=a0_0x96c47;if(this[_0x477a31(0x438)][_0x477a31(0x4b8)](this[_0x477a31(0x5ec)]+'\x20('+this['instance'][_0x477a31(0x3e5)]+'):\x20Entrou\x20na\x20função\x20processawaitSeconds'),!_0x22c8d4||!_0x5e7f15)return this[_0x477a31(0x438)][_0x477a31(0xfa)](this[_0x477a31(0x5ec)]+'\x20('+this[_0x477a31(0x6ba)][_0x477a31(0x3e5)]+_0x477a31(0x50a)),null;let _0x1fb8ed=+_0x5e7f15[_0x477a31(0x54b)];isNaN(_0x1fb8ed)&&(_0x1fb8ed=0x0),_0x1fb8ed=Math['min'](_0x1fb8ed,0x3c),await(0x0,f['delay'])(_0x1fb8ed*0x3e8);let _0x356797={'moreLogs':[_0x477a31(0x401)+_0x1fb8ed+_0x477a31(0x148)]};return await this[_0x477a31(0x694)](_0x22c8d4,_0x5e7f15,_0x356797),_0x1fb8ed;}async[a0_0x96c47(0x25c)](_0x3f5ced,_0x4366f1){const _0x1f9061=a0_0x96c47;if(this['logger'][_0x1f9061(0x4b8)](this[_0x1f9061(0x5ec)]+'\x20('+this[_0x1f9061(0x6ba)][_0x1f9061(0x3e5)]+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x3f5ced||!_0x4366f1)return this[_0x1f9061(0x438)]['error'](this[_0x1f9061(0x5ec)]+'\x20('+this[_0x1f9061(0x6ba)][_0x1f9061(0x3e5)]+_0x1f9061(0x50a)),null;let _0x4a1b9b=[];if(_0x4366f1[_0x1f9061(0x3cf)][_0x1f9061(0x379)]()===_0x1f9061(0x6b9)){let _0x37af3d=['_pushName',_0x1f9061(0x64a),'_activedCount','_remoteJid',_0x1f9061(0x1be),'_fromMe'];_0x4a1b9b=Object['keys'](_0x3f5ced[_0x1f9061(0x97)][_0x1f9061(0x4eb)])[_0x1f9061(0x2bc)](_0x7b12f8=>_0x7b12f8['startsWith']('_')&&!_0x37af3d[_0x1f9061(0x546)](_0x7b12f8));}else _0x4a1b9b=_0x4366f1[_0x1f9061(0x3cf)][_0x1f9061(0x620)]('|')[_0x1f9061(0x504)](_0x33b188=>(_0x33b188=_0x33b188[_0x1f9061(0x6e2)](/[{}]/g,'')[_0x1f9061(0x379)](),_0x33b188[_0x1f9061(0x447)]('_')?_0x33b188:'_'+_0x33b188));let _0x473fc7=[];_0x4a1b9b[_0x1f9061(0x233)](_0x498bba=>{const _0x5d6bd1=_0x1f9061;_0x498bba in _0x3f5ced[_0x5d6bd1(0x97)][_0x5d6bd1(0x4eb)]&&(delete _0x3f5ced[_0x5d6bd1(0x97)][_0x5d6bd1(0x4eb)][_0x498bba],_0x473fc7['push'](_0x498bba));}),_0x473fc7[_0x1f9061(0x1fc)]>0x0?this[_0x1f9061(0x438)][_0x1f9061(0x4b8)](this[_0x1f9061(0x5ec)]+'\x20('+this[_0x1f9061(0x6ba)][_0x1f9061(0x3e5)]+'):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20'+_0x473fc7[_0x1f9061(0x34a)](',\x20')):this[_0x1f9061(0x438)][_0x1f9061(0x4b8)](this['instanceName']+'\x20('+this[_0x1f9061(0x6ba)][_0x1f9061(0x3e5)]+_0x1f9061(0x2b7));let _0x4f1eed={'moreLogs':['Removidas\x20as\x20variáveis:\x20'+_0x473fc7['join'](',\x20')]};return await this[_0x1f9061(0x694)](_0x3f5ced,_0x4366f1,_0x4f1eed),null;}async[a0_0x96c47(0x34e)](_0x5e85e4,_0x403a62){const _0x30dc56=a0_0x96c47;if(this[_0x30dc56(0x438)]['verbose'](this['instanceName']+'\x20('+this[_0x30dc56(0x6ba)][_0x30dc56(0x3e5)]+_0x30dc56(0x2d0)),!_0x5e85e4||!_0x403a62)return this[_0x30dc56(0x438)][_0x30dc56(0xfa)](this[_0x30dc56(0x5ec)]+'\x20('+this[_0x30dc56(0x6ba)][_0x30dc56(0x3e5)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this['updateConversation'](_0x5e85e4,_0x403a62,{},!0x0,!0x0);let _0x3a93ad=_0x403a62[_0x30dc56(0x642)];_0x5e85e4=await this[_0x30dc56(0x612)](_0x3a93ad,_0x5e85e4['remoteJid'],_0x5e85e4[_0x30dc56(0x97)]['realVariables']),this[_0x30dc56(0x438)]['verbose'](this[_0x30dc56(0x5ec)]+'\x20('+this[_0x30dc56(0x6ba)][_0x30dc56(0x3e5)]+_0x30dc56(0x5ad));let _0x551e70=await this[_0x30dc56(0x503)](_0x5e85e4);_0x551e70&&await this['processblock'](_0x5e85e4,_0x551e70);}async[a0_0x96c47(0x612)](_0x24ba60,_0x323ea4,_0x5a74c4){const _0x380fde=a0_0x96c47;this[_0x380fde(0x438)][_0x380fde(0x4b8)](this[_0x380fde(0x5ec)]+'\x20('+this['instance']['wuid']+_0x380fde(0x207));try{if(_0x24ba60=await this[_0x380fde(0xc4)][_0x380fde(0x201)]['findOne']({'where':{'name':_0x24ba60}},this[_0x380fde(0x6ba)][_0x380fde(0x3e5)]),!_0x24ba60)return this[_0x380fde(0x438)][_0x380fde(0xfa)](this[_0x380fde(0x5ec)]+'\x20('+this[_0x380fde(0x6ba)][_0x380fde(0x3e5)]+_0x380fde(0x58e)),null;let _0x28fe70=require(_0x380fde(0x3ee))[_0x380fde(0x5e0)],_0x482d13=Date[_0x380fde(0x35c)](),_0x45fd58=_0x380fde(0x664),_0x2714d1={},_0xedc27e={},_0xcf649b={..._0x24ba60,'chatLog':null},_0x443f8={'lastReceivedMessage':_0x2714d1,'lastSendMessage':_0xedc27e,'lastBlockId':_0x45fd58,'lastCondition':!0x0,'realVariables':_0x5a74c4};_0xcf649b['chatLog']=_0x443f8,_0xcf649b['chatLog'][_0x380fde(0x4eb)]={..._0x5a74c4},delete _0xcf649b['_id'],_0xcf649b[_0x380fde(0x1be)]=new _0x28fe70(),_0xcf649b[_0x380fde(0x15e)]=_0x482d13,_0xcf649b[_0x380fde(0x275)]=_0x380fde(0x14f),_0xcf649b[_0x380fde(0x101)]=_0x323ea4;let _0x480dde=await this[_0x380fde(0xc4)][_0x380fde(0x434)][_0x380fde(0x481)](_0xcf649b[_0x380fde(0x1be)],_0xcf649b,this['instance'][_0x380fde(0x3e5)]);return this[_0x380fde(0x438)][_0x380fde(0x4b8)](this[_0x380fde(0x5ec)]+'\x20('+this[_0x380fde(0x6ba)][_0x380fde(0x3e5)]+_0x380fde(0x38b)),_0x480dde?_0xcf649b:null;}catch(_0x484819){let _0xaaa5a4=_0x380fde(0x230),_0x2a4d21=_0x484819 instanceof Error?_0x484819['message']:typeof _0x484819==_0x380fde(0x645)?JSON['stringify'](_0x484819):_0x484819,_0x14cd92=_0xaaa5a4+':\x20'+_0x2a4d21;throw this['logger'][_0x380fde(0xfa)](this[_0x380fde(0x5ec)]+'\x20('+this[_0x380fde(0x6ba)][_0x380fde(0x3e5)]+'):\x20'+_0x14cd92),new m(_0x14cd92);}}async['processApiRequest'](_0x1fe756,_0x471749){const _0x106cc2=a0_0x96c47;let _0x33decb,_0x3e58a8;try{let _0x18046f=_0x471749[_0x106cc2(0x467)];if(!_0x18046f||!_0x18046f[_0x106cc2(0x65f)]||!_0x18046f[_0x106cc2(0x715)])throw new Error(_0x106cc2(0xc9));let _0x30f7ae;([_0x106cc2(0x369),'https://api.openai.com/v1/images/generations',_0x106cc2(0x238)][_0x106cc2(0x9b)](_0x19a09f=>_0x18046f[_0x106cc2(0x65f)][_0x106cc2(0x546)](_0x19a09f))||_0x18046f[_0x106cc2(0x2f1)])&&(_0x30f7ae=_0x106cc2(0x44c));let _0x7e14d7='\u205f',_0x31cac6;try{_0x31cac6=JSON[_0x106cc2(0x3a8)](_0x18046f[_0x106cc2(0x33b)][_0x106cc2(0x6e2)](new RegExp(_0x7e14d7,'g'),''));}catch(_0x4429b6){throw _0x4429b6;}let _0x185d96={'method':_0x18046f[_0x106cc2(0x715)],'url':_0x18046f[_0x106cc2(0x65f)],'headers':_0x18046f[_0x106cc2(0x1ea)]||{},..._0x18046f[_0x106cc2(0x715)][_0x106cc2(0x3c3)]()!==_0x106cc2(0x38a)&&_0x18046f[_0x106cc2(0x33b)]?{'data':JSON[_0x106cc2(0x3a8)](_0x18046f[_0x106cc2(0x33b)][_0x106cc2(0x6e2)](new RegExp(_0x7e14d7,'g'),''))}:{},..._0x30f7ae&&{'responseType':_0x30f7ae}},_0x398f35=await(0x0,K[_0x106cc2(0x5ef)])(_0x185d96),_0x1fc8f0=_0x398f35[_0x106cc2(0x16a)][_0x106cc2(0x1c3)];if(_0x1fc8f0&&_0x1fc8f0[_0x106cc2(0x546)](_0x106cc2(0x11c))||typeof _0x398f35[_0x106cc2(0x4e4)]==_0x106cc2(0x1e4)){if(typeof _0x398f35[_0x106cc2(0x4e4)]=='string'){let _0x38cb59=_0x398f35[_0x106cc2(0x4e4)]['replace'](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x106cc2(0x379)]();try{_0x33decb=JSON['parse'](_0x38cb59);}catch(_0x17a8e6){console['error'](_0x106cc2(0x725)+_0x17a8e6[_0x106cc2(0x416)]),_0x33decb={'_apiResponse':_0x398f35[_0x106cc2(0x4e4)]};}}else _0x33decb=_0x398f35[_0x106cc2(0x4e4)];let _0x299f31=_0x1fe756[_0x106cc2(0x97)][_0x106cc2(0x4eb)],_0x4b36ed=this[_0x106cc2(0x281)](_0x33decb);return Object[_0x106cc2(0x480)](_0x299f31,_0x4b36ed),_0x1fe756['chatLog']['realVariables']=_0x299f31,_0x3e58a8={'error':!0x1,'apiResponse':_0x33decb},this[_0x106cc2(0x694)](_0x1fe756,_0x471749,_0x3e58a8),_0x33decb;}if(_0x1fc8f0&&(_0x1fc8f0[_0x106cc2(0x546)](_0x106cc2(0x684))||_0x1fc8f0[_0x106cc2(0x546)](_0x106cc2(0x657))||_0x1fc8f0[_0x106cc2(0x546)](_0x106cc2(0x31b))||_0x1fc8f0[_0x106cc2(0x546)](_0x106cc2(0x658)))){this[_0x106cc2(0x438)][_0x106cc2(0x4b8)](this[_0x106cc2(0x5ec)]+'\x20('+this[_0x106cc2(0x6ba)][_0x106cc2(0x3e5)]+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x1fc8f0);let _0x2edab3=(0x0,jt['v4'])(),_0x2cf900='',_0x3919ce={'image/jpeg':_0x106cc2(0x41a),'image/png':_0x106cc2(0xfc),'image/gif':_0x106cc2(0xe9),'image/webp':'.webp','image/svg+xml':_0x106cc2(0x2d9),'audio/mpeg':_0x106cc2(0x3f4),'audio/ogg':_0x106cc2(0x100),'audio/wav':_0x106cc2(0x158),'video/mp4':_0x106cc2(0x95),'video/webm':_0x106cc2(0x648),'video/ogg':'.ogv','text/plain':_0x106cc2(0x3a6),'application/pdf':_0x106cc2(0x17c),'application/msword':_0x106cc2(0x6e4),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x106cc2(0x2fc),'application/vnd.ms-excel':_0x106cc2(0x1d7),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x106cc2(0x13a),'application/vnd.ms-powerpoint':_0x106cc2(0x6ab),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x3919ce[_0x1fc8f0]?(_0x2cf900=_0x3919ce[_0x1fc8f0],this[_0x106cc2(0x438)]['verbose'](this[_0x106cc2(0x5ec)]+'\x20('+this[_0x106cc2(0x6ba)][_0x106cc2(0x3e5)]+_0x106cc2(0x663)+_0x2cf900)):(_0x2cf900='.error',this[_0x106cc2(0x438)][_0x106cc2(0x4b8)](this[_0x106cc2(0x5ec)]+'\x20('+this['instance'][_0x106cc2(0x3e5)]+_0x106cc2(0x501)+_0x2cf900)),_0x2edab3+=_0x2cf900,this[_0x106cc2(0x438)][_0x106cc2(0x4b8)](this[_0x106cc2(0x5ec)]+'\x20('+this[_0x106cc2(0x6ba)][_0x106cc2(0x3e5)]+'):\x20Nome\x20do\x20arquivo\x20gerado:\x20'+_0x2edab3);let _0x22a88e=this[_0x106cc2(0x184)]['get'](_0x106cc2(0x32e))['URL'];if(!_0x22a88e){let _0x3449a8=this[_0x106cc2(0x184)][_0x106cc2(0x763)](_0x106cc2(0x696));_0x22a88e='https://'+(_0x3449a8&&_0x3449a8['FULLCHAIN'][_0x106cc2(0x620)]('/')[0x4]);}let _0x587ac2=Buffer[_0x106cc2(0x5b0)](_0x398f35['data']);await this[_0x106cc2(0x6fa)](_0x587ac2,_0x2edab3);let _0x564091=_0x106cc2(0x188)+_0x2edab3;_0x564091=''+_0x22a88e+_0x564091,_0x33decb={'fileUrl':_0x564091},_0x1fe756[_0x106cc2(0x97)][_0x106cc2(0x4eb)]['fileUrl']=_0x564091;let _0x4d3d69=_0x1fe756[_0x106cc2(0x97)][_0x106cc2(0x4eb)],_0x2dc086=this[_0x106cc2(0x281)](_0x33decb);return Object[_0x106cc2(0x480)](_0x4d3d69,_0x2dc086),_0x1fe756[_0x106cc2(0x97)]['realVariables']=_0x4d3d69,_0x3e58a8={'error':!0x1,'apiResponse':{'fileUrl':_0x564091}},this['updateConversation'](_0x1fe756,_0x471749,_0x3e58a8),_0x33decb;}}catch(_0x5ea3bd){console[_0x106cc2(0xfa)](_0x106cc2(0x738),_0x5ea3bd[_0x106cc2(0x416)]),_0x5ea3bd[_0x106cc2(0x59b)]&&(_0x33decb=_0x5ea3bd['response']['data']);let _0x14aef8=_0x1fe756[_0x106cc2(0x97)][_0x106cc2(0x4eb)],_0x4cbe2a=this[_0x106cc2(0x281)](_0x33decb);return Object[_0x106cc2(0x480)](_0x14aef8,_0x4cbe2a),_0x1fe756[_0x106cc2(0x97)]['realVariables']=_0x14aef8,_0x3e58a8={'error':!0x0,'errorLog':_0x5ea3bd[_0x106cc2(0x5f2)](),'apiResponse':_0x33decb},this['updateConversation'](_0x1fe756,_0x471749,_0x3e58a8),{'success':!0x1};}}[a0_0x96c47(0x289)](_0x302e50,_0x4af27a){const _0x55adb9=a0_0x96c47;let _0x2a88a1=_0x495a01=>{const _0x2a46d8=a0_0x3aea;let _0x30cd4f=_0x495a01[_0x2a46d8(0x6e2)](/[^0-9.,-]/g,'')[_0x2a46d8(0x6e2)](',','.'),_0x55d64f=parseFloat(_0x30cd4f);return isNaN(_0x55d64f)?null:_0x55d64f;},_0x2c87fa=_0x4af27a['firstValue'],_0x1d7a25=_0x4af27a[_0x55adb9(0x245)];typeof _0x2c87fa==_0x55adb9(0x1e4)&&(_0x2c87fa=this[_0x55adb9(0x721)](_0x2c87fa,_0x302e50[_0x55adb9(0x97)][_0x55adb9(0x4eb)])??''),typeof _0x1d7a25==_0x55adb9(0x1e4)&&(_0x1d7a25=this[_0x55adb9(0x721)](_0x1d7a25,_0x302e50[_0x55adb9(0x97)][_0x55adb9(0x4eb)])??'');let _0x3f5941=null;if(!_0x4af27a[_0x55adb9(0x35f)])return null;switch(this[_0x55adb9(0x438)][_0x55adb9(0x4b8)](this[_0x55adb9(0x5ec)]+'\x20('+this[_0x55adb9(0x6ba)][_0x55adb9(0x3e5)]+_0x55adb9(0x749)+_0x2c87fa),this['logger'][_0x55adb9(0x4b8)](this[_0x55adb9(0x5ec)]+'\x20('+this[_0x55adb9(0x6ba)][_0x55adb9(0x3e5)]+_0x55adb9(0x566)+_0x1d7a25),_0x4af27a[_0x55adb9(0x35f)]){case'+':case'-':case'*':case'/':let _0x398abf=_0x2a88a1(_0x2c87fa||'0'),_0x1d878b=_0x2a88a1(_0x1d7a25||'0');if(_0x398abf===null)return null;switch(_0x4af27a[_0x55adb9(0x35f)]){case'+':_0x3f5941=_0x398abf+(_0x1d878b??0x0);break;case'-':_0x3f5941=_0x398abf-(_0x1d878b??0x0);break;case'*':_0x3f5941=_0x398abf*(_0x1d878b??0x1);break;case'/':_0x1d878b!==0x0&&(_0x3f5941=_0x398abf/(_0x1d878b??0x1));break;}break;case _0x55adb9(0x2e0):case _0x55adb9(0x142):let _0x485e8a=_0x1d7a25,_0x2aa30d=_0x4af27a[_0x55adb9(0x198)];if(typeof _0x2aa30d=='string'&&(_0x2aa30d=this[_0x55adb9(0x721)](_0x2aa30d,_0x302e50[_0x55adb9(0x97)][_0x55adb9(0x4eb)])??''),_0x485e8a&&_0x2aa30d!==void 0x0){let _0x278c02=_0x4af27a['editOperator']===_0x55adb9(0x2e0)?new RegExp(_0x485e8a[_0x55adb9(0x6e2)](/[-\/\\^$*+?.()|[\]{}]/g,_0x55adb9(0x2a8)),'g'):new RegExp(_0x485e8a,'g');_0x3f5941=_0x2c87fa[_0x55adb9(0x6e2)](_0x278c02,_0x2aa30d);}else console['warn'](_0x55adb9(0x2e5));break;case _0x55adb9(0x54f):_0x3f5941=_0x1d7a25;break;case _0x55adb9(0x762):let _0xaaf4c6=_0x2c87fa[_0x55adb9(0x6a7)](new RegExp(_0x1d7a25||''));_0x3f5941=_0xaaf4c6?_0xaaf4c6[0x0]:'';break;case'truncatedto':_0x3f5941=_0x2c87fa[_0x55adb9(0xa6)](0x0,parseInt(_0x1d7a25||'0'));break;case _0x55adb9(0x40d):let _0x1afbe9=parseInt(_0x1d7a25||'0');_0x3f5941=_0x2c87fa[_0x55adb9(0xa6)](_0x2c87fa[_0x55adb9(0x1fc)]-_0x1afbe9);break;case'toBrazilianNumberFormat':let _0x4de005=_0x2a88a1(_0x2c87fa),_0x87eaa4=parseInt(_0x1d7a25||'0');_0x87eaa4=Math[_0x55adb9(0x182)](_0x87eaa4),_0x4de005!==null?_0x3f5941=_0x4de005['toLocaleString']('pt-BR',{'minimumFractionDigits':_0x87eaa4,'maximumFractionDigits':_0x87eaa4}):(console[_0x55adb9(0x284)](_0x55adb9(0x373)+_0x2c87fa),_0x3f5941=null);break;case _0x55adb9(0x2ff):let _0x1a7599=_0x2a88a1(_0x2c87fa);_0x1a7599!==null?_0x3f5941=_0x1a7599[_0x55adb9(0x1c7)](_0x55adb9(0x170),{'style':_0x55adb9(0x181),'currency':_0x55adb9(0x21c)}):(console[_0x55adb9(0x284)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x2c87fa),_0x3f5941=null);break;case _0x55adb9(0x1bf):_0x3f5941=_0x2c87fa[_0x55adb9(0x3c3)]();break;case _0x55adb9(0x1e1):_0x3f5941=_0x2c87fa['toLowerCase']();break;case _0x55adb9(0x326):_0x3f5941=_0x2c87fa[_0x55adb9(0x620)]('\x20')['map'](_0x425895=>_0x425895[_0x55adb9(0x6ea)](0x0)[_0x55adb9(0x3c3)]()+_0x425895['slice'](0x1)['toLowerCase']())['join']('\x20');break;case _0x55adb9(0x2ec):_0x3f5941=_0x2c87fa['trim']();break;default:_0x3f5941=_0x2c87fa;}return _0x3f5941!==null?_0x3f5941[_0x55adb9(0x5f2)]():null;}async[a0_0x96c47(0x191)](_0x43fe27,_0x92a8e6){const _0x5bb4f8=a0_0x96c47;try{let _0x149e14=_0x43fe27['varedits']?.[_0x5bb4f8(0x2bc)](_0x234904=>_0x234904['blockId']===_0x92a8e6[_0x5bb4f8(0x1be)]?.[_0x5bb4f8(0x5f2)]())||[],_0x7f8cad=_0x92a8e6[_0x5bb4f8(0x36e)],_0x1a8435=null,_0x4d3466=[],_0x4335bb=_0x43fe27[_0x5bb4f8(0x97)][_0x5bb4f8(0x4eb)][_0x7f8cad];_0x4d3466[_0x5bb4f8(0xc0)](_0x5bb4f8(0x37e)+_0x4335bb+'\x22');for(let _0x43bee0 of _0x149e14){_0x43bee0['firstValue']=_0x4335bb,_0x1a8435=_0x43bee0[_0x5bb4f8(0x399)];let _0x93bc19;try{_0x93bc19=this[_0x5bb4f8(0x289)](_0x43fe27,_0x43bee0);}catch(_0x1e2af4){console[_0x5bb4f8(0xfa)]('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x1e2af4[_0x5bb4f8(0x416)]);continue;}if(_0x93bc19!==null){let _0x2edf24=_0x5bb4f8(0x1cc)+_0x43bee0[_0x5bb4f8(0x35f)]+'\x22',_0x458d29=[_0x5bb4f8(0x2ff),_0x5bb4f8(0x1bf),_0x5bb4f8(0x1e1),'capitalizedWords',_0x5bb4f8(0x2ec)];_0x43bee0[_0x5bb4f8(0x35f)]==='findAndReplace'||_0x43bee0[_0x5bb4f8(0x35f)]===_0x5bb4f8(0x142)?_0x2edf24+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x43bee0[_0x5bb4f8(0x245)]+_0x5bb4f8(0x146)+_0x43bee0[_0x5bb4f8(0x198)]+'\x22':!_0x458d29['includes'](_0x43bee0[_0x5bb4f8(0x35f)])&&_0x43bee0[_0x5bb4f8(0x245)]!==null&&_0x43bee0[_0x5bb4f8(0x245)]!==void 0x0&&(_0x2edf24+=',\x20valor\x20passado:\x20\x22'+_0x43bee0[_0x5bb4f8(0x245)]+'\x22'),_0x2edf24+=',\x20resultado:\x20'+_0x93bc19+'.',_0x4d3466[_0x5bb4f8(0xc0)](_0x2edf24);}_0x93bc19!==null&&(_0x4335bb=_0x93bc19);}if(_0x43fe27[_0x5bb4f8(0x97)][_0x5bb4f8(0x4eb)]&&_0x92a8e6[_0x5bb4f8(0x36e)]){_0x43fe27[_0x5bb4f8(0x97)][_0x5bb4f8(0x4eb)][_0x92a8e6['saveVariable']]=_0x4335bb;let _0x1bc3f4={'variable':_0x92a8e6['saveVariable'],'oldValue':_0x1a8435,'newValue':_0x4335bb,'moreLogs':_0x4d3466};try{this[_0x5bb4f8(0x694)](_0x43fe27,_0x92a8e6,_0x1bc3f4);}catch(_0x50b74e){console[_0x5bb4f8(0xfa)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x50b74e['message']);}}return _0x7f8cad;}catch(_0x127a30){return console[_0x5bb4f8(0xfa)](_0x5bb4f8(0x5fb)+_0x127a30[_0x5bb4f8(0x416)]),null;}}async[a0_0x96c47(0x304)](_0xf2d1e4,_0x34e0e9){const _0x503998=a0_0x96c47;try{let _0x4fe3bb=[],_0x472165=_0xf2d1e4[_0x503998(0x2ee)]['filter'](_0x16bd47=>_0x16bd47[_0x503998(0x477)]===_0x34e0e9[_0x503998(0x1be)]['toString']()),_0x426cce=null,_0x41ce64=!0x1;for(let _0x1d0c58 of _0x472165){let _0x465f92=this[_0x503998(0x2b0)](_0xf2d1e4,_0x1d0c58);_0x4fe3bb[_0x503998(0xc0)]('Primeiro\x20Valor:\x20'+_0x1d0c58[_0x503998(0x399)]+_0x503998(0x108)+_0x1d0c58[_0x503998(0x3c4)]+_0x503998(0x2b3)+_0x1d0c58[_0x503998(0x245)]+_0x503998(0x32a)+_0x465f92),_0x426cce===null?_0x426cce=_0x465f92:_0x1d0c58[_0x503998(0x2d2)]===_0x503998(0x1c5)?(_0x426cce=_0x426cce&&_0x465f92,_0x465f92||(_0x41ce64=!0x0)):_0x1d0c58[_0x503998(0x2d2)]==='or'&&(_0x41ce64||(_0x426cce=_0x426cce||_0x465f92));}_0x426cce===null&&(_0x426cce=!0x0);let _0x2b0153={'moreLogs':_0x4fe3bb};_0xf2d1e4['chatLog'][_0x503998(0x636)]=_0x426cce,await this[_0x503998(0x694)](_0xf2d1e4,_0x34e0e9,_0x2b0153);}catch(_0x7f90f2){this[_0x503998(0x438)][_0x503998(0xfa)](this[_0x503998(0x5ec)]+'\x20('+this['instance'][_0x503998(0x3e5)]+_0x503998(0x533)+(_0x7f90f2 instanceof Error?_0x7f90f2[_0x503998(0x416)]:JSON['stringify'](_0x7f90f2,null,0x2)));}}[a0_0x96c47(0x2b0)](_0xe38c0b,_0xbf86b6){const _0x41a4cb=a0_0x96c47;let _0x110715=_0xbf86b6['firstValue'],_0x2c45e8=_0xbf86b6[_0x41a4cb(0x245)];typeof _0x110715==_0x41a4cb(0x1e4)&&(_0x110715=this[_0x41a4cb(0x721)](_0x110715,_0xe38c0b[_0x41a4cb(0x97)][_0x41a4cb(0x4eb)])??''),typeof _0x2c45e8=='string'&&(_0x2c45e8=this['replaceVariables'](_0x2c45e8,_0xe38c0b[_0x41a4cb(0x97)][_0x41a4cb(0x4eb)])??'');try{switch(_0xbf86b6[_0x41a4cb(0x3c4)]){case _0x41a4cb(0x27d):return _0x110715===_0x2c45e8;case _0x41a4cb(0x4f8):return _0x110715!==_0x2c45e8;case'contains':return this[_0x41a4cb(0x6d7)](_0x110715,_0x2c45e8);case _0x41a4cb(0x115):return!this[_0x41a4cb(0x6d7)](_0x110715,_0x2c45e8);case'greater':return parseFloat(_0x110715)>parseFloat(_0x2c45e8);case _0x41a4cb(0x446):return parseFloat(_0x110715)<parseFloat(_0x2c45e8);case _0x41a4cb(0x258):return _0x110715!=='';case'empty':return _0x110715==='';case _0x41a4cb(0x36a):return new RegExp(_0x2c45e8)[_0x41a4cb(0x577)](_0x110715);case _0x41a4cb(0x53f):return!new RegExp(_0x2c45e8)['test'](_0x110715);default:return!0x1;}}catch(_0x43251e){return console[_0x41a4cb(0xfa)](_0x41a4cb(0xe5)+_0x43251e),!0x1;}}[a0_0x96c47(0x6d7)](_0x4dc79b,_0x3e76e1){const _0x1ac6ed=a0_0x96c47;if(_0x4dc79b===_0x3e76e1&&/^\d+$/[_0x1ac6ed(0x577)](_0x4dc79b))return!0x0;if(this[_0x1ac6ed(0x3f7)](_0x4dc79b)&&/^\d+$/[_0x1ac6ed(0x577)](_0x3e76e1)){let _0x2545f4=_0x4dc79b[_0x1ac6ed(0x620)](',')[_0x1ac6ed(0x504)](_0x40d7ca=>parseInt(_0x40d7ca[_0x1ac6ed(0x379)]())),_0x8cf33=parseInt(_0x3e76e1);return _0x2545f4[_0x1ac6ed(0x546)](_0x8cf33);}return _0x4dc79b['includes'](_0x3e76e1);}[a0_0x96c47(0x3f7)](_0x258c9e){return/^\d+(,\d+)*$/['test'](_0x258c9e);}[a0_0x96c47(0x66e)](_0x26bf0c){const _0x159eca=a0_0x96c47;let _0xb9c6f5=!0x0,_0xe78ae8=null;for(let _0x73a1f6 of _0x26bf0c){let _0x69f8c4=this[_0x159eca(0x45c)](_0x73a1f6);if(_0xe78ae8==='or'&&_0x69f8c4){_0xb9c6f5=!0x0;break;}if(_0xe78ae8===_0x159eca(0x1c5)&&!_0x69f8c4){_0xb9c6f5=!0x1;break;}_0xe78ae8=_0x73a1f6['OrAnd'];}return _0xb9c6f5;}[a0_0x96c47(0x45c)](_0xbe223f){const _0xd9cde7=a0_0x96c47;let _0x123157=_0xbe223f[_0xd9cde7(0x399)],_0xa8c0c1=_0xbe223f[_0xd9cde7(0x245)];try{switch(_0xbe223f[_0xd9cde7(0x3c4)]){case _0xd9cde7(0x27d):return String(_0x123157)===String(_0xa8c0c1);case _0xd9cde7(0x4f8):return String(_0x123157)!==String(_0xa8c0c1);case _0xd9cde7(0x6d7):return String(_0x123157)[_0xd9cde7(0x546)](String(_0xa8c0c1));case _0xd9cde7(0x115):return!String(_0x123157)[_0xd9cde7(0x546)](String(_0xa8c0c1));case _0xd9cde7(0x44e):return parseFloat(String(_0x123157))>parseFloat(String(_0xa8c0c1));case _0xd9cde7(0x446):return parseFloat(String(_0x123157))<parseFloat(String(_0xa8c0c1));case _0xd9cde7(0x258):return String(_0x123157)!=='';case _0xd9cde7(0x1c6):return String(_0x123157)==='';case _0xd9cde7(0x36a):return new RegExp(String(_0xa8c0c1))[_0xd9cde7(0x577)](String(_0x123157));case _0xd9cde7(0x53f):return!new RegExp(String(_0xa8c0c1))[_0xd9cde7(0x577)](String(_0x123157));default:return!0x1;}}catch(_0x10589e){return console[_0xd9cde7(0xfa)](_0xd9cde7(0xe5)+_0x10589e),!0x1;}}async['saveTextReply'](_0x1fdd52,_0x3d84e8){const _0x7e7356=a0_0x96c47;if(this[_0x7e7356(0x438)][_0x7e7356(0x4b8)](this[_0x7e7356(0x5ec)]+'\x20('+this[_0x7e7356(0x6ba)][_0x7e7356(0x3e5)]+_0x7e7356(0x81)),!_0x1fdd52||!_0x3d84e8)return this[_0x7e7356(0x438)][_0x7e7356(0xfa)](this[_0x7e7356(0x5ec)]+'\x20('+this[_0x7e7356(0x6ba)][_0x7e7356(0x3e5)]+_0x7e7356(0x50a)),null;let _0x1cedc4=_0x1fdd52[_0x7e7356(0x97)][_0x7e7356(0x30b)][_0x7e7356(0x570)]['id'];this[_0x7e7356(0x438)]['verbose'](this[_0x7e7356(0x5ec)]+'\x20('+this['instance'][_0x7e7356(0x3e5)]+'):\x20mediaMessageInfoId\x20:\x20'+_0x1cedc4);let _0x140f80={'key':{'id':_0x1cedc4}},_0x12b6a2=_0x3d84e8[_0x7e7356(0x36e)];_0x1fdd52[_0x7e7356(0x97)][_0x7e7356(0x4eb)]['_'+_0x12b6a2+_0x7e7356(0x1c4)]=null,_0x1fdd52[_0x7e7356(0x97)][_0x7e7356(0x4eb)]['_'+_0x12b6a2+_0x7e7356(0x50e)]=null,_0x1fdd52['chatLog']['realVariables']['_'+_0x12b6a2+'.extension']=null,_0x1fdd52[_0x7e7356(0x97)][_0x7e7356(0x4eb)]['_'+_0x12b6a2+_0x7e7356(0xdd)]=_0x1fdd52[_0x7e7356(0x97)][_0x7e7356(0x30b)]['type'];try{let _0x4fc6d2=await this[_0x7e7356(0x48e)](_0x140f80);this[_0x7e7356(0x438)][_0x7e7356(0x4b8)](this[_0x7e7356(0x5ec)]+'\x20('+this[_0x7e7356(0x6ba)]['wuid']+'):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.'),_0x1fdd52[_0x7e7356(0x97)]['realVariables']['_'+_0x12b6a2+_0x7e7356(0x451)]=_0x4fc6d2['fileUrl'],_0x1fdd52[_0x7e7356(0x97)][_0x7e7356(0x4eb)]['_'+_0x12b6a2+'.mimetype']=_0x4fc6d2['mimetype'];let _0x4204ed=_0x4fc6d2['mimetype'][_0x7e7356(0x6a7)](/\/(\w+)$/),_0x47788d=_0x4204ed?_0x4204ed[0x1]:null;_0x1fdd52[_0x7e7356(0x97)][_0x7e7356(0x4eb)]['_'+_0x12b6a2+_0x7e7356(0x398)]=_0x47788d,this[_0x7e7356(0x438)][_0x7e7356(0x4b8)](this[_0x7e7356(0x5ec)]+'\x20('+this['instance']['wuid']+'):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27'+_0x12b6a2+'\x27.');}catch(_0x61ba4d){this[_0x7e7356(0x438)][_0x7e7356(0xfa)](this[_0x7e7356(0x5ec)]+'\x20('+this[_0x7e7356(0x6ba)][_0x7e7356(0x3e5)]+_0x7e7356(0x513)+_0x61ba4d);}let _0x2abf1a=_0x1fdd52[_0x7e7356(0x97)][_0x7e7356(0x30b)][_0x7e7356(0x68c)]||_0x1fdd52[_0x7e7356(0x97)]['lastReceivedMessage'][_0x7e7356(0x5c0)]||_0x1fdd52[_0x7e7356(0x97)][_0x7e7356(0x30b)][_0x7e7356(0x1e7)];try{_0x1fdd52['chatLog'][_0x7e7356(0x4eb)]||(_0x1fdd52[_0x7e7356(0x97)][_0x7e7356(0x4eb)]={});let _0x1bf10c=_0x1fdd52['chatLog'][_0x7e7356(0x4eb)][_0x12b6a2];_0x1fdd52['chatLog'][_0x7e7356(0x4eb)][_0x12b6a2]=_0x2abf1a;let _0x459c63={'variable':_0x12b6a2,'oldValue':_0x1bf10c,'newValue':_0x2abf1a};this['updateConversation'](_0x1fdd52,_0x3d84e8,_0x459c63),this[_0x7e7356(0x438)]['verbose'](this[_0x7e7356(0x5ec)]+'\x20('+this[_0x7e7356(0x6ba)][_0x7e7356(0x3e5)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0x20611d){let _0xa3701={'error':!0x0,'errorLog':_0x20611d['toString']()};return this[_0x7e7356(0x694)](_0x1fdd52,_0x3d84e8,_0xa3701),this[_0x7e7356(0x438)][_0x7e7356(0xfa)](this[_0x7e7356(0x5ec)]+'\x20('+this[_0x7e7356(0x6ba)][_0x7e7356(0x3e5)]+'):\x20Erro\x20durante\x20a\x20atualização:\x20'+(_0x20611d instanceof Error?_0x20611d['message']:JSON['stringify'](_0x20611d,null,0x2))),null;}}async['stopConversation'](_0x1f4244,_0x1c5055){const _0x245993=a0_0x96c47;if(this['logger']['verbose'](this[_0x245993(0x5ec)]+'\x20('+this[_0x245993(0x6ba)][_0x245993(0x3e5)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x1f4244||!_0x1c5055)return this[_0x245993(0x438)][_0x245993(0xfa)](this[_0x245993(0x5ec)]+'\x20('+this['instance'][_0x245993(0x3e5)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x446c4e=Date[_0x245993(0x35c)](),_0x11075d=parseInt(_0x1c5055[_0x245993(0x486)],0xa);if(isNaN(_0x11075d))return this[_0x245993(0x438)]['error'](this[_0x245993(0x5ec)]+'\x20('+this[_0x245993(0x6ba)]['wuid']+_0x245993(0x10f)),null;let _0x38cea4={'newStoppedUntil':_0x446c4e+_0x11075d*0x3c*0x3e8};return await this[_0x245993(0x694)](_0x1f4244,_0x1c5055,_0x38cea4,!0x0),null;}async[a0_0x96c47(0x68f)](_0x5a5251,_0x87fd7){const _0x16f948=a0_0x96c47;try{switch(_0x87fd7[_0x16f948(0x5bd)]['command']){case _0x16f948(0x40a):await this[_0x16f948(0x292)](_0x5a5251,_0x87fd7);break;case _0x16f948(0x64d):await this['uazapiSendMedia'](_0x5a5251,_0x87fd7);break;case _0x16f948(0x4e0):await this[_0x16f948(0x1f7)](_0x5a5251,_0x87fd7);break;case _0x16f948(0x4d8):await this[_0x16f948(0x550)](_0x5a5251,_0x87fd7);break;case _0x16f948(0x6a4):await this[_0x16f948(0x48f)](_0x5a5251,_0x87fd7);break;case'sendPoll':await this[_0x16f948(0x756)](_0x5a5251,_0x87fd7);break;case _0x16f948(0xa4):await this['uazapiSendMenu'](_0x5a5251,_0x87fd7);break;case _0x16f948(0x6ae):await this[_0x16f948(0x89)](_0x5a5251,_0x87fd7);break;default:this['logger'][_0x16f948(0xfa)](this[_0x16f948(0x5ec)]+'\x20('+this[_0x16f948(0x6ba)][_0x16f948(0x3e5)]+'):\x20Comando\x20desconhecido:\x20'+_0x87fd7['uazapi'][_0x16f948(0x499)]);}}catch(_0x51e302){this[_0x16f948(0x438)][_0x16f948(0xfa)](this[_0x16f948(0x5ec)]+'\x20('+this[_0x16f948(0x6ba)][_0x16f948(0x3e5)]+_0x16f948(0x1cb)+(_0x51e302 instanceof Error?_0x51e302[_0x16f948(0x416)]:JSON[_0x16f948(0x2bf)](_0x51e302,null,0x2)));}}async[a0_0x96c47(0x694)](_0x3c1074,_0x5d9a17,_0x115979,_0x1a2d3a=!0x1,_0x548a95=!0x1){const _0xce6183=a0_0x96c47;_0x3c1074[_0xce6183(0x97)]['blockLogs']||(_0x3c1074[_0xce6183(0x97)][_0xce6183(0x40e)]=[]);let _0x332aff=(_0x3c1074[_0xce6183(0x97)]['blockLogs']?.[_0xce6183(0x1fc)]??0x0)+0x1,_0x5b7323=_0x3c1074[_0xce6183(0x97)][_0xce6183(0x40e)][_0xce6183(0x2bc)](_0x336ea6=>String(_0x336ea6['blockId'])===String(_0x5d9a17[_0xce6183(0x1be)]))[_0xce6183(0x1fc)]+0x1,_0x362f0f=_0x115979?.[_0xce6183(0x75d)]??Date[_0xce6183(0x35c)](),_0x54b576=_0x115979?.[_0xce6183(0xfa)]?_0x115979['errorLog']??_0x115979[_0xce6183(0xfa)]['toString']():void 0x0,_0x2f093e={'onTime':_0x362f0f,'blockId':_0x5d9a17['_id'],'order':_0x332aff,'activatedCount':_0x5b7323,'error':_0x115979?.[_0xce6183(0xfa)]??!0x1,'messageId':_0x115979?.['messageId'],'apiResponse':_0x115979?.[_0xce6183(0x4b4)],'apiResponseString':_0x115979?.[_0xce6183(0x4b4)]?JSON[_0xce6183(0x2bf)](_0x115979?.['apiResponse']):void 0x0,'variable':_0x115979?.[_0xce6183(0x1d6)],'oldValue':_0x115979?.[_0xce6183(0x56c)],'newValue':_0x115979?.['newValue'],'newStoppedUntil':_0x115979?.[_0xce6183(0x4bf)],'moreLogs':_0x115979?.[_0xce6183(0x358)],'errorLog':_0x54b576};if(_0x115979['moreLogs']&&_0x115979[_0xce6183(0x358)]['length']>0x0){let _0x2fb876=_0x115979[_0xce6183(0x358)][_0xce6183(0x504)](_0x516e52=>this[_0xce6183(0x6cc)](_0x516e52,_0x3c1074[_0xce6183(0x97)][_0xce6183(0x4eb)]));_0x2f093e[_0xce6183(0x358)]=_0x2fb876;}_0x3c1074[_0xce6183(0x97)][_0xce6183(0x4eb)]||(_0x3c1074['chatLog'][_0xce6183(0x4eb)]={}),_0x3c1074[_0xce6183(0x97)][_0xce6183(0x4eb)][_0xce6183(0xbc)]=String(_0x5b7323),_0x3c1074[_0xce6183(0x97)][_0xce6183(0x4eb)][_0xce6183(0x64a)]=String(_0x115979[_0xce6183(0xfa)]??!0x1),_0x3c1074[_0xce6183(0x97)][_0xce6183(0x40e)][_0xce6183(0xc0)](_0x2f093e),_0x3c1074[_0xce6183(0x97)]['lastBlockId']=_0x5d9a17[_0xce6183(0x1be)][_0xce6183(0x5f2)](),_0x3c1074['chatLog'][_0xce6183(0x4e6)]&&(_0x3c1074[_0xce6183(0x97)]['lastSendMessage']=_0x3c1074['chatLog'][_0xce6183(0x4e6)]),_0x3c1074[_0xce6183(0x97)]['lastReceivedMessage']&&(_0x3c1074[_0xce6183(0x97)]['lastReceivedMessage']=_0x3c1074[_0xce6183(0x97)]['lastReceivedMessage']),_0x3c1074[_0xce6183(0x97)][_0xce6183(0x636)]&&(_0x3c1074[_0xce6183(0x97)][_0xce6183(0x636)]=_0x3c1074[_0xce6183(0x97)][_0xce6183(0x636)]),_0x548a95&&(_0x3c1074[_0xce6183(0x275)]=_0xce6183(0x6b6)),_0x1a2d3a?this['saveConversationToDatabase'](_0x3c1074):this[_0xce6183(0x2c7)](_0x3c1074,_0x5d9a17);}[a0_0x96c47(0x6cc)](_0x2817fa,_0x5d269f){const _0x4f4db6=a0_0x96c47;return _0x2817fa[_0x4f4db6(0x6e2)](/\{\{([^}]+)\}\}/g,(_0x144a93,_0x5c515c)=>_0x5d269f[_0x5c515c]?'{{'+_0x5c515c+_0x4f4db6(0x589)+_0x5d269f[_0x5c515c]+'\x22':'{{'+_0x5c515c+_0x4f4db6(0x61d));}async[a0_0x96c47(0x356)](_0x7c04df){const _0x528bd5=a0_0x96c47;try{let _0x29f839=Object[_0x528bd5(0x744)](_0x7c04df[_0x528bd5(0x97)][_0x528bd5(0x4eb)])[_0x528bd5(0x504)](([_0x1fbc5e,_0x4376f4])=>({'name':_0x1fbc5e,'value':_0x4376f4})),_0x387e22={'status':_0x7c04df[_0x528bd5(0x275)],'blocks':_0x7c04df['blocks'],'waitingMenu_id':_0x7c04df[_0x528bd5(0x109)],'waitingMenu_text':_0x7c04df['waitingMenu_text'],'waitingMenu_replyOptions':_0x7c04df[_0x528bd5(0x11e)],'chatLog':{'lastBlockId':_0x7c04df[_0x528bd5(0x97)][_0x528bd5(0x69b)],'lastSendMessage':_0x7c04df[_0x528bd5(0x97)][_0x528bd5(0x4e6)],'lastReceivedMessage':_0x7c04df[_0x528bd5(0x97)][_0x528bd5(0x30b)],'lastCondition':_0x7c04df[_0x528bd5(0x97)][_0x528bd5(0x636)],'chatVariables':_0x29f839,'realVariables':_0x7c04df[_0x528bd5(0x97)][_0x528bd5(0x4eb)],'blockLogs':_0x7c04df['chatLog']['blockLogs']}},_0x3cbbc7=await this[_0x528bd5(0xc4)][_0x528bd5(0x434)][_0x528bd5(0x481)](_0x7c04df['_id'],_0x387e22,this[_0x528bd5(0x6ba)]['wuid']);if(_0x3cbbc7){this[_0x528bd5(0x438)]['verbose'](this[_0x528bd5(0x5ec)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x3cbbc7['_id']);try{let _0x306a38=[_0x528bd5(0x39d),'nomecompleto',_0x528bd5(0x4e2),_0x528bd5(0x121),_0x528bd5(0x275),_0x528bd5(0x6ac),_0x528bd5(0x4cb),_0x528bd5(0x49a),_0x528bd5(0x52a)];if(!this[_0x528bd5(0x4d2)]&&(await this[_0x528bd5(0x1bb)](),!this[_0x528bd5(0x4d2)]))throw new Error(_0x528bd5(0x53e));let _0x5ce5b5=this[_0x528bd5(0x4d2)]?.['customFields'][_0x528bd5(0x504)](_0x2f0bfa=>_0x2f0bfa[_0x528bd5(0x11a)]),_0x522372={};Object['entries'](_0x7c04df[_0x528bd5(0x97)][_0x528bd5(0x4eb)])[_0x528bd5(0x233)](([_0x3e6002,_0x1a40e8])=>{const _0x59046c=_0x528bd5;_0x306a38['includes'](_0x3e6002)&&(_0x3e6002==='tags'&&typeof _0x1a40e8==_0x59046c(0x1e4)?_0x522372[_0x3e6002]=_0x1a40e8[_0x59046c(0x620)](',')[_0x59046c(0x504)](_0x91536a=>_0x91536a[_0x59046c(0x379)]())[_0x59046c(0x2bc)](_0x110610=>_0x110610!==''):_0x3e6002===_0x59046c(0x52a)&&typeof _0x1a40e8==_0x59046c(0x1e4)?_0x522372[_0x3e6002]=_0x1a40e8['split'](',')[_0x59046c(0x504)](_0x56c1f6=>_0x56c1f6[_0x59046c(0x379)]())[_0x59046c(0x2bc)](_0x322dc8=>_0x322dc8!==''):_0x522372[_0x3e6002]=_0x1a40e8);});let _0x16f2b1=_0x7c04df[_0x528bd5(0x97)][_0x528bd5(0x40e)][_0x7c04df['chatLog']['blockLogs']['length']-0x1];if(_0x16f2b1){let _0x4525cf=_0x16f2b1[_0x528bd5(0x4bf)];_0x4525cf!==void 0x0&&(_0x522372[_0x528bd5(0x5f9)]=_0x4525cf['toString']());}let _0x41c2d4=_0x29f839[_0x528bd5(0x2bc)](_0x52dd5b=>_0x5ce5b5['includes'](_0x52dd5b[_0x528bd5(0x11a)]));this[_0x528bd5(0x438)][_0x528bd5(0x4b8)](this[_0x528bd5(0x5ec)]+'\x20('+this['instance'][_0x528bd5(0x3e5)]+'):\x20leadInfoVariables'),this[_0x528bd5(0x438)]['verbose'](_0x522372),this[_0x528bd5(0x438)][_0x528bd5(0x4b8)](this['instanceName']+'\x20('+this[_0x528bd5(0x6ba)][_0x528bd5(0x3e5)]+_0x528bd5(0x8c)),this[_0x528bd5(0x438)]['verbose'](_0x41c2d4);let _0x363b5e=_0x41c2d4[_0x528bd5(0x504)](_0xa30b5=>{const _0x99f27e=_0x528bd5;let _0x21dd91=this[_0x99f27e(0x4d2)]?.[_0x99f27e(0x5f4)]['find'](_0x36c467=>_0x36c467['name']===_0xa30b5[_0x99f27e(0x11a)]);if(!_0x21dd91)throw new Error(_0x99f27e(0x580)+_0xa30b5[_0x99f27e(0x11a)]);return{'_id':_0x21dd91[_0x99f27e(0x1be)],'value':_0xa30b5[_0x99f27e(0x41c)]};});this['logger'][_0x528bd5(0x4b8)](this['instanceName']+'\x20('+this[_0x528bd5(0x6ba)]['wuid']+_0x528bd5(0x60a)),this[_0x528bd5(0x438)]['verbose'](_0x363b5e),await this[_0x528bd5(0x257)](_0x7c04df['remoteJid'],_0x522372,_0x363b5e);}catch(_0x1ef26d){this[_0x528bd5(0x438)]['error'](this[_0x528bd5(0x5ec)]+'\x20('+this['instance'][_0x528bd5(0x3e5)]+_0x528bd5(0x206)+(_0x1ef26d instanceof Error?_0x1ef26d[_0x528bd5(0x416)]:JSON[_0x528bd5(0x2bf)](_0x1ef26d,null,0x2)));}}else this['logger'][_0x528bd5(0xfa)](this['instanceName']+'\x20('+this[_0x528bd5(0x6ba)]['wuid']+_0x528bd5(0x487));}catch(_0xd637ab){this['logger'][_0x528bd5(0xfa)](this[_0x528bd5(0x5ec)]+'\x20('+this[_0x528bd5(0x6ba)][_0x528bd5(0x3e5)]+_0x528bd5(0x724)+(_0xd637ab instanceof Error?_0xd637ab[_0x528bd5(0x416)]:JSON[_0x528bd5(0x2bf)](_0xd637ab,null,0x2)));}}async['saveChatVariables'](_0x452c40,_0x33b8a5,_0x8edb37){const _0x39ca20=a0_0x96c47;try{let _0x111bad={'leadInfo.leadnome':_0x33b8a5[_0x39ca20(0x39d)],'leadInfo.nomecompleto':_0x33b8a5['nomecompleto'],'leadInfo.email':_0x33b8a5[_0x39ca20(0x4e2)],'leadInfo.cpf':_0x33b8a5[_0x39ca20(0x121)],'leadInfo.status':_0x33b8a5[_0x39ca20(0x275)],'leadInfo.notas':_0x33b8a5[_0x39ca20(0x6ac)],'leadInfo.responsavelid':_0x33b8a5[_0x39ca20(0x4cb)],'leadInfo.tags':_0x33b8a5[_0x39ca20(0x49a)],'leadInfo.etiquetas':_0x33b8a5[_0x39ca20(0x52a)],'leadInfo.customFields':_0x8edb37},_0x38a586=await this[_0x39ca20(0xc4)]['chat'][_0x39ca20(0x732)]({'where':{'_id':_0x452c40}},this[_0x39ca20(0x6ba)][_0x39ca20(0x3e5)]),_0x28b457=new Set(_0x38a586['leadInfo']['etiquetas']||[]),_0x5d9f3d=new Set(_0x33b8a5[_0x39ca20(0x52a)]||[]),_0x4d4652=await this['repository'][_0x39ca20(0x33d)][_0x39ca20(0xd4)]({'where':{}},this[_0x39ca20(0x6ba)][_0x39ca20(0x3e5)]),_0x529cb2=new Set(_0x4d4652[_0x39ca20(0x504)](_0x1102d1=>_0x1102d1[_0x39ca20(0x1be)])),_0x3eeff4=[..._0x5d9f3d]['filter'](_0x419d28=>!_0x28b457[_0x39ca20(0x29a)](_0x419d28)&&_0x529cb2[_0x39ca20(0x29a)](_0x419d28)),_0x17d29a=[..._0x28b457][_0x39ca20(0x2bc)](_0x5a4b57=>!_0x5d9f3d['has'](_0x5a4b57));for(let _0x51d647 of _0x3eeff4)await this[_0x39ca20(0x1d1)](_0x51d647,_0x38a586['_id']),_0x28b457['add'](_0x51d647);for(let _0x3786b5 of _0x17d29a)await this[_0x39ca20(0x539)](_0x3786b5,_0x38a586[_0x39ca20(0x1be)]),_0x28b457[_0x39ca20(0x494)](_0x3786b5);if(_0x39ca20(0x5f9)in _0x33b8a5){let _0x24e649=_0x33b8a5[_0x39ca20(0x5f9)];_0x111bad[_0x39ca20(0x661)]=_0x24e649?Number(_0x24e649):null;}let _0x331a12=await this[_0x39ca20(0xc4)]['chat'][_0x39ca20(0x481)]({'where':{'_id':_0x452c40}},_0x111bad,this[_0x39ca20(0x6ba)][_0x39ca20(0x3e5)]);_0x331a12?(this[_0x39ca20(0x438)][_0x39ca20(0x4b8)](this[_0x39ca20(0x5ec)]+'\x20('+this[_0x39ca20(0x6ba)]['wuid']+_0x39ca20(0xce)+_0x331a12['_id']),U(this[_0x39ca20(0x5ec)],_0x39ca20(0x261),{'chat':_0x331a12})):this[_0x39ca20(0x438)][_0x39ca20(0xfa)](this[_0x39ca20(0x5ec)]+'\x20('+this[_0x39ca20(0x6ba)]['wuid']+'):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD');}catch(_0x1cc416){this[_0x39ca20(0x438)][_0x39ca20(0xfa)](this[_0x39ca20(0x5ec)]+'\x20('+this[_0x39ca20(0x6ba)][_0x39ca20(0x3e5)]+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0x1cc416 instanceof Error?_0x1cc416[_0x39ca20(0x416)]:JSON['stringify'](_0x1cc416,null,0x2)));}}async[a0_0x96c47(0x4c7)](_0x52632f,_0x3156db){const _0x30f6b7=a0_0x96c47;this[_0x30f6b7(0x438)][_0x30f6b7(0x4b8)](this['instanceName']+'\x20('+this[_0x30f6b7(0x6ba)]['wuid']+_0x30f6b7(0x3f3)+_0x3156db);try{let _0x5a4b74=await this[_0x30f6b7(0xc4)]['chat'][_0x30f6b7(0x481)]({'where':{'_id':_0x52632f[_0x30f6b7(0x101)]}},{'leadInfo.desativadoFluxoAte':_0x3156db},this[_0x30f6b7(0x6ba)][_0x30f6b7(0x3e5)]);this[_0x30f6b7(0x438)][_0x30f6b7(0x4b8)](this[_0x30f6b7(0x5ec)]+'\x20('+this[_0x30f6b7(0x6ba)][_0x30f6b7(0x3e5)]+_0x30f6b7(0x36d)+_0x52632f[_0x30f6b7(0x1be)]),this['logger'][_0x30f6b7(0x4b8)](this[_0x30f6b7(0x5ec)]+'\x20('+this[_0x30f6b7(0x6ba)][_0x30f6b7(0x3e5)]+_0x30f6b7(0x3f3)+JSON[_0x30f6b7(0x2bf)](_0x5a4b74,null,0x2)),_0x5a4b74&&U(this[_0x30f6b7(0x5ec)],_0x30f6b7(0x261),{'chat':_0x5a4b74});}catch(_0xdf4ee0){this[_0x30f6b7(0x438)]['error'](this[_0x30f6b7(0x5ec)]+'\x20('+this[_0x30f6b7(0x6ba)][_0x30f6b7(0x3e5)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0xdf4ee0 instanceof Error?_0xdf4ee0['message']:JSON['stringify'](_0xdf4ee0,null,0x2)));}}async['findFlow'](_0x47de4b){const _0x2edf00=a0_0x96c47;try{this[_0x2edf00(0x438)][_0x2edf00(0x4b8)](this[_0x2edf00(0x5ec)]+'\x20('+this['instance'][_0x2edf00(0x3e5)]+_0x2edf00(0x631));let _0x543327=_0x47de4b[_0x2edf00(0x6e2)](/\D/g,''),_0x102057=await this[_0x2edf00(0xc4)][_0x2edf00(0x201)][_0x2edf00(0x732)]({'where':{'testingWith':_0x543327}},this[_0x2edf00(0x6ba)][_0x2edf00(0x3e5)]);return _0x102057||(this[_0x2edf00(0x438)]['verbose'](this[_0x2edf00(0x5ec)]+'\x20('+this[_0x2edf00(0x6ba)]['wuid']+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x102057=await this[_0x2edf00(0xc4)]['flow'][_0x2edf00(0x732)]({'where':{'default':!0x0}},this[_0x2edf00(0x6ba)][_0x2edf00(0x3e5)])),_0x102057||(this[_0x2edf00(0x438)]['verbose'](this[_0x2edf00(0x5ec)]+'\x20('+this[_0x2edf00(0x6ba)][_0x2edf00(0x3e5)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x14b315){return this[_0x2edf00(0x438)]['error'](this[_0x2edf00(0x5ec)]+'\x20('+this[_0x2edf00(0x6ba)][_0x2edf00(0x3e5)]+_0x2edf00(0x2f0)+(_0x14b315 instanceof Error?_0x14b315['message']:JSON['stringify'](_0x14b315,null,0x2))),null;}}async[a0_0x96c47(0x36b)](_0x38d055,_0x462a8c){const _0x394161=a0_0x96c47;try{let _0x5986a0=!!_0x462a8c[_0x394161(0x1e7)],_0x17705b=_0x462a8c[_0x394161(0x73e)],_0x2de604=null;if(this[_0x394161(0x438)][_0x394161(0x4b8)](this[_0x394161(0x5ec)]+'\x20('+this[_0x394161(0x6ba)][_0x394161(0x3e5)]+_0x394161(0x479)+_0x5986a0+_0x394161(0x2c6)+_0x17705b),_0x5986a0){this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x394161(0x4c8));let _0x5e6b83={'where':{'remoteJid':_0x38d055,'waitingMenu_id':_0x17705b}};if(_0x2de604=await this[_0x394161(0xc4)]['flowConversation']['findOne'](_0x5e6b83,this[_0x394161(0x6ba)][_0x394161(0x3e5)]),!_0x2de604)return this['logger'][_0x394161(0x4b8)](this[_0x394161(0x5ec)]+'\x20('+this[_0x394161(0x6ba)]['wuid']+_0x394161(0x524)),null;let _0x4b7aad=Date[_0x394161(0x35c)](),_0x42a6f1=_0x2de604?.[_0x394161(0x6c4)]||0x0,_0x18edcf=_0x4b7aad-_0x42a6f1*0x3c*0x3e8;if(_0x2de604[_0x394161(0x15e)]<_0x18edcf){this[_0x394161(0x438)]['verbose'](this[_0x394161(0x5ec)]+'\x20('+this[_0x394161(0x6ba)]['wuid']+_0x394161(0x1ec));let _0x1dc4b3={'number':_0x2de604[_0x394161(0x101)],'options':{'delay':0x0},'textMessage':{'text':_0x2de604[_0x394161(0x5ea)]}};await this[_0x394161(0x6d6)](_0x1dc4b3);let _0x1741f8={'status':_0x394161(0x6b6),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x394161(0x434)][_0x394161(0x481)](_0x2de604[_0x394161(0x1be)],_0x1741f8,this[_0x394161(0x6ba)]['wuid']),null;}return _0x2de604[_0x394161(0x15e)]=Date['now'](),_0x2de604[_0x394161(0x97)][_0x394161(0x30b)]=_0x462a8c,_0x2de604;}else{this[_0x394161(0x438)][_0x394161(0x4b8)](this[_0x394161(0x5ec)]+'\x20('+this[_0x394161(0x6ba)]['wuid']+_0x394161(0x1ef)+this['instance'][_0x394161(0x3e5)]+_0x394161(0x307)),this[_0x394161(0x438)][_0x394161(0x4b8)](this[_0x394161(0x5ec)]+'\x20('+this[_0x394161(0x6ba)][_0x394161(0x3e5)]+'):\x20Procurando\x20conversa');let _0x320bd0={'where':{'remoteJid':_0x38d055,'status':_0x394161(0x14f)}};if(_0x2de604=await this['repository'][_0x394161(0x434)][_0x394161(0x732)](_0x320bd0,this[_0x394161(0x6ba)][_0x394161(0x3e5)]),!_0x2de604){let _0x3d3b6e=await this['findFlow'](_0x38d055);if(_0x3d3b6e&&(_0x2de604=await this[_0x394161(0x251)](_0x3d3b6e,_0x462a8c[_0x394161(0x570)],_0x462a8c)),!_0x2de604)return null;}let _0x340c59=Date['now'](),_0x3a7251=_0x2de604?.[_0x394161(0x6c4)]||0x0,_0xe0d4c2=_0x340c59-_0x3a7251*0x3c*0x3e8;if(this[_0x394161(0x438)][_0x394161(0x4b8)](this[_0x394161(0x5ec)]+'\x20('+this[_0x394161(0x6ba)]['wuid']+'):\x20Current\x20Time:\x20'+_0x340c59+_0x394161(0x50b)+_0x3a7251+_0x394161(0x56f)+_0xe0d4c2),this[_0x394161(0x438)]['verbose'](this[_0x394161(0x5ec)]+'\x20('+this[_0x394161(0x6ba)][_0x394161(0x3e5)]+_0x394161(0x378)),this['logger']['verbose'](this[_0x394161(0x5ec)]+'\x20('+this['instance'][_0x394161(0x3e5)]+_0x394161(0x5fc)+_0x2de604['lastInteraction']),this['logger'][_0x394161(0x4b8)](this['instanceName']+'\x20('+this[_0x394161(0x6ba)][_0x394161(0x3e5)]+'):\x20expirationTime:\x20'+_0xe0d4c2),_0x2de604[_0x394161(0x15e)]<_0xe0d4c2){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x394161(0x6ba)][_0x394161(0x3e5)]+_0x394161(0xa0));let _0x478552=await this[_0x394161(0x226)](_0x38d055);if(_0x478552===null)return null;_0x2de604&&await this[_0x394161(0xc4)][_0x394161(0x434)][_0x394161(0x481)](_0x2de604[_0x394161(0x1be)],{'status':_0x394161(0x6b6)},this['instance'][_0x394161(0x3e5)]),_0x2de604=await this[_0x394161(0x251)](_0x478552,_0x462a8c[_0x394161(0x570)],_0x462a8c);}return _0x2de604[_0x394161(0x15e)]=_0x340c59,_0x2de604[_0x394161(0x97)]['lastReceivedMessage']=_0x462a8c,_0x2de604;}}catch(_0x230e55){return this['logger'][_0x394161(0xfa)](this['instanceName']+'\x20('+this[_0x394161(0x6ba)][_0x394161(0x3e5)]+_0x394161(0x5f3)+(_0x230e55 instanceof Error?_0x230e55['message']:JSON[_0x394161(0x2bf)](_0x230e55,null,0x2))),null;}}async[a0_0x96c47(0x251)](_0x3623fb,_0x112f77,_0x145d89){const _0x4f929e=a0_0x96c47;this['logger'][_0x4f929e(0x4b8)](this[_0x4f929e(0x5ec)]+'\x20('+this[_0x4f929e(0x6ba)]['wuid']+_0x4f929e(0x12d));try{let _0x1a8036=require('mongodb')[_0x4f929e(0x5e0)],_0x1d7522=Date[_0x4f929e(0x35c)](),_0xce83df=_0x4f929e(0x664),_0x34e991=_0x112f77[_0x4f929e(0x4ba)]?null:_0x145d89,_0x2374ca=_0x112f77[_0x4f929e(0x4ba)]?_0x145d89:null,_0x6f6bf4=_0x112f77[_0x4f929e(0x101)];await this['closeExistingConversations'](_0x6f6bf4);let _0x4c82d0={..._0x3623fb,'chatLog':null},_0x171bc7=await this['variablesToObject'](_0x4c82d0[_0x4f929e(0x544)]),_0x57418=await this['getVariablesChat'](_0x6f6bf4),_0x36aa35={..._0x171bc7,..._0x57418,'_remoteJid':_0x6f6bf4},_0x139fa1={'lastReceivedMessage':_0x34e991,'lastSendMessage':_0x2374ca,'lastBlockId':_0xce83df,'lastCondition':!0x0,'realVariables':_0x36aa35};_0x4c82d0[_0x4f929e(0x97)]=_0x139fa1,delete _0x4c82d0[_0x4f929e(0x1be)],_0x4c82d0['_id']=new _0x1a8036(),_0x4c82d0['lastInteraction']=_0x1d7522,_0x4c82d0[_0x4f929e(0x275)]=_0x4f929e(0x14f),_0x4c82d0[_0x4f929e(0x101)]=_0x6f6bf4;let _0x49c614=await this[_0x4f929e(0xc4)][_0x4f929e(0x434)][_0x4f929e(0x481)](_0x4c82d0['_id'],_0x4c82d0,this['instance'][_0x4f929e(0x3e5)]);return this[_0x4f929e(0x438)][_0x4f929e(0x4b8)](this[_0x4f929e(0x5ec)]+'\x20('+this[_0x4f929e(0x6ba)][_0x4f929e(0x3e5)]+_0x4f929e(0x38b)),_0x49c614?_0x4c82d0:null;}catch(_0x5205b6){return this[_0x4f929e(0x438)][_0x4f929e(0xfa)](this[_0x4f929e(0x5ec)]+'\x20('+this[_0x4f929e(0x6ba)][_0x4f929e(0x3e5)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x5205b6 instanceof Error?_0x5205b6['message']:JSON[_0x4f929e(0x2bf)](_0x5205b6,null,0x2))),_0x5205b6;}}async[a0_0x96c47(0x292)](_0x3d37ac,_0x54e700){const _0x56d7a8=a0_0x96c47;let _0x1f1ba7=_0x3d37ac[_0x56d7a8(0x101)];_0x54e700['uazapi'][_0x56d7a8(0x101)]&&_0x54e700[_0x56d7a8(0x5bd)][_0x56d7a8(0x101)][_0x56d7a8(0x379)]()!==''&&(_0x1f1ba7=_0x54e700[_0x56d7a8(0x5bd)]['remoteJid'][_0x56d7a8(0x379)]()),this['logger']['verbose'](this[_0x56d7a8(0x5ec)]+'\x20('+this[_0x56d7a8(0x6ba)][_0x56d7a8(0x3e5)]+_0x56d7a8(0x6d2));let _0x4bc2fa={'number':_0x1f1ba7,'options':{'delay':_0x54e700[_0x56d7a8(0x5bd)][_0x56d7a8(0x293)],'linkPreview':_0x54e700['uazapi'][_0x56d7a8(0x681)]},'textMessage':{'text':_0x54e700[_0x56d7a8(0x5bd)]['text']}};try{let _0x114e48=await this['textMessage'](_0x4bc2fa);if(_0x114e48){let _0x4521ab={'_id':_0x114e48[_0x56d7a8(0x570)]['id'],'_fromMe':_0x114e48[_0x56d7a8(0x570)][_0x56d7a8(0x4ba)],'_remoteJid':_0x114e48[_0x56d7a8(0x570)][_0x56d7a8(0x101)]},_0x31b7ae=(0x0,f[_0x56d7a8(0x25e)])(_0x114e48[_0x56d7a8(0x416)]),_0x50c4a4=(0x0,f[_0x56d7a8(0x485)])(_0x31b7ae);_0x3d37ac['chatLog'][_0x56d7a8(0x69b)]=_0x54e700['_id'][_0x56d7a8(0x5f2)]();let {message_normalized:_0x4b8ca1}=this[_0x56d7a8(0x64c)](_0x31b7ae,_0x50c4a4,null);_0x3d37ac[_0x56d7a8(0x97)][_0x56d7a8(0x4e6)]=await _0x4b8ca1;let _0x391851={'messageId':_0x114e48[_0x56d7a8(0x570)]['id']},_0x3ff5f9=_0x3d37ac[_0x56d7a8(0x97)][_0x56d7a8(0x4eb)];Object[_0x56d7a8(0x480)](_0x3ff5f9,_0x4521ab),_0x3d37ac[_0x56d7a8(0x97)][_0x56d7a8(0x4eb)]=_0x3ff5f9,this[_0x56d7a8(0x694)](_0x3d37ac,_0x54e700,_0x391851);}else{let _0x8d7f7a={'error':!0x0};this[_0x56d7a8(0x694)](_0x3d37ac,_0x54e700,_0x8d7f7a),this[_0x56d7a8(0x438)][_0x56d7a8(0xfa)](this[_0x56d7a8(0x5ec)]+'\x20('+this[_0x56d7a8(0x6ba)][_0x56d7a8(0x3e5)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x1fd326){let _0x1fbc09={'error':!0x0,'errorLog':_0x1fd326[_0x56d7a8(0x5f2)]()};this[_0x56d7a8(0x694)](_0x3d37ac,_0x54e700,_0x1fbc09),this[_0x56d7a8(0x438)][_0x56d7a8(0xfa)](this[_0x56d7a8(0x5ec)]+'\x20('+this[_0x56d7a8(0x6ba)][_0x56d7a8(0x3e5)]+_0x56d7a8(0x514)+(_0x1fd326 instanceof Error?_0x1fd326[_0x56d7a8(0x416)]:JSON[_0x56d7a8(0x2bf)](_0x1fd326,null,0x2)));}}async[a0_0x96c47(0x58b)](_0xd3ca61,_0x50e5ad){const _0x117c93=a0_0x96c47;let _0x2d97db=_0xd3ca61[_0x117c93(0x101)];_0x50e5ad[_0x117c93(0x5bd)][_0x117c93(0x101)]&&_0x50e5ad[_0x117c93(0x5bd)][_0x117c93(0x101)][_0x117c93(0x379)]()!==''&&(_0x2d97db=_0x50e5ad['uazapi'][_0x117c93(0x101)][_0x117c93(0x379)]()),this['logger'][_0x117c93(0x4b8)](this[_0x117c93(0x5ec)]+'\x20('+this[_0x117c93(0x6ba)][_0x117c93(0x3e5)]+_0x117c93(0x4c3));let _0x42fce9={'number':_0x2d97db,'options':{'delay':_0x50e5ad[_0x117c93(0x5bd)]['delay'],'linkPreview':_0x50e5ad[_0x117c93(0x5bd)]['linkPreview']},'mediaMessage':{'mediatype':_0x50e5ad[_0x117c93(0x5bd)][_0x117c93(0x249)],'caption':_0x50e5ad[_0x117c93(0x5bd)][_0x117c93(0x5c0)],'media':_0x50e5ad['uazapi'][_0x117c93(0x630)],'fileName':_0x50e5ad[_0x117c93(0x5bd)][_0x117c93(0x3c8)]}};try{let _0x3a8229=await this[_0x117c93(0x332)](_0x42fce9);if(_0x3a8229){let _0x3e98d7={'_id':_0x3a8229[_0x117c93(0x570)]['id'],'_fromMe':_0x3a8229['key'][_0x117c93(0x4ba)],'_remoteJid':_0x3a8229[_0x117c93(0x570)][_0x117c93(0x101)]},_0x1a8c20=(0x0,f['normalizeMessageContent'])(_0x3a8229[_0x117c93(0x416)]),_0x30150f=(0x0,f[_0x117c93(0x485)])(_0x1a8c20);_0xd3ca61[_0x117c93(0x97)][_0x117c93(0x69b)]=_0x50e5ad[_0x117c93(0x1be)][_0x117c93(0x5f2)]();let {message_normalized:_0xe03664}=this[_0x117c93(0x64c)](_0x1a8c20,_0x30150f,null);_0xd3ca61['chatLog'][_0x117c93(0x4e6)]=await _0xe03664;let _0x53261a={'messageId':_0x3a8229['key']['id']},_0x5e8478=_0xd3ca61[_0x117c93(0x97)]['realVariables'];Object['assign'](_0x5e8478,_0x3e98d7),_0xd3ca61[_0x117c93(0x97)]['realVariables']=_0x5e8478,this[_0x117c93(0x694)](_0xd3ca61,_0x50e5ad,_0x53261a);}else{let _0x50cfbc={'error':!0x0};this[_0x117c93(0x694)](_0xd3ca61,_0x50e5ad,_0x50cfbc),this[_0x117c93(0x438)][_0x117c93(0xfa)](this[_0x117c93(0x5ec)]+'\x20('+this[_0x117c93(0x6ba)][_0x117c93(0x3e5)]+_0x117c93(0x55a));}}catch(_0x44fcd2){let _0x16f824={'error':!0x0,'errorLog':_0x44fcd2[_0x117c93(0x5f2)]()};this[_0x117c93(0x694)](_0xd3ca61,_0x50e5ad,_0x16f824),this['logger'][_0x117c93(0xfa)](this['instanceName']+'\x20('+this[_0x117c93(0x6ba)][_0x117c93(0x3e5)]+_0x117c93(0x227)+(_0x44fcd2 instanceof Error?_0x44fcd2[_0x117c93(0x416)]:JSON[_0x117c93(0x2bf)](_0x44fcd2,null,0x2)));}}async['uazapiSendLocation'](_0x3525ff,_0x160db8){const _0x2d2316=a0_0x96c47;let _0x4e6bbc=_0x3525ff[_0x2d2316(0x101)];_0x160db8[_0x2d2316(0x5bd)][_0x2d2316(0x101)]&&_0x160db8[_0x2d2316(0x5bd)]['remoteJid'][_0x2d2316(0x379)]()!==''&&(_0x4e6bbc=_0x160db8[_0x2d2316(0x5bd)][_0x2d2316(0x101)][_0x2d2316(0x379)]()),this[_0x2d2316(0x438)][_0x2d2316(0x4b8)](this[_0x2d2316(0x5ec)]+'\x20('+this['instance'][_0x2d2316(0x3e5)]+_0x2d2316(0x73f));let _0x4c65d7={'number':_0x4e6bbc,'options':{'delay':_0x160db8['uazapi'][_0x2d2316(0x293)]},'locationMessage':{'name':_0x160db8[_0x2d2316(0x5bd)]['name'],'address':_0x160db8[_0x2d2316(0x5bd)][_0x2d2316(0x21f)],'latitude':_0x160db8[_0x2d2316(0x5bd)]['latitude'],'longitude':_0x160db8[_0x2d2316(0x5bd)][_0x2d2316(0x176)]}};try{let _0x4c104d=await this[_0x2d2316(0x1ca)](_0x4c65d7);if(_0x4c104d){let _0x3ff3d6={'_id':_0x4c104d['key']['id'],'_fromMe':_0x4c104d['key'][_0x2d2316(0x4ba)],'_remoteJid':_0x4c104d[_0x2d2316(0x570)][_0x2d2316(0x101)]},_0x3f31eb=(0x0,f[_0x2d2316(0x25e)])(_0x4c104d[_0x2d2316(0x416)]),_0x8ab731=(0x0,f[_0x2d2316(0x485)])(_0x3f31eb);_0x3525ff[_0x2d2316(0x97)]['lastBlockId']=_0x160db8[_0x2d2316(0x1be)][_0x2d2316(0x5f2)]();let {message_normalized:_0x213d50}=this['normalizeMessage'](_0x3f31eb,_0x8ab731,null);_0x3525ff[_0x2d2316(0x97)][_0x2d2316(0x4e6)]=await _0x213d50;let _0x431dac={'messageId':_0x4c104d['key']['id']},_0x21cb10=_0x3525ff[_0x2d2316(0x97)][_0x2d2316(0x4eb)];Object[_0x2d2316(0x480)](_0x21cb10,_0x3ff3d6),_0x3525ff[_0x2d2316(0x97)][_0x2d2316(0x4eb)]=_0x21cb10,this[_0x2d2316(0x694)](_0x3525ff,_0x160db8,_0x431dac);}else{let _0x250fcd={'error':!0x0};this[_0x2d2316(0x694)](_0x3525ff,_0x160db8,_0x250fcd),this[_0x2d2316(0x438)][_0x2d2316(0xfa)](this['instanceName']+'\x20('+this['instance'][_0x2d2316(0x3e5)]+_0x2d2316(0x2e2));}}catch(_0x5f5815){let _0x242aa7={'error':!0x0,'errorLog':_0x5f5815[_0x2d2316(0x5f2)]()};this['updateConversation'](_0x3525ff,_0x160db8,_0x242aa7),this['logger'][_0x2d2316(0xfa)](this[_0x2d2316(0x5ec)]+'\x20('+this[_0x2d2316(0x6ba)]['wuid']+_0x2d2316(0x397)+(_0x5f5815 instanceof Error?_0x5f5815['message']:JSON[_0x2d2316(0x2bf)](_0x5f5815,null,0x2)));}}async[a0_0x96c47(0x550)](_0x387476,_0x2ba4fd){const _0x2ea4b4=a0_0x96c47;let _0x1a912d=_0x387476[_0x2ea4b4(0x101)];_0x2ba4fd[_0x2ea4b4(0x5bd)]['remoteJid']&&_0x2ba4fd[_0x2ea4b4(0x5bd)]['remoteJid']['trim']()!==''&&(_0x1a912d=_0x2ba4fd[_0x2ea4b4(0x5bd)][_0x2ea4b4(0x101)]['trim']()),this[_0x2ea4b4(0x438)][_0x2ea4b4(0x4b8)](this[_0x2ea4b4(0x5ec)]+'\x20('+this['instance']['wuid']+_0x2ea4b4(0x4f0));let _0x28972c={'number':_0x1a912d,'options':{'delay':_0x2ba4fd[_0x2ea4b4(0x5bd)][_0x2ea4b4(0x293)]},'audioMessage':{'audio':_0x2ba4fd[_0x2ea4b4(0x5bd)][_0x2ea4b4(0x31b)]}};try{let _0x1e288b=await this[_0x2ea4b4(0x5f5)](_0x28972c);if(_0x1e288b){let _0x4eeb85={'_id':_0x1e288b[_0x2ea4b4(0x570)]['id'],'_fromMe':_0x1e288b['key']['fromMe'],'_remoteJid':_0x1e288b[_0x2ea4b4(0x570)][_0x2ea4b4(0x101)]},_0x54d924=(0x0,f['normalizeMessageContent'])(_0x1e288b[_0x2ea4b4(0x416)]),_0x42737a=(0x0,f[_0x2ea4b4(0x485)])(_0x54d924);_0x387476['chatLog'][_0x2ea4b4(0x69b)]=_0x2ba4fd[_0x2ea4b4(0x1be)]['toString']();let {message_normalized:_0x40b427}=this[_0x2ea4b4(0x64c)](_0x54d924,_0x42737a,null);_0x387476[_0x2ea4b4(0x97)]['lastSendMessage']=await _0x40b427;let _0x1eb606={'messageId':_0x1e288b[_0x2ea4b4(0x570)]['id']},_0x3b466d=_0x387476[_0x2ea4b4(0x97)][_0x2ea4b4(0x4eb)];Object['assign'](_0x3b466d,_0x4eeb85),_0x387476[_0x2ea4b4(0x97)]['realVariables']=_0x3b466d,this['updateConversation'](_0x387476,_0x2ba4fd,_0x1eb606);}else{let _0x374d46={'error':!0x0};this['updateConversation'](_0x387476,_0x2ba4fd,_0x374d46),this[_0x2ea4b4(0x438)][_0x2ea4b4(0xfa)](this['instanceName']+'\x20('+this[_0x2ea4b4(0x6ba)][_0x2ea4b4(0x3e5)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x26064e){let _0x754335={'error':!0x0,'errorLog':_0x26064e[_0x2ea4b4(0x5f2)]()};this[_0x2ea4b4(0x694)](_0x387476,_0x2ba4fd,_0x754335),this['logger'][_0x2ea4b4(0xfa)](this[_0x2ea4b4(0x5ec)]+'\x20('+this[_0x2ea4b4(0x6ba)][_0x2ea4b4(0x3e5)]+_0x2ea4b4(0x5b1)+(_0x26064e instanceof Error?_0x26064e[_0x2ea4b4(0x416)]:JSON[_0x2ea4b4(0x2bf)](_0x26064e,null,0x2)));}}async['uazapiSendContact'](_0x25a3ee,_0x4c4b88){const _0x3819e8=a0_0x96c47;let _0x1cad10=_0x25a3ee[_0x3819e8(0x101)];_0x4c4b88[_0x3819e8(0x5bd)]['remoteJid']&&_0x4c4b88[_0x3819e8(0x5bd)][_0x3819e8(0x101)]['trim']()!==''&&(_0x1cad10=_0x4c4b88[_0x3819e8(0x5bd)][_0x3819e8(0x101)][_0x3819e8(0x379)]()),this[_0x3819e8(0x438)][_0x3819e8(0x4b8)](this[_0x3819e8(0x5ec)]+'\x20('+this[_0x3819e8(0x6ba)][_0x3819e8(0x3e5)]+_0x3819e8(0x505));let _0x58b5e6={'number':_0x1cad10,'options':{'delay':_0x4c4b88[_0x3819e8(0x5bd)]['delay']},'contactMessage':[{'fullName':_0x4c4b88[_0x3819e8(0x5bd)][_0x3819e8(0x294)],'phoneNumber':_0x4c4b88[_0x3819e8(0x5bd)][_0x3819e8(0x83)]}]};try{let _0x1fca86=await this[_0x3819e8(0x180)](_0x58b5e6);if(_0x1fca86){let _0x49a3d3={'_id':_0x1fca86[_0x3819e8(0x570)]['id'],'_fromMe':_0x1fca86['key'][_0x3819e8(0x4ba)],'_remoteJid':_0x1fca86['key'][_0x3819e8(0x101)]},_0xd924f4=(0x0,f[_0x3819e8(0x25e)])(_0x1fca86[_0x3819e8(0x416)]),_0x599b8f=(0x0,f[_0x3819e8(0x485)])(_0xd924f4);_0x25a3ee['chatLog'][_0x3819e8(0x69b)]=_0x4c4b88[_0x3819e8(0x1be)][_0x3819e8(0x5f2)]();let {message_normalized:_0x21cbfc}=this[_0x3819e8(0x64c)](_0xd924f4,_0x599b8f,null);_0x25a3ee[_0x3819e8(0x97)][_0x3819e8(0x4e6)]=await _0x21cbfc;let _0x3b0ce0={'messageId':_0x1fca86['key']['id']},_0x47d33a=_0x25a3ee['chatLog'][_0x3819e8(0x4eb)];Object[_0x3819e8(0x480)](_0x47d33a,_0x49a3d3),_0x25a3ee['chatLog'][_0x3819e8(0x4eb)]=_0x47d33a,this[_0x3819e8(0x694)](_0x25a3ee,_0x4c4b88,_0x3b0ce0);}else{let _0x867e18={'error':!0x0};this[_0x3819e8(0x694)](_0x25a3ee,_0x4c4b88,_0x867e18),this['logger'][_0x3819e8(0xfa)](this[_0x3819e8(0x5ec)]+'\x20('+this['instance'][_0x3819e8(0x3e5)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x829915){let _0x41bca6={'error':!0x0,'errorLog':_0x829915['toString']()};this[_0x3819e8(0x694)](_0x25a3ee,_0x4c4b88,_0x41bca6),this[_0x3819e8(0x438)][_0x3819e8(0xfa)](this[_0x3819e8(0x5ec)]+'\x20('+this[_0x3819e8(0x6ba)][_0x3819e8(0x3e5)]+_0x3819e8(0x622)+(_0x829915 instanceof Error?_0x829915['message']:JSON[_0x3819e8(0x2bf)](_0x829915,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x33c110,_0x29f0b6){const _0x2aa750=a0_0x96c47;for(let _0x39e53e of _0x33c110)_0x39e53e[_0x2aa750(0x2c2)]&&(_0x39e53e[_0x2aa750(0x2c2)]=this[_0x2aa750(0x721)](_0x39e53e[_0x2aa750(0x2c2)],_0x29f0b6)),_0x39e53e[_0x2aa750(0x616)]&&(_0x39e53e[_0x2aa750(0x616)]=this[_0x2aa750(0x721)](_0x39e53e[_0x2aa750(0x616)],_0x29f0b6));}async['uazapiSendMenu'](_0x5b4c35,_0x5e8f80){const _0x5cf4cc=a0_0x96c47;let _0x28da5f=_0x5b4c35[_0x5cf4cc(0x101)];_0x5e8f80[_0x5cf4cc(0x5bd)]['remoteJid']&&_0x5e8f80['uazapi'][_0x5cf4cc(0x101)][_0x5cf4cc(0x379)]()!==''&&(_0x28da5f=_0x5e8f80[_0x5cf4cc(0x5bd)][_0x5cf4cc(0x101)][_0x5cf4cc(0x379)]()),this[_0x5cf4cc(0x438)][_0x5cf4cc(0x4b8)](this[_0x5cf4cc(0x5ec)]+'\x20('+this[_0x5cf4cc(0x6ba)][_0x5cf4cc(0x3e5)]+'):\x20Enviando\x20enquete');let _0x46e185=_0x5b4c35[_0x5cf4cc(0x197)][_0x5cf4cc(0x2bc)](_0x576cc1=>_0x576cc1[_0x5cf4cc(0x477)]===_0x5e8f80[_0x5cf4cc(0x1be)])[_0x5cf4cc(0x2f9)]((_0x15d50c,_0xf70854)=>_0x15d50c[_0x5cf4cc(0x70b)]-_0xf70854['order']);this['replaceVariablesInReplyOptions'](_0x46e185,_0x5b4c35[_0x5cf4cc(0x97)][_0x5cf4cc(0x4eb)]);let _0xec73a8=_0x46e185[_0x5cf4cc(0x504)](_0x15b63c=>_0x15b63c['option']),_0x246aee={'number':_0x28da5f,'menuMessage':{'type':_0x5e8f80[_0x5cf4cc(0x5bd)][_0x5cf4cc(0x635)]||_0x5cf4cc(0x568),'text':_0x5e8f80['uazapi'][_0x5cf4cc(0x68c)]||_0x5e8f80[_0x5cf4cc(0x5bd)][_0x5cf4cc(0x11a)],'footerText':_0x5e8f80[_0x5cf4cc(0x5bd)]['footerText'],'buttonText':_0x5e8f80['uazapi']['buttonText'],'selectableCount':0x1,'choices':_0xec73a8},'options':{'delay':_0x5e8f80['uazapi'][_0x5cf4cc(0x293)]}};try{let _0x3ded0c=await this[_0x5cf4cc(0x65b)](_0x246aee);if(_0x3ded0c){let _0x3e996={'_id':_0x3ded0c[_0x5cf4cc(0x570)]['id'],'_fromMe':_0x3ded0c[_0x5cf4cc(0x570)][_0x5cf4cc(0x4ba)],'_remoteJid':_0x3ded0c['key'][_0x5cf4cc(0x101)]};_0x5e8f80[_0x5cf4cc(0x5bd)][_0x5cf4cc(0x72d)]===!0x0&&(_0x5b4c35['status']=_0x5cf4cc(0x5b3),this[_0x5cf4cc(0x438)][_0x5cf4cc(0x4b8)](this[_0x5cf4cc(0x5ec)]+'\x20('+this[_0x5cf4cc(0x6ba)]['wuid']+_0x5cf4cc(0x4ce)+_0x5b4c35['status'])),this['logger'][_0x5cf4cc(0x4b8)](this[_0x5cf4cc(0x5ec)]+'\x20('+this[_0x5cf4cc(0x6ba)][_0x5cf4cc(0x3e5)]+_0x5cf4cc(0x69e)+(_0x5e8f80[_0x5cf4cc(0x5bd)][_0x5cf4cc(0x11a)]||_0x5e8f80[_0x5cf4cc(0x5bd)][_0x5cf4cc(0x68c)])),_0x5b4c35[_0x5cf4cc(0x109)]=_0x3ded0c[_0x5cf4cc(0x570)]['id'],_0x5b4c35[_0x5cf4cc(0x2ca)]=_0x5e8f80[_0x5cf4cc(0x5bd)][_0x5cf4cc(0x11a)]||_0x5e8f80[_0x5cf4cc(0x5bd)][_0x5cf4cc(0x68c)],_0x5b4c35['waitingMenu_replyOptions']=_0x46e185,_0x5e8f80[_0x5cf4cc(0x5bd)][_0x5cf4cc(0x3b1)]&&(_0x5b4c35[_0x5cf4cc(0x5ea)]=_0x5e8f80[_0x5cf4cc(0x5bd)][_0x5cf4cc(0x3b1)]),this[_0x5cf4cc(0x438)][_0x5cf4cc(0x4b8)](this[_0x5cf4cc(0x5ec)]+'\x20('+this[_0x5cf4cc(0x6ba)][_0x5cf4cc(0x3e5)]+'):\x20conversation.waitingMenu_name'+_0x5b4c35[_0x5cf4cc(0x2ca)]);let _0x56eabb=(0x0,f[_0x5cf4cc(0x25e)])(_0x3ded0c[_0x5cf4cc(0x416)]),_0x45216e=(0x0,f[_0x5cf4cc(0x485)])(_0x56eabb);_0x5b4c35[_0x5cf4cc(0x97)][_0x5cf4cc(0x69b)]=_0x5e8f80['_id'][_0x5cf4cc(0x5f2)]();let {message_normalized:_0x531998}=this[_0x5cf4cc(0x64c)](_0x56eabb,_0x45216e,null);_0x5b4c35[_0x5cf4cc(0x97)][_0x5cf4cc(0x4e6)]=await _0x531998;let _0x173c22={'messageId':_0x3ded0c[_0x5cf4cc(0x570)]['id']},_0x133f16=_0x5b4c35[_0x5cf4cc(0x97)][_0x5cf4cc(0x4eb)];Object[_0x5cf4cc(0x480)](_0x133f16,_0x3e996),_0x5b4c35[_0x5cf4cc(0x97)][_0x5cf4cc(0x4eb)]=_0x133f16,this[_0x5cf4cc(0x694)](_0x5b4c35,_0x5e8f80,_0x173c22);}else{let _0x22b4a4={'error':!0x0};this[_0x5cf4cc(0x694)](_0x5b4c35,_0x5e8f80,_0x22b4a4),this[_0x5cf4cc(0x438)][_0x5cf4cc(0xfa)](this[_0x5cf4cc(0x5ec)]+'\x20('+this['instance']['wuid']+_0x5cf4cc(0x2f7));}}catch(_0x2169a5){let _0x16cbd5={'error':!0x0,'errorLog':_0x2169a5 instanceof Error?_0x2169a5['message']:JSON[_0x5cf4cc(0x2bf)](_0x2169a5,null,0x2)};this[_0x5cf4cc(0x694)](_0x5b4c35,_0x5e8f80,_0x16cbd5),this['logger']['error'](this[_0x5cf4cc(0x5ec)]+'\x20('+this[_0x5cf4cc(0x6ba)][_0x5cf4cc(0x3e5)]+_0x5cf4cc(0xb1)+(_0x2169a5 instanceof Error?_0x2169a5['message']:JSON[_0x5cf4cc(0x2bf)](_0x2169a5,null,0x2)));}}async[a0_0x96c47(0x89)](_0x57943e,_0x3c5955){const _0x3ae18e=a0_0x96c47;this[_0x3ae18e(0x438)][_0x3ae18e(0x4b8)](this[_0x3ae18e(0x5ec)]+'\x20('+this[_0x3ae18e(0x6ba)][_0x3ae18e(0x3e5)]+_0x3ae18e(0x6e7));let _0x1dd8e9=_0x57943e[_0x3ae18e(0x97)][_0x3ae18e(0x40e)][_0x3ae18e(0xd4)](_0x375264=>_0x375264['blockId'][_0x3ae18e(0x5f2)]()===_0x3c5955[_0x3ae18e(0x5bd)][_0x3ae18e(0x477)]['toString']()),_0x28c0a1={'id':_0x1dd8e9[_0x3ae18e(0x21d)],'remoteJid':_0x1dd8e9[_0x3ae18e(0x101)],'fromMe':_0x1dd8e9[_0x3ae18e(0x4ba)]};try{let _0x4ac3a7=await this[_0x3ae18e(0x6ae)](_0x28c0a1);if(_0x4ac3a7){let _0xf4fcc1=(0x0,f[_0x3ae18e(0x25e)])(_0x4ac3a7[_0x3ae18e(0x416)]),_0x8ca29f=(0x0,f[_0x3ae18e(0x485)])(_0xf4fcc1);_0x57943e[_0x3ae18e(0x97)]['lastBlockId']=_0x3c5955[_0x3ae18e(0x1be)][_0x3ae18e(0x5f2)]();let {message_normalized:_0x56baf0}=this[_0x3ae18e(0x64c)](_0xf4fcc1,_0x8ca29f,null);_0x57943e[_0x3ae18e(0x97)][_0x3ae18e(0x4e6)]=await _0x56baf0;let _0x3c7bda={};this['updateConversation'](_0x57943e,_0x3c5955,_0x3c7bda);}else{let _0x1cbc73={'error':!0x0};this['updateConversation'](_0x57943e,_0x3c5955,_0x1cbc73),this['logger']['error'](this['instanceName']+'\x20('+this[_0x3ae18e(0x6ba)][_0x3ae18e(0x3e5)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x4140ff){let _0x2a688d={'error':!0x0,'errorLog':_0x4140ff instanceof Error?_0x4140ff['message']:JSON[_0x3ae18e(0x2bf)](_0x4140ff,null,0x2)};this['updateConversation'](_0x57943e,_0x3c5955,_0x2a688d),this[_0x3ae18e(0x438)][_0x3ae18e(0xfa)](this['instanceName']+'\x20('+this['instance'][_0x3ae18e(0x3e5)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x4140ff instanceof Error?_0x4140ff[_0x3ae18e(0x416)]:JSON[_0x3ae18e(0x2bf)](_0x4140ff,null,0x2)));}}async['createFlow'](_0xcd4d09,_0xe4e8dc){const _0x2de06a=a0_0x96c47;if(!_0xcd4d09[_0x2de06a(0x11a)])throw new m(_0x2de06a(0x609));let _0x5aa152=_0xcd4d09?.[_0x2de06a(0x68e)]?.[_0x2de06a(0x379)]()===_0x2de06a(0x731)?_0x2de06a(0x68e):this[_0x2de06a(0x6ba)][_0x2de06a(0x3e5)],_0x54cc3d=await this[_0x2de06a(0xc4)][_0x2de06a(0x201)]['findOne']({'where':{'name':_0xcd4d09[_0x2de06a(0x11a)]}},_0x5aa152);if(_0xe4e8dc!==ee&&_0xcd4d09?.[_0x2de06a(0x68e)]===_0x2de06a(0x731))throw new m(_0x2de06a(0xa5));if(_0xcd4d09?.[_0x2de06a(0x68e)]!=='true'&&(_0xcd4d09[_0x2de06a(0x68e)]=_0x2de06a(0x3c0)),_0x54cc3d)throw new m(_0x2de06a(0xc5));return _0x2de06a(0x11a)in _0xcd4d09&&_0x2de06a(0x366)in _0xcd4d09&&_0x2de06a(0x220)in _0xcd4d09?this[_0x2de06a(0x203)](_0xcd4d09[_0x2de06a(0x220)],_0xcd4d09['sharePass'],_0xcd4d09[_0x2de06a(0x11a)]):this[_0x2de06a(0x302)](_0xcd4d09);}async['createSharedFlow'](_0x217498,_0x12310f,_0x4c875f){const _0x5d86a1=a0_0x96c47;try{this[_0x5d86a1(0x438)][_0x5d86a1(0x4b8)](this[_0x5d86a1(0x5ec)]+'\x20('+this['instance'][_0x5d86a1(0x3e5)]+_0x5d86a1(0x13d));let _0xf49d8e=await this[_0x5d86a1(0xc4)][_0x5d86a1(0x201)]['findOne']({'where':{'sharePass':_0x12310f}},_0x217498);if(!_0xf49d8e)throw new m(_0x5d86a1(0x30f));let _0x6f8527={..._0xf49d8e};_0x6f8527[_0x5d86a1(0x220)]=this['instance'][_0x5d86a1(0x3e5)];let _0x4b9be0=_0xf49d8e[_0x5d86a1(0x68e)]===_0x5d86a1(0x731)?'global':_0xf49d8e[_0x5d86a1(0x220)];return(_0x217498===_0x5d86a1(0x68e)||_0xf49d8e['global']==='true')&&(_0x6f8527['global']='sync',_0x6f8527[_0x5d86a1(0x220)]='global'),_0x6f8527['shareOwners']=Array[_0x5d86a1(0x5b0)](new Set([..._0xf49d8e[_0x5d86a1(0x19b)]||[],_0x4b9be0,this[_0x5d86a1(0x6ba)][_0x5d86a1(0x3e5)]])),_0xf49d8e[_0x5d86a1(0x19b)]=_0x6f8527[_0x5d86a1(0x19b)],await this[_0x5d86a1(0xc4)][_0x5d86a1(0x201)][_0x5d86a1(0x481)](_0xf49d8e[_0x5d86a1(0x1be)],{'shareOwners':_0xf49d8e[_0x5d86a1(0x19b)]},_0x4b9be0),_0xf49d8e['default']===!0x0&&await this[_0x5d86a1(0xc4)]['flow'][_0x5d86a1(0x562)]({},{'default':!0x1},this[_0x5d86a1(0x6ba)][_0x5d86a1(0x3e5)]),await this[_0x5d86a1(0xc4)][_0x5d86a1(0x201)][_0x5d86a1(0x61e)](_0x6f8527,this['instance'][_0x5d86a1(0x3e5)]);}catch(_0x1574f0){let _0x251bc4=_0x5d86a1(0x63e),_0x1e5b8b=_0x1574f0 instanceof Error?_0x1574f0[_0x5d86a1(0x416)]:typeof _0x1574f0==_0x5d86a1(0x645)?JSON[_0x5d86a1(0x2bf)](_0x1574f0):_0x1574f0,_0x231c97=_0x251bc4+':\x20'+_0x1e5b8b;throw this['logger'][_0x5d86a1(0xfa)](this['instanceName']+'\x20('+this[_0x5d86a1(0x6ba)][_0x5d86a1(0x3e5)]+_0x5d86a1(0x1ef)+_0x231c97),new m(_0x231c97);}}async[a0_0x96c47(0x302)](_0x57e6a9){const _0x5d5d54=a0_0x96c47;try{this[_0x5d5d54(0x438)]['verbose'](this[_0x5d5d54(0x5ec)]+'\x20('+this['instance']['wuid']+_0x5d5d54(0x92));let _0x338d53=_0x57e6a9?.['global']===_0x5d5d54(0x731)?'global':this[_0x5d5d54(0x6ba)][_0x5d5d54(0x3e5)];delete _0x57e6a9[_0x5d5d54(0x19b)],delete _0x57e6a9['sharePass'],delete _0x57e6a9[_0x5d5d54(0x220)],_0x57e6a9['default']===!0x0&&await this[_0x5d5d54(0xc4)][_0x5d5d54(0x201)][_0x5d5d54(0x562)]({},{'default':!0x1},this[_0x5d5d54(0x6ba)][_0x5d5d54(0x3e5)]);let _0x3d6101=new re[(_0x5d5d54(0x3d8))][(_0x5d5d54(0x5e0))](),_0x2ab480={'_id':_0x3d6101,'default':!0x0,'title':_0x5d5d54(0x71d),'x':0x0,'y':0x0},_0x2b120c={'_id':new re['Types'][(_0x5d5d54(0x5e0))](),'order':0x1,'groupId':_0x3d6101[_0x5d5d54(0x5f2)](),'type':_0x5d5d54(0x664)},_0x38e2ad={'_id':new re[(_0x5d5d54(0x3d8))][(_0x5d5d54(0x5e0))](),'owner':this['instance'][_0x5d5d54(0x3e5)],'name':_0x57e6a9[_0x5d5d54(0x11a)],'groups':[_0x2ab480],'blocks':[_0x2b120c],..._0x57e6a9};return await this[_0x5d5d54(0xc4)][_0x5d5d54(0x201)][_0x5d5d54(0x61e)](_0x38e2ad,_0x338d53);}catch(_0x95c550){let _0x2b6455='Erro\x20ao\x20criar\x20fluxo\x20regular',_0x425998=_0x95c550 instanceof Error?_0x95c550[_0x5d5d54(0x416)]:typeof _0x95c550=='object'?JSON[_0x5d5d54(0x2bf)](_0x95c550):_0x95c550,_0xcb9431=_0x2b6455+':\x20'+_0x425998;throw this[_0x5d5d54(0x438)][_0x5d5d54(0xfa)](this[_0x5d5d54(0x5ec)]+'\x20('+this[_0x5d5d54(0x6ba)]['wuid']+_0x5d5d54(0x1ef)+_0xcb9431),new m(_0xcb9431);}}async[a0_0x96c47(0x601)](_0x30308e,_0x40d9a4){const _0x542ced=a0_0x96c47;this['logger'][_0x542ced(0x5f7)]('entrou\x20na\x20função\x20de\x20sincronizar\x20fluxos');try{let _0x117c23=await this[_0x542ced(0xc4)][_0x542ced(0x201)][_0x542ced(0x732)]({'where':{'_id':_0x30308e}},_0x40d9a4);if(delete _0x117c23[_0x542ced(0x5ef)],delete _0x117c23[_0x542ced(0x2b5)],delete _0x117c23[_0x542ced(0x37d)],delete _0x117c23['minutesToClose'],delete _0x117c23['readMessages'],_0x117c23[_0x542ced(0x68e)]==='true'&&(_0x117c23[_0x542ced(0x68e)]=_0x542ced(0x5d2)),_0x117c23&&_0x117c23[_0x542ced(0x19b)]){for(let _0x17395f of _0x117c23['shareOwners'])if(_0x17395f!==_0x40d9a4){let _0x2b3a97={..._0x117c23,'owner':_0x17395f};await this[_0x542ced(0xc4)][_0x542ced(0x201)]['findAndUpdate'](_0x117c23[_0x542ced(0x1be)],_0x2b3a97,_0x17395f);}}}catch(_0x3931ee){this['logger']['error'](_0x542ced(0x765)+_0x3931ee);}}async[a0_0x96c47(0x32f)](_0x34db8e,_0x4e63dc,_0x2d574e){const _0x156087=a0_0x96c47;try{this[_0x156087(0x438)][_0x156087(0x4b8)](this[_0x156087(0x5ec)]+'\x20('+this[_0x156087(0x6ba)][_0x156087(0x3e5)]+'):\x20Deletando\x20fluxo...');let _0x546612=_0x2d574e[_0x156087(0x379)]()===_0x156087(0x731)?_0x156087(0x68e):this[_0x156087(0x6ba)]['wuid'],_0x2abd59=await this[_0x156087(0xc4)][_0x156087(0x201)][_0x156087(0x732)]({'where':{'name':_0x34db8e}},_0x546612);if(!_0x2abd59)throw new m(_0x156087(0x6db));if(_0x4e63dc!==ee&&_0x2abd59?.['global']===_0x156087(0x731)&&_0x2abd59?.[_0x156087(0x220)]!==this[_0x156087(0x6ba)][_0x156087(0x3e5)])throw new m(_0x156087(0x71a));if(_0x2abd59&&_0x2abd59['shareOwners']&&_0x2abd59[_0x156087(0x19b)][_0x156087(0x1fc)]>0x1){for(let _0x2ac284 of _0x2abd59[_0x156087(0x19b)])if(_0x2ac284!==this['instance'][_0x156087(0x3e5)]){let _0x51d8ba=await this['repository'][_0x156087(0x201)][_0x156087(0x732)]({'where':{'sharePass':_0x2abd59[_0x156087(0x366)]}},_0x2ac284);_0x51d8ba&&(_0x51d8ba[_0x156087(0x19b)]=_0x51d8ba['shareOwners']['filter'](_0x4060c2=>_0x4060c2!==_0x2abd59[_0x156087(0x220)]),await this[_0x156087(0xc4)][_0x156087(0x201)]['updateOne'](_0x51d8ba[_0x156087(0x1be)],{'shareOwners':_0x51d8ba[_0x156087(0x19b)],'global':'false'},_0x2ac284));}}return await this[_0x156087(0xc4)][_0x156087(0x201)][_0x156087(0x259)]({'where':{'name':_0x34db8e}},_0x546612);}catch(_0x546e26){return this[_0x156087(0x438)][_0x156087(0xfa)](this[_0x156087(0x5ec)]+'\x20('+this['instance'][_0x156087(0x3e5)]+_0x156087(0x5ed)+(_0x546e26 instanceof Error?_0x546e26['message']:JSON[_0x156087(0x2bf)](_0x546e26,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+_0x546e26[_0x156087(0x416)]};}}async['getFlow'](_0x5e4a7b,_0x112ced){const _0x3be948=a0_0x96c47;try{this[_0x3be948(0x438)][_0x3be948(0x4b8)](this[_0x3be948(0x5ec)]+'\x20('+this['instance'][_0x3be948(0x3e5)]+_0x3be948(0x631));let _0xc4b81f=_0x112ced?.['trim']()===_0x3be948(0x731)?'global':this[_0x3be948(0x6ba)]['wuid'],_0x30b5d7=await this[_0x3be948(0xc4)][_0x3be948(0x201)][_0x3be948(0x732)]({'where':{'name':_0x5e4a7b}},_0xc4b81f);if(!_0x30b5d7)throw new Error(_0x3be948(0x476));if(!this[_0x3be948(0x4d2)]&&(await this[_0x3be948(0x1bb)](),!this[_0x3be948(0x4d2)]))return null;let _0x95065b=this['AutomateSystem']?.[_0x3be948(0x5f4)][_0x3be948(0x504)](_0x280ab6=>_0x280ab6[_0x3be948(0x11a)]),_0x14fca4=[_0x3be948(0x39d),'nomecompleto',_0x3be948(0x4e2),_0x3be948(0x121),_0x3be948(0x275),_0x3be948(0x6ac),_0x3be948(0x4cb),_0x3be948(0x49a),'etiquetas'];_0x30b5d7['variables']=_0x30b5d7[_0x3be948(0x544)][_0x3be948(0x2bc)](_0x5dcf04=>!(_0x5dcf04[_0x3be948(0x5a6)]===_0x3be948(0x412)||_0x5dcf04[_0x3be948(0x412)])),_0x14fca4['forEach'](_0x43cb42=>{const _0x1a8c05=_0x3be948;_0x30b5d7[_0x1a8c05(0x544)][_0x1a8c05(0xc0)]({'folder':_0x1a8c05(0x412),'name':_0x43cb42,'value':'','doc':'','leadInfo':!0x0});}),_0x95065b['forEach'](_0x11b693=>{const _0xe88dfa=_0x3be948;let _0x521631=_0x30b5d7['variables'][_0xe88dfa(0x3dd)](_0x18f84c=>_0x18f84c[_0xe88dfa(0x11a)]===_0x11b693);_0x521631===-0x1?_0x30b5d7[_0xe88dfa(0x544)][_0xe88dfa(0xc0)]({'folder':_0xe88dfa(0x412),'name':_0x11b693,'value':'','doc':'','leadInfo':!0x0}):(_0x30b5d7[_0xe88dfa(0x544)][_0x521631][_0xe88dfa(0x5a6)]='leadInfo',_0x30b5d7[_0xe88dfa(0x544)][_0x521631]['leadInfo']=!0x0);}),_0x30b5d7[_0x3be948(0x190)]&&_0x30b5d7[_0x3be948(0x190)][_0x3be948(0x1fc)]>0x0&&_0x30b5d7['blocks'][_0x3be948(0x233)](_0x1560f3=>{const _0x4c3e48=_0x3be948;_0x1560f3[_0x4c3e48(0x55f)]&&_0x1560f3['next_groupId']&&_0x1560f3[_0x4c3e48(0x55f)]===_0x1560f3[_0x4c3e48(0x553)]&&(_0x1560f3[_0x4c3e48(0x553)]=null);});let _0x4acba8=await this[_0x3be948(0xc4)][_0x3be948(0x201)][_0x3be948(0x481)](_0x30b5d7[_0x3be948(0x1be)],_0x30b5d7,_0xc4b81f);if(!_0x4acba8)throw new Error(_0x3be948(0x16f));return _0x4acba8;}catch(_0x45d52a){let _0x56dc31=_0x3be948(0x525),_0x38b7a1=_0x45d52a instanceof Error?_0x45d52a[_0x3be948(0x416)]:typeof _0x45d52a==_0x3be948(0x645)?JSON[_0x3be948(0x2bf)](_0x45d52a):_0x45d52a,_0x1e5b43=_0x56dc31+':\x20'+_0x38b7a1;throw this[_0x3be948(0x438)][_0x3be948(0xfa)](this[_0x3be948(0x5ec)]+'\x20('+this[_0x3be948(0x6ba)][_0x3be948(0x3e5)]+_0x3be948(0x1ef)+_0x1e5b43),new m(_0x1e5b43);}}async['allFlows'](){const _0x4f1bf5=a0_0x96c47;try{this[_0x4f1bf5(0x438)]['verbose'](this[_0x4f1bf5(0x5ec)]+'\x20('+this[_0x4f1bf5(0x6ba)]['wuid']+_0x4f1bf5(0x3e8)),await this[_0x4f1bf5(0xc4)][_0x4f1bf5(0x201)][_0x4f1bf5(0x219)](this[_0x4f1bf5(0x6ba)][_0x4f1bf5(0x3e5)]);let _0x316505=await this['repository'][_0x4f1bf5(0x201)][_0x4f1bf5(0x5af)]({'where':{}},this['instance'][_0x4f1bf5(0x3e5)]),_0x12fba0=await this[_0x4f1bf5(0xc4)][_0x4f1bf5(0x201)][_0x4f1bf5(0x5af)]({'where':{}},'global');return _0x316505[_0x4f1bf5(0xe1)](_0x12fba0);}catch(_0xc6a5bf){return this[_0x4f1bf5(0x438)]['error'](this[_0x4f1bf5(0x5ec)]+'\x20('+this[_0x4f1bf5(0x6ba)][_0x4f1bf5(0x3e5)]+_0x4f1bf5(0x23e)+(_0xc6a5bf instanceof Error?_0xc6a5bf[_0x4f1bf5(0x416)]:JSON['stringify'](_0xc6a5bf,null,0x2))),{'message':_0x4f1bf5(0x396)+_0xc6a5bf[_0x4f1bf5(0x416)]};}}async[a0_0x96c47(0x4da)](_0x480770,_0x9e702b){const _0x27978f=a0_0x96c47;try{this[_0x27978f(0x438)][_0x27978f(0x4b8)](this[_0x27978f(0x5ec)]+'\x20('+this[_0x27978f(0x6ba)][_0x27978f(0x3e5)]+_0x27978f(0xac));let _0x3f12b6=_0x480770?.[_0x27978f(0x68e)]?.[_0x27978f(0x379)]()===_0x27978f(0x731)?'global':this[_0x27978f(0x6ba)]['wuid'],_0x1c3dcf=await this[_0x27978f(0xc4)][_0x27978f(0x201)][_0x27978f(0x732)]({'where':{'name':_0x480770[_0x27978f(0x11a)]}},_0x3f12b6);if(!_0x1c3dcf)return{'message':'Fluxo\x20não\x20encontrado'};if(_0x9e702b!==ee&&_0x1c3dcf?.[_0x27978f(0x68e)]===_0x27978f(0x731)&&_0x1c3dcf?.[_0x27978f(0x220)]!==this['instance'][_0x27978f(0x3e5)])throw new m(_0x27978f(0x5d9));_0x1c3dcf?.[_0x27978f(0x68e)]===_0x27978f(0x5d2)&&(_0x480770={'default':_0x480770[_0x27978f(0x5ef)],'minutesToClose':_0x480770[_0x27978f(0x6c4)],'readMessages':_0x480770['readMessages'],'testingWith':_0x480770[_0x27978f(0x37d)],'startCommandWord':_0x480770['startCommandWord']}),_0x480770[_0x27978f(0x5ef)]===!0x0&&_0x1c3dcf?.[_0x27978f(0x68e)]!==_0x27978f(0x731)&&await this['repository']['flow'][_0x27978f(0x562)]({},{'default':!0x1},_0x3f12b6),delete _0x480770[_0x27978f(0x19b)],delete _0x480770[_0x27978f(0x366)],delete _0x480770[_0x27978f(0x68e)];let _0x227ef3=await this[_0x27978f(0xc4)][_0x27978f(0x201)]['updateOne'](_0x1c3dcf[_0x27978f(0x1be)],_0x480770,_0x3f12b6);return _0x227ef3&&_0x227ef3[_0x27978f(0x19b)]&&_0x227ef3[_0x27978f(0x19b)][_0x27978f(0x1fc)]>0x1&&_0x227ef3['global']!==_0x27978f(0x5d2)&&this['synchronizeFlows'](_0x227ef3[_0x27978f(0x1be)],_0x3f12b6),_0x227ef3;}catch(_0x1ecdaa){let _0x45ade2=_0x27978f(0x57b),_0x478e4e=_0x1ecdaa instanceof Error?_0x1ecdaa[_0x27978f(0x416)]:typeof _0x1ecdaa==_0x27978f(0x645)?JSON['stringify'](_0x1ecdaa):_0x1ecdaa,_0x14951b=_0x45ade2+':\x20'+_0x478e4e;throw this[_0x27978f(0x438)][_0x27978f(0xfa)](this[_0x27978f(0x5ec)]+'\x20('+this[_0x27978f(0x6ba)][_0x27978f(0x3e5)]+_0x27978f(0x1ef)+_0x14951b),new m(_0x14951b);}}async['editFlowBlock'](_0x43b2ad,_0x5c2bd5){const _0x35f715=a0_0x96c47;try{this[_0x35f715(0x438)][_0x35f715(0x4b8)](this[_0x35f715(0x5ec)]+'\x20('+this['instance'][_0x35f715(0x3e5)]+_0x35f715(0x74d));let _0x3604a6=_0x43b2ad?.[_0x35f715(0x68e)]?.['trim']()===_0x35f715(0x731)?_0x35f715(0x68e):this['instance'][_0x35f715(0x3e5)],_0x3ed020=await this[_0x35f715(0xc4)]['flow']['findOne']({'where':{'name':_0x43b2ad['name']}},_0x3604a6);if(_0x3ed020||this[_0x35f715(0x1b6)](_0x35f715(0x476)),_0x3ed020?.[_0x35f715(0x68e)]===_0x35f715(0x5d2))throw new m(_0x35f715(0x317));if(_0x5c2bd5!==ee&&_0x3ed020?.[_0x35f715(0x68e)]===_0x35f715(0x731)&&_0x3ed020?.['owner']!==this['instance'][_0x35f715(0x3e5)])throw new m(_0x35f715(0x5d9));let {block:_0x5c06c4}=_0x43b2ad;_0x5c06c4?.['copy']?this[_0x35f715(0x649)](_0x3ed020,_0x43b2ad):_0x5c06c4?.[_0x35f715(0x494)]?this[_0x35f715(0x26b)](_0x3ed020,_0x43b2ad):_0x5c06c4[_0x35f715(0x1be)]?await this[_0x35f715(0xcf)](_0x3ed020,_0x43b2ad):this[_0x35f715(0x2b2)](_0x3ed020,_0x43b2ad);let _0x2946eb=await this['repository'][_0x35f715(0x201)][_0x35f715(0x481)](_0x3ed020[_0x35f715(0x1be)],_0x3ed020,_0x3604a6);if(_0x2946eb&&_0x2946eb[_0x35f715(0x19b)]&&_0x2946eb['shareOwners']['length']>0x1&&this[_0x35f715(0x601)](_0x2946eb[_0x35f715(0x1be)],this[_0x35f715(0x6ba)][_0x35f715(0x3e5)]),!_0x2946eb)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x2946eb;}catch(_0x8ec141){this[_0x35f715(0x1b6)](_0x35f715(0x324)+_0x8ec141[_0x35f715(0x416)]);}}async[a0_0x96c47(0x649)](_0x36337f,_0x534045){const _0x4e4718=a0_0x96c47;let _0x2e21b6=_0x534045[_0x4e4718(0x3f9)][_0x4e4718(0x1be)],_0x524478=_0x36337f[_0x4e4718(0x190)][_0x4e4718(0xd4)](_0x3dcf45=>_0x3dcf45['_id']['toString']()===_0x2e21b6);if(!_0x524478){this['logger'][_0x4e4718(0xfa)](this['instanceName']+'\x20('+this[_0x4e4718(0x6ba)][_0x4e4718(0x3e5)]+_0x4e4718(0xb6)+_0x2e21b6+_0x4e4718(0x296));return;}this[_0x4e4718(0x438)][_0x4e4718(0x4b8)](this[_0x4e4718(0x5ec)]+'\x20('+this[_0x4e4718(0x6ba)][_0x4e4718(0x3e5)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x4e4718(0x2bf)](_0x524478));let _0x4b7f35=JSON[_0x4e4718(0x3a8)](JSON['stringify'](_0x524478));_0x4b7f35['_id']=new re[(_0x4e4718(0x5ef))][(_0x4e4718(0x3d8))]['ObjectId'](),this[_0x4e4718(0x438)]['verbose'](this[_0x4e4718(0x5ec)]+'\x20('+this[_0x4e4718(0x6ba)][_0x4e4718(0x3e5)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x4e4718(0x2bf)](_0x4b7f35)),_0x36337f[_0x4e4718(0x190)][_0x4e4718(0xc0)](_0x4b7f35),this[_0x4e4718(0x20e)](_0x36337f[_0x4e4718(0x190)],_0x4b7f35[_0x4e4718(0x55f)]);}[a0_0x96c47(0x1b6)](_0x1b0fbf){const _0x23fe9a=a0_0x96c47;throw this[_0x23fe9a(0x438)]['error'](this['instanceName']+'\x20('+this[_0x23fe9a(0x6ba)]['wuid']+_0x23fe9a(0x1ef)+_0x1b0fbf),new m(_0x1b0fbf);}[a0_0x96c47(0x26b)](_0x54c133,_0x4e07ba){const _0x1b8d4f=a0_0x96c47;let {block:_0x309b64}=_0x4e07ba;if(_0x309b64[_0x1b8d4f(0x43e)]===_0x1b8d4f(0x664)){this[_0x1b8d4f(0x1b6)](_0x1b8d4f(0x4a8));return;}if(!_0x309b64[_0x1b8d4f(0x1be)]){this[_0x1b8d4f(0x1b6)](_0x1b8d4f(0x54e));return;}let _0x4f2613=_0x54c133['blocks'][_0x1b8d4f(0xd4)](_0x47eb5a=>_0x47eb5a[_0x1b8d4f(0x1be)][_0x1b8d4f(0x5f2)]()===_0x4e07ba[_0x1b8d4f(0x3f9)][_0x1b8d4f(0x1be)]['toString']());if(!_0x4f2613){this[_0x1b8d4f(0x1b6)](_0x1b8d4f(0x372)+_0x309b64[_0x1b8d4f(0x1be)]+'\x20não\x20encontrado');return;}_0x54c133[_0x1b8d4f(0x190)]=_0x54c133['blocks'][_0x1b8d4f(0x2bc)](_0x1b030a=>_0x1b030a[_0x1b8d4f(0x1be)]['toString']()!==_0x4e07ba[_0x1b8d4f(0x3f9)]['_id']['toString']()),_0x54c133[_0x1b8d4f(0x2ee)]=_0x54c133[_0x1b8d4f(0x2ee)][_0x1b8d4f(0x2bc)](_0x31dc9f=>_0x31dc9f['blockId']!==_0x309b64[_0x1b8d4f(0x1be)][_0x1b8d4f(0x5f2)]()),_0x54c133[_0x1b8d4f(0x1a8)]=_0x54c133['varedits']['filter'](_0x4146f1=>_0x4146f1[_0x1b8d4f(0x477)]!==_0x309b64[_0x1b8d4f(0x1be)][_0x1b8d4f(0x5f2)]()),_0x54c133['replyOptions']=_0x54c133[_0x1b8d4f(0x197)]['filter'](_0x162572=>_0x162572[_0x1b8d4f(0x477)]!==_0x309b64[_0x1b8d4f(0x1be)]['toString']()),this['reorderBlocks'](_0x54c133[_0x1b8d4f(0x190)],_0x4f2613[_0x1b8d4f(0x55f)]);}async[a0_0x96c47(0xcf)](_0x394193,_0x4b135f){const _0x58029d=a0_0x96c47;let _0x391e23=_0x394193[_0x58029d(0x190)][_0x58029d(0x3dd)](_0x60799=>_0x60799[_0x58029d(0x1be)][_0x58029d(0x5f2)]()===_0x4b135f[_0x58029d(0x3f9)][_0x58029d(0x1be)][_0x58029d(0x5f2)]());if(this[_0x58029d(0x438)][_0x58029d(0x4b8)](this[_0x58029d(0x5ec)]+'\x20('+this[_0x58029d(0x6ba)][_0x58029d(0x3e5)]+_0x58029d(0x69d)+_0x391e23),_0x391e23===-0x1){this['logger']['verbose'](_0x58029d(0x372)+_0x4b135f['block'][_0x58029d(0x1be)]+_0x58029d(0x6bb));return;}if(_0x394193['blocks'][_0x391e23][_0x58029d(0x43e)]===_0x58029d(0x664)){let _0x589339=Object[_0x58029d(0x6af)](_0x4b135f[_0x58029d(0x3f9)]);if(_0x589339[_0x58029d(0x1fc)]>0x2||_0x589339[_0x58029d(0x1fc)]===0x2&&!_0x589339[_0x58029d(0x546)](_0x58029d(0x553))){this[_0x58029d(0x1b6)](_0x58029d(0x28a));return;}}let _0x32825c=_0x394193[_0x58029d(0x190)][_0x391e23][_0x58029d(0x55f)];for(let _0x1f15cd in _0x4b135f[_0x58029d(0x3f9)])_0x4b135f['block'][_0x58029d(0x6fb)](_0x1f15cd)&&(_0x394193[_0x58029d(0x190)][_0x391e23][_0x1f15cd]=_0x4b135f[_0x58029d(0x3f9)][_0x1f15cd]);if(this[_0x58029d(0x438)][_0x58029d(0x4b8)](this[_0x58029d(0x5ec)]+'\x20('+this[_0x58029d(0x6ba)][_0x58029d(0x3e5)]+_0x58029d(0x376)+JSON['stringify'](_0x394193[_0x58029d(0x190)][_0x391e23])),_0x394193['blocks'][_0x391e23][_0x58029d(0x467)]&&'header'in _0x394193['blocks'][_0x391e23][_0x58029d(0x467)]){this['logger'][_0x58029d(0x4b8)](this[_0x58029d(0x5ec)]+'\x20('+this[_0x58029d(0x6ba)]['wuid']+_0x58029d(0x287));let _0x2b770a=JSON[_0x58029d(0x2bf)](_0x394193[_0x58029d(0x190)][_0x391e23][_0x58029d(0x467)][_0x58029d(0x1ea)],null,0x1);_0x2b770a[_0x58029d(0x1fc)]>0x2&&(_0x2b770a=_0x2b770a[_0x58029d(0x624)](0x1,_0x2b770a[_0x58029d(0x1fc)]-0x1)[_0x58029d(0x379)]()),_0x394193[_0x58029d(0x190)][_0x391e23][_0x58029d(0x467)][_0x58029d(0xca)]=_0x2b770a;}if(_0x394193[_0x58029d(0x190)][_0x391e23][_0x58029d(0x467)]&&_0x58029d(0x3df)in _0x394193[_0x58029d(0x190)][_0x391e23]['apirequest']&&!(_0x58029d(0x33b)in _0x394193['blocks'][_0x391e23][_0x58029d(0x467)])){this[_0x58029d(0x438)][_0x58029d(0x4b8)](this[_0x58029d(0x5ec)]+'\x20('+this[_0x58029d(0x6ba)][_0x58029d(0x3e5)]+_0x58029d(0x517)),_0x394193[_0x58029d(0x190)][_0x391e23][_0x58029d(0x467)][_0x58029d(0xf8)]=!0x1;let _0x2d6648=JSON[_0x58029d(0x2bf)](_0x394193['blocks'][_0x391e23][_0x58029d(0x467)][_0x58029d(0x3df)],null,0x2);_0x394193[_0x58029d(0x190)][_0x391e23][_0x58029d(0x467)]['bodyString']=_0x2d6648;}if(_0x394193[_0x58029d(0x190)][_0x391e23]['apirequest']&&_0x58029d(0x33b)in _0x394193[_0x58029d(0x190)][_0x391e23][_0x58029d(0x467)]){_0x394193[_0x58029d(0x190)][_0x391e23][_0x58029d(0x467)][_0x58029d(0xf8)]=!0x1;let _0x2a67a0=_0x394193[_0x58029d(0x190)][_0x391e23]['apirequest']['bodyString'],_0x103398=this[_0x58029d(0x608)](_0x2a67a0);_0x394193[_0x58029d(0x190)][_0x391e23][_0x58029d(0x467)][_0x58029d(0x33b)]=_0x103398[_0x58029d(0x363)],_0x394193[_0x58029d(0x190)][_0x391e23][_0x58029d(0x467)][_0x58029d(0xf8)]=_0x103398[_0x58029d(0xfa)];}let _0x15ec0e=_0x394193[_0x58029d(0x190)][_0x391e23][_0x58029d(0x55f)];_0x32825c!==_0x15ec0e?(this['reorderBlocks'](_0x394193['blocks'],_0x32825c),this[_0x58029d(0x20e)](_0x394193[_0x58029d(0x190)],_0x15ec0e)):this['reorderBlocks'](_0x394193[_0x58029d(0x190)],_0x32825c);}['beautifyWithPlaceholders'](_0xed11c8){const _0x26b041=a0_0x96c47;let _0x48dc66='\u205f',_0x1051fd=!0x1,_0xd40bbc='';for(let _0x33cfe3=0x0;_0x33cfe3<_0xed11c8[_0x26b041(0x1fc)];_0x33cfe3++){let _0x1408ca=_0xed11c8[_0x33cfe3];_0x1408ca==='\x22'&&(_0x33cfe3===0x0||_0xed11c8[_0x33cfe3-0x1]!=='\x5c')&&(_0x1051fd=!_0x1051fd),!(!_0x1051fd&&(_0x1408ca==='\x0a'||_0x1408ca==='\x20'||_0x1408ca===_0x48dc66))&&(_0xd40bbc+=_0x1408ca);}let _0x58ea39={},_0x2c1ea0=9876543210.1234,_0x454e76=_0xd40bbc[_0x26b041(0x6e2)](/\{\{([^}]+)\}\}/g,_0x46e868=>{let _0x3a1d03=_0x46e868,_0x1ca425=''+_0x2c1ea0;return _0x58ea39[_0x1ca425]=_0x3a1d03,_0x2c1ea0+=0.0001,_0x1ca425;}),_0x5e555b='',_0x2da38b=!0x1;try{let _0x225ddf=JSON[_0x26b041(0x3a8)](_0x454e76);_0x5e555b=JSON['stringify'](_0x225ddf,null,0x2),_0x5e555b=_0x5e555b[_0x26b041(0x6e2)](/\n( +)/g,(_0x5d1270,_0x2f9c9d)=>{const _0x58aebb=_0x26b041;let _0x20b8ce=_0x2f9c9d[_0x58aebb(0x1fc)];return'\x0a'+_0x48dc66[_0x58aebb(0x2f6)](_0x20b8ce*0x2);}),_0x5e555b=_0x5e555b[_0x26b041(0x6e2)](/(\d{10,}\.\d+)/g,_0x4d28bb=>_0x58ea39[_0x4d28bb]||_0x4d28bb);}catch(_0x4c824d){console['error']('Error\x20parsing\x20JSON:',_0x4c824d),_0x5e555b=_0xed11c8,_0x2da38b=!0x0;}return{'result':_0x5e555b,'error':_0x2da38b};}[a0_0x96c47(0x2b2)](_0x539655,_0x1e7e2d){const _0x3f1831=a0_0x96c47;if(_0x1e7e2d[_0x3f1831(0x3f9)]['type']===_0x3f1831(0x664)){this[_0x3f1831(0x1b6)](_0x3f1831(0x425));return;}if(_0x1e7e2d['block']['apirequest']&&_0x3f1831(0x1ea)in _0x1e7e2d['block'][_0x3f1831(0x467)]){this[_0x3f1831(0x438)]['verbose'](this['instanceName']+'\x20('+this[_0x3f1831(0x6ba)][_0x3f1831(0x3e5)]+_0x3f1831(0x287));let _0x28708a=JSON[_0x3f1831(0x2bf)](_0x1e7e2d[_0x3f1831(0x3f9)][_0x3f1831(0x467)][_0x3f1831(0x1ea)],null,0x1);_0x28708a[_0x3f1831(0x1fc)]>0x2&&(_0x28708a=_0x28708a[_0x3f1831(0x624)](0x1,_0x28708a[_0x3f1831(0x1fc)]-0x1)['trim']()),_0x1e7e2d[_0x3f1831(0x3f9)]['apirequest'][_0x3f1831(0xca)]=_0x28708a;}_0x1e7e2d[_0x3f1831(0x3f9)][_0x3f1831(0x467)]&&'body'in _0x1e7e2d[_0x3f1831(0x3f9)][_0x3f1831(0x467)]&&(this['logger'][_0x3f1831(0x4b8)](this[_0x3f1831(0x5ec)]+'\x20('+this[_0x3f1831(0x6ba)]['wuid']+_0x3f1831(0x517)),_0x1e7e2d[_0x3f1831(0x3f9)][_0x3f1831(0x467)][_0x3f1831(0x33b)]=JSON[_0x3f1831(0x2bf)](_0x1e7e2d[_0x3f1831(0x3f9)][_0x3f1831(0x467)][_0x3f1831(0x3df)],null,0x1)['trim']()),_0x539655[_0x3f1831(0x190)][_0x3f1831(0xc0)](_0x1e7e2d[_0x3f1831(0x3f9)]),this['reorderBlocks'](_0x539655[_0x3f1831(0x190)],_0x1e7e2d[_0x3f1831(0x3f9)][_0x3f1831(0x55f)]);}[a0_0x96c47(0x20e)](_0x60c95d,_0x2ad28e){const _0x4ac901=a0_0x96c47;let _0x3806f9=_0x60c95d[_0x4ac901(0x2bc)](_0x245b9b=>_0x245b9b[_0x4ac901(0x55f)]===_0x2ad28e);_0x3806f9['sort']((_0x525977,_0x14b164)=>_0x525977[_0x4ac901(0x70b)]-_0x14b164[_0x4ac901(0x70b)]),_0x3806f9['forEach']((_0x258056,_0x239d92)=>_0x258056[_0x4ac901(0x70b)]=_0x239d92+0x1);}async[a0_0x96c47(0x235)](_0x36d8fe,_0x7a13f0){const _0x191a4b=a0_0x96c47;try{this[_0x191a4b(0x438)][_0x191a4b(0x4b8)](this['instanceName']+'\x20('+this[_0x191a4b(0x6ba)][_0x191a4b(0x3e5)]+'):\x20Editando\x20replyOption...');let _0x28fce0=_0x36d8fe?.[_0x191a4b(0x68e)][_0x191a4b(0x379)]()===_0x191a4b(0x731)?_0x191a4b(0x68e):this[_0x191a4b(0x6ba)][_0x191a4b(0x3e5)];if(!_0x36d8fe||!_0x36d8fe[_0x191a4b(0x5e6)]){this[_0x191a4b(0x1b6)]('Data\x20inválida\x20fornecida');return;}let _0x3de662=await this[_0x191a4b(0xc4)][_0x191a4b(0x201)]['findOne']({'where':{'name':_0x36d8fe[_0x191a4b(0x11a)]}},_0x28fce0);if(_0x3de662||this[_0x191a4b(0x1b6)]('Flow\x20não\x20encontrado'),_0x3de662?.[_0x191a4b(0x68e)]===_0x191a4b(0x5d2))throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x7a13f0!==ee&&_0x3de662?.[_0x191a4b(0x68e)]==='true'&&_0x3de662?.[_0x191a4b(0x220)]!==this[_0x191a4b(0x6ba)]['wuid'])throw new m(_0x191a4b(0x5d9));let {replyOption:_0x5e8177}=_0x36d8fe;_0x5e8177?.[_0x191a4b(0x494)]?(this[_0x191a4b(0x2cc)](_0x3de662,_0x36d8fe),this[_0x191a4b(0x239)](_0x3de662[_0x191a4b(0x197)],_0x36d8fe['replyOption'][_0x191a4b(0x477)])):_0x5e8177[_0x191a4b(0x1be)]?(await this[_0x191a4b(0x66a)](_0x3de662,_0x36d8fe),this[_0x191a4b(0x239)](_0x3de662[_0x191a4b(0x197)],_0x36d8fe[_0x191a4b(0x5e6)]['blockId'])):(this[_0x191a4b(0x688)](_0x3de662,_0x36d8fe),this[_0x191a4b(0x239)](_0x3de662[_0x191a4b(0x197)],_0x36d8fe[_0x191a4b(0x5e6)][_0x191a4b(0x477)]));let _0x484e52=await this['repository']['flow'][_0x191a4b(0x481)](_0x3de662[_0x191a4b(0x1be)],_0x3de662,_0x28fce0);if(_0x484e52&&_0x484e52[_0x191a4b(0x19b)]&&_0x484e52[_0x191a4b(0x19b)]['length']>0x1&&_0x484e52[_0x191a4b(0x68e)]!==_0x191a4b(0x5d2)&&this[_0x191a4b(0x601)](_0x484e52[_0x191a4b(0x1be)],_0x28fce0),!_0x484e52)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x484e52;}catch(_0x5799a2){this[_0x191a4b(0x1b6)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x5799a2);}}['reorderReplyOptions'](_0x54a992,_0x537160){const _0x4c088a=a0_0x96c47;_0x54a992[_0x4c088a(0x233)](_0x180659=>{const _0x519f66=_0x4c088a;_0x180659['blockId']===_0x537160&&_0x180659[_0x519f66(0x70b)]===void 0x0&&(_0x180659[_0x519f66(0x70b)]=0x270f);});let _0x12a435=_0x54a992['filter'](_0x1974ed=>_0x1974ed[_0x4c088a(0x477)]===_0x537160);_0x12a435[_0x4c088a(0x2f9)]((_0x447475,_0x195d4a)=>_0x447475[_0x4c088a(0x70b)]-_0x195d4a[_0x4c088a(0x70b)]),_0x12a435[_0x4c088a(0x233)]((_0x16febd,_0x5ae738)=>{_0x16febd['order']=_0x5ae738+0x1;}),_0x54a992[_0x4c088a(0x233)](_0x115a7a=>{const _0x286a6b=_0x4c088a;if(_0x115a7a['blockId']===_0x537160){let _0x48c0bd=_0x12a435[_0x286a6b(0xd4)](_0x4f5ca0=>_0x4f5ca0[_0x286a6b(0x1be)]&&_0x115a7a['_id']&&_0x4f5ca0[_0x286a6b(0x1be)]['toString']()===_0x115a7a[_0x286a6b(0x1be)][_0x286a6b(0x5f2)]());_0x48c0bd&&(_0x115a7a['order']=_0x48c0bd[_0x286a6b(0x70b)]);}});}['deleteReplyOption'](_0x2bba23,_0xb21ba8){const _0x341608=a0_0x96c47;let {replyOption:_0x4ca6f8}=_0xb21ba8;if(!_0x4ca6f8[_0x341608(0x1be)]){this[_0x341608(0x1b6)](_0x341608(0x582));return;}if(!_0x2bba23[_0x341608(0x197)][_0x341608(0xd4)](_0x7de7a7=>_0x7de7a7['_id'][_0x341608(0x5f2)]()===_0xb21ba8[_0x341608(0x5e6)][_0x341608(0x1be)][_0x341608(0x5f2)]())){this[_0x341608(0x1b6)](_0x341608(0x62a)+_0x4ca6f8[_0x341608(0x1be)]+_0x341608(0x6ca));return;}_0x2bba23[_0x341608(0x197)]=_0x2bba23[_0x341608(0x197)][_0x341608(0x2bc)](_0x6536b6=>_0x6536b6[_0x341608(0x1be)][_0x341608(0x5f2)]()!==_0xb21ba8['replyOption'][_0x341608(0x1be)]['toString']());}async[a0_0x96c47(0x66a)](_0x58647e,_0x27d7de){const _0x426de7=a0_0x96c47;let _0x4f3928=_0x58647e[_0x426de7(0x197)]['findIndex'](_0x1bef56=>_0x1bef56['_id'][_0x426de7(0x5f2)]()===_0x27d7de[_0x426de7(0x5e6)][_0x426de7(0x1be)][_0x426de7(0x5f2)]());if(_0x4f3928===-0x1){this['throwAndLogError'](_0x426de7(0x62a)+_0x27d7de[_0x426de7(0x5e6)][_0x426de7(0x1be)]+'\x20não\x20encontrado\x20para\x20atualização.');return;}for(let _0x4f7c27 in _0x27d7de[_0x426de7(0x5e6)])_0x27d7de[_0x426de7(0x5e6)][_0x426de7(0x6fb)](_0x4f7c27)&&(_0x58647e[_0x426de7(0x197)][_0x4f3928][_0x4f7c27]=_0x27d7de[_0x426de7(0x5e6)][_0x4f7c27]);}[a0_0x96c47(0x688)](_0x2a8490,_0x1662e2){const _0x4e048f=a0_0x96c47;_0x2a8490[_0x4e048f(0x197)]['push'](_0x1662e2[_0x4e048f(0x5e6)]);}async['editFlowGroup'](_0x18cc22,_0x3eab56){const _0x285f90=a0_0x96c47;let _0x4be723=_0x18cc22?.[_0x285f90(0x68e)][_0x285f90(0x379)]()===_0x285f90(0x731)?_0x285f90(0x68e):this['instance'][_0x285f90(0x3e5)];this[_0x285f90(0x438)][_0x285f90(0x4b8)](this['instanceName']+'\x20('+this[_0x285f90(0x6ba)][_0x285f90(0x3e5)]+_0x285f90(0x4f1)+_0x4be723+',\x20apikey:\x20'+_0x3eab56+_0x285f90(0x34c)+JSON[_0x285f90(0x2bf)](_0x18cc22,null,0x2));try{this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x285f90(0x3e5)]+'):\x20Editando\x20grupo\x20do\x20fluxo...');let _0x519514=await this[_0x285f90(0xc4)][_0x285f90(0x201)][_0x285f90(0x732)]({'where':{'name':_0x18cc22['name']}},_0x4be723);if(!_0x519514)throw this[_0x285f90(0x438)][_0x285f90(0x4b8)](this['instanceName']+'\x20('+this[_0x285f90(0x6ba)][_0x285f90(0x3e5)]+'):\x20Flow\x20não\x20encontrado'),new Error('Flow\x20não\x20encontrado');if(_0x519514?.['global']===_0x285f90(0x5d2))throw this[_0x285f90(0x438)][_0x285f90(0x4b8)](this[_0x285f90(0x5ec)]+'\x20('+this[_0x285f90(0x6ba)]['wuid']+_0x285f90(0x2db)),new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20global\x20sync\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x3eab56!==ee&&_0x519514?.[_0x285f90(0x68e)]===_0x285f90(0x731)&&_0x519514?.['owner']!==this[_0x285f90(0x6ba)][_0x285f90(0x3e5)])throw this[_0x285f90(0x438)][_0x285f90(0x4b8)](this[_0x285f90(0x5ec)]+'\x20('+this[_0x285f90(0x6ba)][_0x285f90(0x3e5)]+'):\x20Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.'),new m(_0x285f90(0x5d9));if(_0x18cc22[_0x285f90(0x43f)]&&_0x18cc22[_0x285f90(0x43f)]?.[_0x285f90(0x494)]===!0x0){if(this[_0x285f90(0x438)][_0x285f90(0x4b8)](this[_0x285f90(0x5ec)]+'\x20('+this[_0x285f90(0x6ba)][_0x285f90(0x3e5)]+_0x285f90(0x42a)),_0x18cc22[_0x285f90(0x43f)][_0x285f90(0x5ef)]===!0x0)return{'message':_0x285f90(0x659)};if(_0x519514[_0x285f90(0x190)][_0x285f90(0x9b)](_0xcf23c5=>_0xcf23c5['groupId'][_0x285f90(0x5f2)]()===_0x18cc22[_0x285f90(0x43f)]['_id']))return this['logger'][_0x285f90(0x4b8)](this['instanceName']+'\x20('+this['instance'][_0x285f90(0x3e5)]+_0x285f90(0xcb)),{'message':_0x285f90(0x212)};_0x519514[_0x285f90(0x1c2)]=_0x519514[_0x285f90(0x1c2)][_0x285f90(0x2bc)](_0x3dce45=>_0x3dce45[_0x285f90(0x1be)]['toString']()!==_0x18cc22[_0x285f90(0x43f)][_0x285f90(0x1be)]);}else{if(_0x18cc22[_0x285f90(0x43f)]){if(_0x18cc22[_0x285f90(0x43f)][_0x285f90(0x5ef)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x18cc22[_0x285f90(0x43f)][_0x285f90(0x1be)]){let _0x4d31ea=_0x519514[_0x285f90(0x1c2)]['find'](_0x34dfcb=>_0x34dfcb[_0x285f90(0x1be)][_0x285f90(0x5f2)]()===_0x18cc22['group'][_0x285f90(0x1be)]);_0x4d31ea&&(_0x18cc22[_0x285f90(0x43f)]['x']<0x0&&(_0x18cc22['group']['x']=0x0),_0x18cc22[_0x285f90(0x43f)]['y']<0x0&&(_0x18cc22[_0x285f90(0x43f)]['y']=0x0),Object[_0x285f90(0x480)](_0x4d31ea,_0x18cc22[_0x285f90(0x43f)]));}else _0x519514['groups'][_0x285f90(0xc0)](_0x18cc22[_0x285f90(0x43f)]);}}let _0x4f1648=await this[_0x285f90(0xc4)][_0x285f90(0x201)][_0x285f90(0x481)](_0x519514[_0x285f90(0x1be)],_0x519514,_0x4be723);if(_0x4f1648&&_0x4f1648[_0x285f90(0x19b)]&&_0x4f1648[_0x285f90(0x19b)][_0x285f90(0x1fc)]>0x1&&_0x4f1648['global']!=='sync'&&this['synchronizeFlows'](_0x4f1648[_0x285f90(0x1be)],_0x4be723),!_0x4f1648)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x4f1648;}catch(_0x515ecd){let _0x5b29c5=_0x285f90(0x63d),_0x24361c=_0x515ecd instanceof Error?_0x515ecd[_0x285f90(0x416)]:typeof _0x515ecd=='object'?JSON[_0x285f90(0x2bf)](_0x515ecd):_0x515ecd,_0x11fa9c=_0x5b29c5+':\x20'+_0x24361c;throw this[_0x285f90(0x438)][_0x285f90(0xfa)](this['instanceName']+'\x20('+this[_0x285f90(0x6ba)][_0x285f90(0x3e5)]+'):\x20'+_0x11fa9c),new m(_0x11fa9c);}}async[a0_0x96c47(0x6f9)](_0x288f38,_0x469214){const _0x1faa10=a0_0x96c47;try{this['logger'][_0x1faa10(0x4b8)](this['instanceName']+'\x20('+this[_0x1faa10(0x6ba)]['wuid']+_0x1faa10(0x32b));let _0x4c381b=_0x288f38?.[_0x1faa10(0x68e)][_0x1faa10(0x379)]()===_0x1faa10(0x731)?_0x1faa10(0x68e):this[_0x1faa10(0x6ba)][_0x1faa10(0x3e5)],_0x1bd264=await this['repository'][_0x1faa10(0x201)]['findOne']({'where':{'name':_0x288f38[_0x1faa10(0x11a)]}},_0x4c381b);if(!_0x1bd264)throw new Error(_0x1faa10(0x476));if(_0x1bd264?.[_0x1faa10(0x68e)]==='sync')throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x469214!==ee&&_0x1bd264?.['global']===_0x1faa10(0x731)&&_0x1bd264?.[_0x1faa10(0x220)]!==this['instance'][_0x1faa10(0x3e5)])throw new m(_0x1faa10(0x5d9));let _0x17511e=!0x1;if(_0x288f38[_0x1faa10(0x713)]?.['delete']===!0x0)_0x1bd264['conditions']=_0x1bd264[_0x1faa10(0x2ee)][_0x1faa10(0x2bc)](_0x82315d=>_0x82315d&&_0x288f38['condition']&&_0x82315d[_0x1faa10(0x1be)]&&_0x288f38[_0x1faa10(0x713)][_0x1faa10(0x1be)]&&_0x82315d['_id'][_0x1faa10(0x5f2)]()!==_0x288f38[_0x1faa10(0x713)]['_id'][_0x1faa10(0x5f2)]()),_0x17511e=!0x0;else{let _0x2c365b=_0x1bd264['conditions']['find'](_0x1b27ff=>_0x1b27ff&&_0x288f38[_0x1faa10(0x713)]&&_0x1b27ff[_0x1faa10(0x1be)]&&_0x288f38[_0x1faa10(0x713)][_0x1faa10(0x1be)]&&_0x1b27ff[_0x1faa10(0x1be)][_0x1faa10(0x5f2)]()===_0x288f38['condition'][_0x1faa10(0x1be)][_0x1faa10(0x5f2)]());_0x2c365b?(_0x17511e=_0x2c365b[_0x1faa10(0x70b)]!==_0x288f38[_0x1faa10(0x713)][_0x1faa10(0x70b)],Object['assign'](_0x2c365b,_0x288f38[_0x1faa10(0x713)])):(_0x1bd264[_0x1faa10(0x2ee)][_0x1faa10(0xc0)](_0x288f38[_0x1faa10(0x713)]),_0x17511e=!0x0);}if(_0x17511e){_0x1bd264[_0x1faa10(0x2ee)][_0x1faa10(0x2f9)]((_0x46eb16,_0x1bfdca)=>_0x46eb16[_0x1faa10(0x70b)]>_0x1bfdca[_0x1faa10(0x70b)]?0x1:_0x1bfdca[_0x1faa10(0x70b)]>_0x46eb16[_0x1faa10(0x70b)]?-0x1:0x0);for(let _0x1ec6b0=0x0;_0x1ec6b0<_0x1bd264[_0x1faa10(0x2ee)][_0x1faa10(0x1fc)];_0x1ec6b0++)_0x1bd264[_0x1faa10(0x2ee)][_0x1ec6b0][_0x1faa10(0x70b)]=_0x1ec6b0+0x1;_0x1bd264[_0x1faa10(0x2ee)]['length']>0x0&&(_0x1bd264[_0x1faa10(0x2ee)][0x0][_0x1faa10(0x2d2)]=_0x1faa10(0x1c5));}let _0x366295=await this['repository'][_0x1faa10(0x201)][_0x1faa10(0x481)](_0x1bd264[_0x1faa10(0x1be)],_0x1bd264,_0x4c381b);if(_0x366295&&_0x366295[_0x1faa10(0x19b)]&&_0x366295['shareOwners']['length']>0x1&&_0x366295['global']!==_0x1faa10(0x5d2)&&this['synchronizeFlows'](_0x366295[_0x1faa10(0x1be)],_0x4c381b),!_0x366295)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x366295;}catch(_0x301c09){let _0x4b48a0=_0x1faa10(0x33c),_0x40d030=_0x301c09 instanceof Error?_0x301c09[_0x1faa10(0x416)]:typeof _0x301c09=='object'?JSON[_0x1faa10(0x2bf)](_0x301c09):_0x301c09,_0x1fa343=_0x4b48a0+':\x20'+_0x40d030;throw this[_0x1faa10(0x438)][_0x1faa10(0xfa)](this['instanceName']+'\x20('+this[_0x1faa10(0x6ba)][_0x1faa10(0x3e5)]+_0x1faa10(0x1ef)+_0x1fa343),new m(_0x1fa343);}}async[a0_0x96c47(0x20a)](_0x492573,_0x975fd){const _0x9ba502=a0_0x96c47;try{this[_0x9ba502(0x438)][_0x9ba502(0x4b8)](this[_0x9ba502(0x5ec)]+'\x20('+this[_0x9ba502(0x6ba)][_0x9ba502(0x3e5)]+_0x9ba502(0x3fe));let _0x338834=_0x492573?.[_0x9ba502(0x68e)]['trim']()==='true'?'global':this[_0x9ba502(0x6ba)][_0x9ba502(0x3e5)],_0x45e26c=await this[_0x9ba502(0xc4)][_0x9ba502(0x201)][_0x9ba502(0x732)]({'where':{'name':_0x492573[_0x9ba502(0x11a)]}},_0x338834);if(!_0x45e26c)throw new Error('Flow\x20não\x20encontrado');if(_0x45e26c?.['global']===_0x9ba502(0x5d2))throw new m('A\x20edição\x20de\x20fluxos\x20configurados\x20com\x20\x22global\x22:\x20\x22sync\x22\x20é\x20restrita\x20para\x20manter\x20a\x20sincronia\x20com\x20o\x20fluxo\x20global\x20original.\x20Se\x20deseja\x20fazer\x20alterações,\x20considere\x20editar\x20diretamente\x20o\x20fluxo\x20global\x20associado,\x20ou\x20opte\x20por\x20criar\x20uma\x20cópia\x20do\x20fluxo,\x20permitindo\x20assim\x20personalizações\x20sem\x20afetar\x20a\x20versão\x20sincronizada.');if(_0x975fd!==ee&&_0x45e26c?.['global']==='true'&&_0x45e26c?.[_0x9ba502(0x220)]!==this['instance']['wuid'])throw new m('Este\x20fluxo\x20está\x20marcado\x20como\x20global\x20e,\x20por\x20isso,\x20só\x20pode\x20ser\x20editado\x20pelo\x20seu\x20criador\x20ou\x20através\x20do\x20uso\x20da\x20API\x20key\x20global.');let _0x5a615e=!0x1;if(_0x492573[_0x9ba502(0x440)]?.[_0x9ba502(0x494)]===!0x0)_0x45e26c[_0x9ba502(0x1a8)]=_0x45e26c[_0x9ba502(0x1a8)]['filter'](_0x5d83fe=>_0x5d83fe&&_0x492573[_0x9ba502(0x440)]&&_0x5d83fe[_0x9ba502(0x1be)]&&_0x492573['varedit']['_id']&&_0x5d83fe[_0x9ba502(0x1be)]['toString']()!==_0x492573['varedit']['_id'][_0x9ba502(0x5f2)]()),_0x5a615e=!0x0;else{let _0xff4815=_0x45e26c[_0x9ba502(0x1a8)][_0x9ba502(0xd4)](_0x24660b=>_0x24660b&&_0x492573[_0x9ba502(0x440)]&&_0x24660b['_id']&&_0x492573[_0x9ba502(0x440)][_0x9ba502(0x1be)]&&_0x24660b[_0x9ba502(0x1be)][_0x9ba502(0x5f2)]()===_0x492573[_0x9ba502(0x440)][_0x9ba502(0x1be)]['toString']());_0xff4815?(_0x5a615e=_0xff4815[_0x9ba502(0x70b)]!==_0x492573[_0x9ba502(0x440)][_0x9ba502(0x70b)],Object[_0x9ba502(0x480)](_0xff4815,_0x492573[_0x9ba502(0x440)])):(_0x45e26c[_0x9ba502(0x1a8)]['push'](_0x492573['varedit']),_0x5a615e=!0x0);}if(_0x5a615e){_0x45e26c['varedits'][_0x9ba502(0x2f9)]((_0x5df1f2,_0x2b5196)=>_0x5df1f2['order']>_0x2b5196[_0x9ba502(0x70b)]?0x1:_0x2b5196[_0x9ba502(0x70b)]>_0x5df1f2[_0x9ba502(0x70b)]?-0x1:0x0);for(let _0x38be79=0x0;_0x38be79<_0x45e26c[_0x9ba502(0x1a8)][_0x9ba502(0x1fc)];_0x38be79++)_0x45e26c[_0x9ba502(0x1a8)][_0x38be79][_0x9ba502(0x70b)]=_0x38be79+0x1;}let _0x41d7f2=await this[_0x9ba502(0xc4)][_0x9ba502(0x201)][_0x9ba502(0x481)](_0x45e26c['_id'],_0x45e26c,_0x338834);if(_0x41d7f2&&_0x41d7f2[_0x9ba502(0x19b)]&&_0x41d7f2[_0x9ba502(0x19b)][_0x9ba502(0x1fc)]>0x1&&_0x41d7f2['global']!==_0x9ba502(0x5d2)&&this[_0x9ba502(0x601)](_0x41d7f2['_id'],_0x338834),!_0x41d7f2)throw new Error(_0x9ba502(0x16f));return _0x41d7f2;}catch(_0x486df0){let _0x37ce8f='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x1c7da0=_0x486df0 instanceof Error?_0x486df0[_0x9ba502(0x416)]:typeof _0x486df0==_0x9ba502(0x645)?JSON[_0x9ba502(0x2bf)](_0x486df0):_0x486df0,_0x7c036d=_0x37ce8f+':\x20'+_0x1c7da0;throw this[_0x9ba502(0x438)]['error'](this[_0x9ba502(0x5ec)]+'\x20('+this[_0x9ba502(0x6ba)][_0x9ba502(0x3e5)]+_0x9ba502(0x1ef)+_0x7c036d),new m(_0x7c036d);}}async['editFlowVariable'](_0x140023,_0x3487e5){const _0x81c48f=a0_0x96c47;try{this[_0x81c48f(0x438)][_0x81c48f(0x4b8)](this[_0x81c48f(0x5ec)]+'\x20('+this[_0x81c48f(0x6ba)][_0x81c48f(0x3e5)]+_0x81c48f(0x9f));let _0x24f153=_0x140023?.[_0x81c48f(0x68e)][_0x81c48f(0x379)]()===_0x81c48f(0x731)?_0x81c48f(0x68e):this['instance'][_0x81c48f(0x3e5)],_0x544442=await this['repository'][_0x81c48f(0x201)][_0x81c48f(0x732)]({'where':{'name':_0x140023[_0x81c48f(0x11a)]}},_0x24f153);if(!_0x544442)throw new Error(_0x81c48f(0x476));if(_0x544442?.[_0x81c48f(0x68e)]==='sync')throw new m(_0x81c48f(0x317));if(_0x3487e5!==ee&&_0x544442?.['global']===_0x81c48f(0x731)&&_0x544442?.['owner']!==this[_0x81c48f(0x6ba)][_0x81c48f(0x3e5)])throw new m(_0x81c48f(0x5d9));if(_0x3487e5!==ee&&_0x544442?.[_0x81c48f(0x68e)]===_0x81c48f(0x731)&&_0x544442?.[_0x81c48f(0x220)]!==this[_0x81c48f(0x6ba)][_0x81c48f(0x3e5)])throw new m(_0x81c48f(0x5d9));_0x140023[_0x81c48f(0x1d6)][_0x81c48f(0x11a)]=_0x140023['variable']['name']['trim'](),_0x140023[_0x81c48f(0x1d6)][_0x81c48f(0x11a)]['startsWith']('_')&&(_0x140023[_0x81c48f(0x1d6)][_0x81c48f(0x11a)]=_0x140023[_0x81c48f(0x1d6)][_0x81c48f(0x11a)][_0x81c48f(0x624)](0x1)),_0x140023[_0x81c48f(0x1d6)][_0x81c48f(0x11a)]=_0x140023['variable']['name']['trim']();let _0x5b2bc5=_0x544442['variables'][_0x81c48f(0xd4)](_0x48a9b3=>_0x48a9b3[_0x81c48f(0x11a)]===_0x140023[_0x81c48f(0x1d6)]['name']);if(_0x5b2bc5?.[_0x81c48f(0x412)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x140023[_0x81c48f(0x1d6)]?.['delete']===!0x0){if(!_0x5b2bc5)return{'message':_0x81c48f(0x2b6)};_0x544442[_0x81c48f(0x544)]=_0x544442[_0x81c48f(0x544)]['filter'](_0x20f1fd=>_0x20f1fd[_0x81c48f(0x11a)]!==_0x140023['variable'][_0x81c48f(0x11a)]);}else _0x5b2bc5?Object[_0x81c48f(0x480)](_0x5b2bc5,_0x140023[_0x81c48f(0x1d6)]):_0x544442['variables'][_0x81c48f(0xc0)](_0x140023['variable']);let _0x593662=await this[_0x81c48f(0xc4)][_0x81c48f(0x201)][_0x81c48f(0x481)](_0x544442[_0x81c48f(0x1be)],_0x544442,_0x24f153);if(_0x593662&&_0x593662[_0x81c48f(0x19b)]&&_0x593662[_0x81c48f(0x19b)]['length']>0x1&&_0x593662[_0x81c48f(0x68e)]!==_0x81c48f(0x5d2)&&this[_0x81c48f(0x601)](_0x593662['_id'],_0x24f153),!_0x593662)throw new Error(_0x81c48f(0x16f));return _0x593662;}catch(_0x1182c4){let _0x135df6='Erro\x20ao\x20editar\x20variável\x20do\x20fluxo',_0x426c1c=_0x1182c4 instanceof Error?_0x1182c4['message']:typeof _0x1182c4==_0x81c48f(0x645)?JSON[_0x81c48f(0x2bf)](_0x1182c4):_0x1182c4,_0x165b85=_0x135df6+':\x20'+_0x426c1c;throw this[_0x81c48f(0x438)][_0x81c48f(0xfa)](this[_0x81c48f(0x5ec)]+'\x20('+this[_0x81c48f(0x6ba)]['wuid']+_0x81c48f(0x1ef)+_0x165b85),new m(_0x165b85);}}async['startFlow'](_0x1ec2d6){const _0x4bfd0a=a0_0x96c47;let _0x3985cb=null;try{if(!this[_0x4bfd0a(0x4d2)]?.['flowConfig'][_0x4bfd0a(0x403)])throw new m('Fluxos\x20não\x20estão\x20ativados');this[_0x4bfd0a(0x438)][_0x4bfd0a(0x4b8)](this[_0x4bfd0a(0x5ec)]+'\x20('+this[_0x4bfd0a(0x6ba)][_0x4bfd0a(0x3e5)]+'):\x20Iniciando\x20bot...');let _0x2b34ca=(await this[_0x4bfd0a(0x597)]({'numbers':[_0x1ec2d6['remoteJid']]}))[0x0];if(!_0x2b34ca[_0x4bfd0a(0x4dc)]&&!(0x0,f[_0x4bfd0a(0x445)])(_0x2b34ca[_0x4bfd0a(0x16c)])&&!_0x2b34ca['jid']['includes'](_0x4bfd0a(0x2d7)))throw _0x3985cb=JSON[_0x4bfd0a(0x2bf)](_0x2b34ca,null,0x2),new m(_0x2b34ca);let _0x1cd21d=await this[_0x4bfd0a(0xc4)][_0x4bfd0a(0x201)]['findOne']({'where':{'name':_0x1ec2d6[_0x4bfd0a(0x11a)]}},this[_0x4bfd0a(0x6ba)]['wuid']);if(!_0x1cd21d)return this['logger']['error'](this[_0x4bfd0a(0x5ec)]+'\x20('+this['instance'][_0x4bfd0a(0x3e5)]+_0x4bfd0a(0x58e)),{'message':_0x4bfd0a(0x476)};let _0x446d92=await this[_0x4bfd0a(0x2a0)](_0x1cd21d,_0x2b34ca[_0x4bfd0a(0x16c)],_0x1ec2d6['changeVariables']);if(_0x446d92){this[_0x4bfd0a(0x438)][_0x4bfd0a(0x4b8)](this[_0x4bfd0a(0x5ec)]+'\x20('+this['instance'][_0x4bfd0a(0x3e5)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x57c1ec=await this[_0x4bfd0a(0x503)](_0x446d92);return _0x57c1ec&&await this['processblock'](_0x446d92,_0x57c1ec),{'message':_0x4bfd0a(0xee)+_0x1ec2d6[_0x4bfd0a(0x101)]};}}catch(_0x2cb0a3){if(this[_0x4bfd0a(0x438)][_0x4bfd0a(0xfa)](this['instanceName']+'\x20('+this[_0x4bfd0a(0x6ba)][_0x4bfd0a(0x3e5)]+_0x4bfd0a(0x404)+(_0x2cb0a3 instanceof Error?_0x2cb0a3[_0x4bfd0a(0x416)]:JSON[_0x4bfd0a(0x2bf)](_0x2cb0a3,null,0x2))),_0x3985cb=_0x2cb0a3 instanceof Error?_0x2cb0a3[_0x4bfd0a(0x416)]:JSON[_0x4bfd0a(0x2bf)](_0x2cb0a3,null,0x2),_0x3985cb)throw new m(_0x4bfd0a(0x24d)+_0x3985cb);}}async[a0_0x96c47(0x58f)](_0x233b1d){const _0x355c49=a0_0x96c47;try{let _0x286a76={'remoteJid':_0x233b1d,'status':'open'},_0x5bfd03={'status':_0x355c49(0x6b6)},_0x31beb7=await this[_0x355c49(0xc4)][_0x355c49(0x434)][_0x355c49(0x562)](_0x286a76,_0x5bfd03,this[_0x355c49(0x6ba)][_0x355c49(0x3e5)]);return this[_0x355c49(0x438)]['verbose'](this[_0x355c49(0x5ec)]+'\x20('+this[_0x355c49(0x6ba)][_0x355c49(0x3e5)]+_0x355c49(0x5b7)),_0x31beb7;}catch(_0x11ab49){throw this['logger'][_0x355c49(0xfa)](this[_0x355c49(0x5ec)]+'\x20('+this['instance'][_0x355c49(0x3e5)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x11ab49[_0x355c49(0x416)]),_0x11ab49;}}async[a0_0x96c47(0x2a0)](_0x56844c,_0xbd6c41,_0xd7240f){const _0x2e52fe=a0_0x96c47;this[_0x2e52fe(0x438)][_0x2e52fe(0x4b8)](this[_0x2e52fe(0x5ec)]+'\x20('+this[_0x2e52fe(0x6ba)][_0x2e52fe(0x3e5)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this[_0x2e52fe(0x58f)](_0xbd6c41);try{let _0x2bd8be=require(_0x2e52fe(0x3ee))['ObjectId'],_0x346ae9=Date['now'](),_0x374a06=_0x2e52fe(0x664),_0x5f4c5e={},_0x47f412={},_0x5f51e5={..._0x56844c,'chatLog':null},_0x3e4d73=await this[_0x2e52fe(0x25d)](_0x5f51e5['variables']),_0x3e8751=await this['getVariablesChat'](_0xbd6c41),_0x46ceba={..._0x3e4d73,..._0x3e8751,'_remoteJid':_0xbd6c41},_0x54332f={'lastReceivedMessage':_0x5f4c5e,'lastSendMessage':_0x47f412,'lastBlockId':_0x374a06,'lastCondition':!0x0,'realVariables':_0x46ceba};_0x5f51e5[_0x2e52fe(0x97)]=_0x54332f,_0x5f51e5['chatLog'][_0x2e52fe(0x4eb)]={..._0x46ceba,..._0xd7240f},delete _0x5f51e5['_id'],_0x5f51e5[_0x2e52fe(0x1be)]=new _0x2bd8be(),_0x5f51e5[_0x2e52fe(0x15e)]=_0x346ae9,_0x5f51e5[_0x2e52fe(0x275)]=_0x2e52fe(0x14f),_0x5f51e5[_0x2e52fe(0x101)]=_0xbd6c41;let _0x3c744=await this[_0x2e52fe(0xc4)][_0x2e52fe(0x434)]['updateOne'](_0x5f51e5[_0x2e52fe(0x1be)],_0x5f51e5,this[_0x2e52fe(0x6ba)][_0x2e52fe(0x3e5)]);return this[_0x2e52fe(0x438)][_0x2e52fe(0x4b8)](this[_0x2e52fe(0x5ec)]+'\x20('+this['instance']['wuid']+_0x2e52fe(0x38b)),_0x3c744?_0x5f51e5:null;}catch(_0x11d1fa){let _0x16fb03=_0x2e52fe(0x230),_0x1dc920=_0x11d1fa instanceof Error?_0x11d1fa['message']:typeof _0x11d1fa==_0x2e52fe(0x645)?JSON[_0x2e52fe(0x2bf)](_0x11d1fa):_0x11d1fa,_0x50a31d=_0x16fb03+':\x20'+_0x1dc920;throw this[_0x2e52fe(0x438)][_0x2e52fe(0xfa)](this[_0x2e52fe(0x5ec)]+'\x20('+this[_0x2e52fe(0x6ba)]['wuid']+_0x2e52fe(0x1ef)+_0x50a31d),new m(_0x50a31d);}}async[a0_0x96c47(0x584)](_0x50d13e){const _0x4fbaf7=a0_0x96c47;try{this[_0x4fbaf7(0x438)]['verbose'](this[_0x4fbaf7(0x5ec)]+'\x20('+this[_0x4fbaf7(0x6ba)][_0x4fbaf7(0x3e5)]+_0x4fbaf7(0xdf)),this[_0x4fbaf7(0x438)][_0x4fbaf7(0x4b8)](this['instanceName']+'\x20('+this['instance'][_0x4fbaf7(0x3e5)]+'):\x20Query\x20params:\x20'+_0x50d13e);let _0x446e0c={'where':{'_id':_0x50d13e}};return await this[_0x4fbaf7(0xc4)][_0x4fbaf7(0x434)][_0x4fbaf7(0x732)](_0x446e0c,this[_0x4fbaf7(0x6ba)][_0x4fbaf7(0x3e5)]);}catch(_0x3b9e8d){let _0xa16436=_0x4fbaf7(0x60b),_0x32d9ab=_0x3b9e8d instanceof Error?_0x3b9e8d[_0x4fbaf7(0x416)]:typeof _0x3b9e8d==_0x4fbaf7(0x645)?JSON[_0x4fbaf7(0x2bf)](_0x3b9e8d):_0x3b9e8d,_0x267354=_0xa16436+':\x20'+_0x32d9ab;throw this[_0x4fbaf7(0x438)][_0x4fbaf7(0xfa)](this[_0x4fbaf7(0x5ec)]+'\x20('+this[_0x4fbaf7(0x6ba)][_0x4fbaf7(0x3e5)]+_0x4fbaf7(0x1ef)+_0x267354),new m(_0x267354);}}async['fetchConversation'](_0x17c820){const _0x5a8a4c=a0_0x96c47;try{return this[_0x5a8a4c(0x438)]['verbose'](this[_0x5a8a4c(0x5ec)]+'\x20('+this[_0x5a8a4c(0x6ba)]['wuid']+_0x5a8a4c(0xec)),await this[_0x5a8a4c(0xc4)][_0x5a8a4c(0x434)][_0x5a8a4c(0xd4)](_0x17c820,this[_0x5a8a4c(0x6ba)]['wuid']);}catch(_0x40c0b3){let _0x4bb5d2=_0x5a8a4c(0x140),_0x33416e=_0x40c0b3 instanceof Error?_0x40c0b3[_0x5a8a4c(0x416)]:typeof _0x40c0b3==_0x5a8a4c(0x645)?JSON[_0x5a8a4c(0x2bf)](_0x40c0b3):_0x40c0b3,_0xbbfd1a=_0x4bb5d2+':\x20'+_0x33416e;throw this['logger']['error'](this['instanceName']+'\x20('+this[_0x5a8a4c(0x6ba)][_0x5a8a4c(0x3e5)]+_0x5a8a4c(0x1ef)+_0xbbfd1a),new m(_0xbbfd1a);}}async[a0_0x96c47(0x153)](_0x55b9d8){const _0x5870e2=a0_0x96c47;try{return this[_0x5870e2(0x438)][_0x5870e2(0x4b8)](this['instanceName']+'\x20('+this[_0x5870e2(0x6ba)][_0x5870e2(0x3e5)]+_0x5870e2(0x5ee)),this[_0x5870e2(0x438)][_0x5870e2(0x4b8)](this[_0x5870e2(0x5ec)]+'\x20('+this[_0x5870e2(0x6ba)][_0x5870e2(0x3e5)]+_0x5870e2(0x51d)+_0x55b9d8),(await this[_0x5870e2(0xc4)]['flowConversation'][_0x5870e2(0x259)]({'where':{'_id':_0x55b9d8}},this['instance'][_0x5870e2(0x3e5)]))[_0x5870e2(0x360)]===0x0?{'message':_0x5870e2(0x4ee)}:{'message':_0x5870e2(0x33a)};}catch(_0x242c02){let _0x3020fe=_0x5870e2(0xcd),_0x295376=_0x242c02 instanceof Error?_0x242c02[_0x5870e2(0x416)]:typeof _0x242c02==_0x5870e2(0x645)?JSON[_0x5870e2(0x2bf)](_0x242c02):_0x242c02,_0x3691a4=_0x3020fe+':\x20'+_0x295376;throw this[_0x5870e2(0x438)][_0x5870e2(0xfa)](this['instanceName']+'\x20('+this['instance'][_0x5870e2(0x3e5)]+'):\x20'+_0x3691a4),new m(_0x3691a4);}}async[a0_0x96c47(0x637)](_0x4eab6e){const _0x4f5067=a0_0x96c47;try{let {_id:_0x366fdd,chatLog:_0x366dc4,status:_0x224670}=_0x4eab6e;if(!_0x366fdd)return{'message':_0x4f5067(0x6f7)};let _0x594a52={};if(_0x224670!==void 0x0&&(_0x594a52[_0x4f5067(0x275)]=_0x224670),Object[_0x4f5067(0x6af)](_0x594a52)[_0x4f5067(0x1fc)]===0x0)return{'message':_0x4f5067(0x3f0)};let _0x4b4fd2=await this['repository'][_0x4f5067(0x434)][_0x4f5067(0x481)](_0x366fdd,_0x594a52,this['instance']['wuid']);return _0x4b4fd2||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0xff65fb){let _0x5ae12b='Erro\x20ao\x20editar\x20a\x20conversa',_0x21259f=_0xff65fb instanceof Error?_0xff65fb[_0x4f5067(0x416)]:typeof _0xff65fb=='object'?JSON[_0x4f5067(0x2bf)](_0xff65fb):_0xff65fb,_0x294640=_0x5ae12b+':\x20'+_0x21259f;throw this['logger'][_0x4f5067(0xfa)](this['instanceName']+'\x20('+this[_0x4f5067(0x6ba)][_0x4f5067(0x3e5)]+_0x4f5067(0x1ef)+_0x294640),new m(_0x294640);}}async['editChat'](_0x474a2b){const _0x2f7b4d=a0_0x96c47;try{_0x474a2b[_0x2f7b4d(0x1be)]=this[_0x2f7b4d(0x178)](_0x474a2b[_0x2f7b4d(0x1be)]);let _0x193fd6=await this[_0x2f7b4d(0xc4)][_0x2f7b4d(0x129)][_0x2f7b4d(0x732)]({'where':{'_id':_0x474a2b[_0x2f7b4d(0x1be)]}},this['instance'][_0x2f7b4d(0x3e5)]);if(!_0x193fd6)throw new m(_0x2f7b4d(0x4cc));let {_id:_0x2fc6a1,leadInfo:_0x4d946f}=_0x474a2b;if(!_0x2fc6a1)throw new Error(_0x2f7b4d(0x3b7));if(_0x474a2b['delete']==='all')return await this[_0x2f7b4d(0x588)](_0x474a2b[_0x2f7b4d(0x1be)]),await this[_0x2f7b4d(0xc4)][_0x2f7b4d(0x129)][_0x2f7b4d(0x494)]({'where':{'_id':_0x474a2b[_0x2f7b4d(0x1be)]}},this[_0x2f7b4d(0x6ba)][_0x2f7b4d(0x3e5)]),await this['repository'][_0x2f7b4d(0x416)][_0x2f7b4d(0x494)]({'where':{'key':{'remoteJid':_0x474a2b[_0x2f7b4d(0x1be)]}}},this['instance']['wuid']),_0x474a2b=await this[_0x2f7b4d(0xc4)][_0x2f7b4d(0x129)][_0x2f7b4d(0x481)]({'where':{'_id':_0x474a2b[_0x2f7b4d(0x1be)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance']['wuid']),U(this['instanceName'],_0x2f7b4d(0x261),{'chat':_0x474a2b}),{'message':_0x2f7b4d(0x5ac)};if(_0x474a2b['delete']===_0x2f7b4d(0x1c1))return await this[_0x2f7b4d(0xc4)]['message'][_0x2f7b4d(0x494)]({'where':{'key':{'remoteJid':_0x474a2b[_0x2f7b4d(0x1be)]}}},this[_0x2f7b4d(0x6ba)][_0x2f7b4d(0x3e5)]),_0x474a2b=await this['repository']['chat']['updateOne']({'where':{'_id':_0x474a2b[_0x2f7b4d(0x1be)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x2f7b4d(0x6ba)][_0x2f7b4d(0x3e5)]),U(this[_0x2f7b4d(0x5ec)],_0x2f7b4d(0x261),{'chat':_0x474a2b}),{'message':_0x2f7b4d(0x4b0)};let _0x17c885=(_0x1d75d3,_0xcf7da,_0x40e01e)=>{const _0xc14e67=_0x2f7b4d;_0x1d75d3&&_0x40e01e[_0xc14e67(0x233)](_0x5ae9eb=>{const _0x126a6f=_0xc14e67;_0x1d75d3[_0x5ae9eb]!==void 0x0&&(_0xcf7da[_0x126a6f(0x31f)+_0x5ae9eb]=_0x1d75d3[_0x5ae9eb]);});},_0x3210a8={};if('muteEndTime'in _0x474a2b&&(this[_0x2f7b4d(0x438)][_0x2f7b4d(0x4b8)](_0x2f7b4d(0x22e)+_0x474a2b[_0x2f7b4d(0x1be)]),_0x474a2b[_0x2f7b4d(0x93)]=_0x474a2b['muteEndTime']===0x0?null:-0x1,await this[_0x2f7b4d(0x10d)][_0x2f7b4d(0xd5)]({'mute':_0x474a2b[_0x2f7b4d(0x93)]},_0x474a2b['_id']),_0x3210a8[_0x2f7b4d(0x93)]=Number(_0x474a2b['muteEndTime'])),_0x4d946f&&(_0x17c885(_0x4d946f,_0x3210a8,['nome',_0x2f7b4d(0x51c),_0x2f7b4d(0x4e2),_0x2f7b4d(0x121),_0x2f7b4d(0x275),_0x2f7b4d(0x6ac),_0x2f7b4d(0x49a),'atendimentoAberto',_0x2f7b4d(0x4cb),'etiquetas']),Array[_0x2f7b4d(0x3d6)](_0x4d946f[_0x2f7b4d(0x5f4)])&&(_0x3210a8[_0x2f7b4d(0x466)]=_0x4d946f[_0x2f7b4d(0x5f4)]['map'](_0x436584=>({'_id':_0x436584[_0x2f7b4d(0x1be)],'value':_0x436584[_0x2f7b4d(0x41c)]}))),_0x474a2b[_0x2f7b4d(0x412)][_0x2f7b4d(0x52a)]!==void 0x0)){let _0x445aeb=await this[_0x2f7b4d(0xc4)][_0x2f7b4d(0x33d)]['find']({'where':{}},this[_0x2f7b4d(0x6ba)][_0x2f7b4d(0x3e5)]),_0x54d961=new Set(_0x474a2b['leadInfo'][_0x2f7b4d(0x52a)]||[]),_0x440444=new Set(_0x474a2b['leadInfo'][_0x2f7b4d(0x52a)]),_0x453843=new Set(_0x445aeb[_0x2f7b4d(0x504)](_0x427c34=>_0x427c34[_0x2f7b4d(0x1be)])),_0x46a69c=[..._0x440444][_0x2f7b4d(0x2bc)](_0x40b89d=>!_0x54d961[_0x2f7b4d(0x29a)](_0x40b89d)&&_0x453843[_0x2f7b4d(0x29a)](_0x40b89d)),_0x1789a3=[..._0x54d961][_0x2f7b4d(0x2bc)](_0x893d7d=>!_0x440444[_0x2f7b4d(0x29a)](_0x893d7d));if(_0x3210a8[_0x2f7b4d(0x5ba)]=[..._0x54d961],_0x193fd6&&!_0x193fd6[_0x2f7b4d(0x3f5)]){for(let _0x26abe7 of _0x46a69c)await this[_0x2f7b4d(0x1d1)](_0x26abe7,_0x474a2b['_id']),_0x54d961[_0x2f7b4d(0x179)](_0x26abe7);for(let _0x56c7e0 of _0x1789a3)await this[_0x2f7b4d(0x539)](_0x56c7e0,_0x474a2b['_id']),_0x54d961[_0x2f7b4d(0x494)](_0x56c7e0);}}if(_0x474a2b['unreadcount']!==void 0x0&&(_0x3210a8['unreadcount']=Number(_0x474a2b[_0x2f7b4d(0x14e)])),Object[_0x2f7b4d(0x6af)](_0x3210a8)[_0x2f7b4d(0x1fc)]===0x0)throw new Error(_0x2f7b4d(0x3f0));let _0x57542e=await this['repository'][_0x2f7b4d(0x129)][_0x2f7b4d(0x481)]({'where':{'_id':_0x474a2b[_0x2f7b4d(0x1be)]}},_0x3210a8,this[_0x2f7b4d(0x6ba)]['wuid']);return _0x57542e&&U(this[_0x2f7b4d(0x5ec)],'chats',{'chat':_0x57542e}),_0x57542e?(this[_0x2f7b4d(0x438)][_0x2f7b4d(0x4b8)](this[_0x2f7b4d(0x5ec)]+'\x20('+this[_0x2f7b4d(0x6ba)][_0x2f7b4d(0x3e5)]+'):\x20'+JSON[_0x2f7b4d(0x2bf)](_0x57542e,null,0x2)),_0x57542e):{'message':_0x2f7b4d(0x310)};}catch(_0x5b4748){let _0x2482ff=_0x2f7b4d(0x13f),_0x3beb2f=_0x5b4748 instanceof Error?_0x5b4748[_0x2f7b4d(0x416)]:typeof _0x5b4748==_0x2f7b4d(0x645)?JSON['stringify'](_0x5b4748):_0x5b4748,_0x51e8f4=_0x2482ff+':\x20'+_0x3beb2f;throw this[_0x2f7b4d(0x438)][_0x2f7b4d(0xfa)](this[_0x2f7b4d(0x5ec)]+'\x20('+this['instance'][_0x2f7b4d(0x3e5)]+'):\x20'+_0x51e8f4),new m(_0x51e8f4);}}async[a0_0x96c47(0x1d1)](_0x27b4e4,_0x4368ad){const _0x4949af=a0_0x96c47;try{await this[_0x4949af(0x10d)]['addChatLabel'](_0x4368ad,_0x27b4e4),this[_0x4949af(0x438)][_0x4949af(0x5f7)](this[_0x4949af(0x5ec)]+'\x20('+this[_0x4949af(0x6ba)][_0x4949af(0x3e5)]+'):\x20Label\x20'+_0x27b4e4+_0x4949af(0x29d)+_0x4368ad+_0x4949af(0x495));}catch(_0x12d6d9){console['error'](_0x4949af(0x54d)+_0x27b4e4+_0x4949af(0x5eb)+_0x4368ad+':',_0x12d6d9);}}async[a0_0x96c47(0x539)](_0x3fe1b8,_0x41910d){const _0x5195bd=a0_0x96c47;try{await this[_0x5195bd(0x10d)][_0x5195bd(0x638)](_0x41910d,_0x3fe1b8),this[_0x5195bd(0x438)][_0x5195bd(0x5f7)](this[_0x5195bd(0x5ec)]+'\x20('+this[_0x5195bd(0x6ba)][_0x5195bd(0x3e5)]+_0x5195bd(0x736)+_0x3fe1b8+_0x5195bd(0x3ed)+_0x41910d+'\x20com\x20sucesso.');}catch(_0x2e0c8a){console[_0x5195bd(0xfa)](_0x5195bd(0x471)+_0x3fe1b8+_0x5195bd(0x5be)+_0x41910d+':',_0x2e0c8a);}}async['updateAgent'](_0x3d2d47){const _0x2da36c=a0_0x96c47;try{let _0x5dab93=await this['repository']['automateSystem'][_0x2da36c(0x3eb)](this[_0x2da36c(0x6ba)][_0x2da36c(0x3e5)]),_0xd88ea8=_0x3d2d47[_0x2da36c(0x1be)]?_0x5dab93[_0x2da36c(0x575)][_0x2da36c(0x3dd)](_0x4ef338=>_0x4ef338[_0x2da36c(0x1be)]===_0x3d2d47[_0x2da36c(0x1be)]):-0x1;if(_0x3d2d47['delete']&&_0xd88ea8>-0x1)_0x5dab93[_0x2da36c(0x575)][_0x2da36c(0x4bb)](_0xd88ea8,0x1);else{if(_0xd88ea8>-0x1){let _0x4f6866=_0x5dab93[_0x2da36c(0x575)][_0xd88ea8];_0x3d2d47['fone']&&(_0x4f6866[_0x2da36c(0x59f)]=_0x3d2d47[_0x2da36c(0x59f)]),_0x3d2d47[_0x2da36c(0x11a)]&&(_0x4f6866[_0x2da36c(0x11a)]=_0x3d2d47['name']),_0x3d2d47[_0x2da36c(0x4e2)]&&(_0x4f6866[_0x2da36c(0x4e2)]=_0x3d2d47[_0x2da36c(0x4e2)]),_0x3d2d47[_0x2da36c(0x15b)]&&(_0x4f6866[_0x2da36c(0x15b)]=_0x3d2d47[_0x2da36c(0x15b)]);}else _0x5dab93[_0x2da36c(0x575)][_0x2da36c(0xc0)]({'_id':_0x3d2d47['_id']||new re['default'][(_0x2da36c(0x3d8))][(_0x2da36c(0x5e0))]()[_0x2da36c(0x5f2)](),'fone':_0x3d2d47[_0x2da36c(0x59f)],'name':_0x3d2d47[_0x2da36c(0x11a)],'email':_0x3d2d47[_0x2da36c(0x4e2)],'role':_0x3d2d47[_0x2da36c(0x15b)]});}let _0x2bcece={'agents':_0x5dab93[_0x2da36c(0x575)]},_0x2257df=await this[_0x2da36c(0xc4)][_0x2da36c(0x59e)][_0x2da36c(0x490)](_0x2bcece,this[_0x2da36c(0x6ba)]['wuid']);return this[_0x2da36c(0x4d2)]=_0x2257df,this[_0x2da36c(0x438)]['verbose'](this[_0x2da36c(0x5ec)]+'\x20('+this['instance'][_0x2da36c(0x3e5)]+_0x2da36c(0x574)),this[_0x2da36c(0x438)][_0x2da36c(0x4b8)](this[_0x2da36c(0x5ec)]+'\x20('+this[_0x2da36c(0x6ba)][_0x2da36c(0x3e5)]+_0x2da36c(0x1ef)+this[_0x2da36c(0x4d2)]),_0x2257df;}catch(_0x120ba5){let _0x585669=_0x2da36c(0x523),_0x1619ae=_0x120ba5 instanceof Error?_0x120ba5['message']:typeof _0x120ba5==_0x2da36c(0x645)?JSON[_0x2da36c(0x2bf)](_0x120ba5):_0x120ba5,_0x307520=_0x585669+':\x20'+_0x1619ae;throw this[_0x2da36c(0x438)][_0x2da36c(0xfa)](this['instanceName']+'\x20('+this[_0x2da36c(0x6ba)][_0x2da36c(0x3e5)]+_0x2da36c(0x1ef)+_0x307520),new m(_0x307520);}}async['updateCustomFields'](_0x237aa0){const _0x1c4b3d=a0_0x96c47;try{let _0x235dbe=await this[_0x1c4b3d(0xc4)][_0x1c4b3d(0x59e)][_0x1c4b3d(0x3eb)](this['instance']['wuid']),_0xccfcca=_0x237aa0[_0x1c4b3d(0x1be)]?_0x235dbe['customFields'][_0x1c4b3d(0x3dd)](_0x24224a=>_0x24224a[_0x1c4b3d(0x1be)]===_0x237aa0[_0x1c4b3d(0x1be)]):-0x1,_0x3f4d7f=!0x1,_0x11237a=_0x235dbe[_0x1c4b3d(0x5f4)][_0x1c4b3d(0x9b)](_0x41fe24=>_0x41fe24[_0x1c4b3d(0x70b)]===_0x237aa0['order']);if(_0x237aa0[_0x1c4b3d(0x494)]&&_0xccfcca>-0x1)_0x235dbe['customFields'][_0x1c4b3d(0x4bb)](_0xccfcca,0x1),_0x3f4d7f=!0x0;else{if(_0xccfcca>-0x1){if(_0x235dbe[_0x1c4b3d(0x5f4)][_0x1c4b3d(0x9b)](_0x1800fe=>_0x1800fe[_0x1c4b3d(0x11a)]===_0x237aa0[_0x1c4b3d(0x11a)]&&_0x1800fe[_0x1c4b3d(0x1be)]!==_0x237aa0[_0x1c4b3d(0x1be)]))throw new Error(_0x1c4b3d(0x677));let _0xbe158f=_0x235dbe[_0x1c4b3d(0x5f4)][_0xccfcca];_0x237aa0[_0x1c4b3d(0x70b)]&&(_0x11237a||!Number['isInteger'](_0x237aa0[_0x1c4b3d(0x70b)]))&&(_0xbe158f[_0x1c4b3d(0x70b)]=_0x237aa0[_0x1c4b3d(0x70b)],_0x3f4d7f=!0x0),_0x237aa0[_0x1c4b3d(0x11a)]&&(_0xbe158f[_0x1c4b3d(0x11a)]=_0x237aa0['name']);}else{if(_0x235dbe[_0x1c4b3d(0x5f4)][_0x1c4b3d(0x9b)](_0x5967ca=>_0x5967ca['name']===_0x237aa0[_0x1c4b3d(0x11a)]&&_0x5967ca[_0x1c4b3d(0x1be)]!==_0x237aa0[_0x1c4b3d(0x1be)]))throw new Error(_0x1c4b3d(0x677));_0x235dbe[_0x1c4b3d(0x5f4)]['push']({'_id':_0x237aa0[_0x1c4b3d(0x1be)]||new re[(_0x1c4b3d(0x5ef))]['Types'][(_0x1c4b3d(0x5e0))]()[_0x1c4b3d(0x5f2)](),'order':_0x237aa0[_0x1c4b3d(0x70b)],'name':_0x237aa0[_0x1c4b3d(0x11a)]}),_0x3f4d7f=!0x0;}}if(_0x3f4d7f){_0x235dbe[_0x1c4b3d(0x5f4)]['sort']((_0x59abc9,_0x182310)=>_0x59abc9[_0x1c4b3d(0x70b)]>_0x182310[_0x1c4b3d(0x70b)]?0x1:_0x182310[_0x1c4b3d(0x70b)]>_0x59abc9[_0x1c4b3d(0x70b)]?-0x1:0x0);for(let _0x1ba436=0x0;_0x1ba436<_0x235dbe[_0x1c4b3d(0x5f4)][_0x1c4b3d(0x1fc)];_0x1ba436++)_0x235dbe[_0x1c4b3d(0x5f4)][_0x1ba436][_0x1c4b3d(0x70b)]=_0x1ba436+0x1;}let _0x584f1d=await this['repository']['automateSystem'][_0x1c4b3d(0x490)](_0x235dbe,this['instance']['wuid']);return this[_0x1c4b3d(0x4d2)]=_0x584f1d,this[_0x1c4b3d(0x438)][_0x1c4b3d(0x4b8)](this[_0x1c4b3d(0x5ec)]+'\x20('+this[_0x1c4b3d(0x6ba)][_0x1c4b3d(0x3e5)]+_0x1c4b3d(0x56d)),this['logger'][_0x1c4b3d(0x4b8)](this['instanceName']+'\x20('+this[_0x1c4b3d(0x6ba)]['wuid']+'):\x20'+this[_0x1c4b3d(0x4d2)]),_0x584f1d;}catch(_0x2f8956){let _0x1f8284=_0x1c4b3d(0x3e2),_0x1b1974=_0x2f8956 instanceof Error?_0x2f8956[_0x1c4b3d(0x416)]:typeof _0x2f8956=='object'?JSON[_0x1c4b3d(0x2bf)](_0x2f8956):_0x2f8956,_0x3d778e=_0x1f8284+':\x20'+_0x1b1974;throw this[_0x1c4b3d(0x438)][_0x1c4b3d(0xfa)](this[_0x1c4b3d(0x5ec)]+'\x20('+this[_0x1c4b3d(0x6ba)][_0x1c4b3d(0x3e5)]+_0x1c4b3d(0x1ef)+_0x3d778e),new m(_0x3d778e);}}async['updateAutoCompleteMessages'](_0x49c39b){const _0x5a1b47=a0_0x96c47;try{let _0x1a4714=await this[_0x5a1b47(0xc4)][_0x5a1b47(0x59e)][_0x5a1b47(0x3eb)](this[_0x5a1b47(0x6ba)]['wuid']),_0xa7e27f=_0x1a4714?.['autoCompleteMessages']?.[_0x5a1b47(0x3dd)](_0x4522d3=>_0x4522d3[_0x5a1b47(0x1be)]===_0x49c39b?.['_id']);if(_0x49c39b?.[_0x5a1b47(0x494)])_0xa7e27f>-0x1&&_0x1a4714?.[_0x5a1b47(0x5d3)]?.[_0x5a1b47(0x4bb)](_0xa7e27f,0x1);else{if(_0xa7e27f>-0x1){let _0x1db897=_0x1a4714[_0x5a1b47(0x5d3)][_0xa7e27f];_0x1db897[_0x5a1b47(0x70b)]=_0x49c39b?.[_0x5a1b47(0x70b)]||_0x1db897[_0x5a1b47(0x70b)],_0x1db897[_0x5a1b47(0x499)]=_0x49c39b?.[_0x5a1b47(0x499)]||_0x1db897[_0x5a1b47(0x499)],_0x1db897[_0x5a1b47(0x416)]=_0x49c39b?.[_0x5a1b47(0x416)]||_0x1db897[_0x5a1b47(0x416)];}else{let _0x17b7bc={'_id':_0x49c39b?.['_id']||new re[(_0x5a1b47(0x5ef))][(_0x5a1b47(0x3d8))][(_0x5a1b47(0x5e0))]()[_0x5a1b47(0x5f2)](),'order':_0x49c39b?.[_0x5a1b47(0x70b)],'command':_0x49c39b?.[_0x5a1b47(0x499)],'message':_0x49c39b?.['message']};_0x1a4714?.[_0x5a1b47(0x5d3)]?.[_0x5a1b47(0xc0)](_0x17b7bc);}}_0x1a4714?.[_0x5a1b47(0x5d3)]?.['sort']((_0x397f22,_0x4c3df8)=>_0x397f22[_0x5a1b47(0x70b)]-_0x4c3df8[_0x5a1b47(0x70b)]);let _0x300636=await this[_0x5a1b47(0xc4)][_0x5a1b47(0x59e)]['update'](_0x1a4714,this[_0x5a1b47(0x6ba)][_0x5a1b47(0x3e5)]);return this[_0x5a1b47(0x4d2)]=_0x300636,this['logger'][_0x5a1b47(0x4b8)](this[_0x5a1b47(0x5ec)]+'\x20('+this[_0x5a1b47(0x6ba)][_0x5a1b47(0x3e5)]+_0x5a1b47(0x56d)),_0x300636;}catch(_0x4c9f3d){let _0x1baf7d='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x1b5ff1=_0x4c9f3d instanceof Error?_0x4c9f3d[_0x5a1b47(0x416)]:typeof _0x4c9f3d==_0x5a1b47(0x645)?JSON['stringify'](_0x4c9f3d):_0x4c9f3d,_0x58887a=_0x1baf7d+':\x20'+_0x1b5ff1;throw this['logger'][_0x5a1b47(0xfa)](this[_0x5a1b47(0x5ec)]+'\x20('+this[_0x5a1b47(0x6ba)][_0x5a1b47(0x3e5)]+_0x5a1b47(0x1ef)+_0x58887a),new m(_0x58887a);}}async[a0_0x96c47(0x133)](_0x53d4fb){const _0x47cb60=a0_0x96c47;try{let _0x7bc3d7=await this[_0x47cb60(0xc4)][_0x47cb60(0x59e)]['findOrCreate'](this[_0x47cb60(0x6ba)][_0x47cb60(0x3e5)]);if(!_0x7bc3d7)throw new Error(_0x47cb60(0x4af));let _0x5ac0d0={'_id':_0x7bc3d7[_0x47cb60(0x1be)],'flowConfig':{'enabled':_0x53d4fb[_0x47cb60(0x403)]??_0x7bc3d7[_0x47cb60(0x655)]['enabled'],'ignoreGroups':_0x53d4fb[_0x47cb60(0x2ef)]??_0x7bc3d7[_0x47cb60(0x655)]['ignoreGroups'],'prefixCommand':_0x53d4fb[_0x47cb60(0x3fd)]??_0x7bc3d7[_0x47cb60(0x655)][_0x47cb60(0x3fd)],'stopConversation':_0x53d4fb[_0x47cb60(0x43d)]??_0x7bc3d7[_0x47cb60(0x655)][_0x47cb60(0x43d)],'stopMinutes':_0x53d4fb[_0x47cb60(0x486)]??_0x7bc3d7[_0x47cb60(0x655)][_0x47cb60(0x486)],'stopWhenYouSendMsg':_0x53d4fb[_0x47cb60(0x276)]??_0x7bc3d7[_0x47cb60(0x655)][_0x47cb60(0x276)]}},_0x2a8624=await this[_0x47cb60(0xc4)][_0x47cb60(0x59e)][_0x47cb60(0x490)](_0x5ac0d0,this[_0x47cb60(0x6ba)][_0x47cb60(0x3e5)]);return this[_0x47cb60(0x4d2)]=_0x2a8624,this[_0x47cb60(0x438)]['verbose'](this['instanceName']+'\x20('+this[_0x47cb60(0x6ba)][_0x47cb60(0x3e5)]+_0x47cb60(0x574)),this['logger'][_0x47cb60(0x4b8)](this[_0x47cb60(0x5ec)]+'\x20('+this[_0x47cb60(0x6ba)][_0x47cb60(0x3e5)]+_0x47cb60(0x1ef)+this[_0x47cb60(0x4d2)]),setTimeout(()=>this[_0x47cb60(0x328)](),0x7d0),_0x2a8624;}catch(_0x276e76){let _0x17e4bb='Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos',_0x4b8cec=_0x276e76 instanceof Error?_0x276e76[_0x47cb60(0x416)]:typeof _0x276e76==_0x47cb60(0x645)?JSON['stringify'](_0x276e76):_0x276e76,_0x5dcbfe=_0x17e4bb+':\x20'+_0x4b8cec;throw this[_0x47cb60(0x438)][_0x47cb60(0xfa)](this[_0x47cb60(0x5ec)]+'\x20('+this[_0x47cb60(0x6ba)][_0x47cb60(0x3e5)]+_0x47cb60(0x1ef)+_0x5dcbfe),new m(_0x5dcbfe);}}async['getAutomateSystem'](){const _0x213e99=a0_0x96c47;try{let _0x34f7c7=await this['repository'][_0x213e99(0x59e)][_0x213e99(0x3eb)](this[_0x213e99(0x6ba)]['wuid']);return this[_0x213e99(0x4d2)]=_0x34f7c7,this[_0x213e99(0x438)][_0x213e99(0x4b8)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x213e99(0x68b)),this[_0x213e99(0x438)][_0x213e99(0x4b8)](this['AutomateSystem']),_0x34f7c7;}catch(_0x1c46a2){let _0x639d54=_0x213e99(0x4ac),_0x4a027e=_0x1c46a2 instanceof Error?_0x1c46a2['message']:typeof _0x1c46a2=='object'?JSON['stringify'](_0x1c46a2):_0x1c46a2,_0x45943a=_0x639d54+':\x20'+_0x4a027e;throw this['logger'][_0x213e99(0xfa)](this[_0x213e99(0x5ec)]+'\x20('+this[_0x213e99(0x6ba)][_0x213e99(0x3e5)]+_0x213e99(0x1ef)+_0x45943a),new m(_0x45943a);}}async['setRestartTimeout'](){const _0x236792=a0_0x96c47;this[_0x236792(0x6ba)][_0x236792(0x10b)][_0x236792(0x12c)]&&clearTimeout(this[_0x236792(0x6ba)][_0x236792(0x10b)][_0x236792(0x12c)]),this[_0x236792(0x6ba)][_0x236792(0x10b)][_0x236792(0x12c)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x96c47(0xbd)](){const _0x113204=a0_0x96c47;Date['now']()-this['instance'][_0x113204(0x10b)][_0x113204(0x699)]>=0x1d4c0&&(this['logger']['verbose'](this[_0x113204(0x5ec)]+'\x20('+this['instance']['wuid']+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x113204(0x6ba)]['ScheduleMessage']['processing_id']=null,this['instance']['ScheduleMessage']['lastSend']=0x0,this[_0x113204(0x6ba)][_0x113204(0x10b)][_0x113204(0x35d)]=0x0,await this[_0x113204(0x328)]());}async[a0_0x96c47(0x328)](){const _0x55129a=a0_0x96c47;let _0x26d1e3=()=>{const _0x365455=a0_0x3aea;this['logger'][_0x365455(0x4b8)](this[_0x365455(0x5ec)]+'\x20('+this[_0x365455(0x6ba)][_0x365455(0x3e5)]+_0x365455(0x1f5)+this[_0x365455(0x6ba)][_0x365455(0x10b)][_0x365455(0x143)]+'\x20saindo\x20da\x20função');},_0x2bce7e=async()=>{const _0x39386d=a0_0x3aea;this['logger'][_0x39386d(0x4b8)](this[_0x39386d(0x5ec)]+'\x20('+this[_0x39386d(0x6ba)][_0x39386d(0x3e5)]+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0xb61d29=Date[_0x39386d(0x35c)]()-0xc*0x3c*0x3c*0x3e8,_0x2d9398={'where':{'status':{'$in':[_0x39386d(0x538),_0x39386d(0x383)]},'$or':[{'when':{'$lte':Date[_0x39386d(0x35c)](),'$gte':_0xb61d29}},{'when':0x0}]}};return await this[_0x39386d(0xc4)][_0x39386d(0x232)]['find'](_0x2d9398,this[_0x39386d(0x6ba)][_0x39386d(0x3e5)]);},_0x14d872=async _0x454ff9=>{const _0x4e8a67=a0_0x3aea;for(let _0x5100cd of _0x454ff9){let _0x3d89cc={'_id':_0x5100cd[_0x4e8a67(0x1be)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x4e8a67(0x35c)]()-0x1770}}]},_0x37b028={'startSend':Date[_0x4e8a67(0x35c)]()};if(!await this[_0x4e8a67(0xc4)][_0x4e8a67(0x232)][_0x4e8a67(0x481)](_0x3d89cc,_0x37b028,this[_0x4e8a67(0x6ba)][_0x4e8a67(0x3e5)]))return;if(!this['instance'][_0x4e8a67(0x10b)]['isConnected']){this['logger']['verbose'](this[_0x4e8a67(0x5ec)]+'\x20('+this[_0x4e8a67(0x6ba)][_0x4e8a67(0x3e5)]+_0x4e8a67(0x528));break;}if(_0x5100cd[_0x4e8a67(0x43e)]===_0x4e8a67(0x201)&&!this[_0x4e8a67(0x4d2)]?.['flowConfig'][_0x4e8a67(0x403)]){this[_0x4e8a67(0x438)][_0x4e8a67(0xfa)](this[_0x4e8a67(0x5ec)]+'\x20('+this['instance']['wuid']+_0x4e8a67(0x277));continue;}(!_0x5100cd['remoteJidsRemaining']||_0x5100cd[_0x4e8a67(0x465)][_0x4e8a67(0x1fc)]===0x0)&&(_0x5100cd=await this['repository'][_0x4e8a67(0x232)]['updateOneById'](_0x5100cd[_0x4e8a67(0x1be)],{'status':_0x4e8a67(0x383),'remoteJidsRemaining':[..._0x5100cd[_0x4e8a67(0x1f2)]]},this['instance'][_0x4e8a67(0x3e5)]));for(let _0x2463c3 of _0x5100cd[_0x4e8a67(0x465)]){if(await this[_0x4e8a67(0xc8)](),this['instance']['ScheduleMessage'][_0x4e8a67(0x699)]=Date[_0x4e8a67(0x35c)](),this[_0x4e8a67(0x6ba)]['ScheduleMessage'][_0x4e8a67(0x1a1)]===_0x2463c3){this[_0x4e8a67(0x438)][_0x4e8a67(0xfa)](this[_0x4e8a67(0x5ec)]+'\x20('+this[_0x4e8a67(0x6ba)][_0x4e8a67(0x3e5)]+_0x4e8a67(0x351)+_0x2463c3+_0x4e8a67(0x543));let _0x1c50c3={'$push':{'messagesSend':{'remoteJid':_0x2463c3,'error':!0x0,'id':null,'error_log':_0x4e8a67(0x653),'log_timestamp':Date[_0x4e8a67(0x35c)]()}},'$pull':{'remoteJidsRemaining':_0x2463c3}};await this[_0x4e8a67(0xc4)]['scheduleMessage'][_0x4e8a67(0xb2)](_0x5100cd[_0x4e8a67(0x1be)],_0x1c50c3,this[_0x4e8a67(0x6ba)][_0x4e8a67(0x3e5)]);continue;}if(this[_0x4e8a67(0x6ba)]['ScheduleMessage'][_0x4e8a67(0x1a1)]=_0x2463c3,_0x5100cd[_0x4e8a67(0x417)][_0x4e8a67(0x9b)](_0x18544a=>_0x18544a[_0x4e8a67(0x101)]===_0x2463c3)){this[_0x4e8a67(0x438)][_0x4e8a67(0x4b8)](this['instanceName']+'\x20('+this[_0x4e8a67(0x6ba)]['wuid']+'):\x20Mensagem\x20já\x20enviada\x20para\x20'+_0x2463c3+_0x4e8a67(0x6bc));continue;}if(!this[_0x4e8a67(0x6ba)][_0x4e8a67(0x10b)][_0x4e8a67(0x167)]){this[_0x4e8a67(0x438)][_0x4e8a67(0x4b8)](this[_0x4e8a67(0x5ec)]+'\x20('+this[_0x4e8a67(0x6ba)][_0x4e8a67(0x3e5)]+_0x4e8a67(0x3d1));break;}if(!this[_0x4e8a67(0x6ba)]['ScheduleMessage'][_0x4e8a67(0x143)]){this[_0x4e8a67(0x438)][_0x4e8a67(0x4b8)](this['instanceName']+'\x20('+this[_0x4e8a67(0x6ba)][_0x4e8a67(0x3e5)]+_0x4e8a67(0x62d)+_0x5100cd[_0x4e8a67(0x1be)]+_0x4e8a67(0x272));break;}if(_0x5100cd['type']===_0x4e8a67(0x201)&&!this[_0x4e8a67(0x4d2)]?.[_0x4e8a67(0x655)][_0x4e8a67(0x403)]){this[_0x4e8a67(0x438)][_0x4e8a67(0xfa)](this[_0x4e8a67(0x5ec)]+'\x20('+this['instance'][_0x4e8a67(0x3e5)]+_0x4e8a67(0x277));break;}let _0x2ddade={'remoteJid':_0x2463c3,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x4e8a67(0x35c)]()},_0x4ffdce=null;try{let _0x296c76=await this[_0x4e8a67(0x6be)](_0x2463c3,_0x5100cd);_0x2ddade[_0x4e8a67(0xfa)]=_0x296c76['error'],_0x2ddade['id']=_0x296c76[_0x4e8a67(0xfa)]?null:_0x296c76['id'],_0x2ddade[_0x4e8a67(0x418)]=_0x296c76[_0x4e8a67(0xfa)]?_0x296c76[_0x4e8a67(0x280)]?_0x296c76['detail'][_0x4e8a67(0x5f2)]():'':null;let _0x5b854f={'$push':{'messagesSend':_0x2ddade},'$pull':{'remoteJidsRemaining':_0x2463c3}},_0x329786=_0x5100cd[_0x4e8a67(0x1be)];if(_0x4ffdce=await this[_0x4e8a67(0xc4)]['scheduleMessage'][_0x4e8a67(0xb2)](_0x329786,_0x5b854f,this[_0x4e8a67(0x6ba)][_0x4e8a67(0x3e5)]),_0x296c76[_0x4e8a67(0xfa)])continue;let _0x225b83=this['getDelay'](_0x5100cd[_0x4e8a67(0x679)],_0x5100cd['delaySecMax']);await this[_0x4e8a67(0x671)](_0x225b83);}catch(_0x1ef93e){this[_0x4e8a67(0x438)][_0x4e8a67(0xfa)](this[_0x4e8a67(0x5ec)]+'\x20('+this[_0x4e8a67(0x6ba)][_0x4e8a67(0x3e5)]+_0x4e8a67(0x45d)+_0x2463c3+':\x20'+(_0x1ef93e instanceof Error?_0x1ef93e[_0x4e8a67(0x416)]:JSON[_0x4e8a67(0x2bf)](_0x1ef93e,null,0x2))),_0x2ddade[_0x4e8a67(0xfa)]=!0x0,_0x2ddade['error_log']=_0x1ef93e['message'];let _0x2922ff={'$push':{'messagesSend':_0x2ddade},'$pull':{'remoteJidsRemaining':_0x2463c3}},_0x5c490e=_0x5100cd[_0x4e8a67(0x1be)];_0x4ffdce=await this[_0x4e8a67(0xc4)][_0x4e8a67(0x232)][_0x4e8a67(0xb2)](_0x5c490e,_0x2922ff,this['instance'][_0x4e8a67(0x3e5)]);}finally{if(_0x4ffdce&&_0x4ffdce['status']==='stopped'){this[_0x4e8a67(0x438)][_0x4e8a67(0x4b8)](this[_0x4e8a67(0x5ec)]+'\x20('+this[_0x4e8a67(0x6ba)][_0x4e8a67(0x3e5)]+_0x4e8a67(0x62d)+_0x5100cd[_0x4e8a67(0x1be)]+_0x4e8a67(0x752));break;}}}let _0x1fb26d=await this[_0x4e8a67(0xc4)][_0x4e8a67(0x232)]['findById'](_0x5100cd[_0x4e8a67(0x1be)],this[_0x4e8a67(0x6ba)]['wuid']);if(_0x1fb26d[_0x4e8a67(0x465)][_0x4e8a67(0x1fc)]===0x0&&_0x1fb26d[_0x4e8a67(0x275)]!==_0x4e8a67(0x1a2)){this['instance'][_0x4e8a67(0x10b)][_0x4e8a67(0x1a1)]=null;let _0x53322={'$set':{'status':'done'}},_0x56b15e=_0x1fb26d[_0x4e8a67(0x1be)];await this[_0x4e8a67(0xc4)]['scheduleMessage'][_0x4e8a67(0xb2)](_0x56b15e,_0x53322,this[_0x4e8a67(0x6ba)][_0x4e8a67(0x3e5)]);}await new Promise(_0x29e29b=>setTimeout(_0x29e29b,0x1388));}},_0x480a34=async()=>{const _0x2f4100=a0_0x3aea;let _0xc60fd3={'where':{'status':_0x2f4100(0x538),'when':{'$gt':Date['now']()}}},_0x47c89c=await this['repository'][_0x2f4100(0x232)][_0x2f4100(0x732)](_0xc60fd3,this[_0x2f4100(0x6ba)]['wuid']);_0x47c89c&&_0x47c89c[_0x2f4100(0x200)]-Date[_0x2f4100(0x35c)]()<=0x5265c00?this[_0x2f4100(0x6ba)][_0x2f4100(0x10b)][_0x2f4100(0x35d)]=_0x47c89c['when']-Date['now']():this['instance']['ScheduleMessage'][_0x2f4100(0x35d)]=(0x3c+Math['floor'](Math[_0x2f4100(0x1aa)]()*0x3c))*0x3c*0x3e8,this[_0x2f4100(0x6ba)][_0x2f4100(0x10b)][_0x2f4100(0x35d)]=Math[_0x2f4100(0x4b3)](this[_0x2f4100(0x6ba)][_0x2f4100(0x10b)]['delayMessage'],0x7d0);let _0x220d58=Math[_0x2f4100(0x11b)](this[_0x2f4100(0x6ba)]['ScheduleMessage'][_0x2f4100(0x35d)]/0xea60);if(_0x47c89c){let _0x58ac8b=new Date(_0x47c89c[_0x2f4100(0x200)])[_0x2f4100(0x1c7)]();this[_0x2f4100(0x438)][_0x2f4100(0x4b8)](this[_0x2f4100(0x5ec)]+'\x20('+this[_0x2f4100(0x6ba)]['wuid']+_0x2f4100(0x6ec)+_0x58ac8b+_0x2f4100(0xfb)+_0x220d58+_0x2f4100(0x46a));}else this['logger']['verbose'](this[_0x2f4100(0x5ec)]+'\x20('+this[_0x2f4100(0x6ba)][_0x2f4100(0x3e5)]+_0x2f4100(0x23a)+_0x220d58+_0x2f4100(0x46a));setTimeout(()=>this['scheduleNextCheck'](),this[_0x2f4100(0x6ba)][_0x2f4100(0x10b)][_0x2f4100(0x35d)]);};if(this['instance']['ScheduleMessage'][_0x55129a(0x143)]){await this[_0x55129a(0xc8)](),_0x26d1e3();return;}if(!this[_0x55129a(0x6ba)]['ScheduleMessage'][_0x55129a(0x167)]){this[_0x55129a(0x438)][_0x55129a(0x4b8)](this['instanceName']+'\x20('+this['instance'][_0x55129a(0x3e5)]+_0x55129a(0x32c)),this[_0x55129a(0x6ba)][_0x55129a(0x10b)][_0x55129a(0x143)]=null,this[_0x55129a(0x6ba)][_0x55129a(0x10b)][_0x55129a(0x699)]=0x0,this[_0x55129a(0x6ba)][_0x55129a(0x10b)][_0x55129a(0x35d)]=0x0,this[_0x55129a(0x6ba)][_0x55129a(0x10b)][_0x55129a(0x1a1)]=null;return;}try{let _0x575621=await _0x2bce7e();_0x575621[_0x55129a(0x1fc)]===0x0?this[_0x55129a(0x438)][_0x55129a(0x4b8)](this['instanceName']+'\x20('+this[_0x55129a(0x6ba)][_0x55129a(0x3e5)]+_0x55129a(0x340)):(this[_0x55129a(0x6ba)]['ScheduleMessage'][_0x55129a(0x143)]=_0x575621[0x0][_0x55129a(0x1be)],await _0x14d872(_0x575621)),await _0x480a34(),this[_0x55129a(0x6ba)][_0x55129a(0x10b)][_0x55129a(0x143)]=null,this[_0x55129a(0x6ba)][_0x55129a(0x10b)]['ultimaTentativaRemoteJid']=null;}catch(_0x53c2a9){this[_0x55129a(0x438)][_0x55129a(0xfa)](_0x55129a(0x4d4)+(_0x53c2a9 instanceof Error?_0x53c2a9[_0x55129a(0x416)]:JSON[_0x55129a(0x2bf)](_0x53c2a9,null,0x2)));}}['getDelay'](_0x2f82a7,_0x10c254){const _0x4ce9cd=a0_0x96c47;return _0x2f82a7=Math[_0x4ce9cd(0x4b3)](0.5,_0x2f82a7),_0x10c254=Math[_0x4ce9cd(0x323)](Math[_0x4ce9cd(0x4b3)](0x3,_0x10c254),0x78),Math[_0x4ce9cd(0x707)](Math[_0x4ce9cd(0x1aa)]()*(_0x10c254-_0x2f82a7+0x1)+_0x2f82a7)*0x3e8;}[a0_0x96c47(0x671)](_0x26ec6d){return new Promise(_0x396aa8=>setTimeout(_0x396aa8,_0x26ec6d));}async[a0_0x96c47(0x3f1)](_0x39c46f){const _0x1cfc4a=a0_0x96c47;if(!this[_0x1cfc4a(0x4d2)]&&(await this[_0x1cfc4a(0x1bb)](),!this[_0x1cfc4a(0x4d2)]))return null;_0x39c46f=this[_0x1cfc4a(0x178)](_0x39c46f);let _0x257d38=await this['repository']['chat'][_0x1cfc4a(0x732)]({'where':{'_id':_0x39c46f}},this[_0x1cfc4a(0x6ba)][_0x1cfc4a(0x3e5)]),_0x1a7b5a={};if(_0x257d38&&_0x257d38[_0x1cfc4a(0x412)]){let _0x4f551f=_0x257d38[_0x1cfc4a(0x412)];typeof _0x4f551f[_0x1cfc4a(0x39d)]==_0x1cfc4a(0x1e4)&&(_0x1a7b5a[_0x1cfc4a(0x39d)]=_0x4f551f[_0x1cfc4a(0x39d)]),typeof _0x4f551f[_0x1cfc4a(0x51c)]=='string'&&(_0x1a7b5a[_0x1cfc4a(0x51c)]=_0x4f551f['nomecompleto']),typeof _0x4f551f[_0x1cfc4a(0x4e2)]==_0x1cfc4a(0x1e4)&&(_0x1a7b5a[_0x1cfc4a(0x4e2)]=_0x4f551f[_0x1cfc4a(0x4e2)]),typeof _0x4f551f[_0x1cfc4a(0x121)]==_0x1cfc4a(0x1e4)&&(_0x1a7b5a['cpf']=_0x4f551f['cpf']),typeof _0x4f551f[_0x1cfc4a(0x275)]==_0x1cfc4a(0x1e4)&&(_0x1a7b5a[_0x1cfc4a(0x275)]=_0x4f551f['status']),typeof _0x4f551f[_0x1cfc4a(0x6ac)]==_0x1cfc4a(0x1e4)&&(_0x1a7b5a[_0x1cfc4a(0x6ac)]=_0x4f551f[_0x1cfc4a(0x6ac)]),typeof _0x4f551f[_0x1cfc4a(0x4cb)]==_0x1cfc4a(0x1e4)&&(_0x1a7b5a[_0x1cfc4a(0x4cb)]=_0x4f551f[_0x1cfc4a(0x4cb)]),Array[_0x1cfc4a(0x3d6)](_0x4f551f[_0x1cfc4a(0x49a)])&&(_0x1a7b5a[_0x1cfc4a(0x49a)]=_0x4f551f[_0x1cfc4a(0x49a)][_0x1cfc4a(0x34a)](',\x20')),Array[_0x1cfc4a(0x3d6)](_0x4f551f[_0x1cfc4a(0x52a)])&&(_0x1a7b5a[_0x1cfc4a(0x52a)]=_0x4f551f[_0x1cfc4a(0x52a)][_0x1cfc4a(0x34a)](',\x20'));}return _0x257d38&&_0x257d38[_0x1cfc4a(0x412)]&&_0x257d38[_0x1cfc4a(0x412)][_0x1cfc4a(0x5f4)]&&_0x257d38[_0x1cfc4a(0x412)][_0x1cfc4a(0x5f4)][_0x1cfc4a(0x233)](_0x4bd0d0=>{const _0x2a1d29=_0x1cfc4a;let _0x2bcf0f=this[_0x2a1d29(0x4d2)]?.[_0x2a1d29(0x5f4)]['find'](_0x20137b=>_0x20137b['_id']===_0x4bd0d0['_id']);_0x2bcf0f&&(_0x1a7b5a[_0x2bcf0f['name']]=_0x4bd0d0['value']);}),_0x1a7b5a;}async['replaceVariablesChat'](_0x2167fd,_0x283741){const _0x1b779e=a0_0x96c47;try{let _0x349370=await this[_0x1b779e(0x3f1)](_0x283741);return this[_0x1b779e(0x721)](_0x2167fd,_0x349370);}catch(_0x52dced){return this['logger'][_0x1b779e(0xfa)](_0x1b779e(0x282)+_0x283741+':\x20'+_0x52dced),_0x2167fd;}}async[a0_0x96c47(0x297)](_0xe2b8b2){const _0x4848cb=a0_0x96c47;try{if(this['logger']['verbose'](this[_0x4848cb(0x5ec)]+'\x20('+this[_0x4848cb(0x6ba)][_0x4848cb(0x3e5)]+_0x4848cb(0x4bd)),_0xe2b8b2[_0x4848cb(0x494)]&&_0xe2b8b2[_0x4848cb(0x1be)]){if(this[_0x4848cb(0x6ba)][_0x4848cb(0x10b)][_0x4848cb(0x143)]===_0xe2b8b2['_id']['toString']())throw new Error('Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar');let _0x17e1c9=await this[_0x4848cb(0xc4)][_0x4848cb(0x232)][_0x4848cb(0x259)](_0xe2b8b2[_0x4848cb(0x1be)],this[_0x4848cb(0x6ba)][_0x4848cb(0x3e5)]);return setTimeout(()=>this[_0x4848cb(0x328)](),0x7d0),_0x17e1c9;}let _0xf3d605;if(_0xe2b8b2[_0x4848cb(0x1be)]&&(_0xf3d605=await this['repository'][_0x4848cb(0x232)][_0x4848cb(0x1cd)](_0xe2b8b2['_id'],this[_0x4848cb(0x6ba)]['wuid'])),_0xf3d605){let _0x1421a9;if(this[_0x4848cb(0x6ba)][_0x4848cb(0x10b)][_0x4848cb(0x143)]===_0xf3d605[_0x4848cb(0x1be)][_0x4848cb(0x5f2)]())_0x1421a9={'$set':{'status':_0xe2b8b2['status']}};else{let {_id:_0x4c7fca,..._0x2c8368}=_0xe2b8b2;_0x1421a9={'$set':_0x2c8368};}let _0x2773fd=await this[_0x4848cb(0xc4)][_0x4848cb(0x232)]['updateOneById'](_0xe2b8b2[_0x4848cb(0x1be)],_0x1421a9,this[_0x4848cb(0x6ba)][_0x4848cb(0x3e5)]);return setTimeout(()=>this[_0x4848cb(0x328)](),0x7d0),_0x2773fd;}else{_0xe2b8b2[_0x4848cb(0x220)]=this[_0x4848cb(0x6ba)][_0x4848cb(0x3e5)];let _0x4e62e2=await this[_0x4848cb(0xc4)][_0x4848cb(0x232)][_0x4848cb(0x61e)](_0xe2b8b2,this[_0x4848cb(0x6ba)][_0x4848cb(0x3e5)]);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x4e62e2;}}catch(_0x5b2c74){let _0x21ca0f='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message',_0x1aa695=_0x5b2c74 instanceof Error?_0x5b2c74[_0x4848cb(0x416)]:typeof _0x5b2c74=='object'?JSON[_0x4848cb(0x2bf)](_0x5b2c74):_0x5b2c74,_0x2dfc92=_0x21ca0f+':\x20'+_0x1aa695;throw this[_0x4848cb(0x438)]['error'](this[_0x4848cb(0x5ec)]+'\x20('+this[_0x4848cb(0x6ba)][_0x4848cb(0x3e5)]+_0x4848cb(0x1ef)+_0x2dfc92),new m(_0x2dfc92);}}async[a0_0x96c47(0xdb)](){const _0x3e2c50=a0_0x96c47;try{return await this[_0x3e2c50(0xc4)][_0x3e2c50(0x232)]['find']({'where':{}},this[_0x3e2c50(0x6ba)]['wuid']);}catch(_0x1a4f5b){let _0x366605=_0x3e2c50(0x6f4),_0x16c4c6=_0x1a4f5b instanceof Error?_0x1a4f5b['message']:typeof _0x1a4f5b==_0x3e2c50(0x645)?JSON[_0x3e2c50(0x2bf)](_0x1a4f5b):_0x1a4f5b,_0x591bcd=_0x366605+':\x20'+_0x16c4c6;throw this[_0x3e2c50(0x438)][_0x3e2c50(0xfa)](this[_0x3e2c50(0x5ec)]+'\x20('+this['instance'][_0x3e2c50(0x3e5)]+_0x3e2c50(0x1ef)+_0x591bcd),new m(_0x591bcd);}}async[a0_0x96c47(0x1f9)](){const _0x15d6f4=a0_0x96c47;try{let _0xe53c3f={'status':_0x15d6f4(0x136)},_0x542592=await this['repository'][_0x15d6f4(0x232)][_0x15d6f4(0xda)](_0xe53c3f,this[_0x15d6f4(0x6ba)][_0x15d6f4(0x3e5)]);if(!_0x542592[_0x15d6f4(0xfa)])this[_0x15d6f4(0x438)][_0x15d6f4(0x4b8)](this[_0x15d6f4(0x5ec)]+'\x20('+this[_0x15d6f4(0x6ba)][_0x15d6f4(0x3e5)]+_0x15d6f4(0x316));else throw new Error(_0x542592['error'][_0x15d6f4(0x416)]||_0x15d6f4(0x40f));return this['getScheduleMessage']();}catch(_0x42ed68){let _0x3b1805='Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done',_0x5cc236=_0x42ed68 instanceof Error?_0x42ed68['message']:typeof _0x42ed68==_0x15d6f4(0x645)?JSON[_0x15d6f4(0x2bf)](_0x42ed68):_0x42ed68,_0x4c02e6=_0x3b1805+':\x20'+_0x5cc236;throw this['logger'][_0x15d6f4(0xfa)](this[_0x15d6f4(0x5ec)]+'\x20('+this['instance'][_0x15d6f4(0x3e5)]+_0x15d6f4(0x1ef)+_0x4c02e6),new m(_0x4c02e6);}}async[a0_0x96c47(0x6be)](_0x5605a8,_0x10e0bb){const _0x231f14=a0_0x96c47;try{if(_0x10e0bb[_0x231f14(0x43e)]==='flow'&&!this[_0x231f14(0x4d2)]?.[_0x231f14(0x655)]['enabled'])return this[_0x231f14(0x438)]['error'](this[_0x231f14(0x5ec)]+'\x20('+this[_0x231f14(0x6ba)][_0x231f14(0x3e5)]+_0x231f14(0x6cb)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0x10e0bb[_0x231f14(0x43e)]){case _0x231f14(0x68c):return await this[_0x231f14(0x141)](_0x10e0bb,_0x5605a8);case'media':return await this['scheduleSendMedia'](_0x10e0bb,_0x5605a8);case _0x231f14(0x31b):return await this[_0x231f14(0x70e)](_0x10e0bb,_0x5605a8);case _0x231f14(0x201):let _0x339014=new Fe();return _0x339014[_0x231f14(0x11a)]=_0x10e0bb[_0x231f14(0x411)],_0x339014[_0x231f14(0x101)]=_0x5605a8,await this[_0x231f14(0x62b)](_0x339014);break;default:return this[_0x231f14(0x438)][_0x231f14(0xfa)](this[_0x231f14(0x5ec)]+'\x20('+this[_0x231f14(0x6ba)][_0x231f14(0x3e5)]+_0x231f14(0x2bd)+_0x10e0bb[_0x231f14(0x43e)]),{'error':!0x0,'detail':_0x231f14(0xb7)};}}catch(_0x3361b3){return this[_0x231f14(0x438)][_0x231f14(0xfa)](this[_0x231f14(0x5ec)]+'\x20('+this[_0x231f14(0x6ba)][_0x231f14(0x3e5)]+_0x231f14(0x139)+(_0x3361b3 instanceof Error?_0x3361b3[_0x231f14(0x416)]:JSON['stringify'](_0x3361b3,null,0x2))),{'error':!0x0,'detail':_0x3361b3[_0x231f14(0x416)]};}}[a0_0x96c47(0x4df)](_0x20e68a){const _0x5245a7=a0_0x96c47;let _0x1b4626=_0x20e68a['split']('|'),_0x4b0d33=Math[_0x5245a7(0x707)](Math[_0x5245a7(0x1aa)]()*_0x1b4626[_0x5245a7(0x1fc)]);return _0x1b4626[_0x4b0d33][_0x5245a7(0x379)]();}async[a0_0x96c47(0x141)](_0x43bc74,_0x3507ed){const _0x3d902a=a0_0x96c47;if(this[_0x3d902a(0x438)][_0x3d902a(0x4b8)](this[_0x3d902a(0x5ec)]+'\x20('+this[_0x3d902a(0x6ba)]['wuid']+'):\x20Enviando\x20texto'),!_0x43bc74[_0x3d902a(0x416)]['text']||_0x43bc74[_0x3d902a(0x416)]['text'][_0x3d902a(0x1fc)]===0x0)return{'error':!0x0,'detail':_0x3d902a(0x34f)};let _0x990b56=this[_0x3d902a(0x4df)](_0x43bc74[_0x3d902a(0x416)]['text']),_0x3cb5f9=await this[_0x3d902a(0x6d3)](_0x990b56,_0x3507ed),_0x37a3ea={'number':_0x3507ed,'options':{'delay':_0x43bc74[_0x3d902a(0x416)][_0x3d902a(0x293)],'linkPreview':_0x43bc74[_0x3d902a(0x416)]['linkPreview']},'textMessage':{'text':_0x3cb5f9}},_0x3e4bde=null;try{let _0x264d74=await this[_0x3d902a(0x6d6)](_0x37a3ea);if(_0x264d74&&_0x264d74['status'])return{'error':!0x1,'id':_0x264d74[_0x3d902a(0x570)]['id']};_0x3e4bde=JSON[_0x3d902a(0x2bf)](_0x264d74),this[_0x3d902a(0x438)][_0x3d902a(0x4b8)](this[_0x3d902a(0x5ec)]+'\x20('+this[_0x3d902a(0x6ba)][_0x3d902a(0x3e5)]+_0x3d902a(0x1ef)+_0x3e4bde);}catch(_0x295e12){this[_0x3d902a(0x438)][_0x3d902a(0xfa)](this[_0x3d902a(0x5ec)]+'\x20('+this[_0x3d902a(0x6ba)][_0x3d902a(0x3e5)]+_0x3d902a(0x5c1)+(_0x295e12 instanceof Error?_0x295e12['message']:JSON[_0x3d902a(0x2bf)](_0x295e12,null,0x2))),_0x3e4bde=_0x295e12[_0x3d902a(0x416)];}if(_0x3e4bde)return{'error':!0x0,'detail':(typeof _0x3e4bde=='object'?JSON[_0x3d902a(0x2bf)](_0x3e4bde,null,0x2):_0x3e4bde)[_0x3d902a(0x6e2)](/[\[\]{}\n]/g,'\x20')[_0x3d902a(0x6e2)](/  +/g,'\x20')};}async[a0_0x96c47(0x166)](_0x5ab965,_0x597a21){const _0x29f2da=a0_0x96c47;this[_0x29f2da(0x438)]['verbose'](this[_0x29f2da(0x5ec)]+'\x20('+this[_0x29f2da(0x6ba)]['wuid']+_0x29f2da(0x4c3));let _0x4e578d;if(_0x5ab965['message']['text']&&_0x5ab965['message'][_0x29f2da(0x68c)][_0x29f2da(0x1fc)]>0x0){let _0x5b1e08=this[_0x29f2da(0x4df)](_0x5ab965[_0x29f2da(0x416)]['text']);_0x4e578d=await this[_0x29f2da(0x6d3)](_0x5b1e08,_0x597a21);}let _0x85cf94={'number':_0x597a21,'options':{'delay':_0x5ab965[_0x29f2da(0x416)][_0x29f2da(0x293)],'linkPreview':_0x5ab965[_0x29f2da(0x416)][_0x29f2da(0x681)]},'mediaMessage':{'mediatype':_0x5ab965[_0x29f2da(0x416)][_0x29f2da(0x249)],'caption':_0x4e578d,'media':_0x5ab965[_0x29f2da(0x416)][_0x29f2da(0x4fc)]}},_0xc510ec=null;try{let _0x155547=await this[_0x29f2da(0x332)](_0x85cf94);if(_0x155547&&_0x155547[_0x29f2da(0x275)])return{'error':!0x1,'id':_0x155547['key']['id']};_0xc510ec=JSON[_0x29f2da(0x2bf)](_0x155547),this['logger'][_0x29f2da(0x4b8)](this['instanceName']+'\x20('+this['instance'][_0x29f2da(0x3e5)]+'):\x20'+_0xc510ec);}catch(_0xbd5173){this[_0x29f2da(0x438)]['error'](this['instanceName']+'\x20('+this[_0x29f2da(0x6ba)][_0x29f2da(0x3e5)]+_0x29f2da(0x728)+(_0xbd5173 instanceof Error?_0xbd5173[_0x29f2da(0x416)]:JSON[_0x29f2da(0x2bf)](_0xbd5173,null,0x2))),_0xc510ec=_0xbd5173['message'];}if(_0xc510ec)return{'error':!0x0,'detail':(typeof _0xc510ec==_0x29f2da(0x645)?JSON[_0x29f2da(0x2bf)](_0xc510ec,null,0x2):_0xc510ec)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x96c47(0x70e)](_0x3fab56,_0x1b389c){const _0x3ef22f=a0_0x96c47;this['logger'][_0x3ef22f(0x4b8)](this[_0x3ef22f(0x5ec)]+'\x20('+this[_0x3ef22f(0x6ba)]['wuid']+_0x3ef22f(0x4f0));let _0x29672d={'number':_0x1b389c,'options':{'delay':_0x3fab56[_0x3ef22f(0x416)][_0x3ef22f(0x293)]},'audioMessage':{'audio':_0x3fab56[_0x3ef22f(0x416)][_0x3ef22f(0x4fc)]}},_0x2d0227=null;try{let _0x5049d9=await this[_0x3ef22f(0x5f5)](_0x29672d);if(_0x5049d9&&_0x5049d9[_0x3ef22f(0x275)])return{'error':!0x1,'id':_0x5049d9['key']['id']};_0x2d0227=JSON[_0x3ef22f(0x2bf)](_0x5049d9),this[_0x3ef22f(0x438)][_0x3ef22f(0x4b8)](this[_0x3ef22f(0x5ec)]+'\x20('+this[_0x3ef22f(0x6ba)]['wuid']+_0x3ef22f(0x1ef)+_0x2d0227);}catch(_0x31f365){this[_0x3ef22f(0x438)][_0x3ef22f(0xfa)](this['instanceName']+'\x20('+this[_0x3ef22f(0x6ba)][_0x3ef22f(0x3e5)]+_0x3ef22f(0x727)+(_0x31f365 instanceof Error?_0x31f365['message']:JSON[_0x3ef22f(0x2bf)](_0x31f365,null,0x2))),_0x2d0227=_0x31f365['message'];}if(_0x2d0227)return{'error':!0x0,'detail':(typeof _0x2d0227==_0x3ef22f(0x645)?JSON[_0x3ef22f(0x2bf)](_0x2d0227,null,0x2):_0x2d0227)['replace'](/[\[\]{}\n]/g,'\x20')[_0x3ef22f(0x6e2)](/  +/g,'\x20')};}async['groupDesc'](_0x41b258){const _0xe27f21=a0_0x96c47;try{return await this['client'][_0xe27f21(0x6c8)](_0x41b258[_0xe27f21(0x38c)],_0x41b258[_0xe27f21(0x5cc)]),{'update':_0xe27f21(0x508)};}catch(_0x266bc1){let _0x45c5d1=_0xe27f21(0x59a),_0x101b1a=_0x266bc1 instanceof Error?_0x266bc1['message']:typeof _0x266bc1==_0xe27f21(0x645)?JSON[_0xe27f21(0x2bf)](_0x266bc1):_0x266bc1,_0xa600db=_0x45c5d1+':\x20'+_0x101b1a;throw this['logger'][_0xe27f21(0xfa)](this['instanceName']+'\x20('+this[_0xe27f21(0x6ba)]['wuid']+_0xe27f21(0x1ef)+_0xa600db),new I(_0xa600db);}}async[a0_0x96c47(0x6e8)](_0x5548ea){const _0x8bfe49=a0_0x96c47;try{return await this['client'][_0x8bfe49(0x751)](_0x5548ea[_0x8bfe49(0x38c)],_0x5548ea[_0x8bfe49(0x11a)]),{'update':_0x8bfe49(0x508)};}catch(_0x27fc31){let _0x433dcb='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName',_0x4de519=_0x27fc31 instanceof Error?_0x27fc31[_0x8bfe49(0x416)]:typeof _0x27fc31==_0x8bfe49(0x645)?JSON[_0x8bfe49(0x2bf)](_0x27fc31):_0x27fc31,_0xc0688e=_0x433dcb+':\x20'+_0x4de519;throw this[_0x8bfe49(0x438)][_0x8bfe49(0xfa)](this['instanceName']+'\x20('+this[_0x8bfe49(0x6ba)][_0x8bfe49(0x3e5)]+_0x8bfe49(0x1ef)+_0xc0688e),new I(_0xc0688e);}}async['toggleEphemeral'](_0x445977){const _0x156517=a0_0x96c47;try{let _0x13da19=await this[_0x156517(0x10d)][_0x156517(0x702)](_0x445977[_0x156517(0x38c)],_0x445977[_0x156517(0x6c9)]);return{'success':!0x0};}catch(_0x352fd1){let _0x12463e='Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral',_0x377167=_0x352fd1 instanceof Error?_0x352fd1[_0x156517(0x416)]:typeof _0x352fd1=='object'?JSON[_0x156517(0x2bf)](_0x352fd1):_0x352fd1,_0x7643ec=_0x12463e+':\x20'+_0x377167;throw this[_0x156517(0x438)]['error'](this['instanceName']+'\x20('+this['instance'][_0x156517(0x3e5)]+_0x156517(0x1ef)+_0x7643ec),new I(_0x7643ec);}}async[a0_0x96c47(0x331)](_0x463c2f){const _0x3be8c1=a0_0x96c47;try{return await this[_0x3be8c1(0x10d)][_0x3be8c1(0x4ae)](_0x463c2f[_0x3be8c1(0x38c)],_0x463c2f[_0x3be8c1(0x21a)]),{'update':_0x3be8c1(0x508)};}catch(_0x3af432){let _0x10f79d='Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting',_0x10831f=_0x3af432 instanceof Error?_0x3af432['message']:typeof _0x3af432==_0x3be8c1(0x645)?JSON[_0x3be8c1(0x2bf)](_0x3af432):_0x3af432,_0x4e94ad=_0x10f79d+':\x20'+_0x10831f;throw this[_0x3be8c1(0x438)]['error'](this[_0x3be8c1(0x5ec)]+'\x20('+this[_0x3be8c1(0x6ba)][_0x3be8c1(0x3e5)]+_0x3be8c1(0x1ef)+_0x4e94ad),new I(_0x4e94ad);}}},Jt=class c{constructor(_0x39f0df,_0x1771a2,_0x14d719){const _0xb9c82e=a0_0x96c47;this['eventEmitter']=_0x39f0df,this[_0xb9c82e(0x184)]=_0x1771a2,this[_0xb9c82e(0xc4)]=_0x14d719,this['db']={},this[_0xb9c82e(0x61a)]={},this[_0xb9c82e(0x438)]=new R(c[_0xb9c82e(0x11a)]),this['waInstances']={},(this[_0xb9c82e(0x6a6)](),this['noConnection'](),Object[_0xb9c82e(0x480)](this['db'],_0x1771a2[_0xb9c82e(0x763)](_0xb9c82e(0x337))),Object['assign'](this[_0xb9c82e(0x61a)],_0x1771a2[_0xb9c82e(0x763)](_0xb9c82e(0x299))),this['dbInstance']=this['db'][_0xb9c82e(0x330)]?this[_0xb9c82e(0xc4)]['dbServer']?.['db'](this['db'][_0xb9c82e(0x59c)][_0xb9c82e(0xe2)]+'-instances'):void 0x0,this[_0xb9c82e(0x6f3)]=this[_0xb9c82e(0x61a)]['ENABLED']?new le(this['redis']):void 0x0);}async[a0_0x96c47(0x214)](_0x13c41c){const _0x12a35e=a0_0x96c47;if(_0x13c41c&&!this[_0x12a35e(0x1ce)][_0x13c41c])throw new J(_0x12a35e(0x421)+_0x13c41c+'\x22\x20not\x20found');let _0x4ee0f7=[];for await(let [_0x3c872a,_0x315dcc]of Object[_0x12a35e(0x744)](this['waInstances']))if(_0x315dcc&&_0x315dcc['connectionStatus'][_0x12a35e(0x159)]===_0x12a35e(0x14f)){let _0x47f4c5=await this[_0x12a35e(0xc4)][_0x12a35e(0x375)]['find'](_0x3c872a);_0x4ee0f7[_0x12a35e(0xc0)]({'instance':{'instanceName':_0x3c872a,'apikey':_0x47f4c5[_0x12a35e(0x388)],'owner':_0x315dcc[_0x12a35e(0x3e5)],'profileName':await _0x315dcc[_0x12a35e(0x5dc)]()||_0x12a35e(0x711),'profilePictureUrl':_0x315dcc[_0x12a35e(0x3dc)]}});}return _0x4ee0f7['find'](_0x10b2aa=>_0x10b2aa['instance']['instanceName']===_0x13c41c)??_0x4ee0f7;}async[a0_0x96c47(0x5db)](_0x1c2e75){const _0x5b5b8a=a0_0x96c47;if(this['db'][_0x5b5b8a(0x330)]&&(await this['repository']['dbServer'][_0x5b5b8a(0x691)](),(await this['dbInstance'][_0x5b5b8a(0x2c5)]())[_0x5b5b8a(0x1fc)]>0x0&&await this[_0x5b5b8a(0x666)][_0x5b5b8a(0x41f)](_0x1c2e75)),this[_0x5b5b8a(0x61a)][_0x5b5b8a(0x330)]){this[_0x5b5b8a(0x6f3)][_0x5b5b8a(0x124)]=_0x1c2e75,await this['cache'][_0x5b5b8a(0x31a)]();return;}}async[a0_0x96c47(0x192)](){const _0x38602f=a0_0x96c47;await this[_0x38602f(0x6f1)]();let _0x2b8f23=async _0x343820=>{const _0x400d00=_0x38602f;let _0x175491=new Me(this[_0x400d00(0x184)],this[_0x400d00(0x31e)],this['repository']);_0x175491['instanceName']=_0x343820,await _0x175491[_0x400d00(0x23b)](),this[_0x400d00(0x1ce)][_0x343820]=_0x175491;};try{if(this[_0x38602f(0x61a)][_0x38602f(0x330)]){let _0x33b21f=await this['cache'][_0x38602f(0x607)]();_0x33b21f?.[_0x38602f(0x1fc)]>0x0&&_0x33b21f[_0x38602f(0x233)](async _0x55d58f=>await _0x2b8f23(_0x55d58f['split'](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x38602f(0xc4)]['dbServer'][_0x38602f(0x691)]();let _0x39efa8=await this['dbInstance'][_0x38602f(0x2c5)]();_0x39efa8['length']>0x0&&_0x39efa8[_0x38602f(0x233)](async _0x52f130=>await _0x2b8f23(_0x52f130[_0x38602f(0x151)][_0x38602f(0x6e2)](/^[\w-]+\./,'')));return;}}catch(_0x39efc9){this[_0x38602f(0x438)][_0x38602f(0xfa)](_0x39efc9);}}async[a0_0x96c47(0x20f)](){const _0x4000ca=a0_0x96c47;let _0x58a7c7=await this['repository'][_0x4000ca(0x375)]['findAll'](),_0x263bdc=_0x58a7c7['filter'](_0x5b160c=>!this[_0x4000ca(0x1ce)][_0x5b160c['_id']]&&(_0x5b160c[_0x4000ca(0x1df)]||typeof _0x5b160c[_0x4000ca(0x1df)]>'u'));_0x263bdc[_0x4000ca(0x1fc)]>0x0&&await Promise['all'](_0x263bdc[_0x4000ca(0x504)](async _0x4b6373=>{const _0x23d546=_0x4000ca;let _0x3e3166={'online':!0x1,'lastDisconnect':Date[_0x23d546(0x35c)]()};await this[_0x23d546(0xc4)]['auth'][_0x23d546(0x55c)](_0x3e3166,_0x4b6373[_0x23d546(0x1be)]);}));let _0x3b685c=Date[_0x4000ca(0x35c)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x1b8b6b=_0x58a7c7[_0x4000ca(0x2bc)](_0x1f6dd4=>!this[_0x4000ca(0x1ce)][_0x1f6dd4[_0x4000ca(0x1be)]]&&typeof _0x1f6dd4[_0x4000ca(0x510)]<'u'&&_0x1f6dd4['lastDisconnect']<_0x3b685c);_0x1b8b6b[_0x4000ca(0x1fc)]>0x0&&await Promise[_0x4000ca(0x710)](_0x1b8b6b[_0x4000ca(0x504)](async _0x357c3a=>{}));}async[a0_0x96c47(0x6f1)](){const _0xa5e6ab=a0_0x96c47;try{let _0x8817e3={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x78e19={'online':!0x1,'lastDisconnect':Date['now']()},_0x4b189c=await this[_0xa5e6ab(0xc4)]['auth']['updateAll'](_0x8817e3,_0x78e19);console[_0xa5e6ab(0x2cf)]('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0x4b189c[_0xa5e6ab(0x549)]),await this[_0xa5e6ab(0x512)]();}catch(_0x2a3fad){console[_0xa5e6ab(0xfa)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x2a3fad);}}async[a0_0x96c47(0x512)](){const _0x42f144=a0_0x96c47;try{let _0x4c7a91={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x4b0143=await this['repository'][_0x42f144(0x375)][_0x42f144(0xda)](_0x4c7a91);console['log'](_0x42f144(0x22d)+_0x4b0143['insertCount']);}catch(_0x4b995d){console[_0x42f144(0xfa)](_0x42f144(0x2a7),_0x4b995d);}}[a0_0x96c47(0x6a6)](){const _0x27821e=a0_0x96c47;this[_0x27821e(0x31e)]['on'](_0x27821e(0x2fb),async _0x3c76ea=>{const _0xec532f=_0x27821e;try{this[_0xec532f(0x1ce)][_0x3c76ea]=void 0x0;}catch{}try{this[_0xec532f(0x5db)](_0x3c76ea);}finally{this[_0xec532f(0x438)]['warn'](_0xec532f(0x421)+_0x3c76ea+_0xec532f(0x3e9));}});}[a0_0x96c47(0x327)](){const _0x41c5eb=a0_0x96c47;this[_0x41c5eb(0x31e)]['on'](_0x41c5eb(0x46d),async _0x432134=>{const _0x2a9504=_0x41c5eb;try{this[_0x2a9504(0x1ce)][_0x432134]=void 0x0;}catch{}try{this[_0x2a9504(0x5db)](_0x432134);}finally{this[_0x2a9504(0x438)][_0x2a9504(0x284)](_0x2a9504(0x421)+_0x432134+_0x2a9504(0x71c));}});}},qt=class extends x{[a0_0x96c47(0x4fd)](_0x416ca2){return Ks(_0x416ca2);}async[a0_0x96c47(0x1da)](_0x38222c){const _0x31cf7f=a0_0x96c47;if(_0x38222c['length']!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x38222c[0x0][_0x31cf7f(0x220)])[_0x31cf7f(0x4cf)]([..._0x38222c]))['length']};}catch(_0x1310f8){return _0x1310f8;}}async[a0_0x96c47(0xd4)](_0x2ed59f,_0x100cba){const _0x205c41=a0_0x96c47;try{let _0x2c3924=this[_0x205c41(0x4fd)](_0x100cba),_0x2cd24e=$(_0x2ed59f[_0x205c41(0x5b6)]);return await _0x2c3924['find'](_0x2cd24e)['sort']({'lastmsg':-0x1})[_0x205c41(0x71b)](_0x2ed59f?.[_0x205c41(0x71b)]??0x0)['lean']();}catch{return[];}}async[a0_0x96c47(0x494)](_0x3dc24c,_0x4491ca){const _0xfba317=a0_0x96c47;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x4491ca)[_0xfba317(0xda)]({..._0x3dc24c[_0xfba317(0x5b6)]}))[_0xfba317(0x360)]};}catch(_0x145e08){return{'error':_0x145e08?.['toString']()};}}async['deleteAll'](_0x8881,_0x1fa8ce){const _0x2a77d1=a0_0x96c47;try{return await this[_0x2a77d1(0x4fd)](_0x1fa8ce)['deleteMany']({..._0x8881[_0x2a77d1(0x5b6)]}),[];}catch(_0x4adc5b){return{'error':_0x4adc5b?.[_0x2a77d1(0x5f2)]()};}}async[a0_0x96c47(0x732)](_0x3b9685,_0x2e53d2){const _0xa18df=a0_0x96c47;try{let _0x211fe5=this['getChatModelForOwner'](_0x2e53d2),_0x38032b=$(_0x3b9685['where']);return await _0x211fe5[_0xa18df(0x732)](_0x38032b)[_0xa18df(0x74a)]();}catch{return null;}}async[a0_0x96c47(0x481)](_0x291def,_0x464e4b,_0x5e979e,_0x5af3fb,_0x5dc785=a0_0x96c47(0x2be)){const _0x25eca3=a0_0x96c47;try{let _0x1c7bbc={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5af3fb},_0x1a2c78=this[_0x25eca3(0x4fd)](_0x5e979e),_0x327c9a=$(_0x291def[_0x25eca3(0x5b6)]);Object[_0x25eca3(0x6af)](_0x464e4b)[_0x25eca3(0x233)](_0x5081fb=>{_0x464e4b[_0x5081fb]==null&&delete _0x464e4b[_0x5081fb];});let _0xa6c9f9={};return _0xa6c9f9[_0x5dc785]=_0x464e4b,await _0x1a2c78[_0x25eca3(0x4cd)](_0x327c9a,_0xa6c9f9,_0x1c7bbc);}catch(_0x5e51ec){return console[_0x25eca3(0xfa)](_0x5e51ec),null;}}async[a0_0x96c47(0x562)](_0x3ac12d){const _0x4fc272=a0_0x96c47;try{let _0x4d7d2d=this[_0x4fc272(0x4fd)](_0x3ac12d[0x0][_0x4fc272(0x628)][_0x4fc272(0x5b6)][_0x4fc272(0x220)]),_0x576e82=_0x3ac12d[_0x4fc272(0x504)](_0x51c949=>({'updateOne':{'filter':{..._0x51c949['query']['where']},'update':{'$set':_0x51c949[_0x4fc272(0x490)]},'upsert':!0x0}})),_0x48fd9c=await _0x4d7d2d[_0x4fc272(0x80)](_0x576e82);return _0x48fd9c[_0x4fc272(0x30c)]+_0x48fd9c[_0x4fc272(0x389)];}catch(_0x5f3594){return console['error'](_0x5f3594),0x0;}}async[a0_0x96c47(0xd6)](_0x153b0a){const _0x53c2b7=a0_0x96c47;try{let _0x18229c={'group_isCommunity':'','group_announce':'','group_size':''},_0x2c12c9={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x406d3d={'$unset':_0x18229c};return(await this['getChatModelForOwner'](_0x153b0a)[_0x53c2b7(0x562)](_0x2c12c9,_0x406d3d))['modifiedCount'];}catch(_0x35eaa7){return console[_0x53c2b7(0xfa)]('Error\x20removing\x20unused\x20chat\x20fields:',_0x35eaa7),0x0;}}async['updateMissingEtiquetas'](_0x19b301){const _0x351bfc=a0_0x96c47;try{let _0x58fe41=this[_0x351bfc(0x4fd)](_0x19b301),_0x3e0c53={'leadInfo.etiquetas':{'$exists':!0x1}},_0x2e4740={'$set':{'leadInfo.etiquetas':[]}};return(await _0x58fe41['updateMany'](_0x3e0c53,_0x2e4740))[_0x351bfc(0x30c)];}catch(_0x3ea148){return console['error'](_0x3ea148),0x0;}}async[a0_0x96c47(0x67d)](_0x1060b2){const _0x295c59=a0_0x96c47;try{let _0x50c1a1=this[_0x295c59(0x4fd)](_0x1060b2),_0x4ba5ec={'leadInfo.tags':{'$exists':!0x1}},_0x21cfae={'$set':{'leadInfo.tags':[]}};return(await _0x50c1a1['updateMany'](_0x4ba5ec,_0x21cfae))[_0x295c59(0x30c)];}catch(_0x368630){return console[_0x295c59(0xfa)](_0x368630),0x0;}}async[a0_0x96c47(0x422)](_0x3ea863){const _0x48788d=a0_0x96c47;try{let _0x464f6c=this[_0x48788d(0x4fd)](_0x3ea863),_0x525b56={'leadInfo.customFields':{'$exists':!0x1}},_0x58e936={'$set':{'leadInfo.customFields':[]}};return(await _0x464f6c[_0x48788d(0x562)](_0x525b56,_0x58e936))[_0x48788d(0x30c)];}catch(_0x3d686f){return console[_0x48788d(0xfa)](_0x3d686f),0x0;}}async[a0_0x96c47(0x4cf)](_0x31dcb3,_0x5e42b6){const _0x23a966=a0_0x96c47;if(!Array[_0x23a966(0x3d6)](_0x31dcb3)||_0x31dcb3[_0x23a966(0x1fc)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this[_0x23a966(0x4fd)](_0x5e42b6)[_0x23a966(0x4cf)](_0x31dcb3))[_0x23a966(0x1fc)];}catch(_0x128697){throw console[_0x23a966(0xfa)]('Erro\x20ao\x20inserir\x20chats:',_0x128697),_0x128697;}}async[a0_0x96c47(0x588)](_0x759fe6,_0xbbaa25){const _0x5b85b1=a0_0x96c47;try{await this[_0x5b85b1(0x4fd)](_0xbbaa25)[_0x5b85b1(0x259)]({'_id':_0x759fe6});}catch(_0x2ea1d9){throw console['error'](_0x5b85b1(0x12f),_0x2ea1d9),_0x2ea1d9;}}},Vt=class extends x{constructor(_0x392f4a,_0x2ce905,_0x4180c3){const _0x4607bc=a0_0x96c47;super(_0x2ce905),this[_0x4607bc(0x22a)]=_0x392f4a,this[_0x4607bc(0x184)]=_0x2ce905,this[_0x4607bc(0x2ed)]=_0x4180c3;}async[a0_0x96c47(0x1da)](_0x11d56f){const _0x163155=a0_0x96c47;if(_0x11d56f[_0x163155(0x1fc)]!==0x0)try{return{'insertCount':(await this[_0x163155(0x22a)][_0x163155(0x4cf)]([..._0x11d56f]))['length']};}catch(_0x151bba){return _0x151bba;}}async[a0_0x96c47(0x490)](_0x1b30fb,_0x5c3a07){const _0x27f8a8=a0_0x96c47;try{let _0x543ecf=$(_0x1b30fb[_0x27f8a8(0x5b6)]);return{'updatedCount':(await this['cacheContactModel'][_0x27f8a8(0x562)](_0x543ecf,{'$set':_0x5c3a07}))[_0x27f8a8(0x30c)]};}catch(_0x173dd4){return console[_0x27f8a8(0xfa)](_0x27f8a8(0x3ac),_0x173dd4),{'error':_0x173dd4['toString']()};}}async['findManyByIds'](_0x59d5c2){const _0x374407=a0_0x96c47;try{let _0x44e70f={'_id':{'$in':_0x59d5c2}};return await this[_0x374407(0x22a)][_0x374407(0xd4)](_0x44e70f)[_0x374407(0x74a)]();}catch(_0x3b5b6f){return console[_0x374407(0xfa)](_0x374407(0x704),_0x3b5b6f),[];}}async[a0_0x96c47(0x494)](_0x2d1af0){const _0x4d91f4=a0_0x96c47;try{return{'deletedCount':(await this['cacheContactModel']['deleteMany']({..._0x2d1af0[_0x4d91f4(0x5b6)]}))[_0x4d91f4(0x360)]};}catch(_0x363e13){return{'error':_0x363e13?.[_0x4d91f4(0x5f2)]()};}}async['find'](_0x1f64be){const _0x2eeedd=a0_0x96c47;try{let _0x410c0b=$(_0x1f64be['where']);return await this[_0x2eeedd(0x22a)]['find'](_0x410c0b)[_0x2eeedd(0x71b)](_0x1f64be?.[_0x2eeedd(0x71b)]??0x0)['lean']();}catch{return[];}}async['findOne'](_0x57fff7){const _0x1e71c5=a0_0x96c47;try{let _0x2e2e01=$(_0x57fff7[_0x1e71c5(0x5b6)]);return await this[_0x1e71c5(0x22a)]['findOne'](_0x2e2e01)[_0x1e71c5(0x74a)]();}catch{return null;}}},Gt=class extends x{[a0_0x96c47(0x6df)](_0x5b78c0){return fa(_0x5b78c0);}async[a0_0x96c47(0x481)](_0x3c32e3,_0x4c09dd,_0x4e3cd6,_0x2cd25e){const _0x113c18=a0_0x96c47;try{let _0x2b8b96={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x2cd25e},_0x2e6f2c=this['getLabelModelForOwner'](_0x4e3cd6),_0x327cd8=$(_0x3c32e3[_0x113c18(0x5b6)]);return await _0x2e6f2c[_0x113c18(0x4cd)](_0x327cd8,{'$set':_0x4c09dd},_0x2b8b96);}catch(_0x2d40cc){return console['error'](_0x2d40cc),null;}}async['find'](_0xdb9a9e,_0xab4ce6){const _0x4c851e=a0_0x96c47;try{let _0x5ae119=this[_0x4c851e(0x6df)](_0xab4ce6),_0x22611a=$(_0xdb9a9e['where']);return await _0x5ae119[_0x4c851e(0xd4)](_0x22611a);}catch(_0x3cfdcc){console[_0x4c851e(0xfa)](_0x3cfdcc);}}async[a0_0x96c47(0x494)](_0x1e26b8,_0x4607d1){const _0x5dbd94=a0_0x96c47;try{let _0xa3dc9a=this[_0x5dbd94(0x6df)](_0x4607d1),_0x3eb4c3=$(_0x1e26b8[_0x5dbd94(0x5b6)]);await _0xa3dc9a[_0x5dbd94(0xda)](_0x3eb4c3);}catch(_0x12d930){console[_0x5dbd94(0xfa)](_0x12d930);}}async[a0_0x96c47(0x2ea)](_0x36c0f0){const _0x19ca59=a0_0x96c47;try{return await this[_0x19ca59(0x6df)](_0x36c0f0)[_0x19ca59(0x59d)][_0x19ca59(0x5ce)](),{'success':!0x0};}catch(_0x34e8fe){return console['error'](_0x34e8fe),{'success':!0x1,'error':_0x34e8fe};}}},Bt=class{constructor(_0x5bcd08){const _0xd3af9a=a0_0x96c47;this[_0xd3af9a(0x433)]=_0x5bcd08;}async['editChat']({instanceName:_0xf33a8d},_0x51e0b8){const _0x2e9178=a0_0x96c47;return await this[_0x2e9178(0x433)]['waInstances'][_0xf33a8d][_0x2e9178(0x30a)](_0x51e0b8);}async[a0_0x96c47(0x597)]({instanceName:_0x4fd282},_0xcd15c4){const _0x509ad6=a0_0x96c47;return await this[_0x509ad6(0x433)][_0x509ad6(0x1ce)][_0x4fd282][_0x509ad6(0x597)](_0xcd15c4);}async[a0_0x96c47(0x50f)]({instanceName:_0x5e5f16},_0x2ae812){const _0x3c6d1d=a0_0x96c47;return await this[_0x3c6d1d(0x433)][_0x3c6d1d(0x1ce)][_0x5e5f16][_0x3c6d1d(0x50f)](_0x2ae812);}async[a0_0x96c47(0x5b2)]({instanceName:_0x54ba22},_0x495a8f){const _0x57b895=a0_0x96c47;return await this[_0x57b895(0x433)][_0x57b895(0x1ce)][_0x54ba22]['markMessageAsRead'](_0x495a8f);}async['archiveChat']({instanceName:_0x244224},_0x3a8d28){const _0x24a1db=a0_0x96c47;return await this[_0x24a1db(0x433)][_0x24a1db(0x1ce)][_0x244224][_0x24a1db(0x735)](_0x3a8d28);}async['deleteMessage']({instanceName:_0x33531b},_0x5e2a8b){const _0x1d5b23=a0_0x96c47;return await this['waMonitor'][_0x1d5b23(0x1ce)][_0x33531b]['deleteMessage'](_0x5e2a8b);}async['fetchProfilePicture']({instanceName:_0x20b70e},_0x43278e){const _0x226a2f=a0_0x96c47;return await this[_0x226a2f(0x433)][_0x226a2f(0x1ce)][_0x20b70e]['profilePicture'](_0x43278e['number']);}async[a0_0x96c47(0x3ba)]({instanceName:_0x252389},_0x9e0d09){const _0x41336c=a0_0x96c47;return await this[_0x41336c(0x433)]['waInstances'][_0x252389][_0x41336c(0x3ba)](_0x9e0d09[_0x41336c(0x483)]);}async[a0_0x96c47(0x352)]({instanceName:_0x87ff8c},_0x2001f3){const _0x41c1be=a0_0x96c47;return await this[_0x41c1be(0x433)][_0x41c1be(0x1ce)][_0x87ff8c]['updatePresence'](_0x2001f3);}async['fetchContacts']({instanceName:_0x1c4307},_0x149a12){const _0x4f48f2=a0_0x96c47;return await this[_0x4f48f2(0x433)]['waInstances'][_0x1c4307][_0x4f48f2(0x51a)](_0x149a12);}async[a0_0x96c47(0x48e)]({instanceName:_0x319ce1},_0x331fe7){const _0x2bfd72=a0_0x96c47;return await this[_0x2bfd72(0x433)][_0x2bfd72(0x1ce)][_0x319ce1]['getBase64FromMediaMessage'](_0x331fe7);}async['fetchMessages']({instanceName:_0x59e6be},_0x541838){const _0x153a6e=a0_0x96c47;return await this[_0x153a6e(0x433)]['waInstances'][_0x59e6be][_0x153a6e(0x9c)](_0x541838);}async[a0_0x96c47(0x44b)]({instanceName:_0x487a63}){const _0x47e027=a0_0x96c47;return await this['waMonitor'][_0x47e027(0x1ce)][_0x487a63][_0x47e027(0x44b)]();}async['fetchChats']({instanceName:_0x19a763}){const _0x49b01a=a0_0x96c47;return await this[_0x49b01a(0x433)][_0x49b01a(0x1ce)][_0x19a763][_0x49b01a(0x7e)]();}async[a0_0x96c47(0x518)]({instanceName:_0x454240}){const _0x4345f5=a0_0x96c47;return await this[_0x4345f5(0x433)][_0x4345f5(0x1ce)][_0x454240][_0x4345f5(0x518)]();}async[a0_0x96c47(0x435)]({instanceName:_0x6723b5},_0x100fac){const _0x284536=a0_0x96c47;return await this[_0x284536(0x433)][_0x284536(0x1ce)][_0x6723b5][_0x284536(0x435)](_0x100fac);}async[a0_0x96c47(0x213)]({instanceName:_0x1de162},_0x490754){const _0x44db96=a0_0x96c47;return await this[_0x44db96(0x433)][_0x44db96(0x1ce)][_0x1de162][_0x44db96(0x213)](_0x490754['number']);}async[a0_0x96c47(0xd7)]({instanceName:_0x2f55c3},_0x2d0cfb){const _0x54e892=a0_0x96c47;return await this[_0x54e892(0x433)][_0x54e892(0x1ce)][_0x2f55c3][_0x54e892(0xd7)](_0x2d0cfb[_0x54e892(0x11a)]);}async['updateProfileStatus']({instanceName:_0xd794ef},_0x257081){const _0x35ba9d=a0_0x96c47;return await this[_0x35ba9d(0x433)][_0x35ba9d(0x1ce)][_0xd794ef][_0x35ba9d(0x746)](_0x257081[_0x35ba9d(0x275)]);}async['updateProfilePicture']({instanceName:_0x1945cc},_0x3e555e){const _0x3050f0=a0_0x96c47;return await this['waMonitor'][_0x3050f0(0x1ce)][_0x1945cc][_0x3050f0(0x4f7)](_0x3e555e['picture']);}async[a0_0x96c47(0x3e1)]({instanceName:_0x244138},_0x4bf9c9){const _0x2d1e88=a0_0x96c47;return await this[_0x2d1e88(0x433)][_0x2d1e88(0x1ce)][_0x244138][_0x2d1e88(0x3e1)]();}},Ds=require(a0_0x96c47(0x32d)),Wt=class c{constructor(_0x5670f6,_0x30047a,_0x4dc9e9,_0xcb8dba,_0x224cf8){const _0x181c06=a0_0x96c47;this[_0x181c06(0x433)]=_0x5670f6,this[_0x181c06(0x184)]=_0x30047a,this[_0x181c06(0xc4)]=_0x4dc9e9,this[_0x181c06(0x31e)]=_0xcb8dba,this['authService']=_0x224cf8,this['logger']=new R(c[_0x181c06(0x11a)]);}async[a0_0x96c47(0x46e)]({instanceName:_0x33c21b,apikey:_0x518466,number:_0xae6499,proxy:_0x4c430f=!0x0}){const _0x3b5809=a0_0x96c47;try{let _0x15455b=new Me(this[_0x3b5809(0x184)],this[_0x3b5809(0x31e)],this[_0x3b5809(0xc4)]);_0x15455b[_0x3b5809(0x5ec)]=_0x33c21b,this[_0x3b5809(0x433)]['waInstances'][_0x15455b[_0x3b5809(0x5ec)]]=_0x15455b;let _0x5b74b0={};_0x518466?(await this[_0x3b5809(0xc4)][_0x3b5809(0x375)][_0x3b5809(0x55c)]({'apikey':_0x518466},_0x33c21b),_0x5b74b0[_0x3b5809(0x388)]=_0x518466):_0x5b74b0=await this[_0x3b5809(0x5c2)][_0x3b5809(0x247)]({'instanceName':_0x15455b[_0x3b5809(0x5ec)]});let _0x4518c7;if(_0xae6499){if(_0x4518c7=await this[_0x3b5809(0x581)](_0xae6499),_0x4518c7[_0x3b5809(0xfa)])throw new I(_0x4518c7['error']['toString']());_0xae6499=_0x4518c7[_0x3b5809(0x483)];}let _0x298fff;return await _0x15455b[_0x3b5809(0x23b)](_0xae6499),await(0x0,Ds[_0x3b5809(0x293)])(0x7d0),_0x298fff=_0x15455b[_0x3b5809(0xf2)],{'instance':{'instanceName':_0x15455b[_0x3b5809(0x5ec)],'status':'created'},'hash':_0x5b74b0,'qrcode':_0x298fff};}catch(_0x7b028b){throw this['logger'][_0x3b5809(0xfa)](_0x7b028b),_0x7b028b;}}async['connectToWhatsappController']({instanceName:_0x55be88,number:_0x2e9e55=null}){const _0x3b7886=a0_0x96c47;try{let _0x283962=this['waMonitor'][_0x3b7886(0x1ce)][_0x55be88];switch(_0x283962?.[_0x3b7886(0x3de)]?.['state']){case _0x3b7886(0x30e):return await _0x283962[_0x3b7886(0x23b)](_0x2e9e55),await(0x0,Ds['delay'])(0x7d0),_0x283962['qrCode'];case'connecting':return _0x283962[_0x3b7886(0xf2)];default:return await this[_0x3b7886(0x4d0)]({'instanceName':_0x55be88});}}catch(_0xf64603){this[_0x3b7886(0x438)][_0x3b7886(0x2cf)](_0xf64603);}}async['connectionState']({instanceName:_0x1f9454}){const _0xbf1f65=a0_0x96c47;let _0x5da6ec=this[_0xbf1f65(0x433)]['waInstances'][_0x1f9454][_0xbf1f65(0x3de)],_0x3ebb4c=null;_0x5da6ec[_0xbf1f65(0x159)]===_0xbf1f65(0x14f)&&_0x1f9454&&(_0x3ebb4c=await this['waMonitor'][_0xbf1f65(0x214)](_0x1f9454));let _0x3f1eea=null;return _0x5da6ec[_0xbf1f65(0x159)]===_0xbf1f65(0xd3)&&_0x1f9454&&(_0x3f1eea=this[_0xbf1f65(0x433)]['waInstances'][_0x1f9454][_0xbf1f65(0xf2)]),{'instance':_0x1f9454,'connectionStatus':_0x5da6ec,'instanceInfo':_0x3ebb4c,'qrcode':_0x3f1eea};}async[a0_0x96c47(0x581)](_0x106e8b){const _0x262e40=a0_0x96c47;_0x106e8b=_0x106e8b[_0x262e40(0x6e2)](/\D/g,'');let _0x1d8211=Object['keys'](this[_0x262e40(0x433)][_0x262e40(0x1ce)])[_0x262e40(0x2bc)](_0x409483=>{const _0x236c61=_0x262e40;let _0x243688=this[_0x236c61(0x433)][_0x236c61(0x1ce)][_0x409483];return _0x243688&&_0x243688['connectionStatus']&&_0x243688[_0x236c61(0x3de)][_0x236c61(0x159)]===_0x236c61(0x14f);});if(_0x1d8211[_0x262e40(0x1fc)]===0x0)return{'number':this[_0x262e40(0x51f)](_0x106e8b)};let _0x3cfb6d=Math[_0x262e40(0x707)](Math[_0x262e40(0x1aa)]()*_0x1d8211[_0x262e40(0x1fc)]),_0x509d5a=_0x1d8211[_0x3cfb6d];try{let _0x304200=(await this['waMonitor'][_0x262e40(0x1ce)][_0x509d5a][_0x262e40(0x597)]({'numbers':[_0x106e8b]}))[_0x262e40(0x531)]();return _0x304200[_0x262e40(0x4dc)]?{'number':_0x304200[_0x262e40(0x16c)]['replace'](_0x262e40(0x5da),'')}:{'number':_0x106e8b,'error':_0x262e40(0x675)};}catch(_0x44ebc1){return this['logger']['error']('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x44ebc1),{'number':_0x106e8b,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}['formatBRNumber'](_0x2c5466){let _0x2407ef=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x2c5466);if(_0x2407ef&&_0x2407ef[0x1]==='55'){let _0x18ec11=_0x2407ef[0x2],_0x12f4e2=_0x2407ef[0x3],_0x1f1d4f=_0x2407ef[0x4];if(parseInt(_0x18ec11)>=0x1f&&_0x12f4e2==='9')return _0x2407ef[0x1]+_0x18ec11+_0x1f1d4f;}return _0x2c5466;}async[a0_0x96c47(0x47e)]({instanceName:_0x29c05a}){const _0x31e9cb=a0_0x96c47;try{return this[_0x31e9cb(0x433)]['waInstances'][_0x29c05a]?.[_0x31e9cb(0x10d)]?.['ws']?.[_0x31e9cb(0x30e)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x31e9cb(0x5b8)}};}catch(_0x30334c){this[_0x31e9cb(0x438)][_0x31e9cb(0xfa)](_0x30334c);}}async[a0_0x96c47(0x37f)]({instanceName:_0x3c9750}){const _0x1949d5=a0_0x96c47;return _0x3c9750?this[_0x1949d5(0x433)][_0x1949d5(0x214)](_0x3c9750):this[_0x1949d5(0x433)][_0x1949d5(0x214)]();}async['logout']({instanceName:_0x4b9863}){const _0x1cffe5=a0_0x96c47;try{return await this['waMonitor'][_0x1cffe5(0x1ce)][_0x4b9863]?.[_0x1cffe5(0x10d)]?.[_0x1cffe5(0x221)](_0x1cffe5(0x541)+_0x4b9863),{'error':!0x1,'message':_0x1cffe5(0x70d)};}catch(_0x4ba8c5){throw new I(_0x4ba8c5['toString']());}}async[a0_0x96c47(0x6fc)]({instanceName:_0x464b41}){const _0x4b9c5a=a0_0x96c47;if((await this[_0x4b9c5a(0x4d0)]({'instanceName':_0x464b41}))[_0x4b9c5a(0x3de)]['state']===_0x4b9c5a(0x14f))throw new m([_0x4b9c5a(0x1b0),_0x4b9c5a(0x459)]);try{return delete this['waMonitor']['waInstances'][_0x464b41],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x36afb0){throw new m(_0x36afb0[_0x4b9c5a(0x5f2)]());}}},te=require(a0_0x96c47(0x104)),zt=class{constructor(_0x59d1b8){const _0x2a5d4e=a0_0x96c47;this[_0x2a5d4e(0x433)]=_0x59d1b8;}async[a0_0x96c47(0x40a)]({instanceName:_0x10fa9a},_0x385399){const _0x32dc7c=a0_0x96c47;return await this[_0x32dc7c(0x433)][_0x32dc7c(0x1ce)][_0x10fa9a][_0x32dc7c(0x6d6)](_0x385399);}async[a0_0x96c47(0xa4)]({instanceName:_0x4866e0},_0x21be39){const _0x51d264=a0_0x96c47;return await this['waMonitor']['waInstances'][_0x4866e0][_0x51d264(0x65b)](_0x21be39);}async[a0_0x96c47(0x64d)]({instanceName:_0x1739b7},_0x53fd2b){const _0x21f1c2=a0_0x96c47;if((0x0,te[_0x21f1c2(0x632)])(_0x53fd2b?.[_0x21f1c2(0x332)]?.[_0x21f1c2(0x630)])&&!_0x53fd2b?.['mediaMessage']?.[_0x21f1c2(0x3c8)])throw new m(_0x21f1c2(0x695));if((0x0,te[_0x21f1c2(0x2b4)])(_0x53fd2b?.[_0x21f1c2(0x332)]?.[_0x21f1c2(0x630)])||(0x0,te[_0x21f1c2(0x632)])(_0x53fd2b?.['mediaMessage']?.[_0x21f1c2(0x630)]))return await this['waMonitor']['waInstances'][_0x1739b7][_0x21f1c2(0x332)](_0x53fd2b);throw new m(_0x21f1c2(0x14d));}async[a0_0x96c47(0x4f4)]({instanceName:_0x2eda5f},_0x2efc69){const _0x16f3f0=a0_0x96c47;if((0x0,te[_0x16f3f0(0x2b4)])(_0x2efc69[_0x16f3f0(0x4ec)][_0x16f3f0(0x657)])||(0x0,te[_0x16f3f0(0x632)])(_0x2efc69['stickerMessage'][_0x16f3f0(0x657)]))return await this[_0x16f3f0(0x433)][_0x16f3f0(0x1ce)][_0x2eda5f]['mediaSticker'](_0x2efc69);throw new m(_0x16f3f0(0x14d));}async['sendWhatsAppAudio']({instanceName:_0x154763},_0xe2409b){const _0x368502=a0_0x96c47;if((0x0,te[_0x368502(0x2b4)])(_0xe2409b[_0x368502(0x2a6)][_0x368502(0x31b)])||(0x0,te[_0x368502(0x632)])(_0xe2409b[_0x368502(0x2a6)][_0x368502(0x31b)]))return await this[_0x368502(0x433)][_0x368502(0x1ce)][_0x154763][_0x368502(0x5f5)](_0xe2409b);throw new m(_0x368502(0x14d));}async[a0_0x96c47(0x44a)]({instanceName:_0x12f6d2},_0x435e7d){const _0x5aca4d=a0_0x96c47;if((0x0,te[_0x5aca4d(0x632)])(_0x435e7d[_0x5aca4d(0x2b8)][_0x5aca4d(0x332)]?.[_0x5aca4d(0x630)])&&!_0x435e7d[_0x5aca4d(0x2b8)][_0x5aca4d(0x332)]?.['fileName'])throw new m(_0x5aca4d(0x695));return await this[_0x5aca4d(0x433)][_0x5aca4d(0x1ce)][_0x12f6d2]['buttonMessage'](_0x435e7d);}async[a0_0x96c47(0x4e0)]({instanceName:_0x272ee9},_0xcbbc7b){const _0xc0b215=a0_0x96c47;return await this['waMonitor'][_0xc0b215(0x1ce)][_0x272ee9]['locationMessage'](_0xcbbc7b);}async['sendPoll']({instanceName:_0x33665a},_0x1ad6c1){const _0x222c8a=a0_0x96c47;return await this[_0x222c8a(0x433)][_0x222c8a(0x1ce)][_0x33665a][_0x222c8a(0x450)](_0x1ad6c1);}async[a0_0x96c47(0x75a)]({instanceName:_0x2aede4},_0x2a860e){const _0x940f0a=a0_0x96c47;return await this['waMonitor'][_0x940f0a(0x1ce)][_0x2aede4][_0x940f0a(0x367)](_0x2a860e);}async[a0_0x96c47(0x6a4)]({instanceName:_0xac72ad},_0x77778c){const _0x5c745e=a0_0x96c47;return await this[_0x5c745e(0x433)]['waInstances'][_0xac72ad]['contactMessage'](_0x77778c);}async[a0_0x96c47(0x229)]({instanceName:_0x34924b},_0x580820){const _0x3b9d09=a0_0x96c47;if(!_0x580820[_0x3b9d09(0x3d2)][_0x3b9d09(0x250)][_0x3b9d09(0x6a7)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x3b9d09(0x25b));return await this['waMonitor']['waInstances'][_0x34924b]['reactionMessage'](_0x580820);}async[a0_0x96c47(0x8d)]({instanceName:_0x1e0ccc},_0x7bc51){const _0x415b9a=a0_0x96c47;return await this['waMonitor'][_0x415b9a(0x1ce)][_0x1e0ccc][_0x415b9a(0x604)](_0x7bc51);}},Ro=require(a0_0x96c47(0x68d)),_s=require(a0_0x96c47(0x400)),Ht=class c{constructor(_0x4369d9,_0x5c0f18,_0x9ad665){const _0x342a3b=a0_0x96c47;this[_0x342a3b(0x184)]=_0x4369d9,this['waMonitor']=_0x5c0f18,this['repository']=_0x9ad665,this[_0x342a3b(0x438)]=new R(c[_0x342a3b(0x11a)]);}async[a0_0x96c47(0x117)](_0x4ee4f0){const _0x16861c=a0_0x96c47;let _0x118f5e=this['configService'][_0x16861c(0x763)]('AUTHENTICATION')[_0x16861c(0x1ae)],_0x460bbf=(0x0,Ro[_0x16861c(0x2aa)])({'instanceName':_0x4ee4f0[_0x16861c(0x5ec)],'apiName':Ze,'tokenId':(0x0,_s['v4'])()},_0x118f5e['SECRET'],{'expiresIn':_0x118f5e['EXPIRIN_IN'],'encoding':'utf8','subject':'g-t'}),_0x4b8b7c=await this[_0x16861c(0xc4)][_0x16861c(0x375)][_0x16861c(0x55c)]({'jwt':_0x460bbf},_0x4ee4f0[_0x16861c(0x5ec)]);if(_0x4b8b7c[_0x16861c(0xfa)])throw this[_0x16861c(0x438)][_0x16861c(0xfa)]({'localError':c[_0x16861c(0x11a)]+'.jwt','error':_0x4b8b7c[_0x16861c(0xfa)]}),new m(_0x16861c(0x1c0),_0x4b8b7c[_0x16861c(0xfa)]?.[_0x16861c(0x5f2)]());return{'jwt':_0x460bbf};}async[a0_0x96c47(0x388)](_0x43756d){const _0x455c60=a0_0x96c47;let _0x720d67=(0x0,_s['v4'])()[_0x455c60(0x3c3)](),_0x806f66=await this['repository'][_0x455c60(0x375)]['create']({'apikey':_0x720d67},_0x43756d[_0x455c60(0x5ec)]);if(_0x806f66['error'])throw this[_0x455c60(0x438)][_0x455c60(0xfa)]({'localError':c[_0x455c60(0x11a)]+'.jwt','error':_0x806f66[_0x455c60(0xfa)]}),new m(_0x455c60(0x1c0),_0x806f66[_0x455c60(0xfa)]?.[_0x455c60(0x5f2)]());return{'apikey':_0x720d67};}async['generateHash'](_0x40ede1){const _0xbdb105=a0_0x96c47;let _0x5d680b=this['configService']['get'](_0xbdb105(0x72b));return await this[_0x5d680b[_0xbdb105(0x442)]](_0x40ede1);}},Kt=class{constructor(_0x27ce4e){const _0x233db3=a0_0x96c47;this[_0x233db3(0x433)]=_0x27ce4e;}async[a0_0x96c47(0x6aa)](_0x52c1dd,_0x55f7ed){const _0x3a3f82=a0_0x96c47;return await this['waMonitor'][_0x3a3f82(0x1ce)][_0x52c1dd[_0x3a3f82(0x5ec)]]['createGroup'](_0x55f7ed);}async[a0_0x96c47(0x29c)](_0x1d8e92,_0x15b065){const _0x19ddee=a0_0x96c47;return await this[_0x19ddee(0x433)][_0x19ddee(0x1ce)][_0x1d8e92['instanceName']][_0x19ddee(0x29c)](_0x15b065);}async[a0_0x96c47(0x18f)](_0x43a3fe,_0x33f1a1){const _0xe88766=a0_0x96c47;return await this[_0xe88766(0x433)][_0xe88766(0x1ce)][_0x43a3fe['instanceName']][_0xe88766(0x18f)](_0x33f1a1);}async[a0_0x96c47(0x6e8)](_0x49846b,_0x316e61){const _0x30c2d6=a0_0x96c47;return await this[_0x30c2d6(0x433)][_0x30c2d6(0x1ce)][_0x49846b[_0x30c2d6(0x5ec)]]['groupName'](_0x316e61);}async['groupBetterSetting'](_0x24368c,_0x317440){const _0x62548f=a0_0x96c47;return await this['waMonitor'][_0x62548f(0x1ce)][_0x24368c[_0x62548f(0x5ec)]]['groupBetterSetting'](_0x317440);}async['groupSetting'](_0xd74b8c,_0x45fa0c){const _0x5f2442=a0_0x96c47;return await this['waMonitor'][_0x5f2442(0x1ce)][_0xd74b8c[_0x5f2442(0x5ec)]][_0x5f2442(0x331)](_0x45fa0c);}async['findGroupInfo'](_0x4cf432,_0x4f092d){const _0x4dcd3a=a0_0x96c47;return await this[_0x4dcd3a(0x433)][_0x4dcd3a(0x1ce)][_0x4cf432[_0x4dcd3a(0x5ec)]][_0x4dcd3a(0x47f)](_0x4f092d);}async[a0_0x96c47(0x650)](_0x1879e5){const _0x535979=a0_0x96c47;return await this[_0x535979(0x433)]['waInstances'][_0x1879e5[_0x535979(0x5ec)]][_0x535979(0x650)]();}async[a0_0x96c47(0x22f)](_0x392a79,_0x21f786){const _0x4e3f78=a0_0x96c47;return await this[_0x4e3f78(0x433)]['waInstances'][_0x392a79[_0x4e3f78(0x5ec)]][_0x4e3f78(0x22f)](_0x21f786);}async['joinGroup'](_0x1cb17d,_0x3876d9){const _0x2f9e9e=a0_0x96c47;return await this['waMonitor'][_0x2f9e9e(0x1ce)][_0x1cb17d[_0x2f9e9e(0x5ec)]][_0x2f9e9e(0x22b)](_0x3876d9);}async['groupGetInviteInfo'](_0x55f7d1,_0x3ffb5a){const _0x1e2a8c=a0_0x96c47;return await this['waMonitor'][_0x1e2a8c(0x1ce)][_0x55f7d1[_0x1e2a8c(0x5ec)]][_0x1e2a8c(0x234)](_0x3ffb5a);}async[a0_0x96c47(0x67f)](_0xffdddd,_0x12bf6c){const _0x5d1427=a0_0x96c47;return await this[_0x5d1427(0x433)][_0x5d1427(0x1ce)][_0xffdddd[_0x5d1427(0x5ec)]][_0x5d1427(0x67f)](_0x12bf6c);}async[a0_0x96c47(0x5aa)](_0x44272e,_0x559517){const _0x27cd15=a0_0x96c47;return await this[_0x27cd15(0x433)][_0x27cd15(0x1ce)][_0x44272e[_0x27cd15(0x5ec)]][_0x27cd15(0x5aa)](_0x559517);}async[a0_0x96c47(0x96)](_0x516ddf,_0x18d6ee){const _0x35686a=a0_0x96c47;return await this[_0x35686a(0x433)][_0x35686a(0x1ce)][_0x516ddf['instanceName']][_0x35686a(0x6dc)](_0x18d6ee);}async['toggleEphemeral'](_0x536f45,_0xe20405){const _0x3bc1ad=a0_0x96c47;return await this[_0x3bc1ad(0x433)][_0x3bc1ad(0x1ce)][_0x536f45[_0x3bc1ad(0x5ec)]]['toggleEphemeral'](_0xe20405);}async[a0_0x96c47(0x2ad)](_0x2326d6,_0x540783){const _0x8055b3=a0_0x96c47;return await this[_0x8055b3(0x433)]['waInstances'][_0x2326d6['instanceName']][_0x8055b3(0x2ad)](_0x540783);}},Qt=class{constructor(_0x2bfa56){this['waMonitor']=_0x2bfa56;}[a0_0x96c47(0x55c)](_0x4dbc94,_0x21a699){const _0x5638e4=a0_0x96c47;return this['waMonitor'][_0x5638e4(0x1ce)][_0x4dbc94['instanceName']][_0x5638e4(0x47d)](_0x21a699);}async[a0_0x96c47(0xd4)](_0x32b7b2){const _0x2a5e07=a0_0x96c47;try{return await this['waMonitor'][_0x2a5e07(0x1ce)][_0x32b7b2[_0x2a5e07(0x5ec)]][_0x2a5e07(0x1d2)]();}catch{return{'enabled':null,'url':''};}}},Ep=new R(a0_0x96c47(0x5ab)),Yt=class{constructor(_0x108905){const _0x1039c1=a0_0x96c47;this[_0x1039c1(0x433)]=_0x108905;}async['editScheduleMessage'](_0x5dba70,_0x4dd2d3){const _0x505ebc=a0_0x96c47;return await this[_0x505ebc(0x433)][_0x505ebc(0x1ce)][_0x5dba70['instanceName']]['editScheduleMessage'](_0x4dd2d3);}async[a0_0x96c47(0xdb)](_0x33e74f){const _0x12c2dc=a0_0x96c47;return await this[_0x12c2dc(0x433)]['waInstances'][_0x33e74f['instanceName']][_0x12c2dc(0xdb)]();}async[a0_0x96c47(0x1f9)](_0x3857b2){const _0x5f7028=a0_0x96c47;return await this[_0x5f7028(0x433)]['waInstances'][_0x3857b2[_0x5f7028(0x5ec)]]['deleteDoneMessages']();}async[a0_0x96c47(0x1bb)](_0x538f88){const _0x5c148a=a0_0x96c47;return await this[_0x5c148a(0x433)][_0x5c148a(0x1ce)][_0x538f88[_0x5c148a(0x5ec)]][_0x5c148a(0x1bb)]();}async[a0_0x96c47(0x424)](_0x2d4448,_0x1a953e){const _0x3b2be3=a0_0x96c47;return await this[_0x3b2be3(0x433)][_0x3b2be3(0x1ce)][_0x2d4448[_0x3b2be3(0x5ec)]][_0x3b2be3(0x424)](_0x1a953e);}async['updateCustomFields'](_0x5df149,_0x4c2893){const _0x411b21=a0_0x96c47;return await this[_0x411b21(0x433)]['waInstances'][_0x5df149[_0x411b21(0x5ec)]][_0x411b21(0x740)](_0x4c2893);}async[a0_0x96c47(0x56b)](_0x28a5f9,_0x5f28e8){const _0x167ea8=a0_0x96c47;return await this[_0x167ea8(0x433)][_0x167ea8(0x1ce)][_0x28a5f9[_0x167ea8(0x5ec)]][_0x167ea8(0x56b)](_0x5f28e8);}async[a0_0x96c47(0x133)](_0x4660f2,_0x26879c){const _0x5ce8f4=a0_0x96c47;return await this[_0x5ce8f4(0x433)][_0x5ce8f4(0x1ce)][_0x4660f2['instanceName']][_0x5ce8f4(0x133)](_0x26879c);}async[a0_0x96c47(0x62b)](_0x1d25c5,_0xdbdc84){const _0x52d636=a0_0x96c47;return await this[_0x52d636(0x433)][_0x52d636(0x1ce)][_0x1d25c5['instanceName']][_0x52d636(0x62b)](_0xdbdc84);}async[a0_0x96c47(0x584)](_0x1fb25c,_0x22fe5d){const _0x5f36c8=a0_0x96c47;return await this['waMonitor'][_0x5f36c8(0x1ce)][_0x1fb25c[_0x5f36c8(0x5ec)]][_0x5f36c8(0x584)](_0x22fe5d);}async[a0_0x96c47(0x498)](_0x1f973d,_0x4112f3){const _0x4578da=a0_0x96c47;return await this['waMonitor']['waInstances'][_0x1f973d[_0x4578da(0x5ec)]][_0x4578da(0x498)](_0x4112f3);}async[a0_0x96c47(0x637)](_0x3ffaa5,_0x5a3f11){const _0x47b1e9=a0_0x96c47;return await this[_0x47b1e9(0x433)][_0x47b1e9(0x1ce)][_0x3ffaa5['instanceName']][_0x47b1e9(0x637)](_0x5a3f11);}async['deleteConversation'](_0x28ba19,_0x199604){const _0x2bfd44=a0_0x96c47;return await this[_0x2bfd44(0x433)]['waInstances'][_0x28ba19[_0x2bfd44(0x5ec)]][_0x2bfd44(0x153)](_0x199604);}async[a0_0x96c47(0x20c)](_0x347a96,_0x597d21){const _0x38813a=a0_0x96c47;return await this[_0x38813a(0x433)][_0x38813a(0x1ce)][_0x347a96['instanceName']][_0x38813a(0x20c)](_0x597d21[_0x38813a(0x11a)],_0x597d21[_0x38813a(0x68e)]);}async[a0_0x96c47(0x6c5)](_0x54ab82,_0x4f6d89,_0x27d151){const _0x51ecbd=a0_0x96c47;return await this[_0x51ecbd(0x433)][_0x51ecbd(0x1ce)][_0x54ab82[_0x51ecbd(0x5ec)]]['createFlow'](_0x4f6d89,_0x27d151);}async[a0_0x96c47(0x4da)](_0x26f923,_0x47db72,_0x357884){const _0x41ca8d=a0_0x96c47;return await this['waMonitor']['waInstances'][_0x26f923[_0x41ca8d(0x5ec)]][_0x41ca8d(0x4da)](_0x47db72,_0x357884);}async[a0_0x96c47(0x18e)](_0x1007bd,_0x54ae53,_0x4f6d86){const _0x32d029=a0_0x96c47;return await this[_0x32d029(0x433)][_0x32d029(0x1ce)][_0x1007bd['instanceName']][_0x32d029(0x18e)](_0x54ae53,_0x4f6d86);}async[a0_0x96c47(0x235)](_0x1b4760,_0x5be484,_0x161cf2){const _0x48232e=a0_0x96c47;return await this[_0x48232e(0x433)][_0x48232e(0x1ce)][_0x1b4760[_0x48232e(0x5ec)]][_0x48232e(0x235)](_0x5be484,_0x161cf2);}async[a0_0x96c47(0x4a4)](_0x50bf49,_0x324b5a,_0x5315a1){const _0x44a2eb=a0_0x96c47;return await this[_0x44a2eb(0x433)]['waInstances'][_0x50bf49[_0x44a2eb(0x5ec)]][_0x44a2eb(0x4a4)](_0x324b5a,_0x5315a1);}async['editFlowCondition'](_0x58f61f,_0x53ee17,_0x97005f){const _0x4c5058=a0_0x96c47;return await this['waMonitor'][_0x4c5058(0x1ce)][_0x58f61f[_0x4c5058(0x5ec)]][_0x4c5058(0x6f9)](_0x53ee17,_0x97005f);}async[a0_0x96c47(0x20a)](_0x51cf30,_0x693ad1,_0x4c4533){const _0x261d81=a0_0x96c47;return await this['waMonitor']['waInstances'][_0x51cf30[_0x261d81(0x5ec)]][_0x261d81(0x20a)](_0x693ad1,_0x4c4533);}async['editFlowVariable'](_0x23a7bd,_0x14812e,_0x161c5a){const _0x262d7d=a0_0x96c47;return await this[_0x262d7d(0x433)][_0x262d7d(0x1ce)][_0x23a7bd[_0x262d7d(0x5ec)]][_0x262d7d(0x45f)](_0x14812e,_0x161c5a);}async['deleteFlow'](_0x15a090,_0x359065,_0x1431c0){const _0x9046f0=a0_0x96c47;return await this[_0x9046f0(0x433)]['waInstances'][_0x15a090[_0x9046f0(0x5ec)]][_0x9046f0(0x32f)](_0x359065,_0x1431c0,_0x359065['global']);}async[a0_0x96c47(0x346)](_0x1ab141){const _0x5f4448=a0_0x96c47;return await this['waMonitor'][_0x5f4448(0x1ce)][_0x1ab141[_0x5f4448(0x5ec)]]['allFlows']();}},Xt=class{constructor(_0x114c19){const _0x2ec45c=a0_0x96c47;this[_0x2ec45c(0x402)]=_0x114c19;}async[a0_0x96c47(0x557)](_0x3b93bd,_0x28957f){const _0x47543b=a0_0x96c47;return this[_0x47543b(0x402)]['create'](_0x3b93bd,_0x28957f);}async[a0_0x96c47(0x1d2)](_0x570e37){const _0x3b9f5a=a0_0x96c47;return this[_0x3b9f5a(0x402)][_0x3b9f5a(0xd4)](_0x570e37);}},Zt=class extends x{constructor(_0x58a120,_0xe309aa){const _0x10f11b=a0_0x96c47;super(_0xe309aa),this[_0x10f11b(0x2ac)]=_0x58a120,this[_0x10f11b(0x184)]=_0xe309aa;}async['create'](_0x2c22f2,_0x2456a8){const _0x413acc=a0_0x96c47;try{return this[_0x413acc(0x3d3)][_0x413acc(0x330)]?{'insertCount':(await this[_0x413acc(0x2ac)]['replaceOne']({'_id':_0x2456a8},{..._0x2c22f2},{'upsert':!0x0}))[_0x413acc(0x30c)]}:{'insertCount':0x1};}catch(_0x156133){return _0x156133;}}async[a0_0x96c47(0x494)](_0x1c5df9){const _0x163df3=a0_0x96c47;try{if(this[_0x163df3(0x3d3)][_0x163df3(0x330)]){await this['webhookModel']['deleteOne']({'_id':_0x1c5df9});return;}}catch(_0x2548da){return{'error':_0x2548da};}}async[a0_0x96c47(0xd4)](_0x2ce195){const _0x5458ae=a0_0x96c47;try{if(this['dbSettings'][_0x5458ae(0x330)])return await this[_0x5458ae(0x2ac)][_0x5458ae(0x732)]({'_id':_0x2ce195});}catch{return{};}}},es=class extends x{constructor(_0x153e5b,_0x5b5247){const _0x3f4bc9=a0_0x96c47;super(_0x5b5247),this[_0x3f4bc9(0x1d8)]=_0x153e5b,this[_0x3f4bc9(0x184)]=_0x5b5247,this[_0x3f4bc9(0x375)]=_0x5b5247[_0x3f4bc9(0x763)](_0x3f4bc9(0x72b));}async[a0_0x96c47(0x55c)](_0x150b38,_0x198423){const _0x1495f7=a0_0x96c47;try{if(this['dbSettings'][_0x1495f7(0x330)])return{'insertCount':(await this[_0x1495f7(0x1d8)][_0x1495f7(0x481)]({'_id':_0x198423},{'$set':{..._0x150b38}},{'upsert':!0x0}))[_0x1495f7(0x30c)]};}catch(_0x49db1a){return{'error':_0x49db1a};}}async[a0_0x96c47(0x253)](_0x1be8ee,_0x2ebfb6){const _0xf667e5=a0_0x96c47;try{if(this[_0xf667e5(0x3d3)][_0xf667e5(0x330)])return{'insertCount':(await this[_0xf667e5(0x1d8)][_0xf667e5(0x562)](_0x1be8ee,{'$set':_0x2ebfb6},{'upsert':!0x1}))[_0xf667e5(0x30c)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0xc8cd1f){return{'error':_0xc8cd1f};}}async[a0_0x96c47(0xda)](_0x473353){const _0x353b6f=a0_0x96c47;try{if(this[_0x353b6f(0x3d3)]['ENABLED'])return{'insertCount':(await this[_0x353b6f(0x1d8)][_0x353b6f(0xda)](_0x473353))['deletedCount']};throw new Error(_0x353b6f(0x52e));}catch(_0x26992a){return{'error':_0x26992a};}}async[a0_0x96c47(0x494)](_0x54e8e4){const _0x2328b9=a0_0x96c47;try{if(this[_0x2328b9(0x3d3)][_0x2328b9(0x330)]){await this[_0x2328b9(0x1d8)][_0x2328b9(0x259)]({'_id':_0x54e8e4});return;}}catch(_0x150165){return{'error':_0x150165};}}async[a0_0x96c47(0xd4)](_0x1e95b5){const _0x3f1166=a0_0x96c47;try{if(this[_0x3f1166(0x3d3)][_0x3f1166(0x330)])return await this[_0x3f1166(0x1d8)][_0x3f1166(0x732)]({'_id':_0x1e95b5});}catch{return{};}}async[a0_0x96c47(0x5af)](){const _0x157530=a0_0x96c47;try{if(this['dbSettings'][_0x157530(0x330)])return await this[_0x157530(0x1d8)]['find']();}catch{return[];}}},ts=class extends x{['getFlowModelForOwner'](_0x4974f9){return pa(_0x4974f9);}async[a0_0x96c47(0x494)](_0x35f2b2,_0x465986){const _0x1dc8bb=a0_0x96c47;try{let _0x3cc2cd=this[_0x1dc8bb(0x6ee)](_0x465986),_0x36f244=$(_0x35f2b2[_0x1dc8bb(0x5b6)]);return{'deletedCount':(await _0x3cc2cd[_0x1dc8bb(0xda)](_0x36f244))[_0x1dc8bb(0x360)]};}catch(_0x529365){return{'error':_0x529365?.[_0x1dc8bb(0x5f2)]()};}}async['deleteOne'](_0x4b98f8,_0x53219a){const _0x5047b7=a0_0x96c47;try{let _0x520a7f=this[_0x5047b7(0x6ee)](_0x53219a),_0x5588ec=$(_0x4b98f8[_0x5047b7(0x5b6)]);return{'deletedCount':(await _0x520a7f[_0x5047b7(0x259)](_0x5588ec))['deletedCount']};}catch(_0x4b1ff3){return{'error':_0x4b1ff3?.[_0x5047b7(0x5f2)]()};}}async['replaceOne'](_0x43791c,_0x3b5377,_0x1ebb78){const _0x16546b=a0_0x96c47;try{let _0x166872=await this[_0x16546b(0x6ee)](_0x1ebb78)[_0x16546b(0x94)](_0x43791c,_0x3b5377,{'overwrite':!0x0,'new':!0x0});return _0x166872||(console[_0x16546b(0xfa)](_0x16546b(0x390),_0x43791c),null);}catch(_0x259751){return console['error'](_0x16546b(0x627),_0x259751),null;}}async[a0_0x96c47(0x481)](_0x12f311,_0x4198ce,_0x1166d6){const _0x372bea=a0_0x96c47;try{let _0x4de400=await this[_0x372bea(0x6ee)](_0x1166d6)[_0x372bea(0x1cd)](_0x12f311);return _0x4de400?(Object[_0x372bea(0x480)](_0x4de400,_0x4198ce),await _0x4de400['save']()):(console[_0x372bea(0xfa)](_0x372bea(0x57e),_0x12f311),null);}catch(_0xb01856){return console[_0x372bea(0xfa)](_0x372bea(0x627),_0xb01856),null;}}async[a0_0x96c47(0x2e4)](_0x60cfc6,_0x511b4d,_0x50d060){const _0x242736=a0_0x96c47;try{let _0x4eb33a=this[_0x242736(0x6ee)](_0x50d060),_0x575014=await _0x4eb33a[_0x242736(0x1cd)](_0x60cfc6),_0x75df52=await _0x4eb33a[_0x242736(0x4cd)]({'_id':_0x60cfc6},_0x511b4d,{'new':!0x0,'runValidators':!0x0});return _0x75df52||(console[_0x242736(0x2cf)]('Documento\x20com\x20ID\x20'+_0x60cfc6+_0x242736(0x53d)+_0x50d060+_0x242736(0x674)),null);}catch(_0x7951cc){throw console[_0x242736(0xfa)]('Erro\x20ao\x20atualizar\x20o\x20documento:',_0x7951cc),_0x7951cc;}}async[a0_0x96c47(0x219)](_0x15f8f7){const _0x572989=a0_0x96c47;try{let _0x3091d2=this[_0x572989(0x6ee)](_0x15f8f7),_0x376982={'shareOwners':{'$exists':!0x1}},_0x5a3332={'$set':{'shareOwners':[]}};return(await _0x3091d2[_0x572989(0x562)](_0x376982,_0x5a3332))[_0x572989(0x30c)];}catch(_0x17ec49){return console[_0x572989(0xfa)](_0x17ec49),0x0;}}async[a0_0x96c47(0x61e)](_0x765e30,_0xac69b6){const _0x479abd=a0_0x96c47;try{let _0x41565b=this['getFlowModelForOwner'](_0xac69b6);return await new _0x41565b(_0x765e30)[_0x479abd(0x6cd)]();}catch(_0x579572){return console[_0x479abd(0xfa)](_0x479abd(0xc3),_0x579572),null;}}async[a0_0x96c47(0x562)](_0x1bacf0,_0x40fccb,_0xed7b9f){const _0x3321c3=a0_0x96c47;try{return{'modifiedCount':(await this[_0x3321c3(0x6ee)](_0xed7b9f)['updateMany'](_0x1bacf0,{'$set':_0x40fccb}))['modifiedCount']};}catch(_0x24e549){return console['error'](_0x3321c3(0x2f3),_0x24e549),{'error':_0x24e549};}}async['findAll'](_0x225b14,_0x414b24){const _0x318d36=a0_0x96c47;try{let _0x3e7f4=this[_0x318d36(0x6ee)](_0x414b24),_0x7c09f1=$(_0x225b14['where']);return await _0x3e7f4[_0x318d36(0xd4)](_0x7c09f1)['limit'](_0x225b14?.[_0x318d36(0x71b)]??0x0)[_0x318d36(0x74a)]();}catch{return[];}}async[a0_0x96c47(0x732)](_0xd877f9,_0x5bb861){const _0x3c64b5=a0_0x96c47;try{let _0x100ea0=this[_0x3c64b5(0x6ee)](_0x5bb861),_0x55409d=$(_0xd877f9['where']);return await _0x100ea0['findOne'](_0x55409d)[_0x3c64b5(0x74a)]();}catch{return null;}}async[a0_0x96c47(0x2ea)](_0x2914a1){const _0x39042f=a0_0x96c47;try{return await this[_0x39042f(0x6ee)](_0x2914a1)['collection'][_0x39042f(0x5ce)](),{'success':!0x0};}catch(_0x44ef12){return console[_0x39042f(0xfa)](_0x44ef12),{'success':!0x1,'error':_0x44ef12};}}},ss=class extends x{[a0_0x96c47(0x1ac)](_0x54cbd4){return ha(_0x54cbd4);}async[a0_0x96c47(0x1da)](_0x3ec257){const _0xdedc42=a0_0x96c47;if(_0x3ec257['length']!==0x0)try{return{'insertCount':(await this[_0xdedc42(0x1ac)](_0x3ec257[0x0][_0xdedc42(0x220)])['insertMany']([..._0x3ec257]))[_0xdedc42(0x1fc)]};}catch(_0x291bc3){return _0x291bc3;}}async[a0_0x96c47(0x494)](_0x1f5ef3,_0x2f70db){const _0x501332=a0_0x96c47;try{let _0x4d9ffc=this['getConversationModelForOwner'](_0x2f70db),_0x4f2d0c=$(_0x1f5ef3[_0x501332(0x5b6)]);return{'deletedCount':(await _0x4d9ffc[_0x501332(0xda)](_0x4f2d0c))[_0x501332(0x360)]};}catch(_0x19c009){return{'error':_0x19c009?.[_0x501332(0x5f2)]()};}}async[a0_0x96c47(0x259)](_0x5474ca,_0x4c63ef){const _0x8700ea=a0_0x96c47;try{let _0x2c3498=this[_0x8700ea(0x1ac)](_0x4c63ef),_0x4e2caf=$(_0x5474ca[_0x8700ea(0x5b6)]);return{'deletedCount':(await _0x2c3498[_0x8700ea(0x259)](_0x4e2caf))['deletedCount']};}catch(_0x2d6dfb){return{'error':_0x2d6dfb?.['toString']()};}}async[a0_0x96c47(0x490)](_0x4cf636,_0x52551c){const _0x2f886c=a0_0x96c47;try{if(_0x4cf636[_0x2f886c(0x1fc)]===0x0)return;let _0x4fb20f=this[_0x2f886c(0x1ac)](_0x52551c),_0xbc6ba3=_0x4cf636[_0x2f886c(0x504)](_0x50f91a=>({'updateOne':{'filter':{'name':_0x50f91a[_0x2f886c(0x11a)],'owner':_0x52551c},'update':{..._0x50f91a}}})),{modifiedCount:_0x29b8c1}=await _0x4fb20f[_0x2f886c(0x80)](_0xbc6ba3);return{'insertCount':_0x29b8c1};}catch{return;}}async[a0_0x96c47(0x562)](_0xb41b4f,_0x529c3b,_0x119e8b){const _0x44621d=a0_0x96c47;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x119e8b)['updateMany'](_0xb41b4f,{'$set':_0x529c3b}))[_0x44621d(0x30c)]};}catch(_0x4f71d5){return console[_0x44621d(0xfa)](_0x44621d(0x270),_0x4f71d5),{'error':_0x4f71d5};}}async[a0_0x96c47(0x481)](_0x3d0851,_0x3fc16f,_0x44c3e2){const _0x4e2d63=a0_0x96c47;try{return await this[_0x4e2d63(0x1ac)](_0x44c3e2)['findOneAndUpdate']({'_id':_0x3d0851},{'$set':_0x3fc16f},{'new':!0x0,'upsert':!0x0})[_0x4e2d63(0x74a)]();}catch(_0x1ec318){return console[_0x4e2d63(0xfa)](_0x1ec318),null;}}async['find'](_0x27680a,_0x23dde4){const _0x1b90e3=a0_0x96c47;try{return await this[_0x1b90e3(0x1ac)](_0x23dde4)['find'](_0x27680a)[_0x1b90e3(0x2f9)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async[a0_0x96c47(0x732)](_0xc24c10,_0x3ff0c3){const _0x4e1449=a0_0x96c47;try{return await this[_0x4e1449(0x1ac)](_0x3ff0c3)['findOne']({..._0xc24c10['where']})[_0x4e1449(0x74a)]();}catch{return null;}}async[a0_0x96c47(0x2ea)](_0x5ac90b){const _0x15ba67=a0_0x96c47;try{return await this['getConversationModelForOwner'](_0x5ac90b)[_0x15ba67(0x59d)][_0x15ba67(0x5ce)](),{'success':!0x0};}catch(_0x463c59){return console[_0x15ba67(0xfa)](_0x463c59),{'success':!0x1,'error':_0x463c59};}}},as=class extends x{['getScheduleMessageModelForOwner'](_0x596049){return ga(_0x596049);}async[a0_0x96c47(0x61e)](_0x2c43db,_0x5e737e){const _0x1eecc3=a0_0x96c47;try{let _0xea94e4=this[_0x1eecc3(0x26f)](_0x5e737e);return await new _0xea94e4(_0x2c43db)[_0x1eecc3(0x6cd)]();}catch(_0xb430c8){return console[_0x1eecc3(0xfa)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0xb430c8),null;}}async[a0_0x96c47(0x259)](_0x5d5791,_0x304178){const _0x354dbf=a0_0x96c47;try{return await this[_0x354dbf(0x26f)](_0x304178)[_0x354dbf(0x138)](_0x5d5791),{};}catch(_0x55240b){return{'error':_0x55240b?.[_0x354dbf(0x5f2)]()};}}async[a0_0x96c47(0x481)](_0x1a55d3,_0xf30ce5,_0x4a2894){const _0x43ccef=a0_0x96c47;try{return await this[_0x43ccef(0x26f)](_0x4a2894)[_0x43ccef(0x4cd)](_0x1a55d3,{'$set':_0xf30ce5},{'new':!0x0})[_0x43ccef(0x74a)]();}catch(_0x286125){return console[_0x43ccef(0xfa)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x286125),null;}}async['updateOneById'](_0x39e2e9,_0x34f241,_0x2f624b){const _0x5107e3=a0_0x96c47;try{return await this[_0x5107e3(0x26f)](_0x2f624b)[_0x5107e3(0x94)](_0x39e2e9,_0x34f241,{'new':!0x0})['lean']();}catch(_0x240ccf){return console['error'](_0x5107e3(0x24a),_0x240ccf),null;}}async[a0_0x96c47(0xd4)](_0x1967b8,_0x49b5e0){const _0x3b86d3=a0_0x96c47;try{return await this['getScheduleMessageModelForOwner'](_0x49b5e0)['find'](_0x1967b8[_0x3b86d3(0x5b6)])[_0x3b86d3(0x71b)](_0x1967b8?.['limit']??0x0)['sort']({'when':0x1})['lean']();}catch{return[];}}async['findOne'](_0x37d079,_0x49bac8){const _0x25a0fc=a0_0x96c47;try{return await this[_0x25a0fc(0x26f)](_0x49bac8)[_0x25a0fc(0x732)](_0x37d079[_0x25a0fc(0x5b6)])[_0x25a0fc(0x2f9)]({'when':0x1})[_0x25a0fc(0x74a)]();}catch{return null;}}async[a0_0x96c47(0x1cd)](_0x2d6690,_0x314a08){const _0x31bb43=a0_0x96c47;try{return await this[_0x31bb43(0x26f)](_0x314a08)['findById'](_0x2d6690)[_0x31bb43(0x74a)]();}catch{return null;}}async[a0_0x96c47(0xda)](_0x562c48,_0x1172e5){const _0x517c21=a0_0x96c47;try{return{'deletedCount':(await this[_0x517c21(0x26f)](_0x1172e5)[_0x517c21(0xda)](_0x562c48))[_0x517c21(0x360)]};}catch(_0x55163c){return console[_0x517c21(0xfa)](_0x517c21(0xaf),_0x55163c),{'error':_0x55163c};}}async[a0_0x96c47(0x2ea)](_0x213630){const _0x4ce2d0=a0_0x96c47;try{return await this['getScheduleMessageModelForOwner'](_0x213630)[_0x4ce2d0(0x59d)][_0x4ce2d0(0x5ce)](),{'success':!0x0};}catch(_0x5e3395){return console[_0x4ce2d0(0xfa)](_0x5e3395),{'success':!0x1,'error':_0x5e3395};}}},os=class extends x{async['update'](_0x525cad,_0x34c73e){const _0x15b521=a0_0x96c47;try{if(this[_0x15b521(0x3d3)]['ENABLED']){let _0x3e3e0a=await Ue[_0x15b521(0x4cd)]({'_id':_0x34c73e},{'$set':_0x525cad},{'new':!0x0});return console[_0x15b521(0x2cf)](_0x15b521(0x6a0),_0x3e3e0a),_0x3e3e0a;}}catch(_0x2b1368){throw console[_0x15b521(0xfa)](_0x15b521(0x73c),_0x2b1368),_0x2b1368;}}async[a0_0x96c47(0x3eb)](_0x443c7f){const _0x4f259a=a0_0x96c47;try{let _0x5a6267=await Ue[_0x4f259a(0x1cd)](_0x443c7f);return _0x5a6267?_0x5a6267[_0x4f259a(0x5d3)]||(_0x5a6267[_0x4f259a(0x5d3)]=[],await _0x5a6267[_0x4f259a(0x6cd)]()):(_0x5a6267=new Ue({'_id':_0x443c7f,'autoCompleteMessages':[]}),await _0x5a6267[_0x4f259a(0x6cd)]()),_0x5a6267;}catch(_0x5f2072){return console[_0x4f259a(0xfa)](_0x4f259a(0x455),_0x5f2072),null;}}},Tr=new R(a0_0x96c47(0x5d7)),$r=new Ve(b),Ar=new qt(b),Ir=new st(b),xr=new Vt(Zs,b),Dr=new Zt(ia,b),_r=new es(aa,b),Pr=new ts(b),kr=new Gt(b),jr=new ss(b),Lr=new as(b),Fr=new os(b),de=new Je($r,Ar,Ir,xr,Dr,_r,Pr,jr,kr,Lr,Fr,O?.['getClient']()),G=new Jt(us,b,de),Ur=new Ht(b,G,de),Jr=new Qt(G),Ms=new Xt(Jr),A=new Yt(G),ce=new Wt(G,b,de,us,Ur),B=new zt(G),_=new Bt(G),q=new Kt(G);Tr[a0_0x96c47(0x5f7)](a0_0x96c47(0x415));var Uh=require(a0_0x96c47(0x344)),Ps=require('fs'),Oo=T(require(a0_0x96c47(0x147))),To=T(require('http')),Ae=class c{static #e;static set[a0_0x96c47(0x1b2)](_0x3973c2){this.#e=_0x3973c2;}static get[a0_0x96c47(0x147)](){const _0x238a7c=a0_0x96c47;let {FULLCHAIN:_0x5d328c,PRIVKEY:_0x40179e}=b[_0x238a7c(0x763)](_0x238a7c(0x696));return Oo[_0x238a7c(0x3b4)]({'cert':(0x0,Ps[_0x238a7c(0xf6)])(_0x5d328c),'key':(0x0,Ps[_0x238a7c(0xf6)])(_0x40179e)},c.#e);}static get[a0_0x96c47(0xd0)](){const _0x2667b3=a0_0x96c47;return To[_0x2667b3(0x3b4)](c.#e);}},he=T(require('fs')),_o=T(require(a0_0x96c47(0x3f2))),Ie=T(require(a0_0x96c47(0x194))),De=T(require(a0_0x96c47(0xb3))),_e=require(a0_0x96c47(0x1f6));function qr(){const _0x106f18=a0_0x96c47;G[_0x106f18(0x192)]();let _0x2f4140=De[_0x106f18(0x5ef)]['join'](__dirname,_0x106f18(0x747));Do(_0x2f4140);}var Do=_0x118d4a=>{const _0x4f13ff=a0_0x96c47;let _0x3b56a6=he['default'][_0x4f13ff(0x46b)](_0x118d4a),_0x336fa0=0xc*0x3c*0x3c*0x3e8,_0x622b28=0x2*0x3c*0x3c*0x3e8,_0x2ae0b3=new Date()[_0x4f13ff(0x4e7)]();_0x3b56a6[_0x4f13ff(0x233)](_0x5a5ac1=>{const _0x4bb074=_0x4f13ff;let _0x5ae3c3=De[_0x4bb074(0x5ef)][_0x4bb074(0x34a)](_0x118d4a,_0x5a5ac1),_0x566064=he['default'][_0x4bb074(0x10a)](_0x5ae3c3)[_0x4bb074(0x743)]['getTime']();_0x2ae0b3-_0x566064>_0x336fa0&&(he[_0x4bb074(0x5ef)][_0x4bb074(0x40c)](_0x5ae3c3),console[_0x4bb074(0x2cf)](_0x4bb074(0x458)+_0x5a5ac1));}),setTimeout(()=>Do(_0x118d4a),_0x622b28);};function Vr(){const _0x4b06b0=a0_0x96c47;let _0x3a3fcc=new R(_0x4b06b0(0x32e)),_0xb2d63a=(0x0,ge[_0x4b06b0(0x5ef)])();_0xb2d63a['use']((0x0,xo[_0x4b06b0(0x5ef)])({'origin'(_0x3b54cd,_0x537f5c){const _0x3c0214=_0x4b06b0;let {ORIGIN:_0x17c8a8}=b[_0x3c0214(0x763)]('CORS');return _0x3b54cd||(_0x3b54cd='*'),_0x17c8a8[_0x3c0214(0x1bd)]('*')!==-0x1||_0x17c8a8[_0x3c0214(0x1bd)](_0x3b54cd)!==-0x1?_0x537f5c(null,!0x0):_0x537f5c(new Error(_0x3c0214(0x118)));},'methods':[...b[_0x4b06b0(0x763)](_0x4b06b0(0x4f3))[_0x4b06b0(0x5f0)]],'credentials':b[_0x4b06b0(0x763)](_0x4b06b0(0x4f3))[_0x4b06b0(0x6de)]}),(0x0,ge['urlencoded'])({'extended':!0x0,'limit':_0x4b06b0(0x70f)}),(0x0,ge[_0x4b06b0(0x2c8)])({'limit':'50mb'})),_0xb2d63a[_0x4b06b0(0x2f4)]((_0xc60691,_0x6735d4,_0x22db67)=>{const _0x2282fb=_0x4b06b0;_0xc60691[_0x2282fb(0xb3)][_0x2282fb(0x447)](_0x2282fb(0x4b9))?_0x22db67():(0x0,Io['default'])()(_0xc60691,_0x6735d4,_0x22db67);}),_0xb2d63a[_0x4b06b0(0x689)](_0x4b06b0(0x61f),_0x4b06b0(0x1b4)),_0xb2d63a[_0x4b06b0(0x689)](_0x4b06b0(0x1ab),(0x0,js['join'])(ne,_0x4b06b0(0x1ab))),_0xb2d63a[_0x4b06b0(0x2f4)](ge['default'][_0x4b06b0(0x3b9)]((0x0,js[_0x4b06b0(0x34a)])(ne,_0x4b06b0(0x5ae)))),_0xb2d63a[_0x4b06b0(0x2f4)]((_0x5954dd,_0x3f3309,_0xfa928d)=>{const _0x1697d6=_0x4b06b0;let _0x587c38=_0x3f3309[_0x1697d6(0x1a4)];_0x3f3309['send']=function(_0x422725){const _0x23f6f6=_0x1697d6;if(_0x5954dd['query'][_0x23f6f6(0x526)]===_0x23f6f6(0x731)||_0x5954dd[_0x23f6f6(0x16a)][_0x23f6f6(0x5bd)]==='true'){let _0x3c00a9=JSON[_0x23f6f6(0x3a8)](_0x422725);_0x422725=JSON['stringify'](_0x56ecb0(_0x3c00a9));}return _0x587c38[_0x23f6f6(0x4f6)](_0x3f3309,[_0x422725]);},_0xfa928d();}),_0xb2d63a[_0x4b06b0(0x2f4)]('/',At),_0xb2d63a['use']((_0x4acbdf,_0x494b0d,_0x15a27f,_0x3528d8)=>{const _0x25f533=_0x4b06b0;if(_0x4acbdf)return _0x15a27f[_0x25f533(0x275)](_0x4acbdf[_0x25f533(0x275)]||0x1f4)[_0x25f533(0x2c8)](_0x4acbdf);},(_0x2f55d4,_0x274e7e,_0x2c7583)=>{const _0x3e129f=_0x4b06b0;let {method:_0x305046,url:_0x2e3488}=_0x2f55d4;_0x274e7e['status'](0x194)[_0x3e129f(0x2c8)]({'status':0x194,'message':_0x3e129f(0x20b)+_0x305046[_0x3e129f(0x3c3)]()+'\x20'+_0x2e3488,'error':_0x3e129f(0x2dd)}),_0x2c7583();});let _0x56ecb0=(_0x3f67e8,_0xe6624c=_0x4b06b0(0x374))=>{const _0x9c3dcd=_0x4b06b0;let _0x11aad8=(_0x6a21f8,_0x3dfcca=null,_0x1cf99d=!0x1)=>{const _0x318666=a0_0x3aea;let _0x3c1474={};return Object[_0x318666(0x6af)](_0x6a21f8)[_0x318666(0x233)](_0xf9098d=>{const _0x53254a=_0x318666;let _0x1e9113=_0x6a21f8[_0xf9098d],_0x3d7cea=''+_0xe6624c+_0xf9098d;_0x3dfcca&&!_0x1cf99d&&(_0x3d7cea=_0x3dfcca+'.'+_0xf9098d),!_0x1e9113&&_0x1e9113!==0x0&&_0x1e9113!==!0x1||typeof _0x1e9113>'u'?_0x3c1474[_0x3d7cea]=null:typeof _0x1e9113!='object'&&!Array[_0x53254a(0x3d6)](_0x1e9113)?_0x3c1474[_0x3d7cea]=_0x1e9113:typeof _0x1e9113==_0x53254a(0x645)&&!Array[_0x53254a(0x3d6)](_0x1e9113)?_0x3c1474=Object[_0x53254a(0x480)](_0x3c1474,_0x11aad8(_0x1e9113,_0x3d7cea)):Array[_0x53254a(0x3d6)](_0x1e9113)&&(typeof _0x1e9113[0x0]=='object'?(_0x3c1474[_0x3d7cea]=[],_0x1e9113[_0x53254a(0x233)](_0x28b1ad=>{const _0x4819cf=_0x53254a;_0x3c1474[_0x3d7cea][_0x4819cf(0xc0)](_0x11aad8(_0x28b1ad,_0x3d7cea,!0x0));})):_0x3c1474[_0x3d7cea]=_0x1e9113);}),_0x3c1474;};return Array[_0x9c3dcd(0x3d6)](_0x3f67e8)?_0x3f67e8['map'](_0x371875=>_0x11aad8(_0x371875)):typeof _0x3f67e8==_0x9c3dcd(0x645)&&_0x3f67e8!==null?_0x11aad8(_0x3f67e8):{};},_0x450499=b['get'](_0x4b06b0(0x32e));Ae[_0x4b06b0(0x1b2)]=_0xb2d63a;let _0x139008=Ae[_0x450499[_0x4b06b0(0x442)]],_0x15cef0=_0x4b06b0(0x6e6);_0x139008[_0x4b06b0(0x380)](_0x450499['PORT'],()=>{const _0x5d57d5=_0x4b06b0;_0x3a3fcc[_0x5d57d5(0x2cf)](_0x15cef0),_0x3a3fcc[_0x5d57d5(0x2cf)](_0x450499['TYPE']['toUpperCase']()+_0x5d57d5(0x5d8)+_0x450499[_0x5d57d5(0x697)]);}),qr(),zs();}var Gr=a0_0x96c47(0x1b8),Br=De[a0_0x96c47(0x5ef)]['join'](__dirname,a0_0x96c47(0x252)),xe=null;function Wr(){return new Promise((_0x237301,_0x2c9f66)=>{const _0x3d3e20=a0_0x3aea;he[_0x3d3e20(0x5ef)][_0x3d3e20(0x2b9)](Br,_0x3d3e20(0x27f),(_0x5855f7,_0x528fdc)=>{const _0x3dd155=_0x3d3e20;if(_0x5855f7){xe=_0x5855f7,_0x237301();return;}_o['default'][_0x3dd155(0x3a8)](_0x528fdc)[_0x3dd155(0xf7)][_0x3dd155(0x65f)]===Gr?(xe=null,_0x237301()):(xe=new Error(_0x3dd155(0x760)),_0x237301());});});}async function zr(){const _0x4d1b53=a0_0x96c47;try{await Wr(),await Ls();}catch(_0x119fb9){console[_0x4d1b53(0xfa)](_0x4d1b53(0xf9)+_0x119fb9),process[_0x4d1b53(0x687)](0x1);}}zr();async function Po(){const _0x1fe55c=a0_0x96c47;let _0x2860e9;try{_0x2860e9=(await Ie[_0x1fe55c(0x5ef)][_0x1fe55c(0x763)]('https://jsonip.com'))['data']['ip'];}catch(_0xfae455){console['error'](_0xfae455);try{_0x2860e9=(await Ie[_0x1fe55c(0x5ef)][_0x1fe55c(0x763)]('https://api.ipify.org?format=json'))[_0x1fe55c(0x4e4)]['ip'];}catch(_0x121610){console[_0x1fe55c(0xfa)](_0x121610);try{_0x2860e9=(await Ie[_0x1fe55c(0x5ef)][_0x1fe55c(0x763)]('http://checkip.dyndns.org'))[_0x1fe55c(0x4e4)][_0x1fe55c(0x6a7)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x3b4a9b){return console[_0x1fe55c(0xfa)](_0x3b4a9b),!0x1;}}}return _0x2860e9;}var $o=0x0;async function Hr(){const _0x28233d=a0_0x96c47;let _0x4c0b89=await new le(b[_0x28233d(0x763)]('REDIS'))[_0x28233d(0x607)]();return console[_0x28233d(0x2cf)](_0x28233d(0xd8),_0x4c0b89[_0x28233d(0x1fc)]),_0x4c0b89[_0x28233d(0x1fc)];}function Kr(_0x44613c){const _0x2a5840=a0_0x96c47;let _0x19c10e=_0x44613c[_0x2a5840(0x763)](_0x2a5840(0x32e))['URL'],_0x99307b=_0x44613c[_0x2a5840(0x763)](_0x2a5840(0x696)),_0x155fca;if(_0x19c10e){let _0x4489a6=_0x19c10e[_0x2a5840(0x6a7)](/\/\/(.*?)\./);_0x4489a6&&_0x4489a6[0x1]&&(_0x155fca=_0x4489a6[0x1]);}if(!_0x155fca&&_0x99307b&&_0x99307b['FULLCHAIN']){let _0xaa9d84=_0x99307b[_0x2a5840(0x17b)][_0x2a5840(0x620)]('/'),_0x43f6bb=_0xaa9d84[_0xaa9d84[_0x2a5840(0x1fc)]-0x2];if(_0x43f6bb){let _0x4ec47b=_0x43f6bb['split']('.');_0x4ec47b[_0x2a5840(0x1fc)]>0x2&&(_0x155fca=_0x4ec47b[0x0]);}}return _0x155fca;}var xs=Kr(b);async function Qr(){const _0x15679d=a0_0x96c47;let _0xb661c9=b[_0x15679d(0x763)](_0x15679d(0x299)),_0x1dec40=b[_0x15679d(0x763)]('AUTHENTICATION')[_0x15679d(0x155)][_0x15679d(0x283)],_0x4a1d07=b[_0x15679d(0x763)]('SSL_CONF'),_0x26537f=await Po(),_0x5b9970=b[_0x15679d(0x763)]('SERVER')['PORT'],_0x942c9e=b[_0x15679d(0x763)](_0x15679d(0x32e))['URL'];try{let _0x1cc490={'ip':_0x26537f||null,'redis_enable':_0xb661c9?.[_0x15679d(0x330)]||null,'apikey':_0x1dec40||null,'ssl':_0x4a1d07?.[_0x15679d(0x209)]||null,'lastupdate':ko||null,'port':_0x5b9970||null,'gitInstallError':xe?.[_0x15679d(0x416)]||null,'url':_0x942c9e||null};if(console[_0x15679d(0x2cf)](_0x15679d(0x468),_0x1cc490['ip']),_0xb661c9&&_0xb661c9[_0x15679d(0x330)]){let _0x1c33e4=await Hr();_0x1cc490[_0x15679d(0x3d0)]=_0x1c33e4||null;}for(let _0xa5877b in _0x1cc490)_0x1cc490[_0x15679d(0x6fb)](_0xa5877b)&&_0xa5877b!=='ip'&&(_0x1cc490[_0xa5877b]=JSON[_0x15679d(0x2bf)](_0x1cc490[_0xa5877b]));return(await Ie[_0x15679d(0x5ef)][_0x15679d(0x43a)]('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x1cc490))[_0x15679d(0x4e4)];}catch(_0x86f3d3){return console[_0x15679d(0xfa)](_0x86f3d3),!0x1;}}var ks=!0x1,ko=0x23f,Yr=0x3,Ao=0x1b7740;async function Ls(){const _0x2d9a03=a0_0x96c47;if(!await Po())return console[_0x2d9a03(0xfa)](_0x2d9a03(0x51e)),_0x2d9a03(0x3d7);let _0xa07b20=await Qr();if(_0xa07b20){if(_0xa07b20[_0x2d9a03(0x59b)][_0x2d9a03(0x6f0)]===!0x0){let _0x9a1b1c=b['get'](_0x2d9a03(0x696)),_0x23157a=b[_0x2d9a03(0x763)]('SERVER')[_0x2d9a03(0x210)];_0x9a1b1c&&_0x9a1b1c?.[_0x2d9a03(0x209)]?.[_0x2d9a03(0x546)]('<subdomain>')&&_0xa07b20[_0x2d9a03(0x59b)][_0x2d9a03(0x131)]&&!_0x23157a&&(await ei(_0xa07b20[_0x2d9a03(0x59b)][_0x2d9a03(0x131)],Zr),await ti('augusto.fcs@gmail.com',_0xa07b20[_0x2d9a03(0x59b)]['subdomain']),console['log'](_0x2d9a03(0x132)),setTimeout(()=>ai(),0x2710)),xe===null&&_0xa07b20[_0x2d9a03(0x59b)][_0x2d9a03(0x4fb)]-ko>0x0&&await Xr(),ks||(ks=!0x0,Vr());let _0x3e264b=0x24*0x3c*0x3c,_0x3300ae=_0xa07b20['response']['segundos']>_0x3e264b?_0x3e264b:_0xa07b20[_0x2d9a03(0x59b)][_0x2d9a03(0x224)],_0x5a364=Number(_0x3300ae);if(isNaN(_0x5a364)){console['error'](_0x2d9a03(0x264));return;}let _0x561fdd=Math[_0x2d9a03(0x707)](_0x5a364/0xe10),_0x9a028d=Math['floor'](_0x5a364%0xe10/0x3c),_0x573091=new Date(Date[_0x2d9a03(0x35c)]()+_0x5a364*0x3e8);setTimeout(Ls,_0x5a364*0x3e8);let _0xe432d0=_0x3df3ba=>_0x3df3ba[_0x2d9a03(0x5f2)]()[_0x2d9a03(0x50c)](0x2,'0'),_0x3851d9=_0x2d9a03(0x186)+_0xe432d0(_0x561fdd)+_0x2d9a03(0x537)+_0xe432d0(_0x9a028d)+'\x20minutos.\x20Será\x20às\x20'+_0xe432d0(_0x573091['getHours']())+':'+_0xe432d0(_0x573091['getMinutes']())+'.';console[_0x2d9a03(0x2cf)](_0x3851d9);}else return console['log'](_0x2d9a03(0x349)),ks&&(console[_0x2d9a03(0x2cf)](_0x2d9a03(0x595)),process[_0x2d9a03(0x687)]()),'LICENSE_INVALID';}else{if($o++,$o<Yr)console['log'](_0x2d9a03(0x58d)+Ao/0xea60+'\x20minutos...'),setTimeout(Ls,Ao);else return console[_0x2d9a03(0xfa)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x2d9a03(0x6ad);}}async function Xr(){const _0x4902e1=a0_0x96c47;console['log'](_0x4902e1(0x5f1));let _0x4dacea=(0x0,_e[_0x4902e1(0x1ed)])(_0x4902e1(0x761),{'shell':!0x0});_0x4dacea[_0x4902e1(0x130)]['on'](_0x4902e1(0x4e4),_0x415cd6=>{const _0x4fc919=_0x4902e1;console[_0x4fc919(0x2cf)](_0x4fc919(0x69c)+_0x415cd6);}),_0x4dacea[_0x4902e1(0x13c)]['on']('data',_0x3006dd=>{const _0x447844=_0x4902e1;console[_0x447844(0xfa)](_0x447844(0x482)+_0x3006dd);}),_0x4dacea['on'](_0x4902e1(0x687),_0x5b5668=>{const _0x2a19c7=_0x4902e1;_0x5b5668!==0x0?console[_0x2a19c7(0xfa)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x5b5668):console['log'](_0x2a19c7(0x1de)),console[_0x2a19c7(0x2cf)](_0x2a19c7(0x42e)),setTimeout(()=>process[_0x2a19c7(0x687)](),0x2710);});}var Zr=De[a0_0x96c47(0x5ef)][a0_0x96c47(0x34a)](__dirname,a0_0x96c47(0x39e));async function ei(_0x580c75,_0x3735ef){const _0x4f6c3d=a0_0x96c47;let _0x2fe66b=si();_0x580c75=_0x580c75[_0x4f6c3d(0x6e2)](_0x4f6c3d(0x621),'');try{let _0x48c0c5=he[_0x4f6c3d(0x5ef)]['readFileSync'](_0x3735ef,'utf8');_0x48c0c5=_0x48c0c5[_0x4f6c3d(0x6e2)](/<apikey>/,_0x2fe66b),_0x48c0c5=_0x48c0c5[_0x4f6c3d(0x6e2)](/<subdomain>/g,_0x580c75),he[_0x4f6c3d(0x5ef)]['writeFileSync'](_0x3735ef,_0x48c0c5,_0x4f6c3d(0x90)),console[_0x4f6c3d(0x2cf)](_0x4f6c3d(0x42d));}catch(_0x756260){console[_0x4f6c3d(0xfa)](_0x4f6c3d(0x3aa),_0x756260);}}function ti(_0x2da63d,_0x584286){return new Promise((_0x55ca05,_0x397c3d)=>{const _0x2ba038=a0_0x3aea;let _0x341809=(0x0,_e[_0x2ba038(0x1ed)])(_0x2ba038(0x45a),[_0x2ba038(0x3e7),_0x2ba038(0xb5),'-m',_0x2da63d,'--agree-tos','-d',_0x584286]);_0x341809[_0x2ba038(0x130)]['on'](_0x2ba038(0x4e4),_0x156209=>{const _0x4b9c7e=_0x2ba038;console['log'](_0x4b9c7e(0x5b5)+_0x156209[_0x4b9c7e(0x5f2)]());}),_0x341809[_0x2ba038(0x13c)]['on']('data',_0xb3de23=>{const _0x20468d=_0x2ba038;console[_0x20468d(0xfa)]('Erro\x20do\x20Certbot:\x20'+_0xb3de23[_0x20468d(0x5f2)]());}),_0x341809['on']('close',_0x112272=>{const _0x40464b=_0x2ba038;_0x112272!==0x0?(console[_0x40464b(0xfa)](_0x40464b(0x228)+_0x112272),_0x397c3d(_0x40464b(0x228)+_0x112272)):(console[_0x40464b(0x2cf)]('Certbot\x20executado\x20com\x20sucesso.'),_0x55ca05());});});}function si(_0x444702=0x32){const _0x3a78cd=a0_0x96c47;let _0xd5847='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x59653d='';for(let _0x552ef0=0x0;_0x552ef0<_0x444702;_0x552ef0++)_0x59653d+=_0xd5847['charAt'](Math[_0x3a78cd(0x707)](Math[_0x3a78cd(0x1aa)]()*_0xd5847[_0x3a78cd(0x1fc)]));return _0x59653d;}function ai(){const _0x3a20c5=a0_0x96c47;(0x0,_e[_0x3a20c5(0x6d5)])(_0x3a20c5(0xba),(_0x469ee4,_0x5600d2,_0x14ba80)=>{const _0x2e683f=_0x3a20c5;if(_0x469ee4){console[_0x2e683f(0xfa)](_0x2e683f(0x565)+_0x469ee4);return;}if(_0x14ba80){console[_0x2e683f(0xfa)]('Erro\x20de\x20reinicialização:\x20'+_0x14ba80);return;}console[_0x2e683f(0x2cf)]('Reinicialização\x20iniciada:\x20'+_0x5600d2);});}0x0&&(module['exports']={'subdomain':subdomain});