const a0_0x2aa7ab=a0_0x4fa0;(function(_0x49caf8,_0x2f7349){const _0x5ebf09=a0_0x4fa0,_0x1c7475=_0x49caf8();while(!![]){try{const _0x777610=parseInt(_0x5ebf09(0x213))/0x1*(parseInt(_0x5ebf09(0x6bd))/0x2)+parseInt(_0x5ebf09(0x668))/0x3+parseInt(_0x5ebf09(0x62e))/0x4*(parseInt(_0x5ebf09(0x5b8))/0x5)+-parseInt(_0x5ebf09(0x816))/0x6+parseInt(_0x5ebf09(0x3b7))/0x7+parseInt(_0x5ebf09(0x328))/0x8+parseInt(_0x5ebf09(0x3f8))/0x9*(-parseInt(_0x5ebf09(0x28a))/0xa);if(_0x777610===_0x2f7349)break;else _0x1c7475['push'](_0x1c7475['shift']());}catch(_0x42510a){_0x1c7475['push'](_0x1c7475['shift']());}}}(a0_0x4a8a,0xbfd96));var Jr=Object['create'],_e=Object[a0_0x2aa7ab(0x4a4)],Vr=Object[a0_0x2aa7ab(0x38b)],Br=Object['getOwnPropertyNames'],Gr=Object[a0_0x2aa7ab(0x15a)],Wr=Object[a0_0x2aa7ab(0x59c)]['hasOwnProperty'],zr=(_0x3668e8,_0x5730c8)=>{for(var _0x4084d1 in _0x5730c8)_e(_0x3668e8,_0x4084d1,{'get':_0x5730c8[_0x4084d1],'enumerable':!0x0});},Fs=(_0x191f8c,_0x93901,_0x34f8bc,_0xb8428a)=>{const _0x2742f1=a0_0x2aa7ab;if(_0x93901&&typeof _0x93901==_0x2742f1(0x76d)||typeof _0x93901==_0x2742f1(0x624)){for(let _0x37e255 of Br(_0x93901))!Wr[_0x2742f1(0x399)](_0x191f8c,_0x37e255)&&_0x37e255!==_0x34f8bc&&_e(_0x191f8c,_0x37e255,{'get':()=>_0x93901[_0x37e255],'enumerable':!(_0xb8428a=Vr(_0x93901,_0x37e255))||_0xb8428a['enumerable']});}return _0x191f8c;},O=(_0x4d99e7,_0x4662cf,_0x547ddb)=>(_0x547ddb=_0x4d99e7!=null?Jr(Gr(_0x4d99e7)):{},Fs(_0x4662cf||!_0x4d99e7||!_0x4d99e7['__esModule']?_e(_0x547ddb,a0_0x2aa7ab(0x798),{'value':_0x4d99e7,'enumerable':!0x0}):_0x547ddb,_0x4d99e7)),Hr=_0x31070b=>Fs(_e({},'__esModule',{'value':!0x0}),_0x31070b),ao={};zr(ao,{'subdomain':()=>Ds}),module['exports']=Hr(ao);var kr=O(require(a0_0x2aa7ab(0x55f))),qs=require('fs'),Js=require('js-yaml'),Vs=require(a0_0x2aa7ab(0x1ae)),Pe=require(a0_0x2aa7ab(0x1ae)),ie=process[a0_0x2aa7ab(0x6c8)](),ge=(0x0,Pe[a0_0x2aa7ab(0x1a2)])(ie,'instances'),Us=(0x0,Pe['join'])(ie,a0_0x2aa7ab(0x2cb)),Xo=(0x0,Pe['join'])(ie,a0_0x2aa7ab(0x4d4),a0_0x2aa7ab(0x441)),is=class{constructor(){const _0x55ac08=a0_0x2aa7ab;this[_0x55ac08(0x78a)]();}[a0_0x2aa7ab(0x54a)](_0x3f969a){return this['env'][_0x3f969a];}[a0_0x2aa7ab(0x78a)](){const _0x3e74ee=a0_0x2aa7ab;this[_0x3e74ee(0x558)]=process[_0x3e74ee(0x558)]?.['DOCKER_ENV']!==_0x3e74ee(0x5ae)?this[_0x3e74ee(0x560)]():this['envProcess'](),process[_0x3e74ee(0x558)]?.['DOCKER_ENV']===_0x3e74ee(0x5ae)&&(this[_0x3e74ee(0x558)]['SERVER'][_0x3e74ee(0x38c)]=_0x3e74ee(0x47d),this[_0x3e74ee(0x558)][_0x3e74ee(0x72c)][_0x3e74ee(0x50a)]=Number[_0x3e74ee(0x425)](process['env']?.[_0x3e74ee(0x753)]??'8080'));}['envYaml'](){const _0x59fd19=a0_0x2aa7ab;return(0x0,Js[_0x59fd19(0x6b5)])((0x0,qs['readFileSync'])((0x0,Vs[_0x59fd19(0x1a2)])(Us,_0x59fd19(0x2c5)),{'encoding':_0x59fd19(0x23b)}));}[a0_0x2aa7ab(0x3da)](){const _0x17d853=a0_0x2aa7ab;return{'SERVER':{'TYPE':process[_0x17d853(0x558)][_0x17d853(0x17a)],'PORT':Number[_0x17d853(0x425)](process[_0x17d853(0x558)]['SERVER_PORT']),'URL':process['env'][_0x17d853(0x1db)]},'CORS':{'ORIGIN':process[_0x17d853(0x558)][_0x17d853(0x1cf)]['split'](','),'METHODS':process[_0x17d853(0x558)][_0x17d853(0x470)][_0x17d853(0x3fa)](','),'CREDENTIALS':process[_0x17d853(0x558)]?.[_0x17d853(0x562)]===_0x17d853(0x5ae)},'SSL_CONF':{'PRIVKEY':process[_0x17d853(0x558)]?.[_0x17d853(0x228)],'FULLCHAIN':process[_0x17d853(0x558)]?.[_0x17d853(0x44c)]},'STORE':{'CLEANING_INTERVAL':Number[_0x17d853(0x515)](process[_0x17d853(0x558)]?.['STORE_CLEANING_TERMINAL'])?Number['parseInt'](process[_0x17d853(0x558)][_0x17d853(0x5e7)]):void 0x0,'MESSAGES':process[_0x17d853(0x558)]?.['STORE_MESSAGE']===_0x17d853(0x5ae),'CONTACTS':process[_0x17d853(0x558)]?.[_0x17d853(0x6e0)]===_0x17d853(0x5ae),'CHATS':process[_0x17d853(0x558)]?.[_0x17d853(0x63e)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process['env']?.[_0x17d853(0x7ad)],'PORT':Number[_0x17d853(0x425)](process['env']?.[_0x17d853(0x7ad)]),'USER':process['env'][_0x17d853(0x354)],'PASSWORD':process[_0x17d853(0x558)][_0x17d853(0x5b1)],'URI':process[_0x17d853(0x558)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process[_0x17d853(0x558)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process['env']?.['DATABASE_ENABLED']==='true'},'REDIS':{'ENABLED':process[_0x17d853(0x558)]?.[_0x17d853(0x329)]===_0x17d853(0x5ae),'URI':process['env'][_0x17d853(0x5f6)]||_0x17d853(0x5fe),'PREFIX_KEY':process[_0x17d853(0x558)][_0x17d853(0x5e0)]||_0x17d853(0x350)},'LOG':{'LEVEL':process[_0x17d853(0x558)]?.['LOG_LEVEL'][_0x17d853(0x3fa)](','),'COLOR':process[_0x17d853(0x558)]?.[_0x17d853(0x5d5)]==='true'},'PROXY':Number[_0x17d853(0x425)](process[_0x17d853(0x558)]?.['PROXY']),'AUTHENTICATION':{'TYPE':process[_0x17d853(0x558)][_0x17d853(0x604)],'API_KEY':{'KEY':process[_0x17d853(0x558)][_0x17d853(0x356)]},'JWT':{'EXPIRIN_IN':Number[_0x17d853(0x515)](process[_0x17d853(0x558)]?.[_0x17d853(0x279)])?Number[_0x17d853(0x425)](process[_0x17d853(0x558)][_0x17d853(0x279)]):0xe10,'SECRET':process[_0x17d853(0x558)][_0x17d853(0x3e0)]}}};}},b=new is(),Lr=O(require(a0_0x2aa7ab(0x555))),he=O(require(a0_0x2aa7ab(0x817))),Ls=require(a0_0x2aa7ab(0x1ae)),os=O(require(a0_0x2aa7ab(0x4c6))),ns=(_0x1ffb4f=>(_0x1ffb4f[a0_0x2aa7ab(0x1d6)]=a0_0x2aa7ab(0x5dc),_0x1ffb4f[a0_0x2aa7ab(0x1e4)]=a0_0x2aa7ab(0x790),_0x1ffb4f[a0_0x2aa7ab(0x49f)]=a0_0x2aa7ab(0x3ba),_0x1ffb4f[a0_0x2aa7ab(0x681)]=a0_0x2aa7ab(0x1ed),_0x1ffb4f[a0_0x2aa7ab(0x48c)]=a0_0x2aa7ab(0x50f),_0x1ffb4f['VERBOSE']=a0_0x2aa7ab(0x80d),_0x1ffb4f['DARK']=a0_0x2aa7ab(0x40c),_0x1ffb4f))(ns||{}),Bs=(_0x35edb5=>(_0x35edb5['LOG']='\x1b[32m%s\x1b[0m',_0x35edb5['DARK']=a0_0x2aa7ab(0x606),_0x35edb5['INFO']='\x1b[34m%s\x1b[0m',_0x35edb5[a0_0x2aa7ab(0x49f)]=a0_0x2aa7ab(0x6f8),_0x35edb5[a0_0x2aa7ab(0x681)]=a0_0x2aa7ab(0x43a),_0x35edb5[a0_0x2aa7ab(0x48c)]=a0_0x2aa7ab(0x56e),_0x35edb5['VERBOSE']='\x1b[37m%s\x1b[0m',_0x35edb5))(Bs||{}),Gs=(_0x206912=>(_0x206912[a0_0x2aa7ab(0x1d6)]='LOG',_0x206912[a0_0x2aa7ab(0x49f)]='WARN',_0x206912[a0_0x2aa7ab(0x1e4)]='INFO',_0x206912[a0_0x2aa7ab(0x641)]=a0_0x2aa7ab(0x641),_0x206912[a0_0x2aa7ab(0x681)]=a0_0x2aa7ab(0x681),_0x206912[a0_0x2aa7ab(0x48c)]=a0_0x2aa7ab(0x48c),_0x206912[a0_0x2aa7ab(0x264)]='VERBOSE',_0x206912))(Gs||{}),Ws=(_0xdb0974=>(_0xdb0974[a0_0x2aa7ab(0x1d6)]=a0_0x2aa7ab(0x4c2),_0xdb0974[a0_0x2aa7ab(0x1e4)]=a0_0x2aa7ab(0x5c6),_0xdb0974[a0_0x2aa7ab(0x49f)]=a0_0x2aa7ab(0x683),_0xdb0974[a0_0x2aa7ab(0x641)]=a0_0x2aa7ab(0x26f),_0xdb0974['ERROR']=a0_0x2aa7ab(0x5f0),_0xdb0974[a0_0x2aa7ab(0x48c)]='\x1b[46m',_0xdb0974[a0_0x2aa7ab(0x264)]=a0_0x2aa7ab(0x7c2),_0xdb0974))(Ws||{}),N=class{constructor(_0x10f272='Logger'){const _0x3b624b=a0_0x2aa7ab;this[_0x3b624b(0x2ee)]=_0x10f272,this[_0x3b624b(0x22b)]=b;}[a0_0x2aa7ab(0x51d)](_0x553a38){this['context']=_0x553a38;}[a0_0x2aa7ab(0x23d)](_0xdc81dc,_0x390530){const _0x5f42fc=a0_0x2aa7ab;let _0x3a7fe7=[];this['configService'][_0x5f42fc(0x54a)](_0x5f42fc(0x1d6))[_0x5f42fc(0x2a6)]['forEach'](_0x53a478=>_0x3a7fe7[_0x5f42fc(0x31c)](Gs[_0x53a478]));let _0x57e9df=typeof _0xdc81dc;_0x3a7fe7[_0x5f42fc(0x323)](_0x390530)&&(b['get']('LOG')[_0x5f42fc(0x262)]?(console[_0x5f42fc(0x357)](_0x5f42fc(0x5f1)+Bs[_0x390530],'\x1b[1m\x1b[37m',(0x0,os[_0x5f42fc(0x798)])()[_0x5f42fc(0x591)](_0x5f42fc(0x2a9)),_0x5f42fc(0x49e),ns[_0x390530]+Ws[_0x390530]+'\x1b[1m',_0x390530+_0x5f42fc(0x603),_0x5f42fc(0x44e),this[_0x5f42fc(0x2ee)]+_0x5f42fc(0x49e),ns[_0x390530],_0x57e9df!==_0x5f42fc(0x76d)?_0xdc81dc:'','\x1b[0m'),_0x57e9df==='object'&&console[_0x5f42fc(0x357)](_0xdc81dc,'\x0a')):console[_0x5f42fc(0x357)]((0x0,os[_0x5f42fc(0x798)])()[_0x5f42fc(0x591)](_0x5f42fc(0x7f5)),_0x390530+'\x20',''+this['context'],_0xdc81dc));}['log'](_0x27e1e1){const _0x5bb63f=a0_0x2aa7ab;this[_0x5bb63f(0x23d)](_0x27e1e1,'LOG');}[a0_0x2aa7ab(0x4e7)](_0x3ec529){const _0x5ea00f=a0_0x2aa7ab;this[_0x5ea00f(0x23d)](_0x3ec529,_0x5ea00f(0x1e4));}[a0_0x2aa7ab(0x634)](_0x37a3d8){const _0x6e6dac=a0_0x2aa7ab;this[_0x6e6dac(0x23d)](_0x37a3d8,_0x6e6dac(0x49f));}[a0_0x2aa7ab(0x7e7)](_0x40864a){const _0xd705b1=a0_0x2aa7ab;this[_0xd705b1(0x23d)](_0x40864a,_0xd705b1(0x681));}[a0_0x2aa7ab(0x477)](_0x167231){const _0xb73897=a0_0x2aa7ab;this[_0xb73897(0x23d)](_0x167231,'VERBOSE');}[a0_0x2aa7ab(0x6fd)](_0x39c590){this['console'](_0x39c590,'DEBUG');}['dark'](_0x1457e9){const _0xfaa34b=a0_0x2aa7ab;this[_0xfaa34b(0x23d)](_0x1457e9,_0xfaa34b(0x641));}};function zs(){const _0x4ff6d2=a0_0x2aa7ab;process['on'](_0x4ff6d2(0x684),(_0x27a1a9,_0x46f744)=>{const _0x316379=_0x4ff6d2;new N(_0x316379(0x684))[_0x316379(0x7e7)]({'origin':_0x46f744,'stderr':process['stderr']['fd'],'error':_0x27a1a9});}),process['on'](_0x4ff6d2(0x452),(_0x36e75a,_0x1af1d1)=>{const _0x13c449=_0x4ff6d2;new N(_0x13c449(0x452))['error']({'origin':_0x1af1d1,'stderr':process[_0x13c449(0x571)]['fd'],'error':_0x36e75a});});}var Hs=O(require(a0_0x2aa7ab(0x4e3))),cs=new Hs[(a0_0x2aa7ab(0x798))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),ke=require(a0_0x2aa7ab(0x302)),Se=O(require(a0_0x2aa7ab(0x302))),$e=new N('Db\x20Connection'),$=b[a0_0x2aa7ab(0x54a)]('DATABASE'),R=$[a0_0x2aa7ab(0x2a2)]?$[a0_0x2aa7ab(0x71e)][a0_0x2aa7ab(0x2b3)]?Se[a0_0x2aa7ab(0x798)][a0_0x2aa7ab(0x550)]($[a0_0x2aa7ab(0x71e)][a0_0x2aa7ab(0x2b3)],{'dbName':$[a0_0x2aa7ab(0x71e)][a0_0x2aa7ab(0x275)]+a0_0x2aa7ab(0x46e)}):Se['default']['createConnection'](a0_0x2aa7ab(0x4df)+$[a0_0x2aa7ab(0x71e)][a0_0x2aa7ab(0x4b4)]+':'+$[a0_0x2aa7ab(0x71e)]['PORT']+a0_0x2aa7ab(0x760),{'user':$[a0_0x2aa7ab(0x71e)]['USER'],'pass':$[a0_0x2aa7ab(0x71e)][a0_0x2aa7ab(0x3b6)],'dbName':$['CONNECTION'][a0_0x2aa7ab(0x275)]+a0_0x2aa7ab(0x46e)}):null;$[a0_0x2aa7ab(0x2a2)]&&$e['info'](a0_0x2aa7ab(0x3c9)+R[a0_0x2aa7ab(0x42e)]);var me=$['ENABLED']?$[a0_0x2aa7ab(0x71e)][a0_0x2aa7ab(0x2b3)]?Se[a0_0x2aa7ab(0x798)][a0_0x2aa7ab(0x550)]($[a0_0x2aa7ab(0x71e)][a0_0x2aa7ab(0x2b3)],{'dbName':a0_0x2aa7ab(0x66d)}):Se[a0_0x2aa7ab(0x798)]['createConnection']('mongodb://'+$['CONNECTION'][a0_0x2aa7ab(0x4b4)]+':'+$[a0_0x2aa7ab(0x71e)]['PORT']+a0_0x2aa7ab(0x760),{'user':$[a0_0x2aa7ab(0x71e)][a0_0x2aa7ab(0x20f)],'pass':$[a0_0x2aa7ab(0x71e)][a0_0x2aa7ab(0x3b6)],'dbName':'cachedContacts-whatsapp'}):null;me&&$e[a0_0x2aa7ab(0x4e7)](a0_0x2aa7ab(0x3c9)+me[a0_0x2aa7ab(0x42e)]),process['on'](a0_0x2aa7ab(0x4e6),()=>{const _0x395d78=a0_0x2aa7ab;R&&R['close'](()=>{const _0x111a41=a0_0x4fa0;$e[_0x111a41(0x4e7)](_0x111a41(0x438));}),me&&me[_0x395d78(0x601)](()=>{const _0x3567c8=_0x395d78;$e['info'](_0x3567c8(0x7ec));});});var Kr=new ke[(a0_0x2aa7ab(0x208))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Qr=new ke['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Kr],'default':[]},'statusLead':{'type':String},'note':{'type':String},'disableFlowsUntil':{'type':Number},'serviceOpen':{'type':Boolean},'assignedTo':{'type':String}},{'_id':!0x1}),Yr=new ke['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Qr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Ks=_0x1e89fb=>{const _0x386a42=a0_0x2aa7ab;let _0x80d0f9='z_'+_0x1e89fb+_0x386a42(0x594);return R?.['model'](_0x386a42(0x4a8),Yr,_0x80d0f9);},Qs=require(a0_0x2aa7ab(0x302)),Xr=new Qs['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Ys=_0x131850=>{const _0x4fa7d3=a0_0x2aa7ab;let _0x29bf0e='z_'+_0x131850+_0x4fa7d3(0x814);return R?.['model'](_0x4fa7d3(0x567),Xr,_0x29bf0e);},Xs=require('mongoose'),ls=class{},Zr=new Xs[(a0_0x2aa7ab(0x208))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=me?.[a0_0x2aa7ab(0x711)](ls[a0_0x2aa7ab(0x6f5)],Zr,a0_0x2aa7ab(0x220)),ea=require('mongoose'),ei=new ea[(a0_0x2aa7ab(0x208))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),ta=_0xbba519=>{const _0x1cc323=a0_0x2aa7ab;let _0x459f71='z_'+_0xbba519+_0x1cc323(0x3dc);return R?.['model'](_0x1cc323(0x370),ei,_0x459f71);},sa=require(a0_0x2aa7ab(0x302)),us=class{},ti=new sa[(a0_0x2aa7ab(0x208))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),aa=R?.[a0_0x2aa7ab(0x711)](us[a0_0x2aa7ab(0x6f5)],ti,a0_0x2aa7ab(0x405)),ra=require(a0_0x2aa7ab(0x302)),ds=class{},ia=new ra[(a0_0x2aa7ab(0x208))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ia['pre']('save',function(_0x2eb8a6){const _0x531192=a0_0x2aa7ab;delete this['flowActive'],delete this['flowIgnoreGroups'],delete this[_0x531192(0x602)],delete this[_0x531192(0x1b9)],delete this[_0x531192(0x3f0)],_0x2eb8a6();});var oa=R?.['model'](ds[a0_0x2aa7ab(0x6f5)],ia,a0_0x2aa7ab(0x610)),k=require('mongoose'),na=require(a0_0x2aa7ab(0x2be)),Le=class{},ca=new k[(a0_0x2aa7ab(0x208))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ps=new k['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),si=new k[(a0_0x2aa7ab(0x208))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x2aa7ab(0x809)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x2aa7ab(0x7ae)},'pollErrorMessage':{'type':String,'default':a0_0x2aa7ab(0x3a8)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),la=new k[(a0_0x2aa7ab(0x208))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ai=new k[(a0_0x2aa7ab(0x208))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean}},{'_id':!0x1}),ri=new k[(a0_0x2aa7ab(0x208))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ua=new k[(a0_0x2aa7ab(0x208))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':si},'apirequest':ai,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ws=new k[(a0_0x2aa7ab(0x208))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),da=new k[(a0_0x2aa7ab(0x208))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),hs=class{},je=new k[(a0_0x2aa7ab(0x208))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,na['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x23a82a=a0_0x2aa7ab;return'!cmd_'+Math[_0x23a82a(0x507)]()['toString'](0x24)[_0x23a82a(0x164)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ws],'variablesNotFound':{'type':[String]},'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ps],'default':[]}});je[a0_0x2aa7ab(0x7fe)]('save',function(_0x3d322d){const _0x4a5ac7=a0_0x2aa7ab;let _0x4095d6=new Set(),_0x2403c1=new Set(this[_0x4a5ac7(0x511)]?.[_0x4a5ac7(0x360)](_0x750b31=>_0x750b31['name'])),_0x538269=JSON[_0x4a5ac7(0x7c7)](this),_0x431e88=/{{(?!_)([^}]*)}}/g,_0x1f7987;for(;(_0x1f7987=_0x431e88[_0x4a5ac7(0x33d)](_0x538269))!==null;)_0x2403c1[_0x4a5ac7(0x4d1)](_0x1f7987[0x1])||_0x4095d6['add'](_0x1f7987[0x1]);_0x4095d6[_0x4a5ac7(0x1df)]>0x0?(console['warn']('Variáveis\x20não\x20encontradas:',Array[_0x4a5ac7(0x36a)](_0x4095d6)),this[_0x4a5ac7(0x2b9)]=Array['from'](_0x4095d6)):this[_0x4a5ac7(0x2b9)]=[],_0x3d322d();}),je['pre'](a0_0x2aa7ab(0x1bc),function(_0xd21ff3){const _0x3198e6=a0_0x2aa7ab;let _0x22cd1a=this[_0x3198e6(0x2ed)]();if(_0x22cd1a&&typeof _0x22cd1a==_0x3198e6(0x76d)&&'$set'in _0x22cd1a){let _0x474616=_0x22cd1a['$set'];if(_0x474616){let _0xce9c=new Set(),_0x19e413=new Set(_0x474616[_0x3198e6(0x511)]?.[_0x3198e6(0x360)](_0x35ff8b=>_0x35ff8b['name'])),_0xca0dbc=JSON['stringify'](_0x474616),_0x5adc72=/{{(?!_)([^}]*)}}/g,_0x555c37;for(;(_0x555c37=_0x5adc72[_0x3198e6(0x33d)](_0xca0dbc))!==null;)_0x19e413[_0x3198e6(0x4d1)](_0x555c37[0x1])||_0xce9c[_0x3198e6(0x485)](_0x555c37[0x1]);_0xce9c[_0x3198e6(0x1df)]>0x0?(console[_0x3198e6(0x634)]('Variáveis\x20não\x20encontradas:',Array['from'](_0xce9c)),_0x474616[_0x3198e6(0x2b9)]=Array['from'](_0xce9c)):_0x474616[_0x3198e6(0x2b9)]=[],this[_0x3198e6(0x7f3)]({'$set':_0x474616});}}_0xd21ff3();});var pa=_0x245306=>{const _0x54f46f=a0_0x2aa7ab;let _0x4c8553='z_'+_0x245306+_0x54f46f(0x181);return R?.[_0x54f46f(0x711)](_0x54f46f(0x6ef),je,_0x4c8553);},ha=R?.[a0_0x2aa7ab(0x711)](hs[a0_0x2aa7ab(0x6f5)],je,a0_0x2aa7ab(0x722)),ii=new k[(a0_0x2aa7ab(0x208))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ws],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ri]},{'_id':!0x1}),gs=class{},ga=new k[(a0_0x2aa7ab(0x208))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ws],'blocks':[ua],'groups':[ca],'conditions':[la],'varedits':[da],'replyOptions':{'type':[ps],'default':[]},'chatLog':ii,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x2aa7ab(0x7ae)},'waitingMenu_replyOptions':{'type':[ps],'default':[]}}),ma=_0x3fe071=>{const _0x29cff9=a0_0x2aa7ab;let _0x5046b6='z_'+_0x3fe071+_0x29cff9(0x39d);return R?.[_0x29cff9(0x711)](_0x29cff9(0x783),ga,_0x5046b6);},fa=R?.[a0_0x2aa7ab(0x711)](gs['name'],ga,'flowConversation'),ms=class{},oi=new k['Schema']({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),ni=new k[(a0_0x2aa7ab(0x208))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),wa=new k[(a0_0x2aa7ab(0x208))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x2aa7ab(0x4d5)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':ni,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[oi],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ya=_0x1d0e24=>{const _0x4ec07c=a0_0x2aa7ab;let _0x3184ac='z_'+_0x1d0e24+_0x4ec07c(0x1c0);return R?.[_0x4ec07c(0x711)]('ScheduleMessageModel',wa,_0x3184ac);},ba=R?.[a0_0x2aa7ab(0x711)](ms[a0_0x2aa7ab(0x6f5)],wa,a0_0x2aa7ab(0x695)),fs=class{},ci=new k[(a0_0x2aa7ab(0x208))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),li=new k[(a0_0x2aa7ab(0x208))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x2aa7ab(0x697)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),ui=new k[(a0_0x2aa7ab(0x208))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),di=new k[(a0_0x2aa7ab(0x208))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[ui]},'customFields':{'type':[ci]},'flowConfig':{'type':li,'default':{}}}),Fe=R?.[a0_0x2aa7ab(0x711)](fs[a0_0x2aa7ab(0x6f5)],di,'AutomateSystem'),Sa=require(a0_0x2aa7ab(0x302)),pi=new Sa[(a0_0x2aa7ab(0x208))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ca=_0x12c212=>{const _0x41d004=a0_0x2aa7ab;let _0x358015='z_'+_0x12c212+_0x41d004(0x1dd);return R?.[_0x41d004(0x711)](_0x41d004(0x761),pi,_0x358015);},D=class{constructor(_0x38d9cd){const _0x4e4a16=a0_0x2aa7ab;this[_0x4e4a16(0x4d7)]=_0x38d9cd[_0x4e4a16(0x54a)](_0x4e4a16(0x2d0));}};function A(_0x3129aa){const _0x50d23c=a0_0x2aa7ab;let _0x18a295={};for(let [_0x4e4083,_0x5dee47]of Object['entries'](_0x3129aa))if(typeof _0x5dee47=='object'&&!Array[_0x50d23c(0x166)](_0x5dee47)){for(let [_0xa9e213,_0x17774d]of Object[_0x50d23c(0x363)](_0x5dee47))_0x18a295[_0x4e4083+'.'+_0xa9e213]=_0x17774d;}else _0x18a295[_0x4e4083]=_0x5dee47;return _0x18a295;}var Ue=class{constructor(_0x418a68,_0x19d9a3,_0x530099,_0x71d6d8,_0x4a4d4d,_0x4449c3,_0x4feaa3,_0x381518,_0x162d44,_0xd98da4,_0x12d1ba,_0x2136f8){const _0x4b2464=a0_0x2aa7ab;this['message']=_0x418a68,this[_0x4b2464(0x6cc)]=_0x19d9a3,this['contact']=_0x530099,this[_0x4b2464(0x45c)]=_0x71d6d8,this[_0x4b2464(0x610)]=_0x4a4d4d,this[_0x4b2464(0x441)]=_0x4449c3,this[_0x4b2464(0x722)]=_0x4feaa3,this[_0x4b2464(0x521)]=_0x381518,this[_0x4b2464(0x3ab)]=_0x162d44,this[_0x4b2464(0x552)]=_0xd98da4,this[_0x4b2464(0x472)]=_0x12d1ba,this[_0x4b2464(0x223)]=_0x2136f8;}get[a0_0x2aa7ab(0x3cb)](){return this['dbClient'];}},qe=class{},Je=class extends D{[a0_0x2aa7ab(0x7f0)](_0x2b4e27){return ta(_0x2b4e27);}async[a0_0x2aa7ab(0x3fc)](_0x4c9c9d,_0x37491e){const _0x59ed8e=a0_0x2aa7ab;if(_0x4c9c9d[_0x59ed8e(0x57b)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x59ed8e(0x7f0)](_0x37491e)['insertMany']([..._0x4c9c9d]))[_0x59ed8e(0x57b)]};}catch(_0x3e2651){return _0x3e2651;}}async[a0_0x2aa7ab(0x701)](_0x4b9e9e,_0x11d297){const _0x37c6cb=a0_0x2aa7ab;try{let _0x2df84f=this['getMessageModelForOwner'](_0x11d297),_0x509087=A(_0x4b9e9e[_0x37c6cb(0x6de)]);return await _0x2df84f[_0x37c6cb(0x701)](_0x509087)[_0x37c6cb(0x28c)]({'messageTimestamp':-0x1})[_0x37c6cb(0x249)](_0x4b9e9e?.['limit']??0x0)[_0x37c6cb(0x27d)]();}catch{return[];}}async['delete'](_0x5ab180,_0x339b78){const _0x157cfc=a0_0x2aa7ab;try{let _0x34688f=this[_0x157cfc(0x7f0)](_0x339b78),_0x52a18c=A(_0x5ab180[_0x157cfc(0x6de)]);await _0x34688f[_0x157cfc(0x533)](_0x52a18c);}catch(_0x299a37){console['error'](_0x299a37);}}async['update'](_0x12afde,_0x39d4ac,_0x96acd6){const _0xa578da=a0_0x2aa7ab;try{let _0x51bf5d=this['getMessageModelForOwner'](_0x96acd6),_0x346bbc=A(_0x12afde[_0xa578da(0x6de)]);return await _0x51bf5d[_0xa578da(0x1bc)](_0x346bbc,{'$set':_0x39d4ac},{'new':!0x0});}catch(_0x599ac7){throw console['error'](_0x599ac7),_0x599ac7;}}async['insertMany'](_0x7703e5,_0x5637bd){const _0x225ade=a0_0x2aa7ab;if(_0x7703e5[_0x225ade(0x57b)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this['getMessageModelForOwner'](_0x5637bd)['insertMany']([..._0x7703e5]))[_0x225ade(0x57b)]};}catch(_0x59470b){return console[_0x225ade(0x357)](_0x225ade(0x37b),_0x59470b),_0x59470b;}}async[a0_0x2aa7ab(0x431)](_0x5471a8){const _0x3f6bd8=a0_0x2aa7ab;try{return await this['getMessageModelForOwner'](_0x5471a8)['collection']['drop'](),{'success':!0x0};}catch(_0x30e5a8){return console[_0x3f6bd8(0x7e7)](_0x30e5a8),{'success':!0x1,'error':_0x30e5a8};}}},Rr=O(require(a0_0x2aa7ab(0x520))),m=O(require(a0_0x2aa7ab(0x78e))),Te=require('fs'),q=O(require('path')),Z=O(require(a0_0x2aa7ab(0x371))),Tr=require(a0_0x2aa7ab(0x2be)),Or=O(require(a0_0x2aa7ab(0x230))),Ar=O(require(a0_0x2aa7ab(0x2ff))),Ea=['imageMessage',a0_0x2aa7ab(0x547),a0_0x2aa7ab(0x24b),a0_0x2aa7ab(0x247),a0_0x2aa7ab(0x46a)],Ma=['ephemeralMessage',a0_0x2aa7ab(0x4e2),a0_0x2aa7ab(0x462),a0_0x2aa7ab(0x2f7)],Ts=require('os'),Pt=O(require(a0_0x2aa7ab(0x6ac))),jt=require(a0_0x2aa7ab(0x5a6)),$t=require(a0_0x2aa7ab(0x1d0)),le=O(require(a0_0x2aa7ab(0x302))),P=require(a0_0x2aa7ab(0x219)),fe=class{constructor(_0xf5f485,_0x1a94a1,_0x491bf9){const _0x2ea0b0=a0_0x2aa7ab;this['jid']=_0xf5f485,this[_0x2ea0b0(0x23f)]=_0x1a94a1,this[_0x2ea0b0(0x6f5)]=_0x491bf9;}},Ve=class{},Be=class{},Ce=class{},Ge=class{},We=class{},we=class{},ze=class{},He=class{},Ke=class{},Qe=class{},Ot=O(require('express')),va=require('fs'),Na=require(a0_0x2aa7ab(0x1ae));async function Ye(_0x27439a){const _0x2802e0=a0_0x2aa7ab;let _0x571d4a=V['waInstances'][_0x27439a];if($['ENABLED']){let _0x2ee91c=R[_0x2802e0(0x232)]()['db']($[_0x2802e0(0x71e)]['DB_PREFIX_NAME']+'-instances')['collection'](_0x27439a);return _0x571d4a||(await _0x2ee91c[_0x2802e0(0x701)]({})[_0x2802e0(0x5c4)]())[_0x2802e0(0x57b)]>0x0;}return _0x571d4a||(0x0,va['existsSync'])((0x0,Na[_0x2802e0(0x1a2)])(ge,_0x27439a));}async function Ra(_0xe4f1af,_0x574308,_0x4c0ebb){const _0x9ee2c8=a0_0x2aa7ab;if(_0xe4f1af[_0x9ee2c8(0x3f1)][_0x9ee2c8(0x323)](_0x9ee2c8(0x1d7))||_0xe4f1af[_0x9ee2c8(0x3f1)][_0x9ee2c8(0x323)](_0x9ee2c8(0x33e))||_0xe4f1af['originalUrl'][_0x9ee2c8(0x323)](_0x9ee2c8(0x6f4))||_0xe4f1af[_0x9ee2c8(0x3f1)][_0x9ee2c8(0x323)]('/config')||_0xe4f1af[_0x9ee2c8(0x3f1)][_0x9ee2c8(0x323)]('/instance/connect')||_0xe4f1af['originalUrl'][_0x9ee2c8(0x323)]('/instance/connectionState')||_0xe4f1af[_0x9ee2c8(0x3f1)][_0x9ee2c8(0x323)](_0x9ee2c8(0x5b6)))return _0x4c0ebb();let _0x6fec7a=_0xe4f1af[_0x9ee2c8(0x731)];if(!_0x6fec7a?.['instanceName'])throw new w(_0x9ee2c8(0x5c0));if(!await Ye(_0x6fec7a[_0x9ee2c8(0x7ed)]))throw new L(_0x9ee2c8(0x80e)+_0x6fec7a[_0x9ee2c8(0x7ed)]+_0x9ee2c8(0x397));_0x4c0ebb();}async function Ta(_0x2f2d68,_0x128a62,_0x5418e2){const _0x2a5982=a0_0x2aa7ab;if(_0x2f2d68['originalUrl']['includes'](_0x2a5982(0x1d7))){let _0x15c1fe=_0x2f2d68[_0x2a5982(0x4f9)];if(await Ye(_0x15c1fe[_0x2a5982(0x7ed)]))throw new K(_0x2a5982(0x514)+_0x15c1fe[_0x2a5982(0x7ed)]+_0x2a5982(0x4eb));V[_0x2a5982(0x222)][_0x15c1fe[_0x2a5982(0x7ed)]]&&delete V[_0x2a5982(0x222)][_0x15c1fe[_0x2a5982(0x7ed)]];}_0x5418e2();}var Oa=require(a0_0x2aa7ab(0x219)),Aa=O(require(a0_0x2aa7ab(0x2c1))),Xe='uazapi',gi=new N(a0_0x2aa7ab(0x54c));async function mi(_0x1e7513,_0x279348,_0xa473aa){const _0x7746e=a0_0x2aa7ab;let _0x511732=_0x1e7513[_0x7746e(0x54a)](_0x7746e(0x67b));if(_0x511732&&b[_0x7746e(0x54a)](_0x7746e(0x7d7))[_0x7746e(0x160)][_0x7746e(0x35d)]!==_0x511732)throw new te();if(b['get']('AUTHENTICATION')[_0x7746e(0x160)][_0x7746e(0x35d)]===_0x511732)return _0xa473aa();if((_0x1e7513['originalUrl'][_0x7746e(0x323)]('/instance/create')||_0x1e7513[_0x7746e(0x3f1)][_0x7746e(0x323)](_0x7746e(0x33e)))&&!_0x511732)throw new K('Missing\x20global\x20api\x20key',_0x7746e(0x600));let _0x3cf701=b[_0x7746e(0x54a)]('AUTHENTICATION')['JWT'];try{let [_0x40c541,_0x5aa565]=_0x1e7513['get'](_0x7746e(0x3c3))[_0x7746e(0x3fa)]('\x20');if(_0x40c541[_0x7746e(0x411)]()!==_0x7746e(0x174))throw new te();if(!(0x0,Oa['isJWT'])(_0x5aa565))throw new te();let _0x3c0d24=_0x1e7513[_0x7746e(0x731)],_0x221883=Aa[_0x7746e(0x798)][_0x7746e(0x209)](_0x5aa565,_0x3cf701[_0x7746e(0x490)],{'ignoreExpiration':_0x3cf701[_0x7746e(0x7ff)]===0x0});if(_0x3c0d24[_0x7746e(0x7ed)]!==_0x221883[_0x7746e(0x7ed)]||Xe!==_0x221883[_0x7746e(0x6b1)])throw new te();return _0xa473aa();}catch(_0x17e44){throw gi[_0x7746e(0x7e7)](_0x17e44),new te();}}async function fi(_0x57c3f3,_0x4bb516,_0x406ea8){const _0x2e36f7=a0_0x2aa7ab;let _0x4e82e4=b[_0x2e36f7(0x54a)](_0x2e36f7(0x7d7))[_0x2e36f7(0x160)],_0x377196=_0x57c3f3[_0x2e36f7(0x54a)](_0x2e36f7(0x67b));if(_0x4e82e4[_0x2e36f7(0x35d)]===_0x377196)return _0x406ea8();if(_0x57c3f3[_0x2e36f7(0x3f1)][_0x2e36f7(0x323)](_0x2e36f7(0x1d7))){let _0x5a8b7e=Ze,_0x950a58=_0x57c3f3[_0x2e36f7(0x4f9)][_0x2e36f7(0x7ed)];if(_0x5a8b7e&&_0x950a58[_0x2e36f7(0x411)]()[_0x2e36f7(0x56a)](_0x5a8b7e[_0x2e36f7(0x411)]()))return _0x406ea8();if(!_0x377196)throw new K(_0x2e36f7(0x71f),_0x2e36f7(0x600));}if(_0x57c3f3[_0x2e36f7(0x3f1)][_0x2e36f7(0x323)](_0x2e36f7(0x33e))&&!_0x377196)throw new K(_0x2e36f7(0x71f),_0x2e36f7(0x600));if(_0x57c3f3[_0x2e36f7(0x3f1)][_0x2e36f7(0x323)]('/exit')&&!_0x377196)throw new K(_0x2e36f7(0x71f),'The\x20global\x20api\x20key\x20must\x20be\x20set');if(_0x57c3f3['originalUrl'][_0x2e36f7(0x323)](_0x2e36f7(0x2b5))&&!_0x377196)throw new K('Missing\x20global\x20api\x20key','The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x1d2806=_0x57c3f3[_0x2e36f7(0x731)],_0x1ddbbc=await ue['auth'][_0x2e36f7(0x701)](_0x1d2806['instanceName']);if(_0x1ddbbc&&_0x1ddbbc['apikey']===_0x377196)return _0x406ea8();}catch{}throw new te();}var Ia={'jwt':mi,'apikey':fi},ur=require(a0_0x2aa7ab(0x817)),M=require(a0_0x2aa7ab(0x2be)),E=(..._0x6a0229)=>{const _0xb97d41=a0_0x2aa7ab;let _0x4e3e58={};return _0x6a0229[_0xb97d41(0x53a)](_0x11d668=>_0x4e3e58[_0x11d668]={'minLength':0x1,'description':_0xb97d41(0x2e1)+_0x11d668+_0xb97d41(0x691)}),{'if':{'propertyNames':{'enum':[..._0x6a0229]}},'then':{'properties':_0x4e3e58}};},v={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'instanceName':{'type':'string'}},...E(a0_0x2aa7ab(0x7ed))},cc={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'oldToken':{'type':'string'}},'required':[a0_0x2aa7ab(0x44a)],...E(a0_0x2aa7ab(0x44a))},lc={'properties':{'key':{'type':a0_0x2aa7ab(0x76d),'properties':{'id':{'type':a0_0x2aa7ab(0x626)},'remoteJid':{'type':a0_0x2aa7ab(0x626)},'fromMe':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]}},'required':['id','remoteJid',a0_0x2aa7ab(0x299)],...E('id',a0_0x2aa7ab(0x39b))},'message':{'type':'object'}}},Q={'properties':{'delay':{'type':'integer','description':a0_0x2aa7ab(0x73f)},'presence':{'type':a0_0x2aa7ab(0x626),'enum':['unavailable',a0_0x2aa7ab(0x2fc),'composing',a0_0x2aa7ab(0x1a7),'paused']}}},W={'type':a0_0x2aa7ab(0x626),'pattern':'^\x5cd+[\x5c.@\x5cw-]+','description':a0_0x2aa7ab(0x7c4)},xa={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'number':{...W},'options':{...Q},'textMessage':{'type':a0_0x2aa7ab(0x76d),'properties':{'text':{'type':a0_0x2aa7ab(0x626)}},'required':[a0_0x2aa7ab(0x309)],...E(a0_0x2aa7ab(0x309))}},'required':['textMessage',a0_0x2aa7ab(0x7fa)]},Da={'type':a0_0x2aa7ab(0x626),'pattern':a0_0x2aa7ab(0x211),'description':a0_0x2aa7ab(0x7c4)},uc={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...Da},'options':{...Q},'textMessage':{'type':a0_0x2aa7ab(0x76d),'properties':{'text':{'type':a0_0x2aa7ab(0x626)}},'required':['text'],...E('text')}},'required':[a0_0x2aa7ab(0x7aa),a0_0x2aa7ab(0x7fa)]},dc={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'number':{...Da},'options':{...Q},'mediaMessage':{'type':a0_0x2aa7ab(0x76d),'properties':{'mediatype':{'type':a0_0x2aa7ab(0x626),'enum':['image','document',a0_0x2aa7ab(0x1cb),a0_0x2aa7ab(0x63a)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x2aa7ab(0x626)}},'required':['mediatype',a0_0x2aa7ab(0x5d7)],...E(a0_0x2aa7ab(0x1de),a0_0x2aa7ab(0x307),a0_0x2aa7ab(0x5d7))}},'required':['mediaMessage',a0_0x2aa7ab(0x7fa)]},_a={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'options':{...Q},'stickerMessage':{'type':a0_0x2aa7ab(0x76d),'properties':{'image':{'type':a0_0x2aa7ab(0x626)}},'required':[a0_0x2aa7ab(0x20b)],...E('image')}},'required':[a0_0x2aa7ab(0x46a),'number']},Pa={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'statusMessage':{'type':a0_0x2aa7ab(0x76d),'properties':{'type':{'type':a0_0x2aa7ab(0x626),'enum':[a0_0x2aa7ab(0x309),'image',a0_0x2aa7ab(0x63a),'video']},'content':{'type':a0_0x2aa7ab(0x626)},'caption':{'type':'string'},'backgroundColor':{'type':'string'},'font':{'type':a0_0x2aa7ab(0x597),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x2aa7ab(0x60d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2aa7ab(0x626),'pattern':'^\x5cd+','description':a0_0x2aa7ab(0x7dd)}},'allContacts':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]}},'required':[a0_0x2aa7ab(0x793),'content'],...E(a0_0x2aa7ab(0x793),'content')}},'required':[a0_0x2aa7ab(0x4bc)]},$a={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'number':{...W},'options':{...Q},'mediaMessage':{'type':a0_0x2aa7ab(0x76d),'properties':{'mediatype':{'type':a0_0x2aa7ab(0x626),'enum':[a0_0x2aa7ab(0x20b),a0_0x2aa7ab(0x182),'video',a0_0x2aa7ab(0x63a)]},'media':{'type':'string'},'fileName':{'type':a0_0x2aa7ab(0x626)},'caption':{'type':'string'}},'required':[a0_0x2aa7ab(0x206),a0_0x2aa7ab(0x5d7)],...E(a0_0x2aa7ab(0x1de),a0_0x2aa7ab(0x307),a0_0x2aa7ab(0x5d7))}},'required':[a0_0x2aa7ab(0x18b),a0_0x2aa7ab(0x7fa)]},ka={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'options':{...Q},'audioMessage':{'type':a0_0x2aa7ab(0x76d),'properties':{'audio':{'type':'string'}},'required':[a0_0x2aa7ab(0x63a)],...E(a0_0x2aa7ab(0x63a))}},'required':[a0_0x2aa7ab(0x24b),'number']},La={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'number':{...W},'pollMessage':{'type':a0_0x2aa7ab(0x76d),'properties':{'name':{'type':'string'},'selectableCount':{'type':a0_0x2aa7ab(0x7fa)},'values':{'type':a0_0x2aa7ab(0x60d),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x2aa7ab(0x6f5),'selectableCount',a0_0x2aa7ab(0x183)],...E('name',a0_0x2aa7ab(0x3d1),a0_0x2aa7ab(0x183))}},'required':[a0_0x2aa7ab(0x7fa),'pollMessage']},ja={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'number':{...W},'menuMessage':{'type':'object','properties':{'text':{'type':a0_0x2aa7ab(0x626)},'choices':{'type':a0_0x2aa7ab(0x60d),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x2aa7ab(0x309),a0_0x2aa7ab(0x1b8)],...E('text',a0_0x2aa7ab(0x1b8))}},'required':[a0_0x2aa7ab(0x7fa),'menuMessage']},Fa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'options':{...Q},'buttonMessage':{'type':a0_0x2aa7ab(0x76d),'properties':{'title':{'type':a0_0x2aa7ab(0x626)},'description':{'type':a0_0x2aa7ab(0x626)},'footerText':{'type':a0_0x2aa7ab(0x626)},'buttons':{'type':a0_0x2aa7ab(0x60d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':'string'},'buttonId':{'type':'string'}},'required':['buttonText',a0_0x2aa7ab(0x4f4)],...E(a0_0x2aa7ab(0x6a2),a0_0x2aa7ab(0x4f4))}},'mediaMessage':{'type':a0_0x2aa7ab(0x76d),'properties':{'media':{'type':a0_0x2aa7ab(0x626)},'fileName':{'type':a0_0x2aa7ab(0x626)},'mediatype':{'type':a0_0x2aa7ab(0x626),'enum':['image',a0_0x2aa7ab(0x182),'video']}},'required':[a0_0x2aa7ab(0x5d7),a0_0x2aa7ab(0x206)],...E('media',a0_0x2aa7ab(0x1de))}},'required':[a0_0x2aa7ab(0x448),a0_0x2aa7ab(0x2a1)],...E(a0_0x2aa7ab(0x448),'description')}},'required':[a0_0x2aa7ab(0x7fa),a0_0x2aa7ab(0x29e)]},Ua={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'options':{...Q},'locationMessage':{'type':a0_0x2aa7ab(0x76d),'properties':{'latitude':{'type':a0_0x2aa7ab(0x7fa)},'longitude':{'type':a0_0x2aa7ab(0x7fa)},'name':{'type':a0_0x2aa7ab(0x626)},'address':{'type':a0_0x2aa7ab(0x626)}},'required':[a0_0x2aa7ab(0x331),a0_0x2aa7ab(0x3a1)],...E('name',a0_0x2aa7ab(0x326))}},'required':[a0_0x2aa7ab(0x7fa),a0_0x2aa7ab(0x2e8)]},qa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'options':{...Q},'listMessage':{'type':a0_0x2aa7ab(0x76d),'properties':{'title':{'type':a0_0x2aa7ab(0x626)},'description':{'type':a0_0x2aa7ab(0x626)},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x2aa7ab(0x626)},'rows':{'type':a0_0x2aa7ab(0x60d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x2aa7ab(0x626)},'description':{'type':a0_0x2aa7ab(0x626)},'rowId':{'type':a0_0x2aa7ab(0x626)}},'required':[a0_0x2aa7ab(0x448),a0_0x2aa7ab(0x768)],...E('title','rowId')}}},'required':[a0_0x2aa7ab(0x448),a0_0x2aa7ab(0x670)],...E(a0_0x2aa7ab(0x448))}}},'required':[a0_0x2aa7ab(0x448),a0_0x2aa7ab(0x741),a0_0x2aa7ab(0x6a2),a0_0x2aa7ab(0x765)],...E('title',a0_0x2aa7ab(0x741),a0_0x2aa7ab(0x6a2),'footerText')}},'required':[a0_0x2aa7ab(0x7fa),a0_0x2aa7ab(0x54f)]},Ja={'$id':(0x0,M['v4'])(),'type':'object','properties':{'number':{...W},'options':{...Q},'contactMessage':{'type':a0_0x2aa7ab(0x60d),'items':{'type':a0_0x2aa7ab(0x76d),'properties':{'fullName':{'type':a0_0x2aa7ab(0x626)},'phoneNumber':{'type':a0_0x2aa7ab(0x626),'minLength':0xa}},'required':[a0_0x2aa7ab(0x776),a0_0x2aa7ab(0x224)],...E('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x2aa7ab(0x7fa),a0_0x2aa7ab(0x70b)]},Va={'$id':(0x0,M['v4'])(),'type':'object','properties':{'reactionMessage':{'type':a0_0x2aa7ab(0x76d),'properties':{'key':{'type':a0_0x2aa7ab(0x76d),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]}},'required':['id',a0_0x2aa7ab(0x39b),a0_0x2aa7ab(0x299)],...E('id','remoteJid')},'reaction':{'type':a0_0x2aa7ab(0x626)}},'required':[a0_0x2aa7ab(0x50e),a0_0x2aa7ab(0x3aa)],...E(a0_0x2aa7ab(0x3aa))}},'required':[a0_0x2aa7ab(0x578)]},Ba={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'numbers':{'type':a0_0x2aa7ab(0x60d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2aa7ab(0x626),'pattern':a0_0x2aa7ab(0x41c),'description':a0_0x2aa7ab(0x319)}}}},Ga={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'readMessages':{'type':a0_0x2aa7ab(0x60d),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x2aa7ab(0x626)},'fromMe':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2aa7ab(0x626)}},'required':['id',a0_0x2aa7ab(0x299),a0_0x2aa7ab(0x39b)],...E('id',a0_0x2aa7ab(0x39b))}}},'required':['readMessages']},Wa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'privacySettings':{'type':a0_0x2aa7ab(0x76d),'properties':{'readreceipts':{'type':a0_0x2aa7ab(0x626),'enum':[a0_0x2aa7ab(0x513),a0_0x2aa7ab(0x7fb)]},'profile':{'type':'string','enum':[a0_0x2aa7ab(0x513),a0_0x2aa7ab(0x5a5),a0_0x2aa7ab(0x3b5),a0_0x2aa7ab(0x7fb)]},'status':{'type':a0_0x2aa7ab(0x626),'enum':['all','contacts',a0_0x2aa7ab(0x3b5),a0_0x2aa7ab(0x7fb)]},'online':{'type':a0_0x2aa7ab(0x626),'enum':['all',a0_0x2aa7ab(0x2eb)]},'last':{'type':a0_0x2aa7ab(0x626),'enum':[a0_0x2aa7ab(0x513),a0_0x2aa7ab(0x5a5),a0_0x2aa7ab(0x3b5),a0_0x2aa7ab(0x7fb)]},'groupadd':{'type':a0_0x2aa7ab(0x626),'enum':['all',a0_0x2aa7ab(0x5a5),a0_0x2aa7ab(0x3b5),a0_0x2aa7ab(0x7fb)]}},'required':['readreceipts',a0_0x2aa7ab(0x46c),a0_0x2aa7ab(0x540),a0_0x2aa7ab(0x464),a0_0x2aa7ab(0x652),a0_0x2aa7ab(0x3f7)],...E(a0_0x2aa7ab(0x7af),a0_0x2aa7ab(0x46c),a0_0x2aa7ab(0x540),a0_0x2aa7ab(0x464),'last',a0_0x2aa7ab(0x3f7))}},'required':[a0_0x2aa7ab(0x63b)]},za={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'lastMessage':{'type':a0_0x2aa7ab(0x76d),'properties':{'key':{'type':a0_0x2aa7ab(0x76d),'properties':{'id':{'type':a0_0x2aa7ab(0x626)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]}},'required':['id',a0_0x2aa7ab(0x299),'remoteJid'],...E('id',a0_0x2aa7ab(0x39b))},'messageTimestamp':{'type':a0_0x2aa7ab(0x597),'minLength':0x1}},'required':[a0_0x2aa7ab(0x50e)],...E(a0_0x2aa7ab(0x693))},'archive':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]}},'required':[a0_0x2aa7ab(0x655),a0_0x2aa7ab(0x21c)]},Ha={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'id':{'type':'string'},'fromMe':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x2aa7ab(0x626)},'participant':{'type':a0_0x2aa7ab(0x626)}},'required':['id',a0_0x2aa7ab(0x299),'remoteJid'],...E('id',a0_0x2aa7ab(0x39b),'participant')},Ka={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'where':{'type':a0_0x2aa7ab(0x76d),'properties':{'_id':{'type':a0_0x2aa7ab(0x626),'minLength':0x1},'pushName':{'type':a0_0x2aa7ab(0x626),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...E('_id','id',a0_0x2aa7ab(0x4c9))}}},Qa={'$id':(0x0,M['v4'])(),'type':'object','properties':{'name':{'type':'string'}},...E('name')},Ya={'$id':(0x0,M['v4'])(),'type':'object','properties':{'status':{'type':a0_0x2aa7ab(0x626)}},...E('status')},Ee={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'number':{'type':a0_0x2aa7ab(0x626)},'picture':{'type':a0_0x2aa7ab(0x626)}}},Xa={'type':a0_0x2aa7ab(0x76d),'properties':{'wuid':{'type':a0_0x2aa7ab(0x626)},'name':{'type':a0_0x2aa7ab(0x626)},'picture':{'type':a0_0x2aa7ab(0x626)},'status':{'type':a0_0x2aa7ab(0x626)},'isBusiness':{'type':a0_0x2aa7ab(0x293)}}},Za={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'where':{'type':a0_0x2aa7ab(0x76d),'properties':{'_id':{'type':a0_0x2aa7ab(0x626),'minLength':0x1},'key':{'type':'object','if':{'propertyNames':{'enum':[a0_0x2aa7ab(0x299),a0_0x2aa7ab(0x39b),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x2aa7ab(0x626),'minLength':0x1,'description':a0_0x2aa7ab(0x5cc)},'id':{'type':a0_0x2aa7ab(0x626),'minLength':0x1,'description':a0_0x2aa7ab(0x5cc)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x2aa7ab(0x76d)}},...E(a0_0x2aa7ab(0x408))},'limit':{'type':a0_0x2aa7ab(0x597)}}},pc={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'where':{'type':a0_0x2aa7ab(0x76d),'properties':{'_id':{'type':a0_0x2aa7ab(0x626)},'remoteJid':{'type':a0_0x2aa7ab(0x626)},'id':{'type':a0_0x2aa7ab(0x626)},'fromMe':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x2aa7ab(0x626)},'status':{'type':a0_0x2aa7ab(0x626),'enum':[a0_0x2aa7ab(0x681),'PENDING','SERVER_ACK',a0_0x2aa7ab(0x256),a0_0x2aa7ab(0x577),a0_0x2aa7ab(0x5ef)]}},...E(a0_0x2aa7ab(0x408),'remoteJid','id',a0_0x2aa7ab(0x540))},'limit':{'type':a0_0x2aa7ab(0x597)}}},er={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'number':{...W},'presence':{'type':a0_0x2aa7ab(0x626),'enum':[a0_0x2aa7ab(0x7be),a0_0x2aa7ab(0x2fc),'composing','recording',a0_0x2aa7ab(0x6d4)]}},'required':[a0_0x2aa7ab(0x43d),'number']},tr={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'subject':{'type':a0_0x2aa7ab(0x626)},'description':{'type':a0_0x2aa7ab(0x626)},'profilePicture':{'type':a0_0x2aa7ab(0x626)},'participants':{'type':a0_0x2aa7ab(0x60d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2aa7ab(0x626),'minLength':0xa,'pattern':a0_0x2aa7ab(0x4da),'description':a0_0x2aa7ab(0x74c)}}},'required':['subject',a0_0x2aa7ab(0x3a4)],...E('subject',a0_0x2aa7ab(0x741),'profilePicture')},Me={'$id':(0x0,M['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x2aa7ab(0x626),'pattern':a0_0x2aa7ab(0x5d4)}},'required':[a0_0x2aa7ab(0x4d3)],...E(a0_0x2aa7ab(0x4d3))},sr={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'groupJid':{'type':'string'},'action':{'type':'string','enum':[a0_0x2aa7ab(0x485),a0_0x2aa7ab(0x421),a0_0x2aa7ab(0x47b),a0_0x2aa7ab(0x31f),a0_0x2aa7ab(0x5f9),a0_0x2aa7ab(0x1e0)]},'participants':{'type':a0_0x2aa7ab(0x60d),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x2aa7ab(0x626),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x2aa7ab(0x74c)}}},'required':[a0_0x2aa7ab(0x4d3),'action',a0_0x2aa7ab(0x3a4)],...E(a0_0x2aa7ab(0x4d3),a0_0x2aa7ab(0x4d0))},ar={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'groupJid':{'type':a0_0x2aa7ab(0x626)},'expiration':{'type':a0_0x2aa7ab(0x7fa),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x2aa7ab(0x4d3),'expiration'],...E(a0_0x2aa7ab(0x4d3),a0_0x2aa7ab(0x3cc))},rr={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'groupJid':{'type':a0_0x2aa7ab(0x626)},'image':{'type':a0_0x2aa7ab(0x626)}},'required':[a0_0x2aa7ab(0x4d3),a0_0x2aa7ab(0x20b)],...E('groupJid','image')},ir={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'groupJid':{'type':'string'},'description':{'type':a0_0x2aa7ab(0x626)}},'required':['groupJid','description'],...E(a0_0x2aa7ab(0x4d3),a0_0x2aa7ab(0x741))},or={'$id':(0x0,M['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x2aa7ab(0x626)},'name':{'type':'string'}},'required':[a0_0x2aa7ab(0x4d3),'name'],...E(a0_0x2aa7ab(0x4d3),a0_0x2aa7ab(0x6f5))},nr={'$id':(0x0,M['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x2aa7ab(0x626)},'setting':{'type':a0_0x2aa7ab(0x626),'enum':[a0_0x2aa7ab(0x191),a0_0x2aa7ab(0x71b),a0_0x2aa7ab(0x651),'locked']}},'required':[a0_0x2aa7ab(0x4d3),a0_0x2aa7ab(0x72b)],...E('groupJid',a0_0x2aa7ab(0x72b))},cr={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'groupJid':{'type':a0_0x2aa7ab(0x626)},'restrict':{'type':a0_0x2aa7ab(0x293)},'announce':{'type':a0_0x2aa7ab(0x293)},'memberAddMode':{'type':a0_0x2aa7ab(0x293)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':a0_0x2aa7ab(0x597),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x2aa7ab(0x626)},'description':{'type':'string'},'image':{'type':a0_0x2aa7ab(0x626)}}},ys={'$id':(0x0,M['v4'])(),'type':'object','properties':{'inviteCode':{'type':a0_0x2aa7ab(0x626)}},'required':[a0_0x2aa7ab(0x367)],...E(a0_0x2aa7ab(0x367))},lr={'$id':(0x0,M['v4'])(),'type':a0_0x2aa7ab(0x76d),'properties':{'url':{'type':a0_0x2aa7ab(0x626)},'enabled':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]}},'required':[a0_0x2aa7ab(0x1ff),a0_0x2aa7ab(0x3af)]},hc={'$id':(0x0,M['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x2aa7ab(0x293),'enum':[!0x0,!0x1]}},'required':[a0_0x2aa7ab(0x4ab),'STATUS_INSTANCE',a0_0x2aa7ab(0x19a),a0_0x2aa7ab(0x608),'MESSAGES_UPDATE',a0_0x2aa7ab(0x5e9),a0_0x2aa7ab(0x61f),a0_0x2aa7ab(0x5a1),'CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x2aa7ab(0x666),a0_0x2aa7ab(0x414),a0_0x2aa7ab(0x32a),a0_0x2aa7ab(0x426),a0_0x2aa7ab(0x29b),a0_0x2aa7ab(0x42b),a0_0x2aa7ab(0x25a),a0_0x2aa7ab(0x775),a0_0x2aa7ab(0x5bc)],...E(a0_0x2aa7ab(0x4ab),'STATUS_INSTANCE',a0_0x2aa7ab(0x19a),a0_0x2aa7ab(0x608),'MESSAGES_UPDATE',a0_0x2aa7ab(0x5e9),a0_0x2aa7ab(0x61f),a0_0x2aa7ab(0x5a1),a0_0x2aa7ab(0x6fb),'CONTACTS_UPDATE',a0_0x2aa7ab(0x666),a0_0x2aa7ab(0x414),a0_0x2aa7ab(0x32a),a0_0x2aa7ab(0x426),a0_0x2aa7ab(0x29b),a0_0x2aa7ab(0x42b),a0_0x2aa7ab(0x25a),a0_0x2aa7ab(0x775),a0_0x2aa7ab(0x5bc))},et=class{},tt=class extends D{['getContactModelForOwner'](_0x21ce22){return Ys(_0x21ce22);}async['insert'](_0x530cf7){const _0x495567=a0_0x2aa7ab;if(_0x530cf7['length']!==0x0)try{return{'insertCount':(await this[_0x495567(0x2b7)](_0x530cf7[0x0]['owner'])[_0x495567(0x33c)]([..._0x530cf7]))[_0x495567(0x57b)]};}catch(_0x21fcb1){return _0x21fcb1;}}async['delete'](_0x266836,_0x9fafde){const _0x1a68ca=a0_0x2aa7ab;try{return{'deletedCount':(await this[_0x1a68ca(0x2b7)](_0x9fafde)[_0x1a68ca(0x533)]({..._0x266836[_0x1a68ca(0x6de)]}))[_0x1a68ca(0x177)]};}catch(_0x5e9512){return{'error':_0x5e9512?.[_0x1a68ca(0x618)]()};}}async[a0_0x2aa7ab(0x617)](_0x190f5a,_0x597224){const _0x572377=a0_0x2aa7ab;try{if(_0x190f5a[_0x572377(0x57b)]===0x0)return;let _0x3094be=this[_0x572377(0x2b7)](_0x597224),_0x237192=_0x190f5a[_0x572377(0x360)](_0x4d0631=>({'updateOne':{'filter':{'_id':_0x4d0631['_id'],'owner':_0x597224},'update':{..._0x4d0631}}})),{modifiedCount:_0x40d38e}=await _0x3094be[_0x572377(0x703)](_0x237192);return{'insertCount':_0x40d38e};}catch{return;}}async[a0_0x2aa7ab(0x701)](_0x5739ab,_0x357fa2){const _0x570e72=a0_0x2aa7ab;try{let _0x10cee1=this[_0x570e72(0x2b7)](_0x357fa2),_0x3fd434=A(_0x5739ab[_0x570e72(0x6de)]);return await _0x10cee1[_0x570e72(0x701)](_0x3fd434)[_0x570e72(0x249)](_0x5739ab?.['limit']??0x0)[_0x570e72(0x27d)]();}catch{return[];}}async[a0_0x2aa7ab(0x709)](_0x6b90bb,_0x267111){const _0x229a96=a0_0x2aa7ab;try{let _0x521058=this[_0x229a96(0x2b7)](_0x267111),_0x1da48c=A(_0x6b90bb[_0x229a96(0x6de)]);return await _0x521058[_0x229a96(0x709)](_0x1da48c)['lean']();}catch{return null;}}async[a0_0x2aa7ab(0x431)](_0x23b647){const _0x5e5a9a=a0_0x2aa7ab;try{return await this[_0x5e5a9a(0x2b7)](_0x23b647)[_0x5e5a9a(0x5c9)][_0x5e5a9a(0x667)](),{'success':!0x0};}catch(_0xec014b){return console[_0x5e5a9a(0x7e7)](_0xec014b),{'success':!0x1,'error':_0xec014b};}}},st=require(a0_0x2aa7ab(0x3e4)),Ec=require('express-async-errors'),bs=new N('Validate'),J=class{[a0_0x2aa7ab(0x6bf)](_0x55bbea,_0x4846c9=!0x0){let _0x59501e='/'+_0x55bbea;return _0x4846c9&&(_0x59501e+='/:instanceName'),_0x59501e;}async[a0_0x2aa7ab(0x5cf)](_0x5c7313){const _0x253806=a0_0x2aa7ab;let {request:_0x5ee038,schema:_0x1dfe10,ClassRef:_0x6c1ef2,execute:_0x39dbc2}=_0x5c7313,_0x365cf4=new _0x6c1ef2(),_0x24202f=_0x5ee038[_0x253806(0x4f9)],_0x2b0e35=_0x5ee038[_0x253806(0x731)];_0x5ee038?.[_0x253806(0x67e)]&&Object['keys'](_0x5ee038[_0x253806(0x67e)])[_0x253806(0x57b)]>0x0&&Object['assign'](_0x2b0e35,_0x5ee038['query']),_0x5ee038[_0x253806(0x3f1)][_0x253806(0x323)](_0x253806(0x1d7))&&Object[_0x253806(0x819)](_0x2b0e35,_0x24202f),Object[_0x253806(0x819)](_0x365cf4,_0x24202f);let _0x3edf43=_0x1dfe10?(0x0,st[_0x253806(0x1da)])(_0x365cf4,_0x1dfe10):{'valid':!0x0,'errors':[]};if(!_0x3edf43[_0x253806(0x5cb)]){let _0x369c7e=_0x3edf43['errors'][_0x253806(0x360)](({property:_0x362c4b,stack:_0x1c4b90,schema:_0x31bfe0})=>{const _0x492d59=_0x253806;let _0x5916c9;return _0x31bfe0['description']?_0x5916c9=_0x31bfe0[_0x492d59(0x741)]:_0x5916c9=_0x1c4b90[_0x492d59(0x73a)]('instance.',''),{'property':_0x362c4b[_0x492d59(0x73a)](_0x492d59(0x1cd),''),'message':_0x5916c9};});throw bs[_0x253806(0x7e7)]([..._0x369c7e]),new w(..._0x369c7e);}return await _0x39dbc2(_0x2b0e35,_0x365cf4);}async[a0_0x2aa7ab(0x60c)](_0x2eed35){const _0x32b210=a0_0x2aa7ab;let {request:_0x3b2479,ClassRef:_0x4f4857,schema:_0x5ee754,execute:_0xee7330}=_0x2eed35,_0x17c5a9=_0x3b2479[_0x32b210(0x67e)];if(!_0x17c5a9?.[_0x32b210(0x4d3)])throw new w(_0x32b210(0x745),_0x32b210(0x43c));let _0x26673b=_0x3b2479[_0x32b210(0x731)],_0x357fdc=_0x3b2479['body'],_0x5b63f0=new _0x4f4857();Object[_0x32b210(0x819)](_0x357fdc,_0x17c5a9),Object['assign'](_0x5b63f0,_0x357fdc);let _0x57d8ee=(0x0,st[_0x32b210(0x1da)])(_0x5b63f0,_0x5ee754);if(!_0x57d8ee['valid']){let _0x3c040b=_0x57d8ee[_0x32b210(0x795)]['map'](({property:_0x5d3181,stack:_0x4cef48,schema:_0x61501b})=>{const _0x6207c6=_0x32b210;let _0x3b4657;return _0x61501b[_0x6207c6(0x741)]?_0x3b4657=_0x61501b[_0x6207c6(0x741)]:_0x3b4657=_0x4cef48[_0x6207c6(0x73a)](_0x6207c6(0x1cd),''),{'property':_0x5d3181['replace'](_0x6207c6(0x1cd),''),'message':_0x3b4657};});throw bs[_0x32b210(0x7e7)]([..._0x3c040b]),new w(..._0x3c040b);}return await _0xee7330(_0x26673b,_0x5b63f0);}async[a0_0x2aa7ab(0x553)](_0x42e81d){const _0x1b0e79=a0_0x2aa7ab;let {request:_0x1868ff,ClassRef:_0x396e75,schema:_0x4fc567,execute:_0x40407a}=_0x42e81d,_0x2218c8=_0x1868ff['body'];if(!_0x2218c8?.[_0x1b0e79(0x367)])throw new w(_0x1b0e79(0x1eb),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x497598=_0x1868ff[_0x1b0e79(0x731)],_0x51c1f8=_0x1868ff[_0x1b0e79(0x4f9)],_0x19acd9=new _0x396e75();Object[_0x1b0e79(0x819)](_0x51c1f8,_0x2218c8),Object['assign'](_0x19acd9,_0x51c1f8);let _0x5aba68=(0x0,st[_0x1b0e79(0x1da)])(_0x19acd9,_0x4fc567);if(!_0x5aba68['valid']){let _0x2a476e=_0x5aba68[_0x1b0e79(0x795)][_0x1b0e79(0x360)](({property:_0x33500e,stack:_0x43897f,schema:_0x307371})=>{const _0x2f69da=_0x1b0e79;let _0x58a6e9;return _0x307371[_0x2f69da(0x741)]?_0x58a6e9=_0x307371[_0x2f69da(0x741)]:_0x58a6e9=_0x43897f[_0x2f69da(0x73a)](_0x2f69da(0x1cd),''),{'property':_0x33500e[_0x2f69da(0x73a)](_0x2f69da(0x1cd),''),'message':_0x58a6e9};});throw bs[_0x1b0e79(0x7e7)]([..._0x2a476e]),new w(..._0x2a476e);}return await _0x40407a(_0x497598,_0x19acd9);}},S=class{},Lc=new N('ChatRouter'),at=class extends J{constructor(..._0x51fc04){const _0x48ed5b=a0_0x2aa7ab;super(),this['router']=(0x0,ur['Router'])(),this[_0x48ed5b(0x5cd)][_0x48ed5b(0x3a6)](this[_0x48ed5b(0x6bf)]('updatePresence'),..._0x51fc04,async(_0x209c4b,_0x2a3bf6)=>{const _0x2f8498=_0x48ed5b;let _0xc23405=await this[_0x2f8498(0x5cf)]({'request':_0x209c4b,'schema':er,'ClassRef':Ve,'execute':(_0x1249fe,_0x4467b0)=>_[_0x2f8498(0x2f5)](_0x1249fe,_0x4467b0)});return _0x2a3bf6[_0x2f8498(0x540)](0xc9)[_0x2f8498(0x75b)](_0xc23405);})[_0x48ed5b(0x3a6)](this['routerPath'](_0x48ed5b(0x704)),..._0x51fc04,async(_0x6c64b2,_0x570cdb)=>{const _0x175ad7=_0x48ed5b;let _0x4dfe1c=await this['dataValidate']({'request':_0x6c64b2,'schema':Ba,'ClassRef':Be,'execute':(_0x3feee1,_0x1445cf)=>_[_0x175ad7(0x1b3)](_0x3feee1,_0x1445cf)});return _0x570cdb['status'](0xc9)['json'](_0x4dfe1c);})[_0x48ed5b(0x3a6)](this[_0x48ed5b(0x6bf)]('editChat'),..._0x51fc04,async(_0x47a3f3,_0xce5df4)=>{const _0x57eac9=_0x48ed5b;let _0x35b375=await this['dataValidate']({'request':_0x47a3f3,'schema':v,'ClassRef':S,'execute':(_0x5e7884,_0x6e4221)=>_[_0x57eac9(0x339)](_0x5e7884,_0x6e4221)});return _0xce5df4[_0x57eac9(0x540)](0xc9)[_0x57eac9(0x75b)](_0x35b375);})[_0x48ed5b(0x4e4)](this['routerPath'](_0x48ed5b(0x240)),..._0x51fc04,async(_0x2bf6ab,_0x3fa5a6)=>{const _0x3c713f=_0x48ed5b;let _0x20f7e5=await this['dataValidate']({'request':_0x2bf6ab,'schema':Ga,'ClassRef':ze,'execute':(_0x53e62d,_0x455b62)=>_[_0x3c713f(0x366)](_0x53e62d,_0x455b62)});return _0x3fa5a6['status'](0xc9)[_0x3c713f(0x75b)](_0x20f7e5);})[_0x48ed5b(0x4e4)](this[_0x48ed5b(0x6bf)](_0x48ed5b(0x18e)),..._0x51fc04,async(_0x10d553,_0x3f462)=>{const _0x3d9bc4=_0x48ed5b;let _0xf21b7e=await this[_0x3d9bc4(0x5cf)]({'request':_0x10d553,'schema':za,'ClassRef':He,'execute':(_0x5aae16,_0x482df7)=>_[_0x3d9bc4(0x18e)](_0x5aae16,_0x482df7)});return _0x3f462[_0x3d9bc4(0x540)](0xc9)[_0x3d9bc4(0x75b)](_0xf21b7e);})[_0x48ed5b(0x801)](this['routerPath'](_0x48ed5b(0x4f6)),..._0x51fc04,async(_0x33a178,_0xd557e9)=>{const _0x510bf5=_0x48ed5b;let _0x2bceaf=await this[_0x510bf5(0x5cf)]({'request':_0x33a178,'schema':Ha,'ClassRef':Qe,'execute':(_0x371021,_0x4bc812)=>_[_0x510bf5(0x67c)](_0x371021,_0x4bc812)});return _0xd557e9[_0x510bf5(0x540)](0xc9)['json'](_0x2bceaf);})['post'](this['routerPath'](_0x48ed5b(0x1e6)),..._0x51fc04,async(_0x4c1834,_0x593491)=>{const _0x537f3b=_0x48ed5b;let _0x5ceeb6=await this[_0x537f3b(0x5cf)]({'request':_0x4c1834,'schema':Ee,'ClassRef':Ce,'execute':(_0x189bcb,_0xc9e4a4)=>_[_0x537f3b(0x4bf)](_0x189bcb,_0xc9e4a4)});return _0x593491[_0x537f3b(0x540)](0xc8)[_0x537f3b(0x75b)](_0x5ceeb6);})[_0x48ed5b(0x3a6)](this[_0x48ed5b(0x6bf)]('fetchProfile'),..._0x51fc04,async(_0x22dbaa,_0x5a1c52)=>{const _0x393687=_0x48ed5b;let _0x1058e7=await this['dataValidate']({'request':_0x22dbaa,'schema':Xa,'ClassRef':Ce,'execute':(_0xb75da5,_0x267b0d)=>_[_0x393687(0x207)](_0xb75da5,_0x267b0d)});return _0x5a1c52['status'](0xc8)[_0x393687(0x75b)](_0x1058e7);})[_0x48ed5b(0x3a6)](this[_0x48ed5b(0x6bf)]('findContacts'),..._0x51fc04,async(_0x5c2695,_0x84b987)=>{const _0x3c6ffa=_0x48ed5b;let _0x57f533=await this[_0x3c6ffa(0x5cf)]({'request':_0x5c2695,'schema':Ka,'ClassRef':et,'execute':(_0x89a8a,_0x13415d)=>_['fetchContacts'](_0x89a8a,_0x13415d)});return _0x84b987[_0x3c6ffa(0x540)](0xc8)[_0x3c6ffa(0x75b)](_0x57f533);})[_0x48ed5b(0x3a6)](this[_0x48ed5b(0x6bf)](_0x48ed5b(0x68b)),..._0x51fc04,async(_0x5cea78,_0x1c3e6c)=>{const _0x24baeb=_0x48ed5b;let _0x100e79=await this[_0x24baeb(0x5cf)]({'request':_0x5cea78,'schema':null,'ClassRef':Object,'execute':(_0x18fa40,_0x3ba76a)=>_[_0x24baeb(0x68b)](_0x18fa40,_0x3ba76a)});return _0x1c3e6c[_0x24baeb(0x540)](0xc9)[_0x24baeb(0x75b)](_0x100e79);})['post'](this['routerPath']('findMessages'),..._0x51fc04,async(_0x1c5192,_0x4d4da9)=>{const _0x4b996f=_0x48ed5b;let _0x4140dd=await this['dataValidate']({'request':_0x1c5192,'schema':Za,'ClassRef':qe,'execute':(_0x23bf44,_0x5c0ce2)=>_[_0x4b996f(0x778)](_0x23bf44,_0x5c0ce2)});return _0x4d4da9[_0x4b996f(0x540)](0xc8)[_0x4b996f(0x75b)](_0x4140dd);})['get'](this[_0x48ed5b(0x6bf)](_0x48ed5b(0x487)),..._0x51fc04,async(_0x546196,_0xc0ecee)=>{const _0x1ad9ea=_0x48ed5b;let _0x55da67=await this[_0x1ad9ea(0x5cf)]({'request':_0x546196,'schema':null,'ClassRef':S,'execute':_0x1158d5=>_[_0x1ad9ea(0x36b)](_0x1158d5)});return _0xc0ecee[_0x1ad9ea(0x540)](0xc8)['json'](_0x55da67);})[_0x48ed5b(0x54a)](this[_0x48ed5b(0x6bf)](_0x48ed5b(0x6b6)),..._0x51fc04,async(_0x523bcc,_0x10aeb5)=>{const _0x39d937=_0x48ed5b;let _0x405096=await this['dataValidate']({'request':_0x523bcc,'schema':null,'ClassRef':S,'execute':_0x586dcd=>_['fetchLabels'](_0x586dcd)});return _0x10aeb5[_0x39d937(0x540)](0xc8)[_0x39d937(0x75b)](_0x405096);})[_0x48ed5b(0x4e4)](this[_0x48ed5b(0x6bf)](_0x48ed5b(0x40f)),..._0x51fc04,async(_0xe268fb,_0x2fbc5d)=>{const _0x1f58b1=_0x48ed5b;let _0x48279a=await this[_0x1f58b1(0x5cf)]({'request':_0xe268fb,'schema':null,'ClassRef':Array,'execute':(_0x3ca5b5,_0x1fdbf8)=>_[_0x1f58b1(0x40f)](_0x3ca5b5,_0x1fdbf8)});return _0x2fbc5d[_0x1f58b1(0x540)](0xc8)[_0x1f58b1(0x75b)](_0x48279a);})[_0x48ed5b(0x54a)](this['routerPath'](_0x48ed5b(0x530)),..._0x51fc04,async(_0x50191f,_0x42fda7)=>{const _0x38b0ea=_0x48ed5b;let _0x18c28d=await this['dataValidate']({'request':_0x50191f,'schema':null,'ClassRef':S,'execute':_0x1dc66c=>_[_0x38b0ea(0x530)](_0x1dc66c)});return _0x42fda7[_0x38b0ea(0x540)](0xc8)[_0x38b0ea(0x75b)](_0x18c28d);})[_0x48ed5b(0x4e4)](this[_0x48ed5b(0x6bf)](_0x48ed5b(0x403)),..._0x51fc04,async(_0x387c1e,_0x575834)=>{const _0x26ece3=_0x48ed5b;let _0x2aa59a=await this[_0x26ece3(0x5cf)]({'request':_0x387c1e,'schema':Wa,'ClassRef':Ke,'execute':(_0x54fed4,_0x5ba78a)=>_[_0x26ece3(0x403)](_0x54fed4,_0x5ba78a)});return _0x575834[_0x26ece3(0x540)](0xc9)['json'](_0x2aa59a);})[_0x48ed5b(0x3a6)](this['routerPath'](_0x48ed5b(0x193)),..._0x51fc04,async(_0x474797,_0x1d18c2)=>{const _0x5e1175=_0x48ed5b;let _0x27404b=await this[_0x5e1175(0x5cf)]({'request':_0x474797,'schema':Ee,'ClassRef':we,'execute':(_0x1b44c4,_0x3a89a9)=>_[_0x5e1175(0x193)](_0x1b44c4,_0x3a89a9)});return _0x1d18c2[_0x5e1175(0x540)](0xc8)['json'](_0x27404b);})[_0x48ed5b(0x3a6)](this[_0x48ed5b(0x6bf)]('updateProfileName'),..._0x51fc04,async(_0x49049c,_0x1427bd)=>{const _0x4415f5=_0x48ed5b;let _0x1f4a97=await this[_0x4415f5(0x5cf)]({'request':_0x49049c,'schema':Qa,'ClassRef':Ge,'execute':(_0x10eee6,_0x514929)=>_[_0x4415f5(0x20d)](_0x10eee6,_0x514929)});return _0x1427bd[_0x4415f5(0x540)](0xc8)[_0x4415f5(0x75b)](_0x1f4a97);})['post'](this[_0x48ed5b(0x6bf)](_0x48ed5b(0x362)),..._0x51fc04,async(_0x2097f4,_0xcb22)=>{const _0x60d013=_0x48ed5b;let _0x3b81b2=await this[_0x60d013(0x5cf)]({'request':_0x2097f4,'schema':Ya,'ClassRef':We,'execute':(_0x376dda,_0x1d816a)=>_[_0x60d013(0x362)](_0x376dda,_0x1d816a)});return _0xcb22[_0x60d013(0x540)](0xc8)['json'](_0x3b81b2);})[_0x48ed5b(0x4e4)](this[_0x48ed5b(0x6bf)]('updateProfilePicture'),..._0x51fc04,async(_0x28615b,_0x28194a)=>{const _0x247763=_0x48ed5b;let _0x31a8c5=await this['dataValidate']({'request':_0x28615b,'schema':Ee,'ClassRef':we,'execute':(_0x102c97,_0x4f5f5d)=>_[_0x247763(0x7e4)](_0x102c97,_0x4f5f5d)});return _0x28194a['status'](0xc8)[_0x247763(0x75b)](_0x31a8c5);})[_0x48ed5b(0x801)](this[_0x48ed5b(0x6bf)]('removeProfilePicture'),..._0x51fc04,async(_0x2a2252,_0x6114cc)=>{const _0x488efa=_0x48ed5b;let _0x1b92bb=await this[_0x488efa(0x5cf)]({'request':_0x2a2252,'schema':Ee,'ClassRef':we,'execute':(_0x5d65c6,_0x340572)=>_[_0x488efa(0x6e5)](_0x5d65c6,_0x340572)});return _0x6114cc[_0x488efa(0x540)](0xc8)['json'](_0x1b92bb);});}},dr=require('express'),rt=class{},it=class{},ot=class{},nt=class{},ct=class{},lt=class{},Y=class{},ve=class{},ut=class extends Y{},dt=class extends Y{},pt=class extends J{constructor(..._0x419a17){const _0x5311db=a0_0x2aa7ab;super(),this[_0x5311db(0x5cd)]=(0x0,dr[_0x5311db(0x54e)])(),this[_0x5311db(0x5cd)][_0x5311db(0x3a6)](this[_0x5311db(0x6bf)](_0x5311db(0x679)),..._0x419a17,async(_0x57d441,_0x18eebd)=>{const _0x297e83=_0x5311db;let _0x228aaa=await this[_0x297e83(0x5cf)]({'request':_0x57d441,'schema':tr,'ClassRef':rt,'execute':(_0xb42d60,_0x2aa1f7)=>j[_0x297e83(0x2b8)](_0xb42d60,_0x2aa1f7)});_0x18eebd[_0x297e83(0x540)](0xc9)[_0x297e83(0x75b)](_0x228aaa);})[_0x5311db(0x4e4)](this['routerPath'](_0x5311db(0x45f)),..._0x419a17,async(_0xb5a4a7,_0x1da79)=>{const _0x38d7ac=_0x5311db;let _0x190125=await this[_0x38d7ac(0x60c)]({'request':_0xb5a4a7,'schema':rr,'ClassRef':it,'execute':(_0xf9fc90,_0x42b3cc)=>j[_0x38d7ac(0x45f)](_0xf9fc90,_0x42b3cc)});_0x1da79[_0x38d7ac(0x540)](0xc9)[_0x38d7ac(0x75b)](_0x190125);})[_0x5311db(0x4e4)](this[_0x5311db(0x6bf)]('groupDesc'),..._0x419a17,async(_0x45cba6,_0x16bd81)=>{const _0x311a28=_0x5311db;let _0x30d884=await this['groupValidate']({'request':_0x45cba6,'schema':ir,'ClassRef':ot,'execute':(_0x56d577,_0x556602)=>j[_0x311a28(0x476)](_0x56d577,_0x556602)});_0x16bd81['status'](0xc9)[_0x311a28(0x75b)](_0x30d884);})[_0x5311db(0x4e4)](this['routerPath'](_0x5311db(0x6ed)),..._0x419a17,async(_0x52e3f7,_0x16c0d3)=>{const _0x3ee237=_0x5311db;let _0x1450c9=await this[_0x3ee237(0x60c)]({'request':_0x52e3f7,'schema':or,'ClassRef':nt,'execute':(_0x4c7ca8,_0x757f62)=>j[_0x3ee237(0x6ed)](_0x4c7ca8,_0x757f62)});_0x16c0d3[_0x3ee237(0x540)](0xc9)[_0x3ee237(0x75b)](_0x1450c9);})['put'](this[_0x5311db(0x6bf)]('groupBetterSetting'),..._0x419a17,async(_0xb0388b,_0x53930f)=>{const _0x4015e0=_0x5311db;let _0x22132a=await this['groupValidate']({'request':_0xb0388b,'schema':cr,'ClassRef':lt,'execute':(_0x5f2907,_0x264110)=>j[_0x4015e0(0x58e)](_0x5f2907,_0x264110)});_0x53930f[_0x4015e0(0x540)](0xc9)[_0x4015e0(0x75b)](_0x22132a);})[_0x5311db(0x4e4)](this[_0x5311db(0x6bf)](_0x5311db(0x69f)),..._0x419a17,async(_0x4a815a,_0x4644c6)=>{const _0x1cf933=_0x5311db;let _0xbae27e=await this[_0x1cf933(0x60c)]({'request':_0x4a815a,'schema':nr,'ClassRef':ct,'execute':(_0x532db4,_0x43ebb6)=>j[_0x1cf933(0x69f)](_0x532db4,_0x43ebb6)});_0x4644c6[_0x1cf933(0x540)](0xc9)[_0x1cf933(0x75b)](_0xbae27e);})[_0x5311db(0x4e4)](this[_0x5311db(0x6bf)]('toggleEphemeral'),..._0x419a17,async(_0x4b471d,_0x53229b)=>{const _0x14fbfa=_0x5311db;let _0x13d5b7=await this[_0x14fbfa(0x60c)]({'request':_0x4b471d,'schema':ar,'ClassRef':dt,'execute':(_0x2bd367,_0x1921c4)=>j[_0x14fbfa(0x1fb)](_0x2bd367,_0x1921c4)});_0x53229b[_0x14fbfa(0x540)](0xc9)[_0x14fbfa(0x75b)](_0x13d5b7);})[_0x5311db(0x54a)](this[_0x5311db(0x6bf)]('findGroupInfos'),..._0x419a17,async(_0x57ab89,_0x575cf8)=>{const _0xda5cd=_0x5311db;let _0x8633b9=await this[_0xda5cd(0x60c)]({'request':_0x57ab89,'schema':Me,'ClassRef':Y,'execute':(_0x5d4514,_0x107cf5)=>j[_0xda5cd(0x733)](_0x5d4514,_0x107cf5)});_0x575cf8[_0xda5cd(0x540)](0xc8)[_0xda5cd(0x75b)](_0x8633b9);})[_0x5311db(0x54a)](this['routerPath'](_0x5311db(0x488)),..._0x419a17,async(_0x287aed,_0x2864af)=>{const _0x2a1174=_0x5311db;let _0x2c0e4b=await this[_0x2a1174(0x5cf)]({'request':_0x287aed,'schema':v,'ClassRef':S,'execute':_0x26235d=>j[_0x2a1174(0x488)](_0x26235d)});_0x2864af['status'](0xc8)[_0x2a1174(0x75b)](_0x2c0e4b);})[_0x5311db(0x54a)](this[_0x5311db(0x6bf)](_0x5311db(0x3a4)),..._0x419a17,async(_0x385b9e,_0x9e7e46)=>{const _0x51ee54=_0x5311db;let _0x25ace6=await this[_0x51ee54(0x60c)]({'request':_0x385b9e,'schema':Me,'ClassRef':Y,'execute':(_0x46d4d3,_0x35a67a)=>j[_0x51ee54(0x568)](_0x46d4d3,_0x35a67a)});_0x9e7e46[_0x51ee54(0x540)](0xc8)[_0x51ee54(0x75b)](_0x25ace6);})[_0x5311db(0x54a)](this[_0x5311db(0x6bf)](_0x5311db(0x367)),..._0x419a17,async(_0x49dab6,_0x22cc87)=>{const _0x59475d=_0x5311db;let _0x52c5c4=await this['groupValidate']({'request':_0x49dab6,'schema':Me,'ClassRef':Y,'execute':(_0x3dea79,_0x313752)=>j[_0x59475d(0x367)](_0x3dea79,_0x313752)});_0x22cc87['status'](0xc8)['json'](_0x52c5c4);})[_0x5311db(0x3a6)](this[_0x5311db(0x6bf)](_0x5311db(0x5c2)),..._0x419a17,async(_0x34c6af,_0x565c92)=>{const _0x3e6a94=_0x5311db;let _0x298864=await this[_0x3e6a94(0x553)]({'request':_0x34c6af,'schema':ys,'ClassRef':ve,'execute':(_0x359294,_0x3f8b9c)=>j[_0x3e6a94(0x214)](_0x359294,_0x3f8b9c)});_0x565c92[_0x3e6a94(0x540)](0xc9)[_0x3e6a94(0x75b)](_0x298864);})[_0x5311db(0x4e4)](this['routerPath']('joinGroup'),..._0x419a17,async(_0x4959bb,_0x1b8d11)=>{const _0x14ed70=_0x5311db;let _0x5c3d44=await this[_0x14ed70(0x553)]({'request':_0x4959bb,'schema':ys,'ClassRef':ve,'execute':(_0x1b640f,_0x1f8a79)=>j['joinGroup'](_0x1b640f,_0x1f8a79)});_0x1b8d11[_0x14ed70(0x540)](0xc9)[_0x14ed70(0x75b)](_0x5c3d44);})[_0x5311db(0x4e4)](this[_0x5311db(0x6bf)](_0x5311db(0x4a1)),..._0x419a17,async(_0x613cb6,_0x4f9240)=>{const _0x754d02=_0x5311db;let _0x47e989=await this[_0x754d02(0x60c)]({'request':_0x613cb6,'schema':Me,'ClassRef':Y,'execute':(_0x358395,_0x487f72)=>j[_0x754d02(0x4a1)](_0x358395,_0x487f72)});_0x4f9240[_0x754d02(0x540)](0xc9)['json'](_0x47e989);})[_0x5311db(0x4e4)](this[_0x5311db(0x6bf)](_0x5311db(0x565)),..._0x419a17,async(_0x368f95,_0xc788f)=>{const _0x253572=_0x5311db;let _0x484df4=await this[_0x253572(0x60c)]({'request':_0x368f95,'schema':sr,'ClassRef':ut,'execute':(_0x2aa82b,_0x49706a)=>j[_0x253572(0x70f)](_0x2aa82b,_0x49706a)});_0xc788f[_0x253572(0x540)](0xc9)['json'](_0x484df4);})[_0x5311db(0x801)](this[_0x5311db(0x6bf)](_0x5311db(0x569)),..._0x419a17,async(_0x2c7560,_0x523fdf)=>{const _0x358e0d=_0x5311db;let _0x28c900=await this[_0x358e0d(0x60c)]({'request':_0x2c7560,'schema':{},'ClassRef':Y,'execute':(_0x38feb0,_0x3da098)=>j[_0x358e0d(0x569)](_0x38feb0,_0x3da098)});_0x523fdf[_0x358e0d(0x540)](0xc8)['json'](_0x28c900);});}},pr=require('express'),ht=class extends J{constructor(_0x3ec0e8,..._0xf19491){const _0xadbfe=a0_0x2aa7ab;super(),this[_0xadbfe(0x22b)]=_0x3ec0e8,this['router']=(0x0,pr[_0xadbfe(0x54e)])();let _0x4805d4=_0x3ec0e8['get'](_0xadbfe(0x7d7));this['router'][_0xadbfe(0x3a6)](_0xadbfe(0x64b),..._0xf19491,async(_0xebfa8,_0x596d18)=>{const _0x474da9=_0xadbfe;let {instanceName:_0xe2ae0f,apikey:_0x5b107f,number:_0x35a06b}=_0xebfa8[_0x474da9(0x4f9)],_0x483bea=await oe[_0x474da9(0x2dc)]({'instanceName':_0xe2ae0f,'apikey':_0x5b107f,'number':_0x35a06b});return _0x596d18['status'](0xc9)[_0x474da9(0x75b)](_0x483bea);})[_0xadbfe(0x4e4)](this[_0xadbfe(0x6bf)](_0xadbfe(0x723)),..._0xf19491,async(_0x448f0a,_0x1ea2b3)=>{const _0x2d141a=_0xadbfe;let _0x24891f=await this[_0x2d141a(0x5cf)]({'request':_0x448f0a,'schema':v,'ClassRef':S,'execute':_0x528cac=>oe['restartInstance'](_0x528cac)});return _0x1ea2b3[_0x2d141a(0x540)](0xc8)[_0x2d141a(0x75b)](_0x24891f);})[_0xadbfe(0x54a)](this[_0xadbfe(0x6bf)](_0xadbfe(0x3fd)),..._0xf19491,async(_0x295da1,_0x40c56f)=>{const _0x513749=_0xadbfe;let _0x4a1ff1=await this[_0x513749(0x5cf)]({'request':_0x295da1,'schema':v,'ClassRef':S,'execute':_0x400b49=>oe[_0x513749(0x2e9)](_0x400b49)});return _0x40c56f[_0x513749(0x540)](0xc8)['json'](_0x4a1ff1);})['get'](this[_0xadbfe(0x6bf)]('connectionState'),..._0xf19491,async(_0x23bb00,_0x143e87)=>{const _0x2853f3=_0xadbfe;let _0x2c2002=await this[_0x2853f3(0x5cf)]({'request':_0x23bb00,'schema':v,'ClassRef':S,'execute':_0x583608=>oe['connectionState'](_0x583608)});return _0x143e87['status'](0xc8)[_0x2853f3(0x75b)](_0x2c2002);})[_0xadbfe(0x54a)](this[_0xadbfe(0x6bf)](_0xadbfe(0x737),!0x1),..._0xf19491,async(_0x2b62ee,_0x481a0d)=>{const _0x5caaf5=_0xadbfe;let _0x2011fd=await this[_0x5caaf5(0x5cf)]({'request':_0x2b62ee,'schema':null,'ClassRef':S,'execute':_0x39d262=>oe[_0x5caaf5(0x737)](_0x39d262)});return _0x481a0d[_0x5caaf5(0x540)](0xc8)['json'](_0x2011fd);})[_0xadbfe(0x801)](this[_0xadbfe(0x6bf)](_0xadbfe(0x37f)),..._0xf19491,async(_0xfee61a,_0x4d39d0)=>{const _0x378010=_0xadbfe;let _0x1881b1=await this[_0x378010(0x5cf)]({'request':_0xfee61a,'schema':v,'ClassRef':S,'execute':_0x871b1d=>oe[_0x378010(0x37f)](_0x871b1d)});return _0x4d39d0[_0x378010(0x540)](0xc8)[_0x378010(0x75b)](_0x1881b1);})[_0xadbfe(0x801)](this['routerPath'](_0xadbfe(0x801)),..._0xf19491,async(_0x33e4f0,_0xbe8937)=>{const _0x257513=_0xadbfe;let _0x73ffa0=await this[_0x257513(0x5cf)]({'request':_0x33e4f0,'schema':v,'ClassRef':S,'execute':_0x50c754=>oe[_0x257513(0x2c2)](_0x50c754)});return _0xbe8937[_0x257513(0x540)](0xc8)[_0x257513(0x75b)](_0x73ffa0);});}},hr=require('express'),Ss=class{},G=class extends Ss{},gt=class extends G{},mt=class extends G{},ft=class extends G{},wt=class extends G{},Ne=class extends G{},yt=class extends G{},bt=class extends G{},St=class extends G{},Ct=class extends G{},Et=class extends G{},Mt=class{},vt=class extends J{constructor(..._0x309ae5){const _0x32c7cd=a0_0x2aa7ab;super(),this[_0x32c7cd(0x5cd)]=(0x0,hr[_0x32c7cd(0x54e)])(),this[_0x32c7cd(0x5cd)][_0x32c7cd(0x3a6)](this['routerPath'](_0x32c7cd(0x378)),..._0x309ae5,async(_0xc37ed4,_0xe524eb)=>{const _0x283faa=_0x32c7cd;let _0x235c74=await this[_0x283faa(0x5cf)]({'request':_0xc37ed4,'schema':xa,'ClassRef':gt,'execute':(_0x4c49a2,_0x4e2d92)=>B['sendText'](_0x4c49a2,_0x4e2d92)});return _0xe524eb['status'](0xc9)[_0x283faa(0x75b)](_0x235c74);})[_0x32c7cd(0x3a6)](this[_0x32c7cd(0x6bf)](_0x32c7cd(0x35f)),..._0x309ae5,async(_0x1b044d,_0x29274b)=>{const _0x34ff1c=_0x32c7cd;let _0x1fd4fb=await this[_0x34ff1c(0x5cf)]({'request':_0x1b044d,'schema':$a,'ClassRef':Ne,'execute':(_0x57683a,_0x40e534)=>B[_0x34ff1c(0x35f)](_0x57683a,_0x40e534)});return _0x29274b[_0x34ff1c(0x540)](0xc9)['json'](_0x1fd4fb);})['post'](this[_0x32c7cd(0x6bf)](_0x32c7cd(0x469)),..._0x309ae5,async(_0x5e7021,_0xa2c5a)=>{const _0x5a930b=_0x32c7cd;let _0x25eccf=await this[_0x5a930b(0x5cf)]({'request':_0x5e7021,'schema':ja,'ClassRef':wt,'execute':(_0x129291,_0x4d37a4)=>B['sendMenu'](_0x129291,_0x4d37a4)});return _0xa2c5a[_0x5a930b(0x540)](0xc9)[_0x5a930b(0x75b)](_0x25eccf);})[_0x32c7cd(0x3a6)](this[_0x32c7cd(0x6bf)]('sendWhatsAppAudio'),..._0x309ae5,async(_0x58fd71,_0x50d95b)=>{const _0x336269=_0x32c7cd;let _0x2b6ce6=await this[_0x336269(0x5cf)]({'request':_0x58fd71,'schema':ka,'ClassRef':Ne,'execute':(_0x2ec80b,_0x5ae5b9)=>B[_0x336269(0x430)](_0x2ec80b,_0x5ae5b9)});return _0x50d95b[_0x336269(0x540)](0xc9)['json'](_0x2b6ce6);})[_0x32c7cd(0x3a6)](this[_0x32c7cd(0x6bf)](_0x32c7cd(0x39f)),..._0x309ae5,async(_0x5ccf20,_0x227087)=>{const _0x123710=_0x32c7cd;let _0x26ee2e=await this[_0x123710(0x5cf)]({'request':_0x5ccf20,'schema':Fa,'ClassRef':bt,'execute':(_0x348a20,_0x4c582e)=>B['sendButtons'](_0x348a20,_0x4c582e)});return _0x227087[_0x123710(0x540)](0xc9)[_0x123710(0x75b)](_0x26ee2e);})[_0x32c7cd(0x3a6)](this[_0x32c7cd(0x6bf)](_0x32c7cd(0x168)),..._0x309ae5,async(_0x4405dc,_0x2ceb62)=>{const _0x394fcc=_0x32c7cd;let _0x2da198=await this[_0x394fcc(0x5cf)]({'request':_0x4405dc,'schema':Ua,'ClassRef':St,'execute':(_0x2f825d,_0x22f5c2)=>B[_0x394fcc(0x168)](_0x2f825d,_0x22f5c2)});return _0x2ceb62[_0x394fcc(0x540)](0xc9)[_0x394fcc(0x75b)](_0x2da198);})['post'](this[_0x32c7cd(0x6bf)](_0x32c7cd(0x1ba)),..._0x309ae5,async(_0x9c1469,_0x16dead)=>{const _0x23530a=_0x32c7cd;let _0x118fbe=await this['dataValidate']({'request':_0x9c1469,'schema':qa,'ClassRef':Ct,'execute':(_0x108074,_0x4ed04a)=>B[_0x23530a(0x1ba)](_0x108074,_0x4ed04a)});return _0x16dead[_0x23530a(0x540)](0xc9)[_0x23530a(0x75b)](_0x118fbe);})['post'](this[_0x32c7cd(0x6bf)]('sendContact'),..._0x309ae5,async(_0x141300,_0x12c50d)=>{const _0x37b133=_0x32c7cd;let _0x17a431=await this[_0x37b133(0x5cf)]({'request':_0x141300,'schema':Ja,'ClassRef':Et,'execute':(_0x3d89a7,_0x4cf925)=>B[_0x37b133(0x3b0)](_0x3d89a7,_0x4cf925)});return _0x12c50d['status'](0xc9)[_0x37b133(0x75b)](_0x17a431);})[_0x32c7cd(0x3a6)](this[_0x32c7cd(0x6bf)](_0x32c7cd(0x4d8)),..._0x309ae5,async(_0x17a914,_0x407a60)=>{const _0x570636=_0x32c7cd;let _0x3e0ff8=await this[_0x570636(0x5cf)]({'request':_0x17a914,'schema':Va,'ClassRef':Mt,'execute':(_0x25cc21,_0x55e946)=>B[_0x570636(0x4d8)](_0x25cc21,_0x55e946)});return _0x407a60['status'](0xc9)[_0x570636(0x75b)](_0x3e0ff8);})[_0x32c7cd(0x3a6)](this[_0x32c7cd(0x6bf)]('sendPoll'),..._0x309ae5,async(_0x50a383,_0x418db8)=>{const _0x4b78cb=_0x32c7cd;let _0x429f19=await this[_0x4b78cb(0x5cf)]({'request':_0x50a383,'schema':La,'ClassRef':ft,'execute':(_0x6ec1b5,_0x4a3b41)=>B['sendPoll'](_0x6ec1b5,_0x4a3b41)});return _0x418db8[_0x4b78cb(0x540)](0xc9)[_0x4b78cb(0x75b)](_0x429f19);})[_0x32c7cd(0x3a6)](this[_0x32c7cd(0x6bf)]('sendStatus'),..._0x309ae5,async(_0x14c081,_0x4c39ce)=>{const _0x6d820f=_0x32c7cd;let _0x13f738=await this[_0x6d820f(0x5cf)]({'request':_0x14c081,'schema':Pa,'ClassRef':mt,'execute':(_0x42b749,_0x4e26a5)=>B['sendStatus'](_0x42b749,_0x4e26a5)});return _0x4c39ce[_0x6d820f(0x540)](0xc9)[_0x6d820f(0x75b)](_0x13f738);})['post'](this[_0x32c7cd(0x6bf)](_0x32c7cd(0x502)),..._0x309ae5,async(_0x559763,_0x34c097)=>{const _0x1a06c4=_0x32c7cd;let _0x2e21fd=await this[_0x1a06c4(0x5cf)]({'request':_0x559763,'schema':_a,'ClassRef':yt,'execute':(_0x4ef01b,_0x2ec4ab)=>B[_0x1a06c4(0x502)](_0x4ef01b,_0x2ec4ab)});return _0x34c097[_0x1a06c4(0x540)](0xc9)[_0x1a06c4(0x75b)](_0x2e21fd);});}},gr=require(a0_0x2aa7ab(0x817)),Nt=class{},Rt=class extends J{constructor(..._0x5530bd){const _0x355506=a0_0x2aa7ab;super(),this['router']=(0x0,gr[_0x355506(0x54e)])(),this[_0x355506(0x5cd)][_0x355506(0x3a6)](this[_0x355506(0x6bf)](_0x355506(0x289)),..._0x5530bd,async(_0x593289,_0x226511)=>{const _0x2bf731=_0x355506;let _0x22485c=await this[_0x2bf731(0x5cf)]({'request':_0x593289,'schema':lr,'ClassRef':Nt,'execute':(_0x1b913a,_0x556491)=>Cs[_0x2bf731(0x1fc)](_0x1b913a,_0x556491)});_0x226511['status'](0xc9)[_0x2bf731(0x75b)](_0x22485c);})[_0x355506(0x54a)](this['routerPath']('find'),..._0x5530bd,async(_0x2f9fef,_0x5d9356)=>{const _0x11a2be=_0x355506;let _0x2af23e=await this[_0x11a2be(0x5cf)]({'request':_0x2f9fef,'schema':v,'ClassRef':S,'execute':_0x5c0cdb=>Cs[_0x11a2be(0x7df)](_0x5c0cdb)});_0x5d9356[_0x11a2be(0x540)](0xc8)[_0x11a2be(0x75b)](_0x2af23e);});}},mr=require(a0_0x2aa7ab(0x817)),y=new N(a0_0x2aa7ab(0x1b0)),Tt=class extends J{constructor(..._0x3491a9){const _0x4164a2=a0_0x2aa7ab;super(),this[_0x4164a2(0x5cd)]=(0x0,mr['Router'])(),this[_0x4164a2(0x5cd)][_0x4164a2(0x3a6)](this[_0x4164a2(0x6bf)](_0x4164a2(0x552)),..._0x3491a9,async(_0x8a8b69,_0x5e2089)=>{const _0x379df7=_0x4164a2;let _0x517889=_0x8a8b69['body'];y[_0x379df7(0x477)]('request\x20received\x20in\x20scheduleMessage'),y[_0x379df7(0x477)](_0x379df7(0x4d6)),y[_0x379df7(0x477)](_0x8a8b69['body']);let _0x45e979=await this[_0x379df7(0x5cf)]({'request':_0x8a8b69,'schema':v,'ClassRef':S,'execute':_0xd8f99d=>I[_0x379df7(0x3bb)](_0xd8f99d,_0x517889)});_0x5e2089[_0x379df7(0x540)](0xc8)['json'](_0x45e979);})[_0x4164a2(0x54a)](this[_0x4164a2(0x6bf)](_0x4164a2(0x552)),..._0x3491a9,async(_0x3527a7,_0xfa5213)=>{const _0x1beae0=_0x4164a2;let _0x6e0f58=await this[_0x1beae0(0x5cf)]({'request':_0x3527a7,'schema':v,'ClassRef':S,'execute':_0x7308ab=>I['getScheduleMessage'](_0x7308ab)});_0xfa5213[_0x1beae0(0x540)](0xc8)[_0x1beae0(0x75b)](_0x6e0f58);})[_0x4164a2(0x801)](this[_0x4164a2(0x6bf)]('deleteDoneMessages'),..._0x3491a9,async(_0x173d75,_0x10e3f1)=>{const _0x151cd1=_0x4164a2;y[_0x151cd1(0x477)]('request\x20received\x20in\x20deleteDoneMessages');let _0x1f0788=await this[_0x151cd1(0x5cf)]({'request':_0x173d75,'schema':v,'ClassRef':S,'execute':_0x4c5fb2=>I[_0x151cd1(0x5be)](_0x4c5fb2)});_0x10e3f1['status'](0xc8)[_0x151cd1(0x75b)](_0x1f0788);})[_0x4164a2(0x3a6)](this[_0x4164a2(0x6bf)]('startFlow'),..._0x3491a9,async(_0x34182b,_0x211869)=>{const _0x238787=_0x4164a2;let _0x1354bd=_0x34182b['body'];y[_0x238787(0x477)]('request\x20received\x20in\x20starFlow'),y[_0x238787(0x477)](_0x238787(0x4d6)),y[_0x238787(0x477)](_0x34182b[_0x238787(0x4f9)]);let _0x237827=await this[_0x238787(0x5cf)]({'request':_0x34182b,'schema':v,'ClassRef':S,'execute':_0x590343=>I['startFlow'](_0x590343,_0x1354bd)});_0x211869[_0x238787(0x540)](0xc8)['json'](_0x237827);})[_0x4164a2(0x54a)](this[_0x4164a2(0x6bf)](_0x4164a2(0x740)),..._0x3491a9,async(_0x3e7003,_0x3aaa38)=>{const _0x53030c=_0x4164a2;y[_0x53030c(0x477)]('request\x20received\x20in\x20getAutomateSystem');let _0x10bcbc=await this[_0x53030c(0x5cf)]({'request':_0x3e7003,'schema':v,'ClassRef':S,'execute':_0x1a82d8=>I[_0x53030c(0x740)](_0x1a82d8)});_0x3aaa38[_0x53030c(0x540)](0xc8)[_0x53030c(0x75b)](_0x10bcbc);})['get'](this[_0x4164a2(0x6bf)](_0x4164a2(0x66c)),..._0x3491a9,async(_0x4f929f,_0x587496)=>{const _0x1f4c90=_0x4164a2;y[_0x1f4c90(0x477)]('request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem');let _0x9f36af=await this[_0x1f4c90(0x5cf)]({'request':_0x4f929f,'schema':v,'ClassRef':S,'execute':_0x19ab23=>I[_0x1f4c90(0x740)](_0x19ab23)});_0x587496[_0x1f4c90(0x540)](0xc8)[_0x1f4c90(0x75b)](_0x9f36af);})['post'](this['routerPath']('updateAgent'),..._0x3491a9,async(_0x1bf69c,_0xd2d08)=>{const _0x57e5df=_0x4164a2;let _0x1902fc=_0x1bf69c[_0x57e5df(0x4f9)];y[_0x57e5df(0x477)](_0x57e5df(0x34b)),y[_0x57e5df(0x477)](_0x57e5df(0x4d6)),y[_0x57e5df(0x477)](_0x1bf69c[_0x57e5df(0x4f9)]);let _0x3a938a=await this['dataValidate']({'request':_0x1bf69c,'schema':v,'ClassRef':S,'execute':_0x531d7c=>I['updateAgent'](_0x531d7c,_0x1902fc)});_0xd2d08['status'](0xc8)['json'](_0x3a938a);})[_0x4164a2(0x3a6)](this['routerPath']('updateCustomFields'),..._0x3491a9,async(_0x225eea,_0x34fcf7)=>{const _0x213005=_0x4164a2;let _0x4fe2ee=_0x225eea[_0x213005(0x4f9)];y['verbose'](_0x213005(0x4ad)),y[_0x213005(0x477)]('request\x20body:\x20'),y[_0x213005(0x477)](_0x225eea[_0x213005(0x4f9)]);let _0x2b449a=await this[_0x213005(0x5cf)]({'request':_0x225eea,'schema':v,'ClassRef':S,'execute':_0x1b2f04=>I['updateCustomFields'](_0x1b2f04,_0x4fe2ee)});_0x34fcf7[_0x213005(0x540)](0xc8)['json'](_0x2b449a);})[_0x4164a2(0x3a6)](this[_0x4164a2(0x6bf)](_0x4164a2(0x1d4)),..._0x3491a9,async(_0x49645e,_0xbf4fde)=>{const _0x3e6b6d=_0x4164a2;let _0x1d90cf=_0x49645e[_0x3e6b6d(0x4f9)];y[_0x3e6b6d(0x477)]('request\x20received\x20in\x20updateFlowConfig'),y['verbose'](_0x3e6b6d(0x4d6)),y['verbose'](_0x49645e[_0x3e6b6d(0x4f9)]);let _0x472cb3=await this[_0x3e6b6d(0x5cf)]({'request':_0x49645e,'schema':v,'ClassRef':S,'execute':_0x545b2a=>I[_0x3e6b6d(0x1d4)](_0x545b2a,_0x1d90cf)});_0xbf4fde['status'](0xc8)['json'](_0x472cb3);})[_0x4164a2(0x3a6)](this[_0x4164a2(0x6bf)](_0x4164a2(0x54b)),..._0x3491a9,async(_0xfd1da5,_0x393863)=>{const _0x59d887=_0x4164a2;let _0x507d30=_0xfd1da5['body'];y[_0x59d887(0x477)](_0x59d887(0x167)),y[_0x59d887(0x477)](_0x59d887(0x4d6)),y[_0x59d887(0x477)](_0xfd1da5[_0x59d887(0x4f9)]);let _0x25e347=await this[_0x59d887(0x5cf)]({'request':_0xfd1da5,'schema':v,'ClassRef':S,'execute':_0x521f39=>I[_0x59d887(0x54b)](_0x521f39,_0x507d30)});_0x393863['status'](0xc8)[_0x59d887(0x75b)](_0x25e347);})['post'](this[_0x4164a2(0x6bf)](_0x4164a2(0x527)),..._0x3491a9,async(_0x57bfd3,_0x555ed2)=>{const _0x2f0e68=_0x4164a2;let _0x4ec095=_0x57bfd3['body'];y['verbose'](_0x2f0e68(0x422)),y['verbose'](_0x2f0e68(0x4d6)),y['verbose'](_0x57bfd3['body']);let _0x208a92=await this[_0x2f0e68(0x5cf)]({'request':_0x57bfd3,'schema':v,'ClassRef':S,'execute':_0x27e88b=>I['fetchConversation'](_0x27e88b,_0x4ec095)});_0x555ed2[_0x2f0e68(0x540)](0xc8)[_0x2f0e68(0x75b)](_0x208a92);})[_0x4164a2(0x3a6)](this[_0x4164a2(0x6bf)](_0x4164a2(0x478)),..._0x3491a9,async(_0x20ae72,_0xe5deb9)=>{const _0x33c8cb=_0x4164a2;let _0x456116=_0x20ae72['body'];y[_0x33c8cb(0x477)](_0x33c8cb(0x647)),y['verbose']('request\x20body:\x20'),y[_0x33c8cb(0x477)](_0x20ae72[_0x33c8cb(0x4f9)]);let _0x248acb=await this[_0x33c8cb(0x5cf)]({'request':_0x20ae72,'schema':v,'ClassRef':S,'execute':_0x48682b=>I[_0x33c8cb(0x478)](_0x48682b,_0x456116)});_0xe5deb9[_0x33c8cb(0x540)](0xc8)[_0x33c8cb(0x75b)](_0x248acb);})['delete'](this['routerPath'](_0x4164a2(0x736)),..._0x3491a9,async(_0x5b05e7,_0x12ad99)=>{const _0x1d239c=_0x4164a2;let _0x5817b3=_0x5b05e7['body'];y[_0x1d239c(0x477)](_0x1d239c(0x451)),y[_0x1d239c(0x477)](_0x1d239c(0x4d6)),y['verbose'](_0x5b05e7[_0x1d239c(0x4f9)]);let _0x3cacdb=await this[_0x1d239c(0x5cf)]({'request':_0x5b05e7,'schema':v,'ClassRef':S,'execute':_0x51cbc8=>I[_0x1d239c(0x736)](_0x51cbc8,_0x5817b3)});_0x12ad99[_0x1d239c(0x540)](0xc8)[_0x1d239c(0x75b)](_0x3cacdb);})[_0x4164a2(0x3a6)](this[_0x4164a2(0x6bf)]('createflow'),..._0x3491a9,async(_0x4d14ff,_0x556774)=>{const _0x34a7ee=_0x4164a2;let _0x4139b9=_0x4d14ff[_0x34a7ee(0x4f9)];y['verbose'](_0x34a7ee(0x2d2)),y[_0x34a7ee(0x477)](_0x34a7ee(0x4d6)),y['verbose'](_0x4d14ff[_0x34a7ee(0x4f9)]);let _0x24f6b3=await this[_0x34a7ee(0x5cf)]({'request':_0x4d14ff,'schema':v,'ClassRef':S,'execute':_0x5ae682=>I['createFlow'](_0x5ae682,_0x4139b9)});_0x556774[_0x34a7ee(0x540)](0xc8)[_0x34a7ee(0x75b)](_0x24f6b3);})[_0x4164a2(0x3a6)](this[_0x4164a2(0x6bf)](_0x4164a2(0x15b)),..._0x3491a9,async(_0x2477f3,_0x469653)=>{const _0x4539b2=_0x4164a2;let _0x41a962=_0x2477f3['body'];y['verbose'](_0x4539b2(0x313)),y[_0x4539b2(0x477)](_0x4539b2(0x4d6)),y[_0x4539b2(0x477)](_0x2477f3['body']),delete _0x41a962[_0x4539b2(0x5de)],delete _0x41a962[_0x4539b2(0x511)],delete _0x41a962[_0x4539b2(0x71c)],delete _0x41a962['conditions'];let _0x32fac8=await this[_0x4539b2(0x5cf)]({'request':_0x2477f3,'schema':v,'ClassRef':S,'execute':_0x1c1b9a=>I['editFlow'](_0x1c1b9a,_0x41a962)});_0x469653['status'](0xc8)[_0x4539b2(0x75b)](_0x32fac8);})[_0x4164a2(0x3a6)](this[_0x4164a2(0x6bf)](_0x4164a2(0x541)),..._0x3491a9,async(_0x416df8,_0x284158)=>{const _0x270816=_0x4164a2;let _0x53bad8=_0x416df8[_0x270816(0x4f9)];y[_0x270816(0x477)](_0x270816(0x313)),y['verbose'](_0x270816(0x4d6)),y[_0x270816(0x477)](_0x416df8[_0x270816(0x4f9)]);let _0x22e689=await this[_0x270816(0x5cf)]({'request':_0x416df8,'schema':v,'ClassRef':S,'execute':_0x576a23=>I[_0x270816(0x4d2)](_0x576a23,_0x53bad8)});_0x284158[_0x270816(0x540)](0xc8)[_0x270816(0x75b)](_0x22e689);})[_0x4164a2(0x3a6)](this['routerPath'](_0x4164a2(0x48f)),..._0x3491a9,async(_0x3439a6,_0x1e773d)=>{const _0x5836b4=_0x4164a2;let _0x2b7b6d=_0x3439a6[_0x5836b4(0x4f9)];y[_0x5836b4(0x477)](_0x5836b4(0x313)),y['verbose'](_0x5836b4(0x4d6)),y['verbose'](_0x3439a6[_0x5836b4(0x4f9)]);let _0x42be50=await this['dataValidate']({'request':_0x3439a6,'schema':v,'ClassRef':S,'execute':_0x15b1f5=>I['editFlowReply'](_0x15b1f5,_0x2b7b6d)});_0x1e773d['status'](0xc8)[_0x5836b4(0x75b)](_0x42be50);})[_0x4164a2(0x3a6)](this[_0x4164a2(0x6bf)](_0x4164a2(0x25e)),..._0x3491a9,async(_0x1aaed3,_0x44ce16)=>{const _0x5958b1=_0x4164a2;let _0x54f3bb=_0x1aaed3[_0x5958b1(0x4f9)];y[_0x5958b1(0x477)](_0x5958b1(0x313)),y[_0x5958b1(0x477)]('request\x20body:\x20'),y[_0x5958b1(0x477)](_0x1aaed3[_0x5958b1(0x4f9)]);let _0x1f713b=await this[_0x5958b1(0x5cf)]({'request':_0x1aaed3,'schema':v,'ClassRef':S,'execute':_0x442723=>I['editFlowVaredit'](_0x442723,_0x54f3bb)});_0x44ce16['status'](0xc8)['json'](_0x1f713b);})[_0x4164a2(0x3a6)](this[_0x4164a2(0x6bf)](_0x4164a2(0x6cb)),..._0x3491a9,async(_0x2daf58,_0x2fbbee)=>{const _0x2da6a3=_0x4164a2;let _0x57fb9e=_0x2daf58[_0x2da6a3(0x4f9)];y[_0x2da6a3(0x477)](_0x2da6a3(0x79a)),y[_0x2da6a3(0x477)]('request\x20body:\x20'),y[_0x2da6a3(0x477)](_0x2daf58[_0x2da6a3(0x4f9)]);let _0x158010=await this[_0x2da6a3(0x5cf)]({'request':_0x2daf58,'schema':v,'ClassRef':S,'execute':_0x2e6948=>I[_0x2da6a3(0x197)](_0x2e6948,_0x57fb9e)});_0x2fbbee[_0x2da6a3(0x540)](0xc8)['json'](_0x158010);})[_0x4164a2(0x3a6)](this[_0x4164a2(0x6bf)](_0x4164a2(0x202)),..._0x3491a9,async(_0x18d6c2,_0x853259)=>{const _0x3f25ee=_0x4164a2;let _0x5af817=_0x18d6c2[_0x3f25ee(0x4f9)];y[_0x3f25ee(0x477)](_0x3f25ee(0x4f1)),y[_0x3f25ee(0x477)](_0x3f25ee(0x4d6)),y[_0x3f25ee(0x477)](_0x18d6c2[_0x3f25ee(0x4f9)]);let _0xc9692d=await this[_0x3f25ee(0x5cf)]({'request':_0x18d6c2,'schema':v,'ClassRef':S,'execute':_0x3f813b=>I['editFlowCondition'](_0x3f813b,_0x5af817)});_0x853259['status'](0xc8)[_0x3f25ee(0x75b)](_0xc9692d);})[_0x4164a2(0x3a6)](this[_0x4164a2(0x6bf)](_0x4164a2(0x620)),..._0x3491a9,async(_0x34ce00,_0x1d3e3d)=>{const _0x564677=_0x4164a2;let _0x21ebdf=_0x34ce00['body'];y[_0x564677(0x477)](_0x564677(0x481)),y[_0x564677(0x477)](_0x564677(0x4d6)),y['verbose'](_0x34ce00[_0x564677(0x4f9)]);let _0x17e650=await this[_0x564677(0x5cf)]({'request':_0x34ce00,'schema':v,'ClassRef':S,'execute':_0x1f8366=>I[_0x564677(0x7f4)](_0x1f8366,_0x21ebdf)});_0x1d3e3d[_0x564677(0x540)](0xc8)['json'](_0x17e650);})[_0x4164a2(0x3a6)](this[_0x4164a2(0x6bf)]('getflow'),..._0x3491a9,async(_0x505289,_0x2fc082)=>{const _0xdacd5c=_0x4164a2;let _0x28e5a3=_0x505289['body'];y[_0xdacd5c(0x477)](_0xdacd5c(0x2d7)),y[_0xdacd5c(0x477)](_0xdacd5c(0x4d6)),y['verbose'](_0x505289[_0xdacd5c(0x4f9)]);let _0x23d6de=await this[_0xdacd5c(0x5cf)]({'request':_0x505289,'schema':v,'ClassRef':S,'execute':_0x58f393=>I[_0xdacd5c(0x506)](_0x58f393,_0x28e5a3)});_0x2fc082[_0xdacd5c(0x540)](0xc8)[_0xdacd5c(0x75b)](_0x23d6de);})['delete'](this['routerPath'](_0x4164a2(0x184)),..._0x3491a9,async(_0x23a348,_0x2baab5)=>{const _0x568de6=_0x4164a2;let _0x330b2b=_0x23a348[_0x568de6(0x4f9)];y['verbose'](_0x568de6(0x41b)),y[_0x568de6(0x477)](_0x568de6(0x4d6)),y[_0x568de6(0x477)](_0x23a348[_0x568de6(0x4f9)]);let _0x341d38=await this[_0x568de6(0x5cf)]({'request':_0x23a348,'schema':v,'ClassRef':S,'execute':_0x4c8e19=>I[_0x568de6(0x34f)](_0x4c8e19,_0x330b2b)});_0x2baab5[_0x568de6(0x540)](0xc8)[_0x568de6(0x75b)](_0x341d38);})['get'](this['routerPath'](_0x4164a2(0x5b4)),..._0x3491a9,async(_0x1d8a25,_0x15b652)=>{const _0x422184=_0x4164a2;y['verbose'](_0x422184(0x5a4));let _0x1860f2=await this[_0x422184(0x5cf)]({'request':_0x1d8a25,'schema':v,'ClassRef':S,'execute':_0x5143ce=>I['allFlows'](_0x5143ce)});_0x15b652[_0x422184(0x540)](0xc8)[_0x422184(0x75b)](_0x1860f2);});}},br=O(require(a0_0x2aa7ab(0x1ae))),X={};function fr(_0x5e3756,_0x21ea5d,_0x2fae46,_0x5b1a23){X[_0x5e3756]||(X[_0x5e3756]={}),X[_0x5e3756][_0x21ea5d]={'id':_0x21ea5d,'response':_0x2fae46,'events':_0x5b1a23};}function wr(_0x96ff49,_0x2d1380){!X[_0x96ff49]||!X[_0x96ff49][_0x2d1380]||delete X[_0x96ff49][_0x2d1380];}function U(_0x5a88d8,_0x507e57,_0x147280){const _0x49c10a=a0_0x2aa7ab;if(!X[_0x5a88d8])return;let _0x43cdf4='data:\x20'+JSON[_0x49c10a(0x7c7)](_0x147280)+'\x0a\x0a';Object[_0x49c10a(0x183)](X[_0x5a88d8])[_0x49c10a(0x53a)](_0xeb07fd=>{const _0x146d1c=_0x49c10a;_0xeb07fd[_0x146d1c(0x1ee)][_0x146d1c(0x323)](_0x507e57)&&_0xeb07fd[_0x146d1c(0x69c)]['write'](_0x43cdf4);});}function yr(){const _0x2de27c=a0_0x2aa7ab;let _0x417321={};for(let _0x4a3daa in X)_0x417321[_0x4a3daa]=Object['values'](X[_0x4a3daa])[_0x2de27c(0x360)](_0x50cc5f=>({'id':_0x50cc5f['id'],'events':_0x50cc5f[_0x2de27c(0x1ee)]}));return _0x417321;}function a0_0x4fa0(_0x2fb1aa,_0x287019){const _0x4a8ae0=a0_0x4a8a();return a0_0x4fa0=function(_0x4fa02f,_0x568798){_0x4fa02f=_0x4fa02f-0x159;let _0x2bd3a8=_0x4a8ae0[_0x4fa02f];return _0x2bd3a8;},a0_0x4fa0(_0x2fb1aa,_0x287019);}var Sr=require(a0_0x2aa7ab(0x2be)),Ms=require(a0_0x2aa7ab(0x302)),Es=class{},wi=new Ms[(a0_0x2aa7ab(0x208))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),yi=new Ms[(a0_0x2aa7ab(0x208))]({'_id':{'type':String,'default':a0_0x2aa7ab(0x5d3)},'WebhookGlobal':{'type':wi},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=R?.[a0_0x2aa7ab(0x711)](Es[a0_0x2aa7ab(0x6f5)],yi,a0_0x2aa7ab(0x266)),bi=br[a0_0x2aa7ab(0x798)][a0_0x2aa7ab(0x1a2)](__dirname,a0_0x2aa7ab(0x6d6)),At=(0x0,Ot['Router'])(),Si=b[a0_0x2aa7ab(0x54a)](a0_0x2aa7ab(0x7d7))['TYPE'],se=[Ra,Ta,Ia[Si]];At[a0_0x2aa7ab(0x5a9)]('/media',Ot['default']['static'](bi))['get'](a0_0x2aa7ab(0x4d9),async(_0x26b764,_0xe88acb)=>{const _0x3ea0ce=a0_0x2aa7ab;console[_0x3ea0ce(0x357)](_0x3ea0ce(0x285));let _0x317ea0=_0x26b764[_0x3ea0ce(0x731)][_0x3ea0ce(0x466)],_0x387619=(_0x26b764[_0x3ea0ce(0x67e)][_0x3ea0ce(0x1ee)]||'')[_0x3ea0ce(0x3fa)](','),_0x436f6c=(0x0,Sr['v4'])();console[_0x3ea0ce(0x357)](_0x3ea0ce(0x787),_0x317ea0),console[_0x3ea0ce(0x357)](_0x3ea0ce(0x70a),_0x387619);let _0x1c6edb=b['get'](_0x3ea0ce(0x7d7))[_0x3ea0ce(0x160)],_0x3921f1=_0x26b764[_0x3ea0ce(0x67e)][_0x3ea0ce(0x67b)];if(console[_0x3ea0ce(0x357)](_0x3ea0ce(0x81e),_0x3921f1),_0x1c6edb[_0x3ea0ce(0x35d)]!==_0x3921f1){console[_0x3ea0ce(0x357)](_0x3ea0ce(0x779));try{let _0x53513a=await ue[_0x3ea0ce(0x441)]['find'](_0x317ea0);if(console[_0x3ea0ce(0x357)](_0x3ea0ce(0x2c6),_0x53513a),!_0x53513a||_0x53513a[_0x3ea0ce(0x67b)]!==_0x3921f1)return console['log'](_0x3ea0ce(0x3bc)),_0xe88acb[_0x3ea0ce(0x540)](0x191)[_0x3ea0ce(0x294)](_0x3ea0ce(0x3ca));}catch(_0x4dbdbc){return console[_0x3ea0ce(0x7e7)](_0x3ea0ce(0x796),_0x4dbdbc),_0xe88acb['status'](0x191)[_0x3ea0ce(0x294)](_0x3ea0ce(0x705));}}if(!await Ye(_0x317ea0))return _0xe88acb[_0x3ea0ce(0x540)](0x194)[_0x3ea0ce(0x294)](_0x3ea0ce(0x590));_0xe88acb[_0x3ea0ce(0x388)]('Content-Type',_0x3ea0ce(0x5ed)),_0xe88acb['setHeader'](_0x3ea0ce(0x1bb),_0x3ea0ce(0x316)),_0xe88acb[_0x3ea0ce(0x388)](_0x3ea0ce(0x324),'keep-alive'),_0xe88acb['flushHeaders']();let _0x5caea0='data:\x20'+JSON[_0x3ea0ce(0x7c7)]({'info':_0x3ea0ce(0x677)})+'\x0a\x0a';_0xe88acb[_0x3ea0ce(0x67f)](_0x5caea0),fr(_0x317ea0,_0x436f6c,_0xe88acb,_0x387619),_0x26b764['on'](_0x3ea0ce(0x601),()=>{const _0x1b957d=_0x3ea0ce;console[_0x1b957d(0x357)](_0x1b957d(0x348)+_0x317ea0),wr(_0x317ea0,_0x436f6c);});}),At[a0_0x2aa7ab(0x54a)](a0_0x2aa7ab(0x79f),(_0x22acc8,_0x38f37f)=>{const _0x417b47=a0_0x2aa7ab;let _0x5b2cec=yr();_0x38f37f[_0x417b47(0x75b)](_0x5b2cec);})[a0_0x2aa7ab(0x54a)]('/',(_0x39420e,_0x27624c)=>{const _0x1fa0ac=a0_0x2aa7ab;let _0x3d5de9=b[_0x1fa0ac(0x54a)](_0x1fa0ac(0x72c))[_0x1fa0ac(0x65a)];if(_0x3d5de9){let _0x44cc3a=encodeURIComponent(''+_0x3d5de9);_0x27624c[_0x1fa0ac(0x5c1)](_0x1fa0ac(0x582)+_0x44cc3a);return;}let _0x410f10=b[_0x1fa0ac(0x54a)](_0x1fa0ac(0x26e)),_0x531867=_0x410f10&&_0x410f10[_0x1fa0ac(0x682)][_0x1fa0ac(0x3fa)]('/')[0x4];if(_0x531867){let _0x4b9374=encodeURIComponent(_0x1fa0ac(0x419)+_0x531867);_0x27624c['redirect'](_0x1fa0ac(0x582)+_0x4b9374);}else _0x27624c[_0x1fa0ac(0x5c1)](_0x1fa0ac(0x64a));})['put'](a0_0x2aa7ab(0x6f4),...se,async(_0x567fd8,_0x4cd8b1)=>{const _0x379623=a0_0x2aa7ab;try{console['log'](_0x379623(0x4b6)),_0x4cd8b1['status'](0xc8)['json']({'message':_0x379623(0x3e3)}),_0x4cd8b1['on'](_0x379623(0x592),()=>process[_0x379623(0x3ee)](0x0));}catch(_0x5de1ae){console[_0x379623(0x7e7)](_0x379623(0x6ab),_0x5de1ae),_0x4cd8b1['status'](0x1f4)[_0x379623(0x75b)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x2aa7ab(0x4e4)](a0_0x2aa7ab(0x2b5),...se,async(_0x29ca7e,_0x2c1c7e)=>{const _0x334aa1=a0_0x2aa7ab;try{let _0x2377dd=_0x29ca7e[_0x334aa1(0x4f9)];await ye[_0x334aa1(0x38e)]({},{'$set':_0x2377dd},{'upsert':!0x0});let _0x2f9af2=await ye[_0x334aa1(0x709)]();_0x2c1c7e[_0x334aa1(0x75b)](_0x2f9af2);}catch(_0x5d38d2){_0x2c1c7e[_0x334aa1(0x540)](0x190)[_0x334aa1(0x294)](_0x5d38d2['message']);}})[a0_0x2aa7ab(0x54a)](a0_0x2aa7ab(0x2b5),...se,async(_0x81246,_0x44071b)=>{const _0x52921c=a0_0x2aa7ab;try{let _0x140b52=await ye[_0x52921c(0x709)]();if(!_0x140b52)return _0x44071b[_0x52921c(0x75b)]({});_0x44071b[_0x52921c(0x75b)](_0x140b52);}catch(_0x33001b){_0x44071b['status'](0x1f4)[_0x52921c(0x294)](_0x33001b['message']);}})[a0_0x2aa7ab(0x5a9)](a0_0x2aa7ab(0x528),new ht(b,...se)[a0_0x2aa7ab(0x5cd)])[a0_0x2aa7ab(0x5a9)](a0_0x2aa7ab(0x519),new vt(...se)[a0_0x2aa7ab(0x5cd)])[a0_0x2aa7ab(0x5a9)](a0_0x2aa7ab(0x7bc),new at(...se)[a0_0x2aa7ab(0x5cd)])[a0_0x2aa7ab(0x5a9)]('/group',new pt(...se)[a0_0x2aa7ab(0x5cd)])['use']('/webhook',new Rt(...se)[a0_0x2aa7ab(0x5cd)])[a0_0x2aa7ab(0x5a9)]('/automate',new Tt(...se)[a0_0x2aa7ab(0x5cd)]);var w=class{constructor(..._0x445410){const _0xa0dc34=a0_0x2aa7ab;throw{'status':0x190,'error':_0xa0dc34(0x68a),'message':_0x445410[_0xa0dc34(0x57b)]>0x0?_0x445410:void 0x0};}},te=class{constructor(..._0x269a09){const _0x4c704b=a0_0x2aa7ab;throw{'status':0x191,'error':_0x4c704b(0x32c),'message':_0x269a09['length']>0x0?_0x269a09:void 0x0};}},K=class{constructor(..._0x204361){const _0x1bb61f=a0_0x2aa7ab;throw{'status':0x193,'error':_0x1bb61f(0x662),'message':_0x204361['length']>0x0?_0x204361:void 0x0};}},L=class{constructor(..._0x218a27){const _0x3e3da7=a0_0x2aa7ab;throw{'status':0x194,'error':_0x3e3da7(0x72f),'message':_0x218a27[_0x3e3da7(0x57b)]>0x0?_0x218a27:void 0x0};}},x=class{constructor(..._0x5f2b2a){const _0x27a5c6=a0_0x2aa7ab;throw{'status':0x1f4,'error':_0x27a5c6(0x6c5),'message':_0x5f2b2a[_0x27a5c6(0x57b)]>0x0?_0x5f2b2a:void 0x0};}},de=require('@whiskeysockets/baileys');async function vs(_0x17b81f){const _0x41feb7=a0_0x2aa7ab;let _0x518088=new N(vs[_0x41feb7(0x6f5)]),_0x55a088=R[_0x41feb7(0x232)](),_0x3410e3=_0x55a088['db'](b['get']('DATABASE')[_0x41feb7(0x71e)][_0x41feb7(0x275)]+'-instances')[_0x41feb7(0x5c9)](_0x17b81f),_0x337983=async(_0x90c3c5,_0x4d90d2)=>{const _0x21c80f=_0x41feb7;try{return await _0x55a088[_0x21c80f(0x3fd)](),await _0x3410e3[_0x21c80f(0x2d5)]({'_id':_0x4d90d2},JSON[_0x21c80f(0x42d)](JSON[_0x21c80f(0x7c7)](_0x90c3c5,de[_0x21c80f(0x258)][_0x21c80f(0x4ed)])),{'upsert':!0x0});}catch{}},_0x532a6d=async _0x285167=>{const _0x30bd99=_0x41feb7;try{await _0x55a088['connect']();let _0x21b1f4=await _0x3410e3[_0x30bd99(0x709)]({'_id':_0x285167}),_0x232ef3=JSON[_0x30bd99(0x7c7)](_0x21b1f4);return JSON[_0x30bd99(0x42d)](_0x232ef3,de[_0x30bd99(0x258)][_0x30bd99(0x24c)]);}catch{}},_0x3c6143=async _0xffafd4=>{const _0x8971c1=_0x41feb7;try{return await _0x55a088[_0x8971c1(0x3fd)](),await _0x3410e3[_0x8971c1(0x576)]({'_id':_0xffafd4});}catch{}},_0x104982=await _0x532a6d('creds')||(0x0,de[_0x41feb7(0x304)])();return{'state':{'creds':_0x104982,'keys':{'get':async(_0x220b30,_0x58b9f2)=>{const _0x273d80=_0x41feb7;let _0x5442cb={};return await Promise['all'](_0x58b9f2[_0x273d80(0x360)](async _0x19cfe9=>{const _0x1d99c0=_0x273d80;let _0x3596da=await _0x532a6d(_0x220b30+'-'+_0x19cfe9);_0x220b30===_0x1d99c0(0x1b4)&&_0x3596da&&(_0x3596da=de[_0x1d99c0(0x440)][_0x1d99c0(0x1e1)][_0x1d99c0(0x607)][_0x1d99c0(0x308)](_0x3596da)),_0x5442cb[_0x19cfe9]=_0x3596da;})),_0x5442cb;},'set':async _0x2ed88f=>{const _0x2d6cb0=_0x41feb7;let _0x5e9a9d=[];for(let _0x376943 in _0x2ed88f)for(let _0x10f4cb in _0x2ed88f[_0x376943]){let _0x38907c=_0x2ed88f[_0x376943][_0x10f4cb],_0x16efa5=_0x376943+'-'+_0x10f4cb;_0x5e9a9d[_0x2d6cb0(0x31c)](_0x38907c?_0x337983(_0x38907c,_0x16efa5):_0x3c6143(_0x16efa5));}await Promise['all'](_0x5e9a9d);}}},'saveCreds':async()=>_0x337983(_0x104982,_0x41feb7(0x573))};}var Os=O(require('long')),As=O(require(a0_0x2aa7ab(0x2c0))),Dt=require(a0_0x2aa7ab(0x78e)),Cr=require(a0_0x2aa7ab(0x1c6)),xt=require('@whiskeysockets/baileys'),It;function Ci(_0x447aa6){const _0x3cf61a=a0_0x2aa7ab;return It||(It=(0x0,Cr['createClient'])({'url':_0x447aa6[_0x3cf61a(0x2b3)]}),It[_0x3cf61a(0x3fd)]()),It;}var ne=class c{constructor(_0x5ef580,_0x292bda){const _0x98d20=a0_0x2aa7ab;this[_0x98d20(0x770)]=_0x5ef580,this['instanceName']=_0x292bda,this[_0x98d20(0x4b0)]=new N(c[_0x98d20(0x6f5)]),this[_0x98d20(0x15c)]=Ci(_0x5ef580);}set[a0_0x2aa7ab(0x57f)](_0x469745){const _0x1de1eb=a0_0x2aa7ab;this[_0x1de1eb(0x7ed)]=_0x469745;}async[a0_0x2aa7ab(0x6ca)](){const _0x42ff5d=a0_0x2aa7ab;try{return await this[_0x42ff5d(0x15c)][_0x42ff5d(0x2ba)]([_0x42ff5d(0x717),this['redisEnv'][_0x42ff5d(0x2dd)]+':*']);}catch(_0x3e2e42){this[_0x42ff5d(0x4b0)]['error'](_0x3e2e42);}}async['writeData'](_0x183d06,_0x42af20){const _0x51804b=a0_0x2aa7ab;try{let _0x4524f4=JSON[_0x51804b(0x7c7)](_0x42af20,xt[_0x51804b(0x258)][_0x51804b(0x4ed)]);return await this[_0x51804b(0x15c)][_0x51804b(0x234)](this[_0x51804b(0x770)][_0x51804b(0x2dd)]+':'+this[_0x51804b(0x7ed)],_0x183d06,_0x4524f4);}catch(_0x55c819){this['logger'][_0x51804b(0x7e7)](_0x55c819);}}async[a0_0x2aa7ab(0x633)](){const _0x279ac8=a0_0x2aa7ab;try{let _0x6d25ce=await this['client'][_0x279ac8(0x763)](this[_0x279ac8(0x770)][_0x279ac8(0x2dd)]+':'+this['instanceName']);if(_0x6d25ce){for(let _0x535d41 in _0x6d25ce)Object[_0x279ac8(0x59c)][_0x279ac8(0x6ba)][_0x279ac8(0x399)](_0x6d25ce,_0x535d41)&&(_0x6d25ce[_0x535d41]=JSON[_0x279ac8(0x42d)](_0x6d25ce[_0x535d41],xt[_0x279ac8(0x258)][_0x279ac8(0x24c)]));return _0x6d25ce;}}catch(_0x519d26){this[_0x279ac8(0x4b0)][_0x279ac8(0x7e7)](_0x519d26);}}async['readData'](_0x457624){const _0x560750=a0_0x2aa7ab;try{let _0x35f1e6=await this[_0x560750(0x15c)][_0x560750(0x580)](this[_0x560750(0x770)][_0x560750(0x2dd)]+':'+this['instanceName'],_0x457624);if(_0x35f1e6)return JSON['parse'](_0x35f1e6,xt[_0x560750(0x258)][_0x560750(0x24c)]);}catch(_0x40dcc5){this[_0x560750(0x4b0)]['error'](_0x40dcc5);}}async['removeData'](_0x8803fa){const _0x5fdf40=a0_0x2aa7ab;try{return await this[_0x5fdf40(0x15c)][_0x5fdf40(0x777)](this[_0x5fdf40(0x770)][_0x5fdf40(0x2dd)]+':'+this['instanceName'],_0x8803fa);}catch(_0x3a66c3){this[_0x5fdf40(0x4b0)][_0x5fdf40(0x7e7)](_0x3a66c3);}}async['delAll'](_0x5d570a){const _0x281aa0=a0_0x2aa7ab;try{return await this[_0x281aa0(0x15c)]['del'](_0x5d570a||this[_0x281aa0(0x770)][_0x281aa0(0x2dd)]+':'+this[_0x281aa0(0x7ed)]);}catch(_0x31d25f){this[_0x281aa0(0x4b0)][_0x281aa0(0x7e7)](_0x31d25f);}}};async function Ns(_0xb4170b,_0x20c2e9){const _0x47179e=a0_0x2aa7ab;let _0x28b8b8=new N(Ns[_0x47179e(0x6f5)]),_0x473524=new ne(_0xb4170b,_0x20c2e9),_0x46c357=async(_0x49a719,_0x2bb92d)=>{const _0x50916d=_0x47179e;try{return await _0x473524['writeData'](_0x2bb92d,_0x49a719);}catch(_0x567ed9){return _0x28b8b8[_0x50916d(0x7e7)]({'localError':'writeData','error':_0x567ed9});}},_0x11ec06=async _0x3dc71d=>{try{return await _0x473524['readData'](_0x3dc71d);}catch(_0x301e49){_0x28b8b8['error']({'readData':'writeData','error':_0x301e49});return;}},_0x40ff35=async _0x5f0a03=>{const _0x16f1d1=_0x47179e;try{return await _0x473524[_0x16f1d1(0x1c2)](_0x5f0a03);}catch(_0xd07335){_0x28b8b8[_0x16f1d1(0x7e7)]({'readData':_0x16f1d1(0x1c2),'error':_0xd07335});}},_0x311b34=await _0x11ec06('creds')||(0x0,Dt[_0x47179e(0x304)])();return{'state':{'creds':_0x311b34,'keys':{'get':async(_0x5931b6,_0x8333e)=>{const _0x5e04bd=_0x47179e;let _0x9247ad={};return await Promise[_0x5e04bd(0x513)](_0x8333e[_0x5e04bd(0x360)](async _0x2a0fce=>{const _0x2e884a=_0x5e04bd;let _0x37cc92=await _0x11ec06(_0x5931b6+'-'+_0x2a0fce);_0x5931b6==='app-state-sync-key'&&_0x37cc92&&(_0x37cc92=Dt[_0x2e884a(0x440)]['Message'][_0x2e884a(0x607)][_0x2e884a(0x308)](_0x37cc92)),_0x9247ad[_0x2a0fce]=_0x37cc92;})),_0x9247ad;},'set':async _0x410ecd=>{const _0x5059b3=_0x47179e;let _0x1b51d6=[];for(let _0x4082cd in _0x410ecd)for(let _0x56b7e6 in _0x410ecd[_0x4082cd]){let _0x24c628=_0x410ecd[_0x4082cd][_0x56b7e6],_0x41722f=_0x4082cd+'-'+_0x56b7e6;_0x1b51d6['push'](_0x24c628?await _0x46c357(_0x24c628,_0x41722f):await _0x40ff35(_0x41722f));}await Promise[_0x5059b3(0x513)](_0x1b51d6);}}},'saveCreds':async()=>await _0x46c357(_0x311b34,_0x47179e(0x573))};}var F=O(require('fs')),Re=require(a0_0x2aa7ab(0x2be)),kt=O(require(a0_0x2aa7ab(0x7d5))),Lt=require(a0_0x2aa7ab(0x5e4)),Ei=a0_0x2aa7ab(0x218)['trim'](),_t=Ei[a0_0x2aa7ab(0x3fa)]('\x0a')['map'](_0x584c31=>{const _0x10303b=a0_0x2aa7ab;let _0x117b51=_0x584c31[_0x10303b(0x3fa)](':'),_0x31ba8b={'host':_0x117b51[0x0],'port':_0x117b51[0x1],'protocol':_0x10303b(0x47d)};return _0x117b51[_0x10303b(0x57b)]===0x4&&(_0x31ba8b['username']=_0x117b51[0x2],_0x31ba8b['password']=_0x117b51[0x3]),_0x31ba8b;});function Er(_0x16739d){const _0x434740=a0_0x2aa7ab;return _t[_0x434740(0x701)](_0x351082=>_0x351082[_0x434740(0x3c6)]===_0x16739d)||null;}function Mr(){const _0x1685fd=a0_0x2aa7ab;if(_t['length']===0x0)return null;let _0x2ecd70=Math[_0x1685fd(0x65e)](Math[_0x1685fd(0x507)]()*_t[_0x1685fd(0x57b)]);return _t[_0x2ecd70];}function Rs(_0x1df765){const _0x18b152=a0_0x2aa7ab;let _0x23e153=_0x34c280=>typeof _0x34c280==_0x18b152(0x626)&&_0x34c280[_0x18b152(0x57b)]>0x0,_0x7284a8=_0x56039a=>{let _0x54d1d0=parseInt(_0x56039a,0xa);return!isNaN(_0x54d1d0)&&_0x54d1d0>0x0&&_0x54d1d0<=0xffff;},_0x3d0d4c=_0x2b5856=>typeof _0x2b5856==_0x18b152(0x626)&&_0x2b5856[_0x18b152(0x57b)]>0x0;return _0x1df765&&_0x23e153(_0x1df765[_0x18b152(0x3c6)])&&_0x7284a8(_0x1df765[_0x18b152(0x766)])&&(!_0x1df765[_0x18b152(0x66e)]||_0x3d0d4c(_0x1df765[_0x18b152(0x66e)]))&&(!_0x1df765[_0x18b152(0x5f8)]||_0x3d0d4c(_0x1df765['password']))&&(_0x1df765[_0x18b152(0x48e)]==='http'||_0x1df765[_0x18b152(0x48e)]===_0x18b152(0x429));}var Is=require(a0_0x2aa7ab(0x732)),Ir='Safari\x20(MacOS)',xs,ce=null,vr=null,Ze=null,Mi=0x3,vi=null;async function Ni(){const _0x2e6f04=a0_0x2aa7ab;let _0x5c92b0=await ye[_0x2e6f04(0x709)]();ce=_0x5c92b0?.[_0x2e6f04(0x1d9)]??null,vi=_0x5c92b0?.[_0x2e6f04(0x6c7)]??null,Ir=_0x5c92b0?.[_0x2e6f04(0x42f)]??_0x2e6f04(0x4ea),xs=_0x5c92b0?.['connectedName']??Ds??_0x2e6f04(0x350),console[_0x2e6f04(0x357)](_0x2e6f04(0x637)),console[_0x2e6f04(0x357)](_0x5c92b0);}async function Ri(){await Ni();}Ri();var Nr={},ae={},be=class c{constructor(_0x39c224,_0x30c7aa,_0x347b2b){const _0x20397b=a0_0x2aa7ab;this[_0x20397b(0x22b)]=_0x39c224,this[_0x20397b(0x51e)]=_0x30c7aa,this['repository']=_0x347b2b,this[_0x20397b(0x59f)]=null,this[_0x20397b(0x4b0)]=new N(c[_0x20397b(0x6f5)]),this[_0x20397b(0x466)]={},this[_0x20397b(0x56d)]={},this['stateConnection']={'state':_0x20397b(0x601)},this[_0x20397b(0x260)]=(0x0,q[_0x20397b(0x1a2)])(ie,_0x20397b(0x6d6)),this[_0x20397b(0x47a)]=new As[(_0x20397b(0x798))](),this[_0x20397b(0x675)]=new As[(_0x20397b(0x798))](),this[_0x20397b(0x407)]=!0x1,this[_0x20397b(0x355)]={'status.instance':_0x20397b(0x657),'qrcode.updated':_0x20397b(0x60a),'messages.upsert':_0x20397b(0x368),'messages.update':_0x20397b(0x3b8),'send.message':_0x20397b(0x368),'group.upsert':_0x20397b(0x7cb),'group.update':_0x20397b(0x7cb),'group-participants.update':'/wa-groups','connection.update':'/wa-connection-update','messages.set':_0x20397b(0x368),'contacts.set':_0x20397b(0x33b),'contacts.upsert':_0x20397b(0x33b),'contacts.update':'/wa-contacts','presence.update':'/wa-presence','chats.set':_0x20397b(0x7a0),'chats.update':'/wa-chats','chats.upsert':_0x20397b(0x7a0),'chats.delete':_0x20397b(0x7a0)},this[_0x20397b(0x1ca)]=0x0,this[_0x20397b(0x38d)]=[],this[_0x20397b(0x503)]=0xa,this[_0x20397b(0x6d8)]=0xea60,this['isRunning']=!0x1,this[_0x20397b(0x727)]={'chats.upsert':async(_0x50ce1e,_0x43dc50)=>{const _0x4ac176=_0x20397b;let _0x2afac5=[];for await(let _0x3108a1 of _0x50ce1e)_0x2afac5[_0x4ac176(0x31c)]({'_id':_0x3108a1['id'],'owner':this[_0x4ac176(0x466)]['wuid'],'group':_0x3108a1['id'][_0x4ac176(0x7bf)](_0x4ac176(0x1d3)),'name':_0x3108a1[_0x4ac176(0x6f5)]||_0x3108a1[_0x4ac176(0x7dc)]||null,'contactname':null,'lastmsg':_0x3108a1[_0x4ac176(0x26a)]&&_0x3108a1['conversationTimestamp'][_0x4ac176(0x618)]()[_0x4ac176(0x57b)]<0xd?_0x3108a1[_0x4ac176(0x26a)]*0x3e8:_0x3108a1[_0x4ac176(0x26a)]||null,'archived':_0x3108a1[_0x4ac176(0x3ef)]||!0x1,'unreadcount':_0x3108a1[_0x4ac176(0x45e)]||0x0});this[_0x4ac176(0x556)](_0x4ac176(0x19e),_0x2afac5);},'chats.update':async(_0x3b2b02,_0x1eb633)=>{const _0x5aeb28=_0x20397b;for(let _0x4c3bc7 of _0x3b2b02){let _0x1d3528={'_id':_0x4c3bc7['id'],'owner':this['instance'][_0x5aeb28(0x243)],'group':_0x4c3bc7['id'][_0x5aeb28(0x7bf)]('@g.us'),'name':_0x4c3bc7['name']||_0x4c3bc7[_0x5aeb28(0x7dc)],'archived':_0x4c3bc7['archived'],'ephemeralExpiration':_0x4c3bc7['ephemeralExpiration']},_0x22d6e8=!0x1,_0x5c2eb3={};_0x1d3528[_0x5aeb28(0x3ef)]!=null&&(this['logger'][_0x5aeb28(0x477)](this[_0x5aeb28(0x7ed)]+'\x20('+this['instance']['wuid']+'):\x20teve\x20mudanças\x20chat.archived:\x20'+_0x4c3bc7['archived']),_0x22d6e8=!0x0,_0x5c2eb3[_0x5aeb28(0x3ef)]=_0x4c3bc7[_0x5aeb28(0x3ef)]),_0x4c3bc7[_0x5aeb28(0x6f5)]!=null&&(this[_0x5aeb28(0x4b0)][_0x5aeb28(0x477)](this[_0x5aeb28(0x7ed)]+'\x20('+this[_0x5aeb28(0x466)][_0x5aeb28(0x243)]+_0x5aeb28(0x1f1)+_0x4c3bc7['name']),_0x22d6e8=!0x0,_0x5c2eb3[_0x5aeb28(0x6f5)]=_0x4c3bc7['name']),_0x4c3bc7[_0x5aeb28(0x7dc)]!=null&&(this[_0x5aeb28(0x4b0)][_0x5aeb28(0x477)](this[_0x5aeb28(0x7ed)]+'\x20('+this[_0x5aeb28(0x466)][_0x5aeb28(0x243)]+_0x5aeb28(0x61c)+_0x4c3bc7['displayName']),_0x22d6e8=!0x0,_0x5c2eb3[_0x5aeb28(0x6f5)]=_0x4c3bc7['displayName']);let _0x36572c;_0x22d6e8&&(_0x36572c=await this['repository']['chat'][_0x5aeb28(0x38e)]({'where':{'_id':_0x4c3bc7['id']}},_0x5c2eb3,this['instance'][_0x5aeb28(0x243)])),_0x36572c&&U(this[_0x5aeb28(0x7ed)],_0x5aeb28(0x4bd),{'chat':_0x36572c});}},'chats.delete':async _0x7715a3=>{const _0x2b98f4=_0x20397b;this[_0x2b98f4(0x556)](_0x2b98f4(0x6df),[..._0x7715a3]);}},this[_0x20397b(0x2d4)]={'contacts.upsert':async(_0x48f961,_0xe113bb)=>{const _0x1bb189=_0x20397b;let _0x54113d=await this['repository']['contact'][_0x1bb189(0x701)]({'where':{}},this[_0x1bb189(0x466)][_0x1bb189(0x243)]),_0x31b2ff=[];for await(let _0x482e0c of _0x48f961)_0x54113d['find'](_0x1a48da=>_0x1a48da['_id']===_0x482e0c['id'])||_0x31b2ff[_0x1bb189(0x31c)]({'_id':_0x482e0c['id'],'pushName':_0x482e0c?.[_0x1bb189(0x6f5)]||_0x482e0c?.['verifiedName'],'owner':this[_0x1bb189(0x466)][_0x1bb189(0x243)]});this['sendDataWebhook'](_0x1bb189(0x716),_0x31b2ff),await this[_0x1bb189(0x162)]['contact'][_0x1bb189(0x3fc)](_0x31b2ff);},'contacts.update':async(_0x10e445,_0x27fada)=>{const _0x23345d=_0x20397b;let _0x1e6235=[];for await(let _0x14acdd of _0x10e445)_0x1e6235[_0x23345d(0x31c)]({'_id':_0x14acdd['id'],'pushName':_0x14acdd?.['name']??_0x14acdd?.[_0x23345d(0x747)],'owner':this['instance'][_0x23345d(0x243)]});this[_0x23345d(0x556)]('contacts.update',_0x1e6235);}},this['messageHandle']={'messaging-history.set':async({messages:_0x51c015,chats:_0x309586,isLatest:_0x54d490},_0x4a87d8)=>{const _0x26c679=_0x20397b;if(_0x54d490){let _0x4bab34=await Promise[_0x26c679(0x513)](_0x309586[_0x26c679(0x360)](async _0x22f3e4=>({'_id':_0x22f3e4['id'],'owner':this[_0x26c679(0x466)][_0x26c679(0x243)],'group':_0x22f3e4['id'][_0x26c679(0x7bf)](_0x26c679(0x1d3)),'name':_0x22f3e4[_0x26c679(0x6f5)]||_0x22f3e4[_0x26c679(0x7dc)]||null,'contactname':null,'lastmsg':_0x22f3e4[_0x26c679(0x26a)]&&_0x22f3e4[_0x26c679(0x26a)][_0x26c679(0x618)]()['length']<0xd?_0x22f3e4[_0x26c679(0x26a)]*0x3e8:_0x22f3e4['conversationTimestamp']||null,'archived':_0x22f3e4['archived']||!0x1,'unreadcount':_0x22f3e4[_0x26c679(0x45e)]||0x0})));this[_0x26c679(0x556)](_0x26c679(0x400),_0x4bab34),await this['upsertChats'](_0x4bab34,_0x4a87d8);}let _0x2006cb=[],_0x59e367=Date[_0x26c679(0x458)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x2fa84e]of Object[_0x26c679(0x363)](_0x51c015)){if(_0x2fa84e[_0x26c679(0x210)]?.['protocolMessage']||_0x2fa84e[_0x26c679(0x210)]?.[_0x26c679(0x1a4)]||!_0x2fa84e['message']||_0x2fa84e['key'][_0x26c679(0x39b)]===_0x26c679(0x439)||(Os[_0x26c679(0x798)][_0x26c679(0x7d9)](_0x2fa84e?.[_0x26c679(0x693)])&&(_0x2fa84e['messageTimestamp']=_0x2fa84e[_0x26c679(0x693)]?.[_0x26c679(0x7e2)]()),_0x2fa84e[_0x26c679(0x693)]&&_0x2fa84e['messageTimestamp'][_0x26c679(0x618)]()[_0x26c679(0x57b)]<0xd&&(_0x2fa84e[_0x26c679(0x693)]=_0x2fa84e['messageTimestamp']*0x3e8),_0x2fa84e[_0x26c679(0x693)]<_0x59e367))continue;let _0x568867=(0x0,m[_0x26c679(0x730)])(_0x2fa84e[_0x26c679(0x210)]),_0x503dfc=(0x0,m[_0x26c679(0x246)])(_0x568867),{message_normalized:_0x5be1e6}=this[_0x26c679(0x75a)](_0x568867,_0x503dfc,null);Object[_0x26c679(0x717)](_0x5be1e6)[_0x26c679(0x57b)]>0x0&&_0x2006cb[_0x26c679(0x31c)]({'_id':_0x2fa84e[_0x26c679(0x50e)]['id'],'key':_0x2fa84e['key'],'pushName':_0x2fa84e['pushName'],'participant':_0x2fa84e[_0x26c679(0x3d6)],'message':_0x568867,'messageType':_0x503dfc,'message_normalized':{'key':_0x2fa84e[_0x26c679(0x50e)],'pushName':_0x2fa84e[_0x26c679(0x4c9)],'messageTimestamp':_0x2fa84e[_0x26c679(0x693)],..._0x5be1e6},'messageTimestamp':_0x2fa84e['messageTimestamp'],'owner':this['instance'][_0x26c679(0x243)]});}_0x4a87d8[_0x26c679(0x2a2)]&&_0x2006cb['length']>0x0&&(this[_0x26c679(0x4b0)][_0x26c679(0x477)](this[_0x26c679(0x7ed)]+'\x20('+this[_0x26c679(0x466)][_0x26c679(0x243)]+_0x26c679(0x544)+_0x2006cb[_0x26c679(0x57b)]+'\x20mensagens\x20de\x20'+this[_0x26c679(0x466)][_0x26c679(0x243)]+_0x26c679(0x43e)),await this[_0x26c679(0x162)][_0x26c679(0x210)][_0x26c679(0x3fc)]([..._0x2006cb],this[_0x26c679(0x466)][_0x26c679(0x243)])),this[_0x26c679(0x556)](_0x26c679(0x4ee),[..._0x2006cb]),_0x51c015=void 0x0;},'messages.upsert':async({messages:_0x2eb15b,type:_0x2a44e3},_0x4350d3)=>{const _0x5c68b0=_0x20397b;let _0x5a13b0=_0x2eb15b[0x0],_0xc01588=_0x5a13b0[_0x5c68b0(0x50e)]['id'],_0x21e809=_0x5a13b0['messageStubType']===0x2,_0x5ba983=0x6;if(this[_0x5c68b0(0x56d)]?.['groups_ignore']&&_0x5a13b0[_0x5c68b0(0x50e)][_0x5c68b0(0x39b)][_0x5c68b0(0x323)](_0x5c68b0(0x1d3))){this['logger'][_0x5c68b0(0x477)](this[_0x5c68b0(0x7ed)]+'\x20('+this[_0x5c68b0(0x466)][_0x5c68b0(0x243)]+_0x5c68b0(0x625));return;}if(_0x21e809){if(ae[_0xc01588]||(ae[_0xc01588]=0x0),ae[_0xc01588]++,this['logger'][_0x5c68b0(0x7e7)](this['instanceName']+'\x20('+this[_0x5c68b0(0x466)][_0x5c68b0(0x243)]+_0x5c68b0(0x491)+_0x5a13b0[_0x5c68b0(0x50e)][_0x5c68b0(0x39b)]+_0x5c68b0(0x6c1)+_0xc01588+':\x20'+ae[_0xc01588]+'/'+_0x5ba983),ae[_0xc01588]>=_0x5ba983){this['logger']['error'](this[_0x5c68b0(0x7ed)]+'\x20('+this[_0x5c68b0(0x466)]['wuid']+'):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid='+_0x5a13b0[_0x5c68b0(0x50e)]['remoteJid']+_0x5c68b0(0x6c1)+_0xc01588+'.');let _0x4299a1={'key':{..._0x5a13b0['key']},'message':{'conversation':_0x5c68b0(0x321)+_0xc01588+_0x5c68b0(0x518)}};_0x5a13b0[_0x5c68b0(0x50e)][_0x5c68b0(0x39b)][_0x5c68b0(0x323)](_0x5c68b0(0x330))&&this[_0x5c68b0(0x15c)]['ev'][_0x5c68b0(0x6e2)](_0x5c68b0(0x6f2),{'messages':[_0x4299a1],'type':_0x5c68b0(0x22f)}),delete ae[_0xc01588];}}else ae[_0xc01588]&&(this[_0x5c68b0(0x4b0)][_0x5c68b0(0x634)](_0x5c68b0(0x5ba)+ae[_0xc01588]+'\x20tentativas:\x20remotejid='+_0x5a13b0[_0x5c68b0(0x50e)]['remoteJid']+_0x5c68b0(0x6c1)+_0xc01588),delete ae[_0xc01588]);if(_0x2a44e3!==_0x5c68b0(0x22f)||!_0x5a13b0?.[_0x5c68b0(0x210)]||_0x5a13b0[_0x5c68b0(0x210)]?.['protocolMessage']||_0x5a13b0['message'][_0x5c68b0(0x1a4)]||_0x5a13b0[_0x5c68b0(0x50e)][_0x5c68b0(0x39b)]===_0x5c68b0(0x439))return;let _0x5cff38=null,_0x5a6f53=null;try{_0x5cff38=await this[_0x5c68b0(0x242)](_0x5a13b0),_0x5a6f53=_0x5cff38?_0x5cff38[_0x5c68b0(0x1a2)](','):null;}catch(_0x3d76eb){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x5c68b0(0x466)]['wuid']+_0x5c68b0(0x544)+(_0x3d76eb instanceof Error?_0x3d76eb[_0x5c68b0(0x210)]:JSON[_0x5c68b0(0x7c7)](_0x3d76eb,null,0x2))),_0x5a6f53=_0x5c68b0(0x7ce);}this[_0x5c68b0(0x15c)][_0x5c68b0(0x792)](_0x5c68b0(0x7be)),Os['default']['isLong'](_0x5a13b0[_0x5c68b0(0x693)])&&(_0x5a13b0[_0x5c68b0(0x693)]=_0x5a13b0[_0x5c68b0(0x693)]?.['toNumber']()),_0x5a13b0[_0x5c68b0(0x693)]&&_0x5a13b0[_0x5c68b0(0x693)][_0x5c68b0(0x618)]()['length']<0xd&&(_0x5a13b0['messageTimestamp']=_0x5a13b0['messageTimestamp']*0x3e8);let _0x5e312f=_0x5a13b0['message'],_0x59c2a6=(0x0,m[_0x5c68b0(0x730)])(_0x5e312f),_0x326e09=(0x0,m[_0x5c68b0(0x246)])(_0x59c2a6),{messageContent:_0x4a1818,message_normalized:_0x31a25c}=this['normalizeMessage'](_0x59c2a6,_0x326e09,_0x5a6f53);_0x326e09===_0x5c68b0(0x7cd)&&_0x4a1818?.[_0x5c68b0(0x6db)]&&(_0x326e09=_0x5c68b0(0x6db));let _0x2e5415;if(_0x5a13b0[_0x5c68b0(0x50e)][_0x5c68b0(0x299)])_0x2e5415=this[_0x5c68b0(0x466)][_0x5c68b0(0x36d)];else{let _0x4c72ec=_0x5a13b0['key'][_0x5c68b0(0x39b)][_0x5c68b0(0x7bf)]('@g.us')?_0x5a13b0[_0x5c68b0(0x50e)]['participant']:_0x5a13b0[_0x5c68b0(0x50e)][_0x5c68b0(0x39b)];_0x2e5415=(await this[_0x5c68b0(0x75e)](_0x4c72ec,_0x5a13b0[_0x5c68b0(0x4c9)],!0x1))[_0x5c68b0(0x37a)]['pictureUrl'];}let _0x1650f1={'_id':_0x5a13b0[_0x5c68b0(0x50e)]['id'],'key':_0x5a13b0[_0x5c68b0(0x50e)],'isGroup':_0x5a13b0[_0x5c68b0(0x50e)]['remoteJid'][_0x5c68b0(0x7bf)](_0x5c68b0(0x1d3)),'profilePictureUrl':_0x2e5415,'pushName':_0x5a13b0['pushName'],'message':_0x59c2a6,'messageType':_0x326e09,'message_normalized':{'key':_0x5a13b0[_0x5c68b0(0x50e)],'pushName':_0x5a13b0[_0x5c68b0(0x4c9)],'messageTimestamp':_0x5a13b0[_0x5c68b0(0x693)],'source':(0x0,m[_0x5c68b0(0x2ce)])(_0x5a13b0[_0x5c68b0(0x50e)]['id']),..._0x31a25c},'messageTimestamp':_0x5a13b0[_0x5c68b0(0x693)],'owner':this['instance'][_0x5c68b0(0x243)],'source':(0x0,m['getDevice'])(_0x5a13b0['key']['id'])};_0x4a1818||(console[_0x5c68b0(0x7e7)](_0x5c68b0(0x2bc)),this['logger'][_0x5c68b0(0x7e7)](_0x1650f1)),this[_0x5c68b0(0x4b0)]['log'](this[_0x5c68b0(0x7ed)]+'\x20('+this[_0x5c68b0(0x466)][_0x5c68b0(0x243)]+_0x5c68b0(0x544)+(_0x1650f1[_0x5c68b0(0x50e)]?.[_0x5c68b0(0x299)]?_0x5c68b0(0x410):'recebido\x20de')+'\x20['+_0x1650f1['key']?.[_0x5c68b0(0x39b)][_0x5c68b0(0x73a)](_0x5c68b0(0x330),'')+_0x5c68b0(0x80b)+_0x1650f1['messageType']+')'),_0x1650f1[_0x5c68b0(0x782)]?.['text']&&this[_0x5c68b0(0x4b0)][_0x5c68b0(0x357)](_0xc01588+':\x20'+_0x1650f1[_0x5c68b0(0x782)]?.[_0x5c68b0(0x309)]),await this['repository'][_0x5c68b0(0x210)]['insert']([_0x1650f1],this[_0x5c68b0(0x466)][_0x5c68b0(0x243)]),this[_0x5c68b0(0x556)](_0x5c68b0(0x6f2),_0x1650f1),U(this['instanceName'],'messages',{'message':_0x1650f1}),_0x5a13b0['key'][_0x5c68b0(0x39b)]!==_0x5c68b0(0x439)&&await this[_0x5c68b0(0x68f)](_0x4350d3,_0x1650f1,'MESSAGES_UPSERT');},'messages.update':async(_0x21a205,_0x1c99a2)=>{const _0x4a2da7=_0x20397b;let _0x1a9750={0x0:_0x4a2da7(0x681),0x1:_0x4a2da7(0x6a3),0x2:_0x4a2da7(0x3ae),0x3:_0x4a2da7(0x256),0x4:_0x4a2da7(0x577),0x5:_0x4a2da7(0x5ef)};for await(let {key:_0x31b77e,update:_0x2c2b60}of _0x21a205){if(this[_0x4a2da7(0x56d)]?.[_0x4a2da7(0x67d)]&&_0x31b77e[_0x4a2da7(0x39b)][_0x4a2da7(0x323)](_0x4a2da7(0x1d3))){this[_0x4a2da7(0x4b0)]['verbose'](this[_0x4a2da7(0x7ed)]+'\x20('+this['instance']['wuid']+_0x4a2da7(0x443));return;}if(_0x31b77e[_0x4a2da7(0x39b)]!=='status@broadcast'){let _0xd7cb3d=Date[_0x4a2da7(0x458)](),_0x18554d;_0x2c2b60[_0x4a2da7(0x210)]===null&&_0x2c2b60[_0x4a2da7(0x540)]===void 0x0?_0x18554d=_0x4a2da7(0x769):_0x18554d=_0x1a9750[_0x2c2b60[_0x4a2da7(0x540)]];let _0xd61bbc=_0x31b77e[_0x4a2da7(0x39b)][_0x4a2da7(0x73a)](/:\d{1,2}@/g,'@'),_0x5f017b={..._0x31b77e,'remoteJid':_0xd61bbc,'status':_0x18554d,'datetime':_0xd7cb3d,'owner':this[_0x4a2da7(0x466)]['wuid']};this[_0x4a2da7(0x556)]('messages.update',_0x5f017b),await this[_0x4a2da7(0x270)](_0x31b77e,_0x5f017b);}}},'labels.association':async({type:_0x320e2b,association:_0x41fb6f})=>{const _0x5bbb3e=_0x20397b;if(_0x41fb6f['type']===_0x5bbb3e(0x335)){let _0x1635fc,_0x17dc5c=0x0;for(;!_0x1635fc&&_0x17dc5c<this['delayChatLabel_MAX_RETRIES'];)_0x1635fc=await this[_0x5bbb3e(0x162)][_0x5bbb3e(0x6cc)][_0x5bbb3e(0x709)]({'where':{'_id':_0x41fb6f['chatId']}},this['instance'][_0x5bbb3e(0x243)]),_0x1635fc||(_0x17dc5c++,console[_0x5bbb3e(0x357)](_0x5bbb3e(0x1f0)+_0x41fb6f['chatId']+_0x5bbb3e(0x6dc)+this[_0x5bbb3e(0x628)]+_0x5bbb3e(0x5a7)+_0x17dc5c+'/'+this[_0x5bbb3e(0x802)]+')'),await this[_0x5bbb3e(0x5c5)](this[_0x5bbb3e(0x628)]));if(!_0x1635fc){console[_0x5bbb3e(0x7e7)](_0x5bbb3e(0x53c)+_0x41fb6f[_0x5bbb3e(0x4f5)]+_0x5bbb3e(0x7b0)+this[_0x5bbb3e(0x802)]+_0x5bbb3e(0x1c3));return;}switch(_0x320e2b){case _0x5bbb3e(0x485):console[_0x5bbb3e(0x357)](_0x41fb6f),await this[_0x5bbb3e(0x162)][_0x5bbb3e(0x6cc)][_0x5bbb3e(0x38e)]({'where':{'_id':_0x41fb6f['chatId']}},{'leadInfo.etiquetas':_0x41fb6f['labelId']},this[_0x5bbb3e(0x466)][_0x5bbb3e(0x243)],void 0x0,_0x5bbb3e(0x188));break;case _0x5bbb3e(0x421):console[_0x5bbb3e(0x357)](_0x41fb6f),await this['repository'][_0x5bbb3e(0x6cc)][_0x5bbb3e(0x38e)]({'where':{'_id':_0x41fb6f[_0x5bbb3e(0x4f5)]}},{'leadInfo.etiquetas':_0x41fb6f[_0x5bbb3e(0x25b)]},this['instance'][_0x5bbb3e(0x243)],void 0x0,'$pull');break;default:console['error']('unknown\x20operation\x20type\x20['+_0x320e2b+']');}}},'labels.edit':async _0x6f4045=>{const _0x461f06=_0x20397b;if(!_0x6f4045||!_0x6f4045['id']){console['error'](_0x461f06(0x315));return;}if(!_0x6f4045[_0x461f06(0x6fa)]){let _0x4b4cbd=[_0x461f06(0x59b),'#64c4ff',_0x461f06(0x2ea),_0x461f06(0x171),_0x461f06(0x54d),'#56ccb4',_0x461f06(0x496),'#d3a91f','#6f7bcf',_0x461f06(0x6b7),_0x461f06(0x2d8),'#ffc5c7',_0x461f06(0x773),'#f64847',_0x461f06(0x5b7),'#83e421',_0x461f06(0x772),'#b4ebff',_0x461f06(0x21f),_0x461f06(0x4a3)],_0x4c2558;typeof _0x6f4045[_0x461f06(0x2f4)]==_0x461f06(0x7fa)&&_0x6f4045[_0x461f06(0x2f4)]>=0x0&&_0x6f4045['color']<_0x4b4cbd['length']?_0x4c2558=_0x4b4cbd[_0x6f4045['color']]:(console[_0x461f06(0x7e7)](_0x461f06(0x38a),_0x6f4045[_0x461f06(0x2f4)]),_0x4c2558='#000000');let _0x541061={'_id':_0x6f4045['id'],'colorHex':_0x4c2558,'color':_0x6f4045?.[_0x461f06(0x2f4)],'name':_0x6f4045?.[_0x461f06(0x6f5)],'owner':this['instance']['wuid']};await this[_0x461f06(0x162)][_0x461f06(0x3ab)][_0x461f06(0x38e)]({'where':{'_id':_0x6f4045['id']}},_0x541061,this['instance'][_0x461f06(0x243)]),console[_0x461f06(0x357)]('Rótulo\x20atualizado:',_0x6f4045);}_0x6f4045[_0x461f06(0x6fa)]&&(await this['repository'][_0x461f06(0x3ab)][_0x461f06(0x801)]({'where':{'_id':_0x6f4045['id']}},this['instance']['wuid']),console[_0x461f06(0x357)]('Rótulo\x20deletado:',_0x6f4045['id']));}},this['groupHandler']={'groups.upsert':_0x1261dc=>{const _0x4c8a70=_0x20397b;this[_0x4c8a70(0x556)](_0x4c8a70(0x52f),_0x1261dc);},'groups.update':_0xe7ab06=>{const _0x25c279=_0x20397b;this[_0x25c279(0x556)](_0x25c279(0x282),_0xe7ab06);},'group-participants.update':_0x3b9946=>{const _0x447e39=_0x20397b;this[_0x447e39(0x556)](_0x447e39(0x3f4),_0x3b9946);}},this[_0x20397b(0x802)]=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this['processPollUpdateMessage']=async _0x5192f3=>{const _0x29cb0e=_0x20397b;if(_0x5192f3[_0x29cb0e(0x210)]?.[_0x29cb0e(0x35b)]){let _0x20d057=await this[_0x29cb0e(0x650)](_0x5192f3[_0x29cb0e(0x210)][_0x29cb0e(0x35b)]['pollCreationMessageKey'],!0x0);if(_0x20d057){let _0xe53fa=_0x20d057[_0x29cb0e(0x50e)][_0x29cb0e(0x299)]?this[_0x29cb0e(0x466)][_0x29cb0e(0x243)]+_0x29cb0e(0x330):_0x20d057[_0x29cb0e(0x50e)][_0x29cb0e(0x3d6)]||_0x20d057[_0x29cb0e(0x50e)][_0x29cb0e(0x39b)],_0x102c00=_0x20d057['key']['id'],_0x1c693b=_0x20d057[_0x29cb0e(0x210)],_0x2359ea=Buffer[_0x29cb0e(0x36a)](_0x1c693b[_0x29cb0e(0x2fb)][_0x29cb0e(0x752)][_0x29cb0e(0x618)](_0x29cb0e(0x2c9)),_0x29cb0e(0x2c9)),_0x430dc8=(0x0,m['decryptPollVote'])(_0x5192f3[_0x29cb0e(0x210)][_0x29cb0e(0x35b)]['vote'],{'pollCreatorJid':_0xe53fa,'pollMsgId':_0x102c00,'pollEncKey':_0x2359ea,'voterJid':_0x5192f3['key']['fromMe']?this[_0x29cb0e(0x466)][_0x29cb0e(0x243)]+_0x29cb0e(0x330):_0x5192f3[_0x29cb0e(0x50e)][_0x29cb0e(0x39b)]['endsWith']('g.us')?_0x5192f3[_0x29cb0e(0x50e)][_0x29cb0e(0x3d6)]:_0x5192f3[_0x29cb0e(0x50e)][_0x29cb0e(0x39b)]}),_0x5cb09c=[],_0x8e0bab=_0x430dc8['selectedOptions'][_0x29cb0e(0x360)](_0x333801=>Buffer['from'](_0x333801)[_0x29cb0e(0x618)]('hex'));for(let {optionName:_0x2940ea}of _0x1c693b[_0x29cb0e(0x500)]?.[_0x29cb0e(0x18f)]||_0x1c693b[_0x29cb0e(0x5a3)]?.['options']||_0x1c693b[_0x29cb0e(0x1fd)]?.[_0x29cb0e(0x18f)])_0x8e0bab[_0x29cb0e(0x759)]((0x0,m[_0x29cb0e(0x30b)])(Buffer['from'](_0x2940ea))[_0x29cb0e(0x618)](_0x29cb0e(0x2c9)))>-0x1&&_0x5cb09c[_0x29cb0e(0x31c)](_0x2940ea);return _0x5cb09c;}}return null;},this['normalizeMessage']=(_0x820e2b,_0x3148fb,_0x2ef15f)=>{const _0x555094=_0x20397b;try{let _0x37b130=_0x820e2b?(0x0,m['extractMessageContent'])(_0x820e2b)[_0x3148fb]:void 0x0,_0x1ff2f4={},_0x27781f=null,_0x81d0f=null,_0x6cb38c=null;_0x3148fb==='protocolMessage'&&_0x37b130?.[_0x555094(0x6db)]&&(_0x3148fb=(0x0,m['getContentType'])(_0x37b130['editedMessage']),_0x27781f=_0x820e2b[_0x555094(0x7cd)]['key']['id'],_0x37b130=_0x820e2b[_0x555094(0x7cd)]['editedMessage'][_0x3148fb]),_0x820e2b[_0x3148fb]?.[_0x555094(0x1e3)]?.[_0x555094(0x5d2)]&&_0x820e2b[_0x3148fb]?.[_0x555094(0x1e3)]?.[_0x555094(0x6fe)]&&(_0x81d0f=_0x820e2b[_0x3148fb][_0x555094(0x1e3)]['stanzaId']),_0x820e2b[_0x555094(0x578)]&&(_0x6cb38c=_0x820e2b[_0x555094(0x578)][_0x555094(0x50e)]['id']);let _0x327af0;if(_0x37b130&&typeof _0x37b130==_0x555094(0x76d)&&_0x555094(0x721)in _0x37b130&&({pollCreationMessageKey:_0x327af0}=_0x37b130),_0x3148fb==='pollCreationMessage'||_0x3148fb===_0x555094(0x1fd)||_0x3148fb===_0x555094(0x5a3)){let _0x504528=_0x37b130['options'][_0x555094(0x360)](_0x5838f5=>_0x5838f5[_0x555094(0x1f8)])[_0x555094(0x1a2)]('|');_0x1ff2f4[_0x555094(0x465)]=_0x504528;}let _0x565cc8='';if(_0x37b130&&(_0x565cc8+=_0x37b130[_0x555094(0x6f5)]?_0x37b130[_0x555094(0x6f5)]:'',_0x565cc8+=_0x37b130[_0x555094(0x307)]?'\x20'+_0x37b130[_0x555094(0x307)]:'',_0x565cc8+=_0x37b130['conversation']?'\x20'+_0x37b130[_0x555094(0x673)]:'',_0x565cc8+=_0x37b130[_0x555094(0x7dc)]?'\x20'+_0x37b130['displayName']:''),_0x3148fb===_0x555094(0x54f)){_0x565cc8=(_0x37b130[_0x555094(0x448)]||'')+'\x0a'+(_0x37b130[_0x555094(0x741)]||'')+'\x0a'+(_0x37b130[_0x555094(0x16d)]||'');let _0x4f3377=this[_0x555094(0x28b)](_0x37b130[_0x555094(0x765)]);_0x1ff2f4[_0x555094(0x465)]=_0x4f3377;}if(_0x3148fb===_0x555094(0x529)&&(_0x2ef15f=_0x37b130[_0x555094(0x448)]),_0x37b130&&_0x37b130[_0x555094(0x389)]){let _0x5179b2=this[_0x555094(0x5dd)](JSON['stringify'](_0x37b130[_0x555094(0x389)],null,0x2));_0x565cc8=_0x565cc8+'\x0a'+_0x5179b2;}if(_0x37b130){let {sections:_0x46f373,listType:_0x23e791,displayName:_0x6169fd,vcard:_0x33249d,contactVcard:_0x1dc938,name:_0xd0027d,caption:_0x38b5ec,conversation:_0x29bc40,pollCreationMessageKey:_0xbfdcb3,footerText:_0x4f8bad,contentText:_0x1c64b4,pageCount:_0x427815,headerType:_0x33c624,isAvatar:_0x5715f5,isAnimated:_0x5709dd,fallbackLc:_0x270f01,fallbackLg:_0x48afdc,namespace:_0x1dba10,elementName:_0xa230c5,localizableParams:_0x3c4daa,viewOnce:_0x53b644,height:_0x13cd00,width:_0x2bd223,key:_0x3c1c7c,firstScanLength:_0x401d3f,firstScanSidecar:_0x560a2b,gifPlayback:_0x3e9acc,gifAttribution:_0x819ed4,midQualityFileSha256:_0x3e442a,scansSidecar:_0x2543f0,streamingSidecar:_0x347504,thumbnailHeight:_0x1155e2,thumbnailWidth:_0x47fae0,thumbnailEncSha256:_0x5b1a1b,thumbnailDirectPath:_0x4c97fb,canonicalUrl:_0x5c87ad,matchedText:_0x459d2a,previewType:_0x46ea95,thumbnailSha256:_0x41b1be,deviceListMetadataVersion:_0x1a1313,inviteLinkGroupTypeV2:_0x43a147,interactiveAnnotations:_0x2cbd9d,scanLengths:_0x2841de,jpegThumbnail:_0x3ef857,url:_0x4e2a9a,mediaKeyTimestamp:_0x5e92b8,waveform:_0x1d1b47,stickerSentTs:_0x18465e,firstFrameLength:_0x2a87af,fileEncSha256:_0x185158,contextInfo:_0x3e2e68,firstFrameSidecar:_0x2e97a0,directPath:_0x2d80f5,fileSha256:_0x2bfba7,mediaKey:_0x2ea571,senderTimestampMs:_0x1c0161,..._0x3d0360}=_0x37b130;(_0x3148fb===_0x555094(0x54f)||_0x3148fb==='listResponseMessage')&&(delete _0x3d0360[_0x555094(0x448)],delete _0x3d0360['description']),typeof _0x37b130=='string'?_0x1ff2f4={'text':_0x37b130,'type':_0x3148fb||_0x555094(0x673),..._0x27781f&&{'edited':_0x27781f},..._0x81d0f&&{'quoted':_0x81d0f},..._0x6cb38c&&{'reaction':_0x6cb38c}}:_0x1ff2f4={'text':_0x565cc8,..._0x3d0360,..._0x3148fb==='pollUpdateMessage'?{'poll_id':_0x37b130['pollCreationMessageKey']['id'],'quoted':_0x37b130['pollCreationMessageKey']['id'],'vote':_0x2ef15f}:{},..._0x3148fb==='listResponseMessage'?{'vote':_0x2ef15f}:{},'type':_0x3148fb,..._0x27781f&&{'edited':_0x27781f},..._0x81d0f&&{'quoted':_0x81d0f},..._0x6cb38c&&{'reaction':_0x6cb38c},...(_0x3148fb===_0x555094(0x500)||_0x3148fb==='pollCreationMessageV2'||_0x3148fb==='pollCreationMessageV3'||_0x3148fb===_0x555094(0x54f))&&{'convertedOptions':_0x1ff2f4[_0x555094(0x465)]}};}return{'messageType':_0x3148fb,'messageContent':_0x37b130,'message_normalized':_0x1ff2f4};}catch(_0x3f5f67){return console[_0x555094(0x7e7)]('Erro\x20ao\x20normalizar\x20a\x20mensagem:',_0x3f5f67),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x20397b(0x3dd)](),this[_0x20397b(0x466)][_0x20397b(0x230)]={'count':0x0},this[_0x20397b(0x466)][_0x20397b(0x42a)]={'delayMessage':0x0,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set['instanceName'](_0x5304e3){const _0x284c7a=a0_0x2aa7ab;if(!_0x5304e3){this[_0x284c7a(0x466)][_0x284c7a(0x6f5)]=(0x0,Tr['v4'])();return;}this[_0x284c7a(0x466)]['name']=_0x5304e3,this[_0x284c7a(0x556)](_0x284c7a(0x73d),{'instance':this['instance'][_0x284c7a(0x6f5)],'status':_0x284c7a(0x2fe)});}get['instanceName'](){const _0x40db83=a0_0x2aa7ab;return this[_0x40db83(0x466)][_0x40db83(0x6f5)];}get[a0_0x2aa7ab(0x243)](){const _0x113afb=a0_0x2aa7ab;return this[_0x113afb(0x466)][_0x113afb(0x243)];}async[a0_0x2aa7ab(0x216)](){const _0x33dd72=a0_0x2aa7ab;let _0x184dc7=this[_0x33dd72(0x15c)][_0x33dd72(0x7a8)]?.['name']??this[_0x33dd72(0x15c)][_0x33dd72(0x7a8)]?.['verifiedName'];if(!_0x184dc7){if(this['configService'][_0x33dd72(0x54a)](_0x33dd72(0x2d0))[_0x33dd72(0x2a2)]){let _0x59a0bc=await R['getClient']()['db'](this[_0x33dd72(0x22b)]['get'](_0x33dd72(0x2d0))[_0x33dd72(0x71e)][_0x33dd72(0x275)]+'-instances')[_0x33dd72(0x5c9)](this[_0x33dd72(0x7ed)])[_0x33dd72(0x709)]({'_id':_0x33dd72(0x573)});if(_0x59a0bc){let _0x165e74=JSON['parse'](JSON[_0x33dd72(0x7c7)](_0x59a0bc),m[_0x33dd72(0x258)][_0x33dd72(0x24c)]);_0x184dc7=_0x165e74['me']?.[_0x33dd72(0x6f5)]||_0x165e74['me']?.[_0x33dd72(0x747)];}}else{if((0x0,Te['existsSync'])((0x0,q[_0x33dd72(0x1a2)])(ge,this[_0x33dd72(0x7ed)],_0x33dd72(0x300)))){let _0x53efbe=JSON['parse']((0x0,Te[_0x33dd72(0x7b1)])((0x0,q['join'])(ge,this['instanceName'],_0x33dd72(0x300)),{'encoding':_0x33dd72(0x23b)}));_0x184dc7=_0x53efbe['me']?.[_0x33dd72(0x6f5)]||_0x53efbe['me']?.[_0x33dd72(0x747)];}}}return _0x184dc7;}get[a0_0x2aa7ab(0x36d)](){const _0x449783=a0_0x2aa7ab;return this[_0x449783(0x466)][_0x449783(0x36d)];}get[a0_0x2aa7ab(0x2c8)](){const _0x12eb8b=a0_0x2aa7ab;return{'pairingCode':this[_0x12eb8b(0x466)][_0x12eb8b(0x230)]?.[_0x12eb8b(0x290)],'code':this[_0x12eb8b(0x466)]['qrcode']?.[_0x12eb8b(0x2e0)],'base64':this[_0x12eb8b(0x466)][_0x12eb8b(0x230)]?.['base64']};}async[a0_0x2aa7ab(0x6f0)](){const _0x14fe30=a0_0x2aa7ab;let _0x1cad07=await this[_0x14fe30(0x162)][_0x14fe30(0x610)][_0x14fe30(0x701)](this[_0x14fe30(0x7ed)]);this[_0x14fe30(0x56d)][_0x14fe30(0x1ff)]=_0x1cad07?.[_0x14fe30(0x1ff)],this[_0x14fe30(0x56d)][_0x14fe30(0x3af)]=_0x1cad07?.[_0x14fe30(0x3af)],this[_0x14fe30(0x56d)][_0x14fe30(0x4ab)]=_0x1cad07?.[_0x14fe30(0x4ab)],this['localWebhook'][_0x14fe30(0x51b)]=_0x1cad07?.[_0x14fe30(0x51b)],this['localWebhook'][_0x14fe30(0x19a)]=_0x1cad07?.[_0x14fe30(0x19a)],this[_0x14fe30(0x56d)][_0x14fe30(0x61f)]=_0x1cad07?.['SEND_MESSAGE'],this[_0x14fe30(0x56d)][_0x14fe30(0x5e9)]=_0x1cad07?.[_0x14fe30(0x5e9)],this['localWebhook'][_0x14fe30(0x708)]=_0x1cad07?.[_0x14fe30(0x708)],this[_0x14fe30(0x56d)][_0x14fe30(0x25a)]=_0x1cad07?.[_0x14fe30(0x25a)],this[_0x14fe30(0x56d)][_0x14fe30(0x775)]=_0x1cad07?.[_0x14fe30(0x775)],this[_0x14fe30(0x56d)]['GROUP_PARTICIPANTS_UPDATE']=_0x1cad07?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x14fe30(0x56d)][_0x14fe30(0x414)]=_0x1cad07?.[_0x14fe30(0x414)],this[_0x14fe30(0x56d)][_0x14fe30(0x32a)]=_0x1cad07?.[_0x14fe30(0x32a)],this[_0x14fe30(0x56d)][_0x14fe30(0x426)]=_0x1cad07?.['CHATS_UPDATE'],this['localWebhook'][_0x14fe30(0x29b)]=_0x1cad07?.[_0x14fe30(0x29b)],this['localWebhook'][_0x14fe30(0x5a1)]=_0x1cad07?.[_0x14fe30(0x5a1)],this[_0x14fe30(0x56d)][_0x14fe30(0x6fb)]=_0x1cad07?.[_0x14fe30(0x6fb)],this[_0x14fe30(0x56d)][_0x14fe30(0x6f7)]=_0x1cad07?.['CONTACTS_UPDATE'],this['localWebhook'][_0x14fe30(0x666)]=_0x1cad07?.[_0x14fe30(0x666)],this[_0x14fe30(0x56d)]['MESSAGES_SET']=_0x1cad07?.[_0x14fe30(0x608)],this[_0x14fe30(0x56d)][_0x14fe30(0x42b)]=_0x1cad07?.[_0x14fe30(0x42b)],this['localWebhook'][_0x14fe30(0x67d)]=_0x1cad07?.['groups_ignore'];}async[a0_0x2aa7ab(0x473)](_0x17914a){const _0x1c088a=a0_0x2aa7ab;let _0x13700d=[_0x1c088a(0x408),_0x1c088a(0x1ff),'enabled',_0x1c088a(0x4ab),'STATUS_INSTANCE',_0x1c088a(0x19a),_0x1c088a(0x708),_0x1c088a(0x5e9),_0x1c088a(0x61f),_0x1c088a(0x25a),_0x1c088a(0x775),_0x1c088a(0x5bc),'CHATS_SET',_0x1c088a(0x32a),_0x1c088a(0x426),_0x1c088a(0x29b),_0x1c088a(0x5a1),_0x1c088a(0x6fb),_0x1c088a(0x6f7),_0x1c088a(0x666),_0x1c088a(0x608),_0x1c088a(0x42b),'groups_ignore'],_0x4ef6da={};return _0x13700d[_0x1c088a(0x53a)](_0x278c4f=>{_0x17914a[_0x278c4f]!==void 0x0&&(_0x4ef6da[_0x278c4f]=_0x17914a[_0x278c4f]);}),await this['repository'][_0x1c088a(0x610)][_0x1c088a(0x679)](_0x4ef6da,this[_0x1c088a(0x7ed)]),Object[_0x1c088a(0x819)](this[_0x1c088a(0x56d)],_0x4ef6da),await this[_0x1c088a(0x162)][_0x1c088a(0x610)][_0x1c088a(0x701)](this[_0x1c088a(0x7ed)]);}async[a0_0x2aa7ab(0x7df)](){const _0x34047d=a0_0x2aa7ab;return await this[_0x34047d(0x162)]['webhook'][_0x34047d(0x701)](this['instanceName']);}async[a0_0x2aa7ab(0x556)](_0xa09ed2,_0x5b422d){const _0x3250d1=a0_0x2aa7ab;let _0x5cc8d5=_0xa09ed2[_0x3250d1(0x73a)](/[\.-]/gm,'_')[_0x3250d1(0x6ae)](),_0x46c30e=this[_0x3250d1(0x56d)][_0x3250d1(0x3af)]&&(0x0,P[_0x3250d1(0x4e8)])(this[_0x3250d1(0x56d)][_0x3250d1(0x1ff)])?this[_0x3250d1(0x56d)][_0x3250d1(0x1ff)]+(this[_0x3250d1(0x56d)][_0x3250d1(0x4ab)]?this[_0x3250d1(0x355)][_0xa09ed2]:''):null,_0x62f23b=this[_0x3250d1(0x56d)][_0x5cc8d5],_0x4063b5=ce&&ce[_0x3250d1(0x3af)]&&(0x0,P[_0x3250d1(0x4e8)])(ce[_0x3250d1(0x1ff)])?ce['url']+(ce[_0x3250d1(0x4ab)]?this[_0x3250d1(0x355)][_0xa09ed2]:''):null,_0x20a0f4=ce?ce[_0x5cc8d5]:null;if(_0x62f23b&&_0x46c30e)try{await Z[_0x3250d1(0x798)]['create']({'baseURL':_0x46c30e})[_0x3250d1(0x3a6)]('',{'event':_0xa09ed2,'instance':this[_0x3250d1(0x466)][_0x3250d1(0x6f5)],'apikey':this['instance']['apikey'],'data':_0x5b422d}),this[_0x3250d1(0x4b0)]['log'](this[_0x3250d1(0x7ed)]+'\x20('+this['instance']['wuid']+_0x3250d1(0x68e)+_0xa09ed2+':\x20'+_0x46c30e);}catch{this[_0x3250d1(0x4b0)][_0x3250d1(0x7e7)](this[_0x3250d1(0x7ed)]+'\x20('+this['instance'][_0x3250d1(0x243)]+_0x3250d1(0x4ce)+_0xa09ed2+':\x20'+_0x46c30e);}if(_0x20a0f4&&_0x4063b5)try{await Z[_0x3250d1(0x798)][_0x3250d1(0x679)]({'baseURL':_0x4063b5})[_0x3250d1(0x3a6)]('',{'event':_0xa09ed2,'instance':this[_0x3250d1(0x466)][_0x3250d1(0x6f5)],'apikey':this['instance'][_0x3250d1(0x67b)],'data':_0x5b422d}),this[_0x3250d1(0x4b0)]['log'](this[_0x3250d1(0x7ed)]+'\x20('+this[_0x3250d1(0x466)]['wuid']+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0xa09ed2+':\x20'+_0x4063b5);}catch{this[_0x3250d1(0x4b0)][_0x3250d1(0x7e7)](this[_0x3250d1(0x7ed)]+'\x20('+this[_0x3250d1(0x466)][_0x3250d1(0x243)]+_0x3250d1(0x45d)+_0xa09ed2+':\x20'+_0x4063b5);}}async['connectionUpdate']({qr:_0x1a97d9,connection:_0x59292c,lastDisconnect:_0x49d7fc}){const _0x842464=a0_0x2aa7ab;if(_0x1a97d9){if(this['instance']['qrcode']['count']===Mi)return this[_0x842464(0x556)]('qrcode.updated',{'message':_0x842464(0x6d3),'statusCode':m['DisconnectReason'][_0x842464(0x2c3)]}),this[_0x842464(0x42c)]={'state':_0x842464(0x310),'statusReason':m[_0x842464(0x4bb)][_0x842464(0x254)]},this[_0x842464(0x556)]('connection.update',{'instance':this[_0x842464(0x466)][_0x842464(0x6f5)],...this[_0x842464(0x42c)]}),this[_0x842464(0x556)](_0x842464(0x73d),{'instance':this['instance'][_0x842464(0x6f5)],'status':_0x842464(0x447)}),this[_0x842464(0x162)]['auth']['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x842464(0x458)]()},this[_0x842464(0x466)][_0x842464(0x6f5)]),this[_0x842464(0x407)]=!0x0,this[_0x842464(0x51e)][_0x842464(0x6e2)]('no.connection',this['instance'][_0x842464(0x6f5)]);this['instance'][_0x842464(0x230)][_0x842464(0x4a5)]++;let _0x39dc1d={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x842464(0x5d6),'dark':_0x842464(0x265)}};Or['default'][_0x842464(0x4de)](_0x1a97d9,_0x39dc1d,(_0x19dd63,_0x183437)=>{const _0x3e94b5=_0x842464;if(_0x19dd63){this['logger'][_0x3e94b5(0x7e7)](this[_0x3e94b5(0x7ed)]+'\x20('+this[_0x3e94b5(0x466)][_0x3e94b5(0x243)]+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x19dd63 instanceof Error?_0x19dd63[_0x3e94b5(0x210)]:JSON[_0x3e94b5(0x7c7)](_0x19dd63,null,0x2)));return;}this[_0x3e94b5(0x466)][_0x3e94b5(0x230)]['base64']=_0x183437,this['instance'][_0x3e94b5(0x230)][_0x3e94b5(0x2e0)]=_0x1a97d9,this[_0x3e94b5(0x556)]('qrcode.updated',{'qrcode':{'instance':this['instance'][_0x3e94b5(0x6f5)],'pairingCode':this[_0x3e94b5(0x466)]['qrcode'][_0x3e94b5(0x290)],'code':_0x1a97d9,'base64':_0x183437}});}),this[_0x842464(0x224)]?(await(0x0,m['delay'])(0x7d0),this[_0x842464(0x466)][_0x842464(0x230)]['pairingCode']=await this[_0x842464(0x15c)]['requestPairingCode'](this[_0x842464(0x224)])):this[_0x842464(0x466)][_0x842464(0x230)][_0x842464(0x290)]=null,Ar[_0x842464(0x798)][_0x842464(0x1f5)](_0x1a97d9,{'small':!0x0},_0x3ff917=>this[_0x842464(0x4b0)]['log'](_0x842464(0x52b)+this[_0x842464(0x466)][_0x842464(0x6f5)]+_0x842464(0x743)+this[_0x842464(0x466)][_0x842464(0x230)]['count']+_0x842464(0x494)+this['instance']['qrcode'][_0x842464(0x290)]+_0x842464(0x259)+_0x3ff917));}if(_0x59292c&&(this[_0x842464(0x42c)]={'state':_0x59292c,'statusReason':_0x49d7fc?.[_0x842464(0x7e7)]?.[_0x842464(0x391)]?.[_0x842464(0x169)]??0xc8},this[_0x842464(0x556)](_0x842464(0x198),{'instance':this['instance'][_0x842464(0x6f5)],...this[_0x842464(0x42c)]})),_0x59292c===_0x842464(0x601)){if(this[_0x842464(0x1ca)]++,this[_0x842464(0x38d)][_0x842464(0x31c)](Date['now']()),this[_0x842464(0x38d)]=this['reconnectTimestamps']['filter'](_0x55e3cd=>Date[_0x842464(0x458)]()-_0x55e3cd<this['RECONNECT_TIME_FRAME']),_0x49d7fc['error']?.[_0x842464(0x391)]?.[_0x842464(0x169)]!==m[_0x842464(0x4bb)][_0x842464(0x359)]&&this['reconnectTimestamps']['length']<=this[_0x842464(0x503)])console['log'](this[_0x842464(0x7ed)]+_0x842464(0x6a9)+this[_0x842464(0x1ca)]+'/'+this[_0x842464(0x503)]+_0x842464(0x619)),console['log'](_0x842464(0x44f)),await this[_0x842464(0x51c)]();else{this[_0x842464(0x556)](_0x842464(0x73d),{'instance':this['instance']['name'],'status':'removed'}),this[_0x842464(0x162)][_0x842464(0x610)]['delete'](this[_0x842464(0x7ed)]),this[_0x842464(0x162)][_0x842464(0x441)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date[_0x842464(0x458)]()},this['instance'][_0x842464(0x6f5)]);try{this[_0x842464(0x4b0)][_0x842464(0x477)](this[_0x842464(0x7ed)]+'\x20('+this[_0x842464(0x466)][_0x842464(0x243)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x5eaa88=await this[_0x842464(0x162)][_0x842464(0x210)][_0x842464(0x431)](this[_0x842464(0x466)][_0x842464(0x243)]);_0x5eaa88[_0x842464(0x21d)]?this['logger']['verbose'](this[_0x842464(0x7ed)]+'\x20('+this[_0x842464(0x466)]['wuid']+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):console[_0x842464(0x7e7)](_0x842464(0x17f),_0x5eaa88[_0x842464(0x7e7)]);}catch(_0x57a2b7){console[_0x842464(0x7e7)](_0x842464(0x564),_0x57a2b7);}this[_0x842464(0x466)][_0x842464(0x42a)][_0x842464(0x1b7)]!==null&&(this['logger'][_0x842464(0x477)](this[_0x842464(0x7ed)]+'\x20('+this[_0x842464(0x466)][_0x842464(0x243)]+_0x842464(0x303)),clearInterval(this[_0x842464(0x466)][_0x842464(0x42a)]['delayMessage']),this[_0x842464(0x466)][_0x842464(0x42a)][_0x842464(0x1b7)]=null),this[_0x842464(0x4b0)][_0x842464(0x477)](this[_0x842464(0x7ed)]+'\x20('+this['instance']['wuid']+'):\x20Limpando\x20AutomateSystem'),this[_0x842464(0x59f)]=null,this['eventEmitter'][_0x842464(0x6e2)](_0x842464(0x781),this[_0x842464(0x466)][_0x842464(0x6f5)],_0x842464(0x385)),this[_0x842464(0x15c)]?.['ws']?.[_0x842464(0x601)](),this['client'][_0x842464(0x237)](new Error(_0x842464(0x629)));}}if(_0x59292c===_0x842464(0x1e7)){this['client']['ev'][_0x842464(0x30d)](),this[_0x842464(0x7c3)],this['instance'][_0x842464(0x243)]=this[_0x842464(0x15c)][_0x842464(0x7a8)]['id']['replace'](/:\d+/,'')['replace'](_0x842464(0x330),''),this[_0x842464(0x466)][_0x842464(0x36d)]=(await this[_0x842464(0x393)](this[_0x842464(0x466)][_0x842464(0x243)]+_0x842464(0x330)))[_0x842464(0x36d)],this[_0x842464(0x162)]['auth']['create']({'online':!0x0,'owner':this['instance']['wuid'],'lastDisconnect':null},this[_0x842464(0x466)]['name']);let _0x520329=_0x842464(0x7de)+this[_0x842464(0x466)][_0x842464(0x243)],_0x3f0539=0x28,_0xbfe349=Math['floor']((_0x3f0539-_0x520329[_0x842464(0x57b)])/0x2),_0x55b6e2='\x20'['repeat'](_0xbfe349),_0x2475d8=_0x842464(0x449),_0x2e567c=_0x842464(0x6af)+this[_0x842464(0x466)][_0x842464(0x6f5)],_0x251dde=(''+_0x55b6e2+_0x520329+_0x55b6e2)[_0x842464(0x291)](_0x3f0539,'\x20'),_0x1b332e=(''+_0x55b6e2+_0x2475d8+_0x55b6e2)[_0x842464(0x291)](_0x3f0539,'\x20'),_0x23d697=(''+_0x55b6e2+_0x2e567c+_0x55b6e2)[_0x842464(0x291)](_0x3f0539,'\x20'),_0x55c1d5=Math[_0x842464(0x62d)](_0x251dde['length'],_0x1b332e['length'],_0x23d697[_0x842464(0x57b)]),_0x2eefa1=_0x251dde[_0x842464(0x291)](_0x55c1d5,'\x20'),_0x4136eb=_0x1b332e[_0x842464(0x291)](_0x55c1d5,'\x20'),_0x5cb6e1=_0x23d697[_0x842464(0x291)](_0x55c1d5,'\x20');this[_0x842464(0x4b0)][_0x842464(0x4e7)]((_0x842464(0x58d)+'─'[_0x842464(0x36f)](_0x55c1d5)+_0x842464(0x77a)+_0x4136eb+_0x842464(0x758)+_0x5cb6e1+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x2eefa1+_0x842464(0x5db)+'─'[_0x842464(0x36f)](_0x55c1d5)+'┘')[_0x842464(0x73a)](/^ +/gm,'\x20\x20')),this[_0x842464(0x656)]();}}[a0_0x2aa7ab(0x7c3)](){const _0x240444=a0_0x2aa7ab;this[_0x240444(0x1ca)]=0x0,this[_0x240444(0x38d)]=[];}async['getMessage'](_0x699cfd,_0x1eb302=!0x1){const _0x1be39f=a0_0x2aa7ab;try{let _0x2bf166=await this[_0x1be39f(0x162)]['message'][_0x1be39f(0x701)]({'where':{'_id':_0x699cfd['id']}},this[_0x1be39f(0x466)]['wuid']);return _0x1eb302?_0x2bf166[0x0]:_0x2bf166[0x0][_0x1be39f(0x210)];}catch{return{'conversation':''};}}[a0_0x2aa7ab(0x3dd)](){const _0x5aedb8=a0_0x2aa7ab;let _0x18b971=this[_0x5aedb8(0x22b)][_0x5aedb8(0x54a)](_0x5aedb8(0x4dd)),_0x5c308e=this[_0x5aedb8(0x22b)][_0x5aedb8(0x54a)](_0x5aedb8(0x2d0));_0x18b971?.['CLEANING_INTERVAL']&&!_0x5c308e['ENABLED']&&setInterval(()=>{const _0xae71f1=_0x5aedb8;try{for(let [_0x379d34,_0xb1dff]of Object['entries'](_0x18b971))_0xb1dff===!0x0&&(0x0,jt[_0xae71f1(0x1ac)])('rm\x20-rf\x20'+(0x0,q[_0xae71f1(0x1a2)])(this[_0xae71f1(0x260)],_0x379d34[_0xae71f1(0x411)](),this['instance'][_0xae71f1(0x243)])+'/*.json');}catch{}},(_0x18b971?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async[a0_0x2aa7ab(0x6bb)](){const _0x5d694d=a0_0x2aa7ab;let _0x1150bb=this[_0x5d694d(0x22b)]['get']('DATABASE'),_0x251a19=this[_0x5d694d(0x22b)][_0x5d694d(0x54a)](_0x5d694d(0x482));return _0x251a19?.[_0x5d694d(0x2a2)]?await Ns(_0x251a19,this[_0x5d694d(0x466)]['name']):_0x1150bb[_0x5d694d(0x2a2)]?await vs(this['instance']['name']):await(0x0,m[_0x5d694d(0x7b9)])((0x0,q[_0x5d694d(0x1a2)])(ge,this[_0x5d694d(0x466)][_0x5d694d(0x6f5)]));}async[a0_0x2aa7ab(0x656)](){const _0x72fc50=a0_0x2aa7ab;let _0x2b943c=()=>Math[_0x72fc50(0x65e)](Math[_0x72fc50(0x507)]()*0x2711)+0x7d0,_0x3c567a=async()=>{const _0x3e2b66=_0x72fc50;if(this[_0x3e2b66(0x466)]['wuid']&&this[_0x3e2b66(0x59f)]&&this[_0x3e2b66(0x466)][_0x3e2b66(0x42a)][_0x3e2b66(0x1b7)]!==null&&this['instance'][_0x3e2b66(0x42a)][_0x3e2b66(0x1b7)]!==void 0x0){let _0x4aca85=Math[_0x3e2b66(0x692)](this[_0x3e2b66(0x466)][_0x3e2b66(0x42a)]['delayMessage']/0xea60);this[_0x3e2b66(0x4b0)][_0x3e2b66(0x477)](this[_0x3e2b66(0x7ed)]+'\x20('+this[_0x3e2b66(0x466)]['wuid']+_0x3e2b66(0x53d)+_0x4aca85+_0x3e2b66(0x536)),this[_0x3e2b66(0x3df)]=!0x1;return;}else this[_0x3e2b66(0x466)][_0x3e2b66(0x243)]&&(this[_0x3e2b66(0x4b0)][_0x3e2b66(0x477)](this[_0x3e2b66(0x7ed)]+'\x20('+this[_0x3e2b66(0x466)][_0x3e2b66(0x243)]+_0x3e2b66(0x4ae)),this['AutomateSystem']||await this['getAutomateSystem'](),(this[_0x3e2b66(0x466)][_0x3e2b66(0x42a)][_0x3e2b66(0x1b7)]===null||this[_0x3e2b66(0x466)][_0x3e2b66(0x42a)][_0x3e2b66(0x1b7)]===void 0x0)&&await this[_0x3e2b66(0x66a)]());if(this['isRunning']){let _0x5a36bb=_0x2b943c();this[_0x3e2b66(0x4b0)][_0x3e2b66(0x477)](this['instanceName']+':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20'+_0x5a36bb/0x3e8+'\x20segundos'),setTimeout(_0x3c567a,_0x5a36bb);}};if(this[_0x72fc50(0x3df)])return;this[_0x72fc50(0x3df)]=!0x0;let _0xfbc319=_0x2b943c();setTimeout(_0x3c567a,_0xfbc319);}async['loadproxy'](_0x5b09c7=0x0,_0x23fe24=!0x1){const _0xee118=a0_0x2aa7ab;try{let _0x31fec8=this[_0xee118(0x22b)]['get'](_0xee118(0x77f));if(_0x31fec8!==0x1||typeof _0x31fec8>'u'||_0x5b09c7>=0x5)return this['logger'][_0xee118(0x634)](_0xee118(0x7b8)),this['repository']['auth']['create']({'ip':null},this['instance'][_0xee118(0x6f5)]),{};this[_0xee118(0x4b0)][_0xee118(0x477)](this[_0xee118(0x7ed)]+':\x20Tentativa\x20'+(_0x5b09c7+0x1)+_0xee118(0x712));let _0xe5b5d8;if(!_0x23fe24){let _0x412ca4=await this[_0xee118(0x162)][_0xee118(0x441)][_0xee118(0x701)](this[_0xee118(0x7ed)]);_0x412ca4&&_0x412ca4['ip']&&(_0xe5b5d8=Er(_0x412ca4['ip']));}if((!_0xe5b5d8||!Rs(_0xe5b5d8))&&(this['logger']['warn'](this[_0xee118(0x7ed)]+_0xee118(0x15f)),_0xe5b5d8=Mr()),_0xe5b5d8&&Rs(_0xe5b5d8)){let _0x43650a=_0xe5b5d8['username']&&_0xe5b5d8['password']?_0xe5b5d8['protocol']+_0xee118(0x3ea)+_0xe5b5d8[_0xee118(0x66e)]+':'+_0xe5b5d8[_0xee118(0x5f8)]+'@'+_0xe5b5d8[_0xee118(0x3c6)]+':'+_0xe5b5d8[_0xee118(0x766)]:_0xe5b5d8['protocol']+'://'+_0xe5b5d8[_0xee118(0x3c6)]+':'+_0xe5b5d8[_0xee118(0x766)];return await this[_0xee118(0x18c)](_0x43650a,_0xe5b5d8['host'])?(this[_0xee118(0x4b0)]['verbose'](this[_0xee118(0x7ed)]+':\x20IP\x20funcionando!'),this[_0xee118(0x162)]['auth']['create']({'ip':_0xe5b5d8[_0xee118(0x3c6)]},this['instance']['name']),{'agent':new Lt[(_0xee118(0x349))](_0x43650a),'fetchAgent':new Lt['HttpsProxyAgent'](_0x43650a)}):(this['logger'][_0xee118(0x634)](this['instanceName']+_0xee118(0x379)),await(0x0,m[_0xee118(0x6ec)])(0xc8),this[_0xee118(0x340)](_0x5b09c7+0x1,!0x0));}else return this[_0xee118(0x4b0)][_0xee118(0x634)](this[_0xee118(0x7ed)]+_0xee118(0x3a0)),await(0x0,m['delay'])(0xc8),this[_0xee118(0x340)](_0x5b09c7+0x1,!0x0);}catch(_0x1c7521){return this[_0xee118(0x4b0)]['error'](this[_0xee118(0x7ed)]+_0xee118(0x5e5)+_0x1c7521[_0xee118(0x210)]),{};}}async[a0_0x2aa7ab(0x18c)](_0xd9f355,_0x30216f){const _0x33eef5=a0_0x2aa7ab;let _0x117f05=new Lt[(_0x33eef5(0x349))](_0xd9f355),_0x4fdd04=0x1388,_0x3d4e45=[{'url':_0x33eef5(0x534),'parse':_0x1b94df=>_0x1b94df['ip']},{'url':_0x33eef5(0x7ee),'parse':_0x3e83f0=>_0x3e83f0['ip']},{'url':_0x33eef5(0x159),'parse':_0x20fbe1=>_0x20fbe1[_0x33eef5(0x377)](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x33eef5(0x269),'parse':_0x3245ae=>_0x3245ae['ip']},{'url':_0x33eef5(0x7bb),'parse':_0x1025a7=>_0x1025a7['trim']()},{'url':_0x33eef5(0x221),'parse':_0x440f36=>_0x440f36[_0x33eef5(0x382)]()},{'url':_0x33eef5(0x37e),'parse':_0x5b5c2f=>_0x5b5c2f[_0x33eef5(0x67e)]},{'url':_0x33eef5(0x512),'parse':_0x39974a=>_0x39974a[_0x33eef5(0x382)]()},{'url':_0x33eef5(0x46b),'parse':_0x527425=>_0x527425[_0x33eef5(0x382)]()}],_0x483607=_0x3d4e45[Math[_0x33eef5(0x65e)](Math[_0x33eef5(0x507)]()*_0x3d4e45[_0x33eef5(0x57b)])];try{let _0x16b9dc=await Z[_0x33eef5(0x798)][_0x33eef5(0x54a)](_0x483607[_0x33eef5(0x1ff)],{'httpsAgent':_0x117f05,'timeout':_0x4fdd04}),_0x3668cc=_0x483607[_0x33eef5(0x42d)](_0x16b9dc[_0x33eef5(0x457)]);return _0x3668cc===_0x30216f?(this[_0x33eef5(0x4b0)][_0x33eef5(0x477)](this['instanceName']+_0x33eef5(0x398)+_0x30216f+'\x20-\x20retornado:\x20'+_0x3668cc+_0x33eef5(0x245)),!0x0):(this[_0x33eef5(0x4b0)]['error'](this[_0x33eef5(0x7ed)]+_0x33eef5(0x398)+_0x30216f+_0x33eef5(0x3b3)+_0x3668cc+_0x33eef5(0x5bf)),!0x1);}catch(_0x21ae81){return this['logger'][_0x33eef5(0x7e7)](this[_0x33eef5(0x7ed)]+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x483607[_0x33eef5(0x1ff)]+':\x20'+_0x21ae81[_0x33eef5(0x210)]),!0x1;}}async['connectToWhatsapp'](_0x16fb34){const _0x464b74=a0_0x2aa7ab;try{let _0x2055ac=await this[_0x464b74(0x340)]();this[_0x464b74(0x6f0)](),this['instance']['apikey']=(await this['repository'][_0x464b74(0x441)][_0x464b74(0x701)](this[_0x464b74(0x466)][_0x464b74(0x6f5)]))[_0x464b74(0x67b)],this[_0x464b74(0x466)]['authState']=await this[_0x464b74(0x6bb)]();let {version:_0x44314a}=await(0x0,m[_0x464b74(0x804)])(),_0x2ddc2d=[xs,Ir,(0x0,Ts[_0x464b74(0x44d)])()],_0x1c909b={..._0x2055ac,'auth':{'creds':this['instance'][_0x464b74(0x516)][_0x464b74(0x806)][_0x464b74(0x573)],'keys':(0x0,m['makeCacheableSignalKeyStore'])(this[_0x464b74(0x466)]['authState'][_0x464b74(0x806)][_0x464b74(0x717)],(0x0,Pt[_0x464b74(0x798)])({'level':_0x464b74(0x7e7)}))},'logger':(0x0,Pt[_0x464b74(0x798)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x16fb34?['Chrome\x20(Linux)',xs,(0x0,Ts[_0x464b74(0x44d)])()]:_0x2ddc2d,'version':_0x44314a,'maxMsgRetryCount':0x5,'retryRequestDelayMs':0x1f4,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x46689c=>{const _0x2b3b6a=_0x464b74;let _0x5b68ba=_0x46689c[_0x2b3b6a(0x7bf)](_0x2b3b6a(0x238)),_0x1d7bb4=this['localWebhook']?.['groups_ignore']&&_0x46689c[_0x2b3b6a(0x7bf)](_0x2b3b6a(0x1d3));return _0x5b68ba||(0x0,m['isJidBroadcast'])(_0x46689c)||_0x1d7bb4;},'msgRetryCounterCache':this[_0x464b74(0x47a)],'getMessage':async _0x66876a=>await this[_0x464b74(0x650)](_0x66876a),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x464b74(0x675)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x2b0af9=>(_0x2b0af9[_0x464b74(0x54f)]?.['listType']==m[_0x464b74(0x440)][_0x464b74(0x1e1)]['ListMessage']['ListType']['PRODUCT_LIST']&&(_0x2b0af9=JSON['parse'](JSON[_0x464b74(0x7c7)](_0x2b0af9)),_0x2b0af9[_0x464b74(0x54f)][_0x464b74(0x57d)]=m[_0x464b74(0x440)][_0x464b74(0x1e1)]['ListMessage'][_0x464b74(0x32d)][_0x464b74(0x4ec)]),_0x2b0af9)};return this[_0x464b74(0x407)]=!0x1,this['client']=(0x0,m[_0x464b74(0x798)])(_0x1c909b),this[_0x464b74(0x574)](),this[_0x464b74(0x224)]=_0x16fb34,this[_0x464b74(0x15c)];}catch(_0xb844ea){throw this[_0x464b74(0x4b0)][_0x464b74(0x7e7)](this[_0x464b74(0x7ed)]+'\x20('+this['instance'][_0x464b74(0x243)]+_0x464b74(0x544)+(_0xb844ea instanceof Error?_0xb844ea[_0x464b74(0x210)]:JSON[_0x464b74(0x7c7)](_0xb844ea,null,0x2))),new x(_0xb844ea?.['toString']());}}[a0_0x2aa7ab(0x574)](){const _0x1cbaad=a0_0x2aa7ab;this[_0x1cbaad(0x15c)]['ev']['process'](_0x233be7=>{const _0x340bb7=_0x1cbaad;if(!this[_0x340bb7(0x407)]){let _0x15e8a2=this['configService'][_0x340bb7(0x54a)](_0x340bb7(0x2d0));if(_0x233be7[_0x340bb7(0x369)]){let _0x415d7f=_0x233be7[_0x340bb7(0x369)];this['messageHandle']['labels.edit'](_0x415d7f);}if(_0x233be7[_0x340bb7(0x755)]){let _0xc193c5=_0x233be7[_0x340bb7(0x755)];this[_0x340bb7(0x754)][_0x340bb7(0x755)](_0xc193c5);}if(_0x233be7[_0x340bb7(0x198)]&&this[_0x340bb7(0x526)](_0x233be7['connection.update']),_0x233be7[_0x340bb7(0x780)]&&this[_0x340bb7(0x466)][_0x340bb7(0x516)][_0x340bb7(0x2a4)](),_0x233be7['messaging-history.set']){let _0x5f1824=_0x233be7[_0x340bb7(0x16e)];this[_0x340bb7(0x754)][_0x340bb7(0x16e)](_0x5f1824,_0x15e8a2);}if(_0x233be7[_0x340bb7(0x6f2)]){let _0x1d1ccf=_0x233be7['messages.upsert'];this[_0x340bb7(0x754)]['messages.upsert'](_0x1d1ccf,_0x15e8a2);}if(_0x233be7[_0x340bb7(0x4b5)]){let _0x259759=_0x233be7[_0x340bb7(0x4b5)];_0x259759['forEach'](_0x2659f4=>{const _0x5dacb8=_0x340bb7;if(Nr[_0x2659f4['key']['id']]){this['client']['ev']['emit'](_0x5dacb8(0x6f2),{'messages':[_0x2659f4],'type':_0x5dacb8(0x22f)}),delete Nr[_0x2659f4[_0x5dacb8(0x50e)]['id']];return;}}),this[_0x340bb7(0x754)][_0x340bb7(0x4b5)](_0x259759,_0x15e8a2);}if(_0x233be7[_0x340bb7(0x811)]){let _0x14ee24=_0x233be7[_0x340bb7(0x811)];if(this[_0x340bb7(0x56d)]?.[_0x340bb7(0x67d)]&&_0x14ee24['id'][_0x340bb7(0x323)](_0x340bb7(0x1d3)))return;this['sendDataWebhook']('presence.update',_0x14ee24);}if(!this[_0x340bb7(0x56d)]?.[_0x340bb7(0x67d)]){if(_0x233be7['groups.upsert']){let _0x267f7a=_0x233be7[_0x340bb7(0x52f)];this[_0x340bb7(0x539)][_0x340bb7(0x52f)](_0x267f7a);}if(_0x233be7[_0x340bb7(0x282)]){let _0x50a767=_0x233be7['groups.update'];this[_0x340bb7(0x539)]['groups.update'](_0x50a767);}if(_0x233be7[_0x340bb7(0x3f4)]){let _0x5043c6=_0x233be7[_0x340bb7(0x3f4)];this[_0x340bb7(0x539)]['group-participants.update'](_0x5043c6);}}if(_0x233be7[_0x340bb7(0x19e)]){let _0x2de1c4=_0x233be7[_0x340bb7(0x19e)];this[_0x340bb7(0x727)][_0x340bb7(0x19e)](_0x2de1c4,_0x15e8a2);}if(_0x233be7[_0x340bb7(0x546)]){let _0xc2c03a=_0x233be7['chats.update'];this[_0x340bb7(0x727)][_0x340bb7(0x546)](_0xc2c03a,_0x15e8a2);}if(_0x233be7[_0x340bb7(0x6df)]){let _0x46ce73=_0x233be7[_0x340bb7(0x6df)];this['chatHandle']['chats.delete'](_0x46ce73);}if(_0x233be7['contacts.upsert']){let _0xb2f47b=_0x233be7['contacts.upsert'];this[_0x340bb7(0x2d4)][_0x340bb7(0x716)](_0xb2f47b,_0x15e8a2);}if(_0x233be7[_0x340bb7(0x5ac)]){let _0x52b18b=_0x233be7[_0x340bb7(0x5ac)];this['contactHandle'][_0x340bb7(0x5ac)](_0x52b18b,_0x15e8a2);}}});}[a0_0x2aa7ab(0x5c5)](_0x182d59){return new Promise(_0x4e7511=>setTimeout(_0x4e7511,_0x182d59));}[a0_0x2aa7ab(0x542)](_0x1ec450){const _0x4f5691=a0_0x2aa7ab;let _0xcb66d7=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x4f5691(0x33d)](_0x1ec450);if(_0xcb66d7&&_0xcb66d7[0x1]==='55'){let _0x4e2ed5=_0xcb66d7[0x2],_0x272f0e=_0xcb66d7[0x3],_0x19de0b=_0xcb66d7[0x4];if(_0x4e2ed5>='31'&&_0x272f0e==='9')return _0xcb66d7[0x1]+_0x4e2ed5+_0x19de0b;}return _0x1ec450;}[a0_0x2aa7ab(0x205)](_0x460532){const _0x38e31f=a0_0x2aa7ab;return _0x460532[_0x38e31f(0x323)](_0x38e31f(0x1d3))||_0x460532[_0x38e31f(0x323)](_0x38e31f(0x330))||_0x460532[_0x38e31f(0x323)]('@broadcast')?_0x460532:(_0x460532=_0x460532?.[_0x38e31f(0x73a)](/\s/g,'')[_0x38e31f(0x73a)](/\+/g,'')[_0x38e31f(0x73a)](/\(/g,'')[_0x38e31f(0x73a)](/\)/g,'')[_0x38e31f(0x3fa)](/\:/)[0x0][_0x38e31f(0x3fa)]('@')[0x0],_0x460532[_0x38e31f(0x57b)]>=0x12?(_0x460532=_0x460532[_0x38e31f(0x73a)](/[^\d-]/g,''),_0x460532+_0x38e31f(0x1d3)):(_0x460532=_0x460532[_0x38e31f(0x73a)](/\D/g,''),_0x460532+_0x38e31f(0x330)));}async[a0_0x2aa7ab(0x2f5)](_0x3561fe){const _0x340608=a0_0x2aa7ab;let _0x55da76=this[_0x340608(0x205)](_0x3561fe[_0x340608(0x7fa)]),_0x3664d6=(await this[_0x340608(0x1b3)]({'numbers':[_0x55da76]}))[0x0];if(!_0x3664d6[_0x340608(0x23f)]&&!(0x0,m[_0x340608(0x588)])(_0x3664d6['jid']))throw new w(_0x3664d6);let _0x426f74=(0x0,m[_0x340608(0x588)])(_0x55da76)?_0x55da76:_0x3664d6[_0x340608(0x27e)];if((0x0,m[_0x340608(0x588)])(_0x426f74))try{await this[_0x340608(0x15c)]['groupMetadata'](_0x426f74);}catch{throw new L(_0x340608(0x5b2));}try{return await this[_0x340608(0x15c)]['presenceSubscribe'](_0x426f74),await this[_0x340608(0x15c)][_0x340608(0x792)](_0x3561fe[_0x340608(0x43d)],_0x55da76),{'status':0xc8,'presence':_0x3561fe[_0x340608(0x43d)]};}catch(_0x3756c6){throw new w(_0x3756c6[_0x340608(0x618)]());}}async[a0_0x2aa7ab(0x75e)](_0x254289,_0x5529f3,_0x498384){const _0x3b44a7=a0_0x2aa7ab;let _0x809451=await this[_0x3b44a7(0x162)]['cacheContact'][_0x3b44a7(0x709)]({'where':{'_id':_0x254289}}),_0x39b323={'lastUpdate':Date['now']()};if(_0x498384||!_0x809451?.[_0x3b44a7(0x4cf)]||Date['now']()-_0x809451[_0x3b44a7(0x4cf)]>0x18*0x3c*0x3c*0x3e8)try{let _0x3aff62=(await this[_0x3b44a7(0x393)](_0x254289))[_0x3b44a7(0x36d)];_0x39b323[_0x3b44a7(0x7e3)]=_0x3aff62;}catch(_0x35baed){console[_0x3b44a7(0x7e7)](_0x3b44a7(0x77d),_0x35baed);}return _0x5529f3&&_0x809451?.[_0x3b44a7(0x6f5)]!==_0x5529f3&&(_0x39b323[_0x3b44a7(0x6f5)]=_0x5529f3),Object[_0x3b44a7(0x717)](_0x39b323)[_0x3b44a7(0x57b)]>0x1&&(_0x809451?await this['repository']['cacheContact'][_0x3b44a7(0x617)]({'where':{'_id':_0x254289}},_0x39b323):await this[_0x3b44a7(0x162)][_0x3b44a7(0x45c)][_0x3b44a7(0x3fc)]([{'_id':_0x254289,..._0x39b323}]),_0x809451={..._0x809451,..._0x39b323}),{'cachedContact':_0x809451};}async[a0_0x2aa7ab(0x393)](_0x59dad1){const _0x41ad39=a0_0x2aa7ab;let _0x43a28d=this[_0x41ad39(0x205)](_0x59dad1);try{return{'wuid':_0x43a28d,'profilePictureUrl':await this[_0x41ad39(0x15c)][_0x41ad39(0x36d)](_0x43a28d,_0x41ad39(0x20b))};}catch{return{'wuid':_0x43a28d,'profilePictureUrl':null};}}async[a0_0x2aa7ab(0x492)](_0x4faef9,_0x12299b,_0x5a1b41){const _0xd36563=a0_0x2aa7ab;_0x5a1b41||(_0x5a1b41={});let _0x33a2ad=(await this[_0xd36563(0x1b3)]({'numbers':[_0x4faef9]}))[0x0];if(!_0x33a2ad[_0xd36563(0x23f)]&&!(0x0,m[_0xd36563(0x588)])(_0x33a2ad['jid'])&&!_0x33a2ad[_0xd36563(0x27e)][_0xd36563(0x323)](_0xd36563(0x664)))throw new w(_0x33a2ad);let _0x3334ac=_0x33a2ad[_0xd36563(0x27e)];try{if(_0x5a1b41?.[_0xd36563(0x6ec)]){await this[_0xd36563(0x15c)][_0xd36563(0x5ca)](_0x3334ac),await this[_0xd36563(0x15c)]['sendPresenceUpdate'](_0x5a1b41?.[_0xd36563(0x43d)]??'composing',_0x3334ac);let _0x14d648=Math[_0xd36563(0x76c)](_0x5a1b41[_0xd36563(0x6ec)],0x2710);await(0x0,m[_0xd36563(0x6ec)])(_0x14d648),await this['client'][_0xd36563(0x792)](_0xd36563(0x6d4),_0x3334ac);}let _0x4d1a7e=_0x5a1b41?.[_0xd36563(0x67a)]!=!0x1?void 0x0:!0x1,_0xfe3a22;if(_0x5a1b41?.[_0xd36563(0x5b9)]){let _0x5b1754=_0x5a1b41?.[_0xd36563(0x5b9)],_0x447b50=_0x5b1754?.[_0xd36563(0x210)]?_0x5b1754:await this[_0xd36563(0x650)](_0x5b1754[_0xd36563(0x50e)],!0x0);if(!_0x447b50)throw _0xd36563(0x7bd);_0xfe3a22=_0x447b50;}let _0x369387;if((0x0,m[_0xd36563(0x588)])(_0x3334ac))try{let _0x261e0a=await this[_0xd36563(0x15c)]['groupMetadata'](_0x3334ac);if(!_0x261e0a)throw new L(_0xd36563(0x5b2));_0x5a1b41?.[_0xd36563(0x301)]&&(_0x5a1b41[_0xd36563(0x301)]?.['everyOne']?_0x369387=_0x261e0a[_0xd36563(0x3a4)][_0xd36563(0x360)](_0x368646=>_0x368646['id']):_0x5a1b41['mentions']?.[_0xd36563(0x5ff)]?.[_0xd36563(0x57b)]&&(_0x369387=_0x5a1b41[_0xd36563(0x301)][_0xd36563(0x5ff)][_0xd36563(0x360)](_0x39779a=>{const _0x46bcf7=_0xd36563;let _0x117b50=this[_0x46bcf7(0x205)](_0x39779a);return(0x0,m['isJidGroup'])(_0x117b50)?null:_0x117b50;})));}catch{throw new L(_0xd36563(0x5b2));}let _0x5d9f16=await((async()=>{const _0x39d058=_0xd36563;let _0x300e77={'quoted':_0xfe3a22};if(!_0x12299b[_0x39d058(0x63a)]&&!_0x12299b[_0x39d058(0x31a)]&&!_0x12299b[_0x39d058(0x261)]&&!_0x12299b[_0x39d058(0x673)]&&_0x3334ac!=='status@broadcast'&&!_0x12299b[_0x39d058(0x63a)])return await this[_0x39d058(0x15c)][_0x39d058(0x746)](_0x3334ac,{'forward':{'key':{'remoteJid':this['instance'][_0x39d058(0x243)],'fromMe':!0x0},'message':_0x12299b},'mentions':_0x369387},_0x300e77);if(_0x12299b[_0x39d058(0x578)])return await this[_0x39d058(0x15c)][_0x39d058(0x746)](_0x3334ac,{'react':{'text':_0x12299b[_0x39d058(0x578)][_0x39d058(0x309)],'key':_0x12299b[_0x39d058(0x578)]['key']}},_0x300e77);if(_0x12299b['conversation']){let _0x539fc7=_0x12299b[_0x39d058(0x673)];return _0x5a1b41?.[_0x39d058(0x5d8)]&&(_0x539fc7=await this[_0x39d058(0x3a9)](_0x539fc7,_0x3334ac)),await this[_0x39d058(0x15c)][_0x39d058(0x746)](_0x3334ac,{'text':_0x539fc7,'mentions':_0x369387,'linkPreview':_0x4d1a7e},_0x300e77);}return _0x3334ac==='status@broadcast'?await this['client'][_0x39d058(0x746)](_0x3334ac,_0x12299b[_0x39d058(0x540)]['content'],{'backgroundColor':_0x12299b[_0x39d058(0x540)][_0x39d058(0x486)][_0x39d058(0x74e)],'font':_0x12299b[_0x39d058(0x540)][_0x39d058(0x486)][_0x39d058(0x80a)],'statusJidList':_0x12299b[_0x39d058(0x540)]['option'][_0x39d058(0x16b)]}):await this[_0x39d058(0x15c)][_0x39d058(0x746)](_0x3334ac,_0x12299b,_0x300e77);})()),_0x289787=(0x0,m[_0xd36563(0x730)])(_0x5d9f16[_0xd36563(0x210)]),_0x13df32=(0x0,m['getContentType'])(_0x289787),{message_normalized:_0x40013}=this[_0xd36563(0x75a)](_0x289787,_0x13df32,null),_0x12a727={'_id':_0x5d9f16[_0xd36563(0x50e)]['id'],'key':_0x5d9f16[_0xd36563(0x50e)],'pushName':_0x5d9f16['pushName'],'isGroup':_0x5d9f16['key'][_0xd36563(0x39b)][_0xd36563(0x7bf)](_0xd36563(0x1d3)),'profilePictureUrl':this[_0xd36563(0x466)][_0xd36563(0x36d)],'message':_0x289787,'messageType':_0x13df32,'message_normalized':{'key':_0x5d9f16[_0xd36563(0x50e)],'pushName':_0x5d9f16[_0xd36563(0x4c9)],'messageTimestamp':_0x5d9f16[_0xd36563(0x693)]&&_0x5d9f16[_0xd36563(0x693)][_0xd36563(0x618)]()['length']<0xd?_0x5d9f16[_0xd36563(0x693)]*0x3e8:_0x5d9f16[_0xd36563(0x693)]||null,'source':(0x0,m[_0xd36563(0x2ce)])(_0x5d9f16[_0xd36563(0x50e)]['id']),..._0x40013},'messageTimestamp':_0x5d9f16[_0xd36563(0x693)]&&_0x5d9f16[_0xd36563(0x693)][_0xd36563(0x618)]()[_0xd36563(0x57b)]<0xd?_0x5d9f16['messageTimestamp']*0x3e8:_0x5d9f16[_0xd36563(0x693)]||null,'owner':this[_0xd36563(0x466)][_0xd36563(0x243)],'source':(0x0,m[_0xd36563(0x2ce)])(_0x5d9f16[_0xd36563(0x50e)]['id'])};return this[_0xd36563(0x4b0)][_0xd36563(0x634)](this[_0xd36563(0x7ed)]+'\x20('+this[_0xd36563(0x466)][_0xd36563(0x243)]+_0xd36563(0x5d1)+_0x12a727[_0xd36563(0x50e)]?.[_0xd36563(0x39b)][_0xd36563(0x73a)](_0xd36563(0x330),'')+_0xd36563(0x80b)+_0x12a727[_0xd36563(0x2b2)]+')'),_0x12a727[_0xd36563(0x782)]?.[_0xd36563(0x309)]&&this[_0xd36563(0x4b0)][_0xd36563(0x634)](_0x12a727[_0xd36563(0x782)]?.['text']),this[_0xd36563(0x556)](_0xd36563(0x2f2),_0x12a727),U(this[_0xd36563(0x7ed)],_0xd36563(0x605),{'message':_0x12a727}),this[_0xd36563(0x68f)](this[_0xd36563(0x22b)][_0xd36563(0x54a)](_0xd36563(0x2d0)),_0x12a727,_0xd36563(0x61f)),await this[_0xd36563(0x162)][_0xd36563(0x210)][_0xd36563(0x3fc)]([_0x12a727],this[_0xd36563(0x466)][_0xd36563(0x243)]),_0x5d9f16;}catch(_0x3e3857){throw this[_0xd36563(0x4b0)][_0xd36563(0x7e7)](this[_0xd36563(0x7ed)]+'\x20('+this[_0xd36563(0x466)][_0xd36563(0x243)]+_0xd36563(0x544)+_0x3e3857[_0xd36563(0x618)]()),new w(_0x3e3857[_0xd36563(0x618)]());}}get[a0_0x2aa7ab(0x46f)](){return this['stateConnection'];}async[a0_0x2aa7ab(0x7aa)](_0x37a3ad){const _0x22ecea=a0_0x2aa7ab;let _0x5420ed=vr,_0x3b0263=Ze;return _0x3b0263&&this[_0x22ecea(0x7ed)][_0x22ecea(0x411)]()[_0x22ecea(0x323)](_0x3b0263[_0x22ecea(0x411)]())&&(_0x37a3ad[_0x22ecea(0x7aa)][_0x22ecea(0x309)]+='\x0a\x0a'+_0x5420ed),await this[_0x22ecea(0x492)](_0x37a3ad[_0x22ecea(0x7fa)],{'conversation':_0x37a3ad[_0x22ecea(0x7aa)]['text']},_0x37a3ad?.['options']);}async[a0_0x2aa7ab(0x3c1)](_0x1da880){const _0x18eb21=a0_0x2aa7ab;if(!_0x1da880[_0x18eb21(0x793)])throw new w('Type\x20is\x20required');if(!_0x1da880[_0x18eb21(0x818)])throw new w('Content\x20is\x20required');if(_0x1da880[_0x18eb21(0x80f)]){let _0x4eef2f=await this['repository'][_0x18eb21(0x4ff)][_0x18eb21(0x701)]({'where':{}},this['instance']['wuid']);if(!_0x4eef2f[_0x18eb21(0x57b)])throw new w(_0x18eb21(0x201));_0x1da880[_0x18eb21(0x16b)]=_0x4eef2f['filter'](_0x4aef3d=>_0x4aef3d['pushName'])[_0x18eb21(0x360)](_0x4a6364=>_0x4a6364[_0x18eb21(0x408)]);}if(!_0x1da880[_0x18eb21(0x16b)]?.[_0x18eb21(0x57b)]&&!_0x1da880['allContacts'])throw new w('StatusJidList\x20is\x20required');if(_0x1da880[_0x18eb21(0x793)]==='text'){if(!_0x1da880[_0x18eb21(0x74e)])throw new w('Background\x20color\x20is\x20required');if(!_0x1da880[_0x18eb21(0x80a)])throw new w(_0x18eb21(0x3d9));return{'content':{'text':_0x1da880[_0x18eb21(0x818)]},'option':{'backgroundColor':_0x1da880[_0x18eb21(0x74e)],'font':_0x1da880[_0x18eb21(0x80a)],'statusJidList':_0x1da880[_0x18eb21(0x16b)]}};}if(_0x1da880[_0x18eb21(0x793)]===_0x18eb21(0x20b))return{'content':{'image':{'url':_0x1da880[_0x18eb21(0x818)]},'caption':_0x1da880[_0x18eb21(0x307)]},'option':{'statusJidList':_0x1da880[_0x18eb21(0x16b)]}};if(_0x1da880[_0x18eb21(0x793)]===_0x18eb21(0x1cb))return{'content':{'video':{'url':_0x1da880[_0x18eb21(0x818)]},'caption':_0x1da880[_0x18eb21(0x307)]},'option':{'statusJidList':_0x1da880[_0x18eb21(0x16b)]}};if(_0x1da880[_0x18eb21(0x793)]==='audio'){this[_0x18eb21(0x4b0)][_0x18eb21(0x477)]('Type\x20defined\x20as\x20audio'),this[_0x18eb21(0x4b0)][_0x18eb21(0x477)]('Processing\x20audio');let _0x371207=await this[_0x18eb21(0x2f6)](_0x1da880[_0x18eb21(0x818)]);if(typeof _0x371207==_0x18eb21(0x626)){this[_0x18eb21(0x4b0)]['verbose'](_0x18eb21(0x3c8));let _0x35e721=F['readFileSync'](_0x371207)['toString'](_0x18eb21(0x4b9));return{'content':{'audio':Buffer[_0x18eb21(0x36a)](_0x35e721,_0x18eb21(0x4b9)),'ptt':!0x0,'mimetype':_0x18eb21(0x423)},'option':{'statusJidList':_0x1da880[_0x18eb21(0x16b)]}};}else throw new x(_0x371207);}throw new w('Type\x20not\x20found');}async[a0_0x2aa7ab(0x4bc)](_0xb87a30){const _0x526227=a0_0x2aa7ab;return await this[_0x526227(0x492)](_0x526227(0x439),{'status':await this[_0x526227(0x3c1)](_0xb87a30[_0x526227(0x4bc)])});}async[a0_0x2aa7ab(0x333)](_0x68f480){const _0x29fcd0=a0_0x2aa7ab;try{let _0x33d19b=await(0x0,m[_0x29fcd0(0x1dc)])({[_0x68f480['mediatype']]:(0x0,P[_0x29fcd0(0x4e8)])(_0x68f480['media'])?{'url':_0x68f480['media']}:Buffer[_0x29fcd0(0x36a)](_0x68f480[_0x29fcd0(0x5d7)],'base64')},{'upload':this[_0x29fcd0(0x15c)][_0x29fcd0(0x387)]}),_0x141102=_0x68f480['mediatype']+'Message';if(_0x68f480[_0x29fcd0(0x206)]===_0x29fcd0(0x182)&&!_0x68f480[_0x29fcd0(0x1de)]){let _0x1e9eba=new RegExp(/.*\/(.+?)\./)[_0x29fcd0(0x33d)](_0x68f480[_0x29fcd0(0x5d7)]);_0x68f480[_0x29fcd0(0x1de)]=_0x1e9eba?_0x1e9eba[0x1]:null;}let _0x3f829c=(0x0,P[_0x29fcd0(0x4e8)])(_0x68f480['media'])?_0x68f480['media']['split']('?')[0x0]:_0x68f480['media'];this['logger'][_0x29fcd0(0x477)](_0x29fcd0(0x7a6)+_0x3f829c);let _0x33f420;(0x0,P[_0x29fcd0(0x4e8)])(_0x68f480['media'])?_0x33f420=(0x0,$t[_0x29fcd0(0x3f3)])(_0x3f829c):_0x68f480[_0x29fcd0(0x1de)]&&_0x68f480[_0x29fcd0(0x1de)][_0x29fcd0(0x323)]('.')?_0x33f420=(0x0,$t[_0x29fcd0(0x3f3)])(_0x68f480[_0x29fcd0(0x1de)]):_0x33f420=(0x0,$t[_0x29fcd0(0x3f3)])(_0x68f480['media']);let _0x2d6378=vr,_0x46801c=Ze;return _0x46801c&&this[_0x29fcd0(0x7ed)][_0x29fcd0(0x411)]()[_0x29fcd0(0x323)](_0x46801c[_0x29fcd0(0x411)]())&&(_0x68f480[_0x29fcd0(0x307)]+='\x0a\x0a'+_0x2d6378),_0x33d19b[_0x141102]['caption']=_0x68f480?.[_0x29fcd0(0x307)],_0x33d19b[_0x141102]['mimetype']=_0x33f420,_0x33d19b[_0x141102][_0x29fcd0(0x1de)]=_0x68f480[_0x29fcd0(0x1de)],_0x68f480[_0x29fcd0(0x206)]==='video'&&(_0x33d19b[_0x141102][_0x29fcd0(0x728)]=Uint8Array[_0x29fcd0(0x36a)]((0x0,Te[_0x29fcd0(0x7b1)])((0x0,q[_0x29fcd0(0x1a2)])(process['cwd'](),_0x29fcd0(0x7b6)))),_0x33d19b[_0x141102][_0x29fcd0(0x3e1)]=!0x1),(0x0,m[_0x29fcd0(0x7a2)])('',{[_0x141102]:{..._0x33d19b[_0x141102]}},{'userJid':this[_0x29fcd0(0x466)][_0x29fcd0(0x243)]});}catch(_0x18ea7e){throw this['logger'][_0x29fcd0(0x7e7)](this[_0x29fcd0(0x7ed)]+'\x20('+this['instance'][_0x29fcd0(0x243)]+'):\x20'+(_0x18ea7e instanceof Error?_0x18ea7e['message']:JSON[_0x29fcd0(0x7c7)](_0x18ea7e,null,0x2))),new x(_0x18ea7e?.[_0x29fcd0(0x618)]()||_0x18ea7e);}}async['mediaMessage'](_0x1179ca){const _0x3b4c44=a0_0x2aa7ab;let _0x34fdd6=await this[_0x3b4c44(0x333)](_0x1179ca[_0x3b4c44(0x18b)]);return await this['sendMessageWithTyping'](_0x1179ca['number'],{..._0x34fdd6['message']},_0x1179ca?.[_0x3b4c44(0x18f)]);}async[a0_0x2aa7ab(0x6e1)](_0x18c7a5,_0xc7e4d2){const _0x25b034=a0_0x2aa7ab;try{this[_0x25b034(0x4b0)][_0x25b034(0x477)](_0x25b034(0x467));let _0x2f8491,_0x5536fd=_0xc7e4d2+'-'+new Date()['getTime']();this[_0x25b034(0x4b0)][_0x25b034(0x477)](_0x25b034(0x2ad)+_0x5536fd);let _0x3cfa7d=''+(0x0,q[_0x25b034(0x1a2)])(this[_0x25b034(0x260)],_0x5536fd+_0x25b034(0x4a7));if(this['logger'][_0x25b034(0x477)](_0x25b034(0x36e)+_0x3cfa7d),(0x0,P['isBase64'])(_0x18c7a5)){this[_0x25b034(0x4b0)][_0x25b034(0x477)](_0x25b034(0x4c8));let _0x2e9599=_0x18c7a5[_0x25b034(0x73a)](/^data:image\/(jpeg|png|gif);base64,/,''),_0xe3341=Buffer[_0x25b034(0x36a)](_0x2e9599,_0x25b034(0x4b9));_0x2f8491=''+(0x0,q['join'])(this[_0x25b034(0x260)],'temp-'+_0x5536fd+_0x25b034(0x599)),this['logger'][_0x25b034(0x477)](_0x25b034(0x7b5)+_0x2f8491),await(0x0,kt[_0x25b034(0x798)])(_0xe3341)[_0x25b034(0x73b)](_0x2f8491),this['logger'][_0x25b034(0x477)](_0x25b034(0x2de));}else{this[_0x25b034(0x4b0)][_0x25b034(0x477)](_0x25b034(0x517));let _0x2e0ac3=new Date()[_0x25b034(0x20a)](),_0x5da63d=_0x18c7a5+_0x25b034(0x6ea)+_0x2e0ac3;this[_0x25b034(0x4b0)][_0x25b034(0x477)]('including\x20timestamp\x20in\x20url:\x20'+_0x5da63d);let _0x2fb8bf=await Z[_0x25b034(0x798)]['get'](_0x5da63d,{'responseType':'arraybuffer'});this['logger'][_0x25b034(0x477)]('Getting\x20image\x20from\x20url');let _0x23d153=Buffer[_0x25b034(0x36a)](_0x2fb8bf['data'],_0x25b034(0x7e9));_0x2f8491=''+(0x0,q['join'])(this['storePath'],_0x25b034(0x163)+_0x5536fd+_0x25b034(0x599)),this[_0x25b034(0x4b0)]['verbose'](_0x25b034(0x7b5)+_0x2f8491),await(0x0,kt[_0x25b034(0x798)])(_0x23d153)['toFile'](_0x2f8491),this[_0x25b034(0x4b0)]['verbose'](_0x25b034(0x2de));}return await(0x0,kt[_0x25b034(0x798)])(_0x2f8491)[_0x25b034(0x4be)]()[_0x25b034(0x73b)](_0x3cfa7d),this[_0x25b034(0x4b0)][_0x25b034(0x477)](_0x25b034(0x74f)),F[_0x25b034(0x627)](_0x2f8491),this[_0x25b034(0x4b0)][_0x25b034(0x477)](_0x25b034(0x19c)),_0x3cfa7d;}catch(_0x3d58f9){console[_0x25b034(0x7e7)](_0x25b034(0x7a9),_0x3d58f9 instanceof Error?_0x3d58f9[_0x25b034(0x210)]:JSON[_0x25b034(0x7c7)](_0x3d58f9,null,0x2));}}async[a0_0x2aa7ab(0x756)](_0x564126){const _0x6b1935=a0_0x2aa7ab;let _0x178af6=await this[_0x6b1935(0x6e1)](_0x564126[_0x6b1935(0x46a)]['image'],_0x564126[_0x6b1935(0x7fa)]),_0x256d2a=await this[_0x6b1935(0x492)](_0x564126['number'],{'sticker':{'url':_0x178af6}},_0x564126?.['options']);return F[_0x6b1935(0x627)](_0x178af6),this[_0x6b1935(0x4b0)]['verbose'](_0x6b1935(0x61a)),_0x256d2a;}async[a0_0x2aa7ab(0x47f)](_0x83a059){const _0x585879=a0_0x2aa7ab;if(this[_0x585879(0x4b0)][_0x585879(0x477)](_0x585879(0x3fe)),!_0x83a059[_0x585879(0x18f)]?.[_0x585879(0x493)]&&_0x83a059[_0x585879(0x18f)]?.[_0x585879(0x493)]!==!0x1&&(_0x83a059['options'][_0x585879(0x493)]=!0x0),_0x83a059[_0x585879(0x18f)]?.[_0x585879(0x493)]){let _0x6f2809=await this['convertaudio'](_0x83a059[_0x585879(0x24b)][_0x585879(0x63a)]);if(typeof _0x6f2809==_0x585879(0x626)){let _0x5329e5=F['readFileSync'](_0x6f2809)[_0x585879(0x618)]('base64');return this[_0x585879(0x492)](_0x83a059['number'],{'audio':Buffer[_0x585879(0x36a)](_0x5329e5,_0x585879(0x4b9)),'ptt':!0x0,'mimetype':_0x585879(0x423)},{'presence':_0x585879(0x1a7),'delay':_0x83a059?.[_0x585879(0x18f)]?.[_0x585879(0x6ec)]});}else throw new x(_0x6f2809);}return await this[_0x585879(0x492)](_0x83a059[_0x585879(0x7fa)],{'audio':(0x0,P[_0x585879(0x4e8)])(_0x83a059['audioMessage'][_0x585879(0x63a)])?{'url':_0x83a059['audioMessage']['audio']}:Buffer[_0x585879(0x36a)](_0x83a059[_0x585879(0x24b)][_0x585879(0x63a)],_0x585879(0x4b9)),'ptt':!0x0,'mimetype':_0x585879(0x28d)},{'presence':_0x585879(0x1a7),'delay':_0x83a059?.[_0x585879(0x18f)]?.['delay']});}async[a0_0x2aa7ab(0x2f6)](_0x21bfe1){const _0x191df6=a0_0x2aa7ab;this[_0x191df6(0x4b0)]['verbose'](_0x191df6(0x57e));let _0x3b5e0b=(0x0,P[_0x191df6(0x4e8)])(_0x21bfe1)?(0x0,Is[_0x191df6(0x710)])('sha256')['update'](_0x21bfe1)[_0x191df6(0x4aa)](_0x191df6(0x2c9)):(0x0,Is[_0x191df6(0x710)])('sha256')[_0x191df6(0x617)](_0x21bfe1)['digest'](_0x191df6(0x2c9)),_0x167972=''+(0x0,q[_0x191df6(0x1a2)])(this[_0x191df6(0x260)],_0x3b5e0b+'.mp4');if(F[_0x191df6(0x1f4)](_0x167972))return this['logger'][_0x191df6(0x477)]('Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x167972;let _0x4ff135=''+(0x0,q[_0x191df6(0x1a2)])(this[_0x191df6(0x260)],_0x191df6(0x163)+(0x0,Re['v4'])()+_0x191df6(0x5f4));if((0x0,P['isURL'])(_0x21bfe1)){let _0x254766=new Date()[_0x191df6(0x20a)](),_0x5e8ae0=_0x21bfe1+_0x191df6(0x6ea)+_0x254766,_0x3a0d0a=await Z[_0x191df6(0x798)][_0x191df6(0x54a)](_0x5e8ae0,{'responseType':_0x191df6(0x1b6)});F['writeFileSync'](_0x4ff135,_0x3a0d0a[_0x191df6(0x457)]);}else{let _0x3b482e=Buffer[_0x191df6(0x36a)](_0x21bfe1,'base64');F[_0x191df6(0x4ac)](_0x4ff135,_0x3b482e);}return new Promise((_0x1476cd,_0x44f104)=>{const _0x212577=_0x191df6;(0x0,jt[_0x212577(0x33d)])(Rr['default'][_0x212577(0x1ae)]+'\x20-i\x20'+_0x4ff135+_0x212577(0x587)+_0x167972+_0x212577(0x17c),_0x4f0403=>{const _0xe3da2=_0x212577;if(F['unlinkSync'](_0x4ff135),_0x4f0403){this[_0xe3da2(0x4b0)]['verbose'](_0xe3da2(0x5ea)),_0x44f104(_0x4f0403);return;}this['logger'][_0xe3da2(0x477)](_0xe3da2(0x707)),_0x1476cd(_0x167972);});});}async[a0_0x2aa7ab(0x29e)](_0x2ce30c){const _0x343e39=a0_0x2aa7ab;let _0x56f9c8={},_0x421b80=_0x343e39(0x21b);if(_0x2ce30c['buttonMessage']?.[_0x343e39(0x18b)]){_0x421b80=_0x2ce30c['buttonMessage'][_0x343e39(0x18b)]?.[_0x343e39(0x206)][_0x343e39(0x6ae)]()??'TEXT',_0x56f9c8[_0x343e39(0x742)]=_0x421b80[_0x343e39(0x411)]()+_0x343e39(0x1e1);let _0x399cfb=await this['prepareMediaMessage'](_0x2ce30c[_0x343e39(0x29e)]['mediaMessage']);_0x56f9c8[_0x343e39(0x210)]=_0x399cfb[_0x343e39(0x210)][_0x56f9c8['mediaKey']],_0x56f9c8[_0x343e39(0x453)]='*'+_0x2ce30c['buttonMessage']['title']+_0x343e39(0x6e8)+_0x2ce30c[_0x343e39(0x29e)]['description'];}let _0x163a2b={'text':_0x2ce30c[_0x343e39(0x29e)][_0x343e39(0x2a1)][_0x343e39(0x360)](_0xa30e0f=>_0xa30e0f['buttonText']),'ids':_0x2ce30c['buttonMessage'][_0x343e39(0x2a1)][_0x343e39(0x360)](_0x577ad5=>_0x577ad5[_0x343e39(0x4f4)])};if(!(0x0,P[_0x343e39(0x3a2)])(_0x163a2b[_0x343e39(0x309)])||!(0x0,P['arrayUnique'])(_0x163a2b[_0x343e39(0x643)]))throw new w(_0x343e39(0x5ee),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x343e39(0x492)](_0x2ce30c[_0x343e39(0x7fa)],{'buttonsMessage':{'text':_0x56f9c8?.[_0x343e39(0x742)]?void 0x0:_0x2ce30c[_0x343e39(0x29e)][_0x343e39(0x448)],'contentText':_0x56f9c8?.[_0x343e39(0x453)]??_0x2ce30c[_0x343e39(0x29e)][_0x343e39(0x741)],'footerText':_0x2ce30c['buttonMessage']?.[_0x343e39(0x16d)],'buttons':_0x2ce30c[_0x343e39(0x29e)][_0x343e39(0x2a1)][_0x343e39(0x360)](_0x4a87b4=>({'buttonText':{'displayText':_0x4a87b4[_0x343e39(0x6a2)]},'buttonId':_0x4a87b4['buttonId'],'type':0x1})),'headerType':m['proto'][_0x343e39(0x1e1)]['ButtonsMessage'][_0x343e39(0x194)][_0x421b80],[_0x56f9c8?.[_0x343e39(0x742)]]:_0x56f9c8?.[_0x343e39(0x210)]}},_0x2ce30c?.[_0x343e39(0x18f)]);}async[a0_0x2aa7ab(0x2e8)](_0x539bf2){const _0x14e5af=a0_0x2aa7ab;return await this[_0x14e5af(0x492)](_0x539bf2[_0x14e5af(0x7fa)],{'locationMessage':{'degreesLatitude':_0x539bf2[_0x14e5af(0x2e8)]['latitude'],'degreesLongitude':_0x539bf2[_0x14e5af(0x2e8)][_0x14e5af(0x3a1)],'name':_0x539bf2[_0x14e5af(0x2e8)]?.['name'],'address':_0x539bf2[_0x14e5af(0x2e8)]?.['address']}},_0x539bf2?.[_0x14e5af(0x18f)]);}async[a0_0x2aa7ab(0x70b)](_0x3e9a3f){const _0x3516c3=a0_0x2aa7ab;let _0x32a718={},_0x3125af=_0x5601cf=>{const _0x1524dd=a0_0x4fa0;let _0x2016e2=_0x1524dd(0x4f0)+_0x5601cf[_0x1524dd(0x776)]+_0x1524dd(0x6d9)+_0x5601cf[_0x1524dd(0x776)]+'\x0a';_0x5601cf[_0x1524dd(0x298)]&&(_0x2016e2+=_0x1524dd(0x461)+_0x5601cf[_0x1524dd(0x298)]+';\x0a'),_0x5601cf['email']&&(_0x2016e2+=_0x1524dd(0x803)+_0x5601cf[_0x1524dd(0x2b0)]+'\x0a'),_0x5601cf[_0x1524dd(0x1ff)]&&(_0x2016e2+=_0x1524dd(0x2d3)+_0x5601cf[_0x1524dd(0x1ff)]+'\x0a');let _0xc1580f='';return _0x5601cf[_0x1524dd(0x224)]&&_0x5601cf[_0x1524dd(0x224)][_0x1524dd(0x3fa)]('|')[_0x1524dd(0x53a)]((_0x3ad011,_0x4a964e)=>{const _0x247359=_0x1524dd;let _0x86e95f=this['createJid'](_0x3ad011)[_0x247359(0x73a)](_0x247359(0x330),'');_0xc1580f+=_0x247359(0x189)+(_0x4a964e+0x1)+_0x247359(0x76f)+_0x86e95f+':'+_0x3ad011+_0x247359(0x735)+(_0x4a964e+0x1)+_0x247359(0x364);}),_0x2016e2+=_0xc1580f+_0x1524dd(0x616),_0x2016e2;};return _0x3e9a3f[_0x3516c3(0x70b)][_0x3516c3(0x57b)]===0x1?_0x32a718['contactMessage']={'displayName':_0x3e9a3f[_0x3516c3(0x70b)][0x0][_0x3516c3(0x776)],'vcard':_0x3125af(_0x3e9a3f[_0x3516c3(0x70b)][0x0])}:_0x32a718[_0x3516c3(0x3b2)]={'displayName':_0x3e9a3f['contactMessage'][_0x3516c3(0x57b)]+_0x3516c3(0x418),'contacts':_0x3e9a3f['contactMessage']['map'](_0x3fadb0=>({'displayName':_0x3fadb0['fullName'],'vcard':_0x3125af(_0x3fadb0)}))},await this['sendMessageWithTyping'](_0x3e9a3f[_0x3516c3(0x7fa)],{..._0x32a718},_0x3e9a3f?.[_0x3516c3(0x18f)]);}async['reactionMessage'](_0x22f42f){const _0x16abcc=a0_0x2aa7ab;return await this[_0x16abcc(0x492)](_0x22f42f[_0x16abcc(0x578)][_0x16abcc(0x50e)]['remoteJid'],{'reactionMessage':{'key':_0x22f42f[_0x16abcc(0x578)][_0x16abcc(0x50e)],'text':_0x22f42f[_0x16abcc(0x578)][_0x16abcc(0x3aa)]}});}async[a0_0x2aa7ab(0x1b3)](_0x3cdcd7){const _0x2d18e5=a0_0x2aa7ab;let _0x3ffa62=[];for await(let _0x2c4968 of _0x3cdcd7[_0x2d18e5(0x52d)]){let _0x20f632=this['createJid'](_0x2c4968),_0x3bbdcb=!0x1;try{if((0x0,m['isJidGroup'])(_0x20f632)){let _0x498919=await this[_0x2d18e5(0x6c2)]({'groupJid':_0x20f632},_0x2d18e5(0x385));_0x3ffa62['push'](new fe(_0x498919[_0x2d18e5(0x35e)]['id'],!!_0x498919?.[_0x2d18e5(0x35e)]['id'],_0x498919?.[_0x2d18e5(0x35e)]['subject'])),_0x3bbdcb=!!_0x498919?.[_0x2d18e5(0x35e)]['id'];}else{let _0x4b7e69=(await this[_0x2d18e5(0x15c)][_0x2d18e5(0x253)](_0x20f632))[0x0];_0x3ffa62[_0x2d18e5(0x31c)](new fe(_0x4b7e69[_0x2d18e5(0x27e)],_0x4b7e69[_0x2d18e5(0x23f)])),_0x3bbdcb=_0x4b7e69[_0x2d18e5(0x23f)];}}catch{await this[_0x2d18e5(0x34e)](_0x20f632,_0x3bbdcb),_0x3ffa62[_0x2d18e5(0x31c)](new fe(_0x2c4968,!0x1));}}return _0x3ffa62;}async[a0_0x2aa7ab(0x34e)](_0x25ab31,_0x2ee538){const _0x398ac1=a0_0x2aa7ab;try{await this['repository']['chat'][_0x398ac1(0x709)]({'where':{'_id':_0x25ab31,'imported':!0x0}},this['instance']['wuid'])&&(_0x2ee538||(await this[_0x398ac1(0x162)][_0x398ac1(0x6cc)][_0x398ac1(0x31b)](_0x25ab31,this[_0x398ac1(0x466)][_0x398ac1(0x243)]),console[_0x398ac1(0x357)]('Chat\x20com\x20ID\x20'+_0x25ab31+_0x398ac1(0x55b))));}catch(_0x59eba9){console[_0x398ac1(0x7e7)](_0x398ac1(0x306),_0x59eba9);}}async['markMessageAsRead'](_0x9a8d9){const _0x21f33a=a0_0x2aa7ab;try{let _0x99d5e7=_0x9a8d9[_0x21f33a(0x5fd)][_0x21f33a(0x537)](_0x1e3ae7=>(0x0,m['isJidGroup'])(_0x1e3ae7[_0x21f33a(0x39b)])||(0x0,m['isJidUser'])(_0x1e3ae7[_0x21f33a(0x39b)]))[_0x21f33a(0x360)](_0x212776=>({'remoteJid':_0x212776[_0x21f33a(0x39b)],'fromMe':_0x212776[_0x21f33a(0x299)],'id':_0x212776['id']}));await this[_0x21f33a(0x15c)]['readMessages'](_0x99d5e7);let _0x34569a=_0x99d5e7[_0x21f33a(0x360)](_0x177126=>this[_0x21f33a(0x270)](_0x177126,{'status':'READ','owner':this[_0x21f33a(0x466)][_0x21f33a(0x243)]})),_0x34ebd3=_0x99d5e7[_0x21f33a(0x360)](_0x801c41=>this[_0x21f33a(0x162)]['chat'][_0x21f33a(0x38e)]({'where':{'_id':_0x801c41[_0x21f33a(0x39b)]}},{'unreadcount':0x0},this[_0x21f33a(0x466)][_0x21f33a(0x243)])),[_0x422a21,_0x1b7b3c]=await Promise[_0x21f33a(0x513)]([Promise['all'](_0x34569a),Promise[_0x21f33a(0x513)](_0x34ebd3)]);return _0x1b7b3c[_0x21f33a(0x537)](_0x13d58c=>_0x13d58c!==null)[_0x21f33a(0x53a)](_0x25d84e=>{const _0x16cc43=_0x21f33a;U(this[_0x16cc43(0x7ed)],_0x16cc43(0x4bd),{'chat':_0x25d84e});}),{'message':_0x21f33a(0x484),'read':_0x21f33a(0x21d)};}catch(_0x253fda){throw console[_0x21f33a(0x7e7)](_0x21f33a(0x7f2),_0x253fda),new x(_0x21f33a(0x757),_0x253fda['toString']());}}async[a0_0x2aa7ab(0x196)](_0x152576){const _0x7fa19=a0_0x2aa7ab;let _0x5dcf={'where':{'key':{'remoteJid':_0x152576}},'limit':0x1},_0x120a04=await this['fetchMessages'](_0x5dcf);return _0x120a04||(console['error'](_0x7fa19(0x4a6),_0x152576),null);}async[a0_0x2aa7ab(0x18e)](_0x515b0b){const _0x3c33=a0_0x2aa7ab;this[_0x3c33(0x4b0)][_0x3c33(0x477)](_0x3c33(0x7da));try{let _0x586da9=_0x515b0b[_0x3c33(0x655)],_0x6f6a95=_0x515b0b['chat'];if(!_0x586da9&&_0x6f6a95?_0x586da9=await this[_0x3c33(0x196)](_0x6f6a95):(_0x586da9=_0x515b0b[_0x3c33(0x655)],_0x586da9[_0x3c33(0x693)]=_0x586da9?.['messageTimestamp']??Date['now'](),_0x6f6a95=_0x586da9?.[_0x3c33(0x50e)]?.[_0x3c33(0x39b)]),!_0x586da9||Object[_0x3c33(0x717)](_0x586da9)[_0x3c33(0x57b)]===0x0)throw new L(_0x3c33(0x16c));this[_0x3c33(0x4b0)][_0x3c33(0x477)](_0x3c33(0x7a4)+_0x6f6a95);try{await this['client'][_0x3c33(0x57c)]({'archive':_0x515b0b['archive'],'lastMessages':[_0x586da9]},this[_0x3c33(0x205)](_0x6f6a95));}catch(_0x27714c){this[_0x3c33(0x4b0)]['error'](_0x3c33(0x720)+_0x6f6a95+':\x20'+_0x27714c[_0x3c33(0x618)]());}this[_0x3c33(0x4b0)][_0x3c33(0x477)](_0x3c33(0x6f9)+_0x6f6a95);let _0x43679f=await this[_0x3c33(0x162)][_0x3c33(0x6cc)][_0x3c33(0x38e)]({'where':{'_id':_0x586da9?.['key']?.[_0x3c33(0x39b)]}},{'archived':_0x515b0b['archive']},this['instance'][_0x3c33(0x243)]);return _0x43679f?(this[_0x3c33(0x4b0)][_0x3c33(0x477)](_0x3c33(0x81d)+JSON['stringify'](_0x43679f)),U(this['instanceName'],_0x3c33(0x4bd),{'chat':_0x43679f})):this[_0x3c33(0x4b0)]['error']('Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x6f6a95),{'chatId':_0x6f6a95,'archived':_0x515b0b[_0x3c33(0x21c)]};}catch(_0x413b50){throw this[_0x3c33(0x4b0)][_0x3c33(0x7e7)](_0x3c33(0x7b2)+_0x413b50[_0x3c33(0x618)]()),new x({'archived':!0x1,'message':[_0x3c33(0x7ba),_0x413b50['toString']()]});}}async[a0_0x2aa7ab(0x67c)](_0x2e08c6){const _0x56ce72=a0_0x2aa7ab;try{let _0xc9dbc8=await this[_0x56ce72(0x15c)][_0x56ce72(0x746)](_0x2e08c6[_0x56ce72(0x39b)],{'delete':_0x2e08c6});try{let _0x16e0ee=await this[_0x56ce72(0x270)](_0x2e08c6,{'status':_0x56ce72(0x769),'owner':this[_0x56ce72(0x466)][_0x56ce72(0x243)]});this[_0x56ce72(0x4b0)][_0x56ce72(0x477)](this[_0x56ce72(0x7ed)]+'\x20('+this[_0x56ce72(0x466)][_0x56ce72(0x243)]+_0x56ce72(0x235)+_0x16e0ee);}catch(_0x183262){console[_0x56ce72(0x7e7)](_0x56ce72(0x698),_0x183262);}return _0xc9dbc8;}catch(_0x354895){throw new x('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x354895?.[_0x56ce72(0x618)]());}}async[a0_0x2aa7ab(0x68b)](_0xa84745){const _0x51fd8b=a0_0x2aa7ab;try{let _0x55ab11=_0xa84745?.[_0x51fd8b(0x210)]?_0xa84745:await this[_0x51fd8b(0x650)](_0xa84745['key'],!0x0);for(let _0x3c9d8b of Ma)_0x55ab11[_0x51fd8b(0x210)][_0x3c9d8b]&&(_0x55ab11[_0x51fd8b(0x210)]=_0x55ab11[_0x51fd8b(0x210)][_0x3c9d8b][_0x51fd8b(0x210)]);let _0x3a3f2d,_0xd5f205;for(let _0x47e7c2 of Ea)if(_0x3a3f2d=_0x55ab11[_0x51fd8b(0x210)][_0x47e7c2],_0x3a3f2d){_0xd5f205=_0x47e7c2;break;}if(!_0x3a3f2d)throw _0x51fd8b(0x286);typeof _0x3a3f2d[_0x51fd8b(0x742)]=='object'&&(_0x55ab11[_0x51fd8b(0x210)]=JSON['parse'](JSON[_0x51fd8b(0x7c7)](_0x55ab11['message'])));let _0x3af7db=await(0x0,m[_0x51fd8b(0x7d6)])({'key':_0x55ab11?.[_0x51fd8b(0x50e)],'message':_0x55ab11?.['message']},_0x51fd8b(0x2db),{},{'logger':(0x0,Pt[_0x51fd8b(0x798)])({'level':_0x51fd8b(0x1f6)}),'reuploadRequest':this[_0x51fd8b(0x15c)][_0x51fd8b(0x22e)]});if(!(_0x3af7db instanceof Buffer))throw new Error(_0x51fd8b(0x6d0));let _0x5d73d1=this['configService']['get'](_0x51fd8b(0x2d0)),_0x142a93,_0x281a54;if(_0x3a3f2d[_0x51fd8b(0x1de)])_0x142a93=_0x3a3f2d['fileName'];else{let _0x5dbffc=_0x3a3f2d['mimetype']?.['match'](/\/(\w+)/),_0x15169b=_0x5dbffc?_0x5dbffc[0x1]:null;if(!_0x15169b)throw new Error(_0x51fd8b(0x401));_0x142a93=(0x0,Re['v4'])()+'.'+_0x15169b;}_0xd5f205===_0x51fd8b(0x24b)&&_0x3a3f2d[_0x51fd8b(0x3ec)]===_0x51fd8b(0x3f5)?(_0x142a93=(0x0,Re['v4'])()+'.ogg',_0x281a54=_0x51fd8b(0x748)+await this[_0x51fd8b(0x2f6)](_0x3af7db[_0x51fd8b(0x618)](_0x51fd8b(0x4b9)))):(await this[_0x51fd8b(0x1ef)](_0x3af7db,_0x142a93),_0x281a54=_0x51fd8b(0x748)+_0x142a93);let _0x36651a=this['configService'][_0x51fd8b(0x54a)](_0x51fd8b(0x72c))[_0x51fd8b(0x65a)];if(!_0x36651a){let _0x1a7295=this[_0x51fd8b(0x22b)][_0x51fd8b(0x54a)]('SSL_CONF');_0x36651a='https://'+(_0x1a7295&&_0x1a7295[_0x51fd8b(0x682)][_0x51fd8b(0x3fa)]('/')[0x4]);}_0x281a54=''+_0x36651a+_0x281a54;let _0x13a933=0xc*0x3c*0x3c*0x3e8,_0x287760={'where':{'_id':_0x55ab11[_0x51fd8b(0x50e)]['id']}},_0x207f70={'message_normalized.fileUrl':_0x281a54,'message_normalized.expires_fileUrl':Date[_0x51fd8b(0x458)]()+_0x13a933};try{let _0x38a556=await this[_0x51fd8b(0x162)][_0x51fd8b(0x210)][_0x51fd8b(0x617)](_0x287760,_0x207f70,this[_0x51fd8b(0x466)]['wuid']);_0x38a556&&U(this[_0x51fd8b(0x7ed)],_0x51fd8b(0x605),{'message':_0x38a556});}catch(_0x128367){this[_0x51fd8b(0x4b0)][_0x51fd8b(0x7e7)](this['instanceName']+'\x20('+this[_0x51fd8b(0x466)]['wuid']+'):\x20'+(_0x128367 instanceof Error?_0x128367[_0x51fd8b(0x210)]:JSON[_0x51fd8b(0x7c7)](_0x128367,null,0x2)));}return{'mediaType':_0xd5f205,'fileName':_0x3a3f2d[_0x51fd8b(0x1de)],'caption':_0x3a3f2d['caption'],'size':{'fileLength':_0x3a3f2d[_0x51fd8b(0x6a8)],'height':_0x3a3f2d[_0x51fd8b(0x3c2)],'width':_0x3a3f2d[_0x51fd8b(0x1d1)]},'mimetype':_0x3a3f2d[_0x51fd8b(0x3ec)],'base64':_0x3af7db['toString'](_0x51fd8b(0x4b9)),'fileUrl':_0x281a54,'expires_fileUrl':Date['now']()+_0x13a933};}catch(_0x1c9880){throw this[_0x51fd8b(0x4b0)][_0x51fd8b(0x7e7)](this['instanceName']+'\x20('+this[_0x51fd8b(0x466)][_0x51fd8b(0x243)]+_0x51fd8b(0x544)+(_0x1c9880 instanceof Error?_0x1c9880['message']:JSON[_0x51fd8b(0x7c7)](_0x1c9880,null,0x2))),new w(_0x1c9880['toString']());}}async['saveMediaToFile'](_0x4d3564,_0x2b4987){const _0x42c64e=a0_0x2aa7ab;let _0x4fe094=q['default'][_0x42c64e(0x1a2)](__dirname,_0x42c64e(0x6d6));F['existsSync'](_0x4fe094)||F[_0x42c64e(0x4e5)](_0x4fe094,{'recursive':!0x0});let _0xf7c2b6=q[_0x42c64e(0x798)]['join'](_0x4fe094,_0x2b4987);return new Promise((_0x3b187,_0x3cff72)=>{const _0x1bfc34=_0x42c64e;F[_0x1bfc34(0x19f)](_0xf7c2b6,_0x4d3564,_0x8263c=>{const _0x245176=_0x1bfc34;_0x8263c?(this[_0x245176(0x4b0)]['error'](_0x245176(0x73e)+(_0x8263c instanceof Error?_0x8263c[_0x245176(0x210)]:JSON[_0x245176(0x7c7)](_0x8263c,null,0x2))),_0x3cff72(_0x8263c)):(this[_0x245176(0x4b0)]['log']('File\x20written\x20to\x20path:\x20'+_0xf7c2b6),_0x3b187(_0xf7c2b6));});});}async['fetchContacts'](_0x9a1b7d){const _0x406597=a0_0x2aa7ab;return await this[_0x406597(0x162)][_0x406597(0x4ff)][_0x406597(0x701)](_0x9a1b7d,this[_0x406597(0x466)][_0x406597(0x243)]);}async[a0_0x2aa7ab(0x7a5)](){const _0x3918c0=a0_0x2aa7ab;return await this[_0x3918c0(0x162)]['label'][_0x3918c0(0x701)]({'where':{}},this[_0x3918c0(0x466)]['wuid']);}async[a0_0x2aa7ab(0x778)](_0x497904){const _0x264ca8=a0_0x2aa7ab;return await this[_0x264ca8(0x162)]['message']['find'](_0x497904,this['instance'][_0x264ca8(0x243)]);}async[a0_0x2aa7ab(0x36b)](){const _0x5d0a92=a0_0x2aa7ab;return this[_0x5d0a92(0x162)][_0x5d0a92(0x6cc)][_0x5d0a92(0x3ff)](this[_0x5d0a92(0x466)][_0x5d0a92(0x243)]),this[_0x5d0a92(0x162)][_0x5d0a92(0x6cc)][_0x5d0a92(0x3a3)](this[_0x5d0a92(0x466)]['wuid']),this['repository'][_0x5d0a92(0x6cc)][_0x5d0a92(0x786)](this[_0x5d0a92(0x466)][_0x5d0a92(0x243)]),this[_0x5d0a92(0x162)][_0x5d0a92(0x6cc)][_0x5d0a92(0x5e2)](this[_0x5d0a92(0x466)][_0x5d0a92(0x243)]),await this['repository'][_0x5d0a92(0x6cc)][_0x5d0a92(0x701)]({'where':{}},this[_0x5d0a92(0x466)][_0x5d0a92(0x243)]);}async[a0_0x2aa7ab(0x3e5)](_0xfb96f3){const _0x347d7a=a0_0x2aa7ab;try{if(!Array['isArray'](_0xfb96f3)||_0xfb96f3['length']===0x0)throw new Error('Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.');let _0x3e9e30=[],_0x20d3f4=[];for(let _0xa76efd of _0xfb96f3){if(_0xa76efd['_id'])_0xa76efd['_id']=this[_0x347d7a(0x205)](_0xa76efd[_0x347d7a(0x408)]);else continue;await this[_0x347d7a(0x162)]['chat'][_0x347d7a(0x709)]({'where':{'_id':_0xa76efd[_0x347d7a(0x408)]}},this['instance'][_0x347d7a(0x243)])?_0x20d3f4[_0x347d7a(0x31c)]({'_id':_0xa76efd[_0x347d7a(0x408)],'leadInfo':_0xa76efd[_0x347d7a(0x5aa)],'owner':this['instance'][_0x347d7a(0x243)]}):_0x3e9e30[_0x347d7a(0x31c)]({'_id':_0xa76efd[_0x347d7a(0x408)],'owner':this['instance'][_0x347d7a(0x243)],'leadInfo':_0xa76efd[_0x347d7a(0x5aa)],'imported':!0x0});}return _0x20d3f4[_0x347d7a(0x57b)]>0x0&&await this[_0x347d7a(0x162)][_0x347d7a(0x6cc)][_0x347d7a(0x6c0)](_0x20d3f4['map'](_0x246710=>({'query':{'where':{'_id':_0x246710[_0x347d7a(0x408)],'owner':this[_0x347d7a(0x466)]['wuid']}},'update':_0x246710}))),_0x3e9e30[_0x347d7a(0x57b)]>0x0&&await this[_0x347d7a(0x162)][_0x347d7a(0x6cc)][_0x347d7a(0x33c)](_0x3e9e30,this[_0x347d7a(0x466)][_0x347d7a(0x243)]),{'updated':_0x20d3f4[_0x347d7a(0x57b)],'inserted':_0x3e9e30['length']};}catch(_0x3a1e21){throw console[_0x347d7a(0x7e7)]('Erro\x20ao\x20importar\x20chats:',_0x3a1e21),_0x3a1e21;}}async[a0_0x2aa7ab(0x40f)](_0x166b97){const _0x467082=a0_0x2aa7ab;try{if(!Array[_0x467082(0x166)](_0x166b97)||_0x166b97[_0x467082(0x57b)]===0x0)throw new Error(_0x467082(0x6eb));let _0x459a74=0x64,_0xc32653=0x0;for(let _0x164cf4=0x0;_0x164cf4<_0x166b97[_0x467082(0x57b)];_0x164cf4+=_0x459a74){let _0x25fe02=_0x166b97[_0x467082(0x164)](_0x164cf4,_0x164cf4+_0x459a74),{updated:_0x519c24}=await this[_0x467082(0x338)](_0x25fe02);_0xc32653+=_0x519c24;}return{'updated':_0xc32653};}catch(_0x4667bf){throw console[_0x467082(0x7e7)]('Erro\x20ao\x20importar\x20chats:',_0x4667bf),_0x4667bf;}}async[a0_0x2aa7ab(0x338)](_0x3f7176){const _0x44f62b=a0_0x2aa7ab;try{let _0x526c64=await this[_0x44f62b(0x162)][_0x44f62b(0x3ab)][_0x44f62b(0x701)]({'where':{}},this[_0x44f62b(0x466)][_0x44f62b(0x243)]),_0x193e53=new Set(_0x526c64[_0x44f62b(0x360)](_0x11093e=>_0x11093e[_0x44f62b(0x408)])),_0x923fa0=[],_0x9533e8=[];for(let _0x2fcb41 of _0x3f7176){if(!_0x2fcb41[_0x44f62b(0x408)])continue;_0x2fcb41[_0x44f62b(0x408)]=this[_0x44f62b(0x205)](_0x2fcb41[_0x44f62b(0x408)]);let _0x1a16be=await this[_0x44f62b(0x162)]['chat'][_0x44f62b(0x709)]({'where':{'_id':_0x2fcb41[_0x44f62b(0x408)]}},this[_0x44f62b(0x466)][_0x44f62b(0x243)]),_0x40e3ac={};if(Object[_0x44f62b(0x363)](_0x2fcb41['leadInfo'])[_0x44f62b(0x53a)](([_0xc6549d,_0x2ec0af])=>{const _0x314824=_0x44f62b;_0x40e3ac[_0x314824(0x621)+_0xc6549d]=_0x2ec0af;}),_0x1a16be&&!_0x1a16be[_0x44f62b(0x79d)]){let _0x2a313b=(_0x2fcb41[_0x44f62b(0x5aa)][_0x44f62b(0x2ef)]||[])[_0x44f62b(0x537)](_0x137b8a=>_0x193e53[_0x44f62b(0x4d1)](_0x137b8a)),_0x5eda26=new Set(_0x1a16be['leadInfo'][_0x44f62b(0x2ef)]||[]),_0x458934=_0x2a313b[_0x44f62b(0x537)](_0x33b022=>!_0x5eda26[_0x44f62b(0x4d1)](_0x33b022)),_0x50cf81=[..._0x5eda26][_0x44f62b(0x537)](_0x82b460=>!_0x2a313b[_0x44f62b(0x323)](_0x82b460));_0x9533e8[_0x44f62b(0x31c)](..._0x458934[_0x44f62b(0x360)](_0x190261=>this[_0x44f62b(0x5d9)](_0x190261,_0x2fcb41['_id']))),_0x9533e8['push'](..._0x50cf81['map'](_0x513664=>this['RemoveChatLabel'](_0x513664,_0x2fcb41[_0x44f62b(0x408)]))),_0x2fcb41[_0x44f62b(0x5aa)][_0x44f62b(0x2ef)]=_0x2a313b,_0x923fa0['push']({'query':{'where':{'_id':_0x2fcb41['_id'],'owner':this[_0x44f62b(0x466)][_0x44f62b(0x243)]}},'update':_0x40e3ac});}else _0x40e3ac[_0x44f62b(0x79d)]=!0x0,_0x923fa0[_0x44f62b(0x31c)]({'query':{'where':{'_id':_0x2fcb41[_0x44f62b(0x408)],'owner':this[_0x44f62b(0x466)][_0x44f62b(0x243)]}},'update':_0x40e3ac});}let _0x4c89ea=await this[_0x44f62b(0x162)]['chat']['updateMany'](_0x923fa0);return await Promise[_0x44f62b(0x513)](_0x9533e8),{'updated':_0x4c89ea};}catch(_0x444eda){throw console[_0x44f62b(0x7e7)](_0x44f62b(0x244),_0x444eda),_0x444eda;}}async['fetchPrivacySettings'](){return await this['client']['fetchPrivacySettings']();}async['updatePrivacySettings'](_0x21963f){const _0x5b7b5e=a0_0x2aa7ab;try{return await this[_0x5b7b5e(0x15c)][_0x5b7b5e(0x5fa)](_0x21963f[_0x5b7b5e(0x63b)][_0x5b7b5e(0x7af)]),await this['client'][_0x5b7b5e(0x3c5)](_0x21963f[_0x5b7b5e(0x63b)][_0x5b7b5e(0x46c)]),await this[_0x5b7b5e(0x15c)][_0x5b7b5e(0x79c)](_0x21963f[_0x5b7b5e(0x63b)][_0x5b7b5e(0x540)]),await this[_0x5b7b5e(0x15c)][_0x5b7b5e(0x3c4)](_0x21963f[_0x5b7b5e(0x63b)]['online']),await this['client']['updateLastSeenPrivacy'](_0x21963f[_0x5b7b5e(0x63b)][_0x5b7b5e(0x652)]),await this[_0x5b7b5e(0x15c)][_0x5b7b5e(0x645)](_0x21963f[_0x5b7b5e(0x63b)]['groupadd']),this[_0x5b7b5e(0x15c)]?.['ws']?.['close'](),{'update':_0x5b7b5e(0x21d),'data':{'readreceipts':_0x21963f['privacySettings'][_0x5b7b5e(0x7af)],'profile':_0x21963f[_0x5b7b5e(0x63b)][_0x5b7b5e(0x46c)],'status':_0x21963f[_0x5b7b5e(0x63b)][_0x5b7b5e(0x540)],'online':_0x21963f[_0x5b7b5e(0x63b)][_0x5b7b5e(0x464)],'last':_0x21963f[_0x5b7b5e(0x63b)][_0x5b7b5e(0x652)],'groupadd':_0x21963f[_0x5b7b5e(0x63b)][_0x5b7b5e(0x3f7)]}};}catch(_0x5ba16e){throw new x(_0x5b7b5e(0x3be),_0x5ba16e[_0x5b7b5e(0x618)]());}}async[a0_0x2aa7ab(0x207)](_0x4125ef){const _0x4ebc74=a0_0x2aa7ab;let _0x4352ba=(_0x4125ef?this[_0x4ebc74(0x205)](_0x4125ef):this['client']?.['user']?.['id'])['replace'](/:\d{1,2}@/g,'@');this[_0x4ebc74(0x4b0)][_0x4ebc74(0x477)](_0x4ebc74(0x34c)+_0x4352ba);let _0xc047c8=await this[_0x4ebc74(0x162)][_0x4ebc74(0x4ff)][_0x4ebc74(0x709)]({'where':{'_id':_0x4352ba}},this['instance'][_0x4ebc74(0x243)]),_0x12393c=_0xc047c8?_0xc047c8['pushName']:null;try{let _0x885bc5=(await this[_0x4ebc74(0x1b3)]({'numbers':[_0x4352ba]}))?.[_0x4ebc74(0x598)](),_0x3bba0a=(await this[_0x4ebc74(0x75e)](_0x4352ba,null,!0x1))[_0x4ebc74(0x37a)][_0x4ebc74(0x7e3)],_0x59f743=await this['getStatus'](_0x885bc5?.[_0x4ebc74(0x27e)]),_0x397b3d=await this['fetchBusinessProfile'](_0x885bc5?.[_0x4ebc74(0x27e)]),_0x202c15=(await this[_0x4ebc74(0x75e)](_0x4352ba,null,!0x1))[_0x4ebc74(0x37a)][_0x4ebc74(0x6f5)],_0x520df3=await this[_0x4ebc74(0x162)][_0x4ebc74(0x6cc)][_0x4ebc74(0x709)]({'where':{'_id':_0x4352ba}},this[_0x4ebc74(0x466)][_0x4ebc74(0x243)]),_0x1329f1={'imagechat':_0x3bba0a,'contactname':_0x12393c||null,'pushName':_0x202c15,'status':_0x59f743?.[_0x4ebc74(0x540)],'isBusiness':_0x397b3d[_0x4ebc74(0x381)],'email':_0x397b3d?.[_0x4ebc74(0x2b0)],'description':_0x397b3d?.[_0x4ebc74(0x741)],'website':_0x397b3d?.[_0x4ebc74(0x2a8)]?.[_0x4ebc74(0x598)](),'lastcache':Date[_0x4ebc74(0x458)](),'imported':!_0x520df3},_0x1d98d6=await this['repository'][_0x4ebc74(0x6cc)][_0x4ebc74(0x38e)]({'where':{'_id':_0x4352ba}},_0x1329f1,this['instance'][_0x4ebc74(0x243)]),_0x300796={'owner':this[_0x4ebc74(0x466)][_0x4ebc74(0x243)],'_id':_0x4352ba,'profilePictureUrl':_0x3bba0a,'status':_0x59f743?.['status']};return this[_0x4ebc74(0x162)][_0x4ebc74(0x4ff)][_0x4ebc74(0x617)]([_0x300796],this['instance']['wuid']),_0x1d98d6&&U(this['instanceName'],'chats',{'chat':_0x1d98d6}),{'wuid':_0x885bc5?.[_0x4ebc74(0x27e)]||_0x4352ba,'name':_0x885bc5?.['name'],'pushName':_0x202c15,'numberExists':_0x885bc5?.[_0x4ebc74(0x23f)],'picture':_0x3bba0a,'status':_0x59f743?.[_0x4ebc74(0x540)],'isBusiness':_0x397b3d[_0x4ebc74(0x381)],'email':_0x397b3d?.[_0x4ebc74(0x2b0)],'description':_0x397b3d?.[_0x4ebc74(0x741)],'website':_0x397b3d?.[_0x4ebc74(0x2a8)]?.[_0x4ebc74(0x598)]()};}catch(_0x416eb0){return this['logger'][_0x4ebc74(0x7e7)](_0x4ebc74(0x428)+(_0x416eb0 instanceof Error?_0x416eb0[_0x4ebc74(0x210)]:JSON[_0x4ebc74(0x7c7)](_0x416eb0,null,0x2))),{};}}async[a0_0x2aa7ab(0x193)](_0x5a6bb8){const _0x141616=a0_0x2aa7ab;this[_0x141616(0x4b0)][_0x141616(0x477)](_0x141616(0x22d));try{let _0xe0bb0b=_0x5a6bb8?this[_0x141616(0x205)](_0x5a6bb8):this[_0x141616(0x466)][_0x141616(0x243)],_0x453704=await this[_0x141616(0x15c)][_0x141616(0x15d)](_0xe0bb0b);return this[_0x141616(0x4b0)][_0x141616(0x477)](_0x141616(0x62f)),_0x453704?(this[_0x141616(0x4b0)][_0x141616(0x477)]('Business\x20profile\x20fetched'),{'isBusiness':!0x0,..._0x453704}):{'isBusiness':!0x1,'message':_0x141616(0x2e4),...(await this[_0x141616(0x1b3)]({'numbers':[_0xe0bb0b]}))?.[_0x141616(0x598)]()};}catch(_0x328a12){throw new x('Error\x20updating\x20profile\x20name',_0x328a12[_0x141616(0x618)]());}}async['getStatus'](_0x9d9d57){const _0x388a30=a0_0x2aa7ab;let _0x242ae2=this[_0x388a30(0x205)](_0x9d9d57);try{return{'wuid':_0x242ae2,'status':(await this[_0x388a30(0x15c)]['fetchStatus'](_0x242ae2))?.['status']};}catch{return{'wuid':_0x242ae2,'status':null};}}async['updateProfileName'](_0x2ac77a){const _0x9ca17e=a0_0x2aa7ab;try{return await this['client'][_0x9ca17e(0x20d)](_0x2ac77a),{'update':_0x9ca17e(0x21d)};}catch(_0x440719){throw new x(_0x9ca17e(0x510),_0x440719[_0x9ca17e(0x618)]());}}async[a0_0x2aa7ab(0x362)](_0x34196d){const _0x3929b0=a0_0x2aa7ab;try{return await this[_0x3929b0(0x15c)][_0x3929b0(0x362)](_0x34196d),{'update':_0x3929b0(0x21d)};}catch(_0x53f26c){throw new x(_0x3929b0(0x63d),_0x53f26c[_0x3929b0(0x618)]());}}async[a0_0x2aa7ab(0x7e4)](_0x1e1114){const _0x309ed3=a0_0x2aa7ab;try{let _0x1401f0;if((0x0,P[_0x309ed3(0x4e8)])(_0x1e1114)){let _0x26d651=new Date()[_0x309ed3(0x20a)](),_0x210ee1=_0x1e1114+_0x309ed3(0x6ea)+_0x26d651;_0x1401f0=(await Z[_0x309ed3(0x798)]['get'](_0x210ee1,{'responseType':_0x309ed3(0x1b6)}))[_0x309ed3(0x457)];}else{if((0x0,P[_0x309ed3(0x700)])(_0x1e1114))_0x1401f0=Buffer[_0x309ed3(0x36a)](_0x1e1114,_0x309ed3(0x4b9));else throw new w(_0x309ed3(0x2f1));}return await this[_0x309ed3(0x15c)][_0x309ed3(0x7e4)](this[_0x309ed3(0x466)][_0x309ed3(0x243)],_0x1401f0),{'update':_0x309ed3(0x21d)};}catch(_0x445bee){throw new x(_0x309ed3(0x79b),_0x445bee[_0x309ed3(0x618)]());}}async[a0_0x2aa7ab(0x6e5)](){const _0x1bbb37=a0_0x2aa7ab;try{return await this[_0x1bbb37(0x15c)]['removeProfilePicture'](this['instance'][_0x1bbb37(0x243)]),{'update':'success'};}catch(_0x5ac6dc){throw new x(_0x1bbb37(0x437),_0x5ac6dc[_0x1bbb37(0x618)]());}}async[a0_0x2aa7ab(0x2b8)](_0x3c923a){const _0x4d9f33=a0_0x2aa7ab;try{let _0x527189=_0x3c923a[_0x4d9f33(0x3a4)][_0x4d9f33(0x360)](_0x5ecc09=>this[_0x4d9f33(0x205)](_0x5ecc09)),{id:_0x1b64e8}=await this[_0x4d9f33(0x15c)][_0x4d9f33(0x51a)](_0x3c923a['subject'],_0x527189);return _0x3c923a?.[_0x4d9f33(0x741)]&&await this[_0x4d9f33(0x15c)][_0x4d9f33(0x4c3)](_0x1b64e8,_0x3c923a[_0x4d9f33(0x741)]),{'metadata':await this['client'][_0x4d9f33(0x341)](_0x1b64e8)};}catch(_0x43002d){throw this['logger'][_0x4d9f33(0x7e7)](this['instanceName']+'\x20('+this[_0x4d9f33(0x466)][_0x4d9f33(0x243)]+'):\x20'+(_0x43002d instanceof Error?_0x43002d[_0x4d9f33(0x210)]:JSON[_0x4d9f33(0x7c7)](_0x43002d,null,0x2))),new x(_0x4d9f33(0x55c),_0x43002d['toString']());}}async[a0_0x2aa7ab(0x45f)](_0x3638d2){const _0x3aafe4=a0_0x2aa7ab;try{let _0x4df815;if((0x0,P[_0x3aafe4(0x4e8)])(_0x3638d2[_0x3aafe4(0x20b)])){let _0x58bf5b=new Date()['getTime'](),_0x66b548=_0x3638d2[_0x3aafe4(0x20b)]+_0x3aafe4(0x6ea)+_0x58bf5b;_0x4df815=(await Z[_0x3aafe4(0x798)][_0x3aafe4(0x54a)](_0x66b548,{'responseType':'arraybuffer'}))[_0x3aafe4(0x457)];}else{if((0x0,P[_0x3aafe4(0x700)])(_0x3638d2[_0x3aafe4(0x20b)]))_0x4df815=Buffer[_0x3aafe4(0x36a)](_0x3638d2[_0x3aafe4(0x20b)],'base64');else throw new w(_0x3aafe4(0x2f1));}return await this[_0x3aafe4(0x15c)][_0x3aafe4(0x7e4)](_0x3638d2[_0x3aafe4(0x4d3)],_0x4df815),{'update':'success'};}catch(_0x4bcdd7){throw new x(_0x3aafe4(0x694),_0x4bcdd7[_0x3aafe4(0x618)]());}}async[a0_0x2aa7ab(0x476)](_0x5c1485){const _0x351464=a0_0x2aa7ab;try{return await this[_0x351464(0x15c)][_0x351464(0x4c3)](_0x5c1485['groupJid'],_0x5c1485['description']),{'update':_0x351464(0x21d)};}catch(_0x1715e6){throw new x(_0x351464(0x404),_0x1715e6['toString']());}}async['groupName'](_0x207d46){const _0x329a8d=a0_0x2aa7ab;try{return await this[_0x329a8d(0x15c)][_0x329a8d(0x751)](_0x207d46[_0x329a8d(0x4d3)],_0x207d46[_0x329a8d(0x6f5)]),{'update':_0x329a8d(0x21d)};}catch(_0x176eae){throw new x(_0x329a8d(0x16f),_0x176eae['toString']());}}async[a0_0x2aa7ab(0x1fb)](_0x455e59){const _0x4d27ac=a0_0x2aa7ab;try{let _0x161537=await this[_0x4d27ac(0x15c)][_0x4d27ac(0x66f)](_0x455e59['groupJid'],_0x455e59[_0x4d27ac(0x3cc)]);return{'success':!0x0};}catch(_0x5c8806){throw new w('Error\x20updating\x20setting',_0x5c8806[_0x4d27ac(0x618)]());}}async[a0_0x2aa7ab(0x69f)](_0x5e0f9d){const _0xd290b5=a0_0x2aa7ab;try{return await this['client']['groupSettingUpdate'](_0x5e0f9d[_0xd290b5(0x4d3)],_0x5e0f9d['setting']),{'update':'success'};}catch(_0x26a31e){throw new x(_0xd290b5(0x499),_0x26a31e[_0xd290b5(0x618)]());}}async[a0_0x2aa7ab(0x58e)](_0xae5409){const _0x3e90c3=a0_0x2aa7ab;try{if(_0xae5409[_0x3e90c3(0x231)]===!0x0&&await this[_0x3e90c3(0x15c)]['groupSettingUpdate'](_0xae5409[_0x3e90c3(0x4d3)],_0x3e90c3(0x178)),_0xae5409['restrict']===!0x1&&await this[_0x3e90c3(0x15c)][_0x3e90c3(0x7f7)](_0xae5409[_0x3e90c3(0x4d3)],_0x3e90c3(0x651)),_0xae5409[_0x3e90c3(0x71d)]===!0x0&&await this[_0x3e90c3(0x15c)][_0x3e90c3(0x7f7)](_0xae5409[_0x3e90c3(0x4d3)],_0x3e90c3(0x191)),_0xae5409[_0x3e90c3(0x71d)]===!0x1&&await this['client']['groupSettingUpdate'](_0xae5409['groupJid'],'not_announcement'),_0xae5409['memberAddMode']===!0x0&&await this[_0x3e90c3(0x15c)][_0x3e90c3(0x39e)](_0xae5409[_0x3e90c3(0x4d3)],_0x3e90c3(0x72a)),_0xae5409['memberAddMode']===!0x1&&await this[_0x3e90c3(0x15c)][_0x3e90c3(0x39e)](_0xae5409['groupJid'],_0x3e90c3(0x2cc)),_0xae5409[_0x3e90c3(0x2bf)]===!0x0&&await this[_0x3e90c3(0x15c)][_0x3e90c3(0x7ac)](_0xae5409[_0x3e90c3(0x4d3)],'on'),_0xae5409['joinApprovalMode']===!0x1&&await this[_0x3e90c3(0x15c)][_0x3e90c3(0x7ac)](_0xae5409[_0x3e90c3(0x4d3)],_0x3e90c3(0x7c1)),typeof _0xae5409['expiration']<'u'&&_0xae5409['expiration']!==null&&await this[_0x3e90c3(0x15c)][_0x3e90c3(0x66f)](_0xae5409[_0x3e90c3(0x4d3)],_0xae5409[_0x3e90c3(0x3cc)]),_0xae5409[_0x3e90c3(0x6f5)]&&await this[_0x3e90c3(0x15c)]['groupUpdateSubject'](_0xae5409[_0x3e90c3(0x4d3)],_0xae5409[_0x3e90c3(0x6f5)]),_0xae5409['description']&&await this[_0x3e90c3(0x15c)][_0x3e90c3(0x4c3)](_0xae5409[_0x3e90c3(0x4d3)],_0xae5409[_0x3e90c3(0x741)]),_0xae5409[_0x3e90c3(0x20b)]){let _0x501ef4;if((0x0,P[_0x3e90c3(0x4e8)])(_0xae5409[_0x3e90c3(0x20b)])){let _0x28ba6d=new Date()[_0x3e90c3(0x20a)](),_0x1fc52b=_0xae5409[_0x3e90c3(0x20b)]+_0x3e90c3(0x6ea)+_0x28ba6d;_0x501ef4=(await Z[_0x3e90c3(0x798)][_0x3e90c3(0x54a)](_0x1fc52b,{'responseType':_0x3e90c3(0x1b6)}))[_0x3e90c3(0x457)];}else{if((0x0,P[_0x3e90c3(0x700)])(_0xae5409['image']))_0x501ef4=Buffer[_0x3e90c3(0x36a)](_0xae5409[_0x3e90c3(0x20b)],_0x3e90c3(0x4b9));else throw new w(_0x3e90c3(0x2f1));}await this[_0x3e90c3(0x15c)]['updateProfilePicture'](_0xae5409[_0x3e90c3(0x4d3)],_0x501ef4);}return await this[_0x3e90c3(0x6c2)]({'groupJid':_0xae5409[_0x3e90c3(0x4d3)]},_0x3e90c3(0x385));}catch(_0x2049a8){throw new x('Error\x20change\x20group\x20setting',_0x2049a8[_0x3e90c3(0x618)]());}}async[a0_0x2aa7ab(0x3bd)](_0x17062d){const _0x53cf48=a0_0x2aa7ab;try{if(_0x17062d[_0x53cf48(0x4d0)]===_0x53cf48(0x1e0)||_0x17062d[_0x53cf48(0x4d0)]===_0x53cf48(0x5f9)){let _0x208579=_0x17062d[_0x53cf48(0x3a4)][_0x53cf48(0x360)](_0x580a74=>this['createJid'](_0x580a74));await this[_0x53cf48(0x15c)][_0x53cf48(0x1e8)](_0x17062d[_0x53cf48(0x4d3)],_0x208579,_0x17062d[_0x53cf48(0x4d0)]);}else{let _0x5b594c=_0x17062d[_0x53cf48(0x3a4)]['map'](_0x2127f9=>this[_0x53cf48(0x205)](_0x2127f9));await this[_0x53cf48(0x15c)][_0x53cf48(0x57a)](_0x17062d[_0x53cf48(0x4d3)],_0x5b594c,_0x17062d[_0x53cf48(0x4d0)]);}return await this[_0x53cf48(0x6c2)]({'groupJid':_0x17062d[_0x53cf48(0x4d3)]},_0x53cf48(0x385));}catch(_0x125768){throw new w('Error\x20updating\x20participants',_0x125768[_0x53cf48(0x618)]());}}async[a0_0x2aa7ab(0x214)](_0xa4f692){const _0x431afc=a0_0x2aa7ab;try{return await this[_0x431afc(0x15c)][_0x431afc(0x214)](_0xa4f692[_0x431afc(0x367)]);}catch(_0x4462ba){throw new x(_0x431afc(0x68c),_0x4462ba[_0x431afc(0x618)]());}}async['findGroup'](_0x2f68a2,_0x550b53=a0_0x2aa7ab(0x1d8)){const _0xf498a=a0_0x2aa7ab;try{let _0x1a0284=await this[_0xf498a(0x15c)]['groupMetadata'](_0x2f68a2[_0xf498a(0x4d3)]),_0x184c18=[];try{_0x184c18=await this[_0xf498a(0x15c)][_0xf498a(0x2f8)](_0x2f68a2[_0xf498a(0x4d3)]);}catch(_0x444fcf){this['logger'][_0xf498a(0x477)](this['instanceName']+'\x20('+this['instance'][_0xf498a(0x243)]+_0xf498a(0x48b)+_0x2f68a2[_0xf498a(0x4d3)]+':\x20'+(_0x444fcf instanceof Error?_0x444fcf[_0xf498a(0x210)]:JSON['stringify'](_0x444fcf,null,0x2)));}let _0x4ef404=null;try{_0x4ef404=(await this[_0xf498a(0x75e)](_0x2f68a2[_0xf498a(0x4d3)],null,!0x0))[_0xf498a(0x37a)][_0xf498a(0x7e3)];}catch(_0x3c3778){this[_0xf498a(0x4b0)][_0xf498a(0x477)](this['instanceName']+'\x20('+this[_0xf498a(0x466)]['wuid']+_0xf498a(0x358)+_0x2f68a2[_0xf498a(0x4d3)]+':\x20'+(_0x3c3778 instanceof Error?_0x3c3778[_0xf498a(0x210)]:JSON[_0xf498a(0x7c7)](_0x3c3778,null,0x2)));}let _0x3677f5=_0x1a0284['participants']['map'](_0x368c7d=>_0x368c7d['id']),_0x5798a9=_0x184c18[_0xf498a(0x360)](_0x36df13=>_0x36df13[_0xf498a(0x27e)]),_0x2975be=await this[_0xf498a(0x162)][_0xf498a(0x45c)]['findManyByIds']([..._0x3677f5,..._0x5798a9]),_0x58557c=_0x1a0284[_0xf498a(0x3a4)][_0xf498a(0x360)](_0x3e049f=>{const _0x8b34a8=_0xf498a;let _0x573f57=_0x2975be[_0x8b34a8(0x701)](_0x387d00=>_0x387d00[_0x8b34a8(0x408)]===_0x3e049f['id']);return{'id':_0x3e049f['id'],'status':_0x3e049f[_0x8b34a8(0x296)]?_0x3e049f[_0x8b34a8(0x296)]:'normal','pushName':_0x573f57?.[_0x8b34a8(0x6f5)],'profilePictureUrl':_0x573f57?.['pictureUrl']};}),_0xa7a327=_0x184c18[_0xf498a(0x360)](_0x3b41bf=>{const _0x1c1526=_0xf498a;let _0x4033e6=_0x2975be[_0x1c1526(0x701)](_0x2ed602=>_0x2ed602[_0x1c1526(0x408)]===_0x3b41bf[_0x1c1526(0x27e)]);return{'id':_0x3b41bf['jid'],'status':'awaitingApproval','pushName':_0x4033e6?.['name'],'profilePictureUrl':_0x4033e6?.[_0x1c1526(0x7e3)],'request_method':_0x3b41bf[_0x1c1526(0x6d5)],'request_time':_0x3b41bf[_0x1c1526(0x7fd)]};}),_0x1eaa38=[..._0x58557c,..._0xa7a327];_0x1a0284['participants']=_0x1eaa38;let _0x313577=await this['repository'][_0xf498a(0x6cc)][_0xf498a(0x38e)]({'where':{'_id':_0x2f68a2['groupJid']}},{'imagechat':_0x4ef404,'name':_0x1a0284[_0xf498a(0x4af)],'group_size':_0x1a0284['size'],'group_announce':_0x1a0284[_0xf498a(0x71d)],'group_isCommunity':_0x1a0284[_0xf498a(0x584)],'lastcache':Date[_0xf498a(0x458)]()},this['instance']['wuid']);return _0x313577&&U(this[_0xf498a(0x7ed)],_0xf498a(0x4bd),{'chat':_0x313577}),{'metadata':_0x1a0284,'image':_0x4ef404};}catch(_0x33aa91){if(_0x550b53===_0xf498a(0x385))return;throw new L('Error\x20fetching\x20group',_0x33aa91[_0xf498a(0x618)]());}}async[a0_0x2aa7ab(0x6f3)](){const _0x1a90dd=a0_0x2aa7ab;try{let _0x1da08f=await this[_0x1a90dd(0x15c)][_0x1a90dd(0x1b1)](),_0x1354a5=Object[_0x1a90dd(0x183)](_0x1da08f)[_0x1a90dd(0x537)](_0x51d546=>(0x0,m['isJidGroup'])(_0x51d546?.['id']))[_0x1a90dd(0x360)](async _0x58e979=>{const _0x95b722=_0x1a90dd;try{let _0x4689ff=await this[_0x95b722(0x15c)][_0x95b722(0x36d)](_0x58e979['id'],_0x95b722(0x27c)),_0x550c96=await this['findAndUpdateCacheContact'](_0x58e979['id'],_0x58e979[_0x95b722(0x4af)],!0x1),_0x4392d5=_0x550c96[_0x95b722(0x37a)]['pictureUrl'],_0x1e0daa={'groupJid':_0x58e979?.['id'],'subject':_0x58e979?.[_0x95b722(0x4af)],'subjectOwner':_0x58e979?.[_0x95b722(0x1af)]?.['split']('@')[0x0],'subjectTime':_0x58e979?.[_0x95b722(0x49a)],'size':_0x58e979?.[_0x95b722(0x3a4)]?.[_0x95b722(0x57b)],'owner':_0x58e979?.['owner']?.[_0x95b722(0x3fa)]('@')[0x0],'creation':_0x58e979?.['creation'],'desc':_0x58e979?.['desc'],'restrict':_0x58e979?.[_0x95b722(0x231)],'announce':_0x58e979?.[_0x95b722(0x71d)],'image':_0x4392d5,'isCommunity':_0x58e979?.[_0x95b722(0x584)],'joinApprovalMode':_0x58e979?.[_0x95b722(0x2bf)],'memberCanAddParticipant':_0x58e979?.[_0x95b722(0x376)]},_0x5b43c8=await this[_0x95b722(0x162)][_0x95b722(0x6cc)][_0x95b722(0x38e)]({'where':{'_id':_0x58e979?.['id']}},{'imagechat':_0x550c96['cachedContact'][_0x95b722(0x7e3)],'name':_0x58e979?.['subject'],'group_size':_0x58e979?.['size'],'group_announce':_0x58e979?.[_0x95b722(0x71d)],'group_isCommunity':_0x58e979?.[_0x95b722(0x584)],'lastcache':Date[_0x95b722(0x458)]()},this['instance'][_0x95b722(0x243)]);return _0x5b43c8&&U(this[_0x95b722(0x7ed)],_0x95b722(0x4bd),{'chat':_0x5b43c8}),_0x1e0daa;}catch(_0x1eb58c){return this[_0x95b722(0x4b0)][_0x95b722(0x477)](this[_0x95b722(0x7ed)]+'\x20('+this[_0x95b722(0x466)]['wuid']+_0x95b722(0x59d)+_0x58e979['id']+':\x20'+(_0x1eb58c instanceof Error?_0x1eb58c[_0x95b722(0x210)]:JSON[_0x95b722(0x7c7)](_0x1eb58c,null,0x2))),null;}}),_0xc7ce2d=(await Promise[_0x1a90dd(0x513)](_0x1354a5))['filter'](_0x1ecfb6=>_0x1ecfb6!==null);return console[_0x1a90dd(0x357)](_0xc7ce2d[_0x1a90dd(0x57b)]+'\x20chats\x20foram\x20atualizados.'),_0xc7ce2d;}catch(_0x17e3d8){throw new L('Error\x20fetching\x20group',_0x17e3d8['toString']());}}async[a0_0x2aa7ab(0x488)](){const _0x252367=a0_0x2aa7ab;try{let _0x4e2fb1=[],_0x10166b=await this[_0x252367(0x15c)][_0x252367(0x1b1)](),_0x1eb49a=Object[_0x252367(0x183)](_0x10166b),_0x33dd76=_0x1eb49a['filter'](_0x5b577d=>(0x0,m[_0x252367(0x588)])(_0x5b577d?.['id']))[_0x252367(0x360)](async _0x1ae965=>{const _0x4caabc=_0x252367;try{return await this[_0x4caabc(0x15c)][_0x4caabc(0x36d)](_0x1ae965['id'],_0x4caabc(0x27c));}catch(_0xddfa57){return this[_0x4caabc(0x4b0)][_0x4caabc(0x477)](this['instanceName']+'\x20('+this[_0x4caabc(0x466)][_0x4caabc(0x243)]+_0x4caabc(0x358)+_0x1ae965['id']+':\x20'+(_0xddfa57 instanceof Error?_0xddfa57[_0x4caabc(0x210)]:JSON[_0x4caabc(0x7c7)](_0xddfa57,null,0x2))),null;}}),_0x568644=await Promise[_0x252367(0x513)](_0x33dd76);for(let _0x19a1de=0x0;_0x19a1de<_0x1eb49a['length'];_0x19a1de++){let _0x58638=_0x1eb49a[_0x19a1de];if((0x0,m[_0x252367(0x588)])(_0x58638?.['id'])){_0x4e2fb1[_0x252367(0x31c)]({'groupJid':_0x58638?.['id'],'subject':_0x58638?.['subject'],'subjectOwner':_0x58638?.[_0x252367(0x1af)]?.[_0x252367(0x3fa)]('@')[0x0],'subjectTime':_0x58638?.[_0x252367(0x49a)],'size':_0x58638?.[_0x252367(0x3a4)]?.[_0x252367(0x57b)],'owner':_0x58638?.['owner']?.['split']('@')[0x0],'creation':_0x58638?.[_0x252367(0x2af)],'desc':_0x58638?.[_0x252367(0x497)],'restrict':_0x58638?.['restrict'],'announce':_0x58638?.['announce'],'image':_0x568644[_0x19a1de],'isCommunity':_0x58638?.['isCommunity'],'joinApprovalMode':_0x58638?.['joinApprovalMode'],'memberCanAddParticipant':_0x58638?.[_0x252367(0x376)]});let _0x4e5fa5=await this['repository']['chat']['updateOne']({'where':{'_id':_0x58638?.['id']}},{'imagechat':_0x568644[_0x19a1de],'name':_0x58638?.['subject'],'group_size':_0x58638?.[_0x252367(0x1df)],'group_announce':_0x58638?.[_0x252367(0x71d)],'group_isCommunity':_0x58638?.[_0x252367(0x584)],'lastcache':Date[_0x252367(0x458)]()},this[_0x252367(0x466)][_0x252367(0x243)]);_0x4e5fa5&&U(this[_0x252367(0x7ed)],_0x252367(0x4bd),{'chat':_0x4e5fa5});}}return _0x4e2fb1;}catch(_0x2540bd){throw new L(_0x252367(0x17b),_0x2540bd[_0x252367(0x618)]());}}async['inviteCode'](_0x45096c){const _0x22c3bd=a0_0x2aa7ab;try{let _0x53cf32=await this[_0x22c3bd(0x15c)][_0x22c3bd(0x17e)](_0x45096c[_0x22c3bd(0x4d3)]);return{'inviteUrl':'https://chat.whatsapp.com/'+_0x53cf32,'inviteCode':_0x53cf32};}catch(_0x118fb6){throw new L('No\x20invite\x20code',_0x118fb6[_0x22c3bd(0x618)]());}}async['revokeInviteCode'](_0x3ddc8a){const _0x286881=a0_0x2aa7ab;try{let _0x8e0ebc=await this[_0x286881(0x15c)][_0x286881(0x654)](_0x3ddc8a[_0x286881(0x4d3)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0x8e0ebc,'inviteCode':_0x8e0ebc};}catch(_0x4e9067){throw new L('Revoke\x20error',_0x4e9067[_0x286881(0x618)]());}}async[a0_0x2aa7ab(0x7e5)](_0x4df540){const _0x2f04b6=a0_0x2aa7ab;try{if((0x0,P[_0x2f04b6(0x4e8)])(_0x4df540[_0x2f04b6(0x367)]))var _0x54dfbb=_0x4df540['inviteCode'][_0x2f04b6(0x3fa)]('/')[0x3];else var _0x54dfbb=_0x4df540['inviteCode'];let _0x4965ba=await this[_0x2f04b6(0x15c)]['groupAcceptInvite'](_0x54dfbb);return this[_0x2f04b6(0x4b0)][_0x2f04b6(0x477)](this[_0x2f04b6(0x7ed)]+'\x20('+this[_0x2f04b6(0x466)][_0x2f04b6(0x243)]+_0x2f04b6(0x544)+_0x4965ba),{'join':!0x0,'inviteCode':_0x54dfbb,'groupJid':_0x4965ba};}catch(_0x33a34d){throw new L(_0x2f04b6(0x44b),_0x33a34d[_0x2f04b6(0x618)]());}}async[a0_0x2aa7ab(0x568)](_0x308215){const _0x39888c=a0_0x2aa7ab;try{return{'participants':(await this['client']['groupMetadata'](_0x308215[_0x39888c(0x4d3)]))[_0x39888c(0x3a4)]};}catch(_0x1fe5f6){throw new L(_0x39888c(0x179),_0x1fe5f6[_0x39888c(0x618)]());}}async[a0_0x2aa7ab(0x569)](_0x23b31f){const _0x4341ce=a0_0x2aa7ab;try{return await this['client']['groupLeave'](_0x23b31f[_0x4341ce(0x4d3)]),{'groupJid':_0x23b31f[_0x4341ce(0x4d3)],'leave':!0x0};}catch(_0x1e2490){throw new w('Unable\x20to\x20leave\x20the\x20group',_0x1e2490[_0x4341ce(0x618)]());}}async['pollMessage'](_0x2ce8b7){const _0x5b1199=a0_0x2aa7ab;return await this['sendMessageWithTyping'](_0x2ce8b7[_0x5b1199(0x7fa)],{'poll':{'name':_0x2ce8b7[_0x5b1199(0x23a)]?.['name'],'selectableCount':_0x2ce8b7['pollMessage']['selectableCount'],'values':_0x2ce8b7[_0x5b1199(0x23a)]['values']}},_0x2ce8b7?.[_0x5b1199(0x18f)]);}async[a0_0x2aa7ab(0x54f)](_0x37f0ee){const _0x3dc2fb=a0_0x2aa7ab;return await this[_0x3dc2fb(0x492)](_0x37f0ee[_0x3dc2fb(0x7fa)],{'listMessage':{'title':_0x37f0ee[_0x3dc2fb(0x54f)][_0x3dc2fb(0x448)],'description':_0x37f0ee[_0x3dc2fb(0x54f)][_0x3dc2fb(0x741)],'buttonText':_0x37f0ee['listMessage']?.['buttonText'],'footerText':_0x37f0ee['listMessage']?.[_0x3dc2fb(0x16d)],'sections':_0x37f0ee['listMessage'][_0x3dc2fb(0x765)],'listType':0x2}},_0x37f0ee?.[_0x3dc2fb(0x18f)]);}async['menuMessage'](_0x3e287e){const _0x102306=a0_0x2aa7ab;let _0x152b7f;if(_0x3e287e[_0x102306(0x75c)]['type']==='list'){let _0x2498e4=_0x3e287e[_0x102306(0x75c)][_0x102306(0x309)][_0x102306(0x759)]('\x0a'),_0x42c322='',_0x5322fb='';_0x2498e4!==-0x1?(_0x42c322=_0x3e287e['menuMessage'][_0x102306(0x309)][_0x102306(0x81a)](0x0,_0x2498e4)[_0x102306(0x382)](),_0x5322fb=_0x3e287e[_0x102306(0x75c)][_0x102306(0x309)][_0x102306(0x81a)](_0x2498e4+0x1)):_0x5322fb=_0x3e287e[_0x102306(0x75c)][_0x102306(0x309)];let _0x5a1756=_0x3e287e[_0x102306(0x75c)][_0x102306(0x1b8)][_0x102306(0x537)](_0x10241b=>_0x10241b[_0x102306(0x382)]()!==''),_0x16d18e=this['createSectionsFromValues'](_0x5a1756);_0x152b7f={'listMessage':{'title':_0x42c322,'description':_0x5322fb,'buttonText':_0x3e287e[_0x102306(0x75c)][_0x102306(0x6a2)]||'Selecione','footerText':_0x3e287e[_0x102306(0x75c)][_0x102306(0x16d)],'sections':_0x16d18e,'listType':0x2}};}else{if(_0x3e287e[_0x102306(0x75c)][_0x102306(0x793)]==='poll'){let _0x4eb49e=_0x3e287e['menuMessage'][_0x102306(0x1b8)][_0x102306(0x537)](_0x1b42c8=>!(_0x1b42c8[_0x102306(0x56a)]('[')&&_0x1b42c8['endsWith'](']'))&&_0x1b42c8[_0x102306(0x382)]()!=='')[_0x102306(0x360)](_0x1264a5=>_0x1264a5[_0x102306(0x3fa)]('\x0a')[0x0]);_0x152b7f={'poll':{'name':_0x3e287e['menuMessage']['text'],'selectableCount':_0x3e287e[_0x102306(0x75c)]['selectableCount']||0x1,'values':_0x4eb49e}};}}return await this[_0x102306(0x492)](_0x3e287e[_0x102306(0x7fa)],_0x152b7f,_0x3e287e?.[_0x102306(0x18f)]);}[a0_0x2aa7ab(0x585)](_0x44d352){const _0x31735e=a0_0x2aa7ab;let _0x28d80e=[],_0x131521={'rows':[]};return _0x44d352[_0x31735e(0x53a)](_0x3bba37=>{const _0x39b5af=_0x31735e;if(_0x3bba37[_0x39b5af(0x56a)]('[')&&_0x3bba37[_0x39b5af(0x7bf)](']'))_0x131521[_0x39b5af(0x670)][_0x39b5af(0x57b)]>0x0&&_0x28d80e[_0x39b5af(0x31c)](_0x131521),_0x131521={'title':_0x3bba37[_0x39b5af(0x164)](0x1,-0x1),'rows':[]};else{let _0x2aab55=_0x3bba37['split']('\x0a')[_0x39b5af(0x360)](_0x53d84b=>_0x53d84b[_0x39b5af(0x382)]()),_0x608e49=_0x2aab55[0x0],_0x3dccc0=_0x2aab55[0x1]||null,_0xb428ed=_0x2aab55[0x2]||_0x608e49;_0x131521['rows'][_0x39b5af(0x31c)]({'title':_0x608e49,'description':_0x3dccc0,'rowId':_0xb428ed});}}),_0x131521[_0x31735e(0x670)][_0x31735e(0x57b)]>0x0&&_0x28d80e[_0x31735e(0x31c)](_0x131521),_0x28d80e;}async['updateMessage'](_0x2d1b91,_0x5ea711){const _0xf20db0=a0_0x2aa7ab;if(await this[_0xf20db0(0x650)](_0x2d1b91,!0x0)){let _0x555c9b={'where':{'_id':_0x2d1b91['id']}},_0x3fcf36={'status':[_0x5ea711[_0xf20db0(0x540)]][0x0]};try{let _0x33de6a=await this[_0xf20db0(0x162)][_0xf20db0(0x210)]['update'](_0x555c9b,_0x3fcf36,this[_0xf20db0(0x466)][_0xf20db0(0x243)]);_0x33de6a&&U(this[_0xf20db0(0x7ed)],_0xf20db0(0x605),{'message':_0x33de6a});}catch{}}}[a0_0x2aa7ab(0x28b)](_0x116c92){const _0x55b7f9=a0_0x2aa7ab;let _0x30bcca=[];return _0x116c92['forEach'](_0x467d6a=>{const _0x40f071=a0_0x4fa0;_0x467d6a[_0x40f071(0x448)]&&_0x30bcca[_0x40f071(0x31c)]('['+_0x467d6a[_0x40f071(0x448)]+']'),_0x467d6a['rows']['forEach'](_0x2b9324=>{const _0x406939=_0x40f071;_0x30bcca[_0x406939(0x31c)](_0x2b9324[_0x406939(0x448)]);});}),_0x30bcca[_0x55b7f9(0x1a2)]('|');}[a0_0x2aa7ab(0x5dd)](_0x97e936){const _0x1b7287=a0_0x2aa7ab;let _0x144962=_0x97e936[_0x1b7287(0x73a)](/\\n/g,'\x0a')[_0x1b7287(0x3fa)]('\x0a')[_0x1b7287(0x537)](_0x504f52=>_0x504f52['includes']('TEL')||_0x504f52[_0x1b7287(0x323)](_0x1b7287(0x35a))),_0x25351d='';return _0x144962['forEach'](_0x3d714c=>{const _0xf4d9cd=_0x1b7287;let _0x114fd7=/TEL(?:.*):(.+)/,_0xfc5593=/EMAIL(?:.*):(.+)/,_0x5cc5e8=_0x3d714c[_0xf4d9cd(0x377)](_0x114fd7),_0x15f278=_0x3d714c[_0xf4d9cd(0x377)](_0xfc5593);if(_0x5cc5e8){let _0x33dd2c=_0x5cc5e8[0x1]['replace'](/-| |\+|\(|\)/g,'')[_0xf4d9cd(0x382)]();_0x25351d+=_0xf4d9cd(0x7cc)+_0x33dd2c+'\x0a';}else{if(_0x15f278){let _0x520af6=_0x15f278[0x1][_0xf4d9cd(0x382)]();_0x25351d+=_0xf4d9cd(0x280)+_0x520af6+'\x0a';}}}),_0x25351d[_0x1b7287(0x382)]();}async['updateChatWithMessage'](_0x2cef78,_0x4154c0,_0x5e1011){const _0x504f12=a0_0x2aa7ab;if(!_0x2cef78[_0x504f12(0x2a2)])return;let _0x2ca904=_0x4154c0[_0x504f12(0x50e)][_0x504f12(0x39b)]['replace'](/:\d{1,2}@/g,'@'),_0x6e46af=_0x4154c0[_0x504f12(0x50e)][_0x504f12(0x299)],_0x4e5c3c=_0x2ca904[_0x504f12(0x7bf)](_0x504f12(0x1d3)),_0x4323a4=_0x4154c0[_0x504f12(0x782)]?.['text']||_0x4154c0[_0x504f12(0x782)]?.['caption']||_0x4154c0[_0x504f12(0x782)]?.[_0x504f12(0x579)]||_0x4154c0[_0x504f12(0x782)]?.[_0x504f12(0x6f5)],_0x3c252b={'lastmsg':_0x4154c0[_0x504f12(0x693)]||Date[_0x504f12(0x458)](),'unreadcount':_0x6e46af?0x0:0x1,..._0x6e46af||_0x4e5c3c?{}:{'name':_0x4154c0[_0x504f12(0x4c9)]},..._0x4e5c3c?{'group':_0x4e5c3c}:{},...!_0x6e46af&&!_0x4e5c3c&&_0x4154c0[_0x504f12(0x36d)]?{'imagechat':_0x4154c0['profilePictureUrl']}:{}},_0x4de36e=await this[_0x504f12(0x162)][_0x504f12(0x6cc)][_0x504f12(0x38e)]({'where':{'_id':_0x2ca904}},_0x3c252b,this[_0x504f12(0x466)][_0x504f12(0x243)],{'new':!0x0,'upsert':!0x0});if(_0x4de36e[_0x504f12(0x79d)]){let _0x7cd01b=await this[_0x504f12(0x162)][_0x504f12(0x3ab)]['find']({'where':{}},this[_0x504f12(0x466)]['wuid']),_0x32b20c=new Set(_0x7cd01b['map'](_0x909660=>_0x909660[_0x504f12(0x408)])),_0x2ef81d=(_0x4de36e[_0x504f12(0x5aa)]?.[_0x504f12(0x2ef)]||[])[_0x504f12(0x537)](_0x3a3ed0=>_0x32b20c[_0x504f12(0x4d1)](_0x3a3ed0)),_0x3783e1={'leadInfo.etiquetas':_0x2ef81d,'imported':!0x1};_0x4de36e=await this['repository'][_0x504f12(0x6cc)][_0x504f12(0x38e)]({'where':{'_id':_0x2ca904}},_0x3783e1,this[_0x504f12(0x466)][_0x504f12(0x243)]);for(let _0x2423f4 of _0x2ef81d)await this[_0x504f12(0x5d9)](_0x2423f4,_0x2ca904);}if(!_0x4e5c3c&&(!_0x4de36e?.['leadInfo']||!_0x4de36e[_0x504f12(0x5aa)]['nome'])&&_0x4154c0[_0x504f12(0x4c9)]&&!_0x6e46af&&(_0x4de36e=await this['repository'][_0x504f12(0x6cc)]['updateOne']({'where':{'_id':_0x2ca904}},{'leadInfo.nome':_0x4154c0[_0x504f12(0x4c9)]},this[_0x504f12(0x466)][_0x504f12(0x243)],{'new':!0x0,'upsert':!0x0})),_0x5e1011==='MESSAGES_UPSERT'&&_0x6e46af&&this['AutomateSystem']?.['flowConfig'][_0x504f12(0x3af)]&&!_0x4323a4['startsWith'](this['AutomateSystem']?.[_0x504f12(0x3cd)][_0x504f12(0x2bb)])){let _0x31197c=(this[_0x504f12(0x59f)]?.['flowConfig']['stopWhenYouSendMsg']||0x5)*0xea60,_0x216ee5=Date[_0x504f12(0x458)]()+_0x31197c;_0x4de36e?.['leadInfo']?.[_0x504f12(0x227)]===0x0||(await this[_0x504f12(0x162)][_0x504f12(0x6cc)][_0x504f12(0x38e)]({'where':{'_id':_0x2ca904}},{'leadInfo.desativadoFluxoAte':_0x216ee5},this['instance'][_0x504f12(0x243)],{'new':!0x0,'upsert':!0x1}),this[_0x504f12(0x4b0)][_0x504f12(0x477)](this['instanceName']+'\x20('+this[_0x504f12(0x466)]['wuid']+_0x504f12(0x7c0)+_0x216ee5+'.'));}if(_0x4de36e)U(this['instanceName'],_0x504f12(0x4bd),{'chat':_0x4de36e});else{this[_0x504f12(0x4b0)][_0x504f12(0x7e7)](this[_0x504f12(0x7ed)]+'\x20('+this['instance'][_0x504f12(0x243)]+_0x504f12(0x70c));return;}if(!this['AutomateSystem']?.['flowConfig'][_0x504f12(0x3af)])return this['logger']['verbose'](this[_0x504f12(0x7ed)]+'\x20('+this[_0x504f12(0x466)]['wuid']+_0x504f12(0x2ae)),null;if(_0x4de36e['_id'][_0x504f12(0x323)](_0x504f12(0x1d3))&&this[_0x504f12(0x59f)]?.[_0x504f12(0x3cd)][_0x504f12(0x589)]===!0x0)return this[_0x504f12(0x4b0)][_0x504f12(0x477)](this['instanceName']+'\x20('+this['instance'][_0x504f12(0x243)]+'):\x20Ignoring\x20group\x20messages.'),null;if(_0x4de36e[_0x504f12(0x5aa)]){if(_0x4de36e[_0x504f12(0x5aa)][_0x504f12(0x227)]===0x0||_0x4de36e[_0x504f12(0x5aa)][_0x504f12(0x4c5)])return this['logger'][_0x504f12(0x477)](this[_0x504f12(0x7ed)]+'\x20('+this[_0x504f12(0x466)][_0x504f12(0x243)]+_0x504f12(0x442)+_0x2ca904+',\x20saindo.'),null;if(_0x4de36e['leadInfo'][_0x504f12(0x227)]>Date[_0x504f12(0x458)]()&&!_0x4154c0[_0x504f12(0x782)]?.[_0x504f12(0x579)])return this[_0x504f12(0x4b0)][_0x504f12(0x477)](this[_0x504f12(0x7ed)]+'\x20('+this[_0x504f12(0x466)][_0x504f12(0x243)]+_0x504f12(0x1e5)+new Date(_0x4de36e[_0x504f12(0x5aa)][_0x504f12(0x227)])[_0x504f12(0x434)]()+_0x504f12(0x60e)),null;}this[_0x504f12(0x4b0)][_0x504f12(0x477)](this['instanceName']+'\x20('+this[_0x504f12(0x466)][_0x504f12(0x243)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this[_0x504f12(0x483)](_0x5e1011,_0x4154c0);}async[a0_0x2aa7ab(0x7d0)](_0x20d3b4,_0x21788d){const _0x2a7257=a0_0x2aa7ab;if(_0x21788d[_0x2a7257(0x2a2)]){let _0x2ee818=_0x20d3b4['map'](async _0x4af487=>{const _0x456791=_0x2a7257;try{let _0x1e95c4={'_id':_0x4af487[_0x456791(0x408)],'owner':_0x4af487[_0x456791(0x32e)],'lastcache':0x0};if(_0x4af487['group']!==null&&(_0x1e95c4['group']=_0x4af487[_0x456791(0x3a5)]),_0x4af487[_0x456791(0x6f5)]!==null&&(_0x1e95c4['name']=_0x4af487[_0x456791(0x6f5)]),_0x4af487[_0x456791(0x80c)]!==null&&(_0x1e95c4[_0x456791(0x80c)]=_0x4af487[_0x456791(0x80c)]),_0x4af487[_0x456791(0x380)]!==null&&(_0x1e95c4['imagechat']=_0x4af487['imagechat']),_0x4af487['imagechat']===null&&(_0x1e95c4[_0x456791(0x380)]=_0x456791(0x7c8)),_0x4af487['lastmsg']!==null&&(_0x1e95c4[_0x456791(0x239)]=_0x4af487[_0x456791(0x239)]),_0x4af487[_0x456791(0x3ef)]!==null&&(_0x1e95c4[_0x456791(0x3ef)]=_0x4af487[_0x456791(0x3ef)]),_0x4af487['unreadcount']!==null&&(_0x1e95c4[_0x456791(0x570)]=_0x4af487[_0x456791(0x570)]),Object[_0x456791(0x717)](_0x1e95c4)[_0x456791(0x57b)]>0x0)return await this['repository'][_0x456791(0x6cc)][_0x456791(0x38e)]({'where':{'_id':_0x4af487['_id']}},_0x1e95c4,this[_0x456791(0x466)]['wuid']);}catch(_0x2f575c){return console[_0x456791(0x7e7)](_0x456791(0x170)+_0x4af487[_0x456791(0x408)]+':',_0x2f575c),null;}}),_0x5105c8=(await Promise[_0x2a7257(0x513)](_0x2ee818))[_0x2a7257(0x537)](_0x1e7dd5=>_0x1e7dd5!==null)[_0x2a7257(0x57b)];this[_0x2a7257(0x4b0)][_0x2a7257(0x477)](this[_0x2a7257(0x7ed)]+'\x20('+this['instance'][_0x2a7257(0x243)]+_0x2a7257(0x544)+_0x5105c8+_0x2a7257(0x1ad)+this[_0x2a7257(0x466)][_0x2a7257(0x243)]+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0x2aa7ab(0x545)](_0x544443){const _0x7a719a=a0_0x2aa7ab;this[_0x7a719a(0x4b0)][_0x7a719a(0x477)](this[_0x7a719a(0x7ed)]+'\x20('+this['instance'][_0x7a719a(0x243)]+_0x7a719a(0x789));let _0x47a1c0={'readMessages':[{'remoteJid':_0x544443['chatLog'][_0x7a719a(0x4fd)]['key'][_0x7a719a(0x39b)],'fromMe':_0x544443['chatLog'][_0x7a719a(0x4fd)][_0x7a719a(0x50e)][_0x7a719a(0x299)],'id':_0x544443[_0x7a719a(0x53f)][_0x7a719a(0x4fd)][_0x7a719a(0x50e)]['id']}]};await this[_0x7a719a(0x240)](_0x47a1c0);}async[a0_0x2aa7ab(0x483)](_0x11a218,_0x5d7d53){const _0x18eecb=a0_0x2aa7ab;try{let {key:_0x17a986,message_normalized:_0x2a1d7c}=_0x5d7d53,_0xc3c1e=_0x2a1d7c,_0x1c06b9=_0x2a1d7c[_0x18eecb(0x309)]||_0x2a1d7c[_0x18eecb(0x307)]||_0x2a1d7c[_0x18eecb(0x579)]||_0x2a1d7c[_0x18eecb(0x6f5)],_0x110d55=_0x17a986[_0x18eecb(0x39b)],_0x155411;if(_0xc3c1e['key'][_0x18eecb(0x299)]&&_0x1c06b9[_0x18eecb(0x382)]()!==this[_0x18eecb(0x59f)]?.[_0x18eecb(0x3cd)][_0x18eecb(0x40d)][_0x18eecb(0x382)]())return this[_0x18eecb(0x4b0)]['verbose'](this[_0x18eecb(0x7ed)]+'\x20('+this[_0x18eecb(0x466)][_0x18eecb(0x243)]+_0x18eecb(0x6fc)),null;if(_0xc3c1e['key'][_0x18eecb(0x299)]&&_0x1c06b9[_0x18eecb(0x382)]()===this[_0x18eecb(0x59f)]?.[_0x18eecb(0x3cd)][_0x18eecb(0x40d)][_0x18eecb(0x382)]()){this[_0x18eecb(0x4b0)][_0x18eecb(0x477)](this[_0x18eecb(0x7ed)]+'\x20('+this[_0x18eecb(0x466)][_0x18eecb(0x243)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo');let _0x1521c0=await this[_0x18eecb(0x162)][_0x18eecb(0x521)][_0x18eecb(0x701)]({'remoteJid':_0x110d55,'status':'open'},this[_0x18eecb(0x466)][_0x18eecb(0x243)]);this[_0x18eecb(0x4b0)][_0x18eecb(0x477)](this[_0x18eecb(0x7ed)]+'\x20('+this[_0x18eecb(0x466)]['wuid']+_0x18eecb(0x1f7)+_0x1521c0);let _0x441575=Date[_0x18eecb(0x458)](),_0x277d4d;return this[_0x18eecb(0x59f)]?.[_0x18eecb(0x3cd)][_0x18eecb(0x373)]===0x0?_0x277d4d={'stoppedUntil':_0x441575+0x7591f6200}:_0x277d4d={'stoppedUntil':_0x441575+this[_0x18eecb(0x59f)]?.['flowConfig'][_0x18eecb(0x373)]*0x3c*0x3e8},this[_0x18eecb(0x4b0)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x18eecb(0x243)]+_0x18eecb(0x268)+_0x277d4d),this['updateStopChat'](_0x155411,_0x277d4d[_0x18eecb(0x3b1)]),null;}if(_0x1c06b9&&_0x1c06b9[_0x18eecb(0x56a)](this[_0x18eecb(0x59f)]?.[_0x18eecb(0x3cd)]['prefixCommand'])&&_0x1c06b9['length']>0x4){let _0x4b6f9e=await this[_0x18eecb(0x162)]['flow']['findOne']({'where':{'startCommandWord':_0x1c06b9}},this['instance'][_0x18eecb(0x243)]);if(this[_0x18eecb(0x4b0)][_0x18eecb(0x477)](this[_0x18eecb(0x7ed)]+'\x20('+this['instance'][_0x18eecb(0x243)]+_0x18eecb(0x2f0)),_0x4b6f9e)_0x155411=await this['createNewConversation'](_0x4b6f9e,_0xc3c1e[_0x18eecb(0x50e)],_0xc3c1e);else return this[_0x18eecb(0x4b0)]['verbose'](this[_0x18eecb(0x7ed)]+'\x20('+this[_0x18eecb(0x466)][_0x18eecb(0x243)]+_0x18eecb(0x29a)),null;}else _0x155411=await this[_0x18eecb(0x1ab)](_0x110d55,_0xc3c1e);if(_0x155411){this[_0x18eecb(0x4b0)]['verbose'](this[_0x18eecb(0x7ed)]+'\x20('+this[_0x18eecb(0x466)][_0x18eecb(0x243)]+_0x18eecb(0x690)),!_0x17a986[_0x18eecb(0x299)]&&_0x155411[_0x18eecb(0x5fd)]&&this['readMessageBot'](_0x155411);let _0x2ee325=await this[_0x18eecb(0x501)](_0x155411);_0x2ee325&&await this[_0x18eecb(0x77e)](_0x155411,_0x2ee325);}}catch(_0x54d9f4){this[_0x18eecb(0x4b0)][_0x18eecb(0x7e7)](this[_0x18eecb(0x7ed)]+'\x20('+this[_0x18eecb(0x466)][_0x18eecb(0x243)]+_0x18eecb(0x6b8)+(_0x54d9f4 instanceof Error?_0x54d9f4['message']:JSON[_0x18eecb(0x7c7)](_0x54d9f4,null,0x2)));}}[a0_0x2aa7ab(0x173)](_0x71184e,_0x49ba92='',_0x51ceee={},_0x13d642=!0x0){const _0x22fad8=a0_0x2aa7ab;for(let _0x226216 in _0x71184e){let _0x268757=_0x13d642?'_'+_0x226216:''+_0x49ba92+_0x226216;typeof _0x71184e[_0x226216]==_0x22fad8(0x76d)&&_0x71184e[_0x226216]!==null?this[_0x22fad8(0x173)](_0x71184e[_0x226216],_0x268757+'.',_0x51ceee,!0x1):_0x51ceee[_0x268757]=String(_0x71184e[_0x226216]);}return _0x51ceee;}[a0_0x2aa7ab(0x1d2)](_0x24681f){const _0x12f5a0=a0_0x2aa7ab;let _0x56479e={};for(let _0xe1d88 of _0x24681f)typeof _0xe1d88[_0x12f5a0(0x6f5)]==_0x12f5a0(0x626)&&typeof _0xe1d88['value']==_0x12f5a0(0x626)&&(_0x56479e[_0xe1d88[_0x12f5a0(0x6f5)]]=_0xe1d88[_0x12f5a0(0x276)]);return _0x56479e;}async[a0_0x2aa7ab(0x501)](_0x1fcd31){const _0x1a7e99=a0_0x2aa7ab;if(!this[_0x1a7e99(0x59f)]?.[_0x1a7e99(0x3cd)][_0x1a7e99(0x3af)]||_0x1fcd31[_0x1a7e99(0x540)]!==_0x1a7e99(0x1e7)&&_0x1fcd31[_0x1a7e99(0x1a0)]==='')return null;let _0x14cdce=_0x1fcd31['chatLog']['lastBlockId']||_0x1a7e99(0x774);typeof _0x1fcd31['chatLog']['lastCondition']>'u'&&(_0x1fcd31[_0x1a7e99(0x53f)][_0x1a7e99(0x3f6)]=!0x0);let _0xfd77cc=_0x1fcd31[_0x1a7e99(0x53f)][_0x1a7e99(0x3f6)];this['logger']['verbose'](this[_0x1a7e99(0x7ed)]+'\x20('+this[_0x1a7e99(0x466)][_0x1a7e99(0x243)]+_0x1a7e99(0x175)+_0x14cdce+_0x1a7e99(0x63c)+_0xfd77cc);let _0x2f2678=_0x14cdce===_0x1a7e99(0x774)?_0x1fcd31[_0x1a7e99(0x5de)]['find'](_0x2b312=>_0x2b312['type']===_0x1a7e99(0x774)):_0x1fcd31[_0x1a7e99(0x5de)][_0x1a7e99(0x701)](_0x1284f2=>_0x1284f2[_0x1a7e99(0x408)][_0x1a7e99(0x618)]()===_0x14cdce['toString']());if(!_0x2f2678)return this['logger'][_0x1a7e99(0x7e7)](this['instanceName']+'\x20('+this[_0x1a7e99(0x466)][_0x1a7e99(0x243)]+_0x1a7e99(0x7c9)+_0x14cdce),null;let _0x592fdd={'_pushName':_0x1fcd31[_0x1a7e99(0x53f)]['lastReceivedMessage']['pushName'],..._0x1fcd31[_0x1a7e99(0x53f)]['realVariables']},_0x2950ee=null;if(_0x1fcd31[_0x1a7e99(0x1a0)]){let _0x29c3b2=_0x1fcd31['chatLog'][_0x1a7e99(0x4fd)][_0x1a7e99(0x579)],_0x310c02=_0x1fcd31['waitingMenu_replyOptions']['find'](_0x329986=>_0x329986[_0x1a7e99(0x486)]===_0x29c3b2);if(_0x310c02){let _0x479c09=_0x310c02[_0x1a7e99(0x1be)];if(_0x2950ee=_0x1fcd31[_0x1a7e99(0x5de)][_0x1a7e99(0x701)](_0x431909=>_0x431909[_0x1a7e99(0x738)]===_0x479c09&&_0x431909[_0x1a7e99(0x3c7)]===0x1),_0x2f2678['uazapi']['pollOnReplyDelete']){let _0x5a8998={'id':_0x1fcd31[_0x1a7e99(0x1a0)],'remoteJid':_0x1fcd31['remoteJid'],'fromMe':!0x0};await this['deleteMessage'](_0x5a8998);}if(_0x2f2678[_0x1a7e99(0x350)][_0x1a7e99(0x6a6)]&&_0x2f2678[_0x1a7e99(0x350)]['pollMessageOnDelete']&&_0x2f2678['uazapi'][_0x1a7e99(0x6e3)]==='poll'){let _0x2531ab={'number':_0x1fcd31[_0x1a7e99(0x39b)],'options':{'delay':0x0},'textMessage':{'text':_0x1a7e99(0x47c)+_0x1fcd31[_0x1a7e99(0x554)]+_0x1a7e99(0x50d)+_0x29c3b2}};await this[_0x1a7e99(0x7aa)](_0x2531ab);}_0x1fcd31[_0x1a7e99(0x540)]=_0x1a7e99(0x1e7),_0x1fcd31[_0x1a7e99(0x1a0)]='',_0x1fcd31[_0x1a7e99(0x554)]='',_0x1fcd31[_0x1a7e99(0x5f7)]=[];}else{this['logger'][_0x1a7e99(0x477)](this['instanceName']+'\x20('+this[_0x1a7e99(0x466)][_0x1a7e99(0x243)]+_0x1a7e99(0x344));let _0x10e375={'activatedCount':_0x1fcd31[_0x1a7e99(0x53f)]['blockLogs'][_0x1a7e99(0x537)](_0x391338=>String(_0x391338[_0x1a7e99(0x640)])===String(_0x14cdce))[_0x1a7e99(0x57b)],'moreLogs':[_0x1a7e99(0x6da)]};if(_0x2f2678[_0x1a7e99(0x350)][_0x1a7e99(0x7a7)]){let _0x582f7d={'number':_0x1fcd31[_0x1a7e99(0x39b)],'options':{'delay':0x0},'textMessage':{'text':_0x2f2678[_0x1a7e99(0x350)][_0x1a7e99(0x7a7)]}};await this[_0x1a7e99(0x7aa)](_0x582f7d);}if(_0x2f2678['maxActives']!==void 0x0&&_0x10e375[_0x1a7e99(0x74a)]>=_0x2f2678[_0x1a7e99(0x436)]){let _0x4c79c2=Date[_0x1a7e99(0x458)](),_0x120df2=_0x2f2678[_0x1a7e99(0x715)]??0xa;isNaN(_0x120df2)&&(_0x120df2=0xa);let _0x59b598=_0x4c79c2+_0x120df2*0x3c*0x3e8;_0x10e375[_0x1a7e99(0x233)]=_0x59b598,_0x10e375[_0x1a7e99(0x3bf)][_0x1a7e99(0x31c)]('Atingido\x20interações\x20máximas,\x20parando\x20fluxo'),this[_0x1a7e99(0x22a)](_0x1fcd31,_0x59b598),_0x1fcd31[_0x1a7e99(0x1a0)]='',_0x1fcd31[_0x1a7e99(0x554)]='',_0x1fcd31[_0x1a7e99(0x5f7)]=[];}return this['updateConversation'](_0x1fcd31,_0x2f2678,_0x10e375,!0x0),null;}}if(_0xfd77cc&&_0x2f2678[_0x1a7e99(0x1be)]&&!_0x1fcd31[_0x1a7e99(0x1a0)]){let _0x408768=_0x1fcd31[_0x1a7e99(0x5de)][_0x1a7e99(0x537)](_0x593b89=>_0x593b89[_0x1a7e99(0x738)]['toString']()===_0x2f2678[_0x1a7e99(0x1be)][_0x1a7e99(0x618)]())[_0x1a7e99(0x28c)]((_0x871b45,_0x518049)=>_0x871b45[_0x1a7e99(0x3c7)]-_0x518049[_0x1a7e99(0x3c7)]);_0x408768['length']>0x0&&(_0x2950ee=_0x408768[0x0]);}if(!_0x2950ee){let _0x26c173=_0x2f2678[_0x1a7e99(0x738)],_0x21b141=_0x1fcd31[_0x1a7e99(0x5de)][_0x1a7e99(0x537)](_0x532af4=>_0x532af4[_0x1a7e99(0x738)]===_0x26c173&&_0x532af4['order']>_0x2f2678['order'])[_0x1a7e99(0x28c)]((_0x3d2e1b,_0x9177c5)=>_0x3d2e1b[_0x1a7e99(0x3c7)]-_0x9177c5[_0x1a7e99(0x3c7)]);_0x21b141[_0x1a7e99(0x57b)]>0x0&&(_0x2950ee=_0x21b141[0x0]);}if(!_0x2950ee)return _0x1fcd31[_0x1a7e99(0x540)]='closed',null;_0x1fcd31[_0x1a7e99(0x53f)][_0x1a7e99(0x3ad)]=_0x592fdd;let _0x2744d2=JSON[_0x1a7e99(0x42d)](JSON[_0x1a7e99(0x7c7)](_0x2950ee));return this[_0x1a7e99(0x3e6)](_0x2744d2,_0x1fcd31[_0x1a7e99(0x53f)][_0x1a7e99(0x3ad)]),_0x1fcd31['chatLog'][_0x1a7e99(0x23c)]=_0x2744d2[_0x1a7e99(0x408)],_0x1fcd31[_0x1a7e99(0x53f)][_0x1a7e99(0x3f6)]=!0x0,_0x2744d2;}['replaceVariables'](_0x4a3459,_0x50ef8e){return _0x4a3459['replace'](/\{\{([^}]+)\}\}/g,(_0x17c0b7,_0x532dea)=>_0x50ef8e[_0x532dea]||'');}['replaceVariablesInObject'](_0x480df3,_0x44b2b5){const _0x1d9280=a0_0x2aa7ab;for(let _0x2ff505 in _0x480df3)typeof _0x480df3[_0x2ff505]==_0x1d9280(0x626)?_0x480df3[_0x2ff505]=this[_0x1d9280(0x2d9)](_0x480df3[_0x2ff505],_0x44b2b5):typeof _0x480df3[_0x2ff505]==_0x1d9280(0x76d)&&this[_0x1d9280(0x3e6)](_0x480df3[_0x2ff505],_0x44b2b5);}async[a0_0x2aa7ab(0x7b3)](_0x4c4feb,_0x2d68f3){const _0x58f0da=a0_0x2aa7ab;let _0x2ff653=_0x2d68f3[_0x58f0da(0x408)];if(_0x4c4feb[_0x58f0da(0x53f)]&&_0x4c4feb['chatLog'][_0x58f0da(0x4b2)]){let _0xc8174f=_0x4c4feb['chatLog']['blockLogs'][_0x58f0da(0x537)](_0x1de341=>String(_0x1de341[_0x58f0da(0x640)])===String(_0x2ff653))[_0x58f0da(0x37c)]();if(_0xc8174f&&_0xc8174f[_0x58f0da(0x7e7)]&&_0x2d68f3[_0x58f0da(0x450)])return _0x4c4feb['status']=_0x58f0da(0x2d6),await this['saveConversationToDatabase'](_0x4c4feb),null;}if(_0x2d68f3['type']===_0x58f0da(0x350)&&_0x2d68f3[_0x58f0da(0x350)]['command']===_0x58f0da(0x3d4)&&_0x4c4feb[_0x58f0da(0x1a0)])return _0x4c4feb['chatLog'][_0x58f0da(0x23c)]=_0x2ff653,await this['saveConversationToDatabase'](_0x4c4feb),null;let _0x30d344=await this[_0x58f0da(0x501)](_0x4c4feb);if(_0x4c4feb['chatLog']&&_0x4c4feb['chatLog'][_0x58f0da(0x4b2)]){let _0x4c0579=_0x4c4feb[_0x58f0da(0x53f)][_0x58f0da(0x4b2)][_0x58f0da(0x537)](_0x5a786c=>String(_0x5a786c['blockId'])===String(_0x2ff653))[_0x58f0da(0x57b)];if(_0x2d68f3[_0x58f0da(0x436)]!==void 0x0&&_0x4c0579>=_0x2d68f3[_0x58f0da(0x436)]){let _0x74d75f=Date['now'](),_0x4ee987=_0x2d68f3[_0x58f0da(0x715)]??0xa;isNaN(_0x4ee987)&&(_0x4ee987=0xa);let _0x1e3b77=_0x74d75f+_0x4ee987*0x3c*0x3e8,_0x12c958={'newStoppedUntil':_0x1e3b77};return this['updateStopChat'](_0x4c4feb,_0x1e3b77),this[_0x58f0da(0x463)](_0x4c4feb,_0x2d68f3,_0x12c958,!0x0),null;}}_0x30d344&&_0x30d344['type']!==_0x58f0da(0x71a)&&await this['processblock'](_0x4c4feb,_0x30d344),_0x30d344||await this[_0x58f0da(0x406)](_0x4c4feb),_0x30d344&&_0x30d344[_0x58f0da(0x793)]===_0x58f0da(0x71a)&&(_0x4c4feb['chatLog'][_0x58f0da(0x23c)]=_0x2ff653,await this['saveConversationToDatabase'](_0x4c4feb));}async[a0_0x2aa7ab(0x77e)](_0x57fa7a,_0x5953e6){const _0x6022e9=a0_0x2aa7ab;try{let _0x56f6d1=_0x5953e6[_0x6022e9(0x793)];this[_0x6022e9(0x4b0)][_0x6022e9(0x477)](this[_0x6022e9(0x7ed)]+'\x20('+this[_0x6022e9(0x466)][_0x6022e9(0x243)]+_0x6022e9(0x204)+_0x56f6d1);let _0x19b4be={'uazapi':()=>this[_0x6022e9(0x7a3)](_0x57fa7a,_0x5953e6),'save':()=>this[_0x6022e9(0x18a)](_0x57fa7a,_0x5953e6),'stop':()=>this[_0x6022e9(0x40d)](_0x57fa7a,_0x5953e6),'condition':()=>this[_0x6022e9(0x2ab)](_0x57fa7a,_0x5953e6),'varedit':()=>this[_0x6022e9(0x2a7)](_0x57fa7a,_0x5953e6),'apirequest':()=>this[_0x6022e9(0x176)](_0x57fa7a,_0x5953e6),'goToFlow':()=>this[_0x6022e9(0x6a1)](_0x57fa7a,_0x5953e6)}[_0x56f6d1];_0x19b4be&&await _0x19b4be();}catch(_0x35c2f0){this[_0x6022e9(0x4b0)][_0x6022e9(0x7e7)](this[_0x6022e9(0x7ed)]+'\x20('+this[_0x6022e9(0x466)][_0x6022e9(0x243)]+_0x6022e9(0x2bd)+(_0x35c2f0 instanceof Error?_0x35c2f0['message']:JSON[_0x6022e9(0x7c7)](_0x35c2f0,null,0x2)));}}async[a0_0x2aa7ab(0x6a1)](_0x52287f,_0x3c5969){const _0x1f36a2=a0_0x2aa7ab;if(this[_0x1f36a2(0x4b0)][_0x1f36a2(0x477)](this['instanceName']+'\x20('+this[_0x1f36a2(0x466)][_0x1f36a2(0x243)]+_0x1f36a2(0x28e)),!_0x52287f||!_0x3c5969)return this[_0x1f36a2(0x4b0)][_0x1f36a2(0x7e7)](this[_0x1f36a2(0x7ed)]+'\x20('+this['instance'][_0x1f36a2(0x243)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;await this['updateConversation'](_0x52287f,_0x3c5969,{},!0x0,!0x0),console[_0x1f36a2(0x357)](_0x1f36a2(0x24a)),console[_0x1f36a2(0x357)](_0x3c5969);let _0x348591=_0x3c5969['goToFlow'];console[_0x1f36a2(0x357)](_0x1f36a2(0x3ac),_0x348591),_0x52287f=await this['createConversationforgoToFlow'](_0x348591,_0x52287f[_0x1f36a2(0x39b)],_0x52287f[_0x1f36a2(0x53f)][_0x1f36a2(0x3ad)]),this[_0x1f36a2(0x4b0)][_0x1f36a2(0x477)](this[_0x1f36a2(0x7ed)]+'\x20('+this[_0x1f36a2(0x466)][_0x1f36a2(0x243)]+_0x1f36a2(0x41e));let _0x49a34d=await this[_0x1f36a2(0x501)](_0x52287f);_0x49a34d&&await this[_0x1f36a2(0x77e)](_0x52287f,_0x49a34d);}async[a0_0x2aa7ab(0x495)](_0x455cba,_0x335fe8,_0x1df44d){const _0x8b8a1d=a0_0x2aa7ab;this[_0x8b8a1d(0x4b0)][_0x8b8a1d(0x477)](this[_0x8b8a1d(0x7ed)]+'\x20('+this[_0x8b8a1d(0x466)][_0x8b8a1d(0x243)]+_0x8b8a1d(0x26d));try{if(_0x455cba=await this[_0x8b8a1d(0x162)][_0x8b8a1d(0x722)][_0x8b8a1d(0x709)]({'where':{'name':_0x455cba}},this['instance']['wuid']),!_0x455cba)return this[_0x8b8a1d(0x4b0)][_0x8b8a1d(0x7e7)](this[_0x8b8a1d(0x7ed)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20não\x20encontrado'),null;let _0x7929c0=require(_0x8b8a1d(0x630))[_0x8b8a1d(0x7a1)],_0xb1c18=Date['now'](),_0xa3e39d='start',_0x38b025={},_0x427838={},_0x399c29={..._0x455cba,'chatLog':null},_0x4073ac={'lastReceivedMessage':_0x38b025,'lastSendMessage':_0x427838,'lastBlockId':_0xa3e39d,'lastCondition':!0x0,'realVariables':_0x1df44d};_0x399c29[_0x8b8a1d(0x53f)]=_0x4073ac,_0x399c29[_0x8b8a1d(0x53f)][_0x8b8a1d(0x3ad)]={..._0x1df44d},delete _0x399c29[_0x8b8a1d(0x408)],_0x399c29[_0x8b8a1d(0x408)]=new _0x7929c0(),_0x399c29['lastInteraction']=_0xb1c18,_0x399c29['status']=_0x8b8a1d(0x1e7),_0x399c29[_0x8b8a1d(0x39b)]=_0x335fe8;let _0x319a94=await this[_0x8b8a1d(0x162)]['flowConversation'][_0x8b8a1d(0x38e)](_0x399c29[_0x8b8a1d(0x408)],_0x399c29,this[_0x8b8a1d(0x466)]['wuid']);return this['logger'][_0x8b8a1d(0x477)](this[_0x8b8a1d(0x7ed)]+'\x20('+this[_0x8b8a1d(0x466)][_0x8b8a1d(0x243)]+_0x8b8a1d(0x257)),_0x319a94?_0x399c29:null;}catch(_0x55382d){throw this['logger'][_0x8b8a1d(0x7e7)](this[_0x8b8a1d(0x7ed)]+'\x20('+this[_0x8b8a1d(0x466)]['wuid']+_0x8b8a1d(0x6a0)+(_0x55382d instanceof Error?_0x55382d['message']:JSON[_0x8b8a1d(0x7c7)](_0x55382d,null,0x2))),new w(_0x55382d[_0x8b8a1d(0x210)]);}}async['processApiRequest'](_0x214e91,_0x2b8b1f){const _0x15b0c8=a0_0x2aa7ab;let _0x7adcd3,_0x2dc8c5;try{let _0x4e511a=_0x2b8b1f['apirequest'];if(!_0x4e511a||!_0x4e511a[_0x15b0c8(0x1ff)]||!_0x4e511a['method'])throw new Error(_0x15b0c8(0x311));let _0x550723;(['https://api.openai.com/v1/audio/speech','https://api.openai.com/v1/images/generations','https://api.elevenlabs.io/v1/text-to-speech/']['some'](_0x516223=>_0x4e511a[_0x15b0c8(0x1ff)]['includes'](_0x516223))||_0x4e511a['requestFile'])&&(_0x550723='arraybuffer');let _0x56ec9b={'method':_0x4e511a['method'],'url':_0x4e511a['url'],'headers':_0x4e511a[_0x15b0c8(0x665)]||{},'data':_0x4e511a[_0x15b0c8(0x4f9)]||{},..._0x550723&&{'responseType':_0x550723}},_0x156059=await(0x0,Z[_0x15b0c8(0x798)])(_0x56ec9b),_0x2ecf1f=_0x156059[_0x15b0c8(0x6b4)][_0x15b0c8(0x2e7)];if(_0x2ecf1f&&_0x2ecf1f[_0x15b0c8(0x323)]('application/json')){_0x7adcd3=_0x156059[_0x15b0c8(0x457)];let _0x3b7700=_0x214e91[_0x15b0c8(0x53f)][_0x15b0c8(0x3ad)],_0xaa814a=this['flattenObject'](_0x7adcd3);return Object[_0x15b0c8(0x819)](_0x3b7700,_0xaa814a),_0x214e91[_0x15b0c8(0x53f)][_0x15b0c8(0x3ad)]=_0x3b7700,_0x2dc8c5={'error':!0x1,'apiResponse':_0x7adcd3},this[_0x15b0c8(0x463)](_0x214e91,_0x2b8b1f,_0x2dc8c5),_0x7adcd3;}if(_0x2ecf1f&&(_0x2ecf1f[_0x15b0c8(0x323)](_0x15b0c8(0x4e0))||_0x2ecf1f[_0x15b0c8(0x323)](_0x15b0c8(0x20b))||_0x2ecf1f[_0x15b0c8(0x323)](_0x15b0c8(0x63a))||_0x2ecf1f[_0x15b0c8(0x323)](_0x15b0c8(0x1cb)))){this[_0x15b0c8(0x4b0)][_0x15b0c8(0x477)](this[_0x15b0c8(0x7ed)]+'\x20('+this[_0x15b0c8(0x466)][_0x15b0c8(0x243)]+_0x15b0c8(0x1e2)+_0x2ecf1f);let _0x31617f=(0x0,Re['v4'])(),_0xfd3ed2='',_0x48d87a={'image/jpeg':_0x15b0c8(0x420),'image/png':_0x15b0c8(0x599),'image/gif':_0x15b0c8(0x1c9),'image/webp':'.webp','image/svg+xml':'.svg','audio/mpeg':'.mp3','audio/ogg':'.ogg','audio/wav':'.wav','video/mp4':'.mp4','video/webm':'.webm','video/ogg':_0x15b0c8(0x40a),'text/plain':_0x15b0c8(0x251),'application/pdf':_0x15b0c8(0x3ed),'application/msword':_0x15b0c8(0x332),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x15b0c8(0x6e4),'application/vnd.ms-excel':_0x15b0c8(0x62b),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x15b0c8(0x454),'application/vnd.ms-powerpoint':'.ppt','application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x15b0c8(0x459)};_0x48d87a[_0x2ecf1f]?(_0xfd3ed2=_0x48d87a[_0x2ecf1f],this[_0x15b0c8(0x4b0)]['verbose'](this['instanceName']+'\x20('+this[_0x15b0c8(0x466)][_0x15b0c8(0x243)]+_0x15b0c8(0x646)+_0xfd3ed2)):(_0xfd3ed2=_0x15b0c8(0x6f1),this[_0x15b0c8(0x4b0)][_0x15b0c8(0x477)](this['instanceName']+'\x20('+this['instance'][_0x15b0c8(0x243)]+_0x15b0c8(0x383)+_0xfd3ed2)),_0x31617f+=_0xfd3ed2,this[_0x15b0c8(0x4b0)][_0x15b0c8(0x477)](this['instanceName']+'\x20('+this[_0x15b0c8(0x466)][_0x15b0c8(0x243)]+_0x15b0c8(0x813)+_0x31617f);let _0x3cdf63=this[_0x15b0c8(0x22b)]['get'](_0x15b0c8(0x72c))[_0x15b0c8(0x65a)];if(!_0x3cdf63){let _0x4fdd9f=this[_0x15b0c8(0x22b)][_0x15b0c8(0x54a)](_0x15b0c8(0x26e));_0x3cdf63=_0x15b0c8(0x419)+(_0x4fdd9f&&_0x4fdd9f['FULLCHAIN'][_0x15b0c8(0x3fa)]('/')[0x4]);}let _0x1f6b63=Buffer['from'](_0x156059[_0x15b0c8(0x457)]);await this['saveMediaToFile'](_0x1f6b63,_0x31617f);let _0x50dc75=_0x15b0c8(0x748)+_0x31617f;_0x50dc75=''+_0x3cdf63+_0x50dc75,_0x7adcd3={'fileUrl':_0x50dc75},_0x214e91['chatLog'][_0x15b0c8(0x3ad)][_0x15b0c8(0x549)]=_0x50dc75;let _0x4d023b=_0x214e91[_0x15b0c8(0x53f)][_0x15b0c8(0x3ad)],_0x33cb51=this[_0x15b0c8(0x173)](_0x7adcd3);return Object[_0x15b0c8(0x819)](_0x4d023b,_0x33cb51),_0x214e91['chatLog'][_0x15b0c8(0x3ad)]=_0x4d023b,_0x2dc8c5={'error':!0x1,'apiResponse':{'fileUrl':_0x50dc75}},this[_0x15b0c8(0x463)](_0x214e91,_0x2b8b1f,_0x2dc8c5),_0x7adcd3;}}catch(_0x3778b7){console['error'](_0x15b0c8(0x186),_0x3778b7),_0x3778b7[_0x15b0c8(0x69c)]&&(_0x7adcd3=_0x3778b7[_0x15b0c8(0x69c)][_0x15b0c8(0x457)]);let _0x4741e5=_0x214e91[_0x15b0c8(0x53f)][_0x15b0c8(0x3ad)],_0x114ba6=this[_0x15b0c8(0x173)](_0x7adcd3);return Object['assign'](_0x4741e5,_0x114ba6),_0x214e91[_0x15b0c8(0x53f)][_0x15b0c8(0x3ad)]=_0x4741e5,_0x2dc8c5={'error':!0x0,'errorLog':_0x3778b7[_0x15b0c8(0x618)](),'apiResponse':_0x7adcd3},this[_0x15b0c8(0x463)](_0x214e91,_0x2b8b1f,_0x2dc8c5),{'success':!0x1};}}[a0_0x2aa7ab(0x505)](_0x27af0,_0x4cbdfd){const _0x1346af=a0_0x2aa7ab;let _0x514c54=_0x525898=>{const _0x1eca2e=a0_0x4fa0;let _0x5cfd9c=_0x525898[_0x1eca2e(0x73a)](/[^0-9.,-]/g,'')[_0x1eca2e(0x73a)](',','.'),_0x241f17=parseFloat(_0x5cfd9c);return isNaN(_0x241f17)?null:_0x241f17;},_0x300913=_0x4cbdfd['firstValue'],_0x2b5fb8=_0x4cbdfd['secondValue'];typeof _0x300913==_0x1346af(0x626)&&(_0x300913=this[_0x1346af(0x2d9)](_0x300913,_0x27af0[_0x1346af(0x53f)][_0x1346af(0x3ad)])??''),typeof _0x2b5fb8==_0x1346af(0x626)&&(_0x2b5fb8=this[_0x1346af(0x2d9)](_0x2b5fb8,_0x27af0[_0x1346af(0x53f)]['realVariables'])??'');let _0xeb09ea=null;if(!_0x4cbdfd['editOperator'])return null;switch(this[_0x1346af(0x4b0)][_0x1346af(0x477)](this['instanceName']+'\x20('+this[_0x1346af(0x466)][_0x1346af(0x243)]+_0x1346af(0x4db)+_0x300913),this[_0x1346af(0x4b0)][_0x1346af(0x477)](this[_0x1346af(0x7ed)]+'\x20('+this['instance'][_0x1346af(0x243)]+_0x1346af(0x784)+_0x2b5fb8),_0x4cbdfd[_0x1346af(0x5c8)]){case'+':case'-':case'*':case'/':let _0x203fa6=_0x514c54(_0x300913||'0'),_0x3708eb=_0x514c54(_0x2b5fb8||'0');if(_0x203fa6===null)return null;switch(_0x4cbdfd['editOperator']){case'+':_0xeb09ea=_0x203fa6+(_0x3708eb??0x0);break;case'-':_0xeb09ea=_0x203fa6-(_0x3708eb??0x0);break;case'*':_0xeb09ea=_0x203fa6*(_0x3708eb??0x1);break;case'/':_0x3708eb!==0x0&&(_0xeb09ea=_0x203fa6/(_0x3708eb??0x1));break;}break;case _0x1346af(0x433):case _0x1346af(0x4a9):let _0x3c1249=_0x2b5fb8,_0x297184=_0x4cbdfd[_0x1346af(0x79e)];if(typeof _0x297184==_0x1346af(0x626)&&(_0x297184=this[_0x1346af(0x2d9)](_0x297184,_0x27af0[_0x1346af(0x53f)]['realVariables'])??''),_0x3c1249&&_0x297184!==void 0x0){let _0x4371ab=_0x4cbdfd['editOperator']===_0x1346af(0x433)?new RegExp(_0x3c1249[_0x1346af(0x73a)](/[-\/\\^$*+?.()|[\]{}]/g,_0x1346af(0x508)),'g'):new RegExp(_0x3c1249,'g');_0xeb09ea=_0x300913[_0x1346af(0x73a)](_0x4371ab,_0x297184);}else console[_0x1346af(0x634)](_0x1346af(0x212));break;case'setNewValue':_0xeb09ea=_0x2b5fb8;break;case _0x1346af(0x5fc):let _0x73acfc=_0x300913[_0x1346af(0x377)](new RegExp(_0x2b5fb8||''));_0xeb09ea=_0x73acfc?_0x73acfc[0x0]:'';break;case _0x1346af(0x7db):_0xeb09ea=_0x300913[_0x1346af(0x164)](0x0,parseInt(_0x2b5fb8||'0'));break;case _0x1346af(0x6c6):let _0x3f0232=parseInt(_0x2b5fb8||'0');_0xeb09ea=_0x300913[_0x1346af(0x164)](_0x300913['length']-_0x3f0232);break;case'toBrazilianNumberFormat':let _0x369694=_0x514c54(_0x300913),_0x90771b=parseInt(_0x2b5fb8||'0');_0x90771b=Math[_0x1346af(0x807)](_0x90771b),_0x369694!==null?_0xeb09ea=_0x369694['toLocaleString']('pt-BR',{'minimumFractionDigits':_0x90771b,'maximumFractionDigits':_0x90771b}):(console[_0x1346af(0x634)](_0x1346af(0x2aa)+_0x300913),_0xeb09ea=null);break;case _0x1346af(0x7b4):let _0x1d8cd2=_0x514c54(_0x300913);_0x1d8cd2!==null?_0xeb09ea=_0x1d8cd2[_0x1346af(0x434)](_0x1346af(0x3e2),{'style':_0x1346af(0x525),'currency':_0x1346af(0x1a8)}):(console[_0x1346af(0x634)](_0x1346af(0x50c)+_0x300913),_0xeb09ea=null);break;case _0x1346af(0x3d2):_0xeb09ea=_0x300913[_0x1346af(0x6ae)]();break;case _0x1346af(0x17d):_0xeb09ea=_0x300913[_0x1346af(0x411)]();break;case _0x1346af(0x7d2):_0xeb09ea=_0x300913[_0x1346af(0x3fa)]('\x20')[_0x1346af(0x360)](_0x17d624=>_0x17d624[_0x1346af(0x696)](0x0)['toUpperCase']()+_0x17d624['slice'](0x1)['toLowerCase']())[_0x1346af(0x1a2)]('\x20');break;case'trimmed':_0xeb09ea=_0x300913[_0x1346af(0x382)]();break;default:_0xeb09ea=_0x300913;}return _0xeb09ea!==null?_0xeb09ea[_0x1346af(0x618)]():null;}async[a0_0x2aa7ab(0x2a7)](_0x5a6f7f,_0xf15986){const _0x557c0c=a0_0x2aa7ab;try{let _0x31cb8d=_0x5a6f7f[_0x557c0c(0x581)]?.[_0x557c0c(0x537)](_0xec38b9=>_0xec38b9['blockId']===_0xf15986[_0x557c0c(0x408)]?.['toString']())||[],_0x54c0c3=_0xf15986[_0x557c0c(0x479)],_0x15ce00=null,_0x7bc6c9=[],_0x306109=_0x5a6f7f[_0x557c0c(0x53f)]['realVariables'][_0x54c0c3];_0x7bc6c9[_0x557c0c(0x31c)]('Valor\x20inicial:\x20\x22'+_0x306109+'\x22');for(let _0x22967d of _0x31cb8d){_0x22967d[_0x557c0c(0x48d)]=_0x306109,_0x15ce00=_0x22967d['firstValue'];let _0x39c150;try{_0x39c150=this[_0x557c0c(0x505)](_0x5a6f7f,_0x22967d);}catch(_0x45888b){console[_0x557c0c(0x7e7)](_0x557c0c(0x475)+_0x45888b[_0x557c0c(0x210)]);continue;}if(_0x39c150!==null){let _0x5ce11a=_0x557c0c(0x2ac)+_0x22967d[_0x557c0c(0x5c8)]+'\x22',_0x172086=['toBRL','upperCase','lowerCase',_0x557c0c(0x7d2),_0x557c0c(0x76b)];_0x22967d[_0x557c0c(0x5c8)]===_0x557c0c(0x433)||_0x22967d['editOperator']===_0x557c0c(0x4a9)?_0x5ce11a+=_0x557c0c(0x29d)+_0x22967d[_0x557c0c(0x563)]+_0x557c0c(0x764)+_0x22967d[_0x557c0c(0x79e)]+'\x22':!_0x172086['includes'](_0x22967d[_0x557c0c(0x5c8)])&&_0x22967d[_0x557c0c(0x563)]!==null&&_0x22967d['secondValue']!==void 0x0&&(_0x5ce11a+=_0x557c0c(0x402)+_0x22967d['secondValue']+'\x22'),_0x5ce11a+=_0x557c0c(0x59e)+_0x39c150+'.',_0x7bc6c9[_0x557c0c(0x31c)](_0x5ce11a);}_0x39c150!==null&&(_0x306109=_0x39c150);}if(_0x5a6f7f[_0x557c0c(0x53f)][_0x557c0c(0x3ad)]&&_0xf15986[_0x557c0c(0x479)]){_0x5a6f7f['chatLog'][_0x557c0c(0x3ad)][_0xf15986[_0x557c0c(0x479)]]=_0x306109;let _0x1df80e={'variable':_0xf15986['saveVariable'],'oldValue':_0x15ce00,'newValue':_0x306109,'moreLogs':_0x7bc6c9};try{this[_0x557c0c(0x463)](_0x5a6f7f,_0xf15986,_0x1df80e);}catch(_0x22e16f){console[_0x557c0c(0x7e7)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x22e16f['message']);}}return _0x54c0c3;}catch(_0x3bdd83){return console['error'](_0x557c0c(0x41d)+_0x3bdd83[_0x557c0c(0x210)]),null;}}async[a0_0x2aa7ab(0x2ab)](_0x416739,_0x2fab9a){const _0x1c4747=a0_0x2aa7ab;try{let _0x52c897=[],_0x314ed0=_0x416739[_0x1c4747(0x6be)]['filter'](_0x501e0a=>_0x501e0a[_0x1c4747(0x640)]===_0x2fab9a[_0x1c4747(0x408)]['toString']()),_0x4d599d=null,_0xc910a=!0x1;for(let _0x4701 of _0x314ed0){let _0x23d917=this[_0x1c4747(0x185)](_0x416739,_0x4701);_0x52c897['push'](_0x1c4747(0x4b3)+_0x4701[_0x1c4747(0x48d)]+',\x20Comparador:\x20'+_0x4701[_0x1c4747(0x32b)]+_0x1c4747(0x53e)+_0x4701['secondValue']+',\x20Resultado:\x20'+_0x23d917),_0x4d599d===null?_0x4d599d=_0x23d917:_0x4701[_0x1c4747(0x343)]===_0x1c4747(0x6dd)?(_0x4d599d=_0x4d599d&&_0x23d917,_0x23d917||(_0xc910a=!0x0)):_0x4701['OrAnd']==='or'&&(_0xc910a||(_0x4d599d=_0x4d599d||_0x23d917));}_0x4d599d===null&&(_0x4d599d=!0x0);let _0x15f88f={'moreLogs':_0x52c897};_0x416739[_0x1c4747(0x53f)]['lastCondition']=_0x4d599d,await this[_0x1c4747(0x463)](_0x416739,_0x2fab9a,_0x15f88f);}catch(_0x1e0c1c){this[_0x1c4747(0x4b0)][_0x1c4747(0x7e7)](this[_0x1c4747(0x7ed)]+'\x20('+this['instance']['wuid']+_0x1c4747(0x24e)+(_0x1e0c1c instanceof Error?_0x1e0c1c[_0x1c4747(0x210)]:JSON['stringify'](_0x1e0c1c,null,0x2)));}}[a0_0x2aa7ab(0x185)](_0x44e216,_0x2ea4e9){const _0x409ebc=a0_0x2aa7ab;let _0x23b746=_0x2ea4e9[_0x409ebc(0x48d)],_0x2955a3=_0x2ea4e9['secondValue'];typeof _0x23b746==_0x409ebc(0x626)&&(_0x23b746=this[_0x409ebc(0x2d9)](_0x23b746,_0x44e216[_0x409ebc(0x53f)][_0x409ebc(0x3ad)])??''),typeof _0x2955a3==_0x409ebc(0x626)&&(_0x2955a3=this[_0x409ebc(0x2d9)](_0x2955a3,_0x44e216[_0x409ebc(0x53f)]['realVariables'])??'');try{switch(_0x2ea4e9['expression']){case _0x409ebc(0x5af):return _0x23b746===_0x2955a3;case _0x409ebc(0x808):return _0x23b746!==_0x2955a3;case _0x409ebc(0x50b):return this['contains'](_0x23b746,_0x2955a3);case _0x409ebc(0x3f9):return!this[_0x409ebc(0x50b)](_0x23b746,_0x2955a3);case _0x409ebc(0x45b):return parseFloat(_0x23b746)>parseFloat(_0x2955a3);case _0x409ebc(0x66b):return parseFloat(_0x23b746)<parseFloat(_0x2955a3);case'notEmpty':return _0x23b746!=='';case _0x409ebc(0x22c):return _0x23b746==='';case'matchRegex':return new RegExp(_0x2955a3)[_0x409ebc(0x345)](_0x23b746);case _0x409ebc(0x561):return!new RegExp(_0x2955a3)['test'](_0x23b746);default:return!0x1;}}catch(_0xe43fd5){return console[_0x409ebc(0x7e7)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0xe43fd5),!0x1;}}[a0_0x2aa7ab(0x50b)](_0x236cef,_0x52212e){const _0x1a26a2=a0_0x2aa7ab;if(_0x236cef===_0x52212e&&/^\d+$/[_0x1a26a2(0x345)](_0x236cef))return!0x0;if(this[_0x1a26a2(0x4b8)](_0x236cef)&&/^\d+$/[_0x1a26a2(0x345)](_0x52212e)){let _0x1add2a=_0x236cef['split'](',')[_0x1a26a2(0x360)](_0x5c8bad=>parseInt(_0x5c8bad[_0x1a26a2(0x382)]())),_0x5b664c=parseInt(_0x52212e);return _0x1add2a['includes'](_0x5b664c);}return _0x236cef[_0x1a26a2(0x323)](_0x52212e);}[a0_0x2aa7ab(0x4b8)](_0x4671a4){const _0x3f494b=a0_0x2aa7ab;return/^\d+(,\d+)*$/[_0x3f494b(0x345)](_0x4671a4);}[a0_0x2aa7ab(0x2b4)](_0x1afc5b){const _0x1cfdc3=a0_0x2aa7ab;let _0x4f2c58=!0x0,_0x312612=null;for(let _0x55089e of _0x1afc5b){let _0x14a7ec=this[_0x1cfdc3(0x327)](_0x55089e);if(_0x312612==='or'&&_0x14a7ec){_0x4f2c58=!0x0;break;}if(_0x312612===_0x1cfdc3(0x6dd)&&!_0x14a7ec){_0x4f2c58=!0x1;break;}_0x312612=_0x55089e[_0x1cfdc3(0x343)];}return _0x4f2c58;}['evaluateConditionTest'](_0x5bf9c0){const _0x4afa9b=a0_0x2aa7ab;let _0x491597=_0x5bf9c0[_0x4afa9b(0x48d)],_0x551f74=_0x5bf9c0['secondValue'];try{switch(_0x5bf9c0[_0x4afa9b(0x32b)]){case _0x4afa9b(0x5af):return String(_0x491597)===String(_0x551f74);case _0x4afa9b(0x808):return String(_0x491597)!==String(_0x551f74);case _0x4afa9b(0x50b):return String(_0x491597)[_0x4afa9b(0x323)](String(_0x551f74));case _0x4afa9b(0x3f9):return!String(_0x491597)[_0x4afa9b(0x323)](String(_0x551f74));case _0x4afa9b(0x45b):return parseFloat(String(_0x491597))>parseFloat(String(_0x551f74));case'less':return parseFloat(String(_0x491597))<parseFloat(String(_0x551f74));case _0x4afa9b(0x2cd):return String(_0x491597)!=='';case _0x4afa9b(0x22c):return String(_0x491597)==='';case _0x4afa9b(0x287):return new RegExp(String(_0x551f74))['test'](String(_0x491597));case _0x4afa9b(0x561):return!new RegExp(String(_0x551f74))[_0x4afa9b(0x345)](String(_0x491597));default:return!0x1;}}catch(_0x4e28ae){return console[_0x4afa9b(0x7e7)](_0x4afa9b(0x649)+_0x4e28ae),!0x1;}}async[a0_0x2aa7ab(0x18a)](_0x53fa8a,_0x3edbd1){const _0x6924f4=a0_0x2aa7ab;if(this[_0x6924f4(0x4b0)][_0x6924f4(0x477)](this[_0x6924f4(0x7ed)]+'\x20('+this[_0x6924f4(0x466)][_0x6924f4(0x243)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x53fa8a||!_0x3edbd1)return this['logger'][_0x6924f4(0x7e7)](this[_0x6924f4(0x7ed)]+'\x20('+this['instance']['wuid']+_0x6924f4(0x1bf)),null;let _0x39cd6d=_0x3edbd1[_0x6924f4(0x479)],_0x1e9686=_0x53fa8a[_0x6924f4(0x53f)]['lastReceivedMessage'][_0x6924f4(0x309)]||_0x53fa8a['chatLog'][_0x6924f4(0x4fd)][_0x6924f4(0x307)]||_0x53fa8a[_0x6924f4(0x53f)][_0x6924f4(0x4fd)][_0x6924f4(0x579)];try{_0x53fa8a[_0x6924f4(0x53f)][_0x6924f4(0x3ad)]||(_0x53fa8a['chatLog'][_0x6924f4(0x3ad)]={});let _0x3369d6=_0x53fa8a[_0x6924f4(0x53f)][_0x6924f4(0x3ad)][_0x39cd6d];_0x53fa8a[_0x6924f4(0x53f)]['realVariables'][_0x39cd6d]=_0x1e9686;let _0x1c5d2d={'variable':_0x39cd6d,'oldValue':_0x3369d6,'newValue':_0x1e9686};this[_0x6924f4(0x463)](_0x53fa8a,_0x3edbd1,_0x1c5d2d),this['logger']['verbose'](this[_0x6924f4(0x7ed)]+'\x20('+this[_0x6924f4(0x466)][_0x6924f4(0x243)]+_0x6924f4(0x6a4));}catch(_0xf9ef97){let _0x2002f8={'error':!0x0,'errorLog':_0xf9ef97[_0x6924f4(0x618)]()};return this[_0x6924f4(0x463)](_0x53fa8a,_0x3edbd1,_0x2002f8),this['logger']['error'](this[_0x6924f4(0x7ed)]+'\x20('+this[_0x6924f4(0x466)][_0x6924f4(0x243)]+_0x6924f4(0x229)+(_0xf9ef97 instanceof Error?_0xf9ef97[_0x6924f4(0x210)]:JSON['stringify'](_0xf9ef97,null,0x2))),null;}}async[a0_0x2aa7ab(0x40d)](_0x1aca84,_0x34fcde){const _0x46a790=a0_0x2aa7ab;if(this[_0x46a790(0x4b0)][_0x46a790(0x477)](this[_0x46a790(0x7ed)]+'\x20('+this['instance'][_0x46a790(0x243)]+_0x46a790(0x320)),!_0x1aca84||!_0x34fcde)return this[_0x46a790(0x4b0)][_0x46a790(0x7e7)](this[_0x46a790(0x7ed)]+'\x20('+this['instance']['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x509ef5=Date['now'](),_0x520c35=parseInt(_0x34fcde[_0x46a790(0x373)],0xa);if(isNaN(_0x520c35))return this[_0x46a790(0x4b0)][_0x46a790(0x7e7)](this[_0x46a790(0x7ed)]+'\x20('+this[_0x46a790(0x466)][_0x46a790(0x243)]+'):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número'),null;let _0x44a598={'newStoppedUntil':_0x509ef5+_0x520c35*0x3c*0x3e8};return await this['updateConversation'](_0x1aca84,_0x34fcde,_0x44a598,!0x0),null;}async['processUazapi'](_0x42f430,_0x270492){const _0x339b3a=a0_0x2aa7ab;try{switch(_0x270492[_0x339b3a(0x350)][_0x339b3a(0x614)]){case _0x339b3a(0x378):await this['uazapiSendText'](_0x42f430,_0x270492);break;case _0x339b3a(0x35f):await this['uazapiSendMedia'](_0x42f430,_0x270492);break;case _0x339b3a(0x168):await this[_0x339b3a(0x6d7)](_0x42f430,_0x270492);break;case _0x339b3a(0x6a7):await this['uazapiSendAudio'](_0x42f430,_0x270492);break;case _0x339b3a(0x3b0):await this[_0x339b3a(0x5eb)](_0x42f430,_0x270492);break;case'sendPoll':await this[_0x339b3a(0x277)](_0x42f430,_0x270492);break;case'sendMenu':await this[_0x339b3a(0x277)](_0x42f430,_0x270492);break;case _0x339b3a(0x67c):await this[_0x339b3a(0x365)](_0x42f430,_0x270492);break;default:this[_0x339b3a(0x4b0)][_0x339b3a(0x7e7)](this[_0x339b3a(0x7ed)]+'\x20('+this[_0x339b3a(0x466)]['wuid']+_0x339b3a(0x3f2)+_0x270492[_0x339b3a(0x350)][_0x339b3a(0x614)]);}}catch(_0x3383aa){this[_0x339b3a(0x4b0)][_0x339b3a(0x7e7)](this[_0x339b3a(0x7ed)]+'\x20('+this[_0x339b3a(0x466)]['wuid']+_0x339b3a(0x810)+(_0x3383aa instanceof Error?_0x3383aa[_0x339b3a(0x210)]:JSON[_0x339b3a(0x7c7)](_0x3383aa,null,0x2)));}}async['updateConversation'](_0x195ff4,_0x388904,_0x299dfa,_0x2d9dc1=!0x1,_0x19d415=!0x1){const _0x4b39ee=a0_0x2aa7ab;_0x195ff4['chatLog'][_0x4b39ee(0x4b2)]||(_0x195ff4[_0x4b39ee(0x53f)]['blockLogs']=[]);let _0x1cdff7=(_0x195ff4[_0x4b39ee(0x53f)][_0x4b39ee(0x4b2)]?.[_0x4b39ee(0x57b)]??0x0)+0x1,_0x59cb01=_0x195ff4['chatLog'][_0x4b39ee(0x4b2)][_0x4b39ee(0x537)](_0x5a1152=>String(_0x5a1152[_0x4b39ee(0x640)])===String(_0x388904[_0x4b39ee(0x408)]))[_0x4b39ee(0x57b)]+0x1,_0x33ac01=_0x299dfa?.[_0x4b39ee(0x2a5)]??Date[_0x4b39ee(0x458)](),_0x3ce1fe=_0x299dfa?.['error']?_0x299dfa[_0x4b39ee(0x3b9)]??_0x299dfa[_0x4b39ee(0x7e7)][_0x4b39ee(0x618)]():void 0x0,_0x5e271a={'onTime':_0x33ac01,'blockId':_0x388904[_0x4b39ee(0x408)],'order':_0x1cdff7,'activatedCount':_0x59cb01,'error':_0x299dfa?.[_0x4b39ee(0x7e7)]??!0x1,'messageId':_0x299dfa?.[_0x4b39ee(0x6e9)],'apiResponse':_0x299dfa?.['apiResponse'],'apiResponseString':_0x299dfa?.[_0x4b39ee(0x7c5)]?JSON[_0x4b39ee(0x7c7)](_0x299dfa?.[_0x4b39ee(0x7c5)]):void 0x0,'variable':_0x299dfa?.[_0x4b39ee(0x43b)],'oldValue':_0x299dfa?.[_0x4b39ee(0x432)],'newValue':_0x299dfa?.[_0x4b39ee(0x25f)],'newStoppedUntil':_0x299dfa?.['newStoppedUntil'],'moreLogs':_0x299dfa?.[_0x4b39ee(0x3bf)],'errorLog':_0x3ce1fe};if(_0x299dfa[_0x4b39ee(0x3bf)]&&_0x299dfa[_0x4b39ee(0x3bf)][_0x4b39ee(0x57b)]>0x0){let _0x1c923d=_0x299dfa[_0x4b39ee(0x3bf)][_0x4b39ee(0x360)](_0x137c3e=>this[_0x4b39ee(0x719)](_0x137c3e,_0x195ff4[_0x4b39ee(0x53f)][_0x4b39ee(0x3ad)]));_0x5e271a[_0x4b39ee(0x3bf)]=_0x1c923d;}_0x195ff4['chatLog'][_0x4b39ee(0x3ad)]||(_0x195ff4[_0x4b39ee(0x53f)][_0x4b39ee(0x3ad)]={}),_0x195ff4[_0x4b39ee(0x53f)]['realVariables'][_0x4b39ee(0x661)]=String(_0x59cb01),_0x195ff4[_0x4b39ee(0x53f)]['realVariables'][_0x4b39ee(0x396)]=String(_0x299dfa[_0x4b39ee(0x7e7)]??!0x1),_0x195ff4[_0x4b39ee(0x53f)][_0x4b39ee(0x4b2)][_0x4b39ee(0x31c)](_0x5e271a),_0x195ff4[_0x4b39ee(0x53f)][_0x4b39ee(0x23c)]=_0x388904[_0x4b39ee(0x408)][_0x4b39ee(0x618)](),_0x195ff4[_0x4b39ee(0x53f)][_0x4b39ee(0x4b7)]&&(_0x195ff4['chatLog']['lastSendMessage']=_0x195ff4[_0x4b39ee(0x53f)][_0x4b39ee(0x4b7)]),_0x195ff4[_0x4b39ee(0x53f)][_0x4b39ee(0x4fd)]&&(_0x195ff4[_0x4b39ee(0x53f)][_0x4b39ee(0x4fd)]=_0x195ff4['chatLog']['lastReceivedMessage']),_0x195ff4[_0x4b39ee(0x53f)][_0x4b39ee(0x3f6)]&&(_0x195ff4['chatLog'][_0x4b39ee(0x3f6)]=_0x195ff4[_0x4b39ee(0x53f)][_0x4b39ee(0x3f6)]),_0x19d415&&(_0x195ff4[_0x4b39ee(0x540)]=_0x4b39ee(0x2d6)),_0x2d9dc1?this[_0x4b39ee(0x406)](_0x195ff4):this[_0x4b39ee(0x7b3)](_0x195ff4,_0x388904);}['replaceVariablesLogs'](_0x52b989,_0x211ecf){const _0x3bf251=a0_0x2aa7ab;return _0x52b989['replace'](/\{\{([^}]+)\}\}/g,(_0x5d6ed0,_0x5e02cd)=>_0x211ecf[_0x5e02cd]?'{{'+_0x5e02cd+'}}\x20->\x20\x22'+_0x211ecf[_0x5e02cd]+'\x22':'{{'+_0x5e02cd+_0x3bf251(0x4c4));}async[a0_0x2aa7ab(0x406)](_0x2bd974){const _0x59bacf=a0_0x2aa7ab;try{let _0x30a89e=Object[_0x59bacf(0x363)](_0x2bd974[_0x59bacf(0x53f)][_0x59bacf(0x3ad)])['map'](([_0x54e92c,_0x5582e4])=>({'name':_0x54e92c,'value':_0x5582e4})),_0x5ef28c={'status':_0x2bd974['status'],'blocks':_0x2bd974[_0x59bacf(0x5de)],'waitingMenu_id':_0x2bd974[_0x59bacf(0x1a0)],'waitingMenu_text':_0x2bd974['waitingMenu_text'],'waitingMenu_replyOptions':_0x2bd974[_0x59bacf(0x5f7)],'chatLog':{'lastBlockId':_0x2bd974[_0x59bacf(0x53f)]['lastBlockId'],'lastSendMessage':_0x2bd974[_0x59bacf(0x53f)][_0x59bacf(0x4b7)],'lastReceivedMessage':_0x2bd974[_0x59bacf(0x53f)]['lastReceivedMessage'],'lastCondition':_0x2bd974[_0x59bacf(0x53f)][_0x59bacf(0x3f6)],'chatVariables':_0x30a89e,'realVariables':_0x2bd974['chatLog'][_0x59bacf(0x3ad)],'blockLogs':_0x2bd974['chatLog'][_0x59bacf(0x4b2)]}},_0x2a88f3=await this[_0x59bacf(0x162)]['flowConversation'][_0x59bacf(0x38e)](_0x2bd974['_id'],_0x5ef28c,this[_0x59bacf(0x466)]['wuid']);if(_0x2a88f3){this[_0x59bacf(0x4b0)][_0x59bacf(0x477)](this[_0x59bacf(0x7ed)]+'\x20('+this[_0x59bacf(0x466)][_0x59bacf(0x243)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x2a88f3[_0x59bacf(0x408)]);try{let _0x7b9d8c=['nome',_0x59bacf(0x771),'email',_0x59bacf(0x18d),_0x59bacf(0x540),_0x59bacf(0x4a2),_0x59bacf(0x678),'tags','etiquetas'];if(!this[_0x59bacf(0x59f)]&&(await this[_0x59bacf(0x740)](),!this[_0x59bacf(0x59f)]))throw new Error(_0x59bacf(0x7fc));let _0x91783f=this[_0x59bacf(0x59f)]?.[_0x59bacf(0x21e)][_0x59bacf(0x360)](_0x444743=>_0x444743[_0x59bacf(0x6f5)]),_0x5537fe={};Object['entries'](_0x2bd974['chatLog'][_0x59bacf(0x3ad)])[_0x59bacf(0x53a)](([_0x5f38c9,_0x2290ae])=>{const _0x86f528=_0x59bacf;_0x7b9d8c['includes'](_0x5f38c9)&&(_0x5f38c9===_0x86f528(0x706)&&typeof _0x2290ae==_0x86f528(0x626)?_0x5537fe[_0x5f38c9]=_0x2290ae[_0x86f528(0x3fa)](',')['map'](_0x2c243a=>_0x2c243a[_0x86f528(0x382)]())[_0x86f528(0x537)](_0x132976=>_0x132976!==''):_0x5f38c9===_0x86f528(0x2ef)&&typeof _0x2290ae=='string'?_0x5537fe[_0x5f38c9]=_0x2290ae[_0x86f528(0x3fa)](',')[_0x86f528(0x360)](_0x4d79fc=>_0x4d79fc[_0x86f528(0x382)]())['filter'](_0x1cdb39=>_0x1cdb39!==''):_0x5537fe[_0x5f38c9]=_0x2290ae);});let _0xb9836=_0x2bd974[_0x59bacf(0x53f)][_0x59bacf(0x4b2)][_0x2bd974['chatLog']['blockLogs'][_0x59bacf(0x57b)]-0x1];if(_0xb9836){let _0x53cc10=_0xb9836['newStoppedUntil'];_0x53cc10!==void 0x0&&(_0x5537fe[_0x59bacf(0x227)]=_0x53cc10[_0x59bacf(0x618)]());}let _0xd6ded0=_0x30a89e[_0x59bacf(0x537)](_0x84c234=>_0x91783f['includes'](_0x84c234[_0x59bacf(0x6f5)]));this[_0x59bacf(0x4b0)][_0x59bacf(0x477)](this['instanceName']+'\x20('+this[_0x59bacf(0x466)][_0x59bacf(0x243)]+_0x59bacf(0x7eb)),this[_0x59bacf(0x4b0)][_0x59bacf(0x477)](_0x5537fe),this[_0x59bacf(0x4b0)][_0x59bacf(0x477)](this[_0x59bacf(0x7ed)]+'\x20('+this[_0x59bacf(0x466)]['wuid']+_0x59bacf(0x7e1)),this['logger']['verbose'](_0xd6ded0);let _0x301e12=_0xd6ded0['map'](_0x1416e1=>{const _0x676b8c=_0x59bacf;let _0x59a2f8=this[_0x676b8c(0x59f)]?.[_0x676b8c(0x21e)][_0x676b8c(0x701)](_0x200dea=>_0x200dea[_0x676b8c(0x6f5)]===_0x1416e1[_0x676b8c(0x6f5)]);if(!_0x59a2f8)throw new Error(_0x676b8c(0x61e)+_0x1416e1['name']);return{'_id':_0x59a2f8[_0x676b8c(0x408)],'value':_0x1416e1[_0x676b8c(0x276)]};});this[_0x59bacf(0x4b0)][_0x59bacf(0x477)](this[_0x59bacf(0x7ed)]+'\x20('+this[_0x59bacf(0x466)][_0x59bacf(0x243)]+_0x59bacf(0x5c7)),this[_0x59bacf(0x4b0)][_0x59bacf(0x477)](_0x301e12),await this[_0x59bacf(0x1c7)](_0x2bd974[_0x59bacf(0x39b)],_0x5537fe,_0x301e12);}catch(_0x362f45){this[_0x59bacf(0x4b0)][_0x59bacf(0x7e7)](this[_0x59bacf(0x7ed)]+'\x20('+this[_0x59bacf(0x466)][_0x59bacf(0x243)]+_0x59bacf(0x30f)+(_0x362f45 instanceof Error?_0x362f45[_0x59bacf(0x210)]:JSON['stringify'](_0x362f45,null,0x2)));}}else this[_0x59bacf(0x4b0)][_0x59bacf(0x7e7)](this[_0x59bacf(0x7ed)]+'\x20('+this[_0x59bacf(0x466)][_0x59bacf(0x243)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x104dca){this['logger'][_0x59bacf(0x7e7)](this['instanceName']+'\x20('+this[_0x59bacf(0x466)][_0x59bacf(0x243)]+'):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20'+(_0x104dca instanceof Error?_0x104dca[_0x59bacf(0x210)]:JSON[_0x59bacf(0x7c7)](_0x104dca,null,0x2)));}}async[a0_0x2aa7ab(0x1c7)](_0x234a94,_0x4ba6c6,_0x5c02cf){const _0x4b15c6=a0_0x2aa7ab;try{let _0x3a1bf3={'leadInfo.leadnome':_0x4ba6c6[_0x4b15c6(0x676)],'leadInfo.nomecompleto':_0x4ba6c6[_0x4b15c6(0x771)],'leadInfo.email':_0x4ba6c6['email'],'leadInfo.cpf':_0x4ba6c6[_0x4b15c6(0x18d)],'leadInfo.status':_0x4ba6c6[_0x4b15c6(0x540)],'leadInfo.notas':_0x4ba6c6[_0x4b15c6(0x4a2)],'leadInfo.responsavelid':_0x4ba6c6[_0x4b15c6(0x678)],'leadInfo.tags':_0x4ba6c6[_0x4b15c6(0x706)],'leadInfo.etiquetas':_0x4ba6c6[_0x4b15c6(0x2ef)],'leadInfo.customFields':_0x5c02cf},_0x29fed6=await this[_0x4b15c6(0x162)]['chat'][_0x4b15c6(0x709)]({'where':{'_id':_0x234a94}},this[_0x4b15c6(0x466)][_0x4b15c6(0x243)]),_0x27bee2=new Set(_0x29fed6[_0x4b15c6(0x5aa)]['etiquetas']||[]),_0x5ed0f5=new Set(_0x4ba6c6['etiquetas']||[]),_0x27f0a7=await this[_0x4b15c6(0x162)][_0x4b15c6(0x3ab)][_0x4b15c6(0x701)]({'where':{}},this[_0x4b15c6(0x466)][_0x4b15c6(0x243)]),_0x1bcc3a=new Set(_0x27f0a7['map'](_0x2e99f5=>_0x2e99f5['_id'])),_0x57a6b9=[..._0x5ed0f5]['filter'](_0x5a1009=>!_0x27bee2[_0x4b15c6(0x4d1)](_0x5a1009)&&_0x1bcc3a[_0x4b15c6(0x4d1)](_0x5a1009)),_0x57d7f7=[..._0x27bee2][_0x4b15c6(0x537)](_0x47b1bc=>!_0x5ed0f5[_0x4b15c6(0x4d1)](_0x47b1bc));for(let _0x38e75d of _0x57a6b9)await this['AddChatLabel'](_0x38e75d,_0x29fed6[_0x4b15c6(0x408)]),_0x27bee2['add'](_0x38e75d);for(let _0x2aeddf of _0x57d7f7)await this[_0x4b15c6(0x37d)](_0x2aeddf,_0x29fed6[_0x4b15c6(0x408)]),_0x27bee2[_0x4b15c6(0x801)](_0x2aeddf);if('desativadoFluxoAte'in _0x4ba6c6){let _0x10bceb=_0x4ba6c6[_0x4b15c6(0x227)];_0x3a1bf3[_0x4b15c6(0x699)]=_0x10bceb?Number(_0x10bceb):null;}let _0x1a9a18=await this[_0x4b15c6(0x162)]['chat']['updateOne']({'where':{'_id':_0x234a94}},_0x3a1bf3,this[_0x4b15c6(0x466)][_0x4b15c6(0x243)]);_0x1a9a18?(this[_0x4b15c6(0x4b0)]['verbose'](this[_0x4b15c6(0x7ed)]+'\x20('+this[_0x4b15c6(0x466)][_0x4b15c6(0x243)]+_0x4b15c6(0x2f9)+_0x1a9a18[_0x4b15c6(0x408)]),U(this['instanceName'],'chats',{'chat':_0x1a9a18})):this[_0x4b15c6(0x4b0)][_0x4b15c6(0x7e7)](this[_0x4b15c6(0x7ed)]+'\x20('+this['instance'][_0x4b15c6(0x243)]+_0x4b15c6(0x5c3));}catch(_0x46338e){this[_0x4b15c6(0x4b0)][_0x4b15c6(0x7e7)](this[_0x4b15c6(0x7ed)]+'\x20('+this[_0x4b15c6(0x466)][_0x4b15c6(0x243)]+_0x4b15c6(0x236)+(_0x46338e instanceof Error?_0x46338e[_0x4b15c6(0x210)]:JSON[_0x4b15c6(0x7c7)](_0x46338e,null,0x2)));}}async[a0_0x2aa7ab(0x22a)](_0x12fd36,_0x5dd267){const _0x494a7b=a0_0x2aa7ab;this[_0x494a7b(0x4b0)][_0x494a7b(0x477)](this[_0x494a7b(0x7ed)]+'\x20('+this[_0x494a7b(0x466)]['wuid']+_0x494a7b(0x725)+_0x5dd267);try{let _0x3b167d=await this[_0x494a7b(0x162)][_0x494a7b(0x6cc)][_0x494a7b(0x38e)]({'where':{'_id':_0x12fd36[_0x494a7b(0x39b)]}},{'leadInfo.desativadoFluxoAte':_0x5dd267},this[_0x494a7b(0x466)][_0x494a7b(0x243)]);this[_0x494a7b(0x4b0)][_0x494a7b(0x477)](this[_0x494a7b(0x7ed)]+'\x20('+this[_0x494a7b(0x466)]['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x12fd36[_0x494a7b(0x408)]),this[_0x494a7b(0x4b0)][_0x494a7b(0x477)](this[_0x494a7b(0x7ed)]+'\x20('+this[_0x494a7b(0x466)][_0x494a7b(0x243)]+_0x494a7b(0x725)+JSON[_0x494a7b(0x7c7)](_0x3b167d,null,0x2)),_0x3b167d&&U(this[_0x494a7b(0x7ed)],_0x494a7b(0x4bd),{'chat':_0x3b167d});}catch(_0x5cf44a){this[_0x494a7b(0x4b0)][_0x494a7b(0x7e7)](this['instanceName']+'\x20('+this[_0x494a7b(0x466)]['wuid']+_0x494a7b(0x724)+(_0x5cf44a instanceof Error?_0x5cf44a[_0x494a7b(0x210)]:JSON['stringify'](_0x5cf44a,null,0x2)));}}async[a0_0x2aa7ab(0x4ba)](_0x3e5bc3){const _0x13345a=a0_0x2aa7ab;try{this[_0x13345a(0x4b0)][_0x13345a(0x477)](this[_0x13345a(0x7ed)]+'\x20('+this[_0x13345a(0x466)][_0x13345a(0x243)]+_0x13345a(0x5e6));let _0x46c020=_0x3e5bc3[_0x13345a(0x73a)](/\D/g,''),_0x43222b=await this[_0x13345a(0x162)][_0x13345a(0x722)]['findOne']({'where':{'testingWith':_0x46c020}},this[_0x13345a(0x466)][_0x13345a(0x243)]);return _0x43222b||(this[_0x13345a(0x4b0)][_0x13345a(0x477)](this[_0x13345a(0x7ed)]+'\x20('+this[_0x13345a(0x466)]['wuid']+'):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...'),_0x43222b=await this[_0x13345a(0x162)][_0x13345a(0x722)][_0x13345a(0x709)]({'where':{'default':!0x0}},this['instance'][_0x13345a(0x243)])),_0x43222b||(this[_0x13345a(0x4b0)][_0x13345a(0x477)](this[_0x13345a(0x7ed)]+'\x20('+this['instance'][_0x13345a(0x243)]+'):\x20Não\x20achou\x20nenhum\x20flow'),null);}catch(_0x406767){return this[_0x13345a(0x4b0)]['error'](this[_0x13345a(0x7ed)]+'\x20('+this[_0x13345a(0x466)][_0x13345a(0x243)]+_0x13345a(0x3e8)+(_0x406767 instanceof Error?_0x406767[_0x13345a(0x210)]:JSON[_0x13345a(0x7c7)](_0x406767,null,0x2))),null;}}async[a0_0x2aa7ab(0x1ab)](_0x10a619,_0x1e35d2){const _0x425784=a0_0x2aa7ab;try{let _0x3dac65=!!_0x1e35d2[_0x425784(0x579)],_0x389079=_0x1e35d2[_0x425784(0x5b9)],_0x842184=null;if(this['logger']['verbose'](this[_0x425784(0x7ed)]+'\x20('+this[_0x425784(0x466)][_0x425784(0x243)]+_0x425784(0x283)+_0x3dac65+_0x425784(0x347)+_0x389079),_0x3dac65){this[_0x425784(0x4b0)][_0x425784(0x477)](this[_0x425784(0x7ed)]+'\x20('+this[_0x425784(0x466)][_0x425784(0x243)]+_0x425784(0x6b0));let _0x3257f9={'where':{'remoteJid':_0x10a619,'waitingMenu_id':_0x389079}};if(_0x842184=await this['repository'][_0x425784(0x521)][_0x425784(0x709)](_0x3257f9,this[_0x425784(0x466)][_0x425784(0x243)]),!_0x842184)return this[_0x425784(0x4b0)][_0x425784(0x477)](this[_0x425784(0x7ed)]+'\x20('+this['instance'][_0x425784(0x243)]+_0x425784(0x187)),null;let _0x4a069d=Date[_0x425784(0x458)](),_0x4be36e=_0x842184?.[_0x425784(0x60f)]||0x0,_0x5601c9=_0x4a069d-_0x4be36e*0x3c*0x3e8;if(_0x842184[_0x425784(0x471)]<_0x5601c9){this[_0x425784(0x4b0)]['verbose'](this[_0x425784(0x7ed)]+'\x20('+this[_0x425784(0x466)][_0x425784(0x243)]+_0x425784(0x1c5));let _0x18cc1d={'number':_0x842184['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x842184['waitingMenu_ExpiredMessage']}};await this[_0x425784(0x7aa)](_0x18cc1d);let _0x289ba2={'status':_0x425784(0x2d6),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this['repository'][_0x425784(0x521)]['updateOne'](_0x842184[_0x425784(0x408)],_0x289ba2,this[_0x425784(0x466)]['wuid']),null;}return _0x842184[_0x425784(0x471)]=Date[_0x425784(0x458)](),_0x842184[_0x425784(0x53f)][_0x425784(0x4fd)]=_0x1e35d2,_0x842184;}else{this['logger'][_0x425784(0x477)](this['instanceName']+'\x20('+this[_0x425784(0x466)][_0x425784(0x243)]+_0x425784(0x544)+this[_0x425784(0x466)][_0x425784(0x243)]+_0x425784(0x4dc)),this[_0x425784(0x4b0)][_0x425784(0x477)](this[_0x425784(0x7ed)]+'\x20('+this[_0x425784(0x466)][_0x425784(0x243)]+'):\x20Procurando\x20conversa');let _0x61299a={'where':{'remoteJid':_0x10a619,'status':_0x425784(0x1e7)}};if(_0x842184=await this[_0x425784(0x162)][_0x425784(0x521)][_0x425784(0x709)](_0x61299a,this[_0x425784(0x466)]['wuid']),!_0x842184){let _0x565c0f=await this[_0x425784(0x4ba)](_0x10a619);if(_0x565c0f&&(_0x842184=await this[_0x425784(0x531)](_0x565c0f,_0x1e35d2[_0x425784(0x50e)],_0x1e35d2)),!_0x842184)return null;}let _0x5bc263=Date[_0x425784(0x458)](),_0x111bda=_0x842184?.[_0x425784(0x60f)]||0x0,_0x18e6b5=_0x5bc263-_0x111bda*0x3c*0x3e8;if(this['logger']['verbose'](this[_0x425784(0x7ed)]+'\x20('+this['instance']['wuid']+_0x425784(0x416)+_0x5bc263+',\x20Minutes\x20to\x20Close:\x20'+_0x111bda+_0x425784(0x3b4)+_0x18e6b5),this[_0x425784(0x4b0)][_0x425784(0x477)](this['instanceName']+'\x20('+this[_0x425784(0x466)]['wuid']+_0x425784(0x413)),this[_0x425784(0x4b0)][_0x425784(0x477)](this[_0x425784(0x7ed)]+'\x20('+this['instance'][_0x425784(0x243)]+_0x425784(0x199)+_0x842184['lastInteraction']),this['logger']['verbose'](this[_0x425784(0x7ed)]+'\x20('+this[_0x425784(0x466)][_0x425784(0x243)]+_0x425784(0x2ca)+_0x18e6b5),_0x842184['lastInteraction']<_0x18e6b5){this[_0x425784(0x4b0)][_0x425784(0x477)](this['instanceName']+'\x20('+this['instance'][_0x425784(0x243)]+_0x425784(0x2c7));let _0x47ecad=await this[_0x425784(0x4ba)](_0x10a619);if(_0x47ecad===null)return null;_0x842184&&await this[_0x425784(0x162)]['flowConversation'][_0x425784(0x38e)](_0x842184[_0x425784(0x408)],{'status':_0x425784(0x2d6)},this[_0x425784(0x466)]['wuid']),_0x842184=await this[_0x425784(0x531)](_0x47ecad,_0x1e35d2[_0x425784(0x50e)],_0x1e35d2);}return _0x842184[_0x425784(0x471)]=_0x5bc263,_0x842184['chatLog']['lastReceivedMessage']=_0x1e35d2,_0x842184;}}catch(_0x363513){return this['logger'][_0x425784(0x7e7)](this[_0x425784(0x7ed)]+'\x20('+this['instance']['wuid']+_0x425784(0x474)+(_0x363513 instanceof Error?_0x363513[_0x425784(0x210)]:JSON[_0x425784(0x7c7)](_0x363513,null,0x2))),null;}}async['createNewConversation'](_0x5529ca,_0x2a01c1,_0x2b54d0){const _0x39d79d=a0_0x2aa7ab;this[_0x39d79d(0x4b0)]['verbose'](this[_0x39d79d(0x7ed)]+'\x20('+this['instance'][_0x39d79d(0x243)]+_0x39d79d(0x6bc));try{let _0x4c144a=require(_0x39d79d(0x630))[_0x39d79d(0x7a1)],_0x4ac482=Date['now'](),_0x5e58e4=_0x39d79d(0x774),_0x39fb00=_0x2a01c1[_0x39d79d(0x299)]?null:_0x2b54d0,_0x19a7af=_0x2a01c1[_0x39d79d(0x299)]?_0x2b54d0:null,_0x1ba497=_0x2a01c1[_0x39d79d(0x39b)];await this[_0x39d79d(0x762)](_0x1ba497);let _0x5940c1={..._0x5529ca,'chatLog':null},_0x26f554=await this[_0x39d79d(0x1d2)](_0x5940c1['variables']),_0x48757a=await this[_0x39d79d(0x2e5)](_0x1ba497),_0x596642={..._0x26f554,..._0x48757a,'_remoteJid':_0x1ba497},_0x417d4c={'lastReceivedMessage':_0x39fb00,'lastSendMessage':_0x19a7af,'lastBlockId':_0x5e58e4,'lastCondition':!0x0,'realVariables':_0x596642};_0x5940c1[_0x39d79d(0x53f)]=_0x417d4c,delete _0x5940c1[_0x39d79d(0x408)],_0x5940c1[_0x39d79d(0x408)]=new _0x4c144a(),_0x5940c1[_0x39d79d(0x471)]=_0x4ac482,_0x5940c1[_0x39d79d(0x540)]=_0x39d79d(0x1e7),_0x5940c1[_0x39d79d(0x39b)]=_0x1ba497;let _0xbc28b3=await this[_0x39d79d(0x162)][_0x39d79d(0x521)][_0x39d79d(0x38e)](_0x5940c1[_0x39d79d(0x408)],_0x5940c1,this[_0x39d79d(0x466)][_0x39d79d(0x243)]);return this['logger']['verbose'](this[_0x39d79d(0x7ed)]+'\x20('+this[_0x39d79d(0x466)]['wuid']+_0x39d79d(0x257)),_0xbc28b3?_0x5940c1:null;}catch(_0x32e06a){return this[_0x39d79d(0x4b0)][_0x39d79d(0x7e7)](this[_0x39d79d(0x7ed)]+'\x20('+this[_0x39d79d(0x466)][_0x39d79d(0x243)]+_0x39d79d(0x6a0)+(_0x32e06a instanceof Error?_0x32e06a[_0x39d79d(0x210)]:JSON[_0x39d79d(0x7c7)](_0x32e06a,null,0x2))),_0x32e06a;}}async['uazapiSendText'](_0x32d5d2,_0x2c94e8){const _0x2bcfdd=a0_0x2aa7ab;let _0x5d282b=_0x32d5d2[_0x2bcfdd(0x39b)];_0x2c94e8[_0x2bcfdd(0x350)][_0x2bcfdd(0x39b)]&&_0x2c94e8['uazapi'][_0x2bcfdd(0x39b)][_0x2bcfdd(0x382)]()!==''&&(_0x5d282b=_0x2c94e8[_0x2bcfdd(0x350)][_0x2bcfdd(0x39b)][_0x2bcfdd(0x382)]()),this['logger'][_0x2bcfdd(0x477)](this[_0x2bcfdd(0x7ed)]+'\x20('+this[_0x2bcfdd(0x466)][_0x2bcfdd(0x243)]+_0x2bcfdd(0x284));let _0x57b1d5={'number':_0x5d282b,'options':{'delay':_0x2c94e8['uazapi'][_0x2bcfdd(0x6ec)]},'textMessage':{'text':_0x2c94e8['uazapi'][_0x2bcfdd(0x309)]}};try{let _0xd9f843=await this['textMessage'](_0x57b1d5);if(_0xd9f843){let _0x49c67c={'_id':_0xd9f843['key']['id'],'_fromMe':_0xd9f843['key']['fromMe'],'_remoteJid':_0xd9f843[_0x2bcfdd(0x50e)][_0x2bcfdd(0x39b)]},_0x374dd0=(0x0,m[_0x2bcfdd(0x730)])(_0xd9f843[_0x2bcfdd(0x210)]),_0x57bdee=(0x0,m[_0x2bcfdd(0x246)])(_0x374dd0);_0x32d5d2[_0x2bcfdd(0x53f)][_0x2bcfdd(0x23c)]=_0x2c94e8[_0x2bcfdd(0x408)]['toString']();let {message_normalized:_0x1b5be4}=this['normalizeMessage'](_0x374dd0,_0x57bdee,null);_0x32d5d2[_0x2bcfdd(0x53f)]['lastSendMessage']=await _0x1b5be4;let _0x4f6a4b={'messageId':_0xd9f843[_0x2bcfdd(0x50e)]['id']},_0x1ea836=_0x32d5d2[_0x2bcfdd(0x53f)][_0x2bcfdd(0x3ad)];Object['assign'](_0x1ea836,_0x49c67c),_0x32d5d2['chatLog'][_0x2bcfdd(0x3ad)]=_0x1ea836,this['updateConversation'](_0x32d5d2,_0x2c94e8,_0x4f6a4b);}else{let _0x383916={'error':!0x0};this[_0x2bcfdd(0x463)](_0x32d5d2,_0x2c94e8,_0x383916),this['logger'][_0x2bcfdd(0x7e7)](this[_0x2bcfdd(0x7ed)]+'\x20('+this[_0x2bcfdd(0x466)][_0x2bcfdd(0x243)]+_0x2bcfdd(0x7e8));}}catch(_0x26210d){let _0x32ce28={'error':!0x0,'errorLog':_0x26210d[_0x2bcfdd(0x618)]()};this[_0x2bcfdd(0x463)](_0x32d5d2,_0x2c94e8,_0x32ce28),this[_0x2bcfdd(0x4b0)][_0x2bcfdd(0x7e7)](this[_0x2bcfdd(0x7ed)]+'\x20('+this['instance'][_0x2bcfdd(0x243)]+_0x2bcfdd(0x77b)+(_0x26210d instanceof Error?_0x26210d[_0x2bcfdd(0x210)]:JSON['stringify'](_0x26210d,null,0x2)));}}async[a0_0x2aa7ab(0x20c)](_0x472767,_0x48e0fb){const _0x54491e=a0_0x2aa7ab;let _0x4e2d4a=_0x472767[_0x54491e(0x39b)];_0x48e0fb[_0x54491e(0x350)]['remoteJid']&&_0x48e0fb[_0x54491e(0x350)][_0x54491e(0x39b)][_0x54491e(0x382)]()!==''&&(_0x4e2d4a=_0x48e0fb['uazapi']['remoteJid'][_0x54491e(0x382)]()),this['logger']['verbose'](this['instanceName']+'\x20('+this['instance'][_0x54491e(0x243)]+'):\x20Enviando\x20mídia');let _0x32ab18={'number':_0x4e2d4a,'options':{'delay':_0x48e0fb['uazapi'][_0x54491e(0x6ec)]},'mediaMessage':{'mediatype':_0x48e0fb['uazapi']['mediatype'],'caption':_0x48e0fb[_0x54491e(0x350)][_0x54491e(0x307)],'media':_0x48e0fb['uazapi']['media'],'fileName':_0x48e0fb[_0x54491e(0x350)]['fileName']}};try{let _0x230613=await this[_0x54491e(0x18b)](_0x32ab18);if(_0x230613){let _0x305c88={'_id':_0x230613[_0x54491e(0x50e)]['id'],'_fromMe':_0x230613[_0x54491e(0x50e)]['fromMe'],'_remoteJid':_0x230613[_0x54491e(0x50e)][_0x54491e(0x39b)]},_0x398e8d=(0x0,m['normalizeMessageContent'])(_0x230613[_0x54491e(0x210)]),_0x5008b4=(0x0,m[_0x54491e(0x246)])(_0x398e8d);_0x472767['chatLog']['lastBlockId']=_0x48e0fb['_id'][_0x54491e(0x618)]();let {message_normalized:_0x2d8fa3}=this[_0x54491e(0x75a)](_0x398e8d,_0x5008b4,null);_0x472767[_0x54491e(0x53f)][_0x54491e(0x4b7)]=await _0x2d8fa3;let _0x5dd8c6={'messageId':_0x230613['key']['id']},_0x562f86=_0x472767[_0x54491e(0x53f)][_0x54491e(0x3ad)];Object[_0x54491e(0x819)](_0x562f86,_0x305c88),_0x472767[_0x54491e(0x53f)][_0x54491e(0x3ad)]=_0x562f86,this[_0x54491e(0x463)](_0x472767,_0x48e0fb,_0x5dd8c6);}else{let _0x3fee50={'error':!0x0};this[_0x54491e(0x463)](_0x472767,_0x48e0fb,_0x3fee50),this['logger'][_0x54491e(0x7e7)](this[_0x54491e(0x7ed)]+'\x20('+this['instance'][_0x54491e(0x243)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x3ad22a){let _0x4e1dc8={'error':!0x0,'errorLog':_0x3ad22a['toString']()};this[_0x54491e(0x463)](_0x472767,_0x48e0fb,_0x4e1dc8),this['logger'][_0x54491e(0x7e7)](this[_0x54491e(0x7ed)]+'\x20('+this['instance'][_0x54491e(0x243)]+_0x54491e(0x4fb)+(_0x3ad22a instanceof Error?_0x3ad22a[_0x54491e(0x210)]:JSON[_0x54491e(0x7c7)](_0x3ad22a,null,0x2)));}}async[a0_0x2aa7ab(0x6d7)](_0x56f285,_0x276211){const _0x22d5b2=a0_0x2aa7ab;let _0x38ee62=_0x56f285[_0x22d5b2(0x39b)];_0x276211['uazapi'][_0x22d5b2(0x39b)]&&_0x276211[_0x22d5b2(0x350)][_0x22d5b2(0x39b)][_0x22d5b2(0x382)]()!==''&&(_0x38ee62=_0x276211[_0x22d5b2(0x350)][_0x22d5b2(0x39b)][_0x22d5b2(0x382)]()),this[_0x22d5b2(0x4b0)][_0x22d5b2(0x477)](this[_0x22d5b2(0x7ed)]+'\x20('+this[_0x22d5b2(0x466)][_0x22d5b2(0x243)]+_0x22d5b2(0x631));let _0x33a03a={'number':_0x38ee62,'options':{'delay':_0x276211['uazapi']['delay']},'locationMessage':{'name':_0x276211['uazapi']['name'],'address':_0x276211['uazapi'][_0x22d5b2(0x749)],'latitude':_0x276211[_0x22d5b2(0x350)][_0x22d5b2(0x331)],'longitude':_0x276211[_0x22d5b2(0x350)][_0x22d5b2(0x3a1)]}};try{let _0x2b2dee=await this['locationMessage'](_0x33a03a);if(_0x2b2dee){let _0x4acdd5={'_id':_0x2b2dee[_0x22d5b2(0x50e)]['id'],'_fromMe':_0x2b2dee[_0x22d5b2(0x50e)]['fromMe'],'_remoteJid':_0x2b2dee[_0x22d5b2(0x50e)][_0x22d5b2(0x39b)]},_0x1b8863=(0x0,m[_0x22d5b2(0x730)])(_0x2b2dee[_0x22d5b2(0x210)]),_0x396bc3=(0x0,m[_0x22d5b2(0x246)])(_0x1b8863);_0x56f285[_0x22d5b2(0x53f)][_0x22d5b2(0x23c)]=_0x276211[_0x22d5b2(0x408)][_0x22d5b2(0x618)]();let {message_normalized:_0x2c9140}=this['normalizeMessage'](_0x1b8863,_0x396bc3,null);_0x56f285['chatLog'][_0x22d5b2(0x4b7)]=await _0x2c9140;let _0x5879ca={'messageId':_0x2b2dee[_0x22d5b2(0x50e)]['id']},_0x495907=_0x56f285['chatLog'][_0x22d5b2(0x3ad)];Object['assign'](_0x495907,_0x4acdd5),_0x56f285[_0x22d5b2(0x53f)][_0x22d5b2(0x3ad)]=_0x495907,this[_0x22d5b2(0x463)](_0x56f285,_0x276211,_0x5879ca);}else{let _0x4bacda={'error':!0x0};this[_0x22d5b2(0x463)](_0x56f285,_0x276211,_0x4bacda),this[_0x22d5b2(0x4b0)][_0x22d5b2(0x7e7)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.');}}catch(_0x357b80){let _0x15dbc7={'error':!0x0,'errorLog':_0x357b80[_0x22d5b2(0x618)]()};this[_0x22d5b2(0x463)](_0x56f285,_0x276211,_0x15dbc7),this[_0x22d5b2(0x4b0)][_0x22d5b2(0x7e7)](this[_0x22d5b2(0x7ed)]+'\x20('+this['instance'][_0x22d5b2(0x243)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20'+(_0x357b80 instanceof Error?_0x357b80[_0x22d5b2(0x210)]:JSON['stringify'](_0x357b80,null,0x2)));}}async[a0_0x2aa7ab(0x671)](_0x21a2af,_0x5de613){const _0x2bb8c6=a0_0x2aa7ab;let _0x1e36a5=_0x21a2af['remoteJid'];_0x5de613[_0x2bb8c6(0x350)][_0x2bb8c6(0x39b)]&&_0x5de613[_0x2bb8c6(0x350)]['remoteJid'][_0x2bb8c6(0x382)]()!==''&&(_0x1e36a5=_0x5de613[_0x2bb8c6(0x350)][_0x2bb8c6(0x39b)][_0x2bb8c6(0x382)]()),this[_0x2bb8c6(0x4b0)]['verbose'](this['instanceName']+'\x20('+this[_0x2bb8c6(0x466)][_0x2bb8c6(0x243)]+'):\x20Enviando\x20áudio');let _0x2474bc={'number':_0x1e36a5,'options':{'delay':_0x5de613['uazapi'][_0x2bb8c6(0x6ec)]},'audioMessage':{'audio':_0x5de613[_0x2bb8c6(0x350)][_0x2bb8c6(0x63a)]}};try{let _0x2d7c34=await this[_0x2bb8c6(0x47f)](_0x2474bc);if(_0x2d7c34){let _0x5efdb4={'_id':_0x2d7c34['key']['id'],'_fromMe':_0x2d7c34['key'][_0x2bb8c6(0x299)],'_remoteJid':_0x2d7c34[_0x2bb8c6(0x50e)][_0x2bb8c6(0x39b)]},_0xe9baea=(0x0,m[_0x2bb8c6(0x730)])(_0x2d7c34['message']),_0x4c6eeb=(0x0,m['getContentType'])(_0xe9baea);_0x21a2af[_0x2bb8c6(0x53f)][_0x2bb8c6(0x23c)]=_0x5de613[_0x2bb8c6(0x408)][_0x2bb8c6(0x618)]();let {message_normalized:_0x5ed0ed}=this[_0x2bb8c6(0x75a)](_0xe9baea,_0x4c6eeb,null);_0x21a2af[_0x2bb8c6(0x53f)][_0x2bb8c6(0x4b7)]=await _0x5ed0ed;let _0x35e268={'messageId':_0x2d7c34[_0x2bb8c6(0x50e)]['id']},_0x1908c5=_0x21a2af[_0x2bb8c6(0x53f)][_0x2bb8c6(0x3ad)];Object[_0x2bb8c6(0x819)](_0x1908c5,_0x5efdb4),_0x21a2af[_0x2bb8c6(0x53f)][_0x2bb8c6(0x3ad)]=_0x1908c5,this[_0x2bb8c6(0x463)](_0x21a2af,_0x5de613,_0x35e268);}else{let _0x4e1a3b={'error':!0x0};this['updateConversation'](_0x21a2af,_0x5de613,_0x4e1a3b),this['logger'][_0x2bb8c6(0x7e7)](this[_0x2bb8c6(0x7ed)]+'\x20('+this[_0x2bb8c6(0x466)][_0x2bb8c6(0x243)]+_0x2bb8c6(0x52a));}}catch(_0xa88c47){let _0x5c7162={'error':!0x0,'errorLog':_0xa88c47[_0x2bb8c6(0x618)]()};this[_0x2bb8c6(0x463)](_0x21a2af,_0x5de613,_0x5c7162),this[_0x2bb8c6(0x4b0)][_0x2bb8c6(0x7e7)](this[_0x2bb8c6(0x7ed)]+'\x20('+this[_0x2bb8c6(0x466)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20'+(_0xa88c47 instanceof Error?_0xa88c47[_0x2bb8c6(0x210)]:JSON[_0x2bb8c6(0x7c7)](_0xa88c47,null,0x2)));}}async[a0_0x2aa7ab(0x5eb)](_0x18c0f6,_0x225d0a){const _0x515ed2=a0_0x2aa7ab;let _0x4fa683=_0x18c0f6['remoteJid'];_0x225d0a[_0x515ed2(0x350)][_0x515ed2(0x39b)]&&_0x225d0a['uazapi'][_0x515ed2(0x39b)][_0x515ed2(0x382)]()!==''&&(_0x4fa683=_0x225d0a['uazapi'][_0x515ed2(0x39b)][_0x515ed2(0x382)]()),this[_0x515ed2(0x4b0)]['verbose'](this[_0x515ed2(0x7ed)]+'\x20('+this[_0x515ed2(0x466)][_0x515ed2(0x243)]+_0x515ed2(0x41f));let _0x27db29={'number':_0x4fa683,'options':{'delay':_0x225d0a[_0x515ed2(0x350)][_0x515ed2(0x6ec)]},'contactMessage':[{'fullName':_0x225d0a['uazapi'][_0x515ed2(0x776)],'phoneNumber':_0x225d0a['uazapi'][_0x515ed2(0x224)]}]};try{let _0x40976b=await this[_0x515ed2(0x70b)](_0x27db29);if(_0x40976b){let _0x1630d6={'_id':_0x40976b[_0x515ed2(0x50e)]['id'],'_fromMe':_0x40976b[_0x515ed2(0x50e)][_0x515ed2(0x299)],'_remoteJid':_0x40976b[_0x515ed2(0x50e)][_0x515ed2(0x39b)]},_0x57ae35=(0x0,m[_0x515ed2(0x730)])(_0x40976b[_0x515ed2(0x210)]),_0x42921b=(0x0,m[_0x515ed2(0x246)])(_0x57ae35);_0x18c0f6[_0x515ed2(0x53f)][_0x515ed2(0x23c)]=_0x225d0a[_0x515ed2(0x408)][_0x515ed2(0x618)]();let {message_normalized:_0x46eb29}=this[_0x515ed2(0x75a)](_0x57ae35,_0x42921b,null);_0x18c0f6[_0x515ed2(0x53f)][_0x515ed2(0x4b7)]=await _0x46eb29;let _0xaa7f4={'messageId':_0x40976b[_0x515ed2(0x50e)]['id']},_0xa2bd3c=_0x18c0f6[_0x515ed2(0x53f)]['realVariables'];Object['assign'](_0xa2bd3c,_0x1630d6),_0x18c0f6[_0x515ed2(0x53f)][_0x515ed2(0x3ad)]=_0xa2bd3c,this['updateConversation'](_0x18c0f6,_0x225d0a,_0xaa7f4);}else{let _0x9751a1={'error':!0x0};this[_0x515ed2(0x463)](_0x18c0f6,_0x225d0a,_0x9751a1),this[_0x515ed2(0x4b0)]['error'](this['instanceName']+'\x20('+this[_0x515ed2(0x466)][_0x515ed2(0x243)]+_0x515ed2(0x33f));}}catch(_0x12319e){let _0x206940={'error':!0x0,'errorLog':_0x12319e[_0x515ed2(0x618)]()};this[_0x515ed2(0x463)](_0x18c0f6,_0x225d0a,_0x206940),this[_0x515ed2(0x4b0)]['error'](this[_0x515ed2(0x7ed)]+'\x20('+this[_0x515ed2(0x466)][_0x515ed2(0x243)]+_0x515ed2(0x7d4)+(_0x12319e instanceof Error?_0x12319e['message']:JSON['stringify'](_0x12319e,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x226c29,_0x12ecfc){const _0x4e5567=a0_0x2aa7ab;for(let _0x3171c2 of _0x226c29)_0x3171c2[_0x4e5567(0x486)]&&(_0x3171c2[_0x4e5567(0x486)]=this[_0x4e5567(0x2d9)](_0x3171c2[_0x4e5567(0x486)],_0x12ecfc)),_0x3171c2['optionDescription']&&(_0x3171c2[_0x4e5567(0x5bb)]=this[_0x4e5567(0x2d9)](_0x3171c2[_0x4e5567(0x5bb)],_0x12ecfc));}async[a0_0x2aa7ab(0x277)](_0x44c978,_0x5bbb8a){const _0x447f70=a0_0x2aa7ab;let _0x58affc=_0x44c978[_0x447f70(0x39b)];_0x5bbb8a[_0x447f70(0x350)][_0x447f70(0x39b)]&&_0x5bbb8a['uazapi']['remoteJid'][_0x447f70(0x382)]()!==''&&(_0x58affc=_0x5bbb8a[_0x447f70(0x350)]['remoteJid'][_0x447f70(0x382)]()),this[_0x447f70(0x4b0)][_0x447f70(0x477)](this[_0x447f70(0x7ed)]+'\x20('+this[_0x447f70(0x466)][_0x447f70(0x243)]+_0x447f70(0x24d));let _0x5ec2b7=_0x44c978[_0x447f70(0x392)]['filter'](_0x128eb1=>_0x128eb1['blockId']===_0x5bbb8a[_0x447f70(0x408)])[_0x447f70(0x28c)]((_0x115cbb,_0x2b0291)=>_0x115cbb[_0x447f70(0x3c7)]-_0x2b0291['order']);this[_0x447f70(0x165)](_0x5ec2b7,_0x44c978[_0x447f70(0x53f)][_0x447f70(0x3ad)]);let _0x2902da=_0x5ec2b7[_0x447f70(0x360)](_0x2caabd=>_0x2caabd[_0x447f70(0x486)]),_0xf6dcd4={'number':_0x58affc,'menuMessage':{'type':_0x5bbb8a[_0x447f70(0x350)][_0x447f70(0x6e3)]||'poll','text':_0x5bbb8a[_0x447f70(0x350)][_0x447f70(0x309)]||_0x5bbb8a['uazapi'][_0x447f70(0x6f5)],'footerText':_0x5bbb8a[_0x447f70(0x350)][_0x447f70(0x16d)],'buttonText':_0x5bbb8a[_0x447f70(0x350)][_0x447f70(0x6a2)],'selectableCount':0x1,'choices':_0x2902da},'options':{'delay':_0x5bbb8a[_0x447f70(0x350)]['delay']}};try{let _0x57e988=await this['menuMessage'](_0xf6dcd4);if(_0x57e988){let _0x47fd88={'_id':_0x57e988[_0x447f70(0x50e)]['id'],'_fromMe':_0x57e988[_0x447f70(0x50e)][_0x447f70(0x299)],'_remoteJid':_0x57e988[_0x447f70(0x50e)][_0x447f70(0x39b)]};_0x5bbb8a[_0x447f70(0x350)][_0x447f70(0x7ef)]===!0x0&&(_0x44c978[_0x447f70(0x540)]=_0x447f70(0x3d3),this['logger']['verbose'](this[_0x447f70(0x7ed)]+'\x20('+this[_0x447f70(0x466)][_0x447f70(0x243)]+'):\x20conversation.status:\x20'+_0x44c978[_0x447f70(0x540)])),this['logger'][_0x447f70(0x477)](this[_0x447f70(0x7ed)]+'\x20('+this[_0x447f70(0x466)][_0x447f70(0x243)]+_0x447f70(0x375)+(_0x5bbb8a[_0x447f70(0x350)][_0x447f70(0x6f5)]||_0x5bbb8a[_0x447f70(0x350)]['text'])),_0x44c978[_0x447f70(0x1a0)]=_0x57e988[_0x447f70(0x50e)]['id'],_0x44c978[_0x447f70(0x554)]=_0x5bbb8a[_0x447f70(0x350)]['name']||_0x5bbb8a['uazapi'][_0x447f70(0x309)],_0x44c978[_0x447f70(0x5f7)]=_0x5ec2b7,_0x5bbb8a[_0x447f70(0x350)][_0x447f70(0x7f9)]&&(_0x44c978[_0x447f70(0x78c)]=_0x5bbb8a[_0x447f70(0x350)][_0x447f70(0x7f9)]),this[_0x447f70(0x4b0)][_0x447f70(0x477)](this[_0x447f70(0x7ed)]+'\x20('+this[_0x447f70(0x466)]['wuid']+_0x447f70(0x615)+_0x44c978['waitingMenu_text']);let _0x3ff582=(0x0,m[_0x447f70(0x730)])(_0x57e988[_0x447f70(0x210)]),_0x574194=(0x0,m[_0x447f70(0x246)])(_0x3ff582);_0x44c978[_0x447f70(0x53f)][_0x447f70(0x23c)]=_0x5bbb8a[_0x447f70(0x408)][_0x447f70(0x618)]();let {message_normalized:_0x2fa0c3}=this[_0x447f70(0x75a)](_0x3ff582,_0x574194,null);_0x44c978[_0x447f70(0x53f)][_0x447f70(0x4b7)]=await _0x2fa0c3;let _0xea868f={'messageId':_0x57e988['key']['id']},_0x52b7db=_0x44c978[_0x447f70(0x53f)][_0x447f70(0x3ad)];Object['assign'](_0x52b7db,_0x47fd88),_0x44c978[_0x447f70(0x53f)][_0x447f70(0x3ad)]=_0x52b7db,this[_0x447f70(0x463)](_0x44c978,_0x5bbb8a,_0xea868f);}else{let _0x2a4ba7={'error':!0x0};this['updateConversation'](_0x44c978,_0x5bbb8a,_0x2a4ba7),this[_0x447f70(0x4b0)][_0x447f70(0x7e7)](this[_0x447f70(0x7ed)]+'\x20('+this['instance'][_0x447f70(0x243)]+_0x447f70(0x6e7));}}catch(_0xbe132f){let _0x2958b9={'error':!0x0,'errorLog':_0xbe132f instanceof Error?_0xbe132f[_0x447f70(0x210)]:JSON[_0x447f70(0x7c7)](_0xbe132f,null,0x2)};this[_0x447f70(0x463)](_0x44c978,_0x5bbb8a,_0x2958b9),this['logger']['error'](this[_0x447f70(0x7ed)]+'\x20('+this[_0x447f70(0x466)][_0x447f70(0x243)]+_0x447f70(0x6c3)+(_0xbe132f instanceof Error?_0xbe132f[_0x447f70(0x210)]:JSON[_0x447f70(0x7c7)](_0xbe132f,null,0x2)));}}async[a0_0x2aa7ab(0x365)](_0xd48d1f,_0x103a33){const _0x3f4c62=a0_0x2aa7ab;this['logger'][_0x3f4c62(0x477)](this[_0x3f4c62(0x7ed)]+'\x20('+this[_0x3f4c62(0x466)][_0x3f4c62(0x243)]+_0x3f4c62(0x23e));let _0x65f0cd=_0xd48d1f['chatLog'][_0x3f4c62(0x4b2)][_0x3f4c62(0x701)](_0x49585b=>_0x49585b[_0x3f4c62(0x640)][_0x3f4c62(0x618)]()===_0x103a33['uazapi']['blockId']['toString']()),_0x3db26f={'id':_0x65f0cd[_0x3f4c62(0x6e9)],'remoteJid':_0x65f0cd[_0x3f4c62(0x39b)],'fromMe':_0x65f0cd[_0x3f4c62(0x299)]};try{let _0xe4cde0=await this[_0x3f4c62(0x67c)](_0x3db26f);if(_0xe4cde0){let _0x2685a2=(0x0,m[_0x3f4c62(0x730)])(_0xe4cde0[_0x3f4c62(0x210)]),_0x11b65d=(0x0,m[_0x3f4c62(0x246)])(_0x2685a2);_0xd48d1f[_0x3f4c62(0x53f)][_0x3f4c62(0x23c)]=_0x103a33['_id'][_0x3f4c62(0x618)]();let {message_normalized:_0x355aa1}=this[_0x3f4c62(0x75a)](_0x2685a2,_0x11b65d,null);_0xd48d1f['chatLog'][_0x3f4c62(0x4b7)]=await _0x355aa1;let _0x126449={};this[_0x3f4c62(0x463)](_0xd48d1f,_0x103a33,_0x126449);}else{let _0x74ad4f={'error':!0x0};this[_0x3f4c62(0x463)](_0xd48d1f,_0x103a33,_0x74ad4f),this[_0x3f4c62(0x4b0)][_0x3f4c62(0x7e7)](this['instanceName']+'\x20('+this[_0x3f4c62(0x466)]['wuid']+_0x3f4c62(0x56f));}}catch(_0xa3818e){let _0x46f72c={'error':!0x0,'errorLog':_0xa3818e instanceof Error?_0xa3818e[_0x3f4c62(0x210)]:JSON[_0x3f4c62(0x7c7)](_0xa3818e,null,0x2)};this[_0x3f4c62(0x463)](_0xd48d1f,_0x103a33,_0x46f72c),this[_0x3f4c62(0x4b0)][_0x3f4c62(0x7e7)](this['instanceName']+'\x20('+this['instance'][_0x3f4c62(0x243)]+_0x3f4c62(0x62c)+(_0xa3818e instanceof Error?_0xa3818e[_0x3f4c62(0x210)]:JSON[_0x3f4c62(0x7c7)](_0xa3818e,null,0x2)));}}async[a0_0x2aa7ab(0x1c1)](_0x2ac9d0){const _0x17a999=a0_0x2aa7ab;if(!_0x2ac9d0[_0x17a999(0x6f5)])throw new w(_0x17a999(0x509));if(await this[_0x17a999(0x162)][_0x17a999(0x722)]['findOne']({'where':{'name':_0x2ac9d0[_0x17a999(0x6f5)]}},this[_0x17a999(0x466)][_0x17a999(0x243)]))throw new w(_0x17a999(0x6a5));return'name'in _0x2ac9d0&&_0x17a999(0x559)in _0x2ac9d0&&_0x17a999(0x32e)in _0x2ac9d0&&Object[_0x17a999(0x717)](_0x2ac9d0)[_0x17a999(0x57b)]===0x3?this[_0x17a999(0x797)](_0x2ac9d0[_0x17a999(0x32e)],_0x2ac9d0[_0x17a999(0x559)],_0x2ac9d0[_0x17a999(0x6f5)]):this[_0x17a999(0x2da)](_0x2ac9d0);}async['createSharedFlow'](_0x522b82,_0x19b758,_0x4c1e9a){const _0x343053=a0_0x2aa7ab;try{this[_0x343053(0x4b0)][_0x343053(0x477)](this[_0x343053(0x7ed)]+'\x20('+this[_0x343053(0x466)][_0x343053(0x243)]+'):\x20Criando\x20fluxo\x20compartilhado...');let _0x1cf655=await this[_0x343053(0x162)]['flow']['findOne']({'where':{'name':_0x4c1e9a,'sharePass':_0x19b758}},_0x522b82);if(!_0x1cf655)throw new w(_0x343053(0x55e));let _0x5768f9={..._0x1cf655};return _0x5768f9[_0x343053(0x32e)]=this[_0x343053(0x466)][_0x343053(0x243)],_0x5768f9[_0x343053(0x72d)]=Array[_0x343053(0x36a)](new Set([..._0x1cf655[_0x343053(0x72d)]||[],_0x1cf655[_0x343053(0x32e)],this[_0x343053(0x466)][_0x343053(0x243)]])),_0x1cf655[_0x343053(0x72d)]=_0x5768f9[_0x343053(0x72d)],await this[_0x343053(0x162)]['flow']['updateOne'](_0x1cf655[_0x343053(0x408)],{'shareOwners':_0x1cf655[_0x343053(0x72d)]},_0x1cf655[_0x343053(0x32e)]),_0x1cf655['default']===!0x0&&await this[_0x343053(0x162)][_0x343053(0x722)]['updateMany']({},{'default':!0x1},this[_0x343053(0x466)][_0x343053(0x243)]),await this[_0x343053(0x162)]['flow']['createAndSave'](_0x5768f9,this[_0x343053(0x466)][_0x343053(0x243)]);}catch(_0x6be7c9){throw this[_0x343053(0x4b0)][_0x343053(0x7e7)](this['instanceName']+'\x20('+this[_0x343053(0x466)]['wuid']+_0x343053(0x7f6)+_0x6be7c9),new w(_0x343053(0x31d)+_0x6be7c9);}}async['createRegularFlow'](_0x1d03c5){const _0x44a891=a0_0x2aa7ab;try{this['logger'][_0x44a891(0x477)](this['instanceName']+'\x20('+this[_0x44a891(0x466)][_0x44a891(0x243)]+_0x44a891(0x5ab)),delete _0x1d03c5[_0x44a891(0x72d)],delete _0x1d03c5[_0x44a891(0x559)],delete _0x1d03c5['owner'],_0x1d03c5['default']===!0x0&&await this['repository'][_0x44a891(0x722)][_0x44a891(0x6c0)]({},{'default':!0x1},this[_0x44a891(0x466)][_0x44a891(0x243)]);let _0x1a7d35=new le[(_0x44a891(0x27a))]['ObjectId'](),_0x523164={'_id':_0x1a7d35,'default':!0x0,'title':_0x44a891(0x72e),'x':0x0,'y':0x0},_0x38072b={'_id':new le[(_0x44a891(0x27a))][(_0x44a891(0x7a1))](),'order':0x1,'groupId':_0x1a7d35['toString'](),'type':_0x44a891(0x774)},_0x557644={'_id':new le[(_0x44a891(0x27a))][(_0x44a891(0x7a1))](),'owner':this[_0x44a891(0x466)]['wuid'],'name':_0x1d03c5[_0x44a891(0x6f5)],'groups':[_0x523164],'blocks':[_0x38072b],..._0x1d03c5};return await this[_0x44a891(0x162)][_0x44a891(0x722)]['createAndSave'](_0x557644,this[_0x44a891(0x466)][_0x44a891(0x243)]);}catch(_0xd19a71){throw this[_0x44a891(0x4b0)]['error'](this[_0x44a891(0x7ed)]+'\x20('+this['instance'][_0x44a891(0x243)]+_0x44a891(0x271)+_0xd19a71),new w(_0x44a891(0x4e9)+_0xd19a71);}}async['synchronizeFlows'](_0x1d4b18,_0x2117b9){const _0x417493=a0_0x2aa7ab;try{let _0x58e359=await this[_0x417493(0x162)][_0x417493(0x722)][_0x417493(0x709)]({'where':{'_id':_0x1d4b18}},_0x2117b9);if(_0x58e359&&_0x58e359[_0x417493(0x72d)]){for(let _0x460c76 of _0x58e359['shareOwners'])if(_0x460c76!==_0x2117b9){let _0x223e70={..._0x58e359,'owner':_0x460c76};await this[_0x417493(0x162)][_0x417493(0x722)][_0x417493(0x2d5)](_0x1d4b18,_0x223e70,_0x460c76);}}}catch(_0x246608){this['logger']['error'](_0x417493(0x687)+_0x246608);}}async['deleteFlow'](_0x2ff0de){const _0x3c3269=a0_0x2aa7ab;try{this[_0x3c3269(0x4b0)][_0x3c3269(0x477)](this['instanceName']+'\x20('+this['instance'][_0x3c3269(0x243)]+_0x3c3269(0x5a8));let _0x489891=await this['repository']['flow'][_0x3c3269(0x709)]({'where':{'name':_0x2ff0de}},this[_0x3c3269(0x466)][_0x3c3269(0x243)]);if(_0x489891&&_0x489891[_0x3c3269(0x72d)]&&_0x489891[_0x3c3269(0x72d)][_0x3c3269(0x57b)]>0x1){for(let _0x12a2ea of _0x489891['shareOwners'])if(_0x12a2ea!==this[_0x3c3269(0x466)][_0x3c3269(0x243)]){let _0x4c502d=await this[_0x3c3269(0x162)][_0x3c3269(0x722)][_0x3c3269(0x709)]({'where':{'sharePass':_0x489891['sharePass']}},_0x12a2ea);_0x4c502d&&(_0x4c502d[_0x3c3269(0x72d)]=_0x4c502d['shareOwners'][_0x3c3269(0x537)](_0x5508f0=>_0x5508f0!==_0x489891['owner']),await this[_0x3c3269(0x162)]['flow'][_0x3c3269(0x38e)](_0x4c502d[_0x3c3269(0x408)],{'shareOwners':_0x4c502d[_0x3c3269(0x72d)]},_0x12a2ea));}}return await this[_0x3c3269(0x162)]['flow'][_0x3c3269(0x576)]({'where':{'name':_0x2ff0de}},this[_0x3c3269(0x466)][_0x3c3269(0x243)]);}catch(_0xf7bd6c){return this['logger'][_0x3c3269(0x7e7)](this[_0x3c3269(0x7ed)]+'\x20('+this['instance'][_0x3c3269(0x243)]+_0x3c3269(0x25c)+(_0xf7bd6c instanceof Error?_0xf7bd6c[_0x3c3269(0x210)]:JSON[_0x3c3269(0x7c7)](_0xf7bd6c,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+_0xf7bd6c};}}async['getFlow'](_0x14622e){const _0x221896=a0_0x2aa7ab;try{this[_0x221896(0x4b0)][_0x221896(0x477)](this[_0x221896(0x7ed)]+'\x20('+this[_0x221896(0x466)][_0x221896(0x243)]+_0x221896(0x5e6));let _0x57ae06=await this[_0x221896(0x162)]['flow'][_0x221896(0x709)]({'where':{'name':_0x14622e}},this[_0x221896(0x466)]['wuid']);if(!_0x57ae06)throw new Error(_0x221896(0x74d));if(!this[_0x221896(0x59f)]&&(await this[_0x221896(0x740)](),!this[_0x221896(0x59f)]))return null;let _0x21f4cd=this['AutomateSystem']?.[_0x221896(0x21e)][_0x221896(0x360)](_0xe7a725=>_0xe7a725[_0x221896(0x6f5)]),_0x4e6839=[_0x221896(0x676),'nomecompleto',_0x221896(0x2b0),_0x221896(0x18d),_0x221896(0x540),'notas',_0x221896(0x678),_0x221896(0x706),_0x221896(0x2ef)];_0x57ae06[_0x221896(0x511)]=_0x57ae06[_0x221896(0x511)][_0x221896(0x537)](_0x26655b=>!(_0x26655b[_0x221896(0x38f)]===_0x221896(0x5aa)||_0x26655b['leadInfo'])),_0x4e6839[_0x221896(0x53a)](_0x3b5c95=>{const _0x137d23=_0x221896;_0x57ae06[_0x137d23(0x511)]['push']({'folder':_0x137d23(0x5aa),'name':_0x3b5c95,'value':'','doc':'','leadInfo':!0x0});}),_0x21f4cd[_0x221896(0x53a)](_0x4d6af2=>{const _0x1f11ca=_0x221896;let _0x2b81c8=_0x57ae06['variables'][_0x1f11ca(0x4c1)](_0x3bb833=>_0x3bb833[_0x1f11ca(0x6f5)]===_0x4d6af2);_0x2b81c8===-0x1?_0x57ae06[_0x1f11ca(0x511)][_0x1f11ca(0x31c)]({'folder':_0x1f11ca(0x5aa),'name':_0x4d6af2,'value':'','doc':'','leadInfo':!0x0}):(_0x57ae06[_0x1f11ca(0x511)][_0x2b81c8][_0x1f11ca(0x38f)]=_0x1f11ca(0x5aa),_0x57ae06[_0x1f11ca(0x511)][_0x2b81c8][_0x1f11ca(0x5aa)]=!0x0);}),_0x57ae06[_0x221896(0x5de)]&&_0x57ae06[_0x221896(0x5de)][_0x221896(0x57b)]>0x0&&_0x57ae06[_0x221896(0x5de)][_0x221896(0x53a)](_0xd542d7=>{const _0x197794=_0x221896;_0xd542d7[_0x197794(0x738)]&&_0xd542d7['next_groupId']&&_0xd542d7[_0x197794(0x738)]===_0xd542d7[_0x197794(0x1be)]&&(_0xd542d7['next_groupId']=null);});let _0x3ed01c=await this[_0x221896(0x162)][_0x221896(0x722)][_0x221896(0x38e)](_0x57ae06[_0x221896(0x408)],_0x57ae06,this[_0x221896(0x466)][_0x221896(0x243)]);if(!_0x3ed01c)throw new Error(_0x221896(0x70e));return _0x3ed01c;}catch(_0x1004c1){throw this[_0x221896(0x4b0)][_0x221896(0x7e7)](this['instanceName']+'\x20('+this[_0x221896(0x466)][_0x221896(0x243)]+_0x221896(0x1fa)+(_0x1004c1 instanceof Error?_0x1004c1[_0x221896(0x210)]:JSON['stringify'](_0x1004c1,null,0x2))),new w(_0x221896(0x718)+_0x1004c1);}}async[a0_0x2aa7ab(0x1c4)](){const _0x23ddf1=a0_0x2aa7ab;try{return this[_0x23ddf1(0x4b0)][_0x23ddf1(0x477)](this[_0x23ddf1(0x7ed)]+'\x20('+this[_0x23ddf1(0x466)][_0x23ddf1(0x243)]+_0x23ddf1(0x297)),await this['repository']['flow'][_0x23ddf1(0x39c)](this['instance'][_0x23ddf1(0x243)]),await this[_0x23ddf1(0x162)]['flow'][_0x23ddf1(0x644)]({'where':{}},this[_0x23ddf1(0x466)]['wuid']);}catch(_0x2ee459){return this[_0x23ddf1(0x4b0)][_0x23ddf1(0x7e7)](this[_0x23ddf1(0x7ed)]+'\x20('+this[_0x23ddf1(0x466)][_0x23ddf1(0x243)]+_0x23ddf1(0x4fc)+(_0x2ee459 instanceof Error?_0x2ee459[_0x23ddf1(0x210)]:JSON[_0x23ddf1(0x7c7)](_0x2ee459,null,0x2))),{'message':_0x23ddf1(0x59a)+_0x2ee459};}}async['editFlow'](_0x58a226){const _0x23b9ba=a0_0x2aa7ab;try{this[_0x23b9ba(0x4b0)]['verbose'](this[_0x23b9ba(0x7ed)]+'\x20('+this[_0x23b9ba(0x466)][_0x23b9ba(0x243)]+_0x23b9ba(0x455));let _0x55bf48=await this['repository'][_0x23b9ba(0x722)][_0x23b9ba(0x709)]({'where':{'name':_0x58a226['name']}},this['instance']['wuid']);if(!_0x55bf48)return{'message':_0x23b9ba(0x2cf)};_0x58a226[_0x23b9ba(0x798)]===!0x0&&await this[_0x23b9ba(0x162)][_0x23b9ba(0x722)][_0x23b9ba(0x6c0)]({},{'default':!0x1},this[_0x23b9ba(0x466)]['wuid']),delete _0x58a226[_0x23b9ba(0x72d)],delete _0x58a226[_0x23b9ba(0x559)];let _0x412386=await this[_0x23b9ba(0x162)][_0x23b9ba(0x722)][_0x23b9ba(0x38e)](_0x55bf48[_0x23b9ba(0x408)],_0x58a226,this[_0x23b9ba(0x466)][_0x23b9ba(0x243)]);return _0x412386&&_0x412386['shareOwners']&&_0x412386['shareOwners'][_0x23b9ba(0x57b)]>0x1&&this[_0x23b9ba(0x5a0)](_0x412386[_0x23b9ba(0x408)],this[_0x23b9ba(0x466)][_0x23b9ba(0x243)]),_0x412386;}catch(_0x36a0e9){throw this[_0x23b9ba(0x4b0)]['error'](this['instanceName']+'\x20('+this[_0x23b9ba(0x466)][_0x23b9ba(0x243)]+_0x23b9ba(0x1a6)+(_0x36a0e9 instanceof Error?_0x36a0e9[_0x23b9ba(0x210)]:JSON[_0x23b9ba(0x7c7)](_0x36a0e9,null,0x2))),new w(_0x23b9ba(0x52c)+(_0x36a0e9 instanceof Error?_0x36a0e9['message']:JSON[_0x23b9ba(0x7c7)](_0x36a0e9,null,0x2)));}}async['editFlowBlock'](_0x56e49d){const _0x54d766=a0_0x2aa7ab;try{this[_0x54d766(0x4b0)][_0x54d766(0x477)](this[_0x54d766(0x7ed)]+'\x20('+this['instance'][_0x54d766(0x243)]+'):\x20Editando\x20bloco...');let _0x4e192e=await this[_0x54d766(0x162)][_0x54d766(0x722)][_0x54d766(0x709)]({'where':{'name':_0x56e49d[_0x54d766(0x6f5)]}},this[_0x54d766(0x466)][_0x54d766(0x243)]);_0x4e192e||this[_0x54d766(0x41a)](_0x54d766(0x74d));let {block:_0x112881}=_0x56e49d;_0x112881?.[_0x54d766(0x32f)]?this[_0x54d766(0x305)](_0x4e192e,_0x56e49d):_0x112881?.['delete']?this['deleteBlock'](_0x4e192e,_0x56e49d):_0x112881[_0x54d766(0x408)]?await this[_0x54d766(0x2e6)](_0x4e192e,_0x56e49d):this['addBlock'](_0x4e192e,_0x56e49d);let _0x5962a5=await this[_0x54d766(0x162)][_0x54d766(0x722)][_0x54d766(0x38e)](_0x4e192e['_id'],_0x4e192e,this[_0x54d766(0x466)][_0x54d766(0x243)]);if(_0x5962a5&&_0x5962a5[_0x54d766(0x72d)]&&_0x5962a5[_0x54d766(0x72d)][_0x54d766(0x57b)]>0x1&&this[_0x54d766(0x5a0)](_0x5962a5['_id'],this[_0x54d766(0x466)][_0x54d766(0x243)]),!_0x5962a5)throw new Error(_0x54d766(0x70e));return _0x5962a5;}catch(_0x45ea95){this[_0x54d766(0x41a)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x45ea95);}}async[a0_0x2aa7ab(0x305)](_0xe54df,_0x3f7c87){const _0x59208e=a0_0x2aa7ab;let _0x328a56=_0x3f7c87['block']['_id'],_0x421dc4=_0xe54df[_0x59208e(0x5de)][_0x59208e(0x701)](_0x23d702=>_0x23d702[_0x59208e(0x408)][_0x59208e(0x618)]()===_0x328a56);if(!_0x421dc4){this[_0x59208e(0x4b0)][_0x59208e(0x7e7)](this[_0x59208e(0x7ed)]+'\x20('+this[_0x59208e(0x466)][_0x59208e(0x243)]+_0x59208e(0x5b0)+_0x328a56+_0x59208e(0x27f));return;}this[_0x59208e(0x4b0)]['verbose'](this['instanceName']+'\x20('+this[_0x59208e(0x466)]['wuid']+_0x59208e(0x669)+JSON[_0x59208e(0x7c7)](_0x421dc4));let _0x1ddb4e=JSON[_0x59208e(0x42d)](JSON[_0x59208e(0x7c7)](_0x421dc4));_0x1ddb4e[_0x59208e(0x408)]=new le[(_0x59208e(0x798))][(_0x59208e(0x27a))][(_0x59208e(0x7a1))](),this[_0x59208e(0x4b0)][_0x59208e(0x477)](this[_0x59208e(0x7ed)]+'\x20('+this[_0x59208e(0x466)]['wuid']+_0x59208e(0x688)+JSON[_0x59208e(0x7c7)](_0x1ddb4e)),_0xe54df['blocks'][_0x59208e(0x31c)](_0x1ddb4e),this[_0x59208e(0x346)](_0xe54df['blocks'],_0x1ddb4e[_0x59208e(0x738)]);}[a0_0x2aa7ab(0x41a)](_0x513d6f){const _0x456c45=a0_0x2aa7ab;throw this[_0x456c45(0x4b0)]['error'](this[_0x456c45(0x7ed)]+'\x20('+this[_0x456c45(0x466)][_0x456c45(0x243)]+_0x456c45(0x544)+_0x513d6f),new w(_0x513d6f);}[a0_0x2aa7ab(0x4e1)](_0x539ca4,_0x1c1e4e){const _0xc3b859=a0_0x2aa7ab;let {block:_0x220f7e}=_0x1c1e4e;if(_0x220f7e[_0xc3b859(0x793)]===_0xc3b859(0x774)){this['throwAndLogError'](_0xc3b859(0x62a));return;}if(!_0x220f7e[_0xc3b859(0x408)]){this[_0xc3b859(0x41a)](_0xc3b859(0x635));return;}let _0x2c2be4=_0x539ca4['blocks'][_0xc3b859(0x701)](_0x1671d3=>_0x1671d3[_0xc3b859(0x408)][_0xc3b859(0x618)]()===_0x1c1e4e[_0xc3b859(0x750)]['_id'][_0xc3b859(0x618)]());if(!_0x2c2be4){this[_0xc3b859(0x41a)](_0xc3b859(0x2e2)+_0x220f7e[_0xc3b859(0x408)]+_0xc3b859(0x65c));return;}_0x539ca4[_0xc3b859(0x5de)]=_0x539ca4[_0xc3b859(0x5de)][_0xc3b859(0x537)](_0x369496=>_0x369496[_0xc3b859(0x408)][_0xc3b859(0x618)]()!==_0x1c1e4e[_0xc3b859(0x750)][_0xc3b859(0x408)][_0xc3b859(0x618)]()),_0x539ca4[_0xc3b859(0x6be)]=_0x539ca4[_0xc3b859(0x6be)]['filter'](_0x222a5b=>_0x222a5b[_0xc3b859(0x640)]!==_0x220f7e[_0xc3b859(0x408)][_0xc3b859(0x618)]()),_0x539ca4['varedits']=_0x539ca4[_0xc3b859(0x581)][_0xc3b859(0x537)](_0xb7f42f=>_0xb7f42f['blockId']!==_0x220f7e[_0xc3b859(0x408)][_0xc3b859(0x618)]()),_0x539ca4[_0xc3b859(0x392)]=_0x539ca4[_0xc3b859(0x392)][_0xc3b859(0x537)](_0x1f0aa6=>_0x1f0aa6[_0xc3b859(0x640)]!==_0x220f7e['_id'][_0xc3b859(0x618)]()),this[_0xc3b859(0x346)](_0x539ca4['blocks'],_0x2c2be4[_0xc3b859(0x738)]);}async[a0_0x2aa7ab(0x2e6)](_0x4a2210,_0x1d64a6){const _0x3d6f3e=a0_0x2aa7ab;let _0xaf380f=_0x4a2210[_0x3d6f3e(0x5de)][_0x3d6f3e(0x4c1)](_0x198b94=>_0x198b94[_0x3d6f3e(0x408)]['toString']()===_0x1d64a6[_0x3d6f3e(0x750)][_0x3d6f3e(0x408)][_0x3d6f3e(0x618)]());if(this[_0x3d6f3e(0x4b0)]['verbose'](this[_0x3d6f3e(0x7ed)]+'\x20('+this[_0x3d6f3e(0x466)]['wuid']+_0x3d6f3e(0x4fe)+_0xaf380f),_0xaf380f===-0x1){this[_0x3d6f3e(0x4b0)][_0x3d6f3e(0x477)]('Bloco\x20com\x20ID\x20'+_0x1d64a6[_0x3d6f3e(0x750)][_0x3d6f3e(0x408)]+_0x3d6f3e(0x1ea));return;}if(_0x4a2210[_0x3d6f3e(0x5de)][_0xaf380f]['type']===_0x3d6f3e(0x774)){let _0x3b21a1=Object[_0x3d6f3e(0x717)](_0x1d64a6[_0x3d6f3e(0x750)]);if(_0x3b21a1['length']>0x2||_0x3b21a1[_0x3d6f3e(0x57b)]===0x2&&!_0x3b21a1[_0x3d6f3e(0x323)]('next_groupId')){this[_0x3d6f3e(0x41a)](_0x3d6f3e(0x317));return;}}let _0x18aa73=_0x4a2210['blocks'][_0xaf380f][_0x3d6f3e(0x738)];for(let _0x207536 in _0x1d64a6[_0x3d6f3e(0x750)])_0x1d64a6[_0x3d6f3e(0x750)][_0x3d6f3e(0x6ba)](_0x207536)&&(_0x4a2210[_0x3d6f3e(0x5de)][_0xaf380f][_0x207536]=_0x1d64a6[_0x3d6f3e(0x750)][_0x207536]);if(this[_0x3d6f3e(0x4b0)][_0x3d6f3e(0x477)](this[_0x3d6f3e(0x7ed)]+'\x20('+this['instance'][_0x3d6f3e(0x243)]+_0x3d6f3e(0x2fd)+JSON[_0x3d6f3e(0x7c7)](_0x4a2210[_0x3d6f3e(0x5de)][_0xaf380f])),_0x4a2210[_0x3d6f3e(0x5de)][_0xaf380f][_0x3d6f3e(0x632)]&&'header'in _0x4a2210[_0x3d6f3e(0x5de)][_0xaf380f]['apirequest']){this[_0x3d6f3e(0x4b0)][_0x3d6f3e(0x477)](this[_0x3d6f3e(0x7ed)]+'\x20('+this['instance'][_0x3d6f3e(0x243)]+_0x3d6f3e(0x799));let _0x5c0190=JSON[_0x3d6f3e(0x7c7)](_0x4a2210[_0x3d6f3e(0x5de)][_0xaf380f][_0x3d6f3e(0x632)]['header'],null,0x1);_0x5c0190[_0x3d6f3e(0x57b)]>0x2&&(_0x5c0190=_0x5c0190['substring'](0x1,_0x5c0190[_0x3d6f3e(0x57b)]-0x1)[_0x3d6f3e(0x382)]()),_0x4a2210[_0x3d6f3e(0x5de)][_0xaf380f][_0x3d6f3e(0x632)][_0x3d6f3e(0x1ec)]=_0x5c0190;}if(_0x4a2210[_0x3d6f3e(0x5de)][_0xaf380f][_0x3d6f3e(0x632)]&&_0x3d6f3e(0x4f9)in _0x4a2210[_0x3d6f3e(0x5de)][_0xaf380f]['apirequest']){this[_0x3d6f3e(0x4b0)][_0x3d6f3e(0x477)](this[_0x3d6f3e(0x7ed)]+'\x20('+this['instance'][_0x3d6f3e(0x243)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString');let _0x105b68=JSON[_0x3d6f3e(0x7c7)](_0x4a2210[_0x3d6f3e(0x5de)][_0xaf380f][_0x3d6f3e(0x632)][_0x3d6f3e(0x4f9)],null,0x1);_0x105b68['length']>0x2&&(_0x105b68=_0x105b68[_0x3d6f3e(0x81a)](0x1,_0x105b68[_0x3d6f3e(0x57b)]-0x1)['trim']()),_0x4a2210[_0x3d6f3e(0x5de)][_0xaf380f][_0x3d6f3e(0x632)][_0x3d6f3e(0x77c)]=_0x105b68;}let _0x416675=_0x4a2210[_0x3d6f3e(0x5de)][_0xaf380f][_0x3d6f3e(0x738)];_0x18aa73!==_0x416675?(this['reorderBlocks'](_0x4a2210[_0x3d6f3e(0x5de)],_0x18aa73),this[_0x3d6f3e(0x346)](_0x4a2210[_0x3d6f3e(0x5de)],_0x416675)):this[_0x3d6f3e(0x346)](_0x4a2210[_0x3d6f3e(0x5de)],_0x18aa73);}[a0_0x2aa7ab(0x241)](_0x1f62f7,_0xe76c0a){const _0x4e2e3e=a0_0x2aa7ab;if(_0xe76c0a[_0x4e2e3e(0x750)][_0x4e2e3e(0x793)]===_0x4e2e3e(0x774)){this[_0x4e2e3e(0x41a)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0xe76c0a['block'][_0x4e2e3e(0x632)]&&_0x4e2e3e(0x665)in _0xe76c0a[_0x4e2e3e(0x750)][_0x4e2e3e(0x632)]){this[_0x4e2e3e(0x4b0)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4e2e3e(0x243)]+_0x4e2e3e(0x799));let _0x14bc1d=JSON[_0x4e2e3e(0x7c7)](_0xe76c0a[_0x4e2e3e(0x750)][_0x4e2e3e(0x632)][_0x4e2e3e(0x665)],null,0x1);_0x14bc1d['length']>0x2&&(_0x14bc1d=_0x14bc1d['substring'](0x1,_0x14bc1d[_0x4e2e3e(0x57b)]-0x1)[_0x4e2e3e(0x382)]()),_0xe76c0a[_0x4e2e3e(0x750)][_0x4e2e3e(0x632)]['headerString']=_0x14bc1d;}_0xe76c0a[_0x4e2e3e(0x750)][_0x4e2e3e(0x632)]&&_0x4e2e3e(0x4f9)in _0xe76c0a[_0x4e2e3e(0x750)][_0x4e2e3e(0x632)]&&(this[_0x4e2e3e(0x4b0)][_0x4e2e3e(0x477)](this[_0x4e2e3e(0x7ed)]+'\x20('+this['instance'][_0x4e2e3e(0x243)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0xe76c0a[_0x4e2e3e(0x750)]['apirequest']['bodyString']=JSON[_0x4e2e3e(0x7c7)](_0xe76c0a['block'][_0x4e2e3e(0x632)][_0x4e2e3e(0x4f9)],null,0x1)[_0x4e2e3e(0x382)]()),_0x1f62f7['blocks'][_0x4e2e3e(0x31c)](_0xe76c0a[_0x4e2e3e(0x750)]),this[_0x4e2e3e(0x346)](_0x1f62f7[_0x4e2e3e(0x5de)],_0xe76c0a[_0x4e2e3e(0x750)][_0x4e2e3e(0x738)]);}[a0_0x2aa7ab(0x346)](_0x3a7c8d,_0x58c587){const _0x282799=a0_0x2aa7ab;let _0x42d87a=_0x3a7c8d['filter'](_0x1e47d7=>_0x1e47d7[_0x282799(0x738)]===_0x58c587);_0x42d87a[_0x282799(0x28c)]((_0x321324,_0x36135e)=>_0x321324['order']-_0x36135e[_0x282799(0x3c7)]),_0x42d87a['forEach']((_0x2bf0d9,_0xcb2d2)=>_0x2bf0d9[_0x282799(0x3c7)]=_0xcb2d2+0x1);}async[a0_0x2aa7ab(0x6ff)](_0x25c383){const _0x46b7f8=a0_0x2aa7ab;try{if(this[_0x46b7f8(0x4b0)][_0x46b7f8(0x477)](this[_0x46b7f8(0x7ed)]+'\x20('+this[_0x46b7f8(0x466)][_0x46b7f8(0x243)]+_0x46b7f8(0x680)),!_0x25c383||!_0x25c383[_0x46b7f8(0x7ca)]){this['throwAndLogError']('Data\x20inválida\x20fornecida');return;}let _0x515fff=await this[_0x46b7f8(0x162)][_0x46b7f8(0x722)][_0x46b7f8(0x709)]({'where':{'name':_0x25c383[_0x46b7f8(0x6f5)]}},this[_0x46b7f8(0x466)][_0x46b7f8(0x243)]);_0x515fff||this[_0x46b7f8(0x41a)](_0x46b7f8(0x74d));let {replyOption:_0x31ed55}=_0x25c383;_0x31ed55?.[_0x46b7f8(0x801)]?(this[_0x46b7f8(0x3c0)](_0x515fff,_0x25c383),this['reorderReplyOptions'](_0x515fff[_0x46b7f8(0x392)],_0x25c383[_0x46b7f8(0x7ca)][_0x46b7f8(0x640)])):_0x31ed55[_0x46b7f8(0x408)]?(await this[_0x46b7f8(0x225)](_0x515fff,_0x25c383),this['reorderReplyOptions'](_0x515fff[_0x46b7f8(0x392)],_0x25c383['replyOption'][_0x46b7f8(0x640)])):(this[_0x46b7f8(0x53b)](_0x515fff,_0x25c383),this[_0x46b7f8(0x78f)](_0x515fff[_0x46b7f8(0x392)],_0x25c383['replyOption'][_0x46b7f8(0x640)]));let _0x2f9a91=await this['repository'][_0x46b7f8(0x722)][_0x46b7f8(0x38e)](_0x515fff[_0x46b7f8(0x408)],_0x515fff,this[_0x46b7f8(0x466)][_0x46b7f8(0x243)]);if(_0x2f9a91&&_0x2f9a91[_0x46b7f8(0x72d)]&&_0x2f9a91['shareOwners'][_0x46b7f8(0x57b)]>0x1&&this[_0x46b7f8(0x5a0)](_0x2f9a91['_id'],this[_0x46b7f8(0x466)][_0x46b7f8(0x243)]),!_0x2f9a91)throw new Error(_0x46b7f8(0x70e));return _0x2f9a91;}catch(_0x2c3c06){this[_0x46b7f8(0x41a)](_0x46b7f8(0x3e7)+_0x2c3c06);}}[a0_0x2aa7ab(0x78f)](_0xfcb277,_0x35d1c7){const _0x1ec8f8=a0_0x2aa7ab;console[_0x1ec8f8(0x357)](_0x1ec8f8(0x3a7),_0x35d1c7),_0xfcb277[_0x1ec8f8(0x53a)](_0x59a6b0=>{const _0x4ac8ef=_0x1ec8f8;_0x59a6b0[_0x4ac8ef(0x640)]===_0x35d1c7&&_0x59a6b0[_0x4ac8ef(0x3c7)]===void 0x0&&(_0x59a6b0[_0x4ac8ef(0x3c7)]=0x270f);});let _0x12602d=_0xfcb277['filter'](_0x5819b8=>_0x5819b8[_0x1ec8f8(0x640)]===_0x35d1c7);_0x12602d[_0x1ec8f8(0x28c)]((_0x17521e,_0x3cf068)=>_0x17521e[_0x1ec8f8(0x3c7)]-_0x3cf068['order']),_0x12602d[_0x1ec8f8(0x53a)]((_0x865bb,_0x1e09df)=>{const _0x2a933e=_0x1ec8f8;_0x865bb[_0x2a933e(0x3c7)]=_0x1e09df+0x1;}),_0xfcb277[_0x1ec8f8(0x53a)](_0x23c995=>{const _0x10d4ca=_0x1ec8f8;if(_0x23c995['blockId']===_0x35d1c7){let _0x49060e=_0x12602d[_0x10d4ca(0x701)](_0x4ee355=>_0x4ee355[_0x10d4ca(0x408)]&&_0x23c995[_0x10d4ca(0x408)]&&_0x4ee355[_0x10d4ca(0x408)]['toString']()===_0x23c995[_0x10d4ca(0x408)][_0x10d4ca(0x618)]());_0x49060e&&(_0x23c995[_0x10d4ca(0x3c7)]=_0x49060e[_0x10d4ca(0x3c7)]);}}),console[_0x1ec8f8(0x357)](_0x1ec8f8(0x34a),_0xfcb277);}[a0_0x2aa7ab(0x3c0)](_0x39521b,_0x3b288a){const _0x3a9510=a0_0x2aa7ab;let {replyOption:_0x1e8153}=_0x3b288a;if(!_0x1e8153['_id']){this[_0x3a9510(0x41a)](_0x3a9510(0x702));return;}if(!_0x39521b['replyOptions'][_0x3a9510(0x701)](_0x58adb5=>_0x58adb5[_0x3a9510(0x408)][_0x3a9510(0x618)]()===_0x3b288a[_0x3a9510(0x7ca)][_0x3a9510(0x408)][_0x3a9510(0x618)]())){this[_0x3a9510(0x41a)](_0x3a9510(0x384)+_0x1e8153['_id']+'\x20não\x20encontrado');return;}_0x39521b[_0x3a9510(0x392)]=_0x39521b[_0x3a9510(0x392)][_0x3a9510(0x537)](_0x81e43e=>_0x81e43e[_0x3a9510(0x408)]['toString']()!==_0x3b288a[_0x3a9510(0x7ca)][_0x3a9510(0x408)]['toString']());}async['updateReplyOption'](_0x436229,_0x31382b){const _0x87ac39=a0_0x2aa7ab;let _0x3ccd13=_0x436229[_0x87ac39(0x392)]['findIndex'](_0x22bf2d=>_0x22bf2d[_0x87ac39(0x408)][_0x87ac39(0x618)]()===_0x31382b[_0x87ac39(0x7ca)]['_id']['toString']());if(_0x3ccd13===-0x1){this['throwAndLogError'](_0x87ac39(0x384)+_0x31382b[_0x87ac39(0x7ca)][_0x87ac39(0x408)]+_0x87ac39(0x1ea));return;}for(let _0x25dc17 in _0x31382b['replyOption'])_0x31382b[_0x87ac39(0x7ca)]['hasOwnProperty'](_0x25dc17)&&(_0x436229[_0x87ac39(0x392)][_0x3ccd13][_0x25dc17]=_0x31382b[_0x87ac39(0x7ca)][_0x25dc17]);}[a0_0x2aa7ab(0x53b)](_0x157f73,_0x5c3935){const _0x2e80e4=a0_0x2aa7ab;_0x157f73[_0x2e80e4(0x392)]['push'](_0x5c3935['replyOption']);}async[a0_0x2aa7ab(0x197)](_0x30dfdc){const _0x24e318=a0_0x2aa7ab;this['logger'][_0x24e318(0x477)](this['instanceName']+'\x20('+this[_0x24e318(0x466)]['wuid']+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup:'+_0x30dfdc);try{this['logger'][_0x24e318(0x477)](this[_0x24e318(0x7ed)]+'\x20('+this[_0x24e318(0x466)]['wuid']+_0x24e318(0x73c));let _0x576815=await this[_0x24e318(0x162)][_0x24e318(0x722)]['findOne']({'where':{'name':_0x30dfdc[_0x24e318(0x6f5)]}},this[_0x24e318(0x466)][_0x24e318(0x243)]);if(!_0x576815)throw new Error(_0x24e318(0x74d));if(_0x30dfdc['group']&&_0x30dfdc[_0x24e318(0x3a5)]?.[_0x24e318(0x801)]===!0x0){if(this[_0x24e318(0x4b0)][_0x24e318(0x477)](this[_0x24e318(0x7ed)]+'\x20('+this[_0x24e318(0x466)][_0x24e318(0x243)]+'):\x20delete\x20=\x20true'),_0x30dfdc['group'][_0x24e318(0x798)]===!0x0)return{'message':_0x24e318(0x3db)};if(_0x576815[_0x24e318(0x5de)][_0x24e318(0x504)](_0x3a4e39=>_0x3a4e39[_0x24e318(0x738)][_0x24e318(0x618)]()===_0x30dfdc['group'][_0x24e318(0x408)]))return this[_0x24e318(0x4b0)][_0x24e318(0x477)](this[_0x24e318(0x7ed)]+'\x20('+this[_0x24e318(0x466)][_0x24e318(0x243)]+_0x24e318(0x6cd)),{'message':_0x24e318(0x20e)};_0x576815[_0x24e318(0x71c)]=_0x576815['groups'][_0x24e318(0x537)](_0x3a78ac=>_0x3a78ac[_0x24e318(0x408)]['toString']()!==_0x30dfdc[_0x24e318(0x3a5)]['_id']);}else{if(_0x30dfdc[_0x24e318(0x3a5)]){if(_0x30dfdc[_0x24e318(0x3a5)][_0x24e318(0x798)]===!0x0)return{'message':_0x24e318(0x1bd)};if(_0x30dfdc[_0x24e318(0x3a5)][_0x24e318(0x408)]){let _0x2b284e=_0x576815[_0x24e318(0x71c)]['find'](_0x5129e7=>_0x5129e7[_0x24e318(0x408)][_0x24e318(0x618)]()===_0x30dfdc[_0x24e318(0x3a5)]['_id']);_0x2b284e&&(_0x30dfdc[_0x24e318(0x3a5)]['x']<0x0&&(_0x30dfdc[_0x24e318(0x3a5)]['x']=0x0),_0x30dfdc[_0x24e318(0x3a5)]['y']<0x0&&(_0x30dfdc['group']['y']=0x0),Object['assign'](_0x2b284e,_0x30dfdc[_0x24e318(0x3a5)]));}else _0x576815[_0x24e318(0x71c)][_0x24e318(0x31c)](_0x30dfdc[_0x24e318(0x3a5)]);}}let _0x4f337e=await this['repository']['flow'][_0x24e318(0x38e)](_0x576815['_id'],_0x576815,this[_0x24e318(0x466)]['wuid']);if(_0x4f337e&&_0x4f337e['shareOwners']&&_0x4f337e[_0x24e318(0x72d)][_0x24e318(0x57b)]>0x1&&this[_0x24e318(0x5a0)](_0x4f337e['_id'],this[_0x24e318(0x466)][_0x24e318(0x243)]),!_0x4f337e)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x4f337e;}catch(_0x4917f7){throw this[_0x24e318(0x4b0)]['error'](this[_0x24e318(0x7ed)]+'\x20('+this[_0x24e318(0x466)][_0x24e318(0x243)]+_0x24e318(0x596)+(_0x4917f7 instanceof Error?_0x4917f7[_0x24e318(0x210)]:JSON[_0x24e318(0x7c7)](_0x4917f7,null,0x2))),new w(_0x24e318(0x1e9)+(_0x4917f7 instanceof Error?_0x4917f7[_0x24e318(0x210)]:JSON['stringify'](_0x4917f7,null,0x2)));}}async['editFlowCondition'](_0x5b5314){const _0x534ca8=a0_0x2aa7ab;try{this[_0x534ca8(0x4b0)][_0x534ca8(0x477)](this[_0x534ca8(0x7ed)]+'\x20('+this[_0x534ca8(0x466)][_0x534ca8(0x243)]+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0xd2a9df=await this[_0x534ca8(0x162)][_0x534ca8(0x722)][_0x534ca8(0x709)]({'where':{'name':_0x5b5314[_0x534ca8(0x6f5)]}},this[_0x534ca8(0x466)][_0x534ca8(0x243)]);if(!_0xd2a9df)throw new Error(_0x534ca8(0x74d));let _0x10f436=!0x1;if(_0x5b5314[_0x534ca8(0x69a)]?.[_0x534ca8(0x801)]===!0x0)_0xd2a9df[_0x534ca8(0x6be)]=_0xd2a9df[_0x534ca8(0x6be)]['filter'](_0xd00c5e=>_0xd00c5e&&_0x5b5314[_0x534ca8(0x69a)]&&_0xd00c5e[_0x534ca8(0x408)]&&_0x5b5314[_0x534ca8(0x69a)][_0x534ca8(0x408)]&&_0xd00c5e['_id']['toString']()!==_0x5b5314[_0x534ca8(0x69a)][_0x534ca8(0x408)][_0x534ca8(0x618)]()),_0x10f436=!0x0;else{let _0x1b7103=_0xd2a9df['conditions'][_0x534ca8(0x701)](_0x228944=>_0x228944&&_0x5b5314[_0x534ca8(0x69a)]&&_0x228944['_id']&&_0x5b5314[_0x534ca8(0x69a)][_0x534ca8(0x408)]&&_0x228944['_id'][_0x534ca8(0x618)]()===_0x5b5314['condition'][_0x534ca8(0x408)][_0x534ca8(0x618)]());_0x1b7103?(_0x10f436=_0x1b7103[_0x534ca8(0x3c7)]!==_0x5b5314[_0x534ca8(0x69a)][_0x534ca8(0x3c7)],Object[_0x534ca8(0x819)](_0x1b7103,_0x5b5314[_0x534ca8(0x69a)])):(_0xd2a9df[_0x534ca8(0x6be)]['push'](_0x5b5314['condition']),_0x10f436=!0x0);}if(_0x10f436){_0xd2a9df[_0x534ca8(0x6be)]['sort']((_0x40aef9,_0x12a957)=>_0x40aef9[_0x534ca8(0x3c7)]>_0x12a957[_0x534ca8(0x3c7)]?0x1:_0x12a957[_0x534ca8(0x3c7)]>_0x40aef9['order']?-0x1:0x0);for(let _0x4dc760=0x0;_0x4dc760<_0xd2a9df[_0x534ca8(0x6be)][_0x534ca8(0x57b)];_0x4dc760++)_0xd2a9df[_0x534ca8(0x6be)][_0x4dc760][_0x534ca8(0x3c7)]=_0x4dc760+0x1;_0xd2a9df[_0x534ca8(0x6be)][_0x534ca8(0x57b)]>0x0&&(_0xd2a9df[_0x534ca8(0x6be)][0x0][_0x534ca8(0x343)]=_0x534ca8(0x6dd));}let _0x3a9493=await this['repository'][_0x534ca8(0x722)][_0x534ca8(0x38e)](_0xd2a9df[_0x534ca8(0x408)],_0xd2a9df,this[_0x534ca8(0x466)][_0x534ca8(0x243)]);if(_0x3a9493&&_0x3a9493[_0x534ca8(0x72d)]&&_0x3a9493[_0x534ca8(0x72d)]['length']>0x1&&this[_0x534ca8(0x5a0)](_0x3a9493['_id'],this[_0x534ca8(0x466)][_0x534ca8(0x243)]),!_0x3a9493)throw new Error(_0x534ca8(0x70e));return _0x3a9493;}catch(_0xdc2010){throw this[_0x534ca8(0x4b0)][_0x534ca8(0x7e7)](this[_0x534ca8(0x7ed)]+'\x20('+this[_0x534ca8(0x466)][_0x534ca8(0x243)]+_0x534ca8(0x785)+(_0xdc2010 instanceof Error?_0xdc2010[_0x534ca8(0x210)]:JSON[_0x534ca8(0x7c7)](_0xdc2010,null,0x2))),new Error(_0x534ca8(0x7e0)+(_0xdc2010 instanceof Error?_0xdc2010[_0x534ca8(0x210)]:JSON[_0x534ca8(0x7c7)](_0xdc2010,null,0x2)));}}async['editFlowVaredit'](_0x5cf243){const _0x2cffd2=a0_0x2aa7ab;try{this[_0x2cffd2(0x4b0)][_0x2cffd2(0x477)](this['instanceName']+'\x20('+this[_0x2cffd2(0x466)][_0x2cffd2(0x243)]+_0x2cffd2(0x64d));let _0x47d4c5=await this[_0x2cffd2(0x162)]['flow'][_0x2cffd2(0x709)]({'where':{'name':_0x5cf243['name']}},this[_0x2cffd2(0x466)]['wuid']);if(!_0x47d4c5)throw new Error(_0x2cffd2(0x74d));let _0x22cb06=!0x1;if(_0x5cf243['varedit']?.[_0x2cffd2(0x801)]===!0x0)_0x47d4c5[_0x2cffd2(0x581)]=_0x47d4c5[_0x2cffd2(0x581)][_0x2cffd2(0x537)](_0x2ea9b9=>_0x2ea9b9&&_0x5cf243[_0x2cffd2(0x49b)]&&_0x2ea9b9['_id']&&_0x5cf243[_0x2cffd2(0x49b)][_0x2cffd2(0x408)]&&_0x2ea9b9['_id'][_0x2cffd2(0x618)]()!==_0x5cf243[_0x2cffd2(0x49b)][_0x2cffd2(0x408)][_0x2cffd2(0x618)]()),_0x22cb06=!0x0;else{let _0x21499c=_0x47d4c5[_0x2cffd2(0x581)]['find'](_0x8e9be5=>_0x8e9be5&&_0x5cf243[_0x2cffd2(0x49b)]&&_0x8e9be5['_id']&&_0x5cf243['varedit'][_0x2cffd2(0x408)]&&_0x8e9be5[_0x2cffd2(0x408)][_0x2cffd2(0x618)]()===_0x5cf243[_0x2cffd2(0x49b)]['_id'][_0x2cffd2(0x618)]());_0x21499c?(_0x22cb06=_0x21499c[_0x2cffd2(0x3c7)]!==_0x5cf243[_0x2cffd2(0x49b)][_0x2cffd2(0x3c7)],Object[_0x2cffd2(0x819)](_0x21499c,_0x5cf243['varedit'])):(_0x47d4c5[_0x2cffd2(0x581)][_0x2cffd2(0x31c)](_0x5cf243[_0x2cffd2(0x49b)]),_0x22cb06=!0x0);}if(_0x22cb06){_0x47d4c5[_0x2cffd2(0x581)][_0x2cffd2(0x28c)]((_0x228b93,_0x3c80ab)=>_0x228b93[_0x2cffd2(0x3c7)]>_0x3c80ab[_0x2cffd2(0x3c7)]?0x1:_0x3c80ab[_0x2cffd2(0x3c7)]>_0x228b93[_0x2cffd2(0x3c7)]?-0x1:0x0);for(let _0x431f78=0x0;_0x431f78<_0x47d4c5['varedits']['length'];_0x431f78++)_0x47d4c5[_0x2cffd2(0x581)][_0x431f78][_0x2cffd2(0x3c7)]=_0x431f78+0x1;}let _0x80f73b=await this[_0x2cffd2(0x162)][_0x2cffd2(0x722)][_0x2cffd2(0x38e)](_0x47d4c5[_0x2cffd2(0x408)],_0x47d4c5,this[_0x2cffd2(0x466)][_0x2cffd2(0x243)]);if(_0x80f73b&&_0x80f73b[_0x2cffd2(0x72d)]&&_0x80f73b[_0x2cffd2(0x72d)][_0x2cffd2(0x57b)]>0x1&&this[_0x2cffd2(0x5a0)](_0x80f73b['_id'],this[_0x2cffd2(0x466)][_0x2cffd2(0x243)]),!_0x80f73b)throw new Error(_0x2cffd2(0x70e));return _0x80f73b;}catch(_0x22a097){throw this[_0x2cffd2(0x4b0)]['error'](this['instanceName']+'\x20('+this[_0x2cffd2(0x466)][_0x2cffd2(0x243)]+_0x2cffd2(0x785)+(_0x22a097 instanceof Error?_0x22a097[_0x2cffd2(0x210)]:JSON[_0x2cffd2(0x7c7)](_0x22a097,null,0x2))),new w(_0x2cffd2(0x7e0)+(_0x22a097 instanceof Error?_0x22a097[_0x2cffd2(0x210)]:JSON['stringify'](_0x22a097,null,0x2)));}}async[a0_0x2aa7ab(0x7f4)](_0x39f045){const _0x59147d=a0_0x2aa7ab;try{this[_0x59147d(0x4b0)][_0x59147d(0x477)](this[_0x59147d(0x7ed)]+'\x20('+this['instance']['wuid']+'):\x20Editando\x20variável\x20do\x20fluxo...');let _0x58db2e=await this[_0x59147d(0x162)][_0x59147d(0x722)][_0x59147d(0x709)]({'where':{'name':_0x39f045[_0x59147d(0x6f5)]}},this[_0x59147d(0x466)]['wuid']);if(!_0x58db2e)throw new Error(_0x59147d(0x74d));_0x39f045[_0x59147d(0x43b)][_0x59147d(0x6f5)]=_0x39f045['variable'][_0x59147d(0x6f5)][_0x59147d(0x382)](),_0x39f045[_0x59147d(0x43b)][_0x59147d(0x6f5)][_0x59147d(0x56a)]('_')&&(_0x39f045[_0x59147d(0x43b)][_0x59147d(0x6f5)]=_0x39f045[_0x59147d(0x43b)][_0x59147d(0x6f5)]['substring'](0x1)),_0x39f045[_0x59147d(0x43b)][_0x59147d(0x6f5)]=_0x39f045[_0x59147d(0x43b)][_0x59147d(0x6f5)][_0x59147d(0x382)]();let _0x43b765=_0x58db2e[_0x59147d(0x511)][_0x59147d(0x701)](_0x48f1fe=>_0x48f1fe['name']===_0x39f045[_0x59147d(0x43b)][_0x59147d(0x6f5)]);if(_0x43b765?.[_0x59147d(0x5aa)]===!0x0)throw new Error(_0x59147d(0x6c4));if(_0x39f045[_0x59147d(0x43b)]?.[_0x59147d(0x801)]===!0x0){if(!_0x43b765)return{'message':'Variável\x20não\x20encontrada!'};_0x58db2e[_0x59147d(0x511)]=_0x58db2e['variables'][_0x59147d(0x537)](_0x2df0b5=>_0x2df0b5[_0x59147d(0x6f5)]!==_0x39f045[_0x59147d(0x43b)][_0x59147d(0x6f5)]);}else _0x43b765?Object[_0x59147d(0x819)](_0x43b765,_0x39f045[_0x59147d(0x43b)]):_0x58db2e[_0x59147d(0x511)][_0x59147d(0x31c)](_0x39f045[_0x59147d(0x43b)]);let _0x5e363c=await this['repository'][_0x59147d(0x722)][_0x59147d(0x38e)](_0x58db2e['_id'],_0x58db2e,this['instance'][_0x59147d(0x243)]);if(_0x5e363c&&_0x5e363c[_0x59147d(0x72d)]&&_0x5e363c[_0x59147d(0x72d)]['length']>0x1&&this['synchronizeFlows'](_0x5e363c[_0x59147d(0x408)],this[_0x59147d(0x466)][_0x59147d(0x243)]),!_0x5e363c)throw new Error(_0x59147d(0x70e));return _0x5e363c;}catch(_0x35f336){throw this[_0x59147d(0x4b0)][_0x59147d(0x7e7)](this[_0x59147d(0x7ed)]+'\x20('+this[_0x59147d(0x466)]['wuid']+_0x59147d(0x1fe)+(_0x35f336 instanceof Error?_0x35f336[_0x59147d(0x210)]:JSON['stringify'](_0x35f336,null,0x2))),new w(_0x59147d(0x64c)+(_0x35f336 instanceof Error?_0x35f336['message']:JSON[_0x59147d(0x7c7)](_0x35f336,null,0x2)));}}async[a0_0x2aa7ab(0x4c7)](_0x1397bc){const _0x4e1fb6=a0_0x2aa7ab;let _0x332c2e=null;try{if(!this[_0x4e1fb6(0x59f)]?.[_0x4e1fb6(0x3cd)][_0x4e1fb6(0x3af)])throw new w(_0x4e1fb6(0x27b));this[_0x4e1fb6(0x4b0)][_0x4e1fb6(0x477)](this[_0x4e1fb6(0x7ed)]+'\x20('+this['instance'][_0x4e1fb6(0x243)]+_0x4e1fb6(0x39a));let _0x911ff3=(await this[_0x4e1fb6(0x1b3)]({'numbers':[_0x1397bc[_0x4e1fb6(0x39b)]]}))[0x0];if(!_0x911ff3['exists']&&!(0x0,m[_0x4e1fb6(0x588)])(_0x911ff3[_0x4e1fb6(0x27e)])&&!_0x911ff3['jid']['includes'](_0x4e1fb6(0x664)))throw _0x332c2e=JSON[_0x4e1fb6(0x7c7)](_0x911ff3,null,0x2),new w(_0x911ff3);let _0x187116=await this[_0x4e1fb6(0x162)][_0x4e1fb6(0x722)][_0x4e1fb6(0x709)]({'where':{'name':_0x1397bc[_0x4e1fb6(0x6f5)]}},this[_0x4e1fb6(0x466)][_0x4e1fb6(0x243)]);if(!_0x187116)return this[_0x4e1fb6(0x4b0)][_0x4e1fb6(0x7e7)](this[_0x4e1fb6(0x7ed)]+'\x20('+this['instance']['wuid']+_0x4e1fb6(0x4c0)),{'message':_0x4e1fb6(0x74d)};let _0x57eb67=await this[_0x4e1fb6(0x200)](_0x187116,_0x911ff3[_0x4e1fb6(0x27e)],_0x1397bc[_0x4e1fb6(0x5d8)]);if(_0x57eb67){this[_0x4e1fb6(0x4b0)][_0x4e1fb6(0x477)](this[_0x4e1fb6(0x7ed)]+'\x20('+this[_0x4e1fb6(0x466)]['wuid']+_0x4e1fb6(0x2d1));let _0x556a83=await this['NextBlock'](_0x57eb67);return _0x556a83&&await this[_0x4e1fb6(0x77e)](_0x57eb67,_0x556a83),{'message':_0x4e1fb6(0x7b7)+_0x1397bc[_0x4e1fb6(0x39b)]};}}catch(_0x530382){if(this[_0x4e1fb6(0x4b0)][_0x4e1fb6(0x7e7)](this[_0x4e1fb6(0x7ed)]+'\x20('+this[_0x4e1fb6(0x466)][_0x4e1fb6(0x243)]+_0x4e1fb6(0x5ec)+(_0x530382 instanceof Error?_0x530382[_0x4e1fb6(0x210)]:JSON[_0x4e1fb6(0x7c7)](_0x530382,null,0x2))),_0x332c2e=_0x530382 instanceof Error?_0x530382['message']:JSON[_0x4e1fb6(0x7c7)](_0x530382,null,0x2),_0x332c2e)throw new w('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x332c2e);}}async[a0_0x2aa7ab(0x762)](_0x3e1148){const _0x56d67e=a0_0x2aa7ab;try{let _0x4367d5={'remoteJid':_0x3e1148,'status':_0x56d67e(0x1e7)},_0x42e7fd={'status':_0x56d67e(0x2d6)},_0x216d90=await this[_0x56d67e(0x162)][_0x56d67e(0x521)][_0x56d67e(0x6c0)](_0x4367d5,_0x42e7fd,this['instance'][_0x56d67e(0x243)]);return this[_0x56d67e(0x4b0)][_0x56d67e(0x477)](this[_0x56d67e(0x7ed)]+'\x20('+this[_0x56d67e(0x466)][_0x56d67e(0x243)]+_0x56d67e(0x351)),_0x216d90;}catch(_0x25b036){throw this[_0x56d67e(0x4b0)][_0x56d67e(0x7e7)](this['instanceName']+'\x20('+this[_0x56d67e(0x466)]['wuid']+_0x56d67e(0x522)+_0x25b036[_0x56d67e(0x210)]),_0x25b036;}}async[a0_0x2aa7ab(0x200)](_0x54c4a3,_0x527560,_0x1306d5){const _0x4e1b20=a0_0x2aa7ab;this[_0x4e1b20(0x4b0)]['verbose'](this[_0x4e1b20(0x7ed)]+'\x20('+this['instance'][_0x4e1b20(0x243)]+_0x4e1b20(0x70d)),await this[_0x4e1b20(0x762)](_0x527560);try{let _0x4a3730=require(_0x4e1b20(0x630))['ObjectId'],_0x4a9e16=Date[_0x4e1b20(0x458)](),_0x3b30c2=_0x4e1b20(0x774),_0x9f7abc={},_0x4b4685={},_0x4cc518={..._0x54c4a3,'chatLog':null},_0x3aa32c=await this[_0x4e1b20(0x1d2)](_0x4cc518[_0x4e1b20(0x511)]),_0x13e7db=await this[_0x4e1b20(0x2e5)](_0x527560),_0x3fea07={..._0x3aa32c,..._0x13e7db,'_remoteJid':_0x527560},_0x148150={'lastReceivedMessage':_0x9f7abc,'lastSendMessage':_0x4b4685,'lastBlockId':_0x3b30c2,'lastCondition':!0x0,'realVariables':_0x3fea07};_0x4cc518[_0x4e1b20(0x53f)]=_0x148150,_0x4cc518[_0x4e1b20(0x53f)][_0x4e1b20(0x3ad)]={..._0x3fea07,..._0x1306d5},delete _0x4cc518['_id'],_0x4cc518[_0x4e1b20(0x408)]=new _0x4a3730(),_0x4cc518[_0x4e1b20(0x471)]=_0x4a9e16,_0x4cc518['status']=_0x4e1b20(0x1e7),_0x4cc518['remoteJid']=_0x527560;let _0x2c0bb9=await this[_0x4e1b20(0x162)][_0x4e1b20(0x521)][_0x4e1b20(0x38e)](_0x4cc518[_0x4e1b20(0x408)],_0x4cc518,this[_0x4e1b20(0x466)][_0x4e1b20(0x243)]);return this['logger']['verbose'](this[_0x4e1b20(0x7ed)]+'\x20('+this['instance'][_0x4e1b20(0x243)]+_0x4e1b20(0x257)),_0x2c0bb9?_0x4cc518:null;}catch(_0x16c3a3){throw this[_0x4e1b20(0x4b0)][_0x4e1b20(0x7e7)](this[_0x4e1b20(0x7ed)]+'\x20('+this[_0x4e1b20(0x466)][_0x4e1b20(0x243)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x16c3a3 instanceof Error?_0x16c3a3['message']:JSON[_0x4e1b20(0x7c7)](_0x16c3a3,null,0x2))),new w(_0x16c3a3[_0x4e1b20(0x210)]);}}async[a0_0x2aa7ab(0x54b)](_0x327e8d){const _0x25dd3a=a0_0x2aa7ab;try{this['logger'][_0x25dd3a(0x477)](this[_0x25dd3a(0x7ed)]+'\x20('+this[_0x25dd3a(0x466)][_0x25dd3a(0x243)]+_0x25dd3a(0x81c)),this[_0x25dd3a(0x4b0)][_0x25dd3a(0x477)](this[_0x25dd3a(0x7ed)]+'\x20('+this[_0x25dd3a(0x466)][_0x25dd3a(0x243)]+_0x25dd3a(0x395)+_0x327e8d);let _0x4cff51={'where':{'_id':_0x327e8d}};return await this[_0x25dd3a(0x162)][_0x25dd3a(0x521)][_0x25dd3a(0x709)](_0x4cff51,this[_0x25dd3a(0x466)][_0x25dd3a(0x243)]);}catch(_0x104a4a){throw this[_0x25dd3a(0x4b0)]['error'](this[_0x25dd3a(0x7ed)]+'\x20('+this[_0x25dd3a(0x466)][_0x25dd3a(0x243)]+_0x25dd3a(0x729)+(_0x104a4a instanceof Error?_0x104a4a[_0x25dd3a(0x210)]:JSON[_0x25dd3a(0x7c7)](_0x104a4a,null,0x2))),new w(_0x25dd3a(0x446)+_0x104a4a['message']);}}async[a0_0x2aa7ab(0x527)](_0x406f4a){const _0x1e249d=a0_0x2aa7ab;try{return this[_0x1e249d(0x4b0)]['verbose'](this[_0x1e249d(0x7ed)]+'\x20('+this['instance']['wuid']+_0x1e249d(0x58a)),await this[_0x1e249d(0x162)][_0x1e249d(0x521)][_0x1e249d(0x701)](_0x406f4a,this[_0x1e249d(0x466)]['wuid']);}catch(_0x27783a){throw this[_0x1e249d(0x4b0)][_0x1e249d(0x7e7)](this[_0x1e249d(0x7ed)]+'\x20('+this['instance'][_0x1e249d(0x243)]+_0x1e249d(0x267)+(_0x27783a instanceof Error?_0x27783a[_0x1e249d(0x210)]:JSON[_0x1e249d(0x7c7)](_0x27783a,null,0x2))),new w(_0x1e249d(0x195)+_0x27783a['message']);}}async[a0_0x2aa7ab(0x736)](_0x37e452){const _0x5eeabf=a0_0x2aa7ab;try{return this[_0x5eeabf(0x4b0)][_0x5eeabf(0x477)](this[_0x5eeabf(0x7ed)]+'\x20('+this[_0x5eeabf(0x466)][_0x5eeabf(0x243)]+_0x5eeabf(0x217)),this[_0x5eeabf(0x4b0)][_0x5eeabf(0x477)](this['instanceName']+'\x20('+this[_0x5eeabf(0x466)][_0x5eeabf(0x243)]+_0x5eeabf(0x48a)+_0x37e452),(await this['repository'][_0x5eeabf(0x521)][_0x5eeabf(0x576)]({'where':{'_id':_0x37e452}},this[_0x5eeabf(0x466)][_0x5eeabf(0x243)]))[_0x5eeabf(0x177)]===0x0?{'message':_0x5eeabf(0x1b5)}:{'message':_0x5eeabf(0x272)};}catch(_0x286438){throw this[_0x5eeabf(0x4b0)][_0x5eeabf(0x7e7)](this[_0x5eeabf(0x7ed)]+'\x20('+this[_0x5eeabf(0x466)]['wuid']+_0x5eeabf(0x658)+(_0x286438 instanceof Error?_0x286438['message']:JSON[_0x5eeabf(0x7c7)](_0x286438,null,0x2))),new w(_0x5eeabf(0x5d0)+_0x286438['message']);}}async['editConversation'](_0x482875){const _0xde3068=a0_0x2aa7ab;try{let {_id:_0x3f4a43,chatLog:_0x9e6b30,status:_0x3d73d3}=_0x482875;if(!_0x3f4a43)return{'message':_0xde3068(0x361)};let _0x46d27a={};if(_0x3d73d3!==void 0x0&&(_0x46d27a[_0xde3068(0x540)]=_0x3d73d3),Object[_0xde3068(0x717)](_0x46d27a)[_0xde3068(0x57b)]===0x0)return{'message':_0xde3068(0x353)};let _0x38d460=await this['repository'][_0xde3068(0x521)][_0xde3068(0x38e)](_0x3f4a43,_0x46d27a,this['instance'][_0xde3068(0x243)]);return _0x38d460||{'message':_0xde3068(0x55a)};}catch(_0x52108e){throw this[_0xde3068(0x4b0)][_0xde3068(0x7e7)](this[_0xde3068(0x7ed)]+'\x20('+this['instance'][_0xde3068(0x243)]+_0xde3068(0x45a)+(_0x52108e instanceof Error?_0x52108e[_0xde3068(0x210)]:JSON[_0xde3068(0x7c7)](_0x52108e,null,0x2))),new w(_0xde3068(0x3cf)+_0x52108e[_0xde3068(0x210)]);}}async[a0_0x2aa7ab(0x339)](_0x188f92){const _0x331efa=a0_0x2aa7ab;let _0xe021c9=await this[_0x331efa(0x162)][_0x331efa(0x6cc)][_0x331efa(0x709)]({'where':{'_id':_0x188f92[_0x331efa(0x408)]}},this[_0x331efa(0x466)][_0x331efa(0x243)]);if(!_0xe021c9)throw new w(_0x331efa(0x192));console[_0x331efa(0x357)](_0x188f92);try{_0x188f92['_id']=this['createJid'](_0x188f92[_0x331efa(0x408)]);let {_id:_0x5afca9,leadInfo:_0x289b43}=_0x188f92;if(!_0x5afca9)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');let _0xa578c8=(_0x1400e9,_0x27c6f1,_0x315175)=>{const _0x3d87e3=_0x331efa;_0x1400e9&&_0x315175[_0x3d87e3(0x53a)](_0x359b11=>{_0x1400e9[_0x359b11]!==void 0x0&&(_0x27c6f1['leadInfo.'+_0x359b11]=_0x1400e9[_0x359b11]);});},_0x5b9201={};if(_0x289b43&&(_0xa578c8(_0x289b43,_0x5b9201,[_0x331efa(0x676),_0x331efa(0x771),_0x331efa(0x2b0),_0x331efa(0x18d),_0x331efa(0x540),_0x331efa(0x4a2),_0x331efa(0x706),_0x331efa(0x4c5),'responsavelid',_0x331efa(0x2ef)]),Array['isArray'](_0x289b43[_0x331efa(0x21e)])&&(_0x5b9201[_0x331efa(0x611)]=_0x289b43[_0x331efa(0x21e)]['map'](_0x254526=>({'_id':_0x254526['_id'],'value':_0x254526[_0x331efa(0x276)]}))),_0x188f92['leadInfo'][_0x331efa(0x2ef)]!==void 0x0)){let _0x2bd436=await this[_0x331efa(0x162)][_0x331efa(0x3ab)][_0x331efa(0x701)]({'where':{}},this[_0x331efa(0x466)][_0x331efa(0x243)]),_0x124bba=new Set(_0x188f92[_0x331efa(0x5aa)][_0x331efa(0x2ef)]||[]),_0x800f34=new Set(_0x188f92[_0x331efa(0x5aa)][_0x331efa(0x2ef)]),_0x5bc1c5=new Set(_0x2bd436[_0x331efa(0x360)](_0x307bb5=>_0x307bb5[_0x331efa(0x408)])),_0x3dc75e=[..._0x800f34][_0x331efa(0x537)](_0x13f381=>!_0x124bba[_0x331efa(0x4d1)](_0x13f381)&&_0x5bc1c5[_0x331efa(0x4d1)](_0x13f381)),_0x4bc741=[..._0x124bba]['filter'](_0x5e7625=>!_0x800f34[_0x331efa(0x4d1)](_0x5e7625));if(_0x5b9201[_0x331efa(0x468)]=[..._0x124bba],_0xe021c9&&!_0xe021c9[_0x331efa(0x79d)]){for(let _0x273cdf of _0x3dc75e)await this[_0x331efa(0x5d9)](_0x273cdf,_0x188f92['_id']),_0x124bba[_0x331efa(0x485)](_0x273cdf);for(let _0x383a6c of _0x4bc741)await this['RemoveChatLabel'](_0x383a6c,_0x188f92['_id']),_0x124bba['delete'](_0x383a6c);}}if(_0x188f92[_0x331efa(0x570)]!==void 0x0&&(_0x5b9201[_0x331efa(0x570)]=Number(_0x188f92[_0x331efa(0x570)])),Object['keys'](_0x5b9201)[_0x331efa(0x57b)]===0x0)throw new Error(_0x331efa(0x353));let _0x5120be=await this[_0x331efa(0x162)]['chat'][_0x331efa(0x38e)]({'where':{'_id':_0x188f92['_id']}},_0x5b9201,this[_0x331efa(0x466)]['wuid']);return _0x5120be&&U(this[_0x331efa(0x7ed)],'chats',{'chat':_0x5120be}),_0x5120be?(this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x331efa(0x466)]['wuid']+_0x331efa(0x544)+JSON[_0x331efa(0x7c7)](_0x5120be,null,0x2)),_0x5120be):{'message':_0x331efa(0x78d)};}catch(_0x3190b2){throw this['logger'][_0x331efa(0x7e7)](this[_0x331efa(0x7ed)]+'\x20('+this['instance']['wuid']+_0x331efa(0x7ea)+(_0x3190b2 instanceof Error?_0x3190b2[_0x331efa(0x210)]:JSON[_0x331efa(0x7c7)](_0x3190b2,null,0x2))),new w(_0x331efa(0x5b3)+_0x3190b2[_0x331efa(0x210)]);}}async[a0_0x2aa7ab(0x5d9)](_0x5742f8,_0x28d3b8){const _0x48e0a6=a0_0x2aa7ab;try{await this[_0x48e0a6(0x15c)][_0x48e0a6(0x4ef)](_0x28d3b8,_0x5742f8),console[_0x48e0a6(0x357)](_0x48e0a6(0x33a)+_0x5742f8+_0x48e0a6(0x65f)+_0x28d3b8+_0x48e0a6(0x659));}catch(_0x1b3217){console[_0x48e0a6(0x7e7)](_0x48e0a6(0x767)+_0x5742f8+'\x20ao\x20chat\x20'+_0x28d3b8+':',_0x1b3217);}}async['RemoveChatLabel'](_0x5e18b2,_0x3e78c0){const _0x55a419=a0_0x2aa7ab;try{await this[_0x55a419(0x15c)][_0x55a419(0x1a3)](_0x3e78c0,_0x5e18b2),console['log'](_0x55a419(0x33a)+_0x5e18b2+_0x55a419(0x2df)+_0x3e78c0+_0x55a419(0x659));}catch(_0x55f246){console[_0x55a419(0x7e7)](_0x55a419(0x58f)+_0x5e18b2+_0x55a419(0x498)+_0x3e78c0+':',_0x55f246);}}async['updateAgent'](_0x300214){const _0xb1280c=a0_0x2aa7ab;try{let _0x5e6f03=await this[_0xb1280c(0x162)][_0xb1280c(0x472)][_0xb1280c(0x689)](this['instance']['wuid']),_0x1e6b60=_0x300214[_0xb1280c(0x408)]?_0x5e6f03[_0xb1280c(0x575)][_0xb1280c(0x4c1)](_0x4bb898=>_0x4bb898[_0xb1280c(0x408)]===_0x300214[_0xb1280c(0x408)]):-0x1;if(_0x300214[_0xb1280c(0x801)]&&_0x1e6b60>-0x1)_0x5e6f03[_0xb1280c(0x575)][_0xb1280c(0x734)](_0x1e6b60,0x1);else{if(_0x1e6b60>-0x1){let _0x7e2010=_0x5e6f03[_0xb1280c(0x575)][_0x1e6b60];_0x300214[_0xb1280c(0x5ad)]&&(_0x7e2010[_0xb1280c(0x5ad)]=_0x300214['fone']),_0x300214[_0xb1280c(0x6f5)]&&(_0x7e2010[_0xb1280c(0x6f5)]=_0x300214[_0xb1280c(0x6f5)]),_0x300214[_0xb1280c(0x2b0)]&&(_0x7e2010['email']=_0x300214[_0xb1280c(0x2b0)]),_0x300214[_0xb1280c(0x7d8)]&&(_0x7e2010[_0xb1280c(0x7d8)]=_0x300214['role']);}else _0x5e6f03[_0xb1280c(0x575)][_0xb1280c(0x31c)]({'_id':_0x300214[_0xb1280c(0x408)]||new le[(_0xb1280c(0x798))][(_0xb1280c(0x27a))][(_0xb1280c(0x7a1))]()['toString'](),'fone':_0x300214[_0xb1280c(0x5ad)],'name':_0x300214[_0xb1280c(0x6f5)],'email':_0x300214[_0xb1280c(0x2b0)],'role':_0x300214['role']});}let _0x70768d={'agents':_0x5e6f03['agents']},_0x4a2758=await this['repository'][_0xb1280c(0x472)][_0xb1280c(0x617)](_0x70768d,this['instance'][_0xb1280c(0x243)]);return this[_0xb1280c(0x59f)]=_0x4a2758,this[_0xb1280c(0x4b0)]['verbose'](this[_0xb1280c(0x7ed)]+'\x20('+this[_0xb1280c(0x466)][_0xb1280c(0x243)]+_0xb1280c(0x281)),this[_0xb1280c(0x4b0)][_0xb1280c(0x477)](this['instanceName']+'\x20('+this[_0xb1280c(0x466)]['wuid']+_0xb1280c(0x544)+this[_0xb1280c(0x59f)]),_0x4a2758;}catch(_0x304c8a){throw this[_0xb1280c(0x4b0)]['error'](this[_0xb1280c(0x7ed)]+'\x20('+this[_0xb1280c(0x466)][_0xb1280c(0x243)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+(_0x304c8a instanceof Error?_0x304c8a['message']:JSON[_0xb1280c(0x7c7)](_0x304c8a,null,0x2))),new w(_0xb1280c(0x623)+_0x304c8a['message']);}}async[a0_0x2aa7ab(0x6b9)](_0x4b5bf0){const _0x561024=a0_0x2aa7ab;try{let _0x21d2ed=await this[_0x561024(0x162)]['automateSystem'][_0x561024(0x689)](this[_0x561024(0x466)][_0x561024(0x243)]),_0x3997d4=_0x4b5bf0[_0x561024(0x408)]?_0x21d2ed[_0x561024(0x21e)][_0x561024(0x4c1)](_0x4214ef=>_0x4214ef[_0x561024(0x408)]===_0x4b5bf0[_0x561024(0x408)]):-0x1,_0x1350a2=!0x1,_0x49399e=_0x21d2ed[_0x561024(0x21e)][_0x561024(0x504)](_0xf6dfc6=>_0xf6dfc6[_0x561024(0x3c7)]===_0x4b5bf0[_0x561024(0x3c7)]);if(_0x4b5bf0[_0x561024(0x801)]&&_0x3997d4>-0x1)_0x21d2ed['customFields'][_0x561024(0x734)](_0x3997d4,0x1),_0x1350a2=!0x0;else{if(_0x3997d4>-0x1){if(_0x21d2ed[_0x561024(0x21e)]['some'](_0x3a8441=>_0x3a8441[_0x561024(0x6f5)]===_0x4b5bf0[_0x561024(0x6f5)]&&_0x3a8441['_id']!==_0x4b5bf0['_id']))throw new Error(_0x561024(0x5b5));let _0x1ad4ec=_0x21d2ed[_0x561024(0x21e)][_0x3997d4];_0x4b5bf0[_0x561024(0x3c7)]&&(_0x49399e||!Number[_0x561024(0x515)](_0x4b5bf0[_0x561024(0x3c7)]))&&(_0x1ad4ec['order']=_0x4b5bf0[_0x561024(0x3c7)],_0x1350a2=!0x0),_0x4b5bf0[_0x561024(0x6f5)]&&(_0x1ad4ec['name']=_0x4b5bf0['name']);}else{if(_0x21d2ed['customFields']['some'](_0x3b656c=>_0x3b656c[_0x561024(0x6f5)]===_0x4b5bf0[_0x561024(0x6f5)]&&_0x3b656c[_0x561024(0x408)]!==_0x4b5bf0[_0x561024(0x408)]))throw new Error(_0x561024(0x5b5));_0x21d2ed[_0x561024(0x21e)]['push']({'_id':_0x4b5bf0[_0x561024(0x408)]||new le[(_0x561024(0x798))][(_0x561024(0x27a))][(_0x561024(0x7a1))]()[_0x561024(0x618)](),'order':_0x4b5bf0[_0x561024(0x3c7)],'name':_0x4b5bf0[_0x561024(0x6f5)]}),_0x1350a2=!0x0;}}if(_0x1350a2){_0x21d2ed['customFields'][_0x561024(0x28c)]((_0xd91346,_0x2f31f0)=>_0xd91346[_0x561024(0x3c7)]>_0x2f31f0[_0x561024(0x3c7)]?0x1:_0x2f31f0[_0x561024(0x3c7)]>_0xd91346[_0x561024(0x3c7)]?-0x1:0x0);for(let _0x33fafa=0x0;_0x33fafa<_0x21d2ed[_0x561024(0x21e)]['length'];_0x33fafa++)_0x21d2ed[_0x561024(0x21e)][_0x33fafa][_0x561024(0x3c7)]=_0x33fafa+0x1;}let _0x3f04b8=await this[_0x561024(0x162)]['automateSystem'][_0x561024(0x617)](_0x21d2ed,this[_0x561024(0x466)]['wuid']);return this['AutomateSystem']=_0x3f04b8,this['logger'][_0x561024(0x477)](this[_0x561024(0x7ed)]+'\x20('+this[_0x561024(0x466)]['wuid']+_0x561024(0x60b)),this['logger'][_0x561024(0x477)](this[_0x561024(0x7ed)]+'\x20('+this[_0x561024(0x466)][_0x561024(0x243)]+_0x561024(0x544)+this[_0x561024(0x59f)]),_0x3f04b8;}catch(_0x3621ee){throw this[_0x561024(0x4b0)][_0x561024(0x7e7)](this[_0x561024(0x7ed)]+'\x20('+this[_0x561024(0x466)][_0x561024(0x243)]+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+(_0x3621ee instanceof Error?_0x3621ee[_0x561024(0x210)]:JSON['stringify'](_0x3621ee,null,0x2))),new w('Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+_0x3621ee['message']);}}async[a0_0x2aa7ab(0x1d4)](_0x1eeb15){const _0x4d4591=a0_0x2aa7ab;try{let _0x162d84=await this['repository']['automateSystem'][_0x4d4591(0x689)](this[_0x4d4591(0x466)][_0x4d4591(0x243)]);if(!_0x162d84)throw new Error(_0x4d4591(0x1a1));let _0x86c993={'_id':_0x162d84['_id'],'flowConfig':{'enabled':_0x1eeb15['enabled']??_0x162d84[_0x4d4591(0x3cd)][_0x4d4591(0x3af)],'ignoreGroups':_0x1eeb15[_0x4d4591(0x589)]??_0x162d84['flowConfig']['ignoreGroups'],'prefixCommand':_0x1eeb15[_0x4d4591(0x2bb)]??_0x162d84[_0x4d4591(0x3cd)][_0x4d4591(0x2bb)],'stopConversation':_0x1eeb15[_0x4d4591(0x40d)]??_0x162d84[_0x4d4591(0x3cd)][_0x4d4591(0x40d)],'stopMinutes':_0x1eeb15[_0x4d4591(0x373)]??_0x162d84[_0x4d4591(0x3cd)][_0x4d4591(0x373)],'stopWhenYouSendMsg':_0x1eeb15[_0x4d4591(0x215)]??_0x162d84[_0x4d4591(0x3cd)][_0x4d4591(0x215)]}},_0x4ac156=await this[_0x4d4591(0x162)][_0x4d4591(0x472)][_0x4d4591(0x617)](_0x86c993,this[_0x4d4591(0x466)][_0x4d4591(0x243)]);return this[_0x4d4591(0x59f)]=_0x4ac156,this['logger']['verbose'](this[_0x4d4591(0x7ed)]+'\x20('+this['instance'][_0x4d4591(0x243)]+_0x4d4591(0x281)),this[_0x4d4591(0x4b0)][_0x4d4591(0x477)](this[_0x4d4591(0x7ed)]+'\x20('+this[_0x4d4591(0x466)][_0x4d4591(0x243)]+_0x4d4591(0x544)+this[_0x4d4591(0x59f)]),setTimeout(()=>this[_0x4d4591(0x66a)](),0x7d0),_0x4ac156;}catch(_0x2bec66){throw this['logger'][_0x4d4591(0x7e7)](this[_0x4d4591(0x7ed)]+'\x20('+this[_0x4d4591(0x466)][_0x4d4591(0x243)]+_0x4d4591(0x583)+(_0x2bec66 instanceof Error?_0x2bec66[_0x4d4591(0x210)]:JSON[_0x4d4591(0x7c7)](_0x2bec66,null,0x2))),new w(_0x4d4591(0x2a0)+_0x2bec66[_0x4d4591(0x210)]);}}async['getAutomateSystem'](){const _0x3bbde9=a0_0x2aa7ab;try{let _0x76da62=await this[_0x3bbde9(0x162)][_0x3bbde9(0x472)]['findOrCreate'](this[_0x3bbde9(0x466)][_0x3bbde9(0x243)]);return this[_0x3bbde9(0x59f)]=_0x76da62,this[_0x3bbde9(0x4b0)][_0x3bbde9(0x477)](this['instanceName']+'\x20('+this[_0x3bbde9(0x466)][_0x3bbde9(0x243)]+_0x3bbde9(0x612)),this[_0x3bbde9(0x4b0)]['verbose'](this[_0x3bbde9(0x59f)]),_0x76da62;}catch(_0x57b88c){throw this[_0x3bbde9(0x4b0)][_0x3bbde9(0x7e7)](this[_0x3bbde9(0x7ed)]+'\x20('+this[_0x3bbde9(0x466)]['wuid']+_0x3bbde9(0x334)+(_0x57b88c instanceof Error?_0x57b88c[_0x3bbde9(0x210)]:JSON[_0x3bbde9(0x7c7)](_0x57b88c,null,0x2))),new w(_0x3bbde9(0x726)+_0x57b88c['message']);}}async['setRestartTimeout'](){const _0xc6db2a=a0_0x2aa7ab;this['instance'][_0xc6db2a(0x42a)][_0xc6db2a(0x2ec)]&&clearTimeout(this['instance'][_0xc6db2a(0x42a)][_0xc6db2a(0x2ec)]),this['instance'][_0xc6db2a(0x42a)][_0xc6db2a(0x2ec)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x2aa7ab(0x639)](){const _0x55e706=a0_0x2aa7ab;Date[_0x55e706(0x458)]()-this[_0x55e706(0x466)][_0x55e706(0x42a)]['lastSend']>=0x1d4c0&&(this['logger'][_0x55e706(0x477)](this[_0x55e706(0x7ed)]+'\x20('+this[_0x55e706(0x466)][_0x55e706(0x243)]+_0x55e706(0x5fb)),this[_0x55e706(0x466)][_0x55e706(0x42a)]['processing_id']=null,this[_0x55e706(0x466)][_0x55e706(0x42a)]['lastSend']=0x0,this[_0x55e706(0x466)][_0x55e706(0x42a)]['delayMessage']=0x0,await this[_0x55e706(0x66a)]());}async[a0_0x2aa7ab(0x66a)](){const _0x5d4949=a0_0x2aa7ab;let _0x685418=()=>{const _0xa58f9a=a0_0x4fa0;this['logger'][_0xa58f9a(0x477)](this[_0xa58f9a(0x7ed)]+'\x20('+this[_0xa58f9a(0x466)][_0xa58f9a(0x243)]+'):\x20this.processing_id:\x20'+this[_0xa58f9a(0x466)][_0xa58f9a(0x42a)][_0xa58f9a(0x1f9)]+_0xa58f9a(0x791));},_0x3cf7f2=async()=>{const _0x1becba=a0_0x4fa0;this[_0x1becba(0x4b0)]['verbose'](this[_0x1becba(0x7ed)]+'\x20('+this[_0x1becba(0x466)]['wuid']+_0x1becba(0x30a));let _0x298454=Date[_0x1becba(0x458)]()-0xc*0x3c*0x3c*0x3e8,_0x26f74b={'where':{'status':{'$in':[_0x1becba(0x4d5),_0x1becba(0x805)]},'$or':[{'when':{'$lte':Date[_0x1becba(0x458)](),'$gte':_0x298454}},{'when':0x0}]}};return await this[_0x1becba(0x162)]['scheduleMessage'][_0x1becba(0x701)](_0x26f74b,this[_0x1becba(0x466)][_0x1becba(0x243)]);},_0x4c1d7c=async _0x5160d5=>{const _0x1dc78c=a0_0x4fa0;for(let _0x19d72d of _0x5160d5){let _0x265aeb={'_id':_0x19d72d[_0x1dc78c(0x408)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x1dc78c(0x458)]()-0x1770}}]},_0x33266a={'startSend':Date[_0x1dc78c(0x458)]()};if(!await this[_0x1dc78c(0x162)][_0x1dc78c(0x552)][_0x1dc78c(0x38e)](_0x265aeb,_0x33266a,this[_0x1dc78c(0x466)][_0x1dc78c(0x243)]))return;if(_0x19d72d['type']===_0x1dc78c(0x722)&&!this[_0x1dc78c(0x59f)]?.[_0x1dc78c(0x3cd)]['enabled']){this[_0x1dc78c(0x4b0)][_0x1dc78c(0x7e7)](this[_0x1dc78c(0x7ed)]+'\x20('+this[_0x1dc78c(0x466)][_0x1dc78c(0x243)]+_0x1dc78c(0x686));continue;}(!_0x19d72d[_0x1dc78c(0x551)]||_0x19d72d[_0x1dc78c(0x551)]['length']===0x0)&&(_0x19d72d=await this['repository']['scheduleMessage'][_0x1dc78c(0x19b)](_0x19d72d[_0x1dc78c(0x408)],{'status':_0x1dc78c(0x805),'remoteJidsRemaining':[..._0x19d72d[_0x1dc78c(0x543)]]},this[_0x1dc78c(0x466)][_0x1dc78c(0x243)]));for(let _0x549dde of _0x19d72d[_0x1dc78c(0x551)]){if(await this[_0x1dc78c(0x5df)](),this[_0x1dc78c(0x466)]['ScheduleMessage'][_0x1dc78c(0x6b2)]=Date[_0x1dc78c(0x458)](),this[_0x1dc78c(0x466)][_0x1dc78c(0x42a)]['ultimaTentativaRemoteJid']===_0x549dde){this[_0x1dc78c(0x4b0)][_0x1dc78c(0x7e7)](this['instanceName']+'\x20('+this['instance'][_0x1dc78c(0x243)]+_0x1dc78c(0x566)+_0x549dde+_0x1dc78c(0x3e9));let _0x120e3b={'$push':{'messagesSend':{'remoteJid':_0x549dde,'error':!0x0,'id':null,'error_log':_0x1dc78c(0x2b1),'log_timestamp':Date[_0x1dc78c(0x458)]()}},'$pull':{'remoteJidsRemaining':_0x549dde}};await this[_0x1dc78c(0x162)][_0x1dc78c(0x552)][_0x1dc78c(0x19b)](_0x19d72d[_0x1dc78c(0x408)],_0x120e3b,this[_0x1dc78c(0x466)][_0x1dc78c(0x243)]);continue;}if(this['instance'][_0x1dc78c(0x42a)][_0x1dc78c(0x424)]=_0x549dde,_0x19d72d[_0x1dc78c(0x1d5)][_0x1dc78c(0x504)](_0x1e888c=>_0x1e888c['remoteJid']===_0x549dde)){this[_0x1dc78c(0x4b0)][_0x1dc78c(0x477)](this[_0x1dc78c(0x7ed)]+'\x20('+this[_0x1dc78c(0x466)][_0x1dc78c(0x243)]+_0x1dc78c(0x263)+_0x549dde+'.\x20Pulando.');continue;}if(!this[_0x1dc78c(0x466)]['ScheduleMessage'][_0x1dc78c(0x1f9)]){this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x1dc78c(0x4f3)+_0x19d72d[_0x1dc78c(0x408)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0x19d72d[_0x1dc78c(0x793)]==='flow'&&!this[_0x1dc78c(0x59f)]?.['flowConfig'][_0x1dc78c(0x3af)]){this[_0x1dc78c(0x4b0)][_0x1dc78c(0x7e7)](this[_0x1dc78c(0x7ed)]+'\x20('+this[_0x1dc78c(0x466)][_0x1dc78c(0x243)]+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0x559492={'remoteJid':_0x549dde,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x1dc78c(0x458)]()},_0x28c627=null;try{let _0xb561c7=await this['SendScheduleMessage'](_0x549dde,_0x19d72d);_0x559492['error']=_0xb561c7[_0x1dc78c(0x7e7)],_0x559492['id']=_0xb561c7[_0x1dc78c(0x7e7)]?null:_0xb561c7['id'],_0x559492[_0x1dc78c(0x1cc)]=_0xb561c7[_0x1dc78c(0x7e7)]?_0xb561c7[_0x1dc78c(0x2b6)]?_0xb561c7[_0x1dc78c(0x2b6)][_0x1dc78c(0x618)]():'':null;let _0x5b186a={'$push':{'messagesSend':_0x559492},'$pull':{'remoteJidsRemaining':_0x549dde}},_0x27af54=_0x19d72d[_0x1dc78c(0x408)];if(_0x28c627=await this[_0x1dc78c(0x162)]['scheduleMessage']['updateOneById'](_0x27af54,_0x5b186a,this[_0x1dc78c(0x466)][_0x1dc78c(0x243)]),_0xb561c7[_0x1dc78c(0x7e7)])continue;let _0x2ec26b=this[_0x1dc78c(0x30c)](_0x19d72d[_0x1dc78c(0x557)],_0x19d72d[_0x1dc78c(0x390)]);await this['sleep'](_0x2ec26b);}catch(_0x25c9ea){this[_0x1dc78c(0x4b0)][_0x1dc78c(0x7e7)](this['instanceName']+'\x20('+this['instance'][_0x1dc78c(0x243)]+'):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20'+_0x549dde+':\x20'+(_0x25c9ea instanceof Error?_0x25c9ea[_0x1dc78c(0x210)]:JSON[_0x1dc78c(0x7c7)](_0x25c9ea,null,0x2))),_0x559492[_0x1dc78c(0x7e7)]=!0x0,_0x559492['error_log']=_0x25c9ea['message'];let _0x3447a8={'$push':{'messagesSend':_0x559492},'$pull':{'remoteJidsRemaining':_0x549dde}},_0x57d68e=_0x19d72d[_0x1dc78c(0x408)];_0x28c627=await this[_0x1dc78c(0x162)]['scheduleMessage'][_0x1dc78c(0x19b)](_0x57d68e,_0x3447a8,this['instance']['wuid']);}finally{if(_0x28c627&&_0x28c627[_0x1dc78c(0x540)]==='stopped'){this[_0x1dc78c(0x4b0)]['verbose'](this[_0x1dc78c(0x7ed)]+'\x20('+this[_0x1dc78c(0x466)][_0x1dc78c(0x243)]+_0x1dc78c(0x4f3)+_0x19d72d[_0x1dc78c(0x408)]+_0x1dc78c(0x415));break;}}}let _0x268b33=await this[_0x1dc78c(0x162)][_0x1dc78c(0x552)][_0x1dc78c(0x226)](_0x19d72d[_0x1dc78c(0x408)],this[_0x1dc78c(0x466)][_0x1dc78c(0x243)]);if(_0x268b33['remoteJidsRemaining'][_0x1dc78c(0x57b)]===0x0&&_0x268b33[_0x1dc78c(0x540)]!=='stopped'){let _0x1a28e4={'$set':{'status':_0x1dc78c(0x4f7)}},_0x4de32a=_0x268b33['_id'];await this[_0x1dc78c(0x162)][_0x1dc78c(0x552)][_0x1dc78c(0x19b)](_0x4de32a,_0x1a28e4,this[_0x1dc78c(0x466)][_0x1dc78c(0x243)]);}await new Promise(_0x5116bf=>setTimeout(_0x5116bf,0x1388));}},_0x576665=async()=>{const _0x2707e5=a0_0x4fa0;let _0x1b146f={'where':{'status':_0x2707e5(0x4d5),'when':{'$gt':Date['now']()}}},_0x169eec=await this[_0x2707e5(0x162)][_0x2707e5(0x552)]['findOne'](_0x1b146f,this[_0x2707e5(0x466)][_0x2707e5(0x243)]);_0x169eec&&_0x169eec[_0x2707e5(0x2a3)]-Date[_0x2707e5(0x458)]()<=0x5265c00?this[_0x2707e5(0x466)][_0x2707e5(0x42a)][_0x2707e5(0x1b7)]=_0x169eec['when']-Date[_0x2707e5(0x458)]():this[_0x2707e5(0x466)][_0x2707e5(0x42a)][_0x2707e5(0x1b7)]=(0x3c+Math[_0x2707e5(0x65e)](Math[_0x2707e5(0x507)]()*0x3c))*0x3c*0x3e8,this[_0x2707e5(0x466)]['ScheduleMessage'][_0x2707e5(0x1b7)]=Math[_0x2707e5(0x62d)](this[_0x2707e5(0x466)][_0x2707e5(0x42a)][_0x2707e5(0x1b7)],0x7d0);let _0x41e11b=Math[_0x2707e5(0x692)](this[_0x2707e5(0x466)][_0x2707e5(0x42a)][_0x2707e5(0x1b7)]/0xea60);if(_0x169eec){let _0x53f963=new Date(_0x169eec['when'])[_0x2707e5(0x434)]();this[_0x2707e5(0x4b0)][_0x2707e5(0x477)](this[_0x2707e5(0x7ed)]+'\x20('+this[_0x2707e5(0x466)]['wuid']+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x53f963+_0x2707e5(0x2fa)+_0x41e11b+_0x2707e5(0x4ca));}else this[_0x2707e5(0x4b0)]['verbose'](this[_0x2707e5(0x7ed)]+'\x20('+this[_0x2707e5(0x466)][_0x2707e5(0x243)]+_0x2707e5(0x800)+_0x41e11b+'\x20minutos');setTimeout(()=>this['scheduleNextCheck'](),this['instance']['ScheduleMessage'][_0x2707e5(0x1b7)]);};if(this[_0x5d4949(0x466)][_0x5d4949(0x42a)]['processing_id']){await this[_0x5d4949(0x5df)](),_0x685418();return;}try{let _0x65079a=await _0x3cf7f2();_0x65079a[_0x5d4949(0x57b)]===0x0?this['logger']['verbose'](this[_0x5d4949(0x7ed)]+'\x20('+this[_0x5d4949(0x466)][_0x5d4949(0x243)]+_0x5d4949(0x6b3)):(this['instance'][_0x5d4949(0x42a)][_0x5d4949(0x1f9)]=_0x65079a[0x0][_0x5d4949(0x408)],await _0x4c1d7c(_0x65079a)),await _0x576665(),this['instance'][_0x5d4949(0x42a)][_0x5d4949(0x1f9)]=null,this['instance']['ScheduleMessage'][_0x5d4949(0x424)]=null;}catch(_0x2d5710){this[_0x5d4949(0x4b0)]['error'](_0x5d4949(0x278)+(_0x2d5710 instanceof Error?_0x2d5710[_0x5d4949(0x210)]:JSON['stringify'](_0x2d5710,null,0x2)));}}[a0_0x2aa7ab(0x30c)](_0x1af953,_0x100ad7){const _0x474e66=a0_0x2aa7ab;return _0x1af953=Math[_0x474e66(0x62d)](0.5,_0x1af953),_0x100ad7=Math['min'](Math[_0x474e66(0x62d)](0x3,_0x100ad7),0x78),Math[_0x474e66(0x65e)](Math[_0x474e66(0x507)]()*(_0x100ad7-_0x1af953+0x1)+_0x1af953)*0x3e8;}[a0_0x2aa7ab(0x64e)](_0x2f2dce){return new Promise(_0x403e28=>setTimeout(_0x403e28,_0x2f2dce));}async['getVariablesChat'](_0x176d8c){const _0x4023ae=a0_0x2aa7ab;if(!this[_0x4023ae(0x59f)]&&(await this['getAutomateSystem'](),!this['AutomateSystem']))return null;_0x176d8c=this['createJid'](_0x176d8c);let _0x3dd198=await this[_0x4023ae(0x162)][_0x4023ae(0x6cc)]['findOne']({'where':{'_id':_0x176d8c}},this[_0x4023ae(0x466)][_0x4023ae(0x243)]),_0x162a1f={};if(_0x3dd198&&_0x3dd198[_0x4023ae(0x5aa)]){let _0x3ccb09=_0x3dd198[_0x4023ae(0x5aa)];typeof _0x3ccb09[_0x4023ae(0x676)]==_0x4023ae(0x626)&&(_0x162a1f[_0x4023ae(0x676)]=_0x3ccb09[_0x4023ae(0x676)]),typeof _0x3ccb09[_0x4023ae(0x771)]==_0x4023ae(0x626)&&(_0x162a1f[_0x4023ae(0x771)]=_0x3ccb09['nomecompleto']),typeof _0x3ccb09[_0x4023ae(0x2b0)]==_0x4023ae(0x626)&&(_0x162a1f[_0x4023ae(0x2b0)]=_0x3ccb09['email']),typeof _0x3ccb09[_0x4023ae(0x18d)]==_0x4023ae(0x626)&&(_0x162a1f[_0x4023ae(0x18d)]=_0x3ccb09['cpf']),typeof _0x3ccb09[_0x4023ae(0x540)]==_0x4023ae(0x626)&&(_0x162a1f[_0x4023ae(0x540)]=_0x3ccb09[_0x4023ae(0x540)]),typeof _0x3ccb09['notas']==_0x4023ae(0x626)&&(_0x162a1f[_0x4023ae(0x4a2)]=_0x3ccb09[_0x4023ae(0x4a2)]),typeof _0x3ccb09[_0x4023ae(0x678)]==_0x4023ae(0x626)&&(_0x162a1f['responsavelid']=_0x3ccb09['responsavelid']),Array[_0x4023ae(0x166)](_0x3ccb09[_0x4023ae(0x706)])&&(_0x162a1f[_0x4023ae(0x706)]=_0x3ccb09[_0x4023ae(0x706)]['join'](',\x20')),Array[_0x4023ae(0x166)](_0x3ccb09['etiquetas'])&&(_0x162a1f[_0x4023ae(0x2ef)]=_0x3ccb09[_0x4023ae(0x2ef)][_0x4023ae(0x1a2)](',\x20'));}return _0x3dd198&&_0x3dd198[_0x4023ae(0x5aa)]&&_0x3dd198[_0x4023ae(0x5aa)]['customFields']&&_0x3dd198[_0x4023ae(0x5aa)][_0x4023ae(0x21e)][_0x4023ae(0x53a)](_0x453f04=>{const _0x18bad1=_0x4023ae;let _0x246b79=this[_0x18bad1(0x59f)]?.[_0x18bad1(0x21e)][_0x18bad1(0x701)](_0x2c9c54=>_0x2c9c54[_0x18bad1(0x408)]===_0x453f04['_id']);_0x246b79&&(_0x162a1f[_0x246b79[_0x18bad1(0x6f5)]]=_0x453f04['value']);}),_0x162a1f;}async[a0_0x2aa7ab(0x3a9)](_0x4d64f7,_0x278d9a){const _0x52fced=a0_0x2aa7ab;let _0xaf6cff=await this[_0x52fced(0x2e5)](_0x278d9a);return this[_0x52fced(0x2d9)](_0x4d64f7,_0xaf6cff);}async[a0_0x2aa7ab(0x3bb)](_0x4ed579){const _0xe989f0=a0_0x2aa7ab;try{if(this[_0xe989f0(0x4b0)]['verbose'](this[_0xe989f0(0x7ed)]+'\x20('+this['instance'][_0xe989f0(0x243)]+_0xe989f0(0x336)),_0x4ed579[_0xe989f0(0x801)]&&_0x4ed579[_0xe989f0(0x408)]){if(this[_0xe989f0(0x466)]['ScheduleMessage'][_0xe989f0(0x1f9)]===_0x4ed579[_0xe989f0(0x408)]['toString']())throw new Error(_0xe989f0(0x7f8));let _0x1da62e=await this[_0xe989f0(0x162)]['scheduleMessage'][_0xe989f0(0x576)](_0x4ed579[_0xe989f0(0x408)],this[_0xe989f0(0x466)]['wuid']);return setTimeout(()=>this[_0xe989f0(0x66a)](),0x7d0),_0x1da62e;}let _0x3fc1fb;if(_0x4ed579[_0xe989f0(0x408)]&&(_0x3fc1fb=await this[_0xe989f0(0x162)][_0xe989f0(0x552)]['findById'](_0x4ed579[_0xe989f0(0x408)],this['instance'][_0xe989f0(0x243)])),_0x3fc1fb){let _0x4571b2;if(this[_0xe989f0(0x466)][_0xe989f0(0x42a)]['processing_id']===_0x3fc1fb[_0xe989f0(0x408)][_0xe989f0(0x618)]())_0x4571b2={'$set':{'status':_0x4ed579[_0xe989f0(0x540)]}};else{let {_id:_0x3e2567,..._0x50579b}=_0x4ed579;_0x4571b2={'$set':_0x50579b};}let _0x5095e6=await this[_0xe989f0(0x162)][_0xe989f0(0x552)][_0xe989f0(0x19b)](_0x4ed579[_0xe989f0(0x408)],_0x4571b2,this['instance'][_0xe989f0(0x243)]);return setTimeout(()=>this[_0xe989f0(0x66a)](),0x7d0),_0x5095e6;}else{_0x4ed579[_0xe989f0(0x32e)]=this[_0xe989f0(0x466)]['wuid'];let _0x3d9d71=await this['repository'][_0xe989f0(0x552)][_0xe989f0(0x36c)](_0x4ed579,this[_0xe989f0(0x466)][_0xe989f0(0x243)]);return setTimeout(()=>this[_0xe989f0(0x66a)](),0x7d0),_0x3d9d71;}}catch(_0x1583f5){throw this[_0xe989f0(0x4b0)]['error'](this['instanceName']+'\x20('+this[_0xe989f0(0x466)][_0xe989f0(0x243)]+_0xe989f0(0x394)+(_0x1583f5 instanceof Error?_0x1583f5[_0xe989f0(0x210)]:JSON[_0xe989f0(0x7c7)](_0x1583f5,null,0x2))),new w(_0xe989f0(0x1c8)+_0x1583f5[_0xe989f0(0x210)]);}}async[a0_0x2aa7ab(0x4fa)](){const _0x17e337=a0_0x2aa7ab;try{return await this[_0x17e337(0x162)][_0x17e337(0x552)]['find']({'where':{}},this[_0x17e337(0x466)][_0x17e337(0x243)]);}catch(_0x3e5834){throw this[_0x17e337(0x4b0)][_0x17e337(0x7e7)](this[_0x17e337(0x7ed)]+'\x20('+this[_0x17e337(0x466)][_0x17e337(0x243)]+'):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:'+(_0x3e5834 instanceof Error?_0x3e5834['message']:JSON[_0x17e337(0x7c7)](_0x3e5834,null,0x2))),new w(_0x17e337(0x1c8)+_0x3e5834['message']);}}async[a0_0x2aa7ab(0x5be)](){const _0x3a012c=a0_0x2aa7ab;try{let _0x285f04={'status':_0x3a012c(0x4f7)},_0xb34724=await this[_0x3a012c(0x162)][_0x3a012c(0x552)][_0x3a012c(0x533)](_0x285f04,this[_0x3a012c(0x466)][_0x3a012c(0x243)]);if(!_0xb34724[_0x3a012c(0x7e7)])this['logger']['verbose'](this[_0x3a012c(0x7ed)]+'\x20('+this['instance']['wuid']+_0x3a012c(0x2c4));else throw new Error(_0xb34724[_0x3a012c(0x7e7)][_0x3a012c(0x210)]||_0x3a012c(0x5bd));return this[_0x3a012c(0x4fa)]();}catch(_0x4bd8af){throw this[_0x3a012c(0x4b0)][_0x3a012c(0x7e7)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3a012c(0x663)+(_0x4bd8af instanceof Error?_0x4bd8af[_0x3a012c(0x210)]:JSON[_0x3a012c(0x7c7)](_0x4bd8af,null,0x2))),new w(_0x3a012c(0x1c8)+_0x4bd8af[_0x3a012c(0x210)]);}}async[a0_0x2aa7ab(0x16a)](_0x5c8394,_0x4aaabe){const _0x14951d=a0_0x2aa7ab;try{if(_0x4aaabe[_0x14951d(0x793)]===_0x14951d(0x722)&&!this[_0x14951d(0x59f)]?.['flowConfig'][_0x14951d(0x3af)])return this[_0x14951d(0x4b0)]['error'](this['instanceName']+'\x20('+this[_0x14951d(0x466)][_0x14951d(0x243)]+_0x14951d(0x69e)),{'error':!0x0,'detail':_0x14951d(0x27b)};switch(_0x4aaabe[_0x14951d(0x793)]){case _0x14951d(0x309):return await this[_0x14951d(0x52e)](_0x4aaabe,_0x5c8394);case'media':return await this[_0x14951d(0x180)](_0x4aaabe,_0x5c8394);case _0x14951d(0x63a):return await this[_0x14951d(0x5f3)](_0x4aaabe,_0x5c8394);case _0x14951d(0x722):let _0x45d552=new Le();return _0x45d552[_0x14951d(0x6f5)]=_0x4aaabe[_0x14951d(0x58b)],_0x45d552[_0x14951d(0x39b)]=_0x5c8394,await this['startFlow'](_0x45d552);break;default:return this['logger']['error'](this[_0x14951d(0x7ed)]+'\x20('+this[_0x14951d(0x466)][_0x14951d(0x243)]+_0x14951d(0x3f2)+_0x4aaabe['type']),{'error':!0x0,'detail':'Comando\x20desconhecido'};}}catch(_0x294c1d){return this[_0x14951d(0x4b0)]['error'](this[_0x14951d(0x7ed)]+'\x20('+this[_0x14951d(0x466)][_0x14951d(0x243)]+_0x14951d(0x586)+(_0x294c1d instanceof Error?_0x294c1d[_0x14951d(0x210)]:JSON[_0x14951d(0x7c7)](_0x294c1d,null,0x2))),{'error':!0x0,'detail':_0x294c1d[_0x14951d(0x210)]};}}['getRandomText'](_0x3d6f21){const _0x30cefb=a0_0x2aa7ab;let _0x5cd3b2=_0x3d6f21[_0x30cefb(0x3fa)]('|'),_0x34d26c=Math['floor'](Math[_0x30cefb(0x507)]()*_0x5cd3b2['length']);return _0x5cd3b2[_0x34d26c]['trim']();}async['scheduleSendText'](_0x5be692,_0x411ea4){const _0x56229c=a0_0x2aa7ab;if(this[_0x56229c(0x4b0)][_0x56229c(0x477)](this['instanceName']+'\x20('+this[_0x56229c(0x466)][_0x56229c(0x243)]+'):\x20Enviando\x20texto'),!_0x5be692['message']['text']||_0x5be692[_0x56229c(0x210)][_0x56229c(0x309)]['length']===0x0)return{'error':!0x0,'detail':_0x56229c(0x1aa)};let _0x23f501=this['getRandomText'](_0x5be692[_0x56229c(0x210)]['text']),_0x5a57a9=await this[_0x56229c(0x3a9)](_0x23f501,_0x411ea4),_0xf54744={'number':_0x411ea4,'options':{'delay':_0x5be692['message'][_0x56229c(0x6ec)]},'textMessage':{'text':_0x5a57a9}},_0x22c71b=null;try{let _0x137f49=await this[_0x56229c(0x7aa)](_0xf54744);if(_0x137f49&&_0x137f49['status'])return{'error':!0x1,'id':_0x137f49['key']['id']};_0x22c71b=JSON[_0x56229c(0x7c7)](_0x137f49),this['logger'][_0x56229c(0x477)](this['instanceName']+'\x20('+this[_0x56229c(0x466)][_0x56229c(0x243)]+_0x56229c(0x544)+_0x22c71b);}catch(_0x50e465){this[_0x56229c(0x4b0)][_0x56229c(0x7e7)](this['instanceName']+'\x20('+this[_0x56229c(0x466)][_0x56229c(0x243)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x50e465 instanceof Error?_0x50e465[_0x56229c(0x210)]:JSON['stringify'](_0x50e465,null,0x2))),_0x22c71b=_0x50e465[_0x56229c(0x210)];}if(_0x22c71b)return{'error':!0x0,'detail':(typeof _0x22c71b==_0x56229c(0x76d)?JSON[_0x56229c(0x7c7)](_0x22c71b,null,0x2):_0x22c71b)[_0x56229c(0x73a)](/[\[\]{}\n]/g,'\x20')[_0x56229c(0x73a)](/  +/g,'\x20')};}async[a0_0x2aa7ab(0x180)](_0x2441ba,_0x23d4a4){const _0x54c3a5=a0_0x2aa7ab;this[_0x54c3a5(0x4b0)][_0x54c3a5(0x477)](this[_0x54c3a5(0x7ed)]+'\x20('+this['instance']['wuid']+_0x54c3a5(0x7cf));let _0xf5f6a0;if(_0x2441ba['message'][_0x54c3a5(0x309)]&&_0x2441ba['message'][_0x54c3a5(0x309)][_0x54c3a5(0x57b)]>0x0){let _0x4b4334=this[_0x54c3a5(0x6cf)](_0x2441ba[_0x54c3a5(0x210)][_0x54c3a5(0x309)]);_0xf5f6a0=await this[_0x54c3a5(0x3a9)](_0x4b4334,_0x23d4a4);}let _0x4a59ac={'number':_0x23d4a4,'options':{'delay':_0x2441ba['message']['delay']},'mediaMessage':{'mediatype':_0x2441ba[_0x54c3a5(0x210)][_0x54c3a5(0x206)],'caption':_0xf5f6a0,'media':_0x2441ba[_0x54c3a5(0x210)][_0x54c3a5(0x538)]}},_0x2308a5=null;try{let _0x55aaff=await this[_0x54c3a5(0x18b)](_0x4a59ac);if(_0x55aaff&&_0x55aaff[_0x54c3a5(0x540)])return{'error':!0x1,'id':_0x55aaff[_0x54c3a5(0x50e)]['id']};_0x2308a5=JSON[_0x54c3a5(0x7c7)](_0x55aaff),this[_0x54c3a5(0x4b0)][_0x54c3a5(0x477)](this[_0x54c3a5(0x7ed)]+'\x20('+this[_0x54c3a5(0x466)][_0x54c3a5(0x243)]+_0x54c3a5(0x544)+_0x2308a5);}catch(_0x56f12d){this['logger'][_0x54c3a5(0x7e7)](this[_0x54c3a5(0x7ed)]+'\x20('+this[_0x54c3a5(0x466)]['wuid']+_0x54c3a5(0x5f2)+(_0x56f12d instanceof Error?_0x56f12d['message']:JSON['stringify'](_0x56f12d,null,0x2))),_0x2308a5=_0x56f12d['message'];}if(_0x2308a5)return{'error':!0x0,'detail':(typeof _0x2308a5==_0x54c3a5(0x76d)?JSON[_0x54c3a5(0x7c7)](_0x2308a5,null,0x2):_0x2308a5)[_0x54c3a5(0x73a)](/[\[\]{}\n]/g,'\x20')[_0x54c3a5(0x73a)](/  +/g,'\x20')};}async[a0_0x2aa7ab(0x5f3)](_0x4245ec,_0x197206){const _0x2bd5fd=a0_0x2aa7ab;this['logger'][_0x2bd5fd(0x477)](this[_0x2bd5fd(0x7ed)]+'\x20('+this[_0x2bd5fd(0x466)][_0x2bd5fd(0x243)]+_0x2bd5fd(0x26b));let _0x4d8607={'number':_0x197206,'options':{'delay':_0x4245ec[_0x2bd5fd(0x210)][_0x2bd5fd(0x6ec)]},'audioMessage':{'audio':_0x4245ec[_0x2bd5fd(0x210)][_0x2bd5fd(0x538)]}},_0x57cb7b=null;try{let _0x18a7a7=await this[_0x2bd5fd(0x47f)](_0x4d8607);if(_0x18a7a7&&_0x18a7a7['status'])return{'error':!0x1,'id':_0x18a7a7[_0x2bd5fd(0x50e)]['id']};_0x57cb7b=JSON[_0x2bd5fd(0x7c7)](_0x18a7a7),this[_0x2bd5fd(0x4b0)][_0x2bd5fd(0x477)](this['instanceName']+'\x20('+this[_0x2bd5fd(0x466)]['wuid']+'):\x20'+_0x57cb7b);}catch(_0x10abd4){this['logger'][_0x2bd5fd(0x7e7)](this[_0x2bd5fd(0x7ed)]+'\x20('+this[_0x2bd5fd(0x466)][_0x2bd5fd(0x243)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20'+(_0x10abd4 instanceof Error?_0x10abd4[_0x2bd5fd(0x210)]:JSON[_0x2bd5fd(0x7c7)](_0x10abd4,null,0x2))),_0x57cb7b=_0x10abd4[_0x2bd5fd(0x210)];}if(_0x57cb7b)return{'error':!0x0,'detail':(typeof _0x57cb7b==_0x2bd5fd(0x76d)?JSON[_0x2bd5fd(0x7c7)](_0x57cb7b,null,0x2):_0x57cb7b)[_0x2bd5fd(0x73a)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}},Ft=class c{constructor(_0x156f1e,_0x110e2f,_0x4458af){const _0x2ceedc=a0_0x2aa7ab;this['eventEmitter']=_0x156f1e,this[_0x2ceedc(0x22b)]=_0x110e2f,this[_0x2ceedc(0x162)]=_0x4458af,this['db']={},this[_0x2ceedc(0x6d1)]={},this[_0x2ceedc(0x4b0)]=new N(c['name']),this[_0x2ceedc(0x222)]={},(this[_0x2ceedc(0x3ce)](),this[_0x2ceedc(0x3d5)](),Object[_0x2ceedc(0x819)](this['db'],_0x110e2f[_0x2ceedc(0x54a)](_0x2ceedc(0x2d0))),Object[_0x2ceedc(0x819)](this[_0x2ceedc(0x6d1)],_0x110e2f[_0x2ceedc(0x54a)](_0x2ceedc(0x482))),this[_0x2ceedc(0x7ab)]=this['db'][_0x2ceedc(0x2a2)]?this['repository']['dbServer']?.['db'](this['db']['CONNECTION'][_0x2ceedc(0x275)]+_0x2ceedc(0x49c)):void 0x0,this[_0x2ceedc(0x685)]=this[_0x2ceedc(0x6d1)]['ENABLED']?new ne(this[_0x2ceedc(0x6d1)]):void 0x0);}async[a0_0x2aa7ab(0x6e6)](_0x3d79dd){const _0x42b85f=a0_0x2aa7ab;if(_0x3d79dd&&!this['waInstances'][_0x3d79dd])throw new L('Instance\x20\x22'+_0x3d79dd+_0x42b85f(0x342));let _0x42ee8e=[];for await(let [_0x4fed46,_0x308b64]of Object[_0x42b85f(0x363)](this[_0x42b85f(0x222)]))if(_0x308b64&&_0x308b64[_0x42b85f(0x46f)]['state']===_0x42b85f(0x1e7)){let _0x2fdaa9=await this[_0x42b85f(0x162)][_0x42b85f(0x441)][_0x42b85f(0x701)](_0x4fed46);_0x42ee8e[_0x42b85f(0x31c)]({'instance':{'instanceName':_0x4fed46,'apikey':_0x2fdaa9[_0x42b85f(0x67b)],'owner':_0x308b64[_0x42b85f(0x243)],'profileName':await _0x308b64[_0x42b85f(0x216)]()||_0x42b85f(0x65b),'profilePictureUrl':_0x308b64[_0x42b85f(0x36d)]}});}return _0x42ee8e['find'](_0x130971=>_0x130971[_0x42b85f(0x466)][_0x42b85f(0x7ed)]===_0x3d79dd)??_0x42ee8e;}async[a0_0x2aa7ab(0x6d2)](_0x499545){const _0x3ae164=a0_0x2aa7ab;if(this['db'][_0x3ae164(0x2a2)]&&(await this[_0x3ae164(0x162)]['dbServer'][_0x3ae164(0x3fd)](),(await this['dbInstance'][_0x3ae164(0x417)]())[_0x3ae164(0x57b)]>0x0&&await this[_0x3ae164(0x7ab)][_0x3ae164(0x660)](_0x499545)),this[_0x3ae164(0x6d1)]['ENABLED']){this[_0x3ae164(0x685)][_0x3ae164(0x57f)]=_0x499545,await this['cache']['delAll']();return;}}async[a0_0x2aa7ab(0x5ce)](){const _0x5d8236=a0_0x2aa7ab;await this['InstancesAlterarTodas']();let _0x3072bf=async _0x3c4a1a=>{const _0x41062b=a0_0x4fa0;let _0x4b8038=new be(this[_0x41062b(0x22b)],this['eventEmitter'],this[_0x41062b(0x162)]);_0x4b8038[_0x41062b(0x7ed)]=_0x3c4a1a,await _0x4b8038[_0x41062b(0x51c)](),this['waInstances'][_0x3c4a1a]=_0x4b8038;};try{if(this['redis'][_0x5d8236(0x2a2)]){let _0x2d65eb=await this[_0x5d8236(0x685)][_0x5d8236(0x6ca)]();_0x2d65eb?.[_0x5d8236(0x57b)]>0x0&&_0x2d65eb[_0x5d8236(0x53a)](async _0x4782c6=>await _0x3072bf(_0x4782c6[_0x5d8236(0x3fa)](':')[0x1]));return;}if(this['db'][_0x5d8236(0x2a2)]){await this['repository']['dbServer'][_0x5d8236(0x3fd)]();let _0x4e17af=await this[_0x5d8236(0x7ab)][_0x5d8236(0x417)]();_0x4e17af[_0x5d8236(0x57b)]>0x0&&_0x4e17af[_0x5d8236(0x53a)](async _0x2c6737=>await _0x3072bf(_0x2c6737[_0x5d8236(0x55d)][_0x5d8236(0x73a)](/^[\w-]+\./,'')));return;}}catch(_0xa45ba6){this[_0x5d8236(0x4b0)]['error'](_0xa45ba6);}}async[a0_0x2aa7ab(0x2e3)](){const _0x5dcdc3=a0_0x2aa7ab;let _0x529b42=await this[_0x5dcdc3(0x162)][_0x5dcdc3(0x441)][_0x5dcdc3(0x644)](),_0x501b51=_0x529b42[_0x5dcdc3(0x537)](_0x457b92=>!this['waInstances'][_0x457b92[_0x5dcdc3(0x408)]]&&(_0x457b92[_0x5dcdc3(0x464)]||typeof _0x457b92[_0x5dcdc3(0x464)]>'u'));_0x501b51[_0x5dcdc3(0x57b)]>0x0&&await Promise['all'](_0x501b51['map'](async _0x255dbf=>{const _0x4a7a86=_0x5dcdc3;let _0x11f54d={'online':!0x1,'lastDisconnect':Date[_0x4a7a86(0x458)]()};await this['repository'][_0x4a7a86(0x441)]['create'](_0x11f54d,_0x255dbf[_0x4a7a86(0x408)]);}));let _0xc72cb0=Date[_0x5dcdc3(0x458)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x46e9e0=_0x529b42[_0x5dcdc3(0x537)](_0x20e321=>!this[_0x5dcdc3(0x222)][_0x20e321[_0x5dcdc3(0x408)]]&&typeof _0x20e321[_0x5dcdc3(0x535)]<'u'&&_0x20e321[_0x5dcdc3(0x535)]<_0xc72cb0);_0x46e9e0[_0x5dcdc3(0x57b)]>0x0&&await Promise[_0x5dcdc3(0x513)](_0x46e9e0[_0x5dcdc3(0x360)](async _0x4a5bea=>{}));}async[a0_0x2aa7ab(0x190)](){const _0x1b6fba=a0_0x2aa7ab;try{let _0x1f29ef={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x7d646b={'online':!0x1,'lastDisconnect':Date[_0x1b6fba(0x458)]()},_0xc41756=await this[_0x1b6fba(0x162)][_0x1b6fba(0x441)][_0x1b6fba(0x3de)](_0x1f29ef,_0x7d646b);console['log']('Instâncias\x20atualizadas\x20como\x20desconectadas:\x20'+_0xc41756[_0x1b6fba(0x273)]),await this['removeOlderDisconnectedInstances']();}catch(_0x5119c8){console[_0x1b6fba(0x7e7)](_0x1b6fba(0x25d),_0x5119c8);}}async[a0_0x2aa7ab(0x386)](){const _0x5147a3=a0_0x2aa7ab;try{let _0x287bc8={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x59d359=await this['repository']['auth'][_0x5147a3(0x533)](_0x287bc8);console['log']('Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20'+_0x59d359[_0x5147a3(0x273)]);}catch(_0x3c8f4e){console['error'](_0x5147a3(0x572),_0x3c8f4e);}}[a0_0x2aa7ab(0x3ce)](){const _0x237f33=a0_0x2aa7ab;this['eventEmitter']['on'](_0x237f33(0x781),async _0x4ae2d9=>{const _0x4241d6=_0x237f33;try{this[_0x4241d6(0x222)][_0x4ae2d9]=void 0x0;}catch{}try{this[_0x4241d6(0x6d2)](_0x4ae2d9);}finally{this['logger']['warn']('Instance\x20\x22'+_0x4ae2d9+_0x4241d6(0x815));}});}['noConnection'](){const _0x3ec678=a0_0x2aa7ab;this[_0x3ec678(0x51e)]['on']('no.connection',async _0x4b23c2=>{const _0x16b044=_0x3ec678;try{this[_0x16b044(0x222)][_0x4b23c2]=void 0x0;}catch{}try{this['cleaningUp'](_0x4b23c2);}finally{this['logger'][_0x16b044(0x634)](_0x16b044(0x3fb)+_0x4b23c2+_0x16b044(0x1ce));}});}},Ut=class extends D{[a0_0x2aa7ab(0x7f1)](_0x413e29){return Ks(_0x413e29);}async[a0_0x2aa7ab(0x3fc)](_0x1e9ed0){const _0x38766d=a0_0x2aa7ab;if(_0x1e9ed0['length']!==0x0)try{return{'insertCount':(await this[_0x38766d(0x7f1)](_0x1e9ed0[0x0][_0x38766d(0x32e)])['insertMany']([..._0x1e9ed0]))[_0x38766d(0x57b)]};}catch(_0x2f0e28){return _0x2f0e28;}}async[a0_0x2aa7ab(0x701)](_0x1221f7,_0x12e3e3){const _0x23b340=a0_0x2aa7ab;try{let _0x5cd434=this[_0x23b340(0x7f1)](_0x12e3e3),_0x16bd68=A(_0x1221f7[_0x23b340(0x6de)]);return await _0x5cd434['find'](_0x16bd68)['sort']({'lastmsg':-0x1})['limit'](_0x1221f7?.[_0x23b340(0x249)]??0x0)[_0x23b340(0x27d)]();}catch{return[];}}async[a0_0x2aa7ab(0x431)](_0x9dce19,_0x1e53db){const _0x3652ec=a0_0x2aa7ab;try{return await this[_0x3652ec(0x7f1)](_0x1e53db)[_0x3652ec(0x533)]({..._0x9dce19[_0x3652ec(0x6de)]}),[];}catch(_0x530ee9){return{'error':_0x530ee9?.[_0x3652ec(0x618)]()};}}async['findOne'](_0x46b734,_0x598100){const _0x9b2d75=a0_0x2aa7ab;try{let _0x41619b=this[_0x9b2d75(0x7f1)](_0x598100),_0x5418bd=A(_0x46b734[_0x9b2d75(0x6de)]);return await _0x41619b[_0x9b2d75(0x709)](_0x5418bd)[_0x9b2d75(0x27d)]();}catch{return null;}}async[a0_0x2aa7ab(0x38e)](_0x358516,_0x55a377,_0x320e30,_0x5c796f,_0x5aa6f9=a0_0x2aa7ab(0x6f6)){const _0x2d2ec1=a0_0x2aa7ab;try{let _0x126df5={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5c796f},_0x7cb48c=this[_0x2d2ec1(0x7f1)](_0x320e30),_0x192a6e=A(_0x358516[_0x2d2ec1(0x6de)]);Object[_0x2d2ec1(0x717)](_0x55a377)['forEach'](_0x480668=>{_0x55a377[_0x480668]==null&&delete _0x55a377[_0x480668];});let _0x11a246={};return _0x11a246[_0x5aa6f9]=_0x55a377,await _0x7cb48c['findOneAndUpdate'](_0x192a6e,_0x11a246,_0x126df5);}catch(_0x2c07c9){return console['error'](_0x2c07c9),null;}}async[a0_0x2aa7ab(0x6c0)](_0x5b7ed0){const _0x3606f1=a0_0x2aa7ab;try{let _0x11ad96=this[_0x3606f1(0x7f1)](_0x5b7ed0[0x0][_0x3606f1(0x67e)]['where']['owner']),_0xc29305=_0x5b7ed0[_0x3606f1(0x360)](_0x44b7e4=>({'updateOne':{'filter':{..._0x44b7e4[_0x3606f1(0x67e)]['where']},'update':{'$set':_0x44b7e4['update']},'upsert':!0x0}})),_0x2706bc=await _0x11ad96[_0x3606f1(0x703)](_0xc29305);return _0x2706bc[_0x3606f1(0x161)]+_0x2706bc['upsertedCount'];}catch(_0x31a21d){return console[_0x3606f1(0x7e7)](_0x31a21d),0x0;}}async['updateMissingLabels'](_0x49903c){const _0xb1056a=a0_0x2aa7ab;try{let _0x32edd7=this[_0xb1056a(0x7f1)](_0x49903c),_0x1dd879={'labels':{'$exists':!0x0}},_0x21bcc3={'$unset':{'labels':''}};return(await _0x32edd7[_0xb1056a(0x6c0)](_0x1dd879,_0x21bcc3))[_0xb1056a(0x161)];}catch(_0x2a45bb){return console[_0xb1056a(0x7e7)](_0x2a45bb),0x0;}}async[a0_0x2aa7ab(0x3a3)](_0x12e922){const _0xf41e57=a0_0x2aa7ab;try{let _0x4e3222=this['getChatModelForOwner'](_0x12e922),_0xffd5a7={'leadInfo.etiquetas':{'$exists':!0x1}},_0x247f2c={'$set':{'leadInfo.etiquetas':[]}};return(await _0x4e3222['updateMany'](_0xffd5a7,_0x247f2c))[_0xf41e57(0x161)];}catch(_0xee016){return console[_0xf41e57(0x7e7)](_0xee016),0x0;}}async[a0_0x2aa7ab(0x786)](_0x46932a){const _0xc7e786=a0_0x2aa7ab;try{let _0x345925=this[_0xc7e786(0x7f1)](_0x46932a),_0x237116={'leadInfo.tags':{'$exists':!0x1}},_0x1a92f5={'$set':{'leadInfo.tags':[]}};return(await _0x345925[_0xc7e786(0x6c0)](_0x237116,_0x1a92f5))[_0xc7e786(0x161)];}catch(_0x2af881){return console[_0xc7e786(0x7e7)](_0x2af881),0x0;}}async[a0_0x2aa7ab(0x5e2)](_0x3e8212){const _0x791bf5=a0_0x2aa7ab;try{let _0x8c520c=this['getChatModelForOwner'](_0x3e8212),_0x191be7={'leadInfo.customFields':{'$exists':!0x1}},_0x4da4f={'$set':{'leadInfo.customFields':[]}};return(await _0x8c520c['updateMany'](_0x191be7,_0x4da4f))[_0x791bf5(0x161)];}catch(_0x3e16d8){return console['error'](_0x3e16d8),0x0;}}async[a0_0x2aa7ab(0x33c)](_0x3247ce,_0x326d53){const _0x17e596=a0_0x2aa7ab;if(!Array[_0x17e596(0x166)](_0x3247ce)||_0x3247ce[_0x17e596(0x57b)]===0x0)throw new Error(_0x17e596(0x3d0));try{return(await this[_0x17e596(0x7f1)](_0x326d53)[_0x17e596(0x33c)](_0x3247ce))[_0x17e596(0x57b)];}catch(_0x1e4acc){throw console[_0x17e596(0x7e7)](_0x17e596(0x739),_0x1e4acc),_0x1e4acc;}}async[a0_0x2aa7ab(0x31b)](_0x5d65ea,_0xcb1569){const _0x163448=a0_0x2aa7ab;try{await this[_0x163448(0x7f1)](_0xcb1569)['deleteOne']({'_id':_0x5d65ea});}catch(_0x161618){throw console[_0x163448(0x7e7)](_0x163448(0x3eb),_0x161618),_0x161618;}}},qt=class extends D{constructor(_0x343772,_0x56128c,_0x318585){const _0x25a5a7=a0_0x2aa7ab;super(_0x56128c),this['cacheContactModel']=_0x343772,this[_0x25a5a7(0x22b)]=_0x56128c,this['dbConnection']=_0x318585;}async[a0_0x2aa7ab(0x3fc)](_0x515918){const _0x5924d5=a0_0x2aa7ab;if(_0x515918[_0x5924d5(0x57b)]!==0x0)try{return{'insertCount':(await this[_0x5924d5(0x1b2)][_0x5924d5(0x33c)]([..._0x515918]))[_0x5924d5(0x57b)]};}catch(_0xbdc7eb){return _0xbdc7eb;}}async['update'](_0x563ecb,_0x59d4c4){const _0x5ba723=a0_0x2aa7ab;try{let _0x2daa14=A(_0x563ecb['where']);return{'updatedCount':(await this['cacheContactModel']['updateMany'](_0x2daa14,{'$set':_0x59d4c4}))[_0x5ba723(0x161)]};}catch(_0x46090a){return console['error'](_0x5ba723(0x51f),_0x46090a),{'error':_0x46090a['toString']()};}}async[a0_0x2aa7ab(0x31e)](_0x3b211b){const _0x5b5836=a0_0x2aa7ab;try{let _0x17d8f7={'_id':{'$in':_0x3b211b}};return await this[_0x5b5836(0x1b2)][_0x5b5836(0x701)](_0x17d8f7)['lean']();}catch(_0x289ce5){return console['error'](_0x5b5836(0x75d),_0x289ce5),[];}}async['delete'](_0x447420){const _0xe90c51=a0_0x2aa7ab;try{return{'deletedCount':(await this[_0xe90c51(0x1b2)]['deleteMany']({..._0x447420[_0xe90c51(0x6de)]}))[_0xe90c51(0x177)]};}catch(_0x1efdb9){return{'error':_0x1efdb9?.[_0xe90c51(0x618)]()};}}async[a0_0x2aa7ab(0x701)](_0x1a56f7){const _0x8389ad=a0_0x2aa7ab;try{let _0x53b4c8=A(_0x1a56f7[_0x8389ad(0x6de)]);return await this[_0x8389ad(0x1b2)][_0x8389ad(0x701)](_0x53b4c8)[_0x8389ad(0x249)](_0x1a56f7?.[_0x8389ad(0x249)]??0x0)[_0x8389ad(0x27d)]();}catch{return[];}}async[a0_0x2aa7ab(0x709)](_0x3e9e07){const _0x5ed226=a0_0x2aa7ab;try{let _0x1490da=A(_0x3e9e07[_0x5ed226(0x6de)]);return await this[_0x5ed226(0x1b2)]['findOne'](_0x1490da)[_0x5ed226(0x27d)]();}catch{return null;}}},Jt=class extends D{[a0_0x2aa7ab(0x7d1)](_0x3ec49f){return Ca(_0x3ec49f);}async[a0_0x2aa7ab(0x38e)](_0x5524f3,_0x3b6154,_0x4a1bb9,_0x1f43ce){const _0xe42ecd=a0_0x2aa7ab;try{let _0x1da4d2={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x1f43ce},_0x34d460=this['getLabelModelForOwner'](_0x4a1bb9),_0xdf9f9d=A(_0x5524f3[_0xe42ecd(0x6de)]);return await _0x34d460['findOneAndUpdate'](_0xdf9f9d,{'$set':_0x3b6154},_0x1da4d2);}catch(_0x24b4b3){return console[_0xe42ecd(0x7e7)](_0x24b4b3),null;}}async[a0_0x2aa7ab(0x701)](_0x3453e2,_0x51c28b){const _0x24e1c5=a0_0x2aa7ab;try{let _0x2e1b5d=this[_0x24e1c5(0x7d1)](_0x51c28b),_0x5f4ece=A(_0x3453e2[_0x24e1c5(0x6de)]);return await _0x2e1b5d[_0x24e1c5(0x701)](_0x5f4ece);}catch(_0x5037cb){console['error'](_0x5037cb);}}async[a0_0x2aa7ab(0x801)](_0x502dd5,_0x4f9e80){const _0x3965cf=a0_0x2aa7ab;try{let _0x4daeeb=this[_0x3965cf(0x7d1)](_0x4f9e80),_0x37a5e0=A(_0x502dd5[_0x3965cf(0x6de)]);await _0x4daeeb[_0x3965cf(0x533)](_0x37a5e0);}catch(_0x19dee0){console[_0x3965cf(0x7e7)](_0x19dee0);}}async[a0_0x2aa7ab(0x431)](_0x46a839){const _0x4fb346=a0_0x2aa7ab;try{return await this[_0x4fb346(0x7d1)](_0x46a839)[_0x4fb346(0x5c9)][_0x4fb346(0x667)](),{'success':!0x0};}catch(_0x372c3c){return console[_0x4fb346(0x7e7)](_0x372c3c),{'success':!0x1,'error':_0x372c3c};}}},Vt=class{constructor(_0x2a6957){const _0x5d4dd6=a0_0x2aa7ab;this[_0x5d4dd6(0x489)]=_0x2a6957;}async['editChat']({instanceName:_0x1b31c1},_0x2aa635){const _0x74e884=a0_0x2aa7ab;return await this[_0x74e884(0x489)]['waInstances'][_0x1b31c1]['editChat'](_0x2aa635);}async['whatsappNumber']({instanceName:_0x30688d},_0x29f6d2){const _0x37b0de=a0_0x2aa7ab;return await this[_0x37b0de(0x489)]['waInstances'][_0x30688d]['whatsappNumber'](_0x29f6d2);}async[a0_0x2aa7ab(0x40f)]({instanceName:_0x3566b5},_0x160e06){const _0x418ae1=a0_0x2aa7ab;return await this[_0x418ae1(0x489)][_0x418ae1(0x222)][_0x3566b5][_0x418ae1(0x40f)](_0x160e06);}async[a0_0x2aa7ab(0x366)]({instanceName:_0x224f09},_0x49cddf){const _0x723e61=a0_0x2aa7ab;return await this[_0x723e61(0x489)][_0x723e61(0x222)][_0x224f09]['markMessageAsRead'](_0x49cddf);}async[a0_0x2aa7ab(0x18e)]({instanceName:_0x32d4d3},_0x528ec0){const _0x17d3db=a0_0x2aa7ab;return await this['waMonitor'][_0x17d3db(0x222)][_0x32d4d3][_0x17d3db(0x18e)](_0x528ec0);}async[a0_0x2aa7ab(0x67c)]({instanceName:_0x11526a},_0x36cee3){const _0x2a57ef=a0_0x2aa7ab;return await this[_0x2a57ef(0x489)][_0x2a57ef(0x222)][_0x11526a][_0x2a57ef(0x67c)](_0x36cee3);}async[a0_0x2aa7ab(0x4bf)]({instanceName:_0x9352fd},_0x35f711){const _0x4ffde5=a0_0x2aa7ab;return await this['waMonitor'][_0x4ffde5(0x222)][_0x9352fd]['profilePicture'](_0x35f711[_0x4ffde5(0x7fa)]);}async[a0_0x2aa7ab(0x207)]({instanceName:_0x5752ec},_0x3feeb9){const _0x487e0d=a0_0x2aa7ab;return await this[_0x487e0d(0x489)][_0x487e0d(0x222)][_0x5752ec][_0x487e0d(0x207)](_0x3feeb9[_0x487e0d(0x7fa)]);}async[a0_0x2aa7ab(0x2f5)]({instanceName:_0x2b88cb},_0xce6282){const _0x39f8ca=a0_0x2aa7ab;return await this[_0x39f8ca(0x489)][_0x39f8ca(0x222)][_0x2b88cb][_0x39f8ca(0x2f5)](_0xce6282);}async[a0_0x2aa7ab(0x460)]({instanceName:_0x2e5bdb},_0x3676f8){const _0x56fd7=a0_0x2aa7ab;return await this[_0x56fd7(0x489)]['waInstances'][_0x2e5bdb][_0x56fd7(0x460)](_0x3676f8);}async[a0_0x2aa7ab(0x68b)]({instanceName:_0x1b01f8},_0x583a29){const _0xde437c=a0_0x2aa7ab;return await this[_0xde437c(0x489)][_0xde437c(0x222)][_0x1b01f8]['getBase64FromMediaMessage'](_0x583a29);}async[a0_0x2aa7ab(0x778)]({instanceName:_0x597d41},_0x36a990){const _0x306a63=a0_0x2aa7ab;return await this['waMonitor'][_0x306a63(0x222)][_0x597d41]['fetchMessages'](_0x36a990);}async[a0_0x2aa7ab(0x7a5)]({instanceName:_0x15af4b}){const _0x1989ac=a0_0x2aa7ab;return await this[_0x1989ac(0x489)]['waInstances'][_0x15af4b]['fetchLabels']();}async['fetchChats']({instanceName:_0x3cffdc}){const _0x5446d7=a0_0x2aa7ab;return await this['waMonitor'][_0x5446d7(0x222)][_0x3cffdc][_0x5446d7(0x36b)]();}async[a0_0x2aa7ab(0x530)]({instanceName:_0x18cc1b}){const _0x5896f4=a0_0x2aa7ab;return await this[_0x5896f4(0x489)][_0x5896f4(0x222)][_0x18cc1b][_0x5896f4(0x530)]();}async[a0_0x2aa7ab(0x403)]({instanceName:_0x41507d},_0x3321e0){const _0x376fb0=a0_0x2aa7ab;return await this[_0x376fb0(0x489)][_0x376fb0(0x222)][_0x41507d][_0x376fb0(0x403)](_0x3321e0);}async[a0_0x2aa7ab(0x193)]({instanceName:_0x42ce52},_0x12b72a){const _0x7b0d1a=a0_0x2aa7ab;return await this[_0x7b0d1a(0x489)][_0x7b0d1a(0x222)][_0x42ce52]['fetchBusinessProfile'](_0x12b72a['number']);}async[a0_0x2aa7ab(0x20d)]({instanceName:_0x2e3a28},_0x28acaf){const _0x1334a0=a0_0x2aa7ab;return await this['waMonitor'][_0x1334a0(0x222)][_0x2e3a28][_0x1334a0(0x20d)](_0x28acaf[_0x1334a0(0x6f5)]);}async[a0_0x2aa7ab(0x362)]({instanceName:_0x3e254a},_0x31d034){const _0xf73e1=a0_0x2aa7ab;return await this[_0xf73e1(0x489)][_0xf73e1(0x222)][_0x3e254a][_0xf73e1(0x362)](_0x31d034[_0xf73e1(0x540)]);}async[a0_0x2aa7ab(0x7e4)]({instanceName:_0x250d91},_0x4c0075){const _0x38aa31=a0_0x2aa7ab;return await this[_0x38aa31(0x489)][_0x38aa31(0x222)][_0x250d91][_0x38aa31(0x7e4)](_0x4c0075['picture']);}async[a0_0x2aa7ab(0x6e5)]({instanceName:_0x50664e},_0xda826f){const _0x4d7d0d=a0_0x2aa7ab;return await this[_0x4d7d0d(0x489)][_0x4d7d0d(0x222)][_0x50664e]['removeProfilePicture']();}},_s=require(a0_0x2aa7ab(0x78e)),Bt=class c{constructor(_0x4752e4,_0x14e6bf,_0x4770fa,_0xa06fb7,_0x4d0587){const _0x453178=a0_0x2aa7ab;this[_0x453178(0x489)]=_0x4752e4,this[_0x453178(0x22b)]=_0x14e6bf,this[_0x453178(0x162)]=_0x4770fa,this[_0x453178(0x51e)]=_0xa06fb7,this[_0x453178(0x636)]=_0x4d0587,this[_0x453178(0x4b0)]=new N(c[_0x453178(0x6f5)]);}async['createInstance']({instanceName:_0x385521,apikey:_0x4bfca9,number:_0x43aa1f,proxy:_0x42118a=!0x0}){const _0x476c9d=a0_0x2aa7ab;try{let _0x27f8fd=new be(this[_0x476c9d(0x22b)],this[_0x476c9d(0x51e)],this[_0x476c9d(0x162)]);_0x27f8fd[_0x476c9d(0x7ed)]=_0x385521,this[_0x476c9d(0x489)]['waInstances'][_0x27f8fd[_0x476c9d(0x7ed)]]=_0x27f8fd;let _0x2f7677={};_0x4bfca9?(await this['repository'][_0x476c9d(0x441)]['create']({'apikey':_0x4bfca9},_0x385521),_0x2f7677['apikey']=_0x4bfca9):_0x2f7677=await this[_0x476c9d(0x636)][_0x476c9d(0x2f3)]({'instanceName':_0x27f8fd['instanceName']});let _0x32e692;return await _0x27f8fd[_0x476c9d(0x51c)](_0x43aa1f),await(0x0,_s[_0x476c9d(0x6ec)])(0x7d0),_0x32e692=_0x27f8fd['qrCode'],{'instance':{'instanceName':_0x27f8fd['instanceName'],'status':_0x476c9d(0x2fe)},'hash':_0x2f7677,'qrcode':_0x32e692};}catch(_0x595056){this[_0x476c9d(0x4b0)][_0x476c9d(0x7e7)](_0x595056);}}async['connectToWhatsappController']({instanceName:_0x8ba1ec,number:_0x86444c=null}){const _0x25c0dd=a0_0x2aa7ab;try{let _0x32ae2f=this['waMonitor'][_0x25c0dd(0x222)][_0x8ba1ec];switch(_0x32ae2f?.[_0x25c0dd(0x46f)]?.[_0x25c0dd(0x806)]){case'close':return await _0x32ae2f[_0x25c0dd(0x51c)](_0x86444c),await(0x0,_s[_0x25c0dd(0x6ec)])(0x7d0),_0x32ae2f['qrCode'];case _0x25c0dd(0x480):return _0x32ae2f[_0x25c0dd(0x2c8)];default:return await this[_0x25c0dd(0x274)]({'instanceName':_0x8ba1ec});}}catch(_0x117b36){this['logger'][_0x25c0dd(0x357)](_0x117b36);}}async[a0_0x2aa7ab(0x274)]({instanceName:_0x3b621c}){const _0xa98bd1=a0_0x2aa7ab;let _0x45b371=this[_0xa98bd1(0x489)][_0xa98bd1(0x222)][_0x3b621c]['connectionStatus'],_0x310411=null;_0x45b371[_0xa98bd1(0x806)]===_0xa98bd1(0x1e7)&&_0x3b621c&&(_0x310411=await this['waMonitor']['instanceInfo'](_0x3b621c));let _0x1f0c92=null;return _0x45b371['state']===_0xa98bd1(0x480)&&_0x3b621c&&(_0x1f0c92=this[_0xa98bd1(0x489)][_0xa98bd1(0x222)][_0x3b621c]['qrCode']),{'instance':_0x3b621c,'connectionStatus':_0x45b371,'instanceInfo':_0x310411,'qrcode':_0x1f0c92};}async[a0_0x2aa7ab(0x295)]({instanceName:_0x5574d2}){const _0x1a2215=a0_0x2aa7ab;try{return this[_0x1a2215(0x489)]['waInstances'][_0x5574d2]?.[_0x1a2215(0x15c)]?.['ws']?.[_0x1a2215(0x601)](),{'status':'SUCCESS','error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x29a22d){this['logger'][_0x1a2215(0x7e7)](_0x29a22d);}}async['fetchInstances']({instanceName:_0xb311c1}){const _0x2494e5=a0_0x2aa7ab;return _0xb311c1?this['waMonitor']['instanceInfo'](_0xb311c1):this['waMonitor'][_0x2494e5(0x6e6)]();}async[a0_0x2aa7ab(0x37f)]({instanceName:_0x5d5a46}){const _0x2efd7e=a0_0x2aa7ab;try{return await this[_0x2efd7e(0x489)]['waInstances'][_0x5d5a46]?.[_0x2efd7e(0x15c)]?.[_0x2efd7e(0x37f)](_0x2efd7e(0x6c9)+_0x5d5a46),{'error':!0x1,'message':_0x2efd7e(0x524)};}catch(_0x270f08){throw new x(_0x270f08[_0x2efd7e(0x618)]());}}async[a0_0x2aa7ab(0x2c2)]({instanceName:_0x5ef021}){const _0x5a651f=a0_0x2aa7ab;if((await this[_0x5a651f(0x274)]({'instanceName':_0x5ef021}))[_0x5a651f(0x46f)][_0x5a651f(0x806)]===_0x5a651f(0x1e7))throw new w([_0x5a651f(0x593),_0x5a651f(0x3d8)]);try{return delete this[_0x5a651f(0x489)]['waInstances'][_0x5ef021],{'error':!0x1,'message':_0x5a651f(0x78b)};}catch(_0x6a905a){throw new w(_0x6a905a[_0x5a651f(0x618)]());}}},ee=require(a0_0x2aa7ab(0x219)),Gt=class{constructor(_0x35c499){const _0x173884=a0_0x2aa7ab;this[_0x173884(0x489)]=_0x35c499;}async[a0_0x2aa7ab(0x378)]({instanceName:_0x88381b},_0x1e7ffd){const _0x186ddf=a0_0x2aa7ab;return await this['waMonitor'][_0x186ddf(0x222)][_0x88381b]['textMessage'](_0x1e7ffd);}async[a0_0x2aa7ab(0x469)]({instanceName:_0x40d354},_0x144147){const _0x35a14c=a0_0x2aa7ab;return await this[_0x35a14c(0x489)][_0x35a14c(0x222)][_0x40d354]['menuMessage'](_0x144147);}async[a0_0x2aa7ab(0x35f)]({instanceName:_0x45c021},_0x4bc809){const _0x34251a=a0_0x2aa7ab;if((0x0,ee[_0x34251a(0x700)])(_0x4bc809?.[_0x34251a(0x18b)]?.[_0x34251a(0x5d7)])&&!_0x4bc809?.[_0x34251a(0x18b)]?.[_0x34251a(0x1de)])throw new w(_0x34251a(0x19d));if((0x0,ee[_0x34251a(0x4e8)])(_0x4bc809?.[_0x34251a(0x18b)]?.[_0x34251a(0x5d7)])||(0x0,ee[_0x34251a(0x700)])(_0x4bc809?.['mediaMessage']?.[_0x34251a(0x5d7)]))return await this['waMonitor'][_0x34251a(0x222)][_0x45c021][_0x34251a(0x18b)](_0x4bc809);throw new w(_0x34251a(0x412));}async['sendSticker']({instanceName:_0x41541e},_0x5e31cf){const _0x3eb0aa=a0_0x2aa7ab;if((0x0,ee[_0x3eb0aa(0x4e8)])(_0x5e31cf['stickerMessage'][_0x3eb0aa(0x20b)])||(0x0,ee[_0x3eb0aa(0x700)])(_0x5e31cf[_0x3eb0aa(0x46a)][_0x3eb0aa(0x20b)]))return await this[_0x3eb0aa(0x489)][_0x3eb0aa(0x222)][_0x41541e][_0x3eb0aa(0x756)](_0x5e31cf);throw new w(_0x3eb0aa(0x412));}async[a0_0x2aa7ab(0x430)]({instanceName:_0x159a68},_0x47a5df){const _0x1b8e4c=a0_0x2aa7ab;if((0x0,ee['isURL'])(_0x47a5df[_0x1b8e4c(0x24b)][_0x1b8e4c(0x63a)])||(0x0,ee[_0x1b8e4c(0x700)])(_0x47a5df[_0x1b8e4c(0x24b)][_0x1b8e4c(0x63a)]))return await this['waMonitor'][_0x1b8e4c(0x222)][_0x159a68][_0x1b8e4c(0x47f)](_0x47a5df);throw new w(_0x1b8e4c(0x412));}async[a0_0x2aa7ab(0x39f)]({instanceName:_0x8d6d2},_0x4e7fd2){const _0x525810=a0_0x2aa7ab;if((0x0,ee[_0x525810(0x700)])(_0x4e7fd2[_0x525810(0x29e)]['mediaMessage']?.['media'])&&!_0x4e7fd2[_0x525810(0x29e)][_0x525810(0x18b)]?.[_0x525810(0x1de)])throw new w(_0x525810(0x19d));return await this[_0x525810(0x489)][_0x525810(0x222)][_0x8d6d2][_0x525810(0x29e)](_0x4e7fd2);}async['sendLocation']({instanceName:_0x1df369},_0x4abafe){const _0x309d1a=a0_0x2aa7ab;return await this[_0x309d1a(0x489)][_0x309d1a(0x222)][_0x1df369]['locationMessage'](_0x4abafe);}async[a0_0x2aa7ab(0x3d4)]({instanceName:_0x1442de},_0x14506b){const _0x231d4b=a0_0x2aa7ab;return await this[_0x231d4b(0x489)]['waInstances'][_0x1442de]['pollMessage'](_0x14506b);}async[a0_0x2aa7ab(0x1ba)]({instanceName:_0x36ea05},_0x33d19a){const _0x19946c=a0_0x2aa7ab;return await this[_0x19946c(0x489)][_0x19946c(0x222)][_0x36ea05][_0x19946c(0x54f)](_0x33d19a);}async[a0_0x2aa7ab(0x3b0)]({instanceName:_0x1dc1b8},_0x4a7444){const _0xd8b56c=a0_0x2aa7ab;return await this[_0xd8b56c(0x489)][_0xd8b56c(0x222)][_0x1dc1b8][_0xd8b56c(0x70b)](_0x4a7444);}async[a0_0x2aa7ab(0x4d8)]({instanceName:_0x2aed65},_0x5ad172){const _0x4558bb=a0_0x2aa7ab;if(!_0x5ad172[_0x4558bb(0x578)][_0x4558bb(0x3aa)][_0x4558bb(0x377)](/[^\(\)\w\sà-ú"-\+]+/))throw new w('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x4558bb(0x489)][_0x4558bb(0x222)][_0x2aed65][_0x4558bb(0x578)](_0x5ad172);}async[a0_0x2aa7ab(0x1a9)]({instanceName:_0x1ac3d0},_0x556c20){const _0x3fb689=a0_0x2aa7ab;return await this[_0x3fb689(0x489)][_0x3fb689(0x222)][_0x1ac3d0][_0x3fb689(0x4bc)](_0x556c20);}},xr=require(a0_0x2aa7ab(0x2c1)),Ps=require(a0_0x2aa7ab(0x2be)),Wt=class c{constructor(_0x2d60a6,_0x383f02,_0x217ec9){const _0x4068df=a0_0x2aa7ab;this['configService']=_0x2d60a6,this[_0x4068df(0x489)]=_0x383f02,this[_0x4068df(0x162)]=_0x217ec9,this[_0x4068df(0x4b0)]=new N(c[_0x4068df(0x6f5)]);}async[a0_0x2aa7ab(0x7d3)](_0x8e4a02){const _0x5c2860=a0_0x2aa7ab;let _0xc39615=this[_0x5c2860(0x22b)][_0x5c2860(0x54a)]('AUTHENTICATION')[_0x5c2860(0x47e)],_0x48a755=(0x0,xr[_0x5c2860(0x58c)])({'instanceName':_0x8e4a02[_0x5c2860(0x7ed)],'apiName':Xe,'tokenId':(0x0,Ps['v4'])()},_0xc39615[_0x5c2860(0x490)],{'expiresIn':_0xc39615[_0x5c2860(0x7ff)],'encoding':_0x5c2860(0x312),'subject':'g-t'}),_0x199f5f=await this[_0x5c2860(0x162)][_0x5c2860(0x441)][_0x5c2860(0x679)]({'jwt':_0x48a755},_0x8e4a02[_0x5c2860(0x7ed)]);if(_0x199f5f[_0x5c2860(0x7e7)])throw this['logger']['error']({'localError':c[_0x5c2860(0x6f5)]+_0x5c2860(0x6aa),'error':_0x199f5f[_0x5c2860(0x7e7)]}),new w(_0x5c2860(0x622),_0x199f5f[_0x5c2860(0x7e7)]?.[_0x5c2860(0x618)]());return{'jwt':_0x48a755};}async[a0_0x2aa7ab(0x67b)](_0x462bf5){const _0x14f0b8=a0_0x2aa7ab;let _0x33198f=(0x0,Ps['v4'])()[_0x14f0b8(0x6ae)](),_0x19bb35=await this['repository'][_0x14f0b8(0x441)][_0x14f0b8(0x679)]({'apikey':_0x33198f},_0x462bf5['instanceName']);if(_0x19bb35[_0x14f0b8(0x7e7)])throw this[_0x14f0b8(0x4b0)][_0x14f0b8(0x7e7)]({'localError':c[_0x14f0b8(0x6f5)]+_0x14f0b8(0x6aa),'error':_0x19bb35[_0x14f0b8(0x7e7)]}),new w('Authentication\x20error',_0x19bb35[_0x14f0b8(0x7e7)]?.[_0x14f0b8(0x618)]());return{'apikey':_0x33198f};}async['generateHash'](_0x2419fb){const _0x363d8d=a0_0x2aa7ab;let _0x4c7127=this[_0x363d8d(0x22b)]['get'](_0x363d8d(0x7d7));return await this[_0x4c7127[_0x363d8d(0x38c)]](_0x2419fb);}},zt=class{constructor(_0x3b4646){const _0x490872=a0_0x2aa7ab;this[_0x490872(0x489)]=_0x3b4646;}async[a0_0x2aa7ab(0x2b8)](_0x26a84a,_0x39624d){const _0x2b8bc8=a0_0x2aa7ab;return await this[_0x2b8bc8(0x489)]['waInstances'][_0x26a84a[_0x2b8bc8(0x7ed)]]['createGroup'](_0x39624d);}async[a0_0x2aa7ab(0x45f)](_0x2ee7ba,_0x16a04a){const _0x4e49f9=a0_0x2aa7ab;return await this[_0x4e49f9(0x489)][_0x4e49f9(0x222)][_0x2ee7ba[_0x4e49f9(0x7ed)]][_0x4e49f9(0x45f)](_0x16a04a);}async[a0_0x2aa7ab(0x476)](_0x40c194,_0x34feee){const _0x54da95=a0_0x2aa7ab;return await this[_0x54da95(0x489)][_0x54da95(0x222)][_0x40c194['instanceName']]['groupDesc'](_0x34feee);}async[a0_0x2aa7ab(0x6ed)](_0x45d725,_0x4e43d1){const _0x5ec705=a0_0x2aa7ab;return await this[_0x5ec705(0x489)]['waInstances'][_0x45d725['instanceName']][_0x5ec705(0x6ed)](_0x4e43d1);}async['groupBetterSetting'](_0x45bb84,_0x3a7f6e){const _0x45c7cc=a0_0x2aa7ab;return await this[_0x45c7cc(0x489)]['waInstances'][_0x45bb84['instanceName']][_0x45c7cc(0x58e)](_0x3a7f6e);}async['groupSetting'](_0x3b4efb,_0x1e4d8e){const _0x5c73d9=a0_0x2aa7ab;return await this[_0x5c73d9(0x489)]['waInstances'][_0x3b4efb[_0x5c73d9(0x7ed)]][_0x5c73d9(0x69f)](_0x1e4d8e);}async[a0_0x2aa7ab(0x733)](_0x71c446,_0xacb23b){const _0x5f2da5=a0_0x2aa7ab;return await this[_0x5f2da5(0x489)][_0x5f2da5(0x222)][_0x71c446[_0x5f2da5(0x7ed)]]['findGroup'](_0xacb23b);}async[a0_0x2aa7ab(0x488)](_0x249708){const _0x3c7f0d=a0_0x2aa7ab;return await this[_0x3c7f0d(0x489)]['waInstances'][_0x249708[_0x3c7f0d(0x7ed)]][_0x3c7f0d(0x488)]();}async[a0_0x2aa7ab(0x367)](_0x816292,_0x31b16d){const _0x372549=a0_0x2aa7ab;return await this[_0x372549(0x489)]['waInstances'][_0x816292[_0x372549(0x7ed)]]['inviteCode'](_0x31b16d);}async[a0_0x2aa7ab(0x7e5)](_0x180fef,_0x452e87){const _0x299fd2=a0_0x2aa7ab;return await this[_0x299fd2(0x489)][_0x299fd2(0x222)][_0x180fef['instanceName']]['joinGroup'](_0x452e87);}async['groupGetInviteInfo'](_0x9411df,_0x207d57){const _0x3701d8=a0_0x2aa7ab;return await this[_0x3701d8(0x489)]['waInstances'][_0x9411df['instanceName']][_0x3701d8(0x214)](_0x207d57);}async['revokeInviteCode'](_0x9696fe,_0x532a0e){const _0x1a2f3d=a0_0x2aa7ab;return await this['waMonitor'][_0x1a2f3d(0x222)][_0x9696fe[_0x1a2f3d(0x7ed)]][_0x1a2f3d(0x4a1)](_0x532a0e);}async[a0_0x2aa7ab(0x568)](_0x339b84,_0x54feba){const _0x56a44d=a0_0x2aa7ab;return await this[_0x56a44d(0x489)]['waInstances'][_0x339b84[_0x56a44d(0x7ed)]][_0x56a44d(0x568)](_0x54feba);}async[a0_0x2aa7ab(0x70f)](_0x19d219,_0x4db793){const _0x1914ee=a0_0x2aa7ab;return await this[_0x1914ee(0x489)][_0x1914ee(0x222)][_0x19d219[_0x1914ee(0x7ed)]][_0x1914ee(0x3bd)](_0x4db793);}async['toggleEphemeral'](_0x1cd76e,_0x23b816){const _0x2ca707=a0_0x2aa7ab;return await this['waMonitor'][_0x2ca707(0x222)][_0x1cd76e['instanceName']][_0x2ca707(0x1fb)](_0x23b816);}async[a0_0x2aa7ab(0x569)](_0x362cbe,_0x6bcffa){const _0x536ad2=a0_0x2aa7ab;return await this[_0x536ad2(0x489)][_0x536ad2(0x222)][_0x362cbe[_0x536ad2(0x7ed)]][_0x536ad2(0x569)](_0x6bcffa);}},Ht=class{constructor(_0x430813){const _0x2ffec5=a0_0x2aa7ab;this[_0x2ffec5(0x489)]=_0x430813;}[a0_0x2aa7ab(0x679)](_0x13d679,_0x4652af){const _0x26e851=a0_0x2aa7ab;return this[_0x26e851(0x489)][_0x26e851(0x222)][_0x13d679[_0x26e851(0x7ed)]][_0x26e851(0x473)](_0x4652af);}async['find'](_0x15cabb){const _0x5db7f9=a0_0x2aa7ab;try{return await this[_0x5db7f9(0x489)][_0x5db7f9(0x222)][_0x15cabb[_0x5db7f9(0x7ed)]][_0x5db7f9(0x7df)]();}catch{return{'enabled':null,'url':''};}}},fp=new N(a0_0x2aa7ab(0x5a2)),Kt=class{constructor(_0x126fa4){const _0x1a3e8f=a0_0x2aa7ab;this[_0x1a3e8f(0x489)]=_0x126fa4;}async[a0_0x2aa7ab(0x3bb)](_0x69b498,_0x13bfde){const _0x298b92=a0_0x2aa7ab;return await this[_0x298b92(0x489)]['waInstances'][_0x69b498[_0x298b92(0x7ed)]][_0x298b92(0x3bb)](_0x13bfde);}async[a0_0x2aa7ab(0x4fa)](_0x2f9d9a){const _0x51333b=a0_0x2aa7ab;return await this[_0x51333b(0x489)][_0x51333b(0x222)][_0x2f9d9a[_0x51333b(0x7ed)]][_0x51333b(0x4fa)]();}async[a0_0x2aa7ab(0x5be)](_0x2f679f){const _0x2e9c37=a0_0x2aa7ab;return await this[_0x2e9c37(0x489)]['waInstances'][_0x2f679f[_0x2e9c37(0x7ed)]][_0x2e9c37(0x5be)]();}async[a0_0x2aa7ab(0x740)](_0x3bd866){const _0x22053d=a0_0x2aa7ab;return await this[_0x22053d(0x489)][_0x22053d(0x222)][_0x3bd866[_0x22053d(0x7ed)]][_0x22053d(0x740)]();}async[a0_0x2aa7ab(0x314)](_0x4ad348,_0x57fb8a){const _0x1a9e16=a0_0x2aa7ab;return await this[_0x1a9e16(0x489)][_0x1a9e16(0x222)][_0x4ad348[_0x1a9e16(0x7ed)]]['updateAgent'](_0x57fb8a);}async[a0_0x2aa7ab(0x6b9)](_0x15f404,_0x2fcf6f){const _0x358d12=a0_0x2aa7ab;return await this[_0x358d12(0x489)][_0x358d12(0x222)][_0x15f404['instanceName']][_0x358d12(0x6b9)](_0x2fcf6f);}async[a0_0x2aa7ab(0x1d4)](_0x260ef9,_0x5cfef0){const _0xfb2e40=a0_0x2aa7ab;return await this['waMonitor'][_0xfb2e40(0x222)][_0x260ef9[_0xfb2e40(0x7ed)]]['updateFlowConfig'](_0x5cfef0);}async[a0_0x2aa7ab(0x4c7)](_0x400872,_0x18d3b0){const _0x5a9224=a0_0x2aa7ab;return await this[_0x5a9224(0x489)][_0x5a9224(0x222)][_0x400872['instanceName']][_0x5a9224(0x4c7)](_0x18d3b0);}async[a0_0x2aa7ab(0x54b)](_0x133b6e,_0x4e0dc5){const _0x395006=a0_0x2aa7ab;return await this[_0x395006(0x489)][_0x395006(0x222)][_0x133b6e['instanceName']]['getConversation'](_0x4e0dc5);}async[a0_0x2aa7ab(0x527)](_0x15e948,_0x36e1ac){const _0x22532b=a0_0x2aa7ab;return await this['waMonitor'][_0x22532b(0x222)][_0x15e948[_0x22532b(0x7ed)]][_0x22532b(0x527)](_0x36e1ac);}async[a0_0x2aa7ab(0x478)](_0xa0db07,_0x1bba01){const _0x2ea4c8=a0_0x2aa7ab;return await this[_0x2ea4c8(0x489)][_0x2ea4c8(0x222)][_0xa0db07[_0x2ea4c8(0x7ed)]][_0x2ea4c8(0x478)](_0x1bba01);}async['deleteConversation'](_0x3e575f,_0x4e9ee2){const _0x13e807=a0_0x2aa7ab;return await this[_0x13e807(0x489)][_0x13e807(0x222)][_0x3e575f[_0x13e807(0x7ed)]][_0x13e807(0x736)](_0x4e9ee2);}async[a0_0x2aa7ab(0x506)](_0x1ee251,_0x3d16ad){const _0x2f0c84=a0_0x2aa7ab;return await this['waMonitor'][_0x2f0c84(0x222)][_0x1ee251[_0x2f0c84(0x7ed)]]['getFlow'](_0x3d16ad[_0x2f0c84(0x6f5)]);}async[a0_0x2aa7ab(0x1c1)](_0x5e4bfc,_0x11c075){const _0x438a6e=a0_0x2aa7ab;return await this[_0x438a6e(0x489)][_0x438a6e(0x222)][_0x5e4bfc[_0x438a6e(0x7ed)]][_0x438a6e(0x1c1)](_0x11c075);}async['editFlow'](_0x3991a2,_0x503f18){const _0x20a120=a0_0x2aa7ab;return await this[_0x20a120(0x489)][_0x20a120(0x222)][_0x3991a2[_0x20a120(0x7ed)]]['editFlow'](_0x503f18);}async['editFlowBlock'](_0x4218df,_0x3ab86a){const _0x3c7fa6=a0_0x2aa7ab;return await this[_0x3c7fa6(0x489)][_0x3c7fa6(0x222)][_0x4218df[_0x3c7fa6(0x7ed)]][_0x3c7fa6(0x4d2)](_0x3ab86a);}async[a0_0x2aa7ab(0x6ff)](_0x444eef,_0x82b3b){const _0x2de18e=a0_0x2aa7ab;return await this['waMonitor']['waInstances'][_0x444eef[_0x2de18e(0x7ed)]]['editFlowReply'](_0x82b3b);}async['editFlowGroup'](_0x7005c7,_0x21a600){const _0x3dd39b=a0_0x2aa7ab;return await this[_0x3dd39b(0x489)]['waInstances'][_0x7005c7[_0x3dd39b(0x7ed)]]['editFlowGroup'](_0x21a600);}async[a0_0x2aa7ab(0x642)](_0x33b704,_0x8e5e8e){const _0x55a4ec=a0_0x2aa7ab;return await this[_0x55a4ec(0x489)][_0x55a4ec(0x222)][_0x33b704['instanceName']][_0x55a4ec(0x642)](_0x8e5e8e);}async[a0_0x2aa7ab(0x674)](_0x1b3de7,_0x505b51){const _0x443062=a0_0x2aa7ab;return await this[_0x443062(0x489)][_0x443062(0x222)][_0x1b3de7['instanceName']][_0x443062(0x674)](_0x505b51);}async['editFlowVariable'](_0x1f959c,_0x5618d1){const _0x4500a7=a0_0x2aa7ab;return await this[_0x4500a7(0x489)][_0x4500a7(0x222)][_0x1f959c[_0x4500a7(0x7ed)]]['editFlowVariable'](_0x5618d1);}async[a0_0x2aa7ab(0x34f)](_0x359b98,_0x95aec){const _0x2194c1=a0_0x2aa7ab;return await this[_0x2194c1(0x489)][_0x2194c1(0x222)][_0x359b98[_0x2194c1(0x7ed)]]['deleteFlow'](_0x95aec[_0x2194c1(0x6f5)]);}async[a0_0x2aa7ab(0x1c4)](_0x129cf0){const _0x274683=a0_0x2aa7ab;return await this[_0x274683(0x489)][_0x274683(0x222)][_0x129cf0[_0x274683(0x7ed)]][_0x274683(0x1c4)]();}},Qt=class{constructor(_0x408591){const _0x86d724=a0_0x2aa7ab;this[_0x86d724(0x6ee)]=_0x408591;}async[a0_0x2aa7ab(0x1fc)](_0x472559,_0x5b3308){const _0x31f663=a0_0x2aa7ab;return this[_0x31f663(0x6ee)][_0x31f663(0x679)](_0x472559,_0x5b3308);}async[a0_0x2aa7ab(0x7df)](_0x24f1c2){const _0x1845fb=a0_0x2aa7ab;return this[_0x1845fb(0x6ee)]['find'](_0x24f1c2);}},Yt=class extends D{constructor(_0xb46d78,_0x250dd7){const _0x3f84e9=a0_0x2aa7ab;super(_0x250dd7),this[_0x3f84e9(0x5da)]=_0xb46d78,this[_0x3f84e9(0x22b)]=_0x250dd7;}async[a0_0x2aa7ab(0x679)](_0x175abd,_0x4d1030){const _0x83ba07=a0_0x2aa7ab;try{return this['dbSettings'][_0x83ba07(0x2a2)]?{'insertCount':(await this[_0x83ba07(0x5da)][_0x83ba07(0x2d5)]({'_id':_0x4d1030},{..._0x175abd},{'upsert':!0x0}))[_0x83ba07(0x161)]}:{'insertCount':0x1};}catch(_0x29d5a0){return _0x29d5a0;}}async[a0_0x2aa7ab(0x801)](_0x1c0b77){const _0x329f5c=a0_0x2aa7ab;try{if(this[_0x329f5c(0x4d7)]['ENABLED']){await this['webhookModel'][_0x329f5c(0x576)]({'_id':_0x1c0b77});return;}}catch(_0x518e1c){return{'error':_0x518e1c};}}async['find'](_0x4f10f6){const _0x4939da=a0_0x2aa7ab;try{if(this[_0x4939da(0x4d7)][_0x4939da(0x2a2)])return await this[_0x4939da(0x5da)]['findOne']({'_id':_0x4f10f6});}catch{return{};}}},Xt=class extends D{constructor(_0x1925ac,_0x4946a5){const _0x3afa54=a0_0x2aa7ab;super(_0x4946a5),this[_0x3afa54(0x255)]=_0x1925ac,this[_0x3afa54(0x22b)]=_0x4946a5,this[_0x3afa54(0x441)]=_0x4946a5[_0x3afa54(0x54a)](_0x3afa54(0x7d7));}async[a0_0x2aa7ab(0x679)](_0x3f9288,_0x1b7543){const _0x161dd7=a0_0x2aa7ab;try{if(this[_0x161dd7(0x4d7)][_0x161dd7(0x2a2)])return{'insertCount':(await this[_0x161dd7(0x255)]['updateOne']({'_id':_0x1b7543},{'$set':{..._0x3f9288}},{'upsert':!0x0}))[_0x161dd7(0x161)]};}catch(_0x3784ce){return{'error':_0x3784ce};}}async[a0_0x2aa7ab(0x3de)](_0x24eb94,_0x2efdca){const _0x56f8b8=a0_0x2aa7ab;try{if(this[_0x56f8b8(0x4d7)][_0x56f8b8(0x2a2)])return{'insertCount':(await this['authModel'][_0x56f8b8(0x6c0)](_0x24eb94,{'$set':_0x2efdca},{'upsert':!0x1}))['modifiedCount']};throw new Error(_0x56f8b8(0x744));}catch(_0x5f0da0){return{'error':_0x5f0da0};}}async[a0_0x2aa7ab(0x533)](_0x11a932){const _0x463114=a0_0x2aa7ab;try{if(this[_0x463114(0x4d7)][_0x463114(0x2a2)])return{'insertCount':(await this[_0x463114(0x255)]['deleteMany'](_0x11a932))[_0x463114(0x177)]};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x17c279){return{'error':_0x17c279};}}async['delete'](_0x233cf7){const _0x4bb011=a0_0x2aa7ab;try{if(this[_0x4bb011(0x4d7)][_0x4bb011(0x2a2)]){await this[_0x4bb011(0x255)]['deleteOne']({'_id':_0x233cf7});return;}}catch(_0x56382c){return{'error':_0x56382c};}}async[a0_0x2aa7ab(0x701)](_0x4510b6){const _0x3478b7=a0_0x2aa7ab;try{if(this[_0x3478b7(0x4d7)][_0x3478b7(0x2a2)])return await this[_0x3478b7(0x255)][_0x3478b7(0x709)]({'_id':_0x4510b6});}catch{return{};}}async[a0_0x2aa7ab(0x644)](){const _0x7dfbd3=a0_0x2aa7ab;try{if(this[_0x7dfbd3(0x4d7)][_0x7dfbd3(0x2a2)])return await this['authModel'][_0x7dfbd3(0x701)]();}catch{return[];}}},Zt=class extends D{[a0_0x2aa7ab(0x409)](_0x49050e){return pa(_0x49050e);}async['copyDataToNewModel'](_0x2cc12b){const _0x1139bb=a0_0x2aa7ab;try{let _0x4d2956=ha,_0xe000bc=this[_0x1139bb(0x409)](_0x2cc12b),_0x3cd617=await _0x4d2956[_0x1139bb(0x701)]({'owner':_0x2cc12b})[_0x1139bb(0x27d)](),_0x35b078=[],_0x1e860e=[];for(let _0x45b46f of _0x3cd617)await _0xe000bc[_0x1139bb(0x226)](_0x45b46f[_0x1139bb(0x408)])[_0x1139bb(0x27d)]()||(_0x35b078[_0x1139bb(0x31c)](_0x45b46f),_0x1e860e[_0x1139bb(0x31c)](_0x45b46f[_0x1139bb(0x408)]));return _0x35b078[_0x1139bb(0x57b)]>0x0&&await _0xe000bc['insertMany'](_0x35b078,{'ordered':!0x1}),{'success':!0x0};}catch(_0x3c9fa6){return console[_0x1139bb(0x7e7)]('Erro\x20ao\x20copiar\x20dados:',_0x3c9fa6),{'success':!0x1,'error':_0x3c9fa6};}}async[a0_0x2aa7ab(0x801)](_0x2494c8,_0x318fdf){const _0x2f0476=a0_0x2aa7ab;try{let _0x3b62c9=this[_0x2f0476(0x409)](_0x318fdf),_0x418b54=A(_0x2494c8['where']);return{'deletedCount':(await _0x3b62c9[_0x2f0476(0x533)](_0x418b54))[_0x2f0476(0x177)]};}catch(_0x2f89c6){return{'error':_0x2f89c6?.[_0x2f0476(0x618)]()};}}async[a0_0x2aa7ab(0x576)](_0x264e63,_0x3aa8d1){const _0x219d0d=a0_0x2aa7ab;try{let _0x449f77=this[_0x219d0d(0x409)](_0x3aa8d1),_0xd297ba=A(_0x264e63['where']);return{'deletedCount':(await _0x449f77[_0x219d0d(0x576)](_0xd297ba))[_0x219d0d(0x177)]};}catch(_0x1831ea){return{'error':_0x1831ea?.['toString']()};}}async['replaceOne'](_0x4c3f5e,_0x2de973,_0x17a558){const _0x461246=a0_0x2aa7ab;try{let _0x203962=await this[_0x461246(0x409)](_0x17a558)[_0x461246(0x29c)](_0x4c3f5e,_0x2de973,{'overwrite':!0x0,'new':!0x0});return _0x203962||(console[_0x461246(0x7e7)](_0x461246(0x56c),_0x4c3f5e),null);}catch(_0x3b0955){return console[_0x461246(0x7e7)](_0x461246(0x76e),_0x3b0955),null;}}async[a0_0x2aa7ab(0x38e)](_0x202f56,_0x21d372,_0x5b9ba8){const _0x114fbc=a0_0x2aa7ab;try{let _0x581bd8=await this['getFlowModelForOwner'](_0x5b9ba8)[_0x114fbc(0x226)](_0x202f56);return _0x581bd8?(Object[_0x114fbc(0x819)](_0x581bd8,_0x21d372),await _0x581bd8[_0x114fbc(0x71a)]()):(console[_0x114fbc(0x7e7)](_0x114fbc(0x648),_0x202f56),null);}catch(_0x3d7293){return console[_0x114fbc(0x7e7)](_0x114fbc(0x76e),_0x3d7293),null;}}async['updateMissingShareOwners'](_0x3a9d2c){const _0x9eb337=a0_0x2aa7ab;try{let _0x2d1c4f=this['getFlowModelForOwner'](_0x3a9d2c),_0x3c81c9={'shareOwners':{'$exists':!0x1}},_0x3915f3={'$set':{'shareOwners':[]}};return(await _0x2d1c4f[_0x9eb337(0x6c0)](_0x3c81c9,_0x3915f3))[_0x9eb337(0x161)];}catch(_0xde2957){return console[_0x9eb337(0x7e7)](_0xde2957),0x0;}}async[a0_0x2aa7ab(0x36c)](_0x3ceef4,_0x5136b3){const _0x4877fe=a0_0x2aa7ab;try{let _0xefee3c=this[_0x4877fe(0x409)](_0x5136b3);return await new _0xefee3c(_0x3ceef4)[_0x4877fe(0x71a)]();}catch(_0x240e76){return console[_0x4877fe(0x7e7)](_0x4877fe(0x40b),_0x240e76),null;}}async[a0_0x2aa7ab(0x6c0)](_0x461d1e,_0x505d12,_0x1f6cbe){const _0x51748=a0_0x2aa7ab;try{return{'modifiedCount':(await this[_0x51748(0x409)](_0x1f6cbe)['updateMany'](_0x461d1e,{'$set':_0x505d12}))['modifiedCount']};}catch(_0x42b047){return console['error']('Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:',_0x42b047),{'error':_0x42b047};}}async['findAll'](_0x3ac7bf,_0x411a60){const _0x18580d=a0_0x2aa7ab;try{let _0x494666=this[_0x18580d(0x409)](_0x411a60),_0x5084b9=A(_0x3ac7bf[_0x18580d(0x6de)]);return await _0x494666[_0x18580d(0x701)](_0x5084b9)[_0x18580d(0x249)](_0x3ac7bf?.[_0x18580d(0x249)]??0x0)[_0x18580d(0x27d)]();}catch{return[];}}async[a0_0x2aa7ab(0x709)](_0x138265,_0x237eea){const _0x1d55be=a0_0x2aa7ab;try{let _0x859f18=this[_0x1d55be(0x409)](_0x237eea),_0x3b96f4=A(_0x138265[_0x1d55be(0x6de)]);return await _0x859f18[_0x1d55be(0x709)](_0x3b96f4)['lean']();}catch{return null;}}async['deleteAll'](_0x115fc6){const _0x3fb1f2=a0_0x2aa7ab;try{return await this['getFlowModelForOwner'](_0x115fc6)['collection'][_0x3fb1f2(0x667)](),{'success':!0x0};}catch(_0x1311e5){return console[_0x3fb1f2(0x7e7)](_0x1311e5),{'success':!0x1,'error':_0x1311e5};}}},es=class extends D{[a0_0x2aa7ab(0x7e6)](_0x4d3506){return ma(_0x4d3506);}async['copyDataToNewModel'](_0x46dd3d){const _0x105d3a=a0_0x2aa7ab;try{let _0x331f1b=fa,_0x48e181=this[_0x105d3a(0x7e6)](_0x46dd3d),_0x16e3a6=await _0x331f1b[_0x105d3a(0x701)]({'owner':_0x46dd3d})[_0x105d3a(0x27d)](),_0x1cfb31=[],_0x115d26=[];for(let _0x1fbfa4 of _0x16e3a6)await _0x48e181[_0x105d3a(0x226)](_0x1fbfa4['_id'])[_0x105d3a(0x27d)]()||(_0x1cfb31['push'](_0x1fbfa4),_0x115d26['push'](_0x1fbfa4[_0x105d3a(0x408)]));return _0x1cfb31[_0x105d3a(0x57b)]>0x0&&await _0x48e181['insertMany'](_0x1cfb31,{'ordered':!0x1}),{'success':!0x0};}catch(_0x495c75){return console[_0x105d3a(0x7e7)](_0x105d3a(0x4f8),_0x495c75),{'success':!0x1,'error':_0x495c75};}}async['insert'](_0x3ee144){const _0x436a09=a0_0x2aa7ab;if(_0x3ee144[_0x436a09(0x57b)]!==0x0)try{return{'insertCount':(await this[_0x436a09(0x7e6)](_0x3ee144[0x0][_0x436a09(0x32e)])[_0x436a09(0x33c)]([..._0x3ee144]))[_0x436a09(0x57b)]};}catch(_0x16fb31){return _0x16fb31;}}async['delete'](_0xd60fab,_0x1ba3da){const _0x461335=a0_0x2aa7ab;try{let _0xe5b13=this['getConversationModelForOwner'](_0x1ba3da),_0x51df40=A(_0xd60fab['where']);return{'deletedCount':(await _0xe5b13['deleteMany'](_0x51df40))['deletedCount']};}catch(_0x50c165){return{'error':_0x50c165?.[_0x461335(0x618)]()};}}async[a0_0x2aa7ab(0x576)](_0x15b635,_0x220264){const _0x51a868=a0_0x2aa7ab;try{let _0x2bbdb4=this['getConversationModelForOwner'](_0x220264),_0x227150=A(_0x15b635[_0x51a868(0x6de)]);return{'deletedCount':(await _0x2bbdb4[_0x51a868(0x576)](_0x227150))[_0x51a868(0x177)]};}catch(_0x5736df){return{'error':_0x5736df?.[_0x51a868(0x618)]()};}}async['update'](_0x3ee5d5,_0x24462f){const _0x1c988a=a0_0x2aa7ab;try{if(_0x3ee5d5[_0x1c988a(0x57b)]===0x0)return;let _0x22ba4c=this[_0x1c988a(0x7e6)](_0x24462f),_0x2a2b0f=_0x3ee5d5[_0x1c988a(0x360)](_0x25bf04=>({'updateOne':{'filter':{'name':_0x25bf04[_0x1c988a(0x6f5)],'owner':_0x24462f},'update':{..._0x25bf04}}})),{modifiedCount:_0xf7f3c1}=await _0x22ba4c['bulkWrite'](_0x2a2b0f);return{'insertCount':_0xf7f3c1};}catch{return;}}async[a0_0x2aa7ab(0x6c0)](_0x3791fd,_0x1fd9c8,_0x3d02e5){const _0x21126a=a0_0x2aa7ab;try{return{'modifiedCount':(await this[_0x21126a(0x7e6)](_0x3d02e5)[_0x21126a(0x6c0)](_0x3791fd,{'$set':_0x1fd9c8}))[_0x21126a(0x161)]};}catch(_0x47bd46){return console[_0x21126a(0x7e7)](_0x21126a(0x613),_0x47bd46),{'error':_0x47bd46};}}async[a0_0x2aa7ab(0x38e)](_0x314c40,_0x5207e8,_0x1ab2a4){const _0x369858=a0_0x2aa7ab;try{return await this[_0x369858(0x7e6)](_0x1ab2a4)[_0x369858(0x1bc)]({'_id':_0x314c40},{'$set':_0x5207e8},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x37073e){return console[_0x369858(0x7e7)](_0x37073e),null;}}async[a0_0x2aa7ab(0x701)](_0x2fea28,_0x39c479){const _0x8d09b6=a0_0x2aa7ab;try{return await this[_0x8d09b6(0x7e6)](_0x39c479)[_0x8d09b6(0x701)](_0x2fea28)['sort']({'lastInteraction':-0x1})[_0x8d09b6(0x27d)]();}catch{return[];}}async['findOne'](_0x3fdce7,_0x17eb25){const _0x15778e=a0_0x2aa7ab;try{return await this[_0x15778e(0x7e6)](_0x17eb25)[_0x15778e(0x709)]({..._0x3fdce7['where']})[_0x15778e(0x27d)]();}catch{return null;}}async[a0_0x2aa7ab(0x431)](_0x2f8859){const _0x363e2e=a0_0x2aa7ab;try{return await this['getConversationModelForOwner'](_0x2f8859)[_0x363e2e(0x5c9)][_0x363e2e(0x667)](),{'success':!0x0};}catch(_0x55f701){return console[_0x363e2e(0x7e7)](_0x55f701),{'success':!0x1,'error':_0x55f701};}}},ts=class extends D{['getScheduleMessageModelForOwner'](_0xdac83){return ya(_0xdac83);}async[a0_0x2aa7ab(0x653)](_0x5ae76c){const _0x2f3e4f=a0_0x2aa7ab;try{let _0x368a0e=ba,_0x3da3ab=this[_0x2f3e4f(0x812)](_0x5ae76c),_0x30f3e6=await _0x368a0e['find']({'owner':_0x5ae76c})[_0x2f3e4f(0x27d)](),_0x4aae6c=[],_0x51b28e=[];for(let _0x3729bc of _0x30f3e6)await _0x3da3ab[_0x2f3e4f(0x226)](_0x3729bc[_0x2f3e4f(0x408)])[_0x2f3e4f(0x27d)]()||(_0x4aae6c[_0x2f3e4f(0x31c)](_0x3729bc),_0x51b28e['push'](_0x3729bc[_0x2f3e4f(0x408)]));return _0x4aae6c[_0x2f3e4f(0x57b)]>0x0&&await _0x3da3ab['insertMany'](_0x4aae6c,{'ordered':!0x1}),{'success':!0x0};}catch(_0x5b7802){return console[_0x2f3e4f(0x7e7)]('Erro\x20ao\x20copiar\x20dados:',_0x5b7802),{'success':!0x1,'error':_0x5b7802};}}async['createAndSave'](_0x3dbe80,_0x3e512d){const _0x4552a7=a0_0x2aa7ab;try{let _0x2fb117=this[_0x4552a7(0x812)](_0x3e512d);return await new _0x2fb117(_0x3dbe80)[_0x4552a7(0x71a)]();}catch(_0x55f689){return console[_0x4552a7(0x7e7)](_0x4552a7(0x40b),_0x55f689),null;}}async[a0_0x2aa7ab(0x576)](_0x39533c,_0x24c0a8){const _0x993d=a0_0x2aa7ab;try{return await this[_0x993d(0x812)](_0x24c0a8)['findByIdAndDelete'](_0x39533c),{};}catch(_0x1b0484){return{'error':_0x1b0484?.[_0x993d(0x618)]()};}}async[a0_0x2aa7ab(0x38e)](_0x350b1a,_0x27dc2d,_0x2483f3){const _0x82bc7b=a0_0x2aa7ab;try{return await this[_0x82bc7b(0x812)](_0x2483f3)['findOneAndUpdate'](_0x350b1a,{'$set':_0x27dc2d},{'new':!0x0})[_0x82bc7b(0x27d)]();}catch(_0x2d31a4){return console[_0x82bc7b(0x7e7)](_0x82bc7b(0x638),_0x2d31a4),null;}}async['updateOneById'](_0x5a261a,_0x378c16,_0x204c46){const _0x5501b2=a0_0x2aa7ab;try{return await this['getScheduleMessageModelForOwner'](_0x204c46)[_0x5501b2(0x29c)](_0x5a261a,_0x378c16,{'new':!0x0})[_0x5501b2(0x27d)]();}catch(_0x1a56ec){return console[_0x5501b2(0x7e7)](_0x5501b2(0x638),_0x1a56ec),null;}}async['find'](_0x6bc294,_0x217074){const _0x563be2=a0_0x2aa7ab;try{return await this['getScheduleMessageModelForOwner'](_0x217074)[_0x563be2(0x701)](_0x6bc294['where'])[_0x563be2(0x249)](_0x6bc294?.[_0x563be2(0x249)]??0x0)[_0x563be2(0x28c)]({'when':0x1})['lean']();}catch{return[];}}async[a0_0x2aa7ab(0x709)](_0x520eb3,_0x14a665){const _0xf390bb=a0_0x2aa7ab;try{return await this[_0xf390bb(0x812)](_0x14a665)[_0xf390bb(0x709)](_0x520eb3[_0xf390bb(0x6de)])[_0xf390bb(0x28c)]({'when':0x1})[_0xf390bb(0x27d)]();}catch{return null;}}async['findById'](_0x557f7a,_0x49eef7){const _0x1c7f7b=a0_0x2aa7ab;try{return await this[_0x1c7f7b(0x812)](_0x49eef7)[_0x1c7f7b(0x226)](_0x557f7a)[_0x1c7f7b(0x27d)]();}catch{return null;}}async['deleteMany'](_0x322b94,_0x4487b6){const _0x51abfa=a0_0x2aa7ab;try{return{'deletedCount':(await this[_0x51abfa(0x812)](_0x4487b6)['deleteMany'](_0x322b94))['deletedCount']};}catch(_0x491b8f){return console['error'](_0x51abfa(0x5e1),_0x491b8f),{'error':_0x491b8f};}}async['deleteAll'](_0x6ce243){const _0x595046=a0_0x2aa7ab;try{return await this[_0x595046(0x812)](_0x6ce243)[_0x595046(0x5c9)][_0x595046(0x667)](),{'success':!0x0};}catch(_0x12e6ca){return console[_0x595046(0x7e7)](_0x12e6ca),{'success':!0x1,'error':_0x12e6ca};}}},ss=class extends D{async['update'](_0x479665,_0x4da566){const _0x1110c1=a0_0x2aa7ab;try{if(this['dbSettings']['ENABLED']){let _0x2699f2=await Fe[_0x1110c1(0x1bc)]({'_id':_0x4da566},{'$set':_0x479665},{'new':!0x0});return console['log'](_0x1110c1(0x61b),_0x2699f2),_0x2699f2;}}catch(_0x72e047){throw console['error'](_0x1110c1(0x172),_0x72e047),_0x72e047;}}async[a0_0x2aa7ab(0x689)](_0x5f0e42){const _0x118fbf=a0_0x2aa7ab;try{let _0x1708fa=await Fe[_0x118fbf(0x226)](_0x5f0e42);return _0x1708fa||(_0x1708fa=new Fe({'_id':_0x5f0e42}),await _0x1708fa[_0x118fbf(0x71a)]()),_0x1708fa;}catch(_0x2246ee){return console[_0x118fbf(0x7e7)](_0x118fbf(0x6ad),_0x2246ee),null;}}},Ti=new N(a0_0x2aa7ab(0x46d)),Oi=new Je(b),Ai=new Ut(b),Ii=new tt(b),xi=new qt(Zs,b),Di=new Yt(oa,b),_i=new Xt(aa,b),Pi=new Zt(b),$i=new Jt(b),ki=new es(b),Li=new ts(b),ji=new ss(b),ue=new Ue(Oi,Ai,Ii,xi,Di,_i,Pi,ki,$i,Li,ji,R?.[a0_0x2aa7ab(0x232)]()),V=new Ft(cs,b,ue),Fi=new Wt(b,V,ue),Ui=new Ht(V),Cs=new Qt(Ui),I=new Kt(V),oe=new Bt(V,b,ue,cs,Fi),B=new Gt(V),_=new Vt(V),j=new zt(V);Ti[a0_0x2aa7ab(0x4e7)]('Module\x20-\x20ON');var _h=require('express-async-errors'),$s=require('fs'),Dr=O(require(a0_0x2aa7ab(0x429))),_r=O(require('http')),Oe=class c{static #e;static set[a0_0x2aa7ab(0x532)](_0x171ce2){this.#e=_0x171ce2;}static get[a0_0x2aa7ab(0x429)](){const _0x21c37d=a0_0x2aa7ab;let {FULLCHAIN:_0x4d6654,PRIVKEY:_0x2b47cd}=b['get'](_0x21c37d(0x26e));return Dr[_0x21c37d(0x548)]({'cert':(0x0,$s[_0x21c37d(0x7b1)])(_0x4d6654),'key':(0x0,$s[_0x21c37d(0x7b1)])(_0x2b47cd)},c.#e);}static get[a0_0x2aa7ab(0x47d)](){const _0x461026=a0_0x2aa7ab;return _r[_0x461026(0x548)](c.#e);}},pe=O(require('fs')),Fr=O(require(a0_0x2aa7ab(0x337))),Ae=O(require(a0_0x2aa7ab(0x371))),xe=O(require(a0_0x2aa7ab(0x1ae))),De=require(a0_0x2aa7ab(0x5a6));function qi(){const _0x4aaf32=a0_0x2aa7ab;V['loadInstance']();let _0x2a2d0d=xe[_0x4aaf32(0x798)][_0x4aaf32(0x1a2)](__dirname,'downloads');jr(_0x2a2d0d);}var jr=_0x3ccd68=>{const _0x5f41da=a0_0x2aa7ab;let _0x2b7dc1=pe[_0x5f41da(0x798)]['readdirSync'](_0x3ccd68),_0xc97b6e=0xc*0x3c*0x3c*0x3e8,_0x2c4b48=0x2*0x3c*0x3c*0x3e8,_0x3228f4=new Date()[_0x5f41da(0x20a)]();_0x2b7dc1['forEach'](_0x5527d3=>{const _0x42d556=_0x5f41da;let _0x58b570=xe[_0x42d556(0x798)][_0x42d556(0x1a2)](_0x3ccd68,_0x5527d3),_0xf45e9b=pe[_0x42d556(0x798)]['statSync'](_0x58b570)[_0x42d556(0x203)][_0x42d556(0x20a)]();_0x3228f4-_0xf45e9b>_0xc97b6e&&(pe[_0x42d556(0x798)][_0x42d556(0x627)](_0x58b570),console[_0x42d556(0x357)](_0x42d556(0x322)+_0x5527d3));}),setTimeout(()=>jr(_0x3ccd68),_0x2c4b48);};function Ji(){const _0x47333b=a0_0x2aa7ab;let _0x124d69=new N(_0x47333b(0x72c)),_0x3337fe=(0x0,he[_0x47333b(0x798)])();_0x3337fe[_0x47333b(0x5a9)]((0x0,Lr[_0x47333b(0x798)])({'origin'(_0x2f7a16,_0x2941d4){const _0x58a6f7=_0x47333b;let {ORIGIN:_0x5a07d7}=b['get'](_0x58a6f7(0x1f2));return _0x2f7a16||(_0x2f7a16='*'),_0x5a07d7[_0x58a6f7(0x759)]('*')!==-0x1||_0x5a07d7[_0x58a6f7(0x759)](_0x2f7a16)!==-0x1?_0x2941d4(null,!0x0):_0x2941d4(new Error(_0x58a6f7(0x5e3)));},'methods':[...b[_0x47333b(0x54a)](_0x47333b(0x1f2))['METHODS']],'credentials':b[_0x47333b(0x54a)](_0x47333b(0x1f2))['CREDENTIALS']}),(0x0,he['urlencoded'])({'extended':!0x0,'limit':_0x47333b(0x69d)}),(0x0,he[_0x47333b(0x75b)])({'limit':_0x47333b(0x69d)})),_0x3337fe[_0x47333b(0x5a9)]((_0x2901a3,_0x3923c2,_0x426c6a)=>{const _0xec4501=_0x47333b;_0x2901a3[_0xec4501(0x1ae)][_0xec4501(0x56a)](_0xec4501(0x64f))?_0x426c6a():(0x0,kr['default'])()(_0x2901a3,_0x3923c2,_0x426c6a);}),_0x3337fe[_0x47333b(0x289)]('view\x20engine',_0x47333b(0x28f)),_0x3337fe[_0x47333b(0x289)](_0x47333b(0x69b),(0x0,Ls[_0x47333b(0x1a2)])(ie,_0x47333b(0x69b))),_0x3337fe['use'](he[_0x47333b(0x798)][_0x47333b(0x523)]((0x0,Ls['join'])(ie,_0x47333b(0x7c6)))),_0x3337fe[_0x47333b(0x5a9)]((_0x26fb20,_0x175b6f,_0x2e032c)=>{const _0x4b0346=_0x47333b;let _0x59806b=_0x175b6f[_0x4b0346(0x294)];_0x175b6f['send']=function(_0x2b447a){const _0x4dec51=_0x4b0346;if(_0x26fb20['query'][_0x4dec51(0x35c)]===_0x4dec51(0x5ae)||_0x26fb20[_0x4dec51(0x6b4)][_0x4dec51(0x350)]===_0x4dec51(0x5ae)){let _0x247d10=JSON['parse'](_0x2b447a);_0x2b447a=JSON[_0x4dec51(0x7c7)](_0x24ef80(_0x247d10));}return _0x59806b[_0x4dec51(0x292)](_0x175b6f,[_0x2b447a]);},_0x2e032c();}),_0x3337fe[_0x47333b(0x5a9)]('/',At),_0x3337fe[_0x47333b(0x5a9)]((_0x5ceec6,_0x5da5d2,_0x3f3ea1,_0x1ffce6)=>{const _0x5d2b47=_0x47333b;if(_0x5ceec6)return _0x3f3ea1['status'](_0x5ceec6['status']||0x1f4)[_0x5d2b47(0x75b)](_0x5ceec6);},(_0x42188b,_0x149d4f,_0x5c866b)=>{const _0x2a6765=_0x47333b;let {method:_0x178fa1,url:_0x19fb79}=_0x42188b;_0x149d4f[_0x2a6765(0x540)](0x194)['json']({'status':0x194,'message':_0x2a6765(0x445)+_0x178fa1[_0x2a6765(0x6ae)]()+'\x20'+_0x19fb79,'error':_0x2a6765(0x72f)}),_0x5c866b();});let _0x24ef80=(_0x1ee4ed,_0x9f281f=_0x47333b(0x250))=>{const _0x2b8342=_0x47333b;let _0x5837d6=(_0x360d08,_0x3b320e=null,_0x46e6fd=!0x1)=>{const _0x126148=a0_0x4fa0;let _0x3f9f61={};return Object[_0x126148(0x717)](_0x360d08)['forEach'](_0x26d984=>{const _0x509ba5=_0x126148;let _0x37e257=_0x360d08[_0x26d984],_0x441d6d=''+_0x9f281f+_0x26d984;_0x3b320e&&!_0x46e6fd&&(_0x441d6d=_0x3b320e+'.'+_0x26d984),!_0x37e257&&_0x37e257!==0x0&&_0x37e257!==!0x1||typeof _0x37e257>'u'?_0x3f9f61[_0x441d6d]=null:typeof _0x37e257!='object'&&!Array[_0x509ba5(0x166)](_0x37e257)?_0x3f9f61[_0x441d6d]=_0x37e257:typeof _0x37e257==_0x509ba5(0x76d)&&!Array[_0x509ba5(0x166)](_0x37e257)?_0x3f9f61=Object[_0x509ba5(0x819)](_0x3f9f61,_0x5837d6(_0x37e257,_0x441d6d)):Array[_0x509ba5(0x166)](_0x37e257)&&(typeof _0x37e257[0x0]==_0x509ba5(0x76d)?(_0x3f9f61[_0x441d6d]=[],_0x37e257['forEach'](_0x4c1291=>{_0x3f9f61[_0x441d6d]['push'](_0x5837d6(_0x4c1291,_0x441d6d,!0x0));})):_0x3f9f61[_0x441d6d]=_0x37e257);}),_0x3f9f61;};return Array[_0x2b8342(0x166)](_0x1ee4ed)?_0x1ee4ed[_0x2b8342(0x360)](_0x473c9b=>_0x5837d6(_0x473c9b)):typeof _0x1ee4ed==_0x2b8342(0x76d)&&_0x1ee4ed!==null?_0x5837d6(_0x1ee4ed):{};},_0x23e27d=b[_0x47333b(0x54a)](_0x47333b(0x72c));Oe[_0x47333b(0x532)]=_0x3337fe;let _0x419f38=Oe[_0x23e27d[_0x47333b(0x38c)]],_0x5add96=_0x47333b(0x435);_0x419f38[_0x47333b(0x65d)](_0x23e27d[_0x47333b(0x50a)],()=>{const _0x18ca05=_0x47333b;_0x124d69[_0x18ca05(0x357)](_0x5add96),_0x124d69[_0x18ca05(0x357)](_0x23e27d['TYPE'][_0x18ca05(0x6ae)]()+_0x18ca05(0x68d)+_0x23e27d[_0x18ca05(0x50a)]);}),qi(),zs();}var Vi=a0_0x2aa7ab(0x713),Bi=xe[a0_0x2aa7ab(0x798)][a0_0x2aa7ab(0x1a2)](__dirname,a0_0x2aa7ab(0x4a0)),Ie=null;function Gi(){return new Promise((_0x41cdbb,_0x222258)=>{const _0x362a89=a0_0x4fa0;pe[_0x362a89(0x798)][_0x362a89(0x43f)](Bi,_0x362a89(0x23b),(_0x46008e,_0x1d596)=>{const _0x27e70e=_0x362a89;if(_0x46008e){Ie=_0x46008e,_0x41cdbb();return;}Fr[_0x27e70e(0x798)][_0x27e70e(0x42d)](_0x1d596)[_0x27e70e(0x3d7)][_0x27e70e(0x1ff)]===Vi?(Ie=null,_0x41cdbb()):(Ie=new Error(_0x27e70e(0x26c)),_0x41cdbb());});});}async function Wi(){const _0x3e99ad=a0_0x2aa7ab;try{await Gi(),await js();}catch(_0x4b7c78){console[_0x3e99ad(0x7e7)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x4b7c78),process[_0x3e99ad(0x3ee)](0x1);}}Wi();async function Ur(){const _0x1a35c7=a0_0x2aa7ab;let _0x571afd;try{_0x571afd=(await Ae[_0x1a35c7(0x798)][_0x1a35c7(0x54a)](_0x1a35c7(0x534)))[_0x1a35c7(0x457)]['ip'];}catch(_0x35d4cc){console[_0x1a35c7(0x7e7)](_0x35d4cc);try{_0x571afd=(await Ae[_0x1a35c7(0x798)]['get'](_0x1a35c7(0x7ee)))[_0x1a35c7(0x457)]['ip'];}catch(_0x2f90e1){console[_0x1a35c7(0x7e7)](_0x2f90e1);try{_0x571afd=(await Ae[_0x1a35c7(0x798)][_0x1a35c7(0x54a)](_0x1a35c7(0x159)))[_0x1a35c7(0x457)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x2a3e8c){return console[_0x1a35c7(0x7e7)](_0x2a3e8c),!0x1;}}}return _0x571afd;}var Pr=0x0;async function zi(){const _0x161760=a0_0x2aa7ab;let _0x753d59=await new ne(b[_0x161760(0x54a)](_0x161760(0x482)))[_0x161760(0x6ca)]();return console['log'](_0x161760(0x595),_0x753d59[_0x161760(0x57b)]),_0x753d59[_0x161760(0x57b)];}function Hi(_0x34c7cc){const _0x560fc5=a0_0x2aa7ab;let _0x20d85a=_0x34c7cc[_0x560fc5(0x54a)](_0x560fc5(0x72c))[_0x560fc5(0x65a)],_0xa7cb53=_0x34c7cc[_0x560fc5(0x54a)](_0x560fc5(0x26e)),_0x31adfe;if(_0x20d85a){let _0x427e00=_0x20d85a[_0x560fc5(0x377)](/\/\/(.*?)\./);_0x427e00&&_0x427e00[0x1]&&(_0x31adfe=_0x427e00[0x1]);}if(!_0x31adfe&&_0xa7cb53&&_0xa7cb53[_0x560fc5(0x682)]){let _0x540b30=_0xa7cb53[_0x560fc5(0x682)]['split']('/'),_0x47d71f=_0x540b30[_0x540b30[_0x560fc5(0x57b)]-0x2];if(_0x47d71f){let _0x547d97=_0x47d71f[_0x560fc5(0x3fa)]('.');_0x547d97[_0x560fc5(0x57b)]>0x2&&(_0x31adfe=_0x547d97[0x0]);}}return _0x31adfe;}var Ds=Hi(b);async function Ki(){const _0x3bd5b9=a0_0x2aa7ab;let _0x36c735=b[_0x3bd5b9(0x54a)](_0x3bd5b9(0x482)),_0x52bfe4=b['get'](_0x3bd5b9(0x7d7))[_0x3bd5b9(0x160)][_0x3bd5b9(0x35d)],_0x8566be=b[_0x3bd5b9(0x54a)](_0x3bd5b9(0x26e)),_0x3b73eb=await Ur(),_0x47dcce=b['get'](_0x3bd5b9(0x72c))['PORT'],_0x2bc285=b[_0x3bd5b9(0x54a)](_0x3bd5b9(0x72c))[_0x3bd5b9(0x65a)];try{let _0x5a332f={'ip':_0x3b73eb||null,'redis_enable':_0x36c735?.[_0x3bd5b9(0x2a2)]||null,'apikey':_0x52bfe4||null,'ssl':_0x8566be?.[_0x3bd5b9(0x15e)]||null,'lastupdate':qr||null,'port':_0x47dcce||null,'gitInstallError':Ie?.['message']||null,'url':_0x2bc285||null};if(console[_0x3bd5b9(0x357)](_0x3bd5b9(0x5e8),_0x5a332f['ip']),_0x36c735&&_0x36c735[_0x3bd5b9(0x2a2)]){let _0x178fe9=await zi();_0x5a332f[_0x3bd5b9(0x248)]=_0x178fe9||null;}for(let _0x4ff32a in _0x5a332f)_0x5a332f[_0x3bd5b9(0x6ba)](_0x4ff32a)&&_0x4ff32a!=='ip'&&(_0x5a332f[_0x4ff32a]=JSON[_0x3bd5b9(0x7c7)](_0x5a332f[_0x4ff32a]));return(await Ae[_0x3bd5b9(0x798)]['post']('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x5a332f))['data'];}catch(_0x42e36d){return console[_0x3bd5b9(0x7e7)](_0x42e36d),!0x1;}}var ks=!0x1,qr=0x22c,Qi=0x3,$r=0x1b7740;async function js(){const _0x455476=a0_0x2aa7ab;if(!await Ur())return console[_0x455476(0x7e7)](_0x455476(0x29f)),_0x455476(0x56b);let _0x2f89bb=await Ki();if(_0x2f89bb){if(_0x2f89bb[_0x455476(0x69c)][_0x455476(0x4cb)]===!0x0){let _0x3e3907=b[_0x455476(0x54a)]('SSL_CONF'),_0x31c211=b[_0x455476(0x54a)](_0x455476(0x72c))['URL'];_0x3e3907&&_0x3e3907?.[_0x455476(0x15e)]?.[_0x455476(0x323)](_0x455476(0x252))&&_0x2f89bb[_0x455476(0x69c)][_0x455476(0x76a)]&&!_0x31c211&&(await Zi(_0x2f89bb[_0x455476(0x69c)][_0x455476(0x76a)],Xi),await eo('augusto.fcs@gmail.com',_0x2f89bb[_0x455476(0x69c)]['subdomain']),console['log'](_0x455476(0x4cd)),setTimeout(()=>so(),0x2710)),Ie===null&&_0x2f89bb[_0x455476(0x69c)][_0x455476(0x1a5)]-qr>0x0&&await Yi(),ks||(ks=!0x0,Ji());let _0x9606c4=0x24*0x3c*0x3c,_0x5c75d6=_0x2f89bb[_0x455476(0x69c)][_0x455476(0x21a)]>_0x9606c4?_0x9606c4:_0x2f89bb[_0x455476(0x69c)][_0x455476(0x21a)],_0x5abbf8=Number(_0x5c75d6);if(isNaN(_0x5abbf8)){console[_0x455476(0x7e7)](_0x455476(0x374));return;}let _0x5e2479=Math[_0x455476(0x65e)](_0x5abbf8/0xe10),_0x1c131b=Math[_0x455476(0x65e)](_0x5abbf8%0xe10/0x3c),_0x10fcbb=new Date(Date['now']()+_0x5abbf8*0x3e8);setTimeout(js,_0x5abbf8*0x3e8);let _0x1dfc30=_0x5c3e93=>_0x5c3e93[_0x455476(0x618)]()['padStart'](0x2,'0'),_0x35a232=_0x455476(0x40e)+_0x1dfc30(_0x5e2479)+_0x455476(0x456)+_0x1dfc30(_0x1c131b)+_0x455476(0x788)+_0x1dfc30(_0x10fcbb['getHours']())+':'+_0x1dfc30(_0x10fcbb[_0x455476(0x672)]())+'.';console['log'](_0x35a232);}else return console[_0x455476(0x357)](_0x455476(0x63f)),ks&&(console[_0x455476(0x357)]('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process['exit']()),_0x455476(0x4f2);}else{if(Pr++,Pr<Qi)console[_0x455476(0x357)](_0x455476(0x352)+$r/0xea60+'\x20minutos...'),setTimeout(js,$r);else return console[_0x455476(0x7e7)](_0x455476(0x609)),_0x455476(0x444);}}async function Yi(){const _0x4072ea=a0_0x2aa7ab;console['log']('Parando\x20aplicação,\x20atualização\x20recebida');let _0x4ea8d0=(0x0,De['spawn'])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x4ea8d0['stdout']['on']('data',_0x5a419b=>{console['log']('Atualização:\x20'+_0x5a419b);}),_0x4ea8d0['stderr']['on'](_0x4072ea(0x457),_0x13f2d5=>{const _0x12a12d=_0x4072ea;console[_0x12a12d(0x7e7)](_0x12a12d(0x75f)+_0x13f2d5);}),_0x4ea8d0['on'](_0x4072ea(0x3ee),_0x1c17d3=>{const _0x5b0757=_0x4072ea;_0x1c17d3!==0x0?console[_0x5b0757(0x7e7)](_0x5b0757(0x81b)+_0x1c17d3):console[_0x5b0757(0x357)](_0x5b0757(0x288)),console[_0x5b0757(0x357)](_0x5b0757(0x61d)),setTimeout(()=>process[_0x5b0757(0x3ee)](),0x2710);});}var Xi=xe['default'][a0_0x2aa7ab(0x1a2)](__dirname,a0_0x2aa7ab(0x74b));async function Zi(_0x1351fd,_0x505fb4){const _0x59dc60=a0_0x2aa7ab;let _0x435424=to();_0x1351fd=_0x1351fd[_0x59dc60(0x73a)](_0x59dc60(0x5f5),'');try{let _0x17391f=pe[_0x59dc60(0x798)]['readFileSync'](_0x505fb4,_0x59dc60(0x312));_0x17391f=_0x17391f['replace'](/<apikey>/,_0x435424),_0x17391f=_0x17391f[_0x59dc60(0x73a)](/<subdomain>/g,_0x1351fd),pe[_0x59dc60(0x798)][_0x59dc60(0x4ac)](_0x505fb4,_0x17391f,'utf8'),console[_0x59dc60(0x357)](_0x59dc60(0x794));}catch(_0x1cbbad){console[_0x59dc60(0x7e7)]('Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:',_0x1cbbad);}}function eo(_0x4dc8f7,_0x150c43){return new Promise((_0x2e4926,_0x545cb8)=>{const _0x5a1920=a0_0x4fa0;let _0x5b3125=(0x0,De[_0x5a1920(0x427)])(_0x5a1920(0x4b1),[_0x5a1920(0x372),'--standalone','-m',_0x4dc8f7,_0x5a1920(0x318),'-d',_0x150c43]);_0x5b3125[_0x5a1920(0x4cc)]['on']('data',_0x5b83a2=>{const _0x92b9b=_0x5a1920;console[_0x92b9b(0x357)]('Certbot:\x20'+_0x5b83a2['toString']());}),_0x5b3125[_0x5a1920(0x571)]['on'](_0x5a1920(0x457),_0x19b056=>{const _0x5a4f2f=_0x5a1920;console[_0x5a4f2f(0x7e7)](_0x5a4f2f(0x24f)+_0x19b056[_0x5a4f2f(0x618)]());}),_0x5b3125['on'](_0x5a1920(0x601),_0x2cc4fe=>{const _0x4c10fb=_0x5a1920;_0x2cc4fe!==0x0?(console['error']('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x2cc4fe),_0x545cb8(_0x4c10fb(0x714)+_0x2cc4fe)):(console['log'](_0x4c10fb(0x325)),_0x2e4926());});});}function to(_0x572386=0x32){const _0x2cda33=a0_0x2aa7ab;let _0x37f242=_0x2cda33(0x30e),_0x3475fd='';for(let _0x1edd59=0x0;_0x1edd59<_0x572386;_0x1edd59++)_0x3475fd+=_0x37f242['charAt'](Math[_0x2cda33(0x65e)](Math['random']()*_0x37f242[_0x2cda33(0x57b)]));return _0x3475fd;}function so(){const _0x376e0c=a0_0x2aa7ab;(0x0,De[_0x376e0c(0x33d)])(_0x376e0c(0x6ce),(_0x405c4b,_0xa419b5,_0x5d63cc)=>{const _0x174f00=_0x376e0c;if(_0x405c4b){console[_0x174f00(0x7e7)](_0x174f00(0x49d)+_0x405c4b);return;}if(_0x5d63cc){console[_0x174f00(0x7e7)]('Erro\x20de\x20reinicialização:\x20'+_0x5d63cc);return;}console[_0x174f00(0x357)](_0x174f00(0x1f3)+_0xa419b5);});}0x0&&(module[a0_0x2aa7ab(0x34d)]={'subdomain':subdomain});function a0_0x4a8a(){const _0x12db54=['where','chats.delete','STORE_CONTACTS','convertToWebP','emit','menuType','.docx','removeProfilePicture','instanceInfo','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','*\x0a\x0a','messageId','?timestamp=','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','delay','groupName','webhookService','FlowModel','loadWebhook','.error','messages.upsert','findGroups2','/exit','name','$set','CONTACTS_UPDATE','\x1b[33m%s\x1b[0m','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','deleted','CONTACTS_UPSERT','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','debug','quotedMessage','editFlowReply','isBase64','find','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','bulkWrite','whatsappNumbers','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','tags','Audio\x20converted\x20and\x20stored\x20in\x20cache','MESSAGES_UPDATE','findOne','Subscribed\x20Events:','contactMessage','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','Erro\x20ao\x20atualizar\x20o\x20flow.','updateGParticipate','createHash','model','\x20de\x20conectar\x20com\x20IP\x20extra.','https://github.com/uazapi/uazapi.git','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','stopMinutesMaxActives','contacts.upsert','keys','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','replaceVariablesLogs','save','not_announcement','groups','announce','CONNECTION','Missing\x20global\x20api\x20key','Error\x20in\x20chatModify\x20for\x20number\x20','pollCreationMessageKey','flow','restart','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','):\x20atualização\x20chat:\x20','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','chatHandle','jpegThumbnail','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','all_member_add','setting','SERVER','shareOwners','Início','Not\x20Found','normalizeMessageContent','params','crypto','findGroupInfo','splice','\x0aitem','deleteConversation','fetchInstances','groupId','Erro\x20ao\x20inserir\x20chats:','replace','toFile','):\x20Editando\x20grupo\x20do\x20fluxo...','status.instance','Error\x20writing\x20file:\x20','Enter\x20a\x20value\x20in\x20milliseconds','getAutomateSystem','description','mediaKey',',\x20qrcodeCount:\x20','Database\x20is\x20not\x20enabled','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','sendMessage','verifiedName','/media/','address','activatedCount','env.yml','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Flow\x20não\x20encontrado','backgroundColor','Image\x20converted\x20to\x20WebP','block','groupUpdateSubject','messageSecret','SERVER_PORT','messageHandle','labels.association','mediaSticker','Read\x20messages\x20fail','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','indexOf','normalizeMessage','json','menuMessage','Error\x20finding\x20many\x20contacts:','findAndUpdateCacheContact','Erro\x20de\x20atualização:\x20','?authSource=admin&readPreference=primary&directConnection=true','LabelModel','closeExistingConversations','hGetAll','\x22,\x20valor\x20a\x20substituir:\x20\x22','sections','port','Erro\x20ao\x20adicionar\x20label\x20','rowId','DELETED','subdomain','trimmed','min','object','Erro\x20ao\x20atualizar\x20o\x20fluxo:','.TEL;waid=','redisEnv','nomecompleto','#ffae04','#92ceac','start','GROUPS_UPDATE','fullName','hDel','fetchMessages','env.KEY\x20!==\x20key','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','bodyString','Failed\x20to\x20update\x20contact\x20profile\x20picture','processblock','PROXY','creds.update','remove.instance','message_normalized','ConversationModel','):\x20newSecondValue\x20após\x20replaceVariables:','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','updateMissingTags','Instance\x20ID:','\x20minutos.\x20Será\x20às\x20','):\x20Ler\x20mensagem','loadEnv','Instance\x20deleted','waitingMenu_ExpiredMessage','Nenhum\x20chat\x20encontrado\x20para\x20editar.','@whiskeysockets/baileys','reorderReplyOptions','\x1b[34m','\x20saindo\x20da\x20função','sendPresenceUpdate','type','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','errors','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','createSharedFlow','default','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','request\x20received\x20in\x20editFlowgroup','Error\x20updating\x20profile\x20picture','updateStatusPrivacy','imported','replaceValue','/clients-info','/wa-chats','ObjectId','generateWAMessageFromContent','processUazapi','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','fetchLabels','URL\x20limpa:\x20','pollErrorMessage','user','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','textMessage','dbInstance','groupJoinApprovalMode','DATABASE_CONNECTION_HOST','Esse\x20fluxo\x20expirou','readreceipts','\x20after\x20','readFileSync','Error\x20occurred\x20while\x20archiving\x20chat:\x20','goNextblock','toBRL','Image\x20path:\x20','video-cover.png','Flow\x20iniciado\x20com\x20','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','useMultiFileAuthState','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','http://ifconfig.me/ip','/chat','Message\x20not\x20found','unavailable','endsWith','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','off','\x1b[47m','resetReconnectionVariables','Invalid\x20format','apiResponse','public','stringify','Imagem\x20não\x20encontrada','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','replyOption','/wa-groups','Telefone:\x20','protocolMessage','error\x20get\x20vote','):\x20Enviando\x20mídia','upsertChats','getLabelModelForOwner','capitalizedWords','jwt','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','sharp','downloadMediaMessage','AUTHENTICATION','role','isLong','Archiving\x20chat','truncatedto','displayName','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Número:\x20','findWebhook','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','):\x20customFieldVariables','toNumber','pictureUrl','updateProfilePicture','joinGroup','getConversationModelForOwner','error','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','binary','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','):\x20leadInfoVariables','CacheContacts\x20database\x20connection\x20closed.','instanceName','https://api.ipify.org?format=json','menuIgnoreNonVotes','getMessageModelForOwner','getChatModelForOwner','Error\x20in\x20markMessageAsRead:','setUpdate','editFlowVariable','HH:mm:ss','):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','groupSettingUpdate','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','menuExpiredMessage','number','none','AutomateSystem\x20não\x20foi\x20inicializado','request_time','pre','EXPIRIN_IN','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','delete','delayChatLabel_MAX_RETRIES','EMAIL:','fetchLatestBaileysVersion','sending','state','abs','notEqual','Selecione','font',']\x20(','contactname','\x1b[37m','The\x20','allContacts','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','presence.update','getScheduleMessageModelForOwner','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','_Contacts','\x22\x20-\x20REMOVED','7424712dQumyE','express','content','assign','substring','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','):\x20Buscando\x20conversa...','Notifying\x20clients\x20for\x20chat:\x20','API\x20Key\x20from\x20Request:','http://checkip.dyndns.org','getPrototypeOf','editflow','client','getBusinessProfile','PRIVKEY',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','API_KEY','modifiedCount','repository','temp-','slice','replaceVariablesInReplyOptions','isArray','request\x20received\x20in\x20getConversation','sendLocation','statusCode','SendScheduleMessage','statusJidList','Last\x20message\x20not\x20found','footerText','messaging-history.set','Error\x20change\x20group\x20name','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','#dfaef0','Erro\x20ao\x20atualizar\x20AutomateSystem:','flattenObject','bearer','):\x20lastBlockId:\x20','processApiRequest','deletedCount','locked','No\x20participants','SERVER_TYPE','Error\x20fetching\x20group','\x20-y','lowerCase','groupInviteCode','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','scheduleSendMedia','_Flows','document','values','deleteflow','evaluateCondition','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','):\x20não\x20encontrou','$addToSet','item','saveTextReply','mediaMessage','testProxy','cpf','archiveChat','options','InstancesAlterarTodas','announcement','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','fetchBusinessProfile','HeaderType','Erro\x20ao\x20buscar\x20conversas:\x20','getLastMessage','editFlowGroup','connection.update','):\x20conversation.lastInteraction:\x20','QRCODE_UPDATED','updateOneById','Temp\x20image\x20deleted','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','chats.upsert','writeFile','waitingMenu_id','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','join','removeChatLabel','senderKeyDistributionMessage','last_update','):\x20Erro\x20ao\x20alterar\x20fluxo:\x20','recording','BRL','sendStatus','sem\x20texto\x20na\x20mensagem','findConversation','execSync','\x20chats\x20de\x20','path','subjectOwner','FlowRouter','groupFetchAllParticipating','cacheContactModel','whatsappNumber','app-state-sync-key','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','arraybuffer','delayMessage','choices','flowStopConversation','sendList','Cache-Control','findOneAndUpdate','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','next_groupId','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','_ScheduleMessages','createFlow','removeData','\x20attempts.','allFlows','):\x20Conversa\x20está\x20expirada\x20-\x20voto','@redis/client','saveChatVariables','Erro:','.gif','reconnectAttempts','video','error_log','instance.','\x22\x20-\x20NOT\x20CONNECTION','CORS_ORIGIN','node-mime-types','width','variablesToObject','@g.us','updateFlowConfig','messagesSend','LOG','/instance/create','out','WebhookGlobal','validate','SERVER_URL','prepareWAMessageMedia','_Labels','fileName','size','approve','Message','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','contextInfo','INFO','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','fetchProfilePictureUrl','open','groupRequestParticipantsUpdate','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','\x20não\x20encontrado\x20para\x20atualização.','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','headerString','\x1b[31m','events','saveMediaToFile','Chat\x20','):\x20teve\x20mudanças\x20chat.name:\x20','CORS','Reinicialização\x20iniciada:\x20','existsSync','generate','silent','):\x20Conversas\x20encontradas:','optionName','processing_id','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','toggleEphemeral','createWebhook','pollCreationMessageV2','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','url','createConversationforStartFlow','Contacts\x20not\x20found','editflowcondition','birthtime','):\x20Going\x20to\x20','createJid','mediatype','fetchProfile','Schema','verify','getTime','image','uazapiSendMedia','updateProfileName','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','USER','message','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','Valor\x20de\x20find\x20ou\x20replace\x20ausente','1cuTVpF','groupGetInviteInfo','stopWhenYouSendMsg','getProfileName','):\x20Deletando\x20conversa...','\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a','class-validator','segundos','TEXT','archive','success','customFields','#9ba6ff','ContactsAndGroups','http://ipecho.net/plain','waInstances','dbClient','phoneNumber','updateReplyOption','findById','desativadoFluxoAte','SSL_CONF_PRIVKEY','):\x20Erro\x20durante\x20a\x20atualização:\x20','updateStopChat','configService','empty','Fetching\x20business\x20profile','updateMediaMessage','notify','qrcode','restrict','getClient','newStoppedUntil','hSet','):\x20updateResult:','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','end','@newsletter','lastmsg','pollMessage','utf-8','lastBlockId','console','):\x20Deletando\x20mensagem','exists','markMessageAsRead','addBlock','processPollUpdateMessage','wuid','Erro\x20ao\x20importar\x20chats:','\x20->\x20CONFIRMADO.','getContentType','videoMessage','instanceCount','limit','nextBlock:','audioMessage','reviver','):\x20Enviando\x20enquete','):\x20Error\x20processing\x20conditions:\x20','Erro\x20do\x20Certbot:\x20','_p_','.txt','<subdomain>','onWhatsApp','connectionClosed','authModel','DELIVERY_ACK','):\x20Conversa\x20inserida\x20com\x20sucesso.','BufferJSON','\x20}\x0a','GROUPS_UPSERT','labelId','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','editflowvaredit','newValue','storePath','sticker','COLOR','):\x20Mensagem\x20já\x20enviada\x20para\x20','VERBOSE','#000000','All_Instances_Config','):\x20Erro\x20ao\x20buscar\x20conversas\x20','):\x20Campos\x20a\x20serem\x20atualizados:','https://ipinfo.io/json','conversationTimestamp','):\x20Enviando\x20áudio','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','SSL_CONF','\x1b[40m','updateMessage','):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','Conversa\x20deletada\x20com\x20sucesso.','insertCount','connectionState','DB_PREFIX_NAME','value','uazapiSendMenu','Error\x20in\x20scheduleNextCheck:\x20','AUTHENTICATION_JWT_EXPIRIN_IN','Types','Fluxos\x20não\x20estão\x20ativados','preview','lean','jid','\x20não\x20encontrado\x20para\x20cópia','E-mail:\x20','):\x20alterando\x20this.AutomateSystem','groups.update','):\x20isVote:\x20','):\x20Enviando\x20texto','bateu\x20events','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','matchRegex','Sistema\x20atualizado\x20com\x20sucesso!','set','10Kaapkw','sectionsToString','sort','audio/mpeg','):\x20Entrou\x20na\x20função\x20goToFlow','hbs','pairingCode','padEnd','apply','boolean','send','restartInstance','admin','):\x20Buscando\x20todos\x20os\x20fluxos...','organization','fromMe','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','CHATS_DELETE','findByIdAndUpdate',',\x20valor\x20a\x20encontrar:\x20\x22','buttonMessage','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','buttons','ENABLED','when','saveCreds','onTime','LEVEL','processvaredits','website','DD/MM\x20HH:mm:ss','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','processConditions','Operador:\x20\x22','Hash\x20to\x20image\x20name:\x20','):\x20Flow\x20desativado','creation','email','Falha\x20após\x20várias\x20tentativas.','messageType','URI','processConditionsTest','/config','detail','getContactModelForOwner','createGroup','variablesNotFound','sendCommand','prefixCommand','Mensagem\x20não\x20suportada','):\x20Error\x20processing\x20the\x20block:\x20','uuid','joinApprovalMode','node-cache','jsonwebtoken','deleteInstance','badSession','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','../env.yml','Instance\x20Key\x20from\x20DB:','):\x20Conversa\x20está\x20expirada','qrCode','hex','):\x20expirationTime:\x20','src','admin_add','notEmpty','getDevice','Fluxo\x20não\x20encontrado','DATABASE','):\x20Criou\x20conversa\x20no\x20startFlow:','request\x20received\x20in\x20createFlow','URL:','contactHandle','replaceOne','closed','request\x20received\x20in\x20getFlow','#01d0e2','replaceVariables','createRegularFlow','buffer','createInstance','PREFIX_KEY','Image\x20created','\x20removido\x20do\x20chat\x20','code','The\x20\x22','Bloco\x20com\x20ID\x20','InstancesAsDisconnectedX','Not\x20is\x20business\x20profile','getVariablesChat','updateBlock','content-type','locationMessage','connectToWhatsappController','#fed428','match_last_seen','timeout','getUpdate','context','etiquetas','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','send.message','generateHash','color','updatePresence','convertaudio','viewOnceMessageV2','groupRequestParticipantsList','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20',',\x20fará\x20nova\x20verificação\x20em\x20','messageContextInfo','available','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','created','qrcode-terminal','creds.json','mentions','mongoose','):\x20Limpando\x20delayMessage','initAuthCreds','copyBlock','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','caption','fromObject','text','):\x20Procurando\x20mensagens\x20para\x20envio','sha256','getDelay','flush','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','refused','Falta\x20informação\x20para\x20a\x20chamada\x20API','utf8','request\x20received\x20in\x20editFlow','updateAgent','Rótulo\x20inválido\x20ou\x20sem\x20ID.','no-cache','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','--agree-tos','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','poll','deleteChat','push','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','findManyByIds','demote','):\x20Entrou\x20na\x20função\x20stop','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','Deleted\x20','includes','Connection','Certbot\x20executado\x20com\x20sucesso.','addresss','evaluateConditionTest','7767040xDVlVZ','REDIS_ENABLED','CHATS_UPSERT','expression','Unauthorized','ListType','owner','copy','@s.whatsapp.net','latitude','.doc','prepareMediaMessage','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','label_jid','):\x20Edit\x20schedule\x20message...','ini','importChatsBatch','editChat','Label\x20','/wa-contacts','insertMany','exec','/instance/fetchInstances','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','loadproxy','groupMetadata','\x22\x20not\x20found','OrAnd','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','test','reorderBlocks','\x20quoted:\x20','Connection\x20closed\x20for\x20instance:\x20','HttpsProxyAgent','ReplyOptions\x20finais\x20após\x20reordenação:','request\x20received\x20in\x20updateAgent','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','exports','checkAndUpdateChatStatus','deleteFlow','uazapi','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','DATABASE_CONNECTION_USER','webhookMap','AUTHENTICATION_API_KEY','log','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','loggedOut','EMAIL','pollUpdateMessage','convert','KEY','metadata','sendMedia','map','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','updateProfileStatus','entries','.X-ABLabel:Celular\x0a','uazapiDeleteMessage','readMessage','inviteCode','/wa-message','labels.edit','from','fetchChats','createAndSave','profilePictureUrl','Output\x20path:\x20','repeat','MessageModel','axios','certonly','stopMinutes','interval\x20não\x20é\x20um\x20número','):\x20nextBlock.uazapi.name','memberAddMode','match','sendText',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','cachedContact','ERROR:\x20','pop','RemoveChatLabel','http://ip-api.com/json','logout','imagechat','isBusiness','trim','):\x20Usando\x20extensão\x20padrão:\x20','ReplyOption\x20com\x20ID\x20','inner','removeOlderDisconnectedInstances','waUploadToServer','setHeader','vcard','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','getOwnPropertyDescriptor','TYPE','reconnectTimestamps','updateOne','folder','delaySecMax','output','replyOptions','profilePicture','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','):\x20Query\x20params:\x20','_error','\x20instance\x20does\x20not\x20exist',':\x20IP\x20configurado:\x20','call','):\x20Iniciando\x20bot...','remoteJid','updateMissingShareOwners','_FlowHistorico','groupMemberAddMode','sendButtons',':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...','longitude','arrayUnique','updateMissingEtiquetas','participants','group','post','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','replaceVariablesChat','reaction','label','flowname:\x20','realVariables','SERVER_ACK','enabled','sendContact','stoppedUntil','contactsArrayMessage','\x20-\x20retornado:\x20',',\x20Expiration\x20Time:\x20','contact_blacklist','PASSWORD','4064830oLXvCD','/wa-message-update','errorLog','\x1b[33m','editScheduleMessage','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','updateGParticipant','Error\x20updating\x20privacy\x20settings','moreLogs','deleteReplyOption','formatStatusMessage','height','authorization','updateOnlinePrivacy','updateProfilePicturePrivacy','host','order','Audio\x20processed','ON\x20-\x20dbName:\x20','API\x20Key\x20inválida.','dbServer','expiration','flowConfig','removeInstance','Erro\x20ao\x20editar\x20a\x20conversa:\x20','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','selectableCount','upperCase','waitingForReplyMenu','sendPoll','noConnection','participant','remote\x20\x22origin\x22','The\x20instance\x20needs\x20to\x20be\x20disconnected','Font\x20is\x20required','envProcess','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','_Messages','cleanStore','updateAll','isRunning','AUTHENTICATION_JWT_SECRET','gifPlayback','pt-BR','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','jsonschema','importChatsAntigo','replaceVariablesInObject','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','://','Erro\x20ao\x20deletar\x20chat:','mimetype','.pdf','exit','archived','flowStopMinutes','originalUrl','):\x20Comando\x20desconhecido:\x20','getMIMEType','group-participants.update','audio/ogg','lastCondition','groupadd','8805807XFhfZI','notContains','split','Instance\x20\x22','insert','connect','Sending\x20audio\x20whatsapp','updateMissingLabels','chats.set','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message',',\x20valor\x20passado:\x20\x22','updatePrivacySettings','Error\x20change\x20group\x20description','authentication','saveConversationToDatabase','endSession','_id','getFlowModelForOwner','.ogv','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','\x1b[30m','stopConversation','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','importChats','enviado\x20para','toLowerCase','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','CHATS_SET','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','):\x20Current\x20Time:\x20','collections','\x20contacts','https://','throwAndLogError','request\x20received\x20in\x20deleteFlow','^\x5cd+','Erro\x20inesperado\x20em\x20processvaredits:\x20','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','):\x20Enviando\x20contato','.jpg','remove','request\x20received\x20in\x20fetchConversation','audio/mp4','ultimaTentativaRemoteJid','parseInt','CHATS_UPDATE','spawn','Error\x20fetching\x20and\x20updating\x20profile:\x20','https','ScheduleMessage','CONNECTION_UPDATE','stateConnection','parse','$dbName','connectedClient','sendWhatsAppAudio','deleteAll','oldValue','findAndReplace','toLocaleString','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','maxActives','Error\x20removing\x20profile\x20picture','Database\x20connection\x20closed.','status@broadcast','\x1b[31m%s\x1b[0m','variable','ex:\x20\x22groupJid=120362@g.us\x22','presence','\x20inseridas\x20no\x20banco\x20de\x20dados...','readFile','proto','auth','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','):\x20[messages.update]\x20group\x20ignored','SERVER_OFFLINE','Cannot\x20','Erro\x20ao\x20buscar\x20conversa:\x20','removed','title','CONECTADO\x20À\x20UAZAPI','oldToken','No\x20join\x20group\x20invite\x20code\x20or\x20url','SSL_CONF_FULLCHAIN','release','\x1b[33m\x1b[1m','Tentando\x20reconectar...','stopIfLastReturnedError','request\x20received\x20in\x20deleteConversation','unhandledRejection','contentText','.xlsx','):\x20Alterando\x20fluxo...','\x20horas\x20e\x20','data','now','.pptx','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','greater','cacheContact','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','unreadCount','updateGroupPicture','fetchContacts','ORG:','viewOnceMessage','updateConversation','online','convertedOptions','instance','Converting\x20image\x20to\x20WebP\x20to\x20sticker','leadInfo.etiquetas','sendMenu','stickerMessage','http://icanhazip.com/','profile','WA\x20MODULE','-whatsapp-api','connectionStatus','CORS_METHODS','lastInteraction','automateSystem','setWebhook','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','Erro\x20ao\x20aplicar\x20varedit:\x20','groupDesc','verbose','editConversation','saveVariable','msgRetryCounterCache','promote','*Pergunta*:\x20\x0a','http','JWT','audioWhatsapp','connecting','request\x20received\x20in\x20editFlowvariable','REDIS','StartBot','Read\x20messages','add','option','findChats','findGroups','waMonitor','):\x20Query\x20params:','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','DEBUG','firstValue','protocol','editflowreply','SECRET','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','sendMessageWithTyping','encoding',',\x20pairCode:\x20','createConversationforgoToFlow','#fe9dfe','desc','\x20do\x20chat\x20','Error\x20change\x20group\x20setting','subjectTime','varedit','-instances','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','\x1b[0m','WARN','./.git/config','revokeInviteCode','notas','#9568cf','defineProperty','count','Last\x20message\x20not\x20found\x20for\x20number:','.webp','ChatModel','findAndReplaceRegex','digest','local_map','writeFileSync','request\x20received\x20in\x20updateCustomFields','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','subject','logger','certbot','blockLogs','Primeiro\x20Valor:\x20','HOST','messages.update','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','lastSendMessage','isListOfNumbers','base64','findFlow','DisconnectReason','statusMessage','chats','webp','fetchProfilePicture','):\x20Flow\x20não\x20encontrado','findIndex','\x1b[42m','groupUpdateDescription','}}\x20->\x20valor\x20não\x20encontrado','atendimentoAberto','dayjs','startFlow','Image\x20is\x20base64','pushName','\x20minutos','licenca','stdout','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','lastUpdate','action','has','editFlowBlock','groupJid','store','scheduled','request\x20body:\x20','dbSettings','sendReaction','/events/:instance','\x5cd+','):\x20newFirstValue\x20após\x20replaceVariables:','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','STORE','toDataURL','mongodb://','application/octet-stream','deleteBlock','documentWithCaptionMessage','eventemitter2','put','mkdirSync','beforeExit','info','isURL','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','Chrome','\x20is\x20already\x20in\x20use.','SINGLE_SELECT','replacer','messages.set','addChatLabel','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','request\x20received\x20in\x20editFlowcondition','LICENSE_INVALID','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','buttonId','chatId','deleteMessageForEveryone','done','Erro\x20ao\x20copiar\x20dados:','body','getScheduleMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','lastReceivedMessage','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','contact','pollCreationMessage','NextBlock','sendSticker','MAX_RECONNECT_ATTEMPTS','some','applyvaredit','getFlow','random','\x5c$&','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','PORT','contains','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','\x0a*Você\x20respondeu*:\x0a','key','\x1b[36m','Error\x20updating\x20profile\x20name','variables','http://myexternalip.com/raw','all','This\x20name\x20','isInteger','authState','Image\x20is\x20url','\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.','/message','groupCreate','STATUS_INSTANCE','connectToWhatsapp','setContext','eventEmitter','Error\x20updating\x20cache\x20contact:','@ffmpeg-installer/ffmpeg','flowConversation','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','static','Instance\x20logged\x20out','currency','connectionUpdate','fetchConversation','/instance','listResponseMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','\x0a{\x20instance:\x20','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','numbers','scheduleSendText','groups.upsert','fetchPrivacySettings','createNewConversation','app','deleteMany','https://jsonip.com','lastDisconnect','\x20minutos\x20verificará\x20novas\x20mensagens','filter','urlOrBase64','groupHandler','forEach','addReplyOption','Failed\x20to\x20find\x20chat\x20','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20',',\x20Segundo\x20Valor:\x20','chatLog','status','editflowblock','formatBRNumber','remoteJids','):\x20','readMessageBot','chats.update','documentMessage','createServer','fileUrl','get','getConversation','GUARD','#9ab6c1','Router','listMessage','createConnection','remoteJidsRemaining','scheduleMessage','joinGroupValidate','waitingMenu_text','cors','sendDataWebhook','delaySecMin','env','sharePass','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','Error\x20creating\x20group','namespace','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','compression','envYaml','notMatchRegex','CORS_CREDENTIALS','secondValue','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','updateParticipant','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','ContactModel','findParticipants','leaveGroup','startsWith','NO_IP','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','localWebhook','\x1b[36m%s\x1b[0m','):\x20Falha\x20ao\x20deletar\x20mensagem.','unreadcount','stderr','Erro\x20ao\x20remover\x20instâncias\x20antigas:','creds','eventHandler','agents','deleteOne','READ','reactionMessage','vote','groupParticipantsUpdate','length','chatModify','listType','Processing\x20audio','reference','hGet','varedits','https://uazapi-plugin.bubbleapps.io/?url=','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','isCommunity','createSectionsFromValues','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-f\x20ipod\x20','isJidGroup','ignoreGroups','):\x20Buscando\x20conversas...','flowName','sign','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','groupBetterSetting','Erro\x20ao\x20remover\x20label\x20','Instância\x20não\x20encontrada.','format','finish','Deletion\x20failed','_Chats','instancias:\x20','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','integer','shift','.png','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','#ff9484','prototype','):\x20Erro\x20ao\x20processar\x20o\x20grupo\x20',',\x20resultado:\x20','AutomateSystem','synchronizeFlows','CONTACTS_SET','FlowController','pollCreationMessageV3','request\x20received\x20in\x20allFlows','contacts','child_process','ms\x20(Attempt\x20','):\x20Deletando\x20fluxo...','use','leadInfo','):\x20Criando\x20fluxo\x20regular...','contacts.update','fone','true','equal','):\x20Bloco\x20com\x20ID\x20','DATABASE_CONNECTION_PASSWORD','Group\x20not\x20found','Erro\x20ao\x20editar\x20o\x20chat:\x20','allflows','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','/instance/delete','#00a1f2','418885dILjbZ','quoted','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','optionDescription','GROUP_PARTICIPANTS_UPDATE','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','deleteDoneMessages','\x20->\x20NÃO\x20CORRESPONDE.','instanceName\x20not\x20provided.','redirect','inviteCodeDetails','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','toArray','delayChatLabel','\x1b[44m','):\x20transformedCustomFieldVariables','editOperator','collection','presenceSubscribe','valid','The\x20property\x20cannot\x20be\x20empty','router','loadInstance','dataValidate','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','):\x20enviado\x20para\x20[','stanzaId','config','^\x5cd+([-]\x5cd+)*@g.us$','LOG_COLOR','#ffffff','media','changeVariables','AddChatLabel','webhookModel','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','\x1b[32m','formatVCard','blocks','setRestartTimeout','REDIS_PREFIX_KEY','Erro\x20ao\x20deletar\x20mensagens:','updateMissingCustomFields','Not\x20allowed\x20by\x20CORS','https-proxy-agent',':\x20Erro\x20durante\x20loadproxy\x20-\x20','):\x20Buscando\x20flow...','STORE_CLEANING_TERMINAL','ip:\x20','MESSAGES_UPSERT','Error\x20in\x20converting\x20audio','uazapiSendContact','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','text/event-stream','Button\x20texts\x20cannot\x20be\x20repeated','PLAYED','\x1b[41m','\x1b[1m','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','scheduleSendAudio','.mp3','.uazapi.dev','REDIS_URI','waitingMenu_replyOptions','password','reject','updateReadReceiptsPrivacy','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','extractRegex','readMessages','redis://127.0.0.1:6379','mentioned','The\x20global\x20api\x20key\x20must\x20be\x20set','close','flowPrefixCommand','\x20\x1b[0m','AUTHENTICATION_TYPE','messages','\x1b[30m%s\x1b[0m','AppStateSyncKeyData','MESSAGES_SET','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','/wa-qrcode','):\x20debug\x20alterando\x20this.AutomateSystem','groupValidate','array',',\x20saindo.','minutesToClose','webhook','leadInfo.customFields','):\x20Visualizando\x20AutomateSystem','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','command','):\x20conversation.waitingMenu_name','END:VCARD','update','toString','.\x20Aguardando\x20antes\x20de\x20reconectar...','Converted\x20image\x20deleted','Resultado\x20da\x20atualização:','):\x20teve\x20mudanças\x20chat.displayName:\x20','Parando\x20aplicação...','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','SEND_MESSAGE','editflowvariable','leadInfo.','Authentication\x20error','Erro\x20ao\x20editar\x20agentes:\x20','function','):\x20[messages.upsert]\x20group\x20ignored','string','unlinkSync','delayChatLabel_RETRY_DELAY_MS','Close\x20connection','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','.xls','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','max','48IquUPv','Trying\x20to\x20get\x20business\x20profile','mongodb','):\x20Enviando\x20localização','apirequest','getAllData','warn','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','authService','CONFIGURAÇÃO\x20GERAL:','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','checkAndRestartProcess','audio','privacySettings',',\x20lastCondition:\x20','Error\x20updating\x20profile\x20status','STORE_CHATS','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','blockId','DARK','editFlowCondition','ids','findAll','updateGroupsAddPrivacy','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','request\x20received\x20in\x20editConversation','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','https://uazapi-plugin.bubbleapps.io/','/create','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','):\x20Editando\x20edição\x20do\x20fluxo...','sleep','/events','getMessage','unlocked','last','copyDataToNewModel','groupRevokeInvite','lastMessage','AutomateFunctions','/wa-connection-update','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','\x20com\x20sucesso.','URL','not\x20loaded','\x20não\x20encontrado','listen','floor','\x20adicionado\x20ao\x20chat\x20','dropCollection','_activatedCount','Forbidden','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','@broadcast','header','PRESENCE_UPDATE','drop','1024107GzlluR','):\x20Bloco\x20original\x20para\x20cópia:\x20','scheduleNextCheck','less','getTicketSystem','cachedData-whatsapp','username','groupToggleEphemeral','rows','uazapiSendAudio','getMinutes','conversation','editFlowVaredit','userDevicesCache','nome','Conexão\x20estabelecida','responsavelid','create','linkPreview','apikey','deleteMessage','groups_ignore','query','write','):\x20Editando\x20replyOption...','ERROR','FULLCHAIN','\x1b[43m','uncaughtException','cache','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','Erro\x20ao\x20sincronizar\x20fluxos:\x20','):\x20Bloco\x20copiado:\x20','findOrCreate','Bad\x20Request','getBase64FromMediaMessage','Error\x20getting\x20invite\x20code\x20info','\x20-\x20ON:\x20','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','updateChatWithMessage','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','\x22\x20cannot\x20be\x20empty','round','messageTimestamp','Error\x20update\x20group\x20picture','scheduleMessages','charAt','!stop','Error\x20updating\x20message\x20status:','leadInfo.desativadoFluxoAte','condition','views','response','50mb','):\x20Fluxos\x20não\x20estão\x20ativados','groupSetting','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','processgoToFlow','buttonText','PENDING','):\x20Conversa\x20atualizada\x20em\x20memória','Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome','pollOnReplyDelete','sendAudio','fileLength','\x20Tentativa\x20de\x20reconexão\x20','.jwt','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','pino','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','toUpperCase','Instância:\x20','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','apiName','lastSend','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','headers','load','findLabels','#d8e651','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','updateCustomFields','hasOwnProperty','defineAuthState','):\x20Criando\x20nova\x20conversa[createNewConversation]','206852bdYFop','conditions','routerPath','updateMany','\x20e\x20ID=','findGroup','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','Internal\x20Server\x20Error','truncatedtoEnd','DaysToDelete','cwd','Log\x20out\x20instance:\x20','instanceKeys','editflowgroup','chat','):\x20tem\x20blocks','shutdown\x20-r\x20now','getRandomText','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','redis','cleaningUp','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','paused','request_method','downloads','uazapiSendLocation','RECONNECT_TIME_FRAME','\x0aFN:','Não\x20respondeu\x20com\x20a\x20enquete.','editedMessage','\x20not\x20found,\x20retrying\x20in\x20','and'];a0_0x4a8a=function(){return _0x12db54;};return a0_0x4a8a();}