const a0_0x53f180=a0_0x150f;(function(_0x2b106e,_0x5eafad){const _0x47770f=a0_0x150f,_0x43bf5b=_0x2b106e();while(!![]){try{const _0x56a205=parseInt(_0x47770f(0x51c))/0x1+-parseInt(_0x47770f(0x773))/0x2*(-parseInt(_0x47770f(0x56c))/0x3)+parseInt(_0x47770f(0x57e))/0x4*(parseInt(_0x47770f(0x867))/0x5)+parseInt(_0x47770f(0x2c5))/0x6*(-parseInt(_0x47770f(0x750))/0x7)+-parseInt(_0x47770f(0x288))/0x8*(-parseInt(_0x47770f(0x4bb))/0x9)+-parseInt(_0x47770f(0x5aa))/0xa*(parseInt(_0x47770f(0x655))/0xb)+-parseInt(_0x47770f(0x846))/0xc*(parseInt(_0x47770f(0x2b3))/0xd);if(_0x56a205===_0x5eafad)break;else _0x43bf5b['push'](_0x43bf5b['shift']());}catch(_0xf34f62){_0x43bf5b['push'](_0x43bf5b['shift']());}}}(a0_0x16d1,0x4ce9c));var Hi=Object['create'],We=Object[a0_0x53f180(0x27f)],Ki=Object['getOwnPropertyDescriptor'],Qi=Object['getOwnPropertyNames'],Yi=Object[a0_0x53f180(0x7f7)],Xi=Object['prototype'][a0_0x53f180(0x4cd)],Zi=(_0x5a0e46,_0x5555d7)=>{for(var _0x178a60 in _0x5555d7)We(_0x5a0e46,_0x178a60,{'get':_0x5555d7[_0x178a60],'enumerable':!0x0});},zs=(_0x2383d9,_0x17fc46,_0x9ee2ad,_0x157325)=>{const _0x1ac7fd=a0_0x53f180;if(_0x17fc46&&typeof _0x17fc46==_0x1ac7fd(0x204)||typeof _0x17fc46=='function'){for(let _0x3913f5 of Qi(_0x17fc46))!Xi[_0x1ac7fd(0x435)](_0x2383d9,_0x3913f5)&&_0x3913f5!==_0x9ee2ad&&We(_0x2383d9,_0x3913f5,{'get':()=>_0x17fc46[_0x3913f5],'enumerable':!(_0x157325=Ki(_0x17fc46,_0x3913f5))||_0x157325[_0x1ac7fd(0x7a2)]});}return _0x2383d9;},A=(_0x47491d,_0x5e3266,_0x5dcf12)=>(_0x5dcf12=_0x47491d!=null?Hi(Yi(_0x47491d)):{},zs(_0x5e3266||!_0x47491d||!_0x47491d[a0_0x53f180(0x1cc)]?We(_0x5dcf12,'default',{'value':_0x47491d,'enumerable':!0x0}):_0x5dcf12,_0x47491d)),eo=_0xe2b642=>zs(We({},a0_0x53f180(0x1cc),{'value':!0x0}),_0xe2b642),gr={};Zi(gr,{'fullURL':()=>Bs,'subdomain':()=>K}),module[a0_0x53f180(0x283)]=eo(gr);var qi=A(require(a0_0x53f180(0x1ad))),Ks=require('fs'),Qs=require(a0_0x53f180(0x717)),Ys=require(a0_0x53f180(0x876)),ze=require('path'),ue=process['cwd'](),Me=(0x0,ze[a0_0x53f180(0x260)])(ue,a0_0x53f180(0x47d)),Hs=(0x0,ze[a0_0x53f180(0x260)])(ue,a0_0x53f180(0x1a3)),sn=(0x0,ze[a0_0x53f180(0x260)])(ue,a0_0x53f180(0x5a8),a0_0x53f180(0x3f2)),hs=class{constructor(){const _0x510c3f=a0_0x53f180;this[_0x510c3f(0x7ef)]();}[a0_0x53f180(0x6c4)](_0x1d7763){const _0x2979e4=a0_0x53f180;return this[_0x2979e4(0x578)][_0x1d7763];}['loadEnv'](){const _0x3b62c5=a0_0x53f180;this[_0x3b62c5(0x578)]=process[_0x3b62c5(0x578)]?.[_0x3b62c5(0x320)]!==_0x3b62c5(0x7b6)?this[_0x3b62c5(0x5ba)]():this[_0x3b62c5(0x799)](),process[_0x3b62c5(0x578)]?.[_0x3b62c5(0x320)]===_0x3b62c5(0x7b6)&&(this[_0x3b62c5(0x578)][_0x3b62c5(0x568)][_0x3b62c5(0x8ba)]=_0x3b62c5(0x82b),this[_0x3b62c5(0x578)]['SERVER']['PORT']=Number[_0x3b62c5(0x774)](process[_0x3b62c5(0x578)]?.[_0x3b62c5(0x663)]??_0x3b62c5(0x34e)));}[a0_0x53f180(0x5ba)](){const _0x1c0788=a0_0x53f180;return(0x0,Qs[_0x1c0788(0x34a)])((0x0,Ks[_0x1c0788(0x4ae)])((0x0,Ys[_0x1c0788(0x260)])(Hs,_0x1c0788(0x384)),{'encoding':_0x1c0788(0x667)}));}[a0_0x53f180(0x799)](){const _0x203e08=a0_0x53f180;return{'SERVER':{'TYPE':process[_0x203e08(0x578)][_0x203e08(0x8a7)],'PORT':Number[_0x203e08(0x774)](process['env'][_0x203e08(0x663)]),'URL':process[_0x203e08(0x578)][_0x203e08(0x61d)]},'CORS':{'ORIGIN':process[_0x203e08(0x578)]['CORS_ORIGIN'][_0x203e08(0x6ca)](','),'METHODS':process['env'][_0x203e08(0x275)][_0x203e08(0x6ca)](','),'CREDENTIALS':process['env']?.[_0x203e08(0x8a9)]===_0x203e08(0x7b6)},'SSL_CONF':{'PRIVKEY':process[_0x203e08(0x578)]?.[_0x203e08(0x6f0)],'FULLCHAIN':process['env']?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number[_0x203e08(0x7d8)](process['env']?.[_0x203e08(0x67b)])?Number[_0x203e08(0x774)](process[_0x203e08(0x578)][_0x203e08(0x67b)]):void 0x0,'MESSAGES':process[_0x203e08(0x578)]?.[_0x203e08(0x4a5)]==='true','CONTACTS':process['env']?.[_0x203e08(0x540)]==='true','CHATS':process[_0x203e08(0x578)]?.[_0x203e08(0x784)]===_0x203e08(0x7b6)},'DATABASE':{'CONNECTION':{'HOST':process[_0x203e08(0x578)]?.[_0x203e08(0x70d)],'PORT':Number[_0x203e08(0x774)](process[_0x203e08(0x578)]?.[_0x203e08(0x70d)]),'USER':process[_0x203e08(0x578)][_0x203e08(0x68a)],'PASSWORD':process[_0x203e08(0x578)][_0x203e08(0x481)],'URI':process[_0x203e08(0x578)][_0x203e08(0x307)],'DB_PREFIX_NAME':process[_0x203e08(0x578)][_0x203e08(0x5ef)]},'ENABLED':process[_0x203e08(0x578)]?.['DATABASE_ENABLED']===_0x203e08(0x7b6)},'REDIS':{'ENABLED':process[_0x203e08(0x578)]?.['REDIS_ENABLED']===_0x203e08(0x7b6),'URI':process[_0x203e08(0x578)][_0x203e08(0x788)]||'redis://127.0.0.1:6379','PREFIX_KEY':process['env'][_0x203e08(0x80f)]||'uazapi'},'LOG':{'LEVEL':process['env']?.[_0x203e08(0x25b)][_0x203e08(0x6ca)](','),'COLOR':process[_0x203e08(0x578)]?.['LOG_COLOR']==='true'},'PROXY':process[_0x203e08(0x578)]?.[_0x203e08(0x460)]===_0x203e08(0x7b6),'AUTHENTICATION':{'TYPE':process[_0x203e08(0x578)]['AUTHENTICATION_TYPE'],'API_KEY':{'KEY':process[_0x203e08(0x578)][_0x203e08(0x82e)]},'JWT':{'EXPIRIN_IN':Number[_0x203e08(0x7d8)](process[_0x203e08(0x578)]?.[_0x203e08(0x1ab)])?Number[_0x203e08(0x774)](process[_0x203e08(0x578)][_0x203e08(0x1ab)]):0xe10,'SECRET':process[_0x203e08(0x578)]['AUTHENTICATION_JWT_SECRET']}}};}},b=new hs(),Vi=A(require(a0_0x53f180(0x8dc))),be=A(require(a0_0x53f180(0x41c))),Vs=require(a0_0x53f180(0x876)),gs=A(require(a0_0x53f180(0x7a6))),ms=(_0x4455d7=>(_0x4455d7[a0_0x53f180(0x3f5)]=a0_0x53f180(0x360),_0x4455d7[a0_0x53f180(0x65d)]='\x1b[34m',_0x4455d7[a0_0x53f180(0x496)]=a0_0x53f180(0x60c),_0x4455d7[a0_0x53f180(0x5cf)]=a0_0x53f180(0x4fb),_0x4455d7[a0_0x53f180(0x3a7)]='\x1b[36m',_0x4455d7[a0_0x53f180(0x8c7)]='\x1b[37m',_0x4455d7[a0_0x53f180(0x6a8)]=a0_0x53f180(0x423),_0x4455d7))(ms||{}),Xs=(_0x37bfc0=>(_0x37bfc0[a0_0x53f180(0x3f5)]=a0_0x53f180(0x342),_0x37bfc0[a0_0x53f180(0x6a8)]=a0_0x53f180(0x73d),_0x37bfc0[a0_0x53f180(0x65d)]='\x1b[34m%s\x1b[0m',_0x37bfc0[a0_0x53f180(0x496)]=a0_0x53f180(0x8f8),_0x37bfc0[a0_0x53f180(0x5cf)]='\x1b[31m%s\x1b[0m',_0x37bfc0[a0_0x53f180(0x3a7)]=a0_0x53f180(0x1f3),_0x37bfc0[a0_0x53f180(0x8c7)]=a0_0x53f180(0x2c7),_0x37bfc0))(Xs||{}),Zs=(_0x167b6a=>(_0x167b6a['LOG']='LOG',_0x167b6a[a0_0x53f180(0x496)]=a0_0x53f180(0x496),_0x167b6a['INFO']=a0_0x53f180(0x65d),_0x167b6a[a0_0x53f180(0x6a8)]='DARK',_0x167b6a[a0_0x53f180(0x5cf)]=a0_0x53f180(0x5cf),_0x167b6a[a0_0x53f180(0x3a7)]=a0_0x53f180(0x3a7),_0x167b6a[a0_0x53f180(0x8c7)]=a0_0x53f180(0x8c7),_0x167b6a))(Zs||{}),ea=(_0x1ee572=>(_0x1ee572['LOG']='\x1b[42m',_0x1ee572[a0_0x53f180(0x65d)]=a0_0x53f180(0x279),_0x1ee572[a0_0x53f180(0x496)]=a0_0x53f180(0x207),_0x1ee572[a0_0x53f180(0x6a8)]='\x1b[40m',_0x1ee572[a0_0x53f180(0x5cf)]=a0_0x53f180(0x443),_0x1ee572['DEBUG']='\x1b[46m',_0x1ee572[a0_0x53f180(0x8c7)]=a0_0x53f180(0x583),_0x1ee572))(ea||{}),$=class{constructor(_0x197fd3=a0_0x53f180(0x60b)){const _0x172ed2=a0_0x53f180;this['context']=_0x197fd3,this[_0x172ed2(0x6f4)]=b;}[a0_0x53f180(0x7dd)](_0x507967){const _0x14fd8f=a0_0x53f180;this[_0x14fd8f(0x6dd)]=_0x507967;}['console'](_0xe4771e,_0x21961b){const _0x54cc28=a0_0x53f180;let _0x33a905=[];this[_0x54cc28(0x6f4)][_0x54cc28(0x6c4)]('LOG')[_0x54cc28(0x3cc)][_0x54cc28(0x313)](_0x520de5=>_0x33a905[_0x54cc28(0x635)](Zs[_0x520de5]));let _0x537a69=typeof _0xe4771e;_0x33a905['includes'](_0x21961b)&&(b[_0x54cc28(0x6c4)](_0x54cc28(0x3f5))['COLOR']?(console[_0x54cc28(0x4d9)](_0x54cc28(0x858)+Xs[_0x21961b],_0x54cc28(0x6b6),(0x0,gs['default'])()[_0x54cc28(0x266)](_0x54cc28(0x543)),'\x1b[0m',ms[_0x21961b]+ea[_0x21961b]+'\x1b[1m',_0x21961b+_0x54cc28(0x7f3),_0x54cc28(0x2b1),this[_0x54cc28(0x6dd)]+_0x54cc28(0x2a1),ms[_0x21961b],_0x537a69!==_0x54cc28(0x204)?_0xe4771e:'',_0x54cc28(0x2a1)),_0x537a69===_0x54cc28(0x204)&&console[_0x54cc28(0x4d9)](_0xe4771e,'\x0a')):console[_0x54cc28(0x4d9)]((0x0,gs[_0x54cc28(0x391)])()['format'](_0x54cc28(0x88a)),_0x21961b+'\x20',''+this[_0x54cc28(0x6dd)],_0xe4771e));}[a0_0x53f180(0x4d9)](_0xbb323b){this['console'](_0xbb323b,'LOG');}[a0_0x53f180(0x560)](_0x4d0b71){const _0x2be3c6=a0_0x53f180;this[_0x2be3c6(0x2c8)](_0x4d0b71,_0x2be3c6(0x65d));}[a0_0x53f180(0x848)](_0x2c8a20){const _0xfcb647=a0_0x53f180;this[_0xfcb647(0x2c8)](_0x2c8a20,_0xfcb647(0x496));}['error'](_0x4dde0b){const _0xb9f9d8=a0_0x53f180;this[_0xb9f9d8(0x2c8)](_0x4dde0b,_0xb9f9d8(0x5cf));}['verbose'](_0x393f34){const _0x1bf24d=a0_0x53f180;this[_0x1bf24d(0x2c8)](_0x393f34,_0x1bf24d(0x8c7));}[a0_0x53f180(0x597)](_0x1610e8){const _0x16b71c=a0_0x53f180;this[_0x16b71c(0x2c8)](_0x1610e8,_0x16b71c(0x3a7));}['dark'](_0x296376){const _0x50d0d2=a0_0x53f180;this[_0x50d0d2(0x2c8)](_0x296376,_0x50d0d2(0x6a8));}};function ta(){const _0x5122ca=a0_0x53f180;process['on'](_0x5122ca(0x21f),(_0x262537,_0x547886)=>{const _0xc4bd2c=_0x5122ca;new $('uncaughtException')[_0xc4bd2c(0x1f6)]({'origin':_0x547886,'stderr':process['stderr']['fd'],'error':_0x262537});}),process['on'](_0x5122ca(0x65f),(_0x203c27,_0x5f5592)=>{const _0x49debd=_0x5122ca;new $(_0x49debd(0x65f))['error']({'origin':_0x5f5592,'stderr':process['stderr']['fd'],'error':_0x203c27});});}var sa=A(require('eventemitter2')),fs=new sa[(a0_0x53f180(0x391))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Ce=require(a0_0x53f180(0x30f)),Te=A(require(a0_0x53f180(0x30f))),He=new $(a0_0x53f180(0x6fd)),U=b[a0_0x53f180(0x6c4)](a0_0x53f180(0x739)),R=U[a0_0x53f180(0x8a8)]?U[a0_0x53f180(0x1e6)]['URI']?Te[a0_0x53f180(0x391)][a0_0x53f180(0x5ed)](U[a0_0x53f180(0x1e6)]['URI'],{'dbName':U[a0_0x53f180(0x1e6)]['DB_PREFIX_NAME']+a0_0x53f180(0x309)}):Te[a0_0x53f180(0x391)][a0_0x53f180(0x5ed)]('mongodb://'+U[a0_0x53f180(0x1e6)][a0_0x53f180(0x816)]+':'+U[a0_0x53f180(0x1e6)][a0_0x53f180(0x2f3)]+a0_0x53f180(0x2a8),{'user':U[a0_0x53f180(0x1e6)][a0_0x53f180(0x3c4)],'pass':U['CONNECTION'][a0_0x53f180(0x555)],'dbName':U[a0_0x53f180(0x1e6)]['DB_PREFIX_NAME']+a0_0x53f180(0x309)}):null;U['ENABLED']&&He[a0_0x53f180(0x560)](a0_0x53f180(0x530)+R[a0_0x53f180(0x697)]);var de=U['ENABLED']?U[a0_0x53f180(0x1e6)][a0_0x53f180(0x1ee)]?Te['default'][a0_0x53f180(0x5ed)](U[a0_0x53f180(0x1e6)][a0_0x53f180(0x1ee)],{'dbName':a0_0x53f180(0x4a8)}):Te[a0_0x53f180(0x391)][a0_0x53f180(0x5ed)](a0_0x53f180(0x1bf)+U[a0_0x53f180(0x1e6)]['HOST']+':'+U[a0_0x53f180(0x1e6)][a0_0x53f180(0x2f3)]+a0_0x53f180(0x2a8),{'user':U[a0_0x53f180(0x1e6)][a0_0x53f180(0x3c4)],'pass':U['CONNECTION'][a0_0x53f180(0x555)],'dbName':a0_0x53f180(0x542)}):null;de&&He[a0_0x53f180(0x560)](a0_0x53f180(0x530)+de[a0_0x53f180(0x697)]),process['on']('beforeExit',()=>{const _0x41b5e4=a0_0x53f180;R&&R[_0x41b5e4(0x805)](()=>{He['info']('Database\x20connection\x20closed.');}),de&&de[_0x41b5e4(0x805)](()=>{const _0x564fd1=_0x41b5e4;He['info'](_0x564fd1(0x1fc));});});var to=new Ce['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),so=new Ce[(a0_0x53f180(0x3e5))]({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),ao=new Ce['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),io=new Ce[(a0_0x53f180(0x3e5))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[to],'default':[]}},{'_id':!0x1}),oo=new Ce[(a0_0x53f180(0x3e5))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':io,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':so},'groupdata':{'type':ao,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),aa=_0x47dd23=>{const _0x2a04e0=a0_0x53f180;let _0x401c5f='z_'+_0x47dd23+'_Chats';return R?.[_0x2a04e0(0x8c0)]('ChatModel',oo,_0x401c5f);},ia=require(a0_0x53f180(0x30f)),ro=new ia[(a0_0x53f180(0x3e5))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=_0x1336a2=>{const _0x470735=a0_0x53f180;let _0xa6c100='z_'+_0x1336a2+_0x470735(0x48b);return R?.['model'](_0x470735(0x465),ro,_0xa6c100);},ra=require(a0_0x53f180(0x30f)),ws=class{},no=new ra['Schema']({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),na=de?.[a0_0x53f180(0x8c0)](ws['name'],no,a0_0x53f180(0x5d5)),ca=require(a0_0x53f180(0x30f)),ys=class{},co=new ca[(a0_0x53f180(0x3e5))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Ke=de?.[a0_0x53f180(0x8c0)](ys[a0_0x53f180(0x7b2)],co,a0_0x53f180(0x47d)),la=require(a0_0x53f180(0x30f)),lo=new la[(a0_0x53f180(0x3e5))]({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),ua=_0x4e3317=>{const _0x39d47c=a0_0x53f180;let _0x56e77f='z_'+_0x4e3317+_0x39d47c(0x82f);return R?.[_0x39d47c(0x8c0)](_0x39d47c(0x671),lo,_0x56e77f);},da=require(a0_0x53f180(0x30f)),bs=class{},uo=new da[(a0_0x53f180(0x3e5))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),pa=R?.[a0_0x53f180(0x8c0)](bs[a0_0x53f180(0x7b2)],uo,a0_0x53f180(0x8cd)),ha=require(a0_0x53f180(0x30f)),Ss=class{},ga=new ha['Schema']({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});ga['pre'](a0_0x53f180(0x2fb),function(_0x39d538){const _0x1a47a7=a0_0x53f180;delete this[_0x1a47a7(0x2f9)],delete this[_0x1a47a7(0x5f1)],delete this['flowPrefixCommand'],delete this[_0x1a47a7(0x2ed)],delete this[_0x1a47a7(0x55d)],_0x39d538();});var ma=R?.['model'](Ss[a0_0x53f180(0x7b2)],ga,a0_0x53f180(0x765)),P=require(a0_0x53f180(0x30f)),Ms=require(a0_0x53f180(0x402)),Qe=class{},Cs=class{},wa=new P[(a0_0x53f180(0x3e5))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),Es=new P['Schema']({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),po=new P[(a0_0x53f180(0x3e5))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x53f180(0x5d9)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x53f180(0x7c7)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x53f180(0x8c9)},'pollErrorMessage':{'type':String,'default':a0_0x53f180(0x218)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ya=new P[(a0_0x53f180(0x3e5))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ho=new P[(a0_0x53f180(0x3e5))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),go=new P[(a0_0x53f180(0x3e5))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ns=new P[(a0_0x53f180(0x3e5))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),mo=new P[(a0_0x53f180(0x3e5))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ba=new P[(a0_0x53f180(0x3e5))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':po},'apirequest':ho,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':mo,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),Sa=new P[(a0_0x53f180(0x3e5))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),Ma=new P[(a0_0x53f180(0x3e5))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Ns],'blocks':[ba],'groups':[wa],'conditions':[ya],'varedits':[Sa],'replyOptions':{'type':[Es],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x52208e=a0_0x53f180;return _0x52208e(0x3f3)+Math[_0x52208e(0x874)]()[_0x52208e(0x76d)](0x24)[_0x52208e(0x412)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':'false'},'startID':{'type':String,'default':()=>(0x0,Ms['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,Ms['v4'])()},'shareOwners':{'type':[String],'default':[]}});Ma[a0_0x53f180(0x50a)]('findOneAndUpdate',function(_0x193b71){const _0x1d7653=a0_0x53f180;let _0x4ebbeb=this['getUpdate']();if(_0x4ebbeb&&typeof _0x4ebbeb=='object'&&_0x1d7653(0x79d)in _0x4ebbeb){let _0x378be5=_0x4ebbeb[_0x1d7653(0x79d)];if(_0x378be5){let _0x5cccc2=new Set(),_0x159a7e=new Set(_0x378be5[_0x1d7653(0x7e8)]?.[_0x1d7653(0x5bd)](_0x7fd90c=>_0x7fd90c[_0x1d7653(0x7b2)])),_0xd9114a=JSON[_0x1d7653(0x54f)](_0x378be5),_0x544586=/{{(?!_)([^}]*)}}/g,_0x3ddc48;for(;(_0x3ddc48=_0x544586[_0x1d7653(0x84b)](_0xd9114a))!==null;)_0x159a7e[_0x1d7653(0x898)](_0x3ddc48[0x1])||_0x5cccc2[_0x1d7653(0x1b9)](_0x3ddc48[0x1]);_0x5cccc2[_0x1d7653(0x5b0)]>0x0?(console[_0x1d7653(0x848)](_0x1d7653(0x6e7),Array[_0x1d7653(0x457)](_0x5cccc2)),_0x378be5['variablesNotFound']=Array['from'](_0x5cccc2)):_0x378be5['variablesNotFound']=[],this[_0x1d7653(0x59f)]({'$set':_0x378be5});}}_0x193b71();});var Ee=R?.[a0_0x53f180(0x8c0)](Cs[a0_0x53f180(0x7b2)],Ma,a0_0x53f180(0x3ac)),fo=new P[(a0_0x53f180(0x3e5))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Ns],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[go]},{'_id':!0x1}),wo=new P[(a0_0x53f180(0x3e5))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Ns],'blocks':[ba],'groups':[wa],'conditions':[ya],'varedits':[Sa],'replyOptions':{'type':[Es],'default':[]},'chatLog':fo,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x53f180(0x488)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x53f180(0x8c9)},'waitingMenu_replyOptions':{'type':[Es],'default':[]}}),Ca=_0x291571=>{const _0x44663d=a0_0x53f180;let _0x37c97d='z_'+_0x291571+_0x44663d(0x852);return R?.[_0x44663d(0x8c0)]('ConversationModel',wo,_0x37c97d);},yo=new P['Schema']({'idControl':{'type':String},'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),fa=new P['Schema']({'_id':{'type':String,'id':!0x0},'idSchedule':{'type':String},'remoteJid':{'type':String},'order':{'type':Number},'type':{'type':String},'flow':{'type':String},'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'fileName':{'type':String},'triedToSend':{'type':Boolean},'mediatype':{'type':String}}),bo=new P[(a0_0x53f180(0x3e5))]({'_id':{'type':String,'_id':!0x0},'messages':{'type':[fa],'default':[]},'info':{'type':String},'when':{'type':Number},'status':{'type':String,'default':a0_0x53f180(0x4d2)},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'owner':{'type':String},'messagesSend':{'type':[yo],'default':[]},'startSend':{'type':Number},'processUUID':{'type':String},'flowName':{'type':String},'remoteJidsRemaining':{'type':[String],'default':[]},'message':{'type':fa,'default':{}},'remoteJids':{'type':[String],'default':[]},'type':{'type':String}}),Ea=_0x5f3b70=>{const _0x23f4f3=a0_0x53f180;let _0x3f491a='z_'+_0x5f3b70+'_ScheduleMessages';return R?.['model'](_0x23f4f3(0x76a),bo,_0x3f491a);},vs=class{},So=new P[(a0_0x53f180(0x3e5))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),Mo=new P[(a0_0x53f180(0x3e5))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),Co=new P[(a0_0x53f180(0x3e5))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Eo=new P[(a0_0x53f180(0x3e5))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':a0_0x53f180(0x85a)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),vo=new P[(a0_0x53f180(0x3e5))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),No=new P[(a0_0x53f180(0x3e5))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[vo]},'customFields':{'type':[Co]},'flowConfig':{'type':Eo,'default':{}},'flows':{'type':[Mo],'default':[]},'autoCompleteMessages':{'type':[So],'default':[]}}),Oe=R?.[a0_0x53f180(0x8c0)](vs[a0_0x53f180(0x7b2)],No,'AutomateSystem'),va=require(a0_0x53f180(0x30f)),$o=new va['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Na=_0x1ce854=>{const _0x128ee6=a0_0x53f180;let _0x5a3d8b='z_'+_0x1ce854+_0x128ee6(0x8f3);return R?.['model'](_0x128ee6(0x737),$o,_0x5a3d8b);},_=class{constructor(_0x539a77){const _0x26581a=a0_0x53f180;this[_0x26581a(0x44d)]=_0x539a77[_0x26581a(0x6c4)](_0x26581a(0x739));}};function I(_0x3dbf18){const _0x428cb3=a0_0x53f180;let _0x264564={};for(let [_0x38df02,_0x3d085f]of Object[_0x428cb3(0x615)](_0x3dbf18))if(typeof _0x3d085f==_0x428cb3(0x204)&&!Array[_0x428cb3(0x714)](_0x3d085f)){for(let [_0x6402a3,_0x5d05a1]of Object[_0x428cb3(0x615)](_0x3d085f))_0x264564[_0x38df02+'.'+_0x6402a3]=_0x5d05a1;}else _0x264564[_0x38df02]=_0x3d085f;return _0x264564;}var Ye=class{constructor(_0xf72957,_0xdfe4c3,_0x46c2e6,_0x445508,_0x3ca611,_0xa0ddff,_0x96e2a2,_0x2779d0,_0x262853,_0x39dbf1,_0x535e21,_0x584df4,_0x377bb0){const _0x1d23ee=a0_0x53f180;this[_0x1d23ee(0x82d)]=_0xf72957,this[_0x1d23ee(0x254)]=_0xdfe4c3,this[_0x1d23ee(0x259)]=_0x46c2e6,this[_0x1d23ee(0x6a9)]=_0x445508,this[_0x1d23ee(0x765)]=_0x3ca611,this['auth']=_0xa0ddff,this['instance']=_0x96e2a2,this[_0x1d23ee(0x72a)]=_0x2779d0,this[_0x1d23ee(0x1d3)]=_0x262853,this[_0x1d23ee(0x451)]=_0x39dbf1,this[_0x1d23ee(0x726)]=_0x535e21,this[_0x1d23ee(0x860)]=_0x584df4,this['dbClient']=_0x377bb0;}get[a0_0x53f180(0x8eb)](){const _0x3651c3=a0_0x53f180;return this[_0x3651c3(0x5c8)];}},Xe=class{},Ze=class extends _{[a0_0x53f180(0x798)](_0x4ee457){return ua(_0x4ee457);}async[a0_0x53f180(0x2f1)](_0x22dd34,_0x4d2f3f){const _0x47979e=a0_0x53f180;if(_0x22dd34[_0x47979e(0x27a)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x47979e(0x798)](_0x4d2f3f)[_0x47979e(0x414)]([..._0x22dd34]))[_0x47979e(0x27a)]};}catch(_0x2fe1eb){return _0x2fe1eb;}}async['find'](_0x167c80,_0x28f3ae){const _0x3109d8=a0_0x53f180;try{let _0x5abf22=this[_0x3109d8(0x798)](_0x28f3ae),_0x16e8b9=I(_0x167c80['where']);return await _0x5abf22['find'](_0x16e8b9)[_0x3109d8(0x5f0)]({'messageTimestamp':-0x1})[_0x3109d8(0x682)](_0x167c80?.['limit']??0x0)[_0x3109d8(0x818)]();}catch{return[];}}async[a0_0x53f180(0x2c1)](_0x56f3e9,_0x49a015){const _0x52120c=a0_0x53f180;try{let _0x34d0ab=this[_0x52120c(0x798)](_0x49a015),_0x325599=I(_0x56f3e9['where']);await _0x34d0ab['deleteMany'](_0x325599);}catch(_0x519c21){console['error'](_0x519c21);}}async[a0_0x53f180(0x513)](_0x34d676,_0x2ada41,_0x20fd91){const _0x194b21=a0_0x53f180;try{let _0xe9a3d0=this[_0x194b21(0x798)](_0x20fd91),_0x559be0=I(_0x34d676[_0x194b21(0x422)]);return await _0xe9a3d0['findOneAndUpdate'](_0x559be0,{'$set':_0x2ada41},{'new':!0x0});}catch(_0x1b7568){throw console[_0x194b21(0x1f6)](_0x1b7568),_0x1b7568;}}async[a0_0x53f180(0x414)](_0xca341e,_0x9c852d){const _0x53eb39=a0_0x53f180;if(_0xca341e[_0x53eb39(0x27a)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x53eb39(0x798)](_0x9c852d)[_0x53eb39(0x414)]([..._0xca341e]))[_0x53eb39(0x27a)]};}catch(_0x2c25e7){return console[_0x53eb39(0x4d9)]('ERROR:\x20',_0x2c25e7),_0x2c25e7;}}async[a0_0x53f180(0x520)](_0x21c6e2){const _0x6566c9=a0_0x53f180;try{return await this[_0x6566c9(0x798)](_0x21c6e2)[_0x6566c9(0x6ab)][_0x6566c9(0x253)](),{'success':!0x0};}catch(_0xda2752){return console[_0x6566c9(0x1f6)](_0xda2752),{'success':!0x1,'error':_0xda2752};}}},Ps=A(require('@ffmpeg-installer/ffmpeg')),w=A(require(a0_0x53f180(0x3a1))),Ue=require('fs'),j=A(require('path')),te=A(require(a0_0x53f180(0x683))),_i=require(a0_0x53f180(0x402)),xi=A(require('qrcode')),Di=A(require(a0_0x53f180(0x771))),$a=[a0_0x53f180(0x4cf),a0_0x53f180(0x8c4),'audioMessage',a0_0x53f180(0x806),a0_0x53f180(0x4e1)],Ra=[a0_0x53f180(0x507),a0_0x53f180(0x5fa),'viewOnceMessage',a0_0x53f180(0x78b)],ks=require('os'),Vt=A(require('pino')),je=require(a0_0x53f180(0x2b2)),Pi=require(a0_0x53f180(0x624)),fe=A(require('mongoose')),L=require(a0_0x53f180(0x2d2)),pe=class{constructor(_0x3f9708,_0x4fd93e,_0x49a3c1){const _0x3c3e61=a0_0x53f180;this['jid']=_0x3f9708,this['exists']=_0x4fd93e,this[_0x3c3e61(0x7b2)]=_0x49a3c1;}},et=class{},tt=class{},_e=class{},st=class{},at=class{},ve=class{},it=class{},ot=class{},rt=class{},nt=class{},Lt=A(require(a0_0x53f180(0x41c))),Aa=require('fs'),Ia=require(a0_0x53f180(0x876));async function xe(_0x2f89c4){const _0x15aa0c=a0_0x53f180;let _0x4899cb=z[_0x15aa0c(0x1aa)][_0x2f89c4];if(U[_0x15aa0c(0x8a8)]){let _0x364a8a=R[_0x15aa0c(0x7df)]()['db'](U[_0x15aa0c(0x1e6)][_0x15aa0c(0x349)]+_0x15aa0c(0x8e5))[_0x15aa0c(0x6ab)](_0x2f89c4);return _0x4899cb||(await _0x364a8a[_0x15aa0c(0x479)]({})['toArray']())['length']>0x0;}return _0x4899cb||(0x0,Aa[_0x15aa0c(0x526)])((0x0,Ia['join'])(Me,_0x2f89c4));}async function Ta(_0x336bd7,_0x23b24b,_0x489cfa){const _0x2ee1d8=a0_0x53f180;if(_0x336bd7[_0x2ee1d8(0x8db)][_0x2ee1d8(0x87c)]('/instance/create')||_0x336bd7[_0x2ee1d8(0x8db)]['includes'](_0x2ee1d8(0x346))||_0x336bd7[_0x2ee1d8(0x8db)][_0x2ee1d8(0x87c)](_0x2ee1d8(0x233))||_0x336bd7[_0x2ee1d8(0x8db)][_0x2ee1d8(0x87c)](_0x2ee1d8(0x445))||_0x336bd7[_0x2ee1d8(0x8db)][_0x2ee1d8(0x87c)]('/instance/connect')||_0x336bd7[_0x2ee1d8(0x8db)]['includes'](_0x2ee1d8(0x436))||_0x336bd7['originalUrl'][_0x2ee1d8(0x87c)](_0x2ee1d8(0x29f)))return _0x489cfa();let _0x8f080=_0x336bd7[_0x2ee1d8(0x36c)];if(!_0x8f080?.[_0x2ee1d8(0x699)])throw new m(_0x2ee1d8(0x43f));if(!await xe(_0x8f080['instanceName']))throw new J(_0x2ee1d8(0x768)+_0x8f080['instanceName']+_0x2ee1d8(0x704));_0x489cfa();}async function Oa(_0x11a7dd,_0x3e2bd0,_0x1f882d){const _0xa2adc1=a0_0x53f180;if(_0x11a7dd[_0xa2adc1(0x8db)][_0xa2adc1(0x87c)](_0xa2adc1(0x1c9))){let _0x548c7d=_0x11a7dd[_0xa2adc1(0x3d3)];if(await xe(_0x548c7d['instanceName']))throw new se(_0xa2adc1(0x8ca)+_0x548c7d['instanceName']+'\x20is\x20already\x20in\x20use.');z[_0xa2adc1(0x1aa)][_0x548c7d[_0xa2adc1(0x699)]]&&delete z[_0xa2adc1(0x1aa)][_0x548c7d[_0xa2adc1(0x699)]];}_0x1f882d();}var _a=require(a0_0x53f180(0x2d2)),xa=A(require('jsonwebtoken')),ct=a0_0x53f180(0x217),Ao=new $(a0_0x53f180(0x454));async function Io(_0x3409c6,_0x2e1d2c,_0x582e0f){const _0x12a243=a0_0x53f180;let _0x5e8018=_0x3409c6[_0x12a243(0x6c4)]('apikey');if(_0x5e8018&&b[_0x12a243(0x6c4)]('AUTHENTICATION')[_0x12a243(0x381)][_0x12a243(0x83b)]!==_0x5e8018)throw new ce();if(b['get'](_0x12a243(0x41f))[_0x12a243(0x381)][_0x12a243(0x83b)]===_0x5e8018)return _0x582e0f();if((_0x3409c6[_0x12a243(0x8db)][_0x12a243(0x87c)](_0x12a243(0x1c9))||_0x3409c6[_0x12a243(0x8db)][_0x12a243(0x87c)](_0x12a243(0x346)))&&!_0x5e8018)throw new se(_0x12a243(0x432),_0x12a243(0x8da));let _0x40c285=b['get']('AUTHENTICATION')[_0x12a243(0x75c)];try{let [_0x3a210d,_0x520c1a]=_0x3409c6[_0x12a243(0x6c4)]('authorization')[_0x12a243(0x6ca)]('\x20');if(_0x3a210d[_0x12a243(0x83c)]()!==_0x12a243(0x844))throw new ce();if(!(0x0,_a[_0x12a243(0x3d7)])(_0x520c1a))throw new ce();let _0x80798b=_0x3409c6[_0x12a243(0x36c)],_0x33c8fa=xa[_0x12a243(0x391)][_0x12a243(0x33c)](_0x520c1a,_0x40c285[_0x12a243(0x4c8)],{'ignoreExpiration':_0x40c285[_0x12a243(0x6d5)]===0x0});if(_0x80798b[_0x12a243(0x699)]!==_0x33c8fa[_0x12a243(0x699)]||ct!==_0x33c8fa[_0x12a243(0x363)])throw new ce();return _0x582e0f();}catch(_0x3077ab){throw Ao['error'](_0x3077ab),new ce();}}async function To(_0x243e2f,_0x5df19b,_0x44d52e){const _0x54333e=a0_0x53f180;let _0xb63dd4=b[_0x54333e(0x6c4)]('AUTHENTICATION')['API_KEY'],_0x103764=_0x243e2f[_0x54333e(0x6c4)](_0x54333e(0x3fb));if(_0xb63dd4[_0x54333e(0x83b)]===_0x103764)return _0x44d52e();if(_0x243e2f[_0x54333e(0x8db)][_0x54333e(0x87c)](_0x54333e(0x1c9))){let _0x52aa36=Pa,_0x321efe=_0x243e2f[_0x54333e(0x3d3)]['instanceName'];if(_0x52aa36&&_0x321efe[_0x54333e(0x83c)]()['startsWith'](_0x52aa36['toLowerCase']()))return _0x44d52e();if(!_0x103764)throw new se(_0x54333e(0x432),_0x54333e(0x8da));}if(_0x243e2f[_0x54333e(0x8db)][_0x54333e(0x87c)](_0x54333e(0x346))&&!_0x103764)throw new se(_0x54333e(0x432),_0x54333e(0x8da));if(_0x243e2f['originalUrl'][_0x54333e(0x87c)]('/exit')&&!_0x103764)throw new se(_0x54333e(0x432),_0x54333e(0x8da));if(_0x243e2f['originalUrl'][_0x54333e(0x87c)](_0x54333e(0x445))&&!_0x103764)throw new se(_0x54333e(0x432),_0x54333e(0x8da));try{let _0x5c33eb=_0x243e2f[_0x54333e(0x36c)],_0x309d51=await we[_0x54333e(0x3f2)]['find'](_0x5c33eb[_0x54333e(0x699)]);if(_0x309d51&&_0x309d51['apikey']===_0x103764)return _0x44d52e();}catch{}throw new ce();}var Da={'jwt':Io,'apikey':To},mi=require(a0_0x53f180(0x41c)),E=require(a0_0x53f180(0x402)),C=(..._0x4d2636)=>{const _0x30f43c=a0_0x53f180;let _0xd2c03d={};return _0x4d2636['forEach'](_0x49ca4f=>_0xd2c03d[_0x49ca4f]={'minLength':0x1,'description':'The\x20\x22'+_0x49ca4f+_0x30f43c(0x417)}),{'if':{'propertyNames':{'enum':[..._0x4d2636]}},'then':{'properties':_0xd2c03d}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'instanceName':{'type':a0_0x53f180(0x8d7)}},...C(a0_0x53f180(0x699))},mc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'oldToken':{'type':'string'}},'required':[a0_0x53f180(0x466)],...C(a0_0x53f180(0x466))},fc={'properties':{'key':{'type':a0_0x53f180(0x204),'properties':{'id':{'type':a0_0x53f180(0x8d7)},'remoteJid':{'type':a0_0x53f180(0x8d7)},'fromMe':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]}},'required':['id',a0_0x53f180(0x87e),a0_0x53f180(0x474)],...C('id',a0_0x53f180(0x87e))},'message':{'type':a0_0x53f180(0x204)}}},ae={'properties':{'delay':{'type':a0_0x53f180(0x2cf),'description':a0_0x53f180(0x4e8)},'presence':{'type':a0_0x53f180(0x8d7),'enum':[a0_0x53f180(0x1e0),a0_0x53f180(0x47e),a0_0x53f180(0x6c8),a0_0x53f180(0x3d1),a0_0x53f180(0x6d4)]}}},Z={'type':'string','description':a0_0x53f180(0x3e2)},ka={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'number':{...Z},'options':{...ae},'textMessage':{'type':a0_0x53f180(0x204),'properties':{'text':{'type':a0_0x53f180(0x8d7)}},'required':[a0_0x53f180(0x746)],...C(a0_0x53f180(0x746))}},'required':['textMessage',a0_0x53f180(0x373)]},La={'type':a0_0x53f180(0x8d7),'pattern':a0_0x53f180(0x77f),'description':a0_0x53f180(0x3e2)},wc={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'number':{...La},'options':{...ae},'textMessage':{'type':a0_0x53f180(0x204),'properties':{'text':{'type':'string'}},'required':[a0_0x53f180(0x746)],...C(a0_0x53f180(0x746))}},'required':[a0_0x53f180(0x6a3),'number']},yc={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'number':{...La},'options':{...ae},'mediaMessage':{'type':a0_0x53f180(0x204),'properties':{'mediatype':{'type':'string','enum':['image',a0_0x53f180(0x2bc),a0_0x53f180(0x4c4),a0_0x53f180(0x517)]},'media':{'type':'string'},'fileName':{'type':'string'},'caption':{'type':a0_0x53f180(0x8d7)}},'required':[a0_0x53f180(0x469),a0_0x53f180(0x52d)],...C(a0_0x53f180(0x323),a0_0x53f180(0x62d),a0_0x53f180(0x52d))}},'required':[a0_0x53f180(0x5bf),'number']},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'number':{...Z},'options':{...ae},'stickerMessage':{'type':a0_0x53f180(0x204),'properties':{'image':{'type':a0_0x53f180(0x8d7)}},'required':[a0_0x53f180(0x32b)],...C('image')}},'required':[a0_0x53f180(0x4e1),'number']},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':'string','enum':[a0_0x53f180(0x746),a0_0x53f180(0x32b),'audio','video']},'content':{'type':'string'},'caption':{'type':a0_0x53f180(0x8d7)},'backgroundColor':{'type':a0_0x53f180(0x8d7)},'font':{'type':a0_0x53f180(0x2cf),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x53f180(0x4c6),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x53f180(0x8d7),'pattern':a0_0x53f180(0x234),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x53f180(0x6b8),a0_0x53f180(0x567)],...C(a0_0x53f180(0x6b8),a0_0x53f180(0x567))}},'required':['statusMessage']},ja={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'number':{...Z},'options':{...ae},'mediaMessage':{'type':'object','properties':{'mediatype':{'type':'string','enum':['image','document',a0_0x53f180(0x4c4),a0_0x53f180(0x517)]},'media':{'type':a0_0x53f180(0x8d7)},'fileName':{'type':a0_0x53f180(0x8d7)},'caption':{'type':a0_0x53f180(0x8d7)}},'required':['mediatype',a0_0x53f180(0x52d)],...C(a0_0x53f180(0x323),'caption',a0_0x53f180(0x52d))}},'required':['mediaMessage','number']},Ja={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'audioMessage':{'type':a0_0x53f180(0x204),'properties':{'audio':{'type':a0_0x53f180(0x8d7)}},'required':[a0_0x53f180(0x517)],...C(a0_0x53f180(0x517))}},'required':[a0_0x53f180(0x7b5),a0_0x53f180(0x373)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'number':{...Z},'pollMessage':{'type':a0_0x53f180(0x204),'properties':{'name':{'type':a0_0x53f180(0x8d7)},'selectableCount':{'type':a0_0x53f180(0x373)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x53f180(0x7b2),a0_0x53f180(0x2cd),a0_0x53f180(0x4ce)],...C(a0_0x53f180(0x7b2),a0_0x53f180(0x2cd),a0_0x53f180(0x4ce))}},'required':[a0_0x53f180(0x373),a0_0x53f180(0x1af)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'number':{...Z},'menuMessage':{'type':a0_0x53f180(0x204),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x53f180(0x4c6),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x53f180(0x746),a0_0x53f180(0x8cf)],...C(a0_0x53f180(0x746),a0_0x53f180(0x8cf))}},'required':[a0_0x53f180(0x373),'menuMessage']},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'number':{...Z},'options':{...ae},'buttonMessage':{'type':'object','properties':{'title':{'type':'string'},'description':{'type':a0_0x53f180(0x8d7)},'footerText':{'type':'string'},'buttons':{'type':a0_0x53f180(0x4c6),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x53f180(0x204),'properties':{'buttonText':{'type':a0_0x53f180(0x8d7)},'buttonId':{'type':a0_0x53f180(0x8d7)}},'required':[a0_0x53f180(0x669),a0_0x53f180(0x6d1)],...C(a0_0x53f180(0x669),a0_0x53f180(0x6d1))}},'mediaMessage':{'type':a0_0x53f180(0x204),'properties':{'media':{'type':'string'},'fileName':{'type':a0_0x53f180(0x8d7)},'mediatype':{'type':a0_0x53f180(0x8d7),'enum':[a0_0x53f180(0x32b),a0_0x53f180(0x2bc),a0_0x53f180(0x4c4)]}},'required':[a0_0x53f180(0x52d),a0_0x53f180(0x469)],...C('media',a0_0x53f180(0x323))}},'required':[a0_0x53f180(0x6df),'buttons'],...C(a0_0x53f180(0x6df),a0_0x53f180(0x45a))}},'required':['number',a0_0x53f180(0x4cc)]},Ba={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'locationMessage':{'type':a0_0x53f180(0x204),'properties':{'latitude':{'type':a0_0x53f180(0x373)},'longitude':{'type':a0_0x53f180(0x373)},'name':{'type':'string'},'address':{'type':'string'}},'required':[a0_0x53f180(0x7af),a0_0x53f180(0x8e7)],...C(a0_0x53f180(0x7b2),a0_0x53f180(0x70e))}},'required':['number',a0_0x53f180(0x883)]},Wa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x53f180(0x8d7)},'description':{'type':a0_0x53f180(0x8d7)},'footerText':{'type':a0_0x53f180(0x8d7)},'buttonText':{'type':a0_0x53f180(0x8d7)},'sections':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x53f180(0x204),'properties':{'title':{'type':a0_0x53f180(0x8d7)},'rows':{'type':a0_0x53f180(0x4c6),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x53f180(0x204),'properties':{'title':{'type':a0_0x53f180(0x8d7)},'description':{'type':'string'},'rowId':{'type':a0_0x53f180(0x8d7)}},'required':[a0_0x53f180(0x6df),a0_0x53f180(0x8c8)],...C(a0_0x53f180(0x6df),a0_0x53f180(0x8c8))}}},'required':[a0_0x53f180(0x6df),a0_0x53f180(0x37c)],...C('title')}}},'required':[a0_0x53f180(0x6df),a0_0x53f180(0x45a),a0_0x53f180(0x669),a0_0x53f180(0x4b5)],...C(a0_0x53f180(0x6df),a0_0x53f180(0x45a),a0_0x53f180(0x669),a0_0x53f180(0x7cc))}},'required':[a0_0x53f180(0x373),a0_0x53f180(0x69b)]},za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'options':{...ae},'contactMessage':{'type':a0_0x53f180(0x4c6),'items':{'type':'object','properties':{'fullName':{'type':a0_0x53f180(0x8d7)},'phoneNumber':{'type':a0_0x53f180(0x8d7),'minLength':0xa}},'required':[a0_0x53f180(0x389),a0_0x53f180(0x731)],...C(a0_0x53f180(0x389))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x53f180(0x373),a0_0x53f180(0x262)]},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'reactionMessage':{'type':a0_0x53f180(0x204),'properties':{'key':{'type':a0_0x53f180(0x204),'properties':{'id':{'type':a0_0x53f180(0x8d7)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]}},'required':['id',a0_0x53f180(0x87e),a0_0x53f180(0x474)],...C('id',a0_0x53f180(0x87e))},'reaction':{'type':a0_0x53f180(0x8d7)}},'required':['key',a0_0x53f180(0x637)],...C(a0_0x53f180(0x637))}},'required':[a0_0x53f180(0x339)]},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'numbers':{'type':a0_0x53f180(0x4c6),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x53f180(0x8d7),'pattern':'^\x5cd+','description':a0_0x53f180(0x317)}}}},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'readMessages':{'type':a0_0x53f180(0x4c6),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x53f180(0x8d7)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x53f180(0x8d7)}},'required':['id',a0_0x53f180(0x474),a0_0x53f180(0x87e)],...C('id',a0_0x53f180(0x87e))}}},'required':[a0_0x53f180(0x6ed)]},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'privacySettings':{'type':a0_0x53f180(0x204),'properties':{'readreceipts':{'type':a0_0x53f180(0x8d7),'enum':[a0_0x53f180(0x241),'none']},'profile':{'type':a0_0x53f180(0x8d7),'enum':[a0_0x53f180(0x241),'contacts',a0_0x53f180(0x1b6),a0_0x53f180(0x68d)]},'status':{'type':a0_0x53f180(0x8d7),'enum':['all',a0_0x53f180(0x2e7),a0_0x53f180(0x1b6),a0_0x53f180(0x68d)]},'online':{'type':'string','enum':['all',a0_0x53f180(0x7e2)]},'last':{'type':a0_0x53f180(0x8d7),'enum':[a0_0x53f180(0x241),'contacts',a0_0x53f180(0x1b6),'none']},'groupadd':{'type':'string','enum':['all',a0_0x53f180(0x2e7),a0_0x53f180(0x1b6),a0_0x53f180(0x68d)]}},'required':[a0_0x53f180(0x8e0),a0_0x53f180(0x6ad),a0_0x53f180(0x315),a0_0x53f180(0x200),a0_0x53f180(0x2f2),'groupadd'],...C(a0_0x53f180(0x8e0),a0_0x53f180(0x6ad),a0_0x53f180(0x315),a0_0x53f180(0x200),a0_0x53f180(0x2f2),'groupadd')}},'required':[a0_0x53f180(0x277)]},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'lastMessage':{'type':a0_0x53f180(0x204),'properties':{'key':{'type':a0_0x53f180(0x204),'properties':{'id':{'type':a0_0x53f180(0x8d7)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]}},'required':['id','fromMe',a0_0x53f180(0x87e)],...C('id','remoteJid')},'messageTimestamp':{'type':a0_0x53f180(0x2cf),'minLength':0x1}},'required':['key'],...C(a0_0x53f180(0x885))},'archive':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]}},'required':[a0_0x53f180(0x778),a0_0x53f180(0x7e3)]},Za={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'id':{'type':a0_0x53f180(0x8d7)},'fromMe':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x53f180(0x8d7)},'participant':{'type':'string'}},'required':['id','fromMe',a0_0x53f180(0x87e)],...C('id',a0_0x53f180(0x87e),a0_0x53f180(0x757))},ei={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x53f180(0x204),'properties':{'_id':{'type':a0_0x53f180(0x8d7),'minLength':0x1},'pushName':{'type':a0_0x53f180(0x8d7),'minLength':0x1},'id':{'type':a0_0x53f180(0x8d7),'minLength':0x1}},...C(a0_0x53f180(0x452),'id',a0_0x53f180(0x2a7))}}},ti={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'name':{'type':a0_0x53f180(0x8d7)}},...C(a0_0x53f180(0x7b2))},si={'$id':(0x0,E['v4'])(),'type':'object','properties':{'status':{'type':a0_0x53f180(0x8d7)}},...C('status')},De={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'number':{'type':a0_0x53f180(0x8d7)},'picture':{'type':a0_0x53f180(0x8d7)}}},ai={'type':a0_0x53f180(0x204),'properties':{'wuid':{'type':a0_0x53f180(0x8d7)},'name':{'type':'string'},'picture':{'type':a0_0x53f180(0x8d7)},'status':{'type':a0_0x53f180(0x8d7)},'isBusiness':{'type':a0_0x53f180(0x67f)}}},ii={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x53f180(0x204),'properties':{'_id':{'type':a0_0x53f180(0x8d7),'minLength':0x1},'key':{'type':a0_0x53f180(0x204),'if':{'propertyNames':{'enum':['fromMe',a0_0x53f180(0x87e),'id']}},'then':{'properties':{'remoteJid':{'type':a0_0x53f180(0x8d7),'minLength':0x1,'description':a0_0x53f180(0x46e)},'id':{'type':'string','minLength':0x1,'description':a0_0x53f180(0x46e)},'fromMe':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]}}}},'message':{'type':'object'}},...C(a0_0x53f180(0x452))},'limit':{'type':a0_0x53f180(0x2cf)}}},bc={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'where':{'type':a0_0x53f180(0x204),'properties':{'_id':{'type':'string'},'remoteJid':{'type':a0_0x53f180(0x8d7)},'id':{'type':a0_0x53f180(0x8d7)},'fromMe':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]},'participant':{'type':a0_0x53f180(0x8d7)},'status':{'type':a0_0x53f180(0x8d7),'enum':['ERROR',a0_0x53f180(0x32f),a0_0x53f180(0x2c2),a0_0x53f180(0x838),a0_0x53f180(0x7fa),a0_0x53f180(0x430)]}},...C(a0_0x53f180(0x452),'remoteJid','id','status')},'limit':{'type':a0_0x53f180(0x2cf)}}},oi={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...Z},'presence':{'type':a0_0x53f180(0x8d7),'enum':[a0_0x53f180(0x1e0),a0_0x53f180(0x47e),a0_0x53f180(0x6c8),'recording',a0_0x53f180(0x6d4)]}},'required':['presence',a0_0x53f180(0x373)]},ri={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'subject':{'type':a0_0x53f180(0x8d7)},'description':{'type':'string'},'profilePicture':{'type':a0_0x53f180(0x8d7)},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':'\x5cd+','description':a0_0x53f180(0x299)}}},'required':['subject',a0_0x53f180(0x884)],...C(a0_0x53f180(0x8ac),a0_0x53f180(0x45a),a0_0x53f180(0x862))},Pe={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x53f180(0x8d7),'pattern':a0_0x53f180(0x397)}},'required':[a0_0x53f180(0x636)],...C('groupJid')},ni={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'groupJid':{'type':'string'},'action':{'type':a0_0x53f180(0x8d7),'enum':[a0_0x53f180(0x1b9),a0_0x53f180(0x54e),'promote',a0_0x53f180(0x621),'reject',a0_0x53f180(0x31e)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x53f180(0x8d7),'minLength':0xa,'pattern':a0_0x53f180(0x255),'description':a0_0x53f180(0x299)}}},'required':['groupJid',a0_0x53f180(0x660),a0_0x53f180(0x884)],...C(a0_0x53f180(0x636),'action')},ci={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'groupJid':{'type':a0_0x53f180(0x8d7)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':['groupJid',a0_0x53f180(0x681)],...C('groupJid',a0_0x53f180(0x681))},li={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x53f180(0x8d7)},'image':{'type':a0_0x53f180(0x8d7)}},'required':['groupJid',a0_0x53f180(0x32b)],...C(a0_0x53f180(0x636),a0_0x53f180(0x32b))},ui={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'groupJid':{'type':a0_0x53f180(0x8d7)},'description':{'type':'string'}},'required':['groupJid',a0_0x53f180(0x45a)],...C(a0_0x53f180(0x636),a0_0x53f180(0x45a))},di={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'groupJid':{'type':a0_0x53f180(0x8d7)},'name':{'type':'string'}},'required':[a0_0x53f180(0x636),a0_0x53f180(0x7b2)],...C(a0_0x53f180(0x636),'name')},pi={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'groupJid':{'type':a0_0x53f180(0x8d7)},'setting':{'type':a0_0x53f180(0x8d7),'enum':[a0_0x53f180(0x355),a0_0x53f180(0x46a),a0_0x53f180(0x66d),'locked']}},'required':['groupJid',a0_0x53f180(0x644)],...C(a0_0x53f180(0x636),a0_0x53f180(0x644))},hi={'$id':(0x0,E['v4'])(),'type':a0_0x53f180(0x204),'properties':{'groupJid':{'type':a0_0x53f180(0x8d7)},'restrict':{'type':a0_0x53f180(0x67f)},'announce':{'type':a0_0x53f180(0x67f)},'memberAddMode':{'type':a0_0x53f180(0x67f)},'joinApprovalMode':{'type':a0_0x53f180(0x67f)},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':'string'},'description':{'type':a0_0x53f180(0x8d7)},'image':{'type':'string'}}},$s={'$id':(0x0,E['v4'])(),'type':'object','properties':{'inviteCode':{'type':'string'}},'required':[a0_0x53f180(0x5c4)],...C(a0_0x53f180(0x5c4))},gi={'$id':(0x0,E['v4'])(),'type':'object','properties':{'url':{'type':a0_0x53f180(0x8d7)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':[a0_0x53f180(0x486),a0_0x53f180(0x531)]},Sc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'local_map':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x53f180(0x67f),'enum':[!0x0,!0x1]}},'required':[a0_0x53f180(0x8ec),'STATUS_INSTANCE','QRCODE_UPDATED','MESSAGES_SET',a0_0x53f180(0x3ee),a0_0x53f180(0x522),a0_0x53f180(0x829),'CONTACTS_SET','CONTACTS_UPSERT',a0_0x53f180(0x8f2),a0_0x53f180(0x31f),'CHATS_SET',a0_0x53f180(0x80c),a0_0x53f180(0x77c),'CHATS_DELETE',a0_0x53f180(0x564),a0_0x53f180(0x1ba),a0_0x53f180(0x264),a0_0x53f180(0x6c0)],...C(a0_0x53f180(0x8ec),a0_0x53f180(0x705),a0_0x53f180(0x628),'MESSAGES_SET','MESSAGES_UPDATE',a0_0x53f180(0x522),'SEND_MESSAGE',a0_0x53f180(0x553),'CONTACTS_UPSERT',a0_0x53f180(0x8f2),a0_0x53f180(0x31f),a0_0x53f180(0x375),a0_0x53f180(0x80c),'CHATS_UPDATE',a0_0x53f180(0x809),a0_0x53f180(0x564),a0_0x53f180(0x1ba),a0_0x53f180(0x264),a0_0x53f180(0x6c0))},lt=class{},ut=class extends _{[a0_0x53f180(0x565)](_0x483e31){return oa(_0x483e31);}async[a0_0x53f180(0x2f1)](_0x366b2c){const _0x1b758c=a0_0x53f180;if(_0x366b2c[_0x1b758c(0x27a)]!==0x0)try{return{'insertCount':(await this[_0x1b758c(0x565)](_0x366b2c[0x0][_0x1b758c(0x285)])['insertMany']([..._0x366b2c]))['length']};}catch(_0x354e95){return _0x354e95;}}async['delete'](_0x4d7db5,_0x5ab652){const _0x1b1326=a0_0x53f180;try{return{'deletedCount':(await this[_0x1b1326(0x565)](_0x5ab652)[_0x1b1326(0x3b4)]({..._0x4d7db5[_0x1b1326(0x422)]}))[_0x1b1326(0x893)]};}catch(_0x1a22bf){return{'error':_0x1a22bf?.[_0x1b1326(0x76d)]()};}}async[a0_0x53f180(0x513)](_0x24f4da,_0x17280e){const _0x1ad181=a0_0x53f180;try{if(_0x24f4da[_0x1ad181(0x27a)]===0x0)return;let _0x33eac6=this[_0x1ad181(0x565)](_0x17280e),_0x144a9d=_0x24f4da[_0x1ad181(0x5bd)](_0x1a22e9=>({'updateOne':{'filter':{'_id':_0x1a22e9[_0x1ad181(0x452)],'owner':_0x17280e},'update':{..._0x1a22e9}}})),{modifiedCount:_0x2fe9fa}=await _0x33eac6[_0x1ad181(0x58c)](_0x144a9d);return{'insertCount':_0x2fe9fa};}catch{return;}}async['find'](_0x1e81be,_0x590745){const _0xb1877f=a0_0x53f180;try{let _0x198af4=this['getContactModelForOwner'](_0x590745),_0x5db25d=I(_0x1e81be[_0xb1877f(0x422)]);return await _0x198af4[_0xb1877f(0x479)](_0x5db25d)['limit'](_0x1e81be?.[_0xb1877f(0x682)]??0x0)[_0xb1877f(0x818)]();}catch{return[];}}async['findOne'](_0x32fbeb,_0x359def){const _0x1af001=a0_0x53f180;try{let _0x4f4fea=this[_0x1af001(0x565)](_0x359def),_0x13ba22=I(_0x32fbeb[_0x1af001(0x422)]);return await _0x4f4fea['findOne'](_0x13ba22)[_0x1af001(0x818)]();}catch{return null;}}async[a0_0x53f180(0x520)](_0x367e6e){const _0x3e1c6e=a0_0x53f180;try{return await this[_0x3e1c6e(0x565)](_0x367e6e)[_0x3e1c6e(0x6ab)][_0x3e1c6e(0x253)](),{'success':!0x0};}catch(_0x1b7b9e){return console[_0x3e1c6e(0x1f6)](_0x1b7b9e),{'success':!0x1,'error':_0x1b7b9e};}}},dt=require(a0_0x53f180(0x405)),Ic=require(a0_0x53f180(0x1dc)),Rs=new $(a0_0x53f180(0x787)),G=class{[a0_0x53f180(0x605)](_0x2087bc,_0x5622f0=!0x0){let _0x5a4887='/'+_0x2087bc;return _0x5622f0&&(_0x5a4887+='/:instanceName'),_0x5a4887;}async[a0_0x53f180(0x43c)](_0x2cdb41){const _0x5506e8=a0_0x53f180;let {request:_0x365f21,schema:_0x182f23,ClassRef:_0x275061,execute:_0x1d54d3}=_0x2cdb41,_0x2c6225=new _0x275061(),_0x1d3384=_0x365f21['body'],_0x3e3866=_0x365f21[_0x5506e8(0x36c)];_0x365f21?.[_0x5506e8(0x53b)]&&Object[_0x5506e8(0x6f3)](_0x365f21[_0x5506e8(0x53b)])[_0x5506e8(0x27a)]>0x0&&Object[_0x5506e8(0x8bc)](_0x3e3866,_0x365f21[_0x5506e8(0x53b)]),_0x365f21[_0x5506e8(0x8db)][_0x5506e8(0x87c)](_0x5506e8(0x1c9))&&Object[_0x5506e8(0x8bc)](_0x3e3866,_0x1d3384),Object[_0x5506e8(0x8bc)](_0x2c6225,_0x1d3384);let _0x4a29fe=_0x182f23?(0x0,dt[_0x5506e8(0x3fc)])(_0x2c6225,_0x182f23):{'valid':!0x0,'errors':[]};if(!_0x4a29fe['valid']){let _0x5ed7f6=_0x4a29fe['errors']['map'](({property:_0x18d7ca,stack:_0x1ebefb,schema:_0x6e8034})=>{const _0x588799=_0x5506e8;let _0x4db77b;return _0x6e8034[_0x588799(0x45a)]?_0x4db77b=_0x6e8034[_0x588799(0x45a)]:_0x4db77b=_0x1ebefb[_0x588799(0x1ef)]('instance.',''),{'property':_0x18d7ca[_0x588799(0x1ef)](_0x588799(0x271),''),'message':_0x4db77b};});throw Rs[_0x5506e8(0x1f6)]([..._0x5ed7f6]),new m(..._0x5ed7f6);}return await _0x1d54d3(_0x3e3866,_0x2c6225);}async[a0_0x53f180(0x5d8)](_0x74f451){const _0x33c7c2=a0_0x53f180;let {request:_0x24db48,ClassRef:_0x2fb326,schema:_0x444245,execute:_0x4bf86c}=_0x74f451,_0x3022f3=_0x24db48[_0x33c7c2(0x53b)];if(!_0x3022f3?.['groupJid'])throw new m('The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','ex:\x20\x22groupJid=120362@g.us\x22');let _0x171a0c=_0x24db48['params'],_0x36df1d=_0x24db48[_0x33c7c2(0x3d3)],_0x120781=new _0x2fb326();Object[_0x33c7c2(0x8bc)](_0x36df1d,_0x3022f3),Object['assign'](_0x120781,_0x36df1d);let _0x3f0c99=(0x0,dt[_0x33c7c2(0x3fc)])(_0x120781,_0x444245);if(!_0x3f0c99[_0x33c7c2(0x5af)]){let _0x505919=_0x3f0c99['errors'][_0x33c7c2(0x5bd)](({property:_0x1ef1d3,stack:_0x2e1906,schema:_0x39a111})=>{const _0x4feaf6=_0x33c7c2;let _0x28f0e6;return _0x39a111['description']?_0x28f0e6=_0x39a111[_0x4feaf6(0x45a)]:_0x28f0e6=_0x2e1906[_0x4feaf6(0x1ef)]('instance.',''),{'property':_0x1ef1d3[_0x4feaf6(0x1ef)](_0x4feaf6(0x271),''),'message':_0x28f0e6};});throw Rs['error']([..._0x505919]),new m(..._0x505919);}return await _0x4bf86c(_0x171a0c,_0x120781);}async[a0_0x53f180(0x8b9)](_0x3ab9a8){const _0x5976c7=a0_0x53f180;let {request:_0x5f12c5,ClassRef:_0x16af02,schema:_0x2ede01,execute:_0xa0ebc6}=_0x3ab9a8,_0x36665c=_0x5f12c5[_0x5976c7(0x3d3)];if(!_0x36665c?.[_0x5976c7(0x5c4)])throw new m(_0x5976c7(0x6b9),_0x5976c7(0x2e5));let _0x371665=_0x5f12c5[_0x5976c7(0x36c)],_0x25497f=_0x5f12c5['body'],_0x117af4=new _0x16af02();Object[_0x5976c7(0x8bc)](_0x25497f,_0x36665c),Object[_0x5976c7(0x8bc)](_0x117af4,_0x25497f);let _0x4dcc46=(0x0,dt[_0x5976c7(0x3fc)])(_0x117af4,_0x2ede01);if(!_0x4dcc46[_0x5976c7(0x5af)]){let _0x1612d0=_0x4dcc46[_0x5976c7(0x447)][_0x5976c7(0x5bd)](({property:_0x4c2c53,stack:_0x234939,schema:_0xb2639f})=>{const _0x299150=_0x5976c7;let _0x486ed9;return _0xb2639f['description']?_0x486ed9=_0xb2639f[_0x299150(0x45a)]:_0x486ed9=_0x234939[_0x299150(0x1ef)](_0x299150(0x271),''),{'property':_0x4c2c53[_0x299150(0x1ef)]('instance.',''),'message':_0x486ed9};});throw Rs[_0x5976c7(0x1f6)]([..._0x1612d0]),new m(..._0x1612d0);}return await _0xa0ebc6(_0x371665,_0x117af4);}},M=class{},Gc=new $(a0_0x53f180(0x8f7)),pt=class extends G{constructor(..._0x5f21e3){const _0x1c08f8=a0_0x53f180;super(),this['router']=(0x0,mi[_0x1c08f8(0x3ae)])(),this[_0x1c08f8(0x5fb)][_0x1c08f8(0x78c)](this[_0x1c08f8(0x605)](_0x1c08f8(0x56e)),..._0x5f21e3,async(_0x4792d6,_0x80258a)=>{const _0x1b0aad=_0x1c08f8;let _0x1510f2=await this[_0x1b0aad(0x43c)]({'request':_0x4792d6,'schema':oi,'ClassRef':et,'execute':(_0x46d5f2,_0x994fdb)=>k[_0x1b0aad(0x56e)](_0x46d5f2,_0x994fdb)});return _0x80258a[_0x1b0aad(0x315)](0xc9)[_0x1b0aad(0x6f6)](_0x1510f2);})[_0x1c08f8(0x78c)](this[_0x1c08f8(0x605)]('whatsappNumbers'),..._0x5f21e3,async(_0x775222,_0x8f2475)=>{const _0x3e745c=_0x1c08f8;let _0x1401ad=await this[_0x3e745c(0x43c)]({'request':_0x775222,'schema':Ka,'ClassRef':tt,'execute':(_0x3df4b3,_0x4d2586)=>k[_0x3e745c(0x1e8)](_0x3df4b3,_0x4d2586)});return _0x8f2475['status'](0xc9)[_0x3e745c(0x6f6)](_0x1401ad);})[_0x1c08f8(0x78c)](this[_0x1c08f8(0x605)](_0x1c08f8(0x89b)),..._0x5f21e3,async(_0x509b7b,_0x1c57c8)=>{const _0x56fa2a=_0x1c08f8;let _0xbb939b=await this[_0x56fa2a(0x43c)]({'request':_0x509b7b,'schema':v,'ClassRef':M,'execute':(_0x30e71e,_0x1f1f92)=>k[_0x56fa2a(0x89b)](_0x30e71e,_0x1f1f92)});return _0x1c57c8[_0x56fa2a(0x315)](0xc9)[_0x56fa2a(0x6f6)](_0xbb939b);})[_0x1c08f8(0x361)](this['routerPath']('markMessageAsRead'),..._0x5f21e3,async(_0x341b87,_0x16f139)=>{const _0x2eed83=_0x1c08f8;let _0x2a2ab8=await this[_0x2eed83(0x43c)]({'request':_0x341b87,'schema':Qa,'ClassRef':it,'execute':(_0x4f6555,_0x81ee79)=>k[_0x2eed83(0x470)](_0x4f6555,_0x81ee79)});return _0x16f139[_0x2eed83(0x315)](0xc9)[_0x2eed83(0x6f6)](_0x2a2ab8);})[_0x1c08f8(0x361)](this[_0x1c08f8(0x605)](_0x1c08f8(0x418)),..._0x5f21e3,async(_0xd0aa31,_0x4645b7)=>{const _0x2772fa=_0x1c08f8;let _0x115f90=await this[_0x2772fa(0x43c)]({'request':_0xd0aa31,'schema':Xa,'ClassRef':ot,'execute':(_0x5e92ee,_0x38ae69)=>k['archiveChat'](_0x5e92ee,_0x38ae69)});return _0x4645b7[_0x2772fa(0x315)](0xc9)[_0x2772fa(0x6f6)](_0x115f90);})[_0x1c08f8(0x2c1)](this[_0x1c08f8(0x605)](_0x1c08f8(0x8c3)),..._0x5f21e3,async(_0x5ae29b,_0x44cc37)=>{const _0x23aaf7=_0x1c08f8;let _0x448af7=await this[_0x23aaf7(0x43c)]({'request':_0x5ae29b,'schema':Za,'ClassRef':nt,'execute':(_0x3b4c5c,_0x51a9e0)=>k[_0x23aaf7(0x7a8)](_0x3b4c5c,_0x51a9e0)});return _0x44cc37[_0x23aaf7(0x315)](0xc9)['json'](_0x448af7);})['post'](this['routerPath'](_0x1c08f8(0x261)),..._0x5f21e3,async(_0x57b02a,_0x3a9804)=>{const _0x361707=_0x1c08f8;let _0x15d228=await this['dataValidate']({'request':_0x57b02a,'schema':De,'ClassRef':_e,'execute':(_0x2ebedf,_0x4d7c33)=>k[_0x361707(0x87a)](_0x2ebedf,_0x4d7c33)});return _0x3a9804[_0x361707(0x315)](0xc8)[_0x361707(0x6f6)](_0x15d228);})[_0x1c08f8(0x78c)](this['routerPath'](_0x1c08f8(0x37d)),..._0x5f21e3,async(_0x14176f,_0x54a264)=>{const _0x149abc=_0x1c08f8;let _0x3e84b0=await this[_0x149abc(0x43c)]({'request':_0x14176f,'schema':ai,'ClassRef':_e,'execute':(_0x1ed0e9,_0x2fbe87)=>k['fetchProfile'](_0x1ed0e9,_0x2fbe87)});return _0x54a264[_0x149abc(0x315)](0xc8)[_0x149abc(0x6f6)](_0x3e84b0);})[_0x1c08f8(0x78c)](this[_0x1c08f8(0x605)](_0x1c08f8(0x3be)),..._0x5f21e3,async(_0x9002f6,_0x366897)=>{const _0x584b20=_0x1c08f8;let _0x44ee0c=await this[_0x584b20(0x43c)]({'request':_0x9002f6,'schema':ei,'ClassRef':lt,'execute':(_0x2c5048,_0x2cee37)=>k['fetchContacts'](_0x2c5048,_0x2cee37)});return _0x366897[_0x584b20(0x315)](0xc8)[_0x584b20(0x6f6)](_0x44ee0c);})[_0x1c08f8(0x78c)](this[_0x1c08f8(0x605)](_0x1c08f8(0x3b9)),..._0x5f21e3,async(_0x34f0ef,_0x1ebc56)=>{const _0x540a1c=_0x1c08f8;let _0x1be5e1=await this[_0x540a1c(0x43c)]({'request':_0x34f0ef,'schema':null,'ClassRef':Object,'execute':(_0xebab5e,_0x3f8cf4)=>k[_0x540a1c(0x3b9)](_0xebab5e,_0x3f8cf4)});return _0x1ebc56[_0x540a1c(0x315)](0xc9)[_0x540a1c(0x6f6)](_0x1be5e1);})[_0x1c08f8(0x78c)](this[_0x1c08f8(0x605)](_0x1c08f8(0x4e4)),..._0x5f21e3,async(_0x3518e7,_0x3c3f26)=>{const _0x14d87c=_0x1c08f8;let _0x2fba27=await this['dataValidate']({'request':_0x3518e7,'schema':ii,'ClassRef':Xe,'execute':(_0x7307ed,_0x4feafa)=>k['fetchMessages'](_0x7307ed,_0x4feafa)});return _0x3c3f26[_0x14d87c(0x315)](0xc8)['json'](_0x2fba27);})[_0x1c08f8(0x6c4)](this[_0x1c08f8(0x605)](_0x1c08f8(0x657)),..._0x5f21e3,async(_0x478794,_0x1ab101)=>{const _0x32676d=_0x1c08f8;let _0x3a185d=await this[_0x32676d(0x43c)]({'request':_0x478794,'schema':null,'ClassRef':M,'execute':_0x56550f=>k[_0x32676d(0x822)](_0x56550f)});return _0x1ab101[_0x32676d(0x315)](0xc8)['json'](_0x3a185d);})[_0x1c08f8(0x6c4)](this[_0x1c08f8(0x605)](_0x1c08f8(0x1bb)),..._0x5f21e3,async(_0x1c0b1a,_0x5e1dc7)=>{const _0x250aa0=_0x1c08f8;let _0x458cb7=await this[_0x250aa0(0x43c)]({'request':_0x1c0b1a,'schema':null,'ClassRef':M,'execute':_0x1a3e5d=>k[_0x250aa0(0x719)](_0x1a3e5d)});return _0x5e1dc7[_0x250aa0(0x315)](0xc8)[_0x250aa0(0x6f6)](_0x458cb7);})['put'](this[_0x1c08f8(0x605)]('importChats'),..._0x5f21e3,async(_0x523e75,_0x33f4a7)=>{const _0xaf6556=_0x1c08f8;let _0x3364b1=await this['dataValidate']({'request':_0x523e75,'schema':null,'ClassRef':Array,'execute':(_0x456029,_0x3e8b18)=>k['importChats'](_0x456029,_0x3e8b18)});return _0x33f4a7[_0xaf6556(0x315)](0xc8)[_0xaf6556(0x6f6)](_0x3364b1);})['get'](this[_0x1c08f8(0x605)](_0x1c08f8(0x3f7)),..._0x5f21e3,async(_0x2151a6,_0x170db6)=>{const _0x307da0=_0x1c08f8;let _0x4623a9=await this[_0x307da0(0x43c)]({'request':_0x2151a6,'schema':null,'ClassRef':M,'execute':_0x69b1a2=>k[_0x307da0(0x3f7)](_0x69b1a2)});return _0x170db6[_0x307da0(0x315)](0xc8)[_0x307da0(0x6f6)](_0x4623a9);})['put'](this[_0x1c08f8(0x605)](_0x1c08f8(0x2ef)),..._0x5f21e3,async(_0x21c58b,_0x4cd2fe)=>{const _0x153fad=_0x1c08f8;let _0x1a5b61=await this['dataValidate']({'request':_0x21c58b,'schema':Ya,'ClassRef':rt,'execute':(_0x9a7fb,_0x140803)=>k[_0x153fad(0x2ef)](_0x9a7fb,_0x140803)});return _0x4cd2fe[_0x153fad(0x315)](0xc9)[_0x153fad(0x6f6)](_0x1a5b61);})[_0x1c08f8(0x78c)](this[_0x1c08f8(0x605)](_0x1c08f8(0x3dd)),..._0x5f21e3,async(_0x3941dd,_0x5c88d0)=>{const _0x59f300=_0x1c08f8;let _0x2a29b4=await this[_0x59f300(0x43c)]({'request':_0x3941dd,'schema':De,'ClassRef':ve,'execute':(_0x276ad6,_0x146d14)=>k[_0x59f300(0x3dd)](_0x276ad6,_0x146d14)});return _0x5c88d0[_0x59f300(0x315)](0xc8)['json'](_0x2a29b4);})[_0x1c08f8(0x78c)](this[_0x1c08f8(0x605)](_0x1c08f8(0x24d)),..._0x5f21e3,async(_0x43e592,_0x36a890)=>{const _0x55c92b=_0x1c08f8;let _0xc2d0d0=await this[_0x55c92b(0x43c)]({'request':_0x43e592,'schema':ti,'ClassRef':st,'execute':(_0x385efd,_0x46414d)=>k[_0x55c92b(0x24d)](_0x385efd,_0x46414d)});return _0x36a890[_0x55c92b(0x315)](0xc8)['json'](_0xc2d0d0);})[_0x1c08f8(0x78c)](this['routerPath'](_0x1c08f8(0x326)),..._0x5f21e3,async(_0x8b7004,_0xcb1e48)=>{const _0xe15146=_0x1c08f8;let _0xd5e020=await this[_0xe15146(0x43c)]({'request':_0x8b7004,'schema':si,'ClassRef':at,'execute':(_0x2bb6cc,_0x35dbbc)=>k[_0xe15146(0x326)](_0x2bb6cc,_0x35dbbc)});return _0xcb1e48['status'](0xc8)['json'](_0xd5e020);})['put'](this[_0x1c08f8(0x605)](_0x1c08f8(0x889)),..._0x5f21e3,async(_0x192878,_0x34bdb6)=>{const _0x3100d2=_0x1c08f8;let _0x29da25=await this[_0x3100d2(0x43c)]({'request':_0x192878,'schema':De,'ClassRef':ve,'execute':(_0x5ea62e,_0x5efa6f)=>k[_0x3100d2(0x889)](_0x5ea62e,_0x5efa6f)});return _0x34bdb6[_0x3100d2(0x315)](0xc8)['json'](_0x29da25);})[_0x1c08f8(0x2c1)](this[_0x1c08f8(0x605)](_0x1c08f8(0x229)),..._0x5f21e3,async(_0x51b55a,_0x30bea5)=>{const _0x56ce2b=_0x1c08f8;let _0x46cd0e=await this[_0x56ce2b(0x43c)]({'request':_0x51b55a,'schema':De,'ClassRef':ve,'execute':(_0x5b69d4,_0x4caf18)=>k[_0x56ce2b(0x229)](_0x5b69d4,_0x4caf18)});return _0x30bea5[_0x56ce2b(0x315)](0xc8)['json'](_0x46cd0e);});}},fi=require(a0_0x53f180(0x41c)),ht=class{},gt=class{},mt=class{},ft=class{},wt=class{},yt=class{},ie=class{},ke=class{},bt=class extends ie{},St=class extends ie{},Mt=class extends G{constructor(..._0x5b0a48){const _0x7a4eed=a0_0x53f180;super(),this[_0x7a4eed(0x5fb)]=(0x0,fi[_0x7a4eed(0x3ae)])(),this[_0x7a4eed(0x5fb)]['post'](this[_0x7a4eed(0x605)](_0x7a4eed(0x74c)),..._0x5b0a48,async(_0x1a54b5,_0xfe4482)=>{const _0x3d1145=_0x7a4eed;let _0x41d3c3=await this['dataValidate']({'request':_0x1a54b5,'schema':ri,'ClassRef':ht,'execute':(_0x382047,_0x2ff7bb)=>V[_0x3d1145(0x22a)](_0x382047,_0x2ff7bb)});_0xfe4482[_0x3d1145(0x315)](0xc9)[_0x3d1145(0x6f6)](_0x41d3c3);})[_0x7a4eed(0x361)](this[_0x7a4eed(0x605)](_0x7a4eed(0x6c5)),..._0x5b0a48,async(_0x540090,_0x4dda66)=>{const _0x1af348=_0x7a4eed;let _0xe3b74c=await this['groupValidate']({'request':_0x540090,'schema':li,'ClassRef':gt,'execute':(_0x15d4c8,_0x45725d)=>V['updateGroupPicture'](_0x15d4c8,_0x45725d)});_0x4dda66[_0x1af348(0x315)](0xc9)[_0x1af348(0x6f6)](_0xe3b74c);})[_0x7a4eed(0x361)](this[_0x7a4eed(0x605)]('groupDesc'),..._0x5b0a48,async(_0x87afe7,_0x327932)=>{const _0x5552b3=_0x7a4eed;let _0x21bd98=await this[_0x5552b3(0x5d8)]({'request':_0x87afe7,'schema':ui,'ClassRef':mt,'execute':(_0x25ca81,_0x3fcdb7)=>V[_0x5552b3(0x651)](_0x25ca81,_0x3fcdb7)});_0x327932[_0x5552b3(0x315)](0xc9)[_0x5552b3(0x6f6)](_0x21bd98);})[_0x7a4eed(0x361)](this[_0x7a4eed(0x605)]('groupName'),..._0x5b0a48,async(_0x42904c,_0x46d8bd)=>{const _0x454dea=_0x7a4eed;let _0x18cb31=await this[_0x454dea(0x5d8)]({'request':_0x42904c,'schema':di,'ClassRef':ft,'execute':(_0x24b58f,_0x5a6f27)=>V['groupName'](_0x24b58f,_0x5a6f27)});_0x46d8bd[_0x454dea(0x315)](0xc9)[_0x454dea(0x6f6)](_0x18cb31);})[_0x7a4eed(0x361)](this[_0x7a4eed(0x605)](_0x7a4eed(0x75e)),..._0x5b0a48,async(_0x133bd5,_0x419258)=>{const _0x25cc39=_0x7a4eed;let _0x3d3f65=await this[_0x25cc39(0x5d8)]({'request':_0x133bd5,'schema':hi,'ClassRef':yt,'execute':(_0x5ac70c,_0x20e4c6)=>V[_0x25cc39(0x75e)](_0x5ac70c,_0x20e4c6)});_0x419258[_0x25cc39(0x315)](0xc9)[_0x25cc39(0x6f6)](_0x3d3f65);})[_0x7a4eed(0x361)](this[_0x7a4eed(0x605)](_0x7a4eed(0x66f)),..._0x5b0a48,async(_0x4969,_0xdd1848)=>{const _0x28c3f4=_0x7a4eed;let _0x1670cb=await this['groupValidate']({'request':_0x4969,'schema':pi,'ClassRef':wt,'execute':(_0x1ade66,_0x26e09a)=>V[_0x28c3f4(0x66f)](_0x1ade66,_0x26e09a)});_0xdd1848[_0x28c3f4(0x315)](0xc9)['json'](_0x1670cb);})[_0x7a4eed(0x361)](this[_0x7a4eed(0x605)](_0x7a4eed(0x515)),..._0x5b0a48,async(_0x5acd12,_0x574faa)=>{const _0x563714=_0x7a4eed;let _0x5ec3ea=await this[_0x563714(0x5d8)]({'request':_0x5acd12,'schema':ci,'ClassRef':St,'execute':(_0x326855,_0x1972c6)=>V['toggleEphemeral'](_0x326855,_0x1972c6)});_0x574faa[_0x563714(0x315)](0xc9)[_0x563714(0x6f6)](_0x5ec3ea);})['get'](this[_0x7a4eed(0x605)](_0x7a4eed(0x584)),..._0x5b0a48,async(_0x1527a9,_0x390e06)=>{const _0x5d4e4b=_0x7a4eed;let _0x13f225=await this[_0x5d4e4b(0x5d8)]({'request':_0x1527a9,'schema':Pe,'ClassRef':ie,'execute':(_0x58cf6a,_0xbc00bc)=>V['findGroupInfo'](_0x58cf6a,_0xbc00bc)});_0x390e06[_0x5d4e4b(0x315)](0xc8)[_0x5d4e4b(0x6f6)](_0x13f225);})[_0x7a4eed(0x6c4)](this[_0x7a4eed(0x605)](_0x7a4eed(0x678)),..._0x5b0a48,async(_0x77c9a4,_0x275af7)=>{const _0x3c49e1=_0x7a4eed;let _0x360ca1=await this[_0x3c49e1(0x43c)]({'request':_0x77c9a4,'schema':v,'ClassRef':M,'execute':_0xa55eed=>V['findGroups'](_0xa55eed)});_0x275af7[_0x3c49e1(0x315)](0xc8)[_0x3c49e1(0x6f6)](_0x360ca1);})[_0x7a4eed(0x6c4)](this['routerPath'](_0x7a4eed(0x884)),..._0x5b0a48,async(_0x16730b,_0x297cac)=>{const _0x4a10e5=_0x7a4eed;let _0x13111d=await this[_0x4a10e5(0x5d8)]({'request':_0x16730b,'schema':Pe,'ClassRef':ie,'execute':(_0x506c8e,_0x403930)=>V['findParticipants'](_0x506c8e,_0x403930)});_0x297cac[_0x4a10e5(0x315)](0xc8)[_0x4a10e5(0x6f6)](_0x13111d);})['get'](this[_0x7a4eed(0x605)](_0x7a4eed(0x5c4)),..._0x5b0a48,async(_0x4c44e6,_0x403c67)=>{const _0x433cab=_0x7a4eed;let _0x222e7d=await this['groupValidate']({'request':_0x4c44e6,'schema':Pe,'ClassRef':ie,'execute':(_0x44b67c,_0x590855)=>V[_0x433cab(0x5c4)](_0x44b67c,_0x590855)});_0x403c67[_0x433cab(0x315)](0xc8)['json'](_0x222e7d);})['post'](this[_0x7a4eed(0x605)](_0x7a4eed(0x329)),..._0x5b0a48,async(_0xc63dd8,_0x54500c)=>{const _0x520669=_0x7a4eed;let _0x1accc5=await this['joinGroupValidate']({'request':_0xc63dd8,'schema':$s,'ClassRef':ke,'execute':(_0x2c0056,_0x1f8284)=>V[_0x520669(0x612)](_0x2c0056,_0x1f8284)});_0x54500c[_0x520669(0x315)](0xc9)[_0x520669(0x6f6)](_0x1accc5);})['put'](this[_0x7a4eed(0x605)](_0x7a4eed(0x7ae)),..._0x5b0a48,async(_0x542a41,_0x29ced6)=>{const _0x59719e=_0x7a4eed;let _0xabcf9a=await this[_0x59719e(0x8b9)]({'request':_0x542a41,'schema':$s,'ClassRef':ke,'execute':(_0x39cc86,_0x25cb0a)=>V[_0x59719e(0x7ae)](_0x39cc86,_0x25cb0a)});_0x29ced6[_0x59719e(0x315)](0xc9)[_0x59719e(0x6f6)](_0xabcf9a);})[_0x7a4eed(0x361)](this[_0x7a4eed(0x605)]('revokeInviteCode'),..._0x5b0a48,async(_0xf11ef6,_0x335047)=>{const _0x2a4032=_0x7a4eed;let _0x5ac1c3=await this[_0x2a4032(0x5d8)]({'request':_0xf11ef6,'schema':Pe,'ClassRef':ie,'execute':(_0x517397,_0x1b226c)=>V['revokeInviteCode'](_0x517397,_0x1b226c)});_0x335047['status'](0xc9)[_0x2a4032(0x6f6)](_0x5ac1c3);})[_0x7a4eed(0x361)](this[_0x7a4eed(0x605)](_0x7a4eed(0x785)),..._0x5b0a48,async(_0x5ce2de,_0x3d2493)=>{const _0x5d44c8=_0x7a4eed;let _0x185c67=await this[_0x5d44c8(0x5d8)]({'request':_0x5ce2de,'schema':ni,'ClassRef':bt,'execute':(_0x24e9af,_0x2687af)=>V[_0x5d44c8(0x529)](_0x24e9af,_0x2687af)});_0x3d2493['status'](0xc9)[_0x5d44c8(0x6f6)](_0x185c67);})[_0x7a4eed(0x2c1)](this[_0x7a4eed(0x605)]('leaveGroup'),..._0x5b0a48,async(_0x523838,_0x585562)=>{const _0x1fe921=_0x7a4eed;let _0x60c4bd=await this[_0x1fe921(0x5d8)]({'request':_0x523838,'schema':{},'ClassRef':ie,'execute':(_0x3a8f52,_0x4f246c)=>V[_0x1fe921(0x5f6)](_0x3a8f52,_0x4f246c)});_0x585562[_0x1fe921(0x315)](0xc8)[_0x1fe921(0x6f6)](_0x60c4bd);});}},wi=require(a0_0x53f180(0x41c)),Ct=class extends G{constructor(_0x44ab4e,..._0x1912de){const _0x4c6e4a=a0_0x53f180;super(),this[_0x4c6e4a(0x6f4)]=_0x44ab4e,this[_0x4c6e4a(0x5fb)]=(0x0,wi['Router'])();let _0x547255=_0x44ab4e['get'](_0x4c6e4a(0x41f));this[_0x4c6e4a(0x5fb)][_0x4c6e4a(0x78c)](_0x4c6e4a(0x1df),..._0x1912de,async(_0x485ec2,_0x4f209a)=>{const _0x597fac=_0x4c6e4a;let {instanceName:_0x544495,apikey:_0x5a81b2,number:_0x2356e8}=_0x485ec2[_0x597fac(0x3d3)],_0x55ccc1=await he[_0x597fac(0x78a)]({'instanceName':_0x544495,'apikey':_0x5a81b2,'number':_0x2356e8});return _0x4f209a[_0x597fac(0x315)](0xc9)['json'](_0x55ccc1);})[_0x4c6e4a(0x361)](this[_0x4c6e4a(0x605)](_0x4c6e4a(0x477)),..._0x1912de,async(_0x3d62a6,_0x220145)=>{const _0x590737=_0x4c6e4a;let _0x557c90=await this[_0x590737(0x43c)]({'request':_0x3d62a6,'schema':v,'ClassRef':M,'execute':_0x752425=>he[_0x590737(0x2ad)](_0x752425)});return _0x220145[_0x590737(0x315)](0xc8)[_0x590737(0x6f6)](_0x557c90);})[_0x4c6e4a(0x6c4)](this['routerPath'](_0x4c6e4a(0x8d1)),..._0x1912de,async(_0x17422a,_0x9d7867)=>{const _0x19bd81=_0x4c6e4a;let _0x36c209=await this['dataValidate']({'request':_0x17422a,'schema':v,'ClassRef':M,'execute':_0x397f75=>he[_0x19bd81(0x2c6)](_0x397f75)});return _0x9d7867[_0x19bd81(0x315)](0xc8)[_0x19bd81(0x6f6)](_0x36c209);})[_0x4c6e4a(0x6c4)](this['routerPath'](_0x4c6e4a(0x5bc)),..._0x1912de,async(_0x50f77f,_0x20b4fe)=>{const _0x304a76=_0x4c6e4a;let _0x457d0d=await this[_0x304a76(0x43c)]({'request':_0x50f77f,'schema':v,'ClassRef':M,'execute':_0x26863c=>he['connectionState'](_0x26863c)});return _0x20b4fe[_0x304a76(0x315)](0xc8)['json'](_0x457d0d);})['get'](this[_0x4c6e4a(0x605)]('fetchInstances',!0x1),..._0x1912de,async(_0x35acae,_0x3ade9e)=>{const _0x3c2952=_0x4c6e4a;let _0x3e1082=await this[_0x3c2952(0x43c)]({'request':_0x35acae,'schema':null,'ClassRef':M,'execute':_0x16148a=>he[_0x3c2952(0x623)](_0x16148a)});return _0x3ade9e['status'](0xc8)[_0x3c2952(0x6f6)](_0x3e1082);})[_0x4c6e4a(0x2c1)](this['routerPath'](_0x4c6e4a(0x27d)),..._0x1912de,async(_0x1e5578,_0x14ef61)=>{const _0x10588c=_0x4c6e4a;let _0x5a1ed3=await this['dataValidate']({'request':_0x1e5578,'schema':v,'ClassRef':M,'execute':_0x1a1343=>he['logout'](_0x1a1343)});return _0x14ef61[_0x10588c(0x315)](0xc8)[_0x10588c(0x6f6)](_0x5a1ed3);})[_0x4c6e4a(0x2c1)](this[_0x4c6e4a(0x605)](_0x4c6e4a(0x2c1)),..._0x1912de,async(_0x4b4988,_0x2b8e2a)=>{const _0x2b9d38=_0x4c6e4a;let _0x360f53=await this['dataValidate']({'request':_0x4b4988,'schema':v,'ClassRef':M,'execute':_0x20ada3=>he['deleteInstance'](_0x20ada3)});return _0x2b8e2a[_0x2b9d38(0x315)](0xc8)['json'](_0x360f53);});}},yi=require(a0_0x53f180(0x41c)),As=class{},Y=class extends As{},Et=class extends Y{},vt=class extends Y{},Nt=class extends Y{},$t=class extends Y{},Le=class extends Y{},Rt=class extends Y{},At=class extends Y{},It=class extends Y{},Tt=class extends Y{},Ot=class extends Y{},_t=class{},xt=class extends G{constructor(..._0x117436){const _0x403514=a0_0x53f180;super(),this[_0x403514(0x5fb)]=(0x0,yi[_0x403514(0x3ae)])(),this[_0x403514(0x5fb)][_0x403514(0x78c)](this[_0x403514(0x605)](_0x403514(0x2f8)),..._0x117436,async(_0x1308de,_0x3da19f)=>{const _0x3608a0=_0x403514;let _0x61291b=await this[_0x3608a0(0x43c)]({'request':_0x1308de,'schema':ka,'ClassRef':Et,'execute':(_0x28137c,_0xb5037b)=>H[_0x3608a0(0x2f8)](_0x28137c,_0xb5037b)});return _0x3da19f[_0x3608a0(0x315)](0xc9)[_0x3608a0(0x6f6)](_0x61291b);})[_0x403514(0x78c)](this[_0x403514(0x605)](_0x403514(0x4e9)),..._0x117436,async(_0x3600d3,_0x481039)=>{const _0x3e93c4=_0x403514;let _0x47999c=await this[_0x3e93c4(0x43c)]({'request':_0x3600d3,'schema':ja,'ClassRef':Le,'execute':(_0x3fb80d,_0x16f91e)=>H[_0x3e93c4(0x4e9)](_0x3fb80d,_0x16f91e)});return _0x481039[_0x3e93c4(0x315)](0xc9)[_0x3e93c4(0x6f6)](_0x47999c);})[_0x403514(0x78c)](this[_0x403514(0x605)](_0x403514(0x62a)),..._0x117436,async(_0xebe7d6,_0xd75b9c)=>{const _0x3e8e49=_0x403514;let _0x2cde29=await this['dataValidate']({'request':_0xebe7d6,'schema':Va,'ClassRef':$t,'execute':(_0x136bcb,_0x6cde90)=>H['sendMenu'](_0x136bcb,_0x6cde90)});return _0xd75b9c['status'](0xc9)[_0x3e8e49(0x6f6)](_0x2cde29);})[_0x403514(0x78c)](this[_0x403514(0x605)](_0x403514(0x706)),..._0x117436,async(_0x331478,_0x3cd208)=>{const _0x4ba5d1=_0x403514;let _0x16c089=await this[_0x4ba5d1(0x43c)]({'request':_0x331478,'schema':Ja,'ClassRef':Le,'execute':(_0x3aeb4b,_0x3fed28)=>H[_0x4ba5d1(0x706)](_0x3aeb4b,_0x3fed28)});return _0x3cd208[_0x4ba5d1(0x315)](0xc9)[_0x4ba5d1(0x6f6)](_0x16c089);})[_0x403514(0x78c)](this[_0x403514(0x605)](_0x403514(0x26c)),..._0x117436,async(_0x14684a,_0x6c7406)=>{const _0x3e2703=_0x403514;let _0x5ba5b5=await this[_0x3e2703(0x43c)]({'request':_0x14684a,'schema':Ga,'ClassRef':At,'execute':(_0x53e8ff,_0x323930)=>H[_0x3e2703(0x26c)](_0x53e8ff,_0x323930)});return _0x6c7406[_0x3e2703(0x315)](0xc9)[_0x3e2703(0x6f6)](_0x5ba5b5);})[_0x403514(0x78c)](this[_0x403514(0x605)](_0x403514(0x68c)),..._0x117436,async(_0x516a21,_0x55a722)=>{const _0x163283=_0x403514;let _0x153b3a=await this[_0x163283(0x43c)]({'request':_0x516a21,'schema':Ba,'ClassRef':It,'execute':(_0xc7eb61,_0x2a89ad)=>H[_0x163283(0x68c)](_0xc7eb61,_0x2a89ad)});return _0x55a722[_0x163283(0x315)](0xc9)[_0x163283(0x6f6)](_0x153b3a);})['post'](this[_0x403514(0x605)](_0x403514(0x4c9)),..._0x117436,async(_0x389229,_0x2974ad)=>{const _0x4ff353=_0x403514;let _0x5297e6=await this[_0x4ff353(0x43c)]({'request':_0x389229,'schema':Wa,'ClassRef':Tt,'execute':(_0x3cc2dc,_0x2036b4)=>H[_0x4ff353(0x4c9)](_0x3cc2dc,_0x2036b4)});return _0x2974ad['status'](0xc9)[_0x4ff353(0x6f6)](_0x5297e6);})[_0x403514(0x78c)](this[_0x403514(0x605)]('sendContact'),..._0x117436,async(_0x23afa1,_0x106fac)=>{const _0x5809e8=_0x403514;let _0x50a1d0=await this[_0x5809e8(0x43c)]({'request':_0x23afa1,'schema':za,'ClassRef':Ot,'execute':(_0x4e55f,_0x361605)=>H[_0x5809e8(0x679)](_0x4e55f,_0x361605)});return _0x106fac[_0x5809e8(0x315)](0xc9)[_0x5809e8(0x6f6)](_0x50a1d0);})[_0x403514(0x78c)](this[_0x403514(0x605)](_0x403514(0x4de)),..._0x117436,async(_0x42c469,_0x4cb26a)=>{const _0x4155d2=_0x403514;let _0x4c56a1=await this[_0x4155d2(0x43c)]({'request':_0x42c469,'schema':Ha,'ClassRef':_t,'execute':(_0x455ae6,_0x2b86b2)=>H[_0x4155d2(0x4de)](_0x455ae6,_0x2b86b2)});return _0x4cb26a['status'](0xc9)['json'](_0x4c56a1);})[_0x403514(0x78c)](this[_0x403514(0x605)]('sendPoll'),..._0x117436,async(_0x525e44,_0x550181)=>{const _0x3eb3b1=_0x403514;let _0x38598b=await this[_0x3eb3b1(0x43c)]({'request':_0x525e44,'schema':qa,'ClassRef':Nt,'execute':(_0x25e983,_0xb126ce)=>H[_0x3eb3b1(0x303)](_0x25e983,_0xb126ce)});return _0x550181['status'](0xc9)[_0x3eb3b1(0x6f6)](_0x38598b);})['post'](this[_0x403514(0x605)](_0x403514(0x89c)),..._0x117436,async(_0x5c203b,_0x2d300a)=>{const _0x19913a=_0x403514;let _0x47041e=await this[_0x19913a(0x43c)]({'request':_0x5c203b,'schema':Ua,'ClassRef':vt,'execute':(_0x4548a1,_0x3819bd)=>H['sendStatus'](_0x4548a1,_0x3819bd)});return _0x2d300a[_0x19913a(0x315)](0xc9)[_0x19913a(0x6f6)](_0x47041e);})[_0x403514(0x78c)](this[_0x403514(0x605)]('sendSticker'),..._0x117436,async(_0x527f94,_0x1dd317)=>{const _0x229015=_0x403514;let _0x3f79c6=await this['dataValidate']({'request':_0x527f94,'schema':Fa,'ClassRef':Rt,'execute':(_0x348d81,_0xf3ba2b)=>H[_0x229015(0x378)](_0x348d81,_0xf3ba2b)});return _0x1dd317[_0x229015(0x315)](0xc9)[_0x229015(0x6f6)](_0x3f79c6);});}},bi=require(a0_0x53f180(0x41c)),Dt=class{},Pt=class extends G{constructor(..._0x50c05b){const _0x5dad08=a0_0x53f180;super(),this[_0x5dad08(0x5fb)]=(0x0,bi[_0x5dad08(0x3ae)])(),this['router'][_0x5dad08(0x78c)](this[_0x5dad08(0x605)]('set'),..._0x50c05b,async(_0x571f41,_0x362ed7)=>{const _0x45adb4=_0x5dad08;let _0x4fa69a=await this['dataValidate']({'request':_0x571f41,'schema':gi,'ClassRef':Dt,'execute':(_0x1b0e6f,_0x1f8d8f)=>Is['createWebhook'](_0x1b0e6f,_0x1f8d8f)});_0x362ed7[_0x45adb4(0x315)](0xc9)[_0x45adb4(0x6f6)](_0x4fa69a);})[_0x5dad08(0x6c4)](this['routerPath']('find'),..._0x50c05b,async(_0x3f3fe4,_0x148e6e)=>{const _0x3aa713=_0x5dad08;let _0x148625=await this[_0x3aa713(0x43c)]({'request':_0x3f3fe4,'schema':v,'ClassRef':M,'execute':_0x3d6122=>Is[_0x3aa713(0x31a)](_0x3d6122)});_0x148e6e[_0x3aa713(0x315)](0xc8)['json'](_0x148625);});}},Si=require(a0_0x53f180(0x41c)),y=new $(a0_0x53f180(0x29b)),kt=class extends G{constructor(..._0x4855ba){const _0x52adeb=a0_0x53f180;super(),this[_0x52adeb(0x5fb)]=(0x0,Si[_0x52adeb(0x3ae)])(),this[_0x52adeb(0x5fb)][_0x52adeb(0x78c)](this[_0x52adeb(0x605)]('scheduleMessage'),..._0x4855ba,async(_0x4c50c1,_0x4c3f4e)=>{const _0x1c0b31=_0x52adeb;let _0x2b19e8=_0x4c50c1[_0x1c0b31(0x3d3)];y[_0x1c0b31(0x242)](_0x1c0b31(0x3e8)),y[_0x1c0b31(0x242)](_0x1c0b31(0x386)),y[_0x1c0b31(0x242)](_0x4c50c1[_0x1c0b31(0x3d3)]);let _0x13f80b=await this[_0x1c0b31(0x43c)]({'request':_0x4c50c1,'schema':v,'ClassRef':M,'execute':_0x634a4c=>T['editScheduleMessage'](_0x634a4c,_0x2b19e8)});_0x4c3f4e[_0x1c0b31(0x315)](0xc8)[_0x1c0b31(0x6f6)](_0x13f80b);})[_0x52adeb(0x6c4)](this[_0x52adeb(0x605)](_0x52adeb(0x726)),..._0x4855ba,async(_0x4c6ca7,_0x3ca0b5)=>{const _0x3af596=_0x52adeb;let _0x325a39=await this[_0x3af596(0x43c)]({'request':_0x4c6ca7,'schema':v,'ClassRef':M,'execute':_0x2b3fc6=>T[_0x3af596(0x854)](_0x2b3fc6)});_0x3ca0b5['status'](0xc8)[_0x3af596(0x6f6)](_0x325a39);})[_0x52adeb(0x2c1)](this['routerPath']('deleteDoneMessages'),..._0x4855ba,async(_0x13f050,_0x57858f)=>{const _0x53b965=_0x52adeb;y[_0x53b965(0x242)]('request\x20received\x20in\x20deleteDoneMessages');let _0xbc412=await this[_0x53b965(0x43c)]({'request':_0x13f050,'schema':v,'ClassRef':M,'execute':_0x31ffb5=>T[_0x53b965(0x3eb)](_0x31ffb5)});_0x57858f['status'](0xc8)[_0x53b965(0x6f6)](_0xbc412);})['post'](this[_0x52adeb(0x605)](_0x52adeb(0x2d8)),..._0x4855ba,async(_0x53fdf2,_0x526398)=>{const _0x17bac2=_0x52adeb;let _0x1530ba=_0x53fdf2['body'];y[_0x17bac2(0x242)](_0x17bac2(0x2b8)),y['verbose'](_0x17bac2(0x386)),y[_0x17bac2(0x242)](_0x53fdf2[_0x17bac2(0x3d3)]);let _0x53b5e3=await this[_0x17bac2(0x43c)]({'request':_0x53fdf2,'schema':v,'ClassRef':M,'execute':_0x55dcf4=>T['startFlow'](_0x55dcf4,_0x1530ba)});_0x526398['status'](0xc8)[_0x17bac2(0x6f6)](_0x53b5e3);})[_0x52adeb(0x6c4)](this[_0x52adeb(0x605)](_0x52adeb(0x7b8)),..._0x4855ba,async(_0x190e6e,_0x334b17)=>{const _0x47d272=_0x52adeb;y[_0x47d272(0x242)](_0x47d272(0x4df));let _0x18d7b6=await this[_0x47d272(0x43c)]({'request':_0x190e6e,'schema':v,'ClassRef':M,'execute':_0x4960a5=>T[_0x47d272(0x7b8)](_0x4960a5)});_0x334b17[_0x47d272(0x315)](0xc8)['json'](_0x18d7b6);})['get'](this[_0x52adeb(0x605)](_0x52adeb(0x50e)),..._0x4855ba,async(_0x4d0b1c,_0x302aa6)=>{const _0x5dc373=_0x52adeb;y[_0x5dc373(0x242)](_0x5dc373(0x4f9));let _0x50f20a=await this[_0x5dc373(0x43c)]({'request':_0x4d0b1c,'schema':v,'ClassRef':M,'execute':_0x178f23=>T[_0x5dc373(0x7b8)](_0x178f23)});_0x302aa6[_0x5dc373(0x315)](0xc8)[_0x5dc373(0x6f6)](_0x50f20a);})['post'](this[_0x52adeb(0x605)](_0x52adeb(0x364)),..._0x4855ba,async(_0x3060eb,_0x3d268c)=>{const _0x12618d=_0x52adeb;let _0x2f12d6=_0x3060eb['body'];y[_0x12618d(0x242)](_0x12618d(0x4ec)),y[_0x12618d(0x242)](_0x12618d(0x386)),y[_0x12618d(0x242)](_0x3060eb[_0x12618d(0x3d3)]);let _0xafc31b=await this[_0x12618d(0x43c)]({'request':_0x3060eb,'schema':v,'ClassRef':M,'execute':_0x3dcdea=>T[_0x12618d(0x364)](_0x3dcdea,_0x2f12d6)});_0x3d268c[_0x12618d(0x315)](0xc8)[_0x12618d(0x6f6)](_0xafc31b);})[_0x52adeb(0x78c)](this[_0x52adeb(0x605)](_0x52adeb(0x629)),..._0x4855ba,async(_0x196b10,_0x132cf5)=>{const _0x5c3982=_0x52adeb;let _0x5b0d9a=_0x196b10['body'];y[_0x5c3982(0x242)](_0x5c3982(0x3f8)),y[_0x5c3982(0x242)](_0x5c3982(0x386)),y[_0x5c3982(0x242)](_0x196b10[_0x5c3982(0x3d3)]);let _0x2802dc=await this[_0x5c3982(0x43c)]({'request':_0x196b10,'schema':v,'ClassRef':M,'execute':_0x27f719=>T[_0x5c3982(0x629)](_0x27f719,_0x5b0d9a)});_0x132cf5['status'](0xc8)[_0x5c3982(0x6f6)](_0x2802dc);})[_0x52adeb(0x78c)](this['routerPath'](_0x52adeb(0x297)),..._0x4855ba,async(_0x418917,_0xb3c083)=>{const _0x4b37ef=_0x52adeb;let _0x24e896=_0x418917[_0x4b37ef(0x3d3)];y[_0x4b37ef(0x242)](_0x4b37ef(0x30c)),y[_0x4b37ef(0x242)]('request\x20body:\x20'),y[_0x4b37ef(0x242)](_0x418917['body']);let _0x3d6cf5=await this[_0x4b37ef(0x43c)]({'request':_0x418917,'schema':v,'ClassRef':M,'execute':_0x1f484d=>T['updateAutoCompleteMessages'](_0x1f484d,_0x24e896)});_0xb3c083[_0x4b37ef(0x315)](0xc8)['json'](_0x3d6cf5);})[_0x52adeb(0x78c)](this[_0x52adeb(0x605)]('updateFlowConfig'),..._0x4855ba,async(_0x299ae9,_0x2186c5)=>{const _0x48a845=_0x52adeb;let _0x548c83=_0x299ae9[_0x48a845(0x3d3)];y[_0x48a845(0x242)]('request\x20received\x20in\x20updateFlowConfig'),y[_0x48a845(0x242)]('request\x20body:\x20'),y['verbose'](_0x299ae9[_0x48a845(0x3d3)]);let _0x4e8d79=await this[_0x48a845(0x43c)]({'request':_0x299ae9,'schema':v,'ClassRef':M,'execute':_0x26770d=>T['updateFlowConfig'](_0x26770d,_0x548c83)});_0x2186c5[_0x48a845(0x315)](0xc8)['json'](_0x4e8d79);})[_0x52adeb(0x78c)](this[_0x52adeb(0x605)](_0x52adeb(0x501)),..._0x4855ba,async(_0x595385,_0x2a7e5a)=>{const _0x38027b=_0x52adeb;let _0x2d51e9=_0x595385[_0x38027b(0x3d3)];y['verbose']('request\x20received\x20in\x20getConversation'),y[_0x38027b(0x242)](_0x38027b(0x386)),y['verbose'](_0x595385['body']);let _0x151ba6=await this[_0x38027b(0x43c)]({'request':_0x595385,'schema':v,'ClassRef':M,'execute':_0xdc3671=>T['getConversation'](_0xdc3671,_0x2d51e9)});_0x2a7e5a[_0x38027b(0x315)](0xc8)[_0x38027b(0x6f6)](_0x151ba6);})[_0x52adeb(0x78c)](this[_0x52adeb(0x605)]('fetchConversation'),..._0x4855ba,async(_0x21e4ed,_0x4a96be)=>{const _0x4ae72a=_0x52adeb;let _0x46e975=_0x21e4ed[_0x4ae72a(0x3d3)];y[_0x4ae72a(0x242)](_0x4ae72a(0x367)),y[_0x4ae72a(0x242)](_0x4ae72a(0x386)),y[_0x4ae72a(0x242)](_0x21e4ed['body']);let _0x37752a=await this[_0x4ae72a(0x43c)]({'request':_0x21e4ed,'schema':v,'ClassRef':M,'execute':_0x315892=>T[_0x4ae72a(0x840)](_0x315892,_0x46e975)});_0x4a96be['status'](0xc8)[_0x4ae72a(0x6f6)](_0x37752a);})[_0x52adeb(0x78c)](this[_0x52adeb(0x605)](_0x52adeb(0x8bd)),..._0x4855ba,async(_0xe7e182,_0x4f918f)=>{const _0x45e496=_0x52adeb;let _0x150c2a=_0xe7e182[_0x45e496(0x3d3)];y[_0x45e496(0x242)](_0x45e496(0x240)),y[_0x45e496(0x242)](_0x45e496(0x386)),y['verbose'](_0xe7e182[_0x45e496(0x3d3)]);let _0xc0c24b=await this[_0x45e496(0x43c)]({'request':_0xe7e182,'schema':v,'ClassRef':M,'execute':_0x3de506=>T[_0x45e496(0x8bd)](_0x3de506,_0x150c2a)});_0x4f918f[_0x45e496(0x315)](0xc8)[_0x45e496(0x6f6)](_0xc0c24b);})[_0x52adeb(0x2c1)](this[_0x52adeb(0x605)]('deleteConversation'),..._0x4855ba,async(_0xdb85ba,_0xde04f3)=>{const _0x52926c=_0x52adeb;let _0x401680=_0xdb85ba['body'];y[_0x52926c(0x242)]('request\x20received\x20in\x20deleteConversation'),y[_0x52926c(0x242)](_0x52926c(0x386)),y[_0x52926c(0x242)](_0xdb85ba['body']);let _0x3a2837=await this[_0x52926c(0x43c)]({'request':_0xdb85ba,'schema':v,'ClassRef':M,'execute':_0x1ff7ef=>T[_0x52926c(0x478)](_0x1ff7ef,_0x401680)});_0xde04f3[_0x52926c(0x315)](0xc8)[_0x52926c(0x6f6)](_0x3a2837);})[_0x52adeb(0x78c)](this[_0x52adeb(0x605)](_0x52adeb(0x72f)),..._0x4855ba,async(_0x2e1659,_0x4e8ffb)=>{const _0x1a66b5=_0x52adeb;let _0x2ebd11=_0x2e1659[_0x1a66b5(0x3d3)],_0x1ad120=_0x2e1659[_0x1a66b5(0x87b)][_0x1a66b5(0x3fb)];y[_0x1a66b5(0x242)](_0x1a66b5(0x747)),y[_0x1a66b5(0x242)](_0x1a66b5(0x386)),y[_0x1a66b5(0x242)](_0x2e1659[_0x1a66b5(0x3d3)]);let _0x40de18=await this[_0x1a66b5(0x43c)]({'request':_0x2e1659,'schema':v,'ClassRef':M,'execute':_0x83a75e=>T[_0x1a66b5(0x85b)](_0x83a75e,_0x2ebd11,_0x1ad120)});_0x4e8ffb[_0x1a66b5(0x315)](0xc8)[_0x1a66b5(0x6f6)](_0x40de18);})[_0x52adeb(0x78c)](this[_0x52adeb(0x605)](_0x52adeb(0x7c5)),..._0x4855ba,async(_0x56a7af,_0x3aaffc)=>{const _0x175a93=_0x52adeb;let _0x39b095=_0x56a7af[_0x175a93(0x3d3)],_0x10aad1=_0x56a7af[_0x175a93(0x87b)][_0x175a93(0x3fb)];y[_0x175a93(0x242)](_0x175a93(0x770)),y[_0x175a93(0x242)](_0x175a93(0x386)),y['verbose'](_0x56a7af[_0x175a93(0x3d3)]),delete _0x39b095[_0x175a93(0x680)],delete _0x39b095[_0x175a93(0x7e8)],delete _0x39b095[_0x175a93(0x6eb)],delete _0x39b095['conditions'];let _0x40f912=await this[_0x175a93(0x43c)]({'request':_0x56a7af,'schema':v,'ClassRef':M,'execute':_0x1df84b=>T[_0x175a93(0x22d)](_0x1df84b,_0x39b095,_0x10aad1)});_0x3aaffc['status'](0xc8)['json'](_0x40f912);})[_0x52adeb(0x78c)](this[_0x52adeb(0x605)](_0x52adeb(0x281)),..._0x4855ba,async(_0x2a7519,_0x51dd14)=>{const _0x276065=_0x52adeb;let _0x4a9790=_0x2a7519[_0x276065(0x3d3)];y[_0x276065(0x242)](_0x276065(0x770)),y[_0x276065(0x242)](_0x276065(0x386)),y[_0x276065(0x242)](_0x2a7519[_0x276065(0x3d3)]);let _0x70ed54=await this[_0x276065(0x43c)]({'request':_0x2a7519,'schema':v,'ClassRef':M,'execute':_0x22d9c3=>T[_0x276065(0x868)](_0x22d9c3,_0x4a9790)});_0x51dd14[_0x276065(0x315)](0xc8)['json'](_0x70ed54);})['post'](this['routerPath'](_0x52adeb(0x73f)),..._0x4855ba,async(_0x5b857b,_0x3a9c9a)=>{const _0x2815e2=_0x52adeb;let _0x346a10=_0x5b857b[_0x2815e2(0x3d3)];y[_0x2815e2(0x242)](_0x2815e2(0x770)),y[_0x2815e2(0x242)](_0x2815e2(0x386)),y[_0x2815e2(0x242)](_0x5b857b['body']);let _0x103602=await this[_0x2815e2(0x43c)]({'request':_0x5b857b,'schema':v,'ClassRef':M,'execute':_0x13619b=>T[_0x2815e2(0x5d0)](_0x13619b,_0x346a10)});_0x3a9c9a['status'](0xc8)[_0x2815e2(0x6f6)](_0x103602);})[_0x52adeb(0x78c)](this['routerPath'](_0x52adeb(0x1f4)),..._0x4855ba,async(_0x4c94ca,_0x22003b)=>{const _0x156b6e=_0x52adeb;let _0x53a6f1=_0x4c94ca[_0x156b6e(0x3d3)];y[_0x156b6e(0x242)](_0x156b6e(0x770)),y[_0x156b6e(0x242)](_0x156b6e(0x386)),y[_0x156b6e(0x242)](_0x4c94ca[_0x156b6e(0x3d3)]);let _0x8e8dcf=await this['dataValidate']({'request':_0x4c94ca,'schema':v,'ClassRef':M,'execute':_0x4a4674=>T[_0x156b6e(0x7bd)](_0x4a4674,_0x53a6f1)});_0x22003b[_0x156b6e(0x315)](0xc8)[_0x156b6e(0x6f6)](_0x8e8dcf);})[_0x52adeb(0x78c)](this[_0x52adeb(0x605)](_0x52adeb(0x3ad)),..._0x4855ba,async(_0x5e1c7c,_0x444e7b)=>{const _0x37c77b=_0x52adeb;let _0xb08a16=_0x5e1c7c[_0x37c77b(0x3d3)];y['verbose'](_0x37c77b(0x411)),y[_0x37c77b(0x242)]('request\x20body:\x20'),y[_0x37c77b(0x242)](_0x5e1c7c[_0x37c77b(0x3d3)]);let _0x179bb1=await this[_0x37c77b(0x43c)]({'request':_0x5e1c7c,'schema':v,'ClassRef':M,'execute':_0x4a39c7=>T['editFlowGroup'](_0x4a39c7,_0xb08a16)});_0x444e7b[_0x37c77b(0x315)](0xc8)[_0x37c77b(0x6f6)](_0x179bb1);})[_0x52adeb(0x78c)](this[_0x52adeb(0x605)]('editflowcondition'),..._0x4855ba,async(_0x397687,_0x17d403)=>{const _0xf9640f=_0x52adeb;let _0x5a8ce3=_0x397687[_0xf9640f(0x3d3)];y[_0xf9640f(0x242)](_0xf9640f(0x280)),y[_0xf9640f(0x242)](_0xf9640f(0x386)),y[_0xf9640f(0x242)](_0x397687[_0xf9640f(0x3d3)]);let _0x4eb9d8=await this[_0xf9640f(0x43c)]({'request':_0x397687,'schema':v,'ClassRef':M,'execute':_0x4db001=>T[_0xf9640f(0x1db)](_0x4db001,_0x5a8ce3)});_0x17d403['status'](0xc8)['json'](_0x4eb9d8);})[_0x52adeb(0x78c)](this[_0x52adeb(0x605)](_0x52adeb(0x819)),..._0x4855ba,async(_0x202764,_0x177b4f)=>{const _0x4dc0b5=_0x52adeb;let _0x30430f=_0x202764['body'];y[_0x4dc0b5(0x242)](_0x4dc0b5(0x734)),y[_0x4dc0b5(0x242)](_0x4dc0b5(0x386)),y[_0x4dc0b5(0x242)](_0x202764['body']);let _0x353b18=await this[_0x4dc0b5(0x43c)]({'request':_0x202764,'schema':v,'ClassRef':M,'execute':_0x16d2f5=>T[_0x4dc0b5(0x33e)](_0x16d2f5,_0x30430f)});_0x177b4f[_0x4dc0b5(0x315)](0xc8)['json'](_0x353b18);})[_0x52adeb(0x78c)](this[_0x52adeb(0x605)](_0x52adeb(0x3f6)),..._0x4855ba,async(_0x1bd0b2,_0x30474d)=>{const _0x2f6e9b=_0x52adeb;let _0x458ddb=_0x1bd0b2[_0x2f6e9b(0x3d3)];y[_0x2f6e9b(0x242)](_0x2f6e9b(0x392)),y[_0x2f6e9b(0x242)]('request\x20body:\x20'),y[_0x2f6e9b(0x242)](_0x1bd0b2[_0x2f6e9b(0x3d3)]);let _0x46b4f1=await this[_0x2f6e9b(0x43c)]({'request':_0x1bd0b2,'schema':v,'ClassRef':M,'execute':_0x2b7567=>T[_0x2f6e9b(0x646)](_0x2b7567,_0x458ddb)});_0x30474d[_0x2f6e9b(0x315)](0xc8)[_0x2f6e9b(0x6f6)](_0x46b4f1);})[_0x52adeb(0x2c1)](this[_0x52adeb(0x605)](_0x52adeb(0x5de)),..._0x4855ba,async(_0x206237,_0x2fdeb3)=>{const _0x16302c=_0x52adeb;let _0x2b8906=_0x206237[_0x16302c(0x3d3)];y[_0x16302c(0x242)](_0x16302c(0x6fb)),y['verbose'](_0x16302c(0x386)),y[_0x16302c(0x242)](_0x206237['body']);let _0x5715a5=await this[_0x16302c(0x43c)]({'request':_0x206237,'schema':v,'ClassRef':M,'execute':_0x48eb23=>T[_0x16302c(0x324)](_0x48eb23,_0x2b8906)});_0x2fdeb3[_0x16302c(0x315)](0xc8)[_0x16302c(0x6f6)](_0x5715a5);})[_0x52adeb(0x6c4)](this[_0x52adeb(0x605)](_0x52adeb(0x730)),..._0x4855ba,async(_0x2c199c,_0x57d8db)=>{const _0x178da2=_0x52adeb;y[_0x178da2(0x242)](_0x178da2(0x5a4));let _0x57a170=await this[_0x178da2(0x43c)]({'request':_0x2c199c,'schema':v,'ClassRef':M,'execute':_0x2f301d=>T[_0x178da2(0x3ac)](_0x2f301d)});_0x57d8db[_0x178da2(0x315)](0xc8)['json'](_0x57a170);});}},vi=A(require(a0_0x53f180(0x876))),oe={};function Mi(_0x20fe2d,_0x53650a,_0x546c24,_0x4b494b){oe[_0x20fe2d]||(oe[_0x20fe2d]={}),oe[_0x20fe2d][_0x53650a]={'id':_0x53650a,'response':_0x546c24,'events':_0x4b494b};}function Ci(_0x3b6a15,_0x20bb47){!oe[_0x3b6a15]||!oe[_0x3b6a15][_0x20bb47]||delete oe[_0x3b6a15][_0x20bb47];}function q(_0x4a0b2a,_0x366d4f,_0x15dc40){const _0x159452=a0_0x53f180;if(!oe[_0x4a0b2a])return;let _0x1ae024='data:\x20'+JSON[_0x159452(0x54f)](_0x15dc40)+'\x0a\x0a';Object[_0x159452(0x4ce)](oe[_0x4a0b2a])[_0x159452(0x313)](_0x3452a0=>{const _0x2629b9=_0x159452;_0x3452a0[_0x2629b9(0x7c9)][_0x2629b9(0x87c)](_0x366d4f)&&_0x3452a0['response'][_0x2629b9(0x371)](_0x1ae024);});}function a0_0x16d1(){const _0x4d5eed=['#d8e651','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','editFlowVaredit','sha256','authState','Cannot\x20','Falhou\x20ao\x20encontrar\x20chat\x20','endsWith','font','author','editflow','release','Selecione','reconnectAttempts','events','IPv6\x20address\x20removed:\x20','temp-','footerText','No\x20suitable\x20network\x20interface\x20found','changeVariables','Erro\x20ao\x20buscar\x20Schedule\x20Messages','@s.whatsapp.net','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','optionDescription','):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...','processScheduleFlow','saveCreds','atendimentoAberto','isInteger','Erro\x20ao\x20copiar\x20o\x20documento','):\x20Atualizando\x20status\x20da\x20mensagem\x20','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','processgoToFlow','setContext','\x20-i\x20','getClient','audio/ogg','gifPlayback','match_last_seen','archive','less','\x20mensagens\x20de\x20','ButtonsMessage','varedit','variables','findParticipants','stopMinutes','pairingCode','next_groupId','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','startsWith','loadEnv','createHash','Deleted\x20','group','\x20\x1b[0m','Filtered\x20network\x20interfaces:\x20','):Type\x20defined\x20as\x20audio','Instance\x20\x22','getPrototypeOf','updateMissingEtiquetas','Telefone:\x20','READ','Network\x20Interface\x20detected:\x20','scheduleSendAudio','):\x20Nenhuma\x20mensagem\x20encontrada\x20para\x20envio','reconnectTimestamps','):\x20Iniciando\x20bot...','errorLog','Not\x20Found','toUpperCase','every','mentions','close','videoMessage','buffer','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','CHATS_DELETE','notEmpty','):\x20Rótulo\x20atualizado:\x20','CHATS_UPSERT','\x20não\x20encontrado\x20para\x20cópia','cleanDisconnectedInstances','REDIS_PREFIX_KEY','hex','joinApprovalMode','):\x20alterando\x20this.AutomateSystem','):\x20Entrou\x20na\x20função\x20scheduleFlow','cacheInstanceModel','processclearVariables','HOST','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','lean','editflowvariable','uazapiSendAudio','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','Instance\x20ID:','inner','pollOnReplyDelete','matchRegex','Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20edição.','Limpando\x20logs\x20do\x20PM2...','fetchChats','Error\x20finding\x20many\x20contacts:','replyOption','.wav','Nenhum\x20participante\x20válido\x20encontrado.','):\x20Editando\x20condição\x20do\x20fluxo...','):\x20Entrou\x20na\x20função\x20processawaitSeconds','SEND_MESSAGE','\x20atualizado\x20com\x20sucesso.\x20Ação:\x20','http','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','message','AUTHENTICATION_API_KEY','_Messages','Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode','groupParticipantsUpdate','modifiedCount','isCommunity','https://ipv6.jsonip.com','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','Detalhes\x20do\x20erro:','max','DELIVERY_ACK','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','createWebhook','KEY','toLowerCase','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','this.reconnectAttempts:\x20','evaluateConditionTest','fetchConversation','text/event-stream','normalizeMessageContent','goNextblock','bearer','muteEndTime','12zRfHQh','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','warn','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','groupadd','exec','Connection\x20closed\x20for\x20instance:\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','pm2\x20flush','scheduleSendMedia','namespace','_FlowHistorico','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','getScheduleMessage','apirequest','):\x20error:\x20','readMessageBot','\x1b[1m','cache','!stop','createFlow','waitingMenu_replyOptions','updateStopChat','deleteOne','\x0a*Você\x20respondeu*:\x0a','automateSystem','key','profilePicture',',\x20resultado:\x20','loggedOut','statusCode','admin','445sTMYih','editFlowBlock','bodyStringErrorParse','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','#d3a91f','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem','updateGroupParticipantsWebhook','Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.','AddUserFlow','):Audio\x20converted\x20and\x20stored\x20in\x20cache','lastReceivedMessage','/clients-info','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','random','CONECTADO\x20À\x20UAZAPI','path','Erro\x20ao\x20arquivar\x20chat','isListOfNumbers','Chat\x20com\x20ID\x20','fetchProfilePicture','headers','includes','stopIfLastReturnedError','remoteJid','notEqual','readFile','\x20:\x20','CONTACTS_UPSERT','locationMessage','participants','messageTimestamp','g-t','urlOrBase64','preview','updateProfilePicture','HH:mm:ss','encoding','Fluxo\x20id\x20\x27','locked','):\x20Alterando\x20fluxo...','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','redis','deletedCount','CLEANING_INTERVAL','OrAnd','instanceInfo','mentioned','has','addBlock','sharp','editChat','sendStatus','):\x20whoCanEdit\x20before\x20validation:\x20','chats.set','Valor\x20da\x20URL\x20recuperada:','contains','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','subjectTime','chatLog','SERVER_TYPE','ENABLED','CORS_CREDENTIALS','userDevicesCache','Erro\x20ao\x20iniciar\x20fluxo:\x20','subject','result','\x5c$&','StatusJidList\x20is\x20required','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','):\x20Criando\x20fluxo...','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','eventHandler','.ppt','readdirSync','):\x20Process\x20UUID\x20já\x20definido.\x20Saindo\x20da\x20função.','joinGroupValidate','TYPE','listResponseMessage','assign','editConversation','URL','chatId','model','importChatsBatch','Message','deleteMessageForEveryone','documentMessage','reorderReplyOptions','endSession','VERBOSE','rowId','Esse\x20fluxo\x20expirou','This\x20name\x20','groupLeave','):\x20Criando\x20nova\x20conversa[createNewConversation]','authentication','ScheduleMessage','choices','output','connect',',\x20valor\x20passado:\x20\x22','SSL_CONF','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','messageSecret','\x0aFN:','string','reduce','.pdf','The\x20global\x20api\x20key\x20must\x20be\x20set','originalUrl','cors','./.git/config','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','telefone','readreceipts','pollErrorMessage','basename','\x20não\x20encontrado\x20para\x20atualização.','message_normalized','-instances','DisconnectReason','longitude','):\x20Fluxo\x20\x27','#83e421','3EB0','dbServer','local_map','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','\x20com\x20sucesso.','):\x20Editando\x20mensagens\x20no\x20grupo...','):\x20Editando\x20bloco...','setNewValue','CONTACTS_UPDATE','_Labels','getDelay','utf8','Database\x20update\x20result:','ChatRouter','\x1b[33m%s\x1b[0m','):\x20Ignoring\x20group\x20messages.','http://checkip.dyndns.org','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','responsavelid','useMultiFileAuthState','\x20segundos','src','out','cpf','):\x20conversation.lastInteraction:\x20','\x22\x20-\x20REMOVED','decryptPollVote','chats','waInstances','AUTHENTICATION_JWT_EXPIRIN_IN','goToFlow','compression',',\x20Comparador:\x20','pollMessage','):Output\x20path:\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','isLong','remove.instance','replacer','jwt','contact_blacklist','ReplyOption\x20com\x20ID\x20','getStatus','add','GROUPS_UPSERT','findLabels','ListType','updateMessage','descId','mongodb://','extractRegex','protocolMessage','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','):\x20Editando/criando\x20grupo\x20de\x20mensagens...','pop','SendScheduleMessage','):\x20debug\x20alterando\x20this.AutomateSystem','):\x20Limpando\x20delayMessage','/instance/create','sendAudio','repository','__esModule','ms\x20(tentativa\x20','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','noConnection','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','uazapiSendText','flowConversation','saveTextReply','):\x20Query\x20params:\x20','Erro\x20ao\x20deletar\x20mensagens:','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','lastSendMessage','Garbage\x20collection\x20não\x20está\x20disponível.','Network\x20interfaces\x20detected:\x20','editFlowCondition','express-async-errors','data:\x20','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','/create','unavailable',',\x20global:\x20','Retornando\x20grupos\x20COM\x20cache','autoCompleteMessages.command','process','prototype','CONNECTION','Generated\x20IPv6:\x20','whatsappNumber','No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface','):\x20Conversa\x20inserida\x20com\x20sucesso.','view\x20engine','toDataURL','fileLength','URI','replace','waUploadToServer','vote','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','\x1b[36m%s\x1b[0m','editflowvaredit','cachedContact','error','createClient','findFlow','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','state','capitalizedWords','CacheContacts\x20database\x20connection\x20closed.','sendPresenceUpdate','stateConnection','when','online','*\x0a\x0a','findIndex','picture','object',',\x20qrcodeCount:\x20','Flow\x20iniciado\x20com\x20','\x1b[43m','empty','blockLogs','stopWhenYouSendMsg','):\x20Erro\x20durante\x20a\x20atualização:\x20','):\x20updateResult:','count','\x20saindo\x20da\x20função','abs','stdout','throwAndLogError','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','processConditions','Erro\x20ao\x20atualizar\x20conversa:\x20','uazapi','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','):\x20Grupos\x20de\x20mensagens\x20com\x20status\x20\x22done\x22\x20deletados\x20com\x20sucesso.','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','displayName','g.us','redisEnv','contacts.upsert','uncaughtException','user','processUazapi','IP\x20mismatch:\x20configured\x20','testingWith','Cache-Control','pollCreationMessageV2','onTime','contacts.update','website','removeProfilePicture','createGroup','/64\x20dev\x20','contactsArrayMessage','editFlow','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','groupRevokeInvite','no-cache','):\x20expirationTime:\x20','$pull','/exit','^\x5cd+','toBrazilianNumberFormat','):Image\x20created','Início','Conversa\x20deletada\x20com\x20sucesso.','bodyString','resetReconnectionVariables','processApiRequest','isJidBroadcast','minutesToClose',',\x20lastCondition:\x20','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','request\x20received\x20in\x20editConversation','all','verbose','EMAIL','apiResponse','/wa-qrcode','groupHandler','Close\x20connection','silent','sim','.webp','Erro\x20ao\x20atualizar\x20AutomateSystem:','Instância\x20não\x20encontrada.','updateProfileName','mediaSticker','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','requestPairingCode','\x0a{\x20instance:\x20','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','drop','chat','\x5cd+','blockId','verifyWhatsAppNumber','.txt','contact','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','LOG_LEVEL',',\x20canSendMessage:\x20','):\x20this.client.authState.creds?.myAppStateKeyId:\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','/media','join','fetchProfilePictureUrl','contactMessage','Font\x20is\x20required','GROUPS_UPDATE','wuid','format','):\x20UUID\x20do\x20processo\x20não\x20corresponde,\x20parando\x20processamento.','binary','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','cacheContactModel','config','sendButtons','startCommand','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','Novo\x20IP\x20criado:\x20','):Desconectado,\x20parando\x20execução.','instance.','):\x20whoCanEdit\x20after\x20validation:\x20','archived','options','CORS_METHODS','):\x20Criando\x20fluxo\x20compartilhado...','privacySettings','creds','\x1b[44m','length','Read\x20messages','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','logout','flush','defineProperty','request\x20received\x20in\x20editFlowcondition','editflowblock','):\x20isVote:\x20','exports','Falha\x20ao\x20criar\x20IPv6.','owner','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','replaceVariables','24SLYKKC','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','Safari','inet6','removeIPv6ById','groupSettingUpdate','):Getting\x20image\x20from\x20url','delaySecMax','processUUID','DaysToDelete','\x27\x20não\x20encontrado\x20na\x20memória','refused','editFlowGroup','pendingMessages','spawn','updateAutoCompleteMessages','leadInfo.customFields','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','desativadoFluxoAte','FlowRouter','deleteImportedChat','synchronizeAndMapFlows','collections','/instance/delete','Error\x20testing\x20IP\x20with\x20','\x1b[0m','importChats','https','PRODUCT_LIST','convertaudioMP3','REDIS','pushName','?authSource=admin&readPreference=primary&directConnection=true','@redis/client','mimetype','indexOf','response','restartInstance','):\x20Entrou\x20na\x20função\x20clearVariables','trim','selectedOptions','\x1b[33m\x1b[1m','child_process','3559413darnxr','):\x20Conversa\x20atualizada\x20em\x20memória','Erro\x20ao\x20atualizar\x20o\x20flow.','global','.TEL;waid=','request\x20received\x20in\x20starFlow','Partes\x20do\x20domínio:','autoCompleteMessages','Subdomínio\x20final:','document','.type','use','editScheduleMessage','remoteJids','delete','SERVER_ACK','creation','isBase64','113034TSKEOX','connectToWhatsappController','\x1b[37m%s\x1b[0m','console','Flow\x20iniciado','Erro\x20ao\x20executar\x20bulkWrite:','AutomateSystem\x20não\x20foi\x20inicializado','Mac\x20OS','selectableCount','Fluxo\x20\x27','integer','Erro\x20ao\x20buscar\x20o\x20fluxo','addReplyOption','class-validator','authService','createConversationforgoToFlow','subjectOwner','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','_sender','startFlow','contextInfo','role','Fluxo\x20não\x20encontrado\x20na\x20memória.','checkAndRestartProcess','https://v6.ident.me','hSet','):\x20Falha\x20ao\x20deletar\x20mensagem.','unreadCount','Error\x20while\x20deleting\x20message\x20for\x20everyone','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','Erro\x20ao\x20aplicar\x20varedit:\x20','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','toFile','contacts','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','admin_add','data','email','):\x20delete\x20=\x20true','flowStopConversation','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','updatePrivacySettings','E-mail:\x20','insert','last','PORT','Número\x20não\x20possui\x20WhatsApp.','findOrCreate','variable','Variável\x20não\x20encontrada!','sendText','flowActive','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','save','/wa-contacts','conditions','sendCommand','0123456789ABCDEF','):Processing\x20audio','findAndUpdateCacheContact','InstancesAlterarTodas','sendPoll','markMessageAsRead','Instance\x20logged\x20out','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','DATABASE_CONNECTION_URI','Module\x20-\x20ON','-whatsapp-api','pollUpdateMessage','networkInterface','request\x20received\x20in\x20updateAutoCompleteMessages','expression','stderr','mongoose','getChatModelForOwner','.gif','messageStubParameters','forEach','dbInstance','status','keep-alive','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','scheduleNextCheck','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','findWebhook','notas','RemoveChatLabel','saveChatVariables','approve','PRESENCE_UPDATE','DOCKER_ENV','connectToWhatsapp','FlowController','fileName','deleteFlow','groups_ignore','updateProfileStatus','/wa-chats','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','inviteCodeDetails','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','image','delayChatLabel_MAX_RETRIES','off','buttons','PENDING','notContains','qrcode.updated','STORE','listen','env.KEY\x20!==\x20key','AutomateSystem','Types','Flow\x20\x27','delayChatLabel_RETRY_DELAY_MS','reactionMessage','Erro\x20ao\x20buscar\x20fluxos:','_fromMe','verify','truncatedto','editFlowVariable','fetchStatus','\x20inseridos\x20no\x20banco\x20de\x20dados...','logger','\x1b[32m%s\x1b[0m','\x20minutos\x20verificará\x20novas\x20mensagens','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','updateMediaMessage','/instance/fetchInstances','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','pollCreationMessageKey','DB_PREFIX_NAME','load','convertToWebP','):\x20Comando\x20desconhecido:\x20','p-queue','8080','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','messages.set','pt-BR','):Notifying\x20clients\x20for\x20chat:\x20','filter','Pausado\x20por\x20','announcement','https://chat.whatsapp.com/','qrCode','Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20','truncatedtoEnd','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','Parando\x20aplicação...','File\x20written\x20to\x20path:\x20','hDel','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','/wa-connection-update','\x1b[32m','put','Error\x20in\x20scheduleNextCheck:\x20','apiName','updateAgent','status.instance','getMIMEType','request\x20received\x20in\x20fetchConversation','.mp4','Request\x20Body:','mediaKey','reorderBlocks','params','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','):\x20Enviando\x20enquete','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','):\x20ev.flush\x20realizado','write','isAdmin','number','\x20foi\x20interrompido\x20pelo\x20usuário.','CHATS_SET','floor','messages.upsert','sendSticker','_pushName','startID','agents','rows','fetchProfile','):\x20Deletando\x20conversa...','):\x20Buscando\x20todos\x20os\x20fluxos...','writeData','API_KEY','content-type','ini','../env.yml','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','request\x20body:\x20','globalShow','):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27','fullName','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','):\x20Query\x20params:','replaceVariablesInObject','URL:','updateGroupWebhook','default','request\x20received\x20in\x20getFlow','findMany','idSchedule','block','pow','^\x5cd+([-]\x5cd+)*@g.us$','Removidas\x20as\x20variáveis:\x20','normalizeMessage','createConversationforStartFlow','Fluxo\x20agendado\x20pelo\x20fluxo\x20','instancias:\x20','removeInstance','NextBlock','applyvaredit','pictureUrl','@whiskeysockets/baileys','Configuração\x20SSL\x20recuperada:','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','DEBUG','50mb','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','):Image\x20is\x20base64','allFlows','editflowgroup','Router','method','replaceVariablesChat','varedits','groupUpdateDescription','Not\x20is\x20business\x20profile','deleteMany','):\x20Buscando\x20conversa...','Mensagens\x20deletadas\x20com\x20sucesso.','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','getBase64FromMediaMessage','mkdirSync','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','header','\x20}\x0a','findContacts','Erro\x20ao\x20editar\x20a\x20conversa','Comando\x20desconhecido','error_log','reorderMessages','jpegThumbnail','USER','menuMessage','?timestamp=','newValue','ephemeralExpiration','stack','presence.update','deviceSentMessage','LEVEL','ipv6Prefix','exit','label_jid','webhookMap','recording','statusJidList','body','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','match','tags','isJWT','timeout','fora\x20do\x20git','value','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','fetchBusinessProfile','\x20adicionado\x20ao\x20chat\x20','findGroupInfo','ip:\x20','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','Invalid\x20format','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','Schema','finish','Type\x20is\x20required','request\x20received\x20in\x20scheduleMessage','findGroupsEspecial','editMessagesInGroup','deleteDoneMessages','Erro\x20desconhecido\x20ao\x20deletar\x20grupos\x20de\x20mensagens','writeFileSync','MESSAGES_UPDATE','awaitingApproval','groupJoinApprovalMode','digest','auth','!cmd_','\x20não\x20encontrado','LOG','getflow','fetchPrivacySettings','request\x20received\x20in\x20updateCustomFields','\x20minutos','groupToggleEphemeral','apikey','validate','findConversation','processblock','updateReadReceiptsPrivacy','detectIPv6PrefixAndInterface','\x27\x20não\x20encontrado','uuid','sendMessageAck','getLabelModelForOwner','jsonschema','catch','folder','):\x20Mensagens\x20prontas\x20para\x20envio\x20encontradas:\x20','presenceSubscribe','execSync','getMessage','\x22\x20-\x20NOT\x20CONNECTION','last_update','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','All_Instances_Config','Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.','request\x20received\x20in\x20editFlowgroup','slice','editOperator','insertMany','#b4ebff','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','\x22\x20cannot\x20be\x20empty','archiveChat','connectionStatus','desc','urlencoded','express','connectionUpdate','WA\x20MODULE','AUTHENTICATION','item','processingGroup','where','\x1b[30m','Rótulo\x20deletado:\x27,\x20','\x20contacts','Erro\x20inesperado\x20em\x20processvaredits:\x20','fetchContacts','username',',\x20saindo.','):\x20Editando\x20grupo\x20do\x20fluxo...','):\x20Fluxos\x20não\x20estão\x20ativados','writeFile','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','dbConnection','leadInfo.','PLAYED','):\x20\x27Enviando\x20mídia\x20para\x20\x27','Missing\x20global\x20api\x20key','Internal\x20Server\x20Error','updateProfilePicturePrivacy','call','/instance/connectionState','request_time','$addToSet','unlinkSync','}}\x20->\x20valor\x20não\x20encontrado','connecting','dataValidate','lastRealGroupsFetch','equal','instanceName\x20not\x20provided.','):Error\x20in\x20converting\x20audio','https://github.com/uazapi/uazapi.git','\x20Tentativa\x20de\x20reconexão\x20','\x1b[41m','deleteBlock','/config','set','errors','):\x20Enviando\x20áudio','IPv6\x20addresses\x20detected:\x20','Instance\x20restarted','SERVER_OFFLINE','findAll','dbSettings','):\x20transformedCustomFieldVariables','):\x20Conversa\x20está\x20expirada\x20-\x20voto','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','label','_id','toBRL','GUARD','):\x20teve\x20mudanças\x20chat.archived:\x20','FULLCHAIN','from','sem\x20texto\x20na\x20mensagem','[AUTH]\x20Database\x20is\x20not\x20enabled','description','):Business\x20profile\x20fetched','all_member_add','\x20depois\x20','):\x20Label\x20',',\x20Minutes\x20to\x20Close:\x20','PROXY','uazapiDeleteMessage','Erro\x20ao\x20editar\x20agentes','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','isURL','ContactModel','oldToken','code','messageContextInfo','mediatype','not_announcement','getUniqueFlowName','beautifyWithPlaceholders','):\x20Conversa\x20está\x20expirada','The\x20property\x20cannot\x20be\x20empty','then','readMessage','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','https://ifconfig.me/ip','):Audio\x20processed','fromMe','/events/:instance','):\x20Enviando\x20mídia','restart','deleteConversation','find','#ffc5c7','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','flattenObject','instances','available','/wa-message','getBusinessProfile','DATABASE_CONNECTION_PASSWORD','getDevice','DELETED','saveMediaToFile','some','url','shift','open','createJid','stanzaId','_Contacts','stopMinutesMaxActives','replyOptions','#ffae04','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','created','eventEmitter','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','delaySecMin','menuExpiredMessage','WARN','formatBRNumber','audio/ogg;\x20codecs=opus','Error\x20removing\x20IPv6\x20address:\x20','retrySendMessage','width','deleteReplyOption','removeData','Subdomínio\x20extraído\x20da\x20URL:','Erro\x20ao\x20deletar\x20chat:','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','.ogg','lastCondition','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','editedMessage','STORE_MESSAGE','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','proxy:\x20','cachedData-whatsapp','processPollUpdateMessage','delay','):including\x20timestamp\x20in\x20url:\x20','updateLastSeenPrivacy','.xlsx','readFileSync','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','unknown\x20operation\x20type\x20[','WebhookGlobal','delayMessage','revokeInviteCode','sections','deleted','substring','secondValue','createSectionsFromValues','Erro\x20ao\x20normalizar\x20a\x20mensagem:','1367451AehQuA','):\x20mediaMessageInfoId\x20:\x20','sendDataWebhook','Tentando\x20reconectar...','):\x20newSecondValue\x20após\x20replaceVariables:','announce','connectedClient','isCommunityAnnounce','):\x20Buscando\x20flow,\x20id:\x20','video','connectionClosed','array','detail','SECRET','sendList','groupMemberAddMode','createServer','buttonMessage','hasOwnProperty','values','imageMessage','):\x20tem\x20blocks','sending','scheduled','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','getLastMessage','Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão','Erro\x20ao\x20inserir\x20chats:','send.message','autoCompleteMessages.command_1','log','delAll','getValidWhatsAppNumbers','public','lastFetchAwaitingApproval','sendReaction','request\x20received\x20in\x20getAutomateSystem','upsertedCount','stickerMessage','badSession','END:VCARD','findMessages','ObjectId','ff:fe','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','Enter\x20a\x20value\x20in\x20milliseconds','sendMedia','undefined','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','request\x20received\x20in\x20updateAgent','Operador:\x20\x22','realVariables','reviver','addMessagesToGroup','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','):\x20Limpando\x20AutomateSystem','Instance\x20Name:','vcard','):\x20Error\x20processing\x20the\x20block:\x20','groups.update','base64','replaceValue','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','Esse\x20fluxo\x20não\x20permite\x20importação.','\x1b[31m','/wa-all-message','menuIgnoreNonVotes','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','Instance\x20deleted','leadInfo','getConversation','configureIPv6','chatHandle','Error\x20updating\x20message\x20status:','processawaitSeconds','onWhatsApp','ephemeralMessage','):\x20Grupo\x20','long','pre','waitingMenu_id','Error\x20writing\x20file:\x20','sleep','getTicketSystem','TEXT','Connection','Button\x20IDs\x20cannot\x20be\x20repeated.','storePath','update','):\x20Editando\x20variável\x20do\x20fluxo...','toggleEphemeral','Deletion\x20failed','audio','chats.delete','getConversationModelForOwner','TEL','Conexão\x20estabelecida','376582yQotKf','awaitSeconds','Database\x20is\x20not\x20enabled','#01d0e2','deleteAll','isConnected','MESSAGES_UPSERT','waitingMenu_text','Erro\x20ao\x20importar\x20chats','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','existsSync','#ff9484','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','updateGParticipate','Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.','Bad\x20Request','BRL','media','Imagem\x20não\x20encontrada','/startFlow/:instance/:startID','ON\x20-\x20dbName:\x20','enabled','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','creds.update','startFlowWebhook','Não\x20respondeu\x20com\x20a\x20enquete.','messages.update','inviteUrl','condition','Não\x20é\x20possível\x20editar\x20um\x20grupo\x20de\x20mensagens\x20que\x20está\x20em\x20processamento.','):Trying\x20to\x20get\x20business\x20profile','query','):\x20Criou\x20conversa\x20no\x20startFlow','greater','color','):Hash\x20to\x20image\x20name:\x20','STORE_CONTACTS','docker','cachedContacts-whatsapp','DD/MM\x20HH:mm:ss','convertToString','\x27\x20removido\x20do\x20AutomateSystem.','defineAuthState','updateChatWithMessage','Error\x20parsing\x20JSON:','promisify','Erro\x20ao\x20editar\x20o\x20bloco:\x20','updateConversation','conversation','copyBlock','remove','stringify','\x27...','upsertChats','fromObject','CONTACTS_SET','statusMessage','PASSWORD','getContentType','oldValue','views','.xls','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','groupId','messageType','flowStopMinutes','Error\x20fetching\x20and\x20updating\x20profile:\x20','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','info','Dados\x20inválidos\x20para\x20edição\x20de\x20mensagens\x20no\x20grupo.',',\x20pairCode:\x20','):\x20Usando\x20extensão\x20padrão:\x20','CONNECTION_UPDATE','getContactModelForOwner',',\x20valor\x20a\x20encontrar:\x20\x22','content','SERVER','group-participants.update','IPv6\x20Prefix\x20detected:\x20','processConditionsTest','438927WNippI','Atualização:\x20','updatePresence','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','padStart','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','ListMessage','headerString','AddChatLabel','height','messageHandle','trimmed','env','Erro\x20ao\x20atualizar\x20cacheInstance:','downloadMediaMessage','):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20','https://','uazapiSendMedia','1180uSQQqY','apply','send','updateBlock','del','\x1b[47m','findGroupInfos','):\x20Going\x20to\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','IPv6\x20recriado\x20após\x20falhas\x20de\x20reconexão.','statSync','localWebhook','Error\x20removing\x20unused\x20chat\x20fields:','BufferJSON','bulkWrite','ip\x20-6\x20addr\x20del\x20','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','.mp3','AutomateFunctions','createAndSave','jsonwebtoken','isRunning','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','):Fetching\x20business\x20profile','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','debug','instanceKeys','contactHandle','uazapiSendMenu','CORS','mongodb','createIPv6','loadWebhook','setUpdate','pollCreationMessage','.jwt','option','deleteInstance','request\x20received\x20in\x20allFlows','unreadcount','command','.extension','store','):\x20Editando\x20replyOption...','800FtWnOS','messaging-history.set','groupdata','):\x20\x27Enviando\x20audio\x20para\x20\x27','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','valid','size','chat\x20não\x20encontrado','evaluateCondition','firstValue','.ogv','deleteChat','.png','imported','canSendMessage','instanceCount','envYaml','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','connectionState','map','clearVariables','mediaMessage','contentText','chatModify','.\x20Pulando.','findGroup','inviteCode','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','jid','dbClient','variablesToObject','):\x20newFirstValue\x20após\x20replaceVariables:','\x20ao\x20chat\x20','generate','):\x20Bloco\x20original\x20para\x20cópia:\x20','--------------------------------------','ERROR','editFlowReply','groupCreate','emit','presence','replaceVariablesInReplyOptions','ContactsAndGroups','Número:\x20','start','groupValidate','list','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','lastSend','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','deleteflow',',\x20isAdmin:\x20','loadInstance','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','scheduleSendText','dropCollection','):Temp\x20image\x20deleted','cleaningUp','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','not\x20loaded','arraybuffer','updateOne','linkPreview','.mimetype','createConnection','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','DATABASE_CONNECTION_DB_PREFIX_NAME','sort','flowIgnoreGroups','repeat','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','https://uazapi-plugin.bubbleapps.io/','@broadcast','leaveGroup','randomBytes','testIPv6','lastUpdate','documentWithCaptionMessage','router','keyPattern',']\x20(','saveConversationToDatabase','Erro\x20ao\x20alterar\x20privacidade','getVariablesChat','uazapiSendLocation','Error\x20fetching\x20group','convertedOptions','stopped','routerPath','updateGParticipant','downloads','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','Erro\x20na\x20função\x20updateChatWithMessage:\x20','):\x20[messages.upsert]\x20group\x20ignored','Logger','\x1b[33m','):\x20Flow\x20\x27','):Sending\x20audio\x20whatsapp','labelId','Authentication\x20error','Falta\x20informação\x20para\x20a\x20chamada\x20API','groupGetInviteInfo','removed','):\x20Entrou\x20na\x20função\x20stop','entries','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','splice','):\x20[messages.update]\x20group\x20ignored','.svg','#dfaef0','generateHash','getMinutes','SERVER_URL','flushHeaders','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','):\x20Deletando\x20mensagem','demote','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','fetchInstances','node-mime-types','groupName','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','updateAll','QRCODE_UPDATED','updateCustomFields','sendMenu','_remoteJid','MESSAGES_SET','caption','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','exists','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','getScheduleMessageModelForOwner','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','closed','push','groupJid','reaction','remote\x20\x22origin\x22','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','Cache\x20instance\x20update\x20result:\x20','GET','updateMany','findRealGroups','.webm','#6f7bcf','Fluxos\x20não\x20estão\x20ativados','removeChatLabel','updateChatGroupData','Forbidden','setting','creds.json','getFlow','createOrUpdate','findAndReplace','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup','convert','Background\x20color\x20is\x20required','upperCase','nomecompleto','):\x20Não\x20achou\x20nenhum\x20flow','Erro\x20ao\x20editar\x20o\x20chat','groupDesc','XX:XX:XX:XX:XX:XX','Erro\x20ao\x20atualizar\x20agendamento\x20','Group\x20not\x20found','47630tYPzWE','):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20','findChats','messages','success','#000000','conversationTimestamp','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','INFO','cwd','unhandledRejection','action','CREDENTIALS','findById','SERVER_PORT','Instance\x20Key\x20from\x20DB:','interval\x20não\x20é\x20um\x20número','arrayUnique','utf-8','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','buttonText','lastInteraction','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','restrict','unlocked','promote','groupSetting','chats.upsert','MessageModel','lowerCase','leadInfo.etiquetas','@g.us','leadInfo.desativadoFluxoAte','/media/','labels.edit','findGroups','sendContact','Falha\x20ao\x20processar\x20a\x20solicitação\x20findRealGroups','STORE_CLEANING_TERMINAL','parse','sharePass','round','boolean','blocks','expiration','limit','axios','\x22\x20not\x20found','scheduleFlow','getProfileName','fone','):\x20this.processingGroup._id:\x20','Not\x20allowed\x20by\x20CORS','DATABASE_CONNECTION_USER','descOwner','sendLocation','none','lastBlockId','cacheInstanceRepository','Erro\x20ao\x20buscar\x20conversas','menuType','API\x20Key\x20from\x20Request:','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','/group','/wa-presence','authModel','$dbName','app','instanceName','labels.association','listMessage','removeIPv6','delayChatLabel','moreLogs','Resultado\x20da\x20correspondência\x20de\x20URL:','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','profilePictureUrl','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','textMessage','address','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','Valor\x20de\x20find\x20ou\x20replace\x20ausente','\x22,\x20valor\x20a\x20substituir:\x20\x22','DARK','cacheContact','updateMissingTags','collection','and','profile','):\x20','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','removeUnusedChatFields','whoCanUse','webhookService','min','sectionsToString','cleanStore','\x1b[1m\x1b[37m','#92ceac','type','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','now','whoCanEdit','Usando\x20IP\x20existente:\x20','Erro\x20ao\x20atualizar\x20o\x20fluxo:','replaceVariablesLogs','GROUP_PARTICIPANTS_UPDATE','toLocaleString','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','\x20do\x20chat\x20','get','updateGroupPicture','waMonitor','Erro\x20ao\x20deletar\x20a\x20conversa','composing','):\x20Ler\x20mensagem','split','queue','webhookModel','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','messageId','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','):Image\x20path:\x20','buttonId','backgroundColor','myAppStateKeyId','paused','EXPIRIN_IN','Sistema\x20atualizado\x20com\x20sucesso!','prepareMediaMessage','allContacts','updateFlowConfig','connection.update','fileUrl','test','context','fetchMessages','title','shareOwners','processvaredits','superadmin','isJidGroup','\x20minutos...','node-cache','):\x20whoCanUse\x20before\x20validation:\x20','Variáveis\x20não\x20encontradas:','Erro\x20ao\x20editar\x20mensagens\x20no\x20grupo','API\x20Key\x20inválida.','client','groups','Unauthorized','readMessages','https://api.openai.com/v1/audio/speech','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','SSL_CONF_PRIVKEY','maxActives','SINGLE_SELECT','keys','configService','AppStateSyncKeyData','json','proto','updateOneById','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','application/octet-stream','request\x20received\x20in\x20deleteFlow','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','Db\x20Connection','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','Stack\x20trace:','application/json','setHeader','listType','findByIdAndDelete','\x20instance\x20does\x20not\x20exist','STATUS_INSTANCE','sendWhatsAppAudio','notMatchRegex','Erro\x20ao\x20remover\x20label\x20','stopConversation','setWebhook','saveVariable','.url','DATABASE_CONNECTION_HOST','addresss','msgRetryCounterCache','initAuthCreds','static','#00a1f2','#f64847','isArray','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','memberAddMode','js-yaml','bateu\x20events','fetchLabels','ignoreGroups','groupInviteCode','/automate','formatVCard','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP','poll','generateRandomIPv6','[all]','):Archiving\x20chat','scheduleMessage','RECONNECT_TIME_FRAME','quoted','StartBot','flow','isValidIPv6Config','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','flowConfig','senderKeyDistributionMessage','createflow','allflows','phoneNumber','HeaderType','):\x20atualização\x20chat:\x20','request\x20received\x20in\x20editFlowvariable','ids','customFields','LabelModel',',\x20Novo\x20tamanho:\x20','DATABASE','shareFlow','birthtime','findOneAndUpdate','\x1b[30m%s\x1b[0m','done','editflowreply','):\x20Chat\x20','findOne','organization','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:','requestFile','text','request\x20received\x20in\x20createFlow','uazapiSendContact','app-state-sync-key','groupUpdateSubject','):\x20Atualizando\x20status\x20de\x20erro\x20da\x20mensagem\x20','create','sendMessage','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','189oBFLPt','/wa-groups','Contacts\x20not\x20found','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','recebido\x20de','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','participant','readData','waitingMenu_ExpiredMessage','\x20-y','redirect','JWT','.pptx','groupBetterSetting','findByIdAndUpdate','isBusiness','closeExistingConversations','sendMessageWithTyping','segundos','instance','webhook','randomMac',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','The\x20','extractPhoneNumber','ScheduleMessageModel','profileName','insertCount','toString','initializeQueue','triedToSend','request\x20received\x20in\x20editFlow','qrcode-terminal','util','8bXNocw','parseInt','Configured\x20IPv6:\x20','ip\x20-6\x20addr\x20add\x20','flows','lastMessage','replaceOne','transformScheduledMessagesByType','):\x20Editando\x20edição\x20do\x20fluxo...','CHATS_UPDATE','convertaudio','groups.upsert','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','\x20chats\x20de\x20','Bloco\x20com\x20ID\x20','imgUrl','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','STORE_CHATS','updateParticipant','_error','Validate','REDIS_URI','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','createInstance','viewOnceMessageV2','post','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','Valor\x20inicial:\x20\x22','getTime','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','setRestartTimeout','.docx','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','video-cover.png','.doc','Error\x20in\x20chatModify\x20for\x20number\x20','getMessageModelForOwner','envProcess','Last\x20message\x20not\x20found\x20for\x20number:\x20','verifiedName','Message\x20absent\x20from\x20node','$set','fetchLatestBaileysVersion','etiquetas','):\x20Mensagem\x20já\x20enviada\x20para\x20','):\x20Procurando\x20mensagens\x20para\x20envio','enumerable','ip6eui','qrcode','audioWhatsapp','dayjs','findManyByIds','deleteMessage','IP\x20confirmed:\x20','):\x20Enviando\x20localização','padEnd','nome','PREFIX_KEY','joinGroup','latitude','order','):\x20sender\x20=\x20number:\x20','name','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','end','audioMessage','true','createNewConversation','getAutomateSystem','status@broadcast','imagechat'];a0_0x16d1=function(){return _0x4d5eed;};return a0_0x16d1();}function Ei(){const _0x54773b=a0_0x53f180;let _0x4603eb={};for(let _0x3dbb77 in oe)_0x4603eb[_0x3dbb77]=Object[_0x54773b(0x4ce)](oe[_0x3dbb77])[_0x54773b(0x5bd)](_0x8eccbf=>({'id':_0x8eccbf['id'],'events':_0x8eccbf[_0x54773b(0x7c9)]}));return _0x4603eb;}var Ni=require(a0_0x53f180(0x402)),Os=require(a0_0x53f180(0x30f)),Ts=class{},Oo=new Os[(a0_0x53f180(0x3e5))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),_o=new Os[(a0_0x53f180(0x3e5))]({'_id':{'type':String,'default':a0_0x53f180(0x26b)},'WebhookGlobal':{'type':Oo},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Ne=R?.[a0_0x53f180(0x8c0)](Ts[a0_0x53f180(0x7b2)],_o,a0_0x53f180(0x40f)),xo=vi[a0_0x53f180(0x391)][a0_0x53f180(0x260)](__dirname,'downloads'),Fe=(0x0,Lt['Router'])(),Do=b[a0_0x53f180(0x6c4)](a0_0x53f180(0x41f))[a0_0x53f180(0x8ba)],le=[Ta,Oa,Da[Do]];Fe[a0_0x53f180(0x2be)](a0_0x53f180(0x25f),Lt[a0_0x53f180(0x391)]['static'](xo))[a0_0x53f180(0x6c4)](a0_0x53f180(0x475),async(_0x37e357,_0x4c7834)=>{const _0x1cc95d=a0_0x53f180;console[_0x1cc95d(0x4d9)](_0x1cc95d(0x718));let _0x246815=_0x37e357[_0x1cc95d(0x36c)][_0x1cc95d(0x764)],_0x26fab8=(_0x37e357[_0x1cc95d(0x53b)][_0x1cc95d(0x7c9)]||'')[_0x1cc95d(0x6ca)](','),_0x1a84e0=(0x0,Ni['v4'])();console[_0x1cc95d(0x4d9)](_0x1cc95d(0x81c),_0x246815),console[_0x1cc95d(0x4d9)]('Subscribed\x20Events:',_0x26fab8);let _0xe4302=b['get'](_0x1cc95d(0x41f))[_0x1cc95d(0x381)],_0x190937=_0x37e357[_0x1cc95d(0x53b)]['apikey'];if(console[_0x1cc95d(0x4d9)](_0x1cc95d(0x692),_0x190937),_0xe4302[_0x1cc95d(0x83b)]!==_0x190937){console['log'](_0x1cc95d(0x334));try{let _0x2a795e=await we[_0x1cc95d(0x3f2)][_0x1cc95d(0x479)](_0x246815);if(console['log'](_0x1cc95d(0x664),_0x2a795e),!_0x2a795e||_0x2a795e[_0x1cc95d(0x3fb)]!==_0x190937)return console['log'](_0x1cc95d(0x3a9)),_0x4c7834[_0x1cc95d(0x315)](0x191)[_0x1cc95d(0x580)](_0x1cc95d(0x6e9));}catch(_0x554371){return console[_0x1cc95d(0x1f6)](_0x1cc95d(0x4fe),_0x554371),_0x4c7834[_0x1cc95d(0x315)](0x191)['send'](_0x1cc95d(0x5c6));}}if(!await xe(_0x246815))return _0x4c7834['status'](0x194)[_0x1cc95d(0x580)](_0x1cc95d(0x24c));_0x4c7834[_0x1cc95d(0x701)]('Content-Type',_0x1cc95d(0x841)),_0x4c7834[_0x1cc95d(0x701)](_0x1cc95d(0x224),_0x1cc95d(0x230)),_0x4c7834[_0x1cc95d(0x701)](_0x1cc95d(0x510),_0x1cc95d(0x316)),_0x4c7834[_0x1cc95d(0x61e)]();let _0x2ff507=_0x1cc95d(0x1dd)+JSON['stringify']({'info':_0x1cc95d(0x51b)})+'\x0a\x0a';_0x4c7834['write'](_0x2ff507),Mi(_0x246815,_0x1a84e0,_0x4c7834,_0x26fab8),_0x37e357['on'](_0x1cc95d(0x805),()=>{const _0x1512dd=_0x1cc95d;console['log'](_0x1512dd(0x84c)+_0x246815),Ci(_0x246815,_0x1a84e0);});}),Fe[a0_0x53f180(0x78c)](a0_0x53f180(0x52f),async(_0x4eb847,_0x18ae4c)=>{const _0x70bf36=a0_0x53f180;console[_0x70bf36(0x4d9)]('iniciando\x20fluxo\x20router');let _0x4f6a63=_0x4eb847['params'][_0x70bf36(0x764)],_0x580f77=_0x4eb847[_0x70bf36(0x36c)][_0x70bf36(0x37a)],_0x4c3480=_0x4eb847[_0x70bf36(0x53b)]['remoteJid']||'',_0x2f4b11=_0x4eb847[_0x70bf36(0x3d3)];console['log'](_0x70bf36(0x4f3),_0x4f6a63),console['log']('StartID:',_0x580f77),console[_0x70bf36(0x4d9)]('RemoteJid:',_0x4c3480),console[_0x70bf36(0x4d9)](_0x70bf36(0x369),_0x2f4b11);try{if(!await xe(_0x4f6a63))return _0x18ae4c[_0x70bf36(0x315)](0x194)['send'](_0x70bf36(0x24c));let _0x5a44ee=await T[_0x70bf36(0x534)](_0x4f6a63,_0x580f77,_0x4c3480,_0x2f4b11);_0x18ae4c['send'](_0x5a44ee);}catch(_0x55b315){console[_0x70bf36(0x1f6)](_0x55b315),_0x18ae4c[_0x70bf36(0x315)](0x1f4)[_0x70bf36(0x580)]('Erro\x20ao\x20iniciar\x20o\x20fluxo.');}}),Fe['get'](a0_0x53f180(0x872),(_0x1cc3ef,_0x1cceaa)=>{const _0x3d92c1=a0_0x53f180;let _0xfe5168=Ei();_0x1cceaa[_0x3d92c1(0x6f6)](_0xfe5168);})['get']('/',(_0x3e7e57,_0x4705fa)=>{const _0x33c53b=a0_0x53f180;let _0x54ee84=b[_0x33c53b(0x6c4)](_0x33c53b(0x568))['URL'];if(_0x54ee84){let _0x1e5bbc=encodeURIComponent(''+_0x54ee84);_0x4705fa[_0x33c53b(0x75b)]('https://uazapi-plugin.bubbleapps.io/?url='+_0x1e5bbc);return;}let _0x3684de=b[_0x33c53b(0x6c4)]('SSL_CONF'),_0x173dd4=_0x3684de&&_0x3684de[_0x33c53b(0x456)][_0x33c53b(0x6ca)]('/')[0x4];if(_0x173dd4){let _0x39b6db=encodeURIComponent(_0x33c53b(0x57c)+_0x173dd4);_0x4705fa['redirect']('https://uazapi-plugin.bubbleapps.io/?url='+_0x39b6db);}else _0x4705fa[_0x33c53b(0x75b)](_0x33c53b(0x5f4));})[a0_0x53f180(0x361)]('/exit',...le,async(_0x148a34,_0x43fc2d)=>{const _0x2ff2ad=a0_0x53f180;try{console[_0x2ff2ad(0x4d9)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x43fc2d[_0x2ff2ad(0x315)](0xc8)['json']({'message':'API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos'}),_0x43fc2d['on'](_0x2ff2ad(0x3e6),()=>process['exit'](0x0));}catch(_0x57ed2d){console[_0x2ff2ad(0x1f6)](_0x2ff2ad(0x6a0),_0x57ed2d),_0x43fc2d['status'](0x1f4)['json']({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x53f180(0x361)]('/config',...le,async(_0x83e760,_0x3d5779)=>{const _0x41e8e0=a0_0x53f180;try{let _0x38e357=_0x83e760[_0x41e8e0(0x3d3)];await Ne[_0x41e8e0(0x5ea)]({},{'$set':_0x38e357},{'upsert':!0x0});let _0x35a109=await Ne[_0x41e8e0(0x741)]();_0x3d5779['json'](_0x35a109);}catch(_0x507365){_0x3d5779[_0x41e8e0(0x315)](0x190)[_0x41e8e0(0x580)](_0x507365[_0x41e8e0(0x82d)]);}})['get'](a0_0x53f180(0x445),...le,async(_0x47b2c6,_0x254ed5)=>{const _0x1b5e92=a0_0x53f180;try{let _0x524249=await Ne[_0x1b5e92(0x741)]();if(!_0x524249)return _0x254ed5[_0x1b5e92(0x6f6)]({});_0x254ed5[_0x1b5e92(0x6f6)](_0x524249);}catch(_0x133bee){_0x254ed5['status'](0x1f4)[_0x1b5e92(0x580)](_0x133bee[_0x1b5e92(0x82d)]);}})[a0_0x53f180(0x2be)]('/instance',new Ct(b,...le)[a0_0x53f180(0x5fb)])[a0_0x53f180(0x2be)]('/message',new xt(...le)['router'])[a0_0x53f180(0x2be)]('/chat',new pt(...le)['router'])[a0_0x53f180(0x2be)](a0_0x53f180(0x694),new Mt(...le)[a0_0x53f180(0x5fb)])['use']('/webhook',new Pt(...le)[a0_0x53f180(0x5fb)])[a0_0x53f180(0x2be)](a0_0x53f180(0x71c),new kt(...le)[a0_0x53f180(0x5fb)]);var m=class{constructor(..._0x2ab06c){const _0x78573a=a0_0x53f180;throw{'status':0x190,'error':_0x78573a(0x52b),'message':_0x2ab06c[_0x78573a(0x27a)]>0x0?_0x2ab06c:void 0x0};}},ce=class{constructor(..._0x31744b){const _0x48ce92=a0_0x53f180;throw{'status':0x191,'error':_0x48ce92(0x6ec),'message':_0x31744b[_0x48ce92(0x27a)]>0x0?_0x31744b:void 0x0};}},se=class{constructor(..._0xe3b373){const _0x479945=a0_0x53f180;throw{'status':0x193,'error':_0x479945(0x643),'message':_0xe3b373[_0x479945(0x27a)]>0x0?_0xe3b373:void 0x0};}},J=class{constructor(..._0x2f6797){const _0x329c60=a0_0x53f180;throw{'status':0x194,'error':_0x329c60(0x801),'message':_0x2f6797[_0x329c60(0x27a)]>0x0?_0x2f6797:void 0x0};}},x=class{constructor(..._0x2bc5d3){const _0x1ca13d=a0_0x53f180;throw{'status':0x1f4,'error':_0x1ca13d(0x433),'message':_0x2bc5d3[_0x1ca13d(0x27a)]>0x0?_0x2bc5d3:void 0x0};}},ye=require(a0_0x53f180(0x3a1));async function _s(_0x432ef2){const _0x2d2508=a0_0x53f180;let _0x5f411e=new $(_s['name']),_0x3cabb9=R[_0x2d2508(0x7df)](),_0x4db6e5=_0x3cabb9['db'](b[_0x2d2508(0x6c4)](_0x2d2508(0x739))['CONNECTION']['DB_PREFIX_NAME']+'-instances')[_0x2d2508(0x6ab)](_0x432ef2),_0x534068=async(_0x388565,_0x738dbe)=>{const _0x3eac83=_0x2d2508;try{return await _0x3cabb9['connect'](),await _0x4db6e5[_0x3eac83(0x779)]({'_id':_0x738dbe},JSON[_0x3eac83(0x67c)](JSON[_0x3eac83(0x54f)](_0x388565,ye[_0x3eac83(0x58b)][_0x3eac83(0x1b4)])),{'upsert':!0x0});}catch{}},_0x3ef9ab=async _0x4d6d24=>{const _0x5e8f36=_0x2d2508;try{await _0x3cabb9[_0x5e8f36(0x8d1)]();let _0x1087f3=await _0x4db6e5[_0x5e8f36(0x741)]({'_id':_0x4d6d24}),_0x18245c=JSON[_0x5e8f36(0x54f)](_0x1087f3);return JSON['parse'](_0x18245c,ye[_0x5e8f36(0x58b)][_0x5e8f36(0x4ef)]);}catch{}},_0x5b03fd=async _0x83b925=>{const _0x7d691c=_0x2d2508;try{return await _0x3cabb9[_0x7d691c(0x8d1)](),await _0x4db6e5[_0x7d691c(0x85e)]({'_id':_0x83b925});}catch{}},_0x2ab8c3=await _0x3ef9ab(_0x2d2508(0x278))||(0x0,ye['initAuthCreds'])();return{'state':{'creds':_0x2ab8c3,'keys':{'get':async(_0x38b242,_0x509fdf)=>{const _0x3336c2=_0x2d2508;let _0x5285d5={};return await Promise[_0x3336c2(0x241)](_0x509fdf[_0x3336c2(0x5bd)](async _0x269aca=>{const _0x35b2e0=_0x3336c2;let _0x5e3f04=await _0x3ef9ab(_0x38b242+'-'+_0x269aca);_0x38b242===_0x35b2e0(0x749)&&_0x5e3f04&&(_0x5e3f04=ye[_0x35b2e0(0x6f7)]['Message'][_0x35b2e0(0x6f5)][_0x35b2e0(0x552)](_0x5e3f04)),_0x5285d5[_0x269aca]=_0x5e3f04;})),_0x5285d5;},'set':async _0x17f8ae=>{const _0x228374=_0x2d2508;let _0x390064=[];for(let _0x544fc2 in _0x17f8ae)for(let _0x7ae511 in _0x17f8ae[_0x544fc2]){let _0x1bb36d=_0x17f8ae[_0x544fc2][_0x7ae511],_0x2c013b=_0x544fc2+'-'+_0x7ae511;_0x390064[_0x228374(0x635)](_0x1bb36d?_0x534068(_0x1bb36d,_0x2c013b):_0x5b03fd(_0x2c013b));}await Promise[_0x228374(0x241)](_0x390064);}}},'saveCreds':async()=>_0x534068(_0x2ab8c3,'creds')};}var Ls=A(require(a0_0x53f180(0x509))),Fs=A(require(a0_0x53f180(0x6e5))),jt=require(a0_0x53f180(0x3a1)),$i=require(a0_0x53f180(0x2a9)),Ut=require(a0_0x53f180(0x3a1)),Ft;function Po(_0x2e0c11){const _0x7b42e8=a0_0x53f180;return Ft||(Ft=(0x0,$i[_0x7b42e8(0x1f7)])({'url':_0x2e0c11[_0x7b42e8(0x1ee)]}),Ft[_0x7b42e8(0x8d1)]()),Ft;}var ge=class u{constructor(_0x3138a0,_0x5b80a1){const _0x2f5c4d=a0_0x53f180;this[_0x2f5c4d(0x21d)]=_0x3138a0,this['instanceName']=_0x5b80a1,this[_0x2f5c4d(0x341)]=new $(u[_0x2f5c4d(0x7b2)]),this[_0x2f5c4d(0x6ea)]=Po(_0x3138a0);}set['reference'](_0x1f1e13){const _0x231e85=a0_0x53f180;this[_0x231e85(0x699)]=_0x1f1e13;}async[a0_0x53f180(0x598)](){const _0x2be512=a0_0x53f180;try{return await this[_0x2be512(0x6ea)][_0x2be512(0x2fe)](['keys',this[_0x2be512(0x21d)][_0x2be512(0x7ad)]+':*']);}catch(_0x237158){this[_0x2be512(0x341)]['error'](_0x237158);}}async[a0_0x53f180(0x380)](_0x58fb95,_0xfa29c7){const _0x3b747c=a0_0x53f180;try{let _0x21daac=JSON[_0x3b747c(0x54f)](_0xfa29c7,Ut[_0x3b747c(0x58b)][_0x3b747c(0x1b4)]);return await this[_0x3b747c(0x6ea)][_0x3b747c(0x2de)](this['redisEnv'][_0x3b747c(0x7ad)]+':'+this[_0x3b747c(0x699)],_0x58fb95,_0x21daac);}catch(_0x19bfa3){this[_0x3b747c(0x341)][_0x3b747c(0x1f6)](_0x19bfa3);}}async['getAllData'](){const _0x73de90=a0_0x53f180;try{let _0x3aa4e8=await this[_0x73de90(0x6ea)]['hGetAll'](this[_0x73de90(0x21d)][_0x73de90(0x7ad)]+':'+this['instanceName']);if(_0x3aa4e8){for(let _0x355c8d in _0x3aa4e8)Object[_0x73de90(0x1e5)][_0x73de90(0x4cd)][_0x73de90(0x435)](_0x3aa4e8,_0x355c8d)&&(_0x3aa4e8[_0x355c8d]=JSON['parse'](_0x3aa4e8[_0x355c8d],Ut[_0x73de90(0x58b)]['reviver']));return _0x3aa4e8;}}catch(_0xfebd04){this[_0x73de90(0x341)][_0x73de90(0x1f6)](_0xfebd04);}}async[a0_0x53f180(0x758)](_0x481d60){const _0x501a93=a0_0x53f180;try{let _0x1aedab=await this['client']['hGet'](this[_0x501a93(0x21d)][_0x501a93(0x7ad)]+':'+this[_0x501a93(0x699)],_0x481d60);if(_0x1aedab)return JSON[_0x501a93(0x67c)](_0x1aedab,Ut[_0x501a93(0x58b)][_0x501a93(0x4ef)]);}catch(_0x18f3f8){this['logger'][_0x501a93(0x1f6)](_0x18f3f8);}}async[a0_0x53f180(0x49d)](_0x101c03){const _0x21db1f=a0_0x53f180;try{return await this[_0x21db1f(0x6ea)][_0x21db1f(0x35d)](this[_0x21db1f(0x21d)][_0x21db1f(0x7ad)]+':'+this['instanceName'],_0x101c03);}catch(_0x779cea){this[_0x21db1f(0x341)][_0x21db1f(0x1f6)](_0x779cea);}}async[a0_0x53f180(0x4da)](_0x45a928){const _0x131083=a0_0x53f180;try{return await this[_0x131083(0x6ea)][_0x131083(0x582)](_0x45a928||this[_0x131083(0x21d)][_0x131083(0x7ad)]+':'+this['instanceName']);}catch(_0x57f463){this[_0x131083(0x341)][_0x131083(0x1f6)](_0x57f463);}}};async function xs(_0x152669,_0x78295b){const _0x47133b=a0_0x53f180;let _0x5071c1=new $(xs[_0x47133b(0x7b2)]),_0x4fb72f=new ge(_0x152669,_0x78295b),_0x125586=async(_0x2699be,_0x1d719a)=>{const _0x40dc29=_0x47133b;try{return await _0x4fb72f[_0x40dc29(0x380)](_0x1d719a,_0x2699be);}catch(_0x529e69){return _0x5071c1['error']({'localError':'writeData','error':_0x529e69});}},_0x4c7e73=async _0x4b888a=>{const _0x59de21=_0x47133b;try{return await _0x4fb72f[_0x59de21(0x758)](_0x4b888a);}catch(_0x317a65){_0x5071c1[_0x59de21(0x1f6)]({'readData':_0x59de21(0x380),'error':_0x317a65});return;}},_0x5a6d72=async _0x561329=>{const _0x54d24b=_0x47133b;try{return await _0x4fb72f[_0x54d24b(0x49d)](_0x561329);}catch(_0x598893){_0x5071c1['error']({'readData':'removeData','error':_0x598893});}},_0x59ba54=await _0x4c7e73(_0x47133b(0x278))||(0x0,jt[_0x47133b(0x710)])();return{'state':{'creds':_0x59ba54,'keys':{'get':async(_0x1397d3,_0xf41107)=>{let _0x4ee452={};return await Promise['all'](_0xf41107['map'](async _0x1d19cf=>{const _0x2b82b7=a0_0x150f;let _0x47bfbb=await _0x4c7e73(_0x1397d3+'-'+_0x1d19cf);_0x1397d3===_0x2b82b7(0x749)&&_0x47bfbb&&(_0x47bfbb=jt[_0x2b82b7(0x6f7)][_0x2b82b7(0x8c2)][_0x2b82b7(0x6f5)][_0x2b82b7(0x552)](_0x47bfbb)),_0x4ee452[_0x1d19cf]=_0x47bfbb;})),_0x4ee452;},'set':async _0xfd9196=>{const _0x16fb15=_0x47133b;let _0xf9df72=[];for(let _0x1ffbfe in _0xfd9196)for(let _0x10db8a in _0xfd9196[_0x1ffbfe]){let _0x6017ec=_0xfd9196[_0x1ffbfe][_0x10db8a],_0x48ca91=_0x1ffbfe+'-'+_0x10db8a;_0xf9df72[_0x16fb15(0x635)](_0x6017ec?await _0x125586(_0x6017ec,_0x48ca91):await _0x5a6d72(_0x48ca91));}await Promise[_0x16fb15(0x241)](_0xf9df72);}}},'saveCreds':async()=>await _0x125586(_0x59ba54,_0x47133b(0x278))};}var F=A(require('fs')),X=require(a0_0x53f180(0x402)),Gt=A(require(a0_0x53f180(0x89a))),Re=require('crypto'),Ri=require(a0_0x53f180(0x2b2)),Ai=require(a0_0x53f180(0x772)),Ii=A(require(a0_0x53f180(0x683))),$e=class extends _{constructor(_0x59eb73,_0x9222a5,_0x4270bf){const _0x29580b=a0_0x53f180;super(_0x9222a5),this[_0x29580b(0x814)]=_0x59eb73,this[_0x29580b(0x6f4)]=_0x9222a5,this[_0x29580b(0x42e)]=_0x4270bf;}async[a0_0x53f180(0x647)](_0x43303f,_0x505e0d){const _0x5c6a42=a0_0x53f180;try{if(this['dbSettings'][_0x5c6a42(0x8a8)]){console[_0x5c6a42(0x4d9)](_0x5c6a42(0x8a3)+_0x505e0d+'\x20and\x20data:',_0x43303f);let _0x36b936=await this[_0x5c6a42(0x814)][_0x5c6a42(0x73c)]({'_id':_0x505e0d},{'$set':_0x43303f},{'new':!0x0,'upsert':!0x0});return console['log'](_0x5c6a42(0x8f6),_0x36b936),_0x36b936;}}catch(_0x3db115){throw console[_0x5c6a42(0x1f6)](_0x5c6a42(0x579),_0x3db115),_0x3db115;}return null;}async['deleteOne'](_0xbcbfd6){const _0x30820c=a0_0x53f180;try{let _0x1375a9=I(_0xbcbfd6[_0x30820c(0x422)]);return{'deletedCount':(await this[_0x30820c(0x814)][_0x30820c(0x85e)](_0x1375a9))[_0x30820c(0x893)]};}catch(_0x26f6d6){return{'error':_0x26f6d6?.[_0x30820c(0x76d)]()};}}async[a0_0x53f180(0x741)](_0x5c605b){const _0x47a9ec=a0_0x53f180;try{let _0x3de727=I(_0x5c605b[_0x47a9ec(0x422)]);return await this[_0x47a9ec(0x814)]['findOne'](_0x3de727)[_0x47a9ec(0x818)]();}catch{return null;}}},Jt=(0x0,Ai[a0_0x53f180(0x549)])(Ri[a0_0x53f180(0x84b)]),ko=b['get'](a0_0x53f180(0x460)),Ds=class{constructor(){const _0x599c6e=a0_0x53f180;this['cacheInstanceRepository']=new $e(Ke,b),(!this[_0x599c6e(0x3cd)]||!this[_0x599c6e(0x30b)])&&ko&&this[_0x599c6e(0x400)]()[_0x599c6e(0x46f)](()=>{const _0x4a367b=_0x599c6e;console['log'](_0x4a367b(0x56a)+this[_0x4a367b(0x3cd)]),console[_0x4a367b(0x4d9)](_0x4a367b(0x7fb)+this[_0x4a367b(0x30b)]);})[_0x599c6e(0x406)](_0x2a9abf=>{const _0x1dc47a=_0x599c6e;console[_0x1dc47a(0x1f6)](_0x1dc47a(0x571)+_0x2a9abf[_0x1dc47a(0x82d)]);});}async[a0_0x53f180(0x400)](){const _0x510156=a0_0x53f180;try{let {stdout:_0x3bd242}=await Jt('ip\x20-br\x20link\x20show');console[_0x510156(0x4d9)](_0x510156(0x1da)+_0x3bd242);let _0x402275=_0x3bd242[_0x510156(0x6ca)]('\x0a')[_0x510156(0x5bd)](_0x52081c=>_0x52081c[_0x510156(0x6ca)]('\x20')[0x0])['filter'](_0x376d0b=>!_0x376d0b[_0x510156(0x87c)]('lo')&&!_0x376d0b[_0x510156(0x87c)](_0x510156(0x541))&&!_0x376d0b[_0x510156(0x87c)]('vir')&&!_0x376d0b[_0x510156(0x87c)]('wl')&&!_0x376d0b[_0x510156(0x87c)]('@'));if(console[_0x510156(0x4d9)](_0x510156(0x7f4)+_0x402275),_0x402275[_0x510156(0x27a)]===0x0)throw new Error(_0x510156(0x7cd));this['networkInterface']=_0x402275[0x0];let {stdout:_0x7d23bb}=await Jt('ip\x20-6\x20addr\x20show\x20dev\x20'+this[_0x510156(0x30b)]);console[_0x510156(0x4d9)](_0x510156(0x449)+_0x7d23bb);let _0x4ce8fe=_0x7d23bb[_0x510156(0x6ca)]('\x0a')[_0x510156(0x479)](_0x272531=>_0x272531[_0x510156(0x87c)](_0x510156(0x28b))&&_0x272531[_0x510156(0x87c)](_0x510156(0x2b6)));if(!_0x4ce8fe)throw new Error(_0x510156(0x1e9));let _0x411d3e=_0x4ce8fe['match'](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x411d3e)throw new Error(_0x510156(0x3e1));let [_0x1a4211,_0xe38dc1,_0x5c2b58]=_0x411d3e,_0x22b7b8=Math[_0x510156(0x376)](Number(_0x5c2b58)/0x10),_0x58a8e0=Number(_0x5c2b58)%0x10,_0x2806f6=_0xe38dc1[_0x510156(0x6ca)](':')[_0x510156(0x412)](0x0,_0x22b7b8)[_0x510156(0x260)](':');if(_0x58a8e0>0x0){let _0x48a4e6=_0xe38dc1[_0x510156(0x6ca)](':')[_0x22b7b8],_0x26a56d=0xffff<<0x10-_0x58a8e0&0xffff,_0x598c11=(parseInt(_0x48a4e6,0x10)&_0x26a56d)[_0x510156(0x76d)](0x10)[_0x510156(0x570)](0x4,'0');_0x2806f6+=':'+_0x598c11;}this['ipv6Prefix']=_0x2806f6+':';}catch(_0x52580b){console[_0x510156(0x1f6)]('Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:',_0x52580b);}}async[a0_0x53f180(0x502)](_0x198962){const _0x369a5c=a0_0x53f180;let _0x1aaa10=_0x369a5c(0x776)+_0x198962+_0x369a5c(0x22b)+this[_0x369a5c(0x30b)];try{await Jt(_0x1aaa10),console[_0x369a5c(0x4d9)]('IPv6\x20address\x20configured:\x20'+_0x198962);}catch(_0x1a1be7){console['error']('Error\x20adding\x20IPv6\x20address:\x20'+_0x1a1be7);}}async['removeIPv6'](_0x3b3ffc){const _0x4cfe4d=a0_0x53f180;let _0x8e3de0=_0x4cfe4d(0x58d)+_0x3b3ffc+_0x4cfe4d(0x22b)+this[_0x4cfe4d(0x30b)];try{await Jt(_0x8e3de0),console['log'](_0x4cfe4d(0x7ca)+_0x3b3ffc);}catch(_0x33471f){console[_0x4cfe4d(0x1f6)](_0x4cfe4d(0x499)+_0x33471f);}}[a0_0x53f180(0x766)](){const _0x56a00f=a0_0x53f180;return _0x56a00f(0x652)[_0x56a00f(0x1ef)](/X/g,()=>_0x56a00f(0x2ff)['charAt'](Math[_0x56a00f(0x376)](Math[_0x56a00f(0x874)]()*0x10)));}[a0_0x53f180(0x7a3)](_0x2716af,_0x1acf7e){const _0x27c692=a0_0x53f180;let _0x571670=_0x1acf7e[_0x27c692(0x6ca)](':');return _0x571670[0x0]=(parseInt(_0x571670[0x0],0x10)^0x2)['toString'](0x10)['padStart'](0x2,'0'),''+_0x2716af+_0x571670[0x0]+_0x571670[0x1]+':'+_0x571670[0x2]+_0x27c692(0x4e6)+_0x571670[0x3]+':'+_0x571670[0x4]+_0x571670[0x5];}[a0_0x53f180(0x723)](){const _0x4a82c4=a0_0x53f180;let _0x583cd9=this['ipv6Prefix'];_0x583cd9[_0x4a82c4(0x7c2)](':')||(_0x583cd9+=':');let _0x44a47a=this[_0x4a82c4(0x766)]();return this[_0x4a82c4(0x7a3)](_0x583cd9,_0x44a47a);}[a0_0x53f180(0x72b)](_0x57153a){const _0x13fb82=a0_0x53f180;return new RegExp('^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$')[_0x13fb82(0x6dc)](_0x57153a);}async[a0_0x53f180(0x5f8)](_0x1db1bb){const _0x53ffd1=a0_0x53f180;let _0x49bca2=[{'url':_0x53ffd1(0x834),'parse':_0x101100=>_0x101100['ip']},{'url':'https://api64.ipify.org?format=json','parse':_0x50a90a=>_0x50a90a['ip']},{'url':_0x53ffd1(0x472),'parse':_0x256058=>_0x256058[_0x53ffd1(0x2af)]()},{'url':_0x53ffd1(0x2dd),'parse':_0x5571fb=>_0x5571fb['trim']()}],_0x5072ec=_0x49bca2[Math['floor'](Math[_0x53ffd1(0x874)]()*_0x49bca2[_0x53ffd1(0x27a)])];try{let _0x10f62a=await Ii[_0x53ffd1(0x391)][_0x53ffd1(0x6c4)](_0x5072ec['url'],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x1db1bb}}),_0x2cebf2=_0x5072ec[_0x53ffd1(0x67c)](_0x10f62a[_0x53ffd1(0x2ea)]);return _0x2cebf2[_0x53ffd1(0x83c)]()===_0x1db1bb[_0x53ffd1(0x83c)]()?(console[_0x53ffd1(0x4d9)](_0x53ffd1(0x7a9)+_0x1db1bb),!0x0):(console[_0x53ffd1(0x1f6)](_0x53ffd1(0x222)+_0x1db1bb+',\x20received\x20'+_0x2cebf2),!0x1);}catch(_0x2cebdb){return console[_0x53ffd1(0x1f6)](_0x53ffd1(0x2a0)+_0x5072ec[_0x53ffd1(0x486)]+':\x20'+_0x2cebdb[_0x53ffd1(0x82d)]),!0x1;}}async[a0_0x53f180(0x59d)](_0x404308,_0x3671cd){const _0xcf6401=a0_0x53f180;if(!this[_0xcf6401(0x3cd)]||!this[_0xcf6401(0x30b)])return console['error'](_0xcf6401(0x4a0)),null;let _0x1f7bbe;do _0x1f7bbe=this[_0xcf6401(0x723)](),console[_0xcf6401(0x4d9)](_0xcf6401(0x1e7)+_0x1f7bbe);while(!await this['isValidAndUniqueIPv6'](_0x1f7bbe));await this[_0xcf6401(0x502)](_0x1f7bbe),console[_0xcf6401(0x4d9)](_0xcf6401(0x775)+_0x1f7bbe);let _0x1c3083={'_id':_0x404308+'-'+_0x3671cd,'ip':_0x1f7bbe},_0x3e5616=await this['cacheInstanceRepository']['createOrUpdate'](_0x1c3083,_0x1c3083[_0xcf6401(0x452)]);return console[_0xcf6401(0x4d9)](_0xcf6401(0x63a)+_0x3e5616),_0x1f7bbe;}async['isValidAndUniqueIPv6'](_0x5f5412){const _0x1c16c2=a0_0x53f180;return this[_0x1c16c2(0x72b)](_0x5f5412)?!await this[_0x1c16c2(0x68f)][_0x1c16c2(0x741)]({'where':{'ip':_0x5f5412}}):!0x1;}async[a0_0x53f180(0x28c)](_0x48deb4,_0x43f0af){const _0x2042e9=a0_0x53f180;let _0x3cfe7a=_0x48deb4+'-'+_0x43f0af,_0x1fb51e=await this['cacheInstanceRepository'][_0x2042e9(0x741)]({'where':{'_id':_0x3cfe7a}});_0x1fb51e&&_0x1fb51e['ip']&&(await this[_0x2042e9(0x69c)](_0x1fb51e['ip']),await this['cacheInstanceRepository'][_0x2042e9(0x85e)]({'where':{'_id':_0x3cfe7a}}));}},Lo=new Ds(),re=Lo,Us=a0_0x53f180(0x28a),ki,me=null,Pa=null,Fo=0x3,Uo=null,Ti=b[a0_0x53f180(0x6c4)](a0_0x53f180(0x41f))[a0_0x53f180(0x381)]['KEY'],Oi=b[a0_0x53f180(0x6c4)]('PROXY');async function jo(){const _0x3de4e4=a0_0x53f180;let _0x4253b5=await Ne[_0x3de4e4(0x741)]();me=_0x4253b5?.[_0x3de4e4(0x4b2)]??null,Uo=_0x4253b5?.[_0x3de4e4(0x291)]??null,Us=_0x4253b5?.[_0x3de4e4(0x4c1)]??_0x3de4e4(0x28a),ki=_0x4253b5?.['connectedName']??K??_0x3de4e4(0x217);}async function Jo(){await jo();}Jo();var qt={},Ae=class u{constructor(_0x59c435,_0x996110,_0x5b937f){const _0x652c6=a0_0x53f180;this[_0x652c6(0x6f4)]=_0x59c435,this[_0x652c6(0x491)]=_0x996110,this[_0x652c6(0x1cb)]=_0x5b937f,this[_0x652c6(0x335)]=null,this[_0x652c6(0x341)]=new $(u['name']),this[_0x652c6(0x764)]={},this[_0x652c6(0x589)]={},this['stateConnection']={'state':_0x652c6(0x805)},this[_0x652c6(0x512)]=(0x0,j[_0x652c6(0x260)])(ue,_0x652c6(0x607)),this[_0x652c6(0x70f)]=new Fs[(_0x652c6(0x391))](),this[_0x652c6(0x8aa)]=new Fs[(_0x652c6(0x391))](),this['endSession']=!0x1,this[_0x652c6(0x3d0)]={'status.instance':_0x652c6(0x35f),'connection.update':_0x652c6(0x35f),'qrcode.updated':_0x652c6(0x245),'messages.upsert':'/wa-message','send.message':_0x652c6(0x47f),'messages.update':'/wa-message-update','group.upsert':_0x652c6(0x751),'group.update':'/wa-groups','group-participants.update':_0x652c6(0x751),'messages.set':_0x652c6(0x4fc),'contacts.set':'/wa-contacts','contacts.upsert':'/wa-contacts','contacts.update':_0x652c6(0x2fc),'presence.update':_0x652c6(0x695),'chats.set':_0x652c6(0x327),'chats.update':_0x652c6(0x327),'chats.upsert':_0x652c6(0x327),'chats.delete':_0x652c6(0x327)},this[_0x652c6(0x7c8)]=0x0,this['reconnectTimestamps']=[],this[_0x652c6(0x727)]=0xea60,this[_0x652c6(0x593)]=!0x1,this[_0x652c6(0x503)]={'chats.upsert':async(_0x1b38e5,_0x107a0e)=>{const _0x3a9b3=_0x652c6;let _0x1838b2=[];for await(let _0x5c0f67 of _0x1b38e5)_0x1838b2[_0x3a9b3(0x635)]({'_id':_0x5c0f67['id'],'owner':this[_0x3a9b3(0x764)][_0x3a9b3(0x265)],'group':_0x5c0f67['id'][_0x3a9b3(0x7c2)](_0x3a9b3(0x674)),'name':_0x5c0f67[_0x3a9b3(0x7b2)]||_0x5c0f67[_0x3a9b3(0x21b)]||null,'contactname':null,'lastmsg':_0x5c0f67[_0x3a9b3(0x65b)]&&_0x5c0f67[_0x3a9b3(0x65b)][_0x3a9b3(0x76d)]()[_0x3a9b3(0x27a)]<0xd?_0x5c0f67['conversationTimestamp']*0x3e8:_0x5c0f67[_0x3a9b3(0x65b)]||null,'archived':_0x5c0f67['archived']||!0x1,'unreadcount':_0x5c0f67[_0x3a9b3(0x2e0)]||0x0,'ephemeralExpiration':_0x5c0f67[_0x3a9b3(0x3c8)]||0x0});this[_0x3a9b3(0x4bd)](_0x3a9b3(0x670),_0x1838b2);},'chats.update':async(_0x31ac61,_0x339837)=>{const _0x14bfdd=_0x652c6;for(let _0x464144 of _0x31ac61){let _0xeb7df7={'_id':_0x464144['id'],'owner':this[_0x14bfdd(0x764)][_0x14bfdd(0x265)],'archived':_0x464144[_0x14bfdd(0x273)],'muteEndTime':_0x464144[_0x14bfdd(0x845)],'ephemeralExpiration':_0x464144[_0x14bfdd(0x3c8)]},_0xac73f7=!0x1,_0x574495={};_0xeb7df7[_0x14bfdd(0x273)]!=null&&(this[_0x14bfdd(0x341)]['verbose'](this[_0x14bfdd(0x699)]+'\x20('+this[_0x14bfdd(0x764)][_0x14bfdd(0x265)]+_0x14bfdd(0x455)+_0x464144['id']+_0x14bfdd(0x881)+_0x464144['archived']),_0xac73f7=!0x0,_0x574495[_0x14bfdd(0x273)]=_0x464144[_0x14bfdd(0x273)]),_0x14bfdd(0x845)in _0x464144&&(this[_0x14bfdd(0x341)][_0x14bfdd(0x242)](this['instanceName']+'\x20('+this[_0x14bfdd(0x764)]['wuid']+_0x14bfdd(0x27c)+_0x464144['id']+_0x14bfdd(0x881)+(_0x464144[_0x14bfdd(0x845)]??'0')),_0xac73f7=!0x0,_0x574495[_0x14bfdd(0x845)]=_0x464144[_0x14bfdd(0x845)]??0x0),_0x14bfdd(0x3c8)in _0x464144&&(this[_0x14bfdd(0x341)][_0x14bfdd(0x242)](this[_0x14bfdd(0x699)]+'\x20('+this[_0x14bfdd(0x764)][_0x14bfdd(0x265)]+_0x14bfdd(0x3a5)+_0x464144['id']+_0x14bfdd(0x881)+(_0x464144[_0x14bfdd(0x3c8)]!==void 0x0?_0x464144['ephemeralExpiration']:_0x14bfdd(0x4ea))),_0x574495[_0x14bfdd(0x3c8)]=_0x464144['ephemeralExpiration']===null?0x0:_0x464144[_0x14bfdd(0x3c8)],_0xac73f7=!0x0);let _0x251350;_0xac73f7&&(_0x251350=await this[_0x14bfdd(0x1cb)]['chat'][_0x14bfdd(0x5ea)]({'where':{'_id':_0x464144['id']}},_0x574495,this['instance'][_0x14bfdd(0x265)])),_0x251350&&q(this['instanceName'],'chats',{'chat':_0x251350});}},'chats.delete':async _0x490425=>{const _0x24e547=_0x652c6;for(let _0x22f719 of _0x490425)if(_0x22f719[_0x24e547(0x7c2)]('@g.us')){await this['repository'][_0x24e547(0x254)][_0x24e547(0x2c1)]({'where':{'_id':_0x22f719}},this[_0x24e547(0x764)][_0x24e547(0x265)]);let _0x330c2a={'where':{'key':{'remoteJid':_0x22f719}}};await this[_0x24e547(0x1cb)][_0x24e547(0x82d)][_0x24e547(0x2c1)](_0x330c2a,this[_0x24e547(0x764)][_0x24e547(0x265)]);}else{await this[_0x24e547(0x1cb)][_0x24e547(0x254)][_0x24e547(0x5ea)]({'where':{'_id':_0x22f719}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x24e547(0x764)]['wuid']);let _0x2e0fd0={'where':{'key':{'remoteJid':_0x22f719}}};await this[_0x24e547(0x1cb)]['message'][_0x24e547(0x2c1)](_0x2e0fd0,this[_0x24e547(0x764)][_0x24e547(0x265)]);}this[_0x24e547(0x4bd)](_0x24e547(0x518),[..._0x490425]);}},this[_0x652c6(0x599)]={'contacts.upsert':async(_0x10e7da,_0x28514f)=>{const _0x44fb5d=_0x652c6;let _0x44448c=await this[_0x44fb5d(0x1cb)][_0x44fb5d(0x259)]['find']({'where':{}},this['instance']['wuid']),_0x5af03c=[];for await(let _0x23a5a5 of _0x10e7da)_0x44448c[_0x44fb5d(0x479)](_0x4d1715=>_0x4d1715['_id']===_0x23a5a5['id'])||_0x5af03c[_0x44fb5d(0x635)]({'_id':_0x23a5a5['id'],'pushName':_0x23a5a5?.[_0x44fb5d(0x7b2)]||_0x23a5a5?.[_0x44fb5d(0x79b)],'owner':this[_0x44fb5d(0x764)][_0x44fb5d(0x265)]});this[_0x44fb5d(0x4bd)](_0x44fb5d(0x21e),_0x5af03c),await this[_0x44fb5d(0x1cb)][_0x44fb5d(0x259)][_0x44fb5d(0x2f1)](_0x5af03c);},'contacts.update':async(_0x9ad831,_0x571e48)=>{const _0x18363a=_0x652c6;let _0x2deea5=[];for await(let _0x4ea27b of _0x9ad831)_0x2deea5[_0x18363a(0x635)]({'_id':_0x4ea27b['id'],'pushName':_0x4ea27b?.[_0x18363a(0x7b2)]??_0x4ea27b?.[_0x18363a(0x79b)],'owner':this[_0x18363a(0x764)][_0x18363a(0x265)]});this['sendDataWebhook']('contacts.update',_0x2deea5);}},this[_0x652c6(0x576)]={'messaging-history.set':async({messages:_0x1910ca,chats:_0x1d51a0,isLatest:_0x4dd9c9},_0x599d78)=>{const _0x3a0705=_0x652c6;if(_0x4dd9c9){let _0x525698=await Promise[_0x3a0705(0x241)](_0x1d51a0[_0x3a0705(0x5bd)](async _0x791819=>({'_id':_0x791819['id'],'owner':this[_0x3a0705(0x764)][_0x3a0705(0x265)],'group':_0x791819['id']['endsWith']('@g.us'),'name':_0x791819[_0x3a0705(0x7b2)]||_0x791819[_0x3a0705(0x21b)]||_0x791819[_0x3a0705(0x428)]||null,'contactname':null,'lastmsg':_0x791819[_0x3a0705(0x65b)]&&_0x791819['conversationTimestamp'][_0x3a0705(0x76d)]()['length']<0xd?_0x791819['conversationTimestamp']*0x3e8:_0x791819[_0x3a0705(0x65b)]||null,'archived':_0x791819[_0x3a0705(0x273)]||!0x1,'unreadcount':_0x791819[_0x3a0705(0x2e0)]||0x0,'ephemeralExpiration':_0x791819[_0x3a0705(0x3c8)]||0x0,'muteEndTime':_0x791819[_0x3a0705(0x845)]||0x0})));this[_0x3a0705(0x4bd)](_0x3a0705(0x89e),_0x525698),await this[_0x3a0705(0x551)](_0x525698,_0x599d78);}let _0x802002=[],_0x5a52e9=Date[_0x3a0705(0x6bb)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x3633f8]of Object[_0x3a0705(0x615)](_0x1910ca)){if(_0x3633f8[_0x3a0705(0x82d)]?.[_0x3a0705(0x1c1)]||_0x3633f8[_0x3a0705(0x82d)]?.[_0x3a0705(0x72e)]||!_0x3633f8[_0x3a0705(0x82d)]||_0x3633f8['key'][_0x3a0705(0x87e)]===_0x3a0705(0x7b9)||(Ls[_0x3a0705(0x391)][_0x3a0705(0x1b2)](_0x3633f8?.[_0x3a0705(0x885)])&&(_0x3633f8[_0x3a0705(0x885)]=_0x3633f8[_0x3a0705(0x885)]?.['toNumber']()),_0x3633f8[_0x3a0705(0x885)]&&_0x3633f8[_0x3a0705(0x885)][_0x3a0705(0x76d)]()[_0x3a0705(0x27a)]<0xd&&(_0x3633f8[_0x3a0705(0x885)]=_0x3633f8[_0x3a0705(0x885)]*0x3e8),_0x3633f8[_0x3a0705(0x885)]<_0x5a52e9))continue;let _0x3effbe=(0x0,w['normalizeMessageContent'])(_0x3633f8[_0x3a0705(0x82d)]),_0x7fee91=(0x0,w[_0x3a0705(0x556)])(_0x3effbe),{message_normalized:_0x55c680}=this['normalizeMessage'](_0x3effbe,_0x7fee91,null);Object[_0x3a0705(0x6f3)](_0x55c680)[_0x3a0705(0x27a)]>0x0&&_0x802002[_0x3a0705(0x635)]({'_id':_0x3633f8[_0x3a0705(0x861)]['id'],'key':_0x3633f8[_0x3a0705(0x861)],'pushName':_0x3633f8[_0x3a0705(0x2a7)],'participant':_0x3633f8[_0x3a0705(0x757)],'message':_0x3effbe,'messageType':_0x7fee91,'message_normalized':{'key':_0x3633f8['key'],'pushName':_0x3633f8[_0x3a0705(0x2a7)],'messageTimestamp':_0x3633f8[_0x3a0705(0x885)],..._0x55c680},'messageTimestamp':_0x3633f8[_0x3a0705(0x885)],'owner':this['instance']['wuid']});}_0x599d78[_0x3a0705(0x8a8)]&&_0x802002[_0x3a0705(0x27a)]>0x0&&(this[_0x3a0705(0x341)][_0x3a0705(0x242)](this[_0x3a0705(0x699)]+'\x20('+this['instance'][_0x3a0705(0x265)]+_0x3a0705(0x6ae)+_0x802002['length']+_0x3a0705(0x7e5)+this[_0x3a0705(0x764)][_0x3a0705(0x265)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x3a0705(0x1cb)][_0x3a0705(0x82d)]['insert']([..._0x802002],this['instance'][_0x3a0705(0x265)])),this[_0x3a0705(0x4bd)](_0x3a0705(0x350),[..._0x802002]),_0x1910ca=void 0x0;},'messages.upsert':async({messages:_0xdd4181,type:_0x2a31da},_0x4b48f3)=>{const _0x5df94d=_0x652c6;for(let _0x152504 of _0xdd4181){if(this[_0x5df94d(0x589)]?.[_0x5df94d(0x325)]&&_0x152504[_0x5df94d(0x861)][_0x5df94d(0x87e)][_0x5df94d(0x87c)]('@g.us')){this[_0x5df94d(0x341)][_0x5df94d(0x242)](this['instanceName']+'\x20('+this[_0x5df94d(0x764)][_0x5df94d(0x265)]+_0x5df94d(0x60a));return;}if(_0x2a31da!=='notify'||!_0x152504?.[_0x5df94d(0x82d)]||_0x152504[_0x5df94d(0x82d)]?.[_0x5df94d(0x1c1)]||_0x152504[_0x5df94d(0x82d)]['senderKeyDistributionMessage']||_0x152504[_0x5df94d(0x861)][_0x5df94d(0x87e)]===_0x5df94d(0x7b9))return;let _0x59550c=null,_0x5d94b3=null;if(_0x152504[_0x5df94d(0x312)]&&_0x152504[_0x5df94d(0x312)][0x0]===_0x5df94d(0x79c)){console[_0x5df94d(0x1f6)](_0x5df94d(0x55a)),qt[_0x152504[_0x5df94d(0x861)]['id']]=_0x152504,this[_0x5df94d(0x49a)](_0x152504,0x0);return;}qt[_0x152504['key']['id']]&&(console[_0x5df94d(0x1f6)](_0x5df94d(0x4f1)),delete qt[_0x152504[_0x5df94d(0x861)]['id']]);try{_0x59550c=await this[_0x5df94d(0x4a9)](_0x152504),_0x5d94b3=_0x59550c?_0x59550c['join'](','):null;}catch(_0x38351c){this[_0x5df94d(0x341)][_0x5df94d(0x242)](this['instanceName']+'\x20('+this[_0x5df94d(0x764)]['wuid']+_0x5df94d(0x6ae)+(_0x38351c instanceof Error?_0x38351c['message']:JSON[_0x5df94d(0x54f)](_0x38351c,null,0x2))),_0x5d94b3='error\x20get\x20vote';}this[_0x5df94d(0x6ea)][_0x5df94d(0x1fd)](_0x5df94d(0x1e0)),Ls[_0x5df94d(0x391)]['isLong'](_0x152504[_0x5df94d(0x885)])&&(_0x152504[_0x5df94d(0x885)]=_0x152504[_0x5df94d(0x885)]?.['toNumber']()),_0x152504[_0x5df94d(0x885)]&&_0x152504['messageTimestamp'][_0x5df94d(0x76d)]()[_0x5df94d(0x27a)]<0xd&&(_0x152504[_0x5df94d(0x885)]=_0x152504[_0x5df94d(0x885)]*0x3e8);let _0x48bdb2=_0x152504[_0x5df94d(0x82d)],_0x33753d=(0x0,w[_0x5df94d(0x842)])(_0x48bdb2),_0x74de8a=(0x0,w[_0x5df94d(0x556)])(_0x33753d),{messageContent:_0x398a8b,message_normalized:_0x1c80d2}=this['normalizeMessage'](_0x33753d,_0x74de8a,_0x5d94b3);_0x74de8a===_0x5df94d(0x1c1)&&_0x398a8b?.[_0x5df94d(0x4a4)]&&(_0x74de8a=_0x5df94d(0x4a4));let _0x17e55b,_0x546376=_0x152504['key'][_0x5df94d(0x87e)][_0x5df94d(0x7c2)](_0x5df94d(0x674));if(_0x152504[_0x5df94d(0x861)][_0x5df94d(0x474)])_0x17e55b=this[_0x5df94d(0x764)][_0x5df94d(0x6a1)];else{let _0x2ede5f=_0x546376?_0x152504[_0x5df94d(0x861)]['participant']:_0x152504[_0x5df94d(0x861)][_0x5df94d(0x87e)];_0x17e55b=(await this[_0x5df94d(0x301)](_0x2ede5f,_0x152504[_0x5df94d(0x2a7)],!0x1))[_0x5df94d(0x1f5)][_0x5df94d(0x3a0)];}let _0x2a4e8d={'_id':_0x152504[_0x5df94d(0x861)]['id'],'key':_0x152504[_0x5df94d(0x861)],'isGroup':_0x546376,'profilePictureUrl':_0x17e55b,'pushName':_0x152504[_0x5df94d(0x2a7)],'message':_0x33753d,'messageType':_0x74de8a,'message_normalized':{'key':_0x152504[_0x5df94d(0x861)],'pushName':_0x152504[_0x5df94d(0x2a7)],'messageTimestamp':_0x152504['messageTimestamp'],'source':(0x0,w[_0x5df94d(0x482)])(_0x152504[_0x5df94d(0x861)]['id']),..._0x1c80d2},'messageTimestamp':_0x152504[_0x5df94d(0x885)],'owner':this['instance']['wuid'],'source':(0x0,w[_0x5df94d(0x482)])(_0x152504[_0x5df94d(0x861)]['id']),'expiration':_0x398a8b?.['contextInfo']?.['expiration']||0x0};_0x398a8b||(this[_0x5df94d(0x341)][_0x5df94d(0x1f6)]('Mensagem\x20não\x20suportada'),this['logger'][_0x5df94d(0x1f6)](_0x2a4e8d)),this['logger'][_0x5df94d(0x4d9)](this[_0x5df94d(0x699)]+'\x20('+this['instance']['wuid']+_0x5df94d(0x6ae)+(_0x2a4e8d[_0x5df94d(0x861)]?.[_0x5df94d(0x474)]?'enviado\x20para':_0x5df94d(0x754))+'\x20['+_0x2a4e8d[_0x5df94d(0x861)]?.[_0x5df94d(0x87e)]['replace']('@s.whatsapp.net','')+_0x5df94d(0x5fd)+_0x2a4e8d[_0x5df94d(0x55c)]+')'),_0x2a4e8d['message_normalized']?.[_0x5df94d(0x746)]&&this[_0x5df94d(0x341)][_0x5df94d(0x4d9)](_0x152504['key']['id']+':\x20'+_0x2a4e8d[_0x5df94d(0x8e4)]?.['text']),await this[_0x5df94d(0x1cb)][_0x5df94d(0x82d)][_0x5df94d(0x2f1)]([_0x2a4e8d],this[_0x5df94d(0x764)][_0x5df94d(0x265)]),this[_0x5df94d(0x4bd)](_0x5df94d(0x377),_0x2a4e8d),q(this['instanceName'],_0x5df94d(0x658),{'message':_0x2a4e8d}),_0x152504['key'][_0x5df94d(0x87e)]!==_0x5df94d(0x7b9)&&await this[_0x5df94d(0x547)](_0x4b48f3,_0x2a4e8d,_0x5df94d(0x522));}},'messages.update':async(_0x57f681,_0x49d4a1)=>{const _0x20703e=_0x652c6;let _0x1d13d2={0x0:_0x20703e(0x5cf),0x1:_0x20703e(0x32f),0x2:'SERVER_ACK',0x3:_0x20703e(0x838),0x4:_0x20703e(0x7fa),0x5:_0x20703e(0x430)};for await(let {key:_0x5e80e2,update:_0x3c9b7b}of _0x57f681){if(this[_0x20703e(0x589)]?.['groups_ignore']&&_0x5e80e2[_0x20703e(0x87e)][_0x20703e(0x87c)](_0x20703e(0x674))){this[_0x20703e(0x341)][_0x20703e(0x242)](this[_0x20703e(0x699)]+'\x20('+this[_0x20703e(0x764)][_0x20703e(0x265)]+_0x20703e(0x618));return;}if(_0x5e80e2[_0x20703e(0x87e)]!==_0x20703e(0x7b9)){let _0x17b812=Date[_0x20703e(0x6bb)](),_0x4c39b6;_0x3c9b7b['message']===null&&_0x3c9b7b[_0x20703e(0x315)]===void 0x0?_0x4c39b6='DELETED':_0x4c39b6=_0x1d13d2[_0x3c9b7b['status']];let _0x434bac=_0x5e80e2[_0x20703e(0x87e)][_0x20703e(0x1ef)](/:\d{1,2}@/g,'@'),_0x1cfc3d={..._0x5e80e2,'remoteJid':_0x434bac,'status':_0x4c39b6,'datetime':_0x17b812,'owner':this[_0x20703e(0x764)][_0x20703e(0x265)]};this[_0x20703e(0x4bd)](_0x20703e(0x536),_0x1cfc3d),await this['updateMessage'](_0x5e80e2,_0x1cfc3d);}}},'labels.association':async({type:_0x5787d9,association:_0x2807f6})=>{const _0xc40ae=_0x652c6;if(_0x2807f6[_0xc40ae(0x6b8)]===_0xc40ae(0x3cf)){let _0x5c2fb6,_0x599650=0x0;for(;!_0x5c2fb6&&_0x599650<this[_0xc40ae(0x32c)];)_0x5c2fb6=await this['repository']['chat'][_0xc40ae(0x741)]({'where':{'_id':_0x2807f6['chatId']}},this[_0xc40ae(0x764)][_0xc40ae(0x265)]),_0x5c2fb6||(_0x599650++,this[_0xc40ae(0x341)][_0xc40ae(0x560)](this['instanceName']+'\x20('+this[_0xc40ae(0x764)][_0xc40ae(0x265)]+_0xc40ae(0x740)+_0x2807f6[_0xc40ae(0x8bf)]+'\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20'+this['delayChatLabel_RETRY_DELAY_MS']+_0xc40ae(0x1cd)+_0x599650+'/'+this[_0xc40ae(0x32c)]+')'),await this[_0xc40ae(0x69d)](this[_0xc40ae(0x338)]));if(!_0x5c2fb6){this[_0xc40ae(0x341)][_0xc40ae(0x1f6)](_0xc40ae(0x7c1)+_0x2807f6[_0xc40ae(0x8bf)]+_0xc40ae(0x45d)+this[_0xc40ae(0x32c)]+'\x20tentativas.');return;}switch(_0x5787d9){case _0xc40ae(0x1b9):console['log'](_0x2807f6),await this[_0xc40ae(0x1cb)][_0xc40ae(0x254)][_0xc40ae(0x5ea)]({'where':{'_id':_0x2807f6['chatId']}},{'leadInfo.etiquetas':_0x2807f6[_0xc40ae(0x60f)]},this[_0xc40ae(0x764)][_0xc40ae(0x265)],void 0x0,_0xc40ae(0x438));break;case _0xc40ae(0x54e):console[_0xc40ae(0x4d9)](_0x2807f6),await this[_0xc40ae(0x1cb)][_0xc40ae(0x254)][_0xc40ae(0x5ea)]({'where':{'_id':_0x2807f6[_0xc40ae(0x8bf)]}},{'leadInfo.etiquetas':_0x2807f6['labelId']},this[_0xc40ae(0x764)][_0xc40ae(0x265)],void 0x0,_0xc40ae(0x232));break;default:this[_0xc40ae(0x341)][_0xc40ae(0x1f6)](_0xc40ae(0x4b1)+_0x5787d9+']');}}},'labels.edit':async _0x4e38ff=>{const _0x50a734=_0x652c6;if(!_0x4e38ff||!_0x4e38ff['id']){this[_0x50a734(0x341)][_0x50a734(0x1f6)]('Rótulo\x20inválido\x20ou\x20sem\x20ID.');return;}if(!_0x4e38ff[_0x50a734(0x4b6)]){let _0x1154ce=[_0x50a734(0x527),'#64c4ff','#fed428',_0x50a734(0x61a),'#9ab6c1','#56ccb4','#fe9dfe',_0x50a734(0x86b),_0x50a734(0x63f),_0x50a734(0x7bb),_0x50a734(0x51f),_0x50a734(0x47a),_0x50a734(0x6b7),_0x50a734(0x713),_0x50a734(0x712),_0x50a734(0x8e9),_0x50a734(0x48e),_0x50a734(0x415),'#9ba6ff','#9568cf'],_0x1e33d9;typeof _0x4e38ff[_0x50a734(0x53e)]=='number'&&_0x4e38ff[_0x50a734(0x53e)]>=0x0&&_0x4e38ff[_0x50a734(0x53e)]<_0x1154ce[_0x50a734(0x27a)]?_0x1e33d9=_0x1154ce[_0x4e38ff['color']]:(this[_0x50a734(0x341)][_0x50a734(0x1f6)](_0x50a734(0x873)+_0x4e38ff[_0x50a734(0x53e)]),_0x1e33d9=_0x50a734(0x65a));let _0x36b32a={'_id':_0x4e38ff['id'],'colorHex':_0x1e33d9,'color':_0x4e38ff?.[_0x50a734(0x53e)],'name':_0x4e38ff?.[_0x50a734(0x7b2)],'owner':this['instance']['wuid']};await this[_0x50a734(0x1cb)][_0x50a734(0x451)][_0x50a734(0x5ea)]({'where':{'_id':_0x4e38ff['id']}},_0x36b32a,this[_0x50a734(0x764)][_0x50a734(0x265)]),this[_0x50a734(0x341)][_0x50a734(0x560)](this['instanceName']+'\x20('+this['instance'][_0x50a734(0x265)]+_0x50a734(0x80b)+_0x4e38ff);}_0x4e38ff[_0x50a734(0x4b6)]&&(await this[_0x50a734(0x1cb)]['label'][_0x50a734(0x2c1)]({'where':{'_id':_0x4e38ff['id']}},this[_0x50a734(0x764)]['wuid']),this[_0x50a734(0x341)][_0x50a734(0x560)](_0x50a734(0x424)+_0x4e38ff['id']));}},this[_0x652c6(0x246)]={'groups.upsert':async _0x15a6ba=>{const _0x1d455e=_0x652c6;this[_0x1d455e(0x589)]?.[_0x1d455e(0x325)]||this[_0x1d455e(0x4bd)](_0x1d455e(0x77e),_0x15a6ba);for(let _0xbfd762 of _0x15a6ba)await this[_0x1d455e(0x390)](_0xbfd762);},'groups.update':async _0x32aff6=>{const _0x40ada2=_0x652c6;this[_0x40ada2(0x589)]?.[_0x40ada2(0x325)]||this[_0x40ada2(0x4bd)](_0x40ada2(0x4f6),_0x32aff6);for(let _0x3f6743 of _0x32aff6)await this[_0x40ada2(0x390)](_0x3f6743);},'group-participants.update':async _0x3aa64a=>{const _0x5da0fb=_0x652c6;this['localWebhook']?.[_0x5da0fb(0x325)]||this[_0x5da0fb(0x4bd)](_0x5da0fb(0x569),_0x3aa64a),await this[_0x5da0fb(0x86d)](_0x3aa64a);}},this[_0x652c6(0x32c)]=0x5,this[_0x652c6(0x338)]=0x1388,this[_0x652c6(0x43d)]=0x0,this[_0x652c6(0x4a9)]=async _0x43c3f5=>{const _0x10af2a=_0x652c6;if(_0x43c3f5['message']?.['pollUpdateMessage']){let _0x19a1f1=await this[_0x10af2a(0x40b)](_0x43c3f5[_0x10af2a(0x82d)][_0x10af2a(0x30a)]['pollCreationMessageKey'],!0x0);if(_0x19a1f1){let _0x18eb24=_0x19a1f1['key'][_0x10af2a(0x474)]?this[_0x10af2a(0x764)][_0x10af2a(0x265)]+_0x10af2a(0x7d0):_0x19a1f1[_0x10af2a(0x861)]['participant']||_0x19a1f1[_0x10af2a(0x861)]['remoteJid'],_0x42025b=_0x19a1f1['key']['id'],_0x4cc0ce=_0x19a1f1['message'],_0xc4e009=Buffer[_0x10af2a(0x457)](_0x4cc0ce[_0x10af2a(0x468)][_0x10af2a(0x8d5)][_0x10af2a(0x76d)]('hex'),_0x10af2a(0x810)),_0x23333d=(0x0,w[_0x10af2a(0x1a8)])(_0x43c3f5['message'][_0x10af2a(0x30a)][_0x10af2a(0x1f1)],{'pollCreatorJid':_0x18eb24,'pollMsgId':_0x42025b,'pollEncKey':_0xc4e009,'voterJid':_0x43c3f5[_0x10af2a(0x861)]['fromMe']?this['instance']['wuid']+'@s.whatsapp.net':_0x43c3f5[_0x10af2a(0x861)][_0x10af2a(0x87e)][_0x10af2a(0x7c2)](_0x10af2a(0x21c))?_0x43c3f5['key'][_0x10af2a(0x757)]:_0x43c3f5[_0x10af2a(0x861)][_0x10af2a(0x87e)]}),_0x206dad=[],_0x5cd1be=_0x23333d[_0x10af2a(0x2b0)][_0x10af2a(0x5bd)](_0x3a5c49=>Buffer[_0x10af2a(0x457)](_0x3a5c49)[_0x10af2a(0x76d)](_0x10af2a(0x810)));for(let {optionName:_0x27e09f}of _0x4cc0ce[_0x10af2a(0x5a0)]?.[_0x10af2a(0x274)]||_0x4cc0ce['pollCreationMessageV3']?.[_0x10af2a(0x274)]||_0x4cc0ce[_0x10af2a(0x225)]?.[_0x10af2a(0x274)])_0x5cd1be[_0x10af2a(0x2ab)]((0x0,w[_0x10af2a(0x7be)])(Buffer['from'](_0x27e09f))[_0x10af2a(0x76d)]('hex'))>-0x1&&_0x206dad[_0x10af2a(0x635)](_0x27e09f);return _0x206dad;}}return null;},this[_0x652c6(0x399)]=(_0x6497d5,_0x324b4e,_0x16d096)=>{const _0x4b8357=_0x652c6;try{let _0x13f50f=_0x6497d5?(0x0,w['extractMessageContent'])(_0x6497d5)[_0x324b4e]:void 0x0,_0x2c0576={},_0x100ae9=null,_0x4488ac=null,_0x3944c6=null;_0x324b4e===_0x4b8357(0x1c1)&&_0x13f50f?.['editedMessage']&&(_0x324b4e=(0x0,w[_0x4b8357(0x556)])(_0x13f50f[_0x4b8357(0x4a4)]),_0x100ae9=_0x6497d5[_0x4b8357(0x1c1)][_0x4b8357(0x861)]['id'],_0x13f50f=_0x6497d5[_0x4b8357(0x1c1)][_0x4b8357(0x4a4)][_0x324b4e]),_0x6497d5[_0x324b4e]?.[_0x4b8357(0x2d9)]?.[_0x4b8357(0x48a)]&&_0x6497d5[_0x324b4e]?.['contextInfo']?.['quotedMessage']&&(_0x4488ac=_0x6497d5[_0x324b4e][_0x4b8357(0x2d9)]['stanzaId']),_0x6497d5[_0x4b8357(0x339)]&&(_0x3944c6=_0x6497d5['reactionMessage']['key']['id']);let _0x67f954;if(_0x13f50f&&typeof _0x13f50f=='object'&&_0x4b8357(0x348)in _0x13f50f&&({pollCreationMessageKey:_0x67f954}=_0x13f50f),_0x324b4e===_0x4b8357(0x5a0)||_0x324b4e===_0x4b8357(0x225)||_0x324b4e==='pollCreationMessageV3'){let _0x53736d=_0x13f50f[_0x4b8357(0x274)]['map'](_0xe36713=>_0xe36713['optionName'])[_0x4b8357(0x260)]('|');_0x2c0576[_0x4b8357(0x603)]=_0x53736d;}let _0x3a90fb='';if(_0x13f50f&&(_0x3a90fb+=_0x13f50f[_0x4b8357(0x7b2)]?_0x13f50f[_0x4b8357(0x7b2)]:'',_0x3a90fb+=_0x13f50f[_0x4b8357(0x62d)]?'\x20'+_0x13f50f[_0x4b8357(0x62d)]:'',_0x3a90fb+=_0x13f50f[_0x4b8357(0x54c)]?'\x20'+_0x13f50f[_0x4b8357(0x54c)]:'',_0x3a90fb+=_0x13f50f[_0x4b8357(0x21b)]?'\x20'+_0x13f50f[_0x4b8357(0x21b)]:''),_0x324b4e===_0x4b8357(0x69b)){_0x3a90fb=(_0x13f50f[_0x4b8357(0x6df)]||'')+'\x0a'+(_0x13f50f[_0x4b8357(0x45a)]||'')+'\x0a'+(_0x13f50f['footerText']||'');let _0x3214bf=this[_0x4b8357(0x6b4)](_0x13f50f[_0x4b8357(0x4b5)]);_0x2c0576[_0x4b8357(0x603)]=_0x3214bf;}if(_0x324b4e==='listResponseMessage'&&(_0x16d096=_0x13f50f[_0x4b8357(0x6df)]),_0x13f50f&&_0x13f50f['vcard']){let _0x46b2fa=this[_0x4b8357(0x71d)](JSON[_0x4b8357(0x54f)](_0x13f50f[_0x4b8357(0x4f4)],null,0x2));_0x3a90fb=_0x3a90fb+'\x0a'+_0x46b2fa;}if(_0x13f50f){let {sections:_0x1a4fd2,listType:_0x48775d,displayName:_0x2f9450,vcard:_0xcf4efd,contactVcard:_0xb2976,name:_0x5784dd,caption:_0x49c5a2,conversation:_0x270c3e,pollCreationMessageKey:_0x1f3b9d,footerText:_0x3d26b3,contentText:_0x1a5aa8,pageCount:_0x3d6a4f,headerType:_0x54590b,isAvatar:_0x97a501,isAnimated:_0x159786,fallbackLc:_0x37ad70,fallbackLg:_0x9a2db3,namespace:_0x575019,elementName:_0x447219,localizableParams:_0x3f15fa,viewOnce:_0x5a766c,height:_0xf7d2c0,width:_0x376c1f,key:_0x1856e8,firstScanLength:_0x49a385,firstScanSidecar:_0x33a129,gifPlayback:_0x5669ca,gifAttribution:_0x3a521e,midQualityFileSha256:_0x294255,scansSidecar:_0xc02559,streamingSidecar:_0x3f2187,thumbnailHeight:_0x16ef85,thumbnailWidth:_0x37595b,thumbnailEncSha256:_0x37e8bf,thumbnailDirectPath:_0x2e4602,canonicalUrl:_0x3e1be6,matchedText:_0x5d95c5,previewType:_0x5a1c54,thumbnailSha256:_0x5d39c3,deviceListMetadataVersion:_0x43d11b,inviteLinkGroupTypeV2:_0x1f32d0,interactiveAnnotations:_0x3d5a8c,scanLengths:_0x52edfe,jpegThumbnail:_0x3e10ed,url:_0xecc03f,mediaKeyTimestamp:_0x5b2265,waveform:_0x247405,stickerSentTs:_0x6e5633,firstFrameLength:_0x5144e6,fileEncSha256:_0x3fa8fa,contextInfo:_0x1fbd44,firstFrameSidecar:_0x49ae69,directPath:_0x40171b,fileSha256:_0x1a9ff7,mediaKey:_0x194588,senderTimestampMs:_0x262972,..._0x4dd436}=_0x13f50f;(_0x324b4e==='listMessage'||_0x324b4e===_0x4b8357(0x8bb))&&(delete _0x4dd436[_0x4b8357(0x6df)],delete _0x4dd436[_0x4b8357(0x45a)]),typeof _0x13f50f==_0x4b8357(0x8d7)?_0x2c0576={'text':_0x13f50f,'type':_0x324b4e||_0x4b8357(0x54c),..._0x100ae9&&{'edited':_0x100ae9},..._0x4488ac&&{'quoted':_0x4488ac},..._0x3944c6&&{'reaction':_0x3944c6}}:_0x2c0576={'text':_0x3a90fb,..._0x4dd436,..._0x324b4e===_0x4b8357(0x30a)?{'poll_id':_0x13f50f['pollCreationMessageKey']['id'],'quoted':_0x13f50f[_0x4b8357(0x348)]['id'],'vote':_0x16d096}:{},..._0x324b4e===_0x4b8357(0x8bb)?{'vote':_0x16d096}:{},'type':_0x324b4e,..._0x100ae9&&{'edited':_0x100ae9},..._0x4488ac&&{'quoted':_0x4488ac},..._0x3944c6&&{'reaction':_0x3944c6},...(_0x324b4e===_0x4b8357(0x5a0)||_0x324b4e===_0x4b8357(0x225)||_0x324b4e==='pollCreationMessageV3'||_0x324b4e===_0x4b8357(0x69b))&&{'convertedOptions':_0x2c0576['convertedOptions']}};}return{'messageType':_0x324b4e,'messageContent':_0x13f50f,'message_normalized':_0x2c0576};}catch(_0x2cef60){return this['logger']['error'](_0x4b8357(0x4ba)+_0x2cef60),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},this['processUUID']=null,this[_0x652c6(0x295)]=[],(this[_0x652c6(0x6b5)](),this[_0x652c6(0x76e)](),this[_0x652c6(0x764)][_0x652c6(0x7a4)]={'count':0x0},this[_0x652c6(0x764)][_0x652c6(0x8ce)]={'isConnected':!0x1,'delayMessage':null,'processingGroup':null,'lastSend':0x0,'timeout':null});}set[a0_0x53f180(0x699)](_0x33465a){const _0x2e4d33=a0_0x53f180;if(!_0x33465a){this['instance']['name']=(0x0,_i['v4'])();return;}this[_0x2e4d33(0x764)][_0x2e4d33(0x7b2)]=_0x33465a,this[_0x2e4d33(0x4bd)](_0x2e4d33(0x365),{'instance':this[_0x2e4d33(0x764)][_0x2e4d33(0x7b2)],'status':_0x2e4d33(0x490)});}get[a0_0x53f180(0x699)](){const _0x317b52=a0_0x53f180;return this[_0x317b52(0x764)][_0x317b52(0x7b2)];}get[a0_0x53f180(0x265)](){const _0x2edec9=a0_0x53f180;return this['instance'][_0x2edec9(0x265)];}async[a0_0x53f180(0x686)](){const _0x414639=a0_0x53f180;let _0x3b43c9=this['client'][_0x414639(0x220)]?.[_0x414639(0x7b2)]??this[_0x414639(0x6ea)][_0x414639(0x220)]?.[_0x414639(0x79b)];if(!_0x3b43c9){if(this[_0x414639(0x6f4)]['get']('DATABASE')[_0x414639(0x8a8)]){let _0xf52990=await R[_0x414639(0x7df)]()['db'](this['configService'][_0x414639(0x6c4)](_0x414639(0x739))[_0x414639(0x1e6)][_0x414639(0x349)]+_0x414639(0x8e5))[_0x414639(0x6ab)](this['instanceName'])[_0x414639(0x741)]({'_id':_0x414639(0x278)});if(_0xf52990){let _0x4834bc=JSON[_0x414639(0x67c)](JSON[_0x414639(0x54f)](_0xf52990),w[_0x414639(0x58b)]['reviver']);_0x3b43c9=_0x4834bc['me']?.[_0x414639(0x7b2)]||_0x4834bc['me']?.[_0x414639(0x79b)];}}else{if((0x0,Ue[_0x414639(0x526)])((0x0,j[_0x414639(0x260)])(Me,this[_0x414639(0x699)],_0x414639(0x645)))){let _0x101aa5=JSON[_0x414639(0x67c)]((0x0,Ue[_0x414639(0x4ae)])((0x0,j[_0x414639(0x260)])(Me,this[_0x414639(0x699)],'creds.json'),{'encoding':_0x414639(0x667)}));_0x3b43c9=_0x101aa5['me']?.['name']||_0x101aa5['me']?.[_0x414639(0x79b)];}}}return _0x3b43c9;}get['profilePictureUrl'](){const _0x30f6d4=a0_0x53f180;return this[_0x30f6d4(0x764)][_0x30f6d4(0x6a1)];}get[a0_0x53f180(0x357)](){const _0x1cd665=a0_0x53f180;return this[_0x1cd665(0x764)][_0x1cd665(0x7a4)]?.[_0x1cd665(0x7eb)]?{'pairingCode':this[_0x1cd665(0x764)]['qrcode']?.[_0x1cd665(0x7eb)]}:{'code':this[_0x1cd665(0x764)][_0x1cd665(0x7a4)]?.[_0x1cd665(0x467)],'base64':this['instance'][_0x1cd665(0x7a4)]?.[_0x1cd665(0x4f7)]};}async['loadWebhook'](){const _0x30677f=a0_0x53f180;let _0x579588=await this['repository']['webhook'][_0x30677f(0x479)](this['instanceName']);this[_0x30677f(0x589)][_0x30677f(0x486)]=_0x579588?.['url'],this[_0x30677f(0x589)][_0x30677f(0x531)]=_0x579588?.[_0x30677f(0x531)],this[_0x30677f(0x589)][_0x30677f(0x8ec)]=_0x579588?.[_0x30677f(0x8ec)],this[_0x30677f(0x589)][_0x30677f(0x705)]=_0x579588?.[_0x30677f(0x705)],this[_0x30677f(0x589)][_0x30677f(0x628)]=_0x579588?.[_0x30677f(0x628)],this[_0x30677f(0x589)][_0x30677f(0x829)]=_0x579588?.[_0x30677f(0x829)],this['localWebhook'][_0x30677f(0x522)]=_0x579588?.[_0x30677f(0x522)],this[_0x30677f(0x589)][_0x30677f(0x3ee)]=_0x579588?.[_0x30677f(0x3ee)],this['localWebhook']['GROUPS_UPSERT']=_0x579588?.['GROUPS_UPSERT'],this['localWebhook'][_0x30677f(0x264)]=_0x579588?.[_0x30677f(0x264)],this['localWebhook']['GROUP_PARTICIPANTS_UPDATE']=_0x579588?.['GROUP_PARTICIPANTS_UPDATE'],this[_0x30677f(0x589)][_0x30677f(0x375)]=_0x579588?.['CHATS_SET'],this[_0x30677f(0x589)][_0x30677f(0x80c)]=_0x579588?.[_0x30677f(0x80c)],this[_0x30677f(0x589)][_0x30677f(0x77c)]=_0x579588?.[_0x30677f(0x77c)],this[_0x30677f(0x589)][_0x30677f(0x809)]=_0x579588?.[_0x30677f(0x809)],this[_0x30677f(0x589)]['CONTACTS_SET']=_0x579588?.[_0x30677f(0x553)],this[_0x30677f(0x589)][_0x30677f(0x882)]=_0x579588?.[_0x30677f(0x882)],this['localWebhook']['CONTACTS_UPDATE']=_0x579588?.[_0x30677f(0x8f2)],this['localWebhook'][_0x30677f(0x31f)]=_0x579588?.['PRESENCE_UPDATE'],this[_0x30677f(0x589)]['MESSAGES_SET']=_0x579588?.[_0x30677f(0x62c)],this[_0x30677f(0x589)][_0x30677f(0x564)]=_0x579588?.['CONNECTION_UPDATE'],this[_0x30677f(0x589)][_0x30677f(0x325)]=_0x579588?.[_0x30677f(0x325)];}async['setWebhook'](_0x2d2ab9){const _0x3218f6=a0_0x53f180;let _0x579e10=[_0x3218f6(0x452),_0x3218f6(0x486),_0x3218f6(0x531),_0x3218f6(0x8ec),_0x3218f6(0x705),_0x3218f6(0x628),_0x3218f6(0x3ee),'MESSAGES_UPSERT','SEND_MESSAGE',_0x3218f6(0x1ba),_0x3218f6(0x264),_0x3218f6(0x6c0),_0x3218f6(0x375),_0x3218f6(0x80c),_0x3218f6(0x77c),_0x3218f6(0x809),_0x3218f6(0x553),_0x3218f6(0x882),_0x3218f6(0x8f2),_0x3218f6(0x31f),_0x3218f6(0x62c),_0x3218f6(0x564),'groups_ignore'],_0x5cc71f={};return _0x579e10[_0x3218f6(0x313)](_0x211b17=>{_0x2d2ab9[_0x211b17]!==void 0x0&&(_0x5cc71f[_0x211b17]=_0x2d2ab9[_0x211b17]);}),_0x5cc71f['url']&&(_0x5cc71f[_0x3218f6(0x486)]=_0x5cc71f[_0x3218f6(0x486)]['trim']()),await this[_0x3218f6(0x1cb)][_0x3218f6(0x765)][_0x3218f6(0x74c)](_0x5cc71f,this['instanceName']),Object[_0x3218f6(0x8bc)](this[_0x3218f6(0x589)],_0x5cc71f),await this[_0x3218f6(0x1cb)][_0x3218f6(0x765)][_0x3218f6(0x479)](this[_0x3218f6(0x699)]);}async['findWebhook'](){const _0xb4c38e=a0_0x53f180;return await this[_0xb4c38e(0x1cb)]['webhook'][_0xb4c38e(0x479)](this[_0xb4c38e(0x699)]);}async['sendDataWebhook'](_0xce1c90,_0x1e74e7){const _0x40f7c4=a0_0x53f180;let _0x198400=_0xce1c90['replace'](/[\.-]/gm,'_')[_0x40f7c4(0x802)](),_0xe185f9=this[_0x40f7c4(0x589)][_0x40f7c4(0x531)]&&(0x0,L[_0x40f7c4(0x464)])(this['localWebhook']['url'])?this[_0x40f7c4(0x589)][_0x40f7c4(0x486)]+(this[_0x40f7c4(0x589)][_0x40f7c4(0x8ec)]?this[_0x40f7c4(0x3d0)][_0xce1c90]:''):null,_0x87e3cd=this[_0x40f7c4(0x589)][_0x198400],_0xbd3b5a=me&&me[_0x40f7c4(0x531)]&&(0x0,L[_0x40f7c4(0x464)])(me[_0x40f7c4(0x486)])?me[_0x40f7c4(0x486)]+(me['local_map']?this['webhookMap'][_0xce1c90]:''):null,_0x3b8677=me?me[_0x198400]:null;if(_0x87e3cd&&_0xe185f9)try{await te[_0x40f7c4(0x391)]['create']({'baseURL':_0xe185f9})[_0x40f7c4(0x78c)]('',{'event':_0xce1c90,'instance':this['instance'][_0x40f7c4(0x7b2)],'apikey':this['instance'][_0x40f7c4(0x3fb)],'data':_0x1e74e7}),this['logger'][_0x40f7c4(0x4d9)](this[_0x40f7c4(0x699)]+'\x20('+this['instance'][_0x40f7c4(0x265)]+_0x40f7c4(0x6f9)+_0xce1c90+':\x20'+_0xe185f9);}catch{this[_0x40f7c4(0x341)]['error'](this['instanceName']+'\x20('+this[_0x40f7c4(0x764)][_0x40f7c4(0x265)]+_0x40f7c4(0x525)+_0xce1c90+':\x20'+_0xe185f9);}if(_0x3b8677&&_0xbd3b5a)try{await te[_0x40f7c4(0x391)][_0x40f7c4(0x74c)]({'baseURL':_0xbd3b5a})[_0x40f7c4(0x78c)]('',{'event':_0xce1c90,'instance':this['instance'][_0x40f7c4(0x7b2)],'apikey':this[_0x40f7c4(0x764)][_0x40f7c4(0x3fb)],'data':_0x1e74e7}),this[_0x40f7c4(0x341)][_0x40f7c4(0x4d9)](this[_0x40f7c4(0x699)]+'\x20('+this[_0x40f7c4(0x764)]['wuid']+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0xce1c90+':\x20'+_0xbd3b5a);}catch{this[_0x40f7c4(0x341)][_0x40f7c4(0x1f6)](this[_0x40f7c4(0x699)]+'\x20('+this[_0x40f7c4(0x764)][_0x40f7c4(0x265)]+_0x40f7c4(0x847)+_0xce1c90+':\x20'+_0xbd3b5a);}}async[a0_0x53f180(0x41d)]({qr:_0x1f84ea,connection:_0x3c8b70,lastDisconnect:_0x198d81}){const _0x5da14c=a0_0x53f180;if(_0x1f84ea){if(this[_0x5da14c(0x764)][_0x5da14c(0x7a4)][_0x5da14c(0x20d)]===Fo)return this['sendDataWebhook']('qrcode.updated',{'message':_0x5da14c(0x492),'statusCode':w[_0x5da14c(0x8e6)][_0x5da14c(0x4e2)]}),this[_0x5da14c(0x1fe)]={'state':_0x5da14c(0x293),'statusReason':w[_0x5da14c(0x8e6)][_0x5da14c(0x4c5)]},this[_0x5da14c(0x4bd)](_0x5da14c(0x6da),{'instance':this['instance'][_0x5da14c(0x7b2)],...this[_0x5da14c(0x1fe)]}),this[_0x5da14c(0x4bd)](_0x5da14c(0x365),{'instance':this[_0x5da14c(0x764)][_0x5da14c(0x7b2)],'status':_0x5da14c(0x613)}),this['repository']['auth']['delete'](this['instance']['name']),this[_0x5da14c(0x8c6)]=!0x0,re[_0x5da14c(0x28c)](K,this[_0x5da14c(0x764)][_0x5da14c(0x7b2)]),this[_0x5da14c(0x491)][_0x5da14c(0x5d2)]('no.connection',this[_0x5da14c(0x764)][_0x5da14c(0x7b2)]);this[_0x5da14c(0x764)][_0x5da14c(0x7a4)][_0x5da14c(0x20d)]++;let _0xb80fa7={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x5da14c(0x65a)}};xi[_0x5da14c(0x391)][_0x5da14c(0x1ec)](_0x1f84ea,_0xb80fa7,(_0x9a9257,_0xa04af6)=>{const _0x3b7ed9=_0x5da14c;if(_0x9a9257){this['logger'][_0x3b7ed9(0x1f6)](this[_0x3b7ed9(0x699)]+'\x20('+this[_0x3b7ed9(0x764)]['wuid']+_0x3b7ed9(0x306)+(_0x9a9257 instanceof Error?_0x9a9257[_0x3b7ed9(0x82d)]:JSON[_0x3b7ed9(0x54f)](_0x9a9257,null,0x2)));return;}this[_0x3b7ed9(0x764)][_0x3b7ed9(0x7a4)][_0x3b7ed9(0x4f7)]=_0xa04af6,this['instance'][_0x3b7ed9(0x7a4)][_0x3b7ed9(0x467)]=_0x1f84ea,!this[_0x3b7ed9(0x731)]&&this['sendDataWebhook'](_0x3b7ed9(0x331),{'qrcode':{'instance':this[_0x3b7ed9(0x764)][_0x3b7ed9(0x7b2)],'pairingCode':this[_0x3b7ed9(0x764)][_0x3b7ed9(0x7a4)][_0x3b7ed9(0x7eb)],'code':_0x1f84ea,'base64':_0xa04af6}});}),this[_0x5da14c(0x731)]?this['instance'][_0x5da14c(0x7a4)]['pairingCode']||(await(0x0,w[_0x5da14c(0x4aa)])(0x7d0),this[_0x5da14c(0x764)][_0x5da14c(0x7a4)]['pairingCode']=await this[_0x5da14c(0x6ea)][_0x5da14c(0x250)](this[_0x5da14c(0x731)])):this[_0x5da14c(0x764)][_0x5da14c(0x7a4)]['pairingCode']=null,Di['default'][_0x5da14c(0x5cc)](_0x1f84ea,{'small':!0x0},_0x46c155=>this[_0x5da14c(0x341)][_0x5da14c(0x4d9)](_0x5da14c(0x251)+this[_0x5da14c(0x764)][_0x5da14c(0x7b2)]+_0x5da14c(0x205)+this['instance'][_0x5da14c(0x7a4)][_0x5da14c(0x20d)]+_0x5da14c(0x562)+this['instance'][_0x5da14c(0x7a4)][_0x5da14c(0x7eb)]+_0x5da14c(0x3bd)+_0x46c155));}if(_0x3c8b70&&(this[_0x5da14c(0x1fe)]={'state':_0x3c8b70,'statusReason':_0x198d81?.[_0x5da14c(0x1f6)]?.[_0x5da14c(0x8d0)]?.[_0x5da14c(0x865)]??0xc8},this[_0x5da14c(0x4bd)]('connection.update',{'instance':this[_0x5da14c(0x764)][_0x5da14c(0x7b2)],...this[_0x5da14c(0x1fe)]})),_0x3c8b70===_0x5da14c(0x805)){if(this[_0x5da14c(0x7c8)]++,this[_0x5da14c(0x7fe)][_0x5da14c(0x635)](Date['now']()),this['reconnectTimestamps']=this['reconnectTimestamps'][_0x5da14c(0x353)](_0x5c651b=>Date[_0x5da14c(0x6bb)]()-_0x5c651b<this[_0x5da14c(0x727)]),_0x198d81[_0x5da14c(0x1f6)]?.[_0x5da14c(0x8d0)]?.[_0x5da14c(0x865)]!==w['DisconnectReason'][_0x5da14c(0x864)]){let _0x2945e1=this[_0x5da14c(0x7c8)]<=0x1?0x0:Math['min'](Math['pow'](0x2,this[_0x5da14c(0x7c8)]-0x1)*0x3e8,0x493e0);console[_0x5da14c(0x4d9)](this['instanceName']+_0x5da14c(0x442)+this[_0x5da14c(0x7c8)]+'.\x20Aguardando\x20'+_0x2945e1/0x3e8+'\x20segundos\x20antes\x20de\x20reconectar...'),await new Promise(_0x1258b4=>setTimeout(_0x1258b4,_0x2945e1)),console[_0x5da14c(0x4d9)](_0x5da14c(0x4be)),await this[_0x5da14c(0x321)]();}else{this[_0x5da14c(0x4bd)](_0x5da14c(0x365),{'instance':this[_0x5da14c(0x764)][_0x5da14c(0x7b2)],'status':_0x5da14c(0x613)}),this[_0x5da14c(0x764)]['ScheduleMessage']['isConnected']=!0x1,this['repository'][_0x5da14c(0x765)][_0x5da14c(0x2c1)](this[_0x5da14c(0x699)]),this[_0x5da14c(0x1cb)][_0x5da14c(0x3f2)][_0x5da14c(0x74c)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x5da14c(0x6bb)]()},this[_0x5da14c(0x764)][_0x5da14c(0x7b2)]),re[_0x5da14c(0x28c)](K,this[_0x5da14c(0x764)]['name']);try{this[_0x5da14c(0x341)]['verbose'](this[_0x5da14c(0x699)]+'\x20('+this[_0x5da14c(0x764)][_0x5da14c(0x265)]+_0x5da14c(0x7d4));let _0x4ea079=await this[_0x5da14c(0x1cb)][_0x5da14c(0x82d)][_0x5da14c(0x520)](this[_0x5da14c(0x764)][_0x5da14c(0x265)]);_0x4ea079[_0x5da14c(0x659)]?this[_0x5da14c(0x341)][_0x5da14c(0x242)](this[_0x5da14c(0x699)]+'\x20('+this[_0x5da14c(0x764)][_0x5da14c(0x265)]+_0x5da14c(0x1ce)):this[_0x5da14c(0x341)][_0x5da14c(0x1f6)]('Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20'+_0x4ea079[_0x5da14c(0x1f6)]);}catch(_0x2b3350){this[_0x5da14c(0x341)][_0x5da14c(0x1f6)]('Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20'+_0x2b3350['message']);}this[_0x5da14c(0x764)]['ScheduleMessage'][_0x5da14c(0x4b3)]!==null&&(this['logger']['verbose'](this[_0x5da14c(0x699)]+'\x20('+this[_0x5da14c(0x764)][_0x5da14c(0x265)]+_0x5da14c(0x1c8)),clearInterval(this[_0x5da14c(0x764)][_0x5da14c(0x8ce)]['delayMessage']),this[_0x5da14c(0x764)][_0x5da14c(0x8ce)][_0x5da14c(0x4b3)]=null),this['logger'][_0x5da14c(0x242)](this['instanceName']+'\x20('+this[_0x5da14c(0x764)]['wuid']+_0x5da14c(0x4f2)),this[_0x5da14c(0x335)]=null,this['eventEmitter'][_0x5da14c(0x5d2)](_0x5da14c(0x1b3),this['instance']['name'],_0x5da14c(0x81d)),this[_0x5da14c(0x6ea)]?.['ws']?.[_0x5da14c(0x805)](),this[_0x5da14c(0x6ea)][_0x5da14c(0x7b4)](new Error(_0x5da14c(0x247)));}}if(_0x3c8b70==='open'){this[_0x5da14c(0x341)]['warn'](this[_0x5da14c(0x699)]+'\x20('+this['instance']['wuid']+_0x5da14c(0x25d)+this[_0x5da14c(0x6ea)]['authState'][_0x5da14c(0x278)]?.['myAppStateKeyId']),this[_0x5da14c(0x6ea)][_0x5da14c(0x7bf)][_0x5da14c(0x278)]?.[_0x5da14c(0x6d3)]||(this[_0x5da14c(0x341)][_0x5da14c(0x848)](this[_0x5da14c(0x699)]+'\x20('+this[_0x5da14c(0x764)][_0x5da14c(0x265)]+_0x5da14c(0x370)),this['client']['ev'][_0x5da14c(0x27e)]()),this[_0x5da14c(0x23a)],this[_0x5da14c(0x764)][_0x5da14c(0x265)]=this[_0x5da14c(0x6ea)][_0x5da14c(0x220)]['id']['replace'](/:\d+/,'')[_0x5da14c(0x1ef)](_0x5da14c(0x7d0),''),this['instance'][_0x5da14c(0x6a1)]=(await this[_0x5da14c(0x862)](this[_0x5da14c(0x764)][_0x5da14c(0x265)]+_0x5da14c(0x7d0)))[_0x5da14c(0x6a1)],this[_0x5da14c(0x1cb)][_0x5da14c(0x3f2)][_0x5da14c(0x74c)]({'online':!0x0,'owner':this[_0x5da14c(0x764)]['wuid'],'lastDisconnect':null},this[_0x5da14c(0x764)][_0x5da14c(0x7b2)]);let _0x3c79c9=_0x5da14c(0x5d6)+this['instance'][_0x5da14c(0x265)],_0x572805=0x28,_0x4ab316=Math[_0x5da14c(0x376)]((_0x572805-_0x3c79c9[_0x5da14c(0x27a)])/0x2),_0x2a5e9c='\x20'[_0x5da14c(0x5f2)](_0x4ab316),_0x1de373=_0x5da14c(0x875),_0x5478ed='Instância:\x20'+this[_0x5da14c(0x764)]['name'],_0x354ba3=(''+_0x2a5e9c+_0x3c79c9+_0x2a5e9c)['padEnd'](_0x572805,'\x20'),_0x1a50b2=(''+_0x2a5e9c+_0x1de373+_0x2a5e9c)[_0x5da14c(0x7ab)](_0x572805,'\x20'),_0xd7a73c=(''+_0x2a5e9c+_0x5478ed+_0x2a5e9c)[_0x5da14c(0x7ab)](_0x572805,'\x20'),_0x5c55a4=Math[_0x5da14c(0x837)](_0x354ba3['length'],_0x1a50b2[_0x5da14c(0x27a)],_0xd7a73c[_0x5da14c(0x27a)]),_0x404957=_0x354ba3['padEnd'](_0x5c55a4,'\x20'),_0x24f84b=_0x1a50b2['padEnd'](_0x5c55a4,'\x20'),_0x52d667=_0xd7a73c[_0x5da14c(0x7ab)](_0x5c55a4,'\x20');this[_0x5da14c(0x341)][_0x5da14c(0x560)]((_0x5da14c(0x4d3)+'─'[_0x5da14c(0x5f2)](_0x5c55a4)+'┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x24f84b+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x52d667+_0x5da14c(0x8b3)+_0x404957+_0x5da14c(0x3dc)+'─'['repeat'](_0x5c55a4)+'┘')[_0x5da14c(0x1ef)](/^ +/gm,'\x20\x20')),this[_0x5da14c(0x590)](),this['instance']['ScheduleMessage'][_0x5da14c(0x521)]=!0x0;}}[a0_0x53f180(0x23a)](){const _0x3f2840=a0_0x53f180;this[_0x3f2840(0x7c8)]=0x0,this[_0x3f2840(0x7fe)]=[];}async[a0_0x53f180(0x40b)](_0x19738c,_0x2d95ee=!0x1){const _0x8b7951=a0_0x53f180;try{let _0x58431e=await this[_0x8b7951(0x1cb)][_0x8b7951(0x82d)][_0x8b7951(0x479)]({'where':{'_id':_0x19738c['id']}},this[_0x8b7951(0x764)][_0x8b7951(0x265)]);return _0x2d95ee?_0x58431e[0x0]:_0x58431e[0x0][_0x8b7951(0x82d)];}catch{return{'conversation':''};}}[a0_0x53f180(0x6b5)](){const _0x159b04=a0_0x53f180;let _0x1c2bdf=this[_0x159b04(0x6f4)]['get'](_0x159b04(0x332)),_0x3c2492=this[_0x159b04(0x6f4)][_0x159b04(0x6c4)](_0x159b04(0x739));_0x1c2bdf?.[_0x159b04(0x894)]&&!_0x3c2492[_0x159b04(0x8a8)]&&setInterval(()=>{const _0x172fe3=_0x159b04;try{for(let [_0x594b68,_0x33fcf2]of Object[_0x172fe3(0x615)](_0x1c2bdf))_0x33fcf2===!0x0&&(0x0,je[_0x172fe3(0x40a)])('rm\x20-rf\x20'+(0x0,j[_0x172fe3(0x260)])(this[_0x172fe3(0x512)],_0x594b68[_0x172fe3(0x83c)](),this['instance'][_0x172fe3(0x265)])+'/*.json');}catch{}},(_0x1c2bdf?.[_0x159b04(0x894)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x328b17=a0_0x53f180;let _0x4f8534=this['configService'][_0x328b17(0x6c4)](_0x328b17(0x739)),_0x5b78b3=this[_0x328b17(0x6f4)][_0x328b17(0x6c4)](_0x328b17(0x2a6));return _0x5b78b3?.['ENABLED']?await xs(_0x5b78b3,this[_0x328b17(0x764)][_0x328b17(0x7b2)]):_0x4f8534[_0x328b17(0x8a8)]?await _s(this[_0x328b17(0x764)][_0x328b17(0x7b2)]):await(0x0,w[_0x328b17(0x1a1)])((0x0,j['join'])(Me,this[_0x328b17(0x764)]['name']));}async[a0_0x53f180(0x590)](){const _0x54458e=a0_0x53f180;let _0x2ab40b=()=>Math[_0x54458e(0x376)](Math[_0x54458e(0x874)]()*0x4e21)+0x7d0,_0x5d99af=async()=>{const _0x86cd5d=_0x54458e;if(!this[_0x86cd5d(0x764)][_0x86cd5d(0x8ce)][_0x86cd5d(0x521)]){this[_0x86cd5d(0x341)][_0x86cd5d(0x242)](this[_0x86cd5d(0x699)]+'\x20('+this[_0x86cd5d(0x764)]['wuid']+_0x86cd5d(0x270)),this[_0x86cd5d(0x593)]=!0x1;return;}if(this[_0x86cd5d(0x764)][_0x86cd5d(0x265)]&&this[_0x86cd5d(0x335)]&&this[_0x86cd5d(0x764)][_0x86cd5d(0x8ce)]['delayMessage']!==null&&this[_0x86cd5d(0x764)]['ScheduleMessage'][_0x86cd5d(0x4b3)]!==void 0x0){let _0x600496=Math[_0x86cd5d(0x67e)](this[_0x86cd5d(0x764)][_0x86cd5d(0x8ce)]['delayMessage']/0xea60);this['logger']['verbose'](this[_0x86cd5d(0x699)]+'\x20('+this[_0x86cd5d(0x764)]['wuid']+_0x86cd5d(0x622)+_0x600496+_0x86cd5d(0x343)),this['isRunning']=!0x1;return;}else this['instance'][_0x86cd5d(0x265)]&&(this['logger'][_0x86cd5d(0x242)](this[_0x86cd5d(0x699)]+'\x20('+this[_0x86cd5d(0x764)][_0x86cd5d(0x265)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x86cd5d(0x335)]||(await this[_0x86cd5d(0x7b8)](),this[_0x86cd5d(0x63d)](),this[_0x86cd5d(0x29d)]()),(this['instance']['ScheduleMessage']['delayMessage']===null||this['instance'][_0x86cd5d(0x8ce)]['delayMessage']===void 0x0)&&await this[_0x86cd5d(0x2dc)]());if(this[_0x86cd5d(0x593)]){let _0x40454e=_0x2ab40b();this[_0x86cd5d(0x341)][_0x86cd5d(0x242)](this[_0x86cd5d(0x699)]+_0x86cd5d(0x767)+_0x40454e/0x3e8+_0x86cd5d(0x1a2)),setTimeout(_0x5d99af,_0x40454e);}};if(this[_0x54458e(0x593)])return;this[_0x54458e(0x593)]=!0x0;let _0x715ae5=_0x2ab40b();setTimeout(_0x5d99af,_0x715ae5);}async['synchronizeAndMapFlows'](){const _0x44198f=a0_0x53f180;let _0x91822=this['instance']['wuid'];try{let _0x5ab4be=await this[_0x44198f(0x1cb)][_0x44198f(0x72a)]['findAll']({'where':{'$or':[{'owner':_0x91822},{'whoCanUse':{'$in':[_0x91822]}},{'shareOwners':{'$in':[_0x91822]}}]}}),_0x56707f=new Map(this[_0x44198f(0x335)]['flows'][_0x44198f(0x5bd)](_0x1d2720=>[_0x1d2720[_0x44198f(0x452)],_0x1d2720])),_0x40135c=_0x5ab4be[_0x44198f(0x5bd)](_0x42e7a3=>{const _0x4beee0=_0x44198f;let _0x5c94d1=_0x56707f[_0x4beee0(0x6c4)](_0x42e7a3[_0x4beee0(0x452)]?.['toString']());return{'_id':_0x42e7a3[_0x4beee0(0x452)]?.[_0x4beee0(0x76d)](),'name':_0x5c94d1?.[_0x4beee0(0x7b2)]??_0x42e7a3[_0x4beee0(0x7b2)],'default':_0x5c94d1?.[_0x4beee0(0x391)]??_0x42e7a3['default']??!0x1,'startCommand':_0x5c94d1?.[_0x4beee0(0x26d)]??_0x42e7a3['startCommandWord'],'minutesToClose':_0x5c94d1?.[_0x4beee0(0x23d)]??_0x42e7a3[_0x4beee0(0x23d)]??0xa,'readMessages':_0x5c94d1?.['readMessages']??_0x42e7a3[_0x4beee0(0x6ed)]??!0x1,'testingWith':_0x5c94d1?.[_0x4beee0(0x223)]??_0x42e7a3[_0x4beee0(0x223)],'canEdit':_0x42e7a3[_0x4beee0(0x285)]===_0x91822||(_0x42e7a3[_0x4beee0(0x6bc)]??[])[_0x4beee0(0x87c)](_0x91822),'usersCount':(_0x42e7a3[_0x4beee0(0x6e0)]??[])[_0x4beee0(0x27a)]??0x0};}),_0x372506=!0x1;_0x40135c['forEach'](_0x2b75cb=>{const _0x41ea12=_0x44198f;_0x2b75cb['default']&&(_0x372506?_0x2b75cb[_0x41ea12(0x391)]=!0x1:_0x372506=!0x0);}),this['AutomateSystem'][_0x44198f(0x777)]=_0x40135c;let _0xa1d88c={'flows':_0x40135c};return await this[_0x44198f(0x1cb)]['automateSystem']['update'](_0xa1d88c,_0x91822),this[_0x44198f(0x341)][_0x44198f(0x242)](this['instanceName']+'\x20('+_0x91822+_0x44198f(0x8b4)),_0x40135c['length'];}catch(_0x11c9d4){return this[_0x44198f(0x341)][_0x44198f(0x1f6)](this['instanceName']+'\x20('+_0x91822+_0x44198f(0x212)+(_0x11c9d4 instanceof Error?_0x11c9d4['message']:JSON['stringify'](_0x11c9d4,null,0x2))),{'message':_0x44198f(0x358)+(_0x11c9d4 instanceof Error?_0x11c9d4[_0x44198f(0x82d)]:JSON['stringify'](_0x11c9d4,null,0x2))};}}async['connectToWhatsapp'](_0x3c578f){const _0x412106=a0_0x53f180;try{let _0x2da029=await this[_0x412106(0x1cb)][_0x412106(0x764)]['findOne']({'where':{'_id':K+'-'+this[_0x412106(0x699)]}}),_0x3b8de4,_0x13e2bf=!re['ipv6Prefix']||!re[_0x412106(0x30b)];console[_0x412106(0x4d9)]('--------------------------------------'),console[_0x412106(0x4d9)](_0x412106(0x4a7),Oi),console['log'](_0x412106(0x83e),this['reconnectAttempts']),console[_0x412106(0x4d9)](_0x412106(0x5ce)),Oi&&!_0x13e2bf&&(this[_0x412106(0x7c8)]<0x4||!this[_0x412106(0x7c8)]?_0x2da029&&_0x2da029['ip']?(_0x3b8de4=_0x2da029['ip'],console[_0x412106(0x4d9)](_0x412106(0x6bd)+_0x3b8de4)):(_0x3b8de4=await re[_0x412106(0x59d)](K,this[_0x412106(0x764)][_0x412106(0x7b2)]),_0x3b8de4?(console[_0x412106(0x4d9)](_0x412106(0x26f)+_0x3b8de4),await(0x0,w[_0x412106(0x4aa)])(0x7d0)):console['error'](_0x412106(0x284))):this[_0x412106(0x7c8)]<0x6&&(await re['removeIPv6ById'](K,this[_0x412106(0x764)][_0x412106(0x7b2)]),console[_0x412106(0x4d9)](_0x412106(0x587)),_0x3b8de4=await re[_0x412106(0x59d)](K,this[_0x412106(0x764)][_0x412106(0x7b2)]),_0x3b8de4?(console[_0x412106(0x4d9)](_0x412106(0x26f)+_0x3b8de4),await(0x0,w['delay'])(0x7d0)):console[_0x412106(0x1f6)]('Falha\x20ao\x20recriar\x20IPv6.'))),this[_0x412106(0x59e)](),this[_0x412106(0x764)]['apikey']=(await this['repository']['auth'][_0x412106(0x479)](this[_0x412106(0x764)][_0x412106(0x7b2)]))[_0x412106(0x3fb)],this[_0x412106(0x764)]['authState']=await this[_0x412106(0x546)]();let {version:_0x22d89c}=await(0x0,w[_0x412106(0x79e)])(),_0x125438=[ki,Us,(0x0,ks[_0x412106(0x7c6)])()],_0x58eb12={'localAddress':_0x3b8de4,'auth':{'creds':this[_0x412106(0x764)]['authState'][_0x412106(0x1fa)][_0x412106(0x278)],'keys':(0x0,w['makeCacheableSignalKeyStore'])(this[_0x412106(0x764)][_0x412106(0x7bf)][_0x412106(0x1fa)]['keys'],(0x0,Vt[_0x412106(0x391)])({'level':'error'}))},'logger':(0x0,Vt[_0x412106(0x391)])({'level':'error'}),'printQRInTerminal':!0x1,'browser':_0x3c578f?[_0x412106(0x2cc),Us,(0x0,ks[_0x412106(0x7c6)])()]:_0x125438,'version':_0x22d89c,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'fireInitQueries':!0x0,'keepAliveIntervalMs':0x7530,'connectTimeoutMs':0x4e20,'qrTimeout':0xafc8,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x4e15a7=>{const _0xf58638=_0x412106;let _0x566c09=this[_0xf58638(0x589)]?.[_0xf58638(0x325)]&&(0x0,w[_0xf58638(0x6e3)])(_0x4e15a7);return(0x0,w[_0xf58638(0x23c)])(_0x4e15a7)||_0x566c09;},'msgRetryCounterCache':this[_0x412106(0x70f)],'getMessage':async _0x2e3e20=>await this['getMessage'](_0x2e3e20),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this['userDevicesCache'],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending'(_0x3ec533){const _0x3d0070=_0x412106;return _0x3ec533[_0x3d0070(0x3cb)]?.[_0x3d0070(0x82d)]?.['listMessage']?.[_0x3d0070(0x702)]===w[_0x3d0070(0x6f7)]['Message']['ListMessage'][_0x3d0070(0x1bc)]['PRODUCT_LIST']&&(_0x3ec533=JSON[_0x3d0070(0x67c)](JSON[_0x3d0070(0x54f)](_0x3ec533)),_0x3ec533[_0x3d0070(0x3cb)]['message'][_0x3d0070(0x69b)][_0x3d0070(0x702)]=w['proto']['Message']['ListMessage'][_0x3d0070(0x1bc)][_0x3d0070(0x6f2)]),_0x3ec533[_0x3d0070(0x69b)]?.[_0x3d0070(0x702)]==w[_0x3d0070(0x6f7)][_0x3d0070(0x8c2)]['ListMessage'][_0x3d0070(0x1bc)][_0x3d0070(0x2a4)]&&(_0x3ec533=JSON[_0x3d0070(0x67c)](JSON[_0x3d0070(0x54f)](_0x3ec533)),_0x3ec533['listMessage'][_0x3d0070(0x702)]=w[_0x3d0070(0x6f7)][_0x3d0070(0x8c2)][_0x3d0070(0x572)][_0x3d0070(0x1bc)][_0x3d0070(0x6f2)]),_0x3ec533;}};return this['endSession']=!0x1,this[_0x412106(0x6ea)]=(0x0,w['default'])(_0x58eb12),this[_0x412106(0x8b5)](),this[_0x412106(0x731)]=_0x3c578f,this[_0x412106(0x6ea)];}catch(_0x46a87a){let _0x1c34db=_0x412106(0x817),_0x48b958=_0x46a87a instanceof Error?_0x46a87a[_0x412106(0x82d)]:typeof _0x46a87a=='object'?JSON[_0x412106(0x54f)](_0x46a87a):_0x46a87a,_0xd350ff=_0x1c34db+':\x20'+_0x48b958;throw this[_0x412106(0x341)]['error'](this[_0x412106(0x699)]+'\x20('+this[_0x412106(0x764)][_0x412106(0x265)]+_0x412106(0x6ae)+_0xd350ff),console[_0x412106(0x1f6)](_0x412106(0x836),_0x46a87a),_0x46a87a instanceof Error&&console[_0x412106(0x1f6)](_0x412106(0x6ff),_0x46a87a[_0x412106(0x3c9)]),new x(_0xd350ff);}}[a0_0x53f180(0x8b5)](){const _0x1bda84=a0_0x53f180;this[_0x1bda84(0x6ea)]['ev'][_0x1bda84(0x1e4)](_0x413600=>{const _0xf44236=_0x1bda84;if(!this[_0xf44236(0x8c6)]){let _0x1d89e2=this[_0xf44236(0x6f4)][_0xf44236(0x6c4)](_0xf44236(0x739));if(_0x413600[_0xf44236(0x677)]){let _0x15649a=_0x413600['labels.edit'];this[_0xf44236(0x576)][_0xf44236(0x677)](_0x15649a);}if(_0x413600[_0xf44236(0x69a)]){let _0x5279db=_0x413600[_0xf44236(0x69a)];this[_0xf44236(0x576)][_0xf44236(0x69a)](_0x5279db);}if(_0x413600[_0xf44236(0x6da)]&&this[_0xf44236(0x41d)](_0x413600[_0xf44236(0x6da)]),_0x413600[_0xf44236(0x533)]&&this[_0xf44236(0x764)][_0xf44236(0x7bf)][_0xf44236(0x7d6)](),_0x413600[_0xf44236(0x5ab)]){let _0x46d87e=_0x413600['messaging-history.set'];this['messageHandle'][_0xf44236(0x5ab)](_0x46d87e,_0x1d89e2);}if(_0x413600[_0xf44236(0x377)]){let _0x50327f=_0x413600['messages.upsert'];this[_0xf44236(0x576)][_0xf44236(0x377)](_0x50327f,_0x1d89e2);}if(_0x413600[_0xf44236(0x536)]){let _0x3902e2=_0x413600[_0xf44236(0x536)];this[_0xf44236(0x576)][_0xf44236(0x536)](_0x3902e2,_0x1d89e2);}if(_0x413600[_0xf44236(0x3ca)]){let _0x51f846=_0x413600['presence.update'];if(this[_0xf44236(0x589)]?.['groups_ignore']&&_0x51f846['id']['includes']('@g.us'))return;this[_0xf44236(0x4bd)](_0xf44236(0x3ca),_0x51f846);}if(_0x413600[_0xf44236(0x77e)]){let _0x2cf934=_0x413600[_0xf44236(0x77e)];this['groupHandler'][_0xf44236(0x77e)](_0x2cf934);}if(_0x413600[_0xf44236(0x4f6)]){let _0x4f1419=_0x413600['groups.update'];this['groupHandler']['groups.update'](_0x4f1419);}if(_0x413600[_0xf44236(0x569)]){let _0x4ff47c=_0x413600[_0xf44236(0x569)];this[_0xf44236(0x246)][_0xf44236(0x569)](_0x4ff47c);}if(_0x413600[_0xf44236(0x670)]){let _0x4b9888=_0x413600[_0xf44236(0x670)];this[_0xf44236(0x503)][_0xf44236(0x670)](_0x4b9888,_0x1d89e2);}if(_0x413600['chats.update']){let _0x189f05=_0x413600['chats.update'];this[_0xf44236(0x503)]['chats.update'](_0x189f05,_0x1d89e2);}if(_0x413600[_0xf44236(0x518)]){let _0xd6d989=_0x413600[_0xf44236(0x518)];this[_0xf44236(0x503)][_0xf44236(0x518)](_0xd6d989);}if(_0x413600['contacts.upsert']){let _0x398d77=_0x413600[_0xf44236(0x21e)];this['contactHandle']['contacts.upsert'](_0x398d77,_0x1d89e2);}if(_0x413600[_0xf44236(0x227)]){let _0x56fe54=_0x413600[_0xf44236(0x227)];this[_0xf44236(0x599)][_0xf44236(0x227)](_0x56fe54,_0x1d89e2);}}});}async[a0_0x53f180(0x49a)](_0x2f2ec1,_0x4127d4){const _0x1a5e78=a0_0x53f180;if(_0x4127d4>=0xa){console[_0x1a5e78(0x1f6)](this['instanceName']+'\x20('+this[_0x1a5e78(0x764)][_0x1a5e78(0x265)]+'):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar'),delete qt[_0x2f2ec1[_0x1a5e78(0x861)]['id']];return;}try{console[_0x1a5e78(0x1f6)](this[_0x1a5e78(0x699)]+'\x20('+this[_0x1a5e78(0x764)][_0x1a5e78(0x265)]+_0x1a5e78(0x86a)+(_0x4127d4+0x1)),await this['client'][_0x1a5e78(0x403)](JSON[_0x1a5e78(0x67c)](_0x2f2ec1[_0x1a5e78(0x312)][0x1],w[_0x1a5e78(0x58b)][_0x1a5e78(0x4ef)])),console[_0x1a5e78(0x1f6)](_0x1a5e78(0x631));}catch(_0x590f67){console[_0x1a5e78(0x1f6)](this[_0x1a5e78(0x699)]+'\x20('+this['instance']['wuid']+'):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20'+_0x590f67),setTimeout(()=>this[_0x1a5e78(0x49a)](_0x2f2ec1,_0x4127d4+0x1),Math[_0x1a5e78(0x396)](0x2,_0x4127d4)*0x3e8);}}[a0_0x53f180(0x69d)](_0x29fa77){return new Promise(_0x3b699e=>setTimeout(_0x3b699e,_0x29fa77));}[a0_0x53f180(0x497)](_0x3ebc91){const _0xbd415c=a0_0x53f180;_0x3ebc91=_0x3ebc91[_0xbd415c(0x1ef)](/\D/g,'');let _0x572968=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0xbd415c(0x84b)](_0x3ebc91);if(_0x572968&&_0x572968[0x1]==='55'){let _0x3949f8=_0x572968[0x2],_0x18f42b=_0x572968[0x3],_0x589e80=_0x572968[0x4];if(parseInt(_0x3949f8)>=0x1f&&_0x18f42b==='9')return _0x572968[0x1]+_0x3949f8+_0x589e80;}return _0x3ebc91;}[a0_0x53f180(0x489)](_0x2801cd){const _0x42b5f6=a0_0x53f180;return _0x2801cd[_0x42b5f6(0x87c)](_0x42b5f6(0x674))||_0x2801cd['includes'](_0x42b5f6(0x7d0))||_0x2801cd['includes'](_0x42b5f6(0x5f5))?_0x2801cd:(_0x2801cd=_0x2801cd?.[_0x42b5f6(0x1ef)](/\s/g,'')[_0x42b5f6(0x1ef)](/\+/g,'')[_0x42b5f6(0x1ef)](/\(/g,'')[_0x42b5f6(0x1ef)](/\)/g,'')[_0x42b5f6(0x6ca)](/\:/)[0x0]['split']('@')[0x0],_0x2801cd[_0x42b5f6(0x27a)]>=0x12?(_0x2801cd=_0x2801cd['replace'](/[^\d-]/g,''),_0x2801cd+'@g.us'):(_0x2801cd=_0x2801cd['replace'](/\D/g,''),_0x2801cd+_0x42b5f6(0x7d0)));}async[a0_0x53f180(0x56e)](_0x9884e6){const _0x5476c1=a0_0x53f180;let _0x42ea0d=(await this['whatsappNumber']({'numbers':[_0x9884e6[_0x5476c1(0x373)]]}))[0x0];if(!_0x42ea0d[_0x5476c1(0x630)]&&!(0x0,w[_0x5476c1(0x6e3)])(_0x42ea0d['jid'])&&!_0x42ea0d[_0x5476c1(0x5c7)][_0x5476c1(0x87c)]('@broadcast'))throw new m(_0x42ea0d);let _0x243e48=_0x42ea0d[_0x5476c1(0x5c7)];try{return await this[_0x5476c1(0x6ea)]['presenceSubscribe'](_0x243e48),await this[_0x5476c1(0x6ea)][_0x5476c1(0x1fd)](_0x9884e6['presence'],_0x243e48),{'status':0xc8,'presence':_0x9884e6[_0x5476c1(0x5d3)]};}catch(_0xd484f0){let _0x57457b='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x21be56=_0xd484f0 instanceof Error?_0xd484f0[_0x5476c1(0x82d)]:typeof _0xd484f0==_0x5476c1(0x204)?JSON[_0x5476c1(0x54f)](_0xd484f0):_0xd484f0,_0x47096b=_0x57457b+':\x20'+_0x21be56;throw this[_0x5476c1(0x341)]['error'](this[_0x5476c1(0x699)]+'\x20('+this[_0x5476c1(0x764)][_0x5476c1(0x265)]+_0x5476c1(0x6ae)+_0x47096b),new m(_0x47096b);}}async[a0_0x53f180(0x301)](_0x11527f,_0x3aec95,_0x5d5ac8,_0x4ce8ba=!0x0){const _0x28ba47=a0_0x53f180;let _0x5cc31b=await this['repository'][_0x28ba47(0x6a9)][_0x28ba47(0x741)]({'where':{'_id':_0x11527f}});if(!_0x5cc31b&&!_0x4ce8ba)return;let _0x5b70da={'lastUpdate':Date[_0x28ba47(0x6bb)]()};if(_0x5d5ac8||!_0x5cc31b?.[_0x28ba47(0x5f9)]||Date['now']()-_0x5cc31b[_0x28ba47(0x5f9)]>0x18*0x3c*0x3c*0x3e8)try{let _0x4cf9e3=(await this['profilePicture'](_0x11527f))[_0x28ba47(0x6a1)];_0x5b70da[_0x28ba47(0x3a0)]=_0x4cf9e3;}catch(_0x5875db){let _0x2833b2=_0x28ba47(0x3e3),_0x542415=_0x5875db instanceof Error?_0x5875db['message']:typeof _0x5875db==_0x28ba47(0x204)?JSON[_0x28ba47(0x54f)](_0x5875db):_0x5875db,_0x3f95d1=_0x2833b2+':\x20'+_0x542415;throw this[_0x28ba47(0x341)]['error'](this[_0x28ba47(0x699)]+'\x20('+this[_0x28ba47(0x764)]['wuid']+_0x28ba47(0x6ae)+_0x3f95d1),new m(_0x3f95d1);}return _0x3aec95&&_0x5cc31b?.[_0x28ba47(0x7b2)]!==_0x3aec95&&(_0x5b70da[_0x28ba47(0x7b2)]=_0x3aec95),Object['keys'](_0x5b70da)[_0x28ba47(0x27a)]>0x1&&(_0x5cc31b?await this[_0x28ba47(0x1cb)][_0x28ba47(0x6a9)][_0x28ba47(0x513)]({'where':{'_id':_0x11527f}},_0x5b70da):await this[_0x28ba47(0x1cb)][_0x28ba47(0x6a9)][_0x28ba47(0x2f1)]([{'_id':_0x11527f,..._0x5b70da}]),_0x5cc31b={..._0x5cc31b,..._0x5b70da}),{'cachedContact':_0x5cc31b};}async[a0_0x53f180(0x862)](_0x39d142){const _0xbd16a6=a0_0x53f180;let _0x3b77ae=this[_0xbd16a6(0x489)](_0x39d142);try{return{'wuid':_0x3b77ae,'profilePictureUrl':await this[_0xbd16a6(0x6ea)]['profilePictureUrl'](_0x3b77ae,_0xbd16a6(0x32b))};}catch{return{'wuid':_0x3b77ae,'profilePictureUrl':null};}}async[a0_0x53f180(0x762)](_0x4218e8,_0x19134c,_0x8e94cc){const _0x13df19=a0_0x53f180;let _0x41a578;try{let _0x108ed9=(await this[_0x13df19(0x1e8)]({'numbers':[_0x4218e8]}))?.['shift']();if(!_0x108ed9['exists']&&!(0x0,w[_0x13df19(0x6e3)])(_0x108ed9['jid'])&&!_0x108ed9[_0x13df19(0x5c7)][_0x13df19(0x87c)](_0x13df19(0x5f5)))throw new m(_0x108ed9);_0x41a578=_0x108ed9[_0x13df19(0x5c7)];}catch(_0x45f26a){_0x41a578=_0x4218e8,this[_0x13df19(0x341)][_0x13df19(0x848)](this[_0x13df19(0x699)]+'\x20('+this[_0x13df19(0x764)][_0x13df19(0x265)]+_0x13df19(0x856)+_0x45f26a['message']),this[_0x13df19(0x341)][_0x13df19(0x848)](this[_0x13df19(0x699)]+'\x20('+this[_0x13df19(0x764)][_0x13df19(0x265)]+_0x13df19(0x7b1)+_0x41a578);}try{if(_0x41a578||(_0x41a578=_0x4218e8,this[_0x13df19(0x341)][_0x13df19(0x848)](this['instanceName']+'\x20('+this[_0x13df19(0x764)][_0x13df19(0x265)]+_0x13df19(0x839)+_0x41a578)),_0x8e94cc||(_0x8e94cc={}),_0x8e94cc?.[_0x13df19(0x4aa)]){await this[_0x13df19(0x6ea)][_0x13df19(0x409)](_0x41a578),await this['client'][_0x13df19(0x1fd)](_0x8e94cc?.[_0x13df19(0x5d3)]??_0x13df19(0x6c8),_0x41a578);let _0x402553=Math[_0x13df19(0x6b3)](_0x8e94cc[_0x13df19(0x4aa)],0x2710);await(0x0,w['delay'])(_0x402553),await this[_0x13df19(0x6ea)][_0x13df19(0x1fd)](_0x13df19(0x6d4),_0x41a578);}let _0x23b7f9=_0x8e94cc?.[_0x13df19(0x5eb)]!=!0x1?void 0x0:!0x1,_0x16a795;if(_0x8e94cc?.[_0x13df19(0x728)]){let _0x2c6ebb=_0x8e94cc?.['quoted'],_0x45daf5=_0x2c6ebb?.[_0x13df19(0x82d)]?_0x2c6ebb:await this[_0x13df19(0x40b)](_0x2c6ebb[_0x13df19(0x861)],!0x0);_0x45daf5&&(_0x16a795=_0x45daf5);}let _0xd4a945=await this[_0x13df19(0x1cb)][_0x13df19(0x254)][_0x13df19(0x741)]({'where':{'_id':_0x41a578}},this[_0x13df19(0x764)]['wuid']),_0x3e01eb,_0x203b5e=null;if((0x0,w[_0x13df19(0x6e3)])(_0x41a578))try{if(_0x203b5e=_0xd4a945['groupdata'],!_0x203b5e)throw new J('Group\x20not\x20found');_0x8e94cc?.[_0x13df19(0x804)]&&(_0x8e94cc[_0x13df19(0x804)]?.['everyOne']?_0x3e01eb=_0x203b5e[_0x13df19(0x884)][_0x13df19(0x5bd)](_0x3d83c1=>_0x3d83c1['id']):_0x8e94cc[_0x13df19(0x804)]?.['mentioned']?.['length']&&(_0x3e01eb=_0x8e94cc[_0x13df19(0x804)][_0x13df19(0x897)]['map'](_0x3b15fd=>{const _0x7405eb=_0x13df19;let _0x11a9ac=this[_0x7405eb(0x489)](_0x3b15fd);return(0x0,w[_0x7405eb(0x6e3)])(_0x11a9ac)?null:_0x11a9ac;})));}catch{throw new J(_0x13df19(0x654));}let _0x1d6a3d=await((async()=>{const _0x5436b6=_0x13df19;let _0x75a894={'quoted':_0x16a795,'ephemeralExpiration':_0xd4a945?.['ephemeralExpiration']??0x0,'messageId':_0x5436b6(0x8ea)+(0x0,Re[_0x5436b6(0x5f7)])(0x12)[_0x5436b6(0x76d)]('hex')['toUpperCase']()};if(!_0x19134c[_0x5436b6(0x517)]&&!_0x19134c[_0x5436b6(0x722)]&&!_0x19134c['sticker']&&!_0x19134c[_0x5436b6(0x54c)]&&_0x41a578!==_0x5436b6(0x7b9)&&_0x19134c['reactionMessage'])return await this[_0x5436b6(0x6ea)][_0x5436b6(0x74d)](_0x41a578,{'react':{'text':_0x19134c['reactionMessage']['text'],'key':_0x19134c[_0x5436b6(0x339)][_0x5436b6(0x861)]}},_0x75a894);if(_0x19134c[_0x5436b6(0x54c)]){let _0x2e342f=_0x19134c[_0x5436b6(0x54c)];return _0x8e94cc?.[_0x5436b6(0x7ce)]&&(_0x2e342f=await this[_0x5436b6(0x3b0)](_0x2e342f,_0x41a578)),await this[_0x5436b6(0x6ea)][_0x5436b6(0x74d)](_0x41a578,{'text':_0x2e342f,'mentions':_0x3e01eb,'linkPreview':_0x23b7f9},_0x75a894);}return!_0x19134c[_0x5436b6(0x517)]&&!_0x19134c[_0x5436b6(0x722)]&&_0x41a578!=_0x5436b6(0x7b9)?await this[_0x5436b6(0x6ea)][_0x5436b6(0x74d)](_0x41a578,{'forward':{'key':{'remoteJid':this[_0x5436b6(0x764)]['wuid'],'fromMe':!0x0},'message':_0x19134c},'mentions':_0x3e01eb},_0x75a894):_0x41a578===_0x5436b6(0x7b9)?await this[_0x5436b6(0x6ea)][_0x5436b6(0x74d)](_0x41a578,_0x19134c[_0x5436b6(0x315)][_0x5436b6(0x567)],{'backgroundColor':_0x19134c[_0x5436b6(0x315)][_0x5436b6(0x5a2)][_0x5436b6(0x6d2)],'font':_0x19134c[_0x5436b6(0x315)]['option'][_0x5436b6(0x7c3)],'statusJidList':_0x19134c[_0x5436b6(0x315)]['option'][_0x5436b6(0x3d2)]}):await this[_0x5436b6(0x6ea)][_0x5436b6(0x74d)](_0x41a578,_0x19134c,_0x75a894);})()),_0x387b3c=(0x0,w[_0x13df19(0x842)])(_0x1d6a3d['message']),_0x1f0e75=(0x0,w['getContentType'])(_0x387b3c),{message_normalized:_0x5c73bd}=this['normalizeMessage'](_0x387b3c,_0x1f0e75,null),_0x496337={'_id':_0x1d6a3d[_0x13df19(0x861)]['id'],'key':_0x1d6a3d[_0x13df19(0x861)],'pushName':_0x1d6a3d[_0x13df19(0x2a7)],'isGroup':_0x1d6a3d[_0x13df19(0x861)][_0x13df19(0x87e)]['endsWith'](_0x13df19(0x674)),'profilePictureUrl':this[_0x13df19(0x764)]['profilePictureUrl'],'message':_0x387b3c,'messageType':_0x1f0e75,'message_normalized':{'key':_0x1d6a3d[_0x13df19(0x861)],'pushName':_0x1d6a3d[_0x13df19(0x2a7)],'messageTimestamp':_0x1d6a3d[_0x13df19(0x885)]&&_0x1d6a3d[_0x13df19(0x885)]['toString']()[_0x13df19(0x27a)]<0xd?_0x1d6a3d[_0x13df19(0x885)]*0x3e8:_0x1d6a3d['messageTimestamp']||null,'source':(0x0,w[_0x13df19(0x482)])(_0x1d6a3d[_0x13df19(0x861)]['id']),..._0x5c73bd},'messageTimestamp':_0x1d6a3d['messageTimestamp']&&_0x1d6a3d[_0x13df19(0x885)][_0x13df19(0x76d)]()['length']<0xd?_0x1d6a3d['messageTimestamp']*0x3e8:_0x1d6a3d[_0x13df19(0x885)]||null,'owner':this['instance']['wuid'],'source':(0x0,w['getDevice'])(_0x1d6a3d['key']['id'])};return this[_0x13df19(0x341)]['warn'](this[_0x13df19(0x699)]+'\x20('+this[_0x13df19(0x764)]['wuid']+'):\x20enviado\x20para\x20['+_0x496337[_0x13df19(0x861)]?.[_0x13df19(0x87e)][_0x13df19(0x1ef)](_0x13df19(0x7d0),'')+']\x20('+_0x496337[_0x13df19(0x55c)]+')'),_0x496337['message_normalized']?.[_0x13df19(0x746)]&&this['logger']['warn'](_0x496337[_0x13df19(0x8e4)]?.[_0x13df19(0x746)]),this[_0x13df19(0x4bd)](_0x13df19(0x4d7),_0x496337),q(this['instanceName'],_0x13df19(0x658),{'message':_0x496337}),this[_0x13df19(0x547)](this[_0x13df19(0x6f4)][_0x13df19(0x6c4)](_0x13df19(0x739)),_0x496337,'SEND_MESSAGE',_0xd4a945),await this['repository']['message'][_0x13df19(0x2f1)]([_0x496337],this[_0x13df19(0x764)]['wuid']),_0x1d6a3d;}catch(_0x45c2f0){let _0x5c7274=_0x13df19(0x58e)+_0x41a578,_0x39fc83=_0x45c2f0 instanceof Error?_0x45c2f0[_0x13df19(0x82d)]:typeof _0x45c2f0==_0x13df19(0x204)?JSON[_0x13df19(0x54f)](_0x45c2f0):_0x45c2f0,_0x31b900=_0x5c7274+':\x20'+_0x39fc83;throw this['logger'][_0x13df19(0x1f6)](this[_0x13df19(0x699)]+'\x20('+this['instance'][_0x13df19(0x265)]+_0x13df19(0x6ae)+_0x31b900),new m(_0x31b900);}}get['connectionStatus'](){const _0x519ec3=a0_0x53f180;return this[_0x519ec3(0x1fe)];}async['textMessage'](_0xaf88d1){const _0x468ea7=a0_0x53f180;return await this[_0x468ea7(0x762)](_0xaf88d1[_0x468ea7(0x373)],{'conversation':_0xaf88d1[_0x468ea7(0x6a3)][_0x468ea7(0x746)]},_0xaf88d1?.[_0x468ea7(0x274)]);}async['formatStatusMessage'](_0x1eba15){const _0x3b3d8e=a0_0x53f180;if(!_0x1eba15[_0x3b3d8e(0x6b8)])throw new m(_0x3b3d8e(0x3e7));if(!_0x1eba15['content'])throw new m('Content\x20is\x20required');if(_0x1eba15[_0x3b3d8e(0x6d8)]){let _0x1282c9=await this[_0x3b3d8e(0x1cb)][_0x3b3d8e(0x259)][_0x3b3d8e(0x479)]({'where':{}},this['instance'][_0x3b3d8e(0x265)]);if(!_0x1282c9[_0x3b3d8e(0x27a)])throw new m(_0x3b3d8e(0x752));_0x1eba15[_0x3b3d8e(0x3d2)]=_0x1282c9[_0x3b3d8e(0x353)](_0x2cd42f=>_0x2cd42f[_0x3b3d8e(0x2a7)])[_0x3b3d8e(0x5bd)](_0x545e77=>_0x545e77['_id']);}if(!_0x1eba15[_0x3b3d8e(0x3d2)]?.[_0x3b3d8e(0x27a)]&&!_0x1eba15[_0x3b3d8e(0x6d8)])throw new m(_0x3b3d8e(0x8af));if(_0x1eba15[_0x3b3d8e(0x6b8)]===_0x3b3d8e(0x746)){if(!_0x1eba15['backgroundColor'])throw new m(_0x3b3d8e(0x64c));if(!_0x1eba15[_0x3b3d8e(0x7c3)])throw new m(_0x3b3d8e(0x263));return{'content':{'text':_0x1eba15['content']},'option':{'backgroundColor':_0x1eba15[_0x3b3d8e(0x6d2)],'font':_0x1eba15['font'],'statusJidList':_0x1eba15['statusJidList']}};}if(_0x1eba15[_0x3b3d8e(0x6b8)]===_0x3b3d8e(0x32b))return{'content':{'image':{'url':_0x1eba15['content']},'caption':_0x1eba15['caption']},'option':{'statusJidList':_0x1eba15[_0x3b3d8e(0x3d2)]}};if(_0x1eba15[_0x3b3d8e(0x6b8)]==='video')return{'content':{'video':{'url':_0x1eba15[_0x3b3d8e(0x567)]},'caption':_0x1eba15['caption']},'option':{'statusJidList':_0x1eba15['statusJidList']}};if(_0x1eba15[_0x3b3d8e(0x6b8)]===_0x3b3d8e(0x517)){this[_0x3b3d8e(0x341)]['verbose'](this[_0x3b3d8e(0x699)]+'\x20('+this[_0x3b3d8e(0x764)][_0x3b3d8e(0x265)]+_0x3b3d8e(0x7f5)),this[_0x3b3d8e(0x341)][_0x3b3d8e(0x242)](this['instanceName']+'\x20('+this[_0x3b3d8e(0x764)][_0x3b3d8e(0x265)]+_0x3b3d8e(0x300));let _0x6486ab=await this['convertaudio'](_0x1eba15[_0x3b3d8e(0x567)]);if(typeof _0x6486ab==_0x3b3d8e(0x8d7)){this[_0x3b3d8e(0x341)][_0x3b3d8e(0x242)](this[_0x3b3d8e(0x699)]+'\x20('+this[_0x3b3d8e(0x764)]['wuid']+_0x3b3d8e(0x473));let _0x265b45=F[_0x3b3d8e(0x4ae)](_0x6486ab)[_0x3b3d8e(0x76d)](_0x3b3d8e(0x4f7));return{'content':{'audio':Buffer[_0x3b3d8e(0x457)](_0x265b45,'base64'),'ptt':!0x0,'mimetype':_0x3b3d8e(0x7e0)},'option':{'statusJidList':_0x1eba15['statusJidList']}};}else throw new x(_0x6486ab);}throw new m('Type\x20not\x20found');}async[a0_0x53f180(0x554)](_0x23d346){const _0x27d870=a0_0x53f180;return await this[_0x27d870(0x762)](_0x27d870(0x7b9),{'status':await this['formatStatusMessage'](_0x23d346[_0x27d870(0x554)])});}async['prepareMediaMessage'](_0xdf40b4){const _0x185b6c=a0_0x53f180;try{let _0x279477=await(0x0,w['prepareWAMessageMedia'])({[_0xdf40b4['mediatype']]:(0x0,L[_0x185b6c(0x464)])(_0xdf40b4[_0x185b6c(0x52d)])?{'url':_0xdf40b4[_0x185b6c(0x52d)]}:Buffer[_0x185b6c(0x457)](_0xdf40b4[_0x185b6c(0x52d)],_0x185b6c(0x4f7))},{'upload':this[_0x185b6c(0x6ea)][_0x185b6c(0x1f0)]}),_0x509e6d=_0xdf40b4['mediatype']+_0x185b6c(0x8c2);if(_0xdf40b4[_0x185b6c(0x469)]==='document'&&!_0xdf40b4[_0x185b6c(0x323)]){let _0x5dd659=new RegExp(/.*\/(.+?)\./)[_0x185b6c(0x84b)](_0xdf40b4[_0x185b6c(0x52d)]);_0xdf40b4[_0x185b6c(0x323)]=_0x5dd659?_0x5dd659[0x1]:null;}let _0x54b503;return(0x0,L[_0x185b6c(0x464)])(_0xdf40b4[_0x185b6c(0x52d)])?_0x54b503=(await te[_0x185b6c(0x391)][_0x185b6c(0x6c4)](_0xdf40b4[_0x185b6c(0x52d)],{'responseType':_0x185b6c(0x5e9)}))[_0x185b6c(0x87b)][_0x185b6c(0x382)]:_0x54b503=(0x0,Pi[_0x185b6c(0x366)])(_0xdf40b4[_0x185b6c(0x323)]),_0x279477[_0x509e6d][_0x185b6c(0x62d)]=_0xdf40b4?.[_0x185b6c(0x62d)],_0x279477[_0x509e6d]['mimetype']=_0x54b503,_0x279477[_0x509e6d]['fileName']=_0xdf40b4['fileName'],_0xdf40b4['mediatype']===_0x185b6c(0x4c4)&&(_0x279477[_0x509e6d][_0x185b6c(0x3c3)]=Uint8Array[_0x185b6c(0x457)]((0x0,Ue['readFileSync'])((0x0,j[_0x185b6c(0x260)])(process[_0x185b6c(0x65e)](),_0x185b6c(0x795)))),_0x279477[_0x509e6d][_0x185b6c(0x7e1)]=!0x1),(0x0,w['generateWAMessageFromContent'])('',{[_0x509e6d]:{..._0x279477[_0x509e6d]}},{'userJid':this[_0x185b6c(0x764)][_0x185b6c(0x265)]});}catch(_0x2f357a){let _0x48120c=_0x185b6c(0x319),_0x32e33d=_0x2f357a instanceof Error?_0x2f357a[_0x185b6c(0x82d)]:typeof _0x2f357a=='object'?JSON[_0x185b6c(0x54f)](_0x2f357a):_0x2f357a,_0x11a16f=_0x48120c+':\x20'+_0x32e33d;throw this['logger'][_0x185b6c(0x1f6)](this[_0x185b6c(0x699)]+'\x20('+this[_0x185b6c(0x764)][_0x185b6c(0x265)]+_0x185b6c(0x6ae)+_0x11a16f),new x(_0x11a16f);}}async['mediaMessage'](_0x1a613b){const _0xc051d8=a0_0x53f180;let _0x49855f=await this[_0xc051d8(0x6d7)](_0x1a613b[_0xc051d8(0x5bf)]);return await this[_0xc051d8(0x762)](_0x1a613b['number'],{..._0x49855f[_0xc051d8(0x82d)]},_0x1a613b?.[_0xc051d8(0x274)]);}async[a0_0x53f180(0x34b)](_0x2e4adc,_0x3f2db5){const _0x4e5490=a0_0x53f180;try{this['logger']['verbose'](this[_0x4e5490(0x699)]+'\x20('+this[_0x4e5490(0x764)][_0x4e5490(0x265)]+_0x4e5490(0x7d2));let _0x55d7a0,_0x367131=_0x3f2db5+'-'+new Date()['getTime']();this[_0x4e5490(0x341)][_0x4e5490(0x242)](this[_0x4e5490(0x699)]+'\x20('+this[_0x4e5490(0x764)][_0x4e5490(0x265)]+_0x4e5490(0x53f)+_0x367131);let _0x4c9784=''+(0x0,j[_0x4e5490(0x260)])(this[_0x4e5490(0x512)],_0x367131+'.webp');if(this[_0x4e5490(0x341)][_0x4e5490(0x242)](this[_0x4e5490(0x699)]+'\x20('+this[_0x4e5490(0x764)][_0x4e5490(0x265)]+_0x4e5490(0x1b0)+_0x4c9784),(0x0,L[_0x4e5490(0x2c4)])(_0x2e4adc)){this['logger']['verbose'](this[_0x4e5490(0x699)]+'\x20('+this[_0x4e5490(0x764)][_0x4e5490(0x265)]+_0x4e5490(0x3ab));let _0x19e79a=_0x2e4adc[_0x4e5490(0x1ef)](/^data:image\/(jpeg|png|gif);base64,/,''),_0xc8ed5a=Buffer[_0x4e5490(0x457)](_0x19e79a,_0x4e5490(0x4f7));_0x55d7a0=''+(0x0,j[_0x4e5490(0x260)])(this['storePath'],'temp-'+_0x367131+'.png'),this[_0x4e5490(0x341)][_0x4e5490(0x242)](this[_0x4e5490(0x699)]+'\x20('+this[_0x4e5490(0x764)][_0x4e5490(0x265)]+_0x4e5490(0x6d0)+_0x55d7a0),await(0x0,Gt['default'])(_0xc8ed5a)[_0x4e5490(0x2e6)](_0x55d7a0),this[_0x4e5490(0x341)][_0x4e5490(0x242)](this['instanceName']+'\x20('+this['instance'][_0x4e5490(0x265)]+_0x4e5490(0x236));}else{this[_0x4e5490(0x341)][_0x4e5490(0x242)](this[_0x4e5490(0x699)]+'\x20('+this[_0x4e5490(0x764)][_0x4e5490(0x265)]+'):Image\x20is\x20url');let _0x1567fe=new Date()[_0x4e5490(0x78f)](),_0x371116=_0x2e4adc+_0x4e5490(0x3c6)+_0x1567fe;this[_0x4e5490(0x341)][_0x4e5490(0x242)](this[_0x4e5490(0x699)]+'\x20('+this[_0x4e5490(0x764)][_0x4e5490(0x265)]+_0x4e5490(0x4ab)+_0x371116);let _0x26670f=await te[_0x4e5490(0x391)]['get'](_0x371116,{'responseType':_0x4e5490(0x5e9)});this[_0x4e5490(0x341)]['verbose'](this[_0x4e5490(0x699)]+'\x20('+this[_0x4e5490(0x764)][_0x4e5490(0x265)]+_0x4e5490(0x28e));let _0xdd1afe=Buffer[_0x4e5490(0x457)](_0x26670f[_0x4e5490(0x2ea)],_0x4e5490(0x268));_0x55d7a0=''+(0x0,j['join'])(this[_0x4e5490(0x512)],_0x4e5490(0x7cb)+_0x367131+_0x4e5490(0x5b6)),this[_0x4e5490(0x341)][_0x4e5490(0x242)](this[_0x4e5490(0x699)]+'\x20('+this[_0x4e5490(0x764)]['wuid']+'):Image\x20path:\x20'+_0x55d7a0),await(0x0,Gt[_0x4e5490(0x391)])(_0xdd1afe)[_0x4e5490(0x2e6)](_0x55d7a0),this[_0x4e5490(0x341)][_0x4e5490(0x242)](this[_0x4e5490(0x699)]+'\x20('+this[_0x4e5490(0x764)][_0x4e5490(0x265)]+_0x4e5490(0x236));}return await(0x0,Gt['default'])(_0x55d7a0)['webp']()[_0x4e5490(0x2e6)](_0x4c9784),this['logger'][_0x4e5490(0x242)](this['instanceName']+'\x20('+this[_0x4e5490(0x764)]['wuid']+'):Image\x20converted\x20to\x20WebP'),F['unlinkSync'](_0x55d7a0),this[_0x4e5490(0x341)][_0x4e5490(0x242)](this['instanceName']+'\x20('+this[_0x4e5490(0x764)]['wuid']+_0x4e5490(0x5e4)),_0x4c9784;}catch(_0x1171af){let _0x511e49=_0x4e5490(0x721),_0x2eb3d8=_0x1171af instanceof Error?_0x1171af[_0x4e5490(0x82d)]:typeof _0x1171af=='object'?JSON['stringify'](_0x1171af):_0x1171af,_0xbc73d6=_0x511e49+':\x20'+_0x2eb3d8;this[_0x4e5490(0x341)][_0x4e5490(0x1f6)](this[_0x4e5490(0x699)]+'\x20('+this[_0x4e5490(0x764)][_0x4e5490(0x265)]+_0x4e5490(0x6ae)+_0xbc73d6);}}async['mediaSticker'](_0x4919a8){const _0x43169c=a0_0x53f180;let _0x58a5b9=await this['convertToWebP'](_0x4919a8['stickerMessage']['image'],_0x4919a8[_0x43169c(0x373)]),_0x417615=await this[_0x43169c(0x762)](_0x4919a8[_0x43169c(0x373)],{'sticker':{'url':_0x58a5b9}},_0x4919a8?.[_0x43169c(0x274)]);return F[_0x43169c(0x439)](_0x58a5b9),this[_0x43169c(0x341)]['verbose'](this[_0x43169c(0x699)]+'\x20('+this['instance'][_0x43169c(0x265)]+'):Converted\x20image\x20deleted'),_0x417615;}async[a0_0x53f180(0x7a5)](_0x302633){const _0x376a87=a0_0x53f180;if(this[_0x376a87(0x341)][_0x376a87(0x242)](this['instanceName']+'\x20('+this['instance'][_0x376a87(0x265)]+_0x376a87(0x60e)),!_0x302633[_0x376a87(0x274)]?.[_0x376a87(0x88b)]&&_0x302633['options']?.['encoding']!==!0x1&&(_0x302633[_0x376a87(0x274)][_0x376a87(0x88b)]=!0x0),_0x302633[_0x376a87(0x274)]?.['encoding']){let _0x3a559b=await this[_0x376a87(0x77d)](_0x302633[_0x376a87(0x7b5)][_0x376a87(0x517)]);if(typeof _0x3a559b==_0x376a87(0x8d7)){let _0x21e160=F[_0x376a87(0x4ae)](_0x3a559b)[_0x376a87(0x76d)]('base64');return this[_0x376a87(0x762)](_0x302633['number'],{'audio':Buffer['from'](_0x21e160,_0x376a87(0x4f7)),'ptt':!0x0,'mimetype':_0x376a87(0x498)},{'presence':_0x376a87(0x3d1),'delay':_0x302633?.['options']?.[_0x376a87(0x4aa)]});}else throw new x(_0x3a559b);}return await this[_0x376a87(0x762)](_0x302633['number'],{'audio':(0x0,L[_0x376a87(0x464)])(_0x302633['audioMessage'][_0x376a87(0x517)])?{'url':_0x302633[_0x376a87(0x7b5)][_0x376a87(0x517)]}:Buffer[_0x376a87(0x457)](_0x302633['audioMessage'][_0x376a87(0x517)],_0x376a87(0x4f7)),'ptt':!0x0,'mimetype':_0x376a87(0x498)},{'presence':'recording','delay':_0x302633?.[_0x376a87(0x274)]?.[_0x376a87(0x4aa)]});}async[a0_0x53f180(0x77d)](_0x4f482b){const _0x499d6b=a0_0x53f180;this[_0x499d6b(0x341)][_0x499d6b(0x242)](this['instanceName']+'\x20('+this[_0x499d6b(0x764)][_0x499d6b(0x265)]+_0x499d6b(0x300));let _0x30c7bb=(0x0,L[_0x499d6b(0x464)])(_0x4f482b)?(0x0,Re['createHash'])('sha256')[_0x499d6b(0x513)](_0x4f482b)[_0x499d6b(0x3f1)](_0x499d6b(0x810)):(0x0,Re[_0x499d6b(0x7f0)])(_0x499d6b(0x7be))['update'](_0x4f482b)[_0x499d6b(0x3f1)](_0x499d6b(0x810)),_0x20cb8c=''+(0x0,j[_0x499d6b(0x260)])(this[_0x499d6b(0x512)],_0x30c7bb+_0x499d6b(0x4a1));if(F[_0x499d6b(0x526)](_0x20cb8c))return this[_0x499d6b(0x341)][_0x499d6b(0x242)](this['instanceName']+'\x20('+this[_0x499d6b(0x764)]['wuid']+_0x499d6b(0x5e7)),_0x20cb8c;let _0x2c1c8f=''+(0x0,j['join'])(this[_0x499d6b(0x512)],_0x499d6b(0x7cb)+(0x0,X['v4'])()+_0x499d6b(0x58f));if((0x0,L[_0x499d6b(0x464)])(_0x4f482b)){let _0x4cdbc1=new Date()[_0x499d6b(0x78f)](),_0x53cc17=_0x4f482b+_0x499d6b(0x3c6)+_0x4cdbc1,_0x10a641=await te[_0x499d6b(0x391)][_0x499d6b(0x6c4)](_0x53cc17,{'responseType':_0x499d6b(0x5e9)});F[_0x499d6b(0x3ed)](_0x2c1c8f,_0x10a641['data']);}else{let _0x5472d5=Buffer[_0x499d6b(0x457)](_0x4f482b,_0x499d6b(0x4f7));F['writeFileSync'](_0x2c1c8f,_0x5472d5);}return new Promise((_0x5351da,_0x1ed600)=>{const _0x1f69ad=_0x499d6b;(0x0,je[_0x1f69ad(0x84b)])(Ps[_0x1f69ad(0x391)]['path']+'\x20-i\x20'+_0x2c1c8f+_0x1f69ad(0x5da)+_0x20cb8c+'\x20-y',_0x23c0aa=>{const _0x5ac802=_0x1f69ad;if(F[_0x5ac802(0x439)](_0x2c1c8f),_0x23c0aa){this['logger'][_0x5ac802(0x242)](this[_0x5ac802(0x699)]+'\x20('+this[_0x5ac802(0x764)][_0x5ac802(0x265)]+_0x5ac802(0x440)),_0x1ed600(_0x23c0aa);return;}this[_0x5ac802(0x341)][_0x5ac802(0x242)](this['instanceName']+'\x20('+this[_0x5ac802(0x764)][_0x5ac802(0x265)]+_0x5ac802(0x870)),_0x5351da(_0x20cb8c);});});}async[a0_0x53f180(0x2a5)](_0x12e210){const _0x5c6654=a0_0x53f180;this[_0x5c6654(0x341)][_0x5c6654(0x242)](this[_0x5c6654(0x699)]+'\x20('+this[_0x5c6654(0x764)]['wuid']+_0x5c6654(0x300));let _0x5ee829=(0x0,Re['createHash'])(_0x5c6654(0x7be))[_0x5c6654(0x513)](_0x12e210)['digest']('hex'),_0x2b78df=''+(0x0,j[_0x5c6654(0x260)])(this[_0x5c6654(0x512)],_0x5ee829+_0x5c6654(0x58f));if(F[_0x5c6654(0x526)](_0x2b78df))return this['logger']['verbose'](this[_0x5c6654(0x699)]+'\x20('+this[_0x5c6654(0x764)]['wuid']+_0x5c6654(0x5e7)),j[_0x5c6654(0x391)][_0x5c6654(0x8e2)](_0x2b78df);let _0x375a89=''+(0x0,j['join'])(this[_0x5c6654(0x512)],_0x5c6654(0x7cb)+_0x5ee829+_0x5c6654(0x4a1));if((0x0,L[_0x5c6654(0x464)])(_0x12e210)){let _0x967a78=new Date()[_0x5c6654(0x78f)](),_0x4b645d=_0x12e210+_0x5c6654(0x3c6)+_0x967a78,_0x2c9c7e=await te['default'][_0x5c6654(0x6c4)](_0x4b645d,{'responseType':_0x5c6654(0x5e9)});F[_0x5c6654(0x3ed)](_0x375a89,_0x2c9c7e[_0x5c6654(0x2ea)]);}else{let _0xe92b19=Buffer['from'](_0x12e210,'base64');F[_0x5c6654(0x3ed)](_0x375a89,_0xe92b19);}return new Promise((_0x486cc5,_0x2c3779)=>{const _0x16126c=_0x5c6654;(0x0,je[_0x16126c(0x84b)])(Ps[_0x16126c(0x391)][_0x16126c(0x876)]+_0x16126c(0x7de)+_0x375a89+_0x16126c(0x608)+_0x2b78df+_0x16126c(0x75a),_0x5f5682=>{const _0x2422d3=_0x16126c;if(F[_0x2422d3(0x439)](_0x375a89),_0x5f5682){this[_0x2422d3(0x341)][_0x2422d3(0x242)](this[_0x2422d3(0x699)]+'\x20('+this[_0x2422d3(0x764)][_0x2422d3(0x265)]+_0x2422d3(0x440)),_0x2c3779(_0x5f5682);return;}this[_0x2422d3(0x341)]['verbose'](this['instanceName']+'\x20('+this[_0x2422d3(0x764)]['wuid']+_0x2422d3(0x870)),_0x486cc5(j[_0x2422d3(0x391)][_0x2422d3(0x8e2)](_0x2b78df));});});}async['buttonMessage'](_0x2c2396){const _0x43ac29=a0_0x53f180;let _0x4536f9={},_0x7d165b='TEXT';if(_0x2c2396[_0x43ac29(0x4cc)]?.['mediaMessage']){_0x7d165b=_0x2c2396[_0x43ac29(0x4cc)][_0x43ac29(0x5bf)]?.['mediatype'][_0x43ac29(0x802)]()??_0x43ac29(0x50f),_0x4536f9[_0x43ac29(0x36a)]=_0x7d165b['toLowerCase']()+_0x43ac29(0x8c2);let _0x19ddf9=await this[_0x43ac29(0x6d7)](_0x2c2396[_0x43ac29(0x4cc)][_0x43ac29(0x5bf)]);_0x4536f9[_0x43ac29(0x82d)]=_0x19ddf9['message'][_0x4536f9[_0x43ac29(0x36a)]],_0x4536f9[_0x43ac29(0x5c0)]='*'+_0x2c2396[_0x43ac29(0x4cc)][_0x43ac29(0x6df)]+_0x43ac29(0x201)+_0x2c2396['buttonMessage'][_0x43ac29(0x45a)];}let _0x380a2c={'text':_0x2c2396[_0x43ac29(0x4cc)]['buttons'][_0x43ac29(0x5bd)](_0x4f264c=>_0x4f264c[_0x43ac29(0x669)]),'ids':_0x2c2396[_0x43ac29(0x4cc)]['buttons'][_0x43ac29(0x5bd)](_0x20184c=>_0x20184c[_0x43ac29(0x6d1)])};if(!(0x0,L[_0x43ac29(0x666)])(_0x380a2c[_0x43ac29(0x746)])||!(0x0,L[_0x43ac29(0x666)])(_0x380a2c[_0x43ac29(0x735)]))throw new m('Button\x20texts\x20cannot\x20be\x20repeated',_0x43ac29(0x511));return await this[_0x43ac29(0x762)](_0x2c2396[_0x43ac29(0x373)],{'buttonsMessage':{'text':_0x4536f9?.[_0x43ac29(0x36a)]?void 0x0:_0x2c2396['buttonMessage'][_0x43ac29(0x6df)],'contentText':_0x4536f9?.[_0x43ac29(0x5c0)]??_0x2c2396[_0x43ac29(0x4cc)][_0x43ac29(0x45a)],'footerText':_0x2c2396[_0x43ac29(0x4cc)]?.[_0x43ac29(0x7cc)],'buttons':_0x2c2396[_0x43ac29(0x4cc)][_0x43ac29(0x32e)][_0x43ac29(0x5bd)](_0x564083=>({'buttonText':{'displayText':_0x564083[_0x43ac29(0x669)]},'buttonId':_0x564083[_0x43ac29(0x6d1)],'type':0x1})),'headerType':w['proto'][_0x43ac29(0x8c2)][_0x43ac29(0x7e6)][_0x43ac29(0x732)][_0x7d165b],[_0x4536f9?.[_0x43ac29(0x36a)]]:_0x4536f9?.[_0x43ac29(0x82d)]}},_0x2c2396?.[_0x43ac29(0x274)]);}async[a0_0x53f180(0x883)](_0x3f6fee){const _0x476fd7=a0_0x53f180;return await this['sendMessageWithTyping'](_0x3f6fee[_0x476fd7(0x373)],{'locationMessage':{'degreesLatitude':_0x3f6fee[_0x476fd7(0x883)][_0x476fd7(0x7af)],'degreesLongitude':_0x3f6fee[_0x476fd7(0x883)][_0x476fd7(0x8e7)],'name':_0x3f6fee[_0x476fd7(0x883)]?.[_0x476fd7(0x7b2)],'address':_0x3f6fee[_0x476fd7(0x883)]?.[_0x476fd7(0x6a4)]}},_0x3f6fee?.[_0x476fd7(0x274)]);}async[a0_0x53f180(0x262)](_0x887c1){const _0x3a6076=a0_0x53f180;let _0x30fab6={},_0x3213e1=async _0x50cc0c=>{const _0x57c6c2=a0_0x150f;let _0x544487='BEGIN:VCARD\x0aVERSION:3.0\x0aN:'+_0x50cc0c[_0x57c6c2(0x389)]+_0x57c6c2(0x8d6)+_0x50cc0c[_0x57c6c2(0x389)]+'\x0a';_0x50cc0c[_0x57c6c2(0x742)]&&(_0x544487+='ORG:'+_0x50cc0c[_0x57c6c2(0x742)]+';\x0a'),_0x50cc0c[_0x57c6c2(0x2eb)]&&(_0x544487+='EMAIL:'+_0x50cc0c[_0x57c6c2(0x2eb)]+'\x0a'),_0x50cc0c[_0x57c6c2(0x486)]&&(_0x544487+=_0x57c6c2(0x38f)+_0x50cc0c[_0x57c6c2(0x486)]+'\x0a');let _0x5ad2b5='',_0x3f8acf=0x1;if(_0x50cc0c[_0x57c6c2(0x731)]){let _0x4d8aee=_0x50cc0c[_0x57c6c2(0x731)][_0x57c6c2(0x6ca)]('|');for(let _0x15dd3b of _0x4d8aee){let _0x14070f=await this[_0x57c6c2(0x1e8)]({'numbers':[_0x15dd3b]}),_0x5da4bf=(_0x14070f['length']>0x0?_0x14070f[0x0]['jid']:this[_0x57c6c2(0x489)](_0x15dd3b))[_0x57c6c2(0x1ef)](_0x57c6c2(0x7d0),'');_0x5ad2b5+=_0x57c6c2(0x420)+_0x3f8acf+_0x57c6c2(0x2b7)+_0x5da4bf+':'+_0x15dd3b+'\x0aitem'+_0x3f8acf+'.X-ABLabel:Celular\x0a',_0x3f8acf++;}}return _0x544487+=_0x5ad2b5+_0x57c6c2(0x4e3),_0x544487;};return _0x887c1[_0x3a6076(0x262)][_0x3a6076(0x27a)]===0x1?_0x30fab6['contactMessage']={'displayName':_0x887c1[_0x3a6076(0x262)][0x0][_0x3a6076(0x389)],'vcard':await _0x3213e1(_0x887c1[_0x3a6076(0x262)][0x0])}:_0x30fab6[_0x3a6076(0x22c)]={'displayName':_0x887c1['contactMessage'][_0x3a6076(0x27a)]+_0x3a6076(0x425),'contacts':await Promise[_0x3a6076(0x241)](_0x887c1[_0x3a6076(0x262)][_0x3a6076(0x5bd)](async _0x244665=>({'displayName':_0x244665[_0x3a6076(0x389)],'vcard':await _0x3213e1(_0x244665)})))},await this['sendMessageWithTyping'](_0x887c1[_0x3a6076(0x373)],{..._0x30fab6},_0x887c1?.[_0x3a6076(0x274)]);}async['reactionMessage'](_0x591f63){const _0x34198f=a0_0x53f180;return await this[_0x34198f(0x762)](_0x591f63['reactionMessage'][_0x34198f(0x861)][_0x34198f(0x87e)],{'reactionMessage':{'key':_0x591f63[_0x34198f(0x339)][_0x34198f(0x861)],'text':_0x591f63['reactionMessage'][_0x34198f(0x637)]}});}async['whatsappNumber'](_0x321960){const _0x39d821=a0_0x53f180;let _0x3744dd=[];for await(let _0x5d0b77 of _0x321960['numbers']){let _0x2964ce=this['createJid'](_0x5d0b77),_0x425e36=!0x1;try{if((0x0,w[_0x39d821(0x6e3)])(_0x2964ce)){let _0x5707be=(await this[_0x39d821(0x1cb)]['chat'][_0x39d821(0x741)]({'where':{'_id':_0x2964ce}},this[_0x39d821(0x764)][_0x39d821(0x265)]))[_0x39d821(0x5ac)];_0x5707be?(_0x425e36=!0x0,_0x3744dd[_0x39d821(0x635)](new pe(_0x5707be['id'],_0x425e36,_0x5707be?.['subject']))):(_0x5707be=await this[_0x39d821(0x5c3)]({'groupJid':_0x2964ce},'inner'),_0x3744dd[_0x39d821(0x635)](new pe(_0x5707be['id'],!!_0x5707be?.['id'],_0x5707be?.[_0x39d821(0x8ac)])));}else{if(_0x2964ce['includes']('@broadcast'))_0x3744dd[_0x39d821(0x635)](new pe(_0x2964ce,!0x0));else{let _0x351e50=(await this['client'][_0x39d821(0x506)](_0x2964ce))[0x0];_0x3744dd[_0x39d821(0x635)](new pe(_0x351e50[_0x39d821(0x5c7)],_0x351e50[_0x39d821(0x630)]));}}}catch{(0x0,w[_0x39d821(0x6e3)])(_0x2964ce)||await this[_0x39d821(0x29c)](_0x2964ce),_0x3744dd[_0x39d821(0x635)](new pe(_0x5d0b77,!0x1));}}return _0x3744dd;}async[a0_0x53f180(0x29c)](_0x8f174f){const _0x510d57=a0_0x53f180;try{await this[_0x510d57(0x1cb)]['chat']['findOne']({'where':{'_id':_0x8f174f,'imported':!0x0}},this[_0x510d57(0x764)][_0x510d57(0x265)])&&(await this[_0x510d57(0x1cb)][_0x510d57(0x254)]['deleteChat'](_0x8f174f,this[_0x510d57(0x764)][_0x510d57(0x265)]),this[_0x510d57(0x341)]['info'](_0x510d57(0x879)+_0x8f174f+_0x510d57(0x74f)));}catch(_0x5ec46d){let _0x277075=_0x510d57(0x252),_0x4ab758=_0x5ec46d instanceof Error?_0x5ec46d[_0x510d57(0x82d)]:typeof _0x5ec46d==_0x510d57(0x204)?JSON['stringify'](_0x5ec46d):_0x5ec46d,_0x1b4b13=_0x277075+':\x20'+_0x4ab758;this[_0x510d57(0x341)][_0x510d57(0x1f6)](this['instanceName']+'\x20('+this[_0x510d57(0x764)][_0x510d57(0x265)]+_0x510d57(0x6ae)+_0x1b4b13);}}async[a0_0x53f180(0x304)](_0x48e66c){const _0x1a3a82=a0_0x53f180;try{let _0x2635cd=_0x48e66c['readMessages']['filter'](_0x2df985=>(0x0,w[_0x1a3a82(0x6e3)])(_0x2df985['remoteJid'])||(0x0,w['isJidUser'])(_0x2df985['remoteJid']))[_0x1a3a82(0x5bd)](_0x44c8fa=>({'remoteJid':_0x44c8fa[_0x1a3a82(0x87e)],'fromMe':_0x44c8fa[_0x1a3a82(0x474)],'id':_0x44c8fa['id']}));await this['client'][_0x1a3a82(0x6ed)](_0x2635cd);let _0x172364=_0x2635cd[_0x1a3a82(0x5bd)](_0x5a95ac=>this[_0x1a3a82(0x1bd)](_0x5a95ac,{'status':_0x1a3a82(0x7fa),'owner':this[_0x1a3a82(0x764)]['wuid']})),_0x465ba2=_0x2635cd['map'](_0x5c4d3e=>this[_0x1a3a82(0x1cb)][_0x1a3a82(0x254)][_0x1a3a82(0x5ea)]({'where':{'_id':_0x5c4d3e[_0x1a3a82(0x87e)]}},{'unreadcount':0x0},this[_0x1a3a82(0x764)][_0x1a3a82(0x265)])),[_0x18e2c5,_0x10c44f]=await Promise['all']([Promise['all'](_0x172364),Promise[_0x1a3a82(0x241)](_0x465ba2)]);return _0x10c44f['filter'](_0x3b1bc9=>_0x3b1bc9!==null)[_0x1a3a82(0x313)](_0xa373ec=>{const _0x6b6764=_0x1a3a82;q(this[_0x6b6764(0x699)],_0x6b6764(0x1a9),{'chat':_0xa373ec});}),{'message':_0x1a3a82(0x27b),'read':'success'};}catch(_0x2636a1){let _0x31079d=_0x1a3a82(0x47b),_0x4f481e=_0x2636a1 instanceof Error?_0x2636a1['message']:typeof _0x2636a1=='object'?JSON[_0x1a3a82(0x54f)](_0x2636a1):_0x2636a1,_0x52a3ac=_0x31079d+':\x20'+_0x4f481e;throw this[_0x1a3a82(0x341)][_0x1a3a82(0x1f6)](this[_0x1a3a82(0x699)]+'\x20('+this[_0x1a3a82(0x764)]['wuid']+_0x1a3a82(0x6ae)+_0x52a3ac),new x(_0x52a3ac);}}async[a0_0x53f180(0x4d4)](_0x97cb9){const _0x39cdf2=a0_0x53f180;let _0x105a96={'where':{'key':{'remoteJid':_0x97cb9}},'limit':0x1},_0x58113f=await this[_0x39cdf2(0x6de)](_0x105a96);return _0x58113f||(this[_0x39cdf2(0x341)][_0x39cdf2(0x1f6)](_0x39cdf2(0x79a)+_0x97cb9),null);}async[a0_0x53f180(0x418)](_0x107a17){const _0xee899b=a0_0x53f180;this['logger'][_0xee899b(0x242)](this[_0xee899b(0x699)]+'\x20('+this[_0xee899b(0x764)]['wuid']+_0xee899b(0x725));try{let _0x159537=_0x107a17['lastMessage'],_0xea68df=_0x107a17[_0xee899b(0x254)];if(!_0x159537&&_0xea68df?_0x159537=await this[_0xee899b(0x4d4)](_0xea68df):(_0x159537=_0x107a17['lastMessage'],_0x159537[_0xee899b(0x885)]=_0x159537?.[_0xee899b(0x885)]??Date[_0xee899b(0x6bb)](),_0xea68df=_0x159537?.[_0xee899b(0x861)]?.[_0xee899b(0x87e)]),!_0x159537||Object[_0xee899b(0x6f3)](_0x159537)['length']===0x0)throw new J('Last\x20message\x20not\x20found');this[_0xee899b(0x341)][_0xee899b(0x242)](this[_0xee899b(0x699)]+'\x20('+this[_0xee899b(0x764)][_0xee899b(0x265)]+_0xee899b(0x4a3)+_0xea68df);try{await this['client'][_0xee899b(0x5c1)]({'archive':_0x107a17[_0xee899b(0x7e3)],'lastMessages':[_0x159537]},this[_0xee899b(0x489)](_0xea68df));}catch(_0x2cfb20){let _0x5e8e32=_0xee899b(0x797)+_0xea68df,_0x368b2a=_0x2cfb20 instanceof Error?_0x2cfb20[_0xee899b(0x82d)]:typeof _0x2cfb20==_0xee899b(0x204)?JSON[_0xee899b(0x54f)](_0x2cfb20):_0x2cfb20,_0x425663=_0x5e8e32+':\x20'+_0x368b2a;this[_0xee899b(0x341)][_0xee899b(0x1f6)](this[_0xee899b(0x699)]+'\x20('+this[_0xee899b(0x764)][_0xee899b(0x265)]+_0xee899b(0x6ae)+_0x425663);}this[_0xee899b(0x341)][_0xee899b(0x242)](this[_0xee899b(0x699)]+'\x20('+this['instance']['wuid']+_0xee899b(0x4e7)+_0xea68df);let _0x1a8917=await this[_0xee899b(0x1cb)][_0xee899b(0x254)]['updateOne']({'where':{'_id':_0x159537?.[_0xee899b(0x861)]?.['remoteJid']}},{'archived':_0x107a17[_0xee899b(0x7e3)]},this[_0xee899b(0x764)]['wuid']);return _0x1a8917?(this['logger'][_0xee899b(0x242)](this[_0xee899b(0x699)]+'\x20('+this[_0xee899b(0x764)]['wuid']+_0xee899b(0x352)+JSON[_0xee899b(0x54f)](_0x1a8917)),q(this[_0xee899b(0x699)],_0xee899b(0x1a9),{'chat':_0x1a8917})):this[_0xee899b(0x341)]['error'](this[_0xee899b(0x699)]+'\x20('+this[_0xee899b(0x764)][_0xee899b(0x265)]+_0xee899b(0x74e)+_0xea68df),{'chatId':_0xea68df,'archived':_0x107a17['archive']};}catch(_0x5c5077){let _0x40d8ce=_0xee899b(0x877),_0x441d9d=_0x5c5077 instanceof Error?_0x5c5077['message']:typeof _0x5c5077==_0xee899b(0x204)?JSON['stringify'](_0x5c5077):_0x5c5077,_0x1dbf71=_0x40d8ce+':\x20'+_0x441d9d;throw this[_0xee899b(0x341)][_0xee899b(0x1f6)](this[_0xee899b(0x699)]+'\x20('+this[_0xee899b(0x764)][_0xee899b(0x265)]+'):\x20'+_0x1dbf71),new x(_0x1dbf71);}}async['deleteChat'](_0x57c323){const _0x5d40a7=a0_0x53f180;this[_0x5d40a7(0x341)]['verbose'](this[_0x5d40a7(0x699)]+'\x20('+this[_0x5d40a7(0x764)][_0x5d40a7(0x265)]+'):Delete\x20chat');try{let _0x5875f0=await this[_0x5d40a7(0x4d4)](_0x57c323);if(!_0x5875f0||Object[_0x5d40a7(0x6f3)](_0x5875f0)['length']===0x0)throw new J('Last\x20message\x20not\x20found');let _0x273173=_0x5875f0[0x0];this['logger'][_0x5d40a7(0x242)](this['instanceName']+'\x20('+this['instance'][_0x5d40a7(0x265)]+_0x5d40a7(0x84e)+_0x57c323);try{await this[_0x5d40a7(0x6ea)][_0x5d40a7(0x5c1)]({'delete':!0x0,'lastMessages':[{'key':_0x273173[_0x5d40a7(0x861)],'messageTimestamp':_0x273173[_0x5d40a7(0x885)]}]},this[_0x5d40a7(0x489)](_0x57c323));}catch(_0x970cde){this['logger'][_0x5d40a7(0x1f6)](_0x5d40a7(0x797)+_0x57c323+':\x20'+_0x970cde[_0x5d40a7(0x76d)]());}this[_0x5d40a7(0x341)]['verbose'](this[_0x5d40a7(0x699)]+'\x20('+this['instance'][_0x5d40a7(0x265)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x57c323);return;}catch(_0x57771c){throw this[_0x5d40a7(0x341)][_0x5d40a7(0x1f6)](this[_0x5d40a7(0x699)]+'\x20('+this[_0x5d40a7(0x764)]['wuid']+_0x5d40a7(0x2ee)+_0x57771c['toString']()),new x({'archived':!0x1,'message':[_0x5d40a7(0x835),_0x57771c[_0x5d40a7(0x76d)]()]});}}async[a0_0x53f180(0x7a8)](_0x20d2b4){const _0x5b0683=a0_0x53f180;try{let _0x1c60a2=await this['client'][_0x5b0683(0x74d)](_0x20d2b4[_0x5b0683(0x87e)],{'delete':_0x20d2b4});try{let _0x4be20b=await this[_0x5b0683(0x1bd)](_0x20d2b4,{'status':_0x5b0683(0x483),'owner':this['instance']['wuid']});this[_0x5b0683(0x341)][_0x5b0683(0x242)](this[_0x5b0683(0x699)]+'\x20('+this[_0x5b0683(0x764)]['wuid']+_0x5b0683(0x20c)+_0x4be20b);}catch(_0x46d0d3){this['logger'][_0x5b0683(0x1f6)](_0x5b0683(0x504)+_0x46d0d3);}return _0x1c60a2;}catch(_0x48815d){throw new x(_0x5b0683(0x2e1),_0x48815d?.[_0x5b0683(0x76d)]());}}async[a0_0x53f180(0x3b9)](_0x302986){const _0x333ef9=a0_0x53f180;try{let _0x3c0926=_0x302986?.['message']?_0x302986:await this['getMessage'](_0x302986[_0x333ef9(0x861)],!0x0);for(let _0x454cd8 of Ra)_0x3c0926[_0x333ef9(0x82d)][_0x454cd8]&&(_0x3c0926[_0x333ef9(0x82d)]=_0x3c0926[_0x333ef9(0x82d)][_0x454cd8][_0x333ef9(0x82d)]);let _0x31eafb,_0x57cd93;for(let _0x42451a of $a)if(_0x31eafb=_0x3c0926[_0x333ef9(0x82d)][_0x42451a],_0x31eafb){_0x57cd93=_0x42451a;break;}if(!_0x31eafb)throw _0x333ef9(0x5ee);typeof _0x31eafb['mediaKey']==_0x333ef9(0x204)&&(_0x3c0926['message']=JSON[_0x333ef9(0x67c)](JSON['stringify'](_0x3c0926[_0x333ef9(0x82d)])));let _0x39d493=await(0x0,w[_0x333ef9(0x57a)])({'key':_0x3c0926?.[_0x333ef9(0x861)],'message':_0x3c0926?.['message']},_0x333ef9(0x807),{},{'logger':(0x0,Vt[_0x333ef9(0x391)])({'level':_0x333ef9(0x248)}),'reuploadRequest':this[_0x333ef9(0x6ea)][_0x333ef9(0x345)]});if(!(_0x39d493 instanceof Buffer))throw new Error('Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.');let _0x217e36=this['configService'][_0x333ef9(0x6c4)]('DATABASE'),_0x403bec,_0x395156;if(_0x31eafb['fileName'])_0x403bec=_0x31eafb['fileName'];else{let _0x3b7090=_0x31eafb[_0x333ef9(0x2aa)]?.[_0x333ef9(0x3d5)](/\/(\w+)/),_0x15c139=_0x3b7090?_0x3b7090[0x1]:null;if(!_0x15c139)throw new Error(_0x333ef9(0x890));_0x403bec=(0x0,X['v4'])()+'.'+_0x15c139;}_0x57cd93===_0x333ef9(0x7b5)?_0x395156=_0x333ef9(0x676)+await this[_0x333ef9(0x2a5)](_0x39d493['toString'](_0x333ef9(0x4f7))):(await this[_0x333ef9(0x484)](_0x39d493,_0x403bec),_0x395156=_0x333ef9(0x676)+_0x403bec);let _0x20f9d2=this['configService'][_0x333ef9(0x6c4)]('SERVER')[_0x333ef9(0x8be)];if(!_0x20f9d2){let _0x183b9b=this[_0x333ef9(0x6f4)]['get']('SSL_CONF');_0x20f9d2=_0x333ef9(0x57c)+(_0x183b9b&&_0x183b9b['FULLCHAIN'][_0x333ef9(0x6ca)]('/')[0x4]);}_0x395156=''+_0x20f9d2+_0x395156;let _0x1e945c=0xc*0x3c*0x3c*0x3e8,_0x4597c2={'where':{'_id':_0x3c0926[_0x333ef9(0x861)]['id']}},_0x5e6730={'message_normalized.fileUrl':_0x395156,'message_normalized.expires_fileUrl':Date['now']()+_0x1e945c};try{let _0x610758=await this['repository'][_0x333ef9(0x82d)][_0x333ef9(0x513)](_0x4597c2,_0x5e6730,this[_0x333ef9(0x764)][_0x333ef9(0x265)]);_0x610758&&q(this[_0x333ef9(0x699)],_0x333ef9(0x658),{'message':_0x610758});}catch(_0x3b92d9){let _0x550dd6='Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage',_0x2587d=_0x3b92d9 instanceof Error?_0x3b92d9[_0x333ef9(0x82d)]:typeof _0x3b92d9==_0x333ef9(0x204)?JSON['stringify'](_0x3b92d9):_0x3b92d9,_0xbb48fb=_0x550dd6+':\x20'+_0x2587d;this[_0x333ef9(0x341)]['error'](this[_0x333ef9(0x699)]+'\x20('+this['instance'][_0x333ef9(0x265)]+_0x333ef9(0x6ae)+_0xbb48fb);}return{'mediaType':_0x57cd93,'fileName':_0x31eafb[_0x333ef9(0x323)],'caption':_0x31eafb['caption'],'size':{'fileLength':_0x31eafb[_0x333ef9(0x1ed)],'height':_0x31eafb[_0x333ef9(0x575)],'width':_0x31eafb[_0x333ef9(0x49b)]},'mimetype':_0x31eafb[_0x333ef9(0x2aa)],'base64':_0x39d493[_0x333ef9(0x76d)](_0x333ef9(0x4f7)),'fileUrl':_0x395156,'expires_fileUrl':Date[_0x333ef9(0x6bb)]()+_0x1e945c};}catch(_0x357f3e){let _0x423a50='Falha\x20ao\x20processar\x20a\x20solicitação',_0x17254b=_0x357f3e instanceof Error?_0x357f3e['message']:typeof _0x357f3e==_0x333ef9(0x204)?JSON[_0x333ef9(0x54f)](_0x357f3e):_0x357f3e,_0xfc6aa1=_0x423a50+':\x20'+_0x17254b;throw this['logger']['error'](this[_0x333ef9(0x699)]+'\x20('+this[_0x333ef9(0x764)][_0x333ef9(0x265)]+_0x333ef9(0x6ae)+_0xfc6aa1),new m(_0xfc6aa1);}}async[a0_0x53f180(0x484)](_0x5aefbf,_0x3474b5){const _0x5cbb75=a0_0x53f180;let _0x21f37a=j[_0x5cbb75(0x391)][_0x5cbb75(0x260)](__dirname,_0x5cbb75(0x607));F[_0x5cbb75(0x526)](_0x21f37a)||F[_0x5cbb75(0x3ba)](_0x21f37a,{'recursive':!0x0});let _0x547c10=j[_0x5cbb75(0x391)][_0x5cbb75(0x260)](_0x21f37a,_0x3474b5);return new Promise((_0x3dbada,_0x5debfc)=>{const _0x4c13dd=_0x5cbb75;F[_0x4c13dd(0x42c)](_0x547c10,_0x5aefbf,_0x18b76e=>{const _0x15f4e4=_0x4c13dd;_0x18b76e?(this[_0x15f4e4(0x341)][_0x15f4e4(0x1f6)](_0x15f4e4(0x50c)+(_0x18b76e instanceof Error?_0x18b76e[_0x15f4e4(0x82d)]:JSON[_0x15f4e4(0x54f)](_0x18b76e,null,0x2))),_0x5debfc(_0x18b76e)):(this[_0x15f4e4(0x341)][_0x15f4e4(0x4d9)](_0x15f4e4(0x35c)+_0x547c10),_0x3dbada(_0x547c10));});});}async[a0_0x53f180(0x427)](_0xc5da4){const _0x5d962d=a0_0x53f180;return await this[_0x5d962d(0x1cb)][_0x5d962d(0x259)]['find'](_0xc5da4,this['instance'][_0x5d962d(0x265)]);}async[a0_0x53f180(0x719)](){const _0x11058c=a0_0x53f180;return await this[_0x11058c(0x1cb)][_0x11058c(0x451)][_0x11058c(0x479)]({'where':{}},this[_0x11058c(0x764)][_0x11058c(0x265)]);}async[a0_0x53f180(0x6de)](_0x37c1db){const _0x32dccd=a0_0x53f180;return await this[_0x32dccd(0x1cb)][_0x32dccd(0x82d)][_0x32dccd(0x479)](_0x37c1db,this['instance'][_0x32dccd(0x265)]);}async[a0_0x53f180(0x822)](){const _0x3843f2=a0_0x53f180;return this[_0x3843f2(0x1cb)][_0x3843f2(0x254)]['removeUnusedChatFields'](this[_0x3843f2(0x764)][_0x3843f2(0x265)]),this[_0x3843f2(0x1cb)][_0x3843f2(0x254)]['updateMissingEtiquetas'](this['instance'][_0x3843f2(0x265)]),this['repository'][_0x3843f2(0x254)]['updateMissingTags'](this[_0x3843f2(0x764)][_0x3843f2(0x265)]),this[_0x3843f2(0x1cb)][_0x3843f2(0x254)]['updateMissingCustomFields'](this[_0x3843f2(0x764)][_0x3843f2(0x265)]),await this[_0x3843f2(0x1cb)]['chat'][_0x3843f2(0x479)]({'where':{}},this[_0x3843f2(0x764)][_0x3843f2(0x265)]);}async['importChatsAntigo'](_0x574bb6){const _0x2eb39c=a0_0x53f180;try{if(!Array[_0x2eb39c(0x714)](_0x574bb6)||_0x574bb6[_0x2eb39c(0x27a)]===0x0)throw new Error(_0x2eb39c(0x849));let _0x24a5a7=[],_0x16eb93=[];for(let _0x2e91d3 of _0x574bb6){if(_0x2e91d3[_0x2eb39c(0x452)])_0x2e91d3[_0x2eb39c(0x452)]=this[_0x2eb39c(0x489)](_0x2e91d3[_0x2eb39c(0x452)]);else continue;await this[_0x2eb39c(0x1cb)][_0x2eb39c(0x254)][_0x2eb39c(0x741)]({'where':{'_id':_0x2e91d3[_0x2eb39c(0x452)]}},this[_0x2eb39c(0x764)]['wuid'])?_0x16eb93['push']({'_id':_0x2e91d3['_id'],'leadInfo':_0x2e91d3[_0x2eb39c(0x500)],'owner':this[_0x2eb39c(0x764)][_0x2eb39c(0x265)]}):_0x24a5a7[_0x2eb39c(0x635)]({'_id':_0x2e91d3['_id'],'owner':this[_0x2eb39c(0x764)][_0x2eb39c(0x265)],'leadInfo':_0x2e91d3['leadInfo'],'imported':!0x0});}return _0x16eb93[_0x2eb39c(0x27a)]>0x0&&await this['repository']['chat'][_0x2eb39c(0x63c)](_0x16eb93[_0x2eb39c(0x5bd)](_0x38e3a8=>({'query':{'where':{'_id':_0x38e3a8['_id'],'owner':this[_0x2eb39c(0x764)][_0x2eb39c(0x265)]}},'update':_0x38e3a8}))),_0x24a5a7[_0x2eb39c(0x27a)]>0x0&&await this[_0x2eb39c(0x1cb)][_0x2eb39c(0x254)][_0x2eb39c(0x414)](_0x24a5a7,this['instance'][_0x2eb39c(0x265)]),{'updated':_0x16eb93['length'],'inserted':_0x24a5a7[_0x2eb39c(0x27a)]};}catch(_0x20e5f3){let _0x1ec521=_0x2eb39c(0x524),_0x4bb6d8=_0x20e5f3 instanceof Error?_0x20e5f3[_0x2eb39c(0x82d)]:typeof _0x20e5f3=='object'?JSON[_0x2eb39c(0x54f)](_0x20e5f3):_0x20e5f3,_0x497459=_0x1ec521+':\x20'+_0x4bb6d8;throw this['logger']['error'](this[_0x2eb39c(0x699)]+'\x20('+this['instance'][_0x2eb39c(0x265)]+_0x2eb39c(0x6ae)+_0x497459),new m(_0x497459);}}async[a0_0x53f180(0x2a2)](_0x39cfd5){const _0xd5fa0d=a0_0x53f180;try{if(!Array['isArray'](_0x39cfd5)||_0x39cfd5[_0xd5fa0d(0x27a)]===0x0)throw new Error(_0xd5fa0d(0x849));let _0x3413d8=0x64,_0x3ae145=0x0;for(let _0x392e48=0x0;_0x392e48<_0x39cfd5[_0xd5fa0d(0x27a)];_0x392e48+=_0x3413d8){let _0xf8626e=_0x39cfd5[_0xd5fa0d(0x412)](_0x392e48,_0x392e48+_0x3413d8),{updated:_0x581405}=await this[_0xd5fa0d(0x8c1)](_0xf8626e);_0x3ae145+=_0x581405;}return{'updated':_0x3ae145};}catch(_0x550203){let _0x2afce6=_0xd5fa0d(0x524),_0x5a906d=_0x550203 instanceof Error?_0x550203[_0xd5fa0d(0x82d)]:typeof _0x550203==_0xd5fa0d(0x204)?JSON[_0xd5fa0d(0x54f)](_0x550203):_0x550203,_0x27712d=_0x2afce6+':\x20'+_0x5a906d;throw this[_0xd5fa0d(0x341)][_0xd5fa0d(0x1f6)](this[_0xd5fa0d(0x699)]+'\x20('+this[_0xd5fa0d(0x764)][_0xd5fa0d(0x265)]+_0xd5fa0d(0x6ae)+_0x27712d),new m(_0x27712d);}}async[a0_0x53f180(0x8c1)](_0x4096f5){const _0x8ffd86=a0_0x53f180;try{let _0x3815d7=await this['repository'][_0x8ffd86(0x451)]['find']({'where':{}},this[_0x8ffd86(0x764)][_0x8ffd86(0x265)]),_0x35f00c=new Set(_0x3815d7[_0x8ffd86(0x5bd)](_0x559f3f=>_0x559f3f[_0x8ffd86(0x452)])),_0x31266e=[],_0x46490e=[];for(let _0x1633f6 of _0x4096f5){if(!_0x1633f6[_0x8ffd86(0x452)])continue;_0x1633f6[_0x8ffd86(0x452)]=this['createJid'](_0x1633f6[_0x8ffd86(0x452)]);let _0x55df80=await this[_0x8ffd86(0x1cb)][_0x8ffd86(0x254)][_0x8ffd86(0x741)]({'where':{'_id':_0x1633f6[_0x8ffd86(0x452)]}},this[_0x8ffd86(0x764)][_0x8ffd86(0x265)]),_0x15ca55={};if(Object[_0x8ffd86(0x615)](_0x1633f6[_0x8ffd86(0x500)])[_0x8ffd86(0x313)](([_0x48c7e8,_0x2a84a0])=>{const _0x1cfb82=_0x8ffd86;_0x15ca55[_0x1cfb82(0x42f)+_0x48c7e8]=_0x2a84a0;}),_0x55df80&&!_0x55df80[_0x8ffd86(0x5b7)]){let _0x1ca434=(_0x1633f6['leadInfo'][_0x8ffd86(0x79f)]||[])[_0x8ffd86(0x353)](_0x188231=>_0x35f00c[_0x8ffd86(0x898)](_0x188231)),_0x145356=new Set(_0x55df80[_0x8ffd86(0x500)]['etiquetas']||[]),_0xe12003=_0x1ca434[_0x8ffd86(0x353)](_0x2d223a=>!_0x145356[_0x8ffd86(0x898)](_0x2d223a)),_0x45f7a1=[..._0x145356][_0x8ffd86(0x353)](_0x5e9dfc=>!_0x1ca434['includes'](_0x5e9dfc));_0x46490e[_0x8ffd86(0x635)](..._0xe12003[_0x8ffd86(0x5bd)](_0x3f6eb4=>this[_0x8ffd86(0x574)](_0x3f6eb4,_0x1633f6['_id']))),_0x46490e[_0x8ffd86(0x635)](..._0x45f7a1[_0x8ffd86(0x5bd)](_0x2a8d64=>this[_0x8ffd86(0x31c)](_0x2a8d64,_0x1633f6[_0x8ffd86(0x452)]))),_0x1633f6[_0x8ffd86(0x500)][_0x8ffd86(0x79f)]=_0x1ca434,_0x31266e[_0x8ffd86(0x635)]({'query':{'where':{'_id':_0x1633f6[_0x8ffd86(0x452)],'owner':this['instance'][_0x8ffd86(0x265)]}},'update':_0x15ca55});}else _0x15ca55[_0x8ffd86(0x5b7)]=!0x0,_0x31266e[_0x8ffd86(0x635)]({'query':{'where':{'_id':_0x1633f6['_id'],'owner':this[_0x8ffd86(0x764)]['wuid']}},'update':_0x15ca55});}let _0x142278=await this[_0x8ffd86(0x1cb)]['chat'][_0x8ffd86(0x63c)](_0x31266e);return await Promise['all'](_0x46490e),{'updated':_0x142278};}catch(_0x20b037){let _0x53bf94=_0x8ffd86(0x524),_0x1d0dbf=_0x20b037 instanceof Error?_0x20b037[_0x8ffd86(0x82d)]:typeof _0x20b037==_0x8ffd86(0x204)?JSON['stringify'](_0x20b037):_0x20b037,_0x3d5e3e=_0x53bf94+':\x20'+_0x1d0dbf;throw this['logger']['error'](this[_0x8ffd86(0x699)]+'\x20('+this[_0x8ffd86(0x764)][_0x8ffd86(0x265)]+_0x8ffd86(0x6ae)+_0x3d5e3e),new m(_0x3d5e3e);}}async[a0_0x53f180(0x3f7)](){const _0x2d6fa7=a0_0x53f180;return await this['client'][_0x2d6fa7(0x3f7)]();}async[a0_0x53f180(0x2ef)](_0x3c1ba8){const _0x21a74b=a0_0x53f180;try{return await this[_0x21a74b(0x6ea)][_0x21a74b(0x3ff)](_0x3c1ba8['privacySettings'][_0x21a74b(0x8e0)]),await this['client'][_0x21a74b(0x434)](_0x3c1ba8[_0x21a74b(0x277)][_0x21a74b(0x6ad)]),await this[_0x21a74b(0x6ea)]['updateStatusPrivacy'](_0x3c1ba8[_0x21a74b(0x277)][_0x21a74b(0x315)]),await this[_0x21a74b(0x6ea)]['updateOnlinePrivacy'](_0x3c1ba8[_0x21a74b(0x277)][_0x21a74b(0x200)]),await this[_0x21a74b(0x6ea)][_0x21a74b(0x4ac)](_0x3c1ba8[_0x21a74b(0x277)][_0x21a74b(0x2f2)]),await this['client']['updateGroupsAddPrivacy'](_0x3c1ba8[_0x21a74b(0x277)]['groupadd']),this[_0x21a74b(0x6ea)]?.['ws']?.[_0x21a74b(0x805)](),{'update':_0x21a74b(0x659),'data':{'readreceipts':_0x3c1ba8[_0x21a74b(0x277)][_0x21a74b(0x8e0)],'profile':_0x3c1ba8[_0x21a74b(0x277)]['profile'],'status':_0x3c1ba8[_0x21a74b(0x277)][_0x21a74b(0x315)],'online':_0x3c1ba8[_0x21a74b(0x277)][_0x21a74b(0x200)],'last':_0x3c1ba8[_0x21a74b(0x277)][_0x21a74b(0x2f2)],'groupadd':_0x3c1ba8['privacySettings'][_0x21a74b(0x84a)]}};}catch(_0x5ee968){let _0x10a431=_0x21a74b(0x5ff),_0x361c03=_0x5ee968 instanceof Error?_0x5ee968[_0x21a74b(0x82d)]:typeof _0x5ee968==_0x21a74b(0x204)?JSON[_0x21a74b(0x54f)](_0x5ee968):_0x5ee968,_0x5eaef2=_0x10a431+':\x20'+_0x361c03;throw this[_0x21a74b(0x341)][_0x21a74b(0x1f6)](this[_0x21a74b(0x699)]+'\x20('+this[_0x21a74b(0x764)][_0x21a74b(0x265)]+_0x21a74b(0x6ae)+_0x5eaef2),new m(_0x5eaef2);}}async[a0_0x53f180(0x37d)](_0x27e67d){const _0x36e019=a0_0x53f180;let _0x482d4f=(_0x27e67d?this[_0x36e019(0x489)](_0x27e67d):this[_0x36e019(0x6ea)]?.['user']?.['id'])[_0x36e019(0x1ef)](/:\d{1,2}@/g,'@');this[_0x36e019(0x341)][_0x36e019(0x242)](this[_0x36e019(0x699)]+'\x20('+this['instance']['wuid']+_0x36e019(0x693)+_0x482d4f);let _0x3b6b99=await this[_0x36e019(0x1cb)][_0x36e019(0x259)][_0x36e019(0x741)]({'where':{'_id':_0x482d4f}},this[_0x36e019(0x764)]['wuid']),_0x34add2=_0x3b6b99?_0x3b6b99['pushName']:null;try{let _0x3405ec=(await this[_0x36e019(0x1e8)]({'numbers':[_0x482d4f]}))?.[_0x36e019(0x487)](),_0x2b43af=(await this[_0x36e019(0x301)](_0x482d4f,null,!0x1))['cachedContact']['pictureUrl'],_0x5c4b7e=await this[_0x36e019(0x1b8)](_0x3405ec?.['jid']),_0x11d34b=await this[_0x36e019(0x3dd)](_0x3405ec?.[_0x36e019(0x5c7)]),_0x520896=(await this[_0x36e019(0x301)](_0x482d4f,null,!0x1))[_0x36e019(0x1f5)][_0x36e019(0x7b2)],_0x2a779b=await this['repository'][_0x36e019(0x254)]['findOne']({'where':{'_id':_0x482d4f}},this[_0x36e019(0x764)][_0x36e019(0x265)]),_0x42386d={'imagechat':_0x2b43af,'contactname':_0x34add2||null,'pushName':_0x520896,'status':_0x5c4b7e?.[_0x36e019(0x315)],'isBusiness':_0x11d34b[_0x36e019(0x760)],'email':_0x11d34b?.[_0x36e019(0x2eb)],'description':_0x11d34b?.[_0x36e019(0x45a)],'website':_0x11d34b?.['website']?.[_0x36e019(0x487)](),'lastcache':Date['now'](),'imported':!_0x2a779b},_0x520014=await this[_0x36e019(0x1cb)][_0x36e019(0x254)][_0x36e019(0x5ea)]({'where':{'_id':_0x482d4f}},_0x42386d,this['instance'][_0x36e019(0x265)]),_0x2d7607={'owner':this[_0x36e019(0x764)][_0x36e019(0x265)],'_id':_0x482d4f,'profilePictureUrl':_0x2b43af,'status':_0x5c4b7e?.[_0x36e019(0x315)]};return this[_0x36e019(0x1cb)][_0x36e019(0x259)][_0x36e019(0x513)]([_0x2d7607],this['instance'][_0x36e019(0x265)]),_0x520014&&q(this['instanceName'],_0x36e019(0x1a9),{'chat':_0x520014}),{'wuid':_0x3405ec?.[_0x36e019(0x5c7)]||_0x482d4f,'name':_0x3405ec?.[_0x36e019(0x7b2)],'pushName':_0x520896,'numberExists':_0x3405ec?.['exists'],'picture':_0x2b43af,'status':_0x5c4b7e?.[_0x36e019(0x315)],'isBusiness':_0x11d34b[_0x36e019(0x760)],'email':_0x11d34b?.[_0x36e019(0x2eb)],'description':_0x11d34b?.['description'],'website':_0x11d34b?.[_0x36e019(0x228)]?.[_0x36e019(0x487)]()};}catch(_0x4c0843){return this[_0x36e019(0x341)][_0x36e019(0x1f6)](_0x36e019(0x55e)+(_0x4c0843 instanceof Error?_0x4c0843[_0x36e019(0x82d)]:JSON[_0x36e019(0x54f)](_0x4c0843,null,0x2))),{};}}async[a0_0x53f180(0x3dd)](_0x21d10f){const _0x123f77=a0_0x53f180;this[_0x123f77(0x341)][_0x123f77(0x242)](this[_0x123f77(0x699)]+'\x20('+this[_0x123f77(0x764)][_0x123f77(0x265)]+_0x123f77(0x595));try{let _0x282b20=_0x21d10f?this[_0x123f77(0x489)](_0x21d10f):this[_0x123f77(0x764)]['wuid'],_0x45cf5f=await this[_0x123f77(0x6ea)][_0x123f77(0x480)](_0x282b20);return this['logger'][_0x123f77(0x242)](this[_0x123f77(0x699)]+'\x20('+this[_0x123f77(0x764)]['wuid']+_0x123f77(0x53a)),_0x45cf5f?(this[_0x123f77(0x341)][_0x123f77(0x242)](this[_0x123f77(0x699)]+'\x20('+this[_0x123f77(0x764)]['wuid']+_0x123f77(0x45b)),{'isBusiness':!0x0,..._0x45cf5f}):{'isBusiness':!0x1,'message':_0x123f77(0x3b3),...(await this[_0x123f77(0x1e8)]({'numbers':[_0x282b20]}))?.[_0x123f77(0x487)]()};}catch(_0x1cba7b){let _0x30a7a='Falha\x20ao\x20processar\x20fetchBusinessProfile',_0x4ecdf9=_0x1cba7b instanceof Error?_0x1cba7b[_0x123f77(0x82d)]:typeof _0x1cba7b==_0x123f77(0x204)?JSON['stringify'](_0x1cba7b):_0x1cba7b,_0x2d4c76=_0x30a7a+':\x20'+_0x4ecdf9;throw this[_0x123f77(0x341)][_0x123f77(0x1f6)](this['instanceName']+'\x20('+this[_0x123f77(0x764)]['wuid']+_0x123f77(0x6ae)+_0x2d4c76),new x(_0x2d4c76);}}async['getStatus'](_0x36bb98){const _0x3a2f52=a0_0x53f180;let _0x1c8376=this[_0x3a2f52(0x489)](_0x36bb98);try{return{'wuid':_0x1c8376,'status':(await this[_0x3a2f52(0x6ea)][_0x3a2f52(0x33f)](_0x1c8376))[0x0]?.[_0x3a2f52(0x315)]};}catch{return{'wuid':_0x1c8376,'status':null};}}async[a0_0x53f180(0x24d)](_0x23e245){const _0x5471ec=a0_0x53f180;try{return await this['client'][_0x5471ec(0x24d)](_0x23e245),{'update':_0x5471ec(0x659)};}catch(_0x38ace8){let _0x5793e0='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName',_0x27377f=_0x38ace8 instanceof Error?_0x38ace8[_0x5471ec(0x82d)]:typeof _0x38ace8==_0x5471ec(0x204)?JSON['stringify'](_0x38ace8):_0x38ace8,_0x1e1cc2=_0x5793e0+':\x20'+_0x27377f;throw this[_0x5471ec(0x341)][_0x5471ec(0x1f6)](this[_0x5471ec(0x699)]+'\x20('+this[_0x5471ec(0x764)][_0x5471ec(0x265)]+_0x5471ec(0x6ae)+_0x1e1cc2),new x(_0x1e1cc2);}}async[a0_0x53f180(0x326)](_0x1e7483){const _0x355fd1=a0_0x53f180;try{return await this['client']['updateProfileStatus'](_0x1e7483),{'update':_0x355fd1(0x659)};}catch(_0x23529e){let _0x45f56b=_0x355fd1(0x84d),_0x5ac948=_0x23529e instanceof Error?_0x23529e['message']:typeof _0x23529e==_0x355fd1(0x204)?JSON['stringify'](_0x23529e):_0x23529e,_0x313c8d=_0x45f56b+':\x20'+_0x5ac948;throw this['logger'][_0x355fd1(0x1f6)](this[_0x355fd1(0x699)]+'\x20('+this[_0x355fd1(0x764)][_0x355fd1(0x265)]+'):\x20'+_0x313c8d),new x(_0x313c8d);}}async[a0_0x53f180(0x889)](_0x2add52){const _0x1bd49b=a0_0x53f180;try{let _0x1994a9;if((0x0,L['isURL'])(_0x2add52)){let _0x297f28=new Date()[_0x1bd49b(0x78f)](),_0x598a4d=_0x2add52+_0x1bd49b(0x3c6)+_0x297f28;_0x1994a9=(await te[_0x1bd49b(0x391)]['get'](_0x598a4d,{'responseType':_0x1bd49b(0x5e9)}))['data'];}else{if((0x0,L[_0x1bd49b(0x2c4)])(_0x2add52))_0x1994a9=Buffer[_0x1bd49b(0x457)](_0x2add52,_0x1bd49b(0x4f7));else throw new m(_0x1bd49b(0x3b8));}return await this[_0x1bd49b(0x6ea)]['updateProfilePicture'](this[_0x1bd49b(0x764)][_0x1bd49b(0x265)],_0x1994a9),{'update':_0x1bd49b(0x659)};}catch(_0x38db53){let _0x4aa756='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture',_0xf4f69a=_0x38db53 instanceof Error?_0x38db53[_0x1bd49b(0x82d)]:typeof _0x38db53=='object'?JSON[_0x1bd49b(0x54f)](_0x38db53):_0x38db53,_0x460cf8=_0x4aa756+':\x20'+_0xf4f69a;throw this[_0x1bd49b(0x341)][_0x1bd49b(0x1f6)](this[_0x1bd49b(0x699)]+'\x20('+this[_0x1bd49b(0x764)][_0x1bd49b(0x265)]+_0x1bd49b(0x6ae)+_0x460cf8),new x(_0x460cf8);}}async[a0_0x53f180(0x229)](){const _0x651f34=a0_0x53f180;try{return await this[_0x651f34(0x6ea)][_0x651f34(0x229)](this[_0x651f34(0x764)][_0x651f34(0x265)]),{'update':_0x651f34(0x659)};}catch(_0x43a2a1){let _0x5d014e='Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture',_0x16c2b3=_0x43a2a1 instanceof Error?_0x43a2a1[_0x651f34(0x82d)]:typeof _0x43a2a1==_0x651f34(0x204)?JSON[_0x651f34(0x54f)](_0x43a2a1):_0x43a2a1,_0x4ffe57=_0x5d014e+':\x20'+_0x16c2b3;throw this[_0x651f34(0x341)][_0x651f34(0x1f6)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x651f34(0x6ae)+_0x4ffe57),new x(_0x4ffe57);}}async[a0_0x53f180(0x22a)](_0x2f9dde){const _0x1abd27=a0_0x53f180;try{let _0x6bc200=(await this[_0x1abd27(0x1e8)]({'numbers':_0x2f9dde[_0x1abd27(0x884)]}))[_0x1abd27(0x353)](_0x3eaea3=>_0x3eaea3[_0x1abd27(0x630)])[_0x1abd27(0x5bd)](_0x2941b5=>_0x2941b5['jid']),{id:_0x42419f}=await this[_0x1abd27(0x6ea)][_0x1abd27(0x5d1)](_0x2f9dde[_0x1abd27(0x8ac)],_0x6bc200);_0x2f9dde?.['description']&&await this[_0x1abd27(0x6ea)][_0x1abd27(0x3b2)](_0x42419f,_0x2f9dde[_0x1abd27(0x45a)]);let _0x3089f6=await this['client']['groupMetadata'](_0x42419f);return _0x3089f6[_0x1abd27(0x3ef)]=[],{'metadata':_0x3089f6};}catch(_0x485c96){let _0x5a945c='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x2f3e52=_0x485c96 instanceof Error?_0x485c96[_0x1abd27(0x82d)]:typeof _0x485c96==_0x1abd27(0x204)?JSON[_0x1abd27(0x54f)](_0x485c96):_0x485c96,_0x14b4f2=_0x5a945c+':\x20'+_0x2f3e52;throw this['logger'][_0x1abd27(0x1f6)](this[_0x1abd27(0x699)]+'\x20('+this[_0x1abd27(0x764)][_0x1abd27(0x265)]+_0x1abd27(0x6ae)+_0x14b4f2),new x(_0x14b4f2);}}async[a0_0x53f180(0x75e)](_0x564942){const _0x4b17ee=a0_0x53f180;try{if(_0x564942['restrict']===!0x0&&await this[_0x4b17ee(0x6ea)][_0x4b17ee(0x28d)](_0x564942['groupJid'],_0x4b17ee(0x88d)),_0x564942[_0x4b17ee(0x66c)]===!0x1&&await this[_0x4b17ee(0x6ea)][_0x4b17ee(0x28d)](_0x564942[_0x4b17ee(0x636)],_0x4b17ee(0x66d)),_0x564942[_0x4b17ee(0x4c0)]===!0x0&&await this[_0x4b17ee(0x6ea)][_0x4b17ee(0x28d)](_0x564942['groupJid'],_0x4b17ee(0x355)),_0x564942['announce']===!0x1&&await this['client'][_0x4b17ee(0x28d)](_0x564942[_0x4b17ee(0x636)],_0x4b17ee(0x46a)),_0x564942[_0x4b17ee(0x716)]===!0x0&&await this[_0x4b17ee(0x6ea)][_0x4b17ee(0x4ca)](_0x564942[_0x4b17ee(0x636)],_0x4b17ee(0x45c)),_0x564942[_0x4b17ee(0x716)]===!0x1&&await this[_0x4b17ee(0x6ea)][_0x4b17ee(0x4ca)](_0x564942[_0x4b17ee(0x636)],_0x4b17ee(0x2e9)),_0x564942[_0x4b17ee(0x811)]===!0x0&&await this['client'][_0x4b17ee(0x3f0)](_0x564942[_0x4b17ee(0x636)],'on'),_0x564942['joinApprovalMode']===!0x1&&await this[_0x4b17ee(0x6ea)]['groupJoinApprovalMode'](_0x564942[_0x4b17ee(0x636)],_0x4b17ee(0x32d)),typeof _0x564942['expiration']<'u'&&_0x564942[_0x4b17ee(0x681)]!==null&&await this[_0x4b17ee(0x6ea)][_0x4b17ee(0x3fa)](_0x564942['groupJid'],_0x564942[_0x4b17ee(0x681)]),_0x564942[_0x4b17ee(0x7b2)]&&await this['client'][_0x4b17ee(0x74a)](_0x564942[_0x4b17ee(0x636)],_0x564942[_0x4b17ee(0x7b2)]),_0x564942[_0x4b17ee(0x45a)]&&await this[_0x4b17ee(0x6ea)][_0x4b17ee(0x3b2)](_0x564942[_0x4b17ee(0x636)],_0x564942[_0x4b17ee(0x45a)]),_0x564942[_0x4b17ee(0x32b)]){let _0x302597;if((0x0,L[_0x4b17ee(0x464)])(_0x564942[_0x4b17ee(0x32b)])){let _0x319c7b=new Date()['getTime'](),_0x230db3=_0x564942['image']+_0x4b17ee(0x3c6)+_0x319c7b;_0x302597=(await te['default'][_0x4b17ee(0x6c4)](_0x230db3,{'responseType':'arraybuffer'}))[_0x4b17ee(0x2ea)];}else{if((0x0,L[_0x4b17ee(0x2c4)])(_0x564942[_0x4b17ee(0x32b)]))_0x302597=Buffer[_0x4b17ee(0x457)](_0x564942['image'],'base64');else throw new m(_0x4b17ee(0x3b8));}await this[_0x4b17ee(0x6ea)][_0x4b17ee(0x889)](_0x564942[_0x4b17ee(0x636)],_0x302597);}return await this[_0x4b17ee(0x5c3)]({'groupJid':_0x564942[_0x4b17ee(0x636)]});}catch(_0x312a07){let _0x380f66=_0x4b17ee(0x82c),_0x4814dd=_0x312a07 instanceof Error?_0x312a07[_0x4b17ee(0x82d)]:typeof _0x312a07==_0x4b17ee(0x204)?JSON[_0x4b17ee(0x54f)](_0x312a07):_0x312a07,_0x421e7c=_0x380f66+':\x20'+_0x4814dd;throw this[_0x4b17ee(0x341)][_0x4b17ee(0x1f6)](this[_0x4b17ee(0x699)]+'\x20('+this[_0x4b17ee(0x764)][_0x4b17ee(0x265)]+_0x4b17ee(0x6ae)+_0x421e7c),new x(_0x421e7c);}}async['updateGParticipant'](_0x18def4){const _0x25d52c=a0_0x53f180;try{if(_0x18def4['action']===_0x25d52c(0x31e)||_0x18def4[_0x25d52c(0x660)]==='reject'){let _0x4f6ca3=_0x18def4[_0x25d52c(0x884)][_0x25d52c(0x5bd)](_0x34630f=>this['createJid'](_0x34630f));await this[_0x25d52c(0x6ea)]['groupRequestParticipantsUpdate'](_0x18def4['groupJid'],_0x4f6ca3,_0x18def4['action']);}else{if(_0x18def4[_0x25d52c(0x660)]===_0x25d52c(0x1b9)){let _0x37a5f8=(await this[_0x25d52c(0x1e8)]({'numbers':_0x18def4[_0x25d52c(0x884)]}))[_0x25d52c(0x353)](_0x3ea24a=>_0x3ea24a['exists'])[_0x25d52c(0x5bd)](_0x5824a5=>this['createJid'](_0x5824a5[_0x25d52c(0x5c7)]));if(_0x37a5f8[_0x25d52c(0x27a)]===0x0)throw new m(_0x25d52c(0x826));await this['client'][_0x25d52c(0x831)](_0x18def4['groupJid'],_0x37a5f8,'add');}else{let _0x5ffc67=_0x18def4[_0x25d52c(0x884)]['map'](_0x2eab7f=>this[_0x25d52c(0x489)](_0x2eab7f));await this[_0x25d52c(0x6ea)][_0x25d52c(0x831)](_0x18def4[_0x25d52c(0x636)],_0x5ffc67,_0x18def4[_0x25d52c(0x660)]);}}return await this['findGroup']({'groupJid':_0x18def4[_0x25d52c(0x636)]});}catch(_0x1865ee){let _0x1675b6='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',_0x5819bf=_0x1865ee instanceof Error?_0x1865ee[_0x25d52c(0x82d)]:typeof _0x1865ee=='object'?JSON[_0x25d52c(0x54f)](_0x1865ee):_0x1865ee,_0x1c0373=_0x1675b6+':\x20'+_0x5819bf;throw this[_0x25d52c(0x341)][_0x25d52c(0x1f6)](this[_0x25d52c(0x699)]+'\x20('+this[_0x25d52c(0x764)][_0x25d52c(0x265)]+'):\x20'+_0x1c0373),new m(_0x1c0373);}}async[a0_0x53f180(0x612)](_0x5668a0){const _0x3e7d1a=a0_0x53f180;try{return await this['client']['groupGetInviteInfo'](_0x5668a0[_0x3e7d1a(0x5c4)]);}catch(_0x7ae129){let _0x4e8cdb=_0x3e7d1a(0x8de),_0x28ea93=_0x7ae129 instanceof Error?_0x7ae129[_0x3e7d1a(0x82d)]:typeof _0x7ae129=='object'?JSON[_0x3e7d1a(0x54f)](_0x7ae129):_0x7ae129,_0x5c947d=_0x4e8cdb+':\x20'+_0x28ea93;throw this['logger'][_0x3e7d1a(0x1f6)](this[_0x3e7d1a(0x699)]+'\x20('+this[_0x3e7d1a(0x764)]['wuid']+_0x3e7d1a(0x6ae)+_0x5c947d),new m(_0x5c947d);}}async[a0_0x53f180(0x5c3)](_0x488ab9,_0x1b7aa7=a0_0x53f180(0x1a4)){const _0x4b53d3=a0_0x53f180;try{let _0x3ecb3a=await this[_0x4b53d3(0x1cb)][_0x4b53d3(0x254)][_0x4b53d3(0x741)]({'where':{'_id':_0x488ab9[_0x4b53d3(0x636)]}},this[_0x4b53d3(0x764)]['wuid']),_0x41ee4d=_0x3ecb3a?_0x3ecb3a[_0x4b53d3(0x5ac)]:null,_0x1a6624=0x18*0x3c*0x3c*0x3e8;if(!_0x41ee4d||_0x41ee4d[_0x4b53d3(0x5f9)]&&Date[_0x4b53d3(0x6bb)]()-_0x41ee4d[_0x4b53d3(0x5f9)]>_0x1a6624){let _0x2fe204=await this['client']['groupMetadata'](_0x488ab9[_0x4b53d3(0x636)]);if(_0x2fe204[_0x4b53d3(0x8a5)]=_0x2fe204?.[_0x4b53d3(0x8a5)]&&_0x2fe204[_0x4b53d3(0x8a5)][_0x4b53d3(0x76d)]()[_0x4b53d3(0x27a)]<0xd?_0x2fe204?.[_0x4b53d3(0x8a5)]*0x3e8:_0x2fe204?.['subjectTime']||null,_0x2fe204['creation']=_0x2fe204?.[_0x4b53d3(0x2c3)]&&_0x2fe204[_0x4b53d3(0x2c3)][_0x4b53d3(0x76d)]()[_0x4b53d3(0x27a)]<0xd?_0x2fe204?.[_0x4b53d3(0x2c3)]*0x3e8:_0x2fe204?.[_0x4b53d3(0x2c3)]||null,_0x41ee4d={..._0x2fe204,'lastUpdate':Date['now']()},!_0x2fe204)return;}let _0x2efc06=_0x41ee4d[_0x4b53d3(0x884)][_0x4b53d3(0x485)](_0x43cc73=>_0x43cc73['id']===this[_0x4b53d3(0x764)][_0x4b53d3(0x265)]+_0x4b53d3(0x7d0)&&_0x43cc73[_0x4b53d3(0x866)]!=null);!_0x41ee4d['inviteCode']&&_0x2efc06&&(_0x41ee4d[_0x4b53d3(0x5c4)]=(await this[_0x4b53d3(0x5c4)](_0x488ab9,!0x1))[_0x4b53d3(0x537)]);let _0x20e3b9=(!_0x41ee4d[_0x4b53d3(0x4c0)]||_0x2efc06)&&(!_0x41ee4d[_0x4b53d3(0x833)]||_0x41ee4d[_0x4b53d3(0x833)]&&_0x41ee4d['isCommunityAnnounce']&&_0x2efc06);_0x41ee4d[_0x4b53d3(0x372)]=_0x2efc06,_0x41ee4d[_0x4b53d3(0x5b8)]=_0x20e3b9;let _0x5bb8c1=[];if(_0x2efc06&&_0x41ee4d['joinApprovalMode'])try{_0x5bb8c1=await this[_0x4b53d3(0x6ea)]['groupRequestParticipantsList'](_0x488ab9[_0x4b53d3(0x636)]),_0x41ee4d['lastFetchAwaitingApproval']=Date[_0x4b53d3(0x6bb)]();}catch(_0x6e05fc){this[_0x4b53d3(0x341)]['verbose'](this[_0x4b53d3(0x699)]+'\x20('+this[_0x4b53d3(0x764)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x488ab9['groupJid']+':\x20'+(_0x6e05fc instanceof Error?_0x6e05fc[_0x4b53d3(0x82d)]:JSON[_0x4b53d3(0x54f)](_0x6e05fc,null,0x2)));}try{_0x41ee4d[_0x4b53d3(0x32b)]=(await this['findAndUpdateCacheContact'](_0x488ab9[_0x4b53d3(0x636)],null,!0x0))['cachedContact'][_0x4b53d3(0x3a0)];}catch(_0x2d1d9f){this['logger'][_0x4b53d3(0x242)](this['instanceName']+'\x20('+this[_0x4b53d3(0x764)][_0x4b53d3(0x265)]+_0x4b53d3(0x6a5)+_0x488ab9[_0x4b53d3(0x636)]+':\x20'+(_0x2d1d9f instanceof Error?_0x2d1d9f[_0x4b53d3(0x82d)]:JSON[_0x4b53d3(0x54f)](_0x2d1d9f,null,0x2)));}let _0x213906=_0x41ee4d[_0x4b53d3(0x884)]['map'](_0xed94c3=>_0xed94c3['id']),_0x1f1c94=_0x5bb8c1[_0x4b53d3(0x5bd)](_0x32cbef=>_0x32cbef['jid']),_0x36b3ed=await this[_0x4b53d3(0x1cb)][_0x4b53d3(0x6a9)]['findManyByIds']([..._0x213906,..._0x1f1c94]);_0x41ee4d['participants']=_0x41ee4d['participants'][_0x4b53d3(0x5bd)](_0x49a306=>{const _0x432445=_0x4b53d3;let _0x154541=_0x36b3ed['find'](_0x7366b3=>_0x7366b3[_0x432445(0x452)]===_0x49a306['id']);return{'id':_0x49a306['id'],'isAdmin':['admin',_0x432445(0x6e2)]['includes'](_0x49a306[_0x432445(0x866)]),'admin':_0x49a306[_0x432445(0x866)],'pushName':_0x154541?.[_0x432445(0x7b2)],'profilePictureUrl':_0x154541?.['pictureUrl']};}),_0x41ee4d[_0x4b53d3(0x3ef)]=_0x5bb8c1['map'](_0x4a8084=>{const _0x5850d7=_0x4b53d3;let _0x2b10cd=_0x36b3ed[_0x5850d7(0x479)](_0x1688dc=>_0x1688dc[_0x5850d7(0x452)]===_0x4a8084['jid']);return{'id':_0x4a8084[_0x5850d7(0x5c7)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x2b10cd?.['name'],'profilePictureUrl':_0x2b10cd?.[_0x5850d7(0x3a0)],'request_method':_0x4a8084['request_method'],'request_time':_0x4a8084[_0x5850d7(0x437)]};});let _0x900977=await this[_0x4b53d3(0x1cb)][_0x4b53d3(0x254)][_0x4b53d3(0x5ea)]({'where':{'_id':_0x488ab9[_0x4b53d3(0x636)]}},{'imagechat':_0x41ee4d[_0x4b53d3(0x32b)],'name':_0x41ee4d[_0x4b53d3(0x8ac)],'lastcache':Date[_0x4b53d3(0x6bb)](),'groupdata':_0x41ee4d},this[_0x4b53d3(0x764)][_0x4b53d3(0x265)]);return q(this['instanceName'],_0x4b53d3(0x1a9),{'chat':_0x900977}),{'metadata':_0x41ee4d};}catch(_0x25b31e){if(_0x1b7aa7===_0x4b53d3(0x81d))return;throw new J(_0x4b53d3(0x602),_0x25b31e[_0x4b53d3(0x82d)][_0x4b53d3(0x76d)]());}}async[a0_0x53f180(0x678)](){const _0x21fb09=a0_0x53f180;try{this['logger'][_0x21fb09(0x560)](_0x21fb09(0x1e2));let _0x69cb7b=Date[_0x21fb09(0x6bb)](),_0x5ce513=0x3*0x3c*0x3c*0x3e8;return _0x69cb7b-this[_0x21fb09(0x43d)]>_0x5ce513&&(this[_0x21fb09(0x63d)](),this[_0x21fb09(0x43d)]=_0x69cb7b),(await this['repository'][_0x21fb09(0x254)][_0x21fb09(0x3e9)]({'where':{'group':!0x0}},this[_0x21fb09(0x764)][_0x21fb09(0x265)]))['map'](_0x40dd04=>({..._0x40dd04[_0x21fb09(0x5ac)],'groupJid':_0x40dd04?.[_0x21fb09(0x452)],'participants':_0x40dd04?.[_0x21fb09(0x5ac)]?.['participants']||[],'awaitingApproval':_0x40dd04?.['groupdata']?.[_0x21fb09(0x3ef)]||[],'image':_0x40dd04?.['imagechat']}));}catch(_0x1e021d){let _0x3d2e8b=_0x21fb09(0x6fe),_0x5d0852=_0x1e021d instanceof Error?_0x1e021d[_0x21fb09(0x82d)]:typeof _0x1e021d==_0x21fb09(0x204)?JSON['stringify'](_0x1e021d):_0x1e021d,_0x290d19=_0x3d2e8b+':\x20'+_0x5d0852;throw this[_0x21fb09(0x341)][_0x21fb09(0x1f6)](this['instanceName']+'\x20('+this[_0x21fb09(0x764)][_0x21fb09(0x265)]+_0x21fb09(0x6ae)+_0x290d19),new J(_0x290d19);}}async[a0_0x53f180(0x63d)](){const _0x1f5273=a0_0x53f180;try{this[_0x1f5273(0x341)][_0x1f5273(0x560)]('Retornando\x20grupos\x20SEM\x20cache');let _0x5e8b48=[],_0x4b138d=await this[_0x1f5273(0x6ea)]['groupFetchAllParticipating'](),_0x12585f=Object[_0x1f5273(0x4ce)](_0x4b138d),_0x17c6ca=_0x12585f[_0x1f5273(0x353)](_0x288b2e=>(0x0,w['isJidGroup'])(_0x288b2e?.['id']))[_0x1f5273(0x5bd)](async _0x288ac4=>{const _0x282257=_0x1f5273;try{return await this[_0x282257(0x6ea)][_0x282257(0x6a1)](_0x288ac4['id'],_0x282257(0x888));}catch(_0x235ffd){return this['logger'][_0x282257(0x242)](this[_0x282257(0x699)]+'\x20('+this[_0x282257(0x764)]['wuid']+_0x282257(0x6a5)+_0x288ac4['id']+':\x20'+(_0x235ffd instanceof Error?_0x235ffd['message']:JSON['stringify'](_0x235ffd,null,0x2))),null;}}),_0x3f08dd=await Promise[_0x1f5273(0x241)](_0x17c6ca);for(let _0x51c75d=0x0;_0x51c75d<_0x12585f[_0x1f5273(0x27a)];_0x51c75d++){let _0x59265b=_0x12585f[_0x51c75d];(0x0,w[_0x1f5273(0x6e3)])(_0x59265b?.['id'])&&(_0x5e8b48[_0x1f5273(0x635)]({'groupJid':_0x59265b?.['id'],'subject':_0x59265b?.[_0x1f5273(0x8ac)],'subjectOwner':_0x59265b?.[_0x1f5273(0x2d5)]?.['split']('@')[0x0],'subjectTime':_0x59265b?.[_0x1f5273(0x8a5)],'creation':_0x59265b?.[_0x1f5273(0x2c3)],'size':_0x59265b?.[_0x1f5273(0x884)]?.[_0x1f5273(0x27a)],'owner':_0x59265b?.['owner']?.['split']('@')[0x0],'desc':_0x59265b?.[_0x1f5273(0x41a)],'restrict':_0x59265b?.[_0x1f5273(0x66c)],'announce':_0x59265b?.[_0x1f5273(0x4c0)],'image':_0x3f08dd[_0x51c75d],'isCommunity':_0x59265b?.[_0x1f5273(0x833)],'joinApprovalMode':_0x59265b?.[_0x1f5273(0x811)],'memberCanAddParticipant':_0x59265b?.['memberAddMode'],'participants':_0x59265b?.['participants'],'descOwner':_0x59265b?.[_0x1f5273(0x68b)],'descId':_0x59265b?.[_0x1f5273(0x1be)],'memberAddMode':_0x59265b?.['memberAddMode'],'isCommunityAnnounce':_0x59265b?.['isCommunityAnnounce'],'ephemeralDuration':_0x59265b?.['ephemeralDuration']||0x0,'author':_0x59265b?.[_0x1f5273(0x7c4)]}),this[_0x1f5273(0x642)](_0x12585f[_0x51c75d]));}return _0x5e8b48;}catch(_0x523556){let _0x46d29d=_0x1f5273(0x67a),_0xcb4dc3=_0x523556 instanceof Error?_0x523556[_0x1f5273(0x82d)]:typeof _0x523556==_0x1f5273(0x204)?JSON[_0x1f5273(0x54f)](_0x523556):_0x523556,_0x23799d=_0x46d29d+':\x20'+_0xcb4dc3;throw this[_0x1f5273(0x341)][_0x1f5273(0x1f6)](this[_0x1f5273(0x699)]+'\x20('+this[_0x1f5273(0x764)][_0x1f5273(0x265)]+'):\x20'+_0x23799d),new J(_0x23799d);}}async[a0_0x53f180(0x642)](_0x2d68f4){const _0x4c711f=a0_0x53f180;let _0x439241=await this['repository'][_0x4c711f(0x254)][_0x4c711f(0x741)]({'where':{'_id':_0x2d68f4['id']}},this[_0x4c711f(0x764)][_0x4c711f(0x265)]);_0x2d68f4['subjectTime']=_0x2d68f4?.['subjectTime']&&_0x2d68f4[_0x4c711f(0x8a5)][_0x4c711f(0x76d)]()['length']<0xd?_0x2d68f4?.['subjectTime']*0x3e8:_0x2d68f4?.[_0x4c711f(0x8a5)]||null,_0x2d68f4[_0x4c711f(0x2c3)]=_0x2d68f4?.[_0x4c711f(0x2c3)]&&_0x2d68f4['creation']['toString']()[_0x4c711f(0x27a)]<0xd?_0x2d68f4?.['creation']*0x3e8:_0x2d68f4?.[_0x4c711f(0x2c3)]||null;let _0x580091=_0x439241?.[_0x4c711f(0x5ac)]?.[_0x4c711f(0x3ef)]||[],_0x5f020e=_0x439241?.[_0x4c711f(0x5ac)]?.[_0x4c711f(0x4dd)],_0x15f09f=_0x2d68f4['participants'][_0x4c711f(0x5bd)](_0x200c2d=>{const _0x18f2e1=_0x4c711f;let _0x5a6aae=_0x439241?.['groupdata']?.[_0x18f2e1(0x884)]['find'](_0x520a7d=>_0x520a7d['id']===_0x200c2d['id']);return{..._0x200c2d,'isAdmin':[_0x18f2e1(0x866),_0x18f2e1(0x6e2)][_0x18f2e1(0x87c)](_0x200c2d[_0x18f2e1(0x866)]),'admin':_0x200c2d['admin'],'name':_0x5a6aae?.[_0x18f2e1(0x7b2)]||_0x200c2d[_0x18f2e1(0x7b2)],'imgUrl':_0x5a6aae?.['imgUrl']||_0x200c2d[_0x18f2e1(0x782)]};}),_0x2ee1ea=_0x15f09f[_0x4c711f(0x485)](_0x5b77f4=>_0x5b77f4['id']===this['instance'][_0x4c711f(0x265)]+_0x4c711f(0x7d0)&&_0x5b77f4[_0x4c711f(0x372)]),_0x1771e7=(!_0x2d68f4[_0x4c711f(0x4c0)]||_0x2ee1ea)&&(!_0x2d68f4[_0x4c711f(0x833)]||_0x2d68f4[_0x4c711f(0x833)]&&_0x2d68f4[_0x4c711f(0x4c2)]&&_0x2ee1ea),_0x2dc8b6={..._0x2d68f4,'participants':_0x15f09f,'awaitingApproval':_0x580091,'lastFetchAwaitingApproval':_0x5f020e,'isAdmin':_0x2ee1ea,'canSendMessage':_0x1771e7,'lastUpdate':Date[_0x4c711f(0x6bb)]()};await this[_0x4c711f(0x1cb)][_0x4c711f(0x254)][_0x4c711f(0x5ea)]({'where':{'_id':_0x2d68f4['id']}},{'name':_0x2d68f4[_0x4c711f(0x8ac)],'group':!0x0,'groupdata':_0x2dc8b6,'lastcache':Date[_0x4c711f(0x6bb)]()},this['instance'][_0x4c711f(0x265)]),q(this['instanceName'],_0x4c711f(0x1a9),{'chat':_0x2d68f4});}async[a0_0x53f180(0x390)](_0x467988){const _0x3ecd66=a0_0x53f180;let _0x300c52=await this['repository'][_0x3ecd66(0x254)][_0x3ecd66(0x741)]({'where':{'_id':_0x467988['id']}},this[_0x3ecd66(0x764)][_0x3ecd66(0x265)]);_0x467988[_0x3ecd66(0x8a5)]=_0x467988?.[_0x3ecd66(0x8a5)]&&_0x467988['subjectTime'][_0x3ecd66(0x76d)]()[_0x3ecd66(0x27a)]<0xd?_0x467988?.[_0x3ecd66(0x8a5)]*0x3e8:_0x467988?.['subjectTime']||null,_0x467988[_0x3ecd66(0x2c3)]=_0x467988?.['creation']&&_0x467988[_0x3ecd66(0x2c3)]['toString']()[_0x3ecd66(0x27a)]<0xd?_0x467988?.[_0x3ecd66(0x2c3)]*0x3e8:_0x467988?.[_0x3ecd66(0x2c3)]||null,_0x467988[_0x3ecd66(0x5c4)]&&(_0x467988[_0x3ecd66(0x5c4)]=_0x3ecd66(0x356)+_0x467988[_0x3ecd66(0x5c4)]);let _0x2fc20a=_0x300c52?.[_0x3ecd66(0x5ac)]?{..._0x300c52[_0x3ecd66(0x5ac)]}:{};Object[_0x3ecd66(0x6f3)](_0x467988)[_0x3ecd66(0x313)](_0x3dbc95=>{_0x3dbc95!=='id'&&(_0x2fc20a[_0x3dbc95]=_0x467988[_0x3dbc95]);});let _0xf7c808=_0x2fc20a[_0x3ecd66(0x884)]?.[_0x3ecd66(0x485)](_0x4a17ab=>_0x4a17ab['id']===this[_0x3ecd66(0x764)][_0x3ecd66(0x265)]+_0x3ecd66(0x7d0)&&_0x4a17ab[_0x3ecd66(0x372)])||!0x1;_0x2fc20a[_0x3ecd66(0x372)]=_0xf7c808;let _0x5af8fb=(!_0x2fc20a[_0x3ecd66(0x4c0)]||_0xf7c808)&&(!_0x2fc20a[_0x3ecd66(0x833)]||_0x2fc20a[_0x3ecd66(0x833)]&&_0x2fc20a[_0x3ecd66(0x4c2)]&&_0xf7c808);_0x2fc20a['canSendMessage']=_0x5af8fb;let _0x2a8094={'group':!0x0,'groupdata':_0x2fc20a};_0x467988['subject']&&(_0x2a8094[_0x3ecd66(0x7b2)]=_0x467988[_0x3ecd66(0x8ac)]),await this[_0x3ecd66(0x1cb)][_0x3ecd66(0x254)][_0x3ecd66(0x5ea)]({'where':{'_id':_0x467988['id']}},_0x2a8094,this[_0x3ecd66(0x764)][_0x3ecd66(0x265)],{'upsert':!0x0}),q(this[_0x3ecd66(0x699)],_0x3ecd66(0x1a9),{'chat':_0x2a8094});}async[a0_0x53f180(0x86d)](_0xb26b0){const _0x28b7f2=a0_0x53f180;let _0x5c080e=await this[_0x28b7f2(0x1cb)][_0x28b7f2(0x254)][_0x28b7f2(0x741)]({'where':{'_id':_0xb26b0['id']}},this[_0x28b7f2(0x764)][_0x28b7f2(0x265)]);if(!_0x5c080e||!_0x5c080e[_0x28b7f2(0x5ac)]){this[_0x28b7f2(0x341)][_0x28b7f2(0x560)](this[_0x28b7f2(0x699)]+'\x20('+this[_0x28b7f2(0x764)][_0x28b7f2(0x265)]+'):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20'+_0xb26b0['id']);return;}let _0x5bf344=await this[_0x28b7f2(0x1cb)][_0x28b7f2(0x6a9)][_0x28b7f2(0x7a7)](_0xb26b0[_0x28b7f2(0x884)]),_0x327a1a=[..._0x5c080e[_0x28b7f2(0x5ac)]?.[_0x28b7f2(0x884)]];switch(_0xb26b0[_0x28b7f2(0x660)]){case _0x28b7f2(0x1b9):let _0x4fde57=_0x5bf344[_0x28b7f2(0x5bd)](_0x57aa01=>({'id':_0x57aa01[_0x28b7f2(0x452)],'isAdmin':!0x1,'name':_0x57aa01[_0x28b7f2(0x7b2)],'imgUrl':_0x57aa01[_0x28b7f2(0x3a0)]}));_0x327a1a=[..._0x327a1a,..._0x4fde57];break;case'remove':_0x327a1a=_0x327a1a[_0x28b7f2(0x353)](_0x305d10=>!_0xb26b0['participants']['includes'](_0x305d10['id']));break;case _0x28b7f2(0x66e):case _0x28b7f2(0x621):_0x327a1a=_0x327a1a[_0x28b7f2(0x5bd)](_0x3f3a49=>_0xb26b0[_0x28b7f2(0x884)][_0x28b7f2(0x87c)](_0x3f3a49['id'])?{..._0x3f3a49,'isAdmin':_0xb26b0[_0x28b7f2(0x660)]===_0x28b7f2(0x66e)}:_0x3f3a49);break;}let _0xaebc1=_0x327a1a[_0x28b7f2(0x27a)],_0x1f12d2=_0x327a1a[_0x28b7f2(0x485)](_0x223ded=>_0x223ded['id']===this['instance'][_0x28b7f2(0x265)]+_0x28b7f2(0x7d0)),_0x29eda0=_0x1f12d2&&_0x327a1a['some'](_0x1b3532=>_0x1b3532['id']===this[_0x28b7f2(0x764)]['wuid']+_0x28b7f2(0x7d0)&&_0x1b3532[_0x28b7f2(0x372)]),_0x3392f6=_0x1f12d2&&(!_0x5c080e[_0x28b7f2(0x5ac)][_0x28b7f2(0x4c0)]||_0x29eda0)&&(!_0x5c080e['groupdata'][_0x28b7f2(0x833)]||_0x5c080e[_0x28b7f2(0x5ac)][_0x28b7f2(0x833)]&&_0x29eda0);await this[_0x28b7f2(0x1cb)][_0x28b7f2(0x254)][_0x28b7f2(0x5ea)]({'where':{'_id':_0xb26b0['id']}},{'groupdata':{..._0x5c080e[_0x28b7f2(0x5ac)],'participants':_0x327a1a,'size':_0xaebc1,'isAdmin':_0x29eda0,'canSendMessage':_0x3392f6}},this[_0x28b7f2(0x764)]['wuid']),this[_0x28b7f2(0x341)][_0x28b7f2(0x560)](this[_0x28b7f2(0x699)]+'\x20('+this['instance']['wuid']+_0x28b7f2(0x508)+_0xb26b0['id']+_0x28b7f2(0x82a)+_0xb26b0[_0x28b7f2(0x660)]+_0x28b7f2(0x738)+_0xaebc1+_0x28b7f2(0x5df)+_0x29eda0+_0x28b7f2(0x25c)+_0x3392f6);}async['inviteCode'](_0x2a0136,_0x1b14ae=!0x0){const _0x5bb1fa=a0_0x53f180;try{let _0x14fb1f=await this['client'][_0x5bb1fa(0x71b)](_0x2a0136[_0x5bb1fa(0x636)]),_0x22dbb5={'groupdata.inviteCode':_0x5bb1fa(0x356)+_0x14fb1f};if(_0x1b14ae){let _0x51b0be=await this[_0x5bb1fa(0x1cb)]['chat']['updateOne']({'where':{'_id':_0x2a0136[_0x5bb1fa(0x636)]}},_0x22dbb5,this[_0x5bb1fa(0x764)][_0x5bb1fa(0x265)]);}return{'inviteUrl':_0x5bb1fa(0x356)+_0x14fb1f,'inviteCode':_0x14fb1f};}catch(_0x115956){let _0x5cdbc1=_0x5bb1fa(0x783),_0x3dcc56=_0x115956 instanceof Error?_0x115956['message']:typeof _0x115956==_0x5bb1fa(0x204)?JSON[_0x5bb1fa(0x54f)](_0x115956):_0x115956,_0xaa2f51=_0x5cdbc1+':\x20'+_0x3dcc56;throw this[_0x5bb1fa(0x341)][_0x5bb1fa(0x1f6)](this[_0x5bb1fa(0x699)]+'\x20('+this[_0x5bb1fa(0x764)][_0x5bb1fa(0x265)]+_0x5bb1fa(0x6ae)+_0xaa2f51),new J(_0xaa2f51);}}async[a0_0x53f180(0x4b4)](_0x397904){const _0x52e6c9=a0_0x53f180;try{let _0xc85072=await this[_0x52e6c9(0x6ea)][_0x52e6c9(0x22f)](_0x397904[_0x52e6c9(0x636)]);return{'revoked':!0x0,'inviteUrl':'https://chat.whatsapp.com/'+_0xc85072,'inviteCode':_0xc85072};}catch(_0x56da44){let _0x46becf=_0x52e6c9(0x830),_0x2465f3=_0x56da44 instanceof Error?_0x56da44['message']:typeof _0x56da44=='object'?JSON['stringify'](_0x56da44):_0x56da44,_0x4aa387=_0x46becf+':\x20'+_0x2465f3;throw this[_0x52e6c9(0x341)]['error'](this[_0x52e6c9(0x699)]+'\x20('+this[_0x52e6c9(0x764)][_0x52e6c9(0x265)]+'):\x20'+_0x4aa387),new J(_0x4aa387);}}async['joinGroup'](_0xc548a){const _0x134160=a0_0x53f180;try{if((0x0,L['isURL'])(_0xc548a[_0x134160(0x5c4)]))var _0x57c684=_0xc548a[_0x134160(0x5c4)][_0x134160(0x6ca)]('/')[0x3];else var _0x57c684=_0xc548a[_0x134160(0x5c4)];let _0x560eb0=await this[_0x134160(0x6ea)]['groupAcceptInvite'](_0x57c684);return this[_0x134160(0x341)]['verbose'](this['instanceName']+'\x20('+this[_0x134160(0x764)][_0x134160(0x265)]+_0x134160(0x6ae)+_0x560eb0),{'join':!0x0,'inviteCode':_0x57c684,'groupJid':_0x560eb0};}catch(_0x4b6fea){let _0x25c4d5='Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x18e13d=_0x4b6fea instanceof Error?_0x4b6fea['message']:typeof _0x4b6fea=='object'?JSON['stringify'](_0x4b6fea):_0x4b6fea,_0x4f0a58=_0x25c4d5+':\x20'+_0x18e13d;throw this[_0x134160(0x341)][_0x134160(0x1f6)](this['instanceName']+'\x20('+this[_0x134160(0x764)][_0x134160(0x265)]+_0x134160(0x6ae)+_0x4f0a58),new J(_0x4f0a58);}}async['findParticipants'](_0x2fdbe2){const _0x1a036b=a0_0x53f180;try{return{'participants':(await this[_0x1a036b(0x1cb)][_0x1a036b(0x254)][_0x1a036b(0x741)]({'where':{'_id':_0x2fdbe2['groupJid']}},this['instance'][_0x1a036b(0x265)]))['groupdata']['participants']};}catch(_0x531a46){let _0x4c2139=_0x1a036b(0x626),_0x590068=_0x531a46 instanceof Error?_0x531a46[_0x1a036b(0x82d)]:typeof _0x531a46==_0x1a036b(0x204)?JSON[_0x1a036b(0x54f)](_0x531a46):_0x531a46,_0x3ac202=_0x4c2139+':\x20'+_0x590068;throw this[_0x1a036b(0x341)]['error'](this[_0x1a036b(0x699)]+'\x20('+this[_0x1a036b(0x764)][_0x1a036b(0x265)]+'):\x20'+_0x3ac202),new J(_0x3ac202);}}async['leaveGroup'](_0x109797){const _0x8f9318=a0_0x53f180;try{return await this[_0x8f9318(0x6ea)][_0x8f9318(0x8cb)](_0x109797['groupJid']),{'groupJid':_0x109797[_0x8f9318(0x636)],'leave':!0x0};}catch(_0x3d2901){let _0x36a4e4=_0x8f9318(0x64a),_0x17db3c=_0x3d2901 instanceof Error?_0x3d2901[_0x8f9318(0x82d)]:typeof _0x3d2901==_0x8f9318(0x204)?JSON[_0x8f9318(0x54f)](_0x3d2901):_0x3d2901,_0x11300=_0x36a4e4+':\x20'+_0x17db3c;throw this[_0x8f9318(0x341)][_0x8f9318(0x1f6)](this[_0x8f9318(0x699)]+'\x20('+this[_0x8f9318(0x764)][_0x8f9318(0x265)]+_0x8f9318(0x6ae)+_0x11300),new m(_0x11300);}}async['pollMessage'](_0x379baf){const _0x1ecb8f=a0_0x53f180;return await this['sendMessageWithTyping'](_0x379baf[_0x1ecb8f(0x373)],{'poll':{'name':_0x379baf['pollMessage']?.['name'],'selectableCount':_0x379baf[_0x1ecb8f(0x1af)][_0x1ecb8f(0x2cd)],'values':_0x379baf[_0x1ecb8f(0x1af)]['values']}},_0x379baf?.[_0x1ecb8f(0x274)]);}async[a0_0x53f180(0x69b)](_0x46e258){const _0x18df2a=a0_0x53f180;return await this[_0x18df2a(0x762)](_0x46e258[_0x18df2a(0x373)],{'listMessage':{'title':_0x46e258[_0x18df2a(0x69b)]['title'],'description':_0x46e258[_0x18df2a(0x69b)][_0x18df2a(0x45a)],'buttonText':_0x46e258['listMessage']?.['buttonText'],'footerText':_0x46e258[_0x18df2a(0x69b)]?.[_0x18df2a(0x7cc)],'sections':_0x46e258[_0x18df2a(0x69b)][_0x18df2a(0x4b5)],'listType':0x2}},_0x46e258?.[_0x18df2a(0x274)]);}async[a0_0x53f180(0x3c5)](_0x1fd9e6){const _0x57efae=a0_0x53f180;let _0x33c0b5;if(_0x1fd9e6[_0x57efae(0x3c5)][_0x57efae(0x6b8)]===_0x57efae(0x5d9)){let _0x384c78=_0x1fd9e6['menuMessage'][_0x57efae(0x746)]['indexOf']('\x0a'),_0xc9bb80='',_0x5c6866='';_0x384c78!==-0x1?(_0xc9bb80=_0x1fd9e6[_0x57efae(0x3c5)][_0x57efae(0x746)][_0x57efae(0x4b7)](0x0,_0x384c78)[_0x57efae(0x2af)](),_0x5c6866=_0x1fd9e6[_0x57efae(0x3c5)][_0x57efae(0x746)][_0x57efae(0x4b7)](_0x384c78+0x1)):_0x5c6866=_0x1fd9e6[_0x57efae(0x3c5)][_0x57efae(0x746)];let _0x2cb1ad=_0x1fd9e6['menuMessage'][_0x57efae(0x8cf)][_0x57efae(0x353)](_0x3295b6=>_0x3295b6[_0x57efae(0x2af)]()!==''),_0x4154b0=this['createSectionsFromValues'](_0x2cb1ad);_0x33c0b5={'listMessage':{'title':_0xc9bb80,'description':_0x5c6866,'buttonText':_0x1fd9e6[_0x57efae(0x3c5)][_0x57efae(0x669)]||_0x57efae(0x7c7),'footerText':_0x1fd9e6[_0x57efae(0x3c5)]['footerText'],'sections':_0x4154b0,'listType':0x2}};}else{if(_0x1fd9e6[_0x57efae(0x3c5)][_0x57efae(0x6b8)]===_0x57efae(0x722)){let _0x2bab11=_0x1fd9e6[_0x57efae(0x3c5)][_0x57efae(0x8cf)][_0x57efae(0x353)](_0x47dc46=>!(_0x47dc46[_0x57efae(0x7ee)]('[')&&_0x47dc46[_0x57efae(0x7c2)](']'))&&_0x47dc46[_0x57efae(0x2af)]()!=='')[_0x57efae(0x5bd)](_0x1e3d00=>_0x1e3d00[_0x57efae(0x6ca)]('\x0a')[0x0]);_0x33c0b5={'poll':{'name':_0x1fd9e6[_0x57efae(0x3c5)][_0x57efae(0x746)],'selectableCount':_0x1fd9e6[_0x57efae(0x3c5)][_0x57efae(0x2cd)]||0x1,'values':_0x2bab11}};}}return await this[_0x57efae(0x762)](_0x1fd9e6[_0x57efae(0x373)],_0x33c0b5,_0x1fd9e6?.[_0x57efae(0x274)]);}[a0_0x53f180(0x4b9)](_0x522b8c){const _0x2fcb1c=a0_0x53f180;let _0x3d62bd=[],_0x1a5adc={'rows':[]};return _0x522b8c[_0x2fcb1c(0x313)](_0x13ca49=>{const _0x422088=_0x2fcb1c;if(_0x13ca49[_0x422088(0x7ee)]('[')&&_0x13ca49[_0x422088(0x7c2)](']'))_0x1a5adc[_0x422088(0x37c)][_0x422088(0x27a)]>0x0&&_0x3d62bd[_0x422088(0x635)](_0x1a5adc),_0x1a5adc={'title':_0x13ca49[_0x422088(0x412)](0x1,-0x1),'rows':[]};else{let _0x1935dd=_0x13ca49[_0x422088(0x6ca)]('\x0a')[_0x422088(0x5bd)](_0x449b86=>_0x449b86[_0x422088(0x2af)]()),_0x10335b=_0x1935dd[0x0],_0x3397d6=_0x1935dd[0x1]||null,_0x3da27c=_0x1935dd[0x2]||_0x10335b;_0x1a5adc[_0x422088(0x37c)][_0x422088(0x635)]({'title':_0x10335b,'description':_0x3397d6,'rowId':_0x3da27c});}}),_0x1a5adc[_0x2fcb1c(0x37c)][_0x2fcb1c(0x27a)]>0x0&&_0x3d62bd[_0x2fcb1c(0x635)](_0x1a5adc),_0x3d62bd;}async[a0_0x53f180(0x1bd)](_0x179478,_0x21ddee){const _0x1f6e2b=a0_0x53f180;if(await this[_0x1f6e2b(0x40b)](_0x179478,!0x0)){let _0xf0265a={'where':{'_id':_0x179478['id']}},_0x2e0149={'status':[_0x21ddee[_0x1f6e2b(0x315)]][0x0]};try{let _0x55f0bc=await this[_0x1f6e2b(0x1cb)][_0x1f6e2b(0x82d)][_0x1f6e2b(0x513)](_0xf0265a,_0x2e0149,this[_0x1f6e2b(0x764)][_0x1f6e2b(0x265)]);_0x55f0bc&&q(this[_0x1f6e2b(0x699)],_0x1f6e2b(0x658),{'message':_0x55f0bc});}catch{}}}[a0_0x53f180(0x6b4)](_0x1e8dae){const _0x199fbc=a0_0x53f180;let _0x1ccbb1=[];return _0x1e8dae[_0x199fbc(0x313)](_0x410212=>{const _0x26adbc=_0x199fbc;_0x410212[_0x26adbc(0x6df)]&&_0x1ccbb1[_0x26adbc(0x635)]('['+_0x410212[_0x26adbc(0x6df)]+']'),_0x410212[_0x26adbc(0x37c)][_0x26adbc(0x313)](_0x275890=>{const _0x40361b=_0x26adbc;_0x1ccbb1[_0x40361b(0x635)](_0x275890['title']);});}),_0x1ccbb1[_0x199fbc(0x260)]('|');}['formatVCard'](_0x24b3fa){const _0x2dc5df=a0_0x53f180;let _0x5a8ae4=_0x24b3fa[_0x2dc5df(0x1ef)](/\\n/g,'\x0a')[_0x2dc5df(0x6ca)]('\x0a')[_0x2dc5df(0x353)](_0x304cfb=>_0x304cfb[_0x2dc5df(0x87c)](_0x2dc5df(0x51a))||_0x304cfb[_0x2dc5df(0x87c)](_0x2dc5df(0x243))),_0x2eed3f='';return _0x5a8ae4[_0x2dc5df(0x313)](_0x5c9186=>{const _0x1f690e=_0x2dc5df;let _0x49702b=/TEL(?:.*):(.+)/,_0x4c74c3=/EMAIL(?:.*):(.+)/,_0x5435cc=_0x5c9186[_0x1f690e(0x3d5)](_0x49702b),_0x1e5041=_0x5c9186[_0x1f690e(0x3d5)](_0x4c74c3);if(_0x5435cc){let _0x235e10=_0x5435cc[0x1][_0x1f690e(0x1ef)](/-| |\+|\(|\)/g,'')['trim']();_0x2eed3f+=_0x1f690e(0x7f9)+_0x235e10+'\x0a';}else{if(_0x1e5041){let _0x45cbd8=_0x1e5041[0x1][_0x1f690e(0x2af)]();_0x2eed3f+=_0x1f690e(0x2f0)+_0x45cbd8+'\x0a';}}}),_0x2eed3f[_0x2dc5df(0x2af)]();}async[a0_0x53f180(0x547)](_0x23843b,_0x215fe0,_0x3c0835,_0x17157d=null){const _0x588d81=a0_0x53f180;if(_0x23843b[_0x588d81(0x8a8)])try{let _0x3cde26=_0x215fe0['key'][_0x588d81(0x87e)][_0x588d81(0x1ef)](/:\d{1,2}@/g,'@'),_0x437253=_0x215fe0[_0x588d81(0x861)]['fromMe'],_0x51f599=_0x3cde26['endsWith'](_0x588d81(0x674)),_0x46425f=_0x215fe0['participant']?.['replace'](/:\d{1,2}@/g,'@')||'',_0x38a208=_0x215fe0['message_normalized']?.[_0x588d81(0x746)]||_0x215fe0[_0x588d81(0x8e4)]?.['caption']||_0x215fe0[_0x588d81(0x8e4)]?.['vote']||_0x215fe0[_0x588d81(0x8e4)]?.['name']||'',_0x746d3d={'_id':_0x215fe0[_0x588d81(0x452)],'remoteJid':_0x437253?this[_0x588d81(0x764)]['wuid']:_0x51f599?_0x46425f:_0x3cde26,'pushName':_0x437253?this[_0x588d81(0x764)][_0x588d81(0x76b)]||'Eu':_0x215fe0['pushName'],'text':_0x38a208,'type':_0x215fe0[_0x588d81(0x55c)],'when':_0x215fe0[_0x588d81(0x885)]||Date[_0x588d81(0x6bb)]()};_0x17157d||(_0x17157d=await this[_0x588d81(0x1cb)]['chat']['findOne']({'where':{'_id':_0x3cde26}},this[_0x588d81(0x764)][_0x588d81(0x265)]));let _0x34bf5b=_0x17157d?_0x437253?_0x17157d[_0x588d81(0x5a5)]:(_0x17157d['unreadcount']||0x0)+0x1:_0x437253?0x0:0x1,_0x1b2dcb={'lastmsg':_0x215fe0[_0x588d81(0x885)]||Date[_0x588d81(0x6bb)](),'ephemeralExpiration':_0x215fe0[_0x588d81(0x681)],'lastMessage':_0x746d3d,'unreadcount':_0x34bf5b,..._0x437253||_0x51f599?{}:{'name':_0x215fe0[_0x588d81(0x2a7)]},..._0x51f599?{'group':_0x51f599}:{},...!_0x437253&&!_0x51f599&&_0x215fe0[_0x588d81(0x6a1)]?{'imagechat':_0x215fe0[_0x588d81(0x6a1)]}:{}};if(!_0x51f599&&(!_0x17157d?.[_0x588d81(0x500)]||!_0x17157d[_0x588d81(0x500)][_0x588d81(0x7ac)])&&_0x215fe0[_0x588d81(0x2a7)]&&!_0x437253&&(_0x1b2dcb={..._0x1b2dcb,'leadInfo.nome':_0x215fe0[_0x588d81(0x2a7)]}),_0x17157d?.['leadInfo'][_0x588d81(0x79f)]||(_0x1b2dcb={..._0x1b2dcb,'leadInfo.etiquetas':[]}),_0x17157d?.[_0x588d81(0x500)][_0x588d81(0x736)]||(_0x1b2dcb={..._0x1b2dcb,'leadInfo.customFields':[]}),_0x17157d?.[_0x588d81(0x500)][_0x588d81(0x3d6)]||(_0x1b2dcb={..._0x1b2dcb,'leadInfo.tags':[]}),_0x17157d&&_0x17157d?.[_0x588d81(0x5b7)]){let _0xa9951e=await this[_0x588d81(0x1cb)][_0x588d81(0x451)][_0x588d81(0x479)]({'where':{}},this[_0x588d81(0x764)][_0x588d81(0x265)]),_0x9fa1e6=new Set(_0xa9951e[_0x588d81(0x5bd)](_0xaad0b3=>_0xaad0b3[_0x588d81(0x452)])),_0x15ee19=(_0x17157d['leadInfo']?.[_0x588d81(0x79f)]||[])[_0x588d81(0x353)](_0x541ad1=>_0x9fa1e6[_0x588d81(0x898)](_0x541ad1));_0x1b2dcb={..._0x1b2dcb,'imported':!0x1,'leadInfo.etiquetas':_0x15ee19};for(let _0x20cc6a of _0x15ee19)await this[_0x588d81(0x574)](_0x20cc6a,_0x3cde26);}if(!this[_0x588d81(0x335)][_0x588d81(0x777)][_0x588d81(0x479)](_0x52fa2e=>_0x52fa2e['startCommand']&&_0x38a208['includes'](_0x52fa2e[_0x588d81(0x26d)]))&&_0x3c0835===_0x588d81(0x522)&&_0x437253&&this[_0x588d81(0x335)]?.[_0x588d81(0x72d)][_0x588d81(0x531)]&&_0x38a208[_0x588d81(0x2af)]()!==this[_0x588d81(0x335)]?.[_0x588d81(0x72d)][_0x588d81(0x709)][_0x588d81(0x2af)]()){let _0x2e9486=(this[_0x588d81(0x335)]?.[_0x588d81(0x72d)][_0x588d81(0x20a)]||0x0)*0xea60,_0x568785=Date[_0x588d81(0x6bb)]()+_0x2e9486;_0x17157d?.[_0x588d81(0x500)]?.[_0x588d81(0x29a)]===0x0||(_0x1b2dcb={..._0x1b2dcb,'leadInfo.desativadoFluxoAte':_0x568785},this[_0x588d81(0x341)]['verbose'](this['instanceName']+'\x20('+this[_0x588d81(0x764)]['wuid']+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x568785+'.'));}if(_0x38a208['trim']()===this[_0x588d81(0x335)]?.['flowConfig']['stopConversation'][_0x588d81(0x2af)]()){this[_0x588d81(0x341)][_0x588d81(0x242)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20'+_0x38a208);let _0x1ce814=Date[_0x588d81(0x6bb)]();this[_0x588d81(0x335)]?.[_0x588d81(0x72d)][_0x588d81(0x7ea)]===0x0?_0x1b2dcb={..._0x1b2dcb,'leadInfo.desativadoFluxoAte':_0x1ce814+0x7591f6200}:_0x1b2dcb={..._0x1b2dcb,'leadInfo.desativadoFluxoAte':_0x1ce814+this[_0x588d81(0x335)]?.[_0x588d81(0x72d)][_0x588d81(0x7ea)]*0x3c*0x3e8};}if(_0x17157d=await this[_0x588d81(0x1cb)][_0x588d81(0x254)][_0x588d81(0x5ea)]({'where':{'_id':_0x3cde26}},_0x1b2dcb,this[_0x588d81(0x764)][_0x588d81(0x265)],{'new':!0x0,'upsert':!0x0}),_0x17157d)q(this[_0x588d81(0x699)],'chats',{'chat':_0x17157d});else{this['logger'][_0x588d81(0x1f6)](this[_0x588d81(0x699)]+'\x20('+this[_0x588d81(0x764)]['wuid']+_0x588d81(0x40e));return;}if(_0x437253)return this[_0x588d81(0x341)]['verbose'](this[_0x588d81(0x699)]+'\x20('+this[_0x588d81(0x764)][_0x588d81(0x265)]+_0x588d81(0x385)),null;if(!this[_0x588d81(0x335)]?.[_0x588d81(0x72d)][_0x588d81(0x531)])return this[_0x588d81(0x341)][_0x588d81(0x242)](this[_0x588d81(0x699)]+'\x20('+this[_0x588d81(0x764)][_0x588d81(0x265)]+'):\x20Flow\x20desativado'),null;if(_0x17157d['_id'][_0x588d81(0x87c)](_0x588d81(0x674))&&this[_0x588d81(0x335)]?.[_0x588d81(0x72d)][_0x588d81(0x71a)]===!0x0)return this[_0x588d81(0x341)]['verbose'](this['instanceName']+'\x20('+this[_0x588d81(0x764)][_0x588d81(0x265)]+_0x588d81(0x19d)),null;if(_0x17157d[_0x588d81(0x500)]){if(_0x17157d['leadInfo'][_0x588d81(0x29a)]===0x0||_0x17157d[_0x588d81(0x500)][_0x588d81(0x7d7)])return this[_0x588d81(0x341)][_0x588d81(0x242)](this['instanceName']+'\x20('+this[_0x588d81(0x764)][_0x588d81(0x265)]+_0x588d81(0x463)+_0x3cde26+_0x588d81(0x429)),null;if(_0x17157d[_0x588d81(0x500)][_0x588d81(0x29a)]>Date[_0x588d81(0x6bb)]()&&!_0x215fe0[_0x588d81(0x8e4)]?.['vote'])return this[_0x588d81(0x341)]['verbose'](this[_0x588d81(0x699)]+'\x20('+this[_0x588d81(0x764)][_0x588d81(0x265)]+_0x588d81(0x2e2)+new Date(_0x17157d[_0x588d81(0x500)][_0x588d81(0x29a)])[_0x588d81(0x6c1)]()+_0x588d81(0x429)),null;}this[_0x588d81(0x341)]['verbose'](this[_0x588d81(0x699)]+'\x20('+this[_0x588d81(0x764)][_0x588d81(0x265)]+_0x588d81(0x214)),this[_0x588d81(0x729)](_0x215fe0,_0x3c0835);}catch(_0x6d72b2){let _0x53f7ab=_0x588d81(0x609),_0x34e6f0=_0x6d72b2 instanceof Error?_0x6d72b2[_0x588d81(0x82d)]:typeof _0x6d72b2=='object'?JSON[_0x588d81(0x54f)](_0x6d72b2):_0x6d72b2,_0x191df1=_0x53f7ab+':\x20'+_0x34e6f0;return this[_0x588d81(0x341)][_0x588d81(0x1f6)](this[_0x588d81(0x699)]+'\x20('+this['instance'][_0x588d81(0x265)]+_0x588d81(0x6ae)+_0x191df1),null;}}async[a0_0x53f180(0x551)](_0x192f03,_0xae568f){const _0x82ef33=a0_0x53f180;if(_0xae568f[_0x82ef33(0x8a8)]){let _0x28191d=_0x192f03[_0x82ef33(0x5bd)](async _0x22b22d=>{const _0x5b5799=_0x82ef33;try{let _0xf348fa={'_id':_0x22b22d['_id'],'owner':_0x22b22d['owner'],'lastcache':0x0};if(Object[_0x5b5799(0x6f3)](_0x22b22d)['forEach'](_0x5294be=>{_0x22b22d[_0x5294be]!==null&&(_0xf348fa[_0x5294be]=_0x22b22d[_0x5294be]);}),_0xf348fa[_0x5b5799(0x7ba)]===null&&(_0xf348fa[_0x5b5799(0x7ba)]=_0x5b5799(0x52e)),Object[_0x5b5799(0x6f3)](_0xf348fa)[_0x5b5799(0x27a)]>0x0)return await this[_0x5b5799(0x1cb)]['chat'][_0x5b5799(0x5ea)]({'where':{'_id':_0x22b22d['_id']}},_0xf348fa,this[_0x5b5799(0x764)][_0x5b5799(0x265)]);}catch(_0x21b7a6){let _0x4f7108=_0x5b5799(0x7ed)+_0x22b22d[_0x5b5799(0x452)],_0x1817dd=_0x21b7a6 instanceof Error?_0x21b7a6[_0x5b5799(0x82d)]:typeof _0x21b7a6==_0x5b5799(0x204)?JSON[_0x5b5799(0x54f)](_0x21b7a6):_0x21b7a6,_0x20c73a=_0x4f7108+':\x20'+_0x1817dd;return this['logger'][_0x5b5799(0x1f6)](this[_0x5b5799(0x699)]+'\x20('+this[_0x5b5799(0x764)][_0x5b5799(0x265)]+_0x5b5799(0x6ae)+_0x20c73a),null;}}),_0x4a9fd7=(await Promise[_0x82ef33(0x241)](_0x28191d))['filter'](_0x518e6a=>_0x518e6a!==null)[_0x82ef33(0x27a)];this[_0x82ef33(0x341)][_0x82ef33(0x242)](this[_0x82ef33(0x699)]+'\x20('+this[_0x82ef33(0x764)][_0x82ef33(0x265)]+_0x82ef33(0x6ae)+_0x4a9fd7+_0x82ef33(0x780)+this[_0x82ef33(0x764)][_0x82ef33(0x265)]+_0x82ef33(0x340));}}async[a0_0x53f180(0x857)](_0x334e3a){const _0x4bbbf2=a0_0x53f180;this[_0x4bbbf2(0x341)][_0x4bbbf2(0x242)](this[_0x4bbbf2(0x699)]+'\x20('+this[_0x4bbbf2(0x764)][_0x4bbbf2(0x265)]+_0x4bbbf2(0x6c9));let _0xaed255={'readMessages':[{'remoteJid':_0x334e3a[_0x4bbbf2(0x8a6)]['lastReceivedMessage']['key'][_0x4bbbf2(0x87e)],'fromMe':_0x334e3a['chatLog'][_0x4bbbf2(0x871)][_0x4bbbf2(0x861)][_0x4bbbf2(0x474)],'id':_0x334e3a[_0x4bbbf2(0x8a6)]['lastReceivedMessage'][_0x4bbbf2(0x861)]['id']}]};await this['markMessageAsRead'](_0xaed255);}async['StartBot'](_0xbd1c38,_0x297457){const _0xfa05a4=a0_0x53f180;try{let {key:_0x51c166,message_normalized:_0x20258d}=_0xbd1c38,_0xbfebd8=_0x20258d,_0x3e294e=_0x20258d[_0xfa05a4(0x746)]||_0x20258d[_0xfa05a4(0x62d)]||_0x20258d[_0xfa05a4(0x1f1)]||_0x20258d['name']||'',_0x273b34=_0x51c166[_0xfa05a4(0x87e)],_0x1019a7=null,_0x271551=this['AutomateSystem'][_0xfa05a4(0x777)][_0xfa05a4(0x479)](_0x22c102=>_0x22c102[_0xfa05a4(0x26d)]&&_0x3e294e['includes'](_0x22c102[_0xfa05a4(0x26d)]));if(_0x271551&&_0x297457===_0xfa05a4(0x522)){let _0x56e402=await this[_0xfa05a4(0x1cb)][_0xfa05a4(0x72a)][_0xfa05a4(0x741)]({'where':{'_id':_0x271551[_0xfa05a4(0x452)]}});if(this[_0xfa05a4(0x341)][_0xfa05a4(0x242)](this[_0xfa05a4(0x699)]+'\x20('+this[_0xfa05a4(0x764)]['wuid']+_0xfa05a4(0x213)),_0x56e402&&_0x56e402[_0xfa05a4(0x6b1)]?.[_0xfa05a4(0x87c)](this[_0xfa05a4(0x764)][_0xfa05a4(0x265)]))_0x1019a7=await this['createNewConversation'](_0x56e402,_0x51c166,_0xbfebd8);else return this['logger'][_0xfa05a4(0x242)](this['instanceName']+'\x20('+this[_0xfa05a4(0x764)][_0xfa05a4(0x265)]+_0xfa05a4(0x4af)),null;}else this[_0xfa05a4(0x341)]['verbose'](this[_0xfa05a4(0x699)]+'\x20('+this['instance'][_0xfa05a4(0x265)]+_0xfa05a4(0x6c2));if(_0x1019a7=await this[_0xfa05a4(0x3fd)](_0x273b34,_0xbfebd8),_0x1019a7){this[_0xfa05a4(0x341)][_0xfa05a4(0x242)](this[_0xfa05a4(0x699)]+'\x20('+this['instance'][_0xfa05a4(0x265)]+_0xfa05a4(0x25a)),!_0x51c166[_0xfa05a4(0x474)]&&_0x1019a7[_0xfa05a4(0x6ed)]&&this[_0xfa05a4(0x857)](_0x1019a7);let _0x4eaf6a=await this[_0xfa05a4(0x39e)](_0x1019a7);_0x4eaf6a&&await this[_0xfa05a4(0x3fe)](_0x1019a7,_0x4eaf6a);}}catch(_0x2af5f5){this[_0xfa05a4(0x341)][_0xfa05a4(0x1f6)](this[_0xfa05a4(0x699)]+'\x20('+this['instance'][_0xfa05a4(0x265)]+'):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20'+(_0x2af5f5 instanceof Error?_0x2af5f5[_0xfa05a4(0x82d)]:JSON[_0xfa05a4(0x54f)](_0x2af5f5,null,0x2)));}}[a0_0x53f180(0x47c)](_0x4aea6f,_0x13b8a8='',_0x368682={}){const _0x130516=a0_0x53f180;return typeof _0x4aea6f!=_0x130516(0x204)||_0x4aea6f===null?(_0x13b8a8&&(_0x368682[_0x13b8a8]=_0x4aea6f),_0x368682):(Object[_0x130516(0x615)](_0x4aea6f)[_0x130516(0x313)](([_0x5cc803,_0x2b8a7b])=>{const _0x2ba2f3=_0x130516;let _0x4cf08c=_0x13b8a8?_0x13b8a8+'.'+_0x5cc803:'_'+_0x5cc803;Array['isArray'](_0x2b8a7b)?_0x2b8a7b[_0x2ba2f3(0x313)]((_0x5cbb20,_0x3662dd)=>{const _0x431949=_0x2ba2f3;this[_0x431949(0x47c)](_0x5cbb20,_0x4cf08c+'['+_0x3662dd+']',_0x368682);}):typeof _0x2b8a7b==_0x2ba2f3(0x204)&&_0x2b8a7b!==null?this['flattenObject'](_0x2b8a7b,_0x4cf08c,_0x368682):_0x368682[_0x4cf08c]=String(_0x2b8a7b);}),_0x368682);}['variablesToObject'](_0x1c3fd9){const _0x3e2e61=a0_0x53f180;let _0x2e7f41={};for(let _0x2423e7 of _0x1c3fd9)typeof _0x2423e7[_0x3e2e61(0x7b2)]==_0x3e2e61(0x8d7)&&typeof _0x2423e7[_0x3e2e61(0x3da)]==_0x3e2e61(0x8d7)&&(_0x2e7f41[_0x2423e7[_0x3e2e61(0x7b2)]]=_0x2423e7['value']);return _0x2e7f41;}async[a0_0x53f180(0x39e)](_0x2ba2c3){const _0x9b81ff=a0_0x53f180;if(!this[_0x9b81ff(0x335)]?.[_0x9b81ff(0x72d)][_0x9b81ff(0x531)]||_0x2ba2c3[_0x9b81ff(0x315)]!==_0x9b81ff(0x488)&&_0x2ba2c3['waitingMenu_id']==='')return null;let _0x553bb4=_0x2ba2c3[_0x9b81ff(0x8a6)]['lastBlockId']||_0x9b81ff(0x5d7);typeof _0x2ba2c3[_0x9b81ff(0x8a6)][_0x9b81ff(0x4a2)]>'u'&&(_0x2ba2c3[_0x9b81ff(0x8a6)][_0x9b81ff(0x4a2)]=!0x0);let _0x2c4f1f=_0x2ba2c3[_0x9b81ff(0x8a6)]['lastCondition'];this[_0x9b81ff(0x341)][_0x9b81ff(0x242)](this[_0x9b81ff(0x699)]+'\x20('+this[_0x9b81ff(0x764)]['wuid']+'):\x20lastBlockId:\x20'+_0x553bb4+_0x9b81ff(0x23e)+_0x2c4f1f);let _0x1ed96c=_0x553bb4==='start'?_0x2ba2c3['blocks'][_0x9b81ff(0x479)](_0x2e5b7d=>_0x2e5b7d[_0x9b81ff(0x6b8)]===_0x9b81ff(0x5d7)):_0x2ba2c3[_0x9b81ff(0x680)][_0x9b81ff(0x479)](_0x62dd14=>_0x62dd14[_0x9b81ff(0x452)][_0x9b81ff(0x76d)]()===_0x553bb4[_0x9b81ff(0x76d)]());if(!_0x1ed96c)return this[_0x9b81ff(0x341)][_0x9b81ff(0x1f6)](this[_0x9b81ff(0x699)]+'\x20('+this['instance']['wuid']+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x553bb4),null;let _0xf1fe72={'_pushName':_0x2ba2c3?.[_0x9b81ff(0x8a6)]?.[_0x9b81ff(0x871)]?.['pushName']||'','_sender':this['instance'][_0x9b81ff(0x265)]||'',..._0x2ba2c3[_0x9b81ff(0x8a6)][_0x9b81ff(0x4ee)]},_0x31152f=null;if(_0x2ba2c3[_0x9b81ff(0x50b)]){let _0xc69d8b=_0x2ba2c3[_0x9b81ff(0x8a6)][_0x9b81ff(0x871)]['vote'],_0x295e43=_0x2ba2c3[_0x9b81ff(0x85c)][_0x9b81ff(0x479)](_0x1c38a4=>_0x1c38a4[_0x9b81ff(0x5a2)]===_0xc69d8b);if(_0x295e43){let _0x3da6bc=_0x295e43[_0x9b81ff(0x7ec)];if(_0x31152f=_0x2ba2c3[_0x9b81ff(0x680)]['find'](_0x6dfa6c=>_0x6dfa6c[_0x9b81ff(0x55b)]===_0x3da6bc&&_0x6dfa6c[_0x9b81ff(0x7b0)]===0x1),_0x1ed96c[_0x9b81ff(0x217)][_0x9b81ff(0x81e)]){let _0xcf367e={'id':_0x2ba2c3[_0x9b81ff(0x50b)],'remoteJid':_0x2ba2c3[_0x9b81ff(0x87e)],'fromMe':!0x0};await this[_0x9b81ff(0x7a8)](_0xcf367e);}if(_0x1ed96c[_0x9b81ff(0x217)][_0x9b81ff(0x81e)]&&_0x1ed96c['uazapi']['pollMessageOnDelete']&&_0x1ed96c[_0x9b81ff(0x217)][_0x9b81ff(0x691)]===_0x9b81ff(0x722)){let _0x56126c={'number':_0x2ba2c3[_0x9b81ff(0x87e)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x2ba2c3[_0x9b81ff(0x523)]+_0x9b81ff(0x85f)+_0xc69d8b}};await this[_0x9b81ff(0x6a3)](_0x56126c);}_0x2ba2c3['status']='open',_0x2ba2c3[_0x9b81ff(0x50b)]='',_0x2ba2c3[_0x9b81ff(0x523)]='',_0x2ba2c3[_0x9b81ff(0x85c)]=[];}else{this[_0x9b81ff(0x341)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x9b81ff(0x24f));let _0x160beb={'activatedCount':_0x2ba2c3[_0x9b81ff(0x8a6)][_0x9b81ff(0x209)][_0x9b81ff(0x353)](_0x498313=>String(_0x498313[_0x9b81ff(0x256)])===String(_0x553bb4))[_0x9b81ff(0x27a)],'moreLogs':[_0x9b81ff(0x535)]};if(_0x1ed96c[_0x9b81ff(0x217)][_0x9b81ff(0x8e1)]){let _0x4bb572={'number':_0x2ba2c3[_0x9b81ff(0x87e)],'options':{'delay':0x0},'textMessage':{'text':_0x1ed96c['uazapi'][_0x9b81ff(0x8e1)]}};await this[_0x9b81ff(0x6a3)](_0x4bb572);}if(_0x1ed96c[_0x9b81ff(0x6f1)]!==void 0x0&&_0x160beb['activatedCount']>=_0x1ed96c[_0x9b81ff(0x6f1)]){let _0x2ecbe3=Date['now'](),_0x2ee5d7=_0x1ed96c[_0x9b81ff(0x48c)]??0xa;isNaN(_0x2ee5d7)&&(_0x2ee5d7=0xa);let _0x10de0a=_0x2ecbe3+_0x2ee5d7*0x3c*0x3e8;_0x160beb['newStoppedUntil']=_0x10de0a,_0x160beb['moreLogs'][_0x9b81ff(0x635)](_0x9b81ff(0x5e1)),this[_0x9b81ff(0x85d)](_0x2ba2c3,_0x10de0a),_0x2ba2c3['waitingMenu_id']='',_0x2ba2c3[_0x9b81ff(0x523)]='',_0x2ba2c3[_0x9b81ff(0x85c)]=[];}return this[_0x9b81ff(0x54b)](_0x2ba2c3,_0x1ed96c,_0x160beb,!0x0),null;}}if(_0x2c4f1f&&_0x1ed96c[_0x9b81ff(0x7ec)]&&!_0x2ba2c3['waitingMenu_id']){let _0x5cf48b=_0x2ba2c3['blocks'][_0x9b81ff(0x353)](_0x4d9efa=>_0x4d9efa['groupId']['toString']()===_0x1ed96c[_0x9b81ff(0x7ec)][_0x9b81ff(0x76d)]())['sort']((_0x5eac2c,_0x459ba7)=>_0x5eac2c[_0x9b81ff(0x7b0)]-_0x459ba7[_0x9b81ff(0x7b0)]);_0x5cf48b[_0x9b81ff(0x27a)]>0x0&&(_0x31152f=_0x5cf48b[0x0]);}if(!_0x31152f){let _0x377d61=_0x1ed96c[_0x9b81ff(0x55b)],_0x3467d9=_0x2ba2c3['blocks']['filter'](_0x377eb1=>_0x377eb1[_0x9b81ff(0x55b)]===_0x377d61&&_0x377eb1['order']>_0x1ed96c[_0x9b81ff(0x7b0)])[_0x9b81ff(0x5f0)]((_0x17ef69,_0x5ea7a3)=>_0x17ef69[_0x9b81ff(0x7b0)]-_0x5ea7a3[_0x9b81ff(0x7b0)]);_0x3467d9[_0x9b81ff(0x27a)]>0x0&&(_0x31152f=_0x3467d9[0x0]);}if(!_0x31152f)return _0x2ba2c3['status']='closed',null;_0x2ba2c3[_0x9b81ff(0x8a6)][_0x9b81ff(0x4ee)]=_0xf1fe72;let _0x23ca5a=JSON[_0x9b81ff(0x67c)](JSON['stringify'](_0x31152f));return this[_0x9b81ff(0x38e)](_0x23ca5a,_0x2ba2c3[_0x9b81ff(0x8a6)][_0x9b81ff(0x4ee)]),_0x2ba2c3['chatLog']['lastBlockId']=_0x23ca5a['_id'],_0x2ba2c3['chatLog'][_0x9b81ff(0x4a2)]=!0x0,_0x23ca5a;}[a0_0x53f180(0x287)](_0x57a52a,_0x1f0fe0){const _0x556589=a0_0x53f180;return _0x57a52a[_0x556589(0x1ef)](/\{\{([^}]+)\}\}/g,(_0x477d4b,_0x3fa2ac)=>_0x1f0fe0[_0x3fa2ac]||'');}['replaceVariablesInObject'](_0x1fb607,_0x4a4e83){const _0x506146=a0_0x53f180;for(let _0x35d097 in _0x1fb607)typeof _0x1fb607[_0x35d097]==_0x506146(0x8d7)?_0x1fb607[_0x35d097]=this['replaceVariables'](_0x1fb607[_0x35d097],_0x4a4e83):typeof _0x1fb607[_0x35d097]==_0x506146(0x204)&&this[_0x506146(0x38e)](_0x1fb607[_0x35d097],_0x4a4e83);}async[a0_0x53f180(0x843)](_0x5527f3,_0x47d1ac){const _0x43eed5=a0_0x53f180;let _0x514fcc=_0x47d1ac['_id'];if(_0x5527f3[_0x43eed5(0x8a6)]&&_0x5527f3[_0x43eed5(0x8a6)][_0x43eed5(0x209)]){let _0x44481c=_0x5527f3[_0x43eed5(0x8a6)][_0x43eed5(0x209)][_0x43eed5(0x353)](_0x3ccab9=>String(_0x3ccab9[_0x43eed5(0x256)])===String(_0x514fcc))[_0x43eed5(0x1c5)]();if(_0x44481c&&_0x44481c[_0x43eed5(0x1f6)]&&_0x47d1ac[_0x43eed5(0x87d)])return _0x5527f3[_0x43eed5(0x315)]=_0x43eed5(0x634),await this[_0x43eed5(0x5fe)](_0x5527f3),null;}if(_0x47d1ac[_0x43eed5(0x6b8)]===_0x43eed5(0x217)&&_0x47d1ac[_0x43eed5(0x217)][_0x43eed5(0x5a6)]===_0x43eed5(0x303)&&_0x5527f3['waitingMenu_id'])return _0x5527f3['chatLog'][_0x43eed5(0x68e)]=_0x514fcc,await this[_0x43eed5(0x5fe)](_0x5527f3),null;let _0x42667f=await this[_0x43eed5(0x39e)](_0x5527f3);if(_0x5527f3[_0x43eed5(0x8a6)]&&_0x5527f3[_0x43eed5(0x8a6)][_0x43eed5(0x209)]){let _0x3f911e=_0x5527f3[_0x43eed5(0x8a6)][_0x43eed5(0x209)][_0x43eed5(0x353)](_0x32d9a4=>String(_0x32d9a4[_0x43eed5(0x256)])===String(_0x514fcc))['length'];if(_0x47d1ac['maxActives']!==void 0x0&&_0x3f911e>=_0x47d1ac[_0x43eed5(0x6f1)]){let _0x4991e5=Date[_0x43eed5(0x6bb)](),_0x35dd4e=_0x47d1ac[_0x43eed5(0x48c)]??0xa;isNaN(_0x35dd4e)&&(_0x35dd4e=0xa);let _0x49ceca=_0x4991e5+_0x35dd4e*0x3c*0x3e8,_0x272a78={'newStoppedUntil':_0x49ceca};return this['updateStopChat'](_0x5527f3,_0x49ceca),this['updateConversation'](_0x5527f3,_0x47d1ac,_0x272a78,!0x0),null;}}_0x42667f&&_0x42667f[_0x43eed5(0x6b8)]!==_0x43eed5(0x2fb)&&await this[_0x43eed5(0x3fe)](_0x5527f3,_0x42667f),_0x42667f||await this[_0x43eed5(0x5fe)](_0x5527f3),_0x42667f&&_0x42667f['type']===_0x43eed5(0x2fb)&&(_0x5527f3[_0x43eed5(0x8a6)][_0x43eed5(0x68e)]=_0x514fcc,await this[_0x43eed5(0x5fe)](_0x5527f3));}async[a0_0x53f180(0x3fe)](_0x3f5b64,_0x2079ea){const _0x3cd6bb=a0_0x53f180;try{let _0x487d9e=_0x2079ea[_0x3cd6bb(0x6b8)];this[_0x3cd6bb(0x341)]['verbose'](this[_0x3cd6bb(0x699)]+'\x20('+this['instance']['wuid']+_0x3cd6bb(0x585)+_0x487d9e);let _0x4d16a8={'uazapi':()=>this['processUazapi'](_0x3f5b64,_0x2079ea),'save':()=>this[_0x3cd6bb(0x1d4)](_0x3f5b64,_0x2079ea),'stop':()=>this[_0x3cd6bb(0x709)](_0x3f5b64,_0x2079ea),'condition':()=>this[_0x3cd6bb(0x215)](_0x3f5b64,_0x2079ea),'varedit':()=>this['processvaredits'](_0x3f5b64,_0x2079ea),'apirequest':()=>this[_0x3cd6bb(0x23b)](_0x3f5b64,_0x2079ea),'goToFlow':()=>this[_0x3cd6bb(0x7dc)](_0x3f5b64,_0x2079ea),'scheduleFlow':()=>this[_0x3cd6bb(0x7d5)](_0x3f5b64,_0x2079ea),'awaitSeconds':()=>this[_0x3cd6bb(0x505)](_0x3f5b64,_0x2079ea),'clearVariables':()=>this['processclearVariables'](_0x3f5b64,_0x2079ea)}[_0x487d9e];_0x4d16a8&&await _0x4d16a8();}catch(_0x5f1b04){this['logger']['error'](this[_0x3cd6bb(0x699)]+'\x20('+this[_0x3cd6bb(0x764)][_0x3cd6bb(0x265)]+_0x3cd6bb(0x4f5)+(_0x5f1b04 instanceof Error?_0x5f1b04[_0x3cd6bb(0x82d)]:JSON['stringify'](_0x5f1b04,null,0x2)));}}async['processawaitSeconds'](_0x13115d,_0x37764f){const _0x537386=a0_0x53f180;if(this['logger'][_0x537386(0x242)](this['instanceName']+'\x20('+this[_0x537386(0x764)]['wuid']+_0x537386(0x828)),!_0x13115d||!_0x37764f)return this[_0x537386(0x341)][_0x537386(0x1f6)](this[_0x537386(0x699)]+'\x20('+this['instance'][_0x537386(0x265)]+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x1f46d4=+_0x37764f[_0x537386(0x51d)];isNaN(_0x1f46d4)&&(_0x1f46d4=0x0),_0x1f46d4=Math[_0x537386(0x6b3)](_0x1f46d4,0x3c),await(0x0,w['delay'])(_0x1f46d4*0x3e8);let _0x1ed943={'moreLogs':[_0x537386(0x354)+_0x1f46d4+'\x20segundos']};return await this[_0x537386(0x54b)](_0x13115d,_0x37764f,_0x1ed943),_0x1f46d4;}async[a0_0x53f180(0x815)](_0x35e060,_0xbc08dc){const _0x4c1e1c=a0_0x53f180;if(this['logger'][_0x4c1e1c(0x242)](this[_0x4c1e1c(0x699)]+'\x20('+this['instance'][_0x4c1e1c(0x265)]+_0x4c1e1c(0x2ae)),!_0x35e060||!_0xbc08dc)return this[_0x4c1e1c(0x341)]['error'](this[_0x4c1e1c(0x699)]+'\x20('+this[_0x4c1e1c(0x764)]['wuid']+_0x4c1e1c(0x808)),null;let _0x28d283=[];if(_0xbc08dc[_0x4c1e1c(0x5be)][_0x4c1e1c(0x2af)]()===_0x4c1e1c(0x724)){let _0x8e984c=[_0x4c1e1c(0x2d7),_0x4c1e1c(0x379),_0x4c1e1c(0x786),'_activedCount',_0x4c1e1c(0x62b),_0x4c1e1c(0x452),_0x4c1e1c(0x33b)];_0x28d283=Object[_0x4c1e1c(0x6f3)](_0x35e060['chatLog'][_0x4c1e1c(0x4ee)])[_0x4c1e1c(0x353)](_0x354201=>_0x354201[_0x4c1e1c(0x7ee)]('_')&&!_0x8e984c[_0x4c1e1c(0x87c)](_0x354201));}else _0x28d283=_0xbc08dc[_0x4c1e1c(0x5be)][_0x4c1e1c(0x6ca)]('|')[_0x4c1e1c(0x5bd)](_0x3a0f4e=>(_0x3a0f4e=_0x3a0f4e[_0x4c1e1c(0x1ef)](/[{}]/g,'')['trim'](),_0x3a0f4e[_0x4c1e1c(0x7ee)]('_')?_0x3a0f4e:'_'+_0x3a0f4e));let _0x3912f0=[];_0x28d283['forEach'](_0x202cc6=>{const _0x3adc30=_0x4c1e1c;_0x202cc6 in _0x35e060[_0x3adc30(0x8a6)]['realVariables']&&(delete _0x35e060['chatLog'][_0x3adc30(0x4ee)][_0x202cc6],_0x3912f0['push'](_0x202cc6));}),_0x3912f0[_0x4c1e1c(0x27a)]>0x0?this[_0x4c1e1c(0x341)][_0x4c1e1c(0x242)](this['instanceName']+'\x20('+this['instance'][_0x4c1e1c(0x265)]+_0x4c1e1c(0x34f)+_0x3912f0['join'](',\x20')):this['logger']['verbose'](this[_0x4c1e1c(0x699)]+'\x20('+this[_0x4c1e1c(0x764)][_0x4c1e1c(0x265)]+_0x4c1e1c(0x35e));let _0x16ee4c={'moreLogs':[_0x4c1e1c(0x398)+_0x3912f0[_0x4c1e1c(0x260)](',\x20')]};return await this[_0x4c1e1c(0x54b)](_0x35e060,_0xbc08dc,_0x16ee4c),null;}async[a0_0x53f180(0x7d5)](_0x372dc8,_0x297589){const _0x1d63d4=a0_0x53f180;if(this[_0x1d63d4(0x341)][_0x1d63d4(0x242)](this[_0x1d63d4(0x699)]+'\x20('+this[_0x1d63d4(0x764)]['wuid']+_0x1d63d4(0x813)),!_0x372dc8||!_0x297589)return this[_0x1d63d4(0x341)][_0x1d63d4(0x1f6)](this[_0x1d63d4(0x699)]+'\x20('+this[_0x1d63d4(0x764)][_0x1d63d4(0x265)]+_0x1d63d4(0x808)),null;let _0x3ccb73=_0x372dc8['remoteJid'];_0x297589[_0x1d63d4(0x685)][_0x1d63d4(0x87e)]&&_0x297589[_0x1d63d4(0x685)][_0x1d63d4(0x87e)]['trim']()!==''&&(_0x3ccb73=_0x297589[_0x1d63d4(0x217)][_0x1d63d4(0x87e)]['trim']());let _0x449523=_0x297589['scheduleFlow']['timeInMinutes']*0xea60,_0xdab501=Date['now']()+_0x449523,_0x5e70d4={'status':_0x1d63d4(0x4d2),'info':_0x1d63d4(0x39b)+_0x372dc8[_0x1d63d4(0x7b2)],'remoteJids':[_0x3ccb73],'when':_0xdab501,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x1d63d4(0x72a),'flowName':_0x297589['scheduleFlow']['flowName']};this[_0x1d63d4(0x2bf)](_0x5e70d4);let _0x482f4b=await this[_0x1d63d4(0x39e)](_0x372dc8);_0x482f4b&&await this[_0x1d63d4(0x3fe)](_0x372dc8,_0x482f4b);}async['processgoToFlow'](_0x37760d,_0x198253){const _0x5eaafb=a0_0x53f180;if(this[_0x5eaafb(0x341)]['verbose'](this['instanceName']+'\x20('+this[_0x5eaafb(0x764)][_0x5eaafb(0x265)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x37760d||!_0x198253)return this[_0x5eaafb(0x341)][_0x5eaafb(0x1f6)](this[_0x5eaafb(0x699)]+'\x20('+this[_0x5eaafb(0x764)][_0x5eaafb(0x265)]+_0x5eaafb(0x808)),null;await this[_0x5eaafb(0x54b)](_0x37760d,_0x198253,{},!0x0,!0x0);let _0x15aa49=_0x198253[_0x5eaafb(0x1ac)];_0x37760d=await this[_0x5eaafb(0x2d4)](_0x15aa49,_0x37760d[_0x5eaafb(0x87e)],_0x37760d[_0x5eaafb(0x8a6)][_0x5eaafb(0x4ee)]);let _0x2f9e0c=await this[_0x5eaafb(0x39e)](_0x37760d);_0x2f9e0c&&await this[_0x5eaafb(0x3fe)](_0x37760d,_0x2f9e0c);}async[a0_0x53f180(0x2d4)](_0x4397d5,_0x29f6a4,_0x5810c0){const _0x126ea1=a0_0x53f180;this[_0x126ea1(0x341)][_0x126ea1(0x242)](this['instanceName']+'\x20('+this[_0x126ea1(0x764)][_0x126ea1(0x265)]+_0x126ea1(0x753));try{let _0x2816f8=this[_0x126ea1(0x335)]['flows'][_0x126ea1(0x479)](_0x18fc92=>_0x18fc92[_0x126ea1(0x452)]===_0x4397d5);_0x2816f8||this[_0x126ea1(0x341)]['error'](this[_0x126ea1(0x699)]+'\x20('+this[_0x126ea1(0x764)][_0x126ea1(0x265)]+_0x126ea1(0x60d)+_0x4397d5+_0x126ea1(0x292));let _0x154bc9=await this['repository'][_0x126ea1(0x72a)]['findOne']({'where':{'_id':_0x2816f8[_0x126ea1(0x452)]}});if(!_0x154bc9||!_0x154bc9['whoCanUse']?.[_0x126ea1(0x87c)](this[_0x126ea1(0x764)]['wuid']))throw this[_0x126ea1(0x341)]['error'](this[_0x126ea1(0x699)]+'\x20('+this['instance'][_0x126ea1(0x265)]+_0x126ea1(0x60d)+_0x4397d5+_0x126ea1(0x7b3)),new m(_0x126ea1(0x337)+_0x4397d5+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x2dc596=require(_0x126ea1(0x59c))['ObjectId'],_0x5471b3=Date['now'](),_0x4ff9bc=_0x126ea1(0x5d7),_0x59251c={},_0x48349c={},_0x294386=this[_0x126ea1(0x335)][_0x126ea1(0x777)][_0x126ea1(0x479)](_0x5cf56b=>_0x5cf56b[_0x126ea1(0x452)]===_0x154bc9['_id']?.[_0x126ea1(0x76d)]()),_0x34e2f6=_0x294386?.['minutesToClose']??_0x154bc9['minutesToClose']??0x0,_0x3e795c=_0x294386?.[_0x126ea1(0x6ed)]??_0x154bc9[_0x126ea1(0x6ed)]??!0x1,_0x1f8d47={'flowId':_0x2816f8[_0x126ea1(0x452)],'readMessages':_0x2816f8[_0x126ea1(0x6ed)],..._0x154bc9,'chatLog':null},_0x56d93f={'lastReceivedMessage':_0x59251c,'lastSendMessage':_0x48349c,'lastBlockId':_0x4ff9bc,'lastCondition':!0x0,'realVariables':_0x5810c0};_0x1f8d47[_0x126ea1(0x8a6)]=_0x56d93f,_0x1f8d47[_0x126ea1(0x8a6)][_0x126ea1(0x4ee)]={..._0x5810c0},delete _0x1f8d47['_id'],_0x1f8d47[_0x126ea1(0x452)]=new _0x2dc596(),_0x1f8d47['lastInteraction']=_0x5471b3,_0x1f8d47[_0x126ea1(0x315)]=_0x126ea1(0x488),_0x1f8d47[_0x126ea1(0x87e)]=_0x29f6a4,_0x1f8d47[_0x126ea1(0x23d)]=_0x34e2f6,_0x1f8d47[_0x126ea1(0x6ed)]=_0x3e795c;let _0x2ac58e=await this[_0x126ea1(0x1cb)][_0x126ea1(0x1d3)][_0x126ea1(0x5ea)](_0x1f8d47[_0x126ea1(0x452)],_0x1f8d47,this[_0x126ea1(0x764)][_0x126ea1(0x265)]);return this[_0x126ea1(0x341)]['verbose'](this[_0x126ea1(0x699)]+'\x20('+this[_0x126ea1(0x764)][_0x126ea1(0x265)]+_0x126ea1(0x1ea)),_0x2ac58e?_0x1f8d47:null;}catch(_0x292524){let _0x743aa7=_0x126ea1(0x7d9),_0x2ca479=_0x292524 instanceof Error?_0x292524[_0x126ea1(0x82d)]:typeof _0x292524==_0x126ea1(0x204)?JSON['stringify'](_0x292524):_0x292524,_0x4f7ada=_0x743aa7+':\x20'+_0x2ca479;throw this[_0x126ea1(0x341)][_0x126ea1(0x1f6)](this[_0x126ea1(0x699)]+'\x20('+this['instance'][_0x126ea1(0x265)]+'):\x20'+_0x4f7ada),new m(_0x4f7ada);}}async[a0_0x53f180(0x23b)](_0x10885b,_0x3c1467){const _0x432a6b=a0_0x53f180;let _0x3a4c61,_0x17f5b1;try{let _0x2daef3=_0x3c1467[_0x432a6b(0x855)];if(!_0x2daef3||!_0x2daef3[_0x432a6b(0x486)]||!_0x2daef3[_0x432a6b(0x3af)])throw new Error(_0x432a6b(0x611));let _0x68b45c;([_0x432a6b(0x6ee),'https://api.openai.com/v1/images/generations','https://api.elevenlabs.io/v1/text-to-speech/']['some'](_0x19750f=>_0x2daef3[_0x432a6b(0x486)][_0x432a6b(0x87c)](_0x19750f))||_0x2daef3[_0x432a6b(0x745)])&&(_0x68b45c=_0x432a6b(0x5e9));let _0x396e80='\u205f',_0x4be907;try{_0x4be907=JSON['parse'](_0x2daef3['bodyString'][_0x432a6b(0x1ef)](new RegExp(_0x396e80,'g'),''));}catch(_0x465d70){throw _0x465d70;}let _0x5a1b33={'method':_0x2daef3['method'],'url':_0x2daef3[_0x432a6b(0x486)],'headers':_0x2daef3['header']||{},..._0x2daef3[_0x432a6b(0x3af)][_0x432a6b(0x802)]()!==_0x432a6b(0x63b)&&_0x2daef3[_0x432a6b(0x239)]?{'data':JSON[_0x432a6b(0x67c)](_0x2daef3[_0x432a6b(0x239)][_0x432a6b(0x1ef)](new RegExp(_0x396e80,'g'),''))}:{},..._0x68b45c&&{'responseType':_0x68b45c}},_0x198d4f=await(0x0,te[_0x432a6b(0x391)])(_0x5a1b33),_0xd37d46=_0x198d4f[_0x432a6b(0x87b)][_0x432a6b(0x382)];if(_0xd37d46&&_0xd37d46[_0x432a6b(0x87c)](_0x432a6b(0x700))||typeof _0x198d4f['data']=='string'){if(typeof _0x198d4f['data']==_0x432a6b(0x8d7)){let _0x3ab28f=_0x198d4f[_0x432a6b(0x2ea)][_0x432a6b(0x1ef)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x432a6b(0x2af)]();try{_0x3a4c61=JSON['parse'](_0x3ab28f);}catch(_0x1c26dd){this[_0x432a6b(0x341)][_0x432a6b(0x1f6)](_0x432a6b(0x4a6)+_0x1c26dd[_0x432a6b(0x82d)]),_0x3a4c61={'_apiResponse':_0x198d4f[_0x432a6b(0x2ea)]};}}else _0x3a4c61=_0x198d4f[_0x432a6b(0x2ea)];let _0x44227a=_0x10885b['chatLog'][_0x432a6b(0x4ee)],_0x5dd380=this[_0x432a6b(0x47c)](_0x3a4c61);return Object[_0x432a6b(0x8bc)](_0x44227a,_0x5dd380),_0x10885b[_0x432a6b(0x8a6)][_0x432a6b(0x4ee)]=_0x44227a,_0x17f5b1={'error':!0x1,'apiResponse':_0x3a4c61},this['updateConversation'](_0x10885b,_0x3c1467,_0x17f5b1),_0x3a4c61;}if(_0xd37d46&&(_0xd37d46[_0x432a6b(0x87c)](_0x432a6b(0x6fa))||_0xd37d46['includes'](_0x432a6b(0x32b))||_0xd37d46['includes'](_0x432a6b(0x517))||_0xd37d46['includes']('video'))){this['logger'][_0x432a6b(0x242)](this[_0x432a6b(0x699)]+'\x20('+this['instance'][_0x432a6b(0x265)]+_0x432a6b(0x36f)+_0xd37d46);let _0x56e69d=(0x0,X['v4'])(),_0x2aaef8='',_0x4eeda0={'image/jpeg':'.jpg','image/png':_0x432a6b(0x5b6),'image/gif':_0x432a6b(0x311),'image/webp':_0x432a6b(0x24a),'image/svg+xml':_0x432a6b(0x619),'audio/mpeg':_0x432a6b(0x58f),'audio/ogg':_0x432a6b(0x4a1),'audio/wav':_0x432a6b(0x825),'video/mp4':_0x432a6b(0x368),'video/webm':_0x432a6b(0x63e),'video/ogg':_0x432a6b(0x5b4),'text/plain':_0x432a6b(0x258),'application/pdf':_0x432a6b(0x8d9),'application/msword':_0x432a6b(0x796),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x432a6b(0x792),'application/vnd.ms-excel':_0x432a6b(0x559),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x432a6b(0x4ad),'application/vnd.ms-powerpoint':_0x432a6b(0x8b6),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x432a6b(0x75d)};_0x4eeda0[_0xd37d46]?(_0x2aaef8=_0x4eeda0[_0xd37d46],this['logger'][_0x432a6b(0x242)](this['instanceName']+'\x20('+this['instance'][_0x432a6b(0x265)]+_0x432a6b(0x793)+_0x2aaef8)):(_0x2aaef8='.error',this['logger'][_0x432a6b(0x242)](this[_0x432a6b(0x699)]+'\x20('+this['instance'][_0x432a6b(0x265)]+_0x432a6b(0x563)+_0x2aaef8)),_0x56e69d+=_0x2aaef8,this[_0x432a6b(0x341)][_0x432a6b(0x242)](this[_0x432a6b(0x699)]+'\x20('+this[_0x432a6b(0x764)]['wuid']+_0x432a6b(0x328)+_0x56e69d);let _0x1a4652=this[_0x432a6b(0x6f4)][_0x432a6b(0x6c4)]('SERVER')[_0x432a6b(0x8be)];if(!_0x1a4652){let _0x549aaa=this[_0x432a6b(0x6f4)][_0x432a6b(0x6c4)](_0x432a6b(0x8d3));_0x1a4652=_0x432a6b(0x57c)+(_0x549aaa&&_0x549aaa[_0x432a6b(0x456)]['split']('/')[0x4]);}let _0x2b2d39=Buffer[_0x432a6b(0x457)](_0x198d4f[_0x432a6b(0x2ea)]);await this[_0x432a6b(0x484)](_0x2b2d39,_0x56e69d);let _0x13dd85=_0x432a6b(0x676)+_0x56e69d;_0x13dd85=''+_0x1a4652+_0x13dd85,_0x3a4c61={'fileUrl':_0x13dd85},_0x10885b[_0x432a6b(0x8a6)][_0x432a6b(0x4ee)][_0x432a6b(0x6db)]=_0x13dd85;let _0x13d0fe=_0x10885b[_0x432a6b(0x8a6)][_0x432a6b(0x4ee)],_0x2db90b=this[_0x432a6b(0x47c)](_0x3a4c61);return Object[_0x432a6b(0x8bc)](_0x13d0fe,_0x2db90b),_0x10885b['chatLog'][_0x432a6b(0x4ee)]=_0x13d0fe,_0x17f5b1={'error':!0x1,'apiResponse':{'fileUrl':_0x13dd85}},this[_0x432a6b(0x54b)](_0x10885b,_0x3c1467,_0x17f5b1),_0x3a4c61;}}catch(_0x486550){this['logger'][_0x432a6b(0x1f6)](_0x432a6b(0x2e8)+_0x486550[_0x432a6b(0x82d)]),_0x486550[_0x432a6b(0x2ac)]&&(_0x3a4c61=_0x486550[_0x432a6b(0x2ac)][_0x432a6b(0x2ea)]);let _0x4380eb=_0x10885b[_0x432a6b(0x8a6)]['realVariables'],_0x54ec9c=this[_0x432a6b(0x47c)](_0x3a4c61);return Object[_0x432a6b(0x8bc)](_0x4380eb,_0x54ec9c),_0x10885b[_0x432a6b(0x8a6)]['realVariables']=_0x4380eb,_0x17f5b1={'error':!0x0,'errorLog':_0x486550[_0x432a6b(0x76d)](),'apiResponse':_0x3a4c61},this[_0x432a6b(0x54b)](_0x10885b,_0x3c1467,_0x17f5b1),{'success':!0x1};}}[a0_0x53f180(0x39f)](_0xd799c9,_0x233f54){const _0x2a9de9=a0_0x53f180;let _0x1c6531=_0x336287=>{const _0xa82731=a0_0x150f;let _0x49a033=_0x336287[_0xa82731(0x1ef)](/[^0-9.,-]/g,'')[_0xa82731(0x1ef)](',','.'),_0x414890=parseFloat(_0x49a033);return isNaN(_0x414890)?null:_0x414890;},_0x77c74c=_0x233f54[_0x2a9de9(0x5b3)],_0x5794c2=_0x233f54[_0x2a9de9(0x4b8)];typeof _0x77c74c==_0x2a9de9(0x8d7)&&(_0x77c74c=this[_0x2a9de9(0x287)](_0x77c74c,_0xd799c9[_0x2a9de9(0x8a6)][_0x2a9de9(0x4ee)])??''),typeof _0x5794c2==_0x2a9de9(0x8d7)&&(_0x5794c2=this[_0x2a9de9(0x287)](_0x5794c2,_0xd799c9[_0x2a9de9(0x8a6)][_0x2a9de9(0x4ee)])??'');let _0xf12784=null;if(!_0x233f54[_0x2a9de9(0x413)])return null;switch(this[_0x2a9de9(0x341)][_0x2a9de9(0x242)](this['instanceName']+'\x20('+this[_0x2a9de9(0x764)][_0x2a9de9(0x265)]+_0x2a9de9(0x5ca)+_0x77c74c),this[_0x2a9de9(0x341)][_0x2a9de9(0x242)](this[_0x2a9de9(0x699)]+'\x20('+this[_0x2a9de9(0x764)]['wuid']+_0x2a9de9(0x4bf)+_0x5794c2),_0x233f54['editOperator']){case'+':case'-':case'*':case'/':let _0xe24885=_0x1c6531(_0x77c74c||'0'),_0x3732b9=_0x1c6531(_0x5794c2||'0');if(_0xe24885===null)return null;switch(_0x233f54[_0x2a9de9(0x413)]){case'+':_0xf12784=_0xe24885+(_0x3732b9??0x0);break;case'-':_0xf12784=_0xe24885-(_0x3732b9??0x0);break;case'*':_0xf12784=_0xe24885*(_0x3732b9??0x1);break;case'/':_0x3732b9!==0x0&&(_0xf12784=_0xe24885/(_0x3732b9??0x1));break;}break;case'findAndReplace':case'findAndReplaceRegex':let _0x2c1029=_0x5794c2,_0x8d6765=_0x233f54['replaceValue'];if(typeof _0x8d6765==_0x2a9de9(0x8d7)&&(_0x8d6765=this['replaceVariables'](_0x8d6765,_0xd799c9['chatLog'][_0x2a9de9(0x4ee)])??''),_0x2c1029&&_0x8d6765!==void 0x0){let _0x5a8739=_0x233f54['editOperator']===_0x2a9de9(0x648)?new RegExp(_0x2c1029[_0x2a9de9(0x1ef)](/[-\/\\^$*+?.()|[\]{}]/g,_0x2a9de9(0x8ae)),'g'):new RegExp(_0x2c1029,'g');_0xf12784=_0x77c74c['replace'](_0x5a8739,_0x8d6765);}else console[_0x2a9de9(0x848)](_0x2a9de9(0x6a6));break;case _0x2a9de9(0x8f1):_0xf12784=_0x5794c2;break;case _0x2a9de9(0x1c0):let _0x122d2e=_0x77c74c[_0x2a9de9(0x3d5)](new RegExp(_0x5794c2||''));_0xf12784=_0x122d2e?_0x122d2e[0x0]:'';break;case _0x2a9de9(0x33d):_0xf12784=_0x77c74c['slice'](0x0,parseInt(_0x5794c2||'0'));break;case _0x2a9de9(0x359):let _0x26b2ac=parseInt(_0x5794c2||'0');_0xf12784=_0x77c74c[_0x2a9de9(0x412)](_0x77c74c['length']-_0x26b2ac);break;case _0x2a9de9(0x235):let _0x22c2ff=_0x1c6531(_0x77c74c),_0x44a618=parseInt(_0x5794c2||'0');_0x44a618=Math[_0x2a9de9(0x20f)](_0x44a618),_0x22c2ff!==null?_0xf12784=_0x22c2ff[_0x2a9de9(0x6c1)](_0x2a9de9(0x351),{'minimumFractionDigits':_0x44a618,'maximumFractionDigits':_0x44a618}):(console[_0x2a9de9(0x848)](_0x2a9de9(0x5db)+_0x77c74c),_0xf12784=null);break;case _0x2a9de9(0x453):let _0x306364=_0x1c6531(_0x77c74c);_0x306364!==null?_0xf12784=_0x306364['toLocaleString'](_0x2a9de9(0x351),{'style':'currency','currency':_0x2a9de9(0x52c)}):(console[_0x2a9de9(0x848)]('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0x77c74c),_0xf12784=null);break;case _0x2a9de9(0x64d):_0xf12784=_0x77c74c[_0x2a9de9(0x802)]();break;case'lowerCase':_0xf12784=_0x77c74c['toLowerCase']();break;case _0x2a9de9(0x1fb):_0xf12784=_0x77c74c[_0x2a9de9(0x6ca)]('\x20')['map'](_0x44092d=>_0x44092d['charAt'](0x0)['toUpperCase']()+_0x44092d[_0x2a9de9(0x412)](0x1)[_0x2a9de9(0x83c)]())[_0x2a9de9(0x260)]('\x20');break;case _0x2a9de9(0x544):_0xf12784=JSON['stringify'](_0x77c74c);break;case'trimmed':_0xf12784=_0x77c74c[_0x2a9de9(0x2af)]();break;default:_0xf12784=_0x77c74c;}return _0xf12784!==null?_0xf12784[_0x2a9de9(0x76d)]():null;}async[a0_0x53f180(0x6e1)](_0x4d30f8,_0x144112){const _0x19d89e=a0_0x53f180;try{let _0x1731d6=_0x4d30f8[_0x19d89e(0x3b1)]?.[_0x19d89e(0x353)](_0x5e0e3a=>_0x5e0e3a['blockId']===_0x144112['_id']?.[_0x19d89e(0x76d)]())||[],_0x458e79=_0x144112[_0x19d89e(0x70b)],_0x1572ac=null,_0x57f0f6=[],_0x3279bb=_0x4d30f8[_0x19d89e(0x8a6)][_0x19d89e(0x4ee)][_0x458e79];_0x57f0f6[_0x19d89e(0x635)](_0x19d89e(0x78e)+_0x3279bb+'\x22');for(let _0x26d33d of _0x1731d6){_0x26d33d['firstValue']=_0x3279bb,_0x1572ac=_0x26d33d[_0x19d89e(0x5b3)];let _0x4820ef;try{_0x4820ef=this[_0x19d89e(0x39f)](_0x4d30f8,_0x26d33d);}catch(_0x1a256d){this['logger'][_0x19d89e(0x1f6)](_0x19d89e(0x2e4)+_0x1a256d[_0x19d89e(0x82d)]);continue;}if(_0x4820ef!==null){let _0x14ddc4=_0x19d89e(0x4ed)+_0x26d33d[_0x19d89e(0x413)]+'\x22',_0x496459=['toBRL',_0x19d89e(0x64d),_0x19d89e(0x672),'capitalizedWords',_0x19d89e(0x577)];_0x26d33d[_0x19d89e(0x413)]==='findAndReplace'||_0x26d33d[_0x19d89e(0x413)]==='findAndReplaceRegex'?_0x14ddc4+=_0x19d89e(0x566)+_0x26d33d[_0x19d89e(0x4b8)]+_0x19d89e(0x6a7)+_0x26d33d[_0x19d89e(0x4f8)]+'\x22':!_0x496459[_0x19d89e(0x87c)](_0x26d33d[_0x19d89e(0x413)])&&_0x26d33d[_0x19d89e(0x4b8)]!==null&&_0x26d33d[_0x19d89e(0x4b8)]!==void 0x0&&(_0x14ddc4+=_0x19d89e(0x8d2)+_0x26d33d['secondValue']+'\x22'),_0x14ddc4+=_0x19d89e(0x863)+_0x4820ef+'.',_0x57f0f6['push'](_0x14ddc4);}_0x4820ef!==null&&(_0x3279bb=_0x4820ef);}if(_0x4d30f8[_0x19d89e(0x8a6)][_0x19d89e(0x4ee)]&&_0x144112[_0x19d89e(0x70b)]){_0x4d30f8[_0x19d89e(0x8a6)][_0x19d89e(0x4ee)][_0x144112[_0x19d89e(0x70b)]]=_0x3279bb;let _0x237a98={'variable':_0x144112[_0x19d89e(0x70b)],'oldValue':_0x1572ac,'newValue':_0x3279bb,'moreLogs':_0x57f0f6};try{this[_0x19d89e(0x54b)](_0x4d30f8,_0x144112,_0x237a98);}catch(_0x44d6c2){this[_0x19d89e(0x341)][_0x19d89e(0x1f6)](_0x19d89e(0x216)+_0x44d6c2[_0x19d89e(0x82d)]);}}return _0x458e79;}catch(_0x284d0c){return this[_0x19d89e(0x341)]['error'](_0x19d89e(0x426)+_0x284d0c[_0x19d89e(0x82d)]),null;}}async[a0_0x53f180(0x215)](_0x5114b3,_0x1fdf70){const _0xc75cee=a0_0x53f180;try{let _0x3140a8=[],_0x1ba196=_0x5114b3['conditions']['filter'](_0x5636a7=>_0x5636a7[_0xc75cee(0x256)]===_0x1fdf70['_id'][_0xc75cee(0x76d)]()),_0xc518ca=null,_0x346915=!0x1;for(let _0x3ec212 of _0x1ba196){let _0x5b5417=this[_0xc75cee(0x5b2)](_0x5114b3,_0x3ec212);_0x3140a8['push']('Primeiro\x20Valor:\x20'+_0x3ec212[_0xc75cee(0x5b3)]+_0xc75cee(0x1ae)+_0x3ec212[_0xc75cee(0x30d)]+',\x20Segundo\x20Valor:\x20'+_0x3ec212[_0xc75cee(0x4b8)]+',\x20Resultado:\x20'+_0x5b5417),_0xc518ca===null?_0xc518ca=_0x5b5417:_0x3ec212['OrAnd']==='and'?(_0xc518ca=_0xc518ca&&_0x5b5417,_0x5b5417||(_0x346915=!0x0)):_0x3ec212[_0xc75cee(0x895)]==='or'&&(_0x346915||(_0xc518ca=_0xc518ca||_0x5b5417));}_0xc518ca===null&&(_0xc518ca=!0x0);let _0x3d9e7a={'moreLogs':_0x3140a8};_0x5114b3[_0xc75cee(0x8a6)]['lastCondition']=_0xc518ca,await this[_0xc75cee(0x54b)](_0x5114b3,_0x1fdf70,_0x3d9e7a);}catch(_0x21605d){this[_0xc75cee(0x341)][_0xc75cee(0x1f6)](this[_0xc75cee(0x699)]+'\x20('+this[_0xc75cee(0x764)]['wuid']+'):\x20Error\x20processing\x20conditions:\x20'+(_0x21605d instanceof Error?_0x21605d['message']:JSON[_0xc75cee(0x54f)](_0x21605d,null,0x2)));}}[a0_0x53f180(0x5b2)](_0xc3554d,_0x5bace8){const _0x28bb74=a0_0x53f180;let _0xef2846=_0x5bace8[_0x28bb74(0x5b3)],_0x290fbb=_0x5bace8[_0x28bb74(0x4b8)];typeof _0xef2846=='string'&&(_0xef2846=this[_0x28bb74(0x287)](_0xef2846,_0xc3554d[_0x28bb74(0x8a6)][_0x28bb74(0x4ee)])??''),typeof _0x290fbb==_0x28bb74(0x8d7)&&(_0x290fbb=this[_0x28bb74(0x287)](_0x290fbb,_0xc3554d[_0x28bb74(0x8a6)][_0x28bb74(0x4ee)])??'');try{switch(_0x5bace8[_0x28bb74(0x30d)]){case _0x28bb74(0x43e):return _0xef2846===_0x290fbb;case _0x28bb74(0x87f):return _0xef2846!==_0x290fbb;case _0x28bb74(0x8a0):return this[_0x28bb74(0x8a0)](_0xef2846,_0x290fbb);case _0x28bb74(0x330):return!this[_0x28bb74(0x8a0)](_0xef2846,_0x290fbb);case _0x28bb74(0x53d):return parseFloat(_0xef2846)>parseFloat(_0x290fbb);case _0x28bb74(0x7e4):return parseFloat(_0xef2846)<parseFloat(_0x290fbb);case _0x28bb74(0x80a):return _0xef2846!=='';case _0x28bb74(0x208):return _0xef2846==='';case _0x28bb74(0x81f):return new RegExp(_0x290fbb)[_0x28bb74(0x6dc)](_0xef2846);case'notMatchRegex':return!new RegExp(_0x290fbb)[_0x28bb74(0x6dc)](_0xef2846);default:return!0x1;}}catch(_0x178a70){return this[_0x28bb74(0x341)][_0x28bb74(0x1f6)](_0x28bb74(0x81b)+_0x178a70),!0x1;}}['contains'](_0x6e3cbc,_0x60aca5){const _0x5d09e4=a0_0x53f180;if(_0x6e3cbc===_0x60aca5&&/^\d+$/[_0x5d09e4(0x6dc)](_0x6e3cbc))return!0x0;if(this[_0x5d09e4(0x878)](_0x6e3cbc)&&/^\d+$/[_0x5d09e4(0x6dc)](_0x60aca5)){let _0x5544ea=_0x6e3cbc['split'](',')[_0x5d09e4(0x5bd)](_0x566e18=>parseInt(_0x566e18[_0x5d09e4(0x2af)]())),_0x1d6fd4=parseInt(_0x60aca5);return _0x5544ea[_0x5d09e4(0x87c)](_0x1d6fd4);}return _0x6e3cbc['includes'](_0x60aca5);}[a0_0x53f180(0x878)](_0x207875){const _0x32c85f=a0_0x53f180;return/^\d+(,\d+)*$/[_0x32c85f(0x6dc)](_0x207875);}[a0_0x53f180(0x56b)](_0x4ef7f6){const _0x143559=a0_0x53f180;let _0x1cdb96=!0x0,_0xb02723=null;for(let _0x8799a4 of _0x4ef7f6){let _0x4ce535=this[_0x143559(0x83f)](_0x8799a4);if(_0xb02723==='or'&&_0x4ce535){_0x1cdb96=!0x0;break;}if(_0xb02723===_0x143559(0x6ac)&&!_0x4ce535){_0x1cdb96=!0x1;break;}_0xb02723=_0x8799a4[_0x143559(0x895)];}return _0x1cdb96;}[a0_0x53f180(0x83f)](_0x2e6db3){const _0x30bb62=a0_0x53f180;let _0x2018a3=_0x2e6db3[_0x30bb62(0x5b3)],_0x42ee18=_0x2e6db3[_0x30bb62(0x4b8)];try{switch(_0x2e6db3[_0x30bb62(0x30d)]){case _0x30bb62(0x43e):return String(_0x2018a3)===String(_0x42ee18);case'notEqual':return String(_0x2018a3)!==String(_0x42ee18);case'contains':return String(_0x2018a3)[_0x30bb62(0x87c)](String(_0x42ee18));case'notContains':return!String(_0x2018a3)[_0x30bb62(0x87c)](String(_0x42ee18));case _0x30bb62(0x53d):return parseFloat(String(_0x2018a3))>parseFloat(String(_0x42ee18));case _0x30bb62(0x7e4):return parseFloat(String(_0x2018a3))<parseFloat(String(_0x42ee18));case _0x30bb62(0x80a):return String(_0x2018a3)!=='';case _0x30bb62(0x208):return String(_0x2018a3)==='';case _0x30bb62(0x81f):return new RegExp(String(_0x42ee18))[_0x30bb62(0x6dc)](String(_0x2018a3));case _0x30bb62(0x707):return!new RegExp(String(_0x42ee18))[_0x30bb62(0x6dc)](String(_0x2018a3));default:return!0x1;}}catch(_0x3f2435){return this[_0x30bb62(0x341)][_0x30bb62(0x1f6)](_0x30bb62(0x81b)+_0x3f2435),!0x1;}}async['saveTextReply'](_0x5f295b,_0x339452){const _0x37a601=a0_0x53f180;if(this[_0x37a601(0x341)][_0x37a601(0x242)](this[_0x37a601(0x699)]+'\x20('+this[_0x37a601(0x764)][_0x37a601(0x265)]+'):\x20Entrou\x20na\x20função\x20saveReply'),!_0x5f295b||!_0x339452)return this[_0x37a601(0x341)]['error'](this[_0x37a601(0x699)]+'\x20('+this['instance']['wuid']+_0x37a601(0x808)),null;let _0x2d7e06=_0x5f295b[_0x37a601(0x8a6)][_0x37a601(0x871)]['key']['id'];this['logger'][_0x37a601(0x242)](this['instanceName']+'\x20('+this[_0x37a601(0x764)][_0x37a601(0x265)]+_0x37a601(0x4bc)+_0x2d7e06);let _0x19a9ce={'key':{'id':_0x2d7e06}},_0x1dc1c9=_0x339452[_0x37a601(0x70b)];_0x5f295b[_0x37a601(0x8a6)][_0x37a601(0x4ee)]['_'+_0x1dc1c9+'.fileUrl']=null,_0x5f295b['chatLog'][_0x37a601(0x4ee)]['_'+_0x1dc1c9+_0x37a601(0x5ec)]=null,_0x5f295b[_0x37a601(0x8a6)]['realVariables']['_'+_0x1dc1c9+_0x37a601(0x5a7)]=null,_0x5f295b[_0x37a601(0x8a6)]['realVariables']['_'+_0x1dc1c9+_0x37a601(0x2bd)]=_0x5f295b[_0x37a601(0x8a6)][_0x37a601(0x871)][_0x37a601(0x6b8)];try{let _0x397a3d=await this[_0x37a601(0x3b9)](_0x19a9ce);this['logger'][_0x37a601(0x242)](this[_0x37a601(0x699)]+'\x20('+this[_0x37a601(0x764)]['wuid']+_0x37a601(0x71f)),_0x5f295b[_0x37a601(0x8a6)]['realVariables']['_'+_0x1dc1c9+_0x37a601(0x70c)]=_0x397a3d[_0x37a601(0x6db)],_0x5f295b['chatLog'][_0x37a601(0x4ee)]['_'+_0x1dc1c9+_0x37a601(0x5ec)]=_0x397a3d[_0x37a601(0x2aa)];let _0x561bc5=_0x397a3d[_0x37a601(0x2aa)]['match'](/\/(\w+)$/),_0x191930=_0x561bc5?_0x561bc5[0x1]:null;_0x5f295b[_0x37a601(0x8a6)][_0x37a601(0x4ee)]['_'+_0x1dc1c9+'.extension']=_0x191930,this[_0x37a601(0x341)][_0x37a601(0x242)](this[_0x37a601(0x699)]+'\x20('+this['instance'][_0x37a601(0x265)]+_0x37a601(0x2e3)+_0x1dc1c9+'\x27.');}catch(_0x56c50c){this[_0x37a601(0x341)]['error'](this[_0x37a601(0x699)]+'\x20('+this[_0x37a601(0x764)][_0x37a601(0x265)]+'):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20'+_0x56c50c['message']);}let _0x45c0e9=_0x5f295b[_0x37a601(0x8a6)][_0x37a601(0x871)][_0x37a601(0x746)]||_0x5f295b[_0x37a601(0x8a6)][_0x37a601(0x871)][_0x37a601(0x62d)]||_0x5f295b[_0x37a601(0x8a6)][_0x37a601(0x871)]['vote'];try{_0x5f295b[_0x37a601(0x8a6)][_0x37a601(0x4ee)]||(_0x5f295b[_0x37a601(0x8a6)][_0x37a601(0x4ee)]={});let _0x42b497=_0x5f295b[_0x37a601(0x8a6)]['realVariables'][_0x1dc1c9];_0x5f295b[_0x37a601(0x8a6)][_0x37a601(0x4ee)][_0x1dc1c9]=_0x45c0e9;let _0x573f09={'variable':_0x1dc1c9,'oldValue':_0x42b497,'newValue':_0x45c0e9};this[_0x37a601(0x54b)](_0x5f295b,_0x339452,_0x573f09),this[_0x37a601(0x341)][_0x37a601(0x242)](this['instanceName']+'\x20('+this[_0x37a601(0x764)][_0x37a601(0x265)]+_0x37a601(0x2b4));}catch(_0x38eec2){let _0x4a62c5={'error':!0x0,'errorLog':_0x38eec2[_0x37a601(0x76d)]()};return this[_0x37a601(0x54b)](_0x5f295b,_0x339452,_0x4a62c5),this[_0x37a601(0x341)][_0x37a601(0x1f6)](this[_0x37a601(0x699)]+'\x20('+this[_0x37a601(0x764)]['wuid']+_0x37a601(0x20b)+(_0x38eec2 instanceof Error?_0x38eec2[_0x37a601(0x82d)]:JSON[_0x37a601(0x54f)](_0x38eec2,null,0x2))),null;}}async[a0_0x53f180(0x709)](_0x352b15,_0x3f531d){const _0x2601da=a0_0x53f180;if(this[_0x2601da(0x341)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x2601da(0x265)]+_0x2601da(0x614)),!_0x352b15||!_0x3f531d)return this[_0x2601da(0x341)][_0x2601da(0x1f6)](this['instanceName']+'\x20('+this['instance'][_0x2601da(0x265)]+_0x2601da(0x808)),null;let _0x745a2a=Date[_0x2601da(0x6bb)](),_0x6ce44d=parseInt(_0x3f531d['stopMinutes'],0xa);if(isNaN(_0x6ce44d))return this[_0x2601da(0x341)][_0x2601da(0x1f6)](this['instanceName']+'\x20('+this[_0x2601da(0x764)][_0x2601da(0x265)]+_0x2601da(0x38c)),null;let _0x8e76e8={'newStoppedUntil':_0x745a2a+_0x6ce44d*0x3c*0x3e8};return await this['updateConversation'](_0x352b15,_0x3f531d,_0x8e76e8,!0x0),null;}async[a0_0x53f180(0x221)](_0x1b9fd4,_0x378b59){const _0x3cb822=a0_0x53f180;try{switch(_0x378b59[_0x3cb822(0x217)][_0x3cb822(0x5a6)]){case _0x3cb822(0x2f8):await this[_0x3cb822(0x1d2)](_0x1b9fd4,_0x378b59);break;case'sendMedia':await this[_0x3cb822(0x57d)](_0x1b9fd4,_0x378b59);break;case _0x3cb822(0x68c):await this['uazapiSendLocation'](_0x1b9fd4,_0x378b59);break;case _0x3cb822(0x1ca):await this[_0x3cb822(0x81a)](_0x1b9fd4,_0x378b59);break;case _0x3cb822(0x679):await this[_0x3cb822(0x748)](_0x1b9fd4,_0x378b59);break;case _0x3cb822(0x303):await this[_0x3cb822(0x59a)](_0x1b9fd4,_0x378b59);break;case _0x3cb822(0x62a):await this[_0x3cb822(0x59a)](_0x1b9fd4,_0x378b59);break;case'deleteMessage':await this[_0x3cb822(0x461)](_0x1b9fd4,_0x378b59);break;default:this[_0x3cb822(0x341)][_0x3cb822(0x1f6)](this[_0x3cb822(0x699)]+'\x20('+this[_0x3cb822(0x764)][_0x3cb822(0x265)]+_0x3cb822(0x34c)+_0x378b59[_0x3cb822(0x217)][_0x3cb822(0x5a6)]);}}catch(_0x14fe38){this[_0x3cb822(0x341)][_0x3cb822(0x1f6)](this[_0x3cb822(0x699)]+'\x20('+this['instance']['wuid']+_0x3cb822(0x61f)+(_0x14fe38 instanceof Error?_0x14fe38[_0x3cb822(0x82d)]:JSON[_0x3cb822(0x54f)](_0x14fe38,null,0x2)));}}async['updateConversation'](_0x565ceb,_0x2cc173,_0x1c421a,_0x2e1f2d=!0x1,_0x49aba2=!0x1){const _0x10c5e2=a0_0x53f180;_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x209)]||(_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x209)]=[]);let _0x58923f=(_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x209)]?.['length']??0x0)+0x1,_0x1960d0=_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x209)][_0x10c5e2(0x353)](_0x31f992=>String(_0x31f992[_0x10c5e2(0x256)])===String(_0x2cc173[_0x10c5e2(0x452)]))['length']+0x1,_0x53a84f=_0x1c421a?.[_0x10c5e2(0x226)]??Date[_0x10c5e2(0x6bb)](),_0x1c4e75=_0x1c421a?.[_0x10c5e2(0x1f6)]?_0x1c421a[_0x10c5e2(0x800)]??_0x1c421a['error'][_0x10c5e2(0x76d)]():void 0x0,_0x563e61={'onTime':_0x53a84f,'blockId':_0x2cc173[_0x10c5e2(0x452)],'order':_0x58923f,'activatedCount':_0x1960d0,'error':_0x1c421a?.['error']??!0x1,'messageId':_0x1c421a?.[_0x10c5e2(0x6ce)],'apiResponse':_0x1c421a?.[_0x10c5e2(0x244)],'apiResponseString':_0x1c421a?.[_0x10c5e2(0x244)]?JSON[_0x10c5e2(0x54f)](_0x1c421a?.[_0x10c5e2(0x244)]):void 0x0,'variable':_0x1c421a?.[_0x10c5e2(0x2f6)],'oldValue':_0x1c421a?.[_0x10c5e2(0x557)],'newValue':_0x1c421a?.[_0x10c5e2(0x3c7)],'newStoppedUntil':_0x1c421a?.['newStoppedUntil'],'moreLogs':_0x1c421a?.[_0x10c5e2(0x69e)],'errorLog':_0x1c4e75};if(_0x1c421a['moreLogs']&&_0x1c421a[_0x10c5e2(0x69e)][_0x10c5e2(0x27a)]>0x0){let _0x2e06e8=_0x1c421a[_0x10c5e2(0x69e)]['map'](_0x43efd6=>this[_0x10c5e2(0x6bf)](_0x43efd6,_0x565ceb[_0x10c5e2(0x8a6)]['realVariables']));_0x563e61[_0x10c5e2(0x69e)]=_0x2e06e8;}if(_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x4ee)]||(_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x4ee)]={}),_0x565ceb['chatLog']['realVariables']['_activatedCount']=String(_0x1960d0),_0x565ceb['chatLog'][_0x10c5e2(0x4ee)][_0x10c5e2(0x786)]=String(_0x1c421a[_0x10c5e2(0x1f6)]??!0x1),_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x209)][_0x10c5e2(0x635)](_0x563e61),_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x4ee)][_0x10c5e2(0x8df)]&&_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x4ee)][_0x10c5e2(0x8df)]!==_0x565ceb[_0x10c5e2(0x87e)]){let _0x5357f8=(await this['whatsappNumber']({'numbers':[_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x4ee)]['telefone']]}))[0x0][_0x10c5e2(0x5c7)];_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x4ee)][_0x10c5e2(0x8df)]=_0x5357f8,_0x565ceb[_0x10c5e2(0x87e)]=_0x5357f8;try{let _0x12a595={'_id':{'$ne':_0x565ceb[_0x10c5e2(0x452)]},'remoteJid':_0x5357f8,'status':_0x10c5e2(0x488)},_0x1089ba={'status':_0x10c5e2(0x634)};await this[_0x10c5e2(0x1cb)][_0x10c5e2(0x1d3)]['updateMany'](_0x12a595,_0x1089ba,this[_0x10c5e2(0x764)][_0x10c5e2(0x265)]),this[_0x10c5e2(0x341)][_0x10c5e2(0x242)](this[_0x10c5e2(0x699)]+'\x20('+this[_0x10c5e2(0x764)][_0x10c5e2(0x265)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.');}catch(_0x48b73e){this[_0x10c5e2(0x341)][_0x10c5e2(0x1f6)](this['instanceName']+'\x20('+this[_0x10c5e2(0x764)]['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x48b73e[_0x10c5e2(0x82d)]);}try{let _0x2b053a=_0x565ceb[_0x10c5e2(0x8a6)]['realVariables'],_0x7e3a57=await this[_0x10c5e2(0x600)](_0x5357f8),_0x5ccb46={..._0x2b053a,..._0x7e3a57,'_remoteJid':_0x5357f8};_0x565ceb[_0x10c5e2(0x8a6)]['realVariables']=_0x5ccb46;}catch(_0x550bf1){this[_0x10c5e2(0x341)]['error'](this[_0x10c5e2(0x699)]+'\x20('+this['instance']['wuid']+_0x10c5e2(0x656)+_0x550bf1[_0x10c5e2(0x82d)]);}}_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x68e)]=_0x2cc173['_id'][_0x10c5e2(0x76d)](),_0x565ceb['chatLog'][_0x10c5e2(0x1d8)]&&(_0x565ceb[_0x10c5e2(0x8a6)]['lastSendMessage']=_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x1d8)]),_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x871)]&&(_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x871)]=_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x871)]),_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x4a2)]&&(_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x4a2)]=_0x565ceb[_0x10c5e2(0x8a6)][_0x10c5e2(0x4a2)]),_0x49aba2&&(_0x565ceb[_0x10c5e2(0x315)]=_0x10c5e2(0x634)),_0x2e1f2d?this[_0x10c5e2(0x5fe)](_0x565ceb):this[_0x10c5e2(0x843)](_0x565ceb,_0x2cc173);}[a0_0x53f180(0x6bf)](_0x229356,_0x1a69b7){const _0x158667=a0_0x53f180;return _0x229356[_0x158667(0x1ef)](/\{\{([^}]+)\}\}/g,(_0x41c054,_0xc202e6)=>_0x1a69b7[_0xc202e6]?'{{'+_0xc202e6+'}}\x20->\x20\x22'+_0x1a69b7[_0xc202e6]+'\x22':'{{'+_0xc202e6+_0x158667(0x43a));}async[a0_0x53f180(0x5fe)](_0x237e51){const _0xc597b5=a0_0x53f180;try{let _0x8d22db=Object[_0xc597b5(0x615)](_0x237e51[_0xc597b5(0x8a6)]['realVariables'])['map'](([_0x5c5ab7,_0x14da73])=>({'name':_0x5c5ab7,'value':_0x14da73})),_0x4525e8={'status':_0x237e51['status'],'remoteJid':_0x237e51[_0xc597b5(0x87e)],'blocks':_0x237e51['blocks'],'waitingMenu_id':_0x237e51[_0xc597b5(0x50b)],'waitingMenu_text':_0x237e51[_0xc597b5(0x523)],'waitingMenu_replyOptions':_0x237e51[_0xc597b5(0x85c)],'chatLog':{'lastBlockId':_0x237e51[_0xc597b5(0x8a6)][_0xc597b5(0x68e)],'lastSendMessage':_0x237e51[_0xc597b5(0x8a6)][_0xc597b5(0x1d8)],'lastReceivedMessage':_0x237e51['chatLog'][_0xc597b5(0x871)],'lastCondition':_0x237e51['chatLog'][_0xc597b5(0x4a2)],'chatVariables':_0x8d22db,'realVariables':_0x237e51[_0xc597b5(0x8a6)]['realVariables'],'blockLogs':_0x237e51[_0xc597b5(0x8a6)][_0xc597b5(0x209)]}},_0x3882a9=await this[_0xc597b5(0x1cb)]['flowConversation'][_0xc597b5(0x5ea)](_0x237e51[_0xc597b5(0x452)],_0x4525e8,this[_0xc597b5(0x764)][_0xc597b5(0x265)]);if(_0x3882a9){this[_0xc597b5(0x341)]['verbose'](this[_0xc597b5(0x699)]+'\x20('+this[_0xc597b5(0x764)][_0xc597b5(0x265)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x3882a9['_id']);try{let _0x266c04=[_0xc597b5(0x7ac),_0xc597b5(0x64e),_0xc597b5(0x2eb),_0xc597b5(0x1a5),_0xc597b5(0x315),_0xc597b5(0x31b),_0xc597b5(0x1a0),_0xc597b5(0x3d6),_0xc597b5(0x79f),'atendimentoAberto'];if(!this[_0xc597b5(0x335)]&&(await this[_0xc597b5(0x7b8)](),!this['AutomateSystem']))throw new Error(_0xc597b5(0x2cb));let _0xa1675e=this[_0xc597b5(0x335)]?.[_0xc597b5(0x736)][_0xc597b5(0x5bd)](_0x35b152=>_0x35b152[_0xc597b5(0x7b2)]),_0x34304a={};Object[_0xc597b5(0x615)](_0x237e51[_0xc597b5(0x8a6)][_0xc597b5(0x4ee)])[_0xc597b5(0x313)](([_0x23fdea,_0x28a5e2])=>{const _0x26d73b=_0xc597b5;_0x266c04[_0x26d73b(0x87c)](_0x23fdea)&&(_0x23fdea===_0x26d73b(0x3d6)&&typeof _0x28a5e2==_0x26d73b(0x8d7)?_0x34304a[_0x23fdea]=_0x28a5e2[_0x26d73b(0x6ca)](',')[_0x26d73b(0x5bd)](_0xb1b7c0=>_0xb1b7c0[_0x26d73b(0x2af)]())[_0x26d73b(0x353)](_0x2750c6=>_0x2750c6!==''):_0x23fdea===_0x26d73b(0x79f)&&typeof _0x28a5e2=='string'?_0x34304a[_0x23fdea]=_0x28a5e2[_0x26d73b(0x6ca)](',')[_0x26d73b(0x5bd)](_0x1a7aff=>_0x1a7aff['trim']())['filter'](_0xe65194=>_0xe65194!==''):_0x34304a[_0x23fdea]=_0x28a5e2);});let _0x44c171=_0x237e51[_0xc597b5(0x8a6)][_0xc597b5(0x209)][_0x237e51[_0xc597b5(0x8a6)]['blockLogs']['length']-0x1];if(_0x44c171){let _0xa86850=_0x44c171['newStoppedUntil'];_0xa86850!==void 0x0&&(_0x34304a[_0xc597b5(0x29a)]=_0xa86850[_0xc597b5(0x76d)]());}let _0x3eb69b=_0x8d22db['filter'](_0x36425b=>_0xa1675e[_0xc597b5(0x87c)](_0x36425b[_0xc597b5(0x7b2)]));this[_0xc597b5(0x341)][_0xc597b5(0x242)](this[_0xc597b5(0x699)]+'\x20('+this[_0xc597b5(0x764)][_0xc597b5(0x265)]+'):\x20leadInfoVariables'),this[_0xc597b5(0x341)]['verbose'](_0x34304a),this[_0xc597b5(0x341)][_0xc597b5(0x242)](this[_0xc597b5(0x699)]+'\x20('+this[_0xc597b5(0x764)]['wuid']+'):\x20customFieldVariables'),this[_0xc597b5(0x341)]['verbose'](_0x3eb69b);let _0x5c1877=_0x3eb69b[_0xc597b5(0x5bd)](_0x3f2682=>{const _0x512bb4=_0xc597b5;let _0x458462=this[_0x512bb4(0x335)]?.[_0x512bb4(0x736)][_0x512bb4(0x479)](_0x52a920=>_0x52a920['name']===_0x3f2682[_0x512bb4(0x7b2)]);if(!_0x458462)throw new Error(_0x512bb4(0x493)+_0x3f2682[_0x512bb4(0x7b2)]);return{'_id':_0x458462[_0x512bb4(0x452)],'value':_0x3f2682[_0x512bb4(0x3da)]};});this[_0xc597b5(0x341)][_0xc597b5(0x242)](this['instanceName']+'\x20('+this[_0xc597b5(0x764)][_0xc597b5(0x265)]+_0xc597b5(0x44e)),this['logger'][_0xc597b5(0x242)](_0x5c1877),await this[_0xc597b5(0x31d)](_0x237e51[_0xc597b5(0x87e)],_0x34304a,_0x5c1877);}catch(_0x4f5470){this['logger'][_0xc597b5(0x1f6)](this[_0xc597b5(0x699)]+'\x20('+this[_0xc597b5(0x764)][_0xc597b5(0x265)]+_0xc597b5(0x4b0)+(_0x4f5470 instanceof Error?_0x4f5470['message']:JSON['stringify'](_0x4f5470,null,0x2)));}}else this[_0xc597b5(0x341)][_0xc597b5(0x1f6)](this[_0xc597b5(0x699)]+'\x20('+this['instance']['wuid']+_0xc597b5(0x3a4));}catch(_0x2c0f30){this[_0xc597b5(0x341)][_0xc597b5(0x1f6)](this[_0xc597b5(0x699)]+'\x20('+this['instance'][_0xc597b5(0x265)]+_0xc597b5(0x616)+(_0x2c0f30 instanceof Error?_0x2c0f30['message']:JSON[_0xc597b5(0x54f)](_0x2c0f30,null,0x2)));}}async[a0_0x53f180(0x31d)](_0x3e80e9,_0x226251,_0xf8829a){const _0x53b7bf=a0_0x53f180;try{let _0x33d889={'leadInfo.leadnome':_0x226251[_0x53b7bf(0x7ac)],'leadInfo.nomecompleto':_0x226251[_0x53b7bf(0x64e)],'leadInfo.email':_0x226251[_0x53b7bf(0x2eb)],'leadInfo.cpf':_0x226251[_0x53b7bf(0x1a5)],'leadInfo.status':_0x226251[_0x53b7bf(0x315)],'leadInfo.notas':_0x226251['notas'],'leadInfo.responsavelid':_0x226251['responsavelid'],'leadInfo.tags':_0x226251['tags'],'leadInfo.etiquetas':_0x226251[_0x53b7bf(0x79f)],'leadInfo.customFields':_0xf8829a,'leadInfo.atendimentoAberto':_0x226251[_0x53b7bf(0x7d7)]},_0xa2e53e=await this[_0x53b7bf(0x1cb)][_0x53b7bf(0x254)]['findOne']({'where':{'_id':_0x3e80e9}},this[_0x53b7bf(0x764)][_0x53b7bf(0x265)]);if(!_0xa2e53e)return _0x53b7bf(0x5b1);let _0x43c160=new Set(_0xa2e53e[_0x53b7bf(0x500)]['etiquetas']||[]),_0x237a4b=new Set(_0x226251['etiquetas']||[]),_0x331f56=await this[_0x53b7bf(0x1cb)][_0x53b7bf(0x451)][_0x53b7bf(0x479)]({'where':{}},this[_0x53b7bf(0x764)][_0x53b7bf(0x265)]),_0x1db7ef=new Set(_0x331f56['map'](_0x7a89c=>_0x7a89c[_0x53b7bf(0x452)])),_0x4a9994=[..._0x237a4b][_0x53b7bf(0x353)](_0xadb2e=>!_0x43c160[_0x53b7bf(0x898)](_0xadb2e)&&_0x1db7ef[_0x53b7bf(0x898)](_0xadb2e)),_0x880329=[..._0x43c160][_0x53b7bf(0x353)](_0x4ba823=>!_0x237a4b['has'](_0x4ba823));for(let _0x17e308 of _0x4a9994)await this[_0x53b7bf(0x574)](_0x17e308,_0xa2e53e['_id']),_0x43c160[_0x53b7bf(0x1b9)](_0x17e308);for(let _0x2254b3 of _0x880329)await this[_0x53b7bf(0x31c)](_0x2254b3,_0xa2e53e[_0x53b7bf(0x452)]),_0x43c160[_0x53b7bf(0x2c1)](_0x2254b3);if(_0x53b7bf(0x29a)in _0x226251){let _0x18b390=_0x226251[_0x53b7bf(0x29a)];_0x33d889[_0x53b7bf(0x675)]=_0x18b390?Number(_0x18b390):null;}if(_0x53b7bf(0x7d7)in _0x226251){let _0x33ce18=_0x226251[_0x53b7bf(0x7d7)][_0x53b7bf(0x83c)]();_0x33d889['leadInfo.atendimentoAberto']=_0x33ce18===_0x53b7bf(0x7b6)||_0x33ce18==='1'||_0x33ce18==='yes'||_0x33ce18===_0x53b7bf(0x249);}let _0x1a35f6=await this[_0x53b7bf(0x1cb)][_0x53b7bf(0x254)][_0x53b7bf(0x5ea)]({'where':{'_id':_0x3e80e9}},_0x33d889,this[_0x53b7bf(0x764)][_0x53b7bf(0x265)]);_0x1a35f6?(this[_0x53b7bf(0x341)][_0x53b7bf(0x242)](this[_0x53b7bf(0x699)]+'\x20('+this[_0x53b7bf(0x764)]['wuid']+_0x53b7bf(0x1d7)+_0x1a35f6[_0x53b7bf(0x452)]),q(this[_0x53b7bf(0x699)],_0x53b7bf(0x1a9),{'chat':_0x1a35f6})):this[_0x53b7bf(0x341)][_0x53b7bf(0x1f6)](this[_0x53b7bf(0x699)]+'\x20('+this[_0x53b7bf(0x764)][_0x53b7bf(0x265)]+_0x53b7bf(0x794));}catch(_0x359f87){this[_0x53b7bf(0x341)][_0x53b7bf(0x1f6)](this[_0x53b7bf(0x699)]+'\x20('+this[_0x53b7bf(0x764)]['wuid']+_0x53b7bf(0x416)+(_0x359f87 instanceof Error?_0x359f87[_0x53b7bf(0x82d)]:JSON[_0x53b7bf(0x54f)](_0x359f87,null,0x2)));}}async['updateStopChat'](_0x24b580,_0x489836){const _0x125c44=a0_0x53f180;this['logger'][_0x125c44(0x242)](this[_0x125c44(0x699)]+'\x20('+this[_0x125c44(0x764)]['wuid']+'):\x20atualização\x20chat:\x20'+_0x489836);try{let _0x1dd81c=await this[_0x125c44(0x1cb)]['chat']['updateOne']({'where':{'_id':_0x24b580[_0x125c44(0x87e)]}},{'leadInfo.desativadoFluxoAte':_0x489836},this['instance'][_0x125c44(0x265)]);this[_0x125c44(0x341)]['verbose'](this[_0x125c44(0x699)]+'\x20('+this['instance'][_0x125c44(0x265)]+_0x125c44(0x2fa)+_0x24b580['_id']),this[_0x125c44(0x341)][_0x125c44(0x242)](this[_0x125c44(0x699)]+'\x20('+this[_0x125c44(0x764)][_0x125c44(0x265)]+_0x125c44(0x733)+JSON[_0x125c44(0x54f)](_0x1dd81c,null,0x2)),_0x1dd81c&&q(this[_0x125c44(0x699)],_0x125c44(0x1a9),{'chat':_0x1dd81c});}catch(_0x1e371a){this[_0x125c44(0x341)]['error'](this[_0x125c44(0x699)]+'\x20('+this['instance'][_0x125c44(0x265)]+_0x125c44(0x5bb)+(_0x1e371a instanceof Error?_0x1e371a[_0x125c44(0x82d)]:JSON['stringify'](_0x1e371a,null,0x2)));}}async[a0_0x53f180(0x1f8)](_0x13b3da){const _0x4edefc=a0_0x53f180;try{this['logger'][_0x4edefc(0x242)](this[_0x4edefc(0x699)]+'\x20('+this[_0x4edefc(0x764)][_0x4edefc(0x265)]+'):\x20Buscando\x20flow...');let _0x1a2b29=_0x13b3da[_0x4edefc(0x1ef)](/\D/g,''),_0x164e4=this['AutomateSystem'][_0x4edefc(0x777)][_0x4edefc(0x479)](_0xfa02c=>_0xfa02c[_0x4edefc(0x223)]===_0x1a2b29);if(_0x164e4||(this[_0x4edefc(0x341)]['verbose'](this[_0x4edefc(0x699)]+'\x20('+this[_0x4edefc(0x764)][_0x4edefc(0x265)]+_0x4edefc(0x6cd)),_0x164e4=this[_0x4edefc(0x335)]['flows']['find'](_0x667125=>_0x667125['default']===!0x0)),!_0x164e4)return this[_0x4edefc(0x341)][_0x4edefc(0x242)](this[_0x4edefc(0x699)]+'\x20('+this[_0x4edefc(0x764)]['wuid']+_0x4edefc(0x64f)),null;let _0x5069b7=await this[_0x4edefc(0x1cb)][_0x4edefc(0x72a)][_0x4edefc(0x741)]({'where':{'_id':_0x164e4[_0x4edefc(0x452)]}});if(!_0x5069b7||!_0x5069b7['whoCanUse']?.[_0x4edefc(0x87c)](this['instance'][_0x4edefc(0x265)]))throw this[_0x4edefc(0x341)][_0x4edefc(0x1f6)](this['instanceName']+'\x20('+this[_0x4edefc(0x764)][_0x4edefc(0x265)]+_0x4edefc(0x60d)+_0x5069b7[_0x4edefc(0x452)]+_0x4edefc(0x7b3)),new m(_0x4edefc(0x337)+_0x5069b7[_0x4edefc(0x452)]+_0x4edefc(0x7b3));return _0x5069b7;}catch(_0x1c601f){return this['logger']['error'](this[_0x4edefc(0x699)]+'\x20('+this[_0x4edefc(0x764)][_0x4edefc(0x265)]+_0x4edefc(0x3aa)+(_0x1c601f instanceof Error?_0x1c601f[_0x4edefc(0x82d)]:JSON['stringify'](_0x1c601f,null,0x2))),null;}}async[a0_0x53f180(0x3fd)](_0x370434,_0x1d005b){const _0x3417f4=a0_0x53f180;try{let _0x5560eb=!!_0x1d005b[_0x3417f4(0x1f1)],_0x345061=_0x1d005b[_0x3417f4(0x728)],_0x344f21=null;if(this['logger'][_0x3417f4(0x242)](this[_0x3417f4(0x699)]+'\x20('+this['instance'][_0x3417f4(0x265)]+_0x3417f4(0x282)+_0x5560eb+'\x20quoted:\x20'+_0x345061),_0x5560eb){this[_0x3417f4(0x341)][_0x3417f4(0x242)](this[_0x3417f4(0x699)]+'\x20('+this[_0x3417f4(0x764)][_0x3417f4(0x265)]+_0x3417f4(0x1c2));let _0x5077af={'where':{'remoteJid':_0x370434,'waitingMenu_id':_0x345061}};if(_0x344f21=await this[_0x3417f4(0x1cb)][_0x3417f4(0x1d3)][_0x3417f4(0x741)](_0x5077af,this[_0x3417f4(0x764)]['wuid']),!_0x344f21)return this[_0x3417f4(0x341)][_0x3417f4(0x242)](this[_0x3417f4(0x699)]+'\x20('+this[_0x3417f4(0x764)][_0x3417f4(0x265)]+'):\x20não\x20encontrou'),null;let _0x4b606c=Date[_0x3417f4(0x6bb)](),_0xbedea3=_0x344f21?.['minutesToClose']||0x0,_0x487b8a=_0x4b606c-_0xbedea3*0x3c*0x3e8;if(_0x344f21[_0x3417f4(0x66a)]<_0x487b8a){this[_0x3417f4(0x341)][_0x3417f4(0x242)](this[_0x3417f4(0x699)]+'\x20('+this[_0x3417f4(0x764)]['wuid']+_0x3417f4(0x44f));let _0x5b53f1={'number':_0x344f21[_0x3417f4(0x87e)],'options':{'delay':0x0},'textMessage':{'text':_0x344f21[_0x3417f4(0x759)]}};await this[_0x3417f4(0x6a3)](_0x5b53f1);let _0x46d87d={'status':_0x3417f4(0x634),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x3417f4(0x1cb)][_0x3417f4(0x1d3)][_0x3417f4(0x5ea)](_0x344f21[_0x3417f4(0x452)],_0x46d87d,this['instance'][_0x3417f4(0x265)]),null;}return _0x344f21[_0x3417f4(0x66a)]=Date[_0x3417f4(0x6bb)](),_0x344f21[_0x3417f4(0x8a6)][_0x3417f4(0x871)]=_0x1d005b,_0x344f21;}else{this[_0x3417f4(0x341)]['verbose'](this['instanceName']+'\x20('+this[_0x3417f4(0x764)][_0x3417f4(0x265)]+_0x3417f4(0x6ae)+this[_0x3417f4(0x764)][_0x3417f4(0x265)]+_0x3417f4(0x3a3)),this[_0x3417f4(0x341)][_0x3417f4(0x242)](this[_0x3417f4(0x699)]+'\x20('+this[_0x3417f4(0x764)][_0x3417f4(0x265)]+'):\x20Procurando\x20conversa');let _0x2a855d={'where':{'remoteJid':_0x370434,'status':_0x3417f4(0x488)}};if(_0x344f21=await this['repository'][_0x3417f4(0x1d3)][_0x3417f4(0x741)](_0x2a855d,this['instance']['wuid']),!_0x344f21){let _0xa8c839=await this['findFlow'](_0x370434);if(_0xa8c839&&(_0x344f21=await this['createNewConversation'](_0xa8c839,_0x1d005b[_0x3417f4(0x861)],_0x1d005b)),!_0x344f21)return null;}let _0x10c26d=Date[_0x3417f4(0x6bb)](),_0x1e9887=_0x344f21?.[_0x3417f4(0x23d)]||0x0,_0xc8c2e6=_0x10c26d-_0x1e9887*0x3c*0x3e8;if(this[_0x3417f4(0x341)][_0x3417f4(0x242)](this['instanceName']+'\x20('+this[_0x3417f4(0x764)][_0x3417f4(0x265)]+'):\x20Current\x20Time:\x20'+_0x10c26d+_0x3417f4(0x45f)+_0x1e9887+',\x20Expiration\x20Time:\x20'+_0xc8c2e6),this['logger'][_0x3417f4(0x242)](this[_0x3417f4(0x699)]+'\x20('+this[_0x3417f4(0x764)]['wuid']+'):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot'),this[_0x3417f4(0x341)]['verbose'](this[_0x3417f4(0x699)]+'\x20('+this[_0x3417f4(0x764)][_0x3417f4(0x265)]+_0x3417f4(0x1a6)+_0x344f21[_0x3417f4(0x66a)]),this[_0x3417f4(0x341)][_0x3417f4(0x242)](this['instanceName']+'\x20('+this[_0x3417f4(0x764)][_0x3417f4(0x265)]+_0x3417f4(0x231)+_0xc8c2e6),_0x344f21['lastInteraction']<_0xc8c2e6){this[_0x3417f4(0x341)]['verbose'](this['instanceName']+'\x20('+this[_0x3417f4(0x764)][_0x3417f4(0x265)]+_0x3417f4(0x46d));let _0x357d4f=await this[_0x3417f4(0x1f8)](_0x370434);if(_0x357d4f===null)return null;_0x344f21&&await this['repository']['flowConversation']['updateOne'](_0x344f21['_id'],{'status':'closed'},this['instance'][_0x3417f4(0x265)]),_0x344f21=await this[_0x3417f4(0x7b7)](_0x357d4f,_0x1d005b[_0x3417f4(0x861)],_0x1d005b);}return _0x344f21[_0x3417f4(0x66a)]=_0x10c26d,_0x344f21[_0x3417f4(0x8a6)][_0x3417f4(0x871)]=_0x1d005b,_0x344f21;}}catch(_0x3416c5){return this['logger']['error'](this[_0x3417f4(0x699)]+'\x20('+this['instance'][_0x3417f4(0x265)]+_0x3417f4(0x8b0)+(_0x3416c5 instanceof Error?_0x3416c5[_0x3417f4(0x82d)]:JSON[_0x3417f4(0x54f)](_0x3416c5,null,0x2))),null;}}async['createNewConversation'](_0x583b7f,_0x50f16d,_0x579356){const _0xaca60c=a0_0x53f180;this[_0xaca60c(0x341)][_0xaca60c(0x242)](this['instanceName']+'\x20('+this[_0xaca60c(0x764)][_0xaca60c(0x265)]+_0xaca60c(0x8cc));try{let _0x5acd11=require(_0xaca60c(0x59c))[_0xaca60c(0x4e5)],_0x17337f=Date[_0xaca60c(0x6bb)](),_0x4f0c99='start',_0x1e53c7=_0x50f16d[_0xaca60c(0x474)]?null:_0x579356,_0x4b3eb1=_0x50f16d[_0xaca60c(0x474)]?_0x579356:null,_0x4b7ac6=_0x50f16d[_0xaca60c(0x87e)],_0xb1855=this[_0xaca60c(0x335)][_0xaca60c(0x777)][_0xaca60c(0x479)](_0x3368ef=>_0x3368ef['_id']===_0x583b7f['_id']?.[_0xaca60c(0x76d)]()),_0x1b8bfe=_0xb1855?.[_0xaca60c(0x23d)]??_0x583b7f[_0xaca60c(0x23d)]??0x0,_0x17eac2=_0xb1855?.[_0xaca60c(0x6ed)]??_0x583b7f[_0xaca60c(0x6ed)]??!0x1;await this[_0xaca60c(0x761)](_0x4b7ac6);let _0x1920bc={'flowId':_0x583b7f[_0xaca60c(0x452)],..._0x583b7f,'chatLog':null},_0x5e6537=await this[_0xaca60c(0x5c9)](_0x1920bc[_0xaca60c(0x7e8)]),_0x2dbd0d=await this[_0xaca60c(0x600)](_0x4b7ac6),_0x429bec={..._0x5e6537,..._0x2dbd0d,'_remoteJid':_0x4b7ac6},_0x4c7fa5={'lastReceivedMessage':_0x1e53c7,'lastSendMessage':_0x4b3eb1,'lastBlockId':_0x4f0c99,'lastCondition':!0x0,'realVariables':_0x429bec};_0x1920bc[_0xaca60c(0x8a6)]=_0x4c7fa5,delete _0x1920bc[_0xaca60c(0x452)],_0x1920bc[_0xaca60c(0x452)]=new _0x5acd11(),_0x1920bc[_0xaca60c(0x66a)]=_0x17337f,_0x1920bc[_0xaca60c(0x315)]=_0xaca60c(0x488),_0x1920bc[_0xaca60c(0x87e)]=_0x4b7ac6,_0x1920bc[_0xaca60c(0x23d)]=_0x1b8bfe,_0x1920bc[_0xaca60c(0x6ed)]=_0x17eac2;let _0x58b01d=await this[_0xaca60c(0x1cb)]['flowConversation'][_0xaca60c(0x5ea)](_0x1920bc[_0xaca60c(0x452)],_0x1920bc,this[_0xaca60c(0x764)][_0xaca60c(0x265)]);return this[_0xaca60c(0x341)][_0xaca60c(0x242)](this[_0xaca60c(0x699)]+'\x20('+this[_0xaca60c(0x764)][_0xaca60c(0x265)]+_0xaca60c(0x1ea)),_0x58b01d?_0x1920bc:null;}catch(_0xe3f3cd){return this[_0xaca60c(0x341)][_0xaca60c(0x1f6)](this[_0xaca60c(0x699)]+'\x20('+this[_0xaca60c(0x764)][_0xaca60c(0x265)]+_0xaca60c(0x532)+(_0xe3f3cd instanceof Error?_0xe3f3cd['message']:JSON[_0xaca60c(0x54f)](_0xe3f3cd,null,0x2))),_0xe3f3cd;}}async['uazapiSendText'](_0x427f5c,_0xe35cb4){const _0x575caf=a0_0x53f180;let _0x146530=_0x427f5c[_0x575caf(0x87e)];_0xe35cb4[_0x575caf(0x217)]['remoteJid']&&_0xe35cb4[_0x575caf(0x217)][_0x575caf(0x87e)]['trim']()!==''&&(_0x146530=_0xe35cb4[_0x575caf(0x217)]['remoteJid']['trim']()),this[_0x575caf(0x341)][_0x575caf(0x242)](this[_0x575caf(0x699)]+'\x20('+this[_0x575caf(0x764)][_0x575caf(0x265)]+'):\x20Enviando\x20texto');let _0x34dfc0={'number':_0x146530,'options':{'delay':_0xe35cb4['uazapi'][_0x575caf(0x4aa)],'linkPreview':_0xe35cb4['uazapi'][_0x575caf(0x5eb)]},'textMessage':{'text':_0xe35cb4[_0x575caf(0x217)][_0x575caf(0x746)]}};try{let _0x3fb731=await this[_0x575caf(0x6a3)](_0x34dfc0);if(_0x3fb731){let _0x4484f5={'_id':_0x3fb731[_0x575caf(0x861)]['id'],'_fromMe':_0x3fb731[_0x575caf(0x861)]['fromMe'],'_remoteJid':_0x3fb731['key']['remoteJid']},_0x2c5cc7=(0x0,w[_0x575caf(0x842)])(_0x3fb731[_0x575caf(0x82d)]),_0xb4efee=(0x0,w[_0x575caf(0x556)])(_0x2c5cc7);_0x427f5c[_0x575caf(0x8a6)]['lastBlockId']=_0xe35cb4[_0x575caf(0x452)]['toString']();let {message_normalized:_0x117155}=this['normalizeMessage'](_0x2c5cc7,_0xb4efee,null);_0x427f5c['chatLog'][_0x575caf(0x1d8)]=await _0x117155;let _0x3feb7b={'messageId':_0x3fb731[_0x575caf(0x861)]['id']},_0x52d96f=_0x427f5c[_0x575caf(0x8a6)]['realVariables'];Object[_0x575caf(0x8bc)](_0x52d96f,_0x4484f5),_0x427f5c[_0x575caf(0x8a6)]['realVariables']=_0x52d96f,this['updateConversation'](_0x427f5c,_0xe35cb4,_0x3feb7b);}else{let _0x146fec={'error':!0x0};this[_0x575caf(0x54b)](_0x427f5c,_0xe35cb4,_0x146fec),this[_0x575caf(0x341)][_0x575caf(0x1f6)](this[_0x575caf(0x699)]+'\x20('+this[_0x575caf(0x764)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0xcbaa54){let _0x3c0435={'error':!0x0,'errorLog':_0xcbaa54[_0x575caf(0x76d)]()};this[_0x575caf(0x54b)](_0x427f5c,_0xe35cb4,_0x3c0435),this[_0x575caf(0x341)][_0x575caf(0x1f6)](this[_0x575caf(0x699)]+'\x20('+this[_0x575caf(0x764)][_0x575caf(0x265)]+_0x575caf(0x25e)+(_0xcbaa54 instanceof Error?_0xcbaa54[_0x575caf(0x82d)]:JSON[_0x575caf(0x54f)](_0xcbaa54,null,0x2)));}}async[a0_0x53f180(0x57d)](_0x422f8e,_0x3dc3e6){const _0x5022b4=a0_0x53f180;let _0xf3a2c1=_0x422f8e[_0x5022b4(0x87e)];_0x3dc3e6['uazapi'][_0x5022b4(0x87e)]&&_0x3dc3e6['uazapi'][_0x5022b4(0x87e)][_0x5022b4(0x2af)]()!==''&&(_0xf3a2c1=_0x3dc3e6['uazapi'][_0x5022b4(0x87e)][_0x5022b4(0x2af)]()),this[_0x5022b4(0x341)][_0x5022b4(0x242)](this[_0x5022b4(0x699)]+'\x20('+this['instance'][_0x5022b4(0x265)]+_0x5022b4(0x476));let _0x3e7c43={'number':_0xf3a2c1,'options':{'delay':_0x3dc3e6[_0x5022b4(0x217)][_0x5022b4(0x4aa)],'linkPreview':_0x3dc3e6['uazapi']['linkPreview']},'mediaMessage':{'mediatype':_0x3dc3e6['uazapi'][_0x5022b4(0x469)],'caption':_0x3dc3e6['uazapi'][_0x5022b4(0x62d)],'media':_0x3dc3e6[_0x5022b4(0x217)]['media'],'fileName':_0x3dc3e6['uazapi'][_0x5022b4(0x323)]}};try{let _0x239ae1=await this[_0x5022b4(0x5bf)](_0x3e7c43);if(_0x239ae1){let _0x535544={'_id':_0x239ae1['key']['id'],'_fromMe':_0x239ae1[_0x5022b4(0x861)][_0x5022b4(0x474)],'_remoteJid':_0x239ae1[_0x5022b4(0x861)]['remoteJid']},_0x58c6a8=(0x0,w[_0x5022b4(0x842)])(_0x239ae1[_0x5022b4(0x82d)]),_0x10cec2=(0x0,w[_0x5022b4(0x556)])(_0x58c6a8);_0x422f8e['chatLog']['lastBlockId']=_0x3dc3e6[_0x5022b4(0x452)]['toString']();let {message_normalized:_0x23e10b}=this[_0x5022b4(0x399)](_0x58c6a8,_0x10cec2,null);_0x422f8e[_0x5022b4(0x8a6)]['lastSendMessage']=await _0x23e10b;let _0x3241a4={'messageId':_0x239ae1[_0x5022b4(0x861)]['id']},_0x4db2f5=_0x422f8e[_0x5022b4(0x8a6)]['realVariables'];Object[_0x5022b4(0x8bc)](_0x4db2f5,_0x535544),_0x422f8e[_0x5022b4(0x8a6)]['realVariables']=_0x4db2f5,this['updateConversation'](_0x422f8e,_0x3dc3e6,_0x3241a4);}else{let _0x4cdf2d={'error':!0x0};this[_0x5022b4(0x54b)](_0x422f8e,_0x3dc3e6,_0x4cdf2d),this[_0x5022b4(0x341)]['error'](this['instanceName']+'\x20('+this[_0x5022b4(0x764)]['wuid']+_0x5022b4(0x586));}}catch(_0xded828){let _0x5adcc7={'error':!0x0,'errorLog':_0xded828[_0x5022b4(0x76d)]()};this[_0x5022b4(0x54b)](_0x422f8e,_0x3dc3e6,_0x5adcc7),this['logger'][_0x5022b4(0x1f6)](this[_0x5022b4(0x699)]+'\x20('+this[_0x5022b4(0x764)][_0x5022b4(0x265)]+_0x5022b4(0x715)+(_0xded828 instanceof Error?_0xded828[_0x5022b4(0x82d)]:JSON['stringify'](_0xded828,null,0x2)));}}async[a0_0x53f180(0x601)](_0x1735d8,_0x37aa8d){const _0x418d08=a0_0x53f180;let _0x92353e=_0x1735d8[_0x418d08(0x87e)];_0x37aa8d[_0x418d08(0x217)][_0x418d08(0x87e)]&&_0x37aa8d[_0x418d08(0x217)]['remoteJid']['trim']()!==''&&(_0x92353e=_0x37aa8d['uazapi'][_0x418d08(0x87e)][_0x418d08(0x2af)]()),this[_0x418d08(0x341)][_0x418d08(0x242)](this[_0x418d08(0x699)]+'\x20('+this[_0x418d08(0x764)][_0x418d08(0x265)]+_0x418d08(0x7aa));let _0x1d66d5={'number':_0x92353e,'options':{'delay':_0x37aa8d[_0x418d08(0x217)][_0x418d08(0x4aa)]},'locationMessage':{'name':_0x37aa8d[_0x418d08(0x217)][_0x418d08(0x7b2)],'address':_0x37aa8d[_0x418d08(0x217)][_0x418d08(0x6a4)],'latitude':_0x37aa8d[_0x418d08(0x217)][_0x418d08(0x7af)],'longitude':_0x37aa8d[_0x418d08(0x217)][_0x418d08(0x8e7)]}};try{let _0x3fd358=await this[_0x418d08(0x883)](_0x1d66d5);if(_0x3fd358){let _0x3904a1={'_id':_0x3fd358[_0x418d08(0x861)]['id'],'_fromMe':_0x3fd358[_0x418d08(0x861)]['fromMe'],'_remoteJid':_0x3fd358[_0x418d08(0x861)][_0x418d08(0x87e)]},_0x440506=(0x0,w[_0x418d08(0x842)])(_0x3fd358[_0x418d08(0x82d)]),_0x12c99b=(0x0,w[_0x418d08(0x556)])(_0x440506);_0x1735d8[_0x418d08(0x8a6)][_0x418d08(0x68e)]=_0x37aa8d[_0x418d08(0x452)][_0x418d08(0x76d)]();let {message_normalized:_0x160936}=this['normalizeMessage'](_0x440506,_0x12c99b,null);_0x1735d8[_0x418d08(0x8a6)]['lastSendMessage']=await _0x160936;let _0x4f7a72={'messageId':_0x3fd358[_0x418d08(0x861)]['id']},_0x8a4f51=_0x1735d8[_0x418d08(0x8a6)][_0x418d08(0x4ee)];Object['assign'](_0x8a4f51,_0x3904a1),_0x1735d8[_0x418d08(0x8a6)][_0x418d08(0x4ee)]=_0x8a4f51,this[_0x418d08(0x54b)](_0x1735d8,_0x37aa8d,_0x4f7a72);}else{let _0x2afaaf={'error':!0x0};this['updateConversation'](_0x1735d8,_0x37aa8d,_0x2afaaf),this[_0x418d08(0x341)][_0x418d08(0x1f6)](this[_0x418d08(0x699)]+'\x20('+this[_0x418d08(0x764)][_0x418d08(0x265)]+_0x418d08(0x6ba));}}catch(_0x73320d){let _0x3c7763={'error':!0x0,'errorLog':_0x73320d[_0x418d08(0x76d)]()};this[_0x418d08(0x54b)](_0x1735d8,_0x37aa8d,_0x3c7763),this[_0x418d08(0x341)]['error'](this['instanceName']+'\x20('+this['instance'][_0x418d08(0x265)]+_0x418d08(0x72c)+(_0x73320d instanceof Error?_0x73320d[_0x418d08(0x82d)]:JSON[_0x418d08(0x54f)](_0x73320d,null,0x2)));}}async['uazapiSendAudio'](_0x152c19,_0x4228a0){const _0x13837a=a0_0x53f180;let _0x41b8a9=_0x152c19[_0x13837a(0x87e)];_0x4228a0[_0x13837a(0x217)][_0x13837a(0x87e)]&&_0x4228a0[_0x13837a(0x217)][_0x13837a(0x87e)][_0x13837a(0x2af)]()!==''&&(_0x41b8a9=_0x4228a0[_0x13837a(0x217)][_0x13837a(0x87e)]['trim']()),this[_0x13837a(0x341)][_0x13837a(0x242)](this[_0x13837a(0x699)]+'\x20('+this[_0x13837a(0x764)][_0x13837a(0x265)]+_0x13837a(0x448));let _0x2fb471={'number':_0x41b8a9,'options':{'delay':_0x4228a0[_0x13837a(0x217)][_0x13837a(0x4aa)]},'audioMessage':{'audio':_0x4228a0[_0x13837a(0x217)]['audio']}};try{let _0x47121d=await this[_0x13837a(0x7a5)](_0x2fb471);if(_0x47121d){let _0x7f5f0d={'_id':_0x47121d['key']['id'],'_fromMe':_0x47121d['key'][_0x13837a(0x474)],'_remoteJid':_0x47121d[_0x13837a(0x861)][_0x13837a(0x87e)]},_0x3838f7=(0x0,w[_0x13837a(0x842)])(_0x47121d[_0x13837a(0x82d)]),_0x2bb5a1=(0x0,w[_0x13837a(0x556)])(_0x3838f7);_0x152c19[_0x13837a(0x8a6)][_0x13837a(0x68e)]=_0x4228a0['_id'][_0x13837a(0x76d)]();let {message_normalized:_0xea87e2}=this[_0x13837a(0x399)](_0x3838f7,_0x2bb5a1,null);_0x152c19[_0x13837a(0x8a6)][_0x13837a(0x1d8)]=await _0xea87e2;let _0x1c50de={'messageId':_0x47121d['key']['id']},_0x231040=_0x152c19[_0x13837a(0x8a6)][_0x13837a(0x4ee)];Object[_0x13837a(0x8bc)](_0x231040,_0x7f5f0d),_0x152c19[_0x13837a(0x8a6)][_0x13837a(0x4ee)]=_0x231040,this[_0x13837a(0x54b)](_0x152c19,_0x4228a0,_0x1c50de);}else{let _0x58eeaa={'error':!0x0};this[_0x13837a(0x54b)](_0x152c19,_0x4228a0,_0x58eeaa),this['logger'][_0x13837a(0x1f6)](this[_0x13837a(0x699)]+'\x20('+this['instance'][_0x13837a(0x265)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.');}}catch(_0x6c1273){let _0x357bfb={'error':!0x0,'errorLog':_0x6c1273[_0x13837a(0x76d)]()};this[_0x13837a(0x54b)](_0x152c19,_0x4228a0,_0x357bfb),this[_0x13837a(0x341)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x13837a(0x720)+(_0x6c1273 instanceof Error?_0x6c1273[_0x13837a(0x82d)]:JSON[_0x13837a(0x54f)](_0x6c1273,null,0x2)));}}async[a0_0x53f180(0x748)](_0x6d142,_0x11e956){const _0x42d9b4=a0_0x53f180;let _0x5044d4=_0x6d142[_0x42d9b4(0x87e)];_0x11e956[_0x42d9b4(0x217)][_0x42d9b4(0x87e)]&&_0x11e956[_0x42d9b4(0x217)][_0x42d9b4(0x87e)]['trim']()!==''&&(_0x5044d4=_0x11e956[_0x42d9b4(0x217)][_0x42d9b4(0x87e)][_0x42d9b4(0x2af)]()),this[_0x42d9b4(0x341)][_0x42d9b4(0x242)](this[_0x42d9b4(0x699)]+'\x20('+this[_0x42d9b4(0x764)][_0x42d9b4(0x265)]+'):\x20Enviando\x20contato');let _0x123748={'number':_0x5044d4,'options':{'delay':_0x11e956['uazapi']['delay']},'contactMessage':[{'fullName':_0x11e956[_0x42d9b4(0x217)][_0x42d9b4(0x389)],'phoneNumber':_0x11e956['uazapi'][_0x42d9b4(0x731)]}]};try{let _0x22a26b=await this[_0x42d9b4(0x262)](_0x123748);if(_0x22a26b){let _0x5957d4={'_id':_0x22a26b[_0x42d9b4(0x861)]['id'],'_fromMe':_0x22a26b[_0x42d9b4(0x861)]['fromMe'],'_remoteJid':_0x22a26b[_0x42d9b4(0x861)][_0x42d9b4(0x87e)]},_0x3b20e7=(0x0,w['normalizeMessageContent'])(_0x22a26b[_0x42d9b4(0x82d)]),_0x4c2a87=(0x0,w['getContentType'])(_0x3b20e7);_0x6d142[_0x42d9b4(0x8a6)][_0x42d9b4(0x68e)]=_0x11e956[_0x42d9b4(0x452)]['toString']();let {message_normalized:_0xe5b6dd}=this['normalizeMessage'](_0x3b20e7,_0x4c2a87,null);_0x6d142[_0x42d9b4(0x8a6)][_0x42d9b4(0x1d8)]=await _0xe5b6dd;let _0x398dda={'messageId':_0x22a26b[_0x42d9b4(0x861)]['id']},_0xab58bc=_0x6d142['chatLog'][_0x42d9b4(0x4ee)];Object['assign'](_0xab58bc,_0x5957d4),_0x6d142['chatLog'][_0x42d9b4(0x4ee)]=_0xab58bc,this[_0x42d9b4(0x54b)](_0x6d142,_0x11e956,_0x398dda);}else{let _0x3653da={'error':!0x0};this[_0x42d9b4(0x54b)](_0x6d142,_0x11e956,_0x3653da),this['logger'][_0x42d9b4(0x1f6)](this[_0x42d9b4(0x699)]+'\x20('+this[_0x42d9b4(0x764)][_0x42d9b4(0x265)]+_0x42d9b4(0x596));}}catch(_0x3825fe){let _0x5e11cd={'error':!0x0,'errorLog':_0x3825fe[_0x42d9b4(0x76d)]()};this['updateConversation'](_0x6d142,_0x11e956,_0x5e11cd),this[_0x42d9b4(0x341)][_0x42d9b4(0x1f6)](this[_0x42d9b4(0x699)]+'\x20('+this[_0x42d9b4(0x764)]['wuid']+_0x42d9b4(0x286)+(_0x3825fe instanceof Error?_0x3825fe[_0x42d9b4(0x82d)]:JSON[_0x42d9b4(0x54f)](_0x3825fe,null,0x2)));}}[a0_0x53f180(0x5d4)](_0x426cc6,_0x5c25ab){const _0x3b47ab=a0_0x53f180;for(let _0x5d47cf of _0x426cc6)_0x5d47cf['option']&&(_0x5d47cf[_0x3b47ab(0x5a2)]=this[_0x3b47ab(0x287)](_0x5d47cf[_0x3b47ab(0x5a2)],_0x5c25ab)),_0x5d47cf[_0x3b47ab(0x7d3)]&&(_0x5d47cf[_0x3b47ab(0x7d3)]=this[_0x3b47ab(0x287)](_0x5d47cf[_0x3b47ab(0x7d3)],_0x5c25ab));}async[a0_0x53f180(0x59a)](_0x46c23a,_0x58e85f){const _0x5a28df=a0_0x53f180;let _0x3a603a=_0x46c23a['remoteJid'];_0x58e85f[_0x5a28df(0x217)][_0x5a28df(0x87e)]&&_0x58e85f[_0x5a28df(0x217)]['remoteJid'][_0x5a28df(0x2af)]()!==''&&(_0x3a603a=_0x58e85f[_0x5a28df(0x217)][_0x5a28df(0x87e)][_0x5a28df(0x2af)]()),this[_0x5a28df(0x341)][_0x5a28df(0x242)](this[_0x5a28df(0x699)]+'\x20('+this[_0x5a28df(0x764)][_0x5a28df(0x265)]+_0x5a28df(0x36e));let _0x576bb3=_0x46c23a[_0x5a28df(0x48d)][_0x5a28df(0x353)](_0x341635=>_0x341635[_0x5a28df(0x256)]===_0x58e85f['_id'])[_0x5a28df(0x5f0)]((_0x17ed63,_0x171a1a)=>_0x17ed63[_0x5a28df(0x7b0)]-_0x171a1a[_0x5a28df(0x7b0)]);this['replaceVariablesInReplyOptions'](_0x576bb3,_0x46c23a[_0x5a28df(0x8a6)][_0x5a28df(0x4ee)]);let _0x3cc497=_0x576bb3[_0x5a28df(0x5bd)](_0x385019=>_0x385019[_0x5a28df(0x5a2)]),_0x34029e={'number':_0x3a603a,'menuMessage':{'type':_0x58e85f[_0x5a28df(0x217)][_0x5a28df(0x691)]||_0x5a28df(0x722),'text':_0x58e85f['uazapi']['text']||_0x58e85f['uazapi']['name'],'footerText':_0x58e85f['uazapi'][_0x5a28df(0x7cc)],'buttonText':_0x58e85f['uazapi'][_0x5a28df(0x669)],'selectableCount':0x1,'choices':_0x3cc497},'options':{'delay':_0x58e85f['uazapi'][_0x5a28df(0x4aa)]}};try{let _0x1cfb48=await this[_0x5a28df(0x3c5)](_0x34029e);if(_0x1cfb48){let _0x65b030={'_id':_0x1cfb48[_0x5a28df(0x861)]['id'],'_fromMe':_0x1cfb48[_0x5a28df(0x861)][_0x5a28df(0x474)],'_remoteJid':_0x1cfb48['key'][_0x5a28df(0x87e)]};_0x58e85f[_0x5a28df(0x217)][_0x5a28df(0x4fd)]===!0x0&&(_0x46c23a[_0x5a28df(0x315)]='waitingForReplyMenu',this[_0x5a28df(0x341)]['verbose'](this[_0x5a28df(0x699)]+'\x20('+this[_0x5a28df(0x764)][_0x5a28df(0x265)]+'):\x20conversation.status:\x20'+_0x46c23a[_0x5a28df(0x315)])),this[_0x5a28df(0x341)][_0x5a28df(0x242)](this[_0x5a28df(0x699)]+'\x20('+this[_0x5a28df(0x764)][_0x5a28df(0x265)]+'):\x20nextBlock.uazapi.name'+(_0x58e85f[_0x5a28df(0x217)]['name']||_0x58e85f[_0x5a28df(0x217)][_0x5a28df(0x746)])),_0x46c23a[_0x5a28df(0x50b)]=_0x1cfb48['key']['id'],_0x46c23a[_0x5a28df(0x523)]=_0x58e85f[_0x5a28df(0x217)]['name']||_0x58e85f[_0x5a28df(0x217)][_0x5a28df(0x746)],_0x46c23a['waitingMenu_replyOptions']=_0x576bb3,_0x58e85f[_0x5a28df(0x217)][_0x5a28df(0x495)]&&(_0x46c23a[_0x5a28df(0x759)]=_0x58e85f[_0x5a28df(0x217)][_0x5a28df(0x495)]),this[_0x5a28df(0x341)]['verbose'](this[_0x5a28df(0x699)]+'\x20('+this[_0x5a28df(0x764)]['wuid']+'):\x20conversation.waitingMenu_name'+_0x46c23a[_0x5a28df(0x523)]);let _0x192192=(0x0,w[_0x5a28df(0x842)])(_0x1cfb48[_0x5a28df(0x82d)]),_0x514cda=(0x0,w[_0x5a28df(0x556)])(_0x192192);_0x46c23a['chatLog']['lastBlockId']=_0x58e85f[_0x5a28df(0x452)]['toString']();let {message_normalized:_0x50bbd3}=this[_0x5a28df(0x399)](_0x192192,_0x514cda,null);_0x46c23a[_0x5a28df(0x8a6)]['lastSendMessage']=await _0x50bbd3;let _0x5eee25={'messageId':_0x1cfb48['key']['id']},_0x5aa550=_0x46c23a[_0x5a28df(0x8a6)][_0x5a28df(0x4ee)];Object[_0x5a28df(0x8bc)](_0x5aa550,_0x65b030),_0x46c23a[_0x5a28df(0x8a6)]['realVariables']=_0x5aa550,this[_0x5a28df(0x54b)](_0x46c23a,_0x58e85f,_0x5eee25);}else{let _0x45ecf4={'error':!0x0};this[_0x5a28df(0x54b)](_0x46c23a,_0x58e85f,_0x45ecf4),this['logger'][_0x5a28df(0x1f6)](this[_0x5a28df(0x699)]+'\x20('+this[_0x5a28df(0x764)][_0x5a28df(0x265)]+_0x5a28df(0x789));}}catch(_0x110259){let _0x43e27e={'error':!0x0,'errorLog':_0x110259 instanceof Error?_0x110259[_0x5a28df(0x82d)]:JSON['stringify'](_0x110259,null,0x2)};this['updateConversation'](_0x46c23a,_0x58e85f,_0x43e27e),this['logger'][_0x5a28df(0x1f6)](this['instanceName']+'\x20('+this['instance'][_0x5a28df(0x265)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x110259 instanceof Error?_0x110259[_0x5a28df(0x82d)]:JSON[_0x5a28df(0x54f)](_0x110259,null,0x2)));}}async[a0_0x53f180(0x461)](_0x261252,_0x326703){const _0x47f5f8=a0_0x53f180;this[_0x47f5f8(0x341)][_0x47f5f8(0x242)](this['instanceName']+'\x20('+this['instance'][_0x47f5f8(0x265)]+_0x47f5f8(0x620));let _0x414240=_0x261252['chatLog'][_0x47f5f8(0x209)][_0x47f5f8(0x479)](_0x250f42=>_0x250f42[_0x47f5f8(0x256)][_0x47f5f8(0x76d)]()===_0x326703['uazapi'][_0x47f5f8(0x256)][_0x47f5f8(0x76d)]()),_0x26c0a7={'id':_0x414240['messageId'],'remoteJid':_0x414240[_0x47f5f8(0x87e)],'fromMe':_0x414240[_0x47f5f8(0x474)]};try{let _0x30f44e=await this[_0x47f5f8(0x7a8)](_0x26c0a7);if(_0x30f44e){let _0x228c55=(0x0,w[_0x47f5f8(0x842)])(_0x30f44e['message']),_0x4294bd=(0x0,w['getContentType'])(_0x228c55);_0x261252['chatLog'][_0x47f5f8(0x68e)]=_0x326703['_id'][_0x47f5f8(0x76d)]();let {message_normalized:_0x57173f}=this[_0x47f5f8(0x399)](_0x228c55,_0x4294bd,null);_0x261252[_0x47f5f8(0x8a6)][_0x47f5f8(0x1d8)]=await _0x57173f;let _0x4be9db={};this[_0x47f5f8(0x54b)](_0x261252,_0x326703,_0x4be9db);}else{let _0x58b625={'error':!0x0};this[_0x47f5f8(0x54b)](_0x261252,_0x326703,_0x58b625),this[_0x47f5f8(0x341)][_0x47f5f8(0x1f6)](this['instanceName']+'\x20('+this[_0x47f5f8(0x764)][_0x47f5f8(0x265)]+_0x47f5f8(0x2df));}}catch(_0x5a7e62){let _0xef0c7b={'error':!0x0,'errorLog':_0x5a7e62 instanceof Error?_0x5a7e62[_0x47f5f8(0x82d)]:JSON['stringify'](_0x5a7e62,null,0x2)};this['updateConversation'](_0x261252,_0x326703,_0xef0c7b),this['logger'][_0x47f5f8(0x1f6)](this[_0x47f5f8(0x699)]+'\x20('+this[_0x47f5f8(0x764)][_0x47f5f8(0x265)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x5a7e62 instanceof Error?_0x5a7e62[_0x47f5f8(0x82d)]:JSON[_0x47f5f8(0x54f)](_0x5a7e62,null,0x2)));}}async[a0_0x53f180(0x85b)](_0x506b46,_0xa8631f){const _0x1b4d06=a0_0x53f180;if(_0x506b46['name']||(_0x506b46[_0x1b4d06(0x7b2)]=(0x0,X['v4'])()),_0xa8631f!==Ti&&_0x506b46?.[_0x1b4d06(0x387)])throw new m('Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global');if(_0x1b4d06(0x452)in _0x506b46&&_0x1b4d06(0x285)in _0x506b46)return this[_0x1b4d06(0x86f)](_0x506b46[_0x1b4d06(0x285)],_0x506b46[_0x1b4d06(0x452)]);this['logger']['verbose'](this[_0x1b4d06(0x699)]+'\x20('+this[_0x1b4d06(0x764)][_0x1b4d06(0x265)]+_0x1b4d06(0x8b1));let _0x33ab4b=this[_0x1b4d06(0x46b)](_0x506b46[_0x1b4d06(0x7b2)]),_0x273e85=new fe[(_0x1b4d06(0x336))][(_0x1b4d06(0x4e5))](),_0x46db30={'_id':_0x273e85,'default':!0x0,'title':_0x1b4d06(0x237),'x':0x0,'y':0x0},_0x328bfd={'_id':new fe[(_0x1b4d06(0x336))][(_0x1b4d06(0x4e5))](),'order':0x1,'groupId':_0x273e85[_0x1b4d06(0x76d)](),'type':_0x1b4d06(0x5d7)},_0x2761c6=this[_0x1b4d06(0x764)][_0x1b4d06(0x265)],_0x3f6c1c={'_id':(0x0,X['v4'])(),'owner':_0x2761c6,'name':_0x33ab4b,'whoCanEdit':[_0x2761c6],'whoCanUse':[_0x2761c6],'groups':[_0x46db30],'blocks':[_0x328bfd],..._0x506b46};try{let _0x16a23d=await this[_0x1b4d06(0x1cb)][_0x1b4d06(0x72a)][_0x1b4d06(0x591)](_0x3f6c1c);return await this['synchronizeAndMapFlows'](),_0x16a23d;}catch(_0x5e2d79){let _0x54dbb7='Erro\x20ao\x20criar\x20fluxo',_0xca5d51=_0x5e2d79 instanceof Error?_0x5e2d79[_0x1b4d06(0x82d)]:typeof _0x5e2d79==_0x1b4d06(0x204)?JSON[_0x1b4d06(0x54f)](_0x5e2d79):_0x5e2d79,_0x4ee582=_0x54dbb7+':\x20'+_0xca5d51;throw this['logger'][_0x1b4d06(0x1f6)](this[_0x1b4d06(0x699)]+'\x20('+this[_0x1b4d06(0x764)][_0x1b4d06(0x265)]+_0x1b4d06(0x6ae)+_0x4ee582),new m(_0x4ee582);}}async[a0_0x53f180(0x86f)](_0x1e6a8a,_0x42aef2){const _0x4ef83b=a0_0x53f180;try{this[_0x4ef83b(0x341)]['verbose'](this[_0x4ef83b(0x699)]+'\x20('+this[_0x4ef83b(0x764)]['wuid']+_0x4ef83b(0x276));let _0x297136=await this[_0x4ef83b(0x1cb)][_0x4ef83b(0x72a)][_0x4ef83b(0x741)]({'where':{'_id':_0x42aef2,'owner':_0x1e6a8a}});if(!_0x297136)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0x297136[_0x4ef83b(0x73a)]===!0x1&&!_0x297136[_0x4ef83b(0x387)])throw new m(_0x4ef83b(0x4fa));let _0x3d6ca2=new Set(_0x297136[_0x4ef83b(0x6b1)]??[]);_0x3d6ca2[_0x4ef83b(0x1b9)](this[_0x4ef83b(0x764)]['wuid']);let _0x2bd133=await this[_0x4ef83b(0x1cb)][_0x4ef83b(0x72a)][_0x4ef83b(0x5ea)](_0x42aef2,{..._0x297136,'whoCanUse':Array[_0x4ef83b(0x457)](_0x3d6ca2)});return await this['synchronizeAndMapFlows'](),_0x2bd133;}catch(_0x48aadc){let _0x2873ba=_0x4ef83b(0x3a6),_0x3a3171=_0x48aadc instanceof Error?_0x48aadc['message']:typeof _0x48aadc==_0x4ef83b(0x204)?JSON[_0x4ef83b(0x54f)](_0x48aadc):_0x48aadc,_0x1ac3c8=_0x2873ba+':\x20'+_0x3a3171;throw this[_0x4ef83b(0x341)][_0x4ef83b(0x1f6)](this[_0x4ef83b(0x699)]+'\x20('+this[_0x4ef83b(0x764)]['wuid']+_0x4ef83b(0x6ae)+_0x1ac3c8),new m(_0x1ac3c8);}}['getUniqueFlowName'](_0x4a6fb7){const _0x500cf2=a0_0x53f180;let _0x1b852c=_0x4a6fb7,_0x35ad1a=0x1;for(;this[_0x500cf2(0x335)][_0x500cf2(0x777)][_0x500cf2(0x485)](_0x311b50=>_0x311b50[_0x500cf2(0x7b2)]===_0x1b852c);)_0x35ad1a++,_0x1b852c=_0x4a6fb7+'\x20('+_0x35ad1a+')';return _0x1b852c;}async[a0_0x53f180(0x324)](_0x4ede51){const _0x1ff917=a0_0x53f180;try{if(this[_0x1ff917(0x341)][_0x1ff917(0x242)](this[_0x1ff917(0x699)]+'\x20('+this[_0x1ff917(0x764)][_0x1ff917(0x265)]+'):\x20\x27Deletando\x20fluxo,\x20id:\x20'+_0x4ede51[_0x1ff917(0x452)]+_0x1ff917(0x1e1)+_0x4ede51[_0x1ff917(0x2b6)]),!this[_0x1ff917(0x335)][_0x1ff917(0x777)]['find'](_0x4746b7=>_0x4746b7['_id']===_0x4ede51[_0x1ff917(0x452)]))throw this[_0x1ff917(0x341)]['verbose'](this[_0x1ff917(0x699)]+'\x20('+this[_0x1ff917(0x764)][_0x1ff917(0x265)]+_0x1ff917(0x8e8)+_0x4ede51[_0x1ff917(0x452)]+_0x1ff917(0x401)),new m(_0x1ff917(0x2db));let _0x456561=await this[_0x1ff917(0x1cb)][_0x1ff917(0x72a)][_0x1ff917(0x741)]({'where':{'_id':_0x4ede51['_id']}});if(!_0x456561)throw new m(_0x1ff917(0x52a));if(this[_0x1ff917(0x764)][_0x1ff917(0x265)]===_0x456561['owner']){this[_0x1ff917(0x341)][_0x1ff917(0x242)](this[_0x1ff917(0x699)]+'\x20('+this[_0x1ff917(0x764)][_0x1ff917(0x265)]+_0x1ff917(0x388)+_0x4ede51[_0x1ff917(0x452)]+'\x27\x20do\x20banco\x20de\x20dados...');let _0x31a6a2=await this[_0x1ff917(0x1cb)]['flow']['deleteOne']({'where':{'_id':_0x4ede51[_0x1ff917(0x452)]}});return await this[_0x1ff917(0x29d)](),_0x31a6a2;}return this[_0x1ff917(0x341)][_0x1ff917(0x242)](this[_0x1ff917(0x699)]+'\x20('+this[_0x1ff917(0x764)][_0x1ff917(0x265)]+'):\x20Removendo\x20\x27'+this[_0x1ff917(0x764)]['wuid']+'\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27'+_0x4ede51[_0x1ff917(0x452)]+_0x1ff917(0x550)),_0x456561[_0x1ff917(0x6b1)]=(_0x456561[_0x1ff917(0x6b1)]??[])[_0x1ff917(0x353)](_0x41daf8=>_0x41daf8!==this['instance'][_0x1ff917(0x265)]),_0x456561[_0x1ff917(0x6bc)]=(_0x456561['whoCanEdit']??[])[_0x1ff917(0x353)](_0x393637=>_0x393637!==this[_0x1ff917(0x764)][_0x1ff917(0x265)]),_0x456561[_0x1ff917(0x6bc)][_0x1ff917(0x27a)]===0x0&&_0x456561[_0x1ff917(0x6b1)][_0x1ff917(0x27a)]>0x0&&(_0x456561[_0x1ff917(0x6bc)][_0x1ff917(0x635)](_0x456561['whoCanUse'][0x0]),this['logger'][_0x1ff917(0x242)](this[_0x1ff917(0x699)]+'\x20('+this[_0x1ff917(0x764)][_0x1ff917(0x265)]+'):\x20Adicionando\x20\x27'+_0x456561['whoCanUse'][0x0]+'\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27'+_0x4ede51[_0x1ff917(0x452)]+_0x1ff917(0x550))),await this[_0x1ff917(0x1cb)][_0x1ff917(0x72a)][_0x1ff917(0x5ea)](_0x456561[_0x1ff917(0x452)],_0x456561),await this['synchronizeAndMapFlows'](),{'message':_0x1ff917(0x2ce)+_0x4ede51[_0x1ff917(0x7b2)]+_0x1ff917(0x545)};}catch(_0x12973c){return this[_0x1ff917(0x341)][_0x1ff917(0x1f6)](this[_0x1ff917(0x699)]+'\x20('+this[_0x1ff917(0x764)][_0x1ff917(0x265)]+_0x1ff917(0x755)+(_0x12973c instanceof Error?_0x12973c[_0x1ff917(0x82d)]:JSON['stringify'](_0x12973c,null,0x2))),{'message':_0x1ff917(0x3d4)+(_0x12973c instanceof Error?_0x12973c[_0x1ff917(0x82d)]:JSON[_0x1ff917(0x54f)](_0x12973c,null,0x2))};}}async['getFlow'](_0x4caa97){const _0x437013=a0_0x53f180;try{if(this[_0x437013(0x341)]['info'](this[_0x437013(0x699)]+'\x20('+this['instance']['wuid']+_0x437013(0x4c3)+_0x4caa97),!this[_0x437013(0x335)]&&(await this[_0x437013(0x7b8)](),!this[_0x437013(0x335)]))return null;let _0x4a86ae=await this[_0x437013(0x1cb)][_0x437013(0x72a)][_0x437013(0x741)]({'where':{'_id':_0x4caa97}});if(!_0x4a86ae)throw new m(_0x437013(0x88c)+_0x4caa97+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(!(_0x4a86ae['globalShow']||_0x4a86ae['whoCanUse']?.[_0x437013(0x87c)](this[_0x437013(0x764)][_0x437013(0x265)])))throw new m(_0x437013(0x62f)+name+'\x27');_0x4a86ae['globalShow']&&!_0x4a86ae['whoCanUse']?.[_0x437013(0x87c)](this[_0x437013(0x764)][_0x437013(0x265)])&&(_0x4a86ae[_0x437013(0x6b1)]=[..._0x4a86ae['whoCanUse']??[],this['instance']['wuid']],await this[_0x437013(0x1cb)]['flow'][_0x437013(0x5ea)](_0x4a86ae[_0x437013(0x452)],_0x4a86ae),this[_0x437013(0x29d)]());let _0x147011=this[_0x437013(0x335)]?.[_0x437013(0x736)][_0x437013(0x5bd)](_0x1dddb8=>_0x1dddb8[_0x437013(0x7b2)]),_0x4bf6ec=[_0x437013(0x7ac),_0x437013(0x64e),_0x437013(0x2eb),'cpf',_0x437013(0x315),'notas',_0x437013(0x1a0),_0x437013(0x3d6),'etiquetas','telefone',_0x437013(0x7d7)];_0x4a86ae['variables']=_0x4a86ae[_0x437013(0x7e8)]['filter'](_0x2ef109=>!(_0x2ef109[_0x437013(0x407)]===_0x437013(0x500)||_0x2ef109[_0x437013(0x500)])),_0x4bf6ec['forEach'](_0x64fc4f=>{const _0x46f225=_0x437013;_0x4a86ae[_0x46f225(0x7e8)][_0x46f225(0x635)]({'folder':_0x46f225(0x500),'name':_0x64fc4f,'value':'','doc':'','leadInfo':!0x0});}),_0x147011[_0x437013(0x313)](_0x47e430=>{const _0x439482=_0x437013;let _0x2d04b0=_0x4a86ae['variables'][_0x439482(0x202)](_0x1ca8e7=>_0x1ca8e7[_0x439482(0x7b2)]===_0x47e430);_0x2d04b0===-0x1?_0x4a86ae[_0x439482(0x7e8)]['push']({'folder':'leadInfo','name':_0x47e430,'value':'','doc':'','leadInfo':!0x0}):(_0x4a86ae[_0x439482(0x7e8)][_0x2d04b0][_0x439482(0x407)]=_0x439482(0x500),_0x4a86ae[_0x439482(0x7e8)][_0x2d04b0]['leadInfo']=!0x0);}),_0x4a86ae[_0x437013(0x680)]&&_0x4a86ae[_0x437013(0x680)][_0x437013(0x27a)]>0x0&&_0x4a86ae[_0x437013(0x680)][_0x437013(0x313)](_0x45e8bc=>{const _0x45e12d=_0x437013;_0x45e8bc[_0x45e12d(0x55b)]&&_0x45e8bc[_0x45e12d(0x7ec)]&&_0x45e8bc['groupId']===_0x45e8bc[_0x45e12d(0x7ec)]&&(_0x45e8bc[_0x45e12d(0x7ec)]=null);});let _0x3a9398=await this['repository']['flow'][_0x437013(0x5ea)](_0x4a86ae[_0x437013(0x452)],_0x4a86ae);if(!_0x3a9398)throw new Error(_0x437013(0x2b5));return _0x3a9398;}catch(_0x2ceda2){let _0x1afa81=_0x437013(0x2d0),_0x57c3eb=_0x2ceda2 instanceof Error?_0x2ceda2[_0x437013(0x82d)]:typeof _0x2ceda2==_0x437013(0x204)?JSON['stringify'](_0x2ceda2):_0x2ceda2,_0x31e4f8=_0x1afa81+':\x20'+_0x57c3eb;throw this[_0x437013(0x341)][_0x437013(0x1f6)](this['instanceName']+'\x20('+this[_0x437013(0x764)][_0x437013(0x265)]+_0x437013(0x6ae)+_0x31e4f8),new m(_0x31e4f8);}}async[a0_0x53f180(0x3ac)](){const _0x5a34ba=a0_0x53f180;try{this[_0x5a34ba(0x341)]['verbose'](this[_0x5a34ba(0x699)]+'\x20('+this[_0x5a34ba(0x764)][_0x5a34ba(0x265)]+_0x5a34ba(0x37f)),await this[_0x5a34ba(0x29d)]();let _0xa45571=await this[_0x5a34ba(0x1cb)][_0x5a34ba(0x72a)][_0x5a34ba(0x44c)]({'where':{'globalShow':!0x0}});return[...this[_0x5a34ba(0x335)][_0x5a34ba(0x777)],..._0xa45571];}catch(_0x21fe00){return this[_0x5a34ba(0x341)][_0x5a34ba(0x1f6)](this[_0x5a34ba(0x699)]+'\x20('+this[_0x5a34ba(0x764)][_0x5a34ba(0x265)]+_0x5a34ba(0x2d6)+(_0x21fe00 instanceof Error?_0x21fe00[_0x5a34ba(0x82d)]:JSON['stringify'](_0x21fe00,null,0x2))),{'message':_0x5a34ba(0x668)+(_0x21fe00 instanceof Error?_0x21fe00[_0x5a34ba(0x82d)]:String(_0x21fe00))};}}async['editFlow'](_0x426d42,_0x299b8a){const _0x21b034=a0_0x53f180;try{this[_0x21b034(0x341)][_0x21b034(0x242)](this[_0x21b034(0x699)]+'\x20('+this[_0x21b034(0x764)][_0x21b034(0x265)]+_0x21b034(0x88e));let _0x407579=this[_0x21b034(0x335)]['flows'][_0x21b034(0x479)](_0x2f8519=>_0x2f8519['_id']===_0x426d42[_0x21b034(0x452)]);if(!_0x407579)throw this[_0x21b034(0x341)]['verbose'](this[_0x21b034(0x699)]+'\x20('+this[_0x21b034(0x764)]['wuid']+_0x21b034(0x8e8)+_0x426d42[_0x21b034(0x452)]+'\x27\x20não\x20encontrado'),new m(_0x21b034(0x2db));let _0x161639=await this[_0x21b034(0x1cb)][_0x21b034(0x72a)]['findOne']({'where':{'_id':_0x426d42['_id']}});if(!_0x161639||!_0x161639[_0x21b034(0x6b1)]?.[_0x21b034(0x87c)](this['instance'][_0x21b034(0x265)]))throw this[_0x21b034(0x341)][_0x21b034(0x1f6)](this['instanceName']+'\x20('+this[_0x21b034(0x764)][_0x21b034(0x265)]+_0x21b034(0x60d)+_0x426d42[_0x21b034(0x452)]+_0x21b034(0x7b3)),new m(_0x21b034(0x337)+_0x426d42[_0x21b034(0x452)]+_0x21b034(0x7b3));let _0x3df561=this[_0x21b034(0x335)][_0x21b034(0x777)][_0x21b034(0x202)](_0x7ea576=>_0x7ea576[_0x21b034(0x452)]===_0x407579[_0x21b034(0x452)]);if(_0x3df561!==-0x1){let _0x3e2415=this[_0x21b034(0x335)][_0x21b034(0x777)][_0x3df561];if(_0x3e2415['name']=_0x426d42[_0x21b034(0x7b2)]??_0x3e2415['name'],_0x3e2415[_0x21b034(0x391)]=_0x426d42['default']??_0x3e2415[_0x21b034(0x391)],_0x3e2415['testingWith']=_0x426d42['testingWith']??_0x3e2415[_0x21b034(0x223)],_0x3e2415[_0x21b034(0x26d)]=_0x426d42['startCommandWord']??_0x3e2415['startCommand'],_0x3e2415[_0x21b034(0x23d)]=_0x426d42[_0x21b034(0x23d)]??_0x3e2415[_0x21b034(0x23d)],_0x3e2415[_0x21b034(0x6ed)]=_0x426d42[_0x21b034(0x6ed)]??_0x3e2415[_0x21b034(0x6ed)],_0x426d42[_0x21b034(0x391)]&&this[_0x21b034(0x335)][_0x21b034(0x777)][_0x21b034(0x313)]((_0x4f08f1,_0x1e11f6)=>{_0x1e11f6!==_0x3df561&&(_0x4f08f1['default']=!0x1);}),this[_0x21b034(0x335)][_0x21b034(0x777)][_0x3df561]=_0x3e2415,!await this[_0x21b034(0x1cb)][_0x21b034(0x860)]['update']({'flows':this[_0x21b034(0x335)][_0x21b034(0x777)]},this[_0x21b034(0x764)][_0x21b034(0x265)]))throw new m(_0x21b034(0x88f));}let _0x5cc278=[_0x21b034(0x2b6),_0x21b034(0x37a),_0x21b034(0x67d),'shareOwners'];for(let _0x4c9554 of _0x5cc278)delete _0x426d42[_0x4c9554];if(_0x161639[_0x21b034(0x6bc)]?.[_0x21b034(0x87c)](this['instance'][_0x21b034(0x265)])||(_0x426d42={'_id':_0x426d42['_id']}),_0x299b8a!==Ti&&_0x426d42?.[_0x21b034(0x387)]&&!_0x161639?.[_0x21b034(0x387)])throw new m(_0x21b034(0x410));let _0x296e62=new Set(_0x426d42[_0x21b034(0x6bc)]??_0x161639['whoCanEdit']);_0x296e62[_0x21b034(0x1b9)](_0x161639[_0x21b034(0x285)]);let _0x919e07=new Set(_0x426d42[_0x21b034(0x6b1)]??_0x161639['whoCanUse']??[]);_0x296e62[_0x21b034(0x313)](_0x1b0ffb=>_0x919e07[_0x21b034(0x1b9)](_0x1b0ffb)),_0x919e07['add'](_0x161639['owner']),this[_0x21b034(0x341)][_0x21b034(0x242)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x21b034(0x89d)+Array['from'](_0x296e62)),this[_0x21b034(0x341)][_0x21b034(0x242)](this[_0x21b034(0x699)]+'\x20('+this[_0x21b034(0x764)][_0x21b034(0x265)]+_0x21b034(0x6e6)+Array[_0x21b034(0x457)](_0x919e07));let _0x40e2e3=await this[_0x21b034(0x4db)](Array['from'](_0x919e07)),_0x2dc687=Array['from'](_0x296e62)['filter'](_0x225dd6=>_0x40e2e3[_0x21b034(0x87c)](_0x225dd6)),_0x2562c7=Array[_0x21b034(0x457)](_0x919e07)[_0x21b034(0x353)](_0x1fe841=>_0x40e2e3[_0x21b034(0x87c)](_0x1fe841));this[_0x21b034(0x341)][_0x21b034(0x242)](this['instanceName']+'\x20('+this[_0x21b034(0x764)][_0x21b034(0x265)]+_0x21b034(0x272)+_0x2dc687),this[_0x21b034(0x341)]['verbose'](this[_0x21b034(0x699)]+'\x20('+this[_0x21b034(0x764)][_0x21b034(0x265)]+'):\x20whoCanUse\x20after\x20validation:\x20'+_0x2562c7);let _0x2cea0a={..._0x161639,..._0x426d42,'whoCanEdit':_0x2dc687,'whoCanUse':_0x2562c7},_0x16cdb5=await this[_0x21b034(0x1cb)][_0x21b034(0x72a)]['updateOne'](_0x161639[_0x21b034(0x452)],_0x2cea0a);return await this[_0x21b034(0x29d)](),_0x16cdb5;}catch(_0x4ddfb7){let _0x2fcaab='Erro\x20ao\x20alterar\x20fluxo',_0x3e5d1a=_0x4ddfb7 instanceof Error?_0x4ddfb7['message']:typeof _0x4ddfb7==_0x21b034(0x204)?JSON['stringify'](_0x4ddfb7):_0x4ddfb7,_0x2de9c0=_0x2fcaab+':\x20'+_0x3e5d1a;throw this[_0x21b034(0x341)][_0x21b034(0x1f6)](this['instanceName']+'\x20('+this[_0x21b034(0x764)][_0x21b034(0x265)]+_0x21b034(0x6ae)+_0x2de9c0),new m(_0x2de9c0);}}async[a0_0x53f180(0x4db)](_0x4e3b32){const _0x55b7ac=a0_0x53f180;let _0x27055e={'numbers':_0x4e3b32};return(await this['whatsappNumber'](_0x27055e))[_0x55b7ac(0x353)](_0x18ad6=>_0x18ad6[_0x55b7ac(0x630)])[_0x55b7ac(0x5bd)](_0x3f43dd=>_0x3f43dd[_0x55b7ac(0x5c7)])[_0x55b7ac(0x5bd)](_0x4c87ba=>this[_0x55b7ac(0x769)](_0x4c87ba));}[a0_0x53f180(0x769)](_0x4044bb){let _0x3c5c44=_0x4044bb['match'](/\d+/);return _0x3c5c44?_0x3c5c44[0x0]:'';}async['editFlowBlock'](_0x4c3860){const _0x4624be=a0_0x53f180;try{if(this[_0x4624be(0x341)][_0x4624be(0x242)](this[_0x4624be(0x699)]+'\x20('+this[_0x4624be(0x764)]['wuid']+_0x4624be(0x8f0)),!this[_0x4624be(0x335)][_0x4624be(0x777)][_0x4624be(0x479)](_0x1d9f9d=>_0x1d9f9d[_0x4624be(0x452)]===_0x4c3860[_0x4624be(0x452)]))throw this[_0x4624be(0x341)][_0x4624be(0x242)](this['instanceName']+'\x20('+this['instance'][_0x4624be(0x265)]+_0x4624be(0x8e8)+_0x4c3860[_0x4624be(0x452)]+'\x27\x20não\x20encontrado'),new m(_0x4624be(0x2db));let _0x38c01b=await this[_0x4624be(0x1cb)][_0x4624be(0x72a)][_0x4624be(0x741)]({'where':{'_id':_0x4c3860['_id']}});if(!_0x38c01b||!_0x38c01b[_0x4624be(0x6b1)]?.['includes'](this[_0x4624be(0x764)][_0x4624be(0x265)]))throw this['logger'][_0x4624be(0x1f6)](this[_0x4624be(0x699)]+'\x20('+this['instance'][_0x4624be(0x265)]+_0x4624be(0x60d)+_0x4c3860[_0x4624be(0x452)]+_0x4624be(0x7b3)),new m(_0x4624be(0x337)+_0x4c3860[_0x4624be(0x452)]+_0x4624be(0x7b3));if(!_0x38c01b[_0x4624be(0x6bc)]?.[_0x4624be(0x87c)](this[_0x4624be(0x764)][_0x4624be(0x265)]))throw new m(_0x4624be(0x528));let {block:_0x57b9d5}=_0x4c3860;_0x57b9d5?.['copy']?this[_0x4624be(0x54d)](_0x38c01b,_0x4c3860):_0x57b9d5?.[_0x4624be(0x2c1)]?this[_0x4624be(0x444)](_0x38c01b,_0x4c3860):_0x57b9d5[_0x4624be(0x452)]?await this[_0x4624be(0x581)](_0x38c01b,_0x4c3860):this[_0x4624be(0x899)](_0x38c01b,_0x4c3860);let _0x16247e=await this[_0x4624be(0x1cb)][_0x4624be(0x72a)]['updateOne'](_0x38c01b['_id'],_0x38c01b);if(!_0x16247e)throw new Error(_0x4624be(0x2b5));return _0x16247e;}catch(_0xd1a7c0){this[_0x4624be(0x211)](_0x4624be(0x54a)+_0xd1a7c0['message']);}}async['copyBlock'](_0x16e37e,_0x18bc68){const _0x2dd9e7=a0_0x53f180;let _0x3ee26c=_0x18bc68[_0x2dd9e7(0x395)][_0x2dd9e7(0x452)],_0x383f85=_0x16e37e[_0x2dd9e7(0x680)][_0x2dd9e7(0x479)](_0x483a43=>_0x483a43[_0x2dd9e7(0x452)][_0x2dd9e7(0x76d)]()===_0x3ee26c);if(!_0x383f85){this[_0x2dd9e7(0x341)][_0x2dd9e7(0x1f6)](this[_0x2dd9e7(0x699)]+'\x20('+this['instance'][_0x2dd9e7(0x265)]+'):\x20Bloco\x20com\x20ID\x20'+_0x3ee26c+_0x2dd9e7(0x80d));return;}this[_0x2dd9e7(0x341)][_0x2dd9e7(0x242)](this[_0x2dd9e7(0x699)]+'\x20('+this[_0x2dd9e7(0x764)][_0x2dd9e7(0x265)]+_0x2dd9e7(0x5cd)+JSON['stringify'](_0x383f85));let _0x383815=JSON['parse'](JSON[_0x2dd9e7(0x54f)](_0x383f85));_0x383815[_0x2dd9e7(0x452)]=new fe[(_0x2dd9e7(0x391))][(_0x2dd9e7(0x336))]['ObjectId'](),this[_0x2dd9e7(0x341)][_0x2dd9e7(0x242)](this[_0x2dd9e7(0x699)]+'\x20('+this['instance'][_0x2dd9e7(0x265)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x2dd9e7(0x54f)](_0x383815)),_0x16e37e[_0x2dd9e7(0x680)]['push'](_0x383815),this['reorderBlocks'](_0x16e37e[_0x2dd9e7(0x680)],_0x383815['groupId']);}['throwAndLogError'](_0x7605e1){const _0x12b7e9=a0_0x53f180;throw this['logger'][_0x12b7e9(0x1f6)](this['instanceName']+'\x20('+this[_0x12b7e9(0x764)]['wuid']+_0x12b7e9(0x6ae)+_0x7605e1),new m(_0x7605e1);}[a0_0x53f180(0x444)](_0x43b206,_0x2b834e){const _0x381889=a0_0x53f180;let {block:_0x15b4e8}=_0x2b834e;if(_0x15b4e8[_0x381889(0x6b8)]===_0x381889(0x5d7)){this[_0x381889(0x211)](_0x381889(0x48f));return;}if(!_0x15b4e8[_0x381889(0x452)]){this['throwAndLogError'](_0x381889(0x38a));return;}let _0x25c203=_0x43b206[_0x381889(0x680)]['find'](_0x2db391=>_0x2db391[_0x381889(0x452)][_0x381889(0x76d)]()===_0x2b834e[_0x381889(0x395)][_0x381889(0x452)]['toString']());if(!_0x25c203){this['throwAndLogError'](_0x381889(0x781)+_0x15b4e8[_0x381889(0x452)]+_0x381889(0x3f4));return;}_0x43b206[_0x381889(0x680)]=_0x43b206[_0x381889(0x680)][_0x381889(0x353)](_0x3d89fd=>_0x3d89fd[_0x381889(0x452)][_0x381889(0x76d)]()!==_0x2b834e[_0x381889(0x395)]['_id'][_0x381889(0x76d)]()),_0x43b206[_0x381889(0x2fd)]=_0x43b206['conditions'][_0x381889(0x353)](_0xdd1748=>_0xdd1748[_0x381889(0x256)]!==_0x15b4e8['_id'][_0x381889(0x76d)]()),_0x43b206[_0x381889(0x3b1)]=_0x43b206[_0x381889(0x3b1)][_0x381889(0x353)](_0x4a4f3c=>_0x4a4f3c[_0x381889(0x256)]!==_0x15b4e8['_id'][_0x381889(0x76d)]()),_0x43b206[_0x381889(0x48d)]=_0x43b206['replyOptions']['filter'](_0x56d56a=>_0x56d56a[_0x381889(0x256)]!==_0x15b4e8['_id'][_0x381889(0x76d)]()),this['reorderBlocks'](_0x43b206[_0x381889(0x680)],_0x25c203[_0x381889(0x55b)]);}async['updateBlock'](_0x2f640a,_0x12f028){const _0x485844=a0_0x53f180;let _0x2a946c=_0x2f640a[_0x485844(0x680)]['findIndex'](_0x1dd800=>_0x1dd800[_0x485844(0x452)][_0x485844(0x76d)]()===_0x12f028[_0x485844(0x395)]['_id'][_0x485844(0x76d)]());if(this[_0x485844(0x341)][_0x485844(0x242)](this[_0x485844(0x699)]+'\x20('+this[_0x485844(0x764)][_0x485844(0x265)]+_0x485844(0x62e)+_0x2a946c),_0x2a946c===-0x1){this[_0x485844(0x341)][_0x485844(0x242)](_0x485844(0x781)+_0x12f028['block'][_0x485844(0x452)]+_0x485844(0x8e3));return;}if(_0x2f640a[_0x485844(0x680)][_0x2a946c][_0x485844(0x6b8)]==='start'){let _0x2368ba=Object['keys'](_0x12f028[_0x485844(0x395)]);if(_0x2368ba[_0x485844(0x27a)]>0x2||_0x2368ba[_0x485844(0x27a)]===0x2&&!_0x2368ba['includes'](_0x485844(0x7ec))){this[_0x485844(0x211)](_0x485844(0x5c5));return;}}let _0x891c15=_0x2f640a[_0x485844(0x680)][_0x2a946c]['groupId'];for(let _0x3e93dc in _0x12f028['block'])_0x12f028[_0x485844(0x395)][_0x485844(0x4cd)](_0x3e93dc)&&(_0x2f640a[_0x485844(0x680)][_0x2a946c][_0x3e93dc]=_0x12f028[_0x485844(0x395)][_0x3e93dc]);if(this[_0x485844(0x341)][_0x485844(0x242)](this[_0x485844(0x699)]+'\x20('+this[_0x485844(0x764)][_0x485844(0x265)]+_0x485844(0x5dd)+JSON[_0x485844(0x54f)](_0x2f640a['blocks'][_0x2a946c])),_0x2f640a[_0x485844(0x680)][_0x2a946c][_0x485844(0x855)]&&_0x485844(0x3bc)in _0x2f640a[_0x485844(0x680)][_0x2a946c][_0x485844(0x855)]){this[_0x485844(0x341)]['verbose'](this[_0x485844(0x699)]+'\x20('+this[_0x485844(0x764)][_0x485844(0x265)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x4912a5=JSON['stringify'](_0x2f640a[_0x485844(0x680)][_0x2a946c]['apirequest'][_0x485844(0x3bc)],null,0x1);_0x4912a5[_0x485844(0x27a)]>0x2&&(_0x4912a5=_0x4912a5['substring'](0x1,_0x4912a5[_0x485844(0x27a)]-0x1)[_0x485844(0x2af)]()),_0x2f640a[_0x485844(0x680)][_0x2a946c][_0x485844(0x855)][_0x485844(0x573)]=_0x4912a5;}if(_0x2f640a[_0x485844(0x680)][_0x2a946c]['apirequest']&&'body'in _0x2f640a[_0x485844(0x680)][_0x2a946c][_0x485844(0x855)]&&!(_0x485844(0x239)in _0x2f640a[_0x485844(0x680)][_0x2a946c][_0x485844(0x855)])){this['logger'][_0x485844(0x242)](this[_0x485844(0x699)]+'\x20('+this[_0x485844(0x764)][_0x485844(0x265)]+_0x485844(0x1b1)),_0x2f640a[_0x485844(0x680)][_0x2a946c]['apirequest'][_0x485844(0x869)]=!0x1;let _0x3e2f30=JSON['stringify'](_0x2f640a[_0x485844(0x680)][_0x2a946c]['apirequest'][_0x485844(0x3d3)],null,0x2);_0x2f640a[_0x485844(0x680)][_0x2a946c][_0x485844(0x855)]['bodyString']=_0x3e2f30;}if(_0x2f640a[_0x485844(0x680)][_0x2a946c][_0x485844(0x855)]&&_0x485844(0x239)in _0x2f640a[_0x485844(0x680)][_0x2a946c][_0x485844(0x855)]){_0x2f640a[_0x485844(0x680)][_0x2a946c][_0x485844(0x855)]['bodyStringErrorParse']=!0x1;let _0x5bd712=_0x2f640a[_0x485844(0x680)][_0x2a946c][_0x485844(0x855)]['bodyString'],_0x2f0bba=this[_0x485844(0x46c)](_0x5bd712);_0x2f640a[_0x485844(0x680)][_0x2a946c]['apirequest'][_0x485844(0x239)]=_0x2f0bba[_0x485844(0x8ad)],_0x2f640a[_0x485844(0x680)][_0x2a946c]['apirequest'][_0x485844(0x869)]=_0x2f0bba['error'];}let _0x3f8e77=_0x2f640a[_0x485844(0x680)][_0x2a946c][_0x485844(0x55b)];_0x891c15!==_0x3f8e77?(this[_0x485844(0x36b)](_0x2f640a[_0x485844(0x680)],_0x891c15),this[_0x485844(0x36b)](_0x2f640a['blocks'],_0x3f8e77)):this[_0x485844(0x36b)](_0x2f640a[_0x485844(0x680)],_0x891c15);}['beautifyWithPlaceholders'](_0x3d8947){const _0x4ce04c=a0_0x53f180;let _0x7d53aa='\u205f',_0x190ccc=!0x1,_0x4b7191='';for(let _0x481030=0x0;_0x481030<_0x3d8947[_0x4ce04c(0x27a)];_0x481030++){let _0x7c68b6=_0x3d8947[_0x481030];_0x7c68b6==='\x22'&&(_0x481030===0x0||_0x3d8947[_0x481030-0x1]!=='\x5c')&&(_0x190ccc=!_0x190ccc),!(!_0x190ccc&&(_0x7c68b6==='\x0a'||_0x7c68b6==='\x20'||_0x7c68b6===_0x7d53aa))&&(_0x4b7191+=_0x7c68b6);}let _0x587493={},_0x58cb71=9876543210.1234,_0x45e921=_0x4b7191[_0x4ce04c(0x1ef)](/\{\{([^}]+)\}\}/g,_0xacdd02=>{let _0x26c2e4=_0xacdd02,_0x36d72b=''+_0x58cb71;return _0x587493[_0x36d72b]=_0x26c2e4,_0x58cb71+=0.0001,_0x36d72b;}),_0x580f49='',_0x17e08a=!0x1;try{let _0x33d639=JSON[_0x4ce04c(0x67c)](_0x45e921);_0x580f49=JSON[_0x4ce04c(0x54f)](_0x33d639,null,0x2),_0x580f49=_0x580f49[_0x4ce04c(0x1ef)](/\n( +)/g,(_0x41fad5,_0x403ee1)=>{const _0x28fb5a=_0x4ce04c;let _0x303593=_0x403ee1[_0x28fb5a(0x27a)];return'\x0a'+_0x7d53aa[_0x28fb5a(0x5f2)](_0x303593*0x2);}),_0x580f49=_0x580f49[_0x4ce04c(0x1ef)](/(\d{10,}\.\d+)/g,_0x3fdb12=>_0x587493[_0x3fdb12]||_0x3fdb12);}catch(_0x3cd915){this[_0x4ce04c(0x341)][_0x4ce04c(0x1f6)](_0x4ce04c(0x548)+_0x3cd915),_0x580f49=_0x3d8947,_0x17e08a=!0x0;}return{'result':_0x580f49,'error':_0x17e08a};}[a0_0x53f180(0x899)](_0x2de9e9,_0x3b4704){const _0x138061=a0_0x53f180;if(_0x3b4704[_0x138061(0x395)][_0x138061(0x6b8)]===_0x138061(0x5d7)){this[_0x138061(0x211)]('Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão');return;}if(_0x3b4704[_0x138061(0x395)][_0x138061(0x855)]&&_0x138061(0x3bc)in _0x3b4704[_0x138061(0x395)][_0x138061(0x855)]){this[_0x138061(0x341)][_0x138061(0x242)](this['instanceName']+'\x20('+this[_0x138061(0x764)][_0x138061(0x265)]+_0x138061(0x1de));let _0x18d8fa=JSON[_0x138061(0x54f)](_0x3b4704['block'][_0x138061(0x855)]['header'],null,0x1);_0x18d8fa[_0x138061(0x27a)]>0x2&&(_0x18d8fa=_0x18d8fa['substring'](0x1,_0x18d8fa[_0x138061(0x27a)]-0x1)[_0x138061(0x2af)]()),_0x3b4704['block']['apirequest']['headerString']=_0x18d8fa;}_0x3b4704[_0x138061(0x395)][_0x138061(0x855)]&&_0x138061(0x3d3)in _0x3b4704[_0x138061(0x395)][_0x138061(0x855)]&&(this[_0x138061(0x341)][_0x138061(0x242)](this[_0x138061(0x699)]+'\x20('+this[_0x138061(0x764)][_0x138061(0x265)]+_0x138061(0x1b1)),_0x3b4704[_0x138061(0x395)][_0x138061(0x855)]['bodyString']=JSON['stringify'](_0x3b4704[_0x138061(0x395)][_0x138061(0x855)][_0x138061(0x3d3)],null,0x1)[_0x138061(0x2af)]()),_0x2de9e9['blocks'][_0x138061(0x635)](_0x3b4704['block']),this['reorderBlocks'](_0x2de9e9[_0x138061(0x680)],_0x3b4704[_0x138061(0x395)][_0x138061(0x55b)]);}[a0_0x53f180(0x36b)](_0x3667a3,_0x33c1f4){const _0x3d0de4=a0_0x53f180;let _0x1e5e18=_0x3667a3[_0x3d0de4(0x353)](_0x5abef9=>_0x5abef9[_0x3d0de4(0x55b)]===_0x33c1f4);_0x1e5e18[_0x3d0de4(0x5f0)]((_0xf9f2d,_0x541187)=>_0xf9f2d[_0x3d0de4(0x7b0)]-_0x541187[_0x3d0de4(0x7b0)]),_0x1e5e18[_0x3d0de4(0x313)]((_0x2d0c04,_0x45c1fa)=>_0x2d0c04[_0x3d0de4(0x7b0)]=_0x45c1fa+0x1);}async[a0_0x53f180(0x5d0)](_0x6aabc5){const _0x41a88e=a0_0x53f180;try{if(this[_0x41a88e(0x341)][_0x41a88e(0x242)](this[_0x41a88e(0x699)]+'\x20('+this['instance'][_0x41a88e(0x265)]+_0x41a88e(0x5a9)),!_0x6aabc5||!_0x6aabc5[_0x41a88e(0x824)]){this[_0x41a88e(0x211)]('Data\x20inválida\x20fornecida');return;}if(!this[_0x41a88e(0x335)]['flows'][_0x41a88e(0x479)](_0x230fe0=>_0x230fe0[_0x41a88e(0x452)]===_0x6aabc5['_id']))throw this[_0x41a88e(0x341)][_0x41a88e(0x242)](this[_0x41a88e(0x699)]+'\x20('+this[_0x41a88e(0x764)][_0x41a88e(0x265)]+_0x41a88e(0x8e8)+_0x6aabc5['_id']+_0x41a88e(0x401)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x4eaf36=await this[_0x41a88e(0x1cb)][_0x41a88e(0x72a)][_0x41a88e(0x741)]({'where':{'_id':_0x6aabc5[_0x41a88e(0x452)]}});if(!_0x4eaf36||!_0x4eaf36[_0x41a88e(0x6b1)]?.['includes'](this[_0x41a88e(0x764)][_0x41a88e(0x265)]))throw this['logger'][_0x41a88e(0x1f6)](this['instanceName']+'\x20('+this[_0x41a88e(0x764)]['wuid']+_0x41a88e(0x60d)+_0x6aabc5[_0x41a88e(0x452)]+_0x41a88e(0x7b3)),new m(_0x41a88e(0x337)+_0x6aabc5[_0x41a88e(0x452)]+_0x41a88e(0x7b3));if(!_0x4eaf36[_0x41a88e(0x6bc)]?.['includes'](this['instance'][_0x41a88e(0x265)]))throw new m(_0x41a88e(0x528));let {replyOption:_0x45198a}=_0x6aabc5;_0x45198a?.[_0x41a88e(0x2c1)]?(this[_0x41a88e(0x49c)](_0x4eaf36,_0x6aabc5),this[_0x41a88e(0x8c5)](_0x4eaf36['replyOptions'],_0x6aabc5[_0x41a88e(0x824)][_0x41a88e(0x256)])):_0x45198a[_0x41a88e(0x452)]?(await this['updateReplyOption'](_0x4eaf36,_0x6aabc5),this[_0x41a88e(0x8c5)](_0x4eaf36['replyOptions'],_0x6aabc5[_0x41a88e(0x824)][_0x41a88e(0x256)])):(this[_0x41a88e(0x2d1)](_0x4eaf36,_0x6aabc5),this[_0x41a88e(0x8c5)](_0x4eaf36[_0x41a88e(0x48d)],_0x6aabc5[_0x41a88e(0x824)][_0x41a88e(0x256)]));let _0x4df6ad=await this[_0x41a88e(0x1cb)][_0x41a88e(0x72a)][_0x41a88e(0x5ea)](_0x4eaf36['_id'],_0x4eaf36);if(!_0x4df6ad)throw new Error(_0x41a88e(0x2b5));return _0x4df6ad;}catch(_0x1139db){this[_0x41a88e(0x211)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x1139db);}}[a0_0x53f180(0x8c5)](_0x2274a9,_0x1a3d37){const _0x5004c4=a0_0x53f180;_0x2274a9[_0x5004c4(0x313)](_0x12c915=>{const _0x390484=_0x5004c4;_0x12c915[_0x390484(0x256)]===_0x1a3d37&&_0x12c915['order']===void 0x0&&(_0x12c915[_0x390484(0x7b0)]=0x270f);});let _0x245027=_0x2274a9['filter'](_0x13be46=>_0x13be46[_0x5004c4(0x256)]===_0x1a3d37);_0x245027[_0x5004c4(0x5f0)]((_0x4d43a4,_0x2a1cc3)=>_0x4d43a4['order']-_0x2a1cc3['order']),_0x245027[_0x5004c4(0x313)]((_0x4e6950,_0x440a0f)=>{const _0x3ca354=_0x5004c4;_0x4e6950[_0x3ca354(0x7b0)]=_0x440a0f+0x1;}),_0x2274a9[_0x5004c4(0x313)](_0x1b5778=>{const _0x50cbd5=_0x5004c4;if(_0x1b5778['blockId']===_0x1a3d37){let _0x365844=_0x245027[_0x50cbd5(0x479)](_0x44256a=>_0x44256a['_id']&&_0x1b5778[_0x50cbd5(0x452)]&&_0x44256a[_0x50cbd5(0x452)]['toString']()===_0x1b5778[_0x50cbd5(0x452)][_0x50cbd5(0x76d)]());_0x365844&&(_0x1b5778[_0x50cbd5(0x7b0)]=_0x365844[_0x50cbd5(0x7b0)]);}});}[a0_0x53f180(0x49c)](_0x1831bd,_0x5da507){const _0x418908=a0_0x53f180;let {replyOption:_0x20fb19}=_0x5da507;if(!_0x20fb19[_0x418908(0x452)]){this['throwAndLogError'](_0x418908(0x66b));return;}if(!_0x1831bd[_0x418908(0x48d)][_0x418908(0x479)](_0x56a2ab=>_0x56a2ab['_id']['toString']()===_0x5da507[_0x418908(0x824)][_0x418908(0x452)][_0x418908(0x76d)]())){this[_0x418908(0x211)]('ReplyOption\x20com\x20ID\x20'+_0x20fb19[_0x418908(0x452)]+'\x20não\x20encontrado');return;}_0x1831bd[_0x418908(0x48d)]=_0x1831bd[_0x418908(0x48d)][_0x418908(0x353)](_0x475857=>_0x475857[_0x418908(0x452)][_0x418908(0x76d)]()!==_0x5da507[_0x418908(0x824)]['_id'][_0x418908(0x76d)]());}async['updateReplyOption'](_0x2cdcfb,_0x25a98e){const _0x564249=a0_0x53f180;let _0x1f7b83=_0x2cdcfb[_0x564249(0x48d)]['findIndex'](_0x27e661=>_0x27e661['_id'][_0x564249(0x76d)]()===_0x25a98e['replyOption'][_0x564249(0x452)][_0x564249(0x76d)]());if(_0x1f7b83===-0x1){this[_0x564249(0x211)](_0x564249(0x1b7)+_0x25a98e['replyOption'][_0x564249(0x452)]+_0x564249(0x8e3));return;}for(let _0x285863 in _0x25a98e[_0x564249(0x824)])_0x25a98e[_0x564249(0x824)][_0x564249(0x4cd)](_0x285863)&&(_0x2cdcfb[_0x564249(0x48d)][_0x1f7b83][_0x285863]=_0x25a98e[_0x564249(0x824)][_0x285863]);}['addReplyOption'](_0x2246de,_0x1d371d){const _0x1486d5=a0_0x53f180;_0x2246de['replyOptions'][_0x1486d5(0x635)](_0x1d371d[_0x1486d5(0x824)]);}async[a0_0x53f180(0x294)](_0x78376c){const _0x38c078=a0_0x53f180;this[_0x38c078(0x341)][_0x38c078(0x242)](this[_0x38c078(0x699)]+'\x20('+this['instance'][_0x38c078(0x265)]+_0x38c078(0x57b)+JSON['stringify'](_0x78376c,null,0x2));try{if(this[_0x38c078(0x341)]['verbose'](this[_0x38c078(0x699)]+'\x20('+this['instance']['wuid']+_0x38c078(0x42a)),!this[_0x38c078(0x335)][_0x38c078(0x777)][_0x38c078(0x479)](_0x1e35c6=>_0x1e35c6['_id']===_0x78376c[_0x38c078(0x452)]))throw this[_0x38c078(0x341)]['verbose'](this[_0x38c078(0x699)]+'\x20('+this['instance'][_0x38c078(0x265)]+_0x38c078(0x8e8)+_0x78376c[_0x38c078(0x452)]+_0x38c078(0x401)),new m(_0x38c078(0x2db));let _0x4a5260=await this[_0x38c078(0x1cb)][_0x38c078(0x72a)][_0x38c078(0x741)]({'where':{'_id':_0x78376c[_0x38c078(0x452)]}});if(!_0x4a5260||!_0x4a5260[_0x38c078(0x6b1)]?.['includes'](this[_0x38c078(0x764)][_0x38c078(0x265)]))throw this['logger'][_0x38c078(0x1f6)](this[_0x38c078(0x699)]+'\x20('+this[_0x38c078(0x764)][_0x38c078(0x265)]+_0x38c078(0x60d)+_0x78376c[_0x38c078(0x452)]+_0x38c078(0x7b3)),new m('Flow\x20\x27'+_0x78376c[_0x38c078(0x452)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x4a5260[_0x38c078(0x6bc)]?.[_0x38c078(0x87c)](this[_0x38c078(0x764)]['wuid']))throw new m(_0x38c078(0x528));if(_0x78376c[_0x38c078(0x7f2)]&&_0x78376c['group']?.[_0x38c078(0x2c1)]===!0x0){if(this[_0x38c078(0x341)]['verbose'](this[_0x38c078(0x699)]+'\x20('+this[_0x38c078(0x764)][_0x38c078(0x265)]+_0x38c078(0x2ec)),_0x78376c[_0x38c078(0x7f2)][_0x38c078(0x391)]===!0x0)return{'message':_0x38c078(0x1f9)};if(_0x4a5260[_0x38c078(0x680)][_0x38c078(0x485)](_0x143dce=>_0x143dce[_0x38c078(0x55b)][_0x38c078(0x76d)]()===_0x78376c[_0x38c078(0x7f2)][_0x38c078(0x452)]))return this[_0x38c078(0x341)][_0x38c078(0x242)](this[_0x38c078(0x699)]+'\x20('+this[_0x38c078(0x764)][_0x38c078(0x265)]+_0x38c078(0x4d0)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x4a5260['groups']=_0x4a5260[_0x38c078(0x6eb)]['filter'](_0x5019ad=>_0x5019ad[_0x38c078(0x452)][_0x38c078(0x76d)]()!==_0x78376c[_0x38c078(0x7f2)][_0x38c078(0x452)]);}else{if(_0x78376c[_0x38c078(0x7f2)]){if(_0x78376c[_0x38c078(0x7f2)][_0x38c078(0x391)]===!0x0)return{'message':_0x38c078(0x4d5)};if(_0x78376c[_0x38c078(0x7f2)][_0x38c078(0x452)]){let _0x3d7c31=_0x4a5260[_0x38c078(0x6eb)][_0x38c078(0x479)](_0x1956b9=>_0x1956b9[_0x38c078(0x452)][_0x38c078(0x76d)]()===_0x78376c[_0x38c078(0x7f2)][_0x38c078(0x452)]);_0x3d7c31&&(_0x78376c[_0x38c078(0x7f2)]['x']<0x0&&(_0x78376c['group']['x']=0x0),_0x78376c['group']['y']<0x0&&(_0x78376c[_0x38c078(0x7f2)]['y']=0x0),Object['assign'](_0x3d7c31,_0x78376c['group']));}else _0x4a5260[_0x38c078(0x6eb)]['push'](_0x78376c['group']);}}let _0x38f2dc=await this['repository'][_0x38c078(0x72a)][_0x38c078(0x5ea)](_0x4a5260[_0x38c078(0x452)],_0x4a5260);if(!_0x38f2dc)throw new Error(_0x38c078(0x2b5));return _0x38f2dc;}catch(_0x476652){let _0xae8ff7=_0x38c078(0x71e),_0x12d114=_0x476652 instanceof Error?_0x476652[_0x38c078(0x82d)]:typeof _0x476652==_0x38c078(0x204)?JSON[_0x38c078(0x54f)](_0x476652):_0x476652,_0x16e690=_0xae8ff7+':\x20'+_0x12d114;throw this[_0x38c078(0x341)][_0x38c078(0x1f6)](this[_0x38c078(0x699)]+'\x20('+this[_0x38c078(0x764)][_0x38c078(0x265)]+_0x38c078(0x6ae)+_0x16e690),new m(_0x16e690);}}async[a0_0x53f180(0x1db)](_0x57aa31){const _0x1d08e4=a0_0x53f180;try{if(this[_0x1d08e4(0x341)][_0x1d08e4(0x242)](this['instanceName']+'\x20('+this[_0x1d08e4(0x764)][_0x1d08e4(0x265)]+_0x1d08e4(0x827)),!this[_0x1d08e4(0x335)][_0x1d08e4(0x777)]['find'](_0x4551df=>_0x4551df[_0x1d08e4(0x452)]===_0x57aa31['_id']))throw this[_0x1d08e4(0x341)][_0x1d08e4(0x242)](this[_0x1d08e4(0x699)]+'\x20('+this[_0x1d08e4(0x764)][_0x1d08e4(0x265)]+_0x1d08e4(0x8e8)+_0x57aa31[_0x1d08e4(0x452)]+_0x1d08e4(0x401)),new m(_0x1d08e4(0x2db));let _0x194111=await this[_0x1d08e4(0x1cb)][_0x1d08e4(0x72a)][_0x1d08e4(0x741)]({'where':{'_id':_0x57aa31[_0x1d08e4(0x452)]}});if(!_0x194111||!_0x194111[_0x1d08e4(0x6b1)]?.[_0x1d08e4(0x87c)](this[_0x1d08e4(0x764)][_0x1d08e4(0x265)]))throw this[_0x1d08e4(0x341)][_0x1d08e4(0x1f6)](this[_0x1d08e4(0x699)]+'\x20('+this[_0x1d08e4(0x764)][_0x1d08e4(0x265)]+_0x1d08e4(0x60d)+_0x57aa31[_0x1d08e4(0x452)]+_0x1d08e4(0x7b3)),new m('Flow\x20\x27'+_0x57aa31[_0x1d08e4(0x452)]+_0x1d08e4(0x7b3));if(!_0x194111[_0x1d08e4(0x6bc)]?.[_0x1d08e4(0x87c)](this[_0x1d08e4(0x764)][_0x1d08e4(0x265)]))throw new m(_0x1d08e4(0x528));let _0x14ae83=!0x1;if(_0x57aa31[_0x1d08e4(0x538)]?.['delete']===!0x0)_0x194111[_0x1d08e4(0x2fd)]=_0x194111[_0x1d08e4(0x2fd)][_0x1d08e4(0x353)](_0x335bcb=>_0x335bcb&&_0x57aa31[_0x1d08e4(0x538)]&&_0x335bcb[_0x1d08e4(0x452)]&&_0x57aa31['condition']['_id']&&_0x335bcb[_0x1d08e4(0x452)][_0x1d08e4(0x76d)]()!==_0x57aa31['condition']['_id'][_0x1d08e4(0x76d)]()),_0x14ae83=!0x0;else{let _0x3fefba=_0x194111[_0x1d08e4(0x2fd)][_0x1d08e4(0x479)](_0xc1d791=>_0xc1d791&&_0x57aa31['condition']&&_0xc1d791['_id']&&_0x57aa31[_0x1d08e4(0x538)][_0x1d08e4(0x452)]&&_0xc1d791[_0x1d08e4(0x452)][_0x1d08e4(0x76d)]()===_0x57aa31[_0x1d08e4(0x538)][_0x1d08e4(0x452)]['toString']());_0x3fefba?(_0x14ae83=_0x3fefba[_0x1d08e4(0x7b0)]!==_0x57aa31[_0x1d08e4(0x538)][_0x1d08e4(0x7b0)],Object[_0x1d08e4(0x8bc)](_0x3fefba,_0x57aa31['condition'])):(_0x194111[_0x1d08e4(0x2fd)][_0x1d08e4(0x635)](_0x57aa31[_0x1d08e4(0x538)]),_0x14ae83=!0x0);}if(_0x14ae83){_0x194111[_0x1d08e4(0x2fd)][_0x1d08e4(0x5f0)]((_0x96af23,_0x4850b3)=>_0x96af23[_0x1d08e4(0x7b0)]>_0x4850b3[_0x1d08e4(0x7b0)]?0x1:_0x4850b3[_0x1d08e4(0x7b0)]>_0x96af23['order']?-0x1:0x0);for(let _0x51b8bf=0x0;_0x51b8bf<_0x194111[_0x1d08e4(0x2fd)][_0x1d08e4(0x27a)];_0x51b8bf++)_0x194111[_0x1d08e4(0x2fd)][_0x51b8bf][_0x1d08e4(0x7b0)]=_0x51b8bf+0x1;_0x194111['conditions'][_0x1d08e4(0x27a)]>0x0&&(_0x194111[_0x1d08e4(0x2fd)][0x0][_0x1d08e4(0x895)]=_0x1d08e4(0x6ac));}let _0x55c624=await this[_0x1d08e4(0x1cb)][_0x1d08e4(0x72a)][_0x1d08e4(0x5ea)](_0x194111[_0x1d08e4(0x452)],_0x194111);if(!_0x55c624)throw new Error(_0x1d08e4(0x2b5));return _0x55c624;}catch(_0x5c8aaa){let _0x1b5100=_0x1d08e4(0x8a4),_0x44feca=_0x5c8aaa instanceof Error?_0x5c8aaa['message']:typeof _0x5c8aaa==_0x1d08e4(0x204)?JSON[_0x1d08e4(0x54f)](_0x5c8aaa):_0x5c8aaa,_0x43895d=_0x1b5100+':\x20'+_0x44feca;throw this[_0x1d08e4(0x341)][_0x1d08e4(0x1f6)](this[_0x1d08e4(0x699)]+'\x20('+this['instance'][_0x1d08e4(0x265)]+_0x1d08e4(0x6ae)+_0x43895d),new m(_0x43895d);}}async[a0_0x53f180(0x7bd)](_0x9bf6d){const _0x301959=a0_0x53f180;try{if(this[_0x301959(0x341)]['verbose'](this[_0x301959(0x699)]+'\x20('+this[_0x301959(0x764)]['wuid']+_0x301959(0x77b)),!this['AutomateSystem'][_0x301959(0x777)][_0x301959(0x479)](_0x5f4ede=>_0x5f4ede[_0x301959(0x452)]===_0x9bf6d[_0x301959(0x452)]))throw this[_0x301959(0x341)][_0x301959(0x242)](this[_0x301959(0x699)]+'\x20('+this['instance']['wuid']+_0x301959(0x8e8)+_0x9bf6d[_0x301959(0x452)]+_0x301959(0x401)),new m(_0x301959(0x2db));let _0x12a052=await this[_0x301959(0x1cb)][_0x301959(0x72a)][_0x301959(0x741)]({'where':{'_id':_0x9bf6d[_0x301959(0x452)]}});if(!_0x12a052||!_0x12a052[_0x301959(0x6b1)]?.[_0x301959(0x87c)](this[_0x301959(0x764)][_0x301959(0x265)]))throw this['logger']['error'](this[_0x301959(0x699)]+'\x20('+this[_0x301959(0x764)][_0x301959(0x265)]+_0x301959(0x60d)+_0x9bf6d['_id']+_0x301959(0x7b3)),new m(_0x301959(0x337)+_0x9bf6d[_0x301959(0x452)]+_0x301959(0x7b3));if(!_0x12a052[_0x301959(0x6bc)]?.[_0x301959(0x87c)](this[_0x301959(0x764)]['wuid']))throw new m('Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.');let _0x58b51e=!0x1;if(_0x9bf6d[_0x301959(0x7e7)]?.[_0x301959(0x2c1)]===!0x0)_0x12a052['varedits']=_0x12a052[_0x301959(0x3b1)][_0x301959(0x353)](_0x41f450=>_0x41f450&&_0x9bf6d[_0x301959(0x7e7)]&&_0x41f450['_id']&&_0x9bf6d['varedit'][_0x301959(0x452)]&&_0x41f450[_0x301959(0x452)][_0x301959(0x76d)]()!==_0x9bf6d['varedit'][_0x301959(0x452)][_0x301959(0x76d)]()),_0x58b51e=!0x0;else{let _0x30764c=_0x12a052[_0x301959(0x3b1)][_0x301959(0x479)](_0x58bcfb=>_0x58bcfb&&_0x9bf6d[_0x301959(0x7e7)]&&_0x58bcfb[_0x301959(0x452)]&&_0x9bf6d[_0x301959(0x7e7)][_0x301959(0x452)]&&_0x58bcfb[_0x301959(0x452)][_0x301959(0x76d)]()===_0x9bf6d[_0x301959(0x7e7)][_0x301959(0x452)][_0x301959(0x76d)]());_0x30764c?(_0x58b51e=_0x30764c[_0x301959(0x7b0)]!==_0x9bf6d[_0x301959(0x7e7)][_0x301959(0x7b0)],Object[_0x301959(0x8bc)](_0x30764c,_0x9bf6d[_0x301959(0x7e7)])):(_0x12a052[_0x301959(0x3b1)]['push'](_0x9bf6d[_0x301959(0x7e7)]),_0x58b51e=!0x0);}if(_0x58b51e){_0x12a052[_0x301959(0x3b1)][_0x301959(0x5f0)]((_0x323f36,_0x3a3176)=>_0x323f36['order']>_0x3a3176[_0x301959(0x7b0)]?0x1:_0x3a3176[_0x301959(0x7b0)]>_0x323f36[_0x301959(0x7b0)]?-0x1:0x0);for(let _0xf6fdb8=0x0;_0xf6fdb8<_0x12a052['varedits'][_0x301959(0x27a)];_0xf6fdb8++)_0x12a052['varedits'][_0xf6fdb8][_0x301959(0x7b0)]=_0xf6fdb8+0x1;}let _0x4e10e2=await this[_0x301959(0x1cb)][_0x301959(0x72a)]['updateOne'](_0x12a052[_0x301959(0x452)],_0x12a052);if(!_0x4e10e2)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x4e10e2;}catch(_0x286bab){let _0x305812=_0x301959(0x8a4),_0x13917e=_0x286bab instanceof Error?_0x286bab[_0x301959(0x82d)]:typeof _0x286bab==_0x301959(0x204)?JSON[_0x301959(0x54f)](_0x286bab):_0x286bab,_0x26f17b=_0x305812+':\x20'+_0x13917e;throw this[_0x301959(0x341)][_0x301959(0x1f6)](this['instanceName']+'\x20('+this[_0x301959(0x764)][_0x301959(0x265)]+_0x301959(0x6ae)+_0x26f17b),new m(_0x26f17b);}}async[a0_0x53f180(0x33e)](_0x3accc8){const _0x48206e=a0_0x53f180;try{if(this[_0x48206e(0x341)][_0x48206e(0x242)](this[_0x48206e(0x699)]+'\x20('+this[_0x48206e(0x764)][_0x48206e(0x265)]+_0x48206e(0x514)),!this['AutomateSystem']['flows'][_0x48206e(0x479)](_0x5e323e=>_0x5e323e[_0x48206e(0x452)]===_0x3accc8['_id']))throw this[_0x48206e(0x341)][_0x48206e(0x242)](this[_0x48206e(0x699)]+'\x20('+this[_0x48206e(0x764)][_0x48206e(0x265)]+'):\x20Fluxo\x20\x27'+_0x3accc8['_id']+_0x48206e(0x401)),new m(_0x48206e(0x2db));let _0x36a21d=await this['repository']['flow'][_0x48206e(0x741)]({'where':{'_id':_0x3accc8[_0x48206e(0x452)]}});if(!_0x36a21d||!_0x36a21d[_0x48206e(0x6b1)]?.[_0x48206e(0x87c)](this['instance'][_0x48206e(0x265)]))throw this[_0x48206e(0x341)]['error'](this[_0x48206e(0x699)]+'\x20('+this['instance'][_0x48206e(0x265)]+_0x48206e(0x60d)+_0x3accc8[_0x48206e(0x452)]+_0x48206e(0x7b3)),new m(_0x48206e(0x337)+_0x3accc8[_0x48206e(0x452)]+_0x48206e(0x7b3));if(!_0x36a21d[_0x48206e(0x6bc)]?.[_0x48206e(0x87c)](this[_0x48206e(0x764)][_0x48206e(0x265)]))throw new m(_0x48206e(0x528));_0x3accc8[_0x48206e(0x2f6)][_0x48206e(0x7b2)]=_0x3accc8['variable'][_0x48206e(0x7b2)]['trim'](),_0x3accc8[_0x48206e(0x2f6)][_0x48206e(0x7b2)][_0x48206e(0x7ee)]('_')&&(_0x3accc8[_0x48206e(0x2f6)]['name']=_0x3accc8[_0x48206e(0x2f6)][_0x48206e(0x7b2)][_0x48206e(0x4b7)](0x1)),_0x3accc8[_0x48206e(0x2f6)][_0x48206e(0x7b2)]=_0x3accc8['variable'][_0x48206e(0x7b2)][_0x48206e(0x2af)]();let _0x273f4a=_0x36a21d[_0x48206e(0x7e8)][_0x48206e(0x479)](_0x4a480f=>_0x4a480f[_0x48206e(0x7b2)]===_0x3accc8[_0x48206e(0x2f6)][_0x48206e(0x7b2)]);if(_0x273f4a?.[_0x48206e(0x500)]===!0x0)throw new Error(_0x48206e(0x3e4));if(_0x3accc8[_0x48206e(0x2f6)]?.[_0x48206e(0x2c1)]===!0x0){if(!_0x273f4a)return{'message':_0x48206e(0x2f7)};_0x36a21d[_0x48206e(0x7e8)]=_0x36a21d[_0x48206e(0x7e8)][_0x48206e(0x353)](_0x40f642=>_0x40f642['name']!==_0x3accc8[_0x48206e(0x2f6)]['name']);}else _0x273f4a?Object['assign'](_0x273f4a,_0x3accc8['variable']):_0x36a21d[_0x48206e(0x7e8)][_0x48206e(0x635)](_0x3accc8['variable']);let _0x5bcc1c=await this[_0x48206e(0x1cb)][_0x48206e(0x72a)][_0x48206e(0x5ea)](_0x36a21d[_0x48206e(0x452)],_0x36a21d);if(!_0x5bcc1c)throw new Error(_0x48206e(0x2b5));return _0x5bcc1c;}catch(_0x5cb4f8){let _0x31f860=_0x48206e(0x19f),_0x5c6bd8=_0x5cb4f8 instanceof Error?_0x5cb4f8[_0x48206e(0x82d)]:typeof _0x5cb4f8==_0x48206e(0x204)?JSON[_0x48206e(0x54f)](_0x5cb4f8):_0x5cb4f8,_0x103b7a=_0x31f860+':\x20'+_0x5c6bd8;throw this[_0x48206e(0x341)]['error'](this[_0x48206e(0x699)]+'\x20('+this['instance']['wuid']+_0x48206e(0x6ae)+_0x103b7a),new m(_0x103b7a);}}async['startFlow'](_0x1a2cb5){const _0x4cf104=a0_0x53f180;let _0x62b843=null;try{if(!this[_0x4cf104(0x335)]?.[_0x4cf104(0x72d)][_0x4cf104(0x531)])throw new m(_0x4cf104(0x640));this[_0x4cf104(0x341)][_0x4cf104(0x242)](this['instanceName']+'\x20('+this[_0x4cf104(0x764)][_0x4cf104(0x265)]+'):\x20Iniciando\x20bot...');let _0x4f7d6c=(await this[_0x4cf104(0x1e8)]({'numbers':[_0x1a2cb5[_0x4cf104(0x87e)]]}))[0x0];if(!_0x4f7d6c['exists']&&!(0x0,w[_0x4cf104(0x6e3)])(_0x4f7d6c[_0x4cf104(0x5c7)])&&!_0x4f7d6c[_0x4cf104(0x5c7)][_0x4cf104(0x87c)](_0x4cf104(0x5f5)))throw _0x62b843=JSON[_0x4cf104(0x54f)](_0x4f7d6c,null,0x2),new m(_0x4f7d6c);let _0x67d561;if(_0x1a2cb5[_0x4cf104(0x7b2)]['length']===0x24&&/^[0-9a-fA-F-]{36}$/['test'](_0x1a2cb5['name'])?_0x67d561=this[_0x4cf104(0x335)][_0x4cf104(0x777)][_0x4cf104(0x479)](_0x4d8640=>_0x4d8640[_0x4cf104(0x452)]===_0x1a2cb5[_0x4cf104(0x7b2)]):_0x67d561=this[_0x4cf104(0x335)]['flows'][_0x4cf104(0x479)](_0x3a9827=>_0x3a9827[_0x4cf104(0x7b2)]===_0x1a2cb5[_0x4cf104(0x7b2)]),!_0x67d561)throw this[_0x4cf104(0x341)]['verbose'](this[_0x4cf104(0x699)]+'\x20('+this['instance'][_0x4cf104(0x265)]+_0x4cf104(0x8e8)+_0x1a2cb5[_0x4cf104(0x7b2)]+'\x27\x20não\x20encontrado'),new m(_0x4cf104(0x2db));let _0x214e9e=await this[_0x4cf104(0x1cb)][_0x4cf104(0x72a)]['findOne']({'where':{'_id':_0x67d561['_id']}});if(!_0x214e9e||!_0x214e9e['whoCanUse']?.[_0x4cf104(0x87c)](this[_0x4cf104(0x764)]['wuid']))throw this['logger']['error'](this[_0x4cf104(0x699)]+'\x20('+this[_0x4cf104(0x764)]['wuid']+_0x4cf104(0x60d)+_0x67d561['_id']+_0x4cf104(0x7b3)),_0x62b843='Flow\x20\x27'+_0x67d561[_0x4cf104(0x452)]+_0x4cf104(0x7b3),new m(_0x62b843);let _0x29da0a=await this[_0x4cf104(0x39a)](_0x214e9e,_0x4f7d6c[_0x4cf104(0x5c7)],_0x1a2cb5[_0x4cf104(0x7ce)]);if(_0x29da0a){this['logger'][_0x4cf104(0x242)](this[_0x4cf104(0x699)]+'\x20('+this[_0x4cf104(0x764)]['wuid']+_0x4cf104(0x53c));let _0x2cedad=await this[_0x4cf104(0x39e)](_0x29da0a);return _0x2cedad&&await this['processblock'](_0x29da0a,_0x2cedad),{'message':_0x4cf104(0x206)+_0x1a2cb5[_0x4cf104(0x87e)]};}}catch(_0x466a8a){if(this[_0x4cf104(0x341)][_0x4cf104(0x1f6)](this[_0x4cf104(0x699)]+'\x20('+this[_0x4cf104(0x764)][_0x4cf104(0x265)]+_0x4cf104(0x3b7)+(_0x466a8a instanceof Error?_0x466a8a[_0x4cf104(0x82d)]:JSON['stringify'](_0x466a8a,null,0x2))),_0x62b843=_0x466a8a instanceof Error?_0x466a8a[_0x4cf104(0x82d)]:JSON[_0x4cf104(0x54f)](_0x466a8a,null,0x2),_0x62b843)throw new m(_0x4cf104(0x8ab)+_0x62b843);}}async[a0_0x53f180(0x534)](_0x1a7976,_0x3cda23,_0x54ebc9){const _0x808196=a0_0x53f180;let _0x4cf7b7=null;try{if(!this[_0x808196(0x335)]?.[_0x808196(0x72d)][_0x808196(0x531)])throw new m('Fluxos\x20não\x20estão\x20ativados');if(this[_0x808196(0x341)][_0x808196(0x242)](this[_0x808196(0x699)]+'\x20('+this[_0x808196(0x764)][_0x808196(0x265)]+_0x808196(0x7ff)),_0x3cda23){let _0x532bd0=(await this[_0x808196(0x1e8)]({'numbers':[_0x3cda23]}))[0x0];if(!_0x532bd0['exists']&&!(0x0,w[_0x808196(0x6e3)])(_0x532bd0['jid'])&&!_0x532bd0[_0x808196(0x5c7)][_0x808196(0x87c)]('@broadcast'))throw _0x4cf7b7=JSON['stringify'](_0x532bd0,null,0x2),new m(_0x532bd0);_0x3cda23=_0x532bd0[_0x808196(0x5c7)];}else _0x3cda23||(_0x3cda23=(0x0,X['v4'])());let _0x209639=await this['repository'][_0x808196(0x72a)][_0x808196(0x741)]({'where':{'_id':_0x1a7976}});if(!_0x209639||!_0x209639['whoCanUse']?.[_0x808196(0x87c)](this[_0x808196(0x764)]['wuid']))throw this[_0x808196(0x341)][_0x808196(0x1f6)](this[_0x808196(0x699)]+'\x20('+this['instance']['wuid']+'):\x20Flow\x20\x27'+_0x1a7976+_0x808196(0x7b3)),new m(_0x808196(0x337)+_0x1a7976+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');let _0x569bbb=await this[_0x808196(0x39a)](_0x209639,_0x3cda23,null);if(_0x569bbb){this[_0x808196(0x341)]['verbose'](this[_0x808196(0x699)]+'\x20('+this['instance']['wuid']+_0x808196(0x3db));let _0x50490d;if(_0x54ebc9){let _0x114520=_0x569bbb['chatLog']['realVariables'],_0x263db4=this[_0x808196(0x47c)](_0x54ebc9);Object[_0x808196(0x8bc)](_0x114520,_0x263db4),_0x569bbb[_0x808196(0x8a6)][_0x808196(0x4ee)]=_0x114520,_0x50490d={'error':!0x1,'apiResponse':_0x54ebc9};}let _0x4f9b64=await this[_0x808196(0x39e)](_0x569bbb);return _0x4f9b64&&await this[_0x808196(0x3fe)](_0x569bbb,_0x4f9b64),{'message':_0x808196(0x2c9)};}}catch(_0x5776df){if(this[_0x808196(0x341)][_0x808196(0x1f6)](this[_0x808196(0x699)]+'\x20('+this[_0x808196(0x764)][_0x808196(0x265)]+_0x808196(0x3b7)+(_0x5776df instanceof Error?_0x5776df['message']:JSON[_0x808196(0x54f)](_0x5776df,null,0x2))),_0x4cf7b7=_0x5776df instanceof Error?_0x5776df['message']:JSON[_0x808196(0x54f)](_0x5776df,null,0x2),_0x4cf7b7)throw new m(_0x808196(0x8ab)+_0x4cf7b7);}}async['closeExistingConversations'](_0x51d5ec){const _0xdebd4f=a0_0x53f180;try{let _0x44ea46={'remoteJid':_0x51d5ec,'status':_0xdebd4f(0x488)},_0x54dda5={'status':_0xdebd4f(0x634)},_0x5a9aea=await this[_0xdebd4f(0x1cb)][_0xdebd4f(0x1d3)]['updateMany'](_0x44ea46,_0x54dda5,this['instance'][_0xdebd4f(0x265)]);return this[_0xdebd4f(0x341)][_0xdebd4f(0x242)](this[_0xdebd4f(0x699)]+'\x20('+this[_0xdebd4f(0x764)]['wuid']+_0xdebd4f(0x26e)),_0x5a9aea;}catch(_0xd02888){throw this[_0xdebd4f(0x341)]['error'](this[_0xdebd4f(0x699)]+'\x20('+this['instance'][_0xdebd4f(0x265)]+_0xdebd4f(0x5ae)+_0xd02888[_0xdebd4f(0x82d)]),_0xd02888;}}async[a0_0x53f180(0x39a)](_0x78fdba,_0x41cb42,_0x20662c){const _0x1ff217=a0_0x53f180;this[_0x1ff217(0x341)][_0x1ff217(0x242)](this['instanceName']+'\x20('+this[_0x1ff217(0x764)]['wuid']+_0x1ff217(0x649)),await this[_0x1ff217(0x761)](_0x41cb42);try{let _0x3db95f=require(_0x1ff217(0x59c))[_0x1ff217(0x4e5)],_0x54a69d=Date[_0x1ff217(0x6bb)](),_0x3cb5f8=_0x1ff217(0x5d7),_0x344539={},_0x5685a7={},_0x148381=this[_0x1ff217(0x335)]['flows']['find'](_0x4062a6=>_0x4062a6[_0x1ff217(0x452)]===_0x78fdba[_0x1ff217(0x452)]?.[_0x1ff217(0x76d)]()),_0x37f215=_0x148381?.['minutesToClose']??_0x78fdba[_0x1ff217(0x23d)]??0x0,_0x270cf9=_0x148381?.['readMessages']??_0x78fdba['readMessages']??!0x1,_0x50638a={'flowId':_0x78fdba[_0x1ff217(0x452)],..._0x78fdba,'chatLog':null},_0x56d30f=await this[_0x1ff217(0x5c9)](_0x50638a['variables']),_0x3a17aa=await this[_0x1ff217(0x600)](_0x41cb42),_0x4f47e9={..._0x56d30f,..._0x3a17aa,'_remoteJid':_0x41cb42},_0x5a15e4={'lastReceivedMessage':_0x344539,'lastSendMessage':_0x5685a7,'lastBlockId':_0x3cb5f8,'lastCondition':!0x0,'realVariables':_0x4f47e9};_0x50638a[_0x1ff217(0x8a6)]=_0x5a15e4,_0x50638a[_0x1ff217(0x8a6)][_0x1ff217(0x4ee)]={..._0x4f47e9,..._0x20662c},delete _0x50638a[_0x1ff217(0x452)],_0x50638a[_0x1ff217(0x452)]=new _0x3db95f(),_0x50638a[_0x1ff217(0x66a)]=_0x54a69d,_0x50638a[_0x1ff217(0x315)]='open',_0x50638a[_0x1ff217(0x87e)]=_0x41cb42,_0x50638a[_0x1ff217(0x23d)]=_0x37f215,_0x50638a[_0x1ff217(0x6ed)]=_0x270cf9,_0x50638a[_0x1ff217(0x452)]=_0x78fdba[_0x1ff217(0x452)];let _0x1cedf6=await this['repository']['flowConversation'][_0x1ff217(0x5ea)](_0x50638a[_0x1ff217(0x452)],_0x50638a,this[_0x1ff217(0x764)][_0x1ff217(0x265)]);return this['logger'][_0x1ff217(0x242)](this[_0x1ff217(0x699)]+'\x20('+this['instance']['wuid']+_0x1ff217(0x1ea)),_0x1cedf6?_0x50638a:null;}catch(_0x56b1f6){let _0x430105='Erro\x20ao\x20copiar\x20o\x20documento',_0x10d35c=_0x56b1f6 instanceof Error?_0x56b1f6[_0x1ff217(0x82d)]:typeof _0x56b1f6==_0x1ff217(0x204)?JSON[_0x1ff217(0x54f)](_0x56b1f6):_0x56b1f6,_0x3cc32c=_0x430105+':\x20'+_0x10d35c;throw this[_0x1ff217(0x341)][_0x1ff217(0x1f6)](this['instanceName']+'\x20('+this['instance'][_0x1ff217(0x265)]+_0x1ff217(0x6ae)+_0x3cc32c),new m(_0x3cc32c);}}async[a0_0x53f180(0x501)](_0x5cb76b){const _0x3b1fff=a0_0x53f180;try{this[_0x3b1fff(0x341)][_0x3b1fff(0x242)](this[_0x3b1fff(0x699)]+'\x20('+this['instance'][_0x3b1fff(0x265)]+_0x3b1fff(0x3b5)),this[_0x3b1fff(0x341)][_0x3b1fff(0x242)](this['instanceName']+'\x20('+this[_0x3b1fff(0x764)]['wuid']+_0x3b1fff(0x1d5)+_0x5cb76b);let _0x2e62b2={'where':{'_id':_0x5cb76b}};return await this[_0x3b1fff(0x1cb)][_0x3b1fff(0x1d3)][_0x3b1fff(0x741)](_0x2e62b2,this[_0x3b1fff(0x764)][_0x3b1fff(0x265)]);}catch(_0x4be03d){let _0x4a925e='Erro\x20ao\x20buscar\x20a\x20conversa',_0x490e13=_0x4be03d instanceof Error?_0x4be03d[_0x3b1fff(0x82d)]:typeof _0x4be03d==_0x3b1fff(0x204)?JSON['stringify'](_0x4be03d):_0x4be03d,_0x448519=_0x4a925e+':\x20'+_0x490e13;throw this[_0x3b1fff(0x341)][_0x3b1fff(0x1f6)](this[_0x3b1fff(0x699)]+'\x20('+this[_0x3b1fff(0x764)]['wuid']+_0x3b1fff(0x6ae)+_0x448519),new m(_0x448519);}}async['fetchConversation'](_0x4d14b4){const _0xcf81e5=a0_0x53f180;try{return this[_0xcf81e5(0x341)][_0xcf81e5(0x242)](this['instanceName']+'\x20('+this['instance'][_0xcf81e5(0x265)]+'):\x20Buscando\x20conversas...'),await this[_0xcf81e5(0x1cb)][_0xcf81e5(0x1d3)]['find'](_0x4d14b4,this['instance'][_0xcf81e5(0x265)]);}catch(_0x22109b){let _0x211254=_0xcf81e5(0x690),_0x13b4e9=_0x22109b instanceof Error?_0x22109b[_0xcf81e5(0x82d)]:typeof _0x22109b==_0xcf81e5(0x204)?JSON[_0xcf81e5(0x54f)](_0x22109b):_0x22109b,_0x173fb0=_0x211254+':\x20'+_0x13b4e9;throw this[_0xcf81e5(0x341)]['error'](this[_0xcf81e5(0x699)]+'\x20('+this['instance'][_0xcf81e5(0x265)]+_0xcf81e5(0x6ae)+_0x173fb0),new m(_0x173fb0);}}async[a0_0x53f180(0x478)](_0x59fb04){const _0x40ab82=a0_0x53f180;try{return this[_0x40ab82(0x341)][_0x40ab82(0x242)](this[_0x40ab82(0x699)]+'\x20('+this[_0x40ab82(0x764)]['wuid']+_0x40ab82(0x37e)),this[_0x40ab82(0x341)][_0x40ab82(0x242)](this[_0x40ab82(0x699)]+'\x20('+this['instance'][_0x40ab82(0x265)]+_0x40ab82(0x38d)+_0x59fb04),(await this[_0x40ab82(0x1cb)][_0x40ab82(0x1d3)][_0x40ab82(0x85e)]({'where':{'_id':_0x59fb04[_0x40ab82(0x452)]}},this[_0x40ab82(0x764)][_0x40ab82(0x265)]))['deletedCount']===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x40ab82(0x238)};}catch(_0x1f2fec){let _0x15cb0a=_0x40ab82(0x6c7),_0x593fcc=_0x1f2fec instanceof Error?_0x1f2fec[_0x40ab82(0x82d)]:typeof _0x1f2fec==_0x40ab82(0x204)?JSON[_0x40ab82(0x54f)](_0x1f2fec):_0x1f2fec,_0x3d6187=_0x15cb0a+':\x20'+_0x593fcc;throw this['logger'][_0x40ab82(0x1f6)](this[_0x40ab82(0x699)]+'\x20('+this[_0x40ab82(0x764)][_0x40ab82(0x265)]+_0x40ab82(0x6ae)+_0x3d6187),new m(_0x3d6187);}}async[a0_0x53f180(0x8bd)](_0x347314){const _0x132722=a0_0x53f180;try{let {_id:_0x353097,chatLog:_0x6dd3fe,status:_0x59c5d6}=_0x347314;if(!_0x353097)return{'message':_0x132722(0x6a2)};let _0x56669b={};if(_0x59c5d6!==void 0x0&&(_0x56669b[_0x132722(0x315)]=_0x59c5d6),Object['keys'](_0x56669b)[_0x132722(0x27a)]===0x0)return{'message':_0x132722(0x790)};let _0x1bd33d=await this[_0x132722(0x1cb)][_0x132722(0x1d3)]['updateOne'](_0x353097,_0x56669b,this['instance'][_0x132722(0x265)]);return _0x1bd33d||{'message':_0x132722(0x1c3)};}catch(_0x34b39f){let _0xfaa75e=_0x132722(0x3bf),_0x576199=_0x34b39f instanceof Error?_0x34b39f['message']:typeof _0x34b39f=='object'?JSON['stringify'](_0x34b39f):_0x34b39f,_0x496c07=_0xfaa75e+':\x20'+_0x576199;throw this[_0x132722(0x341)][_0x132722(0x1f6)](this['instanceName']+'\x20('+this['instance'][_0x132722(0x265)]+'):\x20'+_0x496c07),new m(_0x496c07);}}async['editChat'](_0x41b564){const _0x425687=a0_0x53f180;try{_0x41b564[_0x425687(0x452)]=this[_0x425687(0x489)](_0x41b564[_0x425687(0x452)]);let _0x533780=await this['repository'][_0x425687(0x254)]['findOne']({'where':{'_id':_0x41b564['_id']}},this[_0x425687(0x764)][_0x425687(0x265)]);if(!_0x533780)throw new m(_0x425687(0x55f));let {_id:_0x368f36,leadInfo:_0x43ec02}=_0x41b564;if(!_0x368f36)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x41b564['delete']===_0x425687(0x241))return await this[_0x425687(0x5b5)](_0x41b564[_0x425687(0x452)]),await this[_0x425687(0x1cb)][_0x425687(0x254)][_0x425687(0x2c1)]({'where':{'_id':_0x41b564[_0x425687(0x452)]}},this[_0x425687(0x764)][_0x425687(0x265)]),await this[_0x425687(0x1cb)]['message'][_0x425687(0x2c1)]({'where':{'key':{'remoteJid':_0x41b564['_id']}}},this[_0x425687(0x764)][_0x425687(0x265)]),_0x41b564=await this[_0x425687(0x1cb)]['chat'][_0x425687(0x5ea)]({'where':{'_id':_0x41b564['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x425687(0x764)][_0x425687(0x265)]),q(this[_0x425687(0x699)],'chats',{'chat':_0x41b564}),{'message':_0x425687(0x8ed)};if(_0x41b564[_0x425687(0x2c1)]===_0x425687(0x658))return await this[_0x425687(0x1cb)][_0x425687(0x82d)][_0x425687(0x2c1)]({'where':{'key':{'remoteJid':_0x41b564[_0x425687(0x452)]}}},this[_0x425687(0x764)][_0x425687(0x265)]),_0x41b564=await this[_0x425687(0x1cb)][_0x425687(0x254)][_0x425687(0x5ea)]({'where':{'_id':_0x41b564['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x425687(0x764)][_0x425687(0x265)]),q(this[_0x425687(0x699)],_0x425687(0x1a9),{'chat':_0x41b564}),{'message':_0x425687(0x3b6)};let _0x2afbe0=(_0x4760d0,_0xbb5564,_0x2787d4)=>{const _0x591f62=_0x425687;_0x4760d0&&_0x2787d4[_0x591f62(0x313)](_0x241e5c=>{const _0x346b10=_0x591f62;_0x4760d0[_0x241e5c]!==void 0x0&&(_0xbb5564[_0x346b10(0x42f)+_0x241e5c]=_0x4760d0[_0x241e5c]);});},_0x5b7357={};if('muteEndTime'in _0x41b564&&(this['logger']['verbose'](this[_0x425687(0x699)]+'\x20('+this['instance']['wuid']+_0x425687(0x3bb)+_0x41b564[_0x425687(0x452)]),_0x41b564[_0x425687(0x845)]=_0x41b564[_0x425687(0x845)]===0x0?null:-0x1,await this[_0x425687(0x6ea)][_0x425687(0x5c1)]({'mute':_0x41b564[_0x425687(0x845)]},_0x41b564[_0x425687(0x452)]),_0x5b7357[_0x425687(0x845)]=Number(_0x41b564['muteEndTime'])),_0x43ec02&&(_0x2afbe0(_0x43ec02,_0x5b7357,[_0x425687(0x7ac),_0x425687(0x64e),_0x425687(0x2eb),'cpf','status',_0x425687(0x31b),'tags',_0x425687(0x7d7),'responsavelid','etiquetas',_0x425687(0x29a)]),Array[_0x425687(0x714)](_0x43ec02[_0x425687(0x736)])&&(_0x5b7357[_0x425687(0x298)]=_0x43ec02[_0x425687(0x736)][_0x425687(0x5bd)](_0x169ca3=>({'_id':_0x169ca3[_0x425687(0x452)],'value':_0x169ca3[_0x425687(0x3da)]}))),_0x41b564[_0x425687(0x500)][_0x425687(0x79f)]!==void 0x0)){let _0x20c313=await this[_0x425687(0x1cb)]['label']['find']({'where':{}},this[_0x425687(0x764)][_0x425687(0x265)]),_0x1d0475=new Set(_0x41b564['leadInfo'][_0x425687(0x79f)]||[]),_0xdd90d9=new Set(_0x41b564['leadInfo'][_0x425687(0x79f)]),_0x4d24fe=new Set(_0x20c313[_0x425687(0x5bd)](_0x30dbdc=>_0x30dbdc[_0x425687(0x452)])),_0x20f122=[..._0xdd90d9]['filter'](_0x2b8e2d=>!_0x1d0475[_0x425687(0x898)](_0x2b8e2d)&&_0x4d24fe['has'](_0x2b8e2d)),_0x29bd8e=[..._0x1d0475][_0x425687(0x353)](_0xe40d44=>!_0xdd90d9['has'](_0xe40d44));if(_0x5b7357[_0x425687(0x673)]=[..._0x1d0475],_0x533780&&!_0x533780[_0x425687(0x5b7)]){for(let _0x41a6c1 of _0x20f122)await this[_0x425687(0x574)](_0x41a6c1,_0x41b564[_0x425687(0x452)]),_0x1d0475[_0x425687(0x1b9)](_0x41a6c1);for(let _0x3c8ed9 of _0x29bd8e)await this[_0x425687(0x31c)](_0x3c8ed9,_0x41b564[_0x425687(0x452)]),_0x1d0475[_0x425687(0x2c1)](_0x3c8ed9);}}if(_0x41b564['unreadcount']!==void 0x0&&(_0x5b7357[_0x425687(0x5a5)]=Number(_0x41b564[_0x425687(0x5a5)])),Object[_0x425687(0x6f3)](_0x5b7357)[_0x425687(0x27a)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x5d8155=await this[_0x425687(0x1cb)][_0x425687(0x254)][_0x425687(0x5ea)]({'where':{'_id':_0x41b564['_id']}},_0x5b7357,this['instance'][_0x425687(0x265)]);return _0x5d8155&&q(this[_0x425687(0x699)],_0x425687(0x1a9),{'chat':_0x5d8155}),_0x5d8155?(this[_0x425687(0x341)][_0x425687(0x242)](this[_0x425687(0x699)]+'\x20('+this[_0x425687(0x764)][_0x425687(0x265)]+_0x425687(0x6ae)+JSON[_0x425687(0x54f)](_0x5d8155,null,0x2)),_0x5d8155):{'message':'Nenhum\x20chat\x20encontrado\x20para\x20editar.'};}catch(_0x35395e){let _0x2d6232=_0x425687(0x650),_0x4fa878=_0x35395e instanceof Error?_0x35395e[_0x425687(0x82d)]:typeof _0x35395e==_0x425687(0x204)?JSON[_0x425687(0x54f)](_0x35395e):_0x35395e,_0x106c9a=_0x2d6232+':\x20'+_0x4fa878;throw this[_0x425687(0x341)][_0x425687(0x1f6)](this[_0x425687(0x699)]+'\x20('+this[_0x425687(0x764)][_0x425687(0x265)]+_0x425687(0x6ae)+_0x106c9a),new m(_0x106c9a);}}async[a0_0x53f180(0x574)](_0x140748,_0x365799){const _0x55a134=a0_0x53f180;try{await this[_0x55a134(0x6ea)]['addChatLabel'](_0x365799,_0x140748),this[_0x55a134(0x341)]['info'](this[_0x55a134(0x699)]+'\x20('+this[_0x55a134(0x764)][_0x55a134(0x265)]+'):\x20Label\x20'+_0x140748+_0x55a134(0x3de)+_0x365799+_0x55a134(0x8ee));}catch(_0x2a7a67){this[_0x55a134(0x341)][_0x55a134(0x1f6)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x140748+_0x55a134(0x5cb)+_0x365799+':\x20'+_0x2a7a67);}}async[a0_0x53f180(0x31c)](_0x372e5c,_0x89161a){const _0x10bb7c=a0_0x53f180;try{await this['client'][_0x10bb7c(0x641)](_0x89161a,_0x372e5c),this[_0x10bb7c(0x341)][_0x10bb7c(0x560)](this[_0x10bb7c(0x699)]+'\x20('+this[_0x10bb7c(0x764)][_0x10bb7c(0x265)]+_0x10bb7c(0x45e)+_0x372e5c+'\x20removido\x20do\x20chat\x20'+_0x89161a+_0x10bb7c(0x8ee));}catch(_0x1629d7){this[_0x10bb7c(0x341)][_0x10bb7c(0x1f6)](_0x10bb7c(0x708)+_0x372e5c+_0x10bb7c(0x6c3)+_0x89161a+':\x20'+_0x1629d7);}}async[a0_0x53f180(0x364)](_0x26146c){const _0x192de2=a0_0x53f180;try{let _0x2b8973=await this[_0x192de2(0x1cb)][_0x192de2(0x860)][_0x192de2(0x2f5)](this['instance']['wuid']),_0x140d34=_0x26146c[_0x192de2(0x452)]?_0x2b8973[_0x192de2(0x37b)][_0x192de2(0x202)](_0x284330=>_0x284330[_0x192de2(0x452)]===_0x26146c[_0x192de2(0x452)]):-0x1;if(_0x26146c['delete']&&_0x140d34>-0x1)_0x2b8973[_0x192de2(0x37b)][_0x192de2(0x617)](_0x140d34,0x1);else{if(_0x140d34>-0x1){let _0x37f246=_0x2b8973[_0x192de2(0x37b)][_0x140d34];_0x26146c[_0x192de2(0x687)]&&(_0x37f246['fone']=_0x26146c[_0x192de2(0x687)]),_0x26146c[_0x192de2(0x7b2)]&&(_0x37f246[_0x192de2(0x7b2)]=_0x26146c[_0x192de2(0x7b2)]),_0x26146c[_0x192de2(0x2eb)]&&(_0x37f246[_0x192de2(0x2eb)]=_0x26146c[_0x192de2(0x2eb)]),_0x26146c[_0x192de2(0x2da)]&&(_0x37f246[_0x192de2(0x2da)]=_0x26146c[_0x192de2(0x2da)]);}else _0x2b8973['agents']['push']({'_id':_0x26146c[_0x192de2(0x452)]||new fe[(_0x192de2(0x391))][(_0x192de2(0x336))][(_0x192de2(0x4e5))]()[_0x192de2(0x76d)](),'fone':_0x26146c[_0x192de2(0x687)],'name':_0x26146c[_0x192de2(0x7b2)],'email':_0x26146c[_0x192de2(0x2eb)],'role':_0x26146c['role']});}let _0x2b626b={'agents':_0x2b8973['agents']},_0x1f5420=await this[_0x192de2(0x1cb)]['automateSystem']['update'](_0x2b626b,this[_0x192de2(0x764)][_0x192de2(0x265)]);return this[_0x192de2(0x335)]=_0x1f5420,this['logger'][_0x192de2(0x242)](this['instanceName']+'\x20('+this[_0x192de2(0x764)][_0x192de2(0x265)]+'):\x20alterando\x20this.AutomateSystem'),this[_0x192de2(0x341)][_0x192de2(0x242)](this[_0x192de2(0x699)]+'\x20('+this['instance']['wuid']+_0x192de2(0x6ae)+this['AutomateSystem']),_0x1f5420;}catch(_0x16bf78){let _0x9ccac1=_0x192de2(0x462),_0x1436e5=_0x16bf78 instanceof Error?_0x16bf78[_0x192de2(0x82d)]:typeof _0x16bf78=='object'?JSON[_0x192de2(0x54f)](_0x16bf78):_0x16bf78,_0x1bada7=_0x9ccac1+':\x20'+_0x1436e5;throw this[_0x192de2(0x341)][_0x192de2(0x1f6)](this[_0x192de2(0x699)]+'\x20('+this[_0x192de2(0x764)][_0x192de2(0x265)]+_0x192de2(0x6ae)+_0x1bada7),new m(_0x1bada7);}}async[a0_0x53f180(0x629)](_0x49d3b9){const _0xb2f1c0=a0_0x53f180;try{let _0x88a31=await this[_0xb2f1c0(0x1cb)][_0xb2f1c0(0x860)][_0xb2f1c0(0x2f5)](this[_0xb2f1c0(0x764)]['wuid']),_0x495bd1=_0x49d3b9[_0xb2f1c0(0x452)]?_0x88a31['customFields'][_0xb2f1c0(0x202)](_0x5270c5=>_0x5270c5['_id']===_0x49d3b9[_0xb2f1c0(0x452)]):-0x1,_0x1406a4=!0x1,_0x41901a=_0x88a31[_0xb2f1c0(0x736)][_0xb2f1c0(0x485)](_0x4b014e=>_0x4b014e[_0xb2f1c0(0x7b0)]===_0x49d3b9[_0xb2f1c0(0x7b0)]);if(_0x49d3b9[_0xb2f1c0(0x2c1)]&&_0x495bd1>-0x1)_0x88a31[_0xb2f1c0(0x736)][_0xb2f1c0(0x617)](_0x495bd1,0x1),_0x1406a4=!0x0;else{if(_0x495bd1>-0x1){if(_0x88a31['customFields'][_0xb2f1c0(0x485)](_0x2163e1=>_0x2163e1[_0xb2f1c0(0x7b2)]===_0x49d3b9[_0xb2f1c0(0x7b2)]&&_0x2163e1['_id']!==_0x49d3b9[_0xb2f1c0(0x452)]))throw new Error(_0xb2f1c0(0x56f));let _0x3b9a8e=_0x88a31['customFields'][_0x495bd1];_0x49d3b9['order']&&(_0x41901a||!Number[_0xb2f1c0(0x7d8)](_0x49d3b9[_0xb2f1c0(0x7b0)]))&&(_0x3b9a8e['order']=_0x49d3b9[_0xb2f1c0(0x7b0)],_0x1406a4=!0x0),_0x49d3b9['name']&&(_0x3b9a8e[_0xb2f1c0(0x7b2)]=_0x49d3b9[_0xb2f1c0(0x7b2)]);}else{if(_0x88a31['customFields'][_0xb2f1c0(0x485)](_0x4f9671=>_0x4f9671[_0xb2f1c0(0x7b2)]===_0x49d3b9['name']&&_0x4f9671['_id']!==_0x49d3b9[_0xb2f1c0(0x452)]))throw new Error(_0xb2f1c0(0x56f));_0x88a31[_0xb2f1c0(0x736)][_0xb2f1c0(0x635)]({'_id':_0x49d3b9[_0xb2f1c0(0x452)]||new fe[(_0xb2f1c0(0x391))]['Types'][(_0xb2f1c0(0x4e5))]()[_0xb2f1c0(0x76d)](),'order':_0x49d3b9['order'],'name':_0x49d3b9[_0xb2f1c0(0x7b2)]}),_0x1406a4=!0x0;}}if(_0x1406a4){_0x88a31[_0xb2f1c0(0x736)][_0xb2f1c0(0x5f0)]((_0x3c4bf0,_0x71ccb7)=>_0x3c4bf0[_0xb2f1c0(0x7b0)]>_0x71ccb7[_0xb2f1c0(0x7b0)]?0x1:_0x71ccb7[_0xb2f1c0(0x7b0)]>_0x3c4bf0['order']?-0x1:0x0);for(let _0x1b0868=0x0;_0x1b0868<_0x88a31[_0xb2f1c0(0x736)]['length'];_0x1b0868++)_0x88a31[_0xb2f1c0(0x736)][_0x1b0868][_0xb2f1c0(0x7b0)]=_0x1b0868+0x1;}let _0x23b544=await this[_0xb2f1c0(0x1cb)]['automateSystem'][_0xb2f1c0(0x513)](_0x88a31,this[_0xb2f1c0(0x764)][_0xb2f1c0(0x265)]);return this[_0xb2f1c0(0x335)]=_0x23b544,this[_0xb2f1c0(0x341)]['verbose'](this[_0xb2f1c0(0x699)]+'\x20('+this[_0xb2f1c0(0x764)]['wuid']+_0xb2f1c0(0x1c7)),this[_0xb2f1c0(0x341)][_0xb2f1c0(0x242)](this[_0xb2f1c0(0x699)]+'\x20('+this[_0xb2f1c0(0x764)][_0xb2f1c0(0x265)]+'):\x20'+this[_0xb2f1c0(0x335)]),_0x23b544;}catch(_0x11a212){let _0x3e4818='Erro\x20ao\x20tentar\x20updateCustomFields',_0x5c844a=_0x11a212 instanceof Error?_0x11a212[_0xb2f1c0(0x82d)]:typeof _0x11a212=='object'?JSON[_0xb2f1c0(0x54f)](_0x11a212):_0x11a212,_0x43aba0=_0x3e4818+':\x20'+_0x5c844a;throw this[_0xb2f1c0(0x341)]['error'](this[_0xb2f1c0(0x699)]+'\x20('+this[_0xb2f1c0(0x764)][_0xb2f1c0(0x265)]+_0xb2f1c0(0x6ae)+_0x43aba0),new m(_0x43aba0);}}async[a0_0x53f180(0x297)](_0x7b9cbf){const _0x254e69=a0_0x53f180;try{let _0x24e296=await this['repository'][_0x254e69(0x860)][_0x254e69(0x2f5)](this[_0x254e69(0x764)][_0x254e69(0x265)]),_0x36399a=_0x24e296?.[_0x254e69(0x2ba)]?.['findIndex'](_0xec73bb=>_0xec73bb[_0x254e69(0x452)]===_0x7b9cbf?.[_0x254e69(0x452)]);if(_0x7b9cbf?.['delete'])_0x36399a>-0x1&&_0x24e296?.[_0x254e69(0x2ba)]?.[_0x254e69(0x617)](_0x36399a,0x1);else{if(_0x36399a>-0x1){let _0x8582d2=_0x24e296[_0x254e69(0x2ba)][_0x36399a];_0x8582d2[_0x254e69(0x7b0)]=_0x7b9cbf?.[_0x254e69(0x7b0)]||_0x8582d2['order'],_0x8582d2['command']=_0x7b9cbf?.[_0x254e69(0x5a6)]||_0x8582d2[_0x254e69(0x5a6)],_0x8582d2['message']=_0x7b9cbf?.[_0x254e69(0x82d)]||_0x8582d2[_0x254e69(0x82d)];}else{let _0x24fdd1={'_id':_0x7b9cbf?.[_0x254e69(0x452)]||new fe[(_0x254e69(0x391))][(_0x254e69(0x336))][(_0x254e69(0x4e5))]()[_0x254e69(0x76d)](),'order':_0x7b9cbf?.[_0x254e69(0x7b0)],'command':_0x7b9cbf?.[_0x254e69(0x5a6)],'message':_0x7b9cbf?.[_0x254e69(0x82d)]};_0x24e296?.[_0x254e69(0x2ba)]?.[_0x254e69(0x635)](_0x24fdd1);}}_0x24e296?.[_0x254e69(0x2ba)]?.['sort']((_0x816dd3,_0x18c9c6)=>_0x816dd3[_0x254e69(0x7b0)]-_0x18c9c6['order']);let _0xb88482=await this['repository'][_0x254e69(0x860)][_0x254e69(0x513)](_0x24e296,this[_0x254e69(0x764)]['wuid']);return this['AutomateSystem']=_0xb88482,this[_0x254e69(0x341)][_0x254e69(0x242)](this['instanceName']+'\x20('+this['instance'][_0x254e69(0x265)]+_0x254e69(0x1c7)),_0xb88482;}catch(_0x481148){let _0xf462c='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x441beb=_0x481148 instanceof Error?_0x481148[_0x254e69(0x82d)]:typeof _0x481148==_0x254e69(0x204)?JSON['stringify'](_0x481148):_0x481148,_0x125c7e=_0xf462c+':\x20'+_0x441beb;throw this['logger']['error'](this[_0x254e69(0x699)]+'\x20('+this[_0x254e69(0x764)][_0x254e69(0x265)]+_0x254e69(0x6ae)+_0x125c7e),new m(_0x125c7e);}}async[a0_0x53f180(0x6d9)](_0x345c2d){const _0x28f745=a0_0x53f180;try{let _0xbd8af0=await this[_0x28f745(0x1cb)][_0x28f745(0x860)][_0x28f745(0x2f5)](this[_0x28f745(0x764)][_0x28f745(0x265)]);if(!_0xbd8af0)throw new Error('Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.');let _0x2ccb74={'_id':_0xbd8af0['_id'],'flowConfig':{'enabled':_0x345c2d[_0x28f745(0x531)]??_0xbd8af0[_0x28f745(0x72d)][_0x28f745(0x531)],'ignoreGroups':_0x345c2d[_0x28f745(0x71a)]??_0xbd8af0[_0x28f745(0x72d)][_0x28f745(0x71a)],'stopConversation':_0x345c2d[_0x28f745(0x709)][_0x28f745(0x2af)]()??_0xbd8af0[_0x28f745(0x72d)][_0x28f745(0x709)]['trim'](),'stopMinutes':_0x345c2d[_0x28f745(0x7ea)]??_0xbd8af0[_0x28f745(0x72d)]['stopMinutes'],'stopWhenYouSendMsg':_0x345c2d['stopWhenYouSendMsg']??_0xbd8af0[_0x28f745(0x72d)][_0x28f745(0x20a)]}},_0xf1f821=await this[_0x28f745(0x1cb)]['automateSystem']['update'](_0x2ccb74,this[_0x28f745(0x764)][_0x28f745(0x265)]);return this[_0x28f745(0x335)]=_0xf1f821,this[_0x28f745(0x341)]['verbose'](this[_0x28f745(0x699)]+'\x20('+this[_0x28f745(0x764)]['wuid']+_0x28f745(0x812)),this[_0x28f745(0x341)]['verbose'](this[_0x28f745(0x699)]+'\x20('+this[_0x28f745(0x764)][_0x28f745(0x265)]+'):\x20'+this['AutomateSystem']),setTimeout(()=>this[_0x28f745(0x2dc)](),0x7d0),_0xf1f821;}catch(_0x2917db){let _0x31613c=_0x28f745(0x83d),_0x49db2e=_0x2917db instanceof Error?_0x2917db[_0x28f745(0x82d)]:typeof _0x2917db=='object'?JSON[_0x28f745(0x54f)](_0x2917db):_0x2917db,_0x71a62c=_0x31613c+':\x20'+_0x49db2e;throw this[_0x28f745(0x341)]['error'](this[_0x28f745(0x699)]+'\x20('+this['instance'][_0x28f745(0x265)]+_0x28f745(0x6ae)+_0x71a62c),new m(_0x71a62c);}}async[a0_0x53f180(0x7b8)](){const _0x3c7e6b=a0_0x53f180;try{let _0x58da4d=await this[_0x3c7e6b(0x1cb)]['automateSystem'][_0x3c7e6b(0x2f5)](this['instance'][_0x3c7e6b(0x265)]);return this[_0x3c7e6b(0x335)]=_0x58da4d,_0x58da4d;}catch(_0x491b3d){let _0x2243c7=_0x3c7e6b(0x86c),_0x33ce07=_0x491b3d instanceof Error?_0x491b3d[_0x3c7e6b(0x82d)]:typeof _0x491b3d=='object'?JSON['stringify'](_0x491b3d):_0x491b3d,_0x4fcc8b=_0x2243c7+':\x20'+_0x33ce07;throw this['logger'][_0x3c7e6b(0x1f6)](this[_0x3c7e6b(0x699)]+'\x20('+this[_0x3c7e6b(0x764)][_0x3c7e6b(0x265)]+_0x3c7e6b(0x6ae)+_0x4fcc8b),new m(_0x4fcc8b);}}async[a0_0x53f180(0x76e)](){const _0x11c2fe=a0_0x53f180;let _0x13654c=(await import(_0x11c2fe(0x34d)))[_0x11c2fe(0x391)];this[_0x11c2fe(0x6cb)]=new _0x13654c({'concurrency':0x1});}async['setRestartTimeout'](){const _0x23026a=a0_0x53f180;this[_0x23026a(0x764)][_0x23026a(0x8ce)]['timeout']&&clearTimeout(this['instance'][_0x23026a(0x8ce)][_0x23026a(0x3d8)]),this[_0x23026a(0x764)][_0x23026a(0x8ce)][_0x23026a(0x3d8)]=setTimeout(()=>{const _0x3ef6ae=_0x23026a;this[_0x3ef6ae(0x2dc)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x53f180(0x2dc)](){const _0x58137a=a0_0x53f180;(Date[_0x58137a(0x6bb)]()-this[_0x58137a(0x764)][_0x58137a(0x8ce)][_0x58137a(0x5dc)]>=0x1d4c0||!this['instance'][_0x58137a(0x8ce)][_0x58137a(0x5dc)]||!this[_0x58137a(0x290)]||!this[_0x58137a(0x764)][_0x58137a(0x8ce)][_0x58137a(0x4b3)])&&(this[_0x58137a(0x341)][_0x58137a(0x242)](this[_0x58137a(0x699)]+'\x20('+this[_0x58137a(0x764)][_0x58137a(0x265)]+_0x58137a(0x1f2)),this['instance']['ScheduleMessage'][_0x58137a(0x421)]=null,this[_0x58137a(0x764)][_0x58137a(0x8ce)]['lastSend']=0x0,this[_0x58137a(0x764)][_0x58137a(0x8ce)][_0x58137a(0x4b3)]=0x0,this['processUUID']=null,this[_0x58137a(0x6cb)]['add'](()=>this['scheduleNextCheck']()));}async[a0_0x53f180(0x318)](){const _0x449618=a0_0x53f180;if(this['processUUID']!==null){await this['setRestartTimeout'](),this[_0x449618(0x341)][_0x449618(0x848)](this[_0x449618(0x699)]+'\x20('+this[_0x449618(0x764)]['wuid']+_0x449618(0x8b8));return;}let _0x9f0217=!0x1;this[_0x449618(0x295)]=[],this[_0x449618(0x290)]=(0x0,X['v4'])(),await this['transformScheduledMessagesByType']();let _0xf79738=()=>{const _0xef31ba=_0x449618;this['logger'][_0xef31ba(0x848)](this['instanceName']+'\x20('+this[_0xef31ba(0x764)][_0xef31ba(0x265)]+_0xef31ba(0x688)+this[_0xef31ba(0x764)][_0xef31ba(0x8ce)]['processingGroup']?.['_id']+_0xef31ba(0x20e));},_0xafc117=async()=>{const _0x3c8d92=_0x449618;this['logger'][_0x3c8d92(0x848)](this[_0x3c8d92(0x699)]+'\x20('+this[_0x3c8d92(0x764)][_0x3c8d92(0x265)]+_0x3c8d92(0x7a1));let _0x42b05e=new Date(Date['now']()-0xc*0x3c*0x3c*0x3e8),_0x19a92f={'where':{'status':{'$in':[_0x3c8d92(0x4d2),_0x3c8d92(0x4d1)]},'$or':[{'when':{'$lte':Date[_0x3c8d92(0x6bb)](),'$gte':_0x42b05e}},{'when':0x0}]}},_0x5189d1=await this[_0x3c8d92(0x1cb)][_0x3c8d92(0x726)]['find'](_0x19a92f,this[_0x3c8d92(0x764)][_0x3c8d92(0x265)]);return this[_0x3c8d92(0x341)]['warn'](this[_0x3c8d92(0x699)]+'\x20('+this[_0x3c8d92(0x764)][_0x3c8d92(0x265)]+_0x3c8d92(0x408)+_0x5189d1[_0x3c8d92(0x27a)]),_0x5189d1;},_0x1a9fdf=()=>this['pendingMessages'][_0x449618(0x27a)]===0x0?null:this[_0x449618(0x295)][_0x449618(0x8d8)]((_0x428aa6,_0x4031fc)=>(_0x428aa6[_0x449618(0x7b0)]??Number['MAX_SAFE_INTEGER'])<(_0x4031fc['order']??Number['MAX_SAFE_INTEGER'])?_0x428aa6:_0x4031fc,this[_0x449618(0x295)][0x0]),_0x136fc5=async _0x1a4394=>{const _0x4b9b69=_0x449618;let _0x468953=Math['floor'](Math[_0x4b9b69(0x874)]()*0x1389)+0xbb8;for(let _0x503683 of _0x1a4394){let _0x5e399a={'_id':_0x503683[_0x4b9b69(0x452)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x4b9b69(0x6bb)]()-0xbb8}}]},_0x4baec8={'startSend':Date[_0x4b9b69(0x6bb)](),'status':'sending','processUUID':this[_0x4b9b69(0x290)]},_0x486eb5=await this['repository'][_0x4b9b69(0x726)][_0x4b9b69(0x5ea)](_0x5e399a,_0x4baec8,this[_0x4b9b69(0x764)][_0x4b9b69(0x265)]);if(!_0x486eb5)continue;if(_0x486eb5[_0x4b9b69(0x290)]!==this[_0x4b9b69(0x290)]){await this['setRestartTimeout'](),this[_0x4b9b69(0x341)][_0x4b9b69(0x848)](this[_0x4b9b69(0x699)]+'\x20('+this['instance'][_0x4b9b69(0x265)]+_0x4b9b69(0x267));return;}if(!this['instance'][_0x4b9b69(0x8ce)]['isConnected']){this[_0x4b9b69(0x341)][_0x4b9b69(0x848)](this['instanceName']+'\x20('+this['instance'][_0x4b9b69(0x265)]+_0x4b9b69(0x6ef));break;}for(this['pendingMessages']=_0x503683[_0x4b9b69(0x658)][_0x4b9b69(0x353)](_0x463601=>!_0x463601[_0x4b9b69(0x76f)]);this[_0x4b9b69(0x295)][_0x4b9b69(0x27a)]>0x0||!_0x9f0217;){await this['setRestartTimeout']();let _0x2b6fcd=_0x1a9fdf();if(!_0x2b6fcd){_0x9f0217=!0x0;break;}let _0x31749d=_0x503683[_0x4b9b69(0x658)][_0x4b9b69(0x479)](_0x7ae53c=>_0x7ae53c[_0x4b9b69(0x452)]===_0x2b6fcd[_0x4b9b69(0x452)]);if(!_0x31749d){_0x9f0217=!0x0;break;}if(this['instance']['ScheduleMessage'][_0x4b9b69(0x5dc)]=Date[_0x4b9b69(0x6bb)](),_0x31749d[_0x4b9b69(0x76f)]){this[_0x4b9b69(0x341)][_0x4b9b69(0x848)](this[_0x4b9b69(0x699)]+'\x20('+this[_0x4b9b69(0x764)]['wuid']+_0x4b9b69(0x7a0)+_0x31749d[_0x4b9b69(0x87e)]+_0x4b9b69(0x5c2)),this[_0x4b9b69(0x295)]=this['pendingMessages']['filter'](_0x58817f=>_0x58817f[_0x4b9b69(0x452)]!==_0x31749d[_0x4b9b69(0x452)]);continue;}if(!this[_0x4b9b69(0x764)][_0x4b9b69(0x8ce)][_0x4b9b69(0x521)]){this[_0x4b9b69(0x341)][_0x4b9b69(0x848)](this[_0x4b9b69(0x699)]+'\x20('+this[_0x4b9b69(0x764)][_0x4b9b69(0x265)]+_0x4b9b69(0x289));break;}if(!this[_0x4b9b69(0x764)][_0x4b9b69(0x8ce)][_0x4b9b69(0x421)]){this[_0x4b9b69(0x341)][_0x4b9b69(0x848)](this[_0x4b9b69(0x699)]+'\x20('+this[_0x4b9b69(0x764)][_0x4b9b69(0x265)]+_0x4b9b69(0x743)+_0x503683[_0x4b9b69(0x452)]+_0x4b9b69(0x374));break;}let _0x2b6a44={'idControl':_0x31749d[_0x4b9b69(0x452)],'remoteJid':_0x31749d[_0x4b9b69(0x87e)],'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x4b9b69(0x6bb)]()},_0xfd14c8=null;try{this[_0x4b9b69(0x341)][_0x4b9b69(0x848)](this[_0x4b9b69(0x699)]+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20mensagem\x20para\x20'+_0x31749d[_0x4b9b69(0x87e)]);let _0xa758d8=await this[_0x4b9b69(0x1c6)](_0x31749d['remoteJid'],_0x31749d);_0x2b6a44[_0x4b9b69(0x1f6)]=_0xa758d8['error'],_0x2b6a44['id']=_0xa758d8['error']?null:_0xa758d8['id'],_0x2b6a44[_0x4b9b69(0x3c1)]=_0xa758d8['error']?_0xa758d8[_0x4b9b69(0x4c7)]?_0xa758d8[_0x4b9b69(0x4c7)]['toString']():'':null;let _0x3c8b2d=_0x503683['messages']['findIndex'](_0x6115c2=>_0x6115c2['_id']===_0x31749d[_0x4b9b69(0x452)]);_0x3c8b2d!==-0x1&&(_0x503683[_0x4b9b69(0x658)][_0x3c8b2d][_0x4b9b69(0x76f)]=!0x0);let _0x70cd55={'$push':{'messagesSend':_0x2b6a44},'$set':{'messages.$[elem].triedToSend':!0x0}},_0x31b063=[{'elem._id':_0x31749d[_0x4b9b69(0x452)]}];if(this[_0x4b9b69(0x341)][_0x4b9b69(0x848)](this[_0x4b9b69(0x699)]+'\x20('+this['instance'][_0x4b9b69(0x265)]+_0x4b9b69(0x7da)+_0x31749d[_0x4b9b69(0x452)]),_0xfd14c8=await this['repository'][_0x4b9b69(0x726)][_0x4b9b69(0x5ea)]({'_id':_0x503683[_0x4b9b69(0x452)]},_0x70cd55,this[_0x4b9b69(0x764)][_0x4b9b69(0x265)],{'arrayFilters':_0x31b063}),_0xa758d8[_0x4b9b69(0x1f6)]){this['logger'][_0x4b9b69(0x1f6)](this[_0x4b9b69(0x699)]+'\x20('+this[_0x4b9b69(0x764)][_0x4b9b69(0x265)]+'):\x20Erro\x20ao\x20enviar\x20mensagem:\x20'+_0xa758d8[_0x4b9b69(0x4c7)]);continue;}let _0x2bf824=this[_0x4b9b69(0x8f4)](_0x503683[_0x4b9b69(0x494)],_0x503683[_0x4b9b69(0x28f)]);await this[_0x4b9b69(0x50d)](_0x2bf824);}catch(_0x133bbf){this['logger'][_0x4b9b69(0x1f6)](this[_0x4b9b69(0x699)]+'\x20('+this[_0x4b9b69(0x764)]['wuid']+_0x4b9b69(0x23f)+_0x31749d[_0x4b9b69(0x87e)]+':\x20'+(_0x133bbf instanceof Error?_0x133bbf[_0x4b9b69(0x82d)]:JSON[_0x4b9b69(0x54f)](_0x133bbf,null,0x2))),_0x2b6a44['error']=!0x0,_0x2b6a44[_0x4b9b69(0x3c1)]=_0x133bbf[_0x4b9b69(0x82d)];let _0x4375c6=_0x503683[_0x4b9b69(0x658)]['findIndex'](_0x5e229e=>_0x5e229e[_0x4b9b69(0x452)]===_0x31749d[_0x4b9b69(0x452)]);_0x4375c6!==-0x1&&(_0x503683[_0x4b9b69(0x658)][_0x4375c6][_0x4b9b69(0x76f)]=!0x0);let _0xfba782={'$push':{'messagesSend':_0x2b6a44},'$set':{'messages.$[elem].triedToSend':!0x0}},_0xf06362=[{'elem._id':_0x31749d[_0x4b9b69(0x452)]}];this['logger'][_0x4b9b69(0x848)](this['instanceName']+'\x20('+this[_0x4b9b69(0x764)][_0x4b9b69(0x265)]+_0x4b9b69(0x74b)+_0x31749d[_0x4b9b69(0x452)]),_0xfd14c8=await this['repository'][_0x4b9b69(0x726)][_0x4b9b69(0x5ea)]({'_id':_0x503683[_0x4b9b69(0x452)]},_0xfba782,this[_0x4b9b69(0x764)]['wuid'],{'arrayFilters':_0xf06362});}finally{if(_0xfd14c8&&_0xfd14c8[_0x4b9b69(0x315)]==='stopped'){this['logger'][_0x4b9b69(0x848)](this[_0x4b9b69(0x699)]+'\x20('+this[_0x4b9b69(0x764)]['wuid']+_0x4b9b69(0x743)+_0x31749d[_0x4b9b69(0x452)]+_0x4b9b69(0x5f3));break;}let _0x3ade2a=_0xfd14c8[_0x4b9b69(0x658)][_0x4b9b69(0x479)](_0x78b4f=>_0x78b4f[_0x4b9b69(0x452)]===_0x31749d['_id']);if(_0x3ade2a&&!_0x3ade2a['triedToSend']){let _0x23b9b8={'$set':{'messages.$[elem].triedToSend':!0x0}},_0x1db255=[{'elem._id':_0x31749d[_0x4b9b69(0x452)]}];await this[_0x4b9b69(0x1cb)][_0x4b9b69(0x726)][_0x4b9b69(0x5ea)]({'_id':_0xfd14c8[_0x4b9b69(0x452)]},_0x23b9b8,this['instance']['wuid'],{'arrayFilters':_0x1db255});}if(this[_0x4b9b69(0x295)]=_0xfd14c8[_0x4b9b69(0x658)][_0x4b9b69(0x353)](_0x1f09e6=>!_0x1f09e6[_0x4b9b69(0x76f)]),_0x9f0217=this[_0x4b9b69(0x295)][_0x4b9b69(0x27a)]===0x0,_0xfd14c8[_0x4b9b69(0x290)]!==this['processUUID']){await this[_0x4b9b69(0x791)](),this[_0x4b9b69(0x341)]['warn'](this[_0x4b9b69(0x699)]+'\x20('+this[_0x4b9b69(0x764)][_0x4b9b69(0x265)]+_0x4b9b69(0x267));return;}this[_0x4b9b69(0x764)][_0x4b9b69(0x8ce)][_0x4b9b69(0x421)]=_0xfd14c8;}}this[_0x4b9b69(0x295)]=[];let _0x5e8a3a=await this[_0x4b9b69(0x1cb)][_0x4b9b69(0x726)][_0x4b9b69(0x662)](_0x503683['_id'],this['instance'][_0x4b9b69(0x265)]);if(_0x9f0217=_0x5e8a3a[_0x4b9b69(0x658)][_0x4b9b69(0x803)](_0x39701c=>_0x39701c[_0x4b9b69(0x76f)]),_0x9f0217&&_0x5e8a3a['status']!==_0x4b9b69(0x604)){let _0x134492={'$set':{'status':_0x4b9b69(0x73e)}};await this[_0x4b9b69(0x1cb)][_0x4b9b69(0x726)][_0x4b9b69(0x6f8)](_0x5e8a3a[_0x4b9b69(0x452)],_0x134492,this[_0x4b9b69(0x764)][_0x4b9b69(0x265)]);}await new Promise(_0x1859f2=>setTimeout(_0x1859f2,_0x468953)),global['gc']?global['gc']():console[_0x4b9b69(0x848)](_0x4b9b69(0x1d9));}},_0x1e7d31=async()=>{const _0x530b6a=_0x449618;this[_0x530b6a(0x341)][_0x530b6a(0x848)](this[_0x530b6a(0x699)]+'\x20('+this[_0x530b6a(0x764)]['wuid']+_0x530b6a(0x7a1));let _0x29f0bc={'where':{'status':_0x530b6a(0x4d2),'when':{'$gt':Date[_0x530b6a(0x6bb)]()}}},_0x2b8bd9=await this[_0x530b6a(0x1cb)][_0x530b6a(0x726)]['findOne'](_0x29f0bc,this[_0x530b6a(0x764)][_0x530b6a(0x265)]);_0x2b8bd9&&_0x2b8bd9[_0x530b6a(0x1ff)]-Date[_0x530b6a(0x6bb)]()<=0x6ddd00?this[_0x530b6a(0x764)][_0x530b6a(0x8ce)][_0x530b6a(0x4b3)]=_0x2b8bd9['when']-Date[_0x530b6a(0x6bb)]():this[_0x530b6a(0x764)]['ScheduleMessage']['delayMessage']=(0x3c+Math[_0x530b6a(0x376)](Math[_0x530b6a(0x874)]()*0x3c))*0x3c*0x3e8,this[_0x530b6a(0x764)][_0x530b6a(0x8ce)][_0x530b6a(0x4b3)]=Math[_0x530b6a(0x837)](this[_0x530b6a(0x764)][_0x530b6a(0x8ce)][_0x530b6a(0x4b3)],0x1*0x2*0x3e8);let _0x244497=Math[_0x530b6a(0x67e)](this['instance'][_0x530b6a(0x8ce)][_0x530b6a(0x4b3)]/0xea60);if(_0x2b8bd9){let _0x175fa2=new Date(_0x2b8bd9[_0x530b6a(0x1ff)])[_0x530b6a(0x6c1)]();this['logger'][_0x530b6a(0x848)](this[_0x530b6a(0x699)]+'\x20('+this['instance'][_0x530b6a(0x265)]+_0x530b6a(0x471)+_0x175fa2+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x244497+_0x530b6a(0x3f9));}else this['logger'][_0x530b6a(0x848)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x530b6a(0x1cf)+_0x244497+'\x20minutos');setTimeout(()=>this[_0x530b6a(0x2dc)](),this[_0x530b6a(0x764)][_0x530b6a(0x8ce)]['delayMessage']);};if(this[_0x449618(0x764)][_0x449618(0x8ce)][_0x449618(0x421)]){await this[_0x449618(0x791)](),_0xf79738();return;}if(!this[_0x449618(0x764)]['ScheduleMessage'][_0x449618(0x521)]){this[_0x449618(0x341)]['warn'](this[_0x449618(0x699)]+'\x20('+this[_0x449618(0x764)][_0x449618(0x265)]+'):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado'),this[_0x449618(0x764)]['ScheduleMessage'][_0x449618(0x421)]=null,this['instance'][_0x449618(0x8ce)][_0x449618(0x5dc)]=0x0,this[_0x449618(0x764)][_0x449618(0x8ce)][_0x449618(0x4b3)]=0x0;return;}try{let _0x1c814e=await _0xafc117();_0x1c814e[_0x449618(0x27a)]===0x0?this['logger'][_0x449618(0x848)](this[_0x449618(0x699)]+'\x20('+this['instance']['wuid']+_0x449618(0x8a2)):(this['instance'][_0x449618(0x8ce)][_0x449618(0x421)]=_0x1c814e[0x0],await _0x136fc5(_0x1c814e)),await _0x1e7d31(),this[_0x449618(0x764)][_0x449618(0x8ce)][_0x449618(0x421)]=null;}catch(_0x7c0db5){this['logger'][_0x449618(0x1f6)](_0x449618(0x362)+(_0x7c0db5 instanceof Error?_0x7c0db5[_0x449618(0x82d)]:JSON['stringify'](_0x7c0db5,null,0x2)));}}[a0_0x53f180(0x8f4)](_0x116943,_0x45e254){const _0x19e51b=a0_0x53f180;return _0x116943=Math[_0x19e51b(0x837)](0.5,_0x116943),_0x45e254=Math[_0x19e51b(0x6b3)](Math[_0x19e51b(0x837)](0x3,_0x45e254),0x78),Math[_0x19e51b(0x376)](Math['random']()*(_0x45e254-_0x116943+0x1)+_0x116943)*0x3e8;}[a0_0x53f180(0x50d)](_0x3ff951){return new Promise(_0xb65cbc=>setTimeout(_0xb65cbc,_0x3ff951));}async[a0_0x53f180(0x600)](_0x343242){const _0x3ffb95=a0_0x53f180;if(!this[_0x3ffb95(0x335)]&&(await this[_0x3ffb95(0x7b8)](),!this['AutomateSystem']))return null;_0x343242=this['createJid'](_0x343242);let _0x83abc8=await this['repository']['chat'][_0x3ffb95(0x741)]({'where':{'_id':_0x343242}},this[_0x3ffb95(0x764)][_0x3ffb95(0x265)]),_0x51f428={};if(_0x83abc8&&_0x83abc8[_0x3ffb95(0x500)]){let _0x3ed9b3=_0x83abc8[_0x3ffb95(0x500)];typeof _0x3ed9b3[_0x3ffb95(0x7ac)]==_0x3ffb95(0x8d7)&&(_0x51f428['nome']=_0x3ed9b3[_0x3ffb95(0x7ac)]),typeof _0x3ed9b3[_0x3ffb95(0x64e)]==_0x3ffb95(0x8d7)&&(_0x51f428[_0x3ffb95(0x64e)]=_0x3ed9b3[_0x3ffb95(0x64e)]),typeof _0x3ed9b3[_0x3ffb95(0x2eb)]==_0x3ffb95(0x8d7)&&(_0x51f428[_0x3ffb95(0x2eb)]=_0x3ed9b3[_0x3ffb95(0x2eb)]),typeof _0x3ed9b3[_0x3ffb95(0x1a5)]=='string'&&(_0x51f428['cpf']=_0x3ed9b3[_0x3ffb95(0x1a5)]),typeof _0x3ed9b3[_0x3ffb95(0x315)]==_0x3ffb95(0x8d7)&&(_0x51f428[_0x3ffb95(0x315)]=_0x3ed9b3[_0x3ffb95(0x315)]),typeof _0x3ed9b3[_0x3ffb95(0x31b)]=='string'&&(_0x51f428[_0x3ffb95(0x31b)]=_0x3ed9b3[_0x3ffb95(0x31b)]),typeof _0x3ed9b3[_0x3ffb95(0x1a0)]==_0x3ffb95(0x8d7)&&(_0x51f428[_0x3ffb95(0x1a0)]=_0x3ed9b3[_0x3ffb95(0x1a0)]),Array[_0x3ffb95(0x714)](_0x3ed9b3['tags'])&&(_0x51f428['tags']=_0x3ed9b3['tags'][_0x3ffb95(0x260)](',\x20')),Array[_0x3ffb95(0x714)](_0x3ed9b3[_0x3ffb95(0x79f)])&&(_0x51f428[_0x3ffb95(0x79f)]=_0x3ed9b3[_0x3ffb95(0x79f)][_0x3ffb95(0x260)](',\x20'));}return _0x83abc8&&_0x83abc8[_0x3ffb95(0x500)]&&_0x83abc8[_0x3ffb95(0x500)][_0x3ffb95(0x736)]&&_0x83abc8['leadInfo'][_0x3ffb95(0x736)][_0x3ffb95(0x313)](_0x47ebfd=>{const _0x220943=_0x3ffb95;let _0x5e43e6=this[_0x220943(0x335)]?.[_0x220943(0x736)][_0x220943(0x479)](_0x55a50d=>_0x55a50d[_0x220943(0x452)]===_0x47ebfd[_0x220943(0x452)]);_0x5e43e6&&(_0x51f428[_0x5e43e6['name']]=_0x47ebfd[_0x220943(0x3da)]);}),_0x51f428;}async[a0_0x53f180(0x3b0)](_0x3ce7c2,_0x28b197){const _0x56ae2b=a0_0x53f180;try{let _0x413b24=await this[_0x56ae2b(0x600)](_0x28b197);return this[_0x56ae2b(0x287)](_0x3ce7c2,_0x413b24);}catch(_0x3f6bb0){return this[_0x56ae2b(0x341)][_0x56ae2b(0x1f6)](_0x56ae2b(0x38b)+_0x28b197+':\x20'+_0x3f6bb0),_0x3ce7c2;}}async[a0_0x53f180(0x77a)](){const _0x2de538=a0_0x53f180;let _0x2f336c=async(_0x37b63d,_0x5dbd48)=>{const _0x48e0cc=a0_0x150f;let _0x26b958=(await this[_0x48e0cc(0x1cb)]['scheduleMessage'][_0x48e0cc(0x479)]({'where':{'type':_0x37b63d}},this['instance'][_0x48e0cc(0x265)]))['map'](async _0x14e7b7=>{const _0x458427=_0x48e0cc;let _0x1dcd14=_0x5dbd48(_0x14e7b7),_0x20e268=_0x2859c1=>/^\d+$/[_0x458427(0x6dc)](_0x2859c1),_0x4cb051=_0x14e7b7[_0x458427(0x2c0)][_0x458427(0x353)](_0x45a2f8=>_0x45a2f8['endsWith'](_0x458427(0x7d0))?_0x45a2f8[_0x458427(0x27a)]>0x19:_0x45a2f8[_0x458427(0x7c2)](_0x458427(0x674))?_0x45a2f8[_0x458427(0x27a)]>0xf:_0x20e268(_0x45a2f8)?_0x45a2f8[_0x458427(0x27a)]>=0xb:!0x1)['map'](_0x4a9db7=>({'_id':(0x0,X['v4'])(),'idSchedule':_0x14e7b7[_0x458427(0x452)],'type':_0x1dcd14,'remoteJid':_0x4a9db7,'flow':_0x14e7b7['flowName'],'text':_0x14e7b7[_0x458427(0x82d)]?.[_0x458427(0x746)],'delay':_0x14e7b7[_0x458427(0x82d)]?.[_0x458427(0x4aa)],'urlOrBase64':_0x14e7b7['message']?.[_0x458427(0x887)],'linkPreview':_0x14e7b7[_0x458427(0x82d)]?.['linkPreview'],'fileName':_0x14e7b7[_0x458427(0x82d)]?.[_0x458427(0x323)],'triedToSend':!0x1,'messagesSend':[]}));try{await this['repository'][_0x458427(0x726)]['updateOneById'](_0x14e7b7['_id'],{'$set':{'messages':_0x4cb051},'$unset':{'message':'','flowName':'','remoteJids':'','remoteJidsRemaining':'','type':''}},this['instance'][_0x458427(0x265)]);}catch(_0x386d38){console[_0x458427(0x1f6)](_0x458427(0x653)+_0x14e7b7[_0x458427(0x452)]+':',_0x386d38);}});await Promise[_0x48e0cc(0x241)](_0x26b958);};await _0x2f336c(_0x2de538(0x746),_0x35e9f2=>_0x2de538(0x746)),await _0x2f336c('media',_0x2e5f05=>_0x2e5f05[_0x2de538(0x82d)]?.['mediatype']||_0x2de538(0x52d)),await _0x2f336c(_0x2de538(0x517),_0x342d4a=>'audio'),await _0x2f336c(_0x2de538(0x72a),_0x25eb8a=>_0x2de538(0x72a)),await _0x2f336c(_0x2de538(0x32b),_0x54dfd2=>_0x2de538(0x32b)),await _0x2f336c(_0x2de538(0x4c4),_0x9d1e29=>'video'),await _0x2f336c(_0x2de538(0x2bc),_0x1051e7=>_0x2de538(0x2bc)),this[_0x2de538(0x341)][_0x2de538(0x848)](this['instanceName']+'\x20('+this['instance'][_0x2de538(0x265)]+'):\x20Transformação\x20de\x20mensagens\x20agendadas\x20concluída!');}async['editScheduleMessage'](_0x191168){const _0x5c3dc0=a0_0x53f180;try{if(this['logger']['warn'](this[_0x5c3dc0(0x699)]+'\x20('+this[_0x5c3dc0(0x764)][_0x5c3dc0(0x265)]+_0x5c3dc0(0x1c4)),_0x191168[_0x5c3dc0(0x452)]||(_0x191168['_id']=(0x0,X['v4'])()),this[_0x5c3dc0(0x764)]['ScheduleMessage']['processingGroup']?.[_0x5c3dc0(0x452)]===_0x191168['_id']?.[_0x5c3dc0(0x76d)]()){if(_0x191168[_0x5c3dc0(0x315)]==='stopped')this[_0x5c3dc0(0x764)][_0x5c3dc0(0x8ce)][_0x5c3dc0(0x421)]=null;else throw new Error(_0x5c3dc0(0x539));}if(_0x191168[_0x5c3dc0(0x2c1)]&&_0x191168['_id']){let _0x5e12cd=await this['repository']['scheduleMessage'][_0x5c3dc0(0x85e)](_0x191168[_0x5c3dc0(0x452)],this[_0x5c3dc0(0x764)][_0x5c3dc0(0x265)]);return setTimeout(()=>this[_0x5c3dc0(0x2dc)](),0x7d0),_0x5e12cd;}let _0x16134c=null;if(_0x191168[_0x5c3dc0(0x452)]&&(_0x16134c=await this[_0x5c3dc0(0x1cb)][_0x5c3dc0(0x726)]['findById'](_0x191168[_0x5c3dc0(0x452)],this['instance']['wuid'])),_0x16134c){let {_id:_0x4910f6,owner:_0x1b4d9b,messages:_0x3a53fd,..._0x1b9735}=_0x191168;if(_0x3a53fd){let _0x4d12e6=_0x3a53fd['filter'](_0x1ff96f=>!_0x1ff96f[_0x5c3dc0(0x452)]),_0x53a2ca=_0x3a53fd['filter'](_0x138b35=>_0x138b35[_0x5c3dc0(0x452)]&&!_0x138b35[_0x5c3dc0(0x2c1)]),_0x103779=_0x3a53fd['filter'](_0x2d94d1=>_0x2d94d1[_0x5c3dc0(0x452)]&&_0x2d94d1[_0x5c3dc0(0x2c1)]);if(_0x4d12e6[_0x5c3dc0(0x27a)]>0x0&&await this[_0x5c3dc0(0x4f0)](_0x191168['_id'],_0x4d12e6),_0x53a2ca[_0x5c3dc0(0x27a)]>0x0&&await this[_0x5c3dc0(0x3ea)]({'_id':_0x191168[_0x5c3dc0(0x452)],'messages':_0x53a2ca}),_0x103779[_0x5c3dc0(0x27a)]>0x0){let _0xa9c9d4=_0x103779[_0x5c3dc0(0x5bd)](_0x50d26b=>({'updateOne':{'filter':{'_id':_0x191168[_0x5c3dc0(0x452)]},'update':{'$pull':{'messages':{'_id':_0x50d26b[_0x5c3dc0(0x452)]}}}}}));await this['repository'][_0x5c3dc0(0x726)]['bulkWrite'](_0xa9c9d4,this[_0x5c3dc0(0x764)][_0x5c3dc0(0x265)]);}}let _0x3037e8={'$set':{..._0x1b9735,'status':_0x191168['status']||_0x16134c[_0x5c3dc0(0x315)]}},_0x42f92d=await this['repository'][_0x5c3dc0(0x726)][_0x5c3dc0(0x6f8)](_0x191168[_0x5c3dc0(0x452)],_0x3037e8,this[_0x5c3dc0(0x764)][_0x5c3dc0(0x265)]);return _0x42f92d&&(this['reorderMessages'](_0x42f92d[_0x5c3dc0(0x658)]),await this[_0x5c3dc0(0x1cb)][_0x5c3dc0(0x726)][_0x5c3dc0(0x6f8)](_0x42f92d[_0x5c3dc0(0x452)],{'$set':{'messages':_0x42f92d['messages']}},this[_0x5c3dc0(0x764)][_0x5c3dc0(0x265)])),setTimeout(()=>this[_0x5c3dc0(0x2dc)](),0x7d0),await this[_0x5c3dc0(0x77a)](),_0x42f92d;}else{_0x191168['owner']=this[_0x5c3dc0(0x764)]['wuid'],_0x191168[_0x5c3dc0(0x658)]&&_0x191168[_0x5c3dc0(0x658)][_0x5c3dc0(0x313)](_0x2550a1=>{const _0x278c65=_0x5c3dc0;_0x2550a1[_0x278c65(0x452)]||(_0x2550a1[_0x278c65(0x452)]=(0x0,X['v4'])()),_0x2550a1['idSchedule']||(_0x2550a1[_0x278c65(0x394)]=_0x191168[_0x278c65(0x452)]),delete _0x2550a1[_0x278c65(0x76f)];});let _0x2c8905=await this[_0x5c3dc0(0x1cb)][_0x5c3dc0(0x726)][_0x5c3dc0(0x591)](_0x191168,this[_0x5c3dc0(0x764)][_0x5c3dc0(0x265)]);return _0x2c8905&&(this[_0x5c3dc0(0x3c2)](_0x2c8905['messages']),await this[_0x5c3dc0(0x1cb)][_0x5c3dc0(0x726)][_0x5c3dc0(0x6f8)](_0x2c8905[_0x5c3dc0(0x452)],{'$set':{'messages':_0x2c8905[_0x5c3dc0(0x658)]}},this[_0x5c3dc0(0x764)][_0x5c3dc0(0x265)])),setTimeout(()=>this[_0x5c3dc0(0x2dc)](),0x7d0),_0x2c8905;}}catch(_0x187265){let _0x4d4c11='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20grupo\x20de\x20mensagens',_0x2b83f3=_0x187265 instanceof Error?_0x187265[_0x5c3dc0(0x82d)]:typeof _0x187265==_0x5c3dc0(0x204)?JSON[_0x5c3dc0(0x54f)](_0x187265):_0x187265,_0x189eaf=_0x4d4c11+':\x20'+_0x2b83f3;throw this[_0x5c3dc0(0x341)][_0x5c3dc0(0x1f6)](this[_0x5c3dc0(0x699)]+'\x20('+this[_0x5c3dc0(0x764)][_0x5c3dc0(0x265)]+_0x5c3dc0(0x6ae)+_0x189eaf),new m(_0x189eaf);}}async[a0_0x53f180(0x4f0)](_0x4311fb,_0xff5ffb){const _0x5153ff=a0_0x53f180;try{this[_0x5153ff(0x341)][_0x5153ff(0x242)](this[_0x5153ff(0x699)]+'\x20('+this[_0x5153ff(0x764)][_0x5153ff(0x265)]+'):\x20Adicionando\x20mensagens\x20ao\x20grupo...'),_0xff5ffb[_0x5153ff(0x313)](_0x40b482=>{const _0x52cdfe=_0x5153ff;_0x40b482[_0x52cdfe(0x452)]||(_0x40b482[_0x52cdfe(0x452)]=(0x0,X['v4'])()),_0x40b482[_0x52cdfe(0x394)]||(_0x40b482[_0x52cdfe(0x394)]=_0x4311fb),delete _0x40b482[_0x52cdfe(0x76f)];});let _0x2573be={'$push':{'messages':{'$each':_0xff5ffb}}},_0x2ad459=await this[_0x5153ff(0x1cb)][_0x5153ff(0x726)][_0x5153ff(0x6f8)](_0x4311fb,_0x2573be,this[_0x5153ff(0x764)][_0x5153ff(0x265)]);return _0x2ad459&&(this['reorderMessages'](_0x2ad459[_0x5153ff(0x658)]),await this[_0x5153ff(0x1cb)]['scheduleMessage']['updateOneById'](_0x2ad459[_0x5153ff(0x452)],{'$set':{'messages':_0x2ad459[_0x5153ff(0x658)]}},this[_0x5153ff(0x764)]['wuid'])),_0x2ad459;}catch(_0x465f39){let _0x16eb96='Erro\x20ao\x20adicionar\x20mensagens\x20ao\x20grupo',_0x3ec92b=_0x465f39 instanceof Error?_0x465f39['message']:typeof _0x465f39=='object'?JSON[_0x5153ff(0x54f)](_0x465f39):_0x465f39,_0x1800a5=_0x16eb96+':\x20'+_0x3ec92b;throw this[_0x5153ff(0x341)][_0x5153ff(0x1f6)](this[_0x5153ff(0x699)]+'\x20('+this[_0x5153ff(0x764)][_0x5153ff(0x265)]+_0x5153ff(0x6ae)+_0x1800a5),new m(_0x1800a5);}}async[a0_0x53f180(0x3ea)](_0x333686){const _0x39cffd=a0_0x53f180;try{if(this[_0x39cffd(0x341)]['verbose'](this[_0x39cffd(0x699)]+'\x20('+this['instance'][_0x39cffd(0x265)]+_0x39cffd(0x8ef)),!_0x333686[_0x39cffd(0x452)]||!_0x333686['messages'])throw new Error(_0x39cffd(0x561));let _0x1ad700=_0x333686[_0x39cffd(0x452)],_0x2f7be7=_0x333686[_0x39cffd(0x658)],_0xb09fb8=_0x2f7be7[_0x39cffd(0x353)](_0x141960=>!_0x141960['delete'])[_0x39cffd(0x5bd)](_0x7164e3=>{const _0x58ec3f=_0x39cffd;let _0x49e550=_0x7164e3[_0x58ec3f(0x452)];if(!_0x49e550)throw new Error(_0x58ec3f(0x820));return _0x7164e3[_0x58ec3f(0x394)]||(_0x7164e3['idSchedule']=_0x1ad700),delete _0x7164e3[_0x58ec3f(0x76f)],{'updateOne':{'filter':{'_id':_0x1ad700,'messages._id':_0x49e550},'update':{'$set':{'messages.$[elem]':_0x7164e3}},'arrayFilters':[{'elem._id':_0x49e550}]}};}),_0x41b520=_0x2f7be7[_0x39cffd(0x353)](_0x5204c7=>_0x5204c7[_0x39cffd(0x2c1)])[_0x39cffd(0x5bd)](_0xccbb2a=>{const _0x23ff02=_0x39cffd;let _0x50eac6=_0xccbb2a[_0x23ff02(0x452)];if(!_0x50eac6)throw new Error('Cada\x20mensagem\x20deve\x20ter\x20um\x20_id\x20para\x20exclusão.');return{'updateOne':{'filter':{'_id':_0x1ad700},'update':{'$pull':{'messages':{'_id':_0x50eac6}}}}};}),_0x10d0a4=[..._0xb09fb8,..._0x41b520],_0x184727=await this[_0x39cffd(0x1cb)]['scheduleMessage'][_0x39cffd(0x58c)](_0x10d0a4,this[_0x39cffd(0x764)][_0x39cffd(0x265)]),_0x19eb7a=await this[_0x39cffd(0x1cb)]['scheduleMessage'][_0x39cffd(0x662)](_0x1ad700,this[_0x39cffd(0x764)][_0x39cffd(0x265)]);return _0x19eb7a&&(this['reorderMessages'](_0x19eb7a[_0x39cffd(0x658)]),await this[_0x39cffd(0x1cb)]['scheduleMessage'][_0x39cffd(0x6f8)](_0x19eb7a['_id'],{'$set':{'messages':_0x19eb7a[_0x39cffd(0x658)]}},this[_0x39cffd(0x764)][_0x39cffd(0x265)])),_0x19eb7a;}catch(_0x5de166){let _0x2aa234=_0x39cffd(0x6e8),_0x3571b4=_0x5de166 instanceof Error?_0x5de166['message']:typeof _0x5de166==_0x39cffd(0x204)?JSON['stringify'](_0x5de166):_0x5de166,_0x31ec21=_0x2aa234+':\x20'+_0x3571b4;throw this['logger'][_0x39cffd(0x1f6)](this[_0x39cffd(0x699)]+'\x20('+this[_0x39cffd(0x764)]['wuid']+_0x39cffd(0x6ae)+_0x31ec21),new m(_0x31ec21);}}async[a0_0x53f180(0x3eb)](){const _0x1b04a4=a0_0x53f180;try{let _0x1b8d64={'status':_0x1b04a4(0x73e)},_0x40e378=await this[_0x1b04a4(0x1cb)][_0x1b04a4(0x726)][_0x1b04a4(0x3b4)](_0x1b8d64,this[_0x1b04a4(0x764)][_0x1b04a4(0x265)]);if(!_0x40e378[_0x1b04a4(0x1f6)])this['logger'][_0x1b04a4(0x242)](this[_0x1b04a4(0x699)]+'\x20('+this[_0x1b04a4(0x764)][_0x1b04a4(0x265)]+_0x1b04a4(0x219));else throw new Error(_0x40e378['error'][_0x1b04a4(0x82d)]||_0x1b04a4(0x3ec));return this[_0x1b04a4(0x854)]();}catch(_0x1f03f4){let _0x50577c='Erro\x20ao\x20deletar\x20grupos\x20de\x20mensagens\x20com\x20status\x20done/stopped',_0x378103=_0x1f03f4 instanceof Error?_0x1f03f4['message']:typeof _0x1f03f4=='object'?JSON[_0x1b04a4(0x54f)](_0x1f03f4):_0x1f03f4,_0x1a11f8=_0x50577c+':\x20'+_0x378103;throw this[_0x1b04a4(0x341)]['error'](this[_0x1b04a4(0x699)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x1a11f8),new m(_0x1a11f8);}}async[a0_0x53f180(0x854)](){const _0x7e94e3=a0_0x53f180;try{return await this['repository'][_0x7e94e3(0x726)][_0x7e94e3(0x479)]({'where':{}},this[_0x7e94e3(0x764)][_0x7e94e3(0x265)]);}catch(_0x5297e8){let _0x25f5f7=_0x7e94e3(0x7cf),_0x5571d6=_0x5297e8 instanceof Error?_0x5297e8['message']:typeof _0x5297e8==_0x7e94e3(0x204)?JSON[_0x7e94e3(0x54f)](_0x5297e8):_0x5297e8,_0x22dbe9=_0x25f5f7+':\x20'+_0x5571d6;throw this[_0x7e94e3(0x341)]['error'](this[_0x7e94e3(0x699)]+'\x20('+this[_0x7e94e3(0x764)][_0x7e94e3(0x265)]+_0x7e94e3(0x6ae)+_0x22dbe9),new m(_0x22dbe9);}}[a0_0x53f180(0x3c2)](_0x4d5373){const _0x10ed2d=a0_0x53f180;_0x4d5373[_0x10ed2d(0x5f0)]((_0x539e31,_0x2ac2fb)=>_0x539e31['order']-_0x2ac2fb['order']),_0x4d5373['forEach']((_0x455171,_0x201013)=>{const _0x2ae640=_0x10ed2d;_0x455171[_0x2ae640(0x7b0)]=_0x201013+0x1;});}async['SendScheduleMessage'](_0x4da766,_0x2fe573){const _0x5df0a4=a0_0x53f180;try{if(!_0x2fe573)return this[_0x5df0a4(0x341)][_0x5df0a4(0x1f6)](this['instanceName']+'\x20('+this[_0x5df0a4(0x764)][_0x5df0a4(0x265)]+_0x5df0a4(0x7fd)),{'error':!0x0,'detail':'Nenhuma\x20mensagem\x20encontrada\x20para\x20envio'};if(_0x2fe573[_0x5df0a4(0x6b8)]===_0x5df0a4(0x72a)&&!this[_0x5df0a4(0x335)]?.[_0x5df0a4(0x72d)]['enabled'])return this[_0x5df0a4(0x341)]['error'](this[_0x5df0a4(0x699)]+'\x20('+this[_0x5df0a4(0x764)][_0x5df0a4(0x265)]+_0x5df0a4(0x42b)),{'error':!0x0,'detail':_0x5df0a4(0x640)};switch(_0x2fe573['type']){case'text':return await this[_0x5df0a4(0x5e2)](_0x2fe573,_0x4da766);case _0x5df0a4(0x4c4):case _0x5df0a4(0x32b):case _0x5df0a4(0x2bc):return await this['scheduleSendMedia'](_0x2fe573,_0x4da766);case _0x5df0a4(0x517):return await this['scheduleSendAudio'](_0x2fe573,_0x4da766);case _0x5df0a4(0x72a):let _0x545c97=new Qe();return _0x545c97[_0x5df0a4(0x7b2)]=_0x2fe573[_0x5df0a4(0x72a)],_0x545c97[_0x5df0a4(0x87e)]=_0x4da766,await this[_0x5df0a4(0x2d8)](_0x545c97);default:return this[_0x5df0a4(0x341)][_0x5df0a4(0x1f6)](this[_0x5df0a4(0x699)]+'\x20('+this[_0x5df0a4(0x764)]['wuid']+_0x5df0a4(0x34c)+_0x2fe573[_0x5df0a4(0x6b8)]),{'error':!0x0,'detail':_0x5df0a4(0x3c0)};}}catch(_0x5c2672){return this[_0x5df0a4(0x341)][_0x5df0a4(0x1f6)](this[_0x5df0a4(0x699)]+'\x20('+this[_0x5df0a4(0x764)]['wuid']+_0x5df0a4(0x4eb)+(_0x5c2672 instanceof Error?_0x5c2672['message']:JSON[_0x5df0a4(0x54f)](_0x5c2672,null,0x2))),{'error':!0x0,'detail':_0x5c2672[_0x5df0a4(0x82d)]};}}async[a0_0x53f180(0x5e2)](_0x10cc0b,_0xcb61f1){const _0x3eca47=a0_0x53f180;if(this[_0x3eca47(0x341)][_0x3eca47(0x242)](this['instanceName']+'\x20('+this[_0x3eca47(0x764)][_0x3eca47(0x265)]+'):\x20\x27Enviando\x20texto\x20para\x20\x27'+_0xcb61f1+'\x27'),!_0x10cc0b[_0x3eca47(0x746)]||_0x10cc0b['text'][_0x3eca47(0x27a)]===0x0)return{'error':!0x0,'detail':_0x3eca47(0x458)};let _0x608e4=await this[_0x3eca47(0x3b0)](_0x10cc0b['text'],_0xcb61f1),_0x2495a8={'number':_0xcb61f1,'options':{'delay':_0x10cc0b['delay'],'linkPreview':_0x10cc0b[_0x3eca47(0x5eb)]},'textMessage':{'text':_0x608e4}},_0x1860db=null;try{let _0x1b6787=await this[_0x3eca47(0x6a3)](_0x2495a8);if(_0x1b6787&&_0x1b6787['status'])return{'error':!0x1,'id':_0x1b6787[_0x3eca47(0x861)]['id']};_0x1860db=JSON[_0x3eca47(0x54f)](_0x1b6787),this[_0x3eca47(0x341)][_0x3eca47(0x242)](this[_0x3eca47(0x699)]+'\x20('+this[_0x3eca47(0x764)][_0x3eca47(0x265)]+'):\x20'+_0x1860db);}catch(_0x2e8fc1){this[_0x3eca47(0x341)]['error'](this[_0x3eca47(0x699)]+'\x20('+this[_0x3eca47(0x764)][_0x3eca47(0x265)]+_0x3eca47(0x36d)+(_0x2e8fc1 instanceof Error?_0x2e8fc1[_0x3eca47(0x82d)]:JSON[_0x3eca47(0x54f)](_0x2e8fc1,null,0x2))),_0x1860db=_0x2e8fc1[_0x3eca47(0x82d)];}if(_0x1860db)return{'error':!0x0,'detail':(typeof _0x1860db==_0x3eca47(0x204)?JSON[_0x3eca47(0x54f)](_0x1860db,null,0x2):_0x1860db)[_0x3eca47(0x1ef)](/[\[\]{}\n]/g,'\x20')[_0x3eca47(0x1ef)](/  +/g,'\x20')};}async[a0_0x53f180(0x850)](_0x27ebd2,_0x28781b){const _0x4b3d40=a0_0x53f180;this[_0x4b3d40(0x341)][_0x4b3d40(0x242)](this[_0x4b3d40(0x699)]+'\x20('+this[_0x4b3d40(0x764)][_0x4b3d40(0x265)]+_0x4b3d40(0x431)+_0x28781b+'\x27');let _0x12c1de;_0x27ebd2[_0x4b3d40(0x746)]&&_0x27ebd2['text'][_0x4b3d40(0x27a)]>0x0&&(_0x12c1de=await this['replaceVariablesChat'](_0x27ebd2['text'],_0x28781b));let _0x11cb63={'number':_0x28781b,'options':{'delay':_0x27ebd2[_0x4b3d40(0x4aa)],'linkPreview':_0x27ebd2[_0x4b3d40(0x5eb)]},'mediaMessage':{'mediatype':_0x27ebd2[_0x4b3d40(0x6b8)],'caption':_0x12c1de,'media':_0x27ebd2['urlOrBase64']}},_0x4702d5=null;try{let _0x3d0792=await this[_0x4b3d40(0x5bf)](_0x11cb63);if(_0x3d0792&&_0x3d0792[_0x4b3d40(0x315)])return{'error':!0x1,'id':_0x3d0792[_0x4b3d40(0x861)]['id']};_0x4702d5=JSON[_0x4b3d40(0x54f)](_0x3d0792),this[_0x4b3d40(0x341)][_0x4b3d40(0x242)](this[_0x4b3d40(0x699)]+'\x20('+this[_0x4b3d40(0x764)][_0x4b3d40(0x265)]+_0x4b3d40(0x6ae)+_0x4702d5);}catch(_0x23f5ed){this[_0x4b3d40(0x341)][_0x4b3d40(0x1f6)](this[_0x4b3d40(0x699)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x23f5ed instanceof Error?_0x23f5ed[_0x4b3d40(0x82d)]:JSON[_0x4b3d40(0x54f)](_0x23f5ed,null,0x2))),_0x4702d5=_0x23f5ed['message'];}if(_0x4702d5)return{'error':!0x0,'detail':(typeof _0x4702d5==_0x4b3d40(0x204)?JSON['stringify'](_0x4702d5,null,0x2):_0x4702d5)[_0x4b3d40(0x1ef)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x53f180(0x7fc)](_0x1d1571,_0x6d6709){const _0x8297f=a0_0x53f180;this[_0x8297f(0x341)][_0x8297f(0x242)](this[_0x8297f(0x699)]+'\x20('+this['instance'][_0x8297f(0x265)]+_0x8297f(0x5ad)+_0x6d6709+'\x27');let _0x46c462={'number':_0x6d6709,'options':{'delay':_0x1d1571[_0x8297f(0x4aa)]},'audioMessage':{'audio':_0x1d1571['urlOrBase64']}},_0x3b5768=null;try{let _0x204df2=await this[_0x8297f(0x7a5)](_0x46c462);if(_0x204df2&&_0x204df2[_0x8297f(0x315)])return{'error':!0x1,'id':_0x204df2['key']['id']};_0x3b5768=JSON[_0x8297f(0x54f)](_0x204df2),this[_0x8297f(0x341)][_0x8297f(0x242)](this[_0x8297f(0x699)]+'\x20('+this[_0x8297f(0x764)][_0x8297f(0x265)]+_0x8297f(0x6ae)+_0x3b5768);}catch(_0x536ec8){this[_0x8297f(0x341)][_0x8297f(0x1f6)](this[_0x8297f(0x699)]+'\x20('+this[_0x8297f(0x764)][_0x8297f(0x265)]+_0x8297f(0x42d)+(_0x536ec8 instanceof Error?_0x536ec8[_0x8297f(0x82d)]:JSON['stringify'](_0x536ec8,null,0x2))),_0x3b5768=_0x536ec8['message'];}if(_0x3b5768)return{'error':!0x0,'detail':(typeof _0x3b5768==_0x8297f(0x204)?JSON[_0x8297f(0x54f)](_0x3b5768,null,0x2):_0x3b5768)[_0x8297f(0x1ef)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x53f180(0x651)](_0x29fb37){const _0x16f464=a0_0x53f180;try{return await this[_0x16f464(0x6ea)]['groupUpdateDescription'](_0x29fb37[_0x16f464(0x636)],_0x29fb37[_0x16f464(0x45a)]),{'update':_0x16f464(0x659)};}catch(_0xe280c7){let _0x4bcb01=_0x16f464(0x5e6),_0x262aa0=_0xe280c7 instanceof Error?_0xe280c7[_0x16f464(0x82d)]:typeof _0xe280c7==_0x16f464(0x204)?JSON[_0x16f464(0x54f)](_0xe280c7):_0xe280c7,_0x59e58e=_0x4bcb01+':\x20'+_0x262aa0;throw this[_0x16f464(0x341)]['error'](this[_0x16f464(0x699)]+'\x20('+this[_0x16f464(0x764)][_0x16f464(0x265)]+'):\x20'+_0x59e58e),new x(_0x59e58e);}}async[a0_0x53f180(0x625)](_0x429e49){const _0x258d1f=a0_0x53f180;try{return await this['client']['groupUpdateSubject'](_0x429e49[_0x258d1f(0x636)],_0x429e49[_0x258d1f(0x7b2)]),{'update':'success'};}catch(_0x49c801){let _0x4ff36a=_0x258d1f(0x853),_0x40c20e=_0x49c801 instanceof Error?_0x49c801[_0x258d1f(0x82d)]:typeof _0x49c801==_0x258d1f(0x204)?JSON[_0x258d1f(0x54f)](_0x49c801):_0x49c801,_0x5435ec=_0x4ff36a+':\x20'+_0x40c20e;throw this[_0x258d1f(0x341)][_0x258d1f(0x1f6)](this[_0x258d1f(0x699)]+'\x20('+this[_0x258d1f(0x764)][_0x258d1f(0x265)]+'):\x20'+_0x5435ec),new x(_0x5435ec);}}async[a0_0x53f180(0x515)](_0x2f326c){const _0x309247=a0_0x53f180;try{let _0x40cbc7=await this[_0x309247(0x6ea)][_0x309247(0x3fa)](_0x2f326c['groupJid'],_0x2f326c[_0x309247(0x681)]);return{'success':!0x0};}catch(_0xbe3b8f){let _0x337e31=_0x309247(0x8a1),_0x3ae775=_0xbe3b8f instanceof Error?_0xbe3b8f[_0x309247(0x82d)]:typeof _0xbe3b8f==_0x309247(0x204)?JSON[_0x309247(0x54f)](_0xbe3b8f):_0xbe3b8f,_0x13ca09=_0x337e31+':\x20'+_0x3ae775;throw this[_0x309247(0x341)][_0x309247(0x1f6)](this['instanceName']+'\x20('+this['instance'][_0x309247(0x265)]+_0x309247(0x6ae)+_0x13ca09),new x(_0x13ca09);}}async[a0_0x53f180(0x66f)](_0x4e5852){const _0x20e2ad=a0_0x53f180;try{return await this[_0x20e2ad(0x6ea)][_0x20e2ad(0x28d)](_0x4e5852['groupJid'],_0x4e5852[_0x20e2ad(0x644)]),{'update':_0x20e2ad(0x659)};}catch(_0x425d54){let _0x1a297d=_0x20e2ad(0x347),_0xcefcf4=_0x425d54 instanceof Error?_0x425d54[_0x20e2ad(0x82d)]:typeof _0x425d54==_0x20e2ad(0x204)?JSON['stringify'](_0x425d54):_0x425d54,_0x1c7bdd=_0x1a297d+':\x20'+_0xcefcf4;throw this[_0x20e2ad(0x341)][_0x20e2ad(0x1f6)](this[_0x20e2ad(0x699)]+'\x20('+this[_0x20e2ad(0x764)]['wuid']+_0x20e2ad(0x6ae)+_0x1c7bdd),new x(_0x1c7bdd);}}async[a0_0x53f180(0x6c5)](_0x158078){const _0x5b6051=a0_0x53f180;try{let _0x1e3634;if((0x0,L['isURL'])(_0x158078[_0x5b6051(0x32b)])){let _0x5c2ada=new Date()[_0x5b6051(0x78f)](),_0x31a4e4=_0x158078[_0x5b6051(0x32b)]+_0x5b6051(0x3c6)+_0x5c2ada;_0x1e3634=(await te[_0x5b6051(0x391)][_0x5b6051(0x6c4)](_0x31a4e4,{'responseType':_0x5b6051(0x5e9)}))[_0x5b6051(0x2ea)];}else{if((0x0,L[_0x5b6051(0x2c4)])(_0x158078[_0x5b6051(0x32b)]))_0x1e3634=Buffer[_0x5b6051(0x457)](_0x158078[_0x5b6051(0x32b)],_0x5b6051(0x4f7));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x5b6051(0x6ea)][_0x5b6051(0x889)](_0x158078[_0x5b6051(0x636)],_0x1e3634),{'update':_0x5b6051(0x659)};}catch(_0x97063d){let _0x2f70b8=_0x5b6051(0x6fc),_0x1c29eb=_0x97063d instanceof Error?_0x97063d[_0x5b6051(0x82d)]:typeof _0x97063d=='object'?JSON[_0x5b6051(0x54f)](_0x97063d):_0x97063d,_0xa465a2=_0x2f70b8+':\x20'+_0x1c29eb;throw this[_0x5b6051(0x341)][_0x5b6051(0x1f6)](this[_0x5b6051(0x699)]+'\x20('+this[_0x5b6051(0x764)][_0x5b6051(0x265)]+'):\x20'+_0xa465a2),new x(_0xa465a2);}}},Bt=class u{constructor(_0x33ec78,_0x3ccaaa,_0x468a0b){const _0x414b34=a0_0x53f180;this['eventEmitter']=_0x33ec78,this[_0x414b34(0x6f4)]=_0x3ccaaa,this['repository']=_0x468a0b,this['db']={},this[_0x414b34(0x892)]={},this[_0x414b34(0x341)]=new $(u[_0x414b34(0x7b2)]),this[_0x414b34(0x1aa)]={},(this[_0x414b34(0x39d)](),this[_0x414b34(0x1d0)](),Object[_0x414b34(0x8bc)](this['db'],_0x3ccaaa[_0x414b34(0x6c4)](_0x414b34(0x739))),Object['assign'](this[_0x414b34(0x892)],_0x3ccaaa['get'](_0x414b34(0x2a6))),this[_0x414b34(0x314)]=this['db'][_0x414b34(0x8a8)]?this[_0x414b34(0x1cb)][_0x414b34(0x8eb)]?.['db'](this['db'][_0x414b34(0x1e6)][_0x414b34(0x349)]+_0x414b34(0x8e5)):void 0x0,this[_0x414b34(0x859)]=this[_0x414b34(0x892)][_0x414b34(0x8a8)]?new ge(this[_0x414b34(0x892)]):void 0x0);}async['instanceInfo'](_0x312f4c){const _0x380642=a0_0x53f180;if(_0x312f4c&&!this[_0x380642(0x1aa)][_0x312f4c])throw new J(_0x380642(0x7f6)+_0x312f4c+_0x380642(0x684));let _0x47f883=[];for await(let [_0x12adac,_0x590952]of Object[_0x380642(0x615)](this[_0x380642(0x1aa)]))if(_0x590952&&_0x590952[_0x380642(0x419)]['state']===_0x380642(0x488)){let _0x34ff61=await this[_0x380642(0x1cb)][_0x380642(0x3f2)][_0x380642(0x479)](_0x12adac);_0x47f883[_0x380642(0x635)]({'instance':{'instanceName':_0x12adac,'apikey':_0x34ff61[_0x380642(0x3fb)],'owner':_0x590952[_0x380642(0x265)],'profileName':await _0x590952[_0x380642(0x686)]()||_0x380642(0x5e8),'profilePictureUrl':_0x590952[_0x380642(0x6a1)]}});}return _0x47f883[_0x380642(0x479)](_0x3b05fb=>_0x3b05fb[_0x380642(0x764)][_0x380642(0x699)]===_0x312f4c)??_0x47f883;}async['cleaningUp'](_0x52706e){const _0x2111ac=a0_0x53f180;if(this['db'][_0x2111ac(0x8a8)]&&(await this[_0x2111ac(0x1cb)]['dbServer'][_0x2111ac(0x8d1)](),(await this[_0x2111ac(0x314)]['collections']())[_0x2111ac(0x27a)]>0x0&&await this[_0x2111ac(0x314)][_0x2111ac(0x5e3)](_0x52706e)),this['redis'][_0x2111ac(0x8a8)]){this[_0x2111ac(0x859)]['reference']=_0x52706e,await this[_0x2111ac(0x859)]['delAll']();return;}}async[a0_0x53f180(0x5e0)](){const _0x30fd7c=a0_0x53f180;await this[_0x30fd7c(0x302)]();let _0x2e8487=async _0x20feb2=>{const _0x5efc06=_0x30fd7c;let _0x1650a6=new Ae(this[_0x5efc06(0x6f4)],this[_0x5efc06(0x491)],this[_0x5efc06(0x1cb)]);_0x1650a6[_0x5efc06(0x699)]=_0x20feb2,await _0x1650a6[_0x5efc06(0x321)](),this['waInstances'][_0x20feb2]=_0x1650a6;};try{if(this[_0x30fd7c(0x892)][_0x30fd7c(0x8a8)]){let _0x3c3567=await this[_0x30fd7c(0x859)]['instanceKeys']();_0x3c3567?.['length']>0x0&&_0x3c3567[_0x30fd7c(0x313)](async _0x402400=>await _0x2e8487(_0x402400[_0x30fd7c(0x6ca)](':')[0x1]));return;}if(this['db'][_0x30fd7c(0x8a8)]){await this['repository'][_0x30fd7c(0x8eb)][_0x30fd7c(0x8d1)]();let _0x19056a=await this['dbInstance'][_0x30fd7c(0x29e)]();_0x19056a['length']>0x0&&_0x19056a[_0x30fd7c(0x313)](async _0x3e2eee=>await _0x2e8487(_0x3e2eee[_0x30fd7c(0x851)][_0x30fd7c(0x1ef)](/^[\w-]+\./,'')));return;}}catch(_0x187152){this[_0x30fd7c(0x341)][_0x30fd7c(0x1f6)](_0x187152);}}async['cleanDisconnectedInstances'](){const _0xb7e3eb=a0_0x53f180;try{let _0xd370fe=await this[_0xb7e3eb(0x1cb)][_0xb7e3eb(0x3f2)][_0xb7e3eb(0x393)]({'online':!0x1});for(let _0x3e6a60 of _0xd370fe){let _0x149163=_0x3e6a60[_0xb7e3eb(0x452)];await re[_0xb7e3eb(0x28c)](K,_0x149163);}console[_0xb7e3eb(0x4d9)](_0xb7e3eb(0x6af)+_0xd370fe[_0xb7e3eb(0x27a)]);let _0x34d3eb={'online':!0x1},_0x5411de=await this[_0xb7e3eb(0x1cb)][_0xb7e3eb(0x3f2)]['deleteMany'](_0x34d3eb);console[_0xb7e3eb(0x4d9)]('Instâncias\x20removidas:\x20'+_0x5411de[_0xb7e3eb(0x76c)]);}catch(_0x22d810){console[_0xb7e3eb(0x1f6)](_0xb7e3eb(0x744),_0x22d810);}}async[a0_0x53f180(0x302)](){const _0x576dd4=a0_0x53f180;try{let _0x553cdd={'online':!0x1},_0x254930={'online':!0x1,'lastDisconnect':Date[_0x576dd4(0x6bb)]()},_0x56a7f1=await this[_0x576dd4(0x1cb)]['auth'][_0x576dd4(0x627)](_0x553cdd,_0x254930);await this[_0x576dd4(0x80e)]();}catch(_0x4e967f){console[_0x576dd4(0x1f6)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x4e967f);}}[a0_0x53f180(0x39d)](){const _0x142a7a=a0_0x53f180;this[_0x142a7a(0x491)]['on'](_0x142a7a(0x1b3),async _0x516086=>{const _0x1c6f04=_0x142a7a;try{this['waInstances'][_0x516086]=void 0x0;}catch{}try{this['cleaningUp'](_0x516086);}finally{this[_0x1c6f04(0x341)][_0x1c6f04(0x848)](_0x1c6f04(0x7f6)+_0x516086+_0x1c6f04(0x1a7));}});}['noConnection'](){this['eventEmitter']['on']('no.connection',async _0x22c6ed=>{const _0x377003=a0_0x150f;try{this[_0x377003(0x1aa)][_0x22c6ed]=void 0x0;}catch{}try{this[_0x377003(0x5e5)](_0x22c6ed);}finally{this[_0x377003(0x341)][_0x377003(0x848)](_0x377003(0x7f6)+_0x22c6ed+_0x377003(0x40c));}});}},Wt=class extends _{[a0_0x53f180(0x310)](_0x4258a4){return aa(_0x4258a4);}async[a0_0x53f180(0x2f1)](_0x4535c8){const _0x402025=a0_0x53f180;if(_0x4535c8[_0x402025(0x27a)]!==0x0)try{return{'insertCount':(await this[_0x402025(0x310)](_0x4535c8[0x0][_0x402025(0x285)])[_0x402025(0x414)]([..._0x4535c8]))[_0x402025(0x27a)]};}catch(_0x41e52b){return _0x41e52b;}}async[a0_0x53f180(0x479)](_0x5989f7,_0x1b2249){const _0x59ea55=a0_0x53f180;try{let _0x4436fb=this['getChatModelForOwner'](_0x1b2249),_0x223b99=I(_0x5989f7['where']);return await _0x4436fb['find'](_0x223b99)[_0x59ea55(0x5f0)]({'lastmsg':-0x1})[_0x59ea55(0x682)](_0x5989f7?.['limit']??0x0)[_0x59ea55(0x818)]();}catch{return[];}}async[a0_0x53f180(0x3e9)](_0x51e258,_0x2addcb){const _0x522eed=a0_0x53f180;try{let _0x5b34d2=this[_0x522eed(0x310)](_0x2addcb),_0x528d92=I(_0x51e258[_0x522eed(0x422)]);return _0x528d92['groupdata.participants']={'$ne':[]},await _0x5b34d2[_0x522eed(0x479)](_0x528d92)[_0x522eed(0x5f0)]({'lastmsg':-0x1})[_0x522eed(0x682)](_0x51e258?.['limit']??0x0)[_0x522eed(0x818)]();}catch{return[];}}async[a0_0x53f180(0x2c1)](_0x3df065,_0x54a9b1){const _0x5ce152=a0_0x53f180;try{return{'deletedCount':(await this[_0x5ce152(0x310)](_0x54a9b1)[_0x5ce152(0x3b4)]({..._0x3df065['where']}))['deletedCount']};}catch(_0x267c4a){return{'error':_0x267c4a?.['toString']()};}}async[a0_0x53f180(0x520)](_0x42941e,_0x2987a0){const _0x4b33ff=a0_0x53f180;try{return await this[_0x4b33ff(0x310)](_0x2987a0)[_0x4b33ff(0x3b4)]({..._0x42941e[_0x4b33ff(0x422)]}),[];}catch(_0x592ccb){return{'error':_0x592ccb?.[_0x4b33ff(0x76d)]()};}}async[a0_0x53f180(0x741)](_0xf7d4c3,_0x4c6415){const _0x36ecff=a0_0x53f180;try{let _0x374db9=this[_0x36ecff(0x310)](_0x4c6415),_0x56e660=I(_0xf7d4c3[_0x36ecff(0x422)]);return await _0x374db9['findOne'](_0x56e660)[_0x36ecff(0x818)]();}catch{return null;}}async[a0_0x53f180(0x5ea)](_0x183205,_0x1b5c7f,_0x1344ed,_0x1cf1fb,_0x5e8129=a0_0x53f180(0x79d)){const _0x247d76=a0_0x53f180;try{let _0x141ba4={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x1cf1fb},_0x23722d=this[_0x247d76(0x310)](_0x1344ed),_0x2ff6ff=I(_0x183205[_0x247d76(0x422)]);Object['keys'](_0x1b5c7f)[_0x247d76(0x313)](_0xd4e716=>{_0x1b5c7f[_0xd4e716]==null&&delete _0x1b5c7f[_0xd4e716];});let _0x1c757f={};return _0x1c757f[_0x5e8129]=_0x1b5c7f,await _0x23722d[_0x247d76(0x73c)](_0x2ff6ff,_0x1c757f,_0x141ba4);}catch(_0x1dc9cf){return console['error'](_0x1dc9cf),null;}}async[a0_0x53f180(0x63c)](_0x2912a0){const _0x2d4749=a0_0x53f180;try{let _0x34ad58=this[_0x2d4749(0x310)](_0x2912a0[0x0][_0x2d4749(0x53b)][_0x2d4749(0x422)][_0x2d4749(0x285)]),_0x28245f=_0x2912a0[_0x2d4749(0x5bd)](_0x233077=>({'updateOne':{'filter':{..._0x233077[_0x2d4749(0x53b)]['where']},'update':{'$set':_0x233077[_0x2d4749(0x513)]},'upsert':!0x0}})),_0x196229=await _0x34ad58[_0x2d4749(0x58c)](_0x28245f);return _0x196229[_0x2d4749(0x832)]+_0x196229[_0x2d4749(0x4e0)];}catch(_0x25b085){return console['error'](_0x25b085),0x0;}}async[a0_0x53f180(0x6b0)](_0x31812b){const _0x12ff39=a0_0x53f180;try{let _0x3551c6={'group_isCommunity':'','group_announce':'','group_size':''},_0x5c570d={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x1f2e60={'$unset':_0x3551c6};return(await this[_0x12ff39(0x310)](_0x31812b)[_0x12ff39(0x63c)](_0x5c570d,_0x1f2e60))[_0x12ff39(0x832)];}catch(_0x5f5cdc){return console[_0x12ff39(0x1f6)](_0x12ff39(0x58a),_0x5f5cdc),0x0;}}async[a0_0x53f180(0x7f8)](_0x2a0484){const _0x2ef487=a0_0x53f180;try{let _0x150026=this['getChatModelForOwner'](_0x2a0484),_0x12f1d1={'leadInfo.etiquetas':{'$exists':!0x1}},_0x443d5c={'$set':{'leadInfo.etiquetas':[]}};return(await _0x150026[_0x2ef487(0x63c)](_0x12f1d1,_0x443d5c))['modifiedCount'];}catch(_0x46e1a9){return console[_0x2ef487(0x1f6)](_0x46e1a9),0x0;}}async[a0_0x53f180(0x6aa)](_0x4f62b4){const _0x2a3664=a0_0x53f180;try{let _0x33c54f=this[_0x2a3664(0x310)](_0x4f62b4),_0x3bf3fb={'leadInfo.tags':{'$exists':!0x1}},_0x430b8c={'$set':{'leadInfo.tags':[]}};return(await _0x33c54f[_0x2a3664(0x63c)](_0x3bf3fb,_0x430b8c))[_0x2a3664(0x832)];}catch(_0x5418f5){return console[_0x2a3664(0x1f6)](_0x5418f5),0x0;}}async['updateMissingCustomFields'](_0x260eaf){const _0x3ff6f7=a0_0x53f180;try{let _0x234e75=this[_0x3ff6f7(0x310)](_0x260eaf),_0x19c31d={'leadInfo.customFields':{'$exists':!0x1}},_0x29c96d={'$set':{'leadInfo.customFields':[]}};return(await _0x234e75[_0x3ff6f7(0x63c)](_0x19c31d,_0x29c96d))['modifiedCount'];}catch(_0x2e3880){return console[_0x3ff6f7(0x1f6)](_0x2e3880),0x0;}}async['insertMany'](_0x55dc4c,_0x95d783){const _0x847ac9=a0_0x53f180;if(!Array[_0x847ac9(0x714)](_0x55dc4c)||_0x55dc4c[_0x847ac9(0x27a)]===0x0)throw new Error('Nenhum\x20chat\x20fornecido\x20para\x20inserção.');try{return(await this[_0x847ac9(0x310)](_0x95d783)['insertMany'](_0x55dc4c))[_0x847ac9(0x27a)];}catch(_0x361f71){throw console['error'](_0x847ac9(0x4d6),_0x361f71),_0x361f71;}}async[a0_0x53f180(0x5b5)](_0x544ae2,_0x1ef118){const _0x1bc89b=a0_0x53f180;try{await this['getChatModelForOwner'](_0x1ef118)[_0x1bc89b(0x85e)]({'_id':_0x544ae2});}catch(_0x15ee1a){throw console['error'](_0x1bc89b(0x49f),_0x15ee1a),_0x15ee1a;}}},zt=class extends _{constructor(_0x421d03,_0x230b68,_0x1bd1c5){const _0x2799f9=a0_0x53f180;super(_0x230b68),this[_0x2799f9(0x26a)]=_0x421d03,this['configService']=_0x230b68,this[_0x2799f9(0x42e)]=_0x1bd1c5;}async['insert'](_0x9a852c){const _0xc2c6fc=a0_0x53f180;if(_0x9a852c[_0xc2c6fc(0x27a)]!==0x0)try{return{'insertCount':(await this[_0xc2c6fc(0x26a)][_0xc2c6fc(0x414)]([..._0x9a852c]))[_0xc2c6fc(0x27a)]};}catch(_0x49a906){return _0x49a906;}}async[a0_0x53f180(0x513)](_0x46f9ff,_0x2ac6c4){const _0x381d39=a0_0x53f180;try{let _0x3c0af7=I(_0x46f9ff[_0x381d39(0x422)]);return{'updatedCount':(await this[_0x381d39(0x26a)]['updateMany'](_0x3c0af7,{'$set':_0x2ac6c4}))[_0x381d39(0x832)]};}catch(_0x1720ce){return console[_0x381d39(0x1f6)]('Error\x20updating\x20cache\x20contact:',_0x1720ce),{'error':_0x1720ce[_0x381d39(0x76d)]()};}}async[a0_0x53f180(0x7a7)](_0x197598){const _0x5c5556=a0_0x53f180;try{let _0x5e2fa7={'_id':{'$in':_0x197598}};return await this['cacheContactModel'][_0x5c5556(0x479)](_0x5e2fa7)['lean']();}catch(_0x190f0a){return console[_0x5c5556(0x1f6)](_0x5c5556(0x823),_0x190f0a),[];}}async[a0_0x53f180(0x2c1)](_0x54b346){const _0x5a2e96=a0_0x53f180;try{return{'deletedCount':(await this[_0x5a2e96(0x26a)][_0x5a2e96(0x3b4)]({..._0x54b346['where']}))[_0x5a2e96(0x893)]};}catch(_0x204453){return{'error':_0x204453?.[_0x5a2e96(0x76d)]()};}}async['find'](_0x189c37){const _0x395278=a0_0x53f180;try{let _0x43c100=I(_0x189c37[_0x395278(0x422)]);return await this['cacheContactModel'][_0x395278(0x479)](_0x43c100)[_0x395278(0x682)](_0x189c37?.[_0x395278(0x682)]??0x0)[_0x395278(0x818)]();}catch{return[];}}async[a0_0x53f180(0x741)](_0x69dc21){const _0x36cd22=a0_0x53f180;try{let _0x10b2a6=I(_0x69dc21[_0x36cd22(0x422)]);return await this[_0x36cd22(0x26a)]['findOne'](_0x10b2a6)[_0x36cd22(0x818)]();}catch{return null;}}},Ht=class extends _{[a0_0x53f180(0x404)](_0x33c33b){return Na(_0x33c33b);}async[a0_0x53f180(0x5ea)](_0x37f367,_0x3ec565,_0x42ae88,_0x5e65ef){const _0x2eb017=a0_0x53f180;try{let _0x5be059={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5e65ef},_0x1ede24=this['getLabelModelForOwner'](_0x42ae88),_0x3f5111=I(_0x37f367[_0x2eb017(0x422)]);return await _0x1ede24[_0x2eb017(0x73c)](_0x3f5111,{'$set':_0x3ec565},_0x5be059);}catch(_0x549926){return console[_0x2eb017(0x1f6)](_0x549926),null;}}async['find'](_0x35da09,_0x3bcd86){const _0x5ec2fe=a0_0x53f180;try{let _0x706e08=this['getLabelModelForOwner'](_0x3bcd86),_0x1d275e=I(_0x35da09['where']);return await _0x706e08[_0x5ec2fe(0x479)](_0x1d275e);}catch(_0x406822){console[_0x5ec2fe(0x1f6)](_0x406822);}}async['delete'](_0x52ad4d,_0x173271){const _0x357fd8=a0_0x53f180;try{let _0x1caf7f=this['getLabelModelForOwner'](_0x173271),_0x2c8b29=I(_0x52ad4d[_0x357fd8(0x422)]);await _0x1caf7f[_0x357fd8(0x3b4)](_0x2c8b29);}catch(_0x26abd4){console['error'](_0x26abd4);}}async[a0_0x53f180(0x520)](_0xb043c8){const _0x160afc=a0_0x53f180;try{return await this[_0x160afc(0x404)](_0xb043c8)[_0x160afc(0x6ab)]['drop'](),{'success':!0x0};}catch(_0x49609f){return console['error'](_0x49609f),{'success':!0x1,'error':_0x49609f};}}},Kt=class{constructor(_0x3b7070){this['waMonitor']=_0x3b7070;}async[a0_0x53f180(0x89b)]({instanceName:_0x3aa2dc},_0x276dd1){const _0xe3fb20=a0_0x53f180;return await this['waMonitor'][_0xe3fb20(0x1aa)][_0x3aa2dc]['editChat'](_0x276dd1);}async['whatsappNumber']({instanceName:_0x3aa45f},_0x195637){const _0x1f6229=a0_0x53f180;return await this['waMonitor'][_0x1f6229(0x1aa)][_0x3aa45f]['whatsappNumber'](_0x195637);}async[a0_0x53f180(0x2a2)]({instanceName:_0x4b67b9},_0x2d3ab1){const _0x48094e=a0_0x53f180;return await this[_0x48094e(0x6c6)][_0x48094e(0x1aa)][_0x4b67b9][_0x48094e(0x2a2)](_0x2d3ab1);}async[a0_0x53f180(0x470)]({instanceName:_0x3f5302},_0x274920){const _0x506ab4=a0_0x53f180;return await this[_0x506ab4(0x6c6)]['waInstances'][_0x3f5302][_0x506ab4(0x304)](_0x274920);}async[a0_0x53f180(0x418)]({instanceName:_0xd200a2},_0x5610de){const _0x2b9930=a0_0x53f180;return await this['waMonitor'][_0x2b9930(0x1aa)][_0xd200a2][_0x2b9930(0x418)](_0x5610de);}async[a0_0x53f180(0x7a8)]({instanceName:_0x35ef47},_0x81bdce){const _0x5ad67e=a0_0x53f180;return await this['waMonitor'][_0x5ad67e(0x1aa)][_0x35ef47][_0x5ad67e(0x7a8)](_0x81bdce);}async[a0_0x53f180(0x87a)]({instanceName:_0x25e421},_0x320971){const _0x27dc24=a0_0x53f180;return await this[_0x27dc24(0x6c6)][_0x27dc24(0x1aa)][_0x25e421][_0x27dc24(0x862)](_0x320971[_0x27dc24(0x373)]);}async[a0_0x53f180(0x37d)]({instanceName:_0x54b6cf},_0x5147c8){const _0x5b90d7=a0_0x53f180;return await this['waMonitor'][_0x5b90d7(0x1aa)][_0x54b6cf][_0x5b90d7(0x37d)](_0x5147c8[_0x5b90d7(0x373)]);}async[a0_0x53f180(0x56e)]({instanceName:_0xd1b2b6},_0x18b46b){const _0xea930e=a0_0x53f180;return await this[_0xea930e(0x6c6)][_0xea930e(0x1aa)][_0xd1b2b6][_0xea930e(0x56e)](_0x18b46b);}async[a0_0x53f180(0x427)]({instanceName:_0x17b45d},_0x53baff){const _0x17ea11=a0_0x53f180;return await this[_0x17ea11(0x6c6)][_0x17ea11(0x1aa)][_0x17b45d][_0x17ea11(0x427)](_0x53baff);}async['getBase64FromMediaMessage']({instanceName:_0x2fdb2c},_0x1985a3){const _0x57d509=a0_0x53f180;return await this[_0x57d509(0x6c6)][_0x57d509(0x1aa)][_0x2fdb2c][_0x57d509(0x3b9)](_0x1985a3);}async[a0_0x53f180(0x6de)]({instanceName:_0x5ef554},_0x2a1e8c){const _0x4fa368=a0_0x53f180;return await this[_0x4fa368(0x6c6)][_0x4fa368(0x1aa)][_0x5ef554]['fetchMessages'](_0x2a1e8c);}async['fetchLabels']({instanceName:_0x3e10fa}){const _0x2f5415=a0_0x53f180;return await this[_0x2f5415(0x6c6)]['waInstances'][_0x3e10fa][_0x2f5415(0x719)]();}async[a0_0x53f180(0x822)]({instanceName:_0x207e2d}){const _0x28319b=a0_0x53f180;return await this[_0x28319b(0x6c6)][_0x28319b(0x1aa)][_0x207e2d][_0x28319b(0x822)]();}async[a0_0x53f180(0x3f7)]({instanceName:_0xaa34ab}){const _0x147ff4=a0_0x53f180;return await this[_0x147ff4(0x6c6)]['waInstances'][_0xaa34ab]['fetchPrivacySettings']();}async[a0_0x53f180(0x2ef)]({instanceName:_0x5e87cf},_0x5770fa){const _0x44f2c1=a0_0x53f180;return await this[_0x44f2c1(0x6c6)][_0x44f2c1(0x1aa)][_0x5e87cf][_0x44f2c1(0x2ef)](_0x5770fa);}async['fetchBusinessProfile']({instanceName:_0x2a41e2},_0x28167f){const _0x4c3c7e=a0_0x53f180;return await this[_0x4c3c7e(0x6c6)][_0x4c3c7e(0x1aa)][_0x2a41e2]['fetchBusinessProfile'](_0x28167f[_0x4c3c7e(0x373)]);}async[a0_0x53f180(0x24d)]({instanceName:_0x679a46},_0x77bfdb){const _0x3a102e=a0_0x53f180;return await this[_0x3a102e(0x6c6)][_0x3a102e(0x1aa)][_0x679a46][_0x3a102e(0x24d)](_0x77bfdb[_0x3a102e(0x7b2)]);}async[a0_0x53f180(0x326)]({instanceName:_0x525cd8},_0x2aa572){const _0x175ee0=a0_0x53f180;return await this[_0x175ee0(0x6c6)][_0x175ee0(0x1aa)][_0x525cd8]['updateProfileStatus'](_0x2aa572[_0x175ee0(0x315)]);}async[a0_0x53f180(0x889)]({instanceName:_0x336a1e},_0x202ae4){const _0x21fcdc=a0_0x53f180;return await this[_0x21fcdc(0x6c6)][_0x21fcdc(0x1aa)][_0x336a1e][_0x21fcdc(0x889)](_0x202ae4[_0x21fcdc(0x203)]);}async[a0_0x53f180(0x229)]({instanceName:_0x29083d},_0x258a39){const _0x54f384=a0_0x53f180;return await this[_0x54f384(0x6c6)][_0x54f384(0x1aa)][_0x29083d][_0x54f384(0x229)]();}},Qt=require(a0_0x53f180(0x3a1)),Yt=class u{constructor(_0x419c33,_0x53b38,_0x5bb441,_0x1c6a85,_0x53970c){const _0x520dd0=a0_0x53f180;this['waMonitor']=_0x419c33,this[_0x520dd0(0x6f4)]=_0x53b38,this[_0x520dd0(0x1cb)]=_0x5bb441,this[_0x520dd0(0x491)]=_0x1c6a85,this[_0x520dd0(0x2d3)]=_0x53970c,this[_0x520dd0(0x341)]=new $(u[_0x520dd0(0x7b2)]);}async[a0_0x53f180(0x78a)]({instanceName:_0x45d5d2,apikey:_0x23ba26,number:_0x4cca59,proxy:_0x163fd2=!0x0}){const _0x4a23dc=a0_0x53f180;try{let _0x23c4bd=new Ae(this['configService'],this[_0x4a23dc(0x491)],this[_0x4a23dc(0x1cb)]);_0x23c4bd['instanceName']=_0x45d5d2,this[_0x4a23dc(0x6c6)][_0x4a23dc(0x1aa)][_0x23c4bd[_0x4a23dc(0x699)]]=_0x23c4bd;let _0x4adee3={};_0x23ba26?(await this['repository'][_0x4a23dc(0x3f2)]['create']({'apikey':_0x23ba26},_0x45d5d2),_0x4adee3[_0x4a23dc(0x3fb)]=_0x23ba26):_0x4adee3=await this[_0x4a23dc(0x2d3)][_0x4a23dc(0x61b)]({'instanceName':_0x23c4bd['instanceName']});let _0x5e55d0;if(_0x4cca59){if(_0x5e55d0=await this[_0x4a23dc(0x257)](_0x4cca59),_0x5e55d0[_0x4a23dc(0x1f6)])throw new x(_0x5e55d0[_0x4a23dc(0x1f6)][_0x4a23dc(0x76d)]());_0x4cca59=_0x5e55d0[_0x4a23dc(0x373)];}let _0x6cea96;return await _0x23c4bd[_0x4a23dc(0x321)](_0x4cca59),await(0x0,Qt[_0x4a23dc(0x4aa)])(0xfa0),_0x4cca59&&await(0x0,Qt[_0x4a23dc(0x4aa)])(0xbb8),_0x6cea96=_0x23c4bd[_0x4a23dc(0x357)],{'instance':{'instanceName':_0x23c4bd[_0x4a23dc(0x699)],'status':_0x4a23dc(0x490)},'hash':_0x4adee3,'qrcode':_0x6cea96};}catch(_0x59aa2f){throw this[_0x4a23dc(0x341)][_0x4a23dc(0x1f6)](_0x59aa2f),_0x59aa2f;}}async[a0_0x53f180(0x2c6)]({instanceName:_0x5761aa,number:_0x18ab43=null}){const _0x21b828=a0_0x53f180;try{let _0x57ef9b=this[_0x21b828(0x6c6)][_0x21b828(0x1aa)][_0x5761aa];switch(_0x57ef9b?.['connectionStatus']?.[_0x21b828(0x1fa)]){case _0x21b828(0x805):return await _0x57ef9b[_0x21b828(0x321)](_0x18ab43),await(0x0,Qt[_0x21b828(0x4aa)])(0x7d0),_0x57ef9b[_0x21b828(0x357)];case _0x21b828(0x43b):return _0x57ef9b[_0x21b828(0x357)];default:return await this[_0x21b828(0x5bc)]({'instanceName':_0x5761aa});}}catch(_0x20d8fc){this[_0x21b828(0x341)][_0x21b828(0x4d9)](_0x20d8fc);}}async[a0_0x53f180(0x5bc)]({instanceName:_0x35bf76}){const _0xc57d16=a0_0x53f180;let _0x3c43e4=this[_0xc57d16(0x6c6)][_0xc57d16(0x1aa)][_0x35bf76]['connectionStatus'],_0x33671b=null;_0x3c43e4[_0xc57d16(0x1fa)]===_0xc57d16(0x488)&&_0x35bf76&&(_0x33671b=await this[_0xc57d16(0x6c6)][_0xc57d16(0x896)](_0x35bf76));let _0x2a44f5=null;return _0x3c43e4['state']===_0xc57d16(0x43b)&&_0x35bf76&&(_0x2a44f5=this[_0xc57d16(0x6c6)][_0xc57d16(0x1aa)][_0x35bf76][_0xc57d16(0x357)]),{'instance':_0x35bf76,'connectionStatus':_0x3c43e4,'instanceInfo':_0x33671b,'qrcode':_0x2a44f5};}async['verifyWhatsAppNumber'](_0x1ac351){const _0x1c459e=a0_0x53f180;_0x1ac351=_0x1ac351['replace'](/\D/g,'');let _0x3fa5dc=Object[_0x1c459e(0x6f3)](this[_0x1c459e(0x6c6)]['waInstances'])['filter'](_0x2915cc=>{const _0x3b7880=_0x1c459e;let _0x2dfb37=this[_0x3b7880(0x6c6)][_0x3b7880(0x1aa)][_0x2915cc];return _0x2dfb37&&_0x2dfb37[_0x3b7880(0x419)]&&_0x2dfb37[_0x3b7880(0x419)]['state']===_0x3b7880(0x488);});if(_0x3fa5dc[_0x1c459e(0x27a)]===0x0)return{'number':this['formatBRNumber'](_0x1ac351)};let _0x3e98b3=Math[_0x1c459e(0x376)](Math[_0x1c459e(0x874)]()*_0x3fa5dc[_0x1c459e(0x27a)]),_0xbe3fec=_0x3fa5dc[_0x3e98b3];try{let _0x720c9d=(await this['waMonitor']['waInstances'][_0xbe3fec][_0x1c459e(0x1e8)]({'numbers':[_0x1ac351]}))['shift']();return _0x720c9d['exists']?{'number':_0x720c9d[_0x1c459e(0x5c7)][_0x1c459e(0x1ef)](_0x1c459e(0x7d0),'')}:{'number':_0x1ac351,'error':_0x1c459e(0x2f4)};}catch(_0x475b6b){return this[_0x1c459e(0x341)][_0x1c459e(0x1f6)](_0x1c459e(0x65c)+_0x475b6b),{'number':_0x1ac351,'error':_0x1c459e(0x32a)};}}[a0_0x53f180(0x497)](_0x5bd9fb){let _0x14469f=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0x5bd9fb);if(_0x14469f&&_0x14469f[0x1]==='55'){let _0x107ba6=_0x14469f[0x2],_0x453f42=_0x14469f[0x3],_0x22a75f=_0x14469f[0x4];if(parseInt(_0x107ba6)>=0x1f&&_0x453f42==='9')return _0x14469f[0x1]+_0x107ba6+_0x22a75f;}return _0x5bd9fb;}async[a0_0x53f180(0x2ad)]({instanceName:_0xc5f0a8}){const _0x397b07=a0_0x53f180;try{return this[_0x397b07(0x6c6)][_0x397b07(0x1aa)][_0xc5f0a8]?.[_0x397b07(0x6ea)]?.['ws']?.[_0x397b07(0x805)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x397b07(0x44a)}};}catch(_0x39f077){this[_0x397b07(0x341)][_0x397b07(0x1f6)](_0x39f077);}}async[a0_0x53f180(0x623)]({instanceName:_0x3f8213}){const _0xf34a10=a0_0x53f180;return _0x3f8213?this[_0xf34a10(0x6c6)][_0xf34a10(0x896)](_0x3f8213):this[_0xf34a10(0x6c6)][_0xf34a10(0x896)]();}async[a0_0x53f180(0x27d)]({instanceName:_0x34bf44}){const _0x125b33=a0_0x53f180;try{return await this[_0x125b33(0x6c6)][_0x125b33(0x1aa)][_0x34bf44]?.['client']?.[_0x125b33(0x27d)]('Log\x20out\x20instance:\x20'+_0x34bf44),{'error':!0x1,'message':_0x125b33(0x305)};}catch(_0x413d7f){throw new x(_0x413d7f[_0x125b33(0x76d)]());}}async[a0_0x53f180(0x5a3)]({instanceName:_0x5aaa33}){const _0x39b600=a0_0x53f180;if((await this['connectionState']({'instanceName':_0x5aaa33}))[_0x39b600(0x419)]['state']===_0x39b600(0x488))throw new m([_0x39b600(0x516),'The\x20instance\x20needs\x20to\x20be\x20disconnected']);try{return delete this[_0x39b600(0x6c6)][_0x39b600(0x1aa)][_0x5aaa33],{'error':!0x1,'message':_0x39b600(0x4ff)};}catch(_0x27ac8f){throw new m(_0x27ac8f[_0x39b600(0x76d)]());}}},ne=require(a0_0x53f180(0x2d2)),Xt=class{constructor(_0x16c898){const _0x10c4be=a0_0x53f180;this[_0x10c4be(0x6c6)]=_0x16c898;}async[a0_0x53f180(0x2f8)]({instanceName:_0x3e459f},_0x17a1cc){const _0x3da5cc=a0_0x53f180;return await this[_0x3da5cc(0x6c6)]['waInstances'][_0x3e459f]['textMessage'](_0x17a1cc);}async[a0_0x53f180(0x62a)]({instanceName:_0x37b6a5},_0x210f9b){const _0x10ea8f=a0_0x53f180;return await this[_0x10ea8f(0x6c6)][_0x10ea8f(0x1aa)][_0x37b6a5]['menuMessage'](_0x210f9b);}async[a0_0x53f180(0x4e9)]({instanceName:_0x4d3b1d},_0x84e4fe){const _0x56ef32=a0_0x53f180;if((0x0,ne['isBase64'])(_0x84e4fe?.['mediaMessage']?.[_0x56ef32(0x52d)])&&!_0x84e4fe?.[_0x56ef32(0x5bf)]?.[_0x56ef32(0x323)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');if((0x0,ne[_0x56ef32(0x464)])(_0x84e4fe?.[_0x56ef32(0x5bf)]?.['media'])||(0x0,ne['isBase64'])(_0x84e4fe?.[_0x56ef32(0x5bf)]?.[_0x56ef32(0x52d)]))return await this[_0x56ef32(0x6c6)][_0x56ef32(0x1aa)][_0x4d3b1d][_0x56ef32(0x5bf)](_0x84e4fe);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x53f180(0x378)]({instanceName:_0x15513d},_0x1a7b17){const _0x4b5512=a0_0x53f180;if((0x0,ne[_0x4b5512(0x464)])(_0x1a7b17['stickerMessage'][_0x4b5512(0x32b)])||(0x0,ne[_0x4b5512(0x2c4)])(_0x1a7b17['stickerMessage'][_0x4b5512(0x32b)]))return await this['waMonitor'][_0x4b5512(0x1aa)][_0x15513d][_0x4b5512(0x24e)](_0x1a7b17);throw new m(_0x4b5512(0x35a));}async['sendWhatsAppAudio']({instanceName:_0x227ceb},_0x5d666f){const _0x58aca6=a0_0x53f180;if((0x0,ne[_0x58aca6(0x464)])(_0x5d666f[_0x58aca6(0x7b5)][_0x58aca6(0x517)])||(0x0,ne['isBase64'])(_0x5d666f['audioMessage'][_0x58aca6(0x517)]))return await this[_0x58aca6(0x6c6)][_0x58aca6(0x1aa)][_0x227ceb][_0x58aca6(0x7a5)](_0x5d666f);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x53f180(0x26c)]({instanceName:_0x2e295d},_0x25cecf){const _0x57d716=a0_0x53f180;if((0x0,ne[_0x57d716(0x2c4)])(_0x25cecf[_0x57d716(0x4cc)]['mediaMessage']?.[_0x57d716(0x52d)])&&!_0x25cecf[_0x57d716(0x4cc)][_0x57d716(0x5bf)]?.[_0x57d716(0x323)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x57d716(0x6c6)]['waInstances'][_0x2e295d][_0x57d716(0x4cc)](_0x25cecf);}async[a0_0x53f180(0x68c)]({instanceName:_0x40051f},_0x31c199){const _0xd30ba2=a0_0x53f180;return await this[_0xd30ba2(0x6c6)][_0xd30ba2(0x1aa)][_0x40051f][_0xd30ba2(0x883)](_0x31c199);}async[a0_0x53f180(0x303)]({instanceName:_0x203cd6},_0x3efe01){const _0x25e527=a0_0x53f180;return await this[_0x25e527(0x6c6)][_0x25e527(0x1aa)][_0x203cd6][_0x25e527(0x1af)](_0x3efe01);}async['sendList']({instanceName:_0x9540ba},_0x5abd8b){const _0xd0d7a6=a0_0x53f180;return await this[_0xd0d7a6(0x6c6)][_0xd0d7a6(0x1aa)][_0x9540ba][_0xd0d7a6(0x69b)](_0x5abd8b);}async[a0_0x53f180(0x679)]({instanceName:_0xf2caec},_0xd9c80a){const _0x21b9d2=a0_0x53f180;return await this[_0x21b9d2(0x6c6)]['waInstances'][_0xf2caec][_0x21b9d2(0x262)](_0xd9c80a);}async['sendReaction']({instanceName:_0x40b85b},_0x353b98){const _0x31ace7=a0_0x53f180;if(!_0x353b98[_0x31ace7(0x339)][_0x31ace7(0x637)][_0x31ace7(0x3d5)](/[^\(\)\w\sà-ú"-\+]+/))throw new m('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x31ace7(0x6c6)][_0x31ace7(0x1aa)][_0x40b85b][_0x31ace7(0x339)](_0x353b98);}async[a0_0x53f180(0x89c)]({instanceName:_0x1d29b0},_0x169aa4){const _0x4417=a0_0x53f180;return await this[_0x4417(0x6c6)][_0x4417(0x1aa)][_0x1d29b0]['statusMessage'](_0x169aa4);}},Li=require(a0_0x53f180(0x592)),js=require(a0_0x53f180(0x402)),Zt=class u{constructor(_0x55bb2a,_0xd5d9cb,_0x293976){const _0x2bcbf5=a0_0x53f180;this[_0x2bcbf5(0x6f4)]=_0x55bb2a,this[_0x2bcbf5(0x6c6)]=_0xd5d9cb,this[_0x2bcbf5(0x1cb)]=_0x293976,this[_0x2bcbf5(0x341)]=new $(u[_0x2bcbf5(0x7b2)]);}async[a0_0x53f180(0x1b5)](_0x4d6fcd){const _0x1c90b5=a0_0x53f180;let _0x23d808=this['configService'][_0x1c90b5(0x6c4)](_0x1c90b5(0x41f))['JWT'],_0x7d18d4=(0x0,Li['sign'])({'instanceName':_0x4d6fcd[_0x1c90b5(0x699)],'apiName':ct,'tokenId':(0x0,js['v4'])()},_0x23d808[_0x1c90b5(0x4c8)],{'expiresIn':_0x23d808[_0x1c90b5(0x6d5)],'encoding':_0x1c90b5(0x8f5),'subject':_0x1c90b5(0x886)}),_0x2790c0=await this[_0x1c90b5(0x1cb)][_0x1c90b5(0x3f2)][_0x1c90b5(0x74c)]({'jwt':_0x7d18d4},_0x4d6fcd['instanceName']);if(_0x2790c0['error'])throw this['logger']['error']({'localError':u[_0x1c90b5(0x7b2)]+'.jwt','error':_0x2790c0[_0x1c90b5(0x1f6)]}),new m(_0x1c90b5(0x610),_0x2790c0[_0x1c90b5(0x1f6)]?.[_0x1c90b5(0x76d)]());return{'jwt':_0x7d18d4};}async[a0_0x53f180(0x3fb)](_0x1d85aa){const _0x47631e=a0_0x53f180;let _0x228d7a=(0x0,js['v4'])()[_0x47631e(0x802)](),_0x130859=await this[_0x47631e(0x1cb)][_0x47631e(0x3f2)][_0x47631e(0x74c)]({'apikey':_0x228d7a},_0x1d85aa[_0x47631e(0x699)]);if(_0x130859[_0x47631e(0x1f6)])throw this['logger']['error']({'localError':u['name']+_0x47631e(0x5a1),'error':_0x130859['error']}),new m(_0x47631e(0x610),_0x130859[_0x47631e(0x1f6)]?.[_0x47631e(0x76d)]());return{'apikey':_0x228d7a};}async[a0_0x53f180(0x61b)](_0x1bdc7c){const _0x21de5c=a0_0x53f180;let _0xa93248=this[_0x21de5c(0x6f4)][_0x21de5c(0x6c4)](_0x21de5c(0x41f));return await this[_0xa93248['TYPE']](_0x1bdc7c);}},es=class{constructor(_0x33e100){this['waMonitor']=_0x33e100;}async[a0_0x53f180(0x22a)](_0x40d18a,_0x49e80c){const _0x204771=a0_0x53f180;return await this[_0x204771(0x6c6)][_0x204771(0x1aa)][_0x40d18a[_0x204771(0x699)]][_0x204771(0x22a)](_0x49e80c);}async[a0_0x53f180(0x6c5)](_0x4dce6c,_0x46bad9){const _0x1e32dd=a0_0x53f180;return await this[_0x1e32dd(0x6c6)][_0x1e32dd(0x1aa)][_0x4dce6c[_0x1e32dd(0x699)]][_0x1e32dd(0x6c5)](_0x46bad9);}async[a0_0x53f180(0x651)](_0x355cb7,_0x3d6e5a){const _0x3cef72=a0_0x53f180;return await this[_0x3cef72(0x6c6)]['waInstances'][_0x355cb7[_0x3cef72(0x699)]][_0x3cef72(0x651)](_0x3d6e5a);}async[a0_0x53f180(0x625)](_0x30be65,_0xb8bdf2){const _0x26e9a3=a0_0x53f180;return await this[_0x26e9a3(0x6c6)][_0x26e9a3(0x1aa)][_0x30be65[_0x26e9a3(0x699)]]['groupName'](_0xb8bdf2);}async[a0_0x53f180(0x75e)](_0x3e7c2e,_0x2c34a1){const _0x5c5bcc=a0_0x53f180;return await this[_0x5c5bcc(0x6c6)][_0x5c5bcc(0x1aa)][_0x3e7c2e[_0x5c5bcc(0x699)]][_0x5c5bcc(0x75e)](_0x2c34a1);}async[a0_0x53f180(0x66f)](_0xaac4d0,_0x24e0e9){const _0x5efd04=a0_0x53f180;return await this[_0x5efd04(0x6c6)][_0x5efd04(0x1aa)][_0xaac4d0[_0x5efd04(0x699)]][_0x5efd04(0x66f)](_0x24e0e9);}async[a0_0x53f180(0x3df)](_0xfb573c,_0x385d82){const _0x3f0089=a0_0x53f180;return await this[_0x3f0089(0x6c6)][_0x3f0089(0x1aa)][_0xfb573c[_0x3f0089(0x699)]][_0x3f0089(0x5c3)](_0x385d82);}async[a0_0x53f180(0x678)](_0x22b85e){const _0x245d25=a0_0x53f180;return await this[_0x245d25(0x6c6)][_0x245d25(0x1aa)][_0x22b85e[_0x245d25(0x699)]][_0x245d25(0x678)]();}async[a0_0x53f180(0x5c4)](_0x44e685,_0x4894a0){const _0x35bd87=a0_0x53f180;return await this[_0x35bd87(0x6c6)][_0x35bd87(0x1aa)][_0x44e685[_0x35bd87(0x699)]][_0x35bd87(0x5c4)](_0x4894a0);}async['joinGroup'](_0x1e0929,_0x1b4cd0){const _0x39c10c=a0_0x53f180;return await this['waMonitor'][_0x39c10c(0x1aa)][_0x1e0929[_0x39c10c(0x699)]]['joinGroup'](_0x1b4cd0);}async[a0_0x53f180(0x612)](_0x9385f7,_0x1cd8f9){const _0x5bb068=a0_0x53f180;return await this[_0x5bb068(0x6c6)]['waInstances'][_0x9385f7[_0x5bb068(0x699)]][_0x5bb068(0x612)](_0x1cd8f9);}async[a0_0x53f180(0x4b4)](_0x27fa91,_0x31f897){const _0x5c8c90=a0_0x53f180;return await this['waMonitor'][_0x5c8c90(0x1aa)][_0x27fa91['instanceName']][_0x5c8c90(0x4b4)](_0x31f897);}async[a0_0x53f180(0x7e9)](_0x54c97d,_0x1fe48c){const _0x4f9190=a0_0x53f180;return await this[_0x4f9190(0x6c6)][_0x4f9190(0x1aa)][_0x54c97d[_0x4f9190(0x699)]][_0x4f9190(0x7e9)](_0x1fe48c);}async[a0_0x53f180(0x529)](_0x41fd4d,_0x3dcf44){const _0x35f893=a0_0x53f180;return await this[_0x35f893(0x6c6)][_0x35f893(0x1aa)][_0x41fd4d[_0x35f893(0x699)]][_0x35f893(0x606)](_0x3dcf44);}async[a0_0x53f180(0x515)](_0x24aa8f,_0x5833bb){const _0x4b8c17=a0_0x53f180;return await this[_0x4b8c17(0x6c6)][_0x4b8c17(0x1aa)][_0x24aa8f['instanceName']]['toggleEphemeral'](_0x5833bb);}async['leaveGroup'](_0x280421,_0x568f9c){const _0x11ad17=a0_0x53f180;return await this[_0x11ad17(0x6c6)][_0x11ad17(0x1aa)][_0x280421[_0x11ad17(0x699)]][_0x11ad17(0x5f6)](_0x568f9c);}},ts=class{constructor(_0x104dbd){const _0x106a1d=a0_0x53f180;this[_0x106a1d(0x6c6)]=_0x104dbd;}['create'](_0x13ed25,_0x1d259e){const _0x5525b1=a0_0x53f180;return this[_0x5525b1(0x6c6)][_0x5525b1(0x1aa)][_0x13ed25['instanceName']][_0x5525b1(0x70a)](_0x1d259e);}async['find'](_0x2fa4e3){const _0x5c9ec3=a0_0x53f180;try{return await this[_0x5c9ec3(0x6c6)][_0x5c9ec3(0x1aa)][_0x2fa4e3[_0x5c9ec3(0x699)]][_0x5c9ec3(0x31a)]();}catch{return{'enabled':null,'url':''};}}},Vp=new $(a0_0x53f180(0x322)),ss=class{constructor(_0x244974){const _0x35c0eb=a0_0x53f180;this[_0x35c0eb(0x6c6)]=_0x244974;}async['editScheduleMessage'](_0x1fe734,_0x23bfc2){const _0x1c4584=a0_0x53f180;return await this['waMonitor']['waInstances'][_0x1fe734[_0x1c4584(0x699)]]['editScheduleMessage'](_0x23bfc2);}async[a0_0x53f180(0x854)](_0x222a45){const _0x49d4be=a0_0x53f180;return await this[_0x49d4be(0x6c6)][_0x49d4be(0x1aa)][_0x222a45[_0x49d4be(0x699)]]['getScheduleMessage']();}async['deleteDoneMessages'](_0x29c4fd){const _0x2beff3=a0_0x53f180;return await this[_0x2beff3(0x6c6)][_0x2beff3(0x1aa)][_0x29c4fd[_0x2beff3(0x699)]][_0x2beff3(0x3eb)]();}async['getAutomateSystem'](_0x4de7d7){const _0x28fe1a=a0_0x53f180;return await this[_0x28fe1a(0x6c6)][_0x28fe1a(0x1aa)][_0x4de7d7[_0x28fe1a(0x699)]]['getAutomateSystem']();}async[a0_0x53f180(0x364)](_0x45907d,_0xa50e60){const _0x97efc7=a0_0x53f180;return await this[_0x97efc7(0x6c6)]['waInstances'][_0x45907d[_0x97efc7(0x699)]]['updateAgent'](_0xa50e60);}async[a0_0x53f180(0x629)](_0x275951,_0x52efeb){const _0x4473cc=a0_0x53f180;return await this[_0x4473cc(0x6c6)][_0x4473cc(0x1aa)][_0x275951[_0x4473cc(0x699)]][_0x4473cc(0x629)](_0x52efeb);}async[a0_0x53f180(0x297)](_0x4e12a5,_0x4a3b87){const _0x49b58a=a0_0x53f180;return await this[_0x49b58a(0x6c6)]['waInstances'][_0x4e12a5[_0x49b58a(0x699)]]['updateAutoCompleteMessages'](_0x4a3b87);}async['updateFlowConfig'](_0x593c18,_0x40d19a){const _0x344984=a0_0x53f180;return await this['waMonitor'][_0x344984(0x1aa)][_0x593c18[_0x344984(0x699)]]['updateFlowConfig'](_0x40d19a);}async[a0_0x53f180(0x2d8)](_0x36b589,_0x30ba77){const _0x76fffd=a0_0x53f180;return await this[_0x76fffd(0x6c6)][_0x76fffd(0x1aa)][_0x36b589[_0x76fffd(0x699)]][_0x76fffd(0x2d8)](_0x30ba77);}async[a0_0x53f180(0x534)](_0x1d989c,_0x311df9,_0x5a3e5b,_0x3cb953){const _0x5f41c2=a0_0x53f180;return await this[_0x5f41c2(0x6c6)][_0x5f41c2(0x1aa)][_0x1d989c][_0x5f41c2(0x534)](_0x311df9,_0x5a3e5b,_0x3cb953);}async[a0_0x53f180(0x501)](_0x4cfb28,_0x29f799){const _0x4fb5af=a0_0x53f180;return await this['waMonitor']['waInstances'][_0x4cfb28['instanceName']][_0x4fb5af(0x501)](_0x29f799);}async[a0_0x53f180(0x840)](_0x1e16de,_0x5287cd){const _0x5635e2=a0_0x53f180;return await this[_0x5635e2(0x6c6)]['waInstances'][_0x1e16de['instanceName']][_0x5635e2(0x840)](_0x5287cd);}async[a0_0x53f180(0x8bd)](_0x5bd3c9,_0x14dfd0){const _0x4d56d0=a0_0x53f180;return await this[_0x4d56d0(0x6c6)][_0x4d56d0(0x1aa)][_0x5bd3c9[_0x4d56d0(0x699)]][_0x4d56d0(0x8bd)](_0x14dfd0);}async['deleteConversation'](_0x3d30dc,_0x3dd9ff){const _0x278d5c=a0_0x53f180;return await this[_0x278d5c(0x6c6)][_0x278d5c(0x1aa)][_0x3d30dc[_0x278d5c(0x699)]][_0x278d5c(0x478)](_0x3dd9ff);}async[a0_0x53f180(0x646)](_0x29d1ca,_0x54cc43){const _0x56fce5=a0_0x53f180;return await this['waMonitor'][_0x56fce5(0x1aa)][_0x29d1ca['instanceName']][_0x56fce5(0x646)](_0x54cc43[_0x56fce5(0x452)]);}async[a0_0x53f180(0x85b)](_0x5e817b,_0x24b14b,_0x472227){const _0x57465b=a0_0x53f180;return await this[_0x57465b(0x6c6)][_0x57465b(0x1aa)][_0x5e817b[_0x57465b(0x699)]][_0x57465b(0x85b)](_0x24b14b,_0x472227);}async['editFlow'](_0x32d1a3,_0x4541e9,_0x3c3d26){const _0xe03ce9=a0_0x53f180;return await this['waMonitor'][_0xe03ce9(0x1aa)][_0x32d1a3[_0xe03ce9(0x699)]]['editFlow'](_0x4541e9,_0x3c3d26);}async[a0_0x53f180(0x868)](_0x17779b,_0x1f5b4a){const _0x2b3f3c=a0_0x53f180;return await this[_0x2b3f3c(0x6c6)][_0x2b3f3c(0x1aa)][_0x17779b[_0x2b3f3c(0x699)]][_0x2b3f3c(0x868)](_0x1f5b4a);}async[a0_0x53f180(0x5d0)](_0x26cfaa,_0x10b372){const _0x43c680=a0_0x53f180;return await this[_0x43c680(0x6c6)]['waInstances'][_0x26cfaa[_0x43c680(0x699)]][_0x43c680(0x5d0)](_0x10b372);}async[a0_0x53f180(0x294)](_0x55783c,_0x1df56e){const _0x1ca344=a0_0x53f180;return await this[_0x1ca344(0x6c6)][_0x1ca344(0x1aa)][_0x55783c[_0x1ca344(0x699)]][_0x1ca344(0x294)](_0x1df56e);}async[a0_0x53f180(0x1db)](_0x4cb19a,_0xfc8176){const _0x4c957f=a0_0x53f180;return await this[_0x4c957f(0x6c6)][_0x4c957f(0x1aa)][_0x4cb19a[_0x4c957f(0x699)]]['editFlowCondition'](_0xfc8176);}async[a0_0x53f180(0x7bd)](_0x25f3e6,_0x4800ec){const _0x1d6163=a0_0x53f180;return await this[_0x1d6163(0x6c6)][_0x1d6163(0x1aa)][_0x25f3e6[_0x1d6163(0x699)]][_0x1d6163(0x7bd)](_0x4800ec);}async['editFlowVariable'](_0x1d3eb1,_0x10468e){const _0x1384bd=a0_0x53f180;return await this[_0x1384bd(0x6c6)][_0x1384bd(0x1aa)][_0x1d3eb1['instanceName']]['editFlowVariable'](_0x10468e);}async[a0_0x53f180(0x324)](_0x35a2ce,_0xb0fab6){const _0x1007ee=a0_0x53f180;return await this[_0x1007ee(0x6c6)]['waInstances'][_0x35a2ce[_0x1007ee(0x699)]][_0x1007ee(0x324)](_0xb0fab6);}async[a0_0x53f180(0x3ac)](_0x871613){const _0x276f9b=a0_0x53f180;return await this[_0x276f9b(0x6c6)]['waInstances'][_0x871613[_0x276f9b(0x699)]][_0x276f9b(0x3ac)]();}},as=class{constructor(_0x5569d5){const _0x140e7d=a0_0x53f180;this[_0x140e7d(0x6b2)]=_0x5569d5;}async[a0_0x53f180(0x83a)](_0x42963e,_0x4c9452){const _0x1fffc5=a0_0x53f180;return this[_0x1fffc5(0x6b2)][_0x1fffc5(0x74c)](_0x42963e,_0x4c9452);}async[a0_0x53f180(0x31a)](_0x416bd9){const _0x14a0b1=a0_0x53f180;return this[_0x14a0b1(0x6b2)][_0x14a0b1(0x479)](_0x416bd9);}},is=class extends _{constructor(_0x530fdc,_0x155974){const _0x4f25be=a0_0x53f180;super(_0x155974),this[_0x4f25be(0x6cc)]=_0x530fdc,this[_0x4f25be(0x6f4)]=_0x155974;}async[a0_0x53f180(0x74c)](_0x511872,_0x3e1b37){const _0x330ceb=a0_0x53f180;try{return this[_0x330ceb(0x44d)][_0x330ceb(0x8a8)]?{'insertCount':(await this[_0x330ceb(0x6cc)][_0x330ceb(0x779)]({'_id':_0x3e1b37},{..._0x511872},{'upsert':!0x0}))[_0x330ceb(0x832)]}:{'insertCount':0x1};}catch(_0x2167bc){return _0x2167bc;}}async[a0_0x53f180(0x2c1)](_0x4ff02a){const _0x3e9f8c=a0_0x53f180;try{if(this[_0x3e9f8c(0x44d)][_0x3e9f8c(0x8a8)]){await this['webhookModel']['deleteOne']({'_id':_0x4ff02a});return;}}catch(_0x46bc18){return{'error':_0x46bc18};}}async[a0_0x53f180(0x479)](_0x59f218){const _0xa668a=a0_0x53f180;try{if(this[_0xa668a(0x44d)][_0xa668a(0x8a8)])return await this[_0xa668a(0x6cc)][_0xa668a(0x741)]({'_id':_0x59f218});}catch{return{};}}},os=class extends _{constructor(_0x5ed053,_0x1f0b2a){const _0x5a3f65=a0_0x53f180;super(_0x1f0b2a),this[_0x5a3f65(0x696)]=_0x5ed053,this[_0x5a3f65(0x6f4)]=_0x1f0b2a,this['auth']=_0x1f0b2a[_0x5a3f65(0x6c4)](_0x5a3f65(0x41f));}async[a0_0x53f180(0x74c)](_0x56b17c,_0x5bad41){const _0x14465f=a0_0x53f180;try{if(this[_0x14465f(0x44d)]['ENABLED'])return{'insertCount':(await this[_0x14465f(0x696)][_0x14465f(0x5ea)]({'_id':_0x5bad41},{'$set':{..._0x56b17c}},{'upsert':!0x0}))[_0x14465f(0x832)]};}catch(_0x1a2667){return{'error':_0x1a2667};}}async['updateAll'](_0x237e4e,_0x2cc2c1){const _0x2f761a=a0_0x53f180;try{if(this['dbSettings'][_0x2f761a(0x8a8)])return{'insertCount':(await this[_0x2f761a(0x696)][_0x2f761a(0x63c)](_0x237e4e,{'$set':_0x2cc2c1},{'upsert':!0x1}))[_0x2f761a(0x832)]};throw new Error(_0x2f761a(0x51e));}catch(_0x99518b){return{'error':_0x99518b};}}async[a0_0x53f180(0x3b4)](_0x3b663d){const _0x5a365f=a0_0x53f180;try{if(this[_0x5a365f(0x44d)][_0x5a365f(0x8a8)])return{'insertCount':(await this[_0x5a365f(0x696)]['deleteMany'](_0x3b663d))[_0x5a365f(0x893)]};throw new Error(_0x5a365f(0x459));}catch(_0x5718e9){return{'error':_0x5718e9};}}async[a0_0x53f180(0x2c1)](_0x18b9ca){const _0x2a0007=a0_0x53f180;try{if(this[_0x2a0007(0x44d)][_0x2a0007(0x8a8)]){await this['authModel'][_0x2a0007(0x85e)]({'_id':_0x18b9ca});return;}}catch(_0x293c52){return{'error':_0x293c52};}}async[a0_0x53f180(0x479)](_0x2e050f){const _0x5f1985=a0_0x53f180;try{if(this[_0x5f1985(0x44d)][_0x5f1985(0x8a8)])return await this[_0x5f1985(0x696)][_0x5f1985(0x741)]({'_id':_0x2e050f});}catch{return{};}}async['findAll'](){const _0xdd662a=a0_0x53f180;try{if(this[_0xdd662a(0x44d)][_0xdd662a(0x8a8)])return await this[_0xdd662a(0x696)][_0xdd662a(0x479)]();}catch{return[];}}async['findMany'](_0x539705){const _0x4f6bc6=a0_0x53f180;try{if(this[_0x4f6bc6(0x44d)][_0x4f6bc6(0x8a8)])return await this[_0x4f6bc6(0x696)][_0x4f6bc6(0x479)](_0x539705);}catch{return[];}}},rs=class extends _{async[a0_0x53f180(0x85e)](_0x155831){const _0x1077d1=a0_0x53f180;try{let _0x133bc1=I(_0x155831[_0x1077d1(0x422)]);return{'deletedCount':(await Ee[_0x1077d1(0x85e)](_0x133bc1))[_0x1077d1(0x893)]};}catch(_0x23bd3b){return{'error':_0x23bd3b?.[_0x1077d1(0x76d)]()};}}async[a0_0x53f180(0x5ea)](_0x3174ac,_0x5d6c6f){const _0x3b8beb=a0_0x53f180;try{let _0xa9e6c3=await Ee['findById'](_0x3174ac);return _0xa9e6c3?(Object['assign'](_0xa9e6c3,_0x5d6c6f),await _0xa9e6c3[_0x3b8beb(0x2fb)]()):(console[_0x3b8beb(0x1f6)](_0x3b8beb(0x639),_0x3174ac),null);}catch(_0x530339){return console[_0x3b8beb(0x1f6)](_0x3b8beb(0x6be),_0x530339),null;}}async[a0_0x53f180(0x591)](_0xc1ce59){const _0x2a9113=a0_0x53f180;try{return await new Ee(_0xc1ce59)[_0x2a9113(0x2fb)]();}catch(_0x512b43){return console[_0x2a9113(0x1f6)](_0x2a9113(0x6cf),_0x512b43),null;}}async['findAll'](_0x2a9fa6){const _0x368a49=a0_0x53f180;try{let _0x4ba146=_0x2a9fa6['where']??{};return await Ee[_0x368a49(0x479)](_0x4ba146)['limit'](_0x2a9fa6[_0x368a49(0x682)]??0x0)[_0x368a49(0x818)]();}catch(_0x4f10f9){return console[_0x368a49(0x1f6)](_0x368a49(0x33a),_0x4f10f9),[];}}async[a0_0x53f180(0x741)](_0x3fdf9b){const _0x1d0893=a0_0x53f180;try{let _0x524f73=I(_0x3fdf9b[_0x1d0893(0x422)]);return await Ee[_0x1d0893(0x741)](_0x524f73)[_0x1d0893(0x818)]();}catch{return null;}}},ns=class extends _{[a0_0x53f180(0x519)](_0x4ccfe5){return Ca(_0x4ccfe5);}async[a0_0x53f180(0x2f1)](_0x1e9bf9){const _0x3c3a91=a0_0x53f180;if(_0x1e9bf9['length']!==0x0)try{return{'insertCount':(await this[_0x3c3a91(0x519)](_0x1e9bf9[0x0][_0x3c3a91(0x285)])['insertMany']([..._0x1e9bf9]))['length']};}catch(_0x844d1){return _0x844d1;}}async['delete'](_0x42ccef,_0x1c7b11){const _0x145a22=a0_0x53f180;try{let _0x514688=this[_0x145a22(0x519)](_0x1c7b11),_0x5d841e=I(_0x42ccef['where']);return{'deletedCount':(await _0x514688[_0x145a22(0x3b4)](_0x5d841e))['deletedCount']};}catch(_0x386746){return{'error':_0x386746?.[_0x145a22(0x76d)]()};}}async['deleteOne'](_0x2c0695,_0x1e5551){const _0x16a425=a0_0x53f180;try{let _0xd53677=this[_0x16a425(0x519)](_0x1e5551),_0x1c90aa=I(_0x2c0695[_0x16a425(0x422)]);return{'deletedCount':(await _0xd53677[_0x16a425(0x85e)](_0x1c90aa))[_0x16a425(0x893)]};}catch(_0x43d4f2){return{'error':_0x43d4f2?.[_0x16a425(0x76d)]()};}}async['update'](_0x126775,_0x462c8f){const _0x3369b3=a0_0x53f180;try{if(_0x126775[_0x3369b3(0x27a)]===0x0)return;let _0x154f5d=this[_0x3369b3(0x519)](_0x462c8f),_0x2a845b=_0x126775['map'](_0x29a7a4=>({'updateOne':{'filter':{'name':_0x29a7a4[_0x3369b3(0x7b2)],'owner':_0x462c8f},'update':{..._0x29a7a4}}})),{modifiedCount:_0x5c326e}=await _0x154f5d[_0x3369b3(0x58c)](_0x2a845b);return{'insertCount':_0x5c326e};}catch{return;}}async[a0_0x53f180(0x63c)](_0x5b3b0d,_0x3d97b6,_0x410f48){const _0x2c6915=a0_0x53f180;try{return{'modifiedCount':(await this[_0x2c6915(0x519)](_0x410f48)[_0x2c6915(0x63c)](_0x5b3b0d,{'$set':_0x3d97b6})[_0x2c6915(0x84b)]())[_0x2c6915(0x832)]};}catch(_0x110690){return console[_0x2c6915(0x1f6)](_0x2c6915(0x891),_0x110690),{'error':_0x110690};}}async[a0_0x53f180(0x5ea)](_0x192352,_0x1ec517,_0x46529e){const _0x5441be=a0_0x53f180;try{return await this[_0x5441be(0x519)](_0x46529e)[_0x5441be(0x73c)]({'_id':_0x192352},{'$set':_0x1ec517},{'new':!0x0,'upsert':!0x0})['lean']();}catch(_0x3450f1){return console[_0x5441be(0x1f6)](_0x3450f1),null;}}async[a0_0x53f180(0x479)](_0x2de2ce,_0x468b07){const _0x12caed=a0_0x53f180;try{return await this['getConversationModelForOwner'](_0x468b07)[_0x12caed(0x479)](_0x2de2ce)['sort']({'lastInteraction':-0x1})[_0x12caed(0x818)]();}catch{return[];}}async[a0_0x53f180(0x741)](_0x1b780a,_0x28668b){const _0xb45cc8=a0_0x53f180;try{return await this[_0xb45cc8(0x519)](_0x28668b)[_0xb45cc8(0x741)]({..._0x1b780a['where']})[_0xb45cc8(0x818)]();}catch{return null;}}async[a0_0x53f180(0x520)](_0x3d8bd6){const _0x5da94e=a0_0x53f180;try{return await this[_0x5da94e(0x519)](_0x3d8bd6)[_0x5da94e(0x6ab)]['drop'](),{'success':!0x0};}catch(_0x257d3f){return console[_0x5da94e(0x1f6)](_0x257d3f),{'success':!0x1,'error':_0x257d3f};}}},cs=class extends _{['getScheduleMessageModelForOwner'](_0x14ebe7){return Ea(_0x14ebe7);}async['bulkWrite'](_0x529a7f,_0x45e899){const _0x5c6d0b=a0_0x53f180;try{return await this[_0x5c6d0b(0x632)](_0x45e899)[_0x5c6d0b(0x58c)](_0x529a7f);}catch(_0x549038){return console['error'](_0x5c6d0b(0x2ca),_0x549038),null;}}async[a0_0x53f180(0x591)](_0xa9a83d,_0x2d90ec){const _0x4396d9=a0_0x53f180;try{let _0x1e00a7=this[_0x4396d9(0x632)](_0x2d90ec);return await new _0x1e00a7(_0xa9a83d)['save']();}catch(_0x4d13ba){return console['error'](_0x4396d9(0x8d4),_0x4d13ba),null;}}async[a0_0x53f180(0x85e)](_0x1225e9,_0x16a4a1){const _0x312353=a0_0x53f180;try{return await this['getScheduleMessageModelForOwner'](_0x16a4a1)[_0x312353(0x703)](_0x1225e9),{};}catch(_0x908e35){return{'error':_0x908e35?.[_0x312353(0x76d)]()};}}async[a0_0x53f180(0x5ea)](_0x33df74,_0xe16f65,_0x58ffc7,_0x3d1716={}){const _0x2954b4=a0_0x53f180;try{return await this[_0x2954b4(0x632)](_0x58ffc7)['findOneAndUpdate'](_0x33df74,_0xe16f65,{..._0x3d1716,'new':!0x0})['lean']();}catch(_0x51de9a){return console[_0x2954b4(0x1f6)](_0x2954b4(0x269),_0x51de9a),null;}}async[a0_0x53f180(0x6f8)](_0x505de6,_0x525b6a,_0x29a79d){const _0x3f75e7=a0_0x53f180;try{return await this[_0x3f75e7(0x632)](_0x29a79d)[_0x3f75e7(0x75f)](_0x505de6,_0x525b6a,{'new':!0x0})[_0x3f75e7(0x818)]();}catch(_0x49df61){return console['error'](_0x3f75e7(0x269),_0x49df61),null;}}async[a0_0x53f180(0x479)](_0xa65680,_0x36a89c){const _0x2bf092=a0_0x53f180;try{return await this[_0x2bf092(0x632)](_0x36a89c)['find'](_0xa65680['where'])[_0x2bf092(0x682)](_0xa65680?.[_0x2bf092(0x682)]??0x0)[_0x2bf092(0x5f0)]({'when':0x1})['lean']();}catch{return[];}}async[a0_0x53f180(0x741)](_0x174121,_0x3e66a4){const _0x4c62d7=a0_0x53f180;try{return await this[_0x4c62d7(0x632)](_0x3e66a4)[_0x4c62d7(0x741)](_0x174121[_0x4c62d7(0x422)])['sort']({'when':0x1})[_0x4c62d7(0x818)]();}catch{return null;}}async['findById'](_0x12ff40,_0x19acfd){const _0x21d72b=a0_0x53f180;try{return await this[_0x21d72b(0x632)](_0x19acfd)[_0x21d72b(0x662)](_0x12ff40)[_0x21d72b(0x818)]();}catch{return null;}}async[a0_0x53f180(0x3b4)](_0xb89d2e,_0x18a107){const _0x57a13a=a0_0x53f180;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x18a107)[_0x57a13a(0x3b4)](_0xb89d2e))[_0x57a13a(0x893)]};}catch(_0x1e50a1){return console['error'](_0x57a13a(0x1d6),_0x1e50a1),{'error':_0x1e50a1};}}async[a0_0x53f180(0x520)](_0x21de94){const _0x22058b=a0_0x53f180;try{return await this[_0x22058b(0x632)](_0x21de94)[_0x22058b(0x6ab)][_0x22058b(0x253)](),{'success':!0x0};}catch(_0x4dd015){return console[_0x22058b(0x1f6)](_0x4dd015),{'success':!0x1,'error':_0x4dd015};}}},ls=class extends _{async[a0_0x53f180(0x513)](_0x4f01bb,_0x50cbf6){const _0x3b8097=a0_0x53f180;try{if(this['dbSettings']['ENABLED'])return await Oe[_0x3b8097(0x73c)]({'_id':_0x50cbf6},{'$set':_0x4f01bb},{'new':!0x0});}catch(_0x26970d){throw console['error'](_0x3b8097(0x24b),_0x26970d),_0x26970d;}}async[a0_0x53f180(0x2f5)](_0x34a4bc){const _0x5342e9=a0_0x53f180;try{let _0x3988b7=await Oe[_0x5342e9(0x662)](_0x34a4bc);return _0x3988b7?_0x3988b7['autoCompleteMessages']||(_0x3988b7[_0x5342e9(0x2ba)]=[],await _0x3988b7['save']()):(_0x3988b7=new Oe({'_id':_0x34a4bc,'autoCompleteMessages':[]}),await _0x3988b7[_0x5342e9(0x2fb)]()),_0x3988b7;}catch(_0x56e46d){return _0x56e46d[_0x5342e9(0x467)]===0x2af8&&_0x56e46d[_0x5342e9(0x5fc)]&&_0x56e46d[_0x5342e9(0x5fc)][_0x5342e9(0x1e3)]?(console[_0x5342e9(0x1f6)](_0x5342e9(0x344)),await Oe[_0x5342e9(0x6ab)]['dropIndex'](_0x5342e9(0x4d8)),null):(console[_0x5342e9(0x1f6)]('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x56e46d),null);}}},qo=new $(a0_0x53f180(0x41e)),Vo=new Ze(b),Go=new Wt(b),Bo=new ut(b),Wo=new zt(na,b),zo=new is(ma,b),Ho=new os(pa,b),Ko=new $e(Ke,b),Qo=new rs(b),Yo=new Ht(b),Xo=new ns(b),Zo=new cs(b),er=new ls(b),we=new Ye(Vo,Go,Bo,Wo,zo,Ho,Ko,Qo,Xo,Yo,Zo,er,R?.[a0_0x53f180(0x7df)]()),z=new Bt(fs,b,we),tr=new Zt(b,z,we),sr=new ts(z),Is=new as(sr),T=new ss(z),he=new Yt(z,b,we,fs,tr),H=new Xt(z),k=new Kt(z),V=new es(z);qo[a0_0x53f180(0x560)](a0_0x53f180(0x308));var rg=require('express-async-errors'),Js=require('fs'),Fi=A(require(a0_0x53f180(0x2a3))),Ui=A(require('http')),Je=class u{static #e;static set[a0_0x53f180(0x698)](_0x4fef42){this.#e=_0x4fef42;}static get[a0_0x53f180(0x2a3)](){const _0x1458b2=a0_0x53f180;let {FULLCHAIN:_0x3a3551,PRIVKEY:_0x2aee5b}=b['get']('SSL_CONF');return Fi[_0x1458b2(0x4cb)]({'cert':(0x0,Js[_0x1458b2(0x4ae)])(_0x3a3551),'key':(0x0,Js['readFileSync'])(_0x2aee5b)},u.#e);}static get[a0_0x53f180(0x82b)](){return Ui['createServer'](u.#e);}},qe=A(require('fs')),Bi=A(require(a0_0x53f180(0x383))),Ve=A(require(a0_0x53f180(0x683))),ds=A(require(a0_0x53f180(0x876))),us=require(a0_0x53f180(0x2b2));function ar(){const _0x5db3de=a0_0x53f180;z[_0x5db3de(0x5e0)]();let _0x220c0f=ds[_0x5db3de(0x391)][_0x5db3de(0x260)](__dirname,_0x5db3de(0x607));Gi(_0x220c0f);}var Gi=_0x39d596=>{const _0x4c513c=a0_0x53f180;let _0x1b26aa=qe[_0x4c513c(0x391)][_0x4c513c(0x8b7)](_0x39d596),_0x3520c6=0xc*0x3c*0x3c*0x3e8,_0x45722a=0x2*0x3c*0x3c*0x3e8,_0x88e2a2=new Date()[_0x4c513c(0x78f)]();_0x1b26aa[_0x4c513c(0x313)](_0x5bb2dd=>{const _0x31ca96=_0x4c513c;let _0x59da0f=ds[_0x31ca96(0x391)]['join'](_0x39d596,_0x5bb2dd),_0xe7fcdb=qe[_0x31ca96(0x391)][_0x31ca96(0x588)](_0x59da0f)[_0x31ca96(0x73b)][_0x31ca96(0x78f)]();_0x88e2a2-_0xe7fcdb>_0x3520c6&&(qe[_0x31ca96(0x391)][_0x31ca96(0x439)](_0x59da0f),console[_0x31ca96(0x4d9)](_0x31ca96(0x7f1)+_0x5bb2dd));}),setTimeout(()=>Gi(_0x39d596),_0x45722a);};function ir(){const _0x2fd66b=a0_0x53f180;let _0x33bca4=new $(_0x2fd66b(0x568)),_0x4596a0=(0x0,be['default'])();_0x4596a0[_0x2fd66b(0x2be)]((0x0,Vi['default'])({'origin'(_0x1d64a8,_0x1a1a11){const _0x67c611=_0x2fd66b;let {ORIGIN:_0x23da72}=b[_0x67c611(0x6c4)](_0x67c611(0x59b));return _0x1d64a8||(_0x1d64a8='*'),_0x23da72['indexOf']('*')!==-0x1||_0x23da72['indexOf'](_0x1d64a8)!==-0x1?_0x1a1a11(null,!0x0):_0x1a1a11(new Error(_0x67c611(0x689)));},'methods':[...b[_0x2fd66b(0x6c4)](_0x2fd66b(0x59b))['METHODS']],'credentials':b[_0x2fd66b(0x6c4)]('CORS')[_0x2fd66b(0x661)]}),(0x0,be[_0x2fd66b(0x41b)])({'extended':!0x0,'limit':_0x2fd66b(0x3a8)}),(0x0,be['json'])({'limit':_0x2fd66b(0x3a8)})),_0x4596a0[_0x2fd66b(0x2be)]((_0x16931c,_0x1951f4,_0x32ee88)=>{const _0x5b8e55=_0x2fd66b;_0x16931c[_0x5b8e55(0x876)]['startsWith']('/events')?_0x32ee88():(0x0,qi[_0x5b8e55(0x391)])()(_0x16931c,_0x1951f4,_0x32ee88);}),_0x4596a0[_0x2fd66b(0x446)](_0x2fd66b(0x1eb),'hbs'),_0x4596a0[_0x2fd66b(0x446)]('views',(0x0,Vs['join'])(ue,_0x2fd66b(0x558))),_0x4596a0[_0x2fd66b(0x2be)](be['default'][_0x2fd66b(0x711)]((0x0,Vs[_0x2fd66b(0x260)])(ue,_0x2fd66b(0x4dc)))),_0x4596a0[_0x2fd66b(0x2be)]((_0x2f68ae,_0x4f2c54,_0x1e6680)=>{const _0x16847f=_0x2fd66b;let _0x38dd12=_0x4f2c54[_0x16847f(0x580)];_0x4f2c54[_0x16847f(0x580)]=function(_0x1f5750){const _0x116f5c=_0x16847f;if(_0x2f68ae[_0x116f5c(0x53b)][_0x116f5c(0x64b)]===_0x116f5c(0x7b6)||_0x2f68ae[_0x116f5c(0x87b)]['uazapi']==='true'){let _0x5d31b5=JSON['parse'](_0x1f5750);_0x1f5750=JSON[_0x116f5c(0x54f)](_0x19118a(_0x5d31b5));}return _0x38dd12[_0x116f5c(0x57f)](_0x4f2c54,[_0x1f5750]);},_0x1e6680();}),_0x4596a0[_0x2fd66b(0x2be)]('/',Fe),_0x4596a0[_0x2fd66b(0x2be)]((_0x385598,_0x1f1dc5,_0x344e0c,_0x265866)=>{const _0x153ef2=_0x2fd66b;if(_0x385598)return _0x344e0c[_0x153ef2(0x315)](_0x385598[_0x153ef2(0x315)]||0x1f4)[_0x153ef2(0x6f6)](_0x385598);},(_0x3e0a95,_0xa7d1ae,_0x2923cf)=>{const _0x491829=_0x2fd66b;let {method:_0x7c25a9,url:_0x179353}=_0x3e0a95;_0xa7d1ae[_0x491829(0x315)](0x194)[_0x491829(0x6f6)]({'status':0x194,'message':_0x491829(0x7c0)+_0x7c25a9[_0x491829(0x802)]()+'\x20'+_0x179353,'error':'Not\x20Found'}),_0x2923cf();});let _0x19118a=(_0x254283,_0x3b264d='_p_')=>{const _0x11749a=_0x2fd66b;let _0x6ed2f9=(_0x12a04c,_0x50c829=null,_0xcbddd0=!0x1)=>{const _0x1012b9=a0_0x150f;let _0x2d7e3f={};return Object[_0x1012b9(0x6f3)](_0x12a04c)[_0x1012b9(0x313)](_0x4a787a=>{const _0xb49e7=_0x1012b9;let _0x23aaef=_0x12a04c[_0x4a787a],_0xfe45c7=''+_0x3b264d+_0x4a787a;_0x50c829&&!_0xcbddd0&&(_0xfe45c7=_0x50c829+'.'+_0x4a787a),!_0x23aaef&&_0x23aaef!==0x0&&_0x23aaef!==!0x1||typeof _0x23aaef>'u'?_0x2d7e3f[_0xfe45c7]=null:typeof _0x23aaef!=_0xb49e7(0x204)&&!Array['isArray'](_0x23aaef)?_0x2d7e3f[_0xfe45c7]=_0x23aaef:typeof _0x23aaef==_0xb49e7(0x204)&&!Array[_0xb49e7(0x714)](_0x23aaef)?_0x2d7e3f=Object[_0xb49e7(0x8bc)](_0x2d7e3f,_0x6ed2f9(_0x23aaef,_0xfe45c7)):Array[_0xb49e7(0x714)](_0x23aaef)&&(typeof _0x23aaef[0x0]==_0xb49e7(0x204)?(_0x2d7e3f[_0xfe45c7]=[],_0x23aaef[_0xb49e7(0x313)](_0x1f9e00=>{const _0x5a611a=_0xb49e7;_0x2d7e3f[_0xfe45c7][_0x5a611a(0x635)](_0x6ed2f9(_0x1f9e00,_0xfe45c7,!0x0));})):_0x2d7e3f[_0xfe45c7]=_0x23aaef);}),_0x2d7e3f;};return Array[_0x11749a(0x714)](_0x254283)?_0x254283[_0x11749a(0x5bd)](_0x1a107d=>_0x6ed2f9(_0x1a107d)):typeof _0x254283==_0x11749a(0x204)&&_0x254283!==null?_0x6ed2f9(_0x254283):{};},_0x20a9f7=b['get']('SERVER');Je['app']=_0x4596a0;let _0x37efcc=Je[_0x20a9f7['TYPE']],_0x31c663=_0x2fd66b(0x21a);_0x37efcc[_0x2fd66b(0x333)](_0x20a9f7[_0x2fd66b(0x2f3)],()=>{const _0x4e008e=_0x2fd66b;_0x33bca4[_0x4e008e(0x4d9)](_0x31c663),_0x33bca4[_0x4e008e(0x4d9)](_0x20a9f7['TYPE'][_0x4e008e(0x802)]()+'\x20-\x20ON:\x20'+_0x20a9f7[_0x4e008e(0x2f3)]);}),ar(),ta();}var or=a0_0x53f180(0x441),rr=ds['default'][a0_0x53f180(0x260)](__dirname,a0_0x53f180(0x8dd)),Ie=null;function nr(){return new Promise((_0xd68aa4,_0x14b9f2)=>{const _0x492b53=a0_0x150f;qe[_0x492b53(0x391)][_0x492b53(0x880)](rr,_0x492b53(0x667),(_0x22bf03,_0x424c18)=>{const _0x4394a4=_0x492b53;if(_0x22bf03){Ie=_0x22bf03,_0xd68aa4();return;}Bi[_0x4394a4(0x391)][_0x4394a4(0x67c)](_0x424c18)[_0x4394a4(0x638)][_0x4394a4(0x486)]===or?(Ie=null,_0xd68aa4()):(Ie=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0xd68aa4());});});}async function cr(){const _0x11c984=a0_0x53f180;try{await nr(),await Gs();}catch(_0x5edbba){console['error'](_0x11c984(0x7d1)+_0x5edbba),process[_0x11c984(0x3ce)](0x1);}}cr();async function Wi(){const _0x93c512=a0_0x53f180;let _0x5515e6;try{_0x5515e6=(await Ve[_0x93c512(0x391)]['get']('https://jsonip.com'))[_0x93c512(0x2ea)]['ip'];}catch(_0x5dcf6c){console[_0x93c512(0x1f6)](_0x5dcf6c);try{_0x5515e6=(await Ve['default'][_0x93c512(0x6c4)]('https://api.ipify.org?format=json'))['data']['ip'];}catch(_0x1fbedf){console[_0x93c512(0x1f6)](_0x1fbedf);try{_0x5515e6=(await Ve[_0x93c512(0x391)][_0x93c512(0x6c4)](_0x93c512(0x19e)))[_0x93c512(0x2ea)]['match'](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x2cb7f5){return console[_0x93c512(0x1f6)](_0x2cb7f5),!0x1;}}}return _0x5515e6;}var ji=0x0;function a0_0x150f(_0x3e8f30,_0x482998){const _0x16d19b=a0_0x16d1();return a0_0x150f=function(_0x150f20,_0x6d816d){_0x150f20=_0x150f20-0x19d;let _0x30df74=_0x16d19b[_0x150f20];return _0x30df74;},a0_0x150f(_0x3e8f30,_0x482998);}async function lr(){const _0x353e79=a0_0x53f180;let _0x424a34=await new ge(b[_0x353e79(0x6c4)](_0x353e79(0x2a6)))[_0x353e79(0x598)]();return console[_0x353e79(0x4d9)](_0x353e79(0x39c),_0x424a34[_0x353e79(0x27a)]),_0x424a34[_0x353e79(0x27a)];}function ur(_0x2c4433){const _0x310704=a0_0x53f180;let _0x4adca2=_0x2c4433[_0x310704(0x6c4)](_0x310704(0x568))['URL'],_0x24d1c8=_0x2c4433[_0x310704(0x6c4)](_0x310704(0x8d3));console[_0x310704(0x4d9)](_0x310704(0x89f),_0x4adca2),console[_0x310704(0x4d9)](_0x310704(0x3a2),_0x24d1c8);let _0x5da38d='',_0x88ae8e=_0x4adca2||'';if(_0x4adca2){let _0x269854=_0x4adca2[_0x310704(0x3d5)](/\/\/(.*?)\./);console[_0x310704(0x4d9)](_0x310704(0x69f),_0x269854),_0x269854&&_0x269854[0x1]&&(_0x5da38d=_0x269854[0x1],console[_0x310704(0x4d9)](_0x310704(0x49e),_0x5da38d));}if(!_0x5da38d&&_0x24d1c8&&_0x24d1c8[_0x310704(0x456)]){let _0x3eed1b=_0x24d1c8[_0x310704(0x456)][_0x310704(0x6ca)]('/');console['log']('Partes\x20do\x20caminho\x20FULLCHAIN:',_0x3eed1b);let _0x1ac764=_0x3eed1b[_0x3eed1b['length']-0x2];if(console['log']('Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:',_0x1ac764),_0x1ac764){let _0x5a5fb8=_0x1ac764[_0x310704(0x6ca)]('.');console[_0x310704(0x4d9)](_0x310704(0x2b9),_0x5a5fb8),_0x5a5fb8[_0x310704(0x27a)]>0x2&&(_0x5da38d=_0x5a5fb8[0x0],console[_0x310704(0x4d9)]('Subdomínio\x20extraído\x20do\x20caminho\x20SSL:',_0x5da38d),_0x88ae8e=''+_0x1ac764);}}return{'subdomain':_0x5da38d||'Subdomínio\x20não\x20encontrado','fullURL':_0x88ae8e||'URL\x20não\x20disponível'};}var {subdomain:K,fullURL:Bs}=ur(b);console[a0_0x53f180(0x4d9)](a0_0x53f180(0x2bb),K),console[a0_0x53f180(0x4d9)]('URL\x20completa:',Bs);async function dr(){const _0x4d0756=a0_0x53f180;let _0x272d96=b['get'](_0x4d0756(0x2a6)),_0x37e6e2=b[_0x4d0756(0x6c4)](_0x4d0756(0x41f))[_0x4d0756(0x381)][_0x4d0756(0x83b)],_0x16071b=b[_0x4d0756(0x6c4)](_0x4d0756(0x8d3)),_0x3bab0a=await Wi(),_0x79edbc=b[_0x4d0756(0x6c4)]('SERVER')['PORT'],_0x52f8ce=Bs;try{let _0x420a9e={'ip':_0x3bab0a||null,'redis_enable':_0x272d96?.[_0x4d0756(0x8a8)]||null,'apikey':_0x37e6e2||null,'ssl':_0x16071b?.['PRIVKEY']||null,'lastupdate':zi||null,'port':_0x79edbc||null,'gitInstallError':Ie?.[_0x4d0756(0x82d)]||null,'url':_0x52f8ce||null,'subdomain':K};if(console[_0x4d0756(0x4d9)](_0x4d0756(0x3e0),_0x420a9e['ip']),_0x272d96&&_0x272d96[_0x4d0756(0x8a8)]){let _0x154de6=await lr();_0x420a9e[_0x4d0756(0x5b9)]=_0x154de6||null;}for(let _0x2a3227 in _0x420a9e)_0x420a9e[_0x4d0756(0x4cd)](_0x2a3227)&&_0x2a3227!=='ip'&&(_0x420a9e[_0x2a3227]=JSON[_0x4d0756(0x54f)](_0x420a9e[_0x2a3227]));return(await Ve[_0x4d0756(0x391)][_0x4d0756(0x78c)](_0x4d0756(0x7db),_0x420a9e))['data'];}catch(_0x153bf6){return console[_0x4d0756(0x1f6)](_0x153bf6),!0x1;}}var qs=!0x1,zi=0x265,pr=0x3,Ji=0x1b7740;async function Gs(){const _0x409b35=a0_0x53f180;let _0x500af6=_0x409b35(0x3d9);Ie===null&&(_0x500af6=await Wi());let _0x33d353=await dr();if(_0x33d353){if(_0x33d353[_0x409b35(0x2ac)]['licenca']===!0x0){Ie===null&&_0x33d353[_0x409b35(0x2ac)][_0x409b35(0x40d)]-zi>0x0&&await hr(),qs||(qs=!0x0,ir());let _0x94b697=0x24*0x3c*0x3c,_0x420623=_0x33d353[_0x409b35(0x2ac)][_0x409b35(0x763)]>_0x94b697?_0x94b697:_0x33d353[_0x409b35(0x2ac)][_0x409b35(0x763)],_0x49c65d=Number(_0x420623);if(isNaN(_0x49c65d)){console[_0x409b35(0x1f6)](_0x409b35(0x665));return;}let _0x26ada7=Math[_0x409b35(0x376)](_0x49c65d/0xe10),_0x2e843f=Math[_0x409b35(0x376)](_0x49c65d%0xe10/0x3c),_0x382d6b=new Date(Date['now']()+_0x49c65d*0x3e8);setTimeout(Gs,_0x49c65d*0x3e8);let _0x49f1f6=_0x885d3a=>_0x885d3a['toString']()[_0x409b35(0x570)](0x2,'0'),_0x16e26d=_0x409b35(0x450)+_0x49f1f6(_0x26ada7)+'\x20horas\x20e\x20'+_0x49f1f6(_0x2e843f)+'\x20minutos.\x20Será\x20às\x20'+_0x49f1f6(_0x382d6b['getHours']())+':'+_0x49f1f6(_0x382d6b[_0x409b35(0x61c)]())+'.';console[_0x409b35(0x4d9)](_0x16e26d);}else return console[_0x409b35(0x4d9)](_0x409b35(0x8b2)),qs&&(console['log']('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process['exit']()),'LICENSE_INVALID';}else{if(ji++,ji<pr)console[_0x409b35(0x4d9)](_0x409b35(0x1d1)+Ji/0xea60+_0x409b35(0x6e4)),setTimeout(Gs,Ji);else return console[_0x409b35(0x1f6)](_0x409b35(0x594)),_0x409b35(0x44b);}}async function hr(){const _0x164ae3=a0_0x53f180;console['log']('Parando\x20aplicação,\x20atualização\x20recebida'),console[_0x164ae3(0x4d9)](_0x164ae3(0x821)),(0x0,us[_0x164ae3(0x296)])(_0x164ae3(0x84f),{'shell':!0x0})['on']('close',_0x421850=>{const _0x3c414a=_0x164ae3;_0x421850!==0x0?console[_0x3c414a(0x1f6)]('Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.'):(console[_0x3c414a(0x4d9)](_0x3c414a(0x633)),console[_0x3c414a(0x4d9)](_0x3c414a(0x7bc)),(0x0,us[_0x3c414a(0x296)])(_0x3c414a(0x22e),{'shell':!0x0})['on'](_0x3c414a(0x805),_0x2bed28=>{const _0x1dab39=_0x3c414a;if(_0x2bed28!==0x0)console[_0x1dab39(0x1f6)](_0x1dab39(0x78d));else{console['log'](_0x1dab39(0x86e));let _0x9a2fba=(0x0,us[_0x1dab39(0x296)])(_0x1dab39(0x756),{'shell':!0x0});_0x9a2fba[_0x1dab39(0x210)]['on'](_0x1dab39(0x2ea),_0x1d4c28=>{const _0x3e49f9=_0x1dab39;console['log'](_0x3e49f9(0x56d)+_0x1d4c28);}),_0x9a2fba[_0x1dab39(0x30e)]['on']('data',_0x29de2e=>{const _0x562eac=_0x1dab39;console[_0x562eac(0x1f6)]('Erro\x20de\x20atualização:\x20'+_0x29de2e);}),_0x9a2fba['on'](_0x1dab39(0x3ce),_0x3e8d7e=>{const _0xebe3c3=_0x1dab39;_0x3e8d7e!==0x0?console[_0xebe3c3(0x1f6)]('Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20'+_0x3e8d7e):console['log'](_0xebe3c3(0x6d6)),console[_0xebe3c3(0x4d9)](_0xebe3c3(0x35b)),setTimeout(()=>process[_0xebe3c3(0x3ce)](),0x2710);});}}));});}0x0&&(module[a0_0x53f180(0x283)]={'fullURL':fullURL,'subdomain':subdomain});