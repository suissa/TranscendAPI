const a0_0x581af9=a0_0xd85f;(function(_0x514699,_0x3cbe18){const _0x574f19=a0_0xd85f,_0x141104=_0x514699();while(!![]){try{const _0x5d8bad=-parseInt(_0x574f19(0x2a3))/0x1+parseInt(_0x574f19(0x733))/0x2*(parseInt(_0x574f19(0x391))/0x3)+-parseInt(_0x574f19(0x56d))/0x4+-parseInt(_0x574f19(0x849))/0x5+parseInt(_0x574f19(0x438))/0x6+parseInt(_0x574f19(0x4be))/0x7+parseInt(_0x574f19(0x742))/0x8;if(_0x5d8bad===_0x3cbe18)break;else _0x141104['push'](_0x141104['shift']());}catch(_0x2d7307){_0x141104['push'](_0x141104['shift']());}}}(a0_0x2ba8,0x412a5));var Br=Object[a0_0x581af9(0x5f0)],Pe=Object['defineProperty'],Gr=Object[a0_0x581af9(0x75a)],Wr=Object[a0_0x581af9(0x326)],zr=Object[a0_0x581af9(0x4ee)],Hr=Object[a0_0x581af9(0x4c9)][a0_0x581af9(0x34a)],Kr=(_0x52e65e,_0x462a98)=>{for(var _0x54a6b1 in _0x462a98)Pe(_0x52e65e,_0x54a6b1,{'get':_0x462a98[_0x54a6b1],'enumerable':!0x0});},Us=(_0x26b08c,_0x92af15,_0x2db2a6,_0x4cd013)=>{const _0x1a68ef=a0_0x581af9;if(_0x92af15&&typeof _0x92af15==_0x1a68ef(0x257)||typeof _0x92af15==_0x1a68ef(0x45f)){for(let _0x426670 of Wr(_0x92af15))!Hr[_0x1a68ef(0x5af)](_0x26b08c,_0x426670)&&_0x426670!==_0x2db2a6&&Pe(_0x26b08c,_0x426670,{'get':()=>_0x92af15[_0x426670],'enumerable':!(_0x4cd013=Gr(_0x92af15,_0x426670))||_0x4cd013[_0x1a68ef(0x459)]});}return _0x26b08c;},O=(_0x549bcb,_0x38c076,_0x49a23b)=>(_0x49a23b=_0x549bcb!=null?Br(zr(_0x549bcb)):{},Us(_0x38c076||!_0x549bcb||!_0x549bcb['__esModule']?Pe(_0x49a23b,a0_0x581af9(0x258),{'value':_0x549bcb,'enumerable':!0x0}):_0x49a23b,_0x549bcb)),Qr=_0x3eceac=>Us(Pe({},a0_0x581af9(0x2b2),{'value':!0x0}),_0x3eceac),io={};Kr(io,{'subdomain':()=>_s}),module['exports']=Qr(io);var Lr=O(require(a0_0x581af9(0x7da))),qs=require('fs'),Vs=require(a0_0x581af9(0x307)),Bs=require('path'),$e=require(a0_0x581af9(0x746)),ie=process['cwd'](),ge=(0x0,$e[a0_0x581af9(0x495)])(ie,a0_0x581af9(0x5a7)),Js=(0x0,$e[a0_0x581af9(0x495)])(ie,a0_0x581af9(0x423)),Xo=(0x0,$e[a0_0x581af9(0x495)])(ie,a0_0x581af9(0x228),'auth'),os=class{constructor(){const _0x5a5896=a0_0x581af9;this[_0x5a5896(0x33a)]();}[a0_0x581af9(0x488)](_0x28b22a){const _0x17b84c=a0_0x581af9;return this[_0x17b84c(0x369)][_0x28b22a];}[a0_0x581af9(0x33a)](){const _0x4e006b=a0_0x581af9;this[_0x4e006b(0x369)]=process[_0x4e006b(0x369)]?.[_0x4e006b(0x5df)]!=='true'?this[_0x4e006b(0x3a0)]():this['envProcess'](),process[_0x4e006b(0x369)]?.['DOCKER_ENV']===_0x4e006b(0x1f5)&&(this[_0x4e006b(0x369)][_0x4e006b(0x619)][_0x4e006b(0x1e9)]=_0x4e006b(0x632),this[_0x4e006b(0x369)][_0x4e006b(0x619)][_0x4e006b(0x237)]=Number[_0x4e006b(0x6d9)](process['env']?.['SERVER_PORT']??_0x4e006b(0x755)));}['envYaml'](){const _0x1bc553=a0_0x581af9;return(0x0,Vs['load'])((0x0,qs[_0x1bc553(0x6c3)])((0x0,Bs[_0x1bc553(0x495)])(Js,_0x1bc553(0x2c2)),{'encoding':_0x1bc553(0x4a7)}));}['envProcess'](){const _0x4a7690=a0_0x581af9;return{'SERVER':{'TYPE':process[_0x4a7690(0x369)]['SERVER_TYPE'],'PORT':Number['parseInt'](process[_0x4a7690(0x369)]['SERVER_PORT']),'URL':process[_0x4a7690(0x369)][_0x4a7690(0x46e)]},'CORS':{'ORIGIN':process[_0x4a7690(0x369)][_0x4a7690(0x621)]['split'](','),'METHODS':process[_0x4a7690(0x369)][_0x4a7690(0x36c)][_0x4a7690(0x68e)](','),'CREDENTIALS':process[_0x4a7690(0x369)]?.['CORS_CREDENTIALS']===_0x4a7690(0x1f5)},'SSL_CONF':{'PRIVKEY':process[_0x4a7690(0x369)]?.[_0x4a7690(0x396)],'FULLCHAIN':process[_0x4a7690(0x369)]?.['SSL_CONF_FULLCHAIN']},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x4a7690(0x369)]?.['STORE_CLEANING_TERMINAL'])?Number[_0x4a7690(0x6d9)](process['env'][_0x4a7690(0x46d)]):void 0x0,'MESSAGES':process[_0x4a7690(0x369)]?.[_0x4a7690(0x342)]===_0x4a7690(0x1f5),'CONTACTS':process[_0x4a7690(0x369)]?.[_0x4a7690(0x509)]===_0x4a7690(0x1f5),'CHATS':process[_0x4a7690(0x369)]?.[_0x4a7690(0x833)]==='true'},'DATABASE':{'CONNECTION':{'HOST':process[_0x4a7690(0x369)]?.[_0x4a7690(0x7d5)],'PORT':Number[_0x4a7690(0x6d9)](process[_0x4a7690(0x369)]?.['DATABASE_CONNECTION_HOST']),'USER':process[_0x4a7690(0x369)][_0x4a7690(0x597)],'PASSWORD':process[_0x4a7690(0x369)][_0x4a7690(0x803)],'URI':process[_0x4a7690(0x369)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process['env']['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0x4a7690(0x369)]?.[_0x4a7690(0x223)]===_0x4a7690(0x1f5)},'REDIS':{'ENABLED':process[_0x4a7690(0x369)]?.[_0x4a7690(0x579)]===_0x4a7690(0x1f5),'URI':process['env']['REDIS_URI']||_0x4a7690(0x36d),'PREFIX_KEY':process['env'][_0x4a7690(0x221)]||_0x4a7690(0x243)},'LOG':{'LEVEL':process[_0x4a7690(0x369)]?.[_0x4a7690(0x846)]['split'](','),'COLOR':process[_0x4a7690(0x369)]?.[_0x4a7690(0x22d)]==='true'},'PROXY':Number['parseInt'](process[_0x4a7690(0x369)]?.[_0x4a7690(0x45d)]),'AUTHENTICATION':{'TYPE':process[_0x4a7690(0x369)][_0x4a7690(0x35d)],'API_KEY':{'KEY':process[_0x4a7690(0x369)]['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x4a7690(0x768)](process[_0x4a7690(0x369)]?.[_0x4a7690(0x85a)])?Number[_0x4a7690(0x6d9)](process[_0x4a7690(0x369)][_0x4a7690(0x85a)]):0xe10,'SECRET':process[_0x4a7690(0x369)][_0x4a7690(0x68a)]}}};}},b=new os(),jr=O(require('cors')),he=O(require(a0_0x581af9(0x687))),js=require(a0_0x581af9(0x746)),ns=O(require(a0_0x581af9(0x6ed))),cs=(_0x1789e3=>(_0x1789e3[a0_0x581af9(0x72c)]=a0_0x581af9(0x31c),_0x1789e3[a0_0x581af9(0x6de)]=a0_0x581af9(0x502),_0x1789e3[a0_0x581af9(0x6fb)]=a0_0x581af9(0x71b),_0x1789e3[a0_0x581af9(0x84a)]=a0_0x581af9(0x40b),_0x1789e3[a0_0x581af9(0x3b4)]='\x1b[36m',_0x1789e3[a0_0x581af9(0x33b)]=a0_0x581af9(0x59b),_0x1789e3[a0_0x581af9(0x230)]=a0_0x581af9(0x565),_0x1789e3))(cs||{}),Gs=(_0x43641f=>(_0x43641f[a0_0x581af9(0x72c)]=a0_0x581af9(0x7c0),_0x43641f['DARK']=a0_0x581af9(0x61c),_0x43641f[a0_0x581af9(0x6de)]=a0_0x581af9(0x2a7),_0x43641f[a0_0x581af9(0x6fb)]=a0_0x581af9(0x3d3),_0x43641f['ERROR']=a0_0x581af9(0x853),_0x43641f[a0_0x581af9(0x3b4)]=a0_0x581af9(0x51e),_0x43641f['VERBOSE']=a0_0x581af9(0x5b0),_0x43641f))(Gs||{}),Ws=(_0x3df2cf=>(_0x3df2cf[a0_0x581af9(0x72c)]=a0_0x581af9(0x72c),_0x3df2cf[a0_0x581af9(0x6fb)]=a0_0x581af9(0x6fb),_0x3df2cf[a0_0x581af9(0x6de)]=a0_0x581af9(0x6de),_0x3df2cf[a0_0x581af9(0x230)]='DARK',_0x3df2cf[a0_0x581af9(0x84a)]=a0_0x581af9(0x84a),_0x3df2cf[a0_0x581af9(0x3b4)]=a0_0x581af9(0x3b4),_0x3df2cf[a0_0x581af9(0x33b)]=a0_0x581af9(0x33b),_0x3df2cf))(Ws||{}),zs=(_0x2b737a=>(_0x2b737a[a0_0x581af9(0x72c)]='\x1b[42m',_0x2b737a[a0_0x581af9(0x6de)]=a0_0x581af9(0x2cd),_0x2b737a['WARN']=a0_0x581af9(0x1e0),_0x2b737a['DARK']='\x1b[40m',_0x2b737a['ERROR']=a0_0x581af9(0x7ed),_0x2b737a[a0_0x581af9(0x3b4)]=a0_0x581af9(0x6ee),_0x2b737a[a0_0x581af9(0x33b)]=a0_0x581af9(0x4b0),_0x2b737a))(zs||{}),v=class{constructor(_0x297721=a0_0x581af9(0x67d)){const _0xd6c591=a0_0x581af9;this['context']=_0x297721,this[_0xd6c591(0x3f1)]=b;}['setContext'](_0x305009){this['context']=_0x305009;}[a0_0x581af9(0x61f)](_0x41309d,_0x1bf7ce){const _0x5ad3b9=a0_0x581af9;let _0x4415cd=[];this[_0x5ad3b9(0x3f1)]['get'](_0x5ad3b9(0x72c))['LEVEL'][_0x5ad3b9(0x386)](_0xe0f7c8=>_0x4415cd[_0x5ad3b9(0x71d)](Ws[_0xe0f7c8]));let _0x3f6023=typeof _0x41309d;_0x4415cd[_0x5ad3b9(0x2a9)](_0x1bf7ce)&&(b[_0x5ad3b9(0x488)](_0x5ad3b9(0x72c))[_0x5ad3b9(0x3a6)]?(console[_0x5ad3b9(0x679)](_0x5ad3b9(0x2bc)+Gs[_0x1bf7ce],'\x1b[1m\x1b[37m',(0x0,ns[_0x5ad3b9(0x258)])()['format'](_0x5ad3b9(0x25d)),_0x5ad3b9(0x219),cs[_0x1bf7ce]+zs[_0x1bf7ce]+'\x1b[1m',_0x1bf7ce+_0x5ad3b9(0x5d1),_0x5ad3b9(0x68f),this['context']+_0x5ad3b9(0x219),cs[_0x1bf7ce],_0x3f6023!==_0x5ad3b9(0x257)?_0x41309d:'',_0x5ad3b9(0x219)),_0x3f6023===_0x5ad3b9(0x257)&&console['log'](_0x41309d,'\x0a')):console[_0x5ad3b9(0x679)]((0x0,ns[_0x5ad3b9(0x258)])()[_0x5ad3b9(0x28a)](_0x5ad3b9(0x558)),_0x1bf7ce+'\x20',''+this['context'],_0x41309d));}['log'](_0x22c4cd){const _0x19149d=a0_0x581af9;this['console'](_0x22c4cd,_0x19149d(0x72c));}[a0_0x581af9(0x31f)](_0x6bb522){const _0x310a1e=a0_0x581af9;this[_0x310a1e(0x61f)](_0x6bb522,_0x310a1e(0x6de));}[a0_0x581af9(0x5ad)](_0x2ce61a){const _0x7e883b=a0_0x581af9;this['console'](_0x2ce61a,_0x7e883b(0x6fb));}[a0_0x581af9(0x3cf)](_0x425eb1){this['console'](_0x425eb1,'ERROR');}[a0_0x581af9(0x628)](_0x10b8c3){const _0x444dec=a0_0x581af9;this[_0x444dec(0x61f)](_0x10b8c3,_0x444dec(0x33b));}[a0_0x581af9(0x410)](_0x24f422){const _0xc0be49=a0_0x581af9;this['console'](_0x24f422,_0xc0be49(0x3b4));}['dark'](_0x3bed7f){const _0x3f83db=a0_0x581af9;this[_0x3f83db(0x61f)](_0x3bed7f,_0x3f83db(0x230));}};function Hs(){process['on']('uncaughtException',(_0x20a3b7,_0x43aa5b)=>{const _0xfcb4d=a0_0xd85f;new v(_0xfcb4d(0x21d))['error']({'origin':_0x43aa5b,'stderr':process['stderr']['fd'],'error':_0x20a3b7});}),process['on']('unhandledRejection',(_0x1a3692,_0x19a977)=>{const _0x5569a6=a0_0xd85f;new v(_0x5569a6(0x549))['error']({'origin':_0x19a977,'stderr':process['stderr']['fd'],'error':_0x1a3692});});}var Ks=O(require(a0_0x581af9(0x6e4))),ls=new Ks[(a0_0x581af9(0x258))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Le=require(a0_0x581af9(0x65d)),Se=O(require(a0_0x581af9(0x65d))),ke=new v('Db\x20Connection'),k=b[a0_0x581af9(0x488)]('DATABASE'),R=k[a0_0x581af9(0x54e)]?k['CONNECTION'][a0_0x581af9(0x1c3)]?Se[a0_0x581af9(0x258)]['createConnection'](k[a0_0x581af9(0x22c)][a0_0x581af9(0x1c3)],{'dbName':k[a0_0x581af9(0x22c)][a0_0x581af9(0x559)]+'-whatsapp-api'}):Se[a0_0x581af9(0x258)][a0_0x581af9(0x713)](a0_0x581af9(0x4b5)+k[a0_0x581af9(0x22c)][a0_0x581af9(0x2e8)]+':'+k[a0_0x581af9(0x22c)][a0_0x581af9(0x237)]+a0_0x581af9(0x1ff),{'user':k['CONNECTION'][a0_0x581af9(0x3ec)],'pass':k['CONNECTION'][a0_0x581af9(0x52b)],'dbName':k['CONNECTION'][a0_0x581af9(0x559)]+'-whatsapp-api'}):null;k[a0_0x581af9(0x54e)]&&ke[a0_0x581af9(0x31f)](a0_0x581af9(0x725)+R['$dbName']);var me=k[a0_0x581af9(0x54e)]?k[a0_0x581af9(0x22c)][a0_0x581af9(0x1c3)]?Se[a0_0x581af9(0x258)][a0_0x581af9(0x713)](k['CONNECTION'][a0_0x581af9(0x1c3)],{'dbName':a0_0x581af9(0x4c1)}):Se[a0_0x581af9(0x258)][a0_0x581af9(0x713)](a0_0x581af9(0x4b5)+k[a0_0x581af9(0x22c)]['HOST']+':'+k[a0_0x581af9(0x22c)][a0_0x581af9(0x237)]+a0_0x581af9(0x1ff),{'user':k['CONNECTION']['USER'],'pass':k[a0_0x581af9(0x22c)][a0_0x581af9(0x52b)],'dbName':'cachedContacts-whatsapp'}):null;me&&ke[a0_0x581af9(0x31f)]('ON\x20-\x20dbName:\x20'+me['$dbName']),process['on'](a0_0x581af9(0x1e6),()=>{const _0x5ddc44=a0_0x581af9;R&&R[_0x5ddc44(0x7f5)](()=>{const _0xeb34df=_0x5ddc44;ke[_0xeb34df(0x31f)](_0xeb34df(0x5eb));}),me&&me['close'](()=>{const _0x2b9943=_0x5ddc44;ke[_0x2b9943(0x31f)](_0x2b9943(0x276));});});var Yr=new Le['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xr=new Le[(a0_0x581af9(0x1e5))]({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yr],'default':[]}},{'_id':!0x1}),Zr=new Le[(a0_0x581af9(0x1e5))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Xr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]}}),Qs=_0x1b7e08=>{const _0x3679a0=a0_0x581af9;let _0x35f01b='z_'+_0x1b7e08+_0x3679a0(0x764);return R?.[_0x3679a0(0x696)](_0x3679a0(0x7a7),Zr,_0x35f01b);},Ys=require(a0_0x581af9(0x65d)),ei=new Ys[(a0_0x581af9(0x1e5))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Xs=_0x1af570=>{const _0x549de7=a0_0x581af9;let _0x341dc4='z_'+_0x1af570+_0x549de7(0x343);return R?.[_0x549de7(0x696)](_0x549de7(0x20d),ei,_0x341dc4);},Zs=require(a0_0x581af9(0x65d)),us=class{},ti=new Zs[(a0_0x581af9(0x1e5))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ea=me?.['model'](us[a0_0x581af9(0x428)],ti,a0_0x581af9(0x6d8)),ta=require('mongoose'),si=new ta['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String}}),sa=_0xeb4a98=>{const _0x52b862=a0_0x581af9;let _0x8a2d51='z_'+_0xeb4a98+_0x52b862(0x7fe);return R?.[_0x52b862(0x696)]('MessageModel',si,_0x8a2d51);},aa=require(a0_0x581af9(0x65d)),ds=class{},ai=new aa[(a0_0x581af9(0x1e5))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ra=R?.[a0_0x581af9(0x696)](ds['name'],ai,a0_0x581af9(0x79b)),ia=require(a0_0x581af9(0x65d)),ps=class{},oa=new ia[(a0_0x581af9(0x1e5))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});oa[a0_0x581af9(0x802)](a0_0x581af9(0x332),function(_0x565469){const _0x480610=a0_0x581af9;delete this[_0x480610(0x762)],delete this[_0x480610(0x2b3)],delete this[_0x480610(0x794)],delete this[_0x480610(0x480)],delete this[_0x480610(0x337)],_0x565469();});var na=R?.['model'](ps['name'],oa,'webhook'),L=require(a0_0x581af9(0x65d)),ca=require('uuid'),je=class{},la=new L[(a0_0x581af9(0x1e5))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),hs=new L[(a0_0x581af9(0x1e5))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ri=new L[(a0_0x581af9(0x1e5))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x581af9(0x278)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x581af9(0x1c9)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':a0_0x581af9(0x532)},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ua=new L[(a0_0x581af9(0x1e5))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ii=new L[(a0_0x581af9(0x1e5))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),oi=new L[(a0_0x581af9(0x1e5))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),ys=new L[(a0_0x581af9(0x1e5))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),da=new L[(a0_0x581af9(0x1e5))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ri},'apirequest':ii,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),pa=new L[(a0_0x581af9(0x1e5))]({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),gs=class{},Fe=new L[(a0_0x581af9(0x1e5))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,ca['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x190ddf=a0_0x581af9;return _0x190ddf(0x3a9)+Math[_0x190ddf(0x744)]()[_0x190ddf(0x658)](0x24)[_0x190ddf(0x522)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[ys],'variablesNotFound':{'type':[String]},'blocks':[da],'groups':[la],'conditions':[ua],'varedits':[pa],'replyOptions':{'type':[hs],'default':[]}});Fe[a0_0x581af9(0x802)](a0_0x581af9(0x332),function(_0x225ef2){const _0xcb1bcd=a0_0x581af9;let _0x56a252=new Set(),_0x3ab1bd=new Set(this[_0xcb1bcd(0x83c)]?.[_0xcb1bcd(0x697)](_0x3bd2d1=>_0x3bd2d1[_0xcb1bcd(0x428)])),_0x5c2a9b=JSON[_0xcb1bcd(0x7e4)](this),_0x38be4f=/{{(?!_)([^}]*)}}/g,_0x40df2c;for(;(_0x40df2c=_0x38be4f[_0xcb1bcd(0x6ac)](_0x5c2a9b))!==null;)_0x3ab1bd[_0xcb1bcd(0x82b)](_0x40df2c[0x1])||_0x56a252[_0xcb1bcd(0x322)](_0x40df2c[0x1]);_0x56a252[_0xcb1bcd(0x28b)]>0x0?(console[_0xcb1bcd(0x5ad)]('Variáveis\x20não\x20encontradas:',Array[_0xcb1bcd(0x252)](_0x56a252)),this[_0xcb1bcd(0x82c)]=Array[_0xcb1bcd(0x252)](_0x56a252)):this[_0xcb1bcd(0x82c)]=[],_0x225ef2();}),Fe[a0_0x581af9(0x802)]('findOneAndUpdate',function(_0x45746c){const _0x3d1112=a0_0x581af9;let _0x539462=this[_0x3d1112(0x2ee)]();if(_0x539462&&typeof _0x539462==_0x3d1112(0x257)&&_0x3d1112(0x6f9)in _0x539462){let _0x537f47=_0x539462[_0x3d1112(0x6f9)];if(_0x537f47){let _0x3d1ba1=new Set(),_0xebd194=new Set(_0x537f47[_0x3d1112(0x83c)]?.[_0x3d1112(0x697)](_0x341f7f=>_0x341f7f[_0x3d1112(0x428)])),_0x146d17=JSON[_0x3d1112(0x7e4)](_0x537f47),_0xc1ea6a=/{{(?!_)([^}]*)}}/g,_0x314b69;for(;(_0x314b69=_0xc1ea6a['exec'](_0x146d17))!==null;)_0xebd194[_0x3d1112(0x82b)](_0x314b69[0x1])||_0x3d1ba1[_0x3d1112(0x322)](_0x314b69[0x1]);_0x3d1ba1[_0x3d1112(0x28b)]>0x0?(console['warn'](_0x3d1112(0x7f6),Array[_0x3d1112(0x252)](_0x3d1ba1)),_0x537f47[_0x3d1112(0x82c)]=Array[_0x3d1112(0x252)](_0x3d1ba1)):_0x537f47['variablesNotFound']=[],this[_0x3d1112(0x7ce)]({'$set':_0x537f47});}}_0x45746c();});var ha=_0x490006=>{const _0x42d995=a0_0x581af9;let _0x18bdf0='z_'+_0x490006+_0x42d995(0x215);return R?.['model'](_0x42d995(0x37e),Fe,_0x18bdf0);},ga=R?.['model'](gs['name'],Fe,a0_0x581af9(0x394)),ni=new L[(a0_0x581af9(0x1e5))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[ys],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[oi]},{'_id':!0x1}),ms=class{},ma=new L[(a0_0x581af9(0x1e5))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[ys],'blocks':[da],'groups':[la],'conditions':[ua],'varedits':[pa],'replyOptions':{'type':[hs],'default':[]},'chatLog':ni,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':'open'},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[hs],'default':[]}}),fa=_0x25be50=>{const _0x6e2ad=a0_0x581af9;let _0x284891='z_'+_0x25be50+_0x6e2ad(0x27c);return R?.[_0x6e2ad(0x696)](_0x6e2ad(0x6b1),ma,_0x284891);},wa=R?.[a0_0x581af9(0x696)](ms[a0_0x581af9(0x428)],ma,a0_0x581af9(0x450)),fs=class{},ci=new L[(a0_0x581af9(0x1e5))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),li=new L[(a0_0x581af9(0x1e5))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ya=new L[(a0_0x581af9(0x1e5))]({'owner':{'type':String},'status':{'type':String,'default':a0_0x581af9(0x702)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':li,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ci],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ba=_0x5c818e=>{const _0x5f1b91=a0_0x581af9;let _0x573fce='z_'+_0x5c818e+_0x5f1b91(0x3e5);return R?.[_0x5f1b91(0x696)](_0x5f1b91(0x79e),ya,_0x573fce);},Sa=R?.['model'](fs['name'],ya,a0_0x581af9(0x7ff)),ws=class{},ui=new L['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),di=new L[(a0_0x581af9(0x1e5))]({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x581af9(0x4d3)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),pi=new L[(a0_0x581af9(0x1e5))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),hi=new L[(a0_0x581af9(0x1e5))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[pi]},'customFields':{'type':[ui]},'flowConfig':{'type':di,'default':{}}}),Ue=R?.[a0_0x581af9(0x696)](ws[a0_0x581af9(0x428)],hi,a0_0x581af9(0x27b)),Ca=require(a0_0x581af9(0x65d)),gi=new Ca[(a0_0x581af9(0x1e5))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ea=_0x13facf=>{const _0xaffdef=a0_0x581af9;let _0x3705cf='z_'+_0x13facf+'_Labels';return R?.['model'](_0xaffdef(0x329),gi,_0x3705cf);},D=class{constructor(_0x4dccd7){const _0x29365a=a0_0x581af9;this[_0x29365a(0x259)]=_0x4dccd7[_0x29365a(0x488)]('DATABASE');}};function A(_0x17036b){const _0x383d3e=a0_0x581af9;let _0xe46e36={};for(let [_0x4e2f80,_0x238530]of Object[_0x383d3e(0x6a5)](_0x17036b))if(typeof _0x238530=='object'&&!Array[_0x383d3e(0x530)](_0x238530)){for(let [_0x2acd6e,_0x1f491f]of Object[_0x383d3e(0x6a5)](_0x238530))_0xe46e36[_0x4e2f80+'.'+_0x2acd6e]=_0x1f491f;}else _0xe46e36[_0x4e2f80]=_0x238530;return _0xe46e36;}var Je=class{constructor(_0x58fc47,_0x1d8f42,_0x2eb95c,_0x15061a,_0x4cc499,_0x5862e6,_0x2eff82,_0x19ca38,_0x504339,_0x63fe15,_0x5390ee,_0x3553e8){const _0x2e7286=a0_0x581af9;this[_0x2e7286(0x390)]=_0x58fc47,this['chat']=_0x1d8f42,this[_0x2e7286(0x862)]=_0x2eb95c,this[_0x2e7286(0x484)]=_0x15061a,this[_0x2e7286(0x7fd)]=_0x4cc499,this['auth']=_0x5862e6,this['flow']=_0x2eff82,this[_0x2e7286(0x450)]=_0x19ca38,this[_0x2e7286(0x553)]=_0x504339,this[_0x2e7286(0x6ce)]=_0x63fe15,this[_0x2e7286(0x3c8)]=_0x5390ee,this[_0x2e7286(0x5ef)]=_0x3553e8;}get[a0_0x581af9(0x61d)](){const _0x319c7e=a0_0x581af9;return this[_0x319c7e(0x5ef)];}},qe=class{},Ve=class extends D{['getMessageModelForOwner'](_0xc52237){return sa(_0xc52237);}async[a0_0x581af9(0x1b1)](_0x1481e3,_0x1a1824){const _0x204d96=a0_0x581af9;if(_0x1481e3['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x204d96(0x704)](_0x1a1824)[_0x204d96(0x62d)]([..._0x1481e3]))[_0x204d96(0x1ee)]};}catch(_0x4935c0){return _0x4935c0;}}async[a0_0x581af9(0x53f)](_0x393a7d,_0x378e0a){const _0x3019a4=a0_0x581af9;try{let _0x15d3c0=this['getMessageModelForOwner'](_0x378e0a),_0x585833=A(_0x393a7d[_0x3019a4(0x5d0)]);return await _0x15d3c0[_0x3019a4(0x53f)](_0x585833)[_0x3019a4(0x555)]({'messageTimestamp':-0x1})[_0x3019a4(0x812)](_0x393a7d?.[_0x3019a4(0x812)]??0x0)[_0x3019a4(0x1ca)]();}catch{return[];}}async[a0_0x581af9(0x5e1)](_0x5deff9,_0x10bfd0){const _0x18b2db=a0_0x581af9;try{let _0x3840ed=this[_0x18b2db(0x704)](_0x10bfd0),_0x300fa4=A(_0x5deff9['where']);await _0x3840ed['deleteMany'](_0x300fa4);}catch(_0x387cbb){console[_0x18b2db(0x3cf)](_0x387cbb);}}async[a0_0x581af9(0x536)](_0x469435,_0x5f10dc,_0x59afce){const _0x482f5b=a0_0x581af9;try{let _0x3c3b93=this['getMessageModelForOwner'](_0x59afce),_0x40e519=A(_0x469435['where']);return await _0x3c3b93['findOneAndUpdate'](_0x40e519,{'$set':_0x5f10dc},{'new':!0x0});}catch(_0x3597b1){throw console[_0x482f5b(0x3cf)](_0x3597b1),_0x3597b1;}}async[a0_0x581af9(0x62d)](_0x313d6d,_0x4cae6a){const _0x2b92ce=a0_0x581af9;if(_0x313d6d[_0x2b92ce(0x1ee)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2b92ce(0x704)](_0x4cae6a)['insertMany']([..._0x313d6d]))[_0x2b92ce(0x1ee)]};}catch(_0x1b7156){return console[_0x2b92ce(0x679)](_0x2b92ce(0x3b6),_0x1b7156),_0x1b7156;}}async[a0_0x581af9(0x527)](_0x12fd5c){const _0x381d28=a0_0x581af9;try{return await this[_0x381d28(0x704)](_0x12fd5c)[_0x381d28(0x416)][_0x381d28(0x1fd)](),{'success':!0x0};}catch(_0x58caac){return console[_0x381d28(0x3cf)](_0x58caac),{'success':!0x1,'error':_0x58caac};}}},Tr=O(require(a0_0x581af9(0x7ac))),m=O(require(a0_0x581af9(0x6ec))),Te=require('fs'),q=O(require(a0_0x581af9(0x746))),Z=O(require(a0_0x581af9(0x798))),Or=require(a0_0x581af9(0x53e)),Ar=O(require('qrcode')),Ir=O(require(a0_0x581af9(0x29c))),Ma=[a0_0x581af9(0x834),a0_0x581af9(0x60c),a0_0x581af9(0x3ce),'videoMessage',a0_0x581af9(0x783)],va=[a0_0x581af9(0x70c),a0_0x581af9(0x5ca),'viewOnceMessage',a0_0x581af9(0x28d)],Os=require('os'),$t=O(require(a0_0x581af9(0x281))),Ft=require(a0_0x581af9(0x4a0)),kt=require(a0_0x581af9(0x6d1)),le=O(require(a0_0x581af9(0x65d))),P=require(a0_0x581af9(0x7a8)),fe=class{constructor(_0x484fac,_0x28f1fb,_0x5092ae){const _0x3fa36a=a0_0x581af9;this['jid']=_0x484fac,this['exists']=_0x28f1fb,this[_0x3fa36a(0x428)]=_0x5092ae;}},Be=class{},Ge=class{},Ce=class{},We=class{},ze=class{},we=class{},He=class{},Ke=class{},Qe=class{},Ye=class{},At=O(require('express')),Na=require('fs'),Ra=require(a0_0x581af9(0x746));async function Xe(_0x34647f){const _0x42206a=a0_0x581af9;let _0x3ec716=B[_0x42206a(0x3e8)][_0x34647f];if(k[_0x42206a(0x54e)]){let _0x4df5bf=R[_0x42206a(0x62c)]()['db'](k[_0x42206a(0x22c)]['DB_PREFIX_NAME']+_0x42206a(0x393))[_0x42206a(0x416)](_0x34647f);return _0x3ec716||(await _0x4df5bf[_0x42206a(0x53f)]({})[_0x42206a(0x5b2)]())[_0x42206a(0x1ee)]>0x0;}return _0x3ec716||(0x0,Na[_0x42206a(0x694)])((0x0,Ra[_0x42206a(0x495)])(ge,_0x34647f));}async function Ta(_0x2ccc02,_0x2fffa8,_0x56fe5e){const _0x244879=a0_0x581af9;if(_0x2ccc02[_0x244879(0x64d)][_0x244879(0x2a9)](_0x244879(0x37d))||_0x2ccc02['originalUrl'][_0x244879(0x2a9)](_0x244879(0x740))||_0x2ccc02[_0x244879(0x64d)][_0x244879(0x2a9)](_0x244879(0x7d4))||_0x2ccc02[_0x244879(0x64d)][_0x244879(0x2a9)](_0x244879(0x3a5))||_0x2ccc02[_0x244879(0x64d)][_0x244879(0x2a9)](_0x244879(0x639))||_0x2ccc02['originalUrl'][_0x244879(0x2a9)]('/instance/connectionState')||_0x2ccc02[_0x244879(0x64d)][_0x244879(0x2a9)](_0x244879(0x41b)))return _0x56fe5e();let _0x51550b=_0x2ccc02[_0x244879(0x29d)];if(!_0x51550b?.[_0x244879(0x41a)])throw new w(_0x244879(0x49b));if(!await Xe(_0x51550b[_0x244879(0x41a)]))throw new j(_0x244879(0x385)+_0x51550b['instanceName']+_0x244879(0x4fc));_0x56fe5e();}async function Oa(_0x48df85,_0x1a0f0c,_0x25effe){const _0x5c51fe=a0_0x581af9;if(_0x48df85[_0x5c51fe(0x64d)][_0x5c51fe(0x2a9)](_0x5c51fe(0x37d))){let _0x59821f=_0x48df85[_0x5c51fe(0x6f5)];if(await Xe(_0x59821f[_0x5c51fe(0x41a)]))throw new K(_0x5c51fe(0x691)+_0x59821f[_0x5c51fe(0x41a)]+_0x5c51fe(0x731));B['waInstances'][_0x59821f[_0x5c51fe(0x41a)]]&&delete B['waInstances'][_0x59821f[_0x5c51fe(0x41a)]];}_0x25effe();}var Aa=require(a0_0x581af9(0x7a8)),Ia=O(require(a0_0x581af9(0x6f1))),Ze=a0_0x581af9(0x243),fi=new v(a0_0x581af9(0x32f));async function wi(_0x3cd078,_0x5c0e70,_0x56d437){const _0x69189a=a0_0x581af9;let _0x2ae29b=_0x3cd078['get'](_0x69189a(0x626));if(_0x2ae29b&&b['get'](_0x69189a(0x38b))[_0x69189a(0x2de)]['KEY']!==_0x2ae29b)throw new te();if(b[_0x69189a(0x488)](_0x69189a(0x38b))['API_KEY'][_0x69189a(0x467)]===_0x2ae29b)return _0x56d437();if((_0x3cd078['originalUrl'][_0x69189a(0x2a9)]('/instance/create')||_0x3cd078[_0x69189a(0x64d)][_0x69189a(0x2a9)](_0x69189a(0x740)))&&!_0x2ae29b)throw new K(_0x69189a(0x1fa),_0x69189a(0x600));let _0x206682=b[_0x69189a(0x488)]('AUTHENTICATION')[_0x69189a(0x2a6)];try{let [_0x1cb11a,_0x1bd2da]=_0x3cd078[_0x69189a(0x488)]('authorization')['split']('\x20');if(_0x1cb11a[_0x69189a(0x61a)]()!=='bearer')throw new te();if(!(0x0,Aa['isJWT'])(_0x1bd2da))throw new te();let _0x249d30=_0x3cd078[_0x69189a(0x29d)],_0x40330c=Ia[_0x69189a(0x258)]['verify'](_0x1bd2da,_0x206682[_0x69189a(0x581)],{'ignoreExpiration':_0x206682[_0x69189a(0x2da)]===0x0});if(_0x249d30[_0x69189a(0x41a)]!==_0x40330c['instanceName']||Ze!==_0x40330c[_0x69189a(0x29a)])throw new te();return _0x56d437();}catch(_0x1a2c04){throw fi[_0x69189a(0x3cf)](_0x1a2c04),new te();}}async function yi(_0x199b85,_0x5af704,_0x4c5529){const _0x6a0542=a0_0x581af9;let _0x30a6b2=b[_0x6a0542(0x488)](_0x6a0542(0x38b))[_0x6a0542(0x2de)],_0x5c9f56=_0x199b85['get'](_0x6a0542(0x626));if(_0x30a6b2[_0x6a0542(0x467)]===_0x5c9f56)return _0x4c5529();if(_0x199b85[_0x6a0542(0x64d)][_0x6a0542(0x2a9)](_0x6a0542(0x37d))){let _0x1c41d5=et,_0x2f6abd=_0x199b85['body']['instanceName'];if(_0x1c41d5&&_0x2f6abd[_0x6a0542(0x61a)]()['startsWith'](_0x1c41d5[_0x6a0542(0x61a)]()))return _0x4c5529();if(!_0x5c9f56)throw new K(_0x6a0542(0x1fa),_0x6a0542(0x600));}if(_0x199b85[_0x6a0542(0x64d)]['includes'](_0x6a0542(0x740))&&!_0x5c9f56)throw new K('Missing\x20global\x20api\x20key',_0x6a0542(0x600));if(_0x199b85[_0x6a0542(0x64d)][_0x6a0542(0x2a9)](_0x6a0542(0x7d4))&&!_0x5c9f56)throw new K(_0x6a0542(0x1fa),_0x6a0542(0x600));if(_0x199b85[_0x6a0542(0x64d)][_0x6a0542(0x2a9)](_0x6a0542(0x3a5))&&!_0x5c9f56)throw new K(_0x6a0542(0x1fa),_0x6a0542(0x600));try{let _0x2a529a=_0x199b85['params'],_0x3fafc7=await ue[_0x6a0542(0x429)][_0x6a0542(0x53f)](_0x2a529a['instanceName']);if(_0x3fafc7&&_0x3fafc7[_0x6a0542(0x626)]===_0x5c9f56)return _0x4c5529();}catch{}throw new te();}var xa={'jwt':wi,'apikey':yi},dr=require('express'),E=require(a0_0x581af9(0x53e)),C=(..._0x3a4669)=>{const _0x216c02=a0_0x581af9;let _0x29ffbd={};return _0x3a4669['forEach'](_0x3bb311=>_0x29ffbd[_0x3bb311]={'minLength':0x1,'description':_0x216c02(0x43b)+_0x3bb311+_0x216c02(0x4ae)}),{'if':{'propertyNames':{'enum':[..._0x3a4669]}},'then':{'properties':_0x29ffbd}};},M={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'instanceName':{'type':a0_0x581af9(0x497)}},...C(a0_0x581af9(0x41a))},cc={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'oldToken':{'type':a0_0x581af9(0x497)}},'required':[a0_0x581af9(0x554)],...C('oldToken')},lc={'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x581af9(0x497)},'remoteJid':{'type':a0_0x581af9(0x497)},'fromMe':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]}},'required':['id',a0_0x581af9(0x601),a0_0x581af9(0x795)],...C('id',a0_0x581af9(0x601))},'message':{'type':a0_0x581af9(0x257)}}},Q={'properties':{'delay':{'type':a0_0x581af9(0x34f),'description':a0_0x581af9(0x7e9)},'presence':{'type':a0_0x581af9(0x497),'enum':[a0_0x581af9(0x4f4),a0_0x581af9(0x766),'composing',a0_0x581af9(0x460),a0_0x581af9(0x604)]}}},z={'type':a0_0x581af9(0x497),'pattern':a0_0x581af9(0x2e5),'description':a0_0x581af9(0x3ac)},Da={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'number':{...z},'options':{...Q},'textMessage':{'type':a0_0x581af9(0x257),'properties':{'text':{'type':a0_0x581af9(0x497)}},'required':[a0_0x581af9(0x711)],...C(a0_0x581af9(0x711))}},'required':[a0_0x581af9(0x3d9),a0_0x581af9(0x557)]},_a={'type':a0_0x581af9(0x497),'pattern':'^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','description':a0_0x581af9(0x3ac)},uc={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'number':{..._a},'options':{...Q},'textMessage':{'type':a0_0x581af9(0x257),'properties':{'text':{'type':a0_0x581af9(0x497)}},'required':[a0_0x581af9(0x711)],...C(a0_0x581af9(0x711))}},'required':[a0_0x581af9(0x3d9),a0_0x581af9(0x557)]},dc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{..._a},'options':{...Q},'mediaMessage':{'type':a0_0x581af9(0x257),'properties':{'mediatype':{'type':'string','enum':[a0_0x581af9(0x2e6),a0_0x581af9(0x793),a0_0x581af9(0x35c),'audio']},'media':{'type':a0_0x581af9(0x497)},'fileName':{'type':'string'},'caption':{'type':a0_0x581af9(0x497)}},'required':[a0_0x581af9(0x506),a0_0x581af9(0x541)],...C(a0_0x581af9(0x355),'caption',a0_0x581af9(0x541))}},'required':[a0_0x581af9(0x7e2),a0_0x581af9(0x557)]},Pa={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'number':{...z},'options':{...Q},'stickerMessage':{'type':a0_0x581af9(0x257),'properties':{'image':{'type':a0_0x581af9(0x497)}},'required':[a0_0x581af9(0x2e6)],...C(a0_0x581af9(0x2e6))}},'required':[a0_0x581af9(0x783),a0_0x581af9(0x557)]},$a={'$id':(0x0,E['v4'])(),'type':'object','properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x581af9(0x497),'enum':[a0_0x581af9(0x711),a0_0x581af9(0x2e6),a0_0x581af9(0x7ba),a0_0x581af9(0x35c)]},'content':{'type':'string'},'caption':{'type':a0_0x581af9(0x497)},'backgroundColor':{'type':a0_0x581af9(0x497)},'font':{'type':a0_0x581af9(0x34f),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x581af9(0x7bc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x581af9(0x497),'pattern':a0_0x581af9(0x2cf),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]}},'required':['type',a0_0x581af9(0x708)],...C('type','content')}},'required':[a0_0x581af9(0x4ef)]},ka={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'mediaMessage':{'type':a0_0x581af9(0x257),'properties':{'mediatype':{'type':a0_0x581af9(0x497),'enum':[a0_0x581af9(0x2e6),a0_0x581af9(0x793),'video','audio']},'media':{'type':a0_0x581af9(0x497)},'fileName':{'type':a0_0x581af9(0x497)},'caption':{'type':a0_0x581af9(0x497)}},'required':[a0_0x581af9(0x506),a0_0x581af9(0x541)],...C(a0_0x581af9(0x355),a0_0x581af9(0x5c8),a0_0x581af9(0x541))}},'required':[a0_0x581af9(0x7e2),a0_0x581af9(0x557)]},La={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Q},'audioMessage':{'type':'object','properties':{'audio':{'type':a0_0x581af9(0x497)}},'required':['audio'],...C(a0_0x581af9(0x7ba))}},'required':[a0_0x581af9(0x3ce),a0_0x581af9(0x557)]},ja={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'number':{...z},'pollMessage':{'type':a0_0x581af9(0x257),'properties':{'name':{'type':a0_0x581af9(0x497)},'selectableCount':{'type':a0_0x581af9(0x557)},'values':{'type':a0_0x581af9(0x7bc),'minItems':0x2,'uniqueItems':!0x0}},'required':['name',a0_0x581af9(0x864),'values'],...C(a0_0x581af9(0x428),'selectableCount',a0_0x581af9(0x4d9))}},'required':[a0_0x581af9(0x557),a0_0x581af9(0x69b)]},Fa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'menuMessage':{'type':a0_0x581af9(0x257),'properties':{'text':{'type':a0_0x581af9(0x497)},'choices':{'type':a0_0x581af9(0x7bc),'minItems':0x2,'uniqueItems':!0x0}},'required':['text','choices'],...C(a0_0x581af9(0x711),'choices')}},'required':[a0_0x581af9(0x557),a0_0x581af9(0x33c)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'number':{...z},'options':{...Q},'buttonMessage':{'type':a0_0x581af9(0x257),'properties':{'title':{'type':'string'},'description':{'type':a0_0x581af9(0x497)},'footerText':{'type':'string'},'buttons':{'type':a0_0x581af9(0x7bc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x581af9(0x257),'properties':{'buttonText':{'type':a0_0x581af9(0x497)},'buttonId':{'type':a0_0x581af9(0x497)}},'required':[a0_0x581af9(0x441),a0_0x581af9(0x7eb)],...C(a0_0x581af9(0x441),a0_0x581af9(0x7eb))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x581af9(0x497)},'fileName':{'type':'string'},'mediatype':{'type':'string','enum':['image',a0_0x581af9(0x793),'video']}},'required':[a0_0x581af9(0x541),a0_0x581af9(0x506)],...C(a0_0x581af9(0x541),a0_0x581af9(0x355))}},'required':[a0_0x581af9(0x540),a0_0x581af9(0x3d6)],...C('title',a0_0x581af9(0x855))}},'required':[a0_0x581af9(0x557),'buttonMessage']},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'number':{...z},'options':{...Q},'locationMessage':{'type':a0_0x581af9(0x257),'properties':{'latitude':{'type':'number'},'longitude':{'type':a0_0x581af9(0x557)},'name':{'type':'string'},'address':{'type':a0_0x581af9(0x497)}},'required':[a0_0x581af9(0x1db),a0_0x581af9(0x752)],...C('name',a0_0x581af9(0x3f0))}},'required':[a0_0x581af9(0x557),a0_0x581af9(0x485)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'number':{...z},'options':{...Q},'listMessage':{'type':a0_0x581af9(0x257),'properties':{'title':{'type':'string'},'description':{'type':a0_0x581af9(0x497)},'footerText':{'type':'string'},'buttonText':{'type':'string'},'sections':{'type':a0_0x581af9(0x7bc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x581af9(0x257),'properties':{'title':{'type':a0_0x581af9(0x497)},'rows':{'type':a0_0x581af9(0x7bc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x581af9(0x257),'properties':{'title':{'type':a0_0x581af9(0x497)},'description':{'type':a0_0x581af9(0x497)},'rowId':{'type':a0_0x581af9(0x497)}},'required':[a0_0x581af9(0x540),a0_0x581af9(0x77b)],...C(a0_0x581af9(0x540),'rowId')}}},'required':[a0_0x581af9(0x540),a0_0x581af9(0x453)],...C('title')}}},'required':[a0_0x581af9(0x540),a0_0x581af9(0x855),a0_0x581af9(0x441),a0_0x581af9(0x52f)],...C(a0_0x581af9(0x540),a0_0x581af9(0x855),'buttonText',a0_0x581af9(0x1dc))}},'required':['number',a0_0x581af9(0x376)]},Va={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'number':{...z},'options':{...Q},'contactMessage':{'type':a0_0x581af9(0x7bc),'items':{'type':a0_0x581af9(0x257),'properties':{'fullName':{'type':'string'},'phoneNumber':{'type':a0_0x581af9(0x497),'minLength':0xa}},'required':[a0_0x581af9(0x35e),a0_0x581af9(0x5ac)],...C('fullName')},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x581af9(0x557),a0_0x581af9(0x547)]},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'reactionMessage':{'type':a0_0x581af9(0x257),'properties':{'key':{'type':a0_0x581af9(0x257),'properties':{'id':{'type':a0_0x581af9(0x497)},'remoteJid':{'type':'string'},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['id',a0_0x581af9(0x601),a0_0x581af9(0x795)],...C('id',a0_0x581af9(0x601))},'reaction':{'type':'string'}},'required':[a0_0x581af9(0x686),a0_0x581af9(0x58d)],...C('reaction')}},'required':[a0_0x581af9(0x51b)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'numbers':{'type':a0_0x581af9(0x7bc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x581af9(0x497),'pattern':'^\x5cd+','description':a0_0x581af9(0x80b)}}}},Wa={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'readMessages':{'type':a0_0x581af9(0x7bc),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x581af9(0x497)},'fromMe':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x581af9(0x497)}},'required':['id','fromMe',a0_0x581af9(0x601)],...C('id','remoteJid')}}},'required':[a0_0x581af9(0x49c)]},za={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'privacySettings':{'type':a0_0x581af9(0x257),'properties':{'readreceipts':{'type':'string','enum':[a0_0x581af9(0x699),a0_0x581af9(0x5cd)]},'profile':{'type':a0_0x581af9(0x497),'enum':[a0_0x581af9(0x699),a0_0x581af9(0x4ba),a0_0x581af9(0x556),a0_0x581af9(0x5cd)]},'status':{'type':a0_0x581af9(0x497),'enum':[a0_0x581af9(0x699),'contacts',a0_0x581af9(0x556),a0_0x581af9(0x5cd)]},'online':{'type':a0_0x581af9(0x497),'enum':['all',a0_0x581af9(0x3e6)]},'last':{'type':'string','enum':[a0_0x581af9(0x699),a0_0x581af9(0x4ba),a0_0x581af9(0x556),a0_0x581af9(0x5cd)]},'groupadd':{'type':'string','enum':[a0_0x581af9(0x699),a0_0x581af9(0x4ba),'contact_blacklist',a0_0x581af9(0x5cd)]}},'required':[a0_0x581af9(0x570),a0_0x581af9(0x274),'status','online','last','groupadd'],...C(a0_0x581af9(0x570),a0_0x581af9(0x274),a0_0x581af9(0x2e9),a0_0x581af9(0x85c),'last',a0_0x581af9(0x66c))}},'required':[a0_0x581af9(0x44b)]},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'lastMessage':{'type':a0_0x581af9(0x257),'properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x581af9(0x497)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]}},'required':['id',a0_0x581af9(0x795),a0_0x581af9(0x601)],...C('id','remoteJid')},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x581af9(0x686)],...C('messageTimestamp')},'archive':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]}},'required':[a0_0x581af9(0x5f4),a0_0x581af9(0x1d8)]},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'id':{'type':a0_0x581af9(0x497)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x581af9(0x497)},'participant':{'type':'string'}},'required':['id',a0_0x581af9(0x795),a0_0x581af9(0x601)],...C('id',a0_0x581af9(0x601),a0_0x581af9(0x44c))},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'where':{'type':a0_0x581af9(0x257),'properties':{'_id':{'type':a0_0x581af9(0x497),'minLength':0x1},'pushName':{'type':a0_0x581af9(0x497),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...C(a0_0x581af9(0x4e8),'id','pushName')}}},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'name':{'type':'string'}},...C('name')},Xa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'status':{'type':a0_0x581af9(0x497)}},...C(a0_0x581af9(0x2e9))},Ee={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'number':{'type':a0_0x581af9(0x497)},'picture':{'type':'string'}}},Za={'type':'object','properties':{'wuid':{'type':a0_0x581af9(0x497)},'name':{'type':a0_0x581af9(0x497)},'picture':{'type':'string'},'status':{'type':a0_0x581af9(0x497)},'isBusiness':{'type':'boolean'}}},er={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':'string','minLength':0x1},'key':{'type':a0_0x581af9(0x257),'if':{'propertyNames':{'enum':[a0_0x581af9(0x795),'remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x581af9(0x6ca)},'id':{'type':a0_0x581af9(0x497),'minLength':0x1,'description':a0_0x581af9(0x6ca)},'fromMe':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x581af9(0x257)}},...C(a0_0x581af9(0x4e8))},'limit':{'type':a0_0x581af9(0x34f)}}},pc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x581af9(0x497)},'remoteJid':{'type':a0_0x581af9(0x497)},'id':{'type':a0_0x581af9(0x497)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'participant':{'type':a0_0x581af9(0x497)},'status':{'type':'string','enum':[a0_0x581af9(0x84a),a0_0x581af9(0x80d),a0_0x581af9(0x780),a0_0x581af9(0x31e),a0_0x581af9(0x5ff),a0_0x581af9(0x2d1)]}},...C(a0_0x581af9(0x4e8),a0_0x581af9(0x601),'id',a0_0x581af9(0x2e9))},'limit':{'type':a0_0x581af9(0x34f)}}},tr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'presence':{'type':a0_0x581af9(0x497),'enum':[a0_0x581af9(0x4f4),a0_0x581af9(0x766),'composing',a0_0x581af9(0x460),a0_0x581af9(0x604)]}},'required':[a0_0x581af9(0x3a7),a0_0x581af9(0x557)]},sr={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'subject':{'type':a0_0x581af9(0x497)},'description':{'type':'string'},'profilePicture':{'type':a0_0x581af9(0x497)},'participants':{'type':a0_0x581af9(0x7bc),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x581af9(0x497),'minLength':0xa,'pattern':a0_0x581af9(0x6a3),'description':a0_0x581af9(0x1d3)}}},'required':[a0_0x581af9(0x35b),'participants'],...C(a0_0x581af9(0x35b),'description','profilePicture')},Me={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'groupJid':{'type':'string','pattern':a0_0x581af9(0x1d4)}},'required':[a0_0x581af9(0x650)],...C('groupJid')},ar={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'groupJid':{'type':a0_0x581af9(0x497)},'action':{'type':'string','enum':[a0_0x581af9(0x322),a0_0x581af9(0x7f9),a0_0x581af9(0x32e),'demote',a0_0x581af9(0x857),a0_0x581af9(0x807)]},'participants':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x581af9(0x6a3),'description':a0_0x581af9(0x1d3)}}},'required':[a0_0x581af9(0x650),a0_0x581af9(0x2ff),a0_0x581af9(0x354)],...C(a0_0x581af9(0x650),'action')},rr={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'groupJid':{'type':a0_0x581af9(0x497)},'expiration':{'type':'number','enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x581af9(0x650),'expiration'],...C(a0_0x581af9(0x650),a0_0x581af9(0x5db))},ir={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'groupJid':{'type':a0_0x581af9(0x497)},'image':{'type':'string'}},'required':[a0_0x581af9(0x650),a0_0x581af9(0x2e6)],...C('groupJid','image')},or={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'groupJid':{'type':a0_0x581af9(0x497)},'description':{'type':a0_0x581af9(0x497)}},'required':[a0_0x581af9(0x650),a0_0x581af9(0x855)],...C(a0_0x581af9(0x650),'description')},nr={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'groupJid':{'type':a0_0x581af9(0x497)},'name':{'type':a0_0x581af9(0x497)}},'required':[a0_0x581af9(0x650),'name'],...C(a0_0x581af9(0x650),a0_0x581af9(0x428))},cr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x581af9(0x497)},'setting':{'type':'string','enum':[a0_0x581af9(0x714),a0_0x581af9(0x270),a0_0x581af9(0x66a),a0_0x581af9(0x767)]}},'required':[a0_0x581af9(0x650),a0_0x581af9(0x6e6)],...C(a0_0x581af9(0x650),'setting')},lr={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'groupJid':{'type':a0_0x581af9(0x497)},'restrict':{'type':'boolean'},'announce':{'type':a0_0x581af9(0x6d2)},'memberAddMode':{'type':a0_0x581af9(0x6d2)},'joinApprovalMode':{'type':a0_0x581af9(0x6d2)},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':'string'},'description':{'type':a0_0x581af9(0x497)},'image':{'type':a0_0x581af9(0x497)}}},bs={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'inviteCode':{'type':'string'}},'required':['inviteCode'],...C('inviteCode')},ur={'$id':(0x0,E['v4'])(),'type':a0_0x581af9(0x257),'properties':{'url':{'type':a0_0x581af9(0x497)},'enabled':{'type':'boolean','enum':[!0x0,!0x1]}},'required':['url',a0_0x581af9(0x3db)]},hc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x581af9(0x6d2),'enum':[!0x0,!0x1]}},'required':[a0_0x581af9(0x689),a0_0x581af9(0x81e),a0_0x581af9(0x1bc),a0_0x581af9(0x7e3),a0_0x581af9(0x6d3),a0_0x581af9(0x1b7),a0_0x581af9(0x7b7),a0_0x581af9(0x505),a0_0x581af9(0x22a),a0_0x581af9(0x284),'PRESENCE_UPDATE',a0_0x581af9(0x850),a0_0x581af9(0x4ed),a0_0x581af9(0x479),a0_0x581af9(0x3e9),a0_0x581af9(0x5d6),'GROUPS_UPSERT',a0_0x581af9(0x5c3),a0_0x581af9(0x648)],...C(a0_0x581af9(0x689),a0_0x581af9(0x81e),'QRCODE_UPDATED',a0_0x581af9(0x7e3),a0_0x581af9(0x6d3),'MESSAGES_UPSERT',a0_0x581af9(0x7b7),a0_0x581af9(0x505),'CONTACTS_UPSERT',a0_0x581af9(0x284),a0_0x581af9(0x49f),a0_0x581af9(0x850),a0_0x581af9(0x4ed),a0_0x581af9(0x479),a0_0x581af9(0x3e9),a0_0x581af9(0x5d6),a0_0x581af9(0x754),a0_0x581af9(0x5c3),a0_0x581af9(0x648))},tt=class{},st=class extends D{[a0_0x581af9(0x552)](_0x3af957){return Xs(_0x3af957);}async[a0_0x581af9(0x1b1)](_0x415e06){const _0x141099=a0_0x581af9;if(_0x415e06['length']!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x415e06[0x0][_0x141099(0x409)])[_0x141099(0x62d)]([..._0x415e06]))[_0x141099(0x1ee)]};}catch(_0x533697){return _0x533697;}}async[a0_0x581af9(0x5e1)](_0x1a6276,_0x578fba){const _0x4cc817=a0_0x581af9;try{return{'deletedCount':(await this[_0x4cc817(0x552)](_0x578fba)[_0x4cc817(0x6dd)]({..._0x1a6276[_0x4cc817(0x5d0)]}))[_0x4cc817(0x285)]};}catch(_0x3500ef){return{'error':_0x3500ef?.[_0x4cc817(0x658)]()};}}async[a0_0x581af9(0x536)](_0x30f4c1,_0x36259e){const _0xdb5276=a0_0x581af9;try{if(_0x30f4c1[_0xdb5276(0x1ee)]===0x0)return;let _0x1988c3=this[_0xdb5276(0x552)](_0x36259e),_0x1ff7ea=_0x30f4c1['map'](_0x2080f4=>({'updateOne':{'filter':{'_id':_0x2080f4[_0xdb5276(0x4e8)],'owner':_0x36259e},'update':{..._0x2080f4}}})),{modifiedCount:_0x347af9}=await _0x1988c3[_0xdb5276(0x7cf)](_0x1ff7ea);return{'insertCount':_0x347af9};}catch{return;}}async[a0_0x581af9(0x53f)](_0x5c95fb,_0xc407e0){const _0x3a0fd1=a0_0x581af9;try{let _0x2a0ef6=this[_0x3a0fd1(0x552)](_0xc407e0),_0x141c93=A(_0x5c95fb[_0x3a0fd1(0x5d0)]);return await _0x2a0ef6[_0x3a0fd1(0x53f)](_0x141c93)['limit'](_0x5c95fb?.[_0x3a0fd1(0x812)]??0x0)['lean']();}catch{return[];}}async[a0_0x581af9(0x841)](_0x38c258,_0x4446f0){const _0x271487=a0_0x581af9;try{let _0x2c0054=this['getContactModelForOwner'](_0x4446f0),_0x49c96c=A(_0x38c258[_0x271487(0x5d0)]);return await _0x2c0054[_0x271487(0x841)](_0x49c96c)[_0x271487(0x1ca)]();}catch{return null;}}async[a0_0x581af9(0x527)](_0x59f0c5){const _0x336cf2=a0_0x581af9;try{return await this[_0x336cf2(0x552)](_0x59f0c5)[_0x336cf2(0x416)][_0x336cf2(0x1fd)](),{'success':!0x0};}catch(_0x3dd829){return console['error'](_0x3dd829),{'success':!0x1,'error':_0x3dd829};}}},at=require(a0_0x581af9(0x6f4)),Ec=require(a0_0x581af9(0x3fd)),Ss=new v(a0_0x581af9(0x3be)),V=class{[a0_0x581af9(0x59c)](_0x49deef,_0xdc18fd=!0x0){let _0x4bc1b4='/'+_0x49deef;return _0xdc18fd&&(_0x4bc1b4+='/:instanceName'),_0x4bc1b4;}async[a0_0x581af9(0x774)](_0x18d7de){const _0x4dc9a4=a0_0x581af9;let {request:_0x1503b1,schema:_0x2c66e1,ClassRef:_0x28fa76,execute:_0x5576f5}=_0x18d7de,_0x2488af=new _0x28fa76(),_0x2dae3d=_0x1503b1[_0x4dc9a4(0x6f5)],_0x413d16=_0x1503b1[_0x4dc9a4(0x29d)];_0x1503b1?.[_0x4dc9a4(0x6fd)]&&Object[_0x4dc9a4(0x543)](_0x1503b1[_0x4dc9a4(0x6fd)])['length']>0x0&&Object[_0x4dc9a4(0x5e4)](_0x413d16,_0x1503b1['query']),_0x1503b1[_0x4dc9a4(0x64d)][_0x4dc9a4(0x2a9)](_0x4dc9a4(0x37d))&&Object[_0x4dc9a4(0x5e4)](_0x413d16,_0x2dae3d),Object[_0x4dc9a4(0x5e4)](_0x2488af,_0x2dae3d);let _0x34d164=_0x2c66e1?(0x0,at[_0x4dc9a4(0x78a)])(_0x2488af,_0x2c66e1):{'valid':!0x0,'errors':[]};if(!_0x34d164[_0x4dc9a4(0x1c8)]){let _0x3a0302=_0x34d164['errors'][_0x4dc9a4(0x697)](({property:_0x23a2dc,stack:_0x1e7c23,schema:_0x3705fe})=>{const _0x475d19=_0x4dc9a4;let _0x2e672b;return _0x3705fe[_0x475d19(0x855)]?_0x2e672b=_0x3705fe[_0x475d19(0x855)]:_0x2e672b=_0x1e7c23[_0x475d19(0x614)](_0x475d19(0x611),''),{'property':_0x23a2dc[_0x475d19(0x614)]('instance.',''),'message':_0x2e672b};});throw Ss['error']([..._0x3a0302]),new w(..._0x3a0302);}return await _0x5576f5(_0x413d16,_0x2488af);}async[a0_0x581af9(0x67c)](_0x244980){const _0x19ef4d=a0_0x581af9;let {request:_0xffd233,ClassRef:_0x3d2084,schema:_0x5445a8,execute:_0xdac2c6}=_0x244980,_0x2761c0=_0xffd233[_0x19ef4d(0x6fd)];if(!_0x2761c0?.[_0x19ef4d(0x650)])throw new w(_0x19ef4d(0x37c),_0x19ef4d(0x400));let _0x4c09ba=_0xffd233[_0x19ef4d(0x29d)],_0x5d90cf=_0xffd233['body'],_0x4ceb74=new _0x3d2084();Object[_0x19ef4d(0x5e4)](_0x5d90cf,_0x2761c0),Object[_0x19ef4d(0x5e4)](_0x4ceb74,_0x5d90cf);let _0x39e0b2=(0x0,at[_0x19ef4d(0x78a)])(_0x4ceb74,_0x5445a8);if(!_0x39e0b2[_0x19ef4d(0x1c8)]){let _0x43eec7=_0x39e0b2['errors']['map'](({property:_0x1f6812,stack:_0x3ec0dc,schema:_0x45a82f})=>{const _0x303c4f=_0x19ef4d;let _0x14f454;return _0x45a82f[_0x303c4f(0x855)]?_0x14f454=_0x45a82f['description']:_0x14f454=_0x3ec0dc[_0x303c4f(0x614)](_0x303c4f(0x611),''),{'property':_0x1f6812[_0x303c4f(0x614)](_0x303c4f(0x611),''),'message':_0x14f454};});throw Ss[_0x19ef4d(0x3cf)]([..._0x43eec7]),new w(..._0x43eec7);}return await _0xdac2c6(_0x4c09ba,_0x4ceb74);}async[a0_0x581af9(0x77c)](_0x2af2de){const _0x3697a1=a0_0x581af9;let {request:_0x5789f7,ClassRef:_0x5d040f,schema:_0x5da8a2,execute:_0x2d87fd}=_0x2af2de,_0xd3abe0=_0x5789f7[_0x3697a1(0x6f5)];if(!_0xd3abe0?.[_0x3697a1(0x5ee)])throw new w('The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x23b066=_0x5789f7[_0x3697a1(0x29d)],_0x50a69e=_0x5789f7[_0x3697a1(0x6f5)],_0x5f4a3d=new _0x5d040f();Object[_0x3697a1(0x5e4)](_0x50a69e,_0xd3abe0),Object[_0x3697a1(0x5e4)](_0x5f4a3d,_0x50a69e);let _0x3a2127=(0x0,at[_0x3697a1(0x78a)])(_0x5f4a3d,_0x5da8a2);if(!_0x3a2127['valid']){let _0x43a685=_0x3a2127[_0x3697a1(0x63f)]['map'](({property:_0x5122d1,stack:_0x14a855,schema:_0x2d6379})=>{const _0x5c2e04=_0x3697a1;let _0x533fce;return _0x2d6379[_0x5c2e04(0x855)]?_0x533fce=_0x2d6379['description']:_0x533fce=_0x14a855[_0x5c2e04(0x614)](_0x5c2e04(0x611),''),{'property':_0x5122d1[_0x5c2e04(0x614)](_0x5c2e04(0x611),''),'message':_0x533fce};});throw Ss[_0x3697a1(0x3cf)]([..._0x43a685]),new w(..._0x43a685);}return await _0x2d87fd(_0x23b066,_0x5f4a3d);}},S=class{},Lc=new v(a0_0x581af9(0x645)),rt=class extends V{constructor(..._0x5b760f){const _0x56ce67=a0_0x581af9;super(),this[_0x56ce67(0x328)]=(0x0,dr[_0x56ce67(0x81d)])(),this[_0x56ce67(0x328)][_0x56ce67(0x245)](this[_0x56ce67(0x59c)](_0x56ce67(0x420)),..._0x5b760f,async(_0x1525dc,_0x1f7dd6)=>{const _0x1e90af=_0x56ce67;let _0x13040f=await this[_0x1e90af(0x774)]({'request':_0x1525dc,'schema':tr,'ClassRef':Be,'execute':(_0x198825,_0x5200bf)=>_[_0x1e90af(0x420)](_0x198825,_0x5200bf)});return _0x1f7dd6['status'](0xc9)['json'](_0x13040f);})[_0x56ce67(0x245)](this['routerPath'](_0x56ce67(0x4ff)),..._0x5b760f,async(_0x20f414,_0x5b0ad3)=>{const _0x3067fa=_0x56ce67;let _0x252c98=await this['dataValidate']({'request':_0x20f414,'schema':Ga,'ClassRef':Ge,'execute':(_0x9d9480,_0x405ab2)=>_['whatsappNumber'](_0x9d9480,_0x405ab2)});return _0x5b0ad3[_0x3067fa(0x2e9)](0xc9)[_0x3067fa(0x5e5)](_0x252c98);})['post'](this[_0x56ce67(0x59c)]('editChat'),..._0x5b760f,async(_0x3c3d6b,_0x5b5494)=>{const _0x3735b4=_0x56ce67;let _0x991731=await this[_0x3735b4(0x774)]({'request':_0x3c3d6b,'schema':M,'ClassRef':S,'execute':(_0x1f5fab,_0x261842)=>_[_0x3735b4(0x346)](_0x1f5fab,_0x261842)});return _0x5b5494[_0x3735b4(0x2e9)](0xc9)[_0x3735b4(0x5e5)](_0x991731);})[_0x56ce67(0x304)](this['routerPath'](_0x56ce67(0x778)),..._0x5b760f,async(_0x4e2f8d,_0x5c31a9)=>{const _0x2faf8c=_0x56ce67;let _0x244bd0=await this[_0x2faf8c(0x774)]({'request':_0x4e2f8d,'schema':Wa,'ClassRef':He,'execute':(_0x30e76b,_0x3ae420)=>_['readMessage'](_0x30e76b,_0x3ae420)});return _0x5c31a9[_0x2faf8c(0x2e9)](0xc9)['json'](_0x244bd0);})[_0x56ce67(0x304)](this['routerPath'](_0x56ce67(0x507)),..._0x5b760f,async(_0x14be95,_0x1a7a8c)=>{const _0x1cc9cb=_0x56ce67;let _0x93f113=await this[_0x1cc9cb(0x774)]({'request':_0x14be95,'schema':Ha,'ClassRef':Ke,'execute':(_0x26592d,_0x331e08)=>_['archiveChat'](_0x26592d,_0x331e08)});return _0x1a7a8c['status'](0xc9)[_0x1cc9cb(0x5e5)](_0x93f113);})[_0x56ce67(0x5e1)](this[_0x56ce67(0x59c)](_0x56ce67(0x5a0)),..._0x5b760f,async(_0x2f8581,_0x393e93)=>{const _0x637758=_0x56ce67;let _0x33c608=await this[_0x637758(0x774)]({'request':_0x2f8581,'schema':Ka,'ClassRef':Ye,'execute':(_0x887ceb,_0x54587a)=>_[_0x637758(0x231)](_0x887ceb,_0x54587a)});return _0x393e93['status'](0xc9)[_0x637758(0x5e5)](_0x33c608);})[_0x56ce67(0x245)](this[_0x56ce67(0x59c)](_0x56ce67(0x2fb)),..._0x5b760f,async(_0x319082,_0x5a885d)=>{const _0x3426ab=_0x56ce67;let _0x309514=await this[_0x3426ab(0x774)]({'request':_0x319082,'schema':Ee,'ClassRef':Ce,'execute':(_0x203248,_0xc3bcce)=>_[_0x3426ab(0x45e)](_0x203248,_0xc3bcce)});return _0x5a885d['status'](0xc8)['json'](_0x309514);})[_0x56ce67(0x245)](this[_0x56ce67(0x59c)]('fetchProfile'),..._0x5b760f,async(_0x3c304b,_0x495014)=>{const _0x4794e6=_0x56ce67;let _0x59d20a=await this[_0x4794e6(0x774)]({'request':_0x3c304b,'schema':Za,'ClassRef':Ce,'execute':(_0x41eef7,_0x94e014)=>_[_0x4794e6(0x7d9)](_0x41eef7,_0x94e014)});return _0x495014[_0x4794e6(0x2e9)](0xc8)[_0x4794e6(0x5e5)](_0x59d20a);})[_0x56ce67(0x245)](this[_0x56ce67(0x59c)]('findContacts'),..._0x5b760f,async(_0x1ecaa8,_0x4c3965)=>{const _0x33eab8=_0x56ce67;let _0x4b05ed=await this['dataValidate']({'request':_0x1ecaa8,'schema':Qa,'ClassRef':tt,'execute':(_0x319f8d,_0x375971)=>_[_0x33eab8(0x588)](_0x319f8d,_0x375971)});return _0x4c3965[_0x33eab8(0x2e9)](0xc8)[_0x33eab8(0x5e5)](_0x4b05ed);})[_0x56ce67(0x245)](this[_0x56ce67(0x59c)](_0x56ce67(0x30f)),..._0x5b760f,async(_0x214191,_0x23ebb7)=>{const _0x351ddb=_0x56ce67;let _0x435a1a=await this['dataValidate']({'request':_0x214191,'schema':null,'ClassRef':Object,'execute':(_0x47818d,_0x9c13e)=>_[_0x351ddb(0x30f)](_0x47818d,_0x9c13e)});return _0x23ebb7[_0x351ddb(0x2e9)](0xc9)[_0x351ddb(0x5e5)](_0x435a1a);})[_0x56ce67(0x245)](this[_0x56ce67(0x59c)](_0x56ce67(0x7e6)),..._0x5b760f,async(_0x1b6cba,_0xc5c613)=>{const _0x189955=_0x56ce67;let _0x2a3d65=await this[_0x189955(0x774)]({'request':_0x1b6cba,'schema':er,'ClassRef':qe,'execute':(_0x4f6e1f,_0x1cdf0c)=>_[_0x189955(0x4f9)](_0x4f6e1f,_0x1cdf0c)});return _0xc5c613['status'](0xc8)[_0x189955(0x5e5)](_0x2a3d65);})[_0x56ce67(0x488)](this[_0x56ce67(0x59c)]('findChats'),..._0x5b760f,async(_0x59cdaa,_0x479048)=>{const _0xbecb7=_0x56ce67;let _0xa4bc7c=await this[_0xbecb7(0x774)]({'request':_0x59cdaa,'schema':null,'ClassRef':S,'execute':_0x29a40d=>_[_0xbecb7(0x635)](_0x29a40d)});return _0x479048[_0xbecb7(0x2e9)](0xc8)[_0xbecb7(0x5e5)](_0xa4bc7c);})[_0x56ce67(0x488)](this[_0x56ce67(0x59c)](_0x56ce67(0x61e)),..._0x5b760f,async(_0x47d599,_0x27e66e)=>{const _0x51d067=_0x56ce67;let _0x9c71dc=await this['dataValidate']({'request':_0x47d599,'schema':null,'ClassRef':S,'execute':_0x4dbb5d=>_[_0x51d067(0x54d)](_0x4dbb5d)});return _0x27e66e[_0x51d067(0x2e9)](0xc8)[_0x51d067(0x5e5)](_0x9c71dc);})[_0x56ce67(0x304)](this[_0x56ce67(0x59c)](_0x56ce67(0x57a)),..._0x5b760f,async(_0x44e7fd,_0x262d24)=>{const _0x1ef7ee=_0x56ce67;let _0x7a0d87=await this[_0x1ef7ee(0x774)]({'request':_0x44e7fd,'schema':null,'ClassRef':Array,'execute':(_0x4632d0,_0x3b76fd)=>_[_0x1ef7ee(0x57a)](_0x4632d0,_0x3b76fd)});return _0x262d24[_0x1ef7ee(0x2e9)](0xc8)[_0x1ef7ee(0x5e5)](_0x7a0d87);})['get'](this[_0x56ce67(0x59c)](_0x56ce67(0x7f8)),..._0x5b760f,async(_0x3a0398,_0x139187)=>{const _0x1d70b2=_0x56ce67;let _0x457c37=await this[_0x1d70b2(0x774)]({'request':_0x3a0398,'schema':null,'ClassRef':S,'execute':_0x218e64=>_[_0x1d70b2(0x7f8)](_0x218e64)});return _0x139187[_0x1d70b2(0x2e9)](0xc8)[_0x1d70b2(0x5e5)](_0x457c37);})[_0x56ce67(0x304)](this['routerPath']('updatePrivacySettings'),..._0x5b760f,async(_0x45e254,_0x4af91a)=>{const _0x1df0c7=_0x56ce67;let _0x303f66=await this[_0x1df0c7(0x774)]({'request':_0x45e254,'schema':za,'ClassRef':Qe,'execute':(_0x18c20e,_0x48eb92)=>_['updatePrivacySettings'](_0x18c20e,_0x48eb92)});return _0x4af91a[_0x1df0c7(0x2e9)](0xc9)[_0x1df0c7(0x5e5)](_0x303f66);})[_0x56ce67(0x245)](this[_0x56ce67(0x59c)](_0x56ce67(0x5a6)),..._0x5b760f,async(_0x41a63f,_0x177ca8)=>{const _0x5c60bd=_0x56ce67;let _0x347939=await this[_0x5c60bd(0x774)]({'request':_0x41a63f,'schema':Ee,'ClassRef':we,'execute':(_0x4f82f5,_0x9d0b4f)=>_[_0x5c60bd(0x5a6)](_0x4f82f5,_0x9d0b4f)});return _0x177ca8[_0x5c60bd(0x2e9)](0xc8)['json'](_0x347939);})[_0x56ce67(0x245)](this['routerPath'](_0x56ce67(0x520)),..._0x5b760f,async(_0x2a1c06,_0x2369ab)=>{const _0x5ceae2=_0x56ce67;let _0x2ce537=await this[_0x5ceae2(0x774)]({'request':_0x2a1c06,'schema':Ya,'ClassRef':We,'execute':(_0x5ce5d1,_0x119f38)=>_[_0x5ceae2(0x520)](_0x5ce5d1,_0x119f38)});return _0x2369ab['status'](0xc8)[_0x5ceae2(0x5e5)](_0x2ce537);})[_0x56ce67(0x245)](this[_0x56ce67(0x59c)](_0x56ce67(0x753)),..._0x5b760f,async(_0x441271,_0x4cc4b5)=>{const _0x5879ef=_0x56ce67;let _0x15d800=await this[_0x5879ef(0x774)]({'request':_0x441271,'schema':Xa,'ClassRef':ze,'execute':(_0x463120,_0x46ebb5)=>_[_0x5879ef(0x753)](_0x463120,_0x46ebb5)});return _0x4cc4b5[_0x5879ef(0x2e9)](0xc8)['json'](_0x15d800);})['put'](this[_0x56ce67(0x59c)](_0x56ce67(0x3b0)),..._0x5b760f,async(_0x2bf84d,_0x496cb3)=>{const _0x1e04e0=_0x56ce67;let _0x14a912=await this[_0x1e04e0(0x774)]({'request':_0x2bf84d,'schema':Ee,'ClassRef':we,'execute':(_0x15a11f,_0x1bd241)=>_[_0x1e04e0(0x3b0)](_0x15a11f,_0x1bd241)});return _0x496cb3[_0x1e04e0(0x2e9)](0xc8)['json'](_0x14a912);})['delete'](this[_0x56ce67(0x59c)]('removeProfilePicture'),..._0x5b760f,async(_0x123b78,_0x5991f3)=>{const _0xf5f83e=_0x56ce67;let _0x84711e=await this[_0xf5f83e(0x774)]({'request':_0x123b78,'schema':Ee,'ClassRef':we,'execute':(_0x258257,_0x5c071c)=>_[_0xf5f83e(0x3c1)](_0x258257,_0x5c071c)});return _0x5991f3[_0xf5f83e(0x2e9)](0xc8)[_0xf5f83e(0x5e5)](_0x84711e);});}},pr=require('express'),it=class{},ot=class{},nt=class{},ct=class{},lt=class{},ut=class{},Y=class{},ve=class{},dt=class extends Y{},pt=class extends Y{},ht=class extends V{constructor(..._0x5b84f6){const _0x474c1a=a0_0x581af9;super(),this[_0x474c1a(0x328)]=(0x0,pr[_0x474c1a(0x81d)])(),this['router'][_0x474c1a(0x245)](this[_0x474c1a(0x59c)](_0x474c1a(0x5f0)),..._0x5b84f6,async(_0x46bdc6,_0x84b7f3)=>{const _0xcbe236=_0x474c1a;let _0x5d8e04=await this['dataValidate']({'request':_0x46bdc6,'schema':sr,'ClassRef':it,'execute':(_0x167d87,_0x3ed281)=>U[_0xcbe236(0x7c8)](_0x167d87,_0x3ed281)});_0x84b7f3[_0xcbe236(0x2e9)](0xc9)[_0xcbe236(0x5e5)](_0x5d8e04);})[_0x474c1a(0x304)](this['routerPath'](_0x474c1a(0x47c)),..._0x5b84f6,async(_0x2a24de,_0x4fb132)=>{const _0x415b3f=_0x474c1a;let _0xf3f98f=await this['groupValidate']({'request':_0x2a24de,'schema':ir,'ClassRef':ot,'execute':(_0x49883f,_0x922f15)=>U[_0x415b3f(0x47c)](_0x49883f,_0x922f15)});_0x4fb132[_0x415b3f(0x2e9)](0xc9)[_0x415b3f(0x5e5)](_0xf3f98f);})[_0x474c1a(0x304)](this['routerPath'](_0x474c1a(0x2d9)),..._0x5b84f6,async(_0x38fe45,_0x577d59)=>{const _0x4f8145=_0x474c1a;let _0x2c873c=await this[_0x4f8145(0x67c)]({'request':_0x38fe45,'schema':or,'ClassRef':nt,'execute':(_0x370c80,_0xa68133)=>U['groupDesc'](_0x370c80,_0xa68133)});_0x577d59['status'](0xc9)[_0x4f8145(0x5e5)](_0x2c873c);})['put'](this['routerPath'](_0x474c1a(0x48c)),..._0x5b84f6,async(_0xcb9e21,_0x5f295c)=>{const _0x2dcc95=_0x474c1a;let _0x1c8739=await this[_0x2dcc95(0x67c)]({'request':_0xcb9e21,'schema':nr,'ClassRef':ct,'execute':(_0x41a0b3,_0x7cded5)=>U[_0x2dcc95(0x48c)](_0x41a0b3,_0x7cded5)});_0x5f295c[_0x2dcc95(0x2e9)](0xc9)[_0x2dcc95(0x5e5)](_0x1c8739);})[_0x474c1a(0x304)](this[_0x474c1a(0x59c)](_0x474c1a(0x406)),..._0x5b84f6,async(_0x1d4572,_0x127ada)=>{const _0x23eab3=_0x474c1a;let _0x4d7038=await this[_0x23eab3(0x67c)]({'request':_0x1d4572,'schema':lr,'ClassRef':ut,'execute':(_0x1993e7,_0x648f8a)=>U['groupBetterSetting'](_0x1993e7,_0x648f8a)});_0x127ada[_0x23eab3(0x2e9)](0xc9)[_0x23eab3(0x5e5)](_0x4d7038);})[_0x474c1a(0x304)](this[_0x474c1a(0x59c)]('groupSetting'),..._0x5b84f6,async(_0x8fc3ea,_0x4184df)=>{const _0x989cbd=_0x474c1a;let _0x3619e5=await this[_0x989cbd(0x67c)]({'request':_0x8fc3ea,'schema':cr,'ClassRef':lt,'execute':(_0x1772f7,_0x31603b)=>U[_0x989cbd(0x288)](_0x1772f7,_0x31603b)});_0x4184df['status'](0xc9)[_0x989cbd(0x5e5)](_0x3619e5);})[_0x474c1a(0x304)](this[_0x474c1a(0x59c)](_0x474c1a(0x6cb)),..._0x5b84f6,async(_0x54343b,_0x2085ff)=>{const _0x24267a=_0x474c1a;let _0x3d22da=await this[_0x24267a(0x67c)]({'request':_0x54343b,'schema':rr,'ClassRef':pt,'execute':(_0x1abdf2,_0x1b2a1e)=>U[_0x24267a(0x6cb)](_0x1abdf2,_0x1b2a1e)});_0x2085ff['status'](0xc9)[_0x24267a(0x5e5)](_0x3d22da);})['get'](this['routerPath'](_0x474c1a(0x65e)),..._0x5b84f6,async(_0x37310d,_0x11ca0a)=>{const _0x3cb222=_0x474c1a;let _0x43363d=await this[_0x3cb222(0x67c)]({'request':_0x37310d,'schema':Me,'ClassRef':Y,'execute':(_0x4fd4d8,_0x539e92)=>U[_0x3cb222(0x5cc)](_0x4fd4d8,_0x539e92)});_0x11ca0a['status'](0xc8)[_0x3cb222(0x5e5)](_0x43363d);})[_0x474c1a(0x488)](this[_0x474c1a(0x59c)]('findGroups'),..._0x5b84f6,async(_0x32b2a6,_0x2b7ce1)=>{const _0x2e8d2b=_0x474c1a;let _0x14df21=await this['dataValidate']({'request':_0x32b2a6,'schema':M,'ClassRef':S,'execute':_0x4a2594=>U[_0x2e8d2b(0x1cd)](_0x4a2594)});_0x2b7ce1[_0x2e8d2b(0x2e9)](0xc8)[_0x2e8d2b(0x5e5)](_0x14df21);})[_0x474c1a(0x488)](this['routerPath']('participants'),..._0x5b84f6,async(_0x50223d,_0x2ecacc)=>{const _0x9686f6=_0x474c1a;let _0x46fd83=await this[_0x9686f6(0x67c)]({'request':_0x50223d,'schema':Me,'ClassRef':Y,'execute':(_0x4f5f2c,_0x2b9612)=>U[_0x9686f6(0x464)](_0x4f5f2c,_0x2b9612)});_0x2ecacc[_0x9686f6(0x2e9)](0xc8)[_0x9686f6(0x5e5)](_0x46fd83);})[_0x474c1a(0x488)](this[_0x474c1a(0x59c)](_0x474c1a(0x5ee)),..._0x5b84f6,async(_0x6e171e,_0x389491)=>{const _0x284ba2=_0x474c1a;let _0x3dbcbc=await this[_0x284ba2(0x67c)]({'request':_0x6e171e,'schema':Me,'ClassRef':Y,'execute':(_0x12ced2,_0x372021)=>U[_0x284ba2(0x5ee)](_0x12ced2,_0x372021)});_0x389491[_0x284ba2(0x2e9)](0xc8)[_0x284ba2(0x5e5)](_0x3dbcbc);})[_0x474c1a(0x245)](this['routerPath'](_0x474c1a(0x738)),..._0x5b84f6,async(_0x301fa6,_0x40a963)=>{const _0x426346=_0x474c1a;let _0x58e757=await this[_0x426346(0x77c)]({'request':_0x301fa6,'schema':bs,'ClassRef':ve,'execute':(_0x4cb259,_0x2d96e7)=>U[_0x426346(0x7ea)](_0x4cb259,_0x2d96e7)});_0x40a963[_0x426346(0x2e9)](0xc9)[_0x426346(0x5e5)](_0x58e757);})[_0x474c1a(0x304)](this[_0x474c1a(0x59c)]('joinGroup'),..._0x5b84f6,async(_0x7e7dfa,_0x3ecc96)=>{const _0x1c268e=_0x474c1a;let _0x325b4f=await this[_0x1c268e(0x77c)]({'request':_0x7e7dfa,'schema':bs,'ClassRef':ve,'execute':(_0x52de3c,_0x33b365)=>U['joinGroup'](_0x52de3c,_0x33b365)});_0x3ecc96[_0x1c268e(0x2e9)](0xc9)[_0x1c268e(0x5e5)](_0x325b4f);})[_0x474c1a(0x304)](this[_0x474c1a(0x59c)](_0x474c1a(0x3a4)),..._0x5b84f6,async(_0x1c6139,_0x520837)=>{const _0x227d80=_0x474c1a;let _0x2968b3=await this[_0x227d80(0x67c)]({'request':_0x1c6139,'schema':Me,'ClassRef':Y,'execute':(_0x2798bd,_0x41e815)=>U['revokeInviteCode'](_0x2798bd,_0x41e815)});_0x520837[_0x227d80(0x2e9)](0xc9)['json'](_0x2968b3);})[_0x474c1a(0x304)](this[_0x474c1a(0x59c)](_0x474c1a(0x707)),..._0x5b84f6,async(_0x3765ca,_0x5c457b)=>{const _0x16ecbd=_0x474c1a;let _0x300cf8=await this[_0x16ecbd(0x67c)]({'request':_0x3765ca,'schema':ar,'ClassRef':dt,'execute':(_0x11b233,_0x48b602)=>U['updateGParticipate'](_0x11b233,_0x48b602)});_0x5c457b['status'](0xc9)[_0x16ecbd(0x5e5)](_0x300cf8);})['delete'](this['routerPath']('leaveGroup'),..._0x5b84f6,async(_0x56b830,_0x25737f)=>{const _0x389498=_0x474c1a;let _0x36efc7=await this[_0x389498(0x67c)]({'request':_0x56b830,'schema':{},'ClassRef':Y,'execute':(_0x7d7576,_0x2cd724)=>U[_0x389498(0x5b1)](_0x7d7576,_0x2cd724)});_0x25737f['status'](0xc8)[_0x389498(0x5e5)](_0x36efc7);});}},hr=require(a0_0x581af9(0x687)),gt=class extends V{constructor(_0x4ccd6,..._0x259f8f){const _0x43c8bf=a0_0x581af9;super(),this[_0x43c8bf(0x3f1)]=_0x4ccd6,this[_0x43c8bf(0x328)]=(0x0,hr[_0x43c8bf(0x81d)])();let _0x22d4c6=_0x4ccd6[_0x43c8bf(0x488)](_0x43c8bf(0x38b));this['router'][_0x43c8bf(0x245)](_0x43c8bf(0x50f),..._0x259f8f,async(_0x590c18,_0x4f9562)=>{const _0x3804f7=_0x43c8bf;let {instanceName:_0xda4151,apikey:_0x6ac246,number:_0x26c06c}=_0x590c18[_0x3804f7(0x6f5)],_0x1ddba0=await oe[_0x3804f7(0x21b)]({'instanceName':_0xda4151,'apikey':_0x6ac246,'number':_0x26c06c});return _0x4f9562[_0x3804f7(0x2e9)](0xc9)[_0x3804f7(0x5e5)](_0x1ddba0);})['put'](this[_0x43c8bf(0x59c)]('restart'),..._0x259f8f,async(_0x56f490,_0x19a646)=>{const _0x5f3869=_0x43c8bf;let _0x49a00e=await this[_0x5f3869(0x774)]({'request':_0x56f490,'schema':M,'ClassRef':S,'execute':_0x9c0e42=>oe['restartInstance'](_0x9c0e42)});return _0x19a646['status'](0xc8)[_0x5f3869(0x5e5)](_0x49a00e);})['get'](this[_0x43c8bf(0x59c)](_0x43c8bf(0x4e3)),..._0x259f8f,async(_0x2760fe,_0x52fc88)=>{const _0x142c48=_0x43c8bf;let _0x4a0dd3=await this[_0x142c48(0x774)]({'request':_0x2760fe,'schema':M,'ClassRef':S,'execute':_0x1d72ee=>oe[_0x142c48(0x49e)](_0x1d72ee)});return _0x52fc88[_0x142c48(0x2e9)](0xc8)[_0x142c48(0x5e5)](_0x4a0dd3);})['get'](this[_0x43c8bf(0x59c)](_0x43c8bf(0x4ea)),..._0x259f8f,async(_0xd91813,_0x382ad3)=>{const _0x15f8ce=_0x43c8bf;let _0x1a11b3=await this['dataValidate']({'request':_0xd91813,'schema':M,'ClassRef':S,'execute':_0x2ec6ae=>oe[_0x15f8ce(0x4ea)](_0x2ec6ae)});return _0x382ad3['status'](0xc8)['json'](_0x1a11b3);})[_0x43c8bf(0x488)](this['routerPath']('fetchInstances',!0x1),..._0x259f8f,async(_0x14a054,_0x40aa43)=>{const _0x4b862b=_0x43c8bf;let _0x7d08d9=await this[_0x4b862b(0x774)]({'request':_0x14a054,'schema':null,'ClassRef':S,'execute':_0x3aafb5=>oe[_0x4b862b(0x567)](_0x3aafb5)});return _0x40aa43[_0x4b862b(0x2e9)](0xc8)[_0x4b862b(0x5e5)](_0x7d08d9);})[_0x43c8bf(0x5e1)](this[_0x43c8bf(0x59c)](_0x43c8bf(0x389)),..._0x259f8f,async(_0x1b9b40,_0x3a3f00)=>{const _0x4bc86d=_0x43c8bf;let _0x7452a5=await this[_0x4bc86d(0x774)]({'request':_0x1b9b40,'schema':M,'ClassRef':S,'execute':_0xc0f98a=>oe[_0x4bc86d(0x389)](_0xc0f98a)});return _0x3a3f00['status'](0xc8)[_0x4bc86d(0x5e5)](_0x7452a5);})['delete'](this[_0x43c8bf(0x59c)](_0x43c8bf(0x5e1)),..._0x259f8f,async(_0xd9a832,_0x1be971)=>{const _0x3c3cfd=_0x43c8bf;let _0x3244d3=await this[_0x3c3cfd(0x774)]({'request':_0xd9a832,'schema':M,'ClassRef':S,'execute':_0x2d374d=>oe[_0x3c3cfd(0x6f7)](_0x2d374d)});return _0x1be971[_0x3c3cfd(0x2e9)](0xc8)[_0x3c3cfd(0x5e5)](_0x3244d3);});}},gr=require(a0_0x581af9(0x687)),Cs=class{},W=class extends Cs{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},Ne=class extends W{},bt=class extends W{},St=class extends W{},Ct=class extends W{},Et=class extends W{},Mt=class extends W{},vt=class{},Nt=class extends V{constructor(..._0x1210ab){const _0xaa6907=a0_0x581af9;super(),this['router']=(0x0,gr[_0xaa6907(0x81d)])(),this[_0xaa6907(0x328)]['post'](this[_0xaa6907(0x59c)](_0xaa6907(0x202)),..._0x1210ab,async(_0x7f62ed,_0x175f40)=>{const _0x1d6976=_0xaa6907;let _0x23dcac=await this[_0x1d6976(0x774)]({'request':_0x7f62ed,'schema':Da,'ClassRef':mt,'execute':(_0x41c26f,_0x13b7fd)=>G[_0x1d6976(0x202)](_0x41c26f,_0x13b7fd)});return _0x175f40['status'](0xc9)[_0x1d6976(0x5e5)](_0x23dcac);})[_0xaa6907(0x245)](this[_0xaa6907(0x59c)]('sendMedia'),..._0x1210ab,async(_0x5d481c,_0x243a41)=>{const _0x2cd9f7=_0xaa6907;let _0x16278d=await this[_0x2cd9f7(0x774)]({'request':_0x5d481c,'schema':ka,'ClassRef':Ne,'execute':(_0x454a10,_0x1cfa19)=>G[_0x2cd9f7(0x616)](_0x454a10,_0x1cfa19)});return _0x243a41[_0x2cd9f7(0x2e9)](0xc9)[_0x2cd9f7(0x5e5)](_0x16278d);})[_0xaa6907(0x245)](this[_0xaa6907(0x59c)](_0xaa6907(0x7db)),..._0x1210ab,async(_0x2b038e,_0x1ccd70)=>{const _0x5e11d0=_0xaa6907;let _0x5c739a=await this[_0x5e11d0(0x774)]({'request':_0x2b038e,'schema':Fa,'ClassRef':yt,'execute':(_0x3ec14f,_0x2a82ed)=>G['sendMenu'](_0x3ec14f,_0x2a82ed)});return _0x1ccd70[_0x5e11d0(0x2e9)](0xc9)[_0x5e11d0(0x5e5)](_0x5c739a);})[_0xaa6907(0x245)](this[_0xaa6907(0x59c)]('sendWhatsAppAudio'),..._0x1210ab,async(_0x57c4f8,_0x80c437)=>{const _0x119fbc=_0xaa6907;let _0x278c2b=await this[_0x119fbc(0x774)]({'request':_0x57c4f8,'schema':La,'ClassRef':Ne,'execute':(_0x4ae61c,_0x2ec734)=>G[_0x119fbc(0x5c5)](_0x4ae61c,_0x2ec734)});return _0x80c437['status'](0xc9)[_0x119fbc(0x5e5)](_0x278c2b);})[_0xaa6907(0x245)](this[_0xaa6907(0x59c)](_0xaa6907(0x829)),..._0x1210ab,async(_0x297273,_0x8d5253)=>{const _0x1e5220=_0xaa6907;let _0x4c822e=await this[_0x1e5220(0x774)]({'request':_0x297273,'schema':Ua,'ClassRef':St,'execute':(_0x1994a3,_0x4afb76)=>G[_0x1e5220(0x829)](_0x1994a3,_0x4afb76)});return _0x8d5253[_0x1e5220(0x2e9)](0xc9)[_0x1e5220(0x5e5)](_0x4c822e);})[_0xaa6907(0x245)](this[_0xaa6907(0x59c)](_0xaa6907(0x3b8)),..._0x1210ab,async(_0xfeb91,_0x82a12d)=>{const _0x2d6eb1=_0xaa6907;let _0x278fb6=await this[_0x2d6eb1(0x774)]({'request':_0xfeb91,'schema':Ja,'ClassRef':Ct,'execute':(_0x545d5e,_0x59e43d)=>G[_0x2d6eb1(0x3b8)](_0x545d5e,_0x59e43d)});return _0x82a12d['status'](0xc9)[_0x2d6eb1(0x5e5)](_0x278fb6);})['post'](this[_0xaa6907(0x59c)](_0xaa6907(0x782)),..._0x1210ab,async(_0x4da6fd,_0x4ab696)=>{const _0x106b46=_0xaa6907;let _0x3d9dab=await this[_0x106b46(0x774)]({'request':_0x4da6fd,'schema':qa,'ClassRef':Et,'execute':(_0x599fa8,_0x846581)=>G[_0x106b46(0x782)](_0x599fa8,_0x846581)});return _0x4ab696[_0x106b46(0x2e9)](0xc9)['json'](_0x3d9dab);})['post'](this[_0xaa6907(0x59c)](_0xaa6907(0x587)),..._0x1210ab,async(_0x3acb9f,_0x5e6c5a)=>{const _0x262197=_0xaa6907;let _0x211850=await this['dataValidate']({'request':_0x3acb9f,'schema':Va,'ClassRef':Mt,'execute':(_0x3f2e85,_0x1019b3)=>G[_0x262197(0x587)](_0x3f2e85,_0x1019b3)});return _0x5e6c5a[_0x262197(0x2e9)](0xc9)[_0x262197(0x5e5)](_0x211850);})[_0xaa6907(0x245)](this[_0xaa6907(0x59c)](_0xaa6907(0x360)),..._0x1210ab,async(_0x8c2e70,_0x4b84b6)=>{const _0x23e029=_0xaa6907;let _0x350aca=await this[_0x23e029(0x774)]({'request':_0x8c2e70,'schema':Ba,'ClassRef':vt,'execute':(_0x5c2791,_0x374f50)=>G[_0x23e029(0x360)](_0x5c2791,_0x374f50)});return _0x4b84b6[_0x23e029(0x2e9)](0xc9)[_0x23e029(0x5e5)](_0x350aca);})[_0xaa6907(0x245)](this['routerPath'](_0xaa6907(0x801)),..._0x1210ab,async(_0x597cba,_0x60f2d5)=>{const _0x478e62=_0xaa6907;let _0x43f683=await this['dataValidate']({'request':_0x597cba,'schema':ja,'ClassRef':wt,'execute':(_0x59ba27,_0x18f08c)=>G[_0x478e62(0x801)](_0x59ba27,_0x18f08c)});return _0x60f2d5[_0x478e62(0x2e9)](0xc9)[_0x478e62(0x5e5)](_0x43f683);})[_0xaa6907(0x245)](this[_0xaa6907(0x59c)]('sendStatus'),..._0x1210ab,async(_0x4815,_0x4477e3)=>{const _0x23472b=_0xaa6907;let _0x462ba5=await this[_0x23472b(0x774)]({'request':_0x4815,'schema':$a,'ClassRef':ft,'execute':(_0xff1047,_0x963257)=>G[_0x23472b(0x36a)](_0xff1047,_0x963257)});return _0x4477e3[_0x23472b(0x2e9)](0xc9)['json'](_0x462ba5);})[_0xaa6907(0x245)](this[_0xaa6907(0x59c)](_0xaa6907(0x48b)),..._0x1210ab,async(_0x8a3678,_0x241054)=>{const _0x27ce84=_0xaa6907;let _0xf9582c=await this[_0x27ce84(0x774)]({'request':_0x8a3678,'schema':Pa,'ClassRef':bt,'execute':(_0x4fea89,_0x5f148e)=>G[_0x27ce84(0x48b)](_0x4fea89,_0x5f148e)});return _0x241054['status'](0xc9)['json'](_0xf9582c);});}},mr=require(a0_0x581af9(0x687)),Rt=class{},Tt=class extends V{constructor(..._0x504e82){const _0x4895aa=a0_0x581af9;super(),this['router']=(0x0,mr[_0x4895aa(0x81d)])(),this[_0x4895aa(0x328)][_0x4895aa(0x245)](this[_0x4895aa(0x59c)](_0x4895aa(0x4c0)),..._0x504e82,async(_0x349f30,_0x3e34b6)=>{const _0x4ac0de=_0x4895aa;let _0x18562b=await this[_0x4ac0de(0x774)]({'request':_0x349f30,'schema':ur,'ClassRef':Rt,'execute':(_0x1c4f60,_0x441b14)=>Es[_0x4ac0de(0x6e3)](_0x1c4f60,_0x441b14)});_0x3e34b6[_0x4ac0de(0x2e9)](0xc9)[_0x4ac0de(0x5e5)](_0x18562b);})['get'](this[_0x4895aa(0x59c)]('find'),..._0x504e82,async(_0x2d146b,_0x1a1cf0)=>{const _0x327288=_0x4895aa;let _0x42e0af=await this[_0x327288(0x774)]({'request':_0x2d146b,'schema':M,'ClassRef':S,'execute':_0x48ab26=>Es[_0x327288(0x2f6)](_0x48ab26)});_0x1a1cf0['status'](0xc8)['json'](_0x42e0af);});}},fr=require(a0_0x581af9(0x687)),y=new v('FlowRouter'),Ot=class extends V{constructor(..._0x3d7df6){const _0x32a2c4=a0_0x581af9;super(),this[_0x32a2c4(0x328)]=(0x0,fr[_0x32a2c4(0x81d)])(),this[_0x32a2c4(0x328)][_0x32a2c4(0x245)](this[_0x32a2c4(0x59c)](_0x32a2c4(0x6ce)),..._0x3d7df6,async(_0x3b5167,_0x3ab42a)=>{const _0x4cb218=_0x32a2c4;let _0x1942b2=_0x3b5167[_0x4cb218(0x6f5)];y[_0x4cb218(0x628)]('request\x20received\x20in\x20scheduleMessage'),y[_0x4cb218(0x628)]('request\x20body:\x20'),y[_0x4cb218(0x628)](_0x3b5167[_0x4cb218(0x6f5)]);let _0x1238b5=await this['dataValidate']({'request':_0x3b5167,'schema':M,'ClassRef':S,'execute':_0x1f1e85=>x['editScheduleMessage'](_0x1f1e85,_0x1942b2)});_0x3ab42a[_0x4cb218(0x2e9)](0xc8)[_0x4cb218(0x5e5)](_0x1238b5);})[_0x32a2c4(0x488)](this[_0x32a2c4(0x59c)](_0x32a2c4(0x6ce)),..._0x3d7df6,async(_0x5783ce,_0x274713)=>{const _0x4a9b46=_0x32a2c4;let _0x385e3a=await this['dataValidate']({'request':_0x5783ce,'schema':M,'ClassRef':S,'execute':_0x43f167=>x[_0x4a9b46(0x1d7)](_0x43f167)});_0x274713[_0x4a9b46(0x2e9)](0xc8)[_0x4a9b46(0x5e5)](_0x385e3a);})[_0x32a2c4(0x5e1)](this[_0x32a2c4(0x59c)](_0x32a2c4(0x2c0)),..._0x3d7df6,async(_0x229cff,_0x1ffed5)=>{const _0xc6b33f=_0x32a2c4;y[_0xc6b33f(0x628)](_0xc6b33f(0x370));let _0x393ce4=await this[_0xc6b33f(0x774)]({'request':_0x229cff,'schema':M,'ClassRef':S,'execute':_0x15dad9=>x['deleteDoneMessages'](_0x15dad9)});_0x1ffed5[_0xc6b33f(0x2e9)](0xc8)['json'](_0x393ce4);})[_0x32a2c4(0x245)](this[_0x32a2c4(0x59c)]('startFlow'),..._0x3d7df6,async(_0x4eedd9,_0x1ea266)=>{const _0x180372=_0x32a2c4;let _0x4d8e98=_0x4eedd9[_0x180372(0x6f5)];y[_0x180372(0x628)]('request\x20received\x20in\x20starFlow'),y[_0x180372(0x628)](_0x180372(0x797)),y['verbose'](_0x4eedd9[_0x180372(0x6f5)]);let _0x398a84=await this[_0x180372(0x774)]({'request':_0x4eedd9,'schema':M,'ClassRef':S,'execute':_0x5b6f3b=>x[_0x180372(0x280)](_0x5b6f3b,_0x4d8e98)});_0x1ea266[_0x180372(0x2e9)](0xc8)[_0x180372(0x5e5)](_0x398a84);})['get'](this[_0x32a2c4(0x59c)](_0x32a2c4(0x36e)),..._0x3d7df6,async(_0x41901d,_0x51fdc8)=>{const _0x3ffa75=_0x32a2c4;y[_0x3ffa75(0x628)](_0x3ffa75(0x47f));let _0x617a9a=await this[_0x3ffa75(0x774)]({'request':_0x41901d,'schema':M,'ClassRef':S,'execute':_0x7f329f=>x[_0x3ffa75(0x36e)](_0x7f329f)});_0x51fdc8[_0x3ffa75(0x2e9)](0xc8)['json'](_0x617a9a);})[_0x32a2c4(0x488)](this['routerPath'](_0x32a2c4(0x692)),..._0x3d7df6,async(_0x183a88,_0x15aea0)=>{const _0x8bb065=_0x32a2c4;y[_0x8bb065(0x628)](_0x8bb065(0x470));let _0x2086c0=await this[_0x8bb065(0x774)]({'request':_0x183a88,'schema':M,'ClassRef':S,'execute':_0x19463c=>x[_0x8bb065(0x36e)](_0x19463c)});_0x15aea0['status'](0xc8)['json'](_0x2086c0);})['post'](this[_0x32a2c4(0x59c)](_0x32a2c4(0x7a3)),..._0x3d7df6,async(_0x2b37c7,_0x2e96da)=>{const _0x47d9ea=_0x32a2c4;let _0x559897=_0x2b37c7['body'];y[_0x47d9ea(0x628)](_0x47d9ea(0x292)),y[_0x47d9ea(0x628)](_0x47d9ea(0x797)),y[_0x47d9ea(0x628)](_0x2b37c7[_0x47d9ea(0x6f5)]);let _0x582a24=await this[_0x47d9ea(0x774)]({'request':_0x2b37c7,'schema':M,'ClassRef':S,'execute':_0x2671f2=>x[_0x47d9ea(0x7a3)](_0x2671f2,_0x559897)});_0x2e96da['status'](0xc8)['json'](_0x582a24);})['post'](this[_0x32a2c4(0x59c)](_0x32a2c4(0x4c8)),..._0x3d7df6,async(_0xf5b5c4,_0x2b34c3)=>{const _0x21d6ae=_0x32a2c4;let _0x5a9639=_0xf5b5c4[_0x21d6ae(0x6f5)];y[_0x21d6ae(0x628)]('request\x20received\x20in\x20updateCustomFields'),y[_0x21d6ae(0x628)](_0x21d6ae(0x797)),y['verbose'](_0xf5b5c4[_0x21d6ae(0x6f5)]);let _0x46457a=await this['dataValidate']({'request':_0xf5b5c4,'schema':M,'ClassRef':S,'execute':_0x9f31e3=>x[_0x21d6ae(0x4c8)](_0x9f31e3,_0x5a9639)});_0x2b34c3['status'](0xc8)[_0x21d6ae(0x5e5)](_0x46457a);})['post'](this[_0x32a2c4(0x59c)](_0x32a2c4(0x70b)),..._0x3d7df6,async(_0x551f2b,_0x56a479)=>{const _0x5d60a1=_0x32a2c4;let _0xd87e86=_0x551f2b[_0x5d60a1(0x6f5)];y[_0x5d60a1(0x628)](_0x5d60a1(0x649)),y[_0x5d60a1(0x628)](_0x5d60a1(0x797)),y[_0x5d60a1(0x628)](_0x551f2b[_0x5d60a1(0x6f5)]);let _0x5f3f12=await this[_0x5d60a1(0x774)]({'request':_0x551f2b,'schema':M,'ClassRef':S,'execute':_0x3e9fa4=>x[_0x5d60a1(0x70b)](_0x3e9fa4,_0xd87e86)});_0x56a479[_0x5d60a1(0x2e9)](0xc8)['json'](_0x5f3f12);})[_0x32a2c4(0x245)](this['routerPath'](_0x32a2c4(0x758)),..._0x3d7df6,async(_0x34383a,_0x334744)=>{const _0x112a85=_0x32a2c4;let _0x1d0789=_0x34383a[_0x112a85(0x6f5)];y[_0x112a85(0x628)](_0x112a85(0x563)),y['verbose'](_0x112a85(0x797)),y[_0x112a85(0x628)](_0x34383a['body']);let _0x198ff5=await this[_0x112a85(0x774)]({'request':_0x34383a,'schema':M,'ClassRef':S,'execute':_0x3b279e=>x[_0x112a85(0x758)](_0x3b279e,_0x1d0789)});_0x334744['status'](0xc8)[_0x112a85(0x5e5)](_0x198ff5);})[_0x32a2c4(0x245)](this['routerPath']('fetchConversation'),..._0x3d7df6,async(_0x3da136,_0x3ed40e)=>{const _0x24090f=_0x32a2c4;let _0x3eea59=_0x3da136[_0x24090f(0x6f5)];y[_0x24090f(0x628)](_0x24090f(0x1f4)),y[_0x24090f(0x628)](_0x24090f(0x797)),y[_0x24090f(0x628)](_0x3da136[_0x24090f(0x6f5)]);let _0x153aa9=await this['dataValidate']({'request':_0x3da136,'schema':M,'ClassRef':S,'execute':_0x4005a0=>x[_0x24090f(0x796)](_0x4005a0,_0x3eea59)});_0x3ed40e['status'](0xc8)[_0x24090f(0x5e5)](_0x153aa9);})[_0x32a2c4(0x245)](this[_0x32a2c4(0x59c)](_0x32a2c4(0x830)),..._0x3d7df6,async(_0x572455,_0x111247)=>{const _0x3d2e87=_0x32a2c4;let _0x550fdc=_0x572455[_0x3d2e87(0x6f5)];y[_0x3d2e87(0x628)](_0x3d2e87(0x2c6)),y['verbose'](_0x3d2e87(0x797)),y[_0x3d2e87(0x628)](_0x572455[_0x3d2e87(0x6f5)]);let _0xa47d7c=await this[_0x3d2e87(0x774)]({'request':_0x572455,'schema':M,'ClassRef':S,'execute':_0x25c71f=>x['editConversation'](_0x25c71f,_0x550fdc)});_0x111247['status'](0xc8)[_0x3d2e87(0x5e5)](_0xa47d7c);})[_0x32a2c4(0x5e1)](this[_0x32a2c4(0x59c)](_0x32a2c4(0x1ef)),..._0x3d7df6,async(_0x3cb080,_0x5d0c46)=>{const _0x49801a=_0x32a2c4;let _0x229b9a=_0x3cb080['body'];y[_0x49801a(0x628)](_0x49801a(0x80f)),y[_0x49801a(0x628)]('request\x20body:\x20'),y[_0x49801a(0x628)](_0x3cb080[_0x49801a(0x6f5)]);let _0x6000c3=await this[_0x49801a(0x774)]({'request':_0x3cb080,'schema':M,'ClassRef':S,'execute':_0x551141=>x[_0x49801a(0x1ef)](_0x551141,_0x229b9a)});_0x5d0c46[_0x49801a(0x2e9)](0xc8)[_0x49801a(0x5e5)](_0x6000c3);})[_0x32a2c4(0x245)](this[_0x32a2c4(0x59c)]('createflow'),..._0x3d7df6,async(_0x267f68,_0x5594df)=>{const _0x5a1a89=_0x32a2c4;let _0x3f20f8=_0x267f68[_0x5a1a89(0x6f5)];y[_0x5a1a89(0x628)]('request\x20received\x20in\x20createFlow'),y[_0x5a1a89(0x628)](_0x5a1a89(0x797)),y[_0x5a1a89(0x628)](_0x267f68[_0x5a1a89(0x6f5)]);let _0x3c98d0=await this[_0x5a1a89(0x774)]({'request':_0x267f68,'schema':M,'ClassRef':S,'execute':_0x397988=>x['createFlow'](_0x397988,_0x3f20f8)});_0x5594df['status'](0xc8)[_0x5a1a89(0x5e5)](_0x3c98d0);})[_0x32a2c4(0x245)](this[_0x32a2c4(0x59c)](_0x32a2c4(0x239)),..._0x3d7df6,async(_0x1ebeea,_0xd05e0a)=>{const _0x330e3e=_0x32a2c4;let _0x272f39=_0x1ebeea[_0x330e3e(0x6f5)];y[_0x330e3e(0x628)](_0x330e3e(0x7ab)),y[_0x330e3e(0x628)](_0x330e3e(0x797)),y[_0x330e3e(0x628)](_0x1ebeea['body']),delete _0x272f39['blocks'],delete _0x272f39[_0x330e3e(0x83c)],delete _0x272f39['groups'],delete _0x272f39[_0x330e3e(0x607)];let _0x506cf4=await this['dataValidate']({'request':_0x1ebeea,'schema':M,'ClassRef':S,'execute':_0x5d360e=>x[_0x330e3e(0x789)](_0x5d360e,_0x272f39)});_0xd05e0a['status'](0xc8)['json'](_0x506cf4);})[_0x32a2c4(0x245)](this['routerPath'](_0x32a2c4(0x4e1)),..._0x3d7df6,async(_0xaaec82,_0x1141ad)=>{const _0x4d7201=_0x32a2c4;let _0x484a1c=_0xaaec82[_0x4d7201(0x6f5)];y[_0x4d7201(0x628)](_0x4d7201(0x7ab)),y[_0x4d7201(0x628)](_0x4d7201(0x797)),y[_0x4d7201(0x628)](_0xaaec82[_0x4d7201(0x6f5)]);let _0x38b958=await this[_0x4d7201(0x774)]({'request':_0xaaec82,'schema':M,'ClassRef':S,'execute':_0x294783=>x[_0x4d7201(0x2ac)](_0x294783,_0x484a1c)});_0x1141ad[_0x4d7201(0x2e9)](0xc8)[_0x4d7201(0x5e5)](_0x38b958);})[_0x32a2c4(0x245)](this[_0x32a2c4(0x59c)]('editflowreply'),..._0x3d7df6,async(_0x310938,_0x13e6a7)=>{const _0x3aef94=_0x32a2c4;let _0x5f3bc5=_0x310938[_0x3aef94(0x6f5)];y[_0x3aef94(0x628)](_0x3aef94(0x7ab)),y[_0x3aef94(0x628)]('request\x20body:\x20'),y['verbose'](_0x310938[_0x3aef94(0x6f5)]);let _0x128ff9=await this['dataValidate']({'request':_0x310938,'schema':M,'ClassRef':S,'execute':_0x261f99=>x['editFlowReply'](_0x261f99,_0x5f3bc5)});_0x13e6a7[_0x3aef94(0x2e9)](0xc8)[_0x3aef94(0x5e5)](_0x128ff9);})[_0x32a2c4(0x245)](this[_0x32a2c4(0x59c)](_0x32a2c4(0x82e)),..._0x3d7df6,async(_0x3a90fe,_0x157f70)=>{const _0x4f7986=_0x32a2c4;let _0x3bc7a6=_0x3a90fe[_0x4f7986(0x6f5)];y['verbose'](_0x4f7986(0x7ab)),y[_0x4f7986(0x628)](_0x4f7986(0x797)),y[_0x4f7986(0x628)](_0x3a90fe['body']);let _0x1bf8a9=await this['dataValidate']({'request':_0x3a90fe,'schema':M,'ClassRef':S,'execute':_0x33dfd1=>x[_0x4f7986(0x4bb)](_0x33dfd1,_0x3bc7a6)});_0x157f70['status'](0xc8)[_0x4f7986(0x5e5)](_0x1bf8a9);})[_0x32a2c4(0x245)](this['routerPath'](_0x32a2c4(0x3f2)),..._0x3d7df6,async(_0x1b7283,_0x271712)=>{const _0x54f37d=_0x32a2c4;let _0x4c9620=_0x1b7283['body'];y[_0x54f37d(0x628)]('request\x20received\x20in\x20editFlowgroup'),y['verbose']('request\x20body:\x20'),y[_0x54f37d(0x628)](_0x1b7283[_0x54f37d(0x6f5)]);let _0x303779=await this[_0x54f37d(0x774)]({'request':_0x1b7283,'schema':M,'ClassRef':S,'execute':_0x43113f=>x[_0x54f37d(0x377)](_0x43113f,_0x4c9620)});_0x271712[_0x54f37d(0x2e9)](0xc8)[_0x54f37d(0x5e5)](_0x303779);})[_0x32a2c4(0x245)](this[_0x32a2c4(0x59c)](_0x32a2c4(0x3e1)),..._0x3d7df6,async(_0x2c85f1,_0x14c1c1)=>{const _0x324e25=_0x32a2c4;let _0x2d481b=_0x2c85f1['body'];y[_0x324e25(0x628)](_0x324e25(0x440)),y[_0x324e25(0x628)]('request\x20body:\x20'),y[_0x324e25(0x628)](_0x2c85f1[_0x324e25(0x6f5)]);let _0x2f4d12=await this['dataValidate']({'request':_0x2c85f1,'schema':M,'ClassRef':S,'execute':_0x1f0c5f=>x['editFlowCondition'](_0x1f0c5f,_0x2d481b)});_0x14c1c1[_0x324e25(0x2e9)](0xc8)['json'](_0x2f4d12);})['post'](this['routerPath'](_0x32a2c4(0x582)),..._0x3d7df6,async(_0x45a6b4,_0x75effc)=>{const _0x318e80=_0x32a2c4;let _0x3700af=_0x45a6b4['body'];y[_0x318e80(0x628)]('request\x20received\x20in\x20editFlowvariable'),y['verbose'](_0x318e80(0x797)),y['verbose'](_0x45a6b4[_0x318e80(0x6f5)]);let _0x49ebf5=await this['dataValidate']({'request':_0x45a6b4,'schema':M,'ClassRef':S,'execute':_0x425d1c=>x[_0x318e80(0x2fa)](_0x425d1c,_0x3700af)});_0x75effc[_0x318e80(0x2e9)](0xc8)[_0x318e80(0x5e5)](_0x49ebf5);})[_0x32a2c4(0x245)](this['routerPath'](_0x32a2c4(0x3a2)),..._0x3d7df6,async(_0x38d855,_0x50ea55)=>{const _0x524688=_0x32a2c4;let _0x401b0c=_0x38d855[_0x524688(0x6f5)];y[_0x524688(0x628)]('request\x20received\x20in\x20getFlow'),y[_0x524688(0x628)](_0x524688(0x797)),y[_0x524688(0x628)](_0x38d855['body']);let _0x254e38=await this[_0x524688(0x774)]({'request':_0x38d855,'schema':M,'ClassRef':S,'execute':_0x2cf12c=>x[_0x524688(0x58b)](_0x2cf12c,_0x401b0c)});_0x50ea55[_0x524688(0x2e9)](0xc8)[_0x524688(0x5e5)](_0x254e38);})[_0x32a2c4(0x5e1)](this[_0x32a2c4(0x59c)](_0x32a2c4(0x40e)),..._0x3d7df6,async(_0x529227,_0x44e17e)=>{const _0x5f06a1=_0x32a2c4;let _0x6ba408=_0x529227[_0x5f06a1(0x6f5)];y[_0x5f06a1(0x628)]('request\x20received\x20in\x20deleteFlow'),y[_0x5f06a1(0x628)](_0x5f06a1(0x797)),y[_0x5f06a1(0x628)](_0x529227[_0x5f06a1(0x6f5)]);let _0x24b931=await this[_0x5f06a1(0x774)]({'request':_0x529227,'schema':M,'ClassRef':S,'execute':_0x55da8c=>x[_0x5f06a1(0x655)](_0x55da8c,_0x6ba408)});_0x44e17e[_0x5f06a1(0x2e9)](0xc8)[_0x5f06a1(0x5e5)](_0x24b931);})[_0x32a2c4(0x488)](this[_0x32a2c4(0x59c)]('allflows'),..._0x3d7df6,async(_0x19edd0,_0x126f03)=>{const _0x41fe5f=_0x32a2c4;y[_0x41fe5f(0x628)]('request\x20received\x20in\x20allFlows');let _0x2e2be1=await this['dataValidate']({'request':_0x19edd0,'schema':M,'ClassRef':S,'execute':_0x2ae0d5=>x['allFlows'](_0x2ae0d5)});_0x126f03[_0x41fe5f(0x2e9)](0xc8)[_0x41fe5f(0x5e5)](_0x2e2be1);});}},Sr=O(require('path')),X={};function wr(_0x82d66b,_0xb4a585,_0x5c97cd,_0x522be9){X[_0x82d66b]||(X[_0x82d66b]={}),X[_0x82d66b][_0xb4a585]={'id':_0xb4a585,'response':_0x5c97cd,'events':_0x522be9};}function yr(_0x2ff5e2,_0x2cfad1){!X[_0x2ff5e2]||!X[_0x2ff5e2][_0x2cfad1]||delete X[_0x2ff5e2][_0x2cfad1];}function F(_0x533275,_0xc4a35c,_0x32bfd9){const _0x386065=a0_0x581af9;if(!X[_0x533275])return;let _0x59b9cc='data:\x20'+JSON[_0x386065(0x7e4)](_0x32bfd9)+'\x0a\x0a';Object[_0x386065(0x4d9)](X[_0x533275])[_0x386065(0x386)](_0x55888e=>{const _0x461c41=_0x386065;_0x55888e[_0x461c41(0x4b2)][_0x461c41(0x2a9)](_0xc4a35c)&&_0x55888e[_0x461c41(0x6fc)][_0x461c41(0x700)](_0x59b9cc);});}function br(){const _0x3ce93e=a0_0x581af9;let _0x404831={};for(let _0x5bfcd1 in X)_0x404831[_0x5bfcd1]=Object[_0x3ce93e(0x4d9)](X[_0x5bfcd1])[_0x3ce93e(0x697)](_0xb92ebf=>({'id':_0xb92ebf['id'],'events':_0xb92ebf[_0x3ce93e(0x4b2)]}));return _0x404831;}var Cr=require(a0_0x581af9(0x53e)),vs=require(a0_0x581af9(0x65d)),Ms=class{},bi=new vs['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Si=new vs[(a0_0x581af9(0x1e5))]({'_id':{'type':String,'default':a0_0x581af9(0x5b3)},'WebhookGlobal':{'type':bi},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=R?.[a0_0x581af9(0x696)](Ms['name'],Si,a0_0x581af9(0x761)),Ci=Sr['default'][a0_0x581af9(0x495)](__dirname,a0_0x581af9(0x37a)),It=(0x0,At['Router'])(),Ei=b[a0_0x581af9(0x488)](a0_0x581af9(0x38b))[a0_0x581af9(0x1e9)],se=[Ta,Oa,xa[Ei]];It['use'](a0_0x581af9(0x71c),At['default'][a0_0x581af9(0x74f)](Ci))[a0_0x581af9(0x488)](a0_0x581af9(0x5be),async(_0x2b43f7,_0x174c31)=>{const _0x25ad3b=a0_0x581af9;console[_0x25ad3b(0x679)](_0x25ad3b(0x74c));let _0x43564d=_0x2b43f7['params']['instance'],_0x162a25=(_0x2b43f7[_0x25ad3b(0x6fd)][_0x25ad3b(0x4b2)]||'')[_0x25ad3b(0x68e)](','),_0x203dec=(0x0,Cr['v4'])();console[_0x25ad3b(0x679)]('Instance\x20ID:',_0x43564d),console[_0x25ad3b(0x679)]('Subscribed\x20Events:',_0x162a25);let _0x1bd326=b[_0x25ad3b(0x488)](_0x25ad3b(0x38b))[_0x25ad3b(0x2de)],_0x2f4cb2=_0x2b43f7[_0x25ad3b(0x6fd)][_0x25ad3b(0x626)];if(console[_0x25ad3b(0x679)](_0x25ad3b(0x721),_0x2f4cb2),_0x1bd326['KEY']!==_0x2f4cb2){console[_0x25ad3b(0x679)](_0x25ad3b(0x58e));try{let _0x51b67d=await ue[_0x25ad3b(0x429)][_0x25ad3b(0x53f)](_0x43564d);if(console[_0x25ad3b(0x679)](_0x25ad3b(0x2d5),_0x51b67d),!_0x51b67d||_0x51b67d[_0x25ad3b(0x626)]!==_0x2f4cb2)return console[_0x25ad3b(0x679)](_0x25ad3b(0x653)),_0x174c31[_0x25ad3b(0x2e9)](0x191)[_0x25ad3b(0x320)]('API\x20Key\x20inválida.');}catch(_0x129b72){return console[_0x25ad3b(0x3cf)](_0x25ad3b(0x31d),_0x129b72),_0x174c31['status'](0x191)['send']('API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.');}}if(!await Xe(_0x43564d))return _0x174c31[_0x25ad3b(0x2e9)](0x194)['send'](_0x25ad3b(0x68d));_0x174c31['setHeader'](_0x25ad3b(0x2f3),'text/event-stream'),_0x174c31[_0x25ad3b(0x28e)]('Cache-Control','no-cache'),_0x174c31[_0x25ad3b(0x28e)]('Connection','keep-alive'),_0x174c31[_0x25ad3b(0x29f)]();let _0x35bd48=_0x25ad3b(0x309)+JSON[_0x25ad3b(0x7e4)]({'info':_0x25ad3b(0x373)})+'\x0a\x0a';_0x174c31[_0x25ad3b(0x700)](_0x35bd48),wr(_0x43564d,_0x203dec,_0x174c31,_0x162a25),_0x2b43f7['on'](_0x25ad3b(0x7f5),()=>{const _0x49b026=_0x25ad3b;console[_0x49b026(0x679)](_0x49b026(0x5f5)+_0x43564d),yr(_0x43564d,_0x203dec);});}),It[a0_0x581af9(0x488)]('/clients-info',(_0x4bdbdd,_0x495345)=>{const _0x180f60=a0_0x581af9;let _0x14ca9e=br();_0x495345[_0x180f60(0x5e5)](_0x14ca9e);})['get']('/',(_0x4fa1b7,_0x2150b0)=>{const _0x5f0258=a0_0x581af9;let _0x36fc48=b['get'](_0x5f0258(0x619))[_0x5f0258(0x690)];if(_0x36fc48){let _0xa9f827=encodeURIComponent(''+_0x36fc48);_0x2150b0[_0x5f0258(0x5e7)]('https://uazapi-plugin.bubbleapps.io/?url='+_0xa9f827);return;}let _0x30a53c=b[_0x5f0258(0x488)](_0x5f0258(0x25b)),_0x3f0527=_0x30a53c&&_0x30a53c[_0x5f0258(0x5ba)][_0x5f0258(0x68e)]('/')[0x4];if(_0x3f0527){let _0x1b0769=encodeURIComponent('https://'+_0x3f0527);_0x2150b0[_0x5f0258(0x5e7)](_0x5f0258(0x866)+_0x1b0769);}else _0x2150b0[_0x5f0258(0x5e7)](_0x5f0258(0x7d8));})[a0_0x581af9(0x304)]('/exit',...se,async(_0x32ebc1,_0x849ae1)=>{const _0x310f1d=a0_0x581af9;try{console['log'](_0x310f1d(0x79d)),_0x849ae1[_0x310f1d(0x2e9)](0xc8)[_0x310f1d(0x5e5)]({'message':_0x310f1d(0x500)}),_0x849ae1['on'](_0x310f1d(0x5e2),()=>process[_0x310f1d(0x75b)](0x0));}catch(_0x5305da){console[_0x310f1d(0x3cf)]('Erro\x20ao\x20tentar\x20encerrar\x20a\x20API',_0x5305da),_0x849ae1[_0x310f1d(0x2e9)](0x1f4)[_0x310f1d(0x5e5)]({'message':_0x310f1d(0x3b2)});}})[a0_0x581af9(0x304)]('/config',...se,async(_0x2b0f73,_0x45e553)=>{const _0x351818=a0_0x581af9;try{let _0x5e378f=_0x2b0f73['body'];await ye['updateOne']({},{'$set':_0x5e378f},{'upsert':!0x0});let _0x1ccbd9=await ye[_0x351818(0x841)]();_0x45e553[_0x351818(0x5e5)](_0x1ccbd9);}catch(_0x5577f6){_0x45e553[_0x351818(0x2e9)](0x190)[_0x351818(0x320)](_0x5577f6[_0x351818(0x390)]);}})[a0_0x581af9(0x488)](a0_0x581af9(0x3a5),...se,async(_0x46d138,_0x42c1ae)=>{const _0x2b5933=a0_0x581af9;try{let _0x53941f=await ye[_0x2b5933(0x841)]();if(!_0x53941f)return _0x42c1ae[_0x2b5933(0x5e5)]({});_0x42c1ae[_0x2b5933(0x5e5)](_0x53941f);}catch(_0x3e6403){_0x42c1ae[_0x2b5933(0x2e9)](0x1f4)['send'](_0x3e6403[_0x2b5933(0x390)]);}})['use'](a0_0x581af9(0x60f),new gt(b,...se)[a0_0x581af9(0x328)])['use'](a0_0x581af9(0x25f),new Nt(...se)[a0_0x581af9(0x328)])[a0_0x581af9(0x78f)](a0_0x581af9(0x4c7),new rt(...se)[a0_0x581af9(0x328)])[a0_0x581af9(0x78f)](a0_0x581af9(0x838),new ht(...se)[a0_0x581af9(0x328)])[a0_0x581af9(0x78f)](a0_0x581af9(0x7d0),new Tt(...se)[a0_0x581af9(0x328)])[a0_0x581af9(0x78f)](a0_0x581af9(0x769),new Ot(...se)[a0_0x581af9(0x328)]);var w=class{constructor(..._0x12cf8a){const _0x1a0931=a0_0x581af9;throw{'status':0x190,'error':_0x1a0931(0x525),'message':_0x12cf8a[_0x1a0931(0x1ee)]>0x0?_0x12cf8a:void 0x0};}},te=class{constructor(..._0x19567b){const _0xa9e263=a0_0x581af9;throw{'status':0x191,'error':_0xa9e263(0x34b),'message':_0x19567b[_0xa9e263(0x1ee)]>0x0?_0x19567b:void 0x0};}},K=class{constructor(..._0x2bcb2e){const _0x2b5adb=a0_0x581af9;throw{'status':0x193,'error':_0x2b5adb(0x2e4),'message':_0x2bcb2e[_0x2b5adb(0x1ee)]>0x0?_0x2bcb2e:void 0x0};}},j=class{constructor(..._0x405948){const _0x586242=a0_0x581af9;throw{'status':0x194,'error':_0x586242(0x593),'message':_0x405948['length']>0x0?_0x405948:void 0x0};}},I=class{constructor(..._0x7f3a72){const _0x18337d=a0_0x581af9;throw{'status':0x1f4,'error':_0x18337d(0x22b),'message':_0x7f3a72[_0x18337d(0x1ee)]>0x0?_0x7f3a72:void 0x0};}},de=require(a0_0x581af9(0x6ec));async function Ns(_0x3b3917){const _0x57220c=a0_0x581af9;let _0x57dfba=new v(Ns[_0x57220c(0x428)]),_0x40577e=R['getClient'](),_0x449696=_0x40577e['db'](b[_0x57220c(0x488)](_0x57220c(0x4d4))[_0x57220c(0x22c)][_0x57220c(0x559)]+_0x57220c(0x393))['collection'](_0x3b3917),_0x9ae03b=async(_0x294e8a,_0x51b334)=>{const _0x59ddac=_0x57220c;try{return await _0x40577e[_0x59ddac(0x4e3)](),await _0x449696[_0x59ddac(0x776)]({'_id':_0x51b334},JSON['parse'](JSON[_0x59ddac(0x7e4)](_0x294e8a,de[_0x59ddac(0x6f6)]['replacer'])),{'upsert':!0x0});}catch{}},_0x26b6f4=async _0x47f92d=>{const _0x2b2aaf=_0x57220c;try{await _0x40577e[_0x2b2aaf(0x4e3)]();let _0x181654=await _0x449696[_0x2b2aaf(0x841)]({'_id':_0x47f92d}),_0x556160=JSON[_0x2b2aaf(0x7e4)](_0x181654);return JSON[_0x2b2aaf(0x69e)](_0x556160,de[_0x2b2aaf(0x6f6)]['reviver']);}catch{}},_0x31ad88=async _0x1c137d=>{const _0x45c9c2=_0x57220c;try{return await _0x40577e[_0x45c9c2(0x4e3)](),await _0x449696[_0x45c9c2(0x27a)]({'_id':_0x1c137d});}catch{}},_0x13f80f=await _0x26b6f4(_0x57220c(0x43f))||(0x0,de[_0x57220c(0x4e9)])();return{'state':{'creds':_0x13f80f,'keys':{'get':async(_0x36c11f,_0x337120)=>{const _0x280e83=_0x57220c;let _0x54473d={};return await Promise[_0x280e83(0x699)](_0x337120[_0x280e83(0x697)](async _0x50335d=>{const _0x4792b3=_0x280e83;let _0xfb7e76=await _0x26b6f4(_0x36c11f+'-'+_0x50335d);_0x36c11f==='app-state-sync-key'&&_0xfb7e76&&(_0xfb7e76=de[_0x4792b3(0x5e3)][_0x4792b3(0x735)][_0x4792b3(0x624)]['fromObject'](_0xfb7e76)),_0x54473d[_0x50335d]=_0xfb7e76;})),_0x54473d;},'set':async _0x44745e=>{const _0x5f3603=_0x57220c;let _0x164522=[];for(let _0x164ea2 in _0x44745e)for(let _0x43a68e in _0x44745e[_0x164ea2]){let _0x44022d=_0x44745e[_0x164ea2][_0x43a68e],_0x42a57a=_0x164ea2+'-'+_0x43a68e;_0x164522[_0x5f3603(0x71d)](_0x44022d?_0x9ae03b(_0x44022d,_0x42a57a):_0x31ad88(_0x42a57a));}await Promise[_0x5f3603(0x699)](_0x164522);}}},'saveCreds':async()=>_0x9ae03b(_0x13f80f,_0x57220c(0x43f))};}var As=O(require(a0_0x581af9(0x3b7))),Is=O(require(a0_0x581af9(0x368))),_t=require(a0_0x581af9(0x6ec)),Er=require(a0_0x581af9(0x839)),Dt=require('@whiskeysockets/baileys'),xt;function Mi(_0x11d308){const _0x5cf932=a0_0x581af9;return xt||(xt=(0x0,Er[_0x5cf932(0x45a)])({'url':_0x11d308['URI']}),xt[_0x5cf932(0x4e3)]()),xt;}var ne=class c{constructor(_0x3547a1,_0x461dab){const _0x1e9b0a=a0_0x581af9;this[_0x1e9b0a(0x32a)]=_0x3547a1,this['instanceName']=_0x461dab,this[_0x1e9b0a(0x542)]=new v(c['name']),this[_0x1e9b0a(0x1f1)]=Mi(_0x3547a1);}set['reference'](_0x5c9bf7){this['instanceName']=_0x5c9bf7;}async[a0_0x581af9(0x6ba)](){const _0x4cfaf8=a0_0x581af9;try{return await this[_0x4cfaf8(0x1f1)][_0x4cfaf8(0x273)]([_0x4cfaf8(0x543),this['redisEnv'][_0x4cfaf8(0x784)]+':*']);}catch(_0x1d16ef){this[_0x4cfaf8(0x542)]['error'](_0x1d16ef);}}async['writeData'](_0x38135d,_0x8b136c){const _0x2a2503=a0_0x581af9;try{let _0x9eedbc=JSON[_0x2a2503(0x7e4)](_0x8b136c,Dt[_0x2a2503(0x6f6)][_0x2a2503(0x518)]);return await this[_0x2a2503(0x1f1)][_0x2a2503(0x34d)](this['redisEnv'][_0x2a2503(0x784)]+':'+this[_0x2a2503(0x41a)],_0x38135d,_0x9eedbc);}catch(_0xbcd66c){this[_0x2a2503(0x542)][_0x2a2503(0x3cf)](_0xbcd66c);}}async[a0_0x581af9(0x21c)](){const _0x440864=a0_0x581af9;try{let _0x568eac=await this[_0x440864(0x1f1)]['hGetAll'](this[_0x440864(0x32a)][_0x440864(0x784)]+':'+this[_0x440864(0x41a)]);if(_0x568eac){for(let _0x4c3004 in _0x568eac)Object[_0x440864(0x4c9)][_0x440864(0x34a)]['call'](_0x568eac,_0x4c3004)&&(_0x568eac[_0x4c3004]=JSON[_0x440864(0x69e)](_0x568eac[_0x4c3004],Dt[_0x440864(0x6f6)]['reviver']));return _0x568eac;}}catch(_0x363e7f){this[_0x440864(0x542)][_0x440864(0x3cf)](_0x363e7f);}}async[a0_0x581af9(0x81c)](_0x320370){const _0x569768=a0_0x581af9;try{let _0x353c35=await this[_0x569768(0x1f1)]['hGet'](this['redisEnv'][_0x569768(0x784)]+':'+this[_0x569768(0x41a)],_0x320370);if(_0x353c35)return JSON[_0x569768(0x69e)](_0x353c35,Dt[_0x569768(0x6f6)][_0x569768(0x858)]);}catch(_0x4e61c1){this[_0x569768(0x542)]['error'](_0x4e61c1);}}async[a0_0x581af9(0x515)](_0x6a4457){const _0x11f665=a0_0x581af9;try{return await this[_0x11f665(0x1f1)][_0x11f665(0x6b3)](this[_0x11f665(0x32a)][_0x11f665(0x784)]+':'+this[_0x11f665(0x41a)],_0x6a4457);}catch(_0x1ec489){this[_0x11f665(0x542)][_0x11f665(0x3cf)](_0x1ec489);}}async['delAll'](_0x3bb87c){const _0x86b2ce=a0_0x581af9;try{return await this[_0x86b2ce(0x1f1)][_0x86b2ce(0x4af)](_0x3bb87c||this['redisEnv']['PREFIX_KEY']+':'+this[_0x86b2ce(0x41a)]);}catch(_0x273aec){this['logger'][_0x86b2ce(0x3cf)](_0x273aec);}}};async function Rs(_0x162291,_0x3c6989){const _0x26f298=a0_0x581af9;let _0x4f7db5=new v(Rs[_0x26f298(0x428)]),_0x199545=new ne(_0x162291,_0x3c6989),_0x2cba24=async(_0x38fd2b,_0x22092d)=>{const _0x58371c=_0x26f298;try{return await _0x199545['writeData'](_0x22092d,_0x38fd2b);}catch(_0x58da81){return _0x4f7db5[_0x58371c(0x3cf)]({'localError':_0x58371c(0x60b),'error':_0x58da81});}},_0x2c9047=async _0x259c15=>{const _0x5cd468=_0x26f298;try{return await _0x199545[_0x5cd468(0x81c)](_0x259c15);}catch(_0x3a794f){_0x4f7db5[_0x5cd468(0x3cf)]({'readData':_0x5cd468(0x60b),'error':_0x3a794f});return;}},_0x348585=async _0xf69ac7=>{const _0xdc43cb=_0x26f298;try{return await _0x199545[_0xdc43cb(0x515)](_0xf69ac7);}catch(_0x57e74b){_0x4f7db5[_0xdc43cb(0x3cf)]({'readData':'removeData','error':_0x57e74b});}},_0xc6fa74=await _0x2c9047(_0x26f298(0x43f))||(0x0,_t[_0x26f298(0x4e9)])();return{'state':{'creds':_0xc6fa74,'keys':{'get':async(_0x528548,_0x52a578)=>{const _0x3641ef=_0x26f298;let _0x250d4d={};return await Promise[_0x3641ef(0x699)](_0x52a578[_0x3641ef(0x697)](async _0x94af9f=>{const _0x59e889=_0x3641ef;let _0x2f35da=await _0x2c9047(_0x528548+'-'+_0x94af9f);_0x528548===_0x59e889(0x7e8)&&_0x2f35da&&(_0x2f35da=_t[_0x59e889(0x5e3)]['Message']['AppStateSyncKeyData'][_0x59e889(0x2a5)](_0x2f35da)),_0x250d4d[_0x94af9f]=_0x2f35da;})),_0x250d4d;},'set':async _0x55e55d=>{const _0x372cce=_0x26f298;let _0x2ec87a=[];for(let _0x253087 in _0x55e55d)for(let _0xe113ad in _0x55e55d[_0x253087]){let _0x19adfc=_0x55e55d[_0x253087][_0xe113ad],_0x2f1f4c=_0x253087+'-'+_0xe113ad;_0x2ec87a[_0x372cce(0x71d)](_0x19adfc?await _0x2cba24(_0x19adfc,_0x2f1f4c):await _0x348585(_0x2f1f4c));}await Promise['all'](_0x2ec87a);}}},'saveCreds':async()=>await _0x2cba24(_0xc6fa74,_0x26f298(0x43f))};}var J=O(require('fs')),Re=require('uuid'),Lt=O(require(a0_0x581af9(0x28f))),jt=require(a0_0x581af9(0x5a5)),vi='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'['trim'](),Pt=vi[a0_0x581af9(0x68e)]('\x0a')[a0_0x581af9(0x697)](_0x46098b=>{const _0x52bd64=a0_0x581af9;let _0x10574f=_0x46098b['split'](':'),_0x1968f9={'host':_0x10574f[0x0],'port':_0x10574f[0x1],'protocol':'http'};return _0x10574f[_0x52bd64(0x1ee)]===0x4&&(_0x1968f9[_0x52bd64(0x4c6)]=_0x10574f[0x2],_0x1968f9['password']=_0x10574f[0x3]),_0x1968f9;});function Mr(_0x5d3361){const _0x9498c7=a0_0x581af9;return Pt['find'](_0x22d895=>_0x22d895[_0x9498c7(0x49d)]===_0x5d3361)||null;}function vr(){const _0xc612a=a0_0x581af9;if(Pt[_0xc612a(0x1ee)]===0x0)return null;let _0x3e060c=Math[_0xc612a(0x813)](Math[_0xc612a(0x744)]()*Pt[_0xc612a(0x1ee)]);return Pt[_0x3e060c];}function Ts(_0x2b815c){const _0x50341b=a0_0x581af9;let _0x35e6d0=_0x4518a5=>typeof _0x4518a5==_0x50341b(0x497)&&_0x4518a5['length']>0x0,_0x4807da=_0x31e14b=>{let _0x30bff1=parseInt(_0x31e14b,0xa);return!isNaN(_0x30bff1)&&_0x30bff1>0x0&&_0x30bff1<=0xffff;},_0x3db392=_0x47cd6f=>typeof _0x47cd6f==_0x50341b(0x497)&&_0x47cd6f[_0x50341b(0x1ee)]>0x0;return _0x2b815c&&_0x35e6d0(_0x2b815c[_0x50341b(0x49d)])&&_0x4807da(_0x2b815c['port'])&&(!_0x2b815c[_0x50341b(0x4c6)]||_0x3db392(_0x2b815c[_0x50341b(0x4c6)]))&&(!_0x2b815c[_0x50341b(0x73d)]||_0x3db392(_0x2b815c[_0x50341b(0x73d)]))&&(_0x2b815c[_0x50341b(0x4a5)]===_0x50341b(0x632)||_0x2b815c[_0x50341b(0x4a5)]===_0x50341b(0x5d9));}var xs=require(a0_0x581af9(0x39c)),Ds=a0_0x581af9(0x82f),xr,ce=null,Nr=null,et=null,Ni=0x3,Ri=null;function a0_0xd85f(_0x34ad46,_0x295a97){const _0x2ba898=a0_0x2ba8();return a0_0xd85f=function(_0xd85f4c,_0x5e5969){_0xd85f4c=_0xd85f4c-0x1b0;let _0x1a2cb1=_0x2ba898[_0xd85f4c];return _0x1a2cb1;},a0_0xd85f(_0x34ad46,_0x295a97);}async function Ti(){const _0x3d15f3=a0_0x581af9;let _0x2e3fcf=await ye[_0x3d15f3(0x841)]();ce=_0x2e3fcf?.[_0x3d15f3(0x29b)]??null,Ri=_0x2e3fcf?.[_0x3d15f3(0x56b)]??null,Ds=_0x2e3fcf?.['connectedClient']??_0x3d15f3(0x82f),xr=_0x2e3fcf?.[_0x3d15f3(0x4b9)]??_s??_0x3d15f3(0x243),console[_0x3d15f3(0x679)](_0x3d15f3(0x234)),console[_0x3d15f3(0x679)](_0x2e3fcf);}async function Oi(){await Ti();}Oi();var Rr={},ae={},be=class c{constructor(_0x322d4d,_0x1916c4,_0x2668fd){const _0x44fc87=a0_0x581af9;this['configService']=_0x322d4d,this[_0x44fc87(0x67a)]=_0x1916c4,this[_0x44fc87(0x456)]=_0x2668fd,this[_0x44fc87(0x27b)]=null,this[_0x44fc87(0x542)]=new v(c[_0x44fc87(0x428)]),this[_0x44fc87(0x43e)]={},this[_0x44fc87(0x4cc)]={},this[_0x44fc87(0x3f9)]={'state':'close'},this['storePath']=(0x0,q[_0x44fc87(0x495)])(ie,_0x44fc87(0x37a)),this['msgRetryCounterCache']=new Is[(_0x44fc87(0x258))](),this[_0x44fc87(0x48d)]=new Is[(_0x44fc87(0x258))](),this[_0x44fc87(0x81a)]=!0x1,this[_0x44fc87(0x72b)]={'status.instance':_0x44fc87(0x53d),'connection.update':'/wa-connection-update','qrcode.updated':_0x44fc87(0x79a),'messages.upsert':_0x44fc87(0x4da),'send.message':_0x44fc87(0x4da),'messages.update':'/wa-message-update','group.upsert':_0x44fc87(0x364),'group.update':_0x44fc87(0x364),'group-participants.update':'/wa-groups','messages.set':'/wa-all-message','contacts.set':_0x44fc87(0x546),'contacts.upsert':'/wa-contacts','contacts.update':_0x44fc87(0x546),'presence.update':_0x44fc87(0x53c),'chats.set':_0x44fc87(0x242),'chats.update':'/wa-chats','chats.upsert':_0x44fc87(0x242),'chats.delete':_0x44fc87(0x242)},this[_0x44fc87(0x545)]=0x0,this[_0x44fc87(0x837)]=[],this[_0x44fc87(0x6e0)]=0xa,this['RECONNECT_TIME_FRAME']=0xea60,this[_0x44fc87(0x235)]=!0x1,this[_0x44fc87(0x64b)]={'chats.upsert':async(_0x2dfb8e,_0x30e70b)=>{const _0x31e7a2=_0x44fc87;let _0x3f5846=[];for await(let _0x24ea36 of _0x2dfb8e)_0x3f5846[_0x31e7a2(0x71d)]({'_id':_0x24ea36['id'],'owner':this[_0x31e7a2(0x43e)][_0x31e7a2(0x40d)],'group':_0x24ea36['id']['endsWith'](_0x31e7a2(0x594)),'name':_0x24ea36[_0x31e7a2(0x428)]||_0x24ea36[_0x31e7a2(0x200)]||null,'contactname':null,'lastmsg':_0x24ea36[_0x31e7a2(0x4df)]&&_0x24ea36[_0x31e7a2(0x4df)][_0x31e7a2(0x658)]()['length']<0xd?_0x24ea36[_0x31e7a2(0x4df)]*0x3e8:_0x24ea36[_0x31e7a2(0x4df)]||null,'archived':_0x24ea36['archived']||!0x1,'unreadcount':_0x24ea36[_0x31e7a2(0x599)]||0x0});this['sendDataWebhook'](_0x31e7a2(0x656),_0x3f5846);},'chats.update':async(_0x5ebaa1,_0x5cdf99)=>{const _0x55f07c=_0x44fc87;for(let _0x1b232c of _0x5ebaa1){let _0x99f1e4={'_id':_0x1b232c['id'],'owner':this[_0x55f07c(0x43e)][_0x55f07c(0x40d)],'group':_0x1b232c['id'][_0x55f07c(0x483)]('@g.us'),'name':_0x1b232c[_0x55f07c(0x428)]||_0x1b232c['displayName'],'archived':_0x1b232c[_0x55f07c(0x575)],'ephemeralExpiration':_0x1b232c[_0x55f07c(0x69a)]},_0x2cb9f8=!0x1,_0x22fb1f={};_0x99f1e4[_0x55f07c(0x575)]!=null&&(this[_0x55f07c(0x542)][_0x55f07c(0x628)](this[_0x55f07c(0x41a)]+'\x20('+this[_0x55f07c(0x43e)][_0x55f07c(0x40d)]+_0x55f07c(0x492)+_0x1b232c[_0x55f07c(0x575)]),_0x2cb9f8=!0x0,_0x22fb1f['archived']=_0x1b232c[_0x55f07c(0x575)]),_0x1b232c[_0x55f07c(0x428)]!=null&&(this[_0x55f07c(0x542)][_0x55f07c(0x628)](this[_0x55f07c(0x41a)]+'\x20('+this[_0x55f07c(0x43e)][_0x55f07c(0x40d)]+'):\x20teve\x20mudanças\x20chat.name:\x20'+_0x1b232c['name']),_0x2cb9f8=!0x0,_0x22fb1f[_0x55f07c(0x428)]=_0x1b232c[_0x55f07c(0x428)]),_0x1b232c[_0x55f07c(0x200)]!=null&&(this[_0x55f07c(0x542)]['verbose'](this[_0x55f07c(0x41a)]+'\x20('+this[_0x55f07c(0x43e)][_0x55f07c(0x40d)]+'):\x20teve\x20mudanças\x20chat.displayName:\x20'+_0x1b232c[_0x55f07c(0x200)]),_0x2cb9f8=!0x0,_0x22fb1f[_0x55f07c(0x428)]=_0x1b232c['displayName']);let _0x3b659a;_0x2cb9f8&&(_0x3b659a=await this[_0x55f07c(0x456)][_0x55f07c(0x437)][_0x55f07c(0x1b0)]({'where':{'_id':_0x1b232c['id']}},_0x22fb1f,this['instance']['wuid'])),_0x3b659a&&F(this[_0x55f07c(0x41a)],'chats',{'chat':_0x3b659a});}},'chats.delete':async _0x5ae13a=>{const _0x31ec45=_0x44fc87;for(let _0x43051d of _0x5ae13a)if(_0x43051d[_0x31ec45(0x483)](_0x31ec45(0x594))){await this[_0x31ec45(0x456)][_0x31ec45(0x437)][_0x31ec45(0x5e1)]({'where':{'_id':_0x43051d}},this[_0x31ec45(0x43e)][_0x31ec45(0x40d)]);let _0x415696={'where':{'key':{'remoteJid':_0x43051d}}};await this[_0x31ec45(0x456)][_0x31ec45(0x390)][_0x31ec45(0x5e1)](_0x415696,this['instance'][_0x31ec45(0x40d)]);}else{await this[_0x31ec45(0x456)]['chat'][_0x31ec45(0x1b0)]({'where':{'_id':_0x43051d}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x31ec45(0x43e)][_0x31ec45(0x40d)]);let _0x22e88c={'where':{'key':{'remoteJid':_0x43051d}}};await this[_0x31ec45(0x456)]['message'][_0x31ec45(0x5e1)](_0x22e88c,this[_0x31ec45(0x43e)]['wuid']);}this[_0x31ec45(0x2ae)](_0x31ec45(0x449),[..._0x5ae13a]);}},this[_0x44fc87(0x339)]={'contacts.upsert':async(_0x24e961,_0x31bcfc)=>{const _0x393157=_0x44fc87;let _0xfd9405=await this[_0x393157(0x456)][_0x393157(0x862)][_0x393157(0x53f)]({'where':{}},this[_0x393157(0x43e)][_0x393157(0x40d)]),_0x28fa8f=[];for await(let _0x5004a5 of _0x24e961)_0xfd9405['find'](_0xd9cc98=>_0xd9cc98[_0x393157(0x4e8)]===_0x5004a5['id'])||_0x28fa8f[_0x393157(0x71d)]({'_id':_0x5004a5['id'],'pushName':_0x5004a5?.['name']||_0x5004a5?.[_0x393157(0x468)],'owner':this[_0x393157(0x43e)][_0x393157(0x40d)]});this[_0x393157(0x2ae)](_0x393157(0x6a6),_0x28fa8f),await this[_0x393157(0x456)][_0x393157(0x862)][_0x393157(0x1b1)](_0x28fa8f);},'contacts.update':async(_0x2e888d,_0x35255e)=>{const _0x53f081=_0x44fc87;let _0x5d9c3b=[];for await(let _0x29c7a1 of _0x2e888d)_0x5d9c3b['push']({'_id':_0x29c7a1['id'],'pushName':_0x29c7a1?.[_0x53f081(0x428)]??_0x29c7a1?.[_0x53f081(0x468)],'owner':this['instance'][_0x53f081(0x40d)]});this[_0x53f081(0x2ae)]('contacts.update',_0x5d9c3b);}},this['messageHandle']={'messaging-history.set':async({messages:_0x1804e9,chats:_0x29fc41,isLatest:_0x14aee0},_0x3a5de8)=>{const _0x268d70=_0x44fc87;if(_0x14aee0){let _0x5ec774=await Promise['all'](_0x29fc41[_0x268d70(0x697)](async _0x2dde4b=>({'_id':_0x2dde4b['id'],'owner':this[_0x268d70(0x43e)][_0x268d70(0x40d)],'group':_0x2dde4b['id']['endsWith'](_0x268d70(0x594)),'name':_0x2dde4b[_0x268d70(0x428)]||_0x2dde4b['displayName']||null,'contactname':null,'lastmsg':_0x2dde4b['conversationTimestamp']&&_0x2dde4b['conversationTimestamp'][_0x268d70(0x658)]()[_0x268d70(0x1ee)]<0xd?_0x2dde4b[_0x268d70(0x4df)]*0x3e8:_0x2dde4b[_0x268d70(0x4df)]||null,'archived':_0x2dde4b[_0x268d70(0x575)]||!0x1,'unreadcount':_0x2dde4b[_0x268d70(0x599)]||0x0})));this[_0x268d70(0x2ae)](_0x268d70(0x24f),_0x5ec774),await this[_0x268d70(0x3b5)](_0x5ec774,_0x3a5de8);}let _0x12c84a=[],_0x531eb2=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0x173c43]of Object['entries'](_0x1804e9)){if(_0x173c43[_0x268d70(0x390)]?.[_0x268d70(0x4ca)]||_0x173c43[_0x268d70(0x390)]?.[_0x268d70(0x7e1)]||!_0x173c43[_0x268d70(0x390)]||_0x173c43['key'][_0x268d70(0x601)]===_0x268d70(0x444)||(As[_0x268d70(0x258)][_0x268d70(0x7bf)](_0x173c43?.[_0x268d70(0x5a4)])&&(_0x173c43[_0x268d70(0x5a4)]=_0x173c43[_0x268d70(0x5a4)]?.[_0x268d70(0x23a)]()),_0x173c43[_0x268d70(0x5a4)]&&_0x173c43[_0x268d70(0x5a4)]['toString']()['length']<0xd&&(_0x173c43[_0x268d70(0x5a4)]=_0x173c43[_0x268d70(0x5a4)]*0x3e8),_0x173c43[_0x268d70(0x5a4)]<_0x531eb2))continue;let _0x27b630=(0x0,m['normalizeMessageContent'])(_0x173c43[_0x268d70(0x390)]),_0x50b39a=(0x0,m['getContentType'])(_0x27b630),{message_normalized:_0x2ff8a7}=this[_0x268d70(0x204)](_0x27b630,_0x50b39a,null);Object[_0x268d70(0x543)](_0x2ff8a7)[_0x268d70(0x1ee)]>0x0&&_0x12c84a[_0x268d70(0x71d)]({'_id':_0x173c43[_0x268d70(0x686)]['id'],'key':_0x173c43[_0x268d70(0x686)],'pushName':_0x173c43[_0x268d70(0x263)],'participant':_0x173c43[_0x268d70(0x44c)],'message':_0x27b630,'messageType':_0x50b39a,'message_normalized':{'key':_0x173c43[_0x268d70(0x686)],'pushName':_0x173c43[_0x268d70(0x263)],'messageTimestamp':_0x173c43[_0x268d70(0x5a4)],..._0x2ff8a7},'messageTimestamp':_0x173c43[_0x268d70(0x5a4)],'owner':this[_0x268d70(0x43e)][_0x268d70(0x40d)]});}_0x3a5de8[_0x268d70(0x54e)]&&_0x12c84a[_0x268d70(0x1ee)]>0x0&&(this[_0x268d70(0x542)][_0x268d70(0x628)](this[_0x268d70(0x41a)]+'\x20('+this['instance'][_0x268d70(0x40d)]+_0x268d70(0x3bc)+_0x12c84a[_0x268d70(0x1ee)]+_0x268d70(0x586)+this[_0x268d70(0x43e)][_0x268d70(0x40d)]+'\x20inseridas\x20no\x20banco\x20de\x20dados...'),await this[_0x268d70(0x456)][_0x268d70(0x390)][_0x268d70(0x1b1)]([..._0x12c84a],this['instance'][_0x268d70(0x40d)])),this[_0x268d70(0x2ae)](_0x268d70(0x404),[..._0x12c84a]),_0x1804e9=void 0x0;},'messages.upsert':async({messages:_0x1eb795,type:_0x1f8a7c},_0x54f621)=>{const _0x95da0e=_0x44fc87;let _0x258a4c=_0x1eb795[0x0],_0x1f9ace=_0x258a4c[_0x95da0e(0x686)]['id'],_0x53eb75=_0x258a4c[_0x95da0e(0x503)]===0x2,_0x487a40=0xb;if(this['localWebhook']?.[_0x95da0e(0x7ae)]&&_0x258a4c['key'][_0x95da0e(0x601)]['includes']('@g.us')){this[_0x95da0e(0x542)][_0x95da0e(0x628)](this['instanceName']+'\x20('+this['instance'][_0x95da0e(0x40d)]+_0x95da0e(0x1eb));return;}if(_0x53eb75){if(ae[_0x1f9ace]||(ae[_0x1f9ace]=0x0),ae[_0x1f9ace]++,this[_0x95da0e(0x542)]['error'](this[_0x95da0e(0x41a)]+'\x20('+this[_0x95da0e(0x43e)][_0x95da0e(0x40d)]+_0x95da0e(0x5c7)+_0x258a4c[_0x95da0e(0x686)][_0x95da0e(0x601)]+_0x95da0e(0x790)+_0x1f9ace+':\x20'+ae[_0x1f9ace]+'/'+_0x487a40),ae[_0x1f9ace]>=_0x487a40){this['logger'][_0x95da0e(0x3cf)](this[_0x95da0e(0x41a)]+'\x20('+this[_0x95da0e(0x43e)][_0x95da0e(0x40d)]+_0x95da0e(0x1c7)+_0x258a4c['key']['remoteJid']+_0x95da0e(0x790)+_0x1f9ace+'.');let _0x679e4c={'key':{..._0x258a4c[_0x95da0e(0x686)]},'message':{'conversation':'[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22'+_0x1f9ace+'\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.'}};this['client']['ev'][_0x95da0e(0x2dd)](_0x95da0e(0x5c2),{'messages':[_0x679e4c],'type':_0x95da0e(0x47d)}),delete ae[_0x1f9ace];}}else ae[_0x1f9ace]&&(this[_0x95da0e(0x542)][_0x95da0e(0x5ad)](_0x95da0e(0x402)+ae[_0x1f9ace]+_0x95da0e(0x384)+_0x258a4c[_0x95da0e(0x686)][_0x95da0e(0x601)]+_0x95da0e(0x790)+_0x1f9ace),delete ae[_0x1f9ace]);if(_0x1f8a7c!=='notify'||!_0x258a4c?.[_0x95da0e(0x390)]||_0x258a4c[_0x95da0e(0x390)]?.[_0x95da0e(0x4ca)]||_0x258a4c['message'][_0x95da0e(0x7e1)]||_0x258a4c['key'][_0x95da0e(0x601)]===_0x95da0e(0x444))return;let _0x32b560=null,_0x302e44=null;try{_0x32b560=await this['processPollUpdateMessage'](_0x258a4c),_0x302e44=_0x32b560?_0x32b560[_0x95da0e(0x495)](','):null;}catch(_0x3da533){this[_0x95da0e(0x542)][_0x95da0e(0x628)](this['instanceName']+'\x20('+this['instance'][_0x95da0e(0x40d)]+_0x95da0e(0x3bc)+(_0x3da533 instanceof Error?_0x3da533['message']:JSON['stringify'](_0x3da533,null,0x2))),_0x302e44=_0x95da0e(0x5dc);}this['client'][_0x95da0e(0x3ae)]('unavailable'),As['default']['isLong'](_0x258a4c['messageTimestamp'])&&(_0x258a4c[_0x95da0e(0x5a4)]=_0x258a4c['messageTimestamp']?.[_0x95da0e(0x23a)]()),_0x258a4c[_0x95da0e(0x5a4)]&&_0x258a4c['messageTimestamp'][_0x95da0e(0x658)]()[_0x95da0e(0x1ee)]<0xd&&(_0x258a4c[_0x95da0e(0x5a4)]=_0x258a4c[_0x95da0e(0x5a4)]*0x3e8);let _0xee383a=_0x258a4c[_0x95da0e(0x390)],_0x4ac5c3=(0x0,m['normalizeMessageContent'])(_0xee383a),_0x11e40c=(0x0,m[_0x95da0e(0x41c)])(_0x4ac5c3),{messageContent:_0x27dd92,message_normalized:_0x498424}=this['normalizeMessage'](_0x4ac5c3,_0x11e40c,_0x302e44);_0x11e40c===_0x95da0e(0x4ca)&&_0x27dd92?.[_0x95da0e(0x64f)]&&(_0x11e40c='editedMessage');let _0x4d75f9,_0x5e26c9=_0x258a4c['key'][_0x95da0e(0x601)][_0x95da0e(0x483)]('@g.us');if(_0x258a4c[_0x95da0e(0x686)]['fromMe'])_0x4d75f9=this[_0x95da0e(0x43e)][_0x95da0e(0x5bb)];else{let _0x5ed9b6=_0x5e26c9?_0x258a4c[_0x95da0e(0x686)][_0x95da0e(0x44c)]:_0x258a4c[_0x95da0e(0x686)]['remoteJid'];_0x4d75f9=(await this[_0x95da0e(0x595)](_0x5ed9b6,_0x258a4c[_0x95da0e(0x263)],!0x1))[_0x95da0e(0x4f1)]['pictureUrl'];}let _0x7584c9={'_id':_0x258a4c[_0x95da0e(0x686)]['id'],'key':_0x258a4c[_0x95da0e(0x686)],'isGroup':_0x5e26c9,'profilePictureUrl':_0x4d75f9,'pushName':_0x258a4c['pushName'],'message':_0x4ac5c3,'messageType':_0x11e40c,'message_normalized':{'key':_0x258a4c[_0x95da0e(0x686)],'pushName':_0x258a4c[_0x95da0e(0x263)],'messageTimestamp':_0x258a4c[_0x95da0e(0x5a4)],'source':(0x0,m[_0x95da0e(0x859)])(_0x258a4c['key']['id']),..._0x498424},'messageTimestamp':_0x258a4c[_0x95da0e(0x5a4)],'owner':this[_0x95da0e(0x43e)][_0x95da0e(0x40d)],'source':(0x0,m[_0x95da0e(0x859)])(_0x258a4c[_0x95da0e(0x686)]['id'])};_0x27dd92||(console['error']('Mensagem\x20não\x20suportada'),this[_0x95da0e(0x542)][_0x95da0e(0x3cf)](_0x7584c9)),this[_0x95da0e(0x542)][_0x95da0e(0x679)](this[_0x95da0e(0x41a)]+'\x20('+this[_0x95da0e(0x43e)][_0x95da0e(0x40d)]+'):\x20'+(_0x7584c9[_0x95da0e(0x686)]?.['fromMe']?'enviado\x20para':'recebido\x20de')+'\x20['+_0x7584c9[_0x95da0e(0x686)]?.[_0x95da0e(0x601)]['replace'](_0x95da0e(0x6e9),'')+']\x20('+_0x7584c9[_0x95da0e(0x358)]+')'),_0x7584c9['message_normalized']?.[_0x95da0e(0x711)]&&this[_0x95da0e(0x542)][_0x95da0e(0x679)](_0x1f9ace+':\x20'+_0x7584c9['message_normalized']?.[_0x95da0e(0x711)]),await this[_0x95da0e(0x456)][_0x95da0e(0x390)]['insert']([_0x7584c9],this[_0x95da0e(0x43e)][_0x95da0e(0x40d)]),this[_0x95da0e(0x2ae)]('messages.upsert',_0x7584c9),F(this['instanceName'],'messages',{'message':_0x7584c9}),_0x258a4c[_0x95da0e(0x686)][_0x95da0e(0x601)]!==_0x95da0e(0x444)&&await this[_0x95da0e(0x34c)](_0x54f621,_0x7584c9,'MESSAGES_UPSERT');},'messages.update':async(_0x56d883,_0x5db3f4)=>{const _0x4effa4=_0x44fc87;let _0x1c7824={0x0:_0x4effa4(0x84a),0x1:'PENDING',0x2:_0x4effa4(0x780),0x3:_0x4effa4(0x31e),0x4:_0x4effa4(0x5ff),0x5:_0x4effa4(0x2d1)};for await(let {key:_0xf1f705,update:_0x24c951}of _0x56d883){if(this[_0x4effa4(0x4cc)]?.[_0x4effa4(0x7ae)]&&_0xf1f705['remoteJid'][_0x4effa4(0x2a9)](_0x4effa4(0x594))){this[_0x4effa4(0x542)][_0x4effa4(0x628)](this['instanceName']+'\x20('+this[_0x4effa4(0x43e)][_0x4effa4(0x40d)]+'):\x20[messages.update]\x20group\x20ignored');return;}if(_0xf1f705['remoteJid']!==_0x4effa4(0x444)){let _0x2d4d07=Date[_0x4effa4(0x23e)](),_0x49d1c4;_0x24c951[_0x4effa4(0x390)]===null&&_0x24c951['status']===void 0x0?_0x49d1c4=_0x4effa4(0x4cd):_0x49d1c4=_0x1c7824[_0x24c951[_0x4effa4(0x2e9)]];let _0x46b6f2=_0xf1f705['remoteJid'][_0x4effa4(0x614)](/:\d{1,2}@/g,'@'),_0x34e580={..._0xf1f705,'remoteJid':_0x46b6f2,'status':_0x49d1c4,'datetime':_0x2d4d07,'owner':this[_0x4effa4(0x43e)]['wuid']};this['sendDataWebhook'](_0x4effa4(0x5bf),_0x34e580),await this[_0x4effa4(0x2ec)](_0xf1f705,_0x34e580);}}},'labels.association':async({type:_0x118818,association:_0x5648cc})=>{const _0x5c2cda=_0x44fc87;if(_0x5648cc[_0x5c2cda(0x612)]===_0x5c2cda(0x7e0)){let _0x207f94,_0x11a7eb=0x0;for(;!_0x207f94&&_0x11a7eb<this[_0x5c2cda(0x42f)];)_0x207f94=await this[_0x5c2cda(0x456)][_0x5c2cda(0x437)][_0x5c2cda(0x841)]({'where':{'_id':_0x5648cc[_0x5c2cda(0x517)]}},this[_0x5c2cda(0x43e)][_0x5c2cda(0x40d)]),_0x207f94||(_0x11a7eb++,console[_0x5c2cda(0x679)](_0x5c2cda(0x350)+_0x5648cc['chatId']+_0x5c2cda(0x1c2)+this[_0x5c2cda(0x25a)]+'ms\x20(Attempt\x20'+_0x11a7eb+'/'+this['delayChatLabel_MAX_RETRIES']+')'),await this[_0x5c2cda(0x3a8)](this[_0x5c2cda(0x25a)]));if(!_0x207f94){console[_0x5c2cda(0x3cf)]('Failed\x20to\x20find\x20chat\x20'+_0x5648cc[_0x5c2cda(0x517)]+_0x5c2cda(0x3ad)+this[_0x5c2cda(0x42f)]+_0x5c2cda(0x2ab));return;}switch(_0x118818){case _0x5c2cda(0x322):console[_0x5c2cda(0x679)](_0x5648cc),await this['repository']['chat'][_0x5c2cda(0x1b0)]({'where':{'_id':_0x5648cc[_0x5c2cda(0x517)]}},{'leadInfo.etiquetas':_0x5648cc['labelId']},this[_0x5c2cda(0x43e)]['wuid'],void 0x0,_0x5c2cda(0x560));break;case _0x5c2cda(0x7f9):console['log'](_0x5648cc),await this[_0x5c2cda(0x456)][_0x5c2cda(0x437)][_0x5c2cda(0x1b0)]({'where':{'_id':_0x5648cc[_0x5c2cda(0x517)]}},{'leadInfo.etiquetas':_0x5648cc[_0x5c2cda(0x1bd)]},this['instance'][_0x5c2cda(0x40d)],void 0x0,_0x5c2cda(0x750));break;default:console[_0x5c2cda(0x3cf)]('unknown\x20operation\x20type\x20['+_0x118818+']');}}},'labels.edit':async _0x4f94c8=>{const _0x1f8c10=_0x44fc87;if(!_0x4f94c8||!_0x4f94c8['id']){console['error'](_0x1f8c10(0x24d));return;}if(!_0x4f94c8[_0x1f8c10(0x388)]){let _0x5551a7=[_0x1f8c10(0x786),_0x1f8c10(0x465),_0x1f8c10(0x722),_0x1f8c10(0x302),_0x1f8c10(0x28c),_0x1f8c10(0x709),'#fe9dfe',_0x1f8c10(0x7dc),_0x1f8c10(0x367),_0x1f8c10(0x5e0),'#01d0e2','#ffc5c7',_0x1f8c10(0x701),_0x1f8c10(0x660),'#00a1f2','#83e421',_0x1f8c10(0x1f6),_0x1f8c10(0x248),_0x1f8c10(0x6c2),_0x1f8c10(0x5ce)],_0x43b6b9;typeof _0x4f94c8[_0x1f8c10(0x266)]==_0x1f8c10(0x557)&&_0x4f94c8[_0x1f8c10(0x266)]>=0x0&&_0x4f94c8['color']<_0x5551a7[_0x1f8c10(0x1ee)]?_0x43b6b9=_0x5551a7[_0x4f94c8[_0x1f8c10(0x266)]]:(console[_0x1f8c10(0x3cf)]('Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:',_0x4f94c8['color']),_0x43b6b9=_0x1f8c10(0x5d4));let _0x4d3fd5={'_id':_0x4f94c8['id'],'colorHex':_0x43b6b9,'color':_0x4f94c8?.[_0x1f8c10(0x266)],'name':_0x4f94c8?.['name'],'owner':this['instance'][_0x1f8c10(0x40d)]};await this[_0x1f8c10(0x456)][_0x1f8c10(0x553)]['updateOne']({'where':{'_id':_0x4f94c8['id']}},_0x4d3fd5,this[_0x1f8c10(0x43e)]['wuid']),console[_0x1f8c10(0x679)]('Rótulo\x20atualizado:',_0x4f94c8);}_0x4f94c8[_0x1f8c10(0x388)]&&(await this[_0x1f8c10(0x456)][_0x1f8c10(0x553)]['delete']({'where':{'_id':_0x4f94c8['id']}},this['instance']['wuid']),console[_0x1f8c10(0x679)](_0x1f8c10(0x671),_0x4f94c8['id']));}},this[_0x44fc87(0x30c)]={'groups.upsert':_0x212581=>{const _0x3a0fd2=_0x44fc87;this[_0x3a0fd2(0x2ae)](_0x3a0fd2(0x233),_0x212581);},'groups.update':_0x37cffe=>{const _0x32737b=_0x44fc87;this[_0x32737b(0x2ae)](_0x32737b(0x3cc),_0x37cffe);},'group-participants.update':_0x114b70=>{this['sendDataWebhook']('group-participants.update',_0x114b70);}},this[_0x44fc87(0x42f)]=0x5,this[_0x44fc87(0x25a)]=0x1388,this['processPollUpdateMessage']=async _0x13b950=>{const _0x371fc6=_0x44fc87;if(_0x13b950[_0x371fc6(0x390)]?.['pollUpdateMessage']){let _0x1bcbaf=await this[_0x371fc6(0x38a)](_0x13b950[_0x371fc6(0x390)][_0x371fc6(0x4e2)][_0x371fc6(0x47a)],!0x0);if(_0x1bcbaf){let _0x37193d=_0x1bcbaf[_0x371fc6(0x686)]['fromMe']?this[_0x371fc6(0x43e)][_0x371fc6(0x40d)]+_0x371fc6(0x6e9):_0x1bcbaf[_0x371fc6(0x686)]['participant']||_0x1bcbaf[_0x371fc6(0x686)][_0x371fc6(0x601)],_0x597fff=_0x1bcbaf[_0x371fc6(0x686)]['id'],_0x50827c=_0x1bcbaf[_0x371fc6(0x390)],_0x18fb56=Buffer[_0x371fc6(0x252)](_0x50827c[_0x371fc6(0x516)][_0x371fc6(0x44a)]['toString']('hex'),_0x371fc6(0x487)),_0x54e5b8=(0x0,m[_0x371fc6(0x461)])(_0x13b950[_0x371fc6(0x390)][_0x371fc6(0x4e2)]['vote'],{'pollCreatorJid':_0x37193d,'pollMsgId':_0x597fff,'pollEncKey':_0x18fb56,'voterJid':_0x13b950['key'][_0x371fc6(0x795)]?this[_0x371fc6(0x43e)][_0x371fc6(0x40d)]+_0x371fc6(0x6e9):_0x13b950[_0x371fc6(0x686)][_0x371fc6(0x601)]['endsWith']('g.us')?_0x13b950[_0x371fc6(0x686)]['participant']:_0x13b950[_0x371fc6(0x686)]['remoteJid']}),_0x3e1f86=[],_0x48d70d=_0x54e5b8['selectedOptions']['map'](_0x48fc24=>Buffer[_0x371fc6(0x252)](_0x48fc24)[_0x371fc6(0x658)]('hex'));for(let {optionName:_0x1c2ccc}of _0x50827c[_0x371fc6(0x832)]?.[_0x371fc6(0x499)]||_0x50827c[_0x371fc6(0x7c4)]?.[_0x371fc6(0x499)]||_0x50827c[_0x371fc6(0x85e)]?.[_0x371fc6(0x499)])_0x48d70d[_0x371fc6(0x609)]((0x0,m[_0x371fc6(0x71a)])(Buffer['from'](_0x1c2ccc))[_0x371fc6(0x658)](_0x371fc6(0x487)))>-0x1&&_0x3e1f86['push'](_0x1c2ccc);return _0x3e1f86;}}return null;},this[_0x44fc87(0x204)]=(_0x3f5e87,_0x596d0a,_0x370595)=>{const _0x30dee8=_0x44fc87;try{let _0x299278=_0x3f5e87?(0x0,m[_0x30dee8(0x365)])(_0x3f5e87)[_0x596d0a]:void 0x0,_0xcd715f={},_0x35a1fb=null,_0x214706=null,_0x288354=null;_0x596d0a==='protocolMessage'&&_0x299278?.[_0x30dee8(0x64f)]&&(_0x596d0a=(0x0,m[_0x30dee8(0x41c)])(_0x299278['editedMessage']),_0x35a1fb=_0x3f5e87[_0x30dee8(0x4ca)][_0x30dee8(0x686)]['id'],_0x299278=_0x3f5e87['protocolMessage']['editedMessage'][_0x596d0a]),_0x3f5e87[_0x596d0a]?.[_0x30dee8(0x5de)]?.[_0x30dee8(0x68b)]&&_0x3f5e87[_0x596d0a]?.['contextInfo']?.[_0x30dee8(0x739)]&&(_0x214706=_0x3f5e87[_0x596d0a][_0x30dee8(0x5de)]['stanzaId']),_0x3f5e87[_0x30dee8(0x51b)]&&(_0x288354=_0x3f5e87['reactionMessage'][_0x30dee8(0x686)]['id']);let _0xc320d0;if(_0x299278&&typeof _0x299278=='object'&&_0x30dee8(0x47a)in _0x299278&&({pollCreationMessageKey:_0xc320d0}=_0x299278),_0x596d0a==='pollCreationMessage'||_0x596d0a===_0x30dee8(0x85e)||_0x596d0a===_0x30dee8(0x7c4)){let _0x74875d=_0x299278[_0x30dee8(0x499)][_0x30dee8(0x697)](_0xe37c94=>_0xe37c94[_0x30dee8(0x642)])[_0x30dee8(0x495)]('|');_0xcd715f[_0x30dee8(0x1c0)]=_0x74875d;}let _0x5d1902='';if(_0x299278&&(_0x5d1902+=_0x299278['name']?_0x299278['name']:'',_0x5d1902+=_0x299278[_0x30dee8(0x5c8)]?'\x20'+_0x299278[_0x30dee8(0x5c8)]:'',_0x5d1902+=_0x299278[_0x30dee8(0x40f)]?'\x20'+_0x299278[_0x30dee8(0x40f)]:'',_0x5d1902+=_0x299278[_0x30dee8(0x200)]?'\x20'+_0x299278[_0x30dee8(0x200)]:''),_0x596d0a===_0x30dee8(0x376)){_0x5d1902=(_0x299278[_0x30dee8(0x540)]||'')+'\x0a'+(_0x299278[_0x30dee8(0x855)]||'')+'\x0a'+(_0x299278[_0x30dee8(0x1dc)]||'');let _0x536228=this[_0x30dee8(0x64e)](_0x299278[_0x30dee8(0x52f)]);_0xcd715f['convertedOptions']=_0x536228;}if(_0x596d0a===_0x30dee8(0x634)&&(_0x370595=_0x299278[_0x30dee8(0x540)]),_0x299278&&_0x299278[_0x30dee8(0x698)]){let _0x28c007=this[_0x30dee8(0x3f6)](JSON[_0x30dee8(0x7e4)](_0x299278[_0x30dee8(0x698)],null,0x2));_0x5d1902=_0x5d1902+'\x0a'+_0x28c007;}if(_0x299278){let {sections:_0x21ace6,listType:_0x39d902,displayName:_0x2dee14,vcard:_0x403cb6,contactVcard:_0xeccb39,name:_0x527ac1,caption:_0x363432,conversation:_0x1beccf,pollCreationMessageKey:_0x27d0ca,footerText:_0x4c7afd,contentText:_0x85c1e8,pageCount:_0x309d87,headerType:_0x2dea6b,isAvatar:_0x22f27c,isAnimated:_0x226487,fallbackLc:_0xa7af62,fallbackLg:_0x7e05b1,namespace:_0x28f097,elementName:_0x30d8e6,localizableParams:_0x19d5b,viewOnce:_0x750a18,height:_0x21ac87,width:_0x21bab9,key:_0x2461ad,firstScanLength:_0x194fd0,firstScanSidecar:_0x350328,gifPlayback:_0x3079f1,gifAttribution:_0x1d4d67,midQualityFileSha256:_0x4029b7,scansSidecar:_0x5b19e5,streamingSidecar:_0x4f1f8f,thumbnailHeight:_0x3b0537,thumbnailWidth:_0x462db2,thumbnailEncSha256:_0x568dd2,thumbnailDirectPath:_0x1bc8e4,canonicalUrl:_0x5aaff4,matchedText:_0x246322,previewType:_0x556d31,thumbnailSha256:_0x3f5dd1,deviceListMetadataVersion:_0x3326e9,inviteLinkGroupTypeV2:_0x137fb9,interactiveAnnotations:_0x2d23e0,scanLengths:_0x45dce3,jpegThumbnail:_0x53da83,url:_0x4f13ab,mediaKeyTimestamp:_0x2262e8,waveform:_0x52a3dc,stickerSentTs:_0x118b8f,firstFrameLength:_0x463dfc,fileEncSha256:_0x13c41a,contextInfo:_0x255560,firstFrameSidecar:_0x2675bd,directPath:_0x99b35,fileSha256:_0x5f4a48,mediaKey:_0x3fe6fc,senderTimestampMs:_0x2b4a9e,..._0x13d58e}=_0x299278;(_0x596d0a===_0x30dee8(0x376)||_0x596d0a==='listResponseMessage')&&(delete _0x13d58e['title'],delete _0x13d58e['description']),typeof _0x299278==_0x30dee8(0x497)?_0xcd715f={'text':_0x299278,'type':_0x596d0a||'conversation',..._0x35a1fb&&{'edited':_0x35a1fb},..._0x214706&&{'quoted':_0x214706},..._0x288354&&{'reaction':_0x288354}}:_0xcd715f={'text':_0x5d1902,..._0x13d58e,..._0x596d0a===_0x30dee8(0x4e2)?{'poll_id':_0x299278['pollCreationMessageKey']['id'],'quoted':_0x299278[_0x30dee8(0x47a)]['id'],'vote':_0x370595}:{},..._0x596d0a==='listResponseMessage'?{'vote':_0x370595}:{},'type':_0x596d0a,..._0x35a1fb&&{'edited':_0x35a1fb},..._0x214706&&{'quoted':_0x214706},..._0x288354&&{'reaction':_0x288354},...(_0x596d0a===_0x30dee8(0x832)||_0x596d0a===_0x30dee8(0x85e)||_0x596d0a===_0x30dee8(0x7c4)||_0x596d0a==='listMessage')&&{'convertedOptions':_0xcd715f[_0x30dee8(0x1c0)]}};}return{'messageType':_0x596d0a,'messageContent':_0x299278,'message_normalized':_0xcd715f};}catch(_0x470144){return console['error'](_0x30dee8(0x718),_0x470144),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x44fc87(0x3e3)](),this[_0x44fc87(0x43e)][_0x44fc87(0x5bc)]={'count':0x0},this[_0x44fc87(0x43e)][_0x44fc87(0x474)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set[a0_0x581af9(0x41a)](_0x4e1f4c){const _0x30a777=a0_0x581af9;if(!_0x4e1f4c){this['instance'][_0x30a777(0x428)]=(0x0,Or['v4'])();return;}this[_0x30a777(0x43e)]['name']=_0x4e1f4c,this[_0x30a777(0x2ae)](_0x30a777(0x445),{'instance':this['instance'][_0x30a777(0x428)],'status':_0x30a777(0x5f1)});}get[a0_0x581af9(0x41a)](){const _0x6b9aef=a0_0x581af9;return this[_0x6b9aef(0x43e)]['name'];}get[a0_0x581af9(0x40d)](){const _0x1eafcc=a0_0x581af9;return this[_0x1eafcc(0x43e)]['wuid'];}async[a0_0x581af9(0x2e7)](){const _0x324be0=a0_0x581af9;let _0x28cd6c=this[_0x324be0(0x1f1)][_0x324be0(0x74e)]?.[_0x324be0(0x428)]??this[_0x324be0(0x1f1)][_0x324be0(0x74e)]?.[_0x324be0(0x468)];if(!_0x28cd6c){if(this['configService'][_0x324be0(0x488)](_0x324be0(0x4d4))[_0x324be0(0x54e)]){let _0x3fbfac=await R[_0x324be0(0x62c)]()['db'](this[_0x324be0(0x3f1)]['get']('DATABASE')[_0x324be0(0x22c)][_0x324be0(0x559)]+_0x324be0(0x393))['collection'](this[_0x324be0(0x41a)])[_0x324be0(0x841)]({'_id':_0x324be0(0x43f)});if(_0x3fbfac){let _0x471480=JSON['parse'](JSON['stringify'](_0x3fbfac),m['BufferJSON'][_0x324be0(0x858)]);_0x28cd6c=_0x471480['me']?.[_0x324be0(0x428)]||_0x471480['me']?.['verifiedName'];}}else{if((0x0,Te[_0x324be0(0x694)])((0x0,q[_0x324be0(0x495)])(ge,this['instanceName'],_0x324be0(0x566)))){let _0x7af618=JSON['parse']((0x0,Te[_0x324be0(0x6c3)])((0x0,q[_0x324be0(0x495)])(ge,this[_0x324be0(0x41a)],_0x324be0(0x566)),{'encoding':'utf-8'}));_0x28cd6c=_0x7af618['me']?.[_0x324be0(0x428)]||_0x7af618['me']?.['verifiedName'];}}}return _0x28cd6c;}get[a0_0x581af9(0x5bb)](){const _0x52ac1b=a0_0x581af9;return this[_0x52ac1b(0x43e)]['profilePictureUrl'];}get[a0_0x581af9(0x44d)](){const _0x5d98dd=a0_0x581af9;return this[_0x5d98dd(0x43e)][_0x5d98dd(0x5bc)]?.[_0x5d98dd(0x472)]?{'pairingCode':this['instance'][_0x5d98dd(0x5bc)]?.['pairingCode']}:{'code':this[_0x5d98dd(0x43e)]['qrcode']?.[_0x5d98dd(0x347)],'base64':this['instance'][_0x5d98dd(0x5bc)]?.[_0x5d98dd(0x3ed)]};}async[a0_0x581af9(0x5a8)](){const _0x3cfcda=a0_0x581af9;let _0xc3846c=await this[_0x3cfcda(0x456)][_0x3cfcda(0x7fd)][_0x3cfcda(0x53f)](this[_0x3cfcda(0x41a)]);this[_0x3cfcda(0x4cc)]['url']=_0xc3846c?.[_0x3cfcda(0x683)],this[_0x3cfcda(0x4cc)]['enabled']=_0xc3846c?.[_0x3cfcda(0x3db)],this[_0x3cfcda(0x4cc)][_0x3cfcda(0x689)]=_0xc3846c?.[_0x3cfcda(0x689)],this[_0x3cfcda(0x4cc)][_0x3cfcda(0x81e)]=_0xc3846c?.['STATUS_INSTANCE'],this['localWebhook'][_0x3cfcda(0x1bc)]=_0xc3846c?.[_0x3cfcda(0x1bc)],this[_0x3cfcda(0x4cc)][_0x3cfcda(0x7b7)]=_0xc3846c?.[_0x3cfcda(0x7b7)],this['localWebhook'][_0x3cfcda(0x1b7)]=_0xc3846c?.['MESSAGES_UPSERT'],this['localWebhook'][_0x3cfcda(0x6d3)]=_0xc3846c?.[_0x3cfcda(0x6d3)],this['localWebhook'][_0x3cfcda(0x754)]=_0xc3846c?.[_0x3cfcda(0x754)],this[_0x3cfcda(0x4cc)][_0x3cfcda(0x5c3)]=_0xc3846c?.[_0x3cfcda(0x5c3)],this[_0x3cfcda(0x4cc)][_0x3cfcda(0x648)]=_0xc3846c?.[_0x3cfcda(0x648)],this['localWebhook'][_0x3cfcda(0x850)]=_0xc3846c?.[_0x3cfcda(0x850)],this[_0x3cfcda(0x4cc)][_0x3cfcda(0x4ed)]=_0xc3846c?.[_0x3cfcda(0x4ed)],this[_0x3cfcda(0x4cc)][_0x3cfcda(0x479)]=_0xc3846c?.[_0x3cfcda(0x479)],this[_0x3cfcda(0x4cc)][_0x3cfcda(0x3e9)]=_0xc3846c?.['CHATS_DELETE'],this[_0x3cfcda(0x4cc)][_0x3cfcda(0x505)]=_0xc3846c?.['CONTACTS_SET'],this[_0x3cfcda(0x4cc)][_0x3cfcda(0x22a)]=_0xc3846c?.['CONTACTS_UPSERT'],this[_0x3cfcda(0x4cc)][_0x3cfcda(0x284)]=_0xc3846c?.['CONTACTS_UPDATE'],this['localWebhook'][_0x3cfcda(0x49f)]=_0xc3846c?.['PRESENCE_UPDATE'],this[_0x3cfcda(0x4cc)][_0x3cfcda(0x7e3)]=_0xc3846c?.[_0x3cfcda(0x7e3)],this[_0x3cfcda(0x4cc)][_0x3cfcda(0x5d6)]=_0xc3846c?.[_0x3cfcda(0x5d6)],this[_0x3cfcda(0x4cc)][_0x3cfcda(0x7ae)]=_0xc3846c?.[_0x3cfcda(0x7ae)];}async[a0_0x581af9(0x398)](_0x31f6a7){const _0xe3b5d0=a0_0x581af9;let _0x548777=[_0xe3b5d0(0x4e8),_0xe3b5d0(0x683),_0xe3b5d0(0x3db),_0xe3b5d0(0x689),'STATUS_INSTANCE',_0xe3b5d0(0x1bc),_0xe3b5d0(0x6d3),_0xe3b5d0(0x1b7),_0xe3b5d0(0x7b7),_0xe3b5d0(0x754),_0xe3b5d0(0x5c3),_0xe3b5d0(0x648),'CHATS_SET',_0xe3b5d0(0x4ed),_0xe3b5d0(0x479),_0xe3b5d0(0x3e9),_0xe3b5d0(0x505),_0xe3b5d0(0x22a),_0xe3b5d0(0x284),_0xe3b5d0(0x49f),_0xe3b5d0(0x7e3),_0xe3b5d0(0x5d6),_0xe3b5d0(0x7ae)],_0x31b0bd={};return _0x548777[_0xe3b5d0(0x386)](_0x2f564e=>{_0x31f6a7[_0x2f564e]!==void 0x0&&(_0x31b0bd[_0x2f564e]=_0x31f6a7[_0x2f564e]);}),_0x31b0bd[_0xe3b5d0(0x683)]&&(_0x31b0bd[_0xe3b5d0(0x683)]=_0x31b0bd[_0xe3b5d0(0x683)][_0xe3b5d0(0x7c5)]()),await this[_0xe3b5d0(0x456)][_0xe3b5d0(0x7fd)][_0xe3b5d0(0x5f0)](_0x31b0bd,this[_0xe3b5d0(0x41a)]),Object[_0xe3b5d0(0x5e4)](this['localWebhook'],_0x31b0bd),await this[_0xe3b5d0(0x456)][_0xe3b5d0(0x7fd)][_0xe3b5d0(0x53f)](this[_0xe3b5d0(0x41a)]);}async['findWebhook'](){const _0x58bd89=a0_0x581af9;return await this[_0x58bd89(0x456)]['webhook'][_0x58bd89(0x53f)](this[_0x58bd89(0x41a)]);}async[a0_0x581af9(0x2ae)](_0x4266b2,_0x5499b4){const _0x31d1cd=a0_0x581af9;let _0x1f5fc2=_0x4266b2[_0x31d1cd(0x614)](/[\.-]/gm,'_')['toUpperCase'](),_0xdb7208=this[_0x31d1cd(0x4cc)]['enabled']&&(0x0,P[_0x31d1cd(0x4d5)])(this['localWebhook']['url'])?this[_0x31d1cd(0x4cc)]['url']+(this[_0x31d1cd(0x4cc)][_0x31d1cd(0x689)]?this[_0x31d1cd(0x72b)][_0x4266b2]:''):null,_0xa8f362=this['localWebhook'][_0x1f5fc2],_0x529795=ce&&ce[_0x31d1cd(0x3db)]&&(0x0,P[_0x31d1cd(0x4d5)])(ce['url'])?ce[_0x31d1cd(0x683)]+(ce['local_map']?this['webhookMap'][_0x4266b2]:''):null,_0x10cfc8=ce?ce[_0x1f5fc2]:null;if(_0xa8f362&&_0xdb7208)try{await Z['default']['create']({'baseURL':_0xdb7208})[_0x31d1cd(0x245)]('',{'event':_0x4266b2,'instance':this['instance']['name'],'apikey':this[_0x31d1cd(0x43e)][_0x31d1cd(0x626)],'data':_0x5499b4}),this[_0x31d1cd(0x542)][_0x31d1cd(0x679)](this[_0x31d1cd(0x41a)]+'\x20('+this[_0x31d1cd(0x43e)][_0x31d1cd(0x40d)]+_0x31d1cd(0x2d2)+_0x4266b2+':\x20'+_0xdb7208);}catch{this[_0x31d1cd(0x542)][_0x31d1cd(0x3cf)](this[_0x31d1cd(0x41a)]+'\x20('+this['instance']['wuid']+_0x31d1cd(0x2b9)+_0x4266b2+':\x20'+_0xdb7208);}if(_0x10cfc8&&_0x529795)try{await Z['default'][_0x31d1cd(0x5f0)]({'baseURL':_0x529795})[_0x31d1cd(0x245)]('',{'event':_0x4266b2,'instance':this[_0x31d1cd(0x43e)][_0x31d1cd(0x428)],'apikey':this[_0x31d1cd(0x43e)][_0x31d1cd(0x626)],'data':_0x5499b4}),this[_0x31d1cd(0x542)][_0x31d1cd(0x679)](this[_0x31d1cd(0x41a)]+'\x20('+this[_0x31d1cd(0x43e)][_0x31d1cd(0x40d)]+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x4266b2+':\x20'+_0x529795);}catch{this[_0x31d1cd(0x542)][_0x31d1cd(0x3cf)](this['instanceName']+'\x20('+this[_0x31d1cd(0x43e)][_0x31d1cd(0x40d)]+_0x31d1cd(0x24c)+_0x4266b2+':\x20'+_0x529795);}}async[a0_0x581af9(0x421)]({qr:_0x5a7b83,connection:_0x1fa883,lastDisconnect:_0x2ff19e}){const _0x15ab48=a0_0x581af9;if(_0x5a7b83){if(this[_0x15ab48(0x43e)]['qrcode'][_0x15ab48(0x6c5)]===Ni)return this[_0x15ab48(0x2ae)](_0x15ab48(0x531),{'message':_0x15ab48(0x56f),'statusCode':m[_0x15ab48(0x348)][_0x15ab48(0x78c)]}),this[_0x15ab48(0x3f9)]={'state':_0x15ab48(0x1ed),'statusReason':m[_0x15ab48(0x348)]['connectionClosed']},this[_0x15ab48(0x2ae)](_0x15ab48(0x395),{'instance':this['instance']['name'],...this[_0x15ab48(0x3f9)]}),this[_0x15ab48(0x2ae)](_0x15ab48(0x445),{'instance':this['instance']['name'],'status':_0x15ab48(0x35f)}),this[_0x15ab48(0x456)]['auth'][_0x15ab48(0x5f0)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x15ab48(0x23e)]()},this[_0x15ab48(0x43e)][_0x15ab48(0x428)]),this[_0x15ab48(0x81a)]=!0x0,this[_0x15ab48(0x67a)]['emit']('no.connection',this[_0x15ab48(0x43e)][_0x15ab48(0x428)]);this['instance']['qrcode']['count']++;let _0x56ba17={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x15ab48(0x457),'dark':'#000000'}};Ar[_0x15ab48(0x258)][_0x15ab48(0x3e2)](_0x5a7b83,_0x56ba17,(_0x2584af,_0x505dd6)=>{const _0x3738c6=_0x15ab48;if(_0x2584af){this[_0x3738c6(0x542)][_0x3738c6(0x3cf)](this[_0x3738c6(0x41a)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x2584af instanceof Error?_0x2584af[_0x3738c6(0x390)]:JSON[_0x3738c6(0x7e4)](_0x2584af,null,0x2)));return;}this['instance'][_0x3738c6(0x5bc)]['base64']=_0x505dd6,this[_0x3738c6(0x43e)]['qrcode'][_0x3738c6(0x347)]=_0x5a7b83,!this[_0x3738c6(0x5ac)]&&this[_0x3738c6(0x2ae)](_0x3738c6(0x531),{'qrcode':{'instance':this[_0x3738c6(0x43e)][_0x3738c6(0x428)],'pairingCode':this[_0x3738c6(0x43e)][_0x3738c6(0x5bc)]['pairingCode'],'code':_0x5a7b83,'base64':_0x505dd6}});}),this['phoneNumber']?this[_0x15ab48(0x43e)][_0x15ab48(0x5bc)][_0x15ab48(0x472)]||(await(0x0,m[_0x15ab48(0x4d1)])(0x7d0),this[_0x15ab48(0x43e)]['qrcode'][_0x15ab48(0x472)]=await this[_0x15ab48(0x1f1)][_0x15ab48(0x490)](this['phoneNumber'])):this[_0x15ab48(0x43e)][_0x15ab48(0x5bc)][_0x15ab48(0x472)]=null,Ir['default'][_0x15ab48(0x44e)](_0x5a7b83,{'small':!0x0},_0x3d7aee=>this[_0x15ab48(0x542)][_0x15ab48(0x679)]('\x0a{\x20instance:\x20'+this['instance'][_0x15ab48(0x428)]+_0x15ab48(0x7fb)+this[_0x15ab48(0x43e)][_0x15ab48(0x5bc)]['count']+_0x15ab48(0x51d)+this[_0x15ab48(0x43e)]['qrcode'][_0x15ab48(0x472)]+_0x15ab48(0x5aa)+_0x3d7aee));}if(_0x1fa883&&(this[_0x15ab48(0x3f9)]={'state':_0x1fa883,'statusReason':_0x2ff19e?.[_0x15ab48(0x3cf)]?.['output']?.[_0x15ab48(0x2c7)]??0xc8},this[_0x15ab48(0x2ae)]('connection.update',{'instance':this[_0x15ab48(0x43e)]['name'],...this[_0x15ab48(0x3f9)]})),_0x1fa883===_0x15ab48(0x7f5)){if(this[_0x15ab48(0x545)]++,this[_0x15ab48(0x837)][_0x15ab48(0x71d)](Date[_0x15ab48(0x23e)]()),this['reconnectTimestamps']=this['reconnectTimestamps'][_0x15ab48(0x378)](_0x11d2c9=>Date['now']()-_0x11d2c9<this[_0x15ab48(0x77d)]),_0x2ff19e[_0x15ab48(0x3cf)]?.[_0x15ab48(0x5a2)]?.['statusCode']!==m[_0x15ab48(0x348)][_0x15ab48(0x482)]&&this[_0x15ab48(0x837)][_0x15ab48(0x1ee)]<=this[_0x15ab48(0x6e0)])console[_0x15ab48(0x679)](this[_0x15ab48(0x41a)]+_0x15ab48(0x6e1)+this[_0x15ab48(0x545)]+'/'+this['MAX_RECONNECT_ATTEMPTS']+_0x15ab48(0x279)),console[_0x15ab48(0x679)]('Tentando\x20reconectar...'),await this[_0x15ab48(0x583)]();else{this[_0x15ab48(0x2ae)](_0x15ab48(0x445),{'instance':this['instance']['name'],'status':'removed'}),this[_0x15ab48(0x43e)]['ScheduleMessage'][_0x15ab48(0x844)]=!0x1,this[_0x15ab48(0x456)]['webhook'][_0x15ab48(0x5e1)](this[_0x15ab48(0x41a)]),this[_0x15ab48(0x456)][_0x15ab48(0x429)]['create']({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x15ab48(0x43e)][_0x15ab48(0x428)]);try{this[_0x15ab48(0x542)][_0x15ab48(0x628)](this[_0x15ab48(0x41a)]+'\x20('+this[_0x15ab48(0x43e)]['wuid']+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x303075=await this[_0x15ab48(0x456)]['message'][_0x15ab48(0x527)](this[_0x15ab48(0x43e)][_0x15ab48(0x40d)]);_0x303075[_0x15ab48(0x227)]?this[_0x15ab48(0x542)]['verbose'](this[_0x15ab48(0x41a)]+'\x20('+this[_0x15ab48(0x43e)][_0x15ab48(0x40d)]+_0x15ab48(0x1b9)):console[_0x15ab48(0x3cf)](_0x15ab48(0x27e),_0x303075['error']);}catch(_0x2a9512){console['error']('Falha\x20ao\x20deletar\x20mensagens\x20antigas:',_0x2a9512);}this[_0x15ab48(0x43e)][_0x15ab48(0x474)]['delayMessage']!==null&&(this[_0x15ab48(0x542)][_0x15ab48(0x628)](this[_0x15ab48(0x41a)]+'\x20('+this[_0x15ab48(0x43e)][_0x15ab48(0x40d)]+_0x15ab48(0x48f)),clearInterval(this[_0x15ab48(0x43e)][_0x15ab48(0x474)][_0x15ab48(0x7b4)]),this[_0x15ab48(0x43e)]['ScheduleMessage']['delayMessage']=null),this[_0x15ab48(0x542)]['verbose'](this[_0x15ab48(0x41a)]+'\x20('+this['instance'][_0x15ab48(0x40d)]+_0x15ab48(0x42d)),this['AutomateSystem']=null,this[_0x15ab48(0x67a)][_0x15ab48(0x2dd)](_0x15ab48(0x6a9),this[_0x15ab48(0x43e)][_0x15ab48(0x428)],_0x15ab48(0x1dd)),this[_0x15ab48(0x1f1)]?.['ws']?.[_0x15ab48(0x7f5)](),this[_0x15ab48(0x1f1)][_0x15ab48(0x526)](new Error(_0x15ab48(0x62a)));}}if(_0x1fa883===_0x15ab48(0x610)){this[_0x15ab48(0x1f1)]['ev']['flush'](),this[_0x15ab48(0x454)],this[_0x15ab48(0x43e)]['wuid']=this['client'][_0x15ab48(0x74e)]['id']['replace'](/:\d+/,'')[_0x15ab48(0x614)](_0x15ab48(0x6e9),''),this[_0x15ab48(0x43e)][_0x15ab48(0x5bb)]=(await this[_0x15ab48(0x5d7)](this[_0x15ab48(0x43e)][_0x15ab48(0x40d)]+_0x15ab48(0x6e9)))[_0x15ab48(0x5bb)],this[_0x15ab48(0x456)]['auth'][_0x15ab48(0x5f0)]({'online':!0x0,'owner':this[_0x15ab48(0x43e)][_0x15ab48(0x40d)],'lastDisconnect':null},this[_0x15ab48(0x43e)][_0x15ab48(0x428)]);let _0x59d404=_0x15ab48(0x510)+this[_0x15ab48(0x43e)]['wuid'],_0x3cd21f=0x28,_0x430dfa=Math[_0x15ab48(0x813)]((_0x3cd21f-_0x59d404[_0x15ab48(0x1ee)])/0x2),_0x9c9b59='\x20'['repeat'](_0x430dfa),_0xad739a=_0x15ab48(0x726),_0x277477=_0x15ab48(0x363)+this['instance'][_0x15ab48(0x428)],_0x18869b=(''+_0x9c9b59+_0x59d404+_0x9c9b59)[_0x15ab48(0x2ef)](_0x3cd21f,'\x20'),_0x257c7d=(''+_0x9c9b59+_0xad739a+_0x9c9b59)[_0x15ab48(0x2ef)](_0x3cd21f,'\x20'),_0x1d4e71=(''+_0x9c9b59+_0x277477+_0x9c9b59)[_0x15ab48(0x2ef)](_0x3cd21f,'\x20'),_0x3b93ac=Math[_0x15ab48(0x225)](_0x18869b[_0x15ab48(0x1ee)],_0x257c7d['length'],_0x1d4e71[_0x15ab48(0x1ee)]),_0x3e5688=_0x18869b['padEnd'](_0x3b93ac,'\x20'),_0x1c1c6c=_0x257c7d[_0x15ab48(0x2ef)](_0x3b93ac,'\x20'),_0x12d17e=_0x1d4e71[_0x15ab48(0x2ef)](_0x3b93ac,'\x20');this[_0x15ab48(0x542)][_0x15ab48(0x31f)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'['repeat'](_0x3b93ac)+_0x15ab48(0x6d6)+_0x1c1c6c+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x12d17e+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x3e5688+_0x15ab48(0x2fc)+'─'[_0x15ab48(0x66f)](_0x3b93ac)+'┘')[_0x15ab48(0x614)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x15ab48(0x43e)]['ScheduleMessage']['isConnected']=!0x0;}}[a0_0x581af9(0x454)](){const _0x3f0f8b=a0_0x581af9;this[_0x3f0f8b(0x545)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x581af9(0x38a)](_0x29b9ce,_0x1bc9b6=!0x1){const _0x42e54f=a0_0x581af9;try{let _0x2ceffa=await this[_0x42e54f(0x456)][_0x42e54f(0x390)][_0x42e54f(0x53f)]({'where':{'_id':_0x29b9ce['id']}},this[_0x42e54f(0x43e)][_0x42e54f(0x40d)]);return _0x1bc9b6?_0x2ceffa[0x0]:_0x2ceffa[0x0][_0x42e54f(0x390)];}catch{return{'conversation':''};}}[a0_0x581af9(0x3e3)](){const _0x57eeee=a0_0x581af9;let _0x4072f3=this[_0x57eeee(0x3f1)][_0x57eeee(0x488)](_0x57eeee(0x819)),_0x2e467f=this[_0x57eeee(0x3f1)][_0x57eeee(0x488)](_0x57eeee(0x4d4));_0x4072f3?.[_0x57eeee(0x2cb)]&&!_0x2e467f[_0x57eeee(0x54e)]&&setInterval(()=>{const _0x4dbb15=_0x57eeee;try{for(let [_0x23c086,_0x9ca95c]of Object['entries'](_0x4072f3))_0x9ca95c===!0x0&&(0x0,Ft[_0x4dbb15(0x397)])(_0x4dbb15(0x5d3)+(0x0,q['join'])(this[_0x4dbb15(0x458)],_0x23c086[_0x4dbb15(0x61a)](),this[_0x4dbb15(0x43e)][_0x4dbb15(0x40d)])+_0x4dbb15(0x316));}catch{}},(_0x4072f3?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async['defineAuthState'](){const _0x2ba9d1=a0_0x581af9;let _0x5b137d=this[_0x2ba9d1(0x3f1)][_0x2ba9d1(0x488)](_0x2ba9d1(0x4d4)),_0x1e064e=this[_0x2ba9d1(0x3f1)][_0x2ba9d1(0x488)](_0x2ba9d1(0x592));return _0x1e064e?.[_0x2ba9d1(0x54e)]?await Rs(_0x1e064e,this[_0x2ba9d1(0x43e)][_0x2ba9d1(0x428)]):_0x5b137d[_0x2ba9d1(0x54e)]?await Ns(this[_0x2ba9d1(0x43e)][_0x2ba9d1(0x428)]):await(0x0,m['useMultiFileAuthState'])((0x0,q['join'])(ge,this[_0x2ba9d1(0x43e)][_0x2ba9d1(0x428)]));}async[a0_0x581af9(0x6f8)](){const _0x1bcd9f=a0_0x581af9;let _0x8719c9=()=>Math['floor'](Math[_0x1bcd9f(0x744)]()*0x2711)+0x7d0,_0x444758=async()=>{const _0x1dce12=_0x1bcd9f;if(!this[_0x1dce12(0x43e)][_0x1dce12(0x474)][_0x1dce12(0x844)]){this[_0x1dce12(0x542)][_0x1dce12(0x628)](_0x1dce12(0x43c)),this[_0x1dce12(0x235)]=!0x1;return;}if(this[_0x1dce12(0x43e)][_0x1dce12(0x40d)]&&this[_0x1dce12(0x27b)]&&this['instance'][_0x1dce12(0x474)][_0x1dce12(0x7b4)]!==null&&this[_0x1dce12(0x43e)][_0x1dce12(0x474)]['delayMessage']!==void 0x0){let _0x3a5836=Math[_0x1dce12(0x52d)](this[_0x1dce12(0x43e)]['ScheduleMessage'][_0x1dce12(0x7b4)]/0xea60);this[_0x1dce12(0x542)][_0x1dce12(0x628)](this[_0x1dce12(0x41a)]+'\x20('+this[_0x1dce12(0x43e)][_0x1dce12(0x40d)]+_0x1dce12(0x4e4)+_0x3a5836+_0x1dce12(0x494)),this[_0x1dce12(0x235)]=!0x1;return;}else this[_0x1dce12(0x43e)][_0x1dce12(0x40d)]&&(this['logger'][_0x1dce12(0x628)](this[_0x1dce12(0x41a)]+'\x20('+this['instance'][_0x1dce12(0x40d)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x1dce12(0x27b)]||(await this[_0x1dce12(0x36e)](),this[_0x1dce12(0x1cd)]()),(this['instance']['ScheduleMessage']['delayMessage']===null||this['instance']['ScheduleMessage'][_0x1dce12(0x7b4)]===void 0x0)&&await this[_0x1dce12(0x422)]());if(this[_0x1dce12(0x235)]){let _0x5b7463=_0x8719c9();this[_0x1dce12(0x542)][_0x1dce12(0x628)](this[_0x1dce12(0x41a)]+_0x1dce12(0x2e2)+_0x5b7463/0x3e8+_0x1dce12(0x3e0)),setTimeout(_0x444758,_0x5b7463);}};if(this[_0x1bcd9f(0x235)])return;this['isRunning']=!0x0;let _0x35ec25=_0x8719c9();setTimeout(_0x444758,_0x35ec25);}async[a0_0x581af9(0x78e)](_0x245f5e=0x0,_0x84c264=!0x1){const _0x546b07=a0_0x581af9;try{let _0x4c8321=this[_0x546b07(0x3f1)][_0x546b07(0x488)]('PROXY');if(_0x4c8321!==0x1||typeof _0x4c8321>'u'||_0x245f5e>=0x5)return this[_0x546b07(0x542)][_0x546b07(0x5ad)](_0x546b07(0x1b5)),this[_0x546b07(0x456)][_0x546b07(0x429)][_0x546b07(0x5f0)]({'ip':null},this['instance'][_0x546b07(0x428)]),{};this['logger'][_0x546b07(0x628)](this[_0x546b07(0x41a)]+_0x546b07(0x39a)+(_0x245f5e+0x1)+'\x20de\x20conectar\x20com\x20IP\x20extra.');let _0x2b5f38;if(!_0x84c264){let _0x5af910=await this['repository'][_0x546b07(0x429)][_0x546b07(0x53f)](this[_0x546b07(0x41a)]);_0x5af910&&_0x5af910['ip']&&(_0x2b5f38=Mr(_0x5af910['ip']));}if((!_0x2b5f38||!Ts(_0x2b5f38))&&(this[_0x546b07(0x542)]['warn'](this[_0x546b07(0x41a)]+':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.'),_0x2b5f38=vr()),_0x2b5f38&&Ts(_0x2b5f38)){let _0x3c7857=_0x2b5f38[_0x546b07(0x4c6)]&&_0x2b5f38[_0x546b07(0x73d)]?_0x2b5f38['protocol']+_0x546b07(0x236)+_0x2b5f38[_0x546b07(0x4c6)]+':'+_0x2b5f38[_0x546b07(0x73d)]+'@'+_0x2b5f38['host']+':'+_0x2b5f38[_0x546b07(0x6ab)]:_0x2b5f38[_0x546b07(0x4a5)]+_0x546b07(0x236)+_0x2b5f38[_0x546b07(0x49d)]+':'+_0x2b5f38[_0x546b07(0x6ab)];return await this[_0x546b07(0x5a1)](_0x3c7857,_0x2b5f38['host'])?(this['logger']['verbose'](this[_0x546b07(0x41a)]+_0x546b07(0x652)),this['repository'][_0x546b07(0x429)][_0x546b07(0x5f0)]({'ip':_0x2b5f38['host']},this[_0x546b07(0x43e)][_0x546b07(0x428)]),{'agent':new jt[(_0x546b07(0x4d6))](_0x3c7857),'fetchAgent':new jt[(_0x546b07(0x4d6))](_0x3c7857)}):(this[_0x546b07(0x542)][_0x546b07(0x5ad)](this[_0x546b07(0x41a)]+_0x546b07(0x5cb)),await(0x0,m[_0x546b07(0x4d1)])(0xc8),this[_0x546b07(0x78e)](_0x245f5e+0x1,!0x0));}else return this['logger'][_0x546b07(0x5ad)](this[_0x546b07(0x41a)]+':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...'),await(0x0,m[_0x546b07(0x4d1)])(0xc8),this[_0x546b07(0x78e)](_0x245f5e+0x1,!0x0);}catch(_0x5b2ac2){return this[_0x546b07(0x542)][_0x546b07(0x3cf)](this[_0x546b07(0x41a)]+_0x546b07(0x3c5)+_0x5b2ac2[_0x546b07(0x390)]),{};}}async['testProxy'](_0xe395d2,_0x19951b){const _0x28b010=a0_0x581af9;let _0x407619=new jt['HttpsProxyAgent'](_0xe395d2),_0x205d69=0x1388,_0x37a6f8=[{'url':_0x28b010(0x23d),'parse':_0x36f57b=>_0x36f57b['ip']},{'url':'https://api.ipify.org?format=json','parse':_0x2a7924=>_0x2a7924['ip']},{'url':_0x28b010(0x335),'parse':_0x49444e=>_0x49444e['match'](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x28b010(0x2bf),'parse':_0x49bc77=>_0x49bc77['ip']},{'url':_0x28b010(0x73a),'parse':_0x3596ae=>_0x3596ae[_0x28b010(0x7c5)]()},{'url':_0x28b010(0x4de),'parse':_0x24d41a=>_0x24d41a[_0x28b010(0x7c5)]()},{'url':_0x28b010(0x65f),'parse':_0x6bdbef=>_0x6bdbef[_0x28b010(0x6fd)]},{'url':_0x28b010(0x6c0),'parse':_0x97fca7=>_0x97fca7['trim']()},{'url':_0x28b010(0x772),'parse':_0xf318c4=>_0xf318c4[_0x28b010(0x7c5)]()}],_0x237163=_0x37a6f8[Math[_0x28b010(0x813)](Math[_0x28b010(0x744)]()*_0x37a6f8[_0x28b010(0x1ee)])];try{let _0x291571=await Z[_0x28b010(0x258)]['get'](_0x237163['url'],{'httpsAgent':_0x407619,'timeout':_0x205d69}),_0x396f51=_0x237163[_0x28b010(0x69e)](_0x291571[_0x28b010(0x825)]);return _0x396f51===_0x19951b?(this['logger'][_0x28b010(0x628)](this[_0x28b010(0x41a)]+_0x28b010(0x426)+_0x19951b+_0x28b010(0x854)+_0x396f51+_0x28b010(0x4c4)),!0x0):(this[_0x28b010(0x542)]['error'](this['instanceName']+_0x28b010(0x426)+_0x19951b+'\x20-\x20retornado:\x20'+_0x396f51+_0x28b010(0x220)),!0x1);}catch(_0xa78eaf){return this[_0x28b010(0x542)]['error'](this[_0x28b010(0x41a)]+_0x28b010(0x20c)+_0x237163['url']+':\x20'+_0xa78eaf['message']),!0x1;}}async[a0_0x581af9(0x583)](_0x6186a0){const _0x2a000d=a0_0x581af9;try{let _0x3dda79=await this['loadproxy']();this[_0x2a000d(0x5a8)](),this[_0x2a000d(0x43e)][_0x2a000d(0x626)]=(await this['repository'][_0x2a000d(0x429)][_0x2a000d(0x53f)](this[_0x2a000d(0x43e)]['name']))[_0x2a000d(0x626)],this[_0x2a000d(0x43e)][_0x2a000d(0x51a)]=await this[_0x2a000d(0x477)]();let {version:_0x292703}=await(0x0,m['fetchLatestBaileysVersion'])(),_0x4f2a7e=[xr,Ds,(0x0,Os[_0x2a000d(0x5f3)])()],_0xff43f7={..._0x3dda79,'auth':{'creds':this[_0x2a000d(0x43e)][_0x2a000d(0x51a)][_0x2a000d(0x730)][_0x2a000d(0x43f)],'keys':(0x0,m[_0x2a000d(0x76d)])(this['instance'][_0x2a000d(0x51a)]['state'][_0x2a000d(0x543)],(0x0,$t['default'])({'level':_0x2a000d(0x3cf)}))},'logger':(0x0,$t['default'])({'level':_0x2a000d(0x3cf)}),'printQRInTerminal':!0x1,'browser':_0x6186a0?[_0x2a000d(0x745),Ds,(0x0,Os[_0x2a000d(0x5f3)])()]:_0x4f2a7e,'version':_0x292703,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x3401a7=>{const _0x17c62f=_0x2a000d;let _0x108a98=_0x3401a7['endsWith'](_0x17c62f(0x569)),_0x12bf8a=this[_0x17c62f(0x4cc)]?.['groups_ignore']&&_0x3401a7[_0x17c62f(0x483)](_0x17c62f(0x594));return _0x108a98||(0x0,m[_0x17c62f(0x26e)])(_0x3401a7)||_0x12bf8a;},'msgRetryCounterCache':this[_0x2a000d(0x300)],'getMessage':async _0x4cddad=>await this[_0x2a000d(0x38a)](_0x4cddad),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x2a000d(0x48d)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x1841d3=>(_0x1841d3[_0x2a000d(0x376)]?.[_0x2a000d(0x584)]==m['proto']['Message']['ListMessage'][_0x2a000d(0x20b)][_0x2a000d(0x3b9)]&&(_0x1841d3=JSON[_0x2a000d(0x69e)](JSON['stringify'](_0x1841d3)),_0x1841d3[_0x2a000d(0x376)][_0x2a000d(0x584)]=m[_0x2a000d(0x5e3)][_0x2a000d(0x735)][_0x2a000d(0x54b)][_0x2a000d(0x20b)][_0x2a000d(0x67e)]),_0x1841d3)};return this[_0x2a000d(0x81a)]=!0x1,this['client']=(0x0,m[_0x2a000d(0x258)])(_0xff43f7),this[_0x2a000d(0x50a)](),this['phoneNumber']=_0x6186a0,this[_0x2a000d(0x1f1)];}catch(_0x59ec32){throw this['logger'][_0x2a000d(0x3cf)](this['instanceName']+'\x20('+this[_0x2a000d(0x43e)]['wuid']+_0x2a000d(0x3bc)+(_0x59ec32 instanceof Error?_0x59ec32[_0x2a000d(0x390)]:JSON['stringify'](_0x59ec32,null,0x2))),new I(_0x59ec32?.[_0x2a000d(0x658)]());}}[a0_0x581af9(0x50a)](){const _0x4255e1=a0_0x581af9;this[_0x4255e1(0x1f1)]['ev'][_0x4255e1(0x4f8)](_0x102398=>{const _0x1775ae=_0x4255e1;if(!this[_0x1775ae(0x81a)]){let _0x3bea0e=this['configService'][_0x1775ae(0x488)](_0x1775ae(0x4d4));if(_0x102398[_0x1775ae(0x3f7)]){let _0x4290d2=_0x102398[_0x1775ae(0x3f7)];this['messageHandle'][_0x1775ae(0x3f7)](_0x4290d2);}if(_0x102398[_0x1775ae(0x3c6)]){let _0x49f850=_0x102398['labels.association'];this[_0x1775ae(0x4e0)][_0x1775ae(0x3c6)](_0x49f850);}if(_0x102398[_0x1775ae(0x395)]&&this[_0x1775ae(0x421)](_0x102398[_0x1775ae(0x395)]),_0x102398[_0x1775ae(0x508)]&&this[_0x1775ae(0x43e)][_0x1775ae(0x51a)][_0x1775ae(0x840)](),_0x102398[_0x1775ae(0x863)]){let _0x347a7e=_0x102398[_0x1775ae(0x863)];this[_0x1775ae(0x4e0)][_0x1775ae(0x863)](_0x347a7e,_0x3bea0e);}if(_0x102398[_0x1775ae(0x5c2)]){let _0x1e35c3=_0x102398['messages.upsert'];this['messageHandle'][_0x1775ae(0x5c2)](_0x1e35c3,_0x3bea0e);}if(_0x102398[_0x1775ae(0x5bf)]){let _0x4e489d=_0x102398[_0x1775ae(0x5bf)];_0x4e489d[_0x1775ae(0x386)](_0x51f09d=>{const _0x176e5f=_0x1775ae;if(Rr[_0x51f09d[_0x176e5f(0x686)]['id']]){this[_0x176e5f(0x1f1)]['ev']['emit'](_0x176e5f(0x5c2),{'messages':[_0x51f09d],'type':_0x176e5f(0x47d)}),delete Rr[_0x51f09d[_0x176e5f(0x686)]['id']];return;}}),this[_0x1775ae(0x4e0)][_0x1775ae(0x5bf)](_0x4e489d,_0x3bea0e);}if(_0x102398['presence.update']){let _0x321fce=_0x102398[_0x1775ae(0x4a2)];if(this['localWebhook']?.['groups_ignore']&&_0x321fce['id']['includes'](_0x1775ae(0x594)))return;this[_0x1775ae(0x2ae)]('presence.update',_0x321fce);}if(!this[_0x1775ae(0x4cc)]?.[_0x1775ae(0x7ae)]){if(_0x102398['groups.upsert']){let _0x7f818b=_0x102398[_0x1775ae(0x233)];this['groupHandler'][_0x1775ae(0x233)](_0x7f818b);}if(_0x102398[_0x1775ae(0x3cc)]){let _0x1b0f0e=_0x102398['groups.update'];this[_0x1775ae(0x30c)][_0x1775ae(0x3cc)](_0x1b0f0e);}if(_0x102398[_0x1775ae(0x6d4)]){let _0x240cab=_0x102398[_0x1775ae(0x6d4)];this[_0x1775ae(0x30c)][_0x1775ae(0x6d4)](_0x240cab);}}if(_0x102398[_0x1775ae(0x656)]){let _0x139b1e=_0x102398[_0x1775ae(0x656)];this[_0x1775ae(0x64b)][_0x1775ae(0x656)](_0x139b1e,_0x3bea0e);}if(_0x102398[_0x1775ae(0x608)]){let _0x453ad7=_0x102398[_0x1775ae(0x608)];this[_0x1775ae(0x64b)]['chats.update'](_0x453ad7,_0x3bea0e);}if(_0x102398[_0x1775ae(0x449)]){let _0x15e72b=_0x102398[_0x1775ae(0x449)];this[_0x1775ae(0x64b)][_0x1775ae(0x449)](_0x15e72b);}if(_0x102398[_0x1775ae(0x6a6)]){let _0x5064a8=_0x102398['contacts.upsert'];this[_0x1775ae(0x339)]['contacts.upsert'](_0x5064a8,_0x3bea0e);}if(_0x102398[_0x1775ae(0x331)]){let _0x2925d9=_0x102398[_0x1775ae(0x331)];this['contactHandle'][_0x1775ae(0x331)](_0x2925d9,_0x3bea0e);}}});}[a0_0x581af9(0x3a8)](_0x56521e){return new Promise(_0x3d561d=>setTimeout(_0x3d561d,_0x56521e));}[a0_0x581af9(0x7c2)](_0xbbcc7f){const _0x3cb84f=a0_0x581af9;_0xbbcc7f=_0xbbcc7f[_0x3cb84f(0x614)](/\D/g,'');let _0x5408d2=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)['exec'](_0xbbcc7f);if(_0x5408d2&&_0x5408d2[0x1]==='55'){let _0x11a214=_0x5408d2[0x2],_0x16b0dc=_0x5408d2[0x3],_0x576f93=_0x5408d2[0x4];if(parseInt(_0x11a214)>=0x1f&&_0x16b0dc==='9')return _0x5408d2[0x1]+_0x11a214+_0x576f93;}return _0xbbcc7f;}['createJid'](_0x4022d1){const _0x4dedc2=a0_0x581af9;return _0x4022d1[_0x4dedc2(0x2a9)](_0x4dedc2(0x594))||_0x4022d1[_0x4dedc2(0x2a9)](_0x4dedc2(0x6e9))||_0x4022d1['includes'](_0x4dedc2(0x3d4))?_0x4022d1:(_0x4022d1=_0x4022d1?.[_0x4dedc2(0x614)](/\s/g,'')[_0x4dedc2(0x614)](/\+/g,'')[_0x4dedc2(0x614)](/\(/g,'')[_0x4dedc2(0x614)](/\)/g,'')[_0x4dedc2(0x68e)](/\:/)[0x0][_0x4dedc2(0x68e)]('@')[0x0],_0x4022d1[_0x4dedc2(0x1ee)]>=0x12?(_0x4022d1=_0x4022d1[_0x4dedc2(0x614)](/[^\d-]/g,''),_0x4022d1+'@g.us'):(_0x4022d1=_0x4022d1['replace'](/\D/g,''),this[_0x4dedc2(0x7c2)](_0x4022d1)+_0x4dedc2(0x6e9)));}async[a0_0x581af9(0x420)](_0x10ff48){const _0x41eae1=a0_0x581af9;let _0x3f7ab4=this[_0x41eae1(0x63b)](_0x10ff48[_0x41eae1(0x557)]),_0x40784d=(await this['whatsappNumber']({'numbers':[_0x3f7ab4]}))[0x0];if(!_0x40784d['exists']&&!(0x0,m[_0x41eae1(0x6c1)])(_0x40784d[_0x41eae1(0x7b9)]))throw new w(_0x40784d);let _0xb2a024=(0x0,m[_0x41eae1(0x6c1)])(_0x3f7ab4)?_0x3f7ab4:_0x40784d['jid'];if((0x0,m[_0x41eae1(0x6c1)])(_0xb2a024))try{await this[_0x41eae1(0x1f1)]['groupMetadata'](_0xb2a024);}catch{throw new j('Group\x20not\x20found');}try{return await this['client'][_0x41eae1(0x7ec)](_0xb2a024),await this[_0x41eae1(0x1f1)]['sendPresenceUpdate'](_0x10ff48[_0x41eae1(0x3a7)],_0x3f7ab4),{'status':0xc8,'presence':_0x10ff48['presence']};}catch(_0x1757b9){throw new w(_0x1757b9[_0x41eae1(0x658)]());}}async[a0_0x581af9(0x595)](_0x38e3cc,_0x2ae822,_0x55ccfa){const _0x37815d=a0_0x581af9;let _0x460c02=await this['repository'][_0x37815d(0x484)][_0x37815d(0x841)]({'where':{'_id':_0x38e3cc}}),_0x1b60cf={'lastUpdate':Date[_0x37815d(0x23e)]()};if(_0x55ccfa||!_0x460c02?.[_0x37815d(0x1d0)]||Date[_0x37815d(0x23e)]()-_0x460c02['lastUpdate']>0x18*0x3c*0x3c*0x3e8)try{let _0x3dbe2e=(await this[_0x37815d(0x5d7)](_0x38e3cc))[_0x37815d(0x5bb)];_0x1b60cf[_0x37815d(0x571)]=_0x3dbe2e;}catch(_0x230999){console[_0x37815d(0x3cf)](_0x37815d(0x3ee),_0x230999);}return _0x2ae822&&_0x460c02?.[_0x37815d(0x428)]!==_0x2ae822&&(_0x1b60cf[_0x37815d(0x428)]=_0x2ae822),Object['keys'](_0x1b60cf)[_0x37815d(0x1ee)]>0x1&&(_0x460c02?await this['repository'][_0x37815d(0x484)][_0x37815d(0x536)]({'where':{'_id':_0x38e3cc}},_0x1b60cf):await this['repository'][_0x37815d(0x484)][_0x37815d(0x1b1)]([{'_id':_0x38e3cc,..._0x1b60cf}]),_0x460c02={..._0x460c02,..._0x1b60cf}),{'cachedContact':_0x460c02};}async[a0_0x581af9(0x5d7)](_0x30f571){const _0x38c879=a0_0x581af9;let _0x4ed700=this[_0x38c879(0x63b)](_0x30f571);try{return{'wuid':_0x4ed700,'profilePictureUrl':await this[_0x38c879(0x1f1)][_0x38c879(0x5bb)](_0x4ed700,_0x38c879(0x2e6))};}catch{return{'wuid':_0x4ed700,'profilePictureUrl':null};}}async[a0_0x581af9(0x374)](_0x2406b1,_0x1a963d,_0x303e69){const _0x71d0b=a0_0x581af9;_0x303e69||(_0x303e69={});let _0x3920b6=(await this[_0x71d0b(0x208)]({'numbers':[_0x2406b1]}))[0x0];if(!_0x3920b6[_0x71d0b(0x247)]&&!(0x0,m[_0x71d0b(0x6c1)])(_0x3920b6['jid'])&&!_0x3920b6[_0x71d0b(0x7b9)][_0x71d0b(0x2a9)](_0x71d0b(0x3d4)))throw new w(_0x3920b6);let _0x343a05=_0x3920b6[_0x71d0b(0x7b9)];try{if(_0x303e69?.[_0x71d0b(0x4d1)]){await this[_0x71d0b(0x1f1)][_0x71d0b(0x7ec)](_0x343a05),await this['client'][_0x71d0b(0x3ae)](_0x303e69?.['presence']??_0x71d0b(0x519),_0x343a05);let _0x17f219=Math[_0x71d0b(0x539)](_0x303e69[_0x71d0b(0x4d1)],0x2710);await(0x0,m[_0x71d0b(0x4d1)])(_0x17f219),await this[_0x71d0b(0x1f1)][_0x71d0b(0x3ae)]('paused',_0x343a05);}let _0x17aa5f=_0x303e69?.[_0x71d0b(0x30e)]!=!0x1?void 0x0:!0x1,_0xb7337b;if(_0x303e69?.['quoted']){let _0x194e36=_0x303e69?.['quoted'],_0x3eb821=_0x194e36?.['message']?_0x194e36:await this[_0x71d0b(0x38a)](_0x194e36[_0x71d0b(0x686)],!0x0);if(!_0x3eb821)throw _0x71d0b(0x22e);_0xb7337b=_0x3eb821;}let _0x53d671;if((0x0,m['isJidGroup'])(_0x343a05))try{let _0x4e70ac=await this[_0x71d0b(0x1f1)][_0x71d0b(0x5fa)](_0x343a05);if(!_0x4e70ac)throw new j(_0x71d0b(0x3fe));_0x303e69?.[_0x71d0b(0x1f9)]&&(_0x303e69[_0x71d0b(0x1f9)]?.[_0x71d0b(0x4bd)]?_0x53d671=_0x4e70ac[_0x71d0b(0x354)][_0x71d0b(0x697)](_0x3c15fd=>_0x3c15fd['id']):_0x303e69[_0x71d0b(0x1f9)]?.[_0x71d0b(0x7cd)]?.[_0x71d0b(0x1ee)]&&(_0x53d671=_0x303e69['mentions'][_0x71d0b(0x7cd)]['map'](_0x51fcb3=>{const _0x2be903=_0x71d0b;let _0x699b5a=this[_0x2be903(0x63b)](_0x51fcb3);return(0x0,m[_0x2be903(0x6c1)])(_0x699b5a)?null:_0x699b5a;})));}catch{throw new j(_0x71d0b(0x3fe));}let _0x5d455f=await((async()=>{const _0xd0360e=_0x71d0b;let _0xf8e631={'quoted':_0xb7337b};if(!_0x1a963d[_0xd0360e(0x7ba)]&&!_0x1a963d[_0xd0360e(0x7ef)]&&!_0x1a963d['sticker']&&!_0x1a963d[_0xd0360e(0x40f)]&&_0x343a05!==_0xd0360e(0x444)&&!_0x1a963d[_0xd0360e(0x7ba)])return await this[_0xd0360e(0x1f1)][_0xd0360e(0x804)](_0x343a05,{'forward':{'key':{'remoteJid':this['instance']['wuid'],'fromMe':!0x0},'message':_0x1a963d},'mentions':_0x53d671},_0xf8e631);if(_0x1a963d[_0xd0360e(0x51b)])return await this[_0xd0360e(0x1f1)][_0xd0360e(0x804)](_0x343a05,{'react':{'text':_0x1a963d['reactionMessage']['text'],'key':_0x1a963d['reactionMessage']['key']}},_0xf8e631);if(_0x1a963d[_0xd0360e(0x40f)]){let _0x40875d=_0x1a963d[_0xd0360e(0x40f)];return _0x303e69?.[_0xd0360e(0x2d0)]&&(_0x40875d=await this[_0xd0360e(0x448)](_0x40875d,_0x343a05)),await this[_0xd0360e(0x1f1)][_0xd0360e(0x804)](_0x343a05,{'text':_0x40875d,'mentions':_0x53d671,'linkPreview':_0x17aa5f},_0xf8e631);}return _0x343a05===_0xd0360e(0x444)?await this[_0xd0360e(0x1f1)]['sendMessage'](_0x343a05,_0x1a963d['status'][_0xd0360e(0x708)],{'backgroundColor':_0x1a963d[_0xd0360e(0x2e9)]['option'][_0xd0360e(0x5ec)],'font':_0x1a963d[_0xd0360e(0x2e9)][_0xd0360e(0x59f)][_0xd0360e(0x809)],'statusJidList':_0x1a963d[_0xd0360e(0x2e9)][_0xd0360e(0x59f)][_0xd0360e(0x770)]}):await this[_0xd0360e(0x1f1)][_0xd0360e(0x804)](_0x343a05,_0x1a963d,_0xf8e631);})()),_0x161eea=(0x0,m[_0x71d0b(0x3ab)])(_0x5d455f[_0x71d0b(0x390)]),_0x2d39ab=(0x0,m[_0x71d0b(0x41c)])(_0x161eea),{message_normalized:_0xc3e90f}=this[_0x71d0b(0x204)](_0x161eea,_0x2d39ab,null),_0x19b43={'_id':_0x5d455f['key']['id'],'key':_0x5d455f[_0x71d0b(0x686)],'pushName':_0x5d455f[_0x71d0b(0x263)],'isGroup':_0x5d455f['key']['remoteJid']['endsWith'](_0x71d0b(0x594)),'profilePictureUrl':this[_0x71d0b(0x43e)][_0x71d0b(0x5bb)],'message':_0x161eea,'messageType':_0x2d39ab,'message_normalized':{'key':_0x5d455f[_0x71d0b(0x686)],'pushName':_0x5d455f['pushName'],'messageTimestamp':_0x5d455f[_0x71d0b(0x5a4)]&&_0x5d455f[_0x71d0b(0x5a4)][_0x71d0b(0x658)]()[_0x71d0b(0x1ee)]<0xd?_0x5d455f[_0x71d0b(0x5a4)]*0x3e8:_0x5d455f[_0x71d0b(0x5a4)]||null,'source':(0x0,m[_0x71d0b(0x859)])(_0x5d455f[_0x71d0b(0x686)]['id']),..._0xc3e90f},'messageTimestamp':_0x5d455f['messageTimestamp']&&_0x5d455f[_0x71d0b(0x5a4)][_0x71d0b(0x658)]()[_0x71d0b(0x1ee)]<0xd?_0x5d455f[_0x71d0b(0x5a4)]*0x3e8:_0x5d455f[_0x71d0b(0x5a4)]||null,'owner':this[_0x71d0b(0x43e)]['wuid'],'source':(0x0,m[_0x71d0b(0x859)])(_0x5d455f['key']['id'])};return this[_0x71d0b(0x542)][_0x71d0b(0x5ad)](this[_0x71d0b(0x41a)]+'\x20('+this[_0x71d0b(0x43e)][_0x71d0b(0x40d)]+_0x71d0b(0x676)+_0x19b43['key']?.['remoteJid'][_0x71d0b(0x614)](_0x71d0b(0x6e9),'')+_0x71d0b(0x62e)+_0x19b43['messageType']+')'),_0x19b43[_0x71d0b(0x71e)]?.[_0x71d0b(0x711)]&&this['logger']['warn'](_0x19b43[_0x71d0b(0x71e)]?.[_0x71d0b(0x711)]),this['sendDataWebhook'](_0x71d0b(0x2c9),_0x19b43),F(this[_0x71d0b(0x41a)],'messages',{'message':_0x19b43}),this[_0x71d0b(0x34c)](this[_0x71d0b(0x3f1)][_0x71d0b(0x488)]('DATABASE'),_0x19b43,_0x71d0b(0x7b7)),await this[_0x71d0b(0x456)][_0x71d0b(0x390)]['insert']([_0x19b43],this[_0x71d0b(0x43e)]['wuid']),_0x5d455f;}catch(_0x4311fb){throw this[_0x71d0b(0x542)][_0x71d0b(0x3cf)](this[_0x71d0b(0x41a)]+'\x20('+this['instance'][_0x71d0b(0x40d)]+_0x71d0b(0x3bc)+_0x4311fb[_0x71d0b(0x658)]()),new w(_0x4311fb[_0x71d0b(0x658)]());}}get[a0_0x581af9(0x6e8)](){const _0x1bc30c=a0_0x581af9;return this[_0x1bc30c(0x3f9)];}async[a0_0x581af9(0x3d9)](_0x3e0f76){const _0x264328=a0_0x581af9;let _0x525881=Nr,_0x5b501c=et;return _0x5b501c&&this[_0x264328(0x41a)][_0x264328(0x61a)]()[_0x264328(0x2a9)](_0x5b501c[_0x264328(0x61a)]())&&(_0x3e0f76[_0x264328(0x3d9)][_0x264328(0x711)]+='\x0a\x0a'+_0x525881),await this[_0x264328(0x374)](_0x3e0f76[_0x264328(0x557)],{'conversation':_0x3e0f76[_0x264328(0x3d9)]['text']},_0x3e0f76?.[_0x264328(0x499)]);}async[a0_0x581af9(0x2a1)](_0x15c12a){const _0x510c5f=a0_0x581af9;if(!_0x15c12a[_0x510c5f(0x612)])throw new w(_0x510c5f(0x68c));if(!_0x15c12a[_0x510c5f(0x708)])throw new w(_0x510c5f(0x3df));if(_0x15c12a['allContacts']){let _0x4191d7=await this[_0x510c5f(0x456)][_0x510c5f(0x862)]['find']({'where':{}},this['instance'][_0x510c5f(0x40d)]);if(!_0x4191d7['length'])throw new w('Contacts\x20not\x20found');_0x15c12a[_0x510c5f(0x770)]=_0x4191d7[_0x510c5f(0x378)](_0x540962=>_0x540962[_0x510c5f(0x263)])[_0x510c5f(0x697)](_0x5c3e50=>_0x5c3e50[_0x510c5f(0x4e8)]);}if(!_0x15c12a[_0x510c5f(0x770)]?.[_0x510c5f(0x1ee)]&&!_0x15c12a[_0x510c5f(0x39b)])throw new w(_0x510c5f(0x80c));if(_0x15c12a[_0x510c5f(0x612)]===_0x510c5f(0x711)){if(!_0x15c12a[_0x510c5f(0x5ec)])throw new w('Background\x20color\x20is\x20required');if(!_0x15c12a[_0x510c5f(0x809)])throw new w('Font\x20is\x20required');return{'content':{'text':_0x15c12a['content']},'option':{'backgroundColor':_0x15c12a[_0x510c5f(0x5ec)],'font':_0x15c12a[_0x510c5f(0x809)],'statusJidList':_0x15c12a['statusJidList']}};}if(_0x15c12a['type']===_0x510c5f(0x2e6))return{'content':{'image':{'url':_0x15c12a['content']},'caption':_0x15c12a['caption']},'option':{'statusJidList':_0x15c12a[_0x510c5f(0x770)]}};if(_0x15c12a[_0x510c5f(0x612)]===_0x510c5f(0x35c))return{'content':{'video':{'url':_0x15c12a[_0x510c5f(0x708)]},'caption':_0x15c12a[_0x510c5f(0x5c8)]},'option':{'statusJidList':_0x15c12a[_0x510c5f(0x770)]}};if(_0x15c12a['type']===_0x510c5f(0x7ba)){this[_0x510c5f(0x542)][_0x510c5f(0x628)](_0x510c5f(0x439)),this[_0x510c5f(0x542)][_0x510c5f(0x628)]('Processing\x20audio');let _0xb35c2b=await this[_0x510c5f(0x55c)](_0x15c12a['content']);if(typeof _0xb35c2b==_0x510c5f(0x497)){this['logger'][_0x510c5f(0x628)](_0x510c5f(0x362));let _0x482d62=J['readFileSync'](_0xb35c2b)[_0x510c5f(0x658)]('base64');return{'content':{'audio':Buffer['from'](_0x482d62,_0x510c5f(0x3ed)),'ptt':!0x0,'mimetype':_0x510c5f(0x283)},'option':{'statusJidList':_0x15c12a[_0x510c5f(0x770)]}};}else throw new I(_0xb35c2b);}throw new w(_0x510c5f(0x21a));}async[a0_0x581af9(0x4ef)](_0x231d9f){const _0x3a5a1c=a0_0x581af9;return await this['sendMessageWithTyping'](_0x3a5a1c(0x444),{'status':await this[_0x3a5a1c(0x2a1)](_0x231d9f[_0x3a5a1c(0x4ef)])});}async[a0_0x581af9(0x627)](_0x111bf6){const _0x1dfdf8=a0_0x581af9;try{let _0xbeaeaa=await(0x0,m['prepareWAMessageMedia'])({[_0x111bf6[_0x1dfdf8(0x506)]]:(0x0,P[_0x1dfdf8(0x4d5)])(_0x111bf6[_0x1dfdf8(0x541)])?{'url':_0x111bf6[_0x1dfdf8(0x541)]}:Buffer[_0x1dfdf8(0x252)](_0x111bf6[_0x1dfdf8(0x541)],'base64')},{'upload':this[_0x1dfdf8(0x1f1)][_0x1dfdf8(0x2a4)]}),_0xa69458=_0x111bf6[_0x1dfdf8(0x506)]+_0x1dfdf8(0x735);if(_0x111bf6['mediatype']===_0x1dfdf8(0x793)&&!_0x111bf6[_0x1dfdf8(0x355)]){let _0x530f1e=new RegExp(/.*\/(.+?)\./)[_0x1dfdf8(0x6ac)](_0x111bf6[_0x1dfdf8(0x541)]);_0x111bf6[_0x1dfdf8(0x355)]=_0x530f1e?_0x530f1e[0x1]:null;}let _0x4040f3=(0x0,P[_0x1dfdf8(0x4d5)])(_0x111bf6[_0x1dfdf8(0x541)])?_0x111bf6[_0x1dfdf8(0x541)][_0x1dfdf8(0x68e)]('?')[0x0]:_0x111bf6['media'];this[_0x1dfdf8(0x542)][_0x1dfdf8(0x628)](_0x1dfdf8(0x675)+_0x4040f3);let _0x22fcae;(0x0,P[_0x1dfdf8(0x4d5)])(_0x111bf6[_0x1dfdf8(0x541)])?_0x22fcae=(0x0,kt[_0x1dfdf8(0x5f7)])(_0x4040f3):_0x111bf6[_0x1dfdf8(0x355)]&&_0x111bf6['fileName']['includes']('.')?_0x22fcae=(0x0,kt[_0x1dfdf8(0x5f7)])(_0x111bf6[_0x1dfdf8(0x355)]):_0x22fcae=(0x0,kt[_0x1dfdf8(0x5f7)])(_0x111bf6['media']);let _0x286ca7=Nr,_0x4e5a2c=et;return _0x4e5a2c&&this['instanceName'][_0x1dfdf8(0x61a)]()[_0x1dfdf8(0x2a9)](_0x4e5a2c[_0x1dfdf8(0x61a)]())&&(_0x111bf6[_0x1dfdf8(0x5c8)]+='\x0a\x0a'+_0x286ca7),_0xbeaeaa[_0xa69458]['caption']=_0x111bf6?.[_0x1dfdf8(0x5c8)],_0xbeaeaa[_0xa69458]['mimetype']=_0x22fcae,_0xbeaeaa[_0xa69458][_0x1dfdf8(0x355)]=_0x111bf6[_0x1dfdf8(0x355)],_0x111bf6[_0x1dfdf8(0x506)]===_0x1dfdf8(0x35c)&&(_0xbeaeaa[_0xa69458][_0x1dfdf8(0x31a)]=Uint8Array['from']((0x0,Te[_0x1dfdf8(0x6c3)])((0x0,q[_0x1dfdf8(0x495)])(process[_0x1dfdf8(0x72f)](),_0x1dfdf8(0x3c4)))),_0xbeaeaa[_0xa69458][_0x1dfdf8(0x318)]=!0x1),(0x0,m[_0x1dfdf8(0x6dc)])('',{[_0xa69458]:{..._0xbeaeaa[_0xa69458]}},{'userJid':this[_0x1dfdf8(0x43e)][_0x1dfdf8(0x40d)]});}catch(_0x446487){throw this[_0x1dfdf8(0x542)][_0x1dfdf8(0x3cf)](this[_0x1dfdf8(0x41a)]+'\x20('+this['instance'][_0x1dfdf8(0x40d)]+_0x1dfdf8(0x3bc)+(_0x446487 instanceof Error?_0x446487[_0x1dfdf8(0x390)]:JSON[_0x1dfdf8(0x7e4)](_0x446487,null,0x2))),new I(_0x446487?.[_0x1dfdf8(0x658)]()||_0x446487);}}async['mediaMessage'](_0x4d535a){const _0xfca56a=a0_0x581af9;let _0x3db998=await this[_0xfca56a(0x627)](_0x4d535a['mediaMessage']);return await this[_0xfca56a(0x374)](_0x4d535a[_0xfca56a(0x557)],{..._0x3db998['message']},_0x4d535a?.[_0xfca56a(0x499)]);}async[a0_0x581af9(0x1f8)](_0x173167,_0x88a543){const _0x178696=a0_0x581af9;try{this[_0x178696(0x542)][_0x178696(0x628)](_0x178696(0x7ca));let _0x239678,_0xe64d21=_0x88a543+'-'+new Date()[_0x178696(0x2aa)]();this[_0x178696(0x542)][_0x178696(0x628)]('Hash\x20to\x20image\x20name:\x20'+_0xe64d21);let _0x5a8cf6=''+(0x0,q[_0x178696(0x495)])(this[_0x178696(0x458)],_0xe64d21+_0x178696(0x734));if(this[_0x178696(0x542)][_0x178696(0x628)](_0x178696(0x1e8)+_0x5a8cf6),(0x0,P[_0x178696(0x57f)])(_0x173167)){this['logger'][_0x178696(0x628)]('Image\x20is\x20base64');let _0x21f801=_0x173167[_0x178696(0x614)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x37f8df=Buffer[_0x178696(0x252)](_0x21f801,_0x178696(0x3ed));_0x239678=''+(0x0,q[_0x178696(0x495)])(this[_0x178696(0x458)],_0x178696(0x39e)+_0xe64d21+_0x178696(0x338)),this['logger'][_0x178696(0x628)](_0x178696(0x401)+_0x239678),await(0x0,Lt['default'])(_0x37f8df)[_0x178696(0x42a)](_0x239678),this[_0x178696(0x542)][_0x178696(0x628)](_0x178696(0x451));}else{this[_0x178696(0x542)][_0x178696(0x628)](_0x178696(0x2d4));let _0x5d7e02=new Date()[_0x178696(0x2aa)](),_0x26507d=_0x173167+_0x178696(0x379)+_0x5d7e02;this['logger'][_0x178696(0x628)](_0x178696(0x2f1)+_0x26507d);let _0x59ee88=await Z[_0x178696(0x258)][_0x178696(0x488)](_0x26507d,{'responseType':'arraybuffer'});this['logger'][_0x178696(0x628)](_0x178696(0x2ed));let _0x1a6f00=Buffer[_0x178696(0x252)](_0x59ee88[_0x178696(0x825)],_0x178696(0x810));_0x239678=''+(0x0,q['join'])(this[_0x178696(0x458)],_0x178696(0x39e)+_0xe64d21+'.png'),this[_0x178696(0x542)][_0x178696(0x628)]('Image\x20path:\x20'+_0x239678),await(0x0,Lt[_0x178696(0x258)])(_0x1a6f00)[_0x178696(0x42a)](_0x239678),this[_0x178696(0x542)][_0x178696(0x628)](_0x178696(0x451));}return await(0x0,Lt[_0x178696(0x258)])(_0x239678)['webp']()[_0x178696(0x42a)](_0x5a8cf6),this[_0x178696(0x542)][_0x178696(0x628)]('Image\x20converted\x20to\x20WebP'),J[_0x178696(0x6a7)](_0x239678),this[_0x178696(0x542)][_0x178696(0x628)]('Temp\x20image\x20deleted'),_0x5a8cf6;}catch(_0x46908d){console[_0x178696(0x3cf)](_0x178696(0x748),_0x46908d instanceof Error?_0x46908d[_0x178696(0x390)]:JSON[_0x178696(0x7e4)](_0x46908d,null,0x2));}}async[a0_0x581af9(0x1e2)](_0x32491a){const _0x37b9b1=a0_0x581af9;let _0x26acf3=await this[_0x37b9b1(0x1f8)](_0x32491a['stickerMessage'][_0x37b9b1(0x2e6)],_0x32491a['number']),_0x6d09a7=await this[_0x37b9b1(0x374)](_0x32491a[_0x37b9b1(0x557)],{'sticker':{'url':_0x26acf3}},_0x32491a?.['options']);return J['unlinkSync'](_0x26acf3),this['logger'][_0x37b9b1(0x628)](_0x37b9b1(0x50c)),_0x6d09a7;}async[a0_0x581af9(0x4b7)](_0x42e45f){const _0x4d49c8=a0_0x581af9;if(this[_0x4d49c8(0x542)][_0x4d49c8(0x628)]('Sending\x20audio\x20whatsapp'),!_0x42e45f[_0x4d49c8(0x499)]?.['encoding']&&_0x42e45f[_0x4d49c8(0x499)]?.[_0x4d49c8(0x7e5)]!==!0x1&&(_0x42e45f[_0x4d49c8(0x499)][_0x4d49c8(0x7e5)]=!0x0),_0x42e45f[_0x4d49c8(0x499)]?.[_0x4d49c8(0x7e5)]){let _0x133553=await this[_0x4d49c8(0x55c)](_0x42e45f['audioMessage'][_0x4d49c8(0x7ba)]);if(typeof _0x133553=='string'){let _0x24e7cd=J[_0x4d49c8(0x6c3)](_0x133553)[_0x4d49c8(0x658)](_0x4d49c8(0x3ed));return this[_0x4d49c8(0x374)](_0x42e45f[_0x4d49c8(0x557)],{'audio':Buffer[_0x4d49c8(0x252)](_0x24e7cd,_0x4d49c8(0x3ed)),'ptt':!0x0,'mimetype':_0x4d49c8(0x760)},{'presence':_0x4d49c8(0x460),'delay':_0x42e45f?.[_0x4d49c8(0x499)]?.[_0x4d49c8(0x4d1)]});}else throw new I(_0x133553);}return await this['sendMessageWithTyping'](_0x42e45f['number'],{'audio':(0x0,P[_0x4d49c8(0x4d5)])(_0x42e45f[_0x4d49c8(0x3ce)][_0x4d49c8(0x7ba)])?{'url':_0x42e45f[_0x4d49c8(0x3ce)]['audio']}:Buffer[_0x4d49c8(0x252)](_0x42e45f[_0x4d49c8(0x3ce)][_0x4d49c8(0x7ba)],'base64'),'ptt':!0x0,'mimetype':_0x4d49c8(0x760)},{'presence':_0x4d49c8(0x460),'delay':_0x42e45f?.[_0x4d49c8(0x499)]?.[_0x4d49c8(0x4d1)]});}async[a0_0x581af9(0x55c)](_0x49be73){const _0x1c0861=a0_0x581af9;this['logger']['verbose'](_0x1c0861(0x5fb));let _0xbd2eeb=(0x0,P[_0x1c0861(0x4d5)])(_0x49be73)?(0x0,xs[_0x1c0861(0x836)])(_0x1c0861(0x71a))[_0x1c0861(0x536)](_0x49be73)['digest'](_0x1c0861(0x487)):(0x0,xs[_0x1c0861(0x836)])(_0x1c0861(0x71a))[_0x1c0861(0x536)](_0x49be73)[_0x1c0861(0x209)](_0x1c0861(0x487)),_0x2ae51c=''+(0x0,q[_0x1c0861(0x495)])(this[_0x1c0861(0x458)],_0xbd2eeb+'.ogg');if(J[_0x1c0861(0x694)](_0x2ae51c))return this[_0x1c0861(0x542)][_0x1c0861(0x628)]('Cached\x20audio\x20found,\x20returning\x20existing\x20file'),_0x2ae51c;let _0x2b27ce=''+(0x0,q[_0x1c0861(0x495)])(this[_0x1c0861(0x458)],_0x1c0861(0x39e)+(0x0,Re['v4'])()+_0x1c0861(0x2af));if((0x0,P['isURL'])(_0x49be73)){let _0x5ae789=new Date()[_0x1c0861(0x2aa)](),_0x297662=_0x49be73+_0x1c0861(0x379)+_0x5ae789,_0x3c07d2=await Z['default'][_0x1c0861(0x488)](_0x297662,{'responseType':_0x1c0861(0x3d7)});J[_0x1c0861(0x249)](_0x2b27ce,_0x3c07d2[_0x1c0861(0x825)]);}else{let _0x1dc73e=Buffer[_0x1c0861(0x252)](_0x49be73,_0x1c0861(0x3ed));J['writeFileSync'](_0x2b27ce,_0x1dc73e);}return new Promise((_0x2ec3cf,_0x3413ac)=>{const _0x26a5a1=_0x1c0861;(0x0,Ft[_0x26a5a1(0x6ac)])(Tr[_0x26a5a1(0x258)][_0x26a5a1(0x746)]+'\x20-i\x20'+_0x2b27ce+_0x26a5a1(0x6ea)+_0x2ae51c+_0x26a5a1(0x5a3),_0x34c5fe=>{const _0x48c7ad=_0x26a5a1;if(J[_0x48c7ad(0x6a7)](_0x2b27ce),_0x34c5fe){this['logger']['verbose']('Error\x20in\x20converting\x20audio'),_0x3413ac(_0x34c5fe);return;}this[_0x48c7ad(0x542)][_0x48c7ad(0x628)](_0x48c7ad(0x267)),_0x2ec3cf(_0x2ae51c);});});}async[a0_0x581af9(0x65c)](_0x585eb2){const _0x4d1340=a0_0x581af9;let _0x3b5337={},_0x10096e=_0x4d1340(0x693);if(_0x585eb2['buttonMessage']?.['mediaMessage']){_0x10096e=_0x585eb2['buttonMessage'][_0x4d1340(0x7e2)]?.[_0x4d1340(0x506)][_0x4d1340(0x646)]()??_0x4d1340(0x693),_0x3b5337[_0x4d1340(0x4d7)]=_0x10096e[_0x4d1340(0x61a)]()+_0x4d1340(0x735);let _0x5f2a16=await this[_0x4d1340(0x627)](_0x585eb2[_0x4d1340(0x65c)]['mediaMessage']);_0x3b5337[_0x4d1340(0x390)]=_0x5f2a16[_0x4d1340(0x390)][_0x3b5337[_0x4d1340(0x4d7)]],_0x3b5337[_0x4d1340(0x799)]='*'+_0x585eb2[_0x4d1340(0x65c)][_0x4d1340(0x540)]+_0x4d1340(0x2cc)+_0x585eb2[_0x4d1340(0x65c)]['description'];}let _0x476666={'text':_0x585eb2[_0x4d1340(0x65c)]['buttons'][_0x4d1340(0x697)](_0x120a8a=>_0x120a8a[_0x4d1340(0x441)]),'ids':_0x585eb2[_0x4d1340(0x65c)][_0x4d1340(0x3d6)]['map'](_0x4c9c83=>_0x4c9c83['buttonId'])};if(!(0x0,P[_0x4d1340(0x2bb)])(_0x476666[_0x4d1340(0x711)])||!(0x0,P[_0x4d1340(0x2bb)])(_0x476666[_0x4d1340(0x7a4)]))throw new w(_0x4d1340(0x84c),_0x4d1340(0x633));return await this[_0x4d1340(0x374)](_0x585eb2[_0x4d1340(0x557)],{'buttonsMessage':{'text':_0x3b5337?.[_0x4d1340(0x4d7)]?void 0x0:_0x585eb2['buttonMessage'][_0x4d1340(0x540)],'contentText':_0x3b5337?.[_0x4d1340(0x799)]??_0x585eb2[_0x4d1340(0x65c)][_0x4d1340(0x855)],'footerText':_0x585eb2[_0x4d1340(0x65c)]?.[_0x4d1340(0x1dc)],'buttons':_0x585eb2[_0x4d1340(0x65c)]['buttons'][_0x4d1340(0x697)](_0x2b1557=>({'buttonText':{'displayText':_0x2b1557['buttonText']},'buttonId':_0x2b1557[_0x4d1340(0x7eb)],'type':0x1})),'headerType':m['proto'][_0x4d1340(0x735)][_0x4d1340(0x255)][_0x4d1340(0x665)][_0x10096e],[_0x3b5337?.['mediaKey']]:_0x3b5337?.[_0x4d1340(0x390)]}},_0x585eb2?.['options']);}async[a0_0x581af9(0x485)](_0x14d20a){const _0x568890=a0_0x581af9;return await this[_0x568890(0x374)](_0x14d20a['number'],{'locationMessage':{'degreesLatitude':_0x14d20a[_0x568890(0x485)]['latitude'],'degreesLongitude':_0x14d20a['locationMessage'][_0x568890(0x752)],'name':_0x14d20a[_0x568890(0x485)]?.[_0x568890(0x428)],'address':_0x14d20a[_0x568890(0x485)]?.[_0x568890(0x275)]}},_0x14d20a?.[_0x568890(0x499)]);}async[a0_0x581af9(0x547)](_0x5e0f60){const _0x2a98d8=a0_0x581af9;let _0x144434={},_0x12fea2=_0x573c82=>{const _0x47bc59=a0_0xd85f;let _0x35a49a=_0x47bc59(0x77f)+_0x573c82[_0x47bc59(0x35e)]+'\x0aFN:'+_0x573c82[_0x47bc59(0x35e)]+'\x0a';_0x573c82[_0x47bc59(0x5ed)]&&(_0x35a49a+='ORG:'+_0x573c82[_0x47bc59(0x5ed)]+';\x0a'),_0x573c82[_0x47bc59(0x78b)]&&(_0x35a49a+=_0x47bc59(0x6da)+_0x573c82[_0x47bc59(0x78b)]+'\x0a'),_0x573c82[_0x47bc59(0x683)]&&(_0x35a49a+=_0x47bc59(0x272)+_0x573c82[_0x47bc59(0x683)]+'\x0a');let _0x4c73f9='';return _0x573c82[_0x47bc59(0x5ac)]&&_0x573c82['phoneNumber'][_0x47bc59(0x68e)]('|')['forEach']((_0x5aa429,_0x42f1cc)=>{const _0x37a086=_0x47bc59;let _0xa53a3e=this['createJid'](_0x5aa429)[_0x37a086(0x614)](_0x37a086(0x6e9),'');_0x4c73f9+=_0x37a086(0x1b6)+(_0x42f1cc+0x1)+_0x37a086(0x7c3)+_0xa53a3e+':'+_0x5aa429+_0x37a086(0x2b1)+(_0x42f1cc+0x1)+_0x37a086(0x268);}),_0x35a49a+=_0x4c73f9+'END:VCARD',_0x35a49a;};return _0x5e0f60[_0x2a98d8(0x547)][_0x2a98d8(0x1ee)]===0x1?_0x144434[_0x2a98d8(0x547)]={'displayName':_0x5e0f60[_0x2a98d8(0x547)][0x0][_0x2a98d8(0x35e)],'vcard':_0x12fea2(_0x5e0f60[_0x2a98d8(0x547)][0x0])}:_0x144434[_0x2a98d8(0x319)]={'displayName':_0x5e0f60[_0x2a98d8(0x547)][_0x2a98d8(0x1ee)]+_0x2a98d8(0x75c),'contacts':_0x5e0f60[_0x2a98d8(0x547)][_0x2a98d8(0x697)](_0x1e753c=>({'displayName':_0x1e753c['fullName'],'vcard':_0x12fea2(_0x1e753c)}))},await this[_0x2a98d8(0x374)](_0x5e0f60[_0x2a98d8(0x557)],{..._0x144434},_0x5e0f60?.[_0x2a98d8(0x499)]);}async[a0_0x581af9(0x51b)](_0x69a2c3){const _0xb8e423=a0_0x581af9;return await this[_0xb8e423(0x374)](_0x69a2c3['reactionMessage']['key']['remoteJid'],{'reactionMessage':{'key':_0x69a2c3['reactionMessage'][_0xb8e423(0x686)],'text':_0x69a2c3[_0xb8e423(0x51b)][_0xb8e423(0x58d)]}});}async['whatsappNumber'](_0x30404a){const _0x24218b=a0_0x581af9;let _0x407ade=[];for await(let _0x17df68 of _0x30404a[_0x24218b(0x678)]){let _0x4d8b3a=this['createJid'](_0x17df68),_0x197917=!0x1;try{if((0x0,m[_0x24218b(0x6c1)])(_0x4d8b3a)){let _0x2d3ae8=await this['findGroup']({'groupJid':_0x4d8b3a},_0x24218b(0x1dd));_0x407ade[_0x24218b(0x71d)](new fe(_0x2d3ae8[_0x24218b(0x828)]['id'],!!_0x2d3ae8?.[_0x24218b(0x828)]['id'],_0x2d3ae8?.[_0x24218b(0x828)][_0x24218b(0x35b)])),_0x197917=!!_0x2d3ae8?.[_0x24218b(0x828)]['id'];}else{let _0x4eae4d=(await this[_0x24218b(0x1f1)][_0x24218b(0x3cb)](_0x4d8b3a))[0x0];_0x407ade[_0x24218b(0x71d)](new fe(_0x4eae4d[_0x24218b(0x7b9)],_0x4eae4d['exists'])),_0x197917=_0x4eae4d[_0x24218b(0x247)];}}catch{await this['checkAndUpdateChatStatus'](_0x4d8b3a,_0x197917),_0x407ade['push'](new fe(_0x17df68,!0x1));}}return _0x407ade;}async[a0_0x581af9(0x478)](_0x519f5b,_0x46d0fb){const _0x40c9ce=a0_0x581af9;try{await this[_0x40c9ce(0x456)][_0x40c9ce(0x437)][_0x40c9ce(0x841)]({'where':{'_id':_0x519f5b,'imported':!0x0}},this[_0x40c9ce(0x43e)][_0x40c9ce(0x40d)])&&(_0x46d0fb||(await this['repository'][_0x40c9ce(0x437)]['deleteChat'](_0x519f5b,this[_0x40c9ce(0x43e)][_0x40c9ce(0x40d)]),console[_0x40c9ce(0x679)](_0x40c9ce(0x6ae)+_0x519f5b+_0x40c9ce(0x856))));}catch(_0x521069){console[_0x40c9ce(0x3cf)](_0x40c9ce(0x6c4),_0x521069);}}async[a0_0x581af9(0x778)](_0x5d01fe){const _0x1e4f9e=a0_0x581af9;try{let _0x5b3df5=_0x5d01fe['readMessages'][_0x1e4f9e(0x378)](_0x579a53=>(0x0,m['isJidGroup'])(_0x579a53[_0x1e4f9e(0x601)])||(0x0,m[_0x1e4f9e(0x808)])(_0x579a53[_0x1e4f9e(0x601)]))['map'](_0x183f2b=>({'remoteJid':_0x183f2b[_0x1e4f9e(0x601)],'fromMe':_0x183f2b[_0x1e4f9e(0x795)],'id':_0x183f2b['id']}));await this[_0x1e4f9e(0x1f1)][_0x1e4f9e(0x49c)](_0x5b3df5);let _0x5c464a=_0x5b3df5[_0x1e4f9e(0x697)](_0x3db38f=>this[_0x1e4f9e(0x2ec)](_0x3db38f,{'status':'READ','owner':this['instance'][_0x1e4f9e(0x40d)]})),_0x257fec=_0x5b3df5[_0x1e4f9e(0x697)](_0x2121d1=>this[_0x1e4f9e(0x456)][_0x1e4f9e(0x437)]['updateOne']({'where':{'_id':_0x2121d1['remoteJid']}},{'unreadcount':0x0},this[_0x1e4f9e(0x43e)][_0x1e4f9e(0x40d)])),[_0x7463e3,_0x2adeb2]=await Promise[_0x1e4f9e(0x699)]([Promise[_0x1e4f9e(0x699)](_0x5c464a),Promise[_0x1e4f9e(0x699)](_0x257fec)]);return _0x2adeb2['filter'](_0x2a57a9=>_0x2a57a9!==null)['forEach'](_0x482a1f=>{const _0xcb2a6d=_0x1e4f9e;F(this[_0xcb2a6d(0x41a)],_0xcb2a6d(0x6bc),{'chat':_0x482a1f});}),{'message':_0x1e4f9e(0x3af),'read':_0x1e4f9e(0x227)};}catch(_0x3d53d9){throw console['error'](_0x1e4f9e(0x3e7),_0x3d53d9),new I(_0x1e4f9e(0x7cc),_0x3d53d9[_0x1e4f9e(0x658)]());}}async['getLastMessage'](_0x6c6929){const _0x27f645=a0_0x581af9;let _0x1a23ef={'where':{'key':{'remoteJid':_0x6c6929}},'limit':0x1},_0x36e3cc=await this[_0x27f645(0x4f9)](_0x1a23ef);return _0x36e3cc||(console[_0x27f645(0x3cf)](_0x27f645(0x4b8),_0x6c6929),null);}async[a0_0x581af9(0x507)](_0x284388){const _0x4b5280=a0_0x581af9;this[_0x4b5280(0x542)][_0x4b5280(0x628)](_0x4b5280(0x785));try{let _0x272f9e=_0x284388[_0x4b5280(0x5f4)],_0x22fdcc=_0x284388['chat'];if(!_0x272f9e&&_0x22fdcc?_0x272f9e=await this[_0x4b5280(0x659)](_0x22fdcc):(_0x272f9e=_0x284388[_0x4b5280(0x5f4)],_0x272f9e[_0x4b5280(0x5a4)]=_0x272f9e?.['messageTimestamp']??Date[_0x4b5280(0x23e)](),_0x22fdcc=_0x272f9e?.[_0x4b5280(0x686)]?.[_0x4b5280(0x601)]),!_0x272f9e||Object[_0x4b5280(0x543)](_0x272f9e)[_0x4b5280(0x1ee)]===0x0)throw new j('Last\x20message\x20not\x20found');this[_0x4b5280(0x542)][_0x4b5280(0x628)](_0x4b5280(0x7a1)+_0x22fdcc);try{await this[_0x4b5280(0x1f1)][_0x4b5280(0x826)]({'archive':_0x284388['archive'],'lastMessages':[_0x272f9e]},this[_0x4b5280(0x63b)](_0x22fdcc));}catch(_0x257e73){this[_0x4b5280(0x542)]['error']('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x22fdcc+':\x20'+_0x257e73[_0x4b5280(0x658)]());}this[_0x4b5280(0x542)][_0x4b5280(0x628)](_0x4b5280(0x5c4)+_0x22fdcc);let _0x1dd12d=await this[_0x4b5280(0x456)][_0x4b5280(0x437)][_0x4b5280(0x1b0)]({'where':{'_id':_0x272f9e?.[_0x4b5280(0x686)]?.[_0x4b5280(0x601)]}},{'archived':_0x284388[_0x4b5280(0x1d8)]},this['instance'][_0x4b5280(0x40d)]);return _0x1dd12d?(this[_0x4b5280(0x542)]['verbose']('Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x4b5280(0x7e4)](_0x1dd12d)),F(this[_0x4b5280(0x41a)],_0x4b5280(0x6bc),{'chat':_0x1dd12d})):this[_0x4b5280(0x542)][_0x4b5280(0x3cf)](_0x4b5280(0x3fb)+_0x22fdcc),{'chatId':_0x22fdcc,'archived':_0x284388[_0x4b5280(0x1d8)]};}catch(_0x205788){throw this['logger']['error'](_0x4b5280(0x7de)+_0x205788[_0x4b5280(0x658)]()),new I({'archived':!0x1,'message':[_0x4b5280(0x20f),_0x205788[_0x4b5280(0x658)]()]});}}async[a0_0x581af9(0x59e)](_0x219202){const _0xde4c32=a0_0x581af9;this[_0xde4c32(0x542)][_0xde4c32(0x628)](_0xde4c32(0x7e7));try{let _0x11aa6a=await this[_0xde4c32(0x659)](_0x219202);if(!_0x11aa6a||Object[_0xde4c32(0x543)](_0x11aa6a)['length']===0x0)throw new j(_0xde4c32(0x5ea));let _0x44dea8=_0x11aa6a[0x0];this[_0xde4c32(0x542)][_0xde4c32(0x628)](_0xde4c32(0x433)+_0x219202);try{await this['client'][_0xde4c32(0x826)]({'delete':!0x0,'lastMessages':[{'key':_0x44dea8[_0xde4c32(0x686)],'messageTimestamp':_0x44dea8[_0xde4c32(0x5a4)]}]},this['createJid'](_0x219202));}catch(_0x276328){this[_0xde4c32(0x542)][_0xde4c32(0x3cf)]('Error\x20in\x20chatModify\x20for\x20number\x20'+_0x219202+':\x20'+_0x276328[_0xde4c32(0x658)]());}this[_0xde4c32(0x542)][_0xde4c32(0x628)](_0xde4c32(0x5c4)+_0x219202);return;}catch(_0x18df55){throw this['logger'][_0xde4c32(0x3cf)]('Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x18df55[_0xde4c32(0x658)]()),new I({'archived':!0x1,'message':[_0xde4c32(0x20f),_0x18df55['toString']()]});}}async[a0_0x581af9(0x231)](_0xfa0308){const _0x522139=a0_0x581af9;try{let _0x541222=await this['client'][_0x522139(0x804)](_0xfa0308[_0x522139(0x601)],{'delete':_0xfa0308});try{let _0x40aa8c=await this[_0x522139(0x2ec)](_0xfa0308,{'status':'DELETED','owner':this[_0x522139(0x43e)]['wuid']});this[_0x522139(0x542)][_0x522139(0x628)](this[_0x522139(0x41a)]+'\x20('+this[_0x522139(0x43e)][_0x522139(0x40d)]+_0x522139(0x3eb)+_0x40aa8c);}catch(_0x1b14cf){console['error'](_0x522139(0x3c0),_0x1b14cf);}return _0x541222;}catch(_0x39de74){throw new I(_0x522139(0x664),_0x39de74?.[_0x522139(0x658)]());}}async[a0_0x581af9(0x30f)](_0x34e173){const _0x5eff7b=a0_0x581af9;try{let _0x4124a7=_0x34e173?.[_0x5eff7b(0x390)]?_0x34e173:await this[_0x5eff7b(0x38a)](_0x34e173[_0x5eff7b(0x686)],!0x0);for(let _0x1a200d of va)_0x4124a7['message'][_0x1a200d]&&(_0x4124a7[_0x5eff7b(0x390)]=_0x4124a7[_0x5eff7b(0x390)][_0x1a200d][_0x5eff7b(0x390)]);let _0xf4ccb8,_0x545d69;for(let _0x231fd9 of Ma)if(_0xf4ccb8=_0x4124a7['message'][_0x231fd9],_0xf4ccb8){_0x545d69=_0x231fd9;break;}if(!_0xf4ccb8)throw'The\x20message\x20is\x20not\x20of\x20the\x20media\x20type';typeof _0xf4ccb8[_0x5eff7b(0x4d7)]=='object'&&(_0x4124a7['message']=JSON[_0x5eff7b(0x69e)](JSON['stringify'](_0x4124a7['message'])));let _0x493092=await(0x0,m[_0x5eff7b(0x7c7)])({'key':_0x4124a7?.[_0x5eff7b(0x686)],'message':_0x4124a7?.[_0x5eff7b(0x390)]},'buffer',{},{'logger':(0x0,$t['default'])({'level':_0x5eff7b(0x82a)}),'reuploadRequest':this['client']['updateMediaMessage']});if(!(_0x493092 instanceof Buffer))throw new Error(_0x5eff7b(0x811));let _0x309ef2=this[_0x5eff7b(0x3f1)][_0x5eff7b(0x488)](_0x5eff7b(0x4d4)),_0x1832bf,_0x26e30a;if(_0xf4ccb8['fileName'])_0x1832bf=_0xf4ccb8[_0x5eff7b(0x355)];else{let _0x11eee9=_0xf4ccb8[_0x5eff7b(0x827)]?.['match'](/\/(\w+)/),_0x223ecb=_0x11eee9?_0x11eee9[0x1]:null;if(!_0x223ecb)throw new Error(_0x5eff7b(0x6eb));_0x1832bf=(0x0,Re['v4'])()+'.'+_0x223ecb;}_0x545d69==='audioMessage'&&_0xf4ccb8[_0x5eff7b(0x827)]===_0x5eff7b(0x283)?(_0x1832bf=(0x0,Re['v4'])()+_0x5eff7b(0x842),_0x26e30a=_0x5eff7b(0x824)+await this[_0x5eff7b(0x55c)](_0x493092[_0x5eff7b(0x658)](_0x5eff7b(0x3ed)))):(await this['saveMediaToFile'](_0x493092,_0x1832bf),_0x26e30a=_0x5eff7b(0x824)+_0x1832bf);let _0x4b77f5=this[_0x5eff7b(0x3f1)][_0x5eff7b(0x488)](_0x5eff7b(0x619))['URL'];if(!_0x4b77f5){let _0x4f40dd=this['configService'][_0x5eff7b(0x488)](_0x5eff7b(0x25b));_0x4b77f5=_0x5eff7b(0x330)+(_0x4f40dd&&_0x4f40dd[_0x5eff7b(0x5ba)][_0x5eff7b(0x68e)]('/')[0x4]);}_0x26e30a=''+_0x4b77f5+_0x26e30a;let _0x1218ea=0xc*0x3c*0x3c*0x3e8,_0x1402b4={'where':{'_id':_0x4124a7[_0x5eff7b(0x686)]['id']}},_0x90e34c={'message_normalized.fileUrl':_0x26e30a,'message_normalized.expires_fileUrl':Date[_0x5eff7b(0x23e)]()+_0x1218ea};try{let _0x33d66d=await this[_0x5eff7b(0x456)][_0x5eff7b(0x390)][_0x5eff7b(0x536)](_0x1402b4,_0x90e34c,this[_0x5eff7b(0x43e)][_0x5eff7b(0x40d)]);_0x33d66d&&F(this[_0x5eff7b(0x41a)],'messages',{'message':_0x33d66d});}catch(_0x3db560){this[_0x5eff7b(0x542)]['error'](this[_0x5eff7b(0x41a)]+'\x20('+this[_0x5eff7b(0x43e)][_0x5eff7b(0x40d)]+_0x5eff7b(0x3bc)+(_0x3db560 instanceof Error?_0x3db560[_0x5eff7b(0x390)]:JSON[_0x5eff7b(0x7e4)](_0x3db560,null,0x2)));}return{'mediaType':_0x545d69,'fileName':_0xf4ccb8[_0x5eff7b(0x355)],'caption':_0xf4ccb8[_0x5eff7b(0x5c8)],'size':{'fileLength':_0xf4ccb8['fileLength'],'height':_0xf4ccb8[_0x5eff7b(0x57b)],'width':_0xf4ccb8[_0x5eff7b(0x411)]},'mimetype':_0xf4ccb8['mimetype'],'base64':_0x493092[_0x5eff7b(0x658)](_0x5eff7b(0x3ed)),'fileUrl':_0x26e30a,'expires_fileUrl':Date[_0x5eff7b(0x23e)]()+_0x1218ea};}catch(_0x327962){throw this['logger'][_0x5eff7b(0x3cf)](this['instanceName']+'\x20('+this[_0x5eff7b(0x43e)][_0x5eff7b(0x40d)]+'):\x20'+(_0x327962 instanceof Error?_0x327962[_0x5eff7b(0x390)]:JSON['stringify'](_0x327962,null,0x2))),new w(_0x327962['toString']());}}async[a0_0x581af9(0x7d1)](_0x28be70,_0x5ace07){const _0x4f0b8c=a0_0x581af9;let _0x43e210=q['default'][_0x4f0b8c(0x495)](__dirname,_0x4f0b8c(0x37a));J[_0x4f0b8c(0x694)](_0x43e210)||J['mkdirSync'](_0x43e210,{'recursive':!0x0});let _0x3db876=q[_0x4f0b8c(0x258)]['join'](_0x43e210,_0x5ace07);return new Promise((_0x4a1047,_0x36fbb3)=>{const _0x3db4f8=_0x4f0b8c;J[_0x3db4f8(0x851)](_0x3db876,_0x28be70,_0x48a4a0=>{const _0x5abdc0=_0x3db4f8;_0x48a4a0?(this[_0x5abdc0(0x542)]['error']('Error\x20writing\x20file:\x20'+(_0x48a4a0 instanceof Error?_0x48a4a0[_0x5abdc0(0x390)]:JSON[_0x5abdc0(0x7e4)](_0x48a4a0,null,0x2))),_0x36fbb3(_0x48a4a0)):(this[_0x5abdc0(0x542)][_0x5abdc0(0x679)]('File\x20written\x20to\x20path:\x20'+_0x3db876),_0x4a1047(_0x3db876));});});}async[a0_0x581af9(0x588)](_0x1b10ef){const _0x7c1e95=a0_0x581af9;return await this[_0x7c1e95(0x456)][_0x7c1e95(0x862)][_0x7c1e95(0x53f)](_0x1b10ef,this['instance'][_0x7c1e95(0x40d)]);}async[a0_0x581af9(0x54d)](){const _0x30c65d=a0_0x581af9;return await this[_0x30c65d(0x456)][_0x30c65d(0x553)][_0x30c65d(0x53f)]({'where':{}},this['instance'][_0x30c65d(0x40d)]);}async[a0_0x581af9(0x4f9)](_0x45b1ae){const _0x2920c5=a0_0x581af9;return await this[_0x2920c5(0x456)][_0x2920c5(0x390)]['find'](_0x45b1ae,this['instance'][_0x2920c5(0x40d)]);}async[a0_0x581af9(0x635)](){const _0x34117d=a0_0x581af9;return this[_0x34117d(0x456)][_0x34117d(0x437)][_0x34117d(0x3c9)](this['instance'][_0x34117d(0x40d)]),this[_0x34117d(0x456)]['chat'][_0x34117d(0x203)](this[_0x34117d(0x43e)][_0x34117d(0x40d)]),this[_0x34117d(0x456)]['chat'][_0x34117d(0x763)](this[_0x34117d(0x43e)][_0x34117d(0x40d)]),this[_0x34117d(0x456)]['chat'][_0x34117d(0x6c8)](this[_0x34117d(0x43e)]['wuid']),await this[_0x34117d(0x456)][_0x34117d(0x437)][_0x34117d(0x53f)]({'where':{}},this[_0x34117d(0x43e)][_0x34117d(0x40d)]);}async[a0_0x581af9(0x471)](_0x4665ee){const _0x276c2f=a0_0x581af9;try{if(!Array[_0x276c2f(0x530)](_0x4665ee)||_0x4665ee[_0x276c2f(0x1ee)]===0x0)throw new Error(_0x276c2f(0x3c7));let _0x1d36b5=[],_0x89852e=[];for(let _0x2982c8 of _0x4665ee){if(_0x2982c8[_0x276c2f(0x4e8)])_0x2982c8[_0x276c2f(0x4e8)]=this[_0x276c2f(0x63b)](_0x2982c8[_0x276c2f(0x4e8)]);else continue;await this[_0x276c2f(0x456)]['chat'][_0x276c2f(0x841)]({'where':{'_id':_0x2982c8['_id']}},this[_0x276c2f(0x43e)][_0x276c2f(0x40d)])?_0x89852e[_0x276c2f(0x71d)]({'_id':_0x2982c8[_0x276c2f(0x4e8)],'leadInfo':_0x2982c8['leadInfo'],'owner':this[_0x276c2f(0x43e)]['wuid']}):_0x1d36b5[_0x276c2f(0x71d)]({'_id':_0x2982c8[_0x276c2f(0x4e8)],'owner':this[_0x276c2f(0x43e)][_0x276c2f(0x40d)],'leadInfo':_0x2982c8[_0x276c2f(0x4b6)],'imported':!0x0});}return _0x89852e[_0x276c2f(0x1ee)]>0x0&&await this['repository'][_0x276c2f(0x437)][_0x276c2f(0x6ad)](_0x89852e[_0x276c2f(0x697)](_0x50c12b=>({'query':{'where':{'_id':_0x50c12b[_0x276c2f(0x4e8)],'owner':this[_0x276c2f(0x43e)][_0x276c2f(0x40d)]}},'update':_0x50c12b}))),_0x1d36b5[_0x276c2f(0x1ee)]>0x0&&await this[_0x276c2f(0x456)][_0x276c2f(0x437)][_0x276c2f(0x62d)](_0x1d36b5,this[_0x276c2f(0x43e)]['wuid']),{'updated':_0x89852e[_0x276c2f(0x1ee)],'inserted':_0x1d36b5['length']};}catch(_0x37a145){throw console[_0x276c2f(0x3cf)](_0x276c2f(0x75d),_0x37a145),_0x37a145;}}async[a0_0x581af9(0x57a)](_0x42c668){const _0x43e213=a0_0x581af9;try{if(!Array[_0x43e213(0x530)](_0x42c668)||_0x42c668[_0x43e213(0x1ee)]===0x0)throw new Error(_0x43e213(0x3c7));let _0x265b85=0x64,_0x47940c=0x0;for(let _0x33532d=0x0;_0x33532d<_0x42c668[_0x43e213(0x1ee)];_0x33532d+=_0x265b85){let _0x1ad6e0=_0x42c668[_0x43e213(0x522)](_0x33532d,_0x33532d+_0x265b85),{updated:_0x46af4d}=await this['importChatsBatch'](_0x1ad6e0);_0x47940c+=_0x46af4d;}return{'updated':_0x47940c};}catch(_0xe5fffa){throw console[_0x43e213(0x3cf)](_0x43e213(0x75d),_0xe5fffa),_0xe5fffa;}}async[a0_0x581af9(0x814)](_0x12b68c){const _0x1e79ec=a0_0x581af9;try{let _0x19f0cb=await this[_0x1e79ec(0x456)][_0x1e79ec(0x553)]['find']({'where':{}},this[_0x1e79ec(0x43e)][_0x1e79ec(0x40d)]),_0x441314=new Set(_0x19f0cb[_0x1e79ec(0x697)](_0x4d0c43=>_0x4d0c43['_id'])),_0x5e66e9=[],_0x16b210=[];for(let _0x59641d of _0x12b68c){if(!_0x59641d[_0x1e79ec(0x4e8)])continue;_0x59641d[_0x1e79ec(0x4e8)]=this['createJid'](_0x59641d[_0x1e79ec(0x4e8)]);let _0x13b2b1=await this[_0x1e79ec(0x456)][_0x1e79ec(0x437)][_0x1e79ec(0x841)]({'where':{'_id':_0x59641d['_id']}},this[_0x1e79ec(0x43e)]['wuid']),_0x128fb1={};if(Object['entries'](_0x59641d[_0x1e79ec(0x4b6)])[_0x1e79ec(0x386)](([_0x371034,_0x5845d1])=>{const _0xa53319=_0x1e79ec;_0x128fb1[_0xa53319(0x64c)+_0x371034]=_0x5845d1;}),_0x13b2b1&&!_0x13b2b1[_0x1e79ec(0x727)]){let _0x479249=(_0x59641d[_0x1e79ec(0x4b6)][_0x1e79ec(0x1e7)]||[])[_0x1e79ec(0x378)](_0x1fdbb8=>_0x441314['has'](_0x1fdbb8)),_0x372ee1=new Set(_0x13b2b1['leadInfo'][_0x1e79ec(0x1e7)]||[]),_0x46cc72=_0x479249[_0x1e79ec(0x378)](_0x2d0b9d=>!_0x372ee1[_0x1e79ec(0x82b)](_0x2d0b9d)),_0xc31960=[..._0x372ee1][_0x1e79ec(0x378)](_0x1796cb=>!_0x479249[_0x1e79ec(0x2a9)](_0x1796cb));_0x16b210[_0x1e79ec(0x71d)](..._0x46cc72[_0x1e79ec(0x697)](_0xe01d88=>this[_0x1e79ec(0x5fc)](_0xe01d88,_0x59641d[_0x1e79ec(0x4e8)]))),_0x16b210[_0x1e79ec(0x71d)](..._0xc31960[_0x1e79ec(0x697)](_0x2d4399=>this[_0x1e79ec(0x216)](_0x2d4399,_0x59641d[_0x1e79ec(0x4e8)]))),_0x59641d[_0x1e79ec(0x4b6)]['etiquetas']=_0x479249,_0x5e66e9['push']({'query':{'where':{'_id':_0x59641d[_0x1e79ec(0x4e8)],'owner':this[_0x1e79ec(0x43e)]['wuid']}},'update':_0x128fb1});}else _0x128fb1[_0x1e79ec(0x727)]=!0x0,_0x5e66e9[_0x1e79ec(0x71d)]({'query':{'where':{'_id':_0x59641d[_0x1e79ec(0x4e8)],'owner':this['instance'][_0x1e79ec(0x40d)]}},'update':_0x128fb1});}let _0x5dc9a9=await this[_0x1e79ec(0x456)][_0x1e79ec(0x437)][_0x1e79ec(0x6ad)](_0x5e66e9);return await Promise[_0x1e79ec(0x699)](_0x16b210),{'updated':_0x5dc9a9};}catch(_0x351aac){throw console[_0x1e79ec(0x3cf)](_0x1e79ec(0x75d),_0x351aac),_0x351aac;}}async['fetchPrivacySettings'](){const _0x160b0f=a0_0x581af9;return await this['client'][_0x160b0f(0x7f8)]();}async[a0_0x581af9(0x773)](_0x17e245){const _0x68e22d=a0_0x581af9;try{return await this[_0x68e22d(0x1f1)][_0x68e22d(0x657)](_0x17e245[_0x68e22d(0x44b)][_0x68e22d(0x570)]),await this[_0x68e22d(0x1f1)]['updateProfilePicturePrivacy'](_0x17e245[_0x68e22d(0x44b)][_0x68e22d(0x274)]),await this['client'][_0x68e22d(0x756)](_0x17e245[_0x68e22d(0x44b)]['status']),await this['client'][_0x68e22d(0x446)](_0x17e245[_0x68e22d(0x44b)][_0x68e22d(0x85c)]),await this[_0x68e22d(0x1f1)][_0x68e22d(0x427)](_0x17e245[_0x68e22d(0x44b)][_0x68e22d(0x4ab)]),await this['client'][_0x68e22d(0x290)](_0x17e245[_0x68e22d(0x44b)]['groupadd']),this['client']?.['ws']?.[_0x68e22d(0x7f5)](),{'update':_0x68e22d(0x227),'data':{'readreceipts':_0x17e245['privacySettings'][_0x68e22d(0x570)],'profile':_0x17e245[_0x68e22d(0x44b)][_0x68e22d(0x274)],'status':_0x17e245['privacySettings']['status'],'online':_0x17e245[_0x68e22d(0x44b)][_0x68e22d(0x85c)],'last':_0x17e245[_0x68e22d(0x44b)][_0x68e22d(0x4ab)],'groupadd':_0x17e245['privacySettings'][_0x68e22d(0x66c)]}};}catch(_0x317af4){throw new I(_0x68e22d(0x2e3),_0x317af4[_0x68e22d(0x658)]());}}async[a0_0x581af9(0x7d9)](_0x4ba788){const _0x526c30=a0_0x581af9;let _0x308a88=(_0x4ba788?this[_0x526c30(0x63b)](_0x4ba788):this[_0x526c30(0x1f1)]?.['user']?.['id'])[_0x526c30(0x614)](/:\d{1,2}@/g,'@');this[_0x526c30(0x542)][_0x526c30(0x628)](_0x526c30(0x4ad)+_0x308a88);let _0x3994a5=await this[_0x526c30(0x456)][_0x526c30(0x862)][_0x526c30(0x841)]({'where':{'_id':_0x308a88}},this['instance'][_0x526c30(0x40d)]),_0x3314ed=_0x3994a5?_0x3994a5[_0x526c30(0x263)]:null;try{let _0x338035=(await this[_0x526c30(0x208)]({'numbers':[_0x308a88]}))?.[_0x526c30(0x71f)](),_0x305a76=(await this[_0x526c30(0x595)](_0x308a88,null,!0x1))[_0x526c30(0x4f1)]['pictureUrl'],_0x446ad2=await this[_0x526c30(0x1f7)](_0x338035?.[_0x526c30(0x7b9)]),_0x2d51ab=await this['fetchBusinessProfile'](_0x338035?.[_0x526c30(0x7b9)]),_0x2d3127=(await this[_0x526c30(0x595)](_0x308a88,null,!0x1))[_0x526c30(0x4f1)][_0x526c30(0x428)],_0x412ba2=await this['repository'][_0x526c30(0x437)][_0x526c30(0x841)]({'where':{'_id':_0x308a88}},this[_0x526c30(0x43e)]['wuid']),_0x30ed61={'imagechat':_0x305a76,'contactname':_0x3314ed||null,'pushName':_0x2d3127,'status':_0x446ad2?.[_0x526c30(0x2e9)],'isBusiness':_0x2d51ab[_0x526c30(0x76a)],'email':_0x2d51ab?.[_0x526c30(0x78b)],'description':_0x2d51ab?.[_0x526c30(0x855)],'website':_0x2d51ab?.[_0x526c30(0x4e5)]?.[_0x526c30(0x71f)](),'lastcache':Date['now'](),'imported':!_0x412ba2},_0x356dff=await this[_0x526c30(0x456)][_0x526c30(0x437)][_0x526c30(0x1b0)]({'where':{'_id':_0x308a88}},_0x30ed61,this[_0x526c30(0x43e)][_0x526c30(0x40d)]),_0x54b1d8={'owner':this[_0x526c30(0x43e)][_0x526c30(0x40d)],'_id':_0x308a88,'profilePictureUrl':_0x305a76,'status':_0x446ad2?.[_0x526c30(0x2e9)]};return this['repository']['contact'][_0x526c30(0x536)]([_0x54b1d8],this['instance'][_0x526c30(0x40d)]),_0x356dff&&F(this[_0x526c30(0x41a)],'chats',{'chat':_0x356dff}),{'wuid':_0x338035?.[_0x526c30(0x7b9)]||_0x308a88,'name':_0x338035?.['name'],'pushName':_0x2d3127,'numberExists':_0x338035?.[_0x526c30(0x247)],'picture':_0x305a76,'status':_0x446ad2?.[_0x526c30(0x2e9)],'isBusiness':_0x2d51ab['isBusiness'],'email':_0x2d51ab?.[_0x526c30(0x78b)],'description':_0x2d51ab?.['description'],'website':_0x2d51ab?.[_0x526c30(0x4e5)]?.[_0x526c30(0x71f)]()};}catch(_0x3dd4b4){return this[_0x526c30(0x542)][_0x526c30(0x3cf)](_0x526c30(0x57e)+(_0x3dd4b4 instanceof Error?_0x3dd4b4['message']:JSON[_0x526c30(0x7e4)](_0x3dd4b4,null,0x2))),{};}}async[a0_0x581af9(0x5a6)](_0x3f11a8){const _0x4350a7=a0_0x581af9;this['logger'][_0x4350a7(0x628)](_0x4350a7(0x305));try{let _0x517a40=_0x3f11a8?this[_0x4350a7(0x63b)](_0x3f11a8):this[_0x4350a7(0x43e)][_0x4350a7(0x40d)],_0x3c18e8=await this[_0x4350a7(0x1f1)][_0x4350a7(0x544)](_0x517a40);return this[_0x4350a7(0x542)]['verbose'](_0x4350a7(0x382)),_0x3c18e8?(this[_0x4350a7(0x542)][_0x4350a7(0x628)](_0x4350a7(0x405)),{'isBusiness':!0x0,..._0x3c18e8}):{'isBusiness':!0x1,'message':'Not\x20is\x20business\x20profile',...(await this['whatsappNumber']({'numbers':[_0x517a40]}))?.[_0x4350a7(0x71f)]()};}catch(_0x1e00d8){throw new I(_0x4350a7(0x412),_0x1e00d8[_0x4350a7(0x658)]());}}async[a0_0x581af9(0x1f7)](_0x1cb525){const _0x22d281=a0_0x581af9;let _0x391fde=this[_0x22d281(0x63b)](_0x1cb525);try{return{'wuid':_0x391fde,'status':(await this[_0x22d281(0x1f1)][_0x22d281(0x375)](_0x391fde))?.[_0x22d281(0x2e9)]};}catch{return{'wuid':_0x391fde,'status':null};}}async[a0_0x581af9(0x520)](_0x3a285d){const _0x53006b=a0_0x581af9;try{return await this[_0x53006b(0x1f1)][_0x53006b(0x520)](_0x3a285d),{'update':'success'};}catch(_0x4c7b07){throw new I(_0x53006b(0x412),_0x4c7b07['toString']());}}async[a0_0x581af9(0x753)](_0xb6cc4b){const _0x49ec4d=a0_0x581af9;try{return await this[_0x49ec4d(0x1f1)]['updateProfileStatus'](_0xb6cc4b),{'update':_0x49ec4d(0x227)};}catch(_0x54e1d7){throw new I(_0x49ec4d(0x806),_0x54e1d7['toString']());}}async[a0_0x581af9(0x3b0)](_0x5a362e){const _0x2cfa83=a0_0x581af9;try{let _0x251511;if((0x0,P[_0x2cfa83(0x4d5)])(_0x5a362e)){let _0x46f463=new Date()[_0x2cfa83(0x2aa)](),_0x4d531c=_0x5a362e+'?timestamp='+_0x46f463;_0x251511=(await Z[_0x2cfa83(0x258)][_0x2cfa83(0x488)](_0x4d531c,{'responseType':'arraybuffer'}))[_0x2cfa83(0x825)];}else{if((0x0,P[_0x2cfa83(0x57f)])(_0x5a362e))_0x251511=Buffer[_0x2cfa83(0x252)](_0x5a362e,_0x2cfa83(0x3ed));else throw new w(_0x2cfa83(0x7aa));}return await this[_0x2cfa83(0x1f1)][_0x2cfa83(0x3b0)](this[_0x2cfa83(0x43e)]['wuid'],_0x251511),{'update':'success'};}catch(_0x20ba9c){throw new I(_0x2cfa83(0x3fc),_0x20ba9c[_0x2cfa83(0x658)]());}}async[a0_0x581af9(0x3c1)](){const _0x1dbc73=a0_0x581af9;try{return await this[_0x1dbc73(0x1f1)][_0x1dbc73(0x3c1)](this[_0x1dbc73(0x43e)][_0x1dbc73(0x40d)]),{'update':'success'};}catch(_0x91b9c0){throw new I(_0x1dbc73(0x260),_0x91b9c0[_0x1dbc73(0x658)]());}}async[a0_0x581af9(0x7c8)](_0x41d01a){const _0x125678=a0_0x581af9;try{let _0x469c86=_0x41d01a[_0x125678(0x354)][_0x125678(0x697)](_0x4261fc=>this[_0x125678(0x63b)](_0x4261fc)),{id:_0x571fd2}=await this[_0x125678(0x1f1)][_0x125678(0x217)](_0x41d01a[_0x125678(0x35b)],_0x469c86);return _0x41d01a?.[_0x125678(0x855)]&&await this[_0x125678(0x1f1)][_0x125678(0x54f)](_0x571fd2,_0x41d01a['description']),{'metadata':await this[_0x125678(0x1f1)][_0x125678(0x5fa)](_0x571fd2)};}catch(_0x5cf499){throw this['logger'][_0x125678(0x3cf)](this['instanceName']+'\x20('+this[_0x125678(0x43e)]['wuid']+'):\x20'+(_0x5cf499 instanceof Error?_0x5cf499[_0x125678(0x390)]:JSON[_0x125678(0x7e4)](_0x5cf499,null,0x2))),new I('Error\x20creating\x20group',_0x5cf499[_0x125678(0x658)]());}}async['updateGroupPicture'](_0x28731d){const _0x4f98df=a0_0x581af9;try{let _0xb2a87e;if((0x0,P[_0x4f98df(0x4d5)])(_0x28731d[_0x4f98df(0x2e6)])){let _0x462c4f=new Date()['getTime'](),_0x47a252=_0x28731d[_0x4f98df(0x2e6)]+_0x4f98df(0x379)+_0x462c4f;_0xb2a87e=(await Z[_0x4f98df(0x258)]['get'](_0x47a252,{'responseType':_0x4f98df(0x3d7)}))[_0x4f98df(0x825)];}else{if((0x0,P[_0x4f98df(0x57f)])(_0x28731d['image']))_0xb2a87e=Buffer['from'](_0x28731d['image'],_0x4f98df(0x3ed));else throw new w('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x4f98df(0x1f1)]['updateProfilePicture'](_0x28731d[_0x4f98df(0x650)],_0xb2a87e),{'update':'success'};}catch(_0x5d3c8d){throw new I('Error\x20update\x20group\x20picture',_0x5d3c8d['toString']());}}async[a0_0x581af9(0x2d9)](_0x1ad351){const _0x5b80c4=a0_0x581af9;try{return await this[_0x5b80c4(0x1f1)]['groupUpdateDescription'](_0x1ad351[_0x5b80c4(0x650)],_0x1ad351['description']),{'update':'success'};}catch(_0x5afcd8){throw new I(_0x5b80c4(0x78d),_0x5afcd8['toString']());}}async[a0_0x581af9(0x48c)](_0x260d63){const _0x35b7e7=a0_0x581af9;try{return await this[_0x35b7e7(0x1f1)][_0x35b7e7(0x4d8)](_0x260d63[_0x35b7e7(0x650)],_0x260d63[_0x35b7e7(0x428)]),{'update':'success'};}catch(_0x466cb7){throw new I(_0x35b7e7(0x2a8),_0x466cb7[_0x35b7e7(0x658)]());}}async[a0_0x581af9(0x6cb)](_0x1dc7d0){const _0x143c6a=a0_0x581af9;try{let _0x317eb7=await this['client'][_0x143c6a(0x33e)](_0x1dc7d0[_0x143c6a(0x650)],_0x1dc7d0[_0x143c6a(0x5db)]);return{'success':!0x0};}catch(_0x5c5132){throw new w(_0x143c6a(0x52a),_0x5c5132[_0x143c6a(0x658)]());}}async[a0_0x581af9(0x288)](_0x3076e5){const _0x3049ea=a0_0x581af9;try{return await this[_0x3049ea(0x1f1)][_0x3049ea(0x3dc)](_0x3076e5[_0x3049ea(0x650)],_0x3076e5[_0x3049ea(0x6e6)]),{'update':_0x3049ea(0x227)};}catch(_0x577214){throw new I('Error\x20change\x20group\x20setting',_0x577214[_0x3049ea(0x658)]());}}async[a0_0x581af9(0x406)](_0x2a688b){const _0x2c9133=a0_0x581af9;try{if(_0x2a688b[_0x2c9133(0x3c2)]===!0x0&&await this[_0x2c9133(0x1f1)][_0x2c9133(0x3dc)](_0x2a688b[_0x2c9133(0x650)],_0x2c9133(0x767)),_0x2a688b[_0x2c9133(0x3c2)]===!0x1&&await this[_0x2c9133(0x1f1)][_0x2c9133(0x3dc)](_0x2a688b[_0x2c9133(0x650)],'unlocked'),_0x2a688b['announce']===!0x0&&await this[_0x2c9133(0x1f1)]['groupSettingUpdate'](_0x2a688b['groupJid'],_0x2c9133(0x714)),_0x2a688b[_0x2c9133(0x66b)]===!0x1&&await this[_0x2c9133(0x1f1)]['groupSettingUpdate'](_0x2a688b[_0x2c9133(0x650)],'not_announcement'),_0x2a688b[_0x2c9133(0x1d2)]===!0x0&&await this[_0x2c9133(0x1f1)][_0x2c9133(0x2b4)](_0x2a688b[_0x2c9133(0x650)],_0x2c9133(0x24e)),_0x2a688b[_0x2c9133(0x1d2)]===!0x1&&await this[_0x2c9133(0x1f1)][_0x2c9133(0x2b4)](_0x2a688b['groupJid'],_0x2c9133(0x271)),_0x2a688b[_0x2c9133(0x282)]===!0x0&&await this[_0x2c9133(0x1f1)][_0x2c9133(0x403)](_0x2a688b[_0x2c9133(0x650)],'on'),_0x2a688b[_0x2c9133(0x282)]===!0x1&&await this[_0x2c9133(0x1f1)][_0x2c9133(0x403)](_0x2a688b[_0x2c9133(0x650)],_0x2c9133(0x4f2)),typeof _0x2a688b[_0x2c9133(0x5db)]<'u'&&_0x2a688b[_0x2c9133(0x5db)]!==null&&await this[_0x2c9133(0x1f1)][_0x2c9133(0x33e)](_0x2a688b['groupJid'],_0x2a688b[_0x2c9133(0x5db)]),_0x2a688b['name']&&await this[_0x2c9133(0x1f1)][_0x2c9133(0x4d8)](_0x2a688b[_0x2c9133(0x650)],_0x2a688b['name']),_0x2a688b[_0x2c9133(0x855)]&&await this[_0x2c9133(0x1f1)][_0x2c9133(0x54f)](_0x2a688b[_0x2c9133(0x650)],_0x2a688b['description']),_0x2a688b[_0x2c9133(0x2e6)]){let _0x5689ee;if((0x0,P[_0x2c9133(0x4d5)])(_0x2a688b[_0x2c9133(0x2e6)])){let _0x54be1c=new Date()[_0x2c9133(0x2aa)](),_0x133c63=_0x2a688b[_0x2c9133(0x2e6)]+_0x2c9133(0x379)+_0x54be1c;_0x5689ee=(await Z['default'][_0x2c9133(0x488)](_0x133c63,{'responseType':'arraybuffer'}))['data'];}else{if((0x0,P['isBase64'])(_0x2a688b['image']))_0x5689ee=Buffer[_0x2c9133(0x252)](_0x2a688b['image'],_0x2c9133(0x3ed));else throw new w(_0x2c9133(0x7aa));}await this[_0x2c9133(0x1f1)]['updateProfilePicture'](_0x2a688b[_0x2c9133(0x650)],_0x5689ee);}return await this['findGroup']({'groupJid':_0x2a688b[_0x2c9133(0x650)]},_0x2c9133(0x1dd));}catch(_0x29dd82){throw new I(_0x2c9133(0x5d2),_0x29dd82[_0x2c9133(0x658)]());}}async[a0_0x581af9(0x44f)](_0x54c760){const _0x44f2b0=a0_0x581af9;try{if(_0x54c760[_0x44f2b0(0x2ff)]==='approve'||_0x54c760['action']===_0x44f2b0(0x857)){let _0x431693=_0x54c760[_0x44f2b0(0x354)]['map'](_0x7f65f1=>this['createJid'](_0x7f65f1));await this[_0x44f2b0(0x1f1)]['groupRequestParticipantsUpdate'](_0x54c760[_0x44f2b0(0x650)],_0x431693,_0x54c760[_0x44f2b0(0x2ff)]);}else{let _0xe5ca6b=_0x54c760['participants'][_0x44f2b0(0x697)](_0x350c9b=>this['createJid'](_0x350c9b));await this[_0x44f2b0(0x1f1)][_0x44f2b0(0x1d6)](_0x54c760['groupJid'],_0xe5ca6b,_0x54c760[_0x44f2b0(0x2ff)]);}return await this['findGroup']({'groupJid':_0x54c760[_0x44f2b0(0x650)]},_0x44f2b0(0x1dd));}catch(_0x4ea9dc){throw new w('Error\x20updating\x20participants',_0x4ea9dc['toString']());}}async[a0_0x581af9(0x7ea)](_0x4607e0){const _0x2b92f1=a0_0x581af9;try{return await this['client']['groupGetInviteInfo'](_0x4607e0['inviteCode']);}catch(_0x50d60c){throw new I(_0x2b92f1(0x6e7),_0x50d60c[_0x2b92f1(0x658)]());}}async['findGroup'](_0x458987,_0x381cf4=a0_0x581af9(0x5e8)){const _0x5180b7=a0_0x581af9;try{let _0x29b06b=await this[_0x5180b7(0x1f1)][_0x5180b7(0x5fa)](_0x458987[_0x5180b7(0x650)]),_0x365604=[];try{_0x365604=await this[_0x5180b7(0x1f1)][_0x5180b7(0x6fe)](_0x458987[_0x5180b7(0x650)]);}catch(_0x3638ee){this[_0x5180b7(0x542)][_0x5180b7(0x628)](this['instanceName']+'\x20('+this[_0x5180b7(0x43e)][_0x5180b7(0x40d)]+_0x5180b7(0x39d)+_0x458987[_0x5180b7(0x650)]+':\x20'+(_0x3638ee instanceof Error?_0x3638ee[_0x5180b7(0x390)]:JSON[_0x5180b7(0x7e4)](_0x3638ee,null,0x2)));}let _0x2a2159=null;try{_0x2a2159=(await this['findAndUpdateCacheContact'](_0x458987['groupJid'],null,!0x0))['cachedContact'][_0x5180b7(0x571)];}catch(_0x3637c7){this['logger'][_0x5180b7(0x628)](this[_0x5180b7(0x41a)]+'\x20('+this[_0x5180b7(0x43e)][_0x5180b7(0x40d)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x458987[_0x5180b7(0x650)]+':\x20'+(_0x3637c7 instanceof Error?_0x3637c7[_0x5180b7(0x390)]:JSON[_0x5180b7(0x7e4)](_0x3637c7,null,0x2)));}let _0x593ffc=_0x29b06b[_0x5180b7(0x354)][_0x5180b7(0x697)](_0x413fd7=>_0x413fd7['id']),_0x148da4=_0x365604['map'](_0xc642b5=>_0xc642b5[_0x5180b7(0x7b9)]),_0x1a43df=await this[_0x5180b7(0x456)]['cacheContact'][_0x5180b7(0x779)]([..._0x593ffc,..._0x148da4]),_0x18baa9=_0x29b06b[_0x5180b7(0x354)][_0x5180b7(0x697)](_0x50c668=>{const _0x3e7e01=_0x5180b7;let _0x448371=_0x1a43df[_0x3e7e01(0x53f)](_0x2d8035=>_0x2d8035[_0x3e7e01(0x4e8)]===_0x50c668['id']);return{'id':_0x50c668['id'],'status':_0x50c668[_0x3e7e01(0x80a)]?_0x50c668[_0x3e7e01(0x80a)]:_0x3e7e01(0x76f),'pushName':_0x448371?.[_0x3e7e01(0x428)],'profilePictureUrl':_0x448371?.[_0x3e7e01(0x571)]};}),_0x36972a=_0x365604[_0x5180b7(0x697)](_0x256632=>{const _0x956b37=_0x5180b7;let _0x1cb37d=_0x1a43df[_0x956b37(0x53f)](_0x3ae414=>_0x3ae414[_0x956b37(0x4e8)]===_0x256632[_0x956b37(0x7b9)]);return{'id':_0x256632['jid'],'status':_0x956b37(0x1bb),'pushName':_0x1cb37d?.[_0x956b37(0x428)],'profilePictureUrl':_0x1cb37d?.['pictureUrl'],'request_method':_0x256632[_0x956b37(0x622)],'request_time':_0x256632['request_time']};}),_0x38349a=[..._0x18baa9,..._0x36972a];_0x29b06b[_0x5180b7(0x354)]=_0x38349a;let _0x360fe5=await this['repository']['chat']['updateOne']({'where':{'_id':_0x458987[_0x5180b7(0x650)]}},{'imagechat':_0x2a2159,'name':_0x29b06b[_0x5180b7(0x35b)],'group_size':_0x29b06b['size'],'group_announce':_0x29b06b[_0x5180b7(0x66b)],'group_isCommunity':_0x29b06b[_0x5180b7(0x777)],'lastcache':Date[_0x5180b7(0x23e)]()},this[_0x5180b7(0x43e)][_0x5180b7(0x40d)]);return _0x360fe5&&F(this[_0x5180b7(0x41a)],_0x5180b7(0x6bc),{'chat':_0x360fe5}),{'metadata':_0x29b06b,'image':_0x2a2159};}catch(_0x395598){if(_0x381cf4===_0x5180b7(0x1dd))return;throw new j(_0x5180b7(0x2bd),_0x395598[_0x5180b7(0x658)]());}}async[a0_0x581af9(0x7d3)](){const _0x34ce33=a0_0x581af9;try{let _0x445ff2=await this[_0x34ce33(0x1f1)][_0x34ce33(0x84b)](),_0x431274=Object[_0x34ce33(0x4d9)](_0x445ff2)[_0x34ce33(0x378)](_0x2c55df=>(0x0,m[_0x34ce33(0x6c1)])(_0x2c55df?.['id']))[_0x34ce33(0x697)](async _0x33c54b=>{const _0x58fbf5=_0x34ce33;try{let _0x201a00=await this[_0x58fbf5(0x1f1)][_0x58fbf5(0x5bb)](_0x33c54b['id'],_0x58fbf5(0x2f8)),_0x59b4c6=await this[_0x58fbf5(0x595)](_0x33c54b['id'],_0x33c54b[_0x58fbf5(0x35b)],!0x1),_0x3c4fc9=_0x59b4c6[_0x58fbf5(0x4f1)]['pictureUrl'],_0x1b2227={'groupJid':_0x33c54b?.['id'],'subject':_0x33c54b?.[_0x58fbf5(0x35b)],'subjectOwner':_0x33c54b?.[_0x58fbf5(0x295)]?.[_0x58fbf5(0x68e)]('@')[0x0],'subjectTime':_0x33c54b?.[_0x58fbf5(0x47b)],'size':_0x33c54b?.['participants']?.[_0x58fbf5(0x1ee)],'owner':_0x33c54b?.[_0x58fbf5(0x409)]?.[_0x58fbf5(0x68e)]('@')[0x0],'creation':_0x33c54b?.['creation'],'desc':_0x33c54b?.['desc'],'restrict':_0x33c54b?.[_0x58fbf5(0x3c2)],'announce':_0x33c54b?.['announce'],'image':_0x3c4fc9,'isCommunity':_0x33c54b?.['isCommunity'],'joinApprovalMode':_0x33c54b?.[_0x58fbf5(0x282)],'memberCanAddParticipant':_0x33c54b?.['memberAddMode']},_0x4db786=await this[_0x58fbf5(0x456)]['chat']['updateOne']({'where':{'_id':_0x33c54b?.['id']}},{'imagechat':_0x59b4c6[_0x58fbf5(0x4f1)][_0x58fbf5(0x571)],'name':_0x33c54b?.['subject'],'group_size':_0x33c54b?.['size'],'group_announce':_0x33c54b?.[_0x58fbf5(0x66b)],'group_isCommunity':_0x33c54b?.[_0x58fbf5(0x777)],'lastcache':Date[_0x58fbf5(0x23e)]()},this['instance'][_0x58fbf5(0x40d)]);return _0x4db786&&F(this['instanceName'],_0x58fbf5(0x6bc),{'chat':_0x4db786}),_0x1b2227;}catch(_0x5e25ab){return this['logger'][_0x58fbf5(0x628)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x58fbf5(0x72e)+_0x33c54b['id']+':\x20'+(_0x5e25ab instanceof Error?_0x5e25ab[_0x58fbf5(0x390)]:JSON[_0x58fbf5(0x7e4)](_0x5e25ab,null,0x2))),null;}}),_0x374f55=(await Promise[_0x34ce33(0x699)](_0x431274))['filter'](_0x169712=>_0x169712!==null);return console[_0x34ce33(0x679)](_0x374f55['length']+_0x34ce33(0x717)),_0x374f55;}catch(_0x34f3bb){throw new j(_0x34ce33(0x2bd),_0x34f3bb[_0x34ce33(0x658)]());}}async[a0_0x581af9(0x1cd)](){const _0x3dff3f=a0_0x581af9;try{let _0x5d0399=[],_0x124b04=await this[_0x3dff3f(0x1f1)]['groupFetchAllParticipating'](),_0x4fb5bb=Object[_0x3dff3f(0x4d9)](_0x124b04),_0x41b2e3=_0x4fb5bb[_0x3dff3f(0x378)](_0x1fdf3c=>(0x0,m[_0x3dff3f(0x6c1)])(_0x1fdf3c?.['id']))['map'](async _0x4fa1d5=>{const _0x5084c9=_0x3dff3f;try{return await this[_0x5084c9(0x1f1)]['profilePictureUrl'](_0x4fa1d5['id'],_0x5084c9(0x2f8));}catch(_0x3561f9){return this['logger'][_0x5084c9(0x628)](this['instanceName']+'\x20('+this[_0x5084c9(0x43e)][_0x5084c9(0x40d)]+_0x5084c9(0x261)+_0x4fa1d5['id']+':\x20'+(_0x3561f9 instanceof Error?_0x3561f9[_0x5084c9(0x390)]:JSON[_0x5084c9(0x7e4)](_0x3561f9,null,0x2))),null;}}),_0x5c8a8f=await Promise['all'](_0x41b2e3);for(let _0x530c8=0x0;_0x530c8<_0x4fb5bb['length'];_0x530c8++){let _0x7c1815=_0x4fb5bb[_0x530c8];if((0x0,m[_0x3dff3f(0x6c1)])(_0x7c1815?.['id'])){_0x5d0399[_0x3dff3f(0x71d)]({'groupJid':_0x7c1815?.['id'],'subject':_0x7c1815?.[_0x3dff3f(0x35b)],'subjectOwner':_0x7c1815?.['subjectOwner']?.[_0x3dff3f(0x68e)]('@')[0x0],'subjectTime':_0x7c1815?.['subjectTime'],'size':_0x7c1815?.[_0x3dff3f(0x354)]?.[_0x3dff3f(0x1ee)],'owner':_0x7c1815?.['owner']?.[_0x3dff3f(0x68e)]('@')[0x0],'creation':_0x7c1815?.[_0x3dff3f(0x435)],'desc':_0x7c1815?.[_0x3dff3f(0x452)],'restrict':_0x7c1815?.[_0x3dff3f(0x3c2)],'announce':_0x7c1815?.['announce'],'image':_0x5c8a8f[_0x530c8],'isCommunity':_0x7c1815?.[_0x3dff3f(0x777)],'joinApprovalMode':_0x7c1815?.[_0x3dff3f(0x282)],'memberCanAddParticipant':_0x7c1815?.[_0x3dff3f(0x1d2)]});let _0x10b628=await this[_0x3dff3f(0x456)][_0x3dff3f(0x437)]['updateOne']({'where':{'_id':_0x7c1815?.['id']}},{'imagechat':_0x5c8a8f[_0x530c8],'name':_0x7c1815?.[_0x3dff3f(0x35b)],'group_size':_0x7c1815?.['size'],'group_announce':_0x7c1815?.[_0x3dff3f(0x66b)],'group_isCommunity':_0x7c1815?.[_0x3dff3f(0x777)],'lastcache':Date['now']()},this[_0x3dff3f(0x43e)][_0x3dff3f(0x40d)]);_0x10b628&&F(this[_0x3dff3f(0x41a)],_0x3dff3f(0x6bc),{'chat':_0x10b628});}}return _0x5d0399;}catch(_0x2f8e4b){throw new j(_0x3dff3f(0x2bd),_0x2f8e4b['toString']());}}async[a0_0x581af9(0x5ee)](_0x7f4a61){const _0x276e46=a0_0x581af9;try{let _0x1b7515=await this[_0x276e46(0x1f1)][_0x276e46(0x4fa)](_0x7f4a61[_0x276e46(0x650)]);return{'inviteUrl':_0x276e46(0x4eb)+_0x1b7515,'inviteCode':_0x1b7515};}catch(_0x4e53bc){throw new j(_0x276e46(0x42b),_0x4e53bc[_0x276e46(0x658)]());}}async['revokeInviteCode'](_0x20edbd){const _0x53d928=a0_0x581af9;try{let _0x2c559c=await this['client'][_0x53d928(0x724)](_0x20edbd[_0x53d928(0x650)]);return{'revoked':!0x0,'inviteUrl':_0x53d928(0x4eb)+_0x2c559c,'inviteCode':_0x2c559c};}catch(_0x115973){throw new j('Revoke\x20error',_0x115973[_0x53d928(0x658)]());}}async[a0_0x581af9(0x680)](_0x3b30a6){const _0x1f9aa8=a0_0x581af9;try{if((0x0,P['isURL'])(_0x3b30a6[_0x1f9aa8(0x5ee)]))var _0x197de0=_0x3b30a6[_0x1f9aa8(0x5ee)][_0x1f9aa8(0x68e)]('/')[0x3];else var _0x197de0=_0x3b30a6[_0x1f9aa8(0x5ee)];let _0x3b916e=await this[_0x1f9aa8(0x1f1)]['groupAcceptInvite'](_0x197de0);return this['logger'][_0x1f9aa8(0x628)](this[_0x1f9aa8(0x41a)]+'\x20('+this['instance'][_0x1f9aa8(0x40d)]+'):\x20'+_0x3b916e),{'join':!0x0,'inviteCode':_0x197de0,'groupJid':_0x3b916e};}catch(_0x1c8d7d){throw new j('No\x20join\x20group\x20invite\x20code\x20or\x20url',_0x1c8d7d[_0x1f9aa8(0x658)]());}}async[a0_0x581af9(0x464)](_0x1315c5){const _0x5a909c=a0_0x581af9;try{return{'participants':(await this['client'][_0x5a909c(0x5fa)](_0x1315c5[_0x5a909c(0x650)]))[_0x5a909c(0x354)]};}catch(_0x48ed32){throw new j(_0x5a909c(0x74d),_0x48ed32[_0x5a909c(0x658)]());}}async[a0_0x581af9(0x5b1)](_0x404081){const _0x5d1053=a0_0x581af9;try{return await this['client'][_0x5d1053(0x521)](_0x404081[_0x5d1053(0x650)]),{'groupJid':_0x404081[_0x5d1053(0x650)],'leave':!0x0};}catch(_0x3b6449){throw new w(_0x5d1053(0x455),_0x3b6449['toString']());}}async[a0_0x581af9(0x69b)](_0xd2859d){const _0x11e407=a0_0x581af9;return await this[_0x11e407(0x374)](_0xd2859d[_0x11e407(0x557)],{'poll':{'name':_0xd2859d['pollMessage']?.[_0x11e407(0x428)],'selectableCount':_0xd2859d[_0x11e407(0x69b)][_0x11e407(0x864)],'values':_0xd2859d[_0x11e407(0x69b)][_0x11e407(0x4d9)]}},_0xd2859d?.['options']);}async['listMessage'](_0x552fb1){const _0x10b1fc=a0_0x581af9;return await this[_0x10b1fc(0x374)](_0x552fb1['number'],{'listMessage':{'title':_0x552fb1[_0x10b1fc(0x376)]['title'],'description':_0x552fb1[_0x10b1fc(0x376)][_0x10b1fc(0x855)],'buttonText':_0x552fb1[_0x10b1fc(0x376)]?.[_0x10b1fc(0x441)],'footerText':_0x552fb1[_0x10b1fc(0x376)]?.[_0x10b1fc(0x1dc)],'sections':_0x552fb1[_0x10b1fc(0x376)][_0x10b1fc(0x52f)],'listType':0x2}},_0x552fb1?.[_0x10b1fc(0x499)]);}async['menuMessage'](_0x20c289){const _0x55d388=a0_0x581af9;let _0x17f6f6;if(_0x20c289[_0x55d388(0x33c)][_0x55d388(0x612)]==='list'){let _0x51bb26=_0x20c289[_0x55d388(0x33c)][_0x55d388(0x711)][_0x55d388(0x609)]('\x0a'),_0x492d9e='',_0x1e543d='';_0x51bb26!==-0x1?(_0x492d9e=_0x20c289['menuMessage'][_0x55d388(0x711)]['substring'](0x0,_0x51bb26)[_0x55d388(0x7c5)](),_0x1e543d=_0x20c289[_0x55d388(0x33c)][_0x55d388(0x711)][_0x55d388(0x654)](_0x51bb26+0x1)):_0x1e543d=_0x20c289[_0x55d388(0x33c)][_0x55d388(0x711)];let _0x348c7b=_0x20c289[_0x55d388(0x33c)][_0x55d388(0x4a4)][_0x55d388(0x378)](_0x3df931=>_0x3df931['trim']()!==''),_0x306cbc=this[_0x55d388(0x1e3)](_0x348c7b);_0x17f6f6={'listMessage':{'title':_0x492d9e,'description':_0x1e543d,'buttonText':_0x20c289[_0x55d388(0x33c)][_0x55d388(0x441)]||'Selecione','footerText':_0x20c289[_0x55d388(0x33c)][_0x55d388(0x1dc)],'sections':_0x306cbc,'listType':0x2}};}else{if(_0x20c289[_0x55d388(0x33c)][_0x55d388(0x612)]===_0x55d388(0x7ef)){let _0x5b5248=_0x20c289[_0x55d388(0x33c)][_0x55d388(0x4a4)][_0x55d388(0x378)](_0xac4956=>!(_0xac4956['startsWith']('[')&&_0xac4956[_0x55d388(0x483)](']'))&&_0xac4956['trim']()!=='')[_0x55d388(0x697)](_0x275dfb=>_0x275dfb[_0x55d388(0x68e)]('\x0a')[0x0]);_0x17f6f6={'poll':{'name':_0x20c289[_0x55d388(0x33c)][_0x55d388(0x711)],'selectableCount':_0x20c289[_0x55d388(0x33c)][_0x55d388(0x864)]||0x1,'values':_0x5b5248}};}}return await this['sendMessageWithTyping'](_0x20c289['number'],_0x17f6f6,_0x20c289?.['options']);}[a0_0x581af9(0x1e3)](_0x1c783e){const _0x29499c=a0_0x581af9;let _0x169e15=[],_0x1e066b={'rows':[]};return _0x1c783e[_0x29499c(0x386)](_0x51d74e=>{const _0x1b0612=_0x29499c;if(_0x51d74e[_0x1b0612(0x4c3)]('[')&&_0x51d74e['endsWith'](']'))_0x1e066b[_0x1b0612(0x453)][_0x1b0612(0x1ee)]>0x0&&_0x169e15['push'](_0x1e066b),_0x1e066b={'title':_0x51d74e[_0x1b0612(0x522)](0x1,-0x1),'rows':[]};else{let _0x1d1cb4=_0x51d74e[_0x1b0612(0x68e)]('\x0a')[_0x1b0612(0x697)](_0x3247f7=>_0x3247f7[_0x1b0612(0x7c5)]()),_0x1d7c6d=_0x1d1cb4[0x0],_0x123f6a=_0x1d1cb4[0x1]||null,_0x5bd97f=_0x1d1cb4[0x2]||_0x1d7c6d;_0x1e066b[_0x1b0612(0x453)][_0x1b0612(0x71d)]({'title':_0x1d7c6d,'description':_0x123f6a,'rowId':_0x5bd97f});}}),_0x1e066b[_0x29499c(0x453)][_0x29499c(0x1ee)]>0x0&&_0x169e15[_0x29499c(0x71d)](_0x1e066b),_0x169e15;}async[a0_0x581af9(0x2ec)](_0x4823a2,_0x10f153){const _0x321563=a0_0x581af9;if(await this[_0x321563(0x38a)](_0x4823a2,!0x0)){let _0x5f2e3a={'where':{'_id':_0x4823a2['id']}},_0x3073e2={'status':[_0x10f153[_0x321563(0x2e9)]][0x0]};try{let _0x2ce37e=await this[_0x321563(0x456)][_0x321563(0x390)][_0x321563(0x536)](_0x5f2e3a,_0x3073e2,this[_0x321563(0x43e)][_0x321563(0x40d)]);_0x2ce37e&&F(this[_0x321563(0x41a)],_0x321563(0x4bc),{'message':_0x2ce37e});}catch{}}}[a0_0x581af9(0x64e)](_0x1aee6f){const _0x3ddc11=a0_0x581af9;let _0x33c4ce=[];return _0x1aee6f['forEach'](_0x15d9a9=>{const _0x509c86=a0_0xd85f;_0x15d9a9[_0x509c86(0x540)]&&_0x33c4ce[_0x509c86(0x71d)]('['+_0x15d9a9['title']+']'),_0x15d9a9[_0x509c86(0x453)][_0x509c86(0x386)](_0x3c0445=>{const _0x437f2d=_0x509c86;_0x33c4ce[_0x437f2d(0x71d)](_0x3c0445['title']);});}),_0x33c4ce[_0x3ddc11(0x495)]('|');}['formatVCard'](_0x469704){const _0x5c51d5=a0_0x581af9;let _0x5695bc=_0x469704[_0x5c51d5(0x614)](/\\n/g,'\x0a')[_0x5c51d5(0x68e)]('\x0a')[_0x5c51d5(0x378)](_0x12978e=>_0x12978e[_0x5c51d5(0x2a9)](_0x5c51d5(0x39f))||_0x12978e['includes'](_0x5c51d5(0x5ae))),_0xfaf929='';return _0x5695bc[_0x5c51d5(0x386)](_0x16e5a9=>{const _0x50d70a=_0x5c51d5;let _0x3724f5=/TEL(?:.*):(.+)/,_0x25f200=/EMAIL(?:.*):(.+)/,_0x17e2f5=_0x16e5a9[_0x50d70a(0x473)](_0x3724f5),_0x46d1f4=_0x16e5a9[_0x50d70a(0x473)](_0x25f200);if(_0x17e2f5){let _0x1b1838=_0x17e2f5[0x1][_0x50d70a(0x614)](/-| |\+|\(|\)/g,'')['trim']();_0xfaf929+=_0x50d70a(0x5c0)+_0x1b1838+'\x0a';}else{if(_0x46d1f4){let _0x4b2a61=_0x46d1f4[0x1][_0x50d70a(0x7c5)]();_0xfaf929+=_0x50d70a(0x848)+_0x4b2a61+'\x0a';}}}),_0xfaf929[_0x5c51d5(0x7c5)]();}async['updateChatWithMessage'](_0x408e5e,_0x11164e,_0x5e4581){const _0xb100d1=a0_0x581af9;if(!_0x408e5e[_0xb100d1(0x54e)])return;let _0x4f5c74=_0x11164e['key'][_0xb100d1(0x601)][_0xb100d1(0x614)](/:\d{1,2}@/g,'@'),_0x2da805=_0x11164e['key'][_0xb100d1(0x795)],_0x4109df=_0x4f5c74[_0xb100d1(0x483)](_0xb100d1(0x594)),_0x32c219=_0x11164e[_0xb100d1(0x71e)]?.['text']||_0x11164e['message_normalized']?.['caption']||_0x11164e['message_normalized']?.[_0xb100d1(0x514)]||_0x11164e[_0xb100d1(0x71e)]?.[_0xb100d1(0x428)],_0x36f15e={'lastmsg':_0x11164e[_0xb100d1(0x5a4)]||Date['now'](),'unreadcount':_0x2da805?0x0:0x1,..._0x2da805||_0x4109df?{}:{'name':_0x11164e[_0xb100d1(0x263)]},..._0x4109df?{'group':_0x4109df}:{},...!_0x2da805&&!_0x4109df&&_0x11164e['profilePictureUrl']?{'imagechat':_0x11164e['profilePictureUrl']}:{}},_0x42fe90=await this[_0xb100d1(0x456)][_0xb100d1(0x437)][_0xb100d1(0x1b0)]({'where':{'_id':_0x4f5c74}},_0x36f15e,this[_0xb100d1(0x43e)][_0xb100d1(0x40d)],{'new':!0x0,'upsert':!0x0});if(_0x42fe90[_0xb100d1(0x727)]){let _0x3eb54f=await this[_0xb100d1(0x456)][_0xb100d1(0x553)][_0xb100d1(0x53f)]({'where':{}},this[_0xb100d1(0x43e)]['wuid']),_0x4c6da0=new Set(_0x3eb54f['map'](_0x1ebb88=>_0x1ebb88['_id'])),_0x3430ad=(_0x42fe90[_0xb100d1(0x4b6)]?.[_0xb100d1(0x1e7)]||[])[_0xb100d1(0x378)](_0x1b64eb=>_0x4c6da0[_0xb100d1(0x82b)](_0x1b64eb)),_0x4473ce={'leadInfo.etiquetas':_0x3430ad,'imported':!0x1};_0x42fe90=await this[_0xb100d1(0x456)]['chat'][_0xb100d1(0x1b0)]({'where':{'_id':_0x4f5c74}},_0x4473ce,this[_0xb100d1(0x43e)]['wuid']);for(let _0x3d29c4 of _0x3430ad)await this['AddChatLabel'](_0x3d29c4,_0x4f5c74);}if(!_0x4109df&&(!_0x42fe90?.[_0xb100d1(0x4b6)]||!_0x42fe90[_0xb100d1(0x4b6)][_0xb100d1(0x538)])&&_0x11164e[_0xb100d1(0x263)]&&!_0x2da805&&(_0x42fe90=await this[_0xb100d1(0x456)][_0xb100d1(0x437)][_0xb100d1(0x1b0)]({'where':{'_id':_0x4f5c74}},{'leadInfo.nome':_0x11164e[_0xb100d1(0x263)]},this[_0xb100d1(0x43e)]['wuid'],{'new':!0x0,'upsert':!0x0})),_0x5e4581===_0xb100d1(0x1b7)&&_0x2da805&&this[_0xb100d1(0x27b)]?.[_0xb100d1(0x212)][_0xb100d1(0x3db)]&&!_0x32c219[_0xb100d1(0x4c3)](this[_0xb100d1(0x27b)]?.['flowConfig'][_0xb100d1(0x6bf)])){let _0x2999fa=(this['AutomateSystem']?.[_0xb100d1(0x212)][_0xb100d1(0x381)]||0x5)*0xea60,_0x246ea8=Date['now']()+_0x2999fa;_0x42fe90?.['leadInfo']?.['desativadoFluxoAte']===0x0||(await this['repository']['chat'][_0xb100d1(0x1b0)]({'where':{'_id':_0x4f5c74}},{'leadInfo.desativadoFluxoAte':_0x246ea8},this[_0xb100d1(0x43e)]['wuid'],{'new':!0x0,'upsert':!0x1}),this['logger']['verbose'](this[_0xb100d1(0x41a)]+'\x20('+this[_0xb100d1(0x43e)]['wuid']+'):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20'+_0x246ea8+'.'));}if(_0x42fe90)F(this[_0xb100d1(0x41a)],_0xb100d1(0x6bc),{'chat':_0x42fe90});else{this['logger']['error'](this[_0xb100d1(0x41a)]+'\x20('+this[_0xb100d1(0x43e)]['wuid']+_0xb100d1(0x572));return;}if(!this[_0xb100d1(0x27b)]?.['flowConfig'][_0xb100d1(0x3db)])return this[_0xb100d1(0x542)][_0xb100d1(0x628)](this['instanceName']+'\x20('+this[_0xb100d1(0x43e)][_0xb100d1(0x40d)]+'):\x20Flow\x20desativado'),null;if(_0x42fe90['_id'][_0xb100d1(0x2a9)]('@g.us')&&this[_0xb100d1(0x27b)]?.[_0xb100d1(0x212)][_0xb100d1(0x238)]===!0x0)return this[_0xb100d1(0x542)]['verbose'](this[_0xb100d1(0x41a)]+'\x20('+this['instance'][_0xb100d1(0x40d)]+_0xb100d1(0x1ce)),null;if(_0x42fe90[_0xb100d1(0x4b6)]){if(_0x42fe90[_0xb100d1(0x4b6)][_0xb100d1(0x207)]===0x0||_0x42fe90['leadInfo'][_0xb100d1(0x38f)])return this[_0xb100d1(0x542)][_0xb100d1(0x628)](this['instanceName']+'\x20('+this[_0xb100d1(0x43e)][_0xb100d1(0x40d)]+_0xb100d1(0x312)+_0x4f5c74+',\x20saindo.'),null;if(_0x42fe90[_0xb100d1(0x4b6)][_0xb100d1(0x207)]>Date[_0xb100d1(0x23e)]()&&!_0x11164e[_0xb100d1(0x71e)]?.['vote'])return this[_0xb100d1(0x542)]['verbose'](this[_0xb100d1(0x41a)]+'\x20('+this[_0xb100d1(0x43e)][_0xb100d1(0x40d)]+_0xb100d1(0x3bb)+new Date(_0x42fe90[_0xb100d1(0x4b6)]['desativadoFluxoAte'])['toLocaleString']()+',\x20saindo.'),null;}this[_0xb100d1(0x542)][_0xb100d1(0x628)](this['instanceName']+'\x20('+this[_0xb100d1(0x43e)][_0xb100d1(0x40d)]+_0xb100d1(0x7a9)),this[_0xb100d1(0x7df)](_0x5e4581,_0x11164e);}async[a0_0x581af9(0x3b5)](_0x2ebd84,_0x4295af){const _0x4bac05=a0_0x581af9;if(_0x4295af[_0x4bac05(0x54e)]){let _0x4065ea=_0x2ebd84[_0x4bac05(0x697)](async _0x419681=>{const _0x4845b2=_0x4bac05;try{let _0x3591aa={'_id':_0x419681[_0x4845b2(0x4e8)],'owner':_0x419681[_0x4845b2(0x409)],'lastcache':0x0};if(_0x419681[_0x4845b2(0x299)]!==null&&(_0x3591aa[_0x4845b2(0x299)]=_0x419681[_0x4845b2(0x299)]),_0x419681['name']!==null&&(_0x3591aa[_0x4845b2(0x428)]=_0x419681['name']),_0x419681[_0x4845b2(0x677)]!==null&&(_0x3591aa[_0x4845b2(0x677)]=_0x419681[_0x4845b2(0x677)]),_0x419681[_0x4845b2(0x308)]!==null&&(_0x3591aa[_0x4845b2(0x308)]=_0x419681[_0x4845b2(0x308)]),_0x419681[_0x4845b2(0x308)]===null&&(_0x3591aa[_0x4845b2(0x308)]=_0x4845b2(0x1da)),_0x419681[_0x4845b2(0x703)]!==null&&(_0x3591aa[_0x4845b2(0x703)]=_0x419681[_0x4845b2(0x703)]),_0x419681[_0x4845b2(0x575)]!==null&&(_0x3591aa[_0x4845b2(0x575)]=_0x419681[_0x4845b2(0x575)]),_0x419681[_0x4845b2(0x6b0)]!==null&&(_0x3591aa[_0x4845b2(0x6b0)]=_0x419681[_0x4845b2(0x6b0)]),Object[_0x4845b2(0x543)](_0x3591aa)[_0x4845b2(0x1ee)]>0x0)return await this[_0x4845b2(0x456)][_0x4845b2(0x437)][_0x4845b2(0x1b0)]({'where':{'_id':_0x419681[_0x4845b2(0x4e8)]}},_0x3591aa,this['instance'][_0x4845b2(0x40d)]);}catch(_0x507d2d){return console[_0x4845b2(0x3cf)](_0x4845b2(0x27d)+_0x419681['_id']+':',_0x507d2d),null;}}),_0x1688a8=(await Promise[_0x4bac05(0x699)](_0x4065ea))[_0x4bac05(0x378)](_0x53f1d4=>_0x53f1d4!==null)[_0x4bac05(0x1ee)];this['logger']['verbose'](this[_0x4bac05(0x41a)]+'\x20('+this[_0x4bac05(0x43e)][_0x4bac05(0x40d)]+_0x4bac05(0x3bc)+_0x1688a8+_0x4bac05(0x340)+this[_0x4bac05(0x43e)]['wuid']+'\x20inseridos\x20no\x20banco\x20de\x20dados...');}}async[a0_0x581af9(0x775)](_0x289e03){const _0xd97e9b=a0_0x581af9;this[_0xd97e9b(0x542)][_0xd97e9b(0x628)](this[_0xd97e9b(0x41a)]+'\x20('+this['instance']['wuid']+_0xd97e9b(0x3b3));let _0x5c7abf={'readMessages':[{'remoteJid':_0x289e03[_0xd97e9b(0x4a3)][_0xd97e9b(0x606)][_0xd97e9b(0x686)][_0xd97e9b(0x601)],'fromMe':_0x289e03[_0xd97e9b(0x4a3)][_0xd97e9b(0x606)][_0xd97e9b(0x686)]['fromMe'],'id':_0x289e03['chatLog'][_0xd97e9b(0x606)][_0xd97e9b(0x686)]['id']}]};await this[_0xd97e9b(0x778)](_0x5c7abf);}async['StartBot'](_0x4296a2,_0x285c23){const _0x512b4a=a0_0x581af9;try{let {key:_0x4d0deb,message_normalized:_0x5f2d19}=_0x285c23,_0x5a61e6=_0x5f2d19,_0xf16237=_0x5f2d19[_0x512b4a(0x711)]||_0x5f2d19[_0x512b4a(0x5c8)]||_0x5f2d19[_0x512b4a(0x514)]||_0x5f2d19[_0x512b4a(0x428)],_0x3896fc=_0x4d0deb[_0x512b4a(0x601)],_0x3ded0f;if(_0x5a61e6[_0x512b4a(0x686)][_0x512b4a(0x795)]&&_0xf16237[_0x512b4a(0x7c5)]()!==this[_0x512b4a(0x27b)]?.[_0x512b4a(0x212)]['stopConversation'][_0x512b4a(0x7c5)]())return this[_0x512b4a(0x542)][_0x512b4a(0x628)](this[_0x512b4a(0x41a)]+'\x20('+this[_0x512b4a(0x43e)][_0x512b4a(0x40d)]+'):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.'),null;if(_0x5a61e6['key']['fromMe']&&_0xf16237[_0x512b4a(0x7c5)]()===this[_0x512b4a(0x27b)]?.['flowConfig'][_0x512b4a(0x1b3)][_0x512b4a(0x7c5)]()){this[_0x512b4a(0x542)][_0x512b4a(0x628)](this[_0x512b4a(0x41a)]+'\x20('+this[_0x512b4a(0x43e)][_0x512b4a(0x40d)]+_0x512b4a(0x83b));let _0xad3744=await this[_0x512b4a(0x456)][_0x512b4a(0x450)][_0x512b4a(0x53f)]({'remoteJid':_0x3896fc,'status':_0x512b4a(0x610)},this[_0x512b4a(0x43e)][_0x512b4a(0x40d)]);this['logger'][_0x512b4a(0x628)](this[_0x512b4a(0x41a)]+'\x20('+this['instance']['wuid']+_0x512b4a(0x550)+_0xad3744);let _0x2d1fad=Date[_0x512b4a(0x23e)](),_0x1919ea;return this[_0x512b4a(0x27b)]?.[_0x512b4a(0x212)][_0x512b4a(0x7b6)]===0x0?_0x1919ea={'stoppedUntil':_0x2d1fad+0x7591f6200}:_0x1919ea={'stoppedUntil':_0x2d1fad+this[_0x512b4a(0x27b)]?.['flowConfig']['stopMinutes']*0x3c*0x3e8},this[_0x512b4a(0x542)][_0x512b4a(0x628)](this[_0x512b4a(0x41a)]+'\x20('+this[_0x512b4a(0x43e)]['wuid']+_0x512b4a(0x344)+_0x1919ea),this[_0x512b4a(0x23f)](_0x3ded0f,_0x1919ea[_0x512b4a(0x54c)]),null;}if(_0xf16237&&_0xf16237['startsWith'](this[_0x512b4a(0x27b)]?.['flowConfig'][_0x512b4a(0x6bf)])&&_0xf16237[_0x512b4a(0x1ee)]>0x4){let _0x4785fa=await this[_0x512b4a(0x456)][_0x512b4a(0x394)]['findOne']({'where':{'startCommandWord':_0xf16237}},this[_0x512b4a(0x43e)][_0x512b4a(0x40d)]);if(this[_0x512b4a(0x542)]['verbose'](this[_0x512b4a(0x41a)]+'\x20('+this[_0x512b4a(0x43e)][_0x512b4a(0x40d)]+_0x512b4a(0x7c6)),_0x4785fa)_0x3ded0f=await this[_0x512b4a(0x481)](_0x4785fa,_0x5a61e6[_0x512b4a(0x686)],_0x5a61e6);else return this['logger'][_0x512b4a(0x628)](this[_0x512b4a(0x41a)]+'\x20('+this[_0x512b4a(0x43e)][_0x512b4a(0x40d)]+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x3ded0f=await this[_0x512b4a(0x821)](_0x3896fc,_0x5a61e6);if(_0x3ded0f){this[_0x512b4a(0x542)][_0x512b4a(0x628)](this[_0x512b4a(0x41a)]+'\x20('+this[_0x512b4a(0x43e)][_0x512b4a(0x40d)]+'):\x20Encontrou\x20conversa\x20no\x20startBot:\x20'),!_0x4d0deb[_0x512b4a(0x795)]&&_0x3ded0f[_0x512b4a(0x49c)]&&this[_0x512b4a(0x775)](_0x3ded0f);let _0x1f8b32=await this[_0x512b4a(0x214)](_0x3ded0f);_0x1f8b32&&await this[_0x512b4a(0x24b)](_0x3ded0f,_0x1f8b32);}}catch(_0x3afe8d){this['logger'][_0x512b4a(0x3cf)](this[_0x512b4a(0x41a)]+'\x20('+this['instance'][_0x512b4a(0x40d)]+_0x512b4a(0x56c)+(_0x3afe8d instanceof Error?_0x3afe8d[_0x512b4a(0x390)]:JSON[_0x512b4a(0x7e4)](_0x3afe8d,null,0x2)));}}['flattenObject'](_0x19041e,_0x5d4d9a='',_0x393937={}){const _0x43666e=a0_0x581af9;return typeof _0x19041e!=_0x43666e(0x257)||_0x19041e===null?(_0x5d4d9a&&(_0x393937[_0x5d4d9a]=_0x19041e),_0x393937):(Object[_0x43666e(0x6a5)](_0x19041e)[_0x43666e(0x386)](([_0x151f6c,_0x19368c])=>{const _0x3e9e8b=_0x43666e;let _0x49ebd8=_0x5d4d9a?_0x5d4d9a+'.'+_0x151f6c:'_'+_0x151f6c;Array[_0x3e9e8b(0x530)](_0x19368c)?_0x19368c[_0x3e9e8b(0x386)]((_0x14a380,_0x280c24)=>{const _0xe266a1=_0x3e9e8b;this[_0xe266a1(0x636)](_0x14a380,_0x49ebd8+'['+_0x280c24+']',_0x393937);}):typeof _0x19368c==_0x3e9e8b(0x257)&&_0x19368c!==null?this['flattenObject'](_0x19368c,_0x49ebd8,_0x393937):_0x393937[_0x49ebd8]=String(_0x19368c);}),console[_0x43666e(0x679)](_0x43666e(0x66d),_0x393937),_0x393937);}[a0_0x581af9(0x5d5)](_0x4ec2e5){const _0x450737=a0_0x581af9;let _0x3801e9={};for(let _0x5c4003 of _0x4ec2e5)typeof _0x5c4003[_0x450737(0x428)]==_0x450737(0x497)&&typeof _0x5c4003[_0x450737(0x638)]==_0x450737(0x497)&&(_0x3801e9[_0x5c4003['name']]=_0x5c4003['value']);return _0x3801e9;}async[a0_0x581af9(0x214)](_0x373879){const _0xdc6872=a0_0x581af9;if(!this[_0xdc6872(0x27b)]?.['flowConfig'][_0xdc6872(0x3db)]||_0x373879[_0xdc6872(0x2e9)]!=='open'&&_0x373879[_0xdc6872(0x21e)]==='')return null;let _0x2c3f54=_0x373879['chatLog'][_0xdc6872(0x293)]||_0xdc6872(0x815);typeof _0x373879[_0xdc6872(0x4a3)][_0xdc6872(0x737)]>'u'&&(_0x373879[_0xdc6872(0x4a3)][_0xdc6872(0x737)]=!0x0);let _0x1bf49f=_0x373879[_0xdc6872(0x4a3)][_0xdc6872(0x737)];this[_0xdc6872(0x542)][_0xdc6872(0x628)](this[_0xdc6872(0x41a)]+'\x20('+this['instance'][_0xdc6872(0x40d)]+'):\x20lastBlockId:\x20'+_0x2c3f54+_0xdc6872(0x399)+_0x1bf49f);let _0x2eae52=_0x2c3f54===_0xdc6872(0x815)?_0x373879[_0xdc6872(0x265)][_0xdc6872(0x53f)](_0x3ac361=>_0x3ac361[_0xdc6872(0x612)]==='start'):_0x373879[_0xdc6872(0x265)]['find'](_0x2e0a74=>_0x2e0a74[_0xdc6872(0x4e8)]['toString']()===_0x2c3f54[_0xdc6872(0x658)]());if(!_0x2eae52)return this['logger'][_0xdc6872(0x3cf)](this['instanceName']+'\x20('+this['instance'][_0xdc6872(0x40d)]+_0xdc6872(0x2b7)+_0x2c3f54),null;let _0x515dbe={'_pushName':_0x373879['chatLog'][_0xdc6872(0x606)][_0xdc6872(0x263)],..._0x373879['chatLog']['realVariables']},_0x157cbc=null;if(_0x373879[_0xdc6872(0x21e)]){let _0x1f23c1=_0x373879[_0xdc6872(0x4a3)][_0xdc6872(0x606)][_0xdc6872(0x514)],_0x4136ca=_0x373879['waitingMenu_replyOptions'][_0xdc6872(0x53f)](_0x387206=>_0x387206['option']===_0x1f23c1);if(_0x4136ca){let _0x487a4e=_0x4136ca[_0xdc6872(0x46c)];if(_0x157cbc=_0x373879[_0xdc6872(0x265)][_0xdc6872(0x53f)](_0x424198=>_0x424198[_0xdc6872(0x1b8)]===_0x487a4e&&_0x424198[_0xdc6872(0x682)]===0x1),_0x2eae52[_0xdc6872(0x243)][_0xdc6872(0x551)]){let _0x260ceb={'id':_0x373879[_0xdc6872(0x21e)],'remoteJid':_0x373879[_0xdc6872(0x601)],'fromMe':!0x0};await this['deleteMessage'](_0x260ceb);}if(_0x2eae52['uazapi'][_0xdc6872(0x551)]&&_0x2eae52[_0xdc6872(0x243)]['pollMessageOnDelete']&&_0x2eae52[_0xdc6872(0x243)][_0xdc6872(0x5fd)]===_0xdc6872(0x7ef)){let _0x45aa99={'number':_0x373879[_0xdc6872(0x601)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x373879['waitingMenu_text']+_0xdc6872(0x749)+_0x1f23c1}};await this['textMessage'](_0x45aa99);}_0x373879[_0xdc6872(0x2e9)]=_0xdc6872(0x610),_0x373879[_0xdc6872(0x21e)]='',_0x373879[_0xdc6872(0x625)]='',_0x373879[_0xdc6872(0x674)]=[];}else{this[_0xdc6872(0x542)][_0xdc6872(0x628)](this[_0xdc6872(0x41a)]+'\x20('+this[_0xdc6872(0x43e)][_0xdc6872(0x40d)]+_0xdc6872(0x75f));let _0x3e5724={'activatedCount':_0x373879[_0xdc6872(0x4a3)]['blockLogs'][_0xdc6872(0x378)](_0x5e2b03=>String(_0x5e2b03[_0xdc6872(0x640)])===String(_0x2c3f54))[_0xdc6872(0x1ee)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x2eae52[_0xdc6872(0x243)][_0xdc6872(0x2f2)]){let _0x3d7e0b={'number':_0x373879['remoteJid'],'options':{'delay':0x0},'textMessage':{'text':_0x2eae52[_0xdc6872(0x243)]['pollErrorMessage']}};await this['textMessage'](_0x3d7e0b);}if(_0x2eae52[_0xdc6872(0x40a)]!==void 0x0&&_0x3e5724['activatedCount']>=_0x2eae52[_0xdc6872(0x40a)]){let _0xf73152=Date[_0xdc6872(0x23e)](),_0x38cb89=_0x2eae52['stopMinutesMaxActives']??0xa;isNaN(_0x38cb89)&&(_0x38cb89=0xa);let _0x4efd70=_0xf73152+_0x38cb89*0x3c*0x3e8;_0x3e5724[_0xdc6872(0x831)]=_0x4efd70,_0x3e5724['moreLogs'][_0xdc6872(0x71d)](_0xdc6872(0x822)),this[_0xdc6872(0x23f)](_0x373879,_0x4efd70),_0x373879[_0xdc6872(0x21e)]='',_0x373879[_0xdc6872(0x625)]='',_0x373879[_0xdc6872(0x674)]=[];}return this['updateConversation'](_0x373879,_0x2eae52,_0x3e5724,!0x0),null;}}if(_0x1bf49f&&_0x2eae52[_0xdc6872(0x46c)]&&!_0x373879[_0xdc6872(0x21e)]){let _0x2e1074=_0x373879['blocks'][_0xdc6872(0x378)](_0x1bd54e=>_0x1bd54e[_0xdc6872(0x1b8)]['toString']()===_0x2eae52[_0xdc6872(0x46c)][_0xdc6872(0x658)]())[_0xdc6872(0x555)]((_0x41736f,_0xe5fd5a)=>_0x41736f[_0xdc6872(0x682)]-_0xe5fd5a[_0xdc6872(0x682)]);_0x2e1074['length']>0x0&&(_0x157cbc=_0x2e1074[0x0]);}if(!_0x157cbc){let _0x42c851=_0x2eae52['groupId'],_0x5e5e3c=_0x373879[_0xdc6872(0x265)][_0xdc6872(0x378)](_0x4e2f8c=>_0x4e2f8c[_0xdc6872(0x1b8)]===_0x42c851&&_0x4e2f8c['order']>_0x2eae52[_0xdc6872(0x682)])['sort']((_0x5b8d73,_0x34559f)=>_0x5b8d73['order']-_0x34559f[_0xdc6872(0x682)]);_0x5e5e3c[_0xdc6872(0x1ee)]>0x0&&(_0x157cbc=_0x5e5e3c[0x0]);}if(!_0x157cbc)return _0x373879['status']=_0xdc6872(0x475),null;_0x373879[_0xdc6872(0x4a3)]['realVariables']=_0x515dbe;let _0xd75d25=JSON['parse'](JSON[_0xdc6872(0x7e4)](_0x157cbc));return this[_0xdc6872(0x3ff)](_0xd75d25,_0x373879[_0xdc6872(0x4a3)]['realVariables']),_0x373879[_0xdc6872(0x4a3)][_0xdc6872(0x293)]=_0xd75d25[_0xdc6872(0x4e8)],_0x373879[_0xdc6872(0x4a3)][_0xdc6872(0x737)]=!0x0,_0xd75d25;}[a0_0x581af9(0x60e)](_0x129b32,_0x113893){const _0x30afbe=a0_0x581af9;return _0x129b32[_0x30afbe(0x614)](/\{\{([^}]+)\}\}/g,(_0x63a0fd,_0xec6123)=>_0x113893[_0xec6123]||'');}[a0_0x581af9(0x3ff)](_0x1378e3,_0x50efe5){const _0x2a51ff=a0_0x581af9;for(let _0x535a7b in _0x1378e3)typeof _0x1378e3[_0x535a7b]==_0x2a51ff(0x497)?_0x1378e3[_0x535a7b]=this['replaceVariables'](_0x1378e3[_0x535a7b],_0x50efe5):typeof _0x1378e3[_0x535a7b]==_0x2a51ff(0x257)&&this[_0x2a51ff(0x3ff)](_0x1378e3[_0x535a7b],_0x50efe5);}async[a0_0x581af9(0x314)](_0x294747,_0x2541fc){const _0xdc9fda=a0_0x581af9;let _0x4614fc=_0x2541fc[_0xdc9fda(0x4e8)];if(_0x294747[_0xdc9fda(0x4a3)]&&_0x294747['chatLog'][_0xdc9fda(0x1df)]){let _0x38256f=_0x294747['chatLog']['blockLogs']['filter'](_0x49b27=>String(_0x49b27[_0xdc9fda(0x640)])===String(_0x4614fc))[_0xdc9fda(0x6c9)]();if(_0x38256f&&_0x38256f[_0xdc9fda(0x3cf)]&&_0x2541fc[_0xdc9fda(0x83a)])return _0x294747[_0xdc9fda(0x2e9)]=_0xdc9fda(0x475),await this[_0xdc9fda(0x489)](_0x294747),null;}if(_0x2541fc[_0xdc9fda(0x612)]===_0xdc9fda(0x243)&&_0x2541fc[_0xdc9fda(0x243)]['command']==='sendPoll'&&_0x294747[_0xdc9fda(0x21e)])return _0x294747[_0xdc9fda(0x4a3)][_0xdc9fda(0x293)]=_0x4614fc,await this['saveConversationToDatabase'](_0x294747),null;let _0x19c592=await this[_0xdc9fda(0x214)](_0x294747);if(_0x294747[_0xdc9fda(0x4a3)]&&_0x294747[_0xdc9fda(0x4a3)][_0xdc9fda(0x1df)]){let _0xbdc03b=_0x294747[_0xdc9fda(0x4a3)][_0xdc9fda(0x1df)][_0xdc9fda(0x378)](_0x19e00a=>String(_0x19e00a['blockId'])===String(_0x4614fc))['length'];if(_0x2541fc[_0xdc9fda(0x40a)]!==void 0x0&&_0xbdc03b>=_0x2541fc[_0xdc9fda(0x40a)]){let _0xb27873=Date[_0xdc9fda(0x23e)](),_0x46f343=_0x2541fc[_0xdc9fda(0x1de)]??0xa;isNaN(_0x46f343)&&(_0x46f343=0xa);let _0x4ad6ed=_0xb27873+_0x46f343*0x3c*0x3e8,_0x23b3dd={'newStoppedUntil':_0x4ad6ed};return this[_0xdc9fda(0x23f)](_0x294747,_0x4ad6ed),this[_0xdc9fda(0x6b5)](_0x294747,_0x2541fc,_0x23b3dd,!0x0),null;}}_0x19c592&&_0x19c592[_0xdc9fda(0x612)]!==_0xdc9fda(0x332)&&await this[_0xdc9fda(0x24b)](_0x294747,_0x19c592),_0x19c592||await this[_0xdc9fda(0x489)](_0x294747),_0x19c592&&_0x19c592[_0xdc9fda(0x612)]===_0xdc9fda(0x332)&&(_0x294747[_0xdc9fda(0x4a3)][_0xdc9fda(0x293)]=_0x4614fc,await this[_0xdc9fda(0x489)](_0x294747));}async[a0_0x581af9(0x24b)](_0x52f9c5,_0x3f66cc){const _0x538261=a0_0x581af9;try{let _0xc8c095=_0x3f66cc['type'];this[_0x538261(0x542)][_0x538261(0x628)](this['instanceName']+'\x20('+this[_0x538261(0x43e)][_0x538261(0x40d)]+_0x538261(0x757)+_0xc8c095);let _0x48090d={'uazapi':()=>this[_0x538261(0x2f5)](_0x52f9c5,_0x3f66cc),'save':()=>this[_0x538261(0x73e)](_0x52f9c5,_0x3f66cc),'stop':()=>this[_0x538261(0x1b3)](_0x52f9c5,_0x3f66cc),'condition':()=>this[_0x538261(0x6db)](_0x52f9c5,_0x3f66cc),'varedit':()=>this[_0x538261(0x7f3)](_0x52f9c5,_0x3f66cc),'apirequest':()=>this[_0x538261(0x7af)](_0x52f9c5,_0x3f66cc),'goToFlow':()=>this[_0x538261(0x1e4)](_0x52f9c5,_0x3f66cc)}[_0xc8c095];_0x48090d&&await _0x48090d();}catch(_0x20a455){this[_0x538261(0x542)][_0x538261(0x3cf)](this[_0x538261(0x41a)]+'\x20('+this[_0x538261(0x43e)][_0x538261(0x40d)]+_0x538261(0x430)+(_0x20a455 instanceof Error?_0x20a455['message']:JSON[_0x538261(0x7e4)](_0x20a455,null,0x2)));}}async[a0_0x581af9(0x1e4)](_0x53ef9d,_0x5de5b4){const _0x399ffd=a0_0x581af9;if(this[_0x399ffd(0x542)][_0x399ffd(0x628)](this[_0x399ffd(0x41a)]+'\x20('+this['instance'][_0x399ffd(0x40d)]+_0x399ffd(0x205)),!_0x53ef9d||!_0x5de5b4)return this[_0x399ffd(0x542)][_0x399ffd(0x3cf)](this[_0x399ffd(0x41a)]+'\x20('+this[_0x399ffd(0x43e)][_0x399ffd(0x40d)]+_0x399ffd(0x47e)),null;await this['updateConversation'](_0x53ef9d,_0x5de5b4,{},!0x0,!0x0),console[_0x399ffd(0x679)](_0x399ffd(0x5c6)),console['log'](_0x5de5b4);let _0x3a3b77=_0x5de5b4[_0x399ffd(0x615)];console[_0x399ffd(0x679)](_0x399ffd(0x1be),_0x3a3b77),_0x53ef9d=await this[_0x399ffd(0x73c)](_0x3a3b77,_0x53ef9d[_0x399ffd(0x601)],_0x53ef9d[_0x399ffd(0x4a3)]['realVariables']),this[_0x399ffd(0x542)][_0x399ffd(0x628)](this['instanceName']+'\x20('+this[_0x399ffd(0x43e)][_0x399ffd(0x40d)]+_0x399ffd(0x4b1));let _0x369331=await this[_0x399ffd(0x214)](_0x53ef9d);_0x369331&&await this[_0x399ffd(0x24b)](_0x53ef9d,_0x369331);}async[a0_0x581af9(0x73c)](_0x1cd377,_0x3bb888,_0x500fae){const _0x503c90=a0_0x581af9;this[_0x503c90(0x542)][_0x503c90(0x628)](this[_0x503c90(0x41a)]+'\x20('+this[_0x503c90(0x43e)][_0x503c90(0x40d)]+_0x503c90(0x4e6));try{if(_0x1cd377=await this[_0x503c90(0x456)][_0x503c90(0x394)][_0x503c90(0x841)]({'where':{'name':_0x1cd377}},this['instance'][_0x503c90(0x40d)]),!_0x1cd377)return this[_0x503c90(0x542)][_0x503c90(0x3cf)](this['instanceName']+'\x20('+this[_0x503c90(0x43e)][_0x503c90(0x40d)]+_0x503c90(0x3bd)),null;let _0x413855=require(_0x503c90(0x3ea))[_0x503c90(0x42e)],_0x51b70c=Date[_0x503c90(0x23e)](),_0x18cb2b=_0x503c90(0x815),_0x9d0756={},_0x1a598a={},_0x2fe79b={..._0x1cd377,'chatLog':null},_0x4e5f54={'lastReceivedMessage':_0x9d0756,'lastSendMessage':_0x1a598a,'lastBlockId':_0x18cb2b,'lastCondition':!0x0,'realVariables':_0x500fae};_0x2fe79b[_0x503c90(0x4a3)]=_0x4e5f54,_0x2fe79b[_0x503c90(0x4a3)][_0x503c90(0x7a5)]={..._0x500fae},delete _0x2fe79b[_0x503c90(0x4e8)],_0x2fe79b[_0x503c90(0x4e8)]=new _0x413855(),_0x2fe79b['lastInteraction']=_0x51b70c,_0x2fe79b[_0x503c90(0x2e9)]=_0x503c90(0x610),_0x2fe79b[_0x503c90(0x601)]=_0x3bb888;let _0x52c48e=await this[_0x503c90(0x456)][_0x503c90(0x450)][_0x503c90(0x1b0)](_0x2fe79b[_0x503c90(0x4e8)],_0x2fe79b,this[_0x503c90(0x43e)][_0x503c90(0x40d)]);return this[_0x503c90(0x542)][_0x503c90(0x628)](this[_0x503c90(0x41a)]+'\x20('+this[_0x503c90(0x43e)][_0x503c90(0x40d)]+_0x503c90(0x5b7)),_0x52c48e?_0x2fe79b:null;}catch(_0x1f13bd){throw this[_0x503c90(0x542)][_0x503c90(0x3cf)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x503c90(0x3ba)+(_0x1f13bd instanceof Error?_0x1f13bd['message']:JSON[_0x503c90(0x7e4)](_0x1f13bd,null,0x2))),new w(_0x1f13bd[_0x503c90(0x390)]);}}async[a0_0x581af9(0x7af)](_0x3a6b06,_0x52205c){const _0x284ebb=a0_0x581af9;let _0x3fb263,_0xcc4cac;try{let _0x399c4f=_0x52205c[_0x284ebb(0x4a8)];if(!_0x399c4f||!_0x399c4f['url']||!_0x399c4f['method'])throw new Error(_0x284ebb(0x1f2));let _0x1a9e1c;(['https://api.openai.com/v1/audio/speech',_0x284ebb(0x7ee),_0x284ebb(0x443)][_0x284ebb(0x313)](_0x258262=>_0x399c4f[_0x284ebb(0x683)][_0x284ebb(0x2a9)](_0x258262))||_0x399c4f['requestFile'])&&(_0x1a9e1c=_0x284ebb(0x3d7));let _0xb1f9cf='\u205f',_0x4b8b06;try{_0x4b8b06=JSON[_0x284ebb(0x69e)](_0x399c4f[_0x284ebb(0x5e9)][_0x284ebb(0x614)](new RegExp(_0xb1f9cf,'g'),''));}catch(_0x213d59){throw _0x213d59;}let _0x379ecc={'method':_0x399c4f['method'],'url':_0x399c4f[_0x284ebb(0x683)],'headers':_0x399c4f['header']||{},..._0x399c4f[_0x284ebb(0x77a)][_0x284ebb(0x646)]()!==_0x284ebb(0x513)&&_0x399c4f[_0x284ebb(0x5e9)]?{'data':JSON[_0x284ebb(0x69e)](_0x399c4f[_0x284ebb(0x5e9)]['replace'](new RegExp(_0xb1f9cf,'g'),''))}:{},..._0x1a9e1c&&{'responseType':_0x1a9e1c}},_0x38b655=await(0x0,Z[_0x284ebb(0x258)])(_0x379ecc),_0x514df6=_0x38b655[_0x284ebb(0x297)][_0x284ebb(0x805)];if(_0x514df6&&_0x514df6['includes'](_0x284ebb(0x4f0))||typeof _0x38b655[_0x284ebb(0x825)]==_0x284ebb(0x497)){if(typeof _0x38b655[_0x284ebb(0x825)]==_0x284ebb(0x497)){let _0x18155d=_0x38b655[_0x284ebb(0x825)][_0x284ebb(0x614)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')[_0x284ebb(0x7c5)]();try{_0x3fb263=JSON['parse'](_0x18155d);}catch(_0x2f74dd){console[_0x284ebb(0x3cf)](_0x284ebb(0x38c)+_0x2f74dd['message']),_0x3fb263={'_apiResponse':_0x38b655[_0x284ebb(0x825)]};}}else _0x3fb263=_0x38b655[_0x284ebb(0x825)];let _0x149fc0=_0x3a6b06[_0x284ebb(0x4a3)][_0x284ebb(0x7a5)],_0x2c1562=this[_0x284ebb(0x636)](_0x3fb263);return Object['assign'](_0x149fc0,_0x2c1562),_0x3a6b06[_0x284ebb(0x4a3)][_0x284ebb(0x7a5)]=_0x149fc0,_0xcc4cac={'error':!0x1,'apiResponse':_0x3fb263},this[_0x284ebb(0x6b5)](_0x3a6b06,_0x52205c,_0xcc4cac),_0x3fb263;}if(_0x514df6&&(_0x514df6[_0x284ebb(0x2a9)](_0x284ebb(0x7b1))||_0x514df6[_0x284ebb(0x2a9)](_0x284ebb(0x2e6))||_0x514df6[_0x284ebb(0x2a9)]('audio')||_0x514df6[_0x284ebb(0x2a9)](_0x284ebb(0x35c)))){this[_0x284ebb(0x542)][_0x284ebb(0x628)](this[_0x284ebb(0x41a)]+'\x20('+this['instance'][_0x284ebb(0x40d)]+_0x284ebb(0x3d5)+_0x514df6);let _0x3d90f5=(0x0,Re['v4'])(),_0x20d535='',_0x9294fd={'image/jpeg':'.jpg','image/png':'.png','image/gif':_0x284ebb(0x1b2),'image/webp':'.webp','image/svg+xml':'.svg','audio/mpeg':'.mp3','audio/ogg':'.ogg','audio/wav':'.wav','video/mp4':_0x284ebb(0x6aa),'video/webm':_0x284ebb(0x6d7),'video/ogg':'.ogv','text/plain':'.txt','application/pdf':'.pdf','application/msword':_0x284ebb(0x462),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x284ebb(0x7c1),'application/vnd.ms-excel':_0x284ebb(0x29e),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x284ebb(0x7d7),'application/vnd.ms-powerpoint':_0x284ebb(0x356),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x284ebb(0x765)};_0x9294fd[_0x514df6]?(_0x20d535=_0x9294fd[_0x514df6],this[_0x284ebb(0x542)][_0x284ebb(0x628)](this[_0x284ebb(0x41a)]+'\x20('+this[_0x284ebb(0x43e)][_0x284ebb(0x40d)]+'):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20'+_0x20d535)):(_0x20d535=_0x284ebb(0x62b),this['logger'][_0x284ebb(0x628)](this['instanceName']+'\x20('+this[_0x284ebb(0x43e)][_0x284ebb(0x40d)]+'):\x20Usando\x20extensão\x20padrão:\x20'+_0x20d535)),_0x3d90f5+=_0x20d535,this[_0x284ebb(0x542)][_0x284ebb(0x628)](this[_0x284ebb(0x41a)]+'\x20('+this[_0x284ebb(0x43e)][_0x284ebb(0x40d)]+_0x284ebb(0x637)+_0x3d90f5);let _0x7ff486=this[_0x284ebb(0x3f1)][_0x284ebb(0x488)](_0x284ebb(0x619))['URL'];if(!_0x7ff486){let _0x3fd711=this[_0x284ebb(0x3f1)][_0x284ebb(0x488)]('SSL_CONF');_0x7ff486='https://'+(_0x3fd711&&_0x3fd711['FULLCHAIN'][_0x284ebb(0x68e)]('/')[0x4]);}let _0x3d7b10=Buffer[_0x284ebb(0x252)](_0x38b655[_0x284ebb(0x825)]);await this[_0x284ebb(0x7d1)](_0x3d7b10,_0x3d90f5);let _0x1233b0=_0x284ebb(0x824)+_0x3d90f5;_0x1233b0=''+_0x7ff486+_0x1233b0,_0x3fb263={'fileUrl':_0x1233b0},_0x3a6b06['chatLog'][_0x284ebb(0x7a5)][_0x284ebb(0x705)]=_0x1233b0;let _0x2ee995=_0x3a6b06[_0x284ebb(0x4a3)][_0x284ebb(0x7a5)],_0x149a7a=this[_0x284ebb(0x636)](_0x3fb263);return Object['assign'](_0x2ee995,_0x149a7a),_0x3a6b06[_0x284ebb(0x4a3)]['realVariables']=_0x2ee995,_0xcc4cac={'error':!0x1,'apiResponse':{'fileUrl':_0x1233b0}},this[_0x284ebb(0x6b5)](_0x3a6b06,_0x52205c,_0xcc4cac),_0x3fb263;}}catch(_0x5ad82c){console[_0x284ebb(0x3cf)](_0x284ebb(0x578),_0x5ad82c[_0x284ebb(0x390)]),_0x5ad82c['response']&&(_0x3fb263=_0x5ad82c['response']['data']);let _0x26848a=_0x3a6b06[_0x284ebb(0x4a3)][_0x284ebb(0x7a5)],_0x46d347=this['flattenObject'](_0x3fb263);return Object[_0x284ebb(0x5e4)](_0x26848a,_0x46d347),_0x3a6b06[_0x284ebb(0x4a3)][_0x284ebb(0x7a5)]=_0x26848a,_0xcc4cac={'error':!0x0,'errorLog':_0x5ad82c[_0x284ebb(0x658)](),'apiResponse':_0x3fb263},this[_0x284ebb(0x6b5)](_0x3a6b06,_0x52205c,_0xcc4cac),{'success':!0x1};}}[a0_0x581af9(0x1d1)](_0x4e351b,_0x35bf2f){const _0x516313=a0_0x581af9;let _0x8907e2=_0x3bfd7a=>{const _0x5d559e=a0_0xd85f;let _0x5000ef=_0x3bfd7a[_0x5d559e(0x614)](/[^0-9.,-]/g,'')[_0x5d559e(0x614)](',','.'),_0x91309b=parseFloat(_0x5000ef);return isNaN(_0x91309b)?null:_0x91309b;},_0x116f23=_0x35bf2f['firstValue'],_0x349b4a=_0x35bf2f['secondValue'];typeof _0x116f23==_0x516313(0x497)&&(_0x116f23=this['replaceVariables'](_0x116f23,_0x4e351b[_0x516313(0x4a3)]['realVariables'])??''),typeof _0x349b4a=='string'&&(_0x349b4a=this['replaceVariables'](_0x349b4a,_0x4e351b[_0x516313(0x4a3)]['realVariables'])??'');let _0x4ea29b=null;if(!_0x35bf2f[_0x516313(0x528)])return null;switch(this[_0x516313(0x542)][_0x516313(0x628)](this[_0x516313(0x41a)]+'\x20('+this[_0x516313(0x43e)]['wuid']+'):\x20newFirstValue\x20após\x20replaceVariables:'+_0x116f23),this[_0x516313(0x542)][_0x516313(0x628)](this[_0x516313(0x41a)]+'\x20('+this[_0x516313(0x43e)][_0x516313(0x40d)]+_0x516313(0x4c2)+_0x349b4a),_0x35bf2f[_0x516313(0x528)]){case'+':case'-':case'*':case'/':let _0x4296e9=_0x8907e2(_0x116f23||'0'),_0x343c9f=_0x8907e2(_0x349b4a||'0');if(_0x4296e9===null)return null;switch(_0x35bf2f['editOperator']){case'+':_0x4ea29b=_0x4296e9+(_0x343c9f??0x0);break;case'-':_0x4ea29b=_0x4296e9-(_0x343c9f??0x0);break;case'*':_0x4ea29b=_0x4296e9*(_0x343c9f??0x1);break;case'/':_0x343c9f!==0x0&&(_0x4ea29b=_0x4296e9/(_0x343c9f??0x1));break;}break;case _0x516313(0x51f):case _0x516313(0x4ce):let _0x57941c=_0x349b4a,_0x53bf9c=_0x35bf2f['replaceValue'];if(typeof _0x53bf9c==_0x516313(0x497)&&(_0x53bf9c=this[_0x516313(0x60e)](_0x53bf9c,_0x4e351b['chatLog'][_0x516313(0x7a5)])??''),_0x57941c&&_0x53bf9c!==void 0x0){let _0x21f8c6=_0x35bf2f[_0x516313(0x528)]===_0x516313(0x51f)?new RegExp(_0x57941c[_0x516313(0x614)](/[-\/\\^$*+?.()|[\]{}]/g,_0x516313(0x6be)),'g'):new RegExp(_0x57941c,'g');_0x4ea29b=_0x116f23[_0x516313(0x614)](_0x21f8c6,_0x53bf9c);}else console[_0x516313(0x5ad)](_0x516313(0x6a8));break;case _0x516313(0x548):_0x4ea29b=_0x349b4a;break;case _0x516313(0x32d):let _0x16bd11=_0x116f23[_0x516313(0x473)](new RegExp(_0x349b4a||''));_0x4ea29b=_0x16bd11?_0x16bd11[0x0]:'';break;case _0x516313(0x598):_0x4ea29b=_0x116f23[_0x516313(0x522)](0x0,parseInt(_0x349b4a||'0'));break;case _0x516313(0x4f5):let _0x2d01e8=parseInt(_0x349b4a||'0');_0x4ea29b=_0x116f23[_0x516313(0x522)](_0x116f23[_0x516313(0x1ee)]-_0x2d01e8);break;case _0x516313(0x253):let _0x365a76=_0x8907e2(_0x116f23),_0x615dce=parseInt(_0x349b4a||'0');_0x615dce=Math[_0x516313(0x7b0)](_0x615dce),_0x365a76!==null?_0x4ea29b=_0x365a76['toLocaleString']('pt-BR',{'minimumFractionDigits':_0x615dce,'maximumFractionDigits':_0x615dce}):(console[_0x516313(0x5ad)](_0x516313(0x759)+_0x116f23),_0x4ea29b=null);break;case _0x516313(0x65a):let _0x6533ba=_0x8907e2(_0x116f23);_0x6533ba!==null?_0x4ea29b=_0x6533ba['toLocaleString'](_0x516313(0x383),{'style':_0x516313(0x6b6),'currency':'BRL'}):(console[_0x516313(0x5ad)](_0x516313(0x49a)+_0x116f23),_0x4ea29b=null);break;case'upperCase':_0x4ea29b=_0x116f23[_0x516313(0x646)]();break;case _0x516313(0x408):_0x4ea29b=_0x116f23[_0x516313(0x61a)]();break;case _0x516313(0x26c):_0x4ea29b=_0x116f23[_0x516313(0x68e)]('\x20')[_0x516313(0x697)](_0x348a1c=>_0x348a1c['charAt'](0x0)[_0x516313(0x646)]()+_0x348a1c[_0x516313(0x522)](0x1)['toLowerCase']())[_0x516313(0x495)]('\x20');break;case'trimmed':_0x4ea29b=_0x116f23[_0x516313(0x7c5)]();break;default:_0x4ea29b=_0x116f23;}return _0x4ea29b!==null?_0x4ea29b[_0x516313(0x658)]():null;}async[a0_0x581af9(0x7f3)](_0xac4e7a,_0x48eea3){const _0x4e4d9c=a0_0x581af9;try{let _0x35a58c=_0xac4e7a[_0x4e4d9c(0x222)]?.[_0x4e4d9c(0x378)](_0x11e665=>_0x11e665[_0x4e4d9c(0x640)]===_0x48eea3[_0x4e4d9c(0x4e8)]?.['toString']())||[],_0x4d2b63=_0x48eea3[_0x4e4d9c(0x6d5)],_0x1bb325=null,_0x1a8f95=[],_0x255538=_0xac4e7a['chatLog'][_0x4e4d9c(0x7a5)][_0x4d2b63];_0x1a8f95[_0x4e4d9c(0x71d)]('Valor\x20inicial:\x20\x22'+_0x255538+'\x22');for(let _0x5b6695 of _0x35a58c){_0x5b6695[_0x4e4d9c(0x7f4)]=_0x255538,_0x1bb325=_0x5b6695['firstValue'];let _0x1c95fc;try{_0x1c95fc=this[_0x4e4d9c(0x1d1)](_0xac4e7a,_0x5b6695);}catch(_0x4ec020){console['error']('Erro\x20ao\x20aplicar\x20varedit:\x20'+_0x4ec020['message']);continue;}if(_0x1c95fc!==null){let _0x18f0d2='Operador:\x20\x22'+_0x5b6695[_0x4e4d9c(0x528)]+'\x22',_0x475130=[_0x4e4d9c(0x65a),_0x4e4d9c(0x294),_0x4e4d9c(0x408),_0x4e4d9c(0x26c),_0x4e4d9c(0x501)];_0x5b6695[_0x4e4d9c(0x528)]===_0x4e4d9c(0x51f)||_0x5b6695[_0x4e4d9c(0x528)]==='findAndReplaceRegex'?_0x18f0d2+=',\x20valor\x20a\x20encontrar:\x20\x22'+_0x5b6695[_0x4e4d9c(0x4dc)]+'\x22,\x20valor\x20a\x20substituir:\x20\x22'+_0x5b6695[_0x4e4d9c(0x251)]+'\x22':!_0x475130[_0x4e4d9c(0x2a9)](_0x5b6695['editOperator'])&&_0x5b6695[_0x4e4d9c(0x4dc)]!==null&&_0x5b6695['secondValue']!==void 0x0&&(_0x18f0d2+=',\x20valor\x20passado:\x20\x22'+_0x5b6695['secondValue']+'\x22'),_0x18f0d2+=_0x4e4d9c(0x59d)+_0x1c95fc+'.',_0x1a8f95[_0x4e4d9c(0x71d)](_0x18f0d2);}_0x1c95fc!==null&&(_0x255538=_0x1c95fc);}if(_0xac4e7a[_0x4e4d9c(0x4a3)]['realVariables']&&_0x48eea3[_0x4e4d9c(0x6d5)]){_0xac4e7a[_0x4e4d9c(0x4a3)]['realVariables'][_0x48eea3[_0x4e4d9c(0x6d5)]]=_0x255538;let _0x25e854={'variable':_0x48eea3[_0x4e4d9c(0x6d5)],'oldValue':_0x1bb325,'newValue':_0x255538,'moreLogs':_0x1a8f95};try{this['updateConversation'](_0xac4e7a,_0x48eea3,_0x25e854);}catch(_0x407280){console[_0x4e4d9c(0x3cf)](_0x4e4d9c(0x85b)+_0x407280[_0x4e4d9c(0x390)]);}}return _0x4d2b63;}catch(_0x497864){return console[_0x4e4d9c(0x3cf)](_0x4e4d9c(0x630)+_0x497864[_0x4e4d9c(0x390)]),null;}}async['processConditions'](_0x12b144,_0x18e947){const _0x1e3aa1=a0_0x581af9;try{let _0x3b5cf9=[],_0x176fc6=_0x12b144[_0x1e3aa1(0x607)][_0x1e3aa1(0x378)](_0x51c61d=>_0x51c61d[_0x1e3aa1(0x640)]===_0x18e947[_0x1e3aa1(0x4e8)][_0x1e3aa1(0x658)]()),_0x4ff4f7=null,_0x5a788b=!0x1;for(let _0x25978f of _0x176fc6){let _0x4cf099=this[_0x1e3aa1(0x5c9)](_0x12b144,_0x25978f);_0x3b5cf9[_0x1e3aa1(0x71d)](_0x1e3aa1(0x254)+_0x25978f[_0x1e3aa1(0x7f4)]+_0x1e3aa1(0x3ef)+_0x25978f[_0x1e3aa1(0x2a2)]+',\x20Segundo\x20Valor:\x20'+_0x25978f[_0x1e3aa1(0x4dc)]+_0x1e3aa1(0x6a1)+_0x4cf099),_0x4ff4f7===null?_0x4ff4f7=_0x4cf099:_0x25978f[_0x1e3aa1(0x3de)]===_0x1e3aa1(0x7bd)?(_0x4ff4f7=_0x4ff4f7&&_0x4cf099,_0x4cf099||(_0x5a788b=!0x0)):_0x25978f[_0x1e3aa1(0x3de)]==='or'&&(_0x5a788b||(_0x4ff4f7=_0x4ff4f7||_0x4cf099));}_0x4ff4f7===null&&(_0x4ff4f7=!0x0);let _0x136b88={'moreLogs':_0x3b5cf9};_0x12b144['chatLog'][_0x1e3aa1(0x737)]=_0x4ff4f7,await this[_0x1e3aa1(0x6b5)](_0x12b144,_0x18e947,_0x136b88);}catch(_0x4f78a6){this[_0x1e3aa1(0x542)]['error'](this[_0x1e3aa1(0x41a)]+'\x20('+this[_0x1e3aa1(0x43e)][_0x1e3aa1(0x40d)]+_0x1e3aa1(0x83f)+(_0x4f78a6 instanceof Error?_0x4f78a6[_0x1e3aa1(0x390)]:JSON['stringify'](_0x4f78a6,null,0x2)));}}[a0_0x581af9(0x5c9)](_0x56679f,_0x2b4c99){const _0x49f63c=a0_0x581af9;let _0x393491=_0x2b4c99[_0x49f63c(0x7f4)],_0x492631=_0x2b4c99[_0x49f63c(0x4dc)];typeof _0x393491=='string'&&(_0x393491=this[_0x49f63c(0x60e)](_0x393491,_0x56679f[_0x49f63c(0x4a3)][_0x49f63c(0x7a5)])??''),typeof _0x492631==_0x49f63c(0x497)&&(_0x492631=this[_0x49f63c(0x60e)](_0x492631,_0x56679f[_0x49f63c(0x4a3)][_0x49f63c(0x7a5)])??'');try{switch(_0x2b4c99[_0x49f63c(0x2a2)]){case'equal':return _0x393491===_0x492631;case'notEqual':return _0x393491!==_0x492631;case _0x49f63c(0x498):return this[_0x49f63c(0x498)](_0x393491,_0x492631);case _0x49f63c(0x5bd):return!this[_0x49f63c(0x498)](_0x393491,_0x492631);case _0x49f63c(0x476):return parseFloat(_0x393491)>parseFloat(_0x492631);case _0x49f63c(0x76c):return parseFloat(_0x393491)<parseFloat(_0x492631);case _0x49f63c(0x6fa):return _0x393491!=='';case'empty':return _0x393491==='';case _0x49f63c(0x695):return new RegExp(_0x492631)[_0x49f63c(0x643)](_0x393491);case'notMatchRegex':return!new RegExp(_0x492631)['test'](_0x393491);default:return!0x1;}}catch(_0xc2430f){return console[_0x49f63c(0x3cf)](_0x49f63c(0x723)+_0xc2430f),!0x1;}}[a0_0x581af9(0x498)](_0x1ca91c,_0x25a306){const _0x454228=a0_0x581af9;if(_0x1ca91c===_0x25a306&&/^\d+$/[_0x454228(0x643)](_0x1ca91c))return!0x0;if(this[_0x454228(0x574)](_0x1ca91c)&&/^\d+$/[_0x454228(0x643)](_0x25a306)){let _0x5bec8b=_0x1ca91c[_0x454228(0x68e)](',')[_0x454228(0x697)](_0x135576=>parseInt(_0x135576[_0x454228(0x7c5)]())),_0x17e836=parseInt(_0x25a306);return _0x5bec8b['includes'](_0x17e836);}return _0x1ca91c[_0x454228(0x2a9)](_0x25a306);}[a0_0x581af9(0x574)](_0x18350b){return/^\d+(,\d+)*$/['test'](_0x18350b);}[a0_0x581af9(0x2fd)](_0x2d57a9){const _0x1b70ab=a0_0x581af9;let _0x4419aa=!0x0,_0x151b1c=null;for(let _0x22142b of _0x2d57a9){let _0x1adeba=this[_0x1b70ab(0x564)](_0x22142b);if(_0x151b1c==='or'&&_0x1adeba){_0x4419aa=!0x0;break;}if(_0x151b1c===_0x1b70ab(0x7bd)&&!_0x1adeba){_0x4419aa=!0x1;break;}_0x151b1c=_0x22142b[_0x1b70ab(0x3de)];}return _0x4419aa;}[a0_0x581af9(0x564)](_0x52a05f){const _0x3c302f=a0_0x581af9;let _0x190c70=_0x52a05f[_0x3c302f(0x7f4)],_0x14e307=_0x52a05f[_0x3c302f(0x4dc)];try{switch(_0x52a05f[_0x3c302f(0x2a2)]){case _0x3c302f(0x629):return String(_0x190c70)===String(_0x14e307);case _0x3c302f(0x85d):return String(_0x190c70)!==String(_0x14e307);case'contains':return String(_0x190c70)[_0x3c302f(0x2a9)](String(_0x14e307));case _0x3c302f(0x5bd):return!String(_0x190c70)[_0x3c302f(0x2a9)](String(_0x14e307));case'greater':return parseFloat(String(_0x190c70))>parseFloat(String(_0x14e307));case _0x3c302f(0x76c):return parseFloat(String(_0x190c70))<parseFloat(String(_0x14e307));case _0x3c302f(0x6fa):return String(_0x190c70)!=='';case'empty':return String(_0x190c70)==='';case _0x3c302f(0x695):return new RegExp(String(_0x14e307))[_0x3c302f(0x643)](String(_0x190c70));case _0x3c302f(0x787):return!new RegExp(String(_0x14e307))[_0x3c302f(0x643)](String(_0x190c70));default:return!0x1;}}catch(_0x29a426){return console[_0x3c302f(0x3cf)](_0x3c302f(0x723)+_0x29a426),!0x1;}}async[a0_0x581af9(0x73e)](_0x3f9891,_0x1c5c2b){const _0x308b19=a0_0x581af9;if(this[_0x308b19(0x542)]['verbose'](this[_0x308b19(0x41a)]+'\x20('+this[_0x308b19(0x43e)]['wuid']+_0x308b19(0x6cf)),!_0x3f9891||!_0x1c5c2b)return this[_0x308b19(0x542)][_0x308b19(0x3cf)](this[_0x308b19(0x41a)]+'\x20('+this['instance'][_0x308b19(0x40d)]+_0x308b19(0x47e)),null;let _0x3b01ba=_0x3f9891['chatLog'][_0x308b19(0x606)]['key']['id'];this[_0x308b19(0x542)][_0x308b19(0x628)](this['instanceName']+'\x20('+this['instance'][_0x308b19(0x40d)]+_0x308b19(0x380)+_0x3b01ba);let _0x339fc8={'key':{'id':_0x3b01ba}},_0x27ad70=_0x1c5c2b[_0x308b19(0x6d5)];_0x3f9891[_0x308b19(0x4a3)]['realVariables']['_'+_0x27ad70+_0x308b19(0x7f2)]=null,_0x3f9891['chatLog'][_0x308b19(0x7a5)]['_'+_0x27ad70+_0x308b19(0x35a)]=null,_0x3f9891[_0x308b19(0x4a3)]['realVariables']['_'+_0x27ad70+_0x308b19(0x55b)]=null,_0x3f9891[_0x308b19(0x4a3)][_0x308b19(0x7a5)]['_'+_0x27ad70+'.type']=_0x3f9891[_0x308b19(0x4a3)][_0x308b19(0x606)][_0x308b19(0x612)];try{let _0x746385=await this[_0x308b19(0x30f)](_0x339fc8);this['logger']['verbose'](this[_0x308b19(0x41a)]+'\x20('+this[_0x308b19(0x43e)]['wuid']+_0x308b19(0x865)),_0x3f9891[_0x308b19(0x4a3)][_0x308b19(0x7a5)]['_'+_0x27ad70+_0x308b19(0x2f7)]=_0x746385[_0x308b19(0x705)],_0x3f9891[_0x308b19(0x4a3)][_0x308b19(0x7a5)]['_'+_0x27ad70+_0x308b19(0x35a)]=_0x746385[_0x308b19(0x827)];let _0x515ab7=_0x746385[_0x308b19(0x827)]['match'](/\/(\w+)$/),_0x34a1ac=_0x515ab7?_0x515ab7[0x1]:null;_0x3f9891[_0x308b19(0x4a3)]['realVariables']['_'+_0x27ad70+'.extension']=_0x34a1ac,this[_0x308b19(0x542)][_0x308b19(0x628)](this[_0x308b19(0x41a)]+'\x20('+this[_0x308b19(0x43e)]['wuid']+_0x308b19(0x41d)+_0x27ad70+'\x27.');}catch(_0x2bec4c){this['logger'][_0x308b19(0x3cf)](this[_0x308b19(0x41a)]+'\x20('+this['instance']['wuid']+_0x308b19(0x603)+_0x2bec4c);}let _0x3dc794=_0x3f9891['chatLog']['lastReceivedMessage'][_0x308b19(0x711)]||_0x3f9891[_0x308b19(0x4a3)][_0x308b19(0x606)]['caption']||_0x3f9891[_0x308b19(0x4a3)][_0x308b19(0x606)][_0x308b19(0x514)];try{_0x3f9891[_0x308b19(0x4a3)]['realVariables']||(_0x3f9891[_0x308b19(0x4a3)][_0x308b19(0x7a5)]={});let _0xbf6c5f=_0x3f9891['chatLog'][_0x308b19(0x7a5)][_0x27ad70];_0x3f9891['chatLog']['realVariables'][_0x27ad70]=_0x3dc794;let _0x53df05={'variable':_0x27ad70,'oldValue':_0xbf6c5f,'newValue':_0x3dc794};this[_0x308b19(0x6b5)](_0x3f9891,_0x1c5c2b,_0x53df05),this[_0x308b19(0x542)]['verbose'](this[_0x308b19(0x41a)]+'\x20('+this[_0x308b19(0x43e)]['wuid']+_0x308b19(0x3f8));}catch(_0x5de03a){let _0x1c5651={'error':!0x0,'errorLog':_0x5de03a['toString']()};return this['updateConversation'](_0x3f9891,_0x1c5c2b,_0x1c5651),this[_0x308b19(0x542)][_0x308b19(0x3cf)](this[_0x308b19(0x41a)]+'\x20('+this[_0x308b19(0x43e)]['wuid']+_0x308b19(0x4cb)+(_0x5de03a instanceof Error?_0x5de03a['message']:JSON[_0x308b19(0x7e4)](_0x5de03a,null,0x2))),null;}}async[a0_0x581af9(0x1b3)](_0x4d645d,_0x250f29){const _0x2b6bbe=a0_0x581af9;if(this[_0x2b6bbe(0x542)]['verbose'](this['instanceName']+'\x20('+this[_0x2b6bbe(0x43e)][_0x2b6bbe(0x40d)]+'):\x20Entrou\x20na\x20função\x20stop'),!_0x4d645d||!_0x250f29)return this['logger'][_0x2b6bbe(0x3cf)](this[_0x2b6bbe(0x41a)]+'\x20('+this[_0x2b6bbe(0x43e)][_0x2b6bbe(0x40d)]+_0x2b6bbe(0x47e)),null;let _0x32e17e=Date[_0x2b6bbe(0x23e)](),_0x454b23=parseInt(_0x250f29[_0x2b6bbe(0x7b6)],0xa);if(isNaN(_0x454b23))return this[_0x2b6bbe(0x542)][_0x2b6bbe(0x3cf)](this[_0x2b6bbe(0x41a)]+'\x20('+this['instance'][_0x2b6bbe(0x40d)]+_0x2b6bbe(0x7b3)),null;let _0x4a23ea={'newStoppedUntil':_0x32e17e+_0x454b23*0x3c*0x3e8};return await this[_0x2b6bbe(0x6b5)](_0x4d645d,_0x250f29,_0x4a23ea,!0x0),null;}async[a0_0x581af9(0x2f5)](_0x12c53c,_0x587bd5){const _0x521b0a=a0_0x581af9;try{switch(_0x587bd5[_0x521b0a(0x243)][_0x521b0a(0x6b4)]){case _0x521b0a(0x202):await this[_0x521b0a(0x2d7)](_0x12c53c,_0x587bd5);break;case'sendMedia':await this[_0x521b0a(0x4cf)](_0x12c53c,_0x587bd5);break;case _0x521b0a(0x3b8):await this['uazapiSendLocation'](_0x12c53c,_0x587bd5);break;case _0x521b0a(0x661):await this[_0x521b0a(0x535)](_0x12c53c,_0x587bd5);break;case'sendContact':await this[_0x521b0a(0x662)](_0x12c53c,_0x587bd5);break;case'sendPoll':await this[_0x521b0a(0x5f2)](_0x12c53c,_0x587bd5);break;case _0x521b0a(0x7db):await this[_0x521b0a(0x5f2)](_0x12c53c,_0x587bd5);break;case'deleteMessage':await this[_0x521b0a(0x232)](_0x12c53c,_0x587bd5);break;default:this[_0x521b0a(0x542)]['error'](this[_0x521b0a(0x41a)]+'\x20('+this[_0x521b0a(0x43e)][_0x521b0a(0x40d)]+_0x521b0a(0x1c1)+_0x587bd5[_0x521b0a(0x243)][_0x521b0a(0x6b4)]);}}catch(_0x292519){this['logger'][_0x521b0a(0x3cf)](this['instanceName']+'\x20('+this[_0x521b0a(0x43e)][_0x521b0a(0x40d)]+_0x521b0a(0x6b2)+(_0x292519 instanceof Error?_0x292519[_0x521b0a(0x390)]:JSON[_0x521b0a(0x7e4)](_0x292519,null,0x2)));}}async[a0_0x581af9(0x6b5)](_0x2e5fd8,_0x502a0c,_0x5af36a,_0x3cd461=!0x1,_0x4aa17d=!0x1){const _0x3b5219=a0_0x581af9;_0x2e5fd8['chatLog']['blockLogs']||(_0x2e5fd8[_0x3b5219(0x4a3)][_0x3b5219(0x1df)]=[]);let _0x2d62ce=(_0x2e5fd8[_0x3b5219(0x4a3)][_0x3b5219(0x1df)]?.['length']??0x0)+0x1,_0x4612bb=_0x2e5fd8[_0x3b5219(0x4a3)][_0x3b5219(0x1df)][_0x3b5219(0x378)](_0x2dcfa4=>String(_0x2dcfa4[_0x3b5219(0x640)])===String(_0x502a0c['_id']))[_0x3b5219(0x1ee)]+0x1,_0x54012b=_0x5af36a?.['onTime']??Date[_0x3b5219(0x23e)](),_0x3f7f01=_0x5af36a?.[_0x3b5219(0x3cf)]?_0x5af36a['errorLog']??_0x5af36a[_0x3b5219(0x3cf)][_0x3b5219(0x658)]():void 0x0,_0xfbb0a2={'onTime':_0x54012b,'blockId':_0x502a0c['_id'],'order':_0x2d62ce,'activatedCount':_0x4612bb,'error':_0x5af36a?.[_0x3b5219(0x3cf)]??!0x1,'messageId':_0x5af36a?.[_0x3b5219(0x623)],'apiResponse':_0x5af36a?.['apiResponse'],'apiResponseString':_0x5af36a?.[_0x3b5219(0x590)]?JSON[_0x3b5219(0x7e4)](_0x5af36a?.[_0x3b5219(0x590)]):void 0x0,'variable':_0x5af36a?.['variable'],'oldValue':_0x5af36a?.[_0x3b5219(0x84d)],'newValue':_0x5af36a?.[_0x3b5219(0x58a)],'newStoppedUntil':_0x5af36a?.[_0x3b5219(0x831)],'moreLogs':_0x5af36a?.[_0x3b5219(0x277)],'errorLog':_0x3f7f01};if(_0x5af36a[_0x3b5219(0x277)]&&_0x5af36a['moreLogs'][_0x3b5219(0x1ee)]>0x0){let _0x198ebb=_0x5af36a['moreLogs'][_0x3b5219(0x697)](_0x1de674=>this['replaceVariablesLogs'](_0x1de674,_0x2e5fd8['chatLog']['realVariables']));_0xfbb0a2[_0x3b5219(0x277)]=_0x198ebb;}_0x2e5fd8['chatLog'][_0x3b5219(0x7a5)]||(_0x2e5fd8[_0x3b5219(0x4a3)][_0x3b5219(0x7a5)]={}),_0x2e5fd8[_0x3b5219(0x4a3)][_0x3b5219(0x7a5)][_0x3b5219(0x306)]=String(_0x4612bb),_0x2e5fd8[_0x3b5219(0x4a3)][_0x3b5219(0x7a5)][_0x3b5219(0x357)]=String(_0x5af36a[_0x3b5219(0x3cf)]??!0x1),_0x2e5fd8[_0x3b5219(0x4a3)][_0x3b5219(0x1df)][_0x3b5219(0x71d)](_0xfbb0a2),_0x2e5fd8['chatLog'][_0x3b5219(0x293)]=_0x502a0c[_0x3b5219(0x4e8)]['toString'](),_0x2e5fd8[_0x3b5219(0x4a3)][_0x3b5219(0x413)]&&(_0x2e5fd8[_0x3b5219(0x4a3)][_0x3b5219(0x413)]=_0x2e5fd8['chatLog'][_0x3b5219(0x413)]),_0x2e5fd8[_0x3b5219(0x4a3)][_0x3b5219(0x606)]&&(_0x2e5fd8[_0x3b5219(0x4a3)][_0x3b5219(0x606)]=_0x2e5fd8['chatLog'][_0x3b5219(0x606)]),_0x2e5fd8['chatLog'][_0x3b5219(0x737)]&&(_0x2e5fd8[_0x3b5219(0x4a3)]['lastCondition']=_0x2e5fd8[_0x3b5219(0x4a3)][_0x3b5219(0x737)]),_0x4aa17d&&(_0x2e5fd8[_0x3b5219(0x2e9)]=_0x3b5219(0x475)),_0x3cd461?this[_0x3b5219(0x489)](_0x2e5fd8):this[_0x3b5219(0x314)](_0x2e5fd8,_0x502a0c);}['replaceVariablesLogs'](_0xa44974,_0x1c5f17){const _0x23300e=a0_0x581af9;return _0xa44974[_0x23300e(0x614)](/\{\{([^}]+)\}\}/g,(_0x2766b7,_0xc31ca4)=>_0x1c5f17[_0xc31ca4]?'{{'+_0xc31ca4+_0x23300e(0x6df)+_0x1c5f17[_0xc31ca4]+'\x22':'{{'+_0xc31ca4+_0x23300e(0x466));}async[a0_0x581af9(0x489)](_0x151a9c){const _0x58befa=a0_0x581af9;try{let _0x14492e=Object['entries'](_0x151a9c[_0x58befa(0x4a3)][_0x58befa(0x7a5)])[_0x58befa(0x697)](([_0x511d5c,_0x220714])=>({'name':_0x511d5c,'value':_0x220714})),_0x46c930={'status':_0x151a9c[_0x58befa(0x2e9)],'blocks':_0x151a9c[_0x58befa(0x265)],'waitingMenu_id':_0x151a9c[_0x58befa(0x21e)],'waitingMenu_text':_0x151a9c[_0x58befa(0x625)],'waitingMenu_replyOptions':_0x151a9c[_0x58befa(0x674)],'chatLog':{'lastBlockId':_0x151a9c[_0x58befa(0x4a3)][_0x58befa(0x293)],'lastSendMessage':_0x151a9c['chatLog'][_0x58befa(0x413)],'lastReceivedMessage':_0x151a9c['chatLog'][_0x58befa(0x606)],'lastCondition':_0x151a9c['chatLog'][_0x58befa(0x737)],'chatVariables':_0x14492e,'realVariables':_0x151a9c[_0x58befa(0x4a3)][_0x58befa(0x7a5)],'blockLogs':_0x151a9c[_0x58befa(0x4a3)][_0x58befa(0x1df)]}},_0x1cc5a0=await this['repository']['flowConversation'][_0x58befa(0x1b0)](_0x151a9c[_0x58befa(0x4e8)],_0x46c930,this[_0x58befa(0x43e)][_0x58befa(0x40d)]);if(_0x1cc5a0){this[_0x58befa(0x542)][_0x58befa(0x628)](this[_0x58befa(0x41a)]+'\x20('+this[_0x58befa(0x43e)][_0x58befa(0x40d)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x1cc5a0['_id']);try{let _0x28f15b=['nome','nomecompleto',_0x58befa(0x78b),_0x58befa(0x1ec),_0x58befa(0x2e9),'notas',_0x58befa(0x4a9),_0x58befa(0x213),_0x58befa(0x1e7)];if(!this[_0x58befa(0x27b)]&&(await this[_0x58befa(0x36e)](),!this[_0x58befa(0x27b)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x33ab20=this['AutomateSystem']?.[_0x58befa(0x663)][_0x58befa(0x697)](_0xfac14c=>_0xfac14c[_0x58befa(0x428)]),_0x2b8f38={};Object['entries'](_0x151a9c[_0x58befa(0x4a3)]['realVariables'])[_0x58befa(0x386)](([_0x1b6519,_0x3555a8])=>{const _0x2fc6e4=_0x58befa;_0x28f15b[_0x2fc6e4(0x2a9)](_0x1b6519)&&(_0x1b6519===_0x2fc6e4(0x213)&&typeof _0x3555a8==_0x2fc6e4(0x497)?_0x2b8f38[_0x1b6519]=_0x3555a8[_0x2fc6e4(0x68e)](',')[_0x2fc6e4(0x697)](_0x70d55f=>_0x70d55f[_0x2fc6e4(0x7c5)]())[_0x2fc6e4(0x378)](_0x2f76e2=>_0x2f76e2!==''):_0x1b6519===_0x2fc6e4(0x1e7)&&typeof _0x3555a8==_0x2fc6e4(0x497)?_0x2b8f38[_0x1b6519]=_0x3555a8[_0x2fc6e4(0x68e)](',')['map'](_0x68dd0a=>_0x68dd0a[_0x2fc6e4(0x7c5)]())[_0x2fc6e4(0x378)](_0x42452a=>_0x42452a!==''):_0x2b8f38[_0x1b6519]=_0x3555a8);});let _0x5b4253=_0x151a9c['chatLog']['blockLogs'][_0x151a9c[_0x58befa(0x4a3)][_0x58befa(0x1df)][_0x58befa(0x1ee)]-0x1];if(_0x5b4253){let _0x327485=_0x5b4253['newStoppedUntil'];_0x327485!==void 0x0&&(_0x2b8f38['desativadoFluxoAte']=_0x327485['toString']());}let _0x2bf86d=_0x14492e['filter'](_0x57a09f=>_0x33ab20[_0x58befa(0x2a9)](_0x57a09f[_0x58befa(0x428)]));this[_0x58befa(0x542)][_0x58befa(0x628)](this[_0x58befa(0x41a)]+'\x20('+this[_0x58befa(0x43e)][_0x58befa(0x40d)]+_0x58befa(0x27f)),this[_0x58befa(0x542)]['verbose'](_0x2b8f38),this[_0x58befa(0x542)][_0x58befa(0x628)](this[_0x58befa(0x41a)]+'\x20('+this['instance'][_0x58befa(0x40d)]+_0x58befa(0x605)),this['logger'][_0x58befa(0x628)](_0x2bf86d);let _0x5c2269=_0x2bf86d['map'](_0x41075a=>{const _0x5ce160=_0x58befa;let _0x53e89e=this[_0x5ce160(0x27b)]?.[_0x5ce160(0x663)][_0x5ce160(0x53f)](_0x3feb8b=>_0x3feb8b[_0x5ce160(0x428)]===_0x41075a[_0x5ce160(0x428)]);if(!_0x53e89e)throw new Error('Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20'+_0x41075a[_0x5ce160(0x428)]);return{'_id':_0x53e89e[_0x5ce160(0x4e8)],'value':_0x41075a[_0x5ce160(0x638)]};});this[_0x58befa(0x542)][_0x58befa(0x628)](this[_0x58befa(0x41a)]+'\x20('+this[_0x58befa(0x43e)]['wuid']+_0x58befa(0x70e)),this[_0x58befa(0x542)][_0x58befa(0x628)](_0x5c2269),await this[_0x58befa(0x1f0)](_0x151a9c[_0x58befa(0x601)],_0x2b8f38,_0x5c2269);}catch(_0x3409ea){this['logger'][_0x58befa(0x3cf)](this[_0x58befa(0x41a)]+'\x20('+this[_0x58befa(0x43e)]['wuid']+_0x58befa(0x2fe)+(_0x3409ea instanceof Error?_0x3409ea[_0x58befa(0x390)]:JSON['stringify'](_0x3409ea,null,0x2)));}}else this[_0x58befa(0x542)][_0x58befa(0x3cf)](this[_0x58befa(0x41a)]+'\x20('+this[_0x58befa(0x43e)][_0x58befa(0x40d)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x223005){this[_0x58befa(0x542)][_0x58befa(0x3cf)](this[_0x58befa(0x41a)]+'\x20('+this[_0x58befa(0x43e)][_0x58befa(0x40d)]+_0x58befa(0x289)+(_0x223005 instanceof Error?_0x223005[_0x58befa(0x390)]:JSON[_0x58befa(0x7e4)](_0x223005,null,0x2)));}}async[a0_0x581af9(0x1f0)](_0x5f66c1,_0x40e194,_0x5e0ec4){const _0x2257d0=a0_0x581af9;try{let _0x24b796={'leadInfo.leadnome':_0x40e194[_0x2257d0(0x538)],'leadInfo.nomecompleto':_0x40e194['nomecompleto'],'leadInfo.email':_0x40e194['email'],'leadInfo.cpf':_0x40e194[_0x2257d0(0x1ec)],'leadInfo.status':_0x40e194[_0x2257d0(0x2e9)],'leadInfo.notas':_0x40e194['notas'],'leadInfo.responsavelid':_0x40e194[_0x2257d0(0x4a9)],'leadInfo.tags':_0x40e194[_0x2257d0(0x213)],'leadInfo.etiquetas':_0x40e194['etiquetas'],'leadInfo.customFields':_0x5e0ec4},_0xc1302b=await this[_0x2257d0(0x456)][_0x2257d0(0x437)][_0x2257d0(0x841)]({'where':{'_id':_0x5f66c1}},this[_0x2257d0(0x43e)][_0x2257d0(0x40d)]),_0x45e632=new Set(_0xc1302b[_0x2257d0(0x4b6)]['etiquetas']||[]),_0xde2fe6=new Set(_0x40e194['etiquetas']||[]),_0x458a4f=await this['repository'][_0x2257d0(0x553)]['find']({'where':{}},this[_0x2257d0(0x43e)][_0x2257d0(0x40d)]),_0x1646a2=new Set(_0x458a4f[_0x2257d0(0x697)](_0x483f7b=>_0x483f7b[_0x2257d0(0x4e8)])),_0xa36e12=[..._0xde2fe6]['filter'](_0xdaaeee=>!_0x45e632[_0x2257d0(0x82b)](_0xdaaeee)&&_0x1646a2[_0x2257d0(0x82b)](_0xdaaeee)),_0x3252dc=[..._0x45e632][_0x2257d0(0x378)](_0x904490=>!_0xde2fe6[_0x2257d0(0x82b)](_0x904490));for(let _0x243753 of _0xa36e12)await this[_0x2257d0(0x5fc)](_0x243753,_0xc1302b[_0x2257d0(0x4e8)]),_0x45e632['add'](_0x243753);for(let _0x547008 of _0x3252dc)await this[_0x2257d0(0x216)](_0x547008,_0xc1302b[_0x2257d0(0x4e8)]),_0x45e632[_0x2257d0(0x5e1)](_0x547008);if(_0x2257d0(0x207)in _0x40e194){let _0x2b8578=_0x40e194[_0x2257d0(0x207)];_0x24b796[_0x2257d0(0x4c5)]=_0x2b8578?Number(_0x2b8578):null;}let _0x176ed4=await this['repository']['chat']['updateOne']({'where':{'_id':_0x5f66c1}},_0x24b796,this['instance'][_0x2257d0(0x40d)]);_0x176ed4?(this[_0x2257d0(0x542)]['verbose'](this[_0x2257d0(0x41a)]+'\x20('+this['instance']['wuid']+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20'+_0x176ed4[_0x2257d0(0x4e8)]),F(this[_0x2257d0(0x41a)],_0x2257d0(0x6bc),{'chat':_0x176ed4})):this['logger'][_0x2257d0(0x3cf)](this[_0x2257d0(0x41a)]+'\x20('+this[_0x2257d0(0x43e)][_0x2257d0(0x40d)]+_0x2257d0(0x287));}catch(_0xaea0d2){this[_0x2257d0(0x542)][_0x2257d0(0x3cf)](this['instanceName']+'\x20('+this[_0x2257d0(0x43e)][_0x2257d0(0x40d)]+_0x2257d0(0x781)+(_0xaea0d2 instanceof Error?_0xaea0d2[_0x2257d0(0x390)]:JSON[_0x2257d0(0x7e4)](_0xaea0d2,null,0x2)));}}async['updateStopChat'](_0x1187b9,_0x3a258d){const _0x3b2a5d=a0_0x581af9;this[_0x3b2a5d(0x542)]['verbose'](this['instanceName']+'\x20('+this[_0x3b2a5d(0x43e)]['wuid']+'):\x20atualização\x20chat:\x20'+_0x3a258d);try{let _0x4e5988=await this[_0x3b2a5d(0x456)][_0x3b2a5d(0x437)][_0x3b2a5d(0x1b0)]({'where':{'_id':_0x1187b9[_0x3b2a5d(0x601)]}},{'leadInfo.desativadoFluxoAte':_0x3a258d},this[_0x3b2a5d(0x43e)][_0x3b2a5d(0x40d)]);this[_0x3b2a5d(0x542)]['verbose'](this[_0x3b2a5d(0x41a)]+'\x20('+this[_0x3b2a5d(0x43e)][_0x3b2a5d(0x40d)]+_0x3b2a5d(0x336)+_0x1187b9[_0x3b2a5d(0x4e8)]),this[_0x3b2a5d(0x542)]['verbose'](this[_0x3b2a5d(0x41a)]+'\x20('+this[_0x3b2a5d(0x43e)][_0x3b2a5d(0x40d)]+'):\x20atualização\x20chat:\x20'+JSON[_0x3b2a5d(0x7e4)](_0x4e5988,null,0x2)),_0x4e5988&&F(this[_0x3b2a5d(0x41a)],_0x3b2a5d(0x6bc),{'chat':_0x4e5988});}catch(_0x34c2f8){this[_0x3b2a5d(0x542)][_0x3b2a5d(0x3cf)](this['instanceName']+'\x20('+this[_0x3b2a5d(0x43e)][_0x3b2a5d(0x40d)]+_0x3b2a5d(0x324)+(_0x34c2f8 instanceof Error?_0x34c2f8[_0x3b2a5d(0x390)]:JSON[_0x3b2a5d(0x7e4)](_0x34c2f8,null,0x2)));}}async[a0_0x581af9(0x85f)](_0x1c6dcc){const _0x330029=a0_0x581af9;try{this[_0x330029(0x542)][_0x330029(0x628)](this['instanceName']+'\x20('+this['instance'][_0x330029(0x40d)]+_0x330029(0x20a));let _0x160194=_0x1c6dcc[_0x330029(0x614)](/\D/g,''),_0x45e1b1=await this[_0x330029(0x456)]['flow'][_0x330029(0x841)]({'where':{'testingWith':_0x160194}},this[_0x330029(0x43e)][_0x330029(0x40d)]);return _0x45e1b1||(this[_0x330029(0x542)][_0x330029(0x628)](this[_0x330029(0x41a)]+'\x20('+this[_0x330029(0x43e)][_0x330029(0x40d)]+_0x330029(0x79c)),_0x45e1b1=await this[_0x330029(0x456)][_0x330029(0x394)][_0x330029(0x841)]({'where':{'default':!0x0}},this[_0x330029(0x43e)]['wuid'])),_0x45e1b1||(this[_0x330029(0x542)][_0x330029(0x628)](this['instanceName']+'\x20('+this[_0x330029(0x43e)][_0x330029(0x40d)]+_0x330029(0x62f)),null);}catch(_0x371d8a){return this[_0x330029(0x542)][_0x330029(0x3cf)](this['instanceName']+'\x20('+this[_0x330029(0x43e)][_0x330029(0x40d)]+_0x330029(0x70a)+(_0x371d8a instanceof Error?_0x371d8a[_0x330029(0x390)]:JSON[_0x330029(0x7e4)](_0x371d8a,null,0x2))),null;}}async[a0_0x581af9(0x821)](_0xa163f6,_0xce1be0){const _0x4aebd8=a0_0x581af9;try{let _0x3e1452=!!_0xce1be0[_0x4aebd8(0x514)],_0x3b8763=_0xce1be0['quoted'],_0x59a99b=null;if(this[_0x4aebd8(0x542)][_0x4aebd8(0x628)](this[_0x4aebd8(0x41a)]+'\x20('+this['instance'][_0x4aebd8(0x40d)]+_0x4aebd8(0x244)+_0x3e1452+_0x4aebd8(0x334)+_0x3b8763),_0x3e1452){this['logger'][_0x4aebd8(0x628)](this[_0x4aebd8(0x41a)]+'\x20('+this['instance'][_0x4aebd8(0x40d)]+_0x4aebd8(0x820));let _0x46ace5={'where':{'remoteJid':_0xa163f6,'waitingMenu_id':_0x3b8763}};if(_0x59a99b=await this[_0x4aebd8(0x456)][_0x4aebd8(0x450)][_0x4aebd8(0x841)](_0x46ace5,this[_0x4aebd8(0x43e)]['wuid']),!_0x59a99b)return this['logger'][_0x4aebd8(0x628)](this['instanceName']+'\x20('+this['instance'][_0x4aebd8(0x40d)]+_0x4aebd8(0x1cc)),null;let _0x46a541=Date[_0x4aebd8(0x23e)](),_0x3e0206=_0x59a99b?.[_0x4aebd8(0x26b)]||0x0,_0x10ac77=_0x46a541-_0x3e0206*0x3c*0x3e8;if(_0x59a99b[_0x4aebd8(0x5f9)]<_0x10ac77){this[_0x4aebd8(0x542)]['verbose'](this[_0x4aebd8(0x41a)]+'\x20('+this[_0x4aebd8(0x43e)][_0x4aebd8(0x40d)]+_0x4aebd8(0x22f));let _0x924bb4={'number':_0x59a99b[_0x4aebd8(0x601)],'options':{'delay':0x0},'textMessage':{'text':_0x59a99b[_0x4aebd8(0x229)]}};await this[_0x4aebd8(0x3d9)](_0x924bb4);let _0x3ff4b1={'status':_0x4aebd8(0x475),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x4aebd8(0x456)][_0x4aebd8(0x450)][_0x4aebd8(0x1b0)](_0x59a99b['_id'],_0x3ff4b1,this[_0x4aebd8(0x43e)]['wuid']),null;}return _0x59a99b[_0x4aebd8(0x5f9)]=Date[_0x4aebd8(0x23e)](),_0x59a99b[_0x4aebd8(0x4a3)][_0x4aebd8(0x606)]=_0xce1be0,_0x59a99b;}else{this['logger'][_0x4aebd8(0x628)](this[_0x4aebd8(0x41a)]+'\x20('+this[_0x4aebd8(0x43e)][_0x4aebd8(0x40d)]+_0x4aebd8(0x3bc)+this[_0x4aebd8(0x43e)][_0x4aebd8(0x40d)]+_0x4aebd8(0x6a4)),this[_0x4aebd8(0x542)]['verbose'](this[_0x4aebd8(0x41a)]+'\x20('+this['instance'][_0x4aebd8(0x40d)]+_0x4aebd8(0x1fb));let _0x2762f7={'where':{'remoteJid':_0xa163f6,'status':_0x4aebd8(0x610)}};if(_0x59a99b=await this[_0x4aebd8(0x456)]['flowConversation'][_0x4aebd8(0x841)](_0x2762f7,this[_0x4aebd8(0x43e)][_0x4aebd8(0x40d)]),!_0x59a99b){let _0x232a65=await this[_0x4aebd8(0x85f)](_0xa163f6);if(_0x232a65&&(_0x59a99b=await this[_0x4aebd8(0x481)](_0x232a65,_0xce1be0[_0x4aebd8(0x686)],_0xce1be0)),!_0x59a99b)return null;}let _0x584c72=Date[_0x4aebd8(0x23e)](),_0x392367=_0x59a99b?.[_0x4aebd8(0x26b)]||0x0,_0x53bd23=_0x584c72-_0x392367*0x3c*0x3e8;if(this[_0x4aebd8(0x542)][_0x4aebd8(0x628)](this[_0x4aebd8(0x41a)]+'\x20('+this[_0x4aebd8(0x43e)][_0x4aebd8(0x40d)]+'):\x20Current\x20Time:\x20'+_0x584c72+_0x4aebd8(0x5f6)+_0x392367+_0x4aebd8(0x2c8)+_0x53bd23),this['logger'][_0x4aebd8(0x628)](this[_0x4aebd8(0x41a)]+'\x20('+this[_0x4aebd8(0x43e)][_0x4aebd8(0x40d)]+_0x4aebd8(0x823)),this[_0x4aebd8(0x542)][_0x4aebd8(0x628)](this[_0x4aebd8(0x41a)]+'\x20('+this[_0x4aebd8(0x43e)]['wuid']+_0x4aebd8(0x4f3)+_0x59a99b[_0x4aebd8(0x5f9)]),this[_0x4aebd8(0x542)][_0x4aebd8(0x628)](this['instanceName']+'\x20('+this[_0x4aebd8(0x43e)][_0x4aebd8(0x40d)]+'):\x20expirationTime:\x20'+_0x53bd23),_0x59a99b['lastInteraction']<_0x53bd23){this[_0x4aebd8(0x542)][_0x4aebd8(0x628)](this[_0x4aebd8(0x41a)]+'\x20('+this[_0x4aebd8(0x43e)][_0x4aebd8(0x40d)]+_0x4aebd8(0x82d));let _0x310498=await this[_0x4aebd8(0x85f)](_0xa163f6);if(_0x310498===null)return null;_0x59a99b&&await this[_0x4aebd8(0x456)][_0x4aebd8(0x450)][_0x4aebd8(0x1b0)](_0x59a99b[_0x4aebd8(0x4e8)],{'status':_0x4aebd8(0x475)},this[_0x4aebd8(0x43e)][_0x4aebd8(0x40d)]),_0x59a99b=await this['createNewConversation'](_0x310498,_0xce1be0[_0x4aebd8(0x686)],_0xce1be0);}return _0x59a99b[_0x4aebd8(0x5f9)]=_0x584c72,_0x59a99b[_0x4aebd8(0x4a3)][_0x4aebd8(0x606)]=_0xce1be0,_0x59a99b;}}catch(_0x22ff0d){return this['logger'][_0x4aebd8(0x3cf)](this[_0x4aebd8(0x41a)]+'\x20('+this['instance'][_0x4aebd8(0x40d)]+_0x4aebd8(0x3f3)+(_0x22ff0d instanceof Error?_0x22ff0d[_0x4aebd8(0x390)]:JSON[_0x4aebd8(0x7e4)](_0x22ff0d,null,0x2))),null;}}async[a0_0x581af9(0x481)](_0x53c41e,_0xfeef3d,_0x396ce0){const _0x7bb426=a0_0x581af9;this[_0x7bb426(0x542)][_0x7bb426(0x628)](this['instanceName']+'\x20('+this['instance'][_0x7bb426(0x40d)]+_0x7bb426(0x1cf));try{let _0x2f4caf=require(_0x7bb426(0x3ea))['ObjectId'],_0x3cbb90=Date[_0x7bb426(0x23e)](),_0x4b4942=_0x7bb426(0x815),_0x42c0f=_0xfeef3d[_0x7bb426(0x795)]?null:_0x396ce0,_0xe62a5a=_0xfeef3d[_0x7bb426(0x795)]?_0x396ce0:null,_0x5db14b=_0xfeef3d['remoteJid'];await this[_0x7bb426(0x38e)](_0x5db14b);let _0x3ed14d={..._0x53c41e,'chatLog':null},_0x30b202=await this[_0x7bb426(0x5d5)](_0x3ed14d[_0x7bb426(0x83c)]),_0xed558e=await this[_0x7bb426(0x7b8)](_0x5db14b),_0x3a6d7e={..._0x30b202,..._0xed558e,'_remoteJid':_0x5db14b},_0x3de0c9={'lastReceivedMessage':_0x42c0f,'lastSendMessage':_0xe62a5a,'lastBlockId':_0x4b4942,'lastCondition':!0x0,'realVariables':_0x3a6d7e};_0x3ed14d[_0x7bb426(0x4a3)]=_0x3de0c9,delete _0x3ed14d[_0x7bb426(0x4e8)],_0x3ed14d[_0x7bb426(0x4e8)]=new _0x2f4caf(),_0x3ed14d['lastInteraction']=_0x3cbb90,_0x3ed14d[_0x7bb426(0x2e9)]=_0x7bb426(0x610),_0x3ed14d[_0x7bb426(0x601)]=_0x5db14b;let _0x4e7110=await this[_0x7bb426(0x456)][_0x7bb426(0x450)][_0x7bb426(0x1b0)](_0x3ed14d[_0x7bb426(0x4e8)],_0x3ed14d,this['instance']['wuid']);return this[_0x7bb426(0x542)]['verbose'](this[_0x7bb426(0x41a)]+'\x20('+this[_0x7bb426(0x43e)][_0x7bb426(0x40d)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x4e7110?_0x3ed14d:null;}catch(_0x3558e1){return this[_0x7bb426(0x542)][_0x7bb426(0x3cf)](this[_0x7bb426(0x41a)]+'\x20('+this[_0x7bb426(0x43e)]['wuid']+_0x7bb426(0x3ba)+(_0x3558e1 instanceof Error?_0x3558e1['message']:JSON[_0x7bb426(0x7e4)](_0x3558e1,null,0x2))),_0x3558e1;}}async['uazapiSendText'](_0x3d69d6,_0x31fb75){const _0x5a117d=a0_0x581af9;let _0x350ea2=_0x3d69d6['remoteJid'];_0x31fb75[_0x5a117d(0x243)][_0x5a117d(0x601)]&&_0x31fb75[_0x5a117d(0x243)][_0x5a117d(0x601)][_0x5a117d(0x7c5)]()!==''&&(_0x350ea2=_0x31fb75['uazapi'][_0x5a117d(0x601)]['trim']()),this[_0x5a117d(0x542)][_0x5a117d(0x628)](this[_0x5a117d(0x41a)]+'\x20('+this[_0x5a117d(0x43e)][_0x5a117d(0x40d)]+_0x5a117d(0x719));let _0x48d8ba={'number':_0x350ea2,'options':{'delay':_0x31fb75['uazapi'][_0x5a117d(0x4d1)],'linkPreview':_0x31fb75[_0x5a117d(0x243)]['linkPreview']},'textMessage':{'text':_0x31fb75[_0x5a117d(0x243)][_0x5a117d(0x711)]}};try{let _0x3a830f=await this[_0x5a117d(0x3d9)](_0x48d8ba);if(_0x3a830f){let _0x24f7fa={'_id':_0x3a830f[_0x5a117d(0x686)]['id'],'_fromMe':_0x3a830f[_0x5a117d(0x686)][_0x5a117d(0x795)],'_remoteJid':_0x3a830f[_0x5a117d(0x686)][_0x5a117d(0x601)]},_0x4101ce=(0x0,m[_0x5a117d(0x3ab)])(_0x3a830f[_0x5a117d(0x390)]),_0x209716=(0x0,m['getContentType'])(_0x4101ce);_0x3d69d6[_0x5a117d(0x4a3)][_0x5a117d(0x293)]=_0x31fb75[_0x5a117d(0x4e8)][_0x5a117d(0x658)]();let {message_normalized:_0x3e524d}=this[_0x5a117d(0x204)](_0x4101ce,_0x209716,null);_0x3d69d6['chatLog'][_0x5a117d(0x413)]=await _0x3e524d;let _0x5be187={'messageId':_0x3a830f['key']['id']},_0x8fa0b4=_0x3d69d6[_0x5a117d(0x4a3)][_0x5a117d(0x7a5)];Object[_0x5a117d(0x5e4)](_0x8fa0b4,_0x24f7fa),_0x3d69d6[_0x5a117d(0x4a3)][_0x5a117d(0x7a5)]=_0x8fa0b4,this[_0x5a117d(0x6b5)](_0x3d69d6,_0x31fb75,_0x5be187);}else{let _0x2f4a1b={'error':!0x0};this['updateConversation'](_0x3d69d6,_0x31fb75,_0x2f4a1b),this[_0x5a117d(0x542)][_0x5a117d(0x3cf)](this['instanceName']+'\x20('+this[_0x5a117d(0x43e)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.');}}catch(_0x9ed8d9){let _0x226476={'error':!0x0,'errorLog':_0x9ed8d9['toString']()};this['updateConversation'](_0x3d69d6,_0x31fb75,_0x226476),this['logger'][_0x5a117d(0x3cf)](this['instanceName']+'\x20('+this[_0x5a117d(0x43e)][_0x5a117d(0x40d)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x9ed8d9 instanceof Error?_0x9ed8d9[_0x5a117d(0x390)]:JSON[_0x5a117d(0x7e4)](_0x9ed8d9,null,0x2)));}}async[a0_0x581af9(0x4cf)](_0xd37e76,_0x5ceb2c){const _0x331710=a0_0x581af9;let _0x3d3b73=_0xd37e76[_0x331710(0x601)];_0x5ceb2c['uazapi'][_0x331710(0x601)]&&_0x5ceb2c[_0x331710(0x243)][_0x331710(0x601)]['trim']()!==''&&(_0x3d3b73=_0x5ceb2c[_0x331710(0x243)][_0x331710(0x601)]['trim']()),this['logger'][_0x331710(0x628)](this['instanceName']+'\x20('+this[_0x331710(0x43e)][_0x331710(0x40d)]+'):\x20Enviando\x20mídia');let _0x4e5e47={'number':_0x3d3b73,'options':{'delay':_0x5ceb2c['uazapi'][_0x331710(0x4d1)],'linkPreview':_0x5ceb2c[_0x331710(0x243)][_0x331710(0x30e)]},'mediaMessage':{'mediatype':_0x5ceb2c[_0x331710(0x243)][_0x331710(0x506)],'caption':_0x5ceb2c[_0x331710(0x243)]['caption'],'media':_0x5ceb2c[_0x331710(0x243)][_0x331710(0x541)],'fileName':_0x5ceb2c[_0x331710(0x243)][_0x331710(0x355)]}};try{let _0x59ed7f=await this['mediaMessage'](_0x4e5e47);if(_0x59ed7f){let _0x2b5323={'_id':_0x59ed7f[_0x331710(0x686)]['id'],'_fromMe':_0x59ed7f['key']['fromMe'],'_remoteJid':_0x59ed7f['key'][_0x331710(0x601)]},_0x20fe98=(0x0,m['normalizeMessageContent'])(_0x59ed7f['message']),_0x545145=(0x0,m[_0x331710(0x41c)])(_0x20fe98);_0xd37e76[_0x331710(0x4a3)][_0x331710(0x293)]=_0x5ceb2c[_0x331710(0x4e8)][_0x331710(0x658)]();let {message_normalized:_0x55e40a}=this[_0x331710(0x204)](_0x20fe98,_0x545145,null);_0xd37e76['chatLog'][_0x331710(0x413)]=await _0x55e40a;let _0x544403={'messageId':_0x59ed7f[_0x331710(0x686)]['id']},_0x3d7dd1=_0xd37e76[_0x331710(0x4a3)]['realVariables'];Object[_0x331710(0x5e4)](_0x3d7dd1,_0x2b5323),_0xd37e76['chatLog'][_0x331710(0x7a5)]=_0x3d7dd1,this[_0x331710(0x6b5)](_0xd37e76,_0x5ceb2c,_0x544403);}else{let _0x1d308c={'error':!0x0};this[_0x331710(0x6b5)](_0xd37e76,_0x5ceb2c,_0x1d308c),this['logger'][_0x331710(0x3cf)](this[_0x331710(0x41a)]+'\x20('+this[_0x331710(0x43e)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.');}}catch(_0x1f4ec1){let _0x2cb4cb={'error':!0x0,'errorLog':_0x1f4ec1[_0x331710(0x658)]()};this[_0x331710(0x6b5)](_0xd37e76,_0x5ceb2c,_0x2cb4cb),this['logger'][_0x331710(0x3cf)](this[_0x331710(0x41a)]+'\x20('+this[_0x331710(0x43e)][_0x331710(0x40d)]+_0x331710(0x352)+(_0x1f4ec1 instanceof Error?_0x1f4ec1['message']:JSON[_0x331710(0x7e4)](_0x1f4ec1,null,0x2)));}}async['uazapiSendLocation'](_0x231766,_0x45a6ae){const _0xe48382=a0_0x581af9;let _0x3d6667=_0x231766[_0xe48382(0x601)];_0x45a6ae['uazapi'][_0xe48382(0x601)]&&_0x45a6ae[_0xe48382(0x243)][_0xe48382(0x601)][_0xe48382(0x7c5)]()!==''&&(_0x3d6667=_0x45a6ae['uazapi']['remoteJid'][_0xe48382(0x7c5)]()),this[_0xe48382(0x542)]['verbose'](this['instanceName']+'\x20('+this[_0xe48382(0x43e)]['wuid']+_0xe48382(0x5a9));let _0x65a46e={'number':_0x3d6667,'options':{'delay':_0x45a6ae[_0xe48382(0x243)][_0xe48382(0x4d1)]},'locationMessage':{'name':_0x45a6ae['uazapi'][_0xe48382(0x428)],'address':_0x45a6ae[_0xe48382(0x243)][_0xe48382(0x275)],'latitude':_0x45a6ae[_0xe48382(0x243)]['latitude'],'longitude':_0x45a6ae[_0xe48382(0x243)][_0xe48382(0x752)]}};try{let _0xdce1be=await this[_0xe48382(0x485)](_0x65a46e);if(_0xdce1be){let _0x3205a2={'_id':_0xdce1be['key']['id'],'_fromMe':_0xdce1be[_0xe48382(0x686)][_0xe48382(0x795)],'_remoteJid':_0xdce1be[_0xe48382(0x686)][_0xe48382(0x601)]},_0x1d3e9f=(0x0,m['normalizeMessageContent'])(_0xdce1be[_0xe48382(0x390)]),_0x48856c=(0x0,m[_0xe48382(0x41c)])(_0x1d3e9f);_0x231766[_0xe48382(0x4a3)][_0xe48382(0x293)]=_0x45a6ae[_0xe48382(0x4e8)][_0xe48382(0x658)]();let {message_normalized:_0x53e1da}=this['normalizeMessage'](_0x1d3e9f,_0x48856c,null);_0x231766[_0xe48382(0x4a3)][_0xe48382(0x413)]=await _0x53e1da;let _0x4dc392={'messageId':_0xdce1be[_0xe48382(0x686)]['id']},_0x8cb0f2=_0x231766[_0xe48382(0x4a3)]['realVariables'];Object[_0xe48382(0x5e4)](_0x8cb0f2,_0x3205a2),_0x231766[_0xe48382(0x4a3)]['realVariables']=_0x8cb0f2,this[_0xe48382(0x6b5)](_0x231766,_0x45a6ae,_0x4dc392);}else{let _0x51d84a={'error':!0x0};this[_0xe48382(0x6b5)](_0x231766,_0x45a6ae,_0x51d84a),this[_0xe48382(0x542)][_0xe48382(0x3cf)](this[_0xe48382(0x41a)]+'\x20('+this[_0xe48382(0x43e)][_0xe48382(0x40d)]+_0xe48382(0x64a));}}catch(_0x46bedd){let _0x119691={'error':!0x0,'errorLog':_0x46bedd[_0xe48382(0x658)]()};this[_0xe48382(0x6b5)](_0x231766,_0x45a6ae,_0x119691),this[_0xe48382(0x542)][_0xe48382(0x3cf)](this['instanceName']+'\x20('+this[_0xe48382(0x43e)][_0xe48382(0x40d)]+_0xe48382(0x577)+(_0x46bedd instanceof Error?_0x46bedd[_0xe48382(0x390)]:JSON[_0xe48382(0x7e4)](_0x46bedd,null,0x2)));}}async['uazapiSendAudio'](_0x3ac1b6,_0x53d465){const _0x343a1b=a0_0x581af9;let _0x4436bb=_0x3ac1b6[_0x343a1b(0x601)];_0x53d465['uazapi'][_0x343a1b(0x601)]&&_0x53d465['uazapi'][_0x343a1b(0x601)][_0x343a1b(0x7c5)]()!==''&&(_0x4436bb=_0x53d465[_0x343a1b(0x243)][_0x343a1b(0x601)][_0x343a1b(0x7c5)]()),this[_0x343a1b(0x542)][_0x343a1b(0x628)](this[_0x343a1b(0x41a)]+'\x20('+this[_0x343a1b(0x43e)][_0x343a1b(0x40d)]+_0x343a1b(0x40c));let _0x1a97fb={'number':_0x4436bb,'options':{'delay':_0x53d465[_0x343a1b(0x243)][_0x343a1b(0x4d1)]},'audioMessage':{'audio':_0x53d465[_0x343a1b(0x243)]['audio']}};try{let _0x11ad60=await this['audioWhatsapp'](_0x1a97fb);if(_0x11ad60){let _0x29a172={'_id':_0x11ad60[_0x343a1b(0x686)]['id'],'_fromMe':_0x11ad60[_0x343a1b(0x686)][_0x343a1b(0x795)],'_remoteJid':_0x11ad60[_0x343a1b(0x686)]['remoteJid']},_0x5c2743=(0x0,m[_0x343a1b(0x3ab)])(_0x11ad60[_0x343a1b(0x390)]),_0x1254af=(0x0,m['getContentType'])(_0x5c2743);_0x3ac1b6[_0x343a1b(0x4a3)][_0x343a1b(0x293)]=_0x53d465[_0x343a1b(0x4e8)][_0x343a1b(0x658)]();let {message_normalized:_0x28ad78}=this[_0x343a1b(0x204)](_0x5c2743,_0x1254af,null);_0x3ac1b6['chatLog'][_0x343a1b(0x413)]=await _0x28ad78;let _0x5e60b3={'messageId':_0x11ad60[_0x343a1b(0x686)]['id']},_0x55542c=_0x3ac1b6['chatLog']['realVariables'];Object[_0x343a1b(0x5e4)](_0x55542c,_0x29a172),_0x3ac1b6['chatLog'][_0x343a1b(0x7a5)]=_0x55542c,this[_0x343a1b(0x6b5)](_0x3ac1b6,_0x53d465,_0x5e60b3);}else{let _0x469405={'error':!0x0};this['updateConversation'](_0x3ac1b6,_0x53d465,_0x469405),this[_0x343a1b(0x542)][_0x343a1b(0x3cf)](this['instanceName']+'\x20('+this[_0x343a1b(0x43e)][_0x343a1b(0x40d)]+_0x343a1b(0x3da));}}catch(_0x32634b){let _0x569f6d={'error':!0x0,'errorLog':_0x32634b[_0x343a1b(0x658)]()};this['updateConversation'](_0x3ac1b6,_0x53d465,_0x569f6d),this['logger']['error'](this['instanceName']+'\x20('+this[_0x343a1b(0x43e)][_0x343a1b(0x40d)]+_0x343a1b(0x63d)+(_0x32634b instanceof Error?_0x32634b[_0x343a1b(0x390)]:JSON['stringify'](_0x32634b,null,0x2)));}}async[a0_0x581af9(0x662)](_0x556ed9,_0x30fe1f){const _0x18cc87=a0_0x581af9;let _0x22f911=_0x556ed9[_0x18cc87(0x601)];_0x30fe1f[_0x18cc87(0x243)][_0x18cc87(0x601)]&&_0x30fe1f[_0x18cc87(0x243)][_0x18cc87(0x601)][_0x18cc87(0x7c5)]()!==''&&(_0x22f911=_0x30fe1f[_0x18cc87(0x243)][_0x18cc87(0x601)][_0x18cc87(0x7c5)]()),this[_0x18cc87(0x542)]['verbose'](this[_0x18cc87(0x41a)]+'\x20('+this['instance']['wuid']+_0x18cc87(0x2db));let _0x3cc794={'number':_0x22f911,'options':{'delay':_0x30fe1f[_0x18cc87(0x243)][_0x18cc87(0x4d1)]},'contactMessage':[{'fullName':_0x30fe1f[_0x18cc87(0x243)]['fullName'],'phoneNumber':_0x30fe1f[_0x18cc87(0x243)][_0x18cc87(0x5ac)]}]};try{let _0x2b982f=await this['contactMessage'](_0x3cc794);if(_0x2b982f){let _0x2089a2={'_id':_0x2b982f[_0x18cc87(0x686)]['id'],'_fromMe':_0x2b982f[_0x18cc87(0x686)]['fromMe'],'_remoteJid':_0x2b982f['key']['remoteJid']},_0x47f83e=(0x0,m[_0x18cc87(0x3ab)])(_0x2b982f['message']),_0x2afd7e=(0x0,m[_0x18cc87(0x41c)])(_0x47f83e);_0x556ed9['chatLog'][_0x18cc87(0x293)]=_0x30fe1f[_0x18cc87(0x4e8)][_0x18cc87(0x658)]();let {message_normalized:_0xeefa19}=this['normalizeMessage'](_0x47f83e,_0x2afd7e,null);_0x556ed9[_0x18cc87(0x4a3)]['lastSendMessage']=await _0xeefa19;let _0x392288={'messageId':_0x2b982f[_0x18cc87(0x686)]['id']},_0x329e1b=_0x556ed9[_0x18cc87(0x4a3)][_0x18cc87(0x7a5)];Object[_0x18cc87(0x5e4)](_0x329e1b,_0x2089a2),_0x556ed9['chatLog']['realVariables']=_0x329e1b,this[_0x18cc87(0x6b5)](_0x556ed9,_0x30fe1f,_0x392288);}else{let _0x1628be={'error':!0x0};this['updateConversation'](_0x556ed9,_0x30fe1f,_0x1628be),this[_0x18cc87(0x542)][_0x18cc87(0x3cf)](this[_0x18cc87(0x41a)]+'\x20('+this['instance'][_0x18cc87(0x40d)]+_0x18cc87(0x2e1));}}catch(_0x55b448){let _0x37d97e={'error':!0x0,'errorLog':_0x55b448[_0x18cc87(0x658)]()};this[_0x18cc87(0x6b5)](_0x556ed9,_0x30fe1f,_0x37d97e),this[_0x18cc87(0x542)][_0x18cc87(0x3cf)](this[_0x18cc87(0x41a)]+'\x20('+this[_0x18cc87(0x43e)][_0x18cc87(0x40d)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20'+(_0x55b448 instanceof Error?_0x55b448[_0x18cc87(0x390)]:JSON[_0x18cc87(0x7e4)](_0x55b448,null,0x2)));}}[a0_0x581af9(0x53b)](_0xc4b19e,_0x4246ad){const _0xc45634=a0_0x581af9;for(let _0x551fc0 of _0xc4b19e)_0x551fc0['option']&&(_0x551fc0[_0xc45634(0x59f)]=this[_0xc45634(0x60e)](_0x551fc0[_0xc45634(0x59f)],_0x4246ad)),_0x551fc0[_0xc45634(0x323)]&&(_0x551fc0['optionDescription']=this[_0xc45634(0x60e)](_0x551fc0['optionDescription'],_0x4246ad));}async['uazapiSendMenu'](_0x4672bb,_0x40f047){const _0x2d76da=a0_0x581af9;let _0x4c90cd=_0x4672bb[_0x2d76da(0x601)];_0x40f047[_0x2d76da(0x243)][_0x2d76da(0x601)]&&_0x40f047[_0x2d76da(0x243)][_0x2d76da(0x601)][_0x2d76da(0x7c5)]()!==''&&(_0x4c90cd=_0x40f047[_0x2d76da(0x243)]['remoteJid'][_0x2d76da(0x7c5)]()),this[_0x2d76da(0x542)]['verbose'](this[_0x2d76da(0x41a)]+'\x20('+this[_0x2d76da(0x43e)][_0x2d76da(0x40d)]+'):\x20Enviando\x20enquete');let _0x3fcbf9=_0x4672bb[_0x2d76da(0x816)]['filter'](_0x229074=>_0x229074[_0x2d76da(0x640)]===_0x40f047[_0x2d76da(0x4e8)])[_0x2d76da(0x555)]((_0x18f694,_0x40b60b)=>_0x18f694[_0x2d76da(0x682)]-_0x40b60b[_0x2d76da(0x682)]);this[_0x2d76da(0x53b)](_0x3fcbf9,_0x4672bb[_0x2d76da(0x4a3)]['realVariables']);let _0x354d76=_0x3fcbf9['map'](_0x151618=>_0x151618[_0x2d76da(0x59f)]),_0x2270cd={'number':_0x4c90cd,'menuMessage':{'type':_0x40f047[_0x2d76da(0x243)][_0x2d76da(0x5fd)]||'poll','text':_0x40f047[_0x2d76da(0x243)][_0x2d76da(0x711)]||_0x40f047['uazapi']['name'],'footerText':_0x40f047['uazapi'][_0x2d76da(0x1dc)],'buttonText':_0x40f047[_0x2d76da(0x243)][_0x2d76da(0x441)],'selectableCount':0x1,'choices':_0x354d76},'options':{'delay':_0x40f047['uazapi'][_0x2d76da(0x4d1)]}};try{let _0x1d0c43=await this[_0x2d76da(0x33c)](_0x2270cd);if(_0x1d0c43){let _0x3d3e71={'_id':_0x1d0c43[_0x2d76da(0x686)]['id'],'_fromMe':_0x1d0c43[_0x2d76da(0x686)][_0x2d76da(0x795)],'_remoteJid':_0x1d0c43['key'][_0x2d76da(0x601)]};_0x40f047['uazapi'][_0x2d76da(0x771)]===!0x0&&(_0x4672bb[_0x2d76da(0x2e9)]=_0x2d76da(0x469),this['logger'][_0x2d76da(0x628)](this[_0x2d76da(0x41a)]+'\x20('+this[_0x2d76da(0x43e)]['wuid']+'):\x20conversation.status:\x20'+_0x4672bb[_0x2d76da(0x2e9)])),this[_0x2d76da(0x542)][_0x2d76da(0x628)](this[_0x2d76da(0x41a)]+'\x20('+this[_0x2d76da(0x43e)][_0x2d76da(0x40d)]+_0x2d76da(0x84e)+(_0x40f047[_0x2d76da(0x243)][_0x2d76da(0x428)]||_0x40f047[_0x2d76da(0x243)][_0x2d76da(0x711)])),_0x4672bb['waitingMenu_id']=_0x1d0c43['key']['id'],_0x4672bb['waitingMenu_text']=_0x40f047[_0x2d76da(0x243)]['name']||_0x40f047[_0x2d76da(0x243)][_0x2d76da(0x711)],_0x4672bb[_0x2d76da(0x674)]=_0x3fcbf9,_0x40f047[_0x2d76da(0x243)][_0x2d76da(0x720)]&&(_0x4672bb[_0x2d76da(0x229)]=_0x40f047[_0x2d76da(0x243)][_0x2d76da(0x720)]),this[_0x2d76da(0x542)][_0x2d76da(0x628)](this[_0x2d76da(0x41a)]+'\x20('+this['instance'][_0x2d76da(0x40d)]+_0x2d76da(0x256)+_0x4672bb[_0x2d76da(0x625)]);let _0x381a8b=(0x0,m[_0x2d76da(0x3ab)])(_0x1d0c43[_0x2d76da(0x390)]),_0x3daf2e=(0x0,m[_0x2d76da(0x41c)])(_0x381a8b);_0x4672bb[_0x2d76da(0x4a3)][_0x2d76da(0x293)]=_0x40f047[_0x2d76da(0x4e8)][_0x2d76da(0x658)]();let {message_normalized:_0x2b3e73}=this['normalizeMessage'](_0x381a8b,_0x3daf2e,null);_0x4672bb[_0x2d76da(0x4a3)][_0x2d76da(0x413)]=await _0x2b3e73;let _0x5a14d6={'messageId':_0x1d0c43[_0x2d76da(0x686)]['id']},_0x160c8a=_0x4672bb[_0x2d76da(0x4a3)][_0x2d76da(0x7a5)];Object[_0x2d76da(0x5e4)](_0x160c8a,_0x3d3e71),_0x4672bb['chatLog'][_0x2d76da(0x7a5)]=_0x160c8a,this[_0x2d76da(0x6b5)](_0x4672bb,_0x40f047,_0x5a14d6);}else{let _0x5ac036={'error':!0x0};this[_0x2d76da(0x6b5)](_0x4672bb,_0x40f047,_0x5ac036),this[_0x2d76da(0x542)][_0x2d76da(0x3cf)](this[_0x2d76da(0x41a)]+'\x20('+this[_0x2d76da(0x43e)][_0x2d76da(0x40d)]+_0x2d76da(0x523));}}catch(_0x950fad){let _0x43874c={'error':!0x0,'errorLog':_0x950fad instanceof Error?_0x950fad[_0x2d76da(0x390)]:JSON['stringify'](_0x950fad,null,0x2)};this[_0x2d76da(0x6b5)](_0x4672bb,_0x40f047,_0x43874c),this[_0x2d76da(0x542)]['error'](this[_0x2d76da(0x41a)]+'\x20('+this[_0x2d76da(0x43e)][_0x2d76da(0x40d)]+_0x2d76da(0x1c4)+(_0x950fad instanceof Error?_0x950fad[_0x2d76da(0x390)]:JSON[_0x2d76da(0x7e4)](_0x950fad,null,0x2)));}}async['uazapiDeleteMessage'](_0xbe887a,_0x3b87a8){const _0x56b79a=a0_0x581af9;this[_0x56b79a(0x542)][_0x56b79a(0x628)](this[_0x56b79a(0x41a)]+'\x20('+this[_0x56b79a(0x43e)]['wuid']+_0x56b79a(0x83d));let _0x3d928d=_0xbe887a[_0x56b79a(0x4a3)][_0x56b79a(0x1df)]['find'](_0x3466d5=>_0x3466d5[_0x56b79a(0x640)][_0x56b79a(0x658)]()===_0x3b87a8[_0x56b79a(0x243)][_0x56b79a(0x640)][_0x56b79a(0x658)]()),_0x22da0b={'id':_0x3d928d[_0x56b79a(0x623)],'remoteJid':_0x3d928d[_0x56b79a(0x601)],'fromMe':_0x3d928d[_0x56b79a(0x795)]};try{let _0x11846a=await this[_0x56b79a(0x231)](_0x22da0b);if(_0x11846a){let _0x43cc77=(0x0,m['normalizeMessageContent'])(_0x11846a[_0x56b79a(0x390)]),_0x3bd7be=(0x0,m['getContentType'])(_0x43cc77);_0xbe887a[_0x56b79a(0x4a3)][_0x56b79a(0x293)]=_0x3b87a8[_0x56b79a(0x4e8)][_0x56b79a(0x658)]();let {message_normalized:_0x237b9f}=this['normalizeMessage'](_0x43cc77,_0x3bd7be,null);_0xbe887a[_0x56b79a(0x4a3)][_0x56b79a(0x413)]=await _0x237b9f;let _0x5100af={};this[_0x56b79a(0x6b5)](_0xbe887a,_0x3b87a8,_0x5100af);}else{let _0x554719={'error':!0x0};this[_0x56b79a(0x6b5)](_0xbe887a,_0x3b87a8,_0x554719),this[_0x56b79a(0x542)][_0x56b79a(0x3cf)](this[_0x56b79a(0x41a)]+'\x20('+this[_0x56b79a(0x43e)][_0x56b79a(0x40d)]+_0x56b79a(0x7be));}}catch(_0x4e10a1){let _0x10f3ca={'error':!0x0,'errorLog':_0x4e10a1 instanceof Error?_0x4e10a1['message']:JSON[_0x56b79a(0x7e4)](_0x4e10a1,null,0x2)};this[_0x56b79a(0x6b5)](_0xbe887a,_0x3b87a8,_0x10f3ca),this['logger'][_0x56b79a(0x3cf)](this[_0x56b79a(0x41a)]+'\x20('+this[_0x56b79a(0x43e)][_0x56b79a(0x40d)]+'):\x20Falha\x20ao\x20deletar\x20mensagem:\x20'+(_0x4e10a1 instanceof Error?_0x4e10a1[_0x56b79a(0x390)]:JSON['stringify'](_0x4e10a1,null,0x2)));}}async[a0_0x581af9(0x1ea)](_0x192995){const _0x4e3532=a0_0x581af9;if(!_0x192995['name'])throw new w(_0x4e3532(0x5b9));if(await this['repository'][_0x4e3532(0x394)]['findOne']({'where':{'name':_0x192995[_0x4e3532(0x428)]}},this[_0x4e3532(0x43e)][_0x4e3532(0x40d)]))throw new w('Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome');return _0x4e3532(0x428)in _0x192995&&_0x4e3532(0x5b5)in _0x192995&&'owner'in _0x192995&&Object[_0x4e3532(0x543)](_0x192995)['length']===0x3?this[_0x4e3532(0x2c5)](_0x192995[_0x4e3532(0x409)],_0x192995[_0x4e3532(0x5b5)],_0x192995[_0x4e3532(0x428)]):this[_0x4e3532(0x669)](_0x192995);}async[a0_0x581af9(0x2c5)](_0x112bfe,_0x5cf7e9,_0x28d68c){const _0x2712b5=a0_0x581af9;try{this[_0x2712b5(0x542)]['verbose'](this[_0x2712b5(0x41a)]+'\x20('+this[_0x2712b5(0x43e)]['wuid']+_0x2712b5(0x75e));let _0x4972c3=await this[_0x2712b5(0x456)]['flow'][_0x2712b5(0x841)]({'where':{'name':_0x28d68c,'sharePass':_0x5cf7e9}},_0x112bfe);if(!_0x4972c3)throw new w(_0x2712b5(0x3e4));let _0x571447={..._0x4972c3};return _0x571447[_0x2712b5(0x409)]=this[_0x2712b5(0x43e)][_0x2712b5(0x40d)],_0x571447['shareOwners']=Array[_0x2712b5(0x252)](new Set([..._0x4972c3[_0x2712b5(0x5da)]||[],_0x4972c3[_0x2712b5(0x409)],this[_0x2712b5(0x43e)][_0x2712b5(0x40d)]])),_0x4972c3['shareOwners']=_0x571447['shareOwners'],await this['repository']['flow'][_0x2712b5(0x1b0)](_0x4972c3['_id'],{'shareOwners':_0x4972c3[_0x2712b5(0x5da)]},_0x4972c3[_0x2712b5(0x409)]),_0x4972c3[_0x2712b5(0x258)]===!0x0&&await this[_0x2712b5(0x456)][_0x2712b5(0x394)]['updateMany']({},{'default':!0x1},this[_0x2712b5(0x43e)]['wuid']),await this[_0x2712b5(0x456)][_0x2712b5(0x394)][_0x2712b5(0x852)](_0x571447,this[_0x2712b5(0x43e)][_0x2712b5(0x40d)]);}catch(_0x52158f){throw this[_0x2712b5(0x542)][_0x2712b5(0x3cf)](this[_0x2712b5(0x41a)]+'\x20('+this['instance'][_0x2712b5(0x40d)]+'):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20'+_0x52158f),new w(_0x2712b5(0x4d0)+_0x52158f);}}async[a0_0x581af9(0x669)](_0x5c7983){const _0x212b89=a0_0x581af9;try{this['logger'][_0x212b89(0x628)](this[_0x212b89(0x41a)]+'\x20('+this['instance'][_0x212b89(0x40d)]+_0x212b89(0x2eb)),delete _0x5c7983['shareOwners'],delete _0x5c7983['sharePass'],delete _0x5c7983['owner'],_0x5c7983['default']===!0x0&&await this[_0x212b89(0x456)][_0x212b89(0x394)][_0x212b89(0x6ad)]({},{'default':!0x1},this[_0x212b89(0x43e)][_0x212b89(0x40d)]);let _0x165d93=new le['Types'][(_0x212b89(0x42e))](),_0x3cf761={'_id':_0x165d93,'default':!0x0,'title':_0x212b89(0x3f4),'x':0x0,'y':0x0},_0x100e48={'_id':new le['Types'][(_0x212b89(0x42e))](),'order':0x1,'groupId':_0x165d93['toString'](),'type':_0x212b89(0x815)},_0x436106={'_id':new le[(_0x212b89(0x4ec))][(_0x212b89(0x42e))](),'owner':this[_0x212b89(0x43e)][_0x212b89(0x40d)],'name':_0x5c7983[_0x212b89(0x428)],'groups':[_0x3cf761],'blocks':[_0x100e48],..._0x5c7983};return await this[_0x212b89(0x456)]['flow']['createAndSave'](_0x436106,this['instance'][_0x212b89(0x40d)]);}catch(_0x247755){throw this[_0x212b89(0x542)]['error'](this[_0x212b89(0x41a)]+'\x20('+this[_0x212b89(0x43e)][_0x212b89(0x40d)]+_0x212b89(0x315)+_0x247755),new w(_0x212b89(0x341)+_0x247755);}}async[a0_0x581af9(0x41e)](_0x3144a1,_0x32c134){const _0x4470bf=a0_0x581af9;try{let _0x3310e6=await this[_0x4470bf(0x456)][_0x4470bf(0x394)][_0x4470bf(0x841)]({'where':{'_id':_0x3144a1}},_0x32c134);if(_0x3310e6&&_0x3310e6[_0x4470bf(0x5da)]){for(let _0x2a711b of _0x3310e6[_0x4470bf(0x5da)])if(_0x2a711b!==_0x32c134){let _0x32690c={..._0x3310e6,'owner':_0x2a711b};await this[_0x4470bf(0x456)][_0x4470bf(0x394)]['replaceOne'](_0x3144a1,_0x32690c,_0x2a711b);}}}catch(_0x1ca934){this[_0x4470bf(0x542)][_0x4470bf(0x3cf)](_0x4470bf(0x33d)+_0x1ca934);}}async['deleteFlow'](_0x25abe5){const _0x3008fb=a0_0x581af9;try{this[_0x3008fb(0x542)]['verbose'](this[_0x3008fb(0x41a)]+'\x20('+this[_0x3008fb(0x43e)]['wuid']+_0x3008fb(0x63c));let _0x4b2651=await this[_0x3008fb(0x456)][_0x3008fb(0x394)][_0x3008fb(0x841)]({'where':{'name':_0x25abe5}},this[_0x3008fb(0x43e)]['wuid']);if(_0x4b2651&&_0x4b2651[_0x3008fb(0x5da)]&&_0x4b2651[_0x3008fb(0x5da)][_0x3008fb(0x1ee)]>0x1){for(let _0x2b02ee of _0x4b2651[_0x3008fb(0x5da)])if(_0x2b02ee!==this[_0x3008fb(0x43e)][_0x3008fb(0x40d)]){let _0xfda8f9=await this[_0x3008fb(0x456)][_0x3008fb(0x394)][_0x3008fb(0x841)]({'where':{'sharePass':_0x4b2651['sharePass']}},_0x2b02ee);_0xfda8f9&&(_0xfda8f9[_0x3008fb(0x5da)]=_0xfda8f9[_0x3008fb(0x5da)]['filter'](_0xa79f92=>_0xa79f92!==_0x4b2651[_0x3008fb(0x409)]),await this[_0x3008fb(0x456)]['flow'][_0x3008fb(0x1b0)](_0xfda8f9[_0x3008fb(0x4e8)],{'shareOwners':_0xfda8f9[_0x3008fb(0x5da)]},_0x2b02ee));}}return await this['repository'][_0x3008fb(0x394)]['deleteOne']({'where':{'name':_0x25abe5}},this[_0x3008fb(0x43e)][_0x3008fb(0x40d)]);}catch(_0x11525d){return this['logger'][_0x3008fb(0x3cf)](this[_0x3008fb(0x41a)]+'\x20('+this[_0x3008fb(0x43e)][_0x3008fb(0x40d)]+_0x3008fb(0x688)+(_0x11525d instanceof Error?_0x11525d[_0x3008fb(0x390)]:JSON[_0x3008fb(0x7e4)](_0x11525d,null,0x2))),{'message':_0x3008fb(0x57c)+_0x11525d};}}async['getFlow'](_0x550847){const _0x45cc76=a0_0x581af9;try{this[_0x45cc76(0x542)][_0x45cc76(0x628)](this[_0x45cc76(0x41a)]+'\x20('+this[_0x45cc76(0x43e)][_0x45cc76(0x40d)]+_0x45cc76(0x20a));let _0x5d630c=await this['repository'][_0x45cc76(0x394)][_0x45cc76(0x841)]({'where':{'name':_0x550847}},this[_0x45cc76(0x43e)][_0x45cc76(0x40d)]);if(!_0x5d630c)throw new Error(_0x45cc76(0x496));if(!this['AutomateSystem']&&(await this[_0x45cc76(0x36e)](),!this[_0x45cc76(0x27b)]))return null;let _0x2f6296=this['AutomateSystem']?.[_0x45cc76(0x663)][_0x45cc76(0x697)](_0x24619b=>_0x24619b[_0x45cc76(0x428)]),_0x3e8833=[_0x45cc76(0x538),_0x45cc76(0x351),_0x45cc76(0x78b),_0x45cc76(0x1ec),_0x45cc76(0x2e9),'notas','responsavelid','tags','etiquetas'];_0x5d630c[_0x45cc76(0x83c)]=_0x5d630c[_0x45cc76(0x83c)][_0x45cc76(0x378)](_0xf53e36=>!(_0xf53e36['folder']===_0x45cc76(0x4b6)||_0xf53e36[_0x45cc76(0x4b6)])),_0x3e8833[_0x45cc76(0x386)](_0x383746=>{const _0x23a30c=_0x45cc76;_0x5d630c['variables']['push']({'folder':_0x23a30c(0x4b6),'name':_0x383746,'value':'','doc':'','leadInfo':!0x0});}),_0x2f6296['forEach'](_0x12b18d=>{const _0x137be0=_0x45cc76;let _0x26d0f4=_0x5d630c[_0x137be0(0x83c)][_0x137be0(0x1ba)](_0x39539d=>_0x39539d[_0x137be0(0x428)]===_0x12b18d);_0x26d0f4===-0x1?_0x5d630c[_0x137be0(0x83c)][_0x137be0(0x71d)]({'folder':_0x137be0(0x4b6),'name':_0x12b18d,'value':'','doc':'','leadInfo':!0x0}):(_0x5d630c[_0x137be0(0x83c)][_0x26d0f4][_0x137be0(0x7cb)]='leadInfo',_0x5d630c[_0x137be0(0x83c)][_0x26d0f4][_0x137be0(0x4b6)]=!0x0);}),_0x5d630c['blocks']&&_0x5d630c[_0x45cc76(0x265)][_0x45cc76(0x1ee)]>0x0&&_0x5d630c[_0x45cc76(0x265)][_0x45cc76(0x386)](_0x4f5d61=>{const _0x36d08a=_0x45cc76;_0x4f5d61[_0x36d08a(0x1b8)]&&_0x4f5d61[_0x36d08a(0x46c)]&&_0x4f5d61[_0x36d08a(0x1b8)]===_0x4f5d61[_0x36d08a(0x46c)]&&(_0x4f5d61['next_groupId']=null);});let _0x687bc8=await this['repository'][_0x45cc76(0x394)][_0x45cc76(0x1b0)](_0x5d630c[_0x45cc76(0x4e8)],_0x5d630c,this[_0x45cc76(0x43e)][_0x45cc76(0x40d)]);if(!_0x687bc8)throw new Error(_0x45cc76(0x53a));return _0x687bc8;}catch(_0x5105d8){throw this['logger'][_0x45cc76(0x3cf)](this[_0x45cc76(0x41a)]+'\x20('+this[_0x45cc76(0x43e)]['wuid']+_0x45cc76(0x210)+(_0x5105d8 instanceof Error?_0x5105d8[_0x45cc76(0x390)]:JSON[_0x45cc76(0x7e4)](_0x5105d8,null,0x2))),new w('Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+_0x5105d8);}}async['allFlows'](){const _0x3e93d4=a0_0x581af9;try{return this[_0x3e93d4(0x542)][_0x3e93d4(0x628)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x3e93d4(0x3c3)),await this[_0x3e93d4(0x456)]['flow'][_0x3e93d4(0x2b8)](this['instance'][_0x3e93d4(0x40d)]),await this[_0x3e93d4(0x456)]['flow'][_0x3e93d4(0x716)]({'where':{}},this['instance'][_0x3e93d4(0x40d)]);}catch(_0x37d7a7){return this[_0x3e93d4(0x542)]['error'](this[_0x3e93d4(0x41a)]+'\x20('+this[_0x3e93d4(0x43e)][_0x3e93d4(0x40d)]+'):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20'+(_0x37d7a7 instanceof Error?_0x37d7a7[_0x3e93d4(0x390)]:JSON[_0x3e93d4(0x7e4)](_0x37d7a7,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+_0x37d7a7};}}async[a0_0x581af9(0x789)](_0x45ef3d){const _0x47391b=a0_0x581af9;try{this['logger'][_0x47391b(0x628)](this[_0x47391b(0x41a)]+'\x20('+this[_0x47391b(0x43e)][_0x47391b(0x40d)]+_0x47391b(0x673));let _0x1c7df5=await this[_0x47391b(0x456)][_0x47391b(0x394)][_0x47391b(0x841)]({'where':{'name':_0x45ef3d[_0x47391b(0x428)]}},this[_0x47391b(0x43e)][_0x47391b(0x40d)]);if(!_0x1c7df5)return{'message':_0x47391b(0x70d)};_0x45ef3d[_0x47391b(0x258)]===!0x0&&await this[_0x47391b(0x456)]['flow'][_0x47391b(0x6ad)]({},{'default':!0x1},this[_0x47391b(0x43e)]['wuid']),delete _0x45ef3d['shareOwners'],delete _0x45ef3d[_0x47391b(0x5b5)];let _0x4721d4=await this[_0x47391b(0x456)][_0x47391b(0x394)]['updateOne'](_0x1c7df5[_0x47391b(0x4e8)],_0x45ef3d,this[_0x47391b(0x43e)][_0x47391b(0x40d)]);return _0x4721d4&&_0x4721d4['shareOwners']&&_0x4721d4[_0x47391b(0x5da)]['length']>0x1&&this[_0x47391b(0x41e)](_0x4721d4['_id'],this[_0x47391b(0x43e)][_0x47391b(0x40d)]),_0x4721d4;}catch(_0x451061){throw this['logger'][_0x47391b(0x3cf)](this[_0x47391b(0x41a)]+'\x20('+this[_0x47391b(0x43e)]['wuid']+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+(_0x451061 instanceof Error?_0x451061['message']:JSON[_0x47391b(0x7e4)](_0x451061,null,0x2))),new w(_0x47391b(0x7dd)+(_0x451061 instanceof Error?_0x451061[_0x47391b(0x390)]:JSON[_0x47391b(0x7e4)](_0x451061,null,0x2)));}}async[a0_0x581af9(0x2ac)](_0x5d3d70){const _0x29d52f=a0_0x581af9;try{this[_0x29d52f(0x542)][_0x29d52f(0x628)](this[_0x29d52f(0x41a)]+'\x20('+this[_0x29d52f(0x43e)][_0x29d52f(0x40d)]+'):\x20Editando\x20bloco...');let _0x4803d3=await this[_0x29d52f(0x456)][_0x29d52f(0x394)][_0x29d52f(0x841)]({'where':{'name':_0x5d3d70['name']}},this[_0x29d52f(0x43e)]['wuid']);_0x4803d3||this[_0x29d52f(0x2dc)](_0x29d52f(0x496));let {block:_0x58f275}=_0x5d3d70;_0x58f275?.['copy']?this[_0x29d52f(0x6d0)](_0x4803d3,_0x5d3d70):_0x58f275?.['delete']?this[_0x29d52f(0x7a0)](_0x4803d3,_0x5d3d70):_0x58f275[_0x29d52f(0x4e8)]?await this['updateBlock'](_0x4803d3,_0x5d3d70):this['addBlock'](_0x4803d3,_0x5d3d70);let _0x452e6e=await this['repository']['flow'][_0x29d52f(0x1b0)](_0x4803d3[_0x29d52f(0x4e8)],_0x4803d3,this[_0x29d52f(0x43e)][_0x29d52f(0x40d)]);if(_0x452e6e&&_0x452e6e['shareOwners']&&_0x452e6e[_0x29d52f(0x5da)][_0x29d52f(0x1ee)]>0x1&&this[_0x29d52f(0x41e)](_0x452e6e[_0x29d52f(0x4e8)],this[_0x29d52f(0x43e)]['wuid']),!_0x452e6e)throw new Error(_0x29d52f(0x53a));return _0x452e6e;}catch(_0x56e26a){this[_0x29d52f(0x2dc)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x56e26a);}}async[a0_0x581af9(0x6d0)](_0x2d48ba,_0x1a836e){const _0x3ba999=a0_0x581af9;let _0x31f930=_0x1a836e['block']['_id'],_0x438526=_0x2d48ba[_0x3ba999(0x265)][_0x3ba999(0x53f)](_0x379052=>_0x379052[_0x3ba999(0x4e8)]['toString']()===_0x31f930);if(!_0x438526){this['logger']['error'](this[_0x3ba999(0x41a)]+'\x20('+this[_0x3ba999(0x43e)][_0x3ba999(0x40d)]+_0x3ba999(0x41f)+_0x31f930+'\x20não\x20encontrado\x20para\x20cópia');return;}this['logger']['verbose'](this[_0x3ba999(0x41a)]+'\x20('+this[_0x3ba999(0x43e)][_0x3ba999(0x40d)]+'):\x20Bloco\x20original\x20para\x20cópia:\x20'+JSON[_0x3ba999(0x7e4)](_0x438526));let _0x5688e7=JSON[_0x3ba999(0x69e)](JSON['stringify'](_0x438526));_0x5688e7[_0x3ba999(0x4e8)]=new le[(_0x3ba999(0x258))][(_0x3ba999(0x4ec))]['ObjectId'](),this[_0x3ba999(0x542)][_0x3ba999(0x628)](this[_0x3ba999(0x41a)]+'\x20('+this['instance'][_0x3ba999(0x40d)]+'):\x20Bloco\x20copiado:\x20'+JSON[_0x3ba999(0x7e4)](_0x5688e7)),_0x2d48ba[_0x3ba999(0x265)]['push'](_0x5688e7),this['reorderBlocks'](_0x2d48ba[_0x3ba999(0x265)],_0x5688e7[_0x3ba999(0x1b8)]);}[a0_0x581af9(0x2dc)](_0x41b853){const _0x229078=a0_0x581af9;throw this[_0x229078(0x542)][_0x229078(0x3cf)](this[_0x229078(0x41a)]+'\x20('+this[_0x229078(0x43e)][_0x229078(0x40d)]+_0x229078(0x3bc)+_0x41b853),new w(_0x41b853);}['deleteBlock'](_0x3598b7,_0x44d220){const _0x108c5a=a0_0x581af9;let {block:_0x2a0e57}=_0x44d220;if(_0x2a0e57['type']===_0x108c5a(0x815)){this['throwAndLogError']('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x2a0e57['_id']){this['throwAndLogError'](_0x108c5a(0x7fa));return;}let _0x6122b5=_0x3598b7[_0x108c5a(0x265)][_0x108c5a(0x53f)](_0x2306cf=>_0x2306cf[_0x108c5a(0x4e8)][_0x108c5a(0x658)]()===_0x44d220[_0x108c5a(0x69f)]['_id'][_0x108c5a(0x658)]());if(!_0x6122b5){this[_0x108c5a(0x2dc)](_0x108c5a(0x5b8)+_0x2a0e57[_0x108c5a(0x4e8)]+_0x108c5a(0x573));return;}_0x3598b7[_0x108c5a(0x265)]=_0x3598b7[_0x108c5a(0x265)][_0x108c5a(0x378)](_0x449a09=>_0x449a09['_id']['toString']()!==_0x44d220['block']['_id']['toString']()),_0x3598b7[_0x108c5a(0x607)]=_0x3598b7['conditions'][_0x108c5a(0x378)](_0x55c147=>_0x55c147[_0x108c5a(0x640)]!==_0x2a0e57[_0x108c5a(0x4e8)][_0x108c5a(0x658)]()),_0x3598b7['varedits']=_0x3598b7[_0x108c5a(0x222)]['filter'](_0x46d8aa=>_0x46d8aa['blockId']!==_0x2a0e57[_0x108c5a(0x4e8)][_0x108c5a(0x658)]()),_0x3598b7['replyOptions']=_0x3598b7[_0x108c5a(0x816)][_0x108c5a(0x378)](_0x57365d=>_0x57365d[_0x108c5a(0x640)]!==_0x2a0e57['_id'][_0x108c5a(0x658)]()),this[_0x108c5a(0x310)](_0x3598b7['blocks'],_0x6122b5[_0x108c5a(0x1b8)]);}async[a0_0x581af9(0x5f8)](_0x53f16b,_0x1b4e5d){const _0x4e57d5=a0_0x581af9;let _0x374f57=_0x53f16b['blocks'][_0x4e57d5(0x1ba)](_0x1377fb=>_0x1377fb[_0x4e57d5(0x4e8)]['toString']()===_0x1b4e5d[_0x4e57d5(0x69f)]['_id'][_0x4e57d5(0x658)]());if(this[_0x4e57d5(0x542)][_0x4e57d5(0x628)](this[_0x4e57d5(0x41a)]+'\x20('+this[_0x4e57d5(0x43e)][_0x4e57d5(0x40d)]+_0x4e57d5(0x224)+_0x374f57),_0x374f57===-0x1){this['logger']['verbose'](_0x4e57d5(0x5b8)+_0x1b4e5d[_0x4e57d5(0x69f)][_0x4e57d5(0x4e8)]+_0x4e57d5(0x845));return;}if(_0x53f16b['blocks'][_0x374f57][_0x4e57d5(0x612)]===_0x4e57d5(0x815)){let _0x1a24f5=Object[_0x4e57d5(0x543)](_0x1b4e5d[_0x4e57d5(0x69f)]);if(_0x1a24f5[_0x4e57d5(0x1ee)]>0x2||_0x1a24f5[_0x4e57d5(0x1ee)]===0x2&&!_0x1a24f5['includes'](_0x4e57d5(0x46c))){this[_0x4e57d5(0x2dc)](_0x4e57d5(0x4ac));return;}}let _0x3ac1bc=_0x53f16b[_0x4e57d5(0x265)][_0x374f57]['groupId'];for(let _0x471feb in _0x1b4e5d[_0x4e57d5(0x69f)])_0x1b4e5d['block']['hasOwnProperty'](_0x471feb)&&(_0x53f16b[_0x4e57d5(0x265)][_0x374f57][_0x471feb]=_0x1b4e5d[_0x4e57d5(0x69f)][_0x471feb]);if(this['logger'][_0x4e57d5(0x628)](this[_0x4e57d5(0x41a)]+'\x20('+this[_0x4e57d5(0x43e)]['wuid']+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON['stringify'](_0x53f16b['blocks'][_0x374f57])),_0x53f16b[_0x4e57d5(0x265)][_0x374f57]['apirequest']&&_0x4e57d5(0x791)in _0x53f16b[_0x4e57d5(0x265)][_0x374f57][_0x4e57d5(0x4a8)]){this[_0x4e57d5(0x542)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x4e57d5(0x40d)]+_0x4e57d5(0x67f));let _0xe2d94e=JSON[_0x4e57d5(0x7e4)](_0x53f16b[_0x4e57d5(0x265)][_0x374f57][_0x4e57d5(0x4a8)]['header'],null,0x1);_0xe2d94e['length']>0x2&&(_0xe2d94e=_0xe2d94e[_0x4e57d5(0x654)](0x1,_0xe2d94e[_0x4e57d5(0x1ee)]-0x1)[_0x4e57d5(0x7c5)]()),_0x53f16b[_0x4e57d5(0x265)][_0x374f57][_0x4e57d5(0x4a8)]['headerString']=_0xe2d94e;}if(_0x53f16b['blocks'][_0x374f57][_0x4e57d5(0x4a8)]&&'body'in _0x53f16b[_0x4e57d5(0x265)][_0x374f57]['apirequest']&&!(_0x4e57d5(0x5e9)in _0x53f16b[_0x4e57d5(0x265)][_0x374f57]['apirequest'])){this[_0x4e57d5(0x542)][_0x4e57d5(0x628)](this[_0x4e57d5(0x41a)]+'\x20('+this[_0x4e57d5(0x43e)][_0x4e57d5(0x40d)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x53f16b[_0x4e57d5(0x265)][_0x374f57][_0x4e57d5(0x4a8)][_0x4e57d5(0x7bb)]=!0x1;let _0x58bb38=JSON[_0x4e57d5(0x7e4)](_0x53f16b[_0x4e57d5(0x265)][_0x374f57]['apirequest']['body'],null,0x2);_0x53f16b['blocks'][_0x374f57]['apirequest'][_0x4e57d5(0x5e9)]=_0x58bb38;}if(_0x53f16b[_0x4e57d5(0x265)][_0x374f57][_0x4e57d5(0x4a8)]&&_0x4e57d5(0x5e9)in _0x53f16b[_0x4e57d5(0x265)][_0x374f57]['apirequest']){_0x53f16b[_0x4e57d5(0x265)][_0x374f57][_0x4e57d5(0x4a8)][_0x4e57d5(0x7bb)]=!0x1;let _0x465cf6=_0x53f16b[_0x4e57d5(0x265)][_0x374f57][_0x4e57d5(0x4a8)][_0x4e57d5(0x5e9)],_0x56612b=this[_0x4e57d5(0x63e)](_0x465cf6);_0x53f16b[_0x4e57d5(0x265)][_0x374f57][_0x4e57d5(0x4a8)][_0x4e57d5(0x5e9)]=_0x56612b[_0x4e57d5(0x414)],_0x53f16b[_0x4e57d5(0x265)][_0x374f57][_0x4e57d5(0x4a8)][_0x4e57d5(0x7bb)]=_0x56612b[_0x4e57d5(0x3cf)];}let _0x4e6dac=_0x53f16b[_0x4e57d5(0x265)][_0x374f57][_0x4e57d5(0x1b8)];_0x3ac1bc!==_0x4e6dac?(this['reorderBlocks'](_0x53f16b[_0x4e57d5(0x265)],_0x3ac1bc),this[_0x4e57d5(0x310)](_0x53f16b['blocks'],_0x4e6dac)):this[_0x4e57d5(0x310)](_0x53f16b[_0x4e57d5(0x265)],_0x3ac1bc);}['beautifyWithPlaceholders'](_0xe8dc47){const _0x7d8f17=a0_0x581af9;let _0x37870b='\u205f',_0x276933=!0x1,_0x4c8fa1='';for(let _0x4bbf05=0x0;_0x4bbf05<_0xe8dc47[_0x7d8f17(0x1ee)];_0x4bbf05++){let _0x3ae8c8=_0xe8dc47[_0x4bbf05];_0x3ae8c8==='\x22'&&(_0x4bbf05===0x0||_0xe8dc47[_0x4bbf05-0x1]!=='\x5c')&&(_0x276933=!_0x276933),!(!_0x276933&&(_0x3ae8c8==='\x0a'||_0x3ae8c8==='\x20'||_0x3ae8c8===_0x37870b))&&(_0x4c8fa1+=_0x3ae8c8);}let _0x374e43={},_0x3118d3=9876543210.1234,_0x22158c=_0x4c8fa1[_0x7d8f17(0x614)](/\{\{([^}]+)\}\}/g,_0x3eff70=>{let _0x5475b1=_0x3eff70,_0x296176=''+_0x3118d3;return _0x374e43[_0x296176]=_0x5475b1,_0x3118d3+=0.0001,_0x296176;}),_0x15a18f='',_0x3ee194=!0x1;try{let _0xb63902=JSON[_0x7d8f17(0x69e)](_0x22158c);_0x15a18f=JSON[_0x7d8f17(0x7e4)](_0xb63902,null,0x2),_0x15a18f=_0x15a18f[_0x7d8f17(0x614)](/\n( +)/g,(_0x26b118,_0x7bb733)=>{const _0x5f1274=_0x7d8f17;let _0xf09fd1=_0x7bb733[_0x5f1274(0x1ee)];return'\x0a'+_0x37870b[_0x5f1274(0x66f)](_0xf09fd1*0x2);}),_0x15a18f=_0x15a18f[_0x7d8f17(0x614)](/(\d{10,}\.\d+)/g,_0x36d03a=>_0x374e43[_0x36d03a]||_0x36d03a);}catch(_0x14ecb7){console[_0x7d8f17(0x3cf)]('Error\x20parsing\x20JSON:',_0x14ecb7),_0x15a18f=_0xe8dc47,_0x3ee194=!0x0;}return{'result':_0x15a18f,'error':_0x3ee194};}[a0_0x581af9(0x55e)](_0x4fb9dc,_0x429eda){const _0x9caf13=a0_0x581af9;if(_0x429eda[_0x9caf13(0x69f)][_0x9caf13(0x612)]===_0x9caf13(0x815)){this[_0x9caf13(0x2dc)](_0x9caf13(0x54a));return;}if(_0x429eda[_0x9caf13(0x69f)]['apirequest']&&_0x9caf13(0x791)in _0x429eda[_0x9caf13(0x69f)]['apirequest']){this[_0x9caf13(0x542)][_0x9caf13(0x628)](this[_0x9caf13(0x41a)]+'\x20('+this[_0x9caf13(0x43e)][_0x9caf13(0x40d)]+_0x9caf13(0x67f));let _0x32d8ad=JSON['stringify'](_0x429eda['block'][_0x9caf13(0x4a8)][_0x9caf13(0x791)],null,0x1);_0x32d8ad['length']>0x2&&(_0x32d8ad=_0x32d8ad[_0x9caf13(0x654)](0x1,_0x32d8ad[_0x9caf13(0x1ee)]-0x1)['trim']()),_0x429eda[_0x9caf13(0x69f)][_0x9caf13(0x4a8)]['headerString']=_0x32d8ad;}_0x429eda['block'][_0x9caf13(0x4a8)]&&_0x9caf13(0x6f5)in _0x429eda[_0x9caf13(0x69f)][_0x9caf13(0x4a8)]&&(this[_0x9caf13(0x542)]['verbose'](this['instanceName']+'\x20('+this[_0x9caf13(0x43e)][_0x9caf13(0x40d)]+_0x9caf13(0x2c1)),_0x429eda['block']['apirequest'][_0x9caf13(0x5e9)]=JSON[_0x9caf13(0x7e4)](_0x429eda[_0x9caf13(0x69f)]['apirequest']['body'],null,0x1)['trim']()),_0x4fb9dc[_0x9caf13(0x265)]['push'](_0x429eda['block']),this[_0x9caf13(0x310)](_0x4fb9dc[_0x9caf13(0x265)],_0x429eda[_0x9caf13(0x69f)]['groupId']);}[a0_0x581af9(0x310)](_0x16b4ca,_0x1542c2){const _0x2b2f11=a0_0x581af9;let _0x443067=_0x16b4ca['filter'](_0x2bdbdb=>_0x2bdbdb[_0x2b2f11(0x1b8)]===_0x1542c2);_0x443067[_0x2b2f11(0x555)]((_0x587b65,_0x20da72)=>_0x587b65['order']-_0x20da72[_0x2b2f11(0x682)]),_0x443067['forEach']((_0x43799b,_0x9cf2a7)=>_0x43799b['order']=_0x9cf2a7+0x1);}async[a0_0x581af9(0x311)](_0x50878d){const _0x480cca=a0_0x581af9;try{if(this[_0x480cca(0x542)][_0x480cca(0x628)](this[_0x480cca(0x41a)]+'\x20('+this['instance'][_0x480cca(0x40d)]+_0x480cca(0x50e)),!_0x50878d||!_0x50878d[_0x480cca(0x80e)]){this[_0x480cca(0x2dc)](_0x480cca(0x6a0));return;}let _0x1181dd=await this[_0x480cca(0x456)][_0x480cca(0x394)]['findOne']({'where':{'name':_0x50878d[_0x480cca(0x428)]}},this[_0x480cca(0x43e)]['wuid']);_0x1181dd||this[_0x480cca(0x2dc)](_0x480cca(0x496));let {replyOption:_0x5775ad}=_0x50878d;_0x5775ad?.[_0x480cca(0x5e1)]?(this[_0x480cca(0x6ef)](_0x1181dd,_0x50878d),this['reorderReplyOptions'](_0x1181dd[_0x480cca(0x816)],_0x50878d[_0x480cca(0x80e)][_0x480cca(0x640)])):_0x5775ad[_0x480cca(0x4e8)]?(await this[_0x480cca(0x6af)](_0x1181dd,_0x50878d),this[_0x480cca(0x436)](_0x1181dd[_0x480cca(0x816)],_0x50878d[_0x480cca(0x80e)][_0x480cca(0x640)])):(this['addReplyOption'](_0x1181dd,_0x50878d),this[_0x480cca(0x436)](_0x1181dd[_0x480cca(0x816)],_0x50878d[_0x480cca(0x80e)][_0x480cca(0x640)]));let _0x546e70=await this[_0x480cca(0x456)][_0x480cca(0x394)][_0x480cca(0x1b0)](_0x1181dd[_0x480cca(0x4e8)],_0x1181dd,this[_0x480cca(0x43e)][_0x480cca(0x40d)]);if(_0x546e70&&_0x546e70[_0x480cca(0x5da)]&&_0x546e70['shareOwners'][_0x480cca(0x1ee)]>0x1&&this['synchronizeFlows'](_0x546e70['_id'],this['instance']['wuid']),!_0x546e70)throw new Error(_0x480cca(0x53a));return _0x546e70;}catch(_0x3c673e){this[_0x480cca(0x2dc)]('Erro\x20ao\x20editar\x20o\x20replyOption:\x20'+_0x3c673e);}}['reorderReplyOptions'](_0x537dd0,_0x192867){const _0x326f4c=a0_0x581af9;console[_0x326f4c(0x679)](_0x326f4c(0x2ad),_0x192867),_0x537dd0[_0x326f4c(0x386)](_0x16be54=>{const _0x30e304=_0x326f4c;_0x16be54[_0x30e304(0x640)]===_0x192867&&_0x16be54[_0x30e304(0x682)]===void 0x0&&(_0x16be54['order']=0x270f);});let _0x33fe34=_0x537dd0[_0x326f4c(0x378)](_0x5cc695=>_0x5cc695[_0x326f4c(0x640)]===_0x192867);_0x33fe34[_0x326f4c(0x555)]((_0x44d9b4,_0xde4335)=>_0x44d9b4[_0x326f4c(0x682)]-_0xde4335[_0x326f4c(0x682)]),_0x33fe34[_0x326f4c(0x386)]((_0x51600b,_0x28423d)=>{const _0x4a05e8=_0x326f4c;_0x51600b[_0x4a05e8(0x682)]=_0x28423d+0x1;}),_0x537dd0['forEach'](_0x455b81=>{const _0xf7714=_0x326f4c;if(_0x455b81['blockId']===_0x192867){let _0x43749c=_0x33fe34[_0xf7714(0x53f)](_0x35fcfb=>_0x35fcfb[_0xf7714(0x4e8)]&&_0x455b81[_0xf7714(0x4e8)]&&_0x35fcfb[_0xf7714(0x4e8)][_0xf7714(0x658)]()===_0x455b81['_id'][_0xf7714(0x658)]());_0x43749c&&(_0x455b81[_0xf7714(0x682)]=_0x43749c['order']);}}),console[_0x326f4c(0x679)](_0x326f4c(0x2b6),_0x537dd0);}[a0_0x581af9(0x6ef)](_0x10de62,_0x6164ab){const _0x3bfcc8=a0_0x581af9;let {replyOption:_0x7e1e0d}=_0x6164ab;if(!_0x7e1e0d['_id']){this[_0x3bfcc8(0x2dc)](_0x3bfcc8(0x218));return;}if(!_0x10de62[_0x3bfcc8(0x816)]['find'](_0x56e105=>_0x56e105[_0x3bfcc8(0x4e8)][_0x3bfcc8(0x658)]()===_0x6164ab['replyOption'][_0x3bfcc8(0x4e8)][_0x3bfcc8(0x658)]())){this[_0x3bfcc8(0x2dc)](_0x3bfcc8(0x3ca)+_0x7e1e0d['_id']+_0x3bfcc8(0x573));return;}_0x10de62[_0x3bfcc8(0x816)]=_0x10de62['replyOptions'][_0x3bfcc8(0x378)](_0x4fdd16=>_0x4fdd16['_id']['toString']()!==_0x6164ab[_0x3bfcc8(0x80e)][_0x3bfcc8(0x4e8)][_0x3bfcc8(0x658)]());}async[a0_0x581af9(0x6af)](_0x26fe75,_0x2ddcb8){const _0x247573=a0_0x581af9;let _0x1822f0=_0x26fe75[_0x247573(0x816)][_0x247573(0x1ba)](_0x154560=>_0x154560[_0x247573(0x4e8)][_0x247573(0x658)]()===_0x2ddcb8['replyOption']['_id'][_0x247573(0x658)]());if(_0x1822f0===-0x1){this[_0x247573(0x2dc)]('ReplyOption\x20com\x20ID\x20'+_0x2ddcb8['replyOption']['_id']+_0x247573(0x845));return;}for(let _0x4ff2e6 in _0x2ddcb8['replyOption'])_0x2ddcb8['replyOption']['hasOwnProperty'](_0x4ff2e6)&&(_0x26fe75['replyOptions'][_0x1822f0][_0x4ff2e6]=_0x2ddcb8[_0x247573(0x80e)][_0x4ff2e6]);}[a0_0x581af9(0x537)](_0x1ccbbf,_0x5cbf5e){const _0x450d65=a0_0x581af9;_0x1ccbbf[_0x450d65(0x816)][_0x450d65(0x71d)](_0x5cbf5e[_0x450d65(0x80e)]);}async[a0_0x581af9(0x377)](_0x1a0e3a){const _0x3b0ec4=a0_0x581af9;this[_0x3b0ec4(0x542)][_0x3b0ec4(0x628)](this[_0x3b0ec4(0x41a)]+'\x20('+this[_0x3b0ec4(0x43e)]['wuid']+_0x3b0ec4(0x2be)+_0x1a0e3a);try{this['logger']['verbose'](this[_0x3b0ec4(0x41a)]+'\x20('+this[_0x3b0ec4(0x43e)][_0x3b0ec4(0x40d)]+_0x3b0ec4(0x644));let _0x17e2d2=await this[_0x3b0ec4(0x456)]['flow']['findOne']({'where':{'name':_0x1a0e3a[_0x3b0ec4(0x428)]}},this[_0x3b0ec4(0x43e)]['wuid']);if(!_0x17e2d2)throw new Error(_0x3b0ec4(0x496));if(_0x1a0e3a[_0x3b0ec4(0x299)]&&_0x1a0e3a[_0x3b0ec4(0x299)]?.['delete']===!0x0){if(this[_0x3b0ec4(0x542)][_0x3b0ec4(0x628)](this[_0x3b0ec4(0x41a)]+'\x20('+this[_0x3b0ec4(0x43e)][_0x3b0ec4(0x40d)]+_0x3b0ec4(0x666)),_0x1a0e3a['group'][_0x3b0ec4(0x258)]===!0x0)return{'message':_0x3b0ec4(0x25e)};if(_0x17e2d2[_0x3b0ec4(0x265)][_0x3b0ec4(0x313)](_0x185ae1=>_0x185ae1[_0x3b0ec4(0x1b8)][_0x3b0ec4(0x658)]()===_0x1a0e3a[_0x3b0ec4(0x299)][_0x3b0ec4(0x4e8)]))return this[_0x3b0ec4(0x542)][_0x3b0ec4(0x628)](this[_0x3b0ec4(0x41a)]+'\x20('+this[_0x3b0ec4(0x43e)][_0x3b0ec4(0x40d)]+_0x3b0ec4(0x2f4)),{'message':_0x3b0ec4(0x333)};_0x17e2d2[_0x3b0ec4(0x2ea)]=_0x17e2d2[_0x3b0ec4(0x2ea)]['filter'](_0x2c1604=>_0x2c1604[_0x3b0ec4(0x4e8)][_0x3b0ec4(0x658)]()!==_0x1a0e3a[_0x3b0ec4(0x299)][_0x3b0ec4(0x4e8)]);}else{if(_0x1a0e3a['group']){if(_0x1a0e3a[_0x3b0ec4(0x299)][_0x3b0ec4(0x258)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x1a0e3a[_0x3b0ec4(0x299)][_0x3b0ec4(0x4e8)]){let _0x5ee8e8=_0x17e2d2[_0x3b0ec4(0x2ea)]['find'](_0x51126b=>_0x51126b['_id'][_0x3b0ec4(0x658)]()===_0x1a0e3a[_0x3b0ec4(0x299)][_0x3b0ec4(0x4e8)]);_0x5ee8e8&&(_0x1a0e3a[_0x3b0ec4(0x299)]['x']<0x0&&(_0x1a0e3a[_0x3b0ec4(0x299)]['x']=0x0),_0x1a0e3a[_0x3b0ec4(0x299)]['y']<0x0&&(_0x1a0e3a[_0x3b0ec4(0x299)]['y']=0x0),Object['assign'](_0x5ee8e8,_0x1a0e3a['group']));}else _0x17e2d2[_0x3b0ec4(0x2ea)][_0x3b0ec4(0x71d)](_0x1a0e3a[_0x3b0ec4(0x299)]);}}let _0x2b424a=await this['repository']['flow'][_0x3b0ec4(0x1b0)](_0x17e2d2[_0x3b0ec4(0x4e8)],_0x17e2d2,this[_0x3b0ec4(0x43e)][_0x3b0ec4(0x40d)]);if(_0x2b424a&&_0x2b424a[_0x3b0ec4(0x5da)]&&_0x2b424a[_0x3b0ec4(0x5da)][_0x3b0ec4(0x1ee)]>0x1&&this['synchronizeFlows'](_0x2b424a[_0x3b0ec4(0x4e8)],this[_0x3b0ec4(0x43e)][_0x3b0ec4(0x40d)]),!_0x2b424a)throw new Error(_0x3b0ec4(0x53a));return _0x2b424a;}catch(_0x3ea6b4){throw this[_0x3b0ec4(0x542)][_0x3b0ec4(0x3cf)](this[_0x3b0ec4(0x41a)]+'\x20('+this[_0x3b0ec4(0x43e)][_0x3b0ec4(0x40d)]+'):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x3ea6b4 instanceof Error?_0x3ea6b4[_0x3b0ec4(0x390)]:JSON['stringify'](_0x3ea6b4,null,0x2))),new w('Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20'+(_0x3ea6b4 instanceof Error?_0x3ea6b4[_0x3b0ec4(0x390)]:JSON[_0x3b0ec4(0x7e4)](_0x3ea6b4,null,0x2)));}}async[a0_0x581af9(0x651)](_0x5cb31c){const _0x526b9f=a0_0x581af9;try{this['logger'][_0x526b9f(0x628)](this[_0x526b9f(0x41a)]+'\x20('+this[_0x526b9f(0x43e)]['wuid']+'):\x20Editando\x20condição\x20do\x20fluxo...');let _0x395116=await this[_0x526b9f(0x456)]['flow']['findOne']({'where':{'name':_0x5cb31c[_0x526b9f(0x428)]}},this[_0x526b9f(0x43e)][_0x526b9f(0x40d)]);if(!_0x395116)throw new Error(_0x526b9f(0x496));let _0x2c7ddf=!0x1;if(_0x5cb31c[_0x526b9f(0x81f)]?.[_0x526b9f(0x5e1)]===!0x0)_0x395116[_0x526b9f(0x607)]=_0x395116[_0x526b9f(0x607)][_0x526b9f(0x378)](_0xfe8973=>_0xfe8973&&_0x5cb31c[_0x526b9f(0x81f)]&&_0xfe8973[_0x526b9f(0x4e8)]&&_0x5cb31c[_0x526b9f(0x81f)][_0x526b9f(0x4e8)]&&_0xfe8973[_0x526b9f(0x4e8)][_0x526b9f(0x658)]()!==_0x5cb31c[_0x526b9f(0x81f)]['_id'][_0x526b9f(0x658)]()),_0x2c7ddf=!0x0;else{let _0x207a88=_0x395116['conditions'][_0x526b9f(0x53f)](_0x1ba414=>_0x1ba414&&_0x5cb31c[_0x526b9f(0x81f)]&&_0x1ba414[_0x526b9f(0x4e8)]&&_0x5cb31c[_0x526b9f(0x81f)][_0x526b9f(0x4e8)]&&_0x1ba414[_0x526b9f(0x4e8)][_0x526b9f(0x658)]()===_0x5cb31c['condition'][_0x526b9f(0x4e8)]['toString']());_0x207a88?(_0x2c7ddf=_0x207a88['order']!==_0x5cb31c[_0x526b9f(0x81f)][_0x526b9f(0x682)],Object[_0x526b9f(0x5e4)](_0x207a88,_0x5cb31c[_0x526b9f(0x81f)])):(_0x395116[_0x526b9f(0x607)][_0x526b9f(0x71d)](_0x5cb31c[_0x526b9f(0x81f)]),_0x2c7ddf=!0x0);}if(_0x2c7ddf){_0x395116['conditions'][_0x526b9f(0x555)]((_0x57868c,_0x281b7f)=>_0x57868c[_0x526b9f(0x682)]>_0x281b7f[_0x526b9f(0x682)]?0x1:_0x281b7f['order']>_0x57868c[_0x526b9f(0x682)]?-0x1:0x0);for(let _0xd37d=0x0;_0xd37d<_0x395116[_0x526b9f(0x607)][_0x526b9f(0x1ee)];_0xd37d++)_0x395116[_0x526b9f(0x607)][_0xd37d]['order']=_0xd37d+0x1;_0x395116[_0x526b9f(0x607)][_0x526b9f(0x1ee)]>0x0&&(_0x395116[_0x526b9f(0x607)][0x0][_0x526b9f(0x3de)]='and');}let _0x1d6010=await this['repository'][_0x526b9f(0x394)][_0x526b9f(0x1b0)](_0x395116['_id'],_0x395116,this[_0x526b9f(0x43e)][_0x526b9f(0x40d)]);if(_0x1d6010&&_0x1d6010[_0x526b9f(0x5da)]&&_0x1d6010[_0x526b9f(0x5da)][_0x526b9f(0x1ee)]>0x1&&this[_0x526b9f(0x41e)](_0x1d6010[_0x526b9f(0x4e8)],this[_0x526b9f(0x43e)][_0x526b9f(0x40d)]),!_0x1d6010)throw new Error(_0x526b9f(0x53a));return _0x1d6010;}catch(_0x168650){throw this['logger'][_0x526b9f(0x3cf)](this[_0x526b9f(0x41a)]+'\x20('+this[_0x526b9f(0x43e)][_0x526b9f(0x40d)]+_0x526b9f(0x867)+(_0x168650 instanceof Error?_0x168650[_0x526b9f(0x390)]:JSON[_0x526b9f(0x7e4)](_0x168650,null,0x2))),new Error(_0x526b9f(0x847)+(_0x168650 instanceof Error?_0x168650['message']:JSON[_0x526b9f(0x7e4)](_0x168650,null,0x2)));}}async['editFlowVaredit'](_0x3164ad){const _0x188ffe=a0_0x581af9;try{this[_0x188ffe(0x542)][_0x188ffe(0x628)](this[_0x188ffe(0x41a)]+'\x20('+this['instance'][_0x188ffe(0x40d)]+'):\x20Editando\x20edição\x20do\x20fluxo...');let _0x3652e9=await this['repository'][_0x188ffe(0x394)][_0x188ffe(0x841)]({'where':{'name':_0x3164ad[_0x188ffe(0x428)]}},this[_0x188ffe(0x43e)][_0x188ffe(0x40d)]);if(!_0x3652e9)throw new Error(_0x188ffe(0x496));let _0x5b060c=!0x1;if(_0x3164ad[_0x188ffe(0x5c1)]?.[_0x188ffe(0x5e1)]===!0x0)_0x3652e9[_0x188ffe(0x222)]=_0x3652e9['varedits'][_0x188ffe(0x378)](_0x47fc08=>_0x47fc08&&_0x3164ad[_0x188ffe(0x5c1)]&&_0x47fc08[_0x188ffe(0x4e8)]&&_0x3164ad[_0x188ffe(0x5c1)][_0x188ffe(0x4e8)]&&_0x47fc08[_0x188ffe(0x4e8)][_0x188ffe(0x658)]()!==_0x3164ad[_0x188ffe(0x5c1)][_0x188ffe(0x4e8)][_0x188ffe(0x658)]()),_0x5b060c=!0x0;else{let _0x44370a=_0x3652e9['varedits'][_0x188ffe(0x53f)](_0x5b101a=>_0x5b101a&&_0x3164ad[_0x188ffe(0x5c1)]&&_0x5b101a[_0x188ffe(0x4e8)]&&_0x3164ad['varedit'][_0x188ffe(0x4e8)]&&_0x5b101a[_0x188ffe(0x4e8)][_0x188ffe(0x658)]()===_0x3164ad[_0x188ffe(0x5c1)][_0x188ffe(0x4e8)]['toString']());_0x44370a?(_0x5b060c=_0x44370a[_0x188ffe(0x682)]!==_0x3164ad[_0x188ffe(0x5c1)]['order'],Object[_0x188ffe(0x5e4)](_0x44370a,_0x3164ad[_0x188ffe(0x5c1)])):(_0x3652e9['varedits'][_0x188ffe(0x71d)](_0x3164ad[_0x188ffe(0x5c1)]),_0x5b060c=!0x0);}if(_0x5b060c){_0x3652e9[_0x188ffe(0x222)][_0x188ffe(0x555)]((_0x43d912,_0x125450)=>_0x43d912['order']>_0x125450[_0x188ffe(0x682)]?0x1:_0x125450[_0x188ffe(0x682)]>_0x43d912[_0x188ffe(0x682)]?-0x1:0x0);for(let _0x33128f=0x0;_0x33128f<_0x3652e9[_0x188ffe(0x222)][_0x188ffe(0x1ee)];_0x33128f++)_0x3652e9[_0x188ffe(0x222)][_0x33128f]['order']=_0x33128f+0x1;}let _0x2780db=await this[_0x188ffe(0x456)][_0x188ffe(0x394)][_0x188ffe(0x1b0)](_0x3652e9[_0x188ffe(0x4e8)],_0x3652e9,this['instance'][_0x188ffe(0x40d)]);if(_0x2780db&&_0x2780db[_0x188ffe(0x5da)]&&_0x2780db[_0x188ffe(0x5da)][_0x188ffe(0x1ee)]>0x1&&this[_0x188ffe(0x41e)](_0x2780db[_0x188ffe(0x4e8)],this[_0x188ffe(0x43e)][_0x188ffe(0x40d)]),!_0x2780db)throw new Error(_0x188ffe(0x53a));return _0x2780db;}catch(_0x474561){throw this['logger'][_0x188ffe(0x3cf)](this['instanceName']+'\x20('+this[_0x188ffe(0x43e)]['wuid']+_0x188ffe(0x867)+(_0x474561 instanceof Error?_0x474561[_0x188ffe(0x390)]:JSON[_0x188ffe(0x7e4)](_0x474561,null,0x2))),new w(_0x188ffe(0x847)+(_0x474561 instanceof Error?_0x474561[_0x188ffe(0x390)]:JSON[_0x188ffe(0x7e4)](_0x474561,null,0x2)));}}async['editFlowVariable'](_0x20c83b){const _0x5839fa=a0_0x581af9;try{this[_0x5839fa(0x542)][_0x5839fa(0x628)](this[_0x5839fa(0x41a)]+'\x20('+this[_0x5839fa(0x43e)]['wuid']+_0x5839fa(0x43a));let _0x27cba4=await this['repository'][_0x5839fa(0x394)]['findOne']({'where':{'name':_0x20c83b['name']}},this['instance'][_0x5839fa(0x40d)]);if(!_0x27cba4)throw new Error('Flow\x20não\x20encontrado');_0x20c83b[_0x5839fa(0x6c7)]['name']=_0x20c83b[_0x5839fa(0x6c7)]['name'][_0x5839fa(0x7c5)](),_0x20c83b[_0x5839fa(0x6c7)][_0x5839fa(0x428)][_0x5839fa(0x4c3)]('_')&&(_0x20c83b[_0x5839fa(0x6c7)]['name']=_0x20c83b['variable']['name'][_0x5839fa(0x654)](0x1)),_0x20c83b[_0x5839fa(0x6c7)][_0x5839fa(0x428)]=_0x20c83b[_0x5839fa(0x6c7)]['name'][_0x5839fa(0x7c5)]();let _0xdb008c=_0x27cba4[_0x5839fa(0x83c)][_0x5839fa(0x53f)](_0x1fd5c2=>_0x1fd5c2[_0x5839fa(0x428)]===_0x20c83b[_0x5839fa(0x6c7)]['name']);if(_0xdb008c?.[_0x5839fa(0x4b6)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x20c83b[_0x5839fa(0x6c7)]?.[_0x5839fa(0x5e1)]===!0x0){if(!_0xdb008c)return{'message':_0x5839fa(0x4b3)};_0x27cba4[_0x5839fa(0x83c)]=_0x27cba4[_0x5839fa(0x83c)][_0x5839fa(0x378)](_0x10be0e=>_0x10be0e[_0x5839fa(0x428)]!==_0x20c83b[_0x5839fa(0x6c7)][_0x5839fa(0x428)]);}else _0xdb008c?Object[_0x5839fa(0x5e4)](_0xdb008c,_0x20c83b['variable']):_0x27cba4['variables'][_0x5839fa(0x71d)](_0x20c83b['variable']);let _0x2916a=await this[_0x5839fa(0x456)]['flow'][_0x5839fa(0x1b0)](_0x27cba4[_0x5839fa(0x4e8)],_0x27cba4,this[_0x5839fa(0x43e)][_0x5839fa(0x40d)]);if(_0x2916a&&_0x2916a[_0x5839fa(0x5da)]&&_0x2916a[_0x5839fa(0x5da)][_0x5839fa(0x1ee)]>0x1&&this['synchronizeFlows'](_0x2916a['_id'],this['instance'][_0x5839fa(0x40d)]),!_0x2916a)throw new Error(_0x5839fa(0x53a));return _0x2916a;}catch(_0x32d4fd){throw this[_0x5839fa(0x542)]['error'](this['instanceName']+'\x20('+this[_0x5839fa(0x43e)][_0x5839fa(0x40d)]+_0x5839fa(0x46a)+(_0x32d4fd instanceof Error?_0x32d4fd[_0x5839fa(0x390)]:JSON[_0x5839fa(0x7e4)](_0x32d4fd,null,0x2))),new w(_0x5839fa(0x4b4)+(_0x32d4fd instanceof Error?_0x32d4fd['message']:JSON['stringify'](_0x32d4fd,null,0x2)));}}async[a0_0x581af9(0x280)](_0x5b8848){const _0x26a0a9=a0_0x581af9;let _0x32a5db=null;try{if(!this[_0x26a0a9(0x27b)]?.[_0x26a0a9(0x212)][_0x26a0a9(0x3db)])throw new w(_0x26a0a9(0x580));this[_0x26a0a9(0x542)][_0x26a0a9(0x628)](this['instanceName']+'\x20('+this[_0x26a0a9(0x43e)][_0x26a0a9(0x40d)]+_0x26a0a9(0x63a));let _0x24473e=(await this[_0x26a0a9(0x208)]({'numbers':[_0x5b8848[_0x26a0a9(0x601)]]}))[0x0];if(!_0x24473e[_0x26a0a9(0x247)]&&!(0x0,m[_0x26a0a9(0x6c1)])(_0x24473e['jid'])&&!_0x24473e[_0x26a0a9(0x7b9)][_0x26a0a9(0x2a9)]('@broadcast'))throw _0x32a5db=JSON[_0x26a0a9(0x7e4)](_0x24473e,null,0x2),new w(_0x24473e);let _0x33d447=await this[_0x26a0a9(0x456)][_0x26a0a9(0x394)]['findOne']({'where':{'name':_0x5b8848[_0x26a0a9(0x428)]}},this['instance'][_0x26a0a9(0x40d)]);if(!_0x33d447)return this[_0x26a0a9(0x542)][_0x26a0a9(0x3cf)](this[_0x26a0a9(0x41a)]+'\x20('+this['instance'][_0x26a0a9(0x40d)]+_0x26a0a9(0x3bd)),{'message':_0x26a0a9(0x496)};let _0x10f6c6=await this[_0x26a0a9(0x562)](_0x33d447,_0x24473e[_0x26a0a9(0x7b9)],_0x5b8848[_0x26a0a9(0x2d0)]);if(_0x10f6c6){this[_0x26a0a9(0x542)][_0x26a0a9(0x628)](this[_0x26a0a9(0x41a)]+'\x20('+this[_0x26a0a9(0x43e)][_0x26a0a9(0x40d)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x2cc146=await this[_0x26a0a9(0x214)](_0x10f6c6);return _0x2cc146&&await this[_0x26a0a9(0x24b)](_0x10f6c6,_0x2cc146),{'message':_0x26a0a9(0x298)+_0x5b8848[_0x26a0a9(0x601)]};}}catch(_0x2078c9){if(this[_0x26a0a9(0x542)]['error'](this[_0x26a0a9(0x41a)]+'\x20('+this[_0x26a0a9(0x43e)][_0x26a0a9(0x40d)]+_0x26a0a9(0x52c)+(_0x2078c9 instanceof Error?_0x2078c9['message']:JSON[_0x26a0a9(0x7e4)](_0x2078c9,null,0x2))),_0x32a5db=_0x2078c9 instanceof Error?_0x2078c9[_0x26a0a9(0x390)]:JSON[_0x26a0a9(0x7e4)](_0x2078c9,null,0x2),_0x32a5db)throw new w(_0x26a0a9(0x349)+_0x32a5db);}}async[a0_0x581af9(0x38e)](_0x2ff3bd){const _0xcbda5b=a0_0x581af9;try{let _0x524c65={'remoteJid':_0x2ff3bd,'status':_0xcbda5b(0x610)},_0x325aee={'status':_0xcbda5b(0x475)},_0x2b2536=await this[_0xcbda5b(0x456)]['flowConversation']['updateMany'](_0x524c65,_0x325aee,this[_0xcbda5b(0x43e)][_0xcbda5b(0x40d)]);return this[_0xcbda5b(0x542)]['verbose'](this[_0xcbda5b(0x41a)]+'\x20('+this[_0xcbda5b(0x43e)]['wuid']+_0xcbda5b(0x301)),_0x2b2536;}catch(_0x39c35f){throw this['logger'][_0xcbda5b(0x3cf)](this[_0xcbda5b(0x41a)]+'\x20('+this[_0xcbda5b(0x43e)]['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x39c35f[_0xcbda5b(0x390)]),_0x39c35f;}}async['createConversationforStartFlow'](_0x92e6ce,_0x56451f,_0x3b6027){const _0x134ab7=a0_0x581af9;this['logger'][_0x134ab7(0x628)](this[_0x134ab7(0x41a)]+'\x20('+this['instance'][_0x134ab7(0x40d)]+'):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]'),await this['closeExistingConversations'](_0x56451f);try{let _0xc70685=require(_0x134ab7(0x3ea))[_0x134ab7(0x42e)],_0xa32be7=Date[_0x134ab7(0x23e)](),_0x399961='start',_0xabdf4a={},_0xfe8e11={},_0xbdb283={..._0x92e6ce,'chatLog':null},_0x23295c=await this[_0x134ab7(0x5d5)](_0xbdb283[_0x134ab7(0x83c)]),_0xf4c244=await this[_0x134ab7(0x7b8)](_0x56451f),_0xc6ec13={..._0x23295c,..._0xf4c244,'_remoteJid':_0x56451f},_0x2811de={'lastReceivedMessage':_0xabdf4a,'lastSendMessage':_0xfe8e11,'lastBlockId':_0x399961,'lastCondition':!0x0,'realVariables':_0xc6ec13};_0xbdb283[_0x134ab7(0x4a3)]=_0x2811de,_0xbdb283[_0x134ab7(0x4a3)][_0x134ab7(0x7a5)]={..._0xc6ec13,..._0x3b6027},delete _0xbdb283[_0x134ab7(0x4e8)],_0xbdb283[_0x134ab7(0x4e8)]=new _0xc70685(),_0xbdb283['lastInteraction']=_0xa32be7,_0xbdb283[_0x134ab7(0x2e9)]=_0x134ab7(0x610),_0xbdb283[_0x134ab7(0x601)]=_0x56451f;let _0x397ee3=await this[_0x134ab7(0x456)][_0x134ab7(0x450)][_0x134ab7(0x1b0)](_0xbdb283[_0x134ab7(0x4e8)],_0xbdb283,this[_0x134ab7(0x43e)]['wuid']);return this[_0x134ab7(0x542)][_0x134ab7(0x628)](this[_0x134ab7(0x41a)]+'\x20('+this[_0x134ab7(0x43e)][_0x134ab7(0x40d)]+'):\x20Conversa\x20inserida\x20com\x20sucesso.'),_0x397ee3?_0xbdb283:null;}catch(_0x448799){throw this[_0x134ab7(0x542)][_0x134ab7(0x3cf)](this['instanceName']+'\x20('+this[_0x134ab7(0x43e)][_0x134ab7(0x40d)]+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0x448799 instanceof Error?_0x448799[_0x134ab7(0x390)]:JSON[_0x134ab7(0x7e4)](_0x448799,null,0x2))),new w(_0x448799[_0x134ab7(0x390)]);}}async[a0_0x581af9(0x758)](_0xe76cf9){const _0x4086ad=a0_0x581af9;try{this[_0x4086ad(0x542)][_0x4086ad(0x628)](this[_0x4086ad(0x41a)]+'\x20('+this[_0x4086ad(0x43e)][_0x4086ad(0x40d)]+'):\x20Buscando\x20conversa...'),this[_0x4086ad(0x542)][_0x4086ad(0x628)](this['instanceName']+'\x20('+this[_0x4086ad(0x43e)][_0x4086ad(0x40d)]+'):\x20Query\x20params:\x20'+_0xe76cf9);let _0x35af92={'where':{'_id':_0xe76cf9}};return await this[_0x4086ad(0x456)]['flowConversation'][_0x4086ad(0x841)](_0x35af92,this[_0x4086ad(0x43e)][_0x4086ad(0x40d)]);}catch(_0xbeae8a){throw this[_0x4086ad(0x542)][_0x4086ad(0x3cf)](this[_0x4086ad(0x41a)]+'\x20('+this[_0x4086ad(0x43e)][_0x4086ad(0x40d)]+_0x4086ad(0x7d2)+(_0xbeae8a instanceof Error?_0xbeae8a['message']:JSON['stringify'](_0xbeae8a,null,0x2))),new w(_0x4086ad(0x1f3)+_0xbeae8a[_0x4086ad(0x390)]);}}async[a0_0x581af9(0x796)](_0xf7d607){const _0x50bd97=a0_0x581af9;try{return this[_0x50bd97(0x542)][_0x50bd97(0x628)](this['instanceName']+'\x20('+this[_0x50bd97(0x43e)]['wuid']+'):\x20Buscando\x20conversas...'),await this[_0x50bd97(0x456)][_0x50bd97(0x450)]['find'](_0xf7d607,this[_0x50bd97(0x43e)][_0x50bd97(0x40d)]);}catch(_0x5f5ae7){throw this[_0x50bd97(0x542)][_0x50bd97(0x3cf)](this['instanceName']+'\x20('+this[_0x50bd97(0x43e)][_0x50bd97(0x40d)]+'):\x20Erro\x20ao\x20buscar\x20conversas\x20'+(_0x5f5ae7 instanceof Error?_0x5f5ae7[_0x50bd97(0x390)]:JSON[_0x50bd97(0x7e4)](_0x5f5ae7,null,0x2))),new w(_0x50bd97(0x589)+_0x5f5ae7['message']);}}async['deleteConversation'](_0x34fb64){const _0x32fc52=a0_0x581af9;try{return this[_0x32fc52(0x542)][_0x32fc52(0x628)](this['instanceName']+'\x20('+this[_0x32fc52(0x43e)][_0x32fc52(0x40d)]+_0x32fc52(0x24a)),this['logger'][_0x32fc52(0x628)](this['instanceName']+'\x20('+this[_0x32fc52(0x43e)][_0x32fc52(0x40d)]+_0x32fc52(0x2c4)+_0x34fb64),(await this[_0x32fc52(0x456)][_0x32fc52(0x450)][_0x32fc52(0x27a)]({'where':{'_id':_0x34fb64}},this[_0x32fc52(0x43e)][_0x32fc52(0x40d)]))[_0x32fc52(0x285)]===0x0?{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.'}:{'message':_0x32fc52(0x4a6)};}catch(_0x30fba7){throw this[_0x32fc52(0x542)][_0x32fc52(0x3cf)](this[_0x32fc52(0x41a)]+'\x20('+this[_0x32fc52(0x43e)][_0x32fc52(0x40d)]+_0x32fc52(0x631)+(_0x30fba7 instanceof Error?_0x30fba7['message']:JSON[_0x32fc52(0x7e4)](_0x30fba7,null,0x2))),new w(_0x32fc52(0x4a1)+_0x30fba7[_0x32fc52(0x390)]);}}async[a0_0x581af9(0x830)](_0x1a6dc1){const _0xdf39a9=a0_0x581af9;try{let {_id:_0x15771b,chatLog:_0x4009d6,status:_0x2351d5}=_0x1a6dc1;if(!_0x15771b)return{'message':_0xdf39a9(0x61b)};let _0xe97e6f={};if(_0x2351d5!==void 0x0&&(_0xe97e6f[_0xdf39a9(0x2e9)]=_0x2351d5),Object[_0xdf39a9(0x543)](_0xe97e6f)[_0xdf39a9(0x1ee)]===0x0)return{'message':_0xdf39a9(0x327)};let _0x31d237=await this[_0xdf39a9(0x456)][_0xdf39a9(0x450)][_0xdf39a9(0x1b0)](_0x15771b,_0xe97e6f,this[_0xdf39a9(0x43e)]['wuid']);return _0x31d237||{'message':'Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.'};}catch(_0x51b958){throw this[_0xdf39a9(0x542)][_0xdf39a9(0x3cf)](this[_0xdf39a9(0x41a)]+'\x20('+this[_0xdf39a9(0x43e)][_0xdf39a9(0x40d)]+_0xdf39a9(0x2b0)+(_0x51b958 instanceof Error?_0x51b958['message']:JSON['stringify'](_0x51b958,null,0x2))),new w(_0xdf39a9(0x7a6)+_0x51b958[_0xdf39a9(0x390)]);}}async['editChat'](_0x397c27){const _0x5361df=a0_0x581af9;console[_0x5361df(0x679)](_0x397c27);try{_0x397c27[_0x5361df(0x4e8)]=this[_0x5361df(0x63b)](_0x397c27[_0x5361df(0x4e8)]);let _0x1c82df=await this['repository'][_0x5361df(0x437)][_0x5361df(0x841)]({'where':{'_id':_0x397c27['_id']}},this['instance'][_0x5361df(0x40d)]);if(!_0x1c82df)throw new w(_0x5361df(0x51c));let {_id:_0x170021,leadInfo:_0x1ccf8c}=_0x397c27;if(!_0x170021)throw new Error('O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.');if(_0x397c27[_0x5361df(0x5e1)]==='all')return await this[_0x5361df(0x59e)](_0x397c27[_0x5361df(0x4e8)]),await this[_0x5361df(0x456)][_0x5361df(0x437)]['delete']({'where':{'_id':_0x397c27[_0x5361df(0x4e8)]}},this[_0x5361df(0x43e)][_0x5361df(0x40d)]),await this[_0x5361df(0x456)][_0x5361df(0x390)][_0x5361df(0x5e1)]({'where':{'key':{'remoteJid':_0x397c27[_0x5361df(0x4e8)]}}},this['instance'][_0x5361df(0x40d)]),_0x397c27=await this[_0x5361df(0x456)]['chat'][_0x5361df(0x1b0)]({'where':{'_id':_0x397c27[_0x5361df(0x4e8)]}},{'lastmsg':0x0,'unreadcount':0x0},this['instance'][_0x5361df(0x40d)]),F(this[_0x5361df(0x41a)],'chats',{'chat':_0x397c27}),{'message':_0x5361df(0x317)};if(_0x397c27[_0x5361df(0x5e1)]===_0x5361df(0x4bc))return await this[_0x5361df(0x456)][_0x5361df(0x390)]['delete']({'where':{'key':{'remoteJid':_0x397c27[_0x5361df(0x4e8)]}}},this[_0x5361df(0x43e)]['wuid']),_0x397c27=await this[_0x5361df(0x456)][_0x5361df(0x437)]['updateOne']({'where':{'_id':_0x397c27[_0x5361df(0x4e8)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x5361df(0x43e)][_0x5361df(0x40d)]),F(this[_0x5361df(0x41a)],_0x5361df(0x6bc),{'chat':_0x397c27}),{'message':_0x5361df(0x66e)};let _0x5e319d=(_0x338c21,_0x23bfd8,_0x5c73da)=>{const _0x32602f=_0x5361df;_0x338c21&&_0x5c73da[_0x32602f(0x386)](_0x44ec2c=>{const _0x1aeb10=_0x32602f;_0x338c21[_0x44ec2c]!==void 0x0&&(_0x23bfd8[_0x1aeb10(0x64c)+_0x44ec2c]=_0x338c21[_0x44ec2c]);});},_0x1fcea3={};if(_0x1ccf8c&&(_0x5e319d(_0x1ccf8c,_0x1fcea3,[_0x5361df(0x538),_0x5361df(0x351),_0x5361df(0x78b),'cpf',_0x5361df(0x2e9),_0x5361df(0x73f),_0x5361df(0x213),'atendimentoAberto',_0x5361df(0x4a9),_0x5361df(0x1e7)]),Array[_0x5361df(0x530)](_0x1ccf8c['customFields'])&&(_0x1fcea3[_0x5361df(0x361)]=_0x1ccf8c[_0x5361df(0x663)][_0x5361df(0x697)](_0x5e0c39=>({'_id':_0x5e0c39[_0x5361df(0x4e8)],'value':_0x5e0c39[_0x5361df(0x638)]}))),_0x397c27[_0x5361df(0x4b6)][_0x5361df(0x1e7)]!==void 0x0)){let _0x326c93=await this[_0x5361df(0x456)][_0x5361df(0x553)][_0x5361df(0x53f)]({'where':{}},this['instance'][_0x5361df(0x40d)]),_0xbd25ca=new Set(_0x397c27[_0x5361df(0x4b6)][_0x5361df(0x1e7)]||[]),_0x37d814=new Set(_0x397c27[_0x5361df(0x4b6)]['etiquetas']),_0x4a236e=new Set(_0x326c93[_0x5361df(0x697)](_0x2dfcc7=>_0x2dfcc7[_0x5361df(0x4e8)])),_0x22badf=[..._0x37d814]['filter'](_0x4bad19=>!_0xbd25ca[_0x5361df(0x82b)](_0x4bad19)&&_0x4a236e['has'](_0x4bad19)),_0x48e126=[..._0xbd25ca][_0x5361df(0x378)](_0x136a31=>!_0x37d814['has'](_0x136a31));if(_0x1fcea3['leadInfo.etiquetas']=[..._0xbd25ca],_0x1c82df&&!_0x1c82df[_0x5361df(0x727)]){for(let _0x3eb662 of _0x22badf)await this[_0x5361df(0x5fc)](_0x3eb662,_0x397c27[_0x5361df(0x4e8)]),_0xbd25ca['add'](_0x3eb662);for(let _0x51e708 of _0x48e126)await this[_0x5361df(0x216)](_0x51e708,_0x397c27[_0x5361df(0x4e8)]),_0xbd25ca['delete'](_0x51e708);}}if(_0x397c27['unreadcount']!==void 0x0&&(_0x1fcea3[_0x5361df(0x6b0)]=Number(_0x397c27[_0x5361df(0x6b0)])),Object['keys'](_0x1fcea3)[_0x5361df(0x1ee)]===0x0)throw new Error(_0x5361df(0x327));let _0x16ed66=await this[_0x5361df(0x456)]['chat']['updateOne']({'where':{'_id':_0x397c27[_0x5361df(0x4e8)]}},_0x1fcea3,this[_0x5361df(0x43e)]['wuid']);return _0x16ed66&&F(this[_0x5361df(0x41a)],_0x5361df(0x6bc),{'chat':_0x16ed66}),_0x16ed66?(this[_0x5361df(0x542)]['verbose'](this[_0x5361df(0x41a)]+'\x20('+this['instance'][_0x5361df(0x40d)]+'):\x20'+JSON[_0x5361df(0x7e4)](_0x16ed66,null,0x2)),_0x16ed66):{'message':_0x5361df(0x585)};}catch(_0xd9910){throw this[_0x5361df(0x542)][_0x5361df(0x3cf)](this[_0x5361df(0x41a)]+'\x20('+this[_0x5361df(0x43e)][_0x5361df(0x40d)]+_0x5361df(0x2d3)+(_0xd9910 instanceof Error?_0xd9910[_0x5361df(0x390)]:JSON[_0x5361df(0x7e4)](_0xd9910,null,0x2))),new w('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0xd9910['message']);}}async[a0_0x581af9(0x5fc)](_0x1d3c06,_0x26c95a){const _0x515aca=a0_0x581af9;try{await this[_0x515aca(0x1f1)][_0x515aca(0x641)](_0x26c95a,_0x1d3c06),console['log'](_0x515aca(0x486)+_0x1d3c06+'\x20adicionado\x20ao\x20chat\x20'+_0x26c95a+_0x515aca(0x2c3));}catch(_0x55676f){console[_0x515aca(0x3cf)](_0x515aca(0x712)+_0x1d3c06+_0x515aca(0x371)+_0x26c95a+':',_0x55676f);}}async[a0_0x581af9(0x216)](_0x8cdc13,_0x1ae807){const _0x129a9b=a0_0x581af9;try{await this[_0x129a9b(0x1f1)][_0x129a9b(0x345)](_0x1ae807,_0x8cdc13),console[_0x129a9b(0x679)]('Label\x20'+_0x8cdc13+'\x20removido\x20do\x20chat\x20'+_0x1ae807+_0x129a9b(0x2c3));}catch(_0x40fe5b){console[_0x129a9b(0x3cf)](_0x129a9b(0x617)+_0x8cdc13+_0x129a9b(0x504)+_0x1ae807+':',_0x40fe5b);}}async['updateAgent'](_0xfbf525){const _0x319e60=a0_0x581af9;try{let _0xbd57e1=await this['repository']['automateSystem'][_0x319e60(0x419)](this[_0x319e60(0x43e)][_0x319e60(0x40d)]),_0x18f9d3=_0xfbf525[_0x319e60(0x4e8)]?_0xbd57e1['agents'][_0x319e60(0x1ba)](_0xf17f09=>_0xf17f09[_0x319e60(0x4e8)]===_0xfbf525[_0x319e60(0x4e8)]):-0x1;if(_0xfbf525['delete']&&_0x18f9d3>-0x1)_0xbd57e1[_0x319e60(0x3d8)][_0x319e60(0x45c)](_0x18f9d3,0x1);else{if(_0x18f9d3>-0x1){let _0x23e8d3=_0xbd57e1[_0x319e60(0x3d8)][_0x18f9d3];_0xfbf525[_0x319e60(0x76e)]&&(_0x23e8d3[_0x319e60(0x76e)]=_0xfbf525[_0x319e60(0x76e)]),_0xfbf525[_0x319e60(0x428)]&&(_0x23e8d3[_0x319e60(0x428)]=_0xfbf525['name']),_0xfbf525[_0x319e60(0x78b)]&&(_0x23e8d3['email']=_0xfbf525[_0x319e60(0x78b)]),_0xfbf525[_0x319e60(0x685)]&&(_0x23e8d3['role']=_0xfbf525[_0x319e60(0x685)]);}else _0xbd57e1[_0x319e60(0x3d8)][_0x319e60(0x71d)]({'_id':_0xfbf525['_id']||new le[(_0x319e60(0x258))]['Types'][(_0x319e60(0x42e))]()[_0x319e60(0x658)](),'fone':_0xfbf525[_0x319e60(0x76e)],'name':_0xfbf525[_0x319e60(0x428)],'email':_0xfbf525[_0x319e60(0x78b)],'role':_0xfbf525[_0x319e60(0x685)]});}let _0x1ecee2={'agents':_0xbd57e1['agents']},_0x32e947=await this[_0x319e60(0x456)][_0x319e60(0x3c8)]['update'](_0x1ecee2,this[_0x319e60(0x43e)]['wuid']);return this['AutomateSystem']=_0x32e947,this['logger'][_0x319e60(0x628)](this[_0x319e60(0x41a)]+'\x20('+this[_0x319e60(0x43e)][_0x319e60(0x40d)]+_0x319e60(0x57d)),this['logger'][_0x319e60(0x628)](this['instanceName']+'\x20('+this[_0x319e60(0x43e)]['wuid']+_0x319e60(0x3bc)+this[_0x319e60(0x27b)]),_0x32e947;}catch(_0x414fce){throw this['logger'][_0x319e60(0x3cf)](this[_0x319e60(0x41a)]+'\x20('+this[_0x319e60(0x43e)][_0x319e60(0x40d)]+'):\x20Erro\x20ao\x20editar\x20agentes:\x20'+(_0x414fce instanceof Error?_0x414fce[_0x319e60(0x390)]:JSON[_0x319e60(0x7e4)](_0x414fce,null,0x2))),new w(_0x319e60(0x2ba)+_0x414fce[_0x319e60(0x390)]);}}async['updateCustomFields'](_0x5507c0){const _0x4b9cb0=a0_0x581af9;try{let _0x3f5234=await this[_0x4b9cb0(0x456)]['automateSystem']['findOrCreate'](this['instance'][_0x4b9cb0(0x40d)]),_0x30e87f=_0x5507c0[_0x4b9cb0(0x4e8)]?_0x3f5234[_0x4b9cb0(0x663)]['findIndex'](_0x113121=>_0x113121[_0x4b9cb0(0x4e8)]===_0x5507c0[_0x4b9cb0(0x4e8)]):-0x1,_0x5aa614=!0x1,_0x4d45f3=_0x3f5234[_0x4b9cb0(0x663)][_0x4b9cb0(0x313)](_0x27a7bd=>_0x27a7bd[_0x4b9cb0(0x682)]===_0x5507c0[_0x4b9cb0(0x682)]);if(_0x5507c0[_0x4b9cb0(0x5e1)]&&_0x30e87f>-0x1)_0x3f5234[_0x4b9cb0(0x663)][_0x4b9cb0(0x45c)](_0x30e87f,0x1),_0x5aa614=!0x0;else{if(_0x30e87f>-0x1){if(_0x3f5234[_0x4b9cb0(0x663)][_0x4b9cb0(0x313)](_0x4f1880=>_0x4f1880[_0x4b9cb0(0x428)]===_0x5507c0['name']&&_0x4f1880[_0x4b9cb0(0x4e8)]!==_0x5507c0[_0x4b9cb0(0x4e8)]))throw new Error(_0x4b9cb0(0x246));let _0xbd7985=_0x3f5234[_0x4b9cb0(0x663)][_0x30e87f];_0x5507c0[_0x4b9cb0(0x682)]&&(_0x4d45f3||!Number[_0x4b9cb0(0x768)](_0x5507c0[_0x4b9cb0(0x682)]))&&(_0xbd7985['order']=_0x5507c0['order'],_0x5aa614=!0x0),_0x5507c0[_0x4b9cb0(0x428)]&&(_0xbd7985[_0x4b9cb0(0x428)]=_0x5507c0[_0x4b9cb0(0x428)]);}else{if(_0x3f5234[_0x4b9cb0(0x663)][_0x4b9cb0(0x313)](_0x321135=>_0x321135[_0x4b9cb0(0x428)]===_0x5507c0[_0x4b9cb0(0x428)]&&_0x321135[_0x4b9cb0(0x4e8)]!==_0x5507c0[_0x4b9cb0(0x4e8)]))throw new Error(_0x4b9cb0(0x246));_0x3f5234[_0x4b9cb0(0x663)]['push']({'_id':_0x5507c0[_0x4b9cb0(0x4e8)]||new le['default']['Types'][(_0x4b9cb0(0x42e))]()['toString'](),'order':_0x5507c0[_0x4b9cb0(0x682)],'name':_0x5507c0['name']}),_0x5aa614=!0x0;}}if(_0x5aa614){_0x3f5234[_0x4b9cb0(0x663)][_0x4b9cb0(0x555)]((_0x178e17,_0x152d1d)=>_0x178e17[_0x4b9cb0(0x682)]>_0x152d1d[_0x4b9cb0(0x682)]?0x1:_0x152d1d[_0x4b9cb0(0x682)]>_0x178e17[_0x4b9cb0(0x682)]?-0x1:0x0);for(let _0x48792a=0x0;_0x48792a<_0x3f5234[_0x4b9cb0(0x663)]['length'];_0x48792a++)_0x3f5234[_0x4b9cb0(0x663)][_0x48792a][_0x4b9cb0(0x682)]=_0x48792a+0x1;}let _0x548563=await this['repository'][_0x4b9cb0(0x3c8)]['update'](_0x3f5234,this[_0x4b9cb0(0x43e)][_0x4b9cb0(0x40d)]);return this[_0x4b9cb0(0x27b)]=_0x548563,this['logger'][_0x4b9cb0(0x628)](this[_0x4b9cb0(0x41a)]+'\x20('+this[_0x4b9cb0(0x43e)][_0x4b9cb0(0x40d)]+_0x4b9cb0(0x291)),this[_0x4b9cb0(0x542)]['verbose'](this[_0x4b9cb0(0x41a)]+'\x20('+this[_0x4b9cb0(0x43e)][_0x4b9cb0(0x40d)]+_0x4b9cb0(0x3bc)+this[_0x4b9cb0(0x27b)]),_0x548563;}catch(_0x19b37a){throw this[_0x4b9cb0(0x542)][_0x4b9cb0(0x3cf)](this[_0x4b9cb0(0x41a)]+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+(_0x19b37a instanceof Error?_0x19b37a[_0x4b9cb0(0x390)]:JSON[_0x4b9cb0(0x7e4)](_0x19b37a,null,0x2))),new w(_0x4b9cb0(0x7f1)+_0x19b37a[_0x4b9cb0(0x390)]);}}async[a0_0x581af9(0x70b)](_0x4bc793){const _0x201d59=a0_0x581af9;try{let _0x9e0ee0=await this['repository']['automateSystem']['findOrCreate'](this[_0x201d59(0x43e)][_0x201d59(0x40d)]);if(!_0x9e0ee0)throw new Error(_0x201d59(0x860));let _0x3aa301={'_id':_0x9e0ee0[_0x201d59(0x4e8)],'flowConfig':{'enabled':_0x4bc793['enabled']??_0x9e0ee0[_0x201d59(0x212)][_0x201d59(0x3db)],'ignoreGroups':_0x4bc793[_0x201d59(0x238)]??_0x9e0ee0[_0x201d59(0x212)][_0x201d59(0x238)],'prefixCommand':_0x4bc793[_0x201d59(0x6bf)]??_0x9e0ee0[_0x201d59(0x212)][_0x201d59(0x6bf)],'stopConversation':_0x4bc793[_0x201d59(0x1b3)]??_0x9e0ee0[_0x201d59(0x212)]['stopConversation'],'stopMinutes':_0x4bc793[_0x201d59(0x7b6)]??_0x9e0ee0[_0x201d59(0x212)][_0x201d59(0x7b6)],'stopWhenYouSendMsg':_0x4bc793[_0x201d59(0x381)]??_0x9e0ee0[_0x201d59(0x212)][_0x201d59(0x381)]}},_0x5596d7=await this['repository'][_0x201d59(0x3c8)][_0x201d59(0x536)](_0x3aa301,this['instance']['wuid']);return this['AutomateSystem']=_0x5596d7,this[_0x201d59(0x542)]['verbose'](this['instanceName']+'\x20('+this[_0x201d59(0x43e)][_0x201d59(0x40d)]+_0x201d59(0x57d)),this[_0x201d59(0x542)][_0x201d59(0x628)](this[_0x201d59(0x41a)]+'\x20('+this['instance'][_0x201d59(0x40d)]+'):\x20'+this[_0x201d59(0x27b)]),setTimeout(()=>this[_0x201d59(0x422)](),0x7d0),_0x5596d7;}catch(_0x5d3669){throw this[_0x201d59(0x542)][_0x201d59(0x3cf)](this['instanceName']+'\x20('+this[_0x201d59(0x43e)][_0x201d59(0x40d)]+_0x201d59(0x3a3)+(_0x5d3669 instanceof Error?_0x5d3669[_0x201d59(0x390)]:JSON[_0x201d59(0x7e4)](_0x5d3669,null,0x2))),new w('Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+_0x5d3669['message']);}}async[a0_0x581af9(0x36e)](){const _0x21c877=a0_0x581af9;try{let _0x164d3d=await this[_0x21c877(0x456)][_0x21c877(0x3c8)][_0x21c877(0x419)](this[_0x21c877(0x43e)]['wuid']);return this[_0x21c877(0x27b)]=_0x164d3d,this['logger']['verbose'](this[_0x21c877(0x41a)]+'\x20('+this[_0x21c877(0x43e)][_0x21c877(0x40d)]+'):\x20Visualizando\x20AutomateSystem'),this[_0x21c877(0x542)]['verbose'](this[_0x21c877(0x27b)]),_0x164d3d;}catch(_0x158ff5){throw this[_0x21c877(0x542)][_0x21c877(0x3cf)](this[_0x21c877(0x41a)]+'\x20('+this[_0x21c877(0x43e)]['wuid']+_0x21c877(0x42c)+(_0x158ff5 instanceof Error?_0x158ff5[_0x21c877(0x390)]:JSON['stringify'](_0x158ff5,null,0x2))),new w(_0x21c877(0x6cc)+_0x158ff5[_0x21c877(0x390)]);}}async[a0_0x581af9(0x3aa)](){const _0xb7f0a6=a0_0x581af9;this[_0xb7f0a6(0x43e)]['ScheduleMessage'][_0xb7f0a6(0x431)]&&clearTimeout(this[_0xb7f0a6(0x43e)]['ScheduleMessage'][_0xb7f0a6(0x431)]),this[_0xb7f0a6(0x43e)][_0xb7f0a6(0x474)][_0xb7f0a6(0x431)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x581af9(0x262)](){const _0x77b149=a0_0x581af9;Date['now']()-this[_0x77b149(0x43e)][_0x77b149(0x474)]['lastSend']>=0x1d4c0&&(this[_0x77b149(0x542)][_0x77b149(0x628)](this[_0x77b149(0x41a)]+'\x20('+this[_0x77b149(0x43e)][_0x77b149(0x40d)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this['instance']['ScheduleMessage'][_0x77b149(0x2f0)]=null,this[_0x77b149(0x43e)][_0x77b149(0x474)]['lastSend']=0x0,this[_0x77b149(0x43e)][_0x77b149(0x474)]['delayMessage']=0x0,await this[_0x77b149(0x422)]());}async[a0_0x581af9(0x422)](){const _0x28c51e=a0_0x581af9;let _0x25b545=()=>{const _0x40c327=a0_0xd85f;this[_0x40c327(0x542)]['verbose'](this[_0x40c327(0x41a)]+'\x20('+this[_0x40c327(0x43e)]['wuid']+_0x40c327(0x524)+this[_0x40c327(0x43e)][_0x40c327(0x474)][_0x40c327(0x2f0)]+_0x40c327(0x76b));},_0x749924=async()=>{const _0x577cae=a0_0xd85f;this['logger'][_0x577cae(0x628)](this[_0x577cae(0x41a)]+'\x20('+this[_0x577cae(0x43e)]['wuid']+'):\x20Procurando\x20mensagens\x20para\x20envio');let _0x9c7729=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x3432bb={'where':{'status':{'$in':['scheduled',_0x577cae(0x792)]},'$or':[{'when':{'$lte':Date[_0x577cae(0x23e)](),'$gte':_0x9c7729}},{'when':0x0}]}};return await this[_0x577cae(0x456)][_0x577cae(0x6ce)]['find'](_0x3432bb,this['instance'][_0x577cae(0x40d)]);},_0x60ed54=async _0x45cf1b=>{const _0x1517d3=a0_0xd85f;for(let _0x4eaf53 of _0x45cf1b){let _0x64f557={'_id':_0x4eaf53[_0x1517d3(0x4e8)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date['now']()-0x1770}}]},_0xfbeb00={'startSend':Date[_0x1517d3(0x23e)]()};if(!await this[_0x1517d3(0x456)][_0x1517d3(0x6ce)][_0x1517d3(0x1b0)](_0x64f557,_0xfbeb00,this[_0x1517d3(0x43e)][_0x1517d3(0x40d)]))return;if(!this['instance'][_0x1517d3(0x474)][_0x1517d3(0x844)]){this[_0x1517d3(0x542)][_0x1517d3(0x628)](this[_0x1517d3(0x41a)]+'\x20('+this[_0x1517d3(0x43e)][_0x1517d3(0x40d)]+_0x1517d3(0x325));break;}if(_0x4eaf53[_0x1517d3(0x612)]==='flow'&&!this[_0x1517d3(0x27b)]?.[_0x1517d3(0x212)][_0x1517d3(0x3db)]){this[_0x1517d3(0x542)][_0x1517d3(0x3cf)](this[_0x1517d3(0x41a)]+'\x20('+this[_0x1517d3(0x43e)]['wuid']+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x4eaf53[_0x1517d3(0x7b2)]||_0x4eaf53[_0x1517d3(0x7b2)][_0x1517d3(0x1ee)]===0x0)&&(_0x4eaf53=await this[_0x1517d3(0x456)]['scheduleMessage']['updateOneById'](_0x4eaf53['_id'],{'status':_0x1517d3(0x792),'remoteJidsRemaining':[..._0x4eaf53[_0x1517d3(0x46b)]]},this[_0x1517d3(0x43e)][_0x1517d3(0x40d)]));for(let _0x48651f of _0x4eaf53[_0x1517d3(0x7b2)]){if(await this[_0x1517d3(0x3aa)](),this['instance'][_0x1517d3(0x474)][_0x1517d3(0x424)]=Date[_0x1517d3(0x23e)](),this['instance'][_0x1517d3(0x474)][_0x1517d3(0x65b)]===_0x48651f){this[_0x1517d3(0x542)][_0x1517d3(0x3cf)](this[_0x1517d3(0x41a)]+'\x20('+this['instance'][_0x1517d3(0x40d)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20'+_0x48651f+_0x1517d3(0x2a0));let _0x218e9d={'$push':{'messagesSend':{'remoteJid':_0x48651f,'error':!0x0,'id':null,'error_log':_0x1517d3(0x7c9),'log_timestamp':Date['now']()}},'$pull':{'remoteJidsRemaining':_0x48651f}};await this[_0x1517d3(0x456)][_0x1517d3(0x6ce)][_0x1517d3(0x3fa)](_0x4eaf53[_0x1517d3(0x4e8)],_0x218e9d,this['instance'][_0x1517d3(0x40d)]);continue;}if(this[_0x1517d3(0x43e)]['ScheduleMessage'][_0x1517d3(0x65b)]=_0x48651f,_0x4eaf53[_0x1517d3(0x45b)][_0x1517d3(0x313)](_0x5ce6bd=>_0x5ce6bd[_0x1517d3(0x601)]===_0x48651f)){this[_0x1517d3(0x542)][_0x1517d3(0x628)](this['instanceName']+'\x20('+this[_0x1517d3(0x43e)]['wuid']+_0x1517d3(0x38d)+_0x48651f+_0x1517d3(0x417));continue;}if(!this[_0x1517d3(0x43e)][_0x1517d3(0x474)][_0x1517d3(0x844)]){this[_0x1517d3(0x542)][_0x1517d3(0x628)](this[_0x1517d3(0x41a)]+'\x20('+this['instance'][_0x1517d3(0x40d)]+_0x1517d3(0x534));break;}if(!this['instance'][_0x1517d3(0x474)][_0x1517d3(0x2f0)]){this['logger'][_0x1517d3(0x628)](this['instanceName']+'\x20('+this[_0x1517d3(0x43e)][_0x1517d3(0x40d)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x4eaf53[_0x1517d3(0x4e8)]+_0x1517d3(0x359));break;}if(_0x4eaf53[_0x1517d3(0x612)]==='flow'&&!this[_0x1517d3(0x27b)]?.['flowConfig'][_0x1517d3(0x3db)]){this[_0x1517d3(0x542)][_0x1517d3(0x3cf)](this[_0x1517d3(0x41a)]+'\x20('+this[_0x1517d3(0x43e)][_0x1517d3(0x40d)]+_0x1517d3(0x6b7));break;}let _0x12ae0f={'remoteJid':_0x48651f,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date['now']()},_0x424d2f=null;try{let _0x1339b1=await this[_0x1517d3(0x493)](_0x48651f,_0x4eaf53);_0x12ae0f[_0x1517d3(0x3cf)]=_0x1339b1[_0x1517d3(0x3cf)],_0x12ae0f['id']=_0x1339b1['error']?null:_0x1339b1['id'],_0x12ae0f[_0x1517d3(0x74a)]=_0x1339b1['error']?_0x1339b1[_0x1517d3(0x1c6)]?_0x1339b1[_0x1517d3(0x1c6)][_0x1517d3(0x658)]():'':null;let _0x3a0073={'$push':{'messagesSend':_0x12ae0f},'$pull':{'remoteJidsRemaining':_0x48651f}},_0x2c822=_0x4eaf53['_id'];if(_0x424d2f=await this[_0x1517d3(0x456)][_0x1517d3(0x6ce)]['updateOneById'](_0x2c822,_0x3a0073,this[_0x1517d3(0x43e)][_0x1517d3(0x40d)]),_0x1339b1[_0x1517d3(0x3cf)])continue;let _0x386468=this[_0x1517d3(0x36b)](_0x4eaf53['delaySecMin'],_0x4eaf53[_0x1517d3(0x4bf)]);await this['sleep'](_0x386468);}catch(_0x196ee9){this[_0x1517d3(0x542)][_0x1517d3(0x3cf)](this['instanceName']+'\x20('+this[_0x1517d3(0x43e)][_0x1517d3(0x40d)]+_0x1517d3(0x48e)+_0x48651f+':\x20'+(_0x196ee9 instanceof Error?_0x196ee9[_0x1517d3(0x390)]:JSON[_0x1517d3(0x7e4)](_0x196ee9,null,0x2))),_0x12ae0f[_0x1517d3(0x3cf)]=!0x0,_0x12ae0f[_0x1517d3(0x74a)]=_0x196ee9[_0x1517d3(0x390)];let _0xbfc6cd={'$push':{'messagesSend':_0x12ae0f},'$pull':{'remoteJidsRemaining':_0x48651f}},_0x38bf01=_0x4eaf53[_0x1517d3(0x4e8)];_0x424d2f=await this[_0x1517d3(0x456)][_0x1517d3(0x6ce)]['updateOneById'](_0x38bf01,_0xbfc6cd,this[_0x1517d3(0x43e)]['wuid']);}finally{if(_0x424d2f&&_0x424d2f['status']===_0x1517d3(0x4aa)){this[_0x1517d3(0x542)][_0x1517d3(0x628)](this['instanceName']+'\x20('+this['instance'][_0x1517d3(0x40d)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x4eaf53[_0x1517d3(0x4e8)]+_0x1517d3(0x77e));break;}}}let _0x39c623=await this[_0x1517d3(0x456)][_0x1517d3(0x6ce)][_0x1517d3(0x4fe)](_0x4eaf53[_0x1517d3(0x4e8)],this[_0x1517d3(0x43e)]['wuid']);if(_0x39c623[_0x1517d3(0x7b2)][_0x1517d3(0x1ee)]===0x0&&_0x39c623[_0x1517d3(0x2e9)]!==_0x1517d3(0x4aa)){this['instance'][_0x1517d3(0x474)]['ultimaTentativaRemoteJid']=null;let _0x29ec44={'$set':{'status':_0x1517d3(0x647)}},_0x2d222c=_0x39c623[_0x1517d3(0x4e8)];await this[_0x1517d3(0x456)]['scheduleMessage'][_0x1517d3(0x3fa)](_0x2d222c,_0x29ec44,this['instance'][_0x1517d3(0x40d)]);}await new Promise(_0x523325=>setTimeout(_0x523325,0x1388));}},_0x3d4024=async()=>{const _0xf329e7=a0_0xd85f;let _0x3662c6={'where':{'status':'scheduled','when':{'$gt':Date['now']()}}},_0x21915b=await this[_0xf329e7(0x456)]['scheduleMessage']['findOne'](_0x3662c6,this[_0xf329e7(0x43e)][_0xf329e7(0x40d)]);_0x21915b&&_0x21915b['when']-Date[_0xf329e7(0x23e)]()<=0x5265c00?this['instance']['ScheduleMessage'][_0xf329e7(0x7b4)]=_0x21915b[_0xf329e7(0x620)]-Date['now']():this[_0xf329e7(0x43e)][_0xf329e7(0x474)][_0xf329e7(0x7b4)]=(0x3c+Math[_0xf329e7(0x813)](Math[_0xf329e7(0x744)]()*0x3c))*0x3c*0x3e8,this['instance']['ScheduleMessage'][_0xf329e7(0x7b4)]=Math[_0xf329e7(0x225)](this['instance'][_0xf329e7(0x474)][_0xf329e7(0x7b4)],0x7d0);let _0x409adf=Math[_0xf329e7(0x52d)](this[_0xf329e7(0x43e)][_0xf329e7(0x474)][_0xf329e7(0x7b4)]/0xea60);if(_0x21915b){let _0x157e21=new Date(_0x21915b['when'])[_0xf329e7(0x5b4)]();this[_0xf329e7(0x542)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0xf329e7(0x40d)]+_0xf329e7(0x30d)+_0x157e21+_0xf329e7(0x55f)+_0x409adf+_0xf329e7(0x672));}else this['logger'][_0xf329e7(0x628)](this['instanceName']+'\x20('+this[_0xf329e7(0x43e)]['wuid']+'):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20'+_0x409adf+_0xf329e7(0x672));setTimeout(()=>this['scheduleNextCheck'](),this[_0xf329e7(0x43e)][_0xf329e7(0x474)]['delayMessage']);};if(this['instance']['ScheduleMessage'][_0x28c51e(0x2f0)]){await this['setRestartTimeout'](),_0x25b545();return;}if(!this[_0x28c51e(0x43e)][_0x28c51e(0x474)][_0x28c51e(0x844)]){this[_0x28c51e(0x542)][_0x28c51e(0x628)](this['instanceName']+'\x20('+this['instance'][_0x28c51e(0x40d)]+_0x28c51e(0x736)),this[_0x28c51e(0x43e)][_0x28c51e(0x474)]['processing_id']=null,this[_0x28c51e(0x43e)]['ScheduleMessage'][_0x28c51e(0x424)]=0x0,this[_0x28c51e(0x43e)][_0x28c51e(0x474)]['delayMessage']=0x0,this[_0x28c51e(0x43e)][_0x28c51e(0x474)][_0x28c51e(0x65b)]=null;return;}try{let _0x253e4d=await _0x749924();_0x253e4d[_0x28c51e(0x1ee)]===0x0?this['logger'][_0x28c51e(0x628)](this[_0x28c51e(0x41a)]+'\x20('+this['instance'][_0x28c51e(0x40d)]+_0x28c51e(0x7f7)):(this[_0x28c51e(0x43e)][_0x28c51e(0x474)]['processing_id']=_0x253e4d[0x0][_0x28c51e(0x4e8)],await _0x60ed54(_0x253e4d)),await _0x3d4024(),this['instance']['ScheduleMessage']['processing_id']=null,this[_0x28c51e(0x43e)]['ScheduleMessage']['ultimaTentativaRemoteJid']=null;}catch(_0x5cd996){this['logger']['error'](_0x28c51e(0x37b)+(_0x5cd996 instanceof Error?_0x5cd996[_0x28c51e(0x390)]:JSON['stringify'](_0x5cd996,null,0x2)));}}[a0_0x581af9(0x36b)](_0xba170d,_0x36beba){const _0x57e5ab=a0_0x581af9;return _0xba170d=Math[_0x57e5ab(0x225)](0.5,_0xba170d),_0x36beba=Math[_0x57e5ab(0x539)](Math[_0x57e5ab(0x225)](0x3,_0x36beba),0x78),Math[_0x57e5ab(0x813)](Math[_0x57e5ab(0x744)]()*(_0x36beba-_0xba170d+0x1)+_0xba170d)*0x3e8;}['sleep'](_0x71899f){return new Promise(_0x53523f=>setTimeout(_0x53523f,_0x71899f));}async['getVariablesChat'](_0x1fcdd6){const _0x110a96=a0_0x581af9;if(!this[_0x110a96(0x27b)]&&(await this[_0x110a96(0x36e)](),!this['AutomateSystem']))return null;_0x1fcdd6=this[_0x110a96(0x63b)](_0x1fcdd6);let _0x16f2c2=await this[_0x110a96(0x456)][_0x110a96(0x437)][_0x110a96(0x841)]({'where':{'_id':_0x1fcdd6}},this[_0x110a96(0x43e)][_0x110a96(0x40d)]),_0x4b5de={};if(_0x16f2c2&&_0x16f2c2['leadInfo']){let _0xb0c27b=_0x16f2c2['leadInfo'];typeof _0xb0c27b['nome']==_0x110a96(0x497)&&(_0x4b5de['nome']=_0xb0c27b[_0x110a96(0x538)]),typeof _0xb0c27b['nomecompleto']==_0x110a96(0x497)&&(_0x4b5de[_0x110a96(0x351)]=_0xb0c27b[_0x110a96(0x351)]),typeof _0xb0c27b[_0x110a96(0x78b)]=='string'&&(_0x4b5de['email']=_0xb0c27b['email']),typeof _0xb0c27b['cpf']==_0x110a96(0x497)&&(_0x4b5de['cpf']=_0xb0c27b[_0x110a96(0x1ec)]),typeof _0xb0c27b[_0x110a96(0x2e9)]==_0x110a96(0x497)&&(_0x4b5de[_0x110a96(0x2e9)]=_0xb0c27b[_0x110a96(0x2e9)]),typeof _0xb0c27b[_0x110a96(0x73f)]=='string'&&(_0x4b5de[_0x110a96(0x73f)]=_0xb0c27b[_0x110a96(0x73f)]),typeof _0xb0c27b[_0x110a96(0x4a9)]==_0x110a96(0x497)&&(_0x4b5de[_0x110a96(0x4a9)]=_0xb0c27b[_0x110a96(0x4a9)]),Array[_0x110a96(0x530)](_0xb0c27b['tags'])&&(_0x4b5de[_0x110a96(0x213)]=_0xb0c27b[_0x110a96(0x213)][_0x110a96(0x495)](',\x20')),Array[_0x110a96(0x530)](_0xb0c27b[_0x110a96(0x1e7)])&&(_0x4b5de[_0x110a96(0x1e7)]=_0xb0c27b[_0x110a96(0x1e7)][_0x110a96(0x495)](',\x20'));}return _0x16f2c2&&_0x16f2c2['leadInfo']&&_0x16f2c2['leadInfo'][_0x110a96(0x663)]&&_0x16f2c2[_0x110a96(0x4b6)][_0x110a96(0x663)][_0x110a96(0x386)](_0x1a258e=>{const _0x2e8861=_0x110a96;let _0x3138e7=this[_0x2e8861(0x27b)]?.['customFields'][_0x2e8861(0x53f)](_0x409d4a=>_0x409d4a[_0x2e8861(0x4e8)]===_0x1a258e[_0x2e8861(0x4e8)]);_0x3138e7&&(_0x4b5de[_0x3138e7[_0x2e8861(0x428)]]=_0x1a258e[_0x2e8861(0x638)]);}),_0x4b5de;}async[a0_0x581af9(0x448)](_0x18584f,_0x4d67db){const _0x57f608=a0_0x581af9;let _0x363d0e=await this['getVariablesChat'](_0x4d67db);return this[_0x57f608(0x60e)](_0x18584f,_0x363d0e);}async[a0_0x581af9(0x7f0)](_0x4470bc){const _0x50929e=a0_0x581af9;try{if(this[_0x50929e(0x542)][_0x50929e(0x628)](this[_0x50929e(0x41a)]+'\x20('+this[_0x50929e(0x43e)]['wuid']+_0x50929e(0x30a)),_0x4470bc[_0x50929e(0x5e1)]&&_0x4470bc[_0x50929e(0x4e8)]){if(this['instance'][_0x50929e(0x474)]['processing_id']===_0x4470bc['_id'][_0x50929e(0x658)]())throw new Error(_0x50929e(0x73b));let _0x40c0d4=await this[_0x50929e(0x456)][_0x50929e(0x6ce)][_0x50929e(0x27a)](_0x4470bc[_0x50929e(0x4e8)],this[_0x50929e(0x43e)][_0x50929e(0x40d)]);return setTimeout(()=>this[_0x50929e(0x422)](),0x7d0),_0x40c0d4;}let _0x1216fb;if(_0x4470bc[_0x50929e(0x4e8)]&&(_0x1216fb=await this[_0x50929e(0x456)][_0x50929e(0x6ce)]['findById'](_0x4470bc['_id'],this[_0x50929e(0x43e)]['wuid'])),_0x1216fb){let _0x1646d3;if(this[_0x50929e(0x43e)][_0x50929e(0x474)][_0x50929e(0x2f0)]===_0x1216fb[_0x50929e(0x4e8)]['toString']())_0x1646d3={'$set':{'status':_0x4470bc[_0x50929e(0x2e9)]}};else{let {_id:_0x166615,..._0x171904}=_0x4470bc;_0x1646d3={'$set':_0x171904};}let _0x1aafc8=await this['repository'][_0x50929e(0x6ce)][_0x50929e(0x3fa)](_0x4470bc[_0x50929e(0x4e8)],_0x1646d3,this['instance']['wuid']);return setTimeout(()=>this[_0x50929e(0x422)](),0x7d0),_0x1aafc8;}else{_0x4470bc['owner']=this[_0x50929e(0x43e)][_0x50929e(0x40d)];let _0x3a1582=await this[_0x50929e(0x456)]['scheduleMessage'][_0x50929e(0x852)](_0x4470bc,this[_0x50929e(0x43e)][_0x50929e(0x40d)]);return setTimeout(()=>this[_0x50929e(0x422)](),0x7d0),_0x3a1582;}}catch(_0x5b0c0e){throw this[_0x50929e(0x542)]['error'](this[_0x50929e(0x41a)]+'\x20('+this[_0x50929e(0x43e)]['wuid']+_0x50929e(0x1e1)+(_0x5b0c0e instanceof Error?_0x5b0c0e[_0x50929e(0x390)]:JSON[_0x50929e(0x7e4)](_0x5b0c0e,null,0x2))),new w(_0x50929e(0x50b)+_0x5b0c0e[_0x50929e(0x390)]);}}async['getScheduleMessage'](){const _0xae4591=a0_0x581af9;try{return await this['repository'][_0xae4591(0x6ce)][_0xae4591(0x53f)]({'where':{}},this[_0xae4591(0x43e)][_0xae4591(0x40d)]);}catch(_0x1bde73){throw this['logger'][_0xae4591(0x3cf)](this[_0xae4591(0x41a)]+'\x20('+this[_0xae4591(0x43e)][_0xae4591(0x40d)]+_0xae4591(0x286)+(_0x1bde73 instanceof Error?_0x1bde73[_0xae4591(0x390)]:JSON[_0xae4591(0x7e4)](_0x1bde73,null,0x2))),new w(_0xae4591(0x50b)+_0x1bde73['message']);}}async['deleteDoneMessages'](){const _0x52264c=a0_0x581af9;try{let _0x4bcf16={'status':_0x52264c(0x647)},_0x227a12=await this['repository'][_0x52264c(0x6ce)][_0x52264c(0x6dd)](_0x4bcf16,this[_0x52264c(0x43e)]['wuid']);if(!_0x227a12[_0x52264c(0x3cf)])this[_0x52264c(0x542)][_0x52264c(0x628)](this[_0x52264c(0x41a)]+'\x20('+this[_0x52264c(0x43e)][_0x52264c(0x40d)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x227a12['error'][_0x52264c(0x390)]||_0x52264c(0x241));return this[_0x52264c(0x1d7)]();}catch(_0x55f991){throw this[_0x52264c(0x542)][_0x52264c(0x3cf)](this['instanceName']+'\x20('+this[_0x52264c(0x43e)][_0x52264c(0x40d)]+_0x52264c(0x1fc)+(_0x55f991 instanceof Error?_0x55f991['message']:JSON['stringify'](_0x55f991,null,0x2))),new w('Erro:'+_0x55f991[_0x52264c(0x390)]);}}async['SendScheduleMessage'](_0x37f179,_0xaf6d28){const _0x22acf6=a0_0x581af9;try{if(_0xaf6d28['type']===_0x22acf6(0x394)&&!this[_0x22acf6(0x27b)]?.[_0x22acf6(0x212)][_0x22acf6(0x3db)])return this[_0x22acf6(0x542)][_0x22acf6(0x3cf)](this[_0x22acf6(0x41a)]+'\x20('+this['instance'][_0x22acf6(0x40d)]+_0x22acf6(0x6b8)),{'error':!0x0,'detail':'Fluxos\x20não\x20estão\x20ativados'};switch(_0xaf6d28[_0x22acf6(0x612)]){case _0x22acf6(0x711):return await this[_0x22acf6(0x710)](_0xaf6d28,_0x37f179);case _0x22acf6(0x541):return await this[_0x22acf6(0x5cf)](_0xaf6d28,_0x37f179);case _0x22acf6(0x7ba):return await this[_0x22acf6(0x5ab)](_0xaf6d28,_0x37f179);case _0x22acf6(0x394):let _0x5708fd=new je();return _0x5708fd[_0x22acf6(0x428)]=_0xaf6d28[_0x22acf6(0x667)],_0x5708fd[_0x22acf6(0x601)]=_0x37f179,await this[_0x22acf6(0x280)](_0x5708fd);break;default:return this[_0x22acf6(0x542)]['error'](this[_0x22acf6(0x41a)]+'\x20('+this['instance'][_0x22acf6(0x40d)]+_0x22acf6(0x1c1)+_0xaf6d28[_0x22acf6(0x612)]),{'error':!0x0,'detail':_0x22acf6(0x3dd)};}}catch(_0x228b6d){return this[_0x22acf6(0x542)][_0x22acf6(0x3cf)](this[_0x22acf6(0x41a)]+'\x20('+this[_0x22acf6(0x43e)][_0x22acf6(0x40d)]+_0x22acf6(0x3d2)+(_0x228b6d instanceof Error?_0x228b6d[_0x22acf6(0x390)]:JSON[_0x22acf6(0x7e4)](_0x228b6d,null,0x2))),{'error':!0x0,'detail':_0x228b6d[_0x22acf6(0x390)]};}}['getRandomText'](_0x2cdacd){const _0x4b6e4a=a0_0x581af9;let _0x10fae1=_0x2cdacd[_0x4b6e4a(0x68e)]('|'),_0x1dc577=Math[_0x4b6e4a(0x813)](Math[_0x4b6e4a(0x744)]()*_0x10fae1[_0x4b6e4a(0x1ee)]);return _0x10fae1[_0x1dc577][_0x4b6e4a(0x7c5)]();}async['scheduleSendText'](_0x547c57,_0x4c049e){const _0x1a0800=a0_0x581af9;if(this[_0x1a0800(0x542)]['verbose'](this[_0x1a0800(0x41a)]+'\x20('+this['instance'][_0x1a0800(0x40d)]+_0x1a0800(0x719)),!_0x547c57[_0x1a0800(0x390)][_0x1a0800(0x711)]||_0x547c57['message']['text']['length']===0x0)return{'error':!0x0,'detail':_0x1a0800(0x6ff)};let _0x51ce4c=this['getRandomText'](_0x547c57[_0x1a0800(0x390)][_0x1a0800(0x711)]),_0x3070cc=await this[_0x1a0800(0x448)](_0x51ce4c,_0x4c049e),_0x59b15b={'number':_0x4c049e,'options':{'delay':_0x547c57['message'][_0x1a0800(0x4d1)],'linkPreview':_0x547c57['message']['linkPreview']},'textMessage':{'text':_0x3070cc}},_0x51343b=null;try{let _0x5af5a1=await this[_0x1a0800(0x3d9)](_0x59b15b);if(_0x5af5a1&&_0x5af5a1['status'])return{'error':!0x1,'id':_0x5af5a1['key']['id']};_0x51343b=JSON[_0x1a0800(0x7e4)](_0x5af5a1),this[_0x1a0800(0x542)]['verbose'](this['instanceName']+'\x20('+this[_0x1a0800(0x43e)][_0x1a0800(0x40d)]+_0x1a0800(0x3bc)+_0x51343b);}catch(_0x21b590){this[_0x1a0800(0x542)][_0x1a0800(0x3cf)](this[_0x1a0800(0x41a)]+'\x20('+this[_0x1a0800(0x43e)][_0x1a0800(0x40d)]+_0x1a0800(0x6bb)+(_0x21b590 instanceof Error?_0x21b590[_0x1a0800(0x390)]:JSON[_0x1a0800(0x7e4)](_0x21b590,null,0x2))),_0x51343b=_0x21b590[_0x1a0800(0x390)];}if(_0x51343b)return{'error':!0x0,'detail':(typeof _0x51343b==_0x1a0800(0x257)?JSON[_0x1a0800(0x7e4)](_0x51343b,null,0x2):_0x51343b)[_0x1a0800(0x614)](/[\[\]{}\n]/g,'\x20')[_0x1a0800(0x614)](/  +/g,'\x20')};}async[a0_0x581af9(0x5cf)](_0x32b516,_0x462d5f){const _0x214085=a0_0x581af9;this['logger'][_0x214085(0x628)](this[_0x214085(0x41a)]+'\x20('+this[_0x214085(0x43e)][_0x214085(0x40d)]+'):\x20Enviando\x20mídia');let _0x571892;if(_0x32b516[_0x214085(0x390)][_0x214085(0x711)]&&_0x32b516[_0x214085(0x390)]['text']['length']>0x0){let _0x478dd4=this['getRandomText'](_0x32b516[_0x214085(0x390)]['text']);_0x571892=await this['replaceVariablesChat'](_0x478dd4,_0x462d5f);}let _0x3a207f={'number':_0x462d5f,'options':{'delay':_0x32b516['message'][_0x214085(0x4d1)],'linkPreview':_0x32b516[_0x214085(0x390)][_0x214085(0x30e)]},'mediaMessage':{'mediatype':_0x32b516[_0x214085(0x390)][_0x214085(0x506)],'caption':_0x571892,'media':_0x32b516['message'][_0x214085(0x4f6)]}},_0x5c1bf1=null;try{let _0x1d288c=await this[_0x214085(0x7e2)](_0x3a207f);if(_0x1d288c&&_0x1d288c['status'])return{'error':!0x1,'id':_0x1d288c[_0x214085(0x686)]['id']};_0x5c1bf1=JSON[_0x214085(0x7e4)](_0x1d288c),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x214085(0x43e)]['wuid']+_0x214085(0x3bc)+_0x5c1bf1);}catch(_0x783d8a){this[_0x214085(0x542)][_0x214085(0x3cf)](this[_0x214085(0x41a)]+'\x20('+this[_0x214085(0x43e)][_0x214085(0x40d)]+_0x214085(0x434)+(_0x783d8a instanceof Error?_0x783d8a[_0x214085(0x390)]:JSON[_0x214085(0x7e4)](_0x783d8a,null,0x2))),_0x5c1bf1=_0x783d8a['message'];}if(_0x5c1bf1)return{'error':!0x0,'detail':(typeof _0x5c1bf1==_0x214085(0x257)?JSON[_0x214085(0x7e4)](_0x5c1bf1,null,0x2):_0x5c1bf1)[_0x214085(0x614)](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x581af9(0x5ab)](_0xf1c9eb,_0xd3a7a9){const _0x2eb688=a0_0x581af9;this[_0x2eb688(0x542)][_0x2eb688(0x628)](this[_0x2eb688(0x41a)]+'\x20('+this['instance'][_0x2eb688(0x40d)]+_0x2eb688(0x40c));let _0x4a734d={'number':_0xd3a7a9,'options':{'delay':_0xf1c9eb['message'][_0x2eb688(0x4d1)]},'audioMessage':{'audio':_0xf1c9eb[_0x2eb688(0x390)]['urlOrBase64']}},_0x20ed0f=null;try{let _0x122597=await this[_0x2eb688(0x4b7)](_0x4a734d);if(_0x122597&&_0x122597[_0x2eb688(0x2e9)])return{'error':!0x1,'id':_0x122597[_0x2eb688(0x686)]['id']};_0x20ed0f=JSON[_0x2eb688(0x7e4)](_0x122597),this[_0x2eb688(0x542)][_0x2eb688(0x628)](this[_0x2eb688(0x41a)]+'\x20('+this['instance'][_0x2eb688(0x40d)]+'):\x20'+_0x20ed0f);}catch(_0x29f668){this[_0x2eb688(0x542)][_0x2eb688(0x3cf)](this[_0x2eb688(0x41a)]+'\x20('+this[_0x2eb688(0x43e)]['wuid']+_0x2eb688(0x1d5)+(_0x29f668 instanceof Error?_0x29f668[_0x2eb688(0x390)]:JSON[_0x2eb688(0x7e4)](_0x29f668,null,0x2))),_0x20ed0f=_0x29f668[_0x2eb688(0x390)];}if(_0x20ed0f)return{'error':!0x0,'detail':(typeof _0x20ed0f==_0x2eb688(0x257)?JSON[_0x2eb688(0x7e4)](_0x20ed0f,null,0x2):_0x20ed0f)['replace'](/[\[\]{}\n]/g,'\x20')[_0x2eb688(0x614)](/  +/g,'\x20')};}},Ut=class c{constructor(_0xa3a8dc,_0x4947a3,_0x42c1d8){const _0xd9183b=a0_0x581af9;this[_0xd9183b(0x67a)]=_0xa3a8dc,this[_0xd9183b(0x3f1)]=_0x4947a3,this[_0xd9183b(0x456)]=_0x42c1d8,this['db']={},this[_0xd9183b(0x2b5)]={},this[_0xd9183b(0x542)]=new v(c['name']),this['waInstances']={},(this[_0xd9183b(0x250)](),this[_0xd9183b(0x60a)](),Object[_0xd9183b(0x5e4)](this['db'],_0x4947a3[_0xd9183b(0x488)]('DATABASE')),Object['assign'](this[_0xd9183b(0x2b5)],_0x4947a3['get'](_0xd9183b(0x592))),this[_0xd9183b(0x4dd)]=this['db']['ENABLED']?this[_0xd9183b(0x456)]['dbServer']?.['db'](this['db']['CONNECTION'][_0xd9183b(0x559)]+_0xd9183b(0x393)):void 0x0,this[_0xd9183b(0x3d1)]=this[_0xd9183b(0x2b5)][_0xd9183b(0x54e)]?new ne(this[_0xd9183b(0x2b5)]):void 0x0);}async[a0_0x581af9(0x6b9)](_0x21dc6a){const _0x291667=a0_0x581af9;if(_0x21dc6a&&!this[_0x291667(0x3e8)][_0x21dc6a])throw new j(_0x291667(0x4f7)+_0x21dc6a+_0x291667(0x69d));let _0x6d14d0=[];for await(let [_0x3a7c74,_0xdfa13e]of Object[_0x291667(0x6a5)](this[_0x291667(0x3e8)]))if(_0xdfa13e&&_0xdfa13e[_0x291667(0x6e8)]['state']===_0x291667(0x610)){let _0x4b225b=await this[_0x291667(0x456)]['auth']['find'](_0x3a7c74);_0x6d14d0[_0x291667(0x71d)]({'instance':{'instanceName':_0x3a7c74,'apikey':_0x4b225b[_0x291667(0x626)],'owner':_0xdfa13e[_0x291667(0x40d)],'profileName':await _0xdfa13e[_0x291667(0x2e7)]()||'not\x20loaded','profilePictureUrl':_0xdfa13e[_0x291667(0x5bb)]}});}return _0x6d14d0[_0x291667(0x53f)](_0x2967b9=>_0x2967b9[_0x291667(0x43e)][_0x291667(0x41a)]===_0x21dc6a)??_0x6d14d0;}async[a0_0x581af9(0x529)](_0x34bb01){const _0x3d0b36=a0_0x581af9;if(this['db'][_0x3d0b36(0x54e)]&&(await this['repository'][_0x3d0b36(0x61d)][_0x3d0b36(0x4e3)](),(await this[_0x3d0b36(0x4dd)][_0x3d0b36(0x3bf)]())['length']>0x0&&await this[_0x3d0b36(0x4dd)][_0x3d0b36(0x1bf)](_0x34bb01)),this['redis']['ENABLED']){this[_0x3d0b36(0x3d1)][_0x3d0b36(0x372)]=_0x34bb01,await this[_0x3d0b36(0x3d1)][_0x3d0b36(0x23c)]();return;}}async[a0_0x581af9(0x835)](){const _0x927007=a0_0x581af9;await this[_0x927007(0x67b)]();let _0x2711fc=async _0x451be7=>{const _0x236029=_0x927007;let _0x2997af=new be(this['configService'],this['eventEmitter'],this[_0x236029(0x456)]);_0x2997af[_0x236029(0x41a)]=_0x451be7,await _0x2997af['connectToWhatsapp'](),this['waInstances'][_0x451be7]=_0x2997af;};try{if(this[_0x927007(0x2b5)][_0x927007(0x54e)]){let _0xa2ee52=await this[_0x927007(0x3d1)]['instanceKeys']();_0xa2ee52?.[_0x927007(0x1ee)]>0x0&&_0xa2ee52[_0x927007(0x386)](async _0x1f825f=>await _0x2711fc(_0x1f825f[_0x927007(0x68e)](':')[0x1]));return;}if(this['db'][_0x927007(0x54e)]){await this['repository'][_0x927007(0x61d)][_0x927007(0x4e3)]();let _0x2d65b0=await this[_0x927007(0x4dd)][_0x927007(0x3bf)]();_0x2d65b0[_0x927007(0x1ee)]>0x0&&_0x2d65b0['forEach'](async _0x46fd20=>await _0x2711fc(_0x46fd20[_0x927007(0x3f5)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x5384ac){this[_0x927007(0x542)][_0x927007(0x3cf)](_0x5384ac);}}async[a0_0x581af9(0x861)](){const _0xb4b24d=a0_0x581af9;let _0x5f28eb=await this[_0xb4b24d(0x456)][_0xb4b24d(0x429)][_0xb4b24d(0x716)](),_0x3b78ac=_0x5f28eb['filter'](_0x40a364=>!this[_0xb4b24d(0x3e8)][_0x40a364[_0xb4b24d(0x4e8)]]&&(_0x40a364[_0xb4b24d(0x85c)]||typeof _0x40a364[_0xb4b24d(0x85c)]>'u'));_0x3b78ac[_0xb4b24d(0x1ee)]>0x0&&await Promise['all'](_0x3b78ac[_0xb4b24d(0x697)](async _0x204d3e=>{const _0x5580a5=_0xb4b24d;let _0x468883={'online':!0x1,'lastDisconnect':Date[_0x5580a5(0x23e)]()};await this['repository']['auth'][_0x5580a5(0x5f0)](_0x468883,_0x204d3e[_0x5580a5(0x4e8)]);}));let _0x107c17=Date[_0xb4b24d(0x23e)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x299b43=_0x5f28eb['filter'](_0x371265=>!this['waInstances'][_0x371265[_0xb4b24d(0x4e8)]]&&typeof _0x371265[_0xb4b24d(0x7b5)]<'u'&&_0x371265[_0xb4b24d(0x7b5)]<_0x107c17);_0x299b43['length']>0x0&&await Promise[_0xb4b24d(0x699)](_0x299b43['map'](async _0x42bbee=>{}));}async[a0_0x581af9(0x67b)](){const _0xba345b=a0_0x581af9;try{let _0x2e1e7a={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x3ca4cb={'online':!0x1,'lastDisconnect':Date[_0xba345b(0x23e)]()},_0x279ccd=await this[_0xba345b(0x456)]['auth'][_0xba345b(0x36f)](_0x2e1e7a,_0x3ca4cb);console['log'](_0xba345b(0x56a)+_0x279ccd[_0xba345b(0x30b)]),await this['removeOlderDisconnectedInstances']();}catch(_0x4e15f2){console['error'](_0xba345b(0x6f3),_0x4e15f2);}}async[a0_0x581af9(0x6f2)](){const _0x185b4b=a0_0x581af9;try{let _0x4dd683={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x89ecd8=await this[_0x185b4b(0x456)]['auth'][_0x185b4b(0x6dd)](_0x4dd683);console[_0x185b4b(0x679)](_0x185b4b(0x7fc)+_0x89ecd8[_0x185b4b(0x30b)]);}catch(_0x4bf9dd){console[_0x185b4b(0x3cf)](_0x185b4b(0x83e),_0x4bf9dd);}}[a0_0x581af9(0x250)](){const _0x150029=a0_0x581af9;this[_0x150029(0x67a)]['on'](_0x150029(0x6a9),async _0x2a6a3a=>{const _0x34b6fd=_0x150029;try{this['waInstances'][_0x2a6a3a]=void 0x0;}catch{}try{this[_0x34b6fd(0x529)](_0x2a6a3a);}finally{this[_0x34b6fd(0x542)][_0x34b6fd(0x5ad)](_0x34b6fd(0x4f7)+_0x2a6a3a+'\x22\x20-\x20REMOVED');}});}['noConnection'](){const _0x33e75a=a0_0x581af9;this[_0x33e75a(0x67a)]['on'](_0x33e75a(0x59a),async _0x585e00=>{const _0x3e4b5b=_0x33e75a;try{this['waInstances'][_0x585e00]=void 0x0;}catch{}try{this['cleaningUp'](_0x585e00);}finally{this[_0x3e4b5b(0x542)][_0x3e4b5b(0x5ad)](_0x3e4b5b(0x4f7)+_0x585e00+_0x3e4b5b(0x512));}});}},Jt=class extends D{[a0_0x581af9(0x751)](_0x55dc1b){return Qs(_0x55dc1b);}async[a0_0x581af9(0x1b1)](_0x4a0592){const _0x5d1b86=a0_0x581af9;if(_0x4a0592['length']!==0x0)try{return{'insertCount':(await this['getChatModelForOwner'](_0x4a0592[0x0]['owner'])[_0x5d1b86(0x62d)]([..._0x4a0592]))['length']};}catch(_0x3fe6d4){return _0x3fe6d4;}}async[a0_0x581af9(0x53f)](_0x5b7bd0,_0x130446){const _0x55405d=a0_0x581af9;try{let _0xf5632e=this[_0x55405d(0x751)](_0x130446),_0x20dd48=A(_0x5b7bd0[_0x55405d(0x5d0)]);return await _0xf5632e[_0x55405d(0x53f)](_0x20dd48)['sort']({'lastmsg':-0x1})[_0x55405d(0x812)](_0x5b7bd0?.[_0x55405d(0x812)]??0x0)[_0x55405d(0x1ca)]();}catch{return[];}}async[a0_0x581af9(0x5e1)](_0x5b4f16,_0x2946a8){const _0x205135=a0_0x581af9;try{return{'deletedCount':(await this[_0x205135(0x751)](_0x2946a8)[_0x205135(0x6dd)]({..._0x5b4f16[_0x205135(0x5d0)]}))['deletedCount']};}catch(_0x10d06c){return{'error':_0x10d06c?.[_0x205135(0x658)]()};}}async['deleteAll'](_0x6beeba,_0x12734b){const _0x376f20=a0_0x581af9;try{return await this[_0x376f20(0x751)](_0x12734b)[_0x376f20(0x6dd)]({..._0x6beeba['where']}),[];}catch(_0x1ebaa4){return{'error':_0x1ebaa4?.[_0x376f20(0x658)]()};}}async[a0_0x581af9(0x841)](_0x3bd40b,_0x24eb7c){const _0x5ab6b5=a0_0x581af9;try{let _0x24ca31=this[_0x5ab6b5(0x751)](_0x24eb7c),_0x251e2f=A(_0x3bd40b[_0x5ab6b5(0x5d0)]);return await _0x24ca31['findOne'](_0x251e2f)[_0x5ab6b5(0x1ca)]();}catch{return null;}}async[a0_0x581af9(0x1b0)](_0x31f7aa,_0x3a0155,_0x52aab0,_0x22a007,_0x5e1ebb=a0_0x581af9(0x6f9)){const _0x34dacc=a0_0x581af9;try{let _0x46f7ec={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x22a007},_0x353b81=this['getChatModelForOwner'](_0x52aab0),_0x5261e2=A(_0x31f7aa['where']);Object[_0x34dacc(0x543)](_0x3a0155)[_0x34dacc(0x386)](_0x1333a3=>{_0x3a0155[_0x1333a3]==null&&delete _0x3a0155[_0x1333a3];});let _0x11a2f0={};return _0x11a2f0[_0x5e1ebb]=_0x3a0155,await _0x353b81[_0x34dacc(0x418)](_0x5261e2,_0x11a2f0,_0x46f7ec);}catch(_0x172eb3){return console['error'](_0x172eb3),null;}}async['updateMany'](_0x4602c1){const _0x48abeb=a0_0x581af9;try{let _0x1a8277=this[_0x48abeb(0x751)](_0x4602c1[0x0][_0x48abeb(0x6fd)]['where'][_0x48abeb(0x409)]),_0x30d873=_0x4602c1[_0x48abeb(0x697)](_0x424584=>({'updateOne':{'filter':{..._0x424584[_0x48abeb(0x6fd)][_0x48abeb(0x5d0)]},'update':{'$set':_0x424584[_0x48abeb(0x536)]},'upsert':!0x0}})),_0x2ac0cd=await _0x1a8277['bulkWrite'](_0x30d873);return _0x2ac0cd['modifiedCount']+_0x2ac0cd[_0x48abeb(0x201)];}catch(_0x153db3){return console['error'](_0x153db3),0x0;}}async['updateMissingLabels'](_0x456861){const _0x59f03d=a0_0x581af9;try{let _0x5300ef=this[_0x59f03d(0x751)](_0x456861),_0x21eba8={'labels':{'$exists':!0x0}},_0x31f88c={'$unset':{'labels':''}};return(await _0x5300ef[_0x59f03d(0x6ad)](_0x21eba8,_0x31f88c))['modifiedCount'];}catch(_0xa65d6b){return console['error'](_0xa65d6b),0x0;}}async[a0_0x581af9(0x203)](_0x32544e){const _0x49346c=a0_0x581af9;try{let _0x478cd9=this[_0x49346c(0x751)](_0x32544e),_0xea3882={'leadInfo.etiquetas':{'$exists':!0x1}},_0x4a0b23={'$set':{'leadInfo.etiquetas':[]}};return(await _0x478cd9[_0x49346c(0x6ad)](_0xea3882,_0x4a0b23))[_0x49346c(0x84f)];}catch(_0x42f72f){return console['error'](_0x42f72f),0x0;}}async['updateMissingTags'](_0x2d5729){const _0x2e9bc2=a0_0x581af9;try{let _0x91cf5b=this[_0x2e9bc2(0x751)](_0x2d5729),_0x5b15fe={'leadInfo.tags':{'$exists':!0x1}},_0x26084e={'$set':{'leadInfo.tags':[]}};return(await _0x91cf5b['updateMany'](_0x5b15fe,_0x26084e))[_0x2e9bc2(0x84f)];}catch(_0x116d60){return console[_0x2e9bc2(0x3cf)](_0x116d60),0x0;}}async[a0_0x581af9(0x6c8)](_0x40d133){const _0x4efa88=a0_0x581af9;try{let _0x43a2a0=this[_0x4efa88(0x751)](_0x40d133),_0x3025aa={'leadInfo.customFields':{'$exists':!0x1}},_0x270542={'$set':{'leadInfo.customFields':[]}};return(await _0x43a2a0[_0x4efa88(0x6ad)](_0x3025aa,_0x270542))[_0x4efa88(0x84f)];}catch(_0x3f2288){return console['error'](_0x3f2288),0x0;}}async[a0_0x581af9(0x62d)](_0x10672a,_0x2083db){const _0x51152d=a0_0x581af9;if(!Array[_0x51152d(0x530)](_0x10672a)||_0x10672a[_0x51152d(0x1ee)]===0x0)throw new Error(_0x51152d(0x303));try{return(await this[_0x51152d(0x751)](_0x2083db)['insertMany'](_0x10672a))[_0x51152d(0x1ee)];}catch(_0x31f601){throw console['error'](_0x51152d(0x743),_0x31f601),_0x31f601;}}async['deleteChat'](_0x4567e4,_0x136994){const _0x5d5044=a0_0x581af9;try{await this[_0x5d5044(0x751)](_0x136994)[_0x5d5044(0x27a)]({'_id':_0x4567e4});}catch(_0x3a4d5e){throw console[_0x5d5044(0x3cf)](_0x5d5044(0x4d2),_0x3a4d5e),_0x3a4d5e;}}},qt=class extends D{constructor(_0x344aeb,_0x467fbe,_0x3de232){const _0x3dc0df=a0_0x581af9;super(_0x467fbe),this['cacheContactModel']=_0x344aeb,this[_0x3dc0df(0x3f1)]=_0x467fbe,this[_0x3dc0df(0x264)]=_0x3de232;}async[a0_0x581af9(0x1b1)](_0x7e53f){const _0x465069=a0_0x581af9;if(_0x7e53f['length']!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0x465069(0x62d)]([..._0x7e53f]))['length']};}catch(_0x955607){return _0x955607;}}async['update'](_0x7968e4,_0x229ea0){const _0x87938f=a0_0x581af9;try{let _0x17bdb7=A(_0x7968e4[_0x87938f(0x5d0)]);return{'updatedCount':(await this[_0x87938f(0x818)][_0x87938f(0x6ad)](_0x17bdb7,{'$set':_0x229ea0}))[_0x87938f(0x84f)]};}catch(_0x266919){return console[_0x87938f(0x3cf)](_0x87938f(0x56e),_0x266919),{'error':_0x266919['toString']()};}}async[a0_0x581af9(0x779)](_0x3b4d9b){const _0xf00999=a0_0x581af9;try{let _0x2399ec={'_id':{'$in':_0x3b4d9b}};return await this['cacheContactModel'][_0xf00999(0x53f)](_0x2399ec)[_0xf00999(0x1ca)]();}catch(_0x444804){return console[_0xf00999(0x3cf)](_0xf00999(0x576),_0x444804),[];}}async[a0_0x581af9(0x5e1)](_0x1abc10){const _0x45e424=a0_0x581af9;try{return{'deletedCount':(await this['cacheContactModel']['deleteMany']({..._0x1abc10[_0x45e424(0x5d0)]}))[_0x45e424(0x285)]};}catch(_0xc5621a){return{'error':_0xc5621a?.[_0x45e424(0x658)]()};}}async['find'](_0xd37e2c){const _0x11408b=a0_0x581af9;try{let _0xcc2b76=A(_0xd37e2c[_0x11408b(0x5d0)]);return await this[_0x11408b(0x818)][_0x11408b(0x53f)](_0xcc2b76)[_0x11408b(0x812)](_0xd37e2c?.[_0x11408b(0x812)]??0x0)['lean']();}catch{return[];}}async['findOne'](_0x5a3d7a){const _0x4e1bb6=a0_0x581af9;try{let _0x21142f=A(_0x5a3d7a[_0x4e1bb6(0x5d0)]);return await this['cacheContactModel'][_0x4e1bb6(0x841)](_0x21142f)[_0x4e1bb6(0x1ca)]();}catch{return null;}}},Vt=class extends D{['getLabelModelForOwner'](_0x4161ea){return Ea(_0x4161ea);}async[a0_0x581af9(0x1b0)](_0x57369c,_0x1d7ef4,_0xf0d168,_0x5ba8f4){const _0x42f55b=a0_0x581af9;try{let _0xe1909f={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5ba8f4},_0x32acf6=this[_0x42f55b(0x34e)](_0xf0d168),_0x3e506d=A(_0x57369c[_0x42f55b(0x5d0)]);return await _0x32acf6[_0x42f55b(0x418)](_0x3e506d,{'$set':_0x1d7ef4},_0xe1909f);}catch(_0x383e38){return console['error'](_0x383e38),null;}}async[a0_0x581af9(0x53f)](_0x571156,_0x3ee3c1){const _0x4a8a1f=a0_0x581af9;try{let _0x66dd53=this[_0x4a8a1f(0x34e)](_0x3ee3c1),_0x37cddf=A(_0x571156[_0x4a8a1f(0x5d0)]);return await _0x66dd53[_0x4a8a1f(0x53f)](_0x37cddf);}catch(_0x176c01){console[_0x4a8a1f(0x3cf)](_0x176c01);}}async[a0_0x581af9(0x5e1)](_0x360bb7,_0x2375b4){const _0x54056e=a0_0x581af9;try{let _0x3aebb8=this[_0x54056e(0x34e)](_0x2375b4),_0xfdb3f2=A(_0x360bb7[_0x54056e(0x5d0)]);await _0x3aebb8[_0x54056e(0x6dd)](_0xfdb3f2);}catch(_0x2cce57){console[_0x54056e(0x3cf)](_0x2cce57);}}async[a0_0x581af9(0x527)](_0x44791a){const _0x3678ae=a0_0x581af9;try{return await this['getLabelModelForOwner'](_0x44791a)[_0x3678ae(0x416)][_0x3678ae(0x1fd)](),{'success':!0x0};}catch(_0x192896){return console[_0x3678ae(0x3cf)](_0x192896),{'success':!0x1,'error':_0x192896};}}},Bt=class{constructor(_0x13e3d6){this['waMonitor']=_0x13e3d6;}async[a0_0x581af9(0x346)]({instanceName:_0x441f70},_0x2c686a){const _0xcd540e=a0_0x581af9;return await this['waMonitor'][_0xcd540e(0x3e8)][_0x441f70][_0xcd540e(0x346)](_0x2c686a);}async[a0_0x581af9(0x208)]({instanceName:_0x4e8c68},_0x319962){const _0x49a726=a0_0x581af9;return await this[_0x49a726(0x613)][_0x49a726(0x3e8)][_0x4e8c68]['whatsappNumber'](_0x319962);}async[a0_0x581af9(0x57a)]({instanceName:_0xa6172e},_0x14c0d5){const _0x4b358a=a0_0x581af9;return await this['waMonitor'][_0x4b358a(0x3e8)][_0xa6172e]['importChats'](_0x14c0d5);}async['readMessage']({instanceName:_0x3722c2},_0x48e0d6){const _0x3bd3eb=a0_0x581af9;return await this[_0x3bd3eb(0x613)][_0x3bd3eb(0x3e8)][_0x3722c2][_0x3bd3eb(0x778)](_0x48e0d6);}async[a0_0x581af9(0x507)]({instanceName:_0x4508ed},_0x1f2d41){const _0x191c75=a0_0x581af9;return await this[_0x191c75(0x613)][_0x191c75(0x3e8)][_0x4508ed][_0x191c75(0x507)](_0x1f2d41);}async[a0_0x581af9(0x231)]({instanceName:_0x427a14},_0x656a38){const _0x2a5a1e=a0_0x581af9;return await this['waMonitor']['waInstances'][_0x427a14][_0x2a5a1e(0x231)](_0x656a38);}async[a0_0x581af9(0x45e)]({instanceName:_0x20c9be},_0x33e346){const _0x45fc4b=a0_0x581af9;return await this[_0x45fc4b(0x613)]['waInstances'][_0x20c9be][_0x45fc4b(0x5d7)](_0x33e346[_0x45fc4b(0x557)]);}async[a0_0x581af9(0x7d9)]({instanceName:_0x296a3d},_0x53f08a){const _0x45eefb=a0_0x581af9;return await this['waMonitor'][_0x45eefb(0x3e8)][_0x296a3d]['fetchProfile'](_0x53f08a['number']);}async[a0_0x581af9(0x420)]({instanceName:_0x2e2be2},_0x12fa9a){const _0x3c6079=a0_0x581af9;return await this[_0x3c6079(0x613)][_0x3c6079(0x3e8)][_0x2e2be2]['updatePresence'](_0x12fa9a);}async[a0_0x581af9(0x588)]({instanceName:_0x470aa3},_0x45fadf){const _0x32b985=a0_0x581af9;return await this[_0x32b985(0x613)][_0x32b985(0x3e8)][_0x470aa3]['fetchContacts'](_0x45fadf);}async[a0_0x581af9(0x30f)]({instanceName:_0x691f54},_0x597bdf){const _0x2a377c=a0_0x581af9;return await this[_0x2a377c(0x613)][_0x2a377c(0x3e8)][_0x691f54][_0x2a377c(0x30f)](_0x597bdf);}async[a0_0x581af9(0x4f9)]({instanceName:_0x51c641},_0x70d5c5){const _0x5e39f=a0_0x581af9;return await this['waMonitor'][_0x5e39f(0x3e8)][_0x51c641][_0x5e39f(0x4f9)](_0x70d5c5);}async[a0_0x581af9(0x54d)]({instanceName:_0x18fd50}){const _0x17e681=a0_0x581af9;return await this[_0x17e681(0x613)]['waInstances'][_0x18fd50][_0x17e681(0x54d)]();}async['fetchChats']({instanceName:_0x4ab77a}){const _0x252333=a0_0x581af9;return await this[_0x252333(0x613)][_0x252333(0x3e8)][_0x4ab77a][_0x252333(0x635)]();}async['fetchPrivacySettings']({instanceName:_0x4975b9}){const _0x4d8569=a0_0x581af9;return await this[_0x4d8569(0x613)][_0x4d8569(0x3e8)][_0x4975b9][_0x4d8569(0x7f8)]();}async[a0_0x581af9(0x773)]({instanceName:_0x572283},_0x3ec080){const _0x2332fa=a0_0x581af9;return await this[_0x2332fa(0x613)][_0x2332fa(0x3e8)][_0x572283][_0x2332fa(0x773)](_0x3ec080);}async[a0_0x581af9(0x5a6)]({instanceName:_0x1d66d4},_0x324ac7){const _0x35f40e=a0_0x581af9;return await this[_0x35f40e(0x613)]['waInstances'][_0x1d66d4][_0x35f40e(0x5a6)](_0x324ac7[_0x35f40e(0x557)]);}async[a0_0x581af9(0x520)]({instanceName:_0x106ac5},_0x5e7088){const _0x3a0516=a0_0x581af9;return await this[_0x3a0516(0x613)][_0x3a0516(0x3e8)][_0x106ac5][_0x3a0516(0x520)](_0x5e7088['name']);}async[a0_0x581af9(0x753)]({instanceName:_0xdaf2e2},_0x38b782){const _0x2edae9=a0_0x581af9;return await this['waMonitor']['waInstances'][_0xdaf2e2][_0x2edae9(0x753)](_0x38b782[_0x2edae9(0x2e9)]);}async[a0_0x581af9(0x3b0)]({instanceName:_0x3f6b80},_0x199103){const _0x3cfb06=a0_0x581af9;return await this[_0x3cfb06(0x613)][_0x3cfb06(0x3e8)][_0x3f6b80]['updateProfilePicture'](_0x199103[_0x3cfb06(0x6e5)]);}async[a0_0x581af9(0x3c1)]({instanceName:_0x1e42a2},_0x51a9ad){const _0x1b66cc=a0_0x581af9;return await this[_0x1b66cc(0x613)][_0x1b66cc(0x3e8)][_0x1e42a2][_0x1b66cc(0x3c1)]();}},Ps=require(a0_0x581af9(0x6ec)),Gt=class c{constructor(_0x303170,_0x30f483,_0x244b04,_0x734474,_0x28771d){const _0x54e846=a0_0x581af9;this['waMonitor']=_0x303170,this['configService']=_0x30f483,this[_0x54e846(0x456)]=_0x244b04,this[_0x54e846(0x67a)]=_0x734474,this[_0x54e846(0x60d)]=_0x28771d,this[_0x54e846(0x542)]=new v(c[_0x54e846(0x428)]);}async['createInstance']({instanceName:_0x2afcf3,apikey:_0x1370e0,number:_0x3dbdf2,proxy:_0x372bec=!0x0}){const _0x24de6f=a0_0x581af9;try{let _0x15cc71=new be(this[_0x24de6f(0x3f1)],this[_0x24de6f(0x67a)],this['repository']);_0x15cc71[_0x24de6f(0x41a)]=_0x2afcf3,this['waMonitor'][_0x24de6f(0x3e8)][_0x15cc71[_0x24de6f(0x41a)]]=_0x15cc71;let _0x3b6432={};_0x1370e0?(await this[_0x24de6f(0x456)]['auth'][_0x24de6f(0x5f0)]({'apikey':_0x1370e0},_0x2afcf3),_0x3b6432[_0x24de6f(0x626)]=_0x1370e0):_0x3b6432=await this[_0x24de6f(0x60d)][_0x24de6f(0x4fb)]({'instanceName':_0x15cc71[_0x24de6f(0x41a)]});let _0x4a9294;if(_0x3dbdf2){if(_0x4a9294=await this[_0x24de6f(0x206)](_0x3dbdf2),_0x4a9294[_0x24de6f(0x3cf)])throw new I(_0x4a9294[_0x24de6f(0x3cf)][_0x24de6f(0x658)]());_0x3dbdf2=_0x4a9294[_0x24de6f(0x557)];}let _0x26987e;return await _0x15cc71[_0x24de6f(0x583)](_0x3dbdf2),await(0x0,Ps[_0x24de6f(0x4d1)])(0x7d0),_0x26987e=_0x15cc71[_0x24de6f(0x44d)],{'instance':{'instanceName':_0x15cc71[_0x24de6f(0x41a)],'status':_0x24de6f(0x5f1)},'hash':_0x3b6432,'qrcode':_0x26987e};}catch(_0x46b566){throw this[_0x24de6f(0x542)][_0x24de6f(0x3cf)](_0x46b566),_0x46b566;}}async[a0_0x581af9(0x49e)]({instanceName:_0x7988ed,number:_0x22a0d7=null}){const _0x4f5f48=a0_0x581af9;try{let _0x1b24f9=this['waMonitor'][_0x4f5f48(0x3e8)][_0x7988ed];switch(_0x1b24f9?.[_0x4f5f48(0x6e8)]?.[_0x4f5f48(0x730)]){case _0x4f5f48(0x7f5):return await _0x1b24f9[_0x4f5f48(0x583)](_0x22a0d7),await(0x0,Ps[_0x4f5f48(0x4d1)])(0x7d0),_0x1b24f9[_0x4f5f48(0x44d)];case _0x4f5f48(0x46f):return _0x1b24f9['qrCode'];default:return await this[_0x4f5f48(0x4ea)]({'instanceName':_0x7988ed});}}catch(_0xdb43bd){this[_0x4f5f48(0x542)]['log'](_0xdb43bd);}}async['connectionState']({instanceName:_0x3fcd4d}){const _0x529280=a0_0x581af9;let _0x3fb9a1=this[_0x529280(0x613)][_0x529280(0x3e8)][_0x3fcd4d]['connectionStatus'],_0x1a6a4b=null;_0x3fb9a1[_0x529280(0x730)]===_0x529280(0x610)&&_0x3fcd4d&&(_0x1a6a4b=await this[_0x529280(0x613)]['instanceInfo'](_0x3fcd4d));let _0x13acb1=null;return _0x3fb9a1[_0x529280(0x730)]===_0x529280(0x46f)&&_0x3fcd4d&&(_0x13acb1=this['waMonitor'][_0x529280(0x3e8)][_0x3fcd4d][_0x529280(0x44d)]),{'instance':_0x3fcd4d,'connectionStatus':_0x3fb9a1,'instanceInfo':_0x1a6a4b,'qrcode':_0x13acb1};}async[a0_0x581af9(0x206)](_0x196636){const _0xd06ffc=a0_0x581af9;_0x196636=_0x196636[_0xd06ffc(0x614)](/\D/g,'');let _0x4f6b92=Object[_0xd06ffc(0x543)](this[_0xd06ffc(0x613)][_0xd06ffc(0x3e8)])['filter'](_0xe36d3c=>{const _0x182547=_0xd06ffc;let _0x32779b=this[_0x182547(0x613)][_0x182547(0x3e8)][_0xe36d3c];return _0x32779b&&_0x32779b['connectionStatus']&&_0x32779b[_0x182547(0x6e8)][_0x182547(0x730)]==='open';});if(_0x4f6b92[_0xd06ffc(0x1ee)]===0x0)return{'number':this['formatBRNumber'](_0x196636)};let _0x14b5af=Math[_0xd06ffc(0x813)](Math[_0xd06ffc(0x744)]()*_0x4f6b92[_0xd06ffc(0x1ee)]),_0x583d8f=_0x4f6b92[_0x14b5af];try{let _0x106ac8=(await this[_0xd06ffc(0x613)][_0xd06ffc(0x3e8)][_0x583d8f]['whatsappNumber']({'numbers':[_0x196636]}))[_0xd06ffc(0x71f)]();return _0x106ac8[_0xd06ffc(0x247)]?{'number':_0x106ac8[_0xd06ffc(0x7b9)][_0xd06ffc(0x614)](_0xd06ffc(0x6e9),'')}:{'number':_0x196636,'error':_0xd06ffc(0x1b4)};}catch(_0x3890bd){return this[_0xd06ffc(0x542)][_0xd06ffc(0x3cf)]('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x3890bd),{'number':_0x196636,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}[a0_0x581af9(0x7c2)](_0x50493b){const _0x10a6bc=a0_0x581af9;let _0x5a220c=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x10a6bc(0x6ac)](_0x50493b);if(_0x5a220c&&_0x5a220c[0x1]==='55'){let _0x2dc1b4=_0x5a220c[0x2],_0x38a2a3=_0x5a220c[0x3],_0x52eaf7=_0x5a220c[0x4];if(parseInt(_0x2dc1b4)>=0x1f&&_0x38a2a3==='9')return _0x5a220c[0x1]+_0x2dc1b4+_0x52eaf7;}return _0x50493b;}async['restartInstance']({instanceName:_0x49f023}){const _0x561cf8=a0_0x581af9;try{return this[_0x561cf8(0x613)]['waInstances'][_0x49f023]?.[_0x561cf8(0x1f1)]?.['ws']?.['close'](),{'status':_0x561cf8(0x37f),'error':!0x1,'response':{'message':'Instance\x20restarted'}};}catch(_0x521df7){this[_0x561cf8(0x542)][_0x561cf8(0x3cf)](_0x521df7);}}async[a0_0x581af9(0x567)]({instanceName:_0x526149}){const _0x33a0bd=a0_0x581af9;return _0x526149?this['waMonitor'][_0x33a0bd(0x6b9)](_0x526149):this[_0x33a0bd(0x613)][_0x33a0bd(0x6b9)]();}async[a0_0x581af9(0x389)]({instanceName:_0x389e9c}){const _0x4d6723=a0_0x581af9;try{return await this[_0x4d6723(0x613)][_0x4d6723(0x3e8)][_0x389e9c]?.['client']?.['logout']('Log\x20out\x20instance:\x20'+_0x389e9c),{'error':!0x1,'message':'Instance\x20logged\x20out'};}catch(_0x2c36c7){throw new I(_0x2c36c7[_0x4d6723(0x658)]());}}async[a0_0x581af9(0x6f7)]({instanceName:_0x1b2ad5}){const _0x5b2be5=a0_0x581af9;if((await this[_0x5b2be5(0x4ea)]({'instanceName':_0x1b2ad5}))[_0x5b2be5(0x6e8)][_0x5b2be5(0x730)]===_0x5b2be5(0x610))throw new w([_0x5b2be5(0x21f),_0x5b2be5(0x52e)]);try{return delete this['waMonitor']['waInstances'][_0x1b2ad5],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x330f5f){throw new w(_0x330f5f[_0x5b2be5(0x658)]());}}},ee=require(a0_0x581af9(0x7a8)),Wt=class{constructor(_0x3bbc29){const _0x1f46f5=a0_0x581af9;this[_0x1f46f5(0x613)]=_0x3bbc29;}async[a0_0x581af9(0x202)]({instanceName:_0x1f0fde},_0x444658){const _0x51d6cc=a0_0x581af9;return await this['waMonitor'][_0x51d6cc(0x3e8)][_0x1f0fde][_0x51d6cc(0x3d9)](_0x444658);}async['sendMenu']({instanceName:_0x169a4b},_0x1be06c){const _0x3d6506=a0_0x581af9;return await this['waMonitor'][_0x3d6506(0x3e8)][_0x169a4b]['menuMessage'](_0x1be06c);}async[a0_0x581af9(0x616)]({instanceName:_0x38056b},_0x1a68ec){const _0x29011f=a0_0x581af9;if((0x0,ee[_0x29011f(0x57f)])(_0x1a68ec?.['mediaMessage']?.[_0x29011f(0x541)])&&!_0x1a68ec?.['mediaMessage']?.[_0x29011f(0x355)])throw new w(_0x29011f(0x226));if((0x0,ee[_0x29011f(0x4d5)])(_0x1a68ec?.['mediaMessage']?.[_0x29011f(0x541)])||(0x0,ee['isBase64'])(_0x1a68ec?.[_0x29011f(0x7e2)]?.['media']))return await this[_0x29011f(0x613)]['waInstances'][_0x38056b]['mediaMessage'](_0x1a68ec);throw new w(_0x29011f(0x5d8));}async['sendSticker']({instanceName:_0x4f2fa2},_0x486fb3){const _0x241f18=a0_0x581af9;if((0x0,ee[_0x241f18(0x4d5)])(_0x486fb3[_0x241f18(0x783)][_0x241f18(0x2e6)])||(0x0,ee[_0x241f18(0x57f)])(_0x486fb3[_0x241f18(0x783)]['image']))return await this[_0x241f18(0x613)][_0x241f18(0x3e8)][_0x4f2fa2][_0x241f18(0x1e2)](_0x486fb3);throw new w(_0x241f18(0x5d8));}async[a0_0x581af9(0x5c5)]({instanceName:_0x7716c7},_0xbdea28){const _0x5ccb65=a0_0x581af9;if((0x0,ee[_0x5ccb65(0x4d5)])(_0xbdea28[_0x5ccb65(0x3ce)]['audio'])||(0x0,ee['isBase64'])(_0xbdea28['audioMessage'][_0x5ccb65(0x7ba)]))return await this[_0x5ccb65(0x613)][_0x5ccb65(0x3e8)][_0x7716c7][_0x5ccb65(0x4b7)](_0xbdea28);throw new w(_0x5ccb65(0x5d8));}async[a0_0x581af9(0x829)]({instanceName:_0x36b3d0},_0x5e3fe0){const _0x5ea63c=a0_0x581af9;if((0x0,ee[_0x5ea63c(0x57f)])(_0x5e3fe0[_0x5ea63c(0x65c)][_0x5ea63c(0x7e2)]?.[_0x5ea63c(0x541)])&&!_0x5e3fe0[_0x5ea63c(0x65c)][_0x5ea63c(0x7e2)]?.[_0x5ea63c(0x355)])throw new w(_0x5ea63c(0x226));return await this[_0x5ea63c(0x613)][_0x5ea63c(0x3e8)][_0x36b3d0]['buttonMessage'](_0x5e3fe0);}async['sendLocation']({instanceName:_0x4b716a},_0xad244c){const _0x156f7c=a0_0x581af9;return await this[_0x156f7c(0x613)][_0x156f7c(0x3e8)][_0x4b716a][_0x156f7c(0x485)](_0xad244c);}async[a0_0x581af9(0x801)]({instanceName:_0x56c7d0},_0x32c602){const _0x15df91=a0_0x581af9;return await this[_0x15df91(0x613)][_0x15df91(0x3e8)][_0x56c7d0][_0x15df91(0x69b)](_0x32c602);}async['sendList']({instanceName:_0x4bcbe7},_0x279f9b){const _0x5c5e1a=a0_0x581af9;return await this[_0x5c5e1a(0x613)][_0x5c5e1a(0x3e8)][_0x4bcbe7]['listMessage'](_0x279f9b);}async[a0_0x581af9(0x587)]({instanceName:_0x8a9558},_0x389a72){const _0x256073=a0_0x581af9;return await this['waMonitor'][_0x256073(0x3e8)][_0x8a9558][_0x256073(0x547)](_0x389a72);}async[a0_0x581af9(0x360)]({instanceName:_0x4ef371},_0xbea9a1){const _0x1bcbf4=a0_0x581af9;if(!_0xbea9a1[_0x1bcbf4(0x51b)][_0x1bcbf4(0x58d)][_0x1bcbf4(0x473)](/[^\(\)\w\sà-ú"-\+]+/))throw new w('\x22reaction\x22\x20must\x20be\x20an\x20emoji');return await this[_0x1bcbf4(0x613)]['waInstances'][_0x4ef371][_0x1bcbf4(0x51b)](_0xbea9a1);}async['sendStatus']({instanceName:_0x593702},_0x3d44b8){const _0x42e430=a0_0x581af9;return await this[_0x42e430(0x613)]['waInstances'][_0x593702][_0x42e430(0x4ef)](_0x3d44b8);}},Dr=require(a0_0x581af9(0x6f1)),$s=require('uuid'),zt=class c{constructor(_0x1f5b20,_0x3f2f7c,_0x4cae41){const _0x55810d=a0_0x581af9;this[_0x55810d(0x3f1)]=_0x1f5b20,this[_0x55810d(0x613)]=_0x3f2f7c,this[_0x55810d(0x456)]=_0x4cae41,this['logger']=new v(c[_0x55810d(0x428)]);}async[a0_0x581af9(0x4fd)](_0x32bd4d){const _0x222dab=a0_0x581af9;let _0x33303c=this[_0x222dab(0x3f1)]['get'](_0x222dab(0x38b))[_0x222dab(0x2a6)],_0x18e3e3=(0x0,Dr[_0x222dab(0x387)])({'instanceName':_0x32bd4d[_0x222dab(0x41a)],'apiName':Ze,'tokenId':(0x0,$s['v4'])()},_0x33303c['SECRET'],{'expiresIn':_0x33303c[_0x222dab(0x2da)],'encoding':'utf8','subject':_0x222dab(0x732)}),_0xdd4a90=await this[_0x222dab(0x456)][_0x222dab(0x429)][_0x222dab(0x5f0)]({'jwt':_0x18e3e3},_0x32bd4d[_0x222dab(0x41a)]);if(_0xdd4a90[_0x222dab(0x3cf)])throw this[_0x222dab(0x542)]['error']({'localError':c['name']+_0x222dab(0x741),'error':_0xdd4a90['error']}),new w('Authentication\x20error',_0xdd4a90['error']?.[_0x222dab(0x658)]());return{'jwt':_0x18e3e3};}async[a0_0x581af9(0x626)](_0x12f81a){const _0x15f995=a0_0x581af9;let _0xcd3b3e=(0x0,$s['v4'])()[_0x15f995(0x646)](),_0x161159=await this[_0x15f995(0x456)][_0x15f995(0x429)][_0x15f995(0x5f0)]({'apikey':_0xcd3b3e},_0x12f81a['instanceName']);if(_0x161159[_0x15f995(0x3cf)])throw this['logger']['error']({'localError':c[_0x15f995(0x428)]+'.jwt','error':_0x161159['error']}),new w(_0x15f995(0x6a2),_0x161159[_0x15f995(0x3cf)]?.['toString']());return{'apikey':_0xcd3b3e};}async[a0_0x581af9(0x4fb)](_0xa69dc3){const _0x198942=a0_0x581af9;let _0x4bef24=this[_0x198942(0x3f1)]['get'](_0x198942(0x38b));return await this[_0x4bef24[_0x198942(0x1e9)]](_0xa69dc3);}},Ht=class{constructor(_0x2be89d){const _0x58b760=a0_0x581af9;this[_0x58b760(0x613)]=_0x2be89d;}async['createGroup'](_0x64183,_0x4369f7){const _0x44bb95=a0_0x581af9;return await this[_0x44bb95(0x613)]['waInstances'][_0x64183['instanceName']][_0x44bb95(0x7c8)](_0x4369f7);}async[a0_0x581af9(0x47c)](_0x357e42,_0x144380){const _0x3950b0=a0_0x581af9;return await this[_0x3950b0(0x613)][_0x3950b0(0x3e8)][_0x357e42[_0x3950b0(0x41a)]]['updateGroupPicture'](_0x144380);}async[a0_0x581af9(0x2d9)](_0x4783a3,_0x482358){const _0x10416b=a0_0x581af9;return await this[_0x10416b(0x613)][_0x10416b(0x3e8)][_0x4783a3[_0x10416b(0x41a)]]['groupDesc'](_0x482358);}async[a0_0x581af9(0x48c)](_0x39fb9f,_0x1f6669){const _0x591d45=a0_0x581af9;return await this[_0x591d45(0x613)][_0x591d45(0x3e8)][_0x39fb9f['instanceName']][_0x591d45(0x48c)](_0x1f6669);}async['groupBetterSetting'](_0x17a2cb,_0x2e5a2d){const _0x5810fe=a0_0x581af9;return await this['waMonitor'][_0x5810fe(0x3e8)][_0x17a2cb[_0x5810fe(0x41a)]][_0x5810fe(0x406)](_0x2e5a2d);}async['groupSetting'](_0x4be815,_0x216612){const _0x4cd038=a0_0x581af9;return await this[_0x4cd038(0x613)][_0x4cd038(0x3e8)][_0x4be815[_0x4cd038(0x41a)]]['groupSetting'](_0x216612);}async['findGroupInfo'](_0x421d3b,_0x4195db){const _0x4aa241=a0_0x581af9;return await this[_0x4aa241(0x613)][_0x4aa241(0x3e8)][_0x421d3b[_0x4aa241(0x41a)]]['findGroup'](_0x4195db);}async[a0_0x581af9(0x1cd)](_0x5bcf2d){const _0x4827b1=a0_0x581af9;return await this['waMonitor'][_0x4827b1(0x3e8)][_0x5bcf2d[_0x4827b1(0x41a)]][_0x4827b1(0x1cd)]();}async[a0_0x581af9(0x5ee)](_0x3868e2,_0x44abea){const _0x524c1e=a0_0x581af9;return await this[_0x524c1e(0x613)][_0x524c1e(0x3e8)][_0x3868e2[_0x524c1e(0x41a)]]['inviteCode'](_0x44abea);}async[a0_0x581af9(0x680)](_0x33fd03,_0x40024f){const _0x521841=a0_0x581af9;return await this[_0x521841(0x613)]['waInstances'][_0x33fd03[_0x521841(0x41a)]][_0x521841(0x680)](_0x40024f);}async[a0_0x581af9(0x7ea)](_0x105052,_0x3dd7ee){const _0x23f83a=a0_0x581af9;return await this[_0x23f83a(0x613)][_0x23f83a(0x3e8)][_0x105052[_0x23f83a(0x41a)]][_0x23f83a(0x7ea)](_0x3dd7ee);}async[a0_0x581af9(0x3a4)](_0x5c7c7f,_0x159a84){const _0x57a32d=a0_0x581af9;return await this['waMonitor']['waInstances'][_0x5c7c7f[_0x57a32d(0x41a)]][_0x57a32d(0x3a4)](_0x159a84);}async[a0_0x581af9(0x464)](_0x26f4d9,_0x588d6c){const _0x47c33f=a0_0x581af9;return await this[_0x47c33f(0x613)][_0x47c33f(0x3e8)][_0x26f4d9[_0x47c33f(0x41a)]][_0x47c33f(0x464)](_0x588d6c);}async[a0_0x581af9(0x1cb)](_0x51261d,_0x17f28a){const _0x1899cc=a0_0x581af9;return await this[_0x1899cc(0x613)][_0x1899cc(0x3e8)][_0x51261d[_0x1899cc(0x41a)]]['updateGParticipant'](_0x17f28a);}async[a0_0x581af9(0x6cb)](_0x48e92a,_0x41a288){const _0x4c3321=a0_0x581af9;return await this[_0x4c3321(0x613)]['waInstances'][_0x48e92a['instanceName']][_0x4c3321(0x6cb)](_0x41a288);}async[a0_0x581af9(0x5b1)](_0xcb6986,_0x61b103){const _0x342a7e=a0_0x581af9;return await this[_0x342a7e(0x613)][_0x342a7e(0x3e8)][_0xcb6986[_0x342a7e(0x41a)]][_0x342a7e(0x5b1)](_0x61b103);}},Kt=class{constructor(_0x24ec7b){this['waMonitor']=_0x24ec7b;}[a0_0x581af9(0x5f0)](_0x95f96c,_0x25ee3f){const _0x4474ff=a0_0x581af9;return this[_0x4474ff(0x613)][_0x4474ff(0x3e8)][_0x95f96c[_0x4474ff(0x41a)]][_0x4474ff(0x398)](_0x25ee3f);}async[a0_0x581af9(0x53f)](_0x442e51){const _0x107ddd=a0_0x581af9;try{return await this[_0x107ddd(0x613)][_0x107ddd(0x3e8)][_0x442e51[_0x107ddd(0x41a)]][_0x107ddd(0x2f6)]();}catch{return{'enabled':null,'url':''};}}},fp=new v(a0_0x581af9(0x2ce)),Qt=class{constructor(_0x1433cc){const _0x506fee=a0_0x581af9;this[_0x506fee(0x613)]=_0x1433cc;}async[a0_0x581af9(0x7f0)](_0x50f023,_0x5cbce2){const _0x35254e=a0_0x581af9;return await this[_0x35254e(0x613)][_0x35254e(0x3e8)][_0x50f023['instanceName']][_0x35254e(0x7f0)](_0x5cbce2);}async[a0_0x581af9(0x1d7)](_0x2d3058){const _0x3d9d0f=a0_0x581af9;return await this[_0x3d9d0f(0x613)]['waInstances'][_0x2d3058['instanceName']][_0x3d9d0f(0x1d7)]();}async[a0_0x581af9(0x2c0)](_0x301e66){const _0x4aaf89=a0_0x581af9;return await this[_0x4aaf89(0x613)][_0x4aaf89(0x3e8)][_0x301e66[_0x4aaf89(0x41a)]][_0x4aaf89(0x2c0)]();}async['getAutomateSystem'](_0x14dd69){const _0x3f51b5=a0_0x581af9;return await this[_0x3f51b5(0x613)][_0x3f51b5(0x3e8)][_0x14dd69[_0x3f51b5(0x41a)]][_0x3f51b5(0x36e)]();}async[a0_0x581af9(0x7a3)](_0xfcbf4e,_0x2423f8){const _0xa1564b=a0_0x581af9;return await this[_0xa1564b(0x613)][_0xa1564b(0x3e8)][_0xfcbf4e[_0xa1564b(0x41a)]][_0xa1564b(0x7a3)](_0x2423f8);}async[a0_0x581af9(0x4c8)](_0x27dcb5,_0x3c6202){const _0x583c6f=a0_0x581af9;return await this['waMonitor'][_0x583c6f(0x3e8)][_0x27dcb5[_0x583c6f(0x41a)]][_0x583c6f(0x4c8)](_0x3c6202);}async[a0_0x581af9(0x70b)](_0x5a0a97,_0x385146){const _0x3d8504=a0_0x581af9;return await this['waMonitor'][_0x3d8504(0x3e8)][_0x5a0a97[_0x3d8504(0x41a)]][_0x3d8504(0x70b)](_0x385146);}async['startFlow'](_0x50e6f5,_0x2137d3){const _0x1512ff=a0_0x581af9;return await this[_0x1512ff(0x613)][_0x1512ff(0x3e8)][_0x50e6f5[_0x1512ff(0x41a)]][_0x1512ff(0x280)](_0x2137d3);}async[a0_0x581af9(0x758)](_0x3be9f4,_0x2b04dd){return await this['waMonitor']['waInstances'][_0x3be9f4['instanceName']]['getConversation'](_0x2b04dd);}async['fetchConversation'](_0x378096,_0xd5846a){const _0x2c7ac8=a0_0x581af9;return await this['waMonitor'][_0x2c7ac8(0x3e8)][_0x378096['instanceName']]['fetchConversation'](_0xd5846a);}async[a0_0x581af9(0x830)](_0x1706a5,_0x2c4177){const _0x3a3600=a0_0x581af9;return await this[_0x3a3600(0x613)][_0x3a3600(0x3e8)][_0x1706a5[_0x3a3600(0x41a)]][_0x3a3600(0x830)](_0x2c4177);}async[a0_0x581af9(0x1ef)](_0x5ad23b,_0xfb8da9){const _0x431c59=a0_0x581af9;return await this[_0x431c59(0x613)]['waInstances'][_0x5ad23b['instanceName']][_0x431c59(0x1ef)](_0xfb8da9);}async['getFlow'](_0x2030fb,_0x35b295){const _0x19f87b=a0_0x581af9;return await this[_0x19f87b(0x613)][_0x19f87b(0x3e8)][_0x2030fb[_0x19f87b(0x41a)]][_0x19f87b(0x58b)](_0x35b295['name']);}async[a0_0x581af9(0x1ea)](_0x136868,_0x413232){const _0x52f1cb=a0_0x581af9;return await this[_0x52f1cb(0x613)][_0x52f1cb(0x3e8)][_0x136868[_0x52f1cb(0x41a)]]['createFlow'](_0x413232);}async[a0_0x581af9(0x789)](_0x4628ca,_0x560dad){const _0x5e9234=a0_0x581af9;return await this[_0x5e9234(0x613)][_0x5e9234(0x3e8)][_0x4628ca[_0x5e9234(0x41a)]][_0x5e9234(0x789)](_0x560dad);}async['editFlowBlock'](_0x5eb651,_0x3528a2){const _0x388261=a0_0x581af9;return await this['waMonitor'][_0x388261(0x3e8)][_0x5eb651[_0x388261(0x41a)]]['editFlowBlock'](_0x3528a2);}async[a0_0x581af9(0x311)](_0x56248b,_0x342022){const _0x147517=a0_0x581af9;return await this['waMonitor']['waInstances'][_0x56248b['instanceName']][_0x147517(0x311)](_0x342022);}async[a0_0x581af9(0x377)](_0x429b0d,_0x4a9218){const _0x3c1316=a0_0x581af9;return await this[_0x3c1316(0x613)][_0x3c1316(0x3e8)][_0x429b0d[_0x3c1316(0x41a)]][_0x3c1316(0x377)](_0x4a9218);}async['editFlowCondition'](_0x501823,_0x2c5d22){const _0x1cedb4=a0_0x581af9;return await this[_0x1cedb4(0x613)][_0x1cedb4(0x3e8)][_0x501823[_0x1cedb4(0x41a)]][_0x1cedb4(0x651)](_0x2c5d22);}async['editFlowVaredit'](_0x44604a,_0xb4e68a){const _0x3302a0=a0_0x581af9;return await this[_0x3302a0(0x613)][_0x3302a0(0x3e8)][_0x44604a[_0x3302a0(0x41a)]][_0x3302a0(0x4bb)](_0xb4e68a);}async[a0_0x581af9(0x2fa)](_0x261530,_0x3dfeb3){const _0x69b5e3=a0_0x581af9;return await this[_0x69b5e3(0x613)]['waInstances'][_0x261530[_0x69b5e3(0x41a)]]['editFlowVariable'](_0x3dfeb3);}async[a0_0x581af9(0x655)](_0x42bb51,_0x2fd6c4){const _0x4a6720=a0_0x581af9;return await this[_0x4a6720(0x613)][_0x4a6720(0x3e8)][_0x42bb51['instanceName']][_0x4a6720(0x655)](_0x2fd6c4[_0x4a6720(0x428)]);}async[a0_0x581af9(0x7d6)](_0x3dbc6d){const _0x2ac9d1=a0_0x581af9;return await this[_0x2ac9d1(0x613)][_0x2ac9d1(0x3e8)][_0x3dbc6d[_0x2ac9d1(0x41a)]]['allFlows']();}},Yt=class{constructor(_0x39f55e){this['webhookService']=_0x39f55e;}async[a0_0x581af9(0x6e3)](_0x36a712,_0xf203eb){const _0x5d9d08=a0_0x581af9;return this[_0x5d9d08(0x4db)][_0x5d9d08(0x5f0)](_0x36a712,_0xf203eb);}async['findWebhook'](_0x32baf6){const _0x24daae=a0_0x581af9;return this[_0x24daae(0x4db)][_0x24daae(0x53f)](_0x32baf6);}},Xt=class extends D{constructor(_0x16586b,_0x1c4c7c){const _0x29e599=a0_0x581af9;super(_0x1c4c7c),this[_0x29e599(0x26a)]=_0x16586b,this['configService']=_0x1c4c7c;}async[a0_0x581af9(0x5f0)](_0x45b28a,_0x27210e){const _0xdf5792=a0_0x581af9;try{return this[_0xdf5792(0x259)][_0xdf5792(0x54e)]?{'insertCount':(await this[_0xdf5792(0x26a)][_0xdf5792(0x776)]({'_id':_0x27210e},{..._0x45b28a},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x27c378){return _0x27c378;}}async['delete'](_0x10d4eb){const _0xa07325=a0_0x581af9;try{if(this[_0xa07325(0x259)][_0xa07325(0x54e)]){await this[_0xa07325(0x26a)][_0xa07325(0x27a)]({'_id':_0x10d4eb});return;}}catch(_0x1c34a1){return{'error':_0x1c34a1};}}async[a0_0x581af9(0x53f)](_0x1de5a5){const _0x126762=a0_0x581af9;try{if(this[_0x126762(0x259)][_0x126762(0x54e)])return await this[_0x126762(0x26a)][_0x126762(0x841)]({'_id':_0x1de5a5});}catch{return{};}}},Zt=class extends D{constructor(_0x29c34a,_0x26f356){const _0x2efc69=a0_0x581af9;super(_0x26f356),this[_0x2efc69(0x602)]=_0x29c34a,this[_0x2efc69(0x3f1)]=_0x26f356,this[_0x2efc69(0x429)]=_0x26f356[_0x2efc69(0x488)](_0x2efc69(0x38b));}async[a0_0x581af9(0x5f0)](_0x237a23,_0x51d29e){const _0x1030a0=a0_0x581af9;try{if(this[_0x1030a0(0x259)][_0x1030a0(0x54e)])return{'insertCount':(await this[_0x1030a0(0x602)]['updateOne']({'_id':_0x51d29e},{'$set':{..._0x237a23}},{'upsert':!0x0}))[_0x1030a0(0x84f)]};}catch(_0x55513b){return{'error':_0x55513b};}}async['updateAll'](_0x4da73c,_0x4803fb){const _0x310291=a0_0x581af9;try{if(this[_0x310291(0x259)][_0x310291(0x54e)])return{'insertCount':(await this[_0x310291(0x602)]['updateMany'](_0x4da73c,{'$set':_0x4803fb},{'upsert':!0x1}))[_0x310291(0x84f)]};throw new Error(_0x310291(0x1c5));}catch(_0x3e170e){return{'error':_0x3e170e};}}async[a0_0x581af9(0x6dd)](_0x490e0e){const _0x374e2e=a0_0x581af9;try{if(this[_0x374e2e(0x259)][_0x374e2e(0x54e)])return{'insertCount':(await this[_0x374e2e(0x602)]['deleteMany'](_0x490e0e))['deletedCount']};throw new Error('Database\x20is\x20not\x20enabled');}catch(_0x202ea2){return{'error':_0x202ea2};}}async[a0_0x581af9(0x5e1)](_0x48f1bc){const _0x566ff8=a0_0x581af9;try{if(this['dbSettings'][_0x566ff8(0x54e)]){await this[_0x566ff8(0x602)][_0x566ff8(0x27a)]({'_id':_0x48f1bc});return;}}catch(_0x302a74){return{'error':_0x302a74};}}async['find'](_0x4ddb7c){const _0x4f3dfc=a0_0x581af9;try{if(this[_0x4f3dfc(0x259)][_0x4f3dfc(0x54e)])return await this[_0x4f3dfc(0x602)][_0x4f3dfc(0x841)]({'_id':_0x4ddb7c});}catch{return{};}}async[a0_0x581af9(0x716)](){const _0x24ca06=a0_0x581af9;try{if(this[_0x24ca06(0x259)][_0x24ca06(0x54e)])return await this[_0x24ca06(0x602)]['find']();}catch{return[];}}},es=class extends D{['getFlowModelForOwner'](_0x533c45){return ha(_0x533c45);}async[a0_0x581af9(0x79f)](_0x2cb4fb){const _0xfb1743=a0_0x581af9;try{let _0x2b9c9e=ga,_0x422d6b=this[_0xfb1743(0x491)](_0x2cb4fb),_0x23b80c=await _0x2b9c9e[_0xfb1743(0x53f)]({'owner':_0x2cb4fb})[_0xfb1743(0x1ca)](),_0x4c1f18=[],_0x36a99f=[];for(let _0x3deebe of _0x23b80c)await _0x422d6b[_0xfb1743(0x4fe)](_0x3deebe[_0xfb1743(0x4e8)])[_0xfb1743(0x1ca)]()||(_0x4c1f18['push'](_0x3deebe),_0x36a99f[_0xfb1743(0x71d)](_0x3deebe[_0xfb1743(0x4e8)]));return _0x4c1f18[_0xfb1743(0x1ee)]>0x0&&await _0x422d6b[_0xfb1743(0x62d)](_0x4c1f18,{'ordered':!0x1}),{'success':!0x0};}catch(_0x54e222){return console['error'](_0xfb1743(0x43d),_0x54e222),{'success':!0x1,'error':_0x54e222};}}async[a0_0x581af9(0x5e1)](_0x405d04,_0x1482d7){const _0xae23c9=a0_0x581af9;try{let _0xd584a0=this[_0xae23c9(0x491)](_0x1482d7),_0x43c2ba=A(_0x405d04[_0xae23c9(0x5d0)]);return{'deletedCount':(await _0xd584a0[_0xae23c9(0x6dd)](_0x43c2ba))[_0xae23c9(0x285)]};}catch(_0x8805f1){return{'error':_0x8805f1?.[_0xae23c9(0x658)]()};}}async[a0_0x581af9(0x27a)](_0x2b032a,_0x51bd59){const _0x2274f4=a0_0x581af9;try{let _0x2baccc=this[_0x2274f4(0x491)](_0x51bd59),_0x33105d=A(_0x2b032a[_0x2274f4(0x5d0)]);return{'deletedCount':(await _0x2baccc[_0x2274f4(0x27a)](_0x33105d))[_0x2274f4(0x285)]};}catch(_0x234092){return{'error':_0x234092?.['toString']()};}}async[a0_0x581af9(0x776)](_0x49046f,_0xb7922f,_0x330a99){const _0x357572=a0_0x581af9;try{let _0x56de09=await this[_0x357572(0x491)](_0x330a99)[_0x357572(0x2e0)](_0x49046f,_0xb7922f,{'overwrite':!0x0,'new':!0x0});return _0x56de09||(console[_0x357572(0x3cf)](_0x357572(0x3a1),_0x49046f),null);}catch(_0x5185f5){return console[_0x357572(0x3cf)](_0x357572(0x1fe),_0x5185f5),null;}}async[a0_0x581af9(0x1b0)](_0x3c41d7,_0xa38c2a,_0x384b1c){const _0x13b0ae=a0_0x581af9;try{let _0x56095c=await this[_0x13b0ae(0x491)](_0x384b1c)['findById'](_0x3c41d7);return _0x56095c?(Object['assign'](_0x56095c,_0xa38c2a),await _0x56095c['save']()):(console[_0x13b0ae(0x3cf)]('Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:',_0x3c41d7),null);}catch(_0x30e0e4){return console[_0x13b0ae(0x3cf)]('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x30e0e4),null;}}async[a0_0x581af9(0x2b8)](_0xfd5375){const _0x5d9cc5=a0_0x581af9;try{let _0x5168b7=this[_0x5d9cc5(0x491)](_0xfd5375),_0x388142={'shareOwners':{'$exists':!0x1}},_0x5e3c67={'$set':{'shareOwners':[]}};return(await _0x5168b7[_0x5d9cc5(0x6ad)](_0x388142,_0x5e3c67))['modifiedCount'];}catch(_0x13b80e){return console['error'](_0x13b80e),0x0;}}async[a0_0x581af9(0x852)](_0x4369b5,_0x334f4b){const _0x3f8db8=a0_0x581af9;try{let _0x56e809=this['getFlowModelForOwner'](_0x334f4b);return await new _0x56e809(_0x4369b5)[_0x3f8db8(0x332)]();}catch(_0x34a385){return console[_0x3f8db8(0x3cf)](_0x3f8db8(0x366),_0x34a385),null;}}async[a0_0x581af9(0x6ad)](_0xa4ef5e,_0x3550b4,_0x328afb){const _0x4d5bee=a0_0x581af9;try{return{'modifiedCount':(await this[_0x4d5bee(0x491)](_0x328afb)[_0x4d5bee(0x6ad)](_0xa4ef5e,{'$set':_0x3550b4}))[_0x4d5bee(0x84f)]};}catch(_0x4bfabe){return console[_0x4d5bee(0x3cf)]('Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:',_0x4bfabe),{'error':_0x4bfabe};}}async[a0_0x581af9(0x716)](_0xd68710,_0x5a5c48){const _0x1a441d=a0_0x581af9;try{let _0x1d17e0=this[_0x1a441d(0x491)](_0x5a5c48),_0x3ea941=A(_0xd68710[_0x1a441d(0x5d0)]);return await _0x1d17e0[_0x1a441d(0x53f)](_0x3ea941)['limit'](_0xd68710?.['limit']??0x0)['lean']();}catch{return[];}}async['findOne'](_0x55d00a,_0x58e950){const _0x10af9b=a0_0x581af9;try{let _0x4ac7e6=this[_0x10af9b(0x491)](_0x58e950),_0x234648=A(_0x55d00a[_0x10af9b(0x5d0)]);return await _0x4ac7e6[_0x10af9b(0x841)](_0x234648)[_0x10af9b(0x1ca)]();}catch{return null;}}async[a0_0x581af9(0x527)](_0x21daaf){const _0x10bc6f=a0_0x581af9;try{return await this['getFlowModelForOwner'](_0x21daaf)[_0x10bc6f(0x416)][_0x10bc6f(0x1fd)](),{'success':!0x0};}catch(_0x4e0145){return console['error'](_0x4e0145),{'success':!0x1,'error':_0x4e0145};}}},ts=class extends D{['getConversationModelForOwner'](_0x3d06d3){return fa(_0x3d06d3);}async[a0_0x581af9(0x79f)](_0xd7eb56){const _0x3f800f=a0_0x581af9;try{let _0x479b66=wa,_0x1733f3=this[_0x3f800f(0x432)](_0xd7eb56),_0x1c7d60=await _0x479b66[_0x3f800f(0x53f)]({'owner':_0xd7eb56})[_0x3f800f(0x1ca)](),_0x549799=[],_0x2cfa6c=[];for(let _0x5e2641 of _0x1c7d60)await _0x1733f3['findById'](_0x5e2641['_id'])['lean']()||(_0x549799[_0x3f800f(0x71d)](_0x5e2641),_0x2cfa6c[_0x3f800f(0x71d)](_0x5e2641[_0x3f800f(0x4e8)]));return _0x549799[_0x3f800f(0x1ee)]>0x0&&await _0x1733f3['insertMany'](_0x549799,{'ordered':!0x1}),{'success':!0x0};}catch(_0x17f721){return console[_0x3f800f(0x3cf)]('Erro\x20ao\x20copiar\x20dados:',_0x17f721),{'success':!0x1,'error':_0x17f721};}}async[a0_0x581af9(0x1b1)](_0x22bb89){const _0x4ee785=a0_0x581af9;if(_0x22bb89['length']!==0x0)try{return{'insertCount':(await this['getConversationModelForOwner'](_0x22bb89[0x0][_0x4ee785(0x409)])['insertMany']([..._0x22bb89]))[_0x4ee785(0x1ee)]};}catch(_0x114a30){return _0x114a30;}}async[a0_0x581af9(0x5e1)](_0x33b940,_0x1e3858){const _0x17e636=a0_0x581af9;try{let _0xa3c0cb=this['getConversationModelForOwner'](_0x1e3858),_0xd7f999=A(_0x33b940['where']);return{'deletedCount':(await _0xa3c0cb[_0x17e636(0x6dd)](_0xd7f999))[_0x17e636(0x285)]};}catch(_0x2e5171){return{'error':_0x2e5171?.[_0x17e636(0x658)]()};}}async['deleteOne'](_0x48e8df,_0x28a481){const _0x4fbdf7=a0_0x581af9;try{let _0x31e5af=this[_0x4fbdf7(0x432)](_0x28a481),_0x2af653=A(_0x48e8df[_0x4fbdf7(0x5d0)]);return{'deletedCount':(await _0x31e5af[_0x4fbdf7(0x27a)](_0x2af653))['deletedCount']};}catch(_0x2b1b1e){return{'error':_0x2b1b1e?.['toString']()};}}async['update'](_0x1dfe31,_0x100beb){const _0x3b5521=a0_0x581af9;try{if(_0x1dfe31['length']===0x0)return;let _0x2e0c49=this[_0x3b5521(0x432)](_0x100beb),_0x43cad6=_0x1dfe31['map'](_0xd44342=>({'updateOne':{'filter':{'name':_0xd44342[_0x3b5521(0x428)],'owner':_0x100beb},'update':{..._0xd44342}}})),{modifiedCount:_0x27ff8a}=await _0x2e0c49[_0x3b5521(0x7cf)](_0x43cad6);return{'insertCount':_0x27ff8a};}catch{return;}}async[a0_0x581af9(0x6ad)](_0x46d5fa,_0x1aa789,_0x412fc8){const _0x4ad470=a0_0x581af9;try{return{'modifiedCount':(await this[_0x4ad470(0x432)](_0x412fc8)[_0x4ad470(0x6ad)](_0x46d5fa,{'$set':_0x1aa789}))[_0x4ad470(0x84f)]};}catch(_0x52f475){return console[_0x4ad470(0x3cf)](_0x4ad470(0x240),_0x52f475),{'error':_0x52f475};}}async[a0_0x581af9(0x1b0)](_0x44e2ef,_0x52c1c3,_0x34df88){const _0x159478=a0_0x581af9;try{return await this[_0x159478(0x432)](_0x34df88)['findOneAndUpdate']({'_id':_0x44e2ef},{'$set':_0x52c1c3},{'new':!0x0,'upsert':!0x0})[_0x159478(0x1ca)]();}catch(_0x409c23){return console[_0x159478(0x3cf)](_0x409c23),null;}}async[a0_0x581af9(0x53f)](_0x391b32,_0x372354){const _0x5c0203=a0_0x581af9;try{return await this[_0x5c0203(0x432)](_0x372354)['find'](_0x391b32)[_0x5c0203(0x555)]({'lastInteraction':-0x1})['lean']();}catch{return[];}}async['findOne'](_0x161781,_0xbc9994){const _0x95f5dd=a0_0x581af9;try{return await this[_0x95f5dd(0x432)](_0xbc9994)['findOne']({..._0x161781[_0x95f5dd(0x5d0)]})['lean']();}catch{return null;}}async[a0_0x581af9(0x527)](_0x260e32){const _0x5337a3=a0_0x581af9;try{return await this[_0x5337a3(0x432)](_0x260e32)[_0x5337a3(0x416)][_0x5337a3(0x1fd)](),{'success':!0x0};}catch(_0x59fc77){return console[_0x5337a3(0x3cf)](_0x59fc77),{'success':!0x1,'error':_0x59fc77};}}},ss=class extends D{[a0_0x581af9(0x296)](_0x54a63d){return ba(_0x54a63d);}async['copyDataToNewModel'](_0x2e3c8e){const _0x4861ff=a0_0x581af9;try{let _0x29a6ce=Sa,_0x56e659=this['getScheduleMessageModelForOwner'](_0x2e3c8e),_0x271fd6=await _0x29a6ce[_0x4861ff(0x53f)]({'owner':_0x2e3c8e})[_0x4861ff(0x1ca)](),_0xb1bae3=[],_0x5ce4dc=[];for(let _0x3faa27 of _0x271fd6)await _0x56e659['findById'](_0x3faa27[_0x4861ff(0x4e8)])[_0x4861ff(0x1ca)]()||(_0xb1bae3['push'](_0x3faa27),_0x5ce4dc[_0x4861ff(0x71d)](_0x3faa27[_0x4861ff(0x4e8)]));return _0xb1bae3[_0x4861ff(0x1ee)]>0x0&&await _0x56e659[_0x4861ff(0x62d)](_0xb1bae3,{'ordered':!0x1}),{'success':!0x0};}catch(_0x27e3b9){return console[_0x4861ff(0x3cf)](_0x4861ff(0x43d),_0x27e3b9),{'success':!0x1,'error':_0x27e3b9};}}async['createAndSave'](_0x3c174f,_0x3d1a66){const _0x947048=a0_0x581af9;try{let _0x4b2114=this['getScheduleMessageModelForOwner'](_0x3d1a66);return await new _0x4b2114(_0x3c174f)['save']();}catch(_0xabe749){return console['error'](_0x947048(0x366),_0xabe749),null;}}async['deleteOne'](_0x13d4b1,_0x8fd4ec){const _0xb05612=a0_0x581af9;try{return await this[_0xb05612(0x296)](_0x8fd4ec)['findByIdAndDelete'](_0x13d4b1),{};}catch(_0x1a370a){return{'error':_0x1a370a?.[_0xb05612(0x658)]()};}}async[a0_0x581af9(0x1b0)](_0x40f16d,_0x2d323c,_0x292ce8){const _0x1bdd59=a0_0x581af9;try{return await this[_0x1bdd59(0x296)](_0x292ce8)[_0x1bdd59(0x418)](_0x40f16d,{'$set':_0x2d323c},{'new':!0x0})[_0x1bdd59(0x1ca)]();}catch(_0x22b87d){return console[_0x1bdd59(0x3cf)](_0x1bdd59(0x70f),_0x22b87d),null;}}async[a0_0x581af9(0x3fa)](_0x150454,_0xf2c5bf,_0x2b9501){const _0x599c52=a0_0x581af9;try{return await this[_0x599c52(0x296)](_0x2b9501)[_0x599c52(0x2e0)](_0x150454,_0xf2c5bf,{'new':!0x0})[_0x599c52(0x1ca)]();}catch(_0x510604){return console[_0x599c52(0x3cf)](_0x599c52(0x70f),_0x510604),null;}}async['find'](_0x1744e9,_0x444fa7){const _0x2f3a58=a0_0x581af9;try{return await this[_0x2f3a58(0x296)](_0x444fa7)[_0x2f3a58(0x53f)](_0x1744e9[_0x2f3a58(0x5d0)])[_0x2f3a58(0x812)](_0x1744e9?.[_0x2f3a58(0x812)]??0x0)[_0x2f3a58(0x555)]({'when':0x1})[_0x2f3a58(0x1ca)]();}catch{return[];}}async[a0_0x581af9(0x841)](_0x494e52,_0x5ec40b){const _0x4e0832=a0_0x581af9;try{return await this[_0x4e0832(0x296)](_0x5ec40b)[_0x4e0832(0x841)](_0x494e52[_0x4e0832(0x5d0)])[_0x4e0832(0x555)]({'when':0x1})[_0x4e0832(0x1ca)]();}catch{return null;}}async[a0_0x581af9(0x4fe)](_0x4acd82,_0x46a9fb){const _0x2be485=a0_0x581af9;try{return await this[_0x2be485(0x296)](_0x46a9fb)[_0x2be485(0x4fe)](_0x4acd82)[_0x2be485(0x1ca)]();}catch{return null;}}async['deleteMany'](_0x20341f,_0x5af7d3){const _0x41faa9=a0_0x581af9;try{return{'deletedCount':(await this['getScheduleMessageModelForOwner'](_0x5af7d3)[_0x41faa9(0x6dd)](_0x20341f))[_0x41faa9(0x285)]};}catch(_0x15526a){return console[_0x41faa9(0x3cf)](_0x41faa9(0x843),_0x15526a),{'error':_0x15526a};}}async[a0_0x581af9(0x527)](_0x39a4b0){const _0x4b728c=a0_0x581af9;try{return await this[_0x4b728c(0x296)](_0x39a4b0)[_0x4b728c(0x416)][_0x4b728c(0x1fd)](),{'success':!0x0};}catch(_0x380cde){return console['error'](_0x380cde),{'success':!0x1,'error':_0x380cde};}}},as=class extends D{async[a0_0x581af9(0x536)](_0x87d015,_0x4dbb6f){const _0x443c21=a0_0x581af9;try{if(this[_0x443c21(0x259)][_0x443c21(0x54e)]){let _0x5940bc=await Ue[_0x443c21(0x418)]({'_id':_0x4dbb6f},{'$set':_0x87d015},{'new':!0x0});return console[_0x443c21(0x679)](_0x443c21(0x69c),_0x5940bc),_0x5940bc;}}catch(_0x16f403){throw console['error'](_0x443c21(0x33f),_0x16f403),_0x16f403;}}async[a0_0x581af9(0x419)](_0x33c7fc){const _0x103060=a0_0x581af9;try{let _0x5331ac=await Ue[_0x103060(0x4fe)](_0x33c7fc);return _0x5331ac||(_0x5331ac=new Ue({'_id':_0x33c7fc}),await _0x5331ac['save']()),_0x5331ac;}catch(_0x29f1e0){return console[_0x103060(0x3cf)](_0x103060(0x670),_0x29f1e0),null;}}},Ai=new v(a0_0x581af9(0x32c)),Ii=new Ve(b),xi=new Jt(b),Di=new st(b),_i=new qt(ea,b),Pi=new Xt(na,b),$i=new Zt(ra,b),ki=new es(b),Li=new Vt(b),ji=new ts(b),Fi=new ss(b),Ui=new as(b),ue=new Je(Ii,xi,Di,_i,Pi,$i,ki,ji,Li,Fi,Ui,R?.[a0_0x581af9(0x62c)]()),B=new Ut(ls,b,ue),Ji=new zt(b,B,ue),qi=new Kt(B),Es=new Yt(qi),x=new Qt(B),oe=new Gt(B,b,ue,ls,Ji),G=new Wt(B),_=new Bt(B),U=new Ht(B);Ai[a0_0x581af9(0x31f)]('Module\x20-\x20ON');var _h=require(a0_0x581af9(0x3fd)),ks=require('fs'),_r=O(require('https')),Pr=O(require(a0_0x581af9(0x632))),Oe=class c{static #e;static set[a0_0x581af9(0x747)](_0xba633c){this.#e=_0xba633c;}static get[a0_0x581af9(0x5d9)](){const _0x39829e=a0_0x581af9;let {FULLCHAIN:_0x2040b6,PRIVKEY:_0x7dcc9}=b[_0x39829e(0x488)](_0x39829e(0x25b));return _r[_0x39829e(0x3b1)]({'cert':(0x0,ks[_0x39829e(0x6c3)])(_0x2040b6),'key':(0x0,ks['readFileSync'])(_0x7dcc9)},c.#e);}static get[a0_0x581af9(0x632)](){const _0x4e8dc7=a0_0x581af9;return Pr[_0x4e8dc7(0x3b1)](c.#e);}},pe=O(require('fs')),Ur=O(require(a0_0x581af9(0x72d))),Ae=O(require('axios')),xe=O(require(a0_0x581af9(0x746))),De=require('child_process');function Vi(){const _0x43f40b=a0_0x581af9;B[_0x43f40b(0x835)]();let _0x4c67db=xe[_0x43f40b(0x258)][_0x43f40b(0x495)](__dirname,'downloads');Fr(_0x4c67db);}var Fr=_0xc0df4=>{const _0x418c60=a0_0x581af9;let _0x2c43fc=pe['default'][_0x418c60(0x55a)](_0xc0df4),_0x10831c=0xc*0x3c*0x3c*0x3e8,_0x3dad21=0x2*0x3c*0x3c*0x3e8,_0x27de9e=new Date()[_0x418c60(0x2aa)]();_0x2c43fc[_0x418c60(0x386)](_0x267aae=>{const _0x5ef5cc=_0x418c60;let _0x391fab=xe['default'][_0x5ef5cc(0x495)](_0xc0df4,_0x267aae),_0x15b436=pe[_0x5ef5cc(0x258)]['statSync'](_0x391fab)[_0x5ef5cc(0x715)][_0x5ef5cc(0x2aa)]();_0x27de9e-_0x15b436>_0x10831c&&(pe[_0x5ef5cc(0x258)][_0x5ef5cc(0x6a7)](_0x391fab),console[_0x5ef5cc(0x679)](_0x5ef5cc(0x353)+_0x267aae));}),setTimeout(()=>Fr(_0xc0df4),_0x3dad21);};function Bi(){const _0x1705f1=a0_0x581af9;let _0x45df3d=new v(_0x1705f1(0x619)),_0x465da5=(0x0,he[_0x1705f1(0x258)])();_0x465da5[_0x1705f1(0x78f)]((0x0,jr[_0x1705f1(0x258)])({'origin'(_0x1e0468,_0xfaa7e6){const _0x5e521e=_0x1705f1;let {ORIGIN:_0x204194}=b[_0x5e521e(0x488)]('CORS');return _0x1e0468||(_0x1e0468='*'),_0x204194[_0x5e521e(0x609)]('*')!==-0x1||_0x204194[_0x5e521e(0x609)](_0x1e0468)!==-0x1?_0xfaa7e6(null,!0x0):_0xfaa7e6(new Error(_0x5e521e(0x26f)));},'methods':[...b['get']('CORS')[_0x1705f1(0x6c6)]],'credentials':b[_0x1705f1(0x488)]('CORS')[_0x1705f1(0x511)]}),(0x0,he[_0x1705f1(0x681)])({'extended':!0x0,'limit':_0x1705f1(0x788)}),(0x0,he[_0x1705f1(0x5e5)])({'limit':_0x1705f1(0x788)})),_0x465da5[_0x1705f1(0x78f)]((_0x2fec9a,_0x515569,_0x1b5c6a)=>{const _0x4fbfc4=_0x1705f1;_0x2fec9a[_0x4fbfc4(0x746)][_0x4fbfc4(0x4c3)](_0x4fbfc4(0x7a2))?_0x1b5c6a():(0x0,Lr['default'])()(_0x2fec9a,_0x515569,_0x1b5c6a);}),_0x465da5[_0x1705f1(0x4c0)](_0x1705f1(0x3d0),_0x1705f1(0x269)),_0x465da5['set']('views',(0x0,js[_0x1705f1(0x495)])(ie,'views')),_0x465da5[_0x1705f1(0x78f)](he[_0x1705f1(0x258)][_0x1705f1(0x74f)]((0x0,js['join'])(ie,_0x1705f1(0x32b)))),_0x465da5[_0x1705f1(0x78f)]((_0x2c255d,_0x4b73da,_0x2bd165)=>{const _0x56b0b6=_0x1705f1;let _0x188251=_0x4b73da['send'];_0x4b73da[_0x56b0b6(0x320)]=function(_0x1b3bc7){const _0x52b4bb=_0x56b0b6;if(_0x2c255d[_0x52b4bb(0x6fd)][_0x52b4bb(0x58c)]===_0x52b4bb(0x1f5)||_0x2c255d[_0x52b4bb(0x297)]['uazapi']===_0x52b4bb(0x1f5)){let _0x34bc0d=JSON['parse'](_0x1b3bc7);_0x1b3bc7=JSON[_0x52b4bb(0x7e4)](_0x1fac8f(_0x34bc0d));}return _0x188251[_0x52b4bb(0x447)](_0x4b73da,[_0x1b3bc7]);},_0x2bd165();}),_0x465da5['use']('/',It),_0x465da5[_0x1705f1(0x78f)]((_0x5a9df3,_0x259042,_0x4395d7,_0x1599a7)=>{const _0x164dfa=_0x1705f1;if(_0x5a9df3)return _0x4395d7[_0x164dfa(0x2e9)](_0x5a9df3[_0x164dfa(0x2e9)]||0x1f4)[_0x164dfa(0x5e5)](_0x5a9df3);},(_0x31e27b,_0x16f900,_0x248058)=>{const _0x327a46=_0x1705f1;let {method:_0x518408,url:_0x4a8a58}=_0x31e27b;_0x16f900['status'](0x194)[_0x327a46(0x5e5)]({'status':0x194,'message':_0x327a46(0x728)+_0x518408['toUpperCase']()+'\x20'+_0x4a8a58,'error':'Not\x20Found'}),_0x248058();});let _0x1fac8f=(_0x557e64,_0x148f37=_0x1705f1(0x7ad))=>{const _0xe25567=_0x1705f1;let _0x5cd815=(_0xbc7cb8,_0xb91478=null,_0x34cbea=!0x1)=>{const _0x1d43cb=a0_0xd85f;let _0x2a2386={};return Object['keys'](_0xbc7cb8)[_0x1d43cb(0x386)](_0x87dcc7=>{const _0x3a1241=_0x1d43cb;let _0x4d15d2=_0xbc7cb8[_0x87dcc7],_0xf69bc=''+_0x148f37+_0x87dcc7;_0xb91478&&!_0x34cbea&&(_0xf69bc=_0xb91478+'.'+_0x87dcc7),!_0x4d15d2&&_0x4d15d2!==0x0&&_0x4d15d2!==!0x1||typeof _0x4d15d2>'u'?_0x2a2386[_0xf69bc]=null:typeof _0x4d15d2!=_0x3a1241(0x257)&&!Array[_0x3a1241(0x530)](_0x4d15d2)?_0x2a2386[_0xf69bc]=_0x4d15d2:typeof _0x4d15d2==_0x3a1241(0x257)&&!Array[_0x3a1241(0x530)](_0x4d15d2)?_0x2a2386=Object[_0x3a1241(0x5e4)](_0x2a2386,_0x5cd815(_0x4d15d2,_0xf69bc)):Array[_0x3a1241(0x530)](_0x4d15d2)&&(typeof _0x4d15d2[0x0]=='object'?(_0x2a2386[_0xf69bc]=[],_0x4d15d2[_0x3a1241(0x386)](_0x378632=>{const _0x54a2f1=_0x3a1241;_0x2a2386[_0xf69bc][_0x54a2f1(0x71d)](_0x5cd815(_0x378632,_0xf69bc,!0x0));})):_0x2a2386[_0xf69bc]=_0x4d15d2);}),_0x2a2386;};return Array['isArray'](_0x557e64)?_0x557e64[_0xe25567(0x697)](_0x238fb8=>_0x5cd815(_0x238fb8)):typeof _0x557e64==_0xe25567(0x257)&&_0x557e64!==null?_0x5cd815(_0x557e64):{};},_0x2fd93f=b['get'](_0x1705f1(0x619));Oe['app']=_0x465da5;let _0x3a3c72=Oe[_0x2fd93f[_0x1705f1(0x1e9)]],_0x230d13=_0x1705f1(0x706);_0x3a3c72[_0x1705f1(0x48a)](_0x2fd93f['PORT'],()=>{const _0x569a94=_0x1705f1;_0x45df3d[_0x569a94(0x679)](_0x230d13),_0x45df3d[_0x569a94(0x679)](_0x2fd93f['TYPE'][_0x569a94(0x646)]()+_0x569a94(0x55d)+_0x2fd93f['PORT']);}),Vi(),Hs();}function a0_0x2ba8(){const _0x5902c5=[',\x20Resultado:\x20','Authentication\x20error','\x5cd+','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','entries','contacts.upsert','unlinkSync','Valor\x20de\x20find\x20ou\x20replace\x20ausente','remove.instance','.mp4','port','exec','updateMany','Chat\x20com\x20ID\x20','updateReplyOption','unreadcount','ConversationModel','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','hDel','command','updateConversation','currency','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','):\x20Fluxos\x20não\x20estão\x20ativados','instanceInfo','instanceKeys','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','chats','utf8','\x5c$&','prefixCommand','http://myexternalip.com/raw','isJidGroup','#9ba6ff','readFileSync','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:','count','METHODS','variable','updateMissingCustomFields','pop','The\x20property\x20cannot\x20be\x20empty','toggleEphemeral','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','remote\x20\x22origin\x22','scheduleMessage','):\x20Entrou\x20na\x20função\x20saveReply','copyBlock','node-mime-types','boolean','MESSAGES_UPDATE','group-participants.update','saveVariable','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','.webm','ContactsAndGroups','parseInt','EMAIL:','processConditions','generateWAMessageFromContent','deleteMany','INFO','}}\x20->\x20\x22','MAX_RECONNECT_ATTEMPTS','\x20Tentativa\x20de\x20reconexão\x20','getHours','createWebhook','eventemitter2','picture','setting','Error\x20getting\x20invite\x20code\x20info','connectionStatus','@s.whatsapp.net','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','@whiskeysockets/baileys','dayjs','\x1b[46m','deleteReplyOption','Certbot:\x20','jsonwebtoken','removeOlderDisconnectedInstances','Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:','jsonschema','body','BufferJSON','deleteInstance','AutomateFunctions','$set','notEmpty','WARN','response','query','groupRequestParticipantsList','sem\x20texto\x20na\x20mensagem','write','#92ceac','scheduled','lastmsg','getMessageModelForOwner','fileUrl','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','updateParticipant','content','#56ccb4','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','updateFlowConfig','ephemeralMessage','Fluxo\x20não\x20encontrado','):\x20transformedCustomFieldVariables','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','scheduleSendText','text','Erro\x20ao\x20adicionar\x20label\x20','createConnection','announcement','birthtime','findAll','\x20chats\x20foram\x20atualizados.','Erro\x20ao\x20normalizar\x20a\x20mensagem:','):\x20Enviando\x20texto','sha256','\x1b[33m','/media','push','message_normalized','shift','menuExpiredMessage','API\x20Key\x20from\x20Request:','#fed428','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','groupRevokeInvite','ON\x20-\x20dbName:\x20','CONECTADO\x20À\x20UAZAPI','imported','Cannot\x20','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','Reinicialização\x20iniciada:\x20','webhookMap','LOG','ini','):\x20Erro\x20ao\x20processar\x20o\x20grupo\x20','cwd','state','\x20is\x20already\x20in\x20use.','g-t','915666tCzEAx','.webp','Message','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','lastCondition','inviteCodeDetails','quotedMessage','http://ifconfig.me/ip','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','createConversationforgoToFlow','password','saveTextReply','notas','/instance/fetchInstances','.jwt','1713296FLiwPG','Erro\x20ao\x20inserir\x20chats:','random','Mac\x20OS','path','app','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','\x0a*Você\x20respondeu*:\x0a','error_log','stderr','bateu\x20events','No\x20participants','user','static','$pull','getChatModelForOwner','longitude','updateProfileStatus','GROUPS_UPSERT','8080','updateStatusPrivacy','):\x20Going\x20to\x20','getConversation','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','getOwnPropertyDescriptor','exit','\x20contacts','Erro\x20ao\x20importar\x20chats:','):\x20Criando\x20fluxo\x20compartilhado...','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','audio/ogg;\x20codecs=opus','All_Instances_Config','flowActive','updateMissingTags','_Chats','.pptx','available','locked','isInteger','/automate','isBusiness','\x20saindo\x20da\x20função','less','makeCacheableSignalKeyStore','fone','normal','statusJidList','menuIgnoreNonVotes','http://icanhazip.com/','updatePrivacySettings','dataValidate','readMessageBot','replaceOne','isCommunity','markMessageAsRead','findManyByIds','method','rowId','joinGroupValidate','RECONNECT_TIME_FRAME','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','SERVER_ACK','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','sendList','stickerMessage','PREFIX_KEY','Archiving\x20chat','#ff9484','notMatchRegex','50mb','editFlow','validate','email','badSession','Error\x20change\x20group\x20description','loadproxy','use','\x20e\x20ID=','header','sending','document','flowPrefixCommand','fromMe','fetchConversation','request\x20body:\x20','axios','contentText','/wa-qrcode','authentication','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','ScheduleMessageModel','copyDataToNewModel','deleteBlock','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','/events','updateAgent','ids','realVariables','Erro\x20ao\x20editar\x20a\x20conversa:\x20','ChatModel','class-validator','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','request\x20received\x20in\x20editFlow','@ffmpeg-installer/ffmpeg','_p_','groups_ignore','processApiRequest','abs','application/octet-stream','remoteJidsRemaining','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','delayMessage','lastDisconnect','stopMinutes','SEND_MESSAGE','getVariablesChat','jid','audio','bodyStringErrorParse','array','and','):\x20Falha\x20ao\x20deletar\x20mensagem.','isLong','\x1b[32m%s\x1b[0m','.docx','formatBRNumber','.TEL;waid=','pollCreationMessageV3','trim','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','downloadMediaMessage','createGroup','Falha\x20após\x20várias\x20tentativas.','Converting\x20image\x20to\x20WebP\x20to\x20sticker','folder','Read\x20messages\x20fail','mentioned','setUpdate','bulkWrite','/webhook','saveMediaToFile','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','findGroups2','/exit','DATABASE_CONNECTION_HOST','allFlows','.xlsx','https://uazapi-plugin.bubbleapps.io/','fetchProfile','compression','sendMenu','#d3a91f','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','Error\x20occurred\x20while\x20archiving\x20chat:\x20','StartBot','label_jid','senderKeyDistributionMessage','mediaMessage','MESSAGES_SET','stringify','encoding','findMessages','Delete\x20chat','app-state-sync-key','Enter\x20a\x20value\x20in\x20milliseconds','groupGetInviteInfo','buttonId','presenceSubscribe','\x1b[41m','https://api.openai.com/v1/images/generations','poll','editScheduleMessage','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','.fileUrl','processvaredits','firstValue','close','Variáveis\x20não\x20encontradas:','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','fetchPrivacySettings','remove','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco',',\x20qrcodeCount:\x20','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','webhook','_Messages','scheduleMessages','Parando\x20aplicação,\x20atualização\x20recebida','sendPoll','pre','DATABASE_CONNECTION_PASSWORD','sendMessage','content-type','Error\x20updating\x20profile\x20status','approve','isJidUser','font','admin','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','StatusJidList\x20is\x20required','PENDING','replyOption','request\x20received\x20in\x20deleteConversation','binary','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','limit','floor','importChatsBatch','start','replyOptions','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','cacheContactModel','STORE','endSession','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','readData','Router','STATUS_INSTANCE','condition','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','findConversation','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','/media/','data','chatModify','mimetype','metadata','sendButtons','silent','has','variablesNotFound','):\x20Conversa\x20está\x20expirada','editflowvaredit','Safari','editConversation','newStoppedUntil','pollCreationMessage','STORE_CHATS','imageMessage','loadInstance','createHash','reconnectTimestamps','/group','@redis/client','stopIfLastReturnedError','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','variables','):\x20Deletando\x20mensagem','Erro\x20ao\x20remover\x20instâncias\x20antigas:','):\x20Error\x20processing\x20conditions:\x20','saveCreds','findOne','.ogg','Erro\x20ao\x20deletar\x20mensagens:','isConnected','\x20não\x20encontrado\x20para\x20atualização.','LOG_LEVEL','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','E-mail:\x20','1827450xbBMEn','ERROR','groupFetchAllParticipating','Button\x20texts\x20cannot\x20be\x20repeated','oldValue','):\x20nextBlock.uazapi.name','modifiedCount','CHATS_SET','writeFile','createAndSave','\x1b[31m%s\x1b[0m','\x20-\x20retornado:\x20','description','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','reject','reviver','getDevice','AUTHENTICATION_JWT_EXPIRIN_IN','Erro\x20ao\x20atualizar\x20conversa:\x20','online','notEqual','pollCreationMessageV2','findFlow','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','InstancesAsDisconnectedX','contact','messaging-history.set','selectableCount','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','https://uazapi-plugin.bubbleapps.io/?url=','):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','updateOne','insert','.gif','stopConversation','Número\x20não\x20possui\x20WhatsApp.','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','item','MESSAGES_UPSERT','groupId','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','findIndex','awaitingApproval','QRCODE_UPDATED','labelId','flowname:\x20','dropCollection','convertedOptions','):\x20Comando\x20desconhecido:\x20','\x20not\x20found,\x20retrying\x20in\x20','URI','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','Database\x20is\x20not\x20enabled','detail','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','valid','Selecione','lean','updateGParticipate','):\x20não\x20encontrou','findGroups','):\x20Ignoring\x20group\x20messages.','):\x20Criando\x20nova\x20conversa[createNewConversation]','lastUpdate','applyvaredit','memberAddMode','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','^\x5cd+([-]\x5cd+)*@g.us$','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','groupParticipantsUpdate','getScheduleMessage','archive','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','Imagem\x20não\x20encontrada','latitude','footerText','inner','stopMinutesMaxActives','blockLogs','\x1b[43m','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','mediaSticker','createSectionsFromValues','processgoToFlow','Schema','beforeExit','etiquetas','Output\x20path:\x20','TYPE','createFlow','):\x20[messages.upsert]\x20group\x20ignored','cpf','refused','length','deleteConversation','saveChatVariables','client','Falta\x20informação\x20para\x20a\x20chamada\x20API','Erro\x20ao\x20buscar\x20conversa:\x20','request\x20received\x20in\x20fetchConversation','true','#ffae04','getStatus','convertToWebP','mentions','Missing\x20global\x20api\x20key','):\x20Procurando\x20conversa','):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:','drop','Erro\x20ao\x20atualizar\x20o\x20fluxo:','?authSource=admin&readPreference=primary&directConnection=true','displayName','upsertedCount','sendText','updateMissingEtiquetas','normalizeMessage','):\x20Entrou\x20na\x20função\x20goToFlow','verifyWhatsAppNumber','desativadoFluxoAte','whatsappNumber','digest','):\x20Buscando\x20flow...','ListType',':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20','ContactModel','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20','instancias:\x20','flowConfig','tags','NextBlock','_Flows','RemoveChatLabel','groupCreate','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','\x1b[0m','Type\x20not\x20found','createInstance','getAllData','uncaughtException','waitingMenu_id','Deletion\x20failed','\x20->\x20NÃO\x20CORRESPONDE.','REDIS_PREFIX_KEY','varedits','DATABASE_ENABLED','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','max','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','success','store','waitingMenu_ExpiredMessage','CONTACTS_UPSERT','Internal\x20Server\x20Error','CONNECTION','LOG_COLOR','Message\x20not\x20found','):\x20Conversa\x20está\x20expirada\x20-\x20voto','DARK','deleteMessage','uazapiDeleteMessage','groups.upsert','CONFIGURAÇÃO\x20GERAL:','isRunning','://','PORT','ignoreGroups','editflow','toNumber','readFile','delAll','https://jsonip.com','now','updateStopChat','Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','/wa-chats','uazapi','):\x20isVote:\x20','post','Nome\x20do\x20campo\x20personalizado\x20já\x20existe.','exists','#b4ebff','writeFileSync','):\x20Deletando\x20conversa...','processblock','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Rótulo\x20inválido\x20ou\x20sem\x20ID.','all_member_add','chats.set','removeInstance','replaceValue','from','toBrazilianNumberFormat','Primeiro\x20Valor:\x20','ButtonsMessage','):\x20conversation.waitingMenu_name','object','default','dbSettings','delayChatLabel_RETRY_DELAY_MS','SSL_CONF','https://github.com/uazapi/uazapi.git','DD/MM\x20HH:mm:ss','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','/message','Error\x20removing\x20profile\x20picture','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','checkAndRestartProcess','pushName','dbConnection','blocks','color','Audio\x20converted\x20and\x20stored\x20in\x20cache','.X-ABLabel:Celular\x0a','hbs','webhookModel','minutesToClose','capitalizedWords','LICENSE_INVALID','isJidBroadcast','Not\x20allowed\x20by\x20CORS','not_announcement','admin_add','URL:','sendCommand','profile','address','CacheContacts\x20database\x20connection\x20closed.','moreLogs','list','.\x20Aguardando\x20antes\x20de\x20reconectar...','deleteOne','AutomateSystem','_FlowHistorico','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','):\x20leadInfoVariables','startFlow','pino','joinApprovalMode','audio/ogg','CONTACTS_UPDATE','deletedCount','):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','groupSetting','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','format','size','#9ab6c1','viewOnceMessageV2','setHeader','sharp','updateGroupsAddPrivacy','):\x20debug\x20alterando\x20this.AutomateSystem','request\x20received\x20in\x20updateAgent','lastBlockId','upperCase','subjectOwner','getScheduleMessageModelForOwner','headers','Flow\x20iniciado\x20com\x20','group','apiName','WebhookGlobal','qrcode-terminal','params','.xls','flushHeaders','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','formatStatusMessage','expression','440875NzmmnO','waUploadToServer','fromObject','JWT','\x1b[34m%s\x1b[0m','Error\x20change\x20group\x20name','includes','getTime','\x20attempts.','editFlowBlock','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','sendDataWebhook','.mp3','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','\x0aitem','__esModule','flowIgnoreGroups','groupMemberAddMode','redis','ReplyOptions\x20finais\x20após\x20reordenação:','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','updateMissingShareOwners','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Erro\x20ao\x20editar\x20agentes:\x20','arrayUnique','\x1b[1m','Error\x20fetching\x20group','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','https://ipinfo.io/json','deleteDoneMessages','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','../env.yml','\x20com\x20sucesso.','):\x20Query\x20params:','createSharedFlow','request\x20received\x20in\x20editConversation','statusCode',',\x20Expiration\x20Time:\x20','send.message','ip:\x20','CLEANING_INTERVAL','*\x0a\x0a','\x1b[44m','FlowController','^\x5cd+','changeVariables','PLAYED','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','Image\x20is\x20url','Instance\x20Key\x20from\x20DB:','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','uazapiSendText','Erro\x20de\x20reinicialização:\x20','groupDesc','EXPIRIN_IN','):\x20Enviando\x20contato','throwAndLogError','emit','API_KEY','PRIVKEY','findByIdAndUpdate','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','Error\x20updating\x20privacy\x20settings','Forbidden','^\x5cd+[\x5c.@\x5cw-]+','image','getProfileName','HOST','status','groups','):\x20Criando\x20fluxo\x20regular...','updateMessage','Getting\x20image\x20from\x20url','getUpdate','padEnd','processing_id','including\x20timestamp\x20in\x20url:\x20','pollErrorMessage','Content-Type','):\x20tem\x20blocks','processUazapi','findWebhook','.url','preview','segundos','editFlowVariable','fetchProfilePictureUrl','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','processConditionsTest','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','action','msgRetryCounterCache','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','#dfaef0','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','put','Fetching\x20business\x20profile','_activatedCount','js-yaml','imagechat','data:\x20','):\x20Edit\x20schedule\x20message...','insertCount','groupHandler','):\x20encontrado\x20próxima\x20mensagem\x20para\x20','linkPreview','getBase64FromMediaMessage','reorderBlocks','editFlowReply','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','some','goNextblock','):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','/*.json','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','gifPlayback','contactsArrayMessage','jpegThumbnail','Sistema\x20atualizado\x20com\x20sucesso!','\x1b[32m','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','DELIVERY_ACK','info','send','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','add','optionDescription','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','getOwnPropertyNames','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','router','LabelModel','redisEnv','public','WA\x20MODULE','extractRegex','promote','GUARD','https://','contacts.update','save','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','\x20quoted:\x20','http://checkip.dyndns.org','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','flowStopMinutes','.png','contactHandle','loadEnv','VERBOSE','menuMessage','Erro\x20ao\x20sincronizar\x20fluxos:\x20','groupToggleEphemeral','Erro\x20ao\x20atualizar\x20AutomateSystem:','\x20chats\x20de\x20','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','STORE_MESSAGE','_Contacts','):\x20Campos\x20a\x20serem\x20atualizados:','removeChatLabel','editChat','code','DisconnectReason','Erro\x20ao\x20iniciar\x20fluxo:\x20','hasOwnProperty','Unauthorized','updateChatWithMessage','hSet','getLabelModelForOwner','integer','Chat\x20','nomecompleto','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','Deleted\x20','participants','fileName','.ppt','_error','messageType','\x20foi\x20interrompido\x20pelo\x20usuário.','.mimetype','subject','video','AUTHENTICATION_TYPE','fullName','removed','sendReaction','leadInfo.customFields','Audio\x20processed','Instância:\x20','/wa-groups','extractMessageContent','Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:','#6f7bcf','node-cache','env','sendStatus','getDelay','CORS_METHODS','redis://127.0.0.1:6379','getAutomateSystem','updateAll','request\x20received\x20in\x20deleteDoneMessages','\x20ao\x20chat\x20','reference','Conexão\x20estabelecida','sendMessageWithTyping','fetchStatus','listMessage','editFlowGroup','filter','?timestamp=','downloads','Error\x20in\x20scheduleNextCheck:\x20','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','/instance/create','FlowModel','SUCCESS','):\x20mediaMessageInfoId\x20:\x20','stopWhenYouSendMsg','Trying\x20to\x20get\x20business\x20profile','pt-BR','\x20tentativas:\x20remotejid=','The\x20','forEach','sign','deleted','logout','getMessage','AUTHENTICATION','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','):\x20Mensagem\x20já\x20enviada\x20para\x20','closeExistingConversations','atendimentoAberto','message','3GcqtdJ','\x20minutos.\x20Será\x20às\x20','-instances','flow','connection.update','SSL_CONF_PRIVKEY','execSync','setWebhook',',\x20lastCondition:\x20',':\x20Tentativa\x20','allContacts','crypto','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','temp-','TEL','envYaml','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','getflow','):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20','revokeInviteCode','/config','COLOR','presence','delayChatLabel','!cmd_','setRestartTimeout','normalizeMessageContent','Invalid\x20format','\x20after\x20','sendPresenceUpdate','Read\x20messages','updateProfilePicture','createServer','Erro\x20ao\x20encerrar\x20a\x20API','):\x20Ler\x20mensagem','DEBUG','upsertChats','ERROR:\x20','long','sendLocation','PRODUCT_LIST','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','):\x20','):\x20Flow\x20não\x20encontrado','Validate','collections','Error\x20updating\x20message\x20status:','removeProfilePicture','restrict','):\x20Buscando\x20todos\x20os\x20fluxos...','video-cover.png',':\x20Erro\x20durante\x20loadproxy\x20-\x20','labels.association','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','automateSystem','updateMissingLabels','ReplyOption\x20com\x20ID\x20','onWhatsApp','groups.update','interval\x20não\x20é\x20um\x20número','audioMessage','error','view\x20engine','cache','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','\x1b[33m%s\x1b[0m','@broadcast','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','buttons','arraybuffer','agents','textMessage','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','enabled','groupSettingUpdate','Comando\x20desconhecido','OrAnd','Content\x20is\x20required','\x20segundos','editflowcondition','toDataURL','cleanStore','Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.','_ScheduleMessages','match_last_seen','Error\x20in\x20markMessageAsRead:','waInstances','CHATS_DELETE','mongodb','):\x20updateResult:','USER','base64','Failed\x20to\x20update\x20contact\x20profile\x20picture',',\x20Comparador:\x20','addresss','configService','editflowgroup','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','Início','namespace','formatVCard','labels.edit','):\x20Conversa\x20atualizada\x20em\x20memória','stateConnection','updateOneById','Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','Error\x20updating\x20profile\x20picture','express-async-errors','Group\x20not\x20found','replaceVariablesInObject','ex:\x20\x22groupJid=120362@g.us\x22','Image\x20path:\x20','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','groupJoinApprovalMode','messages.set','Business\x20profile\x20fetched','groupBetterSetting','Erro\x20do\x20Certbot:\x20','lowerCase','owner','maxActives','\x1b[31m','):\x20Enviando\x20áudio','wuid','deleteflow','conversation','debug','width','Error\x20updating\x20profile\x20name','lastSendMessage','result','Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.','collection','.\x20Pulando.','findOneAndUpdate','findOrCreate','instanceName','/instance/delete','getContentType','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','synchronizeFlows','):\x20Bloco\x20com\x20ID\x20','updatePresence','connectionUpdate','scheduleNextCheck','src','lastSend','exports',':\x20IP\x20configurado:\x20','updateLastSeenPrivacy','name','auth','toFile','No\x20invite\x20code','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','):\x20Limpando\x20AutomateSystem','ObjectId','delayChatLabel_MAX_RETRIES','):\x20Error\x20processing\x20the\x20block:\x20','timeout','getConversationModelForOwner','Delete\x20chat\x20in\x20client\x20for\x20number:\x20','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','creation','reorderReplyOptions','chat','1703208rOPyin','Type\x20defined\x20as\x20audio','):\x20Editando\x20variável\x20do\x20fluxo...','The\x20\x22','Desconectado,\x20parando\x20execução.','Erro\x20ao\x20copiar\x20dados:','instance','creds','request\x20received\x20in\x20editFlowcondition','buttonText','certonly','https://api.elevenlabs.io/v1/text-to-speech/','status@broadcast','status.instance','updateOnlinePrivacy','apply','replaceVariablesChat','chats.delete','messageSecret','privacySettings','participant','qrCode','generate','updateGParticipant','flowConversation','Image\x20created','desc','rows','resetReconnectionVariables','Unable\x20to\x20leave\x20the\x20group','repository','#ffffff','storePath','enumerable','createClient','messagesSend','splice','PROXY','fetchProfilePicture','function','recording','decryptPollVote','.doc','Certbot\x20executado\x20com\x20sucesso.','findParticipants','#64c4ff','}}\x20->\x20valor\x20não\x20encontrado','KEY','verifiedName','waitingForReplyMenu','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','remoteJids','next_groupId','STORE_CLEANING_TERMINAL','SERVER_URL','connecting','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','importChatsAntigo','pairingCode','match','ScheduleMessage','closed','greater','defineAuthState','checkAndUpdateChatStatus','CHATS_UPDATE','pollCreationMessageKey','subjectTime','updateGroupPicture','notify','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','request\x20received\x20in\x20getAutomateSystem','flowStopConversation','createNewConversation','loggedOut','endsWith','cacheContact','locationMessage','Label\x20','hex','get','saveConversationToDatabase','listen','sendSticker','groupName','userDevicesCache','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','):\x20Limpando\x20delayMessage','requestPairingCode','getFlowModelForOwner','):\x20teve\x20mudanças\x20chat.archived:\x20','SendScheduleMessage','\x20minutos\x20verificará\x20novas\x20mensagens','join','Flow\x20não\x20encontrado','string','contains','options','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','instanceName\x20not\x20provided.','readMessages','host','connectToWhatsappController','PRESENCE_UPDATE','child_process','Erro\x20ao\x20deletar\x20a\x20conversa:\x20','presence.update','chatLog','choices','protocol','Conversa\x20deletada\x20com\x20sucesso.','utf-8','apirequest','responsavelid','stopped','last','Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','\x22\x20cannot\x20be\x20empty','del','\x1b[47m','):\x20Criada\x20conversa\x20nova\x20(gotoflow)','events','Variável\x20não\x20encontrada!','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','mongodb://','leadInfo','audioWhatsapp','Last\x20message\x20not\x20found\x20for\x20number:','connectedName','contacts','editFlowVaredit','messages','everyOne','3108427abbYOE','delaySecMax','set','cachedData-whatsapp','):\x20newSecondValue\x20após\x20replaceVariables:','startsWith','\x20->\x20CONFIRMADO.','leadInfo.desativadoFluxoAte','username','/chat','updateCustomFields','prototype','protocolMessage','):\x20Erro\x20durante\x20a\x20atualização:\x20','localWebhook','DELETED','findAndReplaceRegex','uazapiSendMedia','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','delay','Erro\x20ao\x20deletar\x20chat:','!stop','DATABASE','isURL','HttpsProxyAgent','mediaKey','groupUpdateSubject','values','/wa-message','webhookService','secondValue','dbInstance','http://ipecho.net/plain','conversationTimestamp','messageHandle','editflowblock','pollUpdateMessage','connect','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','website','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Atualização:\x20','_id','initAuthCreds','connectionState','https://chat.whatsapp.com/','Types','CHATS_UPSERT','getPrototypeOf','statusMessage','application/json','cachedContact','off','):\x20conversation.lastInteraction:\x20','unavailable','truncatedtoEnd','urlOrBase64','Instance\x20\x22','process','fetchMessages','groupInviteCode','generateHash','\x20instance\x20does\x20not\x20exist','jwt','findById','whatsappNumbers','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','trimmed','\x1b[34m','messageStubType','\x20do\x20chat\x20','CONTACTS_SET','mediatype','archiveChat','creds.update','STORE_CONTACTS','eventHandler','Erro:','Converted\x20image\x20deleted','--standalone','):\x20Editando\x20replyOption...','/create','Número:\x20','CREDENTIALS','\x22\x20-\x20NOT\x20CONNECTION','GET','vote','removeData','messageContextInfo','chatId','replacer','composing','authState','reactionMessage','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo',',\x20pairCode:\x20','\x1b[36m%s\x1b[0m','findAndReplace','updateProfileName','groupLeave','slice','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','):\x20this.processing_id:\x20','Bad\x20Request','end','deleteAll','editOperator','cleaningUp','Error\x20updating\x20setting','PASSWORD','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','round','The\x20instance\x20needs\x20to\x20be\x20disconnected','sections','isArray','qrcode.updated','Esse\x20fluxo\x20expirou','./.git/config','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','uazapiSendAudio','update','addReplyOption','nome','min','Erro\x20ao\x20atualizar\x20o\x20flow.','replaceVariablesInReplyOptions','/wa-presence','/wa-connection-update','uuid','find','title','media','logger','keys','getBusinessProfile','reconnectAttempts','/wa-contacts','contactMessage','setNewValue','unhandledRejection','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','ListMessage','stoppedUntil','fetchLabels','ENABLED','groupUpdateDescription','):\x20Conversas\x20encontradas:','pollOnReplyDelete','getContactModelForOwner','label','oldToken','sort','contact_blacklist','number','HH:mm:ss','DB_PREFIX_NAME','readdirSync','.extension','convertaudio','\x20-\x20ON:\x20','addBlock',',\x20fará\x20nova\x20verificação\x20em\x20','$addToSet','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','createConversationforStartFlow','request\x20received\x20in\x20getConversation','evaluateConditionTest','\x1b[30m','creds.json','fetchInstances','instanceCount','@newsletter','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','DaysToDelete','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','1306568cVzoWJ','Error\x20updating\x20cache\x20contact:','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','readreceipts','pictureUrl','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','\x20não\x20encontrado','isListOfNumbers','archived','Error\x20finding\x20many\x20contacts:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','REDIS_ENABLED','importChats','height','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','):\x20alterando\x20this.AutomateSystem','Error\x20fetching\x20and\x20updating\x20profile:\x20','isBase64','Fluxos\x20não\x20estão\x20ativados','SECRET','editflowvariable','connectToWhatsapp','listType','Nenhum\x20chat\x20encontrado\x20para\x20editar.','\x20mensagens\x20de\x20','sendContact','fetchContacts','Erro\x20ao\x20buscar\x20conversas:\x20','newValue','getFlow','convert','reaction','env.KEY\x20!==\x20key','env.yml','apiResponse','Erro\x20de\x20atualização:\x20','REDIS','Not\x20Found','@g.us','findAndUpdateCacheContact','getMinutes','DATABASE_CONNECTION_USER','truncatedto','unreadCount','no.connection','\x1b[37m','routerPath',',\x20resultado:\x20','deleteChat','option','deleteMessageForEveryone','testProxy','output','\x20-y','messageTimestamp','https-proxy-agent','fetchBusinessProfile','instances','loadWebhook','):\x20Enviando\x20localização','\x20}\x0a','scheduleSendAudio','phoneNumber','warn','EMAIL','call','\x1b[37m%s\x1b[0m','leaveGroup','toArray','config','toLocaleString','sharePass','shutdown\x20-r\x20now','):\x20Conversa\x20inserida\x20com\x20sucesso.','Bloco\x20com\x20ID\x20','O\x20nome\x20do\x20fluxo\x20é\x20obrigatório','FULLCHAIN','profilePictureUrl','qrcode','notContains','/events/:instance','messages.update','Telefone:\x20','varedit','messages.upsert','GROUPS_UPDATE','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','sendWhatsAppAudio','nextBlock:','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','caption','evaluateCondition','documentWithCaptionMessage',':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...','findGroupInfo','none','#9568cf','scheduleSendMedia','where','\x20\x1b[0m','Error\x20change\x20group\x20setting','rm\x20-rf\x20','#000000','variablesToObject','CONNECTION_UPDATE','profilePicture','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','https','shareOwners','expiration','error\x20get\x20vote','subdomain','contextInfo','DOCKER_ENV','#d8e651','delete','finish','proto','assign','json','augusto.fcs@gmail.com','redirect','out','bodyString','Last\x20message\x20not\x20found','Database\x20connection\x20closed.','backgroundColor','organization','inviteCode','dbClient','create','created','uazapiSendMenu','release','lastMessage','Connection\x20closed\x20for\x20instance:\x20',',\x20Minutes\x20to\x20Close:\x20','getMIMEType','updateBlock','lastInteraction','groupMetadata','Processing\x20audio','AddChatLabel','menuType','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','READ','The\x20global\x20api\x20key\x20must\x20be\x20set','remoteJid','authModel','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','paused','):\x20customFieldVariables','lastReceivedMessage','conditions','chats.update','indexOf','noConnection','writeData','documentMessage','authService','replaceVariables','/instance','open','instance.','type','waMonitor','replace','goToFlow','sendMedia','Erro\x20ao\x20remover\x20label\x20','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','SERVER','toLowerCase','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','\x1b[30m%s\x1b[0m','dbServer','findLabels','console','when','CORS_ORIGIN','request_method','messageId','AppStateSyncKeyData','waitingMenu_text','apikey','prepareMediaMessage','verbose','equal','Close\x20connection','.error','getClient','insertMany',']\x20(','):\x20Não\x20achou\x20nenhum\x20flow','Erro\x20inesperado\x20em\x20processvaredits:\x20','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','http','Button\x20IDs\x20cannot\x20be\x20repeated.','listResponseMessage','fetchChats','flattenObject','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','value','/instance/connect','):\x20Iniciando\x20bot...','createJid','):\x20Deletando\x20fluxo...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','beautifyWithPlaceholders','errors','blockId','addChatLabel','optionName','test','):\x20Editando\x20grupo\x20do\x20fluxo...','ChatRouter','toUpperCase','done','GROUP_PARTICIPANTS_UPDATE','request\x20received\x20in\x20updateFlowConfig','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','chatHandle','leadInfo.','originalUrl','sectionsToString','editedMessage','groupJid','editFlowCondition',':\x20IP\x20funcionando!','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','substring','deleteFlow','chats.upsert','updateReadReceiptsPrivacy','toString','getLastMessage','toBRL','ultimaTentativaRemoteJid','buttonMessage','mongoose','findGroupInfos','http://ip-api.com/json','#f64847','sendAudio','uazapiSendContact','customFields','Error\x20while\x20deleting\x20message\x20for\x20everyone','HeaderType','):\x20delete\x20=\x20true','flowName','stdout','createRegularFlow','unlocked','announce','groupadd','FlattenObject\x20result:','Mensagens\x20deletadas\x20com\x20sucesso.','repeat','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','Rótulo\x20deletado:','\x20minutos','):\x20Alterando\x20fluxo...','waitingMenu_replyOptions','URL\x20limpa:\x20','):\x20enviado\x20para\x20[','contactname','numbers','log','eventEmitter','InstancesAlterarTodas','groupValidate','Logger','SINGLE_SELECT','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','joinGroup','urlencoded','order','url','last_update','role','key','express','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','local_map','AUTHENTICATION_JWT_SECRET','stanzaId','Type\x20is\x20required','Instância\x20não\x20encontrada.','split','\x1b[33m\x1b[1m','URL','This\x20name\x20','getTicketSystem','TEXT','existsSync','matchRegex','model','map','vcard','all','ephemeralExpiration','pollMessage','Resultado\x20da\x20atualização:','\x22\x20not\x20found','parse','block','Data\x20inválida\x20fornecida'];a0_0x2ba8=function(){return _0x5902c5;};return a0_0x2ba8();}var Gi=a0_0x581af9(0x25c),Wi=xe['default'][a0_0x581af9(0x495)](__dirname,a0_0x581af9(0x533)),Ie=null;function zi(){return new Promise((_0x2baa01,_0x21e1fb)=>{const _0x4829d3=a0_0xd85f;pe[_0x4829d3(0x258)][_0x4829d3(0x23b)](Wi,'utf-8',(_0x1c26a5,_0x5978ca)=>{const _0x29c0c0=_0x4829d3;if(_0x1c26a5){Ie=_0x1c26a5,_0x2baa01();return;}Ur[_0x29c0c0(0x258)][_0x29c0c0(0x69e)](_0x5978ca)[_0x29c0c0(0x6cd)][_0x29c0c0(0x683)]===Gi?(Ie=null,_0x2baa01()):(Ie=new Error(_0x29c0c0(0x321)),_0x2baa01());});});}async function Hi(){const _0x56a53e=a0_0x581af9;try{await zi(),await Fs();}catch(_0x338529){console[_0x56a53e(0x3cf)](_0x56a53e(0x5fe)+_0x338529),process[_0x56a53e(0x75b)](0x1);}}Hi();async function Jr(){const _0x4f153b=a0_0x581af9;let _0x59d992;try{_0x59d992=(await Ae[_0x4f153b(0x258)]['get'](_0x4f153b(0x23d)))[_0x4f153b(0x825)]['ip'];}catch(_0x3a4045){console[_0x4f153b(0x3cf)](_0x3a4045);try{_0x59d992=(await Ae['default'][_0x4f153b(0x488)]('https://api.ipify.org?format=json'))[_0x4f153b(0x825)]['ip'];}catch(_0x1b60f2){console[_0x4f153b(0x3cf)](_0x1b60f2);try{_0x59d992=(await Ae[_0x4f153b(0x258)]['get'](_0x4f153b(0x335)))[_0x4f153b(0x825)][_0x4f153b(0x473)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x3af92c){return console['error'](_0x3af92c),!0x1;}}}return _0x59d992;}var $r=0x0;async function Ki(){const _0x5aaf44=a0_0x581af9;let _0xd0de6c=await new ne(b[_0x5aaf44(0x488)](_0x5aaf44(0x592)))[_0x5aaf44(0x6ba)]();return console[_0x5aaf44(0x679)](_0x5aaf44(0x211),_0xd0de6c[_0x5aaf44(0x1ee)]),_0xd0de6c[_0x5aaf44(0x1ee)];}function Qi(_0x13d6c0){const _0x2d8c07=a0_0x581af9;let _0x298be2=_0x13d6c0[_0x2d8c07(0x488)](_0x2d8c07(0x619))[_0x2d8c07(0x690)],_0x1fae8c=_0x13d6c0['get'](_0x2d8c07(0x25b)),_0x7f0631;if(_0x298be2){let _0x5b817a=_0x298be2['match'](/\/\/(.*?)\./);_0x5b817a&&_0x5b817a[0x1]&&(_0x7f0631=_0x5b817a[0x1]);}if(!_0x7f0631&&_0x1fae8c&&_0x1fae8c[_0x2d8c07(0x5ba)]){let _0x3bd9cb=_0x1fae8c[_0x2d8c07(0x5ba)][_0x2d8c07(0x68e)]('/'),_0x412952=_0x3bd9cb[_0x3bd9cb[_0x2d8c07(0x1ee)]-0x2];if(_0x412952){let _0x58f77e=_0x412952[_0x2d8c07(0x68e)]('.');_0x58f77e[_0x2d8c07(0x1ee)]>0x2&&(_0x7f0631=_0x58f77e[0x0]);}}return _0x7f0631;}var _s=Qi(b);async function Yi(){const _0x32f51c=a0_0x581af9;let _0x187438=b[_0x32f51c(0x488)](_0x32f51c(0x592)),_0x2ff77d=b[_0x32f51c(0x488)](_0x32f51c(0x38b))[_0x32f51c(0x2de)][_0x32f51c(0x467)],_0x314e50=b[_0x32f51c(0x488)](_0x32f51c(0x25b)),_0x1ed280=await Jr(),_0x3b7b59=b['get'](_0x32f51c(0x619))['PORT'],_0x189b89=b[_0x32f51c(0x488)](_0x32f51c(0x619))['URL'];try{let _0x2c7625={'ip':_0x1ed280||null,'redis_enable':_0x187438?.[_0x32f51c(0x54e)]||null,'apikey':_0x2ff77d||null,'ssl':_0x314e50?.[_0x32f51c(0x2df)]||null,'lastupdate':qr||null,'port':_0x3b7b59||null,'gitInstallError':Ie?.[_0x32f51c(0x390)]||null,'url':_0x189b89||null};if(console[_0x32f51c(0x679)](_0x32f51c(0x2ca),_0x2c7625['ip']),_0x187438&&_0x187438[_0x32f51c(0x54e)]){let _0x6e5e25=await Ki();_0x2c7625[_0x32f51c(0x568)]=_0x6e5e25||null;}for(let _0x3afb17 in _0x2c7625)_0x2c7625['hasOwnProperty'](_0x3afb17)&&_0x3afb17!=='ip'&&(_0x2c7625[_0x3afb17]=JSON[_0x32f51c(0x7e4)](_0x2c7625[_0x3afb17]));return(await Ae[_0x32f51c(0x258)][_0x32f51c(0x245)]('https://uazapi.bubbleapps.io/api/1.1/wf/verificar/',_0x2c7625))[_0x32f51c(0x825)];}catch(_0x4d2328){return console['error'](_0x4d2328),!0x1;}}var Ls=!0x1,qr=0x236,Xi=0x3,kr=0x1b7740;async function Fs(){const _0x60b5be=a0_0x581af9;if(!await Jr())return console[_0x60b5be(0x3cf)](_0x60b5be(0x415)),'NO_IP';let _0x122697=await Yi();if(_0x122697){if(_0x122697[_0x60b5be(0x6fc)]['licenca']===!0x0){let _0x29cab4=b[_0x60b5be(0x488)]('SSL_CONF'),_0x21c459=b[_0x60b5be(0x488)]('SERVER')[_0x60b5be(0x690)];_0x29cab4&&_0x29cab4?.['PRIVKEY']?.[_0x60b5be(0x2a9)]('<subdomain>')&&_0x122697[_0x60b5be(0x6fc)][_0x60b5be(0x5dd)]&&!_0x21c459&&(await to(_0x122697['response']['subdomain'],eo),await so(_0x60b5be(0x5e6),_0x122697[_0x60b5be(0x6fc)][_0x60b5be(0x5dd)]),console[_0x60b5be(0x679)](_0x60b5be(0x618)),setTimeout(()=>ro(),0x2710)),Ie===null&&_0x122697[_0x60b5be(0x6fc)][_0x60b5be(0x684)]-qr>0x0&&await Zi(),Ls||(Ls=!0x0,Bi());let _0x14a327=0x24*0x3c*0x3c,_0x3fdcfb=_0x122697['response'][_0x60b5be(0x2f9)]>_0x14a327?_0x14a327:_0x122697[_0x60b5be(0x6fc)][_0x60b5be(0x2f9)],_0x1148c1=Number(_0x3fdcfb);if(isNaN(_0x1148c1)){console[_0x60b5be(0x3cf)](_0x60b5be(0x3cd));return;}let _0x32bd94=Math[_0x60b5be(0x813)](_0x1148c1/0xe10),_0x487619=Math[_0x60b5be(0x813)](_0x1148c1%0xe10/0x3c),_0xdb2664=new Date(Date[_0x60b5be(0x23e)]()+_0x1148c1*0x3e8);setTimeout(Fs,_0x1148c1*0x3e8);let _0x1975c3=_0x29a615=>_0x29a615[_0x60b5be(0x658)]()['padStart'](0x2,'0'),_0xd6bdb5=_0x60b5be(0x817)+_0x1975c3(_0x32bd94)+'\x20horas\x20e\x20'+_0x1975c3(_0x487619)+_0x60b5be(0x392)+_0x1975c3(_0xdb2664[_0x60b5be(0x6e2)]())+':'+_0x1975c3(_0xdb2664[_0x60b5be(0x596)]())+'.';console['log'](_0xd6bdb5);}else return console['log']('Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/'),Ls&&(console[_0x60b5be(0x679)](_0x60b5be(0x729)),process[_0x60b5be(0x75b)]()),_0x60b5be(0x26d);}else{if($r++,$r<Xi)console[_0x60b5be(0x679)](_0x60b5be(0x1d9)+kr/0xea60+'\x20minutos...'),setTimeout(Fs,kr);else return console[_0x60b5be(0x3cf)]('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),'SERVER_OFFLINE';}}async function Zi(){const _0x12b7d3=a0_0x581af9;console[_0x12b7d3(0x679)](_0x12b7d3(0x800));let _0x2ca985=(0x0,De['spawn'])('git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm',{'shell':!0x0});_0x2ca985[_0x12b7d3(0x668)]['on']('data',_0x68518d=>{const _0x30f5d4=_0x12b7d3;console['log'](_0x30f5d4(0x4e7)+_0x68518d);}),_0x2ca985[_0x12b7d3(0x74b)]['on'](_0x12b7d3(0x825),_0x26c3db=>{const _0x1a21e4=_0x12b7d3;console[_0x1a21e4(0x3cf)](_0x1a21e4(0x591)+_0x26c3db);}),_0x2ca985['on']('exit',_0x3609b2=>{const _0x6e27d1=_0x12b7d3;_0x3609b2!==0x0?console[_0x6e27d1(0x3cf)](_0x6e27d1(0x20e)+_0x3609b2):console[_0x6e27d1(0x679)](_0x6e27d1(0x31b)),console[_0x6e27d1(0x679)]('Parando\x20aplicação...'),setTimeout(()=>process[_0x6e27d1(0x75b)](),0x2710);});}var eo=xe[a0_0x581af9(0x258)][a0_0x581af9(0x495)](__dirname,a0_0x581af9(0x58f));async function to(_0xf6c873,_0x4afc2d){const _0x298d86=a0_0x581af9;let _0x23faa2=ao();_0xf6c873=_0xf6c873[_0x298d86(0x614)]('.uazapi.dev','');try{let _0x5a2b0a=pe['default'][_0x298d86(0x6c3)](_0x4afc2d,_0x298d86(0x6bd));_0x5a2b0a=_0x5a2b0a[_0x298d86(0x614)](/<apikey>/,_0x23faa2),_0x5a2b0a=_0x5a2b0a[_0x298d86(0x614)](/<subdomain>/g,_0xf6c873),pe[_0x298d86(0x258)][_0x298d86(0x249)](_0x4afc2d,_0x5a2b0a,_0x298d86(0x6bd)),console[_0x298d86(0x679)]('Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.');}catch(_0x23eeee){console[_0x298d86(0x3cf)](_0x298d86(0x81b),_0x23eeee);}}function so(_0x4401f3,_0x360dae){return new Promise((_0x410825,_0x29b06d)=>{const _0x404650=a0_0xd85f;let _0x87b7a5=(0x0,De['spawn'])('certbot',[_0x404650(0x442),_0x404650(0x50d),'-m',_0x4401f3,'--agree-tos','-d',_0x360dae]);_0x87b7a5[_0x404650(0x668)]['on'](_0x404650(0x825),_0x1392a1=>{const _0x6b0921=_0x404650;console[_0x6b0921(0x679)](_0x6b0921(0x6f0)+_0x1392a1['toString']());}),_0x87b7a5[_0x404650(0x74b)]['on']('data',_0x155c4c=>{const _0x4c711c=_0x404650;console[_0x4c711c(0x3cf)](_0x4c711c(0x407)+_0x155c4c[_0x4c711c(0x658)]());}),_0x87b7a5['on'](_0x404650(0x7f5),_0x38ae64=>{const _0x547ed4=_0x404650;_0x38ae64!==0x0?(console['error'](_0x547ed4(0x2d6)+_0x38ae64),_0x29b06d(_0x547ed4(0x2d6)+_0x38ae64)):(console[_0x547ed4(0x679)](_0x547ed4(0x463)),_0x410825());});});}function ao(_0xfa0ba3=0x32){const _0x409975=a0_0x581af9;let _0x4135d4='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789',_0x3955b2='';for(let _0x4f868a=0x0;_0x4f868a<_0xfa0ba3;_0x4f868a++)_0x3955b2+=_0x4135d4['charAt'](Math[_0x409975(0x813)](Math['random']()*_0x4135d4[_0x409975(0x1ee)]));return _0x3955b2;}function ro(){const _0x30e0e0=a0_0x581af9;(0x0,De[_0x30e0e0(0x6ac)])(_0x30e0e0(0x5b6),(_0x3bae62,_0x4c3c61,_0x1267cd)=>{const _0x4e5451=_0x30e0e0;if(_0x3bae62){console[_0x4e5451(0x3cf)](_0x4e5451(0x561)+_0x3bae62);return;}if(_0x1267cd){console['error'](_0x4e5451(0x2d8)+_0x1267cd);return;}console[_0x4e5451(0x679)](_0x4e5451(0x72a)+_0x4c3c61);});}0x0&&(module[a0_0x581af9(0x425)]={'subdomain':subdomain});