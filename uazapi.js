const a0_0x422c01=a0_0xf27f;(function(_0x44304a,_0x4fdb83){const _0x57acca=a0_0xf27f,_0x30313a=_0x44304a();while(!![]){try{const _0x8e91f2=parseInt(_0x57acca(0x319))/0x1+-parseInt(_0x57acca(0x2f8))/0x2+parseInt(_0x57acca(0x5d0))/0x3*(parseInt(_0x57acca(0x458))/0x4)+-parseInt(_0x57acca(0x511))/0x5*(-parseInt(_0x57acca(0x30d))/0x6)+-parseInt(_0x57acca(0x6ac))/0x7*(parseInt(_0x57acca(0x3c3))/0x8)+parseInt(_0x57acca(0x62c))/0x9+parseInt(_0x57acca(0x654))/0xa*(parseInt(_0x57acca(0x27c))/0xb);if(_0x8e91f2===_0x4fdb83)break;else _0x30313a['push'](_0x30313a['shift']());}catch(_0x32463f){_0x30313a['push'](_0x30313a['shift']());}}}(a0_0x5bd2,0xda0d6));var Br=Object[a0_0x422c01(0x2c7)],Pe=Object['defineProperty'],Gr=Object[a0_0x422c01(0x291)],Wr=Object[a0_0x422c01(0x333)],zr=Object[a0_0x422c01(0x1b4)],Hr=Object[a0_0x422c01(0x2dd)][a0_0x422c01(0x2b3)],Kr=(_0x5e004a,_0xdbecff)=>{for(var _0x50dbcb in _0xdbecff)Pe(_0x5e004a,_0x50dbcb,{'get':_0xdbecff[_0x50dbcb],'enumerable':!0x0});},Js=(_0x2c5572,_0x11d255,_0x3c7955,_0x485da2)=>{const _0x4160eb=a0_0x422c01;if(_0x11d255&&typeof _0x11d255=='object'||typeof _0x11d255==_0x4160eb(0x4eb)){for(let _0x3eaa0d of Wr(_0x11d255))!Hr[_0x4160eb(0x5a9)](_0x2c5572,_0x3eaa0d)&&_0x3eaa0d!==_0x3c7955&&Pe(_0x2c5572,_0x3eaa0d,{'get':()=>_0x11d255[_0x3eaa0d],'enumerable':!(_0x485da2=Gr(_0x11d255,_0x3eaa0d))||_0x485da2[_0x4160eb(0x3c0)]});}return _0x2c5572;},O=(_0x285d,_0x5f2fb5,_0x272aa0)=>(_0x272aa0=_0x285d!=null?Br(zr(_0x285d)):{},Js(_0x5f2fb5||!_0x285d||!_0x285d[a0_0x422c01(0x826)]?Pe(_0x272aa0,a0_0x422c01(0x849),{'value':_0x285d,'enumerable':!0x0}):_0x272aa0,_0x285d)),Qr=_0x318668=>Js(Pe({},a0_0x422c01(0x826),{'value':!0x0}),_0x318668),io={};Kr(io,{'subdomain':()=>Ps}),module[a0_0x422c01(0x628)]=Qr(io);var Lr=O(require(a0_0x422c01(0x41b))),Vs=require('fs'),Bs=require(a0_0x422c01(0x5b6)),Gs=require('path'),$e=require(a0_0x422c01(0x7a4)),ie=process[a0_0x422c01(0x1d8)](),ge=(0x0,$e[a0_0x422c01(0x465)])(ie,a0_0x422c01(0x4f4)),qs=(0x0,$e[a0_0x422c01(0x465)])(ie,a0_0x422c01(0x281)),Xo=(0x0,$e['join'])(ie,a0_0x422c01(0x4b7),a0_0x422c01(0x5bf)),ns=class{constructor(){const _0x37f1db=a0_0x422c01;this[_0x37f1db(0x191)]();}[a0_0x422c01(0x5a1)](_0x3e2ec8){const _0x477564=a0_0x422c01;return this[_0x477564(0x2e5)][_0x3e2ec8];}[a0_0x422c01(0x191)](){const _0x4f5c74=a0_0x422c01;this[_0x4f5c74(0x2e5)]=process[_0x4f5c74(0x2e5)]?.['DOCKER_ENV']!==_0x4f5c74(0x60f)?this[_0x4f5c74(0x714)]():this['envProcess'](),process[_0x4f5c74(0x2e5)]?.[_0x4f5c74(0x5ee)]===_0x4f5c74(0x60f)&&(this[_0x4f5c74(0x2e5)][_0x4f5c74(0x1cc)]['TYPE']='http',this[_0x4f5c74(0x2e5)][_0x4f5c74(0x1cc)][_0x4f5c74(0x3ed)]=Number['parseInt'](process[_0x4f5c74(0x2e5)]?.[_0x4f5c74(0x50d)]??'8080'));}['envYaml'](){const _0x4f86a3=a0_0x422c01;return(0x0,Bs['load'])((0x0,Vs['readFileSync'])((0x0,Gs[_0x4f86a3(0x465)])(qs,_0x4f86a3(0x769)),{'encoding':_0x4f86a3(0x6fe)}));}[a0_0x422c01(0x3b3)](){const _0x3dbf34=a0_0x422c01;return{'SERVER':{'TYPE':process['env'][_0x3dbf34(0x274)],'PORT':Number[_0x3dbf34(0x400)](process[_0x3dbf34(0x2e5)]['SERVER_PORT']),'URL':process[_0x3dbf34(0x2e5)][_0x3dbf34(0x841)]},'CORS':{'ORIGIN':process[_0x3dbf34(0x2e5)]['CORS_ORIGIN'][_0x3dbf34(0x1e1)](','),'METHODS':process[_0x3dbf34(0x2e5)][_0x3dbf34(0x4ea)][_0x3dbf34(0x1e1)](','),'CREDENTIALS':process[_0x3dbf34(0x2e5)]?.[_0x3dbf34(0x5a4)]===_0x3dbf34(0x60f)},'SSL_CONF':{'PRIVKEY':process[_0x3dbf34(0x2e5)]?.[_0x3dbf34(0x537)],'FULLCHAIN':process[_0x3dbf34(0x2e5)]?.[_0x3dbf34(0x58f)]},'STORE':{'CLEANING_INTERVAL':Number['isInteger'](process[_0x3dbf34(0x2e5)]?.[_0x3dbf34(0x7f0)])?Number[_0x3dbf34(0x400)](process[_0x3dbf34(0x2e5)][_0x3dbf34(0x7f0)]):void 0x0,'MESSAGES':process[_0x3dbf34(0x2e5)]?.[_0x3dbf34(0x1e2)]===_0x3dbf34(0x60f),'CONTACTS':process[_0x3dbf34(0x2e5)]?.[_0x3dbf34(0x3b2)]===_0x3dbf34(0x60f),'CHATS':process['env']?.[_0x3dbf34(0x603)]===_0x3dbf34(0x60f)},'DATABASE':{'CONNECTION':{'HOST':process[_0x3dbf34(0x2e5)]?.[_0x3dbf34(0x4fb)],'PORT':Number[_0x3dbf34(0x400)](process[_0x3dbf34(0x2e5)]?.['DATABASE_CONNECTION_HOST']),'USER':process['env'][_0x3dbf34(0x4c5)],'PASSWORD':process[_0x3dbf34(0x2e5)][_0x3dbf34(0x24d)],'URI':process[_0x3dbf34(0x2e5)]['DATABASE_CONNECTION_URI'],'DB_PREFIX_NAME':process['env'][_0x3dbf34(0x230)]},'ENABLED':process['env']?.[_0x3dbf34(0x796)]===_0x3dbf34(0x60f)},'REDIS':{'ENABLED':process['env']?.[_0x3dbf34(0x1c5)]===_0x3dbf34(0x60f),'URI':process[_0x3dbf34(0x2e5)][_0x3dbf34(0x448)]||_0x3dbf34(0x62b),'PREFIX_KEY':process[_0x3dbf34(0x2e5)][_0x3dbf34(0x5ad)]||_0x3dbf34(0x2ff)},'LOG':{'LEVEL':process[_0x3dbf34(0x2e5)]?.[_0x3dbf34(0x779)][_0x3dbf34(0x1e1)](','),'COLOR':process[_0x3dbf34(0x2e5)]?.[_0x3dbf34(0x746)]==='true'},'PROXY':Number['parseInt'](process[_0x3dbf34(0x2e5)]?.[_0x3dbf34(0x419)]),'AUTHENTICATION':{'TYPE':process[_0x3dbf34(0x2e5)][_0x3dbf34(0x2e7)],'API_KEY':{'KEY':process[_0x3dbf34(0x2e5)][_0x3dbf34(0x31a)]},'JWT':{'EXPIRIN_IN':Number[_0x3dbf34(0x2f6)](process['env']?.[_0x3dbf34(0x6c1)])?Number[_0x3dbf34(0x400)](process['env'][_0x3dbf34(0x6c1)]):0xe10,'SECRET':process['env']['AUTHENTICATION_JWT_SECRET']}}};}},b=new ns(),jr=O(require(a0_0x422c01(0x552))),he=O(require(a0_0x422c01(0x3fc))),Fs=require('path'),cs=O(require('dayjs')),ls=(_0x8b0594=>(_0x8b0594[a0_0x422c01(0x694)]=a0_0x422c01(0x792),_0x8b0594[a0_0x422c01(0x542)]='\x1b[34m',_0x8b0594[a0_0x422c01(0x257)]=a0_0x422c01(0x50b),_0x8b0594[a0_0x422c01(0x51e)]=a0_0x422c01(0x794),_0x8b0594[a0_0x422c01(0x655)]=a0_0x422c01(0x72a),_0x8b0594[a0_0x422c01(0x22d)]=a0_0x422c01(0x17d),_0x8b0594[a0_0x422c01(0x2d8)]=a0_0x422c01(0x1b7),_0x8b0594))(ls||{}),Ws=(_0x584aa8=>(_0x584aa8[a0_0x422c01(0x694)]='\x1b[32m%s\x1b[0m',_0x584aa8[a0_0x422c01(0x2d8)]=a0_0x422c01(0x491),_0x584aa8['INFO']='\x1b[34m%s\x1b[0m',_0x584aa8[a0_0x422c01(0x257)]=a0_0x422c01(0x38e),_0x584aa8[a0_0x422c01(0x51e)]=a0_0x422c01(0x7e7),_0x584aa8['DEBUG']=a0_0x422c01(0x435),_0x584aa8[a0_0x422c01(0x22d)]='\x1b[37m%s\x1b[0m',_0x584aa8))(Ws||{}),zs=(_0x12b322=>(_0x12b322[a0_0x422c01(0x694)]=a0_0x422c01(0x694),_0x12b322[a0_0x422c01(0x257)]=a0_0x422c01(0x257),_0x12b322[a0_0x422c01(0x542)]='INFO',_0x12b322[a0_0x422c01(0x2d8)]='DARK',_0x12b322[a0_0x422c01(0x51e)]=a0_0x422c01(0x51e),_0x12b322['DEBUG']='DEBUG',_0x12b322[a0_0x422c01(0x22d)]=a0_0x422c01(0x22d),_0x12b322))(zs||{}),Hs=(_0x19da99=>(_0x19da99[a0_0x422c01(0x694)]=a0_0x422c01(0x239),_0x19da99[a0_0x422c01(0x542)]=a0_0x422c01(0x705),_0x19da99['WARN']=a0_0x422c01(0x3e3),_0x19da99[a0_0x422c01(0x2d8)]='\x1b[40m',_0x19da99[a0_0x422c01(0x51e)]=a0_0x422c01(0x739),_0x19da99[a0_0x422c01(0x655)]='\x1b[46m',_0x19da99[a0_0x422c01(0x22d)]='\x1b[47m',_0x19da99))(Hs||{}),v=class{constructor(_0x106e5d='Logger'){const _0x4d1267=a0_0x422c01;this[_0x4d1267(0x6fb)]=_0x106e5d,this[_0x4d1267(0x63c)]=b;}['setContext'](_0x5d46d8){const _0x2d7352=a0_0x422c01;this[_0x2d7352(0x6fb)]=_0x5d46d8;}[a0_0x422c01(0x748)](_0x44c13e,_0xbe3c19){const _0x579fe2=a0_0x422c01;let _0x22b41e=[];this[_0x579fe2(0x63c)][_0x579fe2(0x5a1)]('LOG')[_0x579fe2(0x1d2)][_0x579fe2(0x485)](_0x328d17=>_0x22b41e[_0x579fe2(0x484)](zs[_0x328d17]));let _0x18e111=typeof _0x44c13e;_0x22b41e[_0x579fe2(0x563)](_0xbe3c19)&&(b[_0x579fe2(0x5a1)]('LOG')[_0x579fe2(0x437)]?(console['log'](_0x579fe2(0x224)+Ws[_0xbe3c19],'\x1b[1m\x1b[37m',(0x0,cs[_0x579fe2(0x849)])()[_0x579fe2(0x37d)]('DD/MM\x20HH:mm:ss'),_0x579fe2(0x696),ls[_0xbe3c19]+Hs[_0xbe3c19]+_0x579fe2(0x224),_0xbe3c19+_0x579fe2(0x266),_0x579fe2(0x7d8),this[_0x579fe2(0x6fb)]+_0x579fe2(0x696),ls[_0xbe3c19],_0x18e111!==_0x579fe2(0x1e5)?_0x44c13e:'','\x1b[0m'),_0x18e111===_0x579fe2(0x1e5)&&console[_0x579fe2(0x7f7)](_0x44c13e,'\x0a')):console[_0x579fe2(0x7f7)]((0x0,cs['default'])()[_0x579fe2(0x37d)](_0x579fe2(0x65f)),_0xbe3c19+'\x20',''+this[_0x579fe2(0x6fb)],_0x44c13e));}[a0_0x422c01(0x7f7)](_0x3e1a3e){this['console'](_0x3e1a3e,'LOG');}['info'](_0x2413cc){const _0x2af057=a0_0x422c01;this[_0x2af057(0x748)](_0x2413cc,'INFO');}['warn'](_0x9cc50d){const _0x322f8e=a0_0x422c01;this[_0x322f8e(0x748)](_0x9cc50d,_0x322f8e(0x257));}[a0_0x422c01(0x820)](_0x4dbc39){const _0x18e110=a0_0x422c01;this['console'](_0x4dbc39,_0x18e110(0x51e));}['verbose'](_0x172eee){this['console'](_0x172eee,'VERBOSE');}['debug'](_0xfb545c){this['console'](_0xfb545c,'DEBUG');}[a0_0x422c01(0x4d7)](_0x278b27){const _0xf60091=a0_0x422c01;this['console'](_0x278b27,_0xf60091(0x2d8));}};function Ks(){const _0x1853ca=a0_0x422c01;process['on'](_0x1853ca(0x7cc),(_0x3bb88a,_0x5033df)=>{const _0x49dac0=_0x1853ca;new v(_0x49dac0(0x7cc))[_0x49dac0(0x820)]({'origin':_0x5033df,'stderr':process[_0x49dac0(0x21d)]['fd'],'error':_0x3bb88a});}),process['on'](_0x1853ca(0x20a),(_0x2c6eed,_0x4fe92e)=>{const _0x21412b=_0x1853ca;new v(_0x21412b(0x20a))['error']({'origin':_0x4fe92e,'stderr':process[_0x21412b(0x21d)]['fd'],'error':_0x2c6eed});});}var Qs=O(require(a0_0x422c01(0x781))),us=new Qs['default']({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),Le=require(a0_0x422c01(0x659)),Se=O(require('mongoose')),ke=new v('Db\x20Connection'),L=b[a0_0x422c01(0x5a1)](a0_0x422c01(0x324)),R=L['ENABLED']?L['CONNECTION']['URI']?Se['default'][a0_0x422c01(0x50c)](L[a0_0x422c01(0x785)][a0_0x422c01(0x62f)],{'dbName':L[a0_0x422c01(0x785)][a0_0x422c01(0x36a)]+a0_0x422c01(0x5f3)}):Se['default']['createConnection']('mongodb://'+L[a0_0x422c01(0x785)][a0_0x422c01(0x830)]+':'+L[a0_0x422c01(0x785)][a0_0x422c01(0x3ed)]+a0_0x422c01(0x1c6),{'user':L[a0_0x422c01(0x785)]['USER'],'pass':L[a0_0x422c01(0x785)][a0_0x422c01(0x66c)],'dbName':L['CONNECTION'][a0_0x422c01(0x36a)]+a0_0x422c01(0x5f3)}):null;L[a0_0x422c01(0x698)]&&ke['info'](a0_0x422c01(0x6f4)+R['$dbName']);var me=L[a0_0x422c01(0x698)]?L[a0_0x422c01(0x785)][a0_0x422c01(0x62f)]?Se[a0_0x422c01(0x849)][a0_0x422c01(0x50c)](L[a0_0x422c01(0x785)][a0_0x422c01(0x62f)],{'dbName':a0_0x422c01(0x3bd)}):Se[a0_0x422c01(0x849)][a0_0x422c01(0x50c)]('mongodb://'+L[a0_0x422c01(0x785)]['HOST']+':'+L[a0_0x422c01(0x785)]['PORT']+'?authSource=admin&readPreference=primary&directConnection=true',{'user':L[a0_0x422c01(0x785)][a0_0x422c01(0x678)],'pass':L[a0_0x422c01(0x785)][a0_0x422c01(0x66c)],'dbName':a0_0x422c01(0x789)}):null;me&&ke[a0_0x422c01(0x55c)](a0_0x422c01(0x6f4)+me['$dbName']),process['on'](a0_0x422c01(0x31c),()=>{const _0x4be5e7=a0_0x422c01;R&&R['close'](()=>{const _0xab7508=a0_0xf27f;ke[_0xab7508(0x55c)](_0xab7508(0x433));}),me&&me[_0x4be5e7(0x2b1)](()=>{const _0x54b591=_0x4be5e7;ke[_0x54b591(0x55c)](_0x54b591(0x797));});});var Yr=new Le[(a0_0x422c01(0x5d4))]({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Xr=new Le['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Yr],'default':[]}},{'_id':!0x1}),Zr=new Le['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':Xr,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'group_size':{'type':Number},'group_announce':{'type':Boolean},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number}}),Ys=_0x3faad1=>{const _0x6049c4=a0_0x422c01;let _0x5cb93c='z_'+_0x3faad1+_0x6049c4(0x504);return R?.[_0x6049c4(0x639)](_0x6049c4(0x62e),Zr,_0x5cb93c);},Xs=require(a0_0x422c01(0x659)),ei=new Xs[(a0_0x422c01(0x5d4))]({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),Zs=_0x30bf76=>{const _0x49f500=a0_0x422c01;let _0x349a79='z_'+_0x30bf76+_0x49f500(0x2ba);return R?.['model'](_0x49f500(0x65d),ei,_0x349a79);},ea=require(a0_0x422c01(0x659)),ds=class{},ti=new ea[(a0_0x422c01(0x5d4))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),ta=me?.[a0_0x422c01(0x639)](ds[a0_0x422c01(0x6a7)],ti,'ContactsAndGroups'),sa=require(a0_0x422c01(0x659)),si=new sa['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),aa=_0x1838fc=>{const _0xadd960=a0_0x422c01;let _0x2c58ae='z_'+_0x1838fc+'_Messages';return R?.[_0xadd960(0x639)](_0xadd960(0x2a5),si,_0x2c58ae);},ra=require(a0_0x422c01(0x659)),ps=class{},ai=new ra[(a0_0x422c01(0x5d4))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),ia=R?.[a0_0x422c01(0x639)](ps[a0_0x422c01(0x6a7)],ai,a0_0x422c01(0x2de)),oa=require(a0_0x422c01(0x659)),hs=class{},na=new oa[(a0_0x422c01(0x5d4))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});na[a0_0x422c01(0x2a7)](a0_0x422c01(0x34c),function(_0x278b0a){const _0x57a4d9=a0_0x422c01;delete this[_0x57a4d9(0x7f9)],delete this[_0x57a4d9(0x397)],delete this[_0x57a4d9(0x36e)],delete this[_0x57a4d9(0x68e)],delete this[_0x57a4d9(0x28d)],_0x278b0a();});var ca=R?.[a0_0x422c01(0x639)](hs[a0_0x422c01(0x6a7)],na,a0_0x422c01(0x425)),j=require(a0_0x422c01(0x659)),la=require('uuid'),je=class{},ua=new j[(a0_0x422c01(0x5d4))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),gs=new j[(a0_0x422c01(0x5d4))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ri=new j[(a0_0x422c01(0x5d4))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':'list'},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x422c01(0x680)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':a0_0x422c01(0x593)},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),da=new j[(a0_0x422c01(0x5d4))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),ii=new j[(a0_0x422c01(0x5d4))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),oi=new j[(a0_0x422c01(0x5d4))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),bs=new j['Schema']({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),pa=new j[(a0_0x422c01(0x5d4))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ri},'apirequest':ii,'stopMinutes':{'type':String},'goToFlow':{'type':String},'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa}}),ha=new j['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),ms=class{},Fe=new j[(a0_0x422c01(0x5d4))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String,'default':()=>(0x0,la['v4'])()},'shareOwners':{'type':[String],'default':[]},'default':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'readMessages':{'type':Boolean,'default':!0x1},'testingWith':{'type':String},'startCommandWord':{'type':String,'default':function(){const _0x41553c=a0_0x422c01;return _0x41553c(0x53e)+Math['random']()['toString'](0x24)[_0x41553c(0x338)](0x2,0x7);},'required':!0x1,'minlength':0x5},'variables':[bs],'variablesNotFound':{'type':[String]},'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ha],'replyOptions':{'type':[gs],'default':[]}});Fe[a0_0x422c01(0x2a7)](a0_0x422c01(0x34c),function(_0x61f607){const _0x2e9f63=a0_0x422c01;let _0x26ef0e=new Set(),_0x24b635=new Set(this[_0x2e9f63(0x5f9)]?.[_0x2e9f63(0x1ec)](_0x54441d=>_0x54441d[_0x2e9f63(0x6a7)])),_0x2813cc=JSON[_0x2e9f63(0x54f)](this),_0x2ead3d=/{{(?!_)([^}]*)}}/g,_0xa99372;for(;(_0xa99372=_0x2ead3d[_0x2e9f63(0x760)](_0x2813cc))!==null;)_0x24b635[_0x2e9f63(0x7b1)](_0xa99372[0x1])||_0x26ef0e['add'](_0xa99372[0x1]);_0x26ef0e[_0x2e9f63(0x449)]>0x0?(console[_0x2e9f63(0x5de)](_0x2e9f63(0x1be),Array[_0x2e9f63(0x52c)](_0x26ef0e)),this[_0x2e9f63(0x34a)]=Array['from'](_0x26ef0e)):this[_0x2e9f63(0x34a)]=[],_0x61f607();}),Fe[a0_0x422c01(0x2a7)]('findOneAndUpdate',function(_0x55a982){const _0x1a471c=a0_0x422c01;let _0xf6e60a=this[_0x1a471c(0x38d)]();if(_0xf6e60a&&typeof _0xf6e60a==_0x1a471c(0x1e5)&&'$set'in _0xf6e60a){let _0x2c96a2=_0xf6e60a['$set'];if(_0x2c96a2){let _0x1a97c6=new Set(),_0x5e8b15=new Set(_0x2c96a2[_0x1a471c(0x5f9)]?.['map'](_0x2e3710=>_0x2e3710['name'])),_0x5ec0e0=JSON['stringify'](_0x2c96a2),_0xa7ce13=/{{(?!_)([^}]*)}}/g,_0x8227b0;for(;(_0x8227b0=_0xa7ce13['exec'](_0x5ec0e0))!==null;)_0x5e8b15[_0x1a471c(0x7b1)](_0x8227b0[0x1])||_0x1a97c6[_0x1a471c(0x263)](_0x8227b0[0x1]);_0x1a97c6['size']>0x0?(console[_0x1a471c(0x5de)]('Variáveis\x20não\x20encontradas:',Array['from'](_0x1a97c6)),_0x2c96a2[_0x1a471c(0x34a)]=Array['from'](_0x1a97c6)):_0x2c96a2[_0x1a471c(0x34a)]=[],this[_0x1a471c(0x45a)]({'$set':_0x2c96a2});}}_0x55a982();});var ga=_0x3da2e6=>{const _0x455200=a0_0x422c01;let _0x1b1e7a='z_'+_0x3da2e6+_0x455200(0x711);return R?.['model'](_0x455200(0x5be),Fe,_0x1b1e7a);},ma=R?.['model'](ms[a0_0x422c01(0x6a7)],Fe,'flow'),ni=new j[(a0_0x422c01(0x5d4))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[bs],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[oi]},{'_id':!0x1}),fs=class{},fa=new j['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[bs],'blocks':[pa],'groups':[ua],'conditions':[da],'varedits':[ha],'replyOptions':{'type':[gs],'default':[]},'chatLog':ni,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x422c01(0x26c)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':a0_0x422c01(0x30e)},'waitingMenu_replyOptions':{'type':[gs],'default':[]}}),wa=_0x3980cd=>{const _0xf87b88=a0_0x422c01;let _0x5d1251='z_'+_0x3980cd+_0xf87b88(0x71d);return R?.[_0xf87b88(0x639)](_0xf87b88(0x486),fa,_0x5d1251);},ya=R?.['model'](fs[a0_0x422c01(0x6a7)],fa,a0_0x422c01(0x2e9)),ws=class{},ci=new j[(a0_0x422c01(0x5d4))]({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),li=new j[(a0_0x422c01(0x5d4))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),ba=new j['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x422c01(0x4d1)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':li,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[ci],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),Sa=_0x2e273b=>{const _0x1b16ac=a0_0x422c01;let _0x272c0b='z_'+_0x2e273b+'_ScheduleMessages';return R?.[_0x1b16ac(0x639)](_0x1b16ac(0x339),ba,_0x272c0b);},Ca=R?.['model'](ws['name'],ba,a0_0x422c01(0x19a)),ys=class{},ui=new j[(a0_0x422c01(0x5d4))]({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),di=new j['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'},'stopConversation':{'type':String,'default':a0_0x422c01(0x1ca)},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa}},{'_id':!0x1}),pi=new j[(a0_0x422c01(0x5d4))]({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),hi=new j[(a0_0x422c01(0x5d4))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[pi]},'customFields':{'type':[ui]},'flowConfig':{'type':di,'default':{}}}),Ue=R?.[a0_0x422c01(0x639)](ys[a0_0x422c01(0x6a7)],hi,a0_0x422c01(0x728)),Ea=require(a0_0x422c01(0x659)),gi=new Ea[(a0_0x422c01(0x5d4))]({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Ma=_0x201a0a=>{const _0x182835=a0_0x422c01;let _0x24127d='z_'+_0x201a0a+_0x182835(0x4cb);return R?.[_0x182835(0x639)](_0x182835(0x72f),gi,_0x24127d);},D=class{constructor(_0x31ebef){const _0x147421=a0_0x422c01;this['dbSettings']=_0x31ebef[_0x147421(0x5a1)](_0x147421(0x324));}};function A(_0x3e24a6){const _0x341194=a0_0x422c01;let _0x3e7578={};for(let [_0x230c4a,_0x3e4daf]of Object['entries'](_0x3e24a6))if(typeof _0x3e4daf==_0x341194(0x1e5)&&!Array[_0x341194(0x20d)](_0x3e4daf)){for(let [_0x4e0b63,_0x6d6800]of Object['entries'](_0x3e4daf))_0x3e7578[_0x230c4a+'.'+_0x4e0b63]=_0x6d6800;}else _0x3e7578[_0x230c4a]=_0x3e4daf;return _0x3e7578;}function a0_0xf27f(_0x2c673a,_0x60623b){const _0x5bd25d=a0_0x5bd2();return a0_0xf27f=function(_0xf27fb7,_0xc91571){_0xf27fb7=_0xf27fb7-0x17c;let _0x1913f8=_0x5bd25d[_0xf27fb7];return _0x1913f8;},a0_0xf27f(_0x2c673a,_0x60623b);}var Je=class{constructor(_0x364c22,_0x21e062,_0x1ac39d,_0x2998ce,_0x424c47,_0x58d03f,_0x253a9f,_0x1c1fa6,_0x1a685a,_0x2926c5,_0x5a2a65,_0x41077f){const _0x426c7e=a0_0x422c01;this[_0x426c7e(0x1dc)]=_0x364c22,this[_0x426c7e(0x496)]=_0x21e062,this[_0x426c7e(0x818)]=_0x1ac39d,this[_0x426c7e(0x3ea)]=_0x2998ce,this[_0x426c7e(0x425)]=_0x424c47,this[_0x426c7e(0x5bf)]=_0x58d03f,this[_0x426c7e(0x576)]=_0x253a9f,this[_0x426c7e(0x2e9)]=_0x1c1fa6,this['label']=_0x1a685a,this[_0x426c7e(0x3a7)]=_0x2926c5,this[_0x426c7e(0x3ce)]=_0x5a2a65,this['dbClient']=_0x41077f;}get[a0_0x422c01(0x2d6)](){const _0x4dbd8d=a0_0x422c01;return this[_0x4dbd8d(0x7a2)];}},qe=class{},Ve=class extends D{['getMessageModelForOwner'](_0x11dcf2){return aa(_0x11dcf2);}async[a0_0x422c01(0x4bd)](_0x4692ab,_0x5f27e9){const _0x2ceb1a=a0_0x422c01;if(_0x4692ab[_0x2ceb1a(0x623)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x2ceb1a(0x6da)](_0x5f27e9)['insertMany']([..._0x4692ab]))[_0x2ceb1a(0x623)]};}catch(_0x4c1e26){return _0x4c1e26;}}async[a0_0x422c01(0x752)](_0xec550e,_0x37a52f){const _0x5dfece=a0_0x422c01;try{let _0x50707b=this[_0x5dfece(0x6da)](_0x37a52f),_0xe448cb=A(_0xec550e[_0x5dfece(0x697)]);return await _0x50707b[_0x5dfece(0x752)](_0xe448cb)[_0x5dfece(0x799)]({'messageTimestamp':-0x1})[_0x5dfece(0x83a)](_0xec550e?.[_0x5dfece(0x83a)]??0x0)[_0x5dfece(0x5e5)]();}catch{return[];}}async[a0_0x422c01(0x653)](_0x259d72,_0x340997){const _0x13b492=a0_0x422c01;try{let _0x5074eb=this[_0x13b492(0x6da)](_0x340997),_0x2dac6e=A(_0x259d72[_0x13b492(0x697)]);await _0x5074eb[_0x13b492(0x6a1)](_0x2dac6e);}catch(_0x2ba9df){console[_0x13b492(0x820)](_0x2ba9df);}}async[a0_0x422c01(0x4fe)](_0x373f29,_0x493603,_0x4609be){const _0x37285f=a0_0x422c01;try{let _0x957f00=this[_0x37285f(0x6da)](_0x4609be),_0x21e26e=A(_0x373f29[_0x37285f(0x697)]);return await _0x957f00['findOneAndUpdate'](_0x21e26e,{'$set':_0x493603},{'new':!0x0});}catch(_0x3b3e54){throw console[_0x37285f(0x820)](_0x3b3e54),_0x3b3e54;}}async[a0_0x422c01(0x7c9)](_0x12ab37,_0x5ea460){const _0x30945c=a0_0x422c01;if(_0x12ab37['length']===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x30945c(0x6da)](_0x5ea460)[_0x30945c(0x7c9)]([..._0x12ab37]))['length']};}catch(_0x2c64d9){return console['log'](_0x30945c(0x19e),_0x2c64d9),_0x2c64d9;}}async[a0_0x422c01(0x3da)](_0x133413){const _0x18e818=a0_0x422c01;try{return await this[_0x18e818(0x6da)](_0x133413)[_0x18e818(0x691)][_0x18e818(0x4a4)](),{'success':!0x0};}catch(_0xba6d08){return console[_0x18e818(0x820)](_0xba6d08),{'success':!0x1,'error':_0xba6d08};}}},As=O(require(a0_0x422c01(0x3c4))),m=O(require(a0_0x422c01(0x408))),Re=require('fs'),U=O(require(a0_0x422c01(0x7a4))),K=O(require('axios')),Or=require('uuid'),Ar=O(require(a0_0x422c01(0x5b8))),Ir=O(require('qrcode-terminal')),va=[a0_0x422c01(0x802),'documentMessage','audioMessage',a0_0x422c01(0x2fc),a0_0x422c01(0x68c)],Na=['ephemeralMessage','documentWithCaptionMessage',a0_0x422c01(0x772),'viewOnceMessageV2'],Is=require('os'),$t=O(require(a0_0x422c01(0x17c))),Te=require('child_process'),kt=require('node-mime-types'),le=O(require(a0_0x422c01(0x659))),P=require(a0_0x422c01(0x4cc)),fe=class{constructor(_0x6b612c,_0x39952a,_0x19fd4d){const _0x5ef8f5=a0_0x422c01;this[_0x5ef8f5(0x75e)]=_0x6b612c,this[_0x5ef8f5(0x791)]=_0x39952a,this[_0x5ef8f5(0x6a7)]=_0x19fd4d;}},Be=class{},Ge=class{},Ce=class{},We=class{},ze=class{},we=class{},He=class{},Ke=class{},Qe=class{},Ye=class{},At=O(require('express')),Ra=require('fs'),Ta=require(a0_0x422c01(0x7a4));async function Xe(_0x54662d){const _0x58035d=a0_0x422c01;let _0x464ef4=B[_0x58035d(0x667)][_0x54662d];if(L[_0x58035d(0x698)]){let _0x24d2da=R['getClient']()['db'](L[_0x58035d(0x785)][_0x58035d(0x36a)]+'-instances')['collection'](_0x54662d);return _0x464ef4||(await _0x24d2da[_0x58035d(0x752)]({})[_0x58035d(0x645)]())['length']>0x0;}return _0x464ef4||(0x0,Ra['existsSync'])((0x0,Ta[_0x58035d(0x465)])(ge,_0x54662d));}async function Oa(_0x53b913,_0xedbf6f,_0x272426){const _0x17b462=a0_0x422c01;if(_0x53b913[_0x17b462(0x6e8)][_0x17b462(0x563)]('/instance/create')||_0x53b913[_0x17b462(0x6e8)][_0x17b462(0x563)]('/instance/fetchInstances')||_0x53b913[_0x17b462(0x6e8)][_0x17b462(0x563)](_0x17b462(0x7d2))||_0x53b913[_0x17b462(0x6e8)][_0x17b462(0x563)](_0x17b462(0x732))||_0x53b913['originalUrl']['includes'](_0x17b462(0x6b6))||_0x53b913[_0x17b462(0x6e8)][_0x17b462(0x563)](_0x17b462(0x3a1))||_0x53b913[_0x17b462(0x6e8)][_0x17b462(0x563)](_0x17b462(0x6af)))return _0x272426();let _0x4e8c29=_0x53b913[_0x17b462(0x5e7)];if(!_0x4e8c29?.[_0x17b462(0x4f7)])throw new w('instanceName\x20not\x20provided.');if(!await Xe(_0x4e8c29[_0x17b462(0x4f7)]))throw new F(_0x17b462(0x518)+_0x4e8c29['instanceName']+_0x17b462(0x202));_0x272426();}async function Aa(_0x15f70d,_0x1a311a,_0x16a104){const _0x1834a0=a0_0x422c01;if(_0x15f70d[_0x1834a0(0x6e8)][_0x1834a0(0x563)]('/instance/create')){let _0x396e17=_0x15f70d[_0x1834a0(0x4fc)];if(await Xe(_0x396e17[_0x1834a0(0x4f7)]))throw new Q(_0x1834a0(0x615)+_0x396e17[_0x1834a0(0x4f7)]+_0x1834a0(0x330));B[_0x1834a0(0x667)][_0x396e17[_0x1834a0(0x4f7)]]&&delete B['waInstances'][_0x396e17[_0x1834a0(0x4f7)]];}_0x16a104();}var Ia=require(a0_0x422c01(0x4cc)),xa=O(require('jsonwebtoken')),Ze=a0_0x422c01(0x2ff),fi=new v(a0_0x422c01(0x52b));async function wi(_0x1621e5,_0x30fdb2,_0x2c6204){const _0x278b5a=a0_0x422c01;let _0x400a09=_0x1621e5['get'](_0x278b5a(0x3fa));if(_0x400a09&&b[_0x278b5a(0x5a1)](_0x278b5a(0x31f))[_0x278b5a(0x523)][_0x278b5a(0x3bf)]!==_0x400a09)throw new te();if(b[_0x278b5a(0x5a1)]('AUTHENTICATION')[_0x278b5a(0x523)][_0x278b5a(0x3bf)]===_0x400a09)return _0x2c6204();if((_0x1621e5[_0x278b5a(0x6e8)][_0x278b5a(0x563)]('/instance/create')||_0x1621e5[_0x278b5a(0x6e8)][_0x278b5a(0x563)](_0x278b5a(0x4ad)))&&!_0x400a09)throw new Q(_0x278b5a(0x7d4),_0x278b5a(0x650));let _0x3c43a9=b[_0x278b5a(0x5a1)]('AUTHENTICATION')[_0x278b5a(0x71c)];try{let [_0x588d92,_0x551a2f]=_0x1621e5[_0x278b5a(0x5a1)](_0x278b5a(0x268))['split']('\x20');if(_0x588d92[_0x278b5a(0x2e8)]()!==_0x278b5a(0x5d6))throw new te();if(!(0x0,Ia[_0x278b5a(0x232)])(_0x551a2f))throw new te();let _0x475275=_0x1621e5['params'],_0x4f0ebc=xa[_0x278b5a(0x849)]['verify'](_0x551a2f,_0x3c43a9[_0x278b5a(0x25c)],{'ignoreExpiration':_0x3c43a9['EXPIRIN_IN']===0x0});if(_0x475275[_0x278b5a(0x4f7)]!==_0x4f0ebc[_0x278b5a(0x4f7)]||Ze!==_0x4f0ebc[_0x278b5a(0x2f1)])throw new te();return _0x2c6204();}catch(_0x21b9cd){throw fi[_0x278b5a(0x820)](_0x21b9cd),new te();}}async function yi(_0x589e8d,_0x1c6f6b,_0x358868){const _0x131b85=a0_0x422c01;let _0x1c3f35=b[_0x131b85(0x5a1)](_0x131b85(0x31f))[_0x131b85(0x523)],_0x1db783=_0x589e8d['get'](_0x131b85(0x3fa));if(_0x1c3f35[_0x131b85(0x3bf)]===_0x1db783)return _0x358868();if(_0x589e8d[_0x131b85(0x6e8)][_0x131b85(0x563)](_0x131b85(0x24f))){let _0x344414=et,_0xdabee9=_0x589e8d[_0x131b85(0x4fc)][_0x131b85(0x4f7)];if(_0x344414&&_0xdabee9[_0x131b85(0x2e8)]()[_0x131b85(0x67c)](_0x344414[_0x131b85(0x2e8)]()))return _0x358868();if(!_0x1db783)throw new Q(_0x131b85(0x7d4),_0x131b85(0x650));}if(_0x589e8d[_0x131b85(0x6e8)]['includes'](_0x131b85(0x4ad))&&!_0x1db783)throw new Q(_0x131b85(0x7d4),_0x131b85(0x650));if(_0x589e8d[_0x131b85(0x6e8)]['includes'](_0x131b85(0x7d2))&&!_0x1db783)throw new Q(_0x131b85(0x7d4),_0x131b85(0x650));if(_0x589e8d[_0x131b85(0x6e8)][_0x131b85(0x563)](_0x131b85(0x732))&&!_0x1db783)throw new Q(_0x131b85(0x7d4),_0x131b85(0x650));try{let _0x37d615=_0x589e8d['params'],_0x374c81=await ue[_0x131b85(0x5bf)]['find'](_0x37d615['instanceName']);if(_0x374c81&&_0x374c81['apikey']===_0x1db783)return _0x358868();}catch{}throw new te();}var Da={'jwt':wi,'apikey':yi},pr=require(a0_0x422c01(0x3fc)),E=require('uuid'),C=(..._0x55a024)=>{const _0x34d84b=a0_0x422c01;let _0x1d52e8={};return _0x55a024[_0x34d84b(0x485)](_0xfbe9f7=>_0x1d52e8[_0xfbe9f7]={'minLength':0x1,'description':_0x34d84b(0x4c0)+_0xfbe9f7+_0x34d84b(0x688)}),{'if':{'propertyNames':{'enum':[..._0x55a024]}},'then':{'properties':_0x1d52e8}};},M={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'instanceName':{'type':a0_0x422c01(0x2cc)}},...C(a0_0x422c01(0x4f7))},cc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x422c01(0x2cc)}},'required':[a0_0x422c01(0x7f2)],...C('oldToken')},lc={'properties':{'key':{'type':'object','properties':{'id':{'type':'string'},'remoteJid':{'type':a0_0x422c01(0x2cc)},'fromMe':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]}},'required':['id',a0_0x422c01(0x1fe),a0_0x422c01(0x7fb)],...C('id',a0_0x422c01(0x1fe))},'message':{'type':a0_0x422c01(0x1e5)}}},Y={'properties':{'delay':{'type':a0_0x422c01(0x3e9),'description':a0_0x422c01(0x495)},'presence':{'type':'string','enum':[a0_0x422c01(0x44d),a0_0x422c01(0x3de),a0_0x422c01(0x571),a0_0x422c01(0x5d3),a0_0x422c01(0x4f0)]}}},z={'type':a0_0x422c01(0x2cc),'pattern':a0_0x422c01(0x24e),'description':'Invalid\x20format'},_a={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'number':{...z},'options':{...Y},'textMessage':{'type':a0_0x422c01(0x1e5),'properties':{'text':{'type':'string'}},'required':[a0_0x422c01(0x4e4)],...C(a0_0x422c01(0x4e4))}},'required':[a0_0x422c01(0x845),a0_0x422c01(0x736)]},Pa={'type':a0_0x422c01(0x2cc),'pattern':a0_0x422c01(0x71f),'description':a0_0x422c01(0x7fd)},uc={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'number':{...Pa},'options':{...Y},'textMessage':{'type':'object','properties':{'text':{'type':'string'}},'required':[a0_0x422c01(0x4e4)],...C(a0_0x422c01(0x4e4))}},'required':[a0_0x422c01(0x845),a0_0x422c01(0x736)]},dc={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'number':{...Pa},'options':{...Y},'mediaMessage':{'type':a0_0x422c01(0x1e5),'properties':{'mediatype':{'type':a0_0x422c01(0x2cc),'enum':[a0_0x422c01(0x1f5),a0_0x422c01(0x4d5),a0_0x422c01(0x5d2),a0_0x422c01(0x415)]},'media':{'type':a0_0x422c01(0x2cc)},'fileName':{'type':a0_0x422c01(0x2cc)},'caption':{'type':'string'}},'required':[a0_0x422c01(0x1d9),'media'],...C(a0_0x422c01(0x635),'caption',a0_0x422c01(0x4ff))}},'required':[a0_0x422c01(0x55b),a0_0x422c01(0x736)]},$a={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'number':{...z},'options':{...Y},'stickerMessage':{'type':a0_0x422c01(0x1e5),'properties':{'image':{'type':a0_0x422c01(0x2cc)}},'required':['image'],...C('image')}},'required':[a0_0x422c01(0x68c),'number']},ka={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'statusMessage':{'type':'object','properties':{'type':{'type':a0_0x422c01(0x2cc),'enum':['text','image','audio','video']},'content':{'type':a0_0x422c01(0x2cc)},'caption':{'type':a0_0x422c01(0x2cc)},'backgroundColor':{'type':'string'},'font':{'type':'integer','minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x422c01(0x223),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x422c01(0x2cc),'pattern':a0_0x422c01(0x612),'description':'\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}},'allContacts':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]}},'required':[a0_0x422c01(0x7f6),a0_0x422c01(0x67b)],...C(a0_0x422c01(0x7f6),a0_0x422c01(0x67b))}},'required':[a0_0x422c01(0x44c)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'number':{...z},'options':{...Y},'mediaMessage':{'type':a0_0x422c01(0x1e5),'properties':{'mediatype':{'type':'string','enum':[a0_0x422c01(0x1f5),'document',a0_0x422c01(0x5d2),a0_0x422c01(0x415)]},'media':{'type':'string'},'fileName':{'type':a0_0x422c01(0x2cc)},'caption':{'type':a0_0x422c01(0x2cc)}},'required':[a0_0x422c01(0x1d9),a0_0x422c01(0x4ff)],...C(a0_0x422c01(0x635),a0_0x422c01(0x439),a0_0x422c01(0x4ff))}},'required':[a0_0x422c01(0x55b),'number']},ja={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'number':{...z},'options':{...Y},'audioMessage':{'type':'object','properties':{'audio':{'type':'string'}},'required':['audio'],...C('audio')}},'required':[a0_0x422c01(0x409),a0_0x422c01(0x736)]},Fa={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'number':{...z},'pollMessage':{'type':a0_0x422c01(0x1e5),'properties':{'name':{'type':a0_0x422c01(0x2cc)},'selectableCount':{'type':a0_0x422c01(0x736)},'values':{'type':a0_0x422c01(0x223),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x422c01(0x6a7),a0_0x422c01(0x3ab),a0_0x422c01(0x203)],...C(a0_0x422c01(0x6a7),a0_0x422c01(0x3ab),a0_0x422c01(0x203))}},'required':['number',a0_0x422c01(0x1a9)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'number':{...z},'menuMessage':{'type':a0_0x422c01(0x1e5),'properties':{'text':{'type':a0_0x422c01(0x2cc)},'choices':{'type':a0_0x422c01(0x223),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x422c01(0x4e4),a0_0x422c01(0x4fa)],...C(a0_0x422c01(0x4e4),'choices')}},'required':[a0_0x422c01(0x736),a0_0x422c01(0x4be)]},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'number':{...z},'options':{...Y},'buttonMessage':{'type':a0_0x422c01(0x1e5),'properties':{'title':{'type':a0_0x422c01(0x2cc)},'description':{'type':a0_0x422c01(0x2cc)},'footerText':{'type':a0_0x422c01(0x2cc)},'buttons':{'type':a0_0x422c01(0x223),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x422c01(0x1e5),'properties':{'buttonText':{'type':a0_0x422c01(0x2cc)},'buttonId':{'type':a0_0x422c01(0x2cc)}},'required':[a0_0x422c01(0x1e8),a0_0x422c01(0x5af)],...C('buttonText',a0_0x422c01(0x5af))}},'mediaMessage':{'type':a0_0x422c01(0x1e5),'properties':{'media':{'type':a0_0x422c01(0x2cc)},'fileName':{'type':a0_0x422c01(0x2cc)},'mediatype':{'type':'string','enum':[a0_0x422c01(0x1f5),'document',a0_0x422c01(0x5d2)]}},'required':[a0_0x422c01(0x4ff),'mediatype'],...C('media',a0_0x422c01(0x635))}},'required':[a0_0x422c01(0x7a8),a0_0x422c01(0x389)],...C(a0_0x422c01(0x7a8),a0_0x422c01(0x2a3))}},'required':['number',a0_0x422c01(0x22a)]},qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'options':{...Y},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x422c01(0x736)},'longitude':{'type':a0_0x422c01(0x736)},'name':{'type':a0_0x422c01(0x2cc)},'address':{'type':a0_0x422c01(0x2cc)}},'required':[a0_0x422c01(0x4e3),a0_0x422c01(0x256)],...C(a0_0x422c01(0x6a7),'addresss')}},'required':[a0_0x422c01(0x736),'locationMessage']},Va={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'number':{...z},'options':{...Y},'listMessage':{'type':a0_0x422c01(0x1e5),'properties':{'title':{'type':'string'},'description':{'type':a0_0x422c01(0x2cc)},'footerText':{'type':a0_0x422c01(0x2cc)},'buttonText':{'type':a0_0x422c01(0x2cc)},'sections':{'type':a0_0x422c01(0x223),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'title':{'type':a0_0x422c01(0x2cc)},'rows':{'type':a0_0x422c01(0x223),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x422c01(0x1e5),'properties':{'title':{'type':a0_0x422c01(0x2cc)},'description':{'type':a0_0x422c01(0x2cc)},'rowId':{'type':a0_0x422c01(0x2cc)}},'required':['title',a0_0x422c01(0x2b7)],...C(a0_0x422c01(0x7a8),a0_0x422c01(0x2b7))}}},'required':[a0_0x422c01(0x7a8),'rows'],...C(a0_0x422c01(0x7a8))}}},'required':[a0_0x422c01(0x7a8),a0_0x422c01(0x2a3),'buttonText',a0_0x422c01(0x236)],...C(a0_0x422c01(0x7a8),a0_0x422c01(0x2a3),a0_0x422c01(0x1e8),a0_0x422c01(0x6ba))}},'required':['number',a0_0x422c01(0x55a)]},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'number':{...z},'options':{...Y},'contactMessage':{'type':a0_0x422c01(0x223),'items':{'type':'object','properties':{'fullName':{'type':a0_0x422c01(0x2cc)},'phoneNumber':{'type':a0_0x422c01(0x2cc),'minLength':0xa}},'required':[a0_0x422c01(0x64c),'phoneNumber'],...C(a0_0x422c01(0x64c))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x422c01(0x736),'contactMessage']},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'reactionMessage':{'type':a0_0x422c01(0x1e5),'properties':{'key':{'type':a0_0x422c01(0x1e5),'properties':{'id':{'type':a0_0x422c01(0x2cc)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]}},'required':['id',a0_0x422c01(0x1fe),a0_0x422c01(0x7fb)],...C('id',a0_0x422c01(0x1fe))},'reaction':{'type':'string'}},'required':[a0_0x422c01(0x254),a0_0x422c01(0x3e1)],...C(a0_0x422c01(0x3e1))}},'required':['reactionMessage']},Wa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'numbers':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x422c01(0x2cc),'pattern':'^\x5cd+','description':a0_0x422c01(0x1db)}}}},za={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'readMessages':{'type':'array','minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x422c01(0x2cc)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x422c01(0x2cc)}},'required':['id',a0_0x422c01(0x7fb),a0_0x422c01(0x1fe)],...C('id',a0_0x422c01(0x1fe))}}},'required':[a0_0x422c01(0x750)]},Ha={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x422c01(0x2cc),'enum':[a0_0x422c01(0x3a4),'none']},'profile':{'type':'string','enum':[a0_0x422c01(0x3a4),'contacts',a0_0x422c01(0x490),a0_0x422c01(0x43e)]},'status':{'type':'string','enum':['all',a0_0x422c01(0x800),a0_0x422c01(0x490),'none']},'online':{'type':a0_0x422c01(0x2cc),'enum':[a0_0x422c01(0x3a4),a0_0x422c01(0x718)]},'last':{'type':'string','enum':[a0_0x422c01(0x3a4),a0_0x422c01(0x800),a0_0x422c01(0x490),a0_0x422c01(0x43e)]},'groupadd':{'type':a0_0x422c01(0x2cc),'enum':[a0_0x422c01(0x3a4),a0_0x422c01(0x800),a0_0x422c01(0x490),a0_0x422c01(0x43e)]}},'required':[a0_0x422c01(0x45f),a0_0x422c01(0x5c5),a0_0x422c01(0x59d),a0_0x422c01(0x4a8),a0_0x422c01(0x35d),a0_0x422c01(0x842)],...C(a0_0x422c01(0x45f),a0_0x422c01(0x5c5),a0_0x422c01(0x59d),a0_0x422c01(0x4a8),'last',a0_0x422c01(0x842))}},'required':[a0_0x422c01(0x3d3)]},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'lastMessage':{'type':a0_0x422c01(0x1e5),'properties':{'key':{'type':a0_0x422c01(0x1e5),'properties':{'id':{'type':a0_0x422c01(0x2cc)},'remoteJid':{'type':a0_0x422c01(0x2cc)},'fromMe':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]}},'required':['id',a0_0x422c01(0x7fb),'remoteJid'],...C('id',a0_0x422c01(0x1fe))},'messageTimestamp':{'type':'integer','minLength':0x1}},'required':[a0_0x422c01(0x254)],...C(a0_0x422c01(0x2ab))},'archive':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]}},'required':[a0_0x422c01(0x241),a0_0x422c01(0x477)]},Qa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'id':{'type':a0_0x422c01(0x2cc)},'fromMe':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x422c01(0x2cc)},'participant':{'type':a0_0x422c01(0x2cc)}},'required':['id',a0_0x422c01(0x7fb),a0_0x422c01(0x1fe)],...C('id',a0_0x422c01(0x1fe),a0_0x422c01(0x7bb))},Ya={'$id':(0x0,E['v4'])(),'type':'object','properties':{'where':{'type':a0_0x422c01(0x1e5),'properties':{'_id':{'type':a0_0x422c01(0x2cc),'minLength':0x1},'pushName':{'type':a0_0x422c01(0x2cc),'minLength':0x1},'id':{'type':'string','minLength':0x1}},...C('_id','id','pushName')}}},Xa={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'name':{'type':a0_0x422c01(0x2cc)}},...C(a0_0x422c01(0x6a7))},Za={'$id':(0x0,E['v4'])(),'type':'object','properties':{'status':{'type':a0_0x422c01(0x2cc)}},...C(a0_0x422c01(0x59d))},Ee={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{'type':a0_0x422c01(0x2cc)},'picture':{'type':'string'}}},er={'type':a0_0x422c01(0x1e5),'properties':{'wuid':{'type':a0_0x422c01(0x2cc)},'name':{'type':a0_0x422c01(0x2cc)},'picture':{'type':a0_0x422c01(0x2cc)},'status':{'type':a0_0x422c01(0x2cc)},'isBusiness':{'type':a0_0x422c01(0x723)}}},tr={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'where':{'type':a0_0x422c01(0x1e5),'properties':{'_id':{'type':a0_0x422c01(0x2cc),'minLength':0x1},'key':{'type':a0_0x422c01(0x1e5),'if':{'propertyNames':{'enum':['fromMe',a0_0x422c01(0x1fe),'id']}},'then':{'properties':{'remoteJid':{'type':'string','minLength':0x1,'description':a0_0x422c01(0x608)},'id':{'type':a0_0x422c01(0x2cc),'minLength':0x1,'description':a0_0x422c01(0x608)},'fromMe':{'type':'boolean','enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x422c01(0x1e5)}},...C(a0_0x422c01(0x79d))},'limit':{'type':a0_0x422c01(0x3e9)}}},pc={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'where':{'type':a0_0x422c01(0x1e5),'properties':{'_id':{'type':a0_0x422c01(0x2cc)},'remoteJid':{'type':'string'},'id':{'type':a0_0x422c01(0x2cc)},'fromMe':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x422c01(0x2cc),'enum':[a0_0x422c01(0x51e),'PENDING',a0_0x422c01(0x52f),a0_0x422c01(0x43a),a0_0x422c01(0x4ae),a0_0x422c01(0x3eb)]}},...C(a0_0x422c01(0x79d),a0_0x422c01(0x1fe),'id',a0_0x422c01(0x59d))},'limit':{'type':a0_0x422c01(0x3e9)}}},sr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...z},'presence':{'type':a0_0x422c01(0x2cc),'enum':[a0_0x422c01(0x44d),a0_0x422c01(0x3de),'composing',a0_0x422c01(0x5d3),'paused']}},'required':[a0_0x422c01(0x33d),'number']},ar={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'subject':{'type':a0_0x422c01(0x2cc)},'description':{'type':a0_0x422c01(0x2cc)},'profilePicture':{'type':'string'},'participants':{'type':a0_0x422c01(0x223),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','minLength':0xa,'pattern':a0_0x422c01(0x20f),'description':a0_0x422c01(0x303)}}},'required':[a0_0x422c01(0x604),a0_0x422c01(0x2cd)],...C(a0_0x422c01(0x604),a0_0x422c01(0x2a3),'profilePicture')},Me={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'groupJid':{'type':'string','pattern':a0_0x422c01(0x233)}},'required':[a0_0x422c01(0x36f)],...C(a0_0x422c01(0x36f))},rr={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'groupJid':{'type':a0_0x422c01(0x2cc)},'action':{'type':'string','enum':[a0_0x422c01(0x263),'remove',a0_0x422c01(0x4a1),a0_0x422c01(0x641),'reject',a0_0x422c01(0x3fd)]},'participants':{'type':a0_0x422c01(0x223),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x422c01(0x2cc),'minLength':0xa,'pattern':a0_0x422c01(0x20f),'description':'\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}},'required':[a0_0x422c01(0x36f),a0_0x422c01(0x5e3),'participants'],...C(a0_0x422c01(0x36f),'action')},ir={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'groupJid':{'type':a0_0x422c01(0x2cc)},'expiration':{'type':a0_0x422c01(0x736),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x422c01(0x36f),a0_0x422c01(0x5e9)],...C(a0_0x422c01(0x36f),a0_0x422c01(0x5e9))},or={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'groupJid':{'type':'string'},'image':{'type':'string'}},'required':[a0_0x422c01(0x36f),a0_0x422c01(0x1f5)],...C(a0_0x422c01(0x36f),a0_0x422c01(0x1f5))},nr={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x422c01(0x2cc)},'description':{'type':a0_0x422c01(0x2cc)}},'required':[a0_0x422c01(0x36f),'description'],...C('groupJid',a0_0x422c01(0x2a3))},cr={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'groupJid':{'type':a0_0x422c01(0x2cc)},'name':{'type':a0_0x422c01(0x2cc)}},'required':[a0_0x422c01(0x36f),a0_0x422c01(0x6a7)],...C(a0_0x422c01(0x36f),a0_0x422c01(0x6a7))},lr={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'groupJid':{'type':a0_0x422c01(0x2cc)},'setting':{'type':a0_0x422c01(0x2cc),'enum':[a0_0x422c01(0x217),'not_announcement','unlocked',a0_0x422c01(0x494)]}},'required':['groupJid','setting'],...C(a0_0x422c01(0x36f),a0_0x422c01(0x49e))},ur={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'groupJid':{'type':'string'},'restrict':{'type':'boolean'},'announce':{'type':a0_0x422c01(0x723)},'memberAddMode':{'type':a0_0x422c01(0x723)},'joinApprovalMode':{'type':a0_0x422c01(0x723)},'expiration':{'type':a0_0x422c01(0x3e9),'enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x422c01(0x2cc)},'description':{'type':'string'},'image':{'type':a0_0x422c01(0x2cc)}}},Ss={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'inviteCode':{'type':a0_0x422c01(0x2cc)}},'required':[a0_0x422c01(0x337)],...C('inviteCode')},dr={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'url':{'type':a0_0x422c01(0x2cc)},'enabled':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]}},'required':[a0_0x422c01(0x54c),'enabled']},hc={'$id':(0x0,E['v4'])(),'type':a0_0x422c01(0x1e5),'properties':{'local_map':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':'boolean','enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':'boolean','enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x422c01(0x723),'enum':[!0x0,!0x1]}},'required':[a0_0x422c01(0x1d6),a0_0x422c01(0x515),a0_0x422c01(0x740),a0_0x422c01(0x25b),a0_0x422c01(0x3cf),a0_0x422c01(0x29d),a0_0x422c01(0x7da),a0_0x422c01(0x57a),a0_0x422c01(0x60d),a0_0x422c01(0x19f),a0_0x422c01(0x5bb),a0_0x422c01(0x3f7),a0_0x422c01(0x53f),'CHATS_UPDATE','CHATS_DELETE',a0_0x422c01(0x751),a0_0x422c01(0x4c7),a0_0x422c01(0x60a),'GROUP_PARTICIPANTS_UPDATE'],...C(a0_0x422c01(0x1d6),a0_0x422c01(0x515),a0_0x422c01(0x740),a0_0x422c01(0x25b),'MESSAGES_UPDATE',a0_0x422c01(0x29d),a0_0x422c01(0x7da),'CONTACTS_SET','CONTACTS_UPSERT','CONTACTS_UPDATE',a0_0x422c01(0x5bb),a0_0x422c01(0x3f7),'CHATS_UPSERT',a0_0x422c01(0x5fc),a0_0x422c01(0x25a),a0_0x422c01(0x751),a0_0x422c01(0x4c7),a0_0x422c01(0x60a),a0_0x422c01(0x1f3))},tt=class{},st=class extends D{['getContactModelForOwner'](_0x391a7b){return Zs(_0x391a7b);}async[a0_0x422c01(0x4bd)](_0x7661d0){const _0x1b1421=a0_0x422c01;if(_0x7661d0[_0x1b1421(0x623)]!==0x0)try{return{'insertCount':(await this[_0x1b1421(0x4ed)](_0x7661d0[0x0][_0x1b1421(0x7e0)])[_0x1b1421(0x7c9)]([..._0x7661d0]))[_0x1b1421(0x623)]};}catch(_0x50cfee){return _0x50cfee;}}async[a0_0x422c01(0x653)](_0x140253,_0x2f1589){const _0x5662ae=a0_0x422c01;try{return{'deletedCount':(await this[_0x5662ae(0x4ed)](_0x2f1589)['deleteMany']({..._0x140253[_0x5662ae(0x697)]}))[_0x5662ae(0x1fd)]};}catch(_0x10a8d7){return{'error':_0x10a8d7?.[_0x5662ae(0x76f)]()};}}async[a0_0x422c01(0x4fe)](_0x2cfc28,_0x7a0451){const _0x43fd83=a0_0x422c01;try{if(_0x2cfc28['length']===0x0)return;let _0x405613=this['getContactModelForOwner'](_0x7a0451),_0x53f5ac=_0x2cfc28[_0x43fd83(0x1ec)](_0x1df525=>({'updateOne':{'filter':{'_id':_0x1df525['_id'],'owner':_0x7a0451},'update':{..._0x1df525}}})),{modifiedCount:_0x43a9fa}=await _0x405613[_0x43fd83(0x7e6)](_0x53f5ac);return{'insertCount':_0x43a9fa};}catch{return;}}async['find'](_0x5b5034,_0x3039f3){const _0x364d06=a0_0x422c01;try{let _0x32e9d6=this[_0x364d06(0x4ed)](_0x3039f3),_0x4cbda8=A(_0x5b5034[_0x364d06(0x697)]);return await _0x32e9d6['find'](_0x4cbda8)['limit'](_0x5b5034?.[_0x364d06(0x83a)]??0x0)[_0x364d06(0x5e5)]();}catch{return[];}}async[a0_0x422c01(0x64b)](_0x46429c,_0x2ce34e){const _0x490c2f=a0_0x422c01;try{let _0x349b8a=this[_0x490c2f(0x4ed)](_0x2ce34e),_0x4f59c9=A(_0x46429c[_0x490c2f(0x697)]);return await _0x349b8a[_0x490c2f(0x64b)](_0x4f59c9)[_0x490c2f(0x5e5)]();}catch{return null;}}async['deleteAll'](_0x543a78){const _0x2504b6=a0_0x422c01;try{return await this[_0x2504b6(0x4ed)](_0x543a78)['collection'][_0x2504b6(0x4a4)](),{'success':!0x0};}catch(_0x1a0de2){return console[_0x2504b6(0x820)](_0x1a0de2),{'success':!0x1,'error':_0x1a0de2};}}},at=require(a0_0x422c01(0x4e6)),Ec=require(a0_0x422c01(0x848)),Cs=new v('Validate'),V=class{[a0_0x422c01(0x73a)](_0x410356,_0x337fff=!0x0){const _0x5c1844=a0_0x422c01;let _0x713208='/'+_0x410356;return _0x337fff&&(_0x713208+=_0x5c1844(0x431)),_0x713208;}async['dataValidate'](_0x437069){const _0x3fbf26=a0_0x422c01;let {request:_0x92b989,schema:_0x125e0e,ClassRef:_0x5216ab,execute:_0x2faca5}=_0x437069,_0x23b490=new _0x5216ab(),_0x2dfa6d=_0x92b989[_0x3fbf26(0x4fc)],_0x59ec2d=_0x92b989[_0x3fbf26(0x5e7)];_0x92b989?.[_0x3fbf26(0x6b1)]&&Object[_0x3fbf26(0x21a)](_0x92b989[_0x3fbf26(0x6b1)])[_0x3fbf26(0x623)]>0x0&&Object[_0x3fbf26(0x7d1)](_0x59ec2d,_0x92b989[_0x3fbf26(0x6b1)]),_0x92b989[_0x3fbf26(0x6e8)]['includes'](_0x3fbf26(0x24f))&&Object[_0x3fbf26(0x7d1)](_0x59ec2d,_0x2dfa6d),Object[_0x3fbf26(0x7d1)](_0x23b490,_0x2dfa6d);let _0xfd365e=_0x125e0e?(0x0,at[_0x3fbf26(0x7af)])(_0x23b490,_0x125e0e):{'valid':!0x0,'errors':[]};if(!_0xfd365e[_0x3fbf26(0x551)]){let _0x390456=_0xfd365e[_0x3fbf26(0x7cb)][_0x3fbf26(0x1ec)](({property:_0x1fa9bc,stack:_0x45ced0,schema:_0x103918})=>{const _0x496bcc=_0x3fbf26;let _0x543ec9;return _0x103918[_0x496bcc(0x2a3)]?_0x543ec9=_0x103918[_0x496bcc(0x2a3)]:_0x543ec9=_0x45ced0['replace'](_0x496bcc(0x47a),''),{'property':_0x1fa9bc['replace'](_0x496bcc(0x47a),''),'message':_0x543ec9};});throw Cs[_0x3fbf26(0x820)]([..._0x390456]),new w(..._0x390456);}return await _0x2faca5(_0x59ec2d,_0x23b490);}async['groupValidate'](_0x920826){const _0x55ad43=a0_0x422c01;let {request:_0x189358,ClassRef:_0x16d586,schema:_0x1489d4,execute:_0x54a588}=_0x920826,_0x3d2425=_0x189358[_0x55ad43(0x6b1)];if(!_0x3d2425?.[_0x55ad43(0x36f)])throw new w(_0x55ad43(0x3cd),_0x55ad43(0x831));let _0x39be2a=_0x189358['params'],_0x29cdd7=_0x189358[_0x55ad43(0x4fc)],_0x14af80=new _0x16d586();Object[_0x55ad43(0x7d1)](_0x29cdd7,_0x3d2425),Object[_0x55ad43(0x7d1)](_0x14af80,_0x29cdd7);let _0x3d830b=(0x0,at['validate'])(_0x14af80,_0x1489d4);if(!_0x3d830b[_0x55ad43(0x551)]){let _0x4be4c9=_0x3d830b['errors'][_0x55ad43(0x1ec)](({property:_0x162b6b,stack:_0xd13620,schema:_0x42cc23})=>{const _0x4ef37f=_0x55ad43;let _0x33edf9;return _0x42cc23[_0x4ef37f(0x2a3)]?_0x33edf9=_0x42cc23[_0x4ef37f(0x2a3)]:_0x33edf9=_0xd13620[_0x4ef37f(0x246)](_0x4ef37f(0x47a),''),{'property':_0x162b6b[_0x4ef37f(0x246)](_0x4ef37f(0x47a),''),'message':_0x33edf9};});throw Cs[_0x55ad43(0x820)]([..._0x4be4c9]),new w(..._0x4be4c9);}return await _0x54a588(_0x39be2a,_0x14af80);}async[a0_0x422c01(0x7ec)](_0x5ea061){const _0x34abce=a0_0x422c01;let {request:_0x545aff,ClassRef:_0x4a43f3,schema:_0x8555bd,execute:_0x19322b}=_0x5ea061,_0x326f0b=_0x545aff[_0x34abce(0x4fc)];if(!_0x326f0b?.[_0x34abce(0x337)])throw new w(_0x34abce(0x59c),'ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22');let _0x67b5ea=_0x545aff[_0x34abce(0x5e7)],_0x29b039=_0x545aff[_0x34abce(0x4fc)],_0x154825=new _0x4a43f3();Object['assign'](_0x29b039,_0x326f0b),Object[_0x34abce(0x7d1)](_0x154825,_0x29b039);let _0x1f607b=(0x0,at[_0x34abce(0x7af)])(_0x154825,_0x8555bd);if(!_0x1f607b['valid']){let _0x1542d7=_0x1f607b[_0x34abce(0x7cb)][_0x34abce(0x1ec)](({property:_0x2ab38f,stack:_0x5cf3f9,schema:_0x204d26})=>{const _0x5c5582=_0x34abce;let _0xdebb40;return _0x204d26[_0x5c5582(0x2a3)]?_0xdebb40=_0x204d26[_0x5c5582(0x2a3)]:_0xdebb40=_0x5cf3f9[_0x5c5582(0x246)]('instance.',''),{'property':_0x2ab38f[_0x5c5582(0x246)](_0x5c5582(0x47a),''),'message':_0xdebb40};});throw Cs[_0x34abce(0x820)]([..._0x1542d7]),new w(..._0x1542d7);}return await _0x19322b(_0x67b5ea,_0x154825);}},S=class{},Lc=new v(a0_0x422c01(0x6b5)),rt=class extends V{constructor(..._0x12a63d){const _0x3b43ac=a0_0x422c01;super(),this[_0x3b43ac(0x5d1)]=(0x0,pr[_0x3b43ac(0x302)])(),this[_0x3b43ac(0x5d1)][_0x3b43ac(0x550)](this[_0x3b43ac(0x73a)](_0x3b43ac(0x2db)),..._0x12a63d,async(_0x56fc30,_0x4e8d5a)=>{const _0x35291e=_0x3b43ac;let _0x6d64b1=await this[_0x35291e(0x63d)]({'request':_0x56fc30,'schema':sr,'ClassRef':Be,'execute':(_0x554ca2,_0x453767)=>_['updatePresence'](_0x554ca2,_0x453767)});return _0x4e8d5a[_0x35291e(0x59d)](0xc9)[_0x35291e(0x212)](_0x6d64b1);})['post'](this[_0x3b43ac(0x73a)](_0x3b43ac(0x1c1)),..._0x12a63d,async(_0x1bcfc9,_0x49ab64)=>{const _0x2f9f66=_0x3b43ac;let _0x230798=await this[_0x2f9f66(0x63d)]({'request':_0x1bcfc9,'schema':Wa,'ClassRef':Ge,'execute':(_0x4eb4cc,_0x319b0e)=>_[_0x2f9f66(0x795)](_0x4eb4cc,_0x319b0e)});return _0x49ab64[_0x2f9f66(0x59d)](0xc9)[_0x2f9f66(0x212)](_0x230798);})[_0x3b43ac(0x550)](this[_0x3b43ac(0x73a)](_0x3b43ac(0x742)),..._0x12a63d,async(_0x4857b6,_0x500ee4)=>{const _0x46de7f=_0x3b43ac;let _0x485fc4=await this[_0x46de7f(0x63d)]({'request':_0x4857b6,'schema':M,'ClassRef':S,'execute':(_0x562857,_0x4d83ac)=>_['editChat'](_0x562857,_0x4d83ac)});return _0x500ee4[_0x46de7f(0x59d)](0xc9)[_0x46de7f(0x212)](_0x485fc4);})[_0x3b43ac(0x7bf)](this['routerPath'](_0x3b43ac(0x7bc)),..._0x12a63d,async(_0x1172e9,_0x4f3866)=>{const _0x3f4657=_0x3b43ac;let _0x1d5e9c=await this['dataValidate']({'request':_0x1172e9,'schema':za,'ClassRef':He,'execute':(_0x2f7546,_0x314d7c)=>_[_0x3f4657(0x360)](_0x2f7546,_0x314d7c)});return _0x4f3866['status'](0xc9)['json'](_0x1d5e9c);})[_0x3b43ac(0x7bf)](this[_0x3b43ac(0x73a)](_0x3b43ac(0x6cd)),..._0x12a63d,async(_0x7b3817,_0x147827)=>{const _0x3a8bac=_0x3b43ac;let _0x449ec9=await this[_0x3a8bac(0x63d)]({'request':_0x7b3817,'schema':Ka,'ClassRef':Ke,'execute':(_0x4fca80,_0x240270)=>_[_0x3a8bac(0x6cd)](_0x4fca80,_0x240270)});return _0x147827[_0x3a8bac(0x59d)](0xc9)[_0x3a8bac(0x212)](_0x449ec9);})[_0x3b43ac(0x653)](this[_0x3b43ac(0x73a)]('deleteMessageForEveryone'),..._0x12a63d,async(_0x1c69d1,_0x9847c2)=>{const _0x1f85ce=_0x3b43ac;let _0x4969cf=await this[_0x1f85ce(0x63d)]({'request':_0x1c69d1,'schema':Qa,'ClassRef':Ye,'execute':(_0x4ab350,_0x1ee91b)=>_['deleteMessage'](_0x4ab350,_0x1ee91b)});return _0x9847c2[_0x1f85ce(0x59d)](0xc9)['json'](_0x4969cf);})[_0x3b43ac(0x550)](this['routerPath'](_0x3b43ac(0x308)),..._0x12a63d,async(_0x1e205b,_0x9b87f4)=>{const _0x332e94=_0x3b43ac;let _0x5a40f4=await this['dataValidate']({'request':_0x1e205b,'schema':Ee,'ClassRef':Ce,'execute':(_0xc3fe49,_0x213de4)=>_[_0x332e94(0x4b2)](_0xc3fe49,_0x213de4)});return _0x9b87f4[_0x332e94(0x59d)](0xc8)[_0x332e94(0x212)](_0x5a40f4);})[_0x3b43ac(0x550)](this[_0x3b43ac(0x73a)]('fetchProfile'),..._0x12a63d,async(_0x417c13,_0x1ca6ef)=>{const _0x40c1f5=_0x3b43ac;let _0x2997c8=await this[_0x40c1f5(0x63d)]({'request':_0x417c13,'schema':er,'ClassRef':Ce,'execute':(_0x28fedc,_0x392dfb)=>_['fetchProfile'](_0x28fedc,_0x392dfb)});return _0x1ca6ef[_0x40c1f5(0x59d)](0xc8)['json'](_0x2997c8);})[_0x3b43ac(0x550)](this['routerPath'](_0x3b43ac(0x456)),..._0x12a63d,async(_0x3033aa,_0x509cfe)=>{const _0x48e042=_0x3b43ac;let _0x3805bd=await this[_0x48e042(0x63d)]({'request':_0x3033aa,'schema':Ya,'ClassRef':tt,'execute':(_0x1e57dc,_0x162147)=>_['fetchContacts'](_0x1e57dc,_0x162147)});return _0x509cfe[_0x48e042(0x59d)](0xc8)[_0x48e042(0x212)](_0x3805bd);})['post'](this[_0x3b43ac(0x73a)]('getBase64FromMediaMessage'),..._0x12a63d,async(_0x4f4342,_0x2e06be)=>{const _0x4b27ba=_0x3b43ac;let _0x429a08=await this[_0x4b27ba(0x63d)]({'request':_0x4f4342,'schema':null,'ClassRef':Object,'execute':(_0x4a8b3e,_0x5560d0)=>_[_0x4b27ba(0x6f2)](_0x4a8b3e,_0x5560d0)});return _0x2e06be[_0x4b27ba(0x59d)](0xc9)[_0x4b27ba(0x212)](_0x429a08);})[_0x3b43ac(0x550)](this['routerPath'](_0x3b43ac(0x30c)),..._0x12a63d,async(_0x526b53,_0x130c84)=>{const _0x4cda06=_0x3b43ac;let _0x5a72dc=await this[_0x4cda06(0x63d)]({'request':_0x526b53,'schema':tr,'ClassRef':qe,'execute':(_0x18cc68,_0x84d99f)=>_['fetchMessages'](_0x18cc68,_0x84d99f)});return _0x130c84[_0x4cda06(0x59d)](0xc8)[_0x4cda06(0x212)](_0x5a72dc);})[_0x3b43ac(0x5a1)](this[_0x3b43ac(0x73a)]('findChats'),..._0x12a63d,async(_0x4bb9a5,_0x220109)=>{const _0x2ee2dc=_0x3b43ac;let _0x15afb3=await this[_0x2ee2dc(0x63d)]({'request':_0x4bb9a5,'schema':null,'ClassRef':S,'execute':_0x4c0830=>_[_0x2ee2dc(0x75c)](_0x4c0830)});return _0x220109[_0x2ee2dc(0x59d)](0xc8)[_0x2ee2dc(0x212)](_0x15afb3);})[_0x3b43ac(0x5a1)](this['routerPath'](_0x3b43ac(0x1ef)),..._0x12a63d,async(_0x50b943,_0x172d3e)=>{const _0x24fd83=_0x3b43ac;let _0x46a135=await this['dataValidate']({'request':_0x50b943,'schema':null,'ClassRef':S,'execute':_0xcc50b7=>_[_0x24fd83(0x3fe)](_0xcc50b7)});return _0x172d3e[_0x24fd83(0x59d)](0xc8)['json'](_0x46a135);})[_0x3b43ac(0x7bf)](this[_0x3b43ac(0x73a)]('importChats'),..._0x12a63d,async(_0x29469e,_0x5334e0)=>{const _0xe72792=_0x3b43ac;let _0x172ab8=await this[_0xe72792(0x63d)]({'request':_0x29469e,'schema':null,'ClassRef':Array,'execute':(_0x90a5a3,_0x47faf4)=>_[_0xe72792(0x3a2)](_0x90a5a3,_0x47faf4)});return _0x5334e0[_0xe72792(0x59d)](0xc8)[_0xe72792(0x212)](_0x172ab8);})[_0x3b43ac(0x5a1)](this['routerPath'](_0x3b43ac(0x292)),..._0x12a63d,async(_0x3b607a,_0x114319)=>{const _0x2a9209=_0x3b43ac;let _0x4c2401=await this[_0x2a9209(0x63d)]({'request':_0x3b607a,'schema':null,'ClassRef':S,'execute':_0x444fde=>_[_0x2a9209(0x292)](_0x444fde)});return _0x114319[_0x2a9209(0x59d)](0xc8)[_0x2a9209(0x212)](_0x4c2401);})[_0x3b43ac(0x7bf)](this[_0x3b43ac(0x73a)](_0x3b43ac(0x624)),..._0x12a63d,async(_0x190c3f,_0xe7fb00)=>{const _0x446ae8=_0x3b43ac;let _0x2c9d46=await this[_0x446ae8(0x63d)]({'request':_0x190c3f,'schema':Ha,'ClassRef':Qe,'execute':(_0x4643e9,_0x2767e2)=>_[_0x446ae8(0x624)](_0x4643e9,_0x2767e2)});return _0xe7fb00['status'](0xc9)[_0x446ae8(0x212)](_0x2c9d46);})[_0x3b43ac(0x550)](this[_0x3b43ac(0x73a)](_0x3b43ac(0x5db)),..._0x12a63d,async(_0x17f38f,_0x3f548a)=>{const _0x1cd751=_0x3b43ac;let _0x478592=await this[_0x1cd751(0x63d)]({'request':_0x17f38f,'schema':Ee,'ClassRef':we,'execute':(_0x6bf8e3,_0x199ff1)=>_[_0x1cd751(0x5db)](_0x6bf8e3,_0x199ff1)});return _0x3f548a[_0x1cd751(0x59d)](0xc8)[_0x1cd751(0x212)](_0x478592);})[_0x3b43ac(0x550)](this['routerPath']('updateProfileName'),..._0x12a63d,async(_0x144b25,_0x1f9107)=>{const _0x50ce5e=_0x3b43ac;let _0x338c16=await this[_0x50ce5e(0x63d)]({'request':_0x144b25,'schema':Xa,'ClassRef':We,'execute':(_0x6eb5b9,_0x1b6f84)=>_[_0x50ce5e(0x49b)](_0x6eb5b9,_0x1b6f84)});return _0x1f9107[_0x50ce5e(0x59d)](0xc8)['json'](_0x338c16);})[_0x3b43ac(0x550)](this[_0x3b43ac(0x73a)](_0x3b43ac(0x586)),..._0x12a63d,async(_0x26b00e,_0x294a7d)=>{const _0x3e5ee3=_0x3b43ac;let _0x51c644=await this['dataValidate']({'request':_0x26b00e,'schema':Za,'ClassRef':ze,'execute':(_0x21bbf5,_0x37fd25)=>_[_0x3e5ee3(0x586)](_0x21bbf5,_0x37fd25)});return _0x294a7d[_0x3e5ee3(0x59d)](0xc8)[_0x3e5ee3(0x212)](_0x51c644);})[_0x3b43ac(0x7bf)](this['routerPath']('updateProfilePicture'),..._0x12a63d,async(_0x20e714,_0x111be4)=>{const _0xc454b4=_0x3b43ac;let _0x1a3370=await this[_0xc454b4(0x63d)]({'request':_0x20e714,'schema':Ee,'ClassRef':we,'execute':(_0x4b5e78,_0x5e556d)=>_[_0xc454b4(0x814)](_0x4b5e78,_0x5e556d)});return _0x111be4[_0xc454b4(0x59d)](0xc8)[_0xc454b4(0x212)](_0x1a3370);})[_0x3b43ac(0x653)](this[_0x3b43ac(0x73a)](_0x3b43ac(0x3ad)),..._0x12a63d,async(_0x4b9f0b,_0x47b519)=>{const _0x2f962d=_0x3b43ac;let _0x20b956=await this[_0x2f962d(0x63d)]({'request':_0x4b9f0b,'schema':Ee,'ClassRef':we,'execute':(_0x5675b2,_0x3c5974)=>_[_0x2f962d(0x3ad)](_0x5675b2,_0x3c5974)});return _0x47b519['status'](0xc8)[_0x2f962d(0x212)](_0x20b956);});}},hr=require('express'),it=class{},ot=class{},nt=class{},ct=class{},lt=class{},ut=class{},X=class{},ve=class{},dt=class extends X{},pt=class extends X{},ht=class extends V{constructor(..._0x545a6a){const _0x17457d=a0_0x422c01;super(),this[_0x17457d(0x5d1)]=(0x0,hr[_0x17457d(0x302)])(),this[_0x17457d(0x5d1)][_0x17457d(0x550)](this[_0x17457d(0x73a)]('create'),..._0x545a6a,async(_0xdd0df,_0x27e8cc)=>{const _0xa223f8=_0x17457d;let _0x1b356d=await this[_0xa223f8(0x63d)]({'request':_0xdd0df,'schema':ar,'ClassRef':it,'execute':(_0x2771da,_0x14906d)=>q[_0xa223f8(0x594)](_0x2771da,_0x14906d)});_0x27e8cc[_0xa223f8(0x59d)](0xc9)[_0xa223f8(0x212)](_0x1b356d);})['put'](this[_0x17457d(0x73a)](_0x17457d(0x4ef)),..._0x545a6a,async(_0x1346e6,_0x51368)=>{const _0x5bf71a=_0x17457d;let _0x37f2c3=await this['groupValidate']({'request':_0x1346e6,'schema':or,'ClassRef':ot,'execute':(_0x3d167d,_0xb42e90)=>q[_0x5bf71a(0x4ef)](_0x3d167d,_0xb42e90)});_0x51368[_0x5bf71a(0x59d)](0xc9)[_0x5bf71a(0x212)](_0x37f2c3);})[_0x17457d(0x7bf)](this[_0x17457d(0x73a)](_0x17457d(0x6f5)),..._0x545a6a,async(_0x5c49c5,_0x1e7351)=>{const _0x50d931=_0x17457d;let _0x2ed763=await this[_0x50d931(0x298)]({'request':_0x5c49c5,'schema':nr,'ClassRef':nt,'execute':(_0xfa44b0,_0x32e748)=>q[_0x50d931(0x6f5)](_0xfa44b0,_0x32e748)});_0x1e7351[_0x50d931(0x59d)](0xc9)[_0x50d931(0x212)](_0x2ed763);})['put'](this[_0x17457d(0x73a)]('groupName'),..._0x545a6a,async(_0x37e7fa,_0x4647a4)=>{const _0x1ee8d5=_0x17457d;let _0x289c4b=await this['groupValidate']({'request':_0x37e7fa,'schema':cr,'ClassRef':ct,'execute':(_0xce576b,_0x40d41b)=>q[_0x1ee8d5(0x1b5)](_0xce576b,_0x40d41b)});_0x4647a4[_0x1ee8d5(0x59d)](0xc9)[_0x1ee8d5(0x212)](_0x289c4b);})[_0x17457d(0x7bf)](this[_0x17457d(0x73a)](_0x17457d(0x1cb)),..._0x545a6a,async(_0x52b36b,_0x3af0b1)=>{const _0x4337f6=_0x17457d;let _0x158cb4=await this[_0x4337f6(0x298)]({'request':_0x52b36b,'schema':ur,'ClassRef':ut,'execute':(_0x2306e8,_0x5bf902)=>q[_0x4337f6(0x1cb)](_0x2306e8,_0x5bf902)});_0x3af0b1[_0x4337f6(0x59d)](0xc9)['json'](_0x158cb4);})[_0x17457d(0x7bf)](this[_0x17457d(0x73a)](_0x17457d(0x5e2)),..._0x545a6a,async(_0xbf422d,_0x187620)=>{const _0x413623=_0x17457d;let _0x591101=await this[_0x413623(0x298)]({'request':_0xbf422d,'schema':lr,'ClassRef':lt,'execute':(_0x3d6aaa,_0x5c3f83)=>q[_0x413623(0x5e2)](_0x3d6aaa,_0x5c3f83)});_0x187620[_0x413623(0x59d)](0xc9)[_0x413623(0x212)](_0x591101);})['put'](this[_0x17457d(0x73a)](_0x17457d(0x539)),..._0x545a6a,async(_0x1a6b27,_0x449132)=>{const _0x3dab8d=_0x17457d;let _0x2e2759=await this[_0x3dab8d(0x298)]({'request':_0x1a6b27,'schema':ir,'ClassRef':pt,'execute':(_0x311826,_0x4b2627)=>q[_0x3dab8d(0x539)](_0x311826,_0x4b2627)});_0x449132[_0x3dab8d(0x59d)](0xc9)['json'](_0x2e2759);})[_0x17457d(0x5a1)](this['routerPath']('findGroupInfos'),..._0x545a6a,async(_0x39a77a,_0x3a561d)=>{const _0x2cd0eb=_0x17457d;let _0x456c2c=await this[_0x2cd0eb(0x298)]({'request':_0x39a77a,'schema':Me,'ClassRef':X,'execute':(_0x458d9f,_0x2bb8a2)=>q['findGroupInfo'](_0x458d9f,_0x2bb8a2)});_0x3a561d[_0x2cd0eb(0x59d)](0xc8)['json'](_0x456c2c);})[_0x17457d(0x5a1)](this[_0x17457d(0x73a)](_0x17457d(0x73d)),..._0x545a6a,async(_0x553388,_0x3a381b)=>{const _0x580460=_0x17457d;let _0x177fd7=await this[_0x580460(0x63d)]({'request':_0x553388,'schema':M,'ClassRef':S,'execute':_0x3bcb78=>q[_0x580460(0x73d)](_0x3bcb78)});_0x3a381b[_0x580460(0x59d)](0xc8)[_0x580460(0x212)](_0x177fd7);})[_0x17457d(0x5a1)](this[_0x17457d(0x73a)](_0x17457d(0x2cd)),..._0x545a6a,async(_0xe9f721,_0x295e79)=>{const _0x32cc6e=_0x17457d;let _0x1885f5=await this[_0x32cc6e(0x298)]({'request':_0xe9f721,'schema':Me,'ClassRef':X,'execute':(_0x44f15e,_0x4e0c9f)=>q[_0x32cc6e(0x6b4)](_0x44f15e,_0x4e0c9f)});_0x295e79[_0x32cc6e(0x59d)](0xc8)[_0x32cc6e(0x212)](_0x1885f5);})['get'](this[_0x17457d(0x73a)]('inviteCode'),..._0x545a6a,async(_0x325201,_0x93c8ae)=>{const _0x49e5c=_0x17457d;let _0x691979=await this[_0x49e5c(0x298)]({'request':_0x325201,'schema':Me,'ClassRef':X,'execute':(_0x1bb0df,_0xf9b8f)=>q['inviteCode'](_0x1bb0df,_0xf9b8f)});_0x93c8ae['status'](0xc8)[_0x49e5c(0x212)](_0x691979);})['post'](this[_0x17457d(0x73a)](_0x17457d(0x708)),..._0x545a6a,async(_0x272351,_0x468570)=>{const _0x57b02b=_0x17457d;let _0x25bf1c=await this[_0x57b02b(0x7ec)]({'request':_0x272351,'schema':Ss,'ClassRef':ve,'execute':(_0x19cabc,_0x6f41b)=>q[_0x57b02b(0x204)](_0x19cabc,_0x6f41b)});_0x468570['status'](0xc9)[_0x57b02b(0x212)](_0x25bf1c);})[_0x17457d(0x7bf)](this[_0x17457d(0x73a)]('joinGroup'),..._0x545a6a,async(_0x429734,_0x133579)=>{const _0x8c8780=_0x17457d;let _0x59d72c=await this[_0x8c8780(0x7ec)]({'request':_0x429734,'schema':Ss,'ClassRef':ve,'execute':(_0x5b6c00,_0x56334a)=>q[_0x8c8780(0x7b3)](_0x5b6c00,_0x56334a)});_0x133579[_0x8c8780(0x59d)](0xc9)[_0x8c8780(0x212)](_0x59d72c);})[_0x17457d(0x7bf)](this[_0x17457d(0x73a)](_0x17457d(0x534)),..._0x545a6a,async(_0x47f98f,_0x223f0d)=>{const _0x4b7e66=_0x17457d;let _0x3968e0=await this[_0x4b7e66(0x298)]({'request':_0x47f98f,'schema':Me,'ClassRef':X,'execute':(_0x21d70e,_0x4ebe07)=>q[_0x4b7e66(0x534)](_0x21d70e,_0x4ebe07)});_0x223f0d[_0x4b7e66(0x59d)](0xc9)[_0x4b7e66(0x212)](_0x3968e0);})[_0x17457d(0x7bf)](this[_0x17457d(0x73a)]('updateParticipant'),..._0x545a6a,async(_0x8dac6c,_0x63b5a4)=>{const _0x5b148d=_0x17457d;let _0x2a5842=await this['groupValidate']({'request':_0x8dac6c,'schema':rr,'ClassRef':dt,'execute':(_0x2d7222,_0x5cc787)=>q[_0x5b148d(0x343)](_0x2d7222,_0x5cc787)});_0x63b5a4['status'](0xc9)[_0x5b148d(0x212)](_0x2a5842);})[_0x17457d(0x653)](this['routerPath'](_0x17457d(0x7de)),..._0x545a6a,async(_0x2dad22,_0xc2d7c0)=>{const _0x48fe66=_0x17457d;let _0xb729ad=await this['groupValidate']({'request':_0x2dad22,'schema':{},'ClassRef':X,'execute':(_0x171c1b,_0x39cd13)=>q[_0x48fe66(0x7de)](_0x171c1b,_0x39cd13)});_0xc2d7c0['status'](0xc8)[_0x48fe66(0x212)](_0xb729ad);});}},gr=require('express'),gt=class extends V{constructor(_0x58c2df,..._0x152a26){const _0x1a4caa=a0_0x422c01;super(),this[_0x1a4caa(0x63c)]=_0x58c2df,this[_0x1a4caa(0x5d1)]=(0x0,gr[_0x1a4caa(0x302)])();let _0x2bc984=_0x58c2df['get'](_0x1a4caa(0x31f));this['router'][_0x1a4caa(0x550)](_0x1a4caa(0x519),..._0x152a26,async(_0x425416,_0x52a79a)=>{const _0x521b0e=_0x1a4caa;let {instanceName:_0x1e9c3c,apikey:_0x436f19,number:_0x3a7a77}=_0x425416['body'],_0x1989f5=await oe[_0x521b0e(0x664)]({'instanceName':_0x1e9c3c,'apikey':_0x436f19,'number':_0x3a7a77});return _0x52a79a[_0x521b0e(0x59d)](0xc9)[_0x521b0e(0x212)](_0x1989f5);})[_0x1a4caa(0x7bf)](this[_0x1a4caa(0x73a)](_0x1a4caa(0x5e8)),..._0x152a26,async(_0x44a087,_0x4e462e)=>{const _0x50a782=_0x1a4caa;let _0x20f000=await this[_0x50a782(0x63d)]({'request':_0x44a087,'schema':M,'ClassRef':S,'execute':_0x1ccc5b=>oe[_0x50a782(0x7a5)](_0x1ccc5b)});return _0x4e462e[_0x50a782(0x59d)](0xc8)[_0x50a782(0x212)](_0x20f000);})[_0x1a4caa(0x5a1)](this['routerPath'](_0x1a4caa(0x18f)),..._0x152a26,async(_0x1a01f4,_0x127733)=>{const _0x1dccd2=_0x1a4caa;let _0xc85acc=await this[_0x1dccd2(0x63d)]({'request':_0x1a01f4,'schema':M,'ClassRef':S,'execute':_0x1aea84=>oe[_0x1dccd2(0x6ef)](_0x1aea84)});return _0x127733[_0x1dccd2(0x59d)](0xc8)['json'](_0xc85acc);})[_0x1a4caa(0x5a1)](this[_0x1a4caa(0x73a)](_0x1a4caa(0x60b)),..._0x152a26,async(_0x5c622e,_0x123b74)=>{const _0x5e32f4=_0x1a4caa;let _0xd9f1e=await this['dataValidate']({'request':_0x5c622e,'schema':M,'ClassRef':S,'execute':_0x16523c=>oe[_0x5e32f4(0x60b)](_0x16523c)});return _0x123b74[_0x5e32f4(0x59d)](0xc8)[_0x5e32f4(0x212)](_0xd9f1e);})[_0x1a4caa(0x5a1)](this[_0x1a4caa(0x73a)](_0x1a4caa(0x2aa),!0x1),..._0x152a26,async(_0x118644,_0x24cfa1)=>{const _0x239449=_0x1a4caa;let _0x2c914e=await this[_0x239449(0x63d)]({'request':_0x118644,'schema':null,'ClassRef':S,'execute':_0x5e06c6=>oe[_0x239449(0x2aa)](_0x5e06c6)});return _0x24cfa1[_0x239449(0x59d)](0xc8)[_0x239449(0x212)](_0x2c914e);})['delete'](this[_0x1a4caa(0x73a)](_0x1a4caa(0x1c8)),..._0x152a26,async(_0x5639cd,_0x4cef7c)=>{const _0x1a5c18=_0x1a4caa;let _0x1b7a08=await this[_0x1a5c18(0x63d)]({'request':_0x5639cd,'schema':M,'ClassRef':S,'execute':_0x5dd297=>oe[_0x1a5c18(0x1c8)](_0x5dd297)});return _0x4cef7c[_0x1a5c18(0x59d)](0xc8)['json'](_0x1b7a08);})[_0x1a4caa(0x653)](this[_0x1a4caa(0x73a)](_0x1a4caa(0x653)),..._0x152a26,async(_0x10eef8,_0x461dba)=>{const _0x22109e=_0x1a4caa;let _0x2ce806=await this[_0x22109e(0x63d)]({'request':_0x10eef8,'schema':M,'ClassRef':S,'execute':_0x1977a8=>oe[_0x22109e(0x4b3)](_0x1977a8)});return _0x461dba['status'](0xc8)[_0x22109e(0x212)](_0x2ce806);});}},mr=require(a0_0x422c01(0x3fc)),Es=class{},W=class extends Es{},mt=class extends W{},ft=class extends W{},wt=class extends W{},yt=class extends W{},Ne=class extends W{},bt=class extends W{},St=class extends W{},Ct=class extends W{},Et=class extends W{},Mt=class extends W{},vt=class{},Nt=class extends V{constructor(..._0x23ff6f){const _0x8da0d7=a0_0x422c01;super(),this[_0x8da0d7(0x5d1)]=(0x0,mr[_0x8da0d7(0x302)])(),this[_0x8da0d7(0x5d1)]['post'](this[_0x8da0d7(0x73a)](_0x8da0d7(0x3df)),..._0x23ff6f,async(_0x19095b,_0x399f06)=>{const _0x9645e4=_0x8da0d7;let _0x5333c6=await this[_0x9645e4(0x63d)]({'request':_0x19095b,'schema':_a,'ClassRef':mt,'execute':(_0x4adccf,_0x4aa0a5)=>G[_0x9645e4(0x3df)](_0x4adccf,_0x4aa0a5)});return _0x399f06[_0x9645e4(0x59d)](0xc9)[_0x9645e4(0x212)](_0x5333c6);})['post'](this[_0x8da0d7(0x73a)]('sendMedia'),..._0x23ff6f,async(_0x4b7b4d,_0x402f32)=>{const _0x219a29=_0x8da0d7;let _0x3c8493=await this[_0x219a29(0x63d)]({'request':_0x4b7b4d,'schema':La,'ClassRef':Ne,'execute':(_0xbf95c5,_0x5103ce)=>G[_0x219a29(0x34b)](_0xbf95c5,_0x5103ce)});return _0x402f32[_0x219a29(0x59d)](0xc9)['json'](_0x3c8493);})['post'](this['routerPath']('sendMenu'),..._0x23ff6f,async(_0x3b72a0,_0x54ff96)=>{const _0x4eb0fc=_0x8da0d7;let _0x150124=await this[_0x4eb0fc(0x63d)]({'request':_0x3b72a0,'schema':Ua,'ClassRef':yt,'execute':(_0xca7986,_0x45a805)=>G[_0x4eb0fc(0x1d1)](_0xca7986,_0x45a805)});return _0x54ff96[_0x4eb0fc(0x59d)](0xc9)[_0x4eb0fc(0x212)](_0x150124);})[_0x8da0d7(0x550)](this[_0x8da0d7(0x73a)](_0x8da0d7(0x7ed)),..._0x23ff6f,async(_0x1b1d51,_0x55812a)=>{const _0x2e4b55=_0x8da0d7;let _0x234621=await this[_0x2e4b55(0x63d)]({'request':_0x1b1d51,'schema':ja,'ClassRef':Ne,'execute':(_0x1e261e,_0x4a4ef3)=>G[_0x2e4b55(0x7ed)](_0x1e261e,_0x4a4ef3)});return _0x55812a[_0x2e4b55(0x59d)](0xc9)['json'](_0x234621);})[_0x8da0d7(0x550)](this['routerPath'](_0x8da0d7(0x82e)),..._0x23ff6f,async(_0x3e1ab0,_0x5f733)=>{const _0x2e184d=_0x8da0d7;let _0xdef3a1=await this[_0x2e184d(0x63d)]({'request':_0x3e1ab0,'schema':Ja,'ClassRef':St,'execute':(_0x233144,_0x470cc7)=>G[_0x2e184d(0x82e)](_0x233144,_0x470cc7)});return _0x5f733[_0x2e184d(0x59d)](0xc9)[_0x2e184d(0x212)](_0xdef3a1);})[_0x8da0d7(0x550)](this[_0x8da0d7(0x73a)]('sendLocation'),..._0x23ff6f,async(_0x2168f4,_0x72c7cc)=>{const _0x20b8ba=_0x8da0d7;let _0x1e6657=await this[_0x20b8ba(0x63d)]({'request':_0x2168f4,'schema':qa,'ClassRef':Ct,'execute':(_0x38e8bc,_0x35f636)=>G['sendLocation'](_0x38e8bc,_0x35f636)});return _0x72c7cc[_0x20b8ba(0x59d)](0xc9)['json'](_0x1e6657);})[_0x8da0d7(0x550)](this[_0x8da0d7(0x73a)](_0x8da0d7(0x6e6)),..._0x23ff6f,async(_0x52150c,_0x4b7e5d)=>{const _0x24ca21=_0x8da0d7;let _0x20607b=await this['dataValidate']({'request':_0x52150c,'schema':Va,'ClassRef':Et,'execute':(_0x7cb628,_0x4e3daf)=>G[_0x24ca21(0x6e6)](_0x7cb628,_0x4e3daf)});return _0x4b7e5d[_0x24ca21(0x59d)](0xc9)[_0x24ca21(0x212)](_0x20607b);})[_0x8da0d7(0x550)](this['routerPath'](_0x8da0d7(0x6f1)),..._0x23ff6f,async(_0x583469,_0xc2d95e)=>{const _0x18d36d=_0x8da0d7;let _0x2a2b8c=await this['dataValidate']({'request':_0x583469,'schema':Ba,'ClassRef':Mt,'execute':(_0xc03ccf,_0x6750d8)=>G[_0x18d36d(0x6f1)](_0xc03ccf,_0x6750d8)});return _0xc2d95e['status'](0xc9)[_0x18d36d(0x212)](_0x2a2b8c);})[_0x8da0d7(0x550)](this[_0x8da0d7(0x73a)](_0x8da0d7(0x31b)),..._0x23ff6f,async(_0x1d7402,_0x292d7f)=>{const _0x45d6f3=_0x8da0d7;let _0x45a27c=await this[_0x45d6f3(0x63d)]({'request':_0x1d7402,'schema':Ga,'ClassRef':vt,'execute':(_0x296bad,_0x3da76b)=>G['sendReaction'](_0x296bad,_0x3da76b)});return _0x292d7f[_0x45d6f3(0x59d)](0xc9)[_0x45d6f3(0x212)](_0x45a27c);})[_0x8da0d7(0x550)](this[_0x8da0d7(0x73a)](_0x8da0d7(0x618)),..._0x23ff6f,async(_0x2513ec,_0x22fb3d)=>{const _0x3dfe66=_0x8da0d7;let _0x379064=await this[_0x3dfe66(0x63d)]({'request':_0x2513ec,'schema':Fa,'ClassRef':wt,'execute':(_0x4a0355,_0x2d7e90)=>G[_0x3dfe66(0x618)](_0x4a0355,_0x2d7e90)});return _0x22fb3d['status'](0xc9)[_0x3dfe66(0x212)](_0x379064);})[_0x8da0d7(0x550)](this[_0x8da0d7(0x73a)](_0x8da0d7(0x801)),..._0x23ff6f,async(_0x1ac62f,_0x472f83)=>{const _0x5d7686=_0x8da0d7;let _0x123551=await this['dataValidate']({'request':_0x1ac62f,'schema':ka,'ClassRef':ft,'execute':(_0x275c3a,_0x1acd45)=>G['sendStatus'](_0x275c3a,_0x1acd45)});return _0x472f83[_0x5d7686(0x59d)](0xc9)['json'](_0x123551);})[_0x8da0d7(0x550)](this[_0x8da0d7(0x73a)]('sendSticker'),..._0x23ff6f,async(_0x2421a0,_0x551997)=>{const _0x36a539=_0x8da0d7;let _0x2883b9=await this['dataValidate']({'request':_0x2421a0,'schema':$a,'ClassRef':bt,'execute':(_0x4bc8f2,_0x45ca88)=>G[_0x36a539(0x404)](_0x4bc8f2,_0x45ca88)});return _0x551997['status'](0xc9)[_0x36a539(0x212)](_0x2883b9);});}},fr=require(a0_0x422c01(0x3fc)),Rt=class{},Tt=class extends V{constructor(..._0xac0d33){const _0x3e6b99=a0_0x422c01;super(),this['router']=(0x0,fr['Router'])(),this[_0x3e6b99(0x5d1)]['post'](this[_0x3e6b99(0x73a)](_0x3e6b99(0x516)),..._0xac0d33,async(_0x1898d5,_0x524a55)=>{const _0x194b06=_0x3e6b99;let _0x2d4315=await this[_0x194b06(0x63d)]({'request':_0x1898d5,'schema':dr,'ClassRef':Rt,'execute':(_0x28f3ab,_0x4b4f05)=>Ms[_0x194b06(0x444)](_0x28f3ab,_0x4b4f05)});_0x524a55['status'](0xc9)[_0x194b06(0x212)](_0x2d4315);})[_0x3e6b99(0x5a1)](this[_0x3e6b99(0x73a)]('find'),..._0xac0d33,async(_0x68dbf9,_0x148e86)=>{const _0x190288=_0x3e6b99;let _0x567b05=await this[_0x190288(0x63d)]({'request':_0x68dbf9,'schema':M,'ClassRef':S,'execute':_0x41f178=>Ms[_0x190288(0x592)](_0x41f178)});_0x148e86[_0x190288(0x59d)](0xc8)[_0x190288(0x212)](_0x567b05);});}},wr=require(a0_0x422c01(0x3fc)),y=new v(a0_0x422c01(0x807)),Ot=class extends V{constructor(..._0x523992){const _0x19c34b=a0_0x422c01;super(),this[_0x19c34b(0x5d1)]=(0x0,wr[_0x19c34b(0x302)])(),this[_0x19c34b(0x5d1)]['post'](this[_0x19c34b(0x73a)](_0x19c34b(0x3a7)),..._0x523992,async(_0xfcebd9,_0x2af37e)=>{const _0x1253c6=_0x19c34b;let _0x4b125a=_0xfcebd9[_0x1253c6(0x4fc)];y[_0x1253c6(0x644)](_0x1253c6(0x4c9)),y[_0x1253c6(0x644)](_0x1253c6(0x376)),y[_0x1253c6(0x644)](_0xfcebd9[_0x1253c6(0x4fc)]);let _0x2a7241=await this['dataValidate']({'request':_0xfcebd9,'schema':M,'ClassRef':S,'execute':_0x4f75f0=>x[_0x1253c6(0x561)](_0x4f75f0,_0x4b125a)});_0x2af37e['status'](0xc8)[_0x1253c6(0x212)](_0x2a7241);})['get'](this[_0x19c34b(0x73a)]('scheduleMessage'),..._0x523992,async(_0x2e32a3,_0x43f147)=>{const _0x3f0784=_0x19c34b;let _0x3d5a49=await this[_0x3f0784(0x63d)]({'request':_0x2e32a3,'schema':M,'ClassRef':S,'execute':_0x277dfd=>x[_0x3f0784(0x350)](_0x277dfd)});_0x43f147[_0x3f0784(0x59d)](0xc8)[_0x3f0784(0x212)](_0x3d5a49);})['delete'](this[_0x19c34b(0x73a)](_0x19c34b(0x388)),..._0x523992,async(_0x537956,_0x59b5b1)=>{const _0x2f88a2=_0x19c34b;y[_0x2f88a2(0x644)](_0x2f88a2(0x5c3));let _0xb22cfa=await this[_0x2f88a2(0x63d)]({'request':_0x537956,'schema':M,'ClassRef':S,'execute':_0x920cec=>x[_0x2f88a2(0x388)](_0x920cec)});_0x59b5b1[_0x2f88a2(0x59d)](0xc8)[_0x2f88a2(0x212)](_0xb22cfa);})[_0x19c34b(0x550)](this[_0x19c34b(0x73a)](_0x19c34b(0x452)),..._0x523992,async(_0x2f7543,_0x48ce45)=>{const _0xb6b944=_0x19c34b;let _0x51a78d=_0x2f7543[_0xb6b944(0x4fc)];y['verbose'](_0xb6b944(0x2a6)),y[_0xb6b944(0x644)](_0xb6b944(0x376)),y['verbose'](_0x2f7543['body']);let _0x333002=await this[_0xb6b944(0x63d)]({'request':_0x2f7543,'schema':M,'ClassRef':S,'execute':_0x351ca9=>x[_0xb6b944(0x452)](_0x351ca9,_0x51a78d)});_0x48ce45[_0xb6b944(0x59d)](0xc8)[_0xb6b944(0x212)](_0x333002);})[_0x19c34b(0x5a1)](this['routerPath'](_0x19c34b(0x1ac)),..._0x523992,async(_0x417e29,_0x56ad10)=>{const _0x55593e=_0x19c34b;y['verbose'](_0x55593e(0x5c4));let _0x1ff593=await this['dataValidate']({'request':_0x417e29,'schema':M,'ClassRef':S,'execute':_0x200a2b=>x[_0x55593e(0x1ac)](_0x200a2b)});_0x56ad10['status'](0xc8)['json'](_0x1ff593);})[_0x19c34b(0x5a1)](this[_0x19c34b(0x73a)]('getTicketSystem'),..._0x523992,async(_0x455616,_0x15dd15)=>{const _0x25a9ae=_0x19c34b;y[_0x25a9ae(0x644)](_0x25a9ae(0x597));let _0x4aa363=await this['dataValidate']({'request':_0x455616,'schema':M,'ClassRef':S,'execute':_0x398fa0=>x[_0x25a9ae(0x1ac)](_0x398fa0)});_0x15dd15[_0x25a9ae(0x59d)](0xc8)[_0x25a9ae(0x212)](_0x4aa363);})['post'](this[_0x19c34b(0x73a)](_0x19c34b(0x663)),..._0x523992,async(_0x83f924,_0x50c87b)=>{const _0x487bad=_0x19c34b;let _0x4a7015=_0x83f924[_0x487bad(0x4fc)];y[_0x487bad(0x644)]('request\x20received\x20in\x20updateAgent'),y['verbose'](_0x487bad(0x376)),y[_0x487bad(0x644)](_0x83f924[_0x487bad(0x4fc)]);let _0x40daef=await this[_0x487bad(0x63d)]({'request':_0x83f924,'schema':M,'ClassRef':S,'execute':_0xe8038c=>x[_0x487bad(0x663)](_0xe8038c,_0x4a7015)});_0x50c87b[_0x487bad(0x59d)](0xc8)[_0x487bad(0x212)](_0x40daef);})[_0x19c34b(0x550)](this[_0x19c34b(0x73a)](_0x19c34b(0x46c)),..._0x523992,async(_0x5baa18,_0x6384df)=>{const _0x3c811b=_0x19c34b;let _0x84d5e3=_0x5baa18[_0x3c811b(0x4fc)];y['verbose'](_0x3c811b(0x1ff)),y[_0x3c811b(0x644)](_0x3c811b(0x376)),y['verbose'](_0x5baa18[_0x3c811b(0x4fc)]);let _0x2dccab=await this[_0x3c811b(0x63d)]({'request':_0x5baa18,'schema':M,'ClassRef':S,'execute':_0x29dc19=>x[_0x3c811b(0x46c)](_0x29dc19,_0x84d5e3)});_0x6384df[_0x3c811b(0x59d)](0xc8)[_0x3c811b(0x212)](_0x2dccab);})['post'](this[_0x19c34b(0x73a)](_0x19c34b(0x816)),..._0x523992,async(_0x58ad2b,_0x6d1713)=>{const _0x398c77=_0x19c34b;let _0xffd1=_0x58ad2b[_0x398c77(0x4fc)];y[_0x398c77(0x644)](_0x398c77(0x378)),y[_0x398c77(0x644)](_0x398c77(0x376)),y[_0x398c77(0x644)](_0x58ad2b['body']);let _0x527348=await this[_0x398c77(0x63d)]({'request':_0x58ad2b,'schema':M,'ClassRef':S,'execute':_0x5acad9=>x[_0x398c77(0x816)](_0x5acad9,_0xffd1)});_0x6d1713[_0x398c77(0x59d)](0xc8)[_0x398c77(0x212)](_0x527348);})['post'](this['routerPath'](_0x19c34b(0x4d3)),..._0x523992,async(_0x2eec61,_0x1f838d)=>{const _0x4204e9=_0x19c34b;let _0x4053ec=_0x2eec61['body'];y[_0x4204e9(0x644)](_0x4204e9(0x6a0)),y[_0x4204e9(0x644)](_0x4204e9(0x376)),y[_0x4204e9(0x644)](_0x2eec61[_0x4204e9(0x4fc)]);let _0x3742b9=await this[_0x4204e9(0x63d)]({'request':_0x2eec61,'schema':M,'ClassRef':S,'execute':_0x4e3bc9=>x[_0x4204e9(0x4d3)](_0x4e3bc9,_0x4053ec)});_0x1f838d[_0x4204e9(0x59d)](0xc8)[_0x4204e9(0x212)](_0x3742b9);})[_0x19c34b(0x550)](this[_0x19c34b(0x73a)]('fetchConversation'),..._0x523992,async(_0x35c65a,_0x196f23)=>{const _0x4d48ce=_0x19c34b;let _0x385605=_0x35c65a[_0x4d48ce(0x4fc)];y[_0x4d48ce(0x644)]('request\x20received\x20in\x20fetchConversation'),y[_0x4d48ce(0x644)](_0x4d48ce(0x376)),y[_0x4d48ce(0x644)](_0x35c65a[_0x4d48ce(0x4fc)]);let _0x480588=await this[_0x4d48ce(0x63d)]({'request':_0x35c65a,'schema':M,'ClassRef':S,'execute':_0xe46c22=>x[_0x4d48ce(0x6fc)](_0xe46c22,_0x385605)});_0x196f23['status'](0xc8)[_0x4d48ce(0x212)](_0x480588);})['post'](this[_0x19c34b(0x73a)](_0x19c34b(0x6ec)),..._0x523992,async(_0x47e862,_0x49e71b)=>{const _0x2dd431=_0x19c34b;let _0x3a6697=_0x47e862[_0x2dd431(0x4fc)];y['verbose'](_0x2dd431(0x283)),y[_0x2dd431(0x644)](_0x2dd431(0x376)),y[_0x2dd431(0x644)](_0x47e862['body']);let _0x22f234=await this[_0x2dd431(0x63d)]({'request':_0x47e862,'schema':M,'ClassRef':S,'execute':_0x452287=>x['editConversation'](_0x452287,_0x3a6697)});_0x49e71b['status'](0xc8)['json'](_0x22f234);})[_0x19c34b(0x653)](this['routerPath']('deleteConversation'),..._0x523992,async(_0x4780f5,_0x33175a)=>{const _0x17369a=_0x19c34b;let _0x439729=_0x4780f5[_0x17369a(0x4fc)];y[_0x17369a(0x644)](_0x17369a(0x6db)),y[_0x17369a(0x644)](_0x17369a(0x376)),y[_0x17369a(0x644)](_0x4780f5[_0x17369a(0x4fc)]);let _0x499b0f=await this[_0x17369a(0x63d)]({'request':_0x4780f5,'schema':M,'ClassRef':S,'execute':_0x387cb4=>x['deleteConversation'](_0x387cb4,_0x439729)});_0x33175a[_0x17369a(0x59d)](0xc8)[_0x17369a(0x212)](_0x499b0f);})[_0x19c34b(0x550)](this['routerPath']('createflow'),..._0x523992,async(_0x1b525e,_0x597e3e)=>{const _0x4577d7=_0x19c34b;let _0x51116f=_0x1b525e[_0x4577d7(0x4fc)];y[_0x4577d7(0x644)](_0x4577d7(0x64e)),y['verbose'](_0x4577d7(0x376)),y[_0x4577d7(0x644)](_0x1b525e[_0x4577d7(0x4fc)]);let _0x1e0732=await this[_0x4577d7(0x63d)]({'request':_0x1b525e,'schema':M,'ClassRef':S,'execute':_0xc15896=>x[_0x4577d7(0x3f4)](_0xc15896,_0x51116f)});_0x597e3e['status'](0xc8)[_0x4577d7(0x212)](_0x1e0732);})['post'](this[_0x19c34b(0x73a)](_0x19c34b(0x4b4)),..._0x523992,async(_0x1f0898,_0x2f922a)=>{const _0x107061=_0x19c34b;let _0x4b5ea2=_0x1f0898[_0x107061(0x4fc)];y[_0x107061(0x644)]('request\x20received\x20in\x20editFlow'),y[_0x107061(0x644)](_0x107061(0x376)),y[_0x107061(0x644)](_0x1f0898[_0x107061(0x4fc)]),delete _0x4b5ea2[_0x107061(0x4d6)],delete _0x4b5ea2['variables'],delete _0x4b5ea2[_0x107061(0x196)],delete _0x4b5ea2['conditions'];let _0x4a1fd3=await this['dataValidate']({'request':_0x1f0898,'schema':M,'ClassRef':S,'execute':_0x2ff495=>x['editFlow'](_0x2ff495,_0x4b5ea2)});_0x2f922a[_0x107061(0x59d)](0xc8)['json'](_0x4a1fd3);})['post'](this['routerPath'](_0x19c34b(0x646)),..._0x523992,async(_0x39e9e4,_0x52d410)=>{const _0x3c920b=_0x19c34b;let _0x383682=_0x39e9e4[_0x3c920b(0x4fc)];y['verbose'](_0x3c920b(0x28b)),y[_0x3c920b(0x644)](_0x3c920b(0x376)),y[_0x3c920b(0x644)](_0x39e9e4[_0x3c920b(0x4fc)]);let _0x43b9d2=await this[_0x3c920b(0x63d)]({'request':_0x39e9e4,'schema':M,'ClassRef':S,'execute':_0x109d7d=>x[_0x3c920b(0x514)](_0x109d7d,_0x383682)});_0x52d410[_0x3c920b(0x59d)](0xc8)[_0x3c920b(0x212)](_0x43b9d2);})[_0x19c34b(0x550)](this[_0x19c34b(0x73a)](_0x19c34b(0x395)),..._0x523992,async(_0x24648b,_0x3ef9bd)=>{const _0x39b158=_0x19c34b;let _0x7292d3=_0x24648b[_0x39b158(0x4fc)];y[_0x39b158(0x644)](_0x39b158(0x28b)),y[_0x39b158(0x644)](_0x39b158(0x376)),y[_0x39b158(0x644)](_0x24648b[_0x39b158(0x4fc)]);let _0x1ff6fa=await this[_0x39b158(0x63d)]({'request':_0x24648b,'schema':M,'ClassRef':S,'execute':_0x22aad1=>x[_0x39b158(0x54a)](_0x22aad1,_0x7292d3)});_0x3ef9bd[_0x39b158(0x59d)](0xc8)[_0x39b158(0x212)](_0x1ff6fa);})[_0x19c34b(0x550)](this[_0x19c34b(0x73a)](_0x19c34b(0x6ca)),..._0x523992,async(_0x34c8f8,_0x51d2cc)=>{const _0x20834f=_0x19c34b;let _0x84df1b=_0x34c8f8[_0x20834f(0x4fc)];y[_0x20834f(0x644)](_0x20834f(0x28b)),y[_0x20834f(0x644)](_0x20834f(0x376)),y['verbose'](_0x34c8f8[_0x20834f(0x4fc)]);let _0x1aace8=await this[_0x20834f(0x63d)]({'request':_0x34c8f8,'schema':M,'ClassRef':S,'execute':_0x401242=>x[_0x20834f(0x189)](_0x401242,_0x84df1b)});_0x51d2cc['status'](0xc8)[_0x20834f(0x212)](_0x1aace8);})[_0x19c34b(0x550)](this[_0x19c34b(0x73a)]('editflowgroup'),..._0x523992,async(_0x4bd2b0,_0x29cfeb)=>{const _0x3be0b8=_0x19c34b;let _0x513b76=_0x4bd2b0[_0x3be0b8(0x4fc)];y['verbose'](_0x3be0b8(0x541)),y['verbose']('request\x20body:\x20'),y[_0x3be0b8(0x644)](_0x4bd2b0[_0x3be0b8(0x4fc)]);let _0x1f4c93=await this[_0x3be0b8(0x63d)]({'request':_0x4bd2b0,'schema':M,'ClassRef':S,'execute':_0x4cebdc=>x['editFlowGroup'](_0x4cebdc,_0x513b76)});_0x29cfeb['status'](0xc8)[_0x3be0b8(0x212)](_0x1f4c93);})[_0x19c34b(0x550)](this[_0x19c34b(0x73a)]('editflowcondition'),..._0x523992,async(_0x1a3af6,_0x1c5e69)=>{const _0x30f5af=_0x19c34b;let _0x3f758b=_0x1a3af6['body'];y[_0x30f5af(0x644)](_0x30f5af(0x38c)),y['verbose'](_0x30f5af(0x376)),y[_0x30f5af(0x644)](_0x1a3af6[_0x30f5af(0x4fc)]);let _0x16b3dd=await this[_0x30f5af(0x63d)]({'request':_0x1a3af6,'schema':M,'ClassRef':S,'execute':_0x129291=>x['editFlowCondition'](_0x129291,_0x3f758b)});_0x1c5e69[_0x30f5af(0x59d)](0xc8)['json'](_0x16b3dd);})[_0x19c34b(0x550)](this[_0x19c34b(0x73a)]('editflowvariable'),..._0x523992,async(_0x31e82c,_0x24225a)=>{const _0xfb3562=_0x19c34b;let _0x41b090=_0x31e82c[_0xfb3562(0x4fc)];y[_0xfb3562(0x644)](_0xfb3562(0x777)),y[_0xfb3562(0x644)]('request\x20body:\x20'),y['verbose'](_0x31e82c[_0xfb3562(0x4fc)]);let _0x5b9ff7=await this['dataValidate']({'request':_0x31e82c,'schema':M,'ClassRef':S,'execute':_0x5d0051=>x[_0xfb3562(0x5bd)](_0x5d0051,_0x41b090)});_0x24225a[_0xfb3562(0x59d)](0xc8)[_0xfb3562(0x212)](_0x5b9ff7);})[_0x19c34b(0x550)](this[_0x19c34b(0x73a)](_0x19c34b(0x1ad)),..._0x523992,async(_0x2b83f9,_0x59373c)=>{const _0x27bc6c=_0x19c34b;let _0x4cda07=_0x2b83f9[_0x27bc6c(0x4fc)];y[_0x27bc6c(0x644)](_0x27bc6c(0x329)),y['verbose']('request\x20body:\x20'),y[_0x27bc6c(0x644)](_0x2b83f9['body']);let _0x11c2b5=await this[_0x27bc6c(0x63d)]({'request':_0x2b83f9,'schema':M,'ClassRef':S,'execute':_0x576719=>x[_0x27bc6c(0x838)](_0x576719,_0x4cda07)});_0x59373c[_0x27bc6c(0x59d)](0xc8)['json'](_0x11c2b5);})['delete'](this[_0x19c34b(0x73a)]('deleteflow'),..._0x523992,async(_0x188391,_0x101c68)=>{const _0x3b45b6=_0x19c34b;let _0x3391df=_0x188391[_0x3b45b6(0x4fc)];y[_0x3b45b6(0x644)](_0x3b45b6(0x829)),y[_0x3b45b6(0x644)](_0x3b45b6(0x376)),y[_0x3b45b6(0x644)](_0x188391['body']);let _0x3132d6=await this[_0x3b45b6(0x63d)]({'request':_0x188391,'schema':M,'ClassRef':S,'execute':_0x4e6dd0=>x['deleteFlow'](_0x4e6dd0,_0x3391df)});_0x101c68[_0x3b45b6(0x59d)](0xc8)[_0x3b45b6(0x212)](_0x3132d6);})[_0x19c34b(0x5a1)](this[_0x19c34b(0x73a)](_0x19c34b(0x613)),..._0x523992,async(_0x46b60a,_0x364ce2)=>{const _0x32bc9b=_0x19c34b;y[_0x32bc9b(0x644)]('request\x20received\x20in\x20allFlows');let _0x527586=await this['dataValidate']({'request':_0x46b60a,'schema':M,'ClassRef':S,'execute':_0x5154ca=>x['allFlows'](_0x5154ca)});_0x364ce2[_0x32bc9b(0x59d)](0xc8)[_0x32bc9b(0x212)](_0x527586);});}},Cr=O(require(a0_0x422c01(0x7a4))),Z={};function yr(_0x52c9e6,_0x234ce6,_0x52f0bd,_0x188986){Z[_0x52c9e6]||(Z[_0x52c9e6]={}),Z[_0x52c9e6][_0x234ce6]={'id':_0x234ce6,'response':_0x52f0bd,'events':_0x188986};}function br(_0x4799e3,_0xffe961){!Z[_0x4799e3]||!Z[_0x4799e3][_0xffe961]||delete Z[_0x4799e3][_0xffe961];}function J(_0x2c598f,_0x1fa6ac,_0x4bde46){const _0x5ba18e=a0_0x422c01;if(!Z[_0x2c598f])return;let _0x13847a='data:\x20'+JSON[_0x5ba18e(0x54f)](_0x4bde46)+'\x0a\x0a';Object[_0x5ba18e(0x203)](Z[_0x2c598f])['forEach'](_0x358dd5=>{const _0x3941a0=_0x5ba18e;_0x358dd5[_0x3941a0(0x28c)][_0x3941a0(0x563)](_0x1fa6ac)&&_0x358dd5[_0x3941a0(0x6b2)][_0x3941a0(0x73e)](_0x13847a);});}function Sr(){const _0x2a5cfb=a0_0x422c01;let _0x4c1e7a={};for(let _0x563808 in Z)_0x4c1e7a[_0x563808]=Object['values'](Z[_0x563808])[_0x2a5cfb(0x1ec)](_0x1c22fb=>({'id':_0x1c22fb['id'],'events':_0x1c22fb[_0x2a5cfb(0x28c)]}));return _0x4c1e7a;}var Er=require('uuid'),Ns=require(a0_0x422c01(0x659)),vs=class{},bi=new Ns['Schema']({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Si=new Ns[(a0_0x422c01(0x5d4))]({'_id':{'type':String,'default':a0_0x422c01(0x443)},'WebhookGlobal':{'type':bi},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),ye=R?.[a0_0x422c01(0x639)](vs[a0_0x422c01(0x6a7)],Si,'All_Instances_Config'),Ci=Cr[a0_0x422c01(0x849)][a0_0x422c01(0x465)](__dirname,'downloads'),It=(0x0,At['Router'])(),Ei=b[a0_0x422c01(0x5a1)](a0_0x422c01(0x31f))['TYPE'],se=[Oa,Aa,Da[Ei]];It[a0_0x422c01(0x5b5)](a0_0x422c01(0x19c),At[a0_0x422c01(0x849)]['static'](Ci))[a0_0x422c01(0x5a1)]('/events/:instance',async(_0x3ed1b8,_0x1e9324)=>{const _0x4be782=a0_0x422c01;console[_0x4be782(0x7f7)](_0x4be782(0x218));let _0x493e1f=_0x3ed1b8[_0x4be782(0x5e7)]['instance'],_0xd2bda4=(_0x3ed1b8[_0x4be782(0x6b1)][_0x4be782(0x28c)]||'')[_0x4be782(0x1e1)](','),_0x140daf=(0x0,Er['v4'])();console[_0x4be782(0x7f7)]('Instance\x20ID:',_0x493e1f),console[_0x4be782(0x7f7)](_0x4be782(0x591),_0xd2bda4);let _0x1dbf13=b['get'](_0x4be782(0x31f))[_0x4be782(0x523)],_0x52a8a6=_0x3ed1b8[_0x4be782(0x6b1)]['apikey'];if(console[_0x4be782(0x7f7)](_0x4be782(0x837),_0x52a8a6),_0x1dbf13[_0x4be782(0x3bf)]!==_0x52a8a6){console[_0x4be782(0x7f7)](_0x4be782(0x835));try{let _0x22d66e=await ue[_0x4be782(0x5bf)][_0x4be782(0x752)](_0x493e1f);if(console[_0x4be782(0x7f7)](_0x4be782(0x316),_0x22d66e),!_0x22d66e||_0x22d66e['apikey']!==_0x52a8a6)return console[_0x4be782(0x7f7)](_0x4be782(0x42e)),_0x1e9324['status'](0x191)['send'](_0x4be782(0x756));}catch(_0x528e4c){return console[_0x4be782(0x820)]('Error\x20retrieving\x20instance\x20or\x20API\x20Key:',_0x528e4c),_0x1e9324['status'](0x191)[_0x4be782(0x5d8)](_0x4be782(0x51c));}}if(!await Xe(_0x493e1f))return _0x1e9324['status'](0x194)[_0x4be782(0x5d8)]('Instância\x20não\x20encontrada.');_0x1e9324[_0x4be782(0x35a)](_0x4be782(0x3cc),_0x4be782(0x414)),_0x1e9324[_0x4be782(0x35a)](_0x4be782(0x3fb),_0x4be782(0x7e1)),_0x1e9324[_0x4be782(0x35a)]('Connection',_0x4be782(0x39f)),_0x1e9324[_0x4be782(0x2b4)]();let _0x331ce5=_0x4be782(0x579)+JSON['stringify']({'info':_0x4be782(0x369)})+'\x0a\x0a';_0x1e9324[_0x4be782(0x73e)](_0x331ce5),yr(_0x493e1f,_0x140daf,_0x1e9324,_0xd2bda4),_0x3ed1b8['on'](_0x4be782(0x2b1),()=>{const _0x4793a1=_0x4be782;console[_0x4793a1(0x7f7)](_0x4793a1(0x423)+_0x493e1f),br(_0x493e1f,_0x140daf);});}),It[a0_0x422c01(0x5a1)](a0_0x422c01(0x81e),(_0x5a04dd,_0x410b79)=>{let _0xad16a2=Sr();_0x410b79['json'](_0xad16a2);})[a0_0x422c01(0x5a1)]('/',(_0x88c328,_0x31de84)=>{const _0x1a56ed=a0_0x422c01;let _0xd108b8=b[_0x1a56ed(0x5a1)]('SERVER')[_0x1a56ed(0x214)];if(_0xd108b8){let _0x467291=encodeURIComponent(''+_0xd108b8);_0x31de84[_0x1a56ed(0x80e)](_0x1a56ed(0x7c4)+_0x467291);return;}let _0x414da3=b[_0x1a56ed(0x5a1)](_0x1a56ed(0x215)),_0x57511d=_0x414da3&&_0x414da3['FULLCHAIN'][_0x1a56ed(0x1e1)]('/')[0x4];if(_0x57511d){let _0x111ac3=encodeURIComponent(_0x1a56ed(0x21c)+_0x57511d);_0x31de84['redirect'](_0x1a56ed(0x7c4)+_0x111ac3);}else _0x31de84['redirect']('https://uazapi-plugin.bubbleapps.io/');})[a0_0x422c01(0x7bf)](a0_0x422c01(0x7d2),...se,async(_0xc1b75c,_0x18e694)=>{const _0x448b73=a0_0x422c01;try{console[_0x448b73(0x7f7)]('Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit'),_0x18e694[_0x448b73(0x59d)](0xc8)['json']({'message':_0x448b73(0x384)}),_0x18e694['on'](_0x448b73(0x700),()=>process[_0x448b73(0x4b0)](0x0));}catch(_0x4cd695){console[_0x448b73(0x820)](_0x448b73(0x38f),_0x4cd695),_0x18e694[_0x448b73(0x59d)](0x1f4)[_0x448b73(0x212)]({'message':_0x448b73(0x2c9)});}})['put'](a0_0x422c01(0x732),...se,async(_0x4e26b8,_0x430e65)=>{const _0x415df6=a0_0x422c01;try{let _0x535bd1=_0x4e26b8[_0x415df6(0x4fc)];await ye[_0x415df6(0x3e5)]({},{'$set':_0x535bd1},{'upsert':!0x0});let _0x39b8cd=await ye[_0x415df6(0x64b)]();_0x430e65[_0x415df6(0x212)](_0x39b8cd);}catch(_0x5cc2c6){_0x430e65['status'](0x190)[_0x415df6(0x5d8)](_0x5cc2c6[_0x415df6(0x1dc)]);}})[a0_0x422c01(0x5a1)](a0_0x422c01(0x732),...se,async(_0x2148ae,_0x48d209)=>{const _0x241fb8=a0_0x422c01;try{let _0xa671ae=await ye['findOne']();if(!_0xa671ae)return _0x48d209[_0x241fb8(0x212)]({});_0x48d209['json'](_0xa671ae);}catch(_0x151e55){_0x48d209[_0x241fb8(0x59d)](0x1f4)[_0x241fb8(0x5d8)](_0x151e55[_0x241fb8(0x1dc)]);}})[a0_0x422c01(0x5b5)](a0_0x422c01(0x790),new gt(b,...se)[a0_0x422c01(0x5d1)])[a0_0x422c01(0x5b5)](a0_0x422c01(0x55d),new Nt(...se)[a0_0x422c01(0x5d1)])[a0_0x422c01(0x5b5)]('/chat',new rt(...se)[a0_0x422c01(0x5d1)])[a0_0x422c01(0x5b5)]('/group',new ht(...se)[a0_0x422c01(0x5d1)])[a0_0x422c01(0x5b5)](a0_0x422c01(0x50e),new Tt(...se)[a0_0x422c01(0x5d1)])[a0_0x422c01(0x5b5)](a0_0x422c01(0x6bf),new Ot(...se)[a0_0x422c01(0x5d1)]);var w=class{constructor(..._0x7681c2){const _0x1d1b68=a0_0x422c01;throw{'status':0x190,'error':_0x1d1b68(0x6d8),'message':_0x7681c2[_0x1d1b68(0x623)]>0x0?_0x7681c2:void 0x0};}},te=class{constructor(..._0x175a05){const _0x6eb55b=a0_0x422c01;throw{'status':0x191,'error':_0x6eb55b(0x64a),'message':_0x175a05[_0x6eb55b(0x623)]>0x0?_0x175a05:void 0x0};}},Q=class{constructor(..._0x5a1471){throw{'status':0x193,'error':'Forbidden','message':_0x5a1471['length']>0x0?_0x5a1471:void 0x0};}},F=class{constructor(..._0x50099d){const _0x501e6a=a0_0x422c01;throw{'status':0x194,'error':_0x501e6a(0x229),'message':_0x50099d['length']>0x0?_0x50099d:void 0x0};}},I=class{constructor(..._0x394097){const _0x42e346=a0_0x422c01;throw{'status':0x1f4,'error':_0x42e346(0x24b),'message':_0x394097['length']>0x0?_0x394097:void 0x0};}},de=require(a0_0x422c01(0x408));async function Rs(_0x5745ad){const _0x24fa7b=a0_0x422c01;let _0xd0c0d7=new v(Rs[_0x24fa7b(0x6a7)]),_0x3e9643=R[_0x24fa7b(0x4a0)](),_0x10b07b=_0x3e9643['db'](b[_0x24fa7b(0x5a1)](_0x24fa7b(0x324))[_0x24fa7b(0x785)][_0x24fa7b(0x36a)]+'-instances')[_0x24fa7b(0x691)](_0x5745ad),_0x57f741=async(_0x506a2f,_0x2b34bc)=>{const _0x4a061c=_0x24fa7b;try{return await _0x3e9643[_0x4a061c(0x18f)](),await _0x10b07b[_0x4a061c(0x4c4)]({'_id':_0x2b34bc},JSON[_0x4a061c(0x2e3)](JSON[_0x4a061c(0x54f)](_0x506a2f,de[_0x4a061c(0x23a)][_0x4a061c(0x54d)])),{'upsert':!0x0});}catch{}},_0x165c38=async _0x5a5a9c=>{const _0x342e9c=_0x24fa7b;try{await _0x3e9643[_0x342e9c(0x18f)]();let _0x1eec12=await _0x10b07b[_0x342e9c(0x64b)]({'_id':_0x5a5a9c}),_0x3b281f=JSON[_0x342e9c(0x54f)](_0x1eec12);return JSON['parse'](_0x3b281f,de['BufferJSON']['reviver']);}catch{}},_0x2a3d52=async _0x5961bc=>{const _0x43eac1=_0x24fa7b;try{return await _0x3e9643[_0x43eac1(0x18f)](),await _0x10b07b[_0x43eac1(0x758)]({'_id':_0x5961bc});}catch{}},_0x55b39e=await _0x165c38(_0x24fa7b(0x60e))||(0x0,de['initAuthCreds'])();return{'state':{'creds':_0x55b39e,'keys':{'get':async(_0xce30f8,_0x1f984c)=>{const _0x3c6ca6=_0x24fa7b;let _0x48b5f8={};return await Promise[_0x3c6ca6(0x3a4)](_0x1f984c[_0x3c6ca6(0x1ec)](async _0x2525d6=>{const _0x1a85d3=_0x3c6ca6;let _0x2f5a85=await _0x165c38(_0xce30f8+'-'+_0x2525d6);_0xce30f8===_0x1a85d3(0x7a1)&&_0x2f5a85&&(_0x2f5a85=de[_0x1a85d3(0x66d)][_0x1a85d3(0x47b)][_0x1a85d3(0x186)][_0x1a85d3(0x6f7)](_0x2f5a85)),_0x48b5f8[_0x2525d6]=_0x2f5a85;})),_0x48b5f8;},'set':async _0x4df707=>{const _0x2347c2=_0x24fa7b;let _0x2c2752=[];for(let _0x5d35f6 in _0x4df707)for(let _0x4cacca in _0x4df707[_0x5d35f6]){let _0x5088a6=_0x4df707[_0x5d35f6][_0x4cacca],_0x399890=_0x5d35f6+'-'+_0x4cacca;_0x2c2752[_0x2347c2(0x484)](_0x5088a6?_0x57f741(_0x5088a6,_0x399890):_0x2a3d52(_0x399890));}await Promise[_0x2347c2(0x3a4)](_0x2c2752);}}},'saveCreds':async()=>_0x57f741(_0x55b39e,'creds')};}var xs=O(require('long')),Ds=O(require(a0_0x422c01(0x295))),_t=require(a0_0x422c01(0x408)),Mr=require('@redis/client'),Dt=require(a0_0x422c01(0x408)),xt;function Mi(_0x38caf3){const _0x25d53d=a0_0x422c01;return xt||(xt=(0x0,Mr[_0x25d53d(0x7e5)])({'url':_0x38caf3[_0x25d53d(0x62f)]}),xt['connect']()),xt;}var ne=class c{constructor(_0x5cb9f6,_0x162241){const _0x5c6cc5=a0_0x422c01;this['redisEnv']=_0x5cb9f6,this[_0x5c6cc5(0x4f7)]=_0x162241,this[_0x5c6cc5(0x803)]=new v(c[_0x5c6cc5(0x6a7)]),this['client']=Mi(_0x5cb9f6);}set['reference'](_0x40fb4a){const _0x395c6e=a0_0x422c01;this[_0x395c6e(0x4f7)]=_0x40fb4a;}async[a0_0x422c01(0x805)](){const _0x4d6156=a0_0x422c01;try{return await this[_0x4d6156(0x822)][_0x4d6156(0x4f2)](['keys',this['redisEnv'][_0x4d6156(0x64f)]+':*']);}catch(_0x2bf441){this[_0x4d6156(0x803)]['error'](_0x2bf441);}}async[a0_0x422c01(0x4ec)](_0x4e7c59,_0x449e0f){const _0x22241a=a0_0x422c01;try{let _0x56ce66=JSON[_0x22241a(0x54f)](_0x449e0f,Dt[_0x22241a(0x23a)][_0x22241a(0x54d)]);return await this[_0x22241a(0x822)][_0x22241a(0x23b)](this[_0x22241a(0x30a)][_0x22241a(0x64f)]+':'+this[_0x22241a(0x4f7)],_0x4e7c59,_0x56ce66);}catch(_0x5f3512){this['logger'][_0x22241a(0x820)](_0x5f3512);}}async[a0_0x422c01(0x3e6)](){const _0x301b0a=a0_0x422c01;try{let _0x20cc92=await this[_0x301b0a(0x822)]['hGetAll'](this['redisEnv'][_0x301b0a(0x64f)]+':'+this[_0x301b0a(0x4f7)]);if(_0x20cc92){for(let _0x26056b in _0x20cc92)Object[_0x301b0a(0x2dd)][_0x301b0a(0x2b3)][_0x301b0a(0x5a9)](_0x20cc92,_0x26056b)&&(_0x20cc92[_0x26056b]=JSON[_0x301b0a(0x2e3)](_0x20cc92[_0x26056b],Dt['BufferJSON']['reviver']));return _0x20cc92;}}catch(_0x3e3643){this['logger'][_0x301b0a(0x820)](_0x3e3643);}}async[a0_0x422c01(0x1a0)](_0x1bc850){const _0x48ba6e=a0_0x422c01;try{let _0x4b9419=await this[_0x48ba6e(0x822)][_0x48ba6e(0x29a)](this[_0x48ba6e(0x30a)]['PREFIX_KEY']+':'+this['instanceName'],_0x1bc850);if(_0x4b9419)return JSON['parse'](_0x4b9419,Dt['BufferJSON'][_0x48ba6e(0x6c3)]);}catch(_0x59be87){this[_0x48ba6e(0x803)][_0x48ba6e(0x820)](_0x59be87);}}async[a0_0x422c01(0x264)](_0x3420e4){const _0x3a7540=a0_0x422c01;try{return await this['client'][_0x3a7540(0x255)](this[_0x3a7540(0x30a)][_0x3a7540(0x64f)]+':'+this[_0x3a7540(0x4f7)],_0x3420e4);}catch(_0x14ab99){this[_0x3a7540(0x803)][_0x3a7540(0x820)](_0x14ab99);}}async[a0_0x422c01(0x5c6)](_0x5f0c68){const _0x3dff5b=a0_0x422c01;try{return await this[_0x3dff5b(0x822)][_0x3dff5b(0x656)](_0x5f0c68||this[_0x3dff5b(0x30a)][_0x3dff5b(0x64f)]+':'+this[_0x3dff5b(0x4f7)]);}catch(_0x344792){this[_0x3dff5b(0x803)][_0x3dff5b(0x820)](_0x344792);}}};async function Ts(_0x5925d3,_0x35bd87){const _0x184164=a0_0x422c01;let _0x1e932b=new v(Ts['name']),_0x30a6b2=new ne(_0x5925d3,_0x35bd87),_0x3fcd29=async(_0x5aeff1,_0x5d95d6)=>{const _0x67e6f2=a0_0xf27f;try{return await _0x30a6b2['writeData'](_0x5d95d6,_0x5aeff1);}catch(_0x4c4bec){return _0x1e932b[_0x67e6f2(0x820)]({'localError':_0x67e6f2(0x4ec),'error':_0x4c4bec});}},_0x704d77=async _0x5d98f1=>{const _0x1ebdd3=a0_0xf27f;try{return await _0x30a6b2[_0x1ebdd3(0x1a0)](_0x5d98f1);}catch(_0x47e9a8){_0x1e932b[_0x1ebdd3(0x820)]({'readData':_0x1ebdd3(0x4ec),'error':_0x47e9a8});return;}},_0x8a935f=async _0x4c1aec=>{const _0x468d9f=a0_0xf27f;try{return await _0x30a6b2['removeData'](_0x4c1aec);}catch(_0x1a4df5){_0x1e932b[_0x468d9f(0x820)]({'readData':'removeData','error':_0x1a4df5});}},_0x4e25b1=await _0x704d77('creds')||(0x0,_t[_0x184164(0x46d)])();return{'state':{'creds':_0x4e25b1,'keys':{'get':async(_0x5edaf6,_0x955a3c)=>{const _0x1c8c95=_0x184164;let _0x26a5b6={};return await Promise[_0x1c8c95(0x3a4)](_0x955a3c['map'](async _0x2365d0=>{const _0xf3c46=_0x1c8c95;let _0x287cdc=await _0x704d77(_0x5edaf6+'-'+_0x2365d0);_0x5edaf6===_0xf3c46(0x7a1)&&_0x287cdc&&(_0x287cdc=_t['proto']['Message']['AppStateSyncKeyData'][_0xf3c46(0x6f7)](_0x287cdc)),_0x26a5b6[_0x2365d0]=_0x287cdc;})),_0x26a5b6;},'set':async _0x277b84=>{const _0x29006f=_0x184164;let _0x18d8e6=[];for(let _0x2e7842 in _0x277b84)for(let _0x1bb18c in _0x277b84[_0x2e7842]){let _0x555bee=_0x277b84[_0x2e7842][_0x1bb18c],_0x42b6c0=_0x2e7842+'-'+_0x1bb18c;_0x18d8e6[_0x29006f(0x484)](_0x555bee?await _0x3fcd29(_0x555bee,_0x42b6c0):await _0x8a935f(_0x42b6c0));}await Promise['all'](_0x18d8e6);}}},'saveCreds':async()=>await _0x3fcd29(_0x4e25b1,_0x184164(0x60e))};}var $=O(require('fs')),Lt=require(a0_0x422c01(0x1c0)),jt=O(require('sharp')),Ft=require(a0_0x422c01(0x5b7)),vi='\x0a185.72.240.101:7137:bkcihaei:jxnd6wd97u0s\x0a185.72.241.71:7363:bkcihaei:jxnd6wd97u0s\x0a185.72.240.118:7154:bkcihaei:jxnd6wd97u0s\x0a185.72.242.210:5893:bkcihaei:jxnd6wd97u0s\x0a23.129.252.71:6339:bkcihaei:jxnd6wd97u0s\x0a185.72.240.70:7106:bkcihaei:jxnd6wd97u0s\x0a185.72.241.165:7457:bkcihaei:jxnd6wd97u0s\x0a185.72.242.87:5770:bkcihaei:jxnd6wd97u0s\x0a23.129.253.113:6731:bkcihaei:jxnd6wd97u0s\x0a185.72.241.74:7366:bkcihaei:jxnd6wd97u0s\x0a185.72.241.29:7321:bkcihaei:jxnd6wd97u0s\x0a185.72.241.18:7310:bkcihaei:jxnd6wd97u0s\x0a185.72.241.217:7509:bkcihaei:jxnd6wd97u0s\x0a23.129.253.143:6761:bkcihaei:jxnd6wd97u0s\x0a23.129.254.180:6162:bkcihaei:jxnd6wd97u0s\x0a185.72.242.173:5856:bkcihaei:jxnd6wd97u0s\x0a185.72.241.93:7385:bkcihaei:jxnd6wd97u0s\x0a185.72.242.59:5742:bkcihaei:jxnd6wd97u0s\x0a185.72.242.160:5843:bkcihaei:jxnd6wd97u0s\x0a185.72.240.17:7053:bkcihaei:jxnd6wd97u0s\x0a185.72.240.51:7087:bkcihaei:jxnd6wd97u0s\x0a185.72.242.157:5840:bkcihaei:jxnd6wd97u0s\x0a185.72.240.19:7055:bkcihaei:jxnd6wd97u0s\x0a23.129.252.175:6443:bkcihaei:jxnd6wd97u0s\x0a23.129.254.11:5993:bkcihaei:jxnd6wd97u0s\x0a185.72.241.137:7429:bkcihaei:jxnd6wd97u0s\x0a185.72.241.46:7338:bkcihaei:jxnd6wd97u0s\x0a185.72.240.211:7247:bkcihaei:jxnd6wd97u0s\x0a185.72.242.130:5813:bkcihaei:jxnd6wd97u0s\x0a185.72.241.161:7453:bkcihaei:jxnd6wd97u0s\x0a23.129.253.109:6727:bkcihaei:jxnd6wd97u0s\x0a23.129.253.162:6780:bkcihaei:jxnd6wd97u0s\x0a23.129.254.237:6219:bkcihaei:jxnd6wd97u0s\x0a23.129.252.119:6387:bkcihaei:jxnd6wd97u0s\x0a185.72.241.185:7477:bkcihaei:jxnd6wd97u0s\x0a23.129.254.30:6012:bkcihaei:jxnd6wd97u0s\x0a23.129.252.82:6350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.58:7350:bkcihaei:jxnd6wd97u0s\x0a185.72.241.214:7506:bkcihaei:jxnd6wd97u0s\x0a185.72.240.209:7245:bkcihaei:jxnd6wd97u0s\x0a23.129.252.20:6288:bkcihaei:jxnd6wd97u0s\x0a23.129.254.111:6093:bkcihaei:jxnd6wd97u0s\x0a23.129.252.188:6456:bkcihaei:jxnd6wd97u0s\x0a23.129.254.62:6044:bkcihaei:jxnd6wd97u0s\x0a185.72.241.86:7378:bkcihaei:jxnd6wd97u0s\x0a23.129.252.185:6453:bkcihaei:jxnd6wd97u0s\x0a23.129.252.187:6455:bkcihaei:jxnd6wd97u0s\x0a23.129.253.111:6729:bkcihaei:jxnd6wd97u0s\x0a23.129.254.241:6223:bkcihaei:jxnd6wd97u0s\x0a23.129.253.126:6744:bkcihaei:jxnd6wd97u0s\x0a185.72.242.249:5932:bkcihaei:jxnd6wd97u0s\x0a23.129.252.241:6509:bkcihaei:jxnd6wd97u0s\x0a23.129.252.224:6492:bkcihaei:jxnd6wd97u0s\x0a23.129.254.220:6202:bkcihaei:jxnd6wd97u0s\x0a185.72.242.220:5903:bkcihaei:jxnd6wd97u0s\x0a185.72.240.12:7048:bkcihaei:jxnd6wd97u0s\x0a23.129.253.212:6830:bkcihaei:jxnd6wd97u0s\x0a23.129.252.115:6383:bkcihaei:jxnd6wd97u0s\x0a23.129.254.22:6004:bkcihaei:jxnd6wd97u0s\x0a23.129.254.200:6182:bkcihaei:jxnd6wd97u0s\x0a23.129.254.21:6003:bkcihaei:jxnd6wd97u0s\x0a23.129.253.4:6622:bkcihaei:jxnd6wd97u0s\x0a23.129.252.252:6520:bkcihaei:jxnd6wd97u0s\x0a185.72.240.166:7202:bkcihaei:jxnd6wd97u0s\x0a23.129.253.178:6796:bkcihaei:jxnd6wd97u0s\x0a23.129.254.44:6026:bkcihaei:jxnd6wd97u0s\x0a23.129.254.113:6095:bkcihaei:jxnd6wd97u0s\x0a185.72.240.108:7144:bkcihaei:jxnd6wd97u0s\x0a185.72.241.52:7344:bkcihaei:jxnd6wd97u0s\x0a185.72.242.74:5757:bkcihaei:jxnd6wd97u0s\x0a23.129.254.178:6160:bkcihaei:jxnd6wd97u0s\x0a23.129.254.134:6116:bkcihaei:jxnd6wd97u0s\x0a23.129.254.183:6165:bkcihaei:jxnd6wd97u0s\x0a185.72.240.240:7276:bkcihaei:jxnd6wd97u0s\x0a23.129.252.222:6490:bkcihaei:jxnd6wd97u0s\x0a185.72.240.188:7224:bkcihaei:jxnd6wd97u0s\x0a23.129.252.151:6419:bkcihaei:jxnd6wd97u0s\x0a23.129.254.189:6171:bkcihaei:jxnd6wd97u0s\x0a23.129.252.1:6269:bkcihaei:jxnd6wd97u0s\x0a185.72.242.245:5928:bkcihaei:jxnd6wd97u0s\x0a185.72.242.225:5908:bkcihaei:jxnd6wd97u0s\x0a23.129.254.137:6119:bkcihaei:jxnd6wd97u0s\x0a185.72.240.130:7166:bkcihaei:jxnd6wd97u0s\x0a185.72.241.122:7414:bkcihaei:jxnd6wd97u0s\x0a185.72.241.239:7531:bkcihaei:jxnd6wd97u0s\x0a23.129.252.247:6515:bkcihaei:jxnd6wd97u0s\x0a185.72.242.120:5803:bkcihaei:jxnd6wd97u0s\x0a185.72.241.88:7380:bkcihaei:jxnd6wd97u0s\x0a23.129.253.89:6707:bkcihaei:jxnd6wd97u0s\x0a23.129.253.29:6647:bkcihaei:jxnd6wd97u0s\x0a185.72.241.139:7431:bkcihaei:jxnd6wd97u0s\x0a23.129.252.172:6440:bkcihaei:jxnd6wd97u0s\x0a185.72.241.91:7383:bkcihaei:jxnd6wd97u0s\x0a185.72.242.115:5798:bkcihaei:jxnd6wd97u0s\x0a23.129.254.165:6147:bkcihaei:jxnd6wd97u0s\x0a185.72.242.247:5930:bkcihaei:jxnd6wd97u0s\x0a185.72.240.155:7191:bkcihaei:jxnd6wd97u0s\x0a23.129.253.234:6852:bkcihaei:jxnd6wd97u0s\x0a185.72.241.186:7478:bkcihaei:jxnd6wd97u0s\x0a23.129.252.79:6347:bkcihaei:jxnd6wd97u0s\x0a'[a0_0x422c01(0x78f)](),Pt=vi[a0_0x422c01(0x1e1)]('\x0a')[a0_0x422c01(0x1ec)](_0x56ce32=>{const _0x59bcb3=a0_0x422c01;let _0x47fb62=_0x56ce32[_0x59bcb3(0x1e1)](':'),_0x4f4995={'host':_0x47fb62[0x0],'port':_0x47fb62[0x1],'protocol':'http'};return _0x47fb62['length']===0x4&&(_0x4f4995[_0x59bcb3(0x6d5)]=_0x47fb62[0x2],_0x4f4995[_0x59bcb3(0x6ff)]=_0x47fb62[0x3]),_0x4f4995;});function vr(_0x41f5f5){const _0xb55281=a0_0x422c01;return Pt['find'](_0x385df7=>_0x385df7[_0xb55281(0x780)]===_0x41f5f5)||null;}function Nr(){const _0x72fd5e=a0_0x422c01;if(Pt[_0x72fd5e(0x623)]===0x0)return null;let _0x1cb6f4=Math[_0x72fd5e(0x180)](Math[_0x72fd5e(0x6ab)]()*Pt[_0x72fd5e(0x623)]);return Pt[_0x1cb6f4];}function Os(_0x3360d5){const _0x316382=a0_0x422c01;let _0x19bde5=_0x558a4b=>typeof _0x558a4b==_0x316382(0x2cc)&&_0x558a4b['length']>0x0,_0x4083cf=_0x7efe99=>{let _0x330b20=parseInt(_0x7efe99,0xa);return!isNaN(_0x330b20)&&_0x330b20>0x0&&_0x330b20<=0xffff;},_0x538a3c=_0x1f3c7a=>typeof _0x1f3c7a=='string'&&_0x1f3c7a[_0x316382(0x623)]>0x0;return _0x3360d5&&_0x19bde5(_0x3360d5['host'])&&_0x4083cf(_0x3360d5[_0x316382(0x753)])&&(!_0x3360d5['username']||_0x538a3c(_0x3360d5[_0x316382(0x6d5)]))&&(!_0x3360d5['password']||_0x538a3c(_0x3360d5[_0x316382(0x6ff)]))&&(_0x3360d5[_0x316382(0x367)]===_0x316382(0x59b)||_0x3360d5[_0x316382(0x367)]===_0x316382(0x4e0));}var Ut=require(a0_0x422c01(0x475)),_s='Safari',xr,ce=null,Rr=null,et=null,Ni=0x3,Ri=null;async function Ti(){const _0x3acddc=a0_0x422c01;let _0x381b31=await ye['findOne']();ce=_0x381b31?.[_0x3acddc(0x5ca)]??null,Ri=_0x381b31?.['DaysToDelete']??null,_s=_0x381b31?.[_0x3acddc(0x83f)]??_0x3acddc(0x25d),xr=_0x381b31?.[_0x3acddc(0x5ce)]??Ps??_0x3acddc(0x2ff),console['log'](_0x3acddc(0x2d2)),console[_0x3acddc(0x7f7)](_0x381b31);}async function Oi(){await Ti();}Oi();var Tr={},ae={},be=class c{constructor(_0x20d8ca,_0x399fd9,_0x58fe83){const _0x1471c6=a0_0x422c01;this[_0x1471c6(0x63c)]=_0x20d8ca,this[_0x1471c6(0x77e)]=_0x399fd9,this[_0x1471c6(0x585)]=_0x58fe83,this[_0x1471c6(0x728)]=null,this['logger']=new v(c['name']),this['instance']={},this['localWebhook']={},this[_0x1471c6(0x69b)]={'state':_0x1471c6(0x2b1)},this[_0x1471c6(0x1d4)]=(0x0,U[_0x1471c6(0x465)])(ie,'downloads'),this[_0x1471c6(0x5e1)]=new Ds['default'](),this[_0x1471c6(0x7ba)]=new Ds['default'](),this[_0x1471c6(0x546)]=!0x1,this['webhookMap']={'status.instance':_0x1471c6(0x77b),'connection.update':'/wa-connection-update','qrcode.updated':_0x1471c6(0x554),'messages.upsert':_0x1471c6(0x41a),'send.message':_0x1471c6(0x41a),'messages.update':'/wa-message-update','group.upsert':_0x1471c6(0x310),'group.update':_0x1471c6(0x310),'group-participants.update':_0x1471c6(0x310),'messages.set':_0x1471c6(0x346),'contacts.set':_0x1471c6(0x193),'contacts.upsert':_0x1471c6(0x193),'contacts.update':_0x1471c6(0x193),'presence.update':_0x1471c6(0x60c),'chats.set':_0x1471c6(0x1b0),'chats.update':'/wa-chats','chats.upsert':'/wa-chats','chats.delete':_0x1471c6(0x1b0)},this[_0x1471c6(0x502)]=0x0,this[_0x1471c6(0x7a7)]=[],this[_0x1471c6(0x7fa)]=0xa,this[_0x1471c6(0x4a6)]=0xea60,this['isRunning']=!0x1,this['chatHandle']={'chats.upsert':async(_0x160b25,_0x21127e)=>{const _0x11db9f=_0x1471c6;let _0x29658d=[];for await(let _0x7f5981 of _0x160b25)_0x29658d[_0x11db9f(0x484)]({'_id':_0x7f5981['id'],'owner':this[_0x11db9f(0x598)]['wuid'],'group':_0x7f5981['id']['endsWith'](_0x11db9f(0x2c4)),'name':_0x7f5981[_0x11db9f(0x6a7)]||_0x7f5981[_0x11db9f(0x5ae)]||null,'contactname':null,'lastmsg':_0x7f5981['conversationTimestamp']&&_0x7f5981[_0x11db9f(0x286)]['toString']()[_0x11db9f(0x623)]<0xd?_0x7f5981[_0x11db9f(0x286)]*0x3e8:_0x7f5981[_0x11db9f(0x286)]||null,'archived':_0x7f5981[_0x11db9f(0x382)]||!0x1,'unreadcount':_0x7f5981['unreadCount']||0x0,'ephemeralExpiration':_0x7f5981[_0x11db9f(0x59a)]||0x0});this[_0x11db9f(0x3c5)](_0x11db9f(0x74f),_0x29658d);},'chats.update':async(_0x29cb7f,_0x4f6022)=>{const _0x50e762=_0x1471c6;for(let _0x4b6fff of _0x29cb7f){let _0x40af04={'_id':_0x4b6fff['id'],'owner':this['instance']['wuid'],'group':_0x4b6fff['id'][_0x50e762(0x262)]('@g.us'),'name':_0x4b6fff[_0x50e762(0x6a7)]||_0x4b6fff[_0x50e762(0x5ae)],'archived':_0x4b6fff[_0x50e762(0x382)]},_0x403d9c=!0x1,_0x5b9241={};_0x40af04[_0x50e762(0x382)]!=null&&(this[_0x50e762(0x803)][_0x50e762(0x644)](this[_0x50e762(0x4f7)]+'\x20('+this[_0x50e762(0x598)][_0x50e762(0x76b)]+_0x50e762(0x29c)+_0x4b6fff[_0x50e762(0x382)]),_0x403d9c=!0x0,_0x5b9241[_0x50e762(0x382)]=_0x4b6fff[_0x50e762(0x382)]),_0x4b6fff[_0x50e762(0x6a7)]!=null&&(this[_0x50e762(0x803)]['verbose'](this['instanceName']+'\x20('+this[_0x50e762(0x598)][_0x50e762(0x76b)]+_0x50e762(0x606)+_0x4b6fff[_0x50e762(0x6a7)]),_0x403d9c=!0x0,_0x5b9241[_0x50e762(0x6a7)]=_0x4b6fff[_0x50e762(0x6a7)]),_0x4b6fff[_0x50e762(0x5ae)]!=null&&(this[_0x50e762(0x803)]['verbose'](this[_0x50e762(0x4f7)]+'\x20('+this['instance'][_0x50e762(0x76b)]+_0x50e762(0x4bf)+_0x4b6fff[_0x50e762(0x5ae)]),_0x403d9c=!0x0,_0x5b9241[_0x50e762(0x6a7)]=_0x4b6fff[_0x50e762(0x5ae)]);let _0x2bd774;_0x403d9c&&(_0x2bd774=await this[_0x50e762(0x585)]['chat']['updateOne']({'where':{'_id':_0x4b6fff['id']}},_0x5b9241,this[_0x50e762(0x598)][_0x50e762(0x76b)])),_0x2bd774&&J(this[_0x50e762(0x4f7)],_0x50e762(0x48e),{'chat':_0x2bd774});}},'chats.delete':async _0x5a87c4=>{const _0x260b82=_0x1471c6;for(let _0x32ecd4 of _0x5a87c4)if(_0x32ecd4[_0x260b82(0x262)](_0x260b82(0x2c4))){await this[_0x260b82(0x585)][_0x260b82(0x496)][_0x260b82(0x653)]({'where':{'_id':_0x32ecd4}},this['instance'][_0x260b82(0x76b)]);let _0x399b5a={'where':{'key':{'remoteJid':_0x32ecd4}}};await this[_0x260b82(0x585)]['message'][_0x260b82(0x653)](_0x399b5a,this[_0x260b82(0x598)][_0x260b82(0x76b)]);}else{await this[_0x260b82(0x585)][_0x260b82(0x496)][_0x260b82(0x3e5)]({'where':{'_id':_0x32ecd4}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x260b82(0x598)]['wuid']);let _0x26c2de={'where':{'key':{'remoteJid':_0x32ecd4}}};await this[_0x260b82(0x585)][_0x260b82(0x1dc)][_0x260b82(0x653)](_0x26c2de,this[_0x260b82(0x598)]['wuid']);}this[_0x260b82(0x3c5)](_0x260b82(0x56c),[..._0x5a87c4]);}},this[_0x1471c6(0x270)]={'contacts.upsert':async(_0x236d0c,_0x3c1ca8)=>{const _0xcebbb3=_0x1471c6;let _0x220b60=await this[_0xcebbb3(0x585)][_0xcebbb3(0x818)][_0xcebbb3(0x752)]({'where':{}},this[_0xcebbb3(0x598)][_0xcebbb3(0x76b)]),_0x3993ee=[];for await(let _0x58b66b of _0x236d0c)_0x220b60[_0xcebbb3(0x752)](_0x3ef186=>_0x3ef186[_0xcebbb3(0x79d)]===_0x58b66b['id'])||_0x3993ee[_0xcebbb3(0x484)]({'_id':_0x58b66b['id'],'pushName':_0x58b66b?.['name']||_0x58b66b?.[_0xcebbb3(0x3b0)],'owner':this[_0xcebbb3(0x598)][_0xcebbb3(0x76b)]});this[_0xcebbb3(0x3c5)](_0xcebbb3(0x341),_0x3993ee),await this[_0xcebbb3(0x585)][_0xcebbb3(0x818)]['insert'](_0x3993ee);},'contacts.update':async(_0x2ae3b9,_0xce7779)=>{const _0x239964=_0x1471c6;let _0x2c56b4=[];for await(let _0x1873b7 of _0x2ae3b9)_0x2c56b4[_0x239964(0x484)]({'_id':_0x1873b7['id'],'pushName':_0x1873b7?.[_0x239964(0x6a7)]??_0x1873b7?.[_0x239964(0x3b0)],'owner':this['instance'][_0x239964(0x76b)]});this[_0x239964(0x3c5)](_0x239964(0x821),_0x2c56b4);}},this[_0x1471c6(0x51b)]={'messaging-history.set':async({messages:_0xbd2ae8,chats:_0x1ac201,isLatest:_0x5e7dcb},_0x2aa385)=>{const _0x350627=_0x1471c6;if(_0x5e7dcb){let _0x348cdb=await Promise['all'](_0x1ac201['map'](async _0x4fb787=>({'_id':_0x4fb787['id'],'owner':this['instance'][_0x350627(0x76b)],'group':_0x4fb787['id'][_0x350627(0x262)]('@g.us'),'name':_0x4fb787[_0x350627(0x6a7)]||_0x4fb787[_0x350627(0x5ae)]||null,'contactname':null,'lastmsg':_0x4fb787[_0x350627(0x286)]&&_0x4fb787[_0x350627(0x286)]['toString']()[_0x350627(0x623)]<0xd?_0x4fb787[_0x350627(0x286)]*0x3e8:_0x4fb787[_0x350627(0x286)]||null,'archived':_0x4fb787['archived']||!0x1,'unreadcount':_0x4fb787[_0x350627(0x690)]||0x0})));this[_0x350627(0x3c5)]('chats.set',_0x348cdb),await this[_0x350627(0x2d1)](_0x348cdb,_0x2aa385);}let _0x415e7f=[],_0x12ad84=Date['now']()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0xc8592d]of Object[_0x350627(0x3bc)](_0xbd2ae8)){if(_0xc8592d[_0x350627(0x1dc)]?.['protocolMessage']||_0xc8592d['message']?.['senderKeyDistributionMessage']||!_0xc8592d[_0x350627(0x1dc)]||_0xc8592d[_0x350627(0x254)][_0x350627(0x1fe)]===_0x350627(0x1c3)||(xs[_0x350627(0x849)][_0x350627(0x532)](_0xc8592d?.[_0x350627(0x2ab)])&&(_0xc8592d['messageTimestamp']=_0xc8592d[_0x350627(0x2ab)]?.[_0x350627(0x75f)]()),_0xc8592d['messageTimestamp']&&_0xc8592d['messageTimestamp'][_0x350627(0x76f)]()[_0x350627(0x623)]<0xd&&(_0xc8592d[_0x350627(0x2ab)]=_0xc8592d[_0x350627(0x2ab)]*0x3e8),_0xc8592d[_0x350627(0x2ab)]<_0x12ad84))continue;let _0x1feee3=(0x0,m['normalizeMessageContent'])(_0xc8592d[_0x350627(0x1dc)]),_0xa98fd8=(0x0,m[_0x350627(0x7b2)])(_0x1feee3),{message_normalized:_0x6a734b}=this[_0x350627(0x815)](_0x1feee3,_0xa98fd8,null);Object[_0x350627(0x21a)](_0x6a734b)[_0x350627(0x623)]>0x0&&_0x415e7f[_0x350627(0x484)]({'_id':_0xc8592d['key']['id'],'key':_0xc8592d[_0x350627(0x254)],'pushName':_0xc8592d[_0x350627(0x709)],'participant':_0xc8592d[_0x350627(0x7bb)],'message':_0x1feee3,'messageType':_0xa98fd8,'message_normalized':{'key':_0xc8592d[_0x350627(0x254)],'pushName':_0xc8592d[_0x350627(0x709)],'messageTimestamp':_0xc8592d[_0x350627(0x2ab)],..._0x6a734b},'messageTimestamp':_0xc8592d[_0x350627(0x2ab)],'owner':this[_0x350627(0x598)]['wuid']});}_0x2aa385['ENABLED']&&_0x415e7f[_0x350627(0x623)]>0x0&&(this[_0x350627(0x803)][_0x350627(0x644)](this[_0x350627(0x4f7)]+'\x20('+this[_0x350627(0x598)][_0x350627(0x76b)]+'):\x20'+_0x415e7f['length']+_0x350627(0x27a)+this[_0x350627(0x598)]['wuid']+_0x350627(0x244)),await this['repository'][_0x350627(0x1dc)][_0x350627(0x4bd)]([..._0x415e7f],this[_0x350627(0x598)][_0x350627(0x76b)])),this[_0x350627(0x3c5)](_0x350627(0x7dd),[..._0x415e7f]),_0xbd2ae8=void 0x0;},'messages.upsert':async({messages:_0x247fa5,type:_0x3d7894},_0x1fdf9b)=>{const _0x312d13=_0x1471c6;let _0x28d3c9=_0x247fa5[0x0],_0x1f4072=_0x28d3c9[_0x312d13(0x254)]['id'],_0x450094=_0x28d3c9[_0x312d13(0x6c9)]===0x2,_0x55d9a1=0xb;if(this[_0x312d13(0x44b)]?.[_0x312d13(0x53a)]&&_0x28d3c9[_0x312d13(0x254)][_0x312d13(0x1fe)]['includes'](_0x312d13(0x2c4))){this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x312d13(0x480));return;}if(_0x450094){if(ae[_0x1f4072]||(ae[_0x1f4072]=0x0),ae[_0x1f4072]++,this['logger']['error'](this[_0x312d13(0x4f7)]+'\x20('+this[_0x312d13(0x598)][_0x312d13(0x76b)]+_0x312d13(0x5f1)+_0x28d3c9[_0x312d13(0x254)][_0x312d13(0x1fe)]+_0x312d13(0x231)+_0x1f4072+':\x20'+ae[_0x1f4072]+'/'+_0x55d9a1),ae[_0x1f4072]>=_0x55d9a1){this['logger']['error'](this[_0x312d13(0x4f7)]+'\x20('+this[_0x312d13(0x598)][_0x312d13(0x76b)]+_0x312d13(0x22f)+_0x28d3c9[_0x312d13(0x254)][_0x312d13(0x1fe)]+_0x312d13(0x231)+_0x1f4072+'.');let _0xcd5d9={'key':{..._0x28d3c9[_0x312d13(0x254)]},'message':{'conversation':_0x312d13(0x672)+_0x1f4072+'\x22,\x20porém\x20não\x20foi\x20possível\x20descriptografá-la,\x20sendo\x20impossível\x20ver\x20seu\x20conteúdo.'}};this[_0x312d13(0x822)]['ev'][_0x312d13(0x706)]('messages.upsert',{'messages':[_0xcd5d9],'type':_0x312d13(0x1af)}),delete ae[_0x1f4072];}}else ae[_0x1f4072]&&(this['logger'][_0x312d13(0x5de)](_0x312d13(0x521)+ae[_0x1f4072]+_0x312d13(0x601)+_0x28d3c9[_0x312d13(0x254)][_0x312d13(0x1fe)]+_0x312d13(0x231)+_0x1f4072),delete ae[_0x1f4072]);if(_0x3d7894!==_0x312d13(0x1af)||!_0x28d3c9?.['message']||_0x28d3c9[_0x312d13(0x1dc)]?.[_0x312d13(0x6d9)]||_0x28d3c9['message'][_0x312d13(0x242)]||_0x28d3c9[_0x312d13(0x254)][_0x312d13(0x1fe)]===_0x312d13(0x1c3))return;let _0x3ef1af=null,_0x208ef2=null;try{_0x3ef1af=await this[_0x312d13(0x340)](_0x28d3c9),_0x208ef2=_0x3ef1af?_0x3ef1af[_0x312d13(0x465)](','):null;}catch(_0x383f71){this[_0x312d13(0x803)][_0x312d13(0x644)](this[_0x312d13(0x4f7)]+'\x20('+this[_0x312d13(0x598)][_0x312d13(0x76b)]+_0x312d13(0x584)+(_0x383f71 instanceof Error?_0x383f71[_0x312d13(0x1dc)]:JSON[_0x312d13(0x54f)](_0x383f71,null,0x2))),_0x208ef2=_0x312d13(0x544);}this[_0x312d13(0x822)]['sendPresenceUpdate']('unavailable'),xs[_0x312d13(0x849)]['isLong'](_0x28d3c9[_0x312d13(0x2ab)])&&(_0x28d3c9[_0x312d13(0x2ab)]=_0x28d3c9['messageTimestamp']?.['toNumber']()),_0x28d3c9[_0x312d13(0x2ab)]&&_0x28d3c9[_0x312d13(0x2ab)][_0x312d13(0x76f)]()[_0x312d13(0x623)]<0xd&&(_0x28d3c9[_0x312d13(0x2ab)]=_0x28d3c9['messageTimestamp']*0x3e8);let _0x389c73=_0x28d3c9[_0x312d13(0x1dc)],_0xb5649d=(0x0,m[_0x312d13(0x741)])(_0x389c73),_0x2c3d23=(0x0,m[_0x312d13(0x7b2)])(_0xb5649d),{messageContent:_0x4cacd4,message_normalized:_0x4855ed}=this[_0x312d13(0x815)](_0xb5649d,_0x2c3d23,_0x208ef2);_0x2c3d23==='protocolMessage'&&_0x4cacd4?.[_0x312d13(0x3db)]&&(_0x2c3d23=_0x312d13(0x3db));let _0x357261,_0x48ba0f=_0x28d3c9[_0x312d13(0x254)][_0x312d13(0x1fe)][_0x312d13(0x262)]('@g.us');if(_0x28d3c9[_0x312d13(0x254)][_0x312d13(0x7fb)])_0x357261=this['instance']['profilePictureUrl'];else{let _0x5465cc=_0x48ba0f?_0x28d3c9['key'][_0x312d13(0x7bb)]:_0x28d3c9[_0x312d13(0x254)][_0x312d13(0x1fe)];_0x357261=(await this[_0x312d13(0x600)](_0x5465cc,_0x28d3c9[_0x312d13(0x709)],!0x1))[_0x312d13(0x614)][_0x312d13(0x42b)];}let _0x18455b={'_id':_0x28d3c9[_0x312d13(0x254)]['id'],'key':_0x28d3c9[_0x312d13(0x254)],'isGroup':_0x48ba0f,'profilePictureUrl':_0x357261,'pushName':_0x28d3c9[_0x312d13(0x709)],'message':_0xb5649d,'messageType':_0x2c3d23,'message_normalized':{'key':_0x28d3c9[_0x312d13(0x254)],'pushName':_0x28d3c9['pushName'],'messageTimestamp':_0x28d3c9[_0x312d13(0x2ab)],'source':(0x0,m['getDevice'])(_0x28d3c9[_0x312d13(0x254)]['id']),..._0x4855ed},'messageTimestamp':_0x28d3c9[_0x312d13(0x2ab)],'owner':this[_0x312d13(0x598)]['wuid'],'source':(0x0,m['getDevice'])(_0x28d3c9[_0x312d13(0x254)]['id']),'expiration':_0x4cacd4?.[_0x312d13(0x441)]?.['expiration']||0x0};_0x4cacd4||(console['error']('Mensagem\x20não\x20suportada'),this[_0x312d13(0x803)][_0x312d13(0x820)](_0x18455b)),this['logger']['log'](this['instanceName']+'\x20('+this[_0x312d13(0x598)][_0x312d13(0x76b)]+'):\x20'+(_0x18455b['key']?.[_0x312d13(0x7fb)]?_0x312d13(0x78c):'recebido\x20de')+'\x20['+_0x18455b['key']?.['remoteJid']['replace'](_0x312d13(0x722),'')+_0x312d13(0x44e)+_0x18455b[_0x312d13(0x754)]+')'),_0x18455b[_0x312d13(0x23f)]?.[_0x312d13(0x4e4)]&&this['logger'][_0x312d13(0x7f7)](_0x1f4072+':\x20'+_0x18455b[_0x312d13(0x23f)]?.['text']),await this[_0x312d13(0x585)]['message'][_0x312d13(0x4bd)]([_0x18455b],this['instance'][_0x312d13(0x76b)]),this[_0x312d13(0x3c5)](_0x312d13(0x5f8),_0x18455b),J(this[_0x312d13(0x4f7)],'messages',{'message':_0x18455b}),_0x28d3c9['key'][_0x312d13(0x1fe)]!==_0x312d13(0x1c3)&&await this[_0x312d13(0x671)](_0x1fdf9b,_0x18455b,_0x312d13(0x29d));},'messages.update':async(_0x497a4d,_0x23e57c)=>{const _0x5b97ec=_0x1471c6;let _0x3da49c={0x0:_0x5b97ec(0x51e),0x1:_0x5b97ec(0x4af),0x2:'SERVER_ACK',0x3:'DELIVERY_ACK',0x4:_0x5b97ec(0x4ae),0x5:'PLAYED'};for await(let {key:_0x1810e7,update:_0x2fe6b1}of _0x497a4d){if(this[_0x5b97ec(0x44b)]?.[_0x5b97ec(0x53a)]&&_0x1810e7[_0x5b97ec(0x1fe)]['includes'](_0x5b97ec(0x2c4))){this[_0x5b97ec(0x803)][_0x5b97ec(0x644)](this['instanceName']+'\x20('+this[_0x5b97ec(0x598)][_0x5b97ec(0x76b)]+_0x5b97ec(0x33c));return;}if(_0x1810e7[_0x5b97ec(0x1fe)]!==_0x5b97ec(0x1c3)){let _0x27d1b8=Date[_0x5b97ec(0x5e6)](),_0x51bf43;_0x2fe6b1['message']===null&&_0x2fe6b1['status']===void 0x0?_0x51bf43=_0x5b97ec(0x421):_0x51bf43=_0x3da49c[_0x2fe6b1['status']];let _0x1ea922=_0x1810e7[_0x5b97ec(0x1fe)][_0x5b97ec(0x246)](/:\d{1,2}@/g,'@'),_0x677ef7={..._0x1810e7,'remoteJid':_0x1ea922,'status':_0x51bf43,'datetime':_0x27d1b8,'owner':this[_0x5b97ec(0x598)][_0x5b97ec(0x76b)]};this[_0x5b97ec(0x3c5)](_0x5b97ec(0x2b9),_0x677ef7),await this['updateMessage'](_0x1810e7,_0x677ef7);}}},'labels.association':async({type:_0x3952ce,association:_0x31761b})=>{const _0x31de8a=_0x1471c6;if(_0x31761b['type']===_0x31de8a(0x651)){let _0x572ff3,_0x592f6c=0x0;for(;!_0x572ff3&&_0x592f6c<this[_0x31de8a(0x307)];)_0x572ff3=await this['repository'][_0x31de8a(0x496)][_0x31de8a(0x64b)]({'where':{'_id':_0x31761b[_0x31de8a(0x631)]}},this[_0x31de8a(0x598)][_0x31de8a(0x76b)]),_0x572ff3||(_0x592f6c++,console[_0x31de8a(0x7f7)]('Chat\x20'+_0x31761b[_0x31de8a(0x631)]+'\x20not\x20found,\x20retrying\x20in\x20'+this[_0x31de8a(0x7fe)]+'ms\x20(Attempt\x20'+_0x592f6c+'/'+this[_0x31de8a(0x307)]+')'),await this[_0x31de8a(0x2ec)](this[_0x31de8a(0x7fe)]));if(!_0x572ff3){console[_0x31de8a(0x820)]('Failed\x20to\x20find\x20chat\x20'+_0x31761b['chatId']+_0x31de8a(0x62a)+this[_0x31de8a(0x307)]+_0x31de8a(0x6d3));return;}switch(_0x3952ce){case _0x31de8a(0x263):console[_0x31de8a(0x7f7)](_0x31761b),await this[_0x31de8a(0x585)][_0x31de8a(0x496)]['updateOne']({'where':{'_id':_0x31761b[_0x31de8a(0x631)]}},{'leadInfo.etiquetas':_0x31761b[_0x31de8a(0x1ae)]},this['instance']['wuid'],void 0x0,'$addToSet');break;case _0x31de8a(0x5f0):console[_0x31de8a(0x7f7)](_0x31761b),await this[_0x31de8a(0x585)][_0x31de8a(0x496)][_0x31de8a(0x3e5)]({'where':{'_id':_0x31761b[_0x31de8a(0x631)]}},{'leadInfo.etiquetas':_0x31761b['labelId']},this[_0x31de8a(0x598)][_0x31de8a(0x76b)],void 0x0,_0x31de8a(0x352));break;default:console['error'](_0x31de8a(0x4e1)+_0x3952ce+']');}}},'labels.edit':async _0x3cbfa0=>{const _0x32dfb7=_0x1471c6;if(!_0x3cbfa0||!_0x3cbfa0['id']){console['error'](_0x32dfb7(0x744));return;}if(!_0x3cbfa0['deleted']){let _0x45c220=[_0x32dfb7(0x2dc),_0x32dfb7(0x507),_0x32dfb7(0x428),_0x32dfb7(0x198),_0x32dfb7(0x564),_0x32dfb7(0x1e3),_0x32dfb7(0x65c),'#d3a91f','#6f7bcf',_0x32dfb7(0x412),_0x32dfb7(0x1e0),'#ffc5c7',_0x32dfb7(0x38b),_0x32dfb7(0x19d),_0x32dfb7(0x3b6),_0x32dfb7(0x35f),'#ffae04',_0x32dfb7(0x1b2),_0x32dfb7(0x1ba),'#9568cf'],_0x544973;typeof _0x3cbfa0[_0x32dfb7(0x71a)]=='number'&&_0x3cbfa0[_0x32dfb7(0x71a)]>=0x0&&_0x3cbfa0[_0x32dfb7(0x71a)]<_0x45c220[_0x32dfb7(0x623)]?_0x544973=_0x45c220[_0x3cbfa0[_0x32dfb7(0x71a)]]:(console[_0x32dfb7(0x820)](_0x32dfb7(0x629),_0x3cbfa0['color']),_0x544973='#000000');let _0x58a6b4={'_id':_0x3cbfa0['id'],'colorHex':_0x544973,'color':_0x3cbfa0?.[_0x32dfb7(0x71a)],'name':_0x3cbfa0?.[_0x32dfb7(0x6a7)],'owner':this['instance'][_0x32dfb7(0x76b)]};await this[_0x32dfb7(0x585)]['label'][_0x32dfb7(0x3e5)]({'where':{'_id':_0x3cbfa0['id']}},_0x58a6b4,this[_0x32dfb7(0x598)][_0x32dfb7(0x76b)]),console['log']('Rótulo\x20atualizado:',_0x3cbfa0);}_0x3cbfa0[_0x32dfb7(0x226)]&&(await this[_0x32dfb7(0x585)]['label'][_0x32dfb7(0x653)]({'where':{'_id':_0x3cbfa0['id']}},this[_0x32dfb7(0x598)][_0x32dfb7(0x76b)]),console[_0x32dfb7(0x7f7)](_0x32dfb7(0x457),_0x3cbfa0['id']));}},this[_0x1471c6(0x630)]={'groups.upsert':_0x39301e=>{const _0x4347c3=_0x1471c6;this[_0x4347c3(0x3c5)]('groups.upsert',_0x39301e);},'groups.update':_0x3fc3f0=>{const _0x3ece3f=_0x1471c6;this['sendDataWebhook'](_0x3ece3f(0x778),_0x3fc3f0);},'group-participants.update':_0x4edcad=>{const _0x25bb04=_0x1471c6;this[_0x25bb04(0x3c5)]('group-participants.update',_0x4edcad);}},this['delayChatLabel_MAX_RETRIES']=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this[_0x1471c6(0x340)]=async _0x37ef4e=>{const _0x583437=_0x1471c6;if(_0x37ef4e[_0x583437(0x1dc)]?.['pollUpdateMessage']){let _0x544f8f=await this[_0x583437(0x6c8)](_0x37ef4e['message'][_0x583437(0x33f)]['pollCreationMessageKey'],!0x0);if(_0x544f8f){let _0x300344=_0x544f8f[_0x583437(0x254)][_0x583437(0x7fb)]?this['instance']['wuid']+_0x583437(0x722):_0x544f8f[_0x583437(0x254)][_0x583437(0x7bb)]||_0x544f8f[_0x583437(0x254)][_0x583437(0x1fe)],_0x584a1a=_0x544f8f[_0x583437(0x254)]['id'],_0x36f2f7=_0x544f8f[_0x583437(0x1dc)],_0x2782aa=Buffer['from'](_0x36f2f7[_0x583437(0x517)][_0x583437(0x81f)][_0x583437(0x76f)]('hex'),_0x583437(0x6e0)),_0x5e6e57=(0x0,m['decryptPollVote'])(_0x37ef4e[_0x583437(0x1dc)][_0x583437(0x33f)][_0x583437(0x59e)],{'pollCreatorJid':_0x300344,'pollMsgId':_0x584a1a,'pollEncKey':_0x2782aa,'voterJid':_0x37ef4e[_0x583437(0x254)][_0x583437(0x7fb)]?this[_0x583437(0x598)]['wuid']+_0x583437(0x722):_0x37ef4e[_0x583437(0x254)][_0x583437(0x1fe)][_0x583437(0x262)](_0x583437(0x2da))?_0x37ef4e[_0x583437(0x254)][_0x583437(0x7bb)]:_0x37ef4e[_0x583437(0x254)][_0x583437(0x1fe)]}),_0x86cf2=[],_0x33d143=_0x5e6e57[_0x583437(0x505)][_0x583437(0x1ec)](_0xab651e=>Buffer[_0x583437(0x52c)](_0xab651e)[_0x583437(0x76f)](_0x583437(0x6e0)));for(let {optionName:_0x52d3fa}of _0x36f2f7[_0x583437(0x265)]?.['options']||_0x36f2f7['pollCreationMessageV3']?.[_0x583437(0x693)]||_0x36f2f7[_0x583437(0x7e8)]?.[_0x583437(0x693)])_0x33d143[_0x583437(0x27b)]((0x0,m[_0x583437(0x32f)])(Buffer[_0x583437(0x52c)](_0x52d3fa))[_0x583437(0x76f)]('hex'))>-0x1&&_0x86cf2[_0x583437(0x484)](_0x52d3fa);return _0x86cf2;}}return null;},this[_0x1471c6(0x815)]=(_0x99a4a8,_0x5133ed,_0x53436c)=>{const _0x29ccf9=_0x1471c6;try{let _0x31c39f=_0x99a4a8?(0x0,m[_0x29ccf9(0x4f5)])(_0x99a4a8)[_0x5133ed]:void 0x0,_0x22ed16={},_0x1d7295=null,_0x567660=null,_0x5aa6a9=null;_0x5133ed===_0x29ccf9(0x6d9)&&_0x31c39f?.[_0x29ccf9(0x3db)]&&(_0x5133ed=(0x0,m['getContentType'])(_0x31c39f['editedMessage']),_0x1d7295=_0x99a4a8[_0x29ccf9(0x6d9)][_0x29ccf9(0x254)]['id'],_0x31c39f=_0x99a4a8[_0x29ccf9(0x6d9)][_0x29ccf9(0x3db)][_0x5133ed]),_0x99a4a8[_0x5133ed]?.[_0x29ccf9(0x441)]?.['stanzaId']&&_0x99a4a8[_0x5133ed]?.['contextInfo']?.[_0x29ccf9(0x43d)]&&(_0x567660=_0x99a4a8[_0x5133ed][_0x29ccf9(0x441)][_0x29ccf9(0x77c)]),_0x99a4a8[_0x29ccf9(0x2b5)]&&(_0x5aa6a9=_0x99a4a8[_0x29ccf9(0x2b5)][_0x29ccf9(0x254)]['id']);let _0x167a0a;if(_0x31c39f&&typeof _0x31c39f==_0x29ccf9(0x1e5)&&_0x29ccf9(0x768)in _0x31c39f&&({pollCreationMessageKey:_0x167a0a}=_0x31c39f),_0x5133ed===_0x29ccf9(0x265)||_0x5133ed==='pollCreationMessageV2'||_0x5133ed===_0x29ccf9(0x18c)){let _0xf6b4c4=_0x31c39f[_0x29ccf9(0x693)][_0x29ccf9(0x1ec)](_0x3a82b2=>_0x3a82b2['optionName'])['join']('|');_0x22ed16['convertedOptions']=_0xf6b4c4;}let _0x1ef8f9='';if(_0x31c39f&&(_0x1ef8f9+=_0x31c39f[_0x29ccf9(0x6a7)]?_0x31c39f['name']:'',_0x1ef8f9+=_0x31c39f['caption']?'\x20'+_0x31c39f[_0x29ccf9(0x439)]:'',_0x1ef8f9+=_0x31c39f[_0x29ccf9(0x76c)]?'\x20'+_0x31c39f['conversation']:'',_0x1ef8f9+=_0x31c39f[_0x29ccf9(0x5ae)]?'\x20'+_0x31c39f['displayName']:''),_0x5133ed===_0x29ccf9(0x55a)){_0x1ef8f9=(_0x31c39f[_0x29ccf9(0x7a8)]||'')+'\x0a'+(_0x31c39f[_0x29ccf9(0x2a3)]||'')+'\x0a'+(_0x31c39f[_0x29ccf9(0x6ba)]||'');let _0x3d89c0=this[_0x29ccf9(0x68f)](_0x31c39f[_0x29ccf9(0x236)]);_0x22ed16[_0x29ccf9(0x4f9)]=_0x3d89c0;}if(_0x5133ed===_0x29ccf9(0x219)&&(_0x53436c=_0x31c39f[_0x29ccf9(0x7a8)]),_0x31c39f&&_0x31c39f[_0x29ccf9(0x726)]){let _0x400891=this[_0x29ccf9(0x3f2)](JSON[_0x29ccf9(0x54f)](_0x31c39f[_0x29ccf9(0x726)],null,0x2));_0x1ef8f9=_0x1ef8f9+'\x0a'+_0x400891;}if(_0x31c39f){let {sections:_0x4a858f,listType:_0x378c6f,displayName:_0x10b5dd,vcard:_0x3c3201,contactVcard:_0x27730e,name:_0x3d863c,caption:_0x11dc72,conversation:_0x564a8d,pollCreationMessageKey:_0x57b883,footerText:_0x396d80,contentText:_0x4709c8,pageCount:_0x21f7b7,headerType:_0x4ebbb0,isAvatar:_0x4a60ce,isAnimated:_0x24d81d,fallbackLc:_0x51cd4b,fallbackLg:_0x48c0f1,namespace:_0x212c6f,elementName:_0x3011f5,localizableParams:_0x170729,viewOnce:_0x120d02,height:_0x26dd37,width:_0x394c48,key:_0x407472,firstScanLength:_0x3d0659,firstScanSidecar:_0x552c96,gifPlayback:_0x16d9a7,gifAttribution:_0x3aafd9,midQualityFileSha256:_0x13fe72,scansSidecar:_0x26045c,streamingSidecar:_0x4137d4,thumbnailHeight:_0x2e73bb,thumbnailWidth:_0x527402,thumbnailEncSha256:_0x30568e,thumbnailDirectPath:_0x563109,canonicalUrl:_0x282339,matchedText:_0x1483e9,previewType:_0x50ead5,thumbnailSha256:_0x260a66,deviceListMetadataVersion:_0x3c8756,inviteLinkGroupTypeV2:_0x9e74fc,interactiveAnnotations:_0xc37412,scanLengths:_0x327593,jpegThumbnail:_0x4d5baf,url:_0x4764e0,mediaKeyTimestamp:_0x1f5e66,waveform:_0x1724be,stickerSentTs:_0xd3045f,firstFrameLength:_0x1b31bc,fileEncSha256:_0x16fc95,contextInfo:_0x20274b,firstFrameSidecar:_0x936d2,directPath:_0x189fa6,fileSha256:_0x19c1b5,mediaKey:_0x42732f,senderTimestampMs:_0x4d1c57,..._0x34549d}=_0x31c39f;(_0x5133ed===_0x29ccf9(0x55a)||_0x5133ed===_0x29ccf9(0x219))&&(delete _0x34549d[_0x29ccf9(0x7a8)],delete _0x34549d[_0x29ccf9(0x2a3)]),typeof _0x31c39f==_0x29ccf9(0x2cc)?_0x22ed16={'text':_0x31c39f,'type':_0x5133ed||_0x29ccf9(0x76c),..._0x1d7295&&{'edited':_0x1d7295},..._0x567660&&{'quoted':_0x567660},..._0x5aa6a9&&{'reaction':_0x5aa6a9}}:_0x22ed16={'text':_0x1ef8f9,..._0x34549d,..._0x5133ed===_0x29ccf9(0x33f)?{'poll_id':_0x31c39f['pollCreationMessageKey']['id'],'quoted':_0x31c39f[_0x29ccf9(0x768)]['id'],'vote':_0x53436c}:{},..._0x5133ed==='listResponseMessage'?{'vote':_0x53436c}:{},'type':_0x5133ed,..._0x1d7295&&{'edited':_0x1d7295},..._0x567660&&{'quoted':_0x567660},..._0x5aa6a9&&{'reaction':_0x5aa6a9},...(_0x5133ed===_0x29ccf9(0x265)||_0x5133ed===_0x29ccf9(0x7e8)||_0x5133ed===_0x29ccf9(0x18c)||_0x5133ed==='listMessage')&&{'convertedOptions':_0x22ed16['convertedOptions']}};}return{'messageType':_0x5133ed,'messageContent':_0x31c39f,'message_normalized':_0x22ed16};}catch(_0x412a63){return console[_0x29ccf9(0x820)](_0x29ccf9(0x6ed),_0x412a63),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x1471c6(0x611)](),this[_0x1471c6(0x598)][_0x1471c6(0x5b8)]={'count':0x0},this['instance'][_0x1471c6(0x1cd)]={'isConnected':!0x1,'delayMessage':null,'processing_id':null,'lastSend':0x0,'timeout':null,'ultimaTentativaRemoteJid':null});}set['instanceName'](_0x5a8714){const _0x4cb8bc=a0_0x422c01;if(!_0x5a8714){this[_0x4cb8bc(0x598)]['name']=(0x0,Or['v4'])();return;}this[_0x4cb8bc(0x598)][_0x4cb8bc(0x6a7)]=_0x5a8714,this[_0x4cb8bc(0x3c5)](_0x4cb8bc(0x574),{'instance':this[_0x4cb8bc(0x598)][_0x4cb8bc(0x6a7)],'status':_0x4cb8bc(0x79c)});}get[a0_0x422c01(0x4f7)](){const _0x1a4aea=a0_0x422c01;return this[_0x1a4aea(0x598)][_0x1a4aea(0x6a7)];}get['wuid'](){const _0xa87eec=a0_0x422c01;return this[_0xa87eec(0x598)][_0xa87eec(0x76b)];}async[a0_0x422c01(0x420)](){const _0x3f8bf8=a0_0x422c01;let _0x8ef215=this[_0x3f8bf8(0x822)][_0x3f8bf8(0x42a)]?.[_0x3f8bf8(0x6a7)]??this[_0x3f8bf8(0x822)][_0x3f8bf8(0x42a)]?.[_0x3f8bf8(0x3b0)];if(!_0x8ef215){if(this[_0x3f8bf8(0x63c)][_0x3f8bf8(0x5a1)](_0x3f8bf8(0x324))[_0x3f8bf8(0x698)]){let _0x283cfc=await R['getClient']()['db'](this['configService'][_0x3f8bf8(0x5a1)](_0x3f8bf8(0x324))[_0x3f8bf8(0x785)][_0x3f8bf8(0x36a)]+_0x3f8bf8(0x767))[_0x3f8bf8(0x691)](this[_0x3f8bf8(0x4f7)])[_0x3f8bf8(0x64b)]({'_id':_0x3f8bf8(0x60e)});if(_0x283cfc){let _0x8e91b6=JSON['parse'](JSON['stringify'](_0x283cfc),m[_0x3f8bf8(0x23a)]['reviver']);_0x8ef215=_0x8e91b6['me']?.['name']||_0x8e91b6['me']?.['verifiedName'];}}else{if((0x0,Re[_0x3f8bf8(0x643)])((0x0,U[_0x3f8bf8(0x465)])(ge,this['instanceName'],_0x3f8bf8(0x833)))){let _0x1ad29f=JSON[_0x3f8bf8(0x2e3)]((0x0,Re[_0x3f8bf8(0x258)])((0x0,U[_0x3f8bf8(0x465)])(ge,this[_0x3f8bf8(0x4f7)],'creds.json'),{'encoding':_0x3f8bf8(0x6fe)}));_0x8ef215=_0x1ad29f['me']?.[_0x3f8bf8(0x6a7)]||_0x1ad29f['me']?.['verifiedName'];}}}return _0x8ef215;}get[a0_0x422c01(0x6d7)](){const _0x31e2aa=a0_0x422c01;return this[_0x31e2aa(0x598)]['profilePictureUrl'];}get[a0_0x422c01(0x4ac)](){const _0x5bbb88=a0_0x422c01;return this[_0x5bbb88(0x598)]['qrcode']?.[_0x5bbb88(0x216)]?{'pairingCode':this[_0x5bbb88(0x598)][_0x5bbb88(0x5b8)]?.[_0x5bbb88(0x216)]}:{'code':this['instance'][_0x5bbb88(0x5b8)]?.[_0x5bbb88(0x83d)],'base64':this[_0x5bbb88(0x598)]['qrcode']?.[_0x5bbb88(0x3b7)]};}async[a0_0x422c01(0x18a)](){const _0x2faa2d=a0_0x422c01;let _0x41004c=await this['repository'][_0x2faa2d(0x425)]['find'](this[_0x2faa2d(0x4f7)]);this[_0x2faa2d(0x44b)][_0x2faa2d(0x54c)]=_0x41004c?.[_0x2faa2d(0x54c)],this[_0x2faa2d(0x44b)][_0x2faa2d(0x63a)]=_0x41004c?.['enabled'],this['localWebhook'][_0x2faa2d(0x1d6)]=_0x41004c?.[_0x2faa2d(0x1d6)],this[_0x2faa2d(0x44b)]['STATUS_INSTANCE']=_0x41004c?.[_0x2faa2d(0x515)],this[_0x2faa2d(0x44b)][_0x2faa2d(0x740)]=_0x41004c?.[_0x2faa2d(0x740)],this[_0x2faa2d(0x44b)][_0x2faa2d(0x7da)]=_0x41004c?.[_0x2faa2d(0x7da)],this[_0x2faa2d(0x44b)][_0x2faa2d(0x29d)]=_0x41004c?.[_0x2faa2d(0x29d)],this[_0x2faa2d(0x44b)][_0x2faa2d(0x3cf)]=_0x41004c?.[_0x2faa2d(0x3cf)],this[_0x2faa2d(0x44b)]['GROUPS_UPSERT']=_0x41004c?.['GROUPS_UPSERT'],this[_0x2faa2d(0x44b)][_0x2faa2d(0x60a)]=_0x41004c?.[_0x2faa2d(0x60a)],this[_0x2faa2d(0x44b)][_0x2faa2d(0x1f3)]=_0x41004c?.[_0x2faa2d(0x1f3)],this[_0x2faa2d(0x44b)][_0x2faa2d(0x3f7)]=_0x41004c?.['CHATS_SET'],this[_0x2faa2d(0x44b)][_0x2faa2d(0x53f)]=_0x41004c?.[_0x2faa2d(0x53f)],this[_0x2faa2d(0x44b)][_0x2faa2d(0x5fc)]=_0x41004c?.[_0x2faa2d(0x5fc)],this[_0x2faa2d(0x44b)]['CHATS_DELETE']=_0x41004c?.[_0x2faa2d(0x25a)],this[_0x2faa2d(0x44b)][_0x2faa2d(0x57a)]=_0x41004c?.[_0x2faa2d(0x57a)],this[_0x2faa2d(0x44b)]['CONTACTS_UPSERT']=_0x41004c?.[_0x2faa2d(0x60d)],this[_0x2faa2d(0x44b)][_0x2faa2d(0x19f)]=_0x41004c?.['CONTACTS_UPDATE'],this['localWebhook'][_0x2faa2d(0x5bb)]=_0x41004c?.[_0x2faa2d(0x5bb)],this[_0x2faa2d(0x44b)][_0x2faa2d(0x25b)]=_0x41004c?.[_0x2faa2d(0x25b)],this[_0x2faa2d(0x44b)][_0x2faa2d(0x751)]=_0x41004c?.[_0x2faa2d(0x751)],this['localWebhook'][_0x2faa2d(0x53a)]=_0x41004c?.[_0x2faa2d(0x53a)];}async[a0_0x422c01(0x27d)](_0x2dd300){const _0x33386d=a0_0x422c01;let _0x67125f=[_0x33386d(0x79d),'url',_0x33386d(0x63a),_0x33386d(0x1d6),_0x33386d(0x515),_0x33386d(0x740),'MESSAGES_UPDATE',_0x33386d(0x29d),_0x33386d(0x7da),_0x33386d(0x4c7),_0x33386d(0x60a),_0x33386d(0x1f3),_0x33386d(0x3f7),_0x33386d(0x53f),_0x33386d(0x5fc),'CHATS_DELETE',_0x33386d(0x57a),_0x33386d(0x60d),'CONTACTS_UPDATE',_0x33386d(0x5bb),'MESSAGES_SET',_0x33386d(0x751),_0x33386d(0x53a)],_0x13d5e7={};return _0x67125f[_0x33386d(0x485)](_0x41bb3e=>{_0x2dd300[_0x41bb3e]!==void 0x0&&(_0x13d5e7[_0x41bb3e]=_0x2dd300[_0x41bb3e]);}),_0x13d5e7['url']&&(_0x13d5e7[_0x33386d(0x54c)]=_0x13d5e7['url'][_0x33386d(0x78f)]()),await this[_0x33386d(0x585)][_0x33386d(0x425)]['create'](_0x13d5e7,this[_0x33386d(0x4f7)]),Object['assign'](this[_0x33386d(0x44b)],_0x13d5e7),await this[_0x33386d(0x585)][_0x33386d(0x425)][_0x33386d(0x752)](this['instanceName']);}async[a0_0x422c01(0x592)](){const _0x1eab3e=a0_0x422c01;return await this[_0x1eab3e(0x585)][_0x1eab3e(0x425)][_0x1eab3e(0x752)](this[_0x1eab3e(0x4f7)]);}async['sendDataWebhook'](_0x235935,_0x68edc6){const _0x5d93c1=a0_0x422c01;let _0x3c6b28=_0x235935[_0x5d93c1(0x246)](/[\.-]/gm,'_')[_0x5d93c1(0x6cb)](),_0x271479=this[_0x5d93c1(0x44b)][_0x5d93c1(0x63a)]&&(0x0,P['isURL'])(this[_0x5d93c1(0x44b)][_0x5d93c1(0x54c)])?this[_0x5d93c1(0x44b)][_0x5d93c1(0x54c)]+(this[_0x5d93c1(0x44b)][_0x5d93c1(0x1d6)]?this[_0x5d93c1(0x47d)][_0x235935]:''):null,_0x420d02=this[_0x5d93c1(0x44b)][_0x3c6b28],_0x4831cb=ce&&ce[_0x5d93c1(0x63a)]&&(0x0,P['isURL'])(ce[_0x5d93c1(0x54c)])?ce[_0x5d93c1(0x54c)]+(ce['local_map']?this[_0x5d93c1(0x47d)][_0x235935]:''):null,_0x5e2911=ce?ce[_0x3c6b28]:null;if(_0x420d02&&_0x271479)try{await K[_0x5d93c1(0x849)]['create']({'baseURL':_0x271479})[_0x5d93c1(0x550)]('',{'event':_0x235935,'instance':this['instance'][_0x5d93c1(0x6a7)],'apikey':this['instance']['apikey'],'data':_0x68edc6}),this[_0x5d93c1(0x803)]['log'](this['instanceName']+'\x20('+this[_0x5d93c1(0x598)][_0x5d93c1(0x76b)]+_0x5d93c1(0x1f2)+_0x235935+':\x20'+_0x271479);}catch{this['logger'][_0x5d93c1(0x820)](this['instanceName']+'\x20('+this[_0x5d93c1(0x598)][_0x5d93c1(0x76b)]+_0x5d93c1(0x57e)+_0x235935+':\x20'+_0x271479);}if(_0x5e2911&&_0x4831cb)try{await K['default'][_0x5d93c1(0x2c7)]({'baseURL':_0x4831cb})[_0x5d93c1(0x550)]('',{'event':_0x235935,'instance':this[_0x5d93c1(0x598)][_0x5d93c1(0x6a7)],'apikey':this[_0x5d93c1(0x598)][_0x5d93c1(0x3fa)],'data':_0x68edc6}),this[_0x5d93c1(0x803)][_0x5d93c1(0x7f7)](this['instanceName']+'\x20('+this[_0x5d93c1(0x598)][_0x5d93c1(0x76b)]+'):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x235935+':\x20'+_0x4831cb);}catch{this[_0x5d93c1(0x803)][_0x5d93c1(0x820)](this[_0x5d93c1(0x4f7)]+'\x20('+this[_0x5d93c1(0x598)][_0x5d93c1(0x76b)]+'):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20'+_0x235935+':\x20'+_0x4831cb);}}async['connectionUpdate']({qr:_0xfa2d89,connection:_0x1df9c4,lastDisconnect:_0x213fb1}){const _0x1c5f9d=a0_0x422c01;if(_0xfa2d89){if(this['instance'][_0x1c5f9d(0x5b8)][_0x1c5f9d(0x259)]===Ni)return this[_0x1c5f9d(0x3c5)](_0x1c5f9d(0x2a1),{'message':_0x1c5f9d(0x713),'statusCode':m['DisconnectReason'][_0x1c5f9d(0x69d)]}),this[_0x1c5f9d(0x69b)]={'state':_0x1c5f9d(0x450),'statusReason':m[_0x1c5f9d(0x786)][_0x1c5f9d(0x74a)]},this[_0x1c5f9d(0x3c5)](_0x1c5f9d(0x47c),{'instance':this[_0x1c5f9d(0x598)][_0x1c5f9d(0x6a7)],...this['stateConnection']}),this[_0x1c5f9d(0x3c5)]('status.instance',{'instance':this[_0x1c5f9d(0x598)][_0x1c5f9d(0x6a7)],'status':_0x1c5f9d(0x556)}),this[_0x1c5f9d(0x585)][_0x1c5f9d(0x5bf)][_0x1c5f9d(0x2c7)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x1c5f9d(0x598)][_0x1c5f9d(0x6a7)]),this[_0x1c5f9d(0x546)]=!0x0,this[_0x1c5f9d(0x77e)]['emit'](_0x1c5f9d(0x56b),this['instance']['name']);this[_0x1c5f9d(0x598)][_0x1c5f9d(0x5b8)][_0x1c5f9d(0x259)]++;let _0x1f9523={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':'#ffffff','dark':_0x1c5f9d(0x674)}};Ar[_0x1c5f9d(0x849)][_0x1c5f9d(0x81d)](_0xfa2d89,_0x1f9523,(_0x1987de,_0x3f9524)=>{const _0x3dec0c=_0x1c5f9d;if(_0x1987de){this[_0x3dec0c(0x803)][_0x3dec0c(0x820)](this[_0x3dec0c(0x4f7)]+'\x20('+this[_0x3dec0c(0x598)]['wuid']+_0x3dec0c(0x250)+(_0x1987de instanceof Error?_0x1987de[_0x3dec0c(0x1dc)]:JSON[_0x3dec0c(0x54f)](_0x1987de,null,0x2)));return;}this['instance'][_0x3dec0c(0x5b8)][_0x3dec0c(0x3b7)]=_0x3f9524,this[_0x3dec0c(0x598)]['qrcode']['code']=_0xfa2d89,!this[_0x3dec0c(0x6f9)]&&this[_0x3dec0c(0x3c5)]('qrcode.updated',{'qrcode':{'instance':this[_0x3dec0c(0x598)][_0x3dec0c(0x6a7)],'pairingCode':this[_0x3dec0c(0x598)][_0x3dec0c(0x5b8)]['pairingCode'],'code':_0xfa2d89,'base64':_0x3f9524}});}),this[_0x1c5f9d(0x6f9)]?this[_0x1c5f9d(0x598)][_0x1c5f9d(0x5b8)]['pairingCode']||(await(0x0,m[_0x1c5f9d(0x364)])(0x7d0),this[_0x1c5f9d(0x598)][_0x1c5f9d(0x5b8)]['pairingCode']=await this[_0x1c5f9d(0x822)][_0x1c5f9d(0x5ac)](this[_0x1c5f9d(0x6f9)])):this['instance'][_0x1c5f9d(0x5b8)]['pairingCode']=null,Ir[_0x1c5f9d(0x849)][_0x1c5f9d(0x21e)](_0xfa2d89,{'small':!0x0},_0x3ead67=>this[_0x1c5f9d(0x803)]['log']('\x0a{\x20instance:\x20'+this[_0x1c5f9d(0x598)]['name']+',\x20qrcodeCount:\x20'+this[_0x1c5f9d(0x598)][_0x1c5f9d(0x5b8)][_0x1c5f9d(0x259)]+',\x20pairCode:\x20'+this[_0x1c5f9d(0x598)][_0x1c5f9d(0x5b8)][_0x1c5f9d(0x216)]+_0x1c5f9d(0x74e)+_0x3ead67));}if(_0x1df9c4&&(this[_0x1c5f9d(0x69b)]={'state':_0x1df9c4,'statusReason':_0x213fb1?.[_0x1c5f9d(0x820)]?.['output']?.['statusCode']??0xc8},this[_0x1c5f9d(0x3c5)](_0x1c5f9d(0x47c),{'instance':this[_0x1c5f9d(0x598)][_0x1c5f9d(0x6a7)],...this[_0x1c5f9d(0x69b)]})),_0x1df9c4==='close'){if(this[_0x1c5f9d(0x502)]++,this['reconnectTimestamps'][_0x1c5f9d(0x484)](Date[_0x1c5f9d(0x5e6)]()),this[_0x1c5f9d(0x7a7)]=this[_0x1c5f9d(0x7a7)][_0x1c5f9d(0x7aa)](_0x3846f6=>Date['now']()-_0x3846f6<this[_0x1c5f9d(0x4a6)]),_0x213fb1['error']?.[_0x1c5f9d(0x1fb)]?.[_0x1c5f9d(0x76d)]!==m['DisconnectReason'][_0x1c5f9d(0x41e)]&&this[_0x1c5f9d(0x7a7)][_0x1c5f9d(0x623)]<=this['MAX_RECONNECT_ATTEMPTS'])console[_0x1c5f9d(0x7f7)](this[_0x1c5f9d(0x4f7)]+_0x1c5f9d(0x823)+this[_0x1c5f9d(0x502)]+'/'+this['MAX_RECONNECT_ATTEMPTS']+'.\x20Aguardando\x20antes\x20de\x20reconectar...'),console[_0x1c5f9d(0x7f7)]('Tentando\x20reconectar...'),await this[_0x1c5f9d(0x75b)]();else{this['sendDataWebhook'](_0x1c5f9d(0x574),{'instance':this[_0x1c5f9d(0x598)]['name'],'status':_0x1c5f9d(0x556)}),this['instance'][_0x1c5f9d(0x1cd)]['isConnected']=!0x1,this[_0x1c5f9d(0x585)][_0x1c5f9d(0x425)][_0x1c5f9d(0x653)](this['instanceName']),this[_0x1c5f9d(0x585)][_0x1c5f9d(0x5bf)][_0x1c5f9d(0x2c7)]({'owner':'','online':!0x1,'lastDisconnect':Date['now']()},this[_0x1c5f9d(0x598)][_0x1c5f9d(0x6a7)]);try{this[_0x1c5f9d(0x803)][_0x1c5f9d(0x644)](this[_0x1c5f9d(0x4f7)]+'\x20('+this[_0x1c5f9d(0x598)][_0x1c5f9d(0x76b)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x568902=await this[_0x1c5f9d(0x585)][_0x1c5f9d(0x1dc)][_0x1c5f9d(0x3da)](this[_0x1c5f9d(0x598)]['wuid']);_0x568902['success']?this['logger'][_0x1c5f9d(0x644)](this[_0x1c5f9d(0x4f7)]+'\x20('+this[_0x1c5f9d(0x598)][_0x1c5f9d(0x76b)]+_0x1c5f9d(0x55f)):console['error'](_0x1c5f9d(0x3e2),_0x568902[_0x1c5f9d(0x820)]);}catch(_0x2cc34d){console['error'](_0x1c5f9d(0x471),_0x2cc34d);}this[_0x1c5f9d(0x598)][_0x1c5f9d(0x1cd)][_0x1c5f9d(0x249)]!==null&&(this[_0x1c5f9d(0x803)]['verbose'](this[_0x1c5f9d(0x4f7)]+'\x20('+this[_0x1c5f9d(0x598)][_0x1c5f9d(0x76b)]+_0x1c5f9d(0x460)),clearInterval(this[_0x1c5f9d(0x598)]['ScheduleMessage'][_0x1c5f9d(0x249)]),this[_0x1c5f9d(0x598)][_0x1c5f9d(0x1cd)][_0x1c5f9d(0x249)]=null),this['logger'][_0x1c5f9d(0x644)](this[_0x1c5f9d(0x4f7)]+'\x20('+this['instance'][_0x1c5f9d(0x76b)]+_0x1c5f9d(0x5c7)),this[_0x1c5f9d(0x728)]=null,this[_0x1c5f9d(0x77e)][_0x1c5f9d(0x706)](_0x1c5f9d(0x44f),this[_0x1c5f9d(0x598)][_0x1c5f9d(0x6a7)],_0x1c5f9d(0x559)),this[_0x1c5f9d(0x822)]?.['ws']?.[_0x1c5f9d(0x2b1)](),this[_0x1c5f9d(0x822)][_0x1c5f9d(0x648)](new Error('Close\x20connection'));}}if(_0x1df9c4===_0x1c5f9d(0x26c)){this[_0x1c5f9d(0x822)]['ev'][_0x1c5f9d(0x4a5)](),this[_0x1c5f9d(0x493)],this[_0x1c5f9d(0x598)][_0x1c5f9d(0x76b)]=this[_0x1c5f9d(0x822)][_0x1c5f9d(0x42a)]['id']['replace'](/:\d+/,'')[_0x1c5f9d(0x246)](_0x1c5f9d(0x722),''),this[_0x1c5f9d(0x598)][_0x1c5f9d(0x6d7)]=(await this[_0x1c5f9d(0x323)](this['instance'][_0x1c5f9d(0x76b)]+'@s.whatsapp.net'))[_0x1c5f9d(0x6d7)],this[_0x1c5f9d(0x585)][_0x1c5f9d(0x5bf)][_0x1c5f9d(0x2c7)]({'online':!0x0,'owner':this[_0x1c5f9d(0x598)]['wuid'],'lastDisconnect':null},this[_0x1c5f9d(0x598)]['name']);let _0x486d70='Número:\x20'+this[_0x1c5f9d(0x598)][_0x1c5f9d(0x76b)],_0x64b9e7=0x28,_0x3421f6=Math['floor']((_0x64b9e7-_0x486d70[_0x1c5f9d(0x623)])/0x2),_0x620c15='\x20'[_0x1c5f9d(0x235)](_0x3421f6),_0xdb79d5='CONECTADO\x20À\x20UAZAPI',_0x289860=_0x1c5f9d(0x846)+this['instance'][_0x1c5f9d(0x6a7)],_0xff3d2a=(''+_0x620c15+_0x486d70+_0x620c15)['padEnd'](_0x64b9e7,'\x20'),_0x43e4cb=(''+_0x620c15+_0xdb79d5+_0x620c15)[_0x1c5f9d(0x4dc)](_0x64b9e7,'\x20'),_0x4e09a6=(''+_0x620c15+_0x289860+_0x620c15)['padEnd'](_0x64b9e7,'\x20'),_0x32d137=Math[_0x1c5f9d(0x2e6)](_0xff3d2a[_0x1c5f9d(0x623)],_0x43e4cb[_0x1c5f9d(0x623)],_0x4e09a6[_0x1c5f9d(0x623)]),_0x470a56=_0xff3d2a[_0x1c5f9d(0x4dc)](_0x32d137,'\x20'),_0x48ca3a=_0x43e4cb[_0x1c5f9d(0x4dc)](_0x32d137,'\x20'),_0x358dc1=_0x4e09a6['padEnd'](_0x32d137,'\x20');this['logger'][_0x1c5f9d(0x55c)]((_0x1c5f9d(0x596)+'─'[_0x1c5f9d(0x235)](_0x32d137)+_0x1c5f9d(0x580)+_0x48ca3a+'│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│'+_0x358dc1+_0x1c5f9d(0x2e2)+_0x470a56+_0x1c5f9d(0x5ba)+'─'[_0x1c5f9d(0x235)](_0x32d137)+'┘')[_0x1c5f9d(0x246)](/^ +/gm,'\x20\x20')),this['AutomateFunctions'](),this[_0x1c5f9d(0x598)][_0x1c5f9d(0x1cd)][_0x1c5f9d(0x588)]=!0x0;}}[a0_0x422c01(0x493)](){const _0xca435a=a0_0x422c01;this['reconnectAttempts']=0x0,this[_0xca435a(0x7a7)]=[];}async[a0_0x422c01(0x6c8)](_0x219b37,_0x5c47d9=!0x1){const _0x50d349=a0_0x422c01;try{let _0x107d8d=await this['repository'][_0x50d349(0x1dc)]['find']({'where':{'_id':_0x219b37['id']}},this[_0x50d349(0x598)][_0x50d349(0x76b)]);return _0x5c47d9?_0x107d8d[0x0]:_0x107d8d[0x0][_0x50d349(0x1dc)];}catch{return{'conversation':''};}}[a0_0x422c01(0x611)](){const _0x51ecc0=a0_0x422c01;let _0x36953e=this[_0x51ecc0(0x63c)][_0x51ecc0(0x5a1)](_0x51ecc0(0x51f)),_0x460e14=this[_0x51ecc0(0x63c)][_0x51ecc0(0x5a1)](_0x51ecc0(0x324));_0x36953e?.[_0x51ecc0(0x469)]&&!_0x460e14['ENABLED']&&setInterval(()=>{const _0x476b7f=_0x51ecc0;try{for(let [_0x2218e2,_0x3cfc46]of Object['entries'](_0x36953e))_0x3cfc46===!0x0&&(0x0,Te[_0x476b7f(0x2f9)])(_0x476b7f(0x2f7)+(0x0,U['join'])(this['storePath'],_0x2218e2[_0x476b7f(0x2e8)](),this['instance'][_0x476b7f(0x76b)])+'/*.json');}catch{}},(_0x36953e?.['CLEANING_INTERVAL']??0xe10)*0x3e8);}async['defineAuthState'](){const _0x3f665e=a0_0x422c01;let _0x35094c=this[_0x3f665e(0x63c)][_0x3f665e(0x5a1)](_0x3f665e(0x324)),_0x34493c=this['configService'][_0x3f665e(0x5a1)](_0x3f665e(0x3dd));return _0x34493c?.['ENABLED']?await Ts(_0x34493c,this['instance'][_0x3f665e(0x6a7)]):_0x35094c[_0x3f665e(0x698)]?await Rs(this[_0x3f665e(0x598)][_0x3f665e(0x6a7)]):await(0x0,m['useMultiFileAuthState'])((0x0,U['join'])(ge,this[_0x3f665e(0x598)][_0x3f665e(0x6a7)]));}async[a0_0x422c01(0x413)](){const _0x556818=a0_0x422c01;let _0x3e6357=()=>Math['floor'](Math[_0x556818(0x6ab)]()*0x2711)+0x7d0,_0x4502bf=async()=>{const _0x7c4f8f=_0x556818;if(!this[_0x7c4f8f(0x598)]['ScheduleMessage'][_0x7c4f8f(0x588)]){this[_0x7c4f8f(0x803)][_0x7c4f8f(0x644)]('Desconectado,\x20parando\x20execução.'),this['isRunning']=!0x1;return;}if(this[_0x7c4f8f(0x598)][_0x7c4f8f(0x76b)]&&this[_0x7c4f8f(0x728)]&&this[_0x7c4f8f(0x598)][_0x7c4f8f(0x1cd)][_0x7c4f8f(0x249)]!==null&&this['instance']['ScheduleMessage']['delayMessage']!==void 0x0){let _0x4d35ec=Math[_0x7c4f8f(0x4b5)](this[_0x7c4f8f(0x598)]['ScheduleMessage'][_0x7c4f8f(0x249)]/0xea60);this['logger'][_0x7c4f8f(0x644)](this[_0x7c4f8f(0x4f7)]+'\x20('+this[_0x7c4f8f(0x598)][_0x7c4f8f(0x76b)]+_0x7c4f8f(0x77f)+_0x4d35ec+'\x20minutos\x20verificará\x20novas\x20mensagens'),this[_0x7c4f8f(0x23e)]=!0x1;return;}else this[_0x7c4f8f(0x598)]['wuid']&&(this[_0x7c4f8f(0x803)][_0x7c4f8f(0x644)](this['instanceName']+'\x20('+this[_0x7c4f8f(0x598)][_0x7c4f8f(0x76b)]+'):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...'),this[_0x7c4f8f(0x728)]||(await this[_0x7c4f8f(0x1ac)](),this[_0x7c4f8f(0x73d)]()),(this[_0x7c4f8f(0x598)][_0x7c4f8f(0x1cd)][_0x7c4f8f(0x249)]===null||this[_0x7c4f8f(0x598)][_0x7c4f8f(0x1cd)]['delayMessage']===void 0x0)&&await this[_0x7c4f8f(0x7c7)]());if(this[_0x7c4f8f(0x23e)]){let _0x6979e9=_0x3e6357();this[_0x7c4f8f(0x803)][_0x7c4f8f(0x644)](this[_0x7c4f8f(0x4f7)]+_0x7c4f8f(0x356)+_0x6979e9/0x3e8+_0x7c4f8f(0x227)),setTimeout(_0x4502bf,_0x6979e9);}};if(this[_0x556818(0x23e)])return;this['isRunning']=!0x0;let _0x339ff4=_0x3e6357();setTimeout(_0x4502bf,_0x339ff4);}async['loadproxy'](_0x4453d9=0x0,_0x3b939a=!0x1){const _0x97cd17=a0_0x422c01;try{let _0x37c79f=this[_0x97cd17(0x63c)][_0x97cd17(0x5a1)](_0x97cd17(0x419));if(_0x37c79f!==0x1||typeof _0x37c79f>'u'||_0x4453d9>=0x5)return this[_0x97cd17(0x803)]['warn'](_0x97cd17(0x619)),this[_0x97cd17(0x585)]['auth'][_0x97cd17(0x2c7)]({'ip':null},this[_0x97cd17(0x598)][_0x97cd17(0x6a7)]),{};this['logger'][_0x97cd17(0x644)](this[_0x97cd17(0x4f7)]+':\x20Tentativa\x20'+(_0x4453d9+0x1)+_0x97cd17(0x701));let _0x39805d;if(!_0x3b939a){let _0xfa2c80=await this[_0x97cd17(0x585)][_0x97cd17(0x5bf)][_0x97cd17(0x752)](this['instanceName']);_0xfa2c80&&_0xfa2c80['ip']&&(_0x39805d=vr(_0xfa2c80['ip']));}if((!_0x39805d||!Os(_0x39805d))&&(this[_0x97cd17(0x803)][_0x97cd17(0x5de)](this[_0x97cd17(0x4f7)]+_0x97cd17(0x66e)),_0x39805d=Nr()),_0x39805d&&Os(_0x39805d)){let _0x5ba9ba=_0x39805d[_0x97cd17(0x6d5)]&&_0x39805d[_0x97cd17(0x6ff)]?_0x39805d[_0x97cd17(0x367)]+_0x97cd17(0x68a)+_0x39805d[_0x97cd17(0x6d5)]+':'+_0x39805d[_0x97cd17(0x6ff)]+'@'+_0x39805d['host']+':'+_0x39805d[_0x97cd17(0x753)]:_0x39805d[_0x97cd17(0x367)]+_0x97cd17(0x68a)+_0x39805d[_0x97cd17(0x780)]+':'+_0x39805d[_0x97cd17(0x753)];return await this[_0x97cd17(0x720)](_0x5ba9ba,_0x39805d[_0x97cd17(0x780)])?(this[_0x97cd17(0x803)][_0x97cd17(0x644)](this[_0x97cd17(0x4f7)]+_0x97cd17(0x1ea)),this[_0x97cd17(0x585)][_0x97cd17(0x5bf)][_0x97cd17(0x2c7)]({'ip':_0x39805d[_0x97cd17(0x780)]},this[_0x97cd17(0x598)][_0x97cd17(0x6a7)]),{'agent':new Ft[(_0x97cd17(0x432))](_0x5ba9ba),'fetchAgent':new Ft['HttpsProxyAgent'](_0x5ba9ba)}):(this[_0x97cd17(0x803)][_0x97cd17(0x5de)](this[_0x97cd17(0x4f7)]+':\x20IP\x20falhou.\x20Tentando\x20o\x20próximo...'),await(0x0,m[_0x97cd17(0x364)])(0xc8),this['loadproxy'](_0x4453d9+0x1,!0x0));}else return this['logger']['warn'](this[_0x97cd17(0x4f7)]+':\x20Configuração\x20do\x20IP\x20inválida.\x20Tentando\x20o\x20próximo...'),await(0x0,m['delay'])(0xc8),this[_0x97cd17(0x7a3)](_0x4453d9+0x1,!0x0);}catch(_0x52fad2){return this[_0x97cd17(0x803)][_0x97cd17(0x820)](this['instanceName']+_0x97cd17(0x6a5)+_0x52fad2[_0x97cd17(0x1dc)]),{};}}async['testProxy'](_0x1f752f,_0x10f9b5){const _0x36db12=a0_0x422c01;let _0x4595bb=new Ft[(_0x36db12(0x432))](_0x1f752f),_0xf5c913=0x1388,_0x1cd390=[{'url':'https://jsonip.com','parse':_0x401f44=>_0x401f44['ip']},{'url':_0x36db12(0x273),'parse':_0x6f7ff8=>_0x6f7ff8['ip']},{'url':_0x36db12(0x4a9),'parse':_0x1a48be=>_0x1a48be['match'](/\d+.\d+.\d+.\d+/)[0x0]},{'url':_0x36db12(0x20b),'parse':_0x34afd1=>_0x34afd1['ip']},{'url':_0x36db12(0x2a2),'parse':_0x1ba298=>_0x1ba298[_0x36db12(0x78f)]()},{'url':'http://ipecho.net/plain','parse':_0x835be6=>_0x835be6['trim']()},{'url':_0x36db12(0x771),'parse':_0x5eec1f=>_0x5eec1f[_0x36db12(0x6b1)]},{'url':'http://myexternalip.com/raw','parse':_0x573602=>_0x573602[_0x36db12(0x78f)]()},{'url':_0x36db12(0x3d1),'parse':_0xca7412=>_0xca7412[_0x36db12(0x78f)]()}],_0x6b699b=_0x1cd390[Math[_0x36db12(0x180)](Math[_0x36db12(0x6ab)]()*_0x1cd390[_0x36db12(0x623)])];try{let _0x1b7970=await K['default']['get'](_0x6b699b['url'],{'httpsAgent':_0x4595bb,'timeout':_0xf5c913}),_0x203468=_0x6b699b[_0x36db12(0x2e3)](_0x1b7970['data']);return _0x203468===_0x10f9b5?(this[_0x36db12(0x803)][_0x36db12(0x644)](this[_0x36db12(0x4f7)]+':\x20IP\x20configurado:\x20'+_0x10f9b5+_0x36db12(0x38a)+_0x203468+_0x36db12(0x1b8)),!0x0):(this['logger'][_0x36db12(0x820)](this[_0x36db12(0x4f7)]+_0x36db12(0x6d4)+_0x10f9b5+_0x36db12(0x38a)+_0x203468+'\x20->\x20NÃO\x20CORRESPONDE.'),!0x1);}catch(_0x4ee7be){return this['logger'][_0x36db12(0x820)](this['instanceName']+':\x20Erro\x20ao\x20testar\x20o\x20IP\x20com\x20'+_0x6b699b[_0x36db12(0x54c)]+':\x20'+_0x4ee7be[_0x36db12(0x1dc)]),!0x1;}}async[a0_0x422c01(0x75b)](_0x170ad2){const _0x29f8d1=a0_0x422c01;try{let _0x21fc0d=await this[_0x29f8d1(0x7a3)]();this[_0x29f8d1(0x18a)](),this[_0x29f8d1(0x598)][_0x29f8d1(0x3fa)]=(await this['repository'][_0x29f8d1(0x5bf)]['find'](this[_0x29f8d1(0x598)][_0x29f8d1(0x6a7)]))[_0x29f8d1(0x3fa)],this[_0x29f8d1(0x598)][_0x29f8d1(0x61d)]=await this[_0x29f8d1(0x63b)]();let {version:_0x1f3d11}=await(0x0,m['fetchLatestBaileysVersion'])(),_0x39ba60=[xr,_s,(0x0,Is[_0x29f8d1(0x6e3)])()],_0x1a51c7={..._0x21fc0d,'auth':{'creds':this[_0x29f8d1(0x598)][_0x29f8d1(0x61d)]['state']['creds'],'keys':(0x0,m[_0x29f8d1(0x66f)])(this[_0x29f8d1(0x598)][_0x29f8d1(0x61d)][_0x29f8d1(0x277)][_0x29f8d1(0x21a)],(0x0,$t[_0x29f8d1(0x849)])({'level':_0x29f8d1(0x820)}))},'logger':(0x0,$t[_0x29f8d1(0x849)])({'level':_0x29f8d1(0x820)}),'printQRInTerminal':!0x1,'browser':_0x170ad2?['Mac\x20OS',_s,(0x0,Is[_0x29f8d1(0x6e3)])()]:_0x39ba60,'version':_0x1f3d11,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x46448c=>{const _0x504ac1=_0x29f8d1;let _0x49b23b=_0x46448c['endsWith'](_0x504ac1(0x6a2)),_0x2a5579=this[_0x504ac1(0x44b)]?.['groups_ignore']&&_0x46448c[_0x504ac1(0x262)]('@g.us');return _0x49b23b||(0x0,m[_0x504ac1(0x1de)])(_0x46448c)||_0x2a5579;},'msgRetryCounterCache':this[_0x29f8d1(0x5e1)],'getMessage':async _0x453ee8=>await this['getMessage'](_0x453ee8),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x29f8d1(0x7ba)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x22355d=>(_0x22355d['listMessage']?.['listType']==m[_0x29f8d1(0x66d)][_0x29f8d1(0x47b)]['ListMessage'][_0x29f8d1(0x6b0)][_0x29f8d1(0x47e)]&&(_0x22355d=JSON['parse'](JSON['stringify'](_0x22355d)),_0x22355d['listMessage']['listType']=m[_0x29f8d1(0x66d)][_0x29f8d1(0x47b)][_0x29f8d1(0x3f0)][_0x29f8d1(0x6b0)][_0x29f8d1(0x3b8)]),_0x22355d)};return this['endSession']=!0x1,this[_0x29f8d1(0x822)]=(0x0,m[_0x29f8d1(0x849)])(_0x1a51c7),this[_0x29f8d1(0x479)](),this[_0x29f8d1(0x6f9)]=_0x170ad2,this[_0x29f8d1(0x822)];}catch(_0x10f647){throw this[_0x29f8d1(0x803)][_0x29f8d1(0x820)](this['instanceName']+'\x20('+this[_0x29f8d1(0x598)]['wuid']+'):\x20'+(_0x10f647 instanceof Error?_0x10f647['message']:JSON['stringify'](_0x10f647,null,0x2))),new I(_0x10f647?.[_0x29f8d1(0x76f)]());}}[a0_0x422c01(0x479)](){const _0x245e56=a0_0x422c01;this[_0x245e56(0x822)]['ev']['process'](_0x402806=>{const _0x13d518=_0x245e56;if(!this[_0x13d518(0x546)]){let _0x538493=this[_0x13d518(0x63c)][_0x13d518(0x5a1)](_0x13d518(0x324));if(_0x402806[_0x13d518(0x682)]){let _0x811bea=_0x402806[_0x13d518(0x682)];this[_0x13d518(0x51b)]['labels.edit'](_0x811bea);}if(_0x402806[_0x13d518(0x58c)]){let _0x262d2d=_0x402806[_0x13d518(0x58c)];this[_0x13d518(0x51b)][_0x13d518(0x58c)](_0x262d2d);}if(_0x402806['connection.update']&&this['connectionUpdate'](_0x402806[_0x13d518(0x47c)]),_0x402806[_0x13d518(0x44a)]&&this['instance'][_0x13d518(0x61d)][_0x13d518(0x806)](),_0x402806[_0x13d518(0x311)]){let _0x34765a=_0x402806[_0x13d518(0x311)];this['messageHandle'][_0x13d518(0x311)](_0x34765a,_0x538493);}if(_0x402806[_0x13d518(0x5f8)]){let _0x276c2f=_0x402806['messages.upsert'];this[_0x13d518(0x51b)]['messages.upsert'](_0x276c2f,_0x538493);}if(_0x402806[_0x13d518(0x2b9)]){let _0x448d9f=_0x402806[_0x13d518(0x2b9)];_0x448d9f[_0x13d518(0x485)](_0x4e94eb=>{const _0x2447b4=_0x13d518;if(Tr[_0x4e94eb['key']['id']]){this['client']['ev'][_0x2447b4(0x706)]('messages.upsert',{'messages':[_0x4e94eb],'type':_0x2447b4(0x1af)}),delete Tr[_0x4e94eb[_0x2447b4(0x254)]['id']];return;}}),this['messageHandle'][_0x13d518(0x2b9)](_0x448d9f,_0x538493);}if(_0x402806[_0x13d518(0x253)]){let _0x525409=_0x402806['presence.update'];if(this[_0x13d518(0x44b)]?.['groups_ignore']&&_0x525409['id'][_0x13d518(0x563)](_0x13d518(0x2c4)))return;this[_0x13d518(0x3c5)]('presence.update',_0x525409);}if(!this[_0x13d518(0x44b)]?.[_0x13d518(0x53a)]){if(_0x402806[_0x13d518(0x642)]){let _0x42d9e6=_0x402806[_0x13d518(0x642)];this['groupHandler'][_0x13d518(0x642)](_0x42d9e6);}if(_0x402806[_0x13d518(0x778)]){let _0x201e99=_0x402806['groups.update'];this['groupHandler'][_0x13d518(0x778)](_0x201e99);}if(_0x402806['group-participants.update']){let _0x37c172=_0x402806[_0x13d518(0x5f2)];this[_0x13d518(0x630)][_0x13d518(0x5f2)](_0x37c172);}}if(_0x402806[_0x13d518(0x74f)]){let _0x35c9f2=_0x402806['chats.upsert'];this[_0x13d518(0x5a6)]['chats.upsert'](_0x35c9f2,_0x538493);}if(_0x402806['chats.update']){let _0x4fe1c5=_0x402806['chats.update'];this[_0x13d518(0x5a6)][_0x13d518(0x28e)](_0x4fe1c5,_0x538493);}if(_0x402806[_0x13d518(0x56c)]){let _0x582f43=_0x402806[_0x13d518(0x56c)];this[_0x13d518(0x5a6)][_0x13d518(0x56c)](_0x582f43);}if(_0x402806[_0x13d518(0x341)]){let _0x3c3982=_0x402806[_0x13d518(0x341)];this['contactHandle'][_0x13d518(0x341)](_0x3c3982,_0x538493);}if(_0x402806[_0x13d518(0x821)]){let _0x4ef14f=_0x402806['contacts.update'];this[_0x13d518(0x270)]['contacts.update'](_0x4ef14f,_0x538493);}}});}[a0_0x422c01(0x2ec)](_0x2c892d){return new Promise(_0x30ec0c=>setTimeout(_0x30ec0c,_0x2c892d));}[a0_0x422c01(0x6e2)](_0x337b45){const _0x551ce5=a0_0x422c01;_0x337b45=_0x337b45[_0x551ce5(0x246)](/\D/g,'');let _0x4996e3=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x551ce5(0x760)](_0x337b45);if(_0x4996e3&&_0x4996e3[0x1]==='55'){let _0x3eb89e=_0x4996e3[0x2],_0x38aa4d=_0x4996e3[0x3],_0x5b910f=_0x4996e3[0x4];if(parseInt(_0x3eb89e)>=0x1f&&_0x38aa4d==='9')return _0x4996e3[0x1]+_0x3eb89e+_0x5b910f;}return _0x337b45;}[a0_0x422c01(0x4c1)](_0x22001f){const _0x4a9096=a0_0x422c01;return _0x22001f['includes']('@g.us')||_0x22001f[_0x4a9096(0x563)](_0x4a9096(0x722))||_0x22001f[_0x4a9096(0x563)]('@broadcast')?_0x22001f:(_0x22001f=_0x22001f?.[_0x4a9096(0x246)](/\s/g,'')[_0x4a9096(0x246)](/\+/g,'')[_0x4a9096(0x246)](/\(/g,'')[_0x4a9096(0x246)](/\)/g,'')['split'](/\:/)[0x0][_0x4a9096(0x1e1)]('@')[0x0],_0x22001f[_0x4a9096(0x623)]>=0x12?(_0x22001f=_0x22001f[_0x4a9096(0x246)](/[^\d-]/g,''),_0x22001f+_0x4a9096(0x2c4)):(_0x22001f=_0x22001f[_0x4a9096(0x246)](/\D/g,''),this[_0x4a9096(0x6e2)](_0x22001f)+'@s.whatsapp.net'));}async['updatePresence'](_0x3c024c){const _0x549bb9=a0_0x422c01;let _0x53c0d2=this[_0x549bb9(0x4c1)](_0x3c024c[_0x549bb9(0x736)]),_0x79cf71=(await this[_0x549bb9(0x795)]({'numbers':[_0x53c0d2]}))[0x0];if(!_0x79cf71[_0x549bb9(0x791)]&&!(0x0,m[_0x549bb9(0x6c2)])(_0x79cf71['jid']))throw new w(_0x79cf71);let _0x4c86a9=(0x0,m[_0x549bb9(0x6c2)])(_0x53c0d2)?_0x53c0d2:_0x79cf71[_0x549bb9(0x75e)];if((0x0,m[_0x549bb9(0x6c2)])(_0x4c86a9))try{await this[_0x549bb9(0x822)]['groupMetadata'](_0x4c86a9);}catch{throw new F('Group\x20not\x20found');}try{return await this[_0x549bb9(0x822)][_0x549bb9(0x834)](_0x4c86a9),await this[_0x549bb9(0x822)][_0x549bb9(0x321)](_0x3c024c[_0x549bb9(0x33d)],_0x53c0d2),{'status':0xc8,'presence':_0x3c024c[_0x549bb9(0x33d)]};}catch(_0x1b1ccb){throw new w(_0x1b1ccb[_0x549bb9(0x76f)]());}}async['findAndUpdateCacheContact'](_0x60bf74,_0x3db43b,_0x344d2a){const _0x23059d=a0_0x422c01;let _0x22a7cb=await this[_0x23059d(0x585)]['cacheContact'][_0x23059d(0x64b)]({'where':{'_id':_0x60bf74}}),_0x136efe={'lastUpdate':Date[_0x23059d(0x5e6)]()};if(_0x344d2a||!_0x22a7cb?.[_0x23059d(0x2ee)]||Date[_0x23059d(0x5e6)]()-_0x22a7cb[_0x23059d(0x2ee)]>0x18*0x3c*0x3c*0x3e8)try{let _0x146234=(await this[_0x23059d(0x323)](_0x60bf74))[_0x23059d(0x6d7)];_0x136efe[_0x23059d(0x42b)]=_0x146234;}catch(_0x549ede){console[_0x23059d(0x820)](_0x23059d(0x374),_0x549ede);}return _0x3db43b&&_0x22a7cb?.['name']!==_0x3db43b&&(_0x136efe[_0x23059d(0x6a7)]=_0x3db43b),Object['keys'](_0x136efe)[_0x23059d(0x623)]>0x1&&(_0x22a7cb?await this[_0x23059d(0x585)][_0x23059d(0x3ea)][_0x23059d(0x4fe)]({'where':{'_id':_0x60bf74}},_0x136efe):await this[_0x23059d(0x585)][_0x23059d(0x3ea)]['insert']([{'_id':_0x60bf74,..._0x136efe}]),_0x22a7cb={..._0x22a7cb,..._0x136efe}),{'cachedContact':_0x22a7cb};}async[a0_0x422c01(0x323)](_0x5bedc2){let _0x86aa4b=this['createJid'](_0x5bedc2);try{return{'wuid':_0x86aa4b,'profilePictureUrl':await this['client']['profilePictureUrl'](_0x86aa4b,'image')};}catch{return{'wuid':_0x86aa4b,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x4eb21e,_0x40e524,_0x2cc3b7){const _0x42a6d4=a0_0x422c01;_0x2cc3b7||(_0x2cc3b7={});let _0x55c4cd=(await this[_0x42a6d4(0x795)]({'numbers':[_0x4eb21e]}))[0x0];if(!_0x55c4cd['exists']&&!(0x0,m[_0x42a6d4(0x6c2)])(_0x55c4cd[_0x42a6d4(0x75e)])&&!_0x55c4cd[_0x42a6d4(0x75e)][_0x42a6d4(0x563)]('@broadcast'))throw new w(_0x55c4cd);let _0x2b1620=_0x55c4cd[_0x42a6d4(0x75e)];try{if(_0x2cc3b7?.[_0x42a6d4(0x364)]){await this[_0x42a6d4(0x822)]['presenceSubscribe'](_0x2b1620),await this[_0x42a6d4(0x822)]['sendPresenceUpdate'](_0x2cc3b7?.[_0x42a6d4(0x33d)]??_0x42a6d4(0x571),_0x2b1620);let _0x54d378=Math[_0x42a6d4(0x2b2)](_0x2cc3b7[_0x42a6d4(0x364)],0x2710);await(0x0,m[_0x42a6d4(0x364)])(_0x54d378),await this[_0x42a6d4(0x822)][_0x42a6d4(0x321)](_0x42a6d4(0x4f0),_0x2b1620);}let _0x4bd11d=_0x2cc3b7?.[_0x42a6d4(0x37c)]!=!0x1?void 0x0:!0x1,_0x316c14;if(_0x2cc3b7?.[_0x42a6d4(0x451)]){let _0x200bfd=_0x2cc3b7?.[_0x42a6d4(0x451)],_0xeb0561=_0x200bfd?.[_0x42a6d4(0x1dc)]?_0x200bfd:await this[_0x42a6d4(0x6c8)](_0x200bfd[_0x42a6d4(0x254)],!0x0);if(!_0xeb0561)throw _0x42a6d4(0x1b6);_0x316c14=_0xeb0561;}let _0x4fa5de;if((0x0,m['isJidGroup'])(_0x2b1620))try{let _0x3ed05a=await this['client'][_0x42a6d4(0x7b9)](_0x2b1620);if(!_0x3ed05a)throw new F(_0x42a6d4(0x1a2));_0x2cc3b7?.['mentions']&&(_0x2cc3b7[_0x42a6d4(0x6cc)]?.[_0x42a6d4(0x27f)]?_0x4fa5de=_0x3ed05a[_0x42a6d4(0x2cd)][_0x42a6d4(0x1ec)](_0x1e307f=>_0x1e307f['id']):_0x2cc3b7['mentions']?.[_0x42a6d4(0x190)]?.[_0x42a6d4(0x623)]&&(_0x4fa5de=_0x2cc3b7[_0x42a6d4(0x6cc)][_0x42a6d4(0x190)][_0x42a6d4(0x1ec)](_0x132560=>{const _0x147f7e=_0x42a6d4;let _0x49642e=this['createJid'](_0x132560);return(0x0,m[_0x147f7e(0x6c2)])(_0x49642e)?null:_0x49642e;})));}catch{throw new F('Group\x20not\x20found');}let _0x21d717=await((async()=>{const _0x3d0596=_0x42a6d4;let _0x38babf={'quoted':_0x316c14,'ephemeralExpiration':(await this[_0x3d0596(0x585)][_0x3d0596(0x496)][_0x3d0596(0x64b)]({'where':{'_id':_0x2b1620}},this[_0x3d0596(0x598)][_0x3d0596(0x76b)]))?.[_0x3d0596(0x59a)]??0x0};if(!_0x40e524[_0x3d0596(0x415)]&&!_0x40e524[_0x3d0596(0x47f)]&&!_0x40e524[_0x3d0596(0x1df)]&&!_0x40e524[_0x3d0596(0x76c)]&&_0x2b1620!==_0x3d0596(0x1c3)&&!_0x40e524[_0x3d0596(0x415)])return await this['client'][_0x3d0596(0x770)](_0x2b1620,{'forward':{'key':{'remoteJid':this[_0x3d0596(0x598)][_0x3d0596(0x76b)],'fromMe':!0x0},'message':_0x40e524},'mentions':_0x4fa5de},_0x38babf);if(_0x40e524[_0x3d0596(0x2b5)])return await this[_0x3d0596(0x822)][_0x3d0596(0x770)](_0x2b1620,{'react':{'text':_0x40e524[_0x3d0596(0x2b5)][_0x3d0596(0x4e4)],'key':_0x40e524[_0x3d0596(0x2b5)][_0x3d0596(0x254)]}},_0x38babf);if(_0x40e524[_0x3d0596(0x76c)]){let _0x56f4fe=_0x40e524[_0x3d0596(0x76c)];return _0x2cc3b7?.[_0x3d0596(0x402)]&&(_0x56f4fe=await this[_0x3d0596(0x2a0)](_0x56f4fe,_0x2b1620)),await this['client'][_0x3d0596(0x770)](_0x2b1620,{'text':_0x56f4fe,'mentions':_0x4fa5de,'linkPreview':_0x4bd11d},_0x38babf);}return _0x2b1620===_0x3d0596(0x1c3)?await this[_0x3d0596(0x822)][_0x3d0596(0x770)](_0x2b1620,_0x40e524[_0x3d0596(0x59d)]['content'],{'backgroundColor':_0x40e524[_0x3d0596(0x59d)][_0x3d0596(0x29f)][_0x3d0596(0x7a6)],'font':_0x40e524['status'][_0x3d0596(0x29f)][_0x3d0596(0x77d)],'statusJidList':_0x40e524[_0x3d0596(0x59d)][_0x3d0596(0x29f)][_0x3d0596(0x5a8)]}):await this[_0x3d0596(0x822)][_0x3d0596(0x770)](_0x2b1620,_0x40e524,_0x38babf);})()),_0x56932c=(0x0,m[_0x42a6d4(0x741)])(_0x21d717[_0x42a6d4(0x1dc)]),_0x2314a8=(0x0,m[_0x42a6d4(0x7b2)])(_0x56932c),{message_normalized:_0x4fb58b}=this['normalizeMessage'](_0x56932c,_0x2314a8,null),_0x7c7d27={'_id':_0x21d717[_0x42a6d4(0x254)]['id'],'key':_0x21d717[_0x42a6d4(0x254)],'pushName':_0x21d717[_0x42a6d4(0x709)],'isGroup':_0x21d717[_0x42a6d4(0x254)]['remoteJid'][_0x42a6d4(0x262)](_0x42a6d4(0x2c4)),'profilePictureUrl':this[_0x42a6d4(0x598)][_0x42a6d4(0x6d7)],'message':_0x56932c,'messageType':_0x2314a8,'message_normalized':{'key':_0x21d717[_0x42a6d4(0x254)],'pushName':_0x21d717[_0x42a6d4(0x709)],'messageTimestamp':_0x21d717[_0x42a6d4(0x2ab)]&&_0x21d717[_0x42a6d4(0x2ab)][_0x42a6d4(0x76f)]()[_0x42a6d4(0x623)]<0xd?_0x21d717['messageTimestamp']*0x3e8:_0x21d717['messageTimestamp']||null,'source':(0x0,m['getDevice'])(_0x21d717[_0x42a6d4(0x254)]['id']),..._0x4fb58b},'messageTimestamp':_0x21d717[_0x42a6d4(0x2ab)]&&_0x21d717[_0x42a6d4(0x2ab)][_0x42a6d4(0x76f)]()[_0x42a6d4(0x623)]<0xd?_0x21d717['messageTimestamp']*0x3e8:_0x21d717[_0x42a6d4(0x2ab)]||null,'owner':this[_0x42a6d4(0x598)]['wuid'],'source':(0x0,m[_0x42a6d4(0x315)])(_0x21d717['key']['id'])};return this[_0x42a6d4(0x803)][_0x42a6d4(0x5de)](this[_0x42a6d4(0x4f7)]+'\x20('+this['instance'][_0x42a6d4(0x76b)]+_0x42a6d4(0x633)+_0x7c7d27[_0x42a6d4(0x254)]?.[_0x42a6d4(0x1fe)][_0x42a6d4(0x246)](_0x42a6d4(0x722),'')+_0x42a6d4(0x44e)+_0x7c7d27['messageType']+')'),_0x7c7d27['message_normalized']?.[_0x42a6d4(0x4e4)]&&this[_0x42a6d4(0x803)][_0x42a6d4(0x5de)](_0x7c7d27[_0x42a6d4(0x23f)]?.[_0x42a6d4(0x4e4)]),this[_0x42a6d4(0x3c5)]('send.message',_0x7c7d27),J(this[_0x42a6d4(0x4f7)],_0x42a6d4(0x6b9),{'message':_0x7c7d27}),this[_0x42a6d4(0x671)](this[_0x42a6d4(0x63c)]['get'](_0x42a6d4(0x324)),_0x7c7d27,_0x42a6d4(0x7da)),await this[_0x42a6d4(0x585)]['message'][_0x42a6d4(0x4bd)]([_0x7c7d27],this[_0x42a6d4(0x598)][_0x42a6d4(0x76b)]),_0x21d717;}catch(_0x1a0135){throw this[_0x42a6d4(0x803)][_0x42a6d4(0x820)](this[_0x42a6d4(0x4f7)]+'\x20('+this[_0x42a6d4(0x598)][_0x42a6d4(0x76b)]+_0x42a6d4(0x584)+_0x1a0135[_0x42a6d4(0x76f)]()),new w(_0x1a0135[_0x42a6d4(0x76f)]());}}get[a0_0x422c01(0x200)](){return this['stateConnection'];}async[a0_0x422c01(0x845)](_0x5f1170){const _0x13842f=a0_0x422c01;let _0x2ce1ce=Rr,_0x3db670=et;return _0x3db670&&this[_0x13842f(0x4f7)]['toLowerCase']()[_0x13842f(0x563)](_0x3db670[_0x13842f(0x2e8)]())&&(_0x5f1170[_0x13842f(0x845)][_0x13842f(0x4e4)]+='\x0a\x0a'+_0x2ce1ce),await this[_0x13842f(0x3c8)](_0x5f1170['number'],{'conversation':_0x5f1170['textMessage'][_0x13842f(0x4e4)]},_0x5f1170?.[_0x13842f(0x693)]);}async['formatStatusMessage'](_0x5464ea){const _0x39111b=a0_0x422c01;if(!_0x5464ea[_0x39111b(0x7f6)])throw new w(_0x39111b(0x73f));if(!_0x5464ea[_0x39111b(0x67b)])throw new w('Content\x20is\x20required');if(_0x5464ea[_0x39111b(0x57b)]){let _0x1387f1=await this[_0x39111b(0x585)][_0x39111b(0x818)][_0x39111b(0x752)]({'where':{}},this['instance'][_0x39111b(0x76b)]);if(!_0x1387f1[_0x39111b(0x623)])throw new w(_0x39111b(0x3d7));_0x5464ea[_0x39111b(0x5a8)]=_0x1387f1[_0x39111b(0x7aa)](_0x29837d=>_0x29837d[_0x39111b(0x709)])['map'](_0x2e747c=>_0x2e747c[_0x39111b(0x79d)]);}if(!_0x5464ea['statusJidList']?.['length']&&!_0x5464ea['allContacts'])throw new w(_0x39111b(0x6ad));if(_0x5464ea[_0x39111b(0x7f6)]==='text'){if(!_0x5464ea[_0x39111b(0x7a6)])throw new w(_0x39111b(0x809));if(!_0x5464ea[_0x39111b(0x77d)])throw new w(_0x39111b(0x3c6));return{'content':{'text':_0x5464ea[_0x39111b(0x67b)]},'option':{'backgroundColor':_0x5464ea[_0x39111b(0x7a6)],'font':_0x5464ea[_0x39111b(0x77d)],'statusJidList':_0x5464ea[_0x39111b(0x5a8)]}};}if(_0x5464ea[_0x39111b(0x7f6)]===_0x39111b(0x1f5))return{'content':{'image':{'url':_0x5464ea[_0x39111b(0x67b)]},'caption':_0x5464ea[_0x39111b(0x439)]},'option':{'statusJidList':_0x5464ea[_0x39111b(0x5a8)]}};if(_0x5464ea[_0x39111b(0x7f6)]==='video')return{'content':{'video':{'url':_0x5464ea['content']},'caption':_0x5464ea[_0x39111b(0x439)]},'option':{'statusJidList':_0x5464ea[_0x39111b(0x5a8)]}};if(_0x5464ea[_0x39111b(0x7f6)]===_0x39111b(0x415)){this[_0x39111b(0x803)][_0x39111b(0x644)](_0x39111b(0x1ab)),this['logger'][_0x39111b(0x644)](_0x39111b(0x56e));let _0x4f0d8b=await this[_0x39111b(0x825)](_0x5464ea[_0x39111b(0x67b)]);if(typeof _0x4f0d8b==_0x39111b(0x2cc)){this[_0x39111b(0x803)][_0x39111b(0x644)](_0x39111b(0x483));let _0x44ee3c=$['readFileSync'](_0x4f0d8b)[_0x39111b(0x76f)]('base64');return{'content':{'audio':Buffer[_0x39111b(0x52c)](_0x44ee3c,_0x39111b(0x3b7)),'ptt':!0x0,'mimetype':_0x39111b(0x7ea)},'option':{'statusJidList':_0x5464ea[_0x39111b(0x5a8)]}};}else throw new I(_0x4f0d8b);}throw new w(_0x39111b(0x1b9));}async['statusMessage'](_0x5a8388){const _0x2f891a=a0_0x422c01;return await this[_0x2f891a(0x3c8)](_0x2f891a(0x1c3),{'status':await this[_0x2f891a(0x6dd)](_0x5a8388['statusMessage'])});}async['prepareMediaMessage'](_0x4bb8ab){const _0x37a75f=a0_0x422c01;try{let _0x20e79a=await(0x0,m[_0x37a75f(0x289)])({[_0x4bb8ab[_0x37a75f(0x1d9)]]:(0x0,P[_0x37a75f(0x4a7)])(_0x4bb8ab[_0x37a75f(0x4ff)])?{'url':_0x4bb8ab['media']}:Buffer[_0x37a75f(0x52c)](_0x4bb8ab[_0x37a75f(0x4ff)],'base64')},{'upload':this[_0x37a75f(0x822)][_0x37a75f(0x32e)]}),_0x116add=_0x4bb8ab['mediatype']+_0x37a75f(0x47b);if(_0x4bb8ab['mediatype']===_0x37a75f(0x4d5)&&!_0x4bb8ab[_0x37a75f(0x635)]){let _0xc985f3=new RegExp(/.*\/(.+?)\./)[_0x37a75f(0x760)](_0x4bb8ab['media']);_0x4bb8ab[_0x37a75f(0x635)]=_0xc985f3?_0xc985f3[0x1]:null;}let _0xca5cc2=(0x0,P[_0x37a75f(0x4a7)])(_0x4bb8ab['media'])?_0x4bb8ab[_0x37a75f(0x4ff)][_0x37a75f(0x1e1)]('?')[0x0]:_0x4bb8ab['media'];this[_0x37a75f(0x803)][_0x37a75f(0x644)](_0x37a75f(0x46e)+_0xca5cc2);let _0x53fd52;(0x0,P[_0x37a75f(0x4a7)])(_0x4bb8ab['media'])?_0x53fd52=(0x0,kt[_0x37a75f(0x668)])(_0xca5cc2):_0x4bb8ab['fileName']&&_0x4bb8ab['fileName']['includes']('.')?_0x53fd52=(0x0,kt['getMIMEType'])(_0x4bb8ab[_0x37a75f(0x635)]):_0x53fd52=(0x0,kt[_0x37a75f(0x668)])(_0x4bb8ab['media']);let _0x48eff5=Rr,_0xf290c=et;return _0xf290c&&this['instanceName'][_0x37a75f(0x2e8)]()[_0x37a75f(0x563)](_0xf290c[_0x37a75f(0x2e8)]())&&(_0x4bb8ab[_0x37a75f(0x439)]+='\x0a\x0a'+_0x48eff5),_0x20e79a[_0x116add]['caption']=_0x4bb8ab?.[_0x37a75f(0x439)],_0x20e79a[_0x116add][_0x37a75f(0x33a)]=_0x53fd52,_0x20e79a[_0x116add][_0x37a75f(0x635)]=_0x4bb8ab[_0x37a75f(0x635)],_0x4bb8ab[_0x37a75f(0x1d9)]===_0x37a75f(0x5d2)&&(_0x20e79a[_0x116add]['jpegThumbnail']=Uint8Array[_0x37a75f(0x52c)]((0x0,Re[_0x37a75f(0x258)])((0x0,U['join'])(process[_0x37a75f(0x1d8)](),_0x37a75f(0x5c1)))),_0x20e79a[_0x116add][_0x37a75f(0x5c2)]=!0x1),(0x0,m['generateWAMessageFromContent'])('',{[_0x116add]:{..._0x20e79a[_0x116add]}},{'userJid':this[_0x37a75f(0x598)][_0x37a75f(0x76b)]});}catch(_0xd55670){throw this[_0x37a75f(0x803)][_0x37a75f(0x820)](this[_0x37a75f(0x4f7)]+'\x20('+this[_0x37a75f(0x598)]['wuid']+'):\x20'+(_0xd55670 instanceof Error?_0xd55670[_0x37a75f(0x1dc)]:JSON[_0x37a75f(0x54f)](_0xd55670,null,0x2))),new I(_0xd55670?.[_0x37a75f(0x76f)]()||_0xd55670);}}async[a0_0x422c01(0x55b)](_0x28541c){const _0x19f277=a0_0x422c01;let _0x51098f=await this[_0x19f277(0x40f)](_0x28541c[_0x19f277(0x55b)]);return await this['sendMessageWithTyping'](_0x28541c[_0x19f277(0x736)],{..._0x51098f['message']},_0x28541c?.[_0x19f277(0x693)]);}async[a0_0x422c01(0x1f6)](_0x22818e,_0x5a202f){const _0x69662d=a0_0x422c01;try{this[_0x69662d(0x803)][_0x69662d(0x644)]('Converting\x20image\x20to\x20WebP\x20to\x20sticker');let _0x11c52e,_0x3ed2e4=_0x5a202f+'-'+new Date()[_0x69662d(0x622)]();this[_0x69662d(0x803)][_0x69662d(0x644)](_0x69662d(0x773)+_0x3ed2e4);let _0x4d2462=''+(0x0,U[_0x69662d(0x465)])(this[_0x69662d(0x1d4)],_0x3ed2e4+'.webp');if(this['logger']['verbose'](_0x69662d(0x530)+_0x4d2462),(0x0,P['isBase64'])(_0x22818e)){this[_0x69662d(0x803)][_0x69662d(0x644)](_0x69662d(0x5ff));let _0x2cb88f=_0x22818e[_0x69662d(0x246)](/^data:image\/(jpeg|png|gif);base64,/,''),_0x2b01ec=Buffer[_0x69662d(0x52c)](_0x2cb88f,_0x69662d(0x3b7));_0x11c52e=''+(0x0,U['join'])(this[_0x69662d(0x1d4)],_0x69662d(0x6ce)+_0x3ed2e4+_0x69662d(0x399)),this[_0x69662d(0x803)][_0x69662d(0x644)]('Image\x20path:\x20'+_0x11c52e),await(0x0,jt[_0x69662d(0x849)])(_0x2b01ec)[_0x69662d(0x39d)](_0x11c52e),this[_0x69662d(0x803)]['verbose'](_0x69662d(0x545));}else{this[_0x69662d(0x803)][_0x69662d(0x644)]('Image\x20is\x20url');let _0x24fd91=new Date()[_0x69662d(0x622)](),_0x5bb214=_0x22818e+_0x69662d(0x5a2)+_0x24fd91;this[_0x69662d(0x803)][_0x69662d(0x644)](_0x69662d(0x647)+_0x5bb214);let _0xe86547=await K[_0x69662d(0x849)][_0x69662d(0x5a1)](_0x5bb214,{'responseType':'arraybuffer'});this[_0x69662d(0x803)][_0x69662d(0x644)]('Getting\x20image\x20from\x20url');let _0x4cbe45=Buffer[_0x69662d(0x52c)](_0xe86547['data'],'binary');_0x11c52e=''+(0x0,U[_0x69662d(0x465)])(this[_0x69662d(0x1d4)],_0x69662d(0x6ce)+_0x3ed2e4+'.png'),this['logger']['verbose'](_0x69662d(0x500)+_0x11c52e),await(0x0,jt[_0x69662d(0x849)])(_0x4cbe45)['toFile'](_0x11c52e),this[_0x69662d(0x803)][_0x69662d(0x644)](_0x69662d(0x545));}return await(0x0,jt[_0x69662d(0x849)])(_0x11c52e)[_0x69662d(0x566)]()[_0x69662d(0x39d)](_0x4d2462),this['logger'][_0x69662d(0x644)](_0x69662d(0x49c)),$['unlinkSync'](_0x11c52e),this[_0x69662d(0x803)][_0x69662d(0x644)](_0x69662d(0x657)),_0x4d2462;}catch(_0x5c2bb4){console[_0x69662d(0x820)](_0x69662d(0x2e4),_0x5c2bb4 instanceof Error?_0x5c2bb4[_0x69662d(0x1dc)]:JSON[_0x69662d(0x54f)](_0x5c2bb4,null,0x2));}}async['mediaSticker'](_0x532613){const _0x56c339=a0_0x422c01;let _0x2d5df2=await this[_0x56c339(0x1f6)](_0x532613[_0x56c339(0x68c)][_0x56c339(0x1f5)],_0x532613[_0x56c339(0x736)]),_0x540845=await this[_0x56c339(0x3c8)](_0x532613[_0x56c339(0x736)],{'sticker':{'url':_0x2d5df2}},_0x532613?.[_0x56c339(0x693)]);return $[_0x56c339(0x2ed)](_0x2d5df2),this['logger'][_0x56c339(0x644)](_0x56c339(0x595)),_0x540845;}async[a0_0x422c01(0x34e)](_0x2cf73b){const _0xc4ce5a=a0_0x422c01;if(this[_0xc4ce5a(0x803)][_0xc4ce5a(0x644)](_0xc4ce5a(0x6dc)),!_0x2cf73b[_0xc4ce5a(0x693)]?.['encoding']&&_0x2cf73b[_0xc4ce5a(0x693)]?.[_0xc4ce5a(0x188)]!==!0x1&&(_0x2cf73b[_0xc4ce5a(0x693)][_0xc4ce5a(0x188)]=!0x0),_0x2cf73b[_0xc4ce5a(0x693)]?.[_0xc4ce5a(0x188)]){let _0x4c37b8=await this[_0xc4ce5a(0x825)](_0x2cf73b[_0xc4ce5a(0x409)][_0xc4ce5a(0x415)]);if(typeof _0x4c37b8=='string'){let _0xe9f7db=$[_0xc4ce5a(0x258)](_0x4c37b8)[_0xc4ce5a(0x76f)]('base64');return this[_0xc4ce5a(0x3c8)](_0x2cf73b[_0xc4ce5a(0x736)],{'audio':Buffer[_0xc4ce5a(0x52c)](_0xe9f7db,_0xc4ce5a(0x3b7)),'ptt':!0x0,'mimetype':_0xc4ce5a(0x63e)},{'presence':_0xc4ce5a(0x5d3),'delay':_0x2cf73b?.[_0xc4ce5a(0x693)]?.[_0xc4ce5a(0x364)]});}else throw new I(_0x4c37b8);}return await this['sendMessageWithTyping'](_0x2cf73b['number'],{'audio':(0x0,P[_0xc4ce5a(0x4a7)])(_0x2cf73b['audioMessage']['audio'])?{'url':_0x2cf73b[_0xc4ce5a(0x409)]['audio']}:Buffer[_0xc4ce5a(0x52c)](_0x2cf73b[_0xc4ce5a(0x409)]['audio'],_0xc4ce5a(0x3b7)),'ptt':!0x0,'mimetype':'audio/ogg;\x20codecs=opus'},{'presence':'recording','delay':_0x2cf73b?.[_0xc4ce5a(0x693)]?.[_0xc4ce5a(0x364)]});}async['convertaudio'](_0x1b8265){const _0x334a8c=a0_0x422c01;this[_0x334a8c(0x803)]['verbose'](_0x334a8c(0x56e));let _0x46b9f7=(0x0,P[_0x334a8c(0x4a7)])(_0x1b8265)?(0x0,Ut[_0x334a8c(0x36b)])('sha256')['update'](_0x1b8265)[_0x334a8c(0x31d)](_0x334a8c(0x6e0)):(0x0,Ut[_0x334a8c(0x36b)])('sha256')[_0x334a8c(0x4fe)](_0x1b8265)[_0x334a8c(0x31d)](_0x334a8c(0x6e0)),_0x365515=''+(0x0,U[_0x334a8c(0x465)])(this[_0x334a8c(0x1d4)],_0x46b9f7+_0x334a8c(0x710));if($[_0x334a8c(0x643)](_0x365515))return this[_0x334a8c(0x803)][_0x334a8c(0x644)](_0x334a8c(0x28f)),_0x365515;let _0x30338d=''+(0x0,U['join'])(this['storePath'],_0x334a8c(0x6ce)+(0x0,Lt['v4'])()+_0x334a8c(0x306));if((0x0,P['isURL'])(_0x1b8265)){let _0x4cdecd=new Date()['getTime'](),_0x4a7deb=_0x1b8265+_0x334a8c(0x5a2)+_0x4cdecd,_0x1a5d4b=await K[_0x334a8c(0x849)][_0x334a8c(0x5a1)](_0x4a7deb,{'responseType':_0x334a8c(0x677)});$[_0x334a8c(0x272)](_0x30338d,_0x1a5d4b[_0x334a8c(0x749)]);}else{let _0x50a79c=Buffer[_0x334a8c(0x52c)](_0x1b8265,_0x334a8c(0x3b7));$[_0x334a8c(0x272)](_0x30338d,_0x50a79c);}return new Promise((_0x3f4ba1,_0x2ebc9f)=>{const _0x57705f=_0x334a8c;(0x0,Te[_0x57705f(0x760)])(As[_0x57705f(0x849)][_0x57705f(0x7a4)]+_0x57705f(0x1d0)+_0x30338d+_0x57705f(0x649)+_0x365515+'\x20-y',_0x68d966=>{const _0x4fc573=_0x57705f;if($['unlinkSync'](_0x30338d),_0x68d966){this[_0x4fc573(0x803)][_0x4fc573(0x644)]('Error\x20in\x20converting\x20audio'),_0x2ebc9f(_0x68d966);return;}this[_0x4fc573(0x803)][_0x4fc573(0x644)](_0x4fc573(0x280)),_0x3f4ba1(_0x365515);});});}async['convertaudioMP3'](_0x40392b){const _0x261451=a0_0x422c01;this['logger'][_0x261451(0x644)](_0x261451(0x56e));let _0x25db3a=(0x0,Ut['createHash'])('sha256')[_0x261451(0x4fe)](_0x40392b)[_0x261451(0x31d)]('hex'),_0x5f4f7a=''+(0x0,U[_0x261451(0x465)])(this[_0x261451(0x1d4)],_0x25db3a+_0x261451(0x306));if($['existsSync'](_0x5f4f7a))return this[_0x261451(0x803)]['verbose'](_0x261451(0x28f)),U[_0x261451(0x849)]['basename'](_0x5f4f7a);let _0x2445a9=''+(0x0,U[_0x261451(0x465)])(this[_0x261451(0x1d4)],_0x261451(0x6ce)+_0x25db3a+_0x261451(0x710));if((0x0,P[_0x261451(0x4a7)])(_0x40392b)){let _0x52a572=new Date()[_0x261451(0x622)](),_0xbbd394=_0x40392b+'?timestamp='+_0x52a572,_0x1a0719=await K[_0x261451(0x849)][_0x261451(0x5a1)](_0xbbd394,{'responseType':_0x261451(0x677)});$['writeFileSync'](_0x2445a9,_0x1a0719[_0x261451(0x749)]);}else{let _0x5b38e5=Buffer['from'](_0x40392b,'base64');$[_0x261451(0x272)](_0x2445a9,_0x5b38e5);}return new Promise((_0x268513,_0x423e69)=>{const _0x408105=_0x261451;(0x0,Te['exec'])(As[_0x408105(0x849)][_0x408105(0x7a4)]+_0x408105(0x1d0)+_0x2445a9+_0x408105(0x4ab)+_0x5f4f7a+_0x408105(0x334),_0x54e530=>{const _0x3e442c=_0x408105;if($['unlinkSync'](_0x2445a9),_0x54e530){this['logger']['verbose'](_0x3e442c(0x557)),_0x423e69(_0x54e530);return;}this[_0x3e442c(0x803)]['verbose'](_0x3e442c(0x280)),_0x268513(U[_0x3e442c(0x849)][_0x3e442c(0x1bd)](_0x5f4f7a));});});}async[a0_0x422c01(0x22a)](_0xdb7127){const _0x815845=a0_0x422c01;let _0x52a1a6={},_0xb8e9dd=_0x815845(0x4c3);if(_0xdb7127[_0x815845(0x22a)]?.['mediaMessage']){_0xb8e9dd=_0xdb7127[_0x815845(0x22a)][_0x815845(0x55b)]?.[_0x815845(0x1d9)]['toUpperCase']()??_0x815845(0x4c3),_0x52a1a6[_0x815845(0x5c0)]=_0xb8e9dd['toLowerCase']()+'Message';let _0x2ed625=await this['prepareMediaMessage'](_0xdb7127[_0x815845(0x22a)]['mediaMessage']);_0x52a1a6[_0x815845(0x1dc)]=_0x2ed625[_0x815845(0x1dc)][_0x52a1a6[_0x815845(0x5c0)]],_0x52a1a6[_0x815845(0x288)]='*'+_0xdb7127[_0x815845(0x22a)][_0x815845(0x7a8)]+_0x815845(0x3a3)+_0xdb7127[_0x815845(0x22a)]['description'];}let _0x61a01b={'text':_0xdb7127[_0x815845(0x22a)][_0x815845(0x389)][_0x815845(0x1ec)](_0x45efea=>_0x45efea[_0x815845(0x1e8)]),'ids':_0xdb7127[_0x815845(0x22a)]['buttons'][_0x815845(0x1ec)](_0x4b85f7=>_0x4b85f7[_0x815845(0x5af)])};if(!(0x0,P[_0x815845(0x182)])(_0x61a01b[_0x815845(0x4e4)])||!(0x0,P['arrayUnique'])(_0x61a01b['ids']))throw new w(_0x815845(0x675),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this[_0x815845(0x3c8)](_0xdb7127[_0x815845(0x736)],{'buttonsMessage':{'text':_0x52a1a6?.[_0x815845(0x5c0)]?void 0x0:_0xdb7127['buttonMessage'][_0x815845(0x7a8)],'contentText':_0x52a1a6?.['contentText']??_0xdb7127['buttonMessage'][_0x815845(0x2a3)],'footerText':_0xdb7127['buttonMessage']?.['footerText'],'buttons':_0xdb7127[_0x815845(0x22a)]['buttons'][_0x815845(0x1ec)](_0x2b7b6c=>({'buttonText':{'displayText':_0x2b7b6c[_0x815845(0x1e8)]},'buttonId':_0x2b7b6c[_0x815845(0x5af)],'type':0x1})),'headerType':m[_0x815845(0x66d)][_0x815845(0x47b)][_0x815845(0x6d2)][_0x815845(0x46a)][_0xb8e9dd],[_0x52a1a6?.[_0x815845(0x5c0)]]:_0x52a1a6?.[_0x815845(0x1dc)]}},_0xdb7127?.[_0x815845(0x693)]);}async[a0_0x422c01(0x2ea)](_0x4dba65){const _0x46aa57=a0_0x422c01;return await this[_0x46aa57(0x3c8)](_0x4dba65[_0x46aa57(0x736)],{'locationMessage':{'degreesLatitude':_0x4dba65[_0x46aa57(0x2ea)][_0x46aa57(0x4e3)],'degreesLongitude':_0x4dba65['locationMessage'][_0x46aa57(0x256)],'name':_0x4dba65[_0x46aa57(0x2ea)]?.['name'],'address':_0x4dba65[_0x46aa57(0x2ea)]?.[_0x46aa57(0x632)]}},_0x4dba65?.[_0x46aa57(0x693)]);}async[a0_0x422c01(0x46f)](_0x2e78b1){const _0xcbbf56=a0_0x422c01;let _0x3223d6={},_0x59c231=_0x1140c0=>{const _0x43d844=a0_0xf27f;let _0xdd0998=_0x43d844(0x33b)+_0x1140c0[_0x43d844(0x64c)]+_0x43d844(0x3d2)+_0x1140c0[_0x43d844(0x64c)]+'\x0a';_0x1140c0[_0x43d844(0x7c6)]&&(_0xdd0998+=_0x43d844(0x434)+_0x1140c0[_0x43d844(0x7c6)]+';\x0a'),_0x1140c0[_0x43d844(0x221)]&&(_0xdd0998+='EMAIL:'+_0x1140c0[_0x43d844(0x221)]+'\x0a'),_0x1140c0[_0x43d844(0x54c)]&&(_0xdd0998+=_0x43d844(0x427)+_0x1140c0[_0x43d844(0x54c)]+'\x0a');let _0x1bd7b0='';return _0x1140c0[_0x43d844(0x6f9)]&&_0x1140c0[_0x43d844(0x6f9)][_0x43d844(0x1e1)]('|')[_0x43d844(0x485)]((_0x145835,_0x49532a)=>{const _0x22b902=_0x43d844;let _0x4467e6=this[_0x22b902(0x4c1)](_0x145835)['replace'](_0x22b902(0x722),'');_0x1bd7b0+='item'+(_0x49532a+0x1)+_0x22b902(0x766)+_0x4467e6+':'+_0x145835+_0x22b902(0x50f)+(_0x49532a+0x1)+_0x22b902(0x220);}),_0xdd0998+=_0x1bd7b0+_0x43d844(0x252),_0xdd0998;};return _0x2e78b1[_0xcbbf56(0x46f)][_0xcbbf56(0x623)]===0x1?_0x3223d6[_0xcbbf56(0x46f)]={'displayName':_0x2e78b1[_0xcbbf56(0x46f)][0x0][_0xcbbf56(0x64c)],'vcard':_0x59c231(_0x2e78b1[_0xcbbf56(0x46f)][0x0])}:_0x3223d6[_0xcbbf56(0x6be)]={'displayName':_0x2e78b1[_0xcbbf56(0x46f)][_0xcbbf56(0x623)]+_0xcbbf56(0x627),'contacts':_0x2e78b1[_0xcbbf56(0x46f)]['map'](_0x3d207c=>({'displayName':_0x3d207c[_0xcbbf56(0x64c)],'vcard':_0x59c231(_0x3d207c)}))},await this[_0xcbbf56(0x3c8)](_0x2e78b1[_0xcbbf56(0x736)],{..._0x3223d6},_0x2e78b1?.[_0xcbbf56(0x693)]);}async['reactionMessage'](_0x252afc){const _0x55e847=a0_0x422c01;return await this[_0x55e847(0x3c8)](_0x252afc[_0x55e847(0x2b5)][_0x55e847(0x254)][_0x55e847(0x1fe)],{'reactionMessage':{'key':_0x252afc[_0x55e847(0x2b5)]['key'],'text':_0x252afc['reactionMessage'][_0x55e847(0x3e1)]}});}async['whatsappNumber'](_0x34e907){const _0x5575d6=a0_0x422c01;let _0x5bc489=[];for await(let _0x4a0fa5 of _0x34e907[_0x5575d6(0x1d3)]){let _0xdbdf68=this[_0x5575d6(0x4c1)](_0x4a0fa5),_0x2aca6c=!0x1;try{if((0x0,m[_0x5575d6(0x6c2)])(_0xdbdf68)){let _0x4b819e=await this[_0x5575d6(0x7e9)]({'groupJid':_0xdbdf68},_0x5575d6(0x559));_0x5bc489['push'](new fe(_0x4b819e[_0x5575d6(0x6df)]['id'],!!_0x4b819e?.[_0x5575d6(0x6df)]['id'],_0x4b819e?.[_0x5575d6(0x6df)][_0x5575d6(0x604)])),_0x2aca6c=!!_0x4b819e?.[_0x5575d6(0x6df)]['id'];}else{let _0x28bdee=(await this[_0x5575d6(0x822)][_0x5575d6(0x4e5)](_0xdbdf68))[0x0];_0x5bc489[_0x5575d6(0x484)](new fe(_0x28bdee[_0x5575d6(0x75e)],_0x28bdee[_0x5575d6(0x791)])),_0x2aca6c=_0x28bdee['exists'];}}catch{await this[_0x5575d6(0x3d4)](_0xdbdf68,_0x2aca6c),_0x5bc489['push'](new fe(_0x4a0fa5,!0x1));}}return _0x5bc489;}async[a0_0x422c01(0x3d4)](_0xc46deb,_0x5692b4){const _0x37fef5=a0_0x422c01;try{await this[_0x37fef5(0x585)][_0x37fef5(0x496)][_0x37fef5(0x64b)]({'where':{'_id':_0xc46deb,'imported':!0x0}},this[_0x37fef5(0x598)][_0x37fef5(0x76b)])&&(_0x5692b4||(await this[_0x37fef5(0x585)]['chat']['deleteChat'](_0xc46deb,this[_0x37fef5(0x598)][_0x37fef5(0x76b)]),console['log'](_0x37fef5(0x6a3)+_0xc46deb+'\x20foi\x20removido\x20por\x20não\x20ser\x20válido.')));}catch(_0x4cc927){console['error'](_0x37fef5(0x355),_0x4cc927);}}async[a0_0x422c01(0x7bc)](_0x2c72d5){const _0x58f77d=a0_0x422c01;try{let _0x3f508b=_0x2c72d5[_0x58f77d(0x750)]['filter'](_0x568c1e=>(0x0,m[_0x58f77d(0x6c2)])(_0x568c1e[_0x58f77d(0x1fe)])||(0x0,m[_0x58f77d(0x7d0)])(_0x568c1e['remoteJid']))[_0x58f77d(0x1ec)](_0x80f07a=>({'remoteJid':_0x80f07a[_0x58f77d(0x1fe)],'fromMe':_0x80f07a[_0x58f77d(0x7fb)],'id':_0x80f07a['id']}));await this['client'][_0x58f77d(0x750)](_0x3f508b);let _0x4c8064=_0x3f508b[_0x58f77d(0x1ec)](_0x30071a=>this[_0x58f77d(0x349)](_0x30071a,{'status':_0x58f77d(0x4ae),'owner':this[_0x58f77d(0x598)][_0x58f77d(0x76b)]})),_0x3c5b4d=_0x3f508b[_0x58f77d(0x1ec)](_0x3661df=>this[_0x58f77d(0x585)][_0x58f77d(0x496)]['updateOne']({'where':{'_id':_0x3661df[_0x58f77d(0x1fe)]}},{'unreadcount':0x0},this[_0x58f77d(0x598)]['wuid'])),[_0x115205,_0x55508f]=await Promise[_0x58f77d(0x3a4)]([Promise[_0x58f77d(0x3a4)](_0x4c8064),Promise['all'](_0x3c5b4d)]);return _0x55508f[_0x58f77d(0x7aa)](_0x187a79=>_0x187a79!==null)[_0x58f77d(0x485)](_0x3df09a=>{const _0x3281e8=_0x58f77d;J(this[_0x3281e8(0x4f7)],_0x3281e8(0x48e),{'chat':_0x3df09a});}),{'message':_0x58f77d(0x497),'read':_0x58f77d(0x4f3)};}catch(_0x5326c0){throw console[_0x58f77d(0x820)](_0x58f77d(0x318),_0x5326c0),new I('Read\x20messages\x20fail',_0x5326c0[_0x58f77d(0x76f)]());}}async['getLastMessage'](_0x5be187){const _0x13bd0f=a0_0x422c01;let _0x2b04a4={'where':{'key':{'remoteJid':_0x5be187}},'limit':0x1},_0x21714c=await this[_0x13bd0f(0x2bb)](_0x2b04a4);return _0x21714c||(console[_0x13bd0f(0x820)](_0x13bd0f(0x75a),_0x5be187),null);}async[a0_0x422c01(0x6cd)](_0x13af8e){const _0x274e2a=a0_0x422c01;this[_0x274e2a(0x803)][_0x274e2a(0x644)](_0x274e2a(0x383));try{let _0x8c87ac=_0x13af8e[_0x274e2a(0x241)],_0x544c27=_0x13af8e[_0x274e2a(0x496)];if(!_0x8c87ac&&_0x544c27?_0x8c87ac=await this[_0x274e2a(0x53b)](_0x544c27):(_0x8c87ac=_0x13af8e['lastMessage'],_0x8c87ac[_0x274e2a(0x2ab)]=_0x8c87ac?.[_0x274e2a(0x2ab)]??Date[_0x274e2a(0x5e6)](),_0x544c27=_0x8c87ac?.[_0x274e2a(0x254)]?.[_0x274e2a(0x1fe)]),!_0x8c87ac||Object['keys'](_0x8c87ac)[_0x274e2a(0x623)]===0x0)throw new F(_0x274e2a(0x717));this[_0x274e2a(0x803)]['verbose'](_0x274e2a(0x80d)+_0x544c27);try{await this[_0x274e2a(0x822)]['chatModify']({'archive':_0x13af8e[_0x274e2a(0x477)],'lastMessages':[_0x8c87ac]},this[_0x274e2a(0x4c1)](_0x544c27));}catch(_0x176862){this[_0x274e2a(0x803)]['error'](_0x274e2a(0x617)+_0x544c27+':\x20'+_0x176862[_0x274e2a(0x76f)]());}this[_0x274e2a(0x803)]['verbose'](_0x274e2a(0x61f)+_0x544c27);let _0x12bc6d=await this[_0x274e2a(0x585)]['chat'][_0x274e2a(0x3e5)]({'where':{'_id':_0x8c87ac?.[_0x274e2a(0x254)]?.[_0x274e2a(0x1fe)]}},{'archived':_0x13af8e[_0x274e2a(0x477)]},this['instance'][_0x274e2a(0x76b)]);return _0x12bc6d?(this[_0x274e2a(0x803)][_0x274e2a(0x644)]('Notifying\x20clients\x20for\x20chat:\x20'+JSON[_0x274e2a(0x54f)](_0x12bc6d)),J(this['instanceName'],_0x274e2a(0x48e),{'chat':_0x12bc6d})):this[_0x274e2a(0x803)][_0x274e2a(0x820)]('Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x544c27),{'chatId':_0x544c27,'archived':_0x13af8e[_0x274e2a(0x477)]};}catch(_0x5ee1cf){throw this['logger'][_0x274e2a(0x820)](_0x274e2a(0x7f1)+_0x5ee1cf[_0x274e2a(0x76f)]()),new I({'archived':!0x1,'message':[_0x274e2a(0x354),_0x5ee1cf[_0x274e2a(0x76f)]()]});}}async[a0_0x422c01(0x6c0)](_0x137396){const _0x5cfeb0=a0_0x422c01;this[_0x5cfeb0(0x803)][_0x5cfeb0(0x644)](_0x5cfeb0(0x2c0));try{let _0x553d82=await this[_0x5cfeb0(0x53b)](_0x137396);if(!_0x553d82||Object[_0x5cfeb0(0x21a)](_0x553d82)[_0x5cfeb0(0x623)]===0x0)throw new F('Last\x20message\x20not\x20found');let _0x9e3b09=_0x553d82[0x0];this['logger'][_0x5cfeb0(0x644)](_0x5cfeb0(0x569)+_0x137396);try{await this[_0x5cfeb0(0x822)]['chatModify']({'delete':!0x0,'lastMessages':[{'key':_0x9e3b09['key'],'messageTimestamp':_0x9e3b09['messageTimestamp']}]},this[_0x5cfeb0(0x4c1)](_0x137396));}catch(_0x3a0044){this[_0x5cfeb0(0x803)][_0x5cfeb0(0x820)](_0x5cfeb0(0x617)+_0x137396+':\x20'+_0x3a0044['toString']());}this[_0x5cfeb0(0x803)][_0x5cfeb0(0x644)](_0x5cfeb0(0x61f)+_0x137396);return;}catch(_0x481f8f){throw this[_0x5cfeb0(0x803)][_0x5cfeb0(0x820)]('Error\x20occurred\x20while\x20archiving\x20chat:\x20'+_0x481f8f['toString']()),new I({'archived':!0x1,'message':['An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.',_0x481f8f['toString']()]});}}async[a0_0x422c01(0x63f)](_0x1f90c4){const _0x278d34=a0_0x422c01;try{let _0x241047=await this['client'][_0x278d34(0x770)](_0x1f90c4[_0x278d34(0x1fe)],{'delete':_0x1f90c4});try{let _0x3e3e71=await this[_0x278d34(0x349)](_0x1f90c4,{'status':'DELETED','owner':this[_0x278d34(0x598)][_0x278d34(0x76b)]});this[_0x278d34(0x803)]['verbose'](this[_0x278d34(0x4f7)]+'\x20('+this['instance'][_0x278d34(0x76b)]+_0x278d34(0x37b)+_0x3e3e71);}catch(_0x21af53){console[_0x278d34(0x820)](_0x278d34(0x1bc),_0x21af53);}return _0x241047;}catch(_0x1393db){throw new I('Error\x20while\x20deleting\x20message\x20for\x20everyone',_0x1393db?.[_0x278d34(0x76f)]());}}async[a0_0x422c01(0x6f2)](_0x353ad9){const _0x1af155=a0_0x422c01;try{let _0x544c69=_0x353ad9?.[_0x1af155(0x1dc)]?_0x353ad9:await this['getMessage'](_0x353ad9['key'],!0x0);for(let _0x4ec2d1 of Na)_0x544c69[_0x1af155(0x1dc)][_0x4ec2d1]&&(_0x544c69[_0x1af155(0x1dc)]=_0x544c69[_0x1af155(0x1dc)][_0x4ec2d1][_0x1af155(0x1dc)]);let _0x1202b8,_0x29ef34;for(let _0x37b548 of va)if(_0x1202b8=_0x544c69['message'][_0x37b548],_0x1202b8){_0x29ef34=_0x37b548;break;}if(!_0x1202b8)throw _0x1af155(0x6e9);typeof _0x1202b8[_0x1af155(0x5c0)]==_0x1af155(0x1e5)&&(_0x544c69[_0x1af155(0x1dc)]=JSON[_0x1af155(0x2e3)](JSON[_0x1af155(0x54f)](_0x544c69[_0x1af155(0x1dc)])));let _0x4cb667=await(0x0,m['downloadMediaMessage'])({'key':_0x544c69?.[_0x1af155(0x254)],'message':_0x544c69?.['message']},_0x1af155(0x72b),{},{'logger':(0x0,$t[_0x1af155(0x849)])({'level':'silent'}),'reuploadRequest':this[_0x1af155(0x822)]['updateMediaMessage']});if(!(_0x4cb667 instanceof Buffer))throw new Error(_0x1af155(0x719));let _0x63277b=this[_0x1af155(0x63c)][_0x1af155(0x5a1)]('DATABASE'),_0x533e6f,_0x5753fc;if(_0x1202b8[_0x1af155(0x635)])_0x533e6f=_0x1202b8['fileName'];else{let _0x26f7f9=_0x1202b8[_0x1af155(0x33a)]?.['match'](/\/(\w+)/),_0xeb95e6=_0x26f7f9?_0x26f7f9[0x1]:null;if(!_0xeb95e6)throw new Error(_0x1af155(0x661));_0x533e6f=(0x0,Lt['v4'])()+'.'+_0xeb95e6;}_0x29ef34===_0x1af155(0x409)?_0x5753fc=_0x1af155(0x4aa)+await this['convertaudioMP3'](_0x4cb667[_0x1af155(0x76f)](_0x1af155(0x3b7))):(await this[_0x1af155(0x79a)](_0x4cb667,_0x533e6f),_0x5753fc='/media/'+_0x533e6f);let _0x1be928=this[_0x1af155(0x63c)]['get']('SERVER')[_0x1af155(0x214)];if(!_0x1be928){let _0x467764=this[_0x1af155(0x63c)][_0x1af155(0x5a1)](_0x1af155(0x215));_0x1be928=_0x1af155(0x21c)+(_0x467764&&_0x467764[_0x1af155(0x24a)]['split']('/')[0x4]);}_0x5753fc=''+_0x1be928+_0x5753fc;let _0x4bda16=0xc*0x3c*0x3c*0x3e8,_0x5532a0={'where':{'_id':_0x544c69[_0x1af155(0x254)]['id']}},_0x38d43d={'message_normalized.fileUrl':_0x5753fc,'message_normalized.expires_fileUrl':Date['now']()+_0x4bda16};try{let _0x4b5bc5=await this[_0x1af155(0x585)][_0x1af155(0x1dc)][_0x1af155(0x4fe)](_0x5532a0,_0x38d43d,this[_0x1af155(0x598)][_0x1af155(0x76b)]);_0x4b5bc5&&J(this[_0x1af155(0x4f7)],_0x1af155(0x6b9),{'message':_0x4b5bc5});}catch(_0x412fd9){this[_0x1af155(0x803)]['error'](this[_0x1af155(0x4f7)]+'\x20('+this[_0x1af155(0x598)]['wuid']+_0x1af155(0x584)+(_0x412fd9 instanceof Error?_0x412fd9[_0x1af155(0x1dc)]:JSON['stringify'](_0x412fd9,null,0x2)));}return{'mediaType':_0x29ef34,'fileName':_0x1202b8[_0x1af155(0x635)],'caption':_0x1202b8[_0x1af155(0x439)],'size':{'fileLength':_0x1202b8[_0x1af155(0x5a7)],'height':_0x1202b8[_0x1af155(0x4d8)],'width':_0x1202b8[_0x1af155(0x78d)]},'mimetype':_0x1202b8[_0x1af155(0x33a)],'base64':_0x4cb667[_0x1af155(0x76f)]('base64'),'fileUrl':_0x5753fc,'expires_fileUrl':Date['now']()+_0x4bda16};}catch(_0x5393bc){throw this[_0x1af155(0x803)]['error'](this[_0x1af155(0x4f7)]+'\x20('+this['instance'][_0x1af155(0x76b)]+'):\x20'+(_0x5393bc instanceof Error?_0x5393bc['message']:JSON['stringify'](_0x5393bc,null,0x2))),new w(_0x5393bc[_0x1af155(0x76f)]());}}async['saveMediaToFile'](_0xa7a779,_0x3376d2){const _0x5ae3d0=a0_0x422c01;let _0x500b88=U['default'][_0x5ae3d0(0x465)](__dirname,_0x5ae3d0(0x4c6));$[_0x5ae3d0(0x643)](_0x500b88)||$[_0x5ae3d0(0x4ca)](_0x500b88,{'recursive':!0x0});let _0x3557ec=U[_0x5ae3d0(0x849)]['join'](_0x500b88,_0x3376d2);return new Promise((_0x8da016,_0x1e25f8)=>{const _0x3fda33=_0x5ae3d0;$[_0x3fda33(0x5a0)](_0x3557ec,_0xa7a779,_0x33f045=>{const _0x5f3bd2=_0x3fda33;_0x33f045?(this['logger'][_0x5f3bd2(0x820)](_0x5f3bd2(0x361)+(_0x33f045 instanceof Error?_0x33f045[_0x5f3bd2(0x1dc)]:JSON[_0x5f3bd2(0x54f)](_0x33f045,null,0x2))),_0x1e25f8(_0x33f045)):(this['logger'][_0x5f3bd2(0x7f7)](_0x5f3bd2(0x4ee)+_0x3557ec),_0x8da016(_0x3557ec));});});}async[a0_0x422c01(0x7ef)](_0x42cb5f){const _0x9c941c=a0_0x422c01;return await this[_0x9c941c(0x585)][_0x9c941c(0x818)][_0x9c941c(0x752)](_0x42cb5f,this[_0x9c941c(0x598)][_0x9c941c(0x76b)]);}async[a0_0x422c01(0x3fe)](){const _0x3cdae3=a0_0x422c01;return await this['repository'][_0x3cdae3(0x565)][_0x3cdae3(0x752)]({'where':{}},this[_0x3cdae3(0x598)][_0x3cdae3(0x76b)]);}async['fetchMessages'](_0x35e7be){const _0x2ca2e5=a0_0x422c01;return await this['repository']['message'][_0x2ca2e5(0x752)](_0x35e7be,this[_0x2ca2e5(0x598)]['wuid']);}async['fetchChats'](){const _0x5175d7=a0_0x422c01;return this[_0x5175d7(0x585)][_0x5175d7(0x496)][_0x5175d7(0x72d)](this['instance']['wuid']),this[_0x5175d7(0x585)][_0x5175d7(0x496)][_0x5175d7(0x4c8)](this[_0x5175d7(0x598)][_0x5175d7(0x76b)]),this['repository'][_0x5175d7(0x496)]['updateMissingTags'](this[_0x5175d7(0x598)][_0x5175d7(0x76b)]),this[_0x5175d7(0x585)]['chat'][_0x5175d7(0x681)](this[_0x5175d7(0x598)]['wuid']),await this[_0x5175d7(0x585)][_0x5175d7(0x496)][_0x5175d7(0x752)]({'where':{}},this['instance'][_0x5175d7(0x76b)]);}async[a0_0x422c01(0x406)](_0x433327){const _0x380fc9=a0_0x422c01;try{if(!Array[_0x380fc9(0x20d)](_0x433327)||_0x433327['length']===0x0)throw new Error(_0x380fc9(0x27e));let _0x484034=[],_0x1a0cce=[];for(let _0x34d667 of _0x433327){if(_0x34d667[_0x380fc9(0x79d)])_0x34d667[_0x380fc9(0x79d)]=this[_0x380fc9(0x4c1)](_0x34d667[_0x380fc9(0x79d)]);else continue;await this[_0x380fc9(0x585)][_0x380fc9(0x496)][_0x380fc9(0x64b)]({'where':{'_id':_0x34d667[_0x380fc9(0x79d)]}},this['instance'][_0x380fc9(0x76b)])?_0x1a0cce[_0x380fc9(0x484)]({'_id':_0x34d667['_id'],'leadInfo':_0x34d667[_0x380fc9(0x2b6)],'owner':this['instance'][_0x380fc9(0x76b)]}):_0x484034[_0x380fc9(0x484)]({'_id':_0x34d667['_id'],'owner':this['instance']['wuid'],'leadInfo':_0x34d667[_0x380fc9(0x2b6)],'imported':!0x0});}return _0x1a0cce[_0x380fc9(0x623)]>0x0&&await this[_0x380fc9(0x585)][_0x380fc9(0x496)][_0x380fc9(0x247)](_0x1a0cce[_0x380fc9(0x1ec)](_0x416604=>({'query':{'where':{'_id':_0x416604[_0x380fc9(0x79d)],'owner':this[_0x380fc9(0x598)][_0x380fc9(0x76b)]}},'update':_0x416604}))),_0x484034[_0x380fc9(0x623)]>0x0&&await this[_0x380fc9(0x585)]['chat'][_0x380fc9(0x7c9)](_0x484034,this['instance'][_0x380fc9(0x76b)]),{'updated':_0x1a0cce[_0x380fc9(0x623)],'inserted':_0x484034[_0x380fc9(0x623)]};}catch(_0x2c9a11){throw console[_0x380fc9(0x820)]('Erro\x20ao\x20importar\x20chats:',_0x2c9a11),_0x2c9a11;}}async['importChats'](_0x24dbee){const _0x11e6fc=a0_0x422c01;try{if(!Array['isArray'](_0x24dbee)||_0x24dbee[_0x11e6fc(0x623)]===0x0)throw new Error(_0x11e6fc(0x27e));let _0x3bcc22=0x64,_0x4cd907=0x0;for(let _0x4ec7f8=0x0;_0x4ec7f8<_0x24dbee[_0x11e6fc(0x623)];_0x4ec7f8+=_0x3bcc22){let _0xa5a293=_0x24dbee[_0x11e6fc(0x338)](_0x4ec7f8,_0x4ec7f8+_0x3bcc22),{updated:_0x437663}=await this[_0x11e6fc(0x2b8)](_0xa5a293);_0x4cd907+=_0x437663;}return{'updated':_0x4cd907};}catch(_0x4ed749){throw console[_0x11e6fc(0x820)](_0x11e6fc(0x462),_0x4ed749),_0x4ed749;}}async['importChatsBatch'](_0x5ea77d){const _0x2e9099=a0_0x422c01;try{let _0x2923a4=await this['repository'][_0x2e9099(0x565)][_0x2e9099(0x752)]({'where':{}},this[_0x2e9099(0x598)][_0x2e9099(0x76b)]),_0x575465=new Set(_0x2923a4['map'](_0x82fdb=>_0x82fdb[_0x2e9099(0x79d)])),_0x103ac3=[],_0x2ab076=[];for(let _0x278a16 of _0x5ea77d){if(!_0x278a16[_0x2e9099(0x79d)])continue;_0x278a16['_id']=this[_0x2e9099(0x4c1)](_0x278a16[_0x2e9099(0x79d)]);let _0x2aaee6=await this[_0x2e9099(0x585)][_0x2e9099(0x496)][_0x2e9099(0x64b)]({'where':{'_id':_0x278a16[_0x2e9099(0x79d)]}},this[_0x2e9099(0x598)][_0x2e9099(0x76b)]),_0xc02ec9={};if(Object[_0x2e9099(0x3bc)](_0x278a16[_0x2e9099(0x2b6)])[_0x2e9099(0x485)](([_0x37ff11,_0x334889])=>{_0xc02ec9['leadInfo.'+_0x37ff11]=_0x334889;}),_0x2aaee6&&!_0x2aaee6['imported']){let _0xa6bed6=(_0x278a16[_0x2e9099(0x2b6)]['etiquetas']||[])['filter'](_0x4af66c=>_0x575465[_0x2e9099(0x7b1)](_0x4af66c)),_0x5e4735=new Set(_0x2aaee6['leadInfo'][_0x2e9099(0x67f)]||[]),_0x2794ac=_0xa6bed6[_0x2e9099(0x7aa)](_0x1c3002=>!_0x5e4735[_0x2e9099(0x7b1)](_0x1c3002)),_0x4c6839=[..._0x5e4735][_0x2e9099(0x7aa)](_0x176cb5=>!_0xa6bed6[_0x2e9099(0x563)](_0x176cb5));_0x2ab076[_0x2e9099(0x484)](..._0x2794ac[_0x2e9099(0x1ec)](_0x3e379a=>this[_0x2e9099(0x1e7)](_0x3e379a,_0x278a16[_0x2e9099(0x79d)]))),_0x2ab076[_0x2e9099(0x484)](..._0x4c6839[_0x2e9099(0x1ec)](_0x3506a6=>this[_0x2e9099(0x503)](_0x3506a6,_0x278a16[_0x2e9099(0x79d)]))),_0x278a16[_0x2e9099(0x2b6)][_0x2e9099(0x67f)]=_0xa6bed6,_0x103ac3[_0x2e9099(0x484)]({'query':{'where':{'_id':_0x278a16['_id'],'owner':this[_0x2e9099(0x598)][_0x2e9099(0x76b)]}},'update':_0xc02ec9});}else _0xc02ec9[_0x2e9099(0x2f2)]=!0x0,_0x103ac3['push']({'query':{'where':{'_id':_0x278a16['_id'],'owner':this['instance']['wuid']}},'update':_0xc02ec9});}let _0x2bef0b=await this[_0x2e9099(0x585)][_0x2e9099(0x496)][_0x2e9099(0x247)](_0x103ac3);return await Promise[_0x2e9099(0x3a4)](_0x2ab076),{'updated':_0x2bef0b};}catch(_0x41c59c){throw console[_0x2e9099(0x820)]('Erro\x20ao\x20importar\x20chats:',_0x41c59c),_0x41c59c;}}async[a0_0x422c01(0x292)](){const _0x344a05=a0_0x422c01;return await this[_0x344a05(0x822)]['fetchPrivacySettings']();}async[a0_0x422c01(0x624)](_0x22d155){const _0x38d2d1=a0_0x422c01;try{return await this['client']['updateReadReceiptsPrivacy'](_0x22d155['privacySettings'][_0x38d2d1(0x45f)]),await this[_0x38d2d1(0x822)]['updateProfilePicturePrivacy'](_0x22d155[_0x38d2d1(0x3d3)][_0x38d2d1(0x5c5)]),await this[_0x38d2d1(0x822)][_0x38d2d1(0x6e5)](_0x22d155[_0x38d2d1(0x3d3)]['status']),await this[_0x38d2d1(0x822)][_0x38d2d1(0x620)](_0x22d155[_0x38d2d1(0x3d3)][_0x38d2d1(0x4a8)]),await this[_0x38d2d1(0x822)]['updateLastSeenPrivacy'](_0x22d155[_0x38d2d1(0x3d3)]['last']),await this[_0x38d2d1(0x822)][_0x38d2d1(0x368)](_0x22d155[_0x38d2d1(0x3d3)][_0x38d2d1(0x842)]),this[_0x38d2d1(0x822)]?.['ws']?.[_0x38d2d1(0x2b1)](),{'update':_0x38d2d1(0x4f3),'data':{'readreceipts':_0x22d155[_0x38d2d1(0x3d3)][_0x38d2d1(0x45f)],'profile':_0x22d155[_0x38d2d1(0x3d3)][_0x38d2d1(0x5c5)],'status':_0x22d155[_0x38d2d1(0x3d3)][_0x38d2d1(0x59d)],'online':_0x22d155['privacySettings'][_0x38d2d1(0x4a8)],'last':_0x22d155[_0x38d2d1(0x3d3)][_0x38d2d1(0x35d)],'groupadd':_0x22d155[_0x38d2d1(0x3d3)][_0x38d2d1(0x842)]}};}catch(_0x3315ff){throw new I(_0x38d2d1(0x70f),_0x3315ff[_0x38d2d1(0x76f)]());}}async[a0_0x422c01(0x24c)](_0x1f6212){const _0x2b9192=a0_0x422c01;let _0x544ea9=(_0x1f6212?this[_0x2b9192(0x4c1)](_0x1f6212):this[_0x2b9192(0x822)]?.[_0x2b9192(0x42a)]?.['id'])[_0x2b9192(0x246)](/:\d{1,2}@/g,'@');this[_0x2b9192(0x803)]['verbose'](_0x2b9192(0x377)+_0x544ea9);let _0x5a35e8=await this[_0x2b9192(0x585)][_0x2b9192(0x818)][_0x2b9192(0x64b)]({'where':{'_id':_0x544ea9}},this[_0x2b9192(0x598)][_0x2b9192(0x76b)]),_0x2009ca=_0x5a35e8?_0x5a35e8[_0x2b9192(0x709)]:null;try{let _0x413e9f=(await this['whatsappNumber']({'numbers':[_0x544ea9]}))?.[_0x2b9192(0x290)](),_0x51c583=(await this[_0x2b9192(0x600)](_0x544ea9,null,!0x1))[_0x2b9192(0x614)][_0x2b9192(0x42b)],_0x45bcd1=await this[_0x2b9192(0x56a)](_0x413e9f?.['jid']),_0x30cc10=await this[_0x2b9192(0x5db)](_0x413e9f?.['jid']),_0x3784c4=(await this[_0x2b9192(0x600)](_0x544ea9,null,!0x1))[_0x2b9192(0x614)][_0x2b9192(0x6a7)],_0x38fdee=await this[_0x2b9192(0x585)][_0x2b9192(0x496)][_0x2b9192(0x64b)]({'where':{'_id':_0x544ea9}},this[_0x2b9192(0x598)][_0x2b9192(0x76b)]),_0x4bd43d={'imagechat':_0x51c583,'contactname':_0x2009ca||null,'pushName':_0x3784c4,'status':_0x45bcd1?.[_0x2b9192(0x59d)],'isBusiness':_0x30cc10[_0x2b9192(0x707)],'email':_0x30cc10?.[_0x2b9192(0x221)],'description':_0x30cc10?.[_0x2b9192(0x2a3)],'website':_0x30cc10?.[_0x2b9192(0x2f4)]?.[_0x2b9192(0x290)](),'lastcache':Date[_0x2b9192(0x5e6)](),'imported':!_0x38fdee},_0x549974=await this[_0x2b9192(0x585)][_0x2b9192(0x496)]['updateOne']({'where':{'_id':_0x544ea9}},_0x4bd43d,this[_0x2b9192(0x598)][_0x2b9192(0x76b)]),_0x31d21c={'owner':this['instance'][_0x2b9192(0x76b)],'_id':_0x544ea9,'profilePictureUrl':_0x51c583,'status':_0x45bcd1?.['status']};return this[_0x2b9192(0x585)]['contact']['update']([_0x31d21c],this[_0x2b9192(0x598)][_0x2b9192(0x76b)]),_0x549974&&J(this[_0x2b9192(0x4f7)],_0x2b9192(0x48e),{'chat':_0x549974}),{'wuid':_0x413e9f?.[_0x2b9192(0x75e)]||_0x544ea9,'name':_0x413e9f?.[_0x2b9192(0x6a7)],'pushName':_0x3784c4,'numberExists':_0x413e9f?.[_0x2b9192(0x791)],'picture':_0x51c583,'status':_0x45bcd1?.[_0x2b9192(0x59d)],'isBusiness':_0x30cc10[_0x2b9192(0x707)],'email':_0x30cc10?.[_0x2b9192(0x221)],'description':_0x30cc10?.[_0x2b9192(0x2a3)],'website':_0x30cc10?.['website']?.[_0x2b9192(0x290)]()};}catch(_0x2fd5f9){return this[_0x2b9192(0x803)]['error'](_0x2b9192(0x7f5)+(_0x2fd5f9 instanceof Error?_0x2fd5f9[_0x2b9192(0x1dc)]:JSON[_0x2b9192(0x54f)](_0x2fd5f9,null,0x2))),{};}}async[a0_0x422c01(0x5db)](_0x31a793){const _0x332c35=a0_0x422c01;this[_0x332c35(0x803)]['verbose'](_0x332c35(0x7b6));try{let _0x33f6ac=_0x31a793?this[_0x332c35(0x4c1)](_0x31a793):this[_0x332c35(0x598)][_0x332c35(0x76b)],_0xe7c6bf=await this[_0x332c35(0x822)]['getBusinessProfile'](_0x33f6ac);return this[_0x332c35(0x803)][_0x332c35(0x644)](_0x332c35(0x17f)),_0xe7c6bf?(this[_0x332c35(0x803)][_0x332c35(0x644)](_0x332c35(0x2d4)),{'isBusiness':!0x0,..._0xe7c6bf}):{'isBusiness':!0x1,'message':_0x332c35(0x192),...(await this[_0x332c35(0x795)]({'numbers':[_0x33f6ac]}))?.['shift']()};}catch(_0x58bb72){throw new I(_0x332c35(0x685),_0x58bb72['toString']());}}async['getStatus'](_0x5a59f1){const _0x1b2a8a=a0_0x422c01;let _0x23532e=this['createJid'](_0x5a59f1);try{return{'wuid':_0x23532e,'status':(await this[_0x1b2a8a(0x822)][_0x1b2a8a(0x784)](_0x23532e))?.[_0x1b2a8a(0x59d)]};}catch{return{'wuid':_0x23532e,'status':null};}}async[a0_0x422c01(0x49b)](_0x1d7439){const _0x338586=a0_0x422c01;try{return await this[_0x338586(0x822)][_0x338586(0x49b)](_0x1d7439),{'update':_0x338586(0x4f3)};}catch(_0x3f8967){throw new I(_0x338586(0x685),_0x3f8967[_0x338586(0x76f)]());}}async[a0_0x422c01(0x586)](_0x39cba7){const _0x12945a=a0_0x422c01;try{return await this['client'][_0x12945a(0x586)](_0x39cba7),{'update':_0x12945a(0x4f3)};}catch(_0x11d222){throw new I('Error\x20updating\x20profile\x20status',_0x11d222['toString']());}}async['updateProfilePicture'](_0x680ba){const _0x3da664=a0_0x422c01;try{let _0x1ccebf;if((0x0,P[_0x3da664(0x4a7)])(_0x680ba)){let _0x1cea80=new Date()[_0x3da664(0x622)](),_0x3ff60c=_0x680ba+_0x3da664(0x5a2)+_0x1cea80;_0x1ccebf=(await K[_0x3da664(0x849)][_0x3da664(0x5a1)](_0x3ff60c,{'responseType':_0x3da664(0x677)}))[_0x3da664(0x749)];}else{if((0x0,P['isBase64'])(_0x680ba))_0x1ccebf=Buffer[_0x3da664(0x52c)](_0x680ba,_0x3da664(0x3b7));else throw new w(_0x3da664(0x3e8));}return await this['client'][_0x3da664(0x814)](this[_0x3da664(0x598)][_0x3da664(0x76b)],_0x1ccebf),{'update':_0x3da664(0x4f3)};}catch(_0x597b80){throw new I(_0x3da664(0x501),_0x597b80[_0x3da664(0x76f)]());}}async[a0_0x422c01(0x3ad)](){const _0x4ccbb5=a0_0x422c01;try{return await this[_0x4ccbb5(0x822)]['removeProfilePicture'](this[_0x4ccbb5(0x598)]['wuid']),{'update':_0x4ccbb5(0x4f3)};}catch(_0x23bfb2){throw new I(_0x4ccbb5(0x39b),_0x23bfb2[_0x4ccbb5(0x76f)]());}}async[a0_0x422c01(0x594)](_0x3219f6){const _0x40911e=a0_0x422c01;try{let _0x219762=_0x3219f6[_0x40911e(0x2cd)]['map'](_0x3987e1=>this[_0x40911e(0x4c1)](_0x3987e1)),{id:_0x324407}=await this[_0x40911e(0x822)][_0x40911e(0x70a)](_0x3219f6['subject'],_0x219762);return _0x3219f6?.[_0x40911e(0x2a3)]&&await this[_0x40911e(0x822)][_0x40911e(0x51a)](_0x324407,_0x3219f6[_0x40911e(0x2a3)]),{'metadata':await this[_0x40911e(0x822)][_0x40911e(0x7b9)](_0x324407)};}catch(_0x2a8679){throw this[_0x40911e(0x803)][_0x40911e(0x820)](this[_0x40911e(0x4f7)]+'\x20('+this[_0x40911e(0x598)]['wuid']+_0x40911e(0x584)+(_0x2a8679 instanceof Error?_0x2a8679['message']:JSON[_0x40911e(0x54f)](_0x2a8679,null,0x2))),new I(_0x40911e(0x755),_0x2a8679[_0x40911e(0x76f)]());}}async[a0_0x422c01(0x4ef)](_0x6f7975){const _0x394657=a0_0x422c01;try{let _0x13cd92;if((0x0,P[_0x394657(0x4a7)])(_0x6f7975[_0x394657(0x1f5)])){let _0x4405d2=new Date()['getTime'](),_0x1c7782=_0x6f7975[_0x394657(0x1f5)]+'?timestamp='+_0x4405d2;_0x13cd92=(await K[_0x394657(0x849)][_0x394657(0x5a1)](_0x1c7782,{'responseType':_0x394657(0x677)}))[_0x394657(0x749)];}else{if((0x0,P[_0x394657(0x840)])(_0x6f7975[_0x394657(0x1f5)]))_0x13cd92=Buffer['from'](_0x6f7975[_0x394657(0x1f5)],_0x394657(0x3b7));else throw new w(_0x394657(0x3e8));}return await this['client'][_0x394657(0x814)](_0x6f7975['groupJid'],_0x13cd92),{'update':_0x394657(0x4f3)};}catch(_0x4f795f){throw new I('Error\x20update\x20group\x20picture',_0x4f795f[_0x394657(0x76f)]());}}async['groupDesc'](_0xae93ea){const _0x2a76a1=a0_0x422c01;try{return await this[_0x2a76a1(0x822)][_0x2a76a1(0x51a)](_0xae93ea[_0x2a76a1(0x36f)],_0xae93ea[_0x2a76a1(0x2a3)]),{'update':_0x2a76a1(0x4f3)};}catch(_0x52c51f){throw new I(_0x2a76a1(0x45e),_0x52c51f[_0x2a76a1(0x76f)]());}}async[a0_0x422c01(0x1b5)](_0xad5464){const _0x3b8593=a0_0x422c01;try{return await this['client']['groupUpdateSubject'](_0xad5464[_0x3b8593(0x36f)],_0xad5464[_0x3b8593(0x6a7)]),{'update':'success'};}catch(_0x2e3e52){throw new I('Error\x20change\x20group\x20name',_0x2e3e52[_0x3b8593(0x76f)]());}}async[a0_0x422c01(0x539)](_0x57a6c4){const _0xbdd039=a0_0x422c01;try{let _0x53ea8e=await this['client'][_0xbdd039(0x3ca)](_0x57a6c4[_0xbdd039(0x36f)],_0x57a6c4[_0xbdd039(0x5e9)]);return{'success':!0x0};}catch(_0x2d43bb){throw new w('Error\x20updating\x20setting',_0x2d43bb[_0xbdd039(0x76f)]());}}async[a0_0x422c01(0x5e2)](_0x29c4d2){const _0x12a9ea=a0_0x422c01;try{return await this[_0x12a9ea(0x822)][_0x12a9ea(0x7ff)](_0x29c4d2[_0x12a9ea(0x36f)],_0x29c4d2[_0x12a9ea(0x49e)]),{'update':'success'};}catch(_0x461841){throw new I(_0x12a9ea(0x712),_0x461841[_0x12a9ea(0x76f)]());}}async['groupBetterSetting'](_0x220b61){const _0x6c64c7=a0_0x422c01;try{if(_0x220b61[_0x6c64c7(0x4f8)]===!0x0&&await this['client'][_0x6c64c7(0x7ff)](_0x220b61[_0x6c64c7(0x36f)],'locked'),_0x220b61[_0x6c64c7(0x4f8)]===!0x1&&await this[_0x6c64c7(0x822)]['groupSettingUpdate'](_0x220b61[_0x6c64c7(0x36f)],_0x6c64c7(0x67d)),_0x220b61['announce']===!0x0&&await this[_0x6c64c7(0x822)]['groupSettingUpdate'](_0x220b61[_0x6c64c7(0x36f)],'announcement'),_0x220b61[_0x6c64c7(0x1e6)]===!0x1&&await this['client'][_0x6c64c7(0x7ff)](_0x220b61[_0x6c64c7(0x36f)],_0x6c64c7(0x808)),_0x220b61[_0x6c64c7(0x7db)]===!0x0&&await this[_0x6c64c7(0x822)]['groupMemberAddMode'](_0x220b61[_0x6c64c7(0x36f)],'all_member_add'),_0x220b61[_0x6c64c7(0x7db)]===!0x1&&await this[_0x6c64c7(0x822)]['groupMemberAddMode'](_0x220b61[_0x6c64c7(0x36f)],_0x6c64c7(0x416)),_0x220b61[_0x6c64c7(0x610)]===!0x0&&await this[_0x6c64c7(0x822)][_0x6c64c7(0x446)](_0x220b61['groupJid'],'on'),_0x220b61[_0x6c64c7(0x610)]===!0x1&&await this[_0x6c64c7(0x822)][_0x6c64c7(0x446)](_0x220b61[_0x6c64c7(0x36f)],_0x6c64c7(0x3a0)),typeof _0x220b61[_0x6c64c7(0x5e9)]<'u'&&_0x220b61['expiration']!==null&&await this[_0x6c64c7(0x822)][_0x6c64c7(0x3ca)](_0x220b61[_0x6c64c7(0x36f)],_0x220b61[_0x6c64c7(0x5e9)]),_0x220b61[_0x6c64c7(0x6a7)]&&await this[_0x6c64c7(0x822)]['groupUpdateSubject'](_0x220b61[_0x6c64c7(0x36f)],_0x220b61[_0x6c64c7(0x6a7)]),_0x220b61[_0x6c64c7(0x2a3)]&&await this[_0x6c64c7(0x822)]['groupUpdateDescription'](_0x220b61[_0x6c64c7(0x36f)],_0x220b61[_0x6c64c7(0x2a3)]),_0x220b61[_0x6c64c7(0x1f5)]){let _0x3f8f30;if((0x0,P[_0x6c64c7(0x4a7)])(_0x220b61[_0x6c64c7(0x1f5)])){let _0x545b49=new Date()[_0x6c64c7(0x622)](),_0x4d70d8=_0x220b61['image']+_0x6c64c7(0x5a2)+_0x545b49;_0x3f8f30=(await K[_0x6c64c7(0x849)][_0x6c64c7(0x5a1)](_0x4d70d8,{'responseType':_0x6c64c7(0x677)}))['data'];}else{if((0x0,P['isBase64'])(_0x220b61['image']))_0x3f8f30=Buffer[_0x6c64c7(0x52c)](_0x220b61[_0x6c64c7(0x1f5)],_0x6c64c7(0x3b7));else throw new w(_0x6c64c7(0x3e8));}await this['client']['updateProfilePicture'](_0x220b61[_0x6c64c7(0x36f)],_0x3f8f30);}return await this[_0x6c64c7(0x7e9)]({'groupJid':_0x220b61[_0x6c64c7(0x36f)]},_0x6c64c7(0x559));}catch(_0x228d6f){throw new I('Error\x20change\x20group\x20setting',_0x228d6f['toString']());}}async[a0_0x422c01(0x5cd)](_0x393110){const _0x246f59=a0_0x422c01;try{if(_0x393110[_0x246f59(0x5e3)]===_0x246f59(0x3fd)||_0x393110['action']===_0x246f59(0x640)){let _0x55cf09=_0x393110[_0x246f59(0x2cd)][_0x246f59(0x1ec)](_0x2926ef=>this[_0x246f59(0x4c1)](_0x2926ef));await this['client'][_0x246f59(0x184)](_0x393110[_0x246f59(0x36f)],_0x55cf09,_0x393110[_0x246f59(0x5e3)]);}else{let _0x3c1b83=_0x393110[_0x246f59(0x2cd)][_0x246f59(0x1ec)](_0x1318cc=>this[_0x246f59(0x4c1)](_0x1318cc));await this[_0x246f59(0x822)][_0x246f59(0x459)](_0x393110[_0x246f59(0x36f)],_0x3c1b83,_0x393110[_0x246f59(0x5e3)]);}return await this[_0x246f59(0x7e9)]({'groupJid':_0x393110['groupJid']},_0x246f59(0x559));}catch(_0x49050b){throw new w(_0x246f59(0x2be),_0x49050b[_0x246f59(0x76f)]());}}async['groupGetInviteInfo'](_0xb8176a){const _0x8b6ea6=a0_0x422c01;try{return await this['client']['groupGetInviteInfo'](_0xb8176a[_0x8b6ea6(0x337)]);}catch(_0x80476f){throw new I(_0x8b6ea6(0x4dd),_0x80476f['toString']());}}async[a0_0x422c01(0x7e9)](_0x40067b,_0xd320ae=a0_0x422c01(0x3ba)){const _0x57bd55=a0_0x422c01;try{let _0x27c67e=await this[_0x57bd55(0x822)]['groupMetadata'](_0x40067b[_0x57bd55(0x36f)]),_0x321e7f=[];try{_0x321e7f=await this['client'][_0x57bd55(0x5f5)](_0x40067b[_0x57bd55(0x36f)]);}catch(_0x1fd579){this[_0x57bd55(0x803)][_0x57bd55(0x644)](this[_0x57bd55(0x4f7)]+'\x20('+this[_0x57bd55(0x598)][_0x57bd55(0x76b)]+_0x57bd55(0x37a)+_0x40067b['groupJid']+':\x20'+(_0x1fd579 instanceof Error?_0x1fd579['message']:JSON[_0x57bd55(0x54f)](_0x1fd579,null,0x2)));}let _0x595485=null;try{_0x595485=(await this[_0x57bd55(0x600)](_0x40067b[_0x57bd55(0x36f)],null,!0x0))[_0x57bd55(0x614)][_0x57bd55(0x42b)];}catch(_0x3aff47){this[_0x57bd55(0x803)][_0x57bd55(0x644)](this[_0x57bd55(0x4f7)]+'\x20('+this[_0x57bd55(0x598)][_0x57bd55(0x76b)]+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x40067b[_0x57bd55(0x36f)]+':\x20'+(_0x3aff47 instanceof Error?_0x3aff47[_0x57bd55(0x1dc)]:JSON[_0x57bd55(0x54f)](_0x3aff47,null,0x2)));}let _0x504de7=_0x27c67e[_0x57bd55(0x2cd)][_0x57bd55(0x1ec)](_0xb2e216=>_0xb2e216['id']),_0x311fb=_0x321e7f['map'](_0x519756=>_0x519756['jid']),_0x39bec3=await this[_0x57bd55(0x585)][_0x57bd55(0x3ea)]['findManyByIds']([..._0x504de7,..._0x311fb]),_0x2af357=_0x27c67e['participants'][_0x57bd55(0x1ec)](_0x7910e9=>{const _0x505e46=_0x57bd55;let _0x5d372f=_0x39bec3[_0x505e46(0x752)](_0x17214a=>_0x17214a[_0x505e46(0x79d)]===_0x7910e9['id']);return{'id':_0x7910e9['id'],'status':_0x7910e9[_0x505e46(0x1a3)]?_0x7910e9['admin']:_0x505e46(0x331),'pushName':_0x5d372f?.[_0x505e46(0x6a7)],'profilePictureUrl':_0x5d372f?.[_0x505e46(0x42b)]};}),_0x227785=_0x321e7f[_0x57bd55(0x1ec)](_0x21dc71=>{const _0x6ecec5=_0x57bd55;let _0x564b8d=_0x39bec3[_0x6ecec5(0x752)](_0x29a084=>_0x29a084[_0x6ecec5(0x79d)]===_0x21dc71[_0x6ecec5(0x75e)]);return{'id':_0x21dc71['jid'],'status':_0x6ecec5(0x7e4),'pushName':_0x564b8d?.[_0x6ecec5(0x6a7)],'profilePictureUrl':_0x564b8d?.[_0x6ecec5(0x42b)],'request_method':_0x21dc71[_0x6ecec5(0x82f)],'request_time':_0x21dc71['request_time']};}),_0xa56b49=[..._0x2af357,..._0x227785];_0x27c67e['participants']=_0xa56b49;let _0x3d96bb=await this[_0x57bd55(0x585)]['chat'][_0x57bd55(0x3e5)]({'where':{'_id':_0x40067b[_0x57bd55(0x36f)]}},{'imagechat':_0x595485,'name':_0x27c67e[_0x57bd55(0x604)],'group_size':_0x27c67e[_0x57bd55(0x449)],'group_announce':_0x27c67e[_0x57bd55(0x1e6)],'group_isCommunity':_0x27c67e[_0x57bd55(0x327)],'lastcache':Date['now']()},this[_0x57bd55(0x598)]['wuid']);return _0x3d96bb&&J(this[_0x57bd55(0x4f7)],_0x57bd55(0x48e),{'chat':_0x3d96bb}),{'metadata':_0x27c67e,'image':_0x595485};}catch(_0x329452){if(_0xd320ae===_0x57bd55(0x559))return;throw new F(_0x57bd55(0x6cf),_0x329452[_0x57bd55(0x76f)]());}}async[a0_0x422c01(0x225)](){const _0x5d3dfe=a0_0x422c01;try{let _0x1ae947=await this[_0x5d3dfe(0x822)][_0x5d3dfe(0x72c)](),_0x582328=Object[_0x5d3dfe(0x203)](_0x1ae947)['filter'](_0x5a1a36=>(0x0,m['isJidGroup'])(_0x5a1a36?.['id']))[_0x5d3dfe(0x1ec)](async _0x340eaf=>{const _0x552c8e=_0x5d3dfe;try{let _0x258080=await this[_0x552c8e(0x822)][_0x552c8e(0x6d7)](_0x340eaf['id'],'preview'),_0x534e59=await this[_0x552c8e(0x600)](_0x340eaf['id'],_0x340eaf[_0x552c8e(0x604)],!0x1),_0x225bb1=_0x534e59[_0x552c8e(0x614)][_0x552c8e(0x42b)],_0x49eb98={'groupJid':_0x340eaf?.['id'],'subject':_0x340eaf?.[_0x552c8e(0x604)],'subjectOwner':_0x340eaf?.[_0x552c8e(0x605)]?.[_0x552c8e(0x1e1)]('@')[0x0],'subjectTime':_0x340eaf?.['subjectTime'],'size':_0x340eaf?.[_0x552c8e(0x2cd)]?.[_0x552c8e(0x623)],'owner':_0x340eaf?.['owner']?.[_0x552c8e(0x1e1)]('@')[0x0],'creation':_0x340eaf?.['creation'],'desc':_0x340eaf?.['desc'],'restrict':_0x340eaf?.[_0x552c8e(0x4f8)],'announce':_0x340eaf?.['announce'],'image':_0x225bb1,'isCommunity':_0x340eaf?.[_0x552c8e(0x327)],'joinApprovalMode':_0x340eaf?.[_0x552c8e(0x610)],'memberCanAddParticipant':_0x340eaf?.[_0x552c8e(0x7db)]},_0x14bf80=await this['repository']['chat'][_0x552c8e(0x3e5)]({'where':{'_id':_0x340eaf?.['id']}},{'imagechat':_0x534e59[_0x552c8e(0x614)]['pictureUrl'],'name':_0x340eaf?.[_0x552c8e(0x604)],'group_size':_0x340eaf?.[_0x552c8e(0x449)],'group_announce':_0x340eaf?.[_0x552c8e(0x1e6)],'group_isCommunity':_0x340eaf?.[_0x552c8e(0x327)],'lastcache':Date[_0x552c8e(0x5e6)]()},this[_0x552c8e(0x598)][_0x552c8e(0x76b)]);return _0x14bf80&&J(this[_0x552c8e(0x4f7)],_0x552c8e(0x48e),{'chat':_0x14bf80}),_0x49eb98;}catch(_0x5553ca){return this['logger']['verbose'](this[_0x552c8e(0x4f7)]+'\x20('+this[_0x552c8e(0x598)][_0x552c8e(0x76b)]+_0x552c8e(0x7ca)+_0x340eaf['id']+':\x20'+(_0x5553ca instanceof Error?_0x5553ca[_0x552c8e(0x1dc)]:JSON[_0x552c8e(0x54f)](_0x5553ca,null,0x2))),null;}}),_0x437bed=(await Promise[_0x5d3dfe(0x3a4)](_0x582328))[_0x5d3dfe(0x7aa)](_0x1b1386=>_0x1b1386!==null);return console['log'](_0x437bed[_0x5d3dfe(0x623)]+_0x5d3dfe(0x702)),_0x437bed;}catch(_0x4050c1){throw new F(_0x5d3dfe(0x6cf),_0x4050c1['toString']());}}async[a0_0x422c01(0x73d)](){const _0x3afd34=a0_0x422c01;try{let _0x3fc0d6=[],_0x19565c=await this[_0x3afd34(0x822)][_0x3afd34(0x72c)](),_0x212ea4=Object[_0x3afd34(0x203)](_0x19565c),_0x35f6f8=_0x212ea4['filter'](_0x2b1c61=>(0x0,m['isJidGroup'])(_0x2b1c61?.['id']))[_0x3afd34(0x1ec)](async _0x16739d=>{const _0x10ff86=_0x3afd34;try{return await this[_0x10ff86(0x822)][_0x10ff86(0x6d7)](_0x16739d['id'],_0x10ff86(0x2bd));}catch(_0x28c0f2){return this['logger']['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x16739d['id']+':\x20'+(_0x28c0f2 instanceof Error?_0x28c0f2[_0x10ff86(0x1dc)]:JSON['stringify'](_0x28c0f2,null,0x2))),null;}}),_0x2a8f6a=await Promise[_0x3afd34(0x3a4)](_0x35f6f8);for(let _0x5df97d=0x0;_0x5df97d<_0x212ea4[_0x3afd34(0x623)];_0x5df97d++){let _0x581360=_0x212ea4[_0x5df97d];if((0x0,m[_0x3afd34(0x6c2)])(_0x581360?.['id'])){_0x3fc0d6[_0x3afd34(0x484)]({'groupJid':_0x581360?.['id'],'subject':_0x581360?.[_0x3afd34(0x604)],'subjectOwner':_0x581360?.[_0x3afd34(0x605)]?.[_0x3afd34(0x1e1)]('@')[0x0],'subjectTime':_0x581360?.['subjectTime'],'size':_0x581360?.[_0x3afd34(0x2cd)]?.[_0x3afd34(0x623)],'owner':_0x581360?.[_0x3afd34(0x7e0)]?.[_0x3afd34(0x1e1)]('@')[0x0],'creation':_0x581360?.[_0x3afd34(0x466)],'desc':_0x581360?.[_0x3afd34(0x73c)],'restrict':_0x581360?.[_0x3afd34(0x4f8)],'announce':_0x581360?.[_0x3afd34(0x1e6)],'image':_0x2a8f6a[_0x5df97d],'isCommunity':_0x581360?.[_0x3afd34(0x327)],'joinApprovalMode':_0x581360?.[_0x3afd34(0x610)],'memberCanAddParticipant':_0x581360?.[_0x3afd34(0x7db)]});let _0xd901d8=await this['repository'][_0x3afd34(0x496)][_0x3afd34(0x3e5)]({'where':{'_id':_0x581360?.['id']}},{'imagechat':_0x2a8f6a[_0x5df97d],'name':_0x581360?.[_0x3afd34(0x604)],'group_size':_0x581360?.['size'],'group_announce':_0x581360?.[_0x3afd34(0x1e6)],'group_isCommunity':_0x581360?.['isCommunity'],'lastcache':Date['now']()},this['instance']['wuid']);_0xd901d8&&J(this[_0x3afd34(0x4f7)],_0x3afd34(0x48e),{'chat':_0xd901d8});}}return _0x3fc0d6;}catch(_0x1ba453){throw new F(_0x3afd34(0x6cf),_0x1ba453['toString']());}}async['inviteCode'](_0x23f3db){const _0x58d4e8=a0_0x422c01;try{let _0x4c8d51=await this[_0x58d4e8(0x822)][_0x58d4e8(0x570)](_0x23f3db[_0x58d4e8(0x36f)]);return{'inviteUrl':_0x58d4e8(0x817)+_0x4c8d51,'inviteCode':_0x4c8d51};}catch(_0x152fab){throw new F(_0x58d4e8(0x322),_0x152fab['toString']());}}async[a0_0x422c01(0x534)](_0x3eadaa){const _0x235811=a0_0x422c01;try{let _0x2db772=await this['client'][_0x235811(0x238)](_0x3eadaa['groupJid']);return{'revoked':!0x0,'inviteUrl':_0x235811(0x817)+_0x2db772,'inviteCode':_0x2db772};}catch(_0x560e3d){throw new F(_0x235811(0x317),_0x560e3d[_0x235811(0x76f)]());}}async[a0_0x422c01(0x7b3)](_0x35188e){const _0x197a5b=a0_0x422c01;try{if((0x0,P[_0x197a5b(0x4a7)])(_0x35188e['inviteCode']))var _0x1ea8bc=_0x35188e[_0x197a5b(0x337)][_0x197a5b(0x1e1)]('/')[0x3];else var _0x1ea8bc=_0x35188e['inviteCode'];let _0x26ac4e=await this[_0x197a5b(0x822)][_0x197a5b(0x533)](_0x1ea8bc);return this['logger'][_0x197a5b(0x644)](this['instanceName']+'\x20('+this['instance'][_0x197a5b(0x76b)]+_0x197a5b(0x584)+_0x26ac4e),{'join':!0x0,'inviteCode':_0x1ea8bc,'groupJid':_0x26ac4e};}catch(_0xaae57c){throw new F(_0x197a5b(0x704),_0xaae57c[_0x197a5b(0x76f)]());}}async[a0_0x422c01(0x6b4)](_0x34ce28){const _0xf655ba=a0_0x422c01;try{return{'participants':(await this[_0xf655ba(0x822)][_0xf655ba(0x7b9)](_0x34ce28['groupJid']))['participants']};}catch(_0xeaf9f){throw new F(_0xf655ba(0x326),_0xeaf9f[_0xf655ba(0x76f)]());}}async[a0_0x422c01(0x7de)](_0x49dfd6){const _0x4acfd4=a0_0x422c01;try{return await this[_0x4acfd4(0x822)][_0x4acfd4(0x411)](_0x49dfd6[_0x4acfd4(0x36f)]),{'groupJid':_0x49dfd6[_0x4acfd4(0x36f)],'leave':!0x0};}catch(_0x5b480f){throw new w(_0x4acfd4(0x522),_0x5b480f[_0x4acfd4(0x76f)]());}}async[a0_0x422c01(0x1a9)](_0x3f0494){const _0x225a31=a0_0x422c01;return await this[_0x225a31(0x3c8)](_0x3f0494['number'],{'poll':{'name':_0x3f0494[_0x225a31(0x1a9)]?.['name'],'selectableCount':_0x3f0494[_0x225a31(0x1a9)][_0x225a31(0x3ab)],'values':_0x3f0494[_0x225a31(0x1a9)][_0x225a31(0x203)]}},_0x3f0494?.[_0x225a31(0x693)]);}async['listMessage'](_0x39dcd2){const _0x576c78=a0_0x422c01;return await this[_0x576c78(0x3c8)](_0x39dcd2['number'],{'listMessage':{'title':_0x39dcd2[_0x576c78(0x55a)][_0x576c78(0x7a8)],'description':_0x39dcd2['listMessage'][_0x576c78(0x2a3)],'buttonText':_0x39dcd2[_0x576c78(0x55a)]?.['buttonText'],'footerText':_0x39dcd2[_0x576c78(0x55a)]?.[_0x576c78(0x6ba)],'sections':_0x39dcd2[_0x576c78(0x55a)][_0x576c78(0x236)],'listType':0x2}},_0x39dcd2?.[_0x576c78(0x693)]);}async['menuMessage'](_0x2468d1){const _0x4b4cd0=a0_0x422c01;let _0x145d3d;if(_0x2468d1[_0x4b4cd0(0x4be)][_0x4b4cd0(0x7f6)]===_0x4b4cd0(0x2ef)){let _0x3a973f=_0x2468d1['menuMessage'][_0x4b4cd0(0x4e4)][_0x4b4cd0(0x27b)]('\x0a'),_0x73569e='',_0x4dbd1d='';_0x3a973f!==-0x1?(_0x73569e=_0x2468d1[_0x4b4cd0(0x4be)][_0x4b4cd0(0x4e4)]['substring'](0x0,_0x3a973f)[_0x4b4cd0(0x78f)](),_0x4dbd1d=_0x2468d1['menuMessage'][_0x4b4cd0(0x4e4)]['substring'](_0x3a973f+0x1)):_0x4dbd1d=_0x2468d1['menuMessage'][_0x4b4cd0(0x4e4)];let _0x1206dd=_0x2468d1['menuMessage']['choices'][_0x4b4cd0(0x7aa)](_0x1d21dd=>_0x1d21dd['trim']()!==''),_0x5a6fc2=this[_0x4b4cd0(0x287)](_0x1206dd);_0x145d3d={'listMessage':{'title':_0x73569e,'description':_0x4dbd1d,'buttonText':_0x2468d1[_0x4b4cd0(0x4be)][_0x4b4cd0(0x1e8)]||_0x4b4cd0(0x680),'footerText':_0x2468d1['menuMessage'][_0x4b4cd0(0x6ba)],'sections':_0x5a6fc2,'listType':0x2}};}else{if(_0x2468d1[_0x4b4cd0(0x4be)][_0x4b4cd0(0x7f6)]==='poll'){let _0x2e5523=_0x2468d1[_0x4b4cd0(0x4be)][_0x4b4cd0(0x4fa)]['filter'](_0x742de0=>!(_0x742de0[_0x4b4cd0(0x67c)]('[')&&_0x742de0[_0x4b4cd0(0x262)](']'))&&_0x742de0['trim']()!=='')[_0x4b4cd0(0x1ec)](_0x473a1f=>_0x473a1f['split']('\x0a')[0x0]);_0x145d3d={'poll':{'name':_0x2468d1[_0x4b4cd0(0x4be)]['text'],'selectableCount':_0x2468d1[_0x4b4cd0(0x4be)][_0x4b4cd0(0x3ab)]||0x1,'values':_0x2e5523}};}}return await this[_0x4b4cd0(0x3c8)](_0x2468d1['number'],_0x145d3d,_0x2468d1?.[_0x4b4cd0(0x693)]);}[a0_0x422c01(0x287)](_0x1b2adf){const _0x1df621=a0_0x422c01;let _0x1554d6=[],_0x3efc5f={'rows':[]};return _0x1b2adf['forEach'](_0x1441b7=>{const _0x212733=a0_0xf27f;if(_0x1441b7[_0x212733(0x67c)]('[')&&_0x1441b7[_0x212733(0x262)](']'))_0x3efc5f[_0x212733(0x2d7)][_0x212733(0x623)]>0x0&&_0x1554d6['push'](_0x3efc5f),_0x3efc5f={'title':_0x1441b7[_0x212733(0x338)](0x1,-0x1),'rows':[]};else{let _0x462892=_0x1441b7[_0x212733(0x1e1)]('\x0a')[_0x212733(0x1ec)](_0x1b8f7a=>_0x1b8f7a[_0x212733(0x78f)]()),_0x53d5d0=_0x462892[0x0],_0x51c5de=_0x462892[0x1]||null,_0x146e32=_0x462892[0x2]||_0x53d5d0;_0x3efc5f[_0x212733(0x2d7)]['push']({'title':_0x53d5d0,'description':_0x51c5de,'rowId':_0x146e32});}}),_0x3efc5f[_0x1df621(0x2d7)][_0x1df621(0x623)]>0x0&&_0x1554d6[_0x1df621(0x484)](_0x3efc5f),_0x1554d6;}async[a0_0x422c01(0x349)](_0x235b94,_0x1b4f86){const _0x2f9c63=a0_0x422c01;if(await this[_0x2f9c63(0x6c8)](_0x235b94,!0x0)){let _0x310644={'where':{'_id':_0x235b94['id']}},_0x2bff96={'status':[_0x1b4f86['status']][0x0]};try{let _0x224892=await this['repository']['message'][_0x2f9c63(0x4fe)](_0x310644,_0x2bff96,this[_0x2f9c63(0x598)][_0x2f9c63(0x76b)]);_0x224892&&J(this[_0x2f9c63(0x4f7)],_0x2f9c63(0x6b9),{'message':_0x224892});}catch{}}}[a0_0x422c01(0x68f)](_0x319300){const _0x24fbaf=a0_0x422c01;let _0x3b5b14=[];return _0x319300[_0x24fbaf(0x485)](_0x14a6e7=>{const _0x2ba699=_0x24fbaf;_0x14a6e7[_0x2ba699(0x7a8)]&&_0x3b5b14[_0x2ba699(0x484)]('['+_0x14a6e7[_0x2ba699(0x7a8)]+']'),_0x14a6e7[_0x2ba699(0x2d7)][_0x2ba699(0x485)](_0x404f79=>{_0x3b5b14['push'](_0x404f79['title']);});}),_0x3b5b14[_0x24fbaf(0x465)]('|');}[a0_0x422c01(0x3f2)](_0x1f592c){const _0x2e7297=a0_0x422c01;let _0x2ee7ac=_0x1f592c['replace'](/\\n/g,'\x0a')[_0x2e7297(0x1e1)]('\x0a')[_0x2e7297(0x7aa)](_0x45c244=>_0x45c244[_0x2e7297(0x563)](_0x2e7297(0x676))||_0x45c244[_0x2e7297(0x563)](_0x2e7297(0x7fc))),_0x230626='';return _0x2ee7ac[_0x2e7297(0x485)](_0x4914ef=>{const _0x16b37c=_0x2e7297;let _0x2567d0=/TEL(?:.*):(.+)/,_0x3a8bbc=/EMAIL(?:.*):(.+)/,_0x407faf=_0x4914ef[_0x16b37c(0x22e)](_0x2567d0),_0x34070c=_0x4914ef[_0x16b37c(0x22e)](_0x3a8bbc);if(_0x407faf){let _0x215372=_0x407faf[0x1][_0x16b37c(0x246)](/-| |\+|\(|\)/g,'')[_0x16b37c(0x78f)]();_0x230626+=_0x16b37c(0x32d)+_0x215372+'\x0a';}else{if(_0x34070c){let _0x1f1ece=_0x34070c[0x1]['trim']();_0x230626+='E-mail:\x20'+_0x1f1ece+'\x0a';}}}),_0x230626['trim']();}async[a0_0x422c01(0x671)](_0x1f851a,_0x375a4d,_0x5b4aa9){const _0x24802e=a0_0x422c01;if(!_0x1f851a[_0x24802e(0x698)])return;let _0x39f0c1=_0x375a4d[_0x24802e(0x254)][_0x24802e(0x1fe)]['replace'](/:\d{1,2}@/g,'@'),_0x1178bb=_0x375a4d[_0x24802e(0x254)][_0x24802e(0x7fb)],_0x2b1fc2=_0x39f0c1['endsWith'](_0x24802e(0x2c4)),_0x2cce7e=_0x375a4d['message_normalized']?.['text']||_0x375a4d[_0x24802e(0x23f)]?.[_0x24802e(0x439)]||_0x375a4d['message_normalized']?.['vote']||_0x375a4d[_0x24802e(0x23f)]?.['name'],_0x3e889e={'lastmsg':_0x375a4d[_0x24802e(0x2ab)]||Date[_0x24802e(0x5e6)](),'ephemeralExpiration':_0x375a4d['expiration'],'unreadcount':_0x1178bb?0x0:0x1,..._0x1178bb||_0x2b1fc2?{}:{'name':_0x375a4d[_0x24802e(0x709)]},..._0x2b1fc2?{'group':_0x2b1fc2}:{},...!_0x1178bb&&!_0x2b1fc2&&_0x375a4d[_0x24802e(0x6d7)]?{'imagechat':_0x375a4d['profilePictureUrl']}:{}},_0x39f84c=await this['repository'][_0x24802e(0x496)][_0x24802e(0x3e5)]({'where':{'_id':_0x39f0c1}},_0x3e889e,this[_0x24802e(0x598)][_0x24802e(0x76b)],{'new':!0x0,'upsert':!0x0});if(_0x39f84c[_0x24802e(0x2f2)]){let _0x4f2c0a=await this['repository'][_0x24802e(0x565)][_0x24802e(0x752)]({'where':{}},this[_0x24802e(0x598)]['wuid']),_0x501ca9=new Set(_0x4f2c0a[_0x24802e(0x1ec)](_0xb88070=>_0xb88070[_0x24802e(0x79d)])),_0x9d8cd0=(_0x39f84c[_0x24802e(0x2b6)]?.['etiquetas']||[])[_0x24802e(0x7aa)](_0x3efb79=>_0x501ca9[_0x24802e(0x7b1)](_0x3efb79)),_0x3dc912={'leadInfo.etiquetas':_0x9d8cd0,'imported':!0x1};_0x39f84c=await this[_0x24802e(0x585)][_0x24802e(0x496)][_0x24802e(0x3e5)]({'where':{'_id':_0x39f0c1}},_0x3dc912,this[_0x24802e(0x598)][_0x24802e(0x76b)]);for(let _0x298eff of _0x9d8cd0)await this[_0x24802e(0x1e7)](_0x298eff,_0x39f0c1);}if(!_0x2b1fc2&&(!_0x39f84c?.['leadInfo']||!_0x39f84c[_0x24802e(0x2b6)]['nome'])&&_0x375a4d[_0x24802e(0x709)]&&!_0x1178bb&&(_0x39f84c=await this[_0x24802e(0x585)][_0x24802e(0x496)]['updateOne']({'where':{'_id':_0x39f0c1}},{'leadInfo.nome':_0x375a4d[_0x24802e(0x709)]},this['instance']['wuid'],{'new':!0x0,'upsert':!0x0})),_0x5b4aa9===_0x24802e(0x29d)&&_0x1178bb&&this[_0x24802e(0x728)]?.[_0x24802e(0x7a9)][_0x24802e(0x63a)]&&!_0x2cce7e[_0x24802e(0x67c)](this[_0x24802e(0x728)]?.[_0x24802e(0x7a9)]['prefixCommand'])){let _0x5c10fe=(this[_0x24802e(0x728)]?.[_0x24802e(0x7a9)][_0x24802e(0x296)]||0x5)*0xea60,_0xe76393=Date[_0x24802e(0x5e6)]()+_0x5c10fe;_0x39f84c?.[_0x24802e(0x2b6)]?.[_0x24802e(0x528)]===0x0||(await this[_0x24802e(0x585)][_0x24802e(0x496)]['updateOne']({'where':{'_id':_0x39f0c1}},{'leadInfo.desativadoFluxoAte':_0xe76393},this[_0x24802e(0x598)][_0x24802e(0x76b)],{'new':!0x0,'upsert':!0x1}),this[_0x24802e(0x803)][_0x24802e(0x644)](this[_0x24802e(0x4f7)]+'\x20('+this[_0x24802e(0x598)]['wuid']+_0x24802e(0x2e1)+_0xe76393+'.'));}if(_0x39f84c)J(this[_0x24802e(0x4f7)],_0x24802e(0x48e),{'chat':_0x39f84c});else{this[_0x24802e(0x803)]['error'](this[_0x24802e(0x4f7)]+'\x20('+this[_0x24802e(0x598)]['wuid']+_0x24802e(0x26d));return;}if(!this[_0x24802e(0x728)]?.[_0x24802e(0x7a9)]['enabled'])return this[_0x24802e(0x803)][_0x24802e(0x644)](this['instanceName']+'\x20('+this[_0x24802e(0x598)][_0x24802e(0x76b)]+_0x24802e(0x7c0)),null;if(_0x39f84c[_0x24802e(0x79d)][_0x24802e(0x563)](_0x24802e(0x2c4))&&this[_0x24802e(0x728)]?.[_0x24802e(0x7a9)][_0x24802e(0x390)]===!0x0)return this[_0x24802e(0x803)][_0x24802e(0x644)](this['instanceName']+'\x20('+this['instance'][_0x24802e(0x76b)]+_0x24802e(0x540)),null;if(_0x39f84c[_0x24802e(0x2b6)]){if(_0x39f84c[_0x24802e(0x2b6)][_0x24802e(0x528)]===0x0||_0x39f84c['leadInfo'][_0x24802e(0x508)])return this[_0x24802e(0x803)][_0x24802e(0x644)](this[_0x24802e(0x4f7)]+'\x20('+this[_0x24802e(0x598)][_0x24802e(0x76b)]+_0x24802e(0x2d0)+_0x39f0c1+',\x20saindo.'),null;if(_0x39f84c[_0x24802e(0x2b6)][_0x24802e(0x528)]>Date[_0x24802e(0x5e6)]()&&!_0x375a4d['message_normalized']?.['vote'])return this['logger'][_0x24802e(0x644)](this[_0x24802e(0x4f7)]+'\x20('+this[_0x24802e(0x598)][_0x24802e(0x76b)]+_0x24802e(0x210)+new Date(_0x39f84c[_0x24802e(0x2b6)][_0x24802e(0x528)])[_0x24802e(0x76e)]()+',\x20saindo.'),null;}this[_0x24802e(0x803)][_0x24802e(0x644)](this[_0x24802e(0x4f7)]+'\x20('+this[_0x24802e(0x598)][_0x24802e(0x76b)]+'):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações'),this['StartBot'](_0x5b4aa9,_0x375a4d);}async[a0_0x422c01(0x2d1)](_0x116899,_0x178642){const _0x20ba39=a0_0x422c01;if(_0x178642[_0x20ba39(0x698)]){let _0x1af6da=_0x116899[_0x20ba39(0x1ec)](async _0x24bf8e=>{const _0x7b3408=_0x20ba39;try{let _0x5c894b={'_id':_0x24bf8e['_id'],'owner':_0x24bf8e['owner'],'lastcache':0x0};if(_0x24bf8e[_0x7b3408(0x625)]!==null&&(_0x5c894b[_0x7b3408(0x625)]=_0x24bf8e['group']),_0x24bf8e[_0x7b3408(0x6a7)]!==null&&(_0x5c894b[_0x7b3408(0x6a7)]=_0x24bf8e[_0x7b3408(0x6a7)]),_0x24bf8e[_0x7b3408(0x23c)]!==null&&(_0x5c894b[_0x7b3408(0x23c)]=_0x24bf8e['contactname']),_0x24bf8e[_0x7b3408(0x49a)]!==null&&(_0x5c894b[_0x7b3408(0x49a)]=_0x24bf8e[_0x7b3408(0x49a)]),_0x24bf8e[_0x7b3408(0x49a)]===null&&(_0x5c894b[_0x7b3408(0x49a)]=_0x7b3408(0x3f1)),_0x24bf8e[_0x7b3408(0x5b3)]!==null&&(_0x5c894b[_0x7b3408(0x5b3)]=_0x24bf8e[_0x7b3408(0x5b3)]),_0x24bf8e[_0x7b3408(0x382)]!==null&&(_0x5c894b['archived']=_0x24bf8e[_0x7b3408(0x382)]),_0x24bf8e['unreadcount']!==null&&(_0x5c894b[_0x7b3408(0x185)]=_0x24bf8e[_0x7b3408(0x185)]),Object[_0x7b3408(0x21a)](_0x5c894b)['length']>0x0)return await this[_0x7b3408(0x585)][_0x7b3408(0x496)][_0x7b3408(0x3e5)]({'where':{'_id':_0x24bf8e[_0x7b3408(0x79d)]}},_0x5c894b,this[_0x7b3408(0x598)]['wuid']);}catch(_0x2bdf3d){return console['error'](_0x7b3408(0x51d)+_0x24bf8e[_0x7b3408(0x79d)]+':',_0x2bdf3d),null;}}),_0x3a8950=(await Promise['all'](_0x1af6da))[_0x20ba39(0x7aa)](_0x133f57=>_0x133f57!==null)['length'];this[_0x20ba39(0x803)][_0x20ba39(0x644)](this[_0x20ba39(0x4f7)]+'\x20('+this[_0x20ba39(0x598)][_0x20ba39(0x76b)]+'):\x20'+_0x3a8950+'\x20chats\x20de\x20'+this[_0x20ba39(0x598)]['wuid']+_0x20ba39(0x417));}}async[a0_0x422c01(0x61c)](_0x237d46){const _0x414227=a0_0x422c01;this['logger']['verbose'](this[_0x414227(0x4f7)]+'\x20('+this[_0x414227(0x598)][_0x414227(0x76b)]+_0x414227(0x662));let _0x2719ac={'readMessages':[{'remoteJid':_0x237d46[_0x414227(0x824)][_0x414227(0x300)]['key']['remoteJid'],'fromMe':_0x237d46[_0x414227(0x824)]['lastReceivedMessage']['key']['fromMe'],'id':_0x237d46[_0x414227(0x824)][_0x414227(0x300)][_0x414227(0x254)]['id']}]};await this[_0x414227(0x7bc)](_0x2719ac);}async[a0_0x422c01(0x358)](_0x25c36e,_0x1e2d5f){const _0x2e93aa=a0_0x422c01;try{let {key:_0xb4009e,message_normalized:_0x625889}=_0x1e2d5f,_0x225c82=_0x625889,_0xf8d089=_0x625889['text']||_0x625889[_0x2e93aa(0x439)]||_0x625889[_0x2e93aa(0x59e)]||_0x625889['name'],_0x553f40=_0xb4009e[_0x2e93aa(0x1fe)],_0x414abf;if(_0x225c82['key'][_0x2e93aa(0x7fb)]&&_0xf8d089['trim']()!==this[_0x2e93aa(0x728)]?.['flowConfig'][_0x2e93aa(0x5aa)]['trim']())return this[_0x2e93aa(0x803)][_0x2e93aa(0x644)](this[_0x2e93aa(0x4f7)]+'\x20('+this['instance']['wuid']+_0x2e93aa(0x4ce)),null;if(_0x225c82[_0x2e93aa(0x254)][_0x2e93aa(0x7fb)]&&_0xf8d089['trim']()===this[_0x2e93aa(0x728)]?.[_0x2e93aa(0x7a9)][_0x2e93aa(0x5aa)][_0x2e93aa(0x78f)]()){this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2e93aa(0x598)][_0x2e93aa(0x76b)]+_0x2e93aa(0x567));let _0x39aff2=await this['repository'][_0x2e93aa(0x2e9)][_0x2e93aa(0x752)]({'remoteJid':_0x553f40,'status':_0x2e93aa(0x26c)},this[_0x2e93aa(0x598)][_0x2e93aa(0x76b)]);this['logger'][_0x2e93aa(0x644)](this[_0x2e93aa(0x4f7)]+'\x20('+this[_0x2e93aa(0x598)]['wuid']+_0x2e93aa(0x1ee)+_0x39aff2);let _0x4b7d8f=Date[_0x2e93aa(0x5e6)](),_0x307b0a;return this[_0x2e93aa(0x728)]?.[_0x2e93aa(0x7a9)]['stopMinutes']===0x0?_0x307b0a={'stoppedUntil':_0x4b7d8f+0x7591f6200}:_0x307b0a={'stoppedUntil':_0x4b7d8f+this[_0x2e93aa(0x728)]?.[_0x2e93aa(0x7a9)]['stopMinutes']*0x3c*0x3e8},this[_0x2e93aa(0x803)][_0x2e93aa(0x644)](this[_0x2e93aa(0x4f7)]+'\x20('+this[_0x2e93aa(0x598)][_0x2e93aa(0x76b)]+_0x2e93aa(0x699)+_0x307b0a),this[_0x2e93aa(0x7df)](_0x414abf,_0x307b0a[_0x2e93aa(0x793)]),null;}if(_0xf8d089&&_0xf8d089['startsWith'](this[_0x2e93aa(0x728)]?.['flowConfig'][_0x2e93aa(0x4d0)])&&_0xf8d089['length']>0x4){let _0x52f8ed=await this[_0x2e93aa(0x585)][_0x2e93aa(0x576)][_0x2e93aa(0x64b)]({'where':{'startCommandWord':_0xf8d089}},this['instance'][_0x2e93aa(0x76b)]);if(this[_0x2e93aa(0x803)][_0x2e93aa(0x644)](this[_0x2e93aa(0x4f7)]+'\x20('+this[_0x2e93aa(0x598)]['wuid']+_0x2e93aa(0x1f4)),_0x52f8ed)_0x414abf=await this[_0x2e93aa(0x670)](_0x52f8ed,_0x225c82[_0x2e93aa(0x254)],_0x225c82);else return this['logger'][_0x2e93aa(0x644)](this['instanceName']+'\x20('+this[_0x2e93aa(0x598)]['wuid']+'):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand'),null;}else _0x414abf=await this[_0x2e93aa(0x7d5)](_0x553f40,_0x225c82);if(_0x414abf){this[_0x2e93aa(0x803)][_0x2e93aa(0x644)](this[_0x2e93aa(0x4f7)]+'\x20('+this[_0x2e93aa(0x598)]['wuid']+_0x2e93aa(0x747)),!_0xb4009e['fromMe']&&_0x414abf[_0x2e93aa(0x750)]&&this[_0x2e93aa(0x61c)](_0x414abf);let _0x3ef6c4=await this['NextBlock'](_0x414abf);_0x3ef6c4&&await this['processblock'](_0x414abf,_0x3ef6c4);}}catch(_0x19b7db){this[_0x2e93aa(0x803)][_0x2e93aa(0x820)](this[_0x2e93aa(0x4f7)]+'\x20('+this[_0x2e93aa(0x598)][_0x2e93aa(0x76b)]+_0x2e93aa(0x70e)+(_0x19b7db instanceof Error?_0x19b7db[_0x2e93aa(0x1dc)]:JSON[_0x2e93aa(0x54f)](_0x19b7db,null,0x2)));}}[a0_0x422c01(0x1a7)](_0x6118f7,_0x165131='',_0x37ef6={}){const _0x1f0e40=a0_0x422c01;return typeof _0x6118f7!='object'||_0x6118f7===null?(_0x165131&&(_0x37ef6[_0x165131]=_0x6118f7),_0x37ef6):(Object['entries'](_0x6118f7)['forEach'](([_0x282deb,_0x58d000])=>{const _0x1004a7=a0_0xf27f;let _0xbd74fd=_0x165131?_0x165131+'.'+_0x282deb:'_'+_0x282deb;Array[_0x1004a7(0x20d)](_0x58d000)?_0x58d000['forEach']((_0xe3b1c1,_0x459a70)=>{this['flattenObject'](_0xe3b1c1,_0xbd74fd+'['+_0x459a70+']',_0x37ef6);}):typeof _0x58d000==_0x1004a7(0x1e5)&&_0x58d000!==null?this[_0x1004a7(0x1a7)](_0x58d000,_0xbd74fd,_0x37ef6):_0x37ef6[_0xbd74fd]=String(_0x58d000);}),console[_0x1f0e40(0x7f7)](_0x1f0e40(0x798),_0x37ef6),_0x37ef6);}[a0_0x422c01(0x6c6)](_0x82b9f9){const _0x439859=a0_0x422c01;let _0x42aa06={};for(let _0xd7b75a of _0x82b9f9)typeof _0xd7b75a[_0x439859(0x6a7)]==_0x439859(0x2cc)&&typeof _0xd7b75a[_0x439859(0x7f3)]=='string'&&(_0x42aa06[_0xd7b75a['name']]=_0xd7b75a[_0x439859(0x7f3)]);return _0x42aa06;}async[a0_0x422c01(0x3d5)](_0x2320de){const _0x5e17ca=a0_0x422c01;if(!this[_0x5e17ca(0x728)]?.[_0x5e17ca(0x7a9)][_0x5e17ca(0x63a)]||_0x2320de['status']!==_0x5e17ca(0x26c)&&_0x2320de[_0x5e17ca(0x81b)]==='')return null;let _0x521fac=_0x2320de[_0x5e17ca(0x824)][_0x5e17ca(0x1b1)]||_0x5e17ca(0x819);typeof _0x2320de[_0x5e17ca(0x824)][_0x5e17ca(0x761)]>'u'&&(_0x2320de[_0x5e17ca(0x824)][_0x5e17ca(0x761)]=!0x0);let _0x3cd4d1=_0x2320de['chatLog']['lastCondition'];this[_0x5e17ca(0x803)][_0x5e17ca(0x644)](this[_0x5e17ca(0x4f7)]+'\x20('+this[_0x5e17ca(0x598)][_0x5e17ca(0x76b)]+'):\x20lastBlockId:\x20'+_0x521fac+',\x20lastCondition:\x20'+_0x3cd4d1);let _0x490319=_0x521fac===_0x5e17ca(0x819)?_0x2320de[_0x5e17ca(0x4d6)]['find'](_0x292d47=>_0x292d47['type']==='start'):_0x2320de[_0x5e17ca(0x4d6)][_0x5e17ca(0x752)](_0x44b56a=>_0x44b56a['_id'][_0x5e17ca(0x76f)]()===_0x521fac[_0x5e17ca(0x76f)]());if(!_0x490319)return this[_0x5e17ca(0x803)][_0x5e17ca(0x820)](this['instanceName']+'\x20('+this[_0x5e17ca(0x598)][_0x5e17ca(0x76b)]+'):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20'+_0x521fac),null;let _0x240fed={'_pushName':_0x2320de[_0x5e17ca(0x824)][_0x5e17ca(0x300)][_0x5e17ca(0x709)],..._0x2320de[_0x5e17ca(0x824)][_0x5e17ca(0x1cf)]},_0x37e30d=null;if(_0x2320de[_0x5e17ca(0x81b)]){let _0x13a0dd=_0x2320de[_0x5e17ca(0x824)][_0x5e17ca(0x300)][_0x5e17ca(0x59e)],_0x56ce3d=_0x2320de[_0x5e17ca(0x3b1)][_0x5e17ca(0x752)](_0x28f79b=>_0x28f79b[_0x5e17ca(0x29f)]===_0x13a0dd);if(_0x56ce3d){let _0x43bfed=_0x56ce3d['next_groupId'];if(_0x37e30d=_0x2320de[_0x5e17ca(0x4d6)]['find'](_0x12ff5f=>_0x12ff5f[_0x5e17ca(0x79e)]===_0x43bfed&&_0x12ff5f[_0x5e17ca(0x68b)]===0x1),_0x490319[_0x5e17ca(0x2ff)]['pollOnReplyDelete']){let _0x3045e7={'id':_0x2320de[_0x5e17ca(0x81b)],'remoteJid':_0x2320de[_0x5e17ca(0x1fe)],'fromMe':!0x0};await this['deleteMessage'](_0x3045e7);}if(_0x490319['uazapi']['pollOnReplyDelete']&&_0x490319['uazapi'][_0x5e17ca(0x679)]&&_0x490319[_0x5e17ca(0x2ff)][_0x5e17ca(0x42c)]==='poll'){let _0x4f5243={'number':_0x2320de[_0x5e17ca(0x1fe)],'options':{'delay':0x0},'textMessage':{'text':_0x5e17ca(0x2c3)+_0x2320de[_0x5e17ca(0x5a3)]+_0x5e17ca(0x734)+_0x13a0dd}};await this[_0x5e17ca(0x845)](_0x4f5243);}_0x2320de[_0x5e17ca(0x59d)]=_0x5e17ca(0x26c),_0x2320de[_0x5e17ca(0x81b)]='',_0x2320de['waitingMenu_text']='',_0x2320de[_0x5e17ca(0x3b1)]=[];}else{this[_0x5e17ca(0x803)][_0x5e17ca(0x644)](this[_0x5e17ca(0x4f7)]+'\x20('+this[_0x5e17ca(0x598)][_0x5e17ca(0x76b)]+_0x5e17ca(0x2a8));let _0x58f1cc={'activatedCount':_0x2320de[_0x5e17ca(0x824)]['blockLogs'][_0x5e17ca(0x7aa)](_0x5aa0be=>String(_0x5aa0be[_0x5e17ca(0x4e7)])===String(_0x521fac))[_0x5e17ca(0x623)],'moreLogs':['Não\x20respondeu\x20com\x20a\x20enquete.']};if(_0x490319[_0x5e17ca(0x2ff)][_0x5e17ca(0x828)]){let _0x1bdc4c={'number':_0x2320de[_0x5e17ca(0x1fe)],'options':{'delay':0x0},'textMessage':{'text':_0x490319[_0x5e17ca(0x2ff)][_0x5e17ca(0x828)]}};await this[_0x5e17ca(0x845)](_0x1bdc4c);}if(_0x490319[_0x5e17ca(0x3a8)]!==void 0x0&&_0x58f1cc[_0x5e17ca(0x1c4)]>=_0x490319[_0x5e17ca(0x3a8)]){let _0x7aefec=Date[_0x5e17ca(0x5e6)](),_0x539de2=_0x490319['stopMinutesMaxActives']??0xa;isNaN(_0x539de2)&&(_0x539de2=0xa);let _0x5aac28=_0x7aefec+_0x539de2*0x3c*0x3e8;_0x58f1cc[_0x5e17ca(0x476)]=_0x5aac28,_0x58f1cc[_0x5e17ca(0x45b)][_0x5e17ca(0x484)](_0x5e17ca(0x2ac)),this[_0x5e17ca(0x7df)](_0x2320de,_0x5aac28),_0x2320de[_0x5e17ca(0x81b)]='',_0x2320de[_0x5e17ca(0x5a3)]='',_0x2320de['waitingMenu_replyOptions']=[];}return this[_0x5e17ca(0x371)](_0x2320de,_0x490319,_0x58f1cc,!0x0),null;}}if(_0x3cd4d1&&_0x490319[_0x5e17ca(0x832)]&&!_0x2320de[_0x5e17ca(0x81b)]){let _0x52a10d=_0x2320de[_0x5e17ca(0x4d6)][_0x5e17ca(0x7aa)](_0x34858e=>_0x34858e[_0x5e17ca(0x79e)]['toString']()===_0x490319['next_groupId'][_0x5e17ca(0x76f)]())[_0x5e17ca(0x799)]((_0x3d2a67,_0x1b1d3d)=>_0x3d2a67[_0x5e17ca(0x68b)]-_0x1b1d3d['order']);_0x52a10d[_0x5e17ca(0x623)]>0x0&&(_0x37e30d=_0x52a10d[0x0]);}if(!_0x37e30d){let _0x27b1c3=_0x490319[_0x5e17ca(0x79e)],_0x429cef=_0x2320de[_0x5e17ca(0x4d6)]['filter'](_0x31b9de=>_0x31b9de['groupId']===_0x27b1c3&&_0x31b9de[_0x5e17ca(0x68b)]>_0x490319[_0x5e17ca(0x68b)])[_0x5e17ca(0x799)]((_0x20566b,_0x1d25d7)=>_0x20566b['order']-_0x1d25d7['order']);_0x429cef[_0x5e17ca(0x623)]>0x0&&(_0x37e30d=_0x429cef[0x0]);}if(!_0x37e30d)return _0x2320de[_0x5e17ca(0x59d)]=_0x5e17ca(0x1a4),null;_0x2320de[_0x5e17ca(0x824)][_0x5e17ca(0x1cf)]=_0x240fed;let _0x45f2b1=JSON[_0x5e17ca(0x2e3)](JSON['stringify'](_0x37e30d));return this[_0x5e17ca(0x2ca)](_0x45f2b1,_0x2320de['chatLog'][_0x5e17ca(0x1cf)]),_0x2320de[_0x5e17ca(0x824)][_0x5e17ca(0x1b1)]=_0x45f2b1['_id'],_0x2320de[_0x5e17ca(0x824)]['lastCondition']=!0x0,_0x45f2b1;}[a0_0x422c01(0x79f)](_0x479ab9,_0x31e505){const _0x1d8e34=a0_0x422c01;return _0x479ab9[_0x1d8e34(0x246)](/\{\{([^}]+)\}\}/g,(_0x3796be,_0x22d264)=>_0x31e505[_0x22d264]||'');}[a0_0x422c01(0x2ca)](_0x1b288d,_0x4104b0){const _0xff6485=a0_0x422c01;for(let _0x108f51 in _0x1b288d)typeof _0x1b288d[_0x108f51]==_0xff6485(0x2cc)?_0x1b288d[_0x108f51]=this[_0xff6485(0x79f)](_0x1b288d[_0x108f51],_0x4104b0):typeof _0x1b288d[_0x108f51]=='object'&&this['replaceVariablesInObject'](_0x1b288d[_0x108f51],_0x4104b0);}async[a0_0x422c01(0x3c9)](_0x17cced,_0x388d91){const _0x5a944d=a0_0x422c01;let _0x394eec=_0x388d91['_id'];if(_0x17cced['chatLog']&&_0x17cced[_0x5a944d(0x824)][_0x5a944d(0x454)]){let _0x5c0a32=_0x17cced[_0x5a944d(0x824)][_0x5a944d(0x454)][_0x5a944d(0x7aa)](_0x4b13c8=>String(_0x4b13c8[_0x5a944d(0x4e7)])===String(_0x394eec))['pop']();if(_0x5c0a32&&_0x5c0a32['error']&&_0x388d91[_0x5a944d(0x81c)])return _0x17cced['status']=_0x5a944d(0x1a4),await this[_0x5a944d(0x1f9)](_0x17cced),null;}if(_0x388d91['type']===_0x5a944d(0x2ff)&&_0x388d91[_0x5a944d(0x2ff)][_0x5a944d(0x56f)]===_0x5a944d(0x618)&&_0x17cced[_0x5a944d(0x81b)])return _0x17cced['chatLog']['lastBlockId']=_0x394eec,await this[_0x5a944d(0x1f9)](_0x17cced),null;let _0x3cfc3d=await this[_0x5a944d(0x3d5)](_0x17cced);if(_0x17cced[_0x5a944d(0x824)]&&_0x17cced[_0x5a944d(0x824)][_0x5a944d(0x454)]){let _0x24ec91=_0x17cced['chatLog'][_0x5a944d(0x454)][_0x5a944d(0x7aa)](_0x258ffc=>String(_0x258ffc[_0x5a944d(0x4e7)])===String(_0x394eec))['length'];if(_0x388d91[_0x5a944d(0x3a8)]!==void 0x0&&_0x24ec91>=_0x388d91[_0x5a944d(0x3a8)]){let _0x409467=Date[_0x5a944d(0x5e6)](),_0x1bba99=_0x388d91[_0x5a944d(0x836)]??0xa;isNaN(_0x1bba99)&&(_0x1bba99=0xa);let _0x421087=_0x409467+_0x1bba99*0x3c*0x3e8,_0x480cc0={'newStoppedUntil':_0x421087};return this[_0x5a944d(0x7df)](_0x17cced,_0x421087),this[_0x5a944d(0x371)](_0x17cced,_0x388d91,_0x480cc0,!0x0),null;}}_0x3cfc3d&&_0x3cfc3d[_0x5a944d(0x7f6)]!==_0x5a944d(0x34c)&&await this[_0x5a944d(0x583)](_0x17cced,_0x3cfc3d),_0x3cfc3d||await this[_0x5a944d(0x1f9)](_0x17cced),_0x3cfc3d&&_0x3cfc3d[_0x5a944d(0x7f6)]===_0x5a944d(0x34c)&&(_0x17cced[_0x5a944d(0x824)]['lastBlockId']=_0x394eec,await this[_0x5a944d(0x1f9)](_0x17cced));}async[a0_0x422c01(0x583)](_0x28726a,_0x223bda){const _0x3b6f92=a0_0x422c01;try{let _0x2872d1=_0x223bda[_0x3b6f92(0x7f6)];this[_0x3b6f92(0x803)]['verbose'](this[_0x3b6f92(0x4f7)]+'\x20('+this[_0x3b6f92(0x598)][_0x3b6f92(0x76b)]+'):\x20Going\x20to\x20'+_0x2872d1);let _0x225f4b={'uazapi':()=>this[_0x3b6f92(0x2c2)](_0x28726a,_0x223bda),'save':()=>this[_0x3b6f92(0x7b7)](_0x28726a,_0x223bda),'stop':()=>this['stopConversation'](_0x28726a,_0x223bda),'condition':()=>this[_0x3b6f92(0x43f)](_0x28726a,_0x223bda),'varedit':()=>this[_0x3b6f92(0x267)](_0x28726a,_0x223bda),'apirequest':()=>this['processApiRequest'](_0x28726a,_0x223bda),'goToFlow':()=>this[_0x3b6f92(0x6bb)](_0x28726a,_0x223bda)}[_0x2872d1];_0x225f4b&&await _0x225f4b();}catch(_0x42e2a0){this[_0x3b6f92(0x803)][_0x3b6f92(0x820)](this['instanceName']+'\x20('+this[_0x3b6f92(0x598)][_0x3b6f92(0x76b)]+_0x3b6f92(0x2cf)+(_0x42e2a0 instanceof Error?_0x42e2a0['message']:JSON[_0x3b6f92(0x54f)](_0x42e2a0,null,0x2)));}}async[a0_0x422c01(0x6bb)](_0x3ea568,_0x9127ad){const _0x327b00=a0_0x422c01;if(this[_0x327b00(0x803)][_0x327b00(0x644)](this[_0x327b00(0x4f7)]+'\x20('+this['instance'][_0x327b00(0x76b)]+'):\x20Entrou\x20na\x20função\x20goToFlow'),!_0x3ea568||!_0x9127ad)return this['logger'][_0x327b00(0x820)](this['instanceName']+'\x20('+this[_0x327b00(0x598)][_0x327b00(0x76b)]+_0x327b00(0x520)),null;await this[_0x327b00(0x371)](_0x3ea568,_0x9127ad,{},!0x0,!0x0),console[_0x327b00(0x7f7)](_0x327b00(0x243)),console[_0x327b00(0x7f7)](_0x9127ad);let _0x5ad8e2=_0x9127ad[_0x327b00(0x363)];console['log'](_0x327b00(0x3c2),_0x5ad8e2),_0x3ea568=await this[_0x327b00(0x7c5)](_0x5ad8e2,_0x3ea568[_0x327b00(0x1fe)],_0x3ea568[_0x327b00(0x824)][_0x327b00(0x1cf)]),this[_0x327b00(0x803)][_0x327b00(0x644)](this[_0x327b00(0x4f7)]+'\x20('+this['instance'][_0x327b00(0x76b)]+'):\x20Criada\x20conversa\x20nova\x20(gotoflow)');let _0x2cb88c=await this[_0x327b00(0x3d5)](_0x3ea568);_0x2cb88c&&await this['processblock'](_0x3ea568,_0x2cb88c);}async['createConversationforgoToFlow'](_0x40c295,_0x520dc4,_0x430b7f){const _0x539834=a0_0x422c01;this[_0x539834(0x803)][_0x539834(0x644)](this[_0x539834(0x4f7)]+'\x20('+this[_0x539834(0x598)]['wuid']+_0x539834(0x42f));try{if(_0x40c295=await this[_0x539834(0x585)][_0x539834(0x576)][_0x539834(0x64b)]({'where':{'name':_0x40c295}},this['instance'][_0x539834(0x76b)]),!_0x40c295)return this[_0x539834(0x803)][_0x539834(0x820)](this[_0x539834(0x4f7)]+'\x20('+this[_0x539834(0x598)][_0x539834(0x76b)]+_0x539834(0x775)),null;let _0x5efabe=require(_0x539834(0x470))[_0x539834(0x5b2)],_0x4171cd=Date[_0x539834(0x5e6)](),_0x4d8747='start',_0x1c0108={},_0x19bdb3={},_0x5645c1={..._0x40c295,'chatLog':null},_0x5ee40d={'lastReceivedMessage':_0x1c0108,'lastSendMessage':_0x19bdb3,'lastBlockId':_0x4d8747,'lastCondition':!0x0,'realVariables':_0x430b7f};_0x5645c1['chatLog']=_0x5ee40d,_0x5645c1[_0x539834(0x824)][_0x539834(0x1cf)]={..._0x430b7f},delete _0x5645c1['_id'],_0x5645c1[_0x539834(0x79d)]=new _0x5efabe(),_0x5645c1[_0x539834(0x2c1)]=_0x4171cd,_0x5645c1[_0x539834(0x59d)]='open',_0x5645c1[_0x539834(0x1fe)]=_0x520dc4;let _0x12f269=await this[_0x539834(0x585)]['flowConversation'][_0x539834(0x3e5)](_0x5645c1[_0x539834(0x79d)],_0x5645c1,this[_0x539834(0x598)][_0x539834(0x76b)]);return this['logger']['verbose'](this[_0x539834(0x4f7)]+'\x20('+this['instance']['wuid']+_0x539834(0x183)),_0x12f269?_0x5645c1:null;}catch(_0xade988){throw this[_0x539834(0x803)]['error'](this[_0x539834(0x4f7)]+'\x20('+this[_0x539834(0x598)]['wuid']+'):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20'+(_0xade988 instanceof Error?_0xade988[_0x539834(0x1dc)]:JSON[_0x539834(0x54f)](_0xade988,null,0x2))),new w(_0xade988[_0x539834(0x1dc)]);}}async[a0_0x422c01(0x5e4)](_0x48021a,_0xcbb87c){const _0x345e83=a0_0x422c01;let _0x583e73,_0x59d4f4;try{let _0x53bf2b=_0xcbb87c[_0x345e83(0x5c9)];if(!_0x53bf2b||!_0x53bf2b[_0x345e83(0x54c)]||!_0x53bf2b[_0x345e83(0x3e4)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x5ad8ec;([_0x345e83(0x1da),_0x345e83(0x381),_0x345e83(0x285)][_0x345e83(0x568)](_0x150183=>_0x53bf2b[_0x345e83(0x54c)][_0x345e83(0x563)](_0x150183))||_0x53bf2b[_0x345e83(0x1c7)])&&(_0x5ad8ec=_0x345e83(0x677));let _0x509f88='\u205f',_0x512ee9;try{_0x512ee9=JSON[_0x345e83(0x2e3)](_0x53bf2b['bodyString'][_0x345e83(0x246)](new RegExp(_0x509f88,'g'),''));}catch(_0x4fde7d){throw _0x4fde7d;}let _0xf7498e={'method':_0x53bf2b[_0x345e83(0x3e4)],'url':_0x53bf2b[_0x345e83(0x54c)],'headers':_0x53bf2b['header']||{},..._0x53bf2b[_0x345e83(0x3e4)][_0x345e83(0x6cb)]()!==_0x345e83(0x560)&&_0x53bf2b[_0x345e83(0x5eb)]?{'data':JSON[_0x345e83(0x2e3)](_0x53bf2b['bodyString'][_0x345e83(0x246)](new RegExp(_0x509f88,'g'),''))}:{},..._0x5ad8ec&&{'responseType':_0x5ad8ec}},_0x29805e=await(0x0,K[_0x345e83(0x849)])(_0xf7498e),_0x552e4c=_0x29805e['headers'][_0x345e83(0x68d)];if(_0x552e4c&&_0x552e4c[_0x345e83(0x563)](_0x345e83(0x745))||typeof _0x29805e['data']=='string'){if(typeof _0x29805e[_0x345e83(0x749)]==_0x345e83(0x2cc)){let _0x3adfa7=_0x29805e[_0x345e83(0x749)][_0x345e83(0x246)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x583e73=JSON[_0x345e83(0x2e3)](_0x3adfa7);}catch(_0x1d236b){console[_0x345e83(0x820)](_0x345e83(0x351)+_0x1d236b['message']),_0x583e73={'_apiResponse':_0x29805e[_0x345e83(0x749)]};}}else _0x583e73=_0x29805e[_0x345e83(0x749)];let _0x165737=_0x48021a[_0x345e83(0x824)]['realVariables'],_0x158901=this[_0x345e83(0x1a7)](_0x583e73);return Object[_0x345e83(0x7d1)](_0x165737,_0x158901),_0x48021a[_0x345e83(0x824)][_0x345e83(0x1cf)]=_0x165737,_0x59d4f4={'error':!0x1,'apiResponse':_0x583e73},this['updateConversation'](_0x48021a,_0xcbb87c,_0x59d4f4),_0x583e73;}if(_0x552e4c&&(_0x552e4c[_0x345e83(0x563)]('application/octet-stream')||_0x552e4c['includes'](_0x345e83(0x1f5))||_0x552e4c[_0x345e83(0x563)]('audio')||_0x552e4c[_0x345e83(0x563)](_0x345e83(0x5d2)))){this[_0x345e83(0x803)]['verbose'](this[_0x345e83(0x4f7)]+'\x20('+this['instance']['wuid']+'):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20'+_0x552e4c);let _0x22dd5b=(0x0,Lt['v4'])(),_0x216a7c='',_0x129c6c={'image/jpeg':_0x345e83(0x6fd),'image/png':_0x345e83(0x399),'image/gif':_0x345e83(0x31e),'image/webp':_0x345e83(0x6bc),'image/svg+xml':_0x345e83(0x5ea),'audio/mpeg':'.mp3','audio/ogg':_0x345e83(0x710),'audio/wav':_0x345e83(0x407),'video/mp4':_0x345e83(0x6c4),'video/webm':'.webm','video/ogg':'.ogv','text/plain':_0x345e83(0x526),'application/pdf':_0x345e83(0x21f),'application/msword':_0x345e83(0x211),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x345e83(0x652),'application/vnd.ms-excel':_0x345e83(0x669),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':_0x345e83(0x1c2),'application/vnd.ms-powerpoint':_0x345e83(0x405),'application/vnd.openxmlformats-officedocument.presentationml.presentation':_0x345e83(0x1ce)};_0x129c6c[_0x552e4c]?(_0x216a7c=_0x129c6c[_0x552e4c],this[_0x345e83(0x803)][_0x345e83(0x644)](this[_0x345e83(0x4f7)]+'\x20('+this[_0x345e83(0x598)][_0x345e83(0x76b)]+_0x345e83(0x6c5)+_0x216a7c)):(_0x216a7c=_0x345e83(0x575),this['logger'][_0x345e83(0x644)](this[_0x345e83(0x4f7)]+'\x20('+this[_0x345e83(0x598)][_0x345e83(0x76b)]+_0x345e83(0x422)+_0x216a7c)),_0x22dd5b+=_0x216a7c,this[_0x345e83(0x803)][_0x345e83(0x644)](this[_0x345e83(0x4f7)]+'\x20('+this[_0x345e83(0x598)][_0x345e83(0x76b)]+_0x345e83(0x1dd)+_0x22dd5b);let _0x4e0f02=this[_0x345e83(0x63c)][_0x345e83(0x5a1)](_0x345e83(0x1cc))[_0x345e83(0x214)];if(!_0x4e0f02){let _0x1d9e50=this[_0x345e83(0x63c)][_0x345e83(0x5a1)](_0x345e83(0x215));_0x4e0f02=_0x345e83(0x21c)+(_0x1d9e50&&_0x1d9e50[_0x345e83(0x24a)][_0x345e83(0x1e1)]('/')[0x4]);}let _0x39f535=Buffer[_0x345e83(0x52c)](_0x29805e[_0x345e83(0x749)]);await this[_0x345e83(0x79a)](_0x39f535,_0x22dd5b);let _0xe5f68=_0x345e83(0x4aa)+_0x22dd5b;_0xe5f68=''+_0x4e0f02+_0xe5f68,_0x583e73={'fileUrl':_0xe5f68},_0x48021a['chatLog'][_0x345e83(0x1cf)]['fileUrl']=_0xe5f68;let _0x3fe05d=_0x48021a[_0x345e83(0x824)][_0x345e83(0x1cf)],_0x21bcff=this['flattenObject'](_0x583e73);return Object[_0x345e83(0x7d1)](_0x3fe05d,_0x21bcff),_0x48021a[_0x345e83(0x824)][_0x345e83(0x1cf)]=_0x3fe05d,_0x59d4f4={'error':!0x1,'apiResponse':{'fileUrl':_0xe5f68}},this[_0x345e83(0x371)](_0x48021a,_0xcbb87c,_0x59d4f4),_0x583e73;}}catch(_0x2d0c50){console[_0x345e83(0x820)](_0x345e83(0x2c8),_0x2d0c50[_0x345e83(0x1dc)]),_0x2d0c50['response']&&(_0x583e73=_0x2d0c50[_0x345e83(0x6b2)]['data']);let _0x4426be=_0x48021a['chatLog']['realVariables'],_0x42fd21=this['flattenObject'](_0x583e73);return Object['assign'](_0x4426be,_0x42fd21),_0x48021a[_0x345e83(0x824)]['realVariables']=_0x4426be,_0x59d4f4={'error':!0x0,'errorLog':_0x2d0c50[_0x345e83(0x76f)](),'apiResponse':_0x583e73},this['updateConversation'](_0x48021a,_0xcbb87c,_0x59d4f4),{'success':!0x1};}}[a0_0x422c01(0x3ef)](_0x1f6fe1,_0x326d44){const _0x3f2933=a0_0x422c01;let _0x3803c9=_0x3c86d1=>{const _0xfb1ef6=a0_0xf27f;let _0x58dd52=_0x3c86d1[_0xfb1ef6(0x246)](/[^0-9.,-]/g,'')[_0xfb1ef6(0x246)](',','.'),_0x3f1acb=parseFloat(_0x58dd52);return isNaN(_0x3f1acb)?null:_0x3f1acb;},_0x2277a9=_0x326d44[_0x3f2933(0x440)],_0xbb6920=_0x326d44[_0x3f2933(0x83e)];typeof _0x2277a9==_0x3f2933(0x2cc)&&(_0x2277a9=this[_0x3f2933(0x79f)](_0x2277a9,_0x1f6fe1[_0x3f2933(0x824)][_0x3f2933(0x1cf)])??''),typeof _0xbb6920=='string'&&(_0xbb6920=this[_0x3f2933(0x79f)](_0xbb6920,_0x1f6fe1[_0x3f2933(0x824)]['realVariables'])??'');let _0x34fe06=null;if(!_0x326d44[_0x3f2933(0x783)])return null;switch(this[_0x3f2933(0x803)][_0x3f2933(0x644)](this[_0x3f2933(0x4f7)]+'\x20('+this[_0x3f2933(0x598)][_0x3f2933(0x76b)]+_0x3f2933(0x3f3)+_0x2277a9),this[_0x3f2933(0x803)][_0x3f2933(0x644)](this[_0x3f2933(0x4f7)]+'\x20('+this['instance'][_0x3f2933(0x76b)]+'):\x20newSecondValue\x20após\x20replaceVariables:'+_0xbb6920),_0x326d44[_0x3f2933(0x783)]){case'+':case'-':case'*':case'/':let _0x2b4d1f=_0x3803c9(_0x2277a9||'0'),_0x15c942=_0x3803c9(_0xbb6920||'0');if(_0x2b4d1f===null)return null;switch(_0x326d44[_0x3f2933(0x783)]){case'+':_0x34fe06=_0x2b4d1f+(_0x15c942??0x0);break;case'-':_0x34fe06=_0x2b4d1f-(_0x15c942??0x0);break;case'*':_0x34fe06=_0x2b4d1f*(_0x15c942??0x1);break;case'/':_0x15c942!==0x0&&(_0x34fe06=_0x2b4d1f/(_0x15c942??0x1));break;}break;case'findAndReplace':case _0x3f2933(0x3f9):let _0x5e8531=_0xbb6920,_0x5cf4da=_0x326d44[_0x3f2933(0x4f1)];if(typeof _0x5cf4da=='string'&&(_0x5cf4da=this[_0x3f2933(0x79f)](_0x5cf4da,_0x1f6fe1[_0x3f2933(0x824)]['realVariables'])??''),_0x5e8531&&_0x5cf4da!==void 0x0){let _0x18d123=_0x326d44[_0x3f2933(0x783)]==='findAndReplace'?new RegExp(_0x5e8531[_0x3f2933(0x246)](/[-\/\\^$*+?.()|[\]{}]/g,'\x5c$&'),'g'):new RegExp(_0x5e8531,'g');_0x34fe06=_0x2277a9['replace'](_0x18d123,_0x5cf4da);}else console[_0x3f2933(0x5de)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x3f2933(0x69c):_0x34fe06=_0xbb6920;break;case _0x3f2933(0x424):let _0x56d201=_0x2277a9[_0x3f2933(0x22e)](new RegExp(_0xbb6920||''));_0x34fe06=_0x56d201?_0x56d201[0x0]:'';break;case _0x3f2933(0x59f):_0x34fe06=_0x2277a9['slice'](0x0,parseInt(_0xbb6920||'0'));break;case'truncatedtoEnd':let _0x3f3574=parseInt(_0xbb6920||'0');_0x34fe06=_0x2277a9[_0x3f2933(0x338)](_0x2277a9['length']-_0x3f3574);break;case _0x3f2933(0x5c8):let _0x3bec8e=_0x3803c9(_0x2277a9),_0x42de8f=parseInt(_0xbb6920||'0');_0x42de8f=Math[_0x3f2933(0x1ed)](_0x42de8f),_0x3bec8e!==null?_0x34fe06=_0x3bec8e[_0x3f2933(0x76e)](_0x3f2933(0x737),{'minimumFractionDigits':_0x42de8f,'maximumFractionDigits':_0x42de8f}):(console['warn']('Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20'+_0x2277a9),_0x34fe06=null);break;case _0x3f2933(0x5ec):let _0x3810c1=_0x3803c9(_0x2277a9);_0x3810c1!==null?_0x34fe06=_0x3810c1['toLocaleString'](_0x3f2933(0x737),{'style':_0x3f2933(0x82c),'currency':'BRL'}):(console[_0x3f2933(0x5de)](_0x3f2933(0x1a8)+_0x2277a9),_0x34fe06=null);break;case'upperCase':_0x34fe06=_0x2277a9[_0x3f2933(0x6cb)]();break;case _0x3f2933(0x394):_0x34fe06=_0x2277a9[_0x3f2933(0x2e8)]();break;case'capitalizedWords':_0x34fe06=_0x2277a9[_0x3f2933(0x1e1)]('\x20')['map'](_0x1a6d86=>_0x1a6d86[_0x3f2933(0x37e)](0x0)[_0x3f2933(0x6cb)]()+_0x1a6d86[_0x3f2933(0x338)](0x1)[_0x3f2933(0x2e8)]())[_0x3f2933(0x465)]('\x20');break;case'trimmed':_0x34fe06=_0x2277a9[_0x3f2933(0x78f)]();break;default:_0x34fe06=_0x2277a9;}return _0x34fe06!==null?_0x34fe06[_0x3f2933(0x76f)]():null;}async[a0_0x422c01(0x267)](_0x344480,_0x33e03e){const _0x2e1583=a0_0x422c01;try{let _0x3b58f2=_0x344480[_0x2e1583(0x37f)]?.[_0x2e1583(0x7aa)](_0x231d21=>_0x231d21['blockId']===_0x33e03e[_0x2e1583(0x79d)]?.[_0x2e1583(0x76f)]())||[],_0x420f7e=_0x33e03e['saveVariable'],_0x3f282d=null,_0x48d7b2=[],_0x3cf45f=_0x344480['chatLog']['realVariables'][_0x420f7e];_0x48d7b2['push'](_0x2e1583(0x74b)+_0x3cf45f+'\x22');for(let _0x12974d of _0x3b58f2){_0x12974d[_0x2e1583(0x440)]=_0x3cf45f,_0x3f282d=_0x12974d['firstValue'];let _0x41a9e6;try{_0x41a9e6=this[_0x2e1583(0x3ef)](_0x344480,_0x12974d);}catch(_0x45ff9d){console[_0x2e1583(0x820)](_0x2e1583(0x213)+_0x45ff9d['message']);continue;}if(_0x41a9e6!==null){let _0x3aabf3=_0x2e1583(0x6c7)+_0x12974d[_0x2e1583(0x783)]+'\x22',_0x49587d=[_0x2e1583(0x5ec),'upperCase',_0x2e1583(0x394),_0x2e1583(0x609),_0x2e1583(0x2eb)];_0x12974d[_0x2e1583(0x783)]==='findAndReplace'||_0x12974d[_0x2e1583(0x783)]==='findAndReplaceRegex'?_0x3aabf3+=_0x2e1583(0x7cf)+_0x12974d[_0x2e1583(0x83e)]+_0x2e1583(0x299)+_0x12974d['replaceValue']+'\x22':!_0x49587d['includes'](_0x12974d[_0x2e1583(0x783)])&&_0x12974d[_0x2e1583(0x83e)]!==null&&_0x12974d[_0x2e1583(0x83e)]!==void 0x0&&(_0x3aabf3+=',\x20valor\x20passado:\x20\x22'+_0x12974d[_0x2e1583(0x83e)]+'\x22'),_0x3aabf3+=_0x2e1583(0x54e)+_0x41a9e6+'.',_0x48d7b2[_0x2e1583(0x484)](_0x3aabf3);}_0x41a9e6!==null&&(_0x3cf45f=_0x41a9e6);}if(_0x344480[_0x2e1583(0x824)][_0x2e1583(0x1cf)]&&_0x33e03e[_0x2e1583(0x453)]){_0x344480[_0x2e1583(0x824)][_0x2e1583(0x1cf)][_0x33e03e['saveVariable']]=_0x3cf45f;let _0x5c0df={'variable':_0x33e03e['saveVariable'],'oldValue':_0x3f282d,'newValue':_0x3cf45f,'moreLogs':_0x48d7b2};try{this[_0x2e1583(0x371)](_0x344480,_0x33e03e,_0x5c0df);}catch(_0x492b80){console[_0x2e1583(0x820)](_0x2e1583(0x4df)+_0x492b80[_0x2e1583(0x1dc)]);}}return _0x420f7e;}catch(_0x3ab5ed){return console[_0x2e1583(0x820)](_0x2e1583(0x531)+_0x3ab5ed[_0x2e1583(0x1dc)]),null;}}async[a0_0x422c01(0x43f)](_0x5157a2,_0x5efe56){const _0x59d195=a0_0x422c01;try{let _0x138827=[],_0x25ddcb=_0x5157a2[_0x59d195(0x776)]['filter'](_0x466b25=>_0x466b25[_0x59d195(0x4e7)]===_0x5efe56['_id'][_0x59d195(0x76f)]()),_0x3dd843=null,_0x299216=!0x1;for(let _0x16bb23 of _0x25ddcb){let _0x453309=this[_0x59d195(0x3d0)](_0x5157a2,_0x16bb23);_0x138827['push']('Primeiro\x20Valor:\x20'+_0x16bb23[_0x59d195(0x440)]+_0x59d195(0x549)+_0x16bb23[_0x59d195(0x43b)]+_0x59d195(0x4b8)+_0x16bb23[_0x59d195(0x83e)]+',\x20Resultado:\x20'+_0x453309),_0x3dd843===null?_0x3dd843=_0x453309:_0x16bb23[_0x59d195(0x6b3)]==='and'?(_0x3dd843=_0x3dd843&&_0x453309,_0x453309||(_0x299216=!0x0)):_0x16bb23[_0x59d195(0x6b3)]==='or'&&(_0x299216||(_0x3dd843=_0x3dd843||_0x453309));}_0x3dd843===null&&(_0x3dd843=!0x0);let _0x11c0e6={'moreLogs':_0x138827};_0x5157a2[_0x59d195(0x824)][_0x59d195(0x761)]=_0x3dd843,await this[_0x59d195(0x371)](_0x5157a2,_0x5efe56,_0x11c0e6);}catch(_0x16f20e){this[_0x59d195(0x803)][_0x59d195(0x820)](this[_0x59d195(0x4f7)]+'\x20('+this[_0x59d195(0x598)][_0x59d195(0x76b)]+_0x59d195(0x527)+(_0x16f20e instanceof Error?_0x16f20e[_0x59d195(0x1dc)]:JSON['stringify'](_0x16f20e,null,0x2)));}}[a0_0x422c01(0x3d0)](_0x392087,_0x25794b){const _0x48aeb1=a0_0x422c01;let _0x2d23c0=_0x25794b['firstValue'],_0x10b9a2=_0x25794b[_0x48aeb1(0x83e)];typeof _0x2d23c0==_0x48aeb1(0x2cc)&&(_0x2d23c0=this['replaceVariables'](_0x2d23c0,_0x392087[_0x48aeb1(0x824)][_0x48aeb1(0x1cf)])??''),typeof _0x10b9a2==_0x48aeb1(0x2cc)&&(_0x10b9a2=this['replaceVariables'](_0x10b9a2,_0x392087[_0x48aeb1(0x824)][_0x48aeb1(0x1cf)])??'');try{switch(_0x25794b[_0x48aeb1(0x43b)]){case'equal':return _0x2d23c0===_0x10b9a2;case'notEqual':return _0x2d23c0!==_0x10b9a2;case'contains':return this[_0x48aeb1(0x345)](_0x2d23c0,_0x10b9a2);case'notContains':return!this['contains'](_0x2d23c0,_0x10b9a2);case'greater':return parseFloat(_0x2d23c0)>parseFloat(_0x10b9a2);case _0x48aeb1(0x468):return parseFloat(_0x2d23c0)<parseFloat(_0x10b9a2);case'notEmpty':return _0x2d23c0!=='';case _0x48aeb1(0x71b):return _0x2d23c0==='';case _0x48aeb1(0x683):return new RegExp(_0x10b9a2)[_0x48aeb1(0x2fe)](_0x2d23c0);case _0x48aeb1(0x839):return!new RegExp(_0x10b9a2)['test'](_0x2d23c0);default:return!0x1;}}catch(_0xcddcbf){return console[_0x48aeb1(0x820)]('Erro\x20ao\x20avaliar\x20a\x20condição:\x20'+_0xcddcbf),!0x1;}}[a0_0x422c01(0x345)](_0x181112,_0x210970){const _0x52d9b3=a0_0x422c01;if(_0x181112===_0x210970&&/^\d+$/[_0x52d9b3(0x2fe)](_0x181112))return!0x0;if(this[_0x52d9b3(0x3f8)](_0x181112)&&/^\d+$/[_0x52d9b3(0x2fe)](_0x210970)){let _0x51cd49=_0x181112['split'](',')[_0x52d9b3(0x1ec)](_0x9a5ad8=>parseInt(_0x9a5ad8[_0x52d9b3(0x78f)]())),_0x452341=parseInt(_0x210970);return _0x51cd49[_0x52d9b3(0x563)](_0x452341);}return _0x181112[_0x52d9b3(0x563)](_0x210970);}[a0_0x422c01(0x3f8)](_0x2023a1){return/^\d+(,\d+)*$/['test'](_0x2023a1);}[a0_0x422c01(0x61b)](_0x2a4c8c){const _0x5208e6=a0_0x422c01;let _0x188141=!0x0,_0x4ec542=null;for(let _0x16f6c9 of _0x2a4c8c){let _0x2cfaf5=this[_0x5208e6(0x2fd)](_0x16f6c9);if(_0x4ec542==='or'&&_0x2cfaf5){_0x188141=!0x0;break;}if(_0x4ec542==='and'&&!_0x2cfaf5){_0x188141=!0x1;break;}_0x4ec542=_0x16f6c9['OrAnd'];}return _0x188141;}[a0_0x422c01(0x2fd)](_0x50c940){const _0x251154=a0_0x422c01;let _0x2fa878=_0x50c940[_0x251154(0x440)],_0x18f4bd=_0x50c940[_0x251154(0x83e)];try{switch(_0x50c940[_0x251154(0x43b)]){case _0x251154(0x234):return String(_0x2fa878)===String(_0x18f4bd);case _0x251154(0x492):return String(_0x2fa878)!==String(_0x18f4bd);case _0x251154(0x345):return String(_0x2fa878)[_0x251154(0x563)](String(_0x18f4bd));case _0x251154(0x4de):return!String(_0x2fa878)['includes'](String(_0x18f4bd));case _0x251154(0x1f7):return parseFloat(String(_0x2fa878))>parseFloat(String(_0x18f4bd));case _0x251154(0x468):return parseFloat(String(_0x2fa878))<parseFloat(String(_0x18f4bd));case'notEmpty':return String(_0x2fa878)!=='';case _0x251154(0x71b):return String(_0x2fa878)==='';case _0x251154(0x683):return new RegExp(String(_0x18f4bd))[_0x251154(0x2fe)](String(_0x2fa878));case _0x251154(0x839):return!new RegExp(String(_0x18f4bd))[_0x251154(0x2fe)](String(_0x2fa878));default:return!0x1;}}catch(_0xeaa1b6){return console[_0x251154(0x820)](_0x251154(0x276)+_0xeaa1b6),!0x1;}}async[a0_0x422c01(0x7b7)](_0x1acc88,_0x229025){const _0x39f44e=a0_0x422c01;if(this[_0x39f44e(0x803)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x39f44e(0x76b)]+_0x39f44e(0x4b1)),!_0x1acc88||!_0x229025)return this['logger'][_0x39f44e(0x820)](this['instanceName']+'\x20('+this[_0x39f44e(0x598)][_0x39f44e(0x76b)]+_0x39f44e(0x520)),null;let _0x3a4934=_0x1acc88['chatLog'][_0x39f44e(0x300)][_0x39f44e(0x254)]['id'];this['logger'][_0x39f44e(0x644)](this['instanceName']+'\x20('+this[_0x39f44e(0x598)]['wuid']+_0x39f44e(0x7e3)+_0x3a4934);let _0x3c643e={'key':{'id':_0x3a4934}},_0x1f6188=_0x229025[_0x39f44e(0x453)];_0x1acc88[_0x39f44e(0x824)][_0x39f44e(0x1cf)]['_'+_0x1f6188+_0x39f44e(0x7d6)]=null,_0x1acc88['chatLog'][_0x39f44e(0x1cf)]['_'+_0x1f6188+_0x39f44e(0x463)]=null,_0x1acc88[_0x39f44e(0x824)]['realVariables']['_'+_0x1f6188+_0x39f44e(0x3d8)]=null,_0x1acc88[_0x39f44e(0x824)][_0x39f44e(0x1cf)]['_'+_0x1f6188+_0x39f44e(0x529)]=_0x1acc88[_0x39f44e(0x824)]['lastReceivedMessage']['type'];try{let _0x270e73=await this[_0x39f44e(0x6f2)](_0x3c643e);this[_0x39f44e(0x803)][_0x39f44e(0x644)](this[_0x39f44e(0x4f7)]+'\x20('+this[_0x39f44e(0x598)][_0x39f44e(0x76b)]+_0x39f44e(0x49f)),_0x1acc88[_0x39f44e(0x824)][_0x39f44e(0x1cf)]['_'+_0x1f6188+'.url']=_0x270e73[_0x39f44e(0x312)],_0x1acc88['chatLog'][_0x39f44e(0x1cf)]['_'+_0x1f6188+_0x39f44e(0x463)]=_0x270e73[_0x39f44e(0x33a)];let _0x433063=_0x270e73[_0x39f44e(0x33a)]['match'](/\/(\w+)$/),_0x193fff=_0x433063?_0x433063[0x1]:null;_0x1acc88[_0x39f44e(0x824)]['realVariables']['_'+_0x1f6188+'.extension']=_0x193fff,this[_0x39f44e(0x803)][_0x39f44e(0x644)](this[_0x39f44e(0x4f7)]+'\x20('+this[_0x39f44e(0x598)][_0x39f44e(0x76b)]+_0x39f44e(0x48c)+_0x1f6188+'\x27.');}catch(_0x36519a){this[_0x39f44e(0x803)][_0x39f44e(0x820)](this[_0x39f44e(0x4f7)]+'\x20('+this[_0x39f44e(0x598)][_0x39f44e(0x76b)]+_0x39f44e(0x64d)+_0x36519a);}let _0x39627b=_0x1acc88[_0x39f44e(0x824)]['lastReceivedMessage'][_0x39f44e(0x4e4)]||_0x1acc88[_0x39f44e(0x824)][_0x39f44e(0x300)][_0x39f44e(0x439)]||_0x1acc88[_0x39f44e(0x824)][_0x39f44e(0x300)][_0x39f44e(0x59e)];try{_0x1acc88['chatLog'][_0x39f44e(0x1cf)]||(_0x1acc88[_0x39f44e(0x824)][_0x39f44e(0x1cf)]={});let _0x535de6=_0x1acc88[_0x39f44e(0x824)][_0x39f44e(0x1cf)][_0x1f6188];_0x1acc88['chatLog'][_0x39f44e(0x1cf)][_0x1f6188]=_0x39627b;let _0x3af021={'variable':_0x1f6188,'oldValue':_0x535de6,'newValue':_0x39627b};this[_0x39f44e(0x371)](_0x1acc88,_0x229025,_0x3af021),this[_0x39f44e(0x803)]['verbose'](this[_0x39f44e(0x4f7)]+'\x20('+this[_0x39f44e(0x598)][_0x39f44e(0x76b)]+'):\x20Conversa\x20atualizada\x20em\x20memória');}catch(_0xd125f4){let _0x1f786d={'error':!0x0,'errorLog':_0xd125f4[_0x39f44e(0x76f)]()};return this[_0x39f44e(0x371)](_0x1acc88,_0x229025,_0x1f786d),this[_0x39f44e(0x803)]['error'](this[_0x39f44e(0x4f7)]+'\x20('+this[_0x39f44e(0x598)][_0x39f44e(0x76b)]+_0x39f44e(0x22b)+(_0xd125f4 instanceof Error?_0xd125f4['message']:JSON[_0x39f44e(0x54f)](_0xd125f4,null,0x2))),null;}}async[a0_0x422c01(0x5aa)](_0x55864d,_0x26f4e8){const _0x13f813=a0_0x422c01;if(this['logger']['verbose'](this[_0x13f813(0x4f7)]+'\x20('+this[_0x13f813(0x598)][_0x13f813(0x76b)]+_0x13f813(0x764)),!_0x55864d||!_0x26f4e8)return this[_0x13f813(0x803)]['error'](this[_0x13f813(0x4f7)]+'\x20('+this[_0x13f813(0x598)][_0x13f813(0x76b)]+_0x13f813(0x520)),null;let _0x2d2831=Date[_0x13f813(0x5e6)](),_0x408fef=parseInt(_0x26f4e8[_0x13f813(0x7c3)],0xa);if(isNaN(_0x408fef))return this['logger'][_0x13f813(0x820)](this['instanceName']+'\x20('+this[_0x13f813(0x598)][_0x13f813(0x76b)]+_0x13f813(0x689)),null;let _0x1a558a={'newStoppedUntil':_0x2d2831+_0x408fef*0x3c*0x3e8};return await this[_0x13f813(0x371)](_0x55864d,_0x26f4e8,_0x1a558a,!0x0),null;}async[a0_0x422c01(0x2c2)](_0x46c00e,_0x471c62){const _0x25ba18=a0_0x422c01;try{switch(_0x471c62[_0x25ba18(0x2ff)][_0x25ba18(0x56f)]){case _0x25ba18(0x3df):await this[_0x25ba18(0x548)](_0x46c00e,_0x471c62);break;case _0x25ba18(0x34b):await this['uazapiSendMedia'](_0x46c00e,_0x471c62);break;case _0x25ba18(0x724):await this['uazapiSendLocation'](_0x46c00e,_0x471c62);break;case _0x25ba18(0x62d):await this[_0x25ba18(0x248)](_0x46c00e,_0x471c62);break;case _0x25ba18(0x6f1):await this[_0x25ba18(0x692)](_0x46c00e,_0x471c62);break;case _0x25ba18(0x618):await this['uazapiSendMenu'](_0x46c00e,_0x471c62);break;case _0x25ba18(0x1d1):await this[_0x25ba18(0x50a)](_0x46c00e,_0x471c62);break;case'deleteMessage':await this[_0x25ba18(0x418)](_0x46c00e,_0x471c62);break;default:this['logger'][_0x25ba18(0x820)](this[_0x25ba18(0x4f7)]+'\x20('+this[_0x25ba18(0x598)][_0x25ba18(0x76b)]+_0x25ba18(0x5b4)+_0x471c62[_0x25ba18(0x2ff)][_0x25ba18(0x56f)]);}}catch(_0x3e0099){this[_0x25ba18(0x803)][_0x25ba18(0x820)](this['instanceName']+'\x20('+this[_0x25ba18(0x598)][_0x25ba18(0x76b)]+_0x25ba18(0x638)+(_0x3e0099 instanceof Error?_0x3e0099[_0x25ba18(0x1dc)]:JSON[_0x25ba18(0x54f)](_0x3e0099,null,0x2)));}}async[a0_0x422c01(0x371)](_0x5db4d3,_0x175c7f,_0x5c4235,_0xaaac73=!0x1,_0x27e133=!0x1){const _0x2057c6=a0_0x422c01;_0x5db4d3[_0x2057c6(0x824)][_0x2057c6(0x454)]||(_0x5db4d3[_0x2057c6(0x824)][_0x2057c6(0x454)]=[]);let _0x2ace8b=(_0x5db4d3[_0x2057c6(0x824)][_0x2057c6(0x454)]?.[_0x2057c6(0x623)]??0x0)+0x1,_0x41f2ce=_0x5db4d3['chatLog']['blockLogs']['filter'](_0x1d7f0a=>String(_0x1d7f0a[_0x2057c6(0x4e7)])===String(_0x175c7f[_0x2057c6(0x79d)]))[_0x2057c6(0x623)]+0x1,_0xdd1bff=_0x5c4235?.['onTime']??Date['now'](),_0x45fbee=_0x5c4235?.[_0x2057c6(0x820)]?_0x5c4235[_0x2057c6(0x1e9)]??_0x5c4235['error'][_0x2057c6(0x76f)]():void 0x0,_0x274368={'onTime':_0xdd1bff,'blockId':_0x175c7f['_id'],'order':_0x2ace8b,'activatedCount':_0x41f2ce,'error':_0x5c4235?.[_0x2057c6(0x820)]??!0x1,'messageId':_0x5c4235?.['messageId'],'apiResponse':_0x5c4235?.[_0x2057c6(0x4da)],'apiResponseString':_0x5c4235?.[_0x2057c6(0x4da)]?JSON[_0x2057c6(0x54f)](_0x5c4235?.[_0x2057c6(0x4da)]):void 0x0,'variable':_0x5c4235?.[_0x2057c6(0x4e2)],'oldValue':_0x5c4235?.['oldValue'],'newValue':_0x5c4235?.[_0x2057c6(0x488)],'newStoppedUntil':_0x5c4235?.[_0x2057c6(0x476)],'moreLogs':_0x5c4235?.['moreLogs'],'errorLog':_0x45fbee};if(_0x5c4235[_0x2057c6(0x45b)]&&_0x5c4235[_0x2057c6(0x45b)]['length']>0x0){let _0x2f5e5b=_0x5c4235['moreLogs'][_0x2057c6(0x1ec)](_0x3d2802=>this['replaceVariablesLogs'](_0x3d2802,_0x5db4d3['chatLog']['realVariables']));_0x274368[_0x2057c6(0x45b)]=_0x2f5e5b;}_0x5db4d3[_0x2057c6(0x824)][_0x2057c6(0x1cf)]||(_0x5db4d3[_0x2057c6(0x824)]['realVariables']={}),_0x5db4d3[_0x2057c6(0x824)][_0x2057c6(0x1cf)][_0x2057c6(0x52a)]=String(_0x41f2ce),_0x5db4d3[_0x2057c6(0x824)][_0x2057c6(0x1cf)][_0x2057c6(0x58a)]=String(_0x5c4235[_0x2057c6(0x820)]??!0x1),_0x5db4d3[_0x2057c6(0x824)][_0x2057c6(0x454)][_0x2057c6(0x484)](_0x274368),_0x5db4d3[_0x2057c6(0x824)][_0x2057c6(0x1b1)]=_0x175c7f[_0x2057c6(0x79d)][_0x2057c6(0x76f)](),_0x5db4d3[_0x2057c6(0x824)][_0x2057c6(0x23d)]&&(_0x5db4d3[_0x2057c6(0x824)][_0x2057c6(0x23d)]=_0x5db4d3[_0x2057c6(0x824)][_0x2057c6(0x23d)]),_0x5db4d3['chatLog']['lastReceivedMessage']&&(_0x5db4d3[_0x2057c6(0x824)][_0x2057c6(0x300)]=_0x5db4d3[_0x2057c6(0x824)][_0x2057c6(0x300)]),_0x5db4d3[_0x2057c6(0x824)]['lastCondition']&&(_0x5db4d3[_0x2057c6(0x824)]['lastCondition']=_0x5db4d3['chatLog'][_0x2057c6(0x761)]),_0x27e133&&(_0x5db4d3[_0x2057c6(0x59d)]=_0x2057c6(0x1a4)),_0xaaac73?this[_0x2057c6(0x1f9)](_0x5db4d3):this[_0x2057c6(0x3c9)](_0x5db4d3,_0x175c7f);}[a0_0x422c01(0x703)](_0x1c3ce6,_0xd2d75a){const _0x2deabd=a0_0x422c01;return _0x1c3ce6[_0x2deabd(0x246)](/\{\{([^}]+)\}\}/g,(_0x31d581,_0x21b5e2)=>_0xd2d75a[_0x21b5e2]?'{{'+_0x21b5e2+_0x2deabd(0x362)+_0xd2d75a[_0x21b5e2]+'\x22':'{{'+_0x21b5e2+_0x2deabd(0x4b9));}async[a0_0x422c01(0x1f9)](_0x454499){const _0x4dc0b6=a0_0x422c01;try{let _0x387ec9=Object[_0x4dc0b6(0x3bc)](_0x454499[_0x4dc0b6(0x824)][_0x4dc0b6(0x1cf)])[_0x4dc0b6(0x1ec)](([_0x21aa66,_0x25e060])=>({'name':_0x21aa66,'value':_0x25e060})),_0x3c2411={'status':_0x454499[_0x4dc0b6(0x59d)],'blocks':_0x454499[_0x4dc0b6(0x4d6)],'waitingMenu_id':_0x454499['waitingMenu_id'],'waitingMenu_text':_0x454499[_0x4dc0b6(0x5a3)],'waitingMenu_replyOptions':_0x454499['waitingMenu_replyOptions'],'chatLog':{'lastBlockId':_0x454499[_0x4dc0b6(0x824)][_0x4dc0b6(0x1b1)],'lastSendMessage':_0x454499['chatLog']['lastSendMessage'],'lastReceivedMessage':_0x454499[_0x4dc0b6(0x824)][_0x4dc0b6(0x300)],'lastCondition':_0x454499[_0x4dc0b6(0x824)][_0x4dc0b6(0x761)],'chatVariables':_0x387ec9,'realVariables':_0x454499['chatLog'][_0x4dc0b6(0x1cf)],'blockLogs':_0x454499[_0x4dc0b6(0x824)][_0x4dc0b6(0x454)]}},_0x2e8627=await this[_0x4dc0b6(0x585)][_0x4dc0b6(0x2e9)][_0x4dc0b6(0x3e5)](_0x454499[_0x4dc0b6(0x79d)],_0x3c2411,this[_0x4dc0b6(0x598)][_0x4dc0b6(0x76b)]);if(_0x2e8627){this[_0x4dc0b6(0x803)][_0x4dc0b6(0x644)](this[_0x4dc0b6(0x4f7)]+'\x20('+this[_0x4dc0b6(0x598)][_0x4dc0b6(0x76b)]+_0x4dc0b6(0x82d)+_0x2e8627[_0x4dc0b6(0x79d)]);try{let _0x4de9e7=['nome',_0x4dc0b6(0x6e4),_0x4dc0b6(0x221),_0x4dc0b6(0x2d9),_0x4dc0b6(0x59d),_0x4dc0b6(0x2e0),_0x4dc0b6(0x581),_0x4dc0b6(0x26f),_0x4dc0b6(0x67f)];if(!this[_0x4dc0b6(0x728)]&&(await this[_0x4dc0b6(0x1ac)](),!this[_0x4dc0b6(0x728)]))throw new Error(_0x4dc0b6(0x25e));let _0x50c9af=this[_0x4dc0b6(0x728)]?.[_0x4dc0b6(0x4d2)][_0x4dc0b6(0x1ec)](_0x2f40eb=>_0x2f40eb[_0x4dc0b6(0x6a7)]),_0x4216f3={};Object['entries'](_0x454499[_0x4dc0b6(0x824)][_0x4dc0b6(0x1cf)])[_0x4dc0b6(0x485)](([_0x237f07,_0x403dab])=>{const _0x5ea4e3=_0x4dc0b6;_0x4de9e7[_0x5ea4e3(0x563)](_0x237f07)&&(_0x237f07==='tags'&&typeof _0x403dab==_0x5ea4e3(0x2cc)?_0x4216f3[_0x237f07]=_0x403dab[_0x5ea4e3(0x1e1)](',')['map'](_0x146c9c=>_0x146c9c[_0x5ea4e3(0x78f)]())[_0x5ea4e3(0x7aa)](_0x3857e6=>_0x3857e6!==''):_0x237f07==='etiquetas'&&typeof _0x403dab=='string'?_0x4216f3[_0x237f07]=_0x403dab[_0x5ea4e3(0x1e1)](',')[_0x5ea4e3(0x1ec)](_0x2ccd8b=>_0x2ccd8b[_0x5ea4e3(0x78f)]())['filter'](_0x1f087b=>_0x1f087b!==''):_0x4216f3[_0x237f07]=_0x403dab);});let _0x43873b=_0x454499['chatLog'][_0x4dc0b6(0x454)][_0x454499[_0x4dc0b6(0x824)][_0x4dc0b6(0x454)][_0x4dc0b6(0x623)]-0x1];if(_0x43873b){let _0x568663=_0x43873b[_0x4dc0b6(0x476)];_0x568663!==void 0x0&&(_0x4216f3['desativadoFluxoAte']=_0x568663['toString']());}let _0x10b393=_0x387ec9[_0x4dc0b6(0x7aa)](_0x408922=>_0x50c9af[_0x4dc0b6(0x563)](_0x408922[_0x4dc0b6(0x6a7)]));this[_0x4dc0b6(0x803)][_0x4dc0b6(0x644)](this[_0x4dc0b6(0x4f7)]+'\x20('+this[_0x4dc0b6(0x598)][_0x4dc0b6(0x76b)]+_0x4dc0b6(0x6ee)),this[_0x4dc0b6(0x803)]['verbose'](_0x4216f3),this[_0x4dc0b6(0x803)][_0x4dc0b6(0x644)](this['instanceName']+'\x20('+this[_0x4dc0b6(0x598)][_0x4dc0b6(0x76b)]+_0x4dc0b6(0x3ff)),this['logger'][_0x4dc0b6(0x644)](_0x10b393);let _0x5cb88f=_0x10b393[_0x4dc0b6(0x1ec)](_0x51ef9c=>{const _0x271283=_0x4dc0b6;let _0x3b7c57=this[_0x271283(0x728)]?.[_0x271283(0x4d2)]['find'](_0x633fdc=>_0x633fdc[_0x271283(0x6a7)]===_0x51ef9c['name']);if(!_0x3b7c57)throw new Error(_0x271283(0x4c2)+_0x51ef9c['name']);return{'_id':_0x3b7c57[_0x271283(0x79d)],'value':_0x51ef9c['value']};});this[_0x4dc0b6(0x803)][_0x4dc0b6(0x644)](this[_0x4dc0b6(0x4f7)]+'\x20('+this[_0x4dc0b6(0x598)]['wuid']+_0x4dc0b6(0x6f0)),this[_0x4dc0b6(0x803)]['verbose'](_0x5cb88f),await this['saveChatVariables'](_0x454499[_0x4dc0b6(0x1fe)],_0x4216f3,_0x5cb88f);}catch(_0x32edea){this['logger']['error'](this['instanceName']+'\x20('+this[_0x4dc0b6(0x598)][_0x4dc0b6(0x76b)]+'):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20'+(_0x32edea instanceof Error?_0x32edea[_0x4dc0b6(0x1dc)]:JSON[_0x4dc0b6(0x54f)](_0x32edea,null,0x2)));}}else this[_0x4dc0b6(0x803)]['error'](this[_0x4dc0b6(0x4f7)]+'\x20('+this[_0x4dc0b6(0x598)][_0x4dc0b6(0x76b)]+'):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida');}catch(_0x35b37a){this[_0x4dc0b6(0x803)]['error'](this[_0x4dc0b6(0x4f7)]+'\x20('+this[_0x4dc0b6(0x598)]['wuid']+_0x4dc0b6(0x2c5)+(_0x35b37a instanceof Error?_0x35b37a[_0x4dc0b6(0x1dc)]:JSON[_0x4dc0b6(0x54f)](_0x35b37a,null,0x2)));}}async[a0_0x422c01(0x5fd)](_0x5e1755,_0x1b8909,_0x1ddfae){const _0x31a9d9=a0_0x422c01;try{let _0xd45b68={'leadInfo.leadnome':_0x1b8909[_0x31a9d9(0x636)],'leadInfo.nomecompleto':_0x1b8909[_0x31a9d9(0x6e4)],'leadInfo.email':_0x1b8909[_0x31a9d9(0x221)],'leadInfo.cpf':_0x1b8909['cpf'],'leadInfo.status':_0x1b8909[_0x31a9d9(0x59d)],'leadInfo.notas':_0x1b8909[_0x31a9d9(0x2e0)],'leadInfo.responsavelid':_0x1b8909[_0x31a9d9(0x581)],'leadInfo.tags':_0x1b8909[_0x31a9d9(0x26f)],'leadInfo.etiquetas':_0x1b8909[_0x31a9d9(0x67f)],'leadInfo.customFields':_0x1ddfae},_0x5d2754=await this[_0x31a9d9(0x585)][_0x31a9d9(0x496)][_0x31a9d9(0x64b)]({'where':{'_id':_0x5e1755}},this['instance'][_0x31a9d9(0x76b)]),_0x7d0315=new Set(_0x5d2754[_0x31a9d9(0x2b6)][_0x31a9d9(0x67f)]||[]),_0x5df28d=new Set(_0x1b8909[_0x31a9d9(0x67f)]||[]),_0x70dac8=await this[_0x31a9d9(0x585)][_0x31a9d9(0x565)][_0x31a9d9(0x752)]({'where':{}},this[_0x31a9d9(0x598)]['wuid']),_0xcceefc=new Set(_0x70dac8[_0x31a9d9(0x1ec)](_0x177364=>_0x177364[_0x31a9d9(0x79d)])),_0xe5b0cc=[..._0x5df28d][_0x31a9d9(0x7aa)](_0x31036f=>!_0x7d0315[_0x31a9d9(0x7b1)](_0x31036f)&&_0xcceefc['has'](_0x31036f)),_0x54e740=[..._0x7d0315][_0x31a9d9(0x7aa)](_0x13c51a=>!_0x5df28d[_0x31a9d9(0x7b1)](_0x13c51a));for(let _0x2ec6d7 of _0xe5b0cc)await this[_0x31a9d9(0x1e7)](_0x2ec6d7,_0x5d2754[_0x31a9d9(0x79d)]),_0x7d0315[_0x31a9d9(0x263)](_0x2ec6d7);for(let _0x19c2cd of _0x54e740)await this['RemoveChatLabel'](_0x19c2cd,_0x5d2754['_id']),_0x7d0315[_0x31a9d9(0x653)](_0x19c2cd);if(_0x31a9d9(0x528)in _0x1b8909){let _0x32355b=_0x1b8909[_0x31a9d9(0x528)];_0xd45b68[_0x31a9d9(0x782)]=_0x32355b?Number(_0x32355b):null;}let _0x559f47=await this[_0x31a9d9(0x585)][_0x31a9d9(0x496)]['updateOne']({'where':{'_id':_0x5e1755}},_0xd45b68,this['instance'][_0x31a9d9(0x76b)]);_0x559f47?(this[_0x31a9d9(0x803)][_0x31a9d9(0x644)](this[_0x31a9d9(0x4f7)]+'\x20('+this[_0x31a9d9(0x598)][_0x31a9d9(0x76b)]+_0x31a9d9(0x222)+_0x559f47[_0x31a9d9(0x79d)]),J(this[_0x31a9d9(0x4f7)],_0x31a9d9(0x48e),{'chat':_0x559f47})):this[_0x31a9d9(0x803)][_0x31a9d9(0x820)](this['instanceName']+'\x20('+this['instance'][_0x31a9d9(0x76b)]+_0x31a9d9(0x2bf));}catch(_0x390f81){this[_0x31a9d9(0x803)][_0x31a9d9(0x820)](this[_0x31a9d9(0x4f7)]+'\x20('+this[_0x31a9d9(0x598)][_0x31a9d9(0x76b)]+_0x31a9d9(0x2ce)+(_0x390f81 instanceof Error?_0x390f81[_0x31a9d9(0x1dc)]:JSON[_0x31a9d9(0x54f)](_0x390f81,null,0x2)));}}async[a0_0x422c01(0x7df)](_0x49e122,_0xb23025){const _0x15f72b=a0_0x422c01;this['logger'][_0x15f72b(0x644)](this[_0x15f72b(0x4f7)]+'\x20('+this[_0x15f72b(0x598)]['wuid']+_0x15f72b(0x4a3)+_0xb23025);try{let _0x3ef0f4=await this[_0x15f72b(0x585)][_0x15f72b(0x496)][_0x15f72b(0x3e5)]({'where':{'_id':_0x49e122[_0x15f72b(0x1fe)]}},{'leadInfo.desativadoFluxoAte':_0xb23025},this['instance'][_0x15f72b(0x76b)]);this[_0x15f72b(0x803)]['verbose'](this['instanceName']+'\x20('+this[_0x15f72b(0x598)][_0x15f72b(0x76b)]+'):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20'+_0x49e122[_0x15f72b(0x79d)]),this[_0x15f72b(0x803)][_0x15f72b(0x644)](this[_0x15f72b(0x4f7)]+'\x20('+this['instance'][_0x15f72b(0x76b)]+'):\x20atualização\x20chat:\x20'+JSON[_0x15f72b(0x54f)](_0x3ef0f4,null,0x2)),_0x3ef0f4&&J(this[_0x15f72b(0x4f7)],_0x15f72b(0x48e),{'chat':_0x3ef0f4});}catch(_0x4df9c9){this[_0x15f72b(0x803)][_0x15f72b(0x820)](this[_0x15f72b(0x4f7)]+'\x20('+this[_0x15f72b(0x598)][_0x15f72b(0x76b)]+_0x15f72b(0x78a)+(_0x4df9c9 instanceof Error?_0x4df9c9['message']:JSON[_0x15f72b(0x54f)](_0x4df9c9,null,0x2)));}}async[a0_0x422c01(0x487)](_0x30261a){const _0x32177a=a0_0x422c01;try{this[_0x32177a(0x803)]['verbose'](this['instanceName']+'\x20('+this[_0x32177a(0x598)][_0x32177a(0x76b)]+'):\x20Buscando\x20flow...');let _0x45fa58=_0x30261a[_0x32177a(0x246)](/\D/g,''),_0x47313c=await this['repository']['flow'][_0x32177a(0x64b)]({'where':{'testingWith':_0x45fa58}},this[_0x32177a(0x598)]['wuid']);return _0x47313c||(this[_0x32177a(0x803)]['verbose'](this[_0x32177a(0x4f7)]+'\x20('+this['instance'][_0x32177a(0x76b)]+_0x32177a(0x538)),_0x47313c=await this['repository']['flow'][_0x32177a(0x64b)]({'where':{'default':!0x0}},this['instance']['wuid'])),_0x47313c||(this[_0x32177a(0x803)][_0x32177a(0x644)](this['instanceName']+'\x20('+this[_0x32177a(0x598)][_0x32177a(0x76b)]+_0x32177a(0x555)),null);}catch(_0x4b0ce0){return this[_0x32177a(0x803)]['error'](this[_0x32177a(0x4f7)]+'\x20('+this[_0x32177a(0x598)][_0x32177a(0x76b)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0x4b0ce0 instanceof Error?_0x4b0ce0[_0x32177a(0x1dc)]:JSON['stringify'](_0x4b0ce0,null,0x2))),null;}}async[a0_0x422c01(0x7d5)](_0x14f854,_0x14f10f){const _0x3b7100=a0_0x422c01;try{let _0x575add=!!_0x14f10f['vote'],_0x13230d=_0x14f10f[_0x3b7100(0x451)],_0x4ce416=null;if(this[_0x3b7100(0x803)][_0x3b7100(0x644)](this[_0x3b7100(0x4f7)]+'\x20('+this['instance'][_0x3b7100(0x76b)]+_0x3b7100(0x195)+_0x575add+'\x20quoted:\x20'+_0x13230d),_0x575add){this[_0x3b7100(0x803)][_0x3b7100(0x644)](this[_0x3b7100(0x4f7)]+'\x20('+this[_0x3b7100(0x598)][_0x3b7100(0x76b)]+_0x3b7100(0x7d9));let _0x4f3d22={'where':{'remoteJid':_0x14f854,'waitingMenu_id':_0x13230d}};if(_0x4ce416=await this[_0x3b7100(0x585)][_0x3b7100(0x2e9)]['findOne'](_0x4f3d22,this[_0x3b7100(0x598)]['wuid']),!_0x4ce416)return this[_0x3b7100(0x803)][_0x3b7100(0x644)](this[_0x3b7100(0x4f7)]+'\x20('+this[_0x3b7100(0x598)][_0x3b7100(0x76b)]+_0x3b7100(0x2a4)),null;let _0x3e51c9=Date[_0x3b7100(0x5e6)](),_0xbb357e=_0x4ce416?.[_0x3b7100(0x3b9)]||0x0,_0x58eecb=_0x3e51c9-_0xbb357e*0x3c*0x3e8;if(_0x4ce416[_0x3b7100(0x2c1)]<_0x58eecb){this[_0x3b7100(0x803)]['verbose'](this[_0x3b7100(0x4f7)]+'\x20('+this[_0x3b7100(0x598)][_0x3b7100(0x76b)]+_0x3b7100(0x79b));let _0x3cd65d={'number':_0x4ce416[_0x3b7100(0x1fe)],'options':{'delay':0x0},'textMessage':{'text':_0x4ce416[_0x3b7100(0x1fa)]}};await this['textMessage'](_0x3cd65d);let _0x477182={'status':_0x3b7100(0x1a4),'waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x3b7100(0x585)][_0x3b7100(0x2e9)][_0x3b7100(0x3e5)](_0x4ce416['_id'],_0x477182,this[_0x3b7100(0x598)][_0x3b7100(0x76b)]),null;}return _0x4ce416[_0x3b7100(0x2c1)]=Date[_0x3b7100(0x5e6)](),_0x4ce416['chatLog'][_0x3b7100(0x300)]=_0x14f10f,_0x4ce416;}else{this[_0x3b7100(0x803)][_0x3b7100(0x644)](this[_0x3b7100(0x4f7)]+'\x20('+this[_0x3b7100(0x598)][_0x3b7100(0x76b)]+'):\x20'+this[_0x3b7100(0x598)][_0x3b7100(0x76b)]+'\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário'),this[_0x3b7100(0x803)][_0x3b7100(0x644)](this[_0x3b7100(0x4f7)]+'\x20('+this[_0x3b7100(0x598)][_0x3b7100(0x76b)]+_0x3b7100(0x6b7));let _0x365fa0={'where':{'remoteJid':_0x14f854,'status':_0x3b7100(0x26c)}};if(_0x4ce416=await this[_0x3b7100(0x585)][_0x3b7100(0x2e9)]['findOne'](_0x365fa0,this[_0x3b7100(0x598)]['wuid']),!_0x4ce416){let _0x363d0e=await this['findFlow'](_0x14f854);if(_0x363d0e&&(_0x4ce416=await this[_0x3b7100(0x670)](_0x363d0e,_0x14f10f['key'],_0x14f10f)),!_0x4ce416)return null;}let _0x3816e0=Date['now'](),_0x5c0932=_0x4ce416?.[_0x3b7100(0x3b9)]||0x0,_0x427fd6=_0x3816e0-_0x5c0932*0x3c*0x3e8;if(this[_0x3b7100(0x803)][_0x3b7100(0x644)](this[_0x3b7100(0x4f7)]+'\x20('+this[_0x3b7100(0x598)][_0x3b7100(0x76b)]+'):\x20Current\x20Time:\x20'+_0x3816e0+_0x3b7100(0x1fc)+_0x5c0932+_0x3b7100(0x442)+_0x427fd6),this[_0x3b7100(0x803)][_0x3b7100(0x644)](this[_0x3b7100(0x4f7)]+'\x20('+this[_0x3b7100(0x598)][_0x3b7100(0x76b)]+_0x3b7100(0x7c1)),this[_0x3b7100(0x803)][_0x3b7100(0x644)](this[_0x3b7100(0x4f7)]+'\x20('+this[_0x3b7100(0x598)]['wuid']+'):\x20conversation.lastInteraction:\x20'+_0x4ce416[_0x3b7100(0x2c1)]),this[_0x3b7100(0x803)][_0x3b7100(0x644)](this[_0x3b7100(0x4f7)]+'\x20('+this['instance'][_0x3b7100(0x76b)]+'):\x20expirationTime:\x20'+_0x427fd6),_0x4ce416[_0x3b7100(0x2c1)]<_0x427fd6){this['logger'][_0x3b7100(0x644)](this[_0x3b7100(0x4f7)]+'\x20('+this[_0x3b7100(0x598)][_0x3b7100(0x76b)]+_0x3b7100(0x3bb));let _0x47e709=await this[_0x3b7100(0x487)](_0x14f854);if(_0x47e709===null)return null;_0x4ce416&&await this[_0x3b7100(0x585)][_0x3b7100(0x2e9)][_0x3b7100(0x3e5)](_0x4ce416[_0x3b7100(0x79d)],{'status':_0x3b7100(0x1a4)},this['instance'][_0x3b7100(0x76b)]),_0x4ce416=await this['createNewConversation'](_0x47e709,_0x14f10f[_0x3b7100(0x254)],_0x14f10f);}return _0x4ce416[_0x3b7100(0x2c1)]=_0x3816e0,_0x4ce416[_0x3b7100(0x824)][_0x3b7100(0x300)]=_0x14f10f,_0x4ce416;}}catch(_0x58f7fa){return this[_0x3b7100(0x803)][_0x3b7100(0x820)](this[_0x3b7100(0x4f7)]+'\x20('+this[_0x3b7100(0x598)][_0x3b7100(0x76b)]+'):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20'+(_0x58f7fa instanceof Error?_0x58f7fa[_0x3b7100(0x1dc)]:JSON[_0x3b7100(0x54f)](_0x58f7fa,null,0x2))),null;}}async['createNewConversation'](_0x476b2e,_0x4b5902,_0x452531){const _0x348506=a0_0x422c01;this[_0x348506(0x803)]['verbose'](this[_0x348506(0x4f7)]+'\x20('+this[_0x348506(0x598)][_0x348506(0x76b)]+_0x348506(0x3ec));try{let _0x4e371c=require(_0x348506(0x470))['ObjectId'],_0x50ab2b=Date[_0x348506(0x5e6)](),_0x45302b=_0x348506(0x819),_0x350c89=_0x4b5902['fromMe']?null:_0x452531,_0x4f2cf6=_0x4b5902[_0x348506(0x7fb)]?_0x452531:null,_0x96b0da=_0x4b5902[_0x348506(0x1fe)];await this[_0x348506(0x365)](_0x96b0da);let _0x15c516={..._0x476b2e,'chatLog':null},_0xe1e36d=await this[_0x348506(0x6c6)](_0x15c516[_0x348506(0x5f9)]),_0x13da01=await this[_0x348506(0x572)](_0x96b0da),_0x543b72={..._0xe1e36d,..._0x13da01,'_remoteJid':_0x96b0da},_0x3be4c3={'lastReceivedMessage':_0x350c89,'lastSendMessage':_0x4f2cf6,'lastBlockId':_0x45302b,'lastCondition':!0x0,'realVariables':_0x543b72};_0x15c516['chatLog']=_0x3be4c3,delete _0x15c516[_0x348506(0x79d)],_0x15c516['_id']=new _0x4e371c(),_0x15c516[_0x348506(0x2c1)]=_0x50ab2b,_0x15c516[_0x348506(0x59d)]=_0x348506(0x26c),_0x15c516['remoteJid']=_0x96b0da;let _0x312285=await this['repository'][_0x348506(0x2e9)][_0x348506(0x3e5)](_0x15c516['_id'],_0x15c516,this[_0x348506(0x598)][_0x348506(0x76b)]);return this[_0x348506(0x803)][_0x348506(0x644)](this['instanceName']+'\x20('+this['instance'][_0x348506(0x76b)]+_0x348506(0x183)),_0x312285?_0x15c516:null;}catch(_0x179355){return this[_0x348506(0x803)][_0x348506(0x820)](this[_0x348506(0x4f7)]+'\x20('+this[_0x348506(0x598)][_0x348506(0x76b)]+_0x348506(0x7ce)+(_0x179355 instanceof Error?_0x179355['message']:JSON['stringify'](_0x179355,null,0x2))),_0x179355;}}async[a0_0x422c01(0x548)](_0x40b292,_0x48aed9){const _0x14d8cd=a0_0x422c01;let _0x472907=_0x40b292[_0x14d8cd(0x1fe)];_0x48aed9[_0x14d8cd(0x2ff)][_0x14d8cd(0x1fe)]&&_0x48aed9[_0x14d8cd(0x2ff)][_0x14d8cd(0x1fe)][_0x14d8cd(0x78f)]()!==''&&(_0x472907=_0x48aed9[_0x14d8cd(0x2ff)][_0x14d8cd(0x1fe)][_0x14d8cd(0x78f)]()),this['logger']['verbose'](this[_0x14d8cd(0x4f7)]+'\x20('+this[_0x14d8cd(0x598)][_0x14d8cd(0x76b)]+_0x14d8cd(0x1d5));let _0x4564b9={'number':_0x472907,'options':{'delay':_0x48aed9['uazapi']['delay'],'linkPreview':_0x48aed9['uazapi']['linkPreview']},'textMessage':{'text':_0x48aed9[_0x14d8cd(0x2ff)][_0x14d8cd(0x4e4)]}};try{let _0x58a5c7=await this['textMessage'](_0x4564b9);if(_0x58a5c7){let _0x3dd856={'_id':_0x58a5c7[_0x14d8cd(0x254)]['id'],'_fromMe':_0x58a5c7[_0x14d8cd(0x254)][_0x14d8cd(0x7fb)],'_remoteJid':_0x58a5c7['key'][_0x14d8cd(0x1fe)]},_0xb5ef25=(0x0,m[_0x14d8cd(0x741)])(_0x58a5c7[_0x14d8cd(0x1dc)]),_0x238827=(0x0,m['getContentType'])(_0xb5ef25);_0x40b292['chatLog'][_0x14d8cd(0x1b1)]=_0x48aed9['_id'][_0x14d8cd(0x76f)]();let {message_normalized:_0x4600c7}=this[_0x14d8cd(0x815)](_0xb5ef25,_0x238827,null);_0x40b292['chatLog'][_0x14d8cd(0x23d)]=await _0x4600c7;let _0x2afba1={'messageId':_0x58a5c7[_0x14d8cd(0x254)]['id']},_0x54cc70=_0x40b292[_0x14d8cd(0x824)][_0x14d8cd(0x1cf)];Object[_0x14d8cd(0x7d1)](_0x54cc70,_0x3dd856),_0x40b292[_0x14d8cd(0x824)][_0x14d8cd(0x1cf)]=_0x54cc70,this[_0x14d8cd(0x371)](_0x40b292,_0x48aed9,_0x2afba1);}else{let _0x1a90c1={'error':!0x0};this[_0x14d8cd(0x371)](_0x40b292,_0x48aed9,_0x1a90c1),this[_0x14d8cd(0x803)][_0x14d8cd(0x820)](this[_0x14d8cd(0x4f7)]+'\x20('+this[_0x14d8cd(0x598)][_0x14d8cd(0x76b)]+_0x14d8cd(0x67a));}}catch(_0x3e14a6){let _0x61df37={'error':!0x0,'errorLog':_0x3e14a6['toString']()};this[_0x14d8cd(0x371)](_0x40b292,_0x48aed9,_0x61df37),this[_0x14d8cd(0x803)]['error'](this['instanceName']+'\x20('+this[_0x14d8cd(0x598)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x3e14a6 instanceof Error?_0x3e14a6['message']:JSON[_0x14d8cd(0x54f)](_0x3e14a6,null,0x2)));}}async['uazapiSendMedia'](_0x9b1c98,_0x23b898){const _0x1efbe1=a0_0x422c01;let _0x3e30e8=_0x9b1c98['remoteJid'];_0x23b898['uazapi'][_0x1efbe1(0x1fe)]&&_0x23b898[_0x1efbe1(0x2ff)][_0x1efbe1(0x1fe)][_0x1efbe1(0x78f)]()!==''&&(_0x3e30e8=_0x23b898[_0x1efbe1(0x2ff)]['remoteJid'][_0x1efbe1(0x78f)]()),this[_0x1efbe1(0x803)][_0x1efbe1(0x644)](this[_0x1efbe1(0x4f7)]+'\x20('+this[_0x1efbe1(0x598)][_0x1efbe1(0x76b)]+'):\x20Enviando\x20mídia');let _0x12e260={'number':_0x3e30e8,'options':{'delay':_0x23b898[_0x1efbe1(0x2ff)]['delay'],'linkPreview':_0x23b898[_0x1efbe1(0x2ff)][_0x1efbe1(0x37c)]},'mediaMessage':{'mediatype':_0x23b898['uazapi'][_0x1efbe1(0x1d9)],'caption':_0x23b898['uazapi']['caption'],'media':_0x23b898[_0x1efbe1(0x2ff)][_0x1efbe1(0x4ff)],'fileName':_0x23b898[_0x1efbe1(0x2ff)][_0x1efbe1(0x635)]}};try{let _0xb71094=await this[_0x1efbe1(0x55b)](_0x12e260);if(_0xb71094){let _0x3b7e70={'_id':_0xb71094[_0x1efbe1(0x254)]['id'],'_fromMe':_0xb71094[_0x1efbe1(0x254)][_0x1efbe1(0x7fb)],'_remoteJid':_0xb71094[_0x1efbe1(0x254)][_0x1efbe1(0x1fe)]},_0x479eef=(0x0,m[_0x1efbe1(0x741)])(_0xb71094[_0x1efbe1(0x1dc)]),_0x288b8f=(0x0,m[_0x1efbe1(0x7b2)])(_0x479eef);_0x9b1c98['chatLog'][_0x1efbe1(0x1b1)]=_0x23b898[_0x1efbe1(0x79d)][_0x1efbe1(0x76f)]();let {message_normalized:_0x183689}=this[_0x1efbe1(0x815)](_0x479eef,_0x288b8f,null);_0x9b1c98[_0x1efbe1(0x824)][_0x1efbe1(0x23d)]=await _0x183689;let _0x1a4bc5={'messageId':_0xb71094[_0x1efbe1(0x254)]['id']},_0x1614a4=_0x9b1c98['chatLog']['realVariables'];Object[_0x1efbe1(0x7d1)](_0x1614a4,_0x3b7e70),_0x9b1c98[_0x1efbe1(0x824)]['realVariables']=_0x1614a4,this[_0x1efbe1(0x371)](_0x9b1c98,_0x23b898,_0x1a4bc5);}else{let _0x4119d9={'error':!0x0};this[_0x1efbe1(0x371)](_0x9b1c98,_0x23b898,_0x4119d9),this['logger'][_0x1efbe1(0x820)](this[_0x1efbe1(0x4f7)]+'\x20('+this['instance'][_0x1efbe1(0x76b)]+_0x1efbe1(0x57d));}}catch(_0x6d0ef8){let _0x1a0dae={'error':!0x0,'errorLog':_0x6d0ef8[_0x1efbe1(0x76f)]()};this[_0x1efbe1(0x371)](_0x9b1c98,_0x23b898,_0x1a0dae),this[_0x1efbe1(0x803)][_0x1efbe1(0x820)](this['instanceName']+'\x20('+this[_0x1efbe1(0x598)][_0x1efbe1(0x76b)]+_0x1efbe1(0x35e)+(_0x6d0ef8 instanceof Error?_0x6d0ef8['message']:JSON[_0x1efbe1(0x54f)](_0x6d0ef8,null,0x2)));}}async['uazapiSendLocation'](_0x19f3bd,_0x42da32){const _0xa73199=a0_0x422c01;let _0x2836a4=_0x19f3bd[_0xa73199(0x1fe)];_0x42da32[_0xa73199(0x2ff)][_0xa73199(0x1fe)]&&_0x42da32[_0xa73199(0x2ff)][_0xa73199(0x1fe)][_0xa73199(0x78f)]()!==''&&(_0x2836a4=_0x42da32[_0xa73199(0x2ff)][_0xa73199(0x1fe)][_0xa73199(0x78f)]()),this[_0xa73199(0x803)][_0xa73199(0x644)](this[_0xa73199(0x4f7)]+'\x20('+this['instance'][_0xa73199(0x76b)]+'):\x20Enviando\x20localização');let _0x18fb1c={'number':_0x2836a4,'options':{'delay':_0x42da32[_0xa73199(0x2ff)][_0xa73199(0x364)]},'locationMessage':{'name':_0x42da32[_0xa73199(0x2ff)][_0xa73199(0x6a7)],'address':_0x42da32[_0xa73199(0x2ff)][_0xa73199(0x632)],'latitude':_0x42da32[_0xa73199(0x2ff)][_0xa73199(0x4e3)],'longitude':_0x42da32[_0xa73199(0x2ff)][_0xa73199(0x256)]}};try{let _0xa0e175=await this['locationMessage'](_0x18fb1c);if(_0xa0e175){let _0x1a6912={'_id':_0xa0e175[_0xa73199(0x254)]['id'],'_fromMe':_0xa0e175['key'][_0xa73199(0x7fb)],'_remoteJid':_0xa0e175[_0xa73199(0x254)][_0xa73199(0x1fe)]},_0x3bf92d=(0x0,m[_0xa73199(0x741)])(_0xa0e175['message']),_0x422caf=(0x0,m['getContentType'])(_0x3bf92d);_0x19f3bd[_0xa73199(0x824)]['lastBlockId']=_0x42da32[_0xa73199(0x79d)][_0xa73199(0x76f)]();let {message_normalized:_0x4bd905}=this[_0xa73199(0x815)](_0x3bf92d,_0x422caf,null);_0x19f3bd['chatLog']['lastSendMessage']=await _0x4bd905;let _0x44c86d={'messageId':_0xa0e175['key']['id']},_0x4c6f91=_0x19f3bd[_0xa73199(0x824)][_0xa73199(0x1cf)];Object['assign'](_0x4c6f91,_0x1a6912),_0x19f3bd[_0xa73199(0x824)][_0xa73199(0x1cf)]=_0x4c6f91,this['updateConversation'](_0x19f3bd,_0x42da32,_0x44c86d);}else{let _0x7e80f9={'error':!0x0};this['updateConversation'](_0x19f3bd,_0x42da32,_0x7e80f9),this['logger'][_0xa73199(0x820)](this['instanceName']+'\x20('+this[_0xa73199(0x598)][_0xa73199(0x76b)]+_0xa73199(0x251));}}catch(_0x199188){let _0x35d676={'error':!0x0,'errorLog':_0x199188[_0xa73199(0x76f)]()};this[_0xa73199(0x371)](_0x19f3bd,_0x42da32,_0x35d676),this['logger'][_0xa73199(0x820)](this[_0xa73199(0x4f7)]+'\x20('+this['instance'][_0xa73199(0x76b)]+_0xa73199(0x66b)+(_0x199188 instanceof Error?_0x199188[_0xa73199(0x1dc)]:JSON[_0xa73199(0x54f)](_0x199188,null,0x2)));}}async['uazapiSendAudio'](_0x18085b,_0x27ed01){const _0x48cad2=a0_0x422c01;let _0x17f1ca=_0x18085b[_0x48cad2(0x1fe)];_0x27ed01[_0x48cad2(0x2ff)]['remoteJid']&&_0x27ed01[_0x48cad2(0x2ff)][_0x48cad2(0x1fe)][_0x48cad2(0x78f)]()!==''&&(_0x17f1ca=_0x27ed01['uazapi'][_0x48cad2(0x1fe)][_0x48cad2(0x78f)]()),this[_0x48cad2(0x803)]['verbose'](this['instanceName']+'\x20('+this[_0x48cad2(0x598)][_0x48cad2(0x76b)]+'):\x20Enviando\x20áudio');let _0x532352={'number':_0x17f1ca,'options':{'delay':_0x27ed01[_0x48cad2(0x2ff)][_0x48cad2(0x364)]},'audioMessage':{'audio':_0x27ed01[_0x48cad2(0x2ff)][_0x48cad2(0x415)]}};try{let _0x37d59c=await this[_0x48cad2(0x34e)](_0x532352);if(_0x37d59c){let _0x23071a={'_id':_0x37d59c[_0x48cad2(0x254)]['id'],'_fromMe':_0x37d59c[_0x48cad2(0x254)][_0x48cad2(0x7fb)],'_remoteJid':_0x37d59c[_0x48cad2(0x254)]['remoteJid']},_0xca9bd6=(0x0,m[_0x48cad2(0x741)])(_0x37d59c['message']),_0x32d0cf=(0x0,m[_0x48cad2(0x7b2)])(_0xca9bd6);_0x18085b[_0x48cad2(0x824)][_0x48cad2(0x1b1)]=_0x27ed01[_0x48cad2(0x79d)][_0x48cad2(0x76f)]();let {message_normalized:_0xf22571}=this[_0x48cad2(0x815)](_0xca9bd6,_0x32d0cf,null);_0x18085b[_0x48cad2(0x824)][_0x48cad2(0x23d)]=await _0xf22571;let _0x1fd9eb={'messageId':_0x37d59c[_0x48cad2(0x254)]['id']},_0x191a0d=_0x18085b[_0x48cad2(0x824)][_0x48cad2(0x1cf)];Object['assign'](_0x191a0d,_0x23071a),_0x18085b[_0x48cad2(0x824)][_0x48cad2(0x1cf)]=_0x191a0d,this['updateConversation'](_0x18085b,_0x27ed01,_0x1fd9eb);}else{let _0x34dfff={'error':!0x0};this[_0x48cad2(0x371)](_0x18085b,_0x27ed01,_0x34dfff),this['logger'][_0x48cad2(0x820)](this[_0x48cad2(0x4f7)]+'\x20('+this[_0x48cad2(0x598)][_0x48cad2(0x76b)]+_0x48cad2(0x201));}}catch(_0x5b8ae0){let _0xb10eb7={'error':!0x0,'errorLog':_0x5b8ae0[_0x48cad2(0x76f)]()};this[_0x48cad2(0x371)](_0x18085b,_0x27ed01,_0xb10eb7),this[_0x48cad2(0x803)][_0x48cad2(0x820)](this[_0x48cad2(0x4f7)]+'\x20('+this[_0x48cad2(0x598)][_0x48cad2(0x76b)]+_0x48cad2(0x536)+(_0x5b8ae0 instanceof Error?_0x5b8ae0[_0x48cad2(0x1dc)]:JSON[_0x48cad2(0x54f)](_0x5b8ae0,null,0x2)));}}async[a0_0x422c01(0x692)](_0x3f89c9,_0x4979eb){const _0x135657=a0_0x422c01;let _0x3751f1=_0x3f89c9['remoteJid'];_0x4979eb[_0x135657(0x2ff)][_0x135657(0x1fe)]&&_0x4979eb['uazapi']['remoteJid']['trim']()!==''&&(_0x3751f1=_0x4979eb[_0x135657(0x2ff)][_0x135657(0x1fe)][_0x135657(0x78f)]()),this[_0x135657(0x803)][_0x135657(0x644)](this[_0x135657(0x4f7)]+'\x20('+this[_0x135657(0x598)][_0x135657(0x76b)]+_0x135657(0x1c9));let _0x26ad1f={'number':_0x3751f1,'options':{'delay':_0x4979eb['uazapi'][_0x135657(0x364)]},'contactMessage':[{'fullName':_0x4979eb['uazapi'][_0x135657(0x64c)],'phoneNumber':_0x4979eb[_0x135657(0x2ff)][_0x135657(0x6f9)]}]};try{let _0x585ec4=await this[_0x135657(0x46f)](_0x26ad1f);if(_0x585ec4){let _0x2504a9={'_id':_0x585ec4[_0x135657(0x254)]['id'],'_fromMe':_0x585ec4['key'][_0x135657(0x7fb)],'_remoteJid':_0x585ec4[_0x135657(0x254)][_0x135657(0x1fe)]},_0x3ff8fa=(0x0,m['normalizeMessageContent'])(_0x585ec4[_0x135657(0x1dc)]),_0x15b62a=(0x0,m[_0x135657(0x7b2)])(_0x3ff8fa);_0x3f89c9[_0x135657(0x824)][_0x135657(0x1b1)]=_0x4979eb[_0x135657(0x79d)][_0x135657(0x76f)]();let {message_normalized:_0x5d53c0}=this[_0x135657(0x815)](_0x3ff8fa,_0x15b62a,null);_0x3f89c9[_0x135657(0x824)][_0x135657(0x23d)]=await _0x5d53c0;let _0xacaac3={'messageId':_0x585ec4[_0x135657(0x254)]['id']},_0x23e902=_0x3f89c9['chatLog'][_0x135657(0x1cf)];Object['assign'](_0x23e902,_0x2504a9),_0x3f89c9[_0x135657(0x824)][_0x135657(0x1cf)]=_0x23e902,this[_0x135657(0x371)](_0x3f89c9,_0x4979eb,_0xacaac3);}else{let _0x56424b={'error':!0x0};this[_0x135657(0x371)](_0x3f89c9,_0x4979eb,_0x56424b),this['logger'][_0x135657(0x820)](this[_0x135657(0x4f7)]+'\x20('+this[_0x135657(0x598)]['wuid']+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.');}}catch(_0x475c38){let _0x973555={'error':!0x0,'errorLog':_0x475c38[_0x135657(0x76f)]()};this[_0x135657(0x371)](_0x3f89c9,_0x4979eb,_0x973555),this[_0x135657(0x803)][_0x135657(0x820)](this['instanceName']+'\x20('+this['instance'][_0x135657(0x76b)]+_0x135657(0x5dc)+(_0x475c38 instanceof Error?_0x475c38[_0x135657(0x1dc)]:JSON['stringify'](_0x475c38,null,0x2)));}}[a0_0x422c01(0x22c)](_0x3cc53b,_0x3233be){const _0x5aa46d=a0_0x422c01;for(let _0x1eebd4 of _0x3cc53b)_0x1eebd4['option']&&(_0x1eebd4[_0x5aa46d(0x29f)]=this['replaceVariables'](_0x1eebd4[_0x5aa46d(0x29f)],_0x3233be)),_0x1eebd4[_0x5aa46d(0x5ab)]&&(_0x1eebd4['optionDescription']=this[_0x5aa46d(0x79f)](_0x1eebd4[_0x5aa46d(0x5ab)],_0x3233be));}async[a0_0x422c01(0x50a)](_0x41cf9b,_0x5dd16b){const _0x2d9212=a0_0x422c01;let _0x3c785f=_0x41cf9b['remoteJid'];_0x5dd16b[_0x2d9212(0x2ff)]['remoteJid']&&_0x5dd16b[_0x2d9212(0x2ff)][_0x2d9212(0x1fe)][_0x2d9212(0x78f)]()!==''&&(_0x3c785f=_0x5dd16b[_0x2d9212(0x2ff)][_0x2d9212(0x1fe)][_0x2d9212(0x78f)]()),this[_0x2d9212(0x803)][_0x2d9212(0x644)](this[_0x2d9212(0x4f7)]+'\x20('+this[_0x2d9212(0x598)][_0x2d9212(0x76b)]+'):\x20Enviando\x20enquete');let _0x35e0de=_0x41cf9b[_0x2d9212(0x812)][_0x2d9212(0x7aa)](_0x3fde71=>_0x3fde71[_0x2d9212(0x4e7)]===_0x5dd16b[_0x2d9212(0x79d)])[_0x2d9212(0x799)]((_0x171bd3,_0x5d826a)=>_0x171bd3['order']-_0x5d826a['order']);this['replaceVariablesInReplyOptions'](_0x35e0de,_0x41cf9b[_0x2d9212(0x824)][_0x2d9212(0x1cf)]);let _0x4c8163=_0x35e0de[_0x2d9212(0x1ec)](_0x7120e9=>_0x7120e9[_0x2d9212(0x29f)]),_0x3708b7={'number':_0x3c785f,'menuMessage':{'type':_0x5dd16b[_0x2d9212(0x2ff)]['menuType']||_0x2d9212(0x47f),'text':_0x5dd16b[_0x2d9212(0x2ff)][_0x2d9212(0x4e4)]||_0x5dd16b[_0x2d9212(0x2ff)]['name'],'footerText':_0x5dd16b[_0x2d9212(0x2ff)][_0x2d9212(0x6ba)],'buttonText':_0x5dd16b[_0x2d9212(0x2ff)]['buttonText'],'selectableCount':0x1,'choices':_0x4c8163},'options':{'delay':_0x5dd16b[_0x2d9212(0x2ff)]['delay']}};try{let _0x403b75=await this[_0x2d9212(0x4be)](_0x3708b7);if(_0x403b75){let _0x3099e7={'_id':_0x403b75['key']['id'],'_fromMe':_0x403b75[_0x2d9212(0x254)][_0x2d9212(0x7fb)],'_remoteJid':_0x403b75[_0x2d9212(0x254)]['remoteJid']};_0x5dd16b['uazapi'][_0x2d9212(0x7b4)]===!0x0&&(_0x41cf9b['status']=_0x2d9212(0x40a),this['logger']['verbose'](this[_0x2d9212(0x4f7)]+'\x20('+this[_0x2d9212(0x598)][_0x2d9212(0x76b)]+_0x2d9212(0x733)+_0x41cf9b[_0x2d9212(0x59d)])),this[_0x2d9212(0x803)]['verbose'](this[_0x2d9212(0x4f7)]+'\x20('+this['instance'][_0x2d9212(0x76b)]+'):\x20nextBlock.uazapi.name'+(_0x5dd16b['uazapi'][_0x2d9212(0x6a7)]||_0x5dd16b[_0x2d9212(0x2ff)][_0x2d9212(0x4e4)])),_0x41cf9b[_0x2d9212(0x81b)]=_0x403b75[_0x2d9212(0x254)]['id'],_0x41cf9b[_0x2d9212(0x5a3)]=_0x5dd16b[_0x2d9212(0x2ff)][_0x2d9212(0x6a7)]||_0x5dd16b[_0x2d9212(0x2ff)][_0x2d9212(0x4e4)],_0x41cf9b[_0x2d9212(0x3b1)]=_0x35e0de,_0x5dd16b[_0x2d9212(0x2ff)][_0x2d9212(0x396)]&&(_0x41cf9b[_0x2d9212(0x1fa)]=_0x5dd16b[_0x2d9212(0x2ff)][_0x2d9212(0x396)]),this['logger']['verbose'](this['instanceName']+'\x20('+this[_0x2d9212(0x598)]['wuid']+_0x2d9212(0x6eb)+_0x41cf9b['waitingMenu_text']);let _0xcda6a8=(0x0,m[_0x2d9212(0x741)])(_0x403b75[_0x2d9212(0x1dc)]),_0x1c14a0=(0x0,m[_0x2d9212(0x7b2)])(_0xcda6a8);_0x41cf9b[_0x2d9212(0x824)][_0x2d9212(0x1b1)]=_0x5dd16b[_0x2d9212(0x79d)][_0x2d9212(0x76f)]();let {message_normalized:_0x26dea6}=this[_0x2d9212(0x815)](_0xcda6a8,_0x1c14a0,null);_0x41cf9b['chatLog']['lastSendMessage']=await _0x26dea6;let _0x50c31a={'messageId':_0x403b75[_0x2d9212(0x254)]['id']},_0x41f9f2=_0x41cf9b[_0x2d9212(0x824)]['realVariables'];Object['assign'](_0x41f9f2,_0x3099e7),_0x41cf9b[_0x2d9212(0x824)][_0x2d9212(0x1cf)]=_0x41f9f2,this[_0x2d9212(0x371)](_0x41cf9b,_0x5dd16b,_0x50c31a);}else{let _0x18d7d9={'error':!0x0};this[_0x2d9212(0x371)](_0x41cf9b,_0x5dd16b,_0x18d7d9),this['logger'][_0x2d9212(0x820)](this[_0x2d9212(0x4f7)]+'\x20('+this['instance'][_0x2d9212(0x76b)]+_0x2d9212(0x716));}}catch(_0x348ae0){let _0x566be0={'error':!0x0,'errorLog':_0x348ae0 instanceof Error?_0x348ae0[_0x2d9212(0x1dc)]:JSON[_0x2d9212(0x54f)](_0x348ae0,null,0x2)};this[_0x2d9212(0x371)](_0x41cf9b,_0x5dd16b,_0x566be0),this[_0x2d9212(0x803)][_0x2d9212(0x820)](this['instanceName']+'\x20('+this['instance'][_0x2d9212(0x76b)]+_0x2d9212(0x385)+(_0x348ae0 instanceof Error?_0x348ae0['message']:JSON['stringify'](_0x348ae0,null,0x2)));}}async['uazapiDeleteMessage'](_0x340aa8,_0x3274a9){const _0x4fc7c6=a0_0x422c01;this[_0x4fc7c6(0x803)]['verbose'](this[_0x4fc7c6(0x4f7)]+'\x20('+this[_0x4fc7c6(0x598)][_0x4fc7c6(0x76b)]+'):\x20Deletando\x20mensagem');let _0x40a91c=_0x340aa8[_0x4fc7c6(0x824)][_0x4fc7c6(0x454)][_0x4fc7c6(0x752)](_0x4a345b=>_0x4a345b[_0x4fc7c6(0x4e7)]['toString']()===_0x3274a9[_0x4fc7c6(0x2ff)]['blockId'][_0x4fc7c6(0x76f)]()),_0x4f9886={'id':_0x40a91c[_0x4fc7c6(0x375)],'remoteJid':_0x40a91c[_0x4fc7c6(0x1fe)],'fromMe':_0x40a91c['fromMe']};try{let _0x221a04=await this['deleteMessage'](_0x4f9886);if(_0x221a04){let _0x14c83f=(0x0,m[_0x4fc7c6(0x741)])(_0x221a04[_0x4fc7c6(0x1dc)]),_0x52c94a=(0x0,m[_0x4fc7c6(0x7b2)])(_0x14c83f);_0x340aa8[_0x4fc7c6(0x824)][_0x4fc7c6(0x1b1)]=_0x3274a9[_0x4fc7c6(0x79d)][_0x4fc7c6(0x76f)]();let {message_normalized:_0x43dddf}=this[_0x4fc7c6(0x815)](_0x14c83f,_0x52c94a,null);_0x340aa8['chatLog'][_0x4fc7c6(0x23d)]=await _0x43dddf;let _0x5d9799={};this[_0x4fc7c6(0x371)](_0x340aa8,_0x3274a9,_0x5d9799);}else{let _0x146acd={'error':!0x0};this[_0x4fc7c6(0x371)](_0x340aa8,_0x3274a9,_0x146acd),this[_0x4fc7c6(0x803)][_0x4fc7c6(0x820)](this['instanceName']+'\x20('+this[_0x4fc7c6(0x598)][_0x4fc7c6(0x76b)]+_0x4fc7c6(0x3aa));}}catch(_0x2dbf57){let _0xc0c829={'error':!0x0,'errorLog':_0x2dbf57 instanceof Error?_0x2dbf57[_0x4fc7c6(0x1dc)]:JSON[_0x4fc7c6(0x54f)](_0x2dbf57,null,0x2)};this[_0x4fc7c6(0x371)](_0x340aa8,_0x3274a9,_0xc0c829),this[_0x4fc7c6(0x803)][_0x4fc7c6(0x820)](this[_0x4fc7c6(0x4f7)]+'\x20('+this[_0x4fc7c6(0x598)]['wuid']+_0x4fc7c6(0x3c7)+(_0x2dbf57 instanceof Error?_0x2dbf57[_0x4fc7c6(0x1dc)]:JSON['stringify'](_0x2dbf57,null,0x2)));}}async[a0_0x422c01(0x3f4)](_0xeb7079){const _0x2b9f89=a0_0x422c01;if(!_0xeb7079['name'])throw new w('O\x20nome\x20do\x20fluxo\x20é\x20obrigatório');if(await this['repository'][_0x2b9f89(0x576)][_0x2b9f89(0x64b)]({'where':{'name':_0xeb7079[_0x2b9f89(0x6a7)]}},this[_0x2b9f89(0x598)][_0x2b9f89(0x76b)]))throw new w('Já\x20existe\x20um\x20fluxo\x20com\x20esse\x20nome');return _0x2b9f89(0x6a7)in _0xeb7079&&_0x2b9f89(0x7f4)in _0xeb7079&&_0x2b9f89(0x7e0)in _0xeb7079&&Object[_0x2b9f89(0x21a)](_0xeb7079)[_0x2b9f89(0x623)]===0x3?this[_0x2b9f89(0x36c)](_0xeb7079[_0x2b9f89(0x7e0)],_0xeb7079[_0x2b9f89(0x7f4)],_0xeb7079[_0x2b9f89(0x6a7)]):this[_0x2b9f89(0x506)](_0xeb7079);}async[a0_0x422c01(0x36c)](_0x31eff7,_0x1f7477,_0x3619ef){const _0x36df6d=a0_0x422c01;try{this[_0x36df6d(0x803)][_0x36df6d(0x644)](this[_0x36df6d(0x4f7)]+'\x20('+this['instance'][_0x36df6d(0x76b)]+_0x36df6d(0x673));let _0x271d6d=await this[_0x36df6d(0x585)][_0x36df6d(0x576)][_0x36df6d(0x64b)]({'where':{'name':_0x3619ef,'sharePass':_0x1f7477}},_0x31eff7);if(!_0x271d6d)throw new w('Nenhum\x20fluxo\x20correspondente\x20encontrado\x20com\x20o\x20sharePass\x20fornecido.');let _0x59d46c={..._0x271d6d};return _0x59d46c['owner']=this[_0x36df6d(0x598)][_0x36df6d(0x76b)],_0x59d46c[_0x36df6d(0x3c1)]=Array['from'](new Set([..._0x271d6d['shareOwners']||[],_0x271d6d[_0x36df6d(0x7e0)],this[_0x36df6d(0x598)]['wuid']])),_0x271d6d['shareOwners']=_0x59d46c['shareOwners'],await this[_0x36df6d(0x585)]['flow'][_0x36df6d(0x3e5)](_0x271d6d[_0x36df6d(0x79d)],{'shareOwners':_0x271d6d[_0x36df6d(0x3c1)]},_0x271d6d[_0x36df6d(0x7e0)]),_0x271d6d[_0x36df6d(0x849)]===!0x0&&await this[_0x36df6d(0x585)]['flow'][_0x36df6d(0x247)]({},{'default':!0x1},this[_0x36df6d(0x598)][_0x36df6d(0x76b)]),await this[_0x36df6d(0x585)][_0x36df6d(0x576)][_0x36df6d(0x61a)](_0x59d46c,this[_0x36df6d(0x598)][_0x36df6d(0x76b)]);}catch(_0x42d7fe){throw this[_0x36df6d(0x803)][_0x36df6d(0x820)](this[_0x36df6d(0x4f7)]+'\x20('+this[_0x36df6d(0x598)][_0x36df6d(0x76b)]+_0x36df6d(0x206)+_0x42d7fe),new w(_0x36df6d(0x482)+_0x42d7fe);}}async[a0_0x422c01(0x506)](_0x36da62){const _0x1f0f30=a0_0x422c01;try{this[_0x1f0f30(0x803)][_0x1f0f30(0x644)](this[_0x1f0f30(0x4f7)]+'\x20('+this[_0x1f0f30(0x598)]['wuid']+_0x1f0f30(0x3a5)),delete _0x36da62[_0x1f0f30(0x3c1)],delete _0x36da62[_0x1f0f30(0x7f4)],delete _0x36da62['owner'],_0x36da62['default']===!0x0&&await this[_0x1f0f30(0x585)][_0x1f0f30(0x576)]['updateMany']({},{'default':!0x1},this[_0x1f0f30(0x598)][_0x1f0f30(0x76b)]);let _0x58146a=new le['Types'][(_0x1f0f30(0x5b2))](),_0x433878={'_id':_0x58146a,'default':!0x0,'title':_0x1f0f30(0x687),'x':0x0,'y':0x0},_0x2d03ae={'_id':new le[(_0x1f0f30(0x626))][(_0x1f0f30(0x5b2))](),'order':0x1,'groupId':_0x58146a['toString'](),'type':_0x1f0f30(0x819)},_0x1dc2f9={'_id':new le[(_0x1f0f30(0x626))]['ObjectId'](),'owner':this['instance']['wuid'],'name':_0x36da62[_0x1f0f30(0x6a7)],'groups':[_0x433878],'blocks':[_0x2d03ae],..._0x36da62};return await this[_0x1f0f30(0x585)][_0x1f0f30(0x576)]['createAndSave'](_0x1dc2f9,this[_0x1f0f30(0x598)][_0x1f0f30(0x76b)]);}catch(_0x104320){throw this[_0x1f0f30(0x803)][_0x1f0f30(0x820)](this['instanceName']+'\x20('+this[_0x1f0f30(0x598)][_0x1f0f30(0x76b)]+_0x1f0f30(0x4b6)+_0x104320),new w(_0x1f0f30(0x727)+_0x104320);}}async['synchronizeFlows'](_0x2a4b9e,_0x27ca41){const _0x2327b2=a0_0x422c01;try{let _0x11ce5d=await this[_0x2327b2(0x585)]['flow'][_0x2327b2(0x64b)]({'where':{'_id':_0x2a4b9e}},_0x27ca41);if(_0x11ce5d&&_0x11ce5d[_0x2327b2(0x3c1)]){for(let _0x2db2d7 of _0x11ce5d[_0x2327b2(0x3c1)])if(_0x2db2d7!==_0x27ca41){let _0x34ca9e={..._0x11ce5d,'owner':_0x2db2d7};await this[_0x2327b2(0x585)][_0x2327b2(0x576)]['replaceOne'](_0x2a4b9e,_0x34ca9e,_0x2db2d7);}}}catch(_0x14cad7){this['logger'][_0x2327b2(0x820)](_0x2327b2(0x344)+_0x14cad7);}}async['deleteFlow'](_0x57186d){const _0x5ccf59=a0_0x422c01;try{this[_0x5ccf59(0x803)][_0x5ccf59(0x644)](this[_0x5ccf59(0x4f7)]+'\x20('+this[_0x5ccf59(0x598)][_0x5ccf59(0x76b)]+'):\x20Deletando\x20fluxo...');let _0x586415=await this[_0x5ccf59(0x585)][_0x5ccf59(0x576)][_0x5ccf59(0x64b)]({'where':{'name':_0x57186d}},this[_0x5ccf59(0x598)]['wuid']);if(_0x586415&&_0x586415['shareOwners']&&_0x586415['shareOwners'][_0x5ccf59(0x623)]>0x1){for(let _0x35948d of _0x586415['shareOwners'])if(_0x35948d!==this['instance'][_0x5ccf59(0x76b)]){let _0x4c9086=await this[_0x5ccf59(0x585)]['flow']['findOne']({'where':{'sharePass':_0x586415[_0x5ccf59(0x7f4)]}},_0x35948d);_0x4c9086&&(_0x4c9086[_0x5ccf59(0x3c1)]=_0x4c9086[_0x5ccf59(0x3c1)]['filter'](_0x1d3f62=>_0x1d3f62!==_0x586415[_0x5ccf59(0x7e0)]),await this[_0x5ccf59(0x585)][_0x5ccf59(0x576)][_0x5ccf59(0x3e5)](_0x4c9086[_0x5ccf59(0x79d)],{'shareOwners':_0x4c9086[_0x5ccf59(0x3c1)]},_0x35948d));}}return await this['repository'][_0x5ccf59(0x576)][_0x5ccf59(0x758)]({'where':{'name':_0x57186d}},this['instance'][_0x5ccf59(0x76b)]);}catch(_0x31d768){return this[_0x5ccf59(0x803)][_0x5ccf59(0x820)](this[_0x5ccf59(0x4f7)]+'\x20('+this['instance'][_0x5ccf59(0x76b)]+_0x5ccf59(0x3dc)+(_0x31d768 instanceof Error?_0x31d768['message']:JSON[_0x5ccf59(0x54f)](_0x31d768,null,0x2))),{'message':'Erro\x20ao\x20deletar\x20o\x20fluxo:\x20'+_0x31d768};}}async[a0_0x422c01(0x838)](_0x5314a8){const _0x313baa=a0_0x422c01;try{this[_0x313baa(0x803)]['verbose'](this[_0x313baa(0x4f7)]+'\x20('+this[_0x313baa(0x598)][_0x313baa(0x76b)]+_0x313baa(0x284));let _0x2af95f=await this[_0x313baa(0x585)][_0x313baa(0x576)]['findOne']({'where':{'name':_0x5314a8}},this[_0x313baa(0x598)]['wuid']);if(!_0x2af95f)throw new Error(_0x313baa(0x524));if(!this['AutomateSystem']&&(await this[_0x313baa(0x1ac)](),!this[_0x313baa(0x728)]))return null;let _0x4607d4=this[_0x313baa(0x728)]?.['customFields'][_0x313baa(0x1ec)](_0x24f5df=>_0x24f5df[_0x313baa(0x6a7)]),_0x57fc94=[_0x313baa(0x636),_0x313baa(0x6e4),'email',_0x313baa(0x2d9),_0x313baa(0x59d),_0x313baa(0x2e0),_0x313baa(0x581),_0x313baa(0x26f),_0x313baa(0x67f)];_0x2af95f[_0x313baa(0x5f9)]=_0x2af95f[_0x313baa(0x5f9)][_0x313baa(0x7aa)](_0x1f580b=>!(_0x1f580b[_0x313baa(0x380)]==='leadInfo'||_0x1f580b[_0x313baa(0x2b6)])),_0x57fc94[_0x313baa(0x485)](_0x20516d=>{const _0x375591=_0x313baa;_0x2af95f['variables'][_0x375591(0x484)]({'folder':_0x375591(0x2b6),'name':_0x20516d,'value':'','doc':'','leadInfo':!0x0});}),_0x4607d4[_0x313baa(0x485)](_0x5aff9e=>{const _0x318783=_0x313baa;let _0x1e549b=_0x2af95f['variables']['findIndex'](_0x2c9ce6=>_0x2c9ce6['name']===_0x5aff9e);_0x1e549b===-0x1?_0x2af95f[_0x318783(0x5f9)][_0x318783(0x484)]({'folder':_0x318783(0x2b6),'name':_0x5aff9e,'value':'','doc':'','leadInfo':!0x0}):(_0x2af95f[_0x318783(0x5f9)][_0x1e549b][_0x318783(0x380)]=_0x318783(0x2b6),_0x2af95f['variables'][_0x1e549b][_0x318783(0x2b6)]=!0x0);}),_0x2af95f[_0x313baa(0x4d6)]&&_0x2af95f[_0x313baa(0x4d6)]['length']>0x0&&_0x2af95f['blocks'][_0x313baa(0x485)](_0x35e782=>{const _0x607e01=_0x313baa;_0x35e782[_0x607e01(0x79e)]&&_0x35e782[_0x607e01(0x832)]&&_0x35e782[_0x607e01(0x79e)]===_0x35e782['next_groupId']&&(_0x35e782[_0x607e01(0x832)]=null);});let _0x209945=await this[_0x313baa(0x585)][_0x313baa(0x576)][_0x313baa(0x3e5)](_0x2af95f[_0x313baa(0x79d)],_0x2af95f,this[_0x313baa(0x598)][_0x313baa(0x76b)]);if(!_0x209945)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x209945;}catch(_0xb7b73c){throw this[_0x313baa(0x803)][_0x313baa(0x820)](this['instanceName']+'\x20('+this[_0x313baa(0x598)][_0x313baa(0x76b)]+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo\x20'+(_0xb7b73c instanceof Error?_0xb7b73c['message']:JSON[_0x313baa(0x54f)](_0xb7b73c,null,0x2))),new w(_0x313baa(0x305)+_0xb7b73c);}}async[a0_0x422c01(0x209)](){const _0x55a773=a0_0x422c01;try{return this['logger'][_0x55a773(0x644)](this[_0x55a773(0x4f7)]+'\x20('+this[_0x55a773(0x598)][_0x55a773(0x76b)]+'):\x20Buscando\x20todos\x20os\x20fluxos...'),await this[_0x55a773(0x585)][_0x55a773(0x576)][_0x55a773(0x686)](this[_0x55a773(0x598)][_0x55a773(0x76b)]),await this[_0x55a773(0x585)][_0x55a773(0x576)][_0x55a773(0x547)]({'where':{}},this[_0x55a773(0x598)][_0x55a773(0x76b)]);}catch(_0x1910f7){return this[_0x55a773(0x803)]['error'](this[_0x55a773(0x4f7)]+'\x20('+this[_0x55a773(0x598)][_0x55a773(0x76b)]+_0x55a773(0x7ee)+(_0x1910f7 instanceof Error?_0x1910f7[_0x55a773(0x1dc)]:JSON['stringify'](_0x1910f7,null,0x2))),{'message':_0x55a773(0x426)+_0x1910f7};}}async[a0_0x422c01(0x55e)](_0x309812){const _0x41d37e=a0_0x422c01;try{this['logger'][_0x41d37e(0x644)](this[_0x41d37e(0x4f7)]+'\x20('+this[_0x41d37e(0x598)][_0x41d37e(0x76b)]+_0x41d37e(0x637));let _0x3e043e=await this[_0x41d37e(0x585)]['flow'][_0x41d37e(0x64b)]({'where':{'name':_0x309812[_0x41d37e(0x6a7)]}},this[_0x41d37e(0x598)][_0x41d37e(0x76b)]);if(!_0x3e043e)return{'message':_0x41d37e(0x57c)};_0x309812[_0x41d37e(0x849)]===!0x0&&await this[_0x41d37e(0x585)]['flow'][_0x41d37e(0x247)]({},{'default':!0x1},this['instance'][_0x41d37e(0x76b)]),delete _0x309812[_0x41d37e(0x3c1)],delete _0x309812[_0x41d37e(0x7f4)];let _0x3a7f67=await this[_0x41d37e(0x585)][_0x41d37e(0x576)][_0x41d37e(0x3e5)](_0x3e043e[_0x41d37e(0x79d)],_0x309812,this[_0x41d37e(0x598)][_0x41d37e(0x76b)]);return _0x3a7f67&&_0x3a7f67[_0x41d37e(0x3c1)]&&_0x3a7f67[_0x41d37e(0x3c1)][_0x41d37e(0x623)]>0x1&&this[_0x41d37e(0x40b)](_0x3a7f67[_0x41d37e(0x79d)],this[_0x41d37e(0x598)][_0x41d37e(0x76b)]),_0x3a7f67;}catch(_0x3f4fb8){throw this[_0x41d37e(0x803)][_0x41d37e(0x820)](this[_0x41d37e(0x4f7)]+'\x20('+this[_0x41d37e(0x598)][_0x41d37e(0x76b)]+'):\x20Erro\x20ao\x20alterar\x20fluxo:\x20'+(_0x3f4fb8 instanceof Error?_0x3f4fb8[_0x41d37e(0x1dc)]:JSON[_0x41d37e(0x54f)](_0x3f4fb8,null,0x2))),new w(_0x41d37e(0x4a2)+(_0x3f4fb8 instanceof Error?_0x3f4fb8[_0x41d37e(0x1dc)]:JSON[_0x41d37e(0x54f)](_0x3f4fb8,null,0x2)));}}async[a0_0x422c01(0x514)](_0x3d384e){const _0x1fabb9=a0_0x422c01;try{this[_0x1fabb9(0x803)][_0x1fabb9(0x644)](this[_0x1fabb9(0x4f7)]+'\x20('+this['instance'][_0x1fabb9(0x76b)]+_0x1fabb9(0x1a5));let _0x221160=await this[_0x1fabb9(0x585)]['flow']['findOne']({'where':{'name':_0x3d384e[_0x1fabb9(0x6a7)]}},this['instance']['wuid']);_0x221160||this[_0x1fabb9(0x4d4)](_0x1fabb9(0x524));let {block:_0x1a45e2}=_0x3d384e;_0x1a45e2?.[_0x1fabb9(0x260)]?this['copyBlock'](_0x221160,_0x3d384e):_0x1a45e2?.['delete']?this['deleteBlock'](_0x221160,_0x3d384e):_0x1a45e2[_0x1fabb9(0x79d)]?await this[_0x1fabb9(0x7c2)](_0x221160,_0x3d384e):this[_0x1fabb9(0x40e)](_0x221160,_0x3d384e);let _0x187adb=await this[_0x1fabb9(0x585)]['flow'][_0x1fabb9(0x3e5)](_0x221160['_id'],_0x221160,this[_0x1fabb9(0x598)][_0x1fabb9(0x76b)]);if(_0x187adb&&_0x187adb[_0x1fabb9(0x3c1)]&&_0x187adb[_0x1fabb9(0x3c1)]['length']>0x1&&this[_0x1fabb9(0x40b)](_0x187adb[_0x1fabb9(0x79d)],this[_0x1fabb9(0x598)][_0x1fabb9(0x76b)]),!_0x187adb)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x187adb;}catch(_0x248784){this[_0x1fabb9(0x4d4)]('Erro\x20ao\x20editar\x20o\x20bloco:\x20'+_0x248784);}}async[a0_0x422c01(0x577)](_0x3e0d11,_0x3753ed){const _0x294bbd=a0_0x422c01;let _0x4451ad=_0x3753ed['block'][_0x294bbd(0x79d)],_0x4657fc=_0x3e0d11[_0x294bbd(0x4d6)][_0x294bbd(0x752)](_0x188fec=>_0x188fec[_0x294bbd(0x79d)]['toString']()===_0x4451ad);if(!_0x4657fc){this[_0x294bbd(0x803)][_0x294bbd(0x820)](this[_0x294bbd(0x4f7)]+'\x20('+this[_0x294bbd(0x598)][_0x294bbd(0x76b)]+_0x294bbd(0x39c)+_0x4451ad+_0x294bbd(0x474));return;}this['logger']['verbose'](this[_0x294bbd(0x4f7)]+'\x20('+this[_0x294bbd(0x598)][_0x294bbd(0x76b)]+_0x294bbd(0x759)+JSON[_0x294bbd(0x54f)](_0x4657fc));let _0x4ec64d=JSON['parse'](JSON[_0x294bbd(0x54f)](_0x4657fc));_0x4ec64d['_id']=new le['default']['Types'][(_0x294bbd(0x5b2))](),this[_0x294bbd(0x803)]['verbose'](this['instanceName']+'\x20('+this[_0x294bbd(0x598)][_0x294bbd(0x76b)]+_0x294bbd(0x4f6)+JSON[_0x294bbd(0x54f)](_0x4ec64d)),_0x3e0d11[_0x294bbd(0x4d6)][_0x294bbd(0x484)](_0x4ec64d),this['reorderBlocks'](_0x3e0d11[_0x294bbd(0x4d6)],_0x4ec64d['groupId']);}['throwAndLogError'](_0x232569){const _0x466e2a=a0_0x422c01;throw this['logger'][_0x466e2a(0x820)](this[_0x466e2a(0x4f7)]+'\x20('+this[_0x466e2a(0x598)]['wuid']+_0x466e2a(0x584)+_0x232569),new w(_0x232569);}[a0_0x422c01(0x1d7)](_0x25e346,_0x13e079){const _0x5c1567=a0_0x422c01;let {block:_0x341e8a}=_0x13e079;if(_0x341e8a['type']===_0x5c1567(0x819)){this[_0x5c1567(0x4d4)]('Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão');return;}if(!_0x341e8a[_0x5c1567(0x79d)]){this['throwAndLogError'](_0x5c1567(0x314));return;}let _0x5bbb1f=_0x25e346[_0x5c1567(0x4d6)][_0x5c1567(0x752)](_0x375d94=>_0x375d94[_0x5c1567(0x79d)]['toString']()===_0x13e079['block'][_0x5c1567(0x79d)][_0x5c1567(0x76f)]());if(!_0x5bbb1f){this[_0x5c1567(0x4d4)](_0x5c1567(0x2f5)+_0x341e8a[_0x5c1567(0x79d)]+_0x5c1567(0x194));return;}_0x25e346[_0x5c1567(0x4d6)]=_0x25e346[_0x5c1567(0x4d6)]['filter'](_0x28e4e3=>_0x28e4e3[_0x5c1567(0x79d)][_0x5c1567(0x76f)]()!==_0x13e079[_0x5c1567(0x20e)][_0x5c1567(0x79d)][_0x5c1567(0x76f)]()),_0x25e346[_0x5c1567(0x776)]=_0x25e346[_0x5c1567(0x776)][_0x5c1567(0x7aa)](_0x3a8f1d=>_0x3a8f1d[_0x5c1567(0x4e7)]!==_0x341e8a['_id'][_0x5c1567(0x76f)]()),_0x25e346[_0x5c1567(0x37f)]=_0x25e346[_0x5c1567(0x37f)][_0x5c1567(0x7aa)](_0x245ef4=>_0x245ef4['blockId']!==_0x341e8a[_0x5c1567(0x79d)][_0x5c1567(0x76f)]()),_0x25e346[_0x5c1567(0x812)]=_0x25e346[_0x5c1567(0x812)]['filter'](_0x242ec6=>_0x242ec6[_0x5c1567(0x4e7)]!==_0x341e8a[_0x5c1567(0x79d)][_0x5c1567(0x76f)]()),this[_0x5c1567(0x445)](_0x25e346[_0x5c1567(0x4d6)],_0x5bbb1f[_0x5c1567(0x79e)]);}async[a0_0x422c01(0x7c2)](_0x23881a,_0x404099){const _0x1ca4eb=a0_0x422c01;let _0x1b5a8e=_0x23881a[_0x1ca4eb(0x4d6)][_0x1ca4eb(0x715)](_0x18c38e=>_0x18c38e[_0x1ca4eb(0x79d)][_0x1ca4eb(0x76f)]()===_0x404099[_0x1ca4eb(0x20e)][_0x1ca4eb(0x79d)][_0x1ca4eb(0x76f)]());if(this[_0x1ca4eb(0x803)][_0x1ca4eb(0x644)](this[_0x1ca4eb(0x4f7)]+'\x20('+this['instance'][_0x1ca4eb(0x76b)]+_0x1ca4eb(0x6d0)+_0x1b5a8e),_0x1b5a8e===-0x1){this['logger'][_0x1ca4eb(0x644)](_0x1ca4eb(0x2f5)+_0x404099[_0x1ca4eb(0x20e)][_0x1ca4eb(0x79d)]+_0x1ca4eb(0x2cb));return;}if(_0x23881a['blocks'][_0x1b5a8e]['type']===_0x1ca4eb(0x819)){let _0x17a2af=Object[_0x1ca4eb(0x21a)](_0x404099['block']);if(_0x17a2af[_0x1ca4eb(0x623)]>0x2||_0x17a2af[_0x1ca4eb(0x623)]===0x2&&!_0x17a2af[_0x1ca4eb(0x563)](_0x1ca4eb(0x832))){this[_0x1ca4eb(0x4d4)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x1e4676=_0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e]['groupId'];for(let _0x46278d in _0x404099['block'])_0x404099['block'][_0x1ca4eb(0x2b3)](_0x46278d)&&(_0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e][_0x46278d]=_0x404099[_0x1ca4eb(0x20e)][_0x46278d]);if(this[_0x1ca4eb(0x803)][_0x1ca4eb(0x644)](this[_0x1ca4eb(0x4f7)]+'\x20('+this[_0x1ca4eb(0x598)][_0x1ca4eb(0x76b)]+_0x1ca4eb(0x6d1)+JSON['stringify'](_0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e])),_0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e][_0x1ca4eb(0x5c9)]&&_0x1ca4eb(0x3f6)in _0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e][_0x1ca4eb(0x5c9)]){this[_0x1ca4eb(0x803)]['verbose'](this[_0x1ca4eb(0x4f7)]+'\x20('+this[_0x1ca4eb(0x598)][_0x1ca4eb(0x76b)]+_0x1ca4eb(0x401));let _0x4dcbb5=JSON[_0x1ca4eb(0x54f)](_0x23881a['blocks'][_0x1b5a8e][_0x1ca4eb(0x5c9)][_0x1ca4eb(0x3f6)],null,0x1);_0x4dcbb5[_0x1ca4eb(0x623)]>0x2&&(_0x4dcbb5=_0x4dcbb5[_0x1ca4eb(0x5bc)](0x1,_0x4dcbb5[_0x1ca4eb(0x623)]-0x1)[_0x1ca4eb(0x78f)]()),_0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e][_0x1ca4eb(0x5c9)]['headerString']=_0x4dcbb5;}if(_0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e]['apirequest']&&_0x1ca4eb(0x4fc)in _0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e][_0x1ca4eb(0x5c9)]&&!('bodyString'in _0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e][_0x1ca4eb(0x5c9)])){this[_0x1ca4eb(0x803)][_0x1ca4eb(0x644)](this[_0x1ca4eb(0x4f7)]+'\x20('+this[_0x1ca4eb(0x598)][_0x1ca4eb(0x76b)]+_0x1ca4eb(0x467)),_0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e]['apirequest'][_0x1ca4eb(0x7ac)]=!0x1;let _0xd068ce=JSON[_0x1ca4eb(0x54f)](_0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e][_0x1ca4eb(0x5c9)]['body'],null,0x2);_0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e][_0x1ca4eb(0x5c9)][_0x1ca4eb(0x5eb)]=_0xd068ce;}if(_0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e][_0x1ca4eb(0x5c9)]&&_0x1ca4eb(0x5eb)in _0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e][_0x1ca4eb(0x5c9)]){_0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e][_0x1ca4eb(0x5c9)][_0x1ca4eb(0x7ac)]=!0x1;let _0x55767e=_0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e]['apirequest']['bodyString'],_0x4c496f=this[_0x1ca4eb(0x17e)](_0x55767e);_0x23881a['blocks'][_0x1b5a8e]['apirequest']['bodyString']=_0x4c496f[_0x1ca4eb(0x2a9)],_0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e][_0x1ca4eb(0x5c9)][_0x1ca4eb(0x7ac)]=_0x4c496f[_0x1ca4eb(0x820)];}let _0x48b1a5=_0x23881a[_0x1ca4eb(0x4d6)][_0x1b5a8e][_0x1ca4eb(0x79e)];_0x1e4676!==_0x48b1a5?(this[_0x1ca4eb(0x445)](_0x23881a[_0x1ca4eb(0x4d6)],_0x1e4676),this['reorderBlocks'](_0x23881a[_0x1ca4eb(0x4d6)],_0x48b1a5)):this[_0x1ca4eb(0x445)](_0x23881a[_0x1ca4eb(0x4d6)],_0x1e4676);}[a0_0x422c01(0x17e)](_0x32b282){const _0x17214b=a0_0x422c01;let _0x2eea88='\u205f',_0x1f9f0a=!0x1,_0x32e243='';for(let _0x48fb05=0x0;_0x48fb05<_0x32b282['length'];_0x48fb05++){let _0x5022b0=_0x32b282[_0x48fb05];_0x5022b0==='\x22'&&(_0x48fb05===0x0||_0x32b282[_0x48fb05-0x1]!=='\x5c')&&(_0x1f9f0a=!_0x1f9f0a),!(!_0x1f9f0a&&(_0x5022b0==='\x0a'||_0x5022b0==='\x20'||_0x5022b0===_0x2eea88))&&(_0x32e243+=_0x5022b0);}let _0x3366a1={},_0x344997=9876543210.1234,_0x2c069e=_0x32e243[_0x17214b(0x246)](/\{\{([^}]+)\}\}/g,_0x2c97be=>{let _0x236912=_0x2c97be,_0x110100=''+_0x344997;return _0x3366a1[_0x110100]=_0x236912,_0x344997+=0.0001,_0x110100;}),_0x2427da='',_0x8728e7=!0x1;try{let _0xf87e33=JSON['parse'](_0x2c069e);_0x2427da=JSON['stringify'](_0xf87e33,null,0x2),_0x2427da=_0x2427da[_0x17214b(0x246)](/\n( +)/g,(_0x40ab05,_0x4533ed)=>{const _0x586c53=_0x17214b;let _0x2929c4=_0x4533ed[_0x586c53(0x623)];return'\x0a'+_0x2eea88[_0x586c53(0x235)](_0x2929c4*0x2);}),_0x2427da=_0x2427da[_0x17214b(0x246)](/(\d{10,}\.\d+)/g,_0x5b0811=>_0x3366a1[_0x5b0811]||_0x5b0811);}catch(_0xe23557){console['error'](_0x17214b(0x26b),_0xe23557),_0x2427da=_0x32b282,_0x8728e7=!0x0;}return{'result':_0x2427da,'error':_0x8728e7};}['addBlock'](_0x44a888,_0x1e5df6){const _0x1ad04b=a0_0x422c01;if(_0x1e5df6[_0x1ad04b(0x20e)][_0x1ad04b(0x7f6)]===_0x1ad04b(0x819)){this[_0x1ad04b(0x4d4)](_0x1ad04b(0x1eb));return;}if(_0x1e5df6[_0x1ad04b(0x20e)][_0x1ad04b(0x5c9)]&&_0x1ad04b(0x3f6)in _0x1e5df6[_0x1ad04b(0x20e)][_0x1ad04b(0x5c9)]){this['logger'][_0x1ad04b(0x644)](this[_0x1ad04b(0x4f7)]+'\x20('+this[_0x1ad04b(0x598)]['wuid']+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x368193=JSON[_0x1ad04b(0x54f)](_0x1e5df6[_0x1ad04b(0x20e)][_0x1ad04b(0x5c9)][_0x1ad04b(0x3f6)],null,0x1);_0x368193['length']>0x2&&(_0x368193=_0x368193[_0x1ad04b(0x5bc)](0x1,_0x368193[_0x1ad04b(0x623)]-0x1)['trim']()),_0x1e5df6['block'][_0x1ad04b(0x5c9)][_0x1ad04b(0x26e)]=_0x368193;}_0x1e5df6['block'][_0x1ad04b(0x5c9)]&&_0x1ad04b(0x4fc)in _0x1e5df6['block'][_0x1ad04b(0x5c9)]&&(this['logger']['verbose'](this[_0x1ad04b(0x4f7)]+'\x20('+this[_0x1ad04b(0x598)][_0x1ad04b(0x76b)]+_0x1ad04b(0x467)),_0x1e5df6[_0x1ad04b(0x20e)][_0x1ad04b(0x5c9)][_0x1ad04b(0x5eb)]=JSON[_0x1ad04b(0x54f)](_0x1e5df6[_0x1ad04b(0x20e)][_0x1ad04b(0x5c9)]['body'],null,0x1)[_0x1ad04b(0x78f)]()),_0x44a888['blocks'][_0x1ad04b(0x484)](_0x1e5df6[_0x1ad04b(0x20e)]),this[_0x1ad04b(0x445)](_0x44a888[_0x1ad04b(0x4d6)],_0x1e5df6[_0x1ad04b(0x20e)][_0x1ad04b(0x79e)]);}[a0_0x422c01(0x445)](_0x4207b3,_0x422b58){const _0x3a2ed1=a0_0x422c01;let _0x2e81a7=_0x4207b3['filter'](_0x2aabd4=>_0x2aabd4[_0x3a2ed1(0x79e)]===_0x422b58);_0x2e81a7[_0x3a2ed1(0x799)]((_0x582292,_0x452646)=>_0x582292[_0x3a2ed1(0x68b)]-_0x452646['order']),_0x2e81a7[_0x3a2ed1(0x485)]((_0x114684,_0x245b63)=>_0x114684[_0x3a2ed1(0x68b)]=_0x245b63+0x1);}async[a0_0x422c01(0x54a)](_0xc7a519){const _0x1fc91c=a0_0x422c01;try{if(this[_0x1fc91c(0x803)][_0x1fc91c(0x644)](this['instanceName']+'\x20('+this[_0x1fc91c(0x598)]['wuid']+_0x1fc91c(0x357)),!_0xc7a519||!_0xc7a519[_0x1fc91c(0x607)]){this[_0x1fc91c(0x4d4)]('Data\x20inválida\x20fornecida');return;}let _0xf17003=await this[_0x1fc91c(0x585)]['flow'][_0x1fc91c(0x64b)]({'where':{'name':_0xc7a519[_0x1fc91c(0x6a7)]}},this[_0x1fc91c(0x598)][_0x1fc91c(0x76b)]);_0xf17003||this[_0x1fc91c(0x4d4)](_0x1fc91c(0x524));let {replyOption:_0x47271f}=_0xc7a519;_0x47271f?.[_0x1fc91c(0x653)]?(this[_0x1fc91c(0x39e)](_0xf17003,_0xc7a519),this['reorderReplyOptions'](_0xf17003[_0x1fc91c(0x812)],_0xc7a519[_0x1fc91c(0x607)]['blockId'])):_0x47271f[_0x1fc91c(0x79d)]?(await this['updateReplyOption'](_0xf17003,_0xc7a519),this[_0x1fc91c(0x2fa)](_0xf17003[_0x1fc91c(0x812)],_0xc7a519[_0x1fc91c(0x607)][_0x1fc91c(0x4e7)])):(this[_0x1fc91c(0x599)](_0xf17003,_0xc7a519),this[_0x1fc91c(0x2fa)](_0xf17003[_0x1fc91c(0x812)],_0xc7a519[_0x1fc91c(0x607)]['blockId']));let _0xbe5375=await this[_0x1fc91c(0x585)][_0x1fc91c(0x576)][_0x1fc91c(0x3e5)](_0xf17003['_id'],_0xf17003,this['instance'][_0x1fc91c(0x76b)]);if(_0xbe5375&&_0xbe5375[_0x1fc91c(0x3c1)]&&_0xbe5375[_0x1fc91c(0x3c1)]['length']>0x1&&this[_0x1fc91c(0x40b)](_0xbe5375[_0x1fc91c(0x79d)],this[_0x1fc91c(0x598)][_0x1fc91c(0x76b)]),!_0xbe5375)throw new Error(_0x1fc91c(0x19b));return _0xbe5375;}catch(_0x57634d){this[_0x1fc91c(0x4d4)](_0x1fc91c(0x83c)+_0x57634d);}}[a0_0x422c01(0x2fa)](_0x4e83cb,_0x51524e){const _0x53fecb=a0_0x422c01;console[_0x53fecb(0x7f7)](_0x53fecb(0x353),_0x51524e),_0x4e83cb['forEach'](_0x526f6e=>{const _0x23b491=_0x53fecb;_0x526f6e[_0x23b491(0x4e7)]===_0x51524e&&_0x526f6e['order']===void 0x0&&(_0x526f6e[_0x23b491(0x68b)]=0x270f);});let _0x49a033=_0x4e83cb[_0x53fecb(0x7aa)](_0xa98030=>_0xa98030[_0x53fecb(0x4e7)]===_0x51524e);_0x49a033[_0x53fecb(0x799)]((_0x33d8ad,_0x7d6fa5)=>_0x33d8ad[_0x53fecb(0x68b)]-_0x7d6fa5[_0x53fecb(0x68b)]),_0x49a033['forEach']((_0xe5eb3a,_0x4a98a1)=>{const _0x38a6b8=_0x53fecb;_0xe5eb3a[_0x38a6b8(0x68b)]=_0x4a98a1+0x1;}),_0x4e83cb[_0x53fecb(0x485)](_0x3dc8c5=>{const _0x9ae2e9=_0x53fecb;if(_0x3dc8c5[_0x9ae2e9(0x4e7)]===_0x51524e){let _0x56deb5=_0x49a033[_0x9ae2e9(0x752)](_0x1d0bd5=>_0x1d0bd5[_0x9ae2e9(0x79d)]&&_0x3dc8c5[_0x9ae2e9(0x79d)]&&_0x1d0bd5[_0x9ae2e9(0x79d)][_0x9ae2e9(0x76f)]()===_0x3dc8c5[_0x9ae2e9(0x79d)][_0x9ae2e9(0x76f)]());_0x56deb5&&(_0x3dc8c5[_0x9ae2e9(0x68b)]=_0x56deb5['order']);}}),console[_0x53fecb(0x7f7)](_0x53fecb(0x4e9),_0x4e83cb);}[a0_0x422c01(0x39e)](_0x3bbe35,_0x47ce64){const _0x269ef4=a0_0x422c01;let {replyOption:_0x1e8d43}=_0x47ce64;if(!_0x1e8d43['_id']){this[_0x269ef4(0x4d4)](_0x269ef4(0x35b));return;}if(!_0x3bbe35[_0x269ef4(0x812)][_0x269ef4(0x752)](_0x4a906a=>_0x4a906a[_0x269ef4(0x79d)]['toString']()===_0x47ce64[_0x269ef4(0x607)][_0x269ef4(0x79d)][_0x269ef4(0x76f)]())){this['throwAndLogError']('ReplyOption\x20com\x20ID\x20'+_0x1e8d43[_0x269ef4(0x79d)]+_0x269ef4(0x194));return;}_0x3bbe35['replyOptions']=_0x3bbe35['replyOptions'][_0x269ef4(0x7aa)](_0x3e94dd=>_0x3e94dd[_0x269ef4(0x79d)][_0x269ef4(0x76f)]()!==_0x47ce64['replyOption']['_id'][_0x269ef4(0x76f)]());}async[a0_0x422c01(0x5cc)](_0x31c379,_0x7edd51){const _0x439405=a0_0x422c01;let _0x391f47=_0x31c379[_0x439405(0x812)][_0x439405(0x715)](_0x3d2e5f=>_0x3d2e5f[_0x439405(0x79d)][_0x439405(0x76f)]()===_0x7edd51[_0x439405(0x607)][_0x439405(0x79d)]['toString']());if(_0x391f47===-0x1){this['throwAndLogError'](_0x439405(0x665)+_0x7edd51[_0x439405(0x607)]['_id']+_0x439405(0x2cb));return;}for(let _0x58dab7 in _0x7edd51['replyOption'])_0x7edd51['replyOption'][_0x439405(0x2b3)](_0x58dab7)&&(_0x31c379['replyOptions'][_0x391f47][_0x58dab7]=_0x7edd51[_0x439405(0x607)][_0x58dab7]);}[a0_0x422c01(0x599)](_0x3f04bd,_0x508a2a){const _0xae4406=a0_0x422c01;_0x3f04bd[_0xae4406(0x812)][_0xae4406(0x484)](_0x508a2a[_0xae4406(0x607)]);}async['editFlowGroup'](_0x3f1e3e){const _0x294980=a0_0x422c01;this['logger'][_0x294980(0x644)](this[_0x294980(0x4f7)]+'\x20('+this['instance']['wuid']+_0x294980(0x207)+_0x3f1e3e);try{this[_0x294980(0x803)]['verbose'](this[_0x294980(0x4f7)]+'\x20('+this[_0x294980(0x598)][_0x294980(0x76b)]+_0x294980(0x7ae));let _0x3b2734=await this['repository'][_0x294980(0x576)][_0x294980(0x64b)]({'where':{'name':_0x3f1e3e[_0x294980(0x6a7)]}},this['instance'][_0x294980(0x76b)]);if(!_0x3b2734)throw new Error(_0x294980(0x524));if(_0x3f1e3e[_0x294980(0x625)]&&_0x3f1e3e[_0x294980(0x625)]?.[_0x294980(0x653)]===!0x0){if(this[_0x294980(0x803)]['verbose'](this[_0x294980(0x4f7)]+'\x20('+this[_0x294980(0x598)][_0x294980(0x76b)]+_0x294980(0x4cf)),_0x3f1e3e[_0x294980(0x625)]['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão'};if(_0x3b2734[_0x294980(0x4d6)]['some'](_0x5a74e6=>_0x5a74e6[_0x294980(0x79e)][_0x294980(0x76f)]()===_0x3f1e3e[_0x294980(0x625)][_0x294980(0x79d)]))return this[_0x294980(0x803)][_0x294980(0x644)](this[_0x294980(0x4f7)]+'\x20('+this[_0x294980(0x598)][_0x294980(0x76b)]+_0x294980(0x392)),{'message':'Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.'};_0x3b2734[_0x294980(0x196)]=_0x3b2734[_0x294980(0x196)][_0x294980(0x7aa)](_0x123f36=>_0x123f36[_0x294980(0x79d)][_0x294980(0x76f)]()!==_0x3f1e3e[_0x294980(0x625)][_0x294980(0x79d)]);}else{if(_0x3f1e3e[_0x294980(0x625)]){if(_0x3f1e3e[_0x294980(0x625)][_0x294980(0x849)]===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x3f1e3e['group'][_0x294980(0x79d)]){let _0x519d36=_0x3b2734[_0x294980(0x196)][_0x294980(0x752)](_0x3ed79=>_0x3ed79[_0x294980(0x79d)][_0x294980(0x76f)]()===_0x3f1e3e[_0x294980(0x625)][_0x294980(0x79d)]);_0x519d36&&(_0x3f1e3e[_0x294980(0x625)]['x']<0x0&&(_0x3f1e3e[_0x294980(0x625)]['x']=0x0),_0x3f1e3e[_0x294980(0x625)]['y']<0x0&&(_0x3f1e3e[_0x294980(0x625)]['y']=0x0),Object['assign'](_0x519d36,_0x3f1e3e[_0x294980(0x625)]));}else _0x3b2734['groups']['push'](_0x3f1e3e[_0x294980(0x625)]);}}let _0x135125=await this['repository']['flow'][_0x294980(0x3e5)](_0x3b2734[_0x294980(0x79d)],_0x3b2734,this[_0x294980(0x598)][_0x294980(0x76b)]);if(_0x135125&&_0x135125[_0x294980(0x3c1)]&&_0x135125[_0x294980(0x3c1)][_0x294980(0x623)]>0x1&&this[_0x294980(0x40b)](_0x135125[_0x294980(0x79d)],this[_0x294980(0x598)][_0x294980(0x76b)]),!_0x135125)throw new Error(_0x294980(0x19b));return _0x135125;}catch(_0x56da72){throw this[_0x294980(0x803)][_0x294980(0x820)](this[_0x294980(0x4f7)]+'\x20('+this['instance'][_0x294980(0x76b)]+_0x294980(0x5d5)+(_0x56da72 instanceof Error?_0x56da72[_0x294980(0x1dc)]:JSON[_0x294980(0x54f)](_0x56da72,null,0x2))),new w(_0x294980(0x205)+(_0x56da72 instanceof Error?_0x56da72['message']:JSON['stringify'](_0x56da72,null,0x2)));}}async[a0_0x422c01(0x80a)](_0x4c3dd9){const _0x26b72b=a0_0x422c01;try{this[_0x26b72b(0x803)][_0x26b72b(0x644)](this[_0x26b72b(0x4f7)]+'\x20('+this['instance'][_0x26b72b(0x76b)]+_0x26b72b(0x61e));let _0x3b105b=await this[_0x26b72b(0x585)]['flow'][_0x26b72b(0x64b)]({'where':{'name':_0x4c3dd9[_0x26b72b(0x6a7)]}},this[_0x26b72b(0x598)][_0x26b72b(0x76b)]);if(!_0x3b105b)throw new Error('Flow\x20não\x20encontrado');let _0x2c8d96=!0x1;if(_0x4c3dd9[_0x26b72b(0x6a6)]?.[_0x26b72b(0x653)]===!0x0)_0x3b105b['conditions']=_0x3b105b[_0x26b72b(0x776)]['filter'](_0x345b0f=>_0x345b0f&&_0x4c3dd9[_0x26b72b(0x6a6)]&&_0x345b0f[_0x26b72b(0x79d)]&&_0x4c3dd9[_0x26b72b(0x6a6)][_0x26b72b(0x79d)]&&_0x345b0f['_id']['toString']()!==_0x4c3dd9[_0x26b72b(0x6a6)]['_id'][_0x26b72b(0x76f)]()),_0x2c8d96=!0x0;else{let _0x1e8a57=_0x3b105b[_0x26b72b(0x776)][_0x26b72b(0x752)](_0x3c80ff=>_0x3c80ff&&_0x4c3dd9['condition']&&_0x3c80ff['_id']&&_0x4c3dd9[_0x26b72b(0x6a6)][_0x26b72b(0x79d)]&&_0x3c80ff[_0x26b72b(0x79d)][_0x26b72b(0x76f)]()===_0x4c3dd9[_0x26b72b(0x6a6)][_0x26b72b(0x79d)][_0x26b72b(0x76f)]());_0x1e8a57?(_0x2c8d96=_0x1e8a57[_0x26b72b(0x68b)]!==_0x4c3dd9[_0x26b72b(0x6a6)][_0x26b72b(0x68b)],Object[_0x26b72b(0x7d1)](_0x1e8a57,_0x4c3dd9['condition'])):(_0x3b105b[_0x26b72b(0x776)]['push'](_0x4c3dd9[_0x26b72b(0x6a6)]),_0x2c8d96=!0x0);}if(_0x2c8d96){_0x3b105b['conditions'][_0x26b72b(0x799)]((_0x434c08,_0x238a09)=>_0x434c08['order']>_0x238a09[_0x26b72b(0x68b)]?0x1:_0x238a09[_0x26b72b(0x68b)]>_0x434c08[_0x26b72b(0x68b)]?-0x1:0x0);for(let _0x17b9e3=0x0;_0x17b9e3<_0x3b105b[_0x26b72b(0x776)][_0x26b72b(0x623)];_0x17b9e3++)_0x3b105b['conditions'][_0x17b9e3][_0x26b72b(0x68b)]=_0x17b9e3+0x1;_0x3b105b[_0x26b72b(0x776)][_0x26b72b(0x623)]>0x0&&(_0x3b105b[_0x26b72b(0x776)][0x0][_0x26b72b(0x6b3)]='and');}let _0x5ea244=await this[_0x26b72b(0x585)]['flow'][_0x26b72b(0x3e5)](_0x3b105b[_0x26b72b(0x79d)],_0x3b105b,this[_0x26b72b(0x598)][_0x26b72b(0x76b)]);if(_0x5ea244&&_0x5ea244[_0x26b72b(0x3c1)]&&_0x5ea244['shareOwners']['length']>0x1&&this[_0x26b72b(0x40b)](_0x5ea244[_0x26b72b(0x79d)],this['instance']['wuid']),!_0x5ea244)throw new Error(_0x26b72b(0x19b));return _0x5ea244;}catch(_0x5ebd2e){throw this['logger'][_0x26b72b(0x820)](this[_0x26b72b(0x4f7)]+'\x20('+this[_0x26b72b(0x598)]['wuid']+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x5ebd2e instanceof Error?_0x5ebd2e[_0x26b72b(0x1dc)]:JSON[_0x26b72b(0x54f)](_0x5ebd2e,null,0x2))),new Error(_0x26b72b(0x20c)+(_0x5ebd2e instanceof Error?_0x5ebd2e[_0x26b72b(0x1dc)]:JSON[_0x26b72b(0x54f)](_0x5ebd2e,null,0x2)));}}async['editFlowVaredit'](_0x4f3762){const _0x1afc41=a0_0x422c01;try{this[_0x1afc41(0x803)][_0x1afc41(0x644)](this[_0x1afc41(0x4f7)]+'\x20('+this[_0x1afc41(0x598)][_0x1afc41(0x76b)]+_0x1afc41(0x7c8));let _0x146cf8=await this['repository'][_0x1afc41(0x576)]['findOne']({'where':{'name':_0x4f3762['name']}},this[_0x1afc41(0x598)][_0x1afc41(0x76b)]);if(!_0x146cf8)throw new Error(_0x1afc41(0x524));let _0x844648=!0x1;if(_0x4f3762[_0x1afc41(0x304)]?.[_0x1afc41(0x653)]===!0x0)_0x146cf8['varedits']=_0x146cf8[_0x1afc41(0x37f)]['filter'](_0x3346e1=>_0x3346e1&&_0x4f3762['varedit']&&_0x3346e1[_0x1afc41(0x79d)]&&_0x4f3762[_0x1afc41(0x304)]['_id']&&_0x3346e1[_0x1afc41(0x79d)][_0x1afc41(0x76f)]()!==_0x4f3762[_0x1afc41(0x304)]['_id']['toString']()),_0x844648=!0x0;else{let _0x26d0c7=_0x146cf8[_0x1afc41(0x37f)]['find'](_0x5e4d87=>_0x5e4d87&&_0x4f3762[_0x1afc41(0x304)]&&_0x5e4d87[_0x1afc41(0x79d)]&&_0x4f3762[_0x1afc41(0x304)][_0x1afc41(0x79d)]&&_0x5e4d87['_id']['toString']()===_0x4f3762[_0x1afc41(0x304)]['_id'][_0x1afc41(0x76f)]());_0x26d0c7?(_0x844648=_0x26d0c7[_0x1afc41(0x68b)]!==_0x4f3762[_0x1afc41(0x304)]['order'],Object[_0x1afc41(0x7d1)](_0x26d0c7,_0x4f3762[_0x1afc41(0x304)])):(_0x146cf8['varedits'][_0x1afc41(0x484)](_0x4f3762[_0x1afc41(0x304)]),_0x844648=!0x0);}if(_0x844648){_0x146cf8[_0x1afc41(0x37f)]['sort']((_0x4d91b6,_0x27479e)=>_0x4d91b6[_0x1afc41(0x68b)]>_0x27479e[_0x1afc41(0x68b)]?0x1:_0x27479e[_0x1afc41(0x68b)]>_0x4d91b6[_0x1afc41(0x68b)]?-0x1:0x0);for(let _0x30ebf8=0x0;_0x30ebf8<_0x146cf8[_0x1afc41(0x37f)]['length'];_0x30ebf8++)_0x146cf8[_0x1afc41(0x37f)][_0x30ebf8][_0x1afc41(0x68b)]=_0x30ebf8+0x1;}let _0x1917d2=await this[_0x1afc41(0x585)][_0x1afc41(0x576)][_0x1afc41(0x3e5)](_0x146cf8[_0x1afc41(0x79d)],_0x146cf8,this[_0x1afc41(0x598)][_0x1afc41(0x76b)]);if(_0x1917d2&&_0x1917d2[_0x1afc41(0x3c1)]&&_0x1917d2[_0x1afc41(0x3c1)]['length']>0x1&&this[_0x1afc41(0x40b)](_0x1917d2[_0x1afc41(0x79d)],this[_0x1afc41(0x598)][_0x1afc41(0x76b)]),!_0x1917d2)throw new Error(_0x1afc41(0x19b));return _0x1917d2;}catch(_0x5eea51){throw this['logger'][_0x1afc41(0x820)](this[_0x1afc41(0x4f7)]+'\x20('+this[_0x1afc41(0x598)][_0x1afc41(0x76b)]+'):\x20Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20'+(_0x5eea51 instanceof Error?_0x5eea51['message']:JSON[_0x1afc41(0x54f)](_0x5eea51,null,0x2))),new w(_0x1afc41(0x20c)+(_0x5eea51 instanceof Error?_0x5eea51[_0x1afc41(0x1dc)]:JSON[_0x1afc41(0x54f)](_0x5eea51,null,0x2)));}}async[a0_0x422c01(0x5bd)](_0x2dbb1a){const _0x5d850b=a0_0x422c01;try{this[_0x5d850b(0x803)][_0x5d850b(0x644)](this[_0x5d850b(0x4f7)]+'\x20('+this[_0x5d850b(0x598)][_0x5d850b(0x76b)]+_0x5d850b(0x7be));let _0x195cac=await this[_0x5d850b(0x585)][_0x5d850b(0x576)][_0x5d850b(0x64b)]({'where':{'name':_0x2dbb1a[_0x5d850b(0x6a7)]}},this['instance'][_0x5d850b(0x76b)]);if(!_0x195cac)throw new Error(_0x5d850b(0x524));_0x2dbb1a[_0x5d850b(0x4e2)][_0x5d850b(0x6a7)]=_0x2dbb1a[_0x5d850b(0x4e2)][_0x5d850b(0x6a7)]['trim'](),_0x2dbb1a[_0x5d850b(0x4e2)][_0x5d850b(0x6a7)][_0x5d850b(0x67c)]('_')&&(_0x2dbb1a[_0x5d850b(0x4e2)][_0x5d850b(0x6a7)]=_0x2dbb1a[_0x5d850b(0x4e2)]['name'][_0x5d850b(0x5bc)](0x1)),_0x2dbb1a[_0x5d850b(0x4e2)][_0x5d850b(0x6a7)]=_0x2dbb1a[_0x5d850b(0x4e2)][_0x5d850b(0x6a7)][_0x5d850b(0x78f)]();let _0x65f9e7=_0x195cac[_0x5d850b(0x5f9)]['find'](_0x270fa5=>_0x270fa5[_0x5d850b(0x6a7)]===_0x2dbb1a[_0x5d850b(0x4e2)][_0x5d850b(0x6a7)]);if(_0x65f9e7?.['leadInfo']===!0x0)throw new Error(_0x5d850b(0x6bd));if(_0x2dbb1a[_0x5d850b(0x4e2)]?.[_0x5d850b(0x653)]===!0x0){if(!_0x65f9e7)return{'message':_0x5d850b(0x1f0)};_0x195cac[_0x5d850b(0x5f9)]=_0x195cac[_0x5d850b(0x5f9)][_0x5d850b(0x7aa)](_0x42e4ad=>_0x42e4ad['name']!==_0x2dbb1a['variable'][_0x5d850b(0x6a7)]);}else _0x65f9e7?Object[_0x5d850b(0x7d1)](_0x65f9e7,_0x2dbb1a[_0x5d850b(0x4e2)]):_0x195cac[_0x5d850b(0x5f9)][_0x5d850b(0x484)](_0x2dbb1a[_0x5d850b(0x4e2)]);let _0x3297dd=await this['repository'][_0x5d850b(0x576)][_0x5d850b(0x3e5)](_0x195cac[_0x5d850b(0x79d)],_0x195cac,this['instance'][_0x5d850b(0x76b)]);if(_0x3297dd&&_0x3297dd['shareOwners']&&_0x3297dd[_0x5d850b(0x3c1)]['length']>0x1&&this[_0x5d850b(0x40b)](_0x3297dd[_0x5d850b(0x79d)],this[_0x5d850b(0x598)][_0x5d850b(0x76b)]),!_0x3297dd)throw new Error(_0x5d850b(0x19b));return _0x3297dd;}catch(_0x2dfeef){throw this[_0x5d850b(0x803)][_0x5d850b(0x820)](this['instanceName']+'\x20('+this['instance'][_0x5d850b(0x76b)]+_0x5d850b(0x4d9)+(_0x2dfeef instanceof Error?_0x2dfeef[_0x5d850b(0x1dc)]:JSON[_0x5d850b(0x54f)](_0x2dfeef,null,0x2))),new w(_0x5d850b(0x7eb)+(_0x2dfeef instanceof Error?_0x2dfeef[_0x5d850b(0x1dc)]:JSON[_0x5d850b(0x54f)](_0x2dfeef,null,0x2)));}}async[a0_0x422c01(0x452)](_0x1c9b34){const _0x209bb1=a0_0x422c01;let _0x2b8dc7=null;try{if(!this[_0x209bb1(0x728)]?.[_0x209bb1(0x7a9)]['enabled'])throw new w('Fluxos\x20não\x20estão\x20ativados');this[_0x209bb1(0x803)]['verbose'](this[_0x209bb1(0x4f7)]+'\x20('+this[_0x209bb1(0x598)][_0x209bb1(0x76b)]+_0x209bb1(0x313));let _0x1144b8=(await this[_0x209bb1(0x795)]({'numbers':[_0x1c9b34[_0x209bb1(0x1fe)]]}))[0x0];if(!_0x1144b8[_0x209bb1(0x791)]&&!(0x0,m[_0x209bb1(0x6c2)])(_0x1144b8[_0x209bb1(0x75e)])&&!_0x1144b8[_0x209bb1(0x75e)][_0x209bb1(0x563)]('@broadcast'))throw _0x2b8dc7=JSON[_0x209bb1(0x54f)](_0x1144b8,null,0x2),new w(_0x1144b8);let _0xf6b800=await this[_0x209bb1(0x585)]['flow']['findOne']({'where':{'name':_0x1c9b34[_0x209bb1(0x6a7)]}},this[_0x209bb1(0x598)]['wuid']);if(!_0xf6b800)return this['logger'][_0x209bb1(0x820)](this[_0x209bb1(0x4f7)]+'\x20('+this[_0x209bb1(0x598)][_0x209bb1(0x76b)]+_0x209bb1(0x775)),{'message':_0x209bb1(0x524)};let _0x41c068=await this[_0x209bb1(0x1f1)](_0xf6b800,_0x1144b8[_0x209bb1(0x75e)],_0x1c9b34['changeVariables']);if(_0x41c068){this[_0x209bb1(0x803)][_0x209bb1(0x644)](this[_0x209bb1(0x4f7)]+'\x20('+this[_0x209bb1(0x598)][_0x209bb1(0x76b)]+'):\x20Criou\x20conversa\x20no\x20startFlow:');let _0x48149b=await this['NextBlock'](_0x41c068);return _0x48149b&&await this['processblock'](_0x41c068,_0x48149b),{'message':_0x209bb1(0x5cb)+_0x1c9b34[_0x209bb1(0x1fe)]};}}catch(_0x26c0ad){if(this['logger']['error'](this[_0x209bb1(0x4f7)]+'\x20('+this['instance'][_0x209bb1(0x76b)]+_0x209bb1(0x430)+(_0x26c0ad instanceof Error?_0x26c0ad[_0x209bb1(0x1dc)]:JSON[_0x209bb1(0x54f)](_0x26c0ad,null,0x2))),_0x2b8dc7=_0x26c0ad instanceof Error?_0x26c0ad[_0x209bb1(0x1dc)]:JSON[_0x209bb1(0x54f)](_0x26c0ad,null,0x2),_0x2b8dc7)throw new w('Erro\x20ao\x20iniciar\x20fluxo:\x20'+_0x2b8dc7);}}async[a0_0x422c01(0x365)](_0x41dd5b){const _0x13c9cf=a0_0x422c01;try{let _0x2482de={'remoteJid':_0x41dd5b,'status':_0x13c9cf(0x26c)},_0x4d633a={'status':'closed'},_0x584eb1=await this[_0x13c9cf(0x585)]['flowConversation'][_0x13c9cf(0x247)](_0x2482de,_0x4d633a,this[_0x13c9cf(0x598)]['wuid']);return this[_0x13c9cf(0x803)][_0x13c9cf(0x644)](this['instanceName']+'\x20('+this[_0x13c9cf(0x598)][_0x13c9cf(0x76b)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x584eb1;}catch(_0x2adb24){throw this['logger']['error'](this[_0x13c9cf(0x4f7)]+'\x20('+this[_0x13c9cf(0x598)][_0x13c9cf(0x76b)]+_0x13c9cf(0x735)+_0x2adb24[_0x13c9cf(0x1dc)]),_0x2adb24;}}async[a0_0x422c01(0x1f1)](_0xe91f4,_0x5806e0,_0x1b55c1){const _0x5523db=a0_0x422c01;this['logger']['verbose'](this[_0x5523db(0x4f7)]+'\x20('+this['instance']['wuid']+_0x5523db(0x72e)),await this[_0x5523db(0x365)](_0x5806e0);try{let _0x3436fa=require(_0x5523db(0x470))[_0x5523db(0x5b2)],_0x1fbf7f=Date[_0x5523db(0x5e6)](),_0x186120=_0x5523db(0x819),_0xe426d0={},_0x105534={},_0x40121d={..._0xe91f4,'chatLog':null},_0x2843c3=await this[_0x5523db(0x6c6)](_0x40121d[_0x5523db(0x5f9)]),_0x45bbc9=await this[_0x5523db(0x572)](_0x5806e0),_0x81bfd0={..._0x2843c3,..._0x45bbc9,'_remoteJid':_0x5806e0},_0x4221de={'lastReceivedMessage':_0xe426d0,'lastSendMessage':_0x105534,'lastBlockId':_0x186120,'lastCondition':!0x0,'realVariables':_0x81bfd0};_0x40121d[_0x5523db(0x824)]=_0x4221de,_0x40121d[_0x5523db(0x824)][_0x5523db(0x1cf)]={..._0x81bfd0,..._0x1b55c1},delete _0x40121d[_0x5523db(0x79d)],_0x40121d[_0x5523db(0x79d)]=new _0x3436fa(),_0x40121d[_0x5523db(0x2c1)]=_0x1fbf7f,_0x40121d['status']=_0x5523db(0x26c),_0x40121d['remoteJid']=_0x5806e0;let _0x1e763d=await this[_0x5523db(0x585)][_0x5523db(0x2e9)][_0x5523db(0x3e5)](_0x40121d['_id'],_0x40121d,this[_0x5523db(0x598)]['wuid']);return this['logger'][_0x5523db(0x644)](this['instanceName']+'\x20('+this['instance'][_0x5523db(0x76b)]+_0x5523db(0x183)),_0x1e763d?_0x40121d:null;}catch(_0x31f674){throw this[_0x5523db(0x803)][_0x5523db(0x820)](this[_0x5523db(0x4f7)]+'\x20('+this[_0x5523db(0x598)][_0x5523db(0x76b)]+_0x5523db(0x7ce)+(_0x31f674 instanceof Error?_0x31f674[_0x5523db(0x1dc)]:JSON[_0x5523db(0x54f)](_0x31f674,null,0x2))),new w(_0x31f674[_0x5523db(0x1dc)]);}}async[a0_0x422c01(0x4d3)](_0x21eb35){const _0x354ea2=a0_0x422c01;try{this[_0x354ea2(0x803)][_0x354ea2(0x644)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x354ea2(0x5cf)),this[_0x354ea2(0x803)][_0x354ea2(0x644)](this['instanceName']+'\x20('+this[_0x354ea2(0x598)][_0x354ea2(0x76b)]+_0x354ea2(0x2ae)+_0x21eb35);let _0x215d3f={'where':{'_id':_0x21eb35}};return await this[_0x354ea2(0x585)][_0x354ea2(0x2e9)][_0x354ea2(0x64b)](_0x215d3f,this[_0x354ea2(0x598)][_0x354ea2(0x76b)]);}catch(_0x49f6c0){throw this[_0x354ea2(0x803)][_0x354ea2(0x820)](this[_0x354ea2(0x4f7)]+'\x20('+this['instance'][_0x354ea2(0x76b)]+_0x354ea2(0x29e)+(_0x49f6c0 instanceof Error?_0x49f6c0[_0x354ea2(0x1dc)]:JSON['stringify'](_0x49f6c0,null,0x2))),new w(_0x354ea2(0x5f6)+_0x49f6c0[_0x354ea2(0x1dc)]);}}async[a0_0x422c01(0x6fc)](_0x59886e){const _0x5972b1=a0_0x422c01;try{return this[_0x5972b1(0x803)][_0x5972b1(0x644)](this[_0x5972b1(0x4f7)]+'\x20('+this[_0x5972b1(0x598)]['wuid']+_0x5972b1(0x811)),await this['repository']['flowConversation'][_0x5972b1(0x752)](_0x59886e,this[_0x5972b1(0x598)][_0x5972b1(0x76b)]);}catch(_0x26e718){throw this[_0x5972b1(0x803)][_0x5972b1(0x820)](this[_0x5972b1(0x4f7)]+'\x20('+this['instance'][_0x5972b1(0x76b)]+_0x5972b1(0x3ac)+(_0x26e718 instanceof Error?_0x26e718[_0x5972b1(0x1dc)]:JSON['stringify'](_0x26e718,null,0x2))),new w(_0x5972b1(0x2c6)+_0x26e718['message']);}}async[a0_0x422c01(0x1b3)](_0x1b23d9){const _0x1f5045=a0_0x422c01;try{return this[_0x1f5045(0x803)]['verbose'](this[_0x1f5045(0x4f7)]+'\x20('+this[_0x1f5045(0x598)][_0x1f5045(0x76b)]+_0x1f5045(0x293)),this[_0x1f5045(0x803)][_0x1f5045(0x644)](this[_0x1f5045(0x4f7)]+'\x20('+this[_0x1f5045(0x598)]['wuid']+_0x1f5045(0x738)+_0x1b23d9),(await this['repository'][_0x1f5045(0x2e9)][_0x1f5045(0x758)]({'where':{'_id':_0x1b23d9}},this[_0x1f5045(0x598)][_0x1f5045(0x76b)]))[_0x1f5045(0x1fd)]===0x0?{'message':_0x1f5045(0x40c)}:{'message':_0x1f5045(0x35c)};}catch(_0x1162a3){throw this[_0x1f5045(0x803)]['error'](this['instanceName']+'\x20('+this[_0x1f5045(0x598)][_0x1f5045(0x76b)]+_0x1f5045(0x658)+(_0x1162a3 instanceof Error?_0x1162a3[_0x1f5045(0x1dc)]:JSON[_0x1f5045(0x54f)](_0x1162a3,null,0x2))),new w('Erro\x20ao\x20deletar\x20a\x20conversa:\x20'+_0x1162a3[_0x1f5045(0x1dc)]);}}async[a0_0x422c01(0x6ec)](_0x3944b0){const _0x353050=a0_0x422c01;try{let {_id:_0x45730a,chatLog:_0x357e40,status:_0x3c3dab}=_0x3944b0;if(!_0x45730a)return{'message':_0x353050(0x386)};let _0x1f16b4={};if(_0x3c3dab!==void 0x0&&(_0x1f16b4[_0x353050(0x59d)]=_0x3c3dab),Object[_0x353050(0x21a)](_0x1f16b4)[_0x353050(0x623)]===0x0)return{'message':_0x353050(0x5a5)};let _0x15d8ae=await this['repository']['flowConversation'][_0x353050(0x3e5)](_0x45730a,_0x1f16b4,this['instance'][_0x353050(0x76b)]);return _0x15d8ae||{'message':_0x353050(0x473)};}catch(_0x5d4bab){throw this[_0x353050(0x803)][_0x353050(0x820)](this[_0x353050(0x4f7)]+'\x20('+this[_0x353050(0x598)]['wuid']+_0x353050(0x587)+(_0x5d4bab instanceof Error?_0x5d4bab[_0x353050(0x1dc)]:JSON[_0x353050(0x54f)](_0x5d4bab,null,0x2))),new w(_0x353050(0x48d)+_0x5d4bab[_0x353050(0x1dc)]);}}async['editChat'](_0x226692){const _0x1ccb0b=a0_0x422c01;console[_0x1ccb0b(0x7f7)](_0x226692);try{_0x226692[_0x1ccb0b(0x79d)]=this[_0x1ccb0b(0x4c1)](_0x226692[_0x1ccb0b(0x79d)]);let _0x2ba03e=await this[_0x1ccb0b(0x585)][_0x1ccb0b(0x496)][_0x1ccb0b(0x64b)]({'where':{'_id':_0x226692[_0x1ccb0b(0x79d)]}},this[_0x1ccb0b(0x598)][_0x1ccb0b(0x76b)]);if(!_0x2ba03e)throw new w(_0x1ccb0b(0x6e1));let {_id:_0x3e44f6,leadInfo:_0x2fe223}=_0x226692;if(!_0x3e44f6)throw new Error(_0x1ccb0b(0x757));if(_0x226692[_0x1ccb0b(0x653)]===_0x1ccb0b(0x3a4))return await this[_0x1ccb0b(0x6c0)](_0x226692['_id']),await this[_0x1ccb0b(0x585)]['chat'][_0x1ccb0b(0x653)]({'where':{'_id':_0x226692[_0x1ccb0b(0x79d)]}},this[_0x1ccb0b(0x598)][_0x1ccb0b(0x76b)]),await this[_0x1ccb0b(0x585)][_0x1ccb0b(0x1dc)]['delete']({'where':{'key':{'remoteJid':_0x226692[_0x1ccb0b(0x79d)]}}},this['instance'][_0x1ccb0b(0x76b)]),_0x226692=await this[_0x1ccb0b(0x585)]['chat']['updateOne']({'where':{'_id':_0x226692['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x1ccb0b(0x598)]['wuid']),J(this[_0x1ccb0b(0x4f7)],'chats',{'chat':_0x226692}),{'message':_0x1ccb0b(0x765)};if(_0x226692[_0x1ccb0b(0x653)]==='messages')return await this[_0x1ccb0b(0x585)]['message'][_0x1ccb0b(0x653)]({'where':{'key':{'remoteJid':_0x226692[_0x1ccb0b(0x79d)]}}},this[_0x1ccb0b(0x598)][_0x1ccb0b(0x76b)]),_0x226692=await this[_0x1ccb0b(0x585)]['chat']['updateOne']({'where':{'_id':_0x226692[_0x1ccb0b(0x79d)]}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x1ccb0b(0x598)][_0x1ccb0b(0x76b)]),J(this[_0x1ccb0b(0x4f7)],_0x1ccb0b(0x48e),{'chat':_0x226692}),{'message':_0x1ccb0b(0x32b)};let _0xfe72e=(_0x361172,_0x496faa,_0x6af726)=>{const _0x515578=_0x1ccb0b;_0x361172&&_0x6af726[_0x515578(0x485)](_0x1bbd34=>{const _0x5b91c4=_0x515578;_0x361172[_0x1bbd34]!==void 0x0&&(_0x496faa[_0x5b91c4(0x1aa)+_0x1bbd34]=_0x361172[_0x1bbd34]);});},_0x54e214={};if(_0x2fe223&&(_0xfe72e(_0x2fe223,_0x54e214,['nome',_0x1ccb0b(0x6e4),_0x1ccb0b(0x221),_0x1ccb0b(0x2d9),_0x1ccb0b(0x59d),_0x1ccb0b(0x2e0),_0x1ccb0b(0x26f),_0x1ccb0b(0x508),'responsavelid',_0x1ccb0b(0x67f)]),Array[_0x1ccb0b(0x20d)](_0x2fe223[_0x1ccb0b(0x4d2)])&&(_0x54e214[_0x1ccb0b(0x4e8)]=_0x2fe223[_0x1ccb0b(0x4d2)][_0x1ccb0b(0x1ec)](_0x365d0=>({'_id':_0x365d0['_id'],'value':_0x365d0[_0x1ccb0b(0x7f3)]}))),_0x226692[_0x1ccb0b(0x2b6)][_0x1ccb0b(0x67f)]!==void 0x0)){let _0x10510d=await this['repository'][_0x1ccb0b(0x565)]['find']({'where':{}},this[_0x1ccb0b(0x598)][_0x1ccb0b(0x76b)]),_0x1f479d=new Set(_0x226692[_0x1ccb0b(0x2b6)]['etiquetas']||[]),_0xaf5028=new Set(_0x226692[_0x1ccb0b(0x2b6)]['etiquetas']),_0x33c0cd=new Set(_0x10510d['map'](_0x70b982=>_0x70b982[_0x1ccb0b(0x79d)])),_0x2e8d08=[..._0xaf5028][_0x1ccb0b(0x7aa)](_0x5b4eaa=>!_0x1f479d['has'](_0x5b4eaa)&&_0x33c0cd[_0x1ccb0b(0x7b1)](_0x5b4eaa)),_0x55ffb1=[..._0x1f479d]['filter'](_0x1f2c03=>!_0xaf5028['has'](_0x1f2c03));if(_0x54e214['leadInfo.etiquetas']=[..._0x1f479d],_0x2ba03e&&!_0x2ba03e[_0x1ccb0b(0x2f2)]){for(let _0x43daf2 of _0x2e8d08)await this['AddChatLabel'](_0x43daf2,_0x226692[_0x1ccb0b(0x79d)]),_0x1f479d[_0x1ccb0b(0x263)](_0x43daf2);for(let _0xc085ce of _0x55ffb1)await this[_0x1ccb0b(0x503)](_0xc085ce,_0x226692['_id']),_0x1f479d[_0x1ccb0b(0x653)](_0xc085ce);}}if(_0x226692[_0x1ccb0b(0x185)]!==void 0x0&&(_0x54e214[_0x1ccb0b(0x185)]=Number(_0x226692[_0x1ccb0b(0x185)])),Object['keys'](_0x54e214)[_0x1ccb0b(0x623)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x5529b4=await this[_0x1ccb0b(0x585)][_0x1ccb0b(0x496)]['updateOne']({'where':{'_id':_0x226692[_0x1ccb0b(0x79d)]}},_0x54e214,this[_0x1ccb0b(0x598)][_0x1ccb0b(0x76b)]);return _0x5529b4&&J(this[_0x1ccb0b(0x4f7)],'chats',{'chat':_0x5529b4}),_0x5529b4?(this[_0x1ccb0b(0x803)]['verbose'](this[_0x1ccb0b(0x4f7)]+'\x20('+this[_0x1ccb0b(0x598)][_0x1ccb0b(0x76b)]+_0x1ccb0b(0x584)+JSON[_0x1ccb0b(0x54f)](_0x5529b4,null,0x2)),_0x5529b4):{'message':_0x1ccb0b(0x40d)};}catch(_0x455ae2){throw this['logger']['error'](this[_0x1ccb0b(0x4f7)]+'\x20('+this['instance']['wuid']+_0x1ccb0b(0x1f8)+(_0x455ae2 instanceof Error?_0x455ae2['message']:JSON[_0x1ccb0b(0x54f)](_0x455ae2,null,0x2))),new w('Erro\x20ao\x20editar\x20o\x20chat:\x20'+_0x455ae2['message']);}}async[a0_0x422c01(0x1e7)](_0x36d24d,_0x369244){const _0x22e1cb=a0_0x422c01;try{await this[_0x22e1cb(0x822)][_0x22e1cb(0x297)](_0x369244,_0x36d24d),console['log'](_0x22e1cb(0x39a)+_0x36d24d+_0x22e1cb(0x80f)+_0x369244+'\x20com\x20sucesso.');}catch(_0x2363bf){console[_0x22e1cb(0x820)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x36d24d+_0x22e1cb(0x660)+_0x369244+':',_0x2363bf);}}async[a0_0x422c01(0x503)](_0x3f9f42,_0x89085b){const _0x3af882=a0_0x422c01;try{await this[_0x3af882(0x822)][_0x3af882(0x32c)](_0x89085b,_0x3f9f42),console['log']('Label\x20'+_0x3f9f42+_0x3af882(0x7e2)+_0x89085b+_0x3af882(0x301));}catch(_0x59460c){console[_0x3af882(0x820)](_0x3af882(0x730)+_0x3f9f42+_0x3af882(0x429)+_0x89085b+':',_0x59460c);}}async[a0_0x422c01(0x663)](_0x3def23){const _0x5c22f1=a0_0x422c01;try{let _0x5a1d0c=await this['repository'][_0x5c22f1(0x3ce)][_0x5c22f1(0x294)](this['instance']['wuid']),_0xff529a=_0x3def23[_0x5c22f1(0x79d)]?_0x5a1d0c[_0x5c22f1(0x510)][_0x5c22f1(0x715)](_0x3abac8=>_0x3abac8[_0x5c22f1(0x79d)]===_0x3def23[_0x5c22f1(0x79d)]):-0x1;if(_0x3def23[_0x5c22f1(0x653)]&&_0xff529a>-0x1)_0x5a1d0c[_0x5c22f1(0x510)]['splice'](_0xff529a,0x1);else{if(_0xff529a>-0x1){let _0x13afc5=_0x5a1d0c[_0x5c22f1(0x510)][_0xff529a];_0x3def23[_0x5c22f1(0x25f)]&&(_0x13afc5[_0x5c22f1(0x25f)]=_0x3def23[_0x5c22f1(0x25f)]),_0x3def23[_0x5c22f1(0x6a7)]&&(_0x13afc5[_0x5c22f1(0x6a7)]=_0x3def23[_0x5c22f1(0x6a7)]),_0x3def23[_0x5c22f1(0x221)]&&(_0x13afc5[_0x5c22f1(0x221)]=_0x3def23[_0x5c22f1(0x221)]),_0x3def23[_0x5c22f1(0x391)]&&(_0x13afc5['role']=_0x3def23[_0x5c22f1(0x391)]);}else _0x5a1d0c[_0x5c22f1(0x510)][_0x5c22f1(0x484)]({'_id':_0x3def23[_0x5c22f1(0x79d)]||new le[(_0x5c22f1(0x849))][(_0x5c22f1(0x626))]['ObjectId']()[_0x5c22f1(0x76f)](),'fone':_0x3def23[_0x5c22f1(0x25f)],'name':_0x3def23[_0x5c22f1(0x6a7)],'email':_0x3def23['email'],'role':_0x3def23[_0x5c22f1(0x391)]});}let _0x43d2ae={'agents':_0x5a1d0c[_0x5c22f1(0x510)]},_0x100e17=await this[_0x5c22f1(0x585)][_0x5c22f1(0x3ce)][_0x5c22f1(0x4fe)](_0x43d2ae,this[_0x5c22f1(0x598)][_0x5c22f1(0x76b)]);return this[_0x5c22f1(0x728)]=_0x100e17,this[_0x5c22f1(0x803)][_0x5c22f1(0x644)](this[_0x5c22f1(0x4f7)]+'\x20('+this['instance'][_0x5c22f1(0x76b)]+_0x5c22f1(0x6e7)),this[_0x5c22f1(0x803)][_0x5c22f1(0x644)](this[_0x5c22f1(0x4f7)]+'\x20('+this[_0x5c22f1(0x598)][_0x5c22f1(0x76b)]+'):\x20'+this[_0x5c22f1(0x728)]),_0x100e17;}catch(_0x406019){throw this[_0x5c22f1(0x803)][_0x5c22f1(0x820)](this[_0x5c22f1(0x4f7)]+'\x20('+this[_0x5c22f1(0x598)]['wuid']+_0x5c22f1(0x53c)+(_0x406019 instanceof Error?_0x406019[_0x5c22f1(0x1dc)]:JSON[_0x5c22f1(0x54f)](_0x406019,null,0x2))),new w('Erro\x20ao\x20editar\x20agentes:\x20'+_0x406019[_0x5c22f1(0x1dc)]);}}async[a0_0x422c01(0x46c)](_0x499c23){const _0x2b5d0b=a0_0x422c01;try{let _0x1c895b=await this[_0x2b5d0b(0x585)][_0x2b5d0b(0x3ce)][_0x2b5d0b(0x294)](this[_0x2b5d0b(0x598)][_0x2b5d0b(0x76b)]),_0x23359b=_0x499c23[_0x2b5d0b(0x79d)]?_0x1c895b[_0x2b5d0b(0x4d2)][_0x2b5d0b(0x715)](_0x2c2a9a=>_0x2c2a9a[_0x2b5d0b(0x79d)]===_0x499c23['_id']):-0x1,_0x23a56e=!0x1,_0x10b7da=_0x1c895b[_0x2b5d0b(0x4d2)][_0x2b5d0b(0x568)](_0x259369=>_0x259369[_0x2b5d0b(0x68b)]===_0x499c23[_0x2b5d0b(0x68b)]);if(_0x499c23[_0x2b5d0b(0x653)]&&_0x23359b>-0x1)_0x1c895b[_0x2b5d0b(0x4d2)][_0x2b5d0b(0x1bf)](_0x23359b,0x1),_0x23a56e=!0x0;else{if(_0x23359b>-0x1){if(_0x1c895b['customFields'][_0x2b5d0b(0x568)](_0x1f31db=>_0x1f31db[_0x2b5d0b(0x6a7)]===_0x499c23['name']&&_0x1f31db['_id']!==_0x499c23[_0x2b5d0b(0x79d)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x10d22b=_0x1c895b[_0x2b5d0b(0x4d2)][_0x23359b];_0x499c23[_0x2b5d0b(0x68b)]&&(_0x10b7da||!Number[_0x2b5d0b(0x2f6)](_0x499c23['order']))&&(_0x10d22b[_0x2b5d0b(0x68b)]=_0x499c23[_0x2b5d0b(0x68b)],_0x23a56e=!0x0),_0x499c23['name']&&(_0x10d22b[_0x2b5d0b(0x6a7)]=_0x499c23[_0x2b5d0b(0x6a7)]);}else{if(_0x1c895b[_0x2b5d0b(0x4d2)]['some'](_0x34b66b=>_0x34b66b[_0x2b5d0b(0x6a7)]===_0x499c23[_0x2b5d0b(0x6a7)]&&_0x34b66b[_0x2b5d0b(0x79d)]!==_0x499c23[_0x2b5d0b(0x79d)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x1c895b[_0x2b5d0b(0x4d2)]['push']({'_id':_0x499c23['_id']||new le[(_0x2b5d0b(0x849))]['Types'][(_0x2b5d0b(0x5b2))]()[_0x2b5d0b(0x76f)](),'order':_0x499c23[_0x2b5d0b(0x68b)],'name':_0x499c23[_0x2b5d0b(0x6a7)]}),_0x23a56e=!0x0;}}if(_0x23a56e){_0x1c895b[_0x2b5d0b(0x4d2)][_0x2b5d0b(0x799)]((_0x719884,_0x2b9de0)=>_0x719884[_0x2b5d0b(0x68b)]>_0x2b9de0[_0x2b5d0b(0x68b)]?0x1:_0x2b9de0['order']>_0x719884[_0x2b5d0b(0x68b)]?-0x1:0x0);for(let _0x237497=0x0;_0x237497<_0x1c895b[_0x2b5d0b(0x4d2)][_0x2b5d0b(0x623)];_0x237497++)_0x1c895b[_0x2b5d0b(0x4d2)][_0x237497]['order']=_0x237497+0x1;}let _0xcbc68f=await this[_0x2b5d0b(0x585)][_0x2b5d0b(0x3ce)][_0x2b5d0b(0x4fe)](_0x1c895b,this[_0x2b5d0b(0x598)][_0x2b5d0b(0x76b)]);return this[_0x2b5d0b(0x728)]=_0xcbc68f,this[_0x2b5d0b(0x803)][_0x2b5d0b(0x644)](this['instanceName']+'\x20('+this['instance'][_0x2b5d0b(0x76b)]+_0x2b5d0b(0x3b5)),this[_0x2b5d0b(0x803)][_0x2b5d0b(0x644)](this['instanceName']+'\x20('+this['instance'][_0x2b5d0b(0x76b)]+_0x2b5d0b(0x584)+this['AutomateSystem']),_0xcbc68f;}catch(_0x179a92){throw this[_0x2b5d0b(0x803)][_0x2b5d0b(0x820)](this[_0x2b5d0b(0x4f7)]+'\x20('+this[_0x2b5d0b(0x598)]['wuid']+'):\x20Erro\x20ao\x20tentar\x20updateCustomFields:\x20'+(_0x179a92 instanceof Error?_0x179a92[_0x2b5d0b(0x1dc)]:JSON[_0x2b5d0b(0x54f)](_0x179a92,null,0x2))),new w(_0x2b5d0b(0x725)+_0x179a92[_0x2b5d0b(0x1dc)]);}}async[a0_0x422c01(0x816)](_0x4c9e8e){const _0x167baa=a0_0x422c01;try{let _0x5dc82=await this[_0x167baa(0x585)][_0x167baa(0x3ce)]['findOrCreate'](this['instance']['wuid']);if(!_0x5dc82)throw new Error(_0x167baa(0x513));let _0x2a3f08={'_id':_0x5dc82[_0x167baa(0x79d)],'flowConfig':{'enabled':_0x4c9e8e['enabled']??_0x5dc82[_0x167baa(0x7a9)][_0x167baa(0x63a)],'ignoreGroups':_0x4c9e8e[_0x167baa(0x390)]??_0x5dc82[_0x167baa(0x7a9)][_0x167baa(0x390)],'prefixCommand':_0x4c9e8e[_0x167baa(0x4d0)]??_0x5dc82[_0x167baa(0x7a9)][_0x167baa(0x4d0)],'stopConversation':_0x4c9e8e['stopConversation']??_0x5dc82[_0x167baa(0x7a9)]['stopConversation'],'stopMinutes':_0x4c9e8e[_0x167baa(0x7c3)]??_0x5dc82[_0x167baa(0x7a9)][_0x167baa(0x7c3)],'stopWhenYouSendMsg':_0x4c9e8e[_0x167baa(0x296)]??_0x5dc82[_0x167baa(0x7a9)][_0x167baa(0x296)]}},_0x109b73=await this[_0x167baa(0x585)][_0x167baa(0x3ce)][_0x167baa(0x4fe)](_0x2a3f08,this[_0x167baa(0x598)][_0x167baa(0x76b)]);return this[_0x167baa(0x728)]=_0x109b73,this['logger'][_0x167baa(0x644)](this[_0x167baa(0x4f7)]+'\x20('+this[_0x167baa(0x598)][_0x167baa(0x76b)]+_0x167baa(0x6e7)),this[_0x167baa(0x803)][_0x167baa(0x644)](this[_0x167baa(0x4f7)]+'\x20('+this[_0x167baa(0x598)]['wuid']+_0x167baa(0x584)+this[_0x167baa(0x728)]),setTimeout(()=>this[_0x167baa(0x7c7)](),0x7d0),_0x109b73;}catch(_0xdc29b){throw this[_0x167baa(0x803)]['error'](this['instanceName']+'\x20('+this[_0x167baa(0x598)]['wuid']+'):\x20Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+(_0xdc29b instanceof Error?_0xdc29b[_0x167baa(0x1dc)]:JSON[_0x167baa(0x54f)](_0xdc29b,null,0x2))),new w('Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos:\x20'+_0xdc29b[_0x167baa(0x1dc)]);}}async['getAutomateSystem'](){const _0x1eefeb=a0_0x422c01;try{let _0xae9b4f=await this[_0x1eefeb(0x585)][_0x1eefeb(0x3ce)][_0x1eefeb(0x294)](this[_0x1eefeb(0x598)][_0x1eefeb(0x76b)]);return this[_0x1eefeb(0x728)]=_0xae9b4f,this[_0x1eefeb(0x803)][_0x1eefeb(0x644)](this[_0x1eefeb(0x4f7)]+'\x20('+this[_0x1eefeb(0x598)][_0x1eefeb(0x76b)]+_0x1eefeb(0x1a1)),this['logger'][_0x1eefeb(0x644)](this[_0x1eefeb(0x728)]),_0xae9b4f;}catch(_0x2d78c8){throw this[_0x1eefeb(0x803)][_0x1eefeb(0x820)](this['instanceName']+'\x20('+this[_0x1eefeb(0x598)][_0x1eefeb(0x76b)]+_0x1eefeb(0x6b8)+(_0x2d78c8 instanceof Error?_0x2d78c8[_0x1eefeb(0x1dc)]:JSON[_0x1eefeb(0x54f)](_0x2d78c8,null,0x2))),new w(_0x1eefeb(0x57f)+_0x2d78c8['message']);}}async[a0_0x422c01(0x5da)](){const _0x4a5d7d=a0_0x422c01;this[_0x4a5d7d(0x598)][_0x4a5d7d(0x1cd)][_0x4a5d7d(0x4cd)]&&clearTimeout(this[_0x4a5d7d(0x598)]['ScheduleMessage'][_0x4a5d7d(0x4cd)]),this['instance'][_0x4a5d7d(0x1cd)][_0x4a5d7d(0x4cd)]=setTimeout(()=>{this['checkAndRestartProcess']();},0x2*0x3c*0x3e8+0x14*0x3e8);}async['checkAndRestartProcess'](){const _0x3ce86c=a0_0x422c01;Date[_0x3ce86c(0x5e6)]()-this[_0x3ce86c(0x598)][_0x3ce86c(0x1cd)][_0x3ce86c(0x53d)]>=0x1d4c0&&(this['logger'][_0x3ce86c(0x644)](this[_0x3ce86c(0x4f7)]+'\x20('+this[_0x3ce86c(0x598)][_0x3ce86c(0x76b)]+_0x3ce86c(0x844)),this['instance'][_0x3ce86c(0x1cd)][_0x3ce86c(0x6fa)]=null,this['instance'][_0x3ce86c(0x1cd)]['lastSend']=0x0,this[_0x3ce86c(0x598)][_0x3ce86c(0x1cd)][_0x3ce86c(0x249)]=0x0,await this[_0x3ce86c(0x7c7)]());}async[a0_0x422c01(0x7c7)](){const _0x412feb=a0_0x422c01;let _0x1a1f15=()=>{const _0x31ac11=a0_0xf27f;this[_0x31ac11(0x803)][_0x31ac11(0x644)](this[_0x31ac11(0x4f7)]+'\x20('+this[_0x31ac11(0x598)][_0x31ac11(0x76b)]+_0x31ac11(0x729)+this[_0x31ac11(0x598)][_0x31ac11(0x1cd)][_0x31ac11(0x6fa)]+'\x20saindo\x20da\x20função');},_0x1ab0d1=async()=>{const _0x53ed06=a0_0xf27f;this[_0x53ed06(0x803)][_0x53ed06(0x644)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x53ed06(0x26a));let _0x5dcf33=Date['now']()-0xc*0x3c*0x3c*0x3e8,_0x2b7fd5={'where':{'status':{'$in':[_0x53ed06(0x4d1),_0x53ed06(0x69a)]},'$or':[{'when':{'$lte':Date[_0x53ed06(0x5e6)](),'$gte':_0x5dcf33}},{'when':0x0}]}};return await this[_0x53ed06(0x585)][_0x53ed06(0x3a7)][_0x53ed06(0x752)](_0x2b7fd5,this[_0x53ed06(0x598)]['wuid']);},_0x137f54=async _0x59c77d=>{const _0x5e2f74=a0_0xf27f;for(let _0x475d4e of _0x59c77d){let _0x2bb51c={'_id':_0x475d4e[_0x5e2f74(0x79d)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x5e2f74(0x5e6)]()-0x1770}}]},_0x50eb0f={'startSend':Date[_0x5e2f74(0x5e6)]()};if(!await this[_0x5e2f74(0x585)][_0x5e2f74(0x3a7)]['updateOne'](_0x2bb51c,_0x50eb0f,this[_0x5e2f74(0x598)][_0x5e2f74(0x76b)]))return;if(!this[_0x5e2f74(0x598)][_0x5e2f74(0x1cd)]['isConnected']){this[_0x5e2f74(0x803)][_0x5e2f74(0x644)](this[_0x5e2f74(0x4f7)]+'\x20('+this[_0x5e2f74(0x598)][_0x5e2f74(0x76b)]+_0x5e2f74(0x80c));break;}if(_0x475d4e[_0x5e2f74(0x7f6)]==='flow'&&!this[_0x5e2f74(0x728)]?.[_0x5e2f74(0x7a9)][_0x5e2f74(0x63a)]){this[_0x5e2f74(0x803)][_0x5e2f74(0x820)](this['instanceName']+'\x20('+this[_0x5e2f74(0x598)][_0x5e2f74(0x76b)]+_0x5e2f74(0x634));continue;}(!_0x475d4e['remoteJidsRemaining']||_0x475d4e[_0x5e2f74(0x83b)][_0x5e2f74(0x623)]===0x0)&&(_0x475d4e=await this[_0x5e2f74(0x585)]['scheduleMessage'][_0x5e2f74(0x6f8)](_0x475d4e['_id'],{'status':'sending','remoteJidsRemaining':[..._0x475d4e['remoteJids']]},this['instance'][_0x5e2f74(0x76b)]));for(let _0x570518 of _0x475d4e[_0x5e2f74(0x83b)]){if(await this['setRestartTimeout'](),this['instance'][_0x5e2f74(0x1cd)][_0x5e2f74(0x53d)]=Date['now'](),this[_0x5e2f74(0x598)]['ScheduleMessage'][_0x5e2f74(0x461)]===_0x570518){this[_0x5e2f74(0x803)]['error'](this['instanceName']+'\x20('+this[_0x5e2f74(0x598)][_0x5e2f74(0x76b)]+_0x5e2f74(0x66a)+_0x570518+_0x5e2f74(0x621));let _0x58dcb4={'$push':{'messagesSend':{'remoteJid':_0x570518,'error':!0x0,'id':null,'error_log':_0x5e2f74(0x52d),'log_timestamp':Date[_0x5e2f74(0x5e6)]()}},'$pull':{'remoteJidsRemaining':_0x570518}};await this[_0x5e2f74(0x585)][_0x5e2f74(0x3a7)][_0x5e2f74(0x6f8)](_0x475d4e[_0x5e2f74(0x79d)],_0x58dcb4,this[_0x5e2f74(0x598)][_0x5e2f74(0x76b)]);continue;}if(this[_0x5e2f74(0x598)][_0x5e2f74(0x1cd)][_0x5e2f74(0x461)]=_0x570518,_0x475d4e[_0x5e2f74(0x6a9)][_0x5e2f74(0x568)](_0x2e4f5c=>_0x2e4f5c[_0x5e2f74(0x1fe)]===_0x570518)){this[_0x5e2f74(0x803)][_0x5e2f74(0x644)](this[_0x5e2f74(0x4f7)]+'\x20('+this[_0x5e2f74(0x598)]['wuid']+_0x5e2f74(0x498)+_0x570518+_0x5e2f74(0x2fb));continue;}if(!this['instance'][_0x5e2f74(0x1cd)][_0x5e2f74(0x588)]){this['logger'][_0x5e2f74(0x644)](this[_0x5e2f74(0x4f7)]+'\x20('+this[_0x5e2f74(0x598)][_0x5e2f74(0x76b)]+_0x5e2f74(0x464));break;}if(!this[_0x5e2f74(0x598)][_0x5e2f74(0x1cd)][_0x5e2f74(0x6fa)]){this[_0x5e2f74(0x803)]['verbose'](this[_0x5e2f74(0x4f7)]+'\x20('+this[_0x5e2f74(0x598)][_0x5e2f74(0x76b)]+_0x5e2f74(0x36d)+_0x475d4e[_0x5e2f74(0x79d)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0x475d4e[_0x5e2f74(0x7f6)]===_0x5e2f74(0x576)&&!this[_0x5e2f74(0x728)]?.[_0x5e2f74(0x7a9)]['enabled']){this[_0x5e2f74(0x803)]['error'](this[_0x5e2f74(0x4f7)]+'\x20('+this[_0x5e2f74(0x598)]['wuid']+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');break;}let _0xb008be={'remoteJid':_0x570518,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x5e2f74(0x5e6)]()},_0x3b6f9f=null;try{let _0x318bd0=await this[_0x5e2f74(0x3e0)](_0x570518,_0x475d4e);_0xb008be[_0x5e2f74(0x820)]=_0x318bd0[_0x5e2f74(0x820)],_0xb008be['id']=_0x318bd0[_0x5e2f74(0x820)]?null:_0x318bd0['id'],_0xb008be[_0x5e2f74(0x65a)]=_0x318bd0[_0x5e2f74(0x820)]?_0x318bd0[_0x5e2f74(0x18e)]?_0x318bd0[_0x5e2f74(0x18e)][_0x5e2f74(0x76f)]():'':null;let _0x4d39f9={'$push':{'messagesSend':_0xb008be},'$pull':{'remoteJidsRemaining':_0x570518}},_0x4681a2=_0x475d4e[_0x5e2f74(0x79d)];if(_0x3b6f9f=await this['repository']['scheduleMessage'][_0x5e2f74(0x6f8)](_0x4681a2,_0x4d39f9,this['instance'][_0x5e2f74(0x76b)]),_0x318bd0['error'])continue;let _0x5f19fc=this['getDelay'](_0x475d4e['delaySecMin'],_0x475d4e[_0x5e2f74(0x5fe)]);await this['sleep'](_0x5f19fc);}catch(_0x3876b9){this[_0x5e2f74(0x803)][_0x5e2f74(0x820)](this[_0x5e2f74(0x4f7)]+'\x20('+this[_0x5e2f74(0x598)][_0x5e2f74(0x76b)]+_0x5e2f74(0x7d3)+_0x570518+':\x20'+(_0x3876b9 instanceof Error?_0x3876b9['message']:JSON['stringify'](_0x3876b9,null,0x2))),_0xb008be[_0x5e2f74(0x820)]=!0x0,_0xb008be[_0x5e2f74(0x65a)]=_0x3876b9[_0x5e2f74(0x1dc)];let _0x44f228={'$push':{'messagesSend':_0xb008be},'$pull':{'remoteJidsRemaining':_0x570518}},_0x4cd6bf=_0x475d4e['_id'];_0x3b6f9f=await this[_0x5e2f74(0x585)][_0x5e2f74(0x3a7)][_0x5e2f74(0x6f8)](_0x4cd6bf,_0x44f228,this[_0x5e2f74(0x598)][_0x5e2f74(0x76b)]);}finally{if(_0x3b6f9f&&_0x3b6f9f[_0x5e2f74(0x59d)]==='stopped'){this[_0x5e2f74(0x803)][_0x5e2f74(0x644)](this[_0x5e2f74(0x4f7)]+'\x20('+this['instance'][_0x5e2f74(0x76b)]+_0x5e2f74(0x36d)+_0x475d4e[_0x5e2f74(0x79d)]+_0x5e2f74(0x75d));break;}}}let _0x1cde3a=await this[_0x5e2f74(0x585)][_0x5e2f74(0x3a7)][_0x5e2f74(0x41c)](_0x475d4e[_0x5e2f74(0x79d)],this['instance'][_0x5e2f74(0x76b)]);if(_0x1cde3a[_0x5e2f74(0x83b)][_0x5e2f74(0x623)]===0x0&&_0x1cde3a['status']!=='stopped'){this[_0x5e2f74(0x598)][_0x5e2f74(0x1cd)][_0x5e2f74(0x461)]=null;let _0x3b06de={'$set':{'status':_0x5e2f74(0x7d7)}},_0x5ebc3f=_0x1cde3a[_0x5e2f74(0x79d)];await this[_0x5e2f74(0x585)][_0x5e2f74(0x3a7)]['updateOneById'](_0x5ebc3f,_0x3b06de,this['instance'][_0x5e2f74(0x76b)]);}await new Promise(_0x53ecbb=>setTimeout(_0x53ecbb,0x1388));}},_0x38c6b3=async()=>{const _0x28026e=a0_0xf27f;let _0x251961={'where':{'status':'scheduled','when':{'$gt':Date[_0x28026e(0x5e6)]()}}},_0x5b5cb3=await this['repository']['scheduleMessage']['findOne'](_0x251961,this[_0x28026e(0x598)][_0x28026e(0x76b)]);_0x5b5cb3&&_0x5b5cb3[_0x28026e(0x49d)]-Date[_0x28026e(0x5e6)]()<=0x5265c00?this[_0x28026e(0x598)][_0x28026e(0x1cd)][_0x28026e(0x249)]=_0x5b5cb3[_0x28026e(0x49d)]-Date[_0x28026e(0x5e6)]():this[_0x28026e(0x598)]['ScheduleMessage']['delayMessage']=(0x3c+Math['floor'](Math[_0x28026e(0x6ab)]()*0x3c))*0x3c*0x3e8,this['instance'][_0x28026e(0x1cd)][_0x28026e(0x249)]=Math[_0x28026e(0x2e6)](this['instance'][_0x28026e(0x1cd)][_0x28026e(0x249)],0x7d0);let _0x3dba88=Math['round'](this[_0x28026e(0x598)][_0x28026e(0x1cd)]['delayMessage']/0xea60);if(_0x5b5cb3){let _0x16ed69=new Date(_0x5b5cb3[_0x28026e(0x49d)])[_0x28026e(0x76e)]();this['logger'][_0x28026e(0x644)](this[_0x28026e(0x4f7)]+'\x20('+this[_0x28026e(0x598)][_0x28026e(0x76b)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x16ed69+_0x28026e(0x32a)+_0x3dba88+_0x28026e(0x1e4));}else this[_0x28026e(0x803)][_0x28026e(0x644)](this[_0x28026e(0x4f7)]+'\x20('+this[_0x28026e(0x598)][_0x28026e(0x76b)]+_0x28026e(0x309)+_0x3dba88+'\x20minutos');setTimeout(()=>this[_0x28026e(0x7c7)](),this['instance'][_0x28026e(0x1cd)][_0x28026e(0x249)]);};if(this[_0x412feb(0x598)][_0x412feb(0x1cd)][_0x412feb(0x6fa)]){await this[_0x412feb(0x5da)](),_0x1a1f15();return;}if(!this[_0x412feb(0x598)][_0x412feb(0x1cd)][_0x412feb(0x588)]){this[_0x412feb(0x803)]['verbose'](this['instanceName']+'\x20('+this[_0x412feb(0x598)][_0x412feb(0x76b)]+_0x412feb(0x774)),this['instance'][_0x412feb(0x1cd)][_0x412feb(0x6fa)]=null,this[_0x412feb(0x598)][_0x412feb(0x1cd)][_0x412feb(0x53d)]=0x0,this[_0x412feb(0x598)][_0x412feb(0x1cd)][_0x412feb(0x249)]=0x0,this[_0x412feb(0x598)]['ScheduleMessage'][_0x412feb(0x461)]=null;return;}try{let _0x4a2080=await _0x1ab0d1();_0x4a2080[_0x412feb(0x623)]===0x0?this[_0x412feb(0x803)][_0x412feb(0x644)](this['instanceName']+'\x20('+this['instance']['wuid']+_0x412feb(0x70c)):(this[_0x412feb(0x598)][_0x412feb(0x1cd)][_0x412feb(0x6fa)]=_0x4a2080[0x0]['_id'],await _0x137f54(_0x4a2080)),await _0x38c6b3(),this['instance'][_0x412feb(0x1cd)]['processing_id']=null,this[_0x412feb(0x598)]['ScheduleMessage'][_0x412feb(0x461)]=null;}catch(_0x4348d8){this[_0x412feb(0x803)][_0x412feb(0x820)]('Error\x20in\x20scheduleNextCheck:\x20'+(_0x4348d8 instanceof Error?_0x4348d8['message']:JSON['stringify'](_0x4348d8,null,0x2)));}}[a0_0x422c01(0x3f5)](_0x11d09c,_0x270eb1){const _0x1652f2=a0_0x422c01;return _0x11d09c=Math[_0x1652f2(0x2e6)](0.5,_0x11d09c),_0x270eb1=Math[_0x1652f2(0x2b2)](Math[_0x1652f2(0x2e6)](0x3,_0x270eb1),0x78),Math['floor'](Math[_0x1652f2(0x6ab)]()*(_0x270eb1-_0x11d09c+0x1)+_0x11d09c)*0x3e8;}[a0_0x422c01(0x43c)](_0x32b9df){return new Promise(_0x5f0dce=>setTimeout(_0x5f0dce,_0x32b9df));}async['getVariablesChat'](_0x5a88a0){const _0x58ebf7=a0_0x422c01;if(!this[_0x58ebf7(0x728)]&&(await this[_0x58ebf7(0x1ac)](),!this[_0x58ebf7(0x728)]))return null;_0x5a88a0=this[_0x58ebf7(0x4c1)](_0x5a88a0);let _0x443970=await this[_0x58ebf7(0x585)][_0x58ebf7(0x496)]['findOne']({'where':{'_id':_0x5a88a0}},this[_0x58ebf7(0x598)][_0x58ebf7(0x76b)]),_0x130039={};if(_0x443970&&_0x443970[_0x58ebf7(0x2b6)]){let _0x3e8727=_0x443970[_0x58ebf7(0x2b6)];typeof _0x3e8727[_0x58ebf7(0x636)]=='string'&&(_0x130039[_0x58ebf7(0x636)]=_0x3e8727['nome']),typeof _0x3e8727[_0x58ebf7(0x6e4)]==_0x58ebf7(0x2cc)&&(_0x130039[_0x58ebf7(0x6e4)]=_0x3e8727[_0x58ebf7(0x6e4)]),typeof _0x3e8727['email']=='string'&&(_0x130039[_0x58ebf7(0x221)]=_0x3e8727[_0x58ebf7(0x221)]),typeof _0x3e8727[_0x58ebf7(0x2d9)]==_0x58ebf7(0x2cc)&&(_0x130039[_0x58ebf7(0x2d9)]=_0x3e8727[_0x58ebf7(0x2d9)]),typeof _0x3e8727['status']==_0x58ebf7(0x2cc)&&(_0x130039['status']=_0x3e8727['status']),typeof _0x3e8727[_0x58ebf7(0x2e0)]==_0x58ebf7(0x2cc)&&(_0x130039[_0x58ebf7(0x2e0)]=_0x3e8727['notas']),typeof _0x3e8727[_0x58ebf7(0x581)]==_0x58ebf7(0x2cc)&&(_0x130039[_0x58ebf7(0x581)]=_0x3e8727[_0x58ebf7(0x581)]),Array[_0x58ebf7(0x20d)](_0x3e8727[_0x58ebf7(0x26f)])&&(_0x130039[_0x58ebf7(0x26f)]=_0x3e8727[_0x58ebf7(0x26f)]['join'](',\x20')),Array[_0x58ebf7(0x20d)](_0x3e8727[_0x58ebf7(0x67f)])&&(_0x130039[_0x58ebf7(0x67f)]=_0x3e8727[_0x58ebf7(0x67f)][_0x58ebf7(0x465)](',\x20'));}return _0x443970&&_0x443970[_0x58ebf7(0x2b6)]&&_0x443970[_0x58ebf7(0x2b6)][_0x58ebf7(0x4d2)]&&_0x443970[_0x58ebf7(0x2b6)][_0x58ebf7(0x4d2)]['forEach'](_0xf12493=>{const _0x225b72=_0x58ebf7;let _0x29f908=this[_0x225b72(0x728)]?.['customFields'][_0x225b72(0x752)](_0x1911ee=>_0x1911ee[_0x225b72(0x79d)]===_0xf12493[_0x225b72(0x79d)]);_0x29f908&&(_0x130039[_0x29f908[_0x225b72(0x6a7)]]=_0xf12493['value']);}),_0x130039;}async[a0_0x422c01(0x2a0)](_0xff1f52,_0x20be9c){const _0x2a143c=a0_0x422c01;try{let _0x592f98=await this[_0x2a143c(0x572)](_0x20be9c);return this[_0x2a143c(0x79f)](_0xff1f52,_0x592f98);}catch(_0x4c1c47){return this[_0x2a143c(0x803)][_0x2a143c(0x820)](_0x2a143c(0x573)+_0x20be9c+':\x20'+_0x4c1c47),_0xff1f52;}}async['editScheduleMessage'](_0x65a425){const _0x243c47=a0_0x422c01;try{if(this['logger'][_0x243c47(0x644)](this['instanceName']+'\x20('+this[_0x243c47(0x598)][_0x243c47(0x76b)]+_0x243c47(0x5f4)),_0x65a425[_0x243c47(0x653)]&&_0x65a425[_0x243c47(0x79d)]){if(this[_0x243c47(0x598)][_0x243c47(0x1cd)]['processing_id']===_0x65a425[_0x243c47(0x79d)][_0x243c47(0x76f)]())throw new Error(_0x243c47(0x684));let _0x5160f1=await this[_0x243c47(0x585)][_0x243c47(0x3a7)]['deleteOne'](_0x65a425['_id'],this[_0x243c47(0x598)][_0x243c47(0x76b)]);return setTimeout(()=>this[_0x243c47(0x7c7)](),0x7d0),_0x5160f1;}let _0x396aa8;if(_0x65a425[_0x243c47(0x79d)]&&(_0x396aa8=await this[_0x243c47(0x585)]['scheduleMessage']['findById'](_0x65a425['_id'],this['instance']['wuid'])),_0x396aa8){let _0x206123;if(this['instance'][_0x243c47(0x1cd)]['processing_id']===_0x396aa8[_0x243c47(0x79d)]['toString']())_0x206123={'$set':{'status':_0x65a425[_0x243c47(0x59d)]}};else{let {_id:_0x388a18,..._0x119a6c}=_0x65a425;_0x206123={'$set':_0x119a6c};}let _0x2270a4=await this[_0x243c47(0x585)][_0x243c47(0x3a7)]['updateOneById'](_0x65a425[_0x243c47(0x79d)],_0x206123,this['instance']['wuid']);return setTimeout(()=>this[_0x243c47(0x7c7)](),0x7d0),_0x2270a4;}else{_0x65a425[_0x243c47(0x7e0)]=this[_0x243c47(0x598)]['wuid'];let _0x1a0417=await this[_0x243c47(0x585)][_0x243c47(0x3a7)]['createAndSave'](_0x65a425,this[_0x243c47(0x598)]['wuid']);return setTimeout(()=>this[_0x243c47(0x7c7)](),0x7d0),_0x1a0417;}}catch(_0x1ddb90){throw this[_0x243c47(0x803)][_0x243c47(0x820)](this[_0x243c47(0x4f7)]+'\x20('+this[_0x243c47(0x598)][_0x243c47(0x76b)]+_0x243c47(0x271)+(_0x1ddb90 instanceof Error?_0x1ddb90['message']:JSON[_0x243c47(0x54f)](_0x1ddb90,null,0x2))),new w('Erro:'+_0x1ddb90[_0x243c47(0x1dc)]);}}async['getScheduleMessage'](){const _0x4b673a=a0_0x422c01;try{return await this[_0x4b673a(0x585)][_0x4b673a(0x3a7)][_0x4b673a(0x752)]({'where':{}},this[_0x4b673a(0x598)][_0x4b673a(0x76b)]);}catch(_0x3bbfd3){throw this[_0x4b673a(0x803)][_0x4b673a(0x820)](this[_0x4b673a(0x4f7)]+'\x20('+this['instance'][_0x4b673a(0x76b)]+'):\x20Erro\x20ao\x20buscar\x20Schedule\x20Messages:'+(_0x3bbfd3 instanceof Error?_0x3bbfd3[_0x4b673a(0x1dc)]:JSON['stringify'](_0x3bbfd3,null,0x2))),new w(_0x4b673a(0x5b1)+_0x3bbfd3[_0x4b673a(0x1dc)]);}}async[a0_0x422c01(0x388)](){const _0xe99f38=a0_0x422c01;try{let _0x4f80cc={'status':_0xe99f38(0x7d7)},_0x59c0fc=await this['repository'][_0xe99f38(0x3a7)]['deleteMany'](_0x4f80cc,this['instance'][_0xe99f38(0x76b)]);if(!_0x59c0fc[_0xe99f38(0x820)])this['logger'][_0xe99f38(0x644)](this[_0xe99f38(0x4f7)]+'\x20('+this[_0xe99f38(0x598)][_0xe99f38(0x76b)]+'):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.');else throw new Error(_0x59c0fc[_0xe99f38(0x820)][_0xe99f38(0x1dc)]||_0xe99f38(0x810));return this[_0xe99f38(0x350)]();}catch(_0xd86d89){throw this['logger'][_0xe99f38(0x820)](this[_0xe99f38(0x4f7)]+'\x20('+this[_0xe99f38(0x598)][_0xe99f38(0x76b)]+'):\x20Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20\x22done\x22:'+(_0xd86d89 instanceof Error?_0xd86d89[_0xe99f38(0x1dc)]:JSON['stringify'](_0xd86d89,null,0x2))),new w('Erro:'+_0xd86d89[_0xe99f38(0x1dc)]);}}async[a0_0x422c01(0x3e0)](_0x15b0e8,_0x5a2454){const _0x169079=a0_0x422c01;try{if(_0x5a2454[_0x169079(0x7f6)]===_0x169079(0x576)&&!this[_0x169079(0x728)]?.[_0x169079(0x7a9)][_0x169079(0x63a)])return this[_0x169079(0x803)][_0x169079(0x820)](this[_0x169079(0x4f7)]+'\x20('+this[_0x169079(0x598)][_0x169079(0x76b)]+_0x169079(0x2ad)),{'error':!0x0,'detail':_0x169079(0x34d)};switch(_0x5a2454['type']){case _0x169079(0x4e4):return await this[_0x169079(0x336)](_0x5a2454,_0x15b0e8);case _0x169079(0x4ff):return await this[_0x169079(0x279)](_0x5a2454,_0x15b0e8);case'audio':return await this[_0x169079(0x387)](_0x5a2454,_0x15b0e8);case _0x169079(0x576):let _0x4e27b3=new je();return _0x4e27b3['name']=_0x5a2454[_0x169079(0x30b)],_0x4e27b3['remoteJid']=_0x15b0e8,await this['startFlow'](_0x4e27b3);break;default:return this['logger'][_0x169079(0x820)](this[_0x169079(0x4f7)]+'\x20('+this[_0x169079(0x598)][_0x169079(0x76b)]+'):\x20Comando\x20desconhecido:\x20'+_0x5a2454[_0x169079(0x7f6)]),{'error':!0x0,'detail':_0x169079(0x74c)};}}catch(_0x2ee884){return this[_0x169079(0x803)]['error'](this[_0x169079(0x4f7)]+'\x20('+this['instance'][_0x169079(0x76b)]+'):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20'+(_0x2ee884 instanceof Error?_0x2ee884[_0x169079(0x1dc)]:JSON[_0x169079(0x54f)](_0x2ee884,null,0x2))),{'error':!0x0,'detail':_0x2ee884['message']};}}[a0_0x422c01(0x5ef)](_0x5d765d){const _0x249442=a0_0x422c01;let _0x8feee1=_0x5d765d[_0x249442(0x1e1)]('|'),_0x3abc51=Math['floor'](Math['random']()*_0x8feee1[_0x249442(0x623)]);return _0x8feee1[_0x3abc51][_0x249442(0x78f)]();}async[a0_0x422c01(0x336)](_0x3cb17c,_0x506643){const _0xd4871f=a0_0x422c01;if(this[_0xd4871f(0x803)][_0xd4871f(0x644)](this[_0xd4871f(0x4f7)]+'\x20('+this[_0xd4871f(0x598)][_0xd4871f(0x76b)]+_0xd4871f(0x1d5)),!_0x3cb17c['message']['text']||_0x3cb17c[_0xd4871f(0x1dc)][_0xd4871f(0x4e4)]['length']===0x0)return{'error':!0x0,'detail':_0xd4871f(0x1bb)};let _0x153d4b=this[_0xd4871f(0x5ef)](_0x3cb17c[_0xd4871f(0x1dc)][_0xd4871f(0x4e4)]),_0x5cced1=await this['replaceVariablesChat'](_0x153d4b,_0x506643),_0xf3da0e={'number':_0x506643,'options':{'delay':_0x3cb17c[_0xd4871f(0x1dc)][_0xd4871f(0x364)],'linkPreview':_0x3cb17c['message'][_0xd4871f(0x37c)]},'textMessage':{'text':_0x5cced1}},_0x36eddf=null;try{let _0x24f9e6=await this[_0xd4871f(0x845)](_0xf3da0e);if(_0x24f9e6&&_0x24f9e6['status'])return{'error':!0x1,'id':_0x24f9e6[_0xd4871f(0x254)]['id']};_0x36eddf=JSON['stringify'](_0x24f9e6),this[_0xd4871f(0x803)][_0xd4871f(0x644)](this[_0xd4871f(0x4f7)]+'\x20('+this[_0xd4871f(0x598)][_0xd4871f(0x76b)]+_0xd4871f(0x584)+_0x36eddf);}catch(_0x215c24){this[_0xd4871f(0x803)][_0xd4871f(0x820)](this[_0xd4871f(0x4f7)]+'\x20('+this['instance'][_0xd4871f(0x76b)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20'+(_0x215c24 instanceof Error?_0x215c24[_0xd4871f(0x1dc)]:JSON[_0xd4871f(0x54f)](_0x215c24,null,0x2))),_0x36eddf=_0x215c24['message'];}if(_0x36eddf)return{'error':!0x0,'detail':(typeof _0x36eddf==_0xd4871f(0x1e5)?JSON[_0xd4871f(0x54f)](_0x36eddf,null,0x2):_0x36eddf)['replace'](/[\[\]{}\n]/g,'\x20')[_0xd4871f(0x246)](/  +/g,'\x20')};}async[a0_0x422c01(0x279)](_0x55edea,_0x43d099){const _0x15ee8c=a0_0x422c01;this[_0x15ee8c(0x803)][_0x15ee8c(0x644)](this[_0x15ee8c(0x4f7)]+'\x20('+this[_0x15ee8c(0x598)][_0x15ee8c(0x76b)]+_0x15ee8c(0x33e));let _0x3bb6fa;if(_0x55edea[_0x15ee8c(0x1dc)][_0x15ee8c(0x4e4)]&&_0x55edea[_0x15ee8c(0x1dc)][_0x15ee8c(0x4e4)][_0x15ee8c(0x623)]>0x0){let _0x3f684b=this[_0x15ee8c(0x5ef)](_0x55edea[_0x15ee8c(0x1dc)][_0x15ee8c(0x4e4)]);_0x3bb6fa=await this[_0x15ee8c(0x2a0)](_0x3f684b,_0x43d099);}let _0x2940e4={'number':_0x43d099,'options':{'delay':_0x55edea[_0x15ee8c(0x1dc)][_0x15ee8c(0x364)],'linkPreview':_0x55edea[_0x15ee8c(0x1dc)]['linkPreview']},'mediaMessage':{'mediatype':_0x55edea[_0x15ee8c(0x1dc)][_0x15ee8c(0x1d9)],'caption':_0x3bb6fa,'media':_0x55edea[_0x15ee8c(0x1dc)][_0x15ee8c(0x7f8)]}},_0xf5b599=null;try{let _0x9e7f4b=await this[_0x15ee8c(0x55b)](_0x2940e4);if(_0x9e7f4b&&_0x9e7f4b[_0x15ee8c(0x59d)])return{'error':!0x1,'id':_0x9e7f4b[_0x15ee8c(0x254)]['id']};_0xf5b599=JSON[_0x15ee8c(0x54f)](_0x9e7f4b),this['logger']['verbose'](this[_0x15ee8c(0x4f7)]+'\x20('+this[_0x15ee8c(0x598)][_0x15ee8c(0x76b)]+_0x15ee8c(0x584)+_0xf5b599);}catch(_0x32d31b){this[_0x15ee8c(0x803)]['error'](this['instanceName']+'\x20('+this[_0x15ee8c(0x598)][_0x15ee8c(0x76b)]+'):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x32d31b instanceof Error?_0x32d31b[_0x15ee8c(0x1dc)]:JSON['stringify'](_0x32d31b,null,0x2))),_0xf5b599=_0x32d31b['message'];}if(_0xf5b599)return{'error':!0x0,'detail':(typeof _0xf5b599=='object'?JSON[_0x15ee8c(0x54f)](_0xf5b599,null,0x2):_0xf5b599)[_0x15ee8c(0x246)](/[\[\]{}\n]/g,'\x20')[_0x15ee8c(0x246)](/  +/g,'\x20')};}async[a0_0x422c01(0x387)](_0x5ce934,_0x5770ba){const _0x2a4d00=a0_0x422c01;this['logger'][_0x2a4d00(0x644)](this[_0x2a4d00(0x4f7)]+'\x20('+this['instance']['wuid']+'):\x20Enviando\x20áudio');let _0x347926={'number':_0x5770ba,'options':{'delay':_0x5ce934[_0x2a4d00(0x1dc)][_0x2a4d00(0x364)]},'audioMessage':{'audio':_0x5ce934[_0x2a4d00(0x1dc)][_0x2a4d00(0x7f8)]}},_0x3f1da6=null;try{let _0x39e18b=await this[_0x2a4d00(0x34e)](_0x347926);if(_0x39e18b&&_0x39e18b['status'])return{'error':!0x1,'id':_0x39e18b[_0x2a4d00(0x254)]['id']};_0x3f1da6=JSON[_0x2a4d00(0x54f)](_0x39e18b),this[_0x2a4d00(0x803)]['verbose'](this[_0x2a4d00(0x4f7)]+'\x20('+this[_0x2a4d00(0x598)][_0x2a4d00(0x76b)]+_0x2a4d00(0x584)+_0x3f1da6);}catch(_0x2caf68){this['logger'][_0x2a4d00(0x820)](this[_0x2a4d00(0x4f7)]+'\x20('+this[_0x2a4d00(0x598)][_0x2a4d00(0x76b)]+_0x2a4d00(0x6f6)+(_0x2caf68 instanceof Error?_0x2caf68['message']:JSON['stringify'](_0x2caf68,null,0x2))),_0x3f1da6=_0x2caf68[_0x2a4d00(0x1dc)];}if(_0x3f1da6)return{'error':!0x0,'detail':(typeof _0x3f1da6=='object'?JSON[_0x2a4d00(0x54f)](_0x3f1da6,null,0x2):_0x3f1da6)[_0x2a4d00(0x246)](/[\[\]{}\n]/g,'\x20')[_0x2a4d00(0x246)](/  +/g,'\x20')};}},Jt=class c{constructor(_0x59eb8a,_0xc3b47e,_0x62b8ab){const _0x45f468=a0_0x422c01;this[_0x45f468(0x77e)]=_0x59eb8a,this[_0x45f468(0x63c)]=_0xc3b47e,this[_0x45f468(0x585)]=_0x62b8ab,this['db']={},this['redis']={},this[_0x45f468(0x803)]=new v(c[_0x45f468(0x6a7)]),this[_0x45f468(0x667)]={},(this[_0x45f468(0x558)](),this[_0x45f468(0x56d)](),Object[_0x45f468(0x7d1)](this['db'],_0xc3b47e[_0x45f468(0x5a1)](_0x45f468(0x324))),Object[_0x45f468(0x7d1)](this[_0x45f468(0x7ad)],_0xc3b47e[_0x45f468(0x5a1)]('REDIS')),this['dbInstance']=this['db'][_0x45f468(0x698)]?this[_0x45f468(0x585)][_0x45f468(0x2d6)]?.['db'](this['db'][_0x45f468(0x785)][_0x45f468(0x36a)]+_0x45f468(0x767)):void 0x0,this[_0x45f468(0x827)]=this['redis'][_0x45f468(0x698)]?new ne(this[_0x45f468(0x7ad)]):void 0x0);}async[a0_0x422c01(0x472)](_0x5c0173){const _0x4bbdc2=a0_0x422c01;if(_0x5c0173&&!this['waInstances'][_0x5c0173])throw new F('Instance\x20\x22'+_0x5c0173+_0x4bbdc2(0x2b0));let _0x33eb2f=[];for await(let [_0x39e471,_0x5b516f]of Object[_0x4bbdc2(0x3bc)](this[_0x4bbdc2(0x667)]))if(_0x5b516f&&_0x5b516f['connectionStatus']['state']===_0x4bbdc2(0x26c)){let _0x235d27=await this[_0x4bbdc2(0x585)][_0x4bbdc2(0x5bf)][_0x4bbdc2(0x752)](_0x39e471);_0x33eb2f[_0x4bbdc2(0x484)]({'instance':{'instanceName':_0x39e471,'apikey':_0x235d27[_0x4bbdc2(0x3fa)],'owner':_0x5b516f[_0x4bbdc2(0x76b)],'profileName':await _0x5b516f[_0x4bbdc2(0x420)]()||_0x4bbdc2(0x481),'profilePictureUrl':_0x5b516f['profilePictureUrl']}});}return _0x33eb2f[_0x4bbdc2(0x752)](_0x1ab951=>_0x1ab951['instance'][_0x4bbdc2(0x4f7)]===_0x5c0173)??_0x33eb2f;}async[a0_0x422c01(0x28a)](_0x3bf3d3){const _0x569899=a0_0x422c01;if(this['db'][_0x569899(0x698)]&&(await this[_0x569899(0x585)][_0x569899(0x2d6)][_0x569899(0x18f)](),(await this[_0x569899(0x82a)][_0x569899(0x616)]())[_0x569899(0x623)]>0x0&&await this[_0x569899(0x82a)][_0x569899(0x29b)](_0x3bf3d3)),this[_0x569899(0x7ad)][_0x569899(0x698)]){this[_0x569899(0x827)][_0x569899(0x187)]=_0x3bf3d3,await this[_0x569899(0x827)][_0x569899(0x5c6)]();return;}}async['loadInstance'](){const _0x2241b1=a0_0x422c01;await this[_0x2241b1(0x18d)]();let _0x483555=async _0x5b7d28=>{const _0x414415=_0x2241b1;let _0x19f37f=new be(this['configService'],this[_0x414415(0x77e)],this[_0x414415(0x585)]);_0x19f37f[_0x414415(0x4f7)]=_0x5b7d28,await _0x19f37f[_0x414415(0x75b)](),this[_0x414415(0x667)][_0x5b7d28]=_0x19f37f;};try{if(this[_0x2241b1(0x7ad)]['ENABLED']){let _0x275b78=await this['cache'][_0x2241b1(0x805)]();_0x275b78?.[_0x2241b1(0x623)]>0x0&&_0x275b78[_0x2241b1(0x485)](async _0x50f8b0=>await _0x483555(_0x50f8b0[_0x2241b1(0x1e1)](':')[0x1]));return;}if(this['db'][_0x2241b1(0x698)]){await this[_0x2241b1(0x585)]['dbServer'][_0x2241b1(0x18f)]();let _0x3efe8a=await this['dbInstance'][_0x2241b1(0x616)]();_0x3efe8a['length']>0x0&&_0x3efe8a[_0x2241b1(0x485)](async _0x1f4199=>await _0x483555(_0x1f4199[_0x2241b1(0x3a9)]['replace'](/^[\w-]+\./,'')));return;}}catch(_0x393113){this[_0x2241b1(0x803)][_0x2241b1(0x820)](_0x393113);}}async[a0_0x422c01(0x589)](){const _0x51611b=a0_0x422c01;let _0x465bc3=await this['repository']['auth'][_0x51611b(0x547)](),_0x4604a7=_0x465bc3[_0x51611b(0x7aa)](_0x268c6a=>!this[_0x51611b(0x667)][_0x268c6a[_0x51611b(0x79d)]]&&(_0x268c6a[_0x51611b(0x4a8)]||typeof _0x268c6a[_0x51611b(0x4a8)]>'u'));_0x4604a7[_0x51611b(0x623)]>0x0&&await Promise['all'](_0x4604a7[_0x51611b(0x1ec)](async _0x2cec78=>{const _0x533960=_0x51611b;let _0x41c827={'online':!0x1,'lastDisconnect':Date[_0x533960(0x5e6)]()};await this['repository']['auth']['create'](_0x41c827,_0x2cec78[_0x533960(0x79d)]);}));let _0x451f99=Date[_0x51611b(0x5e6)]()-0xa*0x18*0x3c*0x3c*0x3e8,_0x19ab87=_0x465bc3['filter'](_0x5f563d=>!this[_0x51611b(0x667)][_0x5f563d[_0x51611b(0x79d)]]&&typeof _0x5f563d[_0x51611b(0x813)]<'u'&&_0x5f563d[_0x51611b(0x813)]<_0x451f99);_0x19ab87[_0x51611b(0x623)]>0x0&&await Promise['all'](_0x19ab87['map'](async _0x3c2526=>{}));}async[a0_0x422c01(0x18d)](){const _0xfb1bcc=a0_0x422c01;try{let _0xb9fd08={'$or':[{'online':{'$exists':!0x1}},{'lastDisconnect':{'$exists':!0x1}}]},_0x58e161={'online':!0x1,'lastDisconnect':Date['now']()},_0x1d2be7=await this[_0xfb1bcc(0x585)]['auth'][_0xfb1bcc(0x328)](_0xb9fd08,_0x58e161);console['log'](_0xfb1bcc(0x69e)+_0x1d2be7[_0xfb1bcc(0x763)]),await this[_0xfb1bcc(0x4fd)]();}catch(_0x583597){console['error']('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x583597);}}async[a0_0x422c01(0x4fd)](){const _0x5d1d99=a0_0x422c01;try{let _0x415edc={'online':!0x1,'lastDisconnect':{'$lt':0x337f9800}},_0x43fc60=await this[_0x5d1d99(0x585)][_0x5d1d99(0x5bf)][_0x5d1d99(0x6a1)](_0x415edc);console[_0x5d1d99(0x7f7)](_0x5d1d99(0x590)+_0x43fc60[_0x5d1d99(0x763)]);}catch(_0x4c4065){console['error']('Erro\x20ao\x20remover\x20instâncias\x20antigas:',_0x4c4065);}}[a0_0x422c01(0x558)](){const _0x1c46bd=a0_0x422c01;this[_0x1c46bd(0x77e)]['on'](_0x1c46bd(0x44f),async _0xdd2992=>{const _0x7b2555=_0x1c46bd;try{this[_0x7b2555(0x667)][_0xdd2992]=void 0x0;}catch{}try{this[_0x7b2555(0x28a)](_0xdd2992);}finally{this['logger'][_0x7b2555(0x5de)](_0x7b2555(0x489)+_0xdd2992+'\x22\x20-\x20REMOVED');}});}[a0_0x422c01(0x56d)](){const _0xa80efa=a0_0x422c01;this[_0xa80efa(0x77e)]['on'](_0xa80efa(0x56b),async _0x4b5ac7=>{const _0x491850=_0xa80efa;try{this[_0x491850(0x667)][_0x4b5ac7]=void 0x0;}catch{}try{this['cleaningUp'](_0x4b5ac7);}finally{this['logger'][_0x491850(0x5de)](_0x491850(0x489)+_0x4b5ac7+_0x491850(0x398));}});}},qt=class extends D{[a0_0x422c01(0x6f3)](_0x35e018){return Ys(_0x35e018);}async[a0_0x422c01(0x4bd)](_0x192b6c){const _0x3d92a1=a0_0x422c01;if(_0x192b6c[_0x3d92a1(0x623)]!==0x0)try{return{'insertCount':(await this[_0x3d92a1(0x6f3)](_0x192b6c[0x0]['owner'])[_0x3d92a1(0x7c9)]([..._0x192b6c]))[_0x3d92a1(0x623)]};}catch(_0x22607c){return _0x22607c;}}async['find'](_0x162733,_0x248679){const _0x14a6b8=a0_0x422c01;try{let _0x4229cc=this[_0x14a6b8(0x6f3)](_0x248679),_0x5c0057=A(_0x162733[_0x14a6b8(0x697)]);return await _0x4229cc[_0x14a6b8(0x752)](_0x5c0057)[_0x14a6b8(0x799)]({'lastmsg':-0x1})[_0x14a6b8(0x83a)](_0x162733?.[_0x14a6b8(0x83a)]??0x0)['lean']();}catch{return[];}}async[a0_0x422c01(0x653)](_0x2e1d7c,_0x38749c){const _0x27dfcc=a0_0x422c01;try{return{'deletedCount':(await this['getChatModelForOwner'](_0x38749c)[_0x27dfcc(0x6a1)]({..._0x2e1d7c['where']}))[_0x27dfcc(0x1fd)]};}catch(_0x3fc0f2){return{'error':_0x3fc0f2?.[_0x27dfcc(0x76f)]()};}}async['deleteAll'](_0x47c145,_0x50af76){const _0x418d61=a0_0x422c01;try{return await this[_0x418d61(0x6f3)](_0x50af76)[_0x418d61(0x6a1)]({..._0x47c145[_0x418d61(0x697)]}),[];}catch(_0xa7a265){return{'error':_0xa7a265?.[_0x418d61(0x76f)]()};}}async['findOne'](_0x192122,_0x5745a1){const _0x58c87e=a0_0x422c01;try{let _0x397803=this[_0x58c87e(0x6f3)](_0x5745a1),_0x258aae=A(_0x192122['where']);return await _0x397803[_0x58c87e(0x64b)](_0x258aae)[_0x58c87e(0x5e5)]();}catch{return null;}}async[a0_0x422c01(0x3e5)](_0x171c53,_0x28051e,_0x2991ed,_0x5a591a,_0x4a105d=a0_0x422c01(0x438)){const _0xe7fe0b=a0_0x422c01;try{let _0x2a0f81={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x5a591a},_0x246c84=this[_0xe7fe0b(0x6f3)](_0x2991ed),_0x2f609c=A(_0x171c53[_0xe7fe0b(0x697)]);Object[_0xe7fe0b(0x21a)](_0x28051e)[_0xe7fe0b(0x485)](_0x4c1c8a=>{_0x28051e[_0x4c1c8a]==null&&delete _0x28051e[_0x4c1c8a];});let _0x5e0863={};return _0x5e0863[_0x4a105d]=_0x28051e,await _0x246c84[_0xe7fe0b(0x4db)](_0x2f609c,_0x5e0863,_0x2a0f81);}catch(_0x490f69){return console[_0xe7fe0b(0x820)](_0x490f69),null;}}async[a0_0x422c01(0x247)](_0x1ef314){const _0x428806=a0_0x422c01;try{let _0x38637e=this[_0x428806(0x6f3)](_0x1ef314[0x0][_0x428806(0x6b1)]['where'][_0x428806(0x7e0)]),_0xb3bffe=_0x1ef314['map'](_0x5e5e29=>({'updateOne':{'filter':{..._0x5e5e29['query'][_0x428806(0x697)]},'update':{'$set':_0x5e5e29[_0x428806(0x4fe)]},'upsert':!0x0}})),_0x509d6c=await _0x38637e[_0x428806(0x7e6)](_0xb3bffe);return _0x509d6c[_0x428806(0x332)]+_0x509d6c[_0x428806(0x278)];}catch(_0x2093b7){return console[_0x428806(0x820)](_0x2093b7),0x0;}}async[a0_0x422c01(0x72d)](_0x303ec6){const _0x1dfb40=a0_0x422c01;try{let _0x5ae3f5=this['getChatModelForOwner'](_0x303ec6),_0x4f75e2={'labels':{'$exists':!0x0}},_0x327604={'$unset':{'labels':''}};return(await _0x5ae3f5[_0x1dfb40(0x247)](_0x4f75e2,_0x327604))[_0x1dfb40(0x332)];}catch(_0x4d9524){return console[_0x1dfb40(0x820)](_0x4d9524),0x0;}}async['updateMissingEtiquetas'](_0x2b24b3){const _0x4bb407=a0_0x422c01;try{let _0x274c8d=this[_0x4bb407(0x6f3)](_0x2b24b3),_0x44a21d={'leadInfo.etiquetas':{'$exists':!0x1}},_0x56ec9e={'$set':{'leadInfo.etiquetas':[]}};return(await _0x274c8d[_0x4bb407(0x247)](_0x44a21d,_0x56ec9e))[_0x4bb407(0x332)];}catch(_0x4715c0){return console['error'](_0x4715c0),0x0;}}async[a0_0x422c01(0x3ae)](_0xe3de91){const _0x5d0ce9=a0_0x422c01;try{let _0x1e505d=this[_0x5d0ce9(0x6f3)](_0xe3de91),_0x4d698b={'leadInfo.tags':{'$exists':!0x1}},_0x4707b8={'$set':{'leadInfo.tags':[]}};return(await _0x1e505d[_0x5d0ce9(0x247)](_0x4d698b,_0x4707b8))[_0x5d0ce9(0x332)];}catch(_0x3776ae){return console['error'](_0x3776ae),0x0;}}async[a0_0x422c01(0x681)](_0x2d3cd5){const _0x4f795c=a0_0x422c01;try{let _0xc2b0b4=this[_0x4f795c(0x6f3)](_0x2d3cd5),_0x4ceb0d={'leadInfo.customFields':{'$exists':!0x1}},_0x5dce74={'$set':{'leadInfo.customFields':[]}};return(await _0xc2b0b4[_0x4f795c(0x247)](_0x4ceb0d,_0x5dce74))[_0x4f795c(0x332)];}catch(_0xbae975){return console[_0x4f795c(0x820)](_0xbae975),0x0;}}async[a0_0x422c01(0x7c9)](_0x4284ac,_0x491bd1){const _0x35e512=a0_0x422c01;if(!Array[_0x35e512(0x20d)](_0x4284ac)||_0x4284ac[_0x35e512(0x623)]===0x0)throw new Error(_0x35e512(0x48f));try{return(await this[_0x35e512(0x6f3)](_0x491bd1)[_0x35e512(0x7c9)](_0x4284ac))[_0x35e512(0x623)];}catch(_0x2c8797){throw console['error'](_0x35e512(0x366),_0x2c8797),_0x2c8797;}}async[a0_0x422c01(0x6c0)](_0x1e739f,_0x4551cf){const _0x157a78=a0_0x422c01;try{await this[_0x157a78(0x6f3)](_0x4551cf)[_0x157a78(0x758)]({'_id':_0x1e739f});}catch(_0x43604c){throw console[_0x157a78(0x820)](_0x157a78(0x45d),_0x43604c),_0x43604c;}}},Vt=class extends D{constructor(_0x516f6c,_0x46dabe,_0x35ceaf){const _0x4f7c02=a0_0x422c01;super(_0x46dabe),this[_0x4f7c02(0x3d9)]=_0x516f6c,this[_0x4f7c02(0x63c)]=_0x46dabe,this['dbConnection']=_0x35ceaf;}async['insert'](_0x39079f){const _0x14974e=a0_0x422c01;if(_0x39079f[_0x14974e(0x623)]!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0x14974e(0x7c9)]([..._0x39079f]))[_0x14974e(0x623)]};}catch(_0x3c08e5){return _0x3c08e5;}}async['update'](_0x52dec6,_0x5a4619){const _0x4e2a96=a0_0x422c01;try{let _0x44971f=A(_0x52dec6[_0x4e2a96(0x697)]);return{'updatedCount':(await this['cacheContactModel'][_0x4e2a96(0x247)](_0x44971f,{'$set':_0x5a4619}))[_0x4e2a96(0x332)]};}catch(_0x5d23b9){return console['error']('Error\x20updating\x20cache\x20contact:',_0x5d23b9),{'error':_0x5d23b9[_0x4e2a96(0x76f)]()};}}async[a0_0x422c01(0x228)](_0x5f28a7){const _0x5f330b=a0_0x422c01;try{let _0x211990={'_id':{'$in':_0x5f28a7}};return await this[_0x5f330b(0x3d9)]['find'](_0x211990)[_0x5f330b(0x5e5)]();}catch(_0x151cc6){return console[_0x5f330b(0x820)](_0x5f330b(0x48a),_0x151cc6),[];}}async['delete'](_0x4a655a){const _0x418a3e=a0_0x422c01;try{return{'deletedCount':(await this['cacheContactModel'][_0x418a3e(0x6a1)]({..._0x4a655a[_0x418a3e(0x697)]}))[_0x418a3e(0x1fd)]};}catch(_0xa32dd7){return{'error':_0xa32dd7?.[_0x418a3e(0x76f)]()};}}async[a0_0x422c01(0x752)](_0x2fb5d7){const _0x1b6c3f=a0_0x422c01;try{let _0x11c8d7=A(_0x2fb5d7[_0x1b6c3f(0x697)]);return await this[_0x1b6c3f(0x3d9)][_0x1b6c3f(0x752)](_0x11c8d7)[_0x1b6c3f(0x83a)](_0x2fb5d7?.['limit']??0x0)['lean']();}catch{return[];}}async[a0_0x422c01(0x64b)](_0x5842ff){const _0x36b284=a0_0x422c01;try{let _0xf3da02=A(_0x5842ff['where']);return await this[_0x36b284(0x3d9)][_0x36b284(0x64b)](_0xf3da02)[_0x36b284(0x5e5)]();}catch{return null;}}},Bt=class extends D{[a0_0x422c01(0x6a8)](_0x11f905){return Ma(_0x11f905);}async['updateOne'](_0x76056f,_0x1b276e,_0x2b598e,_0x4c94e3){const _0x99c4ba=a0_0x422c01;try{let _0x23e8d2={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4c94e3},_0x2d8c05=this[_0x99c4ba(0x6a8)](_0x2b598e),_0x5db2d6=A(_0x76056f[_0x99c4ba(0x697)]);return await _0x2d8c05[_0x99c4ba(0x4db)](_0x5db2d6,{'$set':_0x1b276e},_0x23e8d2);}catch(_0x35bd3d){return console['error'](_0x35bd3d),null;}}async[a0_0x422c01(0x752)](_0xc2a811,_0x217e1d){const _0x46b089=a0_0x422c01;try{let _0x5b8e87=this[_0x46b089(0x6a8)](_0x217e1d),_0x398194=A(_0xc2a811[_0x46b089(0x697)]);return await _0x5b8e87[_0x46b089(0x752)](_0x398194);}catch(_0x4e3b43){console['error'](_0x4e3b43);}}async[a0_0x422c01(0x653)](_0x48f05c,_0x266a6f){const _0x47e65f=a0_0x422c01;try{let _0x44316f=this[_0x47e65f(0x6a8)](_0x266a6f),_0x231f76=A(_0x48f05c['where']);await _0x44316f[_0x47e65f(0x6a1)](_0x231f76);}catch(_0x396543){console[_0x47e65f(0x820)](_0x396543);}}async[a0_0x422c01(0x3da)](_0x1aed6f){const _0x3aa63a=a0_0x422c01;try{return await this['getLabelModelForOwner'](_0x1aed6f)['collection'][_0x3aa63a(0x4a4)](),{'success':!0x0};}catch(_0xc8e6ea){return console[_0x3aa63a(0x820)](_0xc8e6ea),{'success':!0x1,'error':_0xc8e6ea};}}},Gt=class{constructor(_0x4417c6){const _0x4a9732=a0_0x422c01;this[_0x4a9732(0x7a0)]=_0x4417c6;}async[a0_0x422c01(0x742)]({instanceName:_0x1f4b3c},_0x451706){const _0x6151a6=a0_0x422c01;return await this[_0x6151a6(0x7a0)][_0x6151a6(0x667)][_0x1f4b3c][_0x6151a6(0x742)](_0x451706);}async[a0_0x422c01(0x795)]({instanceName:_0x264141},_0x1f38d9){const _0x5b3041=a0_0x422c01;return await this[_0x5b3041(0x7a0)]['waInstances'][_0x264141][_0x5b3041(0x795)](_0x1f38d9);}async[a0_0x422c01(0x3a2)]({instanceName:_0x4f96a2},_0x12cda4){const _0x3f296e=a0_0x422c01;return await this['waMonitor'][_0x3f296e(0x667)][_0x4f96a2][_0x3f296e(0x3a2)](_0x12cda4);}async[a0_0x422c01(0x360)]({instanceName:_0x110d61},_0x35c7de){const _0xb7f508=a0_0x422c01;return await this[_0xb7f508(0x7a0)][_0xb7f508(0x667)][_0x110d61][_0xb7f508(0x7bc)](_0x35c7de);}async[a0_0x422c01(0x6cd)]({instanceName:_0x5271cc},_0xb4e358){const _0xb5ceda=a0_0x422c01;return await this[_0xb5ceda(0x7a0)][_0xb5ceda(0x667)][_0x5271cc][_0xb5ceda(0x6cd)](_0xb4e358);}async[a0_0x422c01(0x63f)]({instanceName:_0x5b3f42},_0xb3bb0f){const _0x2334e5=a0_0x422c01;return await this[_0x2334e5(0x7a0)]['waInstances'][_0x5b3f42][_0x2334e5(0x63f)](_0xb3bb0f);}async[a0_0x422c01(0x4b2)]({instanceName:_0x3adc0e},_0x32eec8){const _0x219c03=a0_0x422c01;return await this['waMonitor'][_0x219c03(0x667)][_0x3adc0e][_0x219c03(0x323)](_0x32eec8[_0x219c03(0x736)]);}async[a0_0x422c01(0x24c)]({instanceName:_0x26b88a},_0x27507f){const _0x30f703=a0_0x422c01;return await this[_0x30f703(0x7a0)]['waInstances'][_0x26b88a][_0x30f703(0x24c)](_0x27507f['number']);}async['updatePresence']({instanceName:_0x4a9aa6},_0x3469bd){const _0x1036aa=a0_0x422c01;return await this[_0x1036aa(0x7a0)]['waInstances'][_0x4a9aa6]['updatePresence'](_0x3469bd);}async[a0_0x422c01(0x7ef)]({instanceName:_0x4c3a4d},_0x26ae0b){const _0x285f70=a0_0x422c01;return await this[_0x285f70(0x7a0)][_0x285f70(0x667)][_0x4c3a4d][_0x285f70(0x7ef)](_0x26ae0b);}async[a0_0x422c01(0x6f2)]({instanceName:_0x5a6913},_0x9011f8){const _0x321961=a0_0x422c01;return await this[_0x321961(0x7a0)][_0x321961(0x667)][_0x5a6913][_0x321961(0x6f2)](_0x9011f8);}async['fetchMessages']({instanceName:_0x35333f},_0x25e9fc){const _0x58ab53=a0_0x422c01;return await this['waMonitor']['waInstances'][_0x35333f][_0x58ab53(0x2bb)](_0x25e9fc);}async['fetchLabels']({instanceName:_0x1af376}){const _0x45c26d=a0_0x422c01;return await this[_0x45c26d(0x7a0)][_0x45c26d(0x667)][_0x1af376][_0x45c26d(0x3fe)]();}async['fetchChats']({instanceName:_0x3641e2}){const _0x19b25c=a0_0x422c01;return await this[_0x19b25c(0x7a0)][_0x19b25c(0x667)][_0x3641e2]['fetchChats']();}async['fetchPrivacySettings']({instanceName:_0x279eec}){const _0x6674f5=a0_0x422c01;return await this['waMonitor']['waInstances'][_0x279eec][_0x6674f5(0x292)]();}async[a0_0x422c01(0x624)]({instanceName:_0x21a722},_0x5d5c47){const _0x26f9c1=a0_0x422c01;return await this[_0x26f9c1(0x7a0)][_0x26f9c1(0x667)][_0x21a722][_0x26f9c1(0x624)](_0x5d5c47);}async[a0_0x422c01(0x5db)]({instanceName:_0x400d98},_0x4a2194){const _0x1260b2=a0_0x422c01;return await this[_0x1260b2(0x7a0)][_0x1260b2(0x667)][_0x400d98][_0x1260b2(0x5db)](_0x4a2194['number']);}async['updateProfileName']({instanceName:_0x518b23},_0xee05f4){const _0x3d27c8=a0_0x422c01;return await this[_0x3d27c8(0x7a0)]['waInstances'][_0x518b23][_0x3d27c8(0x49b)](_0xee05f4['name']);}async[a0_0x422c01(0x586)]({instanceName:_0x6f0a55},_0x6d4bb5){const _0x413867=a0_0x422c01;return await this[_0x413867(0x7a0)]['waInstances'][_0x6f0a55][_0x413867(0x586)](_0x6d4bb5[_0x413867(0x59d)]);}async[a0_0x422c01(0x814)]({instanceName:_0x479e1f},_0xe19503){const _0xf176ca=a0_0x422c01;return await this[_0xf176ca(0x7a0)][_0xf176ca(0x667)][_0x479e1f]['updateProfilePicture'](_0xe19503[_0xf176ca(0x70d)]);}async['removeProfilePicture']({instanceName:_0x4e52a6},_0x2b7d8e){const _0x120dda=a0_0x422c01;return await this[_0x120dda(0x7a0)][_0x120dda(0x667)][_0x4e52a6][_0x120dda(0x3ad)]();}},$s=require(a0_0x422c01(0x408)),Wt=class c{constructor(_0x175fed,_0x2c2895,_0x317318,_0xde6ac5,_0x5895f6){const _0x510432=a0_0x422c01;this[_0x510432(0x7a0)]=_0x175fed,this['configService']=_0x2c2895,this['repository']=_0x317318,this[_0x510432(0x77e)]=_0xde6ac5,this[_0x510432(0x245)]=_0x5895f6,this[_0x510432(0x803)]=new v(c[_0x510432(0x6a7)]);}async[a0_0x422c01(0x664)]({instanceName:_0x43bb03,apikey:_0x1eed83,number:_0x41e998,proxy:_0x1943ca=!0x0}){const _0x139c97=a0_0x422c01;try{let _0x7032b5=new be(this[_0x139c97(0x63c)],this[_0x139c97(0x77e)],this['repository']);_0x7032b5[_0x139c97(0x4f7)]=_0x43bb03,this[_0x139c97(0x7a0)][_0x139c97(0x667)][_0x7032b5[_0x139c97(0x4f7)]]=_0x7032b5;let _0x3fc61d={};_0x1eed83?(await this['repository'][_0x139c97(0x5bf)]['create']({'apikey':_0x1eed83},_0x43bb03),_0x3fc61d[_0x139c97(0x3fa)]=_0x1eed83):_0x3fc61d=await this['authService'][_0x139c97(0x3d6)]({'instanceName':_0x7032b5[_0x139c97(0x4f7)]});let _0x1ea0ad;if(_0x41e998){if(_0x1ea0ad=await this[_0x139c97(0x48b)](_0x41e998),_0x1ea0ad[_0x139c97(0x820)])throw new I(_0x1ea0ad[_0x139c97(0x820)]['toString']());_0x41e998=_0x1ea0ad[_0x139c97(0x736)];}let _0x3c462c;return await _0x7032b5[_0x139c97(0x75b)](_0x41e998),await(0x0,$s[_0x139c97(0x364)])(0x7d0),_0x3c462c=_0x7032b5[_0x139c97(0x4ac)],{'instance':{'instanceName':_0x7032b5['instanceName'],'status':'created'},'hash':_0x3fc61d,'qrcode':_0x3c462c};}catch(_0x2baf59){throw this[_0x139c97(0x803)][_0x139c97(0x820)](_0x2baf59),_0x2baf59;}}async[a0_0x422c01(0x6ef)]({instanceName:_0x1cb108,number:_0x452fe0=null}){const _0x44f2c5=a0_0x422c01;try{let _0x4bd5c4=this[_0x44f2c5(0x7a0)][_0x44f2c5(0x667)][_0x1cb108];switch(_0x4bd5c4?.[_0x44f2c5(0x200)]?.[_0x44f2c5(0x277)]){case _0x44f2c5(0x2b1):return await _0x4bd5c4[_0x44f2c5(0x75b)](_0x452fe0),await(0x0,$s['delay'])(0x7d0),_0x4bd5c4[_0x44f2c5(0x4ac)];case _0x44f2c5(0x370):return _0x4bd5c4['qrCode'];default:return await this['connectionState']({'instanceName':_0x1cb108});}}catch(_0x41da46){this[_0x44f2c5(0x803)][_0x44f2c5(0x7f7)](_0x41da46);}}async[a0_0x422c01(0x60b)]({instanceName:_0x563f3d}){const _0x2da532=a0_0x422c01;let _0x5cf94c=this['waMonitor']['waInstances'][_0x563f3d][_0x2da532(0x200)],_0x249a98=null;_0x5cf94c[_0x2da532(0x277)]==='open'&&_0x563f3d&&(_0x249a98=await this[_0x2da532(0x7a0)][_0x2da532(0x472)](_0x563f3d));let _0x11264b=null;return _0x5cf94c[_0x2da532(0x277)]==='connecting'&&_0x563f3d&&(_0x11264b=this[_0x2da532(0x7a0)]['waInstances'][_0x563f3d]['qrCode']),{'instance':_0x563f3d,'connectionStatus':_0x5cf94c,'instanceInfo':_0x249a98,'qrcode':_0x11264b};}async[a0_0x422c01(0x48b)](_0x1d73dd){const _0xcc3d6f=a0_0x422c01;_0x1d73dd=_0x1d73dd['replace'](/\D/g,'');let _0x161d20=Object[_0xcc3d6f(0x21a)](this[_0xcc3d6f(0x7a0)][_0xcc3d6f(0x667)])['filter'](_0x3f6c4d=>{const _0x3e4db6=_0xcc3d6f;let _0x8ab72f=this[_0x3e4db6(0x7a0)][_0x3e4db6(0x667)][_0x3f6c4d];return _0x8ab72f&&_0x8ab72f[_0x3e4db6(0x200)]&&_0x8ab72f[_0x3e4db6(0x200)][_0x3e4db6(0x277)]===_0x3e4db6(0x26c);});if(_0x161d20[_0xcc3d6f(0x623)]===0x0)return{'number':this[_0xcc3d6f(0x6e2)](_0x1d73dd)};let _0xc75794=Math[_0xcc3d6f(0x180)](Math['random']()*_0x161d20['length']),_0x19c98f=_0x161d20[_0xc75794];try{let _0x4b1b08=(await this[_0xcc3d6f(0x7a0)][_0xcc3d6f(0x667)][_0x19c98f][_0xcc3d6f(0x795)]({'numbers':[_0x1d73dd]}))['shift']();return _0x4b1b08[_0xcc3d6f(0x791)]?{'number':_0x4b1b08[_0xcc3d6f(0x75e)][_0xcc3d6f(0x246)](_0xcc3d6f(0x722),'')}:{'number':_0x1d73dd,'error':_0xcc3d6f(0x54b)};}catch(_0x4fe56d){return this[_0xcc3d6f(0x803)][_0xcc3d6f(0x820)](_0xcc3d6f(0x78b)+_0x4fe56d),{'number':_0x1d73dd,'error':'Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.'};}}[a0_0x422c01(0x6e2)](_0x4efbc9){const _0x475207=a0_0x422c01;let _0x5cd000=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x475207(0x760)](_0x4efbc9);if(_0x5cd000&&_0x5cd000[0x1]==='55'){let _0x24d45d=_0x5cd000[0x2],_0x41bc56=_0x5cd000[0x3],_0x5687a1=_0x5cd000[0x4];if(parseInt(_0x24d45d)>=0x1f&&_0x41bc56==='9')return _0x5cd000[0x1]+_0x24d45d+_0x5687a1;}return _0x4efbc9;}async[a0_0x422c01(0x7a5)]({instanceName:_0x371f9d}){const _0x963521=a0_0x422c01;try{return this[_0x963521(0x7a0)]['waInstances'][_0x371f9d]?.['client']?.['ws']?.[_0x963521(0x2b1)](),{'status':_0x963521(0x6a4),'error':!0x1,'response':{'message':_0x963521(0x5fb)}};}catch(_0x194202){this[_0x963521(0x803)][_0x963521(0x820)](_0x194202);}}async[a0_0x422c01(0x2aa)]({instanceName:_0x46d9a2}){const _0x4e6e4e=a0_0x422c01;return _0x46d9a2?this[_0x4e6e4e(0x7a0)]['instanceInfo'](_0x46d9a2):this[_0x4e6e4e(0x7a0)][_0x4e6e4e(0x472)]();}async[a0_0x422c01(0x1c8)]({instanceName:_0x30bd76}){const _0xf7b57c=a0_0x422c01;try{return await this[_0xf7b57c(0x7a0)][_0xf7b57c(0x667)][_0x30bd76]?.['client']?.['logout']('Log\x20out\x20instance:\x20'+_0x30bd76),{'error':!0x1,'message':_0xf7b57c(0x843)};}catch(_0x2fbba7){throw new I(_0x2fbba7[_0xf7b57c(0x76f)]());}}async[a0_0x422c01(0x4b3)]({instanceName:_0x4fdf8e}){const _0x55a4f3=a0_0x422c01;if((await this[_0x55a4f3(0x60b)]({'instanceName':_0x4fdf8e}))[_0x55a4f3(0x200)]['state']===_0x55a4f3(0x26c))throw new w([_0x55a4f3(0x5df),_0x55a4f3(0x261)]);try{return delete this[_0x55a4f3(0x7a0)][_0x55a4f3(0x667)][_0x4fdf8e],{'error':!0x1,'message':'Instance\x20deleted'};}catch(_0x3b292a){throw new w(_0x3b292a['toString']());}}},ee=require(a0_0x422c01(0x4cc)),zt=class{constructor(_0x22c70c){const _0x483cfd=a0_0x422c01;this[_0x483cfd(0x7a0)]=_0x22c70c;}async[a0_0x422c01(0x3df)]({instanceName:_0x506420},_0x39b601){const _0x3b06a6=a0_0x422c01;return await this[_0x3b06a6(0x7a0)][_0x3b06a6(0x667)][_0x506420][_0x3b06a6(0x845)](_0x39b601);}async[a0_0x422c01(0x1d1)]({instanceName:_0x59de5b},_0x15eba7){const _0x261742=a0_0x422c01;return await this[_0x261742(0x7a0)][_0x261742(0x667)][_0x59de5b][_0x261742(0x4be)](_0x15eba7);}async[a0_0x422c01(0x34b)]({instanceName:_0x1c68a5},_0x59d293){const _0x195ad2=a0_0x422c01;if((0x0,ee['isBase64'])(_0x59d293?.['mediaMessage']?.[_0x195ad2(0x4ff)])&&!_0x59d293?.[_0x195ad2(0x55b)]?.[_0x195ad2(0x635)])throw new w(_0x195ad2(0x342));if((0x0,ee['isURL'])(_0x59d293?.[_0x195ad2(0x55b)]?.['media'])||(0x0,ee[_0x195ad2(0x840)])(_0x59d293?.['mediaMessage']?.[_0x195ad2(0x4ff)]))return await this['waMonitor'][_0x195ad2(0x667)][_0x1c68a5][_0x195ad2(0x55b)](_0x59d293);throw new w(_0x195ad2(0x602));}async[a0_0x422c01(0x404)]({instanceName:_0x3fa0a2},_0x4273e0){const _0x1a7c95=a0_0x422c01;if((0x0,ee['isURL'])(_0x4273e0[_0x1a7c95(0x68c)]['image'])||(0x0,ee[_0x1a7c95(0x840)])(_0x4273e0[_0x1a7c95(0x68c)][_0x1a7c95(0x1f5)]))return await this[_0x1a7c95(0x7a0)]['waInstances'][_0x3fa0a2][_0x1a7c95(0x6ea)](_0x4273e0);throw new w(_0x1a7c95(0x602));}async[a0_0x422c01(0x7ed)]({instanceName:_0x2ac9f2},_0x5c9837){const _0x153a8f=a0_0x422c01;if((0x0,ee['isURL'])(_0x5c9837[_0x153a8f(0x409)]['audio'])||(0x0,ee['isBase64'])(_0x5c9837['audioMessage']['audio']))return await this['waMonitor'][_0x153a8f(0x667)][_0x2ac9f2][_0x153a8f(0x34e)](_0x5c9837);throw new w('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async['sendButtons']({instanceName:_0x5222f9},_0x15859d){const _0x3ab7a1=a0_0x422c01;if((0x0,ee[_0x3ab7a1(0x840)])(_0x15859d[_0x3ab7a1(0x22a)][_0x3ab7a1(0x55b)]?.[_0x3ab7a1(0x4ff)])&&!_0x15859d[_0x3ab7a1(0x22a)][_0x3ab7a1(0x55b)]?.[_0x3ab7a1(0x635)])throw new w('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this['waMonitor'][_0x3ab7a1(0x667)][_0x5222f9][_0x3ab7a1(0x22a)](_0x15859d);}async[a0_0x422c01(0x724)]({instanceName:_0xf87df3},_0x31666b){const _0x308199=a0_0x422c01;return await this[_0x308199(0x7a0)][_0x308199(0x667)][_0xf87df3][_0x308199(0x2ea)](_0x31666b);}async['sendPoll']({instanceName:_0x3fc57c},_0x4b9c94){const _0x9d3746=a0_0x422c01;return await this['waMonitor'][_0x9d3746(0x667)][_0x3fc57c][_0x9d3746(0x1a9)](_0x4b9c94);}async[a0_0x422c01(0x6e6)]({instanceName:_0x1ba5ba},_0x5b9d2b){const _0x52f4d9=a0_0x422c01;return await this[_0x52f4d9(0x7a0)][_0x52f4d9(0x667)][_0x1ba5ba][_0x52f4d9(0x55a)](_0x5b9d2b);}async[a0_0x422c01(0x6f1)]({instanceName:_0x1fe898},_0x461a60){const _0x4294d4=a0_0x422c01;return await this[_0x4294d4(0x7a0)][_0x4294d4(0x667)][_0x1fe898][_0x4294d4(0x46f)](_0x461a60);}async[a0_0x422c01(0x31b)]({instanceName:_0x5c95f9},_0x584696){const _0x464e09=a0_0x422c01;if(!_0x584696['reactionMessage'][_0x464e09(0x3e1)][_0x464e09(0x22e)](/[^\(\)\w\sà-ú"-\+]+/))throw new w(_0x464e09(0x52e));return await this[_0x464e09(0x7a0)]['waInstances'][_0x5c95f9]['reactionMessage'](_0x584696);}async[a0_0x422c01(0x801)]({instanceName:_0x194951},_0x5d8330){const _0x5cbc62=a0_0x422c01;return await this[_0x5cbc62(0x7a0)]['waInstances'][_0x194951]['statusMessage'](_0x5d8330);}},Dr=require(a0_0x422c01(0x410)),ks=require(a0_0x422c01(0x1c0)),Ht=class c{constructor(_0xf4ab27,_0x242a53,_0x13575f){const _0x2fc682=a0_0x422c01;this[_0x2fc682(0x63c)]=_0xf4ab27,this['waMonitor']=_0x242a53,this['repository']=_0x13575f,this['logger']=new v(c['name']);}async[a0_0x422c01(0x74d)](_0x556e13){const _0x3bf62f=a0_0x422c01;let _0x8f8abe=this[_0x3bf62f(0x63c)]['get']('AUTHENTICATION')[_0x3bf62f(0x71c)],_0x12ca35=(0x0,Dr[_0x3bf62f(0x67e)])({'instanceName':_0x556e13[_0x3bf62f(0x4f7)],'apiName':Ze,'tokenId':(0x0,ks['v4'])()},_0x8f8abe['SECRET'],{'expiresIn':_0x8f8abe[_0x3bf62f(0x46b)],'encoding':'utf8','subject':_0x3bf62f(0x743)}),_0x1d1f0f=await this[_0x3bf62f(0x585)][_0x3bf62f(0x5bf)]['create']({'jwt':_0x12ca35},_0x556e13[_0x3bf62f(0x4f7)]);if(_0x1d1f0f['error'])throw this[_0x3bf62f(0x803)]['error']({'localError':c[_0x3bf62f(0x6a7)]+_0x3bf62f(0x5d9),'error':_0x1d1f0f[_0x3bf62f(0x820)]}),new w(_0x3bf62f(0x3cb),_0x1d1f0f[_0x3bf62f(0x820)]?.['toString']());return{'jwt':_0x12ca35};}async[a0_0x422c01(0x3fa)](_0x43ddd0){const _0xaea0bf=a0_0x422c01;let _0x5676c7=(0x0,ks['v4'])()['toUpperCase'](),_0x5261dd=await this[_0xaea0bf(0x585)][_0xaea0bf(0x5bf)][_0xaea0bf(0x2c7)]({'apikey':_0x5676c7},_0x43ddd0[_0xaea0bf(0x4f7)]);if(_0x5261dd['error'])throw this[_0xaea0bf(0x803)][_0xaea0bf(0x820)]({'localError':c['name']+'.jwt','error':_0x5261dd[_0xaea0bf(0x820)]}),new w(_0xaea0bf(0x3cb),_0x5261dd['error']?.[_0xaea0bf(0x76f)]());return{'apikey':_0x5676c7};}async['generateHash'](_0x1227e8){const _0x4d0c1e=a0_0x422c01;let _0x1a0812=this[_0x4d0c1e(0x63c)][_0x4d0c1e(0x5a1)]('AUTHENTICATION');return await this[_0x1a0812[_0x4d0c1e(0x762)]](_0x1227e8);}},Kt=class{constructor(_0xd3ec9e){const _0x3c366d=a0_0x422c01;this[_0x3c366d(0x7a0)]=_0xd3ec9e;}async[a0_0x422c01(0x594)](_0x5e048d,_0x464b24){const _0x3a9be1=a0_0x422c01;return await this[_0x3a9be1(0x7a0)][_0x3a9be1(0x667)][_0x5e048d['instanceName']]['createGroup'](_0x464b24);}async['updateGroupPicture'](_0xb2a70b,_0x33adbd){const _0x41720f=a0_0x422c01;return await this['waMonitor'][_0x41720f(0x667)][_0xb2a70b['instanceName']][_0x41720f(0x4ef)](_0x33adbd);}async[a0_0x422c01(0x6f5)](_0x579360,_0x428ac0){const _0x3af6bf=a0_0x422c01;return await this[_0x3af6bf(0x7a0)][_0x3af6bf(0x667)][_0x579360[_0x3af6bf(0x4f7)]][_0x3af6bf(0x6f5)](_0x428ac0);}async[a0_0x422c01(0x1b5)](_0x1108a8,_0x1aee22){const _0x4753c5=a0_0x422c01;return await this[_0x4753c5(0x7a0)][_0x4753c5(0x667)][_0x1108a8[_0x4753c5(0x4f7)]][_0x4753c5(0x1b5)](_0x1aee22);}async[a0_0x422c01(0x1cb)](_0x22e472,_0x347dbe){const _0x2ec085=a0_0x422c01;return await this[_0x2ec085(0x7a0)][_0x2ec085(0x667)][_0x22e472[_0x2ec085(0x4f7)]][_0x2ec085(0x1cb)](_0x347dbe);}async[a0_0x422c01(0x5e2)](_0x152f3a,_0x171dcf){const _0x4711cc=a0_0x422c01;return await this[_0x4711cc(0x7a0)]['waInstances'][_0x152f3a[_0x4711cc(0x4f7)]][_0x4711cc(0x5e2)](_0x171dcf);}async['findGroupInfo'](_0x19f212,_0x38a645){const _0x5e3ec5=a0_0x422c01;return await this[_0x5e3ec5(0x7a0)]['waInstances'][_0x19f212[_0x5e3ec5(0x4f7)]][_0x5e3ec5(0x7e9)](_0x38a645);}async[a0_0x422c01(0x73d)](_0x47ea41){const _0x38e570=a0_0x422c01;return await this[_0x38e570(0x7a0)][_0x38e570(0x667)][_0x47ea41[_0x38e570(0x4f7)]][_0x38e570(0x73d)]();}async[a0_0x422c01(0x337)](_0x37d0a0,_0x5484aa){const _0xe6737f=a0_0x422c01;return await this[_0xe6737f(0x7a0)]['waInstances'][_0x37d0a0['instanceName']][_0xe6737f(0x337)](_0x5484aa);}async[a0_0x422c01(0x7b3)](_0x5858ed,_0x1769ef){const _0x56b7b6=a0_0x422c01;return await this[_0x56b7b6(0x7a0)][_0x56b7b6(0x667)][_0x5858ed[_0x56b7b6(0x4f7)]][_0x56b7b6(0x7b3)](_0x1769ef);}async[a0_0x422c01(0x204)](_0x42126e,_0x361223){const _0x30d438=a0_0x422c01;return await this[_0x30d438(0x7a0)][_0x30d438(0x667)][_0x42126e[_0x30d438(0x4f7)]][_0x30d438(0x204)](_0x361223);}async['revokeInviteCode'](_0xa69149,_0x4d19d7){const _0x248158=a0_0x422c01;return await this['waMonitor'][_0x248158(0x667)][_0xa69149[_0x248158(0x4f7)]][_0x248158(0x534)](_0x4d19d7);}async[a0_0x422c01(0x6b4)](_0xbd3adc,_0x195d97){const _0x2a18b1=a0_0x422c01;return await this[_0x2a18b1(0x7a0)][_0x2a18b1(0x667)][_0xbd3adc[_0x2a18b1(0x4f7)]][_0x2a18b1(0x6b4)](_0x195d97);}async[a0_0x422c01(0x343)](_0x35e07c,_0x1a0415){const _0x54b92e=a0_0x422c01;return await this['waMonitor']['waInstances'][_0x35e07c[_0x54b92e(0x4f7)]][_0x54b92e(0x5cd)](_0x1a0415);}async['toggleEphemeral'](_0xcd937b,_0x429669){const _0x363943=a0_0x422c01;return await this['waMonitor'][_0x363943(0x667)][_0xcd937b[_0x363943(0x4f7)]][_0x363943(0x539)](_0x429669);}async[a0_0x422c01(0x7de)](_0x544e4b,_0x46cf30){const _0x3ad814=a0_0x422c01;return await this[_0x3ad814(0x7a0)]['waInstances'][_0x544e4b[_0x3ad814(0x4f7)]][_0x3ad814(0x7de)](_0x46cf30);}},Qt=class{constructor(_0xc8d9e5){this['waMonitor']=_0xc8d9e5;}['create'](_0x1488f5,_0x521c85){const _0x579a4a=a0_0x422c01;return this[_0x579a4a(0x7a0)][_0x579a4a(0x667)][_0x1488f5['instanceName']][_0x579a4a(0x27d)](_0x521c85);}async[a0_0x422c01(0x752)](_0x7e2e2a){const _0x49a8b5=a0_0x422c01;try{return await this[_0x49a8b5(0x7a0)][_0x49a8b5(0x667)][_0x7e2e2a[_0x49a8b5(0x4f7)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},fp=new v(a0_0x422c01(0x731)),Yt=class{constructor(_0x1225a2){const _0x4ad9fe=a0_0x422c01;this[_0x4ad9fe(0x7a0)]=_0x1225a2;}async[a0_0x422c01(0x561)](_0x5ead31,_0x37d024){const _0x1ece7b=a0_0x422c01;return await this['waMonitor'][_0x1ece7b(0x667)][_0x5ead31[_0x1ece7b(0x4f7)]]['editScheduleMessage'](_0x37d024);}async[a0_0x422c01(0x350)](_0x4829f7){const _0xe96de6=a0_0x422c01;return await this['waMonitor'][_0xe96de6(0x667)][_0x4829f7[_0xe96de6(0x4f7)]][_0xe96de6(0x350)]();}async['deleteDoneMessages'](_0x5351d2){const _0x240c0d=a0_0x422c01;return await this[_0x240c0d(0x7a0)][_0x240c0d(0x667)][_0x5351d2['instanceName']]['deleteDoneMessages']();}async['getAutomateSystem'](_0x33b72c){const _0x1f2929=a0_0x422c01;return await this['waMonitor'][_0x1f2929(0x667)][_0x33b72c[_0x1f2929(0x4f7)]][_0x1f2929(0x1ac)]();}async[a0_0x422c01(0x663)](_0xab4811,_0x32e4f2){const _0x326359=a0_0x422c01;return await this[_0x326359(0x7a0)][_0x326359(0x667)][_0xab4811[_0x326359(0x4f7)]][_0x326359(0x663)](_0x32e4f2);}async[a0_0x422c01(0x46c)](_0x6de38,_0x541a88){const _0x56004=a0_0x422c01;return await this[_0x56004(0x7a0)][_0x56004(0x667)][_0x6de38['instanceName']][_0x56004(0x46c)](_0x541a88);}async[a0_0x422c01(0x816)](_0x32a1a2,_0x5415cc){const _0x468ae7=a0_0x422c01;return await this[_0x468ae7(0x7a0)]['waInstances'][_0x32a1a2['instanceName']]['updateFlowConfig'](_0x5415cc);}async[a0_0x422c01(0x452)](_0x13f936,_0x1e0eeb){const _0x118264=a0_0x422c01;return await this[_0x118264(0x7a0)][_0x118264(0x667)][_0x13f936[_0x118264(0x4f7)]][_0x118264(0x452)](_0x1e0eeb);}async[a0_0x422c01(0x4d3)](_0x365a2e,_0x4bcb05){const _0x203d6f=a0_0x422c01;return await this[_0x203d6f(0x7a0)][_0x203d6f(0x667)][_0x365a2e['instanceName']][_0x203d6f(0x4d3)](_0x4bcb05);}async['fetchConversation'](_0x9e3ff4,_0x26e1ea){const _0x3012c0=a0_0x422c01;return await this[_0x3012c0(0x7a0)][_0x3012c0(0x667)][_0x9e3ff4[_0x3012c0(0x4f7)]]['fetchConversation'](_0x26e1ea);}async[a0_0x422c01(0x6ec)](_0x2d0944,_0x5a46e0){const _0x653753=a0_0x422c01;return await this[_0x653753(0x7a0)][_0x653753(0x667)][_0x2d0944[_0x653753(0x4f7)]][_0x653753(0x6ec)](_0x5a46e0);}async[a0_0x422c01(0x1b3)](_0x21a699,_0x3121cb){const _0x681f9c=a0_0x422c01;return await this[_0x681f9c(0x7a0)][_0x681f9c(0x667)][_0x21a699[_0x681f9c(0x4f7)]][_0x681f9c(0x1b3)](_0x3121cb);}async[a0_0x422c01(0x838)](_0x3b6507,_0x3698e6){const _0x252e34=a0_0x422c01;return await this[_0x252e34(0x7a0)][_0x252e34(0x667)][_0x3b6507[_0x252e34(0x4f7)]][_0x252e34(0x838)](_0x3698e6['name']);}async['createFlow'](_0x1d86ca,_0x1ce263){const _0x2d9a1f=a0_0x422c01;return await this[_0x2d9a1f(0x7a0)][_0x2d9a1f(0x667)][_0x1d86ca[_0x2d9a1f(0x4f7)]][_0x2d9a1f(0x3f4)](_0x1ce263);}async[a0_0x422c01(0x55e)](_0x185bc2,_0x50ce46){const _0x33f769=a0_0x422c01;return await this[_0x33f769(0x7a0)]['waInstances'][_0x185bc2['instanceName']]['editFlow'](_0x50ce46);}async[a0_0x422c01(0x514)](_0x2ce9c3,_0x2081ff){const _0x19969c=a0_0x422c01;return await this[_0x19969c(0x7a0)][_0x19969c(0x667)][_0x2ce9c3['instanceName']][_0x19969c(0x514)](_0x2081ff);}async[a0_0x422c01(0x54a)](_0x370da6,_0x4c3274){const _0x5a4566=a0_0x422c01;return await this[_0x5a4566(0x7a0)]['waInstances'][_0x370da6[_0x5a4566(0x4f7)]][_0x5a4566(0x54a)](_0x4c3274);}async['editFlowGroup'](_0x38077b,_0xf0d2af){const _0x3e1291=a0_0x422c01;return await this[_0x3e1291(0x7a0)][_0x3e1291(0x667)][_0x38077b['instanceName']][_0x3e1291(0x325)](_0xf0d2af);}async['editFlowCondition'](_0x47b323,_0x3d2a02){const _0x4b04bb=a0_0x422c01;return await this[_0x4b04bb(0x7a0)][_0x4b04bb(0x667)][_0x47b323[_0x4b04bb(0x4f7)]][_0x4b04bb(0x80a)](_0x3d2a02);}async[a0_0x422c01(0x189)](_0x309578,_0x5616ff){const _0x2b2c3b=a0_0x422c01;return await this['waMonitor'][_0x2b2c3b(0x667)][_0x309578[_0x2b2c3b(0x4f7)]][_0x2b2c3b(0x189)](_0x5616ff);}async[a0_0x422c01(0x5bd)](_0x55376e,_0x211e52){const _0x30d8b2=a0_0x422c01;return await this[_0x30d8b2(0x7a0)][_0x30d8b2(0x667)][_0x55376e[_0x30d8b2(0x4f7)]]['editFlowVariable'](_0x211e52);}async[a0_0x422c01(0x2d5)](_0x246a84,_0x5000ff){const _0x1dcebf=a0_0x422c01;return await this[_0x1dcebf(0x7a0)][_0x1dcebf(0x667)][_0x246a84[_0x1dcebf(0x4f7)]][_0x1dcebf(0x2d5)](_0x5000ff[_0x1dcebf(0x6a7)]);}async[a0_0x422c01(0x209)](_0x302f39){const _0x28fb7c=a0_0x422c01;return await this['waMonitor'][_0x28fb7c(0x667)][_0x302f39[_0x28fb7c(0x4f7)]][_0x28fb7c(0x209)]();}},Xt=class{constructor(_0x12b93f){this['webhookService']=_0x12b93f;}async['createWebhook'](_0x5f3e97,_0x2cebb4){const _0x4c734a=a0_0x422c01;return this[_0x4c734a(0x2df)][_0x4c734a(0x2c7)](_0x5f3e97,_0x2cebb4);}async[a0_0x422c01(0x592)](_0x112d4b){const _0x1d5d33=a0_0x422c01;return this[_0x1d5d33(0x2df)][_0x1d5d33(0x752)](_0x112d4b);}},Zt=class extends D{constructor(_0x26b6cd,_0x27a584){const _0x2d58c1=a0_0x422c01;super(_0x27a584),this[_0x2d58c1(0x34f)]=_0x26b6cd,this[_0x2d58c1(0x63c)]=_0x27a584;}async['create'](_0x5e31b7,_0x414156){const _0x57b5ea=a0_0x422c01;try{return this[_0x57b5ea(0x348)][_0x57b5ea(0x698)]?{'insertCount':(await this['webhookModel'][_0x57b5ea(0x4c4)]({'_id':_0x414156},{..._0x5e31b7},{'upsert':!0x0}))[_0x57b5ea(0x332)]}:{'insertCount':0x1};}catch(_0x15b986){return _0x15b986;}}async['delete'](_0x45362c){const _0x398ae9=a0_0x422c01;try{if(this[_0x398ae9(0x348)][_0x398ae9(0x698)]){await this[_0x398ae9(0x34f)][_0x398ae9(0x758)]({'_id':_0x45362c});return;}}catch(_0xb4cea0){return{'error':_0xb4cea0};}}async[a0_0x422c01(0x752)](_0x1954d8){const _0x21d649=a0_0x422c01;try{if(this[_0x21d649(0x348)][_0x21d649(0x698)])return await this[_0x21d649(0x34f)][_0x21d649(0x64b)]({'_id':_0x1954d8});}catch{return{};}}},es=class extends D{constructor(_0x30b57a,_0x334b83){const _0x5edf34=a0_0x422c01;super(_0x334b83),this[_0x5edf34(0x58e)]=_0x30b57a,this['configService']=_0x334b83,this['auth']=_0x334b83[_0x5edf34(0x5a1)](_0x5edf34(0x31f));}async[a0_0x422c01(0x2c7)](_0x235097,_0x28cf84){const _0x3f5a2e=a0_0x422c01;try{if(this[_0x3f5a2e(0x348)][_0x3f5a2e(0x698)])return{'insertCount':(await this[_0x3f5a2e(0x58e)][_0x3f5a2e(0x3e5)]({'_id':_0x28cf84},{'$set':{..._0x235097}},{'upsert':!0x0}))[_0x3f5a2e(0x332)]};}catch(_0x3aaaf0){return{'error':_0x3aaaf0};}}async[a0_0x422c01(0x328)](_0x2fa7b9,_0x6c6f91){const _0x55b77e=a0_0x422c01;try{if(this['dbSettings'][_0x55b77e(0x698)])return{'insertCount':(await this['authModel'][_0x55b77e(0x247)](_0x2fa7b9,{'$set':_0x6c6f91},{'upsert':!0x1}))[_0x55b77e(0x332)]};throw new Error(_0x55b77e(0x240));}catch(_0x1ce8a2){return{'error':_0x1ce8a2};}}async[a0_0x422c01(0x6a1)](_0x4465e3){const _0x4a644a=a0_0x422c01;try{if(this['dbSettings'][_0x4a644a(0x698)])return{'insertCount':(await this['authModel']['deleteMany'](_0x4465e3))[_0x4a644a(0x1fd)]};throw new Error(_0x4a644a(0x240));}catch(_0x39d5c4){return{'error':_0x39d5c4};}}async[a0_0x422c01(0x653)](_0x325cf1){const _0x23bb98=a0_0x422c01;try{if(this[_0x23bb98(0x348)][_0x23bb98(0x698)]){await this[_0x23bb98(0x58e)][_0x23bb98(0x758)]({'_id':_0x325cf1});return;}}catch(_0x4fcaf9){return{'error':_0x4fcaf9};}}async[a0_0x422c01(0x752)](_0x39b14b){const _0x54a5a5=a0_0x422c01;try{if(this['dbSettings'][_0x54a5a5(0x698)])return await this[_0x54a5a5(0x58e)][_0x54a5a5(0x64b)]({'_id':_0x39b14b});}catch{return{};}}async[a0_0x422c01(0x547)](){const _0x34e70f=a0_0x422c01;try{if(this[_0x34e70f(0x348)][_0x34e70f(0x698)])return await this[_0x34e70f(0x58e)][_0x34e70f(0x752)]();}catch{return[];}}},ts=class extends D{[a0_0x422c01(0x6aa)](_0x7c59b5){return ga(_0x7c59b5);}async[a0_0x422c01(0x1a6)](_0x27ca4b){const _0x150501=a0_0x422c01;try{let _0x793e6a=ma,_0x1711a0=this[_0x150501(0x6aa)](_0x27ca4b),_0x19520d=await _0x793e6a[_0x150501(0x752)]({'owner':_0x27ca4b})['lean'](),_0x517a09=[],_0x123ed0=[];for(let _0x29d5e1 of _0x19520d)await _0x1711a0[_0x150501(0x41c)](_0x29d5e1[_0x150501(0x79d)])['lean']()||(_0x517a09[_0x150501(0x484)](_0x29d5e1),_0x123ed0[_0x150501(0x484)](_0x29d5e1['_id']));return _0x517a09[_0x150501(0x623)]>0x0&&await _0x1711a0[_0x150501(0x7c9)](_0x517a09,{'ordered':!0x1}),{'success':!0x0};}catch(_0x1fc798){return console[_0x150501(0x820)]('Erro\x20ao\x20copiar\x20dados:',_0x1fc798),{'success':!0x1,'error':_0x1fc798};}}async[a0_0x422c01(0x653)](_0x5957fa,_0x43c5ac){const _0x5ee99b=a0_0x422c01;try{let _0x910b29=this['getFlowModelForOwner'](_0x43c5ac),_0x49ed7b=A(_0x5957fa[_0x5ee99b(0x697)]);return{'deletedCount':(await _0x910b29[_0x5ee99b(0x6a1)](_0x49ed7b))[_0x5ee99b(0x1fd)]};}catch(_0x810fc1){return{'error':_0x810fc1?.[_0x5ee99b(0x76f)]()};}}async['deleteOne'](_0x110a61,_0x2b86dd){const _0x511906=a0_0x422c01;try{let _0x1f883a=this[_0x511906(0x6aa)](_0x2b86dd),_0x15c5f1=A(_0x110a61['where']);return{'deletedCount':(await _0x1f883a[_0x511906(0x758)](_0x15c5f1))[_0x511906(0x1fd)]};}catch(_0x3cc8a2){return{'error':_0x3cc8a2?.[_0x511906(0x76f)]()};}}async[a0_0x422c01(0x4c4)](_0x2d8613,_0x18bbdb,_0x13573b){const _0x3e2652=a0_0x422c01;try{let _0x74a7f=await this[_0x3e2652(0x6aa)](_0x13573b)[_0x3e2652(0x3ee)](_0x2d8613,_0x18bbdb,{'overwrite':!0x0,'new':!0x0});return _0x74a7f||(console['error'](_0x3e2652(0x804),_0x2d8613),null);}catch(_0x19a741){return console['error']('Erro\x20ao\x20atualizar\x20o\x20fluxo:',_0x19a741),null;}}async[a0_0x422c01(0x3e5)](_0x1f4055,_0x46b4cd,_0x508860){const _0x5cbe49=a0_0x422c01;try{let _0x7f49b=await this['getFlowModelForOwner'](_0x508860)[_0x5cbe49(0x41c)](_0x1f4055);return _0x7f49b?(Object['assign'](_0x7f49b,_0x46b4cd),await _0x7f49b[_0x5cbe49(0x34c)]()):(console[_0x5cbe49(0x820)](_0x5cbe49(0x181),_0x1f4055),null);}catch(_0x144616){return console[_0x5cbe49(0x820)](_0x5cbe49(0x269),_0x144616),null;}}async[a0_0x422c01(0x686)](_0x359f39){const _0x31daa7=a0_0x422c01;try{let _0x263c5a=this['getFlowModelForOwner'](_0x359f39),_0x28be81={'shareOwners':{'$exists':!0x1}},_0x470c5e={'$set':{'shareOwners':[]}};return(await _0x263c5a['updateMany'](_0x28be81,_0x470c5e))[_0x31daa7(0x332)];}catch(_0x54fdb0){return console[_0x31daa7(0x820)](_0x54fdb0),0x0;}}async[a0_0x422c01(0x61a)](_0x11fe6f,_0x5c87ab){const _0x16060b=a0_0x422c01;try{let _0x5ad963=this['getFlowModelForOwner'](_0x5c87ab);return await new _0x5ad963(_0x11fe6f)['save']();}catch(_0x163861){return console[_0x16060b(0x820)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x163861),null;}}async[a0_0x422c01(0x247)](_0x5dae7a,_0x3a0f94,_0x475eb6){const _0x480c6a=a0_0x422c01;try{return{'modifiedCount':(await this[_0x480c6a(0x6aa)](_0x475eb6)[_0x480c6a(0x247)](_0x5dae7a,{'$set':_0x3a0f94}))[_0x480c6a(0x332)]};}catch(_0x520c30){return console['error']('Erro\x20ao\x20atualizar\x20múltiplos\x20fluxos:',_0x520c30),{'error':_0x520c30};}}async[a0_0x422c01(0x547)](_0x1e296d,_0x97bbcf){const _0x647d9f=a0_0x422c01;try{let _0x7fb727=this['getFlowModelForOwner'](_0x97bbcf),_0x1c6601=A(_0x1e296d['where']);return await _0x7fb727[_0x647d9f(0x752)](_0x1c6601)[_0x647d9f(0x83a)](_0x1e296d?.[_0x647d9f(0x83a)]??0x0)['lean']();}catch{return[];}}async[a0_0x422c01(0x64b)](_0x12b062,_0x23b47c){const _0x24693b=a0_0x422c01;try{let _0x3ce786=this['getFlowModelForOwner'](_0x23b47c),_0x54f92d=A(_0x12b062[_0x24693b(0x697)]);return await _0x3ce786['findOne'](_0x54f92d)['lean']();}catch{return null;}}async['deleteAll'](_0x251903){const _0x2efd21=a0_0x422c01;try{return await this['getFlowModelForOwner'](_0x251903)[_0x2efd21(0x691)][_0x2efd21(0x4a4)](),{'success':!0x0};}catch(_0x196279){return console[_0x2efd21(0x820)](_0x196279),{'success':!0x1,'error':_0x196279};}}},ss=class extends D{[a0_0x422c01(0x65e)](_0x265b25){return wa(_0x265b25);}async[a0_0x422c01(0x1a6)](_0x250e84){const _0x38b96d=a0_0x422c01;try{let _0x2daca4=ya,_0x1a9094=this[_0x38b96d(0x65e)](_0x250e84),_0x59745e=await _0x2daca4[_0x38b96d(0x752)]({'owner':_0x250e84})[_0x38b96d(0x5e5)](),_0x2a4e7a=[],_0x262d05=[];for(let _0x4c2142 of _0x59745e)await _0x1a9094[_0x38b96d(0x41c)](_0x4c2142['_id'])[_0x38b96d(0x5e5)]()||(_0x2a4e7a[_0x38b96d(0x484)](_0x4c2142),_0x262d05[_0x38b96d(0x484)](_0x4c2142[_0x38b96d(0x79d)]));return _0x2a4e7a[_0x38b96d(0x623)]>0x0&&await _0x1a9094[_0x38b96d(0x7c9)](_0x2a4e7a,{'ordered':!0x1}),{'success':!0x0};}catch(_0x4ab522){return console[_0x38b96d(0x820)](_0x38b96d(0x76a),_0x4ab522),{'success':!0x1,'error':_0x4ab522};}}async[a0_0x422c01(0x4bd)](_0x200a7){const _0x509112=a0_0x422c01;if(_0x200a7[_0x509112(0x623)]!==0x0)try{return{'insertCount':(await this[_0x509112(0x65e)](_0x200a7[0x0][_0x509112(0x7e0)])['insertMany']([..._0x200a7]))['length']};}catch(_0x4f0a99){return _0x4f0a99;}}async[a0_0x422c01(0x653)](_0x19e035,_0x1e6126){const _0x1ff4cd=a0_0x422c01;try{let _0x490bda=this[_0x1ff4cd(0x65e)](_0x1e6126),_0x1d853a=A(_0x19e035[_0x1ff4cd(0x697)]);return{'deletedCount':(await _0x490bda[_0x1ff4cd(0x6a1)](_0x1d853a))['deletedCount']};}catch(_0x31c267){return{'error':_0x31c267?.[_0x1ff4cd(0x76f)]()};}}async['deleteOne'](_0x3c57bd,_0x173ee7){const _0x69d3d4=a0_0x422c01;try{let _0xff25e0=this[_0x69d3d4(0x65e)](_0x173ee7),_0x4ed5c7=A(_0x3c57bd[_0x69d3d4(0x697)]);return{'deletedCount':(await _0xff25e0[_0x69d3d4(0x758)](_0x4ed5c7))['deletedCount']};}catch(_0x41c35c){return{'error':_0x41c35c?.['toString']()};}}async[a0_0x422c01(0x4fe)](_0x3e41b2,_0x10627e){const _0x4e4c6e=a0_0x422c01;try{if(_0x3e41b2['length']===0x0)return;let _0x36e3fc=this[_0x4e4c6e(0x65e)](_0x10627e),_0x32b29b=_0x3e41b2['map'](_0xdd6b8b=>({'updateOne':{'filter':{'name':_0xdd6b8b['name'],'owner':_0x10627e},'update':{..._0xdd6b8b}}})),{modifiedCount:_0xba1156}=await _0x36e3fc[_0x4e4c6e(0x7e6)](_0x32b29b);return{'insertCount':_0xba1156};}catch{return;}}async[a0_0x422c01(0x247)](_0x1035b8,_0x4fa81b,_0x57d55f){const _0x22137d=a0_0x422c01;try{return{'modifiedCount':(await this[_0x22137d(0x65e)](_0x57d55f)[_0x22137d(0x247)](_0x1035b8,{'$set':_0x4fa81b}))[_0x22137d(0x332)]};}catch(_0x368119){return console['error']('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x368119),{'error':_0x368119};}}async['updateOne'](_0xaab1a8,_0x42c097,_0x5261e6){const _0x17f5df=a0_0x422c01;try{return await this[_0x17f5df(0x65e)](_0x5261e6)[_0x17f5df(0x4db)]({'_id':_0xaab1a8},{'$set':_0x42c097},{'new':!0x0,'upsert':!0x0})[_0x17f5df(0x5e5)]();}catch(_0x285dbb){return console[_0x17f5df(0x820)](_0x285dbb),null;}}async['find'](_0x3d9073,_0x5badaf){const _0xead954=a0_0x422c01;try{return await this[_0xead954(0x65e)](_0x5badaf)[_0xead954(0x752)](_0x3d9073)[_0xead954(0x799)]({'lastInteraction':-0x1})[_0xead954(0x5e5)]();}catch{return[];}}async[a0_0x422c01(0x64b)](_0x1a1e83,_0x283c15){const _0x3007f0=a0_0x422c01;try{return await this[_0x3007f0(0x65e)](_0x283c15)[_0x3007f0(0x64b)]({..._0x1a1e83[_0x3007f0(0x697)]})[_0x3007f0(0x5e5)]();}catch{return null;}}async[a0_0x422c01(0x3da)](_0x5e4007){const _0x355ef0=a0_0x422c01;try{return await this['getConversationModelForOwner'](_0x5e4007)['collection'][_0x355ef0(0x4a4)](),{'success':!0x0};}catch(_0x4880d9){return console[_0x355ef0(0x820)](_0x4880d9),{'success':!0x1,'error':_0x4880d9};}}},as=class extends D{[a0_0x422c01(0x2f3)](_0x4edcc3){return Sa(_0x4edcc3);}async[a0_0x422c01(0x1a6)](_0x48930c){const _0xb7cac=a0_0x422c01;try{let _0x3d447a=Ca,_0x11d4a1=this[_0xb7cac(0x2f3)](_0x48930c),_0x33f0f3=await _0x3d447a[_0xb7cac(0x752)]({'owner':_0x48930c})['lean'](),_0x129ddc=[],_0xba9037=[];for(let _0x1740aa of _0x33f0f3)await _0x11d4a1[_0xb7cac(0x41c)](_0x1740aa['_id'])[_0xb7cac(0x5e5)]()||(_0x129ddc[_0xb7cac(0x484)](_0x1740aa),_0xba9037[_0xb7cac(0x484)](_0x1740aa[_0xb7cac(0x79d)]));return _0x129ddc['length']>0x0&&await _0x11d4a1[_0xb7cac(0x7c9)](_0x129ddc,{'ordered':!0x1}),{'success':!0x0};}catch(_0x2b9b4b){return console['error'](_0xb7cac(0x76a),_0x2b9b4b),{'success':!0x1,'error':_0x2b9b4b};}}async[a0_0x422c01(0x61a)](_0x258054,_0x2991db){const _0x207d51=a0_0x422c01;try{let _0x3cb582=this[_0x207d51(0x2f3)](_0x2991db);return await new _0x3cb582(_0x258054)['save']();}catch(_0x1df677){return console[_0x207d51(0x820)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x1df677),null;}}async[a0_0x422c01(0x758)](_0x4b1799,_0x3fc04a){const _0x12c8cc=a0_0x422c01;try{return await this[_0x12c8cc(0x2f3)](_0x3fc04a)['findByIdAndDelete'](_0x4b1799),{};}catch(_0x2be83a){return{'error':_0x2be83a?.['toString']()};}}async['updateOne'](_0x1cd9e0,_0x503dcc,_0x4e855c){const _0x7d1dab=a0_0x422c01;try{return await this[_0x7d1dab(0x2f3)](_0x4e855c)['findOneAndUpdate'](_0x1cd9e0,{'$set':_0x503dcc},{'new':!0x0})[_0x7d1dab(0x5e5)]();}catch(_0x51b6d3){return console[_0x7d1dab(0x820)](_0x7d1dab(0x282),_0x51b6d3),null;}}async['updateOneById'](_0x486376,_0x2a1a51,_0x2821b9){const _0x1a58de=a0_0x422c01;try{return await this['getScheduleMessageModelForOwner'](_0x2821b9)[_0x1a58de(0x3ee)](_0x486376,_0x2a1a51,{'new':!0x0})[_0x1a58de(0x5e5)]();}catch(_0x4fdd7){return console[_0x1a58de(0x820)]('Erro\x20ao\x20atualizar\x20uma\x20mensagem:',_0x4fdd7),null;}}async[a0_0x422c01(0x752)](_0x5f5048,_0x36763d){const _0x5aa8c7=a0_0x422c01;try{return await this[_0x5aa8c7(0x2f3)](_0x36763d)['find'](_0x5f5048['where'])[_0x5aa8c7(0x83a)](_0x5f5048?.[_0x5aa8c7(0x83a)]??0x0)[_0x5aa8c7(0x799)]({'when':0x1})[_0x5aa8c7(0x5e5)]();}catch{return[];}}async[a0_0x422c01(0x64b)](_0x3773cf,_0x4ae6ec){const _0x5ea23e=a0_0x422c01;try{return await this[_0x5ea23e(0x2f3)](_0x4ae6ec)[_0x5ea23e(0x64b)](_0x3773cf[_0x5ea23e(0x697)])[_0x5ea23e(0x799)]({'when':0x1})[_0x5ea23e(0x5e5)]();}catch{return null;}}async[a0_0x422c01(0x41c)](_0x39bc00,_0x4b1306){const _0x38043a=a0_0x422c01;try{return await this[_0x38043a(0x2f3)](_0x4b1306)['findById'](_0x39bc00)[_0x38043a(0x5e5)]();}catch{return null;}}async[a0_0x422c01(0x6a1)](_0x5644c0,_0x2c97a0){const _0x5e3dc9=a0_0x422c01;try{return{'deletedCount':(await this[_0x5e3dc9(0x2f3)](_0x2c97a0)['deleteMany'](_0x5644c0))[_0x5e3dc9(0x1fd)]};}catch(_0x4ae9e0){return console[_0x5e3dc9(0x820)](_0x5e3dc9(0x6ae),_0x4ae9e0),{'error':_0x4ae9e0};}}async['deleteAll'](_0x126fb7){const _0x1aee8f=a0_0x422c01;try{return await this['getScheduleMessageModelForOwner'](_0x126fb7)[_0x1aee8f(0x691)][_0x1aee8f(0x4a4)](),{'success':!0x0};}catch(_0x1df55b){return console[_0x1aee8f(0x820)](_0x1df55b),{'success':!0x1,'error':_0x1df55b};}}},rs=class extends D{async[a0_0x422c01(0x4fe)](_0x2934a3,_0x56686f){const _0x67c761=a0_0x422c01;try{if(this[_0x67c761(0x348)][_0x67c761(0x698)]){let _0x4e638a=await Ue['findOneAndUpdate']({'_id':_0x56686f},{'$set':_0x2934a3},{'new':!0x0});return console[_0x67c761(0x7f7)](_0x67c761(0x3e7),_0x4e638a),_0x4e638a;}}catch(_0x1db776){throw console[_0x67c761(0x820)](_0x67c761(0x5d7),_0x1db776),_0x1db776;}}async['findOrCreate'](_0xf8e921){const _0x1cdc4b=a0_0x422c01;try{let _0x51a1c0=await Ue[_0x1cdc4b(0x41c)](_0xf8e921);return _0x51a1c0||(_0x51a1c0=new Ue({'_id':_0xf8e921}),await _0x51a1c0[_0x1cdc4b(0x34c)]()),_0x51a1c0;}catch(_0x44fec5){return console['error']('Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:',_0x44fec5),null;}}},Ai=new v(a0_0x422c01(0x3af)),Ii=new Ve(b),xi=new qt(b),Di=new st(b),_i=new Vt(ta,b),Pi=new Zt(ca,b),$i=new es(ia,b),ki=new ts(b),Li=new Bt(b),ji=new ss(b),Fi=new as(b),Ui=new rs(b),ue=new Je(Ii,xi,Di,_i,Pi,$i,ki,ji,Li,Fi,Ui,R?.[a0_0x422c01(0x4a0)]()),B=new Jt(us,b,ue),Ji=new Ht(b,B,ue),qi=new Qt(B),Ms=new Xt(qi),x=new Yt(B),oe=new Wt(B,b,ue,us,Ji),G=new zt(B),_=new Gt(B),q=new Kt(B);Ai[a0_0x422c01(0x55c)](a0_0x422c01(0x5b0));var _h=require(a0_0x422c01(0x848)),Ls=require('fs'),_r=O(require('https')),Pr=O(require(a0_0x422c01(0x59b))),Oe=class c{static #e;static set['app'](_0x52c435){this.#e=_0x52c435;}static get[a0_0x422c01(0x4e0)](){const _0x5cc433=a0_0x422c01;let {FULLCHAIN:_0xb34587,PRIVKEY:_0x3b600f}=b[_0x5cc433(0x5a1)](_0x5cc433(0x215));return _r['createServer']({'cert':(0x0,Ls[_0x5cc433(0x258)])(_0xb34587),'key':(0x0,Ls['readFileSync'])(_0x3b600f)},c.#e);}static get['http'](){const _0x1c9a87=a0_0x422c01;return Pr[_0x1c9a87(0x71e)](c.#e);}},pe=O(require('fs')),Ur=O(require(a0_0x422c01(0x543))),Ae=O(require(a0_0x422c01(0x393))),xe=O(require(a0_0x422c01(0x7a4))),De=require(a0_0x422c01(0x478));function Vi(){const _0x17b84b=a0_0x422c01;B[_0x17b84b(0x18b)]();let _0x52cb66=xe[_0x17b84b(0x849)][_0x17b84b(0x465)](__dirname,_0x17b84b(0x4c6));Fr(_0x52cb66);}var Fr=_0x28f909=>{const _0x82f0ca=a0_0x422c01;let _0x5a299f=pe[_0x82f0ca(0x849)][_0x82f0ca(0x4bc)](_0x28f909),_0x51b1f3=0xc*0x3c*0x3c*0x3e8,_0x15d2d9=0x2*0x3c*0x3c*0x3e8,_0x517475=new Date()['getTime']();_0x5a299f[_0x82f0ca(0x485)](_0x578999=>{const _0x5d98d3=_0x82f0ca;let _0x22231e=xe[_0x5d98d3(0x849)][_0x5d98d3(0x465)](_0x28f909,_0x578999),_0x49962c=pe['default'][_0x5d98d3(0x436)](_0x22231e)[_0x5d98d3(0x5ed)]['getTime']();_0x517475-_0x49962c>_0x51b1f3&&(pe[_0x5d98d3(0x849)][_0x5d98d3(0x2ed)](_0x22231e),console[_0x5d98d3(0x7f7)](_0x5d98d3(0x6de)+_0x578999));}),setTimeout(()=>Fr(_0x28f909),_0x15d2d9);};function Bi(){const _0x57ce20=a0_0x422c01;let _0x41f0df=new v('SERVER'),_0x2ccc3f=(0x0,he[_0x57ce20(0x849)])();_0x2ccc3f[_0x57ce20(0x5b5)]((0x0,jr[_0x57ce20(0x849)])({'origin'(_0x301740,_0x50519c){const _0x9a54be=_0x57ce20;let {ORIGIN:_0x14974c}=b[_0x9a54be(0x5a1)]('CORS');return _0x301740||(_0x301740='*'),_0x14974c[_0x9a54be(0x27b)]('*')!==-0x1||_0x14974c[_0x9a54be(0x27b)](_0x301740)!==-0x1?_0x50519c(null,!0x0):_0x50519c(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x57ce20(0x5a1)](_0x57ce20(0x403))[_0x57ce20(0x455)]],'credentials':b[_0x57ce20(0x5a1)](_0x57ce20(0x403))[_0x57ce20(0x379)]}),(0x0,he[_0x57ce20(0x5e0)])({'extended':!0x0,'limit':_0x57ce20(0x21b)}),(0x0,he[_0x57ce20(0x212)])({'limit':_0x57ce20(0x21b)})),_0x2ccc3f[_0x57ce20(0x5b5)]((_0x26538c,_0x4a2cc2,_0x496ca6)=>{const _0x4f82c5=_0x57ce20;_0x26538c[_0x4f82c5(0x7a4)]['startsWith'](_0x4f82c5(0x275))?_0x496ca6():(0x0,Lr[_0x4f82c5(0x849)])()(_0x26538c,_0x4a2cc2,_0x496ca6);}),_0x2ccc3f['set'](_0x57ce20(0x847),_0x57ce20(0x499)),_0x2ccc3f[_0x57ce20(0x516)](_0x57ce20(0x45c),(0x0,Fs[_0x57ce20(0x465)])(ie,_0x57ce20(0x45c))),_0x2ccc3f[_0x57ce20(0x5b5)](he['default']['static']((0x0,Fs[_0x57ce20(0x465)])(ie,_0x57ce20(0x4ba)))),_0x2ccc3f['use']((_0x2ba937,_0x998a73,_0x3ec91e)=>{const _0x24de9a=_0x57ce20;let _0x3ddd45=_0x998a73[_0x24de9a(0x5d8)];_0x998a73['send']=function(_0x135718){const _0x452251=_0x24de9a;if(_0x2ba937['query'][_0x452251(0x3a6)]===_0x452251(0x60f)||_0x2ba937[_0x452251(0x666)][_0x452251(0x2ff)]===_0x452251(0x60f)){let _0x2ec241=JSON['parse'](_0x135718);_0x135718=JSON['stringify'](_0x106704(_0x2ec241));}return _0x3ddd45['apply'](_0x998a73,[_0x135718]);},_0x3ec91e();}),_0x2ccc3f[_0x57ce20(0x5b5)]('/',It),_0x2ccc3f[_0x57ce20(0x5b5)]((_0x7bf23b,_0x1e2123,_0x31613e,_0x1afdc9)=>{const _0x26e81f=_0x57ce20;if(_0x7bf23b)return _0x31613e[_0x26e81f(0x59d)](_0x7bf23b[_0x26e81f(0x59d)]||0x1f4)[_0x26e81f(0x212)](_0x7bf23b);},(_0x3cb1db,_0x26be61,_0x3bbabb)=>{const _0x261f69=_0x57ce20;let {method:_0x5854c5,url:_0x56d45f}=_0x3cb1db;_0x26be61[_0x261f69(0x59d)](0x194)[_0x261f69(0x212)]({'status':0x194,'message':_0x261f69(0x2f0)+_0x5854c5[_0x261f69(0x6cb)]()+'\x20'+_0x56d45f,'error':_0x261f69(0x229)}),_0x3bbabb();});let _0x106704=(_0x2e43e9,_0x292013=_0x57ce20(0x721))=>{const _0x527e03=_0x57ce20;let _0x262c44=(_0x5b2086,_0x4aa6d1=null,_0x12d07a=!0x1)=>{const _0x332636=a0_0xf27f;let _0x3e5358={};return Object[_0x332636(0x21a)](_0x5b2086)[_0x332636(0x485)](_0x5818d7=>{const _0x1cb056=_0x332636;let _0x59e01a=_0x5b2086[_0x5818d7],_0x5c667e=''+_0x292013+_0x5818d7;_0x4aa6d1&&!_0x12d07a&&(_0x5c667e=_0x4aa6d1+'.'+_0x5818d7),!_0x59e01a&&_0x59e01a!==0x0&&_0x59e01a!==!0x1||typeof _0x59e01a>'u'?_0x3e5358[_0x5c667e]=null:typeof _0x59e01a!=_0x1cb056(0x1e5)&&!Array[_0x1cb056(0x20d)](_0x59e01a)?_0x3e5358[_0x5c667e]=_0x59e01a:typeof _0x59e01a==_0x1cb056(0x1e5)&&!Array[_0x1cb056(0x20d)](_0x59e01a)?_0x3e5358=Object[_0x1cb056(0x7d1)](_0x3e5358,_0x262c44(_0x59e01a,_0x5c667e)):Array[_0x1cb056(0x20d)](_0x59e01a)&&(typeof _0x59e01a[0x0]==_0x1cb056(0x1e5)?(_0x3e5358[_0x5c667e]=[],_0x59e01a[_0x1cb056(0x485)](_0x2dbdf3=>{const _0x7b5df1=_0x1cb056;_0x3e5358[_0x5c667e][_0x7b5df1(0x484)](_0x262c44(_0x2dbdf3,_0x5c667e,!0x0));})):_0x3e5358[_0x5c667e]=_0x59e01a);}),_0x3e5358;};return Array[_0x527e03(0x20d)](_0x2e43e9)?_0x2e43e9[_0x527e03(0x1ec)](_0x4c1b0a=>_0x262c44(_0x4c1b0a)):typeof _0x2e43e9==_0x527e03(0x1e5)&&_0x2e43e9!==null?_0x262c44(_0x2e43e9):{};},_0x198ba5=b['get'](_0x57ce20(0x1cc));Oe[_0x57ce20(0x7b5)]=_0x2ccc3f;let _0x1c101e=Oe[_0x198ba5[_0x57ce20(0x762)]],_0x46517f=_0x57ce20(0x5f7);_0x1c101e['listen'](_0x198ba5[_0x57ce20(0x3ed)],()=>{const _0x267be7=_0x57ce20;_0x41f0df[_0x267be7(0x7f7)](_0x46517f),_0x41f0df[_0x267be7(0x7f7)](_0x198ba5[_0x267be7(0x762)][_0x267be7(0x6cb)]()+_0x267be7(0x787)+_0x198ba5['PORT']);}),Vi(),Ks();}var Gi=a0_0x422c01(0x3be),Wi=xe[a0_0x422c01(0x849)][a0_0x422c01(0x465)](__dirname,a0_0x422c01(0x7b0)),Ie=null;function zi(){return new Promise((_0x5b21df,_0x49368f)=>{const _0x5249cc=a0_0xf27f;pe[_0x5249cc(0x849)][_0x5249cc(0x372)](Wi,_0x5249cc(0x6fe),(_0x1fbf6f,_0x282400)=>{const _0x1c6f54=_0x5249cc;if(_0x1fbf6f){Ie=_0x1fbf6f,_0x5b21df();return;}Ur[_0x1c6f54(0x849)][_0x1c6f54(0x2e3)](_0x282400)[_0x1c6f54(0x65b)]['url']===Gi?(Ie=null,_0x5b21df()):(Ie=new Error(_0x1c6f54(0x81a)),_0x5b21df());});});}async function Hi(){const _0x12f2ea=a0_0x422c01;try{await zi(),await Us();}catch(_0x227328){console[_0x12f2ea(0x820)]('Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20'+_0x227328),process[_0x12f2ea(0x4b0)](0x1);}}Hi();async function Jr(){const _0x4d6d17=a0_0x422c01;let _0xf7606;try{_0xf7606=(await Ae[_0x4d6d17(0x849)][_0x4d6d17(0x5a1)](_0x4d6d17(0x7bd)))[_0x4d6d17(0x749)]['ip'];}catch(_0x4802b9){console['error'](_0x4802b9);try{_0xf7606=(await Ae['default'][_0x4d6d17(0x5a1)](_0x4d6d17(0x273)))[_0x4d6d17(0x749)]['ip'];}catch(_0x59d085){console['error'](_0x59d085);try{_0xf7606=(await Ae['default']['get'](_0x4d6d17(0x4a9)))['data'][_0x4d6d17(0x22e)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x477e69){return console['error'](_0x477e69),!0x1;}}}return _0xf7606;}var $r=0x0;async function Ki(){const _0x4cd5c6=a0_0x422c01;let _0x2af6ef=await new ne(b['get']('REDIS'))['instanceKeys']();return console['log'](_0x4cd5c6(0x7ab),_0x2af6ef[_0x4cd5c6(0x623)]),_0x2af6ef['length'];}function Qi(_0x19b522){const _0x27929b=a0_0x422c01;let _0x2d5a46=_0x19b522[_0x27929b(0x5a1)]('SERVER')[_0x27929b(0x214)],_0x4c3871=_0x19b522[_0x27929b(0x5a1)](_0x27929b(0x215)),_0x25d761;if(_0x2d5a46){let _0x2bcc1e=_0x2d5a46['match'](/\/\/(.*?)\./);_0x2bcc1e&&_0x2bcc1e[0x1]&&(_0x25d761=_0x2bcc1e[0x1]);}if(!_0x25d761&&_0x4c3871&&_0x4c3871[_0x27929b(0x24a)]){let _0x20ba73=_0x4c3871[_0x27929b(0x24a)][_0x27929b(0x1e1)]('/'),_0x4a7f12=_0x20ba73[_0x20ba73[_0x27929b(0x623)]-0x2];if(_0x4a7f12){let _0x27092d=_0x4a7f12['split']('.');_0x27092d[_0x27929b(0x623)]>0x2&&(_0x25d761=_0x27092d[0x0]);}}return _0x25d761;}var Ps=Qi(b);async function Yi(){const _0x55daaf=a0_0x422c01;let _0x5b8940=b[_0x55daaf(0x5a1)](_0x55daaf(0x3dd)),_0x5008c5=b[_0x55daaf(0x5a1)](_0x55daaf(0x31f))[_0x55daaf(0x523)][_0x55daaf(0x3bf)],_0x2df03c=b[_0x55daaf(0x5a1)]('SSL_CONF'),_0x1b6f5f=await Jr(),_0x2e2178=b[_0x55daaf(0x5a1)](_0x55daaf(0x1cc))[_0x55daaf(0x3ed)],_0x4eade4=b['get'](_0x55daaf(0x1cc))[_0x55daaf(0x214)];try{let _0x21c660={'ip':_0x1b6f5f||null,'redis_enable':_0x5b8940?.[_0x55daaf(0x698)]||null,'apikey':_0x5008c5||null,'ssl':_0x2df03c?.[_0x55daaf(0x208)]||null,'lastupdate':qr||null,'port':_0x2e2178||null,'gitInstallError':Ie?.[_0x55daaf(0x1dc)]||null,'url':_0x4eade4||null};if(console[_0x55daaf(0x7f7)](_0x55daaf(0x82b),_0x21c660['ip']),_0x5b8940&&_0x5b8940['ENABLED']){let _0x53adbc=await Ki();_0x21c660['instanceCount']=_0x53adbc||null;}for(let _0x4928a0 in _0x21c660)_0x21c660[_0x55daaf(0x2b3)](_0x4928a0)&&_0x4928a0!=='ip'&&(_0x21c660[_0x4928a0]=JSON[_0x55daaf(0x54f)](_0x21c660[_0x4928a0]));return(await Ae[_0x55daaf(0x849)]['post'](_0x55daaf(0x30f),_0x21c660))['data'];}catch(_0x1ae1dc){return console['error'](_0x1ae1dc),!0x1;}}var js=!0x1,qr=0x238,Xi=0x3,kr=0x1b7740;async function Us(){const _0x40c5eb=a0_0x422c01;if(!await Jr())return console[_0x40c5eb(0x820)]('Não\x20foi\x20possível\x20obter\x20o\x20endereço\x20IP,\x20interrompendo\x20a\x20aplicação.'),'NO_IP';let _0x3e672b=await Yi();if(_0x3e672b){if(_0x3e672b[_0x40c5eb(0x6b2)][_0x40c5eb(0x41f)]===!0x0){let _0xb5d2ad=b[_0x40c5eb(0x5a1)](_0x40c5eb(0x215)),_0x3a1856=b[_0x40c5eb(0x5a1)](_0x40c5eb(0x1cc))[_0x40c5eb(0x214)];_0xb5d2ad&&_0xb5d2ad?.[_0x40c5eb(0x208)]?.['includes'](_0x40c5eb(0x58d))&&_0x3e672b['response']['subdomain']&&!_0x3a1856&&(await to(_0x3e672b[_0x40c5eb(0x6b2)][_0x40c5eb(0x509)],eo),await so(_0x40c5eb(0x373),_0x3e672b['response']['subdomain']),console['log'](_0x40c5eb(0x2af)),setTimeout(()=>ro(),0x2710)),Ie===null&&_0x3e672b[_0x40c5eb(0x6b2)][_0x40c5eb(0x5b9)]-qr>0x0&&await Zi(),js||(js=!0x0,Bi());let _0x2b344c=0x24*0x3c*0x3c,_0x205cc5=_0x3e672b[_0x40c5eb(0x6b2)]['segundos']>_0x2b344c?_0x2b344c:_0x3e672b[_0x40c5eb(0x6b2)][_0x40c5eb(0x578)],_0x53589d=Number(_0x205cc5);if(isNaN(_0x53589d)){console[_0x40c5eb(0x820)](_0x40c5eb(0x535));return;}let _0x35f526=Math[_0x40c5eb(0x180)](_0x53589d/0xe10),_0x525c27=Math[_0x40c5eb(0x180)](_0x53589d%0xe10/0x3c),_0xf5d3ce=new Date(Date[_0x40c5eb(0x5e6)]()+_0x53589d*0x3e8);setTimeout(Us,_0x53589d*0x3e8);let _0x3ca6cf=_0x124694=>_0x124694['toString']()[_0x40c5eb(0x41d)](0x2,'0'),_0x4df882=_0x40c5eb(0x42d)+_0x3ca6cf(_0x35f526)+_0x40c5eb(0x525)+_0x3ca6cf(_0x525c27)+'\x20minutos.\x20Será\x20às\x20'+_0x3ca6cf(_0xf5d3ce[_0x40c5eb(0x197)]())+':'+_0x3ca6cf(_0xf5d3ce[_0x40c5eb(0x237)]())+'.';console[_0x40c5eb(0x7f7)](_0x4df882);}else return console[_0x40c5eb(0x7f7)](_0x40c5eb(0x4bb)),js&&(console['log']('A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.'),process[_0x40c5eb(0x4b0)]()),_0x40c5eb(0x58b);}else{if($r++,$r<Xi)console[_0x40c5eb(0x7f7)](_0x40c5eb(0x78e)+kr/0xea60+'\x20minutos...'),setTimeout(Us,kr);else return console['error']('Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.'),_0x40c5eb(0x695);}}async function Zi(){const _0x230ed8=a0_0x422c01;console[_0x230ed8(0x7f7)](_0x230ed8(0x788));let _0x2090aa=(0x0,De[_0x230ed8(0x447)])(_0x230ed8(0x359),{'shell':!0x0});_0x2090aa['stdout']['on'](_0x230ed8(0x749),_0x268dff=>{const _0x19ae66=_0x230ed8;console[_0x19ae66(0x7f7)](_0x19ae66(0x7dc)+_0x268dff);}),_0x2090aa[_0x230ed8(0x21d)]['on'](_0x230ed8(0x749),_0x51bb8c=>{const _0x1a23c8=_0x230ed8;console[_0x1a23c8(0x820)](_0x1a23c8(0x7cd)+_0x51bb8c);}),_0x2090aa['on'](_0x230ed8(0x4b0),_0x3dc6cd=>{const _0x3a1309=_0x230ed8;_0x3dc6cd!==0x0?console[_0x3a1309(0x820)](_0x3a1309(0x6d6)+_0x3dc6cd):console[_0x3a1309(0x7f7)](_0x3a1309(0x73b)),console[_0x3a1309(0x7f7)](_0x3a1309(0x70b)),setTimeout(()=>process['exit'](),0x2710);});}var eo=xe['default'][a0_0x422c01(0x465)](__dirname,'env.yml');async function to(_0x76b839,_0x39e275){const _0x3274c9=a0_0x422c01;let _0x5b1a77=ao();_0x76b839=_0x76b839[_0x3274c9(0x246)](_0x3274c9(0x2bc),'');try{let _0x5cac68=pe[_0x3274c9(0x849)][_0x3274c9(0x258)](_0x39e275,_0x3274c9(0x512));_0x5cac68=_0x5cac68[_0x3274c9(0x246)](/<apikey>/,_0x5b1a77),_0x5cac68=_0x5cac68[_0x3274c9(0x246)](/<subdomain>/g,_0x76b839),pe[_0x3274c9(0x849)][_0x3274c9(0x272)](_0x39e275,_0x5cac68,_0x3274c9(0x512)),console[_0x3274c9(0x7f7)](_0x3274c9(0x562));}catch(_0x34951b){console['error'](_0x3274c9(0x7b8),_0x34951b);}}function a0_0x5bd2(){const _0x46b7a8=['Hash\x20to\x20image\x20name:\x20','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','):\x20Flow\x20não\x20encontrado','conditions','request\x20received\x20in\x20editFlowvariable','groups.update','LOG_LEVEL','--standalone','/wa-connection-update','stanzaId','font','eventEmitter','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','host','eventemitter2','leadInfo.desativadoFluxoAte','editOperator','fetchStatus','CONNECTION','DisconnectReason','\x20-\x20ON:\x20','Parando\x20aplicação,\x20atualização\x20recebida','cachedContacts-whatsapp','):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:','enviado\x20para','width','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','trim','/instance','exists','\x1b[32m','stoppedUntil','\x1b[31m','whatsappNumber','DATABASE_ENABLED','CacheContacts\x20database\x20connection\x20closed.','FlattenObject\x20result:','sort','saveMediaToFile','):\x20Conversa\x20está\x20expirada\x20-\x20voto','created','_id','groupId','replaceVariables','waMonitor','app-state-sync-key','dbClient','loadproxy','path','restartInstance','backgroundColor','reconnectTimestamps','title','flowConfig','filter','instancias:\x20','bodyStringErrorParse','redis','):\x20Editando\x20grupo\x20do\x20fluxo...','validate','./.git/config','has','getContentType','joinGroup','menuIgnoreNonVotes','app','Fetching\x20business\x20profile','saveTextReply','Erro\x20ao\x20atualizar\x20o\x20arquivo\x20env.yml:','groupMetadata','userDevicesCache','participant','markMessageAsRead','https://jsonip.com','):\x20Editando\x20variável\x20do\x20fluxo...','put','):\x20Flow\x20desativado','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','updateBlock','stopMinutes','https://uazapi-plugin.bubbleapps.io/?url=','createConversationforgoToFlow','organization','scheduleNextCheck','):\x20Editando\x20edição\x20do\x20fluxo...','insertMany','):\x20Erro\x20ao\x20processar\x20o\x20grupo\x20','errors','uncaughtException','Erro\x20de\x20atualização:\x20','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20',',\x20valor\x20a\x20encontrar:\x20\x22','isJidUser','assign','/exit','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','Missing\x20global\x20api\x20key','findConversation','.fileUrl','done','\x1b[33m\x1b[1m','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','SEND_MESSAGE','memberAddMode','Atualização:\x20','messages.set','leaveGroup','updateStopChat','owner','no-cache','\x20removido\x20do\x20chat\x20','):\x20mediaMessageInfoId\x20:\x20','awaitingApproval','createClient','bulkWrite','\x1b[31m%s\x1b[0m','pollCreationMessageV2','findGroup','audio/ogg','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','joinGroupValidate','sendWhatsAppAudio','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','fetchContacts','STORE_CLEANING_TERMINAL','Error\x20occurred\x20while\x20archiving\x20chat:\x20','oldToken','value','sharePass','Error\x20fetching\x20and\x20updating\x20profile:\x20','type','log','urlOrBase64','flowActive','MAX_RECONNECT_ATTEMPTS','fromMe','EMAIL','Invalid\x20format','delayChatLabel_RETRY_DELAY_MS','groupSettingUpdate','contacts','sendStatus','imageMessage','logger','Fluxo\x20não\x20encontrado\x20ou\x20erro\x20ao\x20atualizar\x20para\x20o\x20ID:','instanceKeys','saveCreds','FlowRouter','not_announcement','Background\x20color\x20is\x20required','editFlowCondition','stdout','):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected','Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','redirect','\x20adicionado\x20ao\x20chat\x20','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','):\x20Buscando\x20conversas...','replyOptions','lastDisconnect','updateProfilePicture','normalizeMessage','updateFlowConfig','https://chat.whatsapp.com/','contact','start','uazapi\x20não\x20está\x20instalado\x20pelo\x20git','waitingMenu_id','stopIfLastReturnedError','toDataURL','/clients-info','messageSecret','error','contacts.update','client','\x20Tentativa\x20de\x20reconexão\x20','chatLog','convertaudio','__esModule','cache','pollErrorMessage','request\x20received\x20in\x20deleteFlow','dbInstance','ip:\x20','currency','):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20','sendButtons','request_method','HOST','ex:\x20\x22groupJid=120362@g.us\x22','next_groupId','creds.json','presenceSubscribe','env.KEY\x20!==\x20key','stopMinutesMaxActives','API\x20Key\x20from\x20Request:','getFlow','notMatchRegex','limit','remoteJidsRemaining','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','code','secondValue','connectedClient','isBase64','SERVER_URL','groupadd','Instance\x20logged\x20out','):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.','textMessage','Instância:\x20','view\x20engine','express-async-errors','default','pino','\x1b[37m','beautifyWithPlaceholders','Trying\x20to\x20get\x20business\x20profile','floor','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','arrayUnique','):\x20Conversa\x20inserida\x20com\x20sucesso.','groupRequestParticipantsUpdate','unreadcount','AppStateSyncKeyData','reference','encoding','editFlowVaredit','loadWebhook','loadInstance','pollCreationMessageV3','InstancesAlterarTodas','detail','connect','mentioned','loadEnv','Not\x20is\x20business\x20profile','/wa-contacts','\x20não\x20encontrado','):\x20isVote:\x20','groups','getHours','#dfaef0','Certbot:\x20','scheduleMessages','Erro\x20ao\x20atualizar\x20o\x20flow.','/media','#f64847','ERROR:\x20','CONTACTS_UPDATE','readData','):\x20Visualizando\x20AutomateSystem','Group\x20not\x20found','admin','closed','):\x20Editando\x20bloco...','copyDataToNewModel','flattenObject','Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20','pollMessage','leadInfo.','Type\x20defined\x20as\x20audio','getAutomateSystem','getflow','labelId','notify','/wa-chats','lastBlockId','#b4ebff','deleteConversation','getPrototypeOf','groupName','Message\x20not\x20found','\x1b[30m','\x20->\x20CONFIRMADO.','Type\x20not\x20found','#9ba6ff','sem\x20texto\x20na\x20mensagem','Error\x20updating\x20message\x20status:','basename','Variáveis\x20não\x20encontradas:','splice','uuid','whatsappNumbers','.xlsx','status@broadcast','activatedCount','REDIS_ENABLED','?authSource=admin&readPreference=primary&directConnection=true','requestFile','logout','):\x20Enviando\x20contato','!stop','groupBetterSetting','SERVER','ScheduleMessage','.pptx','realVariables','\x20-i\x20','sendMenu','LEVEL','numbers','storePath','):\x20Enviando\x20texto','local_map','deleteBlock','cwd','mediatype','https://api.openai.com/v1/audio/speech','\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','message','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','isJidBroadcast','sticker','#01d0e2','split','STORE_MESSAGE','#56ccb4','\x20minutos','object','announce','AddChatLabel','buttonText','errorLog',':\x20IP\x20funcionando!','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','map','abs','):\x20Conversas\x20encontradas:','findLabels','Variável\x20não\x20encontrada!','createConversationforStartFlow','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','GROUP_PARTICIPANTS_UPDATE','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','image','convertToWebP','greater','):\x20Erro\x20ao\x20editar\x20o\x20chat:\x20','saveConversationToDatabase','waitingMenu_ExpiredMessage','output',',\x20Minutes\x20to\x20Close:\x20','deletedCount','remoteJid','request\x20received\x20in\x20updateCustomFields','connectionStatus','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','\x20instance\x20does\x20not\x20exist','values','groupGetInviteInfo','Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','):\x20Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','):\x20Dados\x20recebidos\x20no\x20editFlowGroup:','PRIVKEY','allFlows','unhandledRejection','https://ipinfo.io/json','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo:\x20','isArray','block','\x5cd+','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','.doc','json','Erro\x20ao\x20aplicar\x20varedit:\x20','URL','SSL_CONF','pairingCode','announcement','bateu\x20events','listResponseMessage','keys','50mb','https://','stderr','generate','.pdf','.X-ABLabel:Celular\x0a','email','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','array','\x1b[1m','findGroups2','deleted','\x20segundos','findManyByIds','Not\x20Found','buttonMessage','):\x20Erro\x20durante\x20a\x20atualização:\x20','replaceVariablesInReplyOptions','VERBOSE','match','):\x20[ERROR]:\x20Não\x20foi\x20possível\x20recuperar\x20mensagem\x20de\x20remotejid=','DATABASE_CONNECTION_DB_PREFIX_NAME','\x20e\x20ID=','isJWT','^\x5cd+([-]\x5cd+)*@g.us$','equal','repeat','sections','getMinutes','groupRevokeInvite','\x1b[42m','BufferJSON','hSet','contactname','lastSendMessage','isRunning','message_normalized','Database\x20is\x20not\x20enabled','lastMessage','senderKeyDistributionMessage','nextBlock:','\x20inseridas\x20no\x20banco\x20de\x20dados...','authService','replace','updateMany','uazapiSendAudio','delayMessage','FULLCHAIN','Internal\x20Server\x20Error','fetchProfile','DATABASE_CONNECTION_PASSWORD','^\x5cd+[\x5c.@\x5cw-]+','/instance/create','):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','END:VCARD','presence.update','key','hDel','longitude','WARN','readFileSync','count','CHATS_DELETE','MESSAGES_SET','SECRET','Safari','AutomateSystem\x20não\x20foi\x20inicializado','fone','copy','The\x20instance\x20needs\x20to\x20be\x20disconnected','endsWith','add','removeData','pollCreationMessage','\x20\x1b[0m','processvaredits','authorization','Erro\x20ao\x20atualizar\x20o\x20fluxo:','):\x20Procurando\x20mensagens\x20para\x20envio','Error\x20parsing\x20JSON:','open','):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat','headerString','tags','contactHandle','):\x20Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message:\x20','writeFileSync','https://api.ipify.org?format=json','SERVER_TYPE','/events','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','state','upsertedCount','scheduleSendMedia','\x20mensagens\x20de\x20','indexOf','11eQuyuQ','setWebhook','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','everyOne','Audio\x20converted\x20and\x20stored\x20in\x20cache','src','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','request\x20received\x20in\x20editConversation','):\x20Buscando\x20flow...','https://api.elevenlabs.io/v1/text-to-speech/','conversationTimestamp','createSectionsFromValues','contentText','prepareWAMessageMedia','cleaningUp','request\x20received\x20in\x20editFlow','events','flowStopMinutes','chats.update','Cached\x20audio\x20found,\x20returning\x20existing\x20file','shift','getOwnPropertyDescriptor','fetchPrivacySettings','):\x20Deletando\x20conversa...','findOrCreate','node-cache','stopWhenYouSendMsg','addChatLabel','groupValidate','\x22,\x20valor\x20a\x20substituir:\x20\x22','hGet','dropCollection','):\x20teve\x20mudanças\x20chat.archived:\x20','MESSAGES_UPSERT','):\x20Erro\x20ao\x20buscar\x20a\x20conversa\x20','option','replaceVariablesChat','qrcode.updated','http://ifconfig.me/ip','description','):\x20não\x20encontrou','MessageModel','request\x20received\x20in\x20starFlow','pre','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','result','fetchInstances','messageTimestamp','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','):\x20Fluxos\x20não\x20estão\x20ativados','):\x20Query\x20params:\x20','Reiniciando\x20sistema\x20após\x20instalado\x20certificado...','\x22\x20not\x20found','close','min','hasOwnProperty','flushHeaders','reactionMessage','leadInfo','rowId','importChatsBatch','messages.update','_Contacts','fetchMessages','.uazapi.dev','preview','Error\x20updating\x20participants','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','Delete\x20chat','lastInteraction','processUazapi','*Pergunta*:\x20\x0a','@g.us','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','Erro\x20ao\x20buscar\x20conversas:\x20','create','Erro\x20ao\x20processar\x20a\x20chamada\x20API:','Erro\x20ao\x20encerrar\x20a\x20API','replaceVariablesInObject','\x20não\x20encontrado\x20para\x20atualização.','string','participants','):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20','):\x20Error\x20processing\x20the\x20block:\x20','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','upsertChats','CONFIGURAÇÃO\x20GERAL:','shutdown\x20-r\x20now','Business\x20profile\x20fetched','deleteFlow','dbServer','rows','DARK','cpf','g.us','updatePresence','#ff9484','prototype','authentication','webhookService','notas','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','parse','Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP:','env','max','AUTHENTICATION_TYPE','toLowerCase','flowConversation','locationMessage','trimmed','delayChatLabel','unlinkSync','lastUpdate','list','Cannot\x20','apiName','imported','getScheduleMessageModelForOwner','website','Bloco\x20com\x20ID\x20','isInteger','rm\x20-rf\x20','2257662wyLoCl','execSync','reorderReplyOptions','.\x20Pulando.','videoMessage','evaluateConditionTest','test','uazapi','lastReceivedMessage','\x20com\x20sucesso.','Router','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','varedit','Erro\x20ao\x20buscar\x20o\x20fluxo:\x20','.mp3','delayChatLabel_MAX_RETRIES','fetchProfilePictureUrl','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','redisEnv','flowName','findMessages','258jCQpmV','Esse\x20fluxo\x20expirou','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','/wa-groups','messaging-history.set','fileUrl','):\x20Iniciando\x20bot...','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','getDevice','Instance\x20Key\x20from\x20DB:','Revoke\x20error','Error\x20in\x20markMessageAsRead:','783467jrANtB','AUTHENTICATION_API_KEY','sendReaction','beforeExit','digest','.gif','AUTHENTICATION','Reinicialização\x20iniciada:\x20','sendPresenceUpdate','No\x20invite\x20code','profilePicture','DATABASE','editFlowGroup','No\x20participants','isCommunity','updateAll','request\x20received\x20in\x20getFlow',',\x20fará\x20nova\x20verificação\x20em\x20','Mensagens\x20deletadas\x20com\x20sucesso.','removeChatLabel','Telefone:\x20','waUploadToServer','sha256','\x20is\x20already\x20in\x20use.','normal','modifiedCount','getOwnPropertyNames','\x20-y','certonly','scheduleSendText','inviteCode','slice','ScheduleMessageModel','mimetype','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','):\x20[messages.update]\x20group\x20ignored','presence','):\x20Enviando\x20mídia','pollUpdateMessage','processPollUpdateMessage','contacts.upsert','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','updateGParticipate','Erro\x20ao\x20sincronizar\x20fluxos:\x20','contains','/wa-all-message','Erro\x20do\x20Certbot:\x20','dbSettings','updateMessage','variablesNotFound','sendMedia','save','Fluxos\x20não\x20estão\x20ativados','audioWhatsapp','webhookModel','getScheduleMessage','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','$pull','Reordenando\x20replyOptions\x20para\x20o\x20blockId:','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat:',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','):\x20Editando\x20replyOption...','StartBot','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','setHeader','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','Conversa\x20deletada\x20com\x20sucesso.','last','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','#83e421','readMessage','Error\x20writing\x20file:\x20','}}\x20->\x20\x22','goToFlow','delay','closeExistingConversations','Erro\x20ao\x20inserir\x20chats:','protocol','updateGroupsAddPrivacy','Conexão\x20estabelecida','DB_PREFIX_NAME','createHash','createSharedFlow','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','flowPrefixCommand','groupJid','connecting','updateConversation','readFile','augusto.fcs@gmail.com','Failed\x20to\x20update\x20contact\x20profile\x20picture','messageId','request\x20body:\x20','Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','request\x20received\x20in\x20updateFlowConfig','CREDENTIALS','):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20','):\x20updateResult:','linkPreview','format','charAt','varedits','folder','https://api.openai.com/v1/images/generations','archived','Archiving\x20chat','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','scheduleSendAudio','deleteDoneMessages','buttons','\x20-\x20retornado:\x20','#92ceac','request\x20received\x20in\x20editFlowcondition','getUpdate','\x1b[33m%s\x1b[0m','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','ignoreGroups','role','):\x20tem\x20blocks','axios','lowerCase','editflowreply','menuExpiredMessage','flowIgnoreGroups','\x22\x20-\x20NOT\x20CONNECTION','.png','Label\x20','Error\x20removing\x20profile\x20picture','):\x20Bloco\x20com\x20ID\x20','toFile','deleteReplyOption','keep-alive','off','/instance/connectionState','importChats','*\x0a\x0a','all','):\x20Criando\x20fluxo\x20regular...','convert','scheduleMessage','maxActives','namespace','):\x20Falha\x20ao\x20deletar\x20mensagem.','selectableCount','):\x20Erro\x20ao\x20buscar\x20conversas\x20','removeProfilePicture','updateMissingTags','WA\x20MODULE','verifiedName','waitingMenu_replyOptions','STORE_CONTACTS','envProcess','Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20','):\x20debug\x20alterando\x20this.AutomateSystem','#00a1f2','base64','SINGLE_SELECT','minutesToClose','out','):\x20Conversa\x20está\x20expirada','entries','cachedData-whatsapp','https://github.com/uazapi/uazapi.git','KEY','enumerable','shareOwners','flowname:\x20','8lAKkzL','@ffmpeg-installer/ffmpeg','sendDataWebhook','Font\x20is\x20required','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','sendMessageWithTyping','goNextblock','groupToggleEphemeral','Authentication\x20error','Content-Type','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','automateSystem','MESSAGES_UPDATE','evaluateCondition','http://icanhazip.com/','\x0aFN:','privacySettings','checkAndUpdateChatStatus','NextBlock','generateHash','Contacts\x20not\x20found','.extension','cacheContactModel','deleteAll','editedMessage','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','REDIS','available','sendText','SendScheduleMessage','reaction','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:','\x1b[43m','method','updateOne','getAllData','Resultado\x20da\x20atualização:','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','integer','cacheContact','PLAYED','):\x20Criando\x20nova\x20conversa[createNewConversation]','PORT','findByIdAndUpdate','applyvaredit','ListMessage','Imagem\x20não\x20encontrada','formatVCard','):\x20newFirstValue\x20após\x20replaceVariables:','createFlow','getDelay','header','CHATS_SET','isListOfNumbers','findAndReplaceRegex','apikey','Cache-Control','express','approve','fetchLabels','):\x20customFieldVariables','parseInt','):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString','changeVariables','CORS','sendSticker','.ppt','importChatsAntigo','.wav','@whiskeysockets/baileys','audioMessage','waitingForReplyMenu','synchronizeFlows','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','Nenhum\x20chat\x20encontrado\x20para\x20editar.','addBlock','prepareMediaMessage','jsonwebtoken','groupLeave','#d8e651','AutomateFunctions','text/event-stream','audio','admin_add','\x20inseridos\x20no\x20banco\x20de\x20dados...','uazapiDeleteMessage','PROXY','/wa-message','compression','findById','padStart','loggedOut','licenca','getProfileName','DELETED','):\x20Usando\x20extensão\x20padrão:\x20','Connection\x20closed\x20for\x20instance:\x20','extractRegex','webhook','Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20','URL:','#fed428','\x20do\x20chat\x20','user','pictureUrl','menuType','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','/:instanceName','HttpsProxyAgent','Database\x20connection\x20closed.','ORG:','\x1b[36m%s\x1b[0m','statSync','COLOR','$set','caption','DELIVERY_ACK','expression','sleep','quotedMessage','none','processConditions','firstValue','contextInfo',',\x20Expiration\x20Time:\x20','config','createWebhook','reorderBlocks','groupJoinApprovalMode','spawn','REDIS_URI','size','creds.update','localWebhook','statusMessage','unavailable',']\x20(','remove.instance','refused','quoted','startFlow','saveVariable','blockLogs','METHODS','findContacts','Rótulo\x20deletado:','4QYZIVl','groupParticipantsUpdate','setUpdate','moreLogs','views','Erro\x20ao\x20deletar\x20chat:','Error\x20change\x20group\x20description','readreceipts','):\x20Limpando\x20delayMessage','ultimaTentativaRemoteJid','Erro\x20ao\x20importar\x20chats:','.mimetype','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','join','creation','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','less','CLEANING_INTERVAL','HeaderType','EXPIRIN_IN','updateCustomFields','initAuthCreds','URL\x20limpa:\x20','contactMessage','mongodb','Falha\x20ao\x20deletar\x20mensagens\x20antigas:','instanceInfo','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','\x20não\x20encontrado\x20para\x20cópia','crypto','newStoppedUntil','archive','child_process','eventHandler','instance.','Message','connection.update','webhookMap','PRODUCT_LIST','poll','):\x20[messages.upsert]\x20group\x20ignored','not\x20loaded','Erro\x20ao\x20criar\x20fluxo\x20compartilhado:\x20','Audio\x20processed','push','forEach','ConversationModel','findFlow','newValue','Instance\x20\x22','Error\x20finding\x20many\x20contacts:','verifyWhatsAppNumber','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','Erro\x20ao\x20editar\x20a\x20conversa:\x20','chats','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','contact_blacklist','\x1b[30m%s\x1b[0m','notEqual','resetReconnectionVariables','locked','Enter\x20a\x20value\x20in\x20milliseconds','chat','Read\x20messages','):\x20Mensagem\x20já\x20enviada\x20para\x20','hbs','imagechat','updateProfileName','Image\x20converted\x20to\x20WebP','when','setting','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','getClient','promote','Erro\x20ao\x20alterar\x20o\x20fluxo:\x20','):\x20atualização\x20chat:\x20','drop','flush','RECONNECT_TIME_FRAME','isURL','online','http://checkip.dyndns.org','/media/','\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20','qrCode','/instance/fetchInstances','READ','PENDING','exit','):\x20Entrou\x20na\x20função\x20saveReply','fetchProfilePicture','deleteInstance','editflow','round','):\x20Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','store',',\x20Segundo\x20Valor:\x20','}}\x20->\x20valor\x20não\x20encontrado','public','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','readdirSync','insert','menuMessage','):\x20teve\x20mudanças\x20chat.displayName:\x20','The\x20\x22','createJid','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','TEXT','replaceOne','DATABASE_CONNECTION_USER','downloads','GROUPS_UPSERT','updateMissingEtiquetas','request\x20received\x20in\x20scheduleMessage','mkdirSync','_Labels','class-validator','timeout','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20e\x20não\x20é\x20a\x20stopConversation.\x20Saindo\x20da\x20função.','):\x20delete\x20=\x20true','prefixCommand','scheduled','customFields','getConversation','throwAndLogError','document','blocks','dark','height','):\x20Erro\x20ao\x20editar\x20variável\x20do\x20fluxo:\x20','apiResponse','findOneAndUpdate','padEnd','Error\x20getting\x20invite\x20code\x20info','notContains','Erro\x20ao\x20atualizar\x20conversa:\x20','https','unknown\x20operation\x20type\x20[','variable','latitude','text','onWhatsApp','jsonschema','blockId','leadInfo.customFields','ReplyOptions\x20finais\x20após\x20reordenação:','CORS_METHODS','function','writeData','getContactModelForOwner','File\x20written\x20to\x20path:\x20','updateGroupPicture','paused','replaceValue','sendCommand','success','instances','extractMessageContent','):\x20Bloco\x20copiado:\x20','instanceName','restrict','convertedOptions','choices','DATABASE_CONNECTION_HOST','body','removeOlderDisconnectedInstances','update','media','Image\x20path:\x20','Error\x20updating\x20profile\x20picture','reconnectAttempts','RemoveChatLabel','_Chats','selectedOptions','createRegularFlow','#64c4ff','atendimentoAberto','subdomain','uazapiSendMenu','\x1b[33m','createConnection','SERVER_PORT','/webhook','\x0aitem','agents','145375csALoI','utf8','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','editFlowBlock','STATUS_INSTANCE','set','messageContextInfo','The\x20','/create','groupUpdateDescription','messageHandle','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','ERROR','STORE','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','[messages.upsert]\x20[SUCESSO]\x20Mensagem\x20descriptografada\x20depois\x20','Unable\x20to\x20leave\x20the\x20group','API_KEY','Flow\x20não\x20encontrado','\x20horas\x20e\x20','.txt','):\x20Error\x20processing\x20conditions:\x20','desativadoFluxoAte','.type','_activatedCount','GUARD','from','Falha\x20após\x20várias\x20tentativas.','\x22reaction\x22\x20must\x20be\x20an\x20emoji','SERVER_ACK','Output\x20path:\x20','Erro\x20inesperado\x20em\x20processvaredits:\x20','isLong','groupAcceptInvite','revokeInviteCode','interval\x20não\x20é\x20um\x20número','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','SSL_CONF_PRIVKEY','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','toggleEphemeral','groups_ignore','getLastMessage','):\x20Erro\x20ao\x20editar\x20agentes:\x20','lastSend','!cmd_','CHATS_UPSERT','):\x20Ignoring\x20group\x20messages.','request\x20received\x20in\x20editFlowgroup','INFO','ini','error\x20get\x20vote','Image\x20created','endSession','findAll','uazapiSendText',',\x20Comparador:\x20','editFlowReply','Número\x20não\x20possui\x20WhatsApp.','url','replacer',',\x20resultado:\x20','stringify','post','valid','cors','ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789','/wa-qrcode','):\x20Não\x20achou\x20nenhum\x20flow','removed','Error\x20in\x20converting\x20audio','removeInstance','inner','listMessage','mediaMessage','info','/message','editFlow','):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.','GET','editScheduleMessage','Arquivo\x20env.yml\x20atualizado\x20com\x20sucesso.','includes','#9ab6c1','label','webp','):\x20A\x20mensagem\x20foi\x20enviada\x20pelo\x20usuário\x20e\x20contém\x20palavras\x20para\x20pausar\x20o\x20fluxo','some','Delete\x20chat\x20in\x20client\x20for\x20number:\x20','getStatus','no.connection','chats.delete','noConnection','Processing\x20audio','command','groupInviteCode','composing','getVariablesChat','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','status.instance','.error','flow','copyBlock','segundos','data:\x20','CONTACTS_SET','allContacts','Fluxo\x20não\x20encontrado','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','responsavelid','certbot','processblock','):\x20','repository','updateProfileStatus','):\x20Erro\x20ao\x20editar\x20a\x20conversa:\x20','isConnected','InstancesAsDisconnectedX','_error','LICENSE_INVALID','labels.association','<subdomain>','authModel','SSL_CONF_FULLCHAIN','Instâncias\x20removidas\x20por\x20estarem\x20desconectadas\x20há\x20mais\x20de\x2010\x20dias:\x20','Subscribed\x20Events:','findWebhook','Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.','createGroup','Converted\x20image\x20deleted','\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','instance','addReplyOption','ephemeralExpiration','http','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','status','vote','truncatedto','writeFile','get','?timestamp=','waitingMenu_text','CORS_CREDENTIALS','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','chatHandle','fileLength','statusJidList','call','stopConversation','optionDescription','requestPairingCode','REDIS_PREFIX_KEY','displayName','buttonId','Module\x20-\x20ON','Erro:','ObjectId','lastmsg','):\x20Comando\x20desconhecido:\x20','use','js-yaml','https-proxy-agent','qrcode','last_update','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','PRESENCE_UPDATE','substring','editFlowVariable','FlowModel','auth','mediaKey','video-cover.png','gifPlayback','request\x20received\x20in\x20deleteDoneMessages','request\x20received\x20in\x20getAutomateSystem','profile','delAll','):\x20Limpando\x20AutomateSystem','toBrazilianNumberFormat','apirequest','WebhookGlobal','Flow\x20iniciado\x20com\x20','updateReplyOption','updateGParticipant','connectedName','):\x20Buscando\x20conversa...','1168581PDOcPA','router','video','recording','Schema','):\x20Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo:\x20','bearer','Erro\x20ao\x20atualizar\x20AutomateSystem:','send','.jwt','setRestartTimeout','fetchBusinessProfile','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','--agree-tos','warn','Deletion\x20failed','urlencoded','msgRetryCounterCache','groupSetting','action','processApiRequest','lean','now','params','restart','expiration','.svg','bodyString','toBRL','birthtime','DOCKER_ENV','getRandomText','remove','):\x20[RETRY]\x20Tentando\x20recuperar\x20mensagem\x20de\x20remotejid=','group-participants.update','-whatsapp-api','):\x20Edit\x20schedule\x20message...','groupRequestParticipantsList','Erro\x20ao\x20buscar\x20conversa:\x20','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','messages.upsert','variables','Certbot\x20executado\x20com\x20sucesso.','Instance\x20restarted','CHATS_UPDATE','saveChatVariables','delaySecMax','Image\x20is\x20base64','findAndUpdateCacheContact','\x20tentativas:\x20remotejid=','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','STORE_CHATS','subject','subjectOwner','):\x20teve\x20mudanças\x20chat.name:\x20','replyOption','The\x20property\x20cannot\x20be\x20empty','capitalizedWords','GROUPS_UPDATE','connectionState','/wa-presence','CONTACTS_UPSERT','creds','true','joinApprovalMode','cleanStore','^\x5cd+','allflows','cachedContact','This\x20name\x20','collections','Error\x20in\x20chatModify\x20for\x20number\x20','sendPoll','Nenhum\x20IP\x20extra\x20funcional\x20encontrado\x20ou\x20IP\x20extras\x20desabilitados.','createAndSave','processConditionsTest','readMessageBot','authState','):\x20Editando\x20condição\x20do\x20fluxo...','Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','updateOnlinePrivacy','.\x20Removendo\x20da\x20lista\x20de\x20tentativas.','getTime','length','updatePrivacySettings','group','Types','\x20contacts','exports','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:','\x20after\x20','redis://127.0.0.1:6379','2238651XwNzHv','sendAudio','ChatModel','URI','groupHandler','chatId','address','):\x20enviado\x20para\x20[','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','fileName','nome','):\x20Alterando\x20fluxo...','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','model','enabled','defineAuthState','configService','dataValidate','audio/ogg;\x20codecs=opus','deleteMessage','reject','demote','groups.upsert','existsSync','verbose','toArray','editflowblock','including\x20timestamp\x20in\x20url:\x20','end','\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20','Unauthorized','findOne','fullName','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','request\x20received\x20in\x20createFlow','PREFIX_KEY','The\x20global\x20api\x20key\x20must\x20be\x20set','label_jid','.docx','delete','477570OhHQkK','DEBUG','del','Temp\x20image\x20deleted','):\x20Erro\x20ao\x20deletar\x20a\x20conversa\x20','mongoose','error_log','remote\x20\x22origin\x22','#fe9dfe','ContactModel','getConversationModelForOwner','HH:mm:ss','\x20ao\x20chat\x20','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','):\x20Ler\x20mensagem','updateAgent','createInstance','ReplyOption\x20com\x20ID\x20','headers','waInstances','getMIMEType','.xls','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','PASSWORD','proto',':\x20não\x20há\x20IP\x20salvo,\x20ou\x20está\x20inválido,\x20selecionando\x20um\x20IP\x20aleatório.','makeCacheableSignalKeyStore','createNewConversation','updateChatWithMessage','[ERROR]:\x20Foi\x20recebida\x20uma\x20mensagem\x20com\x20o\x20id\x20de\x20\x22','):\x20Criando\x20fluxo\x20compartilhado...','#000000','Button\x20texts\x20cannot\x20be\x20repeated','TEL','arraybuffer','USER','pollMessageOnDelete','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','content','startsWith','unlocked','sign','etiquetas','Selecione','updateMissingCustomFields','labels.edit','matchRegex','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','Error\x20updating\x20profile\x20name','updateMissingShareOwners','Início','\x22\x20cannot\x20be\x20empty','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','://','order','stickerMessage','content-type','flowStopConversation','sectionsToString','unreadCount','collection','uazapiSendContact','options','LOG','SERVER_OFFLINE','\x1b[0m','where','ENABLED','):\x20Campos\x20a\x20serem\x20atualizados:','sending','stateConnection','setNewValue','badSession','Instâncias\x20atualizadas\x20como\x20desconectadas:\x20','Erro\x20ao\x20executar\x20comando\x20de\x20reinicialização:\x20','request\x20received\x20in\x20getConversation','deleteMany','@newsletter','Chat\x20com\x20ID\x20','SUCCESS',':\x20Erro\x20durante\x20loadproxy\x20-\x20','condition','name','getLabelModelForOwner','messagesSend','getFlowModelForOwner','random','4884194PxdazI','StatusJidList\x20is\x20required','Erro\x20ao\x20deletar\x20mensagens:','/instance/delete','ListType','query','response','OrAnd','findParticipants','ChatRouter','/instance/connect','):\x20Procurando\x20conversa','):\x20Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem:\x20','messages','footerText','processgoToFlow','.webp','Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.','contactsArrayMessage','/automate','deleteChat','AUTHENTICATION_JWT_EXPIRIN_IN','isJidGroup','reviver','.mp4','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','variablesToObject','Operador:\x20\x22','getMessage','messageStubType','editflowvaredit','toUpperCase','mentions','archiveChat','temp-','Error\x20fetching\x20group','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','):\x20Bloco\x20a\x20ser\x20atualizado:\x20','ButtonsMessage','\x20attempts.',':\x20IP\x20configurado:\x20','username','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','profilePictureUrl','Bad\x20Request','protocolMessage','getMessageModelForOwner','request\x20received\x20in\x20deleteConversation','Sending\x20audio\x20whatsapp','formatStatusMessage','Deleted\x20','metadata','hex','Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo','formatBRNumber','release','nomecompleto','updateStatusPrivacy','sendList','):\x20alterando\x20this.AutomateSystem','originalUrl','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','mediaSticker','):\x20conversation.waitingMenu_name','editConversation','Erro\x20ao\x20normalizar\x20a\x20mensagem:','):\x20leadInfoVariables','connectToWhatsappController','):\x20transformedCustomFieldVariables','sendContact','getBase64FromMediaMessage','getChatModelForOwner','ON\x20-\x20dbName:\x20','groupDesc','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','fromObject','updateOneById','phoneNumber','processing_id','context','fetchConversation','.jpg','utf-8','password','finish','\x20de\x20conectar\x20com\x20IP\x20extra.','\x20chats\x20foram\x20atualizados.','replaceVariablesLogs','No\x20join\x20group\x20invite\x20code\x20or\x20url','\x1b[44m','emit','isBusiness','inviteCodeDetails','pushName','groupCreate','Parando\x20aplicação...','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','picture','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','Error\x20updating\x20privacy\x20settings','.ogg','_Flows','Error\x20change\x20group\x20setting','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','envYaml','findIndex','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','Last\x20message\x20not\x20found','match_last_seen','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','color','empty','JWT','_FlowHistorico','createServer','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','testProxy','_p_','@s.whatsapp.net','boolean','sendLocation','Erro\x20ao\x20tentar\x20updateCustomFields:\x20','vcard','Erro\x20ao\x20criar\x20fluxo\x20regular:\x20','AutomateSystem','):\x20this.processing_id:\x20','\x1b[36m','buffer','groupFetchAllParticipating','updateMissingLabels','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','LabelModel','Erro\x20ao\x20remover\x20label\x20','FlowController','/config','):\x20conversation.status:\x20','\x0a*Você\x20respondeu*:\x0a','):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20','number','pt-BR','):\x20Query\x20params:','\x1b[41m','routerPath','Sistema\x20atualizado\x20com\x20sucesso!','desc','findGroups','write','Type\x20is\x20required','QRCODE_UPDATED','normalizeMessageContent','editChat','g-t','Rótulo\x20inválido\x20ou\x20sem\x20ID.','application/json','LOG_COLOR','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','console','data','connectionClosed','Valor\x20inicial:\x20\x22','Comando\x20desconhecido','jwt','\x20}\x0a','chats.upsert','readMessages','CONNECTION_UPDATE','find','port','messageType','Error\x20creating\x20group','API\x20Key\x20inválida.','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','deleteOne','):\x20Bloco\x20original\x20para\x20cópia:\x20','Last\x20message\x20not\x20found\x20for\x20number:','connectToWhatsapp','fetchChats','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','jid','toNumber','exec','lastCondition','TYPE','insertCount','):\x20Entrou\x20na\x20função\x20stop','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','.TEL;waid=','-instances','pollCreationMessageKey','../env.yml','Erro\x20ao\x20copiar\x20dados:','wuid','conversation','statusCode','toLocaleString','toString','sendMessage','http://ip-api.com/json','viewOnceMessage'];a0_0x5bd2=function(){return _0x46b7a8;};return a0_0x5bd2();}function so(_0x4d93dd,_0x1beef3){return new Promise((_0x3645ac,_0x112dc7)=>{const _0x42afb6=a0_0xf27f;let _0x24da75=(0x0,De[_0x42afb6(0x447)])(_0x42afb6(0x582),[_0x42afb6(0x335),_0x42afb6(0x77a),'-m',_0x4d93dd,_0x42afb6(0x5dd),'-d',_0x1beef3]);_0x24da75[_0x42afb6(0x80b)]['on'](_0x42afb6(0x749),_0x3ef3a9=>{const _0x309783=_0x42afb6;console[_0x309783(0x7f7)](_0x309783(0x199)+_0x3ef3a9[_0x309783(0x76f)]());}),_0x24da75[_0x42afb6(0x21d)]['on']('data',_0x58c2ef=>{const _0x253dd3=_0x42afb6;console[_0x253dd3(0x820)](_0x253dd3(0x347)+_0x58c2ef['toString']());}),_0x24da75['on'](_0x42afb6(0x2b1),_0x310b14=>{const _0x317100=_0x42afb6;_0x310b14!==0x0?(console[_0x317100(0x820)]('Erro\x20ao\x20executar\x20o\x20Certbot.\x20Código\x20de\x20saída:\x20'+_0x310b14),_0x112dc7(_0x317100(0x3b4)+_0x310b14)):(console[_0x317100(0x7f7)](_0x317100(0x5fa)),_0x3645ac());});});}function ao(_0x3c8bac=0x32){const _0x201916=a0_0x422c01;let _0x562782=_0x201916(0x553),_0x393bc2='';for(let _0x39d358=0x0;_0x39d358<_0x3c8bac;_0x39d358++)_0x393bc2+=_0x562782[_0x201916(0x37e)](Math['floor'](Math[_0x201916(0x6ab)]()*_0x562782[_0x201916(0x623)]));return _0x393bc2;}function ro(){const _0x481e35=a0_0x422c01;(0x0,De['exec'])(_0x481e35(0x2d3),(_0x5aa6d9,_0x4d6f46,_0x4e3ec5)=>{const _0x4c9a83=_0x481e35;if(_0x5aa6d9){console[_0x4c9a83(0x820)](_0x4c9a83(0x69f)+_0x5aa6d9);return;}if(_0x4e3ec5){console['error']('Erro\x20de\x20reinicialização:\x20'+_0x4e3ec5);return;}console[_0x4c9a83(0x7f7)](_0x4c9a83(0x320)+_0x4d6f46);});}0x0&&(module[a0_0x422c01(0x628)]={'subdomain':subdomain});