const a0_0x6d27f9=a0_0x3485;(function(_0x43b81d,_0x510ab3){const _0x548e3b=a0_0x3485,_0x3008a1=_0x43b81d();while(!![]){try{const _0x5d1236=-parseInt(_0x548e3b(0x248))/0x1*(-parseInt(_0x548e3b(0x2f6))/0x2)+-parseInt(_0x548e3b(0x33c))/0x3+-parseInt(_0x548e3b(0x672))/0x4*(parseInt(_0x548e3b(0x792))/0x5)+parseInt(_0x548e3b(0x5b1))/0x6+parseInt(_0x548e3b(0x27a))/0x7*(parseInt(_0x548e3b(0x714))/0x8)+-parseInt(_0x548e3b(0x73b))/0x9+parseInt(_0x548e3b(0x66e))/0xa*(parseInt(_0x548e3b(0x276))/0xb);if(_0x5d1236===_0x510ab3)break;else _0x3008a1['push'](_0x3008a1['shift']());}catch(_0x1b0df5){_0x3008a1['push'](_0x3008a1['shift']());}}}(a0_0x47cd,0x51b32));var Bo=Object[a0_0x6d27f9(0x62f)],je=Object['defineProperty'],Wo=Object[a0_0x6d27f9(0x49a)],zo=Object[a0_0x6d27f9(0x1d2)],Ho=Object[a0_0x6d27f9(0x5b9)],Ko=Object['prototype'][a0_0x6d27f9(0x187)],Qo=(_0x3a2079,_0xc3716a)=>{for(var _0x49026c in _0xc3716a)je(_0x3a2079,_0x49026c,{'get':_0xc3716a[_0x49026c],'enumerable':!0x0});},Gs=(_0xe2fa92,_0x261ea6,_0x1533fe,_0xdbd41a)=>{const _0x57462e=a0_0x6d27f9;if(_0x261ea6&&typeof _0x261ea6=='object'||typeof _0x261ea6=='function'){for(let _0x1dcfd1 of zo(_0x261ea6))!Ko[_0x57462e(0x595)](_0xe2fa92,_0x1dcfd1)&&_0x1dcfd1!==_0x1533fe&&je(_0xe2fa92,_0x1dcfd1,{'get':()=>_0x261ea6[_0x1dcfd1],'enumerable':!(_0xdbd41a=Wo(_0x261ea6,_0x1dcfd1))||_0xdbd41a[_0x57462e(0x6fe)]});}return _0xe2fa92;},A=(_0x2be784,_0x3959e5,_0x2617f6)=>(_0x2617f6=_0x2be784!=null?Bo(Ho(_0x2be784)):{},Gs(_0x3959e5||!_0x2be784||!_0x2be784[a0_0x6d27f9(0x4ae)]?je(_0x2617f6,a0_0x6d27f9(0x49c),{'value':_0x2be784,'enumerable':!0x0}):_0x2617f6,_0x2be784)),Yo=_0x5601c3=>Gs(je({},'__esModule',{'value':!0x0}),_0x5601c3),ur={};Qo(ur,{'fullURL':()=>Vs,'subdomain':()=>z}),module['exports']=Yo(ur);var Fo=A(require(a0_0x6d27f9(0x55d))),Ws=require('fs'),zs=require(a0_0x6d27f9(0x210)),Hs=require(a0_0x6d27f9(0x4a4)),Je=require(a0_0x6d27f9(0x4a4)),re=process[a0_0x6d27f9(0x167)](),ye=(0x0,Je[a0_0x6d27f9(0x34b)])(re,a0_0x6d27f9(0x70d)),Bs=(0x0,Je['join'])(re,a0_0x6d27f9(0x239)),sn=(0x0,Je['join'])(re,a0_0x6d27f9(0x1b7),'auth'),ls=class{constructor(){const _0x5bfd65=a0_0x6d27f9;this[_0x5bfd65(0x265)]();}[a0_0x6d27f9(0x693)](_0x4115b3){return this['env'][_0x4115b3];}[a0_0x6d27f9(0x265)](){const _0x31a60f=a0_0x6d27f9;this[_0x31a60f(0x37a)]=process[_0x31a60f(0x37a)]?.[_0x31a60f(0x309)]!=='true'?this['envYaml']():this[_0x31a60f(0x14d)](),process[_0x31a60f(0x37a)]?.[_0x31a60f(0x309)]===_0x31a60f(0x41d)&&(this['env'][_0x31a60f(0x617)]['TYPE']=_0x31a60f(0x37b),this['env']['SERVER']['PORT']=Number[_0x31a60f(0x794)](process[_0x31a60f(0x37a)]?.[_0x31a60f(0x7f9)]??_0x31a60f(0x2fb)));}[a0_0x6d27f9(0x615)](){const _0x2f65a7=a0_0x6d27f9;return(0x0,zs[_0x2f65a7(0x658)])((0x0,Ws[_0x2f65a7(0x422)])((0x0,Hs[_0x2f65a7(0x34b)])(Bs,_0x2f65a7(0x6c0)),{'encoding':'utf-8'}));}['envProcess'](){const _0x599fc2=a0_0x6d27f9;return{'SERVER':{'TYPE':process[_0x599fc2(0x37a)][_0x599fc2(0x406)],'PORT':Number['parseInt'](process['env'][_0x599fc2(0x7f9)]),'URL':process[_0x599fc2(0x37a)][_0x599fc2(0x2b7)]},'CORS':{'ORIGIN':process[_0x599fc2(0x37a)][_0x599fc2(0x73a)][_0x599fc2(0x48d)](','),'METHODS':process[_0x599fc2(0x37a)]['CORS_METHODS'][_0x599fc2(0x48d)](','),'CREDENTIALS':process[_0x599fc2(0x37a)]?.[_0x599fc2(0x2ff)]===_0x599fc2(0x41d)},'SSL_CONF':{'PRIVKEY':process[_0x599fc2(0x37a)]?.[_0x599fc2(0x3ff)],'FULLCHAIN':process[_0x599fc2(0x37a)]?.[_0x599fc2(0x77f)]},'STORE':{'CLEANING_INTERVAL':Number[_0x599fc2(0x657)](process[_0x599fc2(0x37a)]?.[_0x599fc2(0x6c4)])?Number['parseInt'](process[_0x599fc2(0x37a)][_0x599fc2(0x6c4)]):void 0x0,'MESSAGES':process[_0x599fc2(0x37a)]?.['STORE_MESSAGE']===_0x599fc2(0x41d),'CONTACTS':process['env']?.[_0x599fc2(0x12d)]==='true','CHATS':process[_0x599fc2(0x37a)]?.[_0x599fc2(0xdb)]===_0x599fc2(0x41d)},'DATABASE':{'CONNECTION':{'HOST':process[_0x599fc2(0x37a)]?.[_0x599fc2(0x676)],'PORT':Number['parseInt'](process[_0x599fc2(0x37a)]?.[_0x599fc2(0x676)]),'USER':process[_0x599fc2(0x37a)]['DATABASE_CONNECTION_USER'],'PASSWORD':process[_0x599fc2(0x37a)][_0x599fc2(0x2e8)],'URI':process[_0x599fc2(0x37a)][_0x599fc2(0x75f)],'DB_PREFIX_NAME':process[_0x599fc2(0x37a)]['DATABASE_CONNECTION_DB_PREFIX_NAME']},'ENABLED':process[_0x599fc2(0x37a)]?.[_0x599fc2(0x62c)]===_0x599fc2(0x41d)},'REDIS':{'ENABLED':process['env']?.[_0x599fc2(0xcf)]==='true','URI':process[_0x599fc2(0x37a)]['REDIS_URI']||_0x599fc2(0x4d8),'PREFIX_KEY':process[_0x599fc2(0x37a)]['REDIS_PREFIX_KEY']||_0x599fc2(0x69b)},'LOG':{'LEVEL':process[_0x599fc2(0x37a)]?.[_0x599fc2(0x2ba)][_0x599fc2(0x48d)](','),'COLOR':process[_0x599fc2(0x37a)]?.[_0x599fc2(0x286)]==='true'},'AUTHENTICATION':{'TYPE':process[_0x599fc2(0x37a)][_0x599fc2(0x60d)],'API_KEY':{'KEY':process['env']['AUTHENTICATION_API_KEY']},'JWT':{'EXPIRIN_IN':Number[_0x599fc2(0x657)](process[_0x599fc2(0x37a)]?.['AUTHENTICATION_JWT_EXPIRIN_IN'])?Number[_0x599fc2(0x794)](process[_0x599fc2(0x37a)]['AUTHENTICATION_JWT_EXPIRIN_IN']):0xe10,'SECRET':process[_0x599fc2(0x37a)][_0x599fc2(0x3df)]}}};}},b=new ls(),Uo=A(require(a0_0x6d27f9(0x21c))),we=A(require(a0_0x6d27f9(0x569))),Js=require(a0_0x6d27f9(0x4a4)),us=A(require(a0_0x6d27f9(0x762))),ds=(_0x4b3a0c=>(_0x4b3a0c['LOG']=a0_0x6d27f9(0x13c),_0x4b3a0c['INFO']=a0_0x6d27f9(0x701),_0x4b3a0c[a0_0x6d27f9(0x598)]='\x1b[33m',_0x4b3a0c[a0_0x6d27f9(0xf9)]=a0_0x6d27f9(0x2d1),_0x4b3a0c[a0_0x6d27f9(0x1a1)]=a0_0x6d27f9(0x108),_0x4b3a0c[a0_0x6d27f9(0x7a2)]=a0_0x6d27f9(0x4da),_0x4b3a0c[a0_0x6d27f9(0x176)]=a0_0x6d27f9(0x7fb),_0x4b3a0c))(ds||{}),Ks=(_0x50fd90=>(_0x50fd90['LOG']=a0_0x6d27f9(0x592),_0x50fd90['DARK']='\x1b[30m%s\x1b[0m',_0x50fd90[a0_0x6d27f9(0x2a9)]=a0_0x6d27f9(0xf6),_0x50fd90['WARN']=a0_0x6d27f9(0x560),_0x50fd90['ERROR']=a0_0x6d27f9(0x7b9),_0x50fd90['DEBUG']=a0_0x6d27f9(0x584),_0x50fd90[a0_0x6d27f9(0x7a2)]=a0_0x6d27f9(0x79f),_0x50fd90))(Ks||{}),Qs=(_0x2d0d60=>(_0x2d0d60[a0_0x6d27f9(0x2c3)]=a0_0x6d27f9(0x2c3),_0x2d0d60[a0_0x6d27f9(0x598)]=a0_0x6d27f9(0x598),_0x2d0d60[a0_0x6d27f9(0x2a9)]=a0_0x6d27f9(0x2a9),_0x2d0d60[a0_0x6d27f9(0x176)]=a0_0x6d27f9(0x176),_0x2d0d60[a0_0x6d27f9(0xf9)]='ERROR',_0x2d0d60[a0_0x6d27f9(0x1a1)]='DEBUG',_0x2d0d60[a0_0x6d27f9(0x7a2)]=a0_0x6d27f9(0x7a2),_0x2d0d60))(Qs||{}),Ys=(_0x56bdb5=>(_0x56bdb5['LOG']=a0_0x6d27f9(0x416),_0x56bdb5[a0_0x6d27f9(0x2a9)]='\x1b[44m',_0x56bdb5[a0_0x6d27f9(0x598)]='\x1b[43m',_0x56bdb5[a0_0x6d27f9(0x176)]='\x1b[40m',_0x56bdb5[a0_0x6d27f9(0xf9)]=a0_0x6d27f9(0x28a),_0x56bdb5[a0_0x6d27f9(0x1a1)]=a0_0x6d27f9(0x767),_0x56bdb5['VERBOSE']=a0_0x6d27f9(0x5d8),_0x56bdb5))(Ys||{}),$=class{constructor(_0x5d24fe='Logger'){const _0x5c1579=a0_0x6d27f9;this[_0x5c1579(0x3da)]=_0x5d24fe,this[_0x5c1579(0x14e)]=b;}['setContext'](_0x55466b){const _0x4f36d1=a0_0x6d27f9;this[_0x4f36d1(0x3da)]=_0x55466b;}['console'](_0x4a4e7c,_0x7e7911){const _0x481676=a0_0x6d27f9;let _0x10d112=[];this[_0x481676(0x14e)][_0x481676(0x693)]('LOG')[_0x481676(0x238)][_0x481676(0x48c)](_0x449952=>_0x10d112[_0x481676(0x6b3)](Qs[_0x449952]));let _0x314a67=typeof _0x4a4e7c;_0x10d112[_0x481676(0x562)](_0x7e7911)&&(b[_0x481676(0x693)](_0x481676(0x2c3))[_0x481676(0x1a4)]?(console['log'](_0x481676(0x632)+Ks[_0x7e7911],'\x1b[1m\x1b[37m',(0x0,us[_0x481676(0x49c)])()[_0x481676(0x6ae)]('DD/MM\x20HH:mm:ss'),_0x481676(0x6cd),ds[_0x7e7911]+Ys[_0x7e7911]+_0x481676(0x632),_0x7e7911+_0x481676(0x331),_0x481676(0x468),this[_0x481676(0x3da)]+_0x481676(0x6cd),ds[_0x7e7911],_0x314a67!==_0x481676(0x5c4)?_0x4a4e7c:'',_0x481676(0x6cd)),_0x314a67===_0x481676(0x5c4)&&console['log'](_0x4a4e7c,'\x0a')):console[_0x481676(0x2ac)]((0x0,us[_0x481676(0x49c)])()['format']('HH:mm:ss'),_0x7e7911+'\x20',''+this[_0x481676(0x3da)],_0x4a4e7c));}[a0_0x6d27f9(0x2ac)](_0x8d41eb){const _0x1b4224=a0_0x6d27f9;this[_0x1b4224(0x299)](_0x8d41eb,_0x1b4224(0x2c3));}[a0_0x6d27f9(0xf3)](_0x59c27c){const _0x17fed4=a0_0x6d27f9;this['console'](_0x59c27c,_0x17fed4(0x2a9));}[a0_0x6d27f9(0x705)](_0x4af619){const _0x1c5fa2=a0_0x6d27f9;this[_0x1c5fa2(0x299)](_0x4af619,'WARN');}['error'](_0xbd5035){const _0x4167d3=a0_0x6d27f9;this[_0x4167d3(0x299)](_0xbd5035,_0x4167d3(0xf9));}[a0_0x6d27f9(0x302)](_0x49bf05){const _0x52651f=a0_0x6d27f9;this['console'](_0x49bf05,_0x52651f(0x7a2));}['debug'](_0x25329b){const _0x5181e5=a0_0x6d27f9;this[_0x5181e5(0x299)](_0x25329b,'DEBUG');}['dark'](_0x490acb){const _0xfa8766=a0_0x6d27f9;this[_0xfa8766(0x299)](_0x490acb,'DARK');}};function Xs(){const _0x3e0926=a0_0x6d27f9;process['on']('uncaughtException',(_0xe60125,_0x43dc97)=>{const _0x5b77df=a0_0x3485;new $(_0x5b77df(0x3f3))[_0x5b77df(0x782)]({'origin':_0x43dc97,'stderr':process[_0x5b77df(0x7f1)]['fd'],'error':_0xe60125});}),process['on'](_0x3e0926(0x61f),(_0x4a096f,_0x3beeea)=>{const _0x5bded7=_0x3e0926;new $('unhandledRejection')[_0x5bded7(0x782)]({'origin':_0x3beeea,'stderr':process[_0x5bded7(0x7f1)]['fd'],'error':_0x4a096f});});}var Zs=A(require('eventemitter2')),ps=new Zs[(a0_0x6d27f9(0x49c))]({'delimiter':'.','newListener':!0x1,'ignoreErrors':!0x1}),be=require(a0_0x6d27f9(0x55f)),Ne=A(require(a0_0x6d27f9(0x55f))),qe=new $('Db\x20Connection'),F=b[a0_0x6d27f9(0x693)](a0_0x6d27f9(0x653)),R=F[a0_0x6d27f9(0x43a)]?F['CONNECTION'][a0_0x6d27f9(0x327)]?Ne[a0_0x6d27f9(0x49c)][a0_0x6d27f9(0x306)](F[a0_0x6d27f9(0x540)][a0_0x6d27f9(0x327)],{'dbName':F['CONNECTION'][a0_0x6d27f9(0x2f8)]+'-whatsapp-api'}):Ne[a0_0x6d27f9(0x49c)][a0_0x6d27f9(0x306)](a0_0x6d27f9(0x645)+F[a0_0x6d27f9(0x540)]['HOST']+':'+F[a0_0x6d27f9(0x540)][a0_0x6d27f9(0xdd)]+a0_0x6d27f9(0x45f),{'user':F[a0_0x6d27f9(0x540)][a0_0x6d27f9(0x102)],'pass':F['CONNECTION'][a0_0x6d27f9(0x153)],'dbName':F[a0_0x6d27f9(0x540)][a0_0x6d27f9(0x2f8)]+'-whatsapp-api'}):null;F[a0_0x6d27f9(0x43a)]&&qe[a0_0x6d27f9(0xf3)](a0_0x6d27f9(0x275)+R[a0_0x6d27f9(0x7c5)]);var ne=F[a0_0x6d27f9(0x43a)]?F[a0_0x6d27f9(0x540)][a0_0x6d27f9(0x327)]?Ne[a0_0x6d27f9(0x49c)][a0_0x6d27f9(0x306)](F[a0_0x6d27f9(0x540)][a0_0x6d27f9(0x327)],{'dbName':a0_0x6d27f9(0x5be)}):Ne[a0_0x6d27f9(0x49c)][a0_0x6d27f9(0x306)](a0_0x6d27f9(0x645)+F[a0_0x6d27f9(0x540)]['HOST']+':'+F[a0_0x6d27f9(0x540)]['PORT']+a0_0x6d27f9(0x45f),{'user':F[a0_0x6d27f9(0x540)][a0_0x6d27f9(0x102)],'pass':F[a0_0x6d27f9(0x540)]['PASSWORD'],'dbName':a0_0x6d27f9(0xfc)}):null;ne&&qe[a0_0x6d27f9(0xf3)](a0_0x6d27f9(0x275)+ne[a0_0x6d27f9(0x7c5)]),process['on'](a0_0x6d27f9(0x11f),()=>{const _0x3a55f9=a0_0x6d27f9;R&&R[_0x3a55f9(0x38d)](()=>{const _0x10f478=_0x3a55f9;qe['info'](_0x10f478(0x161));}),ne&&ne[_0x3a55f9(0x38d)](()=>{const _0x541936=_0x3a55f9;qe[_0x541936(0xf3)](_0x541936(0x2f0));});});var Xo=new be['Schema']({'_id':{'type':String,'_id':!0x0},'value':{'type':String}}),Zo=new be['Schema']({'_id':{'type':String,'_id':!0x0},'remoteJid':{'type':String},'pushName':{'type':String},'text':{'type':String},'type':{'type':String},'when':{'type':Number}}),ei=new be['Schema']({'id':{'type':String},'owner':{'type':String},'subject':{'type':String},'subjectOwner':{'type':String},'subjectTime':{'type':Number},'creation':{'type':Number},'desc':{'type':String},'descOwner':{'type':String},'descId':{'type':String},'restrict':{'type':Boolean},'announce':{'type':Boolean},'memberAddMode':{'type':Boolean},'joinApprovalMode':{'type':Boolean},'isCommunity':{'type':Boolean},'isCommunityAnnounce':{'type':Boolean},'size':{'type':Number},'participants':{'type':[Object],'default':[]},'ephemeralDuration':{'type':Number},'author':{'type':String},'inviteCode':{'type':String},'image':{'type':String},'lastUpdate':{'type':Number},'isAdmin':{'type':Boolean},'canSendMessage':{'type':Boolean},'awaitingApproval':{'type':[Object],'default':[]},'lastFetchAwaitingApproval':{'type':Number}},{'_id':!0x1}),ti=new be['Schema']({'nome':{'type':String},'nomecompleto':{'type':String},'email':{'type':String},'cpf':{'type':String},'status':{'type':String},'notas':{'type':String},'tags':{'type':[String],'default':[]},'etiquetas':{'type':[String],'default':[]},'desativadoFluxoAte':{'type':Number},'atendimentoAberto':{'type':Boolean},'responsavelid':{'type':String},'customFields':{'type':[Xo],'default':[]}},{'_id':!0x1}),si=new be[(a0_0x6d27f9(0x6c3))]({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'group':{'type':Boolean,'default':!0x1},'archived':{'type':Boolean,'default':!0x1},'name':{'type':String},'imagechat':{'type':String},'lastmsg':{'type':Number,'default':0x0},'unreadcount':{'type':Number,'default':0x0},'lastcache':{'type':Number,'default':0x0},'leadInfo':{'type':ti,'default':{}},'contactname':{'type':String},'status':{'type':String},'isBusiness':{'type':Boolean},'email':{'type':String},'description':{'type':String},'website':{'type':String},'imported':{'type':Boolean},'labels':{'type':[String],'default':[]},'ephemeralExpiration':{'type':Number},'muteEndTime':{'type':Number},'lastMessage':{'type':Zo},'groupdata':{'type':ei,'default':{}},'group_isCommunity':{'type':Boolean},'group_announce':{'type':Boolean},'group_size':{'type':Number}}),ea=_0x12e478=>{const _0x33ff01=a0_0x6d27f9;let _0x312222='z_'+_0x12e478+_0x33ff01(0x7ce);return R?.[_0x33ff01(0x4bc)]('ChatModel',si,_0x312222);},ta=require(a0_0x6d27f9(0x55f)),ai=new ta['Schema']({'_id':{'type':String,'_id':!0x0},'pushName':{'type':String,'minlength':0x1},'profilePictureUrl':{'type':String},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),sa=_0x39ea96=>{const _0x116a49=a0_0x6d27f9;let _0x491813='z_'+_0x39ea96+_0x116a49(0x195);return R?.[_0x116a49(0x4bc)](_0x116a49(0x303),ai,_0x491813);},aa=require('mongoose'),hs=class{},oi=new aa[(a0_0x6d27f9(0x6c3))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'pictureUrl':{'type':String},'lastUpdate':{'type':Number,'default':0x0}}),oa=ne?.[a0_0x6d27f9(0x4bc)](hs['name'],oi,'ContactsAndGroups'),ia=require(a0_0x6d27f9(0x55f)),gs=class{},ii=new ia[(a0_0x6d27f9(0x6c3))]({'_id':{'type':String,'_id':!0x0},'ip':{'type':String}}),Ve=ne?.[a0_0x6d27f9(0x4bc)](gs[a0_0x6d27f9(0x552)],ii,'instances'),ra=require(a0_0x6d27f9(0x55f)),ri=new ra['Schema']({'_id':{'type':String,'_id':!0x0},'key':{'id':{'type':String,'required':!0x0,'minlength':0x1},'remoteJid':{'type':String,'required':!0x0,'minlength':0x1},'fromMe':{'type':Boolean,'required':!0x0},'participant':{'type':String,'minlength':0x1}},'pushName':{'type':String},'isGroup':{'type':Boolean},'profilePictureUrl':{'type':String},'participant':{'type':String},'message':{'type':Object},'messageType':{'type':String},'message_normalized':{'type':Object},'source':{'type':String},'messageTimestamp':{'type':Number,'required':!0x0},'owner':{'type':String,'required':!0x0,'minlength':0x1},'status':{'type':String},'expiration':{'type':Number}}),na=_0x26d987=>{const _0x5d5962=a0_0x6d27f9;let _0x21a86d='z_'+_0x26d987+'_Messages';return R?.[_0x5d5962(0x4bc)](_0x5d5962(0x308),ri,_0x21a86d);},ca=require(a0_0x6d27f9(0x55f)),ms=class{},ni=new ca[(a0_0x6d27f9(0x6c3))]({'_id':{'type':String,'_id':!0x0},'jwt':{'type':String,'minlength':0x1},'apikey':{'type':String,'minlength':0x1},'owner':{'type':String},'online':{'type':Boolean},'lastDisconnect':{'type':Number},'ip':{'type':String}}),la=R?.[a0_0x6d27f9(0x4bc)](ms[a0_0x6d27f9(0x552)],ni,a0_0x6d27f9(0x15c)),ua=require(a0_0x6d27f9(0x55f)),fs=class{},da=new ua[(a0_0x6d27f9(0x6c3))]({'_id':{'type':String,'_id':!0x0},'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0},'groups_ignore':{'type':Boolean,'required':!0x0},'flowActive':{'type':Boolean},'flowIgnoreGroups':{'type':Boolean},'flowPrefixCommand':{'type':String,'maxlength':0x1},'flowStopConversation':{'type':String},'flowStopMinutes':{'type':Number}});da[a0_0x6d27f9(0x628)](a0_0x6d27f9(0x41a),function(_0x3856ea){const _0x22f168=a0_0x6d27f9;delete this[_0x22f168(0x55b)],delete this[_0x22f168(0x105)],delete this[_0x22f168(0x3eb)],delete this['flowStopConversation'],delete this[_0x22f168(0x19d)],_0x3856ea();});var pa=R?.[a0_0x6d27f9(0x4bc)](fs[a0_0x6d27f9(0x552)],da,a0_0x6d27f9(0x79b)),x=require(a0_0x6d27f9(0x55f)),ws=require(a0_0x6d27f9(0x59c)),Ge=class{},ha=new x[(a0_0x6d27f9(0x6c3))]({'title':{'type':String},'default':{'type':Boolean},'x':{'type':Number},'y':{'type':Number}}),ys=new x[(a0_0x6d27f9(0x6c3))]({'order':{'type':Number},'blockId':{'type':String,'required':!0x0},'option':{'type':String},'optionDescription':{'type':String},'next_groupId':{'type':String}}),ci=new x[(a0_0x6d27f9(0x6c3))]({'command':{'type':String},'remoteJid':{'type':String},'text':{'type':String},'delay':{'type':Number},'linkPreview':{'type':Boolean},'audio':{'type':String},'mediatype':{'type':String},'fileName':{'type':String},'caption':{'type':String},'media':{'type':String},'name':{'type':String},'address':{'type':String},'latitude':{'type':Number},'longitude':{'type':Number},'fullName':{'type':String},'phoneNumber':{'type':String},'blockId':{'type':String},'menuType':{'type':String,'default':a0_0x6d27f9(0x4bf)},'footerText':{'type':String},'buttonText':{'type':String,'default':a0_0x6d27f9(0x29b)},'menuIgnoreNonVotes':{'type':Boolean,'default':!0x1},'menuExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'pollErrorMessage':{'type':String,'default':'Por\x20favor,\x20responda\x20à\x20última\x20mensagem\x20enviada,\x20selecionando\x20sua\x20resposta\x20entre\x20as\x20opções\x20disponíveis,\x20sem\x20digitar\x20sua\x20resposta.'},'pollOnReplyDelete':{'type':Boolean,'default':!0x0},'pollMessageOnDelete':{'type':Boolean,'default':!0x0}},{'_id':!0x1}),ga=new x[(a0_0x6d27f9(0x6c3))]({'order':{'type':Number,'required':!0x0},'OrAnd':{'type':String,'required':!0x0},'blockId':{'type':String,'required':!0x0},'firstValue':{'type':String,'required':!0x0},'expression':{'type':String,'required':!0x0},'secondValue':{'type':String}}),li=new x[(a0_0x6d27f9(0x6c3))]({'name':{'type':String},'url':{'type':String},'method':{'type':String},'header':{'type':Object,'_id':!0x1},'headerString':{'type':String},'body':{'type':Object,'_id':!0x1},'bodyString':{'type':String},'requestFile':{'type':Boolean},'bodyStringErrorParse':{'type':Boolean}},{'_id':!0x1}),ui=new x[(a0_0x6d27f9(0x6c3))]({'blockId':{'type':String},'order':{'type':Number},'onTime':{'type':Number},'activatedCount':{'type':Number},'error':{'type':Boolean},'errorLog':{'type':String},'messageId':{'type':String},'remoteJid':{'type':String},'fromMe':{'type':Boolean},'apiResponse':{'type':Object,'_id':!0x1},'apiResponseString':{'type':String},'variable':{'type':String},'oldValue':{'type':String},'newValue':{'type':String},'newStoppedUntil':{'type':Number},'moreLogs':{'type':[String]}}),Ms=new x[(a0_0x6d27f9(0x6c3))]({'folder':{'type':String},'name':{'type':String,'required':!0x0},'value':{'type':String},'doc':{'type':String},'leadInfo':{'type':Boolean}},{'_id':!0x1}),di=new x[(a0_0x6d27f9(0x6c3))]({'flowName':{'type':String},'timeInMinutes':{'type':Number},'remoteJid':{'type':String}}),ma=new x[(a0_0x6d27f9(0x6c3))]({'order':{'type':Number},'groupId':{'type':String,'required':!0x0},'type':{'type':String,'required':!0x0},'saveVariable':{'type':String},'next_groupId':{'type':String},'uazapi':{'type':ci},'apirequest':li,'stopMinutes':{'type':String},'goToFlow':{'type':String},'scheduleFlow':di,'stopIfLastReturnedError':{'type':Boolean},'maxActives':{'type':Number,'default':0x5},'stopMinutesMaxActives':{'type':Number,'default':0xa},'name':{'type':String},'doc':{'type':String},'awaitSeconds':{'type':String},'clearVariables':{'type':String}}),fa=new x['Schema']({'firstValue':{'type':String},'order':{'type':Number},'editOperator':{'type':String},'secondValue':{'type':String},'replaceValue':{'type':String},'blockId':{'type':String,'required':!0x0}}),bs=class{},Cs=new x['Schema']({'_id':{'type':String,'_id':!0x0},'owner':{'type':String,'required':!0x0},'shareFlow':{'type':Boolean,'default':!0x0},'globalShow':{'type':Boolean,'default':!0x1},'whoCanEdit':{'type':[String],'default':[]},'whoCanUse':{'type':[String],'default':[]},'variables':[Ms],'blocks':[ma],'groups':[ha],'conditions':[ga],'varedits':[fa],'replyOptions':{'type':[ys],'default':[]},'name':{'type':String},'testingWith':{'type':String},'default':{'type':Boolean,'default':!0x1},'readMessages':{'type':Boolean,'default':!0x1},'minutesToClose':{'type':Number,'default':0xa},'startCommandWord':{'type':String,'default':function(){const _0x27a8de=a0_0x6d27f9;return _0x27a8de(0x5ec)+Math[_0x27a8de(0x329)]()['toString'](0x24)[_0x27a8de(0x5cc)](0x2,0x7);},'required':!0x1,'minlength':0x5},'global':{'type':String,'default':a0_0x6d27f9(0x777)},'startID':{'type':String,'default':()=>(0x0,ws['v4'])()},'sharePass':{'type':String,'default':()=>(0x0,ws['v4'])()},'shareOwners':{'type':[String],'default':[]}});Cs[a0_0x6d27f9(0x628)](a0_0x6d27f9(0x4dd),function(_0x214f52){const _0x10501c=a0_0x6d27f9;let _0x47c95f=this[_0x10501c(0x1c2)]();if(_0x47c95f&&typeof _0x47c95f==_0x10501c(0x5c4)&&_0x10501c(0x662)in _0x47c95f){let _0x394d0c=_0x47c95f[_0x10501c(0x662)];if(_0x394d0c){let _0x2a14ed=new Set(),_0x4db3a1=new Set(_0x394d0c[_0x10501c(0x522)]?.[_0x10501c(0x5f1)](_0x29a268=>_0x29a268[_0x10501c(0x552)])),_0x374d04=JSON[_0x10501c(0x450)](_0x394d0c),_0x2384e2=/{{(?!_)([^}]*)}}/g,_0x4f2b69;for(;(_0x4f2b69=_0x2384e2[_0x10501c(0x1a0)](_0x374d04))!==null;)_0x4db3a1['has'](_0x4f2b69[0x1])||_0x2a14ed[_0x10501c(0x664)](_0x4f2b69[0x1]);_0x2a14ed[_0x10501c(0x621)]>0x0?(console[_0x10501c(0x705)](_0x10501c(0xe8),Array['from'](_0x2a14ed)),_0x394d0c[_0x10501c(0x500)]=Array[_0x10501c(0x4db)](_0x2a14ed)):_0x394d0c[_0x10501c(0x500)]=[],this['setUpdate']({'$set':_0x394d0c});}}_0x214f52();});var Es=_0xdbbda7=>{const _0x1b7449=a0_0x6d27f9;let _0x21ad8a='z_'+_0xdbbda7+_0x1b7449(0x45e);return R?.[_0x1b7449(0x4bc)]('FlowModel',Cs,_0x21ad8a);},he=R?.['model'](bs[a0_0x6d27f9(0x552)],Cs,'allFlows'),pi=new x[(a0_0x6d27f9(0x6c3))]({'realVariables':{'type':Object,'_id':!0x1},'chatVariables':[Ms],'lastReceivedMessage':{'type':Object,'_id':!0x1},'lastSendMessage':{'type':Object,'_id':!0x1},'lastCondition':{'type':Boolean},'lastBlockId':{'type':String},'blockLogs':[ui]},{'_id':!0x1}),hi=new x[(a0_0x6d27f9(0x6c3))]({'_id':{'type':String,'_id':!0x0},'flowId':{'type':String},'owner':{'type':String,'required':!0x0},'name':{'type':String,'required':!0x0},'sharePass':{'type':String},'default':{'type':Boolean,'required':!0x0},'minutesToClose':{'type':Number,'required':!0x0},'readMessages':{'type':Boolean,'required':!0x0},'testingWith':{'type':String,'required':!0x1},'startCommandWord':{'type':String,'required':!0x0,'minlength':0x5},'variables':[Ms],'blocks':[ma],'groups':[ha],'conditions':[ga],'varedits':[fa],'replyOptions':{'type':[ys],'default':[]},'chatLog':pi,'remoteJid':{'type':String},'lastInteraction':{'type':Number},'status':{'type':String,'default':a0_0x6d27f9(0x389)},'waitingMenu_id':{'type':String},'waitingMenu_text':{'type':String},'waitingMenu_ExpiredMessage':{'type':String,'default':'Esse\x20fluxo\x20expirou'},'waitingMenu_replyOptions':{'type':[ys],'default':[]}}),wa=_0x5ca254=>{const _0x5b8d2d=a0_0x6d27f9;let _0x2e8728='z_'+_0x5ca254+_0x5b8d2d(0x2a4);return R?.[_0x5b8d2d(0x4bc)]('ConversationModel',hi,_0x2e8728);},gi=new x['Schema']({'remoteJid':{'type':String},'error':{'type':Boolean},'id':{'type':String},'error_log':{'type':String},'log_timestamp':{'type':Number}},{'_id':!0x1}),mi=new x[(a0_0x6d27f9(0x6c3))]({'text':{'type':String},'delay':{'type':Number},'urlOrBase64':{'type':String},'linkPreview':{'type':Boolean},'mediatype':{'type':String},'fileName':{'type':String}},{'_id':!0x1}),fi=new x['Schema']({'owner':{'type':String},'status':{'type':String,'default':a0_0x6d27f9(0x5ab)},'info':{'type':String},'type':{'type':String},'flowName':{'type':String},'message':{'type':mi,'default':{}},'remoteJids':{'type':[String],'default':[]},'when':{'type':Number},'delaySecMin':{'type':Number},'delaySecMax':{'type':Number},'messagesSend':{'type':[gi],'default':[]},'remoteJidsRemaining':{'type':[String],'default':[]},'startSend':{'type':Number}}),ya=_0x2c9d44=>{const _0x2481eb=a0_0x6d27f9;let _0x25369c='z_'+_0x2c9d44+'_ScheduleMessages';return R?.[_0x2481eb(0x4bc)](_0x2481eb(0x311),fi,_0x25369c);},Ss=class{},wi=new x[(a0_0x6d27f9(0x6c3))]({'_id':{'type':String},'order':{'type':Number},'command':{'type':String},'message':{'type':String}}),yi=new x[(a0_0x6d27f9(0x6c3))]({'_id':{'type':String,'_id':!0x0},'name':{'type':String},'startCommand':{'type':String},'default':{'type':Boolean},'minutesToClose':{'type':Number},'readMessages':{'type':Boolean},'testingWith':{'type':String},'canEdit':{'type':Boolean}}),bi=new x['Schema']({'_id':{'type':String,'_id':!0x0},'order':{'type':Number},'name':{'type':String}}),Si=new x['Schema']({'enabled':{'type':Boolean,'default':!0x1},'ignoreGroups':{'type':Boolean,'default':!0x0},'stopConversation':{'type':String,'default':'!stop'},'stopMinutes':{'type':Number,'default':0x14},'stopWhenYouSendMsg':{'type':Number,'default':0xa},'prefixCommand':{'type':String,'maxlength':0x1,'default':'!'}},{'_id':!0x1}),Mi=new x['Schema']({'_id':{'type':String,'_id':!0x0},'fone':{'type':String},'name':{'type':String},'email':{'type':String},'role':{'type':String}}),Ci=new x[(a0_0x6d27f9(0x6c3))]({'_id':{'type':String,'_id':!0x0},'agents':{'type':[Mi]},'customFields':{'type':[bi]},'flowConfig':{'type':Si,'default':{}},'flows':{'type':[yi],'default':[]},'autoCompleteMessages':{'type':[wi],'default':[]}}),$e=R?.['model'](Ss['name'],Ci,a0_0x6d27f9(0x3d6)),ba=require(a0_0x6d27f9(0x55f)),Ei=new ba['Schema']({'_id':{'type':String},'name':{'type':String},'colorHex':{'type':String},'color':{'type':Number},'owner':{'type':String,'required':!0x0}}),Sa=_0x120a20=>{const _0x303c57=a0_0x6d27f9;let _0x42352f='z_'+_0x120a20+_0x303c57(0x68b);return R?.[_0x303c57(0x4bc)]('LabelModel',Ei,_0x42352f);},O=class{constructor(_0x3aba03){const _0x3c2159=a0_0x6d27f9;this[_0x3c2159(0x7de)]=_0x3aba03['get'](_0x3c2159(0x653));}};function I(_0x5532d0){const _0x1d6b96=a0_0x6d27f9;let _0x579db4={};for(let [_0x2bf3bc,_0x56ce7d]of Object[_0x1d6b96(0x292)](_0x5532d0))if(typeof _0x56ce7d==_0x1d6b96(0x5c4)&&!Array['isArray'](_0x56ce7d)){for(let [_0xba3445,_0x2ae104]of Object[_0x1d6b96(0x292)](_0x56ce7d))_0x579db4[_0x2bf3bc+'.'+_0xba3445]=_0x2ae104;}else _0x579db4[_0x2bf3bc]=_0x56ce7d;return _0x579db4;}var Be=class{constructor(_0x3c662b,_0x4a536c,_0x3ad146,_0x160890,_0x35cc2a,_0x432d7e,_0xce6a75,_0x1bb2c0,_0x2f036f,_0x55bcfd,_0x2a9c71,_0xe58fc,_0x846c6b){const _0x584d0d=a0_0x6d27f9;this['message']=_0x3c662b,this[_0x584d0d(0x463)]=_0x4a536c,this['contact']=_0x3ad146,this[_0x584d0d(0x325)]=_0x160890,this[_0x584d0d(0x79b)]=_0x35cc2a,this[_0x584d0d(0x51e)]=_0x432d7e,this['instance']=_0xce6a75,this[_0x584d0d(0x43d)]=_0x1bb2c0,this[_0x584d0d(0x49b)]=_0x2f036f,this['label']=_0x55bcfd,this[_0x584d0d(0x51d)]=_0x2a9c71,this['automateSystem']=_0xe58fc,this[_0x584d0d(0x26d)]=_0x846c6b;}get[a0_0x6d27f9(0x7df)](){const _0x319ef5=a0_0x6d27f9;return this[_0x319ef5(0x26d)];}},We=class{},ze=class extends O{[a0_0x6d27f9(0x1bd)](_0x58849a){return na(_0x58849a);}async[a0_0x6d27f9(0x6b5)](_0x5888fa,_0x1a1a44){const _0x40dd76=a0_0x6d27f9;if(_0x5888fa[_0x40dd76(0x4b3)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x40dd76(0x1bd)](_0x1a1a44)['insertMany']([..._0x5888fa]))[_0x40dd76(0x4b3)]};}catch(_0x3ab8ee){return _0x3ab8ee;}}async[a0_0x6d27f9(0x37d)](_0xa6b59c,_0x268347){const _0x4ee7e2=a0_0x6d27f9;try{let _0x37e760=this[_0x4ee7e2(0x1bd)](_0x268347),_0x4d73a9=I(_0xa6b59c[_0x4ee7e2(0x771)]);return await _0x37e760['find'](_0x4d73a9)[_0x4ee7e2(0x349)]({'messageTimestamp':-0x1})[_0x4ee7e2(0x22f)](_0xa6b59c?.[_0x4ee7e2(0x22f)]??0x0)[_0x4ee7e2(0x57a)]();}catch{return[];}}async['delete'](_0x191041,_0x3633a1){const _0x4d2960=a0_0x6d27f9;try{let _0x13ce5f=this[_0x4d2960(0x1bd)](_0x3633a1),_0x4a466a=I(_0x191041[_0x4d2960(0x771)]);await _0x13ce5f[_0x4d2960(0x65a)](_0x4a466a);}catch(_0x4c50cd){console[_0x4d2960(0x782)](_0x4c50cd);}}async['update'](_0x1e4908,_0x461270,_0x59e586){const _0x5293ef=a0_0x6d27f9;try{let _0x1c1861=this[_0x5293ef(0x1bd)](_0x59e586),_0x35b858=I(_0x1e4908[_0x5293ef(0x771)]);return await _0x1c1861['findOneAndUpdate'](_0x35b858,{'$set':_0x461270},{'new':!0x0});}catch(_0x136698){throw console[_0x5293ef(0x782)](_0x136698),_0x136698;}}async[a0_0x6d27f9(0x1d0)](_0x5484c1,_0x2e2e0a){const _0x447b22=a0_0x6d27f9;if(_0x5484c1[_0x447b22(0x4b3)]===0x0)return{'insertCount':0x0};try{return{'insertCount':(await this[_0x447b22(0x1bd)](_0x2e2e0a)['insertMany']([..._0x5484c1]))['length']};}catch(_0x3f8e54){return console[_0x447b22(0x2ac)](_0x447b22(0x5fe),_0x3f8e54),_0x3f8e54;}}async['deleteAll'](_0x418a17){const _0x350aa4=a0_0x6d27f9;try{return await this[_0x350aa4(0x1bd)](_0x418a17)['collection'][_0x350aa4(0x1ed)](),{'success':!0x0};}catch(_0x2bc66f){return console[_0x350aa4(0x782)](_0x2bc66f),{'success':!0x1,'error':_0x2bc66f};}}},xs=A(require(a0_0x6d27f9(0x6d1))),w=A(require(a0_0x6d27f9(0x1ae))),De=require('fs'),U=A(require(a0_0x6d27f9(0x4a4))),Q=A(require(a0_0x6d27f9(0x1a8))),Ro=require('uuid'),Ao=A(require(a0_0x6d27f9(0x470))),Io=A(require(a0_0x6d27f9(0x412))),Ma=[a0_0x6d27f9(0x488),'documentMessage',a0_0x6d27f9(0x681),'videoMessage',a0_0x6d27f9(0x483)],Ca=['ephemeralMessage',a0_0x6d27f9(0x51b),a0_0x6d27f9(0x620),a0_0x6d27f9(0x3e1)],Ds=require('os'),Lt=A(require(a0_0x6d27f9(0x19c))),Pe=require('child_process'),To=require(a0_0x6d27f9(0x786)),pe=A(require(a0_0x6d27f9(0x55f))),k=require(a0_0x6d27f9(0x10c)),ce=class{constructor(_0x107a00,_0x5c0e7a,_0x19fd1e){const _0x4cdb68=a0_0x6d27f9;this[_0x4cdb68(0x7f7)]=_0x107a00,this['exists']=_0x5c0e7a,this[_0x4cdb68(0x552)]=_0x19fd1e;}},He=class{},Ke=class{},Re=class{},Qe=class{},Ye=class{},Se=class{},Xe=class{},Ze=class{},et=class{},tt=class{},Ot=A(require(a0_0x6d27f9(0x569))),Ea=require('fs'),va=require(a0_0x6d27f9(0x4a4));async function Ae(_0x189e90){const _0x10b88e=a0_0x6d27f9;let _0x4979a1=G[_0x10b88e(0x182)][_0x189e90];if(F[_0x10b88e(0x43a)]){let _0x388c00=R['getClient']()['db'](F[_0x10b88e(0x540)]['DB_PREFIX_NAME']+_0x10b88e(0xfe))[_0x10b88e(0x594)](_0x189e90);return _0x4979a1||(await _0x388c00['find']({})[_0x10b88e(0xda)]())[_0x10b88e(0x4b3)]>0x0;}return _0x4979a1||(0x0,Ea['existsSync'])((0x0,va['join'])(ye,_0x189e90));}async function Na(_0x5c00c5,_0x151b6b,_0x512bc7){const _0x290915=a0_0x6d27f9;if(_0x5c00c5[_0x290915(0x6fb)][_0x290915(0x562)](_0x290915(0x718))||_0x5c00c5['originalUrl']['includes']('/instance/fetchInstances')||_0x5c00c5[_0x290915(0x6fb)]['includes']('/exit')||_0x5c00c5[_0x290915(0x6fb)]['includes'](_0x290915(0x28c))||_0x5c00c5[_0x290915(0x6fb)][_0x290915(0x562)](_0x290915(0x7c6))||_0x5c00c5[_0x290915(0x6fb)][_0x290915(0x562)](_0x290915(0x2c5))||_0x5c00c5['originalUrl'][_0x290915(0x562)](_0x290915(0x58f)))return _0x512bc7();let _0xbf7f6f=_0x5c00c5[_0x290915(0x283)];if(!_0xbf7f6f?.[_0x290915(0x383)])throw new m(_0x290915(0x4cc));if(!await Ae(_0xbf7f6f[_0x290915(0x383)]))throw new J(_0x290915(0x287)+_0xbf7f6f['instanceName']+_0x290915(0x596));_0x512bc7();}async function $a(_0x35266f,_0x2e0d9c,_0x5fc54){const _0x4edac8=a0_0x6d27f9;if(_0x35266f[_0x4edac8(0x6fb)]['includes'](_0x4edac8(0x718))){let _0x5ca2cc=_0x35266f[_0x4edac8(0x356)];if(await Ae(_0x5ca2cc['instanceName']))throw new Y('This\x20name\x20'+_0x5ca2cc[_0x4edac8(0x383)]+'\x20is\x20already\x20in\x20use.');G[_0x4edac8(0x182)][_0x5ca2cc[_0x4edac8(0x383)]]&&delete G[_0x4edac8(0x182)][_0x5ca2cc[_0x4edac8(0x383)]];}_0x5fc54();}var Ra=require(a0_0x6d27f9(0x10c)),Aa=A(require(a0_0x6d27f9(0x50b))),st=a0_0x6d27f9(0x69b),Ni=new $(a0_0x6d27f9(0x32c));async function $i(_0x204858,_0x40647a,_0x168a9e){const _0x3e498e=a0_0x6d27f9;let _0x58da6f=_0x204858[_0x3e498e(0x693)]('apikey');if(_0x58da6f&&b[_0x3e498e(0x693)](_0x3e498e(0x409))[_0x3e498e(0x5f4)]['KEY']!==_0x58da6f)throw new oe();if(b['get']('AUTHENTICATION')[_0x3e498e(0x5f4)][_0x3e498e(0x2d8)]===_0x58da6f)return _0x168a9e();if((_0x204858[_0x3e498e(0x6fb)][_0x3e498e(0x562)]('/instance/create')||_0x204858[_0x3e498e(0x6fb)]['includes'](_0x3e498e(0x17e)))&&!_0x58da6f)throw new Y(_0x3e498e(0x1a9),_0x3e498e(0x7d9));let _0x59969a=b[_0x3e498e(0x693)](_0x3e498e(0x409))[_0x3e498e(0x236)];try{let [_0xda1a14,_0x385d54]=_0x204858['get']('authorization')['split']('\x20');if(_0xda1a14[_0x3e498e(0x1b4)]()!==_0x3e498e(0x305))throw new oe();if(!(0x0,Ra['isJWT'])(_0x385d54))throw new oe();let _0xa15f21=_0x204858[_0x3e498e(0x283)],_0x1e57d0=Aa[_0x3e498e(0x49c)]['verify'](_0x385d54,_0x59969a[_0x3e498e(0x17c)],{'ignoreExpiration':_0x59969a[_0x3e498e(0x185)]===0x0});if(_0xa15f21[_0x3e498e(0x383)]!==_0x1e57d0[_0x3e498e(0x383)]||st!==_0x1e57d0[_0x3e498e(0x424)])throw new oe();return _0x168a9e();}catch(_0x2eae15){throw Ni[_0x3e498e(0x782)](_0x2eae15),new oe();}}async function Ri(_0x4ca5f4,_0x4f2986,_0x3e0796){const _0x4860de=a0_0x6d27f9;let _0x2a814a=b[_0x4860de(0x693)](_0x4860de(0x409))[_0x4860de(0x5f4)],_0x482b24=_0x4ca5f4[_0x4860de(0x693)](_0x4860de(0x226));if(_0x2a814a['KEY']===_0x482b24)return _0x3e0796();if(_0x4ca5f4['originalUrl'][_0x4860de(0x562)](_0x4860de(0x718))){let _0x33eb63=Ta,_0x4fa4d0=_0x4ca5f4[_0x4860de(0x356)][_0x4860de(0x383)];if(_0x33eb63&&_0x4fa4d0['toLowerCase']()[_0x4860de(0x1e3)](_0x33eb63[_0x4860de(0x1b4)]()))return _0x3e0796();if(!_0x482b24)throw new Y(_0x4860de(0x1a9),_0x4860de(0x7d9));}if(_0x4ca5f4[_0x4860de(0x6fb)][_0x4860de(0x562)](_0x4860de(0x17e))&&!_0x482b24)throw new Y('Missing\x20global\x20api\x20key',_0x4860de(0x7d9));if(_0x4ca5f4[_0x4860de(0x6fb)]['includes']('/exit')&&!_0x482b24)throw new Y('Missing\x20global\x20api\x20key',_0x4860de(0x7d9));if(_0x4ca5f4['originalUrl']['includes'](_0x4860de(0x28c))&&!_0x482b24)throw new Y(_0x4860de(0x1a9),'The\x20global\x20api\x20key\x20must\x20be\x20set');try{let _0x545e7d=_0x4ca5f4[_0x4860de(0x283)],_0x1696a0=await ge[_0x4860de(0x51e)][_0x4860de(0x37d)](_0x545e7d[_0x4860de(0x383)]);if(_0x1696a0&&_0x1696a0[_0x4860de(0x226)]===_0x482b24)return _0x3e0796();}catch{}throw new oe();}var Ia={'jwt':$i,'apikey':Ri},uo=require(a0_0x6d27f9(0x569)),E=require(a0_0x6d27f9(0x59c)),C=(..._0x4be10b)=>{const _0x22ab4e=a0_0x6d27f9;let _0x2ae842={};return _0x4be10b[_0x22ab4e(0x48c)](_0x286468=>_0x2ae842[_0x286468]={'minLength':0x1,'description':'The\x20\x22'+_0x286468+_0x22ab4e(0x220)}),{'if':{'propertyNames':{'enum':[..._0x4be10b]}},'then':{'properties':_0x2ae842}};},v={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'instanceName':{'type':a0_0x6d27f9(0x7fc)}},...C(a0_0x6d27f9(0x383))},mc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'oldToken':{'type':a0_0x6d27f9(0x7fc)}},'required':['oldToken'],...C('oldToken')},fc={'properties':{'key':{'type':a0_0x6d27f9(0x5c4),'properties':{'id':{'type':'string'},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]}},'required':['id',a0_0x6d27f9(0x455),a0_0x6d27f9(0x60e)],...C('id',a0_0x6d27f9(0x455))},'message':{'type':a0_0x6d27f9(0x5c4)}}},X={'properties':{'delay':{'type':a0_0x6d27f9(0x453),'description':a0_0x6d27f9(0x36b)},'presence':{'type':'string','enum':[a0_0x6d27f9(0x25f),a0_0x6d27f9(0x3d7),a0_0x6d27f9(0x59e),a0_0x6d27f9(0x769),a0_0x6d27f9(0x256)]}}},H={'type':a0_0x6d27f9(0x7fc),'description':a0_0x6d27f9(0x7d0)},Oa={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'number':{...H},'options':{...X},'textMessage':{'type':a0_0x6d27f9(0x5c4),'properties':{'text':{'type':a0_0x6d27f9(0x7fc)}},'required':[a0_0x6d27f9(0x4a9)],...C(a0_0x6d27f9(0x4a9))}},'required':[a0_0x6d27f9(0x5d0),a0_0x6d27f9(0x110)]},_a={'type':a0_0x6d27f9(0x7fc),'pattern':a0_0x6d27f9(0x1b9),'description':a0_0x6d27f9(0x7d0)},wc={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'number':{..._a},'options':{...X},'textMessage':{'type':'object','properties':{'text':{'type':a0_0x6d27f9(0x7fc)}},'required':[a0_0x6d27f9(0x4a9)],...C(a0_0x6d27f9(0x4a9))}},'required':[a0_0x6d27f9(0x5d0),a0_0x6d27f9(0x110)]},yc={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'number':{..._a},'options':{...X},'mediaMessage':{'type':a0_0x6d27f9(0x5c4),'properties':{'mediatype':{'type':a0_0x6d27f9(0x7fc),'enum':['image',a0_0x6d27f9(0x6cf),'video',a0_0x6d27f9(0x4bd)]},'media':{'type':a0_0x6d27f9(0x7fc)},'fileName':{'type':a0_0x6d27f9(0x7fc)},'caption':{'type':a0_0x6d27f9(0x7fc)}},'required':[a0_0x6d27f9(0x39e),a0_0x6d27f9(0x585)],...C(a0_0x6d27f9(0x709),a0_0x6d27f9(0x4a1),'media')}},'required':['mediaMessage',a0_0x6d27f9(0x110)]},xa={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'number':{...H},'options':{...X},'stickerMessage':{'type':'object','properties':{'image':{'type':'string'}},'required':['image'],...C(a0_0x6d27f9(0x2c9))}},'required':[a0_0x6d27f9(0x483),a0_0x6d27f9(0x110)]},Da={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'statusMessage':{'type':a0_0x6d27f9(0x5c4),'properties':{'type':{'type':a0_0x6d27f9(0x7fc),'enum':[a0_0x6d27f9(0x4a9),a0_0x6d27f9(0x2c9),a0_0x6d27f9(0x4bd),a0_0x6d27f9(0x6eb)]},'content':{'type':a0_0x6d27f9(0x7fc)},'caption':{'type':a0_0x6d27f9(0x7fc)},'backgroundColor':{'type':a0_0x6d27f9(0x7fc)},'font':{'type':a0_0x6d27f9(0x453),'minimum':0x0,'maximum':0x5},'statusJidList':{'type':a0_0x6d27f9(0x4f7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x6d27f9(0x7fc),'pattern':a0_0x6d27f9(0x214),'description':a0_0x6d27f9(0x5b5)}},'allContacts':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]}},'required':[a0_0x6d27f9(0x5cb),a0_0x6d27f9(0x6dc)],...C('type',a0_0x6d27f9(0x6dc))}},'required':['statusMessage']},Pa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'options':{...X},'mediaMessage':{'type':a0_0x6d27f9(0x5c4),'properties':{'mediatype':{'type':a0_0x6d27f9(0x7fc),'enum':[a0_0x6d27f9(0x2c9),a0_0x6d27f9(0x6cf),a0_0x6d27f9(0x6eb),a0_0x6d27f9(0x4bd)]},'media':{'type':'string'},'fileName':{'type':a0_0x6d27f9(0x7fc)},'caption':{'type':'string'}},'required':[a0_0x6d27f9(0x39e),a0_0x6d27f9(0x585)],...C(a0_0x6d27f9(0x709),'caption',a0_0x6d27f9(0x585))}},'required':[a0_0x6d27f9(0xdc),a0_0x6d27f9(0x110)]},ka={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'number':{...H},'options':{...X},'audioMessage':{'type':a0_0x6d27f9(0x5c4),'properties':{'audio':{'type':'string'}},'required':[a0_0x6d27f9(0x4bd)],...C(a0_0x6d27f9(0x4bd))}},'required':[a0_0x6d27f9(0x681),a0_0x6d27f9(0x110)]},La={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'number':{...H},'pollMessage':{'type':a0_0x6d27f9(0x5c4),'properties':{'name':{'type':a0_0x6d27f9(0x7fc)},'selectableCount':{'type':a0_0x6d27f9(0x110)},'values':{'type':'array','minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x6d27f9(0x552),'selectableCount',a0_0x6d27f9(0xe2)],...C(a0_0x6d27f9(0x552),'selectableCount',a0_0x6d27f9(0xe2))}},'required':[a0_0x6d27f9(0x110),a0_0x6d27f9(0x6a4)]},Fa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'number':{...H},'menuMessage':{'type':a0_0x6d27f9(0x5c4),'properties':{'text':{'type':'string'},'choices':{'type':a0_0x6d27f9(0x4f7),'minItems':0x2,'uniqueItems':!0x0}},'required':[a0_0x6d27f9(0x4a9),'choices'],...C(a0_0x6d27f9(0x4a9),a0_0x6d27f9(0x1de))}},'required':[a0_0x6d27f9(0x110),a0_0x6d27f9(0x1ad)]},Ua={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'number':{...H},'options':{...X},'buttonMessage':{'type':a0_0x6d27f9(0x5c4),'properties':{'title':{'type':a0_0x6d27f9(0x7fc)},'description':{'type':'string'},'footerText':{'type':a0_0x6d27f9(0x7fc)},'buttons':{'type':a0_0x6d27f9(0x4f7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'object','properties':{'buttonText':{'type':a0_0x6d27f9(0x7fc)},'buttonId':{'type':a0_0x6d27f9(0x7fc)}},'required':[a0_0x6d27f9(0x6be),a0_0x6d27f9(0x799)],...C(a0_0x6d27f9(0x6be),a0_0x6d27f9(0x799))}},'mediaMessage':{'type':'object','properties':{'media':{'type':a0_0x6d27f9(0x7fc)},'fileName':{'type':a0_0x6d27f9(0x7fc)},'mediatype':{'type':a0_0x6d27f9(0x7fc),'enum':[a0_0x6d27f9(0x2c9),a0_0x6d27f9(0x6cf),a0_0x6d27f9(0x6eb)]}},'required':[a0_0x6d27f9(0x585),a0_0x6d27f9(0x39e)],...C(a0_0x6d27f9(0x585),a0_0x6d27f9(0x709))}},'required':[a0_0x6d27f9(0x420),a0_0x6d27f9(0x18e)],...C('title',a0_0x6d27f9(0x32a))}},'required':['number','buttonMessage']},ja={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'number':{...H},'options':{...X},'locationMessage':{'type':'object','properties':{'latitude':{'type':a0_0x6d27f9(0x110)},'longitude':{'type':a0_0x6d27f9(0x110)},'name':{'type':a0_0x6d27f9(0x7fc)},'address':{'type':a0_0x6d27f9(0x7fc)}},'required':[a0_0x6d27f9(0x12c),'longitude'],...C(a0_0x6d27f9(0x552),a0_0x6d27f9(0x492))}},'required':[a0_0x6d27f9(0x110),a0_0x6d27f9(0x378)]},Ja={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'number':{...H},'options':{...X},'listMessage':{'type':'object','properties':{'title':{'type':a0_0x6d27f9(0x7fc)},'description':{'type':a0_0x6d27f9(0x7fc)},'footerText':{'type':a0_0x6d27f9(0x7fc)},'buttonText':{'type':'string'},'sections':{'type':a0_0x6d27f9(0x4f7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x6d27f9(0x5c4),'properties':{'title':{'type':a0_0x6d27f9(0x7fc)},'rows':{'type':a0_0x6d27f9(0x4f7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x6d27f9(0x5c4),'properties':{'title':{'type':a0_0x6d27f9(0x7fc)},'description':{'type':a0_0x6d27f9(0x7fc)},'rowId':{'type':a0_0x6d27f9(0x7fc)}},'required':[a0_0x6d27f9(0x420),a0_0x6d27f9(0x683)],...C(a0_0x6d27f9(0x420),a0_0x6d27f9(0x683))}}},'required':[a0_0x6d27f9(0x420),a0_0x6d27f9(0x5a9)],...C('title')}}},'required':['title',a0_0x6d27f9(0x32a),'buttonText','sections'],...C(a0_0x6d27f9(0x420),'description',a0_0x6d27f9(0x6be),a0_0x6d27f9(0x448))}},'required':['number',a0_0x6d27f9(0x27b)]},qa={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'number':{...H},'options':{...X},'contactMessage':{'type':'array','items':{'type':a0_0x6d27f9(0x5c4),'properties':{'fullName':{'type':a0_0x6d27f9(0x7fc)},'phoneNumber':{'type':a0_0x6d27f9(0x7fc),'minLength':0xa}},'required':[a0_0x6d27f9(0x4c4),a0_0x6d27f9(0x4e0)],...C(a0_0x6d27f9(0x4c4))},'minItems':0x1,'uniqueItems':!0x0}},'required':[a0_0x6d27f9(0x110),'contactMessage']},Va={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'reactionMessage':{'type':'object','properties':{'key':{'type':'object','properties':{'id':{'type':a0_0x6d27f9(0x7fc)},'remoteJid':{'type':'string'},'fromMe':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]}},'required':['id',a0_0x6d27f9(0x455),'fromMe'],...C('id',a0_0x6d27f9(0x455))},'reaction':{'type':'string'}},'required':['key',a0_0x6d27f9(0x5db)],...C('reaction')}},'required':[a0_0x6d27f9(0x31c)]},Ga={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'numbers':{'type':a0_0x6d27f9(0x4f7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':'string','pattern':'^\x5cd+','description':'\x22numbers\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings'}}}},Ba={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'readMessages':{'type':a0_0x6d27f9(0x4f7),'minItems':0x1,'uniqueItems':!0x0,'items':{'properties':{'id':{'type':a0_0x6d27f9(0x7fc)},'fromMe':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x6d27f9(0x7fc)}},'required':['id',a0_0x6d27f9(0x60e),'remoteJid'],...C('id',a0_0x6d27f9(0x455))}}},'required':[a0_0x6d27f9(0x440)]},Wa={'$id':(0x0,E['v4'])(),'type':'object','properties':{'privacySettings':{'type':'object','properties':{'readreceipts':{'type':a0_0x6d27f9(0x7fc),'enum':[a0_0x6d27f9(0x1ea),a0_0x6d27f9(0x330)]},'profile':{'type':a0_0x6d27f9(0x7fc),'enum':[a0_0x6d27f9(0x1ea),a0_0x6d27f9(0x7e8),a0_0x6d27f9(0x7a5),a0_0x6d27f9(0x330)]},'status':{'type':a0_0x6d27f9(0x7fc),'enum':[a0_0x6d27f9(0x1ea),a0_0x6d27f9(0x7e8),a0_0x6d27f9(0x7a5),a0_0x6d27f9(0x330)]},'online':{'type':a0_0x6d27f9(0x7fc),'enum':['all',a0_0x6d27f9(0x605)]},'last':{'type':a0_0x6d27f9(0x7fc),'enum':[a0_0x6d27f9(0x1ea),a0_0x6d27f9(0x7e8),a0_0x6d27f9(0x7a5),a0_0x6d27f9(0x330)]},'groupadd':{'type':'string','enum':[a0_0x6d27f9(0x1ea),'contacts',a0_0x6d27f9(0x7a5),'none']}},'required':[a0_0x6d27f9(0x64d),a0_0x6d27f9(0x479),'status',a0_0x6d27f9(0x5cf),a0_0x6d27f9(0x37e),a0_0x6d27f9(0x173)],...C('readreceipts',a0_0x6d27f9(0x479),a0_0x6d27f9(0x538),'online',a0_0x6d27f9(0x37e),a0_0x6d27f9(0x173))}},'required':['privacySettings']},za={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'lastMessage':{'type':a0_0x6d27f9(0x5c4),'properties':{'key':{'type':a0_0x6d27f9(0x5c4),'properties':{'id':{'type':a0_0x6d27f9(0x7fc)},'remoteJid':{'type':a0_0x6d27f9(0x7fc)},'fromMe':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]}},'required':['id',a0_0x6d27f9(0x60e),a0_0x6d27f9(0x455)],...C('id',a0_0x6d27f9(0x455))},'messageTimestamp':{'type':a0_0x6d27f9(0x453),'minLength':0x1}},'required':[a0_0x6d27f9(0x663)],...C(a0_0x6d27f9(0x1f6))},'archive':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]}},'required':[a0_0x6d27f9(0x2c4),a0_0x6d27f9(0x66b)]},Ha={'$id':(0x0,E['v4'])(),'type':'object','properties':{'id':{'type':a0_0x6d27f9(0x7fc)},'fromMe':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]},'remoteJid':{'type':a0_0x6d27f9(0x7fc)},'participant':{'type':a0_0x6d27f9(0x7fc)}},'required':['id',a0_0x6d27f9(0x60e),a0_0x6d27f9(0x455)],...C('id',a0_0x6d27f9(0x455),a0_0x6d27f9(0x626))},Ka={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'where':{'type':'object','properties':{'_id':{'type':a0_0x6d27f9(0x7fc),'minLength':0x1},'pushName':{'type':a0_0x6d27f9(0x7fc),'minLength':0x1},'id':{'type':a0_0x6d27f9(0x7fc),'minLength':0x1}},...C(a0_0x6d27f9(0x3b9),'id','pushName')}}},Qa={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'name':{'type':a0_0x6d27f9(0x7fc)}},...C('name')},Ya={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'status':{'type':a0_0x6d27f9(0x7fc)}},...C(a0_0x6d27f9(0x538))},Ie={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'number':{'type':a0_0x6d27f9(0x7fc)},'picture':{'type':a0_0x6d27f9(0x7fc)}}},Xa={'type':a0_0x6d27f9(0x5c4),'properties':{'wuid':{'type':'string'},'name':{'type':a0_0x6d27f9(0x7fc)},'picture':{'type':a0_0x6d27f9(0x7fc)},'status':{'type':a0_0x6d27f9(0x7fc)},'isBusiness':{'type':a0_0x6d27f9(0x7db)}}},Za={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'where':{'type':a0_0x6d27f9(0x5c4),'properties':{'_id':{'type':a0_0x6d27f9(0x7fc),'minLength':0x1},'key':{'type':a0_0x6d27f9(0x5c4),'if':{'propertyNames':{'enum':['fromMe','remoteJid','id']}},'then':{'properties':{'remoteJid':{'type':a0_0x6d27f9(0x7fc),'minLength':0x1,'description':a0_0x6d27f9(0x7fd)},'id':{'type':a0_0x6d27f9(0x7fc),'minLength':0x1,'description':a0_0x6d27f9(0x7fd)},'fromMe':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]}}}},'message':{'type':a0_0x6d27f9(0x5c4)}},...C(a0_0x6d27f9(0x3b9))},'limit':{'type':a0_0x6d27f9(0x453)}}},bc={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'where':{'type':a0_0x6d27f9(0x5c4),'properties':{'_id':{'type':a0_0x6d27f9(0x7fc)},'remoteJid':{'type':a0_0x6d27f9(0x7fc)},'id':{'type':a0_0x6d27f9(0x7fc)},'fromMe':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]},'participant':{'type':'string'},'status':{'type':a0_0x6d27f9(0x7fc),'enum':[a0_0x6d27f9(0xf9),a0_0x6d27f9(0x3d1),a0_0x6d27f9(0x517),a0_0x6d27f9(0x583),a0_0x6d27f9(0x247),a0_0x6d27f9(0x426)]}},...C('_id',a0_0x6d27f9(0x455),'id',a0_0x6d27f9(0x538))},'limit':{'type':a0_0x6d27f9(0x453)}}},eo={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'number':{...H},'presence':{'type':a0_0x6d27f9(0x7fc),'enum':[a0_0x6d27f9(0x25f),a0_0x6d27f9(0x3d7),a0_0x6d27f9(0x59e),'recording',a0_0x6d27f9(0x256)]}},'required':['presence',a0_0x6d27f9(0x110)]},to={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'subject':{'type':a0_0x6d27f9(0x7fc)},'description':{'type':a0_0x6d27f9(0x7fc)},'profilePicture':{'type':a0_0x6d27f9(0x7fc)},'participants':{'type':a0_0x6d27f9(0x4f7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x6d27f9(0x7fc),'minLength':0xa,'pattern':'\x5cd+','description':a0_0x6d27f9(0x4ea)}}},'required':[a0_0x6d27f9(0x7d5),a0_0x6d27f9(0x4ab)],...C(a0_0x6d27f9(0x7d5),a0_0x6d27f9(0x32a),'profilePicture')},Te={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':'string','pattern':a0_0x6d27f9(0x507)}},'required':[a0_0x6d27f9(0x56c)],...C(a0_0x6d27f9(0x56c))},so={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'groupJid':{'type':'string'},'action':{'type':'string','enum':[a0_0x6d27f9(0x664),a0_0x6d27f9(0x746),'promote',a0_0x6d27f9(0x34f),a0_0x6d27f9(0x6d5),a0_0x6d27f9(0x711)]},'participants':{'type':a0_0x6d27f9(0x4f7),'minItems':0x1,'uniqueItems':!0x0,'items':{'type':a0_0x6d27f9(0x7fc),'minLength':0xa,'pattern':a0_0x6d27f9(0x6c2),'description':a0_0x6d27f9(0x4ea)}}},'required':[a0_0x6d27f9(0x56c),a0_0x6d27f9(0x315),a0_0x6d27f9(0x4ab)],...C(a0_0x6d27f9(0x56c),a0_0x6d27f9(0x315))},ao={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'groupJid':{'type':a0_0x6d27f9(0x7fc)},'expiration':{'type':a0_0x6d27f9(0x110),'enum':[0x0,0x15180,0x93a80,0x76a700]}},'required':[a0_0x6d27f9(0x56c),'expiration'],...C('groupJid',a0_0x6d27f9(0x11b))},oo={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'groupJid':{'type':'string'},'image':{'type':a0_0x6d27f9(0x7fc)}},'required':[a0_0x6d27f9(0x56c),'image'],...C(a0_0x6d27f9(0x56c),a0_0x6d27f9(0x2c9))},io={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'groupJid':{'type':a0_0x6d27f9(0x7fc)},'description':{'type':a0_0x6d27f9(0x7fc)}},'required':[a0_0x6d27f9(0x56c),a0_0x6d27f9(0x32a)],...C(a0_0x6d27f9(0x56c),'description')},ro={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'groupJid':{'type':'string'},'name':{'type':a0_0x6d27f9(0x7fc)}},'required':[a0_0x6d27f9(0x56c),a0_0x6d27f9(0x552)],...C(a0_0x6d27f9(0x56c),'name')},no={'$id':(0x0,E['v4'])(),'type':'object','properties':{'groupJid':{'type':a0_0x6d27f9(0x7fc)},'setting':{'type':'string','enum':[a0_0x6d27f9(0x604),a0_0x6d27f9(0xd0),'unlocked','locked']}},'required':['groupJid',a0_0x6d27f9(0x581)],...C(a0_0x6d27f9(0x56c),a0_0x6d27f9(0x581))},co={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'groupJid':{'type':a0_0x6d27f9(0x7fc)},'restrict':{'type':a0_0x6d27f9(0x7db)},'announce':{'type':a0_0x6d27f9(0x7db)},'memberAddMode':{'type':a0_0x6d27f9(0x7db)},'joinApprovalMode':{'type':'boolean'},'expiration':{'type':'integer','enum':[0x0,0x15180,0x93a80,0x76a700]},'name':{'type':a0_0x6d27f9(0x7fc)},'description':{'type':a0_0x6d27f9(0x7fc)},'image':{'type':a0_0x6d27f9(0x7fc)}}},vs={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'inviteCode':{'type':a0_0x6d27f9(0x7fc)}},'required':[a0_0x6d27f9(0x3dd)],...C('inviteCode')},lo={'$id':(0x0,E['v4'])(),'type':a0_0x6d27f9(0x5c4),'properties':{'url':{'type':a0_0x6d27f9(0x7fc)},'enabled':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]}},'required':[a0_0x6d27f9(0x4ec),a0_0x6d27f9(0x4e6)]},Sc={'$id':(0x0,E['v4'])(),'type':'object','properties':{'local_map':{'type':'boolean','enum':[!0x0,!0x1]},'STATUS_INSTANCE':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]},'QRCODE_UPDATED':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]},'MESSAGES_SET':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]},'MESSAGES_UPDATE':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]},'MESSAGES_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'SEND_MESSAGE':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]},'CONTACTS_SET':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]},'CONTACTS_UPSERT':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]},'CONTACTS_UPDATE':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]},'PRESENCE_UPDATE':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_SET':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'CHATS_UPDATE':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]},'CHATS_DELETE':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]},'CONNECTION_UPDATE':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]},'GROUPS_UPSERT':{'type':'boolean','enum':[!0x0,!0x1]},'GROUPS_UPDATE':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]},'GROUP_PARTICIPANTS_UPDATE':{'type':a0_0x6d27f9(0x7db),'enum':[!0x0,!0x1]}},'required':[a0_0x6d27f9(0x7f4),'STATUS_INSTANCE',a0_0x6d27f9(0x2ec),a0_0x6d27f9(0x32f),a0_0x6d27f9(0x743),a0_0x6d27f9(0x702),'SEND_MESSAGE',a0_0x6d27f9(0x300),'CONTACTS_UPSERT',a0_0x6d27f9(0x6ce),'PRESENCE_UPDATE',a0_0x6d27f9(0x4f4),a0_0x6d27f9(0x616),'CHATS_UPDATE','CHATS_DELETE',a0_0x6d27f9(0x532),'GROUPS_UPSERT','GROUPS_UPDATE',a0_0x6d27f9(0x6e8)],...C('local_map',a0_0x6d27f9(0x1e7),a0_0x6d27f9(0x2ec),'MESSAGES_SET','MESSAGES_UPDATE',a0_0x6d27f9(0x702),'SEND_MESSAGE','CONTACTS_SET',a0_0x6d27f9(0xe0),'CONTACTS_UPDATE',a0_0x6d27f9(0x2eb),a0_0x6d27f9(0x4f4),a0_0x6d27f9(0x616),a0_0x6d27f9(0xd3),a0_0x6d27f9(0x4ba),'CONNECTION_UPDATE','GROUPS_UPSERT',a0_0x6d27f9(0x611),a0_0x6d27f9(0x6e8))},at=class{},ot=class extends O{[a0_0x6d27f9(0x501)](_0x438b8b){return sa(_0x438b8b);}async['insert'](_0x5bb82f){const _0x36b479=a0_0x6d27f9;if(_0x5bb82f[_0x36b479(0x4b3)]!==0x0)try{return{'insertCount':(await this['getContactModelForOwner'](_0x5bb82f[0x0]['owner'])[_0x36b479(0x1d0)]([..._0x5bb82f]))['length']};}catch(_0x4ec84a){return _0x4ec84a;}}async[a0_0x6d27f9(0x7b7)](_0x464133,_0x3a736f){const _0x9a2cbf=a0_0x6d27f9;try{return{'deletedCount':(await this['getContactModelForOwner'](_0x3a736f)['deleteMany']({..._0x464133[_0x9a2cbf(0x771)]}))['deletedCount']};}catch(_0x981166){return{'error':_0x981166?.['toString']()};}}async[a0_0x6d27f9(0x414)](_0x51fa31,_0xf028b8){const _0x36ec1e=a0_0x6d27f9;try{if(_0x51fa31[_0x36ec1e(0x4b3)]===0x0)return;let _0x1924c0=this['getContactModelForOwner'](_0xf028b8),_0x4e5262=_0x51fa31[_0x36ec1e(0x5f1)](_0x28632f=>({'updateOne':{'filter':{'_id':_0x28632f[_0x36ec1e(0x3b9)],'owner':_0xf028b8},'update':{..._0x28632f}}})),{modifiedCount:_0x5220b4}=await _0x1924c0[_0x36ec1e(0x7a3)](_0x4e5262);return{'insertCount':_0x5220b4};}catch{return;}}async['find'](_0x579d11,_0x561f4a){const _0x4f23b8=a0_0x6d27f9;try{let _0xc1f4fb=this[_0x4f23b8(0x501)](_0x561f4a),_0x4032e2=I(_0x579d11[_0x4f23b8(0x771)]);return await _0xc1f4fb[_0x4f23b8(0x37d)](_0x4032e2)[_0x4f23b8(0x22f)](_0x579d11?.[_0x4f23b8(0x22f)]??0x0)['lean']();}catch{return[];}}async[a0_0x6d27f9(0x206)](_0xacf0bf,_0x76e627){const _0x5edaf6=a0_0x6d27f9;try{let _0x65a186=this[_0x5edaf6(0x501)](_0x76e627),_0x5b86e5=I(_0xacf0bf[_0x5edaf6(0x771)]);return await _0x65a186['findOne'](_0x5b86e5)[_0x5edaf6(0x57a)]();}catch{return null;}}async['deleteAll'](_0x58d5ad){const _0x4d8bd4=a0_0x6d27f9;try{return await this[_0x4d8bd4(0x501)](_0x58d5ad)[_0x4d8bd4(0x594)]['drop'](),{'success':!0x0};}catch(_0x5884f0){return console[_0x4d8bd4(0x782)](_0x5884f0),{'success':!0x1,'error':_0x5884f0};}}},it=require(a0_0x6d27f9(0x649)),Ic=require(a0_0x6d27f9(0x139)),Ns=new $(a0_0x6d27f9(0x31d)),V=class{[a0_0x6d27f9(0x549)](_0x5f2cfc,_0x4dd3fa=!0x0){const _0x54b8ce=a0_0x6d27f9;let _0x1ffcf8='/'+_0x5f2cfc;return _0x4dd3fa&&(_0x1ffcf8+=_0x54b8ce(0x3b7)),_0x1ffcf8;}async['dataValidate'](_0x200110){const _0x4678a7=a0_0x6d27f9;let {request:_0x50104e,schema:_0x5559d5,ClassRef:_0x3bd362,execute:_0x22c26c}=_0x200110,_0x1de488=new _0x3bd362(),_0x5abd60=_0x50104e[_0x4678a7(0x356)],_0xf823a2=_0x50104e[_0x4678a7(0x283)];_0x50104e?.[_0x4678a7(0x4b7)]&&Object[_0x4678a7(0x3ae)](_0x50104e['query'])[_0x4678a7(0x4b3)]>0x0&&Object[_0x4678a7(0x6cc)](_0xf823a2,_0x50104e['query']),_0x50104e['originalUrl'][_0x4678a7(0x562)]('/instance/create')&&Object['assign'](_0xf823a2,_0x5abd60),Object['assign'](_0x1de488,_0x5abd60);let _0x34b530=_0x5559d5?(0x0,it['validate'])(_0x1de488,_0x5559d5):{'valid':!0x0,'errors':[]};if(!_0x34b530[_0x4678a7(0x12a)]){let _0x43c0f1=_0x34b530['errors'][_0x4678a7(0x5f1)](({property:_0xb613a6,stack:_0x2de9e7,schema:_0x38dfc4})=>{const _0x22861b=_0x4678a7;let _0x1d585e;return _0x38dfc4['description']?_0x1d585e=_0x38dfc4[_0x22861b(0x32a)]:_0x1d585e=_0x2de9e7['replace']('instance.',''),{'property':_0xb613a6['replace'](_0x22861b(0x362),''),'message':_0x1d585e};});throw Ns[_0x4678a7(0x782)]([..._0x43c0f1]),new m(..._0x43c0f1);}return await _0x22c26c(_0xf823a2,_0x1de488);}async[a0_0x6d27f9(0x2ed)](_0x582749){const _0x13c8c1=a0_0x6d27f9;let {request:_0x3f9dd6,ClassRef:_0x143c2b,schema:_0x30f6ea,execute:_0x47b5e6}=_0x582749,_0x23334e=_0x3f9dd6['query'];if(!_0x23334e?.['groupJid'])throw new m(_0x13c8c1(0x72f),_0x13c8c1(0x525));let _0xef2914=_0x3f9dd6['params'],_0x4c2ef9=_0x3f9dd6[_0x13c8c1(0x356)],_0x13e218=new _0x143c2b();Object['assign'](_0x4c2ef9,_0x23334e),Object['assign'](_0x13e218,_0x4c2ef9);let _0xbdb5d8=(0x0,it[_0x13c8c1(0x35e)])(_0x13e218,_0x30f6ea);if(!_0xbdb5d8[_0x13c8c1(0x12a)]){let _0x1e9366=_0xbdb5d8['errors'][_0x13c8c1(0x5f1)](({property:_0x1cc83e,stack:_0x4a6962,schema:_0x9c516a})=>{const _0x31ad44=_0x13c8c1;let _0x5c2fd4;return _0x9c516a[_0x31ad44(0x32a)]?_0x5c2fd4=_0x9c516a[_0x31ad44(0x32a)]:_0x5c2fd4=_0x4a6962[_0x31ad44(0x78b)](_0x31ad44(0x362),''),{'property':_0x1cc83e[_0x31ad44(0x78b)](_0x31ad44(0x362),''),'message':_0x5c2fd4};});throw Ns[_0x13c8c1(0x782)]([..._0x1e9366]),new m(..._0x1e9366);}return await _0x47b5e6(_0xef2914,_0x13e218);}async[a0_0x6d27f9(0x42b)](_0x4ceb2d){const _0x3067f8=a0_0x6d27f9;let {request:_0x2a31fc,ClassRef:_0x3788f7,schema:_0x201469,execute:_0x1b08df}=_0x4ceb2d,_0x4af661=_0x2a31fc[_0x3067f8(0x356)];if(!_0x4af661?.['inviteCode'])throw new m(_0x3067f8(0x252),_0x3067f8(0x636));let _0x4c3e0c=_0x2a31fc[_0x3067f8(0x283)],_0x4ee726=_0x2a31fc[_0x3067f8(0x356)],_0x272788=new _0x3788f7();Object[_0x3067f8(0x6cc)](_0x4ee726,_0x4af661),Object[_0x3067f8(0x6cc)](_0x272788,_0x4ee726);let _0x3f9bb7=(0x0,it[_0x3067f8(0x35e)])(_0x272788,_0x201469);if(!_0x3f9bb7[_0x3067f8(0x12a)]){let _0x28d18c=_0x3f9bb7[_0x3067f8(0x35d)][_0x3067f8(0x5f1)](({property:_0x306e44,stack:_0x36025e,schema:_0x363183})=>{const _0x10f254=_0x3067f8;let _0x531be2;return _0x363183[_0x10f254(0x32a)]?_0x531be2=_0x363183['description']:_0x531be2=_0x36025e[_0x10f254(0x78b)](_0x10f254(0x362),''),{'property':_0x306e44[_0x10f254(0x78b)](_0x10f254(0x362),''),'message':_0x531be2};});throw Ns['error']([..._0x28d18c]),new m(..._0x28d18c);}return await _0x1b08df(_0x4c3e0c,_0x272788);}},M=class{},Gc=new $(a0_0x6d27f9(0x722)),rt=class extends V{constructor(..._0x56e57e){const _0x8dffb3=a0_0x6d27f9;super(),this['router']=(0x0,uo['Router'])(),this[_0x8dffb3(0x400)]['post'](this[_0x8dffb3(0x549)](_0x8dffb3(0x25a)),..._0x56e57e,async(_0x5305c2,_0x151152)=>{const _0x5d6284=_0x8dffb3;let _0x54aa10=await this[_0x5d6284(0x803)]({'request':_0x5305c2,'schema':eo,'ClassRef':He,'execute':(_0x3ba06f,_0x39396a)=>P[_0x5d6284(0x25a)](_0x3ba06f,_0x39396a)});return _0x151152[_0x5d6284(0x538)](0xc9)[_0x5d6284(0x679)](_0x54aa10);})['post'](this[_0x8dffb3(0x549)](_0x8dffb3(0x24b)),..._0x56e57e,async(_0xbf9b4d,_0x392b12)=>{const _0x5c26a0=_0x8dffb3;let _0x2a69cf=await this[_0x5c26a0(0x803)]({'request':_0xbf9b4d,'schema':Ga,'ClassRef':Ke,'execute':(_0x4973f2,_0x1e54f7)=>P['whatsappNumber'](_0x4973f2,_0x1e54f7)});return _0x392b12[_0x5c26a0(0x538)](0xc9)[_0x5c26a0(0x679)](_0x2a69cf);})[_0x8dffb3(0x37f)](this[_0x8dffb3(0x549)](_0x8dffb3(0x1d8)),..._0x56e57e,async(_0xd98f14,_0x2bb0bc)=>{const _0x397f23=_0x8dffb3;let _0x5dd518=await this[_0x397f23(0x803)]({'request':_0xd98f14,'schema':v,'ClassRef':M,'execute':(_0x5c5626,_0x1021b0)=>P[_0x397f23(0x1d8)](_0x5c5626,_0x1021b0)});return _0x2bb0bc[_0x397f23(0x538)](0xc9)[_0x397f23(0x679)](_0x5dd518);})[_0x8dffb3(0x2d2)](this[_0x8dffb3(0x549)]('markMessageAsRead'),..._0x56e57e,async(_0x26d3ec,_0x3db703)=>{const _0xa32abf=_0x8dffb3;let _0x168be0=await this['dataValidate']({'request':_0x26d3ec,'schema':Ba,'ClassRef':Xe,'execute':(_0x306d42,_0x5aebae)=>P[_0xa32abf(0x63f)](_0x306d42,_0x5aebae)});return _0x3db703['status'](0xc9)[_0xa32abf(0x679)](_0x168be0);})[_0x8dffb3(0x2d2)](this[_0x8dffb3(0x549)](_0x8dffb3(0x237)),..._0x56e57e,async(_0x193fa0,_0x588d0a)=>{const _0x345285=_0x8dffb3;let _0x2b8ead=await this[_0x345285(0x803)]({'request':_0x193fa0,'schema':za,'ClassRef':Ze,'execute':(_0x36af79,_0x3a390e)=>P['archiveChat'](_0x36af79,_0x3a390e)});return _0x588d0a[_0x345285(0x538)](0xc9)[_0x345285(0x679)](_0x2b8ead);})['delete'](this[_0x8dffb3(0x549)]('deleteMessageForEveryone'),..._0x56e57e,async(_0xc2e73e,_0x155d01)=>{const _0x590600=_0x8dffb3;let _0x1b4229=await this['dataValidate']({'request':_0xc2e73e,'schema':Ha,'ClassRef':tt,'execute':(_0x455e34,_0x52ee00)=>P[_0x590600(0x3cb)](_0x455e34,_0x52ee00)});return _0x155d01[_0x590600(0x538)](0xc9)['json'](_0x1b4229);})[_0x8dffb3(0x37f)](this['routerPath']('fetchProfilePictureUrl'),..._0x56e57e,async(_0x2fbbf1,_0x17865e)=>{const _0xa99e4a=_0x8dffb3;let _0x16988a=await this['dataValidate']({'request':_0x2fbbf1,'schema':Ie,'ClassRef':Re,'execute':(_0x17bf7f,_0x1fc180)=>P[_0xa99e4a(0x2c0)](_0x17bf7f,_0x1fc180)});return _0x17865e['status'](0xc8)[_0xa99e4a(0x679)](_0x16988a);})['post'](this[_0x8dffb3(0x549)](_0x8dffb3(0x57c)),..._0x56e57e,async(_0x5d4f3a,_0x2d7042)=>{const _0x1222bd=_0x8dffb3;let _0x5c964c=await this[_0x1222bd(0x803)]({'request':_0x5d4f3a,'schema':Xa,'ClassRef':Re,'execute':(_0x382a9d,_0x33587a)=>P[_0x1222bd(0x57c)](_0x382a9d,_0x33587a)});return _0x2d7042[_0x1222bd(0x538)](0xc8)['json'](_0x5c964c);})['post'](this['routerPath'](_0x8dffb3(0x3fe)),..._0x56e57e,async(_0x56e6cc,_0x191dc1)=>{const _0x3155fe=_0x8dffb3;let _0x521977=await this[_0x3155fe(0x803)]({'request':_0x56e6cc,'schema':Ka,'ClassRef':at,'execute':(_0x262b4a,_0x5968a0)=>P[_0x3155fe(0x63a)](_0x262b4a,_0x5968a0)});return _0x191dc1[_0x3155fe(0x538)](0xc8)[_0x3155fe(0x679)](_0x521977);})['post'](this[_0x8dffb3(0x549)](_0x8dffb3(0x228)),..._0x56e57e,async(_0x4e8ea7,_0x348013)=>{const _0x272ee6=_0x8dffb3;let _0xdc12ee=await this[_0x272ee6(0x803)]({'request':_0x4e8ea7,'schema':null,'ClassRef':Object,'execute':(_0x24b43b,_0x5d3f7b)=>P[_0x272ee6(0x228)](_0x24b43b,_0x5d3f7b)});return _0x348013[_0x272ee6(0x538)](0xc9)[_0x272ee6(0x679)](_0xdc12ee);})[_0x8dffb3(0x37f)](this['routerPath'](_0x8dffb3(0x3ef)),..._0x56e57e,async(_0x191497,_0x4de43a)=>{const _0x22a128=_0x8dffb3;let _0x182c03=await this[_0x22a128(0x803)]({'request':_0x191497,'schema':Za,'ClassRef':We,'execute':(_0xc14370,_0x184280)=>P['fetchMessages'](_0xc14370,_0x184280)});return _0x4de43a[_0x22a128(0x538)](0xc8)[_0x22a128(0x679)](_0x182c03);})['get'](this[_0x8dffb3(0x549)](_0x8dffb3(0x2e0)),..._0x56e57e,async(_0x5e5a26,_0x59829c)=>{const _0xfe31ec=_0x8dffb3;let _0x3cf53e=await this['dataValidate']({'request':_0x5e5a26,'schema':null,'ClassRef':M,'execute':_0x371f2a=>P[_0xfe31ec(0x136)](_0x371f2a)});return _0x59829c[_0xfe31ec(0x538)](0xc8)[_0xfe31ec(0x679)](_0x3cf53e);})['get'](this[_0x8dffb3(0x549)]('findLabels'),..._0x56e57e,async(_0x3e5475,_0x5dbb80)=>{const _0x1a8348=_0x8dffb3;let _0x4f46b1=await this[_0x1a8348(0x803)]({'request':_0x3e5475,'schema':null,'ClassRef':M,'execute':_0x71107=>P[_0x1a8348(0x3c2)](_0x71107)});return _0x5dbb80[_0x1a8348(0x538)](0xc8)[_0x1a8348(0x679)](_0x4f46b1);})['put'](this[_0x8dffb3(0x549)](_0x8dffb3(0x4d9)),..._0x56e57e,async(_0x1afe79,_0x46684a)=>{const _0x4d55ed=_0x8dffb3;let _0x451a09=await this['dataValidate']({'request':_0x1afe79,'schema':null,'ClassRef':Array,'execute':(_0x55f5af,_0x5b6ebb)=>P[_0x4d55ed(0x4d9)](_0x55f5af,_0x5b6ebb)});return _0x46684a[_0x4d55ed(0x538)](0xc8)[_0x4d55ed(0x679)](_0x451a09);})['get'](this[_0x8dffb3(0x549)](_0x8dffb3(0x550)),..._0x56e57e,async(_0x40c5eb,_0x3ca320)=>{const _0xb2eed9=_0x8dffb3;let _0x4db61e=await this[_0xb2eed9(0x803)]({'request':_0x40c5eb,'schema':null,'ClassRef':M,'execute':_0x2a5895=>P[_0xb2eed9(0x550)](_0x2a5895)});return _0x3ca320[_0xb2eed9(0x538)](0xc8)[_0xb2eed9(0x679)](_0x4db61e);})[_0x8dffb3(0x2d2)](this[_0x8dffb3(0x549)]('updatePrivacySettings'),..._0x56e57e,async(_0x843010,_0xf7e71e)=>{const _0x7b019a=_0x8dffb3;let _0x517ad1=await this['dataValidate']({'request':_0x843010,'schema':Wa,'ClassRef':et,'execute':(_0x1b10f6,_0x2ab315)=>P[_0x7b019a(0x37c)](_0x1b10f6,_0x2ab315)});return _0xf7e71e[_0x7b019a(0x538)](0xc9)['json'](_0x517ad1);})[_0x8dffb3(0x37f)](this[_0x8dffb3(0x549)](_0x8dffb3(0x7d4)),..._0x56e57e,async(_0x2101ab,_0x1dceba)=>{const _0x6b071a=_0x8dffb3;let _0x975509=await this['dataValidate']({'request':_0x2101ab,'schema':Ie,'ClassRef':Se,'execute':(_0x3b082e,_0x490fae)=>P['fetchBusinessProfile'](_0x3b082e,_0x490fae)});return _0x1dceba['status'](0xc8)[_0x6b071a(0x679)](_0x975509);})[_0x8dffb3(0x37f)](this[_0x8dffb3(0x549)]('updateProfileName'),..._0x56e57e,async(_0x5bbcf7,_0x64837a)=>{const _0x794646=_0x8dffb3;let _0x1b58db=await this[_0x794646(0x803)]({'request':_0x5bbcf7,'schema':Qa,'ClassRef':Qe,'execute':(_0x512aa0,_0x283665)=>P[_0x794646(0x806)](_0x512aa0,_0x283665)});return _0x64837a[_0x794646(0x538)](0xc8)[_0x794646(0x679)](_0x1b58db);})[_0x8dffb3(0x37f)](this[_0x8dffb3(0x549)]('updateProfileStatus'),..._0x56e57e,async(_0x13223b,_0x412722)=>{const _0x3a13d5=_0x8dffb3;let _0x4dbf61=await this[_0x3a13d5(0x803)]({'request':_0x13223b,'schema':Ya,'ClassRef':Ye,'execute':(_0x33b13e,_0x22dba6)=>P[_0x3a13d5(0x29e)](_0x33b13e,_0x22dba6)});return _0x412722['status'](0xc8)[_0x3a13d5(0x679)](_0x4dbf61);})['put'](this[_0x8dffb3(0x549)](_0x8dffb3(0x2e7)),..._0x56e57e,async(_0x4ba328,_0x2e0351)=>{const _0x42c13a=_0x8dffb3;let _0x2a7dd2=await this[_0x42c13a(0x803)]({'request':_0x4ba328,'schema':Ie,'ClassRef':Se,'execute':(_0x3bf7ea,_0x39a6a2)=>P[_0x42c13a(0x2e7)](_0x3bf7ea,_0x39a6a2)});return _0x2e0351[_0x42c13a(0x538)](0xc8)[_0x42c13a(0x679)](_0x2a7dd2);})[_0x8dffb3(0x7b7)](this[_0x8dffb3(0x549)](_0x8dffb3(0x166)),..._0x56e57e,async(_0x77c787,_0x52eccd)=>{const _0x1e7f40=_0x8dffb3;let _0xdc01ea=await this[_0x1e7f40(0x803)]({'request':_0x77c787,'schema':Ie,'ClassRef':Se,'execute':(_0x39b828,_0x34114d)=>P['removeProfilePicture'](_0x39b828,_0x34114d)});return _0x52eccd[_0x1e7f40(0x538)](0xc8)[_0x1e7f40(0x679)](_0xdc01ea);});}},po=require(a0_0x6d27f9(0x569)),nt=class{},ct=class{},lt=class{},ut=class{},dt=class{},pt=class{},Z=class{},Oe=class{},ht=class extends Z{},gt=class extends Z{},mt=class extends V{constructor(..._0x1f1ab5){const _0x159733=a0_0x6d27f9;super(),this[_0x159733(0x400)]=(0x0,po[_0x159733(0x4fe)])(),this[_0x159733(0x400)][_0x159733(0x37f)](this[_0x159733(0x549)](_0x159733(0x62f)),..._0x1f1ab5,async(_0x37ea93,_0x2b6fe5)=>{const _0x4c763f=_0x159733;let _0x18cd0d=await this[_0x4c763f(0x803)]({'request':_0x37ea93,'schema':to,'ClassRef':nt,'execute':(_0x21b752,_0x13d8d9)=>q['createGroup'](_0x21b752,_0x13d8d9)});_0x2b6fe5[_0x4c763f(0x538)](0xc9)['json'](_0x18cd0d);})[_0x159733(0x2d2)](this[_0x159733(0x549)](_0x159733(0x49d)),..._0x1f1ab5,async(_0x408ec1,_0x5ba720)=>{const _0x3f8099=_0x159733;let _0x4f26fd=await this[_0x3f8099(0x2ed)]({'request':_0x408ec1,'schema':oo,'ClassRef':ct,'execute':(_0x15ad52,_0x5b83fa)=>q[_0x3f8099(0x49d)](_0x15ad52,_0x5b83fa)});_0x5ba720['status'](0xc9)[_0x3f8099(0x679)](_0x4f26fd);})['put'](this[_0x159733(0x549)](_0x159733(0x55e)),..._0x1f1ab5,async(_0x5de2ce,_0xde769)=>{const _0x48f129=_0x159733;let _0x5f3fdc=await this[_0x48f129(0x2ed)]({'request':_0x5de2ce,'schema':io,'ClassRef':lt,'execute':(_0x55720c,_0xcb7cb2)=>q[_0x48f129(0x55e)](_0x55720c,_0xcb7cb2)});_0xde769[_0x48f129(0x538)](0xc9)[_0x48f129(0x679)](_0x5f3fdc);})[_0x159733(0x2d2)](this[_0x159733(0x549)](_0x159733(0x62a)),..._0x1f1ab5,async(_0x360225,_0x30653e)=>{const _0x1b23e9=_0x159733;let _0x37eaea=await this[_0x1b23e9(0x2ed)]({'request':_0x360225,'schema':ro,'ClassRef':ut,'execute':(_0x999137,_0x5de331)=>q[_0x1b23e9(0x62a)](_0x999137,_0x5de331)});_0x30653e[_0x1b23e9(0x538)](0xc9)[_0x1b23e9(0x679)](_0x37eaea);})[_0x159733(0x2d2)](this['routerPath']('groupBetterSetting'),..._0x1f1ab5,async(_0x8e3f4,_0xe2d0a9)=>{const _0x672bb6=_0x159733;let _0x3d741c=await this[_0x672bb6(0x2ed)]({'request':_0x8e3f4,'schema':co,'ClassRef':pt,'execute':(_0x3ab595,_0x3ded13)=>q[_0x672bb6(0x428)](_0x3ab595,_0x3ded13)});_0xe2d0a9['status'](0xc9)[_0x672bb6(0x679)](_0x3d741c);})[_0x159733(0x2d2)](this['routerPath'](_0x159733(0x3a3)),..._0x1f1ab5,async(_0xa6cc7b,_0x468f0f)=>{const _0x26912f=_0x159733;let _0xf4517a=await this[_0x26912f(0x2ed)]({'request':_0xa6cc7b,'schema':no,'ClassRef':dt,'execute':(_0x5315b1,_0x58e303)=>q[_0x26912f(0x3a3)](_0x5315b1,_0x58e303)});_0x468f0f[_0x26912f(0x538)](0xc9)[_0x26912f(0x679)](_0xf4517a);})[_0x159733(0x2d2)](this['routerPath'](_0x159733(0x787)),..._0x1f1ab5,async(_0x214d20,_0x26400a)=>{const _0x1b4826=_0x159733;let _0x17f740=await this[_0x1b4826(0x2ed)]({'request':_0x214d20,'schema':ao,'ClassRef':gt,'execute':(_0x441fbd,_0x29f4dd)=>q[_0x1b4826(0x787)](_0x441fbd,_0x29f4dd)});_0x26400a[_0x1b4826(0x538)](0xc9)['json'](_0x17f740);})['get'](this[_0x159733(0x549)]('findGroupInfos'),..._0x1f1ab5,async(_0x2a0976,_0x38a388)=>{const _0x219835=_0x159733;let _0x240314=await this[_0x219835(0x2ed)]({'request':_0x2a0976,'schema':Te,'ClassRef':Z,'execute':(_0x29f364,_0x56d929)=>q[_0x219835(0x537)](_0x29f364,_0x56d929)});_0x38a388[_0x219835(0x538)](0xc8)[_0x219835(0x679)](_0x240314);})[_0x159733(0x693)](this[_0x159733(0x549)](_0x159733(0x69c)),..._0x1f1ab5,async(_0x2c1fc7,_0x244586)=>{const _0x2e937d=_0x159733;let _0x2d7950=await this[_0x2e937d(0x803)]({'request':_0x2c1fc7,'schema':v,'ClassRef':M,'execute':_0x1bc088=>q['findGroups'](_0x1bc088)});_0x244586[_0x2e937d(0x538)](0xc8)['json'](_0x2d7950);})[_0x159733(0x693)](this['routerPath'](_0x159733(0x4ab)),..._0x1f1ab5,async(_0xda83f,_0xa89f24)=>{const _0x56e16b=_0x159733;let _0x44fc27=await this[_0x56e16b(0x2ed)]({'request':_0xda83f,'schema':Te,'ClassRef':Z,'execute':(_0x552f3f,_0x5dce67)=>q[_0x56e16b(0x6c6)](_0x552f3f,_0x5dce67)});_0xa89f24[_0x56e16b(0x538)](0xc8)[_0x56e16b(0x679)](_0x44fc27);})[_0x159733(0x693)](this[_0x159733(0x549)](_0x159733(0x3dd)),..._0x1f1ab5,async(_0x366d82,_0x5b3c04)=>{const _0x10e4e8=_0x159733;let _0x1f96e1=await this[_0x10e4e8(0x2ed)]({'request':_0x366d82,'schema':Te,'ClassRef':Z,'execute':(_0x2f53d2,_0x200c7b)=>q[_0x10e4e8(0x3dd)](_0x2f53d2,_0x200c7b)});_0x5b3c04['status'](0xc8)['json'](_0x1f96e1);})['post'](this[_0x159733(0x549)](_0x159733(0x186)),..._0x1f1ab5,async(_0x361596,_0x125664)=>{const _0x2d3074=_0x159733;let _0x329531=await this[_0x2d3074(0x42b)]({'request':_0x361596,'schema':vs,'ClassRef':Oe,'execute':(_0x3b4713,_0x4888c6)=>q[_0x2d3074(0x520)](_0x3b4713,_0x4888c6)});_0x125664[_0x2d3074(0x538)](0xc9)[_0x2d3074(0x679)](_0x329531);})[_0x159733(0x2d2)](this[_0x159733(0x549)](_0x159733(0x364)),..._0x1f1ab5,async(_0x2d517c,_0x4b8cde)=>{const _0x3ac620=_0x159733;let _0x19f9eb=await this[_0x3ac620(0x42b)]({'request':_0x2d517c,'schema':vs,'ClassRef':Oe,'execute':(_0x421666,_0x583af6)=>q[_0x3ac620(0x364)](_0x421666,_0x583af6)});_0x4b8cde[_0x3ac620(0x538)](0xc9)['json'](_0x19f9eb);})[_0x159733(0x2d2)](this['routerPath'](_0x159733(0x4b6)),..._0x1f1ab5,async(_0x45a363,_0x3bc849)=>{const _0x3a8be2=_0x159733;let _0x2e6fec=await this[_0x3a8be2(0x2ed)]({'request':_0x45a363,'schema':Te,'ClassRef':Z,'execute':(_0x4a5084,_0x2afe26)=>q['revokeInviteCode'](_0x4a5084,_0x2afe26)});_0x3bc849[_0x3a8be2(0x538)](0xc9)[_0x3a8be2(0x679)](_0x2e6fec);})[_0x159733(0x2d2)](this[_0x159733(0x549)](_0x159733(0x5e7)),..._0x1f1ab5,async(_0x39d6d8,_0x3e26bd)=>{const _0x12e13f=_0x159733;let _0x5c3124=await this[_0x12e13f(0x2ed)]({'request':_0x39d6d8,'schema':so,'ClassRef':ht,'execute':(_0x414027,_0x549f30)=>q['updateGParticipate'](_0x414027,_0x549f30)});_0x3e26bd['status'](0xc9)[_0x12e13f(0x679)](_0x5c3124);})[_0x159733(0x7b7)](this['routerPath'](_0x159733(0x43e)),..._0x1f1ab5,async(_0x4fb378,_0x2f417b)=>{const _0x244300=_0x159733;let _0x438331=await this[_0x244300(0x2ed)]({'request':_0x4fb378,'schema':{},'ClassRef':Z,'execute':(_0x358e2d,_0x7a3ede)=>q['leaveGroup'](_0x358e2d,_0x7a3ede)});_0x2f417b[_0x244300(0x538)](0xc8)['json'](_0x438331);});}},ho=require(a0_0x6d27f9(0x569)),ft=class extends V{constructor(_0x1c01e3,..._0x4757b6){const _0x529384=a0_0x6d27f9;super(),this['configService']=_0x1c01e3,this[_0x529384(0x400)]=(0x0,ho[_0x529384(0x4fe)])();let _0x562fd3=_0x1c01e3[_0x529384(0x693)]('AUTHENTICATION');this[_0x529384(0x400)][_0x529384(0x37f)]('/create',..._0x4757b6,async(_0x28d153,_0x36ee08)=>{const _0x10410b=_0x529384;let {instanceName:_0x3a5a0e,apikey:_0x3ce7db,number:_0x4ba5ef}=_0x28d153[_0x10410b(0x356)],_0x3e163b=await le[_0x10410b(0x1ec)]({'instanceName':_0x3a5a0e,'apikey':_0x3ce7db,'number':_0x4ba5ef});return _0x36ee08[_0x10410b(0x538)](0xc9)[_0x10410b(0x679)](_0x3e163b);})[_0x529384(0x2d2)](this[_0x529384(0x549)](_0x529384(0x6ed)),..._0x4757b6,async(_0x46602f,_0x189512)=>{const _0x4e64c7=_0x529384;let _0x35589f=await this[_0x4e64c7(0x803)]({'request':_0x46602f,'schema':v,'ClassRef':M,'execute':_0x294206=>le['restartInstance'](_0x294206)});return _0x189512[_0x4e64c7(0x538)](0xc8)[_0x4e64c7(0x679)](_0x35589f);})[_0x529384(0x693)](this[_0x529384(0x549)](_0x529384(0x50f)),..._0x4757b6,async(_0x578577,_0x3db4c1)=>{const _0x40fca2=_0x529384;let _0x33b864=await this[_0x40fca2(0x803)]({'request':_0x578577,'schema':v,'ClassRef':M,'execute':_0x1711a7=>le[_0x40fca2(0x5fc)](_0x1711a7)});return _0x3db4c1[_0x40fca2(0x538)](0xc8)['json'](_0x33b864);})[_0x529384(0x693)](this[_0x529384(0x549)]('connectionState'),..._0x4757b6,async(_0x756a2,_0x3d79c3)=>{const _0xf6f23e=_0x529384;let _0x2e1220=await this[_0xf6f23e(0x803)]({'request':_0x756a2,'schema':v,'ClassRef':M,'execute':_0x239a90=>le[_0xf6f23e(0x425)](_0x239a90)});return _0x3d79c3['status'](0xc8)[_0xf6f23e(0x679)](_0x2e1220);})[_0x529384(0x693)](this[_0x529384(0x549)](_0x529384(0x52f),!0x1),..._0x4757b6,async(_0x50040d,_0x1d974e)=>{const _0x3256f5=_0x529384;let _0x14c419=await this[_0x3256f5(0x803)]({'request':_0x50040d,'schema':null,'ClassRef':M,'execute':_0x1c0cbe=>le[_0x3256f5(0x52f)](_0x1c0cbe)});return _0x1d974e[_0x3256f5(0x538)](0xc8)[_0x3256f5(0x679)](_0x14c419);})[_0x529384(0x7b7)](this[_0x529384(0x549)]('logout'),..._0x4757b6,async(_0x54532e,_0x24d26c)=>{const _0x3c8376=_0x529384;let _0x34a7c6=await this[_0x3c8376(0x803)]({'request':_0x54532e,'schema':v,'ClassRef':M,'execute':_0x52fd17=>le['logout'](_0x52fd17)});return _0x24d26c[_0x3c8376(0x538)](0xc8)[_0x3c8376(0x679)](_0x34a7c6);})[_0x529384(0x7b7)](this[_0x529384(0x549)](_0x529384(0x7b7)),..._0x4757b6,async(_0x5d4516,_0x5778b0)=>{const _0x8f2c93=_0x529384;let _0x4b6ab3=await this[_0x8f2c93(0x803)]({'request':_0x5d4516,'schema':v,'ClassRef':M,'execute':_0x495ee6=>le[_0x8f2c93(0x2a6)](_0x495ee6)});return _0x5778b0[_0x8f2c93(0x538)](0xc8)['json'](_0x4b6ab3);});}},go=require(a0_0x6d27f9(0x569)),$s=class{},W=class extends $s{},wt=class extends W{},yt=class extends W{},bt=class extends W{},St=class extends W{},_e=class extends W{},Mt=class extends W{},Ct=class extends W{},Et=class extends W{},vt=class extends W{},Nt=class extends W{},$t=class{},Rt=class extends V{constructor(..._0x29f03b){const _0x432841=a0_0x6d27f9;super(),this[_0x432841(0x400)]=(0x0,go[_0x432841(0x4fe)])(),this[_0x432841(0x400)][_0x432841(0x37f)](this[_0x432841(0x549)](_0x432841(0x6da)),..._0x29f03b,async(_0x543aa0,_0x10d52f)=>{const _0x4b32a2=_0x432841;let _0x290168=await this[_0x4b32a2(0x803)]({'request':_0x543aa0,'schema':Oa,'ClassRef':wt,'execute':(_0x43ab27,_0x5bb699)=>B[_0x4b32a2(0x6da)](_0x43ab27,_0x5bb699)});return _0x10d52f[_0x4b32a2(0x538)](0xc9)['json'](_0x290168);})['post'](this[_0x432841(0x549)]('sendMedia'),..._0x29f03b,async(_0x36bce8,_0x445a64)=>{const _0x2fe5cb=_0x432841;let _0x5bbb55=await this[_0x2fe5cb(0x803)]({'request':_0x36bce8,'schema':Pa,'ClassRef':_e,'execute':(_0x1529ec,_0x3cbad9)=>B[_0x2fe5cb(0x58e)](_0x1529ec,_0x3cbad9)});return _0x445a64[_0x2fe5cb(0x538)](0xc9)['json'](_0x5bbb55);})['post'](this['routerPath'](_0x432841(0x7ea)),..._0x29f03b,async(_0x53a591,_0x4c2097)=>{const _0x257b98=_0x432841;let _0x41dee0=await this[_0x257b98(0x803)]({'request':_0x53a591,'schema':Fa,'ClassRef':St,'execute':(_0x163edd,_0x5bca9f)=>B[_0x257b98(0x7ea)](_0x163edd,_0x5bca9f)});return _0x4c2097[_0x257b98(0x538)](0xc9)[_0x257b98(0x679)](_0x41dee0);})['post'](this[_0x432841(0x549)](_0x432841(0x7d6)),..._0x29f03b,async(_0x21ea1a,_0x3e26f3)=>{const _0x6b3f93=_0x432841;let _0x1a6ce0=await this['dataValidate']({'request':_0x21ea1a,'schema':ka,'ClassRef':_e,'execute':(_0x5e256b,_0x1e2a69)=>B[_0x6b3f93(0x7d6)](_0x5e256b,_0x1e2a69)});return _0x3e26f3[_0x6b3f93(0x538)](0xc9)[_0x6b3f93(0x679)](_0x1a6ce0);})[_0x432841(0x37f)](this[_0x432841(0x549)](_0x432841(0x6a8)),..._0x29f03b,async(_0x1a8060,_0x4d8e2d)=>{const _0x1f3019=_0x432841;let _0x66a737=await this['dataValidate']({'request':_0x1a8060,'schema':Ua,'ClassRef':Ct,'execute':(_0x5c0b29,_0x5cc6da)=>B[_0x1f3019(0x6a8)](_0x5c0b29,_0x5cc6da)});return _0x4d8e2d['status'](0xc9)[_0x1f3019(0x679)](_0x66a737);})[_0x432841(0x37f)](this['routerPath'](_0x432841(0x607)),..._0x29f03b,async(_0x3f6ed1,_0x3f56e1)=>{const _0x49650c=_0x432841;let _0x3068ad=await this[_0x49650c(0x803)]({'request':_0x3f6ed1,'schema':ja,'ClassRef':Et,'execute':(_0x46c574,_0x2b308a)=>B[_0x49650c(0x607)](_0x46c574,_0x2b308a)});return _0x3f56e1[_0x49650c(0x538)](0xc9)['json'](_0x3068ad);})['post'](this[_0x432841(0x549)](_0x432841(0x4d6)),..._0x29f03b,async(_0x32c7e1,_0x440cb0)=>{const _0x3adb6a=_0x432841;let _0x718740=await this[_0x3adb6a(0x803)]({'request':_0x32c7e1,'schema':Ja,'ClassRef':vt,'execute':(_0x593b0b,_0x27599a)=>B[_0x3adb6a(0x4d6)](_0x593b0b,_0x27599a)});return _0x440cb0[_0x3adb6a(0x538)](0xc9)[_0x3adb6a(0x679)](_0x718740);})[_0x432841(0x37f)](this[_0x432841(0x549)](_0x432841(0x7f6)),..._0x29f03b,async(_0x4e2105,_0x4720bf)=>{const _0x53d5eb=_0x432841;let _0x566d2f=await this[_0x53d5eb(0x803)]({'request':_0x4e2105,'schema':qa,'ClassRef':Nt,'execute':(_0x351dc0,_0x2ae80a)=>B[_0x53d5eb(0x7f6)](_0x351dc0,_0x2ae80a)});return _0x4720bf[_0x53d5eb(0x538)](0xc9)['json'](_0x566d2f);})[_0x432841(0x37f)](this[_0x432841(0x549)](_0x432841(0x7a9)),..._0x29f03b,async(_0x26f103,_0xd92d09)=>{const _0x21321a=_0x432841;let _0x39e438=await this[_0x21321a(0x803)]({'request':_0x26f103,'schema':Va,'ClassRef':$t,'execute':(_0x28415f,_0x1e69c8)=>B[_0x21321a(0x7a9)](_0x28415f,_0x1e69c8)});return _0xd92d09[_0x21321a(0x538)](0xc9)[_0x21321a(0x679)](_0x39e438);})['post'](this[_0x432841(0x549)](_0x432841(0x172)),..._0x29f03b,async(_0x2f2c2e,_0x56c990)=>{const _0x5d8bc1=_0x432841;let _0x4ae045=await this[_0x5d8bc1(0x803)]({'request':_0x2f2c2e,'schema':La,'ClassRef':bt,'execute':(_0x3ab176,_0xca71e4)=>B[_0x5d8bc1(0x172)](_0x3ab176,_0xca71e4)});return _0x56c990[_0x5d8bc1(0x538)](0xc9)[_0x5d8bc1(0x679)](_0x4ae045);})[_0x432841(0x37f)](this[_0x432841(0x549)](_0x432841(0x346)),..._0x29f03b,async(_0x16f5bb,_0x29ea14)=>{const _0x333070=_0x432841;let _0x30b3f5=await this['dataValidate']({'request':_0x16f5bb,'schema':Da,'ClassRef':yt,'execute':(_0x5d45b2,_0x13c8df)=>B[_0x333070(0x346)](_0x5d45b2,_0x13c8df)});return _0x29ea14['status'](0xc9)[_0x333070(0x679)](_0x30b3f5);})[_0x432841(0x37f)](this[_0x432841(0x549)](_0x432841(0x768)),..._0x29f03b,async(_0x5c7d7f,_0x4b79fb)=>{const _0x3711bb=_0x432841;let _0x3ab164=await this[_0x3711bb(0x803)]({'request':_0x5c7d7f,'schema':xa,'ClassRef':Mt,'execute':(_0x47b2ae,_0x56d82a)=>B[_0x3711bb(0x768)](_0x47b2ae,_0x56d82a)});return _0x4b79fb[_0x3711bb(0x538)](0xc9)[_0x3711bb(0x679)](_0x3ab164);});}},mo=require(a0_0x6d27f9(0x569)),At=class{},It=class extends V{constructor(..._0xc15332){const _0x1b1a46=a0_0x6d27f9;super(),this[_0x1b1a46(0x400)]=(0x0,mo[_0x1b1a46(0x4fe)])(),this[_0x1b1a46(0x400)][_0x1b1a46(0x37f)](this[_0x1b1a46(0x549)](_0x1b1a46(0x5c5)),..._0xc15332,async(_0x218d2a,_0x2558a9)=>{const _0x2b2d0a=_0x1b1a46;let _0x1a3b61=await this[_0x2b2d0a(0x803)]({'request':_0x218d2a,'schema':lo,'ClassRef':At,'execute':(_0x42df55,_0x3fbe12)=>Rs[_0x2b2d0a(0x478)](_0x42df55,_0x3fbe12)});_0x2558a9[_0x2b2d0a(0x538)](0xc9)[_0x2b2d0a(0x679)](_0x1a3b61);})[_0x1b1a46(0x693)](this['routerPath'](_0x1b1a46(0x37d)),..._0xc15332,async(_0x2557dd,_0x41927b)=>{const _0x4e2baf=_0x1b1a46;let _0x40e991=await this[_0x4e2baf(0x803)]({'request':_0x2557dd,'schema':v,'ClassRef':M,'execute':_0x51b09c=>Rs[_0x4e2baf(0x334)](_0x51b09c)});_0x41927b['status'](0xc8)[_0x4e2baf(0x679)](_0x40e991);});}},fo=require(a0_0x6d27f9(0x569)),y=new $(a0_0x6d27f9(0x567)),Tt=class extends V{constructor(..._0x16ae19){const _0x5a5af4=a0_0x6d27f9;super(),this[_0x5a5af4(0x400)]=(0x0,fo[_0x5a5af4(0x4fe)])(),this[_0x5a5af4(0x400)]['post'](this[_0x5a5af4(0x549)]('scheduleMessage'),..._0x16ae19,async(_0x487ec5,_0x390574)=>{const _0x28c7f6=_0x5a5af4;let _0x540d04=_0x487ec5[_0x28c7f6(0x356)];y[_0x28c7f6(0x302)]('request\x20received\x20in\x20scheduleMessage'),y[_0x28c7f6(0x302)](_0x28c7f6(0x654)),y[_0x28c7f6(0x302)](_0x487ec5['body']);let _0x5a1a51=await this['dataValidate']({'request':_0x487ec5,'schema':v,'ClassRef':M,'execute':_0x1e31e3=>T[_0x28c7f6(0x268)](_0x1e31e3,_0x540d04)});_0x390574[_0x28c7f6(0x538)](0xc8)[_0x28c7f6(0x679)](_0x5a1a51);})[_0x5a5af4(0x693)](this[_0x5a5af4(0x549)](_0x5a5af4(0x51d)),..._0x16ae19,async(_0x2efcee,_0x3a66ea)=>{const _0x3e4e25=_0x5a5af4;let _0x37fdab=await this['dataValidate']({'request':_0x2efcee,'schema':v,'ClassRef':M,'execute':_0x52dfbd=>T[_0x3e4e25(0x2cd)](_0x52dfbd)});_0x3a66ea[_0x3e4e25(0x538)](0xc8)['json'](_0x37fdab);})[_0x5a5af4(0x7b7)](this[_0x5a5af4(0x549)](_0x5a5af4(0x805)),..._0x16ae19,async(_0x464a2a,_0x39f7af)=>{const _0x11bc51=_0x5a5af4;y[_0x11bc51(0x302)](_0x11bc51(0x5e8));let _0x5e6c67=await this['dataValidate']({'request':_0x464a2a,'schema':v,'ClassRef':M,'execute':_0x33c647=>T[_0x11bc51(0x805)](_0x33c647)});_0x39f7af[_0x11bc51(0x538)](0xc8)[_0x11bc51(0x679)](_0x5e6c67);})['post'](this['routerPath'](_0x5a5af4(0x263)),..._0x16ae19,async(_0x451302,_0xc2c6ac)=>{const _0x152c09=_0x5a5af4;let _0x1b921b=_0x451302['body'];y['verbose'](_0x152c09(0x72c)),y[_0x152c09(0x302)]('request\x20body:\x20'),y[_0x152c09(0x302)](_0x451302['body']);let _0x44167a=await this['dataValidate']({'request':_0x451302,'schema':v,'ClassRef':M,'execute':_0x2b8d72=>T[_0x152c09(0x263)](_0x2b8d72,_0x1b921b)});_0xc2c6ac[_0x152c09(0x538)](0xc8)[_0x152c09(0x679)](_0x44167a);})[_0x5a5af4(0x693)](this[_0x5a5af4(0x549)](_0x5a5af4(0x4cf)),..._0x16ae19,async(_0x1a66bc,_0x4da044)=>{const _0x588fc9=_0x5a5af4;y[_0x588fc9(0x302)]('request\x20received\x20in\x20getAutomateSystem');let _0x43b66c=await this[_0x588fc9(0x803)]({'request':_0x1a66bc,'schema':v,'ClassRef':M,'execute':_0xae6bfc=>T['getAutomateSystem'](_0xae6bfc)});_0x4da044[_0x588fc9(0x538)](0xc8)[_0x588fc9(0x679)](_0x43b66c);})[_0x5a5af4(0x693)](this['routerPath'](_0x5a5af4(0x56d)),..._0x16ae19,async(_0x47ac06,_0x3fd70f)=>{const _0x41d36a=_0x5a5af4;y[_0x41d36a(0x302)](_0x41d36a(0x3d8));let _0x5383e9=await this[_0x41d36a(0x803)]({'request':_0x47ac06,'schema':v,'ClassRef':M,'execute':_0x3aabf1=>T[_0x41d36a(0x4cf)](_0x3aabf1)});_0x3fd70f[_0x41d36a(0x538)](0xc8)[_0x41d36a(0x679)](_0x5383e9);})[_0x5a5af4(0x37f)](this['routerPath'](_0x5a5af4(0x408)),..._0x16ae19,async(_0x54995f,_0x5d2ef1)=>{const _0x2625f4=_0x5a5af4;let _0x479cfd=_0x54995f[_0x2625f4(0x356)];y[_0x2625f4(0x302)](_0x2625f4(0x754)),y[_0x2625f4(0x302)](_0x2625f4(0x654)),y['verbose'](_0x54995f[_0x2625f4(0x356)]);let _0x1e65c8=await this[_0x2625f4(0x803)]({'request':_0x54995f,'schema':v,'ClassRef':M,'execute':_0x43b255=>T[_0x2625f4(0x408)](_0x43b255,_0x479cfd)});_0x5d2ef1['status'](0xc8)['json'](_0x1e65c8);})[_0x5a5af4(0x37f)](this[_0x5a5af4(0x549)](_0x5a5af4(0x1f5)),..._0x16ae19,async(_0x26464c,_0xa4b946)=>{const _0xb35035=_0x5a5af4;let _0x1af7bf=_0x26464c['body'];y['verbose']('request\x20received\x20in\x20updateCustomFields'),y[_0xb35035(0x302)]('request\x20body:\x20'),y[_0xb35035(0x302)](_0x26464c[_0xb35035(0x356)]);let _0x5e8b32=await this[_0xb35035(0x803)]({'request':_0x26464c,'schema':v,'ClassRef':M,'execute':_0x1af6cb=>T['updateCustomFields'](_0x1af6cb,_0x1af7bf)});_0xa4b946['status'](0xc8)[_0xb35035(0x679)](_0x5e8b32);})[_0x5a5af4(0x37f)](this[_0x5a5af4(0x549)]('updateAutoCompleteMessages'),..._0x16ae19,async(_0x5e978b,_0x4aa913)=>{const _0x88cf0c=_0x5a5af4;let _0x343ec9=_0x5e978b['body'];y[_0x88cf0c(0x302)](_0x88cf0c(0x6dd)),y[_0x88cf0c(0x302)](_0x88cf0c(0x654)),y[_0x88cf0c(0x302)](_0x5e978b['body']);let _0x3234cd=await this[_0x88cf0c(0x803)]({'request':_0x5e978b,'schema':v,'ClassRef':M,'execute':_0x59cdd0=>T[_0x88cf0c(0x687)](_0x59cdd0,_0x343ec9)});_0x4aa913[_0x88cf0c(0x538)](0xc8)[_0x88cf0c(0x679)](_0x3234cd);})[_0x5a5af4(0x37f)](this[_0x5a5af4(0x549)]('updateFlowConfig'),..._0x16ae19,async(_0x559e27,_0x884cc3)=>{const _0x152716=_0x5a5af4;let _0x2c5f1a=_0x559e27[_0x152716(0x356)];y[_0x152716(0x302)](_0x152716(0x4fa)),y[_0x152716(0x302)]('request\x20body:\x20'),y[_0x152716(0x302)](_0x559e27['body']);let _0x563281=await this['dataValidate']({'request':_0x559e27,'schema':v,'ClassRef':M,'execute':_0x14e2ad=>T[_0x152716(0x22a)](_0x14e2ad,_0x2c5f1a)});_0x884cc3[_0x152716(0x538)](0xc8)[_0x152716(0x679)](_0x563281);})[_0x5a5af4(0x37f)](this['routerPath'](_0x5a5af4(0xff)),..._0x16ae19,async(_0xbf959f,_0x31e43a)=>{const _0x1cdaf7=_0x5a5af4;let _0x522a9c=_0xbf959f['body'];y[_0x1cdaf7(0x302)](_0x1cdaf7(0x5ac)),y[_0x1cdaf7(0x302)](_0x1cdaf7(0x654)),y[_0x1cdaf7(0x302)](_0xbf959f[_0x1cdaf7(0x356)]);let _0x351337=await this['dataValidate']({'request':_0xbf959f,'schema':v,'ClassRef':M,'execute':_0x5409ad=>T[_0x1cdaf7(0xff)](_0x5409ad,_0x522a9c)});_0x31e43a[_0x1cdaf7(0x538)](0xc8)[_0x1cdaf7(0x679)](_0x351337);})[_0x5a5af4(0x37f)](this[_0x5a5af4(0x549)]('fetchConversation'),..._0x16ae19,async(_0x3de7a8,_0x25ba7e)=>{const _0x174db9=_0x5a5af4;let _0x19a12d=_0x3de7a8[_0x174db9(0x356)];y['verbose'](_0x174db9(0x5ad)),y[_0x174db9(0x302)](_0x174db9(0x654)),y['verbose'](_0x3de7a8['body']);let _0x2b18e3=await this[_0x174db9(0x803)]({'request':_0x3de7a8,'schema':v,'ClassRef':M,'execute':_0x309ad1=>T[_0x174db9(0x4f9)](_0x309ad1,_0x19a12d)});_0x25ba7e[_0x174db9(0x538)](0xc8)[_0x174db9(0x679)](_0x2b18e3);})['post'](this['routerPath'](_0x5a5af4(0x7ca)),..._0x16ae19,async(_0xd71296,_0x274c27)=>{const _0x4a3376=_0x5a5af4;let _0x2c6f2c=_0xd71296[_0x4a3376(0x356)];y[_0x4a3376(0x302)](_0x4a3376(0x6a9)),y['verbose']('request\x20body:\x20'),y[_0x4a3376(0x302)](_0xd71296[_0x4a3376(0x356)]);let _0x293b7a=await this[_0x4a3376(0x803)]({'request':_0xd71296,'schema':v,'ClassRef':M,'execute':_0x1c3eae=>T['editConversation'](_0x1c3eae,_0x2c6f2c)});_0x274c27[_0x4a3376(0x538)](0xc8)[_0x4a3376(0x679)](_0x293b7a);})[_0x5a5af4(0x7b7)](this[_0x5a5af4(0x549)](_0x5a5af4(0xdf)),..._0x16ae19,async(_0xc3ba9c,_0x212ed0)=>{const _0x513793=_0x5a5af4;let _0x2f02d3=_0xc3ba9c[_0x513793(0x356)];y[_0x513793(0x302)](_0x513793(0x6ac)),y[_0x513793(0x302)](_0x513793(0x654)),y[_0x513793(0x302)](_0xc3ba9c[_0x513793(0x356)]);let _0x4ec210=await this['dataValidate']({'request':_0xc3ba9c,'schema':v,'ClassRef':M,'execute':_0x4a2715=>T[_0x513793(0xdf)](_0x4a2715,_0x2f02d3)});_0x212ed0[_0x513793(0x538)](0xc8)[_0x513793(0x679)](_0x4ec210);})[_0x5a5af4(0x37f)](this[_0x5a5af4(0x549)](_0x5a5af4(0x758)),..._0x16ae19,async(_0x4234c4,_0x527f0a)=>{const _0x4a1aee=_0x5a5af4;let _0x59bf09=_0x4234c4['body'],_0x19f4c5=_0x4234c4[_0x4a1aee(0x732)][_0x4a1aee(0x226)];y[_0x4a1aee(0x302)](_0x4a1aee(0x1c5)),y[_0x4a1aee(0x302)](_0x4a1aee(0x654)),y[_0x4a1aee(0x302)](_0x4234c4[_0x4a1aee(0x356)]);let _0x214ee1=await this[_0x4a1aee(0x803)]({'request':_0x4234c4,'schema':v,'ClassRef':M,'execute':_0x11b25d=>T[_0x4a1aee(0x6b4)](_0x11b25d,_0x59bf09,_0x19f4c5)});_0x527f0a[_0x4a1aee(0x538)](0xc8)['json'](_0x214ee1);})['post'](this[_0x5a5af4(0x549)](_0x5a5af4(0x796)),..._0x16ae19,async(_0x3d4779,_0x51f9a5)=>{const _0x540e38=_0x5a5af4;let _0x2618d9=_0x3d4779[_0x540e38(0x356)],_0x583647=_0x3d4779[_0x540e38(0x732)]['apikey'];y['verbose'](_0x540e38(0x656)),y[_0x540e38(0x302)](_0x540e38(0x654)),y['verbose'](_0x3d4779['body']),delete _0x2618d9[_0x540e38(0x1b2)],delete _0x2618d9['variables'],delete _0x2618d9[_0x540e38(0x36f)],delete _0x2618d9[_0x540e38(0x31e)];let _0x309e84=await this['dataValidate']({'request':_0x3d4779,'schema':v,'ClassRef':M,'execute':_0x443d9d=>T['editFlow'](_0x443d9d,_0x2618d9,_0x583647)});_0x51f9a5[_0x540e38(0x538)](0xc8)[_0x540e38(0x679)](_0x309e84);})[_0x5a5af4(0x37f)](this[_0x5a5af4(0x549)](_0x5a5af4(0x5e0)),..._0x16ae19,async(_0x5c54e7,_0xd6871d)=>{const _0x46db48=_0x5a5af4;let _0x1f8679=_0x5c54e7['body'];y[_0x46db48(0x302)](_0x46db48(0x656)),y[_0x46db48(0x302)]('request\x20body:\x20'),y[_0x46db48(0x302)](_0x5c54e7[_0x46db48(0x356)]);let _0x260139=await this['dataValidate']({'request':_0x5c54e7,'schema':v,'ClassRef':M,'execute':_0x193310=>T['editFlowBlock'](_0x193310,_0x1f8679)});_0xd6871d[_0x46db48(0x538)](0xc8)[_0x46db48(0x679)](_0x260139);})[_0x5a5af4(0x37f)](this[_0x5a5af4(0x549)](_0x5a5af4(0x60a)),..._0x16ae19,async(_0x31387c,_0x404da2)=>{const _0x92003d=_0x5a5af4;let _0x3d0664=_0x31387c[_0x92003d(0x356)];y['verbose']('request\x20received\x20in\x20editFlow'),y[_0x92003d(0x302)](_0x92003d(0x654)),y[_0x92003d(0x302)](_0x31387c[_0x92003d(0x356)]);let _0x3865be=await this['dataValidate']({'request':_0x31387c,'schema':v,'ClassRef':M,'execute':_0x3aa41c=>T['editFlowReply'](_0x3aa41c,_0x3d0664)});_0x404da2[_0x92003d(0x538)](0xc8)[_0x92003d(0x679)](_0x3865be);})[_0x5a5af4(0x37f)](this[_0x5a5af4(0x549)](_0x5a5af4(0x215)),..._0x16ae19,async(_0xde3985,_0x2c8c48)=>{const _0x5df6d5=_0x5a5af4;let _0x10bd5f=_0xde3985[_0x5df6d5(0x356)];y[_0x5df6d5(0x302)](_0x5df6d5(0x656)),y[_0x5df6d5(0x302)](_0x5df6d5(0x654)),y[_0x5df6d5(0x302)](_0xde3985[_0x5df6d5(0x356)]);let _0x5df6ff=await this['dataValidate']({'request':_0xde3985,'schema':v,'ClassRef':M,'execute':_0x4a1779=>T[_0x5df6d5(0x388)](_0x4a1779,_0x10bd5f)});_0x2c8c48['status'](0xc8)[_0x5df6d5(0x679)](_0x5df6ff);})[_0x5a5af4(0x37f)](this[_0x5a5af4(0x549)](_0x5a5af4(0x651)),..._0x16ae19,async(_0x1b0bcf,_0xb77e03)=>{const _0x155864=_0x5a5af4;let _0x5a4d30=_0x1b0bcf[_0x155864(0x356)];y[_0x155864(0x302)]('request\x20received\x20in\x20editFlowgroup'),y[_0x155864(0x302)]('request\x20body:\x20'),y[_0x155864(0x302)](_0x1b0bcf['body']);let _0x37cd5f=await this[_0x155864(0x803)]({'request':_0x1b0bcf,'schema':v,'ClassRef':M,'execute':_0xe0fa88=>T[_0x155864(0x230)](_0xe0fa88,_0x5a4d30)});_0xb77e03[_0x155864(0x538)](0xc8)[_0x155864(0x679)](_0x37cd5f);})[_0x5a5af4(0x37f)](this[_0x5a5af4(0x549)](_0x5a5af4(0x481)),..._0x16ae19,async(_0x1c6d7d,_0x302a1b)=>{const _0x4fca9d=_0x5a5af4;let _0x38226b=_0x1c6d7d['body'];y[_0x4fca9d(0x302)](_0x4fca9d(0x3f0)),y[_0x4fca9d(0x302)](_0x4fca9d(0x654)),y[_0x4fca9d(0x302)](_0x1c6d7d['body']);let _0x4f449d=await this[_0x4fca9d(0x803)]({'request':_0x1c6d7d,'schema':v,'ClassRef':M,'execute':_0x3e300e=>T[_0x4fca9d(0x205)](_0x3e300e,_0x38226b)});_0x302a1b['status'](0xc8)[_0x4fca9d(0x679)](_0x4f449d);})[_0x5a5af4(0x37f)](this[_0x5a5af4(0x549)](_0x5a5af4(0x38c)),..._0x16ae19,async(_0x3c46fb,_0x51392b)=>{const _0x5a3faa=_0x5a5af4;let _0x25de91=_0x3c46fb[_0x5a3faa(0x356)];y[_0x5a3faa(0x302)](_0x5a3faa(0x297)),y[_0x5a3faa(0x302)](_0x5a3faa(0x654)),y[_0x5a3faa(0x302)](_0x3c46fb[_0x5a3faa(0x356)]);let _0x34f18e=await this[_0x5a3faa(0x803)]({'request':_0x3c46fb,'schema':v,'ClassRef':M,'execute':_0x172605=>T[_0x5a3faa(0x51f)](_0x172605,_0x25de91)});_0x51392b[_0x5a3faa(0x538)](0xc8)[_0x5a3faa(0x679)](_0x34f18e);})[_0x5a5af4(0x37f)](this[_0x5a5af4(0x549)](_0x5a5af4(0x21f)),..._0x16ae19,async(_0x36ed2f,_0x1f3728)=>{const _0x137475=_0x5a5af4;let _0x3e1e78=_0x36ed2f[_0x137475(0x356)];y[_0x137475(0x302)]('request\x20received\x20in\x20getFlow'),y[_0x137475(0x302)](_0x137475(0x654)),y['verbose'](_0x36ed2f[_0x137475(0x356)]);let _0x4705ec=await this['dataValidate']({'request':_0x36ed2f,'schema':v,'ClassRef':M,'execute':_0x118ea8=>T[_0x137475(0x129)](_0x118ea8,_0x3e1e78)});_0x1f3728[_0x137475(0x538)](0xc8)[_0x137475(0x679)](_0x4705ec);})[_0x5a5af4(0x7b7)](this[_0x5a5af4(0x549)](_0x5a5af4(0x7e7)),..._0x16ae19,async(_0xd1b0a4,_0x18864d)=>{const _0x517a95=_0x5a5af4;let _0x3952c5=_0xd1b0a4[_0x517a95(0x356)];y[_0x517a95(0x302)]('request\x20received\x20in\x20deleteFlow'),y[_0x517a95(0x302)](_0x517a95(0x654)),y['verbose'](_0xd1b0a4['body']);let _0x43026d=await this[_0x517a95(0x803)]({'request':_0xd1b0a4,'schema':v,'ClassRef':M,'execute':_0x29398f=>T['deleteFlow'](_0x29398f,_0x3952c5)});_0x18864d[_0x517a95(0x538)](0xc8)['json'](_0x43026d);})[_0x5a5af4(0x693)](this[_0x5a5af4(0x549)](_0x5a5af4(0x715)),..._0x16ae19,async(_0x40d87b,_0x10870b)=>{const _0x50ee15=_0x5a5af4;y['verbose'](_0x50ee15(0x419));let _0x5ecb54=await this[_0x50ee15(0x803)]({'request':_0x40d87b,'schema':v,'ClassRef':M,'execute':_0x24a7c0=>T[_0x50ee15(0x5c3)](_0x24a7c0)});_0x10870b[_0x50ee15(0x538)](0xc8)[_0x50ee15(0x679)](_0x5ecb54);});}},So=A(require(a0_0x6d27f9(0x4a4))),ee={};function wo(_0x5eb9fd,_0x234d0a,_0x202be9,_0x27d976){ee[_0x5eb9fd]||(ee[_0x5eb9fd]={}),ee[_0x5eb9fd][_0x234d0a]={'id':_0x234d0a,'response':_0x202be9,'events':_0x27d976};}function yo(_0x16bda7,_0x32167d){!ee[_0x16bda7]||!ee[_0x16bda7][_0x32167d]||delete ee[_0x16bda7][_0x32167d];}function j(_0x106409,_0x1ace42,_0x1c38d6){const _0x28e0bb=a0_0x6d27f9;if(!ee[_0x106409])return;let _0x418b9f=_0x28e0bb(0x67c)+JSON[_0x28e0bb(0x450)](_0x1c38d6)+'\x0a\x0a';Object[_0x28e0bb(0xe2)](ee[_0x106409])[_0x28e0bb(0x48c)](_0x2c4fa5=>{const _0x1a30dc=_0x28e0bb;_0x2c4fa5[_0x1a30dc(0x1c6)]['includes'](_0x1ace42)&&_0x2c4fa5['response'][_0x1a30dc(0x135)](_0x418b9f);});}function bo(){const _0xd02241=a0_0x6d27f9;let _0x28ecbb={};for(let _0x27a36c in ee)_0x28ecbb[_0x27a36c]=Object[_0xd02241(0xe2)](ee[_0x27a36c])[_0xd02241(0x5f1)](_0x1aa629=>({'id':_0x1aa629['id'],'events':_0x1aa629[_0xd02241(0x1c6)]}));return _0x28ecbb;}var Mo=require('uuid'),Is=require(a0_0x6d27f9(0x55f)),As=class{},Ai=new Is[(a0_0x6d27f9(0x6c3))]({'url':{'type':String,'required':!0x0},'enabled':{'type':Boolean,'required':!0x0},'local_map':{'type':Boolean},'STATUS_INSTANCE':{'type':Boolean,'required':!0x0},'QRCODE_UPDATED':{'type':Boolean,'required':!0x0},'MESSAGES_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_UPSERT':{'type':Boolean,'required':!0x0},'SEND_MESSAGE':{'type':Boolean,'required':!0x0},'GROUPS_UPSERT':{'type':Boolean,'required':!0x0},'GROUPS_UPDATE':{'type':Boolean,'required':!0x0},'GROUP_PARTICIPANTS_UPDATE':{'type':Boolean,'required':!0x0},'CONNECTION_UPDATE':{'type':Boolean,'required':!0x0},'MESSAGES_SET':{'type':Boolean,'required':!0x0},'CONTACTS_SET':{'type':Boolean,'required':!0x0},'CONTACTS_UPSERT':{'type':Boolean,'required':!0x0},'CONTACTS_UPDATE':{'type':Boolean,'required':!0x0},'PRESENCE_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_SET':{'type':Boolean,'required':!0x0},'CHATS_UPSERT':{'type':Boolean,'required':!0x0},'CHATS_UPDATE':{'type':Boolean,'required':!0x0},'CHATS_DELETE':{'type':Boolean,'required':!0x0}},{'_id':!0x1}),Ii=new Is[(a0_0x6d27f9(0x6c3))]({'_id':{'type':String,'default':a0_0x6d27f9(0x2e2)},'WebhookGlobal':{'type':Ai},'connectedName':{'type':String},'connectedClient':{'type':String},'DaysToDelete':{'type':Number},'AllProxy':{'type':Boolean}}),Me=R?.['model'](As[a0_0x6d27f9(0x552)],Ii,'All_Instances_Config'),Ti=So[a0_0x6d27f9(0x49c)][a0_0x6d27f9(0x34b)](__dirname,a0_0x6d27f9(0x73f)),xe=(0x0,Ot[a0_0x6d27f9(0x4fe)])(),Oi=b[a0_0x6d27f9(0x693)](a0_0x6d27f9(0x409))['TYPE'],ie=[Na,$a,Ia[Oi]];xe['use'](a0_0x6d27f9(0x678),Ot['default'][a0_0x6d27f9(0x127)](Ti))[a0_0x6d27f9(0x693)](a0_0x6d27f9(0x13e),async(_0x253dcf,_0x29d5ad)=>{const _0x39e4b2=a0_0x6d27f9;console['log'](_0x39e4b2(0x6d0));let _0x49f3d8=_0x253dcf[_0x39e4b2(0x283)][_0x39e4b2(0x403)],_0x174521=(_0x253dcf[_0x39e4b2(0x4b7)]['events']||'')[_0x39e4b2(0x48d)](','),_0xe4cc74=(0x0,Mo['v4'])();console['log'](_0x39e4b2(0x660),_0x49f3d8),console[_0x39e4b2(0x2ac)](_0x39e4b2(0x199),_0x174521);let _0x26f63d=b[_0x39e4b2(0x693)]('AUTHENTICATION')['API_KEY'],_0x3f2467=_0x253dcf[_0x39e4b2(0x4b7)]['apikey'];if(console['log'](_0x39e4b2(0x194),_0x3f2467),_0x26f63d[_0x39e4b2(0x2d8)]!==_0x3f2467){console['log'](_0x39e4b2(0x7f0));try{let _0xfaac9=await ge['auth'][_0x39e4b2(0x37d)](_0x49f3d8);if(console['log'](_0x39e4b2(0x643),_0xfaac9),!_0xfaac9||_0xfaac9[_0x39e4b2(0x226)]!==_0x3f2467)return console[_0x39e4b2(0x2ac)](_0x39e4b2(0x28d)),_0x29d5ad[_0x39e4b2(0x538)](0x191)['send']('API\x20Key\x20inválida.');}catch(_0x29c7b1){return console[_0x39e4b2(0x782)](_0x39e4b2(0x3fc),_0x29c7b1),_0x29d5ad[_0x39e4b2(0x538)](0x191)[_0x39e4b2(0x4a8)](_0x39e4b2(0x1f0));}}if(!await Ae(_0x49f3d8))return _0x29d5ad[_0x39e4b2(0x538)](0x194)['send'](_0x39e4b2(0x4c0));_0x29d5ad[_0x39e4b2(0x261)](_0x39e4b2(0xfd),_0x39e4b2(0x2f2)),_0x29d5ad[_0x39e4b2(0x261)]('Cache-Control','no-cache'),_0x29d5ad[_0x39e4b2(0x261)](_0x39e4b2(0x74b),_0x39e4b2(0x619)),_0x29d5ad[_0x39e4b2(0x307)]();let _0x3e4828=_0x39e4b2(0x67c)+JSON[_0x39e4b2(0x450)]({'info':'Conexão\x20estabelecida'})+'\x0a\x0a';_0x29d5ad['write'](_0x3e4828),wo(_0x49f3d8,_0xe4cc74,_0x29d5ad,_0x174521),_0x253dcf['on']('close',()=>{const _0x3d8333=_0x39e4b2;console[_0x3d8333(0x2ac)](_0x3d8333(0x4bb)+_0x49f3d8),yo(_0x49f3d8,_0xe4cc74);});}),xe[a0_0x6d27f9(0x37f)](a0_0x6d27f9(0x21d),async(_0x28ee15,_0x2e499b)=>{const _0x703191=a0_0x6d27f9;console['log']('iniciando\x20fluxo\x20router');let _0x4b636c=_0x28ee15[_0x703191(0x283)][_0x703191(0x403)],_0x4e6014=_0x28ee15[_0x703191(0x283)][_0x703191(0x21b)],_0x3de6a9=_0x28ee15[_0x703191(0x4b7)][_0x703191(0x455)]||'',_0x612fa8=_0x28ee15[_0x703191(0x356)];console[_0x703191(0x2ac)](_0x703191(0x279),_0x4b636c),console[_0x703191(0x2ac)](_0x703191(0x25d),_0x4e6014),console[_0x703191(0x2ac)](_0x703191(0x10e),_0x3de6a9),console['log'](_0x703191(0x52a),_0x612fa8);try{if(!await Ae(_0x4b636c))return _0x2e499b['status'](0x194)['send'](_0x703191(0x4c0));let _0x234a1=await T[_0x703191(0xde)](_0x4b636c,_0x4e6014,_0x3de6a9,_0x612fa8);_0x2e499b[_0x703191(0x4a8)](_0x234a1);}catch(_0x196eda){console[_0x703191(0x782)](_0x196eda),_0x2e499b[_0x703191(0x538)](0x1f4)[_0x703191(0x4a8)](_0x703191(0x155));}}),xe['get']('/clients-info',(_0x2c8227,_0xbe2bdb)=>{let _0x2c5a7f=bo();_0xbe2bdb['json'](_0x2c5a7f);})['get']('/',(_0x40d74e,_0x15cd11)=>{const _0x2a1680=a0_0x6d27f9;let _0x39f3ae=b[_0x2a1680(0x693)](_0x2a1680(0x617))[_0x2a1680(0xeb)];if(_0x39f3ae){let _0xa0d0ab=encodeURIComponent(''+_0x39f3ae);_0x15cd11['redirect'](_0x2a1680(0x44e)+_0xa0d0ab);return;}let _0x126040=b[_0x2a1680(0x693)](_0x2a1680(0x713)),_0x30bfd0=_0x126040&&_0x126040['FULLCHAIN'][_0x2a1680(0x48d)]('/')[0x4];if(_0x30bfd0){let _0x3e4885=encodeURIComponent(_0x2a1680(0x4fd)+_0x30bfd0);_0x15cd11[_0x2a1680(0x578)](_0x2a1680(0x44e)+_0x3e4885);}else _0x15cd11[_0x2a1680(0x578)](_0x2a1680(0x6bd));})[a0_0x6d27f9(0x2d2)]('/exit',...ie,async(_0x5137a6,_0x36db3f)=>{const _0x506a76=a0_0x6d27f9;try{console[_0x506a76(0x2ac)](_0x506a76(0x72d)),_0x36db3f['status'](0xc8)[_0x506a76(0x679)]({'message':_0x506a76(0x3f7)}),_0x36db3f['on'](_0x506a76(0x700),()=>process[_0x506a76(0x5d3)](0x0));}catch(_0x363370){console[_0x506a76(0x782)](_0x506a76(0x12b),_0x363370),_0x36db3f['status'](0x1f4)[_0x506a76(0x679)]({'message':'Erro\x20ao\x20encerrar\x20a\x20API'});}})[a0_0x6d27f9(0x2d2)]('/config',...ie,async(_0x2d9ff9,_0x3fbc18)=>{const _0x205c9f=a0_0x6d27f9;try{let _0x54819e=_0x2d9ff9[_0x205c9f(0x356)];await Me[_0x205c9f(0x46a)]({},{'$set':_0x54819e},{'upsert':!0x0});let _0x3ee465=await Me['findOne']();_0x3fbc18['json'](_0x3ee465);}catch(_0x26df1c){_0x3fbc18[_0x205c9f(0x538)](0x190)[_0x205c9f(0x4a8)](_0x26df1c[_0x205c9f(0x60b)]);}})['get'](a0_0x6d27f9(0x28c),...ie,async(_0x459db1,_0x2720f6)=>{const _0x3c0953=a0_0x6d27f9;try{let _0xe5f6f5=await Me['findOne']();if(!_0xe5f6f5)return _0x2720f6[_0x3c0953(0x679)]({});_0x2720f6[_0x3c0953(0x679)](_0xe5f6f5);}catch(_0x4b3dd3){_0x2720f6[_0x3c0953(0x538)](0x1f4)['send'](_0x4b3dd3[_0x3c0953(0x60b)]);}})[a0_0x6d27f9(0x20f)](a0_0x6d27f9(0x7aa),new ft(b,...ie)[a0_0x6d27f9(0x400)])[a0_0x6d27f9(0x20f)](a0_0x6d27f9(0x399),new Rt(...ie)[a0_0x6d27f9(0x400)])[a0_0x6d27f9(0x20f)]('/chat',new rt(...ie)[a0_0x6d27f9(0x400)])[a0_0x6d27f9(0x20f)](a0_0x6d27f9(0xef),new mt(...ie)[a0_0x6d27f9(0x400)])[a0_0x6d27f9(0x20f)](a0_0x6d27f9(0x28b),new It(...ie)[a0_0x6d27f9(0x400)])[a0_0x6d27f9(0x20f)](a0_0x6d27f9(0x11c),new Tt(...ie)[a0_0x6d27f9(0x400)]);var m=class{constructor(..._0x361682){const _0x1b3c46=a0_0x6d27f9;throw{'status':0x190,'error':_0x1b3c46(0x301),'message':_0x361682[_0x1b3c46(0x4b3)]>0x0?_0x361682:void 0x0};}},oe=class{constructor(..._0x2f3353){const _0xd1b790=a0_0x6d27f9;throw{'status':0x191,'error':_0xd1b790(0x71c),'message':_0x2f3353[_0xd1b790(0x4b3)]>0x0?_0x2f3353:void 0x0};}},Y=class{constructor(..._0x3e62c6){const _0x55fda8=a0_0x6d27f9;throw{'status':0x193,'error':_0x55fda8(0x766),'message':_0x3e62c6[_0x55fda8(0x4b3)]>0x0?_0x3e62c6:void 0x0};}},J=class{constructor(..._0x4a110f){const _0x367d27=a0_0x6d27f9;throw{'status':0x194,'error':'Not\x20Found','message':_0x4a110f[_0x367d27(0x4b3)]>0x0?_0x4a110f:void 0x0};}},_=class{constructor(..._0x433bb9){const _0x1d56a3=a0_0x6d27f9;throw{'status':0x1f4,'error':_0x1d56a3(0x112),'message':_0x433bb9['length']>0x0?_0x433bb9:void 0x0};}},me=require('@whiskeysockets/baileys');async function Ts(_0x50b9ee){const _0x55dc25=a0_0x6d27f9;let _0x5dfe34=new $(Ts[_0x55dc25(0x552)]),_0x461061=R['getClient'](),_0x153ed1=_0x461061['db'](b['get'](_0x55dc25(0x653))[_0x55dc25(0x540)][_0x55dc25(0x2f8)]+_0x55dc25(0xfe))['collection'](_0x50b9ee),_0x4eb3a8=async(_0x215c4a,_0x533901)=>{const _0xb366c9=_0x55dc25;try{return await _0x461061[_0xb366c9(0x50f)](),await _0x153ed1[_0xb366c9(0x202)]({'_id':_0x533901},JSON[_0xb366c9(0x610)](JSON[_0xb366c9(0x450)](_0x215c4a,me[_0xb366c9(0x459)][_0xb366c9(0x396)])),{'upsert':!0x0});}catch{}},_0x478297=async _0x11bb53=>{const _0x59ca19=_0x55dc25;try{await _0x461061[_0x59ca19(0x50f)]();let _0x2f8289=await _0x153ed1[_0x59ca19(0x206)]({'_id':_0x11bb53}),_0x58da22=JSON[_0x59ca19(0x450)](_0x2f8289);return JSON[_0x59ca19(0x610)](_0x58da22,me[_0x59ca19(0x459)][_0x59ca19(0x18c)]);}catch{}},_0x5ca50a=async _0x40003c=>{const _0x2b6a88=_0x55dc25;try{return await _0x461061[_0x2b6a88(0x50f)](),await _0x153ed1[_0x2b6a88(0x741)]({'_id':_0x40003c});}catch{}},_0x3903f6=await _0x478297(_0x55dc25(0x438))||(0x0,me[_0x55dc25(0x233)])();return{'state':{'creds':_0x3903f6,'keys':{'get':async(_0x23353b,_0x2f6df2)=>{let _0x388565={};return await Promise['all'](_0x2f6df2['map'](async _0x900949=>{const _0x1f7bd7=a0_0x3485;let _0x50e11c=await _0x478297(_0x23353b+'-'+_0x900949);_0x23353b===_0x1f7bd7(0x2f9)&&_0x50e11c&&(_0x50e11c=me['proto'][_0x1f7bd7(0x745)][_0x1f7bd7(0x7ee)]['fromObject'](_0x50e11c)),_0x388565[_0x900949]=_0x50e11c;})),_0x388565;},'set':async _0x3d4aca=>{const _0x560aeb=_0x55dc25;let _0x336961=[];for(let _0x4fd99f in _0x3d4aca)for(let _0x5a043f in _0x3d4aca[_0x4fd99f]){let _0x28a980=_0x3d4aca[_0x4fd99f][_0x5a043f],_0x3532c6=_0x4fd99f+'-'+_0x5a043f;_0x336961[_0x560aeb(0x6b3)](_0x28a980?_0x4eb3a8(_0x28a980,_0x3532c6):_0x5ca50a(_0x3532c6));}await Promise['all'](_0x336961);}}},'saveCreds':async()=>_0x4eb3a8(_0x3903f6,_0x55dc25(0x438))};}var Ps=A(require(a0_0x6d27f9(0x76a))),ks=A(require('node-cache')),Dt=require(a0_0x6d27f9(0x1ae)),Co=require(a0_0x6d27f9(0x444)),xt=require(a0_0x6d27f9(0x1ae)),_t;function _i(_0x3dc6b9){const _0x5865d4=a0_0x6d27f9;return _t||(_t=(0x0,Co[_0x5865d4(0x103)])({'url':_0x3dc6b9[_0x5865d4(0x327)]}),_t[_0x5865d4(0x50f)]()),_t;}var ue=class l{constructor(_0x3b7285,_0x5615b3){const _0x2f1af1=a0_0x6d27f9;this[_0x2f1af1(0x807)]=_0x3b7285,this[_0x2f1af1(0x383)]=_0x5615b3,this[_0x2f1af1(0x267)]=new $(l[_0x2f1af1(0x552)]),this['client']=_i(_0x3b7285);}set[a0_0x6d27f9(0x612)](_0x1dbe3c){this['instanceName']=_0x1dbe3c;}async[a0_0x6d27f9(0x6e4)](){const _0x3b4bd9=a0_0x6d27f9;try{return await this[_0x3b4bd9(0x735)]['sendCommand'](['keys',this[_0x3b4bd9(0x807)][_0x3b4bd9(0x26c)]+':*']);}catch(_0x436e73){this[_0x3b4bd9(0x267)][_0x3b4bd9(0x782)](_0x436e73);}}async[a0_0x6d27f9(0x322)](_0x4948c0,_0x5036d0){const _0x56f496=a0_0x6d27f9;try{let _0x14e0cc=JSON[_0x56f496(0x450)](_0x5036d0,xt[_0x56f496(0x459)][_0x56f496(0x396)]);return await this[_0x56f496(0x735)][_0x56f496(0x748)](this[_0x56f496(0x807)][_0x56f496(0x26c)]+':'+this['instanceName'],_0x4948c0,_0x14e0cc);}catch(_0x1282ef){this['logger'][_0x56f496(0x782)](_0x1282ef);}}async['getAllData'](){const _0x59a5b8=a0_0x6d27f9;try{let _0x3705d6=await this[_0x59a5b8(0x735)][_0x59a5b8(0x1f8)](this[_0x59a5b8(0x807)][_0x59a5b8(0x26c)]+':'+this[_0x59a5b8(0x383)]);if(_0x3705d6){for(let _0x217c5d in _0x3705d6)Object[_0x59a5b8(0x19a)][_0x59a5b8(0x187)][_0x59a5b8(0x595)](_0x3705d6,_0x217c5d)&&(_0x3705d6[_0x217c5d]=JSON[_0x59a5b8(0x610)](_0x3705d6[_0x217c5d],xt['BufferJSON'][_0x59a5b8(0x18c)]));return _0x3705d6;}}catch(_0x4e197b){this[_0x59a5b8(0x267)]['error'](_0x4e197b);}}async[a0_0x6d27f9(0x784)](_0x59993b){const _0x5e46d8=a0_0x6d27f9;try{let _0x4fc770=await this[_0x5e46d8(0x735)][_0x5e46d8(0x376)](this[_0x5e46d8(0x807)]['PREFIX_KEY']+':'+this['instanceName'],_0x59993b);if(_0x4fc770)return JSON[_0x5e46d8(0x610)](_0x4fc770,xt[_0x5e46d8(0x459)][_0x5e46d8(0x18c)]);}catch(_0x189dbf){this[_0x5e46d8(0x267)][_0x5e46d8(0x782)](_0x189dbf);}}async[a0_0x6d27f9(0x571)](_0x2691b4){const _0x1444ab=a0_0x6d27f9;try{return await this[_0x1444ab(0x735)][_0x1444ab(0x5dc)](this[_0x1444ab(0x807)]['PREFIX_KEY']+':'+this['instanceName'],_0x2691b4);}catch(_0x2c1f18){this[_0x1444ab(0x267)][_0x1444ab(0x782)](_0x2c1f18);}}async[a0_0x6d27f9(0x449)](_0x276789){const _0x18373c=a0_0x6d27f9;try{return await this['client'][_0x18373c(0x1b5)](_0x276789||this['redisEnv']['PREFIX_KEY']+':'+this['instanceName']);}catch(_0x38a6e1){this['logger'][_0x18373c(0x782)](_0x38a6e1);}}};async function Os(_0x3547bf,_0x2c688d){const _0x31d482=a0_0x6d27f9;let _0x5d0ea7=new $(Os[_0x31d482(0x552)]),_0x47c430=new ue(_0x3547bf,_0x2c688d),_0x38337f=async(_0x110847,_0x241b0e)=>{const _0x3e492a=_0x31d482;try{return await _0x47c430[_0x3e492a(0x322)](_0x241b0e,_0x110847);}catch(_0xdd32e1){return _0x5d0ea7[_0x3e492a(0x782)]({'localError':_0x3e492a(0x322),'error':_0xdd32e1});}},_0x509afa=async _0x4e2428=>{const _0x525ea8=_0x31d482;try{return await _0x47c430[_0x525ea8(0x784)](_0x4e2428);}catch(_0x39dc60){_0x5d0ea7['error']({'readData':_0x525ea8(0x322),'error':_0x39dc60});return;}},_0x35a4c6=async _0x4bf16e=>{const _0x5e879a=_0x31d482;try{return await _0x47c430['removeData'](_0x4bf16e);}catch(_0x2e3b87){_0x5d0ea7[_0x5e879a(0x782)]({'readData':_0x5e879a(0x571),'error':_0x2e3b87});}},_0x220dd6=await _0x509afa('creds')||(0x0,Dt[_0x31d482(0x233)])();return{'state':{'creds':_0x220dd6,'keys':{'get':async(_0x11f013,_0x158d9e)=>{const _0x206b6a=_0x31d482;let _0x382310={};return await Promise['all'](_0x158d9e[_0x206b6a(0x5f1)](async _0x2c41eb=>{const _0x3b92d5=_0x206b6a;let _0x28e141=await _0x509afa(_0x11f013+'-'+_0x2c41eb);_0x11f013===_0x3b92d5(0x2f9)&&_0x28e141&&(_0x28e141=Dt[_0x3b92d5(0x7ba)][_0x3b92d5(0x745)]['AppStateSyncKeyData']['fromObject'](_0x28e141)),_0x382310[_0x2c41eb]=_0x28e141;})),_0x382310;},'set':async _0x2f360e=>{const _0xbcba76=_0x31d482;let _0x14628c=[];for(let _0x38882d in _0x2f360e)for(let _0x1e49c6 in _0x2f360e[_0x38882d]){let _0x179f98=_0x2f360e[_0x38882d][_0x1e49c6],_0x18cf53=_0x38882d+'-'+_0x1e49c6;_0x14628c['push'](_0x179f98?await _0x38337f(_0x179f98,_0x18cf53):await _0x35a4c6(_0x18cf53));}await Promise[_0xbcba76(0x1ea)](_0x14628c);}}},'saveCreds':async()=>await _0x38337f(_0x220dd6,_0x31d482(0x438))};}var L=A(require('fs')),fe=require(a0_0x6d27f9(0x59c)),Ft=A(require(a0_0x6d27f9(0x633))),Ut=require(a0_0x6d27f9(0x243)),Eo=require('child_process'),vo=require('util'),No=A(require('axios')),Ce=class extends O{constructor(_0x3362ed,_0x4b92ac,_0x30eb63){const _0xd5c7c7=a0_0x6d27f9;super(_0x4b92ac),this['cacheInstanceModel']=_0x3362ed,this[_0xd5c7c7(0x14e)]=_0x4b92ac,this['dbConnection']=_0x30eb63;}async[a0_0x6d27f9(0x802)](_0x4a4081,_0x53d6cc){const _0x4b853f=a0_0x6d27f9;try{if(this['dbSettings'][_0x4b853f(0x43a)]){console[_0x4b853f(0x2ac)](_0x4b853f(0x668)+_0x53d6cc+_0x4b853f(0x427),_0x4a4081);let _0x21b304=await this[_0x4b853f(0x58a)]['findOneAndUpdate']({'_id':_0x53d6cc},{'$set':_0x4a4081},{'new':!0x0,'upsert':!0x0});return console['log'](_0x4b853f(0x2bb),_0x21b304),_0x21b304;}}catch(_0xb212d0){throw console[_0x4b853f(0x782)](_0x4b853f(0x382),_0xb212d0),_0xb212d0;}return null;}async[a0_0x6d27f9(0x741)](_0xccc65b){const _0x37c25a=a0_0x6d27f9;try{let _0x5f2932=I(_0xccc65b['where']);return{'deletedCount':(await this[_0x37c25a(0x58a)][_0x37c25a(0x741)](_0x5f2932))[_0x37c25a(0x783)]};}catch(_0x28bf05){return{'error':_0x28bf05?.[_0x37c25a(0x3f4)]()};}}async['findOne'](_0x6c7a36){const _0x3e9eb7=a0_0x6d27f9;try{let _0x446cc0=I(_0x6c7a36[_0x3e9eb7(0x771)]);return await this[_0x3e9eb7(0x58a)][_0x3e9eb7(0x206)](_0x446cc0)[_0x3e9eb7(0x57a)]();}catch{return null;}}},Pt=(0x0,vo[a0_0x6d27f9(0x24c)])(Eo[a0_0x6d27f9(0x1a0)]),_s=class{constructor(){const _0x56082b=a0_0x6d27f9;this[_0x56082b(0x6f2)]=new Ce(Ve,b),(!this[_0x56082b(0x119)]||!this[_0x56082b(0x2d0)])&&this[_0x56082b(0x6b8)]()['then'](()=>{const _0x356eaa=_0x56082b;console[_0x356eaa(0x2ac)]('IPv6\x20Prefix\x20detected:\x20'+this[_0x356eaa(0x119)]),console[_0x356eaa(0x2ac)]('Network\x20Interface\x20detected:\x20'+this[_0x356eaa(0x2d0)]);})[_0x56082b(0x5ce)](_0x3f67f2=>{const _0x3e7470=_0x56082b;console[_0x3e7470(0x782)](_0x3e7470(0x54e)+_0x3f67f2[_0x3e7470(0x60b)]);});}async[a0_0x6d27f9(0x6b8)](){const _0xbcc0c1=a0_0x6d27f9;try{let {stdout:_0x328041}=await Pt(_0xbcc0c1(0x341));console['log'](_0xbcc0c1(0x6aa)+_0x328041);let _0x48306a=_0x328041[_0xbcc0c1(0x48d)]('\x0a')['map'](_0x52898b=>_0x52898b[_0xbcc0c1(0x48d)]('\x20')[0x0])[_0xbcc0c1(0x3ec)](_0xcf0cf2=>!_0xcf0cf2['includes']('lo')&&!_0xcf0cf2['includes'](_0xbcc0c1(0x3f5))&&!_0xcf0cf2[_0xbcc0c1(0x562)](_0xbcc0c1(0x3bc))&&!_0xcf0cf2[_0xbcc0c1(0x562)]('wl')&&!_0xcf0cf2[_0xbcc0c1(0x562)]('@'));if(console[_0xbcc0c1(0x2ac)](_0xbcc0c1(0x47d)+_0x48306a),_0x48306a['length']===0x0)throw new Error(_0xbcc0c1(0x295));this['networkInterface']=_0x48306a[0x0];let {stdout:_0x350a30}=await Pt(_0xbcc0c1(0x1cf)+this[_0xbcc0c1(0x2d0)]);console[_0xbcc0c1(0x2ac)]('IPv6\x20addresses\x20detected:\x20'+_0x350a30);let _0x8533e9=_0x350a30[_0xbcc0c1(0x48d)]('\x0a')[_0xbcc0c1(0x37d)](_0x59c9c8=>_0x59c9c8['includes'](_0xbcc0c1(0x4cd))&&_0x59c9c8[_0xbcc0c1(0x562)](_0xbcc0c1(0x60c)));if(!_0x8533e9)throw new Error('No\x20global\x20IPv6\x20address\x20found\x20on\x20the\x20network\x20interface');let _0x162149=_0x8533e9[_0xbcc0c1(0x66f)](/inet6\s+([a-fA-F0-9:]+)\/(\d+)/);if(!_0x162149)throw new Error(_0xbcc0c1(0x278));let [_0x1be621,_0x2eeeea,_0x1893c8]=_0x162149,_0x4f6d3c=Math[_0xbcc0c1(0x570)](Number(_0x1893c8)/0x10),_0x5cf90d=Number(_0x1893c8)%0x10,_0xca6799=_0x2eeeea[_0xbcc0c1(0x48d)](':')[_0xbcc0c1(0x5cc)](0x0,_0x4f6d3c)['join'](':');if(_0x5cf90d>0x0){let _0x56edac=_0x2eeeea[_0xbcc0c1(0x48d)](':')[_0x4f6d3c],_0x5925e8=0xffff<<0x10-_0x5cf90d&0xffff,_0x407031=(parseInt(_0x56edac,0x10)&_0x5925e8)[_0xbcc0c1(0x3f4)](0x10)[_0xbcc0c1(0x109)](0x4,'0');_0xca6799+=':'+_0x407031;}this[_0xbcc0c1(0x119)]=_0xca6799+':';}catch(_0xa513c6){console['error'](_0xbcc0c1(0x692),_0xa513c6);}}async['configureIPv6'](_0x4919ff){const _0x569949=a0_0x6d27f9;let _0x484226=_0x569949(0x3bf)+_0x4919ff+_0x569949(0x451)+this[_0x569949(0x2d0)];try{await Pt(_0x484226),console[_0x569949(0x2ac)](_0x569949(0x6a2)+_0x4919ff);}catch(_0x5d5a3d){throw console[_0x569949(0x782)](_0x569949(0x696)+_0x5d5a3d),new Error('Error\x20adding\x20IPv6\x20address:\x20'+_0x5d5a3d);}}async['removeIPv6'](_0x1f73f7){const _0xfe131a=a0_0x6d27f9;let _0x36286b=_0xfe131a(0x23a)+_0x1f73f7+_0xfe131a(0x451)+this['networkInterface'];try{await Pt(_0x36286b),console[_0xfe131a(0x2ac)](_0xfe131a(0x7da)+_0x1f73f7);}catch(_0x4f212b){throw console['error'](_0xfe131a(0x7a0)+_0x4f212b),new Error('Error\x20removing\x20IPv6\x20address:\x20'+_0x4f212b);}}['randomMac'](){const _0x34a64e=a0_0x6d27f9;return'XX:XX:XX:XX:XX:XX'['replace'](/X/g,()=>'0123456789ABCDEF'[_0x34a64e(0x2c8)](Math['floor'](Math[_0x34a64e(0x329)]()*0x10)));}[a0_0x6d27f9(0x3f6)](_0x124474,_0x83567b){const _0x19c15d=a0_0x6d27f9;let _0x500742=_0x83567b[_0x19c15d(0x48d)](':');return _0x500742[0x0]=(parseInt(_0x500742[0x0],0x10)^0x2)[_0x19c15d(0x3f4)](0x10)[_0x19c15d(0x109)](0x2,'0'),''+_0x124474+_0x500742[0x0]+_0x500742[0x1]+':'+_0x500742[0x2]+'ff:fe'+_0x500742[0x3]+':'+_0x500742[0x4]+_0x500742[0x5];}['generateRandomIPv6'](){const _0x4854bc=a0_0x6d27f9;let _0x13cdf2=this[_0x4854bc(0x119)];_0x13cdf2[_0x4854bc(0x1bf)](':')||(_0x13cdf2+=':');let _0x2a3f6c=this[_0x4854bc(0x179)]();return this[_0x4854bc(0x3f6)](_0x13cdf2,_0x2a3f6c);}[a0_0x6d27f9(0x13f)](_0xed3224){const _0x411883=a0_0x6d27f9;return new RegExp('^([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}$')[_0x411883(0x258)](_0xed3224);}async[a0_0x6d27f9(0x284)](_0x1a3c5c){const _0x25338e=a0_0x6d27f9;let _0xaf3da5=[{'url':'https://ipv6.jsonip.com','parse':_0x42c402=>_0x42c402['ip']},{'url':_0x25338e(0x494),'parse':_0x395a74=>_0x395a74['ip']},{'url':'https://ifconfig.me/ip','parse':_0xb5ac6b=>_0xb5ac6b[_0x25338e(0x3ab)]()},{'url':_0x25338e(0x61b),'parse':_0x24a937=>_0x24a937[_0x25338e(0x3ab)]()}],_0x38b2ab=_0xaf3da5[Math[_0x25338e(0x570)](Math[_0x25338e(0x329)]()*_0xaf3da5['length'])];try{let _0x5ec754=await No[_0x25338e(0x49c)]['get'](_0x38b2ab[_0x25338e(0x4ec)],{'timeout':0x1388,'headers':{'X-Forwarded-For':_0x1a3c5c}}),_0x587675=_0x38b2ab[_0x25338e(0x610)](_0x5ec754[_0x25338e(0x462)]);return _0x587675['toLowerCase']()===_0x1a3c5c[_0x25338e(0x1b4)]()?(console['log'](_0x25338e(0x631)+_0x1a3c5c),!0x0):(console['error']('IP\x20mismatch:\x20configured\x20'+_0x1a3c5c+_0x25338e(0x3f1)+_0x587675),!0x1);}catch(_0x10047e){return console[_0x25338e(0x782)](_0x25338e(0xe3)+_0x38b2ab['url']+':\x20'+_0x10047e['message']),!0x1;}}async[a0_0x6d27f9(0x1c0)](_0x1a8084,_0x5e8af5){const _0x335d6d=a0_0x6d27f9;if(!this['ipv6Prefix']||!this['networkInterface'])return console[_0x335d6d(0x782)](_0x335d6d(0x7b4)),null;let _0x3355bb;do _0x3355bb=this[_0x335d6d(0x7cf)](),console[_0x335d6d(0x2ac)](_0x335d6d(0x33f)+_0x3355bb);while(!await this[_0x335d6d(0x52b)](_0x3355bb));await this[_0x335d6d(0x114)](_0x3355bb),console[_0x335d6d(0x2ac)](_0x335d6d(0x673)+_0x3355bb);let _0x57dc68={'_id':_0x1a8084+'-'+_0x5e8af5,'ip':_0x3355bb},_0x49d0d1=await this[_0x335d6d(0x6f2)][_0x335d6d(0x802)](_0x57dc68,_0x57dc68[_0x335d6d(0x3b9)]);return console['log']('Cache\x20instance\x20update\x20result:\x20'+_0x49d0d1),_0x3355bb;}async[a0_0x6d27f9(0x52b)](_0x5e406f){const _0x235e2e=a0_0x6d27f9;return this[_0x235e2e(0x13f)](_0x5e406f)?!await this[_0x235e2e(0x6f2)][_0x235e2e(0x206)]({'where':{'ip':_0x5e406f}}):!0x1;}async[a0_0x6d27f9(0x764)](_0x39354c,_0x351fde){const _0x5ee431=a0_0x6d27f9;let _0x375e48=_0x39354c+'-'+_0x351fde,_0x21a2e1=await this[_0x5ee431(0x6f2)]['findOne']({'where':{'_id':_0x375e48}});_0x21a2e1&&_0x21a2e1['ip']&&(await this[_0x5ee431(0x7a1)](_0x21a2e1['ip']),await this[_0x5ee431(0x6f2)][_0x5ee431(0x741)]({'where':{'_id':_0x375e48}}));}},xi=new _s(),te=xi,Ls='Safari',Oo,de=null,Ta=null,Di=0x3,Pi=null,$o=b[a0_0x6d27f9(0x693)](a0_0x6d27f9(0x409))[a0_0x6d27f9(0x5f4)][a0_0x6d27f9(0x2d8)];async function ki(){const _0x5a8cd5=a0_0x6d27f9;let _0x59ea17=await Me['findOne']();de=_0x59ea17?.[_0x5a8cd5(0x531)]??null,Pi=_0x59ea17?.[_0x5a8cd5(0x2da)]??null,Ls=_0x59ea17?.[_0x5a8cd5(0x197)]??_0x5a8cd5(0x1fa),Oo=_0x59ea17?.['connectedName']??z??_0x5a8cd5(0x69b);}async function Li(){await ki();}Li();var kt={},Ee=class l{constructor(_0x431920,_0x200d3c,_0x4bd979){const _0x117199=a0_0x6d27f9;this[_0x117199(0x14e)]=_0x431920,this[_0x117199(0x6a1)]=_0x200d3c,this['repository']=_0x4bd979,this[_0x117199(0x3d6)]=null,this['logger']=new $(l[_0x117199(0x552)]),this['instance']={},this['localWebhook']={},this[_0x117199(0x413)]={'state':_0x117199(0x38d)},this[_0x117199(0x804)]=(0x0,U['join'])(re,_0x117199(0x73f)),this[_0x117199(0x29f)]=new ks['default'](),this['userDevicesCache']=new ks[(_0x117199(0x49c))](),this[_0x117199(0x1ca)]=!0x1,this[_0x117199(0x35f)]={'status.instance':_0x117199(0x79c),'connection.update':_0x117199(0x79c),'qrcode.updated':_0x117199(0x68d),'messages.upsert':_0x117199(0x6c8),'send.message':'/wa-message','messages.update':'/wa-message-update','group.upsert':_0x117199(0x170),'group.update':_0x117199(0x170),'group-participants.update':'/wa-groups','messages.set':_0x117199(0x198),'contacts.set':_0x117199(0x755),'contacts.upsert':_0x117199(0x755),'contacts.update':_0x117199(0x755),'presence.update':_0x117199(0x659),'chats.set':_0x117199(0x432),'chats.update':_0x117199(0x432),'chats.upsert':'/wa-chats','chats.delete':_0x117199(0x432)},this['reconnectAttempts']=0x0,this[_0x117199(0x533)]=[],this[_0x117199(0x640)]=0xea60,this['isRunning']=!0x1,this[_0x117199(0x20d)]={'chats.upsert':async(_0x18e087,_0xe5c00a)=>{const _0x54ff9f=_0x117199;let _0x2a51a1=[];for await(let _0x162480 of _0x18e087)_0x2a51a1[_0x54ff9f(0x6b3)]({'_id':_0x162480['id'],'owner':this['instance']['wuid'],'group':_0x162480['id'][_0x54ff9f(0x1bf)](_0x54ff9f(0x3ce)),'name':_0x162480['name']||_0x162480[_0x54ff9f(0x355)]||null,'contactname':null,'lastmsg':_0x162480[_0x54ff9f(0x2be)]&&_0x162480['conversationTimestamp'][_0x54ff9f(0x3f4)]()['length']<0xd?_0x162480[_0x54ff9f(0x2be)]*0x3e8:_0x162480[_0x54ff9f(0x2be)]||null,'archived':_0x162480['archived']||!0x1,'unreadcount':_0x162480[_0x54ff9f(0x70f)]||0x0,'ephemeralExpiration':_0x162480[_0x54ff9f(0x77e)]||0x0});this['sendDataWebhook'](_0x54ff9f(0x328),_0x2a51a1);},'chats.update':async(_0x3ae13a,_0x171afc)=>{const _0x1ae9f0=_0x117199;for(let _0x57881d of _0x3ae13a){let _0x5bb0ba={'_id':_0x57881d['id'],'owner':this[_0x1ae9f0(0x403)][_0x1ae9f0(0x367)],'archived':_0x57881d[_0x1ae9f0(0x698)],'muteEndTime':_0x57881d[_0x1ae9f0(0x7b3)],'ephemeralExpiration':_0x57881d[_0x1ae9f0(0x77e)]},_0x58c69c=!0x1,_0xb08430={};_0x5bb0ba[_0x1ae9f0(0x698)]!=null&&(this['logger'][_0x1ae9f0(0x302)](this['instanceName']+'\x20('+this[_0x1ae9f0(0x403)][_0x1ae9f0(0x367)]+_0x1ae9f0(0x17b)+_0x57881d['id']+_0x1ae9f0(0x7bc)+_0x57881d['archived']),_0x58c69c=!0x0,_0xb08430[_0x1ae9f0(0x698)]=_0x57881d['archived']),_0x1ae9f0(0x7b3)in _0x57881d&&(this['logger'][_0x1ae9f0(0x302)](this[_0x1ae9f0(0x383)]+'\x20('+this['instance'][_0x1ae9f0(0x367)]+_0x1ae9f0(0x74d)+_0x57881d['id']+_0x1ae9f0(0x7bc)+(_0x57881d['muteEndTime']??'0')),_0x58c69c=!0x0,_0xb08430[_0x1ae9f0(0x7b3)]=_0x57881d[_0x1ae9f0(0x7b3)]??0x0),'ephemeralExpiration'in _0x57881d&&(this[_0x1ae9f0(0x267)]['verbose'](this[_0x1ae9f0(0x383)]+'\x20('+this[_0x1ae9f0(0x403)][_0x1ae9f0(0x367)]+_0x1ae9f0(0x2cc)+_0x57881d['id']+_0x1ae9f0(0x7bc)+(_0x57881d[_0x1ae9f0(0x77e)]!==void 0x0?_0x57881d[_0x1ae9f0(0x77e)]:'undefined')),_0xb08430[_0x1ae9f0(0x77e)]=_0x57881d[_0x1ae9f0(0x77e)]===null?0x0:_0x57881d[_0x1ae9f0(0x77e)],_0x58c69c=!0x0);let _0xa68a27;_0x58c69c&&(_0xa68a27=await this[_0x1ae9f0(0x4d0)][_0x1ae9f0(0x463)]['updateOne']({'where':{'_id':_0x57881d['id']}},_0xb08430,this[_0x1ae9f0(0x403)]['wuid'])),_0xa68a27&&j(this[_0x1ae9f0(0x383)],_0x1ae9f0(0x652),{'chat':_0xa68a27});}},'chats.delete':async _0x102229=>{const _0x26ee32=_0x117199;for(let _0x456d6b of _0x102229)if(_0x456d6b[_0x26ee32(0x1bf)](_0x26ee32(0x3ce))){await this[_0x26ee32(0x4d0)][_0x26ee32(0x463)][_0x26ee32(0x7b7)]({'where':{'_id':_0x456d6b}},this[_0x26ee32(0x403)][_0x26ee32(0x367)]);let _0x5a6997={'where':{'key':{'remoteJid':_0x456d6b}}};await this[_0x26ee32(0x4d0)][_0x26ee32(0x60b)]['delete'](_0x5a6997,this[_0x26ee32(0x403)][_0x26ee32(0x367)]);}else{await this[_0x26ee32(0x4d0)][_0x26ee32(0x463)][_0x26ee32(0x46a)]({'where':{'_id':_0x456d6b}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x26ee32(0x403)][_0x26ee32(0x367)]);let _0x1dd687={'where':{'key':{'remoteJid':_0x456d6b}}};await this[_0x26ee32(0x4d0)][_0x26ee32(0x60b)]['delete'](_0x1dd687,this['instance']['wuid']);}this['sendDataWebhook'](_0x26ee32(0x6f3),[..._0x102229]);}},this['contactHandle']={'contacts.upsert':async(_0x1859d2,_0x3cf48d)=>{const _0x191dd3=_0x117199;let _0x273509=await this[_0x191dd3(0x4d0)]['contact'][_0x191dd3(0x37d)]({'where':{}},this[_0x191dd3(0x403)][_0x191dd3(0x367)]),_0x561906=[];for await(let _0x22d58d of _0x1859d2)_0x273509[_0x191dd3(0x37d)](_0x5d669d=>_0x5d669d[_0x191dd3(0x3b9)]===_0x22d58d['id'])||_0x561906[_0x191dd3(0x6b3)]({'_id':_0x22d58d['id'],'pushName':_0x22d58d?.[_0x191dd3(0x552)]||_0x22d58d?.['verifiedName'],'owner':this[_0x191dd3(0x403)]['wuid']});this[_0x191dd3(0x361)](_0x191dd3(0x443),_0x561906),await this[_0x191dd3(0x4d0)]['contact'][_0x191dd3(0x6b5)](_0x561906);},'contacts.update':async(_0x1fdbad,_0x4404fb)=>{const _0x523a3b=_0x117199;let _0x111640=[];for await(let _0x168868 of _0x1fdbad)_0x111640[_0x523a3b(0x6b3)]({'_id':_0x168868['id'],'pushName':_0x168868?.['name']??_0x168868?.[_0x523a3b(0x72b)],'owner':this['instance'][_0x523a3b(0x367)]});this[_0x523a3b(0x361)](_0x523a3b(0x15b),_0x111640);}},this[_0x117199(0x213)]={'messaging-history.set':async({messages:_0x3f5ba0,chats:_0x305e02,isLatest:_0x1dbc22},_0x142d8a)=>{const _0x1af419=_0x117199;if(_0x1dbc22){let _0x25cebb=await Promise[_0x1af419(0x1ea)](_0x305e02[_0x1af419(0x5f1)](async _0x17ab71=>({'_id':_0x17ab71['id'],'owner':this[_0x1af419(0x403)][_0x1af419(0x367)],'group':_0x17ab71['id'][_0x1af419(0x1bf)]('@g.us'),'name':_0x17ab71[_0x1af419(0x552)]||_0x17ab71['displayName']||_0x17ab71['username']||null,'contactname':null,'lastmsg':_0x17ab71[_0x1af419(0x2be)]&&_0x17ab71[_0x1af419(0x2be)]['toString']()['length']<0xd?_0x17ab71[_0x1af419(0x2be)]*0x3e8:_0x17ab71[_0x1af419(0x2be)]||null,'archived':_0x17ab71[_0x1af419(0x698)]||!0x1,'unreadcount':_0x17ab71[_0x1af419(0x70f)]||0x0,'ephemeralExpiration':_0x17ab71[_0x1af419(0x77e)]||0x0,'muteEndTime':_0x17ab71[_0x1af419(0x7b3)]||0x0})));this[_0x1af419(0x361)](_0x1af419(0x326),_0x25cebb),await this[_0x1af419(0x2b8)](_0x25cebb,_0x142d8a);}let _0x3a8f37=[],_0x32970c=Date[_0x1af419(0x7b2)]()-0x1f*0x18*0x3c*0x3c*0x3e8;for await(let [,_0xe06a3a]of Object[_0x1af419(0x292)](_0x3f5ba0)){if(_0xe06a3a['message']?.[_0x1af419(0x2a1)]||_0xe06a3a['message']?.[_0x1af419(0x144)]||!_0xe06a3a[_0x1af419(0x60b)]||_0xe06a3a[_0x1af419(0x663)][_0x1af419(0x455)]===_0x1af419(0x457)||(Ps[_0x1af419(0x49c)]['isLong'](_0xe06a3a?.['messageTimestamp'])&&(_0xe06a3a['messageTimestamp']=_0xe06a3a[_0x1af419(0x1f6)]?.[_0x1af419(0x58c)]()),_0xe06a3a[_0x1af419(0x1f6)]&&_0xe06a3a['messageTimestamp'][_0x1af419(0x3f4)]()[_0x1af419(0x4b3)]<0xd&&(_0xe06a3a[_0x1af419(0x1f6)]=_0xe06a3a['messageTimestamp']*0x3e8),_0xe06a3a[_0x1af419(0x1f6)]<_0x32970c))continue;let _0x253e9b=(0x0,w[_0x1af419(0x36a)])(_0xe06a3a[_0x1af419(0x60b)]),_0x2a65e0=(0x0,w[_0x1af419(0x212)])(_0x253e9b),{message_normalized:_0x43ad8e}=this[_0x1af419(0x79e)](_0x253e9b,_0x2a65e0,null);Object['keys'](_0x43ad8e)[_0x1af419(0x4b3)]>0x0&&_0x3a8f37['push']({'_id':_0xe06a3a[_0x1af419(0x663)]['id'],'key':_0xe06a3a['key'],'pushName':_0xe06a3a[_0x1af419(0x32d)],'participant':_0xe06a3a['participant'],'message':_0x253e9b,'messageType':_0x2a65e0,'message_normalized':{'key':_0xe06a3a[_0x1af419(0x663)],'pushName':_0xe06a3a[_0x1af419(0x32d)],'messageTimestamp':_0xe06a3a['messageTimestamp'],..._0x43ad8e},'messageTimestamp':_0xe06a3a[_0x1af419(0x1f6)],'owner':this['instance'][_0x1af419(0x367)]});}_0x142d8a['ENABLED']&&_0x3a8f37[_0x1af419(0x4b3)]>0x0&&(this['logger'][_0x1af419(0x302)](this[_0x1af419(0x383)]+'\x20('+this['instance'][_0x1af419(0x367)]+_0x1af419(0x4a0)+_0x3a8f37['length']+_0x1af419(0x318)+this[_0x1af419(0x403)][_0x1af419(0x367)]+_0x1af419(0x2e1)),await this[_0x1af419(0x4d0)][_0x1af419(0x60b)]['insert']([..._0x3a8f37],this[_0x1af419(0x403)]['wuid'])),this[_0x1af419(0x361)](_0x1af419(0x3a9),[..._0x3a8f37]),_0x3f5ba0=void 0x0;},'messages.upsert':async({messages:_0x2f2fcc,type:_0x59d3a2},_0x4bd45e)=>{const _0x4f09f2=_0x117199;for(let _0x5f5b06 of _0x2f2fcc){if(this[_0x4f09f2(0x2c7)]?.['groups_ignore']&&_0x5f5b06['key'][_0x4f09f2(0x455)]['includes']('@g.us')){this[_0x4f09f2(0x267)][_0x4f09f2(0x302)](this['instanceName']+'\x20('+this[_0x4f09f2(0x403)][_0x4f09f2(0x367)]+'):\x20[messages.upsert]\x20group\x20ignored');return;}if(_0x5f5b06[_0x4f09f2(0x2fd)]&&_0x5f5b06[_0x4f09f2(0x2fd)][0x0]===_0x4f09f2(0x6c9)){console[_0x4f09f2(0x782)](_0x4f09f2(0x590)),kt[_0x5f5b06['key']['id']]=_0x5f5b06,this['retrySendMessage'](_0x5f5b06,0x0);return;}if(kt[_0x5f5b06[_0x4f09f2(0x663)]['id']]&&(console['error'](_0x4f09f2(0x1bb)),delete kt[_0x5f5b06['key']['id']]),_0x5f5b06[_0x4f09f2(0x2fd)]&&_0x5f5b06[_0x4f09f2(0x2fd)][0x0]===_0x4f09f2(0xd4)&&(await this['client'][_0x4f09f2(0x7b0)](),console[_0x4f09f2(0x782)](this[_0x4f09f2(0x383)]+'\x20('+this[_0x4f09f2(0x403)][_0x4f09f2(0x367)]+'):\x20PreKey\x20ID\x20inválido')),_0x59d3a2!==_0x4f09f2(0x6b1)||!_0x5f5b06?.[_0x4f09f2(0x60b)]||_0x5f5b06[_0x4f09f2(0x60b)]?.[_0x4f09f2(0x2a1)]||_0x5f5b06[_0x4f09f2(0x60b)][_0x4f09f2(0x144)]||_0x5f5b06[_0x4f09f2(0x663)][_0x4f09f2(0x455)]===_0x4f09f2(0x457))return;let _0x4963d8=null,_0x5a1ef3=null;try{_0x4963d8=await this[_0x4f09f2(0x68e)](_0x5f5b06),_0x5a1ef3=_0x4963d8?_0x4963d8['join'](','):null;}catch(_0x16b4fb){this['logger'][_0x4f09f2(0x302)](this[_0x4f09f2(0x383)]+'\x20('+this[_0x4f09f2(0x403)][_0x4f09f2(0x367)]+'):\x20'+(_0x16b4fb instanceof Error?_0x16b4fb[_0x4f09f2(0x60b)]:JSON[_0x4f09f2(0x450)](_0x16b4fb,null,0x2))),_0x5a1ef3='error\x20get\x20vote';}this[_0x4f09f2(0x735)][_0x4f09f2(0x5c7)](_0x4f09f2(0x25f)),Ps[_0x4f09f2(0x49c)]['isLong'](_0x5f5b06[_0x4f09f2(0x1f6)])&&(_0x5f5b06['messageTimestamp']=_0x5f5b06['messageTimestamp']?.[_0x4f09f2(0x58c)]()),_0x5f5b06[_0x4f09f2(0x1f6)]&&_0x5f5b06[_0x4f09f2(0x1f6)]['toString']()[_0x4f09f2(0x4b3)]<0xd&&(_0x5f5b06['messageTimestamp']=_0x5f5b06[_0x4f09f2(0x1f6)]*0x3e8);let _0x33d191=_0x5f5b06[_0x4f09f2(0x60b)],_0x56dc9b=(0x0,w[_0x4f09f2(0x36a)])(_0x33d191),_0x2cf777=(0x0,w[_0x4f09f2(0x212)])(_0x56dc9b),{messageContent:_0x297aad,message_normalized:_0x230e35}=this[_0x4f09f2(0x79e)](_0x56dc9b,_0x2cf777,_0x5a1ef3);_0x2cf777==='protocolMessage'&&_0x297aad?.['editedMessage']&&(_0x2cf777=_0x4f09f2(0x1e8));let _0x558ddc,_0x5b3f7d=_0x5f5b06[_0x4f09f2(0x663)]['remoteJid'][_0x4f09f2(0x1bf)](_0x4f09f2(0x3ce));if(_0x5f5b06[_0x4f09f2(0x663)][_0x4f09f2(0x60e)])_0x558ddc=this[_0x4f09f2(0x403)][_0x4f09f2(0x639)];else{let _0x29c366=_0x5b3f7d?_0x5f5b06[_0x4f09f2(0x663)][_0x4f09f2(0x626)]:_0x5f5b06[_0x4f09f2(0x663)][_0x4f09f2(0x455)];_0x558ddc=(await this['findAndUpdateCacheContact'](_0x29c366,_0x5f5b06[_0x4f09f2(0x32d)],!0x1))[_0x4f09f2(0x245)][_0x4f09f2(0x320)];}let _0x5813a1={'_id':_0x5f5b06[_0x4f09f2(0x663)]['id'],'key':_0x5f5b06['key'],'isGroup':_0x5b3f7d,'profilePictureUrl':_0x558ddc,'pushName':_0x5f5b06[_0x4f09f2(0x32d)],'message':_0x56dc9b,'messageType':_0x2cf777,'message_normalized':{'key':_0x5f5b06['key'],'pushName':_0x5f5b06[_0x4f09f2(0x32d)],'messageTimestamp':_0x5f5b06[_0x4f09f2(0x1f6)],'source':(0x0,w[_0x4f09f2(0x2a2)])(_0x5f5b06[_0x4f09f2(0x663)]['id']),..._0x230e35},'messageTimestamp':_0x5f5b06[_0x4f09f2(0x1f6)],'owner':this[_0x4f09f2(0x403)][_0x4f09f2(0x367)],'source':(0x0,w[_0x4f09f2(0x2a2)])(_0x5f5b06[_0x4f09f2(0x663)]['id']),'expiration':_0x297aad?.[_0x4f09f2(0x335)]?.[_0x4f09f2(0x11b)]||0x0};_0x297aad||(this['logger'][_0x4f09f2(0x782)]('Mensagem\x20não\x20suportada'),this[_0x4f09f2(0x267)][_0x4f09f2(0x782)](_0x5813a1)),this['logger']['log'](this[_0x4f09f2(0x383)]+'\x20('+this['instance']['wuid']+_0x4f09f2(0x4a0)+(_0x5813a1[_0x4f09f2(0x663)]?.[_0x4f09f2(0x60e)]?_0x4f09f2(0x169):_0x4f09f2(0xe4))+'\x20['+_0x5813a1['key']?.[_0x4f09f2(0x455)][_0x4f09f2(0x78b)]('@s.whatsapp.net','')+']\x20('+_0x5813a1[_0x4f09f2(0x7e9)]+')'),_0x5813a1[_0x4f09f2(0x42f)]?.['text']&&this[_0x4f09f2(0x267)][_0x4f09f2(0x2ac)](_0x5f5b06[_0x4f09f2(0x663)]['id']+':\x20'+_0x5813a1[_0x4f09f2(0x42f)]?.['text']),await this['repository'][_0x4f09f2(0x60b)]['insert']([_0x5813a1],this[_0x4f09f2(0x403)][_0x4f09f2(0x367)]),this[_0x4f09f2(0x361)](_0x4f09f2(0x398),_0x5813a1),j(this[_0x4f09f2(0x383)],_0x4f09f2(0x2db),{'message':_0x5813a1}),_0x5f5b06[_0x4f09f2(0x663)][_0x4f09f2(0x455)]!==_0x4f09f2(0x457)&&await this[_0x4f09f2(0x4ed)](_0x4bd45e,_0x5813a1,_0x4f09f2(0x702));}},'messages.update':async(_0x4240e6,_0xef6acd)=>{const _0x2c49d0=_0x117199;let _0x5bad86={0x0:'ERROR',0x1:_0x2c49d0(0x3d1),0x2:'SERVER_ACK',0x3:'DELIVERY_ACK',0x4:'READ',0x5:_0x2c49d0(0x426)};for await(let {key:_0x10e0cf,update:_0x103ea8}of _0x4240e6){if(this[_0x2c49d0(0x2c7)]?.[_0x2c49d0(0x7a4)]&&_0x10e0cf[_0x2c49d0(0x455)][_0x2c49d0(0x562)](_0x2c49d0(0x3ce))){this[_0x2c49d0(0x267)][_0x2c49d0(0x302)](this[_0x2c49d0(0x383)]+'\x20('+this['instance'][_0x2c49d0(0x367)]+_0x2c49d0(0x242));return;}if(_0x10e0cf['remoteJid']!==_0x2c49d0(0x457)){let _0x961fcb=Date[_0x2c49d0(0x7b2)](),_0x4b2160;_0x103ea8[_0x2c49d0(0x60b)]===null&&_0x103ea8[_0x2c49d0(0x538)]===void 0x0?_0x4b2160='DELETED':_0x4b2160=_0x5bad86[_0x103ea8['status']];let _0x3b1d5a=_0x10e0cf['remoteJid'][_0x2c49d0(0x78b)](/:\d{1,2}@/g,'@'),_0x2b3ce9={..._0x10e0cf,'remoteJid':_0x3b1d5a,'status':_0x4b2160,'datetime':_0x961fcb,'owner':this[_0x2c49d0(0x403)][_0x2c49d0(0x367)]};this[_0x2c49d0(0x361)]('messages.update',_0x2b3ce9),await this['updateMessage'](_0x10e0cf,_0x2b3ce9);}}},'labels.association':async({type:_0x2931ba,association:_0x34b470})=>{const _0x7dc3f0=_0x117199;if(_0x34b470[_0x7dc3f0(0x5cb)]==='label_jid'){let _0x5bb980,_0xcfe1be=0x0;for(;!_0x5bb980&&_0xcfe1be<this[_0x7dc3f0(0x101)];)_0x5bb980=await this['repository'][_0x7dc3f0(0x463)][_0x7dc3f0(0x206)]({'where':{'_id':_0x34b470[_0x7dc3f0(0x781)]}},this['instance'][_0x7dc3f0(0x367)]),_0x5bb980||(_0xcfe1be++,this[_0x7dc3f0(0x267)][_0x7dc3f0(0xf3)](this[_0x7dc3f0(0x383)]+'\x20('+this[_0x7dc3f0(0x403)][_0x7dc3f0(0x367)]+'):\x20Chat\x20'+_0x34b470[_0x7dc3f0(0x781)]+_0x7dc3f0(0x3d3)+this['delayChatLabel_RETRY_DELAY_MS']+_0x7dc3f0(0x694)+_0xcfe1be+'/'+this[_0x7dc3f0(0x101)]+')'),await this[_0x7dc3f0(0xfb)](this[_0x7dc3f0(0x79a)]));if(!_0x5bb980){this['logger'][_0x7dc3f0(0x782)]('Falhou\x20ao\x20encontrar\x20chat\x20'+_0x34b470['chatId']+_0x7dc3f0(0x6ca)+this[_0x7dc3f0(0x101)]+_0x7dc3f0(0x145));return;}switch(_0x2931ba){case _0x7dc3f0(0x664):console[_0x7dc3f0(0x2ac)](_0x34b470),await this[_0x7dc3f0(0x4d0)][_0x7dc3f0(0x463)][_0x7dc3f0(0x46a)]({'where':{'_id':_0x34b470[_0x7dc3f0(0x781)]}},{'leadInfo.etiquetas':_0x34b470['labelId']},this['instance'][_0x7dc3f0(0x367)],void 0x0,'$addToSet');break;case'remove':console[_0x7dc3f0(0x2ac)](_0x34b470),await this[_0x7dc3f0(0x4d0)][_0x7dc3f0(0x463)][_0x7dc3f0(0x46a)]({'where':{'_id':_0x34b470[_0x7dc3f0(0x781)]}},{'leadInfo.etiquetas':_0x34b470[_0x7dc3f0(0x2f1)]},this[_0x7dc3f0(0x403)][_0x7dc3f0(0x367)],void 0x0,_0x7dc3f0(0x1b3));break;default:this['logger']['error'](_0x7dc3f0(0x6e9)+_0x2931ba+']');}}},'labels.edit':async _0x2eb5a6=>{const _0x3b6be3=_0x117199;if(!_0x2eb5a6||!_0x2eb5a6['id']){this[_0x3b6be3(0x267)][_0x3b6be3(0x782)](_0x3b6be3(0x77a));return;}if(!_0x2eb5a6[_0x3b6be3(0x44a)]){let _0x1c27c5=[_0x3b6be3(0x27e),_0x3b6be3(0x726),'#fed428','#dfaef0',_0x3b6be3(0x181),'#56ccb4','#fe9dfe',_0x3b6be3(0x600),_0x3b6be3(0x142),_0x3b6be3(0x1c8),_0x3b6be3(0x44f),_0x3b6be3(0x35a),_0x3b6be3(0x16b),'#f64847',_0x3b6be3(0x491),_0x3b6be3(0x541),_0x3b6be3(0x2e3),_0x3b6be3(0x401),_0x3b6be3(0x171),_0x3b6be3(0x618)],_0x1f62a5;typeof _0x2eb5a6[_0x3b6be3(0x7cc)]==_0x3b6be3(0x110)&&_0x2eb5a6[_0x3b6be3(0x7cc)]>=0x0&&_0x2eb5a6[_0x3b6be3(0x7cc)]<_0x1c27c5[_0x3b6be3(0x4b3)]?_0x1f62a5=_0x1c27c5[_0x2eb5a6[_0x3b6be3(0x7cc)]]:(this[_0x3b6be3(0x267)][_0x3b6be3(0x782)](_0x3b6be3(0x372)+_0x2eb5a6[_0x3b6be3(0x7cc)]),_0x1f62a5=_0x3b6be3(0x4c1));let _0x427334={'_id':_0x2eb5a6['id'],'colorHex':_0x1f62a5,'color':_0x2eb5a6?.[_0x3b6be3(0x7cc)],'name':_0x2eb5a6?.[_0x3b6be3(0x552)],'owner':this[_0x3b6be3(0x403)][_0x3b6be3(0x367)]};await this['repository'][_0x3b6be3(0x3e5)][_0x3b6be3(0x46a)]({'where':{'_id':_0x2eb5a6['id']}},_0x427334,this[_0x3b6be3(0x403)][_0x3b6be3(0x367)]),this[_0x3b6be3(0x267)][_0x3b6be3(0xf3)](this[_0x3b6be3(0x383)]+'\x20('+this[_0x3b6be3(0x403)][_0x3b6be3(0x367)]+_0x3b6be3(0x45d)+_0x2eb5a6);}_0x2eb5a6[_0x3b6be3(0x44a)]&&(await this[_0x3b6be3(0x4d0)][_0x3b6be3(0x3e5)]['delete']({'where':{'_id':_0x2eb5a6['id']}},this[_0x3b6be3(0x403)][_0x3b6be3(0x367)]),this['logger'][_0x3b6be3(0xf3)](_0x3b6be3(0x752)+_0x2eb5a6['id']));}},this[_0x117199(0x39d)]={'groups.upsert':async _0x12e7db=>{const _0x712c75=_0x117199;this[_0x712c75(0x2c7)]?.[_0x712c75(0x7a4)]||this[_0x712c75(0x361)](_0x712c75(0x674),_0x12e7db);for(let _0x123652 of _0x12e7db)await this['updateGroupWebhook'](_0x123652);},'groups.update':async _0xfb0e0d=>{const _0xefca78=_0x117199;this[_0xefca78(0x2c7)]?.[_0xefca78(0x7a4)]||this[_0xefca78(0x361)]('groups.update',_0xfb0e0d);for(let _0xfb1da8 of _0xfb0e0d)await this[_0xefca78(0x3a1)](_0xfb1da8);},'group-participants.update':async _0xbc1483=>{const _0x2753f5=_0x117199;this[_0x2753f5(0x2c7)]?.[_0x2753f5(0x7a4)]||this[_0x2753f5(0x361)](_0x2753f5(0x262),_0xbc1483),await this['updateGroupParticipantsWebhook'](_0xbc1483);}},this[_0x117199(0x101)]=0x5,this['delayChatLabel_RETRY_DELAY_MS']=0x1388,this['processPollUpdateMessage']=async _0x31821f=>{const _0xbabe29=_0x117199;if(_0x31821f['message']?.[_0xbabe29(0x289)]){let _0x2525a0=await this[_0xbabe29(0x5b4)](_0x31821f['message']['pollUpdateMessage']['pollCreationMessageKey'],!0x0);if(_0x2525a0){let _0x21f0c8=_0x2525a0['key'][_0xbabe29(0x60e)]?this[_0xbabe29(0x403)][_0xbabe29(0x367)]+_0xbabe29(0x1d9):_0x2525a0[_0xbabe29(0x663)][_0xbabe29(0x626)]||_0x2525a0[_0xbabe29(0x663)][_0xbabe29(0x455)],_0x49d5d1=_0x2525a0['key']['id'],_0x2317e2=_0x2525a0[_0xbabe29(0x60b)],_0x5e5b01=Buffer['from'](_0x2317e2[_0xbabe29(0x1ce)][_0xbabe29(0x384)][_0xbabe29(0x3f4)](_0xbabe29(0x53a)),'hex'),_0x4edacc=(0x0,w[_0xbabe29(0x321)])(_0x31821f[_0xbabe29(0x60b)][_0xbabe29(0x289)]['vote'],{'pollCreatorJid':_0x21f0c8,'pollMsgId':_0x49d5d1,'pollEncKey':_0x5e5b01,'voterJid':_0x31821f['key'][_0xbabe29(0x60e)]?this['instance'][_0xbabe29(0x367)]+'@s.whatsapp.net':_0x31821f['key'][_0xbabe29(0x455)][_0xbabe29(0x1bf)](_0xbabe29(0x41b))?_0x31821f[_0xbabe29(0x663)]['participant']:_0x31821f['key'][_0xbabe29(0x455)]}),_0x5b4247=[],_0x1efdaf=_0x4edacc['selectedOptions'][_0xbabe29(0x5f1)](_0x1d2bf8=>Buffer['from'](_0x1d2bf8)['toString'](_0xbabe29(0x53a)));for(let {optionName:_0x313d21}of _0x2317e2[_0xbabe29(0x2ab)]?.[_0xbabe29(0x627)]||_0x2317e2[_0xbabe29(0x149)]?.['options']||_0x2317e2[_0xbabe29(0x59a)]?.[_0xbabe29(0x627)])_0x1efdaf[_0xbabe29(0x46f)]((0x0,w['sha256'])(Buffer[_0xbabe29(0x4db)](_0x313d21))['toString'](_0xbabe29(0x53a)))>-0x1&&_0x5b4247[_0xbabe29(0x6b3)](_0x313d21);return _0x5b4247;}}return null;},this[_0x117199(0x79e)]=(_0x492bcf,_0x4119cb,_0x51be0a)=>{const _0x5bba25=_0x117199;try{let _0x145435=_0x492bcf?(0x0,w['extractMessageContent'])(_0x492bcf)[_0x4119cb]:void 0x0,_0x2ad0a2={},_0x533235=null,_0x4e4e2b=null,_0x4bab1a=null;_0x4119cb===_0x5bba25(0x2a1)&&_0x145435?.[_0x5bba25(0x1e8)]&&(_0x4119cb=(0x0,w[_0x5bba25(0x212)])(_0x145435['editedMessage']),_0x533235=_0x492bcf[_0x5bba25(0x2a1)][_0x5bba25(0x663)]['id'],_0x145435=_0x492bcf['protocolMessage'][_0x5bba25(0x1e8)][_0x4119cb]),_0x492bcf[_0x4119cb]?.[_0x5bba25(0x335)]?.[_0x5bba25(0x739)]&&_0x492bcf[_0x4119cb]?.['contextInfo']?.[_0x5bba25(0x5ca)]&&(_0x4e4e2b=_0x492bcf[_0x4119cb][_0x5bba25(0x335)][_0x5bba25(0x739)]),_0x492bcf[_0x5bba25(0x31c)]&&(_0x4bab1a=_0x492bcf[_0x5bba25(0x31c)][_0x5bba25(0x663)]['id']);let _0x2f6009;if(_0x145435&&typeof _0x145435==_0x5bba25(0x5c4)&&_0x5bba25(0x46b)in _0x145435&&({pollCreationMessageKey:_0x2f6009}=_0x145435),_0x4119cb===_0x5bba25(0x2ab)||_0x4119cb==='pollCreationMessageV2'||_0x4119cb===_0x5bba25(0x149)){let _0x84b96c=_0x145435[_0x5bba25(0x627)]['map'](_0x23b702=>_0x23b702['optionName'])[_0x5bba25(0x34b)]('|');_0x2ad0a2[_0x5bba25(0x593)]=_0x84b96c;}let _0x3b0044='';if(_0x145435&&(_0x3b0044+=_0x145435[_0x5bba25(0x552)]?_0x145435['name']:'',_0x3b0044+=_0x145435[_0x5bba25(0x4a1)]?'\x20'+_0x145435[_0x5bba25(0x4a1)]:'',_0x3b0044+=_0x145435[_0x5bba25(0x2d6)]?'\x20'+_0x145435[_0x5bba25(0x2d6)]:'',_0x3b0044+=_0x145435[_0x5bba25(0x355)]?'\x20'+_0x145435[_0x5bba25(0x355)]:''),_0x4119cb==='listMessage'){_0x3b0044=(_0x145435[_0x5bba25(0x420)]||'')+'\x0a'+(_0x145435['description']||'')+'\x0a'+(_0x145435[_0x5bba25(0x448)]||'');let _0xea6a58=this[_0x5bba25(0x2b9)](_0x145435[_0x5bba25(0x489)]);_0x2ad0a2['convertedOptions']=_0xea6a58;}if(_0x4119cb===_0x5bba25(0x183)&&(_0x51be0a=_0x145435[_0x5bba25(0x420)]),_0x145435&&_0x145435[_0x5bba25(0x7ad)]){let _0x104934=this[_0x5bba25(0x2bf)](JSON[_0x5bba25(0x450)](_0x145435['vcard'],null,0x2));_0x3b0044=_0x3b0044+'\x0a'+_0x104934;}if(_0x145435){let {sections:_0x1cd0fb,listType:_0x4317db,displayName:_0x32931b,vcard:_0x49bff3,contactVcard:_0xa3dd8c,name:_0x17e22f,caption:_0x4ab389,conversation:_0x379991,pollCreationMessageKey:_0x36fc60,footerText:_0xdaefff,contentText:_0x5e5a65,pageCount:_0x1ee28a,headerType:_0x2de0f8,isAvatar:_0x4a877f,isAnimated:_0x431aba,fallbackLc:_0x27a265,fallbackLg:_0x4b68db,namespace:_0x37f8d4,elementName:_0x32d669,localizableParams:_0x2b4c0f,viewOnce:_0x12d226,height:_0xd0d75,width:_0x4a7038,key:_0x5af1fe,firstScanLength:_0x3266b7,firstScanSidecar:_0x17dba8,gifPlayback:_0x57988c,gifAttribution:_0xcda02b,midQualityFileSha256:_0x2909e1,scansSidecar:_0x4c4f4f,streamingSidecar:_0xe2e0b8,thumbnailHeight:_0xe68f13,thumbnailWidth:_0x73de66,thumbnailEncSha256:_0x35e842,thumbnailDirectPath:_0x137643,canonicalUrl:_0x41e848,matchedText:_0x2534da,previewType:_0x84da5,thumbnailSha256:_0x3a3c4c,deviceListMetadataVersion:_0x3c2c8f,inviteLinkGroupTypeV2:_0x4eb798,interactiveAnnotations:_0x1d362c,scanLengths:_0x9c0a4,jpegThumbnail:_0x35b2c6,url:_0x2cbe32,mediaKeyTimestamp:_0x5ed69a,waveform:_0x2d16b0,stickerSentTs:_0x2d6eb2,firstFrameLength:_0x1ab3ab,fileEncSha256:_0x4db372,contextInfo:_0x580227,firstFrameSidecar:_0x4b6d25,directPath:_0x5755b4,fileSha256:_0x362537,mediaKey:_0x1fe2c4,senderTimestampMs:_0x129c8a,..._0x51b9c2}=_0x145435;(_0x4119cb===_0x5bba25(0x27b)||_0x4119cb==='listResponseMessage')&&(delete _0x51b9c2[_0x5bba25(0x420)],delete _0x51b9c2[_0x5bba25(0x32a)]),typeof _0x145435==_0x5bba25(0x7fc)?_0x2ad0a2={'text':_0x145435,'type':_0x4119cb||_0x5bba25(0x2d6),..._0x533235&&{'edited':_0x533235},..._0x4e4e2b&&{'quoted':_0x4e4e2b},..._0x4bab1a&&{'reaction':_0x4bab1a}}:_0x2ad0a2={'text':_0x3b0044,..._0x51b9c2,..._0x4119cb===_0x5bba25(0x289)?{'poll_id':_0x145435[_0x5bba25(0x46b)]['id'],'quoted':_0x145435[_0x5bba25(0x46b)]['id'],'vote':_0x51be0a}:{},..._0x4119cb===_0x5bba25(0x183)?{'vote':_0x51be0a}:{},'type':_0x4119cb,..._0x533235&&{'edited':_0x533235},..._0x4e4e2b&&{'quoted':_0x4e4e2b},..._0x4bab1a&&{'reaction':_0x4bab1a},...(_0x4119cb===_0x5bba25(0x2ab)||_0x4119cb===_0x5bba25(0x59a)||_0x4119cb==='pollCreationMessageV3'||_0x4119cb===_0x5bba25(0x27b))&&{'convertedOptions':_0x2ad0a2[_0x5bba25(0x593)]}};}return{'messageType':_0x4119cb,'messageContent':_0x145435,'message_normalized':_0x2ad0a2};}catch(_0x4e5430){return this['logger'][_0x5bba25(0x782)](_0x5bba25(0x277)+_0x4e5430),{'messageType':null,'messageContent':null,'message_normalized':{'error':!0x0}};}},(this[_0x117199(0x218)](),this['instance'][_0x117199(0x470)]={'count':0x0},this[_0x117199(0x403)][_0x117199(0x3b6)]={'isConnected':!0x1,'delayMessage':null,'processingGroup_id':null,'lastSend':0x0,'timeout':null,'lastMessage_id':null});}set[a0_0x6d27f9(0x383)](_0x560493){const _0xac5b11=a0_0x6d27f9;if(!_0x560493){this[_0xac5b11(0x403)]['name']=(0x0,Ro['v4'])();return;}this['instance'][_0xac5b11(0x552)]=_0x560493,this['sendDataWebhook'](_0xac5b11(0x18a),{'instance':this[_0xac5b11(0x403)]['name'],'status':_0xac5b11(0x504)});}get[a0_0x6d27f9(0x383)](){const _0x5d71e7=a0_0x6d27f9;return this[_0x5d71e7(0x403)][_0x5d71e7(0x552)];}get[a0_0x6d27f9(0x367)](){const _0xa4db49=a0_0x6d27f9;return this[_0xa4db49(0x403)][_0xa4db49(0x367)];}async['getProfileName'](){const _0x542880=a0_0x6d27f9;let _0xae95d5=this['client'][_0x542880(0x32b)]?.[_0x542880(0x552)]??this[_0x542880(0x735)][_0x542880(0x32b)]?.['verifiedName'];if(!_0xae95d5){if(this[_0x542880(0x14e)][_0x542880(0x693)]('DATABASE')[_0x542880(0x43a)]){let _0xb2c6eb=await R[_0x542880(0x778)]()['db'](this['configService'][_0x542880(0x693)]('DATABASE')['CONNECTION'][_0x542880(0x2f8)]+_0x542880(0xfe))[_0x542880(0x594)](this[_0x542880(0x383)])[_0x542880(0x206)]({'_id':_0x542880(0x438)});if(_0xb2c6eb){let _0x57505d=JSON[_0x542880(0x610)](JSON[_0x542880(0x450)](_0xb2c6eb),w[_0x542880(0x459)][_0x542880(0x18c)]);_0xae95d5=_0x57505d['me']?.[_0x542880(0x552)]||_0x57505d['me']?.[_0x542880(0x72b)];}}else{if((0x0,De[_0x542880(0xee)])((0x0,U[_0x542880(0x34b)])(ye,this[_0x542880(0x383)],_0x542880(0x7bb)))){let _0x23fbb7=JSON[_0x542880(0x610)]((0x0,De[_0x542880(0x422)])((0x0,U[_0x542880(0x34b)])(ye,this[_0x542880(0x383)],'creds.json'),{'encoding':'utf-8'}));_0xae95d5=_0x23fbb7['me']?.['name']||_0x23fbb7['me']?.['verifiedName'];}}}return _0xae95d5;}get[a0_0x6d27f9(0x639)](){const _0x28ba66=a0_0x6d27f9;return this[_0x28ba66(0x403)][_0x28ba66(0x639)];}get['qrCode'](){const _0xc0e1ea=a0_0x6d27f9;return this[_0xc0e1ea(0x403)][_0xc0e1ea(0x470)]?.[_0xc0e1ea(0x486)]?{'pairingCode':this['instance'][_0xc0e1ea(0x470)]?.[_0xc0e1ea(0x486)]}:{'code':this[_0xc0e1ea(0x403)][_0xc0e1ea(0x470)]?.[_0xc0e1ea(0x573)],'base64':this[_0xc0e1ea(0x403)][_0xc0e1ea(0x470)]?.[_0xc0e1ea(0x5c9)]};}async[a0_0x6d27f9(0x1c4)](){const _0x3df9b6=a0_0x6d27f9;let _0x1179eb=await this['repository'][_0x3df9b6(0x79b)][_0x3df9b6(0x37d)](this[_0x3df9b6(0x383)]);this['localWebhook'][_0x3df9b6(0x4ec)]=_0x1179eb?.[_0x3df9b6(0x4ec)],this['localWebhook'][_0x3df9b6(0x4e6)]=_0x1179eb?.[_0x3df9b6(0x4e6)],this[_0x3df9b6(0x2c7)]['local_map']=_0x1179eb?.['local_map'],this[_0x3df9b6(0x2c7)][_0x3df9b6(0x1e7)]=_0x1179eb?.[_0x3df9b6(0x1e7)],this[_0x3df9b6(0x2c7)][_0x3df9b6(0x2ec)]=_0x1179eb?.[_0x3df9b6(0x2ec)],this['localWebhook'][_0x3df9b6(0x1e5)]=_0x1179eb?.[_0x3df9b6(0x1e5)],this[_0x3df9b6(0x2c7)][_0x3df9b6(0x702)]=_0x1179eb?.['MESSAGES_UPSERT'],this['localWebhook'][_0x3df9b6(0x743)]=_0x1179eb?.[_0x3df9b6(0x743)],this[_0x3df9b6(0x2c7)][_0x3df9b6(0x467)]=_0x1179eb?.[_0x3df9b6(0x467)],this[_0x3df9b6(0x2c7)]['GROUPS_UPDATE']=_0x1179eb?.['GROUPS_UPDATE'],this[_0x3df9b6(0x2c7)]['GROUP_PARTICIPANTS_UPDATE']=_0x1179eb?.[_0x3df9b6(0x6e8)],this['localWebhook'][_0x3df9b6(0x4f4)]=_0x1179eb?.[_0x3df9b6(0x4f4)],this[_0x3df9b6(0x2c7)][_0x3df9b6(0x616)]=_0x1179eb?.['CHATS_UPSERT'],this['localWebhook'][_0x3df9b6(0xd3)]=_0x1179eb?.[_0x3df9b6(0xd3)],this[_0x3df9b6(0x2c7)][_0x3df9b6(0x4ba)]=_0x1179eb?.['CHATS_DELETE'],this[_0x3df9b6(0x2c7)][_0x3df9b6(0x300)]=_0x1179eb?.[_0x3df9b6(0x300)],this['localWebhook'][_0x3df9b6(0xe0)]=_0x1179eb?.[_0x3df9b6(0xe0)],this[_0x3df9b6(0x2c7)][_0x3df9b6(0x6ce)]=_0x1179eb?.[_0x3df9b6(0x6ce)],this[_0x3df9b6(0x2c7)][_0x3df9b6(0x2eb)]=_0x1179eb?.[_0x3df9b6(0x2eb)],this['localWebhook']['MESSAGES_SET']=_0x1179eb?.['MESSAGES_SET'],this[_0x3df9b6(0x2c7)]['CONNECTION_UPDATE']=_0x1179eb?.['CONNECTION_UPDATE'],this[_0x3df9b6(0x2c7)][_0x3df9b6(0x7a4)]=_0x1179eb?.[_0x3df9b6(0x7a4)];}async[a0_0x6d27f9(0x49f)](_0x560d2e){const _0x5394b5=a0_0x6d27f9;let _0x155a79=['_id','url',_0x5394b5(0x4e6),_0x5394b5(0x7f4),'STATUS_INSTANCE',_0x5394b5(0x2ec),'MESSAGES_UPDATE',_0x5394b5(0x702),_0x5394b5(0x1e5),_0x5394b5(0x467),'GROUPS_UPDATE','GROUP_PARTICIPANTS_UPDATE',_0x5394b5(0x4f4),'CHATS_UPSERT',_0x5394b5(0xd3),'CHATS_DELETE',_0x5394b5(0x300),_0x5394b5(0xe0),_0x5394b5(0x6ce),_0x5394b5(0x2eb),_0x5394b5(0x32f),_0x5394b5(0x532),_0x5394b5(0x7a4)],_0x5732aa={};return _0x155a79[_0x5394b5(0x48c)](_0x538f9e=>{_0x560d2e[_0x538f9e]!==void 0x0&&(_0x5732aa[_0x538f9e]=_0x560d2e[_0x538f9e]);}),_0x5732aa['url']&&(_0x5732aa[_0x5394b5(0x4ec)]=_0x5732aa[_0x5394b5(0x4ec)][_0x5394b5(0x3ab)]()),await this[_0x5394b5(0x4d0)]['webhook'][_0x5394b5(0x62f)](_0x5732aa,this[_0x5394b5(0x383)]),Object['assign'](this[_0x5394b5(0x2c7)],_0x5732aa),await this[_0x5394b5(0x4d0)][_0x5394b5(0x79b)][_0x5394b5(0x37d)](this['instanceName']);}async['findWebhook'](){const _0x483f4e=a0_0x6d27f9;return await this[_0x483f4e(0x4d0)][_0x483f4e(0x79b)][_0x483f4e(0x37d)](this[_0x483f4e(0x383)]);}async[a0_0x6d27f9(0x361)](_0x1e3a3f,_0x54126c){const _0x5aa7aa=a0_0x6d27f9;let _0x38badb=_0x1e3a3f[_0x5aa7aa(0x78b)](/[\.-]/gm,'_')['toUpperCase'](),_0x5035aa=this['localWebhook'][_0x5aa7aa(0x4e6)]&&(0x0,k[_0x5aa7aa(0x6de)])(this[_0x5aa7aa(0x2c7)][_0x5aa7aa(0x4ec)])?this[_0x5aa7aa(0x2c7)]['url']+(this[_0x5aa7aa(0x2c7)]['local_map']?this[_0x5aa7aa(0x35f)][_0x1e3a3f]:''):null,_0x9d5ce8=this[_0x5aa7aa(0x2c7)][_0x38badb],_0x5dc566=de&&de[_0x5aa7aa(0x4e6)]&&(0x0,k[_0x5aa7aa(0x6de)])(de[_0x5aa7aa(0x4ec)])?de[_0x5aa7aa(0x4ec)]+(de[_0x5aa7aa(0x7f4)]?this[_0x5aa7aa(0x35f)][_0x1e3a3f]:''):null,_0x4515dc=de?de[_0x38badb]:null;if(_0x9d5ce8&&_0x5035aa)try{await Q[_0x5aa7aa(0x49c)][_0x5aa7aa(0x62f)]({'baseURL':_0x5035aa})['post']('',{'event':_0x1e3a3f,'instance':this[_0x5aa7aa(0x403)]['name'],'apikey':this['instance']['apikey'],'data':_0x54126c}),this[_0x5aa7aa(0x267)][_0x5aa7aa(0x2ac)](this['instanceName']+'\x20('+this[_0x5aa7aa(0x403)][_0x5aa7aa(0x367)]+_0x5aa7aa(0x43b)+_0x1e3a3f+':\x20'+_0x5035aa);}catch{this['logger'][_0x5aa7aa(0x782)](this[_0x5aa7aa(0x383)]+'\x20('+this[_0x5aa7aa(0x403)]['wuid']+_0x5aa7aa(0x6bb)+_0x1e3a3f+':\x20'+_0x5035aa);}if(_0x4515dc&&_0x5dc566)try{await Q['default']['create']({'baseURL':_0x5dc566})[_0x5aa7aa(0x37f)]('',{'event':_0x1e3a3f,'instance':this['instance'][_0x5aa7aa(0x552)],'apikey':this[_0x5aa7aa(0x403)][_0x5aa7aa(0x226)],'data':_0x54126c}),this[_0x5aa7aa(0x267)][_0x5aa7aa(0x2ac)](this[_0x5aa7aa(0x383)]+'\x20('+this['instance'][_0x5aa7aa(0x367)]+_0x5aa7aa(0x484)+_0x1e3a3f+':\x20'+_0x5dc566);}catch{this[_0x5aa7aa(0x267)]['error'](this['instanceName']+'\x20('+this[_0x5aa7aa(0x403)][_0x5aa7aa(0x367)]+_0x5aa7aa(0x529)+_0x1e3a3f+':\x20'+_0x5dc566);}}async[a0_0x6d27f9(0x66d)]({qr:_0x4e6fb1,connection:_0x570bb2,lastDisconnect:_0x12bdb1}){const _0x2266d2=a0_0x6d27f9;if(_0x4e6fb1){if(this[_0x2266d2(0x403)][_0x2266d2(0x470)][_0x2266d2(0x290)]===Di)return this[_0x2266d2(0x361)](_0x2266d2(0x1bc),{'message':_0x2266d2(0x5d5),'statusCode':w[_0x2266d2(0x6fa)]['badSession']}),this[_0x2266d2(0x413)]={'state':_0x2266d2(0xed),'statusReason':w[_0x2266d2(0x6fa)]['connectionClosed']},this[_0x2266d2(0x361)](_0x2266d2(0x3aa),{'instance':this[_0x2266d2(0x403)]['name'],...this[_0x2266d2(0x413)]}),this[_0x2266d2(0x361)](_0x2266d2(0x18a),{'instance':this[_0x2266d2(0x403)]['name'],'status':'removed'}),this['repository'][_0x2266d2(0x51e)]['delete'](this[_0x2266d2(0x403)]['name']),this[_0x2266d2(0x1ca)]=!0x0,te['removeIPv6ById'](z,this[_0x2266d2(0x403)][_0x2266d2(0x552)]),this[_0x2266d2(0x6a1)][_0x2266d2(0x513)](_0x2266d2(0x10d),this['instance']['name']);this[_0x2266d2(0x403)][_0x2266d2(0x470)][_0x2266d2(0x290)]++;let _0xc1b2a0={'margin':0x3,'scale':0x4,'errorCorrectionLevel':'H','color':{'light':_0x2266d2(0x4a2),'dark':_0x2266d2(0x4c1)}};Ao['default'][_0x2266d2(0x4b4)](_0x4e6fb1,_0xc1b2a0,(_0x47fef8,_0x142aa4)=>{const _0x2abf6d=_0x2266d2;if(_0x47fef8){this[_0x2abf6d(0x267)][_0x2abf6d(0x782)](this[_0x2abf6d(0x383)]+'\x20('+this[_0x2abf6d(0x403)]['wuid']+'):\x20Erro\x20ao\x20gerar\x20Qr\x20Code:'+(_0x47fef8 instanceof Error?_0x47fef8[_0x2abf6d(0x60b)]:JSON[_0x2abf6d(0x450)](_0x47fef8,null,0x2)));return;}this[_0x2abf6d(0x403)][_0x2abf6d(0x470)]['base64']=_0x142aa4,this['instance']['qrcode'][_0x2abf6d(0x573)]=_0x4e6fb1,!this[_0x2abf6d(0x4e0)]&&this['sendDataWebhook'](_0x2abf6d(0x1bc),{'qrcode':{'instance':this['instance'][_0x2abf6d(0x552)],'pairingCode':this[_0x2abf6d(0x403)][_0x2abf6d(0x470)][_0x2abf6d(0x486)],'code':_0x4e6fb1,'base64':_0x142aa4}});}),this['phoneNumber']?this[_0x2266d2(0x403)][_0x2266d2(0x470)][_0x2266d2(0x486)]||(await(0x0,w[_0x2266d2(0x7b6)])(0x7d0),this[_0x2266d2(0x403)][_0x2266d2(0x470)][_0x2266d2(0x486)]=await this[_0x2266d2(0x735)][_0x2266d2(0x70a)](this[_0x2266d2(0x4e0)])):this[_0x2266d2(0x403)][_0x2266d2(0x470)][_0x2266d2(0x486)]=null,Io[_0x2266d2(0x49c)][_0x2266d2(0x788)](_0x4e6fb1,{'small':!0x0},_0x1c81c4=>this['logger'][_0x2266d2(0x2ac)](_0x2266d2(0x439)+this[_0x2266d2(0x403)]['name']+_0x2266d2(0x47e)+this[_0x2266d2(0x403)]['qrcode'][_0x2266d2(0x290)]+',\x20pairCode:\x20'+this['instance']['qrcode']['pairingCode']+_0x2266d2(0xce)+_0x1c81c4));}if(_0x570bb2&&(this[_0x2266d2(0x413)]={'state':_0x570bb2,'statusReason':_0x12bdb1?.[_0x2266d2(0x782)]?.[_0x2266d2(0x723)]?.[_0x2266d2(0x69d)]??0xc8},this[_0x2266d2(0x361)](_0x2266d2(0x3aa),{'instance':this[_0x2266d2(0x403)][_0x2266d2(0x552)],...this[_0x2266d2(0x413)]})),_0x570bb2===_0x2266d2(0x38d)){if(this[_0x2266d2(0x4e5)]++,this[_0x2266d2(0x533)][_0x2266d2(0x6b3)](Date[_0x2266d2(0x7b2)]()),this[_0x2266d2(0x533)]=this[_0x2266d2(0x533)][_0x2266d2(0x3ec)](_0x96875e=>Date[_0x2266d2(0x7b2)]()-_0x96875e<this[_0x2266d2(0x640)]),_0x12bdb1[_0x2266d2(0x782)]?.[_0x2266d2(0x723)]?.[_0x2266d2(0x69d)]!==w[_0x2266d2(0x6fa)][_0x2266d2(0x2b1)]){let _0x6dde89=Math[_0x2266d2(0x1cd)](Math[_0x2266d2(0x148)](0x2,this['reconnectAttempts'])*0x3e8,0x493e0);console[_0x2266d2(0x2ac)](this[_0x2266d2(0x383)]+'\x20Tentativa\x20de\x20reconexão\x20'+this[_0x2266d2(0x4e5)]+_0x2266d2(0x5b8)+_0x6dde89/0x3e8+_0x2266d2(0x405)),await new Promise(_0x599bfd=>setTimeout(_0x599bfd,_0x6dde89)),console[_0x2266d2(0x2ac)](_0x2266d2(0x4fb)),await this[_0x2266d2(0x472)]();}else{this[_0x2266d2(0x361)](_0x2266d2(0x18a),{'instance':this[_0x2266d2(0x403)][_0x2266d2(0x552)],'status':_0x2266d2(0x5ae)}),this[_0x2266d2(0x403)][_0x2266d2(0x3b6)][_0x2266d2(0x30f)]=!0x1,this[_0x2266d2(0x4d0)][_0x2266d2(0x79b)]['delete'](this['instanceName']),this[_0x2266d2(0x4d0)][_0x2266d2(0x51e)][_0x2266d2(0x62f)]({'owner':'','online':!0x1,'lastDisconnect':Date[_0x2266d2(0x7b2)]()},this[_0x2266d2(0x403)][_0x2266d2(0x552)]),te[_0x2266d2(0x764)](z,this[_0x2266d2(0x403)]['name']);try{this[_0x2266d2(0x267)][_0x2266d2(0x302)](this[_0x2266d2(0x383)]+'\x20('+this[_0x2266d2(0x403)][_0x2266d2(0x367)]+'):\x20Tentando\x20deletar\x20todas\x20as\x20mensagens...');let _0x21935a=await this[_0x2266d2(0x4d0)][_0x2266d2(0x60b)][_0x2266d2(0x2a7)](this[_0x2266d2(0x403)][_0x2266d2(0x367)]);_0x21935a[_0x2266d2(0x1b8)]?this[_0x2266d2(0x267)][_0x2266d2(0x302)](this['instanceName']+'\x20('+this[_0x2266d2(0x403)][_0x2266d2(0x367)]+'):\x20Todas\x20as\x20mensagens\x20deletadas\x20com\x20sucesso.'):this[_0x2266d2(0x267)][_0x2266d2(0x782)](_0x2266d2(0x285)+_0x21935a['error']);}catch(_0x592c51){this[_0x2266d2(0x267)][_0x2266d2(0x782)](_0x2266d2(0x801)+_0x592c51[_0x2266d2(0x60b)]);}this[_0x2266d2(0x403)]['ScheduleMessage'][_0x2266d2(0x5b6)]!==null&&(this[_0x2266d2(0x267)]['verbose'](this[_0x2266d2(0x383)]+'\x20('+this[_0x2266d2(0x403)][_0x2266d2(0x367)]+'):\x20Limpando\x20delayMessage'),clearInterval(this['instance'][_0x2266d2(0x3b6)][_0x2266d2(0x5b6)]),this[_0x2266d2(0x403)][_0x2266d2(0x3b6)]['delayMessage']=null),this['instance'][_0x2266d2(0x3b6)][_0x2266d2(0x5b6)]!==null&&(this[_0x2266d2(0x267)]['verbose'](this[_0x2266d2(0x383)]+'\x20('+this[_0x2266d2(0x403)][_0x2266d2(0x367)]+_0x2266d2(0x3de)),clearInterval(this[_0x2266d2(0x403)][_0x2266d2(0x3b6)]['delayMessage']),this[_0x2266d2(0x403)][_0x2266d2(0x3b6)][_0x2266d2(0x5b6)]=null),this[_0x2266d2(0x267)][_0x2266d2(0x302)](this[_0x2266d2(0x383)]+'\x20('+this[_0x2266d2(0x403)][_0x2266d2(0x367)]+'):\x20Limpando\x20AutomateSystem'),this[_0x2266d2(0x3d6)]=null,this[_0x2266d2(0x6a1)][_0x2266d2(0x513)](_0x2266d2(0x50a),this[_0x2266d2(0x403)][_0x2266d2(0x552)],_0x2266d2(0x4df)),this['client']?.['ws']?.['close'](),this[_0x2266d2(0x735)][_0x2266d2(0x192)](new Error('Close\x20connection'));}}if(_0x570bb2===_0x2266d2(0x389)){try{this[_0x2266d2(0x735)]['ev'][_0x2266d2(0x5e9)]();}catch(_0x3afd01){this[_0x2266d2(0x267)]['error'](_0x3afd01);}this[_0x2266d2(0x5d9)],this[_0x2266d2(0x403)][_0x2266d2(0x367)]=this['client'][_0x2266d2(0x32b)]['id']['replace'](/:\d+/,'')[_0x2266d2(0x78b)](_0x2266d2(0x1d9),''),this[_0x2266d2(0x403)]['profilePictureUrl']=(await this[_0x2266d2(0x1f7)](this[_0x2266d2(0x403)][_0x2266d2(0x367)]+_0x2266d2(0x1d9)))['profilePictureUrl'],this['repository'][_0x2266d2(0x51e)][_0x2266d2(0x62f)]({'online':!0x0,'owner':this[_0x2266d2(0x403)][_0x2266d2(0x367)],'lastDisconnect':null},this[_0x2266d2(0x403)][_0x2266d2(0x552)]);let _0x3931c5='Número:\x20'+this[_0x2266d2(0x403)][_0x2266d2(0x367)],_0x97c9f8=0x28,_0x2b5df8=Math[_0x2266d2(0x570)]((_0x97c9f8-_0x3931c5[_0x2266d2(0x4b3)])/0x2),_0x544069='\x20'[_0x2266d2(0x557)](_0x2b5df8),_0x36fe78=_0x2266d2(0x6b7),_0x1259ea=_0x2266d2(0x579)+this[_0x2266d2(0x403)][_0x2266d2(0x552)],_0x19e886=(''+_0x544069+_0x3931c5+_0x544069)[_0x2266d2(0x1d6)](_0x97c9f8,'\x20'),_0x49d089=(''+_0x544069+_0x36fe78+_0x544069)['padEnd'](_0x97c9f8,'\x20'),_0x3bb9ce=(''+_0x544069+_0x1259ea+_0x544069)[_0x2266d2(0x1d6)](_0x97c9f8,'\x20'),_0x3c6a49=Math[_0x2266d2(0x17f)](_0x19e886[_0x2266d2(0x4b3)],_0x49d089['length'],_0x3bb9ce['length']),_0x3639b7=_0x19e886[_0x2266d2(0x1d6)](_0x3c6a49,'\x20'),_0x4e2f15=_0x49d089[_0x2266d2(0x1d6)](_0x3c6a49,'\x20'),_0x5de3f8=_0x3bb9ce[_0x2266d2(0x1d6)](_0x3c6a49,'\x20');this['logger'][_0x2266d2(0xf3)](('\x0a\x20\x20\x20\x20\x20\x20\x20\x20┌'+'─'['repeat'](_0x3c6a49)+_0x2266d2(0x313)+_0x4e2f15+_0x2266d2(0x72a)+_0x5de3f8+_0x2266d2(0x72a)+_0x3639b7+_0x2266d2(0x78e)+'─'[_0x2266d2(0x557)](_0x3c6a49)+'┘')['replace'](/^ +/gm,'\x20\x20')),this[_0x2266d2(0x441)](),this[_0x2266d2(0x403)][_0x2266d2(0x3b6)][_0x2266d2(0x30f)]=!0x0;}}[a0_0x6d27f9(0x5d9)](){const _0x5efa43=a0_0x6d27f9;this[_0x5efa43(0x4e5)]=0x0,this['reconnectTimestamps']=[];}async[a0_0x6d27f9(0x5b4)](_0xb0a880,_0x58cd80=!0x1){const _0x143844=a0_0x6d27f9;try{let _0x44247e=await this[_0x143844(0x4d0)][_0x143844(0x60b)][_0x143844(0x37d)]({'where':{'_id':_0xb0a880['id']}},this[_0x143844(0x403)]['wuid']);return _0x58cd80?_0x44247e[0x0]:_0x44247e[0x0][_0x143844(0x60b)];}catch{return{'conversation':''};}}[a0_0x6d27f9(0x218)](){const _0xd9812b=a0_0x6d27f9;let _0xf5f8b5=this[_0xd9812b(0x14e)]['get'](_0xd9812b(0x221)),_0x293fe6=this[_0xd9812b(0x14e)][_0xd9812b(0x693)](_0xd9812b(0x653));_0xf5f8b5?.[_0xd9812b(0x736)]&&!_0x293fe6['ENABLED']&&setInterval(()=>{const _0x5f0222=_0xd9812b;try{for(let [_0x159fa8,_0x34edee]of Object['entries'](_0xf5f8b5))_0x34edee===!0x0&&(0x0,Pe[_0x5f0222(0x25e)])(_0x5f0222(0x3b1)+(0x0,U['join'])(this[_0x5f0222(0x804)],_0x159fa8[_0x5f0222(0x1b4)](),this[_0x5f0222(0x403)][_0x5f0222(0x367)])+_0x5f0222(0x34e));}catch{}},(_0xf5f8b5?.[_0xd9812b(0x736)]??0xe10)*0x3e8);}async['defineAuthState'](){const _0x3fadad=a0_0x6d27f9;let _0x37c6d0=this['configService'][_0x3fadad(0x693)]('DATABASE'),_0x22e811=this[_0x3fadad(0x14e)]['get'](_0x3fadad(0x5ff));return _0x22e811?.[_0x3fadad(0x43a)]?await Os(_0x22e811,this[_0x3fadad(0x403)]['name']):_0x37c6d0[_0x3fadad(0x43a)]?await Ts(this[_0x3fadad(0x403)][_0x3fadad(0x552)]):await(0x0,w['useMultiFileAuthState'])((0x0,U[_0x3fadad(0x34b)])(ye,this['instance'][_0x3fadad(0x552)]));}async['AutomateFunctions'](){const _0x596768=a0_0x6d27f9;let _0x1f159f=()=>Math[_0x596768(0x570)](Math[_0x596768(0x329)]()*0x4e21)+0x7d0,_0x327ab9=async()=>{const _0x37a89a=_0x596768;if(!this[_0x37a89a(0x403)][_0x37a89a(0x3b6)][_0x37a89a(0x30f)]){this['logger'][_0x37a89a(0x302)](this[_0x37a89a(0x383)]+'\x20('+this[_0x37a89a(0x403)][_0x37a89a(0x367)]+_0x37a89a(0x770)),this[_0x37a89a(0x76b)]=!0x1;return;}if(this[_0x37a89a(0x403)][_0x37a89a(0x367)]&&this['AutomateSystem']&&this[_0x37a89a(0x403)][_0x37a89a(0x3b6)]['delayMessage']!==null&&this['instance'][_0x37a89a(0x3b6)][_0x37a89a(0x5b6)]!==void 0x0){let _0x14f3d5=Math[_0x37a89a(0x26b)](this[_0x37a89a(0x403)][_0x37a89a(0x3b6)][_0x37a89a(0x5b6)]/0xea60);this['logger'][_0x37a89a(0x302)](this[_0x37a89a(0x383)]+'\x20('+this[_0x37a89a(0x403)]['wuid']+_0x37a89a(0x240)+_0x14f3d5+'\x20minutos\x20verificará\x20novas\x20mensagens'),this['isRunning']=!0x1;return;}else this['instance']['wuid']&&(this[_0x37a89a(0x267)]['verbose'](this['instanceName']+'\x20('+this[_0x37a89a(0x403)][_0x37a89a(0x367)]+_0x37a89a(0x6b0)),this[_0x37a89a(0x3d6)]||(await this[_0x37a89a(0x4cf)](),this['findGroups'](),this[_0x37a89a(0x344)]()),(this[_0x37a89a(0x403)][_0x37a89a(0x3b6)][_0x37a89a(0x5b6)]===null||this['instance'][_0x37a89a(0x3b6)]['delayMessage']===void 0x0)&&await this[_0x37a89a(0x201)]());if(this['isRunning']){let _0x4b6e53=_0x1f159f();this['logger'][_0x37a89a(0x302)](this[_0x37a89a(0x383)]+_0x37a89a(0x744)+_0x4b6e53/0x3e8+_0x37a89a(0x6e5)),setTimeout(_0x327ab9,_0x4b6e53);}};if(this[_0x596768(0x76b)])return;this[_0x596768(0x76b)]=!0x0;let _0x7f6f5b=_0x1f159f();setTimeout(_0x327ab9,_0x7f6f5b);}async[a0_0x6d27f9(0x344)](){const _0x108ecd=a0_0x6d27f9;let _0x4da244=this['instance'][_0x108ecd(0x367)];try{let _0x12018e=await this[_0x108ecd(0x4d0)]['flow'][_0x108ecd(0x4a3)]({'where':{'$or':[{'owner':_0x4da244},{'whoCanUse':{'$in':[_0x4da244]}},{'shareOwners':{'$in':[_0x4da244]}}]}}),_0x56bd3a=await this[_0x108ecd(0x4d0)]['flow']['findAll']({'where':{'$or':[{'owner':'global'},{'whoCanUse':{'$in':[_0x108ecd(0x60c)]}},{'shareOwners':{'$in':[_0x108ecd(0x60c)]}}]}});_0x56bd3a&&_0x56bd3a['length']>0x0?this['logger'][_0x108ecd(0x302)](this[_0x108ecd(0x383)]+'\x20('+this[_0x108ecd(0x403)][_0x108ecd(0x367)]+_0x108ecd(0x3e6)):(await this[_0x108ecd(0x4d0)][_0x108ecd(0x43d)][_0x108ecd(0x53f)](_0x108ecd(0x60c)),this[_0x108ecd(0x267)][_0x108ecd(0x302)](this['instanceName']+'\x20('+this[_0x108ecd(0x403)][_0x108ecd(0x367)]+_0x108ecd(0x2f3))),_0x12018e&&_0x12018e[_0x108ecd(0x4b3)]>0x0?this[_0x108ecd(0x267)][_0x108ecd(0x302)](this[_0x108ecd(0x383)]+'\x20('+this['instance'][_0x108ecd(0x367)]+_0x108ecd(0x6d2)+_0x4da244+_0x108ecd(0x6bc)):(await this['repository']['flow'][_0x108ecd(0x53f)](_0x4da244),this[_0x108ecd(0x267)]['verbose'](this[_0x108ecd(0x383)]+'\x20('+this[_0x108ecd(0x403)][_0x108ecd(0x367)]+_0x108ecd(0x6d2)+_0x4da244+_0x108ecd(0x11a)),_0x12018e=await this[_0x108ecd(0x4d0)][_0x108ecd(0x43d)]['findAll']({'where':{'$or':[{'owner':_0x4da244},{'whoCanUse':{'$in':[_0x4da244]}},{'shareOwners':{'$in':[_0x4da244]}}]}}));let _0x37e965=new Map(this[_0x108ecd(0x3d6)][_0x108ecd(0x40f)][_0x108ecd(0x5f1)](_0x5c022b=>[_0x5c022b[_0x108ecd(0x3b9)],_0x5c022b])),_0x51241f=_0x12018e['map'](_0xad7a1c=>{const _0xbc82f=_0x108ecd;let _0x3da1d9=_0x37e965[_0xbc82f(0x693)](_0xad7a1c[_0xbc82f(0x3b9)]?.[_0xbc82f(0x3f4)]());return{'_id':_0xad7a1c['_id']?.[_0xbc82f(0x3f4)](),'name':_0x3da1d9?.[_0xbc82f(0x552)]??_0xad7a1c['name'],'default':_0x3da1d9?.[_0xbc82f(0x49c)]??_0xad7a1c[_0xbc82f(0x49c)]??!0x1,'startCommand':_0x3da1d9?.[_0xbc82f(0x5f7)]??_0xad7a1c[_0xbc82f(0x688)],'minutesToClose':_0x3da1d9?.[_0xbc82f(0x19f)]??_0xad7a1c['minutesToClose']??0xa,'readMessages':_0x3da1d9?.[_0xbc82f(0x440)]??_0xad7a1c[_0xbc82f(0x440)]??!0x1,'testingWith':_0x3da1d9?.[_0xbc82f(0x7e4)]??_0xad7a1c[_0xbc82f(0x7e4)],'canEdit':_0xad7a1c[_0xbc82f(0x115)]===_0x4da244||(_0xad7a1c[_0xbc82f(0x622)]??[])['includes'](_0x4da244),'usersCount':(_0xad7a1c[_0xbc82f(0x719)]??[])[_0xbc82f(0x4b3)]??0x0};}),_0x1a0e1a=!0x1;_0x51241f['forEach'](_0x37200e=>{const _0x2b69c1=_0x108ecd;_0x37200e['default']&&(_0x1a0e1a?_0x37200e[_0x2b69c1(0x49c)]=!0x1:_0x1a0e1a=!0x0);}),this[_0x108ecd(0x3d6)][_0x108ecd(0x40f)]=_0x51241f;let _0x228c03={'flows':_0x51241f};return await this[_0x108ecd(0x4d0)][_0x108ecd(0x3cc)][_0x108ecd(0x414)](_0x228c03,_0x4da244),this[_0x108ecd(0x267)]['verbose'](this[_0x108ecd(0x383)]+'\x20('+_0x4da244+_0x108ecd(0x5fa)),_0x51241f[_0x108ecd(0x4b3)];}catch(_0x3c4bf2){return this[_0x108ecd(0x267)][_0x108ecd(0x782)](this['instanceName']+'\x20('+_0x4da244+_0x108ecd(0x3bd)+(_0x3c4bf2 instanceof Error?_0x3c4bf2['message']:JSON[_0x108ecd(0x450)](_0x3c4bf2,null,0x2))),{'message':'Erro\x20ao\x20sincronizar\x20os\x20fluxos:\x20'+(_0x3c4bf2 instanceof Error?_0x3c4bf2[_0x108ecd(0x60b)]:JSON[_0x108ecd(0x450)](_0x3c4bf2,null,0x2))};}}async[a0_0x6d27f9(0x472)](_0x3b14b7){const _0x355c94=a0_0x6d27f9;try{let _0x3d871d=await this[_0x355c94(0x4d0)][_0x355c94(0x403)]['findOne']({'where':{'_id':z+'-'+this[_0x355c94(0x383)]}}),_0x5ae4d2,_0x72a8fe=!0x1,_0x586d0e=0x0;if(!te[_0x355c94(0x119)]||!te['networkInterface'])console[_0x355c94(0x782)](_0x355c94(0x7b4)),_0x5ae4d2=void 0x0;else for(;;){if(_0x3d871d&&_0x3d871d['ip'])_0x5ae4d2=_0x3d871d['ip'],console[_0x355c94(0x2ac)](_0x355c94(0x685)+_0x5ae4d2);else{if(_0x5ae4d2=await te[_0x355c94(0x1c0)](z,this['instance'][_0x355c94(0x552)]),!_0x5ae4d2)break;await(0x0,w[_0x355c94(0x7b6)])(0x7d0),console['log']('Novo\x20IP\x20criado:\x20'+_0x5ae4d2);}if(_0x72a8fe=await te[_0x355c94(0x284)](_0x5ae4d2),_0x72a8fe)break;if(console[_0x355c94(0x782)]('IPv6\x20'+_0x5ae4d2+_0x355c94(0x16d)),await te[_0x355c94(0x764)](z,this[_0x355c94(0x403)]['name']),_0x3d871d=null,_0x586d0e++,_0x586d0e>=0x3){_0x5ae4d2=void 0x0;break;}}this[_0x355c94(0x1c4)](),this[_0x355c94(0x403)]['apikey']=(await this[_0x355c94(0x4d0)][_0x355c94(0x51e)][_0x355c94(0x37d)](this[_0x355c94(0x403)][_0x355c94(0x552)]))[_0x355c94(0x226)],this['instance'][_0x355c94(0xd7)]=await this['defineAuthState']();let {version:_0x5a83a8}=await(0x0,w[_0x355c94(0x5c1)])(),_0x442971=[Oo,Ls,(0x0,Ds[_0x355c94(0xe6)])()],_0x21ddf7={'localAddress':_0x5ae4d2,'auth':{'creds':this[_0x355c94(0x403)]['authState'][_0x355c94(0x11e)]['creds'],'keys':(0x0,w[_0x355c94(0x776)])(this['instance']['authState'][_0x355c94(0x11e)][_0x355c94(0x3ae)],(0x0,Lt[_0x355c94(0x49c)])({'level':'error'}))},'logger':(0x0,Lt[_0x355c94(0x49c)])({'level':_0x355c94(0x782)}),'printQRInTerminal':!0x1,'browser':_0x3b14b7?[_0x355c94(0x3f8),Ls,(0x0,Ds[_0x355c94(0xe6)])()]:_0x442971,'version':_0x5a83a8,'maxMsgRetryCount':0xa,'retryRequestDelayMs':0x3e8,'connectTimeoutMs':0xea60,'qrTimeout':0x9c40,'defaultQueryTimeoutMs':void 0x0,'emitOwnEvents':!0x1,'shouldIgnoreJid':_0x4f6b79=>{const _0x4210d9=_0x355c94;let _0x5e1210=_0x4f6b79[_0x4210d9(0x1bf)]('@newsletter'),_0x459ef9=this[_0x4210d9(0x2c7)]?.[_0x4210d9(0x7a4)]&&_0x4f6b79['endsWith'](_0x4210d9(0x3ce));return _0x5e1210||(0x0,w[_0x4210d9(0x7c4)])(_0x4f6b79)||_0x459ef9;},'msgRetryCounterCache':this[_0x355c94(0x29f)],'getMessage':async _0x4846a2=>await this[_0x355c94(0x5b4)](_0x4846a2),'generateHighQualityLinkPreview':!0x0,'syncFullHistory':!0x1,'userDevicesCache':this[_0x355c94(0x4f5)],'transactionOpts':{'maxCommitRetries':0xa,'delayBetweenTriesMs':0xbb8},'patchMessageBeforeSending':_0x5de5ea=>(_0x5de5ea[_0x355c94(0x27b)]?.['listType']==w['proto'][_0x355c94(0x745)]['ListMessage']['ListType'][_0x355c94(0x2d5)]&&(_0x5de5ea=JSON[_0x355c94(0x610)](JSON[_0x355c94(0x450)](_0x5de5ea)),_0x5de5ea[_0x355c94(0x27b)][_0x355c94(0x707)]=w[_0x355c94(0x7ba)][_0x355c94(0x745)][_0x355c94(0x2fa)]['ListType'][_0x355c94(0x509)]),_0x5de5ea)};return this[_0x355c94(0x1ca)]=!0x1,this[_0x355c94(0x735)]=(0x0,w[_0x355c94(0x49c)])(_0x21ddf7),this[_0x355c94(0x62e)](),this[_0x355c94(0x4e0)]=_0x3b14b7,this[_0x355c94(0x735)];}catch(_0x31aa90){let _0x33bc52=_0x355c94(0x797),_0x341953=_0x31aa90 instanceof Error?_0x31aa90[_0x355c94(0x60b)]:typeof _0x31aa90==_0x355c94(0x5c4)?JSON[_0x355c94(0x450)](_0x31aa90):_0x31aa90,_0x8c253f=_0x33bc52+':\x20'+_0x341953;throw this[_0x355c94(0x267)][_0x355c94(0x782)](this['instanceName']+'\x20('+this[_0x355c94(0x403)]['wuid']+_0x355c94(0x4a0)+_0x8c253f),new _(_0x8c253f);}}['eventHandler'](){this['client']['ev']['process'](_0x495bb5=>{const _0x52054e=a0_0x3485;if(!this[_0x52054e(0x1ca)]){let _0x12dae2=this[_0x52054e(0x14e)]['get'](_0x52054e(0x653));if(_0x495bb5[_0x52054e(0x684)]){let _0x37b9a3=_0x495bb5[_0x52054e(0x684)];this[_0x52054e(0x213)][_0x52054e(0x684)](_0x37b9a3);}if(_0x495bb5[_0x52054e(0x6d9)]){let _0x14d1f9=_0x495bb5['labels.association'];this['messageHandle'][_0x52054e(0x6d9)](_0x14d1f9);}if(_0x495bb5[_0x52054e(0x3aa)]&&this['connectionUpdate'](_0x495bb5['connection.update']),_0x495bb5['creds.update']&&this[_0x52054e(0x403)]['authState'][_0x52054e(0x269)](),_0x495bb5[_0x52054e(0x67b)]){let _0x123c95=_0x495bb5[_0x52054e(0x67b)];this['messageHandle']['messaging-history.set'](_0x123c95,_0x12dae2);}if(_0x495bb5[_0x52054e(0x398)]){let _0x2fb0b8=_0x495bb5[_0x52054e(0x398)];this[_0x52054e(0x213)]['messages.upsert'](_0x2fb0b8,_0x12dae2);}if(_0x495bb5['messages.update']){let _0xc1afe1=_0x495bb5[_0x52054e(0x638)];this[_0x52054e(0x213)][_0x52054e(0x638)](_0xc1afe1,_0x12dae2);}if(_0x495bb5[_0x52054e(0x225)]){let _0x2fce42=_0x495bb5['presence.update'];if(this[_0x52054e(0x2c7)]?.[_0x52054e(0x7a4)]&&_0x2fce42['id'][_0x52054e(0x562)](_0x52054e(0x3ce)))return;this['sendDataWebhook'](_0x52054e(0x225),_0x2fce42);}if(_0x495bb5[_0x52054e(0x674)]){let _0x4283c9=_0x495bb5[_0x52054e(0x674)];this['groupHandler']['groups.upsert'](_0x4283c9);}if(_0x495bb5[_0x52054e(0x530)]){let _0x1ef8ba=_0x495bb5[_0x52054e(0x530)];this['groupHandler'][_0x52054e(0x530)](_0x1ef8ba);}if(_0x495bb5['group-participants.update']){let _0x1a4f1b=_0x495bb5[_0x52054e(0x262)];this['groupHandler'][_0x52054e(0x262)](_0x1a4f1b);}if(_0x495bb5[_0x52054e(0x328)]){let _0x17469f=_0x495bb5[_0x52054e(0x328)];this[_0x52054e(0x20d)]['chats.upsert'](_0x17469f,_0x12dae2);}if(_0x495bb5[_0x52054e(0x31b)]){let _0x3f9829=_0x495bb5['chats.update'];this[_0x52054e(0x20d)][_0x52054e(0x31b)](_0x3f9829,_0x12dae2);}if(_0x495bb5['chats.delete']){let _0x470f24=_0x495bb5[_0x52054e(0x6f3)];this[_0x52054e(0x20d)][_0x52054e(0x6f3)](_0x470f24);}if(_0x495bb5['contacts.upsert']){let _0x351322=_0x495bb5[_0x52054e(0x443)];this[_0x52054e(0x5a7)][_0x52054e(0x443)](_0x351322,_0x12dae2);}if(_0x495bb5['contacts.update']){let _0x9ed509=_0x495bb5[_0x52054e(0x15b)];this[_0x52054e(0x5a7)]['contacts.update'](_0x9ed509,_0x12dae2);}}});}async[a0_0x6d27f9(0x800)](_0x2fc386,_0x1bdcb4){const _0x59eba1=a0_0x6d27f9;if(_0x1bdcb4>=0xa){console['error'](this[_0x59eba1(0x383)]+'\x20('+this[_0x59eba1(0x403)][_0x59eba1(0x367)]+_0x59eba1(0x466)),delete kt[_0x2fc386[_0x59eba1(0x663)]['id']];return;}try{console[_0x59eba1(0x782)](this[_0x59eba1(0x383)]+'\x20('+this[_0x59eba1(0x403)][_0x59eba1(0x367)]+_0x59eba1(0x689)+(_0x1bdcb4+0x1)),await this[_0x59eba1(0x735)][_0x59eba1(0x1a3)](JSON[_0x59eba1(0x610)](_0x2fc386[_0x59eba1(0x2fd)][0x1],w[_0x59eba1(0x459)][_0x59eba1(0x18c)])),console['error'](_0x59eba1(0x4ef));}catch(_0x4ef73b){console['error'](this['instanceName']+'\x20('+this['instance'][_0x59eba1(0x367)]+_0x59eba1(0x39c)+_0x4ef73b),setTimeout(()=>this[_0x59eba1(0x800)](_0x2fc386,_0x1bdcb4+0x1),Math[_0x59eba1(0x148)](0x2,_0x1bdcb4)*0x3e8);}}[a0_0x6d27f9(0xfb)](_0x48b13b){return new Promise(_0x38bd52=>setTimeout(_0x38bd52,_0x48b13b));}[a0_0x6d27f9(0x222)](_0x42004b){const _0x31f215=a0_0x6d27f9;_0x42004b=_0x42004b[_0x31f215(0x78b)](/\D/g,'');let _0x189f5d=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x31f215(0x1a0)](_0x42004b);if(_0x189f5d&&_0x189f5d[0x1]==='55'){let _0x59fd17=_0x189f5d[0x2],_0x372235=_0x189f5d[0x3],_0x41d336=_0x189f5d[0x4];if(parseInt(_0x59fd17)>=0x1f&&_0x372235==='9')return _0x189f5d[0x1]+_0x59fd17+_0x41d336;}return _0x42004b;}['createJid'](_0x21a4e9){const _0x19d2dd=a0_0x6d27f9;return _0x21a4e9[_0x19d2dd(0x562)](_0x19d2dd(0x3ce))||_0x21a4e9[_0x19d2dd(0x562)]('@s.whatsapp.net')||_0x21a4e9[_0x19d2dd(0x562)](_0x19d2dd(0x2e9))?_0x21a4e9:(_0x21a4e9=_0x21a4e9?.['replace'](/\s/g,'')[_0x19d2dd(0x78b)](/\+/g,'')[_0x19d2dd(0x78b)](/\(/g,'')[_0x19d2dd(0x78b)](/\)/g,'')[_0x19d2dd(0x48d)](/\:/)[0x0][_0x19d2dd(0x48d)]('@')[0x0],_0x21a4e9[_0x19d2dd(0x4b3)]>=0x12?(_0x21a4e9=_0x21a4e9[_0x19d2dd(0x78b)](/[^\d-]/g,''),_0x21a4e9+_0x19d2dd(0x3ce)):(_0x21a4e9=_0x21a4e9[_0x19d2dd(0x78b)](/\D/g,''),_0x21a4e9+_0x19d2dd(0x1d9)));}async[a0_0x6d27f9(0x25a)](_0x331b33){const _0x347a6c=a0_0x6d27f9;let _0x52f1eb=(await this['whatsappNumber']({'numbers':[_0x331b33[_0x347a6c(0x110)]]}))[0x0];if(!_0x52f1eb['exists']&&!(0x0,w[_0x347a6c(0x648)])(_0x52f1eb['jid'])&&!_0x52f1eb[_0x347a6c(0x7f7)][_0x347a6c(0x562)]('@broadcast'))throw new m(_0x52f1eb);let _0x95a2dd=_0x52f1eb['jid'];try{return await this[_0x347a6c(0x735)][_0x347a6c(0x3f9)](_0x95a2dd),await this[_0x347a6c(0x735)][_0x347a6c(0x5c7)](_0x331b33[_0x347a6c(0x5f3)],_0x95a2dd),{'status':0xc8,'presence':_0x331b33['presence']};}catch(_0x58f1ab){let _0x2c0a3e='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20updatePresence',_0x33bafc=_0x58f1ab instanceof Error?_0x58f1ab['message']:typeof _0x58f1ab==_0x347a6c(0x5c4)?JSON[_0x347a6c(0x450)](_0x58f1ab):_0x58f1ab,_0x1a071f=_0x2c0a3e+':\x20'+_0x33bafc;throw this[_0x347a6c(0x267)][_0x347a6c(0x782)](this[_0x347a6c(0x383)]+'\x20('+this['instance'][_0x347a6c(0x367)]+'):\x20'+_0x1a071f),new m(_0x1a071f);}}async['findAndUpdateCacheContact'](_0x33b9c1,_0x12fddb,_0x4fab41,_0x5edb61=!0x0){const _0x533eb0=a0_0x6d27f9;let _0x184cb4=await this[_0x533eb0(0x4d0)][_0x533eb0(0x325)][_0x533eb0(0x206)]({'where':{'_id':_0x33b9c1}});if(!_0x184cb4&&!_0x5edb61)return;let _0x148406={'lastUpdate':Date['now']()};if(_0x4fab41||!_0x184cb4?.['lastUpdate']||Date[_0x533eb0(0x7b2)]()-_0x184cb4[_0x533eb0(0x750)]>0x18*0x3c*0x3c*0x3e8)try{let _0x359566=(await this['profilePicture'](_0x33b9c1))[_0x533eb0(0x639)];_0x148406[_0x533eb0(0x320)]=_0x359566;}catch(_0x51ce8){let _0x6480fe='Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20findAndUpdateCacheContact',_0x189e6d=_0x51ce8 instanceof Error?_0x51ce8[_0x533eb0(0x60b)]:typeof _0x51ce8==_0x533eb0(0x5c4)?JSON[_0x533eb0(0x450)](_0x51ce8):_0x51ce8,_0x3fffba=_0x6480fe+':\x20'+_0x189e6d;throw this[_0x533eb0(0x267)]['error'](this[_0x533eb0(0x383)]+'\x20('+this[_0x533eb0(0x403)][_0x533eb0(0x367)]+'):\x20'+_0x3fffba),new m(_0x3fffba);}return _0x12fddb&&_0x184cb4?.['name']!==_0x12fddb&&(_0x148406[_0x533eb0(0x552)]=_0x12fddb),Object[_0x533eb0(0x3ae)](_0x148406)['length']>0x1&&(_0x184cb4?await this[_0x533eb0(0x4d0)][_0x533eb0(0x325)]['update']({'where':{'_id':_0x33b9c1}},_0x148406):await this[_0x533eb0(0x4d0)][_0x533eb0(0x325)][_0x533eb0(0x6b5)]([{'_id':_0x33b9c1,..._0x148406}]),_0x184cb4={..._0x184cb4,..._0x148406}),{'cachedContact':_0x184cb4};}async[a0_0x6d27f9(0x1f7)](_0x156f7b){const _0x4bbbe5=a0_0x6d27f9;let _0x485f60=this['createJid'](_0x156f7b);try{return{'wuid':_0x485f60,'profilePictureUrl':await this[_0x4bbbe5(0x735)][_0x4bbbe5(0x639)](_0x485f60,_0x4bbbe5(0x2c9))};}catch{return{'wuid':_0x485f60,'profilePictureUrl':null};}}async['sendMessageWithTyping'](_0x49dfbc,_0x45e950,_0x3cef5a){const _0x5de9bd=a0_0x6d27f9;let _0x55a1c6;try{let _0x594542=(await this['whatsappNumber']({'numbers':[_0x49dfbc]}))[0x0];if(!_0x594542[_0x5de9bd(0x434)]&&!(0x0,w[_0x5de9bd(0x648)])(_0x594542[_0x5de9bd(0x7f7)])&&!_0x594542['jid'][_0x5de9bd(0x562)]('@broadcast'))throw new m(_0x594542);_0x55a1c6=_0x594542[_0x5de9bd(0x7f7)];}catch(_0x19f784){_0x55a1c6=_0x49dfbc,this['logger'][_0x5de9bd(0x705)](this['instanceName']+'\x20('+this[_0x5de9bd(0x403)][_0x5de9bd(0x367)]+_0x5de9bd(0x667)+_0x19f784['message']),this['logger'][_0x5de9bd(0x705)](this[_0x5de9bd(0x383)]+'\x20('+this[_0x5de9bd(0x403)][_0x5de9bd(0x367)]+'):\x20sender\x20=\x20number:\x20'+_0x55a1c6);}try{if(_0x55a1c6||(_0x55a1c6=_0x49dfbc,this[_0x5de9bd(0x267)]['warn'](this[_0x5de9bd(0x383)]+'\x20('+this[_0x5de9bd(0x403)]['wuid']+_0x5de9bd(0x5f2)+_0x55a1c6)),_0x3cef5a||(_0x3cef5a={}),_0x3cef5a?.[_0x5de9bd(0x7b6)]){await this[_0x5de9bd(0x735)][_0x5de9bd(0x3f9)](_0x55a1c6),await this['client'][_0x5de9bd(0x5c7)](_0x3cef5a?.[_0x5de9bd(0x5f3)]??_0x5de9bd(0x59e),_0x55a1c6);let _0xaa7b08=Math[_0x5de9bd(0x1cd)](_0x3cef5a[_0x5de9bd(0x7b6)],0x2710);await(0x0,w[_0x5de9bd(0x7b6)])(_0xaa7b08),await this[_0x5de9bd(0x735)]['sendPresenceUpdate'](_0x5de9bd(0x256),_0x55a1c6);}let _0x530660=_0x3cef5a?.[_0x5de9bd(0x523)]!=!0x1?void 0x0:!0x1,_0x42aa82;if(_0x3cef5a?.[_0x5de9bd(0x4ce)]){let _0x24f4fa=_0x3cef5a?.['quoted'],_0x360282=_0x24f4fa?.[_0x5de9bd(0x60b)]?_0x24f4fa:await this['getMessage'](_0x24f4fa[_0x5de9bd(0x663)],!0x0);if(!_0x360282)throw _0x5de9bd(0x498);_0x42aa82=_0x360282;}let _0x38c22c;if((0x0,w[_0x5de9bd(0x648)])(_0x55a1c6))try{let _0x512ce7=(await this[_0x5de9bd(0x4d0)][_0x5de9bd(0x463)][_0x5de9bd(0x206)]({'where':{'_id':_0x55a1c6}},this['instance'][_0x5de9bd(0x367)]))[_0x5de9bd(0x623)];if(!_0x512ce7)throw new J(_0x5de9bd(0x4e9));_0x3cef5a?.[_0x5de9bd(0x4f6)]&&(_0x3cef5a[_0x5de9bd(0x4f6)]?.['everyOne']?_0x38c22c=_0x512ce7[_0x5de9bd(0x4ab)]['map'](_0xb5f9ca=>_0xb5f9ca['id']):_0x3cef5a['mentions']?.[_0x5de9bd(0x52e)]?.[_0x5de9bd(0x4b3)]&&(_0x38c22c=_0x3cef5a[_0x5de9bd(0x4f6)][_0x5de9bd(0x52e)][_0x5de9bd(0x5f1)](_0x3512db=>{const _0x139c6a=_0x5de9bd;let _0x52a917=this[_0x139c6a(0x1b6)](_0x3512db);return(0x0,w[_0x139c6a(0x648)])(_0x52a917)?null:_0x52a917;})));}catch{throw new J(_0x5de9bd(0x4e9));}let _0x365318=await this[_0x5de9bd(0x4d0)]['chat'][_0x5de9bd(0x206)]({'where':{'_id':_0x55a1c6}},this[_0x5de9bd(0x403)][_0x5de9bd(0x367)]),_0x227939=await((async()=>{const _0x294f24=_0x5de9bd;let _0x59980f={'quoted':_0x42aa82,'ephemeralExpiration':_0x365318?.['ephemeralExpiration']??0x0};if(!_0x45e950[_0x294f24(0x4bd)]&&!_0x45e950[_0x294f24(0x47a)]&&!_0x45e950[_0x294f24(0x5de)]&&!_0x45e950[_0x294f24(0x2d6)]&&_0x55a1c6!==_0x294f24(0x457)&&!_0x45e950[_0x294f24(0x4bd)])return await this[_0x294f24(0x735)][_0x294f24(0x497)](_0x55a1c6,{'forward':{'key':{'remoteJid':this[_0x294f24(0x403)]['wuid'],'fromMe':!0x0},'message':_0x45e950},'mentions':_0x38c22c},_0x59980f);if(_0x45e950[_0x294f24(0x31c)])return await this[_0x294f24(0x735)][_0x294f24(0x497)](_0x55a1c6,{'react':{'text':_0x45e950[_0x294f24(0x31c)][_0x294f24(0x4a9)],'key':_0x45e950[_0x294f24(0x31c)][_0x294f24(0x663)]}},_0x59980f);if(_0x45e950[_0x294f24(0x2d6)]){let _0x438fb0=_0x45e950[_0x294f24(0x2d6)];return _0x3cef5a?.['changeVariables']&&(_0x438fb0=await this[_0x294f24(0x31f)](_0x438fb0,_0x55a1c6)),await this[_0x294f24(0x735)][_0x294f24(0x497)](_0x55a1c6,{'text':_0x438fb0,'mentions':_0x38c22c,'linkPreview':_0x530660},_0x59980f);}return _0x55a1c6===_0x294f24(0x457)?await this['client'][_0x294f24(0x497)](_0x55a1c6,_0x45e950[_0x294f24(0x538)]['content'],{'backgroundColor':_0x45e950[_0x294f24(0x538)][_0x294f24(0x547)][_0x294f24(0x76f)],'font':_0x45e950[_0x294f24(0x538)][_0x294f24(0x547)]['font'],'statusJidList':_0x45e950[_0x294f24(0x538)][_0x294f24(0x547)]['statusJidList']}):await this[_0x294f24(0x735)][_0x294f24(0x497)](_0x55a1c6,_0x45e950,_0x59980f);})()),_0xb04581=(0x0,w[_0x5de9bd(0x36a)])(_0x227939[_0x5de9bd(0x60b)]),_0x1a7501=(0x0,w[_0x5de9bd(0x212)])(_0xb04581),{message_normalized:_0x26eecf}=this[_0x5de9bd(0x79e)](_0xb04581,_0x1a7501,null),_0x2da55e={'_id':_0x227939[_0x5de9bd(0x663)]['id'],'key':_0x227939[_0x5de9bd(0x663)],'pushName':_0x227939[_0x5de9bd(0x32d)],'isGroup':_0x227939[_0x5de9bd(0x663)][_0x5de9bd(0x455)][_0x5de9bd(0x1bf)]('@g.us'),'profilePictureUrl':this[_0x5de9bd(0x403)][_0x5de9bd(0x639)],'message':_0xb04581,'messageType':_0x1a7501,'message_normalized':{'key':_0x227939[_0x5de9bd(0x663)],'pushName':_0x227939[_0x5de9bd(0x32d)],'messageTimestamp':_0x227939['messageTimestamp']&&_0x227939[_0x5de9bd(0x1f6)]['toString']()[_0x5de9bd(0x4b3)]<0xd?_0x227939[_0x5de9bd(0x1f6)]*0x3e8:_0x227939[_0x5de9bd(0x1f6)]||null,'source':(0x0,w[_0x5de9bd(0x2a2)])(_0x227939[_0x5de9bd(0x663)]['id']),..._0x26eecf},'messageTimestamp':_0x227939['messageTimestamp']&&_0x227939[_0x5de9bd(0x1f6)][_0x5de9bd(0x3f4)]()['length']<0xd?_0x227939[_0x5de9bd(0x1f6)]*0x3e8:_0x227939[_0x5de9bd(0x1f6)]||null,'owner':this[_0x5de9bd(0x403)][_0x5de9bd(0x367)],'source':(0x0,w[_0x5de9bd(0x2a2)])(_0x227939[_0x5de9bd(0x663)]['id'])};return this[_0x5de9bd(0x267)][_0x5de9bd(0x705)](this[_0x5de9bd(0x383)]+'\x20('+this[_0x5de9bd(0x403)][_0x5de9bd(0x367)]+_0x5de9bd(0x536)+_0x2da55e['key']?.[_0x5de9bd(0x455)][_0x5de9bd(0x78b)]('@s.whatsapp.net','')+']\x20('+_0x2da55e[_0x5de9bd(0x7e9)]+')'),_0x2da55e[_0x5de9bd(0x42f)]?.[_0x5de9bd(0x4a9)]&&this[_0x5de9bd(0x267)][_0x5de9bd(0x705)](_0x2da55e[_0x5de9bd(0x42f)]?.[_0x5de9bd(0x4a9)]),this[_0x5de9bd(0x361)](_0x5de9bd(0x661),_0x2da55e),j(this[_0x5de9bd(0x383)],_0x5de9bd(0x2db),{'message':_0x2da55e}),this[_0x5de9bd(0x4ed)](this[_0x5de9bd(0x14e)]['get'](_0x5de9bd(0x653)),_0x2da55e,_0x5de9bd(0x1e5),_0x365318),await this[_0x5de9bd(0x4d0)][_0x5de9bd(0x60b)][_0x5de9bd(0x6b5)]([_0x2da55e],this['instance'][_0x5de9bd(0x367)]),_0x227939;}catch(_0x133bab){let _0x118313=_0x5de9bd(0x5bb)+_0x55a1c6,_0xe4ab09=_0x133bab instanceof Error?_0x133bab[_0x5de9bd(0x60b)]:typeof _0x133bab==_0x5de9bd(0x5c4)?JSON['stringify'](_0x133bab):_0x133bab,_0x24a4bd=_0x118313+':\x20'+_0xe4ab09;throw this[_0x5de9bd(0x267)][_0x5de9bd(0x782)](this[_0x5de9bd(0x383)]+'\x20('+this[_0x5de9bd(0x403)][_0x5de9bd(0x367)]+'):\x20'+_0x24a4bd),new m(_0x24a4bd);}}get[a0_0x6d27f9(0x5aa)](){return this['stateConnection'];}async[a0_0x6d27f9(0x5d0)](_0x271e5f){const _0x15babd=a0_0x6d27f9;return await this[_0x15babd(0x6ad)](_0x271e5f[_0x15babd(0x110)],{'conversation':_0x271e5f['textMessage'][_0x15babd(0x4a9)]},_0x271e5f?.[_0x15babd(0x627)]);}async[a0_0x6d27f9(0x332)](_0x214b70){const _0x218e48=a0_0x6d27f9;if(!_0x214b70[_0x218e48(0x5cb)])throw new m('Type\x20is\x20required');if(!_0x214b70[_0x218e48(0x6dc)])throw new m('Content\x20is\x20required');if(_0x214b70[_0x218e48(0x2c1)]){let _0x468e3c=await this['repository'][_0x218e48(0x2f4)][_0x218e48(0x37d)]({'where':{}},this[_0x218e48(0x403)][_0x218e48(0x367)]);if(!_0x468e3c[_0x218e48(0x4b3)])throw new m(_0x218e48(0x51c));_0x214b70['statusJidList']=_0x468e3c[_0x218e48(0x3ec)](_0x1b44bb=>_0x1b44bb[_0x218e48(0x32d)])[_0x218e48(0x5f1)](_0x2d36f7=>_0x2d36f7['_id']);}if(!_0x214b70[_0x218e48(0x338)]?.[_0x218e48(0x4b3)]&&!_0x214b70[_0x218e48(0x2c1)])throw new m('StatusJidList\x20is\x20required');if(_0x214b70[_0x218e48(0x5cb)]==='text'){if(!_0x214b70['backgroundColor'])throw new m(_0x218e48(0x4eb));if(!_0x214b70['font'])throw new m(_0x218e48(0x38b));return{'content':{'text':_0x214b70[_0x218e48(0x6dc)]},'option':{'backgroundColor':_0x214b70[_0x218e48(0x76f)],'font':_0x214b70[_0x218e48(0x512)],'statusJidList':_0x214b70['statusJidList']}};}if(_0x214b70[_0x218e48(0x5cb)]===_0x218e48(0x2c9))return{'content':{'image':{'url':_0x214b70[_0x218e48(0x6dc)]},'caption':_0x214b70[_0x218e48(0x4a1)]},'option':{'statusJidList':_0x214b70[_0x218e48(0x338)]}};if(_0x214b70[_0x218e48(0x5cb)]===_0x218e48(0x6eb))return{'content':{'video':{'url':_0x214b70[_0x218e48(0x6dc)]},'caption':_0x214b70[_0x218e48(0x4a1)]},'option':{'statusJidList':_0x214b70[_0x218e48(0x338)]}};if(_0x214b70[_0x218e48(0x5cb)]===_0x218e48(0x4bd)){this[_0x218e48(0x267)][_0x218e48(0x302)](this[_0x218e48(0x383)]+'\x20('+this['instance']['wuid']+_0x218e48(0x75d)),this[_0x218e48(0x267)][_0x218e48(0x302)](this[_0x218e48(0x383)]+'\x20('+this['instance'][_0x218e48(0x367)]+_0x218e48(0x452));let _0x1aa62f=await this[_0x218e48(0x137)](_0x214b70[_0x218e48(0x6dc)]);if(typeof _0x1aa62f=='string'){this[_0x218e48(0x267)][_0x218e48(0x302)](this[_0x218e48(0x383)]+'\x20('+this[_0x218e48(0x403)]['wuid']+_0x218e48(0x609));let _0x5342d2=L[_0x218e48(0x422)](_0x1aa62f)[_0x218e48(0x3f4)]('base64');return{'content':{'audio':Buffer[_0x218e48(0x4db)](_0x5342d2,'base64'),'ptt':!0x0,'mimetype':'audio/ogg'},'option':{'statusJidList':_0x214b70['statusJidList']}};}else throw new _(_0x1aa62f);}throw new m(_0x218e48(0x1fc));}async[a0_0x6d27f9(0x717)](_0x4a895d){const _0x227a96=a0_0x6d27f9;return await this[_0x227a96(0x6ad)](_0x227a96(0x457),{'status':await this['formatStatusMessage'](_0x4a895d['statusMessage'])});}async[a0_0x6d27f9(0x471)](_0x323f65){const _0x19dcd9=a0_0x6d27f9;try{let _0x140b56=await(0x0,w[_0x19dcd9(0x1dc)])({[_0x323f65[_0x19dcd9(0x39e)]]:(0x0,k[_0x19dcd9(0x6de)])(_0x323f65[_0x19dcd9(0x585)])?{'url':_0x323f65[_0x19dcd9(0x585)]}:Buffer['from'](_0x323f65[_0x19dcd9(0x585)],_0x19dcd9(0x5c9))},{'upload':this[_0x19dcd9(0x735)][_0x19dcd9(0x31a)]}),_0x4fba75=_0x323f65[_0x19dcd9(0x39e)]+_0x19dcd9(0x745);if(_0x323f65[_0x19dcd9(0x39e)]===_0x19dcd9(0x6cf)&&!_0x323f65[_0x19dcd9(0x709)]){let _0x4b9fd2=new RegExp(/.*\/(.+?)\./)[_0x19dcd9(0x1a0)](_0x323f65[_0x19dcd9(0x585)]);_0x323f65[_0x19dcd9(0x709)]=_0x4b9fd2?_0x4b9fd2[0x1]:null;}let _0x284228;return(0x0,k[_0x19dcd9(0x6de)])(_0x323f65[_0x19dcd9(0x585)])?_0x284228=(await Q[_0x19dcd9(0x49c)][_0x19dcd9(0x693)](_0x323f65[_0x19dcd9(0x585)],{'responseType':_0x19dcd9(0x6ff)}))[_0x19dcd9(0x732)][_0x19dcd9(0x553)]:_0x284228=(0x0,To[_0x19dcd9(0x7bd)])(_0x323f65[_0x19dcd9(0x709)]),_0x140b56[_0x4fba75][_0x19dcd9(0x4a1)]=_0x323f65?.[_0x19dcd9(0x4a1)],_0x140b56[_0x4fba75][_0x19dcd9(0x727)]=_0x284228,_0x140b56[_0x4fba75][_0x19dcd9(0x709)]=_0x323f65[_0x19dcd9(0x709)],_0x323f65[_0x19dcd9(0x39e)]===_0x19dcd9(0x6eb)&&(_0x140b56[_0x4fba75][_0x19dcd9(0x563)]=Uint8Array[_0x19dcd9(0x4db)]((0x0,De[_0x19dcd9(0x422)])((0x0,U[_0x19dcd9(0x34b)])(process[_0x19dcd9(0x167)](),'video-cover.png'))),_0x140b56[_0x4fba75][_0x19dcd9(0x42a)]=!0x1),(0x0,w[_0x19dcd9(0x216)])('',{[_0x4fba75]:{..._0x140b56[_0x4fba75]}},{'userJid':this['instance'][_0x19dcd9(0x367)]});}catch(_0x26c7a6){let _0x1c3ce3=_0x19dcd9(0x580),_0x4c5fcd=_0x26c7a6 instanceof Error?_0x26c7a6[_0x19dcd9(0x60b)]:typeof _0x26c7a6==_0x19dcd9(0x5c4)?JSON['stringify'](_0x26c7a6):_0x26c7a6,_0x1cdbc4=_0x1c3ce3+':\x20'+_0x4c5fcd;throw this[_0x19dcd9(0x267)][_0x19dcd9(0x782)](this['instanceName']+'\x20('+this[_0x19dcd9(0x403)]['wuid']+_0x19dcd9(0x4a0)+_0x1cdbc4),new _(_0x1cdbc4);}}async['mediaMessage'](_0x3ef63f){const _0x4954d6=a0_0x6d27f9;let _0x1ca801=await this[_0x4954d6(0x471)](_0x3ef63f['mediaMessage']);return await this[_0x4954d6(0x6ad)](_0x3ef63f[_0x4954d6(0x110)],{..._0x1ca801[_0x4954d6(0x60b)]},_0x3ef63f?.[_0x4954d6(0x627)]);}async['convertToWebP'](_0x3b57af,_0x1dc53c){const _0x491299=a0_0x6d27f9;try{this[_0x491299(0x267)][_0x491299(0x302)](this[_0x491299(0x383)]+'\x20('+this['instance'][_0x491299(0x367)]+_0x491299(0x3fb));let _0xe4952d,_0x8a9635=_0x1dc53c+'-'+new Date()['getTime']();this['logger'][_0x491299(0x302)](this['instanceName']+'\x20('+this[_0x491299(0x403)][_0x491299(0x367)]+_0x491299(0x75b)+_0x8a9635);let _0x4592f6=''+(0x0,U[_0x491299(0x34b)])(this[_0x491299(0x804)],_0x8a9635+'.webp');if(this['logger']['verbose'](this[_0x491299(0x383)]+'\x20('+this[_0x491299(0x403)][_0x491299(0x367)]+'):Output\x20path:\x20'+_0x4592f6),(0x0,k[_0x491299(0x4f3)])(_0x3b57af)){this[_0x491299(0x267)][_0x491299(0x302)](this['instanceName']+'\x20('+this[_0x491299(0x403)][_0x491299(0x367)]+_0x491299(0x407));let _0x36266d=_0x3b57af['replace'](/^data:image\/(jpeg|png|gif);base64,/,''),_0x4f6e42=Buffer['from'](_0x36266d,_0x491299(0x5c9));_0xe4952d=''+(0x0,U[_0x491299(0x34b)])(this['storePath'],_0x491299(0x5da)+_0x8a9635+_0x491299(0x433)),this[_0x491299(0x267)][_0x491299(0x302)](this[_0x491299(0x383)]+'\x20('+this[_0x491299(0x403)][_0x491299(0x367)]+_0x491299(0x4e7)+_0xe4952d),await(0x0,Ft['default'])(_0x4f6e42)[_0x491299(0x2f5)](_0xe4952d),this[_0x491299(0x267)][_0x491299(0x302)](this[_0x491299(0x383)]+'\x20('+this[_0x491299(0x403)][_0x491299(0x367)]+_0x491299(0x650));}else{this[_0x491299(0x267)][_0x491299(0x302)](this['instanceName']+'\x20('+this[_0x491299(0x403)][_0x491299(0x367)]+_0x491299(0x390));let _0x1bcf12=new Date()[_0x491299(0x4d1)](),_0x3fbb05=_0x3b57af+_0x491299(0x7c8)+_0x1bcf12;this[_0x491299(0x267)][_0x491299(0x302)](this[_0x491299(0x383)]+'\x20('+this[_0x491299(0x403)][_0x491299(0x367)]+_0x491299(0x22e)+_0x3fbb05);let _0x4a6918=await Q[_0x491299(0x49c)][_0x491299(0x693)](_0x3fbb05,{'responseType':_0x491299(0x6ff)});this[_0x491299(0x267)][_0x491299(0x302)](this[_0x491299(0x383)]+'\x20('+this[_0x491299(0x403)][_0x491299(0x367)]+'):Getting\x20image\x20from\x20url');let _0x2221e3=Buffer[_0x491299(0x4db)](_0x4a6918[_0x491299(0x462)],_0x491299(0x6f8));_0xe4952d=''+(0x0,U[_0x491299(0x34b)])(this['storePath'],_0x491299(0x5da)+_0x8a9635+'.png'),this[_0x491299(0x267)][_0x491299(0x302)](this['instanceName']+'\x20('+this[_0x491299(0x403)][_0x491299(0x367)]+'):Image\x20path:\x20'+_0xe4952d),await(0x0,Ft['default'])(_0x2221e3)['toFile'](_0xe4952d),this[_0x491299(0x267)]['verbose'](this['instanceName']+'\x20('+this[_0x491299(0x403)]['wuid']+_0x491299(0x650));}return await(0x0,Ft[_0x491299(0x49c)])(_0xe4952d)[_0x491299(0x375)]()[_0x491299(0x2f5)](_0x4592f6),this[_0x491299(0x267)][_0x491299(0x302)](this['instanceName']+'\x20('+this[_0x491299(0x403)][_0x491299(0x367)]+_0x491299(0x7ab)),L[_0x491299(0x765)](_0xe4952d),this[_0x491299(0x267)]['verbose'](this[_0x491299(0x383)]+'\x20('+this[_0x491299(0x403)][_0x491299(0x367)]+_0x491299(0x163)),_0x4592f6;}catch(_0x51e0b1){let _0xe989f8='Erro\x20ao\x20converter\x20a\x20imagem\x20para\x20WebP',_0x5ec5a0=_0x51e0b1 instanceof Error?_0x51e0b1[_0x491299(0x60b)]:typeof _0x51e0b1==_0x491299(0x5c4)?JSON[_0x491299(0x450)](_0x51e0b1):_0x51e0b1,_0x2918f8=_0xe989f8+':\x20'+_0x5ec5a0;this[_0x491299(0x267)][_0x491299(0x782)](this[_0x491299(0x383)]+'\x20('+this[_0x491299(0x403)]['wuid']+'):\x20'+_0x2918f8);}}async[a0_0x6d27f9(0x33d)](_0x2c74c3){const _0x532e74=a0_0x6d27f9;let _0x2e4952=await this['convertToWebP'](_0x2c74c3[_0x532e74(0x483)][_0x532e74(0x2c9)],_0x2c74c3[_0x532e74(0x110)]),_0x586323=await this[_0x532e74(0x6ad)](_0x2c74c3[_0x532e74(0x110)],{'sticker':{'url':_0x2e4952}},_0x2c74c3?.['options']);return L[_0x532e74(0x765)](_0x2e4952),this[_0x532e74(0x267)]['verbose'](this[_0x532e74(0x383)]+'\x20('+this[_0x532e74(0x403)][_0x532e74(0x367)]+_0x532e74(0x19b)),_0x586323;}async[a0_0x6d27f9(0x5f0)](_0x2e02d6){const _0x250e37=a0_0x6d27f9;if(this[_0x250e37(0x267)]['verbose'](this['instanceName']+'\x20('+this[_0x250e37(0x403)][_0x250e37(0x367)]+'):Sending\x20audio\x20whatsapp'),!_0x2e02d6[_0x250e37(0x627)]?.['encoding']&&_0x2e02d6[_0x250e37(0x627)]?.[_0x250e37(0x480)]!==!0x1&&(_0x2e02d6[_0x250e37(0x627)][_0x250e37(0x480)]=!0x0),_0x2e02d6[_0x250e37(0x627)]?.[_0x250e37(0x480)]){let _0x2b9a29=await this['convertaudio'](_0x2e02d6[_0x250e37(0x681)][_0x250e37(0x4bd)]);if(typeof _0x2b9a29=='string'){let _0x1f114c=L[_0x250e37(0x422)](_0x2b9a29)['toString'](_0x250e37(0x5c9));return this[_0x250e37(0x6ad)](_0x2e02d6[_0x250e37(0x110)],{'audio':Buffer[_0x250e37(0x4db)](_0x1f114c,_0x250e37(0x5c9)),'ptt':!0x0,'mimetype':_0x250e37(0x12f)},{'presence':_0x250e37(0x769),'delay':_0x2e02d6?.[_0x250e37(0x627)]?.[_0x250e37(0x7b6)]});}else throw new _(_0x2b9a29);}return await this['sendMessageWithTyping'](_0x2e02d6[_0x250e37(0x110)],{'audio':(0x0,k['isURL'])(_0x2e02d6[_0x250e37(0x681)][_0x250e37(0x4bd)])?{'url':_0x2e02d6[_0x250e37(0x681)][_0x250e37(0x4bd)]}:Buffer[_0x250e37(0x4db)](_0x2e02d6[_0x250e37(0x681)][_0x250e37(0x4bd)],_0x250e37(0x5c9)),'ptt':!0x0,'mimetype':_0x250e37(0x12f)},{'presence':_0x250e37(0x769),'delay':_0x2e02d6?.[_0x250e37(0x627)]?.[_0x250e37(0x7b6)]});}async['convertaudio'](_0x41d7d9){const _0xf1abae=a0_0x6d27f9;this[_0xf1abae(0x267)]['verbose'](this[_0xf1abae(0x383)]+'\x20('+this[_0xf1abae(0x403)][_0xf1abae(0x367)]+_0xf1abae(0x452));let _0x2f2628=(0x0,k['isURL'])(_0x41d7d9)?(0x0,Ut[_0xf1abae(0x6ef)])('sha256')[_0xf1abae(0x414)](_0x41d7d9)[_0xf1abae(0x642)](_0xf1abae(0x53a)):(0x0,Ut[_0xf1abae(0x6ef)])(_0xf1abae(0x4e8))[_0xf1abae(0x414)](_0x41d7d9)[_0xf1abae(0x642)](_0xf1abae(0x53a)),_0x409db1=''+(0x0,U[_0xf1abae(0x34b)])(this['storePath'],_0x2f2628+_0xf1abae(0x599));if(L[_0xf1abae(0xee)](_0x409db1))return this['logger'][_0xf1abae(0x302)](this[_0xf1abae(0x383)]+'\x20('+this[_0xf1abae(0x403)][_0xf1abae(0x367)]+_0xf1abae(0x6d4)),_0x409db1;let _0x3e20a1=''+(0x0,U[_0xf1abae(0x34b)])(this[_0xf1abae(0x804)],_0xf1abae(0x5da)+(0x0,fe['v4'])()+_0xf1abae(0x133));if((0x0,k[_0xf1abae(0x6de)])(_0x41d7d9)){let _0x33dece=new Date()[_0xf1abae(0x4d1)](),_0x55b6e9=_0x41d7d9+_0xf1abae(0x7c8)+_0x33dece,_0x126f22=await Q[_0xf1abae(0x49c)][_0xf1abae(0x693)](_0x55b6e9,{'responseType':_0xf1abae(0x6ff)});L[_0xf1abae(0x477)](_0x3e20a1,_0x126f22['data']);}else{let _0x2b662c=Buffer['from'](_0x41d7d9,_0xf1abae(0x5c9));L[_0xf1abae(0x477)](_0x3e20a1,_0x2b662c);}return new Promise((_0x448843,_0x405502)=>{const _0x24f0ac=_0xf1abae;(0x0,Pe[_0x24f0ac(0x1a0)])(xs[_0x24f0ac(0x49c)][_0x24f0ac(0x4a4)]+_0x24f0ac(0x158)+_0x3e20a1+'\x20-vn\x20-c:a\x20libopus\x20-ar\x2016000\x20-ac\x201\x20-b:a\x2018k\x20-f\x20ogg\x20'+_0x409db1+_0x24f0ac(0x637),_0x80b408=>{const _0x51be2a=_0x24f0ac;if(L[_0x51be2a(0x765)](_0x3e20a1),_0x80b408){this['logger'][_0x51be2a(0x302)](this['instanceName']+'\x20('+this[_0x51be2a(0x403)][_0x51be2a(0x367)]+_0x51be2a(0x1be)),_0x405502(_0x80b408);return;}this['logger'][_0x51be2a(0x302)](this[_0x51be2a(0x383)]+'\x20('+this['instance'][_0x51be2a(0x367)]+_0x51be2a(0x1d1)),_0x448843(_0x409db1);});});}async['convertaudioMP3'](_0x2a3e42){const _0xf9688=a0_0x6d27f9;this[_0xf9688(0x267)][_0xf9688(0x302)](this[_0xf9688(0x383)]+'\x20('+this[_0xf9688(0x403)]['wuid']+'):Processing\x20audio');let _0x20c53f=(0x0,Ut['createHash'])(_0xf9688(0x4e8))[_0xf9688(0x414)](_0x2a3e42)[_0xf9688(0x642)](_0xf9688(0x53a)),_0x187713=''+(0x0,U[_0xf9688(0x34b)])(this['storePath'],_0x20c53f+_0xf9688(0x133));if(L[_0xf9688(0xee)](_0x187713))return this[_0xf9688(0x267)][_0xf9688(0x302)](this['instanceName']+'\x20('+this[_0xf9688(0x403)][_0xf9688(0x367)]+_0xf9688(0x6d4)),U[_0xf9688(0x49c)][_0xf9688(0x6fc)](_0x187713);let _0x38d132=''+(0x0,U[_0xf9688(0x34b)])(this['storePath'],'temp-'+_0x20c53f+_0xf9688(0x599));if((0x0,k[_0xf9688(0x6de)])(_0x2a3e42)){let _0x1ccb56=new Date()['getTime'](),_0x2551cf=_0x2a3e42+_0xf9688(0x7c8)+_0x1ccb56,_0x45b2bc=await Q[_0xf9688(0x49c)][_0xf9688(0x693)](_0x2551cf,{'responseType':_0xf9688(0x6ff)});L[_0xf9688(0x477)](_0x38d132,_0x45b2bc[_0xf9688(0x462)]);}else{let _0x54a3ce=Buffer[_0xf9688(0x4db)](_0x2a3e42,_0xf9688(0x5c9));L[_0xf9688(0x477)](_0x38d132,_0x54a3ce);}return new Promise((_0x406f9c,_0x490ce3)=>{const _0x3d6a10=_0xf9688;(0x0,Pe[_0x3d6a10(0x1a0)])(xs[_0x3d6a10(0x49c)][_0x3d6a10(0x4a4)]+_0x3d6a10(0x158)+_0x38d132+'\x20-vn\x20-ab\x20128k\x20-ar\x2044100\x20-acodec\x20libmp3lame\x20'+_0x187713+_0x3d6a10(0x637),_0x260929=>{const _0x49190a=_0x3d6a10;if(L[_0x49190a(0x765)](_0x38d132),_0x260929){this['logger'][_0x49190a(0x302)](this['instanceName']+'\x20('+this[_0x49190a(0x403)][_0x49190a(0x367)]+_0x49190a(0x1be)),_0x490ce3(_0x260929);return;}this[_0x49190a(0x267)][_0x49190a(0x302)](this[_0x49190a(0x383)]+'\x20('+this[_0x49190a(0x403)]['wuid']+'):Audio\x20converted\x20and\x20stored\x20in\x20cache'),_0x406f9c(U[_0x49190a(0x49c)][_0x49190a(0x6fc)](_0x187713));});});}async['buttonMessage'](_0x3b165e){const _0x1b06ff=a0_0x6d27f9;let _0x2b533b={},_0x55a1ef='TEXT';if(_0x3b165e[_0x1b06ff(0x24d)]?.[_0x1b06ff(0xdc)]){_0x55a1ef=_0x3b165e['buttonMessage'][_0x1b06ff(0xdc)]?.[_0x1b06ff(0x39e)][_0x1b06ff(0x78d)]()??_0x1b06ff(0x4a7),_0x2b533b[_0x1b06ff(0x6db)]=_0x55a1ef[_0x1b06ff(0x1b4)]()+_0x1b06ff(0x745);let _0x13f339=await this[_0x1b06ff(0x471)](_0x3b165e[_0x1b06ff(0x24d)][_0x1b06ff(0xdc)]);_0x2b533b['message']=_0x13f339[_0x1b06ff(0x60b)][_0x2b533b[_0x1b06ff(0x6db)]],_0x2b533b['contentText']='*'+_0x3b165e[_0x1b06ff(0x24d)][_0x1b06ff(0x420)]+'*\x0a\x0a'+_0x3b165e[_0x1b06ff(0x24d)][_0x1b06ff(0x32a)];}let _0x3b708e={'text':_0x3b165e['buttonMessage']['buttons'][_0x1b06ff(0x5f1)](_0x318f86=>_0x318f86[_0x1b06ff(0x6be)]),'ids':_0x3b165e[_0x1b06ff(0x24d)][_0x1b06ff(0x18e)][_0x1b06ff(0x5f1)](_0x1a58b0=>_0x1a58b0[_0x1b06ff(0x799)])};if(!(0x0,k['arrayUnique'])(_0x3b708e[_0x1b06ff(0x4a9)])||!(0x0,k[_0x1b06ff(0xd9)])(_0x3b708e[_0x1b06ff(0x703)]))throw new m(_0x1b06ff(0x272),'Button\x20IDs\x20cannot\x20be\x20repeated.');return await this['sendMessageWithTyping'](_0x3b165e[_0x1b06ff(0x110)],{'buttonsMessage':{'text':_0x2b533b?.['mediaKey']?void 0x0:_0x3b165e[_0x1b06ff(0x24d)]['title'],'contentText':_0x2b533b?.['contentText']??_0x3b165e[_0x1b06ff(0x24d)][_0x1b06ff(0x32a)],'footerText':_0x3b165e[_0x1b06ff(0x24d)]?.['footerText'],'buttons':_0x3b165e['buttonMessage'][_0x1b06ff(0x18e)][_0x1b06ff(0x5f1)](_0xf5490e=>({'buttonText':{'displayText':_0xf5490e[_0x1b06ff(0x6be)]},'buttonId':_0xf5490e['buttonId'],'type':0x1})),'headerType':w[_0x1b06ff(0x7ba)][_0x1b06ff(0x745)][_0x1b06ff(0x69a)][_0x1b06ff(0x211)][_0x55a1ef],[_0x2b533b?.[_0x1b06ff(0x6db)]]:_0x2b533b?.[_0x1b06ff(0x60b)]}},_0x3b165e?.[_0x1b06ff(0x627)]);}async['locationMessage'](_0x2562b4){const _0x275158=a0_0x6d27f9;return await this[_0x275158(0x6ad)](_0x2562b4[_0x275158(0x110)],{'locationMessage':{'degreesLatitude':_0x2562b4[_0x275158(0x378)]['latitude'],'degreesLongitude':_0x2562b4[_0x275158(0x378)][_0x275158(0x2cb)],'name':_0x2562b4[_0x275158(0x378)]?.[_0x275158(0x552)],'address':_0x2562b4[_0x275158(0x378)]?.[_0x275158(0x724)]}},_0x2562b4?.[_0x275158(0x627)]);}async['contactMessage'](_0x20084f){const _0x3b9b49=a0_0x6d27f9;let _0x282269={},_0x1f1f3f=async _0x3b496b=>{const _0x1fba0b=a0_0x3485;let _0x366f5e=_0x1fba0b(0x5c8)+_0x3b496b['fullName']+'\x0aFN:'+_0x3b496b[_0x1fba0b(0x4c4)]+'\x0a';_0x3b496b[_0x1fba0b(0x6b2)]&&(_0x366f5e+=_0x1fba0b(0x665)+_0x3b496b[_0x1fba0b(0x6b2)]+';\x0a'),_0x3b496b[_0x1fba0b(0x5e4)]&&(_0x366f5e+=_0x1fba0b(0x729)+_0x3b496b['email']+'\x0a'),_0x3b496b[_0x1fba0b(0x4ec)]&&(_0x366f5e+='URL:'+_0x3b496b[_0x1fba0b(0x4ec)]+'\x0a');let _0x17ecca='',_0x26b033=0x1;if(_0x3b496b['phoneNumber']){let _0x2b8c07=_0x3b496b[_0x1fba0b(0x4e0)][_0x1fba0b(0x48d)]('|');for(let _0x1d90f6 of _0x2b8c07){let _0x3e49cf=await this['whatsappNumber']({'numbers':[_0x1d90f6]}),_0x2c6c42=(_0x3e49cf[_0x1fba0b(0x4b3)]>0x0?_0x3e49cf[0x0]['jid']:this[_0x1fba0b(0x1b6)](_0x1d90f6))['replace'](_0x1fba0b(0x1d9),'');_0x17ecca+=_0x1fba0b(0x40d)+_0x26b033+'.TEL;waid='+_0x2c6c42+':'+_0x1d90f6+_0x1fba0b(0xd6)+_0x26b033+_0x1fba0b(0x207),_0x26b033++;}}return _0x366f5e+=_0x17ecca+_0x1fba0b(0x791),_0x366f5e;};return _0x20084f[_0x3b9b49(0x7b8)][_0x3b9b49(0x4b3)]===0x1?_0x282269['contactMessage']={'displayName':_0x20084f[_0x3b9b49(0x7b8)][0x0]['fullName'],'vcard':await _0x1f1f3f(_0x20084f[_0x3b9b49(0x7b8)][0x0])}:_0x282269[_0x3b9b49(0x7c7)]={'displayName':_0x20084f[_0x3b9b49(0x7b8)][_0x3b9b49(0x4b3)]+'\x20contacts','contacts':await Promise[_0x3b9b49(0x1ea)](_0x20084f[_0x3b9b49(0x7b8)][_0x3b9b49(0x5f1)](async _0x1a9bfd=>({'displayName':_0x1a9bfd[_0x3b9b49(0x4c4)],'vcard':await _0x1f1f3f(_0x1a9bfd)})))},await this[_0x3b9b49(0x6ad)](_0x20084f[_0x3b9b49(0x110)],{..._0x282269},_0x20084f?.[_0x3b9b49(0x627)]);}async['reactionMessage'](_0x3bddde){const _0x13774e=a0_0x6d27f9;return await this[_0x13774e(0x6ad)](_0x3bddde[_0x13774e(0x31c)]['key'][_0x13774e(0x455)],{'reactionMessage':{'key':_0x3bddde[_0x13774e(0x31c)][_0x13774e(0x663)],'text':_0x3bddde[_0x13774e(0x31c)][_0x13774e(0x5db)]}});}async[a0_0x6d27f9(0x26e)](_0x26256e){const _0x34eae7=a0_0x6d27f9;let _0x58800a=[];for await(let _0xbb87f7 of _0x26256e['numbers']){let _0x5bcf39=this[_0x34eae7(0x1b6)](_0xbb87f7),_0x45711d=!0x1;try{if((0x0,w[_0x34eae7(0x648)])(_0x5bcf39)){let _0x248cdf=(await this[_0x34eae7(0x4d0)][_0x34eae7(0x463)][_0x34eae7(0x206)]({'where':{'_id':_0x5bcf39}},this[_0x34eae7(0x403)]['wuid']))['groupdata'];_0x248cdf?(_0x45711d=!0x0,_0x58800a[_0x34eae7(0x6b3)](new ce(_0x248cdf['id'],_0x45711d,_0x248cdf?.['subject']))):(_0x248cdf=await this[_0x34eae7(0x15e)]({'groupJid':_0x5bcf39},'inner'),_0x58800a[_0x34eae7(0x6b3)](new ce(_0x248cdf['id'],!!_0x248cdf?.['id'],_0x248cdf?.['subject'])));}else{if(_0x5bcf39[_0x34eae7(0x562)](_0x34eae7(0x2e9)))_0x58800a[_0x34eae7(0x6b3)](new ce(_0x5bcf39,!0x0));else{let _0x599d2b=(await this[_0x34eae7(0x735)]['onWhatsApp'](_0x5bcf39))[0x0];_0x58800a['push'](new ce(_0x599d2b[_0x34eae7(0x7f7)],_0x599d2b[_0x34eae7(0x434)]));}}}catch{(0x0,w['isJidGroup'])(_0x5bcf39)||await this['deleteImportedChat'](_0x5bcf39),_0x58800a['push'](new ce(_0xbb87f7,!0x1));}}return _0x58800a;}async[a0_0x6d27f9(0x196)](_0x154a97){const _0x2cba8e=a0_0x6d27f9;try{await this['repository'][_0x2cba8e(0x463)][_0x2cba8e(0x206)]({'where':{'_id':_0x154a97,'imported':!0x0}},this['instance'][_0x2cba8e(0x367)])&&(await this['repository'][_0x2cba8e(0x463)][_0x2cba8e(0x27c)](_0x154a97,this[_0x2cba8e(0x403)]['wuid']),this[_0x2cba8e(0x267)]['info']('Chat\x20com\x20ID\x20'+_0x154a97+_0x2cba8e(0x58d)));}catch(_0x25a569){let _0x5471ab=_0x2cba8e(0x3b3),_0x251d29=_0x25a569 instanceof Error?_0x25a569[_0x2cba8e(0x60b)]:typeof _0x25a569==_0x2cba8e(0x5c4)?JSON[_0x2cba8e(0x450)](_0x25a569):_0x25a569,_0x756f0=_0x5471ab+':\x20'+_0x251d29;this[_0x2cba8e(0x267)]['error'](this['instanceName']+'\x20('+this[_0x2cba8e(0x403)][_0x2cba8e(0x367)]+'):\x20'+_0x756f0);}}async[a0_0x6d27f9(0x5a4)](_0x4ec7e4){const _0x1f5537=a0_0x6d27f9;try{let _0x109e82=_0x4ec7e4['readMessages']['filter'](_0x2d5779=>(0x0,w['isJidGroup'])(_0x2d5779[_0x1f5537(0x455)])||(0x0,w[_0x1f5537(0x12e)])(_0x2d5779[_0x1f5537(0x455)]))[_0x1f5537(0x5f1)](_0x288785=>({'remoteJid':_0x288785[_0x1f5537(0x455)],'fromMe':_0x288785[_0x1f5537(0x60e)],'id':_0x288785['id']}));await this['client'][_0x1f5537(0x440)](_0x109e82);let _0x14499e=_0x109e82[_0x1f5537(0x5f1)](_0x44c558=>this['updateMessage'](_0x44c558,{'status':'READ','owner':this[_0x1f5537(0x403)]['wuid']})),_0x11b8cc=_0x109e82[_0x1f5537(0x5f1)](_0x147fa1=>this[_0x1f5537(0x4d0)][_0x1f5537(0x463)][_0x1f5537(0x46a)]({'where':{'_id':_0x147fa1[_0x1f5537(0x455)]}},{'unreadcount':0x0},this['instance'][_0x1f5537(0x367)])),[_0x274292,_0x6f7632]=await Promise[_0x1f5537(0x1ea)]([Promise[_0x1f5537(0x1ea)](_0x14499e),Promise['all'](_0x11b8cc)]);return _0x6f7632[_0x1f5537(0x3ec)](_0xbc056b=>_0xbc056b!==null)[_0x1f5537(0x48c)](_0x31d7e3=>{const _0x239f65=_0x1f5537;j(this[_0x239f65(0x383)],_0x239f65(0x652),{'chat':_0x31d7e3});}),{'message':_0x1f5537(0x1e9),'read':_0x1f5537(0x1b8)};}catch(_0x38d99e){let _0x20f0fd=_0x1f5537(0x2a8),_0x28f5d1=_0x38d99e instanceof Error?_0x38d99e[_0x1f5537(0x60b)]:typeof _0x38d99e==_0x1f5537(0x5c4)?JSON[_0x1f5537(0x450)](_0x38d99e):_0x38d99e,_0x4730b6=_0x20f0fd+':\x20'+_0x28f5d1;throw this[_0x1f5537(0x267)][_0x1f5537(0x782)](this[_0x1f5537(0x383)]+'\x20('+this[_0x1f5537(0x403)]['wuid']+'):\x20'+_0x4730b6),new _(_0x4730b6);}}async[a0_0x6d27f9(0x316)](_0x3663a1){const _0x2ab5d7=a0_0x6d27f9;let _0x590397={'where':{'key':{'remoteJid':_0x3663a1}},'limit':0x1},_0x2724d7=await this[_0x2ab5d7(0x61d)](_0x590397);return _0x2724d7||(this['logger'][_0x2ab5d7(0x782)](_0x2ab5d7(0x23b)+_0x3663a1),null);}async[a0_0x6d27f9(0x237)](_0x435594){const _0x857cb2=a0_0x6d27f9;this[_0x857cb2(0x267)]['verbose'](this['instanceName']+'\x20('+this[_0x857cb2(0x403)][_0x857cb2(0x367)]+_0x857cb2(0x42e));try{let _0x5cbd70=_0x435594[_0x857cb2(0x2c4)],_0x3546ca=_0x435594[_0x857cb2(0x463)];if(!_0x5cbd70&&_0x3546ca?_0x5cbd70=await this[_0x857cb2(0x316)](_0x3546ca):(_0x5cbd70=_0x435594[_0x857cb2(0x2c4)],_0x5cbd70[_0x857cb2(0x1f6)]=_0x5cbd70?.[_0x857cb2(0x1f6)]??Date[_0x857cb2(0x7b2)](),_0x3546ca=_0x5cbd70?.[_0x857cb2(0x663)]?.[_0x857cb2(0x455)]),!_0x5cbd70||Object[_0x857cb2(0x3ae)](_0x5cbd70)['length']===0x0)throw new J(_0x857cb2(0xf8));this[_0x857cb2(0x267)][_0x857cb2(0x302)](this[_0x857cb2(0x383)]+'\x20('+this[_0x857cb2(0x403)][_0x857cb2(0x367)]+_0x857cb2(0x4f8)+_0x3546ca);try{await this['client'][_0x857cb2(0x6f7)]({'archive':_0x435594[_0x857cb2(0x66b)],'lastMessages':[_0x5cbd70]},this[_0x857cb2(0x1b6)](_0x3546ca));}catch(_0x4d5604){let _0x235b58='Error\x20in\x20chatModify\x20for\x20number\x20'+_0x3546ca,_0x5c9402=_0x4d5604 instanceof Error?_0x4d5604[_0x857cb2(0x60b)]:typeof _0x4d5604==_0x857cb2(0x5c4)?JSON[_0x857cb2(0x450)](_0x4d5604):_0x4d5604,_0x36bdc9=_0x235b58+':\x20'+_0x5c9402;this[_0x857cb2(0x267)][_0x857cb2(0x782)](this[_0x857cb2(0x383)]+'\x20('+this[_0x857cb2(0x403)][_0x857cb2(0x367)]+_0x857cb2(0x4a0)+_0x36bdc9);}this['logger'][_0x857cb2(0x302)](this[_0x857cb2(0x383)]+'\x20('+this[_0x857cb2(0x403)][_0x857cb2(0x367)]+'):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20'+_0x3546ca);let _0x56edc4=await this[_0x857cb2(0x4d0)][_0x857cb2(0x463)][_0x857cb2(0x46a)]({'where':{'_id':_0x5cbd70?.['key']?.[_0x857cb2(0x455)]}},{'archived':_0x435594[_0x857cb2(0x66b)]},this['instance'][_0x857cb2(0x367)]);return _0x56edc4?(this[_0x857cb2(0x267)]['verbose'](this[_0x857cb2(0x383)]+'\x20('+this[_0x857cb2(0x403)][_0x857cb2(0x367)]+_0x857cb2(0x73c)+JSON[_0x857cb2(0x450)](_0x56edc4)),j(this['instanceName'],_0x857cb2(0x652),{'chat':_0x56edc4})):this[_0x857cb2(0x267)][_0x857cb2(0x782)](this[_0x857cb2(0x383)]+'\x20('+this[_0x857cb2(0x403)][_0x857cb2(0x367)]+_0x857cb2(0x6ba)+_0x3546ca),{'chatId':_0x3546ca,'archived':_0x435594['archive']};}catch(_0x8fd2f9){let _0x391a9a=_0x857cb2(0x1f3),_0x266f48=_0x8fd2f9 instanceof Error?_0x8fd2f9[_0x857cb2(0x60b)]:typeof _0x8fd2f9==_0x857cb2(0x5c4)?JSON['stringify'](_0x8fd2f9):_0x8fd2f9,_0x507d05=_0x391a9a+':\x20'+_0x266f48;throw this['logger'][_0x857cb2(0x782)](this[_0x857cb2(0x383)]+'\x20('+this[_0x857cb2(0x403)]['wuid']+_0x857cb2(0x4a0)+_0x507d05),new _(_0x507d05);}}async[a0_0x6d27f9(0x27c)](_0x4a36c5){const _0xf57cd=a0_0x6d27f9;this[_0xf57cd(0x267)][_0xf57cd(0x302)](this[_0xf57cd(0x383)]+'\x20('+this[_0xf57cd(0x403)][_0xf57cd(0x367)]+'):Delete\x20chat');try{let _0x5920e4=await this[_0xf57cd(0x316)](_0x4a36c5);if(!_0x5920e4||Object['keys'](_0x5920e4)[_0xf57cd(0x4b3)]===0x0)throw new J(_0xf57cd(0xf8));let _0x4ce1d7=_0x5920e4[0x0];this[_0xf57cd(0x267)][_0xf57cd(0x302)](this['instanceName']+'\x20('+this[_0xf57cd(0x403)]['wuid']+_0xf57cd(0x68f)+_0x4a36c5);try{await this[_0xf57cd(0x735)][_0xf57cd(0x6f7)]({'delete':!0x0,'lastMessages':[{'key':_0x4ce1d7[_0xf57cd(0x663)],'messageTimestamp':_0x4ce1d7['messageTimestamp']}]},this['createJid'](_0x4a36c5));}catch(_0x28d63b){this['logger'][_0xf57cd(0x782)](_0xf57cd(0x4c8)+_0x4a36c5+':\x20'+_0x28d63b[_0xf57cd(0x3f4)]());}this[_0xf57cd(0x267)][_0xf57cd(0x302)](this[_0xf57cd(0x383)]+'\x20('+this['instance'][_0xf57cd(0x367)]+_0xf57cd(0x250)+_0x4a36c5);return;}catch(_0x2e460a){throw this[_0xf57cd(0x267)][_0xf57cd(0x782)](this['instanceName']+'\x20('+this['instance']['wuid']+_0xf57cd(0x521)+_0x2e460a[_0xf57cd(0x3f4)]()),new _({'archived':!0x1,'message':[_0xf57cd(0x67f),_0x2e460a[_0xf57cd(0x3f4)]()]});}}async[a0_0x6d27f9(0x3cb)](_0x340a18){const _0x379c30=a0_0x6d27f9;try{let _0x5dc8f0=await this[_0x379c30(0x735)][_0x379c30(0x497)](_0x340a18[_0x379c30(0x455)],{'delete':_0x340a18});try{let _0x3fc7c6=await this['updateMessage'](_0x340a18,{'status':_0x379c30(0x510),'owner':this[_0x379c30(0x403)]['wuid']});this[_0x379c30(0x267)][_0x379c30(0x302)](this[_0x379c30(0x383)]+'\x20('+this[_0x379c30(0x403)][_0x379c30(0x367)]+_0x379c30(0x209)+_0x3fc7c6);}catch(_0x24ee00){this[_0x379c30(0x267)][_0x379c30(0x782)](_0x379c30(0x699)+_0x24ee00);}return _0x5dc8f0;}catch(_0x4bd9bd){throw new _(_0x379c30(0x162),_0x4bd9bd?.[_0x379c30(0x3f4)]());}}async['getBase64FromMediaMessage'](_0x1268df){const _0x325e4b=a0_0x6d27f9;try{let _0x3dfa73=_0x1268df?.[_0x325e4b(0x60b)]?_0x1268df:await this[_0x325e4b(0x5b4)](_0x1268df[_0x325e4b(0x663)],!0x0);for(let _0xd80c0e of Ca)_0x3dfa73[_0x325e4b(0x60b)][_0xd80c0e]&&(_0x3dfa73[_0x325e4b(0x60b)]=_0x3dfa73['message'][_0xd80c0e]['message']);let _0x25d6cd,_0x3e026e;for(let _0x5d14e1 of Ma)if(_0x25d6cd=_0x3dfa73[_0x325e4b(0x60b)][_0x5d14e1],_0x25d6cd){_0x3e026e=_0x5d14e1;break;}if(!_0x25d6cd)throw _0x325e4b(0x1e1);typeof _0x25d6cd[_0x325e4b(0x6db)]=='object'&&(_0x3dfa73['message']=JSON['parse'](JSON[_0x325e4b(0x450)](_0x3dfa73[_0x325e4b(0x60b)])));let _0x1b05b6=await(0x0,w[_0x325e4b(0x473)])({'key':_0x3dfa73?.[_0x325e4b(0x663)],'message':_0x3dfa73?.[_0x325e4b(0x60b)]},'buffer',{},{'logger':(0x0,Lt['default'])({'level':_0x325e4b(0x73d)}),'reuploadRequest':this[_0x325e4b(0x735)][_0x325e4b(0x2dd)]});if(!(_0x1b05b6 instanceof Buffer))throw new Error(_0x325e4b(0x5a1));let _0x40926f=this[_0x325e4b(0x14e)][_0x325e4b(0x693)]('DATABASE'),_0x2488f8,_0x256383;if(_0x25d6cd['fileName'])_0x2488f8=_0x25d6cd[_0x325e4b(0x709)];else{let _0x54c3cd=_0x25d6cd[_0x325e4b(0x727)]?.[_0x325e4b(0x66f)](/\/(\w+)/),_0x5dd23f=_0x54c3cd?_0x54c3cd[0x1]:null;if(!_0x5dd23f)throw new Error(_0x325e4b(0x415));_0x2488f8=(0x0,fe['v4'])()+'.'+_0x5dd23f;}_0x3e026e==='audioMessage'?_0x256383=_0x325e4b(0x125)+await this[_0x325e4b(0x445)](_0x1b05b6[_0x325e4b(0x3f4)]('base64')):(await this[_0x325e4b(0x14a)](_0x1b05b6,_0x2488f8),_0x256383=_0x325e4b(0x125)+_0x2488f8);let _0x411d40=this[_0x325e4b(0x14e)][_0x325e4b(0x693)](_0x325e4b(0x617))[_0x325e4b(0xeb)];if(!_0x411d40){let _0x4d87f3=this[_0x325e4b(0x14e)]['get'](_0x325e4b(0x713));_0x411d40=_0x325e4b(0x4fd)+(_0x4d87f3&&_0x4d87f3['FULLCHAIN']['split']('/')[0x4]);}_0x256383=''+_0x411d40+_0x256383;let _0x506341=0xc*0x3c*0x3c*0x3e8,_0x29901c={'where':{'_id':_0x3dfa73['key']['id']}},_0x340a1c={'message_normalized.fileUrl':_0x256383,'message_normalized.expires_fileUrl':Date[_0x325e4b(0x7b2)]()+_0x506341};try{let _0x365021=await this['repository'][_0x325e4b(0x60b)][_0x325e4b(0x414)](_0x29901c,_0x340a1c,this[_0x325e4b(0x403)][_0x325e4b(0x367)]);_0x365021&&j(this['instanceName'],_0x325e4b(0x2db),{'message':_0x365021});}catch(_0xed64ac){let _0x533e45=_0x325e4b(0x1e4),_0x35ca7e=_0xed64ac instanceof Error?_0xed64ac[_0x325e4b(0x60b)]:typeof _0xed64ac=='object'?JSON[_0x325e4b(0x450)](_0xed64ac):_0xed64ac,_0x4ae856=_0x533e45+':\x20'+_0x35ca7e;this['logger'][_0x325e4b(0x782)](this[_0x325e4b(0x383)]+'\x20('+this[_0x325e4b(0x403)][_0x325e4b(0x367)]+_0x325e4b(0x4a0)+_0x4ae856);}return{'mediaType':_0x3e026e,'fileName':_0x25d6cd[_0x325e4b(0x709)],'caption':_0x25d6cd[_0x325e4b(0x4a1)],'size':{'fileLength':_0x25d6cd[_0x325e4b(0x2dc)],'height':_0x25d6cd[_0x325e4b(0x353)],'width':_0x25d6cd[_0x325e4b(0x117)]},'mimetype':_0x25d6cd['mimetype'],'base64':_0x1b05b6[_0x325e4b(0x3f4)](_0x325e4b(0x5c9)),'fileUrl':_0x256383,'expires_fileUrl':Date[_0x325e4b(0x7b2)]()+_0x506341};}catch(_0x54ce39){let _0x1eca1c=_0x325e4b(0x476),_0x252a17=_0x54ce39 instanceof Error?_0x54ce39[_0x325e4b(0x60b)]:typeof _0x54ce39=='object'?JSON[_0x325e4b(0x450)](_0x54ce39):_0x54ce39,_0x4975a8=_0x1eca1c+':\x20'+_0x252a17;throw this[_0x325e4b(0x267)][_0x325e4b(0x782)](this[_0x325e4b(0x383)]+'\x20('+this[_0x325e4b(0x403)]['wuid']+_0x325e4b(0x4a0)+_0x4975a8),new m(_0x4975a8);}}async['saveMediaToFile'](_0x39a757,_0xdd7c){const _0x552b62=a0_0x6d27f9;let _0x4850be=U[_0x552b62(0x49c)][_0x552b62(0x34b)](__dirname,_0x552b62(0x73f));L[_0x552b62(0xee)](_0x4850be)||L[_0x552b62(0x756)](_0x4850be,{'recursive':!0x0});let _0x3a6470=U[_0x552b62(0x49c)][_0x552b62(0x34b)](_0x4850be,_0xdd7c);return new Promise((_0x3ecc49,_0x28fc00)=>{const _0x106238=_0x552b62;L[_0x106238(0x2d4)](_0x3a6470,_0x39a757,_0x588d22=>{const _0x2e3ba0=_0x106238;_0x588d22?(this[_0x2e3ba0(0x267)][_0x2e3ba0(0x782)](_0x2e3ba0(0x2e4)+(_0x588d22 instanceof Error?_0x588d22[_0x2e3ba0(0x60b)]:JSON['stringify'](_0x588d22,null,0x2))),_0x28fc00(_0x588d22)):(this['logger'][_0x2e3ba0(0x2ac)](_0x2e3ba0(0x70b)+_0x3a6470),_0x3ecc49(_0x3a6470));});});}async[a0_0x6d27f9(0x63a)](_0x405be1){const _0x1eac34=a0_0x6d27f9;return await this[_0x1eac34(0x4d0)][_0x1eac34(0x2f4)][_0x1eac34(0x37d)](_0x405be1,this[_0x1eac34(0x403)]['wuid']);}async[a0_0x6d27f9(0x3c2)](){const _0x165d01=a0_0x6d27f9;return await this['repository'][_0x165d01(0x3e5)]['find']({'where':{}},this[_0x165d01(0x403)]['wuid']);}async[a0_0x6d27f9(0x61d)](_0x401026){const _0x47081c=a0_0x6d27f9;return await this['repository'][_0x47081c(0x60b)]['find'](_0x401026,this[_0x47081c(0x403)][_0x47081c(0x367)]);}async[a0_0x6d27f9(0x136)](){const _0x397e07=a0_0x6d27f9;return this[_0x397e07(0x4d0)][_0x397e07(0x463)][_0x397e07(0x675)](this[_0x397e07(0x403)][_0x397e07(0x367)]),this[_0x397e07(0x4d0)][_0x397e07(0x463)][_0x397e07(0x7d8)](this[_0x397e07(0x403)][_0x397e07(0x367)]),this[_0x397e07(0x4d0)][_0x397e07(0x463)][_0x397e07(0x57f)](this[_0x397e07(0x403)][_0x397e07(0x367)]),this[_0x397e07(0x4d0)][_0x397e07(0x463)][_0x397e07(0x24a)](this[_0x397e07(0x403)][_0x397e07(0x367)]),await this[_0x397e07(0x4d0)][_0x397e07(0x463)][_0x397e07(0x37d)]({'where':{}},this[_0x397e07(0x403)][_0x397e07(0x367)]);}async[a0_0x6d27f9(0x671)](_0x3de8ee){const _0x123cc3=a0_0x6d27f9;try{if(!Array[_0x123cc3(0x3b4)](_0x3de8ee)||_0x3de8ee['length']===0x0)throw new Error(_0x123cc3(0x3bb));let _0x378e4b=[],_0x5377bc=[];for(let _0x23d905 of _0x3de8ee){if(_0x23d905[_0x123cc3(0x3b9)])_0x23d905[_0x123cc3(0x3b9)]=this['createJid'](_0x23d905['_id']);else continue;await this[_0x123cc3(0x4d0)][_0x123cc3(0x463)]['findOne']({'where':{'_id':_0x23d905['_id']}},this[_0x123cc3(0x403)][_0x123cc3(0x367)])?_0x5377bc[_0x123cc3(0x6b3)]({'_id':_0x23d905[_0x123cc3(0x3b9)],'leadInfo':_0x23d905[_0x123cc3(0x368)],'owner':this[_0x123cc3(0x403)][_0x123cc3(0x367)]}):_0x378e4b[_0x123cc3(0x6b3)]({'_id':_0x23d905['_id'],'owner':this[_0x123cc3(0x403)][_0x123cc3(0x367)],'leadInfo':_0x23d905['leadInfo'],'imported':!0x0});}return _0x5377bc[_0x123cc3(0x4b3)]>0x0&&await this[_0x123cc3(0x4d0)][_0x123cc3(0x463)][_0x123cc3(0x64b)](_0x5377bc[_0x123cc3(0x5f1)](_0x1288fd=>({'query':{'where':{'_id':_0x1288fd[_0x123cc3(0x3b9)],'owner':this[_0x123cc3(0x403)]['wuid']}},'update':_0x1288fd}))),_0x378e4b[_0x123cc3(0x4b3)]>0x0&&await this[_0x123cc3(0x4d0)][_0x123cc3(0x463)]['insertMany'](_0x378e4b,this[_0x123cc3(0x403)][_0x123cc3(0x367)]),{'updated':_0x5377bc[_0x123cc3(0x4b3)],'inserted':_0x378e4b['length']};}catch(_0x23af17){let _0x219650='Erro\x20ao\x20importar\x20chats',_0x581c6d=_0x23af17 instanceof Error?_0x23af17[_0x123cc3(0x60b)]:typeof _0x23af17==_0x123cc3(0x5c4)?JSON[_0x123cc3(0x450)](_0x23af17):_0x23af17,_0x1b8ec1=_0x219650+':\x20'+_0x581c6d;throw this[_0x123cc3(0x267)][_0x123cc3(0x782)](this['instanceName']+'\x20('+this[_0x123cc3(0x403)]['wuid']+_0x123cc3(0x4a0)+_0x1b8ec1),new m(_0x1b8ec1);}}async[a0_0x6d27f9(0x4d9)](_0x5c2508){const _0x4cdb6c=a0_0x6d27f9;try{if(!Array[_0x4cdb6c(0x3b4)](_0x5c2508)||_0x5c2508['length']===0x0)throw new Error(_0x4cdb6c(0x3bb));let _0xc3bde=0x64,_0x31c4b0=0x0;for(let _0xac251a=0x0;_0xac251a<_0x5c2508['length'];_0xac251a+=_0xc3bde){let _0x436902=_0x5c2508['slice'](_0xac251a,_0xac251a+_0xc3bde),{updated:_0x1fa2f5}=await this[_0x4cdb6c(0x3a8)](_0x436902);_0x31c4b0+=_0x1fa2f5;}return{'updated':_0x31c4b0};}catch(_0x4696b4){let _0x19c1bf='Erro\x20ao\x20importar\x20chats',_0x3a17ac=_0x4696b4 instanceof Error?_0x4696b4[_0x4cdb6c(0x60b)]:typeof _0x4696b4==_0x4cdb6c(0x5c4)?JSON['stringify'](_0x4696b4):_0x4696b4,_0x242ae5=_0x19c1bf+':\x20'+_0x3a17ac;throw this[_0x4cdb6c(0x267)][_0x4cdb6c(0x782)](this['instanceName']+'\x20('+this['instance'][_0x4cdb6c(0x367)]+_0x4cdb6c(0x4a0)+_0x242ae5),new m(_0x242ae5);}}async[a0_0x6d27f9(0x3a8)](_0x3c1f8a){const _0x5dfff3=a0_0x6d27f9;try{let _0x53915e=await this['repository'][_0x5dfff3(0x3e5)][_0x5dfff3(0x37d)]({'where':{}},this['instance'][_0x5dfff3(0x367)]),_0x4f6282=new Set(_0x53915e['map'](_0x285392=>_0x285392[_0x5dfff3(0x3b9)])),_0x56b9cd=[],_0x38c85b=[];for(let _0x3a4c2c of _0x3c1f8a){if(!_0x3a4c2c[_0x5dfff3(0x3b9)])continue;_0x3a4c2c[_0x5dfff3(0x3b9)]=this[_0x5dfff3(0x1b6)](_0x3a4c2c['_id']);let _0x4e06ff=await this['repository']['chat'][_0x5dfff3(0x206)]({'where':{'_id':_0x3a4c2c['_id']}},this[_0x5dfff3(0x403)][_0x5dfff3(0x367)]),_0x27a6d2={};if(Object['entries'](_0x3a4c2c[_0x5dfff3(0x368)])['forEach'](([_0x1ce1f2,_0x321bbe])=>{const _0xd3ea59=_0x5dfff3;_0x27a6d2[_0xd3ea59(0x555)+_0x1ce1f2]=_0x321bbe;}),_0x4e06ff&&!_0x4e06ff[_0x5dfff3(0x270)]){let _0x2c0aaf=(_0x3a4c2c[_0x5dfff3(0x368)]['etiquetas']||[])[_0x5dfff3(0x3ec)](_0x50eb25=>_0x4f6282[_0x5dfff3(0x6a0)](_0x50eb25)),_0x28299a=new Set(_0x4e06ff[_0x5dfff3(0x368)][_0x5dfff3(0x77d)]||[]),_0x43b30e=_0x2c0aaf[_0x5dfff3(0x3ec)](_0x1312db=>!_0x28299a[_0x5dfff3(0x6a0)](_0x1312db)),_0x2a31d4=[..._0x28299a]['filter'](_0x355251=>!_0x2c0aaf[_0x5dfff3(0x562)](_0x355251));_0x38c85b[_0x5dfff3(0x6b3)](..._0x43b30e[_0x5dfff3(0x5f1)](_0x484b52=>this['AddChatLabel'](_0x484b52,_0x3a4c2c['_id']))),_0x38c85b[_0x5dfff3(0x6b3)](..._0x2a31d4[_0x5dfff3(0x5f1)](_0x47a125=>this[_0x5dfff3(0x4d5)](_0x47a125,_0x3a4c2c[_0x5dfff3(0x3b9)]))),_0x3a4c2c[_0x5dfff3(0x368)][_0x5dfff3(0x77d)]=_0x2c0aaf,_0x56b9cd[_0x5dfff3(0x6b3)]({'query':{'where':{'_id':_0x3a4c2c['_id'],'owner':this['instance'][_0x5dfff3(0x367)]}},'update':_0x27a6d2});}else _0x27a6d2[_0x5dfff3(0x270)]=!0x0,_0x56b9cd[_0x5dfff3(0x6b3)]({'query':{'where':{'_id':_0x3a4c2c[_0x5dfff3(0x3b9)],'owner':this['instance']['wuid']}},'update':_0x27a6d2});}let _0x2738b6=await this[_0x5dfff3(0x4d0)][_0x5dfff3(0x463)][_0x5dfff3(0x64b)](_0x56b9cd);return await Promise[_0x5dfff3(0x1ea)](_0x38c85b),{'updated':_0x2738b6};}catch(_0x1bcebb){let _0x191c66=_0x5dfff3(0x2d3),_0x569d8e=_0x1bcebb instanceof Error?_0x1bcebb[_0x5dfff3(0x60b)]:typeof _0x1bcebb==_0x5dfff3(0x5c4)?JSON[_0x5dfff3(0x450)](_0x1bcebb):_0x1bcebb,_0xbaeb8c=_0x191c66+':\x20'+_0x569d8e;throw this['logger'][_0x5dfff3(0x782)](this[_0x5dfff3(0x383)]+'\x20('+this[_0x5dfff3(0x403)]['wuid']+_0x5dfff3(0x4a0)+_0xbaeb8c),new m(_0xbaeb8c);}}async['fetchPrivacySettings'](){const _0x12eefb=a0_0x6d27f9;return await this['client'][_0x12eefb(0x550)]();}async['updatePrivacySettings'](_0x591a25){const _0x155ef1=a0_0x6d27f9;try{return await this[_0x155ef1(0x735)][_0x155ef1(0x3cf)](_0x591a25['privacySettings'][_0x155ef1(0x64d)]),await this['client'][_0x155ef1(0x152)](_0x591a25[_0x155ef1(0x6f5)]['profile']),await this[_0x155ef1(0x735)]['updateStatusPrivacy'](_0x591a25[_0x155ef1(0x6f5)][_0x155ef1(0x538)]),await this[_0x155ef1(0x735)][_0x155ef1(0x542)](_0x591a25[_0x155ef1(0x6f5)]['online']),await this[_0x155ef1(0x735)][_0x155ef1(0x2c2)](_0x591a25['privacySettings']['last']),await this['client']['updateGroupsAddPrivacy'](_0x591a25[_0x155ef1(0x6f5)][_0x155ef1(0x173)]),this[_0x155ef1(0x735)]?.['ws']?.[_0x155ef1(0x38d)](),{'update':_0x155ef1(0x1b8),'data':{'readreceipts':_0x591a25[_0x155ef1(0x6f5)][_0x155ef1(0x64d)],'profile':_0x591a25[_0x155ef1(0x6f5)][_0x155ef1(0x479)],'status':_0x591a25[_0x155ef1(0x6f5)][_0x155ef1(0x538)],'online':_0x591a25['privacySettings']['online'],'last':_0x591a25['privacySettings'][_0x155ef1(0x37e)],'groupadd':_0x591a25[_0x155ef1(0x6f5)]['groupadd']}};}catch(_0x2d395f){let _0x3ed9bf='Erro\x20ao\x20alterar\x20privacidade',_0x632bae=_0x2d395f instanceof Error?_0x2d395f[_0x155ef1(0x60b)]:typeof _0x2d395f==_0x155ef1(0x5c4)?JSON[_0x155ef1(0x450)](_0x2d395f):_0x2d395f,_0x5367f0=_0x3ed9bf+':\x20'+_0x632bae;throw this[_0x155ef1(0x267)][_0x155ef1(0x782)](this[_0x155ef1(0x383)]+'\x20('+this[_0x155ef1(0x403)][_0x155ef1(0x367)]+'):\x20'+_0x5367f0),new m(_0x5367f0);}}async[a0_0x6d27f9(0x57c)](_0x5a0a8a){const _0x2da643=a0_0x6d27f9;let _0xa45c02=(_0x5a0a8a?this['createJid'](_0x5a0a8a):this[_0x2da643(0x735)]?.[_0x2da643(0x32b)]?.['id'])[_0x2da643(0x78b)](/:\d{1,2}@/g,'@');this[_0x2da643(0x267)][_0x2da643(0x302)](this[_0x2da643(0x383)]+'\x20('+this['instance']['wuid']+_0x2da643(0x191)+_0xa45c02);let _0xccdfa0=await this[_0x2da643(0x4d0)][_0x2da643(0x2f4)][_0x2da643(0x206)]({'where':{'_id':_0xa45c02}},this[_0x2da643(0x403)]['wuid']),_0x380ee3=_0xccdfa0?_0xccdfa0[_0x2da643(0x32d)]:null;try{let _0x595c2d=(await this['whatsappNumber']({'numbers':[_0xa45c02]}))?.[_0x2da643(0x7fe)](),_0x440878=(await this['findAndUpdateCacheContact'](_0xa45c02,null,!0x1))[_0x2da643(0x245)][_0x2da643(0x320)],_0x1616ee=await this[_0x2da643(0x2de)](_0x595c2d?.[_0x2da643(0x7f7)]),_0xe7c4f4=await this[_0x2da643(0x7d4)](_0x595c2d?.[_0x2da643(0x7f7)]),_0x1136ab=(await this[_0x2da643(0x188)](_0xa45c02,null,!0x1))['cachedContact'][_0x2da643(0x552)],_0x467a8c=await this[_0x2da643(0x4d0)]['chat']['findOne']({'where':{'_id':_0xa45c02}},this[_0x2da643(0x403)][_0x2da643(0x367)]),_0x563231={'imagechat':_0x440878,'contactname':_0x380ee3||null,'pushName':_0x1136ab,'status':_0x1616ee?.[_0x2da643(0x538)],'isBusiness':_0xe7c4f4[_0x2da643(0x32e)],'email':_0xe7c4f4?.[_0x2da643(0x5e4)],'description':_0xe7c4f4?.[_0x2da643(0x32a)],'website':_0xe7c4f4?.[_0x2da643(0x6e1)]?.['shift'](),'lastcache':Date[_0x2da643(0x7b2)](),'imported':!_0x467a8c},_0x393590=await this[_0x2da643(0x4d0)][_0x2da643(0x463)][_0x2da643(0x46a)]({'where':{'_id':_0xa45c02}},_0x563231,this[_0x2da643(0x403)]['wuid']),_0x595327={'owner':this['instance'][_0x2da643(0x367)],'_id':_0xa45c02,'profilePictureUrl':_0x440878,'status':_0x1616ee?.[_0x2da643(0x538)]};return this[_0x2da643(0x4d0)][_0x2da643(0x2f4)][_0x2da643(0x414)]([_0x595327],this[_0x2da643(0x403)][_0x2da643(0x367)]),_0x393590&&j(this[_0x2da643(0x383)],'chats',{'chat':_0x393590}),{'wuid':_0x595c2d?.[_0x2da643(0x7f7)]||_0xa45c02,'name':_0x595c2d?.[_0x2da643(0x552)],'pushName':_0x1136ab,'numberExists':_0x595c2d?.[_0x2da643(0x434)],'picture':_0x440878,'status':_0x1616ee?.[_0x2da643(0x538)],'isBusiness':_0xe7c4f4[_0x2da643(0x32e)],'email':_0xe7c4f4?.[_0x2da643(0x5e4)],'description':_0xe7c4f4?.[_0x2da643(0x32a)],'website':_0xe7c4f4?.[_0x2da643(0x6e1)]?.[_0x2da643(0x7fe)]()};}catch(_0x2f5f9c){return this[_0x2da643(0x267)]['error']('Error\x20fetching\x20and\x20updating\x20profile:\x20'+(_0x2f5f9c instanceof Error?_0x2f5f9c[_0x2da643(0x60b)]:JSON['stringify'](_0x2f5f9c,null,0x2))),{};}}async[a0_0x6d27f9(0x7d4)](_0x4530b0){const _0x539ff6=a0_0x6d27f9;this[_0x539ff6(0x267)]['verbose'](this[_0x539ff6(0x383)]+'\x20('+this[_0x539ff6(0x403)][_0x539ff6(0x367)]+_0x539ff6(0x3a0));try{let _0x3b92c9=_0x4530b0?this[_0x539ff6(0x1b6)](_0x4530b0):this['instance']['wuid'],_0x12ae14=await this[_0x539ff6(0x735)][_0x539ff6(0x5bd)](_0x3b92c9);return this[_0x539ff6(0x267)][_0x539ff6(0x302)](this['instanceName']+'\x20('+this[_0x539ff6(0x403)]['wuid']+_0x539ff6(0x3fa)),_0x12ae14?(this[_0x539ff6(0x267)][_0x539ff6(0x302)](this[_0x539ff6(0x383)]+'\x20('+this[_0x539ff6(0x403)][_0x539ff6(0x367)]+_0x539ff6(0x140)),{'isBusiness':!0x0,..._0x12ae14}):{'isBusiness':!0x1,'message':_0x539ff6(0x6b6),...(await this[_0x539ff6(0x26e)]({'numbers':[_0x3b92c9]}))?.[_0x539ff6(0x7fe)]()};}catch(_0x1174aa){let _0xea533c=_0x539ff6(0x371),_0x2c0031=_0x1174aa instanceof Error?_0x1174aa[_0x539ff6(0x60b)]:typeof _0x1174aa==_0x539ff6(0x5c4)?JSON[_0x539ff6(0x450)](_0x1174aa):_0x1174aa,_0x1e9146=_0xea533c+':\x20'+_0x2c0031;throw this[_0x539ff6(0x267)][_0x539ff6(0x782)](this['instanceName']+'\x20('+this[_0x539ff6(0x403)]['wuid']+_0x539ff6(0x4a0)+_0x1e9146),new _(_0x1e9146);}}async[a0_0x6d27f9(0x2de)](_0x2dd313){const _0x354eb8=a0_0x6d27f9;let _0x4cb4a9=this[_0x354eb8(0x1b6)](_0x2dd313);try{return{'wuid':_0x4cb4a9,'status':(await this[_0x354eb8(0x735)][_0x354eb8(0x59d)](_0x4cb4a9))?.[_0x354eb8(0x538)]};}catch{return{'wuid':_0x4cb4a9,'status':null};}}async[a0_0x6d27f9(0x806)](_0xd74be7){const _0x44fcea=a0_0x6d27f9;try{return await this[_0x44fcea(0x735)]['updateProfileName'](_0xd74be7),{'update':'success'};}catch(_0x5a32b7){let _0x10fad2=_0x44fcea(0x559),_0x26dea3=_0x5a32b7 instanceof Error?_0x5a32b7[_0x44fcea(0x60b)]:typeof _0x5a32b7==_0x44fcea(0x5c4)?JSON[_0x44fcea(0x450)](_0x5a32b7):_0x5a32b7,_0x4053af=_0x10fad2+':\x20'+_0x26dea3;throw this[_0x44fcea(0x267)]['error'](this['instanceName']+'\x20('+this[_0x44fcea(0x403)][_0x44fcea(0x367)]+'):\x20'+_0x4053af),new _(_0x4053af);}}async[a0_0x6d27f9(0x29e)](_0x572f5c){const _0x2a77de=a0_0x6d27f9;try{return await this[_0x2a77de(0x735)][_0x2a77de(0x29e)](_0x572f5c),{'update':_0x2a77de(0x1b8)};}catch(_0x2187c2){let _0x2d4408=_0x2a77de(0x5b0),_0x1bb45a=_0x2187c2 instanceof Error?_0x2187c2[_0x2a77de(0x60b)]:typeof _0x2187c2==_0x2a77de(0x5c4)?JSON[_0x2a77de(0x450)](_0x2187c2):_0x2187c2,_0x131ae5=_0x2d4408+':\x20'+_0x1bb45a;throw this[_0x2a77de(0x267)][_0x2a77de(0x782)](this[_0x2a77de(0x383)]+'\x20('+this[_0x2a77de(0x403)]['wuid']+'):\x20'+_0x131ae5),new _(_0x131ae5);}}async[a0_0x6d27f9(0x2e7)](_0x28bed9){const _0x3d84a9=a0_0x6d27f9;try{let _0x38cb9d;if((0x0,k[_0x3d84a9(0x6de)])(_0x28bed9)){let _0x356493=new Date()['getTime'](),_0x2312c0=_0x28bed9+_0x3d84a9(0x7c8)+_0x356493;_0x38cb9d=(await Q[_0x3d84a9(0x49c)][_0x3d84a9(0x693)](_0x2312c0,{'responseType':_0x3d84a9(0x6ff)}))[_0x3d84a9(0x462)];}else{if((0x0,k[_0x3d84a9(0x4f3)])(_0x28bed9))_0x38cb9d=Buffer['from'](_0x28bed9,'base64');else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x3d84a9(0x735)][_0x3d84a9(0x2e7)](this['instance'][_0x3d84a9(0x367)],_0x38cb9d),{'update':'success'};}catch(_0x563ccf){let _0x3935f3=_0x3d84a9(0xf1),_0x56c9df=_0x563ccf instanceof Error?_0x563ccf[_0x3d84a9(0x60b)]:typeof _0x563ccf=='object'?JSON[_0x3d84a9(0x450)](_0x563ccf):_0x563ccf,_0x36b708=_0x3935f3+':\x20'+_0x56c9df;throw this['logger']['error'](this[_0x3d84a9(0x383)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x36b708),new _(_0x36b708);}}async[a0_0x6d27f9(0x166)](){const _0x7cb6a2=a0_0x6d27f9;try{return await this['client'][_0x7cb6a2(0x166)](this[_0x7cb6a2(0x403)]['wuid']),{'update':_0x7cb6a2(0x1b8)};}catch(_0x50ea1d){let _0x59849e=_0x7cb6a2(0x4dc),_0x4ac2e6=_0x50ea1d instanceof Error?_0x50ea1d[_0x7cb6a2(0x60b)]:typeof _0x50ea1d=='object'?JSON[_0x7cb6a2(0x450)](_0x50ea1d):_0x50ea1d,_0x2540bf=_0x59849e+':\x20'+_0x4ac2e6;throw this[_0x7cb6a2(0x267)]['error'](this[_0x7cb6a2(0x383)]+'\x20('+this[_0x7cb6a2(0x403)][_0x7cb6a2(0x367)]+_0x7cb6a2(0x4a0)+_0x2540bf),new _(_0x2540bf);}}async[a0_0x6d27f9(0x712)](_0x210ad6){const _0x4549b6=a0_0x6d27f9;try{let _0x1d921c=(await this[_0x4549b6(0x26e)]({'numbers':_0x210ad6['participants']}))['filter'](_0xc059f0=>_0xc059f0['exists'])[_0x4549b6(0x5f1)](_0x4a0cc4=>_0x4a0cc4[_0x4549b6(0x7f7)]),{id:_0x4fd9f1}=await this[_0x4549b6(0x735)][_0x4549b6(0x603)](_0x210ad6[_0x4549b6(0x7d5)],_0x1d921c);_0x210ad6?.[_0x4549b6(0x32a)]&&await this[_0x4549b6(0x735)][_0x4549b6(0x116)](_0x4fd9f1,_0x210ad6[_0x4549b6(0x32a)]);let _0xc25266=await this[_0x4549b6(0x735)][_0x4549b6(0x454)](_0x4fd9f1);return _0xc25266[_0x4549b6(0x417)]=[],{'metadata':_0xc25266};}catch(_0x50afff){let _0x52aafb='Falha\x20ao\x20processar\x20a\x20solicitação\x20createGroup',_0x2d136d=_0x50afff instanceof Error?_0x50afff[_0x4549b6(0x60b)]:typeof _0x50afff==_0x4549b6(0x5c4)?JSON[_0x4549b6(0x450)](_0x50afff):_0x50afff,_0x346bc9=_0x52aafb+':\x20'+_0x2d136d;throw this['logger'][_0x4549b6(0x782)](this[_0x4549b6(0x383)]+'\x20('+this[_0x4549b6(0x403)][_0x4549b6(0x367)]+_0x4549b6(0x4a0)+_0x346bc9),new _(_0x346bc9);}}async[a0_0x6d27f9(0x428)](_0x493bc0){const _0x33bee4=a0_0x6d27f9;try{if(_0x493bc0[_0x33bee4(0x10f)]===!0x0&&await this[_0x33bee4(0x735)][_0x33bee4(0x47c)](_0x493bc0[_0x33bee4(0x56c)],_0x33bee4(0x63d)),_0x493bc0[_0x33bee4(0x10f)]===!0x1&&await this[_0x33bee4(0x735)][_0x33bee4(0x47c)](_0x493bc0['groupJid'],_0x33bee4(0x79d)),_0x493bc0[_0x33bee4(0x1dd)]===!0x0&&await this[_0x33bee4(0x735)][_0x33bee4(0x47c)](_0x493bc0['groupJid'],_0x33bee4(0x604)),_0x493bc0[_0x33bee4(0x1dd)]===!0x1&&await this['client'][_0x33bee4(0x47c)](_0x493bc0[_0x33bee4(0x56c)],_0x33bee4(0xd0)),_0x493bc0[_0x33bee4(0x5d4)]===!0x0&&await this[_0x33bee4(0x735)][_0x33bee4(0x2b0)](_0x493bc0[_0x33bee4(0x56c)],_0x33bee4(0x65d)),_0x493bc0[_0x33bee4(0x5d4)]===!0x1&&await this[_0x33bee4(0x735)]['groupMemberAddMode'](_0x493bc0[_0x33bee4(0x56c)],_0x33bee4(0x150)),_0x493bc0[_0x33bee4(0x71a)]===!0x0&&await this['client']['groupJoinApprovalMode'](_0x493bc0[_0x33bee4(0x56c)],'on'),_0x493bc0[_0x33bee4(0x71a)]===!0x1&&await this[_0x33bee4(0x735)][_0x33bee4(0x33a)](_0x493bc0[_0x33bee4(0x56c)],'off'),typeof _0x493bc0[_0x33bee4(0x11b)]<'u'&&_0x493bc0[_0x33bee4(0x11b)]!==null&&await this[_0x33bee4(0x735)][_0x33bee4(0x203)](_0x493bc0[_0x33bee4(0x56c)],_0x493bc0[_0x33bee4(0x11b)]),_0x493bc0[_0x33bee4(0x552)]&&await this['client'][_0x33bee4(0x4c9)](_0x493bc0[_0x33bee4(0x56c)],_0x493bc0[_0x33bee4(0x552)]),_0x493bc0['description']&&await this[_0x33bee4(0x735)][_0x33bee4(0x116)](_0x493bc0[_0x33bee4(0x56c)],_0x493bc0[_0x33bee4(0x32a)]),_0x493bc0[_0x33bee4(0x2c9)]){let _0x639dab;if((0x0,k[_0x33bee4(0x6de)])(_0x493bc0['image'])){let _0xfdc3ab=new Date()[_0x33bee4(0x4d1)](),_0x58f61a=_0x493bc0[_0x33bee4(0x2c9)]+_0x33bee4(0x7c8)+_0xfdc3ab;_0x639dab=(await Q[_0x33bee4(0x49c)][_0x33bee4(0x693)](_0x58f61a,{'responseType':_0x33bee4(0x6ff)}))['data'];}else{if((0x0,k[_0x33bee4(0x4f3)])(_0x493bc0['image']))_0x639dab=Buffer[_0x33bee4(0x4db)](_0x493bc0['image'],'base64');else throw new m(_0x33bee4(0x50e));}await this[_0x33bee4(0x735)][_0x33bee4(0x2e7)](_0x493bc0[_0x33bee4(0x56c)],_0x639dab);}return await this['findGroup']({'groupJid':_0x493bc0[_0x33bee4(0x56c)]});}catch(_0xe50609){let _0x2645f7=_0x33bee4(0x474),_0x2c7883=_0xe50609 instanceof Error?_0xe50609[_0x33bee4(0x60b)]:typeof _0xe50609==_0x33bee4(0x5c4)?JSON[_0x33bee4(0x450)](_0xe50609):_0xe50609,_0x53b76d=_0x2645f7+':\x20'+_0x2c7883;throw this['logger']['error'](this[_0x33bee4(0x383)]+'\x20('+this[_0x33bee4(0x403)][_0x33bee4(0x367)]+_0x33bee4(0x4a0)+_0x53b76d),new _(_0x53b76d);}}async[a0_0x6d27f9(0x10b)](_0x2467be){const _0x4f99e0=a0_0x6d27f9;try{if(_0x2467be[_0x4f99e0(0x315)]===_0x4f99e0(0x711)||_0x2467be['action']==='reject'){let _0x50b6c9=_0x2467be[_0x4f99e0(0x4ab)][_0x4f99e0(0x5f1)](_0x3f80c3=>this[_0x4f99e0(0x1b6)](_0x3f80c3));await this['client'][_0x4f99e0(0x2ca)](_0x2467be[_0x4f99e0(0x56c)],_0x50b6c9,_0x2467be[_0x4f99e0(0x315)]);}else{if(_0x2467be[_0x4f99e0(0x315)]==='add'){let _0x316c3=(await this[_0x4f99e0(0x26e)]({'numbers':_0x2467be['participants']}))['filter'](_0x468da3=>_0x468da3['exists'])[_0x4f99e0(0x5f1)](_0x30d7c4=>this[_0x4f99e0(0x1b6)](_0x30d7c4[_0x4f99e0(0x7f7)]));if(_0x316c3['length']===0x0)throw new m(_0x4f99e0(0x2b4));await this[_0x4f99e0(0x735)][_0x4f99e0(0x333)](_0x2467be['groupJid'],_0x316c3,'add');}else{let _0x2e689b=_0x2467be[_0x4f99e0(0x4ab)][_0x4f99e0(0x5f1)](_0x3011ec=>this[_0x4f99e0(0x1b6)](_0x3011ec));await this['client'][_0x4f99e0(0x333)](_0x2467be[_0x4f99e0(0x56c)],_0x2e689b,_0x2467be[_0x4f99e0(0x315)]);}}return await this[_0x4f99e0(0x15e)]({'groupJid':_0x2467be['groupJid']});}catch(_0x509eb6){let _0x65db6='Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGParticipant',_0x17115c=_0x509eb6 instanceof Error?_0x509eb6['message']:typeof _0x509eb6==_0x4f99e0(0x5c4)?JSON[_0x4f99e0(0x450)](_0x509eb6):_0x509eb6,_0x4f8ae0=_0x65db6+':\x20'+_0x17115c;throw this['logger']['error'](this[_0x4f99e0(0x383)]+'\x20('+this['instance']['wuid']+'):\x20'+_0x4f8ae0),new m(_0x4f8ae0);}}async[a0_0x6d27f9(0x520)](_0x2d1327){const _0x997118=a0_0x6d27f9;try{return await this['client'][_0x997118(0x520)](_0x2d1327['inviteCode']);}catch(_0x54bf65){let _0x527d38=_0x997118(0x1ee),_0x453907=_0x54bf65 instanceof Error?_0x54bf65[_0x997118(0x60b)]:typeof _0x54bf65=='object'?JSON[_0x997118(0x450)](_0x54bf65):_0x54bf65,_0x2b7e02=_0x527d38+':\x20'+_0x453907;throw this[_0x997118(0x267)][_0x997118(0x782)](this['instanceName']+'\x20('+this[_0x997118(0x403)][_0x997118(0x367)]+_0x997118(0x4a0)+_0x2b7e02),new m(_0x2b7e02);}}async[a0_0x6d27f9(0x15e)](_0x1e0ebe,_0x2f896a=a0_0x6d27f9(0x666)){const _0x52ff95=a0_0x6d27f9;try{let _0xb9147b=await this[_0x52ff95(0x4d0)][_0x52ff95(0x463)]['findOne']({'where':{'_id':_0x1e0ebe['groupJid']}},this[_0x52ff95(0x403)][_0x52ff95(0x367)]),_0xeb81dd=_0xb9147b?_0xb9147b['groupdata']:null,_0x429454=0x18*0x3c*0x3c*0x3e8;if(!_0xeb81dd||_0xeb81dd[_0x52ff95(0x750)]&&Date['now']()-_0xeb81dd[_0x52ff95(0x750)]>_0x429454){let _0x167a8d=await this['client']['groupMetadata'](_0x1e0ebe[_0x52ff95(0x56c)]);if(_0x167a8d[_0x52ff95(0x7a6)]=_0x167a8d?.['subjectTime']&&_0x167a8d['subjectTime'][_0x52ff95(0x3f4)]()[_0x52ff95(0x4b3)]<0xd?_0x167a8d?.['subjectTime']*0x3e8:_0x167a8d?.['subjectTime']||null,_0x167a8d[_0x52ff95(0x59f)]=_0x167a8d?.[_0x52ff95(0x59f)]&&_0x167a8d[_0x52ff95(0x59f)][_0x52ff95(0x3f4)]()[_0x52ff95(0x4b3)]<0xd?_0x167a8d?.[_0x52ff95(0x59f)]*0x3e8:_0x167a8d?.[_0x52ff95(0x59f)]||null,_0xeb81dd={..._0x167a8d,'lastUpdate':Date[_0x52ff95(0x7b2)]()},!_0x167a8d)return;}let _0x1ab002=_0xeb81dd[_0x52ff95(0x4ab)][_0x52ff95(0x27f)](_0x37bc97=>_0x37bc97['id']===this[_0x52ff95(0x403)][_0x52ff95(0x367)]+_0x52ff95(0x1d9)&&_0x37bc97[_0x52ff95(0x2d7)]!=null);!_0xeb81dd[_0x52ff95(0x3dd)]&&_0x1ab002&&(_0xeb81dd[_0x52ff95(0x3dd)]=(await this[_0x52ff95(0x3dd)](_0x1e0ebe,!0x1))[_0x52ff95(0x104)]);let _0x510b34=(!_0xeb81dd[_0x52ff95(0x1dd)]||_0x1ab002)&&(!_0xeb81dd[_0x52ff95(0x48b)]||_0xeb81dd['isCommunity']&&_0xeb81dd['isCommunityAnnounce']&&_0x1ab002);_0xeb81dd[_0x52ff95(0x310)]=_0x1ab002,_0xeb81dd[_0x52ff95(0x100)]=_0x510b34;let _0x440aca=[];if(_0x1ab002&&_0xeb81dd[_0x52ff95(0x71a)])try{_0x440aca=await this['client'][_0x52ff95(0x4f0)](_0x1e0ebe['groupJid']),_0xeb81dd[_0x52ff95(0xfa)]=Date[_0x52ff95(0x7b2)]();}catch(_0x36c897){this[_0x52ff95(0x267)][_0x52ff95(0x302)](this[_0x52ff95(0x383)]+'\x20('+this[_0x52ff95(0x403)][_0x52ff95(0x367)]+'):\x20Erro\x20ao\x20buscar\x20participantes\x20que\x20querem\x20entrar\x20'+_0x1e0ebe['groupJid']+':\x20'+(_0x36c897 instanceof Error?_0x36c897[_0x52ff95(0x60b)]:JSON[_0x52ff95(0x450)](_0x36c897,null,0x2)));}try{_0xeb81dd[_0x52ff95(0x2c9)]=(await this[_0x52ff95(0x188)](_0x1e0ebe[_0x52ff95(0x56c)],null,!0x0))[_0x52ff95(0x245)][_0x52ff95(0x320)];}catch(_0x293a44){this[_0x52ff95(0x267)][_0x52ff95(0x302)](this[_0x52ff95(0x383)]+'\x20('+this[_0x52ff95(0x403)]['wuid']+'):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20'+_0x1e0ebe['groupJid']+':\x20'+(_0x293a44 instanceof Error?_0x293a44[_0x52ff95(0x60b)]:JSON['stringify'](_0x293a44,null,0x2)));}let _0xe21bfb=_0xeb81dd[_0x52ff95(0x4ab)][_0x52ff95(0x5f1)](_0xeb2b1a=>_0xeb2b1a['id']),_0xfd44b=_0x440aca[_0x52ff95(0x5f1)](_0xde5af5=>_0xde5af5[_0x52ff95(0x7f7)]),_0x5e7562=await this[_0x52ff95(0x4d0)][_0x52ff95(0x325)][_0x52ff95(0x48a)]([..._0xe21bfb,..._0xfd44b]);_0xeb81dd[_0x52ff95(0x4ab)]=_0xeb81dd[_0x52ff95(0x4ab)]['map'](_0x41da6f=>{const _0x2cc188=_0x52ff95;let _0x21d950=_0x5e7562[_0x2cc188(0x37d)](_0x5433a5=>_0x5433a5[_0x2cc188(0x3b9)]===_0x41da6f['id']);return{'id':_0x41da6f['id'],'isAdmin':[_0x2cc188(0x2d7),_0x2cc188(0x518)][_0x2cc188(0x562)](_0x41da6f[_0x2cc188(0x2d7)]),'admin':_0x41da6f[_0x2cc188(0x2d7)],'pushName':_0x21d950?.['name'],'profilePictureUrl':_0x21d950?.[_0x2cc188(0x320)]};}),_0xeb81dd['awaitingApproval']=_0x440aca['map'](_0x320903=>{const _0x4962bc=_0x52ff95;let _0x19fbdd=_0x5e7562['find'](_0x21c631=>_0x21c631[_0x4962bc(0x3b9)]===_0x320903[_0x4962bc(0x7f7)]);return{'id':_0x320903[_0x4962bc(0x7f7)],'awaitingApproval':!0x0,'isAdmin':!0x1,'pushName':_0x19fbdd?.[_0x4962bc(0x552)],'profilePictureUrl':_0x19fbdd?.['pictureUrl'],'request_method':_0x320903['request_method'],'request_time':_0x320903[_0x4962bc(0x35b)]};});let _0x49a326=await this['repository']['chat'][_0x52ff95(0x46a)]({'where':{'_id':_0x1e0ebe[_0x52ff95(0x56c)]}},{'imagechat':_0xeb81dd['image'],'name':_0xeb81dd[_0x52ff95(0x7d5)],'lastcache':Date[_0x52ff95(0x7b2)](),'groupdata':_0xeb81dd},this[_0x52ff95(0x403)][_0x52ff95(0x367)]);return j(this['instanceName'],_0x52ff95(0x652),{'chat':_0x49a326}),{'metadata':_0xeb81dd};}catch(_0xa4c141){if(_0x2f896a===_0x52ff95(0x4df))return;throw new J(_0x52ff95(0x1a6),_0xa4c141[_0x52ff95(0x60b)][_0x52ff95(0x3f4)]());}}async['findGroups'](){const _0x5c7f11=a0_0x6d27f9;try{let _0x2b1989=[],_0x53679b=await this['client']['groupFetchAllParticipating'](),_0x4bf4b1=Object[_0x5c7f11(0xe2)](_0x53679b),_0x4ba813=_0x4bf4b1[_0x5c7f11(0x3ec)](_0x54694a=>(0x0,w[_0x5c7f11(0x648)])(_0x54694a?.['id']))['map'](async _0x533ad8=>{const _0x51f2b6=_0x5c7f11;try{return await this[_0x51f2b6(0x735)][_0x51f2b6(0x639)](_0x533ad8['id'],_0x51f2b6(0x3e2));}catch(_0x1d9116){return this['logger'][_0x51f2b6(0x302)](this['instanceName']+'\x20('+this[_0x51f2b6(0x403)]['wuid']+_0x51f2b6(0x28f)+_0x533ad8['id']+':\x20'+(_0x1d9116 instanceof Error?_0x1d9116['message']:JSON[_0x51f2b6(0x450)](_0x1d9116,null,0x2))),null;}}),_0x54ebdf=await Promise['all'](_0x4ba813);for(let _0x38e48d=0x0;_0x38e48d<_0x4bf4b1[_0x5c7f11(0x4b3)];_0x38e48d++){let _0x342b08=_0x4bf4b1[_0x38e48d];(0x0,w[_0x5c7f11(0x648)])(_0x342b08?.['id'])&&(_0x2b1989['push']({'groupJid':_0x342b08?.['id'],'subject':_0x342b08?.[_0x5c7f11(0x7d5)],'subjectOwner':_0x342b08?.['subjectOwner']?.[_0x5c7f11(0x48d)]('@')[0x0],'subjectTime':_0x342b08?.[_0x5c7f11(0x7a6)],'creation':_0x342b08?.[_0x5c7f11(0x59f)],'size':_0x342b08?.['participants']?.[_0x5c7f11(0x4b3)],'owner':_0x342b08?.[_0x5c7f11(0x115)]?.[_0x5c7f11(0x48d)]('@')[0x0],'desc':_0x342b08?.[_0x5c7f11(0x22b)],'restrict':_0x342b08?.['restrict'],'announce':_0x342b08?.[_0x5c7f11(0x1dd)],'image':_0x54ebdf[_0x38e48d],'isCommunity':_0x342b08?.[_0x5c7f11(0x48b)],'joinApprovalMode':_0x342b08?.['joinApprovalMode'],'memberCanAddParticipant':_0x342b08?.['memberAddMode'],'participants':_0x342b08?.['participants'],'descOwner':_0x342b08?.[_0x5c7f11(0x499)],'descId':_0x342b08?.[_0x5c7f11(0x175)],'memberAddMode':_0x342b08?.[_0x5c7f11(0x5d4)],'isCommunityAnnounce':_0x342b08?.[_0x5c7f11(0x1af)],'ephemeralDuration':_0x342b08?.[_0x5c7f11(0x347)]||0x0,'author':_0x342b08?.[_0x5c7f11(0x1d7)]}),this[_0x5c7f11(0x1ef)](_0x4bf4b1[_0x38e48d]));}return _0x2b1989;}catch(_0x52894e){let _0x38f11a=_0x5c7f11(0x17d),_0x7b99c9=_0x52894e instanceof Error?_0x52894e[_0x5c7f11(0x60b)]:typeof _0x52894e==_0x5c7f11(0x5c4)?JSON[_0x5c7f11(0x450)](_0x52894e):_0x52894e,_0x3965a8=_0x38f11a+':\x20'+_0x7b99c9;throw this[_0x5c7f11(0x267)]['error'](this[_0x5c7f11(0x383)]+'\x20('+this['instance']['wuid']+_0x5c7f11(0x4a0)+_0x3965a8),new J(_0x3965a8);}}async['updateChatGroupData'](_0x1f5716){const _0x3cc6be=a0_0x6d27f9;let _0xadbfed=await this['repository'][_0x3cc6be(0x463)][_0x3cc6be(0x206)]({'where':{'_id':_0x1f5716['id']}},this[_0x3cc6be(0x403)][_0x3cc6be(0x367)]);_0x1f5716[_0x3cc6be(0x7a6)]=_0x1f5716?.[_0x3cc6be(0x7a6)]&&_0x1f5716['subjectTime']['toString']()[_0x3cc6be(0x4b3)]<0xd?_0x1f5716?.[_0x3cc6be(0x7a6)]*0x3e8:_0x1f5716?.[_0x3cc6be(0x7a6)]||null,_0x1f5716['creation']=_0x1f5716?.[_0x3cc6be(0x59f)]&&_0x1f5716[_0x3cc6be(0x59f)]['toString']()[_0x3cc6be(0x4b3)]<0xd?_0x1f5716?.[_0x3cc6be(0x59f)]*0x3e8:_0x1f5716?.[_0x3cc6be(0x59f)]||null;let _0x335349=_0xadbfed?.[_0x3cc6be(0x623)]?.[_0x3cc6be(0x417)]||[],_0xb2acac=_0xadbfed?.[_0x3cc6be(0x623)]?.[_0x3cc6be(0xfa)],_0x515f35=_0x1f5716[_0x3cc6be(0x4ab)][_0x3cc6be(0x5f1)](_0x2b23f7=>{const _0x29f7dd=_0x3cc6be;let _0x124e3c=_0xadbfed?.[_0x29f7dd(0x623)]?.[_0x29f7dd(0x4ab)][_0x29f7dd(0x37d)](_0x3b5397=>_0x3b5397['id']===_0x2b23f7['id']);return{..._0x2b23f7,'isAdmin':['admin',_0x29f7dd(0x518)]['includes'](_0x2b23f7[_0x29f7dd(0x2d7)]),'admin':_0x2b23f7[_0x29f7dd(0x2d7)],'name':_0x124e3c?.['name']||_0x2b23f7[_0x29f7dd(0x552)],'imgUrl':_0x124e3c?.[_0x29f7dd(0x46d)]||_0x2b23f7[_0x29f7dd(0x46d)]};}),_0x42763e=_0x515f35[_0x3cc6be(0x27f)](_0x402120=>_0x402120['id']===this['instance'][_0x3cc6be(0x367)]+_0x3cc6be(0x1d9)&&_0x402120[_0x3cc6be(0x310)]),_0x2843d6=(!_0x1f5716[_0x3cc6be(0x1dd)]||_0x42763e)&&(!_0x1f5716[_0x3cc6be(0x48b)]||_0x1f5716[_0x3cc6be(0x48b)]&&_0x1f5716[_0x3cc6be(0x1af)]&&_0x42763e),_0x24c25a={..._0x1f5716,'participants':_0x515f35,'awaitingApproval':_0x335349,'lastFetchAwaitingApproval':_0xb2acac,'isAdmin':_0x42763e,'canSendMessage':_0x2843d6,'lastUpdate':Date[_0x3cc6be(0x7b2)]()};await this[_0x3cc6be(0x4d0)]['chat'][_0x3cc6be(0x46a)]({'where':{'_id':_0x1f5716['id']}},{'name':_0x1f5716[_0x3cc6be(0x7d5)],'group':!0x0,'groupdata':_0x24c25a,'lastcache':Date[_0x3cc6be(0x7b2)]()},this[_0x3cc6be(0x403)][_0x3cc6be(0x367)]),j(this[_0x3cc6be(0x383)],'chats',{'chat':_0x1f5716});}async[a0_0x6d27f9(0x3a1)](_0x3c898b){const _0x5be502=a0_0x6d27f9;let _0x55cc95=await this['repository'][_0x5be502(0x463)]['findOne']({'where':{'_id':_0x3c898b['id']}},this[_0x5be502(0x403)][_0x5be502(0x367)]);_0x3c898b[_0x5be502(0x7a6)]=_0x3c898b?.[_0x5be502(0x7a6)]&&_0x3c898b['subjectTime'][_0x5be502(0x3f4)]()['length']<0xd?_0x3c898b?.[_0x5be502(0x7a6)]*0x3e8:_0x3c898b?.[_0x5be502(0x7a6)]||null,_0x3c898b[_0x5be502(0x59f)]=_0x3c898b?.[_0x5be502(0x59f)]&&_0x3c898b[_0x5be502(0x59f)][_0x5be502(0x3f4)]()[_0x5be502(0x4b3)]<0xd?_0x3c898b?.[_0x5be502(0x59f)]*0x3e8:_0x3c898b?.[_0x5be502(0x59f)]||null,_0x3c898b['inviteCode']&&(_0x3c898b[_0x5be502(0x3dd)]='https://chat.whatsapp.com/'+_0x3c898b[_0x5be502(0x3dd)]);let _0x17786f=_0x55cc95?.[_0x5be502(0x623)]?{..._0x55cc95['groupdata']}:{};Object[_0x5be502(0x3ae)](_0x3c898b)[_0x5be502(0x48c)](_0x596849=>{_0x596849!=='id'&&(_0x17786f[_0x596849]=_0x3c898b[_0x596849]);});let _0x5c4f50=_0x17786f['participants']?.['some'](_0x12d685=>_0x12d685['id']===this[_0x5be502(0x403)][_0x5be502(0x367)]+_0x5be502(0x1d9)&&_0x12d685[_0x5be502(0x310)])||!0x1;_0x17786f['isAdmin']=_0x5c4f50;let _0x3dbf4b=(!_0x17786f[_0x5be502(0x1dd)]||_0x5c4f50)&&(!_0x17786f['isCommunity']||_0x17786f[_0x5be502(0x48b)]&&_0x17786f[_0x5be502(0x1af)]&&_0x5c4f50);_0x17786f[_0x5be502(0x100)]=_0x3dbf4b;let _0x1b8f7f={'group':!0x0,'groupdata':_0x17786f};_0x3c898b[_0x5be502(0x7d5)]&&(_0x1b8f7f[_0x5be502(0x552)]=_0x3c898b['subject']),await this[_0x5be502(0x4d0)][_0x5be502(0x463)]['updateOne']({'where':{'_id':_0x3c898b['id']}},_0x1b8f7f,this[_0x5be502(0x403)][_0x5be502(0x367)],{'upsert':!0x0}),j(this[_0x5be502(0x383)],_0x5be502(0x652),{'chat':_0x1b8f7f});}async[a0_0x6d27f9(0x312)](_0x45580a){const _0x2a0059=a0_0x6d27f9;let _0x1580c8=await this[_0x2a0059(0x4d0)][_0x2a0059(0x463)][_0x2a0059(0x206)]({'where':{'_id':_0x45580a['id']}},this['instance']['wuid']);if(!_0x1580c8||!_0x1580c8['groupdata']){this[_0x2a0059(0x267)][_0x2a0059(0xf3)](this['instanceName']+'\x20('+this['instance'][_0x2a0059(0x367)]+'):\x20\x27Grupo\x20não\x20encontrado\x20ou\x20groupdata\x20não\x20definido:\x27,\x20'+_0x45580a['id']);return;}let _0x2e90b3=await this[_0x2a0059(0x4d0)][_0x2a0059(0x325)]['findManyByIds'](_0x45580a[_0x2a0059(0x4ab)]),_0x525f41=[..._0x1580c8['groupdata']?.[_0x2a0059(0x4ab)]];switch(_0x45580a['action']){case _0x2a0059(0x664):let _0x557878=_0x2e90b3[_0x2a0059(0x5f1)](_0x15afb1=>({'id':_0x15afb1[_0x2a0059(0x3b9)],'isAdmin':!0x1,'name':_0x15afb1[_0x2a0059(0x552)],'imgUrl':_0x15afb1[_0x2a0059(0x320)]}));_0x525f41=[..._0x525f41,..._0x557878];break;case'remove':_0x525f41=_0x525f41[_0x2a0059(0x3ec)](_0x2b95d0=>!_0x45580a[_0x2a0059(0x4ab)][_0x2a0059(0x562)](_0x2b95d0['id']));break;case _0x2a0059(0x121):case _0x2a0059(0x34f):_0x525f41=_0x525f41[_0x2a0059(0x5f1)](_0x142a1b=>_0x45580a[_0x2a0059(0x4ab)][_0x2a0059(0x562)](_0x142a1b['id'])?{..._0x142a1b,'isAdmin':_0x45580a[_0x2a0059(0x315)]===_0x2a0059(0x121)}:_0x142a1b);break;}let _0x20e0e8=_0x525f41[_0x2a0059(0x4b3)],_0x380b38=_0x525f41[_0x2a0059(0x27f)](_0x5799b1=>_0x5799b1['id']===this['instance'][_0x2a0059(0x367)]+_0x2a0059(0x1d9)),_0x4e631e=_0x380b38&&_0x525f41['some'](_0x4ca0e9=>_0x4ca0e9['id']===this['instance'][_0x2a0059(0x367)]+_0x2a0059(0x1d9)&&_0x4ca0e9['isAdmin']),_0xc8f4fe=_0x380b38&&(!_0x1580c8[_0x2a0059(0x623)][_0x2a0059(0x1dd)]||_0x4e631e)&&(!_0x1580c8[_0x2a0059(0x623)][_0x2a0059(0x48b)]||_0x1580c8['groupdata']['isCommunity']&&_0x4e631e);await this[_0x2a0059(0x4d0)][_0x2a0059(0x463)][_0x2a0059(0x46a)]({'where':{'_id':_0x45580a['id']}},{'groupdata':{..._0x1580c8[_0x2a0059(0x623)],'participants':_0x525f41,'size':_0x20e0e8,'isAdmin':_0x4e631e,'canSendMessage':_0xc8f4fe}},this['instance']['wuid']),this[_0x2a0059(0x267)][_0x2a0059(0xf3)](this[_0x2a0059(0x383)]+'\x20('+this[_0x2a0059(0x403)][_0x2a0059(0x367)]+_0x2a0059(0x39f)+_0x45580a['id']+'\x20atualizado\x20com\x20sucesso.\x20Ação:\x20'+_0x45580a['action']+_0x2a0059(0x6d6)+_0x20e0e8+',\x20isAdmin:\x20'+_0x4e631e+',\x20canSendMessage:\x20'+_0xc8f4fe);}async[a0_0x6d27f9(0x3dd)](_0x3bf211,_0x550a26=!0x0){const _0x3f57ab=a0_0x6d27f9;try{let _0x6e40e3=await this[_0x3f57ab(0x735)][_0x3f57ab(0x706)](_0x3bf211[_0x3f57ab(0x56c)]),_0xa5aef2={'groupdata.inviteCode':'https://chat.whatsapp.com/'+_0x6e40e3};if(_0x550a26){let _0x148d85=await this[_0x3f57ab(0x4d0)][_0x3f57ab(0x463)][_0x3f57ab(0x46a)]({'where':{'_id':_0x3bf211[_0x3f57ab(0x56c)]}},_0xa5aef2,this[_0x3f57ab(0x403)]['wuid']);}return{'inviteUrl':_0x3f57ab(0x429)+_0x6e40e3,'inviteCode':_0x6e40e3};}catch(_0x4e879d){let _0x34a9ee=_0x3f57ab(0x763),_0x32c162=_0x4e879d instanceof Error?_0x4e879d[_0x3f57ab(0x60b)]:typeof _0x4e879d==_0x3f57ab(0x5c4)?JSON[_0x3f57ab(0x450)](_0x4e879d):_0x4e879d,_0x37734f=_0x34a9ee+':\x20'+_0x32c162;throw this[_0x3f57ab(0x267)]['error'](this['instanceName']+'\x20('+this[_0x3f57ab(0x403)][_0x3f57ab(0x367)]+_0x3f57ab(0x4a0)+_0x37734f),new J(_0x37734f);}}async[a0_0x6d27f9(0x4b6)](_0x6149e6){const _0x12c539=a0_0x6d27f9;try{let _0x3dab46=await this['client']['groupRevokeInvite'](_0x6149e6[_0x12c539(0x56c)]);return{'revoked':!0x0,'inviteUrl':_0x12c539(0x429)+_0x3dab46,'inviteCode':_0x3dab46};}catch(_0x392053){let _0x5cb435='Falha\x20ao\x20processar\x20a\x20solicitação\x20revokeInviteCode',_0x40f96a=_0x392053 instanceof Error?_0x392053[_0x12c539(0x60b)]:typeof _0x392053=='object'?JSON[_0x12c539(0x450)](_0x392053):_0x392053,_0xa98d9=_0x5cb435+':\x20'+_0x40f96a;throw this[_0x12c539(0x267)][_0x12c539(0x782)](this[_0x12c539(0x383)]+'\x20('+this[_0x12c539(0x403)]['wuid']+'):\x20'+_0xa98d9),new J(_0xa98d9);}}async[a0_0x6d27f9(0x364)](_0x421dfa){const _0xf3304=a0_0x6d27f9;try{if((0x0,k['isURL'])(_0x421dfa[_0xf3304(0x3dd)]))var _0x581e7c=_0x421dfa[_0xf3304(0x3dd)][_0xf3304(0x48d)]('/')[0x3];else var _0x581e7c=_0x421dfa['inviteCode'];let _0x806129=await this['client'][_0xf3304(0x174)](_0x581e7c);return this[_0xf3304(0x267)][_0xf3304(0x302)](this[_0xf3304(0x383)]+'\x20('+this['instance']['wuid']+_0xf3304(0x4a0)+_0x806129),{'join':!0x0,'inviteCode':_0x581e7c,'groupJid':_0x806129};}catch(_0x4df3eb){let _0x32076f=_0xf3304(0x143),_0x31752f=_0x4df3eb instanceof Error?_0x4df3eb[_0xf3304(0x60b)]:typeof _0x4df3eb==_0xf3304(0x5c4)?JSON['stringify'](_0x4df3eb):_0x4df3eb,_0x28d867=_0x32076f+':\x20'+_0x31752f;throw this['logger'][_0xf3304(0x782)](this[_0xf3304(0x383)]+'\x20('+this['instance'][_0xf3304(0x367)]+_0xf3304(0x4a0)+_0x28d867),new J(_0x28d867);}}async[a0_0x6d27f9(0x6c6)](_0x1bad52){const _0xa4e67a=a0_0x6d27f9;try{return{'participants':(await this[_0xa4e67a(0x4d0)]['chat']['findOne']({'where':{'_id':_0x1bad52[_0xa4e67a(0x56c)]}},this[_0xa4e67a(0x403)][_0xa4e67a(0x367)]))[_0xa4e67a(0x623)][_0xa4e67a(0x4ab)]};}catch(_0x2735c7){let _0x1b4b5d=_0xa4e67a(0x39b),_0x18879d=_0x2735c7 instanceof Error?_0x2735c7[_0xa4e67a(0x60b)]:typeof _0x2735c7==_0xa4e67a(0x5c4)?JSON['stringify'](_0x2735c7):_0x2735c7,_0x3e5af8=_0x1b4b5d+':\x20'+_0x18879d;throw this[_0xa4e67a(0x267)][_0xa4e67a(0x782)](this[_0xa4e67a(0x383)]+'\x20('+this[_0xa4e67a(0x403)]['wuid']+_0xa4e67a(0x4a0)+_0x3e5af8),new J(_0x3e5af8);}}async[a0_0x6d27f9(0x43e)](_0x305489){const _0x4e3890=a0_0x6d27f9;try{return await this[_0x4e3890(0x735)][_0x4e3890(0xec)](_0x305489['groupJid']),{'groupJid':_0x305489[_0x4e3890(0x56c)],'leave':!0x0};}catch(_0x1d2792){let _0x528ad1='Falha\x20ao\x20processar\x20a\x20solicitação\x20leaveGroup',_0x4d2d72=_0x1d2792 instanceof Error?_0x1d2792[_0x4e3890(0x60b)]:typeof _0x1d2792==_0x4e3890(0x5c4)?JSON[_0x4e3890(0x450)](_0x1d2792):_0x1d2792,_0x563949=_0x528ad1+':\x20'+_0x4d2d72;throw this[_0x4e3890(0x267)][_0x4e3890(0x782)](this[_0x4e3890(0x383)]+'\x20('+this['instance'][_0x4e3890(0x367)]+_0x4e3890(0x4a0)+_0x563949),new m(_0x563949);}}async[a0_0x6d27f9(0x6a4)](_0x2feb80){const _0x69a494=a0_0x6d27f9;return await this['sendMessageWithTyping'](_0x2feb80[_0x69a494(0x110)],{'poll':{'name':_0x2feb80[_0x69a494(0x6a4)]?.[_0x69a494(0x552)],'selectableCount':_0x2feb80[_0x69a494(0x6a4)]['selectableCount'],'values':_0x2feb80[_0x69a494(0x6a4)]['values']}},_0x2feb80?.[_0x69a494(0x627)]);}async[a0_0x6d27f9(0x27b)](_0x152e19){const _0xcc54b5=a0_0x6d27f9;return await this[_0xcc54b5(0x6ad)](_0x152e19[_0xcc54b5(0x110)],{'listMessage':{'title':_0x152e19[_0xcc54b5(0x27b)][_0xcc54b5(0x420)],'description':_0x152e19[_0xcc54b5(0x27b)][_0xcc54b5(0x32a)],'buttonText':_0x152e19[_0xcc54b5(0x27b)]?.[_0xcc54b5(0x6be)],'footerText':_0x152e19[_0xcc54b5(0x27b)]?.['footerText'],'sections':_0x152e19[_0xcc54b5(0x27b)][_0xcc54b5(0x489)],'listType':0x2}},_0x152e19?.['options']);}async['menuMessage'](_0x1b28f2){const _0x207618=a0_0x6d27f9;let _0x4e4df7;if(_0x1b28f2['menuMessage'][_0x207618(0x5cb)]===_0x207618(0x4bf)){let _0x3bb005=_0x1b28f2[_0x207618(0x1ad)]['text']['indexOf']('\x0a'),_0x38449c='',_0x303aa0='';_0x3bb005!==-0x1?(_0x38449c=_0x1b28f2['menuMessage'][_0x207618(0x4a9)][_0x207618(0x6c7)](0x0,_0x3bb005)[_0x207618(0x3ab)](),_0x303aa0=_0x1b28f2[_0x207618(0x1ad)][_0x207618(0x4a9)][_0x207618(0x6c7)](_0x3bb005+0x1)):_0x303aa0=_0x1b28f2['menuMessage'][_0x207618(0x4a9)];let _0x101c24=_0x1b28f2[_0x207618(0x1ad)][_0x207618(0x1de)][_0x207618(0x3ec)](_0x483e29=>_0x483e29[_0x207618(0x3ab)]()!==''),_0x4f2d2f=this[_0x207618(0x74a)](_0x101c24);_0x4e4df7={'listMessage':{'title':_0x38449c,'description':_0x303aa0,'buttonText':_0x1b28f2[_0x207618(0x1ad)]['buttonText']||_0x207618(0x29b),'footerText':_0x1b28f2[_0x207618(0x1ad)]['footerText'],'sections':_0x4f2d2f,'listType':0x2}};}else{if(_0x1b28f2['menuMessage'][_0x207618(0x5cb)]===_0x207618(0x47a)){let _0x467c32=_0x1b28f2[_0x207618(0x1ad)]['choices'][_0x207618(0x3ec)](_0x3c5782=>!(_0x3c5782[_0x207618(0x1e3)]('[')&&_0x3c5782[_0x207618(0x1bf)](']'))&&_0x3c5782[_0x207618(0x3ab)]()!=='')[_0x207618(0x5f1)](_0x5f58e4=>_0x5f58e4[_0x207618(0x48d)]('\x0a')[0x0]);_0x4e4df7={'poll':{'name':_0x1b28f2[_0x207618(0x1ad)][_0x207618(0x4a9)],'selectableCount':_0x1b28f2['menuMessage'][_0x207618(0x51a)]||0x1,'values':_0x467c32}};}}return await this[_0x207618(0x6ad)](_0x1b28f2['number'],_0x4e4df7,_0x1b28f2?.['options']);}[a0_0x6d27f9(0x74a)](_0x47ff0c){const _0x31095b=a0_0x6d27f9;let _0x276edf=[],_0x52aba9={'rows':[]};return _0x47ff0c['forEach'](_0x556fed=>{const _0xb55e5=a0_0x3485;if(_0x556fed[_0xb55e5(0x1e3)]('[')&&_0x556fed[_0xb55e5(0x1bf)](']'))_0x52aba9['rows']['length']>0x0&&_0x276edf[_0xb55e5(0x6b3)](_0x52aba9),_0x52aba9={'title':_0x556fed[_0xb55e5(0x5cc)](0x1,-0x1),'rows':[]};else{let _0x498f93=_0x556fed['split']('\x0a')[_0xb55e5(0x5f1)](_0x35d246=>_0x35d246[_0xb55e5(0x3ab)]()),_0x3552f2=_0x498f93[0x0],_0x1eafe5=_0x498f93[0x1]||null,_0x5250a8=_0x498f93[0x2]||_0x3552f2;_0x52aba9[_0xb55e5(0x5a9)][_0xb55e5(0x6b3)]({'title':_0x3552f2,'description':_0x1eafe5,'rowId':_0x5250a8});}}),_0x52aba9[_0x31095b(0x5a9)]['length']>0x0&&_0x276edf['push'](_0x52aba9),_0x276edf;}async[a0_0x6d27f9(0x3d9)](_0x5d75f5,_0x28fac7){const _0x450ae0=a0_0x6d27f9;if(await this['getMessage'](_0x5d75f5,!0x0)){let _0x3f2cb8={'where':{'_id':_0x5d75f5['id']}},_0x4e48d9={'status':[_0x28fac7[_0x450ae0(0x538)]][0x0]};try{let _0x4d4e1e=await this['repository'][_0x450ae0(0x60b)][_0x450ae0(0x414)](_0x3f2cb8,_0x4e48d9,this[_0x450ae0(0x403)][_0x450ae0(0x367)]);_0x4d4e1e&&j(this[_0x450ae0(0x383)],_0x450ae0(0x2db),{'message':_0x4d4e1e});}catch{}}}[a0_0x6d27f9(0x2b9)](_0x36ba8c){const _0x574e3e=a0_0x6d27f9;let _0x19a781=[];return _0x36ba8c[_0x574e3e(0x48c)](_0x4b2e03=>{const _0x4daeed=_0x574e3e;_0x4b2e03[_0x4daeed(0x420)]&&_0x19a781[_0x4daeed(0x6b3)]('['+_0x4b2e03[_0x4daeed(0x420)]+']'),_0x4b2e03[_0x4daeed(0x5a9)][_0x4daeed(0x48c)](_0x1ee66c=>{_0x19a781['push'](_0x1ee66c['title']);});}),_0x19a781[_0x574e3e(0x34b)]('|');}[a0_0x6d27f9(0x2bf)](_0xbc7149){const _0x26ed43=a0_0x6d27f9;let _0xd96804=_0xbc7149['replace'](/\\n/g,'\x0a')[_0x26ed43(0x48d)]('\x0a')['filter'](_0x3a3ac7=>_0x3a3ac7[_0x26ed43(0x562)](_0x26ed43(0x435))||_0x3a3ac7[_0x26ed43(0x562)](_0x26ed43(0x296))),_0x437245='';return _0xd96804[_0x26ed43(0x48c)](_0x4f5136=>{const _0x1ea18d=_0x26ed43;let _0x41c019=/TEL(?:.*):(.+)/,_0x76dd8f=/EMAIL(?:.*):(.+)/,_0x448261=_0x4f5136[_0x1ea18d(0x66f)](_0x41c019),_0x10a03e=_0x4f5136[_0x1ea18d(0x66f)](_0x76dd8f);if(_0x448261){let _0x367995=_0x448261[0x1][_0x1ea18d(0x78b)](/-| |\+|\(|\)/g,'')[_0x1ea18d(0x3ab)]();_0x437245+=_0x1ea18d(0x554)+_0x367995+'\x0a';}else{if(_0x10a03e){let _0x335f9a=_0x10a03e[0x1][_0x1ea18d(0x3ab)]();_0x437245+=_0x1ea18d(0xe9)+_0x335f9a+'\x0a';}}}),_0x437245['trim']();}async['updateChatWithMessage'](_0x38ea47,_0x1e1f36,_0x314683,_0x3de384=null){const _0x4685e6=a0_0x6d27f9;if(_0x38ea47[_0x4685e6(0x43a)])try{let _0x58f656=_0x1e1f36[_0x4685e6(0x663)][_0x4685e6(0x455)][_0x4685e6(0x78b)](/:\d{1,2}@/g,'@'),_0xa82c91=_0x1e1f36['key'][_0x4685e6(0x60e)],_0x484721=_0x58f656[_0x4685e6(0x1bf)](_0x4685e6(0x3ce)),_0x57c81a=_0x1e1f36[_0x4685e6(0x626)]?.[_0x4685e6(0x78b)](/:\d{1,2}@/g,'@')||'',_0x226cdb=_0x1e1f36[_0x4685e6(0x42f)]?.[_0x4685e6(0x4a9)]||_0x1e1f36[_0x4685e6(0x42f)]?.[_0x4685e6(0x4a1)]||_0x1e1f36[_0x4685e6(0x42f)]?.[_0x4685e6(0x7c9)]||_0x1e1f36[_0x4685e6(0x42f)]?.[_0x4685e6(0x552)]||'',_0x2406cf={'_id':_0x1e1f36['_id'],'remoteJid':_0xa82c91?this['instance'][_0x4685e6(0x367)]:_0x484721?_0x57c81a:_0x58f656,'pushName':_0xa82c91?this[_0x4685e6(0x403)][_0x4685e6(0x3c7)]||'Eu':_0x1e1f36[_0x4685e6(0x32d)],'text':_0x226cdb,'type':_0x1e1f36['messageType'],'when':_0x1e1f36[_0x4685e6(0x1f6)]||Date['now']()};_0x3de384||(_0x3de384=await this['repository'][_0x4685e6(0x463)]['findOne']({'where':{'_id':_0x58f656}},this[_0x4685e6(0x403)][_0x4685e6(0x367)]));let _0x98afb5=_0x3de384?_0xa82c91?_0x3de384['unreadcount']:(_0x3de384[_0x4685e6(0x411)]||0x0)+0x1:_0xa82c91?0x0:0x1,_0x1c1683={'lastmsg':_0x1e1f36['messageTimestamp']||Date[_0x4685e6(0x7b2)](),'ephemeralExpiration':_0x1e1f36[_0x4685e6(0x11b)],'lastMessage':_0x2406cf,'unreadcount':_0x98afb5,..._0xa82c91||_0x484721?{}:{'name':_0x1e1f36['pushName']},..._0x484721?{'group':_0x484721}:{},...!_0xa82c91&&!_0x484721&&_0x1e1f36['profilePictureUrl']?{'imagechat':_0x1e1f36[_0x4685e6(0x639)]}:{}};if(!_0x484721&&(!_0x3de384?.['leadInfo']||!_0x3de384[_0x4685e6(0x368)][_0x4685e6(0x2ef)])&&_0x1e1f36['pushName']&&!_0xa82c91&&(_0x1c1683={..._0x1c1683,'leadInfo.nome':_0x1e1f36[_0x4685e6(0x32d)]}),_0x3de384?.[_0x4685e6(0x368)][_0x4685e6(0x77d)]||(_0x1c1683={..._0x1c1683,'leadInfo.etiquetas':[]}),_0x3de384?.[_0x4685e6(0x368)][_0x4685e6(0x62d)]||(_0x1c1683={..._0x1c1683,'leadInfo.customFields':[]}),_0x3de384?.[_0x4685e6(0x368)][_0x4685e6(0x78f)]||(_0x1c1683={..._0x1c1683,'leadInfo.tags':[]}),_0x3de384&&_0x3de384?.[_0x4685e6(0x270)]){let _0x5a9f8a=await this['repository'][_0x4685e6(0x3e5)][_0x4685e6(0x37d)]({'where':{}},this[_0x4685e6(0x403)]['wuid']),_0x539cd7=new Set(_0x5a9f8a[_0x4685e6(0x5f1)](_0x3c3448=>_0x3c3448['_id'])),_0x4151d1=(_0x3de384[_0x4685e6(0x368)]?.[_0x4685e6(0x77d)]||[])['filter'](_0x200ab8=>_0x539cd7['has'](_0x200ab8));_0x1c1683={..._0x1c1683,'imported':!0x1,'leadInfo.etiquetas':_0x4151d1};for(let _0x7ac34e of _0x4151d1)await this[_0x4685e6(0x7cb)](_0x7ac34e,_0x58f656);}if(!this['AutomateSystem'][_0x4685e6(0x40f)][_0x4685e6(0x37d)](_0x263c4e=>_0x263c4e[_0x4685e6(0x5f7)]&&_0x226cdb['includes'](_0x263c4e[_0x4685e6(0x5f7)]))&&_0x314683===_0x4685e6(0x702)&&_0xa82c91&&this['AutomateSystem']?.[_0x4685e6(0x534)][_0x4685e6(0x4e6)]&&_0x226cdb['trim']()!==this[_0x4685e6(0x3d6)]?.[_0x4685e6(0x534)]['stopConversation'][_0x4685e6(0x3ab)]()){let _0x58b20b=(this[_0x4685e6(0x3d6)]?.[_0x4685e6(0x534)][_0x4685e6(0x1cc)]||0x0)*0xea60,_0x7207d5=Date[_0x4685e6(0x7b2)]()+_0x58b20b;_0x3de384?.['leadInfo']?.[_0x4685e6(0x168)]===0x0||(_0x1c1683={..._0x1c1683,'leadInfo.desativadoFluxoAte':_0x7207d5},this[_0x4685e6(0x267)]['verbose'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x4685e6(0x55c)+_0x7207d5+'.'));}if(_0x226cdb['trim']()===this[_0x4685e6(0x3d6)]?.[_0x4685e6(0x534)][_0x4685e6(0x259)][_0x4685e6(0x3ab)]()){this[_0x4685e6(0x267)][_0x4685e6(0x302)](this['instanceName']+'\x20('+this['instance'][_0x4685e6(0x367)]+_0x4685e6(0x3c0)+_0x226cdb);let _0x4ef8a0=Date[_0x4685e6(0x7b2)]();this[_0x4685e6(0x3d6)]?.[_0x4685e6(0x534)]['stopMinutes']===0x0?_0x1c1683={..._0x1c1683,'leadInfo.desativadoFluxoAte':_0x4ef8a0+0x7591f6200}:_0x1c1683={..._0x1c1683,'leadInfo.desativadoFluxoAte':_0x4ef8a0+this[_0x4685e6(0x3d6)]?.['flowConfig']['stopMinutes']*0x3c*0x3e8};}if(_0x3de384=await this[_0x4685e6(0x4d0)]['chat'][_0x4685e6(0x46a)]({'where':{'_id':_0x58f656}},_0x1c1683,this['instance'][_0x4685e6(0x367)],{'new':!0x0,'upsert':!0x0}),_0x3de384)j(this[_0x4685e6(0x383)],_0x4685e6(0x652),{'chat':_0x3de384});else{this[_0x4685e6(0x267)][_0x4685e6(0x782)](this['instanceName']+'\x20('+this[_0x4685e6(0x403)][_0x4685e6(0x367)]+'):\x20Erro\x20ao\x20criar\x20ou\x20atualizar\x20o\x20chat');return;}if(_0xa82c91)return this[_0x4685e6(0x267)][_0x4685e6(0x302)](this['instanceName']+'\x20('+this[_0x4685e6(0x403)][_0x4685e6(0x367)]+_0x4685e6(0xf7)),null;if(!this[_0x4685e6(0x3d6)]?.[_0x4685e6(0x534)][_0x4685e6(0x4e6)])return this['logger']['verbose'](this[_0x4685e6(0x383)]+'\x20('+this[_0x4685e6(0x403)]['wuid']+_0x4685e6(0x4be)),null;if(_0x3de384['_id']['includes']('@g.us')&&this[_0x4685e6(0x3d6)]?.[_0x4685e6(0x534)][_0x4685e6(0x111)]===!0x0)return this[_0x4685e6(0x267)][_0x4685e6(0x302)](this[_0x4685e6(0x383)]+'\x20('+this[_0x4685e6(0x403)][_0x4685e6(0x367)]+_0x4685e6(0xd2)),null;if(_0x3de384['leadInfo']){if(_0x3de384[_0x4685e6(0x368)]['desativadoFluxoAte']===0x0||_0x3de384['leadInfo']['atendimentoAberto'])return this['logger'][_0x4685e6(0x302)](this[_0x4685e6(0x383)]+'\x20('+this[_0x4685e6(0x403)][_0x4685e6(0x367)]+_0x4685e6(0x7c2)+_0x58f656+',\x20saindo.'),null;if(_0x3de384[_0x4685e6(0x368)][_0x4685e6(0x168)]>Date[_0x4685e6(0x7b2)]()&&!_0x1e1f36['message_normalized']?.['vote'])return this[_0x4685e6(0x267)][_0x4685e6(0x302)](this[_0x4685e6(0x383)]+'\x20('+this[_0x4685e6(0x403)][_0x4685e6(0x367)]+_0x4685e6(0x54d)+new Date(_0x3de384[_0x4685e6(0x368)]['desativadoFluxoAte'])[_0x4685e6(0x36d)]()+',\x20saindo.'),null;}this[_0x4685e6(0x267)][_0x4685e6(0x302)](this[_0x4685e6(0x383)]+'\x20('+this[_0x4685e6(0x403)][_0x4685e6(0x367)]+_0x4685e6(0x516)),this[_0x4685e6(0x7ff)](_0x1e1f36,_0x314683);}catch(_0x2c3cfc){let _0x754733=_0x4685e6(0x6f0),_0x1df5a1=_0x2c3cfc instanceof Error?_0x2c3cfc[_0x4685e6(0x60b)]:typeof _0x2c3cfc==_0x4685e6(0x5c4)?JSON['stringify'](_0x2c3cfc):_0x2c3cfc,_0x8dae5d=_0x754733+':\x20'+_0x1df5a1;return this[_0x4685e6(0x267)][_0x4685e6(0x782)](this[_0x4685e6(0x383)]+'\x20('+this['instance'][_0x4685e6(0x367)]+_0x4685e6(0x4a0)+_0x8dae5d),null;}}async[a0_0x6d27f9(0x2b8)](_0x8688a4,_0x4c3320){const _0x5ad887=a0_0x6d27f9;if(_0x4c3320[_0x5ad887(0x43a)]){let _0x35f260=_0x8688a4[_0x5ad887(0x5f1)](async _0xc9fabb=>{const _0x36659c=_0x5ad887;try{let _0xb8b432={'_id':_0xc9fabb[_0x36659c(0x3b9)],'owner':_0xc9fabb[_0x36659c(0x115)],'lastcache':0x0};if(Object['keys'](_0xc9fabb)['forEach'](_0x3cf178=>{_0xc9fabb[_0x3cf178]!==null&&(_0xb8b432[_0x3cf178]=_0xc9fabb[_0x3cf178]);}),_0xb8b432['imagechat']===null&&(_0xb8b432[_0x36659c(0x3ea)]=_0x36659c(0x71d)),Object[_0x36659c(0x3ae)](_0xb8b432)[_0x36659c(0x4b3)]>0x0)return await this[_0x36659c(0x4d0)][_0x36659c(0x463)][_0x36659c(0x46a)]({'where':{'_id':_0xc9fabb['_id']}},_0xb8b432,this[_0x36659c(0x403)][_0x36659c(0x367)]);}catch(_0x439feb){let _0x373a90=_0x36659c(0x7e5)+_0xc9fabb[_0x36659c(0x3b9)],_0x12168c=_0x439feb instanceof Error?_0x439feb[_0x36659c(0x60b)]:typeof _0x439feb==_0x36659c(0x5c4)?JSON['stringify'](_0x439feb):_0x439feb,_0x19cf0=_0x373a90+':\x20'+_0x12168c;return this[_0x36659c(0x267)][_0x36659c(0x782)](this[_0x36659c(0x383)]+'\x20('+this[_0x36659c(0x403)][_0x36659c(0x367)]+_0x36659c(0x4a0)+_0x19cf0),null;}}),_0x28f030=(await Promise[_0x5ad887(0x1ea)](_0x35f260))[_0x5ad887(0x3ec)](_0x2dde22=>_0x2dde22!==null)['length'];this[_0x5ad887(0x267)][_0x5ad887(0x302)](this[_0x5ad887(0x383)]+'\x20('+this[_0x5ad887(0x403)][_0x5ad887(0x367)]+_0x5ad887(0x4a0)+_0x28f030+_0x5ad887(0x1cb)+this['instance'][_0x5ad887(0x367)]+_0x5ad887(0x76e));}}async['readMessageBot'](_0x583bf9){const _0x468e84=a0_0x6d27f9;this[_0x468e84(0x267)][_0x468e84(0x302)](this[_0x468e84(0x383)]+'\x20('+this[_0x468e84(0x403)][_0x468e84(0x367)]+_0x468e84(0x273));let _0x240388={'readMessages':[{'remoteJid':_0x583bf9[_0x468e84(0x5a8)][_0x468e84(0x731)]['key'][_0x468e84(0x455)],'fromMe':_0x583bf9[_0x468e84(0x5a8)][_0x468e84(0x731)][_0x468e84(0x663)]['fromMe'],'id':_0x583bf9[_0x468e84(0x5a8)][_0x468e84(0x731)][_0x468e84(0x663)]['id']}]};await this[_0x468e84(0x5a4)](_0x240388);}async[a0_0x6d27f9(0x7ff)](_0x5e9ef6,_0x4aa874){const _0x42a1b9=a0_0x6d27f9;try{let {key:_0x6ea5c9,message_normalized:_0x18e1df}=_0x5e9ef6,_0x10801e=_0x18e1df,_0x37fef7=_0x18e1df[_0x42a1b9(0x4a9)]||_0x18e1df['caption']||_0x18e1df[_0x42a1b9(0x7c9)]||_0x18e1df['name']||'',_0x50b0ba=_0x6ea5c9[_0x42a1b9(0x455)],_0x3d792f=null,_0x375244=this[_0x42a1b9(0x3d6)][_0x42a1b9(0x40f)]['find'](_0x2ce925=>_0x2ce925[_0x42a1b9(0x5f7)]&&_0x37fef7[_0x42a1b9(0x562)](_0x2ce925[_0x42a1b9(0x5f7)]));if(_0x375244&&_0x4aa874==='MESSAGES_UPSERT'){let _0x3ee6c5=await this['repository'][_0x42a1b9(0x43d)][_0x42a1b9(0x206)]({'where':{'_id':_0x375244[_0x42a1b9(0x3b9)]}});if(this[_0x42a1b9(0x267)]['verbose'](this['instanceName']+'\x20('+this[_0x42a1b9(0x403)]['wuid']+_0x42a1b9(0x561)),_0x3ee6c5&&_0x3ee6c5['whoCanUse']?.[_0x42a1b9(0x562)](this[_0x42a1b9(0x403)][_0x42a1b9(0x367)]))_0x3d792f=await this[_0x42a1b9(0x3c5)](_0x3ee6c5,_0x6ea5c9,_0x10801e);else return this['logger'][_0x42a1b9(0x302)](this[_0x42a1b9(0x383)]+'\x20('+this['instance']['wuid']+_0x42a1b9(0x50d)),null;}else this[_0x42a1b9(0x267)][_0x42a1b9(0x302)](this[_0x42a1b9(0x383)]+'\x20('+this[_0x42a1b9(0x403)][_0x42a1b9(0x367)]+_0x42a1b9(0x54c));if(_0x3d792f=await this[_0x42a1b9(0x26f)](_0x50b0ba,_0x10801e),_0x3d792f){this['logger']['verbose'](this[_0x42a1b9(0x383)]+'\x20('+this[_0x42a1b9(0x403)][_0x42a1b9(0x367)]+_0x42a1b9(0x5ea)),!_0x6ea5c9['fromMe']&&_0x3d792f[_0x42a1b9(0x440)]&&this[_0x42a1b9(0x572)](_0x3d792f);let _0xcbdfa5=await this[_0x42a1b9(0x4e4)](_0x3d792f);_0xcbdfa5&&await this[_0x42a1b9(0x146)](_0x3d792f,_0xcbdfa5);}}catch(_0x5f3739){this[_0x42a1b9(0x267)][_0x42a1b9(0x782)](this['instanceName']+'\x20('+this[_0x42a1b9(0x403)]['wuid']+_0x42a1b9(0x2aa)+(_0x5f3739 instanceof Error?_0x5f3739['message']:JSON[_0x42a1b9(0x450)](_0x5f3739,null,0x2)));}}[a0_0x6d27f9(0x3ed)](_0x3212fe,_0x1ae883='',_0x5df274={}){const _0xb1371d=a0_0x6d27f9;return typeof _0x3212fe!=_0xb1371d(0x5c4)||_0x3212fe===null?(_0x1ae883&&(_0x5df274[_0x1ae883]=_0x3212fe),_0x5df274):(Object[_0xb1371d(0x292)](_0x3212fe)[_0xb1371d(0x48c)](([_0x3ae5f7,_0x2a9c05])=>{const _0xa2c854=_0xb1371d;let _0x3ca79c=_0x1ae883?_0x1ae883+'.'+_0x3ae5f7:'_'+_0x3ae5f7;Array[_0xa2c854(0x3b4)](_0x2a9c05)?_0x2a9c05['forEach']((_0x1e3348,_0x3ae15f)=>{const _0x59c459=_0xa2c854;this[_0x59c459(0x3ed)](_0x1e3348,_0x3ca79c+'['+_0x3ae15f+']',_0x5df274);}):typeof _0x2a9c05==_0xa2c854(0x5c4)&&_0x2a9c05!==null?this[_0xa2c854(0x3ed)](_0x2a9c05,_0x3ca79c,_0x5df274):_0x5df274[_0x3ca79c]=String(_0x2a9c05);}),_0x5df274);}[a0_0x6d27f9(0x4e3)](_0x46e94c){const _0x3c876b=a0_0x6d27f9;let _0x408631={};for(let _0x3775e6 of _0x46e94c)typeof _0x3775e6[_0x3c876b(0x552)]==_0x3c876b(0x7fc)&&typeof _0x3775e6[_0x3c876b(0x54a)]==_0x3c876b(0x7fc)&&(_0x408631[_0x3775e6[_0x3c876b(0x552)]]=_0x3775e6[_0x3c876b(0x54a)]);return _0x408631;}async['NextBlock'](_0x20b540){const _0x495cd7=a0_0x6d27f9;if(!this[_0x495cd7(0x3d6)]?.[_0x495cd7(0x534)][_0x495cd7(0x4e6)]||_0x20b540[_0x495cd7(0x538)]!==_0x495cd7(0x389)&&_0x20b540[_0x495cd7(0x682)]==='')return null;let _0x4a01b6=_0x20b540[_0x495cd7(0x5a8)][_0x495cd7(0x23c)]||'start';typeof _0x20b540[_0x495cd7(0x5a8)]['lastCondition']>'u'&&(_0x20b540[_0x495cd7(0x5a8)]['lastCondition']=!0x0);let _0x15db2e=_0x20b540[_0x495cd7(0x5a8)]['lastCondition'];this[_0x495cd7(0x267)]['verbose'](this[_0x495cd7(0x383)]+'\x20('+this[_0x495cd7(0x403)][_0x495cd7(0x367)]+_0x495cd7(0x5c6)+_0x4a01b6+_0x495cd7(0x17a)+_0x15db2e);let _0x2986af=_0x4a01b6==='start'?_0x20b540[_0x495cd7(0x1b2)][_0x495cd7(0x37d)](_0x31d56b=>_0x31d56b['type']===_0x495cd7(0x546)):_0x20b540[_0x495cd7(0x1b2)][_0x495cd7(0x37d)](_0x1e62b0=>_0x1e62b0[_0x495cd7(0x3b9)][_0x495cd7(0x3f4)]()===_0x4a01b6[_0x495cd7(0x3f4)]());if(!_0x2986af)return this[_0x495cd7(0x267)]['error'](this[_0x495cd7(0x383)]+'\x20('+this[_0x495cd7(0x403)][_0x495cd7(0x367)]+_0x495cd7(0x716)+_0x4a01b6),null;let _0x2dd642={'_pushName':_0x20b540?.['chatLog']?.[_0x495cd7(0x731)]?.[_0x495cd7(0x32d)]||'','_sender':this[_0x495cd7(0x403)][_0x495cd7(0x367)]||'',..._0x20b540['chatLog']['realVariables']},_0x20d7be=null;if(_0x20b540['waitingMenu_id']){let _0x3d698f=_0x20b540['chatLog'][_0x495cd7(0x731)][_0x495cd7(0x7c9)],_0x2679e2=_0x20b540['waitingMenu_replyOptions'][_0x495cd7(0x37d)](_0x18c71e=>_0x18c71e[_0x495cd7(0x547)]===_0x3d698f);if(_0x2679e2){let _0x449b07=_0x2679e2[_0x495cd7(0x2e6)];if(_0x20d7be=_0x20b540[_0x495cd7(0x1b2)][_0x495cd7(0x37d)](_0x3bd18d=>_0x3bd18d[_0x495cd7(0x5ee)]===_0x449b07&&_0x3bd18d[_0x495cd7(0x4d7)]===0x1),_0x2986af[_0x495cd7(0x69b)]['pollOnReplyDelete']){let _0x20114a={'id':_0x20b540['waitingMenu_id'],'remoteJid':_0x20b540[_0x495cd7(0x455)],'fromMe':!0x0};await this[_0x495cd7(0x3cb)](_0x20114a);}if(_0x2986af['uazapi'][_0x495cd7(0x204)]&&_0x2986af['uazapi'][_0x495cd7(0x165)]&&_0x2986af['uazapi']['menuType']===_0x495cd7(0x47a)){let _0x3b661d={'number':_0x20b540[_0x495cd7(0x455)],'options':{'delay':0x0},'textMessage':{'text':'*Pergunta*:\x20\x0a'+_0x20b540[_0x495cd7(0x742)]+_0x495cd7(0x178)+_0x3d698f}};await this[_0x495cd7(0x5d0)](_0x3b661d);}_0x20b540[_0x495cd7(0x538)]=_0x495cd7(0x389),_0x20b540['waitingMenu_id']='',_0x20b540[_0x495cd7(0x742)]='',_0x20b540['waitingMenu_replyOptions']=[];}else{this['logger'][_0x495cd7(0x302)](this[_0x495cd7(0x383)]+'\x20('+this[_0x495cd7(0x403)][_0x495cd7(0x367)]+_0x495cd7(0x249));let _0x1bfa6b={'activatedCount':_0x20b540[_0x495cd7(0x5a8)][_0x495cd7(0x193)][_0x495cd7(0x3ec)](_0xa9bc11=>String(_0xa9bc11[_0x495cd7(0x234)])===String(_0x4a01b6))['length'],'moreLogs':[_0x495cd7(0x568)]};if(_0x2986af[_0x495cd7(0x69b)][_0x495cd7(0x785)]){let _0x3abb73={'number':_0x20b540[_0x495cd7(0x455)],'options':{'delay':0x0},'textMessage':{'text':_0x2986af[_0x495cd7(0x69b)][_0x495cd7(0x785)]}};await this['textMessage'](_0x3abb73);}if(_0x2986af['maxActives']!==void 0x0&&_0x1bfa6b[_0x495cd7(0x551)]>=_0x2986af[_0x495cd7(0x25c)]){let _0x272296=Date[_0x495cd7(0x7b2)](),_0x4e6261=_0x2986af[_0x495cd7(0x4d4)]??0xa;isNaN(_0x4e6261)&&(_0x4e6261=0xa);let _0x3d75d8=_0x272296+_0x4e6261*0x3c*0x3e8;_0x1bfa6b['newStoppedUntil']=_0x3d75d8,_0x1bfa6b[_0x495cd7(0x515)][_0x495cd7(0x6b3)](_0x495cd7(0x4c3)),this[_0x495cd7(0x597)](_0x20b540,_0x3d75d8),_0x20b540[_0x495cd7(0x682)]='',_0x20b540[_0x495cd7(0x742)]='',_0x20b540[_0x495cd7(0x53b)]=[];}return this['updateConversation'](_0x20b540,_0x2986af,_0x1bfa6b,!0x0),null;}}if(_0x15db2e&&_0x2986af['next_groupId']&&!_0x20b540[_0x495cd7(0x682)]){let _0x18c3b6=_0x20b540[_0x495cd7(0x1b2)][_0x495cd7(0x3ec)](_0x1dfa95=>_0x1dfa95[_0x495cd7(0x5ee)][_0x495cd7(0x3f4)]()===_0x2986af[_0x495cd7(0x2e6)][_0x495cd7(0x3f4)]())[_0x495cd7(0x349)]((_0x5606f1,_0x196371)=>_0x5606f1[_0x495cd7(0x4d7)]-_0x196371['order']);_0x18c3b6[_0x495cd7(0x4b3)]>0x0&&(_0x20d7be=_0x18c3b6[0x0]);}if(!_0x20d7be){let _0x4322ab=_0x2986af[_0x495cd7(0x5ee)],_0x447c10=_0x20b540[_0x495cd7(0x1b2)][_0x495cd7(0x3ec)](_0x1da43a=>_0x1da43a[_0x495cd7(0x5ee)]===_0x4322ab&&_0x1da43a[_0x495cd7(0x4d7)]>_0x2986af[_0x495cd7(0x4d7)])[_0x495cd7(0x349)]((_0x48befa,_0x22bbe4)=>_0x48befa[_0x495cd7(0x4d7)]-_0x22bbe4[_0x495cd7(0x4d7)]);_0x447c10[_0x495cd7(0x4b3)]>0x0&&(_0x20d7be=_0x447c10[0x0]);}if(!_0x20d7be)return _0x20b540['status']=_0x495cd7(0x5a3),null;_0x20b540['chatLog'][_0x495cd7(0x6ea)]=_0x2dd642;let _0x4e1327=JSON[_0x495cd7(0x610)](JSON[_0x495cd7(0x450)](_0x20d7be));return this[_0x495cd7(0x7b5)](_0x4e1327,_0x20b540[_0x495cd7(0x5a8)][_0x495cd7(0x6ea)]),_0x20b540[_0x495cd7(0x5a8)][_0x495cd7(0x23c)]=_0x4e1327['_id'],_0x20b540[_0x495cd7(0x5a8)][_0x495cd7(0x5a2)]=!0x0,_0x4e1327;}[a0_0x6d27f9(0x614)](_0x57c812,_0x4c9bc1){return _0x57c812['replace'](/\{\{([^}]+)\}\}/g,(_0xeafc37,_0x3e19e6)=>_0x4c9bc1[_0x3e19e6]||'');}[a0_0x6d27f9(0x7b5)](_0x21d4e8,_0x225c22){const _0xdfeace=a0_0x6d27f9;for(let _0x584fd0 in _0x21d4e8)typeof _0x21d4e8[_0x584fd0]==_0xdfeace(0x7fc)?_0x21d4e8[_0x584fd0]=this[_0xdfeace(0x614)](_0x21d4e8[_0x584fd0],_0x225c22):typeof _0x21d4e8[_0x584fd0]=='object'&&this[_0xdfeace(0x7b5)](_0x21d4e8[_0x584fd0],_0x225c22);}async[a0_0x6d27f9(0x24e)](_0x46040f,_0x9aa044){const _0x544176=a0_0x6d27f9;let _0x289b46=_0x9aa044[_0x544176(0x3b9)];if(_0x46040f[_0x544176(0x5a8)]&&_0x46040f[_0x544176(0x5a8)]['blockLogs']){let _0x29d08e=_0x46040f[_0x544176(0x5a8)][_0x544176(0x193)]['filter'](_0x149cc6=>String(_0x149cc6[_0x544176(0x234)])===String(_0x289b46))[_0x544176(0x189)]();if(_0x29d08e&&_0x29d08e['error']&&_0x9aa044[_0x544176(0x41f)])return _0x46040f[_0x544176(0x538)]=_0x544176(0x5a3),await this['saveConversationToDatabase'](_0x46040f),null;}if(_0x9aa044[_0x544176(0x5cb)]==='uazapi'&&_0x9aa044[_0x544176(0x69b)][_0x544176(0x2a5)]===_0x544176(0x172)&&_0x46040f[_0x544176(0x682)])return _0x46040f[_0x544176(0x5a8)][_0x544176(0x23c)]=_0x289b46,await this['saveConversationToDatabase'](_0x46040f),null;let _0x1c3e67=await this['NextBlock'](_0x46040f);if(_0x46040f[_0x544176(0x5a8)]&&_0x46040f[_0x544176(0x5a8)][_0x544176(0x193)]){let _0x1b5909=_0x46040f[_0x544176(0x5a8)]['blockLogs'][_0x544176(0x3ec)](_0x4bdbd9=>String(_0x4bdbd9[_0x544176(0x234)])===String(_0x289b46))[_0x544176(0x4b3)];if(_0x9aa044[_0x544176(0x25c)]!==void 0x0&&_0x1b5909>=_0x9aa044[_0x544176(0x25c)]){let _0x224311=Date[_0x544176(0x7b2)](),_0x55ebe5=_0x9aa044[_0x544176(0x4d4)]??0xa;isNaN(_0x55ebe5)&&(_0x55ebe5=0xa);let _0x15f223=_0x224311+_0x55ebe5*0x3c*0x3e8,_0x2a4457={'newStoppedUntil':_0x15f223};return this[_0x544176(0x597)](_0x46040f,_0x15f223),this[_0x544176(0x1db)](_0x46040f,_0x9aa044,_0x2a4457,!0x0),null;}}_0x1c3e67&&_0x1c3e67[_0x544176(0x5cb)]!==_0x544176(0x41a)&&await this[_0x544176(0x146)](_0x46040f,_0x1c3e67),_0x1c3e67||await this['saveConversationToDatabase'](_0x46040f),_0x1c3e67&&_0x1c3e67['type']==='save'&&(_0x46040f[_0x544176(0x5a8)]['lastBlockId']=_0x289b46,await this[_0x544176(0x6a7)](_0x46040f));}async[a0_0x6d27f9(0x146)](_0x4572e1,_0x47bb37){const _0x3233b4=a0_0x6d27f9;try{let _0x4e522a=_0x47bb37['type'];this[_0x3233b4(0x267)][_0x3233b4(0x302)](this[_0x3233b4(0x383)]+'\x20('+this['instance'][_0x3233b4(0x367)]+_0x3233b4(0xea)+_0x4e522a);let _0x4ece81={'uazapi':()=>this[_0x3233b4(0x14f)](_0x4572e1,_0x47bb37),'save':()=>this[_0x3233b4(0x495)](_0x4572e1,_0x47bb37),'stop':()=>this[_0x3233b4(0x259)](_0x4572e1,_0x47bb37),'condition':()=>this['processConditions'](_0x4572e1,_0x47bb37),'varedit':()=>this[_0x3233b4(0x5ba)](_0x4572e1,_0x47bb37),'apirequest':()=>this['processApiRequest'](_0x4572e1,_0x47bb37),'goToFlow':()=>this[_0x3233b4(0x3c9)](_0x4572e1,_0x47bb37),'scheduleFlow':()=>this[_0x3233b4(0x1d4)](_0x4572e1,_0x47bb37),'awaitSeconds':()=>this[_0x3233b4(0x3e0)](_0x4572e1,_0x47bb37),'clearVariables':()=>this['processclearVariables'](_0x4572e1,_0x47bb37)}[_0x4e522a];_0x4ece81&&await _0x4ece81();}catch(_0x500465){this[_0x3233b4(0x267)]['error'](this[_0x3233b4(0x383)]+'\x20('+this[_0x3233b4(0x403)][_0x3233b4(0x367)]+_0x3233b4(0x508)+(_0x500465 instanceof Error?_0x500465[_0x3233b4(0x60b)]:JSON[_0x3233b4(0x450)](_0x500465,null,0x2)));}}async['processawaitSeconds'](_0x15d889,_0x5212cd){const _0x3f013e=a0_0x6d27f9;if(this[_0x3f013e(0x267)][_0x3f013e(0x302)](this[_0x3f013e(0x383)]+'\x20('+this[_0x3f013e(0x403)][_0x3f013e(0x367)]+_0x3f013e(0x70e)),!_0x15d889||!_0x5212cd)return this[_0x3f013e(0x267)]['error'](this[_0x3f013e(0x383)]+'\x20('+this[_0x3f013e(0x403)][_0x3f013e(0x367)]+_0x3f013e(0x342)),null;let _0x1eb524=+_0x5212cd['awaitSeconds'];isNaN(_0x1eb524)&&(_0x1eb524=0x0),_0x1eb524=Math['min'](_0x1eb524,0x3c),await(0x0,w[_0x3f013e(0x7b6)])(_0x1eb524*0x3e8);let _0x30d8a1={'moreLogs':[_0x3f013e(0x669)+_0x1eb524+_0x3f013e(0x6e5)]};return await this['updateConversation'](_0x15d889,_0x5212cd,_0x30d8a1),_0x1eb524;}async['processclearVariables'](_0x111f6d,_0xc1b8d9){const _0x653f11=a0_0x6d27f9;if(this[_0x653f11(0x267)][_0x653f11(0x302)](this['instanceName']+'\x20('+this['instance'][_0x653f11(0x367)]+'):\x20Entrou\x20na\x20função\x20clearVariables'),!_0x111f6d||!_0xc1b8d9)return this['logger']['error'](this['instanceName']+'\x20('+this[_0x653f11(0x403)]['wuid']+'):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos'),null;let _0x7bffa8=[];if(_0xc1b8d9[_0x653f11(0x38f)]['trim']()===_0x653f11(0x5fd)){let _0x49d3af=['_sender',_0x653f11(0x41c),_0x653f11(0x7dc),_0x653f11(0x41e),_0x653f11(0x351),'_id','_fromMe'];_0x7bffa8=Object[_0x653f11(0x3ae)](_0x111f6d[_0x653f11(0x5a8)]['realVariables'])[_0x653f11(0x3ec)](_0x19324f=>_0x19324f[_0x653f11(0x1e3)]('_')&&!_0x49d3af['includes'](_0x19324f));}else _0x7bffa8=_0xc1b8d9[_0x653f11(0x38f)]['split']('|')['map'](_0x3dfd13=>(_0x3dfd13=_0x3dfd13[_0x653f11(0x78b)](/[{}]/g,'')[_0x653f11(0x3ab)](),_0x3dfd13[_0x653f11(0x1e3)]('_')?_0x3dfd13:'_'+_0x3dfd13));let _0xbd0cfc=[];_0x7bffa8['forEach'](_0x1c19c3=>{const _0x2f6dd3=_0x653f11;_0x1c19c3 in _0x111f6d[_0x2f6dd3(0x5a8)][_0x2f6dd3(0x6ea)]&&(delete _0x111f6d['chatLog'][_0x2f6dd3(0x6ea)][_0x1c19c3],_0xbd0cfc[_0x2f6dd3(0x6b3)](_0x1c19c3));}),_0xbd0cfc[_0x653f11(0x4b3)]>0x0?this[_0x653f11(0x267)]['verbose'](this[_0x653f11(0x383)]+'\x20('+this[_0x653f11(0x403)]['wuid']+_0x653f11(0x430)+_0xbd0cfc[_0x653f11(0x34b)](',\x20')):this[_0x653f11(0x267)][_0x653f11(0x302)](this[_0x653f11(0x383)]+'\x20('+this[_0x653f11(0x403)]['wuid']+_0x653f11(0x288));let _0x11b9c0={'moreLogs':[_0x653f11(0x1a5)+_0xbd0cfc['join'](',\x20')]};return await this[_0x653f11(0x1db)](_0x111f6d,_0xc1b8d9,_0x11b9c0),null;}async[a0_0x6d27f9(0x1d4)](_0xb61512,_0xfb7ef5){const _0x382852=a0_0x6d27f9;if(this[_0x382852(0x267)][_0x382852(0x302)](this['instanceName']+'\x20('+this[_0x382852(0x403)][_0x382852(0x367)]+_0x382852(0x575)),!_0xb61512||!_0xfb7ef5)return this[_0x382852(0x267)][_0x382852(0x782)](this[_0x382852(0x383)]+'\x20('+this[_0x382852(0x403)][_0x382852(0x367)]+_0x382852(0x342)),null;let _0x4e8bb9=_0xb61512['remoteJid'];_0xfb7ef5[_0x382852(0x18b)][_0x382852(0x455)]&&_0xfb7ef5[_0x382852(0x18b)][_0x382852(0x455)][_0x382852(0x3ab)]()!==''&&(_0x4e8bb9=_0xfb7ef5[_0x382852(0x69b)][_0x382852(0x455)]['trim']());let _0x1d699f=_0xfb7ef5[_0x382852(0x18b)][_0x382852(0x759)]*0xea60,_0x4cc347=Date[_0x382852(0x7b2)]()+_0x1d699f,_0x390565={'status':_0x382852(0x5ab),'info':_0x382852(0x1c1)+_0xb61512[_0x382852(0x552)],'remoteJids':[_0x4e8bb9],'when':_0x4cc347,'delaySecMin':0x0,'delaySecMax':0x0,'type':_0x382852(0x43d),'flowName':_0xfb7ef5[_0x382852(0x18b)][_0x382852(0x5e2)]};this[_0x382852(0x268)](_0x390565);let _0x2fb92f=await this[_0x382852(0x4e4)](_0xb61512);_0x2fb92f&&await this[_0x382852(0x146)](_0xb61512,_0x2fb92f);}async[a0_0x6d27f9(0x3c9)](_0x544133,_0x4d1637){const _0x366cab=a0_0x6d27f9;if(this['logger']['verbose'](this[_0x366cab(0x383)]+'\x20('+this[_0x366cab(0x403)]['wuid']+_0x366cab(0x56f)),!_0x544133||!_0x4d1637)return this[_0x366cab(0x267)][_0x366cab(0x782)](this['instanceName']+'\x20('+this[_0x366cab(0x403)][_0x366cab(0x367)]+_0x366cab(0x342)),null;await this[_0x366cab(0x1db)](_0x544133,_0x4d1637,{},!0x0,!0x0);let _0x1b576f=_0x4d1637[_0x366cab(0x798)];_0x544133=await this['createConversationforgoToFlow'](_0x1b576f,_0x544133[_0x366cab(0x455)],_0x544133[_0x366cab(0x5a8)][_0x366cab(0x6ea)]);let _0x420ae6=await this[_0x366cab(0x4e4)](_0x544133);_0x420ae6&&await this[_0x366cab(0x146)](_0x544133,_0x420ae6);}async[a0_0x6d27f9(0x13d)](_0x18a309,_0x53a411,_0x465e94){const _0x4b5f36=a0_0x6d27f9;this[_0x4b5f36(0x267)][_0x4b5f36(0x302)](this[_0x4b5f36(0x383)]+'\x20('+this[_0x4b5f36(0x403)][_0x4b5f36(0x367)]+_0x4b5f36(0x772));try{let _0x19909c=this[_0x4b5f36(0x3d6)][_0x4b5f36(0x40f)]['find'](_0x24c59e=>_0x24c59e[_0x4b5f36(0x3b9)]===_0x18a309);_0x19909c||this[_0x4b5f36(0x267)][_0x4b5f36(0x782)](this[_0x4b5f36(0x383)]+'\x20('+this['instance'][_0x4b5f36(0x367)]+_0x4b5f36(0x118)+_0x18a309+'\x27\x20não\x20encontrado\x20na\x20memória');let _0x164801=await this['repository']['flow'][_0x4b5f36(0x206)]({'where':{'_id':_0x19909c['_id']}});if(!_0x164801||!_0x164801['whoCanUse']?.['includes'](this[_0x4b5f36(0x403)][_0x4b5f36(0x367)]))throw this[_0x4b5f36(0x267)][_0x4b5f36(0x782)](this[_0x4b5f36(0x383)]+'\x20('+this['instance'][_0x4b5f36(0x367)]+'):\x20Flow\x20\x27'+_0x18a309+_0x4b5f36(0x437)),new m(_0x4b5f36(0x291)+_0x18a309+_0x4b5f36(0x437));let _0xa3ea2c=require(_0x4b5f36(0x5bc))[_0x4b5f36(0x3dc)],_0x23c7fd=Date[_0x4b5f36(0x7b2)](),_0x23868c='start',_0x2c78a1={},_0x103c4b={},_0x424df9=this[_0x4b5f36(0x3d6)][_0x4b5f36(0x40f)][_0x4b5f36(0x37d)](_0x407549=>_0x407549[_0x4b5f36(0x3b9)]===_0x164801[_0x4b5f36(0x3b9)]?.['toString']()),_0x117584=_0x424df9?.['minutesToClose']??_0x164801['minutesToClose']??0x0,_0x76b4d4=_0x424df9?.[_0x4b5f36(0x440)]??_0x164801[_0x4b5f36(0x440)]??!0x1,_0x15437c={'flowId':_0x19909c[_0x4b5f36(0x3b9)],'readMessages':_0x19909c[_0x4b5f36(0x440)],..._0x164801,'chatLog':null},_0x4d7154={'lastReceivedMessage':_0x2c78a1,'lastSendMessage':_0x103c4b,'lastBlockId':_0x23868c,'lastCondition':!0x0,'realVariables':_0x465e94};_0x15437c[_0x4b5f36(0x5a8)]=_0x4d7154,_0x15437c[_0x4b5f36(0x5a8)][_0x4b5f36(0x6ea)]={..._0x465e94},delete _0x15437c[_0x4b5f36(0x3b9)],_0x15437c[_0x4b5f36(0x3b9)]=new _0xa3ea2c(),_0x15437c[_0x4b5f36(0x4b5)]=_0x23c7fd,_0x15437c[_0x4b5f36(0x538)]='open',_0x15437c[_0x4b5f36(0x455)]=_0x53a411,_0x15437c[_0x4b5f36(0x19f)]=_0x117584,_0x15437c[_0x4b5f36(0x440)]=_0x76b4d4;let _0x4648d2=await this[_0x4b5f36(0x4d0)][_0x4b5f36(0x49b)][_0x4b5f36(0x46a)](_0x15437c[_0x4b5f36(0x3b9)],_0x15437c,this[_0x4b5f36(0x403)][_0x4b5f36(0x367)]);return this[_0x4b5f36(0x267)][_0x4b5f36(0x302)](this[_0x4b5f36(0x383)]+'\x20('+this[_0x4b5f36(0x403)][_0x4b5f36(0x367)]+_0x4b5f36(0x1df)),_0x4648d2?_0x15437c:null;}catch(_0xa27f03){let _0xb5d1b8=_0x4b5f36(0x7d7),_0x3dbe80=_0xa27f03 instanceof Error?_0xa27f03[_0x4b5f36(0x60b)]:typeof _0xa27f03==_0x4b5f36(0x5c4)?JSON[_0x4b5f36(0x450)](_0xa27f03):_0xa27f03,_0x5532ed=_0xb5d1b8+':\x20'+_0x3dbe80;throw this[_0x4b5f36(0x267)][_0x4b5f36(0x782)](this[_0x4b5f36(0x383)]+'\x20('+this[_0x4b5f36(0x403)][_0x4b5f36(0x367)]+_0x4b5f36(0x4a0)+_0x5532ed),new m(_0x5532ed);}}async['processApiRequest'](_0x2b84fb,_0x31e5f2){const _0x4d62c6=a0_0x6d27f9;let _0x28c089,_0x348e38;try{let _0x1528a2=_0x31e5f2[_0x4d62c6(0x680)];if(!_0x1528a2||!_0x1528a2[_0x4d62c6(0x4ec)]||!_0x1528a2[_0x4d62c6(0x113)])throw new Error('Falta\x20informação\x20para\x20a\x20chamada\x20API');let _0x2b985d;([_0x4d62c6(0x72e),'https://api.openai.com/v1/images/generations',_0x4d62c6(0x1d3)]['some'](_0x367aa1=>_0x1528a2[_0x4d62c6(0x4ec)]['includes'](_0x367aa1))||_0x1528a2[_0x4d62c6(0x184)])&&(_0x2b985d=_0x4d62c6(0x6ff));let _0x3fce06='\u205f',_0x82c4ac;try{_0x82c4ac=JSON[_0x4d62c6(0x610)](_0x1528a2[_0x4d62c6(0x2a3)][_0x4d62c6(0x78b)](new RegExp(_0x3fce06,'g'),''));}catch(_0x34b26c){throw _0x34b26c;}let _0x2cd410={'method':_0x1528a2[_0x4d62c6(0x113)],'url':_0x1528a2[_0x4d62c6(0x4ec)],'headers':_0x1528a2[_0x4d62c6(0x733)]||{},..._0x1528a2['method'][_0x4d62c6(0x78d)]()!==_0x4d62c6(0x20c)&&_0x1528a2[_0x4d62c6(0x2a3)]?{'data':JSON['parse'](_0x1528a2[_0x4d62c6(0x2a3)][_0x4d62c6(0x78b)](new RegExp(_0x3fce06,'g'),''))}:{},..._0x2b985d&&{'responseType':_0x2b985d}},_0x252b91=await(0x0,Q[_0x4d62c6(0x49c)])(_0x2cd410),_0x5c7b94=_0x252b91[_0x4d62c6(0x732)][_0x4d62c6(0x553)];if(_0x5c7b94&&_0x5c7b94[_0x4d62c6(0x562)](_0x4d62c6(0x2ee))||typeof _0x252b91[_0x4d62c6(0x462)]=='string'){if(typeof _0x252b91[_0x4d62c6(0x462)]==_0x4d62c6(0x7fc)){let _0x1f59aa=_0x252b91['data'][_0x4d62c6(0x78b)](/[\u200B-\u200D\uFEFF\u00A0\u2060\u205F]/g,'')['trim']();try{_0x28c089=JSON[_0x4d62c6(0x610)](_0x1f59aa);}catch(_0x1cbc22){this[_0x4d62c6(0x267)]['error'](_0x4d62c6(0x1aa)+_0x1cbc22[_0x4d62c6(0x60b)]),_0x28c089={'_apiResponse':_0x252b91['data']};}}else _0x28c089=_0x252b91['data'];let _0x1036d4=_0x2b84fb[_0x4d62c6(0x5a8)][_0x4d62c6(0x6ea)],_0x1d6808=this[_0x4d62c6(0x3ed)](_0x28c089);return Object[_0x4d62c6(0x6cc)](_0x1036d4,_0x1d6808),_0x2b84fb[_0x4d62c6(0x5a8)][_0x4d62c6(0x6ea)]=_0x1036d4,_0x348e38={'error':!0x1,'apiResponse':_0x28c089},this[_0x4d62c6(0x1db)](_0x2b84fb,_0x31e5f2,_0x348e38),_0x28c089;}if(_0x5c7b94&&(_0x5c7b94[_0x4d62c6(0x562)](_0x4d62c6(0x7bf))||_0x5c7b94[_0x4d62c6(0x562)](_0x4d62c6(0x2c9))||_0x5c7b94[_0x4d62c6(0x562)](_0x4d62c6(0x4bd))||_0x5c7b94[_0x4d62c6(0x562)](_0x4d62c6(0x6eb)))){this['logger'][_0x4d62c6(0x302)](this[_0x4d62c6(0x383)]+'\x20('+this[_0x4d62c6(0x403)][_0x4d62c6(0x367)]+_0x4d62c6(0x45a)+_0x5c7b94);let _0x4d5e3e=(0x0,fe['v4'])(),_0x5e74c8='',_0x4c7202={'image/jpeg':'.jpg','image/png':_0x4d62c6(0x433),'image/gif':_0x4d62c6(0x14b),'image/webp':_0x4d62c6(0x164),'image/svg+xml':_0x4d62c6(0x644),'audio/mpeg':'.mp3','audio/ogg':_0x4d62c6(0x599),'audio/wav':_0x4d62c6(0x655),'video/mp4':'.mp4','video/webm':_0x4d62c6(0x514),'video/ogg':'.ogv','text/plain':_0x4d62c6(0x747),'application/pdf':_0x4d62c6(0x2bc),'application/msword':_0x4d62c6(0x5fb),'application/vnd.openxmlformats-officedocument.wordprocessingml.document':_0x4d62c6(0x695),'application/vnd.ms-excel':_0x4d62c6(0x5e6),'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet':'.xlsx','application/vnd.ms-powerpoint':_0x4d62c6(0x7ae),'application/vnd.openxmlformats-officedocument.presentationml.presentation':'.pptx'};_0x4c7202[_0x5c7b94]?(_0x5e74c8=_0x4c7202[_0x5c7b94],this['logger'][_0x4d62c6(0x302)](this['instanceName']+'\x20('+this[_0x4d62c6(0x403)][_0x4d62c6(0x367)]+_0x4d62c6(0x3a5)+_0x5e74c8)):(_0x5e74c8=_0x4d62c6(0x5eb),this[_0x4d62c6(0x267)]['verbose'](this[_0x4d62c6(0x383)]+'\x20('+this[_0x4d62c6(0x403)][_0x4d62c6(0x367)]+_0x4d62c6(0x5e3)+_0x5e74c8)),_0x4d5e3e+=_0x5e74c8,this[_0x4d62c6(0x267)][_0x4d62c6(0x302)](this['instanceName']+'\x20('+this[_0x4d62c6(0x403)]['wuid']+_0x4d62c6(0x29d)+_0x4d5e3e);let _0x4c1685=this['configService'][_0x4d62c6(0x693)](_0x4d62c6(0x617))['URL'];if(!_0x4c1685){let _0x4150a5=this[_0x4d62c6(0x14e)][_0x4d62c6(0x693)](_0x4d62c6(0x713));_0x4c1685='https://'+(_0x4150a5&&_0x4150a5[_0x4d62c6(0x280)][_0x4d62c6(0x48d)]('/')[0x4]);}let _0x4d4020=Buffer[_0x4d62c6(0x4db)](_0x252b91[_0x4d62c6(0x462)]);await this[_0x4d62c6(0x14a)](_0x4d4020,_0x4d5e3e);let _0x31fd0a=_0x4d62c6(0x125)+_0x4d5e3e;_0x31fd0a=''+_0x4c1685+_0x31fd0a,_0x28c089={'fileUrl':_0x31fd0a},_0x2b84fb[_0x4d62c6(0x5a8)][_0x4d62c6(0x6ea)][_0x4d62c6(0x65e)]=_0x31fd0a;let _0x1e0726=_0x2b84fb[_0x4d62c6(0x5a8)]['realVariables'],_0x591620=this[_0x4d62c6(0x3ed)](_0x28c089);return Object[_0x4d62c6(0x6cc)](_0x1e0726,_0x591620),_0x2b84fb['chatLog']['realVariables']=_0x1e0726,_0x348e38={'error':!0x1,'apiResponse':{'fileUrl':_0x31fd0a}},this[_0x4d62c6(0x1db)](_0x2b84fb,_0x31e5f2,_0x348e38),_0x28c089;}}catch(_0x40ae8d){this[_0x4d62c6(0x267)][_0x4d62c6(0x782)]('Erro\x20ao\x20processar\x20a\x20chamada\x20API:'+_0x40ae8d[_0x4d62c6(0x60b)]),_0x40ae8d[_0x4d62c6(0x5ed)]&&(_0x28c089=_0x40ae8d['response'][_0x4d62c6(0x462)]);let _0x393f39=_0x2b84fb[_0x4d62c6(0x5a8)][_0x4d62c6(0x6ea)],_0x317625=this[_0x4d62c6(0x3ed)](_0x28c089);return Object[_0x4d62c6(0x6cc)](_0x393f39,_0x317625),_0x2b84fb[_0x4d62c6(0x5a8)][_0x4d62c6(0x6ea)]=_0x393f39,_0x348e38={'error':!0x0,'errorLog':_0x40ae8d[_0x4d62c6(0x3f4)](),'apiResponse':_0x28c089},this[_0x4d62c6(0x1db)](_0x2b84fb,_0x31e5f2,_0x348e38),{'success':!0x1};}}['applyvaredit'](_0x5c5049,_0x1d0f11){const _0x49838e=a0_0x6d27f9;let _0x506702=_0x105e84=>{const _0x25400f=a0_0x3485;let _0x42c909=_0x105e84[_0x25400f(0x78b)](/[^0-9.,-]/g,'')['replace'](',','.'),_0x5dc4fd=parseFloat(_0x42c909);return isNaN(_0x5dc4fd)?null:_0x5dc4fd;},_0xa9a1f9=_0x1d0f11['firstValue'],_0x2a5c6b=_0x1d0f11[_0x49838e(0x421)];typeof _0xa9a1f9==_0x49838e(0x7fc)&&(_0xa9a1f9=this[_0x49838e(0x614)](_0xa9a1f9,_0x5c5049[_0x49838e(0x5a8)][_0x49838e(0x6ea)])??''),typeof _0x2a5c6b==_0x49838e(0x7fc)&&(_0x2a5c6b=this['replaceVariables'](_0x2a5c6b,_0x5c5049['chatLog'][_0x49838e(0x6ea)])??'');let _0x59f28d=null;if(!_0x1d0f11[_0x49838e(0x380)])return null;switch(this[_0x49838e(0x267)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x49838e(0x367)]+_0x49838e(0x5cd)+_0xa9a1f9),this[_0x49838e(0x267)][_0x49838e(0x302)](this[_0x49838e(0x383)]+'\x20('+this[_0x49838e(0x403)]['wuid']+_0x49838e(0x625)+_0x2a5c6b),_0x1d0f11[_0x49838e(0x380)]){case'+':case'-':case'*':case'/':let _0x5281c1=_0x506702(_0xa9a1f9||'0'),_0x21d554=_0x506702(_0x2a5c6b||'0');if(_0x5281c1===null)return null;switch(_0x1d0f11[_0x49838e(0x380)]){case'+':_0x59f28d=_0x5281c1+(_0x21d554??0x0);break;case'-':_0x59f28d=_0x5281c1-(_0x21d554??0x0);break;case'*':_0x59f28d=_0x5281c1*(_0x21d554??0x1);break;case'/':_0x21d554!==0x0&&(_0x59f28d=_0x5281c1/(_0x21d554??0x1));break;}break;case'findAndReplace':case _0x49838e(0x1f2):let _0x120a5e=_0x2a5c6b,_0x1d8de3=_0x1d0f11['replaceValue'];if(typeof _0x1d8de3=='string'&&(_0x1d8de3=this['replaceVariables'](_0x1d8de3,_0x5c5049[_0x49838e(0x5a8)][_0x49838e(0x6ea)])??''),_0x120a5e&&_0x1d8de3!==void 0x0){let _0x45b796=_0x1d0f11[_0x49838e(0x380)]==='findAndReplace'?new RegExp(_0x120a5e[_0x49838e(0x78b)](/[-\/\\^$*+?.()|[\]{}]/g,_0x49838e(0x66a)),'g'):new RegExp(_0x120a5e,'g');_0x59f28d=_0xa9a1f9[_0x49838e(0x78b)](_0x45b796,_0x1d8de3);}else console[_0x49838e(0x705)]('Valor\x20de\x20find\x20ou\x20replace\x20ausente');break;case _0x49838e(0x6f1):_0x59f28d=_0x2a5c6b;break;case _0x49838e(0x45b):let _0x42ef49=_0xa9a1f9[_0x49838e(0x66f)](new RegExp(_0x2a5c6b||''));_0x59f28d=_0x42ef49?_0x42ef49[0x0]:'';break;case _0x49838e(0x721):_0x59f28d=_0xa9a1f9[_0x49838e(0x5cc)](0x0,parseInt(_0x2a5c6b||'0'));break;case _0x49838e(0x2b6):let _0x55c655=parseInt(_0x2a5c6b||'0');_0x59f28d=_0xa9a1f9[_0x49838e(0x5cc)](_0xa9a1f9[_0x49838e(0x4b3)]-_0x55c655);break;case _0x49838e(0x461):let _0x322408=_0x506702(_0xa9a1f9),_0x2e08d0=parseInt(_0x2a5c6b||'0');_0x2e08d0=Math[_0x49838e(0x64c)](_0x2e08d0),_0x322408!==null?_0x59f28d=_0x322408['toLocaleString'](_0x49838e(0x74c),{'minimumFractionDigits':_0x2e08d0,'maximumFractionDigits':_0x2e08d0}):(console['warn'](_0x49838e(0x456)+_0xa9a1f9),_0x59f28d=null);break;case _0x49838e(0x54b):let _0x42c020=_0x506702(_0xa9a1f9);_0x42c020!==null?_0x59f28d=_0x42c020[_0x49838e(0x36d)](_0x49838e(0x74c),{'style':_0x49838e(0x606),'currency':_0x49838e(0x2e5)}):(console['warn']('Valor\x20inválido\x20para\x20conversão\x20em\x20BRL:\x20'+_0xa9a1f9),_0x59f28d=null);break;case'upperCase':_0x59f28d=_0xa9a1f9[_0x49838e(0x78d)]();break;case _0x49838e(0x4e2):_0x59f28d=_0xa9a1f9[_0x49838e(0x1b4)]();break;case'capitalizedWords':_0x59f28d=_0xa9a1f9[_0x49838e(0x48d)]('\x20')[_0x49838e(0x5f1)](_0xf79618=>_0xf79618[_0x49838e(0x2c8)](0x0)[_0x49838e(0x78d)]()+_0xf79618['slice'](0x1)[_0x49838e(0x1b4)]())[_0x49838e(0x34b)]('\x20');break;case'trimmed':_0x59f28d=_0xa9a1f9[_0x49838e(0x3ab)]();break;default:_0x59f28d=_0xa9a1f9;}return _0x59f28d!==null?_0x59f28d[_0x49838e(0x3f4)]():null;}async[a0_0x6d27f9(0x5ba)](_0x1d6eec,_0x31cf76){const _0x1425b2=a0_0x6d27f9;try{let _0xbc4f4b=_0x1d6eec['varedits']?.[_0x1425b2(0x3ec)](_0x3b76bf=>_0x3b76bf[_0x1425b2(0x234)]===_0x31cf76['_id']?.[_0x1425b2(0x3f4)]())||[],_0xdaf82b=_0x31cf76['saveVariable'],_0x39eb80=null,_0x212eba=[],_0x43354d=_0x1d6eec[_0x1425b2(0x5a8)][_0x1425b2(0x6ea)][_0xdaf82b];_0x212eba['push'](_0x1425b2(0x56a)+_0x43354d+'\x22');for(let _0x4d25ac of _0xbc4f4b){_0x4d25ac[_0x1425b2(0x387)]=_0x43354d,_0x39eb80=_0x4d25ac[_0x1425b2(0x387)];let _0x1bbc89;try{_0x1bbc89=this[_0x1425b2(0x377)](_0x1d6eec,_0x4d25ac);}catch(_0x56c1a8){this[_0x1425b2(0x267)][_0x1425b2(0x782)](_0x1425b2(0x1da)+_0x56c1a8[_0x1425b2(0x60b)]);continue;}if(_0x1bbc89!==null){let _0x5e1e55=_0x1425b2(0x363)+_0x4d25ac[_0x1425b2(0x380)]+'\x22',_0x2293b5=[_0x1425b2(0x54b),'upperCase',_0x1425b2(0x4e2),_0x1425b2(0x601),'trimmed'];_0x4d25ac[_0x1425b2(0x380)]===_0x1425b2(0x6e0)||_0x4d25ac['editOperator']===_0x1425b2(0x1f2)?_0x5e1e55+=_0x1425b2(0x5ef)+_0x4d25ac[_0x1425b2(0x421)]+_0x1425b2(0x75e)+_0x4d25ac[_0x1425b2(0x505)]+'\x22':!_0x2293b5[_0x1425b2(0x562)](_0x4d25ac[_0x1425b2(0x380)])&&_0x4d25ac[_0x1425b2(0x421)]!==null&&_0x4d25ac[_0x1425b2(0x421)]!==void 0x0&&(_0x5e1e55+=',\x20valor\x20passado:\x20\x22'+_0x4d25ac['secondValue']+'\x22'),_0x5e1e55+=_0x1425b2(0x7b1)+_0x1bbc89+'.',_0x212eba['push'](_0x5e1e55);}_0x1bbc89!==null&&(_0x43354d=_0x1bbc89);}if(_0x1d6eec[_0x1425b2(0x5a8)]['realVariables']&&_0x31cf76[_0x1425b2(0x131)]){_0x1d6eec[_0x1425b2(0x5a8)][_0x1425b2(0x6ea)][_0x31cf76['saveVariable']]=_0x43354d;let _0x55d773={'variable':_0x31cf76[_0x1425b2(0x131)],'oldValue':_0x39eb80,'newValue':_0x43354d,'moreLogs':_0x212eba};try{this['updateConversation'](_0x1d6eec,_0x31cf76,_0x55d773);}catch(_0x3e1237){this[_0x1425b2(0x267)][_0x1425b2(0x782)]('Erro\x20ao\x20atualizar\x20conversa:\x20'+_0x3e1237['message']);}}return _0xdaf82b;}catch(_0x227381){return this[_0x1425b2(0x267)]['error'](_0x1425b2(0x298)+_0x227381[_0x1425b2(0x60b)]),null;}}async[a0_0x6d27f9(0x54f)](_0x212cab,_0x3b8dfc){const _0x4b7526=a0_0x6d27f9;try{let _0x2b6f1f=[],_0x2784a8=_0x212cab['conditions']['filter'](_0x37e3f6=>_0x37e3f6[_0x4b7526(0x234)]===_0x3b8dfc[_0x4b7526(0x3b9)][_0x4b7526(0x3f4)]()),_0x3ebf17=null,_0x31e41d=!0x1;for(let _0x2e0cf1 of _0x2784a8){let _0x25a220=this['evaluateCondition'](_0x212cab,_0x2e0cf1);_0x2b6f1f[_0x4b7526(0x6b3)](_0x4b7526(0x122)+_0x2e0cf1[_0x4b7526(0x387)]+',\x20Comparador:\x20'+_0x2e0cf1[_0x4b7526(0x1ac)]+_0x4b7526(0x528)+_0x2e0cf1['secondValue']+_0x4b7526(0x71e)+_0x25a220),_0x3ebf17===null?_0x3ebf17=_0x25a220:_0x2e0cf1[_0x4b7526(0x485)]===_0x4b7526(0x19e)?(_0x3ebf17=_0x3ebf17&&_0x25a220,_0x25a220||(_0x31e41d=!0x0)):_0x2e0cf1[_0x4b7526(0x485)]==='or'&&(_0x31e41d||(_0x3ebf17=_0x3ebf17||_0x25a220));}_0x3ebf17===null&&(_0x3ebf17=!0x0);let _0x170c6a={'moreLogs':_0x2b6f1f};_0x212cab[_0x4b7526(0x5a8)][_0x4b7526(0x5a2)]=_0x3ebf17,await this['updateConversation'](_0x212cab,_0x3b8dfc,_0x170c6a);}catch(_0x302a4f){this[_0x4b7526(0x267)][_0x4b7526(0x782)](this[_0x4b7526(0x383)]+'\x20('+this['instance']['wuid']+_0x4b7526(0x339)+(_0x302a4f instanceof Error?_0x302a4f[_0x4b7526(0x60b)]:JSON[_0x4b7526(0x450)](_0x302a4f,null,0x2)));}}[a0_0x6d27f9(0x4b9)](_0x4efe62,_0x13aa60){const _0x5699f2=a0_0x6d27f9;let _0x134f67=_0x13aa60[_0x5699f2(0x387)],_0x353974=_0x13aa60[_0x5699f2(0x421)];typeof _0x134f67=='string'&&(_0x134f67=this[_0x5699f2(0x614)](_0x134f67,_0x4efe62['chatLog']['realVariables'])??''),typeof _0x353974==_0x5699f2(0x7fc)&&(_0x353974=this[_0x5699f2(0x614)](_0x353974,_0x4efe62[_0x5699f2(0x5a8)][_0x5699f2(0x6ea)])??'');try{switch(_0x13aa60[_0x5699f2(0x1ac)]){case _0x5699f2(0x1fe):return _0x134f67===_0x353974;case _0x5699f2(0x3d0):return _0x134f67!==_0x353974;case _0x5699f2(0x545):return this[_0x5699f2(0x545)](_0x134f67,_0x353974);case _0x5699f2(0xd8):return!this[_0x5699f2(0x545)](_0x134f67,_0x353974);case _0x5699f2(0x64e):return parseFloat(_0x134f67)>parseFloat(_0x353974);case _0x5699f2(0x4ac):return parseFloat(_0x134f67)<parseFloat(_0x353974);case _0x5699f2(0x359):return _0x134f67!=='';case _0x5699f2(0x6e6):return _0x134f67==='';case _0x5699f2(0x241):return new RegExp(_0x353974)['test'](_0x134f67);case'notMatchRegex':return!new RegExp(_0x353974)[_0x5699f2(0x258)](_0x134f67);default:return!0x1;}}catch(_0x5cbaca){return this['logger'][_0x5699f2(0x782)](_0x5699f2(0x394)+_0x5cbaca),!0x1;}}[a0_0x6d27f9(0x545)](_0x3ec3c3,_0x90866b){const _0x56fb6b=a0_0x6d27f9;if(_0x3ec3c3===_0x90866b&&/^\d+$/['test'](_0x3ec3c3))return!0x0;if(this[_0x56fb6b(0x5af)](_0x3ec3c3)&&/^\d+$/[_0x56fb6b(0x258)](_0x90866b)){let _0x3a93e8=_0x3ec3c3[_0x56fb6b(0x48d)](',')['map'](_0x5e766a=>parseInt(_0x5e766a[_0x56fb6b(0x3ab)]())),_0x45a8a0=parseInt(_0x90866b);return _0x3a93e8[_0x56fb6b(0x562)](_0x45a8a0);}return _0x3ec3c3[_0x56fb6b(0x562)](_0x90866b);}[a0_0x6d27f9(0x5af)](_0x33c70c){return/^\d+(,\d+)*$/['test'](_0x33c70c);}['processConditionsTest'](_0xf779fd){const _0x112db4=a0_0x6d27f9;let _0x1af560=!0x0,_0x96b112=null;for(let _0x4a878e of _0xf779fd){let _0x59a119=this[_0x112db4(0x3c4)](_0x4a878e);if(_0x96b112==='or'&&_0x59a119){_0x1af560=!0x0;break;}if(_0x96b112==='and'&&!_0x59a119){_0x1af560=!0x1;break;}_0x96b112=_0x4a878e[_0x112db4(0x485)];}return _0x1af560;}[a0_0x6d27f9(0x3c4)](_0x272831){const _0x10ca46=a0_0x6d27f9;let _0xcbfa7d=_0x272831[_0x10ca46(0x387)],_0x40b8b9=_0x272831[_0x10ca46(0x421)];try{switch(_0x272831[_0x10ca46(0x1ac)]){case _0x10ca46(0x1fe):return String(_0xcbfa7d)===String(_0x40b8b9);case _0x10ca46(0x3d0):return String(_0xcbfa7d)!==String(_0x40b8b9);case _0x10ca46(0x545):return String(_0xcbfa7d)[_0x10ca46(0x562)](String(_0x40b8b9));case _0x10ca46(0xd8):return!String(_0xcbfa7d)[_0x10ca46(0x562)](String(_0x40b8b9));case _0x10ca46(0x64e):return parseFloat(String(_0xcbfa7d))>parseFloat(String(_0x40b8b9));case _0x10ca46(0x4ac):return parseFloat(String(_0xcbfa7d))<parseFloat(String(_0x40b8b9));case _0x10ca46(0x359):return String(_0xcbfa7d)!=='';case _0x10ca46(0x6e6):return String(_0xcbfa7d)==='';case _0x10ca46(0x241):return new RegExp(String(_0x40b8b9))[_0x10ca46(0x258)](String(_0xcbfa7d));case _0x10ca46(0x635):return!new RegExp(String(_0x40b8b9))[_0x10ca46(0x258)](String(_0xcbfa7d));default:return!0x1;}}catch(_0x46c7f5){return this['logger'][_0x10ca46(0x782)](_0x10ca46(0x394)+_0x46c7f5),!0x1;}}async[a0_0x6d27f9(0x495)](_0x514a91,_0x4e3bf3){const _0x36ad02=a0_0x6d27f9;if(this[_0x36ad02(0x267)][_0x36ad02(0x302)](this[_0x36ad02(0x383)]+'\x20('+this[_0x36ad02(0x403)]['wuid']+_0x36ad02(0x608)),!_0x514a91||!_0x4e3bf3)return this[_0x36ad02(0x267)][_0x36ad02(0x782)](this['instanceName']+'\x20('+this[_0x36ad02(0x403)][_0x36ad02(0x367)]+_0x36ad02(0x342)),null;let _0x2c3eeb=_0x514a91['chatLog'][_0x36ad02(0x731)][_0x36ad02(0x663)]['id'];this['logger'][_0x36ad02(0x302)](this[_0x36ad02(0x383)]+'\x20('+this[_0x36ad02(0x403)][_0x36ad02(0x367)]+'):\x20mediaMessageInfoId\x20:\x20'+_0x2c3eeb);let _0x4849ad={'key':{'id':_0x2c3eeb}},_0x38b898=_0x4e3bf3[_0x36ad02(0x131)];_0x514a91[_0x36ad02(0x5a8)][_0x36ad02(0x6ea)]['_'+_0x38b898+'.fileUrl']=null,_0x514a91[_0x36ad02(0x5a8)]['realVariables']['_'+_0x38b898+_0x36ad02(0x464)]=null,_0x514a91[_0x36ad02(0x5a8)][_0x36ad02(0x6ea)]['_'+_0x38b898+_0x36ad02(0x395)]=null,_0x514a91['chatLog']['realVariables']['_'+_0x38b898+'.type']=_0x514a91[_0x36ad02(0x5a8)][_0x36ad02(0x731)][_0x36ad02(0x5cb)];try{let _0x4f5886=await this[_0x36ad02(0x228)](_0x4849ad);this[_0x36ad02(0x267)][_0x36ad02(0x302)](this[_0x36ad02(0x383)]+'\x20('+this[_0x36ad02(0x403)][_0x36ad02(0x367)]+_0x36ad02(0x3a4)),_0x514a91[_0x36ad02(0x5a8)][_0x36ad02(0x6ea)]['_'+_0x38b898+'.url']=_0x4f5886[_0x36ad02(0x65e)],_0x514a91['chatLog'][_0x36ad02(0x6ea)]['_'+_0x38b898+'.mimetype']=_0x4f5886[_0x36ad02(0x727)];let _0x1fb1d7=_0x4f5886[_0x36ad02(0x727)][_0x36ad02(0x66f)](/\/(\w+)$/),_0x160403=_0x1fb1d7?_0x1fb1d7[0x1]:null;_0x514a91[_0x36ad02(0x5a8)][_0x36ad02(0x6ea)]['_'+_0x38b898+_0x36ad02(0x395)]=_0x160403,this[_0x36ad02(0x267)][_0x36ad02(0x302)](this[_0x36ad02(0x383)]+'\x20('+this[_0x36ad02(0x403)][_0x36ad02(0x367)]+_0x36ad02(0x65c)+_0x38b898+'\x27.');}catch(_0xd395d){this[_0x36ad02(0x267)]['error'](this[_0x36ad02(0x383)]+'\x20('+this['instance'][_0x36ad02(0x367)]+_0x36ad02(0x350)+_0xd395d[_0x36ad02(0x60b)]);}let _0x30e132=_0x514a91[_0x36ad02(0x5a8)][_0x36ad02(0x731)][_0x36ad02(0x4a9)]||_0x514a91[_0x36ad02(0x5a8)][_0x36ad02(0x731)][_0x36ad02(0x4a1)]||_0x514a91[_0x36ad02(0x5a8)][_0x36ad02(0x731)]['vote'];try{_0x514a91['chatLog']['realVariables']||(_0x514a91[_0x36ad02(0x5a8)][_0x36ad02(0x6ea)]={});let _0x2464d8=_0x514a91[_0x36ad02(0x5a8)][_0x36ad02(0x6ea)][_0x38b898];_0x514a91[_0x36ad02(0x5a8)][_0x36ad02(0x6ea)][_0x38b898]=_0x30e132;let _0xa6adf2={'variable':_0x38b898,'oldValue':_0x2464d8,'newValue':_0x30e132};this[_0x36ad02(0x1db)](_0x514a91,_0x4e3bf3,_0xa6adf2),this[_0x36ad02(0x267)]['verbose'](this[_0x36ad02(0x383)]+'\x20('+this[_0x36ad02(0x403)][_0x36ad02(0x367)]+_0x36ad02(0x686));}catch(_0x17889b){let _0x25f64b={'error':!0x0,'errorLog':_0x17889b[_0x36ad02(0x3f4)]()};return this[_0x36ad02(0x1db)](_0x514a91,_0x4e3bf3,_0x25f64b),this[_0x36ad02(0x267)]['error'](this['instanceName']+'\x20('+this['instance'][_0x36ad02(0x367)]+_0x36ad02(0x3d2)+(_0x17889b instanceof Error?_0x17889b[_0x36ad02(0x60b)]:JSON[_0x36ad02(0x450)](_0x17889b,null,0x2))),null;}}async[a0_0x6d27f9(0x259)](_0x58c675,_0x5ed063){const _0x4f08c1=a0_0x6d27f9;if(this[_0x4f08c1(0x267)][_0x4f08c1(0x302)](this[_0x4f08c1(0x383)]+'\x20('+this[_0x4f08c1(0x403)][_0x4f08c1(0x367)]+_0x4f08c1(0x3b5)),!_0x58c675||!_0x5ed063)return this[_0x4f08c1(0x267)][_0x4f08c1(0x782)](this[_0x4f08c1(0x383)]+'\x20('+this[_0x4f08c1(0x403)][_0x4f08c1(0x367)]+_0x4f08c1(0x342)),null;let _0xc58816=Date[_0x4f08c1(0x7b2)](),_0x123f40=parseInt(_0x5ed063[_0x4f08c1(0x231)],0xa);if(isNaN(_0x123f40))return this[_0x4f08c1(0x267)][_0x4f08c1(0x782)](this[_0x4f08c1(0x383)]+'\x20('+this[_0x4f08c1(0x403)]['wuid']+_0x4f08c1(0x69e)),null;let _0x21f02a={'newStoppedUntil':_0xc58816+_0x123f40*0x3c*0x3e8};return await this[_0x4f08c1(0x1db)](_0x58c675,_0x5ed063,_0x21f02a,!0x0),null;}async['processUazapi'](_0x37bc13,_0x420eb8){const _0xd4a51f=a0_0x6d27f9;try{switch(_0x420eb8[_0xd4a51f(0x69b)][_0xd4a51f(0x2a5)]){case _0xd4a51f(0x6da):await this[_0xd4a51f(0x5e5)](_0x37bc13,_0x420eb8);break;case _0xd4a51f(0x58e):await this['uazapiSendMedia'](_0x37bc13,_0x420eb8);break;case _0xd4a51f(0x607):await this['uazapiSendLocation'](_0x37bc13,_0x420eb8);break;case _0xd4a51f(0x336):await this['uazapiSendAudio'](_0x37bc13,_0x420eb8);break;case _0xd4a51f(0x7f6):await this[_0xd4a51f(0x6d3)](_0x37bc13,_0x420eb8);break;case _0xd4a51f(0x172):await this[_0xd4a51f(0x132)](_0x37bc13,_0x420eb8);break;case _0xd4a51f(0x7ea):await this[_0xd4a51f(0x132)](_0x37bc13,_0x420eb8);break;case _0xd4a51f(0x3cb):await this[_0xd4a51f(0x577)](_0x37bc13,_0x420eb8);break;default:this[_0xd4a51f(0x267)]['error'](this['instanceName']+'\x20('+this[_0xd4a51f(0x403)][_0xd4a51f(0x367)]+_0xd4a51f(0x3f2)+_0x420eb8['uazapi'][_0xd4a51f(0x2a5)]);}}catch(_0x2c34c3){this[_0xd4a51f(0x267)][_0xd4a51f(0x782)](this[_0xd4a51f(0x383)]+'\x20('+this[_0xd4a51f(0x403)][_0xd4a51f(0x367)]+_0xd4a51f(0x63c)+(_0x2c34c3 instanceof Error?_0x2c34c3[_0xd4a51f(0x60b)]:JSON['stringify'](_0x2c34c3,null,0x2)));}}async[a0_0x6d27f9(0x1db)](_0x5c90c6,_0x4ebb5f,_0x35df56,_0x1896b4=!0x1,_0x445d0c=!0x1){const _0x444ffe=a0_0x6d27f9;_0x5c90c6[_0x444ffe(0x5a8)][_0x444ffe(0x193)]||(_0x5c90c6['chatLog'][_0x444ffe(0x193)]=[]);let _0x89e720=(_0x5c90c6['chatLog'][_0x444ffe(0x193)]?.[_0x444ffe(0x4b3)]??0x0)+0x1,_0x251332=_0x5c90c6['chatLog']['blockLogs'][_0x444ffe(0x3ec)](_0x1f36d2=>String(_0x1f36d2[_0x444ffe(0x234)])===String(_0x4ebb5f['_id']))[_0x444ffe(0x4b3)]+0x1,_0x1eed09=_0x35df56?.['onTime']??Date[_0x444ffe(0x7b2)](),_0xff0c8c=_0x35df56?.['error']?_0x35df56[_0x444ffe(0x393)]??_0x35df56[_0x444ffe(0x782)]['toString']():void 0x0,_0x17f815={'onTime':_0x1eed09,'blockId':_0x4ebb5f['_id'],'order':_0x89e720,'activatedCount':_0x251332,'error':_0x35df56?.[_0x444ffe(0x782)]??!0x1,'messageId':_0x35df56?.[_0x444ffe(0x24f)],'apiResponse':_0x35df56?.['apiResponse'],'apiResponseString':_0x35df56?.[_0x444ffe(0x3ba)]?JSON[_0x444ffe(0x450)](_0x35df56?.[_0x444ffe(0x3ba)]):void 0x0,'variable':_0x35df56?.[_0x444ffe(0x386)],'oldValue':_0x35df56?.[_0x444ffe(0x21a)],'newValue':_0x35df56?.[_0x444ffe(0x38a)],'newStoppedUntil':_0x35df56?.[_0x444ffe(0x3e9)],'moreLogs':_0x35df56?.[_0x444ffe(0x515)],'errorLog':_0xff0c8c};if(_0x35df56[_0x444ffe(0x515)]&&_0x35df56[_0x444ffe(0x515)]['length']>0x0){let _0x476293=_0x35df56[_0x444ffe(0x515)][_0x444ffe(0x5f1)](_0x4e39d7=>this[_0x444ffe(0x5dd)](_0x4e39d7,_0x5c90c6[_0x444ffe(0x5a8)]['realVariables']));_0x17f815[_0x444ffe(0x515)]=_0x476293;}if(_0x5c90c6[_0x444ffe(0x5a8)][_0x444ffe(0x6ea)]||(_0x5c90c6[_0x444ffe(0x5a8)]['realVariables']={}),_0x5c90c6[_0x444ffe(0x5a8)][_0x444ffe(0x6ea)][_0x444ffe(0x28e)]=String(_0x251332),_0x5c90c6[_0x444ffe(0x5a8)][_0x444ffe(0x6ea)][_0x444ffe(0x7dc)]=String(_0x35df56['error']??!0x1),_0x5c90c6['chatLog'][_0x444ffe(0x193)][_0x444ffe(0x6b3)](_0x17f815),_0x5c90c6[_0x444ffe(0x5a8)]['realVariables']['telefone']&&_0x5c90c6['chatLog'][_0x444ffe(0x6ea)][_0x444ffe(0x4e1)]!==_0x5c90c6[_0x444ffe(0x455)]){let _0x31aa92=(await this[_0x444ffe(0x26e)]({'numbers':[_0x5c90c6[_0x444ffe(0x5a8)]['realVariables'][_0x444ffe(0x4e1)]]}))[0x0]['jid'];_0x5c90c6[_0x444ffe(0x5a8)][_0x444ffe(0x6ea)]['telefone']=_0x31aa92,_0x5c90c6[_0x444ffe(0x455)]=_0x31aa92;try{let _0x2ef751={'_id':{'$ne':_0x5c90c6[_0x444ffe(0x3b9)]},'remoteJid':_0x31aa92,'status':'open'},_0x5ea9ae={'status':_0x444ffe(0x5a3)};await this[_0x444ffe(0x4d0)][_0x444ffe(0x49b)]['updateMany'](_0x2ef751,_0x5ea9ae,this[_0x444ffe(0x403)][_0x444ffe(0x367)]),this['logger'][_0x444ffe(0x302)](this[_0x444ffe(0x383)]+'\x20('+this[_0x444ffe(0x403)][_0x444ffe(0x367)]+_0x444ffe(0x5a6));}catch(_0x13d006){this[_0x444ffe(0x267)][_0x444ffe(0x782)](this[_0x444ffe(0x383)]+'\x20('+this['instance'][_0x444ffe(0x367)]+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x13d006[_0x444ffe(0x60b)]);}try{let _0x52af31=_0x5c90c6[_0x444ffe(0x5a8)]['realVariables'],_0x539d35=await this['getVariablesChat'](_0x31aa92),_0x58e932={..._0x52af31,..._0x539d35,'_remoteJid':_0x31aa92};_0x5c90c6[_0x444ffe(0x5a8)][_0x444ffe(0x6ea)]=_0x58e932;}catch(_0x127480){this[_0x444ffe(0x267)]['error'](this[_0x444ffe(0x383)]+'\x20('+this[_0x444ffe(0x403)][_0x444ffe(0x367)]+'):\x20Erro\x20ao\x20juntar\x20variaveis\x20existentes:\x20'+_0x127480[_0x444ffe(0x60b)]);}}_0x5c90c6[_0x444ffe(0x5a8)]['lastBlockId']=_0x4ebb5f[_0x444ffe(0x3b9)]['toString'](),_0x5c90c6[_0x444ffe(0x5a8)][_0x444ffe(0x30c)]&&(_0x5c90c6['chatLog'][_0x444ffe(0x30c)]=_0x5c90c6['chatLog'][_0x444ffe(0x30c)]),_0x5c90c6[_0x444ffe(0x5a8)]['lastReceivedMessage']&&(_0x5c90c6[_0x444ffe(0x5a8)]['lastReceivedMessage']=_0x5c90c6[_0x444ffe(0x5a8)][_0x444ffe(0x731)]),_0x5c90c6[_0x444ffe(0x5a8)]['lastCondition']&&(_0x5c90c6[_0x444ffe(0x5a8)][_0x444ffe(0x5a2)]=_0x5c90c6['chatLog']['lastCondition']),_0x445d0c&&(_0x5c90c6[_0x444ffe(0x538)]=_0x444ffe(0x5a3)),_0x1896b4?this[_0x444ffe(0x6a7)](_0x5c90c6):this[_0x444ffe(0x24e)](_0x5c90c6,_0x4ebb5f);}['replaceVariablesLogs'](_0x3a6d97,_0x380f15){const _0x1fe337=a0_0x6d27f9;return _0x3a6d97[_0x1fe337(0x78b)](/\{\{([^}]+)\}\}/g,(_0x5b3ebf,_0x5a3c1b)=>_0x380f15[_0x5a3c1b]?'{{'+_0x5a3c1b+'}}\x20->\x20\x22'+_0x380f15[_0x5a3c1b]+'\x22':'{{'+_0x5a3c1b+_0x1fe337(0x379));}async['saveConversationToDatabase'](_0xfb401a){const _0x24efd0=a0_0x6d27f9;try{let _0x2e33c0=Object[_0x24efd0(0x292)](_0xfb401a[_0x24efd0(0x5a8)][_0x24efd0(0x6ea)])[_0x24efd0(0x5f1)](([_0x302733,_0x2647fd])=>({'name':_0x302733,'value':_0x2647fd})),_0x2f9ce8={'status':_0xfb401a[_0x24efd0(0x538)],'remoteJid':_0xfb401a[_0x24efd0(0x455)],'blocks':_0xfb401a[_0x24efd0(0x1b2)],'waitingMenu_id':_0xfb401a[_0x24efd0(0x682)],'waitingMenu_text':_0xfb401a[_0x24efd0(0x742)],'waitingMenu_replyOptions':_0xfb401a[_0x24efd0(0x53b)],'chatLog':{'lastBlockId':_0xfb401a[_0x24efd0(0x5a8)]['lastBlockId'],'lastSendMessage':_0xfb401a[_0x24efd0(0x5a8)][_0x24efd0(0x30c)],'lastReceivedMessage':_0xfb401a['chatLog'][_0x24efd0(0x731)],'lastCondition':_0xfb401a[_0x24efd0(0x5a8)][_0x24efd0(0x5a2)],'chatVariables':_0x2e33c0,'realVariables':_0xfb401a[_0x24efd0(0x5a8)][_0x24efd0(0x6ea)],'blockLogs':_0xfb401a[_0x24efd0(0x5a8)][_0x24efd0(0x193)]}},_0x45a6e6=await this[_0x24efd0(0x4d0)]['flowConversation'][_0x24efd0(0x46a)](_0xfb401a[_0x24efd0(0x3b9)],_0x2f9ce8,this[_0x24efd0(0x403)][_0x24efd0(0x367)]);if(_0x45a6e6){this[_0x24efd0(0x267)][_0x24efd0(0x302)](this[_0x24efd0(0x383)]+'\x20('+this[_0x24efd0(0x403)][_0x24efd0(0x367)]+'):\x20Conversa\x20atualizada\x20no\x20BD\x20com\x20sucesso.\x20ID:\x20'+_0x45a6e6[_0x24efd0(0x3b9)]);try{let _0x3dc015=[_0x24efd0(0x2ef),'nomecompleto',_0x24efd0(0x5e4),'cpf','status',_0x24efd0(0x61e),_0x24efd0(0x2fc),'tags',_0x24efd0(0x77d),'atendimentoAberto'];if(!this['AutomateSystem']&&(await this[_0x24efd0(0x4cf)](),!this[_0x24efd0(0x3d6)]))throw new Error('AutomateSystem\x20não\x20foi\x20inicializado');let _0x513ad7=this[_0x24efd0(0x3d6)]?.[_0x24efd0(0x62d)][_0x24efd0(0x5f1)](_0xe62a0e=>_0xe62a0e[_0x24efd0(0x552)]),_0x4b0b1f={};Object[_0x24efd0(0x292)](_0xfb401a[_0x24efd0(0x5a8)][_0x24efd0(0x6ea)])[_0x24efd0(0x48c)](([_0x4c3bdf,_0x5acd93])=>{const _0x3efef9=_0x24efd0;_0x3dc015[_0x3efef9(0x562)](_0x4c3bdf)&&(_0x4c3bdf===_0x3efef9(0x78f)&&typeof _0x5acd93=='string'?_0x4b0b1f[_0x4c3bdf]=_0x5acd93[_0x3efef9(0x48d)](',')[_0x3efef9(0x5f1)](_0x355d08=>_0x355d08[_0x3efef9(0x3ab)]())['filter'](_0x175c0d=>_0x175c0d!==''):_0x4c3bdf===_0x3efef9(0x77d)&&typeof _0x5acd93==_0x3efef9(0x7fc)?_0x4b0b1f[_0x4c3bdf]=_0x5acd93[_0x3efef9(0x48d)](',')[_0x3efef9(0x5f1)](_0x4072b0=>_0x4072b0[_0x3efef9(0x3ab)]())[_0x3efef9(0x3ec)](_0x2297da=>_0x2297da!==''):_0x4b0b1f[_0x4c3bdf]=_0x5acd93);});let _0x15cbfd=_0xfb401a['chatLog'][_0x24efd0(0x193)][_0xfb401a['chatLog']['blockLogs'][_0x24efd0(0x4b3)]-0x1];if(_0x15cbfd){let _0x1883a2=_0x15cbfd[_0x24efd0(0x3e9)];_0x1883a2!==void 0x0&&(_0x4b0b1f[_0x24efd0(0x168)]=_0x1883a2['toString']());}let _0x3f3e8f=_0x2e33c0[_0x24efd0(0x3ec)](_0x2862d5=>_0x513ad7[_0x24efd0(0x562)](_0x2862d5[_0x24efd0(0x552)]));this[_0x24efd0(0x267)][_0x24efd0(0x302)](this[_0x24efd0(0x383)]+'\x20('+this[_0x24efd0(0x403)][_0x24efd0(0x367)]+_0x24efd0(0x446)),this[_0x24efd0(0x267)][_0x24efd0(0x302)](_0x4b0b1f),this[_0x24efd0(0x267)][_0x24efd0(0x302)](this[_0x24efd0(0x383)]+'\x20('+this[_0x24efd0(0x403)]['wuid']+_0x24efd0(0x5b3)),this[_0x24efd0(0x267)][_0x24efd0(0x302)](_0x3f3e8f);let _0x1bff2c=_0x3f3e8f['map'](_0x15c42b=>{const _0x1bd408=_0x24efd0;let _0x5baa11=this[_0x1bd408(0x3d6)]?.[_0x1bd408(0x62d)][_0x1bd408(0x37d)](_0x182820=>_0x182820[_0x1bd408(0x552)]===_0x15c42b['name']);if(!_0x5baa11)throw new Error(_0x1bd408(0x1b1)+_0x15c42b[_0x1bd408(0x552)]);return{'_id':_0x5baa11[_0x1bd408(0x3b9)],'value':_0x15c42b['value']};});this['logger'][_0x24efd0(0x302)](this[_0x24efd0(0x383)]+'\x20('+this['instance'][_0x24efd0(0x367)]+_0x24efd0(0x190)),this[_0x24efd0(0x267)][_0x24efd0(0x302)](_0x1bff2c),await this['saveChatVariables'](_0xfb401a[_0x24efd0(0x455)],_0x4b0b1f,_0x1bff2c);}catch(_0x2af76f){this[_0x24efd0(0x267)][_0x24efd0(0x782)](this[_0x24efd0(0x383)]+'\x20('+this[_0x24efd0(0x403)]['wuid']+_0x24efd0(0x7ac)+(_0x2af76f instanceof Error?_0x2af76f[_0x24efd0(0x60b)]:JSON[_0x24efd0(0x450)](_0x2af76f,null,0x2)));}}else this[_0x24efd0(0x267)][_0x24efd0(0x782)](this[_0x24efd0(0x383)]+'\x20('+this[_0x24efd0(0x403)][_0x24efd0(0x367)]+_0x24efd0(0x6d8));}catch(_0xcdd4f6){this[_0x24efd0(0x267)][_0x24efd0(0x782)](this['instanceName']+'\x20('+this['instance'][_0x24efd0(0x367)]+_0x24efd0(0x2c6)+(_0xcdd4f6 instanceof Error?_0xcdd4f6[_0x24efd0(0x60b)]:JSON[_0x24efd0(0x450)](_0xcdd4f6,null,0x2)));}}async[a0_0x6d27f9(0x5b2)](_0x24cdcb,_0x3a13bc,_0x56ae2f){const _0x157189=a0_0x6d27f9;try{let _0x4867df={'leadInfo.leadnome':_0x3a13bc[_0x157189(0x2ef)],'leadInfo.nomecompleto':_0x3a13bc['nomecompleto'],'leadInfo.email':_0x3a13bc[_0x157189(0x5e4)],'leadInfo.cpf':_0x3a13bc[_0x157189(0x294)],'leadInfo.status':_0x3a13bc[_0x157189(0x538)],'leadInfo.notas':_0x3a13bc[_0x157189(0x61e)],'leadInfo.responsavelid':_0x3a13bc[_0x157189(0x2fc)],'leadInfo.tags':_0x3a13bc[_0x157189(0x78f)],'leadInfo.etiquetas':_0x3a13bc[_0x157189(0x77d)],'leadInfo.customFields':_0x56ae2f,'leadInfo.atendimentoAberto':_0x3a13bc[_0x157189(0x2cf)]},_0x1987f2=await this[_0x157189(0x4d0)][_0x157189(0x463)][_0x157189(0x206)]({'where':{'_id':_0x24cdcb}},this['instance'][_0x157189(0x367)]);if(!_0x1987f2)return _0x157189(0x23f);let _0x1866f1=new Set(_0x1987f2[_0x157189(0x368)][_0x157189(0x77d)]||[]),_0x5550f8=new Set(_0x3a13bc[_0x157189(0x77d)]||[]),_0x1b21f9=await this['repository'][_0x157189(0x3e5)][_0x157189(0x37d)]({'where':{}},this['instance']['wuid']),_0x2565aa=new Set(_0x1b21f9[_0x157189(0x5f1)](_0x7dfc1b=>_0x7dfc1b[_0x157189(0x3b9)])),_0x52c0cc=[..._0x5550f8][_0x157189(0x3ec)](_0x181d8b=>!_0x1866f1[_0x157189(0x6a0)](_0x181d8b)&&_0x2565aa[_0x157189(0x6a0)](_0x181d8b)),_0x1a6c40=[..._0x1866f1][_0x157189(0x3ec)](_0x57fa5c=>!_0x5550f8[_0x157189(0x6a0)](_0x57fa5c));for(let _0x4e0c81 of _0x52c0cc)await this['AddChatLabel'](_0x4e0c81,_0x1987f2['_id']),_0x1866f1[_0x157189(0x664)](_0x4e0c81);for(let _0x1aa2d2 of _0x1a6c40)await this[_0x157189(0x4d5)](_0x1aa2d2,_0x1987f2[_0x157189(0x3b9)]),_0x1866f1[_0x157189(0x7b7)](_0x1aa2d2);if(_0x157189(0x168)in _0x3a13bc){let _0x1e1a97=_0x3a13bc[_0x157189(0x168)];_0x4867df['leadInfo.desativadoFluxoAte']=_0x1e1a97?Number(_0x1e1a97):null;}if(_0x157189(0x2cf)in _0x3a13bc){let _0x2ac28f=_0x3a13bc[_0x157189(0x2cf)][_0x157189(0x1b4)]();_0x4867df[_0x157189(0x780)]=_0x2ac28f==='true'||_0x2ac28f==='1'||_0x2ac28f===_0x157189(0x641)||_0x2ac28f==='sim';}let _0x3bb9f9=await this[_0x157189(0x4d0)][_0x157189(0x463)][_0x157189(0x46a)]({'where':{'_id':_0x24cdcb}},_0x4867df,this['instance'][_0x157189(0x367)]);_0x3bb9f9?(this['logger'][_0x157189(0x302)](this[_0x157189(0x383)]+'\x20('+this[_0x157189(0x403)][_0x157189(0x367)]+_0x157189(0x6d7)+_0x3bb9f9[_0x157189(0x3b9)]),j(this['instanceName'],_0x157189(0x652),{'chat':_0x3bb9f9})):this[_0x157189(0x267)][_0x157189(0x782)](this['instanceName']+'\x20('+this[_0x157189(0x403)]['wuid']+_0x157189(0x3db));}catch(_0xd7513f){this['logger']['error'](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20salvar\x20variáveis\x20do\x20chat\x20no\x20BD:\x20'+(_0xd7513f instanceof Error?_0xd7513f[_0x157189(0x60b)]:JSON['stringify'](_0xd7513f,null,0x2)));}}async[a0_0x6d27f9(0x597)](_0x57827a,_0x368d11){const _0x402d63=a0_0x6d27f9;this['logger'][_0x402d63(0x302)](this[_0x402d63(0x383)]+'\x20('+this['instance'][_0x402d63(0x367)]+_0x402d63(0x502)+_0x368d11);try{let _0x24a9c3=await this['repository'][_0x402d63(0x463)][_0x402d63(0x46a)]({'where':{'_id':_0x57827a[_0x402d63(0x455)]}},{'leadInfo.desativadoFluxoAte':_0x368d11},this['instance'][_0x402d63(0x367)]);this[_0x402d63(0x267)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x402d63(0x367)]+_0x402d63(0x317)+_0x57827a['_id']),this[_0x402d63(0x267)]['verbose'](this[_0x402d63(0x383)]+'\x20('+this[_0x402d63(0x403)]['wuid']+_0x402d63(0x502)+JSON['stringify'](_0x24a9c3,null,0x2)),_0x24a9c3&&j(this[_0x402d63(0x383)],_0x402d63(0x652),{'chat':_0x24a9c3});}catch(_0x50ecdc){this[_0x402d63(0x267)][_0x402d63(0x782)](this['instanceName']+'\x20('+this[_0x402d63(0x403)][_0x402d63(0x367)]+'):\x20Erro\x20ao\x20atualizar\x20o\x20chat:\x20'+(_0x50ecdc instanceof Error?_0x50ecdc['message']:JSON[_0x402d63(0x450)](_0x50ecdc,null,0x2)));}}async['findFlow'](_0x25114b){const _0x48446e=a0_0x6d27f9;try{this['logger'][_0x48446e(0x302)](this[_0x48446e(0x383)]+'\x20('+this[_0x48446e(0x403)][_0x48446e(0x367)]+_0x48446e(0x61c));let _0x851dea=_0x25114b['replace'](/\D/g,''),_0x5f5d5b=this[_0x48446e(0x3d6)][_0x48446e(0x40f)][_0x48446e(0x37d)](_0x363052=>_0x363052[_0x48446e(0x7e4)]===_0x851dea);if(_0x5f5d5b||(this[_0x48446e(0x267)][_0x48446e(0x302)](this[_0x48446e(0x383)]+'\x20('+this[_0x48446e(0x403)][_0x48446e(0x367)]+_0x48446e(0x1c3)),_0x5f5d5b=this[_0x48446e(0x3d6)][_0x48446e(0x40f)][_0x48446e(0x37d)](_0x58d39a=>_0x58d39a[_0x48446e(0x49c)]===!0x0)),!_0x5f5d5b)return this[_0x48446e(0x267)][_0x48446e(0x302)](this[_0x48446e(0x383)]+'\x20('+this[_0x48446e(0x403)][_0x48446e(0x367)]+_0x48446e(0x35c)),null;let _0x1707af=await this[_0x48446e(0x4d0)][_0x48446e(0x43d)]['findOne']({'where':{'_id':_0x5f5d5b[_0x48446e(0x3b9)]}});if(!_0x1707af||!_0x1707af[_0x48446e(0x44c)]?.[_0x48446e(0x562)](this['instance']['wuid']))throw this['logger'][_0x48446e(0x782)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Flow\x20\x27'+_0x1707af[_0x48446e(0x3b9)]+_0x48446e(0x437)),new m(_0x48446e(0x291)+_0x1707af[_0x48446e(0x3b9)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');return _0x1707af;}catch(_0xb7909a){return this[_0x48446e(0x267)][_0x48446e(0x782)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20Erro\x20ao\x20buscar\x20o\x20fluxo:\x20'+(_0xb7909a instanceof Error?_0xb7909a['message']:JSON[_0x48446e(0x450)](_0xb7909a,null,0x2))),null;}}async[a0_0x6d27f9(0x26f)](_0x23d7b7,_0x330d02){const _0x261a6b=a0_0x6d27f9;try{let _0x5e20e3=!!_0x330d02[_0x261a6b(0x7c9)],_0x34ca5b=_0x330d02[_0x261a6b(0x4ce)],_0x18c67c=null;if(this[_0x261a6b(0x267)][_0x261a6b(0x302)](this[_0x261a6b(0x383)]+'\x20('+this['instance'][_0x261a6b(0x367)]+'):\x20isVote:\x20'+_0x5e20e3+_0x261a6b(0x691)+_0x34ca5b),_0x5e20e3){this['logger'][_0x261a6b(0x302)](this[_0x261a6b(0x383)]+'\x20('+this[_0x261a6b(0x403)][_0x261a6b(0x367)]+_0x261a6b(0x737));let _0x5297c4={'where':{'remoteJid':_0x23d7b7,'waitingMenu_id':_0x34ca5b}};if(_0x18c67c=await this['repository']['flowConversation'][_0x261a6b(0x206)](_0x5297c4,this[_0x261a6b(0x403)][_0x261a6b(0x367)]),!_0x18c67c)return this[_0x261a6b(0x267)][_0x261a6b(0x302)](this['instanceName']+'\x20('+this[_0x261a6b(0x403)][_0x261a6b(0x367)]+_0x261a6b(0x1e0)),null;let _0x1536dc=Date[_0x261a6b(0x7b2)](),_0x3641ab=_0x18c67c?.[_0x261a6b(0x19f)]||0x0,_0x33ccea=_0x1536dc-_0x3641ab*0x3c*0x3e8;if(_0x18c67c[_0x261a6b(0x4b5)]<_0x33ccea){this[_0x261a6b(0x267)][_0x261a6b(0x302)](this[_0x261a6b(0x383)]+'\x20('+this[_0x261a6b(0x403)][_0x261a6b(0x367)]+'):\x20Conversa\x20está\x20expirada\x20-\x20voto');let _0x203996={'number':_0x18c67c[_0x261a6b(0x455)],'options':{'delay':0x0},'textMessage':{'text':_0x18c67c[_0x261a6b(0x493)]}};await this[_0x261a6b(0x5d0)](_0x203996);let _0x4d123a={'status':'closed','waitingMenu_id':'','waitingMenu_text':'','waitingMenu_replyOptions':[]};return await this[_0x261a6b(0x4d0)][_0x261a6b(0x49b)]['updateOne'](_0x18c67c['_id'],_0x4d123a,this['instance']['wuid']),null;}return _0x18c67c['lastInteraction']=Date[_0x261a6b(0x7b2)](),_0x18c67c[_0x261a6b(0x5a8)]['lastReceivedMessage']=_0x330d02,_0x18c67c;}else{this[_0x261a6b(0x267)]['verbose'](this['instanceName']+'\x20('+this[_0x261a6b(0x403)][_0x261a6b(0x367)]+_0x261a6b(0x4a0)+this[_0x261a6b(0x403)]['wuid']+_0x261a6b(0x3ad)),this['logger']['verbose'](this[_0x261a6b(0x383)]+'\x20('+this[_0x261a6b(0x403)][_0x261a6b(0x367)]+_0x261a6b(0x6e7));let _0x25b8d1={'where':{'remoteJid':_0x23d7b7,'status':_0x261a6b(0x389)}};if(_0x18c67c=await this[_0x261a6b(0x4d0)]['flowConversation'][_0x261a6b(0x206)](_0x25b8d1,this[_0x261a6b(0x403)][_0x261a6b(0x367)]),!_0x18c67c){let _0x2147bf=await this['findFlow'](_0x23d7b7);if(_0x2147bf&&(_0x18c67c=await this['createNewConversation'](_0x2147bf,_0x330d02[_0x261a6b(0x663)],_0x330d02)),!_0x18c67c)return null;}let _0x418709=Date[_0x261a6b(0x7b2)](),_0x15f272=_0x18c67c?.[_0x261a6b(0x19f)]||0x0,_0xd3b8c=_0x418709-_0x15f272*0x3c*0x3e8;if(this['logger'][_0x261a6b(0x302)](this[_0x261a6b(0x383)]+'\x20('+this[_0x261a6b(0x403)][_0x261a6b(0x367)]+'):\x20Current\x20Time:\x20'+_0x418709+_0x261a6b(0x4b2)+_0x15f272+_0x261a6b(0x740)+_0xd3b8c),this['logger'][_0x261a6b(0x302)](this[_0x261a6b(0x383)]+'\x20('+this['instance']['wuid']+_0x261a6b(0x7a7)),this['logger'][_0x261a6b(0x302)](this['instanceName']+'\x20('+this[_0x261a6b(0x403)][_0x261a6b(0x367)]+_0x261a6b(0x6ee)+_0x18c67c[_0x261a6b(0x4b5)]),this[_0x261a6b(0x267)]['verbose'](this[_0x261a6b(0x383)]+'\x20('+this[_0x261a6b(0x403)][_0x261a6b(0x367)]+_0x261a6b(0x7a8)+_0xd3b8c),_0x18c67c['lastInteraction']<_0xd3b8c){this[_0x261a6b(0x267)][_0x261a6b(0x302)](this[_0x261a6b(0x383)]+'\x20('+this[_0x261a6b(0x403)][_0x261a6b(0x367)]+_0x261a6b(0x4d3));let _0x4c7e33=await this[_0x261a6b(0x697)](_0x23d7b7);if(_0x4c7e33===null)return null;_0x18c67c&&await this[_0x261a6b(0x4d0)][_0x261a6b(0x49b)]['updateOne'](_0x18c67c[_0x261a6b(0x3b9)],{'status':_0x261a6b(0x5a3)},this['instance'][_0x261a6b(0x367)]),_0x18c67c=await this[_0x261a6b(0x3c5)](_0x4c7e33,_0x330d02[_0x261a6b(0x663)],_0x330d02);}return _0x18c67c[_0x261a6b(0x4b5)]=_0x418709,_0x18c67c[_0x261a6b(0x5a8)][_0x261a6b(0x731)]=_0x330d02,_0x18c67c;}}catch(_0x402f87){return this[_0x261a6b(0x267)]['error'](this['instanceName']+'\x20('+this['instance'][_0x261a6b(0x367)]+_0x261a6b(0x44b)+(_0x402f87 instanceof Error?_0x402f87[_0x261a6b(0x60b)]:JSON[_0x261a6b(0x450)](_0x402f87,null,0x2))),null;}}async['createNewConversation'](_0x249c21,_0x557c57,_0x461026){const _0x33e605=a0_0x6d27f9;this['logger'][_0x33e605(0x302)](this[_0x33e605(0x383)]+'\x20('+this[_0x33e605(0x403)][_0x33e605(0x367)]+'):\x20Criando\x20nova\x20conversa[createNewConversation]');try{let _0x35a2d6=require(_0x33e605(0x5bc))[_0x33e605(0x3dc)],_0x22064e=Date[_0x33e605(0x7b2)](),_0x2c4cdd=_0x33e605(0x546),_0x152745=_0x557c57['fromMe']?null:_0x461026,_0x52bc16=_0x557c57['fromMe']?_0x461026:null,_0x105856=_0x557c57['remoteJid'],_0x12d41f=this[_0x33e605(0x3d6)]['flows'][_0x33e605(0x37d)](_0x79271a=>_0x79271a[_0x33e605(0x3b9)]===_0x249c21[_0x33e605(0x3b9)]?.['toString']()),_0x985ae9=_0x12d41f?.[_0x33e605(0x19f)]??_0x249c21[_0x33e605(0x19f)]??0x0,_0xb2ff8f=_0x12d41f?.[_0x33e605(0x440)]??_0x249c21[_0x33e605(0x440)]??!0x1;await this[_0x33e605(0x588)](_0x105856);let _0x21f22b={'flowId':_0x249c21[_0x33e605(0x3b9)],..._0x249c21,'chatLog':null},_0x407a2d=await this[_0x33e605(0x4e3)](_0x21f22b[_0x33e605(0x522)]),_0x4b60d7=await this[_0x33e605(0x3ca)](_0x105856),_0x465632={..._0x407a2d,..._0x4b60d7,'_remoteJid':_0x105856},_0x88a87b={'lastReceivedMessage':_0x152745,'lastSendMessage':_0x52bc16,'lastBlockId':_0x2c4cdd,'lastCondition':!0x0,'realVariables':_0x465632};_0x21f22b['chatLog']=_0x88a87b,delete _0x21f22b['_id'],_0x21f22b['_id']=new _0x35a2d6(),_0x21f22b[_0x33e605(0x4b5)]=_0x22064e,_0x21f22b['status']=_0x33e605(0x389),_0x21f22b[_0x33e605(0x455)]=_0x105856,_0x21f22b['minutesToClose']=_0x985ae9,_0x21f22b[_0x33e605(0x440)]=_0xb2ff8f;let _0x4af39e=await this['repository'][_0x33e605(0x49b)][_0x33e605(0x46a)](_0x21f22b[_0x33e605(0x3b9)],_0x21f22b,this[_0x33e605(0x403)][_0x33e605(0x367)]);return this['logger'][_0x33e605(0x302)](this[_0x33e605(0x383)]+'\x20('+this[_0x33e605(0x403)]['wuid']+_0x33e605(0x1df)),_0x4af39e?_0x21f22b:null;}catch(_0x1ddf3a){return this['logger']['error'](this['instanceName']+'\x20('+this[_0x33e605(0x403)][_0x33e605(0x367)]+_0x33e605(0x77c)+(_0x1ddf3a instanceof Error?_0x1ddf3a[_0x33e605(0x60b)]:JSON[_0x33e605(0x450)](_0x1ddf3a,null,0x2))),_0x1ddf3a;}}async['uazapiSendText'](_0x4c2e43,_0x4cb9a6){const _0x19af31=a0_0x6d27f9;let _0xa273cb=_0x4c2e43['remoteJid'];_0x4cb9a6[_0x19af31(0x69b)][_0x19af31(0x455)]&&_0x4cb9a6['uazapi'][_0x19af31(0x455)][_0x19af31(0x3ab)]()!==''&&(_0xa273cb=_0x4cb9a6[_0x19af31(0x69b)][_0x19af31(0x455)][_0x19af31(0x3ab)]()),this[_0x19af31(0x267)][_0x19af31(0x302)](this[_0x19af31(0x383)]+'\x20('+this['instance']['wuid']+_0x19af31(0x64a));let _0x195df8={'number':_0xa273cb,'options':{'delay':_0x4cb9a6['uazapi'][_0x19af31(0x7b6)],'linkPreview':_0x4cb9a6['uazapi'][_0x19af31(0x523)]},'textMessage':{'text':_0x4cb9a6[_0x19af31(0x69b)][_0x19af31(0x4a9)]}};try{let _0xfd647d=await this[_0x19af31(0x5d0)](_0x195df8);if(_0xfd647d){let _0x44af10={'_id':_0xfd647d['key']['id'],'_fromMe':_0xfd647d[_0x19af31(0x663)][_0x19af31(0x60e)],'_remoteJid':_0xfd647d[_0x19af31(0x663)][_0x19af31(0x455)]},_0x4f8051=(0x0,w[_0x19af31(0x36a)])(_0xfd647d[_0x19af31(0x60b)]),_0x11bea3=(0x0,w[_0x19af31(0x212)])(_0x4f8051);_0x4c2e43[_0x19af31(0x5a8)][_0x19af31(0x23c)]=_0x4cb9a6[_0x19af31(0x3b9)][_0x19af31(0x3f4)]();let {message_normalized:_0x446707}=this[_0x19af31(0x79e)](_0x4f8051,_0x11bea3,null);_0x4c2e43['chatLog'][_0x19af31(0x30c)]=await _0x446707;let _0x457453={'messageId':_0xfd647d['key']['id']},_0x4be556=_0x4c2e43[_0x19af31(0x5a8)][_0x19af31(0x6ea)];Object[_0x19af31(0x6cc)](_0x4be556,_0x44af10),_0x4c2e43[_0x19af31(0x5a8)][_0x19af31(0x6ea)]=_0x4be556,this[_0x19af31(0x1db)](_0x4c2e43,_0x4cb9a6,_0x457453);}else{let _0x314e0a={'error':!0x0};this[_0x19af31(0x1db)](_0x4c2e43,_0x4cb9a6,_0x314e0a),this[_0x19af31(0x267)]['error'](this[_0x19af31(0x383)]+'\x20('+this[_0x19af31(0x403)]['wuid']+_0x19af31(0x629));}}catch(_0x5f2a32){let _0x13f5b8={'error':!0x0,'errorLog':_0x5f2a32[_0x19af31(0x3f4)]()};this[_0x19af31(0x1db)](_0x4c2e43,_0x4cb9a6,_0x13f5b8),this[_0x19af31(0x267)]['error'](this['instanceName']+'\x20('+this['instance']['wuid']+_0x19af31(0x260)+(_0x5f2a32 instanceof Error?_0x5f2a32[_0x19af31(0x60b)]:JSON[_0x19af31(0x450)](_0x5f2a32,null,0x2)));}}async[a0_0x6d27f9(0x16c)](_0x20dc2a,_0x490d98){const _0x44b0a3=a0_0x6d27f9;let _0x3dc6a0=_0x20dc2a['remoteJid'];_0x490d98[_0x44b0a3(0x69b)][_0x44b0a3(0x455)]&&_0x490d98[_0x44b0a3(0x69b)]['remoteJid']['trim']()!==''&&(_0x3dc6a0=_0x490d98['uazapi'][_0x44b0a3(0x455)][_0x44b0a3(0x3ab)]()),this[_0x44b0a3(0x267)][_0x44b0a3(0x302)](this[_0x44b0a3(0x383)]+'\x20('+this[_0x44b0a3(0x403)]['wuid']+_0x44b0a3(0x63e));let _0x101fd8={'number':_0x3dc6a0,'options':{'delay':_0x490d98[_0x44b0a3(0x69b)][_0x44b0a3(0x7b6)],'linkPreview':_0x490d98['uazapi'][_0x44b0a3(0x523)]},'mediaMessage':{'mediatype':_0x490d98['uazapi'][_0x44b0a3(0x39e)],'caption':_0x490d98[_0x44b0a3(0x69b)][_0x44b0a3(0x4a1)],'media':_0x490d98[_0x44b0a3(0x69b)]['media'],'fileName':_0x490d98[_0x44b0a3(0x69b)]['fileName']}};try{let _0x192fa1=await this['mediaMessage'](_0x101fd8);if(_0x192fa1){let _0x5aba71={'_id':_0x192fa1[_0x44b0a3(0x663)]['id'],'_fromMe':_0x192fa1['key']['fromMe'],'_remoteJid':_0x192fa1['key']['remoteJid']},_0x5db0a3=(0x0,w[_0x44b0a3(0x36a)])(_0x192fa1[_0x44b0a3(0x60b)]),_0x48049e=(0x0,w[_0x44b0a3(0x212)])(_0x5db0a3);_0x20dc2a[_0x44b0a3(0x5a8)][_0x44b0a3(0x23c)]=_0x490d98['_id'][_0x44b0a3(0x3f4)]();let {message_normalized:_0x3d4d88}=this[_0x44b0a3(0x79e)](_0x5db0a3,_0x48049e,null);_0x20dc2a[_0x44b0a3(0x5a8)][_0x44b0a3(0x30c)]=await _0x3d4d88;let _0x2db942={'messageId':_0x192fa1[_0x44b0a3(0x663)]['id']},_0x1b1f5a=_0x20dc2a[_0x44b0a3(0x5a8)][_0x44b0a3(0x6ea)];Object[_0x44b0a3(0x6cc)](_0x1b1f5a,_0x5aba71),_0x20dc2a[_0x44b0a3(0x5a8)][_0x44b0a3(0x6ea)]=_0x1b1f5a,this[_0x44b0a3(0x1db)](_0x20dc2a,_0x490d98,_0x2db942);}else{let _0x317d9f={'error':!0x0};this['updateConversation'](_0x20dc2a,_0x490d98,_0x317d9f),this[_0x44b0a3(0x267)][_0x44b0a3(0x782)](this['instanceName']+'\x20('+this[_0x44b0a3(0x403)][_0x44b0a3(0x367)]+_0x44b0a3(0x1f9));}}catch(_0x4c5c5d){let _0x22013e={'error':!0x0,'errorLog':_0x4c5c5d[_0x44b0a3(0x3f4)]()};this[_0x44b0a3(0x1db)](_0x20dc2a,_0x490d98,_0x22013e),this['logger'][_0x44b0a3(0x782)](this['instanceName']+'\x20('+this[_0x44b0a3(0x403)][_0x44b0a3(0x367)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20'+(_0x4c5c5d instanceof Error?_0x4c5c5d[_0x44b0a3(0x60b)]:JSON[_0x44b0a3(0x450)](_0x4c5c5d,null,0x2)));}}async[a0_0x6d27f9(0x1fb)](_0x580b26,_0x17789b){const _0x111f38=a0_0x6d27f9;let _0x5151c2=_0x580b26[_0x111f38(0x455)];_0x17789b[_0x111f38(0x69b)]['remoteJid']&&_0x17789b[_0x111f38(0x69b)][_0x111f38(0x455)]['trim']()!==''&&(_0x5151c2=_0x17789b[_0x111f38(0x69b)][_0x111f38(0x455)]['trim']()),this[_0x111f38(0x267)][_0x111f38(0x302)](this[_0x111f38(0x383)]+'\x20('+this[_0x111f38(0x403)][_0x111f38(0x367)]+_0x111f38(0x4c6));let _0x2a1ce3={'number':_0x5151c2,'options':{'delay':_0x17789b[_0x111f38(0x69b)][_0x111f38(0x7b6)]},'locationMessage':{'name':_0x17789b['uazapi'][_0x111f38(0x552)],'address':_0x17789b[_0x111f38(0x69b)][_0x111f38(0x724)],'latitude':_0x17789b[_0x111f38(0x69b)][_0x111f38(0x12c)],'longitude':_0x17789b[_0x111f38(0x69b)][_0x111f38(0x2cb)]}};try{let _0x4207f6=await this[_0x111f38(0x378)](_0x2a1ce3);if(_0x4207f6){let _0xb74705={'_id':_0x4207f6[_0x111f38(0x663)]['id'],'_fromMe':_0x4207f6[_0x111f38(0x663)][_0x111f38(0x60e)],'_remoteJid':_0x4207f6[_0x111f38(0x663)][_0x111f38(0x455)]},_0x28b6aa=(0x0,w[_0x111f38(0x36a)])(_0x4207f6['message']),_0x13f382=(0x0,w[_0x111f38(0x212)])(_0x28b6aa);_0x580b26[_0x111f38(0x5a8)][_0x111f38(0x23c)]=_0x17789b[_0x111f38(0x3b9)][_0x111f38(0x3f4)]();let {message_normalized:_0x11ad14}=this['normalizeMessage'](_0x28b6aa,_0x13f382,null);_0x580b26[_0x111f38(0x5a8)][_0x111f38(0x30c)]=await _0x11ad14;let _0x46e9a4={'messageId':_0x4207f6[_0x111f38(0x663)]['id']},_0x1fb55d=_0x580b26[_0x111f38(0x5a8)]['realVariables'];Object[_0x111f38(0x6cc)](_0x1fb55d,_0xb74705),_0x580b26[_0x111f38(0x5a8)][_0x111f38(0x6ea)]=_0x1fb55d,this[_0x111f38(0x1db)](_0x580b26,_0x17789b,_0x46e9a4);}else{let _0xd643b4={'error':!0x0};this[_0x111f38(0x1db)](_0x580b26,_0x17789b,_0xd643b4),this['logger']['error'](this[_0x111f38(0x383)]+'\x20('+this[_0x111f38(0x403)][_0x111f38(0x367)]+_0x111f38(0x490));}}catch(_0x3c828d){let _0x2a455e={'error':!0x0,'errorLog':_0x3c828d['toString']()};this[_0x111f38(0x1db)](_0x580b26,_0x17789b,_0x2a455e),this[_0x111f38(0x267)][_0x111f38(0x782)](this[_0x111f38(0x383)]+'\x20('+this[_0x111f38(0x403)][_0x111f38(0x367)]+_0x111f38(0x511)+(_0x3c828d instanceof Error?_0x3c828d[_0x111f38(0x60b)]:JSON[_0x111f38(0x450)](_0x3c828d,null,0x2)));}}async[a0_0x6d27f9(0xd1)](_0x55040c,_0x525574){const _0x6cfb11=a0_0x6d27f9;let _0x3843b8=_0x55040c[_0x6cfb11(0x455)];_0x525574[_0x6cfb11(0x69b)][_0x6cfb11(0x455)]&&_0x525574[_0x6cfb11(0x69b)]['remoteJid'][_0x6cfb11(0x3ab)]()!==''&&(_0x3843b8=_0x525574[_0x6cfb11(0x69b)][_0x6cfb11(0x455)][_0x6cfb11(0x3ab)]()),this['logger'][_0x6cfb11(0x302)](this['instanceName']+'\x20('+this[_0x6cfb11(0x403)][_0x6cfb11(0x367)]+_0x6cfb11(0x29c));let _0x20090e={'number':_0x3843b8,'options':{'delay':_0x525574[_0x6cfb11(0x69b)][_0x6cfb11(0x7b6)]},'audioMessage':{'audio':_0x525574[_0x6cfb11(0x69b)][_0x6cfb11(0x4bd)]}};try{let _0x2c8e04=await this[_0x6cfb11(0x5f0)](_0x20090e);if(_0x2c8e04){let _0xfb2257={'_id':_0x2c8e04[_0x6cfb11(0x663)]['id'],'_fromMe':_0x2c8e04['key']['fromMe'],'_remoteJid':_0x2c8e04[_0x6cfb11(0x663)]['remoteJid']},_0x40b5d7=(0x0,w[_0x6cfb11(0x36a)])(_0x2c8e04[_0x6cfb11(0x60b)]),_0x22bd9f=(0x0,w['getContentType'])(_0x40b5d7);_0x55040c[_0x6cfb11(0x5a8)][_0x6cfb11(0x23c)]=_0x525574[_0x6cfb11(0x3b9)][_0x6cfb11(0x3f4)]();let {message_normalized:_0x48bbe2}=this[_0x6cfb11(0x79e)](_0x40b5d7,_0x22bd9f,null);_0x55040c[_0x6cfb11(0x5a8)]['lastSendMessage']=await _0x48bbe2;let _0x4b532e={'messageId':_0x2c8e04[_0x6cfb11(0x663)]['id']},_0x3f8570=_0x55040c[_0x6cfb11(0x5a8)][_0x6cfb11(0x6ea)];Object[_0x6cfb11(0x6cc)](_0x3f8570,_0xfb2257),_0x55040c[_0x6cfb11(0x5a8)][_0x6cfb11(0x6ea)]=_0x3f8570,this[_0x6cfb11(0x1db)](_0x55040c,_0x525574,_0x4b532e);}else{let _0x34caf6={'error':!0x0};this[_0x6cfb11(0x1db)](_0x55040c,_0x525574,_0x34caf6),this[_0x6cfb11(0x267)]['error'](this[_0x6cfb11(0x383)]+'\x20('+this['instance'][_0x6cfb11(0x367)]+_0x6cfb11(0x44d));}}catch(_0x5cf55c){let _0x4dd53a={'error':!0x0,'errorLog':_0x5cf55c[_0x6cfb11(0x3f4)]()};this[_0x6cfb11(0x1db)](_0x55040c,_0x525574,_0x4dd53a),this['logger']['error'](this['instanceName']+'\x20('+this[_0x6cfb11(0x403)][_0x6cfb11(0x367)]+_0x6cfb11(0x77b)+(_0x5cf55c instanceof Error?_0x5cf55c[_0x6cfb11(0x60b)]:JSON['stringify'](_0x5cf55c,null,0x2)));}}async[a0_0x6d27f9(0x6d3)](_0x4a0186,_0x4524e6){const _0x393330=a0_0x6d27f9;let _0x1f423c=_0x4a0186[_0x393330(0x455)];_0x4524e6[_0x393330(0x69b)][_0x393330(0x455)]&&_0x4524e6[_0x393330(0x69b)][_0x393330(0x455)][_0x393330(0x3ab)]()!==''&&(_0x1f423c=_0x4524e6['uazapi'][_0x393330(0x455)][_0x393330(0x3ab)]()),this[_0x393330(0x267)]['verbose'](this[_0x393330(0x383)]+'\x20('+this['instance'][_0x393330(0x367)]+'):\x20Enviando\x20contato');let _0x5b399d={'number':_0x1f423c,'options':{'delay':_0x4524e6[_0x393330(0x69b)][_0x393330(0x7b6)]},'contactMessage':[{'fullName':_0x4524e6[_0x393330(0x69b)]['fullName'],'phoneNumber':_0x4524e6[_0x393330(0x69b)][_0x393330(0x4e0)]}]};try{let _0x48903c=await this[_0x393330(0x7b8)](_0x5b399d);if(_0x48903c){let _0x1c9cff={'_id':_0x48903c[_0x393330(0x663)]['id'],'_fromMe':_0x48903c[_0x393330(0x663)][_0x393330(0x60e)],'_remoteJid':_0x48903c[_0x393330(0x663)][_0x393330(0x455)]},_0xd69d89=(0x0,w[_0x393330(0x36a)])(_0x48903c[_0x393330(0x60b)]),_0x5e8cb0=(0x0,w['getContentType'])(_0xd69d89);_0x4a0186[_0x393330(0x5a8)][_0x393330(0x23c)]=_0x4524e6[_0x393330(0x3b9)][_0x393330(0x3f4)]();let {message_normalized:_0x5ffd7c}=this['normalizeMessage'](_0xd69d89,_0x5e8cb0,null);_0x4a0186[_0x393330(0x5a8)][_0x393330(0x30c)]=await _0x5ffd7c;let _0x263b26={'messageId':_0x48903c[_0x393330(0x663)]['id']},_0x5833a6=_0x4a0186[_0x393330(0x5a8)]['realVariables'];Object[_0x393330(0x6cc)](_0x5833a6,_0x1c9cff),_0x4a0186[_0x393330(0x5a8)][_0x393330(0x6ea)]=_0x5833a6,this[_0x393330(0x1db)](_0x4a0186,_0x4524e6,_0x263b26);}else{let _0x5ca53e={'error':!0x0};this['updateConversation'](_0x4a0186,_0x4524e6,_0x5ca53e),this[_0x393330(0x267)][_0x393330(0x782)](this[_0x393330(0x383)]+'\x20('+this[_0x393330(0x403)][_0x393330(0x367)]+_0x393330(0x74f));}}catch(_0x43fac3){let _0x42e77b={'error':!0x0,'errorLog':_0x43fac3[_0x393330(0x3f4)]()};this[_0x393330(0x1db)](_0x4a0186,_0x4524e6,_0x42e77b),this['logger'][_0x393330(0x782)](this[_0x393330(0x383)]+'\x20('+this[_0x393330(0x403)][_0x393330(0x367)]+_0x393330(0x7ed)+(_0x43fac3 instanceof Error?_0x43fac3[_0x393330(0x60b)]:JSON['stringify'](_0x43fac3,null,0x2)));}}['replaceVariablesInReplyOptions'](_0x2d4302,_0x4ada5f){const _0x9129bc=a0_0x6d27f9;for(let _0x4b5517 of _0x2d4302)_0x4b5517[_0x9129bc(0x547)]&&(_0x4b5517['option']=this['replaceVariables'](_0x4b5517[_0x9129bc(0x547)],_0x4ada5f)),_0x4b5517[_0x9129bc(0x314)]&&(_0x4b5517[_0x9129bc(0x314)]=this[_0x9129bc(0x614)](_0x4b5517[_0x9129bc(0x314)],_0x4ada5f));}async[a0_0x6d27f9(0x132)](_0x479f60,_0x40347e){const _0x2aac72=a0_0x6d27f9;let _0x56fb70=_0x479f60[_0x2aac72(0x455)];_0x40347e[_0x2aac72(0x69b)]['remoteJid']&&_0x40347e[_0x2aac72(0x69b)]['remoteJid'][_0x2aac72(0x3ab)]()!==''&&(_0x56fb70=_0x40347e['uazapi'][_0x2aac72(0x455)][_0x2aac72(0x3ab)]()),this[_0x2aac72(0x267)][_0x2aac72(0x302)](this[_0x2aac72(0x383)]+'\x20('+this[_0x2aac72(0x403)][_0x2aac72(0x367)]+'):\x20Enviando\x20enquete');let _0x3f4cc7=_0x479f60[_0x2aac72(0x348)][_0x2aac72(0x3ec)](_0xa9642b=>_0xa9642b['blockId']===_0x40347e[_0x2aac72(0x3b9)])['sort']((_0x3562c9,_0x3ec2d4)=>_0x3562c9[_0x2aac72(0x4d7)]-_0x3ec2d4['order']);this[_0x2aac72(0x62b)](_0x3f4cc7,_0x479f60[_0x2aac72(0x5a8)][_0x2aac72(0x6ea)]);let _0x396e77=_0x3f4cc7['map'](_0xc0ca33=>_0xc0ca33[_0x2aac72(0x547)]),_0x37c089={'number':_0x56fb70,'menuMessage':{'type':_0x40347e['uazapi'][_0x2aac72(0x3e4)]||'poll','text':_0x40347e[_0x2aac72(0x69b)][_0x2aac72(0x4a9)]||_0x40347e['uazapi'][_0x2aac72(0x552)],'footerText':_0x40347e[_0x2aac72(0x69b)][_0x2aac72(0x448)],'buttonText':_0x40347e[_0x2aac72(0x69b)][_0x2aac72(0x6be)],'selectableCount':0x1,'choices':_0x396e77},'options':{'delay':_0x40347e[_0x2aac72(0x69b)][_0x2aac72(0x7b6)]}};try{let _0x41fdfd=await this['menuMessage'](_0x37c089);if(_0x41fdfd){let _0x53ff11={'_id':_0x41fdfd[_0x2aac72(0x663)]['id'],'_fromMe':_0x41fdfd[_0x2aac72(0x663)]['fromMe'],'_remoteJid':_0x41fdfd[_0x2aac72(0x663)]['remoteJid']};_0x40347e[_0x2aac72(0x69b)][_0x2aac72(0x15f)]===!0x0&&(_0x479f60[_0x2aac72(0x538)]=_0x2aac72(0x385),this[_0x2aac72(0x267)][_0x2aac72(0x302)](this[_0x2aac72(0x383)]+'\x20('+this['instance']['wuid']+_0x2aac72(0x33b)+_0x479f60[_0x2aac72(0x538)])),this[_0x2aac72(0x267)][_0x2aac72(0x302)](this[_0x2aac72(0x383)]+'\x20('+this[_0x2aac72(0x403)]['wuid']+_0x2aac72(0x3b2)+(_0x40347e['uazapi']['name']||_0x40347e[_0x2aac72(0x69b)][_0x2aac72(0x4a9)])),_0x479f60['waitingMenu_id']=_0x41fdfd[_0x2aac72(0x663)]['id'],_0x479f60['waitingMenu_text']=_0x40347e[_0x2aac72(0x69b)]['name']||_0x40347e['uazapi'][_0x2aac72(0x4a9)],_0x479f60[_0x2aac72(0x53b)]=_0x3f4cc7,_0x40347e[_0x2aac72(0x69b)]['menuExpiredMessage']&&(_0x479f60[_0x2aac72(0x493)]=_0x40347e[_0x2aac72(0x69b)][_0x2aac72(0x130)]),this[_0x2aac72(0x267)][_0x2aac72(0x302)](this['instanceName']+'\x20('+this[_0x2aac72(0x403)][_0x2aac72(0x367)]+_0x2aac72(0x7be)+_0x479f60['waitingMenu_text']);let _0x23b049=(0x0,w[_0x2aac72(0x36a)])(_0x41fdfd[_0x2aac72(0x60b)]),_0x34bde1=(0x0,w['getContentType'])(_0x23b049);_0x479f60['chatLog']['lastBlockId']=_0x40347e['_id'][_0x2aac72(0x3f4)]();let {message_normalized:_0x1a9b75}=this['normalizeMessage'](_0x23b049,_0x34bde1,null);_0x479f60[_0x2aac72(0x5a8)][_0x2aac72(0x30c)]=await _0x1a9b75;let _0x2b9e91={'messageId':_0x41fdfd[_0x2aac72(0x663)]['id']},_0x14e348=_0x479f60[_0x2aac72(0x5a8)][_0x2aac72(0x6ea)];Object[_0x2aac72(0x6cc)](_0x14e348,_0x53ff11),_0x479f60[_0x2aac72(0x5a8)][_0x2aac72(0x6ea)]=_0x14e348,this[_0x2aac72(0x1db)](_0x479f60,_0x40347e,_0x2b9e91);}else{let _0x2904e8={'error':!0x0};this['updateConversation'](_0x479f60,_0x40347e,_0x2904e8),this[_0x2aac72(0x267)][_0x2aac72(0x782)](this[_0x2aac72(0x383)]+'\x20('+this[_0x2aac72(0x403)]['wuid']+_0x2aac72(0x6a6));}}catch(_0x95d39e){let _0x1515f9={'error':!0x0,'errorLog':_0x95d39e instanceof Error?_0x95d39e[_0x2aac72(0x60b)]:JSON['stringify'](_0x95d39e,null,0x2)};this[_0x2aac72(0x1db)](_0x479f60,_0x40347e,_0x1515f9),this[_0x2aac72(0x267)]['error'](this[_0x2aac72(0x383)]+'\x20('+this[_0x2aac72(0x403)][_0x2aac72(0x367)]+'):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete:\x20'+(_0x95d39e instanceof Error?_0x95d39e[_0x2aac72(0x60b)]:JSON[_0x2aac72(0x450)](_0x95d39e,null,0x2)));}}async[a0_0x6d27f9(0x577)](_0x12647c,_0x419d1d){const _0x375be1=a0_0x6d27f9;this[_0x375be1(0x267)]['verbose'](this[_0x375be1(0x383)]+'\x20('+this[_0x375be1(0x403)][_0x375be1(0x367)]+_0x375be1(0x4a6));let _0x647979=_0x12647c['chatLog']['blockLogs'][_0x375be1(0x37d)](_0x3f8207=>_0x3f8207[_0x375be1(0x234)][_0x375be1(0x3f4)]()===_0x419d1d[_0x375be1(0x69b)][_0x375be1(0x234)][_0x375be1(0x3f4)]()),_0x28c261={'id':_0x647979[_0x375be1(0x24f)],'remoteJid':_0x647979[_0x375be1(0x455)],'fromMe':_0x647979['fromMe']};try{let _0x374f53=await this[_0x375be1(0x3cb)](_0x28c261);if(_0x374f53){let _0x1b6240=(0x0,w[_0x375be1(0x36a)])(_0x374f53[_0x375be1(0x60b)]),_0x3af19b=(0x0,w[_0x375be1(0x212)])(_0x1b6240);_0x12647c[_0x375be1(0x5a8)][_0x375be1(0x23c)]=_0x419d1d[_0x375be1(0x3b9)][_0x375be1(0x3f4)]();let {message_normalized:_0x14d0ad}=this[_0x375be1(0x79e)](_0x1b6240,_0x3af19b,null);_0x12647c[_0x375be1(0x5a8)][_0x375be1(0x30c)]=await _0x14d0ad;let _0x18c8da={};this['updateConversation'](_0x12647c,_0x419d1d,_0x18c8da);}else{let _0x38b3ea={'error':!0x0};this[_0x375be1(0x1db)](_0x12647c,_0x419d1d,_0x38b3ea),this[_0x375be1(0x267)][_0x375be1(0x782)](this['instanceName']+'\x20('+this[_0x375be1(0x403)][_0x375be1(0x367)]+'):\x20Falha\x20ao\x20deletar\x20mensagem.');}}catch(_0x2dd98f){let _0x28ccce={'error':!0x0,'errorLog':_0x2dd98f instanceof Error?_0x2dd98f[_0x375be1(0x60b)]:JSON['stringify'](_0x2dd98f,null,0x2)};this[_0x375be1(0x1db)](_0x12647c,_0x419d1d,_0x28ccce),this[_0x375be1(0x267)][_0x375be1(0x782)](this['instanceName']+'\x20('+this[_0x375be1(0x403)]['wuid']+_0x375be1(0x67d)+(_0x2dd98f instanceof Error?_0x2dd98f[_0x375be1(0x60b)]:JSON[_0x375be1(0x450)](_0x2dd98f,null,0x2)));}}async[a0_0x6d27f9(0x6b4)](_0xb9108f,_0x592169){const _0x351336=a0_0x6d27f9;if(_0xb9108f[_0x351336(0x552)]||(_0xb9108f[_0x351336(0x552)]=(0x0,fe['v4'])()),_0x592169!==$o&&_0xb9108f?.[_0x351336(0x7e6)])throw new m(_0x351336(0x7e0));if(_0x351336(0x3b9)in _0xb9108f&&_0x351336(0x115)in _0xb9108f)return this[_0x351336(0x4ee)](_0xb9108f[_0x351336(0x115)],_0xb9108f[_0x351336(0x3b9)]);this['logger'][_0x351336(0x302)](this[_0x351336(0x383)]+'\x20('+this['instance'][_0x351336(0x367)]+_0x351336(0x4f1));let _0x545833=this[_0x351336(0xf0)](_0xb9108f[_0x351336(0x552)]),_0x5995a5=new pe['Types'][(_0x351336(0x3dc))](),_0x3d9619={'_id':_0x5995a5,'default':!0x0,'title':_0x351336(0x2ea),'x':0x0,'y':0x0},_0x56f3d5={'_id':new pe[(_0x351336(0x65f))]['ObjectId'](),'order':0x1,'groupId':_0x5995a5[_0x351336(0x3f4)](),'type':_0x351336(0x546)},_0x4240aa=this[_0x351336(0x403)][_0x351336(0x367)],_0x3a125d={'_id':(0x0,fe['v4'])(),'owner':_0x4240aa,'name':_0x545833,'whoCanEdit':[_0x4240aa],'whoCanUse':[_0x4240aa],'groups':[_0x3d9619],'blocks':[_0x56f3d5],..._0xb9108f};try{let _0x1e617e=await this[_0x351336(0x4d0)]['flow'][_0x351336(0x6bf)](_0x3a125d);return await this[_0x351336(0x344)](),_0x1e617e;}catch(_0x3ab585){let _0x812020=_0x351336(0x392),_0x28ce61=_0x3ab585 instanceof Error?_0x3ab585[_0x351336(0x60b)]:typeof _0x3ab585==_0x351336(0x5c4)?JSON['stringify'](_0x3ab585):_0x3ab585,_0x5f5413=_0x812020+':\x20'+_0x28ce61;throw this[_0x351336(0x267)]['error'](this['instanceName']+'\x20('+this[_0x351336(0x403)][_0x351336(0x367)]+_0x351336(0x4a0)+_0x5f5413),new m(_0x5f5413);}}async['AddUserFlow'](_0x13bc57,_0x1b3cea){const _0x9ebcc6=a0_0x6d27f9;try{this[_0x9ebcc6(0x267)][_0x9ebcc6(0x302)](this[_0x9ebcc6(0x383)]+'\x20('+this[_0x9ebcc6(0x403)][_0x9ebcc6(0x367)]+_0x9ebcc6(0x589));let _0x302b2a=await this['repository'][_0x9ebcc6(0x43d)][_0x9ebcc6(0x206)]({'where':{'_id':_0x1b3cea,'owner':_0x13bc57}});if(!_0x302b2a)throw new m('Nenhum\x20fluxo\x20correspondente\x20encontrado.');if(_0x302b2a[_0x9ebcc6(0x124)]===!0x1&&!_0x302b2a[_0x9ebcc6(0x7e6)])throw new m(_0x9ebcc6(0x6f9));let _0x2aa8ff=new Set(_0x302b2a['whoCanUse']??[]);_0x2aa8ff[_0x9ebcc6(0x664)](this[_0x9ebcc6(0x403)]['wuid']);let _0x35a1eb=await this[_0x9ebcc6(0x4d0)][_0x9ebcc6(0x43d)][_0x9ebcc6(0x46a)](_0x1b3cea,{..._0x302b2a,'whoCanUse':Array[_0x9ebcc6(0x4db)](_0x2aa8ff)});return await this[_0x9ebcc6(0x344)](),_0x35a1eb;}catch(_0x316c75){let _0x8c490d=_0x9ebcc6(0x402),_0x20b7e1=_0x316c75 instanceof Error?_0x316c75[_0x9ebcc6(0x60b)]:typeof _0x316c75=='object'?JSON[_0x9ebcc6(0x450)](_0x316c75):_0x316c75,_0x3a326b=_0x8c490d+':\x20'+_0x20b7e1;throw this[_0x9ebcc6(0x267)][_0x9ebcc6(0x782)](this['instanceName']+'\x20('+this[_0x9ebcc6(0x403)][_0x9ebcc6(0x367)]+_0x9ebcc6(0x4a0)+_0x3a326b),new m(_0x3a326b);}}[a0_0x6d27f9(0xf0)](_0x292828){const _0x35ee14=a0_0x6d27f9;let _0x57ce67=_0x292828,_0x31eafc=0x1;for(;this[_0x35ee14(0x3d6)][_0x35ee14(0x40f)]['some'](_0x32818d=>_0x32818d[_0x35ee14(0x552)]===_0x57ce67);)_0x31eafc++,_0x57ce67=_0x292828+'\x20('+_0x31eafc+')';return _0x57ce67;}async['deleteFlow'](_0x396232){const _0x2732f0=a0_0x6d27f9;try{if(this[_0x2732f0(0x267)][_0x2732f0(0x302)](this[_0x2732f0(0x383)]+'\x20('+this[_0x2732f0(0x403)][_0x2732f0(0x367)]+_0x2732f0(0x61a)+_0x396232[_0x2732f0(0x3b9)]+',\x20global:\x20'+_0x396232[_0x2732f0(0x60c)]),!this[_0x2732f0(0x3d6)][_0x2732f0(0x40f)][_0x2732f0(0x37d)](_0x4588fa=>_0x4588fa[_0x2732f0(0x3b9)]===_0x396232[_0x2732f0(0x3b9)]))throw this[_0x2732f0(0x267)]['verbose'](this['instanceName']+'\x20('+this[_0x2732f0(0x403)][_0x2732f0(0x367)]+_0x2732f0(0x5d2)+_0x396232[_0x2732f0(0x3b9)]+_0x2732f0(0x6e3)),new m(_0x2732f0(0x40e));let _0x4a484e=await this[_0x2732f0(0x4d0)]['flow'][_0x2732f0(0x206)]({'where':{'_id':_0x396232[_0x2732f0(0x3b9)]}});if(!_0x4a484e)throw new m('Fluxo\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(this[_0x2732f0(0x403)][_0x2732f0(0x367)]===_0x4a484e[_0x2732f0(0x115)]){this[_0x2732f0(0x267)][_0x2732f0(0x302)](this[_0x2732f0(0x383)]+'\x20('+this[_0x2732f0(0x403)]['wuid']+'):\x20Excluindo\x20completamente\x20o\x20fluxo\x20\x27'+_0x396232[_0x2732f0(0x3b9)]+_0x2732f0(0x23d));let _0x5866c8=await this[_0x2732f0(0x4d0)][_0x2732f0(0x43d)]['deleteOne']({'where':{'_id':_0x396232[_0x2732f0(0x3b9)]}});return await this[_0x2732f0(0x344)](),_0x5866c8;}return this[_0x2732f0(0x267)][_0x2732f0(0x302)](this[_0x2732f0(0x383)]+'\x20('+this[_0x2732f0(0x403)]['wuid']+_0x2732f0(0x524)+this[_0x2732f0(0x403)]['wuid']+_0x2732f0(0x6a3)+_0x396232[_0x2732f0(0x3b9)]+_0x2732f0(0x6a5)),_0x4a484e['whoCanUse']=(_0x4a484e[_0x2732f0(0x44c)]??[])[_0x2732f0(0x3ec)](_0xdc9a2a=>_0xdc9a2a!==this['instance'][_0x2732f0(0x367)]),_0x4a484e[_0x2732f0(0x622)]=(_0x4a484e[_0x2732f0(0x622)]??[])['filter'](_0x28fd90=>_0x28fd90!==this[_0x2732f0(0x403)][_0x2732f0(0x367)]),_0x4a484e['whoCanEdit'][_0x2732f0(0x4b3)]===0x0&&_0x4a484e[_0x2732f0(0x44c)][_0x2732f0(0x4b3)]>0x0&&(_0x4a484e['whoCanEdit'][_0x2732f0(0x6b3)](_0x4a484e[_0x2732f0(0x44c)][0x0]),this['logger'][_0x2732f0(0x302)](this['instanceName']+'\x20('+this['instance'][_0x2732f0(0x367)]+_0x2732f0(0x18d)+_0x4a484e[_0x2732f0(0x44c)][0x0]+_0x2732f0(0x4c7)+_0x396232[_0x2732f0(0x3b9)]+_0x2732f0(0x6a5))),await this[_0x2732f0(0x4d0)]['flow'][_0x2732f0(0x46a)](_0x4a484e[_0x2732f0(0x3b9)],_0x4a484e),await this[_0x2732f0(0x344)](),{'message':_0x2732f0(0x527)+_0x396232[_0x2732f0(0x552)]+_0x2732f0(0x16a)};}catch(_0x2d0511){return this[_0x2732f0(0x267)]['error'](this[_0x2732f0(0x383)]+'\x20('+this[_0x2732f0(0x403)][_0x2732f0(0x367)]+_0x2732f0(0x337)+(_0x2d0511 instanceof Error?_0x2d0511[_0x2732f0(0x60b)]:JSON[_0x2732f0(0x450)](_0x2d0511,null,0x2))),{'message':_0x2732f0(0x224)+(_0x2d0511 instanceof Error?_0x2d0511[_0x2732f0(0x60b)]:JSON[_0x2732f0(0x450)](_0x2d0511,null,0x2))};}}async[a0_0x6d27f9(0x129)](_0x18d607){const _0x1a01dd=a0_0x6d27f9;try{if(this[_0x1a01dd(0x267)][_0x1a01dd(0xf3)](this[_0x1a01dd(0x383)]+'\x20('+this[_0x1a01dd(0x403)][_0x1a01dd(0x367)]+_0x1a01dd(0x53e)+_0x18d607),!this[_0x1a01dd(0x3d6)]&&(await this[_0x1a01dd(0x4cf)](),!this[_0x1a01dd(0x3d6)]))return null;let _0xe3dd10=await this[_0x1a01dd(0x4d0)][_0x1a01dd(0x43d)][_0x1a01dd(0x206)]({'where':{'_id':_0x18d607}});if(!_0xe3dd10)throw new m(_0x1a01dd(0x790)+_0x18d607+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados.');if(!(_0xe3dd10['globalShow']||_0xe3dd10[_0x1a01dd(0x44c)]?.['includes'](this['instance'][_0x1a01dd(0x367)])))throw new m(_0x1a01dd(0x576)+name+'\x27');_0xe3dd10[_0x1a01dd(0x7e6)]&&!_0xe3dd10[_0x1a01dd(0x44c)]?.[_0x1a01dd(0x562)](this[_0x1a01dd(0x403)][_0x1a01dd(0x367)])&&(_0xe3dd10[_0x1a01dd(0x44c)]=[..._0xe3dd10[_0x1a01dd(0x44c)]??[],this[_0x1a01dd(0x403)][_0x1a01dd(0x367)]],await this['repository'][_0x1a01dd(0x43d)][_0x1a01dd(0x46a)](_0xe3dd10[_0x1a01dd(0x3b9)],_0xe3dd10),this[_0x1a01dd(0x344)]());let _0x27e795=this[_0x1a01dd(0x3d6)]?.[_0x1a01dd(0x62d)][_0x1a01dd(0x5f1)](_0x336ee3=>_0x336ee3[_0x1a01dd(0x552)]),_0x226a68=[_0x1a01dd(0x2ef),_0x1a01dd(0x254),_0x1a01dd(0x5e4),_0x1a01dd(0x294),'status','notas',_0x1a01dd(0x2fc),'tags',_0x1a01dd(0x77d),_0x1a01dd(0x4e1),_0x1a01dd(0x2cf)];_0xe3dd10[_0x1a01dd(0x522)]=_0xe3dd10[_0x1a01dd(0x522)][_0x1a01dd(0x3ec)](_0x114e01=>!(_0x114e01['folder']===_0x1a01dd(0x368)||_0x114e01[_0x1a01dd(0x368)])),_0x226a68[_0x1a01dd(0x48c)](_0x5afe46=>{const _0x5d76de=_0x1a01dd;_0xe3dd10['variables'][_0x5d76de(0x6b3)]({'folder':'leadInfo','name':_0x5afe46,'value':'','doc':'','leadInfo':!0x0});}),_0x27e795[_0x1a01dd(0x48c)](_0x1e106b=>{const _0x5a0b62=_0x1a01dd;let _0x19b11a=_0xe3dd10[_0x5a0b62(0x522)][_0x5a0b62(0x2bd)](_0x503f16=>_0x503f16[_0x5a0b62(0x552)]===_0x1e106b);_0x19b11a===-0x1?_0xe3dd10['variables'][_0x5a0b62(0x6b3)]({'folder':'leadInfo','name':_0x1e106b,'value':'','doc':'','leadInfo':!0x0}):(_0xe3dd10[_0x5a0b62(0x522)][_0x19b11a]['folder']='leadInfo',_0xe3dd10[_0x5a0b62(0x522)][_0x19b11a][_0x5a0b62(0x368)]=!0x0);}),_0xe3dd10[_0x1a01dd(0x1b2)]&&_0xe3dd10['blocks'][_0x1a01dd(0x4b3)]>0x0&&_0xe3dd10['blocks']['forEach'](_0x5abd90=>{const _0x4d28a4=_0x1a01dd;_0x5abd90['groupId']&&_0x5abd90[_0x4d28a4(0x2e6)]&&_0x5abd90['groupId']===_0x5abd90[_0x4d28a4(0x2e6)]&&(_0x5abd90[_0x4d28a4(0x2e6)]=null);});let _0x2f4676=await this[_0x1a01dd(0x4d0)]['flow'][_0x1a01dd(0x46a)](_0xe3dd10[_0x1a01dd(0x3b9)],_0xe3dd10);if(!_0x2f4676)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x2f4676;}catch(_0x4b9216){let _0x4d6002=_0x1a01dd(0x60f),_0x536e94=_0x4b9216 instanceof Error?_0x4b9216[_0x1a01dd(0x60b)]:typeof _0x4b9216==_0x1a01dd(0x5c4)?JSON[_0x1a01dd(0x450)](_0x4b9216):_0x4b9216,_0x5bc7ec=_0x4d6002+':\x20'+_0x536e94;throw this[_0x1a01dd(0x267)][_0x1a01dd(0x782)](this[_0x1a01dd(0x383)]+'\x20('+this[_0x1a01dd(0x403)][_0x1a01dd(0x367)]+_0x1a01dd(0x4a0)+_0x5bc7ec),new m(_0x5bc7ec);}}async[a0_0x6d27f9(0x5c3)](){const _0x41ce01=a0_0x6d27f9;try{this[_0x41ce01(0x267)][_0x41ce01(0x302)](this[_0x41ce01(0x383)]+'\x20('+this[_0x41ce01(0x403)][_0x41ce01(0x367)]+_0x41ce01(0x180)),await this[_0x41ce01(0x344)]();let _0x3ff696=await this[_0x41ce01(0x4d0)][_0x41ce01(0x43d)][_0x41ce01(0x4a3)]({'where':{'globalShow':!0x0}});return[...this[_0x41ce01(0x3d6)][_0x41ce01(0x40f)],..._0x3ff696];}catch(_0x4b9dc3){return this['logger']['error'](this[_0x41ce01(0x383)]+'\x20('+this[_0x41ce01(0x403)][_0x41ce01(0x367)]+_0x41ce01(0x4a5)+(_0x4b9dc3 instanceof Error?_0x4b9dc3[_0x41ce01(0x60b)]:JSON[_0x41ce01(0x450)](_0x4b9dc3,null,0x2))),{'message':'Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos:\x20'+(_0x4b9dc3 instanceof Error?_0x4b9dc3[_0x41ce01(0x60b)]:String(_0x4b9dc3))};}}async['editFlow'](_0x15e6d9,_0x514ed5){const _0x169e94=a0_0x6d27f9;try{this[_0x169e94(0x267)][_0x169e94(0x302)](this[_0x169e94(0x383)]+'\x20('+this[_0x169e94(0x403)][_0x169e94(0x367)]+_0x169e94(0x6c5));let _0x5117e4=this[_0x169e94(0x3d6)]['flows'][_0x169e94(0x37d)](_0x55fccc=>_0x55fccc[_0x169e94(0x3b9)]===_0x15e6d9[_0x169e94(0x3b9)]);if(!_0x5117e4)throw this[_0x169e94(0x267)][_0x169e94(0x302)](this[_0x169e94(0x383)]+'\x20('+this[_0x169e94(0x403)]['wuid']+_0x169e94(0x5d2)+_0x15e6d9[_0x169e94(0x3b9)]+_0x169e94(0x6e3)),new m(_0x169e94(0x40e));let _0xd96ba5=await this[_0x169e94(0x4d0)][_0x169e94(0x43d)]['findOne']({'where':{'_id':_0x15e6d9[_0x169e94(0x3b9)]}});if(!_0xd96ba5||!_0xd96ba5[_0x169e94(0x44c)]?.['includes'](this[_0x169e94(0x403)][_0x169e94(0x367)]))throw this['logger'][_0x169e94(0x782)](this['instanceName']+'\x20('+this[_0x169e94(0x403)][_0x169e94(0x367)]+_0x169e94(0x118)+_0x15e6d9[_0x169e94(0x3b9)]+_0x169e94(0x437)),new m(_0x169e94(0x291)+_0x15e6d9[_0x169e94(0x3b9)]+_0x169e94(0x437));let _0x40fd39=this['AutomateSystem']['flows']['findIndex'](_0x3e9522=>_0x3e9522['_id']===_0x5117e4[_0x169e94(0x3b9)]);if(_0x40fd39!==-0x1){let _0x3e4fce=this[_0x169e94(0x3d6)][_0x169e94(0x40f)][_0x40fd39];if(_0x3e4fce[_0x169e94(0x552)]=_0x15e6d9[_0x169e94(0x552)]??_0x3e4fce[_0x169e94(0x552)],_0x3e4fce[_0x169e94(0x49c)]=_0x15e6d9[_0x169e94(0x49c)]??_0x3e4fce[_0x169e94(0x49c)],_0x3e4fce[_0x169e94(0x7e4)]=_0x15e6d9[_0x169e94(0x7e4)]??_0x3e4fce[_0x169e94(0x7e4)],_0x3e4fce[_0x169e94(0x5f7)]=_0x15e6d9[_0x169e94(0x688)]??_0x3e4fce[_0x169e94(0x5f7)],_0x3e4fce[_0x169e94(0x19f)]=_0x15e6d9[_0x169e94(0x19f)]??_0x3e4fce['minutesToClose'],_0x3e4fce['readMessages']=_0x15e6d9[_0x169e94(0x440)]??_0x3e4fce[_0x169e94(0x440)],_0x15e6d9[_0x169e94(0x49c)]&&this[_0x169e94(0x3d6)][_0x169e94(0x40f)][_0x169e94(0x48c)]((_0x1cf8c2,_0x44374f)=>{const _0x188358=_0x169e94;_0x44374f!==_0x40fd39&&(_0x1cf8c2[_0x188358(0x49c)]=!0x1);}),this[_0x169e94(0x3d6)][_0x169e94(0x40f)][_0x40fd39]=_0x3e4fce,!await this['repository']['automateSystem']['update']({'flows':this[_0x169e94(0x3d6)][_0x169e94(0x40f)]},this[_0x169e94(0x403)][_0x169e94(0x367)]))throw new m(_0x169e94(0x1d5));}let _0x3a124f=['global',_0x169e94(0x21b),'sharePass','shareOwners'];for(let _0x5d3578 of _0x3a124f)delete _0x15e6d9[_0x5d3578];if(_0xd96ba5['whoCanEdit']?.[_0x169e94(0x562)](this['instance'][_0x169e94(0x367)])||(_0x15e6d9={'_id':_0x15e6d9['_id']}),_0x514ed5!==$o&&_0x15e6d9?.[_0x169e94(0x7e6)]&&!_0xd96ba5?.[_0x169e94(0x7e6)])throw new m('Para\x20marcar\x20esse\x20fluxo\x20como\x20visível\x20globalmente,\x20você\x20precisa\x20usar\x20a\x20apikey\x20Global.');let _0x531eb4=new Set(_0x15e6d9[_0x169e94(0x622)]??_0xd96ba5[_0x169e94(0x622)]);_0x531eb4[_0x169e94(0x664)](_0xd96ba5[_0x169e94(0x115)]);let _0x49db19=new Set(_0x15e6d9['whoCanUse']??_0xd96ba5[_0x169e94(0x44c)]??[]);_0x531eb4['forEach'](_0x1e8dd4=>_0x49db19[_0x169e94(0x664)](_0x1e8dd4)),_0x49db19['add'](_0xd96ba5[_0x169e94(0x115)]),this[_0x169e94(0x267)]['verbose'](this['instanceName']+'\x20('+this[_0x169e94(0x403)][_0x169e94(0x367)]+_0x169e94(0x775)+Array[_0x169e94(0x4db)](_0x531eb4)),this['logger']['verbose'](this[_0x169e94(0x383)]+'\x20('+this[_0x169e94(0x403)][_0x169e94(0x367)]+_0x169e94(0x7c3)+Array['from'](_0x49db19));let _0xea6ee0=await this['getValidWhatsAppNumbers'](Array[_0x169e94(0x4db)](_0x49db19)),_0x147df1=Array[_0x169e94(0x4db)](_0x531eb4)[_0x169e94(0x3ec)](_0x1827bf=>_0xea6ee0[_0x169e94(0x562)](_0x1827bf)),_0x4e06bb=Array[_0x169e94(0x4db)](_0x49db19)[_0x169e94(0x3ec)](_0x175756=>_0xea6ee0['includes'](_0x175756));this[_0x169e94(0x267)]['verbose'](this[_0x169e94(0x383)]+'\x20('+this[_0x169e94(0x403)][_0x169e94(0x367)]+_0x169e94(0x138)+_0x147df1),this[_0x169e94(0x267)][_0x169e94(0x302)](this[_0x169e94(0x383)]+'\x20('+this[_0x169e94(0x403)][_0x169e94(0x367)]+'):\x20whoCanUse\x20after\x20validation:\x20'+_0x4e06bb);let _0xa10820={..._0xd96ba5,..._0x15e6d9,'whoCanEdit':_0x147df1,'whoCanUse':_0x4e06bb},_0x148c89=await this[_0x169e94(0x4d0)]['flow'][_0x169e94(0x46a)](_0xd96ba5[_0x169e94(0x3b9)],_0xa10820);return await this['synchronizeAndMapFlows'](),_0x148c89;}catch(_0x5ef2f3){let _0x3ec0fc=_0x169e94(0x217),_0x584c4d=_0x5ef2f3 instanceof Error?_0x5ef2f3[_0x169e94(0x60b)]:typeof _0x5ef2f3==_0x169e94(0x5c4)?JSON[_0x169e94(0x450)](_0x5ef2f3):_0x5ef2f3,_0x18abc1=_0x3ec0fc+':\x20'+_0x584c4d;throw this[_0x169e94(0x267)][_0x169e94(0x782)](this[_0x169e94(0x383)]+'\x20('+this[_0x169e94(0x403)][_0x169e94(0x367)]+'):\x20'+_0x18abc1),new m(_0x18abc1);}}async['getValidWhatsAppNumbers'](_0xcc7fe){const _0xa064b2=a0_0x6d27f9;let _0x1e3d41={'numbers':_0xcc7fe};return(await this[_0xa064b2(0x26e)](_0x1e3d41))[_0xa064b2(0x3ec)](_0x5274be=>_0x5274be[_0xa064b2(0x434)])[_0xa064b2(0x5f1)](_0x789ce9=>_0x789ce9[_0xa064b2(0x7f7)])[_0xa064b2(0x5f1)](_0x1514b8=>this[_0xa064b2(0x227)](_0x1514b8));}[a0_0x6d27f9(0x227)](_0x1344b9){const _0x57dfac=a0_0x6d27f9;let _0x229dda=_0x1344b9[_0x57dfac(0x66f)](/\d+/);return _0x229dda?_0x229dda[0x0]:'';}async[a0_0x6d27f9(0x75c)](_0xf2c10d){const _0x3df15e=a0_0x6d27f9;try{if(this['logger'][_0x3df15e(0x302)](this[_0x3df15e(0x383)]+'\x20('+this[_0x3df15e(0x403)][_0x3df15e(0x367)]+_0x3df15e(0x4ff)),!this[_0x3df15e(0x3d6)]['flows'][_0x3df15e(0x37d)](_0x4f8892=>_0x4f8892['_id']===_0xf2c10d[_0x3df15e(0x3b9)]))throw this[_0x3df15e(0x267)]['verbose'](this[_0x3df15e(0x383)]+'\x20('+this[_0x3df15e(0x403)][_0x3df15e(0x367)]+_0x3df15e(0x5d2)+_0xf2c10d[_0x3df15e(0x3b9)]+'\x27\x20não\x20encontrado'),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x5e15a5=await this[_0x3df15e(0x4d0)][_0x3df15e(0x43d)]['findOne']({'where':{'_id':_0xf2c10d[_0x3df15e(0x3b9)]}});if(!_0x5e15a5||!_0x5e15a5[_0x3df15e(0x44c)]?.['includes'](this[_0x3df15e(0x403)][_0x3df15e(0x367)]))throw this[_0x3df15e(0x267)][_0x3df15e(0x782)](this['instanceName']+'\x20('+this[_0x3df15e(0x403)][_0x3df15e(0x367)]+'):\x20Flow\x20\x27'+_0xf2c10d[_0x3df15e(0x3b9)]+_0x3df15e(0x437)),new m(_0x3df15e(0x291)+_0xf2c10d[_0x3df15e(0x3b9)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x5e15a5[_0x3df15e(0x622)]?.[_0x3df15e(0x562)](this['instance'][_0x3df15e(0x367)]))throw new m(_0x3df15e(0x67e));let {block:_0x1a196e}=_0xf2c10d;_0x1a196e?.['copy']?this[_0x3df15e(0x304)](_0x5e15a5,_0xf2c10d):_0x1a196e?.[_0x3df15e(0x7b7)]?this['deleteBlock'](_0x5e15a5,_0xf2c10d):_0x1a196e[_0x3df15e(0x3b9)]?await this[_0x3df15e(0x370)](_0x5e15a5,_0xf2c10d):this['addBlock'](_0x5e15a5,_0xf2c10d);let _0x45fe1a=await this[_0x3df15e(0x4d0)][_0x3df15e(0x43d)][_0x3df15e(0x46a)](_0x5e15a5['_id'],_0x5e15a5);if(!_0x45fe1a)throw new Error(_0x3df15e(0x68a));return _0x45fe1a;}catch(_0x11c84d){this['throwAndLogError'](_0x3df15e(0x13a)+_0x11c84d['message']);}}async[a0_0x6d27f9(0x304)](_0x129070,_0x5aa710){const _0x24eeb5=a0_0x6d27f9;let _0x15f2e2=_0x5aa710[_0x24eeb5(0x526)]['_id'],_0x34bbb3=_0x129070[_0x24eeb5(0x1b2)][_0x24eeb5(0x37d)](_0xce9cf4=>_0xce9cf4[_0x24eeb5(0x3b9)]['toString']()===_0x15f2e2);if(!_0x34bbb3){this[_0x24eeb5(0x267)][_0x24eeb5(0x782)](this[_0x24eeb5(0x383)]+'\x20('+this['instance']['wuid']+'):\x20Bloco\x20com\x20ID\x20'+_0x15f2e2+'\x20não\x20encontrado\x20para\x20cópia');return;}this['logger'][_0x24eeb5(0x302)](this['instanceName']+'\x20('+this[_0x24eeb5(0x403)]['wuid']+_0x24eeb5(0x21e)+JSON[_0x24eeb5(0x450)](_0x34bbb3));let _0x5a0f56=JSON['parse'](JSON[_0x24eeb5(0x450)](_0x34bbb3));_0x5a0f56['_id']=new pe[(_0x24eeb5(0x49c))][(_0x24eeb5(0x65f))][(_0x24eeb5(0x3dc))](),this[_0x24eeb5(0x267)][_0x24eeb5(0x302)](this[_0x24eeb5(0x383)]+'\x20('+this[_0x24eeb5(0x403)][_0x24eeb5(0x367)]+_0x24eeb5(0x738)+JSON[_0x24eeb5(0x450)](_0x5a0f56)),_0x129070[_0x24eeb5(0x1b2)][_0x24eeb5(0x6b3)](_0x5a0f56),this[_0x24eeb5(0x5f9)](_0x129070[_0x24eeb5(0x1b2)],_0x5a0f56[_0x24eeb5(0x5ee)]);}[a0_0x6d27f9(0x251)](_0x4d80ec){const _0x29f362=a0_0x6d27f9;throw this[_0x29f362(0x267)][_0x29f362(0x782)](this[_0x29f362(0x383)]+'\x20('+this[_0x29f362(0x403)][_0x29f362(0x367)]+_0x29f362(0x4a0)+_0x4d80ec),new m(_0x4d80ec);}[a0_0x6d27f9(0x160)](_0x16881e,_0x35e801){const _0x105782=a0_0x6d27f9;let {block:_0x2a62bf}=_0x35e801;if(_0x2a62bf['type']===_0x105782(0x546)){this[_0x105782(0x251)](_0x105782(0x229));return;}if(!_0x2a62bf[_0x105782(0x3b9)]){this[_0x105782(0x251)](_0x105782(0x373));return;}let _0x1c5e69=_0x16881e[_0x105782(0x1b2)]['find'](_0x26d7c4=>_0x26d7c4[_0x105782(0x3b9)][_0x105782(0x3f4)]()===_0x35e801[_0x105782(0x526)][_0x105782(0x3b9)][_0x105782(0x3f4)]());if(!_0x1c5e69){this[_0x105782(0x251)](_0x105782(0x7d1)+_0x2a62bf[_0x105782(0x3b9)]+_0x105782(0x7e1));return;}_0x16881e[_0x105782(0x1b2)]=_0x16881e[_0x105782(0x1b2)][_0x105782(0x3ec)](_0x1f1d21=>_0x1f1d21['_id'][_0x105782(0x3f4)]()!==_0x35e801[_0x105782(0x526)]['_id'][_0x105782(0x3f4)]()),_0x16881e['conditions']=_0x16881e[_0x105782(0x31e)]['filter'](_0x44a3ed=>_0x44a3ed['blockId']!==_0x2a62bf[_0x105782(0x3b9)]['toString']()),_0x16881e['varedits']=_0x16881e['varedits'][_0x105782(0x3ec)](_0x193af7=>_0x193af7[_0x105782(0x234)]!==_0x2a62bf[_0x105782(0x3b9)][_0x105782(0x3f4)]()),_0x16881e[_0x105782(0x348)]=_0x16881e[_0x105782(0x348)][_0x105782(0x3ec)](_0x1839f5=>_0x1839f5[_0x105782(0x234)]!==_0x2a62bf[_0x105782(0x3b9)][_0x105782(0x3f4)]()),this[_0x105782(0x5f9)](_0x16881e[_0x105782(0x1b2)],_0x1c5e69[_0x105782(0x5ee)]);}async[a0_0x6d27f9(0x370)](_0x397c6f,_0x1c0464){const _0x44ed85=a0_0x6d27f9;let _0x5011f6=_0x397c6f[_0x44ed85(0x1b2)]['findIndex'](_0x5464e9=>_0x5464e9[_0x44ed85(0x3b9)][_0x44ed85(0x3f4)]()===_0x1c0464[_0x44ed85(0x526)][_0x44ed85(0x3b9)][_0x44ed85(0x3f4)]());if(this[_0x44ed85(0x267)][_0x44ed85(0x302)](this[_0x44ed85(0x383)]+'\x20('+this[_0x44ed85(0x403)][_0x44ed85(0x367)]+_0x44ed85(0x1b0)+_0x5011f6),_0x5011f6===-0x1){this[_0x44ed85(0x267)]['verbose'](_0x44ed85(0x7d1)+_0x1c0464[_0x44ed85(0x526)][_0x44ed85(0x3b9)]+_0x44ed85(0x6ab));return;}if(_0x397c6f['blocks'][_0x5011f6][_0x44ed85(0x5cb)]===_0x44ed85(0x546)){let _0x1a0f3e=Object[_0x44ed85(0x3ae)](_0x1c0464['block']);if(_0x1a0f3e[_0x44ed85(0x4b3)]>0x2||_0x1a0f3e[_0x44ed85(0x4b3)]===0x2&&!_0x1a0f3e['includes']('next_groupId')){this[_0x44ed85(0x251)]('Somente\x20é\x20permitido\x20editar\x20o\x20campo\x20next_groupId\x20do\x20bloco\x20padrão');return;}}let _0x39f565=_0x397c6f['blocks'][_0x5011f6][_0x44ed85(0x5ee)];for(let _0x5150b0 in _0x1c0464[_0x44ed85(0x526)])_0x1c0464[_0x44ed85(0x526)][_0x44ed85(0x187)](_0x5150b0)&&(_0x397c6f[_0x44ed85(0x1b2)][_0x5011f6][_0x5150b0]=_0x1c0464[_0x44ed85(0x526)][_0x5150b0]);if(this[_0x44ed85(0x267)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x44ed85(0x367)]+'):\x20Bloco\x20a\x20ser\x20atualizado:\x20'+JSON[_0x44ed85(0x450)](_0x397c6f[_0x44ed85(0x1b2)][_0x5011f6])),_0x397c6f['blocks'][_0x5011f6][_0x44ed85(0x680)]&&'header'in _0x397c6f['blocks'][_0x5011f6]['apirequest']){this[_0x44ed85(0x267)]['verbose'](this[_0x44ed85(0x383)]+'\x20('+this[_0x44ed85(0x403)][_0x44ed85(0x367)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x475192=JSON[_0x44ed85(0x450)](_0x397c6f[_0x44ed85(0x1b2)][_0x5011f6][_0x44ed85(0x680)][_0x44ed85(0x733)],null,0x1);_0x475192[_0x44ed85(0x4b3)]>0x2&&(_0x475192=_0x475192[_0x44ed85(0x6c7)](0x1,_0x475192[_0x44ed85(0x4b3)]-0x1)[_0x44ed85(0x3ab)]()),_0x397c6f[_0x44ed85(0x1b2)][_0x5011f6]['apirequest'][_0x44ed85(0x3c3)]=_0x475192;}if(_0x397c6f['blocks'][_0x5011f6][_0x44ed85(0x680)]&&_0x44ed85(0x356)in _0x397c6f[_0x44ed85(0x1b2)][_0x5011f6]['apirequest']&&!('bodyString'in _0x397c6f[_0x44ed85(0x1b2)][_0x5011f6]['apirequest'])){this['logger'][_0x44ed85(0x302)](this[_0x44ed85(0x383)]+'\x20('+this['instance'][_0x44ed85(0x367)]+_0x44ed85(0x7d2)),_0x397c6f['blocks'][_0x5011f6]['apirequest'][_0x44ed85(0x20e)]=!0x1;let _0x46d8a9=JSON[_0x44ed85(0x450)](_0x397c6f[_0x44ed85(0x1b2)][_0x5011f6]['apirequest'][_0x44ed85(0x356)],null,0x2);_0x397c6f[_0x44ed85(0x1b2)][_0x5011f6][_0x44ed85(0x680)]['bodyString']=_0x46d8a9;}if(_0x397c6f['blocks'][_0x5011f6][_0x44ed85(0x680)]&&_0x44ed85(0x2a3)in _0x397c6f[_0x44ed85(0x1b2)][_0x5011f6][_0x44ed85(0x680)]){_0x397c6f[_0x44ed85(0x1b2)][_0x5011f6]['apirequest'][_0x44ed85(0x20e)]=!0x1;let _0xbee597=_0x397c6f[_0x44ed85(0x1b2)][_0x5011f6][_0x44ed85(0x680)]['bodyString'],_0x56846b=this[_0x44ed85(0x208)](_0xbee597);_0x397c6f[_0x44ed85(0x1b2)][_0x5011f6]['apirequest'][_0x44ed85(0x2a3)]=_0x56846b[_0x44ed85(0x42c)],_0x397c6f[_0x44ed85(0x1b2)][_0x5011f6]['apirequest']['bodyStringErrorParse']=_0x56846b[_0x44ed85(0x782)];}let _0x149f4c=_0x397c6f[_0x44ed85(0x1b2)][_0x5011f6][_0x44ed85(0x5ee)];_0x39f565!==_0x149f4c?(this[_0x44ed85(0x5f9)](_0x397c6f['blocks'],_0x39f565),this['reorderBlocks'](_0x397c6f['blocks'],_0x149f4c)):this[_0x44ed85(0x5f9)](_0x397c6f[_0x44ed85(0x1b2)],_0x39f565);}[a0_0x6d27f9(0x208)](_0x296436){const _0x4180e7=a0_0x6d27f9;let _0x4236f7='\u205f',_0xce2715=!0x1,_0x573c25='';for(let _0x455345=0x0;_0x455345<_0x296436['length'];_0x455345++){let _0x2cfb91=_0x296436[_0x455345];_0x2cfb91==='\x22'&&(_0x455345===0x0||_0x296436[_0x455345-0x1]!=='\x5c')&&(_0xce2715=!_0xce2715),!(!_0xce2715&&(_0x2cfb91==='\x0a'||_0x2cfb91==='\x20'||_0x2cfb91===_0x4236f7))&&(_0x573c25+=_0x2cfb91);}let _0x37511c={},_0x2eac90=9876543210.1234,_0x5a415e=_0x573c25[_0x4180e7(0x78b)](/\{\{([^}]+)\}\}/g,_0x41264c=>{let _0x331a53=_0x41264c,_0x5680b4=''+_0x2eac90;return _0x37511c[_0x5680b4]=_0x331a53,_0x2eac90+=0.0001,_0x5680b4;}),_0x15cdd6='',_0x2c5ba7=!0x1;try{let _0x2b9c55=JSON[_0x4180e7(0x610)](_0x5a415e);_0x15cdd6=JSON[_0x4180e7(0x450)](_0x2b9c55,null,0x2),_0x15cdd6=_0x15cdd6[_0x4180e7(0x78b)](/\n( +)/g,(_0x512b87,_0x489158)=>{const _0x9d7fc8=_0x4180e7;let _0x4994c2=_0x489158['length'];return'\x0a'+_0x4236f7[_0x9d7fc8(0x557)](_0x4994c2*0x2);}),_0x15cdd6=_0x15cdd6[_0x4180e7(0x78b)](/(\d{10,}\.\d+)/g,_0x2521ac=>_0x37511c[_0x2521ac]||_0x2521ac);}catch(_0x460a59){this[_0x4180e7(0x267)][_0x4180e7(0x782)](_0x4180e7(0x7e2)+_0x460a59),_0x15cdd6=_0x296436,_0x2c5ba7=!0x0;}return{'result':_0x15cdd6,'error':_0x2c5ba7};}['addBlock'](_0x2a87d1,_0x584e98){const _0x2761bf=a0_0x6d27f9;if(_0x584e98[_0x2761bf(0x526)]['type']===_0x2761bf(0x546)){this[_0x2761bf(0x251)](_0x2761bf(0x7af));return;}if(_0x584e98[_0x2761bf(0x526)][_0x2761bf(0x680)]&&'header'in _0x584e98[_0x2761bf(0x526)][_0x2761bf(0x680)]){this['logger']['verbose'](this[_0x2761bf(0x383)]+'\x20('+this[_0x2761bf(0x403)][_0x2761bf(0x367)]+'):\x20Bloco\x20tem\x20apirequest.header,\x20adicionando\x20headerString');let _0x48ad28=JSON[_0x2761bf(0x450)](_0x584e98[_0x2761bf(0x526)][_0x2761bf(0x680)][_0x2761bf(0x733)],null,0x1);_0x48ad28['length']>0x2&&(_0x48ad28=_0x48ad28[_0x2761bf(0x6c7)](0x1,_0x48ad28[_0x2761bf(0x4b3)]-0x1)[_0x2761bf(0x3ab)]()),_0x584e98[_0x2761bf(0x526)][_0x2761bf(0x680)][_0x2761bf(0x3c3)]=_0x48ad28;}_0x584e98[_0x2761bf(0x526)][_0x2761bf(0x680)]&&_0x2761bf(0x356)in _0x584e98[_0x2761bf(0x526)][_0x2761bf(0x680)]&&(this[_0x2761bf(0x267)][_0x2761bf(0x302)](this[_0x2761bf(0x383)]+'\x20('+this[_0x2761bf(0x403)][_0x2761bf(0x367)]+'):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString'),_0x584e98[_0x2761bf(0x526)]['apirequest'][_0x2761bf(0x2a3)]=JSON[_0x2761bf(0x450)](_0x584e98[_0x2761bf(0x526)]['apirequest'][_0x2761bf(0x356)],null,0x1)[_0x2761bf(0x3ab)]()),_0x2a87d1[_0x2761bf(0x1b2)]['push'](_0x584e98[_0x2761bf(0x526)]),this[_0x2761bf(0x5f9)](_0x2a87d1[_0x2761bf(0x1b2)],_0x584e98[_0x2761bf(0x526)][_0x2761bf(0x5ee)]);}[a0_0x6d27f9(0x5f9)](_0x1720cd,_0x129051){const _0xd69bfd=a0_0x6d27f9;let _0x102284=_0x1720cd['filter'](_0x578fb9=>_0x578fb9[_0xd69bfd(0x5ee)]===_0x129051);_0x102284[_0xd69bfd(0x349)]((_0x22604e,_0x33e467)=>_0x22604e[_0xd69bfd(0x4d7)]-_0x33e467[_0xd69bfd(0x4d7)]),_0x102284[_0xd69bfd(0x48c)]((_0x2a8f34,_0x25f2fe)=>_0x2a8f34['order']=_0x25f2fe+0x1);}async['editFlowReply'](_0x4cffe8){const _0x465d08=a0_0x6d27f9;try{if(this['logger'][_0x465d08(0x302)](this[_0x465d08(0x383)]+'\x20('+this['instance'][_0x465d08(0x367)]+_0x465d08(0x365)),!_0x4cffe8||!_0x4cffe8['replyOption']){this[_0x465d08(0x251)](_0x465d08(0x6b9));return;}if(!this['AutomateSystem'][_0x465d08(0x40f)]['find'](_0x2166ae=>_0x2166ae[_0x465d08(0x3b9)]===_0x4cffe8[_0x465d08(0x3b9)]))throw this[_0x465d08(0x267)][_0x465d08(0x302)](this['instanceName']+'\x20('+this[_0x465d08(0x403)][_0x465d08(0x367)]+'):\x20Fluxo\x20\x27'+_0x4cffe8[_0x465d08(0x3b9)]+_0x465d08(0x6e3)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0x55bd2f=await this[_0x465d08(0x4d0)]['flow']['findOne']({'where':{'_id':_0x4cffe8[_0x465d08(0x3b9)]}});if(!_0x55bd2f||!_0x55bd2f[_0x465d08(0x44c)]?.[_0x465d08(0x562)](this['instance'][_0x465d08(0x367)]))throw this[_0x465d08(0x267)][_0x465d08(0x782)](this[_0x465d08(0x383)]+'\x20('+this[_0x465d08(0x403)]['wuid']+'):\x20Flow\x20\x27'+_0x4cffe8[_0x465d08(0x3b9)]+_0x465d08(0x437)),new m(_0x465d08(0x291)+_0x4cffe8['_id']+_0x465d08(0x437));if(!_0x55bd2f[_0x465d08(0x622)]?.[_0x465d08(0x562)](this[_0x465d08(0x403)][_0x465d08(0x367)]))throw new m(_0x465d08(0x67e));let {replyOption:_0x2215fd}=_0x4cffe8;_0x2215fd?.[_0x465d08(0x7b7)]?(this[_0x465d08(0x487)](_0x55bd2f,_0x4cffe8),this[_0x465d08(0x27d)](_0x55bd2f[_0x465d08(0x348)],_0x4cffe8[_0x465d08(0x38e)][_0x465d08(0x234)])):_0x2215fd[_0x465d08(0x3b9)]?(await this['updateReplyOption'](_0x55bd2f,_0x4cffe8),this[_0x465d08(0x27d)](_0x55bd2f[_0x465d08(0x348)],_0x4cffe8['replyOption'][_0x465d08(0x234)])):(this[_0x465d08(0x3a2)](_0x55bd2f,_0x4cffe8),this[_0x465d08(0x27d)](_0x55bd2f[_0x465d08(0x348)],_0x4cffe8[_0x465d08(0x38e)][_0x465d08(0x234)]));let _0x13e436=await this[_0x465d08(0x4d0)][_0x465d08(0x43d)][_0x465d08(0x46a)](_0x55bd2f[_0x465d08(0x3b9)],_0x55bd2f);if(!_0x13e436)throw new Error(_0x465d08(0x68a));return _0x13e436;}catch(_0x157dbd){this[_0x465d08(0x251)](_0x465d08(0x235)+_0x157dbd);}}[a0_0x6d27f9(0x27d)](_0x5b737d,_0x51d17e){const _0xc9f7fa=a0_0x6d27f9;_0x5b737d[_0xc9f7fa(0x48c)](_0x66a6d=>{const _0x92b6a7=_0xc9f7fa;_0x66a6d[_0x92b6a7(0x234)]===_0x51d17e&&_0x66a6d[_0x92b6a7(0x4d7)]===void 0x0&&(_0x66a6d[_0x92b6a7(0x4d7)]=0x270f);});let _0x3fb526=_0x5b737d[_0xc9f7fa(0x3ec)](_0x1d49d0=>_0x1d49d0['blockId']===_0x51d17e);_0x3fb526[_0xc9f7fa(0x349)]((_0x5dd36c,_0x1115d3)=>_0x5dd36c[_0xc9f7fa(0x4d7)]-_0x1115d3[_0xc9f7fa(0x4d7)]),_0x3fb526[_0xc9f7fa(0x48c)]((_0x3be137,_0x112824)=>{const _0x5ef189=_0xc9f7fa;_0x3be137[_0x5ef189(0x4d7)]=_0x112824+0x1;}),_0x5b737d[_0xc9f7fa(0x48c)](_0x2cceba=>{const _0xe35246=_0xc9f7fa;if(_0x2cceba['blockId']===_0x51d17e){let _0x731b43=_0x3fb526[_0xe35246(0x37d)](_0x10ee92=>_0x10ee92['_id']&&_0x2cceba['_id']&&_0x10ee92[_0xe35246(0x3b9)]['toString']()===_0x2cceba[_0xe35246(0x3b9)][_0xe35246(0x3f4)]());_0x731b43&&(_0x2cceba[_0xe35246(0x4d7)]=_0x731b43[_0xe35246(0x4d7)]);}});}[a0_0x6d27f9(0x487)](_0x4c1854,_0xb04b19){const _0x306448=a0_0x6d27f9;let {replyOption:_0x1ceb55}=_0xb04b19;if(!_0x1ceb55['_id']){this[_0x306448(0x251)](_0x306448(0x219));return;}if(!_0x4c1854[_0x306448(0x348)]['find'](_0x57153e=>_0x57153e['_id'][_0x306448(0x3f4)]()===_0xb04b19[_0x306448(0x38e)][_0x306448(0x3b9)][_0x306448(0x3f4)]())){this[_0x306448(0x251)](_0x306448(0x7fa)+_0x1ceb55['_id']+_0x306448(0x7e1));return;}_0x4c1854[_0x306448(0x348)]=_0x4c1854[_0x306448(0x348)]['filter'](_0x1a6a8c=>_0x1a6a8c['_id'][_0x306448(0x3f4)]()!==_0xb04b19['replyOption'][_0x306448(0x3b9)]['toString']());}async[a0_0x6d27f9(0x255)](_0x177d2e,_0x5a8a0b){const _0x30b7b2=a0_0x6d27f9;let _0x4ca794=_0x177d2e['replyOptions'][_0x30b7b2(0x2bd)](_0x4dd08a=>_0x4dd08a[_0x30b7b2(0x3b9)][_0x30b7b2(0x3f4)]()===_0x5a8a0b[_0x30b7b2(0x38e)][_0x30b7b2(0x3b9)][_0x30b7b2(0x3f4)]());if(_0x4ca794===-0x1){this[_0x30b7b2(0x251)](_0x30b7b2(0x7fa)+_0x5a8a0b[_0x30b7b2(0x38e)][_0x30b7b2(0x3b9)]+_0x30b7b2(0x6ab));return;}for(let _0x8a2177 in _0x5a8a0b[_0x30b7b2(0x38e)])_0x5a8a0b[_0x30b7b2(0x38e)][_0x30b7b2(0x187)](_0x8a2177)&&(_0x177d2e[_0x30b7b2(0x348)][_0x4ca794][_0x8a2177]=_0x5a8a0b[_0x30b7b2(0x38e)][_0x8a2177]);}[a0_0x6d27f9(0x3a2)](_0x21dedc,_0x56b482){const _0x3bda31=a0_0x6d27f9;_0x21dedc['replyOptions'][_0x3bda31(0x6b3)](_0x56b482[_0x3bda31(0x38e)]);}async[a0_0x6d27f9(0x230)](_0x3bc265){const _0xc642bc=a0_0x6d27f9;this['logger'][_0xc642bc(0x302)](this['instanceName']+'\x20('+this[_0xc642bc(0x403)][_0xc642bc(0x367)]+'):\x20Dados\x20recebidos\x20no\x20editFlowGroup\x20data:\x20'+JSON['stringify'](_0x3bc265,null,0x2));try{if(this[_0xc642bc(0x267)]['verbose'](this[_0xc642bc(0x383)]+'\x20('+this['instance'][_0xc642bc(0x367)]+_0xc642bc(0x29a)),!this[_0xc642bc(0x3d6)]['flows']['find'](_0x480a92=>_0x480a92[_0xc642bc(0x3b9)]===_0x3bc265['_id']))throw this[_0xc642bc(0x267)][_0xc642bc(0x302)](this[_0xc642bc(0x383)]+'\x20('+this['instance']['wuid']+_0xc642bc(0x5d2)+_0x3bc265[_0xc642bc(0x3b9)]+_0xc642bc(0x6e3)),new m(_0xc642bc(0x40e));let _0x5f1e70=await this[_0xc642bc(0x4d0)][_0xc642bc(0x43d)][_0xc642bc(0x206)]({'where':{'_id':_0x3bc265[_0xc642bc(0x3b9)]}});if(!_0x5f1e70||!_0x5f1e70[_0xc642bc(0x44c)]?.[_0xc642bc(0x562)](this[_0xc642bc(0x403)][_0xc642bc(0x367)]))throw this[_0xc642bc(0x267)][_0xc642bc(0x782)](this[_0xc642bc(0x383)]+'\x20('+this[_0xc642bc(0x403)][_0xc642bc(0x367)]+'):\x20Flow\x20\x27'+_0x3bc265[_0xc642bc(0x3b9)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo'),new m(_0xc642bc(0x291)+_0x3bc265[_0xc642bc(0x3b9)]+_0xc642bc(0x437));if(!_0x5f1e70[_0xc642bc(0x622)]?.[_0xc642bc(0x562)](this[_0xc642bc(0x403)]['wuid']))throw new m(_0xc642bc(0x67e));if(_0x3bc265[_0xc642bc(0x30e)]&&_0x3bc265[_0xc642bc(0x30e)]?.[_0xc642bc(0x7b7)]===!0x0){if(this[_0xc642bc(0x267)]['verbose'](this['instanceName']+'\x20('+this[_0xc642bc(0x403)][_0xc642bc(0x367)]+_0xc642bc(0x1c9)),_0x3bc265[_0xc642bc(0x30e)]['default']===!0x0)return{'message':_0xc642bc(0x57b)};if(_0x5f1e70[_0xc642bc(0x1b2)][_0xc642bc(0x27f)](_0x4a7aa1=>_0x4a7aa1[_0xc642bc(0x5ee)]['toString']()===_0x3bc265[_0xc642bc(0x30e)]['_id']))return this[_0xc642bc(0x267)][_0xc642bc(0x302)](this[_0xc642bc(0x383)]+'\x20('+this[_0xc642bc(0x403)][_0xc642bc(0x367)]+_0xc642bc(0x5b7)),{'message':_0xc642bc(0x543)};_0x5f1e70[_0xc642bc(0x36f)]=_0x5f1e70[_0xc642bc(0x36f)][_0xc642bc(0x3ec)](_0x1e3602=>_0x1e3602[_0xc642bc(0x3b9)][_0xc642bc(0x3f4)]()!==_0x3bc265[_0xc642bc(0x30e)][_0xc642bc(0x3b9)]);}else{if(_0x3bc265[_0xc642bc(0x30e)]){if(_0x3bc265[_0xc642bc(0x30e)]['default']===!0x0)return{'message':'Não\x20é\x20permitido\x20adicionar\x20outro\x20grupo\x20padrão'};if(_0x3bc265[_0xc642bc(0x30e)][_0xc642bc(0x3b9)]){let _0x33b59d=_0x5f1e70[_0xc642bc(0x36f)][_0xc642bc(0x37d)](_0x2e7e05=>_0x2e7e05['_id'][_0xc642bc(0x3f4)]()===_0x3bc265['group'][_0xc642bc(0x3b9)]);_0x33b59d&&(_0x3bc265['group']['x']<0x0&&(_0x3bc265[_0xc642bc(0x30e)]['x']=0x0),_0x3bc265[_0xc642bc(0x30e)]['y']<0x0&&(_0x3bc265['group']['y']=0x0),Object[_0xc642bc(0x6cc)](_0x33b59d,_0x3bc265[_0xc642bc(0x30e)]));}else _0x5f1e70['groups'][_0xc642bc(0x6b3)](_0x3bc265[_0xc642bc(0x30e)]);}}let _0xbd75e6=await this[_0xc642bc(0x4d0)][_0xc642bc(0x43d)][_0xc642bc(0x46a)](_0x5f1e70['_id'],_0x5f1e70);if(!_0xbd75e6)throw new Error(_0xc642bc(0x68a));return _0xbd75e6;}catch(_0x495c42){let _0x932d51='Erro\x20ao\x20editar\x20grupo\x20do\x20fluxo',_0x4d27fd=_0x495c42 instanceof Error?_0x495c42[_0xc642bc(0x60b)]:typeof _0x495c42==_0xc642bc(0x5c4)?JSON[_0xc642bc(0x450)](_0x495c42):_0x495c42,_0x11ad23=_0x932d51+':\x20'+_0x4d27fd;throw this['logger'][_0xc642bc(0x782)](this[_0xc642bc(0x383)]+'\x20('+this[_0xc642bc(0x403)][_0xc642bc(0x367)]+_0xc642bc(0x4a0)+_0x11ad23),new m(_0x11ad23);}}async[a0_0x6d27f9(0x205)](_0x27ff05){const _0x3f9c6e=a0_0x6d27f9;try{if(this[_0x3f9c6e(0x267)][_0x3f9c6e(0x302)](this[_0x3f9c6e(0x383)]+'\x20('+this[_0x3f9c6e(0x403)]['wuid']+_0x3f9c6e(0x293)),!this[_0x3f9c6e(0x3d6)][_0x3f9c6e(0x40f)][_0x3f9c6e(0x37d)](_0x38bf1d=>_0x38bf1d['_id']===_0x27ff05['_id']))throw this[_0x3f9c6e(0x267)][_0x3f9c6e(0x302)](this[_0x3f9c6e(0x383)]+'\x20('+this[_0x3f9c6e(0x403)]['wuid']+_0x3f9c6e(0x5d2)+_0x27ff05['_id']+_0x3f9c6e(0x6e3)),new m(_0x3f9c6e(0x40e));let _0x126270=await this[_0x3f9c6e(0x4d0)]['flow']['findOne']({'where':{'_id':_0x27ff05[_0x3f9c6e(0x3b9)]}});if(!_0x126270||!_0x126270[_0x3f9c6e(0x44c)]?.['includes'](this[_0x3f9c6e(0x403)][_0x3f9c6e(0x367)]))throw this[_0x3f9c6e(0x267)]['error'](this['instanceName']+'\x20('+this['instance'][_0x3f9c6e(0x367)]+'):\x20Flow\x20\x27'+_0x27ff05[_0x3f9c6e(0x3b9)]+_0x3f9c6e(0x437)),new m('Flow\x20\x27'+_0x27ff05[_0x3f9c6e(0x3b9)]+_0x3f9c6e(0x437));if(!_0x126270[_0x3f9c6e(0x622)]?.[_0x3f9c6e(0x562)](this[_0x3f9c6e(0x403)]['wuid']))throw new m(_0x3f9c6e(0x67e));let _0x301205=!0x1;if(_0x27ff05[_0x3f9c6e(0x5c2)]?.[_0x3f9c6e(0x7b7)]===!0x0)_0x126270[_0x3f9c6e(0x31e)]=_0x126270[_0x3f9c6e(0x31e)][_0x3f9c6e(0x3ec)](_0x314d9e=>_0x314d9e&&_0x27ff05['condition']&&_0x314d9e[_0x3f9c6e(0x3b9)]&&_0x27ff05['condition'][_0x3f9c6e(0x3b9)]&&_0x314d9e['_id'][_0x3f9c6e(0x3f4)]()!==_0x27ff05[_0x3f9c6e(0x5c2)][_0x3f9c6e(0x3b9)][_0x3f9c6e(0x3f4)]()),_0x301205=!0x0;else{let _0x807195=_0x126270[_0x3f9c6e(0x31e)]['find'](_0x338620=>_0x338620&&_0x27ff05[_0x3f9c6e(0x5c2)]&&_0x338620['_id']&&_0x27ff05[_0x3f9c6e(0x5c2)]['_id']&&_0x338620['_id'][_0x3f9c6e(0x3f4)]()===_0x27ff05['condition'][_0x3f9c6e(0x3b9)]['toString']());_0x807195?(_0x301205=_0x807195[_0x3f9c6e(0x4d7)]!==_0x27ff05[_0x3f9c6e(0x5c2)][_0x3f9c6e(0x4d7)],Object[_0x3f9c6e(0x6cc)](_0x807195,_0x27ff05['condition'])):(_0x126270[_0x3f9c6e(0x31e)][_0x3f9c6e(0x6b3)](_0x27ff05[_0x3f9c6e(0x5c2)]),_0x301205=!0x0);}if(_0x301205){_0x126270[_0x3f9c6e(0x31e)][_0x3f9c6e(0x349)]((_0x5a4c42,_0x2bb74b)=>_0x5a4c42[_0x3f9c6e(0x4d7)]>_0x2bb74b[_0x3f9c6e(0x4d7)]?0x1:_0x2bb74b['order']>_0x5a4c42[_0x3f9c6e(0x4d7)]?-0x1:0x0);for(let _0x247136=0x0;_0x247136<_0x126270[_0x3f9c6e(0x31e)][_0x3f9c6e(0x4b3)];_0x247136++)_0x126270[_0x3f9c6e(0x31e)][_0x247136][_0x3f9c6e(0x4d7)]=_0x247136+0x1;_0x126270[_0x3f9c6e(0x31e)][_0x3f9c6e(0x4b3)]>0x0&&(_0x126270[_0x3f9c6e(0x31e)][0x0][_0x3f9c6e(0x485)]=_0x3f9c6e(0x19e));}let _0x311138=await this['repository'][_0x3f9c6e(0x43d)][_0x3f9c6e(0x46a)](_0x126270[_0x3f9c6e(0x3b9)],_0x126270);if(!_0x311138)throw new Error('Erro\x20ao\x20atualizar\x20o\x20flow.');return _0x311138;}catch(_0x2e99ea){let _0x38f224=_0x3f9c6e(0x7dd),_0x22498f=_0x2e99ea instanceof Error?_0x2e99ea[_0x3f9c6e(0x60b)]:typeof _0x2e99ea==_0x3f9c6e(0x5c4)?JSON[_0x3f9c6e(0x450)](_0x2e99ea):_0x2e99ea,_0x2666bc=_0x38f224+':\x20'+_0x22498f;throw this[_0x3f9c6e(0x267)]['error'](this['instanceName']+'\x20('+this['instance'][_0x3f9c6e(0x367)]+_0x3f9c6e(0x4a0)+_0x2666bc),new m(_0x2666bc);}}async[a0_0x6d27f9(0x388)](_0x2a40ca){const _0x177554=a0_0x6d27f9;try{if(this[_0x177554(0x267)][_0x177554(0x302)](this['instanceName']+'\x20('+this[_0x177554(0x403)]['wuid']+'):\x20Editando\x20edição\x20do\x20fluxo...'),!this[_0x177554(0x3d6)]['flows'][_0x177554(0x37d)](_0x4c0fb8=>_0x4c0fb8['_id']===_0x2a40ca[_0x177554(0x3b9)]))throw this[_0x177554(0x267)][_0x177554(0x302)](this[_0x177554(0x383)]+'\x20('+this[_0x177554(0x403)][_0x177554(0x367)]+'):\x20Fluxo\x20\x27'+_0x2a40ca[_0x177554(0x3b9)]+_0x177554(0x6e3)),new m('Fluxo\x20não\x20encontrado\x20na\x20memória.');let _0xeb43f0=await this['repository']['flow'][_0x177554(0x206)]({'where':{'_id':_0x2a40ca[_0x177554(0x3b9)]}});if(!_0xeb43f0||!_0xeb43f0[_0x177554(0x44c)]?.[_0x177554(0x562)](this[_0x177554(0x403)][_0x177554(0x367)]))throw this['logger']['error'](this[_0x177554(0x383)]+'\x20('+this[_0x177554(0x403)][_0x177554(0x367)]+_0x177554(0x118)+_0x2a40ca[_0x177554(0x3b9)]+_0x177554(0x437)),new m('Flow\x20\x27'+_0x2a40ca['_id']+_0x177554(0x437));if(!_0xeb43f0['whoCanEdit']?.[_0x177554(0x562)](this[_0x177554(0x403)][_0x177554(0x367)]))throw new m(_0x177554(0x67e));let _0x1ab110=!0x1;if(_0x2a40ca[_0x177554(0x793)]?.[_0x177554(0x7b7)]===!0x0)_0xeb43f0[_0x177554(0x16e)]=_0xeb43f0[_0x177554(0x16e)][_0x177554(0x3ec)](_0x18c581=>_0x18c581&&_0x2a40ca['varedit']&&_0x18c581[_0x177554(0x3b9)]&&_0x2a40ca[_0x177554(0x793)][_0x177554(0x3b9)]&&_0x18c581[_0x177554(0x3b9)][_0x177554(0x3f4)]()!==_0x2a40ca['varedit'][_0x177554(0x3b9)][_0x177554(0x3f4)]()),_0x1ab110=!0x0;else{let _0x5b6e0c=_0xeb43f0[_0x177554(0x16e)][_0x177554(0x37d)](_0x2dabed=>_0x2dabed&&_0x2a40ca[_0x177554(0x793)]&&_0x2dabed[_0x177554(0x3b9)]&&_0x2a40ca[_0x177554(0x793)][_0x177554(0x3b9)]&&_0x2dabed[_0x177554(0x3b9)]['toString']()===_0x2a40ca['varedit'][_0x177554(0x3b9)][_0x177554(0x3f4)]());_0x5b6e0c?(_0x1ab110=_0x5b6e0c['order']!==_0x2a40ca[_0x177554(0x793)][_0x177554(0x4d7)],Object['assign'](_0x5b6e0c,_0x2a40ca[_0x177554(0x793)])):(_0xeb43f0[_0x177554(0x16e)][_0x177554(0x6b3)](_0x2a40ca[_0x177554(0x793)]),_0x1ab110=!0x0);}if(_0x1ab110){_0xeb43f0[_0x177554(0x16e)][_0x177554(0x349)]((_0x260165,_0x3bd1a3)=>_0x260165[_0x177554(0x4d7)]>_0x3bd1a3['order']?0x1:_0x3bd1a3['order']>_0x260165[_0x177554(0x4d7)]?-0x1:0x0);for(let _0x288297=0x0;_0x288297<_0xeb43f0[_0x177554(0x16e)][_0x177554(0x4b3)];_0x288297++)_0xeb43f0['varedits'][_0x288297]['order']=_0x288297+0x1;}let _0x5f3de4=await this['repository'][_0x177554(0x43d)]['updateOne'](_0xeb43f0[_0x177554(0x3b9)],_0xeb43f0);if(!_0x5f3de4)throw new Error(_0x177554(0x68a));return _0x5f3de4;}catch(_0x7fbbf5){let _0x519d54='Erro\x20ao\x20editar\x20condição\x20do\x20fluxo',_0x5240d1=_0x7fbbf5 instanceof Error?_0x7fbbf5[_0x177554(0x60b)]:typeof _0x7fbbf5==_0x177554(0x5c4)?JSON[_0x177554(0x450)](_0x7fbbf5):_0x7fbbf5,_0x44b65a=_0x519d54+':\x20'+_0x5240d1;throw this[_0x177554(0x267)][_0x177554(0x782)](this[_0x177554(0x383)]+'\x20('+this[_0x177554(0x403)][_0x177554(0x367)]+'):\x20'+_0x44b65a),new m(_0x44b65a);}}async[a0_0x6d27f9(0x51f)](_0x18d1d8){const _0x38a606=a0_0x6d27f9;try{if(this[_0x38a606(0x267)]['verbose'](this[_0x38a606(0x383)]+'\x20('+this[_0x38a606(0x403)][_0x38a606(0x367)]+_0x38a606(0x15a)),!this[_0x38a606(0x3d6)][_0x38a606(0x40f)][_0x38a606(0x37d)](_0x50236e=>_0x50236e[_0x38a606(0x3b9)]===_0x18d1d8[_0x38a606(0x3b9)]))throw this[_0x38a606(0x267)]['verbose'](this[_0x38a606(0x383)]+'\x20('+this[_0x38a606(0x403)][_0x38a606(0x367)]+_0x38a606(0x5d2)+_0x18d1d8['_id']+_0x38a606(0x6e3)),new m(_0x38a606(0x40e));let _0x3757bc=await this['repository'][_0x38a606(0x43d)][_0x38a606(0x206)]({'where':{'_id':_0x18d1d8['_id']}});if(!_0x3757bc||!_0x3757bc[_0x38a606(0x44c)]?.[_0x38a606(0x562)](this[_0x38a606(0x403)][_0x38a606(0x367)]))throw this['logger'][_0x38a606(0x782)](this[_0x38a606(0x383)]+'\x20('+this[_0x38a606(0x403)][_0x38a606(0x367)]+_0x38a606(0x118)+_0x18d1d8[_0x38a606(0x3b9)]+_0x38a606(0x437)),new m(_0x38a606(0x291)+_0x18d1d8[_0x38a606(0x3b9)]+'\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo');if(!_0x3757bc[_0x38a606(0x622)]?.['includes'](this['instance']['wuid']))throw new m(_0x38a606(0x67e));_0x18d1d8['variable'][_0x38a606(0x552)]=_0x18d1d8['variable'][_0x38a606(0x552)][_0x38a606(0x3ab)](),_0x18d1d8[_0x38a606(0x386)]['name'][_0x38a606(0x1e3)]('_')&&(_0x18d1d8[_0x38a606(0x386)][_0x38a606(0x552)]=_0x18d1d8[_0x38a606(0x386)][_0x38a606(0x552)][_0x38a606(0x6c7)](0x1)),_0x18d1d8[_0x38a606(0x386)][_0x38a606(0x552)]=_0x18d1d8['variable']['name']['trim']();let _0x28e257=_0x3757bc[_0x38a606(0x522)][_0x38a606(0x37d)](_0x27ec37=>_0x27ec37[_0x38a606(0x552)]===_0x18d1d8[_0x38a606(0x386)]['name']);if(_0x28e257?.[_0x38a606(0x368)]===!0x0)throw new Error('Não\x20é\x20permitido\x20editar\x20uma\x20variável\x20com\x20leadInfo\x20definido\x20como\x20true.');if(_0x18d1d8[_0x38a606(0x386)]?.[_0x38a606(0x7b7)]===!0x0){if(!_0x28e257)return{'message':_0x38a606(0x40b)};_0x3757bc[_0x38a606(0x522)]=_0x3757bc[_0x38a606(0x522)][_0x38a606(0x3ec)](_0x8247d0=>_0x8247d0['name']!==_0x18d1d8[_0x38a606(0x386)][_0x38a606(0x552)]);}else _0x28e257?Object['assign'](_0x28e257,_0x18d1d8[_0x38a606(0x386)]):_0x3757bc['variables']['push'](_0x18d1d8[_0x38a606(0x386)]);let _0x1c9662=await this[_0x38a606(0x4d0)]['flow'][_0x38a606(0x46a)](_0x3757bc[_0x38a606(0x3b9)],_0x3757bc);if(!_0x1c9662)throw new Error(_0x38a606(0x68a));return _0x1c9662;}catch(_0x321bd8){let _0x13bf1e=_0x38a606(0x253),_0x1cdca5=_0x321bd8 instanceof Error?_0x321bd8[_0x38a606(0x60b)]:typeof _0x321bd8==_0x38a606(0x5c4)?JSON['stringify'](_0x321bd8):_0x321bd8,_0x2e96fb=_0x13bf1e+':\x20'+_0x1cdca5;throw this[_0x38a606(0x267)][_0x38a606(0x782)](this[_0x38a606(0x383)]+'\x20('+this['instance'][_0x38a606(0x367)]+_0x38a606(0x4a0)+_0x2e96fb),new m(_0x2e96fb);}}async[a0_0x6d27f9(0x263)](_0x40c276){const _0x15d8d0=a0_0x6d27f9;let _0x360686=null;try{if(!this[_0x15d8d0(0x3d6)]?.[_0x15d8d0(0x534)]['enabled'])throw new m(_0x15d8d0(0x5f6));this[_0x15d8d0(0x267)][_0x15d8d0(0x302)](this['instanceName']+'\x20('+this[_0x15d8d0(0x403)][_0x15d8d0(0x367)]+_0x15d8d0(0x5c0));let _0x413362=(await this['whatsappNumber']({'numbers':[_0x40c276[_0x15d8d0(0x455)]]}))[0x0];if(!_0x413362[_0x15d8d0(0x434)]&&!(0x0,w[_0x15d8d0(0x648)])(_0x413362[_0x15d8d0(0x7f7)])&&!_0x413362[_0x15d8d0(0x7f7)][_0x15d8d0(0x562)](_0x15d8d0(0x2e9)))throw _0x360686=JSON[_0x15d8d0(0x450)](_0x413362,null,0x2),new m(_0x413362);let _0x5c9a93;if(_0x40c276[_0x15d8d0(0x552)][_0x15d8d0(0x4b3)]===0x24&&/^[0-9a-fA-F-]{36}$/['test'](_0x40c276[_0x15d8d0(0x552)])?_0x5c9a93=this[_0x15d8d0(0x3d6)][_0x15d8d0(0x40f)]['find'](_0x53ee40=>_0x53ee40['_id']===_0x40c276['name']):_0x5c9a93=this[_0x15d8d0(0x3d6)][_0x15d8d0(0x40f)][_0x15d8d0(0x37d)](_0x43d33c=>_0x43d33c[_0x15d8d0(0x552)]===_0x40c276[_0x15d8d0(0x552)]),!_0x5c9a93)throw this[_0x15d8d0(0x267)][_0x15d8d0(0x302)](this[_0x15d8d0(0x383)]+'\x20('+this[_0x15d8d0(0x403)][_0x15d8d0(0x367)]+_0x15d8d0(0x5d2)+_0x40c276[_0x15d8d0(0x552)]+_0x15d8d0(0x6e3)),new m(_0x15d8d0(0x40e));let _0x40b658=await this[_0x15d8d0(0x4d0)][_0x15d8d0(0x43d)]['findOne']({'where':{'_id':_0x5c9a93[_0x15d8d0(0x3b9)]}});if(!_0x40b658||!_0x40b658[_0x15d8d0(0x44c)]?.['includes'](this[_0x15d8d0(0x403)][_0x15d8d0(0x367)]))throw this[_0x15d8d0(0x267)][_0x15d8d0(0x782)](this[_0x15d8d0(0x383)]+'\x20('+this['instance'][_0x15d8d0(0x367)]+'):\x20Flow\x20\x27'+_0x5c9a93[_0x15d8d0(0x3b9)]+_0x15d8d0(0x437)),_0x360686='Flow\x20\x27'+_0x5c9a93[_0x15d8d0(0x3b9)]+_0x15d8d0(0x437),new m(_0x360686);let _0x1d374d=await this['createConversationforStartFlow'](_0x40b658,_0x413362[_0x15d8d0(0x7f7)],_0x40c276[_0x15d8d0(0x728)]);if(_0x1d374d){this[_0x15d8d0(0x267)][_0x15d8d0(0x302)](this[_0x15d8d0(0x383)]+'\x20('+this[_0x15d8d0(0x403)][_0x15d8d0(0x367)]+'):\x20Criou\x20conversa\x20no\x20startFlow');let _0xe575ea=await this[_0x15d8d0(0x4e4)](_0x1d374d);return _0xe575ea&&await this['processblock'](_0x1d374d,_0xe575ea),{'message':'Flow\x20iniciado\x20com\x20'+_0x40c276[_0x15d8d0(0x455)]};}}catch(_0x3db34b){if(this[_0x15d8d0(0x267)][_0x15d8d0(0x782)](this[_0x15d8d0(0x383)]+'\x20('+this[_0x15d8d0(0x403)][_0x15d8d0(0x367)]+_0x15d8d0(0xe5)+(_0x3db34b instanceof Error?_0x3db34b['message']:JSON[_0x15d8d0(0x450)](_0x3db34b,null,0x2))),_0x360686=_0x3db34b instanceof Error?_0x3db34b['message']:JSON['stringify'](_0x3db34b,null,0x2),_0x360686)throw new m(_0x15d8d0(0x4b1)+_0x360686);}}async[a0_0x6d27f9(0xde)](_0x53e45f,_0x163d5e,_0x17bfe0){const _0x4c00e5=a0_0x6d27f9;let _0x22a841=null;try{if(!this[_0x4c00e5(0x3d6)]?.[_0x4c00e5(0x534)][_0x4c00e5(0x4e6)])throw new m(_0x4c00e5(0x5f6));if(this[_0x4c00e5(0x267)][_0x4c00e5(0x302)](this['instanceName']+'\x20('+this[_0x4c00e5(0x403)][_0x4c00e5(0x367)]+_0x4c00e5(0x5c0)),_0x163d5e){let _0x521013=(await this[_0x4c00e5(0x26e)]({'numbers':[_0x163d5e]}))[0x0];if(!_0x521013['exists']&&!(0x0,w[_0x4c00e5(0x648)])(_0x521013[_0x4c00e5(0x7f7)])&&!_0x521013[_0x4c00e5(0x7f7)][_0x4c00e5(0x562)](_0x4c00e5(0x2e9)))throw _0x22a841=JSON[_0x4c00e5(0x450)](_0x521013,null,0x2),new m(_0x521013);_0x163d5e=_0x521013[_0x4c00e5(0x7f7)];}else _0x163d5e||(_0x163d5e=(0x0,fe['v4'])());let _0x2265ad=await this['repository'][_0x4c00e5(0x43d)][_0x4c00e5(0x206)]({'where':{'_id':_0x53e45f}});if(!_0x2265ad||!_0x2265ad['whoCanUse']?.[_0x4c00e5(0x562)](this[_0x4c00e5(0x403)][_0x4c00e5(0x367)]))throw this['logger'][_0x4c00e5(0x782)](this[_0x4c00e5(0x383)]+'\x20('+this[_0x4c00e5(0x403)]['wuid']+_0x4c00e5(0x118)+_0x53e45f+_0x4c00e5(0x437)),new m(_0x4c00e5(0x291)+_0x53e45f+_0x4c00e5(0x437));let _0x2b7a25=await this[_0x4c00e5(0x46c)](_0x2265ad,_0x163d5e,null);if(_0x2b7a25){this[_0x4c00e5(0x267)][_0x4c00e5(0x302)](this[_0x4c00e5(0x383)]+'\x20('+this[_0x4c00e5(0x403)][_0x4c00e5(0x367)]+_0x4c00e5(0x5a5));let _0x5d1ae6;if(_0x17bfe0){let _0x2bbb26=_0x2b7a25[_0x4c00e5(0x5a8)][_0x4c00e5(0x6ea)],_0xe6f2c2=this['flattenObject'](_0x17bfe0);Object[_0x4c00e5(0x6cc)](_0x2bbb26,_0xe6f2c2),_0x2b7a25['chatLog'][_0x4c00e5(0x6ea)]=_0x2bbb26,_0x5d1ae6={'error':!0x1,'apiResponse':_0x17bfe0};}let _0x31f771=await this['NextBlock'](_0x2b7a25);return _0x31f771&&await this[_0x4c00e5(0x146)](_0x2b7a25,_0x31f771),{'message':_0x4c00e5(0x58b)};}}catch(_0x5811b3){if(this['logger'][_0x4c00e5(0x782)](this[_0x4c00e5(0x383)]+'\x20('+this['instance'][_0x4c00e5(0x367)]+_0x4c00e5(0xe5)+(_0x5811b3 instanceof Error?_0x5811b3['message']:JSON[_0x4c00e5(0x450)](_0x5811b3,null,0x2))),_0x22a841=_0x5811b3 instanceof Error?_0x5811b3[_0x4c00e5(0x60b)]:JSON[_0x4c00e5(0x450)](_0x5811b3,null,0x2),_0x22a841)throw new m(_0x4c00e5(0x4b1)+_0x22a841);}}async[a0_0x6d27f9(0x588)](_0x581a73){const _0x1a15ec=a0_0x6d27f9;try{let _0x591503={'remoteJid':_0x581a73,'status':'open'},_0x3298aa={'status':_0x1a15ec(0x5a3)},_0x57dffc=await this[_0x1a15ec(0x4d0)][_0x1a15ec(0x49b)][_0x1a15ec(0x64b)](_0x591503,_0x3298aa,this[_0x1a15ec(0x403)][_0x1a15ec(0x367)]);return this[_0x1a15ec(0x267)]['verbose'](this[_0x1a15ec(0x383)]+'\x20('+this[_0x1a15ec(0x403)][_0x1a15ec(0x367)]+'):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.'),_0x57dffc;}catch(_0x4851a4){throw this[_0x1a15ec(0x267)][_0x1a15ec(0x782)](this['instanceName']+'\x20('+this[_0x1a15ec(0x403)]['wuid']+'):\x20Erro\x20ao\x20fechar\x20conversas\x20existentes:\x20'+_0x4851a4['message']),_0x4851a4;}}async[a0_0x6d27f9(0x46c)](_0x1f65ea,_0x97ab47,_0x1a6c89){const _0x5b6802=a0_0x6d27f9;this[_0x5b6802(0x267)][_0x5b6802(0x302)](this[_0x5b6802(0x383)]+'\x20('+this[_0x5b6802(0x403)][_0x5b6802(0x367)]+_0x5b6802(0x1a2)),await this['closeExistingConversations'](_0x97ab47);try{let _0x124eef=require(_0x5b6802(0x5bc))[_0x5b6802(0x3dc)],_0x190447=Date['now'](),_0x2d3b29=_0x5b6802(0x546),_0x5cae8e={},_0x40464e={},_0x13b345=this[_0x5b6802(0x3d6)][_0x5b6802(0x40f)][_0x5b6802(0x37d)](_0x1a5dbf=>_0x1a5dbf['_id']===_0x1f65ea[_0x5b6802(0x3b9)]?.[_0x5b6802(0x3f4)]()),_0x5815c1=_0x13b345?.['minutesToClose']??_0x1f65ea[_0x5b6802(0x19f)]??0x0,_0x10b865=_0x13b345?.[_0x5b6802(0x440)]??_0x1f65ea[_0x5b6802(0x440)]??!0x1,_0x3152af={'flowId':_0x1f65ea['_id'],..._0x1f65ea,'chatLog':null},_0x57cb23=await this['variablesToObject'](_0x3152af[_0x5b6802(0x522)]),_0x19cdd4=await this[_0x5b6802(0x3ca)](_0x97ab47),_0x3f9f4c={..._0x57cb23,..._0x19cdd4,'_remoteJid':_0x97ab47},_0x32310c={'lastReceivedMessage':_0x5cae8e,'lastSendMessage':_0x40464e,'lastBlockId':_0x2d3b29,'lastCondition':!0x0,'realVariables':_0x3f9f4c};_0x3152af['chatLog']=_0x32310c,_0x3152af[_0x5b6802(0x5a8)][_0x5b6802(0x6ea)]={..._0x3f9f4c,..._0x1a6c89},delete _0x3152af[_0x5b6802(0x3b9)],_0x3152af[_0x5b6802(0x3b9)]=new _0x124eef(),_0x3152af['lastInteraction']=_0x190447,_0x3152af['status']=_0x5b6802(0x389),_0x3152af[_0x5b6802(0x455)]=_0x97ab47,_0x3152af[_0x5b6802(0x19f)]=_0x5815c1,_0x3152af[_0x5b6802(0x440)]=_0x10b865,_0x3152af[_0x5b6802(0x3b9)]=_0x1f65ea[_0x5b6802(0x3b9)];let _0x4a4b8e=await this[_0x5b6802(0x4d0)][_0x5b6802(0x49b)][_0x5b6802(0x46a)](_0x3152af[_0x5b6802(0x3b9)],_0x3152af,this['instance'][_0x5b6802(0x367)]);return this[_0x5b6802(0x267)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x5b6802(0x367)]+_0x5b6802(0x1df)),_0x4a4b8e?_0x3152af:null;}catch(_0x563687){let _0x55f3ab=_0x5b6802(0x7d7),_0xd4594f=_0x563687 instanceof Error?_0x563687[_0x5b6802(0x60b)]:typeof _0x563687==_0x5b6802(0x5c4)?JSON[_0x5b6802(0x450)](_0x563687):_0x563687,_0x586739=_0x55f3ab+':\x20'+_0xd4594f;throw this[_0x5b6802(0x267)]['error'](this[_0x5b6802(0x383)]+'\x20('+this[_0x5b6802(0x403)]['wuid']+'):\x20'+_0x586739),new m(_0x586739);}}async[a0_0x6d27f9(0xff)](_0x191679){const _0x24b226=a0_0x6d27f9;try{this[_0x24b226(0x267)][_0x24b226(0x302)](this[_0x24b226(0x383)]+'\x20('+this[_0x24b226(0x403)][_0x24b226(0x367)]+_0x24b226(0x360)),this[_0x24b226(0x267)][_0x24b226(0x302)](this[_0x24b226(0x383)]+'\x20('+this[_0x24b226(0x403)][_0x24b226(0x367)]+'):\x20Query\x20params:\x20'+_0x191679);let _0x4cb089={'where':{'_id':_0x191679}};return await this[_0x24b226(0x4d0)][_0x24b226(0x49b)][_0x24b226(0x206)](_0x4cb089,this[_0x24b226(0x403)][_0x24b226(0x367)]);}catch(_0x23d6bd){let _0x2a191a=_0x24b226(0x3fd),_0x58afd4=_0x23d6bd instanceof Error?_0x23d6bd[_0x24b226(0x60b)]:typeof _0x23d6bd==_0x24b226(0x5c4)?JSON[_0x24b226(0x450)](_0x23d6bd):_0x23d6bd,_0x268507=_0x2a191a+':\x20'+_0x58afd4;throw this[_0x24b226(0x267)][_0x24b226(0x782)](this[_0x24b226(0x383)]+'\x20('+this[_0x24b226(0x403)][_0x24b226(0x367)]+_0x24b226(0x4a0)+_0x268507),new m(_0x268507);}}async[a0_0x6d27f9(0x4f9)](_0x3adf9e){const _0x45bb1d=a0_0x6d27f9;try{return this['logger']['verbose'](this[_0x45bb1d(0x383)]+'\x20('+this['instance'][_0x45bb1d(0x367)]+_0x45bb1d(0x391)),await this[_0x45bb1d(0x4d0)][_0x45bb1d(0x49b)]['find'](_0x3adf9e,this['instance'][_0x45bb1d(0x367)]);}catch(_0x108f74){let _0x16fd66=_0x45bb1d(0x565),_0x209e94=_0x108f74 instanceof Error?_0x108f74[_0x45bb1d(0x60b)]:typeof _0x108f74=='object'?JSON[_0x45bb1d(0x450)](_0x108f74):_0x108f74,_0x51c8ba=_0x16fd66+':\x20'+_0x209e94;throw this[_0x45bb1d(0x267)][_0x45bb1d(0x782)](this[_0x45bb1d(0x383)]+'\x20('+this[_0x45bb1d(0x403)][_0x45bb1d(0x367)]+'):\x20'+_0x51c8ba),new m(_0x51c8ba);}}async[a0_0x6d27f9(0xdf)](_0x3be789){const _0x41a07d=a0_0x6d27f9;try{return this['logger'][_0x41a07d(0x302)](this[_0x41a07d(0x383)]+'\x20('+this['instance'][_0x41a07d(0x367)]+'):\x20Deletando\x20conversa...'),this[_0x41a07d(0x267)][_0x41a07d(0x302)](this[_0x41a07d(0x383)]+'\x20('+this[_0x41a07d(0x403)]['wuid']+'):\x20Query\x20params:'+_0x3be789),(await this[_0x41a07d(0x4d0)][_0x41a07d(0x49b)][_0x41a07d(0x741)]({'where':{'_id':_0x3be789[_0x41a07d(0x3b9)]}},this[_0x41a07d(0x403)]['wuid']))[_0x41a07d(0x783)]===0x0?{'message':_0x41a07d(0x25b)}:{'message':_0x41a07d(0x324)};}catch(_0x589f5c){let _0x4153c1='Erro\x20ao\x20deletar\x20a\x20conversa',_0x242928=_0x589f5c instanceof Error?_0x589f5c[_0x41a07d(0x60b)]:typeof _0x589f5c==_0x41a07d(0x5c4)?JSON[_0x41a07d(0x450)](_0x589f5c):_0x589f5c,_0x1689d0=_0x4153c1+':\x20'+_0x242928;throw this[_0x41a07d(0x267)][_0x41a07d(0x782)](this[_0x41a07d(0x383)]+'\x20('+this[_0x41a07d(0x403)]['wuid']+_0x41a07d(0x4a0)+_0x1689d0),new m(_0x1689d0);}}async[a0_0x6d27f9(0x7ca)](_0x4ddb8a){const _0x492dd7=a0_0x6d27f9;try{let {_id:_0x3d4f15,chatLog:_0x516d5a,status:_0x39fe1e}=_0x4ddb8a;if(!_0x3d4f15)return{'message':_0x492dd7(0x53d)};let _0x16220e={};if(_0x39fe1e!==void 0x0&&(_0x16220e[_0x492dd7(0x538)]=_0x39fe1e),Object['keys'](_0x16220e)[_0x492dd7(0x4b3)]===0x0)return{'message':_0x492dd7(0x68c)};let _0x510d36=await this[_0x492dd7(0x4d0)]['flowConversation'][_0x492dd7(0x46a)](_0x3d4f15,_0x16220e,this[_0x492dd7(0x403)][_0x492dd7(0x367)]);return _0x510d36||{'message':_0x492dd7(0x3c1)};}catch(_0xc1fbf8){let _0x535791=_0x492dd7(0x548),_0x2b5bac=_0xc1fbf8 instanceof Error?_0xc1fbf8['message']:typeof _0xc1fbf8=='object'?JSON[_0x492dd7(0x450)](_0xc1fbf8):_0xc1fbf8,_0xe0af4d=_0x535791+':\x20'+_0x2b5bac;throw this[_0x492dd7(0x267)][_0x492dd7(0x782)](this[_0x492dd7(0x383)]+'\x20('+this[_0x492dd7(0x403)][_0x492dd7(0x367)]+'):\x20'+_0xe0af4d),new m(_0xe0af4d);}}async[a0_0x6d27f9(0x1d8)](_0x5ee91c){const _0x4a5f6c=a0_0x6d27f9;try{_0x5ee91c[_0x4a5f6c(0x3b9)]=this['createJid'](_0x5ee91c[_0x4a5f6c(0x3b9)]);let _0x185ead=await this[_0x4a5f6c(0x4d0)]['chat'][_0x4a5f6c(0x206)]({'where':{'_id':_0x5ee91c[_0x4a5f6c(0x3b9)]}},this[_0x4a5f6c(0x403)][_0x4a5f6c(0x367)]);if(!_0x185ead)throw new m('Chat\x20não\x20existe,\x20use\x20a\x20função\x20de\x20importar\x20para\x20criá-lo');let {_id:_0x3fa5f5,leadInfo:_0x4cdd94}=_0x5ee91c;if(!_0x3fa5f5)throw new Error(_0x4a5f6c(0x1f1));if(_0x5ee91c[_0x4a5f6c(0x7b7)]==='all')return await this['deleteChat'](_0x5ee91c['_id']),await this[_0x4a5f6c(0x4d0)]['chat'][_0x4a5f6c(0x7b7)]({'where':{'_id':_0x5ee91c[_0x4a5f6c(0x3b9)]}},this[_0x4a5f6c(0x403)][_0x4a5f6c(0x367)]),await this['repository'][_0x4a5f6c(0x60b)][_0x4a5f6c(0x7b7)]({'where':{'key':{'remoteJid':_0x5ee91c[_0x4a5f6c(0x3b9)]}}},this[_0x4a5f6c(0x403)][_0x4a5f6c(0x367)]),_0x5ee91c=await this['repository'][_0x4a5f6c(0x463)][_0x4a5f6c(0x46a)]({'where':{'_id':_0x5ee91c['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x4a5f6c(0x403)][_0x4a5f6c(0x367)]),j(this[_0x4a5f6c(0x383)],'chats',{'chat':_0x5ee91c}),{'message':_0x4a5f6c(0x7f8)};if(_0x5ee91c[_0x4a5f6c(0x7b7)]===_0x4a5f6c(0x2db))return await this[_0x4a5f6c(0x4d0)]['message'][_0x4a5f6c(0x7b7)]({'where':{'key':{'remoteJid':_0x5ee91c[_0x4a5f6c(0x3b9)]}}},this[_0x4a5f6c(0x403)][_0x4a5f6c(0x367)]),_0x5ee91c=await this['repository'][_0x4a5f6c(0x463)][_0x4a5f6c(0x46a)]({'where':{'_id':_0x5ee91c['_id']}},{'lastmsg':0x0,'unreadcount':0x0},this[_0x4a5f6c(0x403)][_0x4a5f6c(0x367)]),j(this[_0x4a5f6c(0x383)],_0x4a5f6c(0x652),{'chat':_0x5ee91c}),{'message':_0x4a5f6c(0x3cd)};let _0x25b26d=(_0x514c06,_0x44799f,_0x1c6a62)=>{const _0x2a0356=_0x4a5f6c;_0x514c06&&_0x1c6a62[_0x2a0356(0x48c)](_0x117aaa=>{const _0x197f87=_0x2a0356;_0x514c06[_0x117aaa]!==void 0x0&&(_0x44799f[_0x197f87(0x555)+_0x117aaa]=_0x514c06[_0x117aaa]);});},_0x59fda2={};if(_0x4a5f6c(0x7b3)in _0x5ee91c&&(this[_0x4a5f6c(0x267)][_0x4a5f6c(0x302)](this[_0x4a5f6c(0x383)]+'\x20('+this[_0x4a5f6c(0x403)]['wuid']+_0x4a5f6c(0x7c1)+_0x5ee91c[_0x4a5f6c(0x3b9)]),_0x5ee91c[_0x4a5f6c(0x7b3)]=_0x5ee91c['muteEndTime']===0x0?null:-0x1,await this[_0x4a5f6c(0x735)][_0x4a5f6c(0x6f7)]({'mute':_0x5ee91c['muteEndTime']},_0x5ee91c['_id']),_0x59fda2[_0x4a5f6c(0x7b3)]=Number(_0x5ee91c['muteEndTime'])),_0x4cdd94&&(_0x25b26d(_0x4cdd94,_0x59fda2,[_0x4a5f6c(0x2ef),'nomecompleto',_0x4a5f6c(0x5e4),_0x4a5f6c(0x294),'status',_0x4a5f6c(0x61e),'tags',_0x4a5f6c(0x2cf),'responsavelid',_0x4a5f6c(0x77d),_0x4a5f6c(0x168)]),Array[_0x4a5f6c(0x3b4)](_0x4cdd94['customFields'])&&(_0x59fda2[_0x4a5f6c(0x7cd)]=_0x4cdd94[_0x4a5f6c(0x62d)][_0x4a5f6c(0x5f1)](_0x2158db=>({'_id':_0x2158db[_0x4a5f6c(0x3b9)],'value':_0x2158db[_0x4a5f6c(0x54a)]}))),_0x5ee91c[_0x4a5f6c(0x368)][_0x4a5f6c(0x77d)]!==void 0x0)){let _0x523037=await this[_0x4a5f6c(0x4d0)]['label']['find']({'where':{}},this['instance']['wuid']),_0x483123=new Set(_0x5ee91c[_0x4a5f6c(0x368)][_0x4a5f6c(0x77d)]||[]),_0x2490bb=new Set(_0x5ee91c['leadInfo']['etiquetas']),_0xd4bfbc=new Set(_0x523037[_0x4a5f6c(0x5f1)](_0x12320d=>_0x12320d['_id'])),_0xd459a7=[..._0x2490bb][_0x4a5f6c(0x3ec)](_0x52ed08=>!_0x483123['has'](_0x52ed08)&&_0xd4bfbc[_0x4a5f6c(0x6a0)](_0x52ed08)),_0x189451=[..._0x483123][_0x4a5f6c(0x3ec)](_0x21e17f=>!_0x2490bb['has'](_0x21e17f));if(_0x59fda2[_0x4a5f6c(0x3d4)]=[..._0x483123],_0x185ead&&!_0x185ead['imported']){for(let _0xb23c95 of _0xd459a7)await this['AddChatLabel'](_0xb23c95,_0x5ee91c['_id']),_0x483123[_0x4a5f6c(0x664)](_0xb23c95);for(let _0x47f05f of _0x189451)await this[_0x4a5f6c(0x4d5)](_0x47f05f,_0x5ee91c[_0x4a5f6c(0x3b9)]),_0x483123[_0x4a5f6c(0x7b7)](_0x47f05f);}}if(_0x5ee91c[_0x4a5f6c(0x411)]!==void 0x0&&(_0x59fda2[_0x4a5f6c(0x411)]=Number(_0x5ee91c['unreadcount'])),Object[_0x4a5f6c(0x3ae)](_0x59fda2)[_0x4a5f6c(0x4b3)]===0x0)throw new Error('Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.');let _0x1028f3=await this[_0x4a5f6c(0x4d0)][_0x4a5f6c(0x463)][_0x4a5f6c(0x46a)]({'where':{'_id':_0x5ee91c[_0x4a5f6c(0x3b9)]}},_0x59fda2,this[_0x4a5f6c(0x403)][_0x4a5f6c(0x367)]);return _0x1028f3&&j(this[_0x4a5f6c(0x383)],_0x4a5f6c(0x652),{'chat':_0x1028f3}),_0x1028f3?(this[_0x4a5f6c(0x267)][_0x4a5f6c(0x302)](this[_0x4a5f6c(0x383)]+'\x20('+this['instance'][_0x4a5f6c(0x367)]+_0x4a5f6c(0x4a0)+JSON[_0x4a5f6c(0x450)](_0x1028f3,null,0x2)),_0x1028f3):{'message':_0x4a5f6c(0x65b)};}catch(_0x1fefc3){let _0x56def1=_0x4a5f6c(0x646),_0x12566b=_0x1fefc3 instanceof Error?_0x1fefc3[_0x4a5f6c(0x60b)]:typeof _0x1fefc3=='object'?JSON[_0x4a5f6c(0x450)](_0x1fefc3):_0x1fefc3,_0x396e44=_0x56def1+':\x20'+_0x12566b;throw this[_0x4a5f6c(0x267)][_0x4a5f6c(0x782)](this[_0x4a5f6c(0x383)]+'\x20('+this['instance'][_0x4a5f6c(0x367)]+_0x4a5f6c(0x4a0)+_0x396e44),new m(_0x396e44);}}async[a0_0x6d27f9(0x7cb)](_0x2cde50,_0x2d6b0d){const _0x1d8736=a0_0x6d27f9;try{await this[_0x1d8736(0x735)][_0x1d8736(0x57d)](_0x2d6b0d,_0x2cde50),this[_0x1d8736(0x267)][_0x1d8736(0xf3)](this['instanceName']+'\x20('+this[_0x1d8736(0x403)][_0x1d8736(0x367)]+_0x1d8736(0x16f)+_0x2cde50+_0x1d8736(0x582)+_0x2d6b0d+_0x1d8736(0x760));}catch(_0x1ac90f){this[_0x1d8736(0x267)][_0x1d8736(0x782)]('Erro\x20ao\x20adicionar\x20label\x20'+_0x2cde50+_0x1d8736(0x613)+_0x2d6b0d+':\x20'+_0x1ac90f);}}async['RemoveChatLabel'](_0xd81404,_0x10de07){const _0x2656d3=a0_0x6d27f9;try{await this[_0x2656d3(0x735)][_0x2656d3(0x535)](_0x10de07,_0xd81404),this[_0x2656d3(0x267)][_0x2656d3(0xf3)](this[_0x2656d3(0x383)]+'\x20('+this[_0x2656d3(0x403)][_0x2656d3(0x367)]+'):\x20Label\x20'+_0xd81404+_0x2656d3(0x6f6)+_0x10de07+_0x2656d3(0x760));}catch(_0x4e544f){this[_0x2656d3(0x267)][_0x2656d3(0x782)](_0x2656d3(0xe7)+_0xd81404+_0x2656d3(0x710)+_0x10de07+':\x20'+_0x4e544f);}}async[a0_0x6d27f9(0x408)](_0x1be218){const _0x4729d3=a0_0x6d27f9;try{let _0x480851=await this[_0x4729d3(0x4d0)]['automateSystem'][_0x4729d3(0x4cb)](this[_0x4729d3(0x403)][_0x4729d3(0x367)]),_0x1a2381=_0x1be218[_0x4729d3(0x3b9)]?_0x480851[_0x4729d3(0x52c)]['findIndex'](_0x1155a5=>_0x1155a5[_0x4729d3(0x3b9)]===_0x1be218[_0x4729d3(0x3b9)]):-0x1;if(_0x1be218[_0x4729d3(0x7b7)]&&_0x1a2381>-0x1)_0x480851[_0x4729d3(0x52c)]['splice'](_0x1a2381,0x1);else{if(_0x1a2381>-0x1){let _0x2e5734=_0x480851[_0x4729d3(0x52c)][_0x1a2381];_0x1be218[_0x4729d3(0x126)]&&(_0x2e5734[_0x4729d3(0x126)]=_0x1be218['fone']),_0x1be218[_0x4729d3(0x552)]&&(_0x2e5734[_0x4729d3(0x552)]=_0x1be218[_0x4729d3(0x552)]),_0x1be218[_0x4729d3(0x5e4)]&&(_0x2e5734[_0x4729d3(0x5e4)]=_0x1be218[_0x4729d3(0x5e4)]),_0x1be218[_0x4729d3(0x23e)]&&(_0x2e5734['role']=_0x1be218[_0x4729d3(0x23e)]);}else _0x480851[_0x4729d3(0x52c)][_0x4729d3(0x6b3)]({'_id':_0x1be218[_0x4729d3(0x3b9)]||new pe[(_0x4729d3(0x49c))][(_0x4729d3(0x65f))][(_0x4729d3(0x3dc))]()['toString'](),'fone':_0x1be218[_0x4729d3(0x126)],'name':_0x1be218[_0x4729d3(0x552)],'email':_0x1be218[_0x4729d3(0x5e4)],'role':_0x1be218[_0x4729d3(0x23e)]});}let _0x4a8669={'agents':_0x480851['agents']},_0x35b1a8=await this[_0x4729d3(0x4d0)][_0x4729d3(0x3cc)]['update'](_0x4a8669,this['instance'][_0x4729d3(0x367)]);return this[_0x4729d3(0x3d6)]=_0x35b1a8,this[_0x4729d3(0x267)][_0x4729d3(0x302)](this['instanceName']+'\x20('+this[_0x4729d3(0x403)][_0x4729d3(0x367)]+_0x4729d3(0x7f2)),this[_0x4729d3(0x267)][_0x4729d3(0x302)](this['instanceName']+'\x20('+this[_0x4729d3(0x403)][_0x4729d3(0x367)]+'):\x20'+this[_0x4729d3(0x3d6)]),_0x35b1a8;}catch(_0x363aca){let _0x2015a0='Erro\x20ao\x20editar\x20agentes',_0x4dab07=_0x363aca instanceof Error?_0x363aca[_0x4729d3(0x60b)]:typeof _0x363aca==_0x4729d3(0x5c4)?JSON[_0x4729d3(0x450)](_0x363aca):_0x363aca,_0x27b355=_0x2015a0+':\x20'+_0x4dab07;throw this[_0x4729d3(0x267)]['error'](this[_0x4729d3(0x383)]+'\x20('+this[_0x4729d3(0x403)][_0x4729d3(0x367)]+_0x4729d3(0x4a0)+_0x27b355),new m(_0x27b355);}}async[a0_0x6d27f9(0x1f5)](_0x576971){const _0x16e31b=a0_0x6d27f9;try{let _0x29fa5a=await this[_0x16e31b(0x4d0)][_0x16e31b(0x3cc)][_0x16e31b(0x4cb)](this[_0x16e31b(0x403)]['wuid']),_0x283e78=_0x576971[_0x16e31b(0x3b9)]?_0x29fa5a[_0x16e31b(0x62d)][_0x16e31b(0x2bd)](_0x32fbb5=>_0x32fbb5[_0x16e31b(0x3b9)]===_0x576971[_0x16e31b(0x3b9)]):-0x1,_0x4f90a6=!0x1,_0x574598=_0x29fa5a[_0x16e31b(0x62d)][_0x16e31b(0x27f)](_0x564301=>_0x564301[_0x16e31b(0x4d7)]===_0x576971[_0x16e31b(0x4d7)]);if(_0x576971['delete']&&_0x283e78>-0x1)_0x29fa5a['customFields'][_0x16e31b(0x18f)](_0x283e78,0x1),_0x4f90a6=!0x0;else{if(_0x283e78>-0x1){if(_0x29fa5a[_0x16e31b(0x62d)]['some'](_0x2f4fcd=>_0x2f4fcd['name']===_0x576971[_0x16e31b(0x552)]&&_0x2f4fcd[_0x16e31b(0x3b9)]!==_0x576971[_0x16e31b(0x3b9)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');let _0x59b8f0=_0x29fa5a[_0x16e31b(0x62d)][_0x283e78];_0x576971[_0x16e31b(0x4d7)]&&(_0x574598||!Number[_0x16e31b(0x657)](_0x576971[_0x16e31b(0x4d7)]))&&(_0x59b8f0[_0x16e31b(0x4d7)]=_0x576971[_0x16e31b(0x4d7)],_0x4f90a6=!0x0),_0x576971[_0x16e31b(0x552)]&&(_0x59b8f0[_0x16e31b(0x552)]=_0x576971[_0x16e31b(0x552)]);}else{if(_0x29fa5a[_0x16e31b(0x62d)][_0x16e31b(0x27f)](_0x4618c7=>_0x4618c7[_0x16e31b(0x552)]===_0x576971['name']&&_0x4618c7[_0x16e31b(0x3b9)]!==_0x576971[_0x16e31b(0x3b9)]))throw new Error('Nome\x20do\x20campo\x20personalizado\x20já\x20existe.');_0x29fa5a[_0x16e31b(0x62d)][_0x16e31b(0x6b3)]({'_id':_0x576971[_0x16e31b(0x3b9)]||new pe[(_0x16e31b(0x49c))]['Types'][(_0x16e31b(0x3dc))]()[_0x16e31b(0x3f4)](),'order':_0x576971['order'],'name':_0x576971[_0x16e31b(0x552)]}),_0x4f90a6=!0x0;}}if(_0x4f90a6){_0x29fa5a[_0x16e31b(0x62d)][_0x16e31b(0x349)]((_0x3a8bc6,_0xcf254b)=>_0x3a8bc6['order']>_0xcf254b[_0x16e31b(0x4d7)]?0x1:_0xcf254b[_0x16e31b(0x4d7)]>_0x3a8bc6['order']?-0x1:0x0);for(let _0xc998ca=0x0;_0xc998ca<_0x29fa5a[_0x16e31b(0x62d)][_0x16e31b(0x4b3)];_0xc998ca++)_0x29fa5a['customFields'][_0xc998ca][_0x16e31b(0x4d7)]=_0xc998ca+0x1;}let _0x33b1dd=await this['repository'][_0x16e31b(0x3cc)][_0x16e31b(0x414)](_0x29fa5a,this[_0x16e31b(0x403)][_0x16e31b(0x367)]);return this[_0x16e31b(0x3d6)]=_0x33b1dd,this['logger'][_0x16e31b(0x302)](this[_0x16e31b(0x383)]+'\x20('+this[_0x16e31b(0x403)][_0x16e31b(0x367)]+'):\x20debug\x20alterando\x20this.AutomateSystem'),this[_0x16e31b(0x267)]['verbose'](this['instanceName']+'\x20('+this['instance'][_0x16e31b(0x367)]+'):\x20'+this[_0x16e31b(0x3d6)]),_0x33b1dd;}catch(_0x156549){let _0x53e060=_0x16e31b(0x3e8),_0x1dd96a=_0x156549 instanceof Error?_0x156549[_0x16e31b(0x60b)]:typeof _0x156549==_0x16e31b(0x5c4)?JSON['stringify'](_0x156549):_0x156549,_0x3d6b93=_0x53e060+':\x20'+_0x1dd96a;throw this['logger'][_0x16e31b(0x782)](this[_0x16e31b(0x383)]+'\x20('+this[_0x16e31b(0x403)][_0x16e31b(0x367)]+_0x16e31b(0x4a0)+_0x3d6b93),new m(_0x3d6b93);}}async[a0_0x6d27f9(0x687)](_0x3a015b){const _0x38113d=a0_0x6d27f9;try{let _0x13e564=await this[_0x38113d(0x4d0)]['automateSystem'][_0x38113d(0x4cb)](this[_0x38113d(0x403)][_0x38113d(0x367)]),_0x3a26fb=_0x13e564?.['autoCompleteMessages']?.[_0x38113d(0x2bd)](_0x50092e=>_0x50092e[_0x38113d(0x3b9)]===_0x3a015b?.['_id']);if(_0x3a015b?.['delete'])_0x3a26fb>-0x1&&_0x13e564?.[_0x38113d(0x13b)]?.[_0x38113d(0x18f)](_0x3a26fb,0x1);else{if(_0x3a26fb>-0x1){let _0x414b5c=_0x13e564[_0x38113d(0x13b)][_0x3a26fb];_0x414b5c[_0x38113d(0x4d7)]=_0x3a015b?.[_0x38113d(0x4d7)]||_0x414b5c[_0x38113d(0x4d7)],_0x414b5c[_0x38113d(0x2a5)]=_0x3a015b?.['command']||_0x414b5c[_0x38113d(0x2a5)],_0x414b5c[_0x38113d(0x60b)]=_0x3a015b?.['message']||_0x414b5c['message'];}else{let _0x584b9f={'_id':_0x3a015b?.['_id']||new pe[(_0x38113d(0x49c))]['Types'][(_0x38113d(0x3dc))]()[_0x38113d(0x3f4)](),'order':_0x3a015b?.[_0x38113d(0x4d7)],'command':_0x3a015b?.[_0x38113d(0x2a5)],'message':_0x3a015b?.[_0x38113d(0x60b)]};_0x13e564?.[_0x38113d(0x13b)]?.[_0x38113d(0x6b3)](_0x584b9f);}}_0x13e564?.[_0x38113d(0x13b)]?.[_0x38113d(0x349)]((_0x45a9eb,_0x2d496f)=>_0x45a9eb[_0x38113d(0x4d7)]-_0x2d496f[_0x38113d(0x4d7)]);let _0x5076b7=await this[_0x38113d(0x4d0)][_0x38113d(0x3cc)][_0x38113d(0x414)](_0x13e564,this[_0x38113d(0x403)][_0x38113d(0x367)]);return this[_0x38113d(0x3d6)]=_0x5076b7,this[_0x38113d(0x267)]['verbose'](this[_0x38113d(0x383)]+'\x20('+this['instance'][_0x38113d(0x367)]+_0x38113d(0x574)),_0x5076b7;}catch(_0x2f71b2){let _0x16819e='Erro\x20ao\x20tentar\x20autoCompleteMessages',_0x5dbbeb=_0x2f71b2 instanceof Error?_0x2f71b2['message']:typeof _0x2f71b2==_0x38113d(0x5c4)?JSON['stringify'](_0x2f71b2):_0x2f71b2,_0x499334=_0x16819e+':\x20'+_0x5dbbeb;throw this[_0x38113d(0x267)][_0x38113d(0x782)](this[_0x38113d(0x383)]+'\x20('+this[_0x38113d(0x403)][_0x38113d(0x367)]+_0x38113d(0x4a0)+_0x499334),new m(_0x499334);}}async[a0_0x6d27f9(0x22a)](_0x50cd0e){const _0x5baf49=a0_0x6d27f9;try{let _0xf8a309=await this[_0x5baf49(0x4d0)]['automateSystem'][_0x5baf49(0x4cb)](this[_0x5baf49(0x403)][_0x5baf49(0x367)]);if(!_0xf8a309)throw new Error(_0x5baf49(0x5df));let _0x305b08={'_id':_0xf8a309[_0x5baf49(0x3b9)],'flowConfig':{'enabled':_0x50cd0e[_0x5baf49(0x4e6)]??_0xf8a309['flowConfig'][_0x5baf49(0x4e6)],'ignoreGroups':_0x50cd0e[_0x5baf49(0x111)]??_0xf8a309['flowConfig']['ignoreGroups'],'stopConversation':_0x50cd0e[_0x5baf49(0x259)][_0x5baf49(0x3ab)]()??_0xf8a309['flowConfig']['stopConversation'][_0x5baf49(0x3ab)](),'stopMinutes':_0x50cd0e[_0x5baf49(0x231)]??_0xf8a309[_0x5baf49(0x534)][_0x5baf49(0x231)],'stopWhenYouSendMsg':_0x50cd0e['stopWhenYouSendMsg']??_0xf8a309[_0x5baf49(0x534)]['stopWhenYouSendMsg']}},_0x558585=await this[_0x5baf49(0x4d0)]['automateSystem'][_0x5baf49(0x414)](_0x305b08,this['instance'][_0x5baf49(0x367)]);return this[_0x5baf49(0x3d6)]=_0x558585,this[_0x5baf49(0x267)][_0x5baf49(0x302)](this[_0x5baf49(0x383)]+'\x20('+this[_0x5baf49(0x403)][_0x5baf49(0x367)]+_0x5baf49(0x7f2)),this[_0x5baf49(0x267)][_0x5baf49(0x302)](this[_0x5baf49(0x383)]+'\x20('+this[_0x5baf49(0x403)]['wuid']+_0x5baf49(0x4a0)+this[_0x5baf49(0x3d6)]),setTimeout(()=>this[_0x5baf49(0x201)](),0x7d0),_0x558585;}catch(_0x4f3db1){let _0x9e9669=_0x5baf49(0xf5),_0x36cd29=_0x4f3db1 instanceof Error?_0x4f3db1[_0x5baf49(0x60b)]:typeof _0x4f3db1=='object'?JSON['stringify'](_0x4f3db1):_0x4f3db1,_0x13fff5=_0x9e9669+':\x20'+_0x36cd29;throw this[_0x5baf49(0x267)][_0x5baf49(0x782)](this[_0x5baf49(0x383)]+'\x20('+this[_0x5baf49(0x403)][_0x5baf49(0x367)]+_0x5baf49(0x4a0)+_0x13fff5),new m(_0x13fff5);}}async[a0_0x6d27f9(0x4cf)](){const _0xb35219=a0_0x6d27f9;try{let _0x4d92a1=await this[_0xb35219(0x4d0)][_0xb35219(0x3cc)][_0xb35219(0x4cb)](this[_0xb35219(0x403)][_0xb35219(0x367)]);return this[_0xb35219(0x3d6)]=_0x4d92a1,this[_0xb35219(0x267)]['verbose'](this[_0xb35219(0x383)]+'\x20('+this[_0xb35219(0x403)][_0xb35219(0x367)]+_0xb35219(0x45c)),this[_0xb35219(0x267)][_0xb35219(0x302)](this[_0xb35219(0x3d6)]),_0x4d92a1;}catch(_0x4419da){let _0x2c05cc='Erro\x20ao\x20buscar\x20ou\x20criar\x20automateSystem',_0x43dcb7=_0x4419da instanceof Error?_0x4419da[_0xb35219(0x60b)]:typeof _0x4419da=='object'?JSON[_0xb35219(0x450)](_0x4419da):_0x4419da,_0x304333=_0x2c05cc+':\x20'+_0x43dcb7;throw this['logger']['error'](this[_0xb35219(0x383)]+'\x20('+this[_0xb35219(0x403)][_0xb35219(0x367)]+_0xb35219(0x4a0)+_0x304333),new m(_0x304333);}}async[a0_0x6d27f9(0x75a)](){const _0x3b0bf0=a0_0x6d27f9;this[_0x3b0bf0(0x403)]['ScheduleMessage']['timeout']&&clearTimeout(this[_0x3b0bf0(0x403)][_0x3b0bf0(0x3b6)][_0x3b0bf0(0x418)]),this['instance']['ScheduleMessage'][_0x3b0bf0(0x418)]=setTimeout(()=>{const _0x2f6702=_0x3b0bf0;this[_0x2f6702(0x34c)]();},0x2*0x3c*0x3e8+0x14*0x3e8);}async[a0_0x6d27f9(0x34c)](){const _0x4e4151=a0_0x6d27f9;Date['now']()-this['instance'][_0x4e4151(0x3b6)][_0x4e4151(0x50c)]>=0x1d4c0&&(this[_0x4e4151(0x267)][_0x4e4151(0x302)](this[_0x4e4151(0x383)]+'\x20('+this['instance'][_0x4e4151(0x367)]+'):\x20Timeout\x20excedido.\x20Reiniciando\x20o\x20processamento.'),this[_0x4e4151(0x403)][_0x4e4151(0x3b6)][_0x4e4151(0x381)]=null,this[_0x4e4151(0x403)][_0x4e4151(0x3b6)][_0x4e4151(0x50c)]=0x0,this[_0x4e4151(0x403)][_0x4e4151(0x3b6)][_0x4e4151(0x5b6)]=0x0,await this[_0x4e4151(0x201)]());}async[a0_0x6d27f9(0x201)](){const _0x3d602b=a0_0x6d27f9;let _0x113b94=()=>{const _0x4c375b=a0_0x3485;this[_0x4c375b(0x267)]['verbose'](this[_0x4c375b(0x383)]+'\x20('+this[_0x4c375b(0x403)][_0x4c375b(0x367)]+_0x4c375b(0x53c)+this[_0x4c375b(0x403)][_0x4c375b(0x3b6)]['processingGroup_id']+'\x20saindo\x20da\x20função');},_0x284995=async()=>{const _0x2fdf91=a0_0x3485;this[_0x2fdf91(0x267)][_0x2fdf91(0x302)](this[_0x2fdf91(0x383)]+'\x20('+this[_0x2fdf91(0x403)][_0x2fdf91(0x367)]+_0x2fdf91(0x7c0));let _0x11fdf8=Date[_0x2fdf91(0x7b2)]()-0xc*0x3c*0x3c*0x3e8,_0x42dfc1={'where':{'status':{'$in':['scheduled','sending']},'$or':[{'when':{'$lte':Date[_0x2fdf91(0x7b2)](),'$gte':_0x11fdf8}},{'when':0x0}]}};return await this[_0x2fdf91(0x4d0)][_0x2fdf91(0x51d)][_0x2fdf91(0x37d)](_0x42dfc1,this[_0x2fdf91(0x403)][_0x2fdf91(0x367)]);},_0x2ee92e=async _0x4750f7=>{const _0x6c51b1=a0_0x3485;for(let _0x3ea3c3 of _0x4750f7){let _0x271210={'_id':_0x3ea3c3[_0x6c51b1(0x3b9)],'$or':[{'startSend':{'$exists':!0x1}},{'startSend':{'$lt':Date[_0x6c51b1(0x7b2)]()-0x1770}}]},_0x52b318={'startSend':Date['now']()};if(!await this[_0x6c51b1(0x4d0)]['scheduleMessage'][_0x6c51b1(0x46a)](_0x271210,_0x52b318,this[_0x6c51b1(0x403)][_0x6c51b1(0x367)]))return;if(!this[_0x6c51b1(0x403)]['ScheduleMessage']['isConnected']){this['logger'][_0x6c51b1(0x302)](this[_0x6c51b1(0x383)]+'\x20('+this['instance']['wuid']+'):\x20Loop\x20externo\x20interrompido\x20devido\x20à\x20flag\x20isConnected');break;}if(_0x3ea3c3[_0x6c51b1(0x5cb)]===_0x6c51b1(0x43d)&&!this['AutomateSystem']?.[_0x6c51b1(0x534)][_0x6c51b1(0x4e6)]){this[_0x6c51b1(0x267)]['error'](this[_0x6c51b1(0x383)]+'\x20('+this[_0x6c51b1(0x403)]['wuid']+'):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.');continue;}(!_0x3ea3c3['remoteJidsRemaining']||_0x3ea3c3[_0x6c51b1(0x5d6)][_0x6c51b1(0x4b3)]===0x0)&&(_0x3ea3c3=await this[_0x6c51b1(0x4d0)][_0x6c51b1(0x51d)]['updateOneById'](_0x3ea3c3['_id'],{'status':'sending','remoteJidsRemaining':[..._0x3ea3c3[_0x6c51b1(0x57e)]]},this[_0x6c51b1(0x403)][_0x6c51b1(0x367)]));for(let _0x38bf66 of _0x3ea3c3[_0x6c51b1(0x5d6)]){if(await this['setRestartTimeout'](),this[_0x6c51b1(0x403)][_0x6c51b1(0x3b6)][_0x6c51b1(0x50c)]=Date['now'](),this['instance'][_0x6c51b1(0x3b6)][_0x6c51b1(0x2d9)]===_0x38bf66){this['logger']['error'](this[_0x6c51b1(0x383)]+'\x20('+this['instance']['wuid']+_0x6c51b1(0x223)+_0x38bf66+'.\x20Removendo\x20da\x20lista\x20de\x20tentativas.');let _0x2540c6={'$push':{'messagesSend':{'remoteJid':_0x38bf66,'error':!0x0,'id':null,'error_log':_0x6c51b1(0x3c6),'log_timestamp':Date[_0x6c51b1(0x7b2)]()}},'$pull':{'remoteJidsRemaining':_0x38bf66}};await this['repository'][_0x6c51b1(0x51d)][_0x6c51b1(0x5d1)](_0x3ea3c3['_id'],_0x2540c6,this[_0x6c51b1(0x403)][_0x6c51b1(0x367)]);continue;}if(this[_0x6c51b1(0x403)][_0x6c51b1(0x3b6)][_0x6c51b1(0x2d9)]=_0x38bf66,_0x3ea3c3[_0x6c51b1(0x48e)][_0x6c51b1(0x27f)](_0xa292cf=>_0xa292cf['remoteJid']===_0x38bf66)){this[_0x6c51b1(0x267)]['verbose'](this[_0x6c51b1(0x383)]+'\x20('+this['instance'][_0x6c51b1(0x367)]+_0x6c51b1(0x4de)+_0x38bf66+_0x6c51b1(0x734));continue;}if(!this[_0x6c51b1(0x403)][_0x6c51b1(0x3b6)][_0x6c51b1(0x30f)]){this[_0x6c51b1(0x267)][_0x6c51b1(0x302)](this[_0x6c51b1(0x383)]+'\x20('+this[_0x6c51b1(0x403)][_0x6c51b1(0x367)]+_0x6c51b1(0x2df));break;}if(!this[_0x6c51b1(0x403)][_0x6c51b1(0x3b6)]['processingGroup_id']){this[_0x6c51b1(0x267)]['verbose'](this[_0x6c51b1(0x383)]+'\x20('+this[_0x6c51b1(0x403)][_0x6c51b1(0x367)]+'):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20'+_0x3ea3c3[_0x6c51b1(0x3b9)]+'\x20foi\x20interrompido\x20pelo\x20usuário.');break;}if(_0x3ea3c3[_0x6c51b1(0x5cb)]===_0x6c51b1(0x43d)&&!this[_0x6c51b1(0x3d6)]?.[_0x6c51b1(0x534)][_0x6c51b1(0x4e6)]){this[_0x6c51b1(0x267)]['error'](this[_0x6c51b1(0x383)]+'\x20('+this[_0x6c51b1(0x403)][_0x6c51b1(0x367)]+_0x6c51b1(0x6fd));break;}let _0x414c20={'remoteJid':_0x38bf66,'error':!0x0,'id':null,'error_log':null,'log_timestamp':Date[_0x6c51b1(0x7b2)]()},_0x25eab1=null;try{let _0x69cb34=await this[_0x6c51b1(0x156)](_0x38bf66,_0x3ea3c3);_0x414c20[_0x6c51b1(0x782)]=_0x69cb34[_0x6c51b1(0x782)],_0x414c20['id']=_0x69cb34['error']?null:_0x69cb34['id'],_0x414c20[_0x6c51b1(0x1ff)]=_0x69cb34[_0x6c51b1(0x782)]?_0x69cb34[_0x6c51b1(0x15d)]?_0x69cb34[_0x6c51b1(0x15d)][_0x6c51b1(0x3f4)]():'':null;let _0x40796c={'$push':{'messagesSend':_0x414c20},'$pull':{'remoteJidsRemaining':_0x38bf66}},_0x2250a7=_0x3ea3c3[_0x6c51b1(0x3b9)];if(_0x25eab1=await this['repository'][_0x6c51b1(0x51d)]['updateOneById'](_0x2250a7,_0x40796c,this[_0x6c51b1(0x403)][_0x6c51b1(0x367)]),_0x69cb34['error'])continue;let _0x3e1295=this[_0x6c51b1(0x352)](_0x3ea3c3['delaySecMin'],_0x3ea3c3[_0x6c51b1(0x6cb)]);await this[_0x6c51b1(0x67a)](_0x3e1295);}catch(_0x29f67a){this[_0x6c51b1(0x267)]['error'](this[_0x6c51b1(0x383)]+'\x20('+this[_0x6c51b1(0x403)][_0x6c51b1(0x367)]+_0x6c51b1(0x374)+_0x38bf66+':\x20'+(_0x29f67a instanceof Error?_0x29f67a[_0x6c51b1(0x60b)]:JSON[_0x6c51b1(0x450)](_0x29f67a,null,0x2))),_0x414c20[_0x6c51b1(0x782)]=!0x0,_0x414c20[_0x6c51b1(0x1ff)]=_0x29f67a[_0x6c51b1(0x60b)];let _0x39b23d={'$push':{'messagesSend':_0x414c20},'$pull':{'remoteJidsRemaining':_0x38bf66}},_0x5431ab=_0x3ea3c3[_0x6c51b1(0x3b9)];_0x25eab1=await this[_0x6c51b1(0x4d0)]['scheduleMessage'][_0x6c51b1(0x5d1)](_0x5431ab,_0x39b23d,this[_0x6c51b1(0x403)][_0x6c51b1(0x367)]);}finally{if(_0x25eab1&&_0x25eab1[_0x6c51b1(0x538)]===_0x6c51b1(0x586)){this[_0x6c51b1(0x267)]['verbose'](this[_0x6c51b1(0x383)]+'\x20('+this[_0x6c51b1(0x403)][_0x6c51b1(0x367)]+_0x6c51b1(0x677)+_0x3ea3c3[_0x6c51b1(0x3b9)]+_0x6c51b1(0x3a7));break;}}}let _0x57b00f=await this['repository'][_0x6c51b1(0x51d)]['findById'](_0x3ea3c3[_0x6c51b1(0x3b9)],this[_0x6c51b1(0x403)][_0x6c51b1(0x367)]);if(_0x57b00f['remoteJidsRemaining'][_0x6c51b1(0x4b3)]===0x0&&_0x57b00f[_0x6c51b1(0x538)]!==_0x6c51b1(0x586)){this[_0x6c51b1(0x403)][_0x6c51b1(0x3b6)][_0x6c51b1(0x2d9)]=null;let _0x2740d6={'$set':{'status':_0x6c51b1(0x3c8)}},_0x40e990=_0x57b00f[_0x6c51b1(0x3b9)];await this['repository'][_0x6c51b1(0x51d)][_0x6c51b1(0x5d1)](_0x40e990,_0x2740d6,this['instance']['wuid']);}await new Promise(_0x34dda4=>setTimeout(_0x34dda4,0x1388));}},_0x564cb0=async()=>{const _0x2ee653=a0_0x3485;let _0x4aaa81={'where':{'status':'scheduled','when':{'$gt':Date[_0x2ee653(0x7b2)]()}}},_0xa6d020=await this[_0x2ee653(0x4d0)]['scheduleMessage'][_0x2ee653(0x206)](_0x4aaa81,this[_0x2ee653(0x403)][_0x2ee653(0x367)]);_0xa6d020&&_0xa6d020[_0x2ee653(0x30b)]-Date[_0x2ee653(0x7b2)]()<=0x5265c00?this[_0x2ee653(0x403)][_0x2ee653(0x3b6)][_0x2ee653(0x5b6)]=_0xa6d020[_0x2ee653(0x30b)]-Date[_0x2ee653(0x7b2)]():this['instance']['ScheduleMessage']['delayMessage']=(0x3c+Math[_0x2ee653(0x570)](Math[_0x2ee653(0x329)]()*0x3c))*0x3c*0x3e8,this['instance'][_0x2ee653(0x3b6)][_0x2ee653(0x5b6)]=Math['max'](this['instance']['ScheduleMessage'][_0x2ee653(0x5b6)],0x7d0);let _0x1b1efe=Math['round'](this[_0x2ee653(0x403)][_0x2ee653(0x3b6)][_0x2ee653(0x5b6)]/0xea60);if(_0xa6d020){let _0x290926=new Date(_0xa6d020[_0x2ee653(0x30b)])[_0x2ee653(0x36d)]();this[_0x2ee653(0x267)][_0x2ee653(0x302)](this[_0x2ee653(0x383)]+'\x20('+this['instance'][_0x2ee653(0x367)]+'):\x20encontrado\x20próxima\x20mensagem\x20para\x20'+_0x290926+',\x20fará\x20nova\x20verificação\x20em\x20'+_0x1b1efe+'\x20minutos');}else this[_0x2ee653(0x267)][_0x2ee653(0x302)](this[_0x2ee653(0x383)]+'\x20('+this[_0x2ee653(0x403)][_0x2ee653(0x367)]+_0x2ee653(0x69f)+_0x1b1efe+_0x2ee653(0x5f5));setTimeout(()=>this[_0x2ee653(0x201)](),this[_0x2ee653(0x403)][_0x2ee653(0x3b6)][_0x2ee653(0x5b6)]);};if(this[_0x3d602b(0x403)][_0x3d602b(0x3b6)][_0x3d602b(0x381)]){await this[_0x3d602b(0x75a)](),_0x113b94();return;}if(!this[_0x3d602b(0x403)][_0x3d602b(0x3b6)][_0x3d602b(0x30f)]){this[_0x3d602b(0x267)][_0x3d602b(0x302)](this[_0x3d602b(0x383)]+'\x20('+this['instance']['wuid']+_0x3d602b(0x3af)),this[_0x3d602b(0x403)][_0x3d602b(0x3b6)]['processingGroup_id']=null,this['instance'][_0x3d602b(0x3b6)][_0x3d602b(0x50c)]=0x0,this[_0x3d602b(0x403)][_0x3d602b(0x3b6)][_0x3d602b(0x5b6)]=0x0,this['instance'][_0x3d602b(0x3b6)][_0x3d602b(0x2d9)]=null;return;}try{let _0x2992e0=await _0x284995();_0x2992e0[_0x3d602b(0x4b3)]===0x0?this[_0x3d602b(0x267)]['verbose'](this[_0x3d602b(0x383)]+'\x20('+this[_0x3d602b(0x403)][_0x3d602b(0x367)]+_0x3d602b(0x690)):(this[_0x3d602b(0x403)][_0x3d602b(0x3b6)][_0x3d602b(0x381)]=_0x2992e0[0x0]['_id'],await _0x2ee92e(_0x2992e0)),await _0x564cb0(),this['instance'][_0x3d602b(0x3b6)][_0x3d602b(0x381)]=null,this[_0x3d602b(0x403)][_0x3d602b(0x3b6)]['lastMessage_id']=null;}catch(_0x488215){this[_0x3d602b(0x267)][_0x3d602b(0x782)](_0x3d602b(0x128)+(_0x488215 instanceof Error?_0x488215[_0x3d602b(0x60b)]:JSON['stringify'](_0x488215,null,0x2)));}}[a0_0x6d27f9(0x352)](_0x15cd68,_0x350208){const _0x4c3593=a0_0x6d27f9;return _0x15cd68=Math['max'](0.5,_0x15cd68),_0x350208=Math[_0x4c3593(0x1cd)](Math[_0x4c3593(0x17f)](0x3,_0x350208),0x78),Math[_0x4c3593(0x570)](Math['random']()*(_0x350208-_0x15cd68+0x1)+_0x15cd68)*0x3e8;}[a0_0x6d27f9(0x67a)](_0x55fc78){return new Promise(_0xa32156=>setTimeout(_0xa32156,_0x55fc78));}async[a0_0x6d27f9(0x3ca)](_0x2c3e45){const _0x55c8d5=a0_0x6d27f9;if(!this[_0x55c8d5(0x3d6)]&&(await this[_0x55c8d5(0x4cf)](),!this[_0x55c8d5(0x3d6)]))return null;_0x2c3e45=this[_0x55c8d5(0x1b6)](_0x2c3e45);let _0xf4c9aa=await this['repository'][_0x55c8d5(0x463)][_0x55c8d5(0x206)]({'where':{'_id':_0x2c3e45}},this[_0x55c8d5(0x403)][_0x55c8d5(0x367)]),_0x395dae={};if(_0xf4c9aa&&_0xf4c9aa[_0x55c8d5(0x368)]){let _0x4f2c9e=_0xf4c9aa['leadInfo'];typeof _0x4f2c9e[_0x55c8d5(0x2ef)]==_0x55c8d5(0x7fc)&&(_0x395dae[_0x55c8d5(0x2ef)]=_0x4f2c9e[_0x55c8d5(0x2ef)]),typeof _0x4f2c9e[_0x55c8d5(0x254)]==_0x55c8d5(0x7fc)&&(_0x395dae[_0x55c8d5(0x254)]=_0x4f2c9e[_0x55c8d5(0x254)]),typeof _0x4f2c9e['email']==_0x55c8d5(0x7fc)&&(_0x395dae[_0x55c8d5(0x5e4)]=_0x4f2c9e['email']),typeof _0x4f2c9e[_0x55c8d5(0x294)]==_0x55c8d5(0x7fc)&&(_0x395dae['cpf']=_0x4f2c9e['cpf']),typeof _0x4f2c9e['status']==_0x55c8d5(0x7fc)&&(_0x395dae[_0x55c8d5(0x538)]=_0x4f2c9e[_0x55c8d5(0x538)]),typeof _0x4f2c9e[_0x55c8d5(0x61e)]==_0x55c8d5(0x7fc)&&(_0x395dae[_0x55c8d5(0x61e)]=_0x4f2c9e[_0x55c8d5(0x61e)]),typeof _0x4f2c9e[_0x55c8d5(0x2fc)]==_0x55c8d5(0x7fc)&&(_0x395dae[_0x55c8d5(0x2fc)]=_0x4f2c9e[_0x55c8d5(0x2fc)]),Array[_0x55c8d5(0x3b4)](_0x4f2c9e[_0x55c8d5(0x78f)])&&(_0x395dae[_0x55c8d5(0x78f)]=_0x4f2c9e[_0x55c8d5(0x78f)][_0x55c8d5(0x34b)](',\x20')),Array[_0x55c8d5(0x3b4)](_0x4f2c9e['etiquetas'])&&(_0x395dae[_0x55c8d5(0x77d)]=_0x4f2c9e[_0x55c8d5(0x77d)][_0x55c8d5(0x34b)](',\x20'));}return _0xf4c9aa&&_0xf4c9aa['leadInfo']&&_0xf4c9aa[_0x55c8d5(0x368)][_0x55c8d5(0x62d)]&&_0xf4c9aa[_0x55c8d5(0x368)][_0x55c8d5(0x62d)][_0x55c8d5(0x48c)](_0x234282=>{const _0x283ba4=_0x55c8d5;let _0x271722=this[_0x283ba4(0x3d6)]?.[_0x283ba4(0x62d)][_0x283ba4(0x37d)](_0x43b258=>_0x43b258[_0x283ba4(0x3b9)]===_0x234282['_id']);_0x271722&&(_0x395dae[_0x271722[_0x283ba4(0x552)]]=_0x234282['value']);}),_0x395dae;}async['replaceVariablesChat'](_0x142271,_0xbd1054){const _0x48cd8f=a0_0x6d27f9;try{let _0x4a4484=await this[_0x48cd8f(0x3ca)](_0xbd1054);return this[_0x48cd8f(0x614)](_0x142271,_0x4a4484);}catch(_0x451ce5){return this[_0x48cd8f(0x267)]['error'](_0x48cd8f(0x7d3)+_0xbd1054+':\x20'+_0x451ce5),_0x142271;}}async['editScheduleMessage'](_0x3c841e){const _0x24d914=a0_0x6d27f9;try{if(this[_0x24d914(0x267)][_0x24d914(0x302)](this[_0x24d914(0x383)]+'\x20('+this[_0x24d914(0x403)][_0x24d914(0x367)]+'):\x20Edit\x20schedule\x20message...'),_0x3c841e[_0x24d914(0x7b7)]&&_0x3c841e['_id']){if(this[_0x24d914(0x403)][_0x24d914(0x3b6)][_0x24d914(0x381)]===_0x3c841e['_id'][_0x24d914(0x3f4)]())throw new Error(_0x24d914(0x78a));let _0x111290=await this[_0x24d914(0x4d0)][_0x24d914(0x51d)][_0x24d914(0x741)](_0x3c841e[_0x24d914(0x3b9)],this['instance']['wuid']);return setTimeout(()=>this['scheduleNextCheck'](),0x7d0),_0x111290;}let _0x704384;if(_0x3c841e[_0x24d914(0x3b9)]&&(_0x704384=await this[_0x24d914(0x4d0)][_0x24d914(0x51d)][_0x24d914(0x281)](_0x3c841e[_0x24d914(0x3b9)],this['instance'][_0x24d914(0x367)])),_0x704384){let _0x3f17a9;if(this[_0x24d914(0x403)][_0x24d914(0x3b6)]['processingGroup_id']===_0x704384[_0x24d914(0x3b9)][_0x24d914(0x3f4)]())_0x3f17a9={'$set':{'status':_0x3c841e[_0x24d914(0x538)]}};else{let {_id:_0x41d5d6,..._0x35d238}=_0x3c841e;_0x3f17a9={'$set':_0x35d238};}let _0x3a37e6=await this[_0x24d914(0x4d0)]['scheduleMessage'][_0x24d914(0x5d1)](_0x3c841e[_0x24d914(0x3b9)],_0x3f17a9,this['instance'][_0x24d914(0x367)]);return setTimeout(()=>this[_0x24d914(0x201)](),0x7d0),_0x3a37e6;}else{_0x3c841e[_0x24d914(0x115)]=this[_0x24d914(0x403)]['wuid'];let _0x310f2a=await this[_0x24d914(0x4d0)][_0x24d914(0x51d)][_0x24d914(0x6bf)](_0x3c841e,this['instance'][_0x24d914(0x367)]);return setTimeout(()=>this[_0x24d914(0x201)](),0x7d0),_0x310f2a;}}catch(_0x156a48){let _0xd899b='Erro\x20ao\x20alterar,\x20criar\x20ou\x20excluir\x20schedule\x20message',_0x3ffc5d=_0x156a48 instanceof Error?_0x156a48[_0x24d914(0x60b)]:typeof _0x156a48==_0x24d914(0x5c4)?JSON[_0x24d914(0x450)](_0x156a48):_0x156a48,_0x1b397b=_0xd899b+':\x20'+_0x3ffc5d;throw this[_0x24d914(0x267)][_0x24d914(0x782)](this[_0x24d914(0x383)]+'\x20('+this[_0x24d914(0x403)][_0x24d914(0x367)]+_0x24d914(0x4a0)+_0x1b397b),new m(_0x1b397b);}}async['getScheduleMessage'](){const _0x1d4d34=a0_0x6d27f9;try{return await this[_0x1d4d34(0x4d0)][_0x1d4d34(0x51d)][_0x1d4d34(0x37d)]({'where':{}},this['instance'][_0x1d4d34(0x367)]);}catch(_0x484279){let _0x2aeffc=_0x1d4d34(0x519),_0x2c399c=_0x484279 instanceof Error?_0x484279[_0x1d4d34(0x60b)]:typeof _0x484279==_0x1d4d34(0x5c4)?JSON[_0x1d4d34(0x450)](_0x484279):_0x484279,_0x17fe11=_0x2aeffc+':\x20'+_0x2c399c;throw this['logger']['error'](this[_0x1d4d34(0x383)]+'\x20('+this['instance']['wuid']+_0x1d4d34(0x4a0)+_0x17fe11),new m(_0x17fe11);}}async[a0_0x6d27f9(0x805)](){const _0x362bbc=a0_0x6d27f9;try{let _0x23309c={'status':'done'},_0x4155a3=await this[_0x362bbc(0x4d0)][_0x362bbc(0x51d)][_0x362bbc(0x65a)](_0x23309c,this[_0x362bbc(0x403)][_0x362bbc(0x367)]);if(!_0x4155a3[_0x362bbc(0x782)])this[_0x362bbc(0x267)][_0x362bbc(0x302)](this[_0x362bbc(0x383)]+'\x20('+this[_0x362bbc(0x403)]['wuid']+_0x362bbc(0x70c));else throw new Error(_0x4155a3[_0x362bbc(0x782)]['message']||_0x362bbc(0x42d));return this[_0x362bbc(0x2cd)]();}catch(_0x23c84a){let _0x3bfb25=_0x362bbc(0x4f2),_0x817509=_0x23c84a instanceof Error?_0x23c84a['message']:typeof _0x23c84a=='object'?JSON[_0x362bbc(0x450)](_0x23c84a):_0x23c84a,_0x921763=_0x3bfb25+':\x20'+_0x817509;throw this['logger']['error'](this[_0x362bbc(0x383)]+'\x20('+this['instance'][_0x362bbc(0x367)]+_0x362bbc(0x4a0)+_0x921763),new m(_0x921763);}}async[a0_0x6d27f9(0x156)](_0x30caae,_0x903e15){const _0x3a92ab=a0_0x6d27f9;try{if(_0x903e15[_0x3a92ab(0x5cb)]===_0x3a92ab(0x43d)&&!this[_0x3a92ab(0x3d6)]?.[_0x3a92ab(0x534)][_0x3a92ab(0x4e6)])return this[_0x3a92ab(0x267)][_0x3a92ab(0x782)](this[_0x3a92ab(0x383)]+'\x20('+this[_0x3a92ab(0x403)][_0x3a92ab(0x367)]+'):\x20Fluxos\x20não\x20estão\x20ativados'),{'error':!0x0,'detail':_0x3a92ab(0x5f6)};switch(_0x903e15[_0x3a92ab(0x5cb)]){case _0x3a92ab(0x4a9):return await this['scheduleSendText'](_0x903e15,_0x30caae);case _0x3a92ab(0x585):return await this['scheduleSendMedia'](_0x903e15,_0x30caae);case _0x3a92ab(0x4bd):return await this[_0x3a92ab(0x465)](_0x903e15,_0x30caae);case _0x3a92ab(0x43d):let _0x5c6546=new Ge();return _0x5c6546['name']=_0x903e15['flowName'],_0x5c6546[_0x3a92ab(0x455)]=_0x30caae,await this[_0x3a92ab(0x263)](_0x5c6546);break;default:return this[_0x3a92ab(0x267)][_0x3a92ab(0x782)](this['instanceName']+'\x20('+this['instance'][_0x3a92ab(0x367)]+_0x3a92ab(0x3f2)+_0x903e15[_0x3a92ab(0x5cb)]),{'error':!0x0,'detail':_0x3a92ab(0x779)};}}catch(_0x3df27f){return this[_0x3a92ab(0x267)][_0x3a92ab(0x782)](this[_0x3a92ab(0x383)]+'\x20('+this['instance'][_0x3a92ab(0x367)]+_0x3a92ab(0x753)+(_0x3df27f instanceof Error?_0x3df27f[_0x3a92ab(0x60b)]:JSON[_0x3a92ab(0x450)](_0x3df27f,null,0x2))),{'error':!0x0,'detail':_0x3df27f[_0x3a92ab(0x60b)]};}}[a0_0x6d27f9(0x795)](_0x315b20){const _0x16d2a2=a0_0x6d27f9;let _0x5119c6=_0x315b20[_0x16d2a2(0x48d)]('|'),_0x1c5957=Math[_0x16d2a2(0x570)](Math[_0x16d2a2(0x329)]()*_0x5119c6[_0x16d2a2(0x4b3)]);return _0x5119c6[_0x1c5957][_0x16d2a2(0x3ab)]();}async[a0_0x6d27f9(0x566)](_0x4778f3,_0x1ca560){const _0x19eb5f=a0_0x6d27f9;if(this['logger'][_0x19eb5f(0x302)](this[_0x19eb5f(0x383)]+'\x20('+this[_0x19eb5f(0x403)][_0x19eb5f(0x367)]+_0x19eb5f(0x5bf)+_0x1ca560+'\x27'),!_0x4778f3[_0x19eb5f(0x60b)][_0x19eb5f(0x4a9)]||_0x4778f3[_0x19eb5f(0x60b)][_0x19eb5f(0x4a9)][_0x19eb5f(0x4b3)]===0x0)return{'error':!0x0,'detail':_0x19eb5f(0x123)};let _0x449665=this[_0x19eb5f(0x795)](_0x4778f3[_0x19eb5f(0x60b)]['text']),_0x1ab0f8=await this[_0x19eb5f(0x31f)](_0x449665,_0x1ca560),_0x45a62f={'number':_0x1ca560,'options':{'delay':_0x4778f3['message'][_0x19eb5f(0x7b6)],'linkPreview':_0x4778f3[_0x19eb5f(0x60b)][_0x19eb5f(0x523)]},'textMessage':{'text':_0x1ab0f8}},_0x3cadc2=null;try{let _0x4cc849=await this[_0x19eb5f(0x5d0)](_0x45a62f);if(_0x4cc849&&_0x4cc849[_0x19eb5f(0x538)])return{'error':!0x1,'id':_0x4cc849['key']['id']};_0x3cadc2=JSON[_0x19eb5f(0x450)](_0x4cc849),this[_0x19eb5f(0x267)][_0x19eb5f(0x302)](this[_0x19eb5f(0x383)]+'\x20('+this['instance']['wuid']+_0x19eb5f(0x4a0)+_0x3cadc2);}catch(_0x495c07){this[_0x19eb5f(0x267)][_0x19eb5f(0x782)](this[_0x19eb5f(0x383)]+'\x20('+this[_0x19eb5f(0x403)][_0x19eb5f(0x367)]+_0x19eb5f(0x257)+(_0x495c07 instanceof Error?_0x495c07['message']:JSON[_0x19eb5f(0x450)](_0x495c07,null,0x2))),_0x3cadc2=_0x495c07[_0x19eb5f(0x60b)];}if(_0x3cadc2)return{'error':!0x0,'detail':(typeof _0x3cadc2=='object'?JSON[_0x19eb5f(0x450)](_0x3cadc2,null,0x2):_0x3cadc2)[_0x19eb5f(0x78b)](/[\[\]{}\n]/g,'\x20')[_0x19eb5f(0x78b)](/  +/g,'\x20')};}async['scheduleSendMedia'](_0x80281f,_0x5f1c9b){const _0x315961=a0_0x6d27f9;this['logger']['verbose'](this[_0x315961(0x383)]+'\x20('+this['instance'][_0x315961(0x367)]+'):\x20\x27Enviando\x20mídia\x20para\x20\x27'+_0x5f1c9b+'\x27');let _0x59b81f;if(_0x80281f[_0x315961(0x60b)][_0x315961(0x4a9)]&&_0x80281f['message'][_0x315961(0x4a9)][_0x315961(0x4b3)]>0x0){let _0x1ce55c=this[_0x315961(0x795)](_0x80281f['message']['text']);_0x59b81f=await this['replaceVariablesChat'](_0x1ce55c,_0x5f1c9b);}let _0x1ff26a={'number':_0x5f1c9b,'options':{'delay':_0x80281f[_0x315961(0x60b)][_0x315961(0x7b6)],'linkPreview':_0x80281f[_0x315961(0x60b)]['linkPreview']},'mediaMessage':{'mediatype':_0x80281f[_0x315961(0x60b)][_0x315961(0x39e)],'caption':_0x59b81f,'media':_0x80281f[_0x315961(0x60b)][_0x315961(0x2b5)]}},_0x2fbcb4=null;try{let _0x17f4f0=await this['mediaMessage'](_0x1ff26a);if(_0x17f4f0&&_0x17f4f0[_0x315961(0x538)])return{'error':!0x1,'id':_0x17f4f0[_0x315961(0x663)]['id']};_0x2fbcb4=JSON[_0x315961(0x450)](_0x17f4f0),this['logger']['verbose'](this[_0x315961(0x383)]+'\x20('+this[_0x315961(0x403)][_0x315961(0x367)]+_0x315961(0x4a0)+_0x2fbcb4);}catch(_0x11d8b0){this[_0x315961(0x267)][_0x315961(0x782)](this['instanceName']+'\x20('+this[_0x315961(0x403)][_0x315961(0x367)]+_0x315961(0x358)+(_0x11d8b0 instanceof Error?_0x11d8b0[_0x315961(0x60b)]:JSON[_0x315961(0x450)](_0x11d8b0,null,0x2))),_0x2fbcb4=_0x11d8b0[_0x315961(0x60b)];}if(_0x2fbcb4)return{'error':!0x0,'detail':(typeof _0x2fbcb4==_0x315961(0x5c4)?JSON[_0x315961(0x450)](_0x2fbcb4,null,0x2):_0x2fbcb4)['replace'](/[\[\]{}\n]/g,'\x20')['replace'](/  +/g,'\x20')};}async[a0_0x6d27f9(0x465)](_0x12fed2,_0x1e0145){const _0x586bf8=a0_0x6d27f9;this[_0x586bf8(0x267)][_0x586bf8(0x302)](this[_0x586bf8(0x383)]+'\x20('+this['instance'][_0x586bf8(0x367)]+_0x586bf8(0x1ba)+_0x1e0145+'\x27');let _0x5da54e={'number':_0x1e0145,'options':{'delay':_0x12fed2[_0x586bf8(0x60b)][_0x586bf8(0x7b6)]},'audioMessage':{'audio':_0x12fed2[_0x586bf8(0x60b)][_0x586bf8(0x2b5)]}},_0x3cc05d=null;try{let _0x9f50f1=await this[_0x586bf8(0x5f0)](_0x5da54e);if(_0x9f50f1&&_0x9f50f1['status'])return{'error':!0x1,'id':_0x9f50f1[_0x586bf8(0x663)]['id']};_0x3cc05d=JSON['stringify'](_0x9f50f1),this[_0x586bf8(0x267)][_0x586bf8(0x302)](this['instanceName']+'\x20('+this[_0x586bf8(0x403)][_0x586bf8(0x367)]+_0x586bf8(0x4a0)+_0x3cc05d);}catch(_0x3680dc){this[_0x586bf8(0x267)]['error'](this[_0x586bf8(0x383)]+'\x20('+this['instance']['wuid']+_0x586bf8(0x751)+(_0x3680dc instanceof Error?_0x3680dc[_0x586bf8(0x60b)]:JSON['stringify'](_0x3680dc,null,0x2))),_0x3cc05d=_0x3680dc[_0x586bf8(0x60b)];}if(_0x3cc05d)return{'error':!0x0,'detail':(typeof _0x3cc05d=='object'?JSON[_0x586bf8(0x450)](_0x3cc05d,null,0x2):_0x3cc05d)['replace'](/[\[\]{}\n]/g,'\x20')[_0x586bf8(0x78b)](/  +/g,'\x20')};}async['groupDesc'](_0x4c8714){const _0x166dfe=a0_0x6d27f9;try{return await this[_0x166dfe(0x735)][_0x166dfe(0x116)](_0x4c8714[_0x166dfe(0x56c)],_0x4c8714[_0x166dfe(0x32a)]),{'update':_0x166dfe(0x1b8)};}catch(_0x582a4c){let _0x8c74f=_0x166dfe(0x3ac),_0x10e043=_0x582a4c instanceof Error?_0x582a4c[_0x166dfe(0x60b)]:typeof _0x582a4c==_0x166dfe(0x5c4)?JSON[_0x166dfe(0x450)](_0x582a4c):_0x582a4c,_0x55735f=_0x8c74f+':\x20'+_0x10e043;throw this[_0x166dfe(0x267)][_0x166dfe(0x782)](this[_0x166dfe(0x383)]+'\x20('+this[_0x166dfe(0x403)][_0x166dfe(0x367)]+_0x166dfe(0x4a0)+_0x55735f),new _(_0x55735f);}}async[a0_0x6d27f9(0x62a)](_0xaae5f){const _0x46203e=a0_0x6d27f9;try{return await this[_0x46203e(0x735)][_0x46203e(0x4c9)](_0xaae5f[_0x46203e(0x56c)],_0xaae5f[_0x46203e(0x552)]),{'update':'success'};}catch(_0x456c59){let _0x3ed2e1=_0x46203e(0x2b3),_0x2c4973=_0x456c59 instanceof Error?_0x456c59[_0x46203e(0x60b)]:typeof _0x456c59==_0x46203e(0x5c4)?JSON[_0x46203e(0x450)](_0x456c59):_0x456c59,_0x2618ea=_0x3ed2e1+':\x20'+_0x2c4973;throw this['logger'][_0x46203e(0x782)](this[_0x46203e(0x383)]+'\x20('+this[_0x46203e(0x403)][_0x46203e(0x367)]+_0x46203e(0x4a0)+_0x2618ea),new _(_0x2618ea);}}async[a0_0x6d27f9(0x787)](_0x38caf7){const _0x49b7d4=a0_0x6d27f9;try{let _0x1bc122=await this[_0x49b7d4(0x735)][_0x49b7d4(0x203)](_0x38caf7[_0x49b7d4(0x56c)],_0x38caf7[_0x49b7d4(0x11b)]);return{'success':!0x0};}catch(_0x1085de){let _0x1e7c01=_0x49b7d4(0x558),_0x1d624b=_0x1085de instanceof Error?_0x1085de[_0x49b7d4(0x60b)]:typeof _0x1085de=='object'?JSON['stringify'](_0x1085de):_0x1085de,_0x2953e8=_0x1e7c01+':\x20'+_0x1d624b;throw this[_0x49b7d4(0x267)][_0x49b7d4(0x782)](this['instanceName']+'\x20('+this['instance']['wuid']+'):\x20'+_0x2953e8),new _(_0x2953e8);}}async['groupSetting'](_0x54aa23){const _0x240018=a0_0x6d27f9;try{return await this['client'][_0x240018(0x47c)](_0x54aa23[_0x240018(0x56c)],_0x54aa23[_0x240018(0x581)]),{'update':_0x240018(0x1b8)};}catch(_0x179aa9){let _0x41ea0f=_0x240018(0x634),_0x4ff5b9=_0x179aa9 instanceof Error?_0x179aa9[_0x240018(0x60b)]:typeof _0x179aa9==_0x240018(0x5c4)?JSON['stringify'](_0x179aa9):_0x179aa9,_0x2da022=_0x41ea0f+':\x20'+_0x4ff5b9;throw this['logger']['error'](this[_0x240018(0x383)]+'\x20('+this[_0x240018(0x403)][_0x240018(0x367)]+_0x240018(0x4a0)+_0x2da022),new _(_0x2da022);}}async[a0_0x6d27f9(0x49d)](_0x431902){const _0x2a83f7=a0_0x6d27f9;try{let _0x1f9c19;if((0x0,k[_0x2a83f7(0x6de)])(_0x431902[_0x2a83f7(0x2c9)])){let _0x4cd53d=new Date()[_0x2a83f7(0x4d1)](),_0x2d3583=_0x431902[_0x2a83f7(0x2c9)]+_0x2a83f7(0x7c8)+_0x4cd53d;_0x1f9c19=(await Q['default'][_0x2a83f7(0x693)](_0x2d3583,{'responseType':_0x2a83f7(0x6ff)}))[_0x2a83f7(0x462)];}else{if((0x0,k[_0x2a83f7(0x4f3)])(_0x431902['image']))_0x1f9c19=Buffer[_0x2a83f7(0x4db)](_0x431902[_0x2a83f7(0x2c9)],_0x2a83f7(0x5c9));else throw new m('\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64');}return await this[_0x2a83f7(0x735)]['updateProfilePicture'](_0x431902['groupJid'],_0x1f9c19),{'update':_0x2a83f7(0x1b8)};}catch(_0x5eadee){let _0x591772=_0x2a83f7(0x757),_0xac18e5=_0x5eadee instanceof Error?_0x5eadee[_0x2a83f7(0x60b)]:typeof _0x5eadee==_0x2a83f7(0x5c4)?JSON[_0x2a83f7(0x450)](_0x5eadee):_0x5eadee,_0x52ac75=_0x591772+':\x20'+_0xac18e5;throw this['logger']['error'](this[_0x2a83f7(0x383)]+'\x20('+this['instance'][_0x2a83f7(0x367)]+_0x2a83f7(0x4a0)+_0x52ac75),new _(_0x52ac75);}}},jt=class l{constructor(_0x3c3245,_0x29c252,_0x8e88cc){const _0x4e734=a0_0x6d27f9;this['eventEmitter']=_0x3c3245,this[_0x4e734(0x14e)]=_0x29c252,this[_0x4e734(0x4d0)]=_0x8e88cc,this['db']={},this[_0x4e734(0x4c5)]={},this[_0x4e734(0x267)]=new $(l[_0x4e734(0x552)]),this['waInstances']={},(this[_0x4e734(0x134)](),this['noConnection'](),Object[_0x4e734(0x6cc)](this['db'],_0x29c252[_0x4e734(0x693)]('DATABASE')),Object['assign'](this[_0x4e734(0x4c5)],_0x29c252[_0x4e734(0x693)](_0x4e734(0x5ff))),this[_0x4e734(0x774)]=this['db'][_0x4e734(0x43a)]?this['repository'][_0x4e734(0x7df)]?.['db'](this['db'][_0x4e734(0x540)][_0x4e734(0x2f8)]+_0x4e734(0xfe)):void 0x0,this[_0x4e734(0x708)]=this[_0x4e734(0x4c5)][_0x4e734(0x43a)]?new ue(this[_0x4e734(0x4c5)]):void 0x0);}async[a0_0x6d27f9(0x30d)](_0x248080){const _0x7ad8c7=a0_0x6d27f9;if(_0x248080&&!this[_0x7ad8c7(0x182)][_0x248080])throw new J(_0x7ad8c7(0x48f)+_0x248080+_0x7ad8c7(0x587));let _0x3760b6=[];for await(let [_0x56b641,_0x281213]of Object[_0x7ad8c7(0x292)](this['waInstances']))if(_0x281213&&_0x281213[_0x7ad8c7(0x5aa)][_0x7ad8c7(0x11e)]==='open'){let _0x118b94=await this[_0x7ad8c7(0x4d0)][_0x7ad8c7(0x51e)]['find'](_0x56b641);_0x3760b6[_0x7ad8c7(0x6b3)]({'instance':{'instanceName':_0x56b641,'apikey':_0x118b94[_0x7ad8c7(0x226)],'owner':_0x281213[_0x7ad8c7(0x367)],'profileName':await _0x281213[_0x7ad8c7(0xd5)]()||_0x7ad8c7(0x246),'profilePictureUrl':_0x281213['profilePictureUrl']}});}return _0x3760b6['find'](_0x31c717=>_0x31c717[_0x7ad8c7(0x403)][_0x7ad8c7(0x383)]===_0x248080)??_0x3760b6;}async['cleaningUp'](_0x2d542c){const _0x196f09=a0_0x6d27f9;if(this['db'][_0x196f09(0x43a)]&&(await this['repository'][_0x196f09(0x7df)][_0x196f09(0x50f)](),(await this[_0x196f09(0x774)][_0x196f09(0x52d)]())[_0x196f09(0x4b3)]>0x0&&await this[_0x196f09(0x774)][_0x196f09(0x343)](_0x2d542c)),this['redis'][_0x196f09(0x43a)]){this['cache']['reference']=_0x2d542c,await this[_0x196f09(0x708)][_0x196f09(0x449)]();return;}}async['loadInstance'](){const _0x4d53ea=a0_0x6d27f9;await this[_0x4d53ea(0x591)]();let _0x5c71e4=async _0x51253d=>{const _0x4fc7c7=_0x4d53ea;let _0x26bd43=new Ee(this[_0x4fc7c7(0x14e)],this[_0x4fc7c7(0x6a1)],this[_0x4fc7c7(0x4d0)]);_0x26bd43['instanceName']=_0x51253d,await _0x26bd43['connectToWhatsapp'](),this[_0x4fc7c7(0x182)][_0x51253d]=_0x26bd43;};try{if(this[_0x4d53ea(0x4c5)]['ENABLED']){let _0x425e78=await this[_0x4d53ea(0x708)][_0x4d53ea(0x6e4)]();_0x425e78?.[_0x4d53ea(0x4b3)]>0x0&&_0x425e78[_0x4d53ea(0x48c)](async _0x3c8ed9=>await _0x5c71e4(_0x3c8ed9['split'](':')[0x1]));return;}if(this['db']['ENABLED']){await this[_0x4d53ea(0x4d0)]['dbServer'][_0x4d53ea(0x50f)]();let _0x3a7076=await this['dbInstance'][_0x4d53ea(0x52d)]();_0x3a7076[_0x4d53ea(0x4b3)]>0x0&&_0x3a7076[_0x4d53ea(0x48c)](async _0x563634=>await _0x5c71e4(_0x563634[_0x4d53ea(0x7eb)][_0x4d53ea(0x78b)](/^[\w-]+\./,'')));return;}}catch(_0x2d5791){this[_0x4d53ea(0x267)]['error'](_0x2d5791);}}async['cleanDisconnectedInstances'](){const _0x1c4ffc=a0_0x6d27f9;try{let _0x340d9c=await this[_0x1c4ffc(0x4d0)][_0x1c4ffc(0x51e)][_0x1c4ffc(0x76d)]({'online':!0x1});for(let _0x26d03f of _0x340d9c){let _0x1fdb15=_0x26d03f[_0x1c4ffc(0x3b9)];await te[_0x1c4ffc(0x764)](z,_0x1fdb15);}console[_0x1c4ffc(0x2ac)](_0x1c4ffc(0x33e)+_0x340d9c[_0x1c4ffc(0x4b3)]);let _0x152236={'online':!0x1},_0x43ac3c=await this['repository'][_0x1c4ffc(0x51e)][_0x1c4ffc(0x65a)](_0x152236);console[_0x1c4ffc(0x2ac)](_0x1c4ffc(0x55a)+_0x43ac3c['insertCount']);}catch(_0x190bc7){console[_0x1c4ffc(0x782)]('Erro\x20ao\x20limpar\x20instâncias\x20desconectadas:',_0x190bc7);}}async['InstancesAlterarTodas'](){const _0x46ad30=a0_0x6d27f9;try{let _0x299798={'online':!0x1},_0x47f2aa={'online':!0x1,'lastDisconnect':Date['now']()},_0x49d04f=await this[_0x46ad30(0x4d0)][_0x46ad30(0x51e)][_0x46ad30(0x73e)](_0x299798,_0x47f2aa);await this[_0x46ad30(0x39a)]();}catch(_0x5ed5f1){console[_0x46ad30(0x782)]('Erro\x20ao\x20definir\x20instâncias\x20como\x20desconectadas:',_0x5ed5f1);}}[a0_0x6d27f9(0x134)](){const _0x392cc8=a0_0x6d27f9;this['eventEmitter']['on'](_0x392cc8(0x50a),async _0x4e37df=>{const _0x54963f=_0x392cc8;try{this[_0x54963f(0x182)][_0x4e37df]=void 0x0;}catch{}try{this[_0x54963f(0x1e2)](_0x4e37df);}finally{this[_0x54963f(0x267)][_0x54963f(0x705)](_0x54963f(0x48f)+_0x4e37df+_0x54963f(0x725));}});}[a0_0x6d27f9(0x151)](){const _0xa6563a=a0_0x6d27f9;this[_0xa6563a(0x6a1)]['on'](_0xa6563a(0x10d),async _0x539af5=>{const _0x404b8=_0xa6563a;try{this[_0x404b8(0x182)][_0x539af5]=void 0x0;}catch{}try{this[_0x404b8(0x1e2)](_0x539af5);}finally{this[_0x404b8(0x267)][_0x404b8(0x705)](_0x404b8(0x48f)+_0x539af5+_0x404b8(0x1ab));}});}},Jt=class extends O{[a0_0x6d27f9(0x730)](_0x40e5e9){return ea(_0x40e5e9);}async[a0_0x6d27f9(0x6b5)](_0x57ac97){const _0x476814=a0_0x6d27f9;if(_0x57ac97['length']!==0x0)try{return{'insertCount':(await this[_0x476814(0x730)](_0x57ac97[0x0][_0x476814(0x115)])[_0x476814(0x1d0)]([..._0x57ac97]))[_0x476814(0x4b3)]};}catch(_0x28f0be){return _0x28f0be;}}async[a0_0x6d27f9(0x37d)](_0x32e8f5,_0x14ea7b){const _0x57c89e=a0_0x6d27f9;try{let _0x43b3b7=this[_0x57c89e(0x730)](_0x14ea7b),_0x272428=I(_0x32e8f5[_0x57c89e(0x771)]);return await _0x43b3b7['find'](_0x272428)[_0x57c89e(0x349)]({'lastmsg':-0x1})[_0x57c89e(0x22f)](_0x32e8f5?.[_0x57c89e(0x22f)]??0x0)[_0x57c89e(0x57a)]();}catch{return[];}}async[a0_0x6d27f9(0x7b7)](_0x394e6b,_0x421057){const _0x44dcda=a0_0x6d27f9;try{return{'deletedCount':(await this[_0x44dcda(0x730)](_0x421057)[_0x44dcda(0x65a)]({..._0x394e6b[_0x44dcda(0x771)]}))[_0x44dcda(0x783)]};}catch(_0x50070e){return{'error':_0x50070e?.[_0x44dcda(0x3f4)]()};}}async['deleteAll'](_0x999bdd,_0x47c387){const _0x3d9a13=a0_0x6d27f9;try{return await this[_0x3d9a13(0x730)](_0x47c387)[_0x3d9a13(0x65a)]({..._0x999bdd[_0x3d9a13(0x771)]}),[];}catch(_0x2380f5){return{'error':_0x2380f5?.['toString']()};}}async[a0_0x6d27f9(0x206)](_0x153ded,_0x4da984){const _0x19ff31=a0_0x6d27f9;try{let _0x1723f0=this[_0x19ff31(0x730)](_0x4da984),_0x11cd97=I(_0x153ded[_0x19ff31(0x771)]);return await _0x1723f0[_0x19ff31(0x206)](_0x11cd97)[_0x19ff31(0x57a)]();}catch{return null;}}async[a0_0x6d27f9(0x46a)](_0x4882eb,_0x29f3ce,_0x30827e,_0x584848,_0x49680d=a0_0x6d27f9(0x662)){const _0x34c0be=a0_0x6d27f9;try{let _0xbcb5d7={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x584848},_0x41ad8e=this['getChatModelForOwner'](_0x30827e),_0x4c04bd=I(_0x4882eb['where']);Object[_0x34c0be(0x3ae)](_0x29f3ce)[_0x34c0be(0x48c)](_0x549227=>{_0x29f3ce[_0x549227]==null&&delete _0x29f3ce[_0x549227];});let _0x28ea22={};return _0x28ea22[_0x49680d]=_0x29f3ce,await _0x41ad8e[_0x34c0be(0x4dd)](_0x4c04bd,_0x28ea22,_0xbcb5d7);}catch(_0x3dd30c){return console[_0x34c0be(0x782)](_0x3dd30c),null;}}async[a0_0x6d27f9(0x64b)](_0x439666){const _0x5c4adb=a0_0x6d27f9;try{let _0xc23bc9=this[_0x5c4adb(0x730)](_0x439666[0x0][_0x5c4adb(0x4b7)][_0x5c4adb(0x771)]['owner']),_0x3615ea=_0x439666[_0x5c4adb(0x5f1)](_0x51d7e1=>({'updateOne':{'filter':{..._0x51d7e1[_0x5c4adb(0x4b7)][_0x5c4adb(0x771)]},'update':{'$set':_0x51d7e1[_0x5c4adb(0x414)]},'upsert':!0x0}})),_0x285029=await _0xc23bc9['bulkWrite'](_0x3615ea);return _0x285029[_0x5c4adb(0x6c1)]+_0x285029[_0x5c4adb(0x141)];}catch(_0x54b778){return console[_0x5c4adb(0x782)](_0x54b778),0x0;}}async[a0_0x6d27f9(0x675)](_0x326b38){const _0x11a50d=a0_0x6d27f9;try{let _0x18a531={'group_isCommunity':'','group_announce':'','group_size':''},_0x34e291={'$or':[{'group_isCommunity':{'$exists':!0x0}},{'group_announce':{'$exists':!0x0}},{'group_size':{'$exists':!0x0}}]},_0x3794fe={'$unset':_0x18a531};return(await this[_0x11a50d(0x730)](_0x326b38)[_0x11a50d(0x64b)](_0x34e291,_0x3794fe))[_0x11a50d(0x6c1)];}catch(_0x246040){return console[_0x11a50d(0x782)](_0x11a50d(0x56e),_0x246040),0x0;}}async[a0_0x6d27f9(0x7d8)](_0x20bef6){const _0x46822c=a0_0x6d27f9;try{let _0x41bec8=this[_0x46822c(0x730)](_0x20bef6),_0x21ba3e={'leadInfo.etiquetas':{'$exists':!0x1}},_0x553538={'$set':{'leadInfo.etiquetas':[]}};return(await _0x41bec8['updateMany'](_0x21ba3e,_0x553538))[_0x46822c(0x6c1)];}catch(_0x5630ce){return console['error'](_0x5630ce),0x0;}}async[a0_0x6d27f9(0x57f)](_0x43d767){const _0x203649=a0_0x6d27f9;try{let _0x721543=this[_0x203649(0x730)](_0x43d767),_0x301edb={'leadInfo.tags':{'$exists':!0x1}},_0x11a95d={'$set':{'leadInfo.tags':[]}};return(await _0x721543[_0x203649(0x64b)](_0x301edb,_0x11a95d))['modifiedCount'];}catch(_0x13c566){return console[_0x203649(0x782)](_0x13c566),0x0;}}async[a0_0x6d27f9(0x24a)](_0x5b4494){const _0x4c9931=a0_0x6d27f9;try{let _0x16f7d6=this[_0x4c9931(0x730)](_0x5b4494),_0x3f1d3f={'leadInfo.customFields':{'$exists':!0x1}},_0x575dc0={'$set':{'leadInfo.customFields':[]}};return(await _0x16f7d6[_0x4c9931(0x64b)](_0x3f1d3f,_0x575dc0))[_0x4c9931(0x6c1)];}catch(_0x3c458e){return console['error'](_0x3c458e),0x0;}}async[a0_0x6d27f9(0x1d0)](_0x190d2a,_0x33f9bb){const _0x12fed1=a0_0x6d27f9;if(!Array[_0x12fed1(0x3b4)](_0x190d2a)||_0x190d2a['length']===0x0)throw new Error(_0x12fed1(0x4b0));try{return(await this[_0x12fed1(0x730)](_0x33f9bb)['insertMany'](_0x190d2a))['length'];}catch(_0x1c94cc){throw console['error'](_0x12fed1(0x56b),_0x1c94cc),_0x1c94cc;}}async[a0_0x6d27f9(0x27c)](_0x37714d,_0x5b731c){const _0xbe3df9=a0_0x6d27f9;try{await this['getChatModelForOwner'](_0x5b731c)[_0xbe3df9(0x741)]({'_id':_0x37714d});}catch(_0x5093fd){throw console[_0xbe3df9(0x782)](_0xbe3df9(0x47f),_0x5093fd),_0x5093fd;}}},qt=class extends O{constructor(_0x664099,_0x403813,_0x550ac8){const _0x1172dd=a0_0x6d27f9;super(_0x403813),this[_0x1172dd(0x749)]=_0x664099,this[_0x1172dd(0x14e)]=_0x403813,this['dbConnection']=_0x550ac8;}async[a0_0x6d27f9(0x6b5)](_0x7ce2ea){const _0x5c7abf=a0_0x6d27f9;if(_0x7ce2ea[_0x5c7abf(0x4b3)]!==0x0)try{return{'insertCount':(await this['cacheContactModel'][_0x5c7abf(0x1d0)]([..._0x7ce2ea]))[_0x5c7abf(0x4b3)]};}catch(_0x49bf6a){return _0x49bf6a;}}async[a0_0x6d27f9(0x414)](_0x536d34,_0x45a6fa){const _0x20d227=a0_0x6d27f9;try{let _0x438989=I(_0x536d34[_0x20d227(0x771)]);return{'updatedCount':(await this[_0x20d227(0x749)][_0x20d227(0x64b)](_0x438989,{'$set':_0x45a6fa}))[_0x20d227(0x6c1)]};}catch(_0x4d735b){return console['error'](_0x20d227(0x2b2),_0x4d735b),{'error':_0x4d735b[_0x20d227(0x3f4)]()};}}async[a0_0x6d27f9(0x48a)](_0x4e6bf0){const _0xa7dadc=a0_0x6d27f9;try{let _0x15e52f={'_id':{'$in':_0x4e6bf0}};return await this[_0xa7dadc(0x749)]['find'](_0x15e52f)[_0xa7dadc(0x57a)]();}catch(_0x58e19a){return console[_0xa7dadc(0x782)](_0xa7dadc(0x369),_0x58e19a),[];}}async[a0_0x6d27f9(0x7b7)](_0x4a7436){const _0x409431=a0_0x6d27f9;try{return{'deletedCount':(await this[_0x409431(0x749)]['deleteMany']({..._0x4a7436[_0x409431(0x771)]}))[_0x409431(0x783)]};}catch(_0x668e6b){return{'error':_0x668e6b?.[_0x409431(0x3f4)]()};}}async['find'](_0x37b271){const _0x551041=a0_0x6d27f9;try{let _0x118fdd=I(_0x37b271[_0x551041(0x771)]);return await this[_0x551041(0x749)]['find'](_0x118fdd)[_0x551041(0x22f)](_0x37b271?.[_0x551041(0x22f)]??0x0)[_0x551041(0x57a)]();}catch{return[];}}async[a0_0x6d27f9(0x206)](_0xd96298){const _0x30104d=a0_0x6d27f9;try{let _0x1e3d81=I(_0xd96298[_0x30104d(0x771)]);return await this[_0x30104d(0x749)]['findOne'](_0x1e3d81)[_0x30104d(0x57a)]();}catch{return null;}}},Vt=class extends O{[a0_0x6d27f9(0x7e3)](_0xe51c7e){return Sa(_0xe51c7e);}async[a0_0x6d27f9(0x46a)](_0x243722,_0x15ea9d,_0x5a3f9c,_0x4e3694){const _0x3a6b43=a0_0x6d27f9;try{let _0x5e7615={...{'new':!0x0,'upsert':!0x0,'lean':!0x0},..._0x4e3694},_0x51989f=this['getLabelModelForOwner'](_0x5a3f9c),_0x1d0ae5=I(_0x243722['where']);return await _0x51989f[_0x3a6b43(0x4dd)](_0x1d0ae5,{'$set':_0x15ea9d},_0x5e7615);}catch(_0x4e0ec4){return console[_0x3a6b43(0x782)](_0x4e0ec4),null;}}async[a0_0x6d27f9(0x37d)](_0x36c48a,_0x5c710d){const _0x510b83=a0_0x6d27f9;try{let _0x330c4b=this[_0x510b83(0x7e3)](_0x5c710d),_0x3f747c=I(_0x36c48a['where']);return await _0x330c4b[_0x510b83(0x37d)](_0x3f747c);}catch(_0x12bbe8){console['error'](_0x12bbe8);}}async[a0_0x6d27f9(0x7b7)](_0x22f249,_0x25da90){const _0x590339=a0_0x6d27f9;try{let _0x5d40c2=this[_0x590339(0x7e3)](_0x25da90),_0x21c688=I(_0x22f249[_0x590339(0x771)]);await _0x5d40c2[_0x590339(0x65a)](_0x21c688);}catch(_0x3b144c){console[_0x590339(0x782)](_0x3b144c);}}async['deleteAll'](_0x54ec6b){const _0xd2dd62=a0_0x6d27f9;try{return await this[_0xd2dd62(0x7e3)](_0x54ec6b)[_0xd2dd62(0x594)][_0xd2dd62(0x1ed)](),{'success':!0x0};}catch(_0x4b7d8d){return console[_0xd2dd62(0x782)](_0x4b7d8d),{'success':!0x1,'error':_0x4b7d8d};}}},Gt=class{constructor(_0x5a37e9){const _0x282e92=a0_0x6d27f9;this[_0x282e92(0x404)]=_0x5a37e9;}async['editChat']({instanceName:_0x14fa71},_0x30a3ec){const _0x36c988=a0_0x6d27f9;return await this['waMonitor'][_0x36c988(0x182)][_0x14fa71][_0x36c988(0x1d8)](_0x30a3ec);}async[a0_0x6d27f9(0x26e)]({instanceName:_0x16abd4},_0x462440){const _0x575fcf=a0_0x6d27f9;return await this[_0x575fcf(0x404)][_0x575fcf(0x182)][_0x16abd4]['whatsappNumber'](_0x462440);}async[a0_0x6d27f9(0x4d9)]({instanceName:_0xd9833a},_0x435378){const _0x1bfd2a=a0_0x6d27f9;return await this[_0x1bfd2a(0x404)][_0x1bfd2a(0x182)][_0xd9833a][_0x1bfd2a(0x4d9)](_0x435378);}async[a0_0x6d27f9(0x63f)]({instanceName:_0x519ea5},_0x7875f0){const _0xcfd97b=a0_0x6d27f9;return await this['waMonitor'][_0xcfd97b(0x182)][_0x519ea5][_0xcfd97b(0x5a4)](_0x7875f0);}async[a0_0x6d27f9(0x237)]({instanceName:_0x312775},_0x1fa5c9){const _0x5842b4=a0_0x6d27f9;return await this[_0x5842b4(0x404)][_0x5842b4(0x182)][_0x312775]['archiveChat'](_0x1fa5c9);}async[a0_0x6d27f9(0x3cb)]({instanceName:_0x4f1b0b},_0x3f4ba7){const _0x21b97e=a0_0x6d27f9;return await this[_0x21b97e(0x404)][_0x21b97e(0x182)][_0x4f1b0b]['deleteMessage'](_0x3f4ba7);}async[a0_0x6d27f9(0x2c0)]({instanceName:_0x3b1d1f},_0x2cc08b){const _0x2adfab=a0_0x6d27f9;return await this['waMonitor']['waInstances'][_0x3b1d1f]['profilePicture'](_0x2cc08b[_0x2adfab(0x110)]);}async[a0_0x6d27f9(0x57c)]({instanceName:_0x230e55},_0x5303f4){const _0x1c1312=a0_0x6d27f9;return await this['waMonitor']['waInstances'][_0x230e55]['fetchProfile'](_0x5303f4[_0x1c1312(0x110)]);}async[a0_0x6d27f9(0x25a)]({instanceName:_0x292753},_0x17d30e){const _0x12da67=a0_0x6d27f9;return await this[_0x12da67(0x404)][_0x12da67(0x182)][_0x292753][_0x12da67(0x25a)](_0x17d30e);}async['fetchContacts']({instanceName:_0x296202},_0x4e0bc1){const _0x102759=a0_0x6d27f9;return await this[_0x102759(0x404)][_0x102759(0x182)][_0x296202][_0x102759(0x63a)](_0x4e0bc1);}async[a0_0x6d27f9(0x228)]({instanceName:_0x15d321},_0x471995){const _0x3b491e=a0_0x6d27f9;return await this[_0x3b491e(0x404)][_0x3b491e(0x182)][_0x15d321][_0x3b491e(0x228)](_0x471995);}async['fetchMessages']({instanceName:_0x234df6},_0x285604){const _0x19f89f=a0_0x6d27f9;return await this['waMonitor'][_0x19f89f(0x182)][_0x234df6]['fetchMessages'](_0x285604);}async[a0_0x6d27f9(0x3c2)]({instanceName:_0x330b48}){const _0xdd56ff=a0_0x6d27f9;return await this['waMonitor']['waInstances'][_0x330b48][_0xdd56ff(0x3c2)]();}async[a0_0x6d27f9(0x136)]({instanceName:_0x195391}){const _0x3364ed=a0_0x6d27f9;return await this[_0x3364ed(0x404)][_0x3364ed(0x182)][_0x195391][_0x3364ed(0x136)]();}async[a0_0x6d27f9(0x550)]({instanceName:_0x5adaf7}){const _0x253568=a0_0x6d27f9;return await this[_0x253568(0x404)][_0x253568(0x182)][_0x5adaf7]['fetchPrivacySettings']();}async['updatePrivacySettings']({instanceName:_0x576861},_0x2e2487){const _0x37f4ac=a0_0x6d27f9;return await this[_0x37f4ac(0x404)][_0x37f4ac(0x182)][_0x576861][_0x37f4ac(0x37c)](_0x2e2487);}async['fetchBusinessProfile']({instanceName:_0x130835},_0x36439f){const _0x46df97=a0_0x6d27f9;return await this[_0x46df97(0x404)][_0x46df97(0x182)][_0x130835][_0x46df97(0x7d4)](_0x36439f[_0x46df97(0x110)]);}async['updateProfileName']({instanceName:_0x220037},_0x512d5d){const _0x28d49d=a0_0x6d27f9;return await this[_0x28d49d(0x404)][_0x28d49d(0x182)][_0x220037][_0x28d49d(0x806)](_0x512d5d['name']);}async['updateProfileStatus']({instanceName:_0x160c06},_0x3fd803){const _0x412b45=a0_0x6d27f9;return await this[_0x412b45(0x404)]['waInstances'][_0x160c06][_0x412b45(0x29e)](_0x3fd803['status']);}async['updateProfilePicture']({instanceName:_0x481229},_0x381ce8){const _0x3af856=a0_0x6d27f9;return await this[_0x3af856(0x404)][_0x3af856(0x182)][_0x481229][_0x3af856(0x2e7)](_0x381ce8[_0x3af856(0x458)]);}async[a0_0x6d27f9(0x166)]({instanceName:_0x1391b0},_0x2ec02f){const _0x199ec6=a0_0x6d27f9;return await this[_0x199ec6(0x404)][_0x199ec6(0x182)][_0x1391b0][_0x199ec6(0x166)]();}},Bt=require(a0_0x6d27f9(0x1ae)),Wt=class l{constructor(_0x459018,_0x5cef75,_0x3d27c7,_0x49967e,_0xb2f23c){const _0x404ec0=a0_0x6d27f9;this[_0x404ec0(0x404)]=_0x459018,this[_0x404ec0(0x14e)]=_0x5cef75,this[_0x404ec0(0x4d0)]=_0x3d27c7,this['eventEmitter']=_0x49967e,this['authService']=_0xb2f23c,this[_0x404ec0(0x267)]=new $(l[_0x404ec0(0x552)]);}async[a0_0x6d27f9(0x1ec)]({instanceName:_0x405333,apikey:_0x6b0472,number:_0x45d3e1,proxy:_0x3711ab=!0x0}){const _0x25742f=a0_0x6d27f9;try{let _0x34b7bb=new Ee(this[_0x25742f(0x14e)],this[_0x25742f(0x6a1)],this[_0x25742f(0x4d0)]);_0x34b7bb[_0x25742f(0x383)]=_0x405333,this[_0x25742f(0x404)][_0x25742f(0x182)][_0x34b7bb['instanceName']]=_0x34b7bb;let _0x4bc594={};_0x6b0472?(await this['repository'][_0x25742f(0x51e)][_0x25742f(0x62f)]({'apikey':_0x6b0472},_0x405333),_0x4bc594[_0x25742f(0x226)]=_0x6b0472):_0x4bc594=await this[_0x25742f(0x3b0)][_0x25742f(0x482)]({'instanceName':_0x34b7bb[_0x25742f(0x383)]});let _0xe30a88;if(_0x45d3e1){if(_0xe30a88=await this[_0x25742f(0x6df)](_0x45d3e1),_0xe30a88[_0x25742f(0x782)])throw new _(_0xe30a88[_0x25742f(0x782)][_0x25742f(0x3f4)]());_0x45d3e1=_0xe30a88[_0x25742f(0x110)];}let _0x5f58fe;return await _0x34b7bb[_0x25742f(0x472)](_0x45d3e1),await(0x0,Bt[_0x25742f(0x7b6)])(0xfa0),_0x45d3e1&&await(0x0,Bt[_0x25742f(0x7b6)])(0xbb8),_0x5f58fe=_0x34b7bb['qrCode'],{'instance':{'instanceName':_0x34b7bb[_0x25742f(0x383)],'status':_0x25742f(0x504)},'hash':_0x4bc594,'qrcode':_0x5f58fe};}catch(_0x30dc75){throw this['logger'][_0x25742f(0x782)](_0x30dc75),_0x30dc75;}}async[a0_0x6d27f9(0x5fc)]({instanceName:_0x2baed6,number:_0x35d0d5=null}){const _0x4bb2b1=a0_0x6d27f9;try{let _0x5a877d=this[_0x4bb2b1(0x404)][_0x4bb2b1(0x182)][_0x2baed6];switch(_0x5a877d?.[_0x4bb2b1(0x5aa)]?.[_0x4bb2b1(0x11e)]){case _0x4bb2b1(0x38d):return await _0x5a877d[_0x4bb2b1(0x472)](_0x35d0d5),await(0x0,Bt['delay'])(0x7d0),_0x5a877d[_0x4bb2b1(0x410)];case _0x4bb2b1(0x319):return _0x5a877d[_0x4bb2b1(0x410)];default:return await this[_0x4bb2b1(0x425)]({'instanceName':_0x2baed6});}}catch(_0x2e0959){this[_0x4bb2b1(0x267)]['log'](_0x2e0959);}}async[a0_0x6d27f9(0x425)]({instanceName:_0x7f153d}){const _0x1b1a4e=a0_0x6d27f9;let _0x293fd4=this[_0x1b1a4e(0x404)][_0x1b1a4e(0x182)][_0x7f153d]['connectionStatus'],_0x34af92=null;_0x293fd4['state']==='open'&&_0x7f153d&&(_0x34af92=await this[_0x1b1a4e(0x404)]['instanceInfo'](_0x7f153d));let _0x4cc08b=null;return _0x293fd4['state']===_0x1b1a4e(0x319)&&_0x7f153d&&(_0x4cc08b=this[_0x1b1a4e(0x404)]['waInstances'][_0x7f153d][_0x1b1a4e(0x410)]),{'instance':_0x7f153d,'connectionStatus':_0x293fd4,'instanceInfo':_0x34af92,'qrcode':_0x4cc08b};}async[a0_0x6d27f9(0x6df)](_0x2e0c15){const _0x3ca26a=a0_0x6d27f9;_0x2e0c15=_0x2e0c15[_0x3ca26a(0x78b)](/\D/g,'');let _0x55e51c=Object['keys'](this[_0x3ca26a(0x404)][_0x3ca26a(0x182)])['filter'](_0x49c0e1=>{const _0x53fc4c=_0x3ca26a;let _0x4a4464=this[_0x53fc4c(0x404)][_0x53fc4c(0x182)][_0x49c0e1];return _0x4a4464&&_0x4a4464[_0x53fc4c(0x5aa)]&&_0x4a4464[_0x53fc4c(0x5aa)][_0x53fc4c(0x11e)]===_0x53fc4c(0x389);});if(_0x55e51c['length']===0x0)return{'number':this[_0x3ca26a(0x222)](_0x2e0c15)};let _0x36db7f=Math[_0x3ca26a(0x570)](Math[_0x3ca26a(0x329)]()*_0x55e51c[_0x3ca26a(0x4b3)]),_0x1deec2=_0x55e51c[_0x36db7f];try{let _0x2c5177=(await this[_0x3ca26a(0x404)][_0x3ca26a(0x182)][_0x1deec2]['whatsappNumber']({'numbers':[_0x2e0c15]}))[_0x3ca26a(0x7fe)]();return _0x2c5177['exists']?{'number':_0x2c5177[_0x3ca26a(0x7f7)]['replace'](_0x3ca26a(0x1d9),'')}:{'number':_0x2e0c15,'error':_0x3ca26a(0x6e2)};}catch(_0x1d158b){return this['logger'][_0x3ca26a(0x782)]('Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp:'+_0x1d158b),{'number':_0x2e0c15,'error':_0x3ca26a(0x1c7)};}}[a0_0x6d27f9(0x222)](_0xb9028c){const _0x5129f0=a0_0x6d27f9;let _0x3e8095=new RegExp(/^(\d{2})(\d{2})(9?)(\d{8})$/)[_0x5129f0(0x1a0)](_0xb9028c);if(_0x3e8095&&_0x3e8095[0x1]==='55'){let _0x1c12b2=_0x3e8095[0x2],_0x29339b=_0x3e8095[0x3],_0x2e2384=_0x3e8095[0x4];if(parseInt(_0x1c12b2)>=0x1f&&_0x29339b==='9')return _0x3e8095[0x1]+_0x1c12b2+_0x2e2384;}return _0xb9028c;}async[a0_0x6d27f9(0x120)]({instanceName:_0x2ac133}){const _0x5631cf=a0_0x6d27f9;try{return this[_0x5631cf(0x404)][_0x5631cf(0x182)][_0x2ac133]?.[_0x5631cf(0x735)]?.['ws']?.[_0x5631cf(0x38d)](),{'status':'SUCCESS','error':!0x1,'response':{'message':_0x5631cf(0x14c)}};}catch(_0x232c3e){this[_0x5631cf(0x267)][_0x5631cf(0x782)](_0x232c3e);}}async[a0_0x6d27f9(0x52f)]({instanceName:_0x1ac2fa}){const _0x2102b8=a0_0x6d27f9;return _0x1ac2fa?this[_0x2102b8(0x404)][_0x2102b8(0x30d)](_0x1ac2fa):this[_0x2102b8(0x404)][_0x2102b8(0x30d)]();}async[a0_0x6d27f9(0x274)]({instanceName:_0x43d8fa}){const _0x3e7fdc=a0_0x6d27f9;try{return await this[_0x3e7fdc(0x404)][_0x3e7fdc(0x182)][_0x43d8fa]?.['client']?.['logout'](_0x3e7fdc(0x34d)+_0x43d8fa),{'error':!0x1,'message':_0x3e7fdc(0x4aa)};}catch(_0x5328ae){throw new _(_0x5328ae['toString']());}}async['deleteInstance']({instanceName:_0x3eb20e}){const _0x338a51=a0_0x6d27f9;if((await this['connectionState']({'instanceName':_0x3eb20e}))[_0x338a51(0x5aa)]['state']==='open')throw new m([_0x338a51(0x107),_0x338a51(0x3b8)]);try{return delete this[_0x338a51(0x404)][_0x338a51(0x182)][_0x3eb20e],{'error':!0x1,'message':_0x338a51(0x3d5)};}catch(_0xdbf1ed){throw new m(_0xdbf1ed[_0x338a51(0x3f4)]());}}},se=require('class-validator'),zt=class{constructor(_0x3ff51d){const _0x37e9d7=a0_0x6d27f9;this[_0x37e9d7(0x404)]=_0x3ff51d;}async['sendText']({instanceName:_0x28b5bb},_0x5474ec){const _0x4beb1c=a0_0x6d27f9;return await this[_0x4beb1c(0x404)][_0x4beb1c(0x182)][_0x28b5bb][_0x4beb1c(0x5d0)](_0x5474ec);}async[a0_0x6d27f9(0x7ea)]({instanceName:_0x4f7e26},_0xfd077b){const _0xe0b77b=a0_0x6d27f9;return await this['waMonitor']['waInstances'][_0x4f7e26][_0xe0b77b(0x1ad)](_0xfd077b);}async[a0_0x6d27f9(0x58e)]({instanceName:_0x1dceaf},_0x2796d8){const _0x2907a5=a0_0x6d27f9;if((0x0,se[_0x2907a5(0x4f3)])(_0x2796d8?.[_0x2907a5(0xdc)]?.['media'])&&!_0x2796d8?.['mediaMessage']?.[_0x2907a5(0x709)])throw new m(_0x2907a5(0x4ad));if((0x0,se[_0x2907a5(0x6de)])(_0x2796d8?.[_0x2907a5(0xdc)]?.[_0x2907a5(0x585)])||(0x0,se['isBase64'])(_0x2796d8?.['mediaMessage']?.[_0x2907a5(0x585)]))return await this[_0x2907a5(0x404)][_0x2907a5(0x182)][_0x1dceaf][_0x2907a5(0xdc)](_0x2796d8);throw new m('Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64');}async[a0_0x6d27f9(0x768)]({instanceName:_0x300973},_0xf3d756){const _0x332af1=a0_0x6d27f9;if((0x0,se['isURL'])(_0xf3d756[_0x332af1(0x483)][_0x332af1(0x2c9)])||(0x0,se[_0x332af1(0x4f3)])(_0xf3d756[_0x332af1(0x483)][_0x332af1(0x2c9)]))return await this['waMonitor'][_0x332af1(0x182)][_0x300973][_0x332af1(0x33d)](_0xf3d756);throw new m(_0x332af1(0x264));}async['sendWhatsAppAudio']({instanceName:_0x4d97e9},_0x551535){const _0x5d4e96=a0_0x6d27f9;if((0x0,se['isURL'])(_0x551535[_0x5d4e96(0x681)][_0x5d4e96(0x4bd)])||(0x0,se[_0x5d4e96(0x4f3)])(_0x551535[_0x5d4e96(0x681)][_0x5d4e96(0x4bd)]))return await this['waMonitor'][_0x5d4e96(0x182)][_0x4d97e9][_0x5d4e96(0x5f0)](_0x551535);throw new m(_0x5d4e96(0x264));}async[a0_0x6d27f9(0x6a8)]({instanceName:_0x3918d4},_0x496e32){const _0x19b339=a0_0x6d27f9;if((0x0,se[_0x19b339(0x4f3)])(_0x496e32[_0x19b339(0x24d)][_0x19b339(0xdc)]?.['media'])&&!_0x496e32[_0x19b339(0x24d)]['mediaMessage']?.[_0x19b339(0x709)])throw new m('For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.');return await this[_0x19b339(0x404)][_0x19b339(0x182)][_0x3918d4]['buttonMessage'](_0x496e32);}async[a0_0x6d27f9(0x607)]({instanceName:_0x5d70ff},_0x25cb39){const _0x444ce4=a0_0x6d27f9;return await this[_0x444ce4(0x404)]['waInstances'][_0x5d70ff]['locationMessage'](_0x25cb39);}async[a0_0x6d27f9(0x172)]({instanceName:_0x3677de},_0x12b4bd){const _0x3e60f6=a0_0x6d27f9;return await this[_0x3e60f6(0x404)][_0x3e60f6(0x182)][_0x3677de][_0x3e60f6(0x6a4)](_0x12b4bd);}async[a0_0x6d27f9(0x4d6)]({instanceName:_0xd987fc},_0x4b4dd6){const _0x3c0077=a0_0x6d27f9;return await this[_0x3c0077(0x404)][_0x3c0077(0x182)][_0xd987fc]['listMessage'](_0x4b4dd6);}async[a0_0x6d27f9(0x7f6)]({instanceName:_0x5a18de},_0x16cbba){const _0x4d0401=a0_0x6d27f9;return await this[_0x4d0401(0x404)][_0x4d0401(0x182)][_0x5a18de][_0x4d0401(0x7b8)](_0x16cbba);}async[a0_0x6d27f9(0x7a9)]({instanceName:_0x4f4fd6},_0x4db73e){const _0x3a65e2=a0_0x6d27f9;if(!_0x4db73e[_0x3a65e2(0x31c)][_0x3a65e2(0x5db)][_0x3a65e2(0x66f)](/[^\(\)\w\sà-ú"-\+]+/))throw new m(_0x3a65e2(0x345));return await this[_0x3a65e2(0x404)][_0x3a65e2(0x182)][_0x4f4fd6]['reactionMessage'](_0x4db73e);}async[a0_0x6d27f9(0x346)]({instanceName:_0x39b915},_0x4e4238){const _0x51b7ee=a0_0x6d27f9;return await this[_0x51b7ee(0x404)][_0x51b7ee(0x182)][_0x39b915][_0x51b7ee(0x717)](_0x4e4238);}},_o=require(a0_0x6d27f9(0x50b)),Fs=require('uuid'),Ht=class l{constructor(_0xbaeb2b,_0xc2641f,_0x11a4f2){const _0x4ba002=a0_0x6d27f9;this[_0x4ba002(0x14e)]=_0xbaeb2b,this[_0x4ba002(0x404)]=_0xc2641f,this[_0x4ba002(0x4d0)]=_0x11a4f2,this[_0x4ba002(0x267)]=new $(l[_0x4ba002(0x552)]);}async['jwt'](_0x2c81c7){const _0x29dcfe=a0_0x6d27f9;let _0x271ec5=this[_0x29dcfe(0x14e)][_0x29dcfe(0x693)](_0x29dcfe(0x409))[_0x29dcfe(0x236)],_0x53a1a4=(0x0,_o['sign'])({'instanceName':_0x2c81c7[_0x29dcfe(0x383)],'apiName':st,'tokenId':(0x0,Fs['v4'])()},_0x271ec5[_0x29dcfe(0x17c)],{'expiresIn':_0x271ec5[_0x29dcfe(0x185)],'encoding':_0x29dcfe(0x2af),'subject':_0x29dcfe(0x1a7)}),_0x4c0293=await this[_0x29dcfe(0x4d0)][_0x29dcfe(0x51e)]['create']({'jwt':_0x53a1a4},_0x2c81c7[_0x29dcfe(0x383)]);if(_0x4c0293['error'])throw this['logger'][_0x29dcfe(0x782)]({'localError':l[_0x29dcfe(0x552)]+'.jwt','error':_0x4c0293['error']}),new m(_0x29dcfe(0x154),_0x4c0293[_0x29dcfe(0x782)]?.[_0x29dcfe(0x3f4)]());return{'jwt':_0x53a1a4};}async[a0_0x6d27f9(0x226)](_0x3956d5){const _0x431a68=a0_0x6d27f9;let _0x3f7a7c=(0x0,Fs['v4'])()[_0x431a68(0x78d)](),_0x524d92=await this[_0x431a68(0x4d0)][_0x431a68(0x51e)][_0x431a68(0x62f)]({'apikey':_0x3f7a7c},_0x3956d5[_0x431a68(0x383)]);if(_0x524d92['error'])throw this[_0x431a68(0x267)]['error']({'localError':l[_0x431a68(0x552)]+'.jwt','error':_0x524d92[_0x431a68(0x782)]}),new m('Authentication\x20error',_0x524d92['error']?.[_0x431a68(0x3f4)]());return{'apikey':_0x3f7a7c};}async['generateHash'](_0x1e44f8){const _0x459d49=a0_0x6d27f9;let _0x53612e=this['configService'][_0x459d49(0x693)](_0x459d49(0x409));return await this[_0x53612e[_0x459d49(0x36c)]](_0x1e44f8);}},Kt=class{constructor(_0x2f50bf){this['waMonitor']=_0x2f50bf;}async[a0_0x6d27f9(0x712)](_0x353d21,_0x4924b5){const _0x29a0f4=a0_0x6d27f9;return await this[_0x29a0f4(0x404)][_0x29a0f4(0x182)][_0x353d21[_0x29a0f4(0x383)]][_0x29a0f4(0x712)](_0x4924b5);}async[a0_0x6d27f9(0x49d)](_0x2bdd2d,_0x54d31a){const _0x220dc6=a0_0x6d27f9;return await this[_0x220dc6(0x404)][_0x220dc6(0x182)][_0x2bdd2d[_0x220dc6(0x383)]]['updateGroupPicture'](_0x54d31a);}async['groupDesc'](_0x4609cd,_0x31029f){const _0x44ab9a=a0_0x6d27f9;return await this[_0x44ab9a(0x404)][_0x44ab9a(0x182)][_0x4609cd[_0x44ab9a(0x383)]][_0x44ab9a(0x55e)](_0x31029f);}async['groupName'](_0x3f66b8,_0x482dc3){const _0x1a1fdc=a0_0x6d27f9;return await this[_0x1a1fdc(0x404)][_0x1a1fdc(0x182)][_0x3f66b8['instanceName']][_0x1a1fdc(0x62a)](_0x482dc3);}async[a0_0x6d27f9(0x428)](_0x59fbc8,_0x29bbd8){const _0x3bd2a5=a0_0x6d27f9;return await this[_0x3bd2a5(0x404)]['waInstances'][_0x59fbc8[_0x3bd2a5(0x383)]][_0x3bd2a5(0x428)](_0x29bbd8);}async[a0_0x6d27f9(0x3a3)](_0x182689,_0x4b6f18){const _0x50a0d2=a0_0x6d27f9;return await this['waMonitor'][_0x50a0d2(0x182)][_0x182689[_0x50a0d2(0x383)]][_0x50a0d2(0x3a3)](_0x4b6f18);}async[a0_0x6d27f9(0x537)](_0x45f34c,_0x39a6b4){const _0x520290=a0_0x6d27f9;return await this[_0x520290(0x404)][_0x520290(0x182)][_0x45f34c[_0x520290(0x383)]][_0x520290(0x15e)](_0x39a6b4);}async[a0_0x6d27f9(0x69c)](_0x1309f0){const _0x2572c7=a0_0x6d27f9;return await this['waMonitor'][_0x2572c7(0x182)][_0x1309f0[_0x2572c7(0x383)]][_0x2572c7(0x69c)]();}async[a0_0x6d27f9(0x3dd)](_0x1e4182,_0x4b62a8){const _0x5353a5=a0_0x6d27f9;return await this[_0x5353a5(0x404)]['waInstances'][_0x1e4182[_0x5353a5(0x383)]][_0x5353a5(0x3dd)](_0x4b62a8);}async[a0_0x6d27f9(0x364)](_0x3c06f6,_0x273768){const _0x2cf3ee=a0_0x6d27f9;return await this[_0x2cf3ee(0x404)][_0x2cf3ee(0x182)][_0x3c06f6[_0x2cf3ee(0x383)]][_0x2cf3ee(0x364)](_0x273768);}async[a0_0x6d27f9(0x520)](_0x1f6ed9,_0x3e1c33){const _0x4bf097=a0_0x6d27f9;return await this[_0x4bf097(0x404)][_0x4bf097(0x182)][_0x1f6ed9[_0x4bf097(0x383)]][_0x4bf097(0x520)](_0x3e1c33);}async[a0_0x6d27f9(0x4b6)](_0x2329d0,_0xf897b1){const _0x5eaa2d=a0_0x6d27f9;return await this[_0x5eaa2d(0x404)][_0x5eaa2d(0x182)][_0x2329d0[_0x5eaa2d(0x383)]][_0x5eaa2d(0x4b6)](_0xf897b1);}async[a0_0x6d27f9(0x6c6)](_0x3e2d38,_0x320ba0){const _0x201e91=a0_0x6d27f9;return await this[_0x201e91(0x404)][_0x201e91(0x182)][_0x3e2d38[_0x201e91(0x383)]][_0x201e91(0x6c6)](_0x320ba0);}async[a0_0x6d27f9(0x460)](_0x3983dc,_0x6134a4){const _0x556788=a0_0x6d27f9;return await this[_0x556788(0x404)][_0x556788(0x182)][_0x3983dc['instanceName']]['updateGParticipant'](_0x6134a4);}async[a0_0x6d27f9(0x787)](_0x1ac830,_0x157b3b){const _0x168f35=a0_0x6d27f9;return await this['waMonitor'][_0x168f35(0x182)][_0x1ac830['instanceName']]['toggleEphemeral'](_0x157b3b);}async[a0_0x6d27f9(0x43e)](_0x6b954,_0x46f1ce){const _0x4a9e86=a0_0x6d27f9;return await this[_0x4a9e86(0x404)][_0x4a9e86(0x182)][_0x6b954[_0x4a9e86(0x383)]][_0x4a9e86(0x43e)](_0x46f1ce);}},Qt=class{constructor(_0x39e0b2){this['waMonitor']=_0x39e0b2;}[a0_0x6d27f9(0x62f)](_0x3e5208,_0x11db35){const _0x53e0a9=a0_0x6d27f9;return this[_0x53e0a9(0x404)]['waInstances'][_0x3e5208[_0x53e0a9(0x383)]][_0x53e0a9(0x49f)](_0x11db35);}async['find'](_0x5799db){const _0x40be8d=a0_0x6d27f9;try{return await this[_0x40be8d(0x404)][_0x40be8d(0x182)][_0x5799db[_0x40be8d(0x383)]]['findWebhook']();}catch{return{'enabled':null,'url':''};}}},Gp=new $(a0_0x6d27f9(0x4af)),Yt=class{constructor(_0x5655f9){this['waMonitor']=_0x5655f9;}async[a0_0x6d27f9(0x268)](_0x4ec8e8,_0xefb0c6){const _0x26c792=a0_0x6d27f9;return await this[_0x26c792(0x404)][_0x26c792(0x182)][_0x4ec8e8[_0x26c792(0x383)]][_0x26c792(0x268)](_0xefb0c6);}async['getScheduleMessage'](_0x2ed8ee){const _0x59f0e1=a0_0x6d27f9;return await this[_0x59f0e1(0x404)][_0x59f0e1(0x182)][_0x2ed8ee['instanceName']][_0x59f0e1(0x2cd)]();}async[a0_0x6d27f9(0x805)](_0x3d07f9){const _0x21af1e=a0_0x6d27f9;return await this[_0x21af1e(0x404)][_0x21af1e(0x182)][_0x3d07f9['instanceName']]['deleteDoneMessages']();}async[a0_0x6d27f9(0x4cf)](_0x10f59f){const _0xb5021c=a0_0x6d27f9;return await this[_0xb5021c(0x404)][_0xb5021c(0x182)][_0x10f59f[_0xb5021c(0x383)]][_0xb5021c(0x4cf)]();}async[a0_0x6d27f9(0x408)](_0x413911,_0x208d39){const _0x56dd6a=a0_0x6d27f9;return await this[_0x56dd6a(0x404)][_0x56dd6a(0x182)][_0x413911[_0x56dd6a(0x383)]]['updateAgent'](_0x208d39);}async['updateCustomFields'](_0x2c4235,_0x236658){const _0x5bedc2=a0_0x6d27f9;return await this[_0x5bedc2(0x404)][_0x5bedc2(0x182)][_0x2c4235[_0x5bedc2(0x383)]][_0x5bedc2(0x1f5)](_0x236658);}async[a0_0x6d27f9(0x687)](_0x2c1511,_0x547f14){const _0x5fad4d=a0_0x6d27f9;return await this['waMonitor'][_0x5fad4d(0x182)][_0x2c1511['instanceName']][_0x5fad4d(0x687)](_0x547f14);}async[a0_0x6d27f9(0x22a)](_0x17148a,_0x250e2b){const _0x3cc54b=a0_0x6d27f9;return await this[_0x3cc54b(0x404)][_0x3cc54b(0x182)][_0x17148a[_0x3cc54b(0x383)]][_0x3cc54b(0x22a)](_0x250e2b);}async[a0_0x6d27f9(0x263)](_0x6784a1,_0xcc0143){const _0x2253f9=a0_0x6d27f9;return await this[_0x2253f9(0x404)][_0x2253f9(0x182)][_0x6784a1[_0x2253f9(0x383)]]['startFlow'](_0xcc0143);}async['startFlowWebhook'](_0x3c79c4,_0x2b36c1,_0x4bc3d0,_0x21e13c){const _0x1dc40d=a0_0x6d27f9;return await this[_0x1dc40d(0x404)][_0x1dc40d(0x182)][_0x3c79c4][_0x1dc40d(0xde)](_0x2b36c1,_0x4bc3d0,_0x21e13c);}async[a0_0x6d27f9(0xff)](_0x41e93a,_0x1ac262){const _0x152037=a0_0x6d27f9;return await this['waMonitor'][_0x152037(0x182)][_0x41e93a[_0x152037(0x383)]]['getConversation'](_0x1ac262);}async['fetchConversation'](_0x3dd361,_0x290104){const _0x4a749a=a0_0x6d27f9;return await this[_0x4a749a(0x404)]['waInstances'][_0x3dd361[_0x4a749a(0x383)]]['fetchConversation'](_0x290104);}async[a0_0x6d27f9(0x7ca)](_0x12b97e,_0x245a91){const _0x890b34=a0_0x6d27f9;return await this[_0x890b34(0x404)]['waInstances'][_0x12b97e[_0x890b34(0x383)]]['editConversation'](_0x245a91);}async['deleteConversation'](_0xf053c8,_0x1d3b5e){const _0x222634=a0_0x6d27f9;return await this[_0x222634(0x404)][_0x222634(0x182)][_0xf053c8[_0x222634(0x383)]][_0x222634(0xdf)](_0x1d3b5e);}async['getFlow'](_0x2de42c,_0x5de64e){const _0x16cd2e=a0_0x6d27f9;return await this['waMonitor']['waInstances'][_0x2de42c[_0x16cd2e(0x383)]][_0x16cd2e(0x129)](_0x5de64e[_0x16cd2e(0x3b9)]);}async[a0_0x6d27f9(0x6b4)](_0x23f8e1,_0x5e34e1,_0x27fc98){const _0x475211=a0_0x6d27f9;return await this[_0x475211(0x404)][_0x475211(0x182)][_0x23f8e1[_0x475211(0x383)]][_0x475211(0x6b4)](_0x5e34e1,_0x27fc98);}async[a0_0x6d27f9(0x4c2)](_0x36056d,_0x1d2905,_0x5aa619){const _0x14166c=a0_0x6d27f9;return await this[_0x14166c(0x404)][_0x14166c(0x182)][_0x36056d[_0x14166c(0x383)]][_0x14166c(0x4c2)](_0x1d2905,_0x5aa619);}async[a0_0x6d27f9(0x75c)](_0x2d9f7b,_0x252dff){const _0xcd51c6=a0_0x6d27f9;return await this[_0xcd51c6(0x404)][_0xcd51c6(0x182)][_0x2d9f7b[_0xcd51c6(0x383)]][_0xcd51c6(0x75c)](_0x252dff);}async[a0_0x6d27f9(0x5e1)](_0x4c3d01,_0x3fd76a){const _0x15a512=a0_0x6d27f9;return await this[_0x15a512(0x404)]['waInstances'][_0x4c3d01[_0x15a512(0x383)]][_0x15a512(0x5e1)](_0x3fd76a);}async[a0_0x6d27f9(0x230)](_0x4b0805,_0x575448){const _0x1b36bd=a0_0x6d27f9;return await this[_0x1b36bd(0x404)][_0x1b36bd(0x182)][_0x4b0805[_0x1b36bd(0x383)]][_0x1b36bd(0x230)](_0x575448);}async[a0_0x6d27f9(0x205)](_0x469908,_0x49f150){const _0x4af64d=a0_0x6d27f9;return await this[_0x4af64d(0x404)][_0x4af64d(0x182)][_0x469908[_0x4af64d(0x383)]][_0x4af64d(0x205)](_0x49f150);}async[a0_0x6d27f9(0x388)](_0x1532b6,_0x36257e){const _0x37fef6=a0_0x6d27f9;return await this[_0x37fef6(0x404)][_0x37fef6(0x182)][_0x1532b6[_0x37fef6(0x383)]][_0x37fef6(0x388)](_0x36257e);}async['editFlowVariable'](_0x2b45ee,_0x2addc5){const _0x43dc22=a0_0x6d27f9;return await this[_0x43dc22(0x404)][_0x43dc22(0x182)][_0x2b45ee[_0x43dc22(0x383)]][_0x43dc22(0x51f)](_0x2addc5);}async['deleteFlow'](_0x29f15e,_0x2ac9bb){const _0x3fa61e=a0_0x6d27f9;return await this[_0x3fa61e(0x404)]['waInstances'][_0x29f15e[_0x3fa61e(0x383)]]['deleteFlow'](_0x2ac9bb);}async['allFlows'](_0x39cc9b){const _0x588f3c=a0_0x6d27f9;return await this[_0x588f3c(0x404)][_0x588f3c(0x182)][_0x39cc9b[_0x588f3c(0x383)]][_0x588f3c(0x5c3)]();}},Xt=class{constructor(_0x14e908){this['webhookService']=_0x14e908;}async[a0_0x6d27f9(0x478)](_0x5aa482,_0xa54453){const _0x46491d=a0_0x6d27f9;return this[_0x46491d(0x22c)]['create'](_0x5aa482,_0xa54453);}async['findWebhook'](_0x1bfab2){const _0x250de9=a0_0x6d27f9;return this['webhookService'][_0x250de9(0x37d)](_0x1bfab2);}},Zt=class extends O{constructor(_0x51af22,_0x217323){const _0x2f910c=a0_0x6d27f9;super(_0x217323),this[_0x2f910c(0x282)]=_0x51af22,this['configService']=_0x217323;}async[a0_0x6d27f9(0x62f)](_0x2af856,_0x4e6b24){const _0x5e6220=a0_0x6d27f9;try{return this['dbSettings'][_0x5e6220(0x43a)]?{'insertCount':(await this[_0x5e6220(0x282)][_0x5e6220(0x202)]({'_id':_0x4e6b24},{..._0x2af856},{'upsert':!0x0}))['modifiedCount']}:{'insertCount':0x1};}catch(_0x10881a){return _0x10881a;}}async[a0_0x6d27f9(0x7b7)](_0x2b189e){const _0x4251ef=a0_0x6d27f9;try{if(this[_0x4251ef(0x7de)][_0x4251ef(0x43a)]){await this[_0x4251ef(0x282)]['deleteOne']({'_id':_0x2b189e});return;}}catch(_0x4d893a){return{'error':_0x4d893a};}}async[a0_0x6d27f9(0x37d)](_0x16dd4e){const _0xb02fda=a0_0x6d27f9;try{if(this[_0xb02fda(0x7de)]['ENABLED'])return await this['webhookModel'][_0xb02fda(0x206)]({'_id':_0x16dd4e});}catch{return{};}}},es=class extends O{constructor(_0x305b86,_0x11e1ea){const _0x1391b4=a0_0x6d27f9;super(_0x11e1ea),this[_0x1391b4(0xe1)]=_0x305b86,this['configService']=_0x11e1ea,this['auth']=_0x11e1ea[_0x1391b4(0x693)](_0x1391b4(0x409));}async[a0_0x6d27f9(0x62f)](_0x1d6abf,_0x347651){const _0x4eab7e=a0_0x6d27f9;try{if(this[_0x4eab7e(0x7de)][_0x4eab7e(0x43a)])return{'insertCount':(await this[_0x4eab7e(0xe1)]['updateOne']({'_id':_0x347651},{'$set':{..._0x1d6abf}},{'upsert':!0x0}))[_0x4eab7e(0x6c1)]};}catch(_0x28221a){return{'error':_0x28221a};}}async[a0_0x6d27f9(0x73e)](_0x366ca7,_0x3d9673){const _0x3e097a=a0_0x6d27f9;try{if(this[_0x3e097a(0x7de)][_0x3e097a(0x43a)])return{'insertCount':(await this[_0x3e097a(0xe1)]['updateMany'](_0x366ca7,{'$set':_0x3d9673},{'upsert':!0x1}))[_0x3e097a(0x6c1)]};throw new Error(_0x3e097a(0x624));}catch(_0x51fcf3){return{'error':_0x51fcf3};}}async[a0_0x6d27f9(0x65a)](_0x32fd9e){const _0x1f2f36=a0_0x6d27f9;try{if(this[_0x1f2f36(0x7de)][_0x1f2f36(0x43a)])return{'insertCount':(await this['authModel'][_0x1f2f36(0x65a)](_0x32fd9e))['deletedCount']};throw new Error(_0x1f2f36(0x1eb));}catch(_0x948126){return{'error':_0x948126};}}async['delete'](_0x2a2f92){const _0x54ee89=a0_0x6d27f9;try{if(this[_0x54ee89(0x7de)][_0x54ee89(0x43a)]){await this[_0x54ee89(0xe1)][_0x54ee89(0x741)]({'_id':_0x2a2f92});return;}}catch(_0xebdb8){return{'error':_0xebdb8};}}async[a0_0x6d27f9(0x37d)](_0x318cf9){const _0x228f1e=a0_0x6d27f9;try{if(this['dbSettings'][_0x228f1e(0x43a)])return await this[_0x228f1e(0xe1)]['findOne']({'_id':_0x318cf9});}catch{return{};}}async[a0_0x6d27f9(0x4a3)](){const _0x5bf4a1=a0_0x6d27f9;try{if(this['dbSettings'][_0x5bf4a1(0x43a)])return await this[_0x5bf4a1(0xe1)][_0x5bf4a1(0x37d)]();}catch{return[];}}async[a0_0x6d27f9(0x76d)](_0x41827c){const _0x3d5524=a0_0x6d27f9;try{if(this[_0x3d5524(0x7de)][_0x3d5524(0x43a)])return await this[_0x3d5524(0xe1)][_0x3d5524(0x37d)](_0x41827c);}catch{return[];}}},xo=require(a0_0x6d27f9(0x59c)),ts=class extends O{async[a0_0x6d27f9(0x741)](_0x2f0355){const _0x21bfa1=a0_0x6d27f9;try{let _0x3f8001=I(_0x2f0355[_0x21bfa1(0x771)]);return{'deletedCount':(await he[_0x21bfa1(0x741)](_0x3f8001))[_0x21bfa1(0x783)]};}catch(_0x2bd8ce){return{'error':_0x2bd8ce?.['toString']()};}}async[a0_0x6d27f9(0x46a)](_0x1cdf17,_0x1cb5a1){const _0x53043a=a0_0x6d27f9;try{let _0x5f0b98=await he[_0x53043a(0x281)](_0x1cdf17);return _0x5f0b98?(Object[_0x53043a(0x6cc)](_0x5f0b98,_0x1cb5a1),await _0x5f0b98[_0x53043a(0x41a)]()):(console['error'](_0x53043a(0x761),_0x1cdf17),null);}catch(_0x175fa1){return console[_0x53043a(0x782)](_0x53043a(0x20b),_0x175fa1),null;}}async[a0_0x6d27f9(0x6bf)](_0x2babc0){const _0x4c3a63=a0_0x6d27f9;try{return await new he(_0x2babc0)[_0x4c3a63(0x41a)]();}catch(_0x43c578){return console[_0x4c3a63(0x782)](_0x4c3a63(0x2ad),_0x43c578),null;}}async[a0_0x6d27f9(0x4a3)](_0x34d943){const _0x148850=a0_0x6d27f9;try{let _0xb2620e=_0x34d943['where']??{};return await he[_0x148850(0x37d)](_0xb2620e)['limit'](_0x34d943[_0x148850(0x22f)]??0x0)['lean']();}catch(_0x3698d5){return console[_0x148850(0x782)](_0x148850(0x10a),_0x3698d5),[];}}async[a0_0x6d27f9(0x206)](_0x584743){const _0x2420b3=a0_0x6d27f9;try{let _0x1a8d79=I(_0x584743[_0x2420b3(0x771)]);return await he['findOne'](_0x1a8d79)[_0x2420b3(0x57a)]();}catch{return null;}}async[a0_0x6d27f9(0x2a7)](_0x5ba622){const _0x162078=a0_0x6d27f9;try{let _0x5d2b2b=Es(_0x5ba622);if(!_0x5d2b2b){let _0x27f93c=_0x162078(0x5d7)+_0x5ba622;return console[_0x162078(0x782)](_0x27f93c),{'success':!0x1,'error':new Error(_0x27f93c)};}return await _0x5d2b2b[_0x162078(0x594)][_0x162078(0x1ed)](),{'success':!0x0};}catch(_0x37c3a1){return console[_0x162078(0x782)](_0x37c3a1),{'success':!0x1,'error':_0x37c3a1 instanceof Error?_0x37c3a1:new Error(String(_0x37c3a1))};}}async[a0_0x6d27f9(0x53f)](_0x4e6ea5){const _0x55162c=a0_0x6d27f9;try{let _0x1e035b=Es(_0x4e6ea5);if(!_0x1e035b)return console[_0x55162c(0x782)](_0x55162c(0x5d7)+_0x4e6ea5),0x0;let _0x16d218=await _0x1e035b[_0x55162c(0x37d)]({})[_0x55162c(0x57a)]();if(console[_0x55162c(0x2ac)](_0x55162c(0x4d2)+_0x4e6ea5+_0x55162c(0x340)+_0x16d218[_0x55162c(0x4b3)]),!_0x16d218||_0x16d218[_0x55162c(0x4b3)]===0x0)return console[_0x55162c(0x2ac)](_0x55162c(0x47b)+_0x4e6ea5),0x0;let _0x3a766d=_0x16d218[_0x55162c(0x5f1)](_0x1f02cc=>{const _0x47c234=_0x55162c;let {global:_0x5d7ef8,startID:_0xdf8c60,sharePass:_0x52d517,shareOwners:_0x4fb67c,minutesToClose:_0xc43a17,readMessages:_0x33f395,testingWith:_0x440b82,startCommandWord:_0x4565ed,default:_0x3e0b59,..._0x424c05}=_0x1f02cc,_0x2db32f=Array[_0x47c234(0x4db)](new Set([..._0x4fb67c,_0x4e6ea5])),_0x100e1e=Array[_0x47c234(0x4db)](new Set([..._0x4fb67c,_0x4e6ea5]));return{..._0x424c05,'_id':(0x0,xo['v4'])(),'owner':_0x4e6ea5,'globalShow':_0x1f02cc[_0x47c234(0x60c)]===_0x47c234(0x41d),'whoCanEdit':_0x2db32f,'whoCanUse':_0x100e1e};});return await he[_0x55162c(0x1d0)](_0x3a766d),await _0x1e035b[_0x55162c(0x594)][_0x55162c(0x1ed)](),console[_0x55162c(0x2ac)](_0x55162c(0x773)+_0x4e6ea5+'\x27\x20para\x20a\x20coleção\x20centralizada.'),_0x3a766d[_0x55162c(0x4b3)];}catch(_0x537005){return console[_0x55162c(0x782)](_0x55162c(0x7f5)+_0x4e6ea5+'\x27:',_0x537005),0x0;}}async[a0_0x6d27f9(0x74e)](_0x5c3e5f){const _0x19f7bf=a0_0x6d27f9;let _0x379564=0x0;for(let _0x5629c of _0x5c3e5f){let _0x18724b=await this[_0x19f7bf(0x53f)](_0x5629c);_0x379564+=_0x18724b;}return console[_0x19f7bf(0x2ac)](_0x19f7bf(0x64f)+_0x379564),_0x379564;}},ss=class extends O{[a0_0x6d27f9(0x323)](_0x42bc44){return wa(_0x42bc44);}async[a0_0x6d27f9(0x6b5)](_0x41ec93){const _0x2a5a3f=a0_0x6d27f9;if(_0x41ec93[_0x2a5a3f(0x4b3)]!==0x0)try{return{'insertCount':(await this[_0x2a5a3f(0x323)](_0x41ec93[0x0]['owner'])[_0x2a5a3f(0x1d0)]([..._0x41ec93]))[_0x2a5a3f(0x4b3)]};}catch(_0x1413be){return _0x1413be;}}async[a0_0x6d27f9(0x7b7)](_0x597285,_0x1e7872){const _0x36da05=a0_0x6d27f9;try{let _0x3394e9=this[_0x36da05(0x323)](_0x1e7872),_0x40234e=I(_0x597285[_0x36da05(0x771)]);return{'deletedCount':(await _0x3394e9[_0x36da05(0x65a)](_0x40234e))[_0x36da05(0x783)]};}catch(_0x31db35){return{'error':_0x31db35?.[_0x36da05(0x3f4)]()};}}async[a0_0x6d27f9(0x741)](_0x44dc6f,_0x1d7b6d){const _0x3ceb13=a0_0x6d27f9;try{let _0x519f3e=this[_0x3ceb13(0x323)](_0x1d7b6d),_0x4a4b9c=I(_0x44dc6f['where']);return{'deletedCount':(await _0x519f3e[_0x3ceb13(0x741)](_0x4a4b9c))['deletedCount']};}catch(_0x104a42){return{'error':_0x104a42?.['toString']()};}}async[a0_0x6d27f9(0x414)](_0x4af398,_0x6aa60c){const _0x5d7b89=a0_0x6d27f9;try{if(_0x4af398[_0x5d7b89(0x4b3)]===0x0)return;let _0x547fd6=this['getConversationModelForOwner'](_0x6aa60c),_0x4157e1=_0x4af398[_0x5d7b89(0x5f1)](_0x3269cb=>({'updateOne':{'filter':{'name':_0x3269cb[_0x5d7b89(0x552)],'owner':_0x6aa60c},'update':{..._0x3269cb}}})),{modifiedCount:_0x2d89c5}=await _0x547fd6[_0x5d7b89(0x7a3)](_0x4157e1);return{'insertCount':_0x2d89c5};}catch{return;}}async[a0_0x6d27f9(0x64b)](_0x4e74f1,_0x40058f,_0x3062ba){const _0x420cd8=a0_0x6d27f9;try{return{'modifiedCount':(await this['getConversationModelForOwner'](_0x3062ba)[_0x420cd8(0x64b)](_0x4e74f1,{'$set':_0x40058f})[_0x420cd8(0x1a0)]())[_0x420cd8(0x6c1)]};}catch(_0x1f3380){return console[_0x420cd8(0x782)]('Erro\x20ao\x20atualizar\x20múltiplas\x20conversas:',_0x1f3380),{'error':_0x1f3380};}}async['updateOne'](_0x35b0d6,_0x52b043,_0x5149ba){const _0x5a9e46=a0_0x6d27f9;try{return await this[_0x5a9e46(0x323)](_0x5149ba)[_0x5a9e46(0x4dd)]({'_id':_0x35b0d6},{'$set':_0x52b043},{'new':!0x0,'upsert':!0x0})[_0x5a9e46(0x57a)]();}catch(_0x32a721){return console[_0x5a9e46(0x782)](_0x32a721),null;}}async[a0_0x6d27f9(0x37d)](_0x4f4137,_0x21f1c5){const _0x1e4f14=a0_0x6d27f9;try{return await this[_0x1e4f14(0x323)](_0x21f1c5)['find'](_0x4f4137)['sort']({'lastInteraction':-0x1})[_0x1e4f14(0x57a)]();}catch{return[];}}async[a0_0x6d27f9(0x206)](_0x5eb730,_0x44ad09){const _0x45adf6=a0_0x6d27f9;try{return await this[_0x45adf6(0x323)](_0x44ad09)[_0x45adf6(0x206)]({..._0x5eb730[_0x45adf6(0x771)]})[_0x45adf6(0x57a)]();}catch{return null;}}async[a0_0x6d27f9(0x2a7)](_0x429575){const _0x54b6ea=a0_0x6d27f9;try{return await this['getConversationModelForOwner'](_0x429575)[_0x54b6ea(0x594)][_0x54b6ea(0x1ed)](),{'success':!0x0};}catch(_0x338398){return console[_0x54b6ea(0x782)](_0x338398),{'success':!0x1,'error':_0x338398};}}},as=class extends O{[a0_0x6d27f9(0x602)](_0x6f65cd){return ya(_0x6f65cd);}async[a0_0x6d27f9(0x6bf)](_0x1cc176,_0x5a1d4c){const _0x28f457=a0_0x6d27f9;try{let _0x152693=this[_0x28f457(0x602)](_0x5a1d4c);return await new _0x152693(_0x1cc176)[_0x28f457(0x41a)]();}catch(_0x55a3e8){return console[_0x28f457(0x782)]('Erro\x20ao\x20criar\x20e\x20salvar\x20uma\x20nova\x20mensagem:',_0x55a3e8),null;}}async[a0_0x6d27f9(0x741)](_0x58773a,_0x2dea3a){const _0x1d5a24=a0_0x6d27f9;try{return await this[_0x1d5a24(0x602)](_0x2dea3a)['findByIdAndDelete'](_0x58773a),{};}catch(_0x1c19b4){return{'error':_0x1c19b4?.[_0x1d5a24(0x3f4)]()};}}async[a0_0x6d27f9(0x46a)](_0x5a6f82,_0x345f76,_0x143b28){const _0xe54dc9=a0_0x6d27f9;try{return await this['getScheduleMessageModelForOwner'](_0x143b28)[_0xe54dc9(0x4dd)](_0x5a6f82,_0x345f76,{'new':!0x0});}catch(_0x252069){return console[_0xe54dc9(0x782)](_0xe54dc9(0x3a6),_0x252069),null;}}async['updateOneById'](_0x4b85f8,_0x2bf8a2,_0x1a79dc){const _0x42a3b1=a0_0x6d27f9;try{return await this[_0x42a3b1(0x602)](_0x1a79dc)['findByIdAndUpdate'](_0x4b85f8,_0x2bf8a2,{'new':!0x0})[_0x42a3b1(0x57a)]();}catch(_0x59f60f){return console[_0x42a3b1(0x782)](_0x42a3b1(0x3a6),_0x59f60f),null;}}async['find'](_0x159708,_0xa9b197){const _0x27ee9f=a0_0x6d27f9;try{return await this['getScheduleMessageModelForOwner'](_0xa9b197)[_0x27ee9f(0x37d)](_0x159708['where'])[_0x27ee9f(0x22f)](_0x159708?.[_0x27ee9f(0x22f)]??0x0)[_0x27ee9f(0x349)]({'when':0x1})[_0x27ee9f(0x57a)]();}catch{return[];}}async['findOne'](_0xd41af2,_0x2af9df){const _0x1612e1=a0_0x6d27f9;try{return await this[_0x1612e1(0x602)](_0x2af9df)[_0x1612e1(0x206)](_0xd41af2[_0x1612e1(0x771)])[_0x1612e1(0x349)]({'when':0x1})['lean']();}catch{return null;}}async['findById'](_0x34347e,_0x2a069c){const _0x12ada6=a0_0x6d27f9;try{return await this['getScheduleMessageModelForOwner'](_0x2a069c)[_0x12ada6(0x281)](_0x34347e)[_0x12ada6(0x57a)]();}catch{return null;}}async[a0_0x6d27f9(0x65a)](_0x2ec690,_0x423287){const _0x33dd4b=a0_0x6d27f9;try{return{'deletedCount':(await this[_0x33dd4b(0x602)](_0x423287)[_0x33dd4b(0x65a)](_0x2ec690))['deletedCount']};}catch(_0x159dcf){return console[_0x33dd4b(0x782)](_0x33dd4b(0x670),_0x159dcf),{'error':_0x159dcf};}}async[a0_0x6d27f9(0x2a7)](_0x517b25){const _0x829139=a0_0x6d27f9;try{return await this['getScheduleMessageModelForOwner'](_0x517b25)[_0x829139(0x594)][_0x829139(0x1ed)](),{'success':!0x0};}catch(_0x3b61c4){return console[_0x829139(0x782)](_0x3b61c4),{'success':!0x1,'error':_0x3b61c4};}}},os=class extends O{async['update'](_0x3c5b58,_0x2db856){const _0x56f3bd=a0_0x6d27f9;try{if(this['dbSettings'][_0x56f3bd(0x43a)])return await $e[_0x56f3bd(0x4dd)]({'_id':_0x2db856},{'$set':_0x3c5b58},{'new':!0x0});}catch(_0x3e9038){throw console['error'](_0x56f3bd(0x266),_0x3e9038),_0x3e9038;}}async[a0_0x6d27f9(0x4cb)](_0x5cdcfb){const _0xdaf119=a0_0x6d27f9;try{let _0x5278d8=await $e['findById'](_0x5cdcfb);return _0x5278d8?_0x5278d8[_0xdaf119(0x13b)]||(_0x5278d8[_0xdaf119(0x13b)]=[],await _0x5278d8[_0xdaf119(0x41a)]()):(_0x5278d8=new $e({'_id':_0x5cdcfb,'autoCompleteMessages':[]}),await _0x5278d8[_0xdaf119(0x41a)]()),_0x5278d8;}catch(_0x3d1430){return _0x3d1430['code']===0x2af8&&_0x3d1430['keyPattern']&&_0x3d1430[_0xdaf119(0x2a0)]['autoCompleteMessages.command']?(console[_0xdaf119(0x782)](_0xdaf119(0x366)),await $e[_0xdaf119(0x594)]['dropIndex'](_0xdaf119(0x354)),null):(console[_0xdaf119(0x782)](_0xdaf119(0x34a),_0x3d1430),null);}}},Fi=new $(a0_0x6d27f9(0x159)),Ui=new ze(b),ji=new Jt(b),Ji=new ot(b),qi=new qt(oa,b),Vi=new Zt(pa,b),Gi=new es(la,b),Bi=new Ce(Ve,b),Wi=new ts(b),zi=new Vt(b),Hi=new ss(b),Ki=new as(b),Qi=new os(b),ge=new Be(Ui,ji,Ji,qi,Vi,Gi,Bi,Wi,Hi,zi,Ki,Qi,R?.['getClient']()),G=new jt(ps,b,ge),Yi=new Ht(b,G,ge),Xi=new Qt(G),Rs=new Xt(Xi),T=new Yt(G),le=new Wt(G,b,ge,ps,Yi),B=new zt(G),P=new Gt(G),q=new Kt(G);Fi[a0_0x6d27f9(0xf3)](a0_0x6d27f9(0x40a));var ng=require(a0_0x6d27f9(0x139)),Us=require('fs'),Do=A(require('https')),Po=A(require('http')),ke=class l{static #e;static set['app'](_0x3cf5ea){this.#e=_0x3cf5ea;}static get[a0_0x6d27f9(0x3e7)](){const _0x1d255f=a0_0x6d27f9;let {FULLCHAIN:_0x1e9ea0,PRIVKEY:_0x145803}=b[_0x1d255f(0x693)]('SSL_CONF');return Do[_0x1d255f(0x539)]({'cert':(0x0,Us['readFileSync'])(_0x1e9ea0),'key':(0x0,Us[_0x1d255f(0x422)])(_0x145803)},l.#e);}static get[a0_0x6d27f9(0x37b)](){const _0x4fc91e=a0_0x6d27f9;return Po[_0x4fc91e(0x539)](l.#e);}},Le=A(require('fs')),Jo=A(require(a0_0x6d27f9(0x46e))),Fe=A(require(a0_0x6d27f9(0x1a8))),rs=A(require('path')),is=require(a0_0x6d27f9(0x5a0));function Zi(){const _0x1dc0f0=a0_0x6d27f9;G[_0x1dc0f0(0x506)]();let _0x306bd7=rs[_0x1dc0f0(0x49c)][_0x1dc0f0(0x34b)](__dirname,_0x1dc0f0(0x73f));jo(_0x306bd7);}var jo=_0x37a2d9=>{const _0x1aba23=a0_0x6d27f9;let _0x55d979=Le[_0x1aba23(0x49c)]['readdirSync'](_0x37a2d9),_0x45afd0=0xc*0x3c*0x3c*0x3e8,_0x228bb2=0x2*0x3c*0x3c*0x3e8,_0x2cfd13=new Date()[_0x1aba23(0x4d1)]();_0x55d979[_0x1aba23(0x48c)](_0x2dae1c=>{const _0x7712df=_0x1aba23;let _0x240244=rs[_0x7712df(0x49c)]['join'](_0x37a2d9,_0x2dae1c),_0xd8b76a=Le['default'][_0x7712df(0x43f)](_0x240244)[_0x7712df(0x447)][_0x7712df(0x4d1)]();_0x2cfd13-_0xd8b76a>_0x45afd0&&(Le['default'][_0x7712df(0x765)](_0x240244),console[_0x7712df(0x2ac)](_0x7712df(0x423)+_0x2dae1c));}),setTimeout(()=>jo(_0x37a2d9),_0x228bb2);};function er(){const _0x49172d=a0_0x6d27f9;let _0x2ff462=new $(_0x49172d(0x617)),_0x132676=(0x0,we[_0x49172d(0x49c)])();_0x132676[_0x49172d(0x20f)]((0x0,Uo[_0x49172d(0x49c)])({'origin'(_0x332b8a,_0x96a2aa){const _0x595f3a=_0x49172d;let {ORIGIN:_0x20e8a3}=b[_0x595f3a(0x693)](_0x595f3a(0xf4));return _0x332b8a||(_0x332b8a='*'),_0x20e8a3['indexOf']('*')!==-0x1||_0x20e8a3['indexOf'](_0x332b8a)!==-0x1?_0x96a2aa(null,!0x0):_0x96a2aa(new Error('Not\x20allowed\x20by\x20CORS'));},'methods':[...b[_0x49172d(0x693)](_0x49172d(0xf4))['METHODS']],'credentials':b[_0x49172d(0x693)](_0x49172d(0xf4))[_0x49172d(0x1e6)]}),(0x0,we['urlencoded'])({'extended':!0x0,'limit':_0x49172d(0x2ce)}),(0x0,we[_0x49172d(0x679)])({'limit':'50mb'})),_0x132676[_0x49172d(0x20f)]((_0x3c2280,_0x157a2c,_0x3ca24b)=>{const _0x297d17=_0x49172d;_0x3c2280[_0x297d17(0x4a4)][_0x297d17(0x1e3)](_0x297d17(0x564))?_0x3ca24b():(0x0,Fo['default'])()(_0x3c2280,_0x157a2c,_0x3ca24b);}),_0x132676[_0x49172d(0x5c5)](_0x49172d(0x720),_0x49172d(0x647)),_0x132676[_0x49172d(0x5c5)]('views',(0x0,Js[_0x49172d(0x34b)])(re,'views')),_0x132676[_0x49172d(0x20f)](we[_0x49172d(0x49c)][_0x49172d(0x127)]((0x0,Js[_0x49172d(0x34b)])(re,_0x49172d(0x556)))),_0x132676[_0x49172d(0x20f)]((_0x5b6261,_0x29800c,_0x27d374)=>{const _0x280cd0=_0x49172d;let _0x44b25d=_0x29800c[_0x280cd0(0x4a8)];_0x29800c[_0x280cd0(0x4a8)]=function(_0x24c60a){const _0x3dabed=_0x280cd0;if(_0x5b6261[_0x3dabed(0x4b7)]['convert']===_0x3dabed(0x41d)||_0x5b6261[_0x3dabed(0x732)][_0x3dabed(0x69b)]==='true'){let _0x1364ab=JSON['parse'](_0x24c60a);_0x24c60a=JSON[_0x3dabed(0x450)](_0x688663(_0x1364ab));}return _0x44b25d[_0x3dabed(0x49e)](_0x29800c,[_0x24c60a]);},_0x27d374();}),_0x132676[_0x49172d(0x20f)]('/',xe),_0x132676[_0x49172d(0x20f)]((_0x343555,_0x5acdb7,_0x37028d,_0x4a5774)=>{const _0x3ffd4b=_0x49172d;if(_0x343555)return _0x37028d[_0x3ffd4b(0x538)](_0x343555[_0x3ffd4b(0x538)]||0x1f4)['json'](_0x343555);},(_0x545ac5,_0x34c2c9,_0x34a6e9)=>{const _0x5127b4=_0x49172d;let {method:_0x5c730d,url:_0x101a93}=_0x545ac5;_0x34c2c9[_0x5127b4(0x538)](0x194)['json']({'status':0x194,'message':_0x5127b4(0x397)+_0x5c730d[_0x5127b4(0x78d)]()+'\x20'+_0x101a93,'error':_0x5127b4(0x59b)}),_0x34a6e9();});let _0x688663=(_0x4fda32,_0x4dd970=_0x49172d(0x789))=>{const _0x59ba62=_0x49172d;let _0x1ef8a0=(_0x5e02f8,_0x399baa=null,_0x49e88a=!0x1)=>{const _0x55de93=a0_0x3485;let _0x4c193d={};return Object[_0x55de93(0x3ae)](_0x5e02f8)['forEach'](_0x100ca3=>{const _0x4db29e=_0x55de93;let _0x2bf52b=_0x5e02f8[_0x100ca3],_0x5647ec=''+_0x4dd970+_0x100ca3;_0x399baa&&!_0x49e88a&&(_0x5647ec=_0x399baa+'.'+_0x100ca3),!_0x2bf52b&&_0x2bf52b!==0x0&&_0x2bf52b!==!0x1||typeof _0x2bf52b>'u'?_0x4c193d[_0x5647ec]=null:typeof _0x2bf52b!=_0x4db29e(0x5c4)&&!Array['isArray'](_0x2bf52b)?_0x4c193d[_0x5647ec]=_0x2bf52b:typeof _0x2bf52b=='object'&&!Array[_0x4db29e(0x3b4)](_0x2bf52b)?_0x4c193d=Object[_0x4db29e(0x6cc)](_0x4c193d,_0x1ef8a0(_0x2bf52b,_0x5647ec)):Array['isArray'](_0x2bf52b)&&(typeof _0x2bf52b[0x0]==_0x4db29e(0x5c4)?(_0x4c193d[_0x5647ec]=[],_0x2bf52b[_0x4db29e(0x48c)](_0xa9110=>{const _0x4f04fa=_0x4db29e;_0x4c193d[_0x5647ec][_0x4f04fa(0x6b3)](_0x1ef8a0(_0xa9110,_0x5647ec,!0x0));})):_0x4c193d[_0x5647ec]=_0x2bf52b);}),_0x4c193d;};return Array[_0x59ba62(0x3b4)](_0x4fda32)?_0x4fda32['map'](_0x5d587f=>_0x1ef8a0(_0x5d587f)):typeof _0x4fda32==_0x59ba62(0x5c4)&&_0x4fda32!==null?_0x1ef8a0(_0x4fda32):{};},_0x43eb5b=b['get'](_0x49172d(0x617));ke[_0x49172d(0x1f4)]=_0x132676;let _0x2cc829=ke[_0x43eb5b[_0x49172d(0x36c)]],_0x4e20ac=_0x49172d(0x2f7);_0x2cc829[_0x49172d(0xcd)](_0x43eb5b[_0x49172d(0xdd)],()=>{const _0x17fea7=_0x49172d;_0x2ff462['log'](_0x4e20ac),_0x2ff462[_0x17fea7(0x2ac)](_0x43eb5b[_0x17fea7(0x36c)]['toUpperCase']()+_0x17fea7(0x11d)+_0x43eb5b[_0x17fea7(0xdd)]);}),Zi(),Xs();}var tr=a0_0x6d27f9(0x6af),sr=rs['default'][a0_0x6d27f9(0x34b)](__dirname,a0_0x6d27f9(0x503)),ve=null;function ar(){return new Promise((_0x1b9362,_0x5694b4)=>{const _0x5b680e=a0_0x3485;Le[_0x5b680e(0x49c)]['readFile'](sr,_0x5b680e(0x704),(_0x258516,_0x304202)=>{const _0x4226b3=_0x5b680e;if(_0x258516){ve=_0x258516,_0x1b9362();return;}Jo[_0x4226b3(0x49c)][_0x4226b3(0x610)](_0x304202)[_0x4226b3(0x4fc)]['url']===tr?(ve=null,_0x1b9362()):(ve=new Error('uazapi\x20não\x20está\x20instalado\x20pelo\x20git'),_0x1b9362());});});}async function or(){const _0x45bbf3=a0_0x6d27f9;try{await ar(),await qs();}catch(_0x34a3fa){console[_0x45bbf3(0x782)](_0x45bbf3(0x30a)+_0x34a3fa),process[_0x45bbf3(0x5d3)](0x1);}}or();async function qo(){const _0x24da00=a0_0x6d27f9;let _0x443ef6;try{_0x443ef6=(await Fe[_0x24da00(0x49c)][_0x24da00(0x693)](_0x24da00(0x7f3)))[_0x24da00(0x462)]['ip'];}catch(_0x340050){console[_0x24da00(0x782)](_0x340050);try{_0x443ef6=(await Fe[_0x24da00(0x49c)][_0x24da00(0x693)]('https://api.ipify.org?format=json'))[_0x24da00(0x462)]['ip'];}catch(_0x1bc73f){console[_0x24da00(0x782)](_0x1bc73f);try{_0x443ef6=(await Fe[_0x24da00(0x49c)][_0x24da00(0x693)](_0x24da00(0x71f)))[_0x24da00(0x462)][_0x24da00(0x66f)](/\d+.\d+.\d+.\d+/)[0x0];}catch(_0x1b3c8e){return console[_0x24da00(0x782)](_0x1b3c8e),!0x1;}}}return _0x443ef6;}function a0_0x47cd(){const _0x371bf3=['lastReceivedMessage','headers','header','.\x20Pulando.','client','CLEANING_INTERVAL','):\x20Procurando\x20conversa\x20que\x20esteja\x20esperando\x20voto','):\x20Bloco\x20copiado:\x20','stanzaId','CORS_ORIGIN','1499823fUVYPy','):Notifying\x20clients\x20for\x20chat:\x20','silent','updateAll','downloads',',\x20Expiration\x20Time:\x20','deleteOne','waitingMenu_text','MESSAGES_UPDATE',':\x20Verificando\x20se\x20há\x20instance.wuid\x20e\x20AutomateSystem\x20em\x20','Message','remove','.txt','hSet','cacheContactModel','createSectionsFromValues','Connection','pt-BR','):\x20teve\x20mudanças\x20chat.muteEndTime:\x20','migrateAllOwnersFlowsToCentralizedCollection','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato.','lastUpdate','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20audio:\x20','Rótulo\x20deletado:\x27,\x20','):\x20Erro\x20ao\x20processar\x20a\x20mensagem:\x20','request\x20received\x20in\x20updateAgent','/wa-contacts','mkdirSync','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateGroupPicture','createflow','timeInMinutes','setRestartTimeout','):Hash\x20to\x20image\x20name:\x20','editFlowBlock','):Type\x20defined\x20as\x20audio','\x22,\x20valor\x20a\x20substituir:\x20\x22','DATABASE_CONNECTION_URI','\x20com\x20sucesso.','Fluxo\x20não\x20encontrado\x20para\x20o\x20ID:','dayjs','Falha\x20ao\x20processar\x20a\x20solicitação\x20inviteCode','removeIPv6ById','unlinkSync','Forbidden','\x1b[46m','sendSticker','recording','long','isRunning','Logs\x20do\x20PM2\x20limpos\x20com\x20sucesso.','findMany','\x20inseridos\x20no\x20banco\x20de\x20dados...','backgroundColor','):Desconectado,\x20parando\x20execução.','where','):\x20Criando\x20nova\x20conversa[createConversationforgoToFlow]','Fluxos\x20transferidos\x20do\x20proprietário\x20\x27','dbInstance','):\x20whoCanEdit\x20before\x20validation:\x20','makeCacheableSignalKeyStore','false','getClient','Comando\x20desconhecido','Rótulo\x20inválido\x20ou\x20sem\x20ID.','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio:\x20','):\x20Erro\x20ao\x20copiar\x20o\x20documento:\x20','etiquetas','ephemeralExpiration','SSL_CONF_FULLCHAIN','leadInfo.atendimentoAberto','chatId','error','deletedCount','readData','pollErrorMessage','node-mime-types','toggleEphemeral','generate','_p_','Não\x20é\x20possível\x20excluir\x20uma\x20mensagem\x20que\x20está\x20em\x20processamento.\x20Pause\x20primeiro\x20e\x20espere\x20em\x20torno\x20de\x2020\x20segundos\x20para\x20deletar','replace','Subdomínio\x20extraído\x20do\x20caminho\x20SSL:','toUpperCase','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20└','tags','Fluxo\x20id\x20\x27','END:VCARD','19020nQVmuL','varedit','parseInt','getRandomText','editflow','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20conectar\x20ao\x20whatsapp','goToFlow','buttonId','delayChatLabel_RETRY_DELAY_MS','webhook','/wa-connection-update','unlocked','normalizeMessage','\x1b[37m%s\x1b[0m','Error\x20removing\x20IPv6\x20address:\x20','removeIPv6','VERBOSE','bulkWrite','groups_ignore','contact_blacklist','subjectTime','):\x20A\x20mensagem\x20não\x20foi\x20enviada\x20pelo\x20bot','):\x20expirationTime:\x20','sendReaction','/instance','):Image\x20converted\x20to\x20WebP','):\x20Erro\x20ao\x20salvar\x20a\x20conversa\x20no\x20BD:\x20','vcard','.ppt','Não\x20é\x20permitido\x20adicionar\x20outro\x20bloco\x20padrão','uploadPreKeys',',\x20resultado:\x20','now','muteEndTime','IPv6\x20prefix\x20or\x20network\x20interface\x20not\x20detected.\x20Cannot\x20create\x20IPv6.','replaceVariablesInObject','delay','delete','contactMessage','\x1b[31m%s\x1b[0m','proto','creds.json','\x20:\x20','getMIMEType','):\x20conversation.waitingMenu_name','application/octet-stream','):\x20Procurando\x20mensagens\x20para\x20envio','):Alterar\x20configuração\x20de\x20mudo\x20para\x20o\x20chat:\x20','):\x20Os\x20fluxos\x20estão\x20desativados\x20para\x20','):\x20whoCanUse\x20before\x20validation:\x20','isJidBroadcast','$dbName','/instance/connect','contactsArrayMessage','?timestamp=','vote','editConversation','AddChatLabel','color','leadInfo.customFields','_Chats','generateRandomIPv6','Invalid\x20format','Bloco\x20com\x20ID\x20','):\x20Bloco\x20tem\x20apirequest.body,\x20adicionando\x20bodyString','Erro\x20ao\x20substituir\x20variáveis\x20para\x20','fetchBusinessProfile','subject','sendWhatsAppAudio','Erro\x20ao\x20copiar\x20o\x20documento','updateMissingEtiquetas','The\x20global\x20api\x20key\x20must\x20be\x20set','IPv6\x20address\x20removed:\x20','boolean','_error','Erro\x20ao\x20editar\x20condição\x20do\x20fluxo','dbSettings','dbServer','Para\x20criar\x20fluxo\x20global,\x20você\x20precisa\x20usar\x20a\x20apikey\x20global','\x20não\x20encontrado','Error\x20parsing\x20JSON:','getLabelModelForOwner','testingWith','Erro\x20ao\x20atualizar/inserir\x20o\x20chat\x20','globalShow','deleteflow','contacts','messageType','sendMenu','namespace','licenca','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20contato:\x20','AppStateSyncKeyData','A\x20licença\x20não\x20é\x20válida,\x20interrompendo\x20a\x20aplicação.','env.KEY\x20!==\x20key','stderr','):\x20alterando\x20this.AutomateSystem','https://jsonip.com','local_map','Erro\x20ao\x20migrar\x20fluxos\x20do\x20proprietário\x20\x27','sendContact','jid','Chat\x20e\x20mensagens\x20deletadas\x20com\x20sucesso.','SERVER_PORT','ReplyOption\x20com\x20ID\x20','\x1b[30m','string','The\x20property\x20cannot\x20be\x20empty','shift','StartBot','retrySendMessage','Falha\x20ao\x20deletar\x20mensagens\x20antigas:\x20','createOrUpdate','dataValidate','storePath','deleteDoneMessages','updateProfileName','redisEnv','listen','\x20}\x0a','REDIS_ENABLED','not_announcement','uazapiSendAudio','):\x20Ignoring\x20group\x20messages.','CHATS_UPDATE','Invalid\x20PreKey\x20ID','getProfileName','\x0aitem','authState','notContains','arrayUnique','toArray','STORE_CHATS','mediaMessage','PORT','startFlowWebhook','deleteConversation','CONTACTS_UPSERT','authModel','values','Error\x20testing\x20IP\x20with\x20','recebido\x20de','):\x20Erro\x20ao\x20iniciar\x20fluxo:\x20','release','Erro\x20ao\x20remover\x20label\x20','Variáveis\x20não\x20encontradas:','E-mail:\x20','):\x20Going\x20to\x20','URL','groupLeave','refused','existsSync','/group','getUniqueFlowName','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfilePicture','interval\x20não\x20é\x20um\x20número','info','CORS','Erro\x20ao\x20editar\x20configuração\x20de\x20fluxos','\x1b[34m%s\x1b[0m','):\x20Mensagem\x20enviada\x20pelo\x20dono\x20do\x20bot,\x20saindo...','Last\x20message\x20not\x20found','ERROR','lastFetchAwaitingApproval','delayChatLabel','cachedContacts-whatsapp','Content-Type','-instances','getConversation','canSendMessage','delayChatLabel_MAX_RETRIES','USER','createClient','inviteUrl','flowIgnoreGroups','instancias:\x20','Deletion\x20failed','\x1b[36m','padStart','Erro\x20ao\x20buscar\x20fluxos:','updateGParticipant','class-validator','no.connection','RemoteJid:','restrict','number','ignoreGroups','Internal\x20Server\x20Error','method','configureIPv6','owner','groupUpdateDescription','width','):\x20Flow\x20\x27','ipv6Prefix','\x27\x20transferidos\x20para\x20a\x20coleção\x20centralizada.','expiration','/automate','\x20-\x20ON:\x20','state','beforeExit','restartInstance','promote','Primeiro\x20Valor:\x20','sem\x20texto\x20na\x20mensagem','shareFlow','/media/','fone','static','Error\x20in\x20scheduleNextCheck:\x20','getFlow','valid','Erro\x20ao\x20tentar\x20encerrar\x20a\x20API','latitude','STORE_CONTACTS','isJidUser','audio/ogg;\x20codecs=opus','menuExpiredMessage','saveVariable','uazapiSendMenu','.mp3','removeInstance','write','fetchChats','convertaudio','):\x20whoCanEdit\x20after\x20validation:\x20','express-async-errors','Erro\x20ao\x20editar\x20o\x20bloco:\x20','autoCompleteMessages','\x1b[32m','createConversationforgoToFlow','/events/:instance','isValidIPv6Config','):Business\x20profile\x20fetched','upsertedCount','#6f7bcf','Falha\x20ao\x20processar\x20a\x20solicitação\x20-\x20No\x20join\x20group\x20invite\x20code\x20or\x20url','senderKeyDistributionMessage','\x20tentativas.','processblock','https://uazapi.bubbleapps.io/api/1.1/wf/verificar/','pow','pollCreationMessageV3','saveMediaToFile','.gif','Instance\x20restarted','envProcess','configService','processUazapi','admin_add','noConnection','updateProfilePicturePrivacy','PASSWORD','Authentication\x20error','Erro\x20ao\x20iniciar\x20o\x20fluxo.','SendScheduleMessage','Subdomínio\x20extraído\x20da\x20URL:','\x20-i\x20','WA\x20MODULE','):\x20Editando\x20variável\x20do\x20fluxo...','contacts.update','authentication','detail','findGroup','menuIgnoreNonVotes','deleteBlock','Database\x20connection\x20closed.','Error\x20while\x20deleting\x20message\x20for\x20everyone','):Temp\x20image\x20deleted','.webp','pollMessageOnDelete','removeProfilePicture','cwd','desativadoFluxoAte','enviado\x20para','\x27\x20removido\x20do\x20AutomateSystem.','#92ceac','uazapiSendMedia','\x20não\x20está\x20funcionando,\x20removendo...','varedits','):\x20Label\x20','/wa-groups','#9ba6ff','sendPoll','groupadd','groupAcceptInvite','descId','DARK','URL\x20completa:','\x0a*Você\x20respondeu*:\x0a','randomMac',',\x20lastCondition:\x20','):\x20teve\x20mudanças\x20chat.archived:\x20','SECRET','Falha\x20ao\x20processar\x20a\x20solicitação\x20findGroups','/instance/fetchInstances','max','):\x20Buscando\x20todos\x20os\x20fluxos...','#9ab6c1','waInstances','listResponseMessage','requestFile','EXPIRIN_IN','inviteCodeDetails','hasOwnProperty','findAndUpdateCacheContact','pop','status.instance','scheduleFlow','reviver','):\x20Adicionando\x20\x27','buttons','splice','):\x20transformedCustomFieldVariables','):\x20Fetching\x20and\x20updating\x20profile\x20with\x20jid:\x20','end','blockLogs','API\x20Key\x20from\x20Request:','_Contacts','deleteImportedChat','connectedClient','/wa-all-message','Subscribed\x20Events:','prototype','):Converted\x20image\x20deleted','pino','flowStopMinutes','and','minutesToClose','exec','DEBUG','):\x20Criando\x20nova\x20conversa[createConversationforStartFlow]','sendMessageAck','COLOR','Removidas\x20as\x20variáveis:\x20','Error\x20fetching\x20group','g-t','axios','Missing\x20global\x20api\x20key','Erro\x20ao\x20fazer\x20parse\x20do\x20JSON:\x20','\x22\x20-\x20NOT\x20CONNECTION','expression','menuMessage','@whiskeysockets/baileys','isCommunityAnnounce','):\x20Índice\x20do\x20bloco\x20a\x20ser\x20atualizado:','Campo\x20personalizado\x20não\x20encontrado\x20para\x20o\x20nome\x20','blocks','$pull','toLowerCase','del','createJid','store','success','^[a-zA-Z0-9]+@[a-zA-Z0-9]+$','):\x20\x27Enviando\x20audio\x20para\x20\x27','[RETRY]\x20-\x20mensagem\x20recuperada\x20do\x20cache','qrcode.updated','getMessageModelForOwner','):Error\x20in\x20converting\x20audio','endsWith','createIPv6','Fluxo\x20agendado\x20pelo\x20fluxo\x20','getUpdate','):\x20Não\x20achou\x20flow\x20de\x20teste,\x20buscando\x20o\x20fluxo\x20padrão...','loadWebhook','request\x20received\x20in\x20createFlow','events','Erro\x20ao\x20verificar\x20o\x20número\x20no\x20WhatsApp.','#d8e651','):\x20delete\x20=\x20true','endSession','\x20chats\x20de\x20','stopWhenYouSendMsg','min','messageContextInfo','ip\x20-6\x20addr\x20show\x20dev\x20','insertMany','):Audio\x20converted\x20and\x20stored\x20in\x20cache','getOwnPropertyNames','https://api.elevenlabs.io/v1/text-to-speech/','processScheduleFlow','Erro\x20ao\x20atualizar\x20o\x20AutomateSystem.','padEnd','author','editChat','@s.whatsapp.net','Erro\x20ao\x20aplicar\x20varedit:\x20','updateConversation','prepareWAMessageMedia','announce','choices','):\x20Conversa\x20inserida\x20com\x20sucesso.','):\x20não\x20encontrou','The\x20message\x20is\x20not\x20of\x20the\x20media\x20type','cleaningUp','startsWith','Falha\x20ao\x20processar\x20a\x20solicitação\x20getBase64FromMediaMessage','SEND_MESSAGE','CREDENTIALS','STATUS_INSTANCE','editedMessage','Read\x20messages','all','[AUTH]\x20Database\x20is\x20not\x20enabled','createInstance','drop','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupGetInviteInfo','updateChatGroupData','API\x20Key\x20inválida\x20ou\x20instância\x20não\x20encontrada.','O\x20campo\x20id\x20é\x20obrigatório\x20para\x20editar/criar\x20um\x20chat.','findAndReplaceRegex','Erro\x20ao\x20arquivar\x20chat','app','updateCustomFields','messageTimestamp','profilePicture','hGetAll','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20mídia.','Safari','uazapiSendLocation','Type\x20not\x20found','Servidor\x20de\x20autenticação\x20offline.\x20Nova\x20tentativa\x20em\x20','equal','error_log','Atualização:\x20','scheduleNextCheck','replaceOne','groupToggleEphemeral','pollOnReplyDelete','editFlowCondition','findOne','.X-ABLabel:Celular\x0a','beautifyWithPlaceholders','):\x20updateResult:','\x20minutos...','Erro\x20ao\x20atualizar\x20o\x20fluxo:','GET','chatHandle','bodyStringErrorParse','use','js-yaml','HeaderType','getContentType','messageHandle','^\x5cd+','editflowvaredit','generateWAMessageFromContent','Erro\x20ao\x20alterar\x20fluxo','cleanStore','replyOptionId\x20é\x20necessário\x20para\x20deletar\x20um\x20replyOption','oldValue','startID','cors','/startFlow/:instance/:startID','):\x20Bloco\x20original\x20para\x20cópia:\x20','getflow','\x22\x20cannot\x20be\x20empty','STORE','formatBRNumber','):\x20Erro\x20ao\x20enviar\x20mensagem\x20para\x20','Erro\x20ao\x20deletar\x20o\x20fluxo:\x20','presence.update','apikey','extractPhoneNumber','getBase64FromMediaMessage','Não\x20é\x20permitido\x20deletar\x20o\x20bloco\x20padrão','updateFlowConfig','desc','webhookService','last_update','):including\x20timestamp\x20in\x20url:\x20','limit','editFlowGroup','stopMinutes','instanceCount','initAuthCreds','blockId','Erro\x20ao\x20editar\x20o\x20replyOption:\x20','JWT','archiveChat','LEVEL','src','ip\x20-6\x20addr\x20del\x20','Last\x20message\x20not\x20found\x20for\x20number:\x20','lastBlockId','\x27\x20do\x20banco\x20de\x20dados...','role','chat\x20não\x20encontrado','):\x20condições\x20atendidas,\x20parando\x20verificação...\x20em\x20','matchRegex','):\x20[messages.update]\x20group\x20ignored','crypto','Subdomínio\x20final:','cachedContact','not\x20loaded','READ','187762ECGNnC','):\x20não\x20é\x20um\x20voto\x20e\x20estava\x20esperando\x20por\x20um','updateMissingCustomFields','whatsappNumbers','promisify','buttonMessage','goNextblock','messageId','):Updating\x20chat\x20in\x20repository\x20for\x20number:\x20','throwAndLogError','The\x20group\x20invite\x20code\x20needs\x20to\x20be\x20informed\x20in\x20the\x20body','Erro\x20ao\x20editar\x20variável\x20do\x20fluxo','nomecompleto','updateReplyOption','paused','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','test','stopConversation','updatePresence','Nenhuma\x20conversa\x20encontrada\x20para\x20deletar.','maxActives','StartID:','execSync','unavailable','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto:\x20','setHeader','group-participants.update','startFlow','Owned\x20media\x20must\x20be\x20a\x20url\x20or\x20base64','loadEnv','Erro\x20ao\x20atualizar\x20AutomateSystem:','logger','editScheduleMessage','saveCreds','Falha\x20ao\x20limpar\x20os\x20logs\x20do\x20PM2.','round','PREFIX_KEY','dbClient','whatsappNumber','findConversation','imported','segundos','Button\x20texts\x20cannot\x20be\x20repeated','):\x20Ler\x20mensagem','logout','ON\x20-\x20dbName:\x20','55231gUCtGE','Erro\x20ao\x20normalizar\x20a\x20mensagem:','Failed\x20to\x20parse\x20the\x20global\x20IPv6\x20address','Instance\x20Name:','315QzagLx','listMessage','deleteChat','reorderReplyOptions','#ff9484','some','FULLCHAIN','findById','webhookModel','params','testIPv6','Falha\x20ao\x20deletar\x20a\x20coleção\x20de\x20mensagens:\x20','LOG_COLOR','The\x20','):\x20Nenhuma\x20variável\x20especificada\x20foi\x20encontrada\x20para\x20remoção','pollUpdateMessage','\x1b[41m','/webhook','/config','API\x20Key\x20mismatch\x20or\x20instance\x20not\x20found\x20in\x20DB!','_activatedCount','):\x20Erro\x20ao\x20buscar\x20a\x20imagem\x20do\x20grupo\x20','count','Flow\x20\x27','entries','):\x20Editando\x20condição\x20do\x20fluxo...','cpf','No\x20suitable\x20network\x20interface\x20found','EMAIL','request\x20received\x20in\x20editFlowvariable','Erro\x20inesperado\x20em\x20processvaredits:\x20','console','):\x20Editando\x20grupo\x20do\x20fluxo...','Selecione','):\x20Enviando\x20áudio','):\x20Nome\x20do\x20arquivo\x20gerado:\x20','updateProfileStatus','msgRetryCounterCache','keyPattern','protocolMessage','getDevice','bodyString','_FlowHistorico','command','deleteInstance','deleteAll','Erro\x20ao\x20marcar\x20mensagem\x20como\x20lida','INFO','):\x20Ocorreu\x20um\x20erro\x20durante\x20o\x20processamento:\x20','pollCreationMessage','log','Erro\x20ao\x20criar\x20e\x20salvar\x20um\x20novo\x20fluxo:','Erro\x20de\x20atualização:\x20','utf8','groupMemberAddMode','loggedOut','Error\x20updating\x20cache\x20contact:','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupName','Nenhum\x20participante\x20válido\x20encontrado.','urlOrBase64','truncatedtoEnd','SERVER_URL','upsertChats','sectionsToString','LOG_LEVEL','Database\x20update\x20result:','.pdf','findIndex','conversationTimestamp','formatVCard','fetchProfilePicture','allContacts','updateLastSeenPrivacy','LOG','lastMessage','/instance/connectionState','):\x20Erro\x20na\x20atualização\x20da\x20conversa\x20no\x20BD:\x20','localWebhook','charAt','image','groupRequestParticipantsUpdate','longitude','):\x20teve\x20mudanças\x20chat.ephemeralExpiration:\x20','getScheduleMessage','50mb','atendimentoAberto','networkInterface','\x1b[31m','put','Erro\x20ao\x20importar\x20chats','writeFile','PRODUCT_LIST','conversation','admin','KEY','lastMessage_id','DaysToDelete','messages','fileLength','updateMediaMessage','getStatus','):\x20Envio\x20interrompido\x20devido\x20à\x20desconexão.','findChats','\x20inseridas\x20no\x20banco\x20de\x20dados...','config','#ffae04','Error\x20writing\x20file:\x20','BRL','next_groupId','updateProfilePicture','DATABASE_CONNECTION_PASSWORD','@broadcast','Início','PRESENCE_UPDATE','QRCODE_UPDATED','groupValidate','application/json','nome','CacheContacts\x20database\x20connection\x20closed.','labelId','text/event-stream','):\x20Fluxos\x20do\x20proprietário\x20\x27global\x27\x20transferidos\x20para\x20a\x20coleção\x20centralizada.','contact','toFile','4KxCwQu','\x0a\x0a\x0a\x20\x20██╗░░░██╗░█████╗░███████╗░█████╗░██████╗░██╗\x0a\x20\x20██║░░░██║██╔══██╗╚════██║██╔══██╗██╔══██╗██║\x0a\x20\x20██║░░░██║███████║░░███╔═╝███████║██████╔╝██║\x0a\x20\x20██║░░░██║██╔══██║██╔══╝░░██╔══██║██╔═══╝░██║\x0a\x20\x20╚██████╔╝██║░░██║███████╗██║░░██║██║░░░░░██║\x0a\x20\x20░╚═════╝░╚═╝░░╚═╝╚══════╝╚═╝░░╚═╝╚═╝░░░░░╚═╝\x0a\x20\x20\x0a\x20\x20uazapi\x20-\x20a\x20melhor\x20api\x20para\x20WhatsApp\x0a\x0a\x20\x20','DB_PREFIX_NAME','app-state-sync-key','ListMessage','8080','responsavelid','messageStubParameters','\x20horas\x20e\x20','CORS_CREDENTIALS','CONTACTS_SET','Bad\x20Request','verbose','ContactModel','copyBlock','bearer','createConnection','flushHeaders','MessageModel','DOCKER_ENV','Erro\x20ao\x20iniciar\x20a\x20aplicação:\x20','when','lastSendMessage','instanceInfo','group','isConnected','isAdmin','ScheduleMessageModel','updateGroupParticipantsWebhook','┐\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','optionDescription','action','getLastMessage','):\x20Chat\x20atualizado\x20com\x20sucesso\x20para\x20conversation\x20ID:\x20','\x20mensagens\x20de\x20','connecting','waUploadToServer','chats.update','reactionMessage','Validate','conditions','replaceVariablesChat','pictureUrl','decryptPollVote','writeData','getConversationModelForOwner','Conversa\x20deletada\x20com\x20sucesso.','cacheContact','chats.set','URI','chats.upsert','random','description','user','GUARD','pushName','isBusiness','MESSAGES_SET','none','\x20\x1b[0m','formatStatusMessage','groupParticipantsUpdate','findWebhook','contextInfo','sendAudio','):\x20Erro\x20ao\x20deletar\x20fluxo\x20','statusJidList','):\x20Error\x20processing\x20conditions:\x20','groupJoinApprovalMode','):\x20conversation.status:\x20','452256ibKWhK','mediaSticker','Instâncias\x20desconectadas\x20e\x20seus\x20IPv6\x20removidos:\x20','Generated\x20IPv6:\x20','\x27\x20->\x20','ip\x20-br\x20link\x20show','):\x20Conversa\x20ou\x20próximo\x20bloco\x20não\x20fornecidos','dropCollection','synchronizeAndMapFlows','\x22reaction\x22\x20must\x20be\x20an\x20emoji','sendStatus','ephemeralDuration','replyOptions','sort','Erro\x20ao\x20encontrar\x20ou\x20criar\x20AutomateSystem:','join','checkAndRestartProcess','Log\x20out\x20instance:\x20','/*.json','demote','):\x20Erro\x20ao\x20obter\x20detalhes\x20da\x20mídia:\x20','_remoteJid','getDelay','height','autoCompleteMessages.command_1','displayName','body','exports','):\x20Erro\x20ao\x20enviar\x20mensagem\x20de\x20mídia:\x20','notEmpty','#ffc5c7','request_time','):\x20Não\x20achou\x20nenhum\x20flow','errors','validate','webhookMap','):\x20Buscando\x20conversa...','sendDataWebhook','instance.','Operador:\x20\x22','joinGroup','):\x20Editando\x20replyOption...','Erro\x20de\x20duplicidade\x20no\x20índice\x20autoCompleteMessages.command\x20detectado,\x20removendo\x20índice...','wuid','leadInfo','Error\x20finding\x20many\x20contacts:','normalizeMessageContent','Enter\x20a\x20value\x20in\x20milliseconds','TYPE','toLocaleString','stdout','groups','updateBlock','Falha\x20ao\x20processar\x20fetchBusinessProfile','Número\x20da\x20cor\x20inválido\x20ou\x20fora\x20do\x20intervalo:\x20','blockId\x20é\x20necessário\x20para\x20deletar\x20um\x20bloco','):\x20Erro\x20ao\x20enviar\x20mensagens\x20para\x20','webp','hGet','applyvaredit','locationMessage','}}\x20->\x20valor\x20não\x20encontrado','env','http','updatePrivacySettings','find','last','post','editOperator','processingGroup_id','Erro\x20ao\x20atualizar\x20cacheInstance:','instanceName','messageSecret','waitingForReplyMenu','variable','firstValue','editFlowVaredit','open','newValue','Font\x20is\x20required','editflowvariable','close','replyOption','clearVariables','):Image\x20is\x20url','):\x20Buscando\x20conversas...','Erro\x20ao\x20criar\x20fluxo','errorLog','Erro\x20ao\x20avaliar\x20a\x20condição:\x20','.extension','replacer','Cannot\x20','messages.upsert','/message','cleanDisconnectedInstances','Falha\x20ao\x20processar\x20a\x20solicitação\x20findParticipants','):\x20[RETRY]:\x20Falha\x20ao\x20reenviar\x20a\x20mensagem:\x27,\x20','groupHandler','mediatype','):\x20Grupo\x20','):Fetching\x20business\x20profile','updateGroupWebhook','addReplyOption','groupSetting','):\x20Detalhes\x20da\x20mídia\x20obtidos\x20com\x20sucesso.','):\x20Extensão\x20do\x20arquivo\x20encontrada\x20nos\x20tipos\x20comuns:\x20','Erro\x20ao\x20atualizar\x20uma\x20mensagem:','\x20foi\x20interrompido\x20pelo\x20status\x20\x27stopped\x27.','importChatsBatch','messages.set','connection.update','trim','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupDesc','\x20não\x20é\x20um\x20voto\x20enviado\x20pelo\x20usuário','keys','):\x20Parar\x20função\x20pois\x20não\x20está\x20conectado','authService','rm\x20-rf\x20','):\x20nextBlock.uazapi.name','Erro\x20ao\x20verificar\x20e\x20atualizar\x20o\x20status\x20do\x20chat','isArray','):\x20Entrou\x20na\x20função\x20stop','ScheduleMessage','/:instanceName','The\x20instance\x20needs\x20to\x20be\x20disconnected','_id','apiResponse','Input\x20deve\x20ser\x20um\x20array\x20não\x20vazio\x20de\x20chats.','vir','):\x20Erro\x20ao\x20sincronizar\x20os\x20fluxos\x20','Removendo\x20package-lock.json\x20e\x20a\x20dependência\x20específica...','ip\x20-6\x20addr\x20add\x20','):\x20A\x20mensagem\x20é\x20\x22stopConversation\x22\x20=\x20','Nenhuma\x20conversa\x20encontrada\x20para\x20editar\x20ou\x20você\x20não\x20é\x20o\x20proprietário\x20da\x20conversa.','fetchLabels','headerString','evaluateConditionTest','createNewConversation','Falha\x20após\x20várias\x20tentativas.','profileName','done','processgoToFlow','getVariablesChat','deleteMessage','automateSystem','Mensagens\x20deletadas\x20com\x20sucesso.','@g.us','updateReadReceiptsPrivacy','notEqual','PENDING','):\x20Erro\x20durante\x20a\x20atualização:\x20','\x20não\x20encontrado,\x20fazendo\x20nova\x20tentativa\x20em\x20','leadInfo.etiquetas','Instance\x20deleted','AutomateSystem','available','request\x20received\x20in\x20getTicketSystem\x20=\x20getAutomateSystem','updateMessage','context','):\x20Falha\x20ao\x20atualizar\x20as\x20variáveis\x20do\x20chat\x20no\x20BD','ObjectId','inviteCode','):\x20Limpando\x20MASS\x20delayMessage','AUTHENTICATION_JWT_SECRET','processawaitSeconds','viewOnceMessageV2','preview','Próxima\x20verificação\x20de\x20licença\x20e\x20se\x20tem\x20atualização\x20em\x20','menuType','label','):\x20Fluxos\x20do\x20proprietário\x20\x27global\x27\x20já\x20existem\x20na\x20coleção\x20centralizada.','https','Erro\x20ao\x20tentar\x20updateCustomFields','newStoppedUntil','imagechat','flowPrefixCommand','filter','flattenObject','fora\x20do\x20git','findMessages','request\x20received\x20in\x20editFlowcondition',',\x20received\x20','):\x20Comando\x20desconhecido:\x20','uncaughtException','toString','docker','ip6eui','API\x20encerrada\x20com\x20sucesso.\x20Ela\x20será\x20automaticamente\x20reiniciada\x20pelo\x20gerenciador\x20de\x20processos','Mac\x20OS','presenceSubscribe','):Trying\x20to\x20get\x20business\x20profile','):Converting\x20image\x20to\x20WebP\x20to\x20sticker','Error\x20retrieving\x20instance\x20or\x20API\x20Key:','Erro\x20ao\x20buscar\x20a\x20conversa','findContacts','SSL_CONF_PRIVKEY','router','#b4ebff','Erro\x20ao\x20criar\x20fluxo\x20compartilhado','instance','waMonitor','\x20segundos\x20antes\x20de\x20reconectar...','SERVER_TYPE','):Image\x20is\x20base64','updateAgent','AUTHENTICATION','Module\x20-\x20ON','Variável\x20não\x20encontrada!','Falha\x20ao\x20remover\x20os\x20arquivos\x20necessários.','item','Fluxo\x20não\x20encontrado\x20na\x20memória.','flows','qrCode','unreadcount','qrcode-terminal','stateConnection','update','File\x20name\x20and\x20mimetype\x20extension\x20are\x20not\x20defined\x20in\x20the\x20media\x20message','\x1b[42m','awaitingApproval','timeout','request\x20received\x20in\x20allFlows','save','g.us','_pushName','true','_activedCount','stopIfLastReturnedError','title','secondValue','readFileSync','Deleted\x20','apiName','connectionState','PLAYED','\x20and\x20data:','groupBetterSetting','https://chat.whatsapp.com/','gifPlayback','joinGroupValidate','result','Erro\x20desconhecido\x20ao\x20deletar\x20mensagens','):Archiving\x20chat','message_normalized','):\x20Encontradas\x20e\x20removidas\x20as\x20variáveis:\x20','Partes\x20do\x20caminho\x20FULLCHAIN:','/wa-chats','.png','exists','TEL','Subdomínio\x20não\x20encontrado','\x27\x20não\x20encontrado\x20no\x20banco\x20de\x20dados\x20ou\x20você\x20não\x20pode\x20usar\x20esse\x20fluxo','creds','\x0a{\x20instance:\x20','ENABLED','):\x20Enviado\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','spawn','flow','leaveGroup','statSync','readMessages','AutomateFunctions','Configuração\x20SSL\x20recuperada:','contacts.upsert','@redis/client','convertaudioMP3','):\x20leadInfoVariables','birthtime','footerText','delAll','deleted','):\x20Erro\x20ao\x20pesquisar\x20a\x20conversa:\x20','whoCanUse','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20áudio.','https://uazapi-plugin.bubbleapps.io/?url=','#01d0e2','stringify','/64\x20dev\x20','):Processing\x20audio','integer','groupMetadata','remoteJid','Valor\x20inválido\x20para\x20formatação\x20brasileira:\x20','status@broadcast','picture','BufferJSON','):\x20Tipo\x20de\x20conteúdo\x20identificado:\x20','extractRegex','):\x20Visualizando\x20AutomateSystem','):\x20Rótulo\x20atualizado:\x20','_Flows','?authSource=admin&readPreference=primary&directConnection=true','updateGParticipate','toBrazilianNumberFormat','data','chat','.mimetype','scheduleSendAudio','):\x20[RETRY]:\x20Máximo\x20de\x20tentativas\x20alcançado,\x20desistindo\x20de\x20recuperar','GROUPS_UPSERT','\x1b[33m\x1b[1m','Parando\x20aplicação...','updateOne','pollCreationMessageKey','createConversationforStartFlow','imgUrl','ini','indexOf','qrcode','prepareMediaMessage','connectToWhatsapp','downloadMediaMessage','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupBetterSetting','Valor\x20da\x20URL\x20recuperada:','Falha\x20ao\x20processar\x20a\x20solicitação','writeFileSync','createWebhook','profile','poll','Nenhum\x20fluxo\x20encontrado\x20para:\x20','groupSettingUpdate','Filtered\x20network\x20interfaces:\x20',',\x20qrcodeCount:\x20','Erro\x20ao\x20deletar\x20chat:','encoding','editflowcondition','generateHash','stickerMessage','):\x20Enviado\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','OrAnd','pairingCode','deleteReplyOption','imageMessage','sections','findManyByIds','isCommunity','forEach','split','messagesSend','Instance\x20\x22','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização.','#00a1f2','addresss','waitingMenu_ExpiredMessage','https://api64.ipify.org?format=json','saveTextReply','LICENSE_INVALID','sendMessage','Message\x20not\x20found','descOwner','getOwnPropertyDescriptor','flowConversation','default','updateGroupPicture','apply','setWebhook','):\x20','caption','#ffffff','findAll','path','):\x20Erro\x20ao\x20buscar\x20todos\x20os\x20fluxos\x20','):\x20Deletando\x20mensagem','TEXT','send','text','Instance\x20logged\x20out','participants','less','For\x20bse64\x20the\x20file\x20name\x20must\x20be\x20informed.','__esModule','FlowController','Nenhum\x20chat\x20fornecido\x20para\x20inserção.','Erro\x20ao\x20iniciar\x20fluxo:\x20',',\x20Minutes\x20to\x20Close:\x20','length','toDataURL','lastInteraction','revokeInviteCode','query','Parando\x20aplicação,\x20atualização\x20recebida','evaluateCondition','CHATS_DELETE','Connection\x20closed\x20for\x20instance:\x20','model','audio','):\x20Flow\x20desativado','list','Instância\x20não\x20encontrada.','#000000','editFlow','Atingido\x20interações\x20máximas,\x20parando\x20fluxo','fullName','redis','):\x20Enviando\x20localização','\x27\x20a\x20\x27whoCanEdit\x27\x20do\x20fluxo\x20\x27','Error\x20in\x20chatModify\x20for\x20number\x20','groupUpdateSubject','Regularize\x20sua\x20licença\x20no\x20site\x20https://uazapi.dev/','findOrCreate','instanceName\x20not\x20provided.','inet6','quoted','getAutomateSystem','repository','getTime','Fluxos\x20encontrados\x20de\x20\x27','):\x20Conversa\x20está\x20expirada','stopMinutesMaxActives','RemoveChatLabel','sendList','order','redis://127.0.0.1:6379','importChats','\x1b[37m','from','Falha\x20ao\x20processar\x20a\x20solicitação\x20removeProfilePicture','findOneAndUpdate','):\x20Mensagem\x20já\x20enviada\x20para\x20','inner','phoneNumber','telefone','lowerCase','variablesToObject','NextBlock','reconnectAttempts','enabled','):Image\x20path:\x20','sha256','Group\x20not\x20found','\x22participants\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','Background\x20color\x20is\x20required','url','updateChatWithMessage','AddUserFlow','[RETRY]:\x20Mensagem\x20enviada\x20com\x20sucesso','groupRequestParticipantsList','):\x20Criando\x20fluxo...','Erro\x20ao\x20deletar\x20mensagens\x20com\x20status\x20done','isBase64','CHATS_SET','userDevicesCache','mentions','array','):Archiving\x20chat\x20in\x20client\x20for\x20number:\x20','fetchConversation','request\x20received\x20in\x20updateFlowConfig','Tentando\x20reconectar...','remote\x20\x22origin\x22','https://','Router','):\x20Editando\x20bloco...','variablesNotFound','getContactModelForOwner','):\x20atualização\x20chat:\x20','./.git/config','created','replaceValue','loadInstance','^\x5cd+([-]\x5cd+)*@g.us$','):\x20Error\x20processing\x20the\x20block:\x20','SINGLE_SELECT','remove.instance','jsonwebtoken','lastSend','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand\x20ou\x20você\x20não\x20tem\x20permissão\x20para\x20usá-lo','\x22profilePicture\x22\x20must\x20be\x20a\x20url\x20or\x20a\x20base64','connect','DELETED','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20localização:\x20','font','emit','.webm','moreLogs','):\x20Flow\x20ativado\x20e\x20não\x20desativado\x20pelo\x20LeadInfo,\x20fazendo\x20outras\x20verificações','SERVER_ACK','superadmin','Erro\x20ao\x20buscar\x20Schedule\x20Messages','selectableCount','documentWithCaptionMessage','Contacts\x20not\x20found','scheduleMessage','auth','editFlowVariable','groupGetInviteInfo','):Error\x20occurred\x20while\x20archiving\x20chat:\x20','variables','linkPreview','):\x20Removendo\x20\x27','ex:\x20\x22groupJid=120362@g.us\x22','block','Fluxo\x20\x27',',\x20Segundo\x20Valor:\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20global\x20para\x20o\x20evento\x20','Request\x20Body:','isValidAndUniqueIPv6','agents','collections','mentioned','fetchInstances','groups.update','WebhookGlobal','CONNECTION_UPDATE','reconnectTimestamps','flowConfig','removeChatLabel','):\x20enviado\x20para\x20[','findGroupInfo','status','createServer','hex','waitingMenu_replyOptions','):\x20this.processing_id:\x20','O\x20campo\x20_id\x20é\x20obrigatório\x20para\x20editar\x20uma\x20conversa.','):\x20Buscando\x20flow,\x20id:\x20','migrateFlowsToCentralizedCollection','CONNECTION','#83e421','updateOnlinePrivacy','Não\x20é\x20possível\x20deletar\x20um\x20grupo\x20que\x20tem\x20blocos\x20vinculados.','Limpando\x20logs\x20do\x20PM2...','contains','start','option','Erro\x20ao\x20editar\x20a\x20conversa','routerPath','value','toBRL','):\x20Não\x20foi\x20encontrado\x20fluxo\x20com\x20esse\x20startCommand','):\x20Está\x20configurado\x20para\x20parar\x20até\x20','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:\x20','processConditions','fetchPrivacySettings','activatedCount','name','content-type','Telefone:\x20','leadInfo.','public','repeat','Falha\x20ao\x20processar\x20a\x20solicitação\x20toggleEphemeral','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileName','Instâncias\x20removidas:\x20','flowActive','):\x20Mensagem\x20manual\x20detectada.\x20Fluxo\x20pausado\x20até\x20','compression','groupDesc','mongoose','\x1b[33m%s\x1b[0m','):\x20Condições\x20para\x20criar\x20uma\x20nova\x20conversa\x20com\x20base\x20em\x20um\x20fluxo\x20satisfeitas.','includes','jpegThumbnail','/events','Erro\x20ao\x20buscar\x20conversas','scheduleSendText','FlowRouter','Não\x20respondeu\x20com\x20a\x20enquete.','express','Valor\x20inicial:\x20\x22','Erro\x20ao\x20inserir\x20chats:','groupJid','getTicketSystem','Error\x20removing\x20unused\x20chat\x20fields:','):\x20Entrou\x20na\x20função\x20goToFlow','floor','removeData','readMessageBot','code','):\x20debug\x20alterando\x20this.AutomateSystem','):\x20Entrou\x20na\x20função\x20scheduleFlow','Você\x20não\x20tem\x20permissão\x20para\x20ver\x20o\x20fluxo\x20\x27','uazapiDeleteMessage','redirect','Instância:\x20','lean','Não\x20é\x20permitido\x20deletar\x20o\x20grupo\x20padrão','fetchProfile','addChatLabel','remoteJids','updateMissingTags','Falha\x20ao\x20processar\x20a\x20solicitação\x20de\x20prepareMediaMessage','setting','\x20adicionado\x20ao\x20chat\x20','DELIVERY_ACK','\x1b[36m%s\x1b[0m','media','stopped','\x22\x20not\x20found','closeExistingConversations','):\x20Criando\x20fluxo\x20compartilhado...','cacheInstanceModel','Flow\x20iniciado','toNumber','\x20foi\x20removido\x20por\x20não\x20ser\x20válido.','sendMedia','/instance/delete','[RETRY]\x20-\x20mensagem\x20perdida\x20-\x20iniciar\x20recuperação','InstancesAlterarTodas','\x1b[32m%s\x1b[0m','convertedOptions','collection','call','\x20instance\x20does\x20not\x20exist','updateStopChat','WARN','.ogg','pollCreationMessageV2','Not\x20Found','uuid','fetchStatus','composing','creation','child_process','Expected\x20a\x20Buffer\x20but\x20received\x20a\x20Transform\x20or\x20other\x20type.','lastCondition','closed','markMessageAsRead','):\x20Criou\x20conversa\x20no\x20startFlowWebhook','):\x20Conversas\x20existentes\x20marcadas\x20como\x20fechadas.','contactHandle','chatLog','rows','connectionStatus','scheduled','request\x20received\x20in\x20getConversation','request\x20received\x20in\x20fetchConversation','removed','isListOfNumbers','Falha\x20ao\x20processar\x20a\x20solicitação\x20updateProfileStatus','3419784ARJTDc','saveChatVariables','):\x20customFieldVariables','getMessage','\x22statusJidList\x22\x20must\x20be\x20an\x20array\x20of\x20numeric\x20strings','delayMessage','):\x20tem\x20blocks','.\x20Aguardando\x20','getPrototypeOf','processvaredits','Falha\x20ao\x20processar\x20a\x20solicitação\x20send_message,\x20numero:\x20','mongodb','getBusinessProfile','cachedData-whatsapp','):\x20\x27Enviando\x20texto\x20para\x20\x27','):\x20Iniciando\x20bot...','fetchLatestBaileysVersion','condition','allFlows','object','set','):\x20lastBlockId:\x20','sendPresenceUpdate','BEGIN:VCARD\x0aVERSION:3.0\x0aN:','base64','quotedMessage','type','slice','):\x20newFirstValue\x20após\x20replaceVariables:','catch','online','textMessage','updateOneById','):\x20Fluxo\x20\x27','exit','memberAddMode','Quantidade\x20limite\x20de\x20QR\x20Codes\x20emitidos\x20alcançada,\x20crie\x20outra\x20instância...','remoteJidsRemaining','Modelo\x20de\x20proprietário\x20não\x20pôde\x20ser\x20criado\x20para:\x20','\x1b[47m','resetReconnectionVariables','temp-','reaction','hDel','replaceVariablesLogs','sticker','Não\x20foi\x20possível\x20encontrar\x20ou\x20criar\x20o\x20sistema\x20de\x20automação.','editflowblock','editFlowReply','flowName','):\x20Usando\x20extensão\x20padrão:\x20','email','uazapiSendText','.xls','updateParticipant','request\x20received\x20in\x20deleteDoneMessages','flush','):\x20Encontrou\x20conversa\x20no\x20startBot:\x20','.error','!cmd_','response','groupId',',\x20valor\x20a\x20encontrar:\x20\x22','audioWhatsapp','map','):\x20fora\x20do\x20catch\x20->\x20sender\x20=\x20number:\x20','presence','API_KEY','\x20minutos','Fluxos\x20não\x20estão\x20ativados','startCommand','Partes\x20do\x20domínio:','reorderBlocks','):\x20Fluxos\x20sincronizados\x20e\x20mapeados\x20com\x20sucesso.','.doc','connectToWhatsappController','[all]','ERROR:\x20','REDIS','#d3a91f','capitalizedWords','getScheduleMessageModelForOwner','groupCreate','announcement','match_last_seen','currency','sendLocation','):\x20Entrou\x20na\x20função\x20saveReply','):Audio\x20processed','editflowreply','message','global','AUTHENTICATION_TYPE','fromMe','Erro\x20ao\x20buscar\x20o\x20fluxo','parse','GROUPS_UPDATE','reference','\x20ao\x20chat\x20','replaceVariables','envYaml','CHATS_UPSERT','SERVER','#9568cf','keep-alive','):\x20\x27Deletando\x20fluxo,\x20id:\x20','https://v6.ident.me','):\x20Buscando\x20flow...','fetchMessages','notas','unhandledRejection','viewOnceMessage','size','whoCanEdit','groupdata','Database\x20is\x20not\x20enabled','):\x20newSecondValue\x20após\x20replaceVariables:','participant','options','pre','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20texto.','groupName','replaceVariablesInReplyOptions','DATABASE_ENABLED','customFields','eventHandler','create','\x20minutos.\x20Será\x20às\x20','IP\x20confirmed:\x20','\x1b[1m','sharp','Falha\x20ao\x20processar\x20a\x20solicitação\x20groupSetting','notMatchRegex','ex:\x20\x22H097Xo5VT8J9xjkbJZFhBr\x22\x20or\x20\x22https://chat.whatsapp.com/H097Xo5VT8J9xjkbJZFhBr\x22','\x20-y','messages.update','profilePictureUrl','fetchContacts','SERVER_OFFLINE','):\x20Erro\x20ao\x20processar\x20o\x20bloco:\x20','locked','):\x20Enviando\x20mídia','readMessage','RECONNECT_TIME_FRAME','yes','digest','Instance\x20Key\x20from\x20DB:','.svg','mongodb://','Erro\x20ao\x20editar\x20o\x20chat','hbs','isJidGroup','jsonschema','):\x20Enviando\x20texto','updateMany','abs','readreceipts','greater','Total\x20de\x20fluxos\x20transferidos\x20para\x20a\x20coleção\x20centralizada:\x20','):Image\x20created','editflowgroup','chats','DATABASE','request\x20body:\x20','.wav','request\x20received\x20in\x20editFlow','isInteger','load','/wa-presence','deleteMany','Nenhum\x20chat\x20encontrado\x20para\x20editar.','):\x20Detalhes\x20da\x20mídia\x20salvos\x20para\x20\x27','all_member_add','fileUrl','Types','Instance\x20ID:','send.message','$set','key','add','ORG:','out','):\x20error:\x20','Creating\x20or\x20updating\x20instance\x20with\x20id:\x20','Pausado\x20por\x20','\x5c$&','archive','Não\x20foi\x20possível\x20conectar\x20ao\x20servidor\x20após\x20várias\x20tentativas,\x20encerrando\x20a\x20aplicação.','connectionUpdate','20TAnlUh','match','Erro\x20ao\x20deletar\x20mensagens:','importChatsAntigo','504goSLlK','Configured\x20IPv6:\x20','groups.upsert','removeUnusedChatFields','DATABASE_CONNECTION_HOST','):\x20Envio\x20para\x20as\x20mensagens\x20de\x20id\x20','/media','json','sleep','messaging-history.set','data:\x20','):\x20Falha\x20ao\x20deletar\x20mensagem:\x20','Você\x20não\x20tem\x20permissão\x20para\x20editar\x20este\x20fluxo.','An\x20error\x20occurred\x20while\x20archiving\x20the\x20chat.\x20Open\x20a\x20calling.','apirequest','audioMessage','waitingMenu_id','rowId','labels.edit','Usando\x20IP\x20existente:\x20','):\x20Conversa\x20atualizada\x20em\x20memória','updateAutoCompleteMessages','startCommandWord','):\x20\x20[RETRY]:\x20Tentando\x20reenviar\x20a\x20mensagem,\x20Tentativa:\x20','Erro\x20ao\x20atualizar\x20o\x20flow.','_Labels','Nenhum\x20campo\x20válido\x20para\x20atualização\x20fornecido.','/wa-qrcode','processPollUpdateMessage','):Delete\x20chat\x20in\x20client\x20for\x20number:\x20','):\x20Nenhuma\x20mensagem\x20pronta\x20para\x20enviar.','\x20quoted:\x20','Error\x20detecting\x20IPv6\x20prefix\x20and\x20interface:','get','ms\x20(tentativa\x20','.docx','Error\x20adding\x20IPv6\x20address:\x20','findFlow','archived','Error\x20updating\x20message\x20status:','ButtonsMessage','uazapi','findGroups','statusCode','):\x20Falha\x20ao\x20converter\x20stopMinutes\x20para\x20um\x20número','):\x20não\x20encontrado\x20próxima\x20mensagem,\x20fará\x20nova\x20verificação\x20em\x20','has','eventEmitter','IPv6\x20address\x20configured:\x20','\x27\x20de\x20\x27whoCanUse\x27\x20do\x20fluxo\x20\x27','pollMessage','\x27...','):\x20Falha\x20ao\x20enviar\x20mensagem\x20de\x20enquete.','saveConversationToDatabase','sendButtons','request\x20received\x20in\x20editConversation','Network\x20interfaces\x20detected:\x20','\x20não\x20encontrado\x20para\x20atualização.','request\x20received\x20in\x20deleteConversation','sendMessageWithTyping','format','https://github.com/uazapi/uazapi.git','):\x20condições\x20não\x20totalmente\x20atendidas,\x20executando\x20AutomateFunctions...','notify','organization','push','createFlow','insert','Not\x20is\x20business\x20profile','CONECTADO\x20À\x20UAZAPI','detectIPv6PrefixAndInterface','Data\x20inválida\x20fornecida','):Failed\x20to\x20archive\x20chat\x20in\x20repository\x20for\x20number:\x20','):\x20Erro\x20ao\x20enviar\x20para\x20webhook\x20local\x20para\x20o\x20evento\x20','\x27\x20já\x20existem\x20na\x20coleção\x20centralizada.','https://uazapi-plugin.bubbleapps.io/','buttonText','createAndSave','../env.yml','modifiedCount','\x5cd+','Schema','STORE_CLEANING_TERMINAL','):\x20Alterando\x20fluxo...','findParticipants','substring','/wa-message','Message\x20absent\x20from\x20node','\x20depois\x20','delaySecMax','assign','\x1b[0m','CONTACTS_UPDATE','document','bateu\x20events','@ffmpeg-installer/ffmpeg','):\x20Fluxos\x20do\x20proprietário\x20\x27','uazapiSendContact','):Cached\x20audio\x20found,\x20returning\x20existing\x20file','reject',',\x20Novo\x20tamanho:\x20','):\x20Chat\x20atualizado\x20com\x20sucesso\x20no\x20BD.\x20ID:\x20','):\x20A\x20atualização\x20no\x20BD\x20da\x20conversa\x20não\x20foi\x20bem\x20sucedida','labels.association','sendText','mediaKey','content','request\x20received\x20in\x20updateAutoCompleteMessages','isURL','verifyWhatsAppNumber','findAndReplace','website','Número\x20não\x20possui\x20WhatsApp.','\x27\x20não\x20encontrado','instanceKeys','\x20segundos','empty','):\x20Procurando\x20conversa','GROUP_PARTICIPANTS_UPDATE','unknown\x20operation\x20type\x20[','realVariables','video','git\x20fetch\x20&&\x20git\x20reset\x20--hard\x20origin/main\x20&&\x20git\x20pull\x20&&\x20npm\x20install\x20--unsafe-perm','restart','):\x20conversation.lastInteraction:\x20','createHash','Erro\x20na\x20função\x20updateChatWithMessage:\x20','setNewValue','cacheInstanceRepository','chats.delete','rm\x20-f\x20package-lock.json\x20&&\x20rm\x20-rf\x20node_modules/@whiskeysockets/baileys','privacySettings','\x20removido\x20do\x20chat\x20','chatModify','binary','Esse\x20fluxo\x20não\x20permite\x20importação.','DisconnectReason','originalUrl','basename','):\x20Tentativa\x20de\x20iniciar\x20fluxo,\x20mas\x20os\x20fluxos\x20não\x20estão\x20ativados.','enumerable','arraybuffer','finish','\x1b[34m','MESSAGES_UPSERT','ids','utf-8','warn','groupInviteCode','listType','cache','fileName','requestPairingCode','File\x20written\x20to\x20path:\x20','):\x20Mensagens\x20com\x20status\x20\x22done\x22\x20deletadas\x20com\x20sucesso.','instances','):\x20Entrou\x20na\x20função\x20processawaitSeconds','unreadCount','\x20do\x20chat\x20','approve','createGroup','SSL_CONF','31256vNDTJx','allflows','):\x20currentBlock\x20é\x20null.\x20Não\x20foi\x20possível\x20encontrar\x20um\x20bloco\x20correspondente\x20para\x20lastBlockId:\x20','statusMessage','/instance/create','shareOwners','joinApprovalMode','Erro\x20ao\x20atualizar\x20o\x20sistema.\x20Código\x20de\x20saída\x20','Unauthorized','Imagem\x20não\x20encontrada',',\x20Resultado:\x20','http://checkip.dyndns.org','view\x20engine','truncatedto','ChatRouter','output','address','\x22\x20-\x20REMOVED','#64c4ff','mimetype','changeVariables','EMAIL:','│\x0a\x20\x20\x20\x20\x20\x20\x20\x20│','verifiedName','request\x20received\x20in\x20starFlow','Encerrando\x20a\x20API\x20por\x20solicitação\x20via\x20rota\x20/exit','https://api.openai.com/v1/audio/speech','The\x20group\x20id\x20needs\x20to\x20be\x20informed\x20in\x20the\x20query','getChatModelForOwner'];a0_0x47cd=function(){return _0x371bf3;};return a0_0x47cd();}function a0_0x3485(_0x4dc65c,_0x1b4a79){const _0x47cd01=a0_0x47cd();return a0_0x3485=function(_0x3485f5,_0x12d52b){_0x3485f5=_0x3485f5-0xcd;let _0x3c54bc=_0x47cd01[_0x3485f5];return _0x3c54bc;},a0_0x3485(_0x4dc65c,_0x1b4a79);}var ko=0x0;async function ir(){const _0x150012=a0_0x6d27f9;let _0x35a94d=await new ue(b[_0x150012(0x693)](_0x150012(0x5ff)))[_0x150012(0x6e4)]();return console[_0x150012(0x2ac)](_0x150012(0x106),_0x35a94d['length']),_0x35a94d[_0x150012(0x4b3)];}function rr(_0x4aef5a){const _0x50f4cf=a0_0x6d27f9;let _0x3900d7=_0x4aef5a[_0x50f4cf(0x693)](_0x50f4cf(0x617))[_0x50f4cf(0xeb)],_0x21e82c=_0x4aef5a[_0x50f4cf(0x693)](_0x50f4cf(0x713));console[_0x50f4cf(0x2ac)](_0x50f4cf(0x475),_0x3900d7),console[_0x50f4cf(0x2ac)](_0x50f4cf(0x442),_0x21e82c);let _0xebe718='',_0x1f7f47=_0x3900d7||'';if(_0x3900d7){let _0x9057a7=_0x3900d7['match'](/\/\/(.*?)\./);console[_0x50f4cf(0x2ac)]('Resultado\x20da\x20correspondência\x20de\x20URL:',_0x9057a7),_0x9057a7&&_0x9057a7[0x1]&&(_0xebe718=_0x9057a7[0x1],console[_0x50f4cf(0x2ac)](_0x50f4cf(0x157),_0xebe718));}if(!_0xebe718&&_0x21e82c&&_0x21e82c[_0x50f4cf(0x280)]){let _0x55b7e8=_0x21e82c[_0x50f4cf(0x280)][_0x50f4cf(0x48d)]('/');console['log'](_0x50f4cf(0x431),_0x55b7e8);let _0x25ae06=_0x55b7e8[_0x55b7e8['length']-0x2];if(console[_0x50f4cf(0x2ac)]('Parte\x20do\x20domínio\x20do\x20caminho\x20FULLCHAIN:',_0x25ae06),_0x25ae06){let _0x3ba3a4=_0x25ae06['split']('.');console[_0x50f4cf(0x2ac)](_0x50f4cf(0x5f8),_0x3ba3a4),_0x3ba3a4[_0x50f4cf(0x4b3)]>0x2&&(_0xebe718=_0x3ba3a4[0x0],console[_0x50f4cf(0x2ac)](_0x50f4cf(0x78c),_0xebe718),_0x1f7f47=''+_0x25ae06);}}return{'subdomain':_0xebe718||_0x50f4cf(0x436),'fullURL':_0x1f7f47||'URL\x20não\x20disponível'};}var {subdomain:z,fullURL:Vs}=rr(b);console['log'](a0_0x6d27f9(0x244),z),console[a0_0x6d27f9(0x2ac)](a0_0x6d27f9(0x177),Vs);async function nr(){const _0x4b9ca5=a0_0x6d27f9;let _0x1b342d=b['get']('REDIS'),_0x41ba85=b['get'](_0x4b9ca5(0x409))[_0x4b9ca5(0x5f4)][_0x4b9ca5(0x2d8)],_0x150383=b[_0x4b9ca5(0x693)]('SSL_CONF'),_0x964c3f=await qo(),_0x11650=b[_0x4b9ca5(0x693)]('SERVER')[_0x4b9ca5(0xdd)],_0x55411f=Vs;try{let _0x21ff0b={'ip':_0x964c3f||null,'redis_enable':_0x1b342d?.[_0x4b9ca5(0x43a)]||null,'apikey':_0x41ba85||null,'ssl':_0x150383?.['PRIVKEY']||null,'lastupdate':Vo||null,'port':_0x11650||null,'gitInstallError':ve?.['message']||null,'url':_0x55411f||null,'subdomain':z};if(console[_0x4b9ca5(0x2ac)]('ip:\x20',_0x21ff0b['ip']),_0x1b342d&&_0x1b342d[_0x4b9ca5(0x43a)]){let _0x35fb9c=await ir();_0x21ff0b[_0x4b9ca5(0x232)]=_0x35fb9c||null;}for(let _0x3f0d71 in _0x21ff0b)_0x21ff0b['hasOwnProperty'](_0x3f0d71)&&_0x3f0d71!=='ip'&&(_0x21ff0b[_0x3f0d71]=JSON[_0x4b9ca5(0x450)](_0x21ff0b[_0x3f0d71]));return(await Fe[_0x4b9ca5(0x49c)]['post'](_0x4b9ca5(0x147),_0x21ff0b))['data'];}catch(_0x31df9b){return console[_0x4b9ca5(0x782)](_0x31df9b),!0x1;}}var js=!0x1,Vo=0x252,cr=0x3,Lo=0x1b7740;async function qs(){const _0x2860ce=a0_0x6d27f9;let _0x10c597=_0x2860ce(0x3ee);ve===null&&(_0x10c597=await qo());let _0x15c5eb=await nr();if(_0x15c5eb){if(_0x15c5eb[_0x2860ce(0x5ed)][_0x2860ce(0x7ec)]===!0x0){ve===null&&_0x15c5eb[_0x2860ce(0x5ed)][_0x2860ce(0x22d)]-Vo>0x0&&await lr(),js||(js=!0x0,er());let _0x4c9997=0x24*0x3c*0x3c,_0x247cbf=_0x15c5eb[_0x2860ce(0x5ed)][_0x2860ce(0x271)]>_0x4c9997?_0x4c9997:_0x15c5eb[_0x2860ce(0x5ed)][_0x2860ce(0x271)],_0x4df4da=Number(_0x247cbf);if(isNaN(_0x4df4da)){console[_0x2860ce(0x782)](_0x2860ce(0xf2));return;}let _0x4ed377=Math['floor'](_0x4df4da/0xe10),_0x1f52b8=Math[_0x2860ce(0x570)](_0x4df4da%0xe10/0x3c),_0x4b71be=new Date(Date['now']()+_0x4df4da*0x3e8);setTimeout(qs,_0x4df4da*0x3e8);let _0x226467=_0x262963=>_0x262963[_0x2860ce(0x3f4)]()[_0x2860ce(0x109)](0x2,'0'),_0x5a5618=_0x2860ce(0x3e3)+_0x226467(_0x4ed377)+_0x2860ce(0x2fe)+_0x226467(_0x1f52b8)+_0x2860ce(0x630)+_0x226467(_0x4b71be['getHours']())+':'+_0x226467(_0x4b71be['getMinutes']())+'.';console[_0x2860ce(0x2ac)](_0x5a5618);}else return console['log'](_0x2860ce(0x4ca)),js&&(console[_0x2860ce(0x2ac)](_0x2860ce(0x7ef)),process[_0x2860ce(0x5d3)]()),_0x2860ce(0x496);}else{if(ko++,ko<cr)console[_0x2860ce(0x2ac)](_0x2860ce(0x1fd)+Lo/0xea60+_0x2860ce(0x20a)),setTimeout(qs,Lo);else return console[_0x2860ce(0x782)](_0x2860ce(0x66c)),_0x2860ce(0x63b);}}async function lr(){const _0x412188=a0_0x6d27f9;console['log'](_0x412188(0x4b8)),console[_0x412188(0x2ac)](_0x412188(0x544)),(0x0,is['spawn'])('pm2\x20flush',{'shell':!0x0})['on'](_0x412188(0x38d),_0x316277=>{const _0x3b6bb2=_0x412188;_0x316277!==0x0?console[_0x3b6bb2(0x782)](_0x3b6bb2(0x26a)):(console[_0x3b6bb2(0x2ac)](_0x3b6bb2(0x76c)),console[_0x3b6bb2(0x2ac)](_0x3b6bb2(0x3be)),(0x0,is[_0x3b6bb2(0x43c)])(_0x3b6bb2(0x6f4),{'shell':!0x0})['on'](_0x3b6bb2(0x38d),_0x4042bc=>{const _0x5c2f0f=_0x3b6bb2;if(_0x4042bc!==0x0)console[_0x5c2f0f(0x782)](_0x5c2f0f(0x40c));else{console[_0x5c2f0f(0x2ac)]('Arquivos\x20removidos\x20com\x20sucesso,\x20iniciando\x20atualização\x20do\x20git\x20e\x20npm\x20install.');let _0x4f91e8=(0x0,is[_0x5c2f0f(0x43c)])(_0x5c2f0f(0x6ec),{'shell':!0x0});_0x4f91e8[_0x5c2f0f(0x36e)]['on'](_0x5c2f0f(0x462),_0x42020a=>{const _0x175634=_0x5c2f0f;console[_0x175634(0x2ac)](_0x175634(0x200)+_0x42020a);}),_0x4f91e8[_0x5c2f0f(0x7f1)]['on']('data',_0x113c3a=>{const _0x5ccf6c=_0x5c2f0f;console[_0x5ccf6c(0x782)](_0x5ccf6c(0x2ae)+_0x113c3a);}),_0x4f91e8['on'](_0x5c2f0f(0x5d3),_0x4564a7=>{const _0x42d5d9=_0x5c2f0f;_0x4564a7!==0x0?console['error'](_0x42d5d9(0x71b)+_0x4564a7):console[_0x42d5d9(0x2ac)]('Sistema\x20atualizado\x20com\x20sucesso!'),console['log'](_0x42d5d9(0x469)),setTimeout(()=>process[_0x42d5d9(0x5d3)](),0x2710);});}}));});}0x0&&(module[a0_0x6d27f9(0x357)]={'fullURL':fullURL,'subdomain':subdomain});